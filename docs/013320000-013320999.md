# StackOverflow 问答 13320000-13320999

# ruby - RCov 与 JRuby

> ID：13320000
> 
> 赞同：2
> 
> 时间：2012-11-10T06:46:50.217
> 
> 标签：ruby, unit-testing, rspec, tdd, rcov

我有一个项目我想获得代码覆盖率。这只是一个不在 Rails 上的标准 JRuby 项目，我想知道如何让 RCov 工作。我已经尝试了很长时间才能得到结果，但我只是不知道发生了什么。我得到了一个要显示的覆盖文件夹，但是所有文件要么在需要时出现加载错误，要么加载的文件根本没有说它们已经过测试（我知道在一种情况下是胡扯，因为我制定了测试规范为了它）。谁能向我解释如何让 RCov 工作或为什么我收到附加错误？我不明白您应该如何/为什么要为包含的库执行 -I 或这样做的意义何在。从我到目前为止所做的事情来看，我只是*从我的主 appcode 目录运行 rcov spec/.rb 并生成我的覆盖文件夹和：*.rb /home/ben/.rvm/gems/jruby-1.6.8/gems/rcov-0.9.11-java/lib/rcov/differential_analyzer.rb:31 警告：跟踪（例如set_trace_func）不会捕获所有事件--debug flag NoMethodError: undefined method `describe' for main:Object (root) at ./spec/ncrf_spec.rb:3

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T13:30:18.310

[RCov](https://github.com/relevance/rcov)严格限于[Matz 的](http://www.ruby-lang.org/en/)Ruby (MRI) 1.8.x 参考实现，甚至不适用于 MRI 1.9.x。

SimpleCov 是一种新的方式，因为它使用新的[Ruby Coverage API](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/coverage/rdoc/Coverage.html)。JRuby 有一段时间不支持这个 API，或者至少在生产环境中不支持。[SimpleCov 的 bugtracker 上](https://github.com/colszowka/simplecov/issues/86)的原始问题没有明确说明它现在可以工作。但是，[他们在 JRuby 跟踪器中](https://jira.codehaus.org/browse/JRUBY-6106?focusedCommentId=307044#comment-307044)提出的有关此 Ruby Coverage API 无法正常工作的问题表明此问题现已解决。

我想你应该试试 JRuby 和 SimpleCov 的最新版本。

关于另一个话题：

Ruby 的`-I`标志将目录添加到`$LOAD_PATH`数组中，该数组定义了`.rb`当您尝试使用`require`. 从 Ruby 1.9.x 开始，只有当它们位于其中一个目录中时才能找到文件，`$LOAD_PATH`并且相对于 Ruby 进程的当前工作目录不再可以找到它们。

# php - php亚马逊类别层次结构

> ID：13320001
> 
> 赞同：2
> 
> 时间：2012-11-10T06:46:50.767
> 
> 标签：php, html, xml, amazon

我想要亚马逊网站的类别层次结构。我需要提取所有类别，子类别，子子类别，直到最低级别。

我使用[http://www.browsenodes.com/page-Advanced.html](http://www.browsenodes.com/page-Advanced.html)来获取类别列表。

它并不完全满意。是否有可能以 xml 或任何其他格式获取类别层次结构？

# java - 通过 Linux 服务器上的 java 访问时未检索到 Ldap 用户定义的属性

> ID：13320006
> 
> 赞同：2
> 
> 时间：2012-11-10T06:48:12.100
> 
> 标签：java, ldap, openldap

我正在使用“jldap”来访问和更新 java 中的 ldap 属性。

当我在 Windows 机器上的 Eclipse 中运行代码时，代码运行良好。

但是，当我在 linux 服务器上运行它时，它无法访问/读取每个 ldap 条目的“用户定义属性”。

我无法弄清楚为什么会这样。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T10:52:31.677

首次与目录服务器建立连接时，该连接没有（或匿名）授权状态。BIND 操作用于设置连接的授权状态。可能是测试某一部分的一种**授权状态与测试另一部分的授权状态不同**。

考虑使用已知良好的 LDAP 客户端`ldapsearch`来模拟和验证客户端，并提供相同的搜索参数`ldapsearch`来验证结果是否符合预期。

考虑对新代码使用[UnboundID LDAP SDK](http://www.unboundid.com/products/ldap-sdk/)而不是 JNDI。一般来说，JNDI 不应该用于新代码。

### 也可以看看

*   [LDAP：编程实践](http://www.ldapguru.info/ldap/ldap-programming-practices.html)

# git - kdiff: 合并成功

> ID：13320007
> 
> 赞同：1
> 
> 时间：2012-11-10T06:48:19.503
> 
> 标签：git, merge, git-merge, kdiff3

我正在尝试为 git 编写一个合并驱动程序，该驱动程序使用 kdiff3 进行合并和冲突解决。

我需要一种方法来知道 kdiff3 在合并中是否成功。

到目前为止，我有这个：

```
#!/bin/bash

Kdiff3 "${1}" "${2}" "${3}" -o "${1}" --L1 "Working Copy" --L2 "Nearest Common ancestor" --L3 "Version from Other Branch"

exit 1 
```

由于exit 1告诉git合并是否成功，我想根据kdiff3的成功来设置它。

有没有办法做到这一点，我完全错过了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T11:28:57.963

您可以通过检查输出是否已由 kdiff3 写入来判断自动合并是否有效，如[该线程中所述](http://sourceforge.net/p/kdiff3/discussion/197500/thread/96340f1c)

> 如果您没有明确指定输出文件（通过`-o`），那么第三个（最后一个）文件将是目标。
> 
> 合并后成功保存输出文件时，退出状态为 0。
> 如果您不保存就退出，则为 1。

这就是[这个脚本](http://negativesum.net/tech/log/using-kdiff3-with-svn/)正在测试的（这里作为一个例子），但是使用`diff3`：（
使用[kdiff3 命令行选项](http://kdiff3.sourceforge.net/doc/documentation.html#commandline)，你应该需要将`-auto`选项添加到你的命令行）

```
 echo "Attempting to auto-merge ${baseFileName}" 1>&2
    diff3 -L $labelMine -L $labelOlder -L $labelTheirs -Em $mine $older $theirs > $output
    if [ $? = 1 ]; then
        #Can't auto merge
        rm -f $output
        $VDIFF3 $older $mine $theirs --L1 $labelOlder --L2 $labelMine --L3 $labelTheirs -o $output --auto 1>&2
        bLoop=1
        if [ -f $output ]; then
            if [ -s $output ]; then
                #output succesfully written
                bLoop=0
            fi
        fi
        if [ $bLoop = 0 ]; then
            cat $output
            rm -f $output
            exit 0
        else
            echo "Merge failed, try again" 1>&2
        fi
    else
        #We can automerge, and we already did it
        cat $output
        rm -f $output
        exit 0
    fi
    ;; 
```

# javascript - 如果用户单击其他任何地方，引导模式会关闭..如何防止这种情况？

> ID：13320011
> 
> 赞同：44
> 
> 时间：2012-11-10T06:48:45.020
> 
> 标签：javascript, jquery, css, twitter-bootstrap

我正在使用 Twitter 的 Bootstrap 模式。

每当用户单击屏幕上除模态框外的任何其他位置时，都会关闭模态框。

有没有办法可以防止这种情况，所以用户必须单击关闭按钮来关闭模式？

最好的，

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2014-04-01T21:52:28.337

在大多数情况下，模态对话框不是使用 Javascript 构建的，而是使用标记，在这种情况下，只需在具有 class="modal fade" 的 div 中添加属性：data-backdrop="static"。

例子：

```
 <div class="modal fade" id="myModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> 
```

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2012-11-10T06:52:04.650

你可以通过这些选项：

```
{
  keyboard: false,
  backdrop: 'static'
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-08-15T15:46:15.080

在某些情况下，这种替代解决方案可能很有用。

```
$('#modalElement').on('hide.bs.modal', function () {
    return false;
}); 
```

# angularjs - 如何在 AngularJS 中编写去抖动服务

> ID：13320015
> 
> 赞同：49
> 
> 时间：2012-11-10T06:50:28.387
> 
> 标签：angularjs

underscore 库提供了一个 debounce 函数，可以防止在设定的时间段内多次调用一个函数。他们的版本使用了 setTimeout。

我们如何在纯 AngularJS 代码中做到这一点？

此外，我们是否可以使用 $q 风格的 promise 在去抖动期后从被调用函数中检索返回值？

* * *

## 回答 #1

> 赞同：93
> 
> 时间：2012-11-10T06:50:28.387

这是此类服务的一个工作示例：[http](http://plnkr.co/edit/fJwRER?p=preview) ://plnkr.co/edit/fJwRER?p=preview 。它创建了一个`$q`延迟对象，当最终调用去抖动函数时，该对象将被解析。

每次`debounce`调用该函数时，都会返回对内部函数的下一次调用的承诺。

```
// Create an AngularJS service called debounce
app.factory('debounce', ['$timeout','$q', function($timeout, $q) {
  // The service is actually this function, which we call with the func
  // that should be debounced and how long to wait in between calls
  return function debounce(func, wait, immediate) {
    var timeout;
    // Create a deferred object that will be resolved when we need to
    // actually call the func
    var deferred = $q.defer();
    return function() {
      var context = this, args = arguments;
      var later = function() {
        timeout = null;
        if(!immediate) {
          deferred.resolve(func.apply(context, args));
          deferred = $q.defer();
        }
      };
      var callNow = immediate && !timeout;
      if ( timeout ) {
        $timeout.cancel(timeout);
      }
      timeout = $timeout(later, wait);
      if (callNow) {
        deferred.resolve(func.apply(context,args));
        deferred = $q.defer();
      }
      return deferred.promise;
    };
  };
}]); 
```

您可以使用 promise 上的 then 方法从 debounced 函数中获取返回值。

```
$scope.addMsg = function(msg) {
    console.log('addMsg called with', msg);
    return msg;
};

$scope.addMsgDebounced = debounce($scope.addMsg, 2000, false);

$scope.logReturn = function(msg) {
    console.log('logReturn called with', msg);
    var promise = $scope.addMsgDebounced(msg);
    promise.then(function(msg) {
        console.log('Promise resolved with', msg);
    });
}; 
```

如果您`logReturn`快速连续多次拨打电话，您将看到`logReturn`通话记录一遍又一遍，但只`addMsg`记录一个通话。

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2014-09-30T16:27:28.140

## Angular 1.3 已将 debounce 作为标准

值得一提的是，Angular 1.3 内置了 debounce。如您所料，它是作为指令实现的。你可以这样做：

```
<input ng-model='address' ng-model-options="{ debounce: 500 }" /> 
```

$scope.address 属性直到最后一次击键后 500 毫秒才更新。

## 如果您需要更多控制

如果您想要更多粒度，您可以为不同的事件设置不同的反弹时间：

```
<input ng-model='person.address' ng-model-options="{ updateOn: 'default blur', debounce: {'default': 500, 'blur': 0} }" /> 
```

例如，我们对击键有 500 毫秒的去抖，而对于模糊则没有去抖。

## 文档

在此处阅读文档：[https ://docs.angularjs.org/api/ng/directive/ngModelOptions](https://docs.angularjs.org/api/ng/directive/ngModelOptions)

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2013-08-09T21:14:00.030

自从我写了上面的评论后，我对此有了一些改变。

简短的回答是，您不需要去抖动返回值的函数。

为什么？好吧，从哲学上讲，我认为对事件进行去抖动并且仅对事件进行去抖动更有意义。如果你有一个方法返回一个你想要去抖动的值，你应该去去抖动导致你的方法在下游运行的*事件。*

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2014-02-26T23:42:10.247

Pete BD 为 debounce 服务提供了一个良好的开端，但是，我发现了两个问题：

1.  如果您需要更改调用者的状态，则在您应该发送使用 javascript 闭包的 work() 回调时返回。
2.  超时变量 - 超时变量不是问题吗？超时[] 也许？想象一下使用 debounce 的 2 个指令 - 信号器，输入表单验证器，~~我相信工厂方法会崩溃。~~

我目前使用的是：

~~我将工厂更改为服务，因此每个指令都会获得一个新的去抖动实例，也就是超时变量的新实例。- 我还没有遇到过 1 个指令需要超时才能超时 [] 的情况。~~

```
.service('reactService', ['$timeout', '$q', function ($timeout, $q) {
    this.Debounce = function () {
        var timeout;

        this.Invoke = function (func, wait, immediate) {
            var context = this, args = arguments;
            var later = function () {
                timeout = null;
                if (!immediate) {
                    func.apply(context, args);
                }
            };
            var callNow = immediate && !timeout;
            if (timeout) {
                $timeout.cancel(timeout);
            }
            timeout = $timeout(later, wait);
            if (callNow) {
                func.apply(context, args);
            }
        };
        return this;
    }
}]); 
```

在我的 angularjs 远程验证器中

```
 .directive('remoteValidator', ['$http', 'reactService', function ($http, reactService) {
        return {
            require: 'ngModel',
            link: function (scope, elm, attrs, ctrl) {
                var newDebounce = new reactService.Debounce();

                var work = function(){
//....
                };

                elm.on('blur keyup change', function () {
                   newDebounce.Invoke(function(){ scope.$apply(work); }, 1000, false);
                });
            }
        };
    }]) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-03-21T09:13:28.937

去抖动服务和指令都有一个很好的实现，可以与任何 ng-model 一起工作：[https ://github.com/shahata/angular-debounce](https://github.com/shahata/angular-debounce)

或者简单地使用以下方式安装它：

```
bower install ng-debounce 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-10-25T09:58:17.893

[https://github.com/capaj/ng-tools/blob/master/src/debounce.js](https://github.com/capaj/ng-tools/blob/master/src/debounce.js)

用法：

```
app.directive('autosavable', function(debounce) {
    return {
        restrict : 'A',
        require : '?ngModel',
        link : function(scope, element, attrs, ngModel) {
            var debounced = debounce(function() {
                scope.$broadcast('autoSave');
            }, 5000, false);

            element.bind('keypress', function(e) {
                debounced();
            });
        }
    };
}); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-04-28T13:42:08.370

如果您正在处理模型交互，则对此的支持已在 angularjs#1.3.0.beta6 中得到支持。

[https://docs.angularjs.org/api/ng/directive/ngModelOptions](https://docs.angularjs.org/api/ng/directive/ngModelOptions)

# delphi - 如何在外部文件（或 TStream）中保留 TListView.Items（TListItems）？

> ID：13320018
> 
> 赞同：2
> 
> 时间：2012-11-10T06:51:50.507
> 
> 标签：delphi, persistence, vcl

它与...有关`TListItems.DefineProperties`...这是我的写作尝试：

```
 Stream := TFileStream.Create('ListView.dat', fmCreate);
  Writer := TWriter.Create(Stream, 4096);
  TListItemsHelper(ListView.Items).DefineProperties(Writer);
  Writer.Free;
  Stream.Free; 
```

...它显然有效，但阅读代码

```
 Stream := TFileStream.Create('ListView.dat', fmOpenRead or fmShareDenyWrite);
  Reader := TReader.Create(Stream, 4096);
  TListItemsHelper(ListView.Items).DefineProperties(Reader);
  Reader.Free;
  Stream.Free; 
```

... 不使用文件内容填充项目。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:05:52.403

```
procedure ListViewSaveToStream(aListView: TListView; Stream: TStream);
var
  i: integer;
  aItem: TListItem;
  n: longint;
  buffer: smallint;
  b: boolean;
  s: string;
begin
  Stream.Size := 0;
  n := aListView.Items.Count;
  Stream.Write(n, SizeOf(n));

  if n > 0 then
  begin
    if aListView.ItemFocused <> nil then
      n := aListView.ItemFocused.Index
    else
      n := -1;
    Stream.Write(n, SizeOf(n));

    for i := 0 to aListView.Items.Count - 1 do
    begin
      aItem := aListView.Items[i];

      s := aItem.Caption;
      buffer := Length(s);
      Stream.Write(buffer, SizeOf(buffer));
      if buffer > 0 then
        Stream.Write(s[1], buffer);

      s := aItem.SubItems.CommaText;
      n := Length(s);
      Stream.Write(n, SizeOf(n));
      if n > 0 then
        Stream.Write(s[1], n);

      b := aItem.Checked;
      Stream.Write(b, SizeOf(b));

      buffer := aItem.ImageIndex;
      Stream.Write(buffer, SizeOf(buffer));

      buffer := aItem.StateIndex;
      Stream.Write(buffer, SizeOf(buffer));

      buffer := aItem.OverlayIndex;
      Stream.Write(buffer, SizeOf(buffer));

      buffer := aItem.Indent;
      Stream.Write(buffer, SizeOf(buffer));

      n := integer(aItem.Data);
      Stream.Write(n, SizeOf(n));

      b := aItem.Selected;
      Stream.Write(b, SizeOf(b));

    end;
  end;
end;

procedure ListViewVLoadFromStream(aListView: TListView; Stream: TStream);

var
  i: integer;
  aItem: TListItem;
  cnt, n, ItemFocusedIndex: longint;
  buffer: smallint;
  b: boolean;
  s: string;
begin
  aListView.Items.BeginUpdate;
  try
    aListView.Items.Clear;

    Stream.Position := 0;

    Stream.Read(cnt, SizeOf(cnt));
    if cnt > 0 then
    begin
      aListView.AllocBy := cnt;

      Stream.Read(ItemFocusedIndex, SizeOf(ItemFocusedIndex));

      for i := 0 to cnt - 1 do
      begin
        aItem := aListView.Items.Add;

        Stream.Read(buffer, SizeOf(buffer));
        if buffer > 0 then
        begin
          SetLength(s, buffer);
          Stream.Read(s[1], buffer);
          aItem.Caption := s;
        end;

        Stream.Read(n, SizeOf(n));
        if n > 0 then
        begin
          SetLength(s, n);
          Stream.Read(s[1], n);
          aItem.SubItems.CommaText := s;
        end;

        Stream.Read(b, SizeOf(b));
        aItem.Checked := b;

        Stream.Read(buffer, SizeOf(buffer));
        aItem.ImageIndex := buffer;

        Stream.Read(buffer, SizeOf(buffer));
        aItem.StateIndex := buffer;

        Stream.Read(buffer, SizeOf(buffer));
        aItem.OverlayIndex := buffer;

        Stream.Read(buffer, SizeOf(buffer));
        aItem.Indent := buffer;

        Stream.Read(n, SizeOf(n));
        aItem.Data := TObject(n);

        Stream.Read(b, SizeOf(b));

      end;
    end;

  finally
    aListView.Items.EndUpdate;
  end;
end;

procedure LVSaveToFile(const Filename: string; aListView: TListView);
var
  FS: TFileStream;
begin
  FS := TFileStream.Create(Filename, fmCreate);
  try
    ListViewSaveToStream(aListView, FS);
  finally
    FS.Free;
  end;
end;

procedure ListViewLoadFromFile(const Filename: string; aListView: TListView);

var
  FS: TFileStream;
begin
  if FileExists(Filename) then
  begin
    FS := TFileStream.Create(Filename, fmOpenRead or fmShareDenyNone);
    try
      ListViewVLoadFromStream(aListView, FS);
    finally
      FS.Free;
    end;
  end;
end;

// Example...
procedure TForm3.Button1Click(Sender: TObject);
begin
  LVSaveToFile('C:\temp\test.sav', ListView1);
end;

procedure TForm3.Button2Click(Sender: TObject);
begin
  ListViewLoadFromFile('C:\temp\test.sav', ListView2);

end; 
```

# dojo - dojo.string 未定义

> ID：13320028
> 
> 赞同：1
> 
> 时间：2012-11-10T06:53:47.350
> 
> 标签：dojo

我正在阅读 DOJO 的权威指南。当我尝试执行时出现此错误：

```
dojo.string.pad("", 5); // "00000" 
```

这不适用于 Firebug 或单独的代码。[http://dojotoolkit.org/reference-guide/1.6/dojo/string.html](http://dojotoolkit.org/reference-guide/1.6/dojo/string.html)中提供的示例也给出了相同的错误。

有人可以指出我做错了什么。

谢谢马赫什。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T12:50:12.980

Dojo 被组织成更小的模块。在使用它们之前必须先加载它们，否则会出现如下错误： `dojo.string is undefined`results. `dojo.require()`加载一个模块：

```
dojo.require('dojo.string');
dojo.addOnLoad(function() {
    console.log(dojo.string.trim(dojo.byId("foo").innerHTML));
}); 
```

我已经修复了您在[此要点](https://gist.github.com/4050974)中链接到的 Dojo 1.6 示例。

Dojo：TDG在[极简应用程序工具示例](http://ofps.oreilly.com/titles/9780596516482/toolkit_overview.html#a_minimalist_application_harness_exa)和[使用模块管理源代码](http://ofps.oreilly.com/titles/9780596516482/language_and_browser_utilities.html#managing_source_code_with_modules)`dojo.require`中进行了更详细的解释

最后，您应该熟悉[Dojo AMD](http://dojotoolkit.org/documentation/tutorials/1.8/modules/)，它取代了 dojo.require。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T06:56:43.927

语法是准确的。您可能需要将 的返回值分配给`string.pad`其他变量。

```
var a = dojo.string.pad("0", 5); 
```

# php - wordpress插件中的jquery冲突

> ID：13320032
> 
> 赞同：0
> 
> 时间：2012-11-10T06:55:34.377
> 
> 标签：php, javascript, jquery, ajax, wordpress

我为 jquery 网站制作插件我使用谷歌 jquery 我正在使用代码

```
/*add_action( 'init', array( $this, 'include_jquery' ) );

function include_jquery(){

                   wp_deregister_script('jquery');
                   wp_register_script('jquery', ("http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"));
                   wp_enqueue_script('jquery');

            }*/ 
```

但它与我的头文件jquery的宽度冲突所以我要解决它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:08:48.060

只需在 head 标签之间将 jquery 添加到主题的 header.php 文件中

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T07:13:39.503

您将需要使用 jQuery 函数“noConflict”，它允许 jQuery 的多个版本/实例。

参考：[http ://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

编辑，尝试：

```
<script type='text/javascript'>
    jQuery.noConflict();
</script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script> 
```

# html - 如何对下拉菜单单击进行操作？

> ID：13320033
> 
> 赞同：1
> 
> 时间：2012-11-10T06:55:52.213
> 
> 标签：html, css, drop-down-menu

我有一个简单的下拉菜单，如下所示：

```
<select name="category[]" id="category" class="icon-menu">
  <option value="all">All</option>
  <option value="misc">misc</option>
  <option value="travel">travel</option>
  <option value="weather">weather</option>
  <option value="shopping">shopping</option>
  <option value="restaurant">restaurant</option>
  <option value="food">food</option>
  <option value="kitchen">kitchen</option>
  ... 
```

还有一些css在每个选项的背景中制作图片。但是我经常在其他网站上看到，当您单击下拉菜单中的一个选项时，就会完成一项操作。就像单击选项时提交的表单一样。但我的你必须点击选项然后点击提交。

我以为这将是一个简单的改变，但我找不到答案......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:02:07.833

您必须将 onchange 事件绑定到 javascript 函数，即

```
<select id="category" class="icon-menu" onchange="myFunction()"></select> 
```

...并在您的 javascript 文件中

```
function myFunction()
{
   document.forms[0].submit();
} 
```

# html - 在两个特定的 s 之间添加空格

> ID：13320036
> 
> 赞同：10
> 
> 时间：2012-11-10T06:56:35.047
> 
> 标签：html, css, html-table

我有一张桌子

```
<tr>
   <td>One</td>
   <td>Two</td>
   <td>Three</td>
   <td>Four</td>
</tr> 
```

如何单独在`<td>`“*二*”和“*三”之间添加一些空格？*

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-11-10T06:59:36.510

最简单的方法：

```
td:nth-child(2) {
    padding-right: 20px;
}​ 
```

但如果您需要使用表格中的背景颜色或图像，这将不起作用。在这种情况下，这里有一个稍微高级一点的解决方案（CSS3）：

```
td:nth-child(2) {
    border-right: 10px solid transparent;
    -webkit-background-clip: padding;
    -moz-background-clip: padding;
    background-clip: padding-box;
} 
```

它将透明边框放置在单元格的右侧，并将背景颜色/图像拉离边框，从而产生单元格之间间距的错觉。

*注意：为此，父表必须具有`border-collapse: separate`. 如果您必须使用，`border-collapse: collapse`那么您必须将相同的边框样式应用于下一个表格单元格，但在左侧，以实现相同的结果。*

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-10T07:01:43.517

简单的回答：给这两个 tds 一个样式字段。

```
<tr>
<td>One</td>
<td style="padding-right: 10px">Two</td>
<td>Three</td>
<td>Four</td>
</tr> 
```

整洁一：使用类名

```
<tr>
<td>One</td>
<td class="more-padding-on-right">Two</td>
<td>Three</td>
<td>Four</td>
</tr>

.more-padding-on-right {
  padding-right: 10px;
} 
```

复杂一：在 CSS 中使用 nth-child 选择器并为这两个指定特殊的填充值，这适用于现代浏览器。

```
tr td:nth-child(2) {
  padding-right: 10px;
}​ 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-11-10T09:41:06.573

你必须设置 cellpadding 和 cellspacing 就是这样。

```
<table cellpadding="5" cellspacing="5">
<tr> 
<td>One</td> 
<td>Two</td> 
<td>Three</td> 
<td>Four</td> 
</tr>
</table> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-10T07:01:16.103

试试这个[**演示**](http://jsfiddle.net/SQQzw/)

HTML

```
<table>
    <tr>
        <td>One</td>
        <td>Two</td>
        <td>Three</td>
        <td>Four</td>
    </tr>
</table> 
```

CSS

```
td:nth-of-type(2) {
   padding-right: 10px;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-09-04T09:29:21.653

没有一个答案对我有用。最简单的方法是在页面的背景颜色和或任何页面的背景颜色`<td>`之间添加 s 。`width = 5px``background='white'`

如果您有`<th>`代表表头的 s 列表，这将再次失败。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-08-07T12:30:05.753

my choice was to add a `td` between the two `td` tags and set the `width` to `25px`. It can be more or less to your liking. This may be cheesy but it is simple and it works.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-02-27T06:15:06.460

td:nth-of-type(n) { padding-right: 10px;}

它将调整所有 td 之间的自动空间

# java - 在 SQLite 中存储数组列表的数组列表

> ID：13320037
> 
> 赞同：0
> 
> 时间：2012-11-10T06:56:35.223
> 
> 标签：java, android, xml, sqlite

我是 Android 开发的新手，我正在开发一个备忘录/笔记应用程序，它允许用户包含主题标签，然后通过所述主题标签浏览保存的笔记。

我已经有一个笔记应用程序在工作，它只将笔记保存在 SQLite 数据库中，但我计划通过在我的每个笔记对象中包含一个主题标签数组列表来存储主题标签（它们已经存储在一个数组列表中）......

我的问题是，我将如何将这些数组列表的数组列表（注意标签数组列表的数组列表）存储到 SQLite 数据库中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:22:14.830

假设您有一个用于注释的 sql 表，您应该创建另一个表来存储主题标签。您可以通过保留一列来存储主题标签所属的注释 ID，将每个主题标签链接到它的注释。结构基本上应该是这样的：

备注表：

```
note_id | note 
```

标签表：

```
hashtag_id | hashtag | note_id 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T07:24:33.840

这是一种简单的技术：只需将所有主题标签存储为单个字符串。

例如，假设一个笔记有 4 个标签 -`#study, #homework, #school, #math`

因此，您只需将它们存储为单个字符串，例如：

```
String hastags="study#homework#school#math" 
```

现在将此字符串存储在 sqlite 数据库中作为`hastag`每个注释对象的列。

Java 允许您轻松解析字符串，因此当您检索笔记时，您可以获取它的`hashtag`列并根据分隔字符（在本例中为“#”）将其分隔为一个字符串数组（每个主题标签包含一个字符串元素），例如所以：

```
String hastags[]= hashtagStringFromDB.split("#"); 
```

现在，您在单个字符串数组中拥有该笔记对象的所有主题标签，您可以轻松使用`hashtag[0], hashtag[1]...etc`

**另一种选择**是创建另一个`hashtags`表。每个主题标签都使用唯一标识符（外键）进入此表，以将其链接到`notes`表中的注释。因此，您可以使用特定笔记的 查询此表，`note_id`它将返回属于该笔记的所有主题标签。

# arm - 将项目从 TrueSTUDIO 切换到 CrossWorks 时 memcpy 出现硬故障

> ID：13320039
> 
> 赞同：0
> 
> 时间：2012-11-10T06:56:55.753
> 
> 标签：arm, stm32, lwip, stm32f4discovery

我不幸被要求使用 CrossWorks 为 STM32F4 开发板进行开发，而我遇到了一个只有在使用 CrossWorks 构建和运行项目时才会出现的问题。

我正在使用 LwIP 创建一个 UDP 服务器，当我使用 TrueSTUDIO 时它工作得很好。但是，当我在 CrossWorks 下运行它时，ethernetif_input() 中出现了一个硬故障，它在数据包准备好读取时调用。它失败的具体点是它在数据包缓冲区之间移动数据包信息时调用 memcpy() 。

我不知道发生了什么变化——它是完全相同的代码，为相同的目标而构建，但它在 CrossWorks 中中断了。我希望有人能深入了解这个问题的任何部分……如果您对此有任何想法，那就太好了。

谢谢，如果您需要我的任何详细信息，请告诉我！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T03:09:58.500

事实证明，CrossWorks 自动将堆和堆栈大小设置得太小。默认值为 128 字节，我的程序超出了它，导致了硬故障。我把它撞了，我们都很好。

# list - 如何从依赖元素简洁地构建一个 Scala 列表？

> ID：13320040
> 
> 赞同：1
> 
> 时间：2012-11-10T06:57:03.653
> 
> 标签：list, parsing, function, scala, recursion

我想构建一个对象，每个对象都是通过从最后一个完成的位置开始读取一个字节数组来构建`List`的。鉴于构建时唯一需要的状态是到目前为止的内容和读取的字节数，我正在考虑通过重复应用一个将较小的函数转换为较大的函数来做到这一点。在每个步骤中，当前都作为参数传递（可能是到目前为止读取的字节数以避免为此重新解析）并返回附加元素。由于这似乎是一种非常简单的构建方法，因此我很感兴趣，但未能成功找到可用于此的库函数。以下是我正在尝试做的必要示例，我想在`Foo``Foo``List``List``List``bytesToList`无状态更简洁：

```
def bytesToList(bytes: Array[Byte]): List[Foo] =
{
  var numBytesRead = 0
  var listToBuild = List[Foo]()
  while (numBytesRead < bytes.length)
  {
    listToBuild ::= new Foo(bytes, numBytesRead)
    numBytesRead += listToBuild.last.bytesRead
  }
  listToBuild
}

class Foo(bytesToRead: Array[Byte], startReadingAt: Int)
{val bytesRead = Random.nextInt(bytesToRead.length)} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T10:19:31.150

我的又快又脏？解决方案在这里：

```
//some random source for bytes
def bytes(count: Int): Stream[Byte] = {
    var byteArray: Array[Byte] = new Array(count)
    Random.nextBytes(byteArray)
    (for {i <- (0 to count-1) } yield byteArray(i)).toStream
} 

class Foo(b1: Byte, b2: Byte, pb: (Byte, Byte)) {
    def this(bytes4foo: Array[Byte]) = this( bytes4foo(0), bytes4foo(1), (bytes4foo(2), bytes4foo(3)) )
    def sizeOf: Int = 4
    override def toString = "Foo("+b1+", "+b2+", "+pb+")"
}

def bytesToList(source: Stream[Byte]): List[Foo] = {
  val afoo = new Foo(0,0,(0,0)) // ~ static Foo.sizeOf
  def moreFoo(next: Stream[Byte]): List[Foo] = {
    if (next == Stream.Empty) Nil
    else new Foo(source.take(afoo.sizeOf).toArray) :: bytesToList(source.drop(afoo.sizeOf))
  }
  moreFoo(source)
} 
```

测试它：

```
bytesToList(bytes(20)) mkString "\n"    
//> res1: String = Foo(-73, 63, (-14,107))
               //| Foo(-61, 105, (-124,-44))
               //| Foo(117, 79, (-79,-17))
               //| Foo(-84, -116, (13,-3))
               //| Foo(93, -110, (30,36)) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-10T10:38:16.530

如果您不能事先拆分数组，则需要使用显式递归，例如：

```
def bytesToList(bytes: Array[Byte], n: Int = 0): List[Foo] = 
  if (n >= bytes.length) Nil
  else {
    val foo = new Foo(bytes, n) 
    foo :: bytesToList(bytes, n + foo.bytesRead)
  } 
```

我不知道你期望 Foos 有多少，但如果它超过一千个左右，最好使这个尾递归以避免炸毁堆栈（提示：为输出添加一个额外的参数，默认值`Nil`）。

# php - 如何保护 wp-content 文件夹？

> ID：13320051
> 
> 赞同：2
> 
> 时间：2012-11-10T06:58:55.347
> 
> 标签：php, wordpress, security

我不希望用户浏览和访问不需要的/其他数据。所以，我想对用户隐藏文件。任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:03:23.783

需要公开该路径以供人们查看您的网站。

您可以在 wp-content 目录中放置一个空白 index.html 文件，但这不会改变您的站点需要可访问该目录才能显示的事实。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:13:39.397

这将为您提供有关如何保护 /wp-content 和强化 Wordpress 安装的所有信息。[https://wordpress.org/support/topic/how-the-hell-do-i-secure-wp-includes-and-wp-content](https://wordpress.org/support/topic/how-the-hell-do-i-secure-wp-includes-and-wp-content)

# facebook - 如何从 Facebook 获取所有帖子数据？

> ID：13320056
> 
> 赞同：0
> 
> 时间：2012-11-10T07:00:02.877
> 
> 标签：facebook, api, facebook-graph-api

我正在使用 FB API 和一些我想讨论的问题，

1) Facebook API 准确地提取了例如 12 条评论的数量，但是在提取例如“智能编写，我同意你的观点”的评论时，它可能只会从这 12 条评论中提取 10 条，是否有可能准确地提取这 12 条评论（帖子数量和帖子内容相同）。

2）提要的拉取仅限于有限数量的帖子，是否可以拉回追溯提要 - 例如设置拉取历史提要的回溯日期（或者如果有另一种方法可以拉出当前日期之前的提要)

感谢数码科技

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:25:19.743

您可以通过获取路径从帖子中提取所有评论（在本例中为 12）

```
/postID####/comments?limit=12 
```

同样，您可以通过设置限制和/或时间范围从提要中获取更多帖子

`/me/feed?limit=50`

或者

`/me/feed?limit=50&since=1351561400`

或者

`/me/feed?limit=50&until=1352309353`

您可以将限制设置为您想要的任何内容以及直到某个时间点或从某个时间点开始的时间（以 Unix 时间衡量）。

您可以使用[Graph API Explorer](https://developers.facebook.com/tools/explorer "图形 API 资源管理器")上的所有选项。

# .net - 分布式软件架构 - 通信分页

> ID：13320057
> 
> 赞同：1
> 
> 时间：2012-11-10T07:00:11.610
> 
> 标签：.net, wcf, memory, memory-management, communication

实际上我不知道 SO 是否是正确的地方，但我不知道有这么多专业开发人员的另一个地方。

我听说，在开发分布式应用程序时，为大对象实现“通信分页”很重要，以便让 .NET 更有效地管理内存，因为 .NET 首先从内存中清除小（~80KB）对象和大对象（> ~80KB) 在内存中留下更多时间。

我的意思是......假设我有一个名为“Context”的客户端对象和一个名为“Provider”的服务器对象。客户端和服务器之间的通信使用 WCF TCP 绑定和二进制序列化实现。现在，Context 向 Server 发出请求以检索复杂对象的列表。该列表的内存大小约为 300KB 或更多，并且服务器每秒可能会为该列表的不同实例获取许多请求。因此，根据我所听到的，这意味着我需要将请求拆分为 (X / 80KB) 请求，以便处理小型 (~80KB) 对象。

在实践中，我所在公司的 CTO 希望我在 Context 和 Provider 中实现该通信分页的逻辑。意味着，在 Context 中创建循环，向 Provider 发出 X 请求，其中包含有关已接收数据的信息，并在 Provider 中创建逻辑，它将以块的形式发送列表。

对我来说这听起来很奇怪......因为无论如何，大型对象已经在服务器的内存中，并且发出更多请求会使用更多的 CPU、网络和额外的内存来管理所有的通信。

有人可以解释我如何处理这个有趣的案例，或者我可以在哪里阅读有关在 WCF 中传输大对象的信息？

谢谢

# javascript - 如何在第 n 个之后删除元素并添加新元素 在一个 列表？

> ID：13320066
> 
> 赞同：0
> 
> 时间：2012-11-10T07:02:13.770
> 
> 标签：javascript, jquery

我有以下 HTML：

```
<ul style="margin-bottom: 0;" id="stats-results" class="message">
   <li>DS1 Records: <span id="ds1Count"></span></li>
   <li>DEV Records: <span id="devCount"></span></li>
   <li>Added: <span id="Added"></span></li>
   <li>Rejected: <span id="Rejected"></span></li>
   <li>Updated: <span id="Updated"></span></li>
   <li>xxx</li>
</ul> 
```

如何删除`<li>`5th 之后存在的任何元素`<li>`？

我也有这个代码：

```
$.each(data.Events, function (i, item) {
    $("#stats-list").append('<li>' + item.Description + ' : ' + item.Elapsed + ' ms</li>');
}); 
```

有没有办法我可以改变它，以便它在 5 号之后附加`<li>`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T07:04:07.883

第1部分

```
$('#stats-results li:gt(4)').remove(); 
```

第2部分

要在第 5 个元素之后连续添加列表中的每个元素，基本上颠倒您添加的元素的顺序，您可以执行以下操作：

```
$.each(data.Events, function (i, item) {
    $("#stats-list li:eq(4)").after('<li>' + item.Description + ' : ' + item.Elapsed + ' ms</li>');
}); 
```

或者，要保留要添加的元素的顺序，但从第 5 个索引开始：

```
$.each(data.Events, function (i, item) {
    $("#stats-list li:eq("+(4+i)+")").after('<li>' + item.Description + ' : ' + item.Elapsed + ' ms</li>');
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T07:03:57.390

您可以使用`nextAll`：

```
$('#stats-results li:eq(4)').nextAll().remove(); 
```

和`after`方法：

```
var html = '';
$.each(data.Events, function (i, item) {
    html += '<li>' + item.Description + ' : ' + item.Elapsed + ' ms</li>';
});
$("#stats-list li:eq(4)").after(html) 
```

# c++ - 编辑框的最后一个字符位置

> ID：13320067
> 
> 赞同：0
> 
> 时间：2012-11-10T07:03:19.543
> 
> 标签：c++, winapi, textbox

有没有办法获得编辑框的最后一个字符位置？我的意思是我需要实现一个函数来将一些文本附加到它的末尾。

我研究了可以通过编辑控件发送或接收的消息。但问题是没有办法直接做到这一点。

- 选择： -

我认为的替代方法是在收到 EM_CHANGE 时记录当前位置的当前文本位置，如果它大于当前最大位置，则更新最大位置整数。

```
int edit_box_last_pos = 0;

case WM_COMMAND:
  switch (HIWORD(wParam))   
  {
    case EN_CHANGE:
        // get the current character position //
        if (LOWORD(SendMessage(error_window_edit,EM_GETSEL,(WPARAM)NULL,(LPARAM)NULL)) > max_char_pos )
        {
          max_char_pos =LOWORD(SendMessage(error_window_edit,EM_GETSEL,(LPARAM)NULL,(WPARAM)NULL));
        }

        return 0;
        break;
    default:
    break;  
  } 
```

但不是这个，有没有办法直接做到这一点？

- 提前致谢 -

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T07:06:14.653

我想这就是你要找的。

```
length = SendMessage(error_window_edit, WM_GETTEXTLENGTH, 0, 0); 
```

看[这里](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms632628%28v=vs.85%29.aspx)

# drupal - Drupal 7 - 使用视图在每个节点的相应地图中显示每个节点的 KML

> ID：13320078
> 
> 赞同：0
> 
> 时间：2012-11-10T07:04:51.340
> 
> 标签：drupal, drupal-7, openlayers, kml

我一直在使用 Openlayers 和 geofield 来尝试在上面显示自定义数据层（KML 多边形）。首先，尽管尝试了很多可能，但我还没有成功。我还意识到几乎到处讨论的视图方法都会在“新”页面或“新”块上显示自定义地图。但我想要的是在每个节点上显示带有 KML 数据层的地图。

在第一种情况下使用 Views (Data layer) + Openlayer + geofield 有可能吗？

如果是这样，我如何配置显示在每个节点中的 geofield 的地图？

我什至在 Drupal 论坛上问过同样的问题，但还没有得到任何答复： http: [//drupal.org/node/1832006](http://drupal.org/node/1832006)

非常感谢您的任何建议和帮助，

拉吉·帕万

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-02T21:09:28.133

我发现此页面对您尝试做的事情非常有帮助： [http ://www.syntux.nl/blog/basic-setup-drupal-7-openlayers-geofield-views-3.html](http://www.syntux.nl/blog/basic-setup-drupal-7-openlayers-geofield-views-3.html)

# jquery-ui - jQuery UI - 在 Sortable 中，我们如何控制元素移动到 x 和 y 轴（两者）？

> ID：13320081
> 
> 赞同：0
> 
> 时间：2012-11-10T07:05:36.077
> 
> 标签：jquery-ui, jquery, jquery-plugins, jquery-selectors

```
<html>
<body>
<div class='main'>
   <div class='sub'>Item 1</div>
   <div class='sub'>Item 2</div>
   <div class='sub'>Item 3</div>
   <div class='sub'>Item 4</div>
</div>

<script type='javascript'>
$('.main').sortable(
{
   //some code
});
</script>
</body>
</html> 
```

在这里，我可以像自由绘画一样在 main 内部或外部的任何位置移动元素（子），但我只想控制 x 和 y 轴（两者）的元素移动。请帮我.....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:08:15.400

可能你正在寻找[收容措施](http://api.jqueryui.com/sortable/#option-containment)

**来自文档**

它定义了一个边界框，可排序项目在拖动时被约束。

# ruby-on-rails - 集合选择在第一个位置返回空值

> ID：13320088
> 
> 赞同：0
> 
> 时间：2012-11-10T07:08:10.000
> 
> 标签：ruby-on-rails, forms, multi-select

我只是想让一个允许选择多个值的列表框工作。它正确地传递了一组用户 ID，但传递的第一个参数为空。我在源表中没有任何空值，所以我很困惑这是从哪里来的。我可能在做一些基本的错误，所以非常感谢任何帮助。

来自日志文件：

```
Parameters: {"utf8"=>"✓", "authenticity_token"=>"0Ia2kGYj1qidP6saEOfAjywDQkbds+cbFBzJ1H3UyRE=", "user_ids"=>["", "3", "4"], "commit"=>"Add Users to Group", "id"=>"create_multiple"}
  `[1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`user_id` IN (0, 3, 4)` 
```

视图代码：

```
<%= form_for :user, :url => create_multiple_user_roles_path, :html => { :method => :put } do |f| %>
  <p>
    <%= collection_select(:user, :user_ids, @users, :id, :last_name,
      { :selected => :user_ids },
    {:multiple => true, :name => 'user_ids[]', :size => 10, :include_blank => false }  ) %>
  </p>
  <%= submit_tag "Add Users to Group" %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:40:26.150

将 :include_blank 放在第一个哈希中，如下所示

```
 <%= collection_select(:user, :user_ids, @users, :id, :last_name,
  { :selected => :user_ids,:include_blank => false },
{:multiple => true, :name => 'user_ids[]', :size => 10}  ) %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:25:43.393

你已经添加了**:included_blank => false**，如果它是假的，那么我认为你不需要它。请删除它并再次检查。我希望它能解决你的问题。

# android - 具有过渡效果的图像到视频转换

> ID：13320090
> 
> 赞同：11
> 
> 时间：2012-11-10T07:08:16.187
> 
> 标签：android, video, android-ndk, ffmpeg, transition

我成功地将一系列图像转换为引用链接[https://github.com/guardianproject/SSCVideoProto](https://github.com/guardianproject/SSCVideoProto)的视频。

但现在我的要求是把一些过渡效果，如淡入/淡出，随着每张图像的变化在视频中显示。

是否可以使用 FFMPEG 或者我应该使用其他东西？

请参阅 [ffmpeg 将一系列图像转换为视频 - 每两帧之间有淡入淡出或任何其他过渡](https://stackoverflow.com/q/29845019/1479511)

更多细节。

请指导我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:22:29.617

在**res**文件夹中创建一个**anim**文件夹。在那里生成 2 个名为淡入和淡出的 xml 文件，其中包含以下内容。

 ****淡入淡出.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<alpha xmlns:android="http://schemas.android.com/apk/res/android"
    android:interpolator="@android:anim/accelerate_interpolator"
    android:fromAlpha="0.0"
    android:toAlpha="1.0"
    android:duration="1000" /> 
```

**淡出.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<alpha xmlns:android="http://schemas.android.com/apk/res/android"
    android:interpolator="@android:anim/decelerate_interpolator"
    android:zAdjustment="top"
    android:fromAlpha="1.0"
    android:toAlpha="0.0"
    android:duration="1000" /> 
```

**然后打开要在其中使用动画淡入和淡出的java文件，并将以下代码放入run方法中**

```
public void run() {
                /* Create an intent that will start the main activity. */
                        Intent mainIntent = new Intent(javafile.this,
                        etcetc.class);
                        javafile.this.startActivity(mainIntent);

                /* Apply our splash exit (fade out) and main
                   entry (fade in) animation transitions. */
                overridePendingTransition(R.anim.fadein,
                        R.anim.fadeout);
        } 
```**

# java - 套接字是用 Java 开发在线多人游戏的最有利方式吗？

> ID：13320094
> 
> 赞同：0
> 
> 时间：2012-11-10T07:08:55.833
> 
> 标签：java, sockets, multiplayer, online-game

我正在用java开发在线多人游戏。它将是一个可执行的 jar 文件。它是一个单服务器多客户端应用程序。服务器应该能够向客户端广播、多播和单播的地方。实现相同的最佳解决方案是什么。考虑到安全性是套接字最好的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T07:41:12.280

If it's a game that is going on in realtime, then yes.

Alternatively, you could use JSON requests or similar to a webserver for less time critical data. Some games (such as some turnbased ones) base the client/server communication entirely on JSON requests.

A combination of the two is ofcourse possible, and might help shift some load away from your main server application.

For non-realtime stuff, i'm personally a big fan of running a lightweight webserver on some non-standard port (anything above 1024) dedicated to non-web stuff, such as games or other clientside applications pulling stuff out of CGI scripts via GET/POST requests. It's ugly, but it works fine, and it saves me a lot of hassle. The user doesn't really notice a difference.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:09:59.640

如果您关心实时（快速）乘法，那么是的。

# php - PHP中注销的正确方法是什么？

> ID：13320101
> 
> 赞同：-2
> 
> 时间：2012-11-10T07:10:23.583
> 
> 标签：php

> **可能重复：**
> [从 PHP 中的会话注销的正确方法](https://stackoverflow.com/questions/3512507/proper-way-to-logout-from-a-session-in-php)

我正在使用 session_destroy 进行注销。Bt 它会破坏所有会话，所以我发现未设置特定会话。正确的方法是什么？session_destroy() 或 unset(particularsession) 用于注销？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:13:44.463

最好的方法是使用 session_destroy() 在 php 代码末尾销毁会话

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:37:31.387

I use this piece of code to log somebody out:

```
<?php
    $_SESSION = array();
    session_destroy();
    unset($_SESSION);
    header('Location: '.ROOT_HREF.');
    die();
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T07:19:58.003

这取决于您的应用程序，如果您想销毁所有 php 会话，请使用`session_destroy()`. 如果要销毁特定会话，请使用`unset($_SESSION['name_here'])`.

当然，有时您可能不想销毁所有会话变量，因为它们不仅用于登录和注销。为此，您将使用`unset($_SESSION['name_here`])`.

# php - 来自for循环的多个mysql查询

> ID：13320102
> 
> 赞同：3
> 
> 时间：2012-11-10T07:10:23.850
> 
> 标签：php, mysql, arrays, loops

希望有人可以帮助解决这个让我疯狂多年的问题。我对 mysql/php 很陌生。

我有一个数组 [$Booklist]，它由一系列数字组成，这些数字引用 Books 表中的 BookID。然后我查询数据库以获取与每个 ID 关联的详细信息：

```
for($s=0;$s<$smax+1;$s++){
  $sql="SELECT * FROM Books WHERE BookID = '$Booklist[$s]' ";
  $result=mysql_query($sql) or exit();

  while($row = mysql_fetch_array($result))
   {
    $Title[$s]=$row['Title'];
    $Author[$s]=$row['Author'];
    $Publisher[$s]=$row['Publisher'];
    $Year[$s]=$row['Year'];
  }
} 
```

这工作正常。但我从不喜欢从 php for 循环中运行多个查询。

重要的是，$Booklist 数组中允许重复的 BookID。并且必须保留 $Booklist 数组中 ID 的顺序（包含重复项），以便 $Title 和 $Author 数组的内容具有正确的顺序，包括重复项。希望这是有道理的！

我试过这样做：

```
$sql="SELECT * FROM Books WHERE BookID IN ('".join("','", $Booklist)."') 
ORDER BY FIELD(BookID, '".join("','", $Booklist)."')";
$s=0;
  while($row = mysql_fetch_array($result))
   {
    $Title[$s]=$row['Title'];
    $Author[$s]=$row['Author'];
    $Publisher[$s]=$row['Publisher'];
    $Year[$s]=$row['Year'];
    $s++;
  } 
```

但这意味着 $Booklist 中的任何重复项都没有反映在 $Title、$Author 等中，所以我将其废弃。

我的问题是——对于 for 循环中的 mysql 查询是否有更好的解决方案？或者，从 for 循环运行多个 mysql 查询是否有问题？？？- 坚持下去更简单吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:34:19.307

我认为您需要的是以下内容。它执行单个查询，然后在使用`$booklist`订单变量时根据查询返回的数据创建 4 个数组：

```
$sql = "SELECT * FROM Books WHERE BookID IN ('".join("','", array_map('mysqli_real_escape_string',$Booklist))."')";
$result = mysqli_query($sql) or exit();
$rows   = array();
while ($row = mysqli_fetch_array($result)) {
    $rows[$row['BookId']] = $row;
}

$i = 0;
foreach ($Booklist as $bookId) {
    if (isset($rows[$bookId])) {
        $Title[$i]     = $rows[$bookId]['Title'];
        $Author[$i]    = $rows[$bookId]['Author'];
        $Publisher[$i] = $rows[$bookId]['Publisher'];
        $Year[$i]      = $rows[$bookId]['Year'];
        $i++;
    }
} 
```

另请注意，我添加了 mysqli_real_escape_string 以防止 sql 注入

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T07:20:36.873

我不确定我是否知道问题出在您的代码上，但这对您有用吗？我只是将检索到的书籍放在一个数组中。重复的书应该都在那里。

```
$books = array();
$sql="SELECT * FROM Books WHERE BookID IN ('".join("','", $Booklist)."')";
while($row = mysqli_fetch_array($result)){
    $books[] = $row;
} 
```

# java - 入口集上的通用迭代器

> ID：13320105
> 
> 赞同：6
> 
> 时间：2012-11-10T07:11:43.330
> 
> 标签：java, generics

```
static <V> void myMethod(Map<?, V> map)
{
 Iterator<Entry<?, V>> it = map.entrySet().iterator();
} 
```

我看到以下编译错误：
类型不匹配：无法转换`Iterator<Map.Entry<capture#5-of ?,V>>`为`Iterator<Map.Entry<?,V>>`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-10T07:14:46.083

尝试

```
Iterator<? extends Entry<?, V>> it = map.entrySet().iterator(); 
```

您的尝试不起作用的原因有点难以看出，特别是因为`Iterator<T>`它不消耗任何`T`东西（即它没有将 a`T`作为参数的方法）。

您无法将 an 分配给`Iterator<Entry<capture#5-of ?,V>>`an`Iterator<Entry<?, V>>`的原因与您无法将 an 分配给 an 的原因`Iterator<Entry<Integer, String>>`相同`Iterator<Entry<?, V>>`。这`capture#5`只是一个名称，用于将`?`方法参数中的特定内容与其他不同的通配符实例区分开来。它可以很容易地成为一个具体的类型。

如果不是`Iterator`您想到像`List`.

```
List<Entry<Integer, String>> entries = new ArrayList<>();

//this is a compile error, but assume it is possible
List<Entry<?, String>> wildcardEntries = entries; 

//then since this is already possible
wilcardEntries.add(new Entry<String, String>("a", "b"));
Entry<Integer, String> entry1 = entries.get(0);

//this would result in a type error (ClassCastException)
Integer i = entry1.getKey(); 
```

通过使用`? extends Entry<?, V>`，您不会暴露自己，因为您不声称知道`Entry`您`Iterator`可以消费的类型，只知道它可以生产什么。

## 编辑

尽管 Jiman 删除了他的答案，但他有一个很好的观点，即使用 for-each 循环是一种更简洁的方法（假设您只是试图遍历条目），可以完全避免这个问题。这应该有效：

```
for ( Entry<?, V> entry : map.entrySet() ) {
   //...
} 
```

# android - SyncAdapter 仅对多个 requestSync() 调用使用最新的附加功能

> ID：13320107
> 
> 赞同：4
> 
> 时间：2012-11-10T07:12:21.617
> 
> 标签：android, android-syncadapter

我正在使用 a`SyncAdapter`和 GCM 来通知我的应用程序后端服务器上的不同类型的更改。例如，如果更改 A 发生在服务器上，我会使用名为 change_a 的字段进行推送通知，并将其传递给`SyncAdapter`through `ContentResolver.requestSync()`。这样，`SyncAdapter`知道从服务器同步什么。同样，对于更改 B，我发送一个名为 change_b 的字段。

除了一个用例外，这非常有效。我发送了一个 change_a 通知，它会调用`ContentResolver.requestSync()`，但是因为没有网络可用，所以`SyncAdapter`还没有调用。如果在那之后，我发送一个 change_b 通知，再次`ContentResolver.requestSync()`使用新字段调用。然后，当网络启动时，`SyncAdapter`会调用，但仅使用最新的字段 change_b，因此，它不会同步更改 A。

因此，基本上，`ContentResolver.requestSync()`覆盖所有`requestSync()`尚未触发 SyncAdapter 的先前调用。SyncAdapter 使用已发送的最新附加功能运行。

对此的一种解决方案是不区分更改 A 和更改 B 并`SyncAdapter`同步所有内容。但这对带宽来说是昂贵的。我想控制同步的内容和时间。我可以做些什么来解决这个问题（可能是一个同步适配器标志）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-11T09:40:46.043

看来我得出了错误的结论。实际上，经过进一步的测试，如果`requestSync()`使用不同的附加功能调用 if ，`SyncAdapter`则会针对每个不同的 Bundle 调用多次。

我的问题出在其他地方。当我收到推送通知时，我会安排一个警报来触发同步请求，我会使用`PendingIntent`带有标志的 a `PendingIntent.FLAG_CANCEL_CURRENT`，这意味着如果在警报响起之前有另一个推送通知出现，警报将被新数据覆盖. 因此，如果设备处于离线状态，当它上线时，它会收到所有待处理的推送通知，并且只会设置一个警报，其中包含最新推送通知中的数据。

我解决此问题的方法是在每个 PendingIntent 上设置不同的操作，以便设置相同类型的新警报不会覆盖其他类型的警报。

对此的改进是为每种类型的同步添加一个collapse_key，以便每种推送通知中只有一个被传递到设备。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-30T21:41:22.907

> 看来我得出了错误的结论。实际上，经过进一步的测试，如果 requestSync() 使用不同的 extra 调用，则 SyncAdapter 会针对每个不同的 Bundle 调用多次。

如果您在多次调用中使用不同的附加功能`requestSync()`，则将`performSync()`为每个调用`requestSync()`。我想添加证明：[SyncOperation.java](https://android.googlesource.com/platform/frameworks/base.git/+/android-4.2.2_r1/core/java/android/content/SyncOperation.java)`toKey()`中的调用合并了 extras Bundle 中的值。这可以防止重复这些.`SyncManager``SyncOperations`

# javascript - 在 javascript 或 jquery 中延迟准备好的函数（）

> ID：13320108
> 
> 赞同：1
> 
> 时间：2012-11-10T07:12:39.223
> 
> 标签：javascript, jquery

```
//this code animates the divs to the left after every 5 secs
$(document).ready(function() {

    var refreshId = setInterval(function() {
        $('.box').each(function() {
            if ($(this).offset().left < 0) {
                $(this).css("left", "150%");
            } else if ($(this).offset().left > $('#container').width()) {
                $(this).animate({
                    left: '50%'
                }, 500);
            } else {
                $(this).animate({
                    left: '-150%'
                }, 500);
            }
        });
    }, 5000);)
};​ 
```

在上面的代码中，每当页面加载时，`div`元素就会每 5 秒滑动一次。但是我的网页中有一个按钮，单击该按钮时，会`div`根据单击的按钮将元素分别向左或向右移动。但问题是按钮单击时发生的自动动画和动画有时会重叠。所以每当我点击按钮时，我想再次将自动动画延迟`document.ready`5 秒。

这显示在这个[jsFiddle](http://jsfiddle.net/9FPBA/2)中。当您不断单击“左动画”或“右动画”按钮时，div 有时会重叠。所以我只想在单击按钮时延迟自动动画。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T07:15:32.383

您可以调用`clearInterval(refreshId)`，然后重新运行代码来设置轮换。

这是您如何做到这一点的粗略草图。恐怕我可能无法提供比这更多的细节，但我希望它有所帮助！

```
$(document).ready(function () {
    var refreshId;
    function startRotation() {
        refreshId = setInterval(function () { /* rotate stuff */ }, 5000);
    }
    function restartRotation() {
        clearInterval(refreshId);
        startRotation();
    }
    startRotation();

    var button = /* find the buttons that should restart the rotation */;
    button.click(restartRotation);
}; 
```

# eclipse - 加载 EMF 文件时出现异常

> ID：13320115
> 
> 赞同：3
> 
> 时间：2012-11-10T07:13:47.337
> 
> 标签：eclipse, eclipse-emf, eclipse-emf-ecore, emf

当我尝试加载 EMF 文件时，出现以下错误：

> 抛出异常：org.eclipse.emf.ecore.resource.Resource$IOWrappedException：找不到带有 uri 'blah/blah' 的包。(文件:/C:/Temp/OPDiag1/blah1.opmeta, 2, 124)

我用来尝试加载的代码：

```
opmetaFactory.eINSTANCE.eClass();
Resource opmmResource = resourceSet.createResource(URI.createURI(uri));
try {
  opmmResource.load(null);
  opd = (OPMetaModelDiagram) opmmResource.getContents().get(0);
} catch(final IOException e) { 
  // log
} 
```

有谁知道为什么我会收到此错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T07:28:07.733

您需要先在包注册表中注册元模型的包：

```
resourceSet.getPackageRegistry().put(BlahPackage.eNS_URI, BlahPackage.eINSTANCE); 
```

例如，对于 UML 模型，它将是“UMLPackage.eNS_URI”等。在您的情况下，我想它必须类似于“OpmetaPackage.eNS_URI”和“OpmetaPackage.eINSTANCE”。

# android - 如何使 PopupWindow 的背景变暗？

> ID：13320123
> 
> 赞同：0
> 
> 时间：2012-11-10T07:16:06.037
> 
> 标签：android, listview, android-ui, android-listfragment

我有一个 ListFragment (v4) 和 ListView 任何行的 onClick 我显示一个弹出窗口（使用 PopupWindow），它显示该行的相关信息......

现在我想在弹出窗口显示时使背景变暗/模糊。由于视图太复杂，我无法使用 DialogFragment。所以请不要建议与此相关的选项。

我已经阅读[了这个类似的线程](https://stackoverflow.com/questions/3221488/blur-or-dim-background-when-android-popupwindow-active)，但不明白如何将它用于 ListFragment

我怎样才能达到这种模糊效果？

请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T05:32:17.583

这适用于任何面临类似问题的人。我用 Dialogs 替换了 Popupwinows，问题就自动解决了。我创建了一个超类 MyDialog，它扩展了 Dialog 并在其构造函数中使用了我的自定义主题，而我的所有其他 Dialogs 都扩展了这个类。

但是，我仍然不相信他们无法为弹出窗口实现这一目标。对于与弹出窗口相关的答案，该问题仍然存在。

# java - java.sql.ResultSet.getString() 返回的字符串及其字节码解释

> ID：13320126
> 
> 赞同：0
> 
> 时间：2012-11-10T07:16:31.967
> 
> 标签：java, string, bytecode

考虑代码中的两行：

```
...
rs.next();  //rs is ResultSet interface.
rs.getString("name");
... 
```

**javap**生成的字节码是：

```
...
35:  invokeinterface #9,  1; //InterfaceMethod java/sql/ResultSet.next:()Z
   40:  pop
   41:  aload   4
   43:  ldc     #10; //String name
   45:  invokeinterface #11,  2; //InterfaceMethod java/sql/ResultSet.getString:
(Ljava/lang/String;)Ljava/lang/String;
   50:  pop
   51:  aload_2
   52:  invokeinterface #12,  1; //InterfaceMethod java/sql/Connection.close:()V

 ... 
```

我正在尝试解释这个字节码。

对于行`rs.getString("name");`字节码从第 43 行到第 51 行开始。

1）在第 45 行，方法被**调用**，并返回一个字符串对象，由 Ljava/lang/String 表示。这是正确的还是在这里，只有方法从索引为 #11 TO **STACK**的常量池加载并在第 50 行执行？ ?

2）谎言返回的字符串对象在哪里`rs.getString("name");`？在堆栈或堆上，因为我认为 aload_2 正在将一些值推入堆栈。

实际上在这里，我对以下内容感到困惑：

如果假设我有：

```
 ...
rs.next();
rs.getString("name");
rs.getString("name");
rs.getString("name");
rs.getString("name");
...10 more times...
... 
```

并且都返回相同的名称。然后会有10个不同的字符串对象具有相同的值。所以这会浪费内存，是使用intern()的一个案例。但是，如果这些将在堆栈上，那么它仍然会被视为内存浪费并需要 intern() 吗？

3）我认为返回的字符串对象`rs.getString("name");`不是一个实习字符串，所以它肯定不会在永久代内存区域上？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:46:11.077

调用的字节码的相关部分

```
rs.getString("name") 
```

是

```
41:  aload   4
43:  ldc     #10; //String name
45:  invokeinterface #11,  2; //InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
50:  pop 
```

一次取这一行一个操作码：

```
41:  aload   4 
```

将存储在局部变量 #4 ( `rs`) 中的对象压入堆栈

```
43:  ldc     #10; //String name 
```

将字符串常量`"name"`压入堆栈

```
45:  invokeinterface #11,  2; //InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String; 
```

从堆栈中弹出顶部 2 项以调用接口方法`java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;`并将结果 (a `Ljava/lang/String;`) 推送到堆栈上。

```
50:  pop 
```

然后将前一个方法的结果从堆栈中弹出。

# ios - 在 iOS 5.1.1/6.0 和 Xcode 4.5 上开发未经许可的应用程序

> ID：13320130
> 
> 赞同：0
> 
> 时间：2012-11-10T07:16:49.460
> 
> 标签：ios, xcode, licensing

我正在尝试运行我在 iPhone 4 上使用 iOS 5.1.1 和 Xcode 4.5 制作的应用程序。当我尝试运行时，它显示代码签名错误。我没有开发者许可证，但我能够在 iOS 5.0.1 和 Xcode 4.2.1 上运行应用程序... 那么，Apple 是否解决了可用于安装应用程序的错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:42:19.120

Without a developer license, you should not be able to run your code on your device.

# mongodb - 锂：查找条件不在数组中的列表

> ID：13320132
> 
> 赞同：1
> 
> 时间：2012-11-10T07:17:04.663
> 
> 标签：mongodb, find, lithium

我正在尝试将查找用于具有字段 = 名称和字段“编号”不在数组 $importedVolumes 列表中的列表。

```
$importedVolumes = array('22','38');

   Volumes::find('list', array(
    "fields"=>"name",
    "conditions"=>array("number"=> 
      array("NOT IN"=>$importedVolumes)
     ),
    "order"=>"number ASC"
  )); 
```

上面给出了一个空数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:00:26.303

由于您使用的是 MongoDB，请使用`$nin`运算符

```
'conditions' => array(
    'number' => array('$nin' => $importedVolumes)
 ) 
```

# android - 在 Android 中如何知道何时收到 DatagramPacket？

> ID：13320134
> 
> 赞同：0
> 
> 时间：2012-11-10T07:18:01.893
> 
> 标签：android, qt, sockets, packet, datagram

假设发送器以随机间隔发送 DatagramPacket。有没有办法知道接收方何时收到数据包？在 C++ 和使用 QT 中，可以`connect`将套接字连接到`readyRead()`信号，例如：

```
connect(udpSocket, SIGNAL(readyRead()), this, SLOT(processPendingDatagrams())); 
```

然后每次在接收器收到一个数据包时，`SIGNAL`都会发出一个包，然后我们跳到`processPendingDatagrams()`例程。

是否可以在 Android 中做类似的事情？如果不是，那么在收到的数据包到达后立即读取它们的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T16:17:41.460

在 Android 中，您必须实现自己的线程，等待直到有可用的数据报包。您可以使用处理程序向主线程发送消息。

[您可以在此处](http://www.helloandroid.com/tutorials/simple-udp-communication-example)找到有关如何执行此操作的好教程。

# javascript - 在ajax xmlHttp.open中调用另一个页面的javascript

> ID：13320136
> 
> 赞同：1
> 
> 时间：2012-11-10T07:18:07.953
> 
> 标签：javascript, ajax, google-maps, google-maps-markers

我有一个 jsp 页面 DEMO1.jsp，我在其中编写了 ajax 代码以每 1 分钟刷新一次。在 DEMO1.JSP 中我有

```
<head>

    <script type='text/javascript'>
        setInterval(function(){
            document.getElementById('bgframe').contentWindow.myInternalFunction();
        }, 5*1000);

    </script>
</head>
<body onload="AutoRefreshValid();"  style="margin:1px;font-family: Serif, Arial,Times, serif;" id="ValidWaybills"><center>

    <iframe id='bgframe' style='display:none;' src='DEMO2.jsp'></iframe>

    <script type="text/javascript">
        function AutoRefreshValid(){
            var xmlHttp;
            try{
                xmlHttp=new XMLHttpRequest();// Firefox, Opera 8.0+, Safari
            }
            catch (e){
                try{
                    xmlHttp=new ActiveXObject("Msxml2.XMLHTTP"); // Internet Explorer
                }
                catch (e){
                    try{
                        xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    catch (e){
                        alert("No AJAX");
                        return false;
                    }
                }
            }

            xmlHttp.onreadystatechange=function(){
                if(xmlHttp.readyState==4){
                    document.getElementById('ValidWaybills1Valid').innerHTML=xmlHttp.responseText;
                    setTimeout('AutoRefreshValid()',5*1000);
                }
            }

            xmlHttp.open("GET","DEMO2.jsp",true);
            xmlHttp.send(null);

        }
    </script>
    <div  id="ValidWaybills1Valid">

    </div> 
```

我有 DEMO2.JSP，我在其中编写了 JAVASCRIPT 我必须在 DEMO1.JSP 中使用 AJAX 运行该 JAVASCRIPT，而无需每 5 秒重新加载一次页面

```
<head>

    <script type="text/javascript">
        function callme3(){

        <%  Date d1 = new Date();
        %>
                alert("Date is          <%=d1%>");
            }
    </script>
</head>
<body onload="callme3()">

</div> 
```

感谢和 regads 苏达山

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:34:33.710

XML Http 请求是关于发送一些东西和检索一些东西。执行检索到的数据不是其工作的一部分。

这是针对您的问题的天真/简单的解决方案，但不建议您这样做。

```
xmlHttp.open("GET", "SU3.jsp", true);
xmlHttp.onload = function(evt) {
  var div = document.createElement('div');
  div.innerHTML = evt.target.responseText;
  document.body.appendChild(div);
};
xmlHttp.send(null); 
```

很长一段时间后，这段代码最终会导致浏览器崩溃。

正确的做法是让 SU3.jsp 以 json 或纯 html 格式返回数据，并将所有逻辑移至 SU2.jsp。

* * *

根据您提供的最新信息（应在第一个版本中提供），该解决方案非常简洁。

在 Su2.jsp 上，添加以下代码：

```
// assume map refers to the map object.
// and I use jQuery here to make the point clear, 
// it's ok to use XmlHttpRequest directly.

var timer = null;

function updateMarker() {

  $.get('su3.jsp', function(data) {
    for (var i = 0; i < data.length; i++) {
      var datum = data[i];
      new google.maps.Marker({
        map: map,
        position: new google.maps.LatLng(datum.pos.lat, datum.pos.lng),
        title: datum.title
      });
    }
    // after all jobs are done, set timeout for another update.
    // use setTimeout() instead of setInterval() to tolerate net latency.
    timer = setTimeout(updateMaker, 5000);
  });

}

// this should be called in onLoad() handler.
updateMaker(); 
```

在 SU3.jsp 上，您应该使用`Content-Type: application/json`. 它将制造商信息输出为：

```
[{"pos":{"lat":-25.363882,"lng":131.044922},"title":"Australia"}] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:31:07.243

如果您只想从 SU3.jsp 执行 javascript，您可以通过 SU2.jsp 中的隐藏 iframe 调用它

将以下 JavaScript/标记添加到 SU2.jsp

```
<html>
<head>
  <script type='text/javascript'>

    setInterval(function(){
        document.getElementById('bgframe').contentWindow.location.reload();
    },60000); // reload every 60 seconds

  </script>
</head>
<body>
    <iframe id='bgframe' style='display:none;' src='SU3.jsp'></iframe>
</body>
</html> 
```

请记住，如果 SU3.jsp 需要访问其父级 (SU2.jsp) 中的函数/变量，您将需要使用*window.parent ，如此*[处](https://stackoverflow.com/questions/3886410/accessing-variable-in-parent-page-from-iframe "here")所述

另一方面，如果您只需要每 60 秒在 SU3.jsp 中调用一个 JavaScript 函数，您可以这样做：

```
document.getElementById('bgframe').contentWindow.myInternalFunction();

setInterval(function(){
    document.getElementById('bgframe').contentWindow.myInternalFunction();
}, 60000); 
```

# c# - 如何查看堆栈底部的对象？

> ID：13320140
> 
> 赞同：0
> 
> 时间：2012-11-10T07:18:51.547
> 
> 标签：c#, stack

我在规范中编写了一个 ActionScript ByteCode 解析器，以获取堆栈底部的对象。现在，据我所知，ActionScript 虚拟机 (AVM) 中的堆栈底部是最先被压入堆栈的对象。我真的很想避免为了到达底部而将所有项目从堆栈中弹出。有谁知道是否有可能获得底部项目？如果没有，AVM 会做一些奇怪的事情：P

谢谢，乔什

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:22:09.587

根据定义，这是不可能的。堆栈的每个元素只知道他之前的元素，因此使用经典堆栈实现您不知道堆栈底部元素的地址。使用另一个结构来存储对象。（例如列表）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T07:44:34.987

你试图做的是违背堆栈的目的。但是，您可以编写一个包装类。

当调用 Push 方法并且堆栈为空时，将其对象添加到堆栈并在您的类中保留一个引用。当 Pop 方法被调用并且堆栈只有一个你保留的对象清除引用时。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-10-28T21:41:58.880

您可以使用 ToArray()。

```
var stackArray = myStack.ToArray(); 
```

然后只是：

```
stackArray.Lenght - 1 
```

访问最后一个元素。

# pdf - 获得用于打印的小册子布局并切成两半

> ID：13320142
> 
> 赞同：1
> 
> 时间：2012-11-10T07:19:27.640
> 
> 标签：pdf, layout, printing, imposition

我会尽量让这一点尽可能清楚，但很难解释。

我想在每一面打印 2 页。通常，将其放入打印机时的图案是从左到右，第一组页面在第一面，第二组页面在反面。

通常：1-2 | 3-4。

我需要一个布局，其中 p.1 和 p.4 打印在第一面，左侧为 4，右侧为 1。另一方面，p。第 2 和第 3 分别从左到右。这样它就可以“环绕”页面。

我需要什么：4-1 | 2-3

因此，如果您将页面对折，您会通过翻阅获得 1-2-3-4，就好像整个页面是一本小册子一样。

我尝试了很多 pdf 编辑器并一遍又一遍地进行打印对话，但似乎无法获得此选项。

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T10:05:19.020

这被称为**IMPOSITION**

**如果您的源文件是pdf**文件，您可以在多种方式中选择多种方式来执行此任务 。这里有两个（最简单的）：

1.  **pdfbklt**

    *   [http://www.ziddu.com/download/1794055/pdfbklt.exe.html](http://www.ziddu.com/download/1794055/pdfbklt.exe.html)
    *   [http://ge.tt/88oFY7H/v/0](http://ge.tt/88oFY7H/v/0)
    *   [http://goo.gl/BwzdT](http://goo.gl/BwzdT)
    *   [http://dingodog.minus.com/mjhNX8Eiu](http://dingodog.minus.com/mjhNX8Eiu)

> pdfbklt -l -b A4 -p2s 输入.pdf

**请记住，pdfbklt 会覆盖输入的 pdf 文件，因此最好处理文件的副本**

> 如果需要达到 4 的整数倍，pdfbklt 具有自动在 pdf 文件末尾插入空白页的优势（强加小册子法律需要）

它可以在dos下的windows中使用，也可以在带有**wine的linux中使用**

* * *

2 - **nup_pdf.jar**（需要java）

*   [http://blog.rubypdf.com/2007/08/24/how-to-make-n-up-pdf-with-free-software/](http://blog.rubypdf.com/2007/08/24/how-to-make-n-up-pdf-with-free-software/)

`java -jar nup_pdf.jar input.pdf output.pdf 2 x 1 -k 1`

生成，例如一个 16 页长的文档，这个命令

```
16,1
2,15
14,3
4,13
12,5
6,11
10,7
8,9 
```

# 打印信封

```
odd side|even side
front / back of sheet paper
 _____________
|      |      |
| 16,1 | 2,15 |
|______|______|
 _____________
|      |      |
| 14,3 | 4,13 |
|______|______|
 _____________
|      |      |
| 12,5 | 6,11 |
|______|______|
 _____________
|      |      |
| 10,7 |  8,9 |
|______|______|` 
```

# c++ - boost::variant - 为什么模板参数的优先级高于 const 字符串参数

> ID：13320145
> 
> 赞同：6
> 
> 时间：2012-11-10T07:20:30.313
> 
> 标签：c++, templates, boost, boost-variant

我在以下代码中目睹了我不理解的行为。关键是，如果我声明第二个重载`operator()`类似于以下任一：

```
bool operator()(T other) const
bool operator()(const T &other) const 
```

程序的输出是：

> 细绳

但是，如果我使用以下声明：

```
bool operator()(T &other) const 
```

输出将是：

> 其他类型

有人可以解释为什么`operator()(const string &other)`在后一种情况下不被调用吗？

```
#include "boost/variant/variant.hpp"
#include "boost/variant/apply_visitor.hpp"

using namespace std;
using namespace boost;

typedef variant<string, int> MyVariant;

class StartsWith
    : public boost::static_visitor<bool>
{
public:
    string mPrefix;
    bool operator()(const string &other) const
    {
        cout << "string" << endl;
        return other.compare(0, mPrefix.length(), mPrefix) == 0;
    }
    template<typename T>
    bool operator()(T &other) const
    {
        cout << "other type" << endl;
        return false;
    }
    StartsWith(string const& prefix):mPrefix(prefix){}
};

int main(int argc, char **argv) 
{
    MyVariant v(string("123456"));
    apply_visitor(StartsWith("123"), v);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T07:34:42.413

你这里有`const`问题。

您将不是 const 对象传递给`apply_visitor`- 因此不是 const 对象成员传递给应用的访问者。所以在你的情况下是`string&`- 引用字符串类型。此模板与其完全匹配：

```
template<typename T>
bool operator()(T &other) const 
```

所以它被选中。此函数不完全匹配 - 它被跳过：

```
bool operator()(const string &other) const 
```

当然，如果您提供该运算符：

```
bool operator()(string &other) const 
```

那么它将被选中，因为在模板一之前考虑了非模板功能。

所以解决方案是：要么在您的访问者中提供采用字符串引用（不是 const）的方法 - 要么传递 const 变体来应用......

第一个解决方案 - 从字符串运算符中删除 const：

```
bool operator()(/*const*/ string &other) const
//              ^^^^^^^^^ remove it 
```

第二种解决方案 - 传递 const 对象：

```
const MyVariant& cv = v;
apply_visitor(StartsWith("123"), cv);
//                               ^^ const object passed here 
```

第三种解决方案 - 将 const 说明符添加到一般访问者：

```
template<typename T>
bool operator()(const T &other) const
//              ^^^^^ 
```

解决方案 1 和 3 比 2 好 - 您应该将一致的访问者传递给您的变体，当编译器必须选择适当的函数时， const 具有很强的意义。

# sqlite - 结合两个sqlite语句

> ID：13320149
> 
> 赞同：-1
> 
> 时间：2012-11-10T07:21:21.523
> 
> 标签：sqlite

如何将两个 sqlite 语句组合成一个？我只想要一个语句得到结果。

```
create table lowprice as select  code,date,min(close) as min_close from quote where date between '20120730' and '20121030' group by code;
select  * from lowprice where lowprice.date between  '20121025'  and  '20121030' ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:29:37.090

您可以使用派生表（子查询）而不是创建实际表：

```
SELECT code, date, min_close
FROM
(
    SELECT code, date, min(close) as min_close
    from quote
    WHERE date BETWEEN '20120730' AND '20121030'
    GROUP BY code
) AS lowprice
WHERE lowprice.date BETWEEN '20121025' AND '20121030' ; 
```

但是，此查询看起来很可疑，因为您正在分组`code`但选择`date`. 这是一个名为[GROUP BY 和 HAVING 的 MySQL 扩展，带有隐藏列](http://dev.mysql.com/doc/refman/5.6/en/group-by-hidden-columns.html)。如果您了解为什么此查询在大多数数据库中无效以及 MySQL 选择允许它的原因，您应该只使用此扩展。此查询很可能没有达到您的预期。

# select - 每个用户的字段总和，但分组为两列

> ID：13320154
> 
> 赞同：2
> 
> 时间：2012-11-10T07:22:30.367
> 
> 标签：select, sqlite

```
CREATE TABLE [arsenal] (
  [id] INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, 
  [agent] INTEGER NOT NULL, 
  [haul] DECIMAL NOT NULL, 
  [target] INTEGER NOT NULL);

INSERT INTO arsenal (agent, haul, target) VALUES (1, 10, 2), (1, 100, 2), (2, 20, 1), (2, 200, 1); 
```

我有一张看起来像这样的桌子。我想`haul`为每个用户获取所有 s 的总和，但用户分布在两列`agent`和`target`. 例如，用户 id = 1 的代理的总和为 110，而目标字段中的同一用户的总和为 220。因此有效总和为 110 + 220 = 330。类似地，用户 id = 2 的有效总和为 330 (代理列中为 220，目标列中为 110）。

如果我的来源是：

```
id  agent   haul    target
1      1     10        2
2      1     100       2
3      2     20        1
4      2     200       1 
```

，我需要输出：

```
user haul
1    330
2    330 
```

. 我可以通过以下方式实现：

```
SELECT   user, SUM(sum) 
FROM     ( 
          SELECT   agent AS user, SUM(haul) AS sum
          FROM     arsenal 
          GROUP BY agent

          UNION ALL

          SELECT   target, SUM(haul)
          FROM     arsenal 
          GROUP BY target
         ) AS t

GROUP BY user; 
```

我试图摆脱联合，因为围绕联合所有的实际选择查询有点复杂，所以我假设这是一个瓶颈。有没有更好的方法来实现这一点，可能没有子查询？

[这是一个非常相似的线程](https://stackoverflow.com/questions/10645194/sql-sum-a-field-grouped-by-same-identifier-in-two-different-columns)，但答案对我没有吸引力。谢谢

**编辑：**这是实际的查询：

```
SELECT   user, SUM(sum) 
FROM     ( 
          SELECT   agent AS user, SUM(haul) AS sum
          FROM     arsenal AS a

          JOIN bucket AS b ON b.parent_id=a.id
          JOIN region AS r ON r.terminal = b.terminal
          WHERE a.status=@status AND r.savedStatus=@savedStatus

          GROUP BY agent

          UNION ALL

          SELECT   target, SUM(haul)
          FROM     arsenal 

          JOIN bucket AS b ON b.parent_id=a.id
          JOIN region AS r ON r.terminal = b.terminal
          WHERE a.status=@status AND r.savedStatus=@savedStatus

          GROUP BY target
         ) AS t

GROUP BY user; 
```

此外，它在 s 中有更多字段`SELECT`。`SELECT`这里要注意的是，在两个s in中都运行了两次完全相同的查询`UNION`。所以我试图`UNION`完全避免并依靠某种`JOIN`左右来避免冗余。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:54:26.200

为了避免联合，您***可以***加入另一个表以有效地将行数加倍。 *（您的 UNION ALL 当前将行数加倍。）*

```
 Agent
INNER JOIN
  Haul
    ON Agent.ID = Haul.Agent
    OR Agent.ID = Haul.Target 
```

但是一个连接只能使用一个索引。并且没有一个索引可以有效地满足 OR 条件。 *您无法对记录进行排序以使您同时满足这两个条件；同一代理人的记录彼此相邻并且同一目标的记录彼此相邻。）*

这里*常用*的SQL Code优化就是你不喜欢的UNION ALL。

这可以通过将 Agent 和 Target 字段移出到具有以下字段的规范化表中来解决：
- Haul_ID
- Agent_ID
- Is_Target

这将有每个 Haul 的两条记录......

```
 HaulAgentMap
INNER JOIN
  Haul
    ON Haul.ID = HaulAgentMap.Haul_ID 
```

HaulAgentMap 上的单个索引也将所有适当的记录彼此相邻。

一般来说***，***这种类型的规范化有利于您的代码和性能。以及可维护性、适应性等

（抱歉有任何错误，我正在打电话……）

**编辑**

为了减少代码中的重复，但不太可能改变性能，你可以加入联合......

```
(
  SELECT id, Agent, val FROM haul
  UNION ALL
  SELECT id, Target, val FROM haul
)
  AS haul
INNER JOIN
  etc, etc 
```

RDBMS 通常会在生成查询计划时将其扩展。换句话说，它将像您的原始查询一样，但在您的代码中重复较少。

# c - c - 在后台运行的程序的退出状态

> ID：13320159
> 
> 赞同：2
> 
> 时间：2012-11-10T07:23:38.040
> 
> 标签：c, linux, shell, unix

我有一个任务，我必须创建一个能够做很多事情的迷你外壳，包括工作控制。我设法使用 fork 和 execvp 创建了新工作。但我也想获得由 execvp 运行的程序的退出代码。根据我从其他帖子中查找的内容，我可以使用`if(WIFEXITED(status))`.

但是，如果用户在 shell 中输入带有进程名称的“&”，我们也需要在后台运行进程。因此，等待父进程等待子程序在后台完成是没有意义的。是否可以设置任何中断来通知父进程子进程已结束？然后我可以使用该`if(WIFEXITED(status))`语句来获取退出代码。

例子

```
sleep 100 & 
```

将在后台运行，而我可以同时在前台执行其他 shell 命令。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T07:25:08.160

如果您不做任何特别的事情，父母会`SIGCHLD`在孩子去世时收到一个。不过要小心，多个孩子可以同时终止，你会得到一个信号。处理此问题的正确方法是循环（在信号处理程序中）：

```
while (waitpid(-1, NULL, WNOHANG) > 0)
    /* Stuff. */ 
```

# android - Android - 获取 TextView 内容的大小

> ID：13320165
> 
> 赞同：1
> 
> 时间：2012-11-10T07:24:26.967
> 
> 标签：android, textview, size, dimension

我目前有包含 HTML 内容的 TextView，包括不同大小的文本和图像。

TextViews 以这样的方式与其他视图对齐，即只向用户显示三行内容。

无论如何，如果将 TextViews 扩展到其内容的大小，它们会占据的高度吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T08:13:20.463

试试这个：TextView.getLayout().getHeight();

# android - 如何以表格格式显示 SQLite 数据库中的值

> ID：13320169
> 
> 赞同：-1
> 
> 时间：2012-11-10T07:25:18.887
> 
> 标签：android, sqlite

我创建了包含字段`id`, `Name`,的 SQLite 数据库应用程序`Con`。我想以表格格式显示值。我使用 arraylist 来保存价值。它仅以行格式显示值。请帮助我，如何以表格格式显示值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:51:29.437

使用 BaseAdapter 或 ArrayAdapter 在 Listview 中绑定 ArrayList ...并为看起来像 Table 格式.. 制作自定义 XML.. 并通过 Inflate 制作视图..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T08:09:47.977

尝试使用他[GridVIew](http://developer.android.com/guide/topics/ui/layout/gridview.html)。

[这个](http://www.androidhive.info/2012/02/android-gridview-layout-tutorial/)和[这个](http://www.mkyong.com/android/android-gridview-example/)墨水也有一些网格视图教程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T07:54:39.430

```
Try using table layouts with textview in a tablerow tag..
like..
<TableLayout>
<TableRow>
<TextView/>
<TextView/>
<TableRow>
<TableLayout> 
```

# html - 当用户将鼠标悬停在包含的 HREF 上时，如何更改 DIV 的背景颜色？

> ID：13320176
> 
> 赞同：0
> 
> 时间：2012-11-10T07:26:33.323
> 
> 标签：html, background-color, onmouseover

我有一个包含几个菜单项的菜单栏。

![带有菜单项的菜单栏](../Images/59a711a0fb177e25eb6a4038de451be0.png)

菜单栏是一个包含菜单项（也是*divs ）的**div*，并且在每个菜单项内部我都有一个*href*。

 **这是HTML：

```
<style>
.menubar-style {
    width: 100%; 
    background-color: white; 
    height: 20px; 
    text-align:center;
}
.menuitem-style {
    float: left; 
    width: 10%; 
    border-right: thin; 
    border-right-style:solid;
}
</style>
...
...
<div class="menubar-style">
    <div class="menuitem-style"><a href="#">Link 1</a></div>
    <div class="menuitem-style"><a href="#">Link 2</a></div>
    <div class="menuitem-style"><a href="#">Link 3</a></div>
</div> 
```

当光标位于链接顶部时，我想要做的是更改菜单项（*div*，而不仅仅是*href ）的背景颜色。*

如何从链接中捕获*mouseover*事件并使用它来绘制整个菜单项的背景颜色？

更好的是，有没有办法检查鼠标是否在整个菜单项上（*div*而不仅仅是链接）？那将是一个更好的选择，因为菜单项会随着鼠标在框上的任何位置而改变颜色，而不仅仅是链接。

提前致谢！

简

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:28:03.490

您可以简单地将`:hover`选择器添加到任何预定义样式中，以便仅在鼠标悬停在该特定对象上时应用它

```
.menuitem-style:hover {
    background-color: red;   // only changes to red if the mouse is hovering.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:35:07.560

您必须使用一些 javascript 或 jQuery 来执行此操作。不过，当您将鼠标悬停在 div 上时，只需更改 div 的颜色会更容易。

将此添加到您的`<head>`：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script> 
```

您应该在`<a>`标签中添加一个类，我们称之为这个类`menu-link`。因此，`<a href="#">Link 1</a>`您将拥有`<a href="#" class="menu-link">Link 1</a>`.

现在，您可以将以下 jQuery 代码添加到您的`<head>`:

```
<script>
     $('a.menu-link').hover(function()
     {
         $(this).parent().css('background-color', 'red');
     }, function()
     {
         $(this).parent().css('background-color', 'white');
     }
</script> 
```

此 jQuery 代码将更改`<a>`标签父级的背景颜色，在本例中是您的`<div>`标签。**

# ruby-on-rails - 如何以动态方式创建或删除对象

> ID：13320180
> 
> 赞同：0
> 
> 时间：2012-11-10T07:27:35.057
> 
> 标签：ruby-on-rails

```
users (id, name, ...)
user_emails (id, user_id, email, email_type)

email_type is either work | home 
```

用户有多个电子邮件对象（家庭、工作）。当用户选择添加或删除按钮时，我想添加或删除电子邮件。这需要以动态方式完成。我将如何创建我的表单以便可以创建新对象或删除现有的电子邮件对象。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:55:41.673

我最近不得不这样做，并且会推荐 Railscasts 的嵌套形式剧集。

这是第 1 集 - [http://railscasts.com/episodes/196-nested-model-form-part-1](http://railscasts.com/episodes/196-nested-model-form-part-1)

# winforms - 如何使用 MS 图表设置和显示饼图的标题

> ID：13320181
> 
> 赞同：1
> 
> 时间：2012-11-10T07:27:55.780
> 
> 标签：winforms, visual-studio-2010, c#-4.0, mschart

我试图在饼图顶部显示标题。

```
chartArea1.AxisX.Title = "Product1";                 
chartArea1.AxisX.TitleFont = new Font("Arial Bold", 15, FontStyle.Bold);    
chartArea1.AxisX.TitleAlignment = StringAlignment.Center; 
```

我尝试通过将标题添加到图表的标题集合，然后分配给图表区域标题。但它不起作用。

我还能做些什么来在饼图顶部显示标题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-12T15:39:36.327

像下面这样的东西应该可以工作：

```
Chart1.Titles.Clear()
Dim newTitle As New Title("Title Here", Docking.Top, New Font("Verdana", 12), Color.Black)
Chart1.Titles.Add(newTitle) 
```

**编辑：**

为了将不同的标题应用到不同的图表区域，您需要设置 Title 的`DockedToChartArea`属性。例如，如果我有一个包含 2 个 ChartAreas 的图表，则可以像这样添加标题：

```
 Title Area1Title = new Title("Title1", Docking.Top, new Font("Verdana", 12), Color.Black);
    Title Area2Title = new Title("Title2", Docking.Top, new Font("Verdana", 12), Color.Black);
    Area1Title.DockedToChartArea = Chart1.ChartAreas[0].Name;
    Area2Title.DockedToChartArea = Chart1.ChartAreas[1].Name;
    Chart1.Titles.Add(Area1Title);
    Chart1.Titles.Add(Area2Title); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-12T17:27:50.617

您应该尝试`Titles.Add`使用 yourChart 对象而不是 chartArea 的方法，如下所示

```
yourChart.Titles.Clear();   // Unnecessary if you have already clear
Title yourTitle = new Title("Title", Docking.Top, new Font("Verdana", 12), Color.Black);
yourChart.Titles.Add(yourTitle); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-25T10:40:35.907

这是以完全自定义的方式添加标题的另一种方式。

```
Title testTitle = new Title();
testTitle.text = "Total";
testTitle.Font = new Font(FontFamily.GenericSansSerif, 14F, FontStyle.Bold);
testTitle.IsDockedInsideChartArea = true;
testTitle.Docking = Docking.Left;
testTitle.TextOrientation = TextOrientation.Rotated270;
testTitle.DockedToChartArea = TrunkChart.ChartAreas[0].Name;
TestChart.Title.Add(testTitle); 
```

干杯

# java - gwt，外部源文件夹的路径

> ID：13320187
> 
> 赞同：1
> 
> 时间：2012-11-10T07:28:48.397
> 
> 标签：java, gwt, path, config

我想从另一个包中包含 gwt 客户端类，并且不想编写附加的 .gwt.xml。我这样写了复杂的相对路径：

```
<source path="../../../../../../../../logic/src/p1/p2/p3/p4/p5/p6"/> 
```

这似乎是正确的道路，但 gwt 无法导入类并引发警告：

> GWT 编译器：非规范源包：.../../../../../../../../logic/src/p1/p2/p3/p4/p5/p6/

我应该使用额外的 gwt 模块，还是我的解决方案正确，但有错误？

我不想使用 gwt-module，因为在逻辑端编写客户端配置很糟糕

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T10:19:25.967

的目的`<source path="">`是指定包含可翻译成javascript的代码的包和指定包下的子包。因此，您不能指定不在当前 gwt 模块中的文件夹。换句话说，源路径应该在包含 gwt.xml 文件的目录下。在这种情况下，您的问题的解决方案是将所有源包含为一个 gwt 模块或创建多个 gwt 模块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-31T10:42:07.620

source path="path" 基本上用于指定您的 javascript 翻译代码的位置。所以它应该和你的 gwt.xml 在同一个目录下

# java - 组件未在我的 jpanel 上更新

> ID：13320188
> 
> 赞同：-1
> 
> 时间：2012-11-10T07:28:50.797
> 
> 标签：java, swing, jframe, jpanel, jlabel

> **可能重复：**
> [JLabel 仅显示是否删除了 initComponents()](https://stackoverflow.com/questions/13314336/jlabel-only-shows-if-initcomponents-is-deleted)

JavaApplication1.java

这就是我打电话给我的单独小组的地方。

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package javaapplication1;

import javax.swing.JFrame;

/**
 *
 * @author Aires
 */
public class JavaApplication1 {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
       JFrame f = new JFrame();
       NewJPanel n1 = new NewJPanel();
       f.add(n1);
       f.pack();
       f.show();
    }
} 
```

newJPanel.java 我正在创建新的 JLabel 以添加到我当前的面板中，但是当我运行该程序时，它没有显示出来。

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * NewJPanel.java
 *
 * Created on Nov 10, 2012, 3:07:31 PM
 */
package javaapplication1;

import javax.swing.JLabel;

/**
 *
 * @author Aires
 */
public class NewJPanel extends javax.swing.JPanel {

    /** Creates new form NewJPanel */
    public NewJPanel() {
        //pag kinoment ko ito, tsaka lang lamalabas yung jlabel.
        initComponents();

        //dito Sir, di siya nalalagay sa panel.
        JLabel n = new JLabel();
        n.setText("asdasdasd");
        this.add(n);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();

        jLabel1.setText("jLabel1");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(175, 175, 175)
                .addComponent(jLabel1)
                .addContainerGap(191, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(127, 127, 127)
                .addComponent(jLabel1)
                .addContainerGap(159, Short.MAX_VALUE))
        );
    }// </editor-fold>
    // Variables declaration - do not modify
    private javax.swing.JLabel jLabel1;
    // End of variables declaration
} 
```

我编码创建的 JLabel 没有显示，它仅在我注释掉 //initComponents(); 时显示 有什么解决办法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T07:46:28.087

*   `JLabel n = new JLabel()`; 不可见，因为使用`GroupLayout`了所需的一堆代码`vertical`和`horizontal`坐标`JPanel`

*   `JLabel n = new JLabel();`缺少这些用于`jLabel1 = new javax.swing.JLabel();`into `private void initComponents() {`then的坐标`JLabel n = new JLabel();`在 中不可见`JPanel`，您只能看到`jLabel1`

*   删除代码块`private void initComponents() {`并继续为您的 GUI 手动编码

*   `JPanel`已`FlowLayout`在 API中实现

*   `JFrame`已`BorderLayout`在 API中实现

![在此处输入图像描述](../Images/0441dd07f8f20e606a5c98312dc1bc44.png)

```
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

public class JavaApplication1 {

    private JFrame frame = new JFrame();
    private JPanel panel = new JPanel();
    private JLabel label = new JLabel();

    public JavaApplication1() {
        label.setText("asdasdasd");
        panel.add(label);
        frame.add(panel);
        frame.pack();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        javax.swing.SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                JavaApplication1 j1 = new JavaApplication1();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-10T08:04:56.810

IMO，您必须将自己的 JPanel 添加到 JFrame 的 ContentPane 中。

此外，使用 SwingUtilities 显示 GUI。

```
 public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {    
            public void run() {
                JFrame f = new JFrame();
                NewJPanel n1 = new NewJPanel();
                f.getContentPane().add(n1, BorderLayout.CENTER);
                f.pack();
                f.show();
            }
        });
    } 
```

类 NewJPanel 代码。

```
class NewJPanel extends javax.swing.JPanel {

    /** Creates new form NewJPanel */
    public NewJPanel() {
        //pag kinoment ko ito, tsaka lang lamalabas yung jlabel.
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();

        jLabel1.setText("jLabel1");

        JLabel n = new JLabel();
        n.setText("asdasdasd");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(175, 175, 175)
                .addComponent(jLabel1)
                .addComponent(n)
                .addContainerGap(191, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(127, 127, 127)
                .addComponent(jLabel1)
                .addComponent(n)
                .addContainerGap(159, Short.MAX_VALUE))
        );
    }// </editor-fold>
    // Variables declaration - do not modify
    private javax.swing.JLabel jLabel1;
    // End of variables declaration
} 
```

# iphone - 是否可以在不打开该特定视图的情况下进行屏幕截图？

> ID：13320195
> 
> 赞同：2
> 
> 时间：2012-11-10T07:29:41.183
> 
> 标签：iphone, objective-c, ios, screenshot, core-plot

我是 iPhone 开发的新手。对 iPhone 技术中的视图和布局不太熟悉。

**我想要实现的是：**

*   我在包含一个按钮的页面中，单击该按钮我打开图表视图（使用核心图）。
*   我想截取该图表视图的屏幕截图，但我不想打开该视图。

**这可能吗 ？**

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T07:47:53.163

是的，您可以将视图层合成到位图上下文中，然后从中获取图像对象：

```
CGContextRef CGContextCreate(CGSize size)
{
    CGColorSpaceRef space = CGColorSpaceCreateDeviceRGB();
    CGContextRef ctx = CGBitmapContextCreate(NULL, size.width, size.height, 8, size.width * (CGColorSpaceGetNumberOfComponents(space) + 1), space, kCGImageAlphaPremultipliedLast);
    CGColorSpaceRelease(space);
    return ctx;
}

- (UIImage *)screenshotView:(UIView *)view
{
    CGSize size = view.frame.size;

    // Check for retina display
    if ([[UIScreen mainScreen] scale] > 1.5f) {
        size.width *= 2;
        size.height *= 2;
    }

    CGContextRef ctx = CGContextCreate(size);
    CGAffineTransform normalize = CGAffineTransformMake(1, 0, 0, -1, 0, size.height);
    CGContextConcatCTM(ctx, normalize);

    [[view layer] renderInContext:ctx];

    CGImage cgImg = CGBitmapContextCreateImage(ctx);
    UIImage *img = [UIImage imageWithCGImage:cgImg];
    CGImageRelease(cgImg);
    CGContextRelease(ctx);

    return img;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T07:39:40.733

Yes, you can do this.

```
UIView *yourView = /* get your chart view */;
UIGraphicsBeginImageContext(yourView.bounds.size);
[yourView.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *yourViewImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

Now you have a UIImage with the image of your view.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T18:22:22.380

这是内置在 Core Plot 中的：

```
UIImage *screenShot = [graph imageOfLayer]; 
```

`graph`您的核心绘图图 ( )在哪里`CPTXYGraph`，而不是托管视图。`-imageOfLayer`如果它不在屏幕某处已经可见的托管视图中，请务必在调用之前设置图形的大小。如果您不打算在屏幕上显示它，则根本不需要托管视图。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T09:31:37.557

```
UIGraphicsBeginImageContext(self.view.bounds.size); // You can put your view here.
[self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
NSData *data = [UIImagePNGRepresentation(image) retain];
UIImage *screenShot = [UIImage imageWithData:data]; 
```

# entity-framework - 一零到多级联删除

> ID：13320198
> 
> 赞同：1
> 
> 时间：2012-11-10T07:29:58.397
> 
> 标签：entity-framework, one-to-many, entity-framework-5

我有这个模型：

```
 public class FileUpload
{
    public int FileUploadId { get; set; }
    public string FileName { get; set; }

}

public class Company
{
    public int CompanyId { get; set; }
    public string Name { get; set; }

    public FileUpload Logo { get; set; }
    public int? LogoId { get; set; }

    public FileUpload Catalog { get; set; }
    public int? CatalogId { get; set; }
}

public class Ads
{
    public int AdsId { get; set; }
    public string Name { get; set; }

    public FileUpload Picture { get; set; }
    public int? PictureId { get; set; }
}

public class TestContext : DbContext
{
    public DbSet<Company> Companies { get; set; }
    public DbSet<Ads> Adses { get; set; }
    public DbSet<FileUpload> FileUploads { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Conventions.Remove<PluralizingTableNameConvention>();
        modelBuilder.Entity<Ads>()
            .HasOptional(a => a.Picture)
            .WithMany()
            .HasForeignKey(a => a.PictureId)
            .WillCascadeOnDelete();

        modelBuilder.Entity<Company>()
           .HasOptional(a => a.Logo)
           .WithMany()
           .HasForeignKey(a => a.LogoId)
           .WillCascadeOnDelete();

        modelBuilder.Entity<Company>()
           .HasOptional(a => a.Catalog)
           .WithMany()
           .HasForeignKey(a => a.CatalogId)
           .WillCascadeOnDelete();
    }
} 
```

此代码在 EF 迁移中不起作用！

我想要： - 每家公司都有可选的徽标或目录，每个广告都有可选的图片。- FileUpload 记录可以直接删除 - 级联删除

这该怎么做？！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T18:40:49.403

您是否希望在`FileUpload`删除 a 时通过级联删除来删除 a `Company`or `Ads`？

这是没有意义的，因为`FileUpload`是所有三种关系的主体，`Company`并且`Ads`是受抚养人。删除依赖项时，您不能级联删除主体。无论如何，它在大多数情况下都会失败，因为在一对多的关系中，`FileUpload`它可以被许多其他公司或广告使用。如果您删除其中一个并`FileUpload`通过级联删除将其删除，您将违反其他公司和广告的外键约束。

在您的模型中，您只能有一个级联删除，以便`Company`在`Ads`删除 a 时`FileUpload`删除（尽管这对我来说听起来很奇怪）。即使这样也不适用于您的 Fluent 映射，因为您已经`FileUpload`为`Company`这两个关系配置了多个级联删除路径。SQL Server 不允许此类关系。您必须至少删除一个级联删除。

在您的模型中，您需要`FileUpload`手动删除记录，`Company`并且*在*您检查是否未被其他公司或广告使用后`Ads`删除。*`FileUpload`*

 *如果您在业务逻辑中确定某个给定`FileUpload`值不能被多个公司或广告使用，并且该给定`FileUpload`值永远不会被公司和广告使用，那么它会变得更简单（例如删除公司）：

```
using (var context = new TestContext())
{
    var company = context.Companies
        .Include(c => c.Logo)
        .Include(c => c.Catalog)
        .Single(c => c.CompanyId == companyIdToDelete);

    if (company.Logo != null)
        context.FileUploads.Remove(company.Logo);

    if (company.Catalog != null && company.Logo != company.Catalog)
        context.FileUploads.Remove(company.Catalog);

    context.Companies.Remove(company);
} 
```*

# android - ActionBarSherlock ListNavigationMode 在蜂窝前不起作用

> ID：13320199
> 
> 赞同：0
> 
> 时间：2012-11-10T07:30:14.060
> 
> 标签：android, android-actionbar, actionbarsherlock

我正在使用 actionbarsherlock 并且无法让下拉导航（列表模式）适用于 api < 3.0。它适用于较新的设备，但对于 <3.0，我无法单击微调器。显示第一个条目，但单击时不会显示下拉菜单。操作栏的其他一切都很好，但我无法让下拉菜单正常工作。

有人遇到类似的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T16:57:05.030

好的，我发现了问题，问题是我为“actionDropDownStyle”使用了错误的父级。使用下面的父级解决了这个问题。

```
<style name="DropDownStyle" parent="Widget.Sherlock.Light.Spinner.DropDown.ActionBar">
     <item name="android:popupBackground">@color/gray3</item> 
</style> 
```

# jquery - jQuery在chrome扩展后台页面中的使用

> ID：13320200
> 
> 赞同：12
> 
> 时间：2012-11-10T07:30:39.530
> 
> 标签：jquery, ajax, google-chrome

**目标**

我正在尝试使用此样板代码使用字典 API 在线查找以查找所选单词并返回定义。

**问题**

我已经单独测试了实际的 jQuery ajax 调用，它运行良好。另外，我可以在页面上获取选定的单词。但是，由于某种原因，我在 Sample.js 的样板代码中实际*调用ajax 函数时遇到问题*

需要建议。

**背景.html**

```
<html>

  <script src="jquery.js"/>
  <script src="sample.js"/>

  <body>
    <p>
    Image here:
    </p>

    <img id="target" src="white.png" width="640" height="480">

  </body>
</html> 
```

**清单.json**

```
{
  "name": "Context Menus Sample",
  "description": "Shows some of the features of the Context Menus API",
  "version": "0.6",
  "permissions": ["contextMenus"],
  "background": {
    "scripts": ["sample.js"],
    "pages": ["background.html"]
  },
  "manifest_version": 2
} 
```

**示例.js**

```
 // A generic onclick callback function.
      function genericOnClick(info, tab) {
        console.log("item " + info.menuItemId + " was clicked");
        console.log("info: " + JSON.stringify(info));
        console.log("tab: " + JSON.stringify(tab));
        alert(info.selectionText);
        displayText(info.selectionText);
      console.log("asfasdf");
      $("#testID", document).html("testing jQuery");

      $.ajax({

          url: "http://api.wordnik.com//v4/word.json/cat/definitions?api_key=mykey&includeRelated=false&includeTags=false&limit=1",
          dataType : 'json',
          success: function(data) {
            //called when successful

            alert(data[0].word);

          },
          error: function(e) {
            //called when there is an error
            console.log(e.message);
          }
        });

  }

// Create one test item for each context type.
var contexts = ["page","selection","link","editable","image","video",
                "audio"];
for (var i = 0; i < contexts.length; i++) {
  var context = contexts[i];
  var title = "Test '" + context + "' menu item";
  var id = chrome.contextMenus.create({"title": title, "contexts":[context],
                                       "onclick": genericOnClick});
  console.log("'" + context + "' item:" + id);
}

// Create a parent item and two children.
var parent = chrome.contextMenus.create({"title": "Test parent item"});
var child1 = chrome.contextMenus.create(
  {"title": "Child 1", "parentId": parent, "onclick": genericOnClick});
var child2 = chrome.contextMenus.create(
  {"title": "Child 2", "parentId": parent, "onclick": genericOnClick});
console.log("parent:" + parent + " child1:" + child1 + " child2:" + child2);

// Create some radio items.
function radioOnClick(info, tab) {
  console.log("radio item " + info.menuItemId +
              " was clicked (previous checked state was "  +
              info.wasChecked + ")");
}
var radio1 = chrome.contextMenus.create({"title": "Radio 1", "type": "radio",
                                         "onclick":radioOnClick});
var radio2 = chrome.contextMenus.create({"title": "Radio 2", "type": "radio",
                                         "onclick":radioOnClick});
console.log("radio1:" + radio1 + " radio2:" + radio2);

// Create some checkbox items.
function checkboxOnClick(info, tab) {
  console.log(JSON.stringify(info));
  console.log("checkbox item " + info.menuItemId +
              " was clicked, state is now: " + info.checked +
              "(previous state was " + info.wasChecked + ")");

}
var checkbox1 = chrome.contextMenus.create(
  {"title": "Checkbox1", "type": "checkbox", "onclick":checkboxOnClick});
var checkbox2 = chrome.contextMenus.create(
  {"title": "Checkbox2", "type": "checkbox", "onclick":checkboxOnClick});
console.log("checkbox1:" + checkbox1 + " checkbox2:" + checkbox2);

// Intentionally create an invalid item, to show off error checking in the
// create callback.
console.log("About to try creating an invalid item - an error about " +
            "item 999 should show up");
chrome.contextMenus.create({"title": "Oops", "parentId":999}, function() {
  if (chrome.extension.lastError) {
    console.log("Got expected error: " + chrome.extension.lastError.message);
  }
}); 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-11-10T08:01:09.667

您必须为您在 ajax 函数中调用的 url 添加权限到您的清单：

```
 "permissions": [
    "contextMenus",
    "http://api.wordnik.com/*"
  ], 
```

不要忘记包含 jquery：

```
"background": { "scripts": ["jquery.js", "sample.js"], "pages": ["background.html"] } 
```

而且你不需要`<script src="jquery.js"/>`在你的文件中

网站链接末尾应有/*。

# css - 如何在 CSS 中使用 3 个背景图像进行可调整大小的布局？

> ID：13320202
> 
> 赞同：1
> 
> 时间：2012-11-10T07:31:07.553
> 
> 标签：css

我正在处理一个小型网站示例，我想要一个可调整大小的 div 背景，但似乎无法让底部背景正常工作。

我的CSS：

```
.content {
    padding: 10px 0;
    height: 100%;
    background-image: url(bodytop.png), url(body.png), url(bodybot.png);
    background-size: 100%;
    background-repeat: repeat-x, repeat-y, repeat;
} 
```

我怎样才能让它工作？bodybot.png 不会显示给我。我可以通过在我的 HTML 中创建一个新的 div 来做到这一点吗？我希望 bodytop.png 在顶部，body.png 在中间调整大小，bodybot.png 在底部。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T07:51:14.293

由于`bodybot.png`被 覆盖`body.png`。你需要移到`bodybot.png`前面。

您放入背景图像的第一张图像最后绘制，最后一个图像最先绘制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T18:44:15.067

这就是你应该这样做的方式......

检查修改后的[**FIDDLE**](http://jsfiddle.net/videsignz/QvXeU/)

**CSS**

```
 .container{
background: url(http://i.imgur.com/AFh3Y.png) bottom left repeat-x, url(http://i.imgur.com/kiCmk.png) top left no-repeat , url(http://i.imgur.com/3qKoZ.png) left repeat-y ;
width:960px; display:block;
}

.content {
padding: 10px 0;
} 
```

# wordpress - Wordpress 致命错误：无法访问空属性

> ID：13320208
> 
> 赞同：0
> 
> 时间：2012-11-10T07:32:04.787
> 
> 标签：wordpress, prefix

嗨，

这段代码在本地工作，但是一旦我将它上传到测试服务器，它就出现了错误。我是 wordpress 插件的新手，但我知道 php 是如何工作的。

我收到此错误：

```
Fatal error: Cannot access empty property 
```

这是给出错误的行（最后一行）：

```
global $wpdb;
$wpdb -> show_errors();
$dbPrefixHere = $wpdb -> $prefix; 
```

我在这里做错了吗？还是有更好/更好的方法来获取 db 前缀？

**编辑 1** 好吧，我已经开始工作了，但是现在没有创建 db 表...

我为此使用这部分代码：

```
$sQueryCheckProjectDB = "CREATE TABLE ".$dbPrefixHere."automaticthesiswriter_projects (
                          projectID int(11) NOT NULL AUTO_INCREMENT,
                          userID int(11) NOT NULL,
                          shareID int(11) NOT NULL,
                          projectName mediumtext NOT NULL,
                          projectDescription mediumtext NOT NULL,
                          PRIMARY KEY  (projectID)
                        ) ENGINE=InnoDB DEFAULT CHARSET=latin1;";
dbDelta($sqlUseOnPageSQLCreate); 
```

但是没有创建表，也没有显示错误...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T07:36:21.163

尝试改变：

```
$dbPrefixHere = $wpdb -> $prefix; 
```

到：

```
$dbPrefixHere = $wpdb->prefix; 
```

附加答案：（使用了不正确的变量？）

```
$sQueryCheckProjectDB = "CREATE TABLE ".$dbPrefixHere."automaticthesiswriter_projects (
                          projectID int(11) NOT NULL AUTO_INCREMENT,
                          userID int(11) NOT NULL,
                          shareID int(11) NOT NULL,
                          projectName mediumtext NOT NULL,
                          projectDescription mediumtext NOT NULL,
                          PRIMARY KEY  (projectID)
                        ) ENGINE=InnoDB DEFAULT CHARSET=latin1;";
dbDelta($sQueryCheckProjectDB); 
```

[参考： http](http://codex.wordpress.org/Creating_Tables_with_Plugins) : //codex.wordpress.org/Creating_Tables_with_Plugins

# mkmapview - MKCoordinateRegion 总是锁定在中心坐标 0,0？

> ID：13320210
> 
> 赞同：0
> 
> 时间：2012-11-10T07:33:00.063
> 
> 标签：mkmapview, mapkit

这有点奇怪，但我已经连续 2 天试图找到一个解决方案来设置地图区域，但似乎没有任何效果这是我的代码：

```
-(void)viewWillAppear:(BOOL)animated{
//[self step1locationupdate];
Maplocation.showsUserLocation=YES;

MKCoordinateRegion mapRegion;

    mapRegion.center.longitude=self.currentProduct.shop.longcoordinate;
mapRegion.center.latitude=self.currentProduct.shop.latcoordinate;

NSLog(@"The USer Location are :%f",mapRegion.center.latitude);

mapRegion.span.latitudeDelta= 2;
mapRegion.span.longitudeDelta= 2;

[Maplocation setRegion:mapRegion animated:YES];
NSLog(@"The USer Location are :%f %f",Maplocation.userLocation.coordinate.latitude,Maplocation.userLocation.coordinate.longitude);
} 
```

启动时，malocation.userlocation.coordinate 的 NSLog 始终为 0。我已将其添加到 viewDidLoad 部分中的相同代码也没有区别

请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T01:46:24.890

我认为您需要在开始使用 MKCoordinateRegion 之前对其进行初始化。像'MKCoordinateRegion mapRegion = MKMakeRegionWithCoordinates(......'

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T15:57:27.950

好吧，我已将上述方法保存在 (void) 方法中，然后在 viewWillAppear 方法的 5 秒后将其触发。

```
 -(void)viewWillAppear:(BOOL)animated{
    [self performSelector:@selector(updatecurrentLocation) withObject:nil afterDelay:5];
}
    -(void)updatecurrentLocation{

    Maplocation.showsUserLocation=YES;
    MKCoordinateRegion mapregion;
    mapregion.center=Maplocation.userLocation.coordinate;
    mapregion.span.latitudeDelta = 2;
    mapregion.span.longitudeDelta = 2;
    [Maplocation setRegion:mapregion animated: YES];
} 
```

就是这样的人:)

# jquery-mobile - JqueryMobile Knockout and Uncaught Error: NOT_FOUND_ERR: DOM Exception 8

> ID：13320224
> 
> 赞同：2
> 
> 时间：2012-11-10T07:36:26.850
> 
> 标签：jquery-mobile, knockout.js

I'm trying to use knockout and jquerymobile and can't get it to work. Here's my code:

```
<!DOCTYPE html>     
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <script src="/nw/scripts/jquery-1.8.2.js"></script>
    <script src="/nw/scripts/knockout-2.1.0.debug.js"></script>
    <script src="/nw/scripts/jquery.mobile-1.2.0.js"></script>
    <link rel="stylesheet" href="/nw/scripts/jquery.mobile-1.2.0.css" />
        <title>title</title>
</head>
    <body>
        <div>
<script type="text/javascript">
    function AppViewModel() {
        this.test = [{ "name": "noam", "age": "36" }, { "name": "yael", "age": "34"}];
    }
    $(document).ready(function () { 
        ko.applyBindings(AppViewModel());
        });
</script>
<ul data-bind="foreach: test" id="myList">
    <li>test <span data-bind="text: name"></span></li>
</ul>
        </div>
    </body>
</html> 
```

When I run this I get the following error: Uncaught Error: NOT_FOUND_ERR: DOM Exception 8

When I comment out the jquerymobile scripts, it works.

Any help would be appriciated

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T08:27:09.787

问题的直接原因是调用`<script>`块的位置。`ko.applyBindings`如果您将`<script>`块移动到`<head>`标签中，该示例将按原样工作，如下所示：（另请注意`pageinit`事件和`data-role="page"`属性的使用）

```
<!DOCTYPE html>     
<html>
<head>
  <meta name="viewport" content="width=device-width" />
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script src="http://cloud.github.com/downloads/SteveSanderson/knockout/knockout-2.1.0.debug.js"></script>
  <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
  <title>title</title>
  <script type="text/javascript">
    function AppViewModel() {
      this.test = [{ "name": "noam", "age": "36" }, { "name": "yael", "age": "34"}];
    }
    $(document).bind('pageinit', function () {
      ko.applyBindings(AppViewModel());
    });
  </script>
</head>
  <body>
    <div data-role="page">
      <ul data-bind="foreach: test" id="myList">
        <li>test <span data-bind="text: name"></span></li>
      </ul>
    </div>
  </body>
</html> 
```

请记住，jquery mobile 和 knockout 都会更改 DOM，并且 DOM 错误是它们之间冲突的征兆，其中一个库移动了另一个库随后试图解决的 DOM 元素。

为了让 JQM 和 knockout 一起工作（它们确实如此），您需要非常熟悉 JQM 何时/如何对 DOM 进行更改。[这个页面](http://jquerymobile.com/test/docs/pages/page-scripting.html)可能是一个很好的起点。

# c# - EF 5, .Net 4.5 issue with loading many to one child object

> ID：13320226
> 
> 赞同：2
> 
> 时间：2012-11-10T07:37:12.923
> 
> 标签：c#, asp.net-mvc-3, entity-framework

I have a set of tables in MySQL - Customer 1-many Order 1-many OrderProduct many-1 Product.

I generated an EF model from the database, and other than this issue, it's working well.

If I load a given Customer, I get their Orders and OrderProducts as expected. But the Navigation property (FK) joining the OrderProduct match table to the Product table won't load.

I've actually copied the generated SQL into a MySQL query window and I do get the joined data from the Product table. But the data isn't apparently mapped into the class on return.

I've tried any number of eager/lazy loading combinations, including what's in there now:

```
context.orders.Where(o => o.UserID == UserID && o.OrderDate == OrderDate.Value)
              .Include(o => o.orderproducts.Select(p => p.product))
              .First(); 
```

But no matter what I do, product is always null.

Any suggestions?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T07:51:02.633

尝试这个：

```
var order = context.orders.Include("orderproducts.product")
              .Where(o => o.UserID == UserID && o.OrderDate == OrderDate.Value)
              .First(); 
```

# jquery - Render rails partial from AJAX with JqueryUI dialog class

> ID：13320228
> 
> 赞同：1
> 
> 时间：2012-11-10T07:37:20.410
> 
> 标签：jquery, ruby-on-rails, ajax, ruby-on-rails-3, jquery-ui

I have the following method that gets called via AJAX request when user hits a button on my page.

```
def savings_easter_egg
  @savings = params[:savings] if params[:savings]
  return render :partial => "topics/savings", :locals => { :savings => @savings }    
end 
```

I want this method to return a partial that can be displayed in JqueryUI's modal.

```
 $.ajax({
      type: 'GET',
      url: '/topics/savings_easter_egg',
      data: {
        savings: data[key]['saving']
      } ,

      success: function(response) {
        $(response).dialog({
          height: 840,
           modal: true,
         });              
      }
    }); 
```

As shown above, I'm trying to use the response from my controller to generate the dialog, but I'm not sure about this. The documentation confuses me a bit: [http://jqueryui.com/dialog/#modal](http://jqueryui.com/dialog/#modal)

topics/_savings_easter_egg.slim

```
#dialog-modal
  p Hi
  = params[:savings]
  = @savings 
```

This is the partial that I want to pass and display in the modal. Right now, I'm getting a modal tos how, but it is a thin white line with no text. What am I doing wrong?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:06:49.703

jQuery UI 对话框基于在创建对话框时已经存在的 DOM 元素 - 对话框只是显示例如 DIV 的内容，该 DIV 已经是页面 DOM 结构的一部分。

如果你想在对话框中显示你的部分，你首先必须将它插入到页面中，例如通过用它替换现有的元素内容

```
jQuery("#your_container").html(YOUR RENDERED PARTIAL) 
```

或替换现有容器（如果您的部分中有一个额外的容器元素，如您的示例中所示）

```
jQuery("#your_container").replaceWith(YOUR RENDERED PARTIAL) 
```

之后，您将能够为此容器元素创建一个对话框

```
jQuery("#your_container").dialog() 
```

编辑：我认为也可以使用动态内容，例如

```
jQuery("<p>Hello World</p>").dialog() 
```

但我不确定对话框是否会以同样的方式做出反应。我通常在页面中使用一个对话框元素并将其内容替换为当前需要的内容。

# postgresql - SQL Statement If statement inside a SELECT statement

> ID：13320233
> 
> 赞同：0
> 
> 时间：2012-11-10T07:38:00.180
> 
> 标签：postgresql, select, if-statement, jasper-reports, ireport

Is there a way that I can use if statement in a select statement?

I cannot use Case statement in this one. Actually I am using *iReport* and I have a parameter. What I want to do is if a user does not enter a certain parameter it will select all the instances.

For example a table of person referencing to gender table, a with a parameter on where clause, query would go like:

```
SELECT * FROM persontable WHERE gender_id = $P{genderName}:numeric 
```

If the parameter **$P{genderName}** is null or blank then it will select all. I tried this query:

```
SELECT * FROM persontable WHERE gender_id IN (SELECT CASE WHEN $P{genderName} 
 IS NULL THEB (SELECT id from genderTable 
 WHERE id = $P{genderName}:numeric) ELSE $P{genderName}::numeric END) 
```

But it will return an error "More that one row is returned....." I think it is because of the CASE statement. How do I this?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T07:45:09.447

尝试这个：

```
SELECT * FROM persontable 
WHERE gender_id = $P{genderName} OR $P{genderName} IS NULL 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-07T12:11:10.353

这可以使用***辅助参数***轻松实现。

在您的报告中定义一个新参数，将其命名为`aux_gendername`.

在定义参数时，调整其*Default Value Expression*。

```
($P{gendername}.equals("") || $P{gendername}==NULL? " " : " and gender_id = '"+$P{gendername}+"'") 
```

然后在您的主查询中，使用辅助参数而不是实际参数 ($P{gendername})。

```
SELECT * FROM persontable WHERE 1=1 $P!{aux_gendername} 
```

如果 $P{gendername} 包含任何值*，并且*条件将动态附加到查询中，否则整个结果集将显示在报告中而无需任何过滤。

***注意***：使用*!* 在辅助参数中是强制性的。

# android - How to apply Bass effect programmatically in android

> ID：13320236
> 
> 赞同：7
> 
> 时间：2012-11-10T07:38:35.057
> 
> 标签：android, bass

I am trying to apply the **Bass Effects** programmatically by using the following code:

```
BassBoost bassBoost = new BassBoost(0, audioSessionId);
bassBoost.setEnabled(true);
BassBoost.Settings bassBoostSettingTemp =  bassBoost.getProperties();
BassBoost.Settings bassBoostSetting = new BassBoost.Settings(bassBoostSettingTemp.toString());
bassBoostSetting.strength = MAX_STRENGTH_FOR_BASS; // 1000
bassBoost.setProperties(bassBoostSetting);

bassBoost.setStrength((short) progress); // progress value from seek bar 
```

But the bass effects aren't applied on the current audio session.
Please help me by showing me what's wrong.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-11T07:36:58.490

> 检查是否支持。

```
bassBoost = new BassBoost(0, 0);
bassBoost.setEnabled(true);

if (bassBoost.getStrengthSupported())
{
    short word1 = bassBoost.getRoundedStrength();
    bassBoost.setStrength(word1);
} 
```

> 您还可以检查您正在测试的任何内容是否支持它（它取决于设备）。您可以使用：

```
final Descriptor[] effects = AudioEffect.queryEffects();

// Determine available/supported effects 
for (final Descriptor effect : effects) {
    Log.d(TAG, effect.name.toString() + ", type: " + effect.type.toString());
} 
```

# asp.net-mvc - 如何在 ASP.NET MVC 中使用实体框架进行多次插入

> ID：13320238
> 
> 赞同：0
> 
> 时间：2012-11-10T07:38:54.190
> 
> 标签：asp.net-mvc, entity-framework-4, asp.net-mvc-4

我有两个表，我必须插入到

**表一：项目**

*   项目编号
*   姓名
*   描述

**表 2：访问**

*   ID
*   用户身份
*   项目编号

现在我将 ASP.NET MVC 4 与 Entity Framework 一起使用，现在我的问题是如何插入这两个表？

我的意思是我知道我可以使用 EF 对表 1 进行插入，但是我需要 projectId（由第一次插入生成）来进行第二次插入。

我不知道该怎么做。请有人指导我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T09:57:21.857

保存对象时，EF 将填充插入对象的自动生成的 Key 字段：

```
public ActionResult Index() { 

    var ctx = new FooBarDbContext();

    var foo = new Foo();
    foo.Bar = "FooBar";
    ctx.Foos.Add(foo);
    ctx.SaveChanges();

    // now you have the Id for Foo object.

    var bar = new Bar();
    bar.FooId = foo.Id;
    ctx.Bars.Add(bar);
    ctx.SaveChanges();

    // do what you need now.
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-27T06:06:52.417

公共行动结果索引（）

{

```
ProjectContext db = new ProjectContext ();
var project = new Project();
var access = new Access();

project.Name = “Project Name”;
project.Description = “Project Description”;

access.UserId = 1; // Fill with your userId
access.Project = project;

db.Access.Add(access);
db.SaveChanges();// save project and access 
```

}

// 在模型文件夹中

公共类 ProjectContext：DbContext

{

```
 public DbSet<Project> User { get; set; }
 public DbSet<Access> Contact { get; set; } 
```

}

// 同样在访问类中，您必须定义项目

公共类访问

{

```
[Key]
public int id{ get; set; }
public int UserId {get;set;}
[ForeignKey("Project")]
public int ProjectId { get; set; }

public virtual Project Project { get; set; }
// This line make relation between project and access 
```

}

# flash-builder - asset library (swc) does not reflect changes in flash project in fb

> ID：13320244
> 
> 赞同：1
> 
> 时间：2012-11-10T07:39:44.110
> 
> 标签：flash-builder, flashdevelop

I have created gui related components in flash professional and exported the swc and added this swc into my referenced libraries (by adding link to the swc) and I can create/reference to the symbols in my flash builder project.

Every thing is fine untill I modify something(MC) and export the swc the changes won't reflect immediately. This is somewhat understood, so I just use to restart FB so that the changes are reflected. This was working find until yesterday.

After making changes to symbols, nothing will reflect the changes

I restart the FB (which use to work till yesterday) Refresh project, referenced libraries Clear browser cache Clean the project

I left home with frustration and today morning when I restarted the system it got reflected the changes. And now I did changes to the gui again and its the same problem.

I know there is one easy way which is to remove and add the swc reference from the project

I am pretty sure there could be much easy simple way to do it.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T18:01:53.450

编译器缓存有时无法选择 SWC 库中的更改（旧的已知问题）。

解决方案，当你认为这个问题发生时，就是“清理”项目。FlashBuilder 和 FlashDevelop 都允许您从项目主菜单中清理项目。

# cloud - Cloud shared memory management in openstack

> ID：13320245
> 
> 赞同：0
> 
> 时间：2012-11-10T07:39:44.543
> 
> 标签：cloud, data-analysis, openstack

I am going to do a data analysis, which size is 2TB, by using python. There is not enough memory for my local machine. Is it possible to setup a cloud by using openstack and let the cluster share their memory? Any example?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T21:44:04.333

好吧，您可以在您的云实例中实现。

您基本上可以创建许多实例，每个实例都有一个大 ramfs。然后将许多节点上的所有 ramfs 放入一个网络分布式文件系统，例如 openAFS、gluster 或 luster。

那将是一种方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T02:06:15.027

不，你不能用 OpenStack 做到这一点。

您所描述的是[分布式共享内存](https://en.wikipedia.org/wiki/Distributed_shared_memory)系统。我相信[ScaleMP](http://www.scalemp.com)销售一种名为 vSMP 的产品，可以做到这一点。[请注意，从历史上看，由于一个称为错误共享](https://en.wikipedia.org/wiki/False_sharing)的问题（我不知道这对 ScaleMP 有多大影响，我从未使用过），因此很难从分布式共享内存系统中获得良好的性能。

您还可以购买更昂贵的系统，该系统带有支持分布式共享内存的专用硬件，例如[SGI UV](http://www.sgi.com/products/servers/uv/)。

您可能最好修改代码以利用 Hadoop 或 MPI 之类的东西。

# ios - how to store slider values in ios

> ID：13320249
> 
> 赞同：0
> 
> 时间：2012-11-10T07:40:33.967
> 
> 标签：ios, slider, uislider

Hi I am using uislider and get the values in label. now i try to save the slider values. I don't know how to do this. If anybody knows please share the code. This is my code for slider changed. `-(IBAction)sliderChanged:(id)sender
{
UISlider *slider = (UISlider *)sender;
if((int)slider.value % 10 == 0)
{
sliderLabel.text = [[NSString alloc] initWithFormat:@"Value of:%d", (int)slider.value];
}
}`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:44:41.553

您可以使用[NSUserDefault](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)来存储滑块值。

```
NSUserDefaults* defaults = [NSUserDefaults standardUserDefaults];
[defaults setObject:sliderLabel.text forKey:@"Slider"];
[defaults synchronize]; 
```

您可以检索数据，例如：

```
NSUserDefaults* defaults = [NSUserDefaults standardUserDefaults];
NSString *strValue =   [defaults objectForKey:@"Slider"];
myLabel.text = strValue != nil ? strValue : @"No Value"; 
```

上面的代码是保存`sliderLabel`到`NSUserDefault`. 如果您想以浮点数的形式存储滑块值，请使用：

```
[defaults setObject:[NSNumber numberWithFloat:slider.value] forKey:@"Slider"]; 
```

像这样检索它：

```
NSNumber *strValue =   [defaults objectForKey:@"Slider"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:45:44.950

```
NSUserDefaults* defaults = [NSUserDefaults standardUserDefaults];
[defaults setObject:[NSNumber numberWithFloat:slider.value] forKey:@"sliderValue"]; 
```

我相信您应该将值存储为浮点数（UISlider 值的原始类型），它更简洁，并且您可能希望在重新打开屏幕时重新使用浮点值来设置滑块，例如：

```
NSUserDefaults* defaults = [NSUserDefaults standardUserDefaults];
[self.slider setValue:[[defaults objectForKey@"sliderValue"] floatValue]]; 
```

# joomla - Joomla 1.5.14 到 Joomla 3.0 的迁移

> ID：13320255
> 
> 赞同：3
> 
> 时间：2012-11-10T07:41:42.590
> 
> 标签：joomla, migration, joomla1.5, updates, joomla3.0

我们已经从 2009 年开始使用 Joomla 的 1.5.14 版本来设置我们的主页。现在我们要将版本升级到 3.0。

我们做了一个测试页面 3.0 并与我们的原始页面进行了比较。我们知道文件和数据库已经发生了变化，因此我们很难看到如何将我们的数据实际移动到新版本。

我们发现，对于 1.7 版本，升级到新版本非常容易。我们已经研究了你的 Joomla 手册，但我们仍然有问题要让它正确。你有没有尝试过升级类似的情况？

你能给我们一些提示吗？
如果您能建议您希望我们采取的步骤，这会对我们有所帮助吗？
现在，浏览大量手册页并不是一件好事。如您所见，我已经备份了数据库和文件。我已经走了这么远，需要你的帮助才能更进一步。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T07:59:37.893

不要害怕，从 Joomla 1.5 升级到 3.0 一点也不难。有 2 个非常好的扩展可以让你做到这一点：

[j](http://extensions.joomla.org/extensions/migration-a-conversion/joomla-migration/11658)升级和[SP升级](http://extensions.joomla.org/extensions/migration-a-conversion/joomla-migration/15609)。

两者都允许您升级到 Joomla 2.5 或 3.0

我首先建议在使用其中一个扩展之前更新到 1.5 系列 (1.5.26) 的最新版本。为此，只需下载[此](http://joomlacode.org/gf/download/frsrelease/16891/73384/Joomla_1.5.0_to_1.5.26-Stable-Patch_Package.zip)软件包，通过 FTP 上传到您的 Joomla 站点的根目录并解压缩。

我可以指出，Joomla 2.5 仍然是推荐使用的版本，因为它是长期版本，而 Joomla 3.0 是短期版本，直到 Joomla 3.5 发布。

# php - 如何在 smartys 模板中嵌入 javascript 代码

> ID：13320258
> 
> 赞同：1
> 
> 时间：2012-11-10T07:41:55.353
> 
> 标签：php, javascript, smarty

我必须将此 [http://rajendar-codinghints.blogspot.in/2012/06/add-dropdown-country-state-list-to-html.html](http://rajendar-codinghints.blogspot.in/2012/06/add-dropdown-country-state-list-to-html.html)包含 在我的 smarty 模板文件中，即 header.tpl

所需的 js 文件以正确的路径存在。

整个事情在简单的 html 文件中运行良好，但在 smarty 中不行，请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T07:58:41.810

将您的 Javascript 代码包装到`{literal}`标签中

```
{literal}
<script type="text/javascript">
<!--
  Your javascript code
// -->
</script>
{/literal} 
```

有关更多详细信息，请参阅[文档](http://www.smarty.net/docsv2/en/language.function.literal)

# python - Calculating the area under a curve given a set of coordinates, without knowing the function

> ID：13320262
> 
> 赞同：72
> 
> 时间：2012-11-10T07:42:32.083
> 
> 标签：python, numpy, scipy, area

I have one list of 100 numbers as height for Y axis, and as length for X axis: 1 to 100 with a constant step of 5\. I need to calculate the Area that it is included by the curve of the (x,y) points, and the X axis, using rectangles and Scipy. Do I have to find the function of this curve? or not? ... almost all the examples I have read are about a specific equation for the Y axis. In my case there is no equation, just data from a list. The classic solution is to add or the Y points and multiple by the step X distance... using Scipy any idea?

Please, can anyone recommend any book which focusing on numerical (finite elementary) methods, using Scipy and Numpy? ...

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-11-10T16:38:16.787

numpy 和 scipy 库包括复合梯形 ( [numpy.trapz](http://docs.scipy.org/doc/numpy/reference/generated/numpy.trapz.html) ) 和辛普森 ( [scipy.integrate.simps](http://docs.scipy.org/doc/scipy/reference/generated/scipy.integrate.simps.html#scipy.integrate.simps) ) 规则。

这是一个简单的例子。在`trapz`和`simps`中，参数`dx=5`表示数据沿 x 轴的间距为 5 个单位。

```
import numpy as np
from scipy.integrate import simps
from numpy import trapz

# The y values.  A numpy array is used here,
# but a python list could also be used.
y = np.array([5, 20, 4, 18, 19, 18, 7, 4])

# Compute the area using the composite trapezoidal rule.
area = trapz(y, dx=5)
print("area =", area)

# Compute the area using the composite Simpson's rule.
area = simps(y, dx=5)
print("area =", area) 
```

输出：

```
area = 452.5
area = 460.0 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-11-10T07:53:12.183

您可以使用[辛普森规则](http://en.wikipedia.org/wiki/Simpson%27s_rule)或[梯形规则](http://en.wikipedia.org/wiki/Trapezoidal_rule)来计算图形下的面积，给定一个定期间隔的 y 值表。

计算辛普森规则的 Python 脚本：

```
def integrate(y_vals, h):
    i = 1
    total = y_vals[0] + y_vals[-1]
    for y in y_vals[1:-1]:
        if i % 2 == 0:
            total += 2 * y
        else:
            total += 4 * y
        i += 1
    return total * (h / 3.0) 
```

`h`是 y 值之间的偏移量（或间隙），并且`y_vals`是 y 值的数组。

示例（在与上述函数相同的文件中）：

```
y_values = [13, 45.3, 12, 1, 476, 0]
interval = 1.2
area = integrate(y_values, interval)
print("The area is", area) 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2018-08-13T19:39:54.307

如果您安装了 sklearn，一个简单的替代方法是使用 sklearn.metrics.auc

这使用给定任意 x 和 y 数组的梯形规则计算曲线下的面积

```
import numpy as np
from sklearn.metrics import auc

dx = 5
xx = np.arange(1,100,dx)
yy = np.arange(1,100,dx)

print('computed AUC using sklearn.metrics.auc: {}'.format(auc(xx,yy)))
print('computed AUC using np.trapz: {}'.format(np.trapz(yy, dx = dx))) 
```

都输出相同的区域：4607.5

sklearn.metrics.auc 的优点是它可以接受任意间隔的 'x' 数组，只要确保它是升序的，否则结果会不正确

# c++ - 使用 MinGW 和 CodeBlocks 安装 Boost 库

> ID：13320264
> 
> 赞同：2
> 
> 时间：2012-11-10T07:42:41.600
> 
> 标签：c++, regex, boost, mingw

我第一次接触 Boost 库，我选择了一个漂亮的女孩，名叫 Regex。

我已经在我的机器上安装了库（自动构建？），但我收到了上述错误（找不到`-lboost_regex`）。我正在使用带有 MinGW 的 Code::Blocks 和 C++0X 编译器标志。

我有

*   将“搜索目录”指向安装目录
*   `-lboost_regex`将标志添加到链接器

但没有运气。有人可以帮我完成这项工作吗？

* * *

**更新**

现在有事了。对于这个问题的新手，我在下面的答案中添加了一些进一步的注释。

（此外，更改了问题的标题，因为事实证明它比我刚开始时更广泛。）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-11T10:02:04.587

从我的第一次构建经验中，这里有一些可以帮助新手的链接和提示。我直接从 zip 文件构建了库。我在 MinGW 上构建，并在 IDE 中使用了 CodeBlocks。

1.  下载 Boost zip，在某个地方解压缩（我会打电话给那个地方`$boostdir`）
    *   解压后相当大，> 300MB
2.  将 MinGW bin 添加到 PATH var
    *   当 Boost 构建时，它需要访问 MinGW 可执行文件
3.  构建`b2.exe`和`bjam.exe`
    *   Windows的[文档愉快地](http://www.boost.org/doc/libs/1_52_0/more/getting_started/windows.html)[假设 MSVC 编译器](https://stackoverflow.com/questions/5299468/unable-to-build-boost-libraries-with-gcc)可用。
    *   如果是这样，您显然可以使用`bootstrap.bat`文档所说的那样。
    *   如果不是（像我的一样），您必须在步骤 4 和 5 中自己构建 exe 文件。
4.  在 CMD 中，导航到`$boostdir/tools/build/v2/engine`
5.  运行`build.bat mingw`（将构建`b2.exe`和`bjam.exe`）
    *   [一些老化的基本文档](http://www.boost.org/doc/libs/1_35_0/doc/html/jam/building.html)
6.  现在您已经拥有`b2`并`bjam`根据您的系统规格进行定制。导航回`$boostdir`并准备开始构建库。
    *   Boost 将`bin.v2`在当前目录中创建一个新目录。
    *   所有的库都将进入`bin.v2`.
    *   由于某种原因，这是一个“中间”目录
    *   这一步没什么可做的，只是一些额外的信息:)
7.  跑`b2 toolset=gcc --build-type=complete`
    *   这需要很长时间，大约**1-2 小时**。
    *   你会知道它是否有效。如果你认为有什么问题，那就是行不通。
    *   构建可以使用各种[标志](http://www.boost.org/boost-build2/doc/html/bbv2/overview/invocation.html)

* * *

现在你们都建好了。是时候设置代码块了。

1.  将编译器指向头文件
    *   右键单击您的项目 -> 构建选项 -> 搜索目录选项卡 -> 编译器选项卡 -> 添加`$boostdir`地址
2.  Boost 已根据您当前的系统规范为您想要的库构建了一个 DLL。在`stage\lib\`目录中查找`$boostdir`
    *   此 DLL 稍后将在链接器中使用，因此请不要关闭其资源管理器窗口
    *   我的在`C:\Program Files\Boost_1_52\stage\lib\libboost_regex-mgw44-1_52.dll`
    *   我认为文档有一个聪明的方法来做到这一点，但我还没有尝试过
    *   构建完成后，可以删除步骤 #6 中的“中间”目录
3.  将链接器指向该 DLL 的目录
    *   右键单击您的项目 -> 构建选项 -> 搜索目录选项卡 -> 链接器选项卡 -> 添加该目录地址 ( `blah\blah\blah\stage\lib\`)
4.  将该 DLL 标志添加到链接器设置中
    *   我的是`-lboost_regex-mgw44-1_52`
5.  深呼吸，向你的上帝祈祷，然后开始测试。

其他可能有帮助或混淆的文档：

Code::Blocks 网站有[一个版本，](http://wiki.codeblocks.org/index.php?title=BoostWindowsQuickRef)直到我接近搜索结束时才找到。它相当有帮助，但有一些奇怪的东西。 [这篇文章](http://forums.codeblocks.org/index.php?topic=15164.0)也很有帮助。

祝你好运！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-10T07:59:19.767

我不确定您所说的*自动构建*是什么意思。大多数 Boost 库都是仅头文件，但有一些，例如 regex，需要编译为共享/静态库。编译步骤不是自动的，您需要调用 Boost 构建系统 ( `bjam`) 来执行此操作。当然，有一些资源（例如 BoostPro）为各种平台分发预构建的 Boost 二进制文件。

完成后，您需要将库所在的路径添加到链接器的搜索路径中。对于 MinGW，此选项为`-L"path/to/library"`. Boost 确实有允许自动链接所需库的指令，这似乎与 MSVC 一起工作得很好，但我从来没有让它与 MinGW 一起工作。因此，您还必须列出要显式链接的库。默认情况下，Boost 库在文件名中包含目标和版本信息，因此典型的链接器命令行选项类似于`-lboost_regex-mgw47-mt-1_51`MinGW gcc 4.7 和 Boost 1.51

# c# - 我有 2 个下拉列表，它们相互绑定，但是

> ID：13320266
> 
> 赞同：0
> 
> 时间：2012-11-10T07:42:58.537
> 
> 标签：c#, asp.net, sql-server

我的第二个下拉列表是选择财政年度与它相关的年份，当我尝试选择像 2011-2012 这样的年份时，它没有在按钮单击时显示其值，而是将我的选择更改为 2010-2011 的第一个财政年度，如果发生同样的情况我从我的第一个下拉列表中选择任何其他项目代码我能够选择第二个下拉列表中的第一个值而不是第二个项目？.....[发生的事情是我的第二个下拉列表显示链接到 my1st 下拉列表的值不允许我选择它的第二个值并提交，如果我选择第二个值，它会自动将其更改为第一个值并显示结果？]

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Web;
    using System.Web.UI;
    using System.Web.UI.WebControls;
    using System.Data.SqlClient;
    using System.Data;
    using System.Configuration;

    public partial class Default2 : System.Web.UI.Page
    {
        SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["connstr"].ConnectionString);
        DataSet ds = new DataSet();
        SqlCommand cmd = new SqlCommand();
        DataTable dt = new DataTable();

        protected void Page_Load(object sender, EventArgs e)
        {

            if (con.State == ConnectionState.Closed)
            {
                con.Open();
            }
            if (Page.IsPostBack == false)
            {
                string query = "select * from project";
                SqlCommand cmd = new SqlCommand(query, con);
                cmd.CommandType = CommandType.Text;
                SqlDataAdapter adp = new SqlDataAdapter(cmd);
                DataSet ds = new DataSet();
                adp.Fill(ds);
                DropDownList1.DataSource = ds;
                DropDownList1.DataValueField = ds.Tables[0].Columns[0].ToString();
                DropDownList1.DataTextField = ds.Tables[0].Columns[1].ToString();
                DropDownList1.DataBind();
                DropDownList1.Items.Insert(0, "--Select--");

                cmd.Dispose();
            }

            con.Close();

        }

        protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
        {
            if (con.State == ConnectionState.Closed)
            {
                con.Open();
            }

            try
            {
                string query1 = "Select * from yearly where pid = " + DropDownList1.SelectedItem.Value.ToString();
                SqlCommand cmd = new SqlCommand(query1, con);
                DataSet ds = new DataSet();
                SqlDataAdapter adp = new SqlDataAdapter(cmd);
                adp.Fill(ds);
                DropDownList2.DataSource = ds;

                DropDownList2.DataValueField = ds.Tables[0].Columns[0].ToString();
                DropDownList2.DataTextField = ds.Tables[0].Columns[1].ToString();

                DropDownList2.DataBind();
                DropDownList2.Items.Insert(0, "--Select--");

                cmd.Dispose();
            }
            catch (Exception)
            {

            }

            con.Close();
        }

        protected void Button2_Click(object sender, EventArgs e)
        {
            try
            {

            SqlDataAdapter da = new SqlDataAdapter("select pcode,fyyear,date,salary,ta,contigency,nrc,institcharges,others from monthly where pcode=('" + DropDownList1.SelectedItem.ToString() + "' ) AND fyyear=('" + DropDownList2.SelectedItem.ToString() + "')",con);
                DataTable dt = new DataTable();
                da.Fill(dt);
                GridView1.DataSource = dt;
                GridView1.DataBind();
            }

            catch (Exception ex)
            {
                ex.Message.ToString();
            }

        }

    }

i am also attaching aspx code:

    <%@ Page Title="" Language="C#" MasterPageFile="~/grid.master" AutoEventWireup="true" CodeFile="yearwiseex.aspx.cs" Inherits="Default2" %>

    <%@ Register assembly="AjaxControlToolkit" namespace="AjaxControlToolkit" tagprefix="asp" %>

    <asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">
    </asp:Content>
    <asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server">
        <asp:Label ID="Label1" runat="server" Text="Select Project Code"></asp:Label>
    &nbsp;
    &nbsp;
    <asp:DropDownList ID="DropDownList1" runat="server"
           Height="20px" Width="130px"
           onselectedindexchanged="DropDownList1_SelectedIndexChanged" 
            AutoPostBack="True"> </asp:DropDownList>

        <asp:Label ID="Label2" runat="server" Text="Select Financial Year"></asp:Label>
        &nbsp;&nbsp;
    &nbsp;&nbsp;
    <asp:DropDownList ID="DropDownList2" runat="server" 
            Height="20px" Width="130px"></asp:DropDownList>

        <asp:ToolkitScriptManager ID="ToolkitScriptManager1" runat="server">
    </asp:ToolkitScriptManager>
        <asp:Button ID="Button2" runat="server" onclick="Button2_Click" Text="Button" />
        <br />
        <br />
        <br />
        <br />
        <asp:GridView ID="GridView1" runat="server" style="margin-left: 82px" 
            Width="90%" BackColor="White" BorderColor="#DEDFDE" BorderStyle="None" 
            BorderWidth="1px" CellPadding="4" ForeColor="Black" GridLines="Vertical">
            <AlternatingRowStyle BackColor="White" />
            <FooterStyle BackColor="#CCCC99" />
            <HeaderStyle BackColor="#6B696B" Font-Bold="True" ForeColor="White" />
            <PagerStyle BackColor="#F7F7DE" ForeColor="Black" HorizontalAlign="Right" />
            <RowStyle BackColor="#F7F7DE" />
            <SelectedRowStyle BackColor="#CE5D5A" Font-Bold="True" ForeColor="White" />
            <SortedAscendingCellStyle BackColor="#FBFBF2" />
            <SortedAscendingHeaderStyle BackColor="#848384" />
            <SortedDescendingCellStyle BackColor="#EAEAD3" />
            <SortedDescendingHeaderStyle BackColor="#575357" />
        </asp:GridView>
        <br />
    &nbsp;<br />
        </asp:Content> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:18:27.417

我认为您正在寻找 MultiSelect。在这种情况下，请使用列表框：

[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listbox.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listbox.aspx)

...并将选择模式设置为“多个”。

# c - 了解进程的执行环境

> ID：13320277
> 
> 赞同：2
> 
> 时间：2012-11-10T07:45:02.093
> 
> 标签：c, process, exec, strace

我如何知道两个不同上下文中进程的“执行环境”的区别？

为了正确表达这个问题，我安装了plan9port `/opt/plan9/`，当我从中运行财富程序时，`/opt/plan9/bin/fortune`它工作正常。`/opt/plan9/lib/fortune`（从和读取财富列表`/opt/plan9/lib/fortune.index`）。当我从 ac 代码 (test.c) 内部调用它时

```
char* opts[] = {"fortune"};
execve("/opt/plan9/bin/fortune", opts, NULL); 
```

它不读取财富清单。当我调用这两个二进制文件时，我使用 strace 来查看有什么区别。

`strace -f -eopen ./test`

```
open("/usr/local/plan9/lib/fortunes", O_RDONLY) = -1 ENOENT (No such file or directory)
Misfortune!
+++ exited with 1 +++ 
```

发出默认消息“不幸”。

`strace -f -eopen fortune`

```
open("/opt/plan9/lib/fortunes", O_RDONLY) = 3
Snob intellectual bachelors can't have fun in San Antonio.  -Ted Nelson
+++ exited with 0 +++ 
```

效果很好。

如何更改 ./test 读取财富文件。它必须与 exec 环境有关，二进制文件从中读取库。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T07:47:40.750

当您调用 时`execve()`，您正在显式设置`NULL`环境。所以`fortune`程序很可能是依赖一些环境变量来查找`/opt/plan9/...`。在 shell 提示符下键入`env`以找出设置了哪些环境变量。

# performance - 当我使用条件编译参数排除代码时，为什么 VB6 EXE 文件大小没有变化？

> ID：13320285
> 
> 赞同：2
> 
> 时间：2012-11-10T07:48:23.913
> 
> 标签：performance, compiler-construction, vb6, compilation, compiler-optimization

基本上，在我的 VB6 代码中声明 Windows API 函数时，会附带许多需要声明或与该函数一起使用的常量，实际上，通常这些常量中的大多数都没有使用，您最终只使用其中一个或因此，在进行 API 调用时，我使用**条件编译参数**来排除这些（和其他东西），使用如下所示：

```
IncludeUnused = 0 : Testing = 1 
```

（这就是我设置两个条件编译参数的方式（默认情况下它们是布尔类型）。

因此，许多未使用的东西被排除在外：

```
#If IncludeUnused Then
' Some constant declarations and API declarations go here, sometimes functions
' and function calls go here as well, so it's not just declarations and constants
#End If 
```

我还使用类似的包装器，使用在 VB6 属性窗口“制作”选项卡的**条件编译参数输入字段中声明的****测试**布尔值。**测试**布尔值用于在我处于测试模式时显示消息框和类似的东西，当然，如果我将测试设置为 0（当我在测试时显然是 1），这些消息框会被删除（不**显示**） ）。

 ******问题是，我尝试将**IncludeUnused**和**Testing**设置为 0 和 1，反之亦然，总共四 (4) 个组合，无论我将这些值设置为哪种组合，我的 VB6 EXE 的输出 EXE 文件大小都不会改变！使用 Fast Code 和 Small Code 编译为 Native Code 时，它​​始终为 49,152。

**此外，如果我在Testing**和**IncludeUnused**的四 (4) 种组合下编译为 p 代码，无论如何我总是以文件大小 32,768 结束。

这让我发疯，因为它让我相信实际上并没有发生任何变化，即使它确实发生了。为什么当从编译中排除代码段时，文件大小仍然相同？我错过了什么或做错了什么，或者我计算错了什么？

我已经考虑过可能 VB6 自动不编译未用于最终输出 EXE 的代码的选项，但我从几个来源中读到这不是真的，因为如果它被包含，它会被编译（纠正我如果我错了），如果这是对的，那么就不需要使用**IncludeUnused**布尔值来删除未使用的代码......？

如果有人能阐明这些想法，我将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T16:23:02.283

很可能是大小差异非常小，并且 exe 大小被填充到下一个 512 或 1024 字节对齐。尝试用 zip 压缩 exe，看看 zip 文件的大小是否不同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T16:53:53.440

您误解了编译器的作用。VB6 编译器的输出是*代码*。常量只是值的占位符，它们不是代码。编译器将它们添加到其符号表中。当它稍后在您的代码中遇到使用该常量的语句时，它会将常量*替换*为其值。无论您使用常量还是硬编码语句中的值，该语句都会产生完全相同的代码。

因此，这自动意味着如果您从未在任何地方实际使用过该常量，那么生成的代码就没有任何区别。您通过使用#If 完成的所有工作就是使编译器的符号表更小。这是毫无意义的事情，您从编译速度中获得的实际收益是无法衡量的。符号表被实现为哈希表，它们具有 O(1) 的摊销复杂度。

您使用常量只是为了使您的代码更具可读性。如果需要，可以轻松更改常量值。通过使用#If，您实际上降低了代码*的*可读性。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-11T11:59:52.477

VB6 可执行文件大小被填充为 4KB 块，因此如果代码差异很小，则对可执行文件没有影响。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-10T17:50:13.083

您无法在条件编译指令中测试运行时数据。

这些指令使用由文字值、运算符和 CC 常量组成的表达式。设置常量值的一种方法是：

```
#Const IncludeUnused = 0
#Const Testing = 1 
```

您还可以通过项目属性定义它们以进行 IDE 测试。转到该对话框中的 Make 选项卡，然后单击 Help 按钮了解详细信息。

也许这是您设置值的地方？如果是这样，请考虑这只是为以后的读者提供的附加信息，而不是答案。

请参阅[#If...Then...#Else 指令](http://msdn.microsoft.com/en-us/library/aa262671%28v=vs.60%29.aspx)******

# objective-c - 差异日期：总天数

> ID：13320286
> 
> 赞同：0
> 
> 时间：2012-11-10T07:48:39.663
> 
> 标签：objective-c

```
 NSCalendar *gregorian = [[NSCalendar alloc]
                         initWithCalendarIdentifier:NSGregorianCalendar];

NSUInteger unitFlags = NSMonthCalendarUnit | NSDayCalendarUnit;

NSDateComponents *components = [gregorian components:unitFlags
                                            fromDate:dateBegin
                                              toDate:dateEnd options:0];
totalDays = [components day]; 
```

这并没有给我两个日期之间的总天数，而是简单的两个日期中的 2 天之间的差异。它的 dateBegin 是 2012 年 9 月 8 日，而 dateEnd 是 2012 年 11 月 10 日，结果是 2！为什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:50:55.743

改变你的波纹管

> NSUInteger unitFlags = NSMonthCalendarUnit | NSDayCalendarUnit；

到

> NSUInteger unitFlags = NSDayCalendarUnit;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T07:55:53.930

```
 NSDateComponents *components;
    NSInteger days;

    components = [[NSCalendar currentCalendar] components: NSDayCalendarUnit 
    fromDate: startDate toDate: endDate options: 0];
    days = [components day]; 
```

我也找到了那个解决方案。

# c++ - 在 Windows 上使用用户会话的关闭状态？

> ID：13320289
> 
> 赞同：1
> 
> 时间：2012-11-10T07:49:10.573
> 
> 标签：c++, windows, winapi, shutdown, logoff

比如说，如果我打开记事本，在其中输入一些内容并且不保存它，然后从同一个用户会话中调用以下 API：

```
ExitWindowsEx(EWX_LOGOFF, SHTDN_REASON_MAJOR_OTHER | SHTDN_REASON_MINOR_OTHER | SHTDN_REASON_FLAG_PLANNED); 
```

该用户会话将进入“关闭状态”，其中操作系统将显示一个覆盖窗口，其中显示记事本阻止系统注销用户的消息。在用户单击“取消”或“强制退出”按钮之前，此叠加层不会消失。

所以两部分问题：

1.  有什么方法可以知道哪些进程阻止了注销/关闭进程？

2.  有没有办法以编程方式取消这个用户会话“关闭状态”？

PS。可以通过调用 GetSystemMetrics( [SM_SHUTTINGDOWN](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724385%28v=vs.85%29.aspx#SM_SHUTTINGDOWN) ) 来检测此状态；

**编辑：**与下面的答案相反，我*并没有*试图阻止系统关闭，也没有任何用户模式进程被“挂起”。

**EDIT2：**这是我试图取消/关闭的覆盖的屏幕截图： ![在此处输入图像描述](../Images/7fcc4c6142c981011c8fe27e15975bf4.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T11:42:55.107

问题 2：“有没有办法以编程方式取消此关闭状态？”

简而言之，答案不是真的。而且您也不应该真正以编程方式停止关机，除非：关机会导致严重的数据丢失或严重影响后续系统启动时的用户体验。但仅举一个例子：想象一台计算机过热 - 以编程方式停止关机可能会导致系统崩溃（以及非常愤怒的用户）。

系统关闭也不是您需要监控的唯一事情。还有休眠和挂起事件（查看 WM_POWERBROADCAST 消息）。

也就是说，Windows 提供了大量的机制来检测系统关闭。例如：

如果您的应用程序有消息泵，您可以选择在 Windows 轮询正在运行的应用程序对 [WM_QUERYENDSESSION](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376890%28v=vs.85%29.aspx)进行投票时返回 FALSE ，但是从 Vista 开始的 Windows 在超时后仍将强制关闭。从 Vista 开始，您可以（并且需要）在向 WM_QUERYENDSESSION 返回 false 后[关闭 ShutdownBlockReasonCreate 。](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376877%28v=vs.85%29.aspx)

如果您的应用程序作为服务运行，您可以使用[RegisterServiceCtrHandlerEx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms685058%28v=vs.85%29.aspx)然后[SetServiceStatus](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686241%28v=vs.85%29.aspx)通过设置 SERVICE_ACCEPT_PRESHUTDOWN 来获得 3 分钟的关闭扩展宽限期，这将为您提供 SERVICE_CONTROL_PRESHUTDOWN 通知。当然，您不会收到注销通知，因为服务不受注销的影响。Pre-Vista 您可以注册 SERVICE_CONTROL_SHUTDOWN 通知。

控制台应用程序（以及 gui 应用程序，但它没有意义）可以使用[SetConsoleCtrlHandler](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686016%28v=vs.85%29.aspx)来通知 CTRL_LOGOFF 和 CTRL_SHUTDOWN_EVENT。

在低得多的级别上，可以尝试挂钩 API 函数，例如 NTShutdown 甚至 NtSetSystemPowerState，这显然是[“在任何类型的重新启动期间调用的最后一件事”](http://blogs.technet.com/b/brad_rutkowski/archive/2007/08/25/how-to-catch-shutdowns-that-don-t-go-to-debugger-or-cause-bugchecks.aspx)。但我强烈建议不要尝试这个。

也就是说，有一些方法可以真正强烈地坚持不应该关闭系统。考虑以下：

1.) 尝试将您的应用程序注册为第一个接收关机通知。就像是：

```
 // http://msdn.microsoft.com/en-us/library/windows/desktop/ms686227(v=vs.85).aspx
    if(!SetProcessShutdownParameters(0x4ff, 0)) //  greedy highest documented System reserved FirstShutdown
    {
        // Fallback
        if(!SetProcessShutdownParameters(0x3ff, 0)) // highest notification range for applications
        {
             // shouldn't happen
        }
    } 
```

2.) 在 WM_QUERYENDSESSION 上返回 FALSE 从 Vista 开始，在 WM_QUERYENDSESSION 上返回 false 后调用 ShutdownBlockReasonCreate()。

3.) 告诉 Windows 您需要系统保持正常运行并可用。看看 [http://msdn.microsoft.com/en-us/library/windows/desktop/aa373208(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa373208(v=vs.85).aspx)

```
SetThreadExecutionState(ES_CONTINUOUS | ES_SYSTEM_REQUIRED | ES_DISPLAY_REQUIRED); 
```

4.) 清理，从 Vista 开始调用 ShutdownBlockReasonDestroy()，然后彻底关闭系统。

您还可以尝试未记录的功能（至少它不再在 MSDN 上）“user32.dll”中的 CancelShutdown，它在某些时候（仍然可能）曾经非常像使用中止标志调用 shutdown.exe。

你的旅费可能会改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T23:32:12.137

按照您的编辑，这使您的问题更清楚：

如果您监视 WM_QUERYENDSESSION 并对其做出 FALSE 响应，您可以在预定的时间段内从仍在运行的进程中轮询，然后发出带有标志[EWX_FORCEIFHUNG](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376868%28v=vs.85%29.aspx)的 ExitWindowsEx 调用，例如在 WM_ENDSESSION 上。或者您实际上可以在收到 WM_QUERYENDSESSION 时先发制人地调用它 - 问题是：如果强制关闭会导致严重的数据丢失怎么办？在这一点上，您对系统用户没有任何好处。

根据您的评论更新：

这个怎么样：

要找出阻塞应用程序：

1.  使用 SetProcessShutdownParameters 注册您的应用程序，使其排在第一位以获取 WM_QUERYENDSESSION。
2.  对 WM_QUERYENDSESSION 响应 FALSE，然后在 Vista 上调用 ShutdownBlockReasonCreate 为自己争取时间。
3.  获取链中的第一个窗口 HWND top = GetTopWindow(NULL)
4.  从 hwnd GetWindowThreadProcessId() 获取进程 ThreadId（将其与您正在运行的应用程序进行比较；））
5.  使用 SendMessageTimeOut 向 hWnd 发送消息 - 如果您没有收到响应（超时），您*可能*已经找到了阻塞窗口。转到第 6 步。如果没有，请跳到第 7 步。
6.  使用 OpenProcess() 和 GetWindowThreadProcessId 返回的句柄来获取进程句柄，并调用 GetModuleBaseName() 来获取挂起进程的名称。
7.  如果您没有找到挂起的窗口，请使用 GetNextWindow() 枚举下一个窗口并返回步骤 4。

您还可以尝试使用上面的枚举窗口句柄技术来确定您是否可以获得“挂窗”叠加层的句柄。这样做可能会让你有机会做一个发送键来取消状态。我敢打赌，您将无法访问它，但我还没有尝试过 :)

同样，您的里程可能会有所不同:)

# jquery - 在 Datatable jquery 中导出 PDF/Excel

> ID：13320291
> 
> 赞同：0
> 
> 时间：2012-11-10T07:49:38.090
> 
> 标签：jquery, excel, pdf, datatable

我在使用 jquery for firefox 在数据表中导出 PDF 和 excel 时遇到问题，它要求 flash 播放器启用 pdf 和 excel 按钮，但在 chrome 中它即将到来的默认值我需要使用没有 flash 播放器的数据表导出 pdf 和 excel

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:49:56.463

我最近使用过 Datatable Tablettool 插件。它使用 alivepdf 和 zeroclipboard 分别将数据导出为 pdf 和 excel。两者都是编译成 swf 并注入到 tabltools 的 asction 脚本文件。如果你相信你的工件不应该包含 flash（这很少见，因为今天的 flash 有同样的需求，如果不是更多的需求，比如 javascript）那么你可以使用

**JXLS** for excel 导出[官网](http://jxls.sourceforge.net/)

**iTEXT** for pdf 导出 [官方网站](http://itextpdf.com/index.php)

否则，如果您想坚持使用 tabletool swf 插件，您可能会发现下面的示例很有用

# java - 如何在arraylist中一一添加对象以制作完整列表

> ID：13320293
> 
> 赞同：1
> 
> 时间：2012-11-10T07:49:45.147
> 
> 标签：java, list, jsp, struts2, arraylist

我有一堂课，我正在根据它的 bookid 获取书单。

*获取列表的代码：*
`Bookdetails book=new Bookdetails();book = dao.listBookDetailsById(Integer.parseInt(bookid));`

在根据其 Id 获得一本书后，我将该书插入到一个列表中，并且我正在将其放入会话中并将其返回到我的 jsp 页面。

*将书插入列表的代码* `

```
for(int i=1;i<=1;i++)
 {
    book = dao.listBookDetailsById(Integer.parseInt(bookid));    
    books.add(book);
 }
 session.put(BillTransactionBooksConstants.BOK, books );
 lists = (List) session.get( BillTransactionBooksConstants.BOK );
 System.out.println(lists.size()); ` 
```

**注意：每次用户单击我的 jsp 页面中的一行时，bookid 都会出现在我的操作类中**

***但我的问题是***：当我尝试将书籍添加到列表中时，它只会将 1 本书添加到列表中。当用户传递另一本书 id 以添加到 arraylist 时，它不会与前一个一起插入到列表中。我的列表大小始终显示为 1。

当用户将 bookid 传递给我的操作类时，我想根据这些书籍的 id 将所有书籍插入到数组列表中。

请帮我解决这个问题。

完整的动作类代码：

```
import java.util.ArrayList;
    import java.util.List;
    import java.util.Map;

    import javax.servlet.http.HttpServletRequest;

    import org.apache.struts2.ServletActionContext;

    import v.esoft.actions.interceptor.VisionBooksConstants;
    import v.esoft.dao.BookdetailsDAO.BookdetailsDAO;
    import v.esoft.pojos.Bookdetails;

    import com.opensymphony.xwork2.ActionContext;
    import com.opensymphony.xwork2.ActionSupport;

    public class AddBookToSession extends ActionSupport {
         Bookdetails book=new Bookdetails();
            List<Bookdetails> books = new ArrayList<Bookdetails>();
            List<Bookdetails> lists = new ArrayList<Bookdetails>();
            BookdetailsDAO dao = new BookdetailsDAO(); 
    Map session = ActionContext.getContext().getSession();

        @SuppressWarnings("unchecked")
        public String execute()
        { 
            HttpServletRequest request = ServletActionContext.getRequest();

            String bookid = request.getParameter("bid");  

            System.out.println("---------------Bookid-"+bookid);

            for(int i=1;i<=1;i++)
            {
              book = dao.listBookDetailsById(Integer.parseInt(bookid));   
              System.out.println("---------------Bookid-"+book); 
              books.add(book);
            }
                 session.put(BillTransactionBooksConstants.BOK, books );
                 lists = (List) session.get( BillTransactionBooksConstants.BOK );
                  System.out.println(lists.size()); 

            return SUCCESS;
        }

        public Bookdetails getBook() {
            return book;
        }

        public void setBook(Bookdetails book) {
            this.book = book;
        }

        public List<Bookdetails> getBooks() {
            return books;
        }

        public void setBooks(List<Bookdetails> books) {
            this.books = books;
        }

        public List<Bookdetails> getLists() {
            return lists;
        }

        public void setLists(List<Bookdetails> lists) {
            this.lists = lists;
        }   
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T07:59:08.737

问题是您没有从会话中加载列表，因此每次有新请求时您都会创建一个新列表。

编辑：您第一次尝试从会话加载列表时会注意到那里，所以我们需要创建 ArrayList。您可以在一些初始化例程中执行此操作，但以下代码提供了一个很好的解决方法。

尝试这个：

```
books = (List) session.get( BillTransactionBooksConstants.BOK );

if ( books == null ) books = new ArrayList<Bookdetails>();

book = dao.listBookDetailsById(Integer.parseInt(bookid));   
books.add(book);
session.put(BillTransactionBooksConstants.BOK, books ); 
```

希望它有效。

# ruby-on-rails-3 - 按部分文本栏搜索 3

> ID：13320298
> 
> 赞同：1
> 
> 时间：2012-11-10T07:50:22.350
> 
> 标签：ruby-on-rails-3

我有一个搜索表单，可以在我的食谱模型中搜索多个列，目前它只返回完整字符串的结果，所以如果我搜索千层面我会得到一个结果，但是如果我搜索 lasa，那么我什么也得不到。我认为这样做是正确的吗 a = ？搜索 我需要进行 LIKE 搜索吗？如果是这样，我不确定实现这一点的语法。

我当前的查询看起来像这样

```
@countrysearch = Recipe.where("dish_name = ? OR country_of_origin = ? OR difficulty = ? OR preperation_time = ?",
params[:search],
params[:search],
params[:search],
params[:search] 
```

)

我需要做什么才能通过部分文本进行搜索？或者有人可以向我指出一个可以建议使用什么语法的资源？

任何帮助表示赞赏

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:07:47.900

好的，我想我已经找到了答案，但如果有人有更好的解决方案，请告知

在我现在拥有的控制器内

```
 q = "%#{params[:search]}%"
    @countrysearch = Recipe.where("dish_name LIKE ? OR country_of_origin LIKE ? OR difficulty LIKE ? OR preperation_time LIKE?",
q,
q,
q,
q 
```

)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T08:21:48.540

如果您的表中没有大量数据，这可能会起作用。如果您有很多食谱，`LIKE`那么对大型数据集的这么多查询可能会很快陷入困境。

我建议您查看几个允许模糊搜索的 Rails 搜索引擎集成。有几个不错的选项可以让您与 Rails 模型紧密集成，这样每当您更新模型时，它也会更新您的搜索索引。

我最喜欢的是[Elasticsearch](http://www.elasticsearch.org/)，在 Rails 中使用了[轮胎](https://github.com/karmi/tire)，但很多人对 Solr、Thinking Sphinx 和其他人发誓。查看[Railscasts](http://railscasts.com)以获得几个很好的搜索选项，其中任何一个都可以解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T14:05:59.347

如果您使用 postgresql 数据库，请检查[pg_search](https://github.com/Casecommons/pg_search) gem，它支持全文搜索，并提供许多有用的选项。

# vb.net - 传递给 ISelectionSet 的 Search 方法的 FeatureCursor 实例抛出 NullReferenceException

> ID：13320313
> 
> 赞同：2
> 
> 时间：2012-11-10T07:55:16.817
> 
> 标签：vb.net, arcobjects, arcmap

我正在尝试在 VB.Net 中为 arcmap 创建一个自定义工具。但是我在将 FeatureCursor 传递给 ISelectionSet 的 Search() 方法时遇到了问题。

这是我的代码的一部分：

```
 Dim pSelSet As ISelectionSet = provFSel.SelectionSet
    Dim provCursor As IFeatureCursor
    pSelSet.Search(spatialFilter, True, provCursor)
    Dim provFeature As IFeature = provCursor.NextFeature 
```

在 Search() 内的 provCursor 下出现一个蓝色波浪线，表示“变量 'provCursor' 在被赋值之前通过引用传递。运行时可能导致空引用异常。” 我试过了

```
 Dim provCursor As IFeatureCursor = New FeatureCursor 
```

但是 New FeatureCursor 下的曲线显示“'ESRI.ArcGIS.Geodatabase.FeatureCursorClass.Friend Sub New()' 在此上下文中不可访问，因为它是 'Friend'。”。我也试过

```
 Dim provCursor As IFeatureCursor = Nothing 
```

但没有成功。

在我所有的调试尝试中，Arcmap 都因以下错误而崩溃：Microsoft.VisualBasic.dll 中发生了“System.NullReferenceException”类型的第一次机会异常

有人可以帮我弄清楚我的代码有什么问题吗？我真的很感激任何帮助。

-斯皮尔曼

我实际上不确定上述代码或之前的代码中是否发生错误。因此，我发布了整个子程序内容：

```
 Dim pPoint As IPoint = pMxDoc.CurrentLocation
    Dim provFSel As IFeatureSelection = provinceLayer

    Dim pGeom As IGeometry = pPoint.Shape
    Dim spatialFilter As ISpatialFilter = New SpatialFilter

    With spatialFilter
        .Geometry = pGeom
        .SpatialRel = esriSpatialRelEnum.esriSpatialRelWithin
    End With

    Dim pSelSet As ISelectionSet = provFSel.SelectionSet
    Dim provCursor As IFeatureCursor
    pSelSet.Search(spatialFilter, True, provCursor)
    Dim provFeature As IFeature = provCursor.NextFeature 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-03T15:19:32.297

尝试：

```
pSelSet.Search(spatialFilter, True, out provCursor) 
```

# c# - 如何从 Windows XP 下的程序中知道或更改 Windows 事件日志的大小？

> ID：13320314
> 
> 赞同：1
> 
> 时间：2012-11-10T07:55:23.457
> 
> 标签：c#, c++, windows, event-log

我在 Windows XP 系统上遇到了一个奇怪的问题。我的本地服务应用程序将其诊断消息记录到 Windows 事件日志中，因此在某些时候这些消息停止记录。我以为问题出在我的代码中，但后来我发现其他进程也无法记录消息。

所以我想知道，Windows 事件日志的大小是否有限制？

PS。我想我需要专门写这个——我需要从命令行或 API 知道/更改大小。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:12:21.510

限制和行为取决于日志配置。如果“达到最大日志大小”设置为“不覆盖事件”，请检查日志属性。如果是这样，则不会记录事件。您也可以在那里设置限制。

更新：事实证明，问题是如何以编程方式检查上述行为。请查看[EventLog.OverflowAction](http://msdn.microsoft.com/en-us/library/system.diagnostics.eventlog.overflowaction%28v=vs.100%29.aspx)、[EventLog.MaximumKilobytes](http://msdn.microsoft.com/en-us/library/system.diagnostics.eventlog.maximumkilobytes%28v=vs.100%29.aspx)和[EventLog.MinimumRetentionDays](http://msdn.microsoft.com/en-us/library/system.diagnostics.eventlog.minimumretentiondays%28v=vs.100%29.aspx)属性，应该足够了。

# linux - Mac OS 和基于 linux 的操作系统上的 windows 用户收藏夹目录是什么？

> ID：13320320
> 
> 赞同：0
> 
> 时间：2012-11-10T07:56:04.957
> 
> 标签：linux, windows, macos, directory, documents

在 Windows 7 上使用 python 语言说： os.path.expanduser('~') gets me 'E:\Users\san'

里面有一个**Documents**文件夹，所以我可以通过 os.join() 找到它

它在 MAC OSx 或其他 Linux 发行版上叫什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T10:27:54.463

我认为应该大体相同。Unix 中的结构类似，因此

```
os.path.join(os.path.expanduser("~"), "Documents") 
```

应该带你到文件夹。如果 ~ 不起作用，请尝试 HOME 或 $HOME。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T10:37:43.360

UNIX（Mac OS X）和类 UNIX（Linux 等）系统中的用户目录称为“用户”。在该目录中是帐户目录。通常在 OS X 中，您会看到计算机所有者的一个帐户目录，另一个称为“共享”。共享帐户是每个人的读写访问权限。

```
os.path.normpath(os.path.join(os.path.expanduser("~"), "Documents")) 
```

登录用户的 Documents 目录位于用户帐户目录中。对于 OS 10.4.11 或更早版本，没有默认的 Documents 目录。某些安装（例如 MS Office）会在较旧的操作系统版本中创建一个 Documents 目录。为名为 Bob Smith 的用户使用 UNIX 路径标记... /Users/bobsmith/Documents

# cuda - 我的 CUDA 内核中的 printf() 不会产生任何输出

> ID：13320321
> 
> 赞同：5
> 
> 时间：2012-11-10T07:56:08.197
> 
> 标签：cuda, printf

我`printf()`在我的 CUDA 程序中添加了一些语句

```
__device__ __global__ void Kernel(float *, float * ,int );
void DeviceFunc(float *temp_h , int numvar , float *temp1_h)
{ .....
    //Kernel call
    printf("calling kernel\n");
    Kernel<<<dimGrid , dimBlock>>>(a_d , b_d , numvar);
    printf("kernel called\n");
  ....
}

int main(int argc , char **argv)
{   ....
    printf("beforeDeviceFunc\n\n");
    DeviceFunc(a_h , numvar , b_h); //Showing the data
    printf("after DeviceFunc\n\n");
    ....
} 
```

同样在 Kernel.cu 中，我写道：

```
#include<cuda.h>
#include <stdio.h>
__device__ __global__ void Kernel(float *a_d , float *b_d ,int size)
{
    int idx = threadIdx.x ;
    int idy = threadIdx.y ;
    //Allocating memory in the share memory of the device
    __shared__ float temp[16][16];

    //Copying the data to the shared memory
    temp[idy][idx] = a_d[(idy * (size+1)) + idx] ;
    printf("idx=%d, idy=%d, size=%d", idx, idy, size);
    ....
} 
```

然后我像这样编译`-arch=sm_20`：

```
nvcc -c -arch sm_20 main.cu
nvcc -c -arch sm_20 Kernel.cu
nvcc -arch sm_20 main.o Kernel.o -o main 
```

现在，当我运行程序时，我看到：

```
beforeDeviceFunc

calling kernel
kernel called
after DeviceFunc 
```

所以`printf()`内核内部没有打印出来。我该如何解决？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-10T10:33:12.280

`printf()`仅当内核成功完成时才会显示输出，因此请检查所有 CUDA 函数调用的返回码并确保没有报告错误。

此外`printf()`，输出仅显示在程序中的某些点。[编程指南的附录 B.32.2](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#limitations)将这些列为

*   `<<<>>>`通过or启动内核`cuLaunchKernel()`（在启动开始时，如果 CUDA_LAUNCH_BLOCKING 环境变量设置为 1，也在启动结束时），
*   `cudaDeviceSynchronize()`通过, `cuCtxSynchronize()`, `cudaStreamSynchronize()`, `cuStreamSynchronize()`, `cudaEventSynchronize()`, 或`cuEventSynchronize()`,进行同步
*   `cudaMemcpy*()`通过或的任何阻塞版本进行内存复制`cuMemcpy*()`，
*   `cuModuleLoad()`通过或加载/卸载模块`cuModuleUnload()`，
*   `cudaDeviceReset()`通过或进行上下文破坏`cuCtxDestroy()`。
*   在执行由`cudaStreamAddCallback()`or添加的流回调之前`cuStreamAddCallback()`。

要检查这是您的问题，请在内核调用之后添加以下代码：

```
{
    cudaError_t cudaerr = cudaDeviceSynchronize();
    if (cudaerr != cudaSuccess)
        printf("kernel launch failed with error \"%s\".\n",
               cudaGetErrorString(cudaerr));
} 
```

然后，您应该会看到内核的输出或错误消息。

更方便的是，[`cuda-memcheck`](https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#limitations)如果您在其下运行可执行文件，它将自动为您检查所有返回码。虽然您应该始终检查错误，但这在解决具体问题时会派上用场。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-23T02:01:18.323

我刚才遇到了同样的错误，将块大小减小到 512 有所帮助。根据文档，最大块大小可以是 512 或 1024。

我编写了一个简单的测试，表明我的 GTX 1070 的最大块大小为 1024。 UPD：您可以使用 cudaError_t cudaPeekAtLastError() 检查您的内核是否曾经执行过，如果内核已成功启动，则返回 cudaSuccess，并且仅在更糟糕的是调用 cudaError_t cudaDeviceSynchronize()。

测试块大小为 1023

测试块大小为 1024

测试块大小为 1025

CUDA 错误：配置参数无效

块最大大小为 1024

```
#include "cuda_runtime.h"
#include "device_launch_parameters.h"
#include <iostream>

__global__
void set1(int* t)
{
    t[threadIdx.x] = 1;
}

inline bool failed(cudaError_t error)
{
    if (cudaSuccess == error)
        return false;

    fprintf(stderr, "CUDA error: %s\n", cudaGetErrorString(error));
    return true;
}

int main()
{
    int blockSize;
    for (blockSize = 1; blockSize < 1 << 12; blockSize++)
    {
        printf("Testing block size of %d\n", blockSize);
        int* t;
        if(failed(cudaMallocManaged(&t, blockSize * sizeof(int))))
        {
            failed(cudaFree(t));
            break;
        }
        for (int i = 0; i < blockSize; i++)
            t[0] = 0;
        set1 <<<1, blockSize>>> (t);
        if (failed(cudaPeekAtLastError()))
        {
            failed(cudaFree(t));
            break;
        }
        if (failed(cudaDeviceSynchronize()))
        {
            failed(cudaFree(t));
            break;
        }

        bool hasError = false;
        for (int i = 0; i < blockSize; i++)
            if (1 != t[i])
            {
                printf("CUDA error: t[%d] = %d but not 1\n", i, t[i]);
                hasError = true;
                break;
            }
        if (hasError)
        {
            failed(cudaFree(t));
            break;
        }

        failed(cudaFree(t));
    }
    blockSize--;
    if(blockSize <= 0)
    {
        printf("CUDA error: block size cannot be 0\n");
        return 1;
    }
    printf("Block maximum size is %d", blockSize);
    return  0;
} 
```

PS 请注意，块大小中唯一的东西是扭曲粒度，现在是 32，所以如果 0 == yourBlockSize % 32，扭曲的使用效率很高。使块大于 32 的唯一原因是当代码需要同步时，因为同步仅在单个块中的线程之间可用，这使得开发人员使用单个大块而不是许多小块。因此，使用更多数量的小块运行可能比使用更少数量的大块运行效率更高。

# .net - 为什么我们需要 Hash by key？

> ID：13320322
> 
> 赞同：2
> 
> 时间：2012-11-10T07:56:17.080
> 
> 标签：.net, security, encryption, hash

*（我只是想找出我错过了什么......）*

假设 John 有一条*明文*消息，他可以创建一个常规`hash`（如 md5 或 sha256）*然后*加密该*消息*。

John 现在可以向 Paul 发送消息 + 其（明文）哈希，并且 Paul 可以知道消息是否被更改。（解密然后比较哈希）。

**即使**攻击者可以更改加密数据（无需解密）——当保罗打开消息时——并重新计算哈希——它也不会生成与约翰发送给他的哈希相同的哈希。

那么为什么我们需要按键散列呢？

![在此处输入图像描述](../Images/6bdfd6b2097b35038ae3f78f344b108f.png)

![在此处输入图像描述](../Images/a2caaf5471a2e9c55c1570e3c9b46896.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:46:14.587

看起来您不必这样做*只是*一个好主意，因为通过将密钥包含在哈希中，它表明数据确实是用原始密钥加密的 - 几乎无限期。显然你上面的例子可以工作，但我会说你不能 100% 确定消息没有被智能操纵，或者暴力试错，在另一端产生一个看起来正确但没有的解密'不触发哈希检查失败。

> 消息发送方使用 HMAC 函数生成一个值（MAC），该值是通过压缩**密钥和消息输入**形成的。MAC 通常与消息一起发送到消息接收方。接收方使用与发送方相同的密钥和 HMAC 函数计算接收到的消息的 MAC，并将计算的结果与接收到的 MAC 进行比较。如果这两个值匹配，则消息已被正确接收，并且接收者确信发送者是共享密钥的用户社区的成员。

*FIPS PUB 198*
*联邦信息处理标准出版物*
*“Keyed-Hash Message Authentication Code (HMAC)”*

使用上述方法意味着您有额外的安全检查。解密消息后，将原始密钥附加到消息并运行散列函数。然后，您将新哈希与发送的哈希进行比较。这是一个更好的检查，因为您知道攻击者必须知道密钥（或者非常幸运）才能生成通过哈希检查的内容。这基本上是试图避免那些可能非常了解散列函数的攻击者，并限制他们可以进行的更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:06:59.390

如果你问为什么密钥被散列，它允许数据库或操作系统以更安全的格式存储密码。系统可以通过将密钥的哈希值与存储的密钥哈希值进行比较来检查密钥的有效性。

此外，安全系统不仅会散列密钥，还会散列密钥+已知随机模式 (=salt)，这会阻止人们生成最常用密码的散列字典。即使使用密码=密码，系统首先将其附加到“passwordAK(43mafk2;”并计算散列。该散列不再匹配任何其他人的预计算字典，但攻击者必须将他自己的密码字典连接到“AK (43mafk2;" 并为系统中的每个密码重新计算哈希值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T17:08:01.880

对原始未加密文本进行哈希处理的原因是为了增加安全性。这里的问题不在于是否有人操纵了加密数据——该操作很少会解密为有意义的东西，而是阻止拥有密钥的人解密文本、更改文本并使用相同的密钥重新加密。

所以基本上，即使有人有办法解密您的文本，如果他们这样做，更改您的文本，重新加密并将加密数据传递到最终目的地，您可以验证数据是否被操纵。

示例：我有文件 #1，其中包含文本“Samuel” - 这是我们组织中间谍鼹鼠的名字。假设我用文本“qwerty”将它加密到文件#2 中。我将文件 #2 传递给 Peter，以便交付给 Adam。然而，彼得是一个狡猾的卑鄙小人，是苏联的间谍。他之前窃取了我的加密/解密协议，他想通过将“Samuel”更改为“Justin”来误导我们。因此，他将“qwerty”解密回“Samuel”，将“Samuel”更改为“Justin”，使用相同的规则将其加密为“asdfg”，并将此文件传递给 Adam。亚当成功解密文件#2，并假设“贾斯汀”是苏联间谍......如果他没有散列“贾斯汀”并打电话给我确认我们的散列是否匹配。惊喜！他们不！因此，我们知道有人操纵了数据，并且有人知道解密/加密协议！保存数据完整性！

# mysql - 对唯一映射键的某些部分使用 ON DUPLICATE KEY UPDATE

> ID：13320323
> 
> 赞同：0
> 
> 时间：2012-11-10T07:56:24.183
> 
> 标签：mysql, on-duplicate-key

我有如下所示的表格

```
 ItemAttMapID    ItemAttributeID    VendorID    vItemID    Qty
        1                4               1           2       60
        2                4               2           3       10
        3                3               5           5       20 
```

在这张表中`ItemAttMapID`是`auto_increment` `primary_key`

并且`ItemAttributeID, VendorID, VItemID`是`Unique Mapping`。

我使用了以下查询

```
INSERT INTO `client`.`mapping`  
(`ItemAttMapID`, `ItemAttributeID`, `VendorID`, `vItemID`, `Qty`)  

VALUES  
(NULL, 4, '2', '3', '70'),  
(NULL, 3, '5', '5', '80')  
ON DUPLICATE KEY UPDATE Qty = VALUES(Qty); 
```

它给了我想要的正确结果，但是当我使用以下查询而不是更新特定记录时，它会插入新记录。

```
INSERT INTO `client`.`mapping`  
(`ItemAttMapID`, `ItemAttributeID`, `VendorID`, `vItemID`, `Qty`)  

VALUES  
(NULL, 2, '5', '5', '80')  
ON DUPLICATE KEY UPDATE Qty = VALUES(Qty); 
```

表的变化是这样的

```
 ItemAttMapID    ItemAttributeID    VendorID    vItemID    Qty
        1                4               1           2       60
        2                4               2           3       10
        3                3               5           5       20
        4                2               5           5       80 
```

我想要更新第三个数字行，但它正在向表中插入一条新记录。

如何使用 ON DUPLICATE KEY UPDATE 来实现这一点。

**编辑：**

我只想检查，如果`VendorID`并且`vItemID`已经存在，然后`ItemAttributeID`使用 ON DUPLICATE KEY UPDATE 更新记录（ NOT THE ）。

因为如果我将`ItemAttributeID`相同的内容放在`VendorID`和`vItemID`查询中，那么它会更新记录，否则它会插入新记录。

# android - 使用相机前安装 USB 存储

> ID：13320325
> 
> 赞同：0
> 
> 时间：2012-11-10T07:57:04.437
> 
> 标签：android, android-4.0-ice-cream-sandwich

我正在使用冰淇淋三明治平板电脑 (7")。当我尝试使用我的相机时，此语句会弹出“使用相机前安装 USB 存储”....我该怎么办？...谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:43:47.260

Android 中的相机是为将照片存储在外部存储设备上而创建的。在手机上，这可以是 microSD 或内部大存储。我认为，您的平板电脑没有 SD 卡插槽，因此您需要插入 USB 闪存驱动器，相机将在其上存储照片（或插入 SD 卡，如果您的平板电脑有此插槽）。

# c# - 从 Metro 风格应用程序启动 Windows 资源管理器

> ID：13320326
> 
> 赞同：1
> 
> 时间：2012-11-10T07:57:06.883
> 
> 标签：c#, windows-8, microsoft-metro

我想将文件下载到 Windows 应用商店应用程序中的 DownloadsFolder。然后我想在 DownloadsFolder 上打开一个 Windows 资源管理器（实际上是在我在 DownloadsFolder 中创建的文件夹上），
但我不知道该怎么做。

这个 stackoverflow 问题[Launching a Desktop Application with a Metro-style app](https://stackoverflow.com/questions/9527644/launching-a-desktop-application-with-a-metro-style-app)建议使用 Launcher.LaunchUriAsync。但文件声称：

> 您不能使用此方法在本地区域中启动 URI。例如，应用程序不能使用 file:/// 协议访问本地计算机上的文件。相反，您必须使用存储 API 来访问文件。

事实上，我试图使用“文件：”协议来调出资源管理器窗口。当我尝试这种机制时，Launcher.LaunchIUriAsync 失败了。

如果浏览器可以做到这一点，为什么我不能呢？有没有办法让我打开 Windows 资源管理器，或者这超出了现实的可能性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-12T12:28:45.633

我不认为你可以从 Metro 启动 Windows 资源管理器。但是，您可以使用的一件事是文件选择器。

[http://code.msdn.microsoft.com/windowsapps/File-picker-app-extension-0cb95155](http://code.msdn.microsoft.com/windowsapps/File-picker-app-extension-0cb95155)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-18T20:20:22.333

[BatRT](http://isys-labs.com/batrt/)允许您从 WinRT 应用程序运行批处理文件命令。它利用 URI 调用。这可用于打开应用程序或执行文件操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-03T16:19:31.677

如果您愿意在您的解决方案中包含一些非 Windows 应用商店组件，则有一种解决方法。虽然您不能直接启动进程，但您始终可以在 Windows 服务中运行 HTTP 侦听器，该侦听器侦听来自沙盒 Windows 应用商店（Metro 风格）应用程序的命令并为您启动资源管理器（或任何其他进程）。一个简单的方法是在 Windows 服务中使用 Web API 服务 - 只需在控制器中实现 GET 操作，并为要启动的可执行文件提供参数以及可选的可执行参数。

不过，这是一种围绕沙盒安全性的最终运行，因此您可能希望拥有一个量身定制的 Web API，而不是只启动一组预打包的应用程序（如资源管理器或您自己的应用程序之一）。

当然，对于消费者应用程序，这不是一个好的解决方案，因为您不能只安装 Windows 应用商店中的所有内容。但是，对于 LOB 应用程序，这并不是一个糟糕的折衷方案，因为您通常可以更好地控制环境。这是将某些指标或其他数据显示到活动磁贴中并在单击磁贴时启动桌面应用程序的好方法。这是否会带来良好的用户体验是完全不同的对话。

# python - Django 模板错误：'unicode' 对象没有属性'year'

> ID：13320327
> 
> 赞同：0
> 
> 时间：2012-11-10T07:57:20.020
> 
> 标签：python, django, django-templates

我从推特上获取推文。在模板推文循环中，我试图打印这条推文是多久之前创建的。所以这就是我尝试的：

```
<li class="twitter-feed-block-content">
  {{ tweet.text }}
  <span class="when">
    {{ tweet.created_at|timesince }}
  </span>
</li> 
```

`{{tweet.text}}`打印正确。但是，当我添加下一行时`{{ tweet.created_at|timesince }}`，出现以下错误：

```
Exception Value:     'unicode' object has no attribute 'year' Exception
Location:   REMOVED_BY_ME/lib/python2.7/site-packages/django/utils/timesince.py
in timesince, line 29 Python
Executable: REMOVED_BY_ME/bin/python
Python Version: 2.7.2 
```

是`tweet.created_at`一个字符串。这是原因吗？如果是这样，我如何转换它以使其与`timesince`过滤器无缝协作？

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T07:59:49.407

使用 python strptime 将其转换为 DateTime 对象

```
datetime_obj = datetime.strptime("2012-10-11", "%Y-%m-%d") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T01:19:42.507

好的，这就是我解决问题的方法。正如我所说，我只想创建自定义过滤器作为最后的手段。

所以，我创建了一个名为`strtotimesince`. 我把它放在这里，以便在有人遇到类似问题时有所帮助。

```
from django.utils import timesince

@register.filter(name='strtotimesince')
def strtotimesince(value,format=None):
    if not value:
        return u''

    if not format:
        format = "%a %b %d %H:%M:%S +0000 %Y"
    try:
        convert_to_datetime = datetime.strptime(value, format)
        if convert_to_datetime:
            return "%s ago" % timesince.timesince(convert_to_datetime)
    except:
        return '' 
```

# sql - CONTAINSTABLE 不适用于单个字符

> ID：13320329
> 
> 赞同：3
> 
> 时间：2012-11-10T07:57:40.207
> 
> 标签：sql, sql-server, freetext, containstable

我在表上使用 containstable() 进行搜索，但如果我在搜索字符串中仅输入单个字符，则它不起作用。以下是我正在使用的查询。

```
DECLARE @FreeTextSearch VARCHAR(500)='a'

SELECT tblProjectIDs.[KEY]
    FROM CONTAINSTABLE(Project,*,@FreeTextSearch)AS tblProjectIDs 
```

我有名称为“a”（ProjectName 列）的项目和名称为“ab”（ProjectLeader 列）的项目负责人。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T12:39:23.097

```
DECLARE @FreeTextSearch VARCHAR(500) = 'a'
SELECT tblProjectIDs.[KEY]
FROM dbo.tblProjectIDs
WHERE CONTAINS(*, @FreeTextSearch) OR ProjectName LIKE @FreeTextSearch 
```

# komodo - 在 Komodo Edit 中更改选项卡图标

> ID：13320330
> 
> 赞同：0
> 
> 时间：2012-11-10T07:57:50.533
> 
> 标签：komodo, komodoedit

我想更改 Komodo 中默认的空白选项卡图标，但找不到正确的 CSS 选择器。我创建了有效的 userChrome.css 文件，我可以通过以下方式定位特定于语言的选项卡：

```
#tabbed-view tabs > tab[label$=".js"] 
```

但无论我使用哪种选择器，默认选项卡图标始终位于顶部。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T21:57:15.063

以下是我在 Komodo Edit 7.1 中更改默认选项卡图标的方法：

```
.tab-icon {
    display: none;
}
.tab-image-left {
    background-image: url(chrome://famfamfamsilk/skin/icons/page.png) !important;
    width: 16px !important;
    height: 16px !important;
}
#tabbed-view tabs > tab[label$=".js"] .tab-image-left {
    background-image: url(chrome://famfamfamsilk/skin/icons/page_white_code.png) !important;
} 
```

这段代码应该进入 userChrome.css

# c# - 在 SQL-数据库邮件中的特定时间间隔后发送电子邮件

> ID：13320334
> 
> 赞同：0
> 
> 时间：2012-11-10T07:58:23.770
> 
> 标签：c#, sql, sql-server-2008, excel

我有一个门户网站，用户可以在其中下载从 SQL Server 2008 表生成的 excel 表。我想在每一个小时更新的 excel 表（从 sql 表中派生）后自动发送这个过程的方法应该直接发送到指定的电子邮件地址。

**我有将 DataTable 转换为 Excel 的代码。**

```
SQL Server 2008 - Database Mail 
```

使用上面我可以安排我的存储过程在 1 小时后运行，但是我如何从中生成 excel 表并将其作为附件发送？

还有其他方法可以实现相同的目标吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T08:09:37.400

试试这个[Windows 服务](http://www.codeproject.com/Articles/3990/Simple-Windows-Service-Sample)

示例代码供您参考

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-12T05:38:16.417

您可以通过 2 种方式实现此目的

1）您可以使用 Windows 服务，如 Rajashekar 所说
2）您可以创建一个 SSIS 包来生成 excel 文件并发送电子邮件。完成后，创建一个作业以每 1 小时运行一次此 SSIS 包

下面是动态创建excel文件的示例链接

[http://www.codeproject.com/Articles/402958/SSIS-Package-Export-Data-from-Database-Daily-to-Ne](http://www.codeproject.com/Articles/402958/SSIS-Package-Export-Data-from-Database-Daily-to-Ne)

发送带有附件的电子邮件的另一个链接如下

[http://www.codeproject.com/Articles/85172/Send-Email-from-SSIS-with-option-to-indicate-Email](http://www.codeproject.com/Articles/85172/Send-Email-from-SSIS-with-option-to-indicate-Email)

# cracking - 为什么软件保护中的 ECSDA 签名很有用？因为它们可以被跳过

> ID：13320335
> 
> 赞同：0
> 
> 时间：2012-11-10T07:58:39.890
> 
> 标签：cracking

我正在读一些书，并提到所谓的 ECDSA（椭圆曲线数字签名算法）用于生成难以破解的序列号

我的理解是，我们总是可以静态/动态分析程序集并将这些 JMP 代码更改为我们想要的（破解）。为什么我们要花费巨大的精力来生成复杂的序列号？对我来说听起来不值得。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T13:54:47.250

事实证明，有一些技术可以强制执行 EXECUTABLE 文件完整性检查，这种技术与二进制代码保护技术一起推动软件保护工具向前运行

# android - 在 libgdx 应用程序中看不到 admob 横幅

> ID：13320338
> 
> 赞同：0
> 
> 时间：2012-11-10T07:58:52.117
> 
> 标签：android, admob, libgdx

我添加了 [这里写的代码](http://code.google.com/p/libgdx/wiki/AdMobInLibgdx)

但是我在我的游戏中看不到带有广告的横幅。我的应用程序已发布。但是目前的版本还没有发布。我已添加到清单：

```
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.INTERNET" /> 
```

有一个类似的线程 [here](https://stackoverflow.com/questions/9384487/admob-4-3-1-adds-not-showing-up-no-admob-id-yet-just-for-test-cant-get-view)

但我无法理解那里的答案。他们写道： ***您无需在市场上已有应用程序即可获得新应用程序的发布者 ID。在“添加站点/应用程序”表单上的 Android 包 URL 字段中，只需输入“market://details?id=your.package.name”。您当然希望将“your.package.name”替换为您应用的实际包名称。viewWidth 警告很好，在插入发布者 ID 后您可能仍会看到它们。***

我不明白我应该在哪里包含“market://details?id=your.package.name”。

Logcat 向我显示以下错误： ***w/Ads (3200) 无效的未知请求错误：无法确定请求类型。您的广告单元 ID 是否正确？w/webcore(3200)：第一次布局后无法获取视图宽度***

我的发布者密钥已正确插入到代码中。顺便说一句，它是在 logcat 中打印的。（可以排除打印吗？）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:05:52.820

> 您无需在市场上已有应用程序即可获得新应用程序的发布者 ID。在“添加站点/应用程序”表单上的 Android 包 URL 字段中，只需输入“market://details?id=your.package.name”。您当然希望将“your.package.name”替换为您应用的实际包名称。viewWidth 警告很好，在插入发布者 ID 后您可能仍会看到它们。

这与 Admob 有关，当向 Admob 添加应用程序（通过 admob.com）时，不需要在市场上发布该应用程序。Admob 会询问您的包名，可以写一个尚未在 Android Market 中发布的包名。

# python - 我可以在带有 Python3.x 的 Django(dev 1.6.x) 上使用 MySQL 吗？

> ID：13320343
> 
> 赞同：39
> 
> 时间：2012-11-10T07:59:27.173
> 
> 标签：python, django, python-3.x

我使用 git repo 中的 Django dev(1.6.x) 并且我想使用 MySQL，但是在`settings.py`文件上无法设置 MySQL，因为 python3 和 Django 不支持 MySQL，所以我在 python3.x 上使用 pymysql 包没有任何问题，但是在 Django 中也无法设置`settings.py`。

我可以在带有 python3 的 django 上使用 mysql（或 pymysql 或？）吗？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2014-01-28T20:23:42.173

我还努力让 MySQL 与 Django 1.6 和 Python 3.3 一起工作。唯一有效的是切换到 PyMySQL。[**在这里**](https://github.com/PyMySQL/PyMySQL/)查看我的帖子[](https://github.com/PyMySQL/PyMySQL/)

 ****在下面添加答案** 

我的环境：Windows 上的 OSX 10.9、Python 3.3.3、Django 1.6.1、PyMySQL 0.6.1、MySQL Server 5.5

如何使其工作：

1.  安装 PyMySQL 0.6.1 版本（[https://github.com/PyMySQL/PyMySQL/](https://github.com/PyMySQL/PyMySQL/)）：您可以使用 pip 安装它，即：`pip install PyMySQL`或手动下载包；他们的网站上有一个很好的文档说明如何做到这一点。

2.  打开您的 Django App **__init__.py**并粘贴以下行：

    ```
    import pymysql
    pymysql.install_as_MySQLdb() 
    ```

3.  现在，打开**settings.py**并确保您的 DATABASE 属性如下所示：

    ```
    DATABASES = {
       'default': {
           'ENGINE': 'django.db.backends.mysql',
           'NAME': 'mydb',
           'USER': 'dbuser',
           'PASSWORD': 'dbpassword',
           'HOST': 'dbhost',
           'PORT': '3306'
        }
    } 
    ```

4.  就是这样，你应该能够执行`python manage.py syncdb`来初始化你的 MySQL 数据库；请参阅下面的示例输出：

    ```
    Creating tables ...
    Creating table django_admin_log
    Creating table auth_permission
    Creating table auth_group_permissions
    ...
    ...
    Creating table socialaccount_socialtoken

    You just installed Django's auth system, which means you don't have any superusers defined.
    ... 
    ```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-10T16:56:08.427

[pymysql for python 3 不是 Django DB 后端，但是有证据表明，在Django Python 3 MySQL backend changes](https://github.com/django/django/commit/bfc380baeaca359ac7b36eb35a2415e6a37e836c)中，已经进行了一些工作，将 MySQL 后端移植为 Python 3 兼容。

其他页面显示 Django 1.5 提供的 MySQL 后端适用于 Python 3： [Django MySQL Works on Python 3.2.2](https://groups.google.com/forum/?fromgroups=#!topic/django-developers/CtTpgMjN5J8)

然而，Python 2.x (mysql-python) 上可用的默认 MySQL 包装器不支持 Python 3。我怀疑[MySQL Python 3](https://github.com/davispuh/MySQL-for-Python-3)上的包兼容，你可以试一试。

还要确保您使用 Python 3.2 或 3.3 或更高版本运行 Django。不支持 Python 3.0。

如果在这些检查后仍然无法正常工作，请发布您的 DATABASES 设置以防出现问题。

另外，我在 Django 存储库中找不到任何高于 Django 1.5 的内容，你确定它是 1.6.x 吗？

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-02-12T22:00:15.810

我一直在等待 django 和 python 3.x 对 mysql 的支持，最后有一个官方兼容的引擎可以让你做到这一点。

[http://dev.mysql.com/doc/connector-python/en/connector-python-django-backend.html](http://dev.mysql.com/doc/connector-python/en/connector-python-django-backend.html)

我使用 python 3 创建了一个 virtualenv，并且能够使用上面链接中的数据库特定设置。

```
DATABASES = {
    'default': {
        'NAME': 'mydatabase',
        'ENGINE': 'mysql.connector.django',
        'USER': 'mydbuser',
        'PASSWORD': 'mydbpassword',
        'OPTIONS': {
          'autocommit': True,
        },
    }
} 
```

剪切并粘贴 Django Poll Tutorial 中的模型，“python manage syncdb”工作。

更多测试看整个 ORM 是否支持这个连接器。

我在这里写完整：http: [//bunwich.blogspot.ca/2014/02/finally-mysql-connector-that-works-with.html](http://bunwich.blogspot.ca/2014/02/finally-mysql-connector-that-works-with.html)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2015-06-26T22:57:41.717

我通过这个解决了这个问题：

根据 Django 1.8 和 1.9 的文档，[**mysqlclient**是推荐的驱动程序](https://docs.djangoproject.com/en/1.9/ref/databases/#mysql-db-api-drivers)：

> **MySQLdb**是一个由 Andy Dustman 开发和支持十多年的原生驱动程序。
> 
> **mysqlclient**是 MySQLdb 的一个分支，它特别支持 Python 3，可以用作 MySQLdb 的替代品。在撰写本文时，这是将 MySQL 与 Django 一起使用的推荐选择。
> 
> **MySQL Connector/Python**是来自 Oracle 的纯 Python 驱动程序，不需要 MySQL 客户端库或标准库之外的任何 Python 模块。

所以，我安装了mysqlclient

```
sudo pip install mysqlclient 
```

在 settings.py 中配置数据库

```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'mydjango',
        'USER': 'user',
        'PASSWORD': 'password',
        'HOST': 'localhost',
        'PORT': '3306'
    }
} 
```

但是当我`./manage.py syncdb`用于测试时，我收到一条错误消息：

```
_mysql.so not found 
```

要解决此问题，请添加

```
export DYLD_LIBRARY_PATH=/usr/local/mysql/lib/ 
```

到`~/.bashrc`

然后运行：

```
source ~/.bashrc 
```

现在应该修好了。**

# plugins - Like Box 加倍的人

> ID：13320344
> 
> 赞同：1
> 
> 时间：2012-11-10T07:59:27.627
> 
> 标签：plugins, facebook-likebox

我遇到了 Like Box 社交插件的奇怪行为。当我转到 [https://developers.facebook.com/docs/reference/plugins/like-box/](https://developers.facebook.com/docs/reference/plugins/like-box/) 并输入我的 facebook 页面时：http: [//www.facebook.com/LetUgo.cz](http://www.facebook.com/LetUgo.cz) 它在列表中显示了双倍的人（即他们的面部照片）。换句话说，几乎每个喜欢我的页面的人都会被列出两次。人数（X 人喜欢...）也不正确。

当我退出 facebook 并再次显示插件时，它是正确的。所以错误行为只有在我登录 facebook 时才会发生。喜欢该页面的其他人也会遇到同样的问题。

当我去这个 facebook 页面时，一切都是正确的。所以这个问题只与 facebook like box 社交插件有关。

有人有线索吗？干杯

# php - 强化 PHP 论坛

> ID：13320350
> 
> 赞同：-7
> 
> 时间：2012-11-10T08:00:52.290
> 
> 标签：php, javascript, xss

> **可能重复：**
> [使用 PHP 清理用户输入的最佳方法是什么？](https://stackoverflow.com/questions/129677/whats-the-best-method-for-sanitizing-user-input-with-php)
> [使用 PHP 防止 XSS](https://stackoverflow.com/questions/5255343/preventing-xss-with-php)

我拥有一个带有旧 php 论坛的数据库，并且我有一个我想从 XSS 中强化的文本区域。我是该领域的新手。

文本区域定义为：

```
 <textarea name="information" cols="60" row="4" id="infoid" > < /textarea> 
```

我应该添加什么来防止它使用“<,>”符号？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:07:28.777

为什么不接受任何你想要的东西？转换和转义这些字符。即`<`转换为`&lt;`等。这将使下注者高兴 AKA 支付现金的人。

这也是微不足道的，见[htmlspecialchars](http://php.net/manual/en/function.htmlspecialchars.php)

# shell - 转义字符在 gnome-shell 中不起作用

> ID：13320360
> 
> 赞同：0
> 
> 时间：2012-11-10T08:05:04.547
> 
> 标签：shell, terminal, gnome-terminal

如果我在自己的终端中运行代码

```
 sh projectbingo.sh 
```

它显示为：

```
Hello World

hi 
```

当我运行以下代码时：

```
 gnome-terminal  --window-with-profile=tushar -x ./projectbingo.sh 
```

一个新的终端弹出，但显示：

```
./projectbingo.sh: line 3: $'\E[H\E[2J': command not found
./projectbingo.sh: line 23: $'\E[H\E[2J': command not found
./projectbingo.sh: line 77: $'\E[H\E[2J': command not found
Got bus address:  "unix:abstract=/tmp/dbus-  3G1IPFUIn6,guid=85293fb9a05e2828c07c371800000364" 
Connected to accessibility bus at:  "unix:abstract=/tmp/dbus-    3G1IPFUIn6,guid=85293fb9a05e2828c07c371800000364" 
 Registered DEC:  true 
./projectbingo.sh: line 79: $'\E[H\E[2J': command not found  
Got bus address:  "unix:abstract=/tmp/dbus-3G1IPFUIn6,guid=85293fb9a05e2828c07c371800000364" 
Connected to accessibility bus at:  "unix:abstract=/tmp/dbus-3G1IPFUIn6,guid=85293fb9a05e2828c07c371800000364" 
Registered DEC:  true 
./projectbingo.sh: line 82: $'\E[H\E[2J': command not found
./projectbingo.sh: line 107: $'\E[H\E[2J': command not found
Got bus address:  "unix:abstract=/tmp/dbus-3G1IPFUIn6,guid=85293fb9a05e2828c07c371800000364" 
Connected to accessibility bus at:  "unix:abstract=/tmp/dbus-3G1IPFUIn6,guid=85293fb9a05e2828c07c371800000364" 
Registered DEC:  true 
./projectbingo.sh: line 110: $'\E[H\E[2J': command not found
./projectbingo.sh: line 116: $'\E[H\E[2J': command not found
 Hello World\n\nhi 
```

请帮忙 ！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T11:12:58.650

这不是终端问题。我怀疑是外壳问题。

具体来说，该`$'...'`符号是特定于 bash 的扩展，但您只是通过`sh`and not运行脚本`bash`，因此它不适用。

尝试将脚本中的 shebang 行更改为

```
#!/bin/bash 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T13:25:03.610

这不是特定于 shell 的问题。我不知道为什么会这样......但是当我使用

```
 echo -e "Hello World\nHi" 
```

它有效但是当我尝试运行 sh projectbingo.sh 它显示

-e 你好世界你好

所以我的问题得到了解决，但导致了新问题的到来

# linux - Linux nasm 程序集将字符附加到字符串

> ID：13320366
> 
> 赞同：1
> 
> 时间：2012-11-10T08:05:57.113
> 
> 标签：linux, assembly, x86, nasm

在 Arch Linux 的 NASM 上，如何将字符零 ('0') 附加到 32 位变量？我想要这样做的原因是，我可以通过将一位输入设置为 1 并附加一个零来输出数字 10。我需要弄清楚如何附加零。

理想的情况：

```
Please enter a number: 9
10 
```

使用这种方法，我希望能够做到这一点：

```
Please enter a number: 9999999
10000000 
```

我怎样才能做到这一点？

提前致谢，

莱利

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T14:41:04.140

好吧，正如博所说……但我很无聊。您似乎拒绝以简单的方式执行此操作（将您的输入转换为数字，加 1，然后将其转换回文本）所以我尝试使用字符。这就是我想出的。这很可怕，但“似乎有效”。

 ````
; enter a number and add 1 - the hard way!
; nasm -f elf32 myprog.asm
; ld -o myprog myprog.o -melf_i386

global _start

; you may have these in an ".inc" file
sys_exit equ 1
sys_read equ 3
sys_write equ 4
stdin equ 0
stdout equ 1
stderr equ 2
LF equ 10

section .data
    prompt db "Enter a number - not more than 10     digits - no nondigits.", LF
    prompt_size equ $ - prompt
    errmsg db "Idiot human! Follow instructions next time!", LF
    errmsg_size equ $ - errmsg

section .bss
    buffer resb 16
    fakecarry resb 1

section .text
_start:
    nop
    mov eax, sys_write
    mov ebx, stdout
    mov ecx, prompt
    mov edx, prompt_size
    int 80h

    mov eax, sys_read
    mov ebx, stdin
    mov ecx, buffer + 1 ; leave a space for an extra digit in front
    mov edx, 11
    int 80h
    cmp byte [buffer + 1 + eax - 1], LF
    jz goodinput

; pesky user has tried to overflow us!
; flush the buffer, yell at him, and kick him out!
    sub esp, 4 ; temporary "buffer"
flush:
    mov eax, sys_read
    ; ebx still okay
    mov ecx, esp ; buffer is on the stack
    mov edx, 1
    int 80h
    cmp byte [ecx], LF
    jnz flush
    add esp, 4 ; "free" our "buffer"
    jmp errexit

goodinput:
    lea esi, [buffer + eax - 1] ; end of input characters
    mov byte [fakecarry], 1 ; only because we want  to add 1
    xor edx, edx ; count length as we go

next:
; check for valid decimal digit
    mov al, [esi]
    cmp al, '0'
    jb errexit
    cmp al, '9'
    ja errexit

    add al, [fakecarry] ; from previous digit, or first... to add 1
    mov byte [fakecarry], 0 ; reset it for next time
    cmp al, '9' ; still good digit?
    jna nocarry

; fake a "carry" for next digit
    mov byte [fakecarry], 1
    mov al, '0'
    cmp esi, buffer + 1
    jnz nocarry

; if first digit entered, we're done
; save last digit and add one ('1') into the space we left
    mov [esi], al
    inc edx
    dec esi
    mov byte [esi], '1'
    inc edx
    dec esi
    jmp done

nocarry:
    mov [esi], al
    inc edx
    dec esi
    cmp esi, buffer
    jnz next

done:
    inc edx
    inc edx
    mov ecx, esi ; should be either buffer + 1, or buffer
    mov ebx, stdout
    mov eax, sys_write
    int 80h
    xor eax, eax ; claim "no error"

exit:
    mov ebx, eax
    mov eax, sys_exit
    int 80h

errexit:
    mov edx, errmsg_size
    mov ecx, errmsg
    mov ebx, stderr
    mov eax, sys_write
    int 80h
    mov ebx, -1
    jmp exit
;----------------------------- 
```

你是这么想的吗？`

# linux - crontab 脚本连续检查 (24 * 7)

> ID：13320368
> 
> 赞同：1
> 
> 时间：2012-11-10T08:05:59.860
> 
> 标签：linux, bash

**在 crontab -e 里面，我添加了这个条目**

```
* * * * * /usr/bin/memcached_autostart.sh 
```

**在 /usr/bin 我有一个名为 memcached_autostart.sh 的脚本**

**/usr/bin memcached_autostart.sh**

```
#!/bin/bash
ps -eaf | grep 11211 | grep memcached
# if not found - equals to 1, start it
if [ $? -eq 1 ]
then
memcached -d -m 16 -p 11211 -u nobody
else
echo "eq 0 - memcache running - do nothing"
fi 
```

当我以这种方式手动测试时

**启动 Memcache**

```
memcached -d -m 16 -p 11211 -u nobody
ps -eaf | grep 11211 | grep memcached
nobody     611     1  0 13:28 ?        00:00:00 memcached -d -m 16 -p 11211 -u nobody 
```

**然后杀死进程**

```
kill -9 611 
```

我期待 crontab 如果它关闭了会自动启动 Memcache，但它没有启动 Memcache，如果我做错了什么，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T08:13:01.257

查看[您的 crontab 是否正常工作](http://www.linuxquestions.org/questions/%2absd-17/crontab-test-550745/)

经过测试，[shell exit 可以大于 1](http://www.cyberciti.biz/faq/shell-how-to-determine-the-exit-status-of-linux-and-unix-command/)，所以尝试更改：

```
if [ $? -ge 1 ] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T14:34:16.627

首先你的cron：

*在这个标题中，你每 24 小时*谈论一次。为此，您必须在前两个字段中指定一天中的哪个时刻：

```
1 2 * * * doTheJob 
```

所以每一次`day of month`，每`month`一次`day of week`，在 2 小时 1 分钟，脚本都会运行。

更好的是把你的脚本放在`/etc/cron.daily`.

现在为了这份工作，你有没有尝试过：

```
ps -C memcached

ps -C memcached ho pid

echo $? 
```

如果没有`memcached`pid，（即：没有答案），`$?`必须不为空。

所以也许：

```
ps -C memcached >/dev/null || memcached -d -m 16 -p 11211 -u nobody 
```

这可能来自脚本，只需在您的 crontab 中：

```
1 2 * * * ps -C memcached >/dev/null || memcached -d -m 16 -p 11211 -u nobody 
```

（注意：如果您使用系统 crontab:`/etc/cron.d/myJob`或`/etc/crontab`，而不是用户的（根）crontab，您必须将用户级别指定为第 6 个字段：

```
1 2 * * * root ps -C memcached >/dev/null || memcached -d -m 16 -p 11211 -u nobody 
```

)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T08:13:37.157

`/usr/local/`首先，你应该在not下添加你自己的东西`/usr/`（这是由你的包机制管理的）。

然后你的[crontab](http://linux.die.net/man/5/crontab)条目

```
 * * * * * /usr/bin/memcached_autostart.sh 
```

每分钟都在运行。您确定要经常运行它吗？我会每 5 或 10 分钟运行一次（我什至不确定它是否真的有用，因为它`memcached`是一个调试良好的守护进程，很少崩溃）。

最后，我建议将日志消息添加`logger`到您的`/usr/local/bin/memcached_autostart.sh`脚本中（并确保使其可执行，`chmod a+x /usr/local/bin/memcached_autostart.sh`例如）。

要查询进程表，您可以使用`pidof`or `pgrep`; 如果您只想知道监听端口 11211 使用什么进程`netstat -p`

# asp.net - 多个 ASP.NET 验证器

> ID：13320372
> 
> 赞同：0
> 
> 时间：2012-11-10T08:06:58.253
> 
> 标签：asp.net

我有一个带有以下代码的 ASP.NET 页面。

```
<asp:TextBoxEx ID="CompSCEmail" MaxLength="100" runat="server"></asp:TextBoxEx>    <asp:RegularExpressionValidator Display="Dynamic" ID="RegSubmitCompSCEmail" runat="Server" ControlToValidate ="CompSCEmail" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" ErrorMessage="(*)"></asp:RegularExpressionValidator>

<asp:ImageButton ID="SubmitButton" SkinID="submitButton" OnClick="SubmitButton_Click"
Action="Submit" ValidationGroup="submit" runat="server" VisibleOnRecall="false" />
<asp:ImageButton ID="SaveButton" SkinID="saveButton" OnClick="SaveButton_Click" Action="Save" runat="server" Visible="true"  VisibleOnRecall="makerfirst" /> 
```

当用户同时单击“提交”和“保存”按钮时，我想验证电子邮件的格式。有谁知道这是怎么做到的吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:10:47.923

提供您的`RegularExpressionValidator` **[ValidationGroup](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.basevalidator.validationgroup.aspx)**属性。

单击您的两个按钮调用`Page.Validate("yourvalidationgroup")`。这样，您可以通过单击两个按钮来验证电子邮件。

# c# - System.Drawing.ImageFromStream 处的 System.ArgumentException

> ID：13320377
> 
> 赞同：1
> 
> 时间：2012-11-10T08:07:34.427
> 
> 标签：c#, sockets, bitmap, memorystream

好的，所以我见过很多人遇到这个问题，我在某种程度上发现了可能导致问题的原因，但我不知道如何解决它。基本上，我正在尝试通过套接字将屏幕截图从客户端发送到服务器。我在客户端应用程序上截取屏幕截图并使用此方法将其转换为字节数组：

```
// Convert bitmap to byte method
public static byte[] ImageToByte(Bitmap bitmap)
{
    byte[] imageData;
    using (var stream = new MemoryStream())
    {
        bitmap.Save(stream, ImageFormat.Png);
        imageData = stream.ToArray();
        return imageData;
    }
} 
```

然后我将字节数组的长度和字节数组发送到服务器。服务器在收到长度后，使用此方法获取实际数据（这是该方法的一部分，因为它大部分不相关）：

```
void dataRecieveCallback(IAsyncResult ar)
{
    try
    {
        int rec = sck.EndReceive(ar);

        if (rec <= 0)
        {
            return;
        }

        recieveBuffer.bufStream.Write(recieveBuffer.buffer, 0, rec);
        recieveBuffer.toRecieve -= rec;

        if (recieveBuffer.toRecieve > 0)
        {
            Array.Clear(recieveBuffer.buffer, 0, recieveBuffer.buffer.Length);
            recieveBuffer.bufStream.Position = 0;
            sck.BeginReceive(recieveBuffer.buffer, 0, recieveBuffer.buffer.Length, SocketFlags.None, dataRecieveCallback, null);
            return;
        }

        // Convert all recieved data in memory stream to a byte array
        byte[] finalBuffer = recieveBuffer.bufStream.ToArray(); 
```

然后我使用`finalBuffer`来尝试获取图像，但每当我这样做时，使用此方法：

```
 TypeConverter tc = TypeDescriptor.GetConverter(typeof(Bitmap));
        Bitmap screenShot = (Bitmap)tc.ConvertFrom(finalBuffer); 
```

我总是得到一个`System.ArgumentException`来自`System.Drawing.ImageFromStream`：“参数无效”。这段代码可以很好地发送字符串，但是每当我尝试发送图像时它就不起作用。我很确定这是套接字代码的问题，因为我尝试通过截屏在本地执行此操作，使用相同的方法将其转换为字节数组，然后使用相同的方法将其转换回来，并且它有效。有人知道我的代码有什么问题吗？

这是缓冲区的部分代码

```
struct RecBuffer 
{ 
   public const int BUFFER_SIZE = 1024;
   public byte[] buffer;
   public int toRecieve;
   public MemoryStream bufStream;

   public RecBuffer(int toRec) 
   {
      buffer = new byte[BUFFER_SIZE];
      toRecieve = toRec;
      bufStream = new MemoryStream(toRecieve);
   }
} 
```

我使用了[本教程](http://www.youtube.com/watch?v=PCwS7F2uK3Q)中的大量代码。至少对于接收部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:57:22.670

我认为问题出在您的`dataRecieveCallback`功能上。在那里，您将 bufStream 的位置重置为零：

```
if (recieveBuffer.toRecieve > 0)
{
  Array.Clear(recieveBuffer.buffer, 0, recieveBuffer.buffer.Length);
  recieveBuffer.bufStream.Position = 0; // <--Here
  sck.BeginReceive(recieveBuffer.buffer, 0, recieveBuffer.buffer.Length, SocketFlags.None, dataRecieveCallback, null);
  return;
} 
```

这意味着您将在系统下次调用您的回调函数时覆盖已经收到的字节。

所以，只需删除该行

```
recieveBuffer.bufStream.Position = 0; 
```

并且您的代码应该可以正常工作。

# php - 从共享相同 URL 的 facebook 在我的网站上同步 facebook 评论

> ID：13320385
> 
> 赞同：0
> 
> 时间：2012-11-10T08:08:26.870
> 
> 标签：php, facebook, web, facebook-comments

我在我的网站上有一条 Facebook 评论。这是示例：[http ://www.obtainer-online.com/fbtest.php](http://www.obtainer-online.com/fbtest.php)

是否可以在我的网站上同步该特定 URL 上的评论以及来自共享该 URL 的 Facebook 的评论？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:29:08.500

不，这是不可能的。您需要复制评论，但为此您需要每个评论者的登录数据（或访问令牌）；）

# android - 平板电脑上的 Mapview：如何以偏移量居中地图？

> ID：13320386
> 
> 赞同：4
> 
> 时间：2012-11-10T08:08:32.957
> 
> 标签：android, google-maps, android-mapview, center, offset

提示：这是一篇[类似的](https://stackoverflow.com/questions/13234295/is-it-possible-to-center-a-map-at-a-fixed-position-lat-lng-100px)HTML 帖子。

在我的应用程序的当前平板电脑实现中，我有一个全屏 MapView，其中一些信息显示在左侧面板的 RelativeLayout 中，如下所示：

*（我的布局很琐碎，为了可读性我想没有必要发布它）*

![在此处输入图像描述](../Images/3ac25eb418905f8608b42a441760888e.png)

当我想将地图集中在特定点上时，问题就来了......如果我使用这段代码：

```
mapController.setCenter(point); 
```

我当然会在屏幕中心而不是在空白区域的中心获得点。

我真的不知道我可以从哪里开始将左面板的偏移量转换为地图坐标......

非常感谢任何帮助或建议

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-11T21:02:01.043

`top-left`您可以通过从和角获取地图坐标`bottom-right`并将其除以屏幕尺寸来实现您的目标，以获得每个像素的值。

然后你只需要乘以偏移量并将其添加到原始中心。

示例代码：

```
private void centerMap(GeoPoint center, int offX, int offY){
    GeoPoint tl = mapView.getProjection().fromPixels(0, 0);
    GeoPoint br = mapView.getProjection().fromPixels(mapView.getWidth(), mapView.getHeight());

    int newLon = offX * (br.getLongitudeE6() - tl.getLongitudeE6()) / mapView.getWidth() + center.getLongitudeE6(); 
    int newLat = offY * (br.getLatitudeE6() - tl.getLatitudeE6()) / mapView.getHeight() + center.getLatitudeE6();

    mapController.setCenter(new GeoPoint(newLat, newLon));

} 
```

要使用，您可以使用原始中心和两个偏移量（x 和 Y）调用上述方法以应用。

`Note:`如所写，上面的代码向左移动正偏移值，向右移动负偏移值。在您问题的屏幕上，您将需要使用负偏移量，向左移动地图，以及 Y 的零偏移量。

问候

# java - 如何通过用户单击 Android 浏览器中的元素来保存 HTML 页面的一部分

> ID：13320387
> 
> 赞同：1
> 
> 时间：2012-11-10T08:08:38.390
> 
> 标签：java, android, html

我想要在您检查元素时突出显示的 HTML 文件部分。我只需要它作为一个字符串来保存。因此，用户只需单击即可选择要保存的元素代码。这可能吗？谢谢

编辑：这也不适用于我控制的网站，我需要它用于用户访问的任何网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:19:20.923

数据 URI 将用于此目的。

```
<a href="data:text/css;charset=utf-8;base64,c2Rm">test</a> 
```

单击时，将出现一个新页面，其中包含内容`sdf`。

您可以使用`window.btoa(content)`动态生成 URI。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:43:26.157

是的，您必须使用 ajax 和 json 或 jquery 将部分 html 代码保存到数据中。

# javascript - 如何隐藏验证消息

> ID：13320388
> 
> 赞同：1
> 
> 时间：2012-11-10T08:08:41.437
> 
> 标签：javascript, jquery, knockout.js, knockout-validation

我正在使用 knockout.js 和 knockout.validation 插件。我有一个搜索表单，其中包含 3 个输入字段`Name, Date and Country`。我想确保用户在继续搜索之前必须填写至少 1 个字段。`required`出于这个原因，我在所有 3 个字段上应用了本机验证规则。这是我的代码：

```
function SearchModel() {
    var self = this;

    self.Name = ko.observable().extend({ required: true });
    self.Date = ko.observable().extend({ required: true });
    self.Country = ko.observable().extend({ required: true });
    self.Errors = ko.validation.group(self);
} 
```

如果验证失败，我还创建了一个 Errors 属性，其中包含所有验证消息。现在，当用户提交搜索表单并且验证失败时，我不想在输入字段下方显示所有错误消息，而是希望在表单顶部显示一条消息，例如*“您必须输入至少一个过滤器用于搜索”*。

所以我的问题是如何隐藏所有消息并在表单顶部显示一条消息？或者，如果有任何其他更好的方法来做我想做的事情，而不是让我知道？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:53:22.380

不要将*每个*字段设置为必需，而是使用条件来确定是否提供了*一个*属性。

```
function SearchModel() {
    var self = this;

    self.Name = ko.observable();
    self.Date = ko.observable();
    self.Country = ko.observable();
    self.Errors = ko.validation.group(self);
    self.needsMore = ko.computed(function () {
      return !(self.Name() || 
        self.Date() ||
        self.Country);
    });
} 
```

# visual-studio - 如何在没有 Visual Studio 的情况下编写 DirectX

> ID：13320389
> 
> 赞同：3
> 
> 时间：2012-11-10T08:08:51.850
> 
> 标签：visual-studio, directx, sublimetext2

所以这几乎就是我想做的……我最近开始使用 sublime text 2 作为我新的 1 号编辑器。我也想开始编写directX，我想知道是否有办法使用sublime text2 而不是Visual Studio。

我在想类似的东西...

...在 Sublime Text2 中编程 ...在 Sublime Text2 中编译/构建 ...从 Visual Studio 调试？或者也许是WinDbg？没用过

我知道我可以设置一个普通的 VisalStudio 项目并使用 ST2 编写代码，但是当我想在 sublime 文本等中添加新文件时我会遇到问题。我总是必须保留 Visual Studio 过滤器和项目文件是最新的...

我需要某种有意义的工作流程:) 我还想知道是否没有更多的人不喜欢 Visual Studio 或者像我这样的机器上的资源有限。不可能所有的 DirectX 程序员都在使用 Visual Studio 吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T20:19:19.940

您可以使用 Visual Studio 或 WinDBG 附加到正在运行的进程。您还可以在 Visual Studio 或 WinDBG 中将任何 .EXE 作为项目打开，以允许您在调试器下启动进程。因此，您的工作流程的这一部分不应该成为问题。

也就是说，您的工作流程中看起来很困难的部分是编译/构建部分。在查看了 Sublime Text 2 的构建系统文档[http://sublimetext.info/docs/en/reference/build_systems.html](http://sublimetext.info/docs/en/reference/build_systems.html)之后，似乎并没有真正尝试为将多个 C++ 源文件编译为目标文件的复杂性提供支持，并且然后将它们与必要的库链接在一起。创建一个 ST2 构建系统似乎可行，该系统将编译一个 C++ 源文件并将其链接到 EXE，但这可能不足以满足您的需求。

[https://github.com/tillig/SublimeMSBuild](https://github.com/tillig/SublimeMSBuild)可能是您最好的选择，因为它既支持在 ST2 中编辑 msbuild 文件，也支持实际构建它们。也就是说，它似乎不会从 ST2 中的 C++ 文件自动生成或更新 msbuild 项目文件，因此您仍然必须使 msbuild 项目文件保持最新，但该任务可以在 ST2 中完成，而不是在 VS 中完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-12T13:29:40.657

很久以前有人问过这个问题，但也许这个答案会对某人有所帮助，这就是我所做的：

在这种情况下，最好让 Visual Studio 完全关闭。您可以只使用生成文件来构建您的项目。您可以直接从 Sublime Text 运行 makefile 和可执行文件。

*   放`Project >> Add Folder to Project`
*   `Tools >> Build System >> Make`
*   如果你还没有安装 MinGW
*   在文件夹中创建一个名为“makefile”的文件，它看起来像这样：

> ```
> main.exe: main.o
>   g++ -o main.exe *.o -lkernel32 -luser32
>   main.exe
> main.o: main.cpp
>   g++ -c main.cpp -o main.o 
> ```

（注意：这只链接 kernel32 和 user32，对于 DirectX，你需要更多的东西，如果你不知道什么然后从 VisualStudio 复制它们。）

*   按 ctrl-B

这个 makefile 也会自动运行可执行文件。`main.exe`您还可以使用大多数系统上`gdb main.exe`可用的调试器替换该行（在 Windows 上您必须安装它）。

# java - 如何让 Netbeans 在运行测试时使用特定的 JVM 参数？

> ID：13320398
> 
> 赞同：7
> 
> 时间：2012-11-10T08:10:46.350
> 
> 标签：java, testing, netbeans

我将 Netbeans 与 Maven 和 TestNG 一起使用。使用 maven surefire 插件运行测试时，我可以设置一些配置参数，特别是用于我的测试的日志记录级别（跟踪）：

```
-Dorg.slf4j.simpleLogger.defaultLogLevel=trace
-Dorg.slf4j.simpleLogger.logFile=System.out 
```

但是，在运行特定的测试文件 (CTRL + F6) 或测试方法（“运行重点测试方法”）时，Netbeans 不使用 surefire（这很好），因此会忽略这些参数。

**有没有办法改变 Netbeans 在以这种方式运行测试时使用的 JVM 参数？**

[这与其他帖子](https://stackoverflow.com/questions/7579776/how-to-set-jvm-parameters-for-junit-unit-tests)有些相似，但我的问题是针对 Netbeans 的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-19T16:27:28.983

从 Netbeans 7.2 的文档（请参阅[Netbeans 7.2 更改，Maven 部分](http://wiki.netbeans.org/NetBeans_72_NewAndNoteworthy#Compile_on_Save)）：

> ... 现在测试文件总是默认运行 Maven，就像测试项目一样...

您使用的是哪个版本的 Netbeans？可能你应该升级到 7.2。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-13T07:14:03.260

在项目属性中，您可以在运行下创建配置文件。在这些配置文件中，您可以自定义 VM 选项。您可以在此处添加参数，创建测试配置并运行配置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-19T16:15:54.193

在 Maven 的 surefire 插件配置中设置 fork 属性。这将启动一个新的 JVM。现在，第二部分是如何将您想要的 JVM 参数读入新的 JVM。根据您想要做什么，您可能需要从环境中读取它们。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-09-12T12:59:10.253

就我而言，我去了项目/属性，然后是“操作”类别。在那里您会找到“测试文件”和“调试测试”操作。选择它们并将您需要的任何属性放在“设置属性”框中。

不确定这是否仅适用于 Maven 项目...

# c++ - 断言错误，字符串下标超出范围

> ID：13320400
> 
> 赞同：1
> 
> 时间：2012-11-10T08:11:05.157
> 
> 标签：c++, assertion

我几乎完成了这个菜单并按照我想要的方式工作。但是，当我在不输入任何内容的情况下按 Enter 时出现断言错误。这是代码

```
#include <iostream>
#include <cstdlib>
#include <string>
#include <sstream>
#include <iomanip>

using namespace std;

bool menu ()
{
 string input = "";
 bool exitVar;

 do
 {
 system("cls");

 cout << "               _       _   _   _       _   _ _ _  " << endl
      << "              |_|_   _|_| |_| |_|_    |_| |_|_|_| " << endl
      << "              |_|_|_|_|_| |_| |_|_|_  |_| |_|_    " << endl
      << "              |_| |_| |_| |_| |_| |_|_|_| |_|_|   " << endl
      << "              |_|     |_| |_| |_|   |_|_| |_|_ _  " << endl
      << "              |_|     |_| |_| |_|     |_| |_|_|_| " << endl
      << "               _ _   _       _   _ _ _   _ _ _   _ _     _ _ _   _ _      " << endl
      << "             _|_|_| |_|     |_| |_|_|_| |_|_|_| |_|_|_  |_|_|_| |_|_|_    " << endl
      << "            |_|_    |_|  _  |_| |_|_    |_|_    |_|_|_| |_|_    |_|_|_|   " << endl
      << "              |_|_  |_|_|_|_|_| |_|_|   |_|_|   |_|_|   |_|_|   |_|_|_    " << endl
      << "             _ _|_| |_|_| |_|_| |_|_ _  |_|_ _  |_|     |_|_ _  |_| |_|_  " << endl
      << "            |_|_|   |_|     |_| |_|_|_| |_|_|_| |_|     |_|_|_| |_|   |_| " << endl;

 cout << "\n            Welcome to Psuedo Mine Sweeper!!\n\n\n\n";

 cout << "                  <S>TART"
     << "\n\n                   <E>XIT\n\n";

    cout << "\t\t\tPlease enter a valid menu option: ";
    getline(cin,input);

    input[0] = toupper(input[0]);

}while(input[0] != 'S' && input[0] != 'E' || input.length() != 1 || cin.peek() != '\n');

if (input[0] == 'S')
    exitVar = true;
else
    exitVar = false;

return exitVar; 
```

}

我对调试断言值不是太有经验。我尝试独立运行菜单

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:13:49.657

这里的问题是，当您按下回车键时，`getline`将设置`input`为空字符串，因为没有输入任何输入。

这意味着它的长度为 0，但是当您打电话时，`input[0]`您要求输入其中的第一个字符。由于它没有，因此会引发断言错误。

要解决此问题，请在调用`getline`check 后查看是否`input`为空，如果是，请使用`continue`重新开始循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T08:18:25.870

您需要更改循环条件。

`while (input.length() != 1 || (toupper(input[0]) != 'S' && toupper(input[0]) != 'E'));`

`||`从左到右进行测试，因此您必须在检查第一个字符*之前检查长度是否正确。*作为循环条件的一部分，它也将有所帮助，`toupper`因为这样首先会检查长度。我也删除了对的调用`cin.peek()`，不确定我是否理解那是什么。

你可以用一些布尔逻辑重写整个事情以使其更清晰。

`while (!(input.length() == 1 && (toupper(input[0]) == 'S' || toupper(input[0]) == 'E')));`

通常，否定的次数越少，复杂的布尔逻辑就越容易理解。

# c# - 覆盖 Asp.Net Button mutators

> ID：13320401
> 
> 赞同：0
> 
> 时间：2012-11-10T08:11:09.463
> 
> 标签：c#, asp.net

`visible`当 Asp.Net 按钮属性更改时，我需要触发一个事件。为此，我正在使用`INotifyPropertyChanged`. 剩下的任务是覆盖按钮的 getter 和 setter。

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:00:23.777

MSDN 站点给出了在按钮单击属性更改时实现 INotifyPropertyChanged 接口的示例。您可以参考此示例来实现您的目标。

从 MSDN 复制 -

> 要在绑定客户端和数据源之间的绑定中发生更改通知，您的绑定类型应该：

```
Implement the INotifyPropertyChanged interface (preferred).

Provide a change event for each property of the bound type. 
```

不要两者都做。

要覆盖按钮的 getter 和 setter，此链接将为您提供必要的步骤。 [INotifyPropertyChanged 示例](http://aspdotnetblogspot.blogspot.in/2012/02/inotifypropertychanged-in-cnet.html?showComment=1345611473755#c934520258084600171)

# java - 当依赖于另一个项目（Eclipse）时将java项目转换为JAR

> ID：13320403
> 
> 赞同：0
> 
> 时间：2012-11-10T08:11:40.767
> 
> 标签：java, eclipse

假设我的 Eclipse IDE 中有两个 Java 项目 P1 和 P2。P2依赖于P1，即导入了P1中的一些类。

我正在将 P2 转换为 JAR 文件。我看到我不明白的菜单。我想了解这些选项的含义以及如何将它们用于我的工作。（请参考附图中的相应编号）

1,2 - .classpath 和 .project 文件是什么？我怎么知道它属于 P1 还是 P2 ？3 - 鉴于 P2 取决于 P1，我如何决定要导出哪些资源？4 - 这是什么意思？

![Eclipse 截图](../Images/075eedfcbb78b5029ff25a2ad2da686a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:38:44.677

1,2：这些属于您在左侧菜单中选择的资源
3：您也可以将两个项目导出到一个 jar 中。但是您可以单独导出每个项目，导出到单独的 jars，然后创建两个 jars。
4\. 此选项会将所有输出文件夹复制到 jar。输出文件夹基本上是生成或复制代码的文件夹。您可以通过转到 buildpath->projects 选项卡来确认输出文件夹。

# django - django-registration：我应该把“注册”目录放在哪里？

> ID：13320407
> 
> 赞同：0
> 
> 时间：2012-11-10T08:12:01.277
> 
> 标签：django, git, django-models, django-forms, django-registration

我正在使用来自[https://bitbucket.org/ubernostrum/django-registration/](https://bitbucket.org/ubernostrum/django-registration/)的 django-registration 应用程序，我对应该将其放置在哪里感到有些困惑。

我已经在 settings.py 的 INSTALLED_APPS 下添加了“注册”（按照说明），但是提到的**注册应用程序不***应该在我的项目目录*中，以及我的所有其他应用程序吗？这对我来说似乎比在其他地方（即 PYTHONPATH）更有意义。

因此，我正在考虑克隆 repo，只需获取 django-registration 的**注册**应用程序，放弃 django-registration 中包含的所有其他文件（安装、自述文件、文档等），并将该**注册**应用程序粘贴在我的项目目录中。

这样，我可以编辑模型以包含更多字段，将其反映在表单等中。

* * *

这是错的吗？

（抱歉，这是我的第一个大型 Django 项目）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:18:08.380

通常你不会接触文件`django-registration`- 如果你想为用户配置文件添加你自己的自定义字段，你会做这样的事情：

[保存配置文件并在 Django-Registration 中注册](https://stackoverflow.com/questions/1072270/saving-profile-with-registration-in-django-registration)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:22:22.210

当你安装一个 django 包时，这个包在你的 PYTHONPATH 上，所以你的项目**可以看到**它。

所以只需[通过 pip](http://docs.b-list.org/django-registration/0.8/quickstart.html#automatic-installation-via-a-package-manager)或 easy_install 安装（pip 更好），然后[将设置'INSTALLED_APPS'注册'包](http://docs.b-list.org/django-registration/0.8/quickstart.html#required-settings)

按照[此说明](http://docs.b-list.org/django-registration/0.8/quickstart.html)

# javascript - Tinymce 中的页面式布局

> ID：13320408
> 
> 赞同：1
> 
> 时间：2012-11-10T08:12:04.933
> 
> 标签：javascript, jquery, html, tinymce

是否有任何解决方法可以制作像 Google Docs 这样的 tinymce 编辑器。

在这里，我想将内容显示为 Google 文档之类的页面。

请分享你的想法？那可能吗 ？

[http://img338.imageshack.us/img338/5083/docsgooglecomacirclemed.png](http://img338.imageshack.us/img338/5083/docsgooglecomacirclemed.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-11T15:59:19.100

两个带有boostrap的例子：

[http://wrapbootstrap.com/preview/WB0DFT966](http://wrapbootstrap.com/preview/WB0DFT966)

[http://jhollingworth.github.com/bootstrap-wysihtml5/](http://jhollingworth.github.com/bootstrap-wysihtml5/)

# android - 清理android中的活动

> ID：13320412
> 
> 赞同：0
> 
> 时间：2012-11-10T08:12:34.657
> 
> 标签：android

我有四个活动a，b，c，d。活动 a 是主要活动，然后调用 b、c 和 d，然后进行一些计算。`android:noHistory="true"`我知道我可以通过这些 activites 中的属性阻止活动在我的应用程序中建立。但问题是，如果我在活动 c 中，当我按下后退按钮时，我想转到 b，但如果 d 完成，我希望删除 b 和 c，只显示 a。有什么办法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:31:50.127

将此代码放入您的每个活动中，每次稍作更改。这样你就可以覆盖后退按钮的正常功能

```
 @Override
    public boolean onKeyDown(int keyCode, KeyEvent event)  {
        if (keyCode == KeyEvent.KEYCODE_BACK
                && event.getRepeatCount() == 0) {
            //start the desired activity
        }

        return super.onKeyDown(keyCode, event);
    } 
```

另外，如果你只支持 android 2.0+ 那么你可以使用这个

```
@Override
public void onBackPressed() {
    // start your desired activity here
    return;
} 
```

只需将其中任何一个放入您的每个活动中，然后开始正确的活动

要关闭一项特定活动，请查看此页面 -[如何从堆栈历史记录中清除特定活动？](https://stackoverflow.com/questions/5001882/how-to-clear-specific-activity-from-the-stack-history)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:28:04.043

是的，可以通过确保在每个 startActivity 函数之后使用 finish() 函数来实现。除非在您希望最终显示的活动中。

所以......这是它的样子

A中的代码：

```
startActivity(Intent to start activity B); 
```

B中的代码：

```
startActivity(Intent to start activity C); 
Finish(); 
```

C中的代码：

```
startActivity(Intent to start activity D); 
Finish(); 
```

这将确保每当活动 D 完成时，活动 C 也将因为完成而完成。由于这个 C 也完成了，活动 B 中的 Finish() 将关闭 B。由于活动 A 中没有 Finish()，因此该活动将显示在屏幕上。

如果要在 D 完成后才来 Activity A，则必须使用 startActivityForResult 并处理结果，并使用 IF 有条件地执行 B & C 中的 Finish 语句。

# android - 如何更改preferences.xml 数据库的默认名称？

> ID：13320415
> 
> 赞同：3
> 
> 时间：2012-11-10T08:13:10.147
> 
> 标签：android, android-preferences

我想使用`getSharedPreference`而不是`getDefaultSharedPreference`（因为某些设备中有一些错误[）](https://stackoverflow.com/questions/10786172/android-getdefaultsharedpreferences)。

我想听听偏好的变化。所以我做了类似的事情：

```
this.getSharedPreferences("myPrefDB", MODE_PRIVATE).registerOnSharedPreferenceChangeListener(new OnSharedPreferenceChangeListener() 
    {
        @Override
        public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,String key)
        {
            if (key.equalsIgnoreCase("myPrefKey"))
                {
                  flag = sharedPreferences.getBoolean(key,true);
                }
        }
    }); 
```

但它不起作用并且给了我错误的偏好。
甚至写这样的东西：

```
public class Setting extends PreferenceActivity implements OnSharedPreferenceChangeListener
{
//like above
} 
```

又不行了。
我应该说我没有为插入值（`edit()`，`commit()`）写任何东西。我只是使用：

```
addPreferencesFromResource(R.xml.preferences); 
```

而且我认为上面的这一行将值写入默认数据库名称（如“ `com.example.something_preferences`”）。但我想将值写入我的自定义名称（myPrefDB）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-23T14:35:44.617

要在 PreferenceActivity 中设置共享首选项名称，请根据[此](https://stackoverflow.com/questions/13286822/onsharedpreferencechanged-without-using-getdefaultsharedpreferences)：

```
public class SettingsActivity extends PreferenceActivity {

/*
 * (non-Javadoc)
 * 
 * @see android.preference.PreferenceActivity#onCreate(android.os.Bundle)
 */
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    getPreferenceManager().setSharedPreferencesName("myPref"); 
    addPreferencesFromResource(R.xml.pref);
} 
```

并在其他任何地方使用 SharedPreference：

```
SharedPreferences prf = context.getSharedPreferences("sharedpreferenceNAMEthatYOUwant", Context.MODE_PRIVATE) 
```

如果此名称的首选项文件不存在，它将在您检索编辑器 ( `SharedPreferences.edit()`) 并提交更改 ( `Editor.commit()`) 时创建。

# java - 更改 Quartz 作业计划

> ID：13320419
> 
> 赞同：1
> 
> 时间：2012-11-10T08:13:37.260
> 
> 标签：java, quartz-scheduler

我正在考虑使用 Quartz 调度我的应用程序，但在所有情况下，作业触发器似乎都是一次性活动，并且对触发器的更改需要重新部署应用程序才能生效。
有什么方法可以让作业触发器检查作业计划的更改而无需重新部署代码？
谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T19:23:54.290

1.  捕获一些用户驱动的事件，例如更新文本值，例如用于安排作业的 cron 字符串
2.  找到并取消计划/删除旧作业和触发器。
3.  使用新触发器再次安排作业。

    ```
    public static <T> T scheduleCronJob(Class<T> clazz, String cronString, String uid){
        try{            
            if(cronString == null){
                throw new CronStringConfigurationException();
            }

            String jobGroupName = "cronJobsGroup";
            String jobName = "cronJob" + uid;
            String triggerGroupName = "cronTriggers";
            String triggerName = "triggerFor" + uid;

            JobDetail jobDetail = new JobDetail(jobName, jobGroupName, clazz);

            CronTrigger trigger = new CronTrigger(
                    triggerName, triggerGroupName, 
                    jobName, jobGroupName, 
                    cronString);

            JobDataMap jobDataMap = new JobDataMap();
            jobDetail.setJobDataMap(jobDataMap);

            getScheduler().scheduleJob(jobDetail, trigger);
        } catch(Exception e){
        // print error message, throw stack trace
        }
        return null;
    }

    public static void reloadCronJob(Class clazz, String cronString, String uid) throws SystemException, ParseException, SchedulerException, 
        CronStringConfigurationException, PortalException{
        // locate the job 
        String jobGroupName = "cronJobs";
        String jobName = "jobFor" + uid;

        if(cronString == null){
            throw new CronStringConfigurationException();
        }

        JobDetail jobDetail = null;
        Class<?> jobClass = null;

        // remove the old job/trigger if it exists
        try{
            jobDetail = scheduler.getJobDetail(jobName, jobGroupName);
            if(jobDetail != null){
                jobClass = jobDetail.getJobClass();
            }
            scheduler.deleteJob(jobName, jobGroupName);
        } catch(Exception e){
            e.printStackTrace();
        }

        if(jobClass == null){
            jobClass = clazz;
        }

        // create a new trigger
        scheduleCronJob(jobClass, expandoColumnName, uid);

        System.out.println("(re)scheduled job " + jobName + " using new cron string " + cronString);
    } 
    ```

# java - java.lang.NoClassDefFoundError，但我成功创建了这个类的实例

> ID：13320421
> 
> 赞同：2
> 
> 时间：2012-11-10T08:13:37.790
> 
> 标签：java, classloader, noclassdeffounderror, lwjgl, classnotfoundexception

我正在尝试为一个使用 LWJGL 的“游戏”编写启动器，我需要从其他 JAR 加载它的类。

所以我做了以下事情：

```
// ...

// The files that i must load.
String[] files = new String[] { "lwjgl.jar", "jinput.jar", "lwjgl_util.jar", "game_jar.jar" }; 

// Converting strings to URLs
urls = new URL[files.length];
 for ( int i = 0; i < files.length; i++ )
  urls[i] = new File(directoryWithMyJARsAsFileClass, files[i]).toURI().toURL();

// I'ts needed too
System.setProperty("org.lwjgl.librarypath", directoryWithMyLWJGLNativessAsFileClass.getAbsolutePath() + File.separator);
System.setProperty("net.java.games.input.librarypath", directoryWithMyLWJGLNativessAsFileClass.getAbsolutePath() + File.separator);

// All paths are correct, I tested it.

// Class loading
URLClassLoader loader = new URLClassLoader(urls, ClassLoader.getSystemClassLoader())
// Object test = loader.loadClass("org.lwjgl.LWJGLException").newInstance(); // (2)
Object game = loader.loadClass("the.game.package.MainClass").newInstance(); // (1)

// ... 
```

但是代码在 (1) 上崩溃并出现错误：

```
Exception in thread "main" java.lang.NoClassDefFoundError: org/lwjgl/LWJGLException
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Unknown Source)
    at java.lang.Class.getConstructor0(Unknown Source)
    at java.lang.Class.newInstance0(Unknown Source)
    at java.lang.Class.newInstance(Unknown Source)
    at my.own.packacge.MyLauncher.main(MyLauncher.java:##) <- ## pointing to (1)
Caused by: java.lang.ClassNotFoundException: org.lwjgl.LWJGLException
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    ... 6 more 
```

如果我取消注释 (2)，那么 org.lwjgl.LWJGLException 的实例将被成功创建，我可以用它做一些事情！类 org.lwjgl.LWJGLException 已加载并工作，但游戏不能使用它。我的问题是“如何？为什么？”。

我还反编译了游戏的主类，发现 org.lwjgl.LWJGLException 是首先从其他 JAR 导入的：

```
...
import some.import.Class;
import org.lwjgl.LWJGLException;
import org.lwjgl.Sys;
import org.lwjgl.input.Keyboard;
import org.lwjgl.input.Mouse;
import org.lwjgl.opengl.ContextCapabilities;
import org.lwjgl.opengl.Display;
import org.lwjgl.opengl.DisplayMode;
import org.lwjgl.opengl.GL11;
import org.lwjgl.opengl.GLContext;
import org.lwjgl.opengl.PixelFormat;
import org.lwjgl.util.glu.GLU;
import other.import.Class;
... 
```

我是 ClassLoaders 的新手，所以也许我犯了愚蠢的错误？我使用 URLClassLoader 是因为我还没有找到其他从 JAR 加载类的简单方法。我在其他项目上测试过，它工作正常。

# java - 将标签（对象名称）添加到实例对象

> ID：13320422
> 
> 赞同：2
> 
> 时间：2012-11-10T08:13:39.327
> 
> 标签：java, dataset, instance-variables, sparse-matrix

我使用 JavaML 库创建了一个 SparseInstace 对象，我将一些值放入该实例中，但我找不到为其分配标签的解决方案。例如，实例的创建方式如下

```
{{2=1.0, 4=2.2};null} 
```

我想添加特定的字符串值而不是那个“空”区域。这是我的代码：

```
package helloworld;

import java.io.IOException;
import net.sf.javaml.core.Dataset;
import net.sf.javaml.core.DefaultDataset;
import net.sf.javaml.core.Instance;
import net.sf.javaml.core.SparseInstance;
import net.sf.javaml.matrix.Matrix;
import net.sf.javaml.tools.InstanceTools;
import net.sf.javaml.tools.data.FileHandler;

public class WekaT2 {

public static void main(String[] args) throws IOException, Exception {

    Dataset data = new DefaultDataset();
    Instance tmpInstance = new SparseInstance();

        tmpInstance.put(2, 1.0);
        tmpInstance.put(4, 2.2);
        data.add(tmpInstance);       
    }
} 
```

[http://java-ml.sourceforge.net/api/0.1.7/net/sf/javaml/core/SparseInstance.html](http://java-ml.sourceforge.net/api/0.1.7/net/sf/javaml/core/SparseInstance.html)

如何将这些标签（对象名称）添加到实例中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:29:10.547

您尝试设置的内容称为类标签或类值，如文档中所述。您可以使用以下方法 `setClassValue(java.lang.Object value)` 示例用法将是

```
 Instance tmpInstance = new SparseInstance();
    tmpInstance.put(2, 1.0);
    tmpInstance.put(4, 2.2);
    tmpInstance.setClassValue("positive"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:33:05.790

您可以使用以下构造函数：

```
public SparseInstance(int noAttributes,
          double defaultValue,
          java.lang.Object classValue) 
```

并使用一个对象来指定标签，它可以是 JLabel、String、JButton 之类的任何东西

例如：

```
Instance tmpInstance = new SparseInstance();

    tmpInstance.put(2, 1.0, "myLabel"); 
```

问候

# android - 如何在 FragmentPagerAdapter 中实现 FragmentActivity？

> ID：13320427
> 
> 赞同：1
> 
> 时间：2012-11-10T08:15:20.680
> 
> 标签：android, listview, android-activity, listactivity

我的课程中有一个部分用于处理要为 FragmentPagerAdapter 加载的片段。现在它可以很好地加载片段，但现在我想实现一个 FragmentActivity 并且我在弄清楚如何创建它时遇到了问题，因为我不能使用“newinstance”，因为它的 Activity 类型，而且最重要的是，我不知道如何称该 FragmentActivity 与通过“newinstance”方法仅加载 Fragment 不同。我的第二个选项卡是我想扩展到 FragmentActivity 的选项卡。

```
public class SectionsPagerAdapter extends FragmentPagerAdapter {
    private Context _context;
    public SectionsPagerAdapter(FragmentManager fm) {
        super(fm);
        _context= getApplicationContext();
    }

    @Override
    public Fragment getItem(int i) {

        Fragment f = new Fragment();

        switch(i){
        case 0:
            f=News.newInstance(_context);
            break;  
        case 1:
            f=Info.newInstance(_context);
            break;
        case 2:
            f=Files.newInstance(_context);
            break;
        case 3:
            f=Donate.newInstance(_context);
            break;
        }
        /*

        Fragment fragment = new DummySectionFragment();
        Bundle args = new Bundle();
        args.putInt(DummySectionFragment.ARG_SECTION_NUMBER, i + 1);
        fragment.setArguments(args);

       */
        return f;
    }

    @Override
    public int getCount() {
        return 4;
    }

    @Override
    public CharSequence getPageTitle(int position) {
        switch (position) {
        case 0: return getString(R.string.title_section1).toUpperCase();
        case 1: return getString(R.string.title_section2).toUpperCase();
        case 2: return getString(R.string.title_section3).toUpperCase();
        case 3: return getString(R.string.title_section4).toUpperCase();
        }
        return null;
    }
} 
```

我的猜测是我不能使用 getitem 方法，因为它只用于切换片段，我必须使用类似的东西：

```
FragmentTransaction ft = fm.beginTransaction();
            ft.add(R.id.fragment_content, new BasicFragment());
            ft.commit(); 
```

有人可以帮我指出正确的方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T12:09:55.573

> 有人可以帮我指出正确的方向吗？

这是不支持的。肯定是不可能的`FragmentPagerAdapter`，它只适用于片段。

# google-maps-api-3 - 流星模板中包含的谷歌地图被渲染两次

> ID：13320428
> 
> 赞同：3
> 
> 时间：2012-11-10T08:15:30.707
> 
> 标签：google-maps-api-3, meteor

我有以下模板：

```
<template name="test">
  {{#isolate}}
    <div id="map_canvas" style="width:50%; height:50%"></div>
  {{/isolate}}
</template> 
```

在我的 test.js 中（来自[https://developers.google.com/maps/documentation/javascript/tutorial#HelloWorld](https://developers.google.com/maps/documentation/javascript/tutorial#HelloWorld)）：

```
function initialize(){
  var mapOptions = {
    center: new google.maps.LatLng(-34.397, 150.644),
    zoom: 8,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map($("#map_canvas")[0], mapOptions);
}

Template.test.rendered = function(){
    initialize();
  //*** The following is the workaround I am using:***
  // if (! this.initialized){
  //   initialize();
  //   this.initialized = true;
  // }
}; 
```

问题是：如果没有注释代码部分中显示的解决方法，模板总是被渲染两次（因为 initialize() 运行）。它既显示在控制台日志中（此处未显示日志记录代码），也可以从闪烁一次的地图中看到（这是不可接受的）。

原因，我猜，是从以下事件发生：

1.  模板被渲染，`$('#map_canvas')`生成为一个简单的 div 元素（没有附加地图）；
2.  google map api 返回 aync-ly 并修改`$('#map_canvas')`；
3.  Meteor 以某种方式检测到更改，尽管如此`{{#isolate}}`，仍决定再次渲染整个模板（这显示在日志中）；
4.  在 .initialize() 内再次调用`Template.test.rendered`。

我的问题：

1.  为什么？
2.  如果发生了这种情况，为什么 Meteor 只渲染两次，而不是无限次？
3.  解决方案？

3个问题，非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-12T05:51:25.420

由于包含`{{> test}}`被重新渲染的外部上下文，模板可能被渲染了两次。发生这种情况的原因有很多，但通常只是它最初呈现时没有订阅数据，然后在数据加载后第二次呈现。

无论如何，在你的具体情况下，我认为你想要的是`{{#constant}}`你的谷歌地图的包装，而不是`{{#isolate}}`.

**注意**：如果（无论出于何种原因）周围的上下文被重新渲染，`{{#constant}}`区域*会*被重新渲染。然而，新版本被丢弃而不是在 DOM 中被替换。所以在你回调时要小心，只*在第一次*`rendered`做某事。

# codeigniter - 为什么codeigniter在首页显示双引号（空）

> ID：13320431
> 
> 赞同：1
> 
> 时间：2012-11-10T08:16:21.197
> 
> 标签：codeigniter

我使用 codeigniter 框架，在 chrome 上运行，但在首页显示双引号。

![在此处输入图像描述](../Images/98a4fe2398da3353da17649f8e32aa4b.png)

我的控制器调用视图页面。

```
public function index(){
$this->load->view('dash_main');    
} 
```

dash_main.php

```
<html>
<head>
    <title>test</title>
</head>
<body>
    Hello World 
</body>
</html> 
```

我该如何编辑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:20:24.433

这些不在您的源代码中，它只是 Chrome 检查器在文本周围显示的内容。与 Codeigniter 无关，与您的代码或 HTML 输出无关。

查看实际的页面源代码，您不会看到任何引号（但从屏幕截图来看，您会看到很多空白）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-15T09:25:00.000

*   确保您的文件（视图）已保存为 UTF-8 格式。我遇到了和你一样的问题，把文件改成utf-8格式。就是这样^^

# java - 了解 GroupComparator

> ID：13320445
> 
> 赞同：2
> 
> 时间：2012-11-10T08:20:05.153
> 
> 标签：java, hadoop, mapreduce

我正在处理一个二级排序问题，考虑下面的数据，顺便说一下值可以是 NullWritable。

```
 Composite key 
    2000 250     
    2000 150
    2000 90

    2001 100
    2001 80

    2002 500
    2002 120 
```

我的复合键由年份（升序）和学生人数（降序）组成。因此，根据我读到的内容，如果我按年份对键进行分组，那么在我的减速器中，我应该在输出中获得每年的最大值，因为我的复合材料的第二部分是按降序排序的。我不明白这背后的逻辑，因为我看不到密钥的哪一部分将被发送到减速器或分组是如何完成的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-30T10:04:03.883

整个密钥将被发送到减速器。确定哪些键是“相同的`GroupingComparator`”，以便了解哪些值一起进入对 的调用`reduce`。如果您的分组仅按年份分组，那么是的，几个键及其所有值将进入一个`reduce`。我相信您看到的实际密钥将只是该组中的第一个，是的。

我不知道这对你是否有意义。我什至不知道它是否定义了你得到的密钥，因为你说它们在一个组中对你来说都是“相同的”。

通常我使用这种机制来提供一种更快的低级比较器实现，而不是用不寻常的语义来实现。

如果您只想`Reducer`按排序顺序查看键，那么它已经可以了。例如，它可以记住它看到的最后一个值。例如，如果您需要以 2000 开头的所有键都转到相同`Reducer`的位置，那是分区器的工作，而不是分组比较器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-30T09:34:55.620

分组键确定将一次性调用reduce方法的键部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-27T12:21:32.713

当您使用组比较器时，它将决定将转到**reduce**方法参数**Iterable 键值**的值。

```
void reduce(key, Iterable<> values, Context){} 
```

在您的情况下，如果您在 2001 年进行分组，则值 100 和 80 将会消失。

如果您编写自定义分区程序，它将根据您在自定义分区程序中提供的键来决定进入减速器的值。

# jquery - css 最后一个选择器（不是最后一个子级）

> ID：13320453
> 
> 赞同：1
> 
> 时间：2012-11-10T08:21:16.503
> 
> 标签：jquery, css

例如给定这个 html

```
 <div class="my_div">a</div>
    <div class="my_div">b</div>
    <div class="my_div">c</div> 
    <div>other</div> 
```

如何从类中选择最后一个元素`my_div`？`last-child`不是我需要的。

也就是说，给定这个 jquery 选择器

```
 $(".my_div:last").css({
                color: "#090"
            }); 
```

我怎样才能在纯 css 中编写相同的内容？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T08:27:07.203

如果不修改您的标记，这是不可能的。`:last-of-class`CSS中没有选择器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:24:44.820

你能做这样的事情吗

```
div:nth-last-child(2)
{
color:Green;
}​ 
```

**[样本](http://jsfiddle.net/EEDA5/3/)**

# ruby-on-rails - 向 Rails 中的用户模型添加“技能”列表的最佳方法是什么？

> ID：13320454
> 
> 赞同：-2
> 
> 时间：2012-11-10T08:21:32.960
> 
> 标签：ruby-on-rails, ruby-on-rails-3, forms

在我的用户编辑页面上，我希望用户能够从复选框中选择他们知道的编程语言。我会给他们大约15个可供选择。然后，我想将这些结果存储在 User 模型中以供以后访问/搜索。

解决此问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:35:22.170

您可以应用多对多关联来实现此目的。如果你谷歌甚至搜索 SO，你会得到很多例子。

但是，您可以使用以下 gem 简单地实现相同的目标

[https://github.com/mbleigh/acts-as-taggable-on](https://github.com/mbleigh/acts-as-taggable-on)

看来它的示例符合您的要求。在示例中，他们描述了相同的（技能）事物。因此，您将轻松完成它。

# php - 无法使用 php 发送电子邮件..！

> ID：13320457
> 
> 赞同：-3
> 
> 时间：2012-11-10T08:22:15.513
> 
> 标签：php, codeigniter, email

我使用 php/code 点火器创建了一个脚本，该脚本必须在一个阶段发送电子邮件。以前的电子邮件发送是成功的，但现在不是！我在我的VPS上安装了CSF防火墙，这个防火墙似乎出现了问题，是真的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:03:38.430

如果在使用相同的设置之前发送电子邮件有效，并且您确定是防火墙介于两者之间，那么很可能是防火墙导致了问题。所以你必须回答自己这些问题：

*   发送电子邮件时完成了什么网络连接？那个可能被防火墙阻止了。
*   此网络连接中使用什么协议/端口，因此用于发送电子邮件？取决于你的配置，实际上，你在这里没有命名，所以你必须自己检查。很可能是`smtp`25 端口。
*   为什么新防火墙会阻止该连接？好吧，显然取决于防火墙配置。只有您可以检查和更改。
*   也许您可以查阅一些日志文件？我会说，取决于您使用的防火墙的配置和类型。也许您必须提高日志记录级别。
*   和 和 和

在我们不知道任何细节的情况下，只有您才能回答这些问题并找到问题所在。另一方面，这可以帮助您学习网络技术。这是一件很棒的事情。继续！

# mongodb - 如何在 MongoDB 中以编程方式运行服务器端代码

> ID：13320460
> 
> 赞同：0
> 
> 时间：2012-11-10T08:22:21.560
> 
> 标签：mongodb

我需要定义一些js代码并在服务器端运行它们。我知道如何通过 mongo shell 运行它们，但我需要以编程方式执行此操作。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T17:13:14.247

您可以使用像 mongodb/gmongo 这样的 grails 驱动程序。例如，我使用[MapReduceCommand](http://api.mongodb.org/java/2.6.3/com/mongodb/MapReduceCommand.html) 使用 Javascript 语法执行 map/reduce 命令。

享受

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T17:30:09.317

经过一番互联网搜索，我从[http://pointbeing.net/weblog/2010/08/getting-started-with-stored-procedures-in-mongodb.html遇到了一个 PHP 解决方案](http://pointbeing.net/weblog/2010/08/getting-started-with-stored-procedures-in-mongodb.html)

# c# - 发生异常时会发生什么，而在表单关闭事件中

> ID：13320462
> 
> 赞同：0
> 
> 时间：2012-11-10T08:22:52.407
> 
> 标签：c#, .net

发生异常时会发生什么，而在表单关闭事件中。表单是关闭还是表单保持打开状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T11:06:04.333

这取决于您获得的异常情况......请在此处查看下图，一个显示为异常的消息框要求“继续”或“退出”

![错误](../Images/744f10046f4dfead99201d6152ddf8ff.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:38:24.150

表单保持打开状态。异常将被 OnThreadException 捕获。而且，默认情况下，应用程序会显示消息框。

# php - PHP：在函数中正确使用返回 - 使用变量还是直接使用数字？

> ID：13320466
> 
> 赞同：0
> 
> 时间：2012-11-10T08:23:13.607
> 
> 标签：php

我希望返回一个值为 50 或 25 的整数。这是执行此操作的正确方法还是应该创建一个变量`$temp1=50`并`$temp2=25`返回该变量，而不仅仅是返回 50 和 25。

```
function somefunction($length)
{

    if ($length > 50) 
    {
        return 50;
    } else {
        return 25;
    }
} 
```

对不起，如果重复，我看了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:25:28.967

你这样做的方式非常好。将值分配给仅给`return`它的变量确实没有意义。
作为替代方案的更好版本，对于一些更复杂的情况，您最终需要返回一个变量，您可以只使用一个变量而不是您建议的两个变量。更像的东西

```
function somefunction($length)
{
    $myVar = 0;

    if ($length > 50) {
        $myVar = 50;
    } 
    else {
        $myVar = 25;
    }

    return $myVar;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-10T08:27:01.540

之前没有必要分配变量。写吧

```
return ($length > 50 ? 50 : 25); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-10T08:25:36.847

在返回之前分配给变量是没有意义的。您正在返回一个***value***。`50`本身就是一个非常好的值，它不需要在返回之前分配给*变量。*

换句话说：你已经做对了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T08:28:27.913

这取决于你想做什么：

如果您只想返回一个常量，或者您想参数化这个常量。

在常量的情况下，为了便于阅读，您可以将它们命名为：

```
define('RETURN_CONSTANT_SUP',50);
define('RETURN_CONSTANT_INF',25);

function somefunction($length)
{

if ($length > RETURN_CONSTANT_SUP) 
{
    return RETURN_CONSTANT_SUP;
} else {
    return RETURN_CONSTANT_INF;
}
} 
```

因此，您以正确的方式进行操作，如果有一天您想重用这些值，则可以使用常量。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-10T09:19:49.673

我想说你的函数的问题不是返回而是输入。

无论如何，你的问题有点理论。因为返回常量整数值和变量都可以。它甚至不会有太大的不同。请参见以下示例：

```
function somefunction($length)
{
    return 25 + 25 * ($length > 50);
} 
```

代码的问题在于您只为这些特定值编写了它。因此，不使用变量可能表明代码受到限制。但更少是因为回报，更多的是因为流量。

```
function integer_top_cut_drop($value, $top, $default)
{
    $value   = (int) $value;
    $top     = (int) $top;
    $default = (int) $default;

    if ($value > $top) 
    {
        return $top;
    }

    return $default;
} 
```

正如这个函数所示，那里没有数字，只有变量。它几乎可以完成您现有功能的工作，但一切都是可变的。具有常量值的数字已被删除，现在作为参数传递：

```
function somefunction($length)
{
    return integer_top_cut_drop($length, 50, 25);
} 
```

因此，您通常从不关心您是否返回变量、常量、其他类型的表达式或其他函数的返回值。

更重要的是，你的代码做了它必须做的事情，并且你以一种有用的方式去做。

这可能意味着在您的代码中您的功能已经完全正常。

但是请考虑您使自己可以重复使用公共部分，例如，如此处所示的具有新功能的部分。对于您的示例，这可能有点过分，但只是为了展示图片。

函数可以保留逻辑，因此您不需要多次编写该部分。它还使用该函数减少了代码其他部分的大小。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-10T10:48:51.963

**没有正确的方法**可以做到这一点。

这个问题是关于*风格和偏好*的，你无法得到明确的答案。
只使用**你**最喜欢的（当然，除非你在一个团队中工作，在这种情况下你应该适应团队的编码风格指南）。

# mysql - MySQL比较2个表值

> ID：13320480
> 
> 赞同：1
> 
> 时间：2012-11-10T08:26:19.800
> 
> 标签：mysql, join

我有一个查询：

```
SELECT  a.Vendor, i.Vendor
FROM    whole1 a 
        LEFT JOIN whole2 i 
        ON (a.Vendor = i.Vendor) 
GROUP BY a.Vendor, i.Vedor 
LIMIT 0, 200 
```

默认情况下使用内部连接。左连接给了我左表的所有结果。与右连接相同。

我正在寻找的是左右连接的组合，但不是内部连接。

我想要这样的结果

```
AMD, NULL
ACER, NULL
NULL, INTEL
NULL, ATI 
```

有什么办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:36:02.803

您需要一个 [完整的外连接](http://en.wikipedia.org/wiki/Join_%28SQL%29#Full_outer_join)，不幸的是，它没有在中实现`MYSQL`，您可以使用`union`of`left`和`right`join ：

```
SELECT a.`Vendor`, i.`Vendor`
FROM `whole1` a LEFT JOIN whole2 i ON (a.`Vendor` = i.`Vendor`) 
GROUP BY a.`Vendor`, i.`Vendor` 

UNION

SELECT a.`Vendor`, i.`Vendor`
FROM `whole1` a RIGHT JOIN whole2 i ON (a.`Vendor` = i.`Vendor`) 
GROUP BY a.`Vendor`, i.`Vendor` 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T08:48:39.323

将联合与左右连接一起使用，并从中选择具有限制的选择

```
SELECT * FROM (
  SELECT 
    a.`Vendor` v1, i.`Vendor` v2
  FROM 
    `whole1` a 
  LEFT JOIN 
    whole2 i ON (a.`Vendor` = i.`Vendor`) 
  GROUP BY 
    a.`Vendor`, i.`Vendor` 

  UNION

  SELECT 
    a.`Vendor`, i.`Vendor`
  FROM 
    `whole1` a 
  RIGHT JOIN 
    whole2 i ON (a.`Vendor` = i.`Vendor`) 
  GROUP BY 
    a.`Vendor`, i.`Vendor`
) AS whole
LIMIT 0,200 
```

[SQL小提琴](http://sqlfiddle.com/#!2/960f9/2/0)

# vb.net - VB.Net 十六进制值中的反向字节

> ID：13320481
> 
> 赞同：0
> 
> 时间：2012-11-10T08:26:51.983
> 
> 标签：vb.net

```
 Private Sub LRbtn_Click(sender As Object, e As EventArgs) Handles LRbtn.Click
    OpenFileDialog1.Title = "Please Select a File"
    OpenFileDialog1.ShowDialog()
    Dim filename As String = OpenFileDialog1.FileName
    Dim fs As FileStream = New FileStream(filename, FileMode.Open)
    Dim br As BinaryReader = New BinaryReader(fs)
    br.BaseStream.Seek(verOffset, SeekOrigin.Begin)
    a = br.ReadInt32()
    verLabel.Text = hex2ascii(Hex(a))
    br.Close()
    fs.Close()

End Sub 
```

我正在打开并二进制读取一个文件，然后我在给定地址读取 4 个字节。

因此，例如，变量`a`可能是`1163022402`转换为十六进制的变量是`45,52,50,42`

转换`a`为十六进制后，我需要反转字节以获得`42,50,52,45`

我是VB的新手，我正在学习它，我该怎么办？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:09:27.573

如果您需要 32 位，只需读取 4 个字节就可以使用`br.ReadBytes`，那么您可以随意订购它们

# html - 如何让div下浮？

> ID：13320484
> 
> 赞同：1
> 
> 时间：2012-11-10T08:27:19.057
> 
> 标签：html, styles

我正在为我的法语作业创建一个网站（不要问）并且遇到了问题。我在具有背景图像的 div 上使用样式，因此它们就像受控制的图像。在不使用绝对定位的情况下，如何使 div 浮动到屏幕的右下角？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T11:19:42.453

你说你不想使用：

```
position: absolute;
bottom: 0; 
```

我猜你也不想用这个？

```
position: fixed;
bottom: 0; 
```

# c# - 如何检查 ListView 中的顶部索引（索引 0）？

> ID：13320486
> 
> 赞同：1
> 
> 时间：2012-11-10T08:27:38.633
> 
> 标签：c#, winforms, listview

如何检查`ListView`，如果我单击索引 0（顶部），那么我的按钮将被启用，但如果我单击索引 0 以外的按钮（1、2、3，...），则该按钮将被禁用（即`Enabled = false`）。

这是我当前的代码：

```
private void lstAntrianPasien_SelectedIndexChanged(object sender, EventArgs e)
{
    if (lstAntrianPasien.SelectedItems.Count > 0)
    {
        btnUbahStatus.Enabled = true;
    }
    else
    {
        btnUbahStatus.Enabled = false;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:35:03.213

您可以使用[SelectedIndices](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.selectedindices.aspx)属性：

```
btnUbahStatus.Enabled = lstAntrianPasien.SelectedIndices.Count == 1
                        && lstAntrianPasien.SelectedIndices[0] == 0; 
```

或者，如果您希望在选择第一个项目时启用按钮，无论其他项目的选择状态如何，您都可以使用[Contains()](http://msdn.microsoft.com/en-us/library/system.windows.forms.listview.selectedindexcollection.contains.aspx)：

```
btnUbahStatus.Enabled = lstAntrianPasien.SelectedIndices.Contains(0); 
```

# javascript - Javascript - 根据位置写出日期

> ID：13320487
> 
> 赞同：0
> 
> 时间：2012-11-10T08:27:57.497
> 
> 标签：javascript, date, formatting, geolocation

> **可能重复：**
> [如何以用户的区域设置格式和时间偏移量显示日期/时间？](https://stackoverflow.com/questions/85116/how-do-i-display-a-date-time-in-the-users-locale-format-and-time-offset)

我们写东西的方式不同，日期就是其中之一。
我想显示一个日期（不是当前日期），并根据他们的国家/地区为每个人设置格式。

我想我可以去编写一个包含所有位置检查的新 javascript 文件，然后格式化给定的字符串。但我很确定某处有一个预先编写的解决方案，它比我想出的要好得多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:31:51.907

尝试使用：

```
 // This would come from the server.
// Also, this whole block could probably be made into an mktime function.
// All very bare here for quick grasping.
d = new Date();
d.setUTCFullYear(2004);
d.setUTCMonth(1);
d.setUTCDate(29);
d.setUTCHours(2);
d.setUTCMinutes(45);
d.setUTCSeconds(26);

alert(d);                        // -> Sat Feb 28 2004 23:45:26 GMT-0300 (BRT)
alert(d.toLocaleString());       // -> Sat Feb 28 23:45:26 2004
alert(d.toLocaleDateString());   // -> 02/28/2004
alert(d.toLocaleTimeString());   // -> 23:45:26 
```

来源：[以用户的区域设置格式和时间偏移显示日期/时间](https://stackoverflow.com/questions/85116/how-do-i-display-a-date-time-in-the-users-locale-format-and-time-offset)

# jquery - triggerHandler() 影响所有匹配的元素

> ID：13320496
> 
> 赞同：3
> 
> 时间：2012-11-10T08:28:54.487
> 
> 标签：jquery, triggers, w3c, jquery-triggerhandler

关注[w3schools](http://www.w3schools.com/jquery/event_triggerhandler.asp)

> triggerHandler() 方法类似于 trigger() 方法。除了它不会触发事件的默认行为（如表单提交）并且**它只影响第一个匹配的元素。**

但我用 2 个输入标签测试并使用

`$("input").triggerHandler("select");`

那么他们两个都会受到影响。这是我的代码：

HTML：

```
<input type="text" name="FirstName" value="Hello World" />
<input type="text" name="FirstName" value="Hello" /> 
```

JavaScript：

```
$(document).ready(function(){
  $("input").select(function(){
    $("input").after(" Input select event occured!");
  });
  $("button").click(function(){
    $("input").triggerHandler("select");
  });
}); 
```

[jsFiddle 上的实时复制](http://jsfiddle.net/BDfB9/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:32:40.223

该事件仅在第一个元素上触发。但是，当发生这种情况时，您的代码会输出*两*行：

```
$("input").after(" Input select event occured!"); 
```

该行运行*一次*，将在所有匹配`input`元素之后附加文本。由于有两个匹配的元素，即使事件仅针对第一个元素触发，您也会看到该行两次。

只需将那一行更改为

```
$(this).after(" Input select event occured!"); 
```

...并且您将看到仅在触发事件的元素之后附加的输出。[Live Copy](http://jsfiddle.net/BDfB9/2/)，仅进行了上述更改并删除了在页面上包含 MooTools 的选项。

# python - 在python中使用“如果全部”

> ID：13320497
> 
> 赞同：2
> 
> 时间：2012-11-10T08:29:04.300
> 
> 标签：python, beautifulsoup

为什么这项工作

```
for td in alltd:
    if "style3" in td["class"] or "style4" in td["class"] or "style1" in td["class"]:
        td["class"] = "s1" 
```

这不是吗？

```
for td in alltd:
    if all(x in td["class"] for x in ("style3", "style4", "style1")):
        td["class"] = "s1" 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-10T08:31:07.370

`all([x1,x2,...])`基本相同`x1 and x2 and ...`，不是`x1 or x2 or ...`

```
>>> all([True, True])
True
>>> all([True, False])
False 
```

改为使用`any()`。

```
>>> any([True,False])
True 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-10T08:30:46.370

[`any()`](http://docs.python.org/2/library/functions.html#any)如果您正在进行`or`基于比较，请使用：

```
`if any(x in td["class"] for x in ("style3", "style4", "style1")):` 
```

**任何（可迭代）**的帮助：

> 如果可迭代的任何元素为真，则返回真。# 即`or`条件

对**所有（可迭代）**的帮助：

> 如果迭代的所有元素都为真，则返回 True。# 即`and`条件

# javascript - 带有背景页面的 Chrome 扩展程序不适用于清单版本 2

> ID：13320499
> 
> 赞同：2
> 
> 时间：2012-11-10T08:29:12.317
> 
> 标签：javascript, html, google-chrome, google-chrome-extension

我有一个简单的 chrome 扩展程序，它在 Google Chrome 中显示一个小图标。单击时，它会加载我网站的搜索页面，从而将您重定向到正确的页面。

[https://chrome.google.com/webstore/detail/w3patrol-watch-over-any-w/addcgpijdjacmndaadfgcpbfinagiplm](https://chrome.google.com/webstore/detail/w3patrol-watch-over-any-w/addcgpijdjacmndaadfgcpbfinagiplm)是扩展。

现在，谷歌迫使我更新到清单版本 2，而不是 1。但这破坏了我的工作扩展。

在`manifest.json`我添加了 manifest_version 2，但从那时起，当我单击它时，该图标不再起作用。

```
{
   "background": {
    "page": "background.html"
    },
   "browser_action": {
      "default_icon": "icon19.png",
      "default_title": "__MSG_default_title__"
   },
   "default_locale": "en",
   "description": "__MSG_description__",
   "icons": {
      "128": "icon128.png",
      "19": "icon19.png",
      "48": "icon48.png"
   },
   "name": "__MSG_name__",
   "permissions": [ "tabs", "http://*.w3patrol.com/" ],
   "update_url": "http://clients2.google.com/service/update2/crx",
   "version": "1.0",
   "manifest_version": 2
} 
```

这是背景.html

```
<script type="text/javascript">
chrome.browserAction.onClicked.addListener(function(tab) {
    chrome.tabs.getSelected(null,function(tab) {
        chrome.tabs.create( { url: "http://w3patrol.com/search.php?q=" +tab.url } );
    });
});

</script> 
```

我需要添加/更改什么才能使其与清单版本 2 一起使用？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-10T08:34:17.300

You just need to remove the script tag from your background page. Here's how background.js(instead of background.html) should look like:

```
chrome.browserAction.onClicked.addListener(function(tab) {
    chrome.tabs.getSelected(null,function(tab) {
        chrome.tabs.create( { url: "http://w3patrol.com/search.php?q=" +tab.url } );
    });
}); 
```

And remove the 'page' property in background. Add 'scripts' property:

```
 "background": {
    "scripts": ["background.js"]
  }, 
```

# c# - 如何在 asp.net 中将字节 [] 转换为图像？

> ID：13320501
> 
> 赞同：0
> 
> 时间：2012-11-10T08:30:52.393
> 
> 标签：c#, asp.net, image

```
public System.Drawing.Image byteArrayToImage(byte[] byteArrayIn)
{
    System.Drawing.Image returnImage = null;

    try
    {
        MemoryStream ms = new MemoryStream(byteArrayIn);
        returnImage = System.Drawing.Image.FromStream(ms); // parameter is invalid

    }
    catch (Exception ex)
    {
        string a = ex.ToString();
        // Response.Write("sfdsfn");
    }

    return returnImage;
} 
```

我在网上做了很多搜索，但我找不到任何有用的答案？任何帮助..提前谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T10:39:20.213

简单的方法[`Image.FromStream`](http://msdn.microsoft.com/en-us/library/system.drawing.image.fromstream.aspx)：

```
public Image byteArrayToImage(byte[] imgBytes)
{
    using (MemoryStream imgStream = new MemoryStream(imgBytes))
    {
        return Image.FromStream(imgStream);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:38:32.840

您可以使用[`new Bitmap(ms)`](http://msdn.microsoft.com/en-us/library/z7ha67kw.aspx)：

```
Image returnImage = null;
MemoryStream ms = new MemoryStream(byteArrayIn);
returnImage = new Bitmap(ms); 
```

同样，您可以使用`Bitmap.FromStream`（奇怪的是，我找不到它的文档）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-10T08:37:57.913

我花了 2 分钟才找到这个：

```
ImageConverter ic = new ImageConverter();
Image img = (Image)ic.ConvertFrom(byteArray); 
```

# symfony - Silex - 真正的 DI 与注入看起来像 ServiceLocator 的 $app？

> ID：13320502
> 
> 赞同：5
> 
> 时间：2012-11-10T08:31:01.050
> 
> 标签：symfony, dependency-injection, silex, service-locator

我昨天读了这篇文章：[https ://igor.io/2012/11/09/scaling-silex.html](https://igor.io/2012/11/09/scaling-silex.html)

还有一个[http://davedevelopment.co.uk/2012/10/03/Silex-Controllers-As-Services.html](http://davedevelopment.co.uk/2012/10/03/Silex-Controllers-As-Services.html)

于是一个概念性的问题出现在我的脑海中：

目前我在不同的类中有很多控制器。我覆盖`controller_resolver`以创建一个控制器类实例并注入`$app`到控制器的构造函数中。

我定义这样的路由`$app->get('/hello', 'HelloController::indexAction')`<-我的控制器解析器将创建`new HelloController($app);`-到目前为止一切都很好。但老实说，它变成了 ServiceLocator 模式，而不是 DependencyInjection，因为我确实注入了整体`$app`，这看起来像 ServiceLocator 的用法。

现在我有疑问：我应该保持原样（因为它运行良好）还是尝试“将控制器作为服务”仅注入我的控制器真正依赖的那些服务？可能有一天我的 SeviceLocator 方法会打击我吗？（人们说 DI 更适合测试）。

我还研究了 Symfony 框架包：类`Controller`扩展了抽象类`ContainerAware`，它也有整个`$container`注入！全栈框架中的 ServiceLocator 方法？

有什么推荐吗？优点缺点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T10:50:17.483

### symfony2 全栈框架

该框架使用依赖注入模式而不是服务定位器模式。

默认情况下，所有控制器都不是服务。该类`ContainerAware`包括访问服务容器的方法，因此您可以在控制器中调用服务。

如果您打算将控制器用作服务，则需要删除`Controller`扩展。您想在控制器内部使用的所有依赖项都需要由服务容器注入。

在Symfony2 的核心贡献者之一[Richard Miller 的博](http://richardmiller.co.uk/2011/04/15/symfony2-controller-as-service/)文中阅读更多相关信息。

### Silex 微框架

Silex 微框架提供了框架的基本框架，由您决定架构的外观和使用的模式。

Silex 文档使用不是服务的控制器。它在非常控制器内注入完整的服务容器：

```
$app->post('/post/{id}-{slug}', function($id, $slug) use ($app) {
    // ...
}); 
```

如果你想使用控制器作为服务，你应该只在控制器中注入你想要使用的服务。

编辑：`Controller::action`语法也指不是服务的控制器。该`Controller:action`符号用于将控制器称为服务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T14:41:16.903

这里涉及很多个人喜好。您已经完成的是组织代码库的一个很好（足够）的步骤。像我这样的人更进一步，将我们的控制器移动到容器中，而不是将其注入到某种 BaseController 中。这发生在 Silex 和全栈 Symfony 框架中。

我的建议是保留所有内容，然后尝试通过练习 BDD 将下一个控制器定义为服务。

例如，一个 UserController 视图操作的行为：

*   它应该从数据库中检索用户
*   它应该使用模板呈现用户

它没有一次提到从容器中检索数据库或模板渲染器。我很乐意不注入容器，所以我只会注入 BDD 引导我相信我需要的东西。

# php - 如何防止直接访问生成图像的 php 文件

> ID：13320506
> 
> 赞同：0
> 
> 时间：2012-11-10T08:31:10.223
> 
> 标签：php, image

我有一个生成图像的 php 文件，它包含在图像标签中，如下所示：

```
<img src"generate_contact.php?memberid=3456"> 
```

现在，如果有人尝试使用 memberid 查询字符串直接访问此文件，他们将实际看到正在生成的图像文件。

**如何防止直接访问** `"generate_contact.php"`？

注意：如果我尝试在插入此 img 标签的文件中创建一个 CONSTANT，generate_contact.php 是否可以访问该 CONSTANT？询问是因为 generate_contact.php 没有被包括在内。它仅作为图像标签中的 src 添加。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:43:33.747

为什么不使用唯一的哈希而不是使用增量成员 ID 来访问此图像？

在您的成员表中，添加一个“哈希”字段，并在此字段中为每个成员添加一个随机字符串。

我习惯以这种方式生成 10 个字符散列：

```
$hash = substr(str_shuffle(base_convert(str_shuffle(sha1(str_shuffle(md5(rand() . microtime())))), 16, 36)), 0, 10); 
```

之后，使用您的哈希来识别您的成员：

```
<img src = "generate_contact.php?memberhash=0qxv(...)"/> 
```

通过这种方式，爬虫将无法增加 id 并获得整个成员的关联联系人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:39:30.090

没有办法阻止直接访问您想要显示给用户的图像。有了：

```
<img src = "generate_contact.php?memberid=3456"> 
```

您已经为他们提供了直接访问权限，因为一旦页面加载，用户的浏览器实际上会对文件发出 GET 请求。试图阻止直接访问您想要显示给用户的图像违反了 Internet 的基本原理，用户请求公共文档。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T08:41:18.967

用户浏览器请求将图像放置在页面内是一个“获取”请求，与您直接键入地址相同。您无法将图像实际放置在页面上，然后使其完全无法访问，除非当然使用闪存

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T08:42:25.310

好吧，退一步。

都是关于 URL 的。如果您将 URL 放入图像元素的 src 属性中，则该图像必须在该 URL 中可用：

```
<img src="/img/profile/42.jpg"> 
```

浏览器将下载带有此图像元素的 HTML 文档，然后像第一个请求一样向该 URL发出*另一个 HTTP 请求以下载图像。*

您可以将该 URL 直接放入浏览器的地址栏中以获得相同的效果。某些 URL 上提供了某些内容。如何访问该 URL 并不重要。它不是“绑定到 HTML 文档”或“秘密”或“隐藏”或类似的，因为它在 HTML 文档中。

**URL 始终是公开的并且可以“直接”访问，否则没有人可以看到它们的内容。**

因此，您的 URL 要么`generate_contact.php?memberid=3456`吐出图像，要么不吐出。它在幕后做什么是无关紧要的。

# winapi - Win7 中的 SHILCreateFromPath 替换？

> ID：13320516
> 
> 赞同：0
> 
> 时间：2012-11-10T08:32:31.890
> 
> 标签：winapi, windows-7

该`shell.SHILCreateFromPath`函数从路径创建指向项目标识符列表 (PIDL) 的指针。

如[MSDN Dev Center](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762210%28v=vs.85%29.aspx)中所述，该功能已被弃用，支持以 Windows XP 结束。

Windows 7 中的替代品是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T14:48:27.033

使用该[`SHParseDisplayName`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762236%28v=vs.85%29.aspx)功能。

# java - Servlet 打不开 txt

> ID：13320521
> 
> 赞同：1
> 
> 时间：2012-11-10T08:33:07.330
> 
> 标签：java, servlets

Servlet 非常好看，可以读取具有 hello.txt 等英文名称的文件。它不想读取具有俄语名称的文件，例如 pushkin.txt。有没有人能够帮助解决这个问题？

这是代码：

```
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.List;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class servlet extends HttpServlet {
    /**
     * 
     */
    private static final long serialVersionUID = 1L;

    public static List<String> getFileNames(File directory, String extension) {

        List<String> list = new ArrayList<String>();
        File[] total = directory.listFiles();
        for (File file : total) {
            if (file.getName().endsWith(extension)) {
                list.add(file.getName());
            }
            if (file.isDirectory()) {
                List<String> tempList = getFileNames(file, extension);
                list.addAll(tempList);          
            }
        }
        return list;
    }

    @SuppressWarnings("resource")
    protected void doPost(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException{ 
            response.setContentType("text/html; charset=UTF-8");
            String myName = request.getParameter("text");

            List<String> files = getFileNames(new File("C:\\Users\\vany\\Desktop\\test"), "txt");
            for (String string : files) {
            if (myName.equals(string)) {
                   try {
                        File file = new File("C:\\Users\\vany\\Desktop\\test\\" + string);
                        FileReader reader = new FileReader(file);
                        int b;
                        PrintWriter writer = response.getWriter();
                        writer.print("<html>");
                        writer.print("<head>");
                        writer.print("<title>HelloWorld</title>");
                        writer.print("<body>");
                        writer.write("<div>");
                        while((b = reader.read()) != -1) {
                            writer.write((char) b);
                        }
                        writer.write("</div>");
                        writer.print("</body>");
                        writer.print("</html>");

                    } 
                   finally {
                   if(reader != null)  {
                      try{
                         reader.close();
                      } catch (Exception e) {
                         e.printStackTrace();
                      }
                   }
                }
                }

            }
           }
    } 
```

问题是相关的，问题没有解决

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T08:41:30.913

我以为你的陈述有问题

```
for (String string : files) {
        if (myName.equals(string)) { 
```

我会这样比较

```
for (File file: files) {
        if (myName.equals(file.getName())) { 
```

我希望它对你有帮助。注：感谢评论，您可以试试。

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:42:04.670

首先，我会使用调试器来检查该代码有什么问题。不运行代码很难找到错误。如果您不想使用调试器打印出在目录中找到的所有文件名，以确保找到一些文件名：

```
for (String string : files) {
    System.out.println(string)
    .... 
```

如果找到文件，我会检查我是否有权写入它们。可能是应用程序没有适当的权限在所选目录中写入。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T10:34:13.270

文件“hello.txt”和 pushkin.txt 是否直接位于“C:\Users\vany\Desktop\test\”文件夹中？或者是来自“C:\Users\vany\Desktop\test\”的另一个文件夹中的 pushkin.txt 文件？

你能告诉我们你是如何调用 servlet 的吗？

如果您在另一个文件夹中有 pushkin.txt，并且您使用“folder\pushkin.txt”之类的内容调用 servlet，它将无法工作，因为 getFileNames() 返回文件名（没有文件夹）并且“myName.equals(string)”失败为“文件夹\pushkin.txt”不等于“pushkin.txt”

# javascript - 在使用函数表达式声明函数之前调用函数是可行的。为什么？

> ID：13320527
> 
> 赞同：0
> 
> 时间：2012-11-10T08:34:26.927
> 
> 标签：javascript, jquery

我使用函数表达式`innerone`和声明了两个函数`innertwo`。我先声明`innerone`，然后再声明`innertwo`。在里面`innerone`我正在调用`innertwo`函数。但我担心的是我在使用函数表达式`innertwo`后声明，`innerone`这意味着`innertwo`没有提升。那么为什么这些函数按这个顺序工作呢？是否必须更改他们的订单？

这是代码

```
var one = function () {
    var innerone = function () {
        innertwo();
    },

    innertwo = function () {
        console.log('innertwo');
    };

    return {
        innerone: innerone
    };
};

var o = new one();
o.innerone(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T08:37:02.880

它之所以有效，是因为只有在您调用它时才会调用 innerone。当它被称为 innertwo 时，它已经被定义了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:02:36.597

您在评论中询问了编写此代码的更简单方法，因此这里有一些更简单的方法。第一个仍然返回结构，并且可以在没有 . 的情况下作为函数调用`new`。第二个向函数对象添加了一个属性，但仍然保留了私有函数`innertwo()`。第二个选项对我来说看起来最干净。

选项1：

```
function one() {
    function innertwo() {
        console.log('innertwo');
    }

    return {
        innerone: function() {
            innertwo();
        }
    };
}

var o = one();    // new is not needed here
o.innerone(); 
```

选项 2：

```
function one() {
    function innertwo() {
        console.log('innertwo');
    }

    this.innerone = function () {
        innertwo();
    };
};

var o = new one();
o.innerone(); 
```

# list - 使用模板循环链接列表

> ID：13320531
> 
> 赞同：1
> 
> 时间：2012-11-10T08:35:12.403
> 
> 标签：list, templates, for-loop, compare, nodes

在使用了各种搜索引擎（以及出色的 stackoverflow 数据库）后，我发现了一些类似的情况，但它们要么复杂得多，要么不如我想要完成的复杂。

[使用模板的 C](https://stackoverflow.com/questions/550219/link-error-using-templates) [++ 列表循环链接错误](https://stackoverflow.com/questions/5622658/c-list-looping)[C++：链接列表排序](https://stackoverflow.com/questions/12830221/clinked-list-ordering) [指针地址在链接列表中不会更改](https://stackoverflow.com/questions/7117844/pointer-address-does-not-change-in-a-link-list)

我正在尝试使用链接列表和节点模板来存储和打印非标准类对象（在这种情况下，是分类联系人的集合）。特别是，我想从一堆具有不同类别的对象中打印多个具有相同类别的对象。按类别打印时，我将子对象 tmpCategory (= "business") 与分类联系人的类别部分进行比较。

但是如何提取这些数据以在 int main() 中进行比较？

这就是我的想法。我在 LinkList.tem 中创建了一个 GetItem 成员函数，这将初始化指针光标，然后运行 ​​For 循环，直到函数输入与迭代次数匹配。此时，GetItem 使用 (cursor -> data) 返回对象类型。

```
template <class Type>
Type LinkList<Type>::GetItem(int itemNumber) const
{
    Node<Type>* cursor = NULL;

    for(cursor = first;
        cursor != NULL;
        cursor = (cursor -> next))
    {
        for(int i = 0; i < used; i++)
        {
            if(itemNumber == i)
            {
                return(cursor -> data);
            }
        }
    }
} 
```

这就是 int main() 的用武之地。我将比较对象 tmpCategory 设置为某个值（在本例中为“Business”）。然后，我运行一个 For 循环，该循环的循环次数等于我拥有的节点数（由函数 GetUsed() 确定）。在该循环中，我使用当前的迭代编号调用 GetItem。从理论上讲，这将使 int 主循环从 LinkList.tem 返回相应的节点。从那里，我从该节点数据（当前有效）中的对象中调用类别，并将其与 tmpCategory 进行比较。如果匹配，循环将打印出整个 Node 的数据对象。

```
tmpCategory = "Business";

for(int i = 0; i < myCategorizedContact.GetUsed(); i++)
{
    if(myCategorizedContact.GetItem(i).getCategory() == tmpCategory)
       cout << myCategorizedContact.GetItem(i);
} 
```

问题是当前的设置（当它运行时），它什么也没有返回。经过进一步测试（ cout << myCategorizedContact.GetItem(i).getCategory() ），我发现它只是一遍又一遍地打印出第一个节点的类别。我希望整体方案评估每个节点并打印出匹配的数据，而不仅仅是吐出同一个节点。

非常感谢任何想法/建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:18:49.583

*请仔细*看看这个：

```
template <class Type>
Type LinkList<Type>::GetItem(int itemNumber) const
{
    Node<Type>* cursor = NULL;

    // loop over all items in the linked list    
    for(cursor = first;
        cursor != NULL;
        cursor = (cursor -> next))
    {
        // for each item in the linked list, run a for-loop 
        // counter from 0 to (used-1). 
        for(int i = 0; i < used; i++)
        {
            // if the passed in itemNumber matches 'i' anytime
            //  before we reach the end of the for-loop, return
            //  whatever the current cursor is.
            if(itemNumber == i)
            {
                return(cursor -> data);
            }
        }
    }
} 
```

您不会将光标沿列表`itemNumber`时间向下移动。第一个项目`cursor`引用将启动内部循环。循环索引达到您返回的 itemNumber 的那一刻。**如果链接列表中至少有`itemNumber`项目，则永远不会前进光标。**. 事实上，它们中的两个（cursor 和 itemNumber）在你实现这个函数时是完全不相关的。并且真正增加讽刺的是，因为`used`和`cursor`完全不相关，如果`used`小于**，**它`itemNumber`总是如此，因为当通过外循环前进`used`时不会改变。`cursor`因此`cursor`最终变为 NULL 并且此函数的结果未定义（无返回值）。总之，正如所写的那样，您将始终返回第一项（如果`itemNumber < used`），或者由于没有返回值而未定义的行为。

我相信你需要类似以下的东西：

```
template< class Type >
Type LinkList<Type>::GetItem(int itemNumber) const
{
    const Node<Type>* cursor = first;
    while (cursor && itemNumber-- > 0)
        cursor = cursor->next;

    if (cursor)
        return cursor->data;

    // note: this is here because you're definition is to return
    //  an item COPY. This case would be better off returning a 
    //  `const Type*` instead, which would at least allow you to
    //  communicate to the caller that there was no item at the 
    //  proposed index (because the list is undersized) and return
    //  NULL, which the caller could check.
    return Type();
} 
```

# css - position:absolute 和 z-index 使链接无法点击？

> ID：13320532
> 
> 赞同：-1
> 
> 时间：2012-11-10T08:35:40.320
> 
> 标签：css

[http://down123.xxmn.com/wemade/](http://down123.xxmn.com/wemade/)

所有链接的导航`test` 都无法点击，位置：绝对和z-index导致它。如果我不删除 z-index。有没有办法纠正它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:40:00.707

刚刚用 Firebug 做了这个，所以你必须删除`z-index`你的`#menu`，这将解决你所说的问题，有什么具体的原因你不想删除`z-index`吗？

编辑：如果你发现很难让你的标志出现在菜单后面，而不是给予给予`z-index: -10;`，它会解决你的问题`#menu``z-index: -1``#top`

# c# - 在 WinForms 应用程序中使用远程数据库共享服务器时如何加快处理速度？

> ID：13320533
> 
> 赞同：0
> 
> 时间：2012-11-10T08:35:50.373
> 
> 标签：c#, database, winforms, performance, remote-access

我想为我的网站开发一个使用共享数据库服务器的 Windows 窗体应用程序。该网站运行良好且快速。但是当我尝试从应用程序访问服务器时，会花费很多时间。我使用了与我的网站相同的数据库功能。那么如何使我的应用程序以与我的网站大致相同的速度运行呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:56:52.733

为您的数据库使用本地缓存。有很多方法可以做到这一点。通过互联网访问数据库总是比本地缓存慢。

# objective-c - 增加日期的最有效方法

> ID：13320535
> 
> 赞同：4
> 
> 时间：2012-11-10T08:36:06.777
> 
> 标签：objective-c, nsdatecomponents

我想在循环中增加天数，以便计数`2012-11-10`, `2012-11-11`, `2012-11-12`, ...</p>

实现这一目标的最有效方法是什么？

```
NSDate *iterationDate = [NSDate date];

for (int i = 0; i < 100; i++) {
    NSDateComponents *comps = [[NSDateComponents alloc] init];
    [comps setYear:0];
    [comps setMonth:0];
    [comps setWeek:0];
    [comps setDay:1];
    [comps setHour:0];
    [comps setMinute:0];
    [comps setSecond:0];
    iterationDate = [currentCalendar dateByAddingComponents:comps toDate:iterationDate options:0];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:42:24.423

如果您需要所有中间`NSDate`s，只需`comps`退出循环：

```
NSDate *iterationDate = [NSDate date];
NSDateComponents *comps = [[NSDateComponents alloc] init];
[comps setYear:0];
[comps setMonth:0];
[comps setWeek:0];
[comps setDay:1];
[comps setHour:0];
[comps setMinute:0];
[comps setSecond:0];

for (int i = 0; i < 100; i++) {
    iterationDate = [currentCalendar dateByAddingComponents:comps toDate:iterationDate options:0];
} 
```

* * *

您可以使用 CoreFoundation API 实现类似的功能：

```
CFCalendarRef calendar = CFCalendarCreateWithIdentifier(0, kCFGregorianCalendar);
CFAbsoluteTime at = CFAbsoluteTimeGetCurrent();
const CFOptionFlags options = 0;
for (int i = 0; i < NIter; ++i) {
    if (0 == CFCalendarAddComponents(calendar, &at, options, "d", 1)) {
        assert(0 && "uh-oh");
    }
    CFDateRef date = CFDateCreate(0, at);
    // store result
    CFRelease(date);
}
CFRelease(calendar); 
```

这比 Foundation 快了 33%。如果您不需要创建 CFDates 并且可以简单地存储`CFAbsoluteTime`值，它会更快。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T08:42:17.667

我觉得你的方式还不错，就是不要每次都分配`NSDateComponents`对象（`comps`）：

```
NSDate *iterationDate = [NSDate date];
NSDateComponents *comps = [[NSDateComponents alloc] init];
[comps setDay:1];
for (int i = 0; i < 100; i++) 
    iterationDate = [currentCalendar dateByAddingComponents:comps toDate:iterationDate options:0]; 
```

另一种方法可能是（这应该更快，但需要测试......）：

```
NSDate *iterationDate = [NSDate date];
int daysToAdd = 1;  
for (int i = 0; i < 100; i++)
       iterationDate = [iterationDate addTimeInterval:60*60*24*daysToAdd]; 
```

# c - 在环回接口而不是 eth0 上捕获到自身的 UDP RAW_SOCKET 数据包

> ID：13320538
> 
> 赞同：1
> 
> 时间：2012-11-10T08:36:55.983
> 
> 标签：c, linux, sockets, raw-sockets

使用本文[RAW_SOCKET 中的资源来伪造 UDP 数据包](http://nunix.fr/index.php/programmation/1-c/58-rawsocket-to-forge-udp-packets "RAW_SOCKET 伪造 UDP 数据包")我正在从其他主机生成数据包到自己的 eth0 ip 地址，例如 192.168.10.1 --> 192.168.10.131。

但是 tcpdump 显示，数据包正在到达 lo，而不是 eth0... on lo -

```
10:10:18.332284 IP (tos 0x0, ttl 64, id 768, offset 0, flags [DF], proto UDP (17), length 71)
192.168.10.1.57961 > 192.168.10.131.12001: [udp sum ok] UDP, length 43 
```

在 eth0 上是沉默。

如何更改代码，使数据包到达 eth0？ [直接链接到 C 源文件](http://nunix.fr/attachments/nunix.c "直接链接到 C 源文件")

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:46:01.213

如我所见，您必须使用 tcp 函数而不是 udp

对于 UDP，您可以将 optname 设置为 SO_BINDTODEVICE

```
const char device[] = "eth0";
rc=setsockopt(sock, SOL_SOCKET, SO_BINDTODEVICE, device, sizeof(device));
if (rc != 0) 
{
 printf ("%s: could not set SO_BINDTODEVICE (%s)\n",
    argv[0], strerror(errno));
 exit (EXIT_FAILURE);
} 
```

# java - 将 ehcache 与 terracotta 一起使用时出现 java 堆空间错误

> ID：13320540
> 
> 赞同：1
> 
> 时间：2012-11-10T08:37:10.057
> 
> 标签：java, exception, ehcache, heap-memory, terracotta

我正在尝试将兵马俑与 ehcache 一起使用。我的项目设置就像我正在使用 2 个 tomcat 实例，其中部署了与 ehcache 集成的应用程序。我需要这两个实例之间的同步，这就是我使用兵马俑的原因。但是我面临错误

“net.sf.ehcache.CacheException：get() 中未捕获的异常 - Java 堆空间”当我将 ehcache 与 terracotta 集成时。我的 ehcache.xml 是

```
<?xml version="1.0" encoding="UTF-8"?>

<ehcache name="terracotta" maxBytesLocalHeap="30%" >
  <diskStore path="java.io.tmpdir" />

 <terracottaConfig url="localhost:9510"/>
 <cacheManagerPeerListenerFactory
 class="net.sf.ehcache.distribution.RMICacheManagerPeerListenerFactory"/>

<cache name="LocalCache"
        timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta />           
</cache>

<cache name="cache1"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta />          
</cache>

<cache name="cache2"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta /> 
      </cache>

<cache name="cache3"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
            <terracotta />
</cache>

      <cache name="cache4"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
     <terracotta /> 
</cache>

 <cache name="cache5"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta />    
     </cache>

<cache name="cache6"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta /> 
</cache>

<cache name="cache7"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
     <terracotta /> 
</cache>

<cache name="cache8"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
    <terracotta /> 
</cache>

<cache name="cache9"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
    <terracotta /> 
</cache>

<cache name="cache10"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta /> 
</cache>

<cache name="DetailStockByKey"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
      <terracotta /> 
</cache>

<cache name="cache11"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
           <terracotta /> 
</cache>

<cache name="cache12"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
           <terracotta /> 
</cache>
<cache name="cache13"
    timeToLiveSeconds="10"
    maxElementsOnDisk="0"
        eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
           <terracotta /> 
</cache>
<cache name="cache15"
    timeToLiveSeconds="10"
                eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
           <!--<terracotta /> -->
</cache>

<cache name="cache14"
    timeToLiveSeconds="10"
                eternal="false" 
        memoryStoreEvictionPolicy="LFU" >
           <!--<terracotta /> -->
</cache>            
  </ehcache> 
```

我也收到类似警告

> 警告：尝试计算对象图的大小时，已达到 1,000 个对象引用的配置限制。如果大小调整操作继续进行，可能会出现严重的性能下降。这可以通过将 CacheManger 或 Cache 元素 maxDepthExceededBehavior 设置为“abort”或使用 @IgnoreSizeOf 注释添加停止点来避免。如果在配置的限制下性能下降不是问题，请使用 CacheManager 或 Cache 元素 maxDepth 属性提高限制值。有关详细信息，请参阅 Ehcache 配置文档。

我正在使用 -Xmx:1024m 来运行兵马俑。我遇到了这个问题，而且在运行独立的 ehcache.xml 时我的响应时间也更短。然而，当使用带有兵马俑的 ehcache 时，响应时间增加了 700 倍。请帮助解决此问题。我应该怎么做才能减少响应时间，我不会再遇到这个错误。提前致谢

# c# - 变量在回调中变为空

> ID：13320541
> 
> 赞同：0
> 
> 时间：2012-11-10T08:37:55.983
> 
> 标签：c#, asp.net

`Global.asax`我在asp.net中创建了一个线程。线程将值存储在变量名中`downloadnos`，并使用启动新线程并接收回调方法的库。调用回调方法时，我尝试读取变量，但它是空的。为什么会这样？如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:41:11.473

将变量设为静态可能会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T13:30:54.673

我假设您希望变量持续运行 Web 服务器的长度？如果是这样，请使用应用程序来存储数据。那是：

应用程序["mydata"] = "mydatatosave"

# visual-studio-2010 - XHTML 中较新的宽度构造？

> ID：13320542
> 
> 赞同：5
> 
> 时间：2012-11-10T08:37:56.577
> 
> 标签：visual-studio-2010, xhtml

我建了一个这样的表：

```
<table width="100%" border="0">
    <tr>
        <td width="20%">
            Nombre
        </td>
    </tr>
</table> 
```

但我有一个警告“验证（XHTML 1.0 过渡）：属性'宽度'被认为是过时的。建议使用更新的构造”

什么是 XHTML 中较新的宽度构造？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T09:32:28.883

的`width`属性`<td>`已被**[弃用](http://www.w3.org/TR/html4/struct/tables.html#adef-width-TH)**。

您应该用`width`CSS属性替换`width`属性：

```
<table width="100%" border="0">
    <tr>
        <td style="width: 20%;">
            Nombre
        </td>
    </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T17:17:23.817

仅使用 CSS 属性：

```
<table style="width:100%; border:0px;">
    <tr>
        <td style="width:20%;">
            Nombre
        </td>
    </tr>
</table> 
```

# iphone - UIPickerView 通过数据源连接时导致泄漏

> ID：13320544
> 
> 赞同：2
> 
> 时间：2012-11-10T08:38:00.380
> 
> 标签：iphone, ios, memory-leaks, uipickerview

我创建了一个测试项目来确认我的内存泄漏：项目文件：[https ://dl.dropbox.com/u/3703182/PickerView.zip](https://dl.dropbox.com/u/3703182/PickerView.zip)

基本上 UIPickerView 通过 IB 连接到数据源。当它连接到数据源时，它会泄漏。如果没有，则不会泄漏。我需要将 UIPickerView 用于需要尽快发布的即将发布的应用程序，不幸的是，由于泄漏，它保证每 2 小时崩溃一次。尽管内存泄漏而不会崩溃，我如何使用 UIPickerView？

编辑：它只在设备上泄漏，而不是在模拟器中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T12:01:47.677

那不是泄漏。这是一个分配。如果是泄漏，它将在第二行显示红色尖峰。泄漏的真正测试是多次呈现和消除。如果你能做到这一点并表明分配不断增加，那么就有泄漏。不然。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T01:21:01.140

这是正在泄漏的 Apple 库。你对此无能为力。这是苹果的错。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T22:41:40.980

这不是您可以控制的泄漏，它是内部的……但这只是很小的内存量，不会使您的应用程序崩溃。我很想看看这看起来像一个小时......你能提供崩溃的回溯吗？这可能会更好地帮助确定坠机的真正原因。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T00:11:49.743

添加我的评论作为答案，

您的应用程序不会因为此泄漏而崩溃，因为它是由您不必担心的框架引起的非常小的泄漏。屏幕截图显示它是几个字节。如果您的应用程序每 2 小时崩溃一次，这意味着还有其他东西正在使用大量内存。请检查您是否在代码中使用了其他可能导致此问题的内容，并根据您的发现更新问题。

在分配工具中，确保您正在检查活动字节部分并检查它上升了多少。如果它保持在 15-20 MB 以下，则无论如何您都不必担心。检查此以获取有关[app 中内存使用情况](https://stackoverflow.com/a/6654935/1730272)的更多详细信息。还要检查这个[XCode Instruments Allocations: Look at Live Bytes or Total Bytes?](https://stackoverflow.com/questions/7574364/xcode-instruments-allocations-look-at-live-bytes-or-overall-bytes) .

# r - R中自动完成的源代码在终端中运行

> ID：13320546
> 
> 赞同：5
> 
> 时间：2012-11-10T08:38:28.503
> 
> 标签：r, autocomplete

当 R 在终端中运行时，我想研究 R 的自动完成代码。例如，如果您从终端运行 R 并键入`lm(`，然后按 Tab，R 将为您提供`lm`.

Dirk 在这里的回答表明，R 的自动完成功能由基本 R 中的 codetools 包支持：

[是否有可能在 Emacs ESS 中获得类似于 Rstudio 中可用的 R 代码完成？](https://stackoverflow.com/questions/6865344/is-it-possible-to-get-code-completion-for-r-in-emacs-ess-similar-to-what-is-avai)

但是，我找不到该软件包中的哪个位置添加了对自动完成的支持。我为“完成”而努力，却空无一物。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T09:35:22.650

完成代码实际上在**utils**包的基础安装中。您可以在 R 的 SVN 服务器上查看与它相关的所有内容（对于开发版）：

[http://svn.r-project.org/R/trunk/src/library/utils/R/completion.R](http://svn.r-project.org/R/trunk/src/library/utils/R/completion.R)

此代码应与 一起阅读`?completion`。

# excel - 电子表格：如果工作表中的行包含 2 个条件，则获取单元格的值

> ID：13320550
> 
> 赞同：-1
> 
> 时间：2012-11-10T08:39:22.457
> 
> 标签：excel, function, spreadsheet, conditional-statements, openoffice-calc

工作表 1 从工作表 2 中获取值。

Sheet 2 有数百行，但只有 4 列。（Cols A 和 C 是名称，Cols B 和 D 是数字）。

单元格 XX（表 1）：在表 2 中查找“Bill”（A 列）和“Jill”（C 列），它们都出现在同一行，然后从 B 列返回数字（从“Bill”行和“吉尔”）到表 1 中的单元格 XX。

如果“Jill”在 col A 而“Bill”在 col C - 那么条件不满足，并且不返回值。

我怎么写这个？

我感到很困惑。拜托，有人帮我吗？

“Bill”（Col A2:A300）和“Jill”（Col C2:C300）的查找表 2 获取 Col B 中的编号。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T15:32:58.087

一种解决方案是创建一个辅助列 E。在第一行（即单元格 E1）中使用此公式：

```
 =$A1 & "-" & $A3 
```

并为其他行填写此内容。如果 ColA = "Bill" 且 ColB = "Jill"，则 ColE 将是 "Bill-Jill"。

然后你可以做一个 MATCH 来找出行有“Bill-Jill”，并从 ColB 中获取相应的值：

```
=IF(ISNA(MATCH("Bill-Jill";e:e;0));"No match";INDEX(b:b;MATCH("Bill-Jill";e:e;0))) 
```

MATCH 公式将找出哪一行包含“Bill-Jill”，而 INDEX 公式将从另一列中选取该行。如果没有匹配的单元格，MATCH 将返回#NA，这将被 ISNA 检查捕获。

我不确定 OpenOffice 是否支持 MATCH 功能——不过它绝对是 Excel 的一部分。

# java - 如何仅使用 java 程序将字符串转换为字节数组并将字节数组转换为 Blob

> ID：13320552
> 
> 赞同：2
> 
> 时间：2012-11-10T08:39:46.190
> 
> 标签：java

问题是：

```
String strContent = "Hello Hi How are you ";
byte[] byteConent = strContent.getBytes(); 
```

但进一步我想仅在 Java 程序中转换为 Blob

因为我正在为我们的应用程序默认为 MySQL DB 编写一些脚本。

问候， 萨蒂什

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:42:48.557

```
 Blob blob = connection.createBlob();
 blob.setBytes(1, bytes); 
```

其中 connection 是与 db 对象的连接。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T08:47:34.450

```
Blob blob=null; 
blob=new SerialBlob(byteContent); 
```

# mysql - Django - 使用注释提高查询集的性能

> ID：13320554
> 
> 赞同：1
> 
> 时间：2012-11-10T08:39:47.840
> 
> 标签：mysql, django, performance, django-queryset

我`annotate`在 Django QuerySet 中调用时遇到了一些性能问题。让我用一个例子来解释我的问题。假设我的模型中有一个外键关系，如下所示：

```
def Blog(models.Model):
   owner = models.ForeignKey(User)
   title = models.CharField()

def BlogArticle(models.Model):
   blog = models.ForeignKey(Blog)
   title = models.CharField()
   body = models.CharField()
   timestamp = models.DateTimeField() 
```

现在，假设我想根据博客文章的时间戳获取最近 10 个更新博客的列表。我可以这样做：

```
latest_updates = Blog.objects.annotate(updated=Max('blogarticle__timestamp')).order_by('-updated')[:10] 
```

这可行，但是对于具有大量数据的 MySQL 来说速度很慢（分析查询显示“复制到 tmp 表”步骤需要很长时间，但这是另一个主题）。

到目前为止，我已经考虑了以下内容：

*   添加“更新”`DateTimeField`并`Blog`添加信号或`save`覆盖以使该字段与最新`BlogArticle`的同步`Blog`。这对性能很有好处，但违反了[DRY](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself)原则。
*   查询`BlogArticle`最近 10 次更新的模型，并使用它来查询`Blog`模型。但是，这只有在最后 10 次更新都来自不同的博客时才有效。

优化此查询的任何其他想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T09:11:46.710

尝试将广告索引添加到时间戳列：

```
timestamp = models.DateTimeField(db_index=True) 
```

高温高压

# windows - 使用 NetFileClose API 时的 ACCESS_DENIED_ERROR

> ID：13320555
> 
> 赞同：0
> 
> 时间：2012-11-10T08:39:54.283
> 
> 标签：windows, winapi, networking, windows-7, fileshare

我有一个 Windows 网络，其中许多文件在具有完全控制权的许多用户之间共享。我有一个为我系统中的每个人共享的文件夹，所以每当我尝试使用另一个系统的机器名称（run->\Servername）访问它时，我可以看到共享文件夹并在其中打开/写入文件。

但我的要求是关闭网络中所有打开的文件（在我的系统中）。所以我使用[NetFileEnum](http://msdn.microsoft.com/en-us/library/windows/desktop/bb525378%28v=vs.85%29.aspx)列出所有打开的文件 ID，以便我可以使用[NetFileClose](http://msdn.microsoft.com/en-us/library/windows/desktop/bb525377%28v=vs.85%29.aspx) API 关闭这些文件。

但问题是 NetFileEnum 返回无效的垃圾 ID，如 111092900、-1100100090 等，因此我无法从另一台机器关闭它。所以我使用 net file 命令列出了网络打开的文件，并记下 id，比如 43 我在函数调用中硬编码了 id`NetFileClose("Servername", 43);`但是当我执行时，我得到了**ACCESS_DENIED_ERROR**。但是，如果在服务器上运行相同的代码，它会成功关闭文件。我已经为所有用户提供了完全的共享权限。

但是为什么**ACCESS_DENIED_ERROR**以及为什么 NetFileEnum 返回无效的 id？要让这个 API 工作，有什么事情要做吗？如何正确使用这些 API 来关闭网络打开的文件？

# java - AOP 风格的事务划分实际上是否适用于 Hibernate 4 和 Spring 3.1？

> ID：13320557
> 
> 赞同：3
> 
> 时间：2012-11-10T08:40:11.273
> 
> 标签：java, spring-aop, spring-3, hibernate-4.x

我正在尝试让 hibernate-release-4.1.8.Final 与 Spring 3.1.3.RELEASE 一起使用。

Spring appContext如下：

```
<bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
    <property name="configLocation">
        <value>
            classpath:hibernate.cfg.xml
        </value>
    </property>
    <property name="hibernateProperties">
        <value>
            hibernate.show_sql=true
            hibernate.format_sql=true
            hibernate.current_session_context_class=thread
        </value>
    </property>
    <property name="dataSource" ref="dataSource"/>
</bean>
<bean id="dataSource" class="org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy">
    <property name="targetDataSource">
        <ref local="mainDataSource"/>
    </property>
</bean>
<!-- mysql with bonecp thread pooling using a lazy jdbc connection -->
<bean id="mainDataSource" class="com.jolbox.bonecp.BoneCPDataSource" destroy-method="close">
    <property name="driverClass" value="com.mysql.jdbc.Driver"/>
    <property name="jdbcUrl" value="jdbc:mysql:..."
    ...
</bean>

<bean id="txManager" class="org.springframework.orm.hibernate4.HibernateTransactionManager">
    <property name="sessionFactory" ref="sessionFactory"/>
    <property name="dataSource" ref="dataSource"/>
</bean>

<tx:advice id="txAdvice" transaction-manager="txManager">
    <tx:attributes>
        <tx:method name="*" rollback-for="ServletException" propagation="REQUIRED"/>
    </tx:attributes>
</tx:advice>
<aop:config>
    <aop:pointcut id="serviceMethods" expression="execution(* com.mytest.service.*.*(..))"/>
    <aop:advisor advice-ref="txAdvice" pointcut-ref="serviceMethods"/>
</aop:config> 
```

以上内容与显示 Hibernate 4 集成的最新 Spring 文档非常相似。注意，我更喜欢使用 spring-aop 横切而不是`@Transaction`注释。根据 Spring 文档，`hibernate4.HibernateTransactionManager`应该支持声明性配置的两种样式：注释和 XML。但真的吗？这是发生的事情：

常见的 DAO 结构：

```
public abstract class MyHibernateDAOImpl<T> implements BaseDAO<T> {
    // spring-injected sessionFactory
    private SessionFactory sessionFactory;

    public void setSessionFactory(SessionFactory sessionFactory) {
        this.sessionFactory = sessionFactory;
    }

    public Session getSession() {
        //ignore orm.hibernate4.SessionFactoryUtils for now -- will be explained later
        //Session s = SessionFactoryUtils.openSession(sessionFactory);

        //spring-recommended approach to getting session
        Session s = sessionFactory.getCurrentSession();
        return s;
    }

    //basic query
    public List<UserState> getSomeData() {
        Query query = getSession().createQuery("from SomeData");
        return query.list();
    }
} 
```

不使用注释。我的理解是`HibernateTransactionManager`in`orm.hibernate4`将加入 aop-created Transaction`ThreadLocal`并将其绑定到 Session。似乎绑定永远不会发生？或者也许我没有处理`Session`我认为我正在处理的问题？

假设我的应用程序是标准 Spring-mvc 应用程序，其中 spring-web 库来自与我展示的相同的发布包。此外，视图`org.springframework.orm.hibernate4.support.OpenSessionInViewInterceptor`用于延长会话生命周期，我没有任何问题......

在 Tomcat6 中运行会产生以下 DEBUG...

```
[2012-11-10 03:08:59,864] INFO [http-8443-exec-3] MyController.logRequest(273) | Session GET /data/InitialData
[2012-11-10 03:08:59,887] DEBUG [http-8443-exec-3] HibernateTransactionManager.doGetTransaction(290) | Found thread-bound Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[] unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])] for Hibernate transaction
[2012-11-10 03:08:59,889] DEBUG [http-8443-exec-3] AbstractPlatformTransactionManager.getTransaction(365) | Creating new transaction with name [com.betterment.service.user.impl.UserStateServiceImpl.getAllStates]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,-ServletException
[2012-11-10 03:08:59,889] DEBUG [http-8443-exec-3] HibernateTransactionManager.doBegin(352) | Preparing JDBC Connection of Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[] unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])]
[2012-11-10 03:08:59,915] DEBUG [http-8443-exec-3] AbstractTransactionImpl.begin(158) | begin
[2012-11-10 03:08:59,915] DEBUG [http-8443-exec-3] LogicalConnectionImpl.obtainConnection(295) | Obtaining JDBC connection
[2012-11-10 03:08:59,916] DEBUG [http-8443-exec-3] LogicalConnectionImpl.obtainConnection(301) | Obtained JDBC connection
[2012-11-10 03:08:59,916] DEBUG [http-8443-exec-3] JdbcTransaction.doBegin(69) | initial autocommit status: true
[2012-11-10 03:08:59,916] DEBUG [http-8443-exec-3] JdbcTransaction.doBegin(71) | disabling autocommit
[2012-11-10 03:08:59,921] DEBUG [http-8443-exec-3] HibernateTransactionManager.doBegin(413) | Exposing Hibernate transaction as JDBC transaction [org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler@76566fb[valid=true]] 
```

到目前为止一切顺利......创建了一个事务，我们建立了一个连接，甚至还有一个说法是找到了一个线程绑定的会话。日志输出将我的调试光标放在`DAO.getSomeData`方法内，就在`getSession()`被调用之前以及在我创建查询并拉出 list() 之前。

现在，当`getSession()`被调用时 a`Session`被返回 - 但不能被调试器检查 - 奇怪。尝试从 中创建 hql 查询时`Session`，`Transaction`回滚 - 暗示它实际上并未绑定到`ThreadLocal`：

```
[2012-11-10 03:16:06,972] DEBUG [http-8443-exec-3] AbstractPlatformTransactionManager.processRollback(843) | Initiating transaction rollback
[2012-11-10 03:16:06,973] DEBUG [http-8443-exec-3] HibernateTransactionManager.doRollback(496) | Rolling back Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[] unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])]
[2012-11-10 03:16:06,973] DEBUG [http-8443-exec-3] AbstractTransactionImpl.rollback(203) | rolling back
[2012-11-10 03:16:06,974] DEBUG [http-8443-exec-3] JdbcTransaction.doRollback(164) | rolled JDBC Connection
[2012-11-10 03:16:06,974] DEBUG [http-8443-exec-3] JdbcTransaction.releaseManagedConnection(126) | re-enabling autocommit
[2012-11-10 03:16:06,982] DEBUG [http-8443-exec-3] HibernateTransactionManager.doCleanupAfterCompletion(564) | Not closing pre-bound Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[] unresolvedInsertDependencies=UnresolvedEntityInsertActions[]])] after transaction
[2012-11-10 03:16:06,983] DEBUG [http-8443-exec-3] SessionImpl.disconnect(564) | Disconnecting session
[2012-11-10 03:16:06,983] DEBUG [http-8443-exec-3] LogicalConnectionImpl.releaseConnection(314) | Releasing JDBC connection
[2012-11-10 03:16:06,983] DEBUG [http-8443-exec-3] LogicalConnectionImpl.releaseConnection(332) | Released JDBC connection
[2012-11-10 03:16:06,983] DEBUG [http-8443-exec-3] ConnectionProxyHandler.physicalConnectionReleased(219) | HHH000163: Logical connection releasing its physical connection
[2012-11-10 03:16:06,984] DEBUG [http-8443-exec-3] ConnectionProxyHandler.physicalConnectionReleased(219) | HHH000163: Logical connection releasing its physical connection
[2012-11-10 03:16:06,984] DEBUG [http-8443-exec-3] ConnectionProxyHandler.physicalConnectionReleased(219) | HHH000163: Logical connection releasing its physical connection
[2012-11-10 03:16:06,997] DEBUG [http-8443-exec-3] OpenSessionInViewInterceptor.afterCompletion(141) | Closing Hibernate Session in OpenSessionInViewInterceptor
[2012-11-10 03:16:06,999] ERROR [http-8443-exec-3] ErrorFilter.doFilter(50) | Unexpected error in session 'mySession' javax.servlet.ServletException: org.hibernate.HibernateException: createQuery is not valid without active transaction 
```

我尝试的下一个变体是回到`SessionFactoryUtils`. 它有效，但似乎有很大的副作用。请注意，这是减少的`orm.hibernate4.SessionFactoryUtils`，而不是 hibernate3 的。这`SessionFactory`只会暴露一个`openSession`and `closeSession`。有了这个工厂，`getSession()`看起来像：

```
public Session getSession() {
    //try with orm.hibernate4.SessionFactoryUtils
    Session s = SessionFactoryUtils.openSession(sessionFactory);
    return s;
} 
```

通过`SessionFactoryUtils`运行，我确实看到了`QueryTranslator`最终产生数据结果的结果。问题是我打开了一个会话，在我的整个外部事务完成之前不会关闭。每次调用`getSession()`都会创建一个新连接，我很快就会用完线程。这是 MySQL>show processlist 观察到的，它显示了在获取 JDBC 连接后我允许 BoneCP 和 Tomcat 冻结的最大连接数：

```
[2012-11-10 03:31:56,887] DEBUG [http-8443-exec-3] LogicalConnectionImpl.obtainConnection(295) | Obtaining JDBC connection
[2012-11-10 03:31:56,887] DEBUG [http-8443-exec-3] LogicalConnectionImpl.obtainConnection(301) | Obtained JDBC connection 
```

Tomcat 将永远这样坐着。

解决方法似乎是积极的连接管理。我介绍`hibernate.connection.release_mode=after_statement`了我的`<bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">`定义。

只有 after_statement 似乎有效。有了这个设置，程序执行无问题的琐碎和非琐碎运行。请注意，`hibernate.current_session_context_class=thread`似乎没有任何影响。总体而言，使用 release_mode 感觉非常 hacky。在每个语句之后积极释放连接的需要必须对负载下的应用程序产生不良后果。

那么 - 发生了什么？为什么不`getCurrentSession()`返回没有绑定到线程的活动事务的会话？注释是确定何时启动事务`@Transactional`的唯一方法吗？`hibernate4.LocalSessionFactoryBean`Spring Docs 似乎在主题上非常稀疏。

此外，切换到`hibernate3.LocalSessionFactoryBean`（并将引用 hibernate4 的其他配置切换回 hibernate3）会产生讨厌的`java.lang.NoClassDefFoundError`: `org/hibernate/cache/CacheProvider`，它被 stackoverflow 上的其他线程覆盖。

有任何想法吗？非常感谢一些输入。谢谢！

# java - 错误：无法访问 jarfile C:\Projects

> ID：13320560
> 
> 赞同：0
> 
> 时间：2012-11-10T08:40:36.237
> 
> 标签：java, eclipse

在 Eclipse 中，我从依赖于 P1 的项目 P2 中制作了一个 jar。此 jar 存储在 C:\Projects 文件夹中。当我尝试使用 Eclipse> Run > external tools 运行它时出现错误。请告诉我如何解决它以及这些事情是如何工作的，以便我了解问题发生的原因。

我的猜测是，我在使用外部工具 > 外部工具配置设置运行此 Jar 的选项时犯了一个错误。

我的系统 - Windows 7、64 位。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T22:17:35.197

您必须将 jar 添加到构建路径中。

右键单击项目 -> 构建路径 -> 配置构建路径... -> 库 -> 添加外部 JAR...

但是我还没有使用`run-> external tools`，所以它可能无法解决你的问题。上述解决方案应该允许您的项目以“运行方式”运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T22:38:18.217

我猜你正在尝试使用 eclipse 运行一个 jar，而你的 jar 需要依赖 jar P1 才能运行。更改项目 P2 清单文件以包含 jar P1 作为其依赖项。它应该工作。希望能帮助到你。

# unit-testing - 我应该如何与摩卡和猫鼬一起使用？

> ID：13320564
> 
> 赞同：8
> 
> 时间：2012-11-10T08:41:08.407
> 
> 标签：unit-testing, node.js, mongoose, mocha.js

运行测试时，我在 save() 方法中不断收到错误。

```
var User = require('../../models/user')
, should = require('should');

describe('User', function(){
  describe('#save()', function(){
    it('should save without error', function(done){
      var user = new User({
        username    : 'User1'
        , email     : 'user1@example.com'
        , password  : 'foo'
      });
      user.save(function(err, user){
        if (err) throw err;

        it('should have a username', function(done){
          user.should.have.property('username', 'User1');
          done();
        });
      });
    })
  })

}) 
```

这是错误：

```
$ mocha test/unit/user.js

  ․

  ✖ 1 of 1 test failed:

  1) User #save() should save without error:
     Error: timeout of 2000ms exceeded
      at Object.<anonymous> (/usr/local/lib/node_modules/mocha/lib/runnable.js:1
61:14)
      at Timer.list.ontimeout (timers.js:101:19) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-10T12:00:05.530

您可以嵌套描述，但不能嵌套测试。每个测试都是独立的，因此当您查看结果时，您可以看到失败的地方 - 保存或没有用户名属性。例如，在您上面的代码中，由于没有 done()，因此无法通过“应该保存且没有错误”测试失败。这也是上面代码超时的原因：mocha 找不到“应该保存且没有错误”测试的 done()。

能够嵌套描述是非常强大的。在每个描述中，您可以有一个 before、beforeEach、after 和 afterEach 语句。有了这些，您可以实现上面尝试的嵌套。如果您想阅读这些声明，请参阅 mocha 文档以获取更多信息。

我会写你想要实现的方式如下：

```
var User = require('../../models/user')
    , should = require('should')
    // this allows you to access fakeUser from each test
    , fakeUser;

describe('User', function(){
  beforeEach(function(done){
    fakeUser = {
      username    : 'User1'
      , email     : 'user1@example.com'
      , password  : 'foo'
    }
    // this cleans out your database before each test
    User.remove(done);
  });

  describe('#save()', function(){
    var user;
    // you can use beforeEach in each nested describe
    beforeEach(function(done){
      user = new User(fakeUser);
      done();
    }

    // you are testing for errors when checking for properties
    // no need for explicit save test
    it('should have username property', function(done){
      user.save(function(err, user){
        // dont do this: if (err) throw err; - use a test
        should.not.exist(err);
        user.should.have.property('username', 'User1');
        done();
      });
    });

    // now try a negative test
    it('should not save if username is not present', function(done){
      user.username = '';
      user.save(function(err, user){
        should.exist(err);
        should.not.exist(user.username);
        done();
      });
    });
  });
}); 
```

# javascript - 我可以创建一个 TypeScript 类型并在 AJAX 返回 JSON 数据时使用它吗？

> ID：13320568
> 
> 赞同：28
> 
> 时间：2012-11-10T08:41:51.737
> 
> 标签：javascript, typescript

我有以下 C# 类：

```
public class JsonBackup
{
    public int Added { set; get; }
    public int DEVCount { set; get; }
    public int DS1Count { set; get; }
    public IList<ViewEvent> Events { get; set; }
    public IEnumerable<string> Errors { set; get; }
    public int Rejected { set; get; }
    public bool Success { set; get; }
    public int Updated { set; get; }
} 
```

这段代码将 JSON 数据返回到我的浏览器：

```
return Json(new JsonBackup
{
    Added = added,
    DEVCount = devCount,
    DS1Count = ds1Count,
    Events = t.Events,
    Rejected = rejected,
    Success = true,
    Updated = updated
}); 
```

数据在这里返回：

```
 $.ajax("/Backup/Data/Backup",
    {
        cache: false,
        dataType: 'json',
        type: 'POST'
    })
 .done(function (data: ) {
     console.log(data);
     backupDone(data, ajaxElapsed);
 }); 
```

并在其他地方使用，也在这里：

```
 $.each(data.Events, function (i, item) {
        $("#stats-list li:eq("+(4+i)+")").after('<li>' + item.Description + ' : ' + item.Elapsed + ' ms</li>');
    }); 
```

我是否可以创建一个 TypeScript 类型并将数据分配给该类型，这样我就可以在选择诸如此类的东西时获得智能感知

```
data.Added or data.DEVCount etc? 
```

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-11-10T09:20:00.860

实现这一目标的最简单方法是为 IJsonBackup 创建接口，当您收到 json 时，只需将其转换为 IJsonBackup

```
interface IViewEvent
{
}

interface IJsonBackup
{
    Added : number;
    DEVCount : number;
    DS1Count : number;
    Events : IViewEvent[];
    Errors : string[];
    Rejected : number;
    Success : bool;
    Updated : number;
} 
```

在你的类定义中：

```
backupDone(data: IJsonBackup, ajaxElapsed: any)
{
}

$.ajax("/Backup/Data/Backup",
    {
        cache: false,
        dataType: 'json',
        type: 'POST'
    })
    .done(function (data: any) {
        console.log(data);
        backupDone(<IJsonBackup>data, ajaxElapsed);
    }); 
```

# perl - 当我有多重继承时，SUPER 未定义

> ID：13320575
> 
> 赞同：-1
> 
> 时间：2012-11-10T08:42:27.730
> 
> 标签：perl, oop

下面是一个最小化的示例，其中我有`OA.pm`（父对象）、`OB.pm`子对象和运行脚本：

对象 OB：

```
package OB;

use OA;
require Exporter;
@ISA = (Exporter, OA);
@EXPORT = ();

sub new {
    my $class = shift;

    print $class->SUPER;
    bless {}, $class;
};

1; 
```

对象 OA：

```
package OA;

require Exporter;
@ISA = (Exporter);
@EXPORT = ();

sub new {
    bless {}, shift;
};

1; 
```

和跑步者：

```
#!/usr/bin/perl

use strict;
use warnings;
use OB;

print OB->new; 
```

当我运行它时，我得到：

`Can't locate object method "SUPER" via package "OB" at OB.pm line 10.`

1) 可能有什么问题？

2) 如果我有多个父母，SUPER 会指出什么？

3) 是`use OA`强制性的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:44:15.460

与 Ruby 不同，您必须明确说明您所指的整个方法。

```
print $class->SUPER::new; 
```

那是假设您想调用该方法。如果您的意图是找出包含新方法的父类，那很复杂，我将跳过这里的解释。

如果你的类有多个父类，多重继承，Perl 通常会*首先通过父类深度*寻找匹配的方法。这通常是有问题的，您可以切换到避免菱形继承问题的C3方法[解析](https://secure.wikimedia.org/wikipedia/en/wiki/Diamond_inheritance#The_diamond_problem)[顺序 (mro)](http://perldoc.perl.org/mro.html#What-is-C3?)。`use mro "c3"`

[更多关于如何 SUPER 和多重继承](http://perldoc.perl.org/perlobj.html#Inheritance)的信息。

最后，`use OA`or`require OA`是强制加载 OA 类的。您可以在一行中使用[`use parent "OA"`](http://perldoc.perl.org/5.14.2/parent.html).

# objective-c - mac osx 上的蓝牙框架需要帮助

> ID：13320577
> 
> 赞同：1
> 
> 时间：2012-11-10T08:42:37.260
> 
> 标签：objective-c, xcode, macos, bluetooth

我是一名 iOs 开发人员，我实际上需要制作一个使用蓝牙框架连接到另一台设备（不是 iOS 设备）的 mac 应用程序。

我实际上正在显示一个模态视图，显示连接的蓝牙设备，`IOBluetoothDeviceSelectorController`我得到了用户的选择，`[modal getResults]`但我不知道如何启动与所选设备的连接，而且我找不到一个简单的方法来做到这一点mac 开发库。

有人知道可以帮助我推进项目的教程或示例代码吗？

链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T20:30:45.163

Mac 开发者库有两个示例蓝牙项目；[连接到健康温度计](https://developer.apple.com/library/mac/samplecode/HealthThermometer/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011370)并[连接到心率监测器](https://developer.apple.com/library/mac/samplecode/HeartRateMonitor/Introduction/Intro.html#//apple_ref/doc/uid/DTS40011322)。还有[高级核心蓝牙 WWDC 2012 会议](https://developer.apple.com/videos/wwdc/2012/?id=705_)的视频。

# execution - 如何在不使用 *.bat 扩展名的情况下运行批处理脚本

> ID：13320578
> 
> 赞同：32
> 
> 时间：2012-11-10T08:42:38.317
> 
> 标签：execution, batch-file

Windows 中是否有任何方法可以让我们在没有 *.bat 扩展名的情况下执行批处理脚本？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-12T02:20:21.623

这对我来说是一个有趣的话题！我想对此做一些观察。

首先重要的一点：批处理文件是具有 .BAT 或 .CMD 扩展名的文件。时期。除了执行通常的 DOS 命令外，批处理文件还可以实现某些特定的批处理文件功能，特别是：

*   通过 %1 %2 ... 访问批处理文件参数并执行 SHIFT 命令。
*   执行 GOTO 命令。
*   执行 CALL :NAME 命令（*内部子程序*）。
*   执行 SETLOCAL/ENDLOCAL 命令。

现在有趣的部分是：任何文件都可以重定向为 CMD.exe 的输入，因此其中包含的 DOS 命令以类似于批处理文件的方式执行，但有一些区别。最重要的是，以前*的批处理文件工具*将不起作用。下面的 NOT-Batch 文件（我称之为 BATCH.TXT）说明了另一个区别：

```
@echo off
rem Echo off just suppress echoing of the prompt and each loop of FOR command
rem but it does NOT suppress the listing of these commands!

rem Pause command does NOT pause, because it takes the character that follows it
pause
X

rem This behavior allows to put data for a SET /P command after it
set /P var=Enter data: 
This is the data for previous command!
echo Data read: "%var%"

rem Complex FOR/IF commands may be assembled and they execute in the usual way:
for /L %i in (1,1,5) do (
   set /P line=
   if "!line:~0,6!" equ "SHOW: " echo Line read: !line:~6!
)
NOSHOW: First line read
SHOW: Second line
NOSHOW: This is third line
SHOW: The line number 4
NOSHOW: Final line, number five

rem You may suppress the tracing of the execution redirecting CMD output to NUL
rem In this case, redirect output to STDERR to display messages in the screen
echo This is a message redirected to STDERR >&2

rem GOTO command doesn't work:
goto label
goto :EOF
rem but both EXIT and EXIT /B commands works:
exit /B

:label
echo Never reach this point... 
```

要执行前一个文件，请键入： CMD /V:ON < BATCH.TXT 需要 /V 开关来启用延迟扩展。

*更专业的区别与 NOT-Batch 文件中的命令在命令行上下文*中执行的事实有关，而不是在批处理文件上下文中。也许 Dave 或 jeb 可以详细说明这一点。

**编辑：** *附加意见*（batch2.txt）：

```
@echo off
rem You may force SET /P command to read the line from keyboard instead of
rem from following lines by redirecting its input to CON device.

rem You may also use CON device to force commands output to console (screen),
rem this is easier to write and read than >&2

echo Standard input/output operations> CON
echo/> CON
< CON set /P var=Enter value: > CON
echo/> CON
echo The value read is: "%var%"> CON 
```

以这种方式执行上一个文件： CMD < BATCH2.TXT > NUL

**编辑**：*更多额外观察*（batch3.txt）

```
@echo off

rem Dynamic access to variables that usually requires DelayedExpansion via "call" trick

rem Read the next four lines; "next" means placed after the FOR command
rem (this may be used to simulate a Unix "here doc")

for /L %i in (1,1,4) do (
   set /P line[%i]=
)
Line one of immediate data
This is second line
The third one
And the fourth and last one...

(
echo Show the elements of the array read:
echo/
for /L %i in (1,1,4) do call echo Line %i- %line[%i]%
) > CON 
```

以通常的方式执行这个文件：CMD < BATCH3.TXT > NUL

有趣的！不是吗？

**编辑**：现在，可以在 NotBatch.txt 文件中模拟 GOTO 和 CALL 命令！！！看到[这个帖子](http://www.dostips.com/forum/viewtopic.php?f=3&t=6061)。

安东尼奥

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2020-08-30T18:42:44.417

只需使用：

```
type mybat.txt | cmd 
```

打破它...

`type mybat.txt`读取`mybat.txt`为文本文件并打印内容。说捕获任何由左侧命令打印的`|`内容，并将其作为输入传递给右侧命令。然后`cmd`（您可能猜到）将它接收到的任何输入解释为命令并执行它们。

如果您想知道...您可以替换`cmd`为`bash`在 Linux 上运行。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-08-21T10:56:28.200

就我而言，为了让 Windows 运行没有扩展名的文件（仅适用于 *.cmd、*.exe），我错过了包含 .cmd 的 pathext 变量（在系统变量中）。添加后，我不再需要运行 file.cmd 而只是文件。

环境变量 --> 添加/编辑系统变量以包含 .cmd;.exe （当然你的文件应该在路径中）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-28T00:03:50.477

可能是的，但可能也不是简单的方法=)首先是……安全。一年前和一个月前我尝试做同样的事情，但我没有找到解决方案..你可以尝试做

执行命令

```
type toLaunch.txt >> bin.cmd
call bin.cmd
pause > nul
exit 
```

然后在 toLaunch.txt 中放

```
@echo off
echo Hello!
pause > nul
exit 
```

例如，它将“编译”代码，然后执行“输出”文件，即“解析”

而不是解析你也可以只重命名 use 并且可能使用 inside toLaunch.txt 在脚本中放置一个自动重命名

```
ren %0 %0.txt 
```

希望它有所帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-11-05T16:30:45.427

在某种程度上是可能的。您需要管理员权限才能运行[`assoc`](https://ss64.com/nt/assoc.html)和[`ftype`](https://ss64.com/nt/assoc.html)命令。还有一个将使用您的代码的“调用者”脚本：

假设您想要的扩展名为`.scr`. 然后以管理员身份执行此脚本：

```
 @echo off
   :: requires Admin permissions
   :: allows a files with .scr (in this case ) extension to act like .bat/.cmd files.
   :: Will create a 'caller.bat' associated with the extension
   :: which will create a temp .bat file on each call (you can consider this as cheating)
   :: and will call it.
   :: Have on mind that the %0 argument will be lost.

    rem :: "installing" a caller.
    if not exist "c:\scrCaller.bat" (
       echo @echo off
       echo copy "%%~nx1"  "%%temp%%\%%~nx1.bat" /Y ^>nul
       echo "%%temp%%\%%~nx1.bat"  %%*
    ) > c:\scrCaller.bat

    rem :: associating file extension
    assoc .scr=scrfile
    ftype scrfile=c:\scrCaller "%%1" %%* 
```

您甚至可以使用 GOTO 和 CALL 以及您知道的其他技巧。唯一的限制是`%0`参数将丢失，很难在创建临时文件时对其进行硬编码。例如，由于许多语言编译一个 .exe 文件，我认为这是一种合法的方法。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2020-11-23T09:16:25.990

如果要将变量导出到调用批处理文件，可以使用

```
for /F "tokens=*" %%g in (file.txt) do (%%g) 
```

这个方法有几个限制（不要`::`用于注释），但它非常适合配置文件。

例子：

```
rem Filename: "foo.conf"
rem 
set option1=true
set option2=false
set option3=true 
```

```
@echo off
for /F "tokens=*" %%g in (foo.conf) do (%%g)
echo %option1%
echo %option2%
echo %option3%
pause 
```

# java - Eclipse juno 更新后无法启动

> ID：13320583
> 
> 赞同：1
> 
> 时间：2012-11-10T08:43:13.403
> 
> 标签：java, eclipse

我有一个与这个问题类似的问题
[Eclipse can't start after update](https://stackoverflow.com/questions/12888156/eclipse-cant-start-after-update)。这是日志文件：

```
!SESSION 2012-11-10 16:41:05.098 -----------------------------------------------
eclipse.buildId=M20120914-1800
java.version=1.7.0_09
java.vendor=Oracle Corporation
BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US
Command-line arguments:  -os linux -ws gtk -arch x86_64

!ENTRY org.eclipse.equinox.ds 4 0 2012-11-10 16:41:05.894
!MESSAGE [SCR] Exception while activating instance org.eclipse.e4.ui.css.swt.internal.theme.ThemeEngineManager@68e881a4 of component org.eclipse.e4.ui.css.swt.theme  
!STACK 0
java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Display
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
    at java.lang.Class.getDeclaredMethods(Class.java:1808)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.getMethod(ServiceComponent.java:126)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.activate(ServiceComponent.java:213)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.activate(ServiceComponentProp.java:146)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:347)
    at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:620)
    at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:197)
    at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:473)
    at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:217)
    at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:816)
    at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:783)
    at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Display
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 15 more

!ENTRY org.eclipse.equinox.ds 4 0 2012-11-10 16:41:05.896
!MESSAGE [SCR] Exception while activating instance org.eclipse.e4.ui.css.swt.internal.theme.ThemeEngineManager@68e881a4 of component org.eclipse.e4.ui.css.swt.theme  
!STACK 0
java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Display
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
    at java.lang.Class.getDeclaredMethods(Class.java:1808)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.getMethod(ServiceComponent.java:126)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.activate(ServiceComponent.java:213)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.activate(ServiceComponentProp.java:146)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:347)
    at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:620)
    at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:197)
    at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:473)
    at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:217)
    at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:816)
    at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:783)
    at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Display
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 15 more

!ENTRY org.eclipse.osgi 4 0 2012-11-10 16:41:06.338
!MESSAGE An error occurred while automatically activating bundle org.eclipse.ui.workbench (321).
!STACK 0
org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:172)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:679)
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
    at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
    at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
    at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
    at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
    at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getConstructor0(Class.java:2714)
    at java.lang.Class.newInstance0(Class.java:343)
    at java.lang.Class.newInstance(Class.java:325)
    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:184)
    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:905)
    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)
    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:55)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:191)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getConstructor0(Class.java:2714)
    at java.lang.Class.newInstance0(Class.java:343)
    at java.lang.Class.newInstance(Class.java:325)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:167)
    ... 37 more
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 43 more
Root exception:
java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getConstructor0(Class.java:2714)
    at java.lang.Class.newInstance0(Class.java:343)
    at java.lang.Class.newInstance(Class.java:325)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:167)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:679)
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
    at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
    at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
    at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
    at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
    at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getConstructor0(Class.java:2714)
    at java.lang.Class.newInstance0(Class.java:343)
    at java.lang.Class.newInstance(Class.java:325)
    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:184)
    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:905)
    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)
    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:55)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:191)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 43 more

!ENTRY org.eclipse.osgi 4 0 2012-11-10 16:41:06.612
!MESSAGE Application error
!STACK 1
org.eclipse.core.runtime.CoreException: Plug-in "org.eclipse.ui.ide.application" was unable to instantiate class "org.eclipse.ui.internal.ide.application.IDEApplication".
    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:194)
    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:188)
    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:905)
    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)
    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:55)
    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:191)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: java.lang.NoClassDefFoundError: org/eclipse/ui/application/WorkbenchAdvisor
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getConstructor0(Class.java:2714)
    at java.lang.Class.newInstance0(Class.java:343)
    at java.lang.Class.newInstance(Class.java:325)
    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:184)
    ... 16 more
Caused by: org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter$TerminatingClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.ui.workbench (321).
    at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:122)
    at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
    at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 22 more
Caused by: org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:172)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:679)
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
    at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
    at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
    at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
    ... 31 more
Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError
    at java.lang.Class.getDeclaredConstructors0(Native Method)
    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)
    at java.lang.Class.getConstructor0(Class.java:2714)
    at java.lang.Class.newInstance0(Class.java:343)
    at java.lang.Class.newInstance(Class.java:325)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:167)
    ... 37 more
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 43 more

!ENTRY org.eclipse.e4.ui.css.swt.theme 4 0 2012-11-10 16:41:06.896
!MESSAGE [SCR] Error while attempting to deactivate instance of component Component[
    name = org.eclipse.e4.ui.css.swt.theme
    activate = activate
    deactivate = deactivate
    modified = 
    configuration-policy = optional
    factory = null
    autoenable = true
    immediate = true
    implementation = org.eclipse.e4.ui.css.swt.internal.theme.ThemeEngineManager
    state = Disabled
    properties = 
    serviceFactory = false
    serviceInterface = [org.eclipse.e4.ui.css.swt.theme.IThemeManager]
    references = null
    located in bundle = org.eclipse.e4.ui.css.swt.theme_0.9.3.v20120806-170624 [111]
]
!STACK 0
java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Display
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
    at java.lang.Class.getDeclaredMethods(Class.java:1808)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.getMethod(ServiceComponent.java:126)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.deactivate(ServiceComponent.java:337)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.deactivate(ServiceComponentProp.java:161)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.dispose(ServiceComponentProp.java:389)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.dispose(ServiceComponentProp.java:102)
    at org.eclipse.equinox.internal.ds.InstanceProcess.disposeInstances(InstanceProcess.java:366)
    at org.eclipse.equinox.internal.ds.InstanceProcess.disposeInstances(InstanceProcess.java:306)
    at org.eclipse.equinox.internal.ds.Resolver.disposeComponentConfigs(Resolver.java:717)
    at org.eclipse.equinox.internal.ds.Resolver.disableComponents(Resolver.java:693)
    at org.eclipse.equinox.internal.ds.SCRManager.stoppingBundle(SCRManager.java:554)
    at org.eclipse.equinox.internal.ds.SCRManager.bundleChanged(SCRManager.java:233)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:847)
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
    at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148)
    at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEventPrivileged(Framework.java:1568)
    at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1504)
    at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1499)
    at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:506)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:566)
    at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1206)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java:592)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:257)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.java:215)
    at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundle.java:284)
    at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:692)
    at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:600)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:399)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:199)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Display
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 39 more

!ENTRY org.eclipse.e4.ui.css.swt.theme 4 0 2012-11-10 16:41:06.897
!MESSAGE [SCR] Error while attempting to deactivate instance of component Component[
    name = org.eclipse.e4.ui.css.swt.theme
    activate = activate
    deactivate = deactivate
    modified = 
    configuration-policy = optional
    factory = null
    autoenable = true
    immediate = true
    implementation = org.eclipse.e4.ui.css.swt.internal.theme.ThemeEngineManager
    state = Disabled
    properties = 
    serviceFactory = false
    serviceInterface = [org.eclipse.e4.ui.css.swt.theme.IThemeManager]
    references = null
    located in bundle = org.eclipse.e4.ui.css.swt.theme_0.9.3.v20120806-170624 [111]
]
!STACK 0
java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Display
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
    at java.lang.Class.getDeclaredMethods(Class.java:1808)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.getMethod(ServiceComponent.java:126)
    at org.eclipse.equinox.internal.ds.model.ServiceComponent.deactivate(ServiceComponent.java:337)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.deactivate(ServiceComponentProp.java:161)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.dispose(ServiceComponentProp.java:389)
    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.dispose(ServiceComponentProp.java:102)
    at org.eclipse.equinox.internal.ds.InstanceProcess.disposeInstances(InstanceProcess.java:366)
    at org.eclipse.equinox.internal.ds.InstanceProcess.disposeInstances(InstanceProcess.java:306)
    at org.eclipse.equinox.internal.ds.Resolver.disposeComponentConfigs(Resolver.java:717)
    at org.eclipse.equinox.internal.ds.Resolver.disableComponents(Resolver.java:693)
    at org.eclipse.equinox.internal.ds.SCRManager.stoppingBundle(SCRManager.java:554)
    at org.eclipse.equinox.internal.ds.SCRManager.bundleChanged(SCRManager.java:233)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:847)
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
    at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148)
    at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEventPrivileged(Framework.java:1568)
    at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1504)
    at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1499)
    at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:506)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:566)
    at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1206)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java:592)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:257)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.java:215)
    at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundle.java:284)
    at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:692)
    at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:600)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:399)
    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:199)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
    at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Display
    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 39 more 
```

更新 Eclipse sdk 后，我的 Eclipse Juno 无法启动。我已经尝试了该线程中列出的所有解决方案。即，从`-clean`选项开始，删除`.lock`文件，`.snap`我找不到文件。
另外，我不想重新安装我的 Eclipse。这是我最后的手段。此外，我没有计划迁移到其他 IDE，例如 netbeans 或 intellij。（感谢 NimChimsky 在我的问题中发现故障）

有人可以帮忙吗？我的工作因错误而暂停。

# javascript - 使用 CSS 实现加权灵活布局

> ID：13320588
> 
> 赞同：1
> 
> 时间：2012-11-10T08:44:28.313
> 
> 标签：javascript, jquery, css, flexbox

请看一下[这个 jsFiddle](http://jsfiddle.net/arasbm/chREp/2/)并按下唯一的按钮来填写列表。如您所见`DIV`，列表中的元素已调整大小以填充包含的父级。这段代码正是我想做的，但我认为我实现它的方式对于这样一个看似简单的任务来说太复杂了。以下是为内部元素分配高度的算法的代码：

```
fill = function() {
    //Loop through all elements once to get total weight
    var totalWeight = 0;
    var totalHeight = $("#container").height() - 15; //need a little extra empty space at the buttom
    $(".list").each(function(i) {
      totalWeight += parseInt($(this).attr('weight'));
      totalHeight -= parseInt($(this).css('margin'));
    });

    //Loop though the element a second time to set the relative height
    $(".list").each(function(i) {
       var element = $(this);
       element.css("height", (element.attr("weight") / totalWeight) * totalHeight);
    });
} 
```

我的问题是，我们能做到最好吗？是否有任何其他方法（希望更快或更优雅）以合理的跨浏览器兼容性来实现此功能？我只需要支持较新的 Firefox、Chrome 和 Safari。[我在这里](http://css-tricks.com/old-flexbox-and-new-flexbox/)阅读了 flex-box并查看了它的[有前途的规范](http://www.w3.org/TR/css3-flexbox/)，但它看起来不像 flex-box 可以在浏览器中一致地进行加权灵活布局。如果我错了，请给我一个简单的例子来说明如何实现这一点。

这种类型的加权灵活线性布局并不少见，例如它在 Android SDK 中作为布局选项之一提供。相对于分配给它们的权重值，调整元素大小以填充其父容器的推荐方法是什么？如果可能的话，一个纯 CSS 解决方案会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:53:50.710

在谷歌搜索大约 30 分钟后，快速浏览一下。我可能会做一个演示，但真的没有太多时间。

你看过这里吗

1.  [html5rocks](http://www.html5rocks.com/en/tutorials/flexbox/quick/)

2.  [编码.smashmag...](http://coding.smashingmagazine.com/2011/09/19/css3-flexible-box-layout-explained/)

3.  [tutsplus](http://net.tutsplus.com/tutorials/html-css-techniques/an-introduction-to-css-flexbox/)

4.  [奥马尔](http://umaar.github.com/css-flexbox-demo/)
5.  [w3c](http://dev.w3.org/csswg/css3-flexbox/)
6.  [本弗拉因](http://benfrain.com/understanding-the-css3-flexbox-flexible-box-layout-module/)

6号有一些很好的例子

**编辑：** 我正在寻找他们网站上的 Firefox 开发者部分并找到
[了 developer.mozilla ......](https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_flexible_boxes)

我还找到了另一个**下载**示例！ [github..](https://github.com/doctyper/flexie/)

这可能会给你一些火狐的方向，其余的应该在我提供的其他链接中

# paypal - 对个别项目征税

> ID：13320590
> 
> 赞同：1
> 
> 时间：2012-11-10T08:45:03.543
> 
> 标签：paypal, e-commerce

我想用 Paypal 对单个项目添加税款。例如，我希望“一个 1 美元”的税率为 12%，而其余的“两个 2 美元”、“三个 3 美元”、“四个 4 美元”和“五个 5 美元”的税率为 5%。

```
<option value="">--- Or Select a Type of Service ---</option>
<option name="tax_1" value="One $1">Hello $20</option>
<option value="Two $2">Bye $30</option>
<option value="Three $3">Tata $45</option>
<option value="Four $4">Bonjour $40</option>
<option value="Five $5">Au Rrevoir $30</option> 
```

因此，我在表单操作上使用：

```
<input type="hidden" name="tax_rate" value="12">
<input type="hidden" name="tax_1" value="6"> 
```

但它不适用于“一个 1 美元”的 6% 税。我怎样才能使它工作？

```
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_xclick">
<input type="hidden" name="business" value="pointblanc@hotmail.com">
<input type="hidden" name="item_name" value="<?php if($tutorial_type!="") echo $tutorial_amount_arr[0]; else echo "Gift Certificate" ?>">
<input type="hidden" name="item_number" value="Gift Certificate">
<input type="hidden" name="amount" value="<?php if($amountfull="") echo $tutorial_amount_arr[1]; else echo $tutorialamnt; ?>">
<input type="hidden" name="no_shipping" value="1">
<input type="hidden" name="no_note" value="1">
<input type="hidden" name="currency_code" value="CAD">
<input type="hidden" name="rm" value="2">
<input type="hidden" name="tax_rate" value="12">
<input type="hidden" name="tax_1" value="6">
<input type="hidden" name="return" value="http://www.testtest.com/thankyou.php">
<input type="hidden" name="cancel_return" value="http://www.testtest.com">
<input type="hidden" name="notify_url" value="http://www.testtest.com/ipn.php"/>
<input type="image" border="0" src="https://www.paypal.com/en_US/i/btn/btn_xpressCheckout.gif" align="center" style="margin-right:7px; margin-left:150px">
<input type="hidden" name="custom" value="<?php echo $allcontens; ?>"/>
</form> 
```

# c# - 如何为不同版本的 .NET 只有一个项目？

> ID：13320595
> 
> 赞同：1
> 
> 时间：2012-11-10T08:46:28.757
> 
> 标签：c#, entity-framework

好吧，我有一个项目，目前我正在使用 .NET 4.0，因为我希望这个应用程序与 windows XP 兼容，因为 EF 5.0 仅适用于 windows 7 及更高版本。

但是，我想用 .NET 4.5 的特性来实现应用程序的某些部分，例如 EF 5.0。

因此，对于我的数据库访问，我有一个现在使用 EF 4.0 的存储库类，这是一个独立的 dll，因此我可以创建使用 EF 5 的其他存储库 dll，并在我的项目中导入这两个 dll，然后我可以根据实例化正确的存储库到我可以使用的 EF 5.0 版本。这是配置文件中的一个参数。这是最好的方法吗？

我问这个是因为我不知道我必须在哪里声明我的接口。因为我的存储库类需要实现这个接口，但是这会将我的 dll 绑定到我的应用程序，但是我需要在两个不同的应用程序中使用这个存储库，所以我想实现一次，并在许多应用程序中使用。我想要独立的dll，因为现在是两个应用程序，但将来可以更多。

想要在使用存储库的应用程序中使用接口的原因是因为我想根据配置文件设置在运行时实例化正确的存储库。所以在未来我可以实现新的存储库，并且不需要更改代码。

EDIT1：我读到了多目标，但是如果在我的项目中我使用 .NET 4.0 的功能并且我想为 3.5 编译，我会收到一个错误，因为 3.5 中不存在此功能。这是正确的。那么唯一的方法是维护两个不同的项目吗？这将是一项双重工作。

谢谢。戴姆洛克。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T12:30:16.173

> 因此，对于我的数据库访问，我有一个现在使用 EF 4.0 的存储库类，这是一个独立的 dll，因此我可以创建使用 EF 5 的其他存储库 dll，并在我的项目中导入这两个 dll，然后我可以根据实例化正确的存储库到我可以使用的 EF 5.0 版本。这是配置文件中的一个参数。这是最好的方法吗？

你可以走这条路，除非你认为这可能会导致未来的维护/开发问题，否则我并没有真正看到它的问题。您还可以考虑做其他几件事。我认为两者都是完全有效的，可能只是个人意见/偏好。

1.  **模块**您可以采用模块化路线，您的存储库 DLL 可能会被动态加载。查看[Microsoft 的 Unity 库](http://unity.codeplex.com/)。这应该允许您在每个存储库 DLL 中创建一个 IModule，以便根据需要设置您的应用程序。然后只需创建一个 UnityBootstrapper 类来告诉它如何找到您的模块（手动添加它们，查看目录等）。这应该允许您热交换您的存储库 DLL，而不必担心如果您不想设置配置文件。
2.  **Preprocessor Directives** With preprocessor directives you get to define how your code will compile. Depending on how you have your classes structured this may be something fairly simple to set up or a complete nightmare that makes you want to abstract and refactor your classes. This question: [Detect target framework version at compile time](https://stackoverflow.com/questions/3436526/detect-target-framework-version-at-compile-time) has an answer for handling different compile results depending on the target framework. Personally though, I like the modular route.

> I ask this because I don't know where I must declare my interface. because my repository classes need to implement this interface, but then this tie my dlls to my application, but I need to use this repositories in two different applications, so I want to implement once, and use in many applications. I want independent dlls, because now are two applications, but in the future, can be more.
> 
> The reason to want to use an interface in the application that uses the repositories is because I would like to instantiate at runtime the correct repository, according to the config file settings. So in the fututre I can implement new repositories and there is no needed to change the code.

Sounds like you need to create another library that is used to communicate between your UI and your Repository libraries. This can be a little tricky and overwhelming to set up just right. Basically you want your gateway DLL to house the interfaces and business objects. Your Application would reference this DLL and this DLL would reference your repositories.

Depending on your needs you may actually need to set up another intermediary DLL that would actually just house your interfaces and most basic utility classes. This would allow you to have your EF objects implement the same interface that your application is using without the need for your gateway DLL having to map your business objects and EF objects back and forth.

> EDIT1: I read about multi targeting, but if in my project I use features for example of .NET 4.0 and I want to complie for 3.5, I get an error because this feature does not exist in 3.5\. That's correct. Then the only way is to mantain two different projects? It would be a double work.

I believe you can get around this by using the Preprocessor Directives I mentioned above. Below is just an example of making a method handle work differently depending on if the framework is .NET 2.0; it's just an example and not tested. The DefineConstants will need to be set up, but this should allow you to handle 1 project for multiple framework targets while also being able to use newer .NET features as they are released.

```
public Person FindPersonByName(List<Person> people, string name)
{
#if DOTNET_20
    foreach(Person person in people)
    {
        if (person.Name == name)
            return person;
    }
    return null;
#else
    return people.FirstOrDefault(p => p.Name == name);
#endif
} 
```

I hope this was helpful and the best of luck in finding the right solution.

# php - php mysqli：如果 data_seek() 是 setter，getter 是......？

> ID：13320599
> 
> 赞同：1
> 
> 时间：2012-11-10T08:46:46.787
> 
> 标签：php, mysqli

如果 data_seek 是结果集的指针设置器，有没有办法获取当前行？

```
SELECT * FROM xxx ORDER BY RAND() LIMIT 0,10

$m->data_seek(9); // last item

$last = $m->fetch_object();

echo $m->........; // must echo 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-18T06:41:13.273

据我所知，没有本地方法可以做到这一点，但是，您可以扩展 mysqli_result 以实现此类功能......这也迫使您扩展主 mysqli 类。

*   $result->current_field 仅在您使用 $result->fetch_field() 获取字段信息时才有效

**结果类是这样的**

```
class extended_mysqli_result extends mysqli_result
{
    public $last_seek = 0;

    public function data_seek($offset = 0)
    {
        parent::data_seek($this->last_seek = $offset);
    }
} 
```

**对于主课来说是这样的**

```
class extended_mysqli extends mysqli
{
    public function query( $query )
    {
        if ( $this->real_query($query) )
        {
            if ( $this->field_count )
            {
                return new extended_mysqli_result($this);
            }
            else return true;
        }
        else return false;
    }
} 
```

# c++ - knuth morris pratt + boost + circular_buffer

> ID：13320602
> 
> 赞同：0
> 
> 时间：2012-11-10T08:47:08.263
> 
> 标签：c++, boost

我发现 Boost 实现了 KMP 算法，我试图将它与 circular_buffer 一起使用，但我无法将它与组件匹配。任何有提升经验的人都可以告诉我如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T14:51:33.850

你遇到过什么样的问题？

```
#include <boost/circular_buffer.hpp>
#include <boost/algorithm/searching/knuth_morris_pratt.hpp>
#include <string>

int main (int, char **) {
    boost::circular_buffer<char> cb;
    std::string s;
    boost::algorithm::knuth_morris_pratt_search ( cb.begin (), cb.end (), s.begin (), s.end ());
} 
```

# google-app-engine - 访问用户谷歌驱动器数据的读/写

> ID：13320607
> 
> 赞同：1
> 
> 时间：2012-11-10T08:47:35.480
> 
> 标签：google-app-engine, google-drive-api

我想知道是否有访问用户云数据的方法？是的，例如登录确认和 OpenID。这甚至可能吗？如果没有，你能建议一个更好的方法吗？

我想在用户云上存储一些数据，稍后再访问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T17:26:38.357

如果您将用户数据存储在他们自己的存储中，[Google Drive SDK](https://developers.google.com/drive)是正确的解决方案。您可以要求用户使用 OAuth 2.0 进行授权，一旦获得授权令牌，您就可以使用它来存储文件。

为了获得使用 Google Drive SDK 的额外好处，您可以使用[`drive.file`](https://developers.google.com/drive/scopes)范围，以便用户仅授予您访问您在 Drive 中创建的文件（而不是整个驱动器）的访问权限。

# struts2 - struts2 购物车产品的多个图像

> ID：13320608
> 
> 赞同：0
> 
> 时间：2012-11-10T08:47:36.890
> 
> 标签：struts2

我想知道如何使用 struts2 为购物车上传多个图像以及当用户想要添加更多或删除图像时我需要做什么

我已经死了

我在此页面中有一个添加/编辑产品页面我有 2 个选项卡 1 个用于产品信息 - 1 个用于图像

输入产品用户的详细信息后，单击标签图像以添加产品图像。

在此产品选项卡的图像中，用户从本地选择要上传的文件，使用多个图像上传不是问题，但我想知道如何显示它（我的意思是 GUI）并且用户可以删除他已经上传的图像这意味着图像已被删除将在主机本地删除。然后该用户单击保存将图像名称存储到数据库中

我的问题是如何显示多个图像并删除它？除此之外，在我的操作中，我使用 file[] fileupload 和 string[] filename 来存储图像，对吗？

# arrays - 如何在循环中（在另一个循环中）创建数组并在 Javascript 中将它们传回？

> ID：13320611
> 
> 赞同：0
> 
> 时间：2012-11-10T08:48:26.650
> 
> 标签：arrays, api, variables, loops

我正在使用 Google Docs Spreadsheet API 来跟踪我的一些朋友之间的竞争。我有一些伟大的想法，但我现在很难过。我试图在循环内创建 20 个不同的数组（见下文），然后在循环外评估每个数组，我真的不想写 20 个“if...then”语句。

注意：以下摘要可能会也可能不会帮助您回答我的问题。您可能想跳到代码，然后在需要时阅读此内容:)

程序摘要：每个玩家分配点值以支持一组二元结果事件的一个可能结果。随着事件的发生，如果他们的结果发生，玩家要么获得分配的积分，要么如果相反的结果发生，则不获得积分。我的目标是 1) 准确确定玩家何时被淘汰，以及 2) 突出显示*必须*赢得的所有剩余赛事，以便他们有机会获得并列第一。

我没有尝试以某种方式评估所有可能性（5 名玩家选择，2^16 种结果......我的计算机科学知识为零，但即使对于现代计算机来说，这似乎也是一项非常艰巨的任务）我想出了一个替代的想法. 该脚本循环遍历每个玩家，与其他对手对抗。它根据玩家的价值分配和已经确定的游戏来计算玩家可以得分的最大点数。对于一个玩家和一个对手，它会检查玩家对*那个*对手的最佳可能结果，如果有任何对手他无法击败，即使在最好的情况下，他也会被淘汰。

这部分很简单——循环在循环内部运行后，我只需调整我之前创建的全局变量，当外部循环完成后，只需获取这些变量并将它们写入工作表即可。

不幸的是，这错过了他可以对每个单独的对手有最佳案例的情况，但不能同时对抗多个对手。

所以下一步就是我现在要做的。我什至不确定我能否给出一个很好的解释，而不仅仅是向您展示带有脚本的整个电子表格，但我会尝试。所以我现在要做的是计算每个玩家对给定其他玩家的每个事件的“价值”。如果玩家和对手都为一个事件分配了有利于相同事件结果的分数，则事件的值是选择之间的差值（如果玩家选择较高，则为正，如果较低，则为负），如果他们选择相反的事件结果，则为总和。现在，我做和以前一样的事情——假设一个球员对抗给定对手的最佳情况——但现在我检查*多少*玩家可以在最好的情况下击败对手。然后我根据这个差异评估事件值的（绝对值），如果它更大，那么事件是必须赢的（或者如果事件值为负，则必须输）。并且，如果一个事件既是“必胜”又是“必败”事件，则该玩家被淘汰。

问题是第二步需要我为每个玩家-对手组合创建一个新的值数组，然后在创建后对这些值进行处理。

我意识到一种方法是创建 20 个不同的数组，并在整个循环中，不断检查“if (player == "1" &&对手 == 2){}”并相应地填充数组，但这似乎有点荒谬. 更重要的是，这整个项目是我学习 javascript 的尝试，那么使用时间密集型解决方法并没有教给我任何新东西有什么意义呢？

我试图理解方括号表示法，因为它似乎是我问题的答案，但很多人也暗示不可能通过与另一个变量的值连接来创建变量名......所以无论如何，这就是我正在尝试的。我真的很感激修复我的方法或更好的方法。

```
for (var player=1; player<6; player++){
  if(player==1){look up certain columns in the spreadsheet and save them to variables}
  //ditto for other players

  for(var opponent=1; opponent<6; opponent++){
    if(player!=opponent){
      if(opponent==1){save more values to variables}
      //ditto for other players

  for(var row=9; row<24; row++) {
//Now the script goes down each row of an array containing the original
//spreadsheet info, and, based on information determined by the variables
//created above, get values corresponding to the player and opponent.
//So what I'd like to do here is create "array[1,2]==" and then "array[1,3]=="
//and so forth, creating them globally (I think I understand that term by now) 
//so I can refer to them outside of the loops later to do some evaluatin'.
  }
}}
//get array[1,2]...array[5,4] and do some operations with them. 
```

感谢您阅读这本小小说……非常期待您的建议和想法！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:59:02.090

### 如何在循环中（在另一个循环中）创建数组？

### 代码更新 2

正如您所说：“我正在尝试[理解方括号表示法](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/push)”您可以看看[我的新演示](http://jsfiddle.net/abbkW/1)和代码：

```
function getTeam(){
    var array = [[1,2,3],[4,5,6],[7,8,9]]; // arrays within arrays
    // array myTeam 
    var myTeam = [[],[],[],[]];
    var playerNames = ["John", "Bert", "Dave", "Milton"]; 
    var ages =[]; 
    var weight = 104;
    // loop over the team arrayadd each player (name, age and weight) to the team  
    for (i=0; i < myTeam.length; i++){            
        // fill the age array in a loop
        for (j=0;j<myTeam.length;j++) {
            ages[j] = 23 + j;            
        }        
        myTeam[i].push([playerNames[i], ages[i], weight]);
    }
    return myTeam;
} 
```

### 并用 Javascript 将它们传回

你能详细说明这部分吗？

### 更新

```
var valuesOfPlayers=[];
for (var player=1; player<6; player++){

  // look up certain columns in the spreadsheet and save them to variables
  // you could call a funcntion and return the values you 
  // collected in an array within an array as in the demo above
  valuesOfPlayers[player] = lookupColumnValues(player);

  for(var opponent=1; opponent<6; opponent++){
    if(player!=opponent){
       // save more values to variables
       valuesOfPlayers[player] = addValuesToVar(player);
    }

  for(var row=9; row<24; row++) {
       // if you collect the values in your first and second if clause
       // what other information do you want to collect
       // Please elaborate this part?
  }
}} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-14T00:09:28.943

一种解决方法：

我可以在执行循环之前创建一个数组。在每个循环开始时，我可以将字符串文字推送到包含玩家和对手值的数组中。循环完成后，我可以将数组拆分为多个数组，或者使用正则表达式将它们计算在一个大数组中。

我仍然宁愿每次都创建新数组——似乎这是一种更通用的方法，并且学习如何比使用这种解决方法对我更有教育意义。

# asp.net - IIS url 重写角色，除了一些 url

> ID：13320614
> 
> 赞同：42
> 
> 时间：2012-11-10T08:48:39.493
> 
> 标签：asp.net, iis, url-rewriting, web-config

我在 URL 重写中得到了这条规则，它使用 HTTP 到 HTTPS 重写对站点的每个请求

```
<rule name="Force HTTPS" stopProcessing="true">
                    <match url="(.*)" />
                    <conditions>
                        <add input="{HTTPS}" pattern="off" ignoreCase="true" />
                    </conditions>
                    <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
                </rule> 
```

我需要这个角色的另一个规则或例外来重写或重定向特定的 url 到 HTTP。

那可能吗？

* * *

## 回答 #1

> 赞同：92
> 
> 时间：2012-11-10T09:34:26.387

您可以将不想执行重定向到 HTTPS 的异常添加为额外条件（不等于该 URL），如下所示：

```
<rule name="Force HTTPS" stopProcessing="true">
    <match url="(.*)" />
    <conditions logicalGrouping="MatchAll">
        <add input="{HTTPS}" pattern="off" ignoreCase="true" />
        <add input="{REQUEST_URI}" negate="true" pattern="^/noredirect/forthis/page\.aspx$" ignoreCase="true" />
        <add input="{REQUEST_URI}" negate="true" pattern="^/noredirect/forthis/page-as-well\.aspx$" ignoreCase="true" />
        <add input="{REQUEST_URI}" negate="true" pattern="^/noredirect/forthis/page-as-well-too\.aspx$" ignoreCase="true" />
    </conditions>
    <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
</rule> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-04T03:41:24.750

Web.config 中的例外规则，不将“NotSecurePage.ashx”重定向到 https：

```
<system.webServer>
<rewrite>
  <rules>
    <rule name="HTTP to HTTPS redirect" stopProcessing="true">
      <match url="(.*)" />
      <conditions>
        <add input="{HTTPS}" pattern="off" ignoreCase="true" />
        <add input="{REQUEST_URI}" matchType="Pattern" pattern="\bNotSecurePage.ashx\b" ignoreCase="true" negate="true" /> <!-- Crystal não suporta imagens https.. Criando exceção para imagens de barcode, utilizadas no crystal -->
      </conditions>
      <action type="Redirect" redirectType="Found" url="https://{HTTP_HOST}/{R:1}" />
    </rule>
  </rules>
</rewrite>
</system.webServer> 
```

# sql - 具有多个 WHERE 条件的 SELECT 语句 (MS-Access)

> ID：13320615
> 
> 赞同：-2
> 
> 时间：2012-11-10T08:48:54.710
> 
> 标签：sql, ms-access

以下是样本数据：

```
c1   c2   c3   c4   c5
1    a1   a     1     1
2    a2   a     2     1
3    a3   a     3     1
4    a4   a     4     1
5    b1   b     1     1
6    b2   b     2     1
7    b3   b     3     1
8    b4   b     4     1
9    a1   c     3     1 
```

我想获得以下详细信息：

```
c1  c2  c3  c4  c5
1    a1  a   1    1
5    b1  b   1    1
9    a1  c   3    1 
```

`C1`是主键，标准是任何给定的唯一（c2），其中 c4 是最低的，我想返回该行的内容（所有 5 列）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:02:39.340

试试这个：

```
SELECT t1.*
FROM Table1 t1
INNER JOIN
(
  SELECT c3, MIN(c4) c4 
  FROM Table1
  GROUP BY c3
) t2 ON t1.c3 = t2.c3 ANd t1.c4 = t2.c4 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/8cea1/3)

**更新：**¹ 在SQL中返回的结果是一个[**集合**](http://en.wikipedia.org/wiki/Set_%28mathematics%29)（除非你指定一个`ORDER BY`子句，在这种情况下它是一个游标），其中的顺序是不保证的。这是一个标准。如果你想保证一个特定的顺序，你应该使用 ORDER BY 子句。在您的情况下，不保证结果会像`1 5 9`. `ORDER BY c1`改为添加。

在某些情况下，该`ORDER BY`子句可能很重要，例如，如果要获取前三行或最大行，在这种情况下，您必须指定一个`ORDER BY`子句。

因此，如果您想保留一个特定的订单，您必须指定一个`ORDER BY`.

* * *

^(¹正如@Fahim Parker 所指出的，请参阅下面的评论。)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:03:00.350

```
select c1,c2,c3,c4,c5
from table
where c4= (select min(c4) from table as f where f.c4 = table.c4); 
```

我希望这会有所帮助

# mysql - 比较来自不同行和列的值以获得单个结果

> ID：13320616
> 
> 赞同：2
> 
> 时间：2012-11-10T08:49:08.540
> 
> 标签：mysql

这是我的场景的描述：

**我的表**：

```
ID name width1 width2 parameter1 parameter2 code
1  AAA  0      10     500        750        10001
2  AAA  0      10     750        1250       10002 
3  AAA  0      10     900        1400       10003
4  AAA  0      10     1150       1650       10004
.................................................
.................................................
................................................. 
```

可以说我正在处理一些具有自己属性的“主题”。基于主题属性和一些具有相同属性的计算，我应该从这个表中获取“**代码”。**

因此，我目前正在使用的这个主题具有名称：**AAA**，宽度：**5**，并且通过我的计算，我得到了参数：**1000**。在我拥有所有必要的属性后，我可以将它们与 myTable 中的行进行比较。为了更大的图景，我将从该表中选择所有内容，但我的目标是获取代码。这是查询：

```
SELECT * FROM myTable WHERE name="AAA" AND 5>=width1 AND 5<=width2 AND 1000>=parameter1 AND 1000<=parameter2 
```

在此之后，我得到这两行：

```
ID name width1 width2 parameter1 parameter2 code
2  AAA  0      10     750        1250       10002 
3  AAA  0      10     900        1400       10003 
```

顺便提一下，这里可能是一排。但是，如果我得到两行，我需要做以下事情。我的全部注意力都集中在这些参数上，我正在比较第一行中我的参数和参数 2 之间的分布以及第二行中我的参数和参数 1 之间的分布。

```
parameter -> parameter2
1250 - 1000 = 250
&
parameter1 -> parameter
1000 - 900 = 100 
```

因此，如果 spread1:250 > spread2:100 采用 code2:00002 否则采用 code3:00003。

我的问题是，如何比较不同行和列的值？如您所见，我有两行和来自不同列的值。我需要的是一种选择这些特定值进行比较的方法。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T10:24:30.423

它似乎是由 Greatest from Least 解决的，所以首先我们得到最小的值并排序这个下降。

```
SELECT 
  code
FROM 
  myTable 
WHERE 
  name="AAA" 
AND 
  5 >= width1 
AND 
  5 <= width2 
AND 
  1000 >= parameter1 
AND 
  1000 <= parameter2
ORDER BY 
  Least( parameter2-1000, 1000-parameter1 ) desc
LIMIT 1; 
```

[SQL小提琴](http://sqlfiddle.com/#!2/988d4/6/1)

# android - 如何从android ProgressDialog中删除标题和消息

> ID：13320618
> 
> 赞同：4
> 
> 时间：2012-11-10T08:49:32.433
> 
> 标签：android, progress-bar, progressdialog

在 Android 中，我想`ProgressDialog`在登录期间使用自定义框，没有标题和消息。我很难让它工作。

我想要它像下面的 gif （注意没有标题或消息）：

![在此处输入图像描述](../Images/02fe83886679a2207a5350eebfd6f58b.png)

如何在我的代码中应用它？

**我拥有的代码（不起作用）：**

```
<Progressbar
android:id="@+id/progressBar2"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:indeterminateDrawable="@drawable/progress_custom"
android:indeterminateOnly="false" /> 
```

这是我的`progress_custom.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<animated-rotate xmlns:android="http://schemas.android.com/apk/res/android"
    android:pivotX="50%"
    android:pivotY="50%" >

    <shape
        android:innerRadiusRatio="4"
        android:shape="ring"
        android:thicknessRatio="5.333"
        android:useLevel="false" >

        <size
            android:height="18dip"
            android:width="18dip" />

        <gradient
            android:centerColor="#886688cc"
            android:centerY="0.50"
            android:endColor="#ff6688cc"
            android:startColor="#006688cc"
            android:type="sweep"
            android:useLevel="false" />
    </shape>

</animated-rotate> 
```

我希望它在我登录时显示此 ProgressDialog。这是我使用它的方式：

```
public class MainSerenaActivity extends Activity {
    EditText uname;
    EditText pass;
    EditText server;
    Button login;
    String strUname;
    String unamePass;
    String strPass;
    String strServer;
    String strServer_fn;
    String unamepass;
    String uPass;
    String encPass;
    TextView reg_txt;
    MyApplication app;
    String passwde;
    ProgressDialog pd;
    CheckBox servercheck_btn;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // getActionBar().setDisplayHomeAsUpEnabled(true);

        uname = (EditText) findViewById(R.id.user_edt_lg);
        pass = (EditText) findViewById(R.id.pass_edt_lg);
        server = (EditText) findViewById(R.id.server);
        login = (Button) findViewById(R.id.login);
        servercheck_btn = (CheckBox) findViewById(R.id.checkBox1);
         pd=(ProgressBar)findViewById(R.id.progressBar2);
        login.setOnClickListener(new View.OnClickListener() {

            @SuppressLint("ShowToast")
            public void onClick(View v) {
                strUname = uname.getText().toString().trim();
                strPass = pass.getText().toString().trim();

                MyApplication.setUserID(strUname);
                MyApplication.setPassWord(strPass);

                if (isInternetAvailable()) {
                    if ((uname.getText().toString()).equals("")
                            && (pass.getText().toString()).equals("")) {

                        Toast toast = Toast.makeText(MainSerenaActivity.this,
                                "please enter username & password ",
                                Toast.LENGTH_LONG);
                        toast.show();

                    } else {

                        MyThread t = new MyThread(MainSerenaActivity.this, 0);
                        pd=ProgressDialog.show(MainSerenaActivity.this, "", "");

                        t.start();
                        Toast.makeText(MainSerenaActivity.this,
                                "Successfully login", Toast.LENGTH_SHORT)
                                .show();
                        uname.setText("");
                        pass.setText("");
                        server.setText("");
                        servercheck_btn.setChecked(false);
                    }
                }

                else {
                    Toast toast = Toast
                            .makeText(
                                    MainSerenaActivity.this,
                                    "No internet available.Please turn on the internet",
                                    Toast.LENGTH_LONG);
                    toast.show();

                }

            }

        });

    }

    public boolean isInternetAvailable() {
        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo netInfo = cm.getActiveNetworkInfo();
        if (netInfo != null && netInfo.isConnectedOrConnecting()) {
            return true;
        }
        return false;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    class MyThread extends Thread {
        Context con;
        int but;
        Intent in;

        MyThread(Context con, int but) {
            this.con = con;
            this.but = but;
        }

        public void run() {
            try {
                switch (but) {
                case 0:
                    in = new Intent(MainSerenaActivity.this, Second_Btn.class);
                    if (servercheck_btn.isChecked()) {
                        if ((server.getText().toString()).equals("")) {
                            Toast toast = Toast.makeText(
                                    MainSerenaActivity.this,
                                    "please enter server ", Toast.LENGTH_SHORT);
                            toast.show();
                        } else {
                            strServer = server.getText().toString().trim();
                            strServer_fn = "https://" + strServer;
                            MyApplication.setServer(strServer_fn);
                        }
                    } else {
                        if ((server.getText().toString()).equals("")) {
                            strServer_fn = url;
                            MyApplication.setServer(strServer_fn);
                        } else {
                            strServer = server.getText().toString().trim();
                            strServer_fn = url;
                            MyApplication.setServer(strServer_fn);
                        }

                    }
                    startActivity(in);

                    break;

                }
            }

            catch (Exception e) {
            }

            pd.dismiss();

        }
    }

} 
```

但是 gif 仍然显示标题和消息。我只想要微调器，我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:17:18.473

首先创建一个 Activity indocator 的类。创建如下构造函数。

```
public ActivityIndicator(Context context) {
    super(context, android.R.style.Theme_Translucent_NoTitleBar_Fullscreen);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.activityindicator_dialog);

    setCancelable(true);

    RelativeLayout main = (RelativeLayout) findViewById(R.id.main);
    main.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));    
} 
```

现在你想在哪里设置进度对话框，然后输入下面的代码。您将获得自定义的进度对话框。

```
private static ActivityIndicator activityIndicator;
public static void hideActivityViewer() {
    if (activityIndicator != null) {
        activityIndicator.dismiss();
    }
}

public static void showActivityViewer(Context context) {
    if (activityIndicator == null) {
        activityIndicator = new ActivityIndicator(context);
    }
    activityIndicator.show();
}

public static void clearDialogs() {
    activityIndicator = null;
} 
```

活动指示器的xml如下

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent" android:layout_height="fill_parent">
<RelativeLayout android:gravity="center"
    android:layout_width="fill_parent" android:layout_height="fill_parent"
    android:id="@+id/main" android:background="@drawable/overlay_bck">
    <TextView android:text="@string/loading"
        android:textSize="15sp" android:textColor="#FFFFFF" android:id="@+id/text"
        android:textStyle="bold" android:layout_width="fill_parent"
        android:layout_height="wrap_content" android:gravity="center_horizontal"></TextView>
    <ProgressBar android:id="@+id/progress" android:layout_below="@+id/text"
        style="@android:style/Widget.ProgressBar" android:layout_centerHorizontal="true"
        android:layout_width="wrap_content" android:layout_height="wrap_content" />
</RelativeLayout> 
```

# html - CSS的第一个后代

> ID：13320620
> 
> 赞同：3
> 
> 时间：2012-11-10T08:50:04.983
> 
> 标签：html, css, css-selectors

我正在尝试删除表格中第一个 h3 元素上方的边距（直接在其上方的 h2 元素看起来真的很奇怪）

是否可以选择第一个 h3 元素？

```
<table>
<tbody>
    <tr>
        <td>
            <h3>I want to select this</h3>
        </td>
    </tr>
    <tr>              
        <td>
            <h3>But not this</h3>
        </td>
    </tr>
</tbody>
</table> 
```

我试过这个：

```
table tbody tr td:first-child h3 {
    margin-top: 0em;
} 
```

但我失败得很惨

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T08:52:14.453

您需要附加`:first-child`to ，`tr`因为 every`td`是它的第一个也是唯一的孩子`tr`：

```
table tbody tr:first-child td h3 {
    margin-top: 0em;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T08:56:50.877

```
table tbody tr td:first-child h3 {
    margin-top: 0em;
} 
```

td 在这两种情况下都是第一个孩子，在 tr 上使用它，或者更好地为第一个 h3 添加一个类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T08:59:09.503

对于不支持的浏览器，`:first-child`您可以以另一种（反向）方式执行此操作，通过选择相邻的兄弟来为下一个项目指定单独的`tr`样式`+`：

```
table tbody tr td h3 {
    margin-top: 0em;
}

table tbody tr + tr td h3 {
    margin-top: 1em; /* any needed value for all following H3's */
} 
```

# ios6 - 在 iOS 6.0 和 iOS 6.0.1 上调用 [FBSession openActiveSessionWithPermissions...] 时从 ACAccountStore 抛出 NSInvalidArgumentException

> ID：13320624
> 
> 赞同：11
> 
> 时间：2012-11-10T08:50:44.910
> 
> 标签：ios6, facebook-ios-sdk

使用 Facebook iOS SDK 3.1.1，我正在使用此调用执行登录 -

```
NSArray *permissions = [[NSArray alloc] initWithObjects: @"email", @"user_birthday", @"user_location", nil];

@try {
    return [FBSession openActiveSessionWithReadPermissions:permissions
                                              allowLoginUI:allowLoginUI
                                         completionHandler:^(FBSession *session,
                                                             FBSessionState state,
                                                             NSError *error) {
                                             [self sessionStateChanged:session
                                                                 state:state
                                                                 error:error];
                                         }];
}
@catch { ... } 
```

在极少数情况下，此方法会抛出`NSInvalidArgumentException`消息`Access options are not permitted for this account type. The options argument must be nil.`，这是从 中抛出的`[ACAccountStore requestAccessToAccountsWithType:options:completion:]`。

检查 Apple 的文档`ACAccountStore`，我看到了该方法的评论：

“某些帐户类型（例如 Facebook）需要选项字典。如果未为此类帐户类型提供选项字典，则此方法将抛出 NSInvalidArgumentException。相反，如果帐户类型不需要选项字典，则选项参数必须为零。”

除了 Facebook，Apple 要求它为零，但这个方法是从 Facebook 调用的，所以也许这是一个错误 - 无论是在 Facebook 还是在 iOS 6.0/.1，但我在网上找不到任何关于这个问题的信息。

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-22T05:31:29.343

我找到了解决此错误的方法。请注意，此处也描述了该错误：[https ://developers.facebook.com/bugs/139251032898548](https://developers.facebook.com/bugs/139251032898548)

Facebook SDK 不会对 accountTypeWithAccountTypeIdentifier 的返回值进行空检查。请参阅[https://github.com/facebook/facebook-ios-sdk/blob/master/src/FBSystemAccountStoreAdapter.m?source=c#L176](https://github.com/facebook/facebook-ios-sdk/blob/master/src/FBSystemAccountStoreAdapter.m?source=c#L176)

要解决此问题，您可以在尝试使用 facebook lgoin 之前进行以下检查：

```
if ([[[ACAccountStore alloc]init] accountTypeWithAccountTypeIdentifier:@"com.apple.facebook"] == nil) {
   NSLog(@"Cannot proceed, not facebook account type identifier");
   return;
} 
```

# java - 使用 Eclipse 将清单添加到 JAR 时标头字段名称无效

> ID：13320631
> 
> 赞同：6
> 
> 时间：2012-11-10T08:51:55.917
> 
> 标签：java, eclipse, jar, applet, manifest

我正在使用eclipse开发一个java小程序，需要在清单中的Class-Path中添加一个外部jar。我使用记事本创建了清单文件，使用了 UTF-8 编码并在末尾添加了换行符，但是尝试在 jar 创建过程中添加一个简单的示例清单也会导致 Eclipse 出现以下错误。

```
invalid header field name: ï>¿Manifest-Version
invalid header field name: ï>¿Manifest-Version 
```

我有一种感觉，这是一些简单的配置问题，但我不知道是什么。

为了测试它，我的清单包含单行

```
Manifest-Version: 1.0 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-10T08:56:16.660

记事本保存您的文件，并在开头使用[名为“BOM”的特殊标记](http://en.wikipedia.org/wiki/Byte_order_mark)：2 个字节 (U+FEFF)，用于识别 UTF-8 格式。

您必须使用[Notepad++](http://notepad-plus-plus.org/fr/)（或 vi）编辑文件并将其编码为 UTF-8（无 BOM）。

制作 JAR 的后续步骤：

*   使用日食
*   使用[Apache ANT](http://ant.apache.org/)
*   使用[Apache Maven](http://maven.apache.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-17T09:41:42.173

在**Notepad++**中，从**encoding**菜单中选择**encode in UTF-8 without BOM**。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-30T13:04:14.790

在eclipse中，右键单击文件属性并选择文本文件编码为ISO-8859-1

回到编辑器中删除特殊字符。

# html - 意外换行

> ID：13320634
> 
> 赞同：0
> 
> 时间：2012-11-10T08:52:11.553
> 
> 标签：html, css

一个非常简单的html：

```
<div style="width:200px">
    <p>f 22222222222222222222222222</p>
</div> 
```

将呈现为：

```
f 
22222222222222222222222222 
```

我所期望的是：

```
f 222222222222222
22222222222 
```

有可能解决这个问题吗？

小提琴： http: [//jsfiddle.net/8yL6j/](http://jsfiddle.net/8yL6j/) ​</p>

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T08:55:11.830

用于`word-wrap: break-word`在单词中间拆分文本：

```
.container {
    width: 200px;
    word-wrap: break-word;
}​ 
```

**演示：http: [//jsfiddle.net/8yL6j/1/](http://jsfiddle.net/8yL6j/1/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T10:57:38.727

似乎您希望浏览器将尽可能多的字符放在适合该位置的行上然后中断，而不考虑正常的换行行为、语言规则等，然后[`word-break: break-all`](https://developer.mozilla.org/en-US/docs/CSS/word-break)在元素上使用。

# c++ - 导入 c++ 文件时出现重复符号

> ID：13320636
> 
> 赞同：0
> 
> 时间：2012-11-10T08:52:18.850
> 
> 标签：c++, iphone, objective-c, ios, xcode

我在 XCode 中有一个项目，它使用一些 C++ 代码（`openCV`确切地说）。我的一个文件，`AdjustVC.mm`正在导入这个文件（它叫做`image_processing.mm`）。一切正常。`image_processing.mm`但是当我在另一个文件中导入时`TestVC.mm`，我得到了错误：

```
ld: 14 duplicate symbols for architecture armv7 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-10T08:54:47.480

这不是您的代码库的问题，`ld`而是链接阶段的工具，很可能您以错误的方式使用您的库。

您应该添加有关项目中涉及的库的更多详细信息，或者只是验证它们。

# php - 连接到 SAP B1 数据库并通过 PHP 将条目推送到其中

> ID：13320639
> 
> 赞同：1
> 
> 时间：2012-11-10T08:53:12.610
> 
> 标签：php, sapb1

我是 SAP 的新手，请帮助我通过 PHP 连接和推送 SAP 数据库上的条目

```
<?php
echo "SBO PHP TEST<br>";
$vCmp=new COM("PERPETUA.company") or die ("No connection");
$vCmp->server = "(localhost)";
$vCmp->CompanyDB = "SYSTEM";
$vCmp->LicenseServer = "localhost:30000";
$vCmp->username = "manager";
$vCmp->password = "manager";
$vCmp->DbServerType(PERPETUA.BoDataServerTypes.dst_MSSQL2008);
$lRetCode = $vCmp->Connect;
echo $vCmp->CompanyName;
echo '<br>';
$vItem = $vCmp->GetBusinessObject(oItems);
$RetVal = $vItem->GetByKey("A1010");
echo '$vItem->Itemname';
echo '<br><br>Ready';
?> 
```

这没有用。

1.  如何连接到 SAP B1 数据库？
2.  如何将条目推送到 PHP 到 SAP B1 数据库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-16T09:47:29.263

连接到 B1 时是否有一些错误？

什么意思`PERPETUA`？尝试替换`PERPETUA`为`SAPbobsCOM`. 也许您必须添加数据库用户名和密码：

```
$vCmp->DbUserName = "sa";
$vCmp->DbPassword = "******";
$vCmp->UseTrusted = false; 
```

B1 服务器地址应与 SLD 中的相同。如果您在 SLD 中使用“localhost”，请在 DIAPI 中输入 localhost。如果您使用机器名称或 IP 地址，请在 DIAPI 中使用此名称，而不是 localhost。

附加信息：[http ://scn.sap.com/message/2013907#2013907](http://scn.sap.com/message/2013907#2013907)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-21T17:35:18.503

代替

```
$vCmp=new COM("PERPETUA.company") or die ("No connection"); 
```

至

```
$vCmp=new COM("SAPbobsCOM.PERPETUA") or die ("No connection"); 
```

# emacs - 在议程视图中对具有重复时间戳的项目进行错误排序？

> ID：13320641
> 
> 赞同：2
> 
> 时间：2012-11-10T08:53:26.017
> 
> 标签：emacs, org-mode, date-sorting

我正在使用 Emacs 组织模式。假设它是 2012-11-10（今天）并且我有一个 TODO 项目：

```
**** LATER [#D] call John                       :phone:
     SCHEDULED: <2012-07-23 Mon .+1m>
     - State "DONE"       from "TODO"       [2012-06-23 Sat 12:21]
     :PROPERTIES:
     :LAST_REPEAT: [2012-06-23 Sat 12:21]
     :END: 
```

在我得到的议程视图中`Ctrl-c` `a` `a`显示为：

```
 TODO:       Sched.19x:  LATER [#D] call John                      :phone: 
```

`SCHEDULED`并在日期为 19 天前的其他项目中排序。但是，上面的项目已经快四个月没有工作了，所以实际上应该`SCHEDULED`在 <2012-07-23 Mon>（约 110 天前）的项目中进行排序。

我认为这是一个错误，但我想知道是否有任何选项可以尝试修复该行为。我已经在互联网上搜索了一个多小时，但没有找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T10:49:25.340

这不是错误，而是预期的行为。

您以重复的间隔安排了任务

预定时间：<2012-07-23 Mon **.+1m** >

这意味着每个月都会重新安排任务。最后一次是2012-10-27，19天前。

您可以删除重复的间隔

```
SCHEDULED: <2012-07-23 Mon> 
```

那么任务将在 110 天前按计划显示。

# c# - AES 加密得到不正确的结果

> ID：13320642
> 
> 赞同：2
> 
> 时间：2012-11-10T08:53:27.527
> 
> 标签：c#, encryption, aes

我尝试对某些文本使用 AES 加密，但解密后的文本与原始文本不同。

*   原文：`abcd`
*   解密文本：`?9T?o??G???x;*`

这是我的代码：

```
public static void Main(string[] args)
{
    byte[] original = { 97, 98, 99, 100 }; //"abcd"
    byte[] key = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16 };
    byte[] iv = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };
    byte[] encrypt = Encrypt(original, key, iv);
    byte[] decrypt = Decrypt(encrypt, key, iv);
    Console.WriteLine(Encoding.UTF8.GetString(original));
    Console.WriteLine(Encoding.UTF8.GetString(decrypt));
    Console.ReadKey();
}

public static byte[] Encrypt(byte[] original, byte[] key, byte[] iv)
{
    using (var memoryStream = new MemoryStream())
    {
        using (var aes = new AesManaged { Key = key, IV = iv, Padding = PaddingMode.PKCS7, Mode = CipherMode.CBC })
        {
            using (var cryptoStream = new CryptoStream(memoryStream, aes.CreateEncryptor(), CryptoStreamMode.Write))
            {
                cryptoStream.Write(original, 0, original.Length);
            }
        }
        return memoryStream.ToArray();
    }
}

public static byte[] Decrypt(byte[] encrypt, byte[] key, byte[] iv)
{
    using (var memoryStream = new MemoryStream(encrypt))
    {
        using (var aes = new AesManaged { Key = key, IV = iv, Padding = PaddingMode.PKCS7, Mode = CipherMode.CBC })
        {
            using (var cryptoStream = new CryptoStream(memoryStream, aes.CreateEncryptor(), CryptoStreamMode.Read))
            {
                byte[] decrypt = new byte[encrypt.Length];
                cryptoStream.Read(decrypt, 0, decrypt.Length);
                return decrypt;
            }
        }
    }
} 
```

怎么了？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T09:01:09.140

你的*解密*代码中有这个：

```
using (var cryptoStream = new CryptoStream(memoryStream, aes.CreateEncryptor(),
                                           CryptoStreamMode.Read)) 
```

将其更改为调用`aes.CreateDecryptor()`，它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:06:20.903

您的解密方法有问题，请使用以下内容：

```
public string Decrypt(byte[] EncryptedValue)
        {
            #region Write the encrypted value to the decryption stream
            MemoryStream encryptedStream = new MemoryStream();
            CryptoStream decryptStream = new CryptoStream(encryptedStream, DecryptorTransform, CryptoStreamMode.Write);
            decryptStream.Write(EncryptedValue, 0, EncryptedValue.Length);
            decryptStream.FlushFinalBlock();
            #endregion

            #region Read the decrypted value from the stream.
            encryptedStream.Position = 0;
            Byte[] decryptedBytes = new Byte[encryptedStream.Length];
            encryptedStream.Read(decryptedBytes, 0, decryptedBytes.Length);
            encryptedStream.Close();
            #endregion
            return UTFEncoder.GetString(decryptedBytes);
        } 
```

# c++ - 单位的 C++ 可用“文字后缀代码”

> ID：13320643
> 
> 赞同：6
> 
> 时间：2012-11-10T08:53:50.193
> 
> 标签：c++, c++11, user-defined-literals

C++1x 支持文字后缀（cmp。例如[http://ecn.channel9.msdn.com/events/GoingNative12/GN12Cpp11Style.pdf](http://ecn.channel9.msdn.com/events/GoingNative12/GN12Cpp11Style.pdf)）。我正在使用 gcc 4.7 并想为我们的系统介绍一些单元。最值得注意的是，我们一半的代码使用度数，另一半使用弧度（由于各种 3rd 方库），显然这总是导致错误的原因。能够说例如“弧度角= 90_deg;” 会很有帮助的。

我已经研究了如何实现这一点，它看起来是可行的，但是需要一些时间才能使一切正确。所以我想知道是否有一个已经完成/测试过的实现已经实现了所有可以使用的东西（不需要每个 C++ 开发人员重新实现它，是吗？）。除了弧度/度，我还在寻找长度测量值（毫米、厘米、米）。我已经用谷歌搜索了，但没有找到任何可用的东西。

有人知道例如可以使用的 SI 系统的实现吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-13T15:09:43.757

使用[boost.units](http://www.boost.org/doc/libs/1_37_0/doc/html/boost_units.html)。

**您将获得预期的好处**：能够安全地处理以不同单位表示的指标。
使用 boost 单元的语法还不错：

```
quantity<length>    dx(2.0*meter); 
```

# ios - 如何阻止 GADBannerView/MPAdView 获取广告？

> ID：13320645
> 
> 赞同：2
> 
> 时间：2012-11-10T08:54:04.783
> 
> 标签：ios, admob, mopub

我正在为广告使用 2 中介。

购买 IAP 时，我想删除广告横幅。

现在我`removeFromSuperview`用来删除视图。但是，广告仍在刷新。如何停止获得更多广告？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-14T09:08:48.790

我猜它

```
[adBanner_ stopAutomaticallyRefreshingContents]; 
```

而且我认为最好将代表 nilling 添加到（正如 RajPara 建议的那样）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-12T19:19:29.593

您还应该释放 GADBannerView 以及取消您的委托。因此，如果您执行以下操作：

```
adBanner_.delegate = nil;
// Don't release if you're using ARC.
[adBanner_ release]; 
```

当然，这假设您不想在稍后的应用程序流程中再次添加 GADBannerView。

# jsf - JSF 动态 ui:include

> ID：13320647
> 
> 赞同：1
> 
> 时间：2012-11-10T08:54:15.403
> 
> 标签：jsf, jsf-2, menu

在我的应用程序中，我有导师和学生作为用户角色。我决定两者的主页都是一样的。但是对于导师和用户来说，菜单会有所不同。我制作了.xhtml 页面tutorMenu.xhtml 和student.xhtml。并希望从角色包括菜单中获得依赖。对于整个页面，我使用布局，并且只是在每个页面中更改 ui:composition 中的内容“内容部分”。

在 menu.xhtml 中

```
<h:body>
    <ui:composition>        
            <div class="menu_header">
                <h2>
                    <h:outputText value="#{msg['menu.title']}" />
                </h2>
            </div>
            <div class="menu_content">
                <с:if test="#{authenticationBean.user.role.roleId eq '2'}">
                    <ui:include src="/pages/content/body/student/studentMenu.xhtml"/>
                </с:if>

                <с:if test= "#{authenticationBean.user.role.roleId eq '1'}">
                    <ui:include src="/pages/content/body/tutor/tutorMenu.xhtml" />
                </с:if>
            </div>      
    </ui:composition> 
```

我知道使用 jstl 不是更好的解决方案，但我找不到其他解决方案。我的问题的最佳决定是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T10:58:51.100

在这种情况下使用 jstl-tags 非常好，因为 Facelets 为 jstl 标签有一个相应的标签处理程序（在创建视图树时处理）并完美地处理它们。在这种情况下，c:if 可能会阻止 ui:include 的处理（并添加位于包含的 xhtml 文件中的组件），这会导致组件树的减少和表单的更好性能。使用这种方法的一个缺点是您无法使用 ajax 更新这些表单部分，即您更改用户角色并使用 ajax 刷新表单，因为其他角色的 ui:include 不再是视图的一部分。在这种情况下，您必须执行整页刷新。

# javascript - 使用 jsignature 降低鼠标按下灵敏度

> ID：13320651
> 
> 赞同：3
> 
> 时间：2012-11-10T08:55:30.187
> 
> 标签：javascript, mouseevent, mousedown

我正在寻找一种在绘制签名时减慢鼠标向下移动的方法。

我认为这会让用户有更多的控制权。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T05:49:55.467

mousemove 事件由浏览器生成，因此您无法更改这些事件。

# makefile - make test 对 mocha 测试没有任何作用

> ID：13320653
> 
> 赞同：13
> 
> 时间：2012-11-10T08:56:04.593
> 
> 标签：makefile

我正在关注这个例子：[http ://brianstoner.com/blog/testing-in-nodejs-with-mocha/](http://brianstoner.com/blog/testing-in-nodejs-with-mocha/)

我在我的根目录中定义了一个 Makefile：

```
REPORTER = dot

test:
  @NODE_ENV=test ./node_modules/.bin/mocha \
    --reporter $(REPORTER) \

test-w:
  @NODE_ENV=test ./node_modules/.bin/mocha \
    --reporter $(REPORTER) \
    --watch

.PHONY: test test-w 
```

但是当我运行'make test'时，它会显示“make: Nothing to be done for 'test'。”

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-10T09:24:35.683

原来 Makefiles 是制表符敏感的——当我剪切和粘贴文件时，这些文件被破坏了......

在 vi 中，我打开了制表符和间距来修复它：

```
vi Makefile
:set list 
```

现在您可以重新标记文件并确保您正确执行此操作。

# javascript - 成功时如何在选项卡之间切换

> ID：13320656
> 
> 赞同：1
> 
> 时间：2012-11-10T08:56:29.740
> 
> 标签：javascript, django, jquery

我在使用 ajax 的页面中有标签。在第三个选项卡（撰写）中有一个表单，我想在提交表单时，然后我们转到第一个选项卡（收件箱）。![在此处输入图像描述](../Images/d03b5c1721931bf65583723aaf91a425.png)

![在此处输入图像描述](../Images/02783ed8f4d3344a81a4952333e8ab2e.png)

我想知道这怎么可能？我做了什么？我有一个 base.html：

```
{% block extrahead %}
    <script type="text/javascript">
        $( document ).ready( function() {
           $( '#inbox' ).html( '{% trans "waiting ..." %}' ).load( 'inbox/');

           $( '#inbox_list' ).click( function() {

               $( '#inbox' ).html( '{% trans "waiting ..." %}' ).load( 'inbox/');
            });
            $( '
                $( '#outbox' ).html( '{% trans "waiting ..." %}' ).load( 'outbox/');
            });
            $( '#compose_list' ).click( function() {

                $( '#compose' ).html( '{% trans "waiting ..." %}' ).load( 'compose/');
            });
            $( '#trash_list' ).click( function() {

                $( '#trash' ).html( '{% trans "waiting ..." %}' ).load( 'trash/');
            });
        });
     </script>

<div id="dRtabs">
            <ul class="tabber">
                <li><a id="inbox_list" href="#inbox">{% trans "inbox" %}</a> </li>
                <li><a id="outbox_list" href="#outbox">{% trans "sent" %}</a> </li>
                <li><a id="compose_list" href="#compose">{%  trans "compose" %}</a> </li>
                <li><a id="trash_list" href="#trash">{%  trans "trash" %}</a> </li>
            </ul>
            <div class="clear"></div>
            <div id="inbox" class="tabContent">
                loading...
            </div>
            <div id="outbox" class="tabContent">
                loading...
            </div>
            <div id="compose" class="tabContent">
                loading...
            </div>
            <div id="trash" class="tabContent">
                loading...
            </div>
    </div> 
```

在 compose.html 我有这个功能：

```
<script type="text/javascript">
        $(function() {
            alert("first");
            $('#compose_form').submit(function() {
                alert("second");
                var temp = $("#compose_form").serialize();
                $.ajax({
                    type: "POST",
                    data: temp,
                    url: 'compose/',
                    success: function(data) {
                       ???
                    }
                });
                return false;
            });
        });
    </script> 
```

我不知道在成功功能中该怎么做。我有这个用于撰写的视图功能：

```
def compose(request, recipient=None):  
    if request.is_ajax():
        if request.method == "POST":
            sender = request.user
            form = ComposeForm(request.POST, recipient_filter=recipient_filter)
            if form.is_valid():
                form.save(sender=request.user)
                messages.info(request, _(u"Message successfully sent."))

                return ???
        else:
            form = ComposeForm()            
        return render_to_response('message/compose.html', {
            'form': form,
            }, context_instance=RequestContext(request)) 
```

所以我想知道如何在这些选项卡之间切换以及我应该在 vews.py 中返回什么。我真的需要你的帮助。谢谢我正在使用django

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:01:37.440

一个简单的触发器可以用于切换标签。

```
$('#inbox_list').trigger('click'); // .click() may also work. 
```

当表单完成并提交时，您将运行它

您可以返回 true 或 false，您可以检查此值，如果为 true，则向他显示收件箱页面，否则向他显示错误消息。

# c# - 从后台进程启动应用程序

> ID：13320662
> 
> 赞同：1
> 
> 时间：2012-11-10T08:57:53.077
> 
> 标签：c#, wpf, hotkeys, shellexecute, process.start

我正在开发一个基于 WPF 的小型程序，用于通过使用挂钩实现的系统范围的热键启动应用程序。我在 C# 和 Visual Studio 2010 中实现它。

当我检测到特定的按键时，我使用 Process.Start(...) 来运行应用程序。这在 Visual Studio 处于活动状态时工作正常，正如我所料，将新应用程序放置在具有输入焦点的前台。如果我的启动器在后台（在另一个活动程序之后），它仍然会检测到密钥并正确启动应用程序，在其他所有内容之前。

问题是，当我在没有激活 Visual Studio 的情况下运行启动器时，并且我的启动器应用程序不在前面时，它也不会启动应用程序。它们出现在启动器前面，但在活动应用程序后面。

我可以看到其他软件，如 AutoHotkey，能够通过这种行为进行热键启动，但我看不出我做错了什么。

**更新**：刚刚想出了一个在我的开发环境中有效的解决方案。我首先使用启动器主窗口句柄通过 Windows API RegisterHotKey 注册一个全局热键。密钥可以是任何密钥，但应该是通常在物理上不存在的密钥，在我的情况下为 F24。然后，每当我通过应该启动应用程序的挂钩检测到按键时，我首先调用 keybd_event 来“伪造”热键的按键。

对于 WPF 使用：

```
keybd_event((byte)KeyInterop.VirtualKeyFromKey(Key.F24),0,KEYEVENTF_KEYUP,0); 
```

对于 WinForms 使用：

```
keybd_event((byte)Keys.F24,0,KEYEVENTF_KEYUP,0); 
```

这将为启动器带来足够的关注，以便 Process.Start(...) 使执行的程序位于前面。它不会将启动器窗口置于前面，也不会使启动器接受输入。

如果在 keybd_event() 之后在主窗口上调用 Activate()，这会将主窗口置于前面并允许键盘输入，就像用户切换了任务一样。

# c# - 使用c#在asp.net中创建excel文件时如何指定路径和文件名？

> ID：13320667
> 
> 赞同：0
> 
> 时间：2012-11-10T08:59:08.860
> 
> 标签：c#, asp.net, excel

我可以使用以下方法创建一个 excel 文件：

```
protected void excldwnlbtn4_Click(object sender, EventArgs e)
{
    write_on_excel();
}

public void write_on_excel()
{
    Excel.ApplicationClass excelApp = new Excel.ApplicationClass();
    try
    {

        Excel.Workbook workbook = (Excel.Workbook)excelApp.Workbooks.Add(Missing.Value);
        Excel.Worksheet worksheet;

        // Get first Worksheet
        worksheet = (Excel.Worksheet)workbook.Sheets.get_Item(1);

        // Setting cell values

        ((Excel.Range)worksheet.Cells[1, "A"]).Value2 = "Vendor Code";
        ((Excel.Range)worksheet.Cells[1, "B"]).Value2 = "Vendor Password";
        ((Excel.Range)worksheet.Cells[1, "C"]).Value2 = "Vendor Name";

        workbook.Save();
        workbook.Close(0, 0, 0);
    }
    catch (Exception)
    {
        lblmsg4.Text = "File not Downloaded!!";
    }
    finally
    {
        excelApp.Quit();
    }
} 
```

通过这个我在我的 c:\documents 中创建一个 .xlsx 文件作为 book1.xlsx 但我想指定文件夹路径和文件名我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T09:04:23.517

使用[另存为](http://msdn.microsoft.com/en-us/library/microsoft.office.tools.excel.workbook.saveas%28v=vs.80%29.aspx)

```
object missing = System.Reflection.Missing.Value;

workbook.SaveAs(@"c:\documents\book1.xlsx",
            Excel.XlFileFormat.xlOpenXMLWorkbook, missing, missing,
            false, false, Excel.XlSaveAsAccessMode.xlNoChange,
            missing, missing, missing, missing, missing); 
```

# windows - 错误 403 Wamp phpmyadmin

> ID：13320668
> 
> 赞同：1
> 
> 时间：2012-11-10T08:59:32.057
> 
> 标签：windows, wamp

嗨，伙计们，我想我会在这里问，因为你们都很棒。我做出了升级到 Windows 8 的重大决定（现在认为它是一个糟糕的版本），由于我的键盘无法正常工作和其他 100 个问题，我花了 4 个小时试图在互联网上使用我的数位板找到修复程序。但现在这是最大的 - 我尝试了不同的搜索并在这里提出了超过 5000 多个结果，我的问题是 wamp 不会通过 localhost 连接到 phpmyadmin

我的主机文件中有 127.0.0.1 localhost -

我的 httpd.conf 文件有

```
<Directory />
    Options Indexes FollowSymLinks MultiViews
    AllowOverride all
        Order Deny,Allow
    Deny from all
    Allow from 127.0.0.1
</Directory> 
```

我明白了

Forbidden 您无权访问此服务器上的 /phpmyadmin/。我花了 6 个小时尝试几乎所有解决方案，甚至在凌晨 2 点左右搞砸了一切，意外删除了 www 文件夹备份文件，现在已经受够了。我在 Windows 8 pro 上 - 我安装了最新的 wamp - 杀手是它全部从 127.0.0.1/ 但不是从 localhost/ 如果我从 127.0.0.1 更改允许它会阻止它一起工作。请帮助它在不到 48 小时前在 Windows 7 中工作得非常好

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-12T03:44:37.123

它发生的原因是IPV6。默认情况下，Windows 8 是 IPV6 优先操作系统。如何？好吧，只需转到命令提示符并运行命令

```
ping localhost 
```

您将收到来自 ::1 的响应，即 IPV6 的环回地址。当您尝试连接到服务器时，它使用端口 80 和 IPV6 来定位它。

在这里查看这篇文章。 [http://praveenpuglia.wordpress.com/2012/11/20/setting-up-wamp-server-in-windows-8/](http://praveenpuglia.wordpress.com/2012/11/20/setting-up-wamp-server-in-windows-8/)

# c# - 简单的客户端-服务器解决方案 - 如何验证用户身份？

> ID：13320671
> 
> 赞同：1
> 
> 时间：2012-11-10T08:59:53.823
> 
> 标签：c#, authentication, client-server

刚接到一个创建客户端服务器系统的任务（还没有更多规范），但我确信需要某种用户登录。我现在能想到的只是基于数据库的登录，如果用户是具有读取权限的数据库用户，它将让他继续。有没有其他适合的内置解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:12:29.660

尝试从应用程序管理用户（在您的数据库中添加一个名为 users 的表）不要让用户访问数据库权限！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:21:56.970

您可以使用 Windows 身份验证，或者如果您的目标用户位于 LAN 内，您可以使用 NTLM 对用户进行身份验证，这样更安全，有一个最佳实践检查以下链接 [http://support.microsoft.com/kb/ 301240](http://support.microsoft.com/kb/301240) http://www.asp.net/mvc/tutorials/older-versions/security/authenticating-users-with-windows-authentication-cs [http://www.codeproject.com/Articles/94612/Windows-Authentication](http://www.codeproject.com/Articles/94612/Windows-Authentication)

# c# - 如何将类字段绑定到 ItemTemplate

> ID：13320679
> 
> 赞同：0
> 
> 时间：2012-11-10T09:01:38.493
> 
> 标签：c#, .net, xaml, data-binding, windows-8

我有一个 Windows 应用商店应用项目。

我创建了一个项目页面。这都是默认的，我想将我的自定义类绑定到它，`GridView`以便可以正确显示元素。

GridView 的 ItemTemplate 设置为`Standard250x250ItemTemplate`. 我想使用该模板并告诉它如何显示我的自定义元素。我怎样才能做到这一点？我必须创建自己的 ItemTemplate 吗？我想使用现有的。

顺便说一句，我正在设置`itemGridView.ItemsSource`我的收藏。这是告诉`GridView`要显示什么的正确方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:15:24.487

您需要创建您的项目模板

这是我使用 Obout Ajax LIB 完成的示例

```
Grid SegmentsGrid = new Grid();
GridRuntimeTemplate AirlinesTemplate = new GridRuntimeTemplate();
AirlinesTemplate.ID = "AirlinesTemplate1";
AirlinesTemplate.ControlID = "AirlinesComboBox1";
AirlinesTemplate.Template = new Obout.Grid.RuntimeTemplate();
AirlinesTemplate.Template.CreateTemplate += new Obout.Grid.GridRuntimeTemplateEventHandler(CreateAirlinesTemplate);

GridRuntimeTemplate ClassesTemplate = new GridRuntimeTemplate();
ClassesTemplate.ID = "ClassesTemplate1";
ClassesTemplate.ControlID = "ClassesComboBox1";
ClassesTemplate.Template = new Obout.Grid.RuntimeTemplate();
ClassesTemplate.Template.CreateTemplate +=new Obout.Grid.GridRuntimeTemplateEventHandler(CreateClassesTemplate);  

SegmentsGrid.Templates.Add(ClassesTemplate);
SegmentsGrid.Templates.Add(AirlinesTemplate);

  public void CreateAirlinesTemplate(Object sender, Obout.Grid.GridRuntimeTemplateEventArgs e)
    {
        PlaceHolder ph1 = new PlaceHolder();
        e.Container.Controls.Add(ph1);

        AirlinesComboBox.ID = "AirlinesComboBox1";
        AirlinesComboBox.Width = Unit.Percentage(100);
        AirlinesComboBox.Height = Unit.Pixel(200);
        AirlinesComboBox.DataTextField = "Airline_Long_Name";
        AirlinesComboBox.DataValueField = "Airline_Long_Name";
        AirlinesComboBox.EmptyText = "Select Airline ...";
        AirlinesComboBox.EnableLoadOnDemand = true;
        AirlinesComboBox.LoadingItems += AirlinesComboBox1_LoadingItems;

        ph1.Controls.Add(AirlinesComboBox);
    }

 protected void AirlinesComboBox1_LoadingItems(object sender, ComboBoxLoadingItemsEventArgs e)
    {
        // Getting the countries
        DataTable data = GetAirlines(e.Text);

        // Looping through the items and adding them to the "Items" collection of the ComboBox
        for (int i = 0; i < data.Rows.Count; i++)
        {
            (sender as ComboBox).Items.Add(new ComboBoxItem(data.Rows[i]["Airline_Long_Name"].ToString(), data.Rows[i]["Airline_Long_Name"].ToString()));
        }

        e.ItemsLoadedCount = data.Rows.Count;
        e.ItemsCount = data.Rows.Count;
    }

  protected void ClassesComboBox1_LoadingItems(object sender, ComboBoxLoadingItemsEventArgs e)
    {
        // Getting the countries
        DataTable data = GetClasses(e.Text);

        // Looping through the items and adding them to the "Items" collection of the ComboBox
        for (int i = 0; i < data.Rows.Count; i++)
        {
            (sender as ComboBox).Items.Add(new ComboBoxItem(data.Rows[i]["Class_Name"].ToString(), data.Rows[i]["Class_Name"].ToString()));
        }

        e.ItemsLoadedCount = data.Rows.Count;
        e.ItemsCount = data.Rows.Count;
    }

    public void CreateClassesTemplate(Object sender, Obout.Grid.GridRuntimeTemplateEventArgs e)
    {
        PlaceHolder ph1 = new PlaceHolder();
        e.Container.Controls.Add(ph1);

        ClassesComboBox.ID = "ClassesComboBox1";
        ClassesComboBox.Width = Unit.Percentage(100);
        ClassesComboBox.Height = Unit.Pixel(200);
        ClassesComboBox.DataTextField = "Class_Name";
        ClassesComboBox.DataValueField = "Class_Name";
        ClassesComboBox.EmptyText = "Select Flight Class ...";
        ClassesComboBox.EnableLoadOnDemand = true;
        ClassesComboBox.LoadingItems += ClassesComboBox1_LoadingItems;
        ph1.Controls.Add(ClassesComboBox);
    } 
```

# regex - Search and replace using a regex in Sublime Text

> ID：13320680
> 
> 赞同：2
> 
> 时间：2012-11-10T09:01:40.163
> 
> 标签：regex, sublimetext2, replace

How to do a search and replace with Sublime Text, so it finds `"(wildcard)"`?

I want to do a simple find and replace to get curly quotes, I expect that this can be done using regex.

Thanks :)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T09:52:22.773

# php - PHP删除搜索字符串旁边的单词

> ID：13320683
> 
> 赞同：4
> 
> 时间：2012-11-10T09:02:07.870
> 
> 标签：php

我需要删除搜索字符串的下一个单词。我有像 array('aa','bb','é'); 这样的搜索数组。

这是我的段落'你好，这是一个测试段落 aa 123 test bb 456'。

在本段中，我需要删除 123 和 456。

```
$pattern        = "/\bé\b/i";
$check_string       = preg_match($pattern,'Hello, this is a test paragraph aa 123 test é 456'); 
```

如何获得下一个单词？？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:16:15.940

这是我的解决方案：

```
<?php

//Initialization
$search = array('aa','bb','é');
$string = "Hello, this is a test paragraph aa 123 test bb 456";

//This will form (aa|bb|é), for the regex pattern
$search_string = "(".implode("|",$search).")";

//Replace "<any_search_word> <the_word_after_that>" with "<any_search_word>"
$string = preg_replace("/$search_string\s+(\S+)/","$1", $string);

var_dump($string); 
```

您将“SEARCH_WORD NEXT_WORD”替换为“SEARCH_WORD”，从而消除“NEXT_WORD”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:17:02.580

您可以为此简单地使用 phps`preg_replace()`函数：

```
#!/usr/bin/php
<?php

// the payload to process
$input = "Hello, this is a test paragraph aa 123 test bb 456 and so on.";

// initialization   
$patterns = array();
$tokens   = array('aa','bb','cc');

// setup matching patterns 
foreach ($tokens as $token)
  $patterns[] = sprintf('/%s\s([^\s]+)/i', $token);

// replacement stage
$output = preg_replace ( $patterns, '', $input );

// debug output
echo "input: ".$input."\n"; 
echo "output:".$output."\n";

?> 
```

# c++ - 如何在 PKCS#11 之后将 Microsoft Crypto API 与 USB 加密狗一起使用

> ID：13320685
> 
> 赞同：2
> 
> 时间：2012-11-10T09:02:33.860
> 
> 标签：c++, token, pki, cryptoapi, mscapi

我有一家公司提供的安全网身份验证 USB 令牌，他们告诉我他们里面有数字公钥证书。他们给了我一个密码和一个软件，通过它我可以看到它可以检测到里面的证书。现在我需要访问这个令牌的证书，然后我需要使用我的开发代码进行签名、加密和解密。但是公司没有给我任何 sdk，所以我必须通过 C++ Microsoft CryptoAPI 来做所有事情。我在谷歌上搜索，但我不确定我的方向是否正确

此代码没有为我提供 USB 存储证书的正确句柄

```
 // Attempt to acquire a handle to the default key container.
        bResult = CryptAcquireContext(
                    &hProv,            // Variable to hold returned handle.
                    NULL,              // Use default key container.
                    MS_DEF_PROV,       // Use default CSP.
                    PROV_RSA_FULL,     // Type of provider to acquire.
        0); 
```

我认为它应该在智能卡或令牌上提供任何默认连接的证书。我也尝试了 MS_SCARD_PROV，考虑它是否可以让我通过 USB 令牌访问，但它似乎只适用于智能卡而不是令牌。

我很想完成这项任务，如果您知道任何专家，请指导我或向我展示正确的教程。或者建议我应该为这种任务做些什么..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T14:52:46.893

您将同时使用 PKCS#11 和 CryptoAPI 功能。

PKCS#11 将主要用于与硬件令牌通信。每个硬件供应商都会为其硬件令牌实现 PKCS#11 接口。如果你的是 etoken，那么 safenet 就有一个。此外，safenet 将拥有他们的[CryptoAPI CSP](http://msdn.microsoft.com/en-us/library/windows/desktop/aa380252%28v=vs.85%29.aspx#csp_functions)，您可以使用它来与令牌对话。

CryptoAPI 提供了丰富的功能来处理令牌中存在的证书。

# sql - 插入自引用表

> ID：13320689
> 
> 赞同：8
> 
> 时间：2012-11-10T09:03:02.243
> 
> 标签：sql, sql-server

如果我有一张桌子

```
Table
{
ID int primary key identity,
ParentID int not null foreign key references Table(ID)
} 
```

如何将第一行插入表中？

从业务逻辑的角度来看，不应删除对 ParentID 的非空约束。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T09:17:53.193

在 SQL Server 中，一个简单的 INSERT 将执行以下操作：

```
create table dbo.Foo
(
ID int primary key identity,
ParentID int not null foreign key references foo(ID)
)
go

insert dbo.Foo (parentId) values (1)

select * from dbo.Foo 
```

结果是

```
 ID          ParentID
----------- -----------
    1           1 
```

如果您尝试插入一个与您的身份种子不同的值，则插入将失败。

更新：

这个问题不太清楚上下文是什么（即代码应该在实时生产系统中工作还是只是一个数据库设置脚本），从评论看来，对 ID 进行硬编码可能不是一种选择。虽然上面的代码通常应该在层次结构根 ID 可能需要已知且恒定的 DB 初始化脚本中正常工作，但在森林的情况下（几个具有事先未知 ID 的根），以下应该按预期工作：

```
create table dbo.Foo
(
ID int primary key identity,
ParentID int not null foreign key references foo(ID)
)
go

insert dbo.Foo (parentId) values (IDENT_CURRENT('dbo.Foo')) 
```

然后可以像往常一样查询最后一个身份（`SCOPE_IDENTITY`等）。为了解决@usr 的问题，代码实际上是事务安全的，如下例所示：

```
insert dbo.Foo (parentId) values (IDENT_CURRENT('dbo.Foo'))
insert dbo.Foo (parentId) values (IDENT_CURRENT('dbo.Foo'))
insert dbo.Foo (parentId) values (IDENT_CURRENT('dbo.Foo'))

select * from dbo.Foo

select IDENT_CURRENT('dbo.Foo')
begin transaction   
    insert dbo.Foo (parentId) values (IDENT_CURRENT('dbo.Foo'))
    rollback

select IDENT_CURRENT('dbo.Foo')

insert dbo.Foo (parentId) values (IDENT_CURRENT('dbo.Foo'))

select * from dbo.Foo 
```

结果：

```
ID          ParentID
----------- -----------
1           1
2           2
3           3

currentIdentity
---------------------------------------
3

currentIdentity
---------------------------------------
4

ID          ParentID
----------- -----------
1           1
2           2
3           3
5           5 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T12:45:09.257

`NOT NULL`对于树中的根节点，该约束似乎不正确。它根本没有父母。所以这个假设从一开始`ParentID`就`NOT NULL`被打破了。

我建议您将其设为可空并添加一个索引`ParentID`以验证是否只有一个具有 value `NULL`：

```
create unique nonclustered index ... on T (ParentID) where (ParentID IS NULL) 
```

在 SQL Server 中很难强制执行健全的树形结构。例如，您可以在图中获得多个根或循环。很难验证所有这些，也不清楚是否值得付出努力。可能是这样，取决于具体情况。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-10T09:18:46.700

如果您需要对第一个 ID 使用显式值，则在插入第一条记录时，可以禁用对 IDENTITY 值的检查（请参阅：[MSDN：SET IDENTITY_INSERT (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms188059.aspx)）。

这是一个说明这一点的示例：

```
CREATE TABLE MyTable
(
  ID int PRIMARY KEY IDENTITY(1, 1),
  ParentID int NOT NULL,
  CONSTRAINT MyTable_ID FOREIGN KEY (ParentID) REFERENCES MyTable(ID)
);

SET IDENTITY_INSERT MyTable ON;
INSERT INTO MyTable (ID, ParentID)
VALUES (1, 1);
SET IDENTITY_INSERT MyTable OFF;

WHILE @@IDENTITY <= 5
BEGIN
    INSERT INTO MyTable (ParentID)
    VALUES (@@IDENTITY);
END;

SELECT *
  FROM MyTable;

IF OBJECT_ID('MyTable') IS NOT NULL
    DROP TABLE MyTable; 
```

ruby-on-rails-3ruby-on-rails-3.2 4 1 回答 1 This answer is useful 0 我设法找出导致问题的原因。我在 rails_admin 配置中排除了“Rich::RichFile”。删除这条线解决了这个问题。 于 2012-11-11T01:05:47.790 回答 Related 2 java - Java Game - 如何让敌人移动？ 1 java - Hive UDAF 中的 NullPointException 1 google-analytics - 谷歌分析网站总数 1 c++ - 如何仅检测一次相同的键盘按键 1 antlr - ANTLR 4：在多参数行中跳过空格 1 python - 熊猫数据框中最大的两行 1 mysql - SQL - '部分'分组，不同列的不同行为 1 spring-mvc - Spring MVC - 无法@Autowire messageSource 3 xml - Adobe Air as3 - 从桌面读取 XML 文件 2 c# - 在数据库中插入 DropDownList 值 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641 <link href="../Styles/Style.css" type="text/css" rel="stylesheet">

# ruby-on-rails-3 - `method_missing': 未定义的方法 `paginates_per' 用于# 我的 rails 应用程序正在生成以下错误（运行 rails 生成器或启动 WEBrick 时）： /home/lachlan/.gem/ruby/1.9.1/gems/activerecord-3.2.6/lib/active_record/dynamic_matchers.rb:50:in `method_ 问问题 问问题 2012-11-10T09:03:24.300 879 次 This question shows research effort; it is useful and clear 2 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 我的 rails 应用程序正在生成以下错误（运行 rails 生成器或启动 WEBrick 时）： /home/lachlan/.gem/ruby/1.9.1/gems/activerecord-3.2.6/lib/active_record/dynamic_matchers.rb:50:in `method_missing': undefined method `paginates_per' for # <class:0x0000000293d7d8>(NoMethodError) from /home/lachlan/.gem/ruby/1.9.1/gems/rich-1.3.1/app/models/rich/rich_file.rb:13:in `<class:richfile>' from /home/lachlan/.gem/ruby/1.9.1/gems/rich-1.3.1/app/models/rich/rich_file.rb:6:in `<module:rich>' from /home/lachlan/.gem/ruby/1.9.1/gems/rich-1.3.1/app/models/rich/rich_file.rb:5:in `<top (required)="">' 我正在使用以下宝石，我认为可能与错误有关： gem 'therubyracer', :platforms => :ruby gem 'uglifier', '>= 1.0.3' gem 'less-rails' gem 'twitter-bootstrap-rails' gem 'jquery-rails' gem 'rails_admin' gem 'rich' gem 'kaminari' 我已经跑了rake db:migrate。 关于可能导致这种情况的任何想法？ 使用 Javascript 动态创建和删除 Div 标签 当我按下 3 个不同的按钮（红绿蓝）时，我想动态创建 3 个 div 标签。当我按下红色时，我希望“红色”div 的高度是我的屏幕大小，以便整个页面看起来是红色的并且当我按绿色时，我希望“红色”div 的高度成为我屏幕的 50%，而其他 50% 的屏幕应该被其他 div（即绿色）占据。 最后，当我按下蓝色按钮时，我希望所有 div 都以相同的高度出现在屏幕上...... 我可以创建 div，但是在按下所有三个按钮后按下红色按钮时，我无法删除以前创建的 div... 这是代码：  <title>Ass 2</title>  ruby-on-rails-3ruby-on-rails-3.2 4 1 回答 1 This answer is useful 0 我设法找出导致问题的原因。我在 rails_admin 配置中排除了“Rich::RichFile”。删除这条线解决了这个问题。 于 2012-11-11T01:05:47.790 回答 Related 2 java - Java Game - 如何让敌人移动？ 1 java - Hive UDAF 中的 NullPointException 1 google-analytics - 谷歌分析网站总数 1 c++ - 如何仅检测一次相同的键盘按键 1 antlr - ANTLR 4：在多参数行中跳过空格 1 python - 熊猫数据框中最大的两行 1 mysql - SQL - '部分'分组，不同列的不同行为 1 spring-mvc - Spring MVC - 无法@Autowire messageSource 3 xml - Adobe Air as3 - 从桌面读取 XML 文件 2 c# - 在数据库中插入 DropDownList 值 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</top></module:rich></class:richfile></class:0x0000000293d7d8>

> ID：13320690
> 
> 赞同：2
> 
> 时间：
> 
> 标签：ruby-on-rails-3, ruby-on-rails-3.2

我的 rails 应用程序正在生成以下错误（运行 rails 生成器或启动 WEBrick 时）：

```
/home/lachlan/.gem/ruby/1.9.1/gems/activerecord-3.2.6/lib/active_record/dynamic_matchers.rb:50:in `method_missing': undefined method `paginates_per' for #<Class:0x0000000293d7d8> (NoMethodError)
    from /home/lachlan/.gem/ruby/1.9.1/gems/rich-1.3.1/app/models/rich/rich_file.rb:13:in `<class:RichFile>'
from /home/lachlan/.gem/ruby/1.9.1/gems/rich-1.3.1/app/models/rich/rich_file.rb:6:in `<module:Rich>'
from /home/lachlan/.gem/ruby/1.9.1/gems/rich-1.3.1/app/models/rich/rich_file.rb:5:in `<top (required)>' 
```

我正在使用以下宝石，我认为可能与错误有关：

```
gem 'therubyracer', :platforms => :ruby
gem 'uglifier', '>= 1.0.3'
gem 'less-rails'
gem 'twitter-bootstrap-rails'
gem 'jquery-rails'
gem 'rails_admin'
gem 'rich'
gem 'kaminari' 
```

我已经跑了`rake db:migrate`。

关于可能导致这种情况的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T01:05:47.790

我设法找出导致问题的原因。我在 rails_admin 配置中排除了“Rich::RichFile”。删除这条线解决了这个问题。

# javascript - 使用 Javascript 动态创建和删除 Div 标签

> ID：13320691
> 
> 赞同：-2
> 
> 时间：2012-11-10T09:03:36.883
> 
> 标签：javascript, html

当我按下 3 个不同的按钮（红绿蓝）时，我想动态创建 3 个 div 标签。当我按下红色时，我希望“红色”div 的高度是我的屏幕大小，以便整个页面看起来是红色的并且当我按绿色时，我希望“红色”div 的高度成为我屏幕的 50%，而其他 50% 的屏幕应该被其他 div（即绿色）占据。

最后，当我按下蓝色按钮时，我希望所有 div 都以相同的高度出现在屏幕上......

我可以创建 div，但是在按下所有三个按钮后按下红色按钮时，我无法删除以前创建的 div...

这是代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <title>Ass 2</title>

        <script type="text/javascript">

        function fblue() {
            // document.bgColor = 'lightblue';

            selc=document.getElementById("first");
            divBlue=document.getElementById("one");
            myPara.removeChild(divBlue);

             selc=document.getElementById("first");

             divBlue=document.createElement("div");
             divBlue.id = "one";
             divBlue.style.backgroundColor = "lightblue";
             divBlue.style.height = "610px"
             divBlue.innerHTML = "dv tag created successfully";

             selc.appendChild(divBlue);
        }

        function fgreen() {

            selc=document.getElementById("first");
            divBlue=document.getElementById("one");

            divBlue.id = "one";
            divBlue.style.backgroundColor = "lightblue";
            divBlue.style.height = "305px"
            divBlue.innerHTML = "dv tag created successfully";
            selc.appendChild(divBlue);

            divGreen=document.createElement("div");
            divGreen.id = "one";
            divGreen.style.backgroundColor = "lightgreen";
            divGreen.style.height = "305px"
            divGreen.innerHTML = "dv tag created successfully";
            selc.appendChild(divGreen);

            //document.bgColor = ''; 
        }

        function fred() {

            document.getElementById("one").style.backgroundColor = 'lightblue';
            document.getElementById("one").style.width = '1104px';
            document.getElementById("one").style.height = '185px';

            document.getElementById("two").style.backgroundColor = 'red';
            document.getElementById("two").style.width = '1104px';
            document.getElementById("two").style.height = '185px';

            document.getElementById("three").style.backgroundColor = 'lightgreen';
            document.getElementById("three").style.width = '1104px';
            document.getElementById("three").style.height = '185px';
            document.bgColor = ''; 
        }

        </script>
    </head>
    <body style="margin: 0px;">
        <div style="height: 0px;" id="first"></div>

        <div id="four" style="margin-left: 415px; margin-top: 500px">
            <form>
                <input type="button" name="blu" value="Blue" onclick="javascript:fblue();">
                <input type="button" name="gre" value="Green/Red" onclick="javascript:fgreen();">
                <input type="button" name="re" value="Red/Green/Blue" onclick="javascript:fred();">
            </form>
        </div>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T09:09:04.077

```
 document.createElement("div"); 
```

将动态创建一个 div

```
var oldChild = element.removeChild(child);
element.removeChild(child); 
```

从 DOM 中移除一个子节点。返回删除的节点。

# iphone - 如何为iphone中的图片赋予自定义名称

> ID：13320695
> 
> 赞同：7
> 
> 时间：2012-11-10T09:03:59.713
> 
> 标签：iphone

我是 iPhone 编程的新手。有谁知道如何为使用移动相机拍摄的照片提供自定义名称？之后，图片必须与该名称一起保存在照片库中。

任何人都可以找到解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T10:23:04.277

**将元数据**添加到**UIImage**。UIImage 的相同元数据可用于了解图像的信息。

 **请参阅[从 UIImage 获取 Exif 数据](https://stackoverflow.com/a/1967111/1106035)。

参考[UIImagePickerController 并从现有照片中提取 EXIF 数据](https://stackoverflow.com/a/1967111/1106035)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T09:08:18.217

你不能这样做。因为`iOS`用`asseturl`. 您不能将元数据与照片库中的图像一起添加。而且您只能使用资产库访问照片。**

# c++ - 读取带有分隔符的文本文件

> ID：13320698
> 
> 赞同：0
> 
> 时间：2012-11-10T09:05:24.760
> 
> 标签：c++

我有一个文本文件，内容是

```
Point1, [5, 6]
Line2, [1, 2, 3], [-5, 55, 33]
Point2, [5, 3, 1]
Line1, [1, 2], [5, 7] 
```

我会做比较，比如第一个变量（Point1，Line2，Point2，Line1）

如果是point1，则存储到point 1数组中，将5设为x，将y设为6。

如何将分隔符设置为逗号以及“[”和“]”。我只需要变量 Point1、5 和 6 来相应地存储它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:09:11.677

我会用最简单的方法解决这个问题——使用 getline 读取文件，然后用空格替换所有出现的`,`,`[`和`]`。`std::istringstream`然后您可以使用from读取所有输入`<sstream>`。您也可以使用正则表达式（如果您使用 boost 或 c++-11），但我相信我的建议应该可以完成这项工作。

编辑：这是一个如何做我建议的例子。我只会向您展示如何输入点，以及如何处理线，您必须添加基于名称的 if 语句。

```
#include <iostream>
#include <string>
#include <sstream>

using namespace std;

int main() {
  string line;

  while (getline(cin, line)) {
    for (unsigned i = 0; i < line.size(); ++i) {
      if (line[i] == '[' || line[i] == ']' || line[i] == ',') {
        line[i] = ' ';
      }
    }
    istringstream in(line);

    string name;
    double x,y;
    in >> name >> x >> y; // Point1 <x> <y>
    ... do something with the point...
  }

  return 0;
} 
```

您也可以使用`replace_if`from`<algorithm>`替换符号，但我认为您更容易理解此解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T09:19:58.557

您可以使用 json-cpp 库。它有类似的语法：

```
{
 "Point1" : [5, 6],
 "Line2": {
     "param1" : [1, 2, 3],
     "param2" : [-5, 55, 33]
    },
  "Point2" : [5, 3, 1],
  "Line1" : {
   "param1" : [1, 2],
   "param2" : [5, 7]
   }
} 
```

# python - NDB key.get() 给出 'unicode' 对象没有属性 'get' 错误

> ID：13320699
> 
> 赞同：2
> 
> 时间：2012-11-10T09:05:26.790
> 
> 标签：python, google-app-engine, app-engine-ndb

我正在从 db 迁移到 ndb。有一个功能可以在路径中动态提供图像。在 DB 中，我将实体 key(i.key()) 作为 img_id 传递，并使用 db.get(key) 获取图像。

对于 NDB，我尝试通过密钥 (i.key) 和实体密钥(i.key.urlsafe()) 来传递。但是这两种情况我都得到'unicode'对象没有属性'get'错误。

```
**DB:**
def get(self):
image = db.get(self.request.get('img_id'))

**HTML**
<a class="post-title" href ="{{permalink}}">{{i.content}}</a>
<img src="/img?img_id={{i.key}}"></img>

**NDB**
class ImageHandler(BlogHandler):
def get(self):
    img=self.request.get('img_id')
    image=img.get()
    if image.image:
        self.response.headers['Content-Type'] = 'image/png'
        self.response.out.write(image.image)
    else:
        self.response.out.write('No image') 
```

我找不到这个错误。我是否在 key.get() 中为键传递了错误的类型？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-10T09:17:34.310

您可以尝试以下方法：

**HTML**

```
<a class="post-title" href ="{{ permalink }}">{{ i.content }}</a>
<img src="/img?img_id={{ i.key.urlsafe() }}"></img> 
```

**新开发银行**

```
class ImageHandler(BlogHandler):
def get(self):
    img_key = ndb.Key(urlsafe=self.request.get('img_id'))
    image = img_key.get()
    if image.image:
        self.response.headers['Content-Type'] = 'image/png'
        self.response.out.write(image.image)
    else:
        self.response.out.write('No image') 
```

希望这可以帮助。

# ios - 如何在最近 5 天内按播放次数获得 iTunes 库前 10 首歌曲？

> ID：13320700
> 
> 赞同：1
> 
> 时间：2012-11-10T09:05:27.663
> 
> 标签：ios, itunes, mpmediaitem, mpmediaquery

我正在尝试在 ios 中获取 iTunes 库。并试图在 5 天内检索播放次数排名前 10 的歌曲。

你能告诉我该怎么做吗？这是我的代码。MPMediaPropertyPredicate 不是正确的答案......我猜。

```
MPMediaQuery *everything = [[MPMediaQuery alloc] init];
NSLog(@"Logging items from a generic query...");
NSArray *itemsFromGenericQuery = [everything items];
for (MPMediaItem *song in itemsFromGenericQuery) {
    NSString *songTitle = [song valueForProperty: MPMediaItemPropertyTitle];
    NSString *artistName = [song valueForProperty:MPMediaItemPropertyArtist];
    NSString *lastPlayeddate = [song valueForProperty:MPMediaItemPropertyLastPlayedDate];
    NSString *playCount = [song valueForProperty:MPMediaItemPropertyPlayCount];

    NSLog (@"%@", songTitle);
    text.text = [NSString stringWithFormat:@"%@\n%@ %@ %@ %@", text.text, songTitle, artistName, lastPlayeddate, playCount];
} 
```

一切顺利。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T01:16:49.303

显然，播放计数被认为是“用户定义”键，因此不能用于`MPMediaPropertyPredicate`

请参阅[http://developer.apple.com/library/ios/documentation/mediaplayer/reference/MPMediaItem_ClassReference/Reference/Reference.html#//apple_ref/doc/uid/TP40008211-CH1-SW38](http://developer.apple.com/library/ios/documentation/mediaplayer/reference/MPMediaItem_ClassReference/Reference/Reference.html#//apple_ref/doc/uid/TP40008211-CH1-SW38)

您必须手动迭代歌曲并检索这些属性。

`enumerateValuesForProperties:usingBlock:`在这里可能是您最有效的选择。 [http://developer.apple.com/library/ios/documentation/mediaplayer/reference/MPMediaEntity_ClassReference/Reference/Reference.html#//apple_ref/occ/instm/MPMediaEntity/enumerateValuesForProperties:usingBlock](http://developer.apple.com/library/ios/documentation/mediaplayer/reference/MPMediaEntity_ClassReference/Reference/Reference.html#//apple_ref/occ/instm/MPMediaEntity/enumerateValuesForProperties:usingBlock)：

# java - Hibernate 的坏问题：查询列表时自动添加记录

> ID：13320702
> 
> 赞同：3
> 
> 时间：2012-11-10T09:05:48.677
> 
> 标签：java, spring, hibernate

我正在使用 - 休眠 4 - 春季 3

我遇到了一个我无法理解的问题：当我尝试在 Hibernate 中检索对象列表时，我的数据库的另一个表中充满了行。我怀疑我设置的“CASCADE”和“FETCHING”属性有问题，但我真的无法理解。

让我解释一下这个问题。

这里有4个实体：

1.  具有所有凭据的用户，例如,`username`和类似的东西`isEnabled``Authorities List`
2.  记录用户角色的权限
3.  一个 ProfiledUser ，其中包含与 , 相关的所有内容`profile data`，`address data`还有一个列表`checkups`，最后是
4.  有一些数据和对用户的引用的检查

我试图建模以下

![在此处输入图像描述](../Images/aff4be89eb74a0a6bbda8d94e2134123.png)

这是课程：**用户**

```
@Entity
@Table(name="USERS")
@Inheritance(strategy=InheritanceType.JOINED)
public class User implements UserDetails, DomainObject {

    private static final long serialVersionUID = 1L;
    private long id;
    //other stuff here
    Set<Authority> authorities = new HashSet<Authority>();

    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    @Column(name="id", unique=true, nullable=false)
    public long getId() {
        return id;
    }

    public void setId(long id) {
        this.id = id;
    }

    @ElementCollection(fetch=FetchType.EAGER)
    @JoinTable(name="AUTHORITIES", joinColumns=@JoinColumn(name="user_id"))
    public Set<Authority> getAuthorities() {
        return authorities;
    }

    public void setAuthorities(Set<Authority> authorities) {
        this.authorities = authorities;
    }   
} 
```

**Profiled用户**

```
@Entity
@Table(name="PROFILED_USERS")
public class ProfiledUser extends User{

    private static final long serialVersionUID = 1L;
    //other stuff here. Everything with CASCADE ALL
    private Collection<Checkup> checkupMap = new HashSet<Checkup>();

    public ProfiledUser() {
        super();
        // TODO Auto-generated constructor stub
    }

    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER)
    public Collection<Checkup> getCheckupMap() {
        return checkupMap;
    }

    public void setCheckupMap(Collection<Checkup> checkupMap) {
        this.checkupMap = checkupMap;
    }
} 
```

**清理**

```
@Entity
@Table(name="CHECKUPS")
public class Checkup implements DomainObject{

    private long id;
    private ProfiledUser profiledUser;
    //other stuff here everyithing fetched EAGERLY
    private boolean pending = true;

    public Checkup() {
        super();
    }

    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    @Column(name="id")
    public long getId() {
        return id;
    }

    public void setId(long id) {
        this.id = id;
    }

    @OneToOne(fetch=FetchType.EAGER)
    @JoinColumn(name="profiledUser")
    public ProfiledUser getProfiledUser() {
        return profiledUser;
    }

    public void setProfiledUser(ProfiledUser profiledUser) {
        this.profiledUser = profiledUser;
    }

    @Column(name="pending")
    public boolean isPending() {
        return pending;
    }

    public void setPending(boolean pending) {
        this.pending = pending;
    }
} 
```

最后**是权威**

```
@Embeddable
public class Authority implements GrantedAuthority{

    private static final long serialVersionUID = 1L;
    private String authority;  //Spring Security demands them to start with "ROLE_"

    public Authority() {
        super();
    }

    @Column(name="authority")
    public String getAuthority() {
        return this.authority;
    }

    //the administer is the one allowed to change the users' role
    @RolesAllowed("ROLE_ADMIN")
    public void setAuthority(String authority) {
        if(!authority.startsWith("ROLE_"))
            authority= (new String("ROLE_")).concat(authority.toUpperCase());
        this.authority = authority.toUpperCase();
    }
} 
```

现在的问题。当我尝试检索待处理检查列表（待处理是检查的布尔属性）时，执行以下操作

```
@SuppressWarnings("unchecked")
@Override
public List<Checkup> loadPendingCheckups()
{
    Session session = sessionFactory.getCurrentSession();
    Query query = session.createQuery("from " + objName + " where pending is true");
    List<Checkup> checkupList = query.list();
    if(checkupList.isEmpty())
        return null;
    else
        return checkupList;
} 
```

这个方法是 from `CheckupDaoImpl`which 用 注释的`@Transactional`。

Hibernate 开始从表中删除和添加大量行`Authority`。例如，它删除了`ROLE_USER`用户 2 的角色并添加了两次，因此`ROLE_USER`用户 2 的数量随着时间的推移而翻倍：1、2、4、8、16、32、64……等等。我真的不明白为什么要求一个 SELECT 它以一个 WRITE 操作结束！请帮助我，因为我真的不知道问题出在哪里！

**编辑：**

当我调用 a 时，`loadPendingCheckups()`我可以在控制台中阅读以下内容：

```
Hibernate: select checkup0_.id as id0_, checkup0_.date as date0_, checkup0_.ending_measurement as ending6_0_, checkup0_.mid_measurement as mid7_0_, checkup0_.pending as pending0_, checkup0_.physiology as physiology0_, checkup0_.profiledUser as profiled9_0_, checkup0_.quiet_measurement as quiet10_0_, checkup0_.maxTrainingFrequency as maxTrain4_0_, checkup0_.minTrainingFrequency as minTrain5_0_, checkup0_.scale_outcome as scale11_0_ from CHECKUPS checkup0_ where checkup0_.pending=1
Hibernate: select measuremen0_.id as id1_0_, measuremen0_.average_pressure as average2_1_0_, measuremen0_.diastolic_pressure as diastolic3_1_0_, measuremen0_.heart_rate as heart4_1_0_, measuremen0_.spO2 as spO5_1_0_, measuremen0_.systolic_pressure as systolic6_1_0_ from MEASUREMENTS measuremen0_ where measuremen0_.id=?
Hibernate: select measuremen0_.id as id1_0_, measuremen0_.average_pressure as average2_1_0_, measuremen0_.diastolic_pressure as diastolic3_1_0_, measuremen0_.heart_rate as heart4_1_0_, measuremen0_.spO2 as spO5_1_0_, measuremen0_.systolic_pressure as systolic6_1_0_ from MEASUREMENTS measuremen0_ where measuremen0_.id=?
Hibernate: select physiology0_.id as id2_0_, physiology0_.height as height2_0_, physiology0_.morphism_type as morphism3_2_0_, physiology0_.structure_type as structure4_2_0_, physiology0_.weight as weight2_0_ from PHYSIOLOGIES physiology0_ where physiology0_.id=?
Hibernate: select profiledus0_.id as id7_9_, profiledus0_1_.account_non_expired as account2_7_9_, profiledus0_1_.account_non_locked as account3_7_9_, profiledus0_1_.credentials_non_expired as credenti4_7_9_, profiledus0_1_.enabled as enabled7_9_, profiledus0_1_.password as password7_9_, profiledus0_1_.username as username7_9_, profiledus0_.address_data as address3_8_9_, profiledus0_.contact_data as contact4_8_9_, profiledus0_.personal_data as personal5_8_9_, profiledus0_.subscription_date as subscrip1_8_9_, authoritie1_.user_id as user1_7_11_, authoritie1_.authority as authority11_, addressdat2_.id as id4_0_, addressdat2_.country as country4_0_, addressdat2_.location as location4_0_, addressdat2_.street as street4_0_, addressdat2_.street_number as street5_4_0_, addressdat2_.zip_code as zip6_4_0_, checkupmap3_.profiledUser as profiled9_7_12_, checkupmap3_.id as id12_, checkupmap3_.id as id0_1_, checkupmap3_.date as date0_1_, checkupmap3_.ending_measurement as ending6_0_1_, checkupmap3_.mid_measurement as mid7_0_1_, checkupmap3_.pending as pending0_1_, checkupmap3_.physiology as physiology0_1_, checkupmap3_.profiledUser as profiled9_0_1_, checkupmap3_.quiet_measurement as quiet10_0_1_, checkupmap3_.maxTrainingFrequency as maxTrain4_0_1_, checkupmap3_.minTrainingFrequency as minTrain5_0_1_, checkupmap3_.scale_outcome as scale11_0_1_, measuremen4_.id as id1_2_, measuremen4_.average_pressure as average2_1_2_, measuremen4_.diastolic_pressure as diastolic3_1_2_, measuremen4_.heart_rate as heart4_1_2_, measuremen4_.spO2 as spO5_1_2_, measuremen4_.systolic_pressure as systolic6_1_2_, measuremen5_.id as id1_3_, measuremen5_.average_pressure as average2_1_3_, measuremen5_.diastolic_pressure as diastolic3_1_3_, measuremen5_.heart_rate as heart4_1_3_, measuremen5_.spO2 as spO5_1_3_, measuremen5_.systolic_pressure as systolic6_1_3_, physiology6_.id as id2_4_, physiology6_.height as height2_4_, physiology6_.morphism_type as morphism3_2_4_, physiology6_.structure_type as structure4_2_4_, physiology6_.weight as weight2_4_, measuremen7_.id as id1_5_, measuremen7_.average_pressure as average2_1_5_, measuremen7_.diastolic_pressure as diastolic3_1_5_, measuremen7_.heart_rate as heart4_1_5_, measuremen7_.spO2 as spO5_1_5_, measuremen7_.systolic_pressure as systolic6_1_5_, scaleoutco8_.id as id3_6_, scaleoutco8_.bmr as bmr3_6_, scaleoutco8_.body_fat as body3_3_6_, scaleoutco8_.metabolic_age as metabolic4_3_6_, scaleoutco8_.muscle_mass as muscle5_3_6_, scaleoutco8_.skeletal_mass as skeletal6_3_6_, scaleoutco8_.visceral_fat as visceral7_3_6_, scaleoutco8_.water as water3_6_, scaleoutco8_.weight as weight3_6_, contactdat9_.id as id5_7_, contactdat9_.email as email5_7_, contactdat9_.mobile as mobile5_7_, contactdat9_.phone as phone5_7_, personalda10_.id as id6_8_, personalda10_.birth_date as birth2_6_8_, personalda10_.name as name6_8_, personalda10_.second_name as second4_6_8_ from PROFILED_USERS profiledus0_ inner join USERS profiledus0_1_ on profiledus0_.id=profiledus0_1_.id left outer join AUTHORITIES authoritie1_ on profiledus0_.id=authoritie1_.user_id left outer join ADDRESS_DATA addressdat2_ on profiledus0_.address_data=addressdat2_.id left outer join CHECKUPS checkupmap3_ on profiledus0_.id=checkupmap3_.profiledUser left outer join MEASUREMENTS measuremen4_ on checkupmap3_.ending_measurement=measuremen4_.id left outer join MEASUREMENTS measuremen5_ on checkupmap3_.mid_measurement=measuremen5_.id left outer join PHYSIOLOGIES physiology6_ on checkupmap3_.physiology=physiology6_.id left outer join MEASUREMENTS measuremen7_ on checkupmap3_.quiet_measurement=measuremen7_.id left outer join SCALE_OUTCOMES scaleoutco8_ on checkupmap3_.scale_outcome=scaleoutco8_.id left outer join CONTACT_DATA contactdat9_ on profiledus0_.contact_data=contactdat9_.id left outer join PERSONAL_DATA personalda10_ on profiledus0_.personal_data=personalda10_.id where profiledus0_.id=?
Hibernate: select measuremen0_.id as id1_0_, measuremen0_.average_pressure as average2_1_0_, measuremen0_.diastolic_pressure as diastolic3_1_0_, measuremen0_.heart_rate as heart4_1_0_, measuremen0_.spO2 as spO5_1_0_, measuremen0_.systolic_pressure as systolic6_1_0_ from MEASUREMENTS measuremen0_ where measuremen0_.id=?
Hibernate: select measuremen0_.id as id1_0_, measuremen0_.average_pressure as average2_1_0_, measuremen0_.diastolic_pressure as diastolic3_1_0_, measuremen0_.heart_rate as heart4_1_0_, measuremen0_.spO2 as spO5_1_0_, measuremen0_.systolic_pressure as systolic6_1_0_ from MEASUREMENTS measuremen0_ where measuremen0_.id=?
Hibernate: select physiology0_.id as id2_0_, physiology0_.height as height2_0_, physiology0_.morphism_type as morphism3_2_0_, physiology0_.structure_type as structure4_2_0_, physiology0_.weight as weight2_0_ from PHYSIOLOGIES physiology0_ where physiology0_.id=?
Hibernate: select profiledus0_.id as id7_9_, profiledus0_1_.account_non_expired as account2_7_9_, profiledus0_1_.account_non_locked as account3_7_9_, profiledus0_1_.credentials_non_expired as credenti4_7_9_, profiledus0_1_.enabled as enabled7_9_, profiledus0_1_.password as password7_9_, profiledus0_1_.username as username7_9_, profiledus0_.address_data as address3_8_9_, profiledus0_.contact_data as contact4_8_9_, profiledus0_.personal_data as personal5_8_9_, profiledus0_.subscription_date as subscrip1_8_9_, authoritie1_.user_id as user1_7_11_, authoritie1_.authority as authority11_, addressdat2_.id as id4_0_, addressdat2_.country as country4_0_, addressdat2_.location as location4_0_, addressdat2_.street as street4_0_, addressdat2_.street_number as street5_4_0_, addressdat2_.zip_code as zip6_4_0_, checkupmap3_.profiledUser as profiled9_7_12_, checkupmap3_.id as id12_, checkupmap3_.id as id0_1_, checkupmap3_.date as date0_1_, checkupmap3_.ending_measurement as ending6_0_1_, checkupmap3_.mid_measurement as mid7_0_1_, checkupmap3_.pending as pending0_1_, checkupmap3_.physiology as physiology0_1_, checkupmap3_.profiledUser as profiled9_0_1_, checkupmap3_.quiet_measurement as quiet10_0_1_, checkupmap3_.maxTrainingFrequency as maxTrain4_0_1_, checkupmap3_.minTrainingFrequency as minTrain5_0_1_, checkupmap3_.scale_outcome as scale11_0_1_, measuremen4_.id as id1_2_, measuremen4_.average_pressure as average2_1_2_, measuremen4_.diastolic_pressure as diastolic3_1_2_, measuremen4_.heart_rate as heart4_1_2_, measuremen4_.spO2 as spO5_1_2_, measuremen4_.systolic_pressure as systolic6_1_2_, measuremen5_.id as id1_3_, measuremen5_.average_pressure as average2_1_3_, measuremen5_.diastolic_pressure as diastolic3_1_3_, measuremen5_.heart_rate as heart4_1_3_, measuremen5_.spO2 as spO5_1_3_, measuremen5_.systolic_pressure as systolic6_1_3_, physiology6_.id as id2_4_, physiology6_.height as height2_4_, physiology6_.morphism_type as morphism3_2_4_, physiology6_.structure_type as structure4_2_4_, physiology6_.weight as weight2_4_, measuremen7_.id as id1_5_, measuremen7_.average_pressure as average2_1_5_, measuremen7_.diastolic_pressure as diastolic3_1_5_, measuremen7_.heart_rate as heart4_1_5_, measuremen7_.spO2 as spO5_1_5_, measuremen7_.systolic_pressure as systolic6_1_5_, scaleoutco8_.id as id3_6_, scaleoutco8_.bmr as bmr3_6_, scaleoutco8_.body_fat as body3_3_6_, scaleoutco8_.metabolic_age as metabolic4_3_6_, scaleoutco8_.muscle_mass as muscle5_3_6_, scaleoutco8_.skeletal_mass as skeletal6_3_6_, scaleoutco8_.visceral_fat as visceral7_3_6_, scaleoutco8_.water as water3_6_, scaleoutco8_.weight as weight3_6_, contactdat9_.id as id5_7_, contactdat9_.email as email5_7_, contactdat9_.mobile as mobile5_7_, contactdat9_.phone as phone5_7_, personalda10_.id as id6_8_, personalda10_.birth_date as birth2_6_8_, personalda10_.name as name6_8_, personalda10_.second_name as second4_6_8_ from PROFILED_USERS profiledus0_ inner join USERS profiledus0_1_ on profiledus0_.id=profiledus0_1_.id left outer join AUTHORITIES authoritie1_ on profiledus0_.id=authoritie1_.user_id left outer join ADDRESS_DATA addressdat2_ on profiledus0_.address_data=addressdat2_.id left outer join CHECKUPS checkupmap3_ on profiledus0_.id=checkupmap3_.profiledUser left outer join MEASUREMENTS measuremen4_ on checkupmap3_.ending_measurement=measuremen4_.id left outer join MEASUREMENTS measuremen5_ on checkupmap3_.mid_measurement=measuremen5_.id left outer join PHYSIOLOGIES physiology6_ on checkupmap3_.physiology=physiology6_.id left outer join MEASUREMENTS measuremen7_ on checkupmap3_.quiet_measurement=measuremen7_.id left outer join SCALE_OUTCOMES scaleoutco8_ on checkupmap3_.scale_outcome=scaleoutco8_.id left outer join CONTACT_DATA contactdat9_ on profiledus0_.contact_data=contactdat9_.id left outer join PERSONAL_DATA personalda10_ on profiledus0_.personal_data=personalda10_.id where profiledus0_.id=?
Hibernate: select measuremen0_.id as id1_0_, measuremen0_.average_pressure as average2_1_0_, measuremen0_.diastolic_pressure as diastolic3_1_0_, measuremen0_.heart_rate as heart4_1_0_, measuremen0_.spO2 as spO5_1_0_, measuremen0_.systolic_pressure as systolic6_1_0_ from MEASUREMENTS measuremen0_ where measuremen0_.id=?
Hibernate: select measuremen0_.id as id1_0_, measuremen0_.average_pressure as average2_1_0_, measuremen0_.diastolic_pressure as diastolic3_1_0_, measuremen0_.heart_rate as heart4_1_0_, measuremen0_.spO2 as spO5_1_0_, measuremen0_.systolic_pressure as systolic6_1_0_ from MEASUREMENTS measuremen0_ where measuremen0_.id=?
Hibernate: select physiology0_.id as id2_0_, physiology0_.height as height2_0_, physiology0_.morphism_type as morphism3_2_0_, physiology0_.structure_type as structure4_2_0_, physiology0_.weight as weight2_0_ from PHYSIOLOGIES physiology0_ where physiology0_.id=?
Hibernate: select profiledus0_.id as id7_9_, profiledus0_1_.account_non_expired as account2_7_9_, profiledus0_1_.account_non_locked as account3_7_9_, profiledus0_1_.credentials_non_expired as credenti4_7_9_, profiledus0_1_.enabled as enabled7_9_, profiledus0_1_.password as password7_9_, profiledus0_1_.username as username7_9_, profiledus0_.address_data as address3_8_9_, profiledus0_.contact_data as contact4_8_9_, profiledus0_.personal_data as personal5_8_9_, profiledus0_.subscription_date as subscrip1_8_9_, authoritie1_.user_id as user1_7_11_, authoritie1_.authority as authority11_, addressdat2_.id as id4_0_, addressdat2_.country as country4_0_, addressdat2_.location as location4_0_, addressdat2_.street as street4_0_, addressdat2_.street_number as street5_4_0_, addressdat2_.zip_code as zip6_4_0_, checkupmap3_.profiledUser as profiled9_7_12_, checkupmap3_.id as id12_, checkupmap3_.id as id0_1_, checkupmap3_.date as date0_1_, checkupmap3_.ending_measurement as ending6_0_1_, checkupmap3_.mid_measurement as mid7_0_1_, checkupmap3_.pending as pending0_1_, checkupmap3_.physiology as physiology0_1_, checkupmap3_.profiledUser as profiled9_0_1_, checkupmap3_.quiet_measurement as quiet10_0_1_, checkupmap3_.maxTrainingFrequency as maxTrain4_0_1_, checkupmap3_.minTrainingFrequency as minTrain5_0_1_, checkupmap3_.scale_outcome as scale11_0_1_, measuremen4_.id as id1_2_, measuremen4_.average_pressure as average2_1_2_, measuremen4_.diastolic_pressure as diastolic3_1_2_, measuremen4_.heart_rate as heart4_1_2_, measuremen4_.spO2 as spO5_1_2_, measuremen4_.systolic_pressure as systolic6_1_2_, measuremen5_.id as id1_3_, measuremen5_.average_pressure as average2_1_3_, measuremen5_.diastolic_pressure as diastolic3_1_3_, measuremen5_.heart_rate as heart4_1_3_, measuremen5_.spO2 as spO5_1_3_, measuremen5_.systolic_pressure as systolic6_1_3_, physiology6_.id as id2_4_, physiology6_.height as height2_4_, physiology6_.morphism_type as morphism3_2_4_, physiology6_.structure_type as structure4_2_4_, physiology6_.weight as weight2_4_, measuremen7_.id as id1_5_, measuremen7_.average_pressure as average2_1_5_, measuremen7_.diastolic_pressure as diastolic3_1_5_, measuremen7_.heart_rate as heart4_1_5_, measuremen7_.spO2 as spO5_1_5_, measuremen7_.systolic_pressure as systolic6_1_5_, scaleoutco8_.id as id3_6_, scaleoutco8_.bmr as bmr3_6_, scaleoutco8_.body_fat as body3_3_6_, scaleoutco8_.metabolic_age as metabolic4_3_6_, scaleoutco8_.muscle_mass as muscle5_3_6_, scaleoutco8_.skeletal_mass as skeletal6_3_6_, scaleoutco8_.visceral_fat as visceral7_3_6_, scaleoutco8_.water as water3_6_, scaleoutco8_.weight as weight3_6_, contactdat9_.id as id5_7_, contactdat9_.email as email5_7_, contactdat9_.mobile as mobile5_7_, contactdat9_.phone as phone5_7_, personalda10_.id as id6_8_, personalda10_.birth_date as birth2_6_8_, personalda10_.name as name6_8_, personalda10_.second_name as second4_6_8_ from PROFILED_USERS profiledus0_ inner join USERS profiledus0_1_ on profiledus0_.id=profiledus0_1_.id left outer join AUTHORITIES authoritie1_ on profiledus0_.id=authoritie1_.user_id left outer join ADDRESS_DATA addressdat2_ on profiledus0_.address_data=addressdat2_.id left outer join CHECKUPS checkupmap3_ on profiledus0_.id=checkupmap3_.profiledUser left outer join MEASUREMENTS measuremen4_ on checkupmap3_.ending_measurement=measuremen4_.id left outer join MEASUREMENTS measuremen5_ on checkupmap3_.mid_measurement=measuremen5_.id left outer join PHYSIOLOGIES physiology6_ on checkupmap3_.physiology=physiology6_.id left outer join MEASUREMENTS measuremen7_ on checkupmap3_.quiet_measurement=measuremen7_.id left outer join SCALE_OUTCOMES scaleoutco8_ on checkupmap3_.scale_outcome=scaleoutco8_.id left outer join CONTACT_DATA contactdat9_ on profiledus0_.contact_data=contactdat9_.id left outer join PERSONAL_DATA personalda10_ on profiledus0_.personal_data=personalda10_.id where profiledus0_.id=?
Hibernate: delete from AUTHORITIES where user_id=? and authority=?
Hibernate: insert into AUTHORITIES (user_id, authority) values (?, ?)
Hibernate: delete from AUTHORITIES where user_id=? and authority=?
...// a very lot of these
Hibernate: insert into AUTHORITIES (user_id, authority) values (?, ?)
Hibernate: insert into AUTHORITIES (user_id, authority) values (?, ?)
Hibernate: insert into AUTHORITIES (user_id, authority) values (?, ?)
//a very lot of these 
```

生理，测量等，是检查里面的东西。我认为没关系，它被检索了。但在那之后，它会触发 AUTHORITY 表内的大量删除和插入。

**编辑2：** 似乎问题已解决，将形式转换`@ElementCollection`为`@OneToMany`用户和权限之间的关系。幸运的是，我正在设计数据库，并且允许我进行此修改。问题似乎消失了，但我仍然没有弄清楚 ORM 奇怪行为背后的原因。更准确地说，最奇怪的是，当我要求从 db Hibernate 中检索 Checkups 时，触发了数量惊人的

1.  删除权限项目
2.  插入权威项目

如果有人能指出这件事，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T10:19:13.360

我不确定这是您问题的原因，但是您之间的双向关系`ProfiledUser`配置`Checkup`不正确。

双向一对多关系配置如下：

*   一侧带有注释`@ManyToOne`，另一侧带有注释`@OneToMany`
*   `@OneToMany`必须有一个`mappedBy`指向相应属性的`@ManyToOne`属性
*   物理映射注释 ( `@JoinColumn`) 应该在`@ManyToOne`旁边

像这样的东西：

```
public class ProfiledUser extends User{
    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER, mappedBy = "profiledUser")
    public Collection<Checkup> getCheckupMap() {
        return checkupMap;
    }
    ...
}

public class Checkup implements DomainObject {
    @ManyToOne(fetch=FetchType.EAGER)
    @JoinColumn(name="profiledUser")
    public ProfiledUser getProfiledUser() {
        return profiledUser;
    }
    ...
} 
```

# java - 在 Java 库项目中使用 Clojure 接口

> ID：13320703
> 
> 赞同：5
> 
> 时间：2012-11-10T09:05:51.657
> 
> 标签：java, interface, clojure, dependencies

我想在 Java 库项目中使用一些 Clojure 接口，以便在我的 Java 类实现这些接口的几种情况下使用它们。尤其：

*   [clojure.lang.ISeq](https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/ISeq.java)
*   [clojure.lang.IFn](https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/IFn.java)

这样做会使我的 Java 库对基于 Clojure 的用户更加友好。

但是我不想将整个`clojure.jar`作为依赖项导入——因为它比较大，而且我的库主要针对 Java 用户。

有没有办法在不引入 Clojure 其余部分的情况下针对 Clojure 接口进行导入和开发？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T09:11:05.707

尝试一下：

1.  解压clojure jar
2.  仅将您需要的 .class 放入名为 LightweightClojure 的目录中
3.  运行你测试 appli (test + lib + LightweightClojure)
4.  转到 2 直到它起作用
5.  将 LightweightClojure 目录压缩到 LightweightClojure.jar

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T17:17:46.287

如果你使用 Maven，你可以使用[Maven Shade Plugin 的 minimize-jar](http://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html)配置。

# objective-c - 应用内购买：“这不是测试用户帐户”

> ID：13320710
> 
> 赞同：1
> 
> 时间：2012-11-10T09:06:55.020
> 
> 标签：objective-c, ios, in-app-purchase

我正在开发一个使用应用内购买的应用，但是当我点击购买并输入我的 Apple ID 和密码时，我收到此错误：

> 这不是测试用户帐户。请在沙盒环境中创建一个新帐户。[环境：沙盒]

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-10T09:10:39.987

您不能使用您的 Apple ID 来测试应用内购买。您需要在[iTunes Connect](https://itunesconnect.apple.com/WebObjects/iTunesConnect.woa)中创建一个测试用户（具有不同的电子邮件 ID）来测试应用内购买。

1.  前往[iTunes 连接](https://itunesconnect.apple.com/WebObjects/iTunesConnect.woa)
2.  使用您的凭据登录
3.  选择管理用户 ![选择管理](../Images/03401dfd3e531c9659f8c06fccb71968.png) 4> 选择测试用户 ![在此处输入图像描述](../Images/a30cdb9b02a9535e1679b47ac54f1aff.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:21:55.170

1.  要在开发阶段测试应用内购买，您需要在沙盒环境中创建测试用户，使用此链接进行演练

    [1]：[http ://www.raywenderlich.com/2797/introduction-to-in-app-purchases](http://www.raywenderlich.com/2797/introduction-to-in-app-purchases)

# java - Java中的互斥方法执行

> ID：13320713
> 
> 赞同：5
> 
> 时间：2012-11-10T09:07:31.480
> 
> 标签：java, multithreading, synchronized

我有两种方法：`a()`和`b()`. 虽然我对多个线程同时访问任何方法感到满意（这是可取的），但我不希望任何线程在执行时`a()`进入`b()`。我怎么做？

## 编辑 1

假设有 4 个线程并且`Thread 1`正在访问`A()`. 我想要的是所有 4 个线程都不应该使用`B()`.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T09:14:50.433

**检查底部的更新**- 我认为这种方法行不通。留下它以供参考。

* * *

您可以使用[信号量](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html)：

*   如果一个线程在 中`b()`，则试图执行的线程`a()`将阻塞，直到 的执行`b()`结束。
*   如果一个线程在`b()`并且第二个线程尝试运行`b()`，它将能够
*   如果 2 个线程`a()`在`b()`未执行的情况下执行，则两者都将运行

注意：一旦一个线程进入`a()`并通过了“信号量测试”，另一个线程可以`b()`在结束前开始运行`a()`

该原理应该有效，但我尚未对其进行测试。

```
private final Semaphore inB = new Semaphore(1);

public void a() throws InterruptedException {
    inB.acquire(); //blocks until no thread is in b any longer
    //now we are good to go and execute a()
    //release the semaphore immediately for other threads who want to run a()
    inB.release(); 
    //rest of your code here
}
public void b() {
    //does not block to allow 2 thread running b() simultaneously
    boolean needToRelease = inB.tryAcquire(); 
    //rest of your code
    //if the permit was acquired, release it to allow threads to run a()
    if (needToRelease) {
        inB.release();
    }
} 
```

**编辑**

您的意图尚不清楚，并且您的问题已被编辑，因为您的评论之一说您希望`a()`并且`b()`相互排斥（许多线程可以并行运行`a()`或并行运行，`b()`但绝不应该并行运行）。在这种情况下，您可以对 2 个信号量和.`a()``b()``inA``inB`

* * *

**更新 => 错误**

[正如@yshavit 在对另一个答案](https://stackoverflow.com/a/14133694/829571)的评论中指出的那样，在以下情况下，代码中存在竞争条件：

*   T1运行`a()`并获取`inB`
*   T2 运行`b()`但获取失败`inB`
*   T1 版本`inB`
*   尽管 T2 正在运行，但T3 运行`a()`并设法获取`inB``b()`

似乎仅使用 Sempahores 无法实现这一点。[这个答案提供](https://stackoverflow.com/a/14134638/829571)了一个更好的解决方案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-10T09:37:56.660

为简单起见省略了异常处理：

```
public class Test {
  private final Object lock = new Object();
  private int counterA;
  private int counterB;

  public void a() {
    synchronized(lock) {
      while(counterB > 0) {
        lock.wait();
      }
      ++counterA;
    }

    // do work

    synchronized(lock) {
      --counterA;
      lock.notifyAll();
    }
  }

  public void b() {
    synchronized(lock) {
      while(counterA > 0) {
        lock.wait();
      }
      ++counterB;
    }

    // do work

    synchronized(lock) {
      --counterB;
      lock.notifyAll();
    }
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-10T09:22:40.093

[java.util.concurrent.locks](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/package-summary.html)是一个包含多个锁的 Java 包

in `a()`,[取一个锁](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html#lock%28%29)并在结束时[释放它](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html#unlock%28%29)`a()`

in `b()`, 对同一个锁做同样的事情

如果您想处理不对称行为，您可以使用[ReadWriteLock](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html)， a() 是读取器， b() 是写入器：几个 b() 锁，但几个 a() 没有。

# html - 如何在html中的标题框架上设置搜索输入框

> ID：13320718
> 
> 赞同：0
> 
> 时间：2012-11-10T09:08:20.423
> 
> 标签：html, css, frame, html-frames

我有 03 帧（标题、Left_Menu 和内容）。在标题框中，我设置了一个搜索输入框。如果有人单击搜索输入框，则搜索输入框下方但内容框架上方会显示一个蓝色 div。但是当我单击搜索输入框时，蓝色 div 框不会显示在内容框架上方。

我想创建搜索输入框，如下例： ![在此处输入图像描述](../Images/b3178de0dd0ba53a721ce4914f7d8878.png)

但我的搜索输入框结果显示如下：

![在此处输入图像描述](../Images/aad6b448b1e9dbc68515dd96a30c2a66.png)

拜托，任何人都可以帮助解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T10:11:39.880

现在`<frame>`不推荐。您想将标题溢出到内容上。

这只有在您不使用框架的情况下才可行。例如，您应该使用简单的`<div>`HTML 标记而不是框架。

之后，您应该添加一些 CSS 属性，这会产生所需的效果。例如：

```
#header{
    position: relative;
    z-index: 2;
    heigth: 100px;
} 
```

您应该添加 z-index 属性。您可以在此处阅读有关 z-index 的更多信息：[Z-index - CSS](http://coding.smashingmagazine.com/2009/09/15/the-z-index-css-property-a-comprehensive-look/)

# emacs - Cy 不会在 tmux 下的 emacs 中猛拉

> ID：13320719
> 
> 赞同：5
> 
> 时间：2012-11-10T09:08:25.860
> 
> 标签：emacs, tmux

## **更新**

发生的事情是，每当我删除一些文本时，它都会被添加到`kill-ring`后面加上一个额外的`""`. 然后`C-y`只需插入`""`. 所以问题是额外`""`的来自哪里？

## **原始问题**

我正在运行`emacs`，`tmux`我无法`C-y`（甚至`M-x yank`）从`kill-ring`. 我确实`Mark set`在 minibuffer 中看到，这是 ; 的正常行为`yank`。我只是没有看到任何东西被猛拉。我还看到每次点击`""`都会添加到.`kill-ring``C-y`

我知道这是通过查看 的输出来`C-y`接收的，并且我知道通过查看与. 此外，直接运行会给出完全相同的结果。`emacs``M-x view-lossage``C-y``yank``C-h b``M-x yank`

当我在 之外重复实验时`tmux`，它按预期工作。对于它的价值，如果我用`screen`而不是重复实验`tmux`，`C-y`按预期工作。

更多细节是，在 内`tmux`，我尝试`emacs`使用`TERM=xterm-256color`和运行`TERM=screen-256color`相同的结果。设置`xterm-keys on`或`xterm-keys off`输入`tmux`似乎也无关紧要。我一直在关闭`tmux`我尝试的每个排列之间的每个会话，以确保我`.tmux.conf`得到重新处理（我知道这是因为我的其他更改`.tmux.conf`确实有影响。）事实上，我什至可以注释掉我的整个`.tmux.conf`，结果相同。

此外，我在`iTerm2`和`Terminal.app`（我在 Mac 上）都尝试过，结果相同。

所以，我觉得我在这里陷入了死胡同。关于如何更好地调试此问题的任何想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T11:19:56.620

我终于找到了一些我复制到我的代码`emacs` `init.el`以允许从我的 OSX 剪贴板复制和粘贴的代码。如果我从我的 中删除该代码`init.el`，则`C-y`在`tmux`. （代码在[这里](https://gist.github.com/267162)——在我决定尝试之前它工作得很好`tmux`！）我仍然不确定问题到底是什么，但很容易相信它会影响`C-y`.

# php - 在所有浏览器（移动和 PC）中显示 .PDf 文件

> ID：13320722
> 
> 赞同：1
> 
> 时间：2012-11-10T09:09:09.580
> 
> 标签：php, android, html, ios

我的 Ftp 中有一个网站和 .pdf 文件。我想在 Android、IOS 和 Windows 所有浏览器中显示这个 pdf 文件。我的页面是用 .php 代码编写的

```
<?php
header('Content-type:application/pdf');
readfile("pf location");
?> 
```

Android 设备是下载 pdf 文件。Iso 设备仅显示帧而不显示信息 我必须做什么才能在所有浏览器中显示 .pdf 文件？非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:45:44.960

我会尝试 PDF.JS 库。

**示例： http:** [//mozilla.github.com/pdf.js/web/viewer.html](http://mozilla.github.com/pdf.js/web/viewer.html)

**网址： http:** [//mozilla.github.com/pdf.js/](http://mozilla.github.com/pdf.js/)

尝试嵌入 pdf 将导致 pdf 在不同的浏览器中呈现不同。

# java - 正则表达式从字符串中提取引号中的单词？

> ID：13320726
> 
> 赞同：2
> 
> 时间：2012-11-10T09:09:48.720
> 
> 标签：java, regex

因此，我希望从字符串中提取引号 (") 内的单词（或短语）。
例如，假设主字符串是：
`The quick brown fox "jumped over" the "lazy" dog`
我希望能够提取单词/短语并将其存储在变量中在引号中，即
`jumped over`
`lazy`
应该存储在变量中。引用时输入字符串只会双引号（没有单引号）。
我为此尝试了以下（粗略）代码：

```
Pattern p = Pattern.compile("\\s\"(.*?)\"\\s");
Matcher m = p.matcher(<String>);
Variable.add(m.group(1)); 
```

无论我输入什么，它都会抛出 IllegalStateException。我感觉我的正则表达式无法正常工作。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T09:14:10.947

您的代码缺少一些`if( m.matches())`或`m.find()`哪些可以完成工作......

这段代码：

```
String in = "The quick brown fox \"jumped over\" the \"lazy\" dog";
Pattern p = Pattern.compile( "\"([^\"]*)\"" );
Matcher m = p.matcher( in );
while( m.find()) {
   System.err.println( m.group( 1 ));
} 
```

输出：

```
jumped over
lazy 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:03:58.527

```
String s = "The quick brown fox \"jumped over\" the \"lazy\" dog";
String lastStr = new String();

Pattern pat = Pattern.compile("\".*\"");
Matcher mat = pat.matcher(s);

while (mat.find()) {

 lastStr = mat.group();

}

System.out.println(lastStr.replace("\"", "")); 
```

# javascript - jquery在a内设置鼠标位置 图形区域

> ID：13320727
> 
> 赞同：1
> 
> 时间：2012-11-10T09:09:51.573
> 
> 标签：javascript, jquery, mouse, mouse-coordinates

使用[http://www.flotcharts.org/](http://www.flotcharts.org/)实现具有缩放/平移功能的复杂散点图图形，我想在特定坐标处设置鼠标位置（例如：放大时，我希望光标定位在画布的中心）。

它ssem这个功能不起作用：

```
 function setMousePosition(pos) {

  var x = pos.x;
  var y = pos.y;

  var pointX = ( Math.floor(plot.offset().left + plot.p2c(pos).left) );
  var pointY = ( Math.floor(plot.offset().top + plot.p2c(pos).top) );

 $("#placeholder").mouseXPos( pointX ).`mouseYPos`( pointY ); 
```

关于`mouseXPos`and `mouseYPos`，萤火虫说： TypeError: placeholder.mouseXPos is not a function

所以我的问题是：在 javascript 或 jquery 中有一种方法可以在图形区域内设置鼠标坐标吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T09:15:08.310

***无法***通过 JavaScript 设置/更改鼠标位置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T09:17:15.123

没有任何机制可以以**编程**方式将光标放置到特定位置`Javascript`

# web-services - vba 中的 Protobuf Web 服务反序列化

> ID：13320728
> 
> 赞同：3
> 
> 时间：2012-11-10T09:09:55.370
> 
> 标签：web-services, rest, vba, interop, protocol-buffers

在我的组织中，由于性能限制，我想实现一个带有 protobuf 序列化的 rest web 服务，这在我看来是最好的。它是托管在 Web 服务器中的 Java 实现。
在客户端（我不管理也不会开发），我们也有限制：带有 VBA 的 XLS，而不是 VB.Net（不能改变它）

所以我的问题是：

*   这种架构适合吗？特别是如何在 vb for xls 中管理互操作性和串行/解串？如何管理.proto，你有样品吗？看起来可能吗？
*   如果它不起作用，（或太难或太耗时）有什么想法吗？（JSON，SOAP）考虑到这个客户端技术约束和我想要一些非常高性能/快速的事实？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T10:41:09.640

我不知道非 .NET VB/VBA 实现。您要么必须编写一个，要么从[现有实现](http://code.google.com/p/protobuf/wiki/ThirdPartyAddOns)列表中进行选择。或者选择不同的序列化技术，但坦率地说，VBA 并没有完全充斥这些技术。

客户端上有 .NET 吗？如果您可以使用 COM 互操作调用 .NET 代码，那么您将拥有更大的灵活性，包括可供选择的多个 protobuf 实现。

# perl - 术语::ReadKey、“Strg+D”和标准输入

> ID：13320730
> 
> 赞同：1
> 
> 时间：2012-11-10T09:10:19.490
> 
> 标签：perl, stdin, eof, readkey

`Enter a string:`例如`a`，当我键入, `b`，`c`然后两次`Ctrl`+`D`我得到一个无限循环，它不会停止`ReadKey`并且我不能用`Q`键停止？

```
#!/usr/bin/env perl
use warnings;
use 5.10.1;
use Term::ReadKey;

while( 1 ) {
    my $c;
    say "Press the \"q\" key to quit.";
    print "Press the \"e\" key to enter a string: ";
    {
        $|++;
        Term::ReadKey::ReadMode 'ultra-raw';
        $c = ReadKey 0;
        Term::ReadKey::ReadMode 'restore';        
    }
    exit if ord( $c ) == 3; # Control C
    last if $c eq 'q'; 
    if ( $c eq 'e' ) {
        print "\nEnter a string: ";
        my $string = <>;
        if ( not defined $string ) {
            say "Undefined";
        }
        else {
            chomp $string;
            say "You entered |$string|";
        }
    }
    say "Still running";
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T11:32:17.507

键入两个`Ctrl`- `D`(EOT) 后，您的程序将只接收 NUL 字节。还有无数个。不幸的是，您在无限循环中进行了无条件读取。要么你改变它（例如，如果他输入了其他内容，给用户一个教训，`q`或者`e`如果他在第三次尝试后没有得到它，则退出），或者你正确地实现控制字符。您的模块甚至在您获得输入*之前就*从输入中删除了所有控制字符，但它提供了必要的钩子。我敦促您添加`Ctrl`-`C`以及（它仅在需要一行时才有效，而不是在读取 char 时）。

另外，为什么不将输入字符与字符串相等性进行比较？`$c eq "q"`读起来更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T11:29:24.763

将终止循环的唯一行是这一行：

```
last if ord( $c ) == 113; 
```

因此，退出循环的唯一方法是在提示要求您输入“e”时输入“q”。

`last`大概您希望在语句中适当放置一个`if`，以便 ctrl-d 和/或任何文本将终止。

# sqlite - 不能在sqlite中将两个语句合并为一个？

> ID：13320731
> 
> 赞同：0
> 
> 时间：2012-11-10T09:10:19.733
> 
> 标签：sqlite

声明1：

```
create table tmp as  select code  , round((max(close)-min(close))/min(close),2) as volatility,
    case  when  (max(close)-min(close))/min(close) <0.1  then  "grade1" 
    when  (max(close)-min(close))/min(close)       <0.2  then  "grade2"
    when  (max(close)-min(close))/min(close)       <0.3  then  "grade3"
    else "grade4"  end  as  type
    from  quote  where date between '20120801' and '20121101' and code<'07000'  
    group by code order by volatility ; 
```

声明2：

```
select  tmp.code,profile.name, tmp.volatility from tmp,profile where tmp.code=profile.code; 
```

语句1和语句2可以运行，当我将两者合二为一时-语句3无法运行，这是怎么回事？

声明 3：

```
 select quote.code ,profile.name, round((max(quote.close)-min(quote.close))/min(quote.close),2) as quote.volatility,
    case  when  (max(quote.close)-min(quote.close))/min(quote.close) <0.1  then  "grade1" 
    when  (max(quote.close)-min(quote.close))/min(quote.close)       <0.2  then  "grade2"
    when  (max(quote.close)-min(quote.close))/min(quote.close)       <0.3  then  "grade3"
    else "grade4"  end  as  quote.type
    from  quote，profile where quote.date between '20120801' and '20121101' and quote.code<'07000' and quote.code=profile.code
    group by quote.code order by quote.volatility ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T12:09:39.880

只需将您的第一条语句设为子查询：

```
select tmp.code, profile.name, tmp.volatility
from (select code,
             round(...) as volatility,
             case ... end as type
      from quote
      where date between '20120801' and '20121101'
        and code<'07000'
      group by code
      order by volatility) as tmp,
     profile
where tmp.code = profile.code; 
```

# struts2 - Sitemesh3 + Freemarker，只有主体不渲染

> ID：13320732
> 
> 赞同：1
> 
> 时间：2012-11-10T09:10:30.217
> 
> 标签：struts2, freemarker, sitemesh

我已经尝试了很多但没有成功。**只有 body 没有渲染**。所有包含在装饰器中正确合并。请参阅结果页面。

**眼镜**

```
jdk = 1.7
struts2 = 2.3.4.1
sitemesh = 3.0-alpha-2 
```

**结果页面**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" href="/css/bootstrap.min.css" />
    </head>
    <body id="public">
        <div class="container">
            No Body
        </div>
    </body>
</html> 
```

**sitemesh3.xml**

```
<sitemesh>
    <mapping decorator="/WEB-INF/decorators/main.ftl"/>
</sitemesh> 
```

**Web.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">

    <display-name>Struts2 SiteMesh Freemarker Web Application</display-name>

    <listener>
        <listener-class>org.apache.struts2.dispatcher.ng.listener.StrutsListener</listener-class>
    </listener>

    <filter>
        <filter-name>sitemesh</filter-name>
        <filter-class>org.sitemesh.config.ConfigurableSiteMeshFilter</filter-class>
    </filter>

    <filter>
        <filter-name>struts-prepare</filter-name>
        <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareFilter</filter-class>
    </filter>
    <filter>
        <filter-name>struts-execute</filter-name>
        <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsExecuteFilter</filter-class>
    </filter>

    <filter-mapping>
        <filter-name>struts-prepare</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>sitemesh</filter-name>
        <url-pattern>/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
        <dispatcher>INCLUDE</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>struts-execute</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <servlet>
        <servlet-name>sitemesh-freemarker</servlet-name>
        <servlet-class>com.opensymphony.module.sitemesh.freemarker.FreemarkerDecoratorServlet</servlet-class>
        <init-param>
            <param-name>TemplatePath</param-name>
            <param-value>/</param-value>
        </init-param>
        <init-param>
            <param-name>default_encoding</param-name>
            <param-value>ISO-8859-1</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>sitemesh-freemarker</servlet-name>
        <url-pattern>*.ftl</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>index.ftl</welcome-file>
    </welcome-file-list>

</web-app> 
```

**POM.xml**

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.myapp</groupId>
    <artifactId>Struts2_SiteMesh3_FreeMarker</artifactId>
    <packaging>war</packaging>
    <version>1.0</version>
    <name>Struts2_SiteMesh3_FreeMarker WebApp</name>
    <url>http://maven.apache.org</url>

    <properties>
        <java.version>1.7</java.version>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <struts2.version>2.3.4.1</struts2.version>
        <slf4j.version>1.6.6</slf4j.version>
        <sitemesh.version>3.0-alpha-2</sitemesh.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>javax</groupId>
            <artifactId>javaee-web-api</artifactId>
            <version>6.0</version>
            <scope>provided</scope>
        </dependency>

        <!--Start Slf4j-->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>${slf4j.version}</version>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
            <version>${slf4j.version}</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.17</version>
        </dependency>
        <!--End Slf4j-->

        <!-- Start struts2 dependencies -->
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-core</artifactId>
            <version>${struts2.version}</version>
        </dependency>
        <!-- End struts2 dependencies -->

        <!-- Start SiteMesh dependencies -->
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-sitemesh-plugin</artifactId>
            <version>${struts2.version}</version>
        </dependency>
        <dependency>
            <groupId>org.sitemesh</groupId>
            <artifactId>sitemesh</artifactId>
            <version>${sitemesh.version}</version>
        </dependency>
        <!-- End SiteMesh dependencies -->

    </dependencies>

    <build>
        <finalName>Struts2_SiteMesh3_FreeMarker</finalName>
    </build>

</project> 
```

**装饰师**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <#include "../include/meta.ftl">
    </head>
    <body id="public">
        <#include "../include/navigation.ftl">
        <div class="container">
            <#include "../include/search.ftl">
            ${body}
        </div>
    </body>
</html> 
```

**索引文件**

```
<html>
<head>
    <title>Hello World</title>
    <meta name='description' content='A simple page'>
</head>
<body>
<p>Hello <strong>world</strong>!</p>
</body>
</html> 
```

**项目结构**

![项目](../Images/0c9cc74f743e32e20ec2deae01788dc9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-24T15:14:14.853

将 servlet freemarker.ext.servlet.FreemarkerServlet 添加到 web xml并在您的 decorator.ftl 中`<url-pattern>*.ftl</url-pattern>`使用`<sitemesh:write property='body'/>`而不是使用`${body}`

# algorithm - 数字列表中的算术序列

> ID：13320734
> 
> 赞同：4
> 
> 时间：2012-11-10T09:10:40.647
> 
> 标签：algorithm, math, sequence

对于给定的一组数字

```
3 5 3 6 3 4 10 4 5 2 
```

我希望找到所有`**triplets**`形成算术级数的元素。

```
like (3,3,3) (3,4,5) (6,4,2) (3,4,5) 
```

我有一个简单的 O(n^3) 解决方案。我想知道是否可以在 O(n^2) 或更短的时间内完成。

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-10T09:14:12.807

`O(n^2 * logn)`可以通过以下方式实现：

1.  对数组进行排序 - O(nlogn)
2.  迭代所有对（其中的O（n ^ 2）） - 并对每对（x，y）进行二进制搜索，看看你是否有：`max{x,y} + abs(x-y)`或`min{x,y} - abs(x-y)`作为一个元素。
    应特别注意对`x==y`- 但它可以在相同的时间复杂度内轻松解决。

请注意，此解决方案将为您提供每个三元组出现 1 次（无重复）。

（**编辑：**通过使用哈希表（如果您关心三元组的数量，则使用[直方图](http://en.wikipedia.org/wiki/Histogram)）并查看它而不是对数组进行排序并使用二进制搜索 - 您可以`O(n^2)`平均减少时间，但会`O(n)`增加额外空间的成本）。

* * *

如果没有 1 次出现的缺点 - 它不能做得更好`O(n^3)`，因为可能有`O(n^3)`这样的三元组，例如在数组中`[1,1,1,...,1]`- 你有`chose(3,n)`这样的三元组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-16T14:31:23.393

可以使用散列来解决它，方法`O(n^2)`是选择一个中间元素，然后选择 中的第一个和最后一个元素`O(n)`。

这是一个简单的问题，即在一个总和固定的数组中找到两个数字。在这里，`a+c`应该是`2b`。

因此，我所寻找的都是`a`&`c`这样的`a+c=2i`。

# php - DOMDocument、getNamedItem 和 nodeValue

> ID：13320737
> 
> 赞同：0
> 
> 时间：2012-11-10T09:11:20.050
> 
> 标签：php, xml, domdocument

我明白 `Fatal error: Call to undefined method DOMElement::getNamedItem()`了，我不确定为什么。这个 DOMdocument 肯定有一些我不明白的地方。这是我的代码：

```
// load content of db
$dom = new DOMDocument('1.0');
$dom->load($file);

// make domnodelist with girls
$girls = $dom->getElementsByTagName('girl');

foreach($girls as $girl)
{
    $username = $girl->getNamedItem('username');
    echo $username->nodeValue;
} 
```

这是我的xml：

```
<root>
  <girl username="xxxx" id="2012111003051009">
    <url>xxxx</url>
    <replied>false</replied>
    <thumbnail>dbs/db-thumbnails/xxxx.jpeg</thumbnail>
    <blacklisted>false</blacklisted>
    </girl>
</root> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:59:03.807

`username`是`DOMElement`$girl 的一个属性。所以你需要使用的是`getAttribute`.

```
foreach($girls as $girl)
{
    $username = $girl->getAttribute('username');
    // or if using getNamedItem 
    // $username = $girl->attributes->getNamedItem ('username')->nodeValue
    echo $username;
} 
```

# javascript - jqgrid getCell 奇怪的行为

> ID：13320742
> 
> 赞同：2
> 
> 时间：2012-11-10T09:12:42.293
> 
> 标签：javascript, jquery, jqgrid

我有一个 jqgrid 和一个 getCell 方法，它根据 id 返回单元格的值。它仅适用于网格的第一行，在其他情况下 identifyImg = false：

```
var ids = jQuery("#myGrid").getDataIDs(); 
        for(var i=0;i<ids.length;i++){
            var identifyImg = $('#myGrid').jqGrid('getCell', i, 'idState');
alert(identifyImg); // return false after first row
            if(identifyImg == '1'){
                 //DO SOMETHING 
              }
            } 
```

该列定义如下：

```
{name:'idState',index:'idState', width:55} 
```

并且正确填充了数字。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T11:30:34.257

你应该使用

```
 $('#myGrid').jqGrid('getCell', ids[i], 'idState'); 
```

代替

```
 $('#myGrid').jqGrid('getCell', i, 'idState'); 
```

我还想提一下，在大多数情况下，不需要对从`getDataIDs`. 这是在 jqGrid 内部`loadComplete`或*旧版本*`gridComplete`中自定义 jqGrid 的好方法。现在有更多更好的（从性能的角度来看）替代品。例如，如果您需要根据您可以使用的一列的内容更改一个单元格的某些样式或其他属性（请参阅[answer](https://stackoverflow.com/a/6048865/315935)、[answer](https://stackoverflow.com/a/7408355/315935)、[answer](https://stackoverflow.com/a/6509041/315935)、[answer](https://stackoverflow.com/a/10956343/315935)或其他）。如果您需要根据一列的内容更改整行的某些属性可以使用（见[答案](https://stackoverflow.com/a/10531680/315935)*`cellattr``rowattr`）。在其他情况下，如果您需要根据另一个单元格的内容更改单元格的内容（不是属性），您可以使用[自定义格式化程序](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:custom_formatter)。*

# microsoft-sync-framework - 更改方向时 SyncFramework 2.1 中的 LocalInsertRemoteInsert 错误

> ID：13320744
> 
> 赞同：0
> 
> 时间：2012-11-10T09:12:52.807
> 
> 标签：microsoft-sync-framework

我正在使用同步框架 2.1。

我正在做的是不断改变同步的方向

例子。首先我设置了双向，然后可能是上传然后下载。

每当发生任何更改并取消配置现有范围时，我都会创建新范围。

现在 - 在我设置双向然后上传方向之后 - 上传根本不起作用。然后我将其更改为双向然后本地上的所有更改都被服务器覆盖。

上传所有记录时与 LocalInsertRemoteInsert 冲突

也没有范围重叠，因为我发现在**scope_info中没有此表的范围**

我还在[初始同步时提到了这个 LocalInsertRemoteInsert 冲突](https://stackoverflow.com/questions/12841460/localinsertremoteinsert-conflicts-on-initial-sync)

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T22:25:07.067

如果您之前配置并同步了数据库，则每个副本都已包含数据。当您取消配置时，Sync Fx 会删除同步元数据，包括有关先前同步内容的信息，但不删除数据本身。

因此，当您重新配置并尝试同步时，由于先前有关已同步内容的信息已被取消配置清除，因此 Sync Fx 不知道副本已包含相同的行集。

当您同步时，它会尝试将行从一个副本发送到另一个副本，因为数据已经存在于另一侧，您会遇到冲突（插入行时出现重复的 PK 错误）。

# c# - 托盘栏中打开多个图标

> ID：13320747
> 
> 赞同：3
> 
> 时间：2012-11-10T09:13:58.403
> 
> 标签：c#, .net, winforms, notifyicon

我正在开发一个 Windows 应用程序，当我运行这个应用程序时，托盘栏上会出现多个图标：

![](../Images/1f7685c4c3aa57f19cd3c5bcc2cafd37.png)

当我将鼠标悬停在这些图标上时，它们就会消失。

有人知道为什么会这样吗？

```
protected override void OnClosed(EventArgs e)
{
    try
    {
        notifyIcon1.Visible = false;
        notifyIcon1.Icon.Dispose();
        notifyIcon1.Dispose();
    }
    catch(Exception ex)
    {
    }
    base.OnClosed(e);
    Environment.Exit(0);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T18:15:43.240

以下是我关闭系统托盘图标以在我不久前编写的程序中调出完整应用程序的方法：

注意：这非常适合后面代码中的事件处理程序，因此 this.Show() 和 this.Activate()

```
 NotifyIcon sysTrayIcon = sender as NotifyIcon;
            sysTrayIcon.Visible = false;
            this.WindowState = WindowState.Normal;
            this.Show();
            this.Activate(); 
```

# javascript - stackexchange.com/sites 上的交换箱是如何重新排列的？

> ID：13320749
> 
> 赞同：1
> 
> 时间：2012-11-10T09:13:58.357
> 
> 标签：javascript, algorithm, data-structures

我似乎无法理解 stackexchange.com/sites 上的[JS](https://stackexchange.com/sites)。当您展开其中一个堆栈交换信息框时，似乎正在进行一些平衡、旋转等。我想知道这是如何实现的？至少就其数据结构而言，这可能是如何实现的，以及它是如何在此设置中生效的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T12:16:21.673

它使用bin-packing或treemap（kd-tree）等优化算法并最大化打包密度。当您插入或删除图块时，它会找到新图块的最佳位置，并且可以使用沿 x 和 y 轴的简单动画（在 jquery animate 中）。一些 jquery 插件可以解决您的问题：masonry、isotope、wookmark、freetile、vgrid、blocksit。在这里阅读：[http](http://webdesigninspirationtoday.com/article/367/5-jquery-plugins-to-produce-pinterest-like-dynamic-grid-layout) ://webdesigninspirationtoday.com/article/367/5-jquery-plugins-to-produce-pinterest-like-dynamic-grid-layout 。通常优化算法对现实生活中的问题很有用，比如如何复制你的音乐档案而不是浪费空间。在 pinterest.com 上阅读有关算法的信息：[http](http://www.quora.com/Pinterest/What-technology-is-used-to-generate-pinterest-coms-absolute-div-stacking-layout) ://www.quora.com/Pinterest/What-technology-is-used-to-generate-pinterest-coms-absolute-div-stacking-layout 。

# php - 在 PHP 中继承实例

> ID：13320754
> 
> 赞同：2
> 
> 时间：2012-11-10T09:14:28.823
> 
> 标签：php

我尝试在**Child**类中调用**getTest()**函数。首先我初始化**Ext**类的实例，所以我假设主属性**$ext**现在应该包含它。但是**子**类没有继承它，得到的错误信息是：

 *******在非对象上调用成员函数 getTest()*

问题出在哪里？

```
<?php

 $A = new Main;

 class Main
 {
    protected $ext = null;
    function __construct()
    {
      $this->ext= new Ext();
      new Child;
    }
 }

 class Child extends Main
 {
    function __construct()
    {
      echo $this->ext->getTest();
    }
 }

 class Ext extends Main
 {

    public function getTest()
    {
      return "cool";
    }
 }

 ?> 
```

我知道要以其他方式解决它，我可以使用：

```
class Child
{
  private $Main;
  function __construct( &$Main ) { ... }
} 
```

但我想了解为什么这不起作用..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:22:18.080

目前在构造对象时，属性还没有值。

您需要在使用属性之前调用父构造函数

```
function __construct()
{
    parent::__construct();
    echo $this->ext->getTest();
} 
```******

# javascript - ajax 加载图像上的灯箱事件

> ID：13320755
> 
> 赞同：0
> 
> 时间：2012-11-10T09:14:36.560
> 
> 标签：javascript, jquery, dom

我第一次尝试使用 jQuery。我有一些通过 ajax 调用加载的图像（与 jQuery 无关）。该页面的制作方式是，如果您刷新页面，则加载的图像会保留下来。

我在其他地方找到了这段代码：

```
$(document).ready(function(){
$(".svg_chart").click(function(){
    var address = $(this).attr("src");
    address = address.replace(\'height=80\', \'height=300\');
    $("#popup").fadeIn("slow");
    $("#lightbox").attr("src",address);
});
$("#lightbox").click(function(){
    $("#popup").fadeOut("fast");
});
});

    <div id="popup">
        <div id="center">
            <img id="lightbox" src="images/blank.jpg" >
        </div>
    </div>
    </div> 
```

该代码适用于页面加载时已经加载的图像，但不适用于使用 Ajax 动态获取的图像，尽管它们添加了相同的类。我猜这是因为 doc.ready 函数仅在初始页面加载后才知道内容。我可以做些什么来让 jQuery 知道正在添加的新内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T12:53:02.883

为此放弃 jQuery。这是矫枉过正，不起作用！

```
<img id="svg_1" class="svg_chart" style="float: left" width="49%" ondblclick="expand_me(this.id)" alt="" />

<div id="popup">
</div>
<div id="center">
    <img onclick="expand_me(true)" id="lightbox" src="images/blank.jpg" />
</div>
<script type="text/javascript"><!-- // --><![CDATA[
function expand_me(el)
{
    if (el !== true)
    {
        link = document.getElementById(el).src;
        link = link.replace(\'height=80\', \'height=300\');
        document.getElementById(\'popup\').style.display = "block";
        document.getElementById(\'center\').style.display = "block";
        document.getElementById(\'lightbox\').src = link;
     } 
    else
    {
        document.getElementById(\'popup\').style.display = "none";
        document.getElementById(\'center\').style.display = "none";
    }
}
// ]]></script> 
```

CSS部分：

```
#popup
{
    background:#000000;
    height:100%;
    width: 100%;
    position:fixed;
    top: 0;
    left: 0;
    display: none;
    opacity: 0.9;
}
#center
{
    height:100%;
    width: 100%;
    max-width: 1200px;
    position:fixed;
    top: 0;
    margin: 6% auto;
    display: none;
}
#lightbox
{
    width: 100%;
    cursor: pointer;
} 
```

# c# - 反转简单的字符串数组

> ID：13320757
> 
> 赞同：1
> 
> 时间：2012-11-10T09:14:52.743
> 
> 标签：c#, arrays

我正在尝试反转数组中的字符串元素，但我得到了准确的字符串顺序。这是代码

```
public static void ReverseArrayElements()
        {
            Console.WriteLine("This will init array elements and reverse its elements");
            string[] elements = { "one, two, three" };
            for (int i = 0; i < elements.Length; i++)
            {
                Console.WriteLine("Array elements before reversing: {0}", elements[i]);    
            }
            Console.WriteLine("\n");

            Array.Reverse(elements);

            for (int i = 0; i < elements.Length; i++)
            {
                Console.WriteLine("Array elements after reversing: {0}", elements[i]);    
            }
            Console.ReadLine();
        } 
```

结果是一、二、三，再排序后是一、二、三。

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-10T09:18:48.077

您已经创建了一个包含一个元素的数组，其中包含字符串“一、二、三”。

相反，您想使用以下命令初始化该数组：

```
 string[] elements = { "one", "two", "three" }; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-29T03:07:33.980

您可以使用 Array.Reverse (yourarray)

# c# - 停止执行 C# 代码

> ID：13320758
> 
> 赞同：6
> 
> 时间：2012-11-10T09:15:07.357
> 
> 标签：c#, wpf, winforms

我正在玩一些 C# Winforms/WPF 代码，只是偶然发现了一些奇怪的东西。假设我有这样的代码：

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        DoSomething();

        // maybe something more if everything went ok
    }
} 
```

令我困惑的是，在构造函数完成其工作之前，我不能简单地从方法 DoSomething 关闭应用程序。如果在执行过程中有任何`DoSomething`失败，我需要立即关闭应用程序，但它只是继续运行，执行部分`// maybe something more...`然后关闭，但这对我来说太晚了。

我必须将用于关闭表单的代码放在构造函数本身中`return;`，然后它才能工作，但我并没有真正找到一个可以接受的解决方案。我正在尝试将此类验证逻辑从构造函数移至我的方法。

我尝试过类似的事情

```
public void DoSomething()
{
    Close();
} 
```

或者

```
public void DoSomething()
{
    Application.Current.Shutdown();
} 
```

但这似乎不起作用。是的，这两个代码都关闭了应用程序，但只有在完全完成的构造函数代码之后。

`Why`我需要这样的东西吗？好吧，因为在启动时我需要检查各种事情，比如连接和硬件的可用性，验证用户等，如果有任何失败，执行更多代码也没有意义。

使用 Winforms 和 WPF（因此有标签）尝试了相同的原理，效果相同。

**任何人都可以提供解释或解决方案吗？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-10T09:27:01.753

只需尝试`Environment.Exit(-1)`在您的情况下使用，一切都会好起来的。

**补充：** *这是我能为你得到的最好的参考。*

[vs](http://www.c-sharpcorner.com/Forums/Thread/111733/) [vs](http://www.c-sharpcorner.com/Forums/Thread/111733/)之间的区别[`Application.Exit``Application.Shutdown``Environment.Exit`](http://www.c-sharpcorner.com/Forums/Thread/111733/)

**`Application.Exit()`**用于以优雅的方式退出 Windows 窗体应用程序。基本上，它会在调用 Application.Run() 之后停止消息泵，关闭所有窗口并让您回到 Main() 方法。但是，有时它似乎不起作用 - 这通常是因为还有其他前台线程（除了 UI 线程）仍在运行，它们正在阻止线程结束。

**`Application.Shutdown()`**（大致）相当于 WPF 应用程序中的 Application.Exit() 。但是，您有更多的控制权，因为您可以设置 ShutDownMode 以便应用程序在主窗口关闭、最后一个窗口关闭或仅在调用此方法时关闭。

**`Environment.Exit()`**杀死所有正在运行的线程，进程本身就死了。这应该仅在更优雅的方法由于某种原因无法正常工作时作为最后的手段在 WF 或 WPF 中使用。它还可用于从控制台应用程序中突然退出。

另一个参考：[如何正确退出 C# 应用程序？](https://stackoverflow.com/questions/12977924/how-to-properly-exit-a-c-sharp-application/12978034#12978034)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-10T09:25:00.723

你总是可以忽略你的开发人员，只使用[Environment.FailFast()](https://stackoverflow.com/questions/564581/what-is-environment-failfast)

但真的 - 不要。如果您有关键的事情要做，SA 验证串口是否连接到核电站，请提前做。没有规则强迫你一接到`Application.Run(...)`电话`Main()`就去。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-10T12:38:13.690

已经为您的问题发布了可行的解决方案。

只是为了回答您的后续问题：诸如 Close() 和 Shutdown() 之类的方法不会立即退出您的应用程序的原因是它们都只是将消息推送到应用程序的消息队列中。它们仅在 MainWindow 的构造函数完成并且代码执行返回到消息处理循环后才被处理，甚至可能在队列中的其他一些仍待处理的消息也已处理之后。相反，诸如 Environment.Exit() 或 Environment.FailFast() 之类的方法是一种硬核操作系统功能，或多或少会导致立即终止进程。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T09:21:11.180

一种解决方法是抛出异常并在`application.UnhandledException`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-10T09:29:09.737

定义一个异常类：

```
public class InitializationException : Exception
{
    public InitializationException()
    {}

    public InitializationException(string msg)
        : base(msg)
    {}

    public InitializationException(string msg, Exception inner)
        : base(msg, inner)
    {}
} 
```

并像这样更改您的代码：

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();
        try
        {
            DoSomething();

            // maybe something more if everything went ok
        }
        catch( InitializationException ex )
        {
            // log the exception
            Close();
        }
    }

    public void DoSomething()
    {
        if (notSomethingOK)
            throw new InitializationException( "Something is not OK and the applicaiton must shutdown." );
    }
} 
```

这是一个干净且可维护的解决方案。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-01-29T08:03:12.140

```
System.Windows.Forms.Application.Exit(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-01-29T08:17:08.997

从概念上讲，此类东西不应在类构造函数中使用。构造函数在某种程度上是用起始状态初始化的，而不是可能发生的实际事情（如异常、消息框等）。

不要忘记您可以**返回；**来自构造函数，如果您需要中断其执行。这是更好的策略（大多数时候您不需要在错误时关闭应用程序而不显示一些文本）。

在 Windows/WPF 上的 C# 中有“显示窗口”、“可见性改变”、“加载”和许多其他事件，您可以虚拟覆盖或添加为事件处理程序。在那里初始化您的表单/应用程序。

它们是正常的方法，所以一切都按预期工作。您可以尝试抛出您的应用程序入口点（主函数）将捕获并忽略的异常。

对于 WPF，请检查： - [https://msdn.microsoft.com/en-us/library/system.windows.forms.application.setunhandledexceptionmode(v=vs.110).aspx](https://msdn.microsoft.com/en-us/library/system.windows.forms.application.setunhandledexceptionmode(v=vs.110).aspx)。

# c# - 当我在客户端创建选项时如何在服务器端获取下拉选择项值

> ID：13320761
> 
> 赞同：2
> 
> 时间：2012-11-10T09:15:16.920
> 
> 标签：c#, jquery, asp.net

我的 JavaScript 代码

```
$().ready(function () {
       $.ajax({
           type: "POST",
           url: "../WebService.asmx/GetDistricts",
           data: "{}",
           contentType: "application/json; charset=utf-8",
           dataType: "json",
           success: function (msg) {
               BindDist(msg.d);
           }
       });
   }); 
```

作为

```
function BindDist(msg) {
       $.each(msg, function () {

           $("#dropDist").append($("<option></option>").val(this['DistrictId']).html(this['Name']));

       });
   } 
```

在服务器端，我想通过 dropDist.selectedItem 获得价值。但我无法获得价值如何做到这一点。

```
int DistrictId = Int32.Parse((dropDist.SelectedValue).ToString()); 
```

我如何在服务器端获得下拉选择的值？非常感谢任何帮助我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T10:27:39.200

如果您在 javascript 中添加选项，则无法从下拉列表中获取选定值。此外，您也丢失了 SelectedIndexChanged 事件处理程序。如果您需要在客户端填写下拉菜单并且仍然能够使用 SelectedValue 属性和 SelectedIndexChanged 事件，您需要开发自己的 ajax 服务器控件。或者您可以使用 AjaxControlToolkit 库中的 ComboBox 之类的。

尽管如此，如果您仍然想在客户端使用常规的 DropDown，那么您可以在服务器上获取选定的值：`string dropDistSelectedValue = Request.Form[dropDist.UniqueID];`

# command - vimscrimpt 中的转义命令

> ID：13320762
> 
> 赞同：3
> 
> 时间：2012-11-10T09:15:20.170
> 
> 标签：command, vim

谁能帮助我如何`<esc>`在 vimscript 中输入命令以便从插入可视模式（选择模式）切换到可视模式？

这是我的脚本：

```
 if a:type == "'<,'>" 
    normal! "\<esc>\<esc>"
    normal gvy
    let myvariable= @+
  endif 
```

**说明**：
我选择了一段文字。（我现在处于*插入视觉模式*（=选择模式））
我必须在*视觉模式下*选择相同的文本。
如果没有 vimscript，我只需按两次`<esc>`命令和`gv`正常模式下的命令即可再次重新选择选择，这次我处于*可视模式*。

我试图将`<esc>`命令放在上面的脚本中，但它不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T11:38:28.843

您的调用语法完全错误`:normal`。

```
normal! "\<Esc>\<Esc>" 
```

将在正常模式下执行 14 个字符，它们都不是转义字符：正常不接受表达式。你必须使用

```
execute "normal! \e\e" 
```

（`\<Esc>`也可以，但`\e`打字速度更快）。我认为没有理由在这里有两个正常的命令，所以

```
execute "normal! \e\egvy" 
```

. But I am still wondering what you do to invoke this script? Without this information the above is likely to prove being completely useless.

PS: I completely agree with @romainl that using easy mode and, more, using mouse in easy mode is completely wrong way of using vim.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T09:33:45.557

你首先在*插入视觉模式下*做什么？您是否在“简单”模式下使用 GVim 并使用鼠标？还有*更好*的方法……</p>

无论如何，`<Esc><Esc>`您可以使用`<C-g>`从*选择*模式转到*视觉*模式。

如果没有更多关于您的目标的背景，我无法确定，但我认为您正在做一些不必要的复杂事情。

# asp.net - 如何在字段集中对齐我的单选按钮列表

> ID：13320765
> 
> 赞同：0
> 
> 时间：2012-11-10T09:15:39.353
> 
> 标签：asp.net, css, radiobuttonlist

我想浮动我的 Radiobutton 列表，但是当我尝试使用 float:left; 时它的样式很奇怪

任何帮助表示赞赏？我想在同一行对齐单选按钮和问题 [http://jsfiddle.net/MhHFH/2/](http://jsfiddle.net/MhHFH/2/)

我正在使用 asp.net 单选按钮列表，因此它会在其周围创建自动跨度

```
<fieldset id="thirdForm">
        <legend>INFO</legend>
        <div class="rowDiv">
            <label>
                Question 1:
            </label>
            <asp:RadioButtonList CssClass="rbCSS" ID="RadioButtonList1" runat="server" RepeatLayout="Flow" RepeatDirection="Horizontal">
                <asp:ListItem Value="2">Yes</asp:ListItem>
                <asp:ListItem Value="1">No</asp:ListItem>
            </asp:RadioButtonList>
        </div>
    </fieldset> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T11:55:41.293

删除 rdbtn css 删除块然后你可以得到你想要的方式

# c# - Panel.Controls.Add 性能

> ID：13320766
> 
> 赞同：0
> 
> 时间：2012-11-10T09:15:51.363
> 
> 标签：c#, asp.net, user-controls, panel

我有一个面板，它根据模板加载控件。代码运行良好但有点慢，慢在最后一行`panel.Controls.Add(control)`

有没有更好的方法来提高性能？

```
foreach (var b in template.Blocks)
{
    TemplateBlock templateBlock = (TemplateBlock)LoadControl("TemplateBlock.ascx");
    templateBlock.Template = b;
    blockItems[index].id = index;
    templateBlock.DataBlock = blockItems[index];
    templatePanel.Controls.Add(templateBlock);
    index++;               
} 
```

# javascript - 匹配 '.' 的 Javascript 正则表达式 前面没有'\'（后视替代）

> ID：13320767
> 
> 赞同：1
> 
> 时间：2012-11-10T09:16:03.843
> 
> 标签：javascript, regex, lookbehind

我正在用 javascript 制作一个（类似 Excel 的）数字格式化函数。我想使用像“0 000.00”和“000.000.000”这样的模板，它们会产生：

```
format(123456789,"0 000.00") >> "123 456 789.00"
format(123456789,"000\.000\.000") >> "123.456.789" 
```

所以我需要匹配'。前面没有'\'。由于 javascript 中没有后视功能，因此拆分模板的整个和小数部分的正则表达式是什么？

不幸的是，这不起作用:-(

```
template.split(/(?<!\\)\./); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T09:21:36.483

反转字符串并改用负前瞻。

```
template.split("").reverse().join("")
        .split(/\.(?!\\)/)
        .split("").reverse().join(""); 
```

这是一种“有趣”的方式，但对于您的情况，还有其他可能更好的方式。`\.`就像用魔术字符串替换所有一样`__MAGIC__`，拆分`.`，然后撤消魔术字符串。

# java - Java Servlet -> 具有非静态属性的 Hashmap 中的静态图

> ID：13320768
> 
> 赞同：2
> 
> 时间：2012-11-10T09:16:05.683
> 
> 标签：java, servlets, graph, static, routing

我有一个大图，它在 Java Servlet 中处理以用于路由目的。Graph 有 100k+ 个节点，所以我无法为每个新调用重新加载它。目前，该图从我的数据库加载到 RAM 中并在 Hashmap 中引用。

当我启动 servlet（创建一个新实例）时，我需要通过 id 在图中找到 startnode。因此我使用哈希图。

这一切都很好。

我的问题是，在我的路由任务中，我需要更改图表中的某些属性，即行进距离。对于每个创建的实例，这些属性当然需要是单独的。目前，我通过在创建新实例时重置所有“非静态”属性来处理该任务。这就产生了两个问题。

A）实例不是线程安全的

B) 重置非常耗时。高达实际路由的 10 倍以上。

所以我需要的是我的 Servlet 的所有实例的静态 Hashmap。这个 Hashmap 需要包含我网络的所有节点。这些节点需要具有静态属性，如 id、坐标、邻居节点等，但也需要非静态属性，如行进距离。

我怎样才能做到这一点？

感谢阅读和分享想法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:25:37.773

您的问题可以描述为在运行时构建并为每次执行服务*实例化的模型。*

当您说“静态”时，我认为您的意思是“恒定”。变量属性确实特定于每个执行，而不是每个 Servlet 实例。在执行期间，您应该构建一个具有与常量属性平行的变量属性的单独结构。变量结构中的每个节点都引用常量结构中的单个节点。随着对每个节点的需求的增加，可变结构是逐渐构建的。该结构在执行结束时被丢弃。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:37:41.480

我建议以单例方式将“主图”保留在 RAM 中 - 正如 Marko Topolnik 所建议的那样，但我会保留每个会话中仅更改节点的 Map，没有层次结构，只需按 ID 存储它们（如果适用，本身）

*   当会话结束时，您只需丢弃会话中的地图，仅此而已。
*   当一个新会话开始时，只需创建一个新的 Map 实例......
*   如果这很关键，您还可以合并这些映射 - 但避免过早优化，因为它导致的问题远远超过它避免的问题。
*   如果你需要访问一个节点，从原始 Map 中获取它，然后在“会话本地”映射中查找它是否存在，如果找到则合并两者中的数据。（或者，如果您存储完整节点，而不仅仅是“会话本地”映射中的更改属性，请使用该映射中的更改节点）
*   另外，要小心，这有很多地方会导致内存泄漏......

# haskell - Text.PrettyPrint 设置缩进的更好方法

> ID：13320770
> 
> 赞同：0
> 
> 时间：2012-11-10T09:16:11.957
> 
> 标签：haskell, pretty-print

我有一台这样的漂亮打印机：

```
somefun = text "woo" $+$ nest 4 (text "nested text") $+$ text "text without indent"
fun = text "------" $+$ somefun 
```

我想要的是打印这个：

```
------ woo
    nested text
text without indent 
```

但它打印：

```
------
woo
    nested text
text without indent 
```

我可以理解为什么会这样打印，但是我无法做我想做的事。我找到的一种解决方案是：

```
somefun p = p <+> text "woo" $+$ nest 4 (text "nested text") $+$ text "text without indent"
fun = somefun (text "------") 
```

也就是说，我正在传递我希望我的下一个 Doc 的缩进基于的 Doc。这解决了我的问题，但我正在寻找更好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T17:29:03.000

您将文档作为参数传递的解决方案很好。一旦组合成一个 Doc，就不能再将它分开，所以这里有两种使用列表的方法：

## 备选方案 1

另一种方法是使用`[Doc]`而不是`Doc`用于后续文本，如果您想以不同的方式处理这些行，然后使用类似的东西重新组合

```
(<+$) :: Doc -> [Doc] -> Doc
doc <+$ [] = doc 
doc <+$ (d:ds) = (doc <+> d) $+$ foldr ($+$) empty ds

somefun :: [Doc]
somefun = [text "woo",
    nest 4 (text "nested text"),
    text "text without indent"]

fun :: Doc
fun = text "------" <+$ somefun 
```

这给你

```
*Main> fun
------ woo
    nested text
text without indent 
```

## 备选方案 2

如果你想继续缩进第一行，你可以用另一种方式重写这个解决方案来保存列表：

```
(<+:) :: Doc -> [Doc] -> [Doc]
doc <+: [] = [doc] 
doc <+: (d:ds) = (doc <+> d) : ds -- pop doc in front. 
```

我们需要`Doc`在某个阶段将它们组合成一个单一的：

```
vsep = foldr ($+$) empty 
```

现在您可以使用`:`在上面放一条线，并`<+:`在顶线前面推一点：

```
start = [text "text without indent"]
next  = nest 4 (text "nested text") : start
more  = text "woo" : next
fun   = text "------" <+: more
extra = text "-- extra! --" <+: fun 
```

测试这个

```
*Main> vsep fun
------ woo
    nested text
text without indent

*Main> vsep extra
-- extra! -- ------ woo
    nested text
text without indent 
```

主要问题是，如果你使用它`[Doc]`而不是`Doc`它几乎就像你没有使用漂亮打印库一样！不过没关系，如果它是你需要的。

# collections - 在 StringTemplate 中过滤多值属性

> ID：13320775
> 
> 赞同：0
> 
> 时间：2012-11-10T09:16:55.733
> 
> 标签：collections, filtering, stringtemplate

我有一个模板，它在不同的地方使用相同的多值属性。我经常发现自己处于这样一种情况，即我想在将模板应用于各个值之前过滤属性。

我可以做这个：

```
<#col:{c|<if(cond)><# c.Attribute2 #><endif>};separator=\",\"#> 
```

但这不是我想要的，因为输出中有分隔“跳过”条目的分隔符，例如：

2,4,,,6,,4,5,,

我可以将其修改为

```
<#col:{c|<if(c.Attribute1)><# c.Attribute2 #>,<endif>};separator=\"\"#> 
```

这几乎没问题，但我在最后一个数字之后得到了一个额外的分隔符，这有时并不重要（通常当分隔符是空格时），但有时会：

2,4,6,4,5,

我有时最终会这样做：

```
<#first(col):{c|<if(cond)><# c.Attribute2 #><endif>};separator=\"\"#>
<#rest(col):{c|<if(cond)>,<# c.Attribute2 #><endif>};separator=\"\"#> 
```

但是如果第一个成员不满足条件，这种方法就失败了，那么开头就有一个额外的分隔符：

,2,4,6,4,5

有人可以给我一个更好的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T23:31:06.010

首先，让我指出我认为您正在尝试在模板中执行逻辑。每当您听到诸如“根据数据根据某些条件过滤我的列表”之类的东西时，可能是时候在模型中计算过滤后的列表然后将其推入。也就是说，在我们首先过滤列表的情况下，这样的事情可能会起作用：

```
<col:{c | <if(c.cond)>c<endif>}:{c2 | <c2.c.attribute>}> 
```

c2.c 从第一个应用程序访问 c 参数

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-21T13:17:21.597

“The ANTLR Guy”的回答对我没有帮助，我找到了另一种解决方法。请参阅[在 ST4 中过滤掉空字符串](https://stackoverflow.com/questions/45678168/filter-out-empty-strings-in-st4/45679564#45679564)

# php - 当我检查 ip 时 PDO 不起作用

> ID：13320779
> 
> 赞同：1
> 
> 时间：2012-11-10T09:17:22.423
> 
> 标签：php, pdo

今天我厌倦了从mysql连接到PDO。我遇到了一个问题。

```
require('config.php');

function GetAll($query, $params) {
    global $db;
    try {
        $sth = $db->prepare($query);
    }
    catch (PDOException $e) {

        return null;
    }
    try {
        $sth->execute($params);
    }
    catch (PDOException $e) {

        return null;
    }
    $result = $sth->fetchAll();
    return $result;
}

if ($fetch = GetAll("SELECT `loggedip` FROM `ipcheck` WHERE `loggedip`=':ipcheck'", array(":ipcheck" => $iptocheck))) {

    $resultx = $db->prepare("SELECT `failedattempts` FROM `ipcheck` WHERE `loggedip`='$iptocheck'");
    $resultx->execute();
    while ($rowx = $resultx->fetch()) {
        ;
    }
    $loginattempts_total = $rowx['failedattempts'];
    echo "$loginattempts_total";
    if ($loginattempts_total > $maxfailedattempt) {
        header(sprintf("Location: %s", $forbidden_url));
        exit;
    }
} 
```

这是我的脚本。在 PDO 中，他的不起作用。当我的ip被禁止时不应该看到，但我看到的页面。请帮忙 （（

# iphone - 关闭 3 层模态视图

> ID：13320787
> 
> 赞同：0
> 
> 时间：2012-11-10T09:18:43.247
> 
> 标签：iphone, ios, xcode, ipad, ios5

在我的应用程序中，我有三层模式视图控制器。

1）所以我`rootViewController`是一个`tabbar`。

2）在`applicationDidFinishLaunching`我提出一个`viewController`，`viewController A`上面模态说`tabbar`。

3）单击“viewController A”中的按钮时，我会呈现另一个`viewController B`模态。

4) 一个按钮动作以模态方式`viewController B`呈现`navigationController`，其`rootViewController`as `viewController C`。

5) 最后从`viewController C`，我想回到`viewController A`。

我尝试使用

```
[[[self parentViewController] parentViewController]dismissModalViewControllerAnimated:YES]; 
```

在`viewController C`，但它让我回到`viewController B`而不是`viewController A`。

我怎样才能恢复到`viewController A`.

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T18:57:09.967

使用看起来像 modalTransitionStyle 的 transitionStyle 将所有“模态”视图推送到 navigationControl 上。不要重新发明东西

将所有内容呈现在一个模态navigationController Id 中说:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T18:35:36.403

你有一个复杂的 VC 堆栈。你可以像一位发帖人建议的那样实现一个自定义的dismissView方法，但这会很脆弱：如果你重用这个视图，或者在你的应用程序中移动它，它将停止运行，因为它过于依赖于其他VC如何配置的特定知识他们的状态。

您可以配置委托链。这将是操作视图的标准方式：呈现的 VC 还负责删除它呈现的任何内容。

为此，构建由 B 实现的协议，并使用对 B 的引用初始化 C。类似地，使用对 A 的引用初始化 B（可能使用相同的协议，具体取决于需要在它们之间传递的任何其他通信。）

然后当在 C 上单击按钮时，它会调用 B 的委托方法。B 适当地展开 C，并调用 A 的委托方法。A 适当地展开 B。

这具有保持 VC 知识封装的优点：A 知道它如何呈现 B，因此它知道如何取消呈现它，B 知道它如何呈现 C，并且知道如何取消呈现它。在任何情况下，一个 VC 都不需要对另一个 VC 是如何呈现的做出假设。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T09:25:16.827

实现视图关闭方法，如：

```
- (IBAction)dismissView
 {
   [self dismissModalViewControllerAnimated:NO];   // dismiss c
   [[self parentViewController] dismissModalViewControllerAnimated:NO]; //dismiss b
 } 
```

`[self parentViewController]`将返回 的父视图`viewControllerC`，即`viewControllerB`. 所以它也会驳回这种观点。

# ruby-on-rails - Mongoid - 单个调用中的两个更新修饰符以更新 mongodb 中的文档

> ID：13320791
> 
> 赞同：0
> 
> 时间：2012-11-10T09:19:03.150
> 
> 标签：ruby-on-rails, mongodb, mongoid, mongoid3

我正在尝试使用 mongodb、mongoid 和 rails。我在 Rails 中有一个简单的任务和评论模型，其中评论嵌入到任务中。现在 Task 具有名为 comment_count 的属性。有没有办法在一次调用中增加计数以及将新评论推送到一起。

任务模型：

```
class Task
  include Mongoid::Document
  field :name
  field :desc
  field :comment_count, type: Integer, default: 0
  embeds_many :comments
end 
```

评论型号：

```
class Comment
  include Mongoid::Document
  field :entry
  embedded_in :task
end 
```

以下是我想在一次通话中执行的操作。

```
1.9.3p194 :025 > task.comments.push(Comment.new(entry: "This is a comment"))
 => [#<Comment _id: 509e1708a490b3deed000003, _type: nil, entry: "First comment">, #<Comment _id: 509e1716a490b3deed000004, _type: nil, entry: "Second comment">, #<Comment _id: 509e1aa3a490b3deed000005, _type: nil, entry: "This is a comment">] 
1.9.3p194 :026 > task.inc(:comment_count, 1)
 => 3 
```

我实际上打算在单个更新调用中使用多个更新修饰符，如**$inc**、**$push**、**$pop等。**类似于我们可以直接在 mongo shell 中执行的操作。

请帮忙。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T13:26:20.043

不幸的是，Mongoid 似乎`counter_cache`不像 ActiveRecord 那样支持。

您可以在模型上使用一个`after_save`和一个`after_destroy`回调`Comment`来实现这一点，分别增加/减少父级的计数器。

# shell - 如何在 gnome-launcher 中包含额外的路径名

> ID：13320793
> 
> 赞同：0
> 
> 时间：2012-11-10T09:19:16.060
> 
> 标签：shell, launcher, gnome-terminal

我使用以下命令创建了一个启动器

```
 gnome-desktop-item-edit --create-new ~/Desktop 
```

它创建了我的 shell 脚本文件的启动器。我的 shell 脚本文件包括打开其他一些文件。这些文件未在此启动器中打开。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T15:33:47.917

也许您的 shell 脚本正在使用路径未包含在路径环境变量中的文件。为此，您必须编写

```
export PATH=$PATH:<new dirctory> 
```

例如，我的脚本使用目录 /tmp 中的文件。然后在脚本的第一行，我会写：

```
export PATH=$PATH:/tmp/ 
```

没有 '<' 和 '>' 作为脚本的第一行！

# ajax - AJAX 调用不同的用户

> ID：13320794
> 
> 赞同：0
> 
> 时间：2012-11-10T09:19:25.967
> 
> 标签：ajax, json, web

所以基本上，我有一个网络应用程序。当用户输入并给出一些输入时，他看到的内容会根据他的输入以及来自数据库的内容而发生变化。他看到的内容是从数据库中获取并存储在一个 .json 文件中，然后用于向用户显示。

我的问题是......我在哪里为每个用户存储从 DB（在 .json 中）获取的信息？......现在我的 JS 看起来像这样......

```
$.getJSON('HTTP://LOCALHOST:8093/file.json').... 
```

我不能为每个用户使用相同的“file.json”，因为如果我有 3 个用户同时使用我的应用程序，它将无法工作......

# c# - 使用 C# 代码通过 Windows 防火墙获取分布式事务协调器 (DTC) 的设置

> ID：13320797
> 
> 赞同：2
> 
> 时间：2012-11-10T09:19:46.053
> 
> 标签：c#, windows, wmi, firewall

我正在开发适用于 Windows 7 的 wpf 应用程序。
我需要确定**分布式事务协调器（DTC）**是否已启用以使用 C# 代码在 Windows 7 中**通过防火墙工作。**
我正在使用**WMI**查询来查找有关其他设置的信息，但我无法找到要在**WMI中使用的类来通过防火墙获取****分布式事务协调器（DTC）** 的设置（非防火墙设置） 。

我不需要设置值，只需要读取当前设置即可。

# php - php的标准生产设置

> ID：13320800
> 
> 赞同：3
> 
> 时间：2012-11-10T09:19:54.943
> 
> 标签：php, apache, lamp, production-environment, chmod

背景 我最近在我有 root 访问权限的主机上设置了一个基于 php 的站点。我已经根据 linode.com 上的指南安装了灯设置，现在我想知道如何处理 php 文件权限、目录权限以及哪些用户应该在哪些组中运行哪些进程。

特别是我想回答“一个标准的 php 网站应该如何根据 ACL、所有权和生产 ID 进行配置？”这个问题的答案。

目前，任何目录列表都会返回以下内容：

```
-rw-r--r--  1 root    root   70 Nov  8 17:17 index.php 
```

即`root`所有者，`root`组，模式`644`/ `uw & ar`。（[编辑]这不是应该的，因为不应该使用 root 创建文件 - 这个问题的部分原因）

运行`ps -auxww`我看到 Apache Web 服务器以名为 的用户身份运行`www-data`，因此我可以假设 php 将以同一用户身份运行（推测它是继承同一用户的子进程）。

我`chmod 640`在所有文件上设置，并将我自己（用户`bob`）设置为所有者，创建一个名为`productionIDs`包含`www-data`用户的组，将文件上的组设置为是错误的`productionIDs`吗？

在我看来，这在最小特权方面会更安全；除了我自己和网络服务器还有谁？只有我需要写文件，Web服务器只需要读取。没有其他人需要做任何事情。

我的设置无法处理有多个开发人员的情况，但我不确定这种情况应该是什么样子。

`640`那么所有者我，组网络服务器组有什么风险吗？如果是这样，相应的目录`750`也安全吗？

如果没有，为什么不让更多人使用这种配置？

[更新]*试试看*理论下，有效。所以现在的问题包括“这个配置不允许什么/这个配置有什么缺点”方面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:56:54.097

首先，您的文件绝对不应该归 root:root 所有。从所有所有权的用户名和通用组开始。

虽然最初确实，Web 服务器用户只需要对您的文件进行读/执行访问，但在某些情况下，该用户可能需要对特定文件夹的写访问权限以进行上传或应用程序日志等。

因此，我们对 PHP 应用程序的典型设置是文件为 644（640 也可以），文件夹为 755（750 也可以）。请注意，出于几个原因，我们让每个人都可以阅读这些文件。首先，它允许其他用户审核服务器上的代码，而无需修改它。其次，我们在生产托管服务器上只有开发人员用户，因此任何拥有帐户的人都已经具有查看所有代码的信任级别。这种情况在另一种情况下可能会有所不同。

关于您使用网络服务器组作为组所有者的问题，我们通常不会这样做。虽然您当然可以使用该组，但我们希望单独保留所有系统安装的组，并为应用程序文件创建一个特定组。然后我们只需将 Web 服务器用户添加到新组。

# encryption - 加密二维码阅读器/生成器

> ID：13320803
> 
> 赞同：1
> 
> 时间：2012-11-10T09:20:23.447
> 
> 标签：encryption, qr-code

作为我最后一年项目的一部分，我计划开发一个定制的二维码编码器/解码器，它将生成加密二维码。在加密方面没有太多知识我只是想知道在给定资源限制的情况下是否可以在移动设备上实现像 RC4 这样的算法。另外，如果不在移动设备上，是否可以为 pc 开发 qr 阅读器/生成器？如果是，关于任何可以使用的库的任何信息？

为了清楚起见，加密的意思是原始消息->加密->加密消息->为加密消息生成二维码->加密二维码

接收端：加密二维码-->二维码阅读器-->加密消息-->解密-->原始消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T11:50:23.080

智能手机是否足以在几百字节的数据上运行 RC4？有很多数量级，是的。考虑一下支持您可能刚刚在移动网站上使用的 HTTPS 连接需要多少处理。或者，考虑到解码 QR 码已经需要对相同数据进行 Reed-Solomon 解码，这几乎同样复杂。在 1GHz 芯片上，即使是 100K 操作也几乎没有。

# java - Java 中的 ClassNotFoundException

> ID：13320804
> 
> 赞同：0
> 
> 时间：2012-11-10T09:20:24.210
> 
> 标签：java, html, jar

我有一个奇怪而令人沮丧的问题。我将所有 .class 文件加载到一个 JAR 文件中，并将其放在我的本地 Web 服务器上。问题是当我用我的 JAR 导航到页面时，我得到了一个很大的 ClassNotFoundExeption。我 100% 确定这个类文件在我的 JAR 中。我也知道 JAR 文件与我的 XHTML 文件位于同一目录中

这是 XHTML 源代码

```
<html>
    <head>
    </head>
    <body bgcolor="000000">
        <center>
            <applet
                archive   = "program.jar"
                code    = "inigui4.class"
                width   = "500"
                height  = "300"
            >

            <param name="cache_option" value="no"> 
            </applet>
        </center>
    </body>
</html> 
```

**很奇怪！**

出于某种原因，当我创建一个 hello world 小程序时，我遇到了同样的问题（可能与我的 LightTPD 服务器有关吗？

Java源码如下

```
import java.awt.*;
import java.applet.*;

public class inigui4 extends Applet {

    public void init() {
    }

    public void paint(Graphics g) {

        g.drawString("Welcome to Java!!", 50, 60 );

    }
} 
```

**甚至更陌生。**

现在我无法在网络上加载任何小程序，因为我收到了这个错误。我需要在早上联系 Oracle。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:55:23.487

我认为问题出在这里：

```
 <applet
            archive   = "program.jar"
            code    = "inigui4.class"
            width   = "500"
            height  = "300"
        > 
```

在这里，您指定**`inigui4.class`**- 但在您的 Java 代码中：

```
public class inigui_rb extends Applet {
   ...
} 
```

这是**`inigui_rb`**. 尝试：

```
 <applet
            archive   = "program.jar"
            code    = "inigui_rb.class"
            width   = "500"
            height  = "300"
        > 
```

该`ClassNotFoundException`走了。

编码时也请遵守[Java 编码约定](http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html)！在这种情况下：

*   **班级名称以大写开头！**
*   **类名不包含下划线而是驼峰式！**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:28:47.387

这可能是由多种原因引起的，但最可能的原因是您没有指定您正在使用的类的包。看看这个[帖子](https://stackoverflow.com/questions/11396646/load-class-myapplet-not-found-java-lang-classnotfoundexception-why-am-i-gett)的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T09:28:52.487

如果您使用的是包，则必须在 inigui4.class 的[相对路径前添加到 jar 中](http://docs.oracle.com/javase/1.4.2/docs/guide/misc/applet.html)

# jvm - 如何创建需要 java 类路径才能执行的安装程序

> ID：13320806
> 
> 赞同：0
> 
> 时间：2012-11-10T09:20:27.547
> 
> 标签：jvm, exe, java, izpack

我已经为我的java桌面应用程序制作了一个带有izpack的安装程序......安装后我的launcher.bat文件需要设置java构建路径才能执行..当我添加java构建路径时它工作正常......

但是..，我怎样才能让它在我安装的所有系统中工作..

任何答案或方法都会有帮助..

看看我的批处理文件（我已经向你展示了**我没有添加 java bin 路径**的批处理文件）

**调用者.bat**

```
set CLASSPATH=$INSTALL_PATH\src\cs.jar;$INSTALL_PATH\lib\log4j-1.2.15.jar;$INSTALL_PATH\lib\swt.jar;.;$INSTALL_PATH\lib\swt-debug.jar;.;

set PATH=$INSTALL_PATH\src\cs.jar;$INSTALL_PATH\lib\log4j-1.2.15.jar;$INSTALL_PATH\lib\swt.jar;.;$INSTALL_PATH\lib\swt-debug.jar;C:\Program Files\Java\jdk1.6.0_33\bin;.;

java com.acti.conversionsupport.browser.SWTBrowserImpl 
```

**swtbrowser.bat**

```
set CLASSPATH=$INSTALL_PATH\src\cs.jar;$INSTALL_PATH\lib\log4j-1.2.15.jar;$INSTALL_PATH\lib\swt.jar;.;$INSTALL_PATH\lib\swt-debug.jar;.;

set PATH=$INSTALL_PATH\src\cs.jar;$INSTALL_PATH\lib\log4j-1.2.15.jar;$INSTALL_PATH\lib\swt.jar;.;$INSTALL_PATH\lib\swt-debug.jar;C:\Program Files\Java\jdk1.6.0_33\bin;.;

java com.acti.conversionsupport.browser.CallerSocket 
```

**启动器.bat**

```
 cd \
 cd "$INSTALL_PATH"

 nircmd exec hide caller.bat

 nircmd exec hide swtbrowser.bat 
```

当我在将 java bin 文件夹添加到类路径后执行启动器时……我的两个任务都可以正常工作……但是我能为其他系统做些什么……**我怎样才能让事情在任何地方都能正常工作**？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T11:08:38.007

您可以查阅 Windows 注册表获取 JRE 安装路径，如[本文所示](https://stackoverflow.com/questions/3930383/jre-installation-directory-in-windows/3930458#3930458)

要从批处理中查阅注册表，[请参阅此链接](http://www.robvanderwoude.com/ntregquery.php)。

# flexslider - 使用淡入淡出 flexslider iPad 未触发事件后

> ID：13320807
> 
> 赞同：2
> 
> 时间：2012-11-10T09:20:35.263
> 
> 标签：flexslider

我正在使用 flexslider after event 来触发另一个功能，但是 flexslider 中的 after 事件不能与 iPad 上的淡入淡出结合使用。使用幻灯片作为动画解决了这个问题，但我需要淡入淡出而不是幻灯片。

```
$('.flexslider').flexslider({
      slideshow: true,
    animation: "fade",
    animationSpeed: 1000,
    slideshowSpeed: 5000,
    directionNav: false,
    controlNav: false,
    start: function(){animation()},
    after: function(){animation()},
    before: function(){}
  }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-01T10:40:37.580

我有一个类似的问题，我需要在 after 回调中执行一个函数，它没有在 ipad 上触发。

我做了一个快速的解决方法，我使用了 before 方法，它对我没有任何缺点，因为我只需要更新一个外部幻灯片计数器。

我查看了 flexslider 2.1[代码](https://github.com/woothemes/FlexSlider/zipball/master)，我认为 520-521 或 527-530 行在这里引起了问题：

520-521

```
slider.slides.eq(slider.currentSlide).fadeOut(vars.animationSpeed, vars.easing);
slider.slides.eq(target).fadeIn(vars.animationSpeed, vars.easing, slider.wrapup); 
```

527-530

```
slider.slides.eq(slider.currentSlide).bind("webkitTransitionEnd transitionend", function() {
      // API: after() animation Callback
      vars.after(slider);
}); 
```

如果你愿意，你可以调试它，我希望你会发现它有用。

# c - 避免 c 词法分析器的注释

> ID：13320808
> 
> 赞同：1
> 
> 时间：2012-11-10T09:20:36.457
> 
> 标签：c, flex-lexer

> **可能重复：**
> [在 flex/lex 中获取 c 样式注释的问题](https://stackoverflow.com/questions/2130097/problem-getting-c-style-comments-in-flex-lex)

我正在使用 flex 编写一个词法分析器，我怎样才能使它避免看起来像这样的注释：

```
/* COMMENTS */ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T09:31:56.480

这有点复杂。这是我找到的解决方案：

```
<INITIAL>{
"/*"              BEGIN(IN_COMMENT);
}
<IN_COMMENT>{
"*/"      BEGIN(INITIAL);
[^*\n]+   // eat comment in chunks
"*"       // eat the lone star
\n        yylineno++;
} { return COMMENT; } 
```

“明显”的解决方案，如下所示：

```
"/*".*"*/" { return COMMENT; } 
```

会匹配太多。

# joomla - 在 joomfish 中找不到类错误

> ID：13320819
> 
> 赞同：0
> 
> 时间：2012-11-10T09:22:12.333
> 
> 标签：joomla

我正在使用 joomla 3.0 创建网站。我正在为多语言网站使用 joomfish 组件。安装完成，但如果我尝试打开 joomfish 控制面板，它会显示如下错误

> 致命错误：第 397 行的 /var/www/muvacon/libraries/joomla/database/driver/mysql.php 中找不到类“”

我是 joomla 的新手，请建议任何链接来解决这个问题。我已经搜索了很多论坛我没有得到任何解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T13:35:39.337

JoomFish 尚未针对 Joomla 3.0 发布，因此您很可能会遇到您提供的错误。目前仅适用于 Joomla 1.5 和 2.5。他们有一个可供俱乐部会员使用的 beta 版本 (2.5)，但是我不确定他们是否使用它对 Joomla 3.0 进行了任何测试。

# google-app-engine - javax.mail.MessagingException：AppEngine 应用程序中的连接错误

> ID：13320820
> 
> 赞同：0
> 
> 时间：2012-11-10T09:22:16.650
> 
> 标签：google-app-engine, jakarta-mail

在我的 GAE 应用程序中，我无法使用 Java 邮件 api 发送邮件。我收到以下错误。

```
javax.mail.MessagingException: Connection error (java.net.SocketException: Permission denied: Not allowed to issue a socket bind: permission denied.)
    at org.apache.geronimo.javamail.transport.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:408)
    at javax.mail.Service.connect(Service.java:248)
    at com.soa.util.SendMailSSL.sendMail(SendMailSSL.java:54)
    at com.soa.managers.MailManager.mailApproved(MailManager.java:87)
    at com.soa.managers.WidgetManager.approveRequest(WidgetManager.java:216)
    at com.soa.servlets.WidgetServlet.doPost(WidgetServlet.java:71)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
    at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:123)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:383)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
Caused by: java.net.SocketException: Permission denied: Not allowed to issue a socket bind: permission denied.
    at com.google.appengine.api.socket.SocketApiHelper.translateError(SocketApiHelper.java:94)
    at com.google.appengine.api.socket.SocketApiHelper.translateError(SocketApiHelper.java:105)
    at com.google.appengine.api.socket.SocketApiHelper.makeSyncCall(SocketApiHelper.java:71)
    at com.google.appengine.api.socket.AppEngineSocketImpl.createSocket(AppEngineSocketImpl.java:502)
    at com.google.appengine.api.socket.AppEngineSocketImpl.bind(AppEngineSocketImpl.java:518)
    at java.net.Socket.bind(Socket.java:577)
    at java.net.Socket.<init>(Socket.java:373)
    at java.net.Socket.<init>(Socket.java:249)
    at org.apache.geronimo.javamail.transport.smtp.SMTPTransport.getConnectedSocket(SMTPTransport.java:1096)
    at org.apache.geronimo.javamail.transport.smtp.SMTPTransport.getConnection(SMTPTransport.java:856)
    at org.apache.geronimo.javamail.transport.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:385)
    ... 40 more 
```

我的代码是

```
package com.soa.util;

import java.util.*;

import javax.mail.Address;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.AddressException;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;

public class SendMailSSL {
    public static boolean sendMail(String msg, String subject,
            List<String> recipients) {

        Address[] emails = new InternetAddress[recipients.size()];
        for (int i = 0; i < recipients.size(); i++) {
            try {
                //System.out.println(recipients.get(i));
                emails[i] = new InternetAddress(recipients.get(i));
            } catch (AddressException e) {
                e.printStackTrace();
            }
        }

        Properties props = new Properties();
        props.put("mail.smtp.host", "smtp.gmail.com");
        props.put("mail.smtp.auth", "true");
        props.setProperty("mail.smtp.port", "587");
        props.put("mail.smtp.starttls.enable", "true");

        Session session = Session.getDefaultInstance(props,
                new javax.mail.Authenticator() {
                    protected PasswordAuthentication getPasswordAuthentication() {
                        return new PasswordAuthentication(
                                "my_mail_id@gmail.com", "password");
                    }
                });

        try {
            MimeMessage message = new MimeMessage(session);
            message.setFrom(new InternetAddress("my_mail_id@gmail.com"));// Sender
                                                                            // Id.
            message.addRecipients(Message.RecipientType.TO, emails);
            message.setSubject(subject);
            message.setText(msg);

            // send message.
            //Transport.send(message);
            Transport transport = session.getTransport("smtp");
            transport.connect("smtp.gmail.com", 587, "my_mail_id@gmail.com", "password");
            transport.sendMessage(message, message.getAllRecipients());
            transport.close();
            System.out.println("message sent successfully");
            return true;
        } catch (MessagingException e) {
            e.printStackTrace();
            System.out.println("failed");
        }catch (Exception e) {
            e.printStackTrace();
            System.out.println("failed :(");
        }
        return false;
    }
} 
```

我怎样才能让我的应用程序正常工作？

此外，如果我使用`Transport.send(message);`而不是创建传输实例，我将不会收到任何错误消息，但不会发送电子邮件。

我该如何解决。有人请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T13:48:54.603

最后我找到了答案……问题是，Google 不允许您使用外部邮件 ID（非 gmail 或非 google 邮件 ID），因此您无法配置传输对象的连接属性。

您可以在 message.setFrom() 中指定您的应用引擎管理员邮件 ID，然后使用 Transport.send() 简单地发送它；

在我的例子中， Transport.send() 什么也没做，只是因为我试图从我的本地 eclipse 项目中发送它。Google 将仅从已部署的应用程序发送邮件。

因此，对您的应用程序进行编码，如果没有错误，请将其部署到应用程序引擎。然后应用程序将开始发送邮件。

参考[这个谷歌开发者页面](https://developers.google.com/appengine/docs/java/mail/usingjavamail#JavaMail_Features_Not_Supported)了解更多信息。

此外，删除所有 Oracle javax.mail jar。默认情况下，您的应用引擎 jar 具有特定于应用引擎的 javax.mail 类

# asp.net - 通过 Web.config 控制 IIS 缓存

> ID：13320826
> 
> 赞同：0
> 
> 时间：2012-11-10T09:23:19.827
> 
> 标签：asp.net, caching, iis-6

有没有办法通过应用程序 web.config 控制 IIS 6.0 缓存？

我问的原因是我有专用盒子，但我无权访问高级 IOIS 设置。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T21:05:58.400

经过一番研究，这是我发现的。

IIS 6.0 没有太多现金优化。它是“自动”为您完成的。因此，无法使用 web.config 控制其行为。

更高的 IIS 版本（例如 70 和 7.5）具有可在 web.config 中使用的标记。

免责声明：我可能会记下错误的 IIS 版本，但我 100% 确定 6.0 不能通过 web.config 进行控制。

谢谢

# security - 在黑莓应用程序中存储加密密钥

> ID：13320830
> 
> 赞同：2
> 
> 时间：2012-11-10T09:24:19.180
> 
> 标签：security, blackberry, encryption, java-me

我在我的黑莓应用程序中加密与服务器的通信。我正在使用需要提供密钥的 RC4 加密。在应用程序中隐藏此密钥的最佳位置是什么？首先，应用程序是存储密钥的好地方，其次，使用`String`变量存储密钥是否安全？有什么建议/提示吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T13:39:00.533

这取决于您对“安全”的定义是什么。如果您将密钥以纯文本形式放在应用程序的任何位置，那么会有人找到它并使用它来破坏您的应用程序通信。是否会发生这种情况将取决于这样做的吸引力有多大。

您可以将它放在设备密钥库中，但您仍然必须以某种方式分发密钥。

你为什么不使用 SSL/TLS？

# c++ - 逗号运算符用法

> ID：13320834
> 
> 赞同：2
> 
> 时间：2012-11-10T09:24:48.983
> 
> 标签：c++, visual-studio, comma, comma-operator

> **可能重复：**
> [是否可以在 for 循环中声明两个不同类型的变量？](https://stackoverflow.com/questions/2687392/is-it-possible-to-declare-two-variables-of-different-types-in-a-for-loop)

考虑这段代码：

```
for( std::vector<std::string>::iterator it = myVec.begin(), int i = 3; it < myVec.end(); it++, i++ )
{
// some operations with the vector
} 
```

我很惊讶 MSVC 2010 给了我编译这个 for 循环的错误。MSVS 禁止使用逗号运算符吗？

这是一个错误：

```
error C2062: type 'int' unexpected 
error C2143: syntax error: missing ';' before ')' 
```

如果我尝试将“int i”定义推出循环，我会得到：

```
error C2440: 'initializing': cannot convert from 'int' to 'std::vector' 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-10T09:27:20.420

[逗号运算符](http://en.wikipedia.org/wiki/Comma_operator)应该有两个表达式*作为*操作数。在它的右手边，你有`int i=0`一个看起来像一个*声明*，而不是一个*表达式*。

如果你删除它`int`，你就是在声明一个名为并分配或构造它的`std::vector<std::string>::iterator`变量，它不会进行类型检查。`i``3`

在实践中，将声明移到循环`int i=3;`之前（和之外） 。`for`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:28:38.763

您不能在 for 循环中声明两种不同的数据类型，因此您需要将向量或 i 推入循环中，但您可以分配值

# zend-framework - zend_Form_Element_Text 中的 javascript

> ID：13320842
> 
> 赞同：0
> 
> 时间：2012-11-10T09:26:21.253
> 
> 标签：zend-framework

我有一个自动排版应用程序。这样可行。用 php (search.php) 编写的服务器端。javascript (autocomplexion.js) 中的客户端。在文本字段中，这有助于输入城镇名称，城镇名称以在字段中输入的相同字母开头。search.php 对 towns.txt 中的城镇列表进行排序并选择匹配的城镇。autocomplexion.js 有助于在那些建议的城镇中进行选择。

我的问题：

在 Zend 中，我将在使用 Zend_Form_Element_Text 创建的文本字段中的表单 (zend_Form) 中使用它。如何将此字段与 autocomplexion.js 和 search.php 链接。我在哪里放 search.php 和 autocomplexion.js

感谢您的回答

帕特里克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T12:16:59.380

在适当控制器的 Action 中编写 PHP 搜索函数。将 JS 指向这个动作，我认为你已经完成了。

# build - 致命错误：向量：没有这样的文件或目录

> ID：13320843
> 
> 赞同：5
> 
> 时间：2012-11-10T09:26:57.887
> 
> 标签：build, android-ndk, compiler-errors, makefile

我有一个包含大量 C++ 原生代码的 Android 项目。但是，我无法构建我的库，因为它无法找到 vector.h 头文件。可能是什么问题 ？我在几乎所有页面中包含的样本。

```
#include <jni.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <vector> 
```

编译器能够在每个文件中找出除 vector.h 之外的所有其他头文件。关于我哪里出错的任何建议？

注意：文件名以`.cpp`我已经尝试过`#include <vector.h>`，`#include "vector.h"`

谢谢 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T15:07:43.417

通过在项目的 JNI 文件夹中创建 Application.mk 并将以下内容添加到其中，最终解决了该问题：-

```
APP_STL := stlport_static 
```

有关更多详细信息，请参阅[关于](https://stackoverflow.com/questions/4893403/cant-include-c-headers-like-vector-in-android-ndk)SO

# javascript - 尝试使用 Cordova-SQLitePlugin 时出现语法错误

> ID：13320850
> 
> 赞同：0
> 
> 时间：2012-11-10T09:27:44.403
> 
> 标签：javascript, cordova, phonegap-plugins

我正在尝试使用带有PhoneGap的预填充数据库，所以我在这篇文章的帮助下尝试[了](http://www.corporatezen.com/shipping_prepopulated_database_with_phonegap)这个插件[。](https://github.com/chbrody/Cordova-SQLitePlugin)这是我试图运行的代码：

JS：

```
function onLoad() {
    document.addEventListener("deviceready", onDeviceReady, false);
}

// Cordova is loaded and it is now safe to make calls Cordova methods
//
function onDeviceReady() {
    var db = window.sqlitePlugin.openDatabase(“test.db”, “1.0”, “testsstst”, 20000);

} 
```

HTML：

```
<html>
        <script type="text/javascript" src="js/index.js"></script>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Hello World</title>
    </head>
    <body onload="onLoad()">
        <div class="app">
            <h1>AAAA</h1>
        </div>
        <script type="text/javascript" src="cordova-2.2.0.js"></script>

    </body>
</html> 
```

我收到这些错误：

```
11-10 11:19:27.961: D/CordovaLog(9264): Uncaught SyntaxError: Unexpected token ILLEGAL
11-10 11:19:27.965: D/CordovaLog(9264): file:///android_asset/www/js/index.js: Line 8 : Uncaught SyntaxError: Unexpected token ILLEGAL
11-10 11:19:27.965: E/Web Console(9264): Uncaught SyntaxError: Unexpected token ILLEGAL at file:///android_asset/www/js/index.js:8
11-10 11:19:28.976: D/CordovaLog(9264): Uncaught ReferenceError: onLoad is not defined
11-10 11:19:28.976: D/CordovaLog(9264): file:///android_asset/www/index.html: Line 27 : Uncaught ReferenceError: onLoad is not defined
11-10 11:19:28.976: E/Web Console(9264): Uncaught ReferenceError: onLoad is not defined at file:///android_asset/www/index.html:27
11-10 11:19:28.996: D/Cordova(9264): onPageFinished(file:///android_asset/www/index.html) 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T17:35:42.687

很可能你的报价：

```
var db = window.sqlitePlugin.openDatabase(“test.db”, “1.0”, “testsstst”, 20000); 
```

对比

```
var db = window.sqlitePlugin.openDatabase("test.db", "1.0", "testsstst", 20000); 
```

# ruby-on-rails - 带有 kaminari 和 bootstrap 的自定义 css

> ID：13320851
> 
> 赞同：29
> 
> 时间：2012-11-10T09:28:20.063
> 
> 标签：ruby-on-rails, ruby, twitter-bootstrap, nokogiri

我尝试将分页与 kaminari 一起使用。我的项目使用了bootsrap css，结果太丑了：） ![在此处输入图像描述](../Images/9f8e4c68e6fac454034d23ec16311b96.png)

html 由 nokogiri 生成

```
<nav class="pagination">
    <span class="first">
  <a href="/admin/book_borrow/borrow?locale=en">« First</a>
</span>

    <span class="prev">
  <a rel="prev" href="/admin/book_borrow/borrow?locale=en">‹ Prev</a>
</span>

        <span class="page">
  <a rel="prev" href="/admin/book_borrow/borrow?locale=en">1</a>
</span>

        <span class="page current">
  2
</span>

        <span class="page">
  <a rel="next" href="/admin/book_borrow/borrow?locale=en&amp;page=3">3</a>
</span>

        <span class="page">
  <a href="/admin/book_borrow/borrow?locale=en&amp;page=4">4</a>
</span>

    <span class="next">
  <a rel="next" href="/admin/book_borrow/borrow?locale=en&amp;page=3">Next ›&lt;/a>
</span>

    <span class="last">
  <a href="/admin/book_borrow/borrow?locale=en&amp;page=4">Last »</a>
</span>

  </nav> 
```

我想要引导页面中的分页之类的东西，我该怎么做？请帮忙！

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-11-10T10:10:18.777

在我发布这个问题后，我找到了解决方案： [kaminari: A Scope & Engine based, clean,强大，可定制和复杂的 Rails 3 分页器](https://github.com/amatsuda/kaminari)。

只需转到控制台并键入：

```
rails generate kaminari:views bootstrap4 
```

它会将一些 Haml 文件下载到您的应用程序中，并更改视图。它还支持引导程序 2 和 3，例如

```
rails generate kaminari:views bootstrap3 
```

以下是 Kaminari 观点的一些主题：[https ://github.com/amatsuda/kaminari_themes](https://github.com/amatsuda/kaminari_themes)

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2014-05-05T06:15:22.120

只需将以下 css 添加到您的 application.css

```
.pagination a, .pagination span.current, .pagination span.gap {
    float: left;
    padding: 0 14px;
    line-height: 38px;
    text-decoration: none;
    background-color: white;
    border: 1px solid #DDD;
    border-left-width: 0;
}

.pagination {
    border-left: 1px solid #ddd;
    .first{
        padding : 0;
        float: none;
        border: none;
    }
    .prev {
        padding : 0;
        float: none;
        border: none;
    }
    .page{
        padding : 0;
        float: none;
        border: none;
    }
    .next{
        padding : 0;
        float: none;
        border: none;
    }
    .last{
        padding : 0;
        float: none;
        border: none;
    }
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-08-18T02:22:18.197

```
rails generate kaminari:views bootstrap4 
```

**可用主题：** bootstrap2、bootstrap3、bootstrap4、bourbon、bulma、foundation、foundation5、github、google、materialize、purecss、semantic_ui

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-08-13T17:28:49.587

几乎放弃了，直到我找到了“[与 Kaminari 一起分页](http://asciicasts.com/episodes/254-pagination-with-kaminari)”。

简而言之，在`rails g kaminari:default`进入 app/views/kaminari 下创建的视图并更改标签以适合您的样式之后。

我进入`_paginator.html.erb`并将 更改`<nav>`为 a`<div>`并将所有`<span>`标签替换为`<li>`.

为了获得适合我的应用程序的引导样式，我将`<div>`标签更改`_paginator.html.erb`为`<div class="pagination pull-right">`并将标签更改`<span class="page">`为 simple `<li>`。

有几个问题，也许其他人可以提供帮助：

1.  erb 在`_page.html.erb`活动时会更改当前页面的类。它弄乱了对齐方式，所以为了解决这个问题，`<%= link_to_unless page.current? ... %>`将`<%= link_to page ... %>`.

2.  插入“...”块的`_gap.html.erb`视图也被弄乱了。将其替换`<li><%= link_to '...' %></li>`为使其能够很好地内联。

我 8 周前刚开始编码，所以肯定有更好的方法来解决这个问题以及清理 1 和 2 的方法，但如果你只是想让事情看起来正确并按预期运行，请稍后再试一试并进行微调。

# javascript - JQuery live 不起作用

> ID：13320859
> 
> 赞同：3
> 
> 时间：2012-11-10T09:30:12.520
> 
> 标签：javascript, jquery

当有keyup时，我尝试将.live内容放入div中...我在这里查看了论坛主题，但没有找到答案...

为什么我的代码不起作用？我使用这个 JQuery：

```
<script type="text/javascript" src="jquery-ui-1.7.1.custom.min.js"></script> 

<script type="text/javascript">

$(document).ready(function() {
// When the document is ready set up our sortable with it's inherant function(s)

  $(".atleetnaamlink").live('keyup', function(){
    alert('test');
  });  
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T09:32:15.933

尝试`on`

```
$(selector).live(events, data, handler);                // jQuery 1.3+
$(document).delegate(selector, events, data, handler);  // jQuery 1.4.3+
$(document).on(events, selector, data, handler);        // jQuery 1.7+

$(document).ready(function() {
 $("body").on('keyup' ,'.atleetnaamlink', function(){
   alert('test');
 });  
}); 
```

**[演示](http://jsfiddle.net/pintu31/4Ksur/3/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T09:32:14.210

`.live()`已弃用。改为使用`.on()`。那可行。

```
$(".atleetnaamlink").on('keyup', function(){
    alert('test');
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-10T09:32:27.577

你失踪了`});`，**工作演示** [http://jsfiddle.net/JwRRH/](http://jsfiddle.net/JwRRH/)

希望它有所帮助`:)`，顺便说一句`live`已弃用，如果您热衷于检查一下[jQuery live 方法有什么问题？](https://stackoverflow.com/questions/11115864/whats-wrong-with-the-jquery-live-method/11115926#11115926)

**代码**

```
 $(document).ready(function() {
    // When the document is ready set up our sortable with it's inherant function(s)

      $(".atleetnaamlink").live('keyup', function(){
        alert('test');
      });  
    });​ 
```

**或者***

```
 $(document).ready(function() {
        // When the document is ready set up our sortable with it's inherant function(s)

          $(document).live('keyup',".atleetnaamlink", function(){
            alert('test');
          });  
        });​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T09:57:58.360

在上面添加：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script> 
<script type="text/javascript" src="jquery-ui-1.7.1.custom.min.js"></script> 
```

看看这是否有效。

如果它解决了您的问题，重要的是不要忘记接受它。

# java - java删除列表中的反向字符串

> ID：13320860
> 
> 赞同：1
> 
> 时间：2012-11-10T09:30:21.737
> 
> 标签：java, string, algorithm, reverse

我有结构数组或列表字符串，例如：

```
{ "A.B", "B.A", "A.C", "C.A" } 
```

我只想从列表中删除反向字符串：

```
{ "A.B", "A.C" } 
```

类型字符串如何使用以及如何删除反向字符串？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:43:05.720

检查这个

```
public static void main(String arg[]){
    String str = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

    List<String> strList = new ArrayList<String>(); 
    strList.add("A.B");
    strList.add("B.A");
    strList.add("A.C");
    strList.add("C.A");

    Iterator<String> itr = strList.iterator();
    while(itr.hasNext()){
        String [] split = itr.next().toUpperCase().split("\\.");

        if(str.indexOf(split[0])>str.indexOf(split[1])){
            itr.remove();
        }
    }

     System.out.println(strList);

} 
```

输出是

```
[A.B, A.C] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:46:02.497

一个代码胜过千言万语......

```
public class Tes {

    public static void main(String[] args) {

        ArrayList<String> arr = new ArrayList<String>();
        arr.add("A.B");
        arr.add("B.A");
        arr.add("A.C");
        arr.add("C.A");

        System.out.println(arr);

        for (int i = 0; i < arr.size(); i++) {

            StringBuilder str = new StringBuilder(arr.get(i));

            String revStr = str.reverse().toString();

            if (arr.contains(revStr)) {

                arr.remove(i);

            }
        }

        System.out.println(arr);

    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T09:34:43.637

要反转字符串，我建议使用 StringBuffer。

```
String sample = "ABC";
String reversed_sample = new StringBuffer(sample).reverse().toString(); 
```

要从 ArrayList 中删除对象，请使用 remove 方法。

```
String sample = "ABC";String to_remove = "ADS";
ArrayList<String> list = new ArrayList<Sample>();
list.add(to_remove);list.add(sample );
list.remove(to_remove); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-10T09:35:49.497

您可以非常简单地`O(n^2)`及时完成此操作。伪代码：

```
For every element1 in the list:
     For every element2 in the list after element1:
         if reverse(element2).equals(element1)
             list.remove(element2) 
```

为了让您的生活更轻松并防止 ConcurrentModificationException 使用`Iterator`. 我不会给你代码，因为它是学习如何在 Java 中正确使用迭代器的一个很好的例子。

反向方法：

```
public String reverse(String toReverse) {
    return new StringBuilder(toReverse).reverse().toString();
} 
```

编辑：另一种反向方法：

```
public String reverse(String toReverse) {
     if (toReverse != null && !toReverse.isEmpty) {
         String[] elems = toReverse.split(".");
     }
     StringBuilder reversedString = new StringBuilder("");
     for (int i = elems.length - 1; i >= 0; i++) {
          reversedString.append(elems[i]);
          reversedString.append(".");
     }
     return reversedString.toString();
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-10T09:40:56.610

您可以迭代列表，同时在其中维护一个`Set<String>`元素。

当你这样做时 - 创建一个新列表（这将是输出）并且：

```
 if (!set.contains(current.reverse())) {
       outputList.append(current)
       set.add(current)
   } 
```

这个解决方案是`O(n*|S|)`平均的，其中`n`是元素的数量，`|S|`是平均字符串长度。

**Java 代码：**

```
private static String reverse(String s) { 
    StringBuilder sb = new StringBuilder();
    for (int i = s.length()-1 ; i >=0 ; i--) { 
        sb.append(s.charAt(i));
    }
    return sb.toString();
}
private static List<String> removeReverses(List<String> arr) { 
    Set<String> set = new HashSet<String>();
    List<String> res = new ArrayList<String>();
    for (String s : arr) { 
        if (!set.contains(reverse(s))) {
            res.add(s);
            set.add(s);
        }
    }
    return res;
}
public static void main(String[]args){
    String[] arr = { "a.c" , "b.c", "c.a", "c.b" };
    System.out.println(removeReverses(arr));
} 
```

将产生：

```
[a.c, b.c] 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-10T09:44:38.053

您可以使用 a`HashMap`来确定一个字符串是否是列表中其他字符串的反转版本。您还需要一个实用函数来反转给定的字符串。看看这个片段：

```
String[] input = { "A.B", "B.A", "A.C", "C.A" };
HashMap<String, String> map = new HashMap<String, String>();
String[] output = new String[input.length];
int index = 0;

for (int i = 0; i < input.length; i++) {
    if (!map.containsKey(input[i])) {
        map.put(reverse(input[i]), "default");
        output[index++] = input[i];
    }
} 
```

示例字符串反转方法可能是这样的：

```
public static String reverse(String str) {
    String output = "";
    int size = str.length();
    for (int i = size - 1; i >= 0; i--)
        output += str.charAt(i) + "";
    return output;
} 
```

**输出：** 输出数组将包含这些元素 =>`[A.B, A.C, null, null]`

# mysql - 使用 mysql 在产品存在时插入或更新

> ID：13320866
> 
> 赞同：2
> 
> 时间：2012-11-10T09:31:34.963
> 
> 标签：mysql, sql

main_product 表

```
productid outward shopid
    333      2      44//present
    343      4      44//present
    353      5      44//present
    363      1      44//present
    373      2      44//not present 
```

min_product 表

```
productid outward shopid

333      1      44
343      1      44
353      1      44
363      1      44 
```

* * *

```
SELECT DISTINCT (A.productid),A.outward, B.productid,B.outward
FROM main_product  A
INNER JOIN min_product B on B.productid=A.product_id
where A.shopid='44' and B.shopid='44' 
```

* * *

我的问题我如何`INSERT OR UPDATE`在一个查询中使用 mysql 通过检查它是否存在如果存在更新其他插入

像这样的东西？

```
INSERT
INTO    mytable (key, value)
VALUES  ($newkey, $newvalue)
ON DUPLICATE KEY UPDATE
SET     value = $newvalue 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T19:55:13.290

通常，在您添加记录开始之前，您不会有 product_id。所以你可以先检查你的变量并用它来决定，或者你可以`if exists (query...)`像以前问过的问题一样使用，[如果存在则显示mysql](https://stackoverflow.com/questions/5840138/mysql-if-exists)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:59:20.310

您可以在此处创建一个`Procedure`首先插入的错误处理程序块，如以下和如果`1062`在 MySQL 中发现行存在错误，则更新将为您工作。

已编辑

```
 DELIMITER $$

DROP PROCEDURE IF EXISTS `NAME_SP` $$
CREATE  PROCEDURE `NAME_SP`(IN bpin_d int(11))
    READS SQL DATA
begin

DECLARE out_status text;

DECLARE CONTINUE HANDLER FOR 1062
               SET out_status= 'RIN';
INSERT INTO CANDIDATE_POOL(BPIN) VALUES (bpin_d);
IF(out_status <> '') THEN
UPDATE CANDIDATE_POOL u SET u.BPIN = bpin_d;
SET out_status = '';
END IF;

END $$

DELIMITER ; 
```

# java - 在操作类中检索列表框值

> ID：13320868
> 
> 赞同：0
> 
> 时间：2012-11-10T09:31:55.560
> 
> 标签：java, jsp

我的 jsp 中有两个列表框，其中我根据用户之前的下拉选择动态检索第一个列表框的值。然后，用户可以选择将选定的值从第一个列表框移动到第二个列表框。我想在我的操作类中检索第二个列表框的值。我尝试了以下但没有成功。请帮忙...

> String[] listbox = request.getParameterValues("ToLB");

以下是我需要从中检索值的第二个列表框，

```
<select multiple size="8" name="ToLB" style="width:278px;" id="customerListToId"></select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T12:16:13.833

自己解决了.. jQuery 为上述问题工作..

# objective-c - Xcode 在图像中标记用户

> ID：13320870
> 
> 赞同：-1
> 
> 时间：2012-11-10T09:31:59.810
> 
> 标签：objective-c, ios, xcode, image, tags

我想做一些类似于 facebook 标签机制的东西。我将向用户显示建筑物的图像，我希望他们能够标记自己目前在哪个房间。该位置将被发送到 Web 服务器，因此所有用户都可以看到其他人的位置。这可能吗？怎么做？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T11:56:19.553

这很可能是可能的。我可以建议以下解决方案：将建筑物照片/方案和房间信息存储在服务器上。在您的应用程序中，您将显示图像（可能在 ScrollView 中），在那里您将只有 TapGestureRecognizer 它将根据点击的坐标识别房间。在这种解决方案的情况下，您将不得不手动存储与房间对应的每个点击区域的信息。但这是最有可能的情况。

# html - 使用正则表达式检索特殊字符

> ID：13320874
> 
> 赞同：0
> 
> 时间：2012-11-10T09:32:16.750
> 
> 标签：html, regex, vb.net

我正在尝试使用正则表达式从网站检索一些信息。我最终得到了一个包含特殊字符的 html 实体的输出。

例如，而不是`Côté`我得到`C&ocirc;t&eacute`.

请帮助检索实际的字符串。TIA。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T13:34:21.357

HtmlDecode 应该适合你：http: [//msdn.microsoft.com/en-us/library/7c5fyk1k.aspx](http://msdn.microsoft.com/en-us/library/7c5fyk1k.aspx)

```
s = HttpUtility.HtmlDecode(s) 
```

# php - 配置 php 以与 apache 一起使用

> ID：13320877
> 
> 赞同：1
> 
> 时间：2012-11-10T09:32:27.863
> 
> 标签：php, apache, apache2

我在 RHEL5 上使用 Apache 2.2.3 服务器。在我的系统中，安装了 php（PHP 5.1.6）。我放置了一个简单的php脚本

```
<?php
 phpinfo();
?> 
```

在我的 /var/www. 但是，当我启动我的服务器（它启动正常）并转到 php 页面时，它没有显示任何内容。我的本地机器安装了 ubuntu，我可以在其中正确查看文件。

根据此处提供的信息（[http://dan.drydog.com/apache2php.html](http://dan.drydog.com/apache2php.html)），我做了以下事情：

1.  在 /etc/httpd/conf/httpd.conf 中添加了以下行

    ```
    LoadModule php5_module  modules/libphp5.so
    AddHandler php5-script  .php 
    AddType text/html   .php
    AddType application/x-httpd-php-source phps 
    ```

2.  重新启动httpd，

    ```
    service httpd restart 
    ```

但我仍然没有看到任何结果。我究竟做错了什么？

# .net - 在 HTTP 响应中读取和解析 XML 的简单方法？

> ID：13320883
> 
> 赞同：1
> 
> 时间：2012-11-10T09:33:37.273
> 
> 标签：.net, xml, xml-parsing, httpwebrequest, httpwebresponse

我目前正在使用 an从网页`HttpWebRequest`获取响应。`HTTP`响应在`XML`.

是否有任何特定的类`.NET 2.0`将有助于接收此响应`XML`然后对其进行解析以便对其进行处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T14:04:03.983

[http://msdn.microsoft.com/en-US/library/system.xml.xmldocument.loadxml(v=vs.80).aspx](http://msdn.microsoft.com/en-US/library/system.xml.xmldocument.loadxml%28v=vs.80%29.aspx)

`XmlDocument myXmlDocument = System.Xml.XmlDocument.Load(myResponseString)`

然后，您可以使用 XmlDocument 将元素和属性循环到您想要的内容。

# php - 在类似 URL 的字符串中匹配不带斜线的正则表达式

> ID：13320886
> 
> 赞同：2
> 
> 时间：2012-11-10T09:33:46.507
> 
> 标签：php, regex

我有以下正则表达式`#^en/cities/(.*?)/$#`，我希望它匹配任何内容，但在第一个斜杠处停止。

即，如果有人设法键入该 URL，它应该匹配 'paris' 而不是 'paris/france'。

我以为我已经对问号表示不贪心，但显然不是。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:45:54.757

使用否定字符类。

```
#^en/cities/([^/]+)/$# 
```

在您的正则表达式中，非贪婪失败了，因为您将最后一个斜线锚定到末尾（`$`）。删除它也会使您的正则表达式工作：

```
#^en/cities/.*?/# 
```

# wiki - RTF 到 Wiki 转换器？

> ID：13320888
> 
> 赞同：7
> 
> 时间：2012-11-10T09:34:04.137
> 
> 标签：wiki, markup, rtf

我想将 100 多个 RTF 文件转换为 Wiki Markup，但我只能在网络上甚至在 StackOverflow 上找到“Wiki to RTF”转换器。

我只需要**RTF --> Wiki Markup**

外面有这样的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-19T13:46:32.023

我只是问*错了*问题。

做了一些研究，发现没有将**RTF**直接转换为“ **Wiki**格式”的转换器。

“更好”的问题：*将 Word 文件另存为 Wiki 标记*。

有一些使用**Microsoft Word**保存为 .txt（Wiki 标记）的方法：

*   [http://www.mediawiki.org/wiki/Extension:Word2MediaWikiPlus](http://www.mediawiki.org/wiki/Extension:Word2MediaWikiPlus)
*   [http://www.microsoft.com/en-us/download/details.aspx?id=12298](http://www.microsoft.com/en-us/download/details.aspx?id=12298)
*   [http://techwiki.openstructs.org/index.php/Wiki_converters](http://techwiki.openstructs.org/index.php/Wiki_converters)
*   [http://www.sumptionexperience.com/2008/03/convert-word-doc-or-webpage-to-wiki.html](http://www.consumingexperience.com/2008/03/convert-word-doc-or-webpage-to-wiki.html)

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-03T20:33:08.593

数百个文件可能很笨拙，但我使用 wikEd 将 RTF 和 Word 格式的文本转换为 wiki 标记。

Wikedbox 是一个可用的 wikEd 实现，无需安装它： [http ://www.appropedia.org/index.php?title=Appropedia:Wikedbox&action=edit](http://www.appropedia.org/index.php?title=Appropedia:Wikedbox&action=edit)

'''Wikedbox 帮助您将 HTML（网络格式内容）转换为 MEDIAWIKI。'''。[[Appropedia:WikEd]] 上的更多说明。

指示：

1.  如果您未处于编辑模式，请立即单击“编辑”选项卡。

2.  粘贴您的内容。

3.  点击红色【W】进行转换。（中排，左起第二个街区。）

4.  您的文本已准备好在您的 wiki 页面上复制和使用。（您可能需要进行进一步的更正。）

5.  '''不要保存这个页面'''。（无论如何，除非您是管理员，否则您将被阻止这样做。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-12T14:46:33.807

您可以使用[Pandoc](http://johnmacfarlane.net/pandoc/)：

```
pandoc -s README -o example.rtf 
```

这会将您的文件转换为 Markdown。我不知道您要使用哪个 Wiki 以及它是否理解 Markdown，但我认为您也可以将其转换为 MediaWiki 或其他输出格式（请参阅 Pandoc 用户手册）。

# google-drive-api - 将 Google Drive 或 Box 用作 Web 应用程序的图像存储

> ID：13320889
> 
> 赞同：1
> 
> 时间：2012-11-10T09:34:20.987
> 
> 标签：google-drive-api

是否可以让我的网络应用程序允许用户上传图像并将上传的图像存储在 Google Drive 或 Box 帐户中？不是用户的 Google Drive 或 Box 帐户，而是属于 Web 应用程序的帐户。

如果这是可能的，任何关于如何去做的指针都将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T16:51:09.183

是的，这完全可以使用 Google Drive SDK 实现。您的应用程序可以创建一个[应用程序拥有的帐户](https://developers.google.com/drive/service-accounts)，您的应用程序将能够通过该帐户像往常一样使用 API 上传和下载文件。

您当然可以为此使用普通帐户，但是您需要至少手动授权一次才能存储令牌。

（不知道盒子）

# paypal - 请求被中止：无法创建 SSL/TLS 安全通道。

> ID：13320900
> 
> 赞同：3
> 
> 时间：2012-11-10T09:35:57.333
> 
> 标签：paypal, paypal-sandbox

我想实现 Paypal dodirect 方法，用户可以直接在我的网站上付款，而不是重定向到用户

所以为此我已将此 URL 添加为[https://www.sandbox.paypal.com/wsdl/PayPalSvc.wsdl](https://www.sandbox.paypal.com/wsdl/PayPalSvc.wsdl)

我正在使用以下代码

```
PayPalAPIAAInterfaceClient objpaypalapiaainterfaceclient = new PayPalAPIAAInterfaceClient("paypalapiaa");
        CustomSecurityHeaderType objcustomsecurityheadertype = new CustomSecurityHeaderType();
        objcustomsecurityheadertype.Credentials = new UserIdPasswordType();
        objcustomsecurityheadertype.Credentials.Signature = "a8ft-8ji.2tzocnfshfjj4ahgxn4avlxzply8bmsbupxafkbty2--c6p";
        objcustomsecurityheadertype.Credentials.Username = "fred_1350925179_biz_api1.gmail.com";
        objcustomsecurityheadertype.Credentials.Password = "1350925199";

        DoDirectPaymentReq objdodirectpaymentreq = new DoDirectPaymentReq();
        objdodirectpaymentreq.DoDirectPaymentRequest = new DoDirectPaymentRequestType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails = new DoDirectPaymentRequestDetailsType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentAction = new PaymentActionCodeType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentAction = PaymentActionCodeType.Sale;
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentDetails = new PaymentDetailsType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard = new CreditCardDetailsType();
        //objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentDetails.InvoiceID = "1";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.IPAddress = Request.ServerVariables["remote_addr"].ToString();

        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CreditCardType = CreditCardTypeType.MasterCard;

        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentDetails.OrderTotal = new BasicAmountType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner = new PayerInfoType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.PayerName = new PersonNameType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentDetails.OrderTotal.currencyID = CurrencyCodeType.USD;
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Address = new AddressType();
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.PaymentDetails.OrderTotal.Value = "120";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CreditCardNumber ="1111222233334444";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CVV2 = "258";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.ExpMonth = 9;
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.ExpYear = 2013;
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Payer = "rahularyansharma@gmail.com";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.PayerName.FirstName = "Shakti";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.PayerName.LastName = "Kapoor";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Address.Street1 ="test address";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Address.CityName = "Atlanta";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Address.StateOrProvince = "ga";
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Address.Country = CountryCodeType.US;
        objdodirectpaymentreq.DoDirectPaymentRequest.DoDirectPaymentRequestDetails.CreditCard.CardOwner.Address.PostalCode = "12345";
        DoDirectPaymentResponseType objdodirectpaymentresponsetype = objpaypalapiaainterfaceclient.DoDirectPayment(ref objcustomsecurityheadertype, objdodirectpaymentreq); 
```

现在，当我运行此代码时会抛出以下异常

**' 请求被中止：无法创建 SSL/TLS 安全通道。说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。异常详细信息：System.Net.WebException：请求已中止：无法创建 SSL/TLS 安全通道。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-10-30T15:46:23.267

您可以使用[https://www.ssllabs.com/ssltest确认](https://www.ssllabs.com/ssltest)[https://www.sandbox.paypal.com](https://www.sandbox.paypal.com)的 SSL 协议 。屏幕截图显示它支持 TLS 1.2在进行 httpclient 调用时，您需要在代码中添加以下两行：[![在此处输入图像描述](../Images/f4733c04d455446d5b4c343716314f63.png)](https://i.stack.imgur.com/2xeIz.png)

ServicePointManager.Expect100Continue = true; ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;

示例：[![在此处输入图像描述](../Images/9600dade007521880711ce15ed2c17f2.png)](https://i.stack.imgur.com/KTVKZ.png) 实现应该解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-28T16:59:51.767

抱歉，我无法将此添加为评论/问题。

似乎贝宝的证书之一不在受信任的列表中。

您可以尝试下载贝宝根证书并将其安装为受信任的 CA 吗？

我认为这两个链接可以帮助你： [https](https://www.sslshopper.com/ssl-certificate-not-trusted-error.html) ://www.sslshopper.com/ssl-certificate-not-trusted-error.html 和 [http://raysilvadotnet.wordpress.com/2014/02/13/problema-system -net-webexception-the-request-was-aborted-could-not-create-ssltls-secure-channel/](http://raysilvadotnet.wordpress.com/2014/02/13/problema-system-net-webexception-the-request-was-aborted-could-not-create-ssltls-secure-channel/) （对不起，不能插入超过 2 个链接作为正常链接）

另外，请确保您通过登录名/密码而不是证书进行身份验证。如果您使用 API 证书，则应遵循[此链接的最后一段](https://developer.paypal.com/docs/classic/api/apiCredentials/)

# android - 使用 Achartengine 库在 android 中创建条形图时发生 Nullpointer 异常

> ID：13320901
> 
> 赞同：0
> 
> 时间：2012-11-10T09:36:22.250
> 
> 标签：android, bar-chart

在android中创建条形图时有没有人遇到过这种情况

我正在尝试使用 Achartengine 在 android 中创建条形图。但我实际上正在获取输入值，即。通过使用 Web 服务来获取x 和 y 轴值**（用于创建条形图）**。

我的 logcat 是这样显示的。这是什么意思？

**LOGCAT**

```
11-10 14:45:37.483: W/KeyCharacterMap(421): No keyboard for id 0
11-10 14:45:37.483: W/KeyCharacterMap(421): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
11-10 14:45:44.044: D/AndroidRuntime(421): Shutting down VM
11-10 14:45:44.044: W/dalvikvm(421): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
11-10 14:45:44.054: E/AndroidRuntime(421): FATAL EXCEPTION: main
11-10 14:45:44.054: E/AndroidRuntime(421): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.xmlparsing_test/com.example.xmlparsing_test.BarGraphActivity}: java.lang.NullPointerException
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.os.Looper.loop(Looper.java:123)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-10 14:45:44.054: E/AndroidRuntime(421):  at java.lang.reflect.Method.invokeNative(Native Method)
11-10 14:45:44.054: E/AndroidRuntime(421):  at java.lang.reflect.Method.invoke(Method.java:521)
11-10 14:45:44.054: E/AndroidRuntime(421):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-10 14:45:44.054: E/AndroidRuntime(421):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-10 14:45:44.054: E/AndroidRuntime(421):  at dalvik.system.NativeStart.main(Native Method)
11-10 14:45:44.054: E/AndroidRuntime(421): Caused by: java.lang.NullPointerException
11-10 14:45:44.054: E/AndroidRuntime(421):  at com.example.xmlparsing_test.BarGraphActivity.buildBarDataset(BarGraphActivity.java:133)
11-10 14:45:44.054: E/AndroidRuntime(421):  at com.example.xmlparsing_test.BarGraphActivity.DrawGraph(BarGraphActivity.java:77)
11-10 14:45:44.054: E/AndroidRuntime(421):  at com.example.xmlparsing_test.BarGraphActivity.onCreate(BarGraphActivity.java:46)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-10 14:45:44.054: E/AndroidRuntime(421):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
11-10 14:45:44.054: E/AndroidRuntime(421):  ... 11 more
11-10 14:45:45.794: I/Process(421): Sending signal. PID: 421 SIG: 9 
```

**条形图活动.java**

```
public class BarGraphActivity extends Chart 
{

int[] order,freight,margin;

int[] x_axis   = order;
int[] y_axis   = freight;
int[] mpercent = margin;

public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main1);

    Bundle extras = getIntent().getExtras();
    if(extras != null)
    {   
        order   = extras.getIntArray("gotonextpage");
        freight = extras.getIntArray("gotonextpage");
        margin  = extras.getIntArray("gotonextpage");

    } else {}

    /*x_axis = new int[1];
    y_axis = new int[1];

    x_axis[0] = getIntent().getIntExtra("orderNo", 90);
    y_axis[0] = getIntent().getIntExtra("freightRate", 80);*/

    DrawGraph();
}

public void DrawGraph() 
{
    String[] titles = new String[] { " Barcharts", "" };
    List<int[]> values = new ArrayList<int[]>();

    values.add(order);
    values.add(freight);
    values.add(margin);

    int[] colors = new int[] { Color.WHITE, Color.BLACK };

    XYMultipleSeriesRenderer renderer = buildBarRenderer(colors);
    renderer.setOrientation(Orientation.HORIZONTAL);

    setChartSettings(renderer, "some texts", " ", " ", 0, order, 0, freight, Color.RED, Color.LTGRAY);

    renderer.setXLabels(1);
    renderer.addXTextLabel(2, "orderNo");
    renderer.addYTextLabel(2, "freight");
    renderer.setPanEnabled(true, false);

    int length = renderer.getSeriesRendererCount();

    for (int i = 0; i < length; i++) 
    {
        SimpleSeriesRenderer seriesRenderer = renderer.getSeriesRendererAt(i);
        seriesRenderer.setDisplayChartValues(true);
    }
    ChartFactory.getBarChartIntent(this, buildBarDataset(titles, values), renderer, Type.DEFAULT);
}

public XYMultipleSeriesRenderer buildBarRenderer(int[] colors) 
{

    // creates a SeriesRenderer and initializes it with useful default values as well as colors

    XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();

    renderer.setAxisTitleTextSize(15);
    renderer.setChartTitleTextSize(20);
    renderer.setLabelsTextSize(15);
    renderer.setLegendTextSize(15);

    int length = colors.length; 

    for (int i = 0; i < length; i++) 
    {
        SimpleSeriesRenderer r = new SimpleSeriesRenderer();
        r.setColor(colors[i]);
        renderer.addSeriesRenderer(r);
    }

    return renderer;
}

public void setChartSettings(XYMultipleSeriesRenderer renderer, String title, String xTitle, String yTitle,
int xMin, int[] order2, int yMin, int[] freight2, int axesColor, int labelsColor) 
{

// sets lots of default values for this renderer

    renderer.setChartTitle(title);
    renderer.setXTitle(xTitle);
    renderer.setYTitle(yTitle);
    renderer.setXAxisMin(xMin);
    renderer.setYAxisMin(yMin);
    renderer.setAxesColor(axesColor);
    renderer.setLabelsColor(labelsColor);
    renderer.setApplyBackgroundColor(true);
    renderer.setBackgroundColor(Color.BLACK);
}

public XYMultipleSeriesDataset buildBarDataset(String[] titles, List<int[]> values) 
{
    // adds the axis titles and values into the dataset

    XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

    int length = titles.length;

    for (int i = 0; i < length; i++) 
    {
        CategorySeries series = new CategorySeries(titles[i]);
        int[] v = values.get(i);
        int seriesLength = v.length;

        for (int k = 0; k < seriesLength; k++) 
        {
            series.add(v[k]);
        }

        dataset.addSeries(series.toXYSeries());
    }
    return dataset;
    }
} 
```

**图表.java**

```
public class Chart extends Activity 
{
EditText edt1, edt2;
TextView txtv1;
Button btn;

String orderNo = "";
int freightRate = 0;
int marginPercent = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    edt1 = (EditText) findViewById(R.id.editText1);
    edt2 = (EditText) findViewById(R.id.editText2);
    btn = (Button) findViewById(R.id.button1);

    btn.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            getTMSChart(edt1.getText().toString(), edt2.getText().toString());

            Intent intnt = new Intent(v.getContext(), BarGraphActivity.class);

            intnt.putExtra("orderNo", orderNo); 
            intnt.putExtra("freightRate", freightRate);
            intnt.putExtra("marginPercent", marginPercent);

            startActivity(intnt);
        }
    });
}

public void getTMSChart(String FromDate, String ToDate) 
{

    System.setProperty("http.keepAlive", "false");
    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

    envelope.dotNet = true;

    String METHOD = "GetTMSChart";
    String NAMESPACE = "http://tempuri.org/";
    String SOAP_ACTION = "http://tempuri.org/GetTMSChart";
    String URL = "http://54.251.60.177/TMSOrdersService/TMSDetails.asmx";

    SoapObject request = new SoapObject(NAMESPACE, METHOD);
    request.addProperty("FromDate", FromDate.trim());
    request.addProperty("ToDate", ToDate.trim());

    envelope.setOutputSoapObject(request);
    HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

    try {

        androidHttpTransport.call(SOAP_ACTION, envelope);
        SoapObject result = (SoapObject) envelope.bodyIn;

        SoapObject root = (SoapObject) ((SoapObject) (result).getProperty(0)).getProperty("NewDataSet");

        int tablesCount = root.getPropertyCount();

        for (int i = 0; i < tablesCount; i++) 
        {
            SoapObject table = (SoapObject) root.getProperty(i);

            orderNo = table.getPropertyAsString("Order_No").replace("OR", "");
            freightRate = Integer.parseInt(table.getPropertyAsString("Freight_Rate"));
            marginPercent = Integer.parseInt(table.getPropertyAsString("Margin_Percent"));

        //  Toast.makeText(getApplicationContext(), "", Toast.LENGTH_LONG).show();

        for(int j = 0; j < tablesCount; j++)
        {
            int ord,fre,marg;

            Bundle extras = getIntent().getExtras();

            if(extras!=null )
            {
                ord  = extras.getInt("gotonextpage");
                fre  = extras.getInt("gotonextpage");
                marg = extras.getInt("gotonextpage");
                }

            else{}
            }   
        }
    }
catch (Exception e) 
{
    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_LONG).show();
    e.printStackTrace();
    }
}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T10:27:06.630

您没有正确阅读额外的意图。这只是一个问题。还有很多其他的错误。

您使用此代码添加了额外的意图：

```
intnt.putExtra("orderNo", orderNo); 
intnt.putExtra("freightRate", freightRate);
intnt.putExtra("marginPercent", marginPercent); 
```

你得到它们：

```
order   = extras.getIntArray("gotonextpage");
freight = extras.getIntArray("gotonextpage");
margin  = extras.getIntArray("gotonextpage"); 
```

键和类型都错了。

您正在通过这些变量将额外的数据传递给意图：

```
String orderNo = "";
int freightRate = 0;
int marginPercent = 0; 
```

要将其存储在您使用的目标活动中

```
int[] order,freight,margin; 
```

为什么？

# c++ - 最奇怪的 C++ 堆栈 empty() 错误

> ID：13320904
> 
> 赞同：2
> 
> 时间：2012-11-10T09:37:16.740
> 
> 标签：c++, stl

我的程序崩溃，因为它到达了它不应该到达的 stack.top()，因为堆栈是空的。我有一个 if 来检查：

```
 if(!st.empty());
        //do stuff 
```

（我已经初始化

```
stack<int> st; 
```

）。

但是虽然我可以在调试中看到堆栈是空的，但它仍然在 if! 我什至写了这段代码：

```
 if(st.size()>0);
        cout<<st.size(); 
```

它打印0！发生了什么事，我该如何解决？谢谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-10T09:40:39.510

if 语句后的分号是问题

**坏的：**

```
if(st.size()>0); // <-- this should not be here!!!!!!!!
    cout<<st.size(); 
```

**正确重写：**

```
if(st.size()>0) {
    cout<<st.size();
} 
```

此外，正如@WhozCraig 指出的那样，另一个语句也有一个分号！

**坏的：**

```
if(!st.empty()); // <--BAD!
    //do stuff 
```

**好的：**

```
if(!st.empty()) {
    //do stuff
} 
```

**总是！！**使用带有分支（if、switch）和循环（for、while、do-while）的括号！！！它的回报很大！（更不用说，每次写这样一个没有括号的块时，一只可爱的小猫都会死！）**总是！**

例如，这可能会在调试中扼杀一天：

**坏的：**

```
int i=0;
...
while(i++<1000);
    doStuff(i); 
```

**好的：**

```
int i=0;
...
while(i++<1000) {
    doStuff(i);
} 
```

**当心**（正如@WhozCraig 再次指出的那样）这**不会自动解决分号终止的分支和循环语句的问题**，因为这是完全有效的语法：

```
if (condition);{ ...code... } 
```

或者

```
if (condition);
{ 
     ...code... 
} 
```

但是**在我的观点和经验中**（这完全是主观的！） - 因为我自己已经陷入这个陷阱几次 - 我经历过当我在上述陈述之后有大括号时，我从来没有犯过错误再次输入分号。遵守这个约定是灵丹妙药——对我来说，其他人也可以从中受益。另外，如果那里有一个分号，只要看一眼，它就会立即引起我的注意，因为它是一种**“不常见的字符模式”**。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-10T09:40:48.873

没有“在 if”中，因为您的 if 仅包含一个空语句：

```
if(!st.empty());
        //do stuff -- that's outside the if!!!! 
```

（背景：语法是`if (condition) block`，`block`既可以是语句也可以是语句块。`;`是一个空语句，因此`if (...) ;`表示“如果满足条件，则什么也不做”——这可能永远不是你的想法。）

你应该写

```
if(!st.empty()) {
        //do stuff -- now it's inside!
} 
```

当心！不要写

```
if(!st.empty()); // notice the semicolon making it wrong; without the semicolon it would be ok
{
        // outside again
} 
```

# c# - 字符串格式异常

> ID：13320910
> 
> 赞同：0
> 
> 时间：2012-11-10T09:38:38.943
> 
> 标签：c#, string, exception

我正在做一个询问你名字的活动，如果插入了一个数字，它应该告诉你输入是无效的。

这是我的代码：

```
 try {
            Console.Write("Enter your first name: ");
            string fname = Console.ReadLine();
            Console.Write("You're Name is: " + fname);

        }
        catch (Exception) {
            Console.Write("INVALID NAME");
        } 
```

样本输出：

```
Enter you're first name: 123hjay
INVALID NAME!! 
```

我知道我的例外是错误的；我需要你们的帮助。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-10T09:47:39.103

您似乎误解了异常的目的。

*当程序在执行*过程中遇到错误时会引发异常。例如，将字母分配给 int 会引发错误。虽然意见不一，但我倾向于不处理有异常的用户输入错误。此外，请考虑您在代码中编写的逻辑。程序怎么会知道在名为 fname 的变量中输入数字是不正确的？

将逻辑写入程序以测试输入错误，然后返回适当的响应。在您的情况下，如果您想确保没有输入数字，您可以执行以下操作：

```
if (name.Any(char.IsNumber))
{
    Console.WriteLine("Invalid Name.");
}
Console.ReadLine(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:52:24.210

正如我的评论所说（在问题中），我并没有真正明白你在问什么，因为它不会抛出任何东西，但如果你确实希望它抛出错误（评论也建议），这个应该有帮助：

```
 Console.Write("Enter you're first name: ");
        string fname = Console.ReadLine();

        foreach (var character in fname)
        {
            if (Char.IsDigit(character))
                throw new Exception("Numbers are not allowed.");
        }

        Console.Write("You're Name is: " + fname); 
```

它非常直截了当，您可以用英语阅读并理解我所做的事情。您可以随意修改代码，使用 Visual Studios IntelliSense 查看类似的功能，并根据您的需要对其进行调整。

如果需要，当然可以添加 try & catch 块。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-11-10T09:45:20.647

为了回复的礼貌，这里是答案。

提示：你的例外是正确的！

在您的控制台“Glee”中输入它不会抛出异常。

如果您键入“7337”，它会抛出异常。

尝试使用： fname.ToString();

# sql-server-2008-r2 - sp_MScheckIsPubOfSub 存储过程的问题

> ID：13320913
> 
> 赞同：2
> 
> 时间：2012-11-10T09:39:02.193
> 
> 标签：sql-server-2008-r2, replication, merge-replication

我们设置了 SQL Server 2008 R2 合并复制。

我们有 20 多个推送订阅。

有时我在同步期间收到以下错误消息：

> *错误消息：合并过程无法正确设置订阅状态。*
> *（来源：MSSQL_REPL，错误号：MSSQL_REPL-2147200963）*
> *找不到存储过程“dbo.sp_MScheckIsPubOfSub”。*
> *（来源：MSSQLServer，错误号：2812）*

我找到了上述 SP 的代码，并针对订阅者数据库运行了它，一切正常。

我的问题是：为什么这个存储过程会不时被删除？以及如何解决此问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T22:05:27.040

请检查 sysmergesubscriptions 中已删除订阅的孤立行并将其删除。例如，失败的订阅者可能在 sysmergesubscriptions 中有重复的条目，其中一个是以前删除的订阅的孤立条目。

这一直是我过去的客户ymmv出现此错误和解决方案的原因。我希望这有帮助。

# gcc - linux 将程序集与 gcc 链接会产生许多错误

> ID：13320914
> 
> 赞同：0
> 
> 时间：2012-11-10T09:39:17.373
> 
> 标签：gcc, assembly, x86, nasm

我正在尝试编译和链接一个简单的“你好，世界！” GCC 的程序。该程序使用“printf”C 函数。我遇到的问题是终端抛出了多个错误。我正在运行 Archlinux，使用 NASM 编译，与 GCC 链接。这是我的代码：

```
; ----------------------------------------------------------------------------
; helloworld.asm
; 
; Compile: nasm -f elf32 helloworld.asm
; Link: gcc helloworld.o
; ----------------------------------------------------------------------------
SECTION .data
    message db "Hello, World",0
SECTION .text
    global  main
    extern  printf

    section .text
_main:
    push    message
    call    printf
    add     esp, 4
    ret 
```

我收到的错误如下：

```
/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/libgcc.a     when searching for -lgcc
/usr/bin/ld: cannot find -lgcc
collect2: error: ld returned 1 exit status 
```

有人可以告诉我是什么导致了这些错误以及我需要做些什么来修复它们吗？

提前致谢，

莱利

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:44:42.520

对于这样的事情，你应该首先了解到底`gcc`是在做什么。所以使用

```
 gcc -v helloworld.o -o helloworld 
```

正在发生的事情是你有一个 64 位 Linux 并在其中链接一个 32 位对象。所以尝试

```
 gcc -m32 -v helloworld.o -o helloworld 
```

但我认为你今天应该避免编码汇编（优化编译器比你可以合理地做得更好）。如果您绝对需要一些汇编指令，`asm`请在您的 C 代码中添加一些。

顺便说一句，您可以编译`gcc -fverbose-asm -O -wall -S helloworld.c`并查看生成的`helloworld.s`; 你也可以将`.s`文件传递给`gcc`

# c# - 找不到文件 'PATH\bin\Release\APPNAME\Controls\xyz.xaml'

> ID：13320916
> 
> 赞同：0
> 
> 时间：2012-11-10T09:39:34.890
> 
> 标签：c#, visual-studio-2012, windows-runtime, dll

我为 Windows 商店应用程序创建了一个新的类库，并在这个库中我在一个名为“控件”的文件夹中创建了一个用户控件。

我在另一个项目中使用这个类库（尤其是上面提到的这个控件），每次我尝试运行这个项目时都会出现一个奇怪的错误：

> “找不到有效负载文件 'C:\PATH TO CLASSLIBRARY FOLDER\bin\Release\LIBRARYNAME\Controls\Usercontrol.xaml'”

所以我打开了我图书馆的文件夹并查找了这条路径。错误消息中描述的路径不存在，但如果您将替换 `\bin\Release\LIBRARYNAME\Controls\Usercontrol.xaml`为，`\bin\Release\Controls\Usercontrol.xaml`则存在所需文件。然后我简单地复制了`\Controls\`包含 Usercontrol.xaml 的文件夹并将其粘贴到新创建的文件夹`\LIBRARYNAME\Controls\Usercontrol.xaml`中。现在这个错误不再发生，但我不想每次修改 Usercontrol.xaml 时都执行此复制粘贴操作？！

有人知道为什么会这样吗？有没有办法避免我不方便的解决方案？感谢帮助！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T15:58:00.047

在对确切的英语错误消息（当时使用德语 vs2012）进行了一些进一步研究之后，这似乎是 Visual Studio 中的一个错误。

有关此的更多信息：http: [//social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/51111470-8a86-44d4-acb8-e268afa7564e/](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/51111470-8a86-44d4-acb8-e268afa7564e/)

# excel - VBA 在工作表范围内更改单元格内容

> ID：13320917
> 
> 赞同：1
> 
> 时间：2012-11-10T09:39:54.697
> 
> 标签：excel, vba

我写了这段代码，如果匹配'if'语句，它应该超过2张并更改数据。

出于某种原因，它适用于第一张纸，但不适用于第二张纸。有什么想法吗？

```
 Sheets("Open - Software Evaluation").Select
   For iRow = 2 To 100
          If Cells(iRow, "E") = "Under Software Evaluation/Fix" Then
             Cells(iRow, "E") = "Evaluation - R&D"
             Else     
           End If
   Next iRow

   Sheets("Open - Pending Client Review").Select
   For iRow = 2 To 100
   If Cells(iRow, "E") = "Pending Client Review/Approval" Then
       Cells(iRow, "E") = "Client Review/Approval"
   Else    
   End If
   Next iRow 
```

# php - PHP迭代多维数组 - 每x秒查询一次Web服务

> ID：13320918
> 
> 赞同：2
> 
> 时间：2012-11-10T09:39:57.450
> 
> 标签：php, multidimensional-array, iteration

我有一个包含用户信息的数组和一个网站上的 Web 服务，我可以查询用户的状态（在线/离线）。我想做的是每 x 秒查询一次站点以获取每个用户的状态。

大约有 10 个用户，下面是数组的一个示例。我可以改变数组是需要的。我唯一需要手动输入的是用户名和全名。我可以从服务器调用的“状态”。

```
$users = array
(  
  "username"=>array("Fullname","Status"),  
  "johndoe"=>array("John Doe","Online"),
  "janedoe"=>array("Jane Doe","Offline")
); 
```

这是我可以用来查询站点的 url 示例（查询仅返回用户状态（在线或离线）：
[http ://thesite.com:80/webservice/user/](http://thesite.com:80/webservice/user/) **username** /

这是我可以用来获取特定用户状态的代码：

```
$url = 'http://thesite.com:80/webservice/user/johndoe/';
$get = fopen($url, "r");
if ($get) {
    while (!feof($get)) {
        $state = fgets($get, 4096);
    }
    fclose($get);
}

echo "User johndoe is: ".$status;
// Output: User johndoe is: Online 
```

**现在我只需要帮助每 x 秒迭代一次用户和站点，并使用用户的最后一个数组字段中的每个用户状态更新数组。**

*请注意，下面我使用 php 和 fopen，因为这是一个跨域 get 函数，我无法让 ajax/jquery 工作。我没有修改网络服务服务器的选项。*

谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T11:06:10.037

您需要创建一个每 x 秒运行一次的 cronjob 脚本。该脚本应该是对该 PHP 函数的异步请求。

```
public function updateUsers(){
$users = $_SESSION['users'];
foreach($users as $username=>$data) {
    $url = 'http://thesite.com:80/webservice/user/'.$username.'/';
    $get = fopen($url, "r");
    if ($get) {
        while (!feof($get)) {
            $status = fgets($get, 4096);
        }
        fclose($get);
    }
    $users[$username][] = $status;
}
 $_SESSION['users'] = $users;
} 
```

发布异步请求的指南。[http://petewarden.typepad.com/searchbrowser/2008/06/how-to-post-an.html](http://petewarden.typepad.com/searchbrowser/2008/06/how-to-post-an.html)

希望能帮助到你 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T10:07:55.403

如果你的 $users 数组没有改变，你可以这样做：

```
foreach($users as $username=>$userdata) {
    $url = 'http://thesite.com:80/webservice/user/'.$username.'/';
    $get = fopen($url, "r");
    if ($get) {
        while (!feof($get)) {
            $state = fgets($get, 4096);
        }
        fclose($get);
    }
    $users[$username][1] = $state;
} 
```

如果您可以将 $users 数组更改为像这样关联：

```
$users = array(  
    "username"=>array("fullname"=>"Fullname","status"=>"Status"),  
    "johndoe"=>array("fullname"=>"John Doe","status"=>"Online"),
    "janedoe"=>array("fullname"=>"Jane Doe","status"=>"Offline")
); 
```

这会让你使用更多的键/值并且更安全一些。

# c - 如何将代码从终端重定向到绘图应用程序？

> ID：13320924
> 
> 赞同：3
> 
> 时间：2012-11-10T09:41:01.723
> 
> 标签：c, unix, input, terminal, output

我正在尝试使用 C 创建一个简单的程序，该程序从文本文件中读取数据，然后根据该数据创建一个图形。我正在运行 UNIX。

我的一半代码是为了使用终端进行 printf 和 scanf 用户输入和显示消息，一旦完成一半，另一半需要启动。

后半部分旨在使用单独的绘图程序 drawapp.jar 创建图形。

当我使用 gcc -o filename filename.c 编译并使用 ./filename 运行时，它编译很有趣，但只运行前半部分

当我使用 gcc -o filename filename.c graphics.c 编译并使用 ./filename | 运行时 java -jar drawapp.jar ，它编译得很好，但是当它运行时它会打开 drawapp.jar 冻结在一个空白的灰色屏幕上，并且终端窗口没有显示我的代码的前半部分，它是用来询问用户输入的，只是冻结，终端允许我输入，但它什么也不做

此链接上的图片显示了我的问题：[http ://picpaste.com/Untitled-IlRWjqLN​​.png](http://picpaste.com/Untitled-IlRWjqLN.png)

我如何让 c 代码正确，以便它在终端中执行前半部分然后切换到 drawapp.jar？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T10:02:36.110

`fork()`并`execlp()`与`"java -jar drawapp.jar"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:01:11.857

据我了解，您的程序的标准输出通过管道传输到 java 进程。现在您首先要使用终端窗口与用户通信，然后通过标准输出向 java.process 发送命令。所以你可以打开 /dev/tty 进行输出

```
FILE *f=fopen ("/dev/tty", "w");
fprintf (f, "Hi there\n"); 
```

并以这种方式与终端交谈。如果你的输出最后没有 \n，你可能必须使用 fflush：

```
fprintf (f, "enter name: ");
fflush (f); 
```

# kinect - 是否可以使用 kinect 跟踪任意骨架模型？

> ID：13320926
> 
> 赞同：0
> 
> 时间：2012-11-10T09:41:31.753
> 
> 标签：kinect

我知道 kinect 正在使用一些预定义的骨架模型来根据深度数据返回骨架。这很好，但这只会让你得到一个人的骨架。是否可以定义自定义骨架模型？例如，也许你想在他做某事时跟踪你的狗。那么，有没有办法为四条腿、一条尾巴和一个头定义一个模型并对其进行跟踪？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-10T14:58:03.170

简短的回答，不。使用 Microsoft Kinect for Windows SDK 的骨架跟踪器，您会被他们提供的骨架跟踪器困住。没有办法注入一套新的逻辑或规则。

很长的答案，当然。您无法使用预先构建的骨架跟踪器，但您可以编写自己的。骨骼跟踪器使用来自深度的数据来确定人的关节在哪里。您可以获取相同的数据并针对不同的骨架结构对其进行处理。

Microsoft 不提供对处理和输出人体骨架的所有内部函数的访问权限，因此我们无法将其用作任何类型的骨架构建方式的参考。

为了追踪除了人类骨骼之外的任何东西，你必须从头开始重建它。这将是大量的工作，但它是可行的……只是不容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-23T02:05:42.753

有一种方法可以通过观看 dll 示例来了解这个主题： 来自 sdk 示例的人
**脸跟踪：http:** [//www.microsoft.com/en-us/kinectforwindows/develop/](http://www.microsoft.com/en-us/kinectforwindows/develop/)

# javascript - 传递函数名作为参数执行

> ID：13320927
> 
> 赞同：2
> 
> 时间：2012-11-10T09:41:47.780
> 
> 标签：javascript

我正在使用一个 $.ajax 函数，它有两个目的，根据上下文，我想在回调中执行不同的函数。

```
function MyAjaxCall(SomeParameter, CallBackFunctionName) {

  $.ajax({
   ...
   success: function (msg) {

     var TheData = msg.hasOwnProperty("d") ? msg['d'] : msg;
     // here: "execute the function in parameter CallBackFunctionName 
     // AND pass it the parameter TheData
  }
} 
```

如何编写函数名称为参数的行，并且我想将 TheData 作为参数传递给它。

请注意，目前，我是这样写的：

```
if (CallBackFunctionName === "SomeFunctionName1") {
   SomeFunctionName1(TheData);
} else {
   SomeFunctionName2(TheData);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T10:13:48.157

如果函数被定义为全局函数，则使用：

```
window[functionName](arguments); 
```

如果不是，则更改方式`MyAjaxCall`称为：

```
MyAjaxCall.apply(thisArg, [SomeParameter, CallBackFunction]); //thisArg is the value of the this object inside MyAjaxCall(). 
```

然后在里面`MyAjaxCall()`这样做：

```
function MyAjaxXall(SomeParam, CallBackFunction){
  var me = this; //the object supplied through thisArg while calling.
  $.ajax({
     success : function(msg)
     {
         //whatever processing you want
         me[CallBackFunction](arguments);
     }

  });
} 
```

或者您可以将对象添加为以下参数的一部分`MyAjaxCall()`：

```
function MyAjaxCall(SomeParam, obj, CallBackFunction)
{

      $.ajax({
         success : function(msg)
         {
             //whatever processing you want
             obj[CallBackFunction](arguments);
         }

      });
} 
```

使用它来调用全局函数时，请使用：

```
MyAjaxCall(SomeParam, window, CallBackFunction); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T09:48:20.690

假设通过变量 CallBackFunctionName 传递名称的定义函数是全局的，您可以这样做：

```
window[CallBackFunctionName](TheData) 
```

您也可以将实际函数传递给`MyAjaxCall`这样的：

```
var MyCallbackFunction = function(data){ console.log(data) }
MyAjaxCall({param1: 'value1'}, MyCallbackFunction) 
```

这样您就可以执行该功能：

```
function MyAjaxCall(SomeParameter, CallBackFunction) {

  $.ajax({
   ...
   success: function (msg) {

     var TheData = msg.hasOwnProperty("d") ? msg['d'] : msg;
     CallBackFunction(TheData)
  }
} 
```

# struts2 - 如何调用从 Struts 2 中的另一个动作重定向的动作的“执行”方法？

> ID：13320928
> 
> 赞同：0
> 
> 时间：2012-11-10T09:42:11.057
> 
> 标签：struts2, struts-config, actioncontext

我在 struts 2 中从一个动作重定向到另一个动作时遇到问题。

在行动一（称为：StudentZuPruefungHinzufuegen）中，我正在创建操作错误，并希望在行动二（称为：ZeigePruefungsliste）中显示这些错误。

如果我只是使用 struts 中的“redirectAction”，它会在我想显示的地方显示正确的操作错误。问题是框​​架在显示带有操作错误的结果页之前没有调用我的“执行”方法。尽管我在“执行”方法中填写的表格是空的，并且生成的页面实际上是无用的。

有人能告诉我如何告诉 Struts 在重定向到动作二时调用该方法吗？

我的 struts.xml 看起来像这样：

```
<action name="ZeigePruefungsliste"
class="de.nak.multiplechoice.action.ZeigePruefungslisteAction">
    <interceptor-ref name="store">
        <param name="operationMode">RETRIEVE</param>
    </interceptor-ref>
    <interceptor-ref name="defaultLoginStack" />
    <result type="tiles" name="*">pruefungsListe</result>
</action>

<action name="StudentZuPruefungHinzufuegen"
class="de.nak.multiplechoice.action.EditiereTeilnehmerAction">
    <result type="tiles">studentZuPruefungHinzufuegen</result>
    <interceptor-ref name="store">
        <param name="operationMode">STORE</param>
    </interceptor-ref>
    <interceptor-ref name="defaultLoginStack" />
    <result name="input" type="redirectAction">
        <param name="actionName">
            ZeigePruefungsliste
        </param>
    </result>
</action> 
```

编辑：我的动作类代码。

```
public class EditiereTeilnehmerAction extends AbstractAction {

private static final long serialVersionUID = 882657701678551299L;

private Long ausgewaehltePruefungId;

private List<Nutzer> studenten;

private List<Long> ausgewaehlteStudenten;

@Override
public String execute() {
    if (ausgewaehltePruefungId == null) {
        addActionError("Es muss eine Prüfung ausgewählt werden.");
        return INPUT;
    }
    studenten = getNutzerService().ladeAlleStudenten();
    return SUCCESS;
}

public String zuPruefungHinzufuegen() {
    getPruefungService().registriereStudentenFuerPruefung(ausgewaehltePruefungId, ausgewaehlteStudenten);
    return SUCCESS;
}

public List<Nutzer> getStudenten() {
    return studenten;
}

public void setStudenten(List<Nutzer> studenten) {
    this.studenten = studenten;
}

public Long getAusgewaehltePruefungId() {
    return ausgewaehltePruefungId;
}

public void setAusgewaehltePruefungId(Long ausgewaehltePruefungId) {
    this.ausgewaehltePruefungId = ausgewaehltePruefungId;
}

public List<Long> getAusgewaehlteStudenten() {
    return ausgewaehlteStudenten;
}

public void setAusgewaehlteStudenten(List<Long> ausgewaehlteStudenten) {
    this.ausgewaehlteStudenten = ausgewaehlteStudenten;
}

}

public class ZeigePruefungslisteAction extends AbstractAction {

private static final long serialVersionUID = -7559234907568287686L;
private List<Pruefung> pruefungen;

@Override
public String execute() {
    pruefungen = getPruefungService().getAllePruefungen(getAktuellenNutzer());
    return SUCCESS;
}

public List<Pruefung> getPruefungen() {
    return pruefungen;
}

}

public abstract class AbstractAction extends ActionSupport {

private static final long serialVersionUID = -6905222101893534102L;

private INutzerService nutzerService;

private IPruefungService pruefungService;

public HttpSession getHttpSession() {
    HttpServletRequest request = (HttpServletRequest) ActionContext
        .getContext().get(StrutsStatics.HTTP_REQUEST);
    return request.getSession(true);
}

public Nutzer getAktuellenNutzer() {
    return nutzerService.get(((Nutzer) getHttpSession().getAttribute(
        StrutsKonstanten.NUTZER)).getId());
}

protected INutzerService getNutzerService() {
    return nutzerService;
}

public void setNutzerService(INutzerService nutzerService) {
    this.nutzerService = nutzerService;
}

protected IPruefungService getPruefungService() {
    return pruefungService;
}

public void setPruefungService(IPruefungService pruefungService) {
    this.pruefungService = pruefungService;
}

} 
```

问候，马库斯

# java - Java：如何定位指向我们目录文件的值

> ID：13320929
> 
> 赞同：0
> 
> 时间：2012-11-10T09:42:22.593
> 
> 标签：java, directory, filechooser

在下面给出的代码中，取自 JFileChooser 类的 JAVA API 页面：

```
JFileChooser chooser = new JFileChooser();
FileNameExtensionFilter filter = new FileNameExtensionFilter(
    "JPG & GIF Images", "jpg", "gif");
chooser.setFileFilter(filter);
int returnVal = chooser.showOpenDialog(parent);
if(returnVal == JFileChooser.APPROVE_OPTION) {
   System.out.println("You chose to open this file: " +
        chooser.getSelectedFile().getName());
} 
```

它应该打开一个弹出窗口以提示用户目录中的文件。我可以知道我们应该如何初始化“父”变量，或者为它分配什么值，以便这个对话框窗口指向用户的目录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:43:42.153

只需为其分配一个空值。如果这是在您的小程序类或 JFrame 类中，您也可以将其放入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T09:45:17.190

要获取用户的主目录，您应该使用系统属性：

```
System.out.println("User Home Path: "+System.getProperty("user.home"));
File parent = new File(System.getProperty("user.home")); // User home directory 
```

但是，在您的情况下，父变量属于 Component 类。这意味着您应该向它传递一个 JFrame 或其他**作为对话框的父级的**AWT/Swing 组件。在此处传递 null 将创建一个与任何其他 GUI 组件无关的对话框。

# sql - 列出主表中的所有数据并使用标准检查另一个表

> ID：13320931
> 
> 赞同：1
> 
> 时间：2012-11-10T09:42:39.503
> 
> 标签：sql

我有两张桌子`staffdetails`和`worklog`工作人员的开始时间和结束时间。我正在寻找一个结果，其中列出了我们执行此 SQL 时未开始工作的一些员工，请参阅以下示例：

*   `staffdetails`桌子

    ```
    stafid  staffnm
    ------  -------
    100200  John
    100201  Jenny
    100203  Camas 
    ```

*   `Worklog`桌子

    ```
    stfid   startime   finishtime
    ------  ---------  ----------
    100200  11.30 p.m  12.30 p.m
    100201  10.00 a.m  10.30 a.m
    100200  12.35 p.m  12.40\. p.m
    100200  12.45 p.m
    100203  1.30 p.m   2.30 p.m
    300200  10.0 p.m   6.00 p.m 
    ```

*   输出

    ```
    staffid   stafname
    -------   --------
    100203    Camas
    100201    Jenny 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:45:33.743

使用`LEFT JOIN`：

```
SELECT s.Name, s.staffId
FROM staffdetails s
LEFT JOIN working w ON w.staffid = s.staffid
WHERE w.staffId IS NULL; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/031e9/8)

**更新：**如果您想获得两个表的不匹配列表，您可以将两个`LEFT JOIN`s 与一个`UNION ALL`类似的组合：

```
SELECT s.Name, s.staffId
FROM staffdetails s
LEFT JOIN working w ON w.staffid = s.staffid
WHERE w.staffId IS NULL
UNION ALL
SELECT w.Name, w.staffId
FROM working w
LEFT JOIN staffdetails s ON w.staffid = s.staffid
WHERE s.staffId IS NULL; 
```

## [更新的 SQL Fiddle 演示](http://www.sqlfiddle.com/#!2/ce7ec/3)

# javascript - 如何检测滚动结束

> ID：13320933
> 
> 赞同：15
> 
> 时间：2012-11-10T09:43:00.067
> 
> 标签：javascript, jquery, scroll

我的脚本有一些问题。所以，我想检测我的滚动动作的结束。当我滚动时我有我的警报，但如果我结束它则没有。你能帮助我吗？这是我的代码：

```
var animatable = $('body, html');
var animating = false;
animatable.animate( {scrollTop: $('#foo').offset()})

$(window).scroll(function(e) { 
       if(!animating){
           animatable.stop(false, true); 
           alert('stop scrolling');
       }
       animating = false;
});​ 
```

和一些小提琴：http: [//jsfiddle.net/yhnKR/](http://jsfiddle.net/yhnKR/)

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-11-10T10:20:28.793

这是你想要达到的目标：

```
$('body').animate( {scrollTop: $('#foo').offset().top},1000,function(){
 alert('stop scrolling');   
}); 
```

[http://jsfiddle.net/yhnKR/2/](http://jsfiddle.net/yhnKR/2/)

如果使用 jquery 为滚动设置动画，则不必观看滚动事件。

* * *

好的，如果您想检测用户何时停止滚动，则必须使用超时来检查用户是否停止。否则，您将获得每个滚动步骤的事件。像这样：

```
var delay = 1000;
var timeout = null;
$(window).bind('scroll',function(){
    clearTimeout(timeout);
    timeout = setTimeout(function(){
        alert('scrolling stopped');
    },delay);
});​​​​​​​​​​ 
```

[http://jsfiddle.net/yhnKR/4/](http://jsfiddle.net/yhnKR/4/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T11:06:38.443

也许添加这样的新事件：

[http://james.padolsey.com/javascript/special-scroll-events-for-jquery/](http://james.padolsey.com/javascript/special-scroll-events-for-jquery/)

有助于

# triggers - DBMS：通过触发器增加 int 数据类型范围

> ID：13320935
> 
> 赞同：0
> 
> 时间：2012-11-10T09:43:10.287
> 
> 标签：triggers, database

一些 DBMS，例如 MySQL，支持不同的整数类型以满足不同的范围要求。

例如，对于较小的值，`TINYINT`首选，而对于较大的值，可能需要 INT。

我有一些存储琐碎数据的表，例如应用程序的用户。虽然我计划将用户数量控制在 6,000 范围内，因此选择拥有`SMALLINT`，但我想应对不太可能但可能发生的事件，即它`SMALLINT`在未签名的情况下超过 a 、 32,767 或 65,535的最大范围。 .

我应该实现检查这个的逻辑`trigger`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T15:54:41.447

这是一个坏主意。只需使用`int`.

出于对如果您确实尝试从同一个表上的触发器更改表会发生什么的纯粹好奇，我这样做只是为了看看 SQL Server 将如何处理它。

SQL Server（理所当然地）抱怨：

**消息 1713，级别 16，状态 7，过程 tgALTERTABLE，第 10 行无法在/使用表“测试”上执行 ALTER COLUMN，因为该表是目标表或当前正在执行的触发器的级联操作的一部分。**

我希望大多数（如果不是所有）其他 DBMS 平台都会抱怨同样的问题，因为触发器通常作为正在执行的数据修改事务的同步部分存在。更改基础表永远不会起作用，因为该操作需要一个模式修改锁，直到已经启动的事务之后才能授予该锁。

下面是 SQL Server 锁类型的参考：

[http://msdn.microsoft.com/en-us/library/ms175519(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms175519%28v=sql.105%29.aspx)

# sql - 在 Oracle 中将数据从一个数据库复制到另一个数据库

> ID：13320936
> 
> 赞同：5
> 
> 时间：2012-11-10T09:43:21.237
> 
> 标签：sql, oracle, batch-file, oracle10g, bulkinsert

我有 2 个 Oracle 数据库，我经常使用 TOAD 将数据从 prod DB 复制到测试 DB，方法是为 Prod DB 生成插入脚本并稍后在测试 DB 上运行它。

我正在尝试通过批处理文件更快地完成它。

我认为我可以使用[此](https://stackoverflow.com/questions/8944156/how-to-copy-data-from-one-database-table-to-another-database-table)解决方案，但数据库有一个`auto-increment`列。如果我使用此解决方案，该列会受到影响吗？我需要以某种方式更改脚本吗？到目前为止，我还没有尝试过这个，因为我无法访问数据库并且只能在星期一进行测试。

有没有更好的方法可以做到这一点？我实际上正在寻找的是使用批处理文件执行整个复制过程，这将最大限度地减少我使用 TOAD 执行此操作的时间。

另外，如果解决方案不简单，如果我能被引导到正确的方向，我也很好。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-09T10:50:58.040

确保两个表具有相同的结构。

连接到目标数据库。

创建到源数据库的公共链接。用户应具有“创建公共数据库链接”系统权限才能执行此操作。

```
CREATE PUBLIC DATABASE LINK mylink
  CONNECT TO source_user IDENTIFIED BY source_password
  USING 'source_entry_in_tnsnames'; 
```

复制数据：

```
INSERT INTO mytable SELECT * FROM mytable@mylink; 
```

如果表的主键来自序列，请将序列设置为 - 至少 - 与源数据库中的值相同：

```
ALTER SEQUENCE mysequence increment by 100000;
SELECT mysequence.nextval FROM DUAL;
ALTER SEQUENCE mysequence increment by 1; 
```

# redirect - 将子域重定向到空子目录

> ID：13320937
> 
> 赞同：0
> 
> 时间：2012-11-10T09:43:28.260
> 
> 标签：redirect, blogger, http-redirect

我有一个托管在 myblog.blogger.com 上的博客。我设法将它重定向到 blog.mydomain.com。

但是，我希望用户通过以下 URL 访问我的沼泽：www.mydomain.com/blog。即，如果用户键入 blog.mydomain.com，则 url 将变为 www.mydomain.com/blog，但实际的博客托管在 myblog.blogger.com 上。

用另一种方式改写这个问题：是否可以将 myblog.blogger.com 重定向到 www.mydomain.com/blog，而实际博客托管在 myblog.blogger.com 上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T09:54:09.247

如果我理解正确，您使用的是 blogger.com，并且我认为不需要重定向任何内容，您只需在 blogger.com 中指定您的域名，请查看以下链接[http://support.google.com/博主/bin/static.py?hl=en&ts=1233381&page=ts.cs](http://support.google.com/blogger/bin/static.py?hl=en&ts=1233381&page=ts.cs)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-08-01T07:01:09.550

Blogger.com 尚不支持在子目录中托管博客。您只能使用子域或 www。

# eval - eval() 的威力是什么？

> ID：13320940
> 
> 赞同：3
> 
> 时间：2012-11-10T09:44:30.967
> 
> 标签：eval, computer-science

`eval()`最近我在几个地方遇到了这个函数（一些 D 和 JavaScript 代码）。这段经历让我意识到我不明白有或没有语言之间的区别`eval()`。

事实上，我已经能够在不使用它的情况下生存（虽然有时很诱人:)）。

您是否知道实现语言和不实现它的语言之间的任何根本区别`eval()`（即使它是在编译时）？如果没有根本差异，是否存在表现力差异？

您是否知道任何论文或参考资料来解释由 提供的附加计算能力/表现力是`eval()`什么？`eval()`也就是说，如果没有它（或以更高的成本），我们可以用什么来实现？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-10T10:03:57.887

有语言和没有语言的能力没有区别`eval`。你总是可以`eval`用一种没有它的语言来实现自己，尽管它在某些语言（Lisp）中更容易，而在其他语言（C）中更难。这就是为什么我们知道它不会为语言添加任何新功能。

Eval 通常被认为是“强大但危险且在生产代码中不必要的”。如果您曾经审查过您的源代码，并且它使用了`eval`.，那么您将不得不习惯人们告诉您不要使用`eval`. 通常，如果您使用`eval`，有一种更直接、更安全的方式来完成相同的任务。

## 安全漏洞

该`eval`功能通常会导致安全漏洞，例如在 Web 应用程序中。例如，在 Python 中：

```
i = input('Enter a number> ') 
```

Python 3.x 之前的`input`函数评估用户输入，导致安全问题：

```
输入一个数字> __import__('os').system('rm -rf $HOME') # 不要尝试这个

```

这可以在完全沙盒化的运行时中避免，例如 JavaScript、Lua、CLI 等。但是，在没有沙盒化的代码中，安全使用太难了`eval`。

## REPL

一个光荣的用途`eval`是 REPL，它是软件开发的有用工具。在 Google Chrome 中，您现在可以通过按下来`Ctrl+Shift+I`启动 REPL——只需在出现的框中输入 JavaScript 即可。Firefox 和 Safari 也都有 REPL。

## 为什么不包括`eval`？

该`eval`功能通常非常复杂。将其包含在标准库中意味着库或运行时必须包含该语言的完整编译器或解释器，这是一大块代码。这就是为什么您通常会`eval`在通常解释或 JITed 的语言中看到的原因——Lisp、Python 和 JavaScript 运行时通常已经包含一个完整的编译器，所以`eval`没有额外的包袱。

for C 的实现`eval`是真正的野兽，因此它们是可选的并被塞入库中。

# database - 将数据保存/存储/写入数据库的本机 d3.js 方法？

> ID：13320942
> 
> 赞同：4
> 
> 时间：2012-11-10T09:44:41.717
> 
> 标签：database, d3.js, save, store

我想将自由格式的（JSON、XML、CSV）d3 数据集存储回数据库，最好使用（为了保持一致性）**本机**d3 方法。

这是否已经在 d3 中得到满足，如果没有，是否可以哄骗现有的 d3.js 方法来处理这个问题？

示例将受到欢迎。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T11:51:43.893

这不是你可以用 Javascript 做的——没有直接访问数据库之类的东西。这不是 d3 的限制，而是 Javascript 本身的限制。您可以做的是将数据发布到服务器，然后将其添加到数据库中。但是，d3 中不支持此功能，仅用于检索数据。

尽管有许多其他 Javascript 库允许您将数据发布到服务器，例如[jquery](http://jquery.com/)。

# parallax - 取消水平视差运动

> ID：13320945
> 
> 赞同：2
> 
> 时间：2012-11-10T09:44:50.063
> 
> 标签：parallax

我在代码中实现了视差，但按钮水平和垂直移动。有什么办法可以取消水平运动而不会失去垂直运动？任何帮助将不胜感激！

# css - 需要 CSS 方面的帮助 - 在没有表格的情况下对齐数据

> ID：13320946
> 
> 赞同：0
> 
> 时间：2012-11-10T09:45:01.733
> 
> 标签：css

我正在尝试学习 CSS，尤其是我正在尝试摆脱易于使用的表格。

我创建了 jsfiddle 来看看我做了什么：

[http://jsfiddle.net/HMtSY/](http://jsfiddle.net/HMtSY/)

我无法将所有数据对齐到成比例的单元格中。请协助

```
<div class="cartItem">
    <span class="cartProductTitle">Product</span> <span class="cartProductModel">
    Model</span> <span class="cartProductPrice">Price</span>
    <span class="cartProductQty">Qty</span> </div>
<div class="cartItem">
    <span class="cartProductTitle">This is the product title</span>
    <span class="cartProductModel">mdsdre12es</span>
    <span class="cartProductPrice">9.95</span> <span class="cartProductQty">1</span>
</div>
<div class="cartItem">
    <span class="cartProductTitle">Product 2</span>
    <span class="cartProductModel">mds12es</span> <span class="cartProductPrice">
    1119.95</span> <span class="cartProductQty">199</span> </div>
<div class="cartItem">
    <span class="cartProductTitle">This is the product title product 100000</span>
    <span class="cartProductModel">as</span> <span class="cartProductPrice">9.95</span>
    <span class="cartProductQty">22221</span> </div> 
```

//CSS

```
.cartItem
{
    display: table-cell;    
    padding: 5px; 
    width: 600px;
    min-width: 600px;        
    float:left ; 
}
.cartProductTitle
{   
    display: table-cell;    
    padding: 5px; 
    width: 350px;
    min-width: 350px;
}
.cartProductModel
{   
    display: table-cell;    
    padding: 5px; 
    width: 150px;
    min-width: 150px;
}
.cartProductPrice
{   
    display: table-cell;    
    padding: 5px;    
    width: 30px;
    min-width: 30px;  
}
.cartProductQty
{   
    display: table-cell;    
    padding: 5px; 
    width: 30px;
    min-width: 30px;  
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T09:48:11.500

## 不是所有的桌子都是邪恶的！

**用于布局的表格**是，但这不是用于布局的表格，您正在显示**表格数据**，例如应该与表格一起显示的数据！

这意味着在您的情况下使用表格是***完全可以接受***的，甚至*是正确的解决方案*。

所以是的，在这种情况下使用表格。这不是布局，所以很好:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T11:07:51.647

您是在制造问题而不是解决问题，因为 HTML 表格在这里是正确的方法，但是如果有人坚持，*可以*在 CSS 中模拟 HTML 表格（如果您的数据格式是通用 XML 而不是 HTML，这甚至可能是有意义的）。您只需要指定`display: table-row`在结构上与表行相对应的`.cartItem`元素，例如您的案例中的元素。（将所有此类元素包装在您为其设置的容器中也是很自然的`display: table`。）

所以只需设置`.cartitem { display: table-row }`和删除`float`设置。删除所有宽度设置是很自然的，让浏览器确定列的宽度，这是使用表格（在 HTML 中或在 CSS 中模拟）的基本优势之一。此外，每行的最后两个单元格应右对齐，因为它们包含数字数据。

见[jsfiddle](http://jsfiddle.net/vKTzN/)。

# verilog - Computer_Architecture + Verilog

> ID：13320949
> 
> 赞同：2
> 
> 时间：2012-11-10T09:45:16.880
> 
> 标签：verilog, computer-architecture

我在verilog中做一个分频器电路并使用非恢复除法算法。我无法将余数表示为小数二进制数。例如，如果我执行 0111/0011 (7/3)，我得到的商为 0010，余数为 0001，这是正确的，但我想将其表示为 0010.0101。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T19:35:45.007

假设，如在您的示例中，您正在划分 4 位数字，但希望在结果中增加 4 位的小数精度。

一种方法是在进行除法之前将分子简单地乘以 2^4。

IE

```
instead of 
0111/0011 = 0010 (+remainder)
do
01110000/0011 = 00100101 (+remainder) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-16T08:04:46.957

嗨，只是做数学！

你已经得到了 Q(quotient) 和 R(remainder) ，现在用余数乘以二进制 1010 中的 10(decimal) 例如 7/3 给出 2 作为 Q 和 1 作为余数，而不是仅仅将这个 1 与10 然后再次应用你的逻辑，给出 10/3 给出 3 作为 Q 所以你的答案将是 3(Q(first_division)).3(second Division-Q)

试一试它正在工作。并且很容易在 verilog 中实现。

# android - Photoshop 中适用于 10.0 英寸安卓平板电脑的尺寸和分辨率

> ID：13320956
> 
> 赞同：1
> 
> 时间：2012-11-10T09:45:38.967
> 
> 标签：android, photoshop

我正在 Photoshop 中为 10.0 英寸的安卓平板电脑（500x413 像素，分辨率为 300）制作图像，但这被平板电脑扭曲了。我想知道 Photoshop 中图像的正确尺寸和分辨率。我想知道 Photoshop 中图像的正确尺寸和分辨率。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:50:24.293

如果你看看这里：[android Asset Studio](http://android-ui-utils.googlecode.com/hg/asset-studio/dist/device-frames.html)

您可以生成带框的 android 图片。

它指定您需要的图像大小。对于每种设备类型。

摩托罗拉 XZoom 10" 为 @ 160dpi 800x1280

注意：其他 10" 设备的尺寸和形状可能有所不同

# asp.net-mvc - Razor 视图在不知道域模型的情况下显示域模型属性

> ID：13320959
> 
> 赞同：1
> 
> 时间：2012-11-10T09:45:58.970
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

**背景**：我有一个简单的地图应用程序（由 GeoServer 支持），它允许用户单击一个特征并选择一个显示有关所选特征的信息的数据表。然后将在地图下方插入一个 HTML 表格以显示查询结果。

**问题**：由于用户可以选择至少 40 个表，我不想构建 40+ 部分视图。是否可以构建一个 Razor 视图来处理传递给它的任何模型并构建一个 HTML 表而不知道域模型的结构？经过一番摸索后，我倾向于拒绝。

**参考**：与我之前的 [Dynamic DBSet 查找和查询问题相关](https://stackoverflow.com/questions/13305796/dynamic-dbset-lookup-and-query)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T11:00:30.190

实际上，asp.net mvc 在您调用时已经这样做了`EditorForModel`，`DisplayForModel`或者类似的。如果相应模型类型没有开发人员定义的视图，则调用对象模板，该模板使用反射来渲染编辑器和显示视图。该模板没有预定义的模型类型知识。

您可以将模型类型设置为对象以供查看，并利用反射来生成表格。

# java - Java中unix命令之间的通信

> ID：13320971
> 
> 赞同：1
> 
> 时间：2012-11-10T09:48:25.700
> 
> 标签：java, unix, stream, command, pipe

在一项推荐中，我正在尝试将数据发送到 System.out，如下所示：

在另一个命令中，我试图从 System.in 获取这些数据。

这很奇怪，因为它多次尝试一次。我可以尝试运行它 10 次，它仍然是`inReader.ready() == false`，当我运行它例如第 11 次时，它可以工作。

为什么 ？我怎样才能解决这个问题？如何让它每次都工作？

提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:54:51.617

您无法以这种方式读取 InputStream，因为数据可能尚未到达第二个进程。您可以逐个字符地阅读，例如：

```
InputStreamReader inReader = new InputStreamReader(System.in); 
int data = inReader.read();
while (data != -1){
    ...
    data = inReader.read();
} 
```

或简单地逐行读取输入，使用：

```
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

while ((String line = br.readLine()) != null) {
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:07:11.817

如果您的目标是执行 shell 命令，请不要使用 System.out 而是使用`Runtime.getRuntime().exec(cmd)`。查看[这个问题](https://stackoverflow.com/questions/2460297/run-shell-command-from-java)了解更多详情。

# android - 在 android 上绘制形状和操作形状

> ID：13320972
> 
> 赞同：3
> 
> 时间：2012-11-10T09:48:53.330
> 
> 标签：android

我需要绘制一个形状并对该形状进行操作。

例如像这样，[http://svg-edit.googlecode.com/svn/branches/2.5.1/editor/svg-editor.html](http://svg-edit.googlecode.com/svn/branches/2.5.1/editor/svg-editor.html)

我们在选定形状的绘图区域上绘制形状。

请给出一个想法如何在android上做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T09:55:53.500

您应该[`surfaceView`](http://developer.android.com/reference/android/view/SurfaceView.html)使用 android将形状绘制到 a 上[`Graphics`](http://developer.android.com/reference/android/graphics/package-summary.html)。

特别是使用[`Canvas`](http://developer.android.com/reference/android/graphics/Canvas.html).

以官方[登月演示](http://jayxie.com/mirrors/android-sdk/resources/samples/LunarLander/index.html)为例。

> 您可以在 SDK 中找到此示例的源代码：
> 
> ```
> <sdk>/platforms/android-<version>/samples/ 
> ```

# matlab - 获取索引元素

> ID：13320973
> 
> 赞同：0
> 
> 时间：2012-11-10T09:48:59.630
> 
> 标签：matlab, matrix, indexing

我有两个向量

```
g_counter = [2 0] 
```

和

```
list = [3 0] 
```

我会得到这个：

1.  选择向量`g_counter`中对应值为零的所有元素`list`。

`2`向量中的相应值`list`不为零，所以我不会得到它。我会得到向量`0`中的相应值`list`等于零

```
0 
```

1.  获取该元素在`g_counter`向量中的索引。

    2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T10:32:31.670

据我了解，您应该这样做：

```
zeros=find(list==0);
g_counter(zeros) %this will print the values for which the index is 0 in the vector list 
```

# codeigniter - 处理新闻网站上图像缩略图的最佳方法（基于 codeigniter 的自定义 CMS）？

> ID：13320975
> 
> 赞同：4
> 
> 时间：2012-11-10T09:49:23.897
> 
> 标签：codeigniter, content-management-system, thumbnails, on-the-fly

我一直在思考最好的解决方案，但随着我阅读的内容越来越多，我越来越困惑。有很多不同的库和助手（其中大多数已经过时或用于 CI 1.x），我真的需要你的帮助。

我有一个基于 CodeIgniter 2.1.3 的自定义 CMS，新闻网站主页上有大约 40-50 张图片，但其中 80% 是 3 种不同尺寸的小缩略图，另外 20% 的图片在主页上当我从一个类别中列出新闻时，页面有 2 种尺寸 + 内页有 1 种尺寸的缩略图。所以总的来说，我需要新闻报道的原始图像，主页的 5-6 个缩略图大小。

处理这个问题的最聪明的方法是什么？假设每天会有 10-50 条新消息。

1.  在上传过程中为每张图片创建 5-6 个缩略图会更好吗？
2.  “即时”的方法呢？我更喜欢这种方法，正如我所读到的，只有第一个访问者会调用库/助手来生成缩略图，而对于其他人来说，缩略图已经创建好了，这样就不会浪费 CPU。这个方法怎么样？这是好习惯吗？

我应该为这些我需要的缓存技术使用什么？

另外我忘了问，其他 CMS 系统如何处理生成缩略图？我的意思是关于 Wordpress、Drupal、Joomla 等。

他们是存储预定义的尺寸还是动态生成它们？

我想他们的逻辑应该是最好的，或者可能不是，但我想在我的 CodeIgniter CMS 中实现一些智能的东西。

我没有提到，但我认为这并不重要，我使用 Grocery CRUD 作为管理面板。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T13:40:44.310

您最好的选择是动态创建图像 + 使用像 Amazon Cloudfront 这样的 CDN 来缓存源图像的调整大小版本。

多年来，我一直在使用 CodeIgniter 来构建网站，其中在整个网站上使用了许多不同大小的图像。一开始，我曾经在上传过程中从原始图像中创建所需的每个尺寸（很容易最终得到超过 5 个缩略图）。事实证明，这提供了最佳性能 - 每当您需要特定大小的图像时，您只需将其包含在内，无需额外的 PHP 处理。但是我注意到我最终在服务器上获得了大量图像，其中较旧的图像甚至可能不会经常使用（例如：一年以上的文章）。加上这种方式开发需要更长的时间。

然后我开始动态创建图像，首先使用 3rd 方库，后来为 CodeIgniter 开发了我自己的界面。这样可以节省大量时间，因为在上传过程中，您可以保存图像的原始版本，而不必担心调整大小的版本。在前端显示图像时，您通常需要做的就是传递所需图像的某些尺寸。这样做，您不仅可以获得 5-6 个版本的图像，而且可以根据需要获得尽可能多的版本。当您重新设计可能需要不同尺寸图像的网站时，这也是未来的解决方案！当您的 5 个缩略图选项都不再有效并且您需要不同的尺寸时，您会怎么做？

你是对的，动态调整图像大小确实是消耗 CPU 的操作（尤其是在涉及大图像时），因此缓存是必须的。您可以将图像直接缓存在您的服务器上，或者在此基础上获取 CDN。为了保持服务器整洁，我通常运行一个 cron 作业来删除比我们说一周更早的动态图像。节省空间 + 不会造成伤害 - 每当需要显示图像时，它就会被重新创建。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-10T20:36:14.467

查看 timthumb，它是一个动态调整图像大小并将它们存储在缓存中的脚本。这很简单，在 URL 中包含带有参数的图像标签。

还要检查这个看起来很有希望的链接[http://www.jenssegers.be/blog/31/Codeigniter-resizing-and-cropping-images-on-the-fly-continued](http://www.jenssegers.be/blog/31/Codeigniter-resizing-and-cropping-images-on-the-fly-continued)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T12:25:01.843

我喜欢 Drupal 管理这个的方式。在 Drupal 6 中有一个名为 imagecache 的模块（现在是 Drupal 7 的核心，但功能非常相似），它基本上存储图像的预设（图像大小、转换、效果......）以及当访问者请求图像时该模块根据预设生成不同的图像并提供这些图像。这样你上传一张图片，但有不同的图片用于不同的目的。

该模块有一个非常有用的功能，如果您想更改一个预设，您可以“刷新”与该预设相关的所有图像，以便访问者看到更改。

当然，Drupal 中还有许多其他与图像缓存或图像样式相关的模块，它们添加了其他效果，如水印......

更多信息：

*   [http://drupal.org/node/949222](http://drupal.org/node/949222)
*   [http://drupal.org/node/163561](http://drupal.org/node/163561)

# python - Python，结合长构建器路径和注释

> ID：13320976
> 
> 赞同：2
> 
> 时间：2012-11-10T09:49:36.323
> 
> 标签：python, builder-pattern

> **可能重复：**
> [如何在 Python 中打破一行链式方法？](https://stackoverflow.com/questions/4768941/how-to-break-a-line-of-chained-methods-in-python)

以下问题是关于 python 代码风格的，可能是可重用库的设计。因此，我有将图形创建链接到单个大线的[构建器](http://en.wikipedia.org/wiki/Builder_pattern)，如下所示：

```
graph.builder() \
        .push(root) \
        .push(n1) \
        .arc(arcType) \ #root-arc-n1 error is there
        .push(n2) \
... 
```

在第 4 行，我收到关于错误符号 (#) 的错误。所以一般问题如何针对长构建器路径生成注释良好的代码。同样作为一个很好的答案，我将感谢有关更改构建器以允许注释以澄清代码的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T09:54:32.880

您可以通过使用中间变量来最好地做到这一点：

```
builder = graph.builder()
builder = builder.push(root).push(n1)
builder = builder.arc(arcType)  #root-arc-n1 error is there
builder = builder.push(n2). # ... etc. ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-10T11:41:49.400

将整个内容括在括号中会强制 python 将其视为单个表达式：

```
(graph.builder()
    .push(root)
    .push(n1)
    .arc(arcType) #root-arc-n1 error is there
    .push(n2)
) 
```

我可能很想重新设计您的构建器方法以允许：

```
graph.builder(lambda g: g
    .push(root)
    .push(n1)
    .arc(arcType) #root-arc-n1 error is there
    .push(n2)
) 
```

只是为了让括号的位置更合理

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-10T10:00:01.437

它看起来不太好，但这允许您使用内联注释：

```
graph.builder(
    ).push(root
    ).push(n1
    ).arc(arcType #root-arc-n1 error is there
    ).push(n2) 
```

[http://www.python.org/dev/peps/pep-0008/#maximum-line-length](http://www.python.org/dev/peps/pep-0008/#maximum-line-length)

# java - java jButton.doClick() 不执行功能（但点击按钮）

> ID：13320979
> 
> 赞同：1
> 
> 时间：2012-11-10T09:49:48.170
> 
> 标签：java, jbutton

我正在使用文本字段制作计算器以显示结果并允许用户键入数字和操作（无需单击按钮）。在文本字段中，当用户键入内容时我遇到问题，如果它是有效的字符，我想在相应的按钮中执行 .doClick() 。我可以看到模拟点击按钮，但没有执行“大脑”方法。问题出在哪里？谢谢。

这是执行 doClick() 的代码：

```
 private void campotextoKeyPressed(java.awt.event.KeyEvent evt) {
    char teclapulsada = evt.getKeyChar();

    switch(teclapulsada){
        case '0': b0.doClick();
                    break;
        case '1': b1.doClick();
                    break;
        case '2': b2.doClick();
                    break;
        case '3': b3.doClick();
                    break;
        case '4': b4.doClick();
                    break;
        case '5': b5.doClick();
                    break;
        case '6': b6.doClick();
                    break;
        case '7': b7.doClick();
                    break;
        case '8': b8.doClick();
                    break;
        case '9': b9.doClick();
                    break;
    }

} 
```

当用户单击按钮时，此方法进行操作：

```
double operando1 = 0;
double operando2 = 0;
char operador = ' ';
private void cerebro(java.awt.event.MouseEvent evt) {                         
    javax.swing.JButton botonllamador = new javax.swing.JButton();
    botonllamador = (javax.swing.JButton) evt.getSource();

    try {
        int pulsacion = Integer.parseInt(botonllamador.getText());
        if (pulsacion >= 0 && pulsacion <= 9) {
            if (campotexto.getText().equals("0")) {
                campotexto.setText(botonllamador.getText());
                System.out.println("HOLE 0");
            } else {
                campotexto.setText(campotexto.getText() + botonllamador.getText());
                System.out.println("HOLA 1");
            }
        }
    } catch (Exception e) {
        //Si pulsas algo que no sea un número
        String operacion = botonllamador.getText();
        //Si ya hay un operador introducido, hacemos la operacion
        if (operacion.equals("CE")) {
            if(operador != ' '){
                int posoperador = campotexto.getText().indexOf(operador);
                campotexto.setText(campotexto.getText().substring(0, posoperador+1));
            }else{
                campotexto.setText("0");
            }
        } else if(operacion.equals("C")) {
            operando1 = 0;
            operador = ' ';
            campotexto.setText("0");
            System.out.println("CAMPOTEXTO ES "+campotexto.getText());
        } else {
            if (operador != ' ') {
                //Si es un operador, buscamos la posicion, substring para el operando 2 y hacemos la operacion
                int posoperador = campotexto.getText().indexOf(operador);
                if (posoperador != (campotexto.getText().length()-1)) {
                    operando2 = Double.parseDouble(campotexto.getText().substring(posoperador + 1));
                    if (operador == '+') {
                        System.out.println("CAMPOTEXTO TIENE "+campotexto.getText());
                        System.out.println("ENTRO EN + Y AHORA CAMPOTEXTO TIENE"+campotexto.getText()+" EL OPERADOR ES "+operador+" OPERACION ES "+operacion);
                        operando1 = operando1 + operando2;
                    } else if (operador == '-') {
                        System.out.println("ENTRO EN - Y AHORA CAMPOTEXTO TIENE"+campotexto.getText()+" EL OPERADOR ES "+operador+" OPERACION ES "+operacion);
                        operando1 = operando1 - operando2;
                    } else if (operador == '*') {
                        System.out.println("ENTRO EN * Y AHORA CAMPOTEXTO TIENE"+campotexto.getText()+" EL OPERADOR ES "+operador+" OPERACION ES "+operacion);
                        operando1 = operando1 * operando2;
                    } else if (operador == '/') {
                        System.out.println("ENTRO EN / Y AHORA CAMPOTEXTO TIENE"+campotexto.getText()+" EL OPERADOR ES "+operador+" OPERACION ES "+operacion);
                        operando1 = operando1 / operando2;
                    } else if (operador == '.'){
                        operando1 = Double.parseDouble(campotexto.getText());
                    }                       

                    if(operacion.charAt(0) == '.'){
                        campotexto.setText(campotexto.getText()+".");
                    }else if (operacion.charAt(0) != '=') {
                        operador = operacion.charAt(0);
                        campotexto.setText(operando1 + operacion);
                        System.out.println("ENTRO EN EL FINAL Y AHORA CAMPOTEXTO TIENE"+campotexto.getText()+" EL OPERADOR ES "+operador+" OPERACION ES "+operacion);
                    } else {

                        campotexto.setText(String.valueOf(operando1).toString());
                        System.out.println("ENTRO EN = Y AHORA CAMPOTEXTO TIENE"+campotexto.getText()+" EL OPERADOR ES "+operador+" OPERACION ES "+operacion);
                        operador = ' ';
                        operando1 = 0;
                    }
                }
            } else {
                //Si es la primera vez que se pulsa un operador
                operador = botonllamador.getText().charAt(0);
                operando1 = Double.parseDouble(campotexto.getText());
                if(operador == '='){
                    operador=' ';
                }else{
                    System.out.println("EN EL ELSE RARO ES "+campotexto.getText());
                    campotexto.setText(campotexto.getText() + operador);
                    System.out.println("FIN DEL ELSE RARO ES "+campotexto.getText());
                }
            }

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T10:08:47.697

你能显示你已经显示的第二种方法的签名吗？通常，它应该是实现接口的类的一部分（ActionListener as coding.mof 所说）或扩展类（如 MouseAdapter），并且该类应设置为侦听按钮上的操作（使用 addActionListener 之类的方法）。

# xcode - 本地化 Default-568h@2x.png

> ID：13320983
> 
> 赞同：3
> 
> 时间：2012-11-10T09:50:24.400
> 
> 标签：xcode, default.png, localized

在我的一个应用程序中，我创建了本地化的 Default.png。效果很好！

但是，在 Xcode 4.5.2 中（我记得以前版本的软件也存在同样的问题），我有一个警告：“Retina 4 Support - Missing "Default-568h@2x.png" launch image”...

如果我在我的目标摘要中设置启动图像，警告就会消失，但本地化根本不起作用：无论设备的语言是什么，都会显示相同的启动屏幕......

在 App Targets 中添加特定 iPhone5 主屏幕的情况下，我是否错过了传递此警告的方法？（同样，启动画面存在（本地化）并且在模拟器和设备中都可以使用。）

谢谢大家的回答。

Nico3D

# c# - 仍然无法在 WinForms 应用程序中隐藏 FlowLayoutPanel 的水平滚动条

> ID：13320985
> 
> 赞同：11
> 
> 时间：2012-11-10T09:50:27.960
> 
> 标签：c#, winforms, scrollbar, horizontal-scrolling

我无法隐藏 FlowLayout 面板的水平滚动条。我正在动态添加此面板。

我已阅读以下有关堆栈溢出的 3 篇文章。但无法获得成功。

[flowlayoutpanel 和水平滚动条问题](https://stackoverflow.com/questions/11299754/flowlayoutpanel-and-horizontal-scrollbar-issue)

[如何禁用面板中的水平滚动条](https://stackoverflow.com/questions/5489273/how-to-disable-the-horizontal-scrollbar-in-a-panel)

[使用水平滚动条的滚动面板](https://stackoverflow.com/questions/3452612/scrolling-panel-using-horizontal-scroll-bar)

我已经尝试了以下代码。

```
TableLayoutPanel pannel = new TableLayoutPanel();
 pannel.Parent = pnlChart;
 pannel.Dock = DockStyle.Fill;
 pannel.AutoScroll = true;
 pannel.HorizontalScroll.Visible = false; 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-10T10:17:10.693

你试过[这个吗](https://stackoverflow.com/questions/2197452/how-to-disable-horizontal-scrollbar-for-table-panel-in-winforms)

```
int vertScrollWidth = SystemInformation.VerticalScrollBarWidth;

pannel.Padding = new Padding(0, 0, vertScrollWidth, 0); 
```

# .net - 如何抑制所有 .NET 异常对话框？

> ID：13320987
> 
> 赞同：1
> 
> 时间：2012-11-10T09:50:50.220
> 
> 标签：.net, unhandled-exception, background-thread

根据我的经验，应用程序`unhandled exception`中的 an`.NET`可能会导致显示描述异常等的对话框。

1.  有没有办法完全抑制这样的对话框？
2.  是否可以仅针对 a 抑制对话框`Background Thread`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T10:00:34.167

是的，这是可能的，但您必须认真考虑这对您的应用程序意味着什么。

如果发生*未处理*的异常，您的应用程序可能处于意外/未定义状态，让应用程序崩溃可能更有意义 - 替代方案可能是不一致或冻结 UI，甚至更糟。

话虽如此，您并没有说明您使用的是 WPF、WinForms、控制台应用程序还是 ASP .NET 或其他东西。您需要告诉我们您正在使用的技术；但总的来说，您应该能够连接一个全局异常处理程序，它只是抑制异常。

对于后台线程部分，您可以简单地将线程函数包装在 try catch 块中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:05:49.773

未处理的异常实际上会终止您的进程。如何呈现给用户取决于 Windows。例如，如果您安装了调试器，您会看到一个允许您调试进程的对话框。这不是您在应用程序中控制的东西。

但是，如果您的应用程序是 Windows 窗体应用程序，.NET 框架将为未处理的异常设置一个处理程序，该处理程序将打开一个对话框，其中包含有关异常的一些信息，然后允许您的进程继续。我假设这是您所指的对话框。

为了避免这种行为，最好的方法是通过使用 try-catch 块来实际捕获和处理异常。当然，捕获然后完全忽略异常通常是一个坏主意，并且可能会隐藏应用程序中的错误。

您可以自定义 Windows 窗体如何处理您没有使用该 [`Application.SetUnhandledExceptionMode`](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.setunhandledexceptionmode.aspx)方法捕获的异常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-17T14:59:04.367

偶然发现了这个问题，因为我有自动化测试被我想抑制的异常对话框阻止。这个问题的标题优于任何类似的stackoverflow问题，所以谷歌把我发到这里。但是，问题主体和答案更倾向于程序化方法。

鉴于帖子标题，在不修改源代码的情况下提供解决问题的答案似乎是合理的。

最终，我能够通过将`DontShowUI`注册表中的键设置为`1`. 此修复程序以及一系列替代方案在以下内容中有详细描述：

[https://stackoverflow.com/a/3637710/195755](https://stackoverflow.com/a/3637710/195755)

# c# - linq选择查询？

> ID：13320988
> 
> 赞同：2
> 
> 时间：2012-11-10T09:50:51.493
> 
> 标签：c#, linq, select, group-by

图表数据

```
public class ChartData {
    public Series[] Series { get; set; }
} 
```

系列

```
public class Series{
    public Strind Name { get; set; }
    public Data Data { get; set; }
} 
```

数据

```
public class Data {
    public object[] Points { get; set; }
} 
```

记录

```
 Date | Name | Value

date1 | T1  |    15
date1 | T2  |    20
date2 | T1  |    25
date2 | T2  |    30
date3 | T1  |    35
date3 | T2  |    40 
```

和 linq 代码

```
(from d in MeterReadings
 group d by new { name = d.Name } into g
 select new ChartData
 {
     Series = (from s in g
              select new Series
              {
                  Name = g.Key.name,
                  Data = new Data(new object[] { g.Select(x => x.Value) })
              }).ToArray()
     }).FirstOrDefault(); 
```

预期的：

```
Name = T1 , Data = 15, 25, 35
Name = T2 , Data = 20, 30, 40 
```

但是输出：

```
Name = T1 , Data = 15, 25, 35
Name = T1 , Data = 15, 25, 35
Name = T1 , Data = 15, 25, 35 
```

我找不到正确的代码来获得预期。您可以查看 linq 代码吗？哪里做错了？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T10:02:05.890

问题是您`ChartData`为每个分组选择新的，然后先取。试试这个代码：

```
var series =  MeterReadings.GroupBy(x => x.Name)
                           .Select(g => new Series
                            {
                                Name = g.Key,
                                Data = new Data {Points = g.Select(x => x.Value).ToArray()}
                            })
                           .ToArray();
var chartData = new ChartData {Series = series}; 
```

# windows - Winsock LSP 与 API 挂钩

> ID：13320989
> 
> 赞同：0
> 
> 时间：2012-11-10T09:51:07.393
> 
> 标签：windows, sockets, hook, easyhook

我需要你的建议使用什么 - 分层服务提供程序或只是在所有进程中加载​​我的 DLL 并使用 NCodeHook 或 EasyHook 库挂钩必要的功能。

这是检查 HTTP 流量所必需的。

PS 商业应用需要这样做

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-11T02:53:24.870

在做出决定之前，您需要考虑以下几点：

代码挂钩：

1.  AV 不喜欢代码挂钩，如果您使用的是具有外部 DLL 的库，请在提交之前对 AV total 进行检查。
2.  确保库的许可证适用于您，例如，对于 LGPL，如果您自己没有成为 GPL，您将无法将库作为静态嵌入。
3.  我听说有人设法挂了 Metro 应用程序，这需要调查。
4.  如果您有另一个代码挂钩应用程序，它可能会发生冲突。

语言服务提供商：

1.  默认的 MS 示例/安装程序已损坏。
2.  您可能会在 VM 或全新安装上获得一些工作，但要让 LSP 在所有操作系统和浏览器上正常工作，将需要 6-12 个月。
3.  不适用于 Metro 应用程序。

在 Komodia 中，我们将 LSP/WFP 组合用于我们的 SDK，知道我现在所知道的，如果我回到 4 年，我会重新使用 LSP。

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-10T10:03:45.827

使用 Easyhook 将是一个很好的方法，请检查以下[http://www.sghaida.com/easyhook-for-systemcall-hooking/](http://www.sghaida.com/easyhook-for-systemcall-hooking/)

# c# - 在 wpf 应用程序中读取 excel 文件内容

> ID：13320990
> 
> 赞同：1
> 
> 时间：2012-11-10T09:51:36.067
> 
> 标签：c#, wpf, excel, export-to-excel, import-from-excel

我想在我的 C#、WPF 应用程序中读取 excel 文件。它在具有不同版本的 excel 的不同机器上运行（有些机器具有 excel-2003，而有些机器具有 excel-2007 等，有些机器根本没有安装任何办公室）。无论目标机器上是否安装了任何 excel 版本/包，我都想读取 excel 文件内容。

我目前正在使用 Microsoft.Office.Interop.Excel 从 excel 文件中读取数据，但是在没有安装任何办公室的目标机器上运行我的应用程序时，我的应用程序无法运行。

我该怎么做？我正在按照以下方式进行操作，添加了命名空间

```
 using Excel = Microsoft.Office.Interop.Excel; 
```

这是方法的主体：

```
Excel.Application xlApp = new Excel.Application();
            Excel.Workbook xlWorkBook;
            Excel.Worksheet xlWorkSheet;
            Excel.Range range;
            xlWorkBook = xlApp.Workbooks.Open(_filePath);
            List<string> Folders = new List<string>();
            try
            {
                xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);
                range = xlWorkSheet.UsedRange;

                for (int cCnt = 1; cCnt <= range.Columns.Count; cCnt++)
                {
                    Folders.Add(((range.Cells[1, cCnt] as Excel.Range).Value).ToString());
                }
            }
            catch (Exception ex)
            {
                //some error msg
            }
            finally
            {
                xlWorkBook.Close();
                xlApp.Quit();
            }
            return Folders;
        } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-10T10:02:34.867

这里已经有一些解决方案：

[如何在 C# 中打开 Excel 文件？](https://stackoverflow.com/questions/464902/how-to-open-an-excel-file-in-c)

如果您正在开发开源应用程序，则有一些第三方库，因此请查看以下内容：

*   [http://exceldatareader.codeplex.com/](http://exceldatareader.codeplex.com/)
*   [http://excellite.codeplex.com/](http://excellite.codeplex.com/)
*   [http://excelwrapperdotnet.codeplex.com/](http://excelwrapperdotnet.codeplex.com/)
*   [http://netoffice.codeplex.com/](http://netoffice.codeplex.com/)

# .htaccess - .htaccess 热链接禁用无法正常工作

> ID：13320999
> 
> 赞同：1
> 
> 时间：2012-11-10T09:53:24.410
> 
> 标签：.htaccess, mod-rewrite, referrer, hotlinking

我有以下片段：

```
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^https?://%{SERVER_NAME}/
RewriteRule \.(js|css|png|jpg) - [R=404,L] 
```

简单，应该可以正常工作吗？如果我在浏览器上启用了引荐来源网址，那么列出的文件类型似乎是 404。禁用引荐来源网址然后允许提供文件。我已经检查了 %{SERVER_NAME} 的值，它是 www.mydomain.com 我已经在多个浏览器中以及在 HTTP 和 HTTPS 下对此进行了测试，都具有相同的结果。我使用以下重写来检查 %{SERVER_NAME} 的值：

```
RewriteRule servername value_is_%{SERVER_NAME} [R=301,L] 
```

我被重定向到的 URL 是[https://www.mydomain.com/value_is_www.mydomain.com](https://www.mydomain.com/value_is_www.mydomain.com)

话虽这么说，该片段应该允许具有该值的引荐来源网址或空引荐来源网址。但是为什么会触发呢？在过去的 2 个小时里一直让我发疯，但现在是凌晨 5 点，所以我可能只是疯了 =o\ 提前谢谢你，我要去睡觉了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T22:25:15.250

问题是，您不能在条件模式中使用变量（嗯，至少直到 Apache 2.4），因为模式是在服务器启动期间预编译的。

但是，对于您的特定问题，您可以使用一个简单的解决方法来模拟这种情况：

```
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{SERVER_NAME}%{HTTP_REFERER} !^(.*)https?://\1/
RewriteRule \.(js|css|png|jpg) - [R=404,L] 
```

是的，仅此而已。您不能使用变量，但肯定可以使用反向引用。

哦……顺便说一句。Apache 2.4 附带了可以用来代替条件模式的表达式：

```
 RewriteCond expr "! %{HTTP_REFERER} -strmatch '*://%{HTTP_HOST}/*'" 
```