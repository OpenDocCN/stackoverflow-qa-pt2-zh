# StackOverflow 问答 15354000-15354999

# c# - 使用 XMLWorker 列出 HTML

> ID：15354005
> 
> 赞同：3
> 
> 时间：2013-03-12T05:32:46.100
> 
> 标签：c#, itextsharp

有人可以提供一个使用 iTextSharp (C#) 中的 XMLWorkerHelper 将 HTML 解析为元素列表的示例。

文档中给出的 JAVA 版本是：

```
XMLWorkerHelper.getInstance().parseXHtml(new ElementHandler() {
        public void add(final Writable w) {

          if (w instanceof WritableElement) {
            List<Element> elements = ((WritableElement)w).elements();
          // write class names of elements to file
         }
        }

     }, HTMLParsingToList.class.getResourceAsStream("/html/walden.html")); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T13:33:44.453

您需要`IElementHandler`在自己的类中实现接口：

```
public class SampleHandler : IElementHandler {
    //Generic list of elements
    public List<IElement> elements = new List<IElement>();
    //Add the supplied item to the list
    public void Add(IWritable w) {
        if (w is WritableElement) {
            elements.AddRange(((WritableElement)w).Elements());
        }
    }
} 
```

这里没有使用文件流，而是解析字符串的示例。要使用文件，请将 替换`StringReader`为`StreamReader`.

```
 string html = "<html><head><title>Test Document</title></head><body><p>This is a test. <strong>Bold <em>and italic</em></strong></p><ol><li>Dog</li><li>Cat</li></ol></body></html>";
    //Instantiate our handler
    var mh = new SampleHandler();
    //Bind a reader to our text
    using (TextReader sr = new StringReader(html)) {
        //Parse
        XMLWorkerHelper.GetInstance().ParseXHtml(mh, sr);
    }

    //Loop through each element
    foreach (var element in mh.elements) {
        //Loop through each chunk in each element
        foreach (var chunk in element.Chunks) {
            //Do something
        }
    } 
```

# python - Python：错误不会停止脚本

> ID：15354007
> 
> 赞同：1
> 
> 时间：2013-03-12T05:32:58.213
> 
> 标签：python, parsing, error-handling

我写了一个解析一些网页的python-daemon。但有时由于某些页面与解析器不兼容而出现错误。

实际上的问题是：当错误没有停止时，如何使脚本继续工作？如果可能，将所有错误记录在日志文件中。

谢谢。

**我的部分代码：**

```
# row - array of links
for row in result:
    page_html = getPage(row['url'])
    self.page_data = row

    if page_html != False:
        self.deletePageFromIndex(row['id'])
        continue

    parser.mainlink = row['url']
    parser.feed(page_html)

    links = parser.links # get links from page
    words = wordParser(page_html); # words from page

    # insert data to DB
    self.insertWords(words)
    self.insertLinks(links)

    # print row['url'] + ' parsed. sleep... '

    self.markAsIndexed(row['id'])
    sleep(uniform(1, 3)) # sleep script 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T05:49:31.143

以下是您可以执行的操作：

```
import logging
should_abort = False

def do_stuff():
    global should_abort
    ...

def main():
    while not should_abort:  # your main loop
        try:
            do_stuff()
        except MyException1, e:
            logging.exception('GOT MyException1 %s', e)
        except MyException2, e:
            logging.exception('GOT MyException2 %s', e)
        except Exception, e:
            logging.exception('UNKNOWN EXCEPTION %s', e) 
```

这仍然允许您停止使用 ctrl-C，因为`KeyboardInterrupt`它派生自`BaseException`，而不是`Exception`。

# visual-studio-2012 - 使用旧配置 (localhost) 而不是托管服务地址的应用程序调用服务引用

> ID：15354010
> 
> 赞同：0
> 
> 时间：2013-03-12T05:33:15.320
> 
> 标签：visual-studio-2012, service, configuration, reference

我有一个调用两个 WCF 服务的 ASP.NET MVC3 应用程序。最初，我在本地从一个单独的项目运行服务。

我添加了对[http://local.host:28089/ServiceName1.svc](http://local.host:28089/ServiceName1.svc)和 /ServiceName2.svc的服务引用

没有“。” 本地和主机之间。Stackoverflow 不允许我输入 local.host。此时，我运行了两个 VS2012 实例。一个运行服务，另一个运行调用这些服务的前端应用程序。一切正常。两者都是使用 VS2012 附带的 IIS Express 托管的。

然后我将我的服务托管在服务器机器上。我删除了本地计算机上 UI 应用程序上的服务引用，然后添加了新的服务引用。我还可以使用浏览器查看本地计算机上的托管服务。

web.config 使用新的端点自动更新。

但是当我运行我的应用程序并期望它调用托管服务时，它会抛出一个错误，说“在[http://local.host:28089/ServiceName1.svc没有端点监听](http://local.host:28089/ServiceName1.svc)

我不明白为什么以及从哪里仍然调用旧配置。我尝试过清理、重建、删除和读取服务引用，重新启动 VS，重新启动我的系统，但无济于事。

任何指针都会有所帮助。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:47:02.927

我通过右键单击任务栏中的 IIS Express 并单击“Stop-All”来解决它，清理解决方案。转到我的项目的属性并使用 VS Server 而不是 IIS Express，然后重新构建。

# ios - 如何在 Safari Web 检查器中切换元素状态？

> ID：15354014
> 
> 赞同：3
> 
> 时间：2013-03-12T05:33:24.337
> 
> 标签：ios, css, safari

我正在尝试通过插入我的 iPad 并使用 Safari 开发人员工具来调试站点以查看发生了什么。问题是它出现在元素背景颜色在“焦点”状态下发生变化时。因为这只是一瞬间我看不出是什么 CSS 规则负责

使用 Chrome 有一个选项可以切换元素的状态，是否有一个用于 Safari 检查器的选项？

![在此处输入图像描述](../Images/11d38ace5cc1e0b5c77a794a7a2054de.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-09T19:37:08.763

到目前为止，这似乎是不可能的，但根据此处显示的内容，它很快就会可用：

[https://developer.apple.com/technologies/safari/whats-new.html#inspector](https://developer.apple.com/technologies/safari/whats-new.html#inspector)

**编辑**：我现在在 Safari 9.1.3 上，看起来现在可以使用：

[![在 Safari 9.1.3 中切换伪类](../Images/f7317ddc96e957b16787406accd88113.png)](https://i.stack.imgur.com/iuuGW.png)

# c - 我遇到了一个非常奇怪的计时错误，在我认为它应该执行之前，某些东西正在执行

> ID：15354015
> 
> 赞同：0
> 
> 时间：2013-03-12T05:33:28.787
> 
> 标签：c, file, printing, io

```
#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <string.h>
#include <unistd.h>
#include <errno.h>

int c, n, E, b, s, v, t, opt, valid = 0;
char current = '\0';
char previous = '\0';
FILE *fp;

/*  -n numbers lines
 *  -E appends a dollar sign to line ends
 *  -b numbers only non-blank lines
 *  -s squeezes multiple blank lines down to 1
 *  -v displays control chars, excluding tab
 *  -t includes tab in the above
 *  -e is the same as -E and -v
 */

int setFlags(int argc, char *argv[]) {
    int op;
    while ((op = getopt(argc, argv, "nEbsvte")) != -1) {
        switch (op) {
            case 'n': {
                n = 1;
                break;
            } case 'E': {
                E = 1;
                break;
            } case 'b': {
                b = 1;
                break;
            } case 's': {
                s = 1;
                break;
            } case 'v': {
                v = 1;
                break;
            } case 't': {
                t = 1;
                break;
            } case 'e': {
                E = 1;
                v = 1;
                break;
            } case '?': {
                //fprintf(stderr, "Option `-%c` is not valid.\n", optopt);
                return EXIT_FAILURE;
            } default: {
                abort();
            }
        }
    }
    opt = optind;

    if(n == 1) {
        b = 0;
    }

    return EXIT_SUCCESS;
}

int checkFile(char *path) {
    if (access(path, R_OK) == 0) {
        return EXIT_SUCCESS;
    } else {
        fprintf(stderr, "cat: %s: %s\n", argv[i], strerror(errno));
        errno = 0;
        return EXIT_FAILURE;
    }
}

int doPrint(char *path) {
    if (strcmp(path, "stdin") == 0) {
        fp = stdin;
    } else {
        if (checkFile(path) == 1) {
            return EXIT_FAILURE;
        } else {
            fp = fopen(path, "r");
        }
    }
    while ((c = fgetc(fp)) != EOF) {
        putchar(c);
    }
    fclose(fp);
    return EXIT_SUCCESS;
}

int main (int argc, char *argv[]) {
    if (setFlags(argc, argv) == 1) {
        fprintf(stderr, "The program has terminated with an error.\n"
        "An invalid option was specified.\n");
        return EXIT_FAILURE;
    } else {
        if ((argc - opt) == 0) {
            doPrint("stdin");
        } else {
            for(int i = opt; i < argc; i++) {
                doPrint(argv[i]);
            }
        }
    }
} 
```

我遇到了一个非常疯狂的错误，我的程序在完成写入文件内容之前在 checkFile 中输出错误行（总是在结束前进行一次聊天）。

它让我发疯，无论我将那段代码移动到哪里，它都无法按预期工作。

我敢肯定答案可能是微不足道的，但它让我难住了。我什至在输出完成之前投入了睡眠和其他各种事情，它会抛出错误，然后睡眠，然后打印最后一个字符。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:19:22.653

使用时`printf`，`stdout`默认情况下会缓冲输出。这意味着它可以与其他输出交错，通常来自`stderr`. `stderr`默认情况下是无缓冲的，以便在发生错误时立即打印输出。

可以通过明智地使用`fflush`或关闭文件缓冲`stdout`来修复交错`setbuf`。请务必阅读 setbuf 的手册页，因为有一些警告。

在这种情况下，在 doPrint 函数末尾添加 fflush(stdout) 应该可以解决“问题”。

# algorithm - 如何使用 RNG 测试套件测试 RNG 的随机性？

> ID：15354019
> 
> 赞同：2
> 
> 时间：2013-03-12T05:33:57.907
> 
> 标签：algorithm, random, statistics

我开发了一个 RNG 算法并生成随机数，现在我想测试我生成的输出的随机性。我从 nist(sts) 下载了一个测试套件。可以选择提供输入二进制文件来测试随机性。但我不知道如何生成这些二进制文件。我的 RNG 输出 64 位长度。我如何堆叠此输出以生成二进制文件。测试套件中只有序列长度输入。如何在测试套件中将 RNG 输出指定为 64 位？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:41:19.327

输出元素的大小应该无关紧要。如果您的随机数很好，那么您如何分组这些位并不重要。只需以二进制形式写入数字（每个元素 64 位 == 8 个字节）。测试服将尝试这些位的不同分组。

# c++ - 计算这个 char 序列给出错误（初学者）

> ID：15354026
> 
> 赞同：-2
> 
> 时间：2013-03-12T05:34:39.467
> 
> 标签：c++, char

我收到很多错误，类似于... std::basic_ostream<_CharT, _Traits> 等...这段代码有什么问题？另外，我避免使用字符串是有原因的，我必须使用字符。

```
#include <iostream>
#include <cassert>

using namespace std;

void x(char y) {

  char z = toupper(y);
  if (z == 'A')
        cout << 'G' << 'C' << 'T' << '\n' << 'G' << 'C' << 'C' << '\n' << 'G' << 'C' << 'A' << '\n' << 'G' << 'C' << 'G' << endl;
  else if (z == 'R')
        cout << 'C' << 'G' << 'T' << '\n' << 'C' << 'G' << 'C' << '\n' << 'C' << 'G' << 'A' << '\n' << 'C' << 'G' << 'G' << '\n' << 'A' << 'G' << 'A' << '\n' << 'A' << 'G' << 'G' << endl;
  else
    cout << '?' << endl;
}

int main()
{
cout << x('A') << endl;
cout << x('r') << endl;
cout << x('m') << endl;
return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T05:37:25.857

您将`x()`函数声明为 return `void`，但您尝试使用 打印它的返回值`std::cout`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T05:38:23.523

noYou 没有从 function 返回任何内容`x()`。函数返回 void。您正在函数`x`本身内部打印。所以你需要的是这个

```
int main()
{
  x('A') ;
  x('r') ;
  x('m') ;
  return 0;
} 
```

# php - Mysql日期更新不起作用

> ID：15354034
> 
> 赞同：0
> 
> 时间：2013-03-12T05:35:31.057
> 
> 标签：php, mysql, sql, sql-update

我在更新 mysql 表时遇到了一个问题。我有两个字段 real_date（类型：varchar（20）），event_date（类型：date（））。下面是几个值

```
real_date   event_date  event_date(Need to b updated.)
1985-03-20  0000-00-00    1971-03-20
1989-08-20  0000-00-00    1971-08-20 
1993-04-30  0000-00-00    1971-04-30 
```

我想将 event_date 更新为如上所示。从 real_date 获取月份和日期，并将年份保留为 1971。我正在使用以下查询，但它不起作用你能帮帮我吗？

```
Query1 : Update table set event_date= STR_TO_DATE(concat('1971','-',DATE_FORMAT(real_date, "%m-%d")),'%Y-%m-%d') where real_date IS NOT NULL AND real_date != '0000-00-00' AND real_date <> '' AND event_date='0000-00-00'

Query2 : Update table set event_date= STR_TO_DATE(concat('1971','-',SUBSTR(real_date, 6, 5)),'%Y-%m-%d') where real_date IS NOT NULL AND real_date != '0000-00-00' AND real_date <> '' AND event_date='0000-00-00'

Query3 : Update table set event_date=concat('1971-',DATE_FORMAT(real_date, "%m-%d")) where real_date IS NOT NULL AND real_date != '0000-00-00' AND real_date <> '' AND event_date='0000-00-00' 
```

但以上都不起作用。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T05:37:50.850

利用`OR`

```
UPDATE TableName 
SET    event_date = CONCAT('1971-', DATE_FORMAT(real_date, '%m-%d')) 
WHERE  real_date IS NOT NULL OR 
       real_date != '0000-00-00' OR 
       real_date <> '' OR 
       event_date = '0000-00-00' 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/00a13/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T05:45:51.317

这可能会对您有所帮助。

```
update test set event_date = Date_format(Concat('1971','-', DATE_FORMAT( real_date,  '%m-%d' ), '%Y', '%Y-%m-%d'); 
```

[参见 sql fiddle 演示](http://sqlfiddle.com/#!2/06a3c/1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T07:26:11.233

也许您所有的更新代码都是正确的。实际上它会`event_date`在你的中更新`tablename`，但是当你想使用`select`语句来显示结果时，你应该使用`FORMAT_DATE`for `event_date`。

所以而不是

```
SELECT * FROM tableName 
```

利用：

```
SELECT real_date,DATE_FORMAT(event_date,'%Y-%m-%d') FROM tableName 
```

我的意思是在`UPDATE`声明中使用任何日期格式函数来格式化日期字段是没有意义的。仅在`SELECT`声明中才有意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:01:59.457

看看 MySQL[日期和时间函数](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html)。

尝试这个：

```
UPDATE table
SET event_date =
  STR_TO_DATE(
    CONCAT('1971-', DATE_FORMAT(STR_TO_DATE(real_date, '%Y-%m-%d'), '%m-%d')),
    '%Y-%m-%d'
  )
WHERE real_date IS NOT NULL AND
  real_date != '0000-00-00' AND
  real_date <> '' AND
  event_date = '0000-00-00' 
```

基本思想是：将现有字符串转换为日期。使用格式从中提取月份和日期，并从中制作一个字符串。然后将新字符串转换为类型 DATE。您应该熟悉 MySQL [DATE_FORMAT()](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-format)。

# xml - 如何在 Actionscript-3 E4X 点操作中通过对象的字段访问元素？

> ID：15354040
> 
> 赞同：0
> 
> 时间：2013-03-12T05:35:45.617
> 
> 标签：xml, actionscript-3, e4x

在 Actionscript 3 中，我们可以访问 E4X 样式的 XML 对象，例如：

```
var a:XML =
    <book>
        <title>ABC</title>
    </book>;
trace(a.title); 
```

但是，如果我们从对象或类中获取标签名称呢？

```
trace(a.Constants.BOOK_TAG); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:53:52.600

```
trace(a.children()[0].name()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-10T07:00:20.217

我今天读了一篇回答我的问题：

```
trace(a.[Constants.BOOK_TAG]); 
```

方括号符号适用于 E4X 中的 use 参数。

# wso2 - 我们如何处理 WSO2DSS 错误？

> ID：15354041
> 
> 赞同：0
> 
> 时间：2013-03-12T05:35:51.780
> 
> 标签：wso2, wso2esb, wso2dss

我们可以使用故障序列处理 WSO2ESb 中的错误，它在 ESB 级别的处理只有我们如何处理 DSS 级别的错误，例如主键违规，输入参数错误。

对于 WSO2DSS 级别，我们有任何单独的故障处理程序，否则我们只能在 WSO2ESB 级别处理。

我正在 ESB 端尝试，但我无法通过故障序列处理它。

这是 DSS 级别错误，我该如何处理：

```
 ERROR {org.wso2.carbon.dataservices.core.description.query.SQLQuery} -  ERROR: duplicate key value violates unique constraint "emp_pkey"
  Detail: Key (eno)=(9) already exists.
org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "emp_pkey"
  Detail: Key (eno)=(9) already exists.

[2013-03-12 10:45:44,914] ERROR {org.wso2.carbon.dataservices.core.DBInOnlyMessageReceiver} -  Error in in-only message receiver
DS Fault Message: Error in DS non result invoke.
DS Code: DATABASE_ERROR
Nested Exception:-
javax.xml.stream.XMLStreamException: DS Fault Message: Error in 'SQLQuery.processNormalQuery'
DS Code: DATABASE_ERROR
Source Data Service:-
Name: dept_DataService
Location: /dept_DataService.dbs
Description: N/A
Default Namespace: http://ws.wso2.org/dataservice
Current Request Name: insert_dept_operation
Current Params: {deptid=7, deptno=, deptname=hr}
Nested Exception:-
java.lang.NumberFormatException: For input string: "" 
```

ESb 直接向客户端发送消息。

消息是：

```
{"Exception":"DS Fault Message: Error in DS non result invoke.\nDS Code: DATABASE_ERROR\nNested Exception:-\njavax.xml.stream.XMLStreamException: DS Fault Message: Error in 'SQLQuery.processNormalQuery'\nDS Code: DATABASE_ERROR\nSource Data Service:-\nName: dept_DataService\nLocation: \/dept_DataService.dbs\nDescription: N\/A\nDefault Namespace: http:\/\/ws.wso2.org\/dataservice\nCurrent Request Name: insert_dept_operation\nCurrent Params: {deptid=7, deptno=, deptname=hr}\nNested Exception:-\njava.lang.NumberFormatException: For input string: \"\"\n\n"} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T04:40:08.350

So here, when an error occurs in DSS, it will send back a SOAP fault to the user, which is, in this case, the ESB. For the ESB, this is still just another message response, and it will not goto the fault sequence, unless you explicitly check the message and do the necessary actions. But from ESB 4.5.0, now you have the option of saying, if the response is a SOAP fault, the execution should switch to the fault sequence. This is explained in detail here [1].

[1] [http://maharachchi.blogspot.com/2012/09/now-you-can-send-soapfaults-to-fault.html](http://maharachchi.blogspot.com/2012/09/now-you-can-send-soapfaults-to-fault.html)

Cheers, Anjana.

# gwt - 如何完全隐藏gwt-对话框边框？

> ID：15354044
> 
> 赞同：0
> 
> 时间：2013-03-12T05:36:07.847
> 
> 标签：gwt

我怎样才能在 GWT 中完全隐藏对话框的边框，或者我们可以说完全隐藏对话框的标题部分。我尝试在 css 中使用 .gwt-DialogBox .Caption {} 但我找不到任何可以完全隐藏边框的选项。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T05:55:48.407

不要使用`gwt-DialogBox`css 的名称来更改对话框。它不会适用。尝试应用具有相同样式的不同样式名称，例如：

```
.gwt-DialogBoxNew
{
    border: 8px solid #7F7F7F;
    border-radius: 6px 6px 6px 6px;
    box-shadow: none;
    line-height: 7px;
    opacity: 1;
    z-index: 1000;
    background-color : #FFFFFF;
}

.gwt-DialogBoxNew .Caption {
    background: none repeat scroll 0 0 #E4E4E4;
    border: medium none #D4D4D4;
    cursor: default;
    font-family: Arial Unicode MS, Arial, sans-serif !important;
    font-size: 18px;
    font-weight: 400;
    line-height: 27px;
    padding:2px 0px 0px 0px;
}
.gwt-DialogBoxNew .dialogContent {
}
.gwt-DialogBoxNew .dialogMiddleCenter {
  padding: 3px;
  background: white;
}
.gwt-DialogBoxNew .dialogBottomCenter {

}
.gwt-DialogBoxNew .dialogMiddleLeft {
/*   background: url(images/vborder.png) repeat-y -31px 0px; */

}
.gwt-DialogBoxNew .dialogMiddleRight {
 /*  background: url(images/vborder.png) repeat-y -32px 0px;

}
.gwt-DialogBoxNew .dialogTopLeftInner {
  width: 10px;
  height: 8px;
  zoom: 1;
  background: none repeat scroll 0 0 #E4E4E4;
}
.gwt-DialogBoxNew .dialogTopRightInner {
  width: 12px;
  zoom: 1;
  background: none repeat scroll 0 0 #E4E4E4;
}
.gwt-DialogBoxNew .dialogBottomLeftInner {
  width: 10px;
  height: 12px;
  zoom: 1;
}
.gwt-DialogBoxNew .dialogBottomRightInner {
  width: 12px;
  height: 12px;
  zoom: 1;
}
.gwt-DialogBoxNew .dialogTopLeft {
 /*  background: url(images/circles.png) no-repeat -20px 0px;
  -background: url(images/circles_ie6.png) no-repeat -20px 0px; */
  background: none repeat scroll 0 0 #E4E4E4;
}
.gwt-DialogBoxNew .dialogTopRight {
/*   background: url(images/circles.png) no-repeat -28px 0px;
  -background: url(images/circles_ie6.png) no-repeat -28px 0px; */
  background: none repeat scroll 0 0 #E4E4E4;
}
.gwt-DialogBoxNew .dialogBottomLeft {
/*   background: url(images/circles.png) no-repeat 0px -36px;
  -background: url(images/circles_ie6.png) no-repeat 0px -36px; */
}
.gwt-DialogBoxNew .dialogBottomRight {
/*   background: url(images/circles.png) no-repeat -8px -36px;
  -background: url(images/circles_ie6.png) no-repeat -8px -36px; */
} 
```

正如您在此处所关注的那样，从中删除边框样式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T09:36:45.090

A`DialogBox`基本上是`DecoratedPopupPanel`带有*标题*的 a 。你既不想要*装饰*也不想要*标题*，那么用 a`PopupPanel`代替怎么样？（AFAICT，唯一的区别是您如何调整面板的大小）

# java - 通过java进行德比数据库更新？

> ID：15354046
> 
> 赞同：0
> 
> 时间：2013-03-12T05:36:24.707
> 
> 标签：java, database

**我从网上复制了这段代码，并为我的数据库做了一些必要的更改**

```
public class MainClass { 
```

静态连接连接；

public static void main(String[] args) throws Exception { if (args.length != 2) { System.out.println("Usage: java JavaDBDemo"); System.exit(1); }

```
String driver = "org.apache.derby.jdbc.EmbeddedDriver";
String dbName = "JeeteshBD";
String connectionURL = "jdbc:derby:" + dbName + ";";
String createString = "CREATE TABLE SANKYA.ADDRESS (NAME VARCHAR(32) NOT NULL, ADDRESS VARCHAR(50) NOT NULL)";
Class.forName(driver);

conn = DriverManager.getConnection(connectionURL);

Statement stmt = conn.createStatement();
stmt.setPoolable(true);
stmt.execute(createString);

PreparedStatement psInsert = conn
    .prepareStatement("insert into SANKYA.ADDRESS values (?,?)");

psInsert.setString(1, args[0]);
psInsert.setString(2, args[1]);

psInsert.executeUpdate();

Statement stmt2 = conn.createStatement();
ResultSet rs = stmt2.executeQuery("select * from SANKYA.ADDRESS");
System.out.println("Addressed present in your Address Book\n\n");
int num = 0;

while (rs.next()) {
  System.out.println(++num + ": Name: " + rs.getString(1) + "\n Address"
      + rs.getString(2));
}
rs.close(); 
```

} }

**执行以下代码后，我在控制台中收到以下错误。**

```
Exception in thread "main" java.sql.SQLException: Table/View 'ADDRESS' already exists in Schema 'SANKYA'.
at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)
at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)
at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)
at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)
at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)
at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)
at MainClass.main(MainClass.java:26) 
```

原因：java.sql.SQLException：表/视图“地址”已存在于模式“SANKYA”中。在 org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source) ... 10 更多原因：错误 X0Y32：表/视图架构“SANKYA”中已存在“地址”。在 org.apache.derby.iapi.error.StandardException.newException(Unknown Source) at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.duplicateDescriptorException(Unknown Source) at org.apache.derby.impl.sql.catalog .DataDictionaryImpl.addDescriptor(Unknown Source) at org.apache.derby.impl.sql.execute.CreateTableConstantAction.executeConstantAction(Unknown Source) at org.apache.derby.impl.sql.execute.MiscResultSet。

**但是当我查看 Eclipse 中的数据库透视图时，更新还没有完成，任何人都可以对此有所了解吗？**

**这是在桌面上创建的 derby.log**

```
---------------------------------------------------------------- 
```

2013-03-11 05:10:17.241 GMT：引导 Derby 版本 Apache 软件基金会 - Apache Derby - 10.5.1.1 - (764942)：数据库目录 /home/sankya/JeeteshBD 上的实例 c013800d-013d-57db-3673-0000018a21b0

数据库类加载器已启动 - derby.database.classpath=''

格林威治标准时间 2013-03-11 05:10:17.639：

## 关闭实例 c013800d-013d-57db-3673-0000018a21b0

* * *

2013-03-11 05:10:27.773 GMT：引导 Derby 版本 Apache 软件基金会 - Apache Derby - 10.5.1.1 - (764942)：数据库目录 /home/sankya/JeeteshBD 上的实例 a816c00e-013d-57db-3673-0000018a21b0

数据库类加载器已启动 - derby.database.classpath=''

格林威治标准时间 2013 年 3 月 11 日 06:22:45.639：

## 关闭实例 a816c00e-013d-57db-3673-0000018a21b0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:40:28.340

```
stmt.execute(createString); 
```

上面的行给出了 sql 异常。所以下一行无法执行。很明显，该表存在于您的数据库中。正确检查您的数据库..

如果表中存在表，则注释“ `stmt.execute(createString);`”这个 .. 运行应用程序，它肯定可以工作..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T09:43:09.787

仅当不存在时才需要创建表。

```
Connection connection = DriverManager.getConnection(connectionURL);
DatabaseMetaData dbmd = connection.getMetaData();
ResultSet rs = dbmd.getTables(null, "SANKYA", "ADDRESS", null);
if(!rs.next())
{
    Statement stmt = conn.createStatement();
    stmt.setPoolable(true);
    stmt.execute(createString);
} 
```

# ios - 滑动删除时无法移动表格视图单元格

> ID：15354050
> 
> 赞同：0
> 
> 时间：2013-03-12T05:36:47.470
> 
> 标签：ios

我有一个包含所有必需数据源和委托方法的表视图。

在我滑动单元格时运行时，会出现删除按钮，但会出现在单元格内容上。细胞不会移动。

我预计以下代码中存在移动单元格的功能，但它没有

```
- (void)setEditing:(BOOL)editing animated:(BOOL)animated
{
    [super setEditing:editing animated:animated];
    [self.tableView setEditing:editing animated:animated];
}

- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(indexPath.row)
        return YES;
    else
        return NO;
}

- (UITableViewCellEditingStyle)tableView:(UITableView *)tableView editingStyleForRowAtIndexPath:(NSIndexPath *)indexPath
{
    return UITableViewCellEditingStyleDelete;
}

- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (editingStyle == UITableViewCellEditingStyleDelete) 
    {

        [[NoteManager sharedManager] removeNoteAtIndex:indexPath.row];
        [self.tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationFade];
    }
} 
```

请帮我解决这个简单的问题 A quick help is appriciated..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:42:34.593

当您将子视图添加到单元格时，请确保将它们添加到单元格`contentView`，而不是单元格。

```
[cell.contentView addSubview:someSubview]; 
```

的框架`contentView`将根据需要调整各种单元格装饰，包括删除按钮。

# python - 如何确定 InvalidOAuthParametersError 缺少哪些参数？

> ID：15354055
> 
> 赞同：1
> 
> 时间：2013-03-12T05:37:24.430
> 
> 标签：python, google-app-engine, oauth, google-chrome-extension

我正在使用[GAE 的 Python oauth api](https://developers.google.com/appengine/docs/python/oauth/functions)来获取当前用户。但我得到了`InvalidOAuthParametersError`。如何确定哪个参数丢失/无效？

我正在使用[Google Chrome oauth 库](http://developer.chrome.com/extensions/tut_oauth.html)进行身份验证（它用于扩展）。

# c++ - 致命错误 LNK1169

> ID：15354056
> 
> 赞同：2
> 
> 时间：2013-03-12T05:37:25.473
> 
> 标签：c++, fortran, linker-errors, fortran77

弹出以下错误列表。如果这发生在发布版本上，我很好。

它发生在 DEBUG 构建中是相当令人惊讶的。

> 1>libcmtd.lib(dbgheap.obj) : 错误 LNK2005: malloc 已在 libcmt.lib(malloc.obj) 中定义
> 1>libcmtd.lib(dbgheap.obj) : 错误 LNK2005: _heap_alloc 已在 libcmt.lib(malloc.obj) 中定义obj)
> 1>libcmtd.lib(dbgheap.obj) : 错误 LNK2005: calloc 已经定义在 libcmt.lib(calloc.obj)
> 1>libcmtd.lib(dbgheap.obj) : 错误 LNK2005: realloc 已经定义在 libcmt.lib( realloc.obj)
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_recalloc 已在 libcmt.lib(realloc.obj) 中定义
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_expand 已在 libcmt 中定义。 lib(expand.obj)
> 1>libcmtd.lib(dbgheap.obj) : error LNK2005: free already defined in libcmt.lib(free.obj)
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_msize 已在 libcmt.lib(msize.obj) 中定义 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_malloc 已在 libcmt.lib(align.obj)
> 中定义obj)
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_realloc 已在 libcmt.lib(align.obj) 中定义
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_recalloc 已在 libcmt.lib( align.obj)
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_offset_malloc 已在 libcmt.lib(align.obj) 中定义
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_offset_realloc 已在 libcmt 中定义。 lib(align.obj)
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_offset_recalloc 已在 libcmt.lib(align.obj) 中定义
> 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_free 已在 libcmt.lib(align.obj) 中定义 1>libcmtd.lib(dbgheap.obj)：错误 LNK2005：_aligned_msize 已在 libcmt.lib(align.obj)
> 中定义obj）
> 1>libcmtd.lib（dbghook.obj）：错误 LNK2005：__crt_debugger_hook 已在 libcmt.lib（dbghook.obj）中定义
> 1>libcmtd.lib（isctype.obj）：错误 LNK2005：_isctype_l 已在 libcmt.lib（ isctype.obj)
> 1>libcmtd.lib(isctype.obj) : 错误 LNK2005: _isctype 已在 libcmt.lib(isctype.obj) 中定义

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T05:47:11.610

看起来您正在链接到调试运行时以及发布运行时 - 可能您有一个发布版本，该版本静态链接到调试库，反之亦然。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T05:59:40.803

*   如果您的应用程序使用任何`LIB`s 或`DLL`s，其中任何一个都与运行时程序集静态链接。这就是这个链接错误的原因。
*   不推荐使用静态喜欢的运行时程序集

*   但是，如果您需要摆脱这个链接错误，请`right-click on project file in project explorer`-> `properties`-> `configuration properties`-> `linker`-> `Input`-> `Ignore Specific Library`-> 添加`libcmtd.lib`

# filepicker.io - 如何让 filepicker.io 图片的文件名出现在它旁边的输入字段中

> ID：15354063
> 
> 赞同：0
> 
> 时间：2013-03-12T05:37:49.617
> 
> 标签：filepicker.io

我试图让上传图片的文件名出现在选择器按钮旁边的输入字段中（对于 filepicker.io）。基本上，我试图找到在输入标签的值字段中输入的内容，以便在上传图片后显示文件名。这是我的代码：

```
<div class="row margin" id='img-row'>
<input id="filename" disabled="disabled" value="<WHAT DO I PUT HERE?>" class="input" type="text" style="width: 360px;"/>
<input name="img" data-fp-class="form-simple-action-btn filepicker_launcher" data-fp-button-text="Choose Image" data-fp-services="COMPUTER,FACEBOOK,FLICKR,INSTAGRAM,PICASA" data-fp-container="modal" data-fp-mimetypes="image/*" type="filepicker" data-fp-apikey="#################" id='campaign-img-input' value="<php echo h($_POST['img'])"/>
 </div> 
```

感谢您的帮助！我在文档中没有找到任何其他类似的示例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T22:45:34.317

推荐的方法是将函数绑定到文件选择器输入类型的 onchange 事件。上传完成后，将调用该函数，您可以从 e.fpfile 属性中提取文件名。

`filepicker.pick`或者，如果您对自定义行为感兴趣，直接使用调用可能会更容易。在许多情况下，该小部件非常适合作为插入式解决方案，但如果您希望进一步自定义，我建议直接使用 javascript api。

# mysql - 如何使用 dbCRUD 为 nodeJS 发布数据

> ID：15354065
> 
> 赞同：0
> 
> 时间：2013-03-12T05:37:51.620
> 
> 标签：mysql, node.js

dbcrud 的 get 功能可以很好地从 mysql 数据库中检索信息。但我无法发布数据，即将数据插入 mysql 数据库。此外，dbCRUD 是否支持放置和删除？就我所尝试的而言，它被解释为得到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:48:52.097

虽然我知道这并不能完全回答您的问题，但您必须发布您正在尝试的代码，以获取有关您的电话为何无法正常工作的具体答案。

至于您的其他问题，您是否阅读过文档？PUT 似乎没有被删除，但是对现有资源的发布请求将执行更新。[您可以在此处](https://github.com/johnroers/dbCRUD#the-quick-pitch)的第二个代码块中看到这一点。

[您可以在此处](https://github.com/johnroers/dbCRUD#to-do)阅读有关删除的信息。

> 删除目前是半生不熟的。当您对任何对象发出保存时，如果在该对象中定义了“_destroy”并且为 true，则 dbCRUD 将删除它。这是目前唯一的删除方法，而且效果很好。但显然一些专门的方法是有序的。

# django - __init__() 只需要 1 个参数（给定 3 个）

> ID：15354073
> 
> 赞同：2
> 
> 时间：2013-03-12T05:38:34.943
> 
> 标签：django

**错误**

```
response = callback(request,*callback_args,**callback_kwargs)
Exception Type: TypeError at /accounts/profile/
Exception Value: __init__() takes exactly 1 argument (3 given) 
```

这是我的代码

**网址.py**

```
from django.conf.urls import patterns, include, url
from django.conf.urls.defaults import *
from django.contrib.auth.views import password_reset, password_reset_done, password_change, password_change_done
from django.views.generic import TemplateView
from django.contrib import admin

admin.autodiscover()

urlpatterns = patterns('', (r'^admin/', include(admin.site.urls)),
    (r'^accounts/', include('registration.urls')),
    (r'^accounts/profile/$', TemplateView, {'template': 'registration/profile.html'}),
    (r'^accounts/password_reset/$', password_reset, {'template_name': 'registration/password_reset.html'}),
    (r'^accounts/password_reset_done/$', password_reset_done, {'template_name': 'registration/password_reset_done.html'}),
    (r'^accounts/password_change/$', password_change, {'template_name': 'registration/password_change.html'}),
    (r'^accounts/password_change_done/$', password_change_done, {'template_name': 'registration/password_change_done.html'}),
) 
```

**视图.py**

```
from django.conf import settings
from django.http import HttpResponseRedirect
from django.shortcuts import render_to_response
from django.template import RequestContext
from models import RegistrationProfile
from forms import RegistrationForm
from django.core.context_processors import csrf

def activate(request, activation_key):
    activation_key = activation_key.lower() # Normalize before trying anything with it.
    account = RegistrationProfile.objects.activate_user(activation_key)
    return render_to_response('registration/activate.html',{
        'account': account, 
        'expiration_days': settings.ACCOUNT_ACTIVATION_DAYS 
    }, context_instance=RequestContext(request))

c = {} c.update(csrf(request))

def register(request, success_url='/accounts/register/complete/'):
    form = RegistrationForm()
    if request.method == 'POST':
        form = RegistrationForm(request.POST)

        if form.is_valid(): 
            new_user=RegistrationProfile.objects.create_inactive_user(
                username=form.cleaned_data['username'], 
                password=form.cleaned_data['password1'], 
                email=form.cleaned_data['email']
                )
            return HttpResponseRedirect(success_url)

    return render_to_response('registration/registration_form.html', { 
        'form': form 
    }, context_instance=RequestContext(request)) 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-19T19:31:30.820

Your current error is caused by passing `TemplateView` into your url conf. It should be `TemplateView.as_view()`.

```
urlpatterns = patterns('', 
    #...
    (r'^accounts/profile/$', TemplateView.as_view(template= 'registration/profile.html')),
    #...
) 
```

# .net - 有没有办法通过cs文件搜索

> ID：15354077
> 
> 赞同：0
> 
> 时间：2013-03-12T05:38:38.560
> 
> 标签：.net, reflection, c#-3.0, reflection.emit, system.reflection

我需要列出 cs 文件中的方法并列出方法中的每个方法调用。例如：我有一堂课

```
public void method1 ()
{
    c2.M2();
}

public void method2 ()
{
    c2.m3();
} 
```

这里 c2 是另一个类， m2 m3 是该类的方法。在这里我需要准备一个列表 c2.m2() 和 c2.m3() ，我有一百个或更多的 cs 文件来列出这些细节。

有什么方法可以有效地浏览 cs 文件并进行搜索，而不是加载它们并处理文件流阅读器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T11:28:12.283

获得所需内容的两种不同方式：

*   [Mono.Cecil](http://www.mono-project.com/Cecil)查看已编译的程序集（如 Reflection 和/或 ILDasm），并允许您检查方法体内的 IL 指令。
*   [Roslyn](http://msdn.microsoft.com/en-us/vstudio/roslyn.aspx)查看 .cs 源文件并为您提供解析树。

任何一个都应该让您列出在每个方法中进行的调用。

# python - “render._keywords['globals']['render'] = render”在 web.py 骨架代码中是什么意思？

> ID：15354080
> 
> 赞同：1
> 
> 时间：2013-03-12T05:38:52.083
> 
> 标签：python, web.py

“render._keywords['globals']['render'] = render”在 web.py 骨架代码中是什么意思？ [http://webpy.org/skeleton/0.3](http://webpy.org/skeleton/0.3)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T10:24:49.387

It means that `render` will be accesible inside templates to be able to render nested templates.

It is then used in templates/listing.html to render item template

```
$def with (items)

$for item in items:
    $:render.item(item) 
```

# c# - 数学表达式评估器出错了

> ID：15354083
> 
> 赞同：2
> 
> 时间：2013-03-12T05:39:11.160
> 
> 标签：c#, algorithm, parsing, math, evaluation

**嗨，大家好，**

我已经开始使用 Dijkstra 两个堆栈算法制作这个数学表达式评估器，我想我已经仔细应用了所有规则，但问题是它可以正确评估一些表达式和一些错误：/

```
//I made it in a Console project
 static void Main(string[] args)
        {
        string expression = "2*3+232+34*45/3-4*45+3";
        //remove all whitespaces
        expression = expression.Trim();

        //two stacks needed
        var values = new Stack<double>();
        var operators = new Stack<char>();
    Dictionary<char, OperatorInfo> operatorList = new Dictionary<char, OperatorInfo> 
    {
        {'+',new OperatorInfo('+',"Add",2,OperatorFixity.Left)},
        {'-',new OperatorInfo('-',"Minus",2,OperatorFixity.Left)},
        {'/',new OperatorInfo('/',"Divide",3,OperatorFixity.Left)},
        {'*',new OperatorInfo('*',"Multiply",3,OperatorFixity.Left)},
        {'^',new OperatorInfo('^',"Caret",4,OperatorFixity.Right)}
    };

    for (int i = 0; i < expression.Length; i++)
    {
        if (expression[i].Equals('('))
            continue;//ignore it 
        else if (IsNumber(expression[i].ToString()))//if its a number
        {
            //extract number
            string[] getNumberNCount =
                getNumberAndCount(expression.Substring(i)).Split(',');
            double val = double.Parse(getNumberNCount[0]);
            int count = int.Parse(getNumberNCount[1]);
            values.Push(val);
            i += count;
        }
        else if (IsOperator(expression[i]))
        {
            //Maintain precedence on stack
            if (operators.Count > 0)
            {
               CheckPrecedence(expression[i], ref values, ref operators, operatorList);
            }
            else
                operators.Push(expression[i]);//runs first time only
        }
    }

    //now most precedence is solved
    while (operators.Count != 0)
    {
        var LastOperand = values.Pop();
        var PrevOperand = values.Pop();
        var lastOperator = operators.Pop();
        values.Push(calculateExpression(lastOperator, LastOperand, PrevOperand));
    }
    Console.WriteLine("Input Expression is: " + expression);
    Console.WriteLine("Result is: " + values.Pop());
    Console.ReadLine();
}

//it checks for precedence of operators before push
//that's the basic logic for calculation
  private static void CheckPrecedence(char currentOp, ref Stack<double> values, ref Stack<char> operators, Dictionary<char, OperatorInfo> operatorList)
        {
            char lastStackOp = operators.Peek();
            //if same precedence of both Op are same
            //OR lastOp > than CurrentOp
            if ((operatorList[lastStackOp].Precedence == operatorList[currentOp].Precedence) ||
                    (operatorList[lastStackOp].Precedence > operatorList[currentOp].Precedence))
            {
                var TopMostOperand = values.Pop();
                var PrevOperand = values.Pop();
                var TopMostOperator = operators.Pop();
                values.Push(calculateExpression(TopMostOperator, TopMostOperand, PrevOperand));
                operators.Push(currentOp);
            }
            else
            {
                operators.Push(currentOp);
            }
        }

//extracts out number from string
        public static string getNumberAndCount(string numberStr)
        {
            var number = "";
            int count = 0;
            if (numberStr.Length >= 1)
            {
                while (IsNumber(numberStr[count].ToString()))
                {
                    number += numberStr[count];
                    if (numberStr.Length == 1)
                        break;
                    count++;
                }
            }
            return number + "," + (count == 0 ? count : count - 1);
        } 
```

**问题：**
1）为什么当我正确应用规则时它仍然不起作用（我知道我在某处犯了错误）
2）如何添加括号支持？

**PS：**我必须为应用程序制作这个..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:22:36.803

尝试更改此方法：

```
private static void CheckPrecedence(char currentOp, ref Stack<double> values, ref Stack<char> operators,
                                        Dictionary<char, int> operatorList)
    {
        char lastStackOp = operators.Peek();
        //if same precedence of both Op are same
        //OR lastOp > than CurrentOp
        while (((operatorList[lastStackOp] == operatorList[currentOp]) ||
            (operatorList[lastStackOp] > operatorList[currentOp])))
        {
            var TopMostOperand = values.Pop();
            var PrevOperand = values.Pop();
            var TopMostOperator = operators.Pop();
            values.Push(calculateExpression(TopMostOperator, TopMostOperand, PrevOperand));

            if (operators.Count == 0)
                break;

            lastStackOp = operators.Peek();
        }
        operators.Push(currentOp);

    } 
```

问题是，如果您最终评估堆栈中的运算符，因为它具有比当前操作更高的优先级，您必须检查堆栈的新头部是否也具有比当前操作更高或相等的优先级。我已经用 while 循环替换了 if 语句以继续检查，直到不再满足条件。

我会尝试让括号工作，并在几分钟后检查:)

编辑（对于括号）：括号被视为特殊字符，仅在关闭后才评估。为了让它们工作，将以下 2 个值添加到 operatorlist：

```
 {'*',new OperatorInfo('(',"OpenBracket",5,OperatorFixity.Left)},
    {'^',new OperatorInfo(')',"CloseBracket",5,OperatorFixity.Left)} 
```

并改变这个：

```
else if (IsOperator(expression[i]))
{
    //Maintain precedence on stack
    if (operators.Count > 0)
    {
       CheckPrecedence(expression[i], ref values, ref operators, operatorList);
    }
    else
        operators.Push(expression[i]);//runs first time only
} 
```

对此：

```
else if (IsOperator(expression[i]))
{
    //Maintain precedence on stack
    if (operators.Count > 0 && expression[i] != '(' && expression[i] != ')')
    {
        CheckPrecedence(expression[i], ref values, ref operators, operatorList);
    }
    else if (expression[i] == ')')
    {
        while (operators.Peek() != '(')
        {
            var lastOperator = operators.Pop();
            var LastOperand = values.Pop();
            var PrevOperand = values.Pop();
            values.Push(calculateExpression(lastOperator, LastOperand, PrevOperand));
        }
        operators.Pop();
    }
    else
        operators.Push(expression[i]);
    } 
```

# html - CSS - 获取背景颜色以填充下拉菜单

> ID：15354086
> 
> 赞同：0
> 
> 时间：2013-03-12T05:39:33.397
> 
> 标签：html, css, xhtml

CSS 新手。我有一个导航菜单栏，当您将鼠标悬停在“组合”下的下拉菜单中时，我试图填充背景颜色（蓝色）。有任何想法吗？我想是因为那个绝对？

CSS：

```
#nav, #nav ul {
float: left;
list-style: none;
box-shadow: 0px 1px 7px #000000;
background-color: #F5F1DE;
border-radius: 5px 5px 0px 0px;
z-index: 100;
}

#nav li a {
display: block;
padding: 16px;
text-decoration: none;
font-weight: bold;
color: black;
border-left: 1px solid #ccc;
font-size: 1em;
}

#nav li a:hover {
color: black;
background-color: #bbecff;
}

#nav li {
float: left;
}

#nav li ul {
position: absolute;
width: 11em;
left: -999em;
border-radius: 1px;
}

#nav li:hover ul, #nav li.sfhover ul {
left: auto; 
} 
```

HTML：

```
<ul id="nav">
<li><a href="#">Home</a></li>
<li><a href="#">About</a></li>
<li><a href="#">Packages</a></li>
<li><a href="#">Portfolio</a>
    <ul>
        <li><a href="#">Weddings</a></li>
        <li><a href="#">Special Events</a></li>
        <li><a href="#">Holidays</a></li>
        <li><a href="#">Fresh Flowers</a></li>
        <li><a href="#">Balloon Sculptures</a></li>
    </ul>
</li>
<li><a href="#">Contact</a></li>
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T05:44:11.083

试试这个，希望它对你有用

添加CSS

```
#nav li ul{
background:#0066CC;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T05:50:05.170

仅添加.Update 您的以下 CSS 行的`float:left`第一个孩子：`ul`

```
#nav li {float: left;} 
```

到

```
#nav > li {float: left;} 
```

这是[小提琴](http://jsfiddle.net/bNGfH/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T05:58:01.233

为以下内容提供背景颜色

```
 #nav li:hover ul, #nav li.sfhover ul 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T05:41:47.920

```
#nav li:hover ul, #nav li.sfhover ul {
    background-color: #bbecff; 
} 
```

但是话虽如此：为什么不直接将 应用于`background-color`子菜单`ul`？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T05:46:19.740

你也可以试试这个，我已经给了`id`各自的 li

```
 <li id=blueColor>
        <li><a href="#">Weddings</a></li>
        <li><a href="#">Special Events</a></li>
        <li><a href="#">Holidays</a></li>
        <li><a href="#">Fresh Flowers</a></li>
        <li><a href="#">Balloon Sculptures</a></li>
    </ul> 
```

在 CSS 中

```
#blueColor:hover{
backgroung-color:blue
} 
```

# android - 从单个对话框片段中获取日期和时间选择器值并将其设置在 EditText

> ID：15354089
> 
> 赞同：10
> 
> 时间：2013-03-12T05:39:43.630
> 
> 标签：android, datepicker, datetimepicker, timepicker

我正在开发一个用户可以设置日期和时间的应用程序。我想在单个对话框片段中设置日期和时间并将其设置为编辑文本。是否可以在 1 个对话框片段中使用日期和时间选择器？如果是，你是怎么做的？目前我正在从对话框片段中获取时间，然后将其设置为`EditText`.

我的代码是

```
LaterTextView=(TextView)findViewById(R.id.PickUp_later_TextView);

       LaterTextView.setOnClickListener(new View.OnClickListener() {

            @SuppressWarnings("deprecation")
            public void onClick(View v) {
                showDialog(TIME_DIALOG_ID);

                }
        });

}

protected Dialog onCreateDialog(int id) {
    switch (id) {
    case TIME_DIALOG_ID:

        // set time picker as current time
        return new TimePickerDialog(this, timePickerListener, hour, minute,
                false);

    }
    return null;
}

private TimePickerDialog.OnTimeSetListener timePickerListener = new TimePickerDialog.OnTimeSetListener() {
    public void onTimeSet(TimePicker view, int selectedHour,
            int selectedMinute) {
        hour = selectedHour;
        minute = selectedMinute;

        // set current time into TextView
        setDate_time_EditTExt.setText(new StringBuilder().append(pad(hour))
                .append(":").append(pad(minute)));

    }
};
private static String pad(int c) {
    if (c >= 10)
        return String.valueOf(c);
    else
        return "0" + String.valueOf(c);
} 
```

我想从同一个对话框片段中设置日期和时间。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-12T07:35:47.023

**日期选择器**和**时间选择器**都*在单个对话框*中。检查此代码。

**main_Activity.java**

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    custom = new CustomDateTimePicker(this,
            new CustomDateTimePicker.ICustomDateTimeListener() {

                @Override
                public void onSet(Dialog dialog, Calendar calendarSelected,
                        Date dateSelected, int year, String monthFullName,
                        String monthShortName, int monthNumber, int date,
                        String weekDayFullName, String weekDayShortName,
                        int hour24, int hour12, int min, int sec,
                        String AM_PM) {
                    ((TextView) findViewById(R.id.lablel))
                            .setText(calendarSelected
                                            .get(Calendar.DAY_OF_MONTH)
                                    + "/" + (monthNumber+1) + "/" + year
                                    + ", " + hour12 + ":" + min
                                    + " " + AM_PM);
                }

                @Override
                public void onCancel() {

                }
            });
    /**
     * Pass Directly current time format it will return AM and PM if you set
     * false
     */
    custom.set24HourFormat(false);
    /**
     * Pass Directly current data and time to show when it pop up
     */
    custom.setDate(Calendar.getInstance());

    findViewById(R.id.button_date).setOnClickListener(
            new OnClickListener() {

                @Override
                public void onClick(View v) {
                    custom.showDialog();
                }
            });
}

CustomDateTimePicker custom;

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

**CustomDateTimePicker.java**

```
public class CustomDateTimePicker implements OnClickListener {
private DatePicker datePicker;
private TimePicker timePicker;
private ViewSwitcher viewSwitcher;

private final int SET_DATE = 100, SET_TIME = 101, SET = 102, CANCEL = 103;

private Button btn_setDate, btn_setTime, btn_set, btn_cancel;

private Calendar calendar_date = null;

private Activity activity;

private ICustomDateTimeListener iCustomDateTimeListener = null;

private Dialog dialog;

private boolean is24HourView = true, isAutoDismiss = true;

private int selectedHour, selectedMinute;

public CustomDateTimePicker(Activity a,
        ICustomDateTimeListener customDateTimeListener) {
    activity = a;
    iCustomDateTimeListener = customDateTimeListener;

    dialog = new Dialog(activity);
    dialog.setOnDismissListener(new OnDismissListener() {
        @Override
        public void onDismiss(DialogInterface dialog) {
            resetData();
        }
    });

    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
    View dialogView = getDateTimePickerLayout();
    dialog.setContentView(dialogView);
}

public View getDateTimePickerLayout() {
    LinearLayout.LayoutParams linear_match_wrap = new LinearLayout.LayoutParams(
            LinearLayout.LayoutParams.MATCH_PARENT,
            LinearLayout.LayoutParams.MATCH_PARENT);
    LinearLayout.LayoutParams linear_wrap_wrap = new LinearLayout.LayoutParams(
            LinearLayout.LayoutParams.WRAP_CONTENT,
            LinearLayout.LayoutParams.WRAP_CONTENT);
    FrameLayout.LayoutParams frame_match_wrap = new FrameLayout.LayoutParams(
            FrameLayout.LayoutParams.MATCH_PARENT,
            FrameLayout.LayoutParams.WRAP_CONTENT);

    LinearLayout.LayoutParams button_params = new LinearLayout.LayoutParams(
            0, LinearLayout.LayoutParams.WRAP_CONTENT, 1.0f);

    LinearLayout linear_main = new LinearLayout(activity);
    linear_main.setLayoutParams(linear_match_wrap);
    linear_main.setOrientation(LinearLayout.VERTICAL);
    linear_main.setGravity(Gravity.CENTER);

    LinearLayout linear_child = new LinearLayout(activity);
    linear_child.setLayoutParams(linear_wrap_wrap);
    linear_child.setOrientation(LinearLayout.VERTICAL);

    LinearLayout linear_top = new LinearLayout(activity);
    linear_top.setLayoutParams(linear_match_wrap);

    btn_setDate = new Button(activity);
    btn_setDate.setLayoutParams(button_params);
    btn_setDate.setText("Set Date");
    btn_setDate.setId(SET_DATE);
    btn_setDate.setOnClickListener(this);

    btn_setTime = new Button(activity);
    btn_setTime.setLayoutParams(button_params);
    btn_setTime.setText("Set Time");
    btn_setTime.setId(SET_TIME);
    btn_setTime.setOnClickListener(this);

    linear_top.addView(btn_setDate);
    linear_top.addView(btn_setTime);

    viewSwitcher = new ViewSwitcher(activity);
    viewSwitcher.setLayoutParams(frame_match_wrap);

    datePicker = new DatePicker(activity);
    timePicker = new TimePicker(activity);
    timePicker.setOnTimeChangedListener(new OnTimeChangedListener() {
        @Override
        public void onTimeChanged(TimePicker view, int hourOfDay, int minute) {
            selectedHour = hourOfDay;
            selectedMinute = minute;
        }
    });

    viewSwitcher.addView(timePicker);
    viewSwitcher.addView(datePicker);

    LinearLayout linear_bottom = new LinearLayout(activity);
    linear_match_wrap.topMargin = 8;
    linear_bottom.setLayoutParams(linear_match_wrap);

    btn_set = new Button(activity);
    btn_set.setLayoutParams(button_params);
    btn_set.setText("Set");
    btn_set.setId(SET);
    btn_set.setOnClickListener(this);

    btn_cancel = new Button(activity);
    btn_cancel.setLayoutParams(button_params);
    btn_cancel.setText("Cancel");
    btn_cancel.setId(CANCEL);
    btn_cancel.setOnClickListener(this);

    linear_bottom.addView(btn_set);
    linear_bottom.addView(btn_cancel);

    linear_child.addView(linear_top);
    linear_child.addView(viewSwitcher);
    linear_child.addView(linear_bottom);

    linear_main.addView(linear_child);

    return linear_main;
}

public void showDialog() {
    if (!dialog.isShowing()) {
        if (calendar_date == null)
            calendar_date = Calendar.getInstance();

        selectedHour = calendar_date.get(Calendar.HOUR_OF_DAY);
        selectedMinute = calendar_date.get(Calendar.MINUTE);

        timePicker.setIs24HourView(is24HourView);
        timePicker.setCurrentHour(selectedHour);
        timePicker.setCurrentMinute(selectedMinute);

        datePicker.updateDate(calendar_date.get(Calendar.YEAR),
                calendar_date.get(Calendar.MONTH),
                calendar_date.get(Calendar.DATE));

        dialog.show();

        btn_setDate.performClick();
    }
}

public void setAutoDismiss(boolean isAutoDismiss) {
    this.isAutoDismiss = isAutoDismiss;
}

public void dismissDialog() {
    if (!dialog.isShowing())
        dialog.dismiss();
}

public void setDate(Calendar calendar) {
    if (calendar != null)
        calendar_date = calendar;
}

public void setDate(Date date) {
    if (date != null) {
        calendar_date = Calendar.getInstance();
        calendar_date.setTime(date);
    }
}

public void setDate(int year, int month, int day) {
    if (month < 12 && month >= 0 && day < 32 && day >= 0 && year > 100
            && year < 3000) {
        calendar_date = Calendar.getInstance();
        calendar_date.set(year, month, day);
    }

}

public void setTimeIn24HourFormat(int hourIn24Format, int minute) {
    if (hourIn24Format < 24 && hourIn24Format >= 0 && minute >= 0
            && minute < 60) {
        if (calendar_date == null)
            calendar_date = Calendar.getInstance();

        calendar_date.set(calendar_date.get(Calendar.YEAR),
                calendar_date.get(Calendar.MONTH),
                calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,
                minute);

        is24HourView = true;
    }
}

public void setTimeIn12HourFormat(int hourIn12Format, int minute,
        boolean isAM) {
    if (hourIn12Format < 13 && hourIn12Format > 0 && minute >= 0
            && minute < 60) {
        if (hourIn12Format == 12)
            hourIn12Format = 0;

        int hourIn24Format = hourIn12Format;

        if (!isAM)
            hourIn24Format += 12;

        if (calendar_date == null)
            calendar_date = Calendar.getInstance();

        calendar_date.set(calendar_date.get(Calendar.YEAR),
                calendar_date.get(Calendar.MONTH),
                calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,
                minute);

        is24HourView = false;
    }
}

public void set24HourFormat(boolean is24HourFormat) {
    is24HourView = is24HourFormat;
}

public interface ICustomDateTimeListener {
    public void onSet(Dialog dialog, Calendar calendarSelected,
            Date dateSelected, int year, String monthFullName,
            String monthShortName, int monthNumber, int date,
            String weekDayFullName, String weekDayShortName, int hour24,
            int hour12, int min, int sec, String AM_PM);

    public void onCancel();
}

@Override
public void onClick(View v) {
    switch (v.getId()) {
    case SET_DATE:
        btn_setTime.setEnabled(true);
        btn_setDate.setEnabled(false);
        viewSwitcher.showNext();
        break;

    case SET_TIME:
        btn_setTime.setEnabled(false);
        btn_setDate.setEnabled(true);
        viewSwitcher.showPrevious();
        break;

    case SET:
        if (iCustomDateTimeListener != null) {
            int month = datePicker.getMonth();
            int year = datePicker.getYear();
            int day = datePicker.getDayOfMonth();

            calendar_date.set(year, month, day, selectedHour,
                    selectedMinute);

            iCustomDateTimeListener.onSet(dialog, calendar_date,
                    calendar_date.getTime(), calendar_date
                            .get(Calendar.YEAR),
                    getMonthFullName(calendar_date.get(Calendar.MONTH)),
                    getMonthShortName(calendar_date.get(Calendar.MONTH)),
                    calendar_date.get(Calendar.MONTH), calendar_date
                            .get(Calendar.DAY_OF_MONTH),
                    getWeekDayFullName(calendar_date
                            .get(Calendar.DAY_OF_WEEK)),
                    getWeekDayShortName(calendar_date
                            .get(Calendar.DAY_OF_WEEK)), calendar_date
                            .get(Calendar.HOUR_OF_DAY),
                    getHourIn12Format(calendar_date
                            .get(Calendar.HOUR_OF_DAY)), calendar_date
                            .get(Calendar.MINUTE), calendar_date
                            .get(Calendar.SECOND), getAMPM(calendar_date));
        }
        if (dialog.isShowing() && isAutoDismiss)
            dialog.dismiss();
        break;

    case CANCEL:
        if (iCustomDateTimeListener != null)
            iCustomDateTimeListener.onCancel();
        if (dialog.isShowing())
            dialog.dismiss();
        break;
    }
}

/**
 * @param date
 *            date in String
 * @param fromFormat
 *            format of your <b>date</b> eg: if your date is 2011-07-07
 *            09:09:09 then your format will be <b>yyyy-MM-dd hh:mm:ss</b>
 * @param toFormat
 *            format to which you want to convert your <b>date</b> eg: if
 *            required format is 31 July 2011 then the toFormat should be
 *            <b>d MMMM yyyy</b>
 * @return formatted date
 */
public static String convertDate(String date, String fromFormat,
        String toFormat) {
    try {
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(fromFormat);
        Date d = simpleDateFormat.parse(date);
        Calendar calendar = Calendar.getInstance();
        calendar.setTime(d);

        simpleDateFormat = new SimpleDateFormat(toFormat);
        simpleDateFormat.setCalendar(calendar);
        date = simpleDateFormat.format(calendar.getTime());

    } catch (Exception e) {
        e.printStackTrace();
    }

    return date;
}

private String getMonthFullName(int monthNumber) {
    Calendar calendar = Calendar.getInstance();
    calendar.set(Calendar.MONTH, monthNumber);

    SimpleDateFormat simpleDateFormat = new SimpleDateFormat("MMMM");
    simpleDateFormat.setCalendar(calendar);
    String monthName = simpleDateFormat.format(calendar.getTime());

    return monthName;
}

private String getMonthShortName(int monthNumber) {
    Calendar calendar = Calendar.getInstance();
    calendar.set(Calendar.MONTH, monthNumber);

    SimpleDateFormat simpleDateFormat = new SimpleDateFormat("MMM");
    simpleDateFormat.setCalendar(calendar);
    String monthName = simpleDateFormat.format(calendar.getTime());

    return monthName;
}

private String getWeekDayFullName(int weekDayNumber) {
    Calendar calendar = Calendar.getInstance();
    calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);

    SimpleDateFormat simpleDateFormat = new SimpleDateFormat("EEEE");
    simpleDateFormat.setCalendar(calendar);
    String weekName = simpleDateFormat.format(calendar.getTime());

    return weekName;
}

private String getWeekDayShortName(int weekDayNumber) {
    Calendar calendar = Calendar.getInstance();
    calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);

    SimpleDateFormat simpleDateFormat = new SimpleDateFormat("EE");
    simpleDateFormat.setCalendar(calendar);
    String weekName = simpleDateFormat.format(calendar.getTime());

    return weekName;
}

private int getHourIn12Format(int hour24) {
    int hourIn12Format = 0;

    if (hour24 == 0)
        hourIn12Format = 12;
    else if (hour24 <= 12)
        hourIn12Format = hour24;
    else
        hourIn12Format = hour24 - 12;

    return hourIn12Format;
}

private String getAMPM(Calendar calendar) {
    String ampm = (calendar.get(Calendar.AM_PM) == (Calendar.AM)) ? "AM"
            : "PM";
    return ampm;
}

private void resetData() {
    calendar_date = null;
    is24HourView = true;
}

public static String pad(int integerToPad) {
    if (integerToPad >= 10 || integerToPad < 0)
        return String.valueOf(integerToPad);
    else
        return "0" + String.valueOf(integerToPad);
}
} 
```

**activity_main.xml**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<TextView
    android:id="@+id/lablel"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:padding="@dimen/padding_medium"
    android:text="@string/hello_world"
    android:textColor="#000"
    android:textSize="20dp"
    tools:context=".MainActivity" />

<Button
    android:id="@+id/button_date"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/lablel"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="80dp"
    android:text="Date Time Picker" />

</RelativeLayout> 
```

![在此处输入图像描述](../Images/326ffa11c2de5f32b4cb034fefa47285.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-12T06:08:07.773

这很简单：

`Message`您必须在 Bundle 对象中设置对话框的日期/时间，并使用 Message 的方法在对象中设置该 Bundle，`setData`然后在要检索必须创建的日期/时间值的活动中

这是我的做法：

```
public class DatePickerDialog extends DialogFragment {
    private Handler dialogPickerHandler;
    private int mYear;
    private int mMonth;
    private int mDay;   
    private Bundle mBundle;

    /** This is the one argument constructor */
    public DatePickerDialog(Handler h) {
        /**
         * Getting the reference to the message handler instance instantiated in
         * calling activity
         */

        dialogPickerHandler = h;
    } // end constructor

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {

        mBundle = getArguments();

        mYear = mBundle.getInt("set_year");
        mDay = mBundle.getInt("set_day");
        mMonth = mBundle.getInt("set_month");

        return new android.app.DatePickerDialog(getActivity(),
                mDateSetListener, mYear, mMonth, mDay);
    }

    private OnDateSetListener mDateSetListener = new OnDateSetListener() {

        @Override
        public void onDateSet(DatePicker view, int year, int monthOfYear,
                int dayOfMonth) {

            mYear = year;
            mMonth = monthOfYear;
            mDay = dayOfMonth;

            Bundle b = new Bundle();

            b.putInt("set_year", mYear);
            b.putInt("set_month", mMonth);
            b.putInt("set_day", mDay);

            Message m = new Message();

            m.setData(b);

            dialogPickerHandler.sendMessage(m);

        }
    };

} 
```

在要检索这些值的活动中，您必须执行以下操作：

```
 private Bundle mBundle;
    private int mtYear;
    private int mDay;
    private int mMonth;
    private Calendar your_date_object;
    private EditText your_edit_text;
    private SimpleDateFormat simpleDateFormat

    Handler mHandler = new Handler() {
        public void handleMessage(Message m) {
            mBundle = m.getData();

            mtYear = mBundle.getInt("set_year");
            mDay = mBundle.getInt("set_day");
            mMonth = mBundle.getInt("set_month");

            /** update the time on the start Date Button */
            your_date_object.set(mtYear, mMonth, mDay);

            your_edit_text.setText(simpleDateFormat.format(startDate
                        .getTime()));

        }
    }; 
```

确保在活动的方法中初始化`simpleDateFormat`,如下：`your_date_object``onCreate`

```
/** Initialize the simpleDateFormat object */
    simpleDateFormat = new SimpleDateFormat("yyyy dd, MM");

    /** Initialize the your_date_object */

    your_date_object = new GregorianCalendar(); 
```

就是这样。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-05T14:20:12.740

首先感谢@Mr。桑迪编辑@Mr。桑迪代码应有的尊重，以添加更多的附加功能。

*   没有过去的日期
*   错误信息
*   以毫秒为单位的时间

**Main_Activity.java**

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    custom = new CustomDateTimePicker(this,
            new CustomDateTimePicker.ICustomDateTimeListener() {

                @Override
                public void onSet(Dialog dialog, Calendar calendarSelected,
                        Date dateSelected, int year, String monthFullName,
                        String monthShortName, int monthNumber, int date,
                        String weekDayFullName, String weekDayShortName,
                        int hour24, int hour12, int min, int sec,
                        String AM_PM, long _timeInMillies) {
                    ((TextView) findViewById(R.id.lablel))
                            .setText(calendarSelected
                                            .get(Calendar.DAY_OF_MONTH)
                                    + "/" + (monthNumber+1) + "/" + year
                                    + ", " + hour12 + ":" + min
                                    + " " + AM_PM);
long timeInMillies = _timeInMillies;

                }

                @Override
                public void onCancel() {

                }
            });
    /**
     * Pass Directly current time format it will return AM and PM if you set
     * false
     */
    custom.set24HourFormat(false);
    /**
     * Pass Directly current data and time to show when it pop up
     */
    custom.setDate(Calendar.getInstance());

    findViewById(R.id.button_date).setOnClickListener(
            new OnClickListener() {

                @Override
                public void onClick(View v) {
                    custom.showDialog();
                }
            });
}

CustomDateTimePicker custom;

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

**CustomDateTimePicker.java**

```
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import android.app.Activity;
import android.app.Dialog;
import android.content.DialogInterface;
import android.content.DialogInterface.OnDismissListener;
import android.graphics.Typeface;
import android.util.Log;
import android.view.Gravity;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.Window;
import android.widget.Button;
import android.widget.DatePicker;
import android.widget.FrameLayout;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.TimePicker;
import android.widget.TimePicker.OnTimeChangedListener;
import android.widget.Toast;
import android.widget.ViewSwitcher;

public class CustomDateTimePicker implements OnClickListener {
    private DatePicker datePicker;
    private TimePicker timePicker;
    private ViewSwitcher viewSwitcher;

    private final int SET_DATE = 100, SET_TIME = 101, SET = 102, CANCEL = 103;

    private Button btn_setDate, btn_setTime, btn_set, btn_cancel;

    private TextView errMsg;

    private Calendar calendar_date = null;

    private Activity activity;

    private ICustomDateTimeListener iCustomDateTimeListener = null;

    private Dialog dialog;

    private boolean is24HourView = true, isAutoDismiss = true;

    private int selectedHour, selectedMinute;

    public CustomDateTimePicker(Activity a,
            ICustomDateTimeListener customDateTimeListener) {
        activity = a;
        iCustomDateTimeListener = customDateTimeListener;

        dialog = new Dialog(activity);
        dialog.setOnDismissListener(new OnDismissListener() {
            @Override
            public void onDismiss(DialogInterface dialog) {
                resetData();

            }
        });
        dialog.setCancelable(false);
        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
        View dialogView = getDateTimePickerLayout();
        dialog.setContentView(dialogView);
    }

    public View getDateTimePickerLayout() {

        LinearLayout.LayoutParams linear_match_wrap = new LinearLayout.LayoutParams(
                LinearLayout.LayoutParams.MATCH_PARENT,
                LinearLayout.LayoutParams.MATCH_PARENT);
        LinearLayout.LayoutParams linear_wrap_wrap = new LinearLayout.LayoutParams(
                LinearLayout.LayoutParams.WRAP_CONTENT,
                LinearLayout.LayoutParams.WRAP_CONTENT);
        FrameLayout.LayoutParams frame_match_wrap = new FrameLayout.LayoutParams(
                FrameLayout.LayoutParams.MATCH_PARENT,
                FrameLayout.LayoutParams.WRAP_CONTENT);

        LinearLayout.LayoutParams button_params = new LinearLayout.LayoutParams(
                0, LinearLayout.LayoutParams.WRAP_CONTENT, 1.0f);

        LinearLayout linear_main = new LinearLayout(activity);
        linear_main.setLayoutParams(linear_match_wrap);
        linear_main.setOrientation(LinearLayout.VERTICAL);
        linear_main.setGravity(Gravity.CENTER);

        LinearLayout linear_child = new LinearLayout(activity);
        linear_child.setLayoutParams(linear_wrap_wrap);
        linear_child.setOrientation(LinearLayout.VERTICAL);

        LinearLayout linear_top = new LinearLayout(activity);
        linear_top.setLayoutParams(linear_match_wrap);

        btn_setDate = new Button(activity);
        btn_setDate.setLayoutParams(button_params);
        btn_setDate.setText("Set Date");
        btn_setDate.setId(SET_DATE);
        btn_setDate.setOnClickListener(this);

        btn_setTime = new Button(activity);
        btn_setTime.setLayoutParams(button_params);
        btn_setTime.setText("Set Time");
        btn_setTime.setId(SET_TIME);
        btn_setTime.setOnClickListener(this);

        linear_top.addView(btn_setDate);
        linear_top.addView(btn_setTime);

        viewSwitcher = new ViewSwitcher(activity);
        viewSwitcher.setLayoutParams(frame_match_wrap);

        datePicker = new DatePicker(activity);
        timePicker = new TimePicker(activity);
        timePicker.setOnTimeChangedListener(new OnTimeChangedListener() {
            @Override
            public void onTimeChanged(TimePicker view, int hourOfDay, int minute) {
                selectedHour = hourOfDay;
                selectedMinute = minute;
            }
        });

        viewSwitcher.addView(timePicker);
        viewSwitcher.addView(datePicker);

        LinearLayout linear_bottom = new LinearLayout(activity);
        linear_match_wrap.topMargin = 8;
        linear_bottom.setLayoutParams(linear_match_wrap);

        btn_set = new Button(activity);
        btn_set.setLayoutParams(button_params);
        btn_set.setText("Set");
        btn_set.setId(SET);
        btn_set.setOnClickListener(this);

        btn_cancel = new Button(activity);
        btn_cancel.setLayoutParams(button_params);
        btn_cancel.setText("Cancel");
        btn_cancel.setId(CANCEL);
        btn_cancel.setOnClickListener(this);

        linear_bottom.addView(btn_set);
        linear_bottom.addView(btn_cancel);

        errMsg = new TextView(activity);
        errMsg.setLayoutParams(linear_match_wrap);
        errMsg.setText("Can't Select Date From Past.");
        errMsg.setTextColor(activity.getResources().getColor(R.color.Red));
        errMsg.setGravity(Gravity.CENTER_HORIZONTAL);
        errMsg.setTypeface(face);
        errMsg.setVisibility(View.GONE);

        linear_child.addView(linear_top);
        linear_child.addView(viewSwitcher);
        linear_child.addView(errMsg);
        linear_child.addView(linear_bottom);

        linear_main.addView(linear_child);

        return linear_main;
    }

    public void showDialog() {
        if (!dialog.isShowing()) {
            if (calendar_date == null)
                calendar_date = Calendar.getInstance();

            selectedHour = calendar_date.get(Calendar.HOUR_OF_DAY);
            selectedMinute = calendar_date.get(Calendar.MINUTE);

            timePicker.setIs24HourView(is24HourView);
            timePicker.setCurrentHour(selectedHour);
            timePicker.setCurrentMinute(selectedMinute);

            datePicker.updateDate(calendar_date.get(Calendar.YEAR),
                    calendar_date.get(Calendar.MONTH),
                    calendar_date.get(Calendar.DATE));

            dialog.show();

            btn_setDate.performClick();
        }
    }

    public void setAutoDismiss(boolean isAutoDismiss) {
        this.isAutoDismiss = isAutoDismiss;
    }

    public void dismissDialog() {
        if (!dialog.isShowing())
            dialog.dismiss();
    }

    public void setDate(Calendar calendar) {
        if (calendar != null)
            calendar_date = calendar;
    }

    public void setDate(Date date) {
        if (date != null) {
            calendar_date = Calendar.getInstance();
            calendar_date.setTime(date);
        }
    }

    public void setDate(int year, int month, int day) {
        if (month < 12 && month >= 0 && day < 32 && day >= 0 && year > 100
                && year < 3000) {
            calendar_date = Calendar.getInstance();
            calendar_date.set(year, month, day);
        }

    }

    public void setTimeIn24HourFormat(int hourIn24Format, int minute) {
        if (hourIn24Format < 24 && hourIn24Format >= 0 && minute >= 0
                && minute < 60) {
            if (calendar_date == null)
                calendar_date = Calendar.getInstance();

            calendar_date.set(calendar_date.get(Calendar.YEAR),
                    calendar_date.get(Calendar.MONTH),
                    calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,
                    minute);

            is24HourView = true;
        }
    }

    public void setTimeIn12HourFormat(int hourIn12Format, int minute,
            boolean isAM) {
        if (hourIn12Format < 13 && hourIn12Format > 0 && minute >= 0
                && minute < 60) {
            if (hourIn12Format == 12)
                hourIn12Format = 0;

            int hourIn24Format = hourIn12Format;

            if (!isAM)
                hourIn24Format += 12;

            if (calendar_date == null)
                calendar_date = Calendar.getInstance();

            calendar_date.set(calendar_date.get(Calendar.YEAR),
                    calendar_date.get(Calendar.MONTH),
                    calendar_date.get(Calendar.DAY_OF_MONTH), hourIn24Format,
                    minute);

            is24HourView = false;
        }
    }

    public void set24HourFormat(boolean is24HourFormat) {
        is24HourView = is24HourFormat;
    }

    public interface ICustomDateTimeListener {
        public void onSet(Dialog dialog, Calendar calendarSelected,
                Date dateSelected, int year, String monthFullName,
                String monthShortName, int monthNumber, int date,
                String weekDayFullName, String weekDayShortName, int hour24,
                int hour12, int min, int sec, String AM_PM, long timeinMilliSec);

        public void onCancel();
    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {
        case SET_DATE:
            btn_setTime.setEnabled(true);
            btn_setDate.setEnabled(false);
            viewSwitcher.showNext();
            break;

        case SET_TIME:
            btn_setTime.setEnabled(false);
            btn_setDate.setEnabled(true);
            viewSwitcher.showPrevious();
            break;

        case SET:
            if (iCustomDateTimeListener != null) {
                int month = datePicker.getMonth();
                int year = datePicker.getYear();
                int day = datePicker.getDayOfMonth();

                Calendar cal = Calendar.getInstance();
                Log.i("Date",
                        " " + cal.get(Calendar.YEAR) + " "
                                + datePicker.getYear() + " Month"
                                + cal.get(Calendar.MONTH) + " "
                                + datePicker.getMonth() + "Date "
                                + cal.get(Calendar.DAY_OF_MONTH) + " "
                                + datePicker.getDayOfMonth());
                if (cal.get(Calendar.YEAR) <= datePicker.getYear()
                        && cal.get(Calendar.MONTH) <= datePicker.getMonth()
                        && cal.get(Calendar.DAY_OF_MONTH) <= datePicker
                                .getDayOfMonth()) {
                    calendar_date.set(year, month, day, selectedHour,
                            selectedMinute);

                    iCustomDateTimeListener
                            .onSet(dialog, calendar_date, calendar_date
                                    .getTime(), calendar_date
                                    .get(Calendar.YEAR),
                                    getMonthFullName(calendar_date
                                            .get(Calendar.MONTH)),
                                    getMonthShortName(calendar_date
                                            .get(Calendar.MONTH)),
                                    calendar_date.get(Calendar.MONTH),
                                    calendar_date.get(Calendar.DAY_OF_MONTH),
                                    getWeekDayFullName(calendar_date
                                            .get(Calendar.DAY_OF_WEEK)),
                                    getWeekDayShortName(calendar_date
                                            .get(Calendar.DAY_OF_WEEK)),
                                    calendar_date.get(Calendar.HOUR_OF_DAY),
                                    getHourIn12Format(calendar_date
                                            .get(Calendar.HOUR_OF_DAY)),
                                    calendar_date.get(Calendar.MINUTE),
                                    calendar_date.get(Calendar.SECOND),
                                    getAMPM(calendar_date),calendar_date.getTimeInMillis());

                    if (dialog.isShowing() && isAutoDismiss)
                        dialog.dismiss();
                } else {
                    errMsg.setVisibility(View.VISIBLE);
                }
            }
            break;

        case CANCEL:
            if (iCustomDateTimeListener != null)
                iCustomDateTimeListener.onCancel();
            if (dialog.isShowing())
                dialog.dismiss();
            break;
        }
    }

    /**
     * @param date
     *            date in String
     * @param fromFormat
     *            format of your <b>date</b> eg: if your date is 2011-07-07
     *            09:09:09 then your format will be <b>yyyy-MM-dd hh:mm:ss</b>
     * @param toFormat
     *            format to which you want to convert your <b>date</b> eg: if
     *            required format is 31 July 2011 then the toFormat should be
     *            <b>d MMMM yyyy</b>
     * @return formatted date
     */
    public static String convertDate(String date, String fromFormat,
            String toFormat) {
        try {
            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(fromFormat);
            Date d = simpleDateFormat.parse(date);
            Calendar calendar = Calendar.getInstance();
            calendar.setTime(d);

            simpleDateFormat = new SimpleDateFormat(toFormat);
            simpleDateFormat.setCalendar(calendar);
            date = simpleDateFormat.format(calendar.getTime());

        } catch (Exception e) {
            e.printStackTrace();
        }

        return date;
    }

    private String getMonthFullName(int monthNumber) {
        Calendar calendar = Calendar.getInstance();
        calendar.set(Calendar.MONTH, monthNumber);

        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("MMMM");
        simpleDateFormat.setCalendar(calendar);
        String monthName = simpleDateFormat.format(calendar.getTime());

        return monthName;
    }

    private String getMonthShortName(int monthNumber) {
        Calendar calendar = Calendar.getInstance();
        calendar.set(Calendar.MONTH, monthNumber);

        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("MMM");
        simpleDateFormat.setCalendar(calendar);
        String monthName = simpleDateFormat.format(calendar.getTime());

        return monthName;
    }

    private String getWeekDayFullName(int weekDayNumber) {
        Calendar calendar = Calendar.getInstance();
        calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);

        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("EEEE");
        simpleDateFormat.setCalendar(calendar);
        String weekName = simpleDateFormat.format(calendar.getTime());

        return weekName;
    }

    private String getWeekDayShortName(int weekDayNumber) {
        Calendar calendar = Calendar.getInstance();
        calendar.set(Calendar.DAY_OF_WEEK, weekDayNumber);

        SimpleDateFormat simpleDateFormat = new SimpleDateFormat("EE");
        simpleDateFormat.setCalendar(calendar);
        String weekName = simpleDateFormat.format(calendar.getTime());

        return weekName;
    }

    private int getHourIn12Format(int hour24) {
        int hourIn12Format = 0;

        if (hour24 == 0)
            hourIn12Format = 12;
        else if (hour24 <= 12)
            hourIn12Format = hour24;
        else
            hourIn12Format = hour24 - 12;

        return hourIn12Format;
    }

    private String getAMPM(Calendar calendar) {
        String ampm = (calendar.get(Calendar.AM_PM) == (Calendar.AM)) ? "AM"
                : "PM";
        return ampm;
    }

    private void resetData() {
        calendar_date = null;
        is24HourView = true;
    }

    public static String pad(int integerToPad) {
        if (integerToPad >= 10 || integerToPad < 0)
            return String.valueOf(integerToPad);
        else
            return "0" + String.valueOf(integerToPad);
    }
} 
```

# java - 抽象类中的静态构造函数？

> ID：15354095
> 
> 赞同：3
> 
> 时间：2013-03-12T05:40:22.130
> 
> 标签：java, abstract-class, static-constructor

考虑以下示例情况：

```
public abstract class Parent
{
    private ByteBuffer buffer;

    /* Some default method implementations, interacting with buffer */

    public static Parent allocate(int len)
    {
        // I want to provide a default implementation of this -- something like:
        Parent p = new Parent();
        p.buffer = ByteBuffer.allocate(len);
        return p;
    }
}

public class Child extends Parent
{
    /* ... */
}

public class App
{
    public static void main(String[] args)
    {
        // I want to ultimately do something like:
        Child c = Child.allocate(10);
        // Which would create a new child with its buffer initialized.
    }
} 
```

显然，我不能这样做（`new Parent()`），因为 Parent 是抽象的，但我真的不*想要*Parent。我希望这个方法自动提供给子类。

我宁愿使用“静态构造函数”方法，`.allocate()`而不是添加另一个可见的构造函数。

我有什么方法可以将此默认实现放入`Parent`类中，还是每个子类都必须包含相同的代码？

我想另一种选择是从父级中剥离“抽象”，但抽象适合——我从不想要父类型的对象。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T05:51:00.380

如果您检查标准 JDK 中的 Buffer 类集合，您会注意到每个特化（ByteBuffer、CharBuffer、DoubleBuffer 等）都`allocate`定义了自己的静态方法。它们并非都从一个公共基类继承是有原因的——静态方法不是继承的！相反，它们与定义它们的类相关联，并且只能访问类级别的变量。

构建器/工厂模式是您尝试完成的更好的模式。您可以检查 JAX-RS[`Response`](http://grepcode.com/file/repo1.maven.org/maven2/javax.ws.rs/javax.ws.rs-api/2.0-m01/javax/ws/rs/core/Response.java)类或[DocumentBuilderFactory](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/javax/xml/parsers/DocumentBuilderFactory.java)类以获取有关如何实现这些模式的示例。

# c - C中的struct termios未知行为

> ID：15354097
> 
> 赞同：-3
> 
> 时间：2013-03-12T05:40:25.877
> 
> 标签：c

使用此代码，当我输入时，输入不会出现，当我将其注释掉时，它会出现，这段代码在下面做什么，

```
struct termios origConfig;
tcgetattr(0, &origConfig);
struct termios newConfig = origConfig;
newConfig.c_lflag &= ~(ICANON|ECHO);
newConfig.c_cc[VMIN] = 1;
newConfig.c_cc[VTIME] = 1;
tcsetattr(fileno(stdin), TCSANOW, &newConfig); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T05:46:21.013

```
newConfig.c_lflag &= ~(ICANON|ECHO); 
```

将重置 echo 和 canonical-input 标志。如果您不想重置回显标志（但保留其他所有内容），只需使用：

```
newConfig.c_lflag &= ~(ICANON); 
```

尽管您可能还想检查规范输入标志的工作原理。例如，请参阅[Linux termios 手册页](http://linux.die.net/man/3/termios)。

在任何情况下，使用一个而不使用另一个可能是不明智的，因为非规范输入的主要用例之一是编辑器之类的东西，您*不*希望字符回显。

非 caconical 输入为您提供输入的每个字符（而不是当您点击 时的一整行`ENTER`），非常适合编辑。如果您的编辑器需要处理诸如`CTRL-W`向前移动一个单词之类的事情，您可能不希望它`^W`在屏幕显示中间敲击。

相反，您希望它把输出留给程序，而不是终端接口。非规范、非回显终端 I/O 为您提供了更多的接口功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T05:42:48.943

该`tcsetattr()`函数控制用户终端的行为。在这种特殊情况下，代码会清除`ECHO`控制结构中的标志（`newConfig.c_lflag &= ~ECHO`这样做），因此不会回显用户键入的内容。

# javascript - 获取 JavaScript 数组中所有元素的列表

> ID：15354100
> 
> 赞同：7
> 
> 时间：2013-03-12T05:40:40.057
> 
> 标签：javascript, arrays

我正在尝试获取 JavaScript 数组中所有元素的列表，但我注意到 using`array.toString`并不总是显示数组的所有内容，即使数组的某些元素已被初始化。有没有办法在 JavaScript 中打印数组的每个元素以及每个元素的相应坐标？我想找到一种方法来打印已在数组中定义的所有坐标的列表，以及每个坐标的相应值。

[http://jsfiddle.net/GwgDN/3/](http://jsfiddle.net/GwgDN/3/)

```
var coordinates = [];
coordinates[[0, 0, 3, 5]] = "Hello World";

coordinates[[0, 0, 3]] = "Hello World1";

console.log(coordinates[[0, 0, 3]]);
console.log(coordinates[[0, 0, 3, 5]]);
console.log(coordinates.toString()); //this doesn't print anything at all, despite the fact that some elements in this array are defined 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-12T05:55:00.670

实际上，当您使用坐标[[0, 0, 3]] 时，这意味着以 [0, 0, 3] 作为键的坐标对象。它不会将元素推送到数组，而是将属性附加到对象。所以使用循环对象的这条线。[有关循环对象属性的其他方法，请参见此内容](https://stackoverflow.com/questions/921789/how-to-loop-through-javascript-object-literal-with-objects-as-members)，

```
Object.keys(coordinates).forEach(function(key) {
    console.log(key, coordinates[key]);
}); 
```

[http://jsfiddle.net/GwgDN/17/](http://jsfiddle.net/GwgDN/17/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T05:50:39.503

使用类型“对象”而不是“数组”作为坐标

```
var coordinates = {};
coordinates[[0, 0, 3, 5]] = "Hello World";

coordinates[[0, 0, 3]] = "Hello World1";

console.log(coordinates[[0, 0, 3]]);
console.log(coordinates[[0, 0, 3, 5]]);
console.log(JSON.stringify(coordinates)); 
```

[http://jsfiddle.net/5eeHy/](http://jsfiddle.net/5eeHy/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T05:43:11.833

```
for (i=0;i<coordinates.length;i++)
{
document.write(coordinates[i] + "<br >");
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T05:44:07.620

使用 join 函数获取数组的所有元素。使用以下代码

```
for (var i in coordinates)
{
    if( typeof coordinates[i] == 'string' ){
        console.log( coordinates[i] + "<br >");
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T05:44:21.353

查看调试器中的坐标，您将看到您已经设置了**对象**坐标的属性 [0,0,3,5] 和 [0,0,3]。也就是说，虽然坐标是一个数组，但您并没有将它用作数组。

# firebreath - 使用 ActiveXObject 创建 FireBreath 插件的实例

> ID：15354102
> 
> 赞同：0
> 
> 时间：2013-03-12T05:40:50.587
> 
> 标签：firebreath, activexobject

我正在使用 FireBreath 创建一个跨浏览器插件。在 HTML 测试页面中，我使用以下函数来检测是否安装了插件，如果未检测到插件，则启动 MSI 安装程序的下载。

```
function checkPlugin(){
    var pluginInstalled = false;
    if ((navigator.userAgent.indexOf('MSIE') != -1) && (navigator.userAgent.indexOf('Win') != -1)) {
        // For IE 
        var pluginObject = null;
        try {
            pluginObject = new ActiveXObject('Test.TestPlugin');
            if(pluginObject){
                pluginInstalled = true;
                //pluginObject.Dispose();
            }
        } catch (e) {
            // Cannot load the plugin. Most probably it's not installed
            console.log(e.message);
        }
    }else{
        // For other browsers
        pluginInstalled = (navigator.mimeTypes && navigator.mimeTypes["application/x-test"] && navigator.plugins["TestPlugin"]);
    }
    return pluginInstalled; 
} 
```

上述功能在除 IE 之外的所有其他浏览器上都可以正常工作。当它尝试使用 ActiveXObject 创建插件实例时，它会导致 IE 9 和 10 崩溃。我注意到从 FireBreath 1.4 开始添加了对此功能的支持，但我相信我使用的是最新版本的 FireBreath 1.7。非常感谢解决此问题的任何帮助:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T16:38:47.757

这看起来像[FireBreath javascript 检测示例](https://github.com/firebreath/FireBreath/blob/master/Installer/js/fb_installer.js)中使用的方法，这就是我在插件中使用的方法。您并不完全清楚您使用的是什么版本。你是1.7吗？它肯定适用于 1.6 和 1.7。

如果您可以更具体地了解崩溃的位置，那么可能会更容易做出一些猜测；尝试附加调试器。有关如何强制 IE 成为单个进程以附加调试器的信息，请参阅 firebreath.org 上的“[调试插件](http://www.firebreath.org/x/MYAG)”页面。

# html - CSS 选择器与样式元素的类

> ID：15354103
> 
> 赞同：2
> 
> 时间：2013-03-12T05:40:55.780
> 
> 标签：html, css, coding-style

让我们看看下面的 HTML 块，
![HTML块](../Images/3b6c9e05dca9b904fc305f08e6c492d6.png)

在这里，在上面的块中，我们为每个 div 使用了类。
我们也可以替换`classes`为`CSS selectors`

```
 .first{
      /*  some styles  */
      }
      .first:nth-child(1){
      /*  some styles  */
      }
      .first div:nth-child(1){
      /*  some styles  */
      } 
```

上面的 CSS chunk 也能满足我们的要求
，最佳实践是什么？解释我们可以使用的条件`selectors`并`classes`
感谢:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T05:52:33.200

我认为当样式与元素的位置相关时，最好使用 CSS 选择器样式，否则使用类。

例如，如果表格的每一行的背景与它们的位置相关，例如第一行为红色，第二行为绿色，第三行为蓝色，第四行为红色，第六行为绿色等等在。在这种情况下最好使用 CSS 选择器`:nth-child(3n+1)`，这样您就不需要像`class='red'`HTML 那样编写额外的信息，这是一种不好的做法，因为如果您以后想使用四种颜色就很难更改。

但是如果表格行的背景是由它们的值决定的，比如红色代表小于 0 的值，绿色代表大于 0 的值，蓝色代表 0。你可能会发现在 CSS 选择器中很难表达这一点，所以添加`class='lz0'`可能是明智之举。

总之，请记住，内容和风格应该是分离的。使用 HTML 作为内容和结构，使用 CSS 作为样式。

# ios - iOS：如何通过命令行验证分发证书和配置文件？

> ID：15354106
> 
> 赞同：1
> 
> 时间：2013-03-12T05:41:25.060
> 
> 标签：ios, certificate, provisioning-profile

我正在为 IPA 自动生成构建一个脚本，我尝试使用以下命令导入我的证书：

```
security import certificatePath  -k loginKeychainPath -t priv -P certificatePassword 
```

但是，我发现即使我输入了错误的密码或另一个完全不相关的配置文件，它仍然会生成 IPA。

我如何验证证书和配置文件？谢谢。

# android - AchartEngine 饼图方向问题

> ID：15354108
> 
> 赞同：0
> 
> 时间：2013-03-12T05:41:25.780
> 
> 标签：android, orientation, achartengine, pie-chart

我正在使用 AchartEngine Lib 在我的应用程序中显示饼图，但是我遇到了一个奇怪的问题，例如当我更改手机的方向时，饼图未居中对齐，它会在任何地方改变方向。请让我知道如何使饼图居中对齐？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T15:05:01.443

我在片段中创建它时遇到了同样的问题。

在花费数小时后，我设法通过覆盖**onConfigurationChanged**方法来做到这一点。

问题是在布局更改之前调用了**onConfigurationChanged**，而在布局之后我找不到任何调用的方法。在其中添加睡眠似乎可以解决问题。

您必须从布局中删除 chartView，使其为空，重新创建它，然后再次添加到布局中。

代码：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);

    getActivity().runOnUiThread(new Runnable() {
        @Override
        public void run() {
            try {
                Thread.sleep(100);
            } catch(Exception e) { }
            chartLayout.removeView(mChartView);
            mChartView = null;
            mChartView = ChartFactory.getPieChartView(getActivity(), mSeries, mRenderer);
            chartLayout.addView(mChartView);
        }
    });
} 
```

# three.js - THREE.js 模糊帧缓冲区

> ID：15354117
> 
> 赞同：4
> 
> 时间：2013-03-12T05:42:23.953
> 
> 标签：three.js, glsl, shader, framebuffer

我需要模糊帧缓冲区，但我不知道如何使用 THREE.js 获取帧缓冲区。

**我想模糊整个帧缓冲区，而不是模糊场景中的每个纹理。**所以我想我应该读取帧缓冲区然后模糊，而不是在着色器中这样做。

这是我尝试过的：

初始化时调用：

```
var renderTarget = new THREE.WebGLRenderTarget(512, 512, {
    wrapS: THREE.RepeatWrapping,
    wrapT: THREE.RepeatWrapping,
    minFilter: THREE.NearestFilter,
    magFilter: THREE.NearestFilter,
    format: THREE.RGBAFormat,
    type: THREE.FloatType,
    stencilBuffer: false,
    depthBuffer: true
});
renderTarget.generateMipmaps = false; 
```

在每一帧中调用：

```
var gl = renderer.getContext();

// render to target
renderer.render(scene, camera, renderTarget, false);
framebuffer = renderTarget.__webglFramebuffer;
console.log(framebuffer);

gl.flush();
if (framebuffer != null)
    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);
var width = height = 512;
var rdData = new Uint8Array(width * height * 4);
gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, rdData);
console.log(rdData);

// render to screen
renderer.render(scene, camera); 
```

但是`framebuffer`是*`WebFramebuffer {}`*并且`rdData`充满了`0`。我这样做是否正确？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-14T16:04:43.593

任何模糊都应该使用着色器来提高效率，但在这种情况下不能作为材质。

如果您想模糊整个帧缓冲区并将其渲染到屏幕上，请使用效果器。它位于 three.js/examples/js./postprocessing/EffectComposer.js

正常设置场景相机和渲染器，但另外添加效果合成器的实例。以场景作为渲染通道。

```
composer = new THREE.EffectComposer( renderer );
composer.addPass( new THREE.RenderPass( scene, camera ) ); 
```

然后使用位于 three.js/examples/shaders/ 中的包含的模糊着色器对整个缓冲区进行两次处理

```
hblur = new THREE.ShaderPass( THREE.HorizontalBlurShader );
composer.addPass( hblur );

vblur = new THREE.ShaderPass( THREE.VerticalBlurShader );
// set this shader pass to render to screen so we can see the effects
vblur.renderToScreen = true;
composer.addPass( vblur ); 
```

最后在您在每个帧中调用的方法中使用作曲家而不是渲染器进行渲染

```
composer.render(); 
```

这是一个全屏模糊工作示例的链接[http://bit.ly/WfFKe7](http://bit.ly/WfFKe7)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-22T11:52:10.290

尝试使用[MeshDepthMaterial](http://threejs.org/docs/#Reference/Materials/MeshDepthMaterial)并将其渲染到您的着色器中。

我建议使用与场景漫反射相机相同的设置使用专用相机渲染模糊通道。然后通过调整相机的平截头体，您可以制作屏幕和模糊深度效果。对于屏幕设置，将近视锥体移向相机，并将远视锥体逐渐远离相机。

[http://threejs.org/docs/#Reference/Materials/MeshDepthMaterial](http://threejs.org/docs/#Reference/Materials/MeshDepthMaterial)

# report - RDLC 格式文本框表达式

> ID：15354121
> 
> 赞同：0
> 
> 时间：2013-03-12T05:42:38.167
> 
> 标签：report, reporting, rdlc

我有一个文本框应该以这种格式显示“兴趣”值，例如“（5％）”。Dataset Interest 字段的数据类型为 System.Decimal。如果我不格式化文本框，它只会在报告页面上显示“5”。

目前在我的设计师中，我有

```
Interest «Expr» 
```

然后显示报告页面

```
Interest 5 
```

回到我的问题，我想显示这样的东西

```
Interest (5%) 
```

如何格式化兴趣表达式«Expr»？

请帮忙。我是 RDLC 的新手。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:01:06.893

只需连接表达式。例如：

```
="Interest (" & Fields!Interest.Value & "%)" 
```

# ios - 删除请求并将 RESTkit 与核心数据和线程同步

> ID：15354126
> 
> 赞同：0
> 
> 时间：2013-03-12T05:43:01.583
> 
> 标签：ios, restkit, managedobjectcontext

说清楚......我的目标：-

**1.**向服务器发出删除请求（完成），我得到响应但不确定它是否与核心数据数据库同步。因此，我需要知道如何使用 Restkit 从 db 中删除特定对象。

**2.** ManagedObjectContext 混淆——我对上下文和线程太困惑了。我在任何地方都在使用这个上下文来进行所有操作。:- [RKObjectManager sharedManager].managedObjectStore.mainQueueManagedObjectContext] **但我想保持 Bg 线程上的处理并在主线程上接收结果以进行更新。现在有一些子上下文的概念。到目前为止，如何使用它对我来说是一个难题。**

**3.**如果我想使用多线程，使用Restkit和映射发出服务器请求。如何使用托管对象上下文。（我的意思是正确的使用方法）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:14:52.247

您可以使用以下代码在多线程中管理 NSManagedObjectContext

```
- (void)mergeChanges:(NSNotification*)notification
{
    NSLog(@"[mergeChanges] enter");
    // save changes to manageObjectContext on main thread
    AppDelegate *theDelegate = [[UIApplication sharedApplication] delegate];
    [[theDelegate managedObjectContext] performSelectorOnMainThread:@selector(mergeChangesFromContextDidSaveNotification:)
                                                         withObject:notification
                                                      waitUntilDone:YES];
    NSLog(@"[mergeChanges] leave");
}

- (NSManagedObjectContext*)startThreadContext
{
    AppDelegate *theDelegate = [[UIApplication sharedApplication] delegate];
    NSManagedObjectContext *newMoc = [[NSManagedObjectContext alloc] init];
    [newMoc setPersistentStoreCoordinator:[theDelegate persistentStoreCoordinator]];

    // Register for context save changes notification
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(mergeChanges:)
                                                 name:NSManagedObjectContextDidSaveNotification
                                               object:newMoc];

    return newMoc;
}

- (void)stopThreadContext:(NSManagedObjectContext*)context
{
    [[NSNotificationCenter defaultCenter] removeObserver:self
                                                    name:NSManagedObjectContextDidSaveNotification
                                                  object:context];
} 
```

在线程上下文的开头，您可以调用

```
-(NSManagedObjectContext*)startThreadContext 
```

并在线程中使用新的 NSManagedObjectContext ，您可以在线程完成后删除 NSManagedObjectContext 。当您保存新的 NSManagedObjectContext 时，它会通知主线程的托管对象上下文以保存更改。

# php - Codeigniter：无法发送电子邮件

> ID：15354128
> 
> 赞同：1
> 
> 时间：2013-03-12T05:43:08.167
> 
> 标签：php, codeigniter

我有一个“联系我们”页面，如果用户提交表单。然后电子邮件应该转到指定的电子邮件。

提交表单后，我收到了成功消息，但我的收件箱/垃圾邮件中没有看到任何电子邮件。

*我正在我的**实时服务器**上进行测试。*

Pelase 帮我解决我的问题。

我的代码：

```
<?php
        if ( ! defined('BASEPATH')) exit('No direct script access allowed');

        class contact extends CI_Controller  {
            public function __construct()
            {
                parent:: __construct(); 
                $this->load->helper('url');
                $this->load->helper('form');
                $this->load->library('session');
                $this->load->library('email');
                $this->load->model('shopmodel');
                $this->load->model('contactusmodel');
                $this->load->library('form_validation'); 
            } 

            function index()
            {
                 $this->form_validation->set_error_delimiters(' <li  class="errorlist">', '</li>')->set_rules('fullname', 'Name','trim|required|min_length[5]|max_length[50]|xss_clean');
                 $this->form_validation->set_error_delimiters('<li  class="errorlist">', '</li>')->set_rules('countryname', 'Country','trim|required|min_length[2]|max_length[50]|xss_clean');
                 $this->form_validation->set_error_delimiters('<li  class="errorlist">', '</li>')->set_rules('email', 'Email', 'trim|required|valid_email');
                 $this->form_validation->set_error_delimiters('<li  class="errorlist">', '</li>')->set_rules('contactdetails', 'Contact Details','trim|required|min_length[40]|max_length[2000]|xss_clean');
                 $data=$this->contactusmodel->contactusmodel();
                 $data["query"] = $this->shopmodel->getshopdetailsById(199);//taking data as shop id 199 

                  if($this->form_validation->run() === FALSE)
                  {  
                        $data['ffullname']['value'] = $this->input->post('fullname');
                        $data['fcountryname']['value'] =$this->input->post('email');
                        $data['femail']['value'] = $this->input->post('countryname'); 
                        $data['fcontactdetails']['value'] =$this->input->post('contactdetails'); 
                        $this->load->view('contact/contact',$data);  
                  }

                  else if ($this->form_validation->run() === TRUE)
                  {
                      $name=$this->input->post('fullname');
                      $sendersemail=$this->input->post('email');
                      $fromcountry=$this->input->post('countryname');
                      $message=$this->input->post('contactdetails'); 

                      $config = Array(
                        'protocol' => 'smtp',
                                'smtp_host' => 'ssl://smtp.googlemail.com',
                                'smtp_port' => 465,
                                'smtp_user' => 'ashutosh10g@gmail.com',
                                'smtp_pass' => 'xxxxxxxx',
                                'mailtype'  => 'html', 
                                'charset' => 'utf-8',
                                'wordwrap' => TRUE

                     );

                       $this->load->library('email', $config);
                       $this->email->set_mailtype("html");
                        $this->email->set_newline("\r\n");
                        $email_body ="<div>hello world</div>";
                        $this->email->from('ashutosh10g@gmail.com', 'ddd');

                        $list = array('ashutosh10g@gmail.com');
                        $this->email->to($list);
                        $this->email->subject('Testing Email');
                        $this->email->message($email_body);

                        $this->email->send();
                        echo $this->email->print_debugger(); 
                  }
                  else{
                      $this->load->view('contact/contact',$data);  
                  }
            }
        }
        ?> 
```

我得到的输出是：

```
 [code]
    Your message has been successfully sent using the following protocol: mail
    From: "ddd" 
    Return-Path: 
    Reply-To: "ashutosh10g@gmail.com" 
    X-Sender: ashutosh10g@gmail.com
    X-Mailer: CodeIgniter
    X-Priority: 3 (Normal)
    Message-ID: <513e1456185d4@gmail.com>
    Mime-Version: 1.0
    Content-Type: multipart/alternative; boundary="B_ALT_513e1456185e3"

    =?utf-8?Q?Testing_Email?=
    This is a multi-part message in MIME format.
    Your email application may not support this format.

    --B_ALT_513e1456185e3
    Content-Type: text/plain; charset=utf-8
    Content-Transfer-Encoding: 8bit

    hello world

    --B_ALT_513e1456185e3
    Content-Type: text/html; charset=utf-8
    Content-Transfer-Encoding: quoted-printable

    <div>hello world</div>

    --B_ALT_513e1456185e3-- 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T13:54:44.127

也许您正在试验一个中继错误，有时 Google 服务器不接受从一个 MTA 到另一个收件箱的中继邮件。尝试测试建立一个到您的服务器的 SMTP 对话并尝试发送邮件。这是一个简单的 SMTP 对话框示例：

[http://www.soi.wide.ad.jp/class/20000009/slides/11/6.html](http://www.soi.wide.ad.jp/class/20000009/slides/11/6.html)

如果服务器发送中继错误，请尝试发送邮件，您应该尝试使用另一个 SMTP 服务器。如果不是，可能是您的 php.ini 配置错误。

但根据我的经验，如果 MTA 不是受信任的代理，gmail 总是出于垃圾邮件和安全原因拒绝中继邮件。

另一个原因可能是您没有正确配置 DNS 服务器并且您的 MTA 找不到 MX 记录。示例 y 您的 MTA 是 sendmail，它通知 php 邮件已成功发送，但如果您查看 sendmail 日志，您会发现主机无法访问。

# php - 从我的网站登录 gmail

> ID：15354129
> 
> 赞同：1
> 
> 时间：2013-03-12T05:43:09.027
> 
> 标签：php, javascript, jquery, curl, gmail

有很多类似的问题，但没有一个能正确回答。

问题：我有 gmail 用户名（电子邮件 ID）和密码，我想登录 gmail 而不将页面重定向到 gmail.com

我试过了 ：

一个。获取源代码（从浏览器查看源代码），并将其复制到 html 页面中，onload 我在此表单中添加了用户名和密码，并使用 javascript => 提交了此页面它工作正常。

```
But, I need to fetch the source dynamically, using PHP.

So, I tried with `file_get_contents` => Here I am not able to get full source code some of the js code and some hidden fields are missing => When I tired to login with this code, it is not logging in, it simply redirects to gmail.com login page.

Then I tried to get the source code using cURL, This also gave me incomplete source, and I am not able to login. 
```

湾。我尝试使用 cURL 登录。

我能够使用以下代码获取 gmail 提要。

```
$email    = 'username@gmail.com';
$password = 'password';
$curl     = curl_init('https://mail.google.com/mail/feed/atom');
curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($curl, CURLOPT_USERPWD, $email.':'.$password);
echo $content  = curl_exec($curl); 
```

但是，当累了登录`https://accounts.google.com/ServiceLogin`它的代码时不会登录。

```
$email    = 'username@gmail.com';
$password = 'password';
$curl     = curl_init('https://accounts.google.com/ServiceLogin');
curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($curl, CURLOPT_USERPWD, $email.':'.$password);
echo $content  = curl_exec($curl); 
```

问题： 1\. 是否可以从 mysite 登录到 gmail？

> 我不想使用开放 ID - 这里我需要再次输入用户名和密码。我的用户名和密码已经存储在数据库中（我知道这不安全。）。所以我的要求是在单击链接时自动登录到 gmail。

问题： 2\. 是否可以使用 php 或 javascript 或 jQuery 获取 gmail 的完整（我们可以在浏览器“查看源代码”中看到）源代码（gmail 的登录页面）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T05:48:58.127

无法使用 curl 登录 gmail - 明显的安全问题。至少我不确定如何。你必须使用oauth。请参阅谷歌 oauth 文档。这是一个相当标准的过程，需要三次握手。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T13:28:55.943

这是我得到的答案：

```
<?php

$USERNAME = 'user@gmail.com';
$PASSWORD = 'pass@gmail';
$COOKIEFILE = 'cookies.txt';

$ch = curl_init();
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 30);
curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch, CURLOPT_COOKIEJAR, $COOKIEFILE);
curl_setopt($ch, CURLOPT_COOKIEFILE, $COOKIEFILE);
curl_setopt($ch, CURLOPT_HEADER, 0);  
curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 120);
curl_setopt($ch, CURLOPT_TIMEOUT, 120);

curl_setopt($ch, CURLOPT_URL, 'https://accounts.google.com/ServiceLogin');
$data = curl_exec($ch);

//echo $data;

$formFields = getFormFields($data);

//print_r($formFields);

$formFields['Email']  = $USERNAME;
$formFields['Passwd'] = $PASSWORD;
unset($formFields['PersistentCookie']);

$post_string = '';
foreach($formFields as $key => $value) {
    $post_string .= $key . '=' . urlencode($value) . '&';
}

$post_string = substr($post_string, 0, -1);

curl_setopt($ch, CURLOPT_URL, 'https://accounts.google.com/ServiceLogin?service=mail&passive=true&rm=false&continue=https://mail.google.com/mail/&ss=1&scc=1&ltmpl=default&ltmplcache=2');
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_REFERER, 'https://mail.google.com/');
curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);

$result = curl_exec($ch);
/*
if (strpos($result, '<title>Redirecting') === false) {
    die("Login failed");
    var_dump($result);
} else {*/
    curl_setopt($ch, CURLOPT_URL, 'https://mail.google.com/mail/h/jeu23doknfnj/?zy=e&f=1');
    curl_setopt($ch, CURLOPT_POST, 0);
    curl_setopt($ch, CURLOPT_POSTFIELDS, null);

    $result = curl_exec($ch);
    //header('Location:https://mail.google.com/mail/h/jeu23doknfnj/?zy=e&f=1');
    var_dump($result);
//}

function getFormFields($data)
{
    if (preg_match('/(<form.*?id=.?gaia_loginform.*?<\/form>)/is', $data, $matches)) {
        $inputs = getInputs($matches[1]);

        return $inputs;
    } else {
        die('didnt find login form');
    }
}

function getInputs($form)
{
    $inputs = array();

    $elements = preg_match_all('/(<input[^>]+>)/is', $form, $matches);

    if ($elements > 0) {
        for($i = 0; $i < $elements; $i++) {
            $el = preg_replace('/\s{2,}/', ' ', $matches[1][$i]);

            if (preg_match('/name=(?:["\'])?([^"\'\s]*)/i', $el, $name)) {
                $name  = $name[1];
                $value = '';

                if (preg_match('/value=(?:["\'])?([^"\'\s]*)/i', $el, $value)) {
                    $value = $value[1];
                }

                $inputs[$name] = $value;
            }
        }
    }

    return $inputs;
}
?> 
```

它将向您显示 gmail 邮件的第一页 => 但如果您单击那里的任何链接，它将再次要求登录 =>因为未为域 mail.google.com 设置 cookie（并且无法完成 - 同源策略）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T05:48:54.137

使用 Imap 让这个东西工作

```
<?php

$hostname = '{imap.gmail.com:993/imap/ssl}INBOX';
$username = 'yourmail@gmail.com';
$password = 'yourpass';

$inbox = imap_open($hostname,$username,$password) or die('Cannot connect to Gmail: ' . imap_last_error());

//If connected search for unread mails or do your stuff using imap functions

$emails = imap_search($inbox,'UNSEEN');

if(count($emails) > 0) {
  foreach($emails as $email)
   $status = imap_setflag_full($inbox, $email, "\\Seen \\Flagged");

echo gettype($status) . "\n";
echo $status . "\n";
} 

imap_close($inbox);

?> 
```

对于 Imap 参考检查[imap 功能](http://php.net/manual/en/book.imap.php)

# mysql - 如何在sql中创建视图时检查条件

> ID：15354130
> 
> 赞同：0
> 
> 时间：2013-03-12T05:43:09.290
> 
> 标签：mysql, sql, view, null

我正在创建一个加入 2 个表的视图。我有一个列许可证，其中我已将其分组到带有分隔符的单个单元格中。对于引用表中的相应服务，许可字段可能具有空值。因此，在查看特定代理的许可证列时，它应该显示空值以及分隔符。

例如，代理`id = 802`，他的服务列与许多服务组合在一起，分隔符看起来像

```
Mututal Funds||Investments||Life Insurance||Personal Loan
123456       ||NULL       ||34567         ||NUL 
```

其中投资和个人贷款的许可证值为 NULL，但我得到的是**123456||34567** ，空值被自动拒绝......但我需要将 Null 包含在结果集中......我的查询是

```
CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER 
VIEW `v_agent_service` AS 
select `a`.`agent_id` AS `agent_id`,
       group_concat(`a`.`license`separator '||') AS `license`,
       group_concat(`s`.`service_name` separator '||') AS  `service_names` 
from 
(`agent_service` `a` left join `service` `s` 
on((`s`.`service_id`  = `a`.`service_id`)))
group by `a`.`agent_id`; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:55:40.990

您可以使用`IFNULL()`将空值转换为包含以下内容的字符串`'null'`：

```
group_concat(IFNULL(`a`.`license`, 'NULL') separator '||') AS `license`, 
```

# iphone - 在 Utableview 滚动上加载数据

> ID：15354133
> 
> 赞同：1
> 
> 时间：2013-03-12T05:43:15.123
> 
> 标签：iphone, ios, objective-c, uitableview

我有 2000 条记录，我只需要显示 15 条记录`UITableView`，当用户滚动`UITableView`时，更多的 15 条记录应该加载到表中。我该怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:00:40.710

我认为答案是：`- (void)scrollViewDidScroll:(UIScrollView *)scrollView`

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView
{
    CGPoint offset = scrollView.contentOffset;
    CGRect bounds = scrollView.bounds;
    CGSize size = scrollView.contentSize;
    UIEdgeInsets inset = scrollView.contentInset;
    float y = offset.y + bounds.size.height - inset.bottom;
    float h = size.height;

    float reload_distance = 15;
    if(y > h + reload_distance)
    {
         //Call the Method to load More Data...
    }
} 
```

希望对您有所帮助...！！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T05:51:36.987

你必须检查`UIScrollView` `contentOffset`那个（`UITableView`建立在`UIScrollView`）。因此，将其添加到您的`UITableViewDelegate`课程中：

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView {

    // when reaching bottom, load more

    float offs = (scrollView.contentOffset.y+scrollView.bounds.size.height);
    float val = (scrollView.contentSize.height);
    if (offs==val)
    {
     //add more data on your data array   
    }
} 
```

为了在用户到达表格视图底部时向表格中添加更多单元格。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T05:50:28.940

您可以使用两种委托方法`UIScrollView`。正如`UITableView`在层次结构中一样，`UIScrollView`您将在这个委托方法中获得控制权`UIScrollView`。

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView
{
    NSLog(@"TableView scrolling");
}

- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView
{
    NSLog(@"TableView Started scrolling");
} 
```

试试以上两种方法。并选择适合您的那一款。首先看看`NSLog`当你开始滚动你的`UITableVIew`. 然后在其中编写您的代码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T06:03:48.620

**默认情况下 numberOfItemsToDisplay = 15;**

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
    {
        if (numberOfItemsToDisplay >= [self.yourArray count])
        {
            numberOfItemsToDisplay = [self.yourArray count];
            return 1;
        }
        return 2;
    }

    - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
    {
        if (section == 0)
        {
            return numberOfItemsToDisplay;
        }
        else
        {
            return 1;
        }
    }

    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
        if (indexPath.section == 0)
        {
            static NSString *CellIdentifier = @"YourCustomCell";
            YourCustomCell *objYourCustomCell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
            if (objYourCustomCell == nil)
            {
                NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"YourCustomCell" owner:self options:nil];
                for(id currentObject in topLevelObjects)
                {
                    if ([currentObject isKindOfClass:[YourCustomCell class]])
                    {
                        objYourCustomCell = (AlertsCustomCell *) currentObject;
                        break;
                    }
                }
            }
            objYourCustomCell.lbl.text = [[self.yourArray objectAtIndex:indexPath.row]valueForKey:@"vName"];
            return objYourCustomCell;
        }
        else
        {
            static NSString *CellIdentifier = @"Cell";
            UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
            if (cell == nil)
            {

                cell=[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
                [cell.contentView addSubview:[self loadMoreViewForTable:self.view]];
            }
            return cell;
        }
    }
    - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
    {
        [self.tblAlertsList deselectRowAtIndexPath:indexPath animated:YES];
        if (indexPath.section == 1)
        {
            numberOfItemsToDisplay =  [self loadMore:numberOfItemsToDisplay arrayTemp:self.yourArray tblView:self.tblAlertsList];
            [self.tblAlertsList endUpdates];
        }else
        {
           // action if it is not LoadMore
        }
    }

    + (NSInteger)loadMore : (NSInteger)numberOfItemsToDisplay arrayTemp:(NSMutableArray*)aryItems tblView:(UITableView*)tblList
    {
        int count =0;
        NSUInteger i, totalNumberOfItems = [aryItems count];
        NSUInteger newNumberOfItemsToDisplay = MIN(totalNumberOfItems, numberOfItemsToDisplay + kNumberOfItemsToAdd);
        NSMutableArray *indexPaths = [[NSMutableArray alloc] init];
        for (i=numberOfItemsToDisplay; i<newNumberOfItemsToDisplay; i++)
        {
            count++;
            [indexPaths addObject:[NSIndexPath indexPathForRow:i inSection:0]];
        }
        numberOfItemsToDisplay = newNumberOfItemsToDisplay;
        [tblList beginUpdates];
        [tblList insertRowsAtIndexPaths:indexPaths withRowAnimation:UITableViewRowAnimationLeft];
        if (numberOfItemsToDisplay == totalNumberOfItems) {
            [tblList deleteSections:[NSIndexSet indexSetWithIndex:1] withRowAnimation:UITableViewRowAnimationLeft];
        }
        NSIndexPath *scrollPointIndexPath;
        if (newNumberOfItemsToDisplay < totalNumberOfItems)
        {
            scrollPointIndexPath = [NSIndexPath indexPathForRow:numberOfItemsToDisplay-kNumberOfItemsToAdd inSection:0];
        }
        else
        {
            scrollPointIndexPath = [NSIndexPath indexPathForRow:i-count inSection:0];
        }
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, 100000000), dispatch_get_main_queue(), ^(void){
            [tblList scrollToRowAtIndexPath:scrollPointIndexPath atScrollPosition:UITableViewScrollPositionNone  animated:YES];
        });
        return numberOfItemsToDisplay;
    } 
```

我必须使用自定义单元格才能使用此方法吗？我只拿了 UItableview

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-12T06:10:08.260

试试这个：

[http://www.cocoacontrols.com/controls/stableviewcontroller](http://www.cocoacontrols.com/controls/stableviewcontroller)

使用这两种方法

```
//for refresh
- (void) addItemsOnTop {

     //[self getLoginFollowingUserVideosCall];
     [self refreshCompleted];
}

//for load more
- (void) addItemsOnBottom  {

     //[self getLoginFollowingUserVideosCall];
     [self loadMoreCompleted];
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-12T06:03:57.533

您要做的是懒惰地加载 tableview 数据。就像加载当前可见的表格视图单元格的数据，而不是一次所有数据。

# codeigniter - 如何在codeigniter中设置最小上传大小

> ID：15354138
> 
> 赞同：0
> 
> 时间：2013-03-12T05:43:46.917
> 
> 标签：codeigniter, codeigniter-2

我想为在 codeigniter 中上传图像设置最小宽度和高度。代码如下所示。

```
$config['max_width']  = '480';
$config['max_height']  = '270';
$this->upload->do_upload() 
```

我已经为此设置了最大值，但是如何设置最小值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:16:03.193

复制您的`Upload.php`from`system/libraries`并粘贴到`application/libraries`. 然后，引入 2 个新变量。

```
public $max_width               = 0;
public $max_height              = 0;
public $min_width               = 0; // new
public $min_height              = 0; // new 
```

将这些添加到`initialize`函数中，以便您可以通过`$config`变量传递值。

找到`is_allowed_dimensions`函数并修改它。

```
if ($this->min_width > 0 AND $D['0'] < $this->min_width)
{
    return FALSE;
}
if ($this->min_height > 0 AND $D['1'] < $this->min_height)
{
    return FALSE;
} 
```

检查上传语言文件并`upload_invalid_dimensions`相应地更改密钥以适合您的情况。

尚未对此进行测试，但应该可以工作:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-11-01T02:59:11.260

去`system/validation`。然后打开文件`FileRules.php`
粘贴这段代码：

```
public function min_dims(?string $blank, string $params): bool
    {
        // Grab the file name off the top of the $params
        // after we split it.
        $params = explode(',', $params);
        $name   = array_shift($params);

        if (! ($files = $this->request->getFileMultiple($name))) {
            $files = [$this->request->getFile($name)];
        }

        foreach ($files as $file) {
            if ($file === null) {
                return false;
            }

            if ($file->getError() === UPLOAD_ERR_NO_FILE) {
                return true;
            }

            // Get Parameter sizes
            $allowedWidth  = $params[0] ?? 0;
            $allowedHeight = $params[1] ?? 0;

            // Get uploaded image size
            $info       = getimagesize($file->getTempName());
            $fileWidth  = $info[0];
            $fileHeight = $info[1];

            if ($fileWidth < $allowedWidth || $fileHeight < $allowedHeight) {
                return false;
            }
        }

        return true;
    } 
```

并且，在您的控制器中使用`min_dims[field_name,1100,1100]`. 第一个参数是字段名。第二个是宽度，第三个是高度
祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-08T22:28:36.207

这是工作修复，另外您需要在初始化时指定 min_height 和 min_width

```
<?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class CI_Upload {

public $max_size                = 0;
public $max_width              = 0;
public $max_height            = 0;
public $min_width              = 0;
public $min_height            = 0;
public $max_filename            = 0;
public $allowed_types          = "";
public $file_temp              = "";
public $file_name              = "";
public $orig_name              = "";
public $file_type              = "";
public $file_size              = "";
public $file_ext                = "";
public $upload_path          = "";
public $overwrite              = FALSE;
public $encrypt_name            = FALSE;
public $is_image                = FALSE;
public $image_width          = '';
public $image_height            = '';
public $image_type              = '';
public $image_size_str          = '';
public $error_msg               = array();
public $mimes                   = array();
public $remove_spaces           = TRUE;
public $xss_clean               = FALSE;
public $temp_prefix             = "temp_file_";
public $client_name             = '';

protected $_file_name_override  = '';

/**
 * Constructor
 *
 * @access  public
 */
public function __construct($props = array())
{
    if (count($props) > 0)
    {
        $this->initialize($props);
    }

    log_message('debug', "Upload Class Initialized");
}

// --------------------------------------------------------------------

/**
 * Initialize preferences
 *
 * @param   array
 * @return  void
 */
public function initialize($config = array())
{
    $defaults = array(
                        'max_size'          => 0,
                        'max_width'        => 0,
                        'max_height'          => 0,
                        'min_width'        => 0,
                        'min_height'          => 0,
                        'max_filename'      => 0,
                        'allowed_types'     => "",
                        'file_temp'         => "",
                        'file_name'         => "",
                        'orig_name'         => "",
                        'file_type'         => "",
                        'file_size'         => "",
                        'file_ext'          => "",
                        'upload_path'       => "",
                        'overwrite'         => FALSE,
                        'encrypt_name'      => FALSE,
                        'is_image'          => FALSE,
                        'image_width'       => '',
                        'image_height'      => '',
                        'image_type'        => '',
                        'image_size_str'    => '',
                        'error_msg'         => array(),
                        'mimes'             => array(),
                        'remove_spaces'     => TRUE,
                        'xss_clean'         => FALSE,
                        'temp_prefix'       => "temp_file_",
                        'client_name'       => ''
                    );

    foreach ($defaults as $key => $val)
    {
        if (isset($config[$key]))
        {
            $method = 'set_'.$key;
            if (method_exists($this, $method))
            {
                $this->$method($config[$key]);
            }
            else
            {
                $this->$key = $config[$key];
            }
        }
        else
        {
            $this->$key = $val;
        }
    }

    // if a file_name was provided in the config, use it instead of the user input
    // supplied file name for all uploads until initialized again
    $this->_file_name_override = $this->file_name;
}

// --------------------------------------------------------------------

/**
 * Perform the file upload
 *
 * @return  bool
 */
public function do_upload($field = 'userfile')
{

// Is $_FILES[$field] set? If not, no reason to continue.
    if ( ! isset($_FILES[$field]))
    {
        $this->set_error('upload_no_file_selected');
        return FALSE;
    }

    // Is the upload path valid?
    if ( ! $this->validate_upload_path())
    {
        // errors will already be set by validate_upload_path() so just return FALSE
        return FALSE;
    }

    // Was the file able to be uploaded? If not, determine the reason why.
    if ( ! is_uploaded_file($_FILES[$field]['tmp_name']))
    {
        $error = ( ! isset($_FILES[$field]['error'])) ? 4 : $_FILES[$field]['error'];

        switch($error)
        {
            case 1: // UPLOAD_ERR_INI_SIZE
                $this->set_error('upload_file_exceeds_limit');
                break;
            case 2: // UPLOAD_ERR_FORM_SIZE
                $this->set_error('upload_file_exceeds_form_limit');
                break;
            case 3: // UPLOAD_ERR_PARTIAL
                $this->set_error('upload_file_partial');
                break;
            case 4: // UPLOAD_ERR_NO_FILE
                $this->set_error('upload_no_file_selected');
                break;
            case 6: // UPLOAD_ERR_NO_TMP_DIR
                $this->set_error('upload_no_temp_directory');
                break;
            case 7: // UPLOAD_ERR_CANT_WRITE
                $this->set_error('upload_unable_to_write_file');
                break;
            case 8: // UPLOAD_ERR_EXTENSION
                $this->set_error('upload_stopped_by_extension');
                break;
            default :   $this->set_error('upload_no_file_selected');
                break;
        }

        return FALSE;
    }

    // Set the uploaded data as class variables
    $this->file_temp = $_FILES[$field]['tmp_name'];
    $this->file_size = $_FILES[$field]['size'];
    $this->_file_mime_type($_FILES[$field]);
    $this->file_type = preg_replace("/^(.+?);.*$/", "\\1", $this->file_type);
    $this->file_type = strtolower(trim(stripslashes($this->file_type), '"'));
    $this->file_name = $this->_prep_filename($_FILES[$field]['name']);
    $this->file_ext  = $this->get_extension($this->file_name);
    $this->client_name = $this->file_name;

    // Is the file type allowed to be uploaded?
    if ( ! $this->is_allowed_filetype())
    {
        $this->set_error('upload_invalid_filetype');
        return FALSE;
    }

    // if we're overriding, let's now make sure the new name and type is allowed
    if ($this->_file_name_override != '')
    {
        $this->file_name = $this->_prep_filename($this->_file_name_override);

        // If no extension was provided in the file_name config item, use the uploaded one
        if (strpos($this->_file_name_override, '.') === FALSE)
        {
            $this->file_name .= $this->file_ext;
        }

        // An extension was provided, lets have it!
        else
        {
            $this->file_ext  = $this->get_extension($this->_file_name_override);
        }

        if ( ! $this->is_allowed_filetype(TRUE))
        {
            $this->set_error('upload_invalid_filetype');
            return FALSE;
        }
    }

    // Convert the file size to kilobytes
    if ($this->file_size > 0)
    {
        $this->file_size = round($this->file_size/1024, 2);
    }

    // Is the file size within the allowed maximum?
    if ( ! $this->is_allowed_filesize())
    {
        $this->set_error('upload_invalid_filesize');
        return FALSE;
    }

    // Are the image dimensions within the allowed size?
    // Note: This can fail if the server has an open_basdir restriction.
    if ( ! $this->is_allowed_dimensions())
    {
        $this->set_error('upload_invalid_dimensions');
        return FALSE;
    }

    // Sanitize the file name for security
    $this->file_name = $this->clean_file_name($this->file_name);

    // Truncate the file name if it's too long
    if ($this->max_filename > 0)
    {
        $this->file_name = $this->limit_filename_length($this->file_name, $this->max_filename);
    }

    // Remove white spaces in the name
    if ($this->remove_spaces == TRUE)
    {
        $this->file_name = preg_replace("/\s+/", "_", $this->file_name);
    }

    /*
     * Validate the file name
     * This function appends an number onto the end of
     * the file if one with the same name already exists.
     * If it returns false there was a problem.
     */
    $this->orig_name = $this->file_name;

    if ($this->overwrite == FALSE)
    {
        $this->file_name = $this->set_filename($this->upload_path, $this->file_name);

        if ($this->file_name === FALSE)
        {
            return FALSE;
        }
    }

    /*
     * Run the file through the XSS hacking filter
     * This helps prevent malicious code from being
     * embedded within a file.  Scripts can easily
     * be disguised as images or other file types.
     */
    if ($this->xss_clean)
    {
        if ($this->do_xss_clean() === FALSE)
        {
            $this->set_error('upload_unable_to_write_file');
            return FALSE;
        }
    }

    /*
     * Move the file to the final destination
     * To deal with different server configurations
     * we'll attempt to use copy() first.  If that fails
     * we'll use move_uploaded_file().  One of the two should
     * reliably work in most environments
     */
    if ( ! @copy($this->file_temp, $this->upload_path.$this->file_name))
    {
        if ( ! @move_uploaded_file($this->file_temp, $this->upload_path.$this->file_name))
        {
            $this->set_error('upload_destination_error');
            return FALSE;
        }
    }

    /*
     * Set the finalized image dimensions
     * This sets the image width/height (assuming the
     * file was an image).  We use this information
     * in the "data" function.
     */
    $this->set_image_properties($this->upload_path.$this->file_name);

    return TRUE;
}

// --------------------------------------------------------------------

/**
 * Finalized Data Array
 *
 * Returns an associative array containing all of the information
 * related to the upload, allowing the developer easy access in one array.
 *
 * @return  array
 */
public function data()
{
    return array (
                    'file_name'         => $this->file_name,
                    'file_type'         => $this->file_type,
                    'file_path'         => $this->upload_path,
                    'full_path'         => $this->upload_path.$this->file_name,
                    'raw_name'          => str_replace($this->file_ext, '', $this->file_name),
                    'orig_name'         => $this->orig_name,
                    'client_name'       => $this->client_name,
                    'file_ext'          => $this->file_ext,
                    'file_size'         => $this->file_size,
                    'is_image'          => $this->is_image(),
                    'image_width'       => $this->image_width,
                    'image_height'      => $this->image_height,
                    'image_type'        => $this->image_type,
                    'image_size_str'    => $this->image_size_str,
                );
}

// --------------------------------------------------------------------

/**
 * Set Upload Path
 *
 * @param   string
 * @return  void
 */
public function set_upload_path($path)
{
    // Make sure it has a trailing slash
    $this->upload_path = rtrim($path, '/').'/';
}

// --------------------------------------------------------------------

/**
 * Set the file name
 *
 * This function takes a filename/path as input and looks for the
 * existence of a file with the same name. If found, it will append a
 * number to the end of the filename to avoid overwriting a pre-existing file.
 *
 * @param   string
 * @param   string
 * @return  string
 */
public function set_filename($path, $filename)
{
    if ($this->encrypt_name == TRUE)
    {
        mt_srand();
        $filename = md5(uniqid(mt_rand())).$this->file_ext;
    }

    if ( ! file_exists($path.$filename))
    {
        return $filename;
    }

    $filename = str_replace($this->file_ext, '', $filename);

    $new_filename = '';
    for ($i = 1; $i < 100; $i++)
    {
        if ( ! file_exists($path.$filename.$i.$this->file_ext))
        {
            $new_filename = $filename.$i.$this->file_ext;
            break;
        }
    }

    if ($new_filename == '')
    {
        $this->set_error('upload_bad_filename');
        return FALSE;
    }
    else
    {
        return $new_filename;
    }
}

// --------------------------------------------------------------------

/**
 * Set Maximum File Size
 *
 * @param   integer
 * @return  void
 */
public function set_max_filesize($n)
{
    $this->max_size = ((int) $n < 0) ? 0: (int) $n;
}

// --------------------------------------------------------------------

/**
 * Set Maximum File Name Length
 *
 * @param   integer
 * @return  void
 */
public function set_max_filename($n)
{
    $this->max_filename = ((int) $n < 0) ? 0: (int) $n;
}

// --------------------------------------------------------------------

/**
 * Set Maximum Image Width
 *
 * @param   integer
 * @return  void
 */
public function set_max_width($n)
{
    $this->max_width = ((int) $n < 0) ? 0: (int) $n;
}

public function set_min_width($n)
{
    $this->min_width = ((int) $n < 0) ? 0: (int) $n;
}

// --------------------------------------------------------------------

/**
 * Set Maximum Image Height
 *
 * @param   integer
 * @return  void
 */
public function set_max_height($n)
{
    $this->max_height = ((int) $n < 0) ? 0: (int) $n;
}

public function set_min_height($n)
{
    $this->min_height = ((int) $n < 0) ? 0: (int) $n;
}

// --------------------------------------------------------------------

/**
 * Set Allowed File Types
 *
 * @param   string
 * @return  void
 */
public function set_allowed_types($types)
{
    if ( ! is_array($types) && $types == '*')
    {
        $this->allowed_types = '*';
        return;
    }
    $this->allowed_types = explode('|', $types);
}

// --------------------------------------------------------------------

/**
 * Set Image Properties
 *
 * Uses GD to determine the width/height/type of image
 *
 * @param   string
 * @return  void
 */
public function set_image_properties($path = '')
{
    if ( ! $this->is_image())
    {
        return;
    }

    if (function_exists('getimagesize'))
    {
        if (FALSE !== ($D = @getimagesize($path)))
        {
            $types = array(1 => 'gif', 2 => 'jpeg', 3 => 'png');

            $this->image_width      = $D['0'];
            $this->image_height     = $D['1'];
            $this->image_type       = ( ! isset($types[$D['2']])) ? 'unknown' : $types[$D['2']];
            $this->image_size_str   = $D['3'];  // string containing height and width
        }
    }
}

// --------------------------------------------------------------------

/**
 * Set XSS Clean
 *
 * Enables the XSS flag so that the file that was uploaded
 * will be run through the XSS filter.
 *
 * @param   bool
 * @return  void
 */
public function set_xss_clean($flag = FALSE)
{
    $this->xss_clean = ($flag == TRUE) ? TRUE : FALSE;
}

// --------------------------------------------------------------------

/**
 * Validate the image
 *
 * @return  bool
 */
public function is_image()
{
    // IE will sometimes return odd mime-types during upload, so here we just standardize all
    // jpegs or pngs to the same file type.

    $png_mimes  = array('image/x-png');
    $jpeg_mimes = array('image/jpg', 'image/jpe', 'image/jpeg', 'image/pjpeg');

    if (in_array($this->file_type, $png_mimes))
    {
        $this->file_type = 'image/png';
    }

    if (in_array($this->file_type, $jpeg_mimes))
    {
        $this->file_type = 'image/jpeg';
    }

    $img_mimes = array(
                        'image/gif',
                        'image/jpeg',
                        'image/png',
                    );

    return (in_array($this->file_type, $img_mimes, TRUE)) ? TRUE : FALSE;
}

// --------------------------------------------------------------------

/**
 * Verify that the filetype is allowed
 *
 * @return  bool
 */
public function is_allowed_filetype($ignore_mime = FALSE)
{
    if ($this->allowed_types == '*')
    {
        return TRUE;
    }

    if (count($this->allowed_types) == 0 OR ! is_array($this->allowed_types))
    {
        $this->set_error('upload_no_file_types');
        return FALSE;
    }

    $ext = strtolower(ltrim($this->file_ext, '.'));

    if ( ! in_array($ext, $this->allowed_types))
    {
        return FALSE;
    }

    // Images get some additional checks
    $image_types = array('gif', 'jpg', 'jpeg', 'png', 'jpe');

    if (in_array($ext, $image_types))
    {
        if (getimagesize($this->file_temp) === FALSE)
        {
            return FALSE;
        }
    }

    if ($ignore_mime === TRUE)
    {
        return TRUE;
    }

    $mime = $this->mimes_types($ext);

    if (is_array($mime))
    {
        if (in_array($this->file_type, $mime, TRUE))
        {
            return TRUE;
        }
    }
    elseif ($mime == $this->file_type)
    {
            return TRUE;
    }

    return FALSE;
}

// --------------------------------------------------------------------

/**
 * Verify that the file is within the allowed size
 *
 * @return  bool
 */
public function is_allowed_filesize()
{
    if ($this->max_size != 0  AND  $this->file_size > $this->max_size)
    {
        return FALSE;
    }
    else
    {
        return TRUE;
    }
}

// --------------------------------------------------------------------

/**
 * Verify that the image is within the allowed width/height
 *
 * @return  bool
 */
public function is_allowed_dimensions()
{
    if ( ! $this->is_image())
    {
        return TRUE;
    }

    if (function_exists('getimagesize'))
    {
        $D = @getimagesize($this->file_temp);

        if ($this->max_width > 0 AND $D['0'] > $this->max_width)
        {
            return FALSE;
        }

        if ($this->max_height > 0 AND $D['1'] > $this->max_height)
        {
            return FALSE;
        }

        if ($D['0'] < $this->min_width)
        {
            return FALSE;
        }

        if ($D['1'] < $this->min_height)
        {
            return FALSE;
        }

        return TRUE;
    }

    return TRUE;
}

// --------------------------------------------------------------------

/**
 * Validate Upload Path
 *
 * Verifies that it is a valid upload path with proper permissions.
 *
 *
 * @return  bool
 */
public function validate_upload_path()
{
    if ($this->upload_path == '')
    {
        $this->set_error('upload_no_filepath');
        return FALSE;
    }

    if (function_exists('realpath') AND @realpath($this->upload_path) !== FALSE)
    {
        $this->upload_path = str_replace("\\", "/", realpath($this->upload_path));
    }

    if ( ! @is_dir($this->upload_path))
    {
        $this->set_error('upload_no_filepath');
        return FALSE;
    }

    if ( ! is_really_writable($this->upload_path))
    {
        $this->set_error('upload_not_writable');
        return FALSE;
    }

    $this->upload_path = preg_replace("/(.+?)\/*$/", "\\1/",  $this->upload_path);
    return TRUE;
}

// --------------------------------------------------------------------

/**
 * Extract the file extension
 *
 * @param   string
 * @return  string
 */
public function get_extension($filename)
{
    $x = explode('.', $filename);
    return '.'.end($x);
}

// --------------------------------------------------------------------

/**
 * Clean the file name for security
 *
 * @param   string
 * @return  string
 */
public function clean_file_name($filename)
{
    $bad = array(
                    "<!--",
                    "-->",
                    "'",
                    "<",
                    ">",
                    '"',
                    '&',
                    '$',
                    '=',
                    ';',
                    '?',
                    '/',
                    "%20",
                    "%22",
                    "%3c",      // <
                    "%253c",    // <
                    "%3e",      // >
                    "%0e",      // >
                    "%28",      // (
                    "%29",      // )
                    "%2528",    // (
                    "%26",      // &
                    "%24",      // $
                    "%3f",      // ?
                    "%3b",      // ;
                    "%3d"       // =
                );

    $filename = str_replace($bad, '', $filename);

    return stripslashes($filename);
}

// --------------------------------------------------------------------

/**
 * Limit the File Name Length
 *
 * @param   string
 * @return  string
 */
public function limit_filename_length($filename, $length)
{
    if (strlen($filename) < $length)
    {
        return $filename;
    }

    $ext = '';
    if (strpos($filename, '.') !== FALSE)
    {
        $parts      = explode('.', $filename);
        $ext        = '.'.array_pop($parts);
        $filename   = implode('.', $parts);
    }

    return substr($filename, 0, ($length - strlen($ext))).$ext;
}

// --------------------------------------------------------------------

/**
 * Runs the file through the XSS clean function
 *
 * This prevents people from embedding malicious code in their files.
 * I'm not sure that it won't negatively affect certain files in unexpected ways,
 * but so far I haven't found that it causes trouble.
 *
 * @return  void
 */
public function do_xss_clean()
{
    $file = $this->file_temp;

    if (filesize($file) == 0)
    {
        return FALSE;
    }

    if (function_exists('memory_get_usage') && memory_get_usage() && ini_get('memory_limit') != '')
    {
        $current = ini_get('memory_limit') * 1024 * 1024;

        // There was a bug/behavioural change in PHP 5.2, where numbers over one million get output
        // into scientific notation.  number_format() ensures this number is an integer
        // http://bugs.php.net/bug.php?id=43053

        $new_memory = number_format(ceil(filesize($file) + $current), 0, '.', '');

        ini_set('memory_limit', $new_memory); // When an integer is used, the value is measured in bytes. - PHP.net
    }

    // If the file being uploaded is an image, then we should have no problem with XSS attacks (in theory), but
    // IE can be fooled into mime-type detecting a malformed image as an html file, thus executing an XSS attack on anyone
    // using IE who looks at the image.  It does this by inspecting the first 255 bytes of an image.  To get around this
    // CI will itself look at the first 255 bytes of an image to determine its relative safety.  This can save a lot of
    // processor power and time if it is actually a clean image, as it will be in nearly all instances _except_ an
    // attempted XSS attack.

    if (function_exists('getimagesize') && @getimagesize($file) !== FALSE)
    {
        if (($file = @fopen($file, 'rb')) === FALSE) // "b" to force binary
        {
            return FALSE; // Couldn't open the file, return FALSE
        }

        $opening_bytes = fread($file, 256);
        fclose($file);

        // These are known to throw IE into mime-type detection chaos
        // <a, <body, <head, <html, <img, <plaintext, <pre, <script, <table, <title
        // title is basically just in SVG, but we filter it anyhow

        if ( ! preg_match('/<(a|body|head|html|img|plaintext|pre|script|table|title)[\s>]/i', $opening_bytes))
        {
            return TRUE; // its an image, no "triggers" detected in the first 256 bytes, we're good
        }
        else
        {
            return FALSE;
        }
    }

    if (($data = @file_get_contents($file)) === FALSE)
    {
        return FALSE;
    }

    $CI =& get_instance();
    return $CI->security->xss_clean($data, TRUE);
}

// --------------------------------------------------------------------

/**
 * Set an error message
 *
 * @param   string
 * @return  void
 */
public function set_error($msg)
{
    $CI =& get_instance();
    $CI->lang->load('upload');

    if (is_array($msg))
    {
        foreach ($msg as $val)
        {
            $msg = ($CI->lang->line($val) == FALSE) ? $val : $CI->lang->line($val);
            $this->error_msg[] = $msg;
            log_message('error', $msg);
        }
    }
    else
    {
        $msg = ($CI->lang->line($msg) == FALSE) ? $msg : $CI->lang->line($msg);
        $this->error_msg[] = $msg;
        log_message('error', $msg);
    }
}

// --------------------------------------------------------------------

/**
 * Display the error message
 *
 * @param   string
 * @param   string
 * @return  string
 */
public function display_errors($open = '<p>', $close = '</p>')
{
    $str = '';
    foreach ($this->error_msg as $val)
    {
        $str .= $open.$val.$close;
    }

    return $str;
}

// --------------------------------------------------------------------

/**
 * List of Mime Types
 *
 * This is a list of mime types.  We use it to validate
 * the "allowed types" set by the developer
 *
 * @param   string
 * @return  string
 */
public function mimes_types($mime)
{
    global $mimes;

    if (count($this->mimes) == 0)
    {
        if (defined('ENVIRONMENT') AND is_file(APPPATH.'config/'.ENVIRONMENT.'/mimes.php'))
        {
            include(APPPATH.'config/'.ENVIRONMENT.'/mimes.php');
        }
        elseif (is_file(APPPATH.'config/mimes.php'))
        {
            include(APPPATH.'config//mimes.php');
        }
        else
        {
            return FALSE;
        }

        $this->mimes = $mimes;
        unset($mimes);
    }

    return ( ! isset($this->mimes[$mime])) ? FALSE : $this->mimes[$mime];
}

// --------------------------------------------------------------------

/**
 * Prep Filename
 *
 * Prevents possible script execution from Apache's handling of files multiple extensions
 * http://httpd.apache.org/docs/1.3/mod/mod_mime.html#multipleext
 *
 * @param   string
 * @return  string
 */
protected function _prep_filename($filename)
{
    if (strpos($filename, '.') === FALSE OR $this->allowed_types == '*')
    {
        return $filename;
    }

    $parts      = explode('.', $filename);
    $ext        = array_pop($parts);
    $filename   = array_shift($parts);

    foreach ($parts as $part)
    {
        if ( ! in_array(strtolower($part), $this->allowed_types) OR $this->mimes_types(strtolower($part)) === FALSE)
        {
            $filename .= '.'.$part.'_';
        }
        else
        {
            $filename .= '.'.$part;
        }
    }

    $filename .= '.'.$ext;

    return $filename;
}

// --------------------------------------------------------------------

/**
 * File MIME type
 *
 * Detects the (actual) MIME type of the uploaded file, if possible.
 * The input array is expected to be $_FILES[$field]
 *
 * @param   array
 * @return  void
 */
protected function _file_mime_type($file)
{
    // We'll need this to validate the MIME info string (e.g. text/plain; charset=us-ascii)
    $regexp = '/^([a-z\-]+\/[a-z0-9\-\.\+]+)(;\s.+)?$/';

    /* Fileinfo extension - most reliable method
     *
     * Unfortunately, prior to PHP 5.3 - it's only available as a PECL extension and the
     * more convenient FILEINFO_MIME_TYPE flag doesn't exist.
     */
    if (function_exists('finfo_file'))
    {
        $finfo = finfo_open(FILEINFO_MIME);
        if (is_resource($finfo)) // It is possible that a FALSE value is returned, if there is no magic MIME database file found on the system
        {
            $mime = @finfo_file($finfo, $file['tmp_name']);
            finfo_close($finfo);

            /* According to the comments section of the PHP manual page,
             * it is possible that this function returns an empty string
             * for some files (e.g. if they don't exist in the magic MIME database)
             */
            if (is_string($mime) && preg_match($regexp, $mime, $matches))
            {
                $this->file_type = $matches[1];
                return;
            }
        }
    }

    /* This is an ugly hack, but UNIX-type systems provide a "native" way to detect the file type,
     * which is still more secure than depending on the value of $_FILES[$field]['type'], and as it
     * was reported in issue #750 (https://github.com/EllisLab/CodeIgniter/issues/750) - it's better
     * than mime_content_type() as well, hence the attempts to try calling the command line with
     * three different functions.
     *
     * Notes:
     *  - the DIRECTORY_SEPARATOR comparison ensures that we're not on a Windows system
     *  - many system admins would disable the exec(), shell_exec(), popen() and similar functions
     *    due to security concerns, hence the function_exists() checks
     */
    if (DIRECTORY_SEPARATOR !== '\\')
    {
        $cmd = 'file --brief --mime ' . escapeshellarg($file['tmp_name']) . ' 2>&1';

        if (function_exists('exec'))
        {
            /* This might look confusing, as $mime is being populated with all of the output when set in the second parameter.
             * However, we only neeed the last line, which is the actual return value of exec(), and as such - it overwrites
             * anything that could already be set for $mime previously. This effectively makes the second parameter a dummy
             * value, which is only put to allow us to get the return status code.
             */
            $mime = @exec($cmd, $mime, $return_status);
            if ($return_status === 0 && is_string($mime) && preg_match($regexp, $mime, $matches))
            {
                $this->file_type = $matches[1];
                return;
            }
        }

        if ( (bool) @ini_get('safe_mode') === FALSE && function_exists('shell_exec'))
        {
            $mime = @shell_exec($cmd);
            if (strlen($mime) > 0)
            {
                $mime = explode("\n", trim($mime));
                if (preg_match($regexp, $mime[(count($mime) - 1)], $matches))
                {
                    $this->file_type = $matches[1];
                    return;
                }
            }
        }

        if (function_exists('popen'))
        {
            $proc = @popen($cmd, 'r');
            if (is_resource($proc))
            {
                $mime = @fread($proc, 512);
                @pclose($proc);
                if ($mime !== FALSE)
                {
                    $mime = explode("\n", trim($mime));
                    if (preg_match($regexp, $mime[(count($mime) - 1)], $matches))
                    {
                        $this->file_type = $matches[1];
                        return;
                    }
                }
            }
        }
    }

    // Fall back to the deprecated mime_content_type(), if available (still better than $_FILES[$field]['type'])
    if (function_exists('mime_content_type'))
    {
        $this->file_type = @mime_content_type($file['tmp_name']);
        if (strlen($this->file_type) > 0) // It's possible that mime_content_type() returns FALSE or an empty string
        {
            return;
        }
    }

    $this->file_type = $file['type'];
}

// --------------------------------------------------------------------

} 
```

# java - 连接打印机设备的问题

> ID：15354143
> 
> 赞同：0
> 
> 时间：2013-03-12T05:44:07.947
> 
> 标签：java

当我在未连接打印机设备（已配置）的情况下运行应用程序并且应用程序正在冻结时，我遇到了以下错误。

```
Exception in thread "Thread-3" java.lang.UnsatisfiedLinkError: openDevice
Opening the Printer deivce
    at acr.device.port.GenericUSB.openDevice(Native Method)
    at acr.device.port.GenericUSB.open(GenericUSB.java:91)
    at acr.device.DevicePort.open(DevicePort.java:41)
    at acr.device.DeviceDriver.open(DeviceDriver.java:136)
    at acr.device.DevMgr$OpenPrinter.run(DevMgr.java:515) 
```

有什么建议吗？

# extjs4 - 使用 EXTjs4 从服务器解析 JSON

> ID：15354147
> 
> 赞同：0
> 
> 时间：2013-03-12T05:44:44.663
> 
> 标签：extjs4

我在解析 JSON 时遇到问题，这开始是因为`[{....}]`我能够解析格式的 JSON，`{"Ex"[{........}] }` 请解决我的问题

```
Ext.data.JsonP.request({
type:'jsonp',
url: '  x/y/z       ',
method:'POST',
callbackkey:'callback',
params:{
format:'json'
},
callback:function (response, value, request) { 
var localdata = JSON.stringify(value);
localStorage.setItem('ProjectDetailsJS', localdata);
var retrievedObject = localStorage.getItem('ProjectDetails');
console.log("List are"+localdata);
alert('Success')
},
failure:function (response, request) {
alert('failure') 
},
error:function(){
alert('error')
}
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:09:13.960

建议您阅读有关 JSONP 的文档。它要求将结果数据包装在一个函数中。这里有例子：http: //docs.sencha.com/ext-js/4-0/#! [/api/Ext.data.proxy.JsonP](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.data.proxy.JsonP)

# json - 如何在 apex 中序列化 Json 字符串

> ID：15354151
> 
> 赞同：1
> 
> 时间：2013-03-12T05:45:07.113
> 
> 标签：json, salesforce, apex-code, visualforce

我需要将此 json 字符串解析为值。

“开始”：{“日期时间”：“2013-02-02T15:00:00+05:30”}，“结束”：{“日期时间”：“2013-02-02T16:00:00+05:30” },

问题是我在 apex (salesforce) 中使用 JSONParser。我的课是：

```
 public class wrapGoogleData{

    public string summary{get;set;}
    public string id{get;set;}
    public string status;
    public creator creator;
    public start start;

    public wrapGoogleData(string entnm,string ezid,string sta, creator c,start s){
        summary= entnm;
        id= ezid;
        status = sta;
        creator = c;
        start = s;
    }  
}
public class creator{
    public string email;
    public string displayName;
    public string self;
}
public class start{
    public string datetimew;
} 
```

**除了上面字符串中的日期时间之外，我可以从中获取所有数据。由于 datetime 是 apex 中的保留关键字，因此我无法在我的班级中将变量名称作为 datetime 。**

任何建议！

Json 解析器代码：

```
JSONParser parser = JSON.createParser(jsonData );
    while (parser.nextToken() != null) {
        // Start at the array of invoices.
        if (parser.getCurrentToken() == JSONToken.START_ARRAY) {
            while (parser.nextToken() != null) {
                // Advance to the start object marker to
                //  find next invoice statement object.
                if (parser.getCurrentToken() == JSONToken.START_OBJECT) {
                    // Read entire invoice object, including its array of line items.
                    wrapGoogleData inv = (wrapGoogleData)parser.readValueAs(wrapGoogleData.class);

                    String s = JSON.serialize(inv);
                    system.debug('Serialized invoice: ' + s);

                    // Skip the child start array and start object markers.
                    //parser.skipChildren();
                    lstwrap.put(inv.id,inv);
                }
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T14:06:33.170

类似于 Kumar 的答案，但不使用外部应用程序。

改变你的`start`班级是正确的想法

```
public class start{
    public string datetimew;
} 
```

现在，只需在通过反序列化器运行它之前解析 JSON。

```
string newjsondata = jsonData.replace('"dateTime"','"datetimew"');
JSONParser parser = JSON.createParser(newjsondata);
while (parser.nextToken() != null) {
   ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T03:07:47.150

使用 string.replace() 函数并将名为 dateTime 的键替换为 dateTime__x 之类的内容，然后如果您已使用 heruko 平台上的 json 到 apex 转换器应用程序将 json 转换为 apex，则可以使用 Json.deserialize 进行解析

[http://json2apex.herokuapp.com/](http://json2apex.herokuapp.com/)

上面的链接指向一个将 Json 转换为 apex 类的应用程序，然后您可以使用 Json.serialize 将 json 解析为 apex 类结构。

# jquery - 发送ajax表单，多次

> ID：15354154
> 
> 赞同：0
> 
> 时间：2013-03-12T05:45:19.053
> 
> 标签：jquery, ajax, yii

以下是我的代码：（Yii 框架）

查看表格：`view.php`

```
<div class="form">
<?php
    $form = $this->beginWidget('CActiveForm',array(
        'id'=>'user-profile',
        'action' => 'index.php?r=upanel/user/update',
        'method' => 'post',
    ));
?>
    <?php $form->errorSummary($model) ?>
     . . .
     . . .
     . . .
     . . .
     . . .
    <div class="row buttons">
        <?php
            $url = Yii::app()->createUrl('upanel/user/update');
            echo CHtml::ajaxSubmitButton('Update Profile',$url,array(
                'type'=>'POST',
                'data'=> "js:$('#user-profile').serialize()",//var data = $('#user-form').serialize();
                'datatype'=>'html',
                'success'=>'callback',
                'error'=>'error',
            ));
        ?>
    </div>

<?php $this->endWidget() ?>
</div> <!-- End CActiveForm-->

<p><?php echo Yii::app()->user->getFlash('success') ?></p>

<script>
function callback(data,status){
    if (status=='success')
            $('#user-profile').html(data);
}

function error(jqXHR, textStatus , errorThrown){
    console.log(jqXHR);
    $('#error').html('callback error');
}
</script> 
```

控制器中的动作更新：`actionUpdate()`

```
public function actionUpdate()
{
    $model=$this->loadModel(Yii::app()->user->id);
    $model->scenario = 'updateProfile';

    if(isset($_POST['User'])){
        $model->attributes=$_POST['User'];
        if($model->validate()){
            if ($model->save()){
                    Yii::app()->user->setFlash('success','Successfully Updated');
                    $this->renderPartial('view',array('model'=>$model));
            }
        }
    }
} 
```

问题是：第一次发送表单时，`print_r($_REQUEST)`显示已发送的数据表单（在 post 方法中），但在使用in`view.php`渲染之后，尽管表单已填写，但显示发送到服务器的表单中没有数据。?`partialrender()``actionUpdate``print_r($_REQUEST)`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:14:43.377

处理 ajax 按钮时请注意这些点，链接在 Yii 中。

1.当使用 CHtml::ajaxSubmitButton 或 CHtml::AjaxLink 时使用`'live'=>false`并且应该有一个唯一的 id：

```
array('id'=>'uniqueId', 'live'=>false) 
```

2.如果是AJAX请求，使用

```
$this->renderPartial('_view', array(
                   'model'=>  $model,
               ), false, true); 
```

3.如果是正常请求使用

```
$this->renderPartial('_view', array(
                   'model'=>  $model,
           ), false, false); 
```

4.为您的ajax链接或按钮分配一个随机ID

```
CHtml::ajaxLink('send a message', '/message', 
    array('replace' => '#message-div'), 
    array('id' => 'send-link-'.uniqid())
); 
```

[有用的链接](http://www.yiiframework.com/wiki/178/how-to-avoid-multiple-ajax-request/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:47:03.123

使用它来停止重新生成表单并更新 previos 状态：

```
$this->renderPartial('view',array('model'=>$model),false,true); 
```

注意`false,true`在 renderPartial 方法中添加的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T10:39:11.647

解决了。只是一个笨拙的错误。

在回调函数中，`success`我应该更新了`div`HTML 元素`form`。

变化自：

```
function callback(data,status){
    if (status=='success'){
            $('#user-profile').html(data);
    } 
```

到：

```
function callback(data,status){
    if (status=='success'){
            $('#user-profile-div').html(data);
    } 
```

谢谢朋友指导。

# android - 滚动视图错误

> ID：15354155
> 
> 赞同：0
> 
> 时间：2013-03-12T05:45:25.327
> 
> 标签：android, view, scrollview, android-linearlayout

我有一个滚动视图，它有一个线性布局作为孩子。现在当我启动我的应用程序时，我收到以下错误

```
03-11 10:58:35.723: E/AndroidRuntime(6261): java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.view.ViewGroup.addViewInner(ViewGroup.java:3654)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.view.ViewGroup.addView(ViewGroup.java:3525)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.view.ViewGroup.addView(ViewGroup.java:3482)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.view.ViewGroup.addView(ViewGroup.java:3462)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.support.v4.app.NoSaveStateFrameLayout.wrap(NoSaveStateFrameLayout.java:40)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:915)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:682)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1444)
03-11 10:58:35.723: E/AndroidRuntime(6261):     at android.support.v4.app.FragmentManagerImpl.executePendingTransaction 
```

下面是我的xml

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >   

    <LinearLayout 
        android:id="@+id/info_linearlayout"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >
     .......................
     ...................

</LinearLayout>
</ScrollView> 
```

下面是我的 java 代码，我在其中获取滚动视图，然后获取相对布局

```
oScrollView =  (ScrollView) LayoutInflater.from(getActivity()).inflate(R.layout.eyefeedinfo, null);
                    EyeFeedWizard.m_oInfoPage = (LinearLayout) oScrollView.findViewById(R.id.info_linearlayout);

                    /
                    oCurrentPage = EyeFeedWizard.m_oInfoPage; 
```

# javascript - 动态选项卡，单个选项卡导航

> ID：15354159
> 
> 赞同：1
> 
> 时间：2013-03-12T05:45:34.560
> 
> 标签：javascript, jquery, html

我正在尝试在[此](http://www.jankoatwarpspeed.com/dynamic-tabs-using-jquery-why-and-how-to-create-it/)博客之后开发一个基于 jquery 的动态选项卡。它非常有效，单击左侧菜单项会打开一个新选项卡。但是，如果我想在单击选项卡中的链接内容时打开一个选项卡，那么我将无法创建新选项卡。基本上，链接页面在同一个选项卡上变得超载。

[同样，我在jsfiddle](http://jsfiddle.net/abhijit_chanda0/ve9X3/1/)中上传了我的 html 代码和 jquery 代码。

在 jsfiddle 的结果面板上，我们可以看到菜单结构。单击菜单项时，它将打开一个选项卡，例如正在打开一个包含 index.html 内容的选项卡

现在，如果在 index.html 中添加一个链接，单击该链接我想打开另一个选项卡，那里有我的龙。选项卡的内容正在发生变化，但单击链接的同一选项卡上的所有内容都不同。

```
 <a href="anotherPage.html">Click Here to Open another Tab</a> 
```

任何关于如何通过单击选项卡中的链接来创建选项卡的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T18:28:07.627

The issue is that you're using a direct link, which the browser will use to open a page as normal. If you want to use your custom JavaScript/JQuery tabs, you'll have to change your link to instead use a click handler that opens a new tab within the page, the same way it does when you click the navigation. Based on the blog post, that means your link needs to use the rel attribute for the document name rather than the href attribute, and you'll need to assign a click handler in your JavaScript the same way it does for the tab links. You would probably be best served by assigning a common class to all of these virtual tab links so you can assign the click handler to all elements with that class globally.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T18:21:56.870

我试图模拟你的问题，发现你没有包含 css。请参阅[**JSFIDDLE.NET上的工作**](http://jsfiddle.net/ve9X3/3/)

```
 body { font-family:Lucida Sans, Lucida Sans Unicode, Arial, Sans-Serif; font-size:13px; margin:0px auto;}
    #tabs { margin:0; padding:0; list-style:none; overflow:hidden; }
    #tabs li { float:left; display:block; padding:5px; background-color:#bbb; margin-right:5px;}
    #tabs li a { color:#fff; text-decoration:none; }
    #tabs li.current { background-color:#e1e1e1;}
    #tabs li.current a { color:#000; text-decoration:none; }
    #tabs li a.remove { color:#f00; margin-left:10px;}
    #content { background-color:#e1e1e1;}
    #content p { margin: 0; padding:20px 20px 100px 20px;}

    #main { width:900px; margin:0px auto; overflow:hidden;background-color:#F6F6F6; margin-top:20px;
         -moz-border-radius:10px;  -webkit-border-radius:10px; padding:30px;}
    #wrapper, #doclist { float:left; margin:0 20px 0 0;}
    #doclist { width:150px; border-right:solid 1px #dcdcdc;}
    #doclist ul { margin:0; list-style:none;}
    #doclist li { margin:10px 0; padding:0;}
    #documents { margin:0; padding:0;}

    #wrapper { width:700px; margin-top:20px;}

    #header{ background-color:#F6F6F6; width:900px; margin:0px auto; margin-top:20px;
         -moz-border-radius:10px;  -webkit-border-radius:10px; padding:30px; position:relative;}
    #header h2 {font-size:16px; font-weight:normal; margin:0px; padding:0px;} 
```

# android - 膨胀布局项目

> ID：15354162
> 
> 赞同：0
> 
> 时间：2013-03-12T05:45:57.430
> 
> 标签：android, layout-inflater, customdialog

如果这个问题是重复的，我很抱歉。我有个问题：

我有一个带有 main_layout.xml 的 main_activity。我有一个`TextView`和`SeekBar1`。我添加了一个带有`custom_dialog_layout`seekbar2 的菜单。 `Dialog`显示带有搜索栏的 custom_dialog。

这样做时：

```
inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
view = inflater.inflate(R.layout.resize_dialog,null);
seekbar = (SeekBar)findViewById(R.id.seekBar2); 
```

应用力关闭。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:49:06.150

替换为以下代码。

```
inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); 
view = inflater.inflate(R.layout.resize_dialog,null); 
seekbar = (SeekBar)view.findViewById(R.id.seekBar2); 
```

您需要通过参考`view`来查找 id。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T05:55:09.543

试试这个。

```
 inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
 view = inflater.inflate(R.layout.resize_dialog,null); 
 seekbar = (SeekBar)view. findViewById(R.id.seekBar2); 
```

/** 将该膨胀视图添加到 AlertDialog */

```
 AlertDialog.Builder builder = new AlertDialog.Builder(this);
    builder.setTitle(R.string.app_name);
    builder.setView(view); 
```

使用它来取消对话框。即 dialog.dismiss();

```
.setPositiveButton(
                getResources().getString(R.string.Cancel),
                new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog,
                            int whichButton) {
                        dialog.dismiss();
                    }
                });
        alert = builder.create();
        alert.show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:02:07.027

使用下面的代码。

```
 private class ViewHolder {          
    SeekBar seekbar ;

}

    public View getView(final int position, View convertView, ViewGroup parent) {
        LayoutInflater mInflater = (LayoutInflater) context
            .getSystemService(Activity.LAYOUT_INFLATER_SERVICE);

    if(convertView==null)
    {
        convertView=mInflater.inflate(R.layout.resize_dialog, null);
         holder=new ViewHolder();
         holder.seekbar = (SeekBar)convertView.findViewById(R.id.seekBar2);
         convertView.setTag(holder);
          }
      else  
    holder=(ViewHolder) convertView.getTag();

      return convertView; 
```

# c# - 如何用直接实例分配替换列表项

> ID：15354164
> 
> 赞同：2
> 
> 时间：2013-03-12T05:46:04.510
> 
> 标签：c#, list

我有以下代码，我正在尝试 3 种方法（案例）来更新 C# 列表中的第一项（注意：Dump() 是 LINQPad IDE 中的辅助输出方法）。我希望能解释一下为什么案例 2 没有成功更新列表，而案例 3 却成功了。first 和 list[0] 都是对列表中第一项的引用，并且在分配直接引用时应该表现相同。显然不是...

```
void Main()
{
Person first =  null;
List<Person> list = CreateList(out first);

//Case 1
//This updates the list
first.fname = "Third"; 
list.Dump(); //outputs third, second

//Case 2
//This does not update the list
list = CreateList(out first);
first= new Person() { fname="Third"}; 
list.Dump(); //outputs first, second

//Case 3
//This updates the list
list = CreateList(out first);
list[0] = new Person() { fname="Third"}; 
list.Dump(); //outputs third, second

}

List<Person> CreateList(out Person first)
{
  var list = new List<Person>
  {
  new Person() { fname="First", lname = ""},
  new Person() { fname="Second", lname = ""}
  };
  first = list.Find( x => x.fname == "First");
  return list;
}

// Define other methods and classes here
class Person
{
  public string fname;
  public string lname;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:54:34.763

第二种情况不起作用，因为您`first`使用以下代码更改了对新对象的引用：

```
first= new Person() { fname="Third"}; 
```

此代码运行后，`first`不再引用列表对象。

尝试将其用于第二种情况：

```
list = CreateList(out first);
if(first != null)
   first.fname="Third";
list.Dump(); 
```

这将设置 的属性，`first`并且`first`仍然引用列表项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:15:40.820

当您将新对象传递给引用对象时

```
first= new Person() { fname="Third"}; 
```

您使用新的哈希码生成一个新对象，该对象在集合中被识别。列表没有找到以前的哈希码，因此列表没有更新。//案例 2

但在案例 3 中，您正在替换 object 的实例，从而 list 更新新的哈希

如果 1 您只修改对象的属性并且哈希保持不变

这可能是对您问题的解释

# android - Android FragmentTabHost：没有标签为空的标签

> ID：15354165
> 
> 赞同：43
> 
> 时间：2013-03-12T05:46:06.127
> 
> 标签：android, android-fragments

我使用了下面的代码，它不是渲染图形布局。显示错误为`Exception raised during rendering: No tab known for tag null`。

我该如何解决这个问题？

```
<android.support.v4.app.FragmentTabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="0"
            android:orientation="horizontal" />

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:layout_weight="0" />

        <FrameLayout
            android:id="@+id/realtabcontent"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1" />
    </LinearLayout>

</android.support.v4.app.FragmentTabHost> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-07-11T12:03:42.750

这是我用来初始化 TabHost 的代码，它工作正常：

```
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentTabHost;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

public class DetailFragment extends Fragment {

    /**
     * Mandatory empty constructor for the fragment manager to instantiate the fragment (e.g. upon screen orientation changes).
     */
    public DetailFragment() {
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        // R.layout.fragment_tabs_pager contains the layout as specified in your question
        View rootView = inflater.inflate(R.layout.fragment_tabs_pager, container, false);

        // Initialise the tab-host
        FragmentTabHost mTabHost = (FragmentTabHost) rootView.findViewById(R.id.tabhost);
        mTabHost.setup(getActivity(), getChildFragmentManager(), R.id.realtabcontent);

        // Initialise this list somewhere with the content that should be displayed
        List<String> itemsToBeDisplayed;

        for (String subItem : itemsToBeDisplayed) {
            // Give along the name - you can use this to hand over an ID for example
            Bundle b = new Bundle();
            b.putString("TAB_ITEM_NAME", subItem);

            // Add a tab to the tabHost
            mTabHost.addTab(mTabHost.newTabSpec(subItem).setIndicator(subItem), YourContentFragment.class, b);
        }
        return rootView;
    }
} 
```

* * *

```
/**
  * This class contains the actual content of a single tab  
  */
public class YourContentFragment extends Fragment {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        Bundle extras = getArguments();
        if (extras != null) {
            if (extras.containsKey("TAB_ITEM_NAME")) {
                String subItem = extras.getString("TAB_ITEM_NAME");
                // Do something with that string
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-01-20T17:07:33.520

android支持库中似乎有一个错误。

我终于找到了这个解决方法：

将布局文件更改为这个：

```
 <LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TabWidget
        android:id="@android:id/tabs"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="0"
        android:orientation="horizontal" />

    <FrameLayout
        android:id="@android:id/tabcontent"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:layout_weight="0" />

</LinearLayout> 
```

然后我通过代码 FragmentTabHost 创建了这个例子：

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)
{
    tabHost = new FragmentTabHost(getActivity());
    inflater.inflate(R.layout.logs_view, tabHost);
    tabHost.setup(getActivity(), getChildFragmentManager(), android.R.id.tabcontent);

    tabHost.addTab(tabHost.newTabSpec("simple").setIndicator("Simple"), ActivityLogFragment.class, null);
    tabHost.addTab(tabHost.newTabSpec("contacts").setIndicator("Contacts"), MiniStatementFragment.class, null);
    return tabHost;
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-03-04T15:53:15.983

我遇到了这个问题，进行了研究，但找不到任何可行的解决方案。但是我注意到当我在'FragmentTabHost#setup'之后添加一个选项卡时，不会出现这个问题，但是例如，当我在'AsyncTask#onPostExecute'中添加一个选项卡时，就会出现这个问题。这似乎很愚蠢，但我试过了，它是.. 基于这些，我找到了一个解决方案：

在“FragmentTabHost#setup”之后添加一个空选项卡，然后在任何地方添加其他选项卡，我尝试了这个解决方案，它有效！我将在下面的布局和部分代码：

```
<android.support.v4.app.FragmentTabHost
xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/tabhost"
android:layout_width="match_parent"
android:layout_height="match_parent">

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <FrameLayout
        android:id="@android:id/tabcontent"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:layout_weight="0"/>

    <FrameLayout
        android:id="@+id/realtabcontent"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"/>

    <TabWidget
        android:id="@android:id/tabs"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="0"
        android:orientation="horizontal"/>

</LinearLayout> 
```

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    mTabHost = (FragmentTabHost) findViewById(android.R.id.tabhost);
    mTabHost.setup(this, getSupportFragmentManager(), R.id.realtabcontent);
    TabHost.TabSpec tabSpec = mTabHost.newTabSpec("TAB_FIRST").setIndicator("First");

    mTabHost.addTab(tabSpec, FirstFragment.class, null);

    TabWidget tabWidget = mTabHost.getTabWidget();
    if (tabWidget != null) {
        View tabWidgetChild = tabWidget.getChildAt(0);
        if (tabWidgetChild != null) {
            tabWidgetChild.setVisibility(View.GONE);
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-12-12T12:38:51.017

我在片段中使用 tabHost 时遇到了类似的问题，搜索了很多，最后找到了解决方案。

1）让你的代码在创建视图中

2）这是关键->在为选项卡指示器膨胀布局时，使用如下

```
View tabIndicator = LayoutInflater.from(getActivity()).inflate(R.layout.tab_indicator, mTabHost.getTabWidget(), false); 
```

我们需要将充气机中的父值设置为`mTabHost.getTabWidget()`

使用上述代码设置选项卡指示器解决了

```
 Java : illegal state exception : no tab know for tag null 
```

更新 ：

```
mTabHost = (FragmentTabHost) view.findViewById(android.R.id.tabhost);

mTabHost.setup(getActivity(), getChildFragmentManager(), R.id.realtabcontent);

View tabIndicatorToday = LayoutInflater.from(getActivity()).inflate(R.layout.tab_indicator, mTabHost.getTabWidget(), false);
        ((TextView) tabIndicatorToday.findViewById(R.id.tv_tab_txt)).setText(getResources().getString(R.string.text));

mTabHost.addTab(mTabHost.newTabSpec(getResources().getString(R.string.text)).setIndicator(tabIndicatorToday), Fragment.class, null); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-11-13T13:16:28.403

当您尝试在 onViewCreated 中设置 FragmentTabHost 时会出现此问题，但为时已晚。尝试在 onCreateView 中设置它，并在返回视图对象之前添加至少一个选项卡。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-22T10:00:31.417

我的开发环境是带有 API19 SDK 的 Android Studio 0.8.9。

如果我将 FragmentTabHost 放在 FragmentActivity 中，它就可以工作。当我将 FragmentTabHost 放在 Fragment 中时，它会在渲染时出现“没有已知标签为空的标签”，并在 LayoutInflater 膨胀布局时出现运行时错误。

感谢 user3216049 的回答，这是一个很好的解决方法。抱歉，我是新手，无法投票。:(

但是它在我的测试选项卡片段中没有显示任何内容。我做了一个小修改。

*   test_fragment.xml

```
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

<FrameLayout
    android:id="@android:id/tabcontent"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:layout_weight="0" />

<FrameLayout
    android:id="@+id/realtabcontent"
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:layout_weight="1"/>

<TabWidget
    android:id="@android:id/tabs"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_weight="0"
    android:orientation="horizontal" />

</LinearLayout> 
```

*   fragment_section_dummy.xml

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/text1"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:gravity="center"
android:textSize="24sp"
android:padding="32dp" /> 
```

*   Java代码重点是我在FragmentTabHost.setup()中把id改成了“R.id.realtabcontent”

```
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentTabHost;

public class TestFragment extends Fragment {
    @Override
    public View onCreateView(LayoutInflater inflater, 
                ViewGroup container, Bundle savedInstanceState) {

        FragmentTabHost tabHost = new FragmentTabHost(getActivity());
        inflater.inflate(R.layout.test_fragment, tabHost);
        tabHost.setup(getActivity(), 
                      getChildFragmentManager(), R.id.realtabcontent);

        tabHost.addTab(tabHost.newTabSpec("simple")
            .setIndicator("Simple"), DummySectionFragment.class, null);
        tabHost.addTab(tabHost.newTabSpec("contacts")
            .setIndicator("Contacts"), DummySectionFragment.class, null);
        return tabHost;
    }

    /**
     * A dummy fragment representing a section of the app, 
     * but that simply displays dummy text.
     */
    public static class DummySectionFragment extends Fragment {
        private static int count = 0;
        @Override
        public View onCreateView(LayoutInflater inflater, ViewGroup container,
                                 Bundle savedInstanceState) {
            View rootView = inflater.inflate(R.layout.fragment_section_dummy, 
                   container, false);
            ((TextView) rootView.findViewById(android.R.id.text1))
                    .setText("Dummy Section " + count++);
            return rootView;
        }
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-12-26T06:25:25.290

我通过引用此链接解决了我的问题

[FragmentTabHost - 没有已知标签为空的标签](https://stackoverflow.com/questions/28901977/fragmenttabhost-no-tab-known-for-tag-null)

No tab known for tag null 它意味着 tabhost 尚未初始化，因为您正在尝试 onCreateView 方法，但为时已晚

在 onResume 方法中调用 tabhost

# php - 从单个文件翻译 Magento

> ID：15354168
> 
> 赞同：1
> 
> 时间：2013-03-12T05:46:27.133
> 
> 标签：php, magento, csv, translation, magento-1.7

是否可以使用单个 CSV 文件进行所有翻译？类似于我们可以从单个文件 local.xml 进行所有 xml 更改

我下载了一个瑞典语翻译包并尝试翻译一些尚未翻译的单词。我看到 csv 文件的命名类似于 xml 布局文件。所以很想知道是否有可能与翻译有类似的功能？

我感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T09:21:57.993

您需要在文件夹中创建一个文件**translate.csv**`app/design/your_theme/locale/_localecode_/` ，然后您可以在其中输入翻译文本。查看此[链接](http://blog.belvg.com/magento-certified-developer-exam-internationalization.html)了解更多详情

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T10:05:40.167

您可以使用任何 Magento 核心助手。我在我的管理自定义模块中使用销售助手，它现在对我有用。重要的是我们也想在我们的自定义模块中设置语言环境。

```
if ($order->getStoreId()) {
                Mage::app()->getLocale()->emulate($order->getStoreId());
                Mage::app()->setCurrentStore($order->getStoreId());
            }

$page->drawText(Mage::helper('sales')->__('Packing Note'), 30, $this->y, 'UTF-8'); 
```

I added translation file to default translation files(Mage_sales.csv) for all locale. It's working for me.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:16:04.237

CSV 文件在 magento 语言环境中组织为模块。但是您可以根据需要将需要翻译的文本放置在任何 CSV 文件中。它会起作用的。但请注意，它应该在您需要翻译的特定语言文件夹下。

例如，假设您有一个模块`first_module.csv`。您可以在此文件中放置需要翻译的任何文本。无论文本是否来自任何其他模块。**如果启用此模块**，翻译将起作用。

**据我所知，**通过按模块组织CSV，您可以根据各种模块控制文本的翻译。但如果没有，您将无法对翻译进行任何此类模块虎钳控制。

# jquery - 如何使用 JQuery 发送转义键

> ID：15354169
> 
> 赞同：2
> 
> 时间：2013-03-12T05:46:45.113
> 
> 标签：jquery, asp.net-mvc, keypress

当用户单击我的 MVC 视图上的某个按钮时，我想模拟在 Escape 键上执行的事件。如何使用 JQuery 实现它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T05:56:47.790

```
function pressEsc() {
    $('body').trigger({
        type: 'keyup',
        which: 27 // Escape key
    });
}

$(function () {
    $('body').on('keyup', function (e) {
        alert(e.which + ' key was pressed');
    });

    // Press the escape key
    pressEsc();
}); 
```

演示：http: [//jsfiddle.net/T4H89/](http://jsfiddle.net/T4H89/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T05:53:24.647

使用键码 27（退出键）模拟 keydown 元素。

```
e = jQuery.Event("keydown"); 
e.which = 27;
$("#escape_button").trigger(e); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-17T06:17:41.940

这将检测**ESC**键并触发定义的事件。

```
 $('body').on('keyup', function (e) {
        if (e.which === 27) { // detect if it is **Esc** button
            alert("esc pressed now triggering event");
            $(".a").trigger("click"); //trigger event
        }
    }); 
```

# android - 解析“build.fingerprint”调试消息

> ID：15354172
> 
> 赞同：2
> 
> 时间：2013-03-12T05:47:18.270
> 
> 标签：android, debugging, parsing, fingerprint

我是韩国的Android应用程序开发人员。当您运行我制作的应用程序时，该应用程序偶尔会被终止而没有任何错误消息，我不能假设 adb 中的“构建指纹”出来确认任何事情。

有没有办法能够解释“构建指纹”我？如果，应该如何解释？谢谢

```
 *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
  Build fingerprint: 'my-device-name'
  pid: 6691, tid: 6903, name: Thread-1380  >>> my-app-name <<<
  signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr deadbaad
      r0 00000027  r1 deadbaad  r2 401b5b0c  r3 00000000
      r4 00000000  r5 68a2aaf4  r6 67832050  r7 00000078
      r8 5f5dab44  r9 00100000  sl 67832050  fp 68a2ab4c
      ip 5f684e30  sp 68a2aaf0  lr 40187c89  pc 4018432a  cpsr 60000030
      d0  0000000000000004  d1  0000000200000000
      d2  00000000fffffe8a  d3  5f68cb547fffffff
      d4  e5962050e59a0008  d5  e59ac010e59ae000
      d6  4036000000000000  d7  4020800000000000
      d8  402813e541409f2e  d9  0000000000000000
                         .
                         .
                         .
                         .
                         . 
```

# c++ - 实现字典排序以查找唯一排列

> ID：15354178
> 
> 赞同：0
> 
> 时间：2013-03-12T05:47:39.927
> 
> 标签：c++, permutation

我正在尝试实现一种算法，以按照[此处](http://en.wikipedia.org/wiki/Permutations#Generation_in_lexicographic_order)描述的字典顺序生成唯一排列。以下是我的实现。

```
void My_Permute(string word) {
    sort(word.begin(),word.end());
    int size = word.size(); 
    while (true) {
        cout << word << endl;
        int i = size - 2;  
        for (; i >= 0; --i) { 
            if (word[i] < word[i+1]) break; 
        } 
        if (i <= -1) break; 
        swap(word[i],word[i+1]);
        cout << word << endl;
        reverse(word.begin()+i+1,word.end());
    } 
} 
```

我确定算法是正确的，那么我的实现有什么问题？我的功能是错过了一些排列。下面显示了我的输出与输入上的 std::next_permutation 的比较`abcd`。

```
My_Permute             std::next_permutation
abcd                   abcd
abdc                   abdc
abdc                   acbd
adbc                   adbc
adcb                   adcb
dacb                   bacd
dbca                   bcad
dcba                   bcda
dcab                   bdac
dcba                   bdca
dcba                   cabd
                       cadb
                       cbad
                       ... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:00:18.927

您缺少链接算法中的第 2 步

```
void Permute(string word) {
    sort(word.begin(), word.end());
    int size = word.size();
    while (true) {
        cout << word << endl;
        // Find the largest index k such that a[k] < a[k + 1].
        // If no such index exists, the permutation is the last permutation.
        int i = size - 2;
        for (; i >= 0; --i) {
            if (word[i] < word[i+1])
                break;
        }
        if (i < 0)
            break;
        // Find the largest index l such that a[k] < a[l].
        // Since k + 1 is such an index, l is well defined and satisfies k < l.
        int j = size - 1;
        for (; ; --j) {
            if (word[i] < word[j])
                break;
        }
        // Swap a[k] with a[l].
        swap(word[i], word[j]);
        // Reverse the sequence from a[k + 1] up to and including the
        // final element a[n].
        reverse(word.begin() + i + 1, word.end());
    }
} 
```

输出是：

```
abcd
abdc
acbd
acdb
adbc
adcb
bacd
badc
bcad
bcda
bdac
bdca
cabd
cadb
cbad
cbda
cdab
cdba
dabc
dacb
dbac
dbca
dcab
dcba 
```

24（即 4！）行，如预期的那样

顺便说一句，您应该尽可能[避免“使用命名空间标准”](https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-a-bad-practice-in-c)。

# android - 增强现实——安卓

> ID：15354183
> 
> 赞同：2
> 
> 时间：2013-03-12T05:48:11.987
> 
> 标签：android, augmented-reality

我对 android 的增强现实框架是新手和空白。谁能指导我如何将其与 android 应用程序集成。以及可用于我们的应用程序的任何其他增强现实框架。请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:53:52.107

您可以参考以下链接

[**AndAR - 安卓增强现实**](https://code.google.com/p/andar/)

可以是一个很好的起点。

增强现实 (AR) 是与我们的物理现实融合的交互式 3D 环境的通用术语，通常通过网络摄像头，或者在这种情况下是手机摄像头。

并参考此链接[https://stackoverflow.com/a/4797000/1441666](https://stackoverflow.com/a/4797000/1441666)

# javascript - 是否可以在不使用任何 3rd 方工具（链接空间）的情况下将剑道图表保存为 png 格式？

> ID：15354186
> 
> 赞同：0
> 
> 时间：2013-03-12T05:48:43.437
> 
> 标签：javascript, kendo-ui, kendo-chart

在我的项目中，需要将图表导出为 png 格式。是否可以在 kendo-ui 中使用而不使用 ink-space（第 3 方工具）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:00:52.577

如果您知道如何将 SVG 转换为 PNG（剑道图表不提供开箱即用的功能），这是可能的。[Inksape](http://inkscape.org)是一个开源工具，可以将 SVG 转换为各种格式。但是由于某种原因你不能使用它，你可以查看这个 .NET SVG 渲染库：[http ://svg.codeplex.com](http://svg.codeplex.com)

# iphone - 他们是如何在 iPhone 应用中实现垂直过渡的动画的？

> ID：15354189
> 
> 赞同：1
> 
> 时间：2013-03-12T05:48:54.893
> 
> 标签：iphone, ios, animation

有一个很棒的垂直过渡的应用程序 - [Haze](https://itunes.apple.com/ru/app/haze/id594476963?mt=8)。他们是如何实现主屏幕和设置之间的动画的？他们是否使用了一些框架或其他东西？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:14:00.860

*   它们不是单独的屏幕
*   使用图层和绘图技术
*   他们使用核心动画和核心图形
*   使用触摸事件来检测手势。
*   一些数学计算
*   当然有一些色彩感

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:10:58.460

该应用程序的创建者之一 Willi Wu 在[推特](https://twitter.com/williwu/status/302389140958347264)上写道：

> 它也是 OpenGL、CAShapeLayer 和 OpenAL。

另一位创作者 Franz Bruckhoff 在[推特](https://twitter.com/_bartjacobs/status/302769898453626880)上回应了“Haze 主要使用 OpenGL 构建吗？”的问题。</p>

> 是的，主要是。也有一些 CA。

# java - 正则表达式问题 - Matcher 花了很多时间来匹配。

> ID：15354193
> 
> 赞同：1
> 
> 时间：2013-03-12T05:49:04.967
> 
> 标签：java, regex, pattern-matching

我想处理包含以下行的源文件，文件包含超过 100 列，它是制表符分隔的文件。

```
private static Matcher FILE_NAME_REGEX = Pattern.compile("^\\w+\\d(F|G|H|J|K|M|N|Q|U|V|X|Z)\t169\t3(.*\t){26}\\d{4}/\\d{2}/\\d{2}.*",Pattern.CASE_INSENSITIVE).matcher("");

    String line = "CGAS0Z   169 3   38977.5 02:30:00    -350    76000   75700   2255        76000   76000   76000       588             2                               76000   06:35:15    2013/03/04                  2013/03/05  02:17:40    CGAS    1   JPY CHUKYO Gasoline                 Futures CHUKYO Gasoline CONT (CGAS3H)           JP      FUD         169                         RES     XTKT    2013/03/05  2013/03/05  2013/03/05          10  76350                                       10                                  81950   61500       4296057 19178.8258928571    224 CGAS        2013/03/25  116.3987300506  0.5196371877        75700   2255                    0.7841672   8.582539    23.298309           12.458333";

    if (FILE_NAME_REGEX.reset(line).matches()) {
        System.out.println(":)");
    } else {
        System.out.println(":(");
    } 
```

当我测试这段代码时，它会花费很多时间。有人可以解释一下这有什么问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T06:04:45.340

我会这样尝试：

```
Pattern.compile("^\\w+\\d[FGHJKMNQUVXZ]\t169\t3([^\t]*\t){26}\\d{4}/\\d{2}/\\d{2}.*",Pattern.CASE_INSENSITIVE) 
```

`([^\t]*\t){26}`应该比 快得多`(.*\t){26}`，因为它只有一种匹配文本的方法。如果需要，这也可以调整为支持引用值中的选项卡。

此外，如果您想在搜索整个文件而不是单行时按预期工作，您将需要使用`(?m)`or`Pattern.MULTILINE`标志。`^`

# c# - 查找目录中不存在的文件名

> ID：15354206
> 
> 赞同：3
> 
> 时间：2013-03-12T05:50:30.127
> 
> 标签：c#

如果文件名（不是路径）在`List<string>`. 我必须找到`List<string>`目录中不存在的文件。

现在我正在一个一个地迭代这些文件，并将它们中的每一个都检查到文件夹中的所有文件中。

是否有任何 LINQ 方法可以实现相同的目标？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T05:53:20.503

您可以使用[Enumerable.Except](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.except.aspx)，例如：

```
List<string> compareList = new List<string>();
//.... items in the list

DirectoryInfo di = new DirectoryInfo("C:\\");
var fileArray = di.GetFiles().Select(r => r.Name).ToArray();

var filesNotPresent = compareList.Except(fileArray); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T05:58:14.050

根据列表中有多少名称（以及目标中有多少文件），您可能会发现迭代方法仍然是最有效的（但有一些 LINQ 增强）：

```
var missingFiles = names.Where(x => !File.Exists(x)); 
```

# wpf - 为什么在构建引用 WinRT API 的 WPF 应用程序时出现“ResolveManifestFiles 任务失败”错误？

> ID：15354209
> 
> 赞同：2
> 
> 时间：2013-03-12T05:50:48.067
> 
> 标签：wpf, windows-8, windows-runtime

我正在开发一个我想为 Windows 8 创建的 WPF 应用程序。我按照[Hansleman 的博客](http://www.hanselman.com/blog/HowToCallWinRTAPIsInWindows8FromCDesktopApplicationsWinRTDiagram.aspx)中提到的步骤在 WPF 应用程序中使用 WinRT 函数进行了一些手动修改。一切都很顺利，直到我尝试发布该应用程序。当我单击发布应用程序时，出现错误“'ResolveManifestFiles' 任务意外失败。System.ArgumentException：值不在预期范围内。”

之后，在尝试构建简单的解决方案时，它会产生相同的错误。

即使您创建一个简单的 WPF 项目并添加博客中提到的引用以访问 WinRT 功能并发布，也可以重现此问题。

我认为从 WPF 调用 WinRT 函数是常见的情况，应该有人这样做。有谁知道应该做些什么来解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-25T04:29:57.553

当 WPF 应用程序使用 WinRT API 时，ClickOnce Deploy 似乎存在问题。我尝试使用“InstallShield Limited Edition Project”进行部署，它没有任何问题。微软，你需要解决这个问题！

# c# - Windows Phone 8 应用程序中的 ListView

> ID：15354214
> 
> 赞同：4
> 
> 时间：2013-03-12T05:51:02.237
> 
> 标签：c#, .net, wpf, xaml, listview

我在 Windows 8 商店中有一个 Windows 运行时应用程序，并希望在我的新（也是第一个）Windows Phone 8 手机应用程序中使用一些类似的功能。

`ListView`Windows Phone 8有原生的吗？或者我们可以`ListView`在 Windows Phone 8 应用程序中使用 a 吗？我在工具箱中找不到一个。

如果没有`ListView`，是否有可能有某种列表，允许水平方向（意思是，所有列表项都是水平显示的 - 不是自上而下）？

那么 FlipView 控件呢？我们可以在 Windows Phone 应用程序中使用 Windows 8 Metro FlipView 控件吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-12T07:33:47.500

您可以查看此链接以了解 Windows 8 和 Windows Phone 8 之间 Xaml 控件的差异：

[XAML 控制 Windows Phone 8 和 Windows 8 之间的比较](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj735581%28v=vs.105%29.aspx)

你会发现在 Windows Phone 8 中没有 ListView 或 FlipView 。可能你可以使用 insteas LongListSelector

# vb.net - 如何在VB.NET中优雅地创建从串口读取的命令对象？

> ID：15354215
> 
> 赞同：1
> 
> 时间：2013-03-12T05:51:02.507
> 
> 标签：vb.net, class, design-patterns, serial-port

在我的 VB.NET 程序中，我正在读取来自连接到串行端口的设备的命令响应。目前命令集是固定的，但将来可能会添加新命令。有没有比我可以用来读取每个命令并为它们创建对象的巨大 switch/if-then-else 语句更优雅的东西？我有一个基本的“命令”类，但派生了每个命令拥有的特殊功能。

我希望做出一个优雅的解决方案，避免每次将新对象添加到命令集中时更新巨大的 switch 语句。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T10:00:39.993

这取决于线路上消息的格式以及反序列化它们的方式。我会做这样的事情（示例是在 C# 中，因为我不使用 VB.NET，但它应该很容易转换）。

每个命令都实现`ICommand`接口，并从某个`CommandBase`实现类派生。`CommandBase`定义`MessageId`每个命令类型唯一的抽象属性（您也可以使用常量）。此 ID 也是线路上消息头的一部分，以便您知道来自设备的命令。

现在您从设备获取消息 ID：

```
int msgId = ... // what came from the device
Type cmdType = GetTypeForMessage(msgId); // get the corresponding implementation
ICommand cmd = (Command)Activator.CreateInstance(cmdType); // crate an instance
cmd.Deserialize(buffer); // or whatever way you do the serialization
cmd.Execute();  // run the command 
```

您可以从之前设置的地图中获得正确的类型：

```
Type GetTypeForMessage(int msgId) {
    // m_commandMap is Dictionary<int, Type>
    return m_commandMap[msgId];
} 
```

现在剩下的问题是如何设置`m_commandMap`。一种方法是自动注册从某个类派生的所有`CommandBase`类。你在启动时做这样的事情：

```
 // find all types in this assembly
  Assembly assembly = Assembly.GetExecutingAssembly();
  foreach (var type in assembly.GetTypes()) {
    if(typeof(CommandBase).IsAssignableFrom(type)) { // which derive from CommandBase
      CommandBase cmd = (CommandBase) Activator.CreateInstance(type);  
      m_commandMap[cmd.MessageId] = type;
      // I would make MessageId a static constant on class and read it
      // using reflection, so I don't have to instantiate an object
    }                    
  } 
```

现在，当您需要实现新命令时，您所要做的就是定义它：

```
class NewCommand : CommandBase {
    public override int MessageId { get { return 1234; } }
    // or preferably: public const int MessageId = 1234;
    // the rest of the command: ...
} 
```

如果对应的ID来自设备，它将在启动时自动注册并用于反序列化。

# iphone - 如何以编程方式在 iOS 中获取一周后的日期？

> ID：15354218
> 
> 赞同：2
> 
> 时间：2013-03-12T05:51:10.847
> 
> 标签：iphone, ios, dayofweek

我对 iOS 开发非常陌生。我想在一周后得到日期。

我使用代码来获取当前日期，如下所示。

```
NSDate *currentDateTime = [NSDate date];

NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];

[dateFormatter setDateFormat:@"EEE,MM-dd-yyyy HH:mm:ss"];

NSString *dateInStringFormated = [dateFormatter stringFromDate:currentDateTime];

NSLog(@"%@", dateInStringFormated); 
```

如果我的当前日期为 2013 年 3 月 12 日，我想在一周后获得日期意味着获得 2013 年 3 月 19 日。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-12T05:54:38.773

使用[`NSDateComponents`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSDateComponents_Class/Reference/Reference.html)：

```
NSCalendar *calendar = [NSCalendar currentCalendar];
NSDateComponents *comps = [NSDateComponents new];
comps.day = 7;
NSDate *sevenDays = [calendar dateByAddingComponents:comps toDate:[NSDate date] options:0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T05:56:38.717

```
NSDate *todayDate = [NSDate date];
NSDateComponents *dateComponents = [[NSDateComponents alloc] init];
[dateComponents setDay:+7];
NSDate *afterSevenDays = [[NSCalendar currentCalendar] dateByAddingComponents:dateComponents toDate:todayDate options:0];
NSLog(@"todayDate: %@", todayDate);
NSLog(@"afterSevenDays: %@", afterSevenDays); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T05:57:21.087

```
 NSCalendar *calendar=[NSCalendar currentCalendar];    
  NSDateComponents *components = [[NSDateComponents alloc]init];
components.day = 7;
NSDate *fireDate =[calendar dateByAddingComponents:components toDate:[NSDate date] options:0]; 
```

# javascript - 如何更改sencha touch中按钮的按下状态

> ID：15354219
> 
> 赞同：1
> 
> 时间：2013-03-12T05:51:11.640
> 
> 标签：javascript, sencha-touch, sencha-touch-2

我正在使用 sencha touch 开发移动网络应用程序。我使用以下代码创建了一个按钮

```
 {
            xtype: 'button',
            cls: 'messagesBtn'
} 
```

在 App.scss 中，我添加了以下 css，该 css 将此按钮的背景更改为图像

```
.messagesBtn {
  height: 50%;
  background: url(../images/home.png) no-repeat;
} 
```

现在这个 css 可以工作，但是当我按下那个按钮时，它不会删除该图像并向它添加另一个我不想要的状态。我希望当用户按下此按钮时，应将其他图像替换为当前图像。**我怎样才能做到这一点？**

**更新**

我改变了我的代码并添加了pressedCls

```
{
            xtype: 'button',
            cls: 'messagesBtn',
            pressedCls: 'x-button-pressed'
} 
```

这是CSS

```
 .messagesBtn {
  background: url(../images/home.png) no-repeat;
 } 

 .x-button-pressed {
    background: url(../images/appointments.png) no-repeat;  
 } 
```

以上也不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T07:20:30.180

无需更改按钮的代码，您就可以使用以下 CSS：

```
.messagesBtn {
     // Your CSS for the normal state
 } 

 .messagesBtn.x-button-pressing {
     // Your CSS for the pressing state
 } 
```

[这里的例子](http://www.senchafiddle.com/#PHRyc)

**更新**

相关阅读：[CSS优先顺序](http://hungred.com/useful-information/css-priority-order-tips-tricks/)

**此外，始终使用 Web Inspector 或 Firebug 来检查您的 CSS 是否应用于正确的元素，以及它是否没有被另一个 CSS 类覆盖**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T06:02:01.333

您可以使用按钮的[pressedCls](http://docs.sencha.com/touch/2-1/#!/api/Ext.Button-cfg-pressedCls)配置，即`the css class to add to the button when it is pressed`：

```
pressedCls: 'x-button-pressed' 
```

然后您可以使用该 css 类应用任何 css 样式：

```
.x-button-pressed {
    background: url(image-pressed.png) no-repeat;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:01:32.480

首先`ID`在您的按钮属性中分配一个，然后在该特定分配`tap event`的 ID 上替换。您应该为模式`class`创建另一个类。`pressed`希望它有效..

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-12T06:04:16.220

将[点击](http://docs.sencha.com/touch/2-1/#!/api/Ext.Button-event-tap)事件侦听器添加到按钮，然后更改按钮的按下类。

```
{
    xtype: 'button',
    cls: 'messagesBtn',
    listeners: {
        'tap' : function () {
              ...   
        }
    }

} 
```

# javascript - 迭代表行并每行执行 setInterval 似乎不起作用

> ID：15354220
> 
> 赞同：0
> 
> 时间：2013-03-12T05:51:13.463
> 
> 标签：javascript, ajax, jquery, datatables

`DataTable`我正在尝试通过访问 Web 服务将单元格的值从离线更新为在线（反之亦然） 。

```
var $myTable = $("#my-table").dataTable();
var $myTableRows = $myTable.fnGetNodes();

for(var i=0; i<$myTableRows.length; i++) {
    var $currentRowCount = i;
    var $interval = $($myTableRows[i]).find("td:eq(9)").html();
    var $timeout = $($myTableRows[i]).find("td:eq(10)").html();
    var $dataINeedToPass = $($myTableRows[i]).find("td span:eq(4)").html();
    setInterval(function() { updateStuffOnTheTable($interval, $timeout, $dataINeedToPass, i); }, 4000);
}

function updateStuffOnTheTable(interval, timeout, dataINeedToPass, row) {
    var $stuff = "Offline";
    var ajaxCall = $.ajax({
            url : "https://localhost:8443/cxf/mywebservice/" + dataINeedToPass,
            type : "GET",
            dataType : 'text',
            timeout: 2000
        }).done(function(data) {
            $stuff = "Online";
        })
        .fail(function(data) {
            $stuff = "Offline";
        })
        .always(function(data) {
            $myTable.fnUpdate($stuff, row, 2);
        })
} 
```

问题是，AJAX 请求只执行一次，而不是每 4000 毫秒。我在这里想念什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:08:33.763

它可能按预期工作，除了浏览器将继续从缓存中获取请求的数据，因为您一直在查询相同的 URL。

为了解决这个问题，通常的做法是在查询字符串中添加一个带有查询时间或随机数的虚拟变量，它会更改 URL，迫使浏览器再次从服务器检索它。

所以基本上你可以`var now = new Date();`在你的函数 updateStuffOnTheTable 上声明，然后像这样挂载你的 URL：

```
"https://localhost:8443/cxf/mywebservice/" + dataINeedToPass + '?now=' + now.getTime() 
```

您也可以尝试通过使用 POST 请求来解决这个问题，因为 AJAX POST 请求不会被缓存。

# java - 空指针展开树

> ID：15354224
> 
> 赞同：1
> 
> 时间：2013-03-12T05:51:43.300
> 
> 标签：java, rotation, splay-tree

我正在为展开树研究正确的旋转方法。当我尝试运行我的程序时，我不断收到空指针异常，但我不知道为什么。这是我的树

```
 5
     /
    2
   /
  1 
```

这是我得到空指针的地方，它在 lr 分配上。lr 应该为空，因为 2 没有权限，但节点不应该为空，然后程序应该继续运行吗？或者因为它的 null 我必须先检查 2 是否有权利？

```
 Node<E> p = findParent(x.getData());    
    Node<E> l = x.getLeft();
    Node<E> lr = l.getRight(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T05:53:59.093

如果`l`是`null`，那么`l.getRight()`将抛出一个空指针异常。

您需要测试是否`l`是`null`：

```
Node<E> lr = (l==null)?null:l.getRight(); 
```

该代码将分配`null`给`lr`if `l`is `null`，并将分配`l.getRight()`if `l`is not `null`。

# jquery - 在 Rails 中，我如何发送没有 AJAX 请求？在数据中？

> ID：15354227
> 
> 赞同：5
> 
> 时间：2013-03-12T05:52:05.293
> 
> 标签：jquery, ruby-on-rails, ajax, ruby-on-rails-3

我正在尝试向`GET`我的控制器发送请求，`/routes/`以便我可以接收一些数据，现在我有

```
function fetchMarker(id) {
    var data;
    $.ajax({
        type: "GET",
        url: '/routes/',
        data: id,
        dataType: "JSON",
        success: function(data) {
            console.log(data)
        }
    });
} 
```

但问题是当我这样做时，Firebug 告诉我：

`"NetworkError: 404 Not Found - http://10.0.0.24:3000/routes/?15"`

我相信这是由？，我最近切换到 Ruby on Rails 所以我不知道这是否正常但是 rake routes 告诉我它必须是 /routes/(params[:id]) 所以我我假设只是身份证号码。

我的控制器：

```
def show
    @route = Route.find(params[:id])
    respond_to do |format|
        format.html
        format.json { render json: @route }
    end

end 
```

感谢期待！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-12T05:56:12.170

只需将 附加`id`到`url`, 而不是将其发送为`data`:

```
function fetchMarker(id) {
  var data;
  $.ajax({
    type: "GET",
    url: '/routes/' + id,
    dataType: "JSON",
    success: function(data) {
      console.log(data)
    }
  });
} 
```

# android - 错误插入“没有列”

> ID：15354231
> 
> 赞同：2
> 
> 时间：2013-03-12T05:52:15.307
> 
> 标签：android, sqlite

我的应用程序中有一些代码，但是当我插入表格时出现错误。我不知道为什么。谁能帮我？？

这是我的代码：

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.tambahpenerima);

    data = new dbHelper(this);
    db = data.getWritableDatabase();
    data.createTable(db);

    na = (TextView)findViewById(R.id.na);
    no = (TextView)findViewById(R.id.no);
    pesanx = (EditText)findViewById(R.id.hasilx);

    Bundle paket = getIntent().getExtras();
    nama = paket.getString("nama");
    nomor = paket.getString("nomor");
    hasil = paket.getString("chiper");
    na.setText(nama);
    no.setText(nomor);
    pesanx.setText(hasil);

    pesanKeluar objk = new pesanKeluar(nama, nomor, hasil);
    inputDataK(db, objk);   //here the error    
}
public void inputDataK(SQLiteDatabase db, pesanKeluar k) {
    ContentValues cv = new ContentValues();
    cv.put("nama", k.getNama());
    cv.put("nomortlp", k.getNomorTlp()); //here my modified
    cv.put("chiperteks", k.getChiperteks()); //here my modified
    db.insert("pesanKeluar", null, cv); //here my modified
    db.close();
}
} 
```

我已经修改了我的代码，但我得到了和以前一样的错误。请看一下我的日志错误。

```
 03-11 17:27:33.704: I/Database(1664): sqlite returned: error code = 
1, msg = table pesanKeluar has no column named chiper
    03-11 17:27:33.725: E/Database(1664): Error inserting 
chiper=00010101 nama=D nomor=536
    03-11 17:27:33.725: E/Database(1664): 
android.database.sqlite.SQLiteException: table pesanKeluar has no column
 named chiper: , while compiling: INSERT INTO pesanKeluar(chiper, nama, 
nomor) VALUES(?, ?, ?); 
```

这是我的 dbHelper.java：

```
package com.databasesms;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

public class dbHelper extends SQLiteOpenHelper {
private static final String DATABASE_NAME = "dbenkripsisms.db";

public dbHelper ( Context context) {
    super ( context, DATABASE_NAME, null, 1);
}

public void createTable ( SQLiteDatabase db) {
    db.execSQL("CREATE TABLE if not exists tbPesan (id INTEGER PRIMARY KEY AUTOINCREMENT, plainteks TEXT, key TEXT, chiperteks TEXT);");
    db.execSQL("CREATE TABLE if not exists pesanMasuk (id_pm INTEGER PRIMARY KEY AUTOINCREMENT, nama TEXT, nomortlp NUMBER, plainteks TEXT, key TEXT);");
    db.execSQL("CREATE TABLE if not exists pesanKeluar (id_pk INTEGER PRIMARY KEY AUTOINCREMENT, nama TEXT, nomortlp TEXT, chiperteks TEXT);");
}

@Override
public void onCreate ( SQLiteDatabase arg0 ) {

}

@Override
public void onUpgrade ( SQLiteDatabase arg0, int arg1, int arg2 ) {

}

} 
```

这是我的 pesanKeluar.java：

```
package com.databasesms;

public class pesanKeluar {
private String nama;
private String nomortlp;
private String chiperteks;

public pesanKeluar () {
    super();
}

public pesanKeluar ( String nama, String nomortlp, String chiperteks ) {
    this.nama = nama;
    this.nomortlp = nomortlp;
    this.chiperteks = chiperteks;       
}

public String getNama () {
    return nama;
}

public void setNama ( String nama ) {
    this.nama = nama;
}

public String getNomorTlp () {
    return nomortlp;
}

public void setNomorTlp ( String nomortlp ) {
    this.nomortlp = nomortlp;
}

public String getChiperteks () {
    return chiperteks;
}

public void setChiperteks ( String chiperteks ) {
    this.chiperteks = chiperteks;
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:16:47.857

尝试上述解决方案，例如替换列名，然后在重新启动应用程序之前清除您的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T05:56:41.737

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T05:56:54.527

`chiperteks`你没有 给列名`chiper` `db.execSQL("CREATE TABLE if not exists pesanKeluar (id_pk INTEGER PRIMARY KEY AUTOINCREMENT, nama TEXT, nomortlp TEXT, chiperteks TEXT);");`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T05:57:16.247

表 pesanKeluar 没有名为 chiper 的列

该错误表明您的所有表 pesanKeluar 都有一个列名chiperteks ...并且您正在提供要插入的密钥“chiper”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T05:57:43.397

> 插入 chiper=00010101 nama=D nomor=536 03-11 17:27:33.725: E/Database(1664): android.database.sqlite.SQLiteException: table pesanKeluar has no column named chiper: 时出错：编译时：INSERT INTO pesanKeluar (chiper, nama, nomor) 值(?, ?, ?);

当您的函数中的列与数据库中的列不同时会发生这种情况，请检查您的数据库是否`chiper named colume`存在或与您的数据库中的拼写相同？

您将列名定义为`chiperteks`在创建表时和插入数据时传递的错误为`chiper`，这会导致错误。

利用：

> cv.put("chiperteks", k.getChiperteks());

反而：

> cv.put("chiper", k.getChiperteks());

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-12T05:58:58.020

你有列名`chiperteks`但不在`chiper`你的表中`pesanKeluar`

代替

```
cv.put("chiper", k.getChiperteks()); 
```

至

```
cv.put("chiperteks", k.getChiperteks()); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-12T06:00:57.553

尝试这个

```
public void inputDataK(SQLiteDatabase db, pesanKeluar k) {
        ContentValues cv = new ContentValues();
        cv.put("nama", k.getNama());
        cv.put("nomortlp ", k.getNomorTlp()); // column name should be same as you define in Table
        cv.put("chiperteks ", k.getChiperteks());
        db.insert("pesanKeluar ", null, cv); 
        db.close();
    } 
```

# c++ - 如何在 C++ 中创建和管理会话？

> ID：15354234
> 
> 赞同：2
> 
> 时间：2013-03-12T05:52:23.293
> 
> 标签：c++, session, authentication

我知道会话是如何工作的，并且了解身份验证和授权，但我只在 php 中使用过它们。在身份验证后，我曾经启动会话并将会话详细信息存储在 $_SESSION 全局数组中。

在 c++ 中，我曾想过创建一个加密字符串“token”来存储用户名密码时间戳，并让这个令牌在各种用例之间传输。在用户每次提交选项之前，我都会检查此令牌以查看它的新鲜度和有效性。

这是一个好方法吗？是否有任何其他预先存在的系统方法来管理 c++ 中的会话？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:26:46.023

C++ 在捆绑库的功能广度上与 Java 不同，因此您需要使用一些额外的库来扩展该语言。我建议看看下面的图书馆......

[http://rudeserver.com/session/index.html](http://rudeserver.com/session/index.html)

[http://www.webtoolkit.eu/wt/](http://www.webtoolkit.eu/wt/)

# android - Google Play 商店给用户额外积分？

> ID：15354249
> 
> 赞同：4
> 
> 时间：2013-03-12T05:53:34.740
> 
> 标签：android, in-app-purchase, in-app-billing, google-play-services

我们正在使用服务器端验证来验证 Play 商店中的应用内订阅。谷歌对其中一个请求返回了这样的响应——
`{ kind: "androidpublisher#subscriptionPurchase",
initiationTimestampMsec: "1363062617125",
validUntilTimestampMsec: "1365762617125",
autoRenewing: true
}`

它是按月订阅的，如果您转换时间戳，validUntilTimestampMsec 比一个月多 6 小时，知道为什么吗？

# java - Google App Engine Java 搜索表单

> ID：15354252
> 
> 赞同：0
> 
> 时间：2013-03-12T05:53:44.483
> 
> 标签：java, html, google-app-engine

我想创建一个带有提交按钮的表单，该按钮被重定向到格式为[http://example.com/?search=Word+OtherWord](http://example.com/?search=Word+OtherWord)的页面（可能通过 GET 请求）。我将如何设置一个 java 类，首先使用户能够访问这样的页面，其次，处理参数并在页面上呈现 html？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T11:50:59.847

我强烈建议学习 Java Servlets/JSP。他们将帮助您完成这项简单的任务。

这是一个[Hello World 示例](http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/Servlet-Tutorial-First-Servlets.html)，可以帮助您启动此任务：

这是一个[Java Servlets / JSPs 教程](http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/)

# java - 使用spring for android休息POST对象

> ID：15354253
> 
> 赞同：12
> 
> 时间：2013-03-12T05:53:45.090
> 
> 标签：java, android, spring, rest

我正在尝试使用 spring for android 发布到休息服务（我是新手）

restful 服务有这样的结构

```
@POST
@Path("/ider")
@Consumes(MediaType.APPLICATION_JSON)
@Produces(MediaType.APPLICATION_JSON)
public SearchOutRO hashTrackInJSON(SearchInRO in); 
```

with（缩短的目标代码）：

```
public class SearchInRO implements Serializable {
    private Double latitud;
    private Double longitud;
}

public class SearchOutRO implements Serializable {
    private Integer searchId;
} 
```

所以我正在尝试这个（来自android）

```
String url = BASE_URL + "ider";
HttpHeaders requestHeaders = new HttpHeaders();

requestHeaders.setContentType(MediaType.APPLICATION_JSON);

MultiValueMap<String, String> body = new LinkedMultiValueMap<String, String>();
body.add("searchInRO[latitud]", String.valueOf(user.getLatitud()));
body.add("searchInRO[longitud]", String.valueOf(user.getLongitud()));

HttpEntity<?> requestEntity = new HttpEntity<Object>(body, requestHeaders);
RestTemplate restTemplate = new RestTemplate();

List<HttpMessageConverter<?>> messageConverters = new ArrayList<HttpMessageConverter<?>>();
messageConverters.add(new FormHttpMessageConverter());
messageConverters.add(new StringHttpMessageConverter());
restTemplate.setMessageConverters(messageConverters);
try {
    ResponseEntity<SearchOutRO> response = restTemplate.exchange(url, HttpMethod.POST, requestEntity, SearchOutRO.class);

    HttpStatus status = response.getStatusCode();
    if (status == HttpStatus.CREATED) {
        return true;
    } else {
        return false;
    }
} catch (Exception e) {
    e.printStackTrace();
    return false;
} 
```

并得到这个例外：

```
org.springframework.web.client.RestClientException: Could not write request: no suitable HttpMessageConverter found for request type [org.springframework.util.LinkedMultiValueMap] and content type [application/json] 
```

你能帮我指出我做错了什么吗？（​​以及如何使它正确）。
我认为它可能是“body”MultiValueMap。

提前致谢

**编辑：** 我尝试了@Krisl 的建议。我成功连接到服务器端，但似乎对象未正确编组。

```
WARNING: javax.xml.bind.UnmarshalException
 - with linked exception:
[javax.xml.bind.UnmarshalException: unexpected element (uri:"", local:"latitud"). Expected elements are <{}searchInRO>] 
```

我会很感激任何想法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T06:06:05.237

看来您的假设是正确的， MultiValueMap 造成了麻烦。

尝试这个

而不是使用 MultiValueMap 在 SearchInRO 对象中设置 lat 和 lng 并添加它。

改变

```
HttpEntity<?> requestEntity = new HttpEntity<Object>(body, requestHeaders); 
```

至

```
SearchInRO searchInRO = new SearchInRO(); 
```

设置 lat 和 lng

```
HttpEntity<?> requestEntity = new HttpEntity<Object>(searchInRO , requestHeaders); 
```

同时添加 MappingJacksonHttpMessageConverter

```
 messageConverters.add(new MappingJacksonHttpMessageConverter()); 
```

**更新：** 我刚刚检查了一个使用 REST 的旧项目，并注意到我也使用了 jersey-json jar（我的案例 maven 依赖项）。
尝试将 jersey-json jar 添加到您的类路径并更新 web.xml，如下所示

```
<init-param>
        <param-name>com.sun.jersey.api.json.POJOMappingFeature</param-name>
        <param-value>true</param-value>
    </init-param> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T21:49:13.530

在设置 HttpEntity 之前，使用 jackson 和 writer 去字符串的 diff 方法...

[参考](http://localtone.blogspot.com/2009/07/post-json-using-android-and-httpclient.html)

```
ObjectNode rootOb = new ObjectMapper().createObjectNode();
  { create obj nodes , adding each to rootNode }
  {jackson api to go to string }

    StringWriter writer = new StringWriter();
    new ObjectMapper().writeValue(writer, rootOb);
    String poststr=writer.toString();

httpPost.setEntity(new StringEntity(poststr)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:05:52.000

我认为你缺少`HttpMessageConverter`豆子。如果您正在生产和使用 JSON 数据，则应该有一些方法可以将 java POJO 转换为 JSON，反之亦然。尝试在您的上下文 xml 文件中添加以下 bean。

```
<beans:bean id="jacksonMessageChanger"
    class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter">
    <beans:property name="supportedMediaTypes" value="application/json" />
</beans:bean>

<beans:bean
    class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
    <beans:property name="messageConverters">
        <util:list id="beanList">
            <beans:ref bean="jacksonMessageChanger" />
        </util:list>
    </beans:property>
</beans:bean> 
```

此外，您还需要为杰克逊映射器添加 Maven 依赖项。

```
<dependency>
    <groupId>org.codehaus.jackson</groupId>
    <artifactId>jackson-core-asl</artifactId>
    <version>1.8.5</version>
</dependency>
<dependency>
    <groupId>org.codehaus.jackson</groupId>
    <artifactId>jackson-mapper-asl</artifactId>
    <version>1.8.5</version>
</dependency> 
```

# batch-file - 从批次创建一个带有增量编号的新文件

> ID：15354259
> 
> 赞同：-1
> 
> 时间：2013-03-12T05:54:11.980
> 
> 标签：batch-file

我正在寻找批处理脚本来创建一个带有增量编号的新文件夹。

例子：

```
DirectroryNames= 
DirectoryName_1_Label234_Date
DirectoryName_2_Label235_Date 
```

我想在每次批处理脚本运行时创建一个新目录

```
DirectoryName_3_Label236_Date 
```

下一个

```
DirectoryName_4_Label137_Date etc... 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:32:13.407

好吧，你可以有两个变量都增加。看看这个片段，看看你是否喜欢它......

```
@echo off & setlocal enabledelayedexpansion
set start1=7
set start2=256
set end1=12
set end2=261
set /a amount=start2-start1

for /l %%i in (1,1,%amount%) do (
if DirectoryName_%start1%_Label1%start2%_Date exist goto end
md DirectoryName_%start1%_Label%start2%_Date
set /a start1+=1
set /a start2+=1
if %start1% geq %end1% goto end
)

:end 
```

# javascript - 将数据导出到 Excel 时如何更改文件名？

> ID：15354261
> 
> 赞同：8
> 
> 时间：2013-03-12T05:54:22.543
> 
> 标签：javascript, html, kendo-ui

将数据导出到 Excel 时如何更改文件名？

```
<div id="example" class="k-content">
    <button type="button"id="btnExport">Export to csv!</button>
    <div id="grid"></div>
</div>
<script>
$("#btnExport").click(function (e) {
    var result = "data:application/vnd.ms-excel,";

    window.open(result);

    e.preventDefault();
});
</script> 
```

当我单击导出按钮时，我得到的是 download.xls。是否可以将文件名设置为 data.xls？谁能解释我需要在哪里配置？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-28T05:18:44.630

这是一个示例，它演示了使用自定义文件名将 HTML 表导出到 Excel：[http ://www.kubilayerdogan.net/javascript-export-html-table-to-excel-with-custom-file-name/](http://www.kubilayerdogan.net/javascript-export-html-table-to-excel-with-custom-file-name/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-07-18T16:23:22.277

不仅适用于excel，此外，对于多种格式都可以使用。

```
 var element = document.createElement('a');
            element.setAttribute('href', 'data:application/vnd.ms-excel,' + encodeURIComponent(htmlTable));
            element.setAttribute('download', fileName);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element); 
```

[https://ourcodeworld.com/articles/read/189/how-to-create-a-file-and-generate-a-download-with-javascript-in-the-browser-without-a-server](https://ourcodeworld.com/articles/read/189/how-to-create-a-file-and-generate-a-download-with-javascript-in-the-browser-without-a-server)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-07-11T12:30:33.773

我遇到了同样的问题，并且由于新格式（可能不是每个浏览器都支持）`<a download=""></a>`以下对我来说很好。这直接使用 HTML/Javascript 没有 PHP 服务器部分，因为使用提交表单对于大数据表来说太重了。

*   更改`<button>`为`<a>`
*   不再`window.open()`
*   使用基本`<a>`行为（所以，不再`e.preventDefault()`），但更改`href`为`data:blabla`并添加`download="filename"`：

```
<div id="example" class="k-content">
    <a href="#" id="btnExport" >Export to csv!</a>
    <div id="grid"></div>
</div>
<script>
    $("#btnExport").click(function (e) {
        var result = "data:application/vnd.ms-excel,";
        this.href = result;
        this.download = "my-custom-filename.xls";
        return true;
    });
</script> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T05:57:48.913

您不能使用客户端 JavaScript 执行此操作，您需要设置响应标头...

。网

```
Response.AddHeader("Content-Disposition", "inline;filename=filename.xls") 
```

或 PHP

```
$filename = 'somehting.xls';

header('Content-Disposition: attachment; filename="'.$filename.'"'); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-03-27T18:21:30.517

```
Response.AddHeader "Content-Disposition", "attachment; filename=C:\YOURFILENAME.xls;" 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-04-21T07:29:32.630

```
var a = document.createElement('a');
//getting data from our div that contains the HTML table
var data_type = 'data:application/vnd.ms-excel';
a.href = data_type + ', ' + encodeURIComponent(tab_text);
//setting the file name
a.download = 'SupervisorReport.xls';
//triggering the function
a.click();
//just in case, prevent default behaviour
e.preventDefault();
return (a); 
```

# php - 如何在 drupal 7 中只为特定用户授予“添加内容”访问权限？

> ID：15354268
> 
> 赞同：0
> 
> 时间：2013-03-12T05:54:57.893
> 
> 标签：php

请帮我解答这个问题（如何在 drupal 7 中只为特定用户授予“添加内容”访问权限？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T13:16:00.417

创建一个新的用户角色并向该角色授予添加内容权限。然后将特定用户分配给该角色。现在该用户只能添加内容。

**步骤**：

转到**管理 -> 人**

单击**权限**选项卡。

提供角色名称，例如**“编辑器”**，然后单击**添加角色**

创建后，针对新创建的角色单击**编辑权限**并授予所需的权限。

# c# - 通过 c# .net 使用 gmail 帐户登录

> ID：15354278
> 
> 赞同：6
> 
> 时间：2013-03-12T05:55:27.170
> 
> 标签：c#, .net, google-api, openid, dotnetopenauth

我正在使用 DotNetOpenID dll 通过 gmail 身份验证通过 c# .net 记录我的示例应用程序

我使用的代码是

```
protected void Page_Load(object sender, EventArgs e)
    {
        OpenIdRelyingParty rp = new OpenIdRelyingParty();
        var r = rp.GetResponse();
        if (r != null)
        {            
            switch (r.Status)
            {
                case AuthenticationStatus.Authenticated:
                    NotLoggedIn.Visible = false;
                    Session["GoogleIdentifier"] = r.ClaimedIdentifier.ToString();
                    Response.Redirect("About.aspx"); //redirect to main page of your website  
                    break;
                case AuthenticationStatus.Canceled:
                    lblAlertMsg.Text = "Cancelled.";
                    break;
                case AuthenticationStatus.Failed:
                    lblAlertMsg.Text = "Login Failed.";
                    break;
            }
        }
    }

    protected void OpenLogin_Click(object src, CommandEventArgs e)
    {
        string discoveryUri = e.CommandArgument.ToString();
        OpenIdRelyingParty openid = new OpenIdRelyingParty();
        var b = new UriBuilder(Request.Url) { Query = "" };
        var req = openid.CreateRequest(discoveryUri, b.Uri, b.Uri);
        req.RedirectToProvider();
    } 
```

当我单击 gmail 登录按钮时，它运行良好，它转到 gmail 页面并根据我的需要进行身份验证。

但我的问题是 **AuthenticationStatus.Authenticated 状态在身份验证后始终失败**，即使我提供了正确的 gmail 帐户用户名和密码

等待有价值的回复和评论

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T09:15:35.570

根据您的要求。您应该尝试此代码或查看此链接： [用于 ASP.net 网站身份验证的 Gmail 凭据](https://stackoverflow.com/questions/9199958/gmail-credentials-for-authentication-of-asp-net-website)

```
protected void Page_Load(object sender, EventArgs e)
{
    OpenIdAjaxRelyingParty rp = new OpenIdAjaxRelyingParty();
    var response = rp.GetResponse();
    if (response != null)
    {
        switch (response.Status)
        {
            case AuthenticationStatus.Authenticated:
                NotLoggedIn.Visible = false;
                Session["GoogleIdentifier"] = response.ClaimedIdentifier.ToString();

                var fetchResponse = response.GetExtension<FetchResponse>();
                Session["FetchResponse"] = fetchResponse;
                var response2 = Session["FetchResponse"] as FetchResponse;

                string UserName = response2.GetAttributeValue(WellKnownAttributes.Name.First) ?? "Guest"; // with the OpenID Claimed Identifier as their username.
                string UserEmail = response2.GetAttributeValue(WellKnownAttributes.Contact.Email) ?? "Guest";   

                Response.Redirect("Default2.aspx");
                break;

            case AuthenticationStatus.Canceled:
                lblAlertMsg.Text = "Cancelled.";
                break;
        }

    }
}
protected void OpenLogin_Click(object sender, CommandEventArgs e)
{

    string discoveryUri = e.CommandArgument.ToString();
    OpenIdRelyingParty openid = new OpenIdRelyingParty();

    var url = new UriBuilder(Request.Url) { Query = "" };
    var request = openid.CreateRequest(discoveryUri); // This is where you would add any OpenID extensions you wanted
    var fetchRequest = new FetchRequest(); // to fetch additional data fields from the OpenID Provider

    fetchRequest.Attributes.AddRequired(WellKnownAttributes.Contact.Email);
    fetchRequest.Attributes.AddRequired(WellKnownAttributes.Name.First);
    fetchRequest.Attributes.AddRequired(WellKnownAttributes.Name.Last);
    fetchRequest.Attributes.AddRequired(WellKnownAttributes.Contact.HomeAddress.Country);
    request.AddExtension(fetchRequest);

    request.RedirectToProvider();

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T20:18:21.237

我不熟悉 DotNetOpenID dll。但是，我建议使用 Fiddler 捕获登录期间发送的 POST 中的数据，并确保您在帖子中发送正确的内容。C [#](http://msdn.microsoft.com/en-us/library/system.net.httpwebresponse.aspx)在. `HttpWebRequest` [_](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx) _ 您是否有任何理由不使用 System.dll 中的这些？ `HttpWebResponse` `System.Net`

确保当您从 POST 中取回 cookie 时，将它们放入 cookie 集合中以供任何后续请求使用。

水泥回答的这篇[文章](https://stackoverflow.com/questions/3892042/create-http-post-request-and-receive-response-using-c-sharp-console-application/3892075#3892075)中有一个很好的示例类来处理请求

# java - EMMA coverage.ec 未生成

> ID：15354281
> 
> 赞同：0
> 
> 时间：2013-03-12T05:55:44.127
> 
> 标签：java, tomcat, emma

我想知道在tomcat apache上运行的网站的代码覆盖率。我已经尝试了很多次来获取coverage.ec文件。但它不会到来。

后续步骤：

1.  将 emma.jar 复制到类路径中
2.  检测代码并获得coverage.em
3.  重启服务器并查看tomcat日志
4.  日志显示：EMMA：收集运行时覆盖数据...在启动期间
5.  然后我启动了该网站并导航到许多页面
6.  停止了雄猫。

正如在另一个线程中检查的那样，停止服务器后，日志的最后一行将显示 coverage.ec 路径和日志。但就我而言，它不存在。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:05:54.423

将以下行添加到 catalina.properties emma.coverage.out.file=/tmp/coverage.ec

# java - 通用工厂方法约定

> ID：15354282
> 
> 赞同：5
> 
> 时间：2013-03-12T05:55:45.093
> 
> 标签：java, generics

让我说有一个抽象类，它看起来像

```
abstract class Parent<V> {

    protected static <T extends Parent<V>, V> T newInstance(
        final Class<T> type, final V value) {
        // ...
    }
} 
```

在以下子类中

```
class Child extends Parent<XXX> {

    public static Child newInstance1(final XXX value) {
        // ...
    }

    public static Parent<XXX> newInstance2(final XXX value) {
        // ...
    }
} 
```

哪一个更可取？`newInstance1`还是`newInstancw2`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T05:58:21.697

这实际上取决于您使用`newInstance()`. 在大多数一般情况下：

由于`Child`正在实施`newInstance()`，据我说

```
protected static Child newInstance() 
{
    // ...
} 
```

会更合适。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:07:55.993

通常，在某个类中定义的工厂方法返回这个特定类的实例，所以它应该是：

```
public class Foo ...
{
    public static Foo newInstance ()
    {
        ...
    }
} 
```

不管这个类扩展了什么类以及它实现了什么接口。

# operating-system - PintOS，ubuntu 上带有 -v 选项 bochs 的内核恐慌

> ID：15354286
> 
> 赞同：2
> 
> 时间：2013-03-12T05:55:56.093
> 
> 标签：operating-system, bochs, pintos

当我在 .../build/ 中执行“pintos -- run alarm-multiple”时，一切似乎都很好。

但是当我在 .../build/ 中进行“检查”时，所有 7 个测试都以相同的“运行未正确启动：没有“pintos 启动”消息失败

`pintos -v -k -T 60 --bochs -- -q run alarm-single < /dev/null 2> tests/threads/alarm-single.errors > tests/threads/alarm-single.output perl -I../.. ../../tests/threads/alarm-single.ck tests/threads/alarm-single tests/threads/alarm-single.result FAIL tests/threads/alarm-single Run didn't start up properly: no "Pintos booting" message`

然后我在 .../build 中发现了“pintos -v -k -T 60 --bochs -- -q run alarm-single”它给出了一个

Bochs 退出并显示以下消息：[ ] bochsrc.txt:12: display library 'nogui' not available

如果我去掉“-v”就可以了。

如何修复此显示库“nogui”不可用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T08:58:07.173

似乎没有人回答我……我自己终于明白了。只需要更改 bochs 的配置： ./configer --with-nogui 然后再次编译：

制作

须藤使安装

之后 pintos 的 make 检查将起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T01:34:07.307

我有同样的问题，我解决了。打开“/pintos/src/tests/Make.tests”编辑第54行（删除-v）

```
TESTCMD = pintos -v -k -T $(TIMEOUT) 
```

然后，在“/threads/build”你可以做

```
make check 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-25T08:37:41.683

请记住，当您使用 Ubuntu 14.04 或 16.04 时，当您从 Github 下载原始 pintos 项目或任何 pintos 项目时，永远不要忘记做这些事情。

```
(Any line with no parentheses are terminal commands)
cd ~
gedit .bashrc

(add next line to the final of the file)
{export PATH="$PATH:/home/{username}/pintos/src/utils"}

(save)
bash

cd ~/pintos/src/utils
gedit Makefile
(You need to change one line)
{change LDFLAGS = -lm to LDLIBS = -lm}
(save)
make 
```

然后你可以编译并运行 pintos 的“make check”，没有错误。

（任何 ~/pintos 都应更改为您的 pintos 路径）

记住 ~/pintos/src/utils 中的 final make 非常重要。否则，您将收到“运行未正确启动：没有“Pintos 启动”消息”。

你可以在这里查看完整版。[http://www.luosheng-parallelbgls.com.cn/2016/03/29/pintos-install/](http://www.luosheng-parallelbgls.com.cn/2016/03/29/pintos-install/) 因为这是中文版，希望能翻译成英文的人。

# sql - 更新从同一列获取数据的列

> ID：15354287
> 
> 赞同：0
> 
> 时间：2013-03-12T05:55:57.403
> 
> 标签：sql, oracle

我有一个表格，数据看起来像这样我想填写日期，例如：-1-5 应该有日期 2/8/2012 和 6-9 应该有日期：- 2 月 8 日

```
1   2/8/2012    G8-212
2   null            G8 711
3   null            G8-719
4   null            G8 331
5   null            G8 320
6   8-Feb           G8 172
7   null            G8 606
8   null            G8 176
9   null            G8 372 
```

最终结果应该是这样的

```
1   2/8/2012    G8-212
2   2/8/2012    G8 711
3   2/8/2012    G8-719
4   2/8/2012    G8 331
5   2/8/2012    G8 320
6   8-Feb           G8 172
7   8-Feb           G8 606
8   8-Feb           G8 176
9   8-Feb           G8 372 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:39:37.723

像这样的东西：

```
select 
  id, 
  nvl(date_column,last_value(date_column ignore nulls) over (order by id)) as date_col, 
  code
from your_table
order by id; 
```

在这里看到一个[小提琴](http://sqlfiddle.com/#!4/d41d8/8731)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:45:11.187

请尝试使用合并：

```
merge into YourTable a
using (
    SELECT ID,
    ColumnName,
    nvl(ColumnName,last_value(ColumnName ignore nulls) over (order by ID)) as ColumnName_A
  FROM YourTable 
  ) b
on  (a.ID = b.ID)
when matched then 
  update set a.ColumnName = NVL(b.ColumnName, b.ColumnName_A) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-12T06:43:06.233

你可以尝试做这样的事情，假设你在第一列排序：（注意：我不熟悉 Oracle/PLSQL 语法，所以对这些查询持保留态度。）

首先，您需要获取非空行的所有索引及其值：

```
SELECT col1, col2
FROM table1
WHERE col2 IS NOT NULL 
```

现在，遍历此查询的结果并根据需要更新列：

```
DECLARE
     CURSOR v_cols IS
          SELECT col1, col2 FROM table1 WHERE col2 IS NOT NULL;
     Int previousIndex := 0;
BEGIN
     FOR v_col IN v_cols LOOP
          UPDATE col2
          SET col2 = v_col.col2
          WHERE col1 < v_col.col1 AND col1 > previousIndex;
          previousIndex := v_col.col1;
     END LOOP;
END; 
```

这显然是未经测试的，所以让我知道它是否有帮助！

# jquery - 如何使用 JQuery 允许每个选项卡有多个可能的视图？

> ID：15354289
> 
> 赞同：1
> 
> 时间：2013-03-12T05:56:00.230
> 
> 标签：jquery, ruby-on-rails, performance, tabs

## 问题：

我有一个来自基础的垂直选项卡系统，在第一个选项卡的相应容器中，有两个主要组件：一个对象列表和一个按钮，单击该按钮时，应显示一个表单以在同一容器中创建另一个这些对象无需重新加载页面。一旦表单被提交，原始内容带有对象列表（现在包括新添加的对象），以及创建新对象的那个按钮。

我正在使用 Foundation 3 的垂直选项卡并且有这样的东西：

```
<div class="four columns">
  <dl class="vertical tabs">
    <dd id="firstTab" class="active"><a href="#1">1</a></dd>
    <dd id="secondTab><a href="#2">2</a></dd>
  </dl>
</div>
<div class="twelve columns">
  <ul class="tabs-content contained">
    <li class="active" id="1Tab">
      <a id="formButton" class="large success button radius">Show Form</a>
    </li>
    <li id="2Tab">2</li>
    <li id="formTab">form goes here</li>
  </ul>
</div> 
```

我以前试图让它与 AngularJS 一起工作。然而，有人建议我，如果我只坚持纯粹的 DOM 操作，AngularJS 并不是真正需要的，现在我对为什么也有了更好的理解。考虑到 Zepto 是 Foundation 使用的 javascript 框架，我在这里寻找的内容会更好地用 JQuery 甚至像 Zepto.js 这样的更轻的版本来实现吗？有人可以帮我指出正确的方向吗？

## 更新：

这是我最终使用的 jQuery：

```
$(document).ready(function () {
    $("firstTab").removeClass("active");
    $("1Tab").removeClass("active");
    $("formTab").addClass("active");
}) 
```

到目前为止，这个解决方案的问题是我只能调出一次表格。这使我可以改变我对填写表格并单击另一个选项卡的想法。但是，如果我在那之后再次尝试单击表单按钮，则表单不再出现。开发人员窗口指示“活动”类仍在添加和删除。但我认为问题在于，此表单用于的对象是一个 Class.new() 对象，我在 DOM 中的表单之前使用嵌入的 ruby​​ 语句创建了该对象。有没有办法让这个 Class.new() 实例化在每次按钮单击时发生，而不是仅在整个页面加载时发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:54:42.330

不确定您要在这里实现什么，但您可以使用 ng-show 属性显示/隐藏元素。下面是一个关于如何使用它的例子：

```
<div class="four columns">
  <dl class="vertical tabs">
    <dd class="active"><a href="#1">1</a></dd>
    <dd><a href="#2">2</a></dd>
  </dl>
</div>
<div class="twelve columns">
  <ul class="tabs-content contained">
    <li class="active" id="1Tab">
      <a id="formButton" class="large success button radius" ng-click="showForm()">Show Form</a>
    </li>
    <li id="2Tab">2</li>
    <li id="formTab"><form ng-show="isVisible"><input type="text" value="Hi! I'm visible!"/></form></li>
  </ul>
</div> 
```

现在您在控制器中管理您的 isVisible 属性：

```
var myApp = angular.module('myApp', []);
myApp.controller("FormCtrl", function ($scope) {
    //set it to false initially
    $scope.isVisible = false;
    $scope.showForm = function () {
        //change to visible after click
        $scope.isVisible = true;
    }
}); 
```

如果要根据属性添加类，可以使用 ng-class：

```
<div class="four columns">
  <dl class="vertical tabs">
    <dd class="active"><a href="#1">1</a></dd>
    <dd><a href="#2">2</a></dd>
  </dl>
</div>
<div class="twelve columns">
  <ul class="tabs-content contained">
    <li ng-class="{selected: tag.isSelected}" id="1Tab">
      <a id="formButton" class="large success button radius" ng-click="showForm()">Show Form</a>
    </li>
    <li id="2Tab">2</li>
    <li id="formTab"><form ><input type="text" value="Hi! I'm visible!"/></form></li>
  </ul>
</div> 
```

# javascript - Google Maps API 标记循环未正确更改标题

> ID：15354292
> 
> 赞同：0
> 
> 时间：2013-03-12T05:56:15.403
> 
> 标签：javascript, google-maps, google-maps-markers

我一直在搜索 stackoverflow 和网络的其余部分无济于事。我是一名新手程序员，我完全陷入了这个问题。

我有一个结构如下的数组：

地址A SuburbA 地址B SuburbB

当以下代码运行时，它会通过放置一个标记和围绕该标记的 10 英里圆圈来更新地图。问题是，当我将鼠标悬停在标记上时，工具提示/标题始终是 SuburbB 的，即使标记和圆圈位于正确的位置。

让我发疯，非常感谢您的帮助！

```
 function codeAddress(){

    var arrayLength = array.length;
    var looper = 0;
    var looper2 = 1;

    while (looper < arrayLength) {

        alert("Geocode started");

        sAddress = array[looper];
            alert (looper)
            alert("Address set" + sAddress)

        sName = array[looper2];
            alert (looper2)
            alert("Name set" + sName)

        geocoder.geocode( {'address': sAddress}, function(results, status) {

            alert("Make marker");

            if (status == google.maps.GeocoderStatus.OK) {

                map.setCenter (results[0].geometry.location);

                var marker2 = new google.maps.Marker({
                    map: map,
                    title: sName,
                    position: results[0].geometry.location
                });

                var circle = new google.maps.Circle({
                    map: map,
                    radius: 16093,    // 10 miles in metres
                    fillColor: '#AA0000',
                    strokeWeight: 2,
                    strokeOpacity: 0.5 
                   });

                circle.bindTo('center', marker2, 'position');

        }    else {

                alert("Geocode was not successful for the following reason: " + status);

            }
        })

        looper = looper + 2;
        looper2 = looper2 + 2;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:22:41.400

您遇到了臭名昭著的 Javascript 循环问题。Javascipt 范围是函数级别，而不是块级别，这可能会让人感到困惑：[http](http://coding.smashingmagazine.com/2009/08/01/what-you-need-to-know-about-javascript-scope/) ://coding.smashingmagazine.com/2009/08/01/what-you-need-to-know-about-javascript-scope/ 。基本上，这条线：

```
geocoder.geocode( {'address': sAddress}, function(results, status) { 
```

正在为每个地理编码设置数组中的最后一项，您需要做的是将第一个参数包装在闭包中：

```
geocoder.geocode( (function () { return {'address': sAddress} })(), function(results, status) { 
```

标记和圆圈很好，因为它们是在函数内部定义的。

# android - android v4.0.4上chrome的webkit版本是什么

> ID：15354295
> 
> 赞同：0
> 
> 时间：2013-03-12T05:56:27.823
> 
> 标签：android, google-chrome, webkit

伙计们，我想知道 Android v4.0.2 和 v4.0.4 上的 Chrome 的 webkit 版本是什么以及 4.0.2 和 v4.0.4 版本的 Android 浏览器的 webkit 版本？

我搜索的结果是这个 For Android browser is v534.30 For chrome is v534.46.0

如果我在这方面错了，请纠正我......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:28:02.367

每个 Android 版本的 Chrome 上都没有使用特定版本的 WebKit。WebKit 的版本与用户从 Play 商店安装的浏览器版本相关联。

如果您想知道在任何版本的 Chrome 中使用的 WebKit 版本，您可以使用此处的工具[http://omahaproxy.appspot.com/](http://omahaproxy.appspot.com/)并在此处获得更多信息[http://dev.chromium.org/developers/calendar](http://dev.chromium.org/developers/calendar)

# html - 部分输入未提交

> ID：15354320
> 
> 赞同：0
> 
> 时间：2013-03-12T05:58:55.580
> 
> 标签：html, forms

我有一个 HTML 表单，但其中的一些输入未提交，即使它们处于活动状态。[http://jsfiddle.net/hbw3/qzcTS/2/](http://jsfiddle.net/hbw3/qzcTS/2/)上的实时示例。

该表单显然包含许多 div，但仅提交了一个 div 中的输入。为什么是这样？

HTML 源代码：

```
<form accept-charset="UTF-8" action="whatever" id="map_form" method="post">
    <table>
        <tr>
            <td>
                <select id=1 name=col_1 class="column_select">
                    <option value="0">None</option>
                    <option value="1">id (integer)</option>
                    <option value="2">name (string)</option>
                </select>
            </td>
            <td>
                <select id=2 name=col_2 class="column_select">
                    <option value="0">None</option>
                    <option value="1">id (integer)</option>
                    <option value="2">name (string)</option>
                </select>
            </td>
        </tr>
    </table>
    <div class="span4" id="default_values">
        <label for='id' class='control-label'>id (integer)</label>
        <input type='text' id='id' />
        <label for='name' class='control-label'>name (string)</label>
        <input type='text' id='name' />
    </div>
    <input name="commit" type="submit" value="Upload Table" />
</form>
<div id='result'></div> 
```

显示提交的输入的 JS：

```
$('form#map_form').submit(function () {
    $('div#result').text($(this).serialize());
    return false;
}) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T06:02:15.993

您在最后一个 div 中的输入中缺少名称属性。我尝试在您的样本中添加一些，这似乎已经解决了。

# java - android应用项目中的地图

> ID：15354322
> 
> 赞同：0
> 
> 时间：2013-03-12T05:58:57.177
> 
> 标签：java, android, sqlite, map

我想在我的 android 应用程序项目中使用地图。请任何人告诉我如何在我的项目中创建地图？我必须在哪个类中创建地图以及如何在其中插入值？我只想在我的项目中使用城市名称及其代码，并希望输入城市代码作为键和城市名称作为值。例如：DEL 是城市代码，德里是它的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:03:20.060

要在您的 android 应用程序中显示 MAP，您必须`MapView`在 android 中使用。

[您可以在此处](http://androiddevelopement.blogspot.in/2011/06/android-google-map-application-example.html)找到示例。

也参考[这个](https://stackoverflow.com/a/4143694/1405983)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:01:36.893

您可以使用 Mapview 气球以获得更大的灵活性。

[https://github.com/jgilfelt/android-mapviewballoons](https://github.com/jgilfelt/android-mapviewballoons)

# yii - Yii 列表视图更新单选按钮选择

> ID：15354327
> 
> 赞同：1
> 
> 时间：2013-03-12T05:59:07.697
> 
> 标签：yii

在一个模型中有 4 个字段。身份证、姓名、地址、身份。在列表视图中显示用于显示状态的单选按钮列表。在 Listview 中，我想根据单选按钮选择更新列表。在 Yii 中怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:40:09.620

您可以通过以下方式做到这一点：

```
array(
        'header' => 'Status',
        'name' => 'status',
        'value' => '($data->status == 0) ? "Yes" : "No"'
    ), 
```

在视图文件 CGridview 小部件中：像这样

```
<?php $this->widget('zii.widgets.grid.CGridView', array(
'id'=>'users-grid',
'dataProvider'=>$model->search(),
'filter'=>$model,
'columns'=>array( array(
    'header' => 'Status',
    'name' => 'status',
    'value' => '($data->status == 0) ? "Yes" : "No"'
),` 
```

# python - 在python中，当我们执行for循环时，循环变量和列表中的元素之间的关系是什么？

> ID：15354328
> 
> 赞同：3
> 
> 时间：2013-03-12T05:59:10.830
> 
> 标签：python, for-loop

这里有几个列表：a、b 等我想分别对它们进行一些更改，但我对 for 循环的行为感到困惑。

例如：如果我们这样做

```
a, b = range(5), range(5,10)
for x in [a, b]: x += [0]
print(a,b) 
```

我们得到

```
([0, 1, 2, 3, 4, 0], [5, 6, 7, 8, 9, 0]) 
```

a,b 被修改。

但如果我们这样做

```
a, b = range(5), range(5,10)
for x in [a, b]: x = x + [0]
print(a,b) 
```

我们得到

```
([0, 1, 2, 3, 4], [5, 6, 7, 8, 9]) 
```

a,b 未修改。我很困惑，x和a之间有什么关系？何时或如何使用 x 修改 a 的值？顺便问一下，a+=b 和 a=a+b 有什么区别？

无论如何，我找到了一个我们可以这样做的解决方案

```
a, b = range(5), range(5,10)
lis = [a, b]
for i, x in enumerate(lis): 
    lis[i] = ... 
```

然后我们可以修改 a & b 的值。但是这种方法需要做一个额外的列表。

还有另一种解决方案

```
for x in ['a', 'b']:
    exec(x + '=' + x + '+ ...') 
```

还有一个更简单的解决方案

```
a, b = range(5), range(5,10)
for x in [a, b]: x[:] = x + [0]
print(a,b) 
```

我们会发现 a,b 被修改了:)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T06:03:47.813

这种关系与 Python 中的所有变量绑定相同。名称绑定到值。您看到的差异是因为您在做不同的事情，有时是对值进行操作，有时是对名称进行操作。

对于列表，`+=`就地扩展列表——也就是说，它修改了原始列表。因此，修改在使用该列表的任何地方都是可见的。

当您这样做时`x = x + [0]`，您将名称重新绑定`x`到一个新列表（通过添加旧列表加号形成`[0]`）。这不会修改原始列表，因此使用该列表的其他地方不会看到更改。

如果您搜索有关“变量”、“名称”、“值”、“引用调用”等的 Python 问题，您会发现有关此的其他讨论。 [这](https://stackoverflow.com/questions/11585768/python-how-does-passing-values-work)是一个在函数参数绑定的上下文中讨论类似问题的问题。for循环变量绑定的原理是一样的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T06:11:02.253

该行：

```
x += something 
```

更改列表，同时：

```
x = x + something 
```

`x`通过加入和创建一个全新的列表`something`。

这与下面的简化演示没有什么不同：

```
>>> a = [7]      # The object is [7], name a is connected to it.
>>> x = a        # Now name x is also connected.
>>> x += [2]     # Here we change the backing object (behind a AND x).
>>> a            # So that both names seem to change.
[7, 2]
>>> x
[7, 2]

>>> a = [7]      # The object is [7], name a is connected to it.
>>> x = a        # Now name x is also connected.
>>> x = x + [2]  # Here we create a NEW object from the old one, and connect x.
>>> a            # So a is unchanged.
[7]
>>> x            # But x IS changed.
[7, 2] 
```

这是我在 Python 中不得不习惯的最困难的事情，事实上名称和*名称所指的对象*是完全不同的，并且经常会以令人惊讶的方式行事。一旦你把它弄明白，它也是它最美丽的功能之一。

I eventually just started thinking that names were C pointers and all objects were on the heap (since that was where I have my expertise). There may be better ways to think of it, though I've never found any for me.

# angularjs - 位置更改时如何获取路线名称？

> ID：15354329
> 
> 赞同：28
> 
> 时间：2013-03-12T05:59:17.487
> 
> 标签：angularjs

我定义了一些路线：

```
angular.module('myApp', [])
  .config('$routeProvider', function($routeProvider) {
    $routeProvider.when('/aaa', { templateUrl: '/111.html' })
                  .when('/bbb', { templateUrl: '/222.html'});
  }); 
```

我想在用户更改路线时获取路线名称：

```
angular.module('myApp')
  .run(['$rootScope', function($rootScope) {
    $rootScope.$on('$routeChangeSuccess', function(scope, current, pre) {
      // how to get current route name, e.g. /aaa or /bbb
      console.log('Current route name: ' + ???);
    }
  }]); 
```

但我不知道如何得到它。我可以得到`templateUrl`，但不能得到路线名称。

* * *

**更新**

一个更复杂的用例：

```
$routeProvider.when('/users/:id', { templateUrl: '/show_user.html' }) 
```

如果当前路径是：

```
/users/12345 
```

它应该匹配`/users/:id`，但我如何知道匹配哪个路由并获取路由名称`/users/:id`？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2013-03-12T07:13:55.953

你可以注入 $location 服务并使用它的 path() 函数。

```
angular.module('myApp')
  .run(['$rootScope','$location', '$routeParams', function($rootScope, $location, $routeParams) {
    $rootScope.$on('$routeChangeSuccess', function(e, current, pre) {
      console.log('Current route name: ' + $location.path());
      // Get all URL parameter
      console.log($routeParams);
    });
  }]); 
```

[您可以在文档](http://docs.angularjs.org/api/ng.$location)中找到其他有用的 $location 方法

**更新**

如果你想拥有一个当前路由参数的数组，只需像我在上面所做的那样注入 $routeParams 服务。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-12-25T11:55:47.833

您不必注入`$location`和`$routeParams`.
您可以使用`current.$$route.originalPath`

```
app.run(function ($rootScope) {
    $rootScope.$on('$routeChangeSuccess', function (e, current, pre) {
        console.log(current.$$route.originalPath);
    });
}); 
```

这对于简单的路线（没有`:id`等）就足够了。

对于更复杂的用例，它将返回`/users/:id`.
但是您可以从中提取`:id`参数`current.params.id`并在完整路径中替换它。

```
app.run(function ($rootScope) {
    $rootScope.$on('$routeChangeSuccess', function (e, current, pre) {
        var fullRoute = current.$$route.originalPath,
            routeParams = current.params,
            resolvedRoute;

        console.log(fullRoute);
        console.log(routeParams);

        resolvedRoute = fullRoute.replace(/:id/, routeParams.id);
        console.log(resolvedRoute);
    });
}); 
```

根据您对路由字符串的确切需求，与 Flek 的答案相比，这可能会很混乱（例如，如果您有多个参数），或者您不想被绑定到路由参数名称。

**另请注意**：您的代码中缺少一个右大括号作为`$on`左大括号。

**编辑 2014 年 15 月 1 日**

看起来`$$`Angular 中的属性被建议为私有的，我们不应该直接从我们的代码中调用它们。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-29T17:43:28.497

不是一个非常优雅的解决方案，我只在 Chrome DevTools 中对其进行了测试，但它似乎有效：

```
Object.getPrototypeOf($route.current) === $route.routes['/users/:id]; 
```

对于其他想要使用它的人，只需替换`'/users/:id'`为您在定义路线时使用的模式。

此外，如果您想匹配其他路径，只需使用`$route.routes['null']`

**免责声明**：这只是我发现的一种解决方法，对我有用。鉴于此行为未记录在案，并且我没有对其进行测试以查看它是否适用于所有场景，因此使用它需要您自担风险。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-17T05:18:04.887

我认为你可以很容易地从`current`

```
app.run(function ($rootScope) {
    $rootScope.$on('$routeChangeSuccess', function (e, current, pre) {
        console.log(current.originalPath); // Do not use $$route here it is private
    });
}); 
```

# java - 在文件系统中查找文件

> ID：15354330
> 
> 赞同：-2
> 
> 时间：2013-03-12T05:59:26.070
> 
> 标签：java

晚上好，

我正在尝试查找我自己的项目文件系统中存在的文件，但我不知道该怎么做......

```
 File dir = new File(Filename); 
```

只会帮助我在我的计算机目录中查找文件。

是否可以选择使用或不使用其他库？

任何帮助是极大的赞赏。谢谢你。

编辑：使用完整 URL 查找文件也是解决我的问题的可行方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:24:06.337

晚上好，

`getClass().getResource("lib/txtfile.txt")`这给出了文件 txtfile.txt，您可以使用它来获取项目的绝对路径，例如`getClass().getResource("/")`

我认为这将帮助您获取项目的根文件夹，然后您可以在里面搜索以找到您的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:18:39.060

如果你想在特定的目录/位置搜索，你需要在构造函数中传递抽象路径（例如 c:/abc/mydir/）

或者，如果您想“搜索”您电脑中所有可用路径中的文件，首先您需要获取可用驱动器列表

```
File[] roots = File.listRoots(); 
```

然后您可以编写一个递归例程来遍历所有目录并列出其中的所有文件。

# python - 用于创建具有未知数量 mixin 的类的工厂函数

> ID：15354331
> 
> 赞同：-1
> 
> 时间：2013-03-12T05:59:30.257
> 
> 标签：python, factory, mixins

我想做一个函数，从可变数量的所谓的 mixin 类中创建一个新类。我的第一直觉是使用`*args`...

```
>>> def mixins(*args):
        class Foo(*args):

SyntaxError: invalid syntax 
```

......但没有走很远......因为那不起作用，我尝试了这个，这似乎有效：

```
>>> def mixins(*args):
        class Foo(args[0]):
            pass
        for arg in args[1:]:
            class Foo(Foo, arg):
                pass
        return Foo 
```

### 问题

还有其他方法可以解决这个问题吗？

### 动机

我创建了一个具有许多抽象方法的抽象基类。我有几种类型的子类，每个子类都实现了一些需要的抽象方法，但不是全部。有时我可以通过混合 2 个子类来创建一个工作实例，有时需要更多的时间来实现所有的抽象方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:15:05.853

您可以使用[type](http://docs.python.org/2/library/functions.html#type)函数执行此操作：

```
def mixins(*args):
    return type('Foo', args, {}) 
```

您可能还想确保该类始终继承自`object`：

```
def mixins(*args):
    bases = args if object in args else args + (object,)
    return type('Foo', bases, {}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:13:54.040

是的。为什么不？

以下是动态创建类对象的方法：

`type('a',(object,),{})`

这将创建一个类型为 - type 的类对象，它派生自对象基类，其属性是一个空字典。

因此，在您的情况下，呼叫将是：

`type('Foo',args,{})`

在这里， args 将包含您要从中继承 Foo 的所有基类。结果将是一个 clas 对象，您可以使用它从 mixins 返回。

# wix - TFS 预览中的 Wix 二进制文件

> ID：15354332
> 
> 赞同：0
> 
> 时间：2013-03-12T05:59:37.140
> 
> 标签：wix, tfsbuild

我想在 TFS 预览网站中添加 WIX 二进制文件如何做到这一点我有 vs 2012 以及在 windows server 2012 中的 tfs 2012 上构建

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T14:13:37.677

以下是实现您正在寻找的具体步骤。

1.  [将 WiX 工具集集成到您的源代码控制](http://wix.sourceforge.net/manual-wix3/daily_builds.htm)中 - 该链接为您提供了使用 binaries.zip 文件获取工具并将它们签入您的构建系统的步骤。

2.  [禁止 .wixproj 中的 ICE 验证](http://wix.sourceforge.net/manual-wix3/msbuild_task_reference_light.htm)- TFS 构建服务器不允许验证工作，因此将 MSBuild 中的 SuppressValidation 属性设置为 true。

    ```
    <PropertyGroup>
      <SuppressValidation>true</SuppressValidation>
    </PropertyGroup> 
    ```

3.  手动运行验证 - 验证就像静态分析，它会在您发货给客户之前发现问题。因此，在每次构建之后，使用`smoke.exe`在本地服务器上的 MSI 上运行验证：

    ```
    smoke.exe path\to\your.msi 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T11:21:53.590

似乎 WiX 现在已预安装在托管的 TFS 构建服务器上。然而，由于环境限制，ICE 验证仍然失败。

如果您使用 Votive 创建您的 .SLN/.WIXPROJ/.WXS 并进入项目属性并禁用验证，它应该在不执行任何其他操作的情况下构建。

也就是说，禁用验证对我来说是行不通的。因此，我建议设置您自己的构建服务器并在其上安装 WiX 3.7。

# android - Android ksoap2 处理 ASP.NET 异常

> ID：15354336
> 
> 赞同：0
> 
> 时间：2013-03-12T06:00:03.407
> 
> 标签：android, asp.net, exception, ksoap2

我有一个 ASP.NET `WebService`，如果输入条件错误，它会抛出异常。

如果它被另一个 C#/ASP.NET 应用程序客户端调用，它们可以正确解释异常。

但是如果它被 ksoap2 调用，我会得到一个 HTTP 状态 500。

我可以知道什么是我处理此异常的最佳方法，最重要的是检索该异常中的错误消息，以便我可以向用户显示。

提前致谢。

---- 添加以下代码：

# ASP.NET 网络服务

```
[WebMethod]
public void Test()
{
    throw new Exception("This is a test message");
} 
```

# 安卓 ksoap2 客户端

```
// There are some details been obmitted. Just assume the code below works ok?

SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11); 
envelope.dotNet = true;
envelope.setOutputSoapObject(request);
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL, 60000);
try
{
    // The Web Service in ASPNET is invoked successfully. And an Exception is thrown.
    androidHttpTransport.call(SOAP_ACTION, envelope);

    SoapObject obj;
    obj = (SoapObject)envelope.getResponse();
}
catch (Exception e)
{
    // Manage to reach here. But How can I retrieve the Fault Message "This is a test message"?
    e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-22T12:08:35.813

如果您使用的是 3.0.0 版的 ksoap2-android，并且您在响应中收到带有相应 HTTP 500 错误代码的 SOAP 错误，您将不会收到 SOAP 错误对象。

这已在 3.0.1 版中得到修复：[https](https://code.google.com/p/ksoap2-android/wiki/ProjectNews) ://code.google.com/p/ksoap2-android/wiki/ProjectNews 。

# asp.net - 如何在 aspx 页面中使用 Request.QueryString？

> ID：15354337
> 
> 赞同：3
> 
> 时间：2013-03-12T06:00:17.180
> 
> 标签：asp.net, .net

在 aspx 页面中，我有锚标记。我的 URL 已经有我想要重用的 Id 参数。要求是将用户重定向到具有当前 url id 的提及页面，例如

```
"~/Dir/Home?Id=" & Request.QueryString 
```

请注意，我必须在 aspx 页面中执行此操作，因为不能在页面后面使用代码。

非常感谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T06:01:24.387

您可以使用小脚本

```
'~/Dir/Home?Id=<%= Convert.ToString(Request.QueryString["ID"]) %>'; 
```

[您可以在此处](http://www.dotnetperls.com/querystring)了解有关使用 QueryString的更多信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T06:17:55.777

我想你可以这样使用

```
'~/Dir/Home?Id=<%Request.QueryString.Get("ID")??""%>' 
```

[关于如何从 .aspx 页面检索查询字符串值并将其传递给 ascx 页面的](https://stackoverflow.com/questions/6621703/how-to-retrieve-a-querystring-value-from-an-aspx-page-and-pass-it-to-ascx-page) 类似问题
[http://forums.asp.net/t/1655117.aspx](http://forums.asp.net/t/1655117.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-30T10:52:20.510

最简单的方法是在 iframe 标记中添加名称属性：

```
<iframe runat="server" id="frameid" name="framename" src="anypage.aspx"></iframe> 
```

然后将其添加到 page_load 事件中：

```
framename.Attributes.Item("src") = "thepage.aspx?id=" & Request.querystring("id") 
```

简单、干净并且在 VBNET 中不需要 JavaScript。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-06-14T10:44:21.210

尝试这个

```
href="contact_list.aspx?xid=<%= Request.QueryString["xeroID"].ToString()%>" 
```

# c#-4.0 - 是否可以从 IDataReader 对 SQLBulkUpload 进行数据类型转换？

> ID：15354340
> 
> 赞同：0
> 
> 时间：2013-03-12T06:00:26.357
> 
> 标签：c#-4.0, mapping, sqlbulkcopy

我需要从一组表和 SQLBulkInsert 中获取大量数据到另一组表中......不幸的是，源表是 ALL varchar(max)，我希望目标是正确的类型。有些表在数百万行中......并且（由于过于毫无意义的政治原因而无法进入）我们不能使用 SSIS。

最重要的是，一些“布尔”值存储为“Y/N”，一些“0/1”，一些“T/F”，一些“真/假”，最后一些“开/关”。

有没有办法重载 IDataReader 来执行类型转换？我猜需要以每列为基础吗？

另一种选择（可能是最好的解决方案）是放置一个映射器（可能是 AutoMapper 或自定义）并使用 EF 从一个对象加载并映射到另一个对象？这将避免大量控制，但也需要为每个属性提供大量样板代码:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:08:28.170

最后，我编写了一个基本包装类来保存 SQLDataReader，并实现 IDataReader 方法只是为了调用 SQLDataReader 方法。

然后从基类继承并逐个覆盖 GetValue，查找需要翻译的列名：

```
public override object GetValue(int i)
{
  var landingColumn = GetName(i);
  string landingValue = base.GetValue(i).ToString();

  object stagingValue = null;
  switch (landingColumn)
    {
    case "D4DTE": stagingValue = landingValue.FromStringDate(); break;
    case "D4BRAR": stagingValue = landingValue.ToDecimal(); break;

    default:
        stagingValue = landingValue;
        break;
    }
  return stagingValue;
} 
```

由于 SQLBulkUpload，运行良好、可扩展且速度非常快。好的，所以维护开销很小，但是由于源列很少会更改，因此这不会真正影响任何事情。

# android - 为什么通过 SupportFragmentManger 添加片段的顺序很重要？

> ID：15354350
> 
> 赞同：3
> 
> 时间：2013-03-12T06:01:01.343
> 
> 标签：actionbarsherlock, android, facebook, android-fragments, facebook-android-sdk

我正在创建一个`AuthenticationActivity`它将为用户提供通过 Facebook、Twitter 或应用程序特定身份验证登录的选项。在遵循[Facebook Android SDK 文档中编写良好的](https://developers.facebook.com/docs/howtos/androidsdk/3.0/login-with-facebook/)[教程*Use Facebook Login*](https://developers.facebook.com/docs/howtos/androidsdk/3.0/login-with-facebook/)之后，我的 Facebook 身份验证工作。

不幸的是，当我继续添加 Twitter 片段以提供类似的登录功能时，我遇到了问题。突然，Facebook 登录按钮不会改变状态，我对 Facebook 的身份验证也不会完全完成，尽管我可以看到身份验证回调正在返回。

兜兜转转后，我终于决定更改`AuthenticationActivity`通过`SupportFragmentManager`. 当我这样做时，Facebook 又开始工作了，但后来 Twitter 片段坏了。

```
getSupportFragmentManager()
    .beginTransaction()
    .add(android.R.id.content, twitterFragment)
    .add(android.R.id.content, facebookFragment)
    .commit(); 
```

而不是让我感觉更好，这让我感觉更糟。我承认没有完全理解片段，但我完全不明白为什么添加片段的顺序会产生这种影响。先到先得是行不通的，但是后加第二个就行了。值得注意的是，我正在使用[actionbarsherlock](/questions/tagged/actionbarsherlock "显示标记为“actionbarsherlock”的问题")及其片段实现。

您将在下面找到我的活动和片段代码

**身份验证活动**

```
public class AuthenticationActivity extends SherlockFragmentActivity {

    private FacebookFragment facebookFragment;
    private TwitterFragment twitterFragment;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        if (savedInstanceState == null) {
            addFragments();
        } else {
            restoreFragments();
        }
    }

    private void addFragments() {
        facebookFragment = new FacebookFragment();
        twitterFragment = new TwitterFragment();

        // TODO the order of this MATTERS if Facebook isn't last
        // Facebook auth breaks and vice versa.
        getSupportFragmentManager()
            .beginTransaction()
            .add(android.R.id.content, twitterFragment)
            .add(android.R.id.content, facebookFragment)
            .commit();
    }

    private void restoreFragments() {
        facebookFragment = (FacebookFragment) getSupportFragmentManager()
            .findFragmentById(android.R.id.content);
        twitterFragment = (TwitterFragment) getSupportFragmentManager()
            .findFragmentById(android.R.id.content);
    }
} 
```

**Facebook Fragment**（主要基于[SDK 文档示例](https://developers.facebook.com/docs/howtos/androidsdk/3.0/login-with-facebook/)）

```
public class FacebookFragment extends SherlockFragment {

    private UiLifecycleHelper uiHelper;
    private static final String TAG = FacebookFragment.class.getSimpleName();

    private Session.StatusCallback callback = new Session.StatusCallback() {
        @Override
        public void call(Session session, SessionState state,
            Exception exception) {
            onSessionStateChange(session, state, exception);
        }
    };

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.authentication, container, false);

        LoginButton facebookButton
            = (LoginButton) view.findViewById(R.id.facebookButton);
        facebookButton.setFragment(this);

        return view;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        uiHelper = new UiLifecycleHelper(getActivity(), callback);
        uiHelper.onCreate(savedInstanceState);
    }

    @Override
    public void onResume() {
        super.onResume();

        Session session = Session.getActiveSession();
        if (session != null && (session.isOpened() || session.isClosed())) {
            onSessionStateChange(session, session.getState(), null);
        }

        uiHelper.onResume();
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        uiHelper.onActivityResult(requestCode, resultCode, data);
    }

    @Override
    public void onPause() {
        super.onPause();
        uiHelper.onPause();
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        uiHelper.onDestroy();
    }

    @Override
    public void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        uiHelper.onSaveInstanceState(outState);
    }

    private void onSessionStateChange(Session session, SessionState state,
        Exception exception) {
        if (state.isOpened()) {
            Log.i(TAG, "Logged in...");
        } else if (state.isClosed()) {
            Log.i(TAG, "Logged out...");
        } else {
            Log.i(TAG, "unknown state " + state);
        }
    }
} 
```

**推特片段**

```
public class TwitterFragment extends SherlockFragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.authentication, container, false);

        Button twitterButton = (Button) view.findViewById(R.id.twitterButton);
        twitterButton.setOnClickListener(twitterClickListener);

        return view;
    }

    private OnClickListener twitterClickListener = new OnClickListener() {
        public void onClick(View v) {
            Context context = v.getContext();

            Intent intent = new Intent(context, TwitterLoginActivity.class);
            context.startActivity(intent);
        }
    };
} 
```

为什么上面的片段是按顺序添加的`SupportFragmentManger`呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T14:45:35.833

```
 private void restoreFragments() {
        facebookFragment = (FacebookFragment) getSupportFragmentManager()
            .findFragmentById(android.R.id.content);
        twitterFragment = (TwitterFragment) getSupportFragmentManager()
            .findFragmentById(android.R.id.content);
    } 
```

You need to assign each fragment a different id otherwise you will always get the same fragment for a given id. I guess you'd get the first declared/added fragment but that depends in the implementation. (You probably are getting a class cast exception).

To fix this, assign them different ids and add them to different placeholders.

```
.beginTransaction()
            .add(R.id.twitter_fragment, twitterFragment)
            .add(R.id.facebook_fragment, facebookFragment)
            .commit(); 
```

This requires other changes as well but hopefully you can get there.

# mysql - 如何使用联合所有查询来获取不在表中的记录？

> ID：15354354
> 
> 赞同：1
> 
> 时间：2013-03-12T06:01:14.243
> 
> 标签：mysql, sql, database

我在 MYSQL 数据库中有 a_ad_display 表，格式如下

```
╔═════════════╦═════════╦═════════╦═════════════════════╗
║ addisplayId ║ restId  ║ clicked ║     displaytime     ║
╠═════════════╬═════════╬═════════╬═════════════════════╣
║          1  ║  20707  ║      0  ║ 2013-03-07 10:50:55 ║
║          2  ║  20707  ║      1  ║ 2013-03-07 10:55:55 ║
║          3  ║  20711  ║      1  ║ 2013-03-08 12:50:55 ║
║          4  ║  20712  ║      1  ║ 2013-03-08 01:50:55 ║
║          5  ║  20707  ║      1  ║ 2013-03-08 10:50:55 ║
║          6  ║  20708  ║      1  ║ 2013-03-09 12:50:55 ║
║          7  ║  20707  ║      1  ║ 2013-03-09 09:50:55 ║
║          8  ║  20708  ║      0  ║ 2013-03-10 10:50:55 ║
║          9  ║  20708  ║      0  ║ 2013-03-11 11:50:55 ║
║         10  ║  20707  ║      0  ║ 2013-03-11 12:50:55 ║
╚═════════════╩═════════╩═════════╩═════════════════════╝ 
```

现在我想要的是用过去 7 天的数据获取 restId 的记录

如果当前日期是 2013-3-12 那么我想显示 2013-3-5 到 2013-3-11 的数据

```
 DISPLAY TIME                   CLICKED     count of row(impression)
March, 05 2013 00:00:00+0000            0       0             
March, 06 2013 00:00:00+0000            0       0
March, 07 2013 00:00:00+0000            1       2
March, 08 2013 00:00:00+0000            1       1
March, 09 2013 00:00:00+0000            1       1
March, 10 2013 00:00:00+0000            1       1
March, 11 2013 00:00:00+0000            0       1 
```

我想忽略时间..只想在明智地获取记录的同时关注日期表中没有针对上周日期出现的任何日期的记录，那么它应该打印该日期并在单击时打印 0，并且在行计数列中打印 0。

我在 SQL fiddle 中制作了一个虚拟表，也应用了这个查询，但它不起作用..所以任何人都可以请指导我...我知道它很难理解..但是如果您对我的问题有任何疑问..那么将清除你从你身边得到一个解决方案..

以下是我的查询，它没有提供正确的数据

```
select
  displaytime,
  sum(impression) as clicked,
  (count(impression) -1) as impressions
from (
  select
    displaytime,
    a_ad_display.clicked as impression
  from
    a_ad_display
  where
    a_ad_display.displaytime
  BETWEEN
    date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -6 day)
    AND
    CONVERT_TZ(CURDATE( ),'+00:00','-11:00')
    and
    restId=10708
    group by
      a_ad_display.displaytime
    union distinct
    select
      CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), 0
    union distinct
    select
      date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -1 day), 0
    union distinct
    select
      date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -2 day), 0
    union distinct
    select
      date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -3 day), 0
    union distinct
    select
      date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -4 day), 0
    union distinct
    select
      date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -5 day), 0
    union distinct
    select
      date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -6 day), 0
) as x
group by
  date(displaytime)
order by
  displaytime 
```

请忽略该代码， `CONVERT_TZ(CURDATE( ),'+00:00','-11:00')`因为它只是将我的日期从UTC转换为用户时区...

这是我的 sql fiddle 链接 [http://sqlfiddle.com/#!2/73f07/1](http://sqlfiddle.com/#!2/73f07/1)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T08:15:21.247

此查询应显示正确的数据。不是一个非常“干净”的解决方案。如果您真的想包含没有数据的日期，您应该用日历表替换这些联合。

```
SELECT IFNULL(z.displaytime, x.displaytime), IFNULL(z.clicked, 0), IFNULL(z.count, 0)  FROM

  (select
    date(CONVERT_TZ(CURDATE( ),'+00:00','-11:00')) AS 'displaytime', 0 AS 'Clicked', 0 AS 'count of row(impression)'
  union distinct
  select
    date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -1 day)), 0, 0
  union distinct
  select
    date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -2 day)), 0, 0
  union distinct
  select
    date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -3 day)), 0, 0
  union distinct
  select
    date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -4 day)), 0, 0
  union distinct
  select
    date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -5 day)), 0, 0
  union distinct
  select
    date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -6 day)), 0, 0) AS x

LEFT JOIN

  (SELECT
    DATE(displaytime) AS 'displaytime',
    MAX(clicked) AS 'Clicked',
    COUNT(*) AS 'Count'
  FROM 
    a_ad_display
  WHERE (
    displaytime BETWEEN date_add(CURDATE(), interval -6 day) AND CURDATE()
  ) AND restId = 10707 
  GROUP BY DATE(displaytime)) AS z
ON x.displaytime = z.displaytime 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:27:13.530

可能有一种更清洁的方法，但这应该可以......

```
select
  displaytime,
  sum(clicked) as clicked,
  sum(impressions) as impressions
from (
select
  displaytime,
  clicked,
  impressions
from (
select
  date(displaytime) as displaytime,
  sum(impression) as clicked,
  sum(legit) as impressions
from (
  select
    displaytime,
    a_ad_display.clicked as impression,
  1 as legit
  from
    a_ad_display
  where
    a_ad_display.displaytime
  BETWEEN
    date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -6 day)
    AND
    CONVERT_TZ(CURDATE( ),'+00:00','-11:00')
    and
    restId=10708
) as x
group by
  date(displaytime)
) y
union distinct
    select
      date(CONVERT_TZ(CURDATE( ),'+00:00','-11:00')), 0, 0
    union distinct
    select
      date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -1 day)), 0, 0
    union distinct
    select
      date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -2 day)), 0, 0
    union distinct
    select
      date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -3 day)), 0, 0
    union distinct
    select
      date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -4 day)), 0, 0
    union distinct
    select
      date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -5 day)), 0, 0
    union distinct
    select
      date(date_add(CONVERT_TZ(CURDATE( ),'+00:00','-11:00'), interval -6 day)), 0, 0
) z
group by
  displaytime
order by
  displaytime 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:12:56.607

其他一些解决方案`restID 20707`。2013-03-10 没有`restID 20707`.

查询**[SQLFIDDLE 示例](http://sqlfiddle.com/#!2/dde57/29)**：

```
SELECT d.Date,
(SELECT CASE WHEN COUNT(clicked) >0 THEN 1 ELSE 0 END
FROM a_ad_display
WHERE DATE(displaytime) = d.Date 
AND clicked = 1
AND restId  = 20707  ) Clicked,
(SELECT COUNT(*)
FROM a_ad_display
WHERE DATE(displaytime) = d.Date 
AND restId  = 20707  ) 'count of row'
FROM 
(SELECT a.Date
FROM
  (SELECT curdate() - INTERVAL (a.a + (10 * b.a) + (100 * c.a)) DAY AS Date
   FROM
     (SELECT 0 AS a
      UNION ALL SELECT 1
      UNION ALL SELECT 2
      UNION ALL SELECT 3
      UNION ALL SELECT 4
      UNION ALL SELECT 5
      UNION ALL SELECT 6
      UNION ALL SELECT 7
      UNION ALL SELECT 8
      UNION ALL SELECT 9) AS a CROSS
   JOIN
     (SELECT 0 AS a
      UNION ALL SELECT 1
      UNION ALL SELECT 2
      UNION ALL SELECT 3
      UNION ALL SELECT 4
      UNION ALL SELECT 5
      UNION ALL SELECT 6
      UNION ALL SELECT 7
      UNION ALL SELECT 8
      UNION ALL SELECT 9) AS b CROSS
   JOIN
     (SELECT 0 AS a
      UNION ALL SELECT 1
      UNION ALL SELECT 2
      UNION ALL SELECT 3
      UNION ALL SELECT 4
      UNION ALL SELECT 5
      UNION ALL SELECT 6
      UNION ALL SELECT 7
      UNION ALL SELECT 8
      UNION ALL SELECT 9) AS c) a
where a.Date >= '2013-01-01' and a.Date < curdate()) d
WHERE d.Date >= date_add(curdate(), INTERVAL -7 DAY)
ORDER BY d.Date 
```

结果：

```
|                         DATE | CLICKED | COUNT OF ROW |
---------------------------------------------------------
| March, 05 2013 00:00:00+0000 |       0 |            0 |
| March, 06 2013 00:00:00+0000 |       0 |            0 |
| March, 07 2013 00:00:00+0000 |       1 |            2 |
| March, 08 2013 00:00:00+0000 |       1 |            1 |
| March, 09 2013 00:00:00+0000 |       1 |            1 |
| March, 10 2013 00:00:00+0000 |       0 |            0 |
| March, 11 2013 00:00:00+0000 |       0 |            1 | 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:14:30.883

看看这个问题：

*   [过去 5 天按天分组](https://stackoverflow.com/questions/6792686/mysql-group-by-day-for-past-5-days)

它几乎和你正在做的一样

# ruby-on-rails - 如何覆盖rails中的路由路径助手？

> ID：15354355
> 
> 赞同：4
> 
> 时间：2013-03-12T06:01:16.960
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2, routes

我的路线是这样定义的

```
match '/user/:id' => 'user#show', :as => :user 
```

如果由于某种原因传递了一个 nil ID，我希望路由助手只返回“#”，如果 ID 不是 nil，我希望它返回像“/user/123”这样的正常路径。或者有没有更好的方法来做到这一点。这个路由助手已经在我的代码中的很多地方使用过，所以我不想改变它。相反，我正在寻找一个会影响 user_path 的所有实例的地方。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-08T17:13:57.977

我在`app/helpers/url_helper.rb`

```
module UrlHelper
  def resource_path(resource, parameters = {})
    # my implementation
    "/#{resource.category}/#{resource.name}#{ "?#{parameters.to_query}" if parameters.present? }"
  end
end 
```

我知道有一些方法可以定义这样的嵌套路由，但正如问题所述，我有一个代码库在几个部分中使用该路由。

我试图给旧方法起别名，但未被识别：

```
alias_method :old_resource_path, :resource_path 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-04-28T05:33:26.623

```
module CustomUrlHelper
  def user_path(user, options = {})
    if user.nil?
      "#"
    else
      super
    end
  end
end

# Works at Rails 4.2.6, for older versions try http://stackoverflow.com/a/31957323/474597
Rails.application.routes.named_routes.url_helpers_module.send(:include, CustomUrlHelper) 
```

# java - NoSuchElementException Java

> ID：15354356
> 
> 赞同：0
> 
> 时间：2013-03-12T06:01:22.167
> 
> 标签：java, arrays, arraylist

这是我编写的一个简单程序，用于对 txt 文件中的整数进行计算。经过几个小时的调试尝试，我希望有一双新的眼睛能发现我的一些问题。编辑：data.txt 包含整数 1-5。每行一个整数。

```
import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Scanner;

public class Calculator {

public static int[] NUMBERS;    //global value for the array

public static void main(String[] args) throws FileNotFoundException {
    File file = new File("data.txt");
    Scanner sc = new Scanner(file);

    List x = new ArrayList();

    while (sc.hasNextInt()) {
        x.add(sc.nextInt());
    }

    NUMBERS = new int[x.size()];
    Iterator<Integer> iterator = x.iterator();
    for (int i = 0; i < NUMBERS.length; i++) {
        NUMBERS[i] = iterator.next().intValue();
    }

    sc.close();

    Scanner sc2 = new Scanner(file);

    System.out.println("Welcome to Calculation Program!\n");
    startMenus(sc2);

}

private static void startMenus(Scanner sca) throws FileNotFoundException {
    while (true) {
        System.out.println("(Enter option # and press ENTER)\n");

        System.out.println("1\. Display the average of the list");
        System.out.println("2\. Display the number of occurences of a given element in the list");
        System.out.println("3\. Display the prime numbers in a list");
        System.out.println("4\. Display the information above in table form");
        System.out.println("5\. Save the information onto a file in table form");
        System.out.println("6\. Exit");

        int option = sca.nextInt();

        sca.nextLine();

        switch (option) {
            case 1:
                infoMenu1(sca);
                break;
            case 2:
                infoMenu2(sca);
                break;
            case 3:
                infoMenu3(sca);
                break;
            case 4:
                infoMenu4(sca);
                break;
            case 5:
                infoMenu5(sca);
                break;
            case 6:
                System.exit(0);
            default:

                System.out.println("Unrecognized Option!\n");
        }

    }
}

private static void infoMenu1(Scanner sc2) {
    System.out.println("The average of the numbers in the file is: " + avg(NUMBERS));
}

public static double avg(int[] numbers) {
    int sum = 0;

    for (int i = 0; i < numbers.length; i++) {
        sum = (sum + numbers[i]);
    }

    return (sum / numbers.length);
}

public static int occr(int[] numbers, int x) {
    int count = 0;

    for (int n : numbers) {
        if (n == x) {
            count = count + 1;
        }
    }

    return count;
}

public static boolean prime(int x) {
    boolean answer = true;

    if (x == 0 || x == 1) {
        return false;
    }

    for (int i = 2; i <= x / 2; i = i + 1) {
        if (i != x) {
            if (x % i == 0) {
                answer = false;
            }
        }
    }

    return answer;
}

public static int[] primes(int[] numbers) {
    int primesCount = 0;

    for (int i : numbers) {
        if (prime(i)) {
            primesCount = (primesCount + 1);
        }
    }

    if (primesCount == 0) {
        return null;
    }

    int[] result = new int[primesCount];
    int index = 0;

    for (int i : numbers) {
        if (prime(i)) {
            result[index] = i;
            index = index + 1;
        }
    }

    return result;
}

private static void infoMenu2(Scanner sc) {
    sc = new Scanner(System.in);
    System.out.println("Which integer would you like to check for number of occurences?");
    int choice = sc.nextInt();

    System.out.println("The number of occurence(s) of " + choice + " are/is " + occr(NUMBERS, choice));

}

private static void infoMenu3(Scanner sc2) {
    int[] myPrimes = primes(NUMBERS);

    System.out.println("The prime number(s) in the file are/is: ");

    for (int j = 0; j < myPrimes.length; ++j) {
        System.out.println(myPrimes[j] + " ");
    }

}

private static void infoMenu4(Scanner kb) throws FileNotFoundException {
    File file = new File("data.txt");
    Scanner sc = new Scanner(file);

    int counter = 0;
    while (sc.hasNextInt()) {
        counter = counter++;
    }

    int lenth = counter;

    int[] column1 = new int[lenth];
    while (sc.hasNextInt()) {
        column1 = new int[sc.nextInt()];
    }

    int[] column2 = new int[occr(NUMBERS, sc.nextInt())];

    boolean column3 = prime(sc.nextInt());

    System.out.printf("Average: " + "%20.2f", column1);
    System.out.println();
    System.out.printf("Occurences: " + "%14d", column2);
    System.out.println();
    System.out.printf("Primes:" + "%19s : %s", column3);
    System.out.println();
}

private static void infoMenu5(Scanner kb) throws FileNotFoundException {
    File file = new File("data.txt");
    Scanner sc = new Scanner(file);
    PrintWriter pw = new PrintWriter(new File("results.txt"));

    int counter = 0;
    while (sc.hasNextInt()) {
        counter = counter++;
    }

    int lenth = counter;

    int[] column1 = new int[lenth];
    while (sc.hasNextInt()) {
        column1 = new int[sc.nextInt()];
    }

    int[] column2 = new int[occr(NUMBERS, sc.nextInt())];

    boolean column3 = prime(sc.nextInt());

    pw.printf("Number: " + "%-10d", column1);
    pw.println();
    pw.printf("Occurences: " + "%12d", column2);
    pw.println();
    pw.printf("Primes:" + "%24s : %s", column3);
    pw.println();

    pw.close();
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:37:22.817

您在代码中使用了错误的扫描仪（第 49 行）。我想您正在尝试获取用户输入。但是，您正在使用 Scanner 从 data.txt 获取输入。

根据评论更新。实际上，您不需要 startMenus 中 data.txt 中的 Scanner。您需要的是用户输入。因此，将 sc2 从 System.in 更改为 Scanner。

原始第 31 行：

```
// Scanner sc2 = new Scanner(file);
Scanner sc2 = new Scanner(System.in); 
```

# c# - 在 Windows 商店应用程序中存储瓷砖的位置

> ID：15354363
> 
> 赞同：4
> 
> 时间：2013-03-12T06:01:39.797
> 
> 标签：c#, windows-8, visual-studio-2012, winrt-xaml, tiles

我有一个应用程序，其中有多个图块。我已经实现了以下功能：-

1.  您可以拖放瓷砖。
2.  你可以组成不同的组。
3.  编辑磁贴。
4.  固定开始。

**唯一的问题**是我无法存储磁贴的位置，以便一旦用户通过拖放更改其位置，一旦应用程序关闭并再次打开，它就会出现在相同的位置。基本上我想实现windows 8开始屏幕的功能。

任何帮助，将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T13:48:17.227

将磁贴项目的位置序列化为 XML 文件，该文件可以存储在独立存储中。加载后，您可以反序列化 XML 文件并根据值排列项目。

欲了解更多信息， [http://www.irisclasson.com/2012/07/09/example-metro-app-winrt-serializing-and-deseralizing-objects-to-storagefile-and-localfolder-using-generics-and-异步等待线程/](http://www.irisclasson.com/2012/07/09/example-metro-app-winrt-serializing-and-deseralizing-objects-to-storagefile-and-localfolder-using-generics-and-asyncawait-threading/)

# android-layout - 如何在android中捕获整个屏幕

> ID：15354366
> 
> 赞同：0
> 
> 时间：2013-03-12T06:01:53.950
> 
> 标签：android-layout, screen-capture

在我的 xml 文件中，当我尝试捕获屏幕时，我有一个表单，它只捕获当前可见数据，但我需要捕获整个屏幕。请任何人帮助我。我使用以下代码捕获了屏幕：

视图 v1 = view.getRootView();

v1.setDrawingCacheEnabled(true);

位图 bm = v1.getDrawingCache();

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-18T06:14:40.597

以语法方式在android pro中进行屏幕截图。这是一种方式..

# php - 如何使用 mongodb _id 查找记录

> ID：15354377
> 
> 赞同：1
> 
> 时间：2013-03-12T06:02:20.700
> 
> 标签：php, mongodb

我正在用 mongodb 和 php 做项目。所以我正在尝试使用它_id查找记录。在这里，我以这种方式发布 json 值

```
{"_id": {"$id": "513ea9d4a00b2ade09000001"}} 
```

然后我得到这个值并解码它并用这种方式找到

```
$obj = json_decode( $json, true);
$result = $collection->find($obj); 
```

但上面的代码给出了错误，因为在 json 中它们是一个像`$id`. 所以我如何解决上述问题请帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:51:41.160

请按照以下示例进行操作：

```
// This is only a string, this is NOT a MongoId
$mongoid = '4cb4ab6d7addf98506010000';

// You will not find anything by searching by string alone
$nothing = $collection->find(array('_id' => $mongoid));
echo $nothing->count(); // This should echo 0

// THIS is how you find something by MongoId
$realmongoid = new MongoId($mongoid);

// Pass the actual instance of the MongoId object to the query
$something = $collection->find(array('_id' => $realmongoid));
echo $something->count(); // This should echo 1 
```

[你可以在这里](http://blog.mongodb.org/post/26903435041/mongodb-for-the-php-mind-part-2)找到更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T10:29:19.900

从 JSON 字符串来看，它与当前显示的所有示例略有不同。

因为你现在有一个 assoc 数组的对象，它看起来像：

```
array(
    '_id' => array(
        '$id' => "513ea9d4a00b2ade09000001"
    )
) 
```

您必须提取该`$id`属性并将其转换为`MongoId`这样的：

```
$db->collection->find(new MongoId($obj['$id'])); 
```

那会找到你的记录。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T08:46:07.807

要使用“_id”查找文档，您必须将其类型转换为 MongoId 对象。这可以通过传入`array('_id' => new MongoId($valOf_id) )`查找查询来完成。

我没有写一个冗长的答案，因为我相信这足以让你明白这一点:-)

# java - 折线图无法正常工作

> ID：15354379
> 
> 赞同：3
> 
> 时间：2013-03-12T06:02:50.780
> 
> 标签：java, android

我想用我的代码做几件事

1.  我想查看所有 Y 轴标签（在我的代码中，最后一个标签未显示）。
2.  我想设置我需要的图表高度，使它看起来像风景（在我的代码中，图表是如此渴望）。

由于我的声誉低，我无法发布图片

请帮助我，对不起英语不好。

提前致谢。这是我的代码

```
public class MainActivity extends Activity 
```

{私人查看mChart；

```
private String[] mMonth = new String[]  {
                                            "Jan", "Feb" , "Mar", "Apr", "May", "Jun",
                                            "Jul", "Aug" , "Sep", "Oct", "Nov", "Dec"
                                        };
@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    openChart();
}

  private void openChart()
  {

      int[] x ={1, 2, 3, 4, 5, 6, 7, 8};
      int[] income ={20, 25, 27, 30, 28, 35, 37, 38};
      int[] expense ={22, 27, 29, 28, 26, 30, 33, 34};

      //Creating an  XYSeries for Income
      XYSeries incomeSeries = new XYSeries("Income");

      // Creating an  XYSeries for Expense
      XYSeries expenseSeries = new XYSeries("Expense");

      // Adding data to Income and Expense Series
      for(int i=0 ; i<x.length ; i++)
      {
          incomeSeries.add(x[i], income[i]);
          expenseSeries.add(x[i],expense[i]);
      }

      // Creating a dataset to hold each series
      XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

      // Adding Income Series to the dataset
      dataset.addSeries(incomeSeries);

      // Adding Expense Series to dataset
      dataset.addSeries(expenseSeries);

      // Creating XYSeriesRenderer to customize incomeSeries
      XYSeriesRenderer incomeRenderer = new XYSeriesRenderer();
      incomeRenderer.setColor(Color.WHITE);
      incomeRenderer.setPointStyle(PointStyle.SQUARE);
      incomeRenderer.setFillPoints(true);
      incomeRenderer.setLineWidth(2);
      incomeRenderer.setChartValuesSpacing(10);
      incomeRenderer.setChartValuesTextAlign(Align.CENTER);
      incomeRenderer.setChartValuesTextSize(15);
      incomeRenderer.setDisplayChartValues(true);

      // Creating XYSeriesRenderer to customize expenseSeries
      XYSeriesRenderer expenseRenderer = new XYSeriesRenderer();
      expenseRenderer.setColor(Color.YELLOW);
      expenseRenderer.setPointStyle(PointStyle.SQUARE);
      expenseRenderer.setFillPoints(true);
      expenseRenderer.setLineWidth(2);
      expenseRenderer.setChartValuesSpacing(10);
      expenseRenderer.setChartValuesTextAlign(Align.CENTER);
      expenseRenderer.setChartValuesTextSize(15);
      expenseRenderer.setDisplayChartValues(true);

      // Creating a XYMultipleSeriesRenderer to customize the whole chart
      XYMultipleSeriesRenderer multiRenderer = new XYMultipleSeriesRenderer();

      // Use To Display The Line In The Middle Of Chart
      multiRenderer.setShowGridX(true);
      multiRenderer.setShowGridY(true);

      // (new int[] {top, left, bottom, right})
      multiRenderer.setMargins(new int[] {0,60,1,20});
      multiRenderer.setAxisTitleTextSize(15);
      multiRenderer.setChartTitle("\n Income vs Expense Chart");
      multiRenderer.setLabelsTextSize(15);

      multiRenderer.setYLabels(2);
      multiRenderer.setYLabelsAlign(Align.RIGHT);
      multiRenderer.setYTitle("\nAmount in Dollars");

      multiRenderer.setXTitle("\n\n\n\n Year 2013");
      multiRenderer.setXLabels(0);

      // Visible-InVisible Zoom Button
      multiRenderer.setZoomButtonsVisible(false);

      // Stop Moving Chart
      multiRenderer.setPanEnabled(false);

      for(int i=0;i<x.length;i++)
      {
          multiRenderer.addXTextLabel(i+1, mMonth[i]);
      } 

      // Adding incomeRenderer and expenseRenderer to multipleRenderer
      // Note: The order of adding dataseries to dataset and renderers to multipleRenderer
      // should be same
      multiRenderer.addSeriesRenderer(incomeRenderer);
      multiRenderer.addSeriesRenderer(expenseRenderer);

      // Getting a reference to LinearLayout of the MainActivity Layout
      LinearLayout chartContainer = (LinearLayout) findViewById(R.id.chart_container);

      // Creating a Line Chart
      mChart = ChartFactory.getLineChartView(getBaseContext(), dataset, multiRenderer);

      // Adding the Line Chart to the LinearLayout
      chartContainer.addView(mChart);
  }

@Override
public boolean onCreateOptionsMenu(Menu menu) 
{
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
} 
```

}

# url - Symfony2 url 层次结构

> ID：15354384
> 
> 赞同：3
> 
> 时间：2013-03-12T06:03:04.407
> 
> 标签：url, symfony, routes, hierarchy, router

我想知道拥有分层结构化网址的最佳方法是什么，例如：

如果我有 3 个类别

```
-Cateogory1
--Category2
---Category3 
```

我希望网址解析为

```
/category1
/category1/category2
/category1/category2/category3 
```

我还`jms_i18n_routes`用来支持路线中的语言环境。我`SymfonyExtraBundle`已经启用了。我现在看到的唯一方法就是创建一个新路由器并将其添加到路由器列表中，但问题是`jms_i18_router`扩展了 symfony 默认路由器，所以如果我这样做，我将能够为所有默认路由提供国际化 url但不适用于此自定义路由器，这意味着我必须将已有的功能复制到新路由器中（毫无意义）

此外，如果我为类别层次结构添加此路由器，除了我想要此功能的类别（或有一个巨大的 if 语句来检查每个场景）之外，我可能必须为不同的实体类型提供不同的版本 - 这两种解决方案都不是对我来说似乎很优雅，所以我想知道您对此事有何看法？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-20T23:28:03.550

您可以通过设置 rout 重复模式来做到这一点，在 rout 的“要求”部分使用正则表达式，类似于：

```
# categories rout:
categories:  
    pattern:       /{cat}  
    defaults:      { _controller: HelloBundle:Default:categories }  
    requirements:
        cat:       (category[1-9]\/)+ 
```

## 注意：

### 您应该在“categoriesAction”函数中识别出 $cat 变量上的斜线。

当然，如果您想从非 ascii 字符创建动态分层 URL 并从持久实体创建此 URL，我认为您可以通过从 ascii 实体字段（如实体 ID 或其他实体特殊键）创建 URL 来做到这一点。

# java - 如何保持画布的某些部分不可触摸

> ID：15354388
> 
> 赞同：0
> 
> 时间：2013-03-12T06:03:13.100
> 
> 标签：java, android, touch, android-canvas, draw

我需要做的就是创建一个带有一些不可触摸部分的画布。我尝试在所需位置的画布上使用叠加层（相对布局）。但 Canvas 仍然是可触摸的。我不知道为什么会这样。

谁能告诉我如何使 Canvas 的某些部分不可触摸。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:05:41.080

如果需要逻辑解决方案，

只需捕捉触摸事件，>>找到事件的位置，

如果位置在不可触摸区域内，则返回 false，否则返回 true。

我认为这会有所帮助。:)

# google-analytics - 谷歌分析 Java API 数据导出

> ID：15354390
> 
> 赞同：0
> 
> 时间：2013-03-12T06:03:33.003
> 
> 标签：google-analytics, google-analytics-api

我正在尝试从谷歌分析访问信息，但每次它都给我一个例外：

```
Analytics API responded with an error message: Bad Request 
```

这是我正在使用的[源代码。](https://code.google.com/p/ga-api-java-samples/source/browse/trunk/src/v2/csvprinter/AnalyticsCsvDemo.java)

知道发生了什么吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T13:03:45.290

那是使用我认为不再受支持的非常旧版本的 API。[这是](https://code.google.com/p/google-api-java-client/wiki/APIs#Google_Analytics_API)Google API 的当前 Java 库的链接。

# javascript - 谷歌应用脚 本/javascript 2D 数组类型错误

> ID：15354391
> 
> 赞同：0
> 
> 时间：2013-03-12T06:03:33.630
> 
> 标签：javascript, arrays, google-apps-script

我的目的是使用 Google Apps 脚本制作一个小测验脚本。问题和可能答案的数据位于 Google 电子表格中。电子表格中的范围由脚本调用并用作二维数组。大多数时候脚本运行良好，但有时

> 'typeerror 无法读取未定义的属性'0''

似乎随机弹出。

我可能错误地使用了数组功能，但我无法理解它。

1 在大多数有关数组的示例中，都使用了 for 循环。由于我的数组中的数据不会改变，使用这个 for 循环仍然是强制性的吗？

2 将电子表格数据存储到缓存中是否有益？

```
function drawQuestion (){

  var app = UiApp.getActiveApplication();
  var cache = CacheService.getPrivateCache();

  //Add Spreadsheet DB
  var sheet  = SpreadsheetApp.openById(SPREADSHEET_ID);
  var data = sheet.getDataRange().getValues();

  var min =1;
  var max = MAX;
  var xnumber = (Math.floor(Math.random() * (max - min + 1)) + min);

  //for (var i = 0; i < data.length; i++) {
    var question1 = String(data[xnumber][0]);  //when I change this '0' in a '1' it gives me a typeerror cannot read property 1 - message.
    var answer1 = String(data[xnumber][1]);
    var answer2 = String(data[xnumber][2]);
    var answer3 = String(data[xnumber][3]);
    var answer4 = String(data[xnumber][4]);
    var correct1 = Number(data[xnumber][5]);
   // var background1 = data[xnumber][6];
   // var explanation1 = data[xnumber][7];
 // }  

  //Write the new Question
  var statusLabel = app.getElementById("statusLabel");
   statusLabel.setText(question1);
  //Answer1
  var button1 = app.getElementById("button1");
  button1.setText(answer1);

  //Answer2
  var button2 = app.getElementById("button2");
  button2.setText(answer2);
  //Answer3
  var button3 = app.getElementById("button3");
  button3.setText(answer3);
  //Answer4
  var button4 = app.getElementById("button4");
  button4.setText(answer4);

  //Store correct answer & explanation in cache
  cache.put('correct1', Number(correct1));
  //cache.put('explanation1', explanation1);

  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:20:35.013

它说你`data[xnumber]`在那个实例中没有定义。您正在访问未定义对象的索引`0`。在使用之前`data[xnumber][0]`验证`data[xnumber]`并且`data[xnumber][0]`是有效的。

同样在您的代码中，请验证您的`xnumber`.

通过使用这个表达式，你`xnumber`可以有任何值（不保证在`0`and之间`max`）

```
var xnumber = (Math.floor(Math.random() * (max - min + 1)) + min); 
```

在循环内使用数组也没有限制。但它将通过为循环提供适当的验证条件来防止这些类型的错误

# perl - Perl：在引号中使用变量的语法

> ID：15354392
> 
> 赞同：2
> 
> 时间：2013-03-12T06:03:35.987
> 
> 标签：perl

在引用中，如何将变量与其他文本分开：

例如，我想打印“YellowBrick”：

```
my $var = 'Yellow';

print "$varBrick";

# $varBrick not defined!! 
```

您可以使用：

```
print "@{[$var]}Brick" 
```

我不明白的是语法：`@{[]}`每次转义一个变量时都需要所有 5 个字符 ( ) 吗？@{} 或 [] 的意义何在？这是制作一个数组，然后是一个数组的引用还是什么？

基本上我的问题是可以用`@{[]}`

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-12T06:07:11.223

`@{[...]}`不需要。你只需要

```
print "${var}Brick"; 
```

或者

```
print $var."Brick"; 
```

* * *

`"@{ EXPR }"`对表达式返回的引用所引用的数组进行插值。

`[ LIST ]`是数组构造函数。它返回对通过将括号内的列表分配给数组来初始化的新数组的引用。

这意味着

```
"@{[$var]}Brick" 
```

是相同的

```
"@{ my @anon = $var; \@anon }Brick" 
```

显然，我上面介绍的解决方案要好得多。`@{[...]}`将允许您在字符串文字中嵌入 Perl 代码。

```
"...@{[ uc($var) ]}..." 
```

如果它只是一个标量，也可以使用以下内容：

```
"...${\ uc($var) }..." 
```

也就是说，我更喜欢使用连接而不是创建不必要的引用。

```
"...".( uc($var) )."..."   # The parens aren't needed here. 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T16:05:02.797

对于简单的标量，您可以只使用大括号作为分隔符：

```
"${var}Brick" 
```

`@{[]}`是一种允许任意表达式插值的 hack。就像它在字符串之外一样，`@{ $x }`将`$x`其视为数组引用并取消引用它。 `[]`是匿名数组引用构造函数。所以公式

```
"@{[ $var ] }Brick" 
```

说“创建一个字符串。首先构建一个包含 的值的匿名数组引用`$var`，然后将此引用转换为包含 的值的数组`$var`，然后将该包含一个元素的数组插入到字符串中，并在其后加上文字字符串 'Brick' 。”

请注意，由于`"@{[ ... ]}"`依赖于数组插值，因此 if`...`是一个列表值，它受`$LIST_SEPARATOR`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-17T14:53:23.500

The real trick is that further interpolation can be done. For instance, consider, @{[sprintf("%.02f",$var)]}. As Aniket implies, there's usually little reason to use something like this, but it can be useful in, for example, here documents, where you can't jump out of the quotes for interpolating something and then back in. All in all, it's probably not the best idea to use this as it may confound others trying to understand your code. But it is a neat trick.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-12T06:06:50.380

为什么不`print $var."brick"`呢？..保持简单:-)

# java - 将扫描仪从静态传递到非静态并返回浮点 java

> ID：15354394
> 
> 赞同：0
> 
> 时间：2013-03-12T06:03:46.463
> 
> 标签：java, static, java.util.scanner, floating, non-static

我正在做一个项目，我需要将扫描仪从静态主方法传递到扫描仪读取的文本文件中的非静态方法，并让它返回一个浮点数。到目前为止，我有：

```
public class Calculator extends Stack{
public static void main (String []args) {
    Scanner s = new Scanner(System.in);
    try
    {
        s = new Scanner(new FileInputStream("numbers.txt"));
        float z = calculate (s);

    } 
```

然后在我的计算方法中，它的声明就是`public float calculate(Scanner s){`我知道类似的问题已经被问过很多次，但我就是不明白。让我失望的是没有像节点一样创建新对象。谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:09:27.060

您需要创建该类的一个实例。由于 calculate() 方法是非静态的，因此您需要在类的实例上调用它。

```
public class Calculator extends Stack{
public static void main (String []args) {
    Scanner s = new Scanner(System.in);
    Calculator c = new Calculator();
    try
    {
        s = new Scanner(new FileInputStream("numbers.txt"));
        float z = c.calculate (s);

    } 
```

# android - Android：使用 android wheel 小部件设置时间

> ID：15354402
> 
> 赞同：2
> 
> 时间：2013-03-12T06:04:00.613
> 
> 标签：android

我正在`kankans`为 android 使用 wheel 小部件，如下所示

```
ImageView setTime = (ImageView) dialog.findViewById(R.id.autodelete);
                setTime.setOnClickListener(new OnClickListener() {
                    @Override
                    public void onClick(View v) {
                        final Calendar c = Calendar.getInstance();
                        int hour = c.get(Calendar.HOUR_OF_DAY);
                        int minute = c.get(Calendar.MINUTE);
                        SetTime(activity, hour, minute);
                    }
                });

    private void SetTime(Context activity, int hour, int minute) {

            LayoutInflater inf = LayoutInflater.from(activity);

            View view = inf.inflate(R.layout.wheel, null);

            final WheelView hours = (WheelView) view.findViewById(R.id.hours);
            hours.setViewAdapter(new NumericWheelAdapter(activity, 0, 23,"%02d"));
            hours.setCyclic(true);

            final WheelView mins = (WheelView) view.findViewById(R.id.minutes);
            mins.setViewAdapter(new Mywheel(activity, 0, 59,"%02d"));
            mins.setCyclic(true);

            new AlertDialog.Builder(activity)
                    .setMessage("Set Time For Post To AutoDelete")
                    .setView(view)
                    .setPositiveButton("Set",
                            new DialogInterface.OnClickListener() {

                                @Override
                                public void onClick(DialogInterface dialog, int which) {

                                    expiryHour = hours.getCurrentItem();
                                                                        if(mins.getCurrentItem() > 0){
                                             expiryMinute = mins.getCurrentItem() + 4;
                                                                        }else{
                                             expiryMinute = mins.getCurrentItem();
                                                                        }
                                }
                            })
                    .setNegativeButton("Cancel",
                            new DialogInterface.OnClickListener() {

                                @Override
                                public void onClick(DialogInterface dialog,
                                        int which) {
                                    return;
                                }
                            }).create().show();

        } 
```

当我打开并设置时间时，我得到了我设置的正确值。问题是在设置时间并再次打开对话框后应该显示我设置的上一个值，但它显示从 00 开始。任何帮助是赞赏

# android - Android ListView：列表中第一项的空白

> ID：15354407
> 
> 赞同：0
> 
> 时间：2013-03-12T06:04:20.687
> 
> 标签：android, listview, unicode

我正在使用带有自定义适配器的 ListView - 每行包含 2 个 TextView；水平对齐。我面临的问题：第一行项目顶部出现空白区域；它仍然存在，因为行视图被回收。这是我的布局 XML 的片段。

```
<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="1.0">

    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:dividerHeight="0.0dp"
        android:divider="@color/transparent"
        android:cacheColorHint="@color/transparent"
        android:listSelector="@color/transparent"
        android:scrollbars="none"/>

    <View
        android:layout_width="fill_parent"
        android:layout_height="10dp"
        android:background="@drawable/shadow_bottom"
        android:layout_alignParentBottom="true"/>
</RelativeLayout> 
```

这是行项目布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:layout_width="fill_parent"
          android:layout_height="wrap_content">
   <MyTextView1
       android:id="@+id/text"
       android:layout_width="fill_parent"
       android:layout_height="wrap_content"
       android:text="Sample text"
       android:paddingLeft="20dp"
       android:paddingRight="10dp"/>
   <MyTextView2
       android:id="@+id/number"
       android:layout_width="15dp"
       android:layout_height="wrap_content"
       android:gravity="right"
       android:paddingLeft="2dp"
       android:paddingRight="3dp"
       android:textSize="11sp"
       android:text="num"
       android:background="@color/transparent"
       android:textColor="@color/number_dark" />
</RelativeLayout> 
```

MyTextView1 是一个自定义文本视图，用于保存 unicode 文本（马拉雅拉姆语）

这是一个屏幕截图： http: [//i.imm.io/Z3CH.png](http://i.imm.io/Z3CH.png) 您可以看到空白区域带有浅灰色（即布局的背景颜色）

当我滚动时，当第一行被回收时，剩余空间 - [http://i.imm.io/Z3Dd.png](http://i.imm.io/Z3Dd.png)

我怎样才能删除这个空白空间？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-12T06:09:07.950

从您的`textview`.
希望这会有所帮助

# java - 如何在 JavaFX 中的特定点检测节点？

> ID：15354408
> 
> 赞同：3
> 
> 时间：2013-03-12T06:04:37.570
> 
> 标签：java, javafx-2, javafx

如何在 JavaFX 中的特定点获取节点？
在 Java Swing 中，有一个方法`SwingUtilities.getDeepestComponentAt`。是否有任何支持 Swing 的 JavaFX 方法？

> 在 JavaFx 中， `javafx.scene.Node.impl_pickNode(double parentX, double parentY)` 但它返回`null`

代码：

```
scene.getRoot().impl_pickNode(428.0, 278.0); 
```

例子：

```
public class Main extends Application {

public static void main(String[] args) {        
    Application.launch(args);   
}

@Override
  public void start(Stage stage) {
    stage.setTitle("ComboBoxSample");
    Scene scene = new Scene(new Group(), 450, 250);

    TextField notification = new TextField ();
    notification.setText("Label");

    notification.clear();

    GridPane grid = new GridPane();
    grid.setVgap(4);
    grid.setHgap(10);
    grid.setPadding(new Insets(5, 5, 5, 5));
    grid.add(new Label("To: "), 0, 0);
    grid.add(notification, 1, 0);

    scene.setOnMouseClicked(mouseHandler);

    Group root = (Group) scene.getRoot();
    root.getChildren().add(grid);
    stage.setScene(scene);
    stage.show();

  }

EventHandler<MouseEvent> mouseHandler = new EventHandler<MouseEvent>() {

    @Override
    public void handle(MouseEvent mouseEvent) {
        System.out
                .println(mouseEvent.getEventType() + "\n" + "X : Y - "
                        + mouseEvent.getX() + " : " + mouseEvent.getY()
                        + "\n" + "SceneX : SceneY - "
                        + mouseEvent.getSceneX() + " : "
                        + mouseEvent.getSceneY() + "\n"
                        + "ScreenX : ScreenY - " + mouseEvent.getScreenX()
                        + " : " + mouseEvent.getScreenY());
        Scene scene = (Scene) mouseEvent.getSource();
        Object node =  scene.getRoot().impl_pickNode(428.0, 278.0);
        if(node != null)
            System.out.println("node is: " + node.getClass().getName().toString());
        else{
            System.out.println("node is NULL");
        }

        Iterator<Window> windows = Window.impl_getWindows();
        while (windows.hasNext()) {
            Window wnd = windows.next();

            if (wnd instanceof Stage) {
                Stage stage = (Stage) wnd;
                System.out.println("---> " + stage.getTitle());
            }

        }
    }

}; 
```

}

# android - 如何通过getView方法中的Button OnClick控制textview

> ID：15354410
> 
> 赞同：1
> 
> 时间：2013-03-12T06:04:42.337
> 
> 标签：android

我的应用程序有 Listview，Listview 项目有一个 TextView 和一个 Button 和其他图像等......我使用 ViewHolder 模式。

单击按钮时，我想更改 TextView 中的文本

如何在按钮 Onclick 中控制 TextView？

```
 public class AListAdapter extends ArrayAdapter<MyData> {

    static class ViewHolder {

        TextView viewCountView;

        ImageButton myButton;

        ImageView profileImageView;

    }

    public View getView(int position, View convertView, ViewGroup parent) {
        final AListAdapter adapter = this;
        ViewHolder holder = null;

        if (convertView == null) {
            convertView = inflater.inflate(R.layout.cell parent, false);
            TextView viewCountView = (TextView) convertView.findViewById(R.id._view_count_);
            Button likeButton = (ImageButton) convertView.findViewById(R.id._like_button);
            LoadImageView profileImageView = (LoadImageView) convertView.findViewById(R.id.albumlist_profile_image);

            holder = new ViewHolder();
            holder.viewCountView = viewCountView;
            holder.likeButton = likeButton;
            holder.profileImageView = profileImageView;

            holder.likeButton.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                   // how to controll TextView??????????????????
               // when click i want to change textview
                   //like holder.viewCountView.setText("clicked");
                }
            });

            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }
        MyData data = (MyData) adapter.getItem(position);
        if (data != null) {

            holder.viewCountView.setText(String.valueOf(data.viewCount) + "views");
            //image settings 
        }
        return convertView;
    } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T06:15:04.940

在这种情况下，您无法访问使用局部变量，到调用 onClickListener 时，变量将超出范围。

因此，您也可以将 设置`ViewHolder`为按钮的标签，然后您可以在`onClick`处理程序中访问它

```
holder.likeButton.setTag(holder);
holder.likeButton.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View v) {
       ViewHolder mH = (ViewHolder) v.getTag();

       mH.viewCountView.setText("clicked");
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:15:43.087

将此代码放在 else() 部分之后

```
 holder.likeButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

               holder.viewCountView.setText("clicked");
            }
        }); 
```

像这样

```
 if (convertView == null) {
        convertView = inflater.inflate(R.layout.cell parent, false);
        TextView viewCountView = (TextView) convertView.findViewById(R.id._view_count_);
        Button likeButton = (ImageButton) convertView.findViewById(R.id._like_button);
        LoadImageView profileImageView = (LoadImageView) convertView.findViewById(R.id.albumlist_profile_image);

        holder = new ViewHolder();
        holder.viewCountView = viewCountView;
        holder.likeButton = likeButton;
        holder.profileImageView = profileImageView;

        convertView.setTag(holder);
    } else {
        holder = (ViewHolder) convertView.getTag();
    }

    MyData data = (MyData) adapter.getItem(position);
    if (data != null) {

        holder.viewCountView.setText(String.valueOf(data.viewCount) + "views");
        //image settings 
    }

    holder.likeButton.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {

           holder.viewCountView.setText("clicked");
        }
    });
    return convertView; 
```

# nsstring - NSInvalidArgumentException iphone

> ID：15354414
> 
> 赞同：0
> 
> 时间：2013-03-12T06:04:54.327
> 
> 标签：nsstring

```
NSString *str = self.completedDrills.drillId; 
```

我只是在设置字符串，但它给了我例外

NSInvalidArgumentException'，原因：'-[__NSCFDictionary DrillTitle]：无法识别的选择器发送到实例

这是我的钻课

```
#import <Foundation/Foundation.h>
#import "Category.h"
#import "Users.h"
#import "Benchmark.h"

@interface Drill : NSObject

@property (nonatomic, retain) NSString *drillId;
@property (nonatomic, retain) NSString *drillTitle;
@property (nonatomic, retain) NSString *crewName;
@property (nonatomic, retain) NSString *objectives;
@property (nonatomic, retain) Category *category;
@property (nonatomic, retain) NSMutableArray *benchmarks;
@property (nonatomic, retain) NSMutableArray *crewMembers;
@property (nonatomic, retain) Users *currentUser;
@property (nonatomic, retain) NSString *totalDrillTime;
@property (nonatomic, retain) NSString *timestamp;
@property (nonatomic, retain) NSString *error;

- (id)initWithCoder:(NSCoder *)coder;
- (void)encodeWithCoder:(NSCoder *)encoder;

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:20:35.230

self.completedDrills 初始化不正确。做这个：

```
self.completedDrills = [Drill new]; 
```

并将 Init 方法添加到 Drill.m：

```
- (id)init
{
    self = [super init];
    if (self) {

    }
    return self;
} 
```

# android - 哪个opengl版本适合android？

> ID：15354415
> 
> 赞同：0
> 
> 时间：2013-03-12T06:04:58.607
> 
> 标签：android, graphics, opengl-es

我正在从基础知识中寻找适用于 android 的优秀 OpenGL ES 教程。我对 OpenGL ES 的版本感到困惑。哪个版本的 OpenGL ES 适合且易于开发 3D 对象以映射 AR for android。

谢谢你....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:19:16.773

Android 2.2 及更高版本支持 OpenGLES 2.0。

[官方文档](http://developer.android.com/training/graphics/opengl/environment.html)有一个很好的从头开始的指南。

要开始使用增强现实，您可能会对使用诸如[AndAR 之](https://code.google.com/p/andar/)类的库感兴趣。

# android - SherlockActionBar 锁定方向更改

> ID：15354418
> 
> 赞同：1
> 
> 时间：2013-03-12T06:05:24.070
> 
> 标签：android, actionbarsherlock

我正在使用 sherloackActionBar 并使菜单始终可见。现在，当我将设备从纵向更改为横向，然后再更改为纵向时，菜单被锁定（无法单击任何选项）现在，当我再次更改方向时，先前的菜单单击操作开始工作。这个问题对我来说也很奇怪，因为它只发生一次（当我们第一次这样做时，它工作正常）。

如果我需要添加任何属性或其他内容，任何人都可以帮助我。我正在使用 android:configChanges="orientation|screenSize" 根据我的说法，这似乎是问题的根本原因。如果我错了，请纠正我。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T13:49:15.533

正如杰克沃顿本人在这个[问题中回答的那样](https://stackoverflow.com/questions/17460935/actionbar-tabs-overlapping-on-screen-rotation/17461084#17461084)

*ActionBarSherlock 是一个兼容层，存在于活动的内容视图中。这与存在于窗口内但在正常内容视图之外的本机操作栏有点不同。*

*由于这个事实，当您在清单中声明您处理方向更改时，它无法正确地重新创建自己。如果您阻止 ABS 重新创建操作栏视图，则几乎总是会出现像您所描绘的那样明显的伪影。*

*TL；DR：ActionBarSherlock 不适用于 configChanges="orientation"*

**但我最近发现自己处于一个幸运的境地，这显然解决了同样的问题。**

我不确定这是否可以肯定地解决它，但是**如果您在操作栏样式中为选项卡设置了 PADDING，问题就会消失，您将能够正常单击选项卡。

这是我使用的代码，专门用于 TabView 样式（我使用过这个[样式生成器](http://jgilfelt.github.io/android-actionbarstylegenerator/)）

```
<style name="Widget.Styled.ActionBarTab" parent="@style/Widget.Sherlock.ActionBar.TabView">
    <item name="android:background">@drawable/tab_indicator_ab</item>
    <item name="background">@drawable/tab_indicator_ab</item>        
    <item name="android:paddingLeft">5dp</item>
    <item name="android:paddingRight">5dp</item>
</style> 
```

试试看，让我们都知道它是否对您有用。如果您确认，这可能是一个有前途的解决方案。

# actionscript-3 - 使用 Adob e Air 保存本地文件

> ID：15354419
> 
> 赞同：0
> 
> 时间：2013-03-12T06:05:30.443
> 
> 标签：actionscript-3

在制作桌面应用程序时，有时需要保存文件。我为此使用了 FileReference，但它会打开一个对话框，询问保存文件的位置，而不是自动保存在具有特定文件名的特定目录中。

我无法让 FileStream 正常工作。我在一个小例子中复制了这个

```
package {
import flash.display.*;
    import flash.text.*;

    import flash.events.*;
    import flash.net.*;
    import flash.utils.ByteArray; 
        import flash.filesystem.*;
        public class example extends MovieClip
        {
            public function example()
            {
            stage.addEventListener(MouseEvent.CLICK, mouseclick);

            }
            public function mouseclick(event:Event):void
            {
            var file:File = File.documentsDirectory.resolvePath("myfile.txt");
            var stream:FileStream = new FileStream();
            stream.open(file, FileMode.WRITE);
            stream.writeUTFBytes("text");
            stream.close();
            }
        }
} 
```

mouseclick 事件可能是必要的 - 无论如何它与 FileReference 一起使用。我正在使用 flex 编译器 amxmlc 进行编译

```
amxmlc -static-link-runtine-shared-libraries example.as 
```

我试过直接从 Flash Player 运行以及创建一个独立的可执行文件并通过 Flash Player 和浏览器运行它。我在 windows 文档目录中看不到新文件 - 如何更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:45:04.610

首先，您不需要与`File`类的“用户交互”，因为`FileReference`.

您必须使用 AIR SDK 将代码编译为 AIR 应用程序，然后将其安装在您的机器上。您的`SWF`文件将无法直接使用。

有关编译应用程序的更多信息，请参阅这些资源：

1.  [使用 Flex SDK](http://livedocs.adobe.com/flex/3/html/help.html?content=SDKHelloWorld_1.html)

2.  [使用 amxmlc](http://livedocs.adobe.com/flex/3/html/help.html?content=CommandLineTools_2.html)

# java - 准备好的语句更新 - 性能改进

> ID：15354423
> 
> 赞同：1
> 
> 时间：2013-03-12T06:05:44.810
> 
> 标签：java, performance, jakarta-ee, jdbc, prepared-statement

我的应用程序中有一个 oracle 准备好的语句，它将一次性更新表中大约 100,000 条记录的状态。例如：

```
UPDATE <TABLE NAME> SET STATUS=SUCCESS' where STATUS='INIT' 
```

上述查询将一次更新大约 100,000 多条记录。有什么方法可以提高性能，例如在准备好的语句上设置批处理/获取大小？如果我使用带有上述查询的准备好的语句，我将只执行一次，因为我没有设置任何批量执行的参数，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:51:11.037

一种优化方法是不要一次运行一个查询（因为每个查询的系统延迟太慢......）

您可以使用批量更新。

如果您使用的是 Spring，请使用 [batchUpdate](http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/jdbc/core/JdbcTemplate.html#batchUpdate%28java.lang.String%5b%5d%29)

或者如果您直接处理 JDBC，则使用

```
preparedStatement.addBatch(); 

preparedStatement.executeBatch(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T15:38:01.920

将更新分成多个部分可能有助于将更新分成多个事务，但我将从您的数据库设置开始。如果更新需要很长时间，您可能没有将日志大小设置得足够高。也可能存在磁盘瓶颈。

# java - 我怎么知道命令被执行了？

> ID：15354424
> 
> 赞同：2
> 
> 时间：2013-03-12T06:05:46.047
> 
> 标签：java, android, runtime.exec

我在**Android上使用****getRuntime().exec()**与控制台应用程序通信。 这段代码：

 **```
Process process = Runtime.getRuntime().exec(true ? "su" : "sh");
// InputStream for program
DataOutputStream os = new DataOutputStream(process.getOutputStream());
//I output info on screen in Gobbler
StreamGobbler errorGobbler = new 
                    StreamGobbler(process.getErrorStream(), "ERROR");      
StreamGobbler outputGobbler = new 
                    StreamGobbler(process.getInputStream(), "OUTPUT"); 
```

我怎么知道**command1**被执行了？

```
os.writeBytes(command1 + "\n");
// Here
os.writeBytes(command2 + "\n"); 
```

**process.waitFor()**等到此 Process 对象表示的进程终止。
谢谢！

* * *

在得到 command1 的输出后，我会知道 command2。

* * *

这不是重复的问题。[@Bill the Lizard](https://stackoverflow.com/users/1288/bill-the-lizard)，在我的情况下**process.watFor()**不会执行。当我不发送时它会等待**os.write("exit"+"\n")**。我认为我的问题没有正常的答案。唯一的方法 - 解析进程的输出。**

# java - 如何让 Jackson 的 LocalDateSerializer 呈现为 ISO 日期？

> ID：15354429
> 
> 赞同：2
> 
> 时间：2013-03-12T06:06:05.127
> 
> 标签：java, spring, jackson

我已经`com.fasterxml.jackson.datatype.joda.JodaModule`使用以下方法成功地向 Spring 3.2 和 Jackson 2 注册了该模块：

```
<mvc:annotation-driven>
  <mvc:message-converters>
    <bean
class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">
      <property name="objectMapper" ref="jacksonObjectMapper" />
    </bean>
  </mvc:message-converters>
</mvc:annotation-driven>
<bean id="jacksonObjectMapper" class="org.mycompany.CustomObjectMapper" /> 
```

然而结果是 的序列化`LocalDate`是一个包含日期的数组，即今天的日期看起来像`[2013,3,12]`。我怎样才能得到这个回报`2013-03-12`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:21:40.697

由于我有一个`ObjectMapper`正在设置的自定义实现，因此`enable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);`我忽略了这一点，关闭此功能会产生我所期望的结果。

不幸的是，默认情况下你不能拥有`DateTime`和`LocalDateTime`序列化，因为`LocalDateTime`没有getter，我很惊讶地看到它`DateTimeMidnight`也会呈现为一个数组而不是毫秒，即使该属性存在。

正如我在对该问题的评论中所讨论的，通过创建您自己的`JodaModule`（非覆盖）实现并替换现有的加上您的覆盖实现来覆盖此行为非常简单。但是请注意，您必须具有与原始实现相同的包结构，因为某些类是包私有的 ( `com.fasterxml.jackson.datatype.joda`)。

# php - phpDesigner IDE 7.0 版中的 HTML 代码格式化

> ID：15354431
> 
> 赞同：7
> 
> 时间：2013-03-12T06:06:09.817
> 
> 标签：phpdesigner, php, html, phpdesigner

我无法使用[phpdesigner](/questions/tagged/phpdesigner "显示标记为“phpdesigner”的问题") IDE 格式化 HTML 标签。此 IDE 中的 PHP 代码美化器仅格式化 PHP 代码，而不是 HTML 标签。

有没有人在使用 PHP Designer 7 来帮助我？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-05T08:36:05.587

在 PHP Desinger 7 中：

1.  CTRL + SHIFT + F1 或
2.  'PHP' 菜单 > 'PHP 代码美化器'

注意：这有助于格式化 PHP 代码，对 HTML 或 css 或 SCRIPT 格式没有帮助

在 PHP Desinger 8 中：

PHP Desinger 8 也有这些特性。有关 PHP Designer 8 的更多详细信息，请访问[**此链接**](http://www.mpsoftware.dk/phpdesigner_features.php#.UdaFMKwwHfY)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-10T10:33:34.897

phpDesigner 8.1.2 版

1.  工具 -> HTML CSS Javascript 格式化程序

![在此处输入图像描述](../Images/769844695c93e8eb9830559d0fffd8c3.png)

2.  然后选择格式化 HTML

![在此处输入图像描述](../Images/b889ffc43fc76d0799887699ca97a4fc.png)

3.  点击确定

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-05T08:18:58.650

在这里进行一些搜索会帮助您发现其他人提出了完全相同的问题并自己解决了 - 发布解决方案供其他人享受。

引用“[如何在 phpDesigner 7.x 中格式化源代码](https://stackoverflow.com/questions/8790385/how-to-format-source-code-in-phpdesigner-7-x)”

> 对于遇到同样问题的人：有两种方法
> 
> 1.  按下组合：Ctrl + Shift + F1
> 2.  在菜单栏上，选择“PHP”菜单。然后选择“Code Beutifier for PHP”（底部选项）。对 CSS 和 HTML 做同样的事情

# java - 通过自定义验证器检查 Null 字段验证

> ID：15354434
> 
> 赞同：0
> 
> 时间：2013-03-12T06:06:21.573
> 
> 标签：java, jsf-1.2

在我的应用程序中，我想从`managebean`by检查 null 验证`Customvalidator`。我正在使用 jsf1.2 并且我在表单中有 a`<h:inputText>`和 a `submitButton`，当我单击 submitButton 将`inputText`字段留空时，我想从支持 bean 生成一条消息。另外一件事我还`validator`使用名为`#{manageBean.validateField}`. 我该如何实现这一点。谢谢 ，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:35:18.097

如果您只想检查必填字段，则可以使用组件的`required`and`requiredMessage`属性。

```
<h:inputText id="fldName" value="#{managedBean.property}" required="true" requiredMessage="Please enter value..."/>
<h:message for="fldName"/> 
```

# cocos2d-iphone - Cocos2d-x 是否具有处理 Android 和 iPhone 的多人在线游戏的功能？

> ID：15354436
> 
> 赞同：0
> 
> 时间：2013-03-12T06:06:35.447
> 
> 标签：cocos2d-iphone, cocos2d-x

其实我有点困惑。所以，请给一些建议。这是可以的还是别的什么我会开始的......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-01T07:08:02.297

回复有点晚，但其他人可能会觉得它有帮助。
我使用 cocos2d-x 开发了多人游戏，即将在 Apple 和 Android 商店发布。

多人游戏不是 Cocos2d-x 提供的功能，您可以使用 cocos2d-x 创建前端，并为网络部分使用任何多人游戏 API。我在多人游戏中使用了[Photon Exit 游戏](https://www.exitgames.com)。他们有 C++ API，这是与 Cocos2d-x 的最佳组合（因为 cocos2d-x 也是用 C++ 编写的）。您为 iOS 编写的任何代码都适用于 Android，反之亦然。您只需要根据您的平台更改您的 Photon 库。

# php - 有人可以解释这个 php mysql 脚本吗？

> ID：15354439
> 
> 赞同：-4
> 
> 时间：2013-03-12T06:06:46.673
> 
> 标签：php, mysql, sql, database, arrays

有人可以解释这个脚本执行时到底发生了什么。它就像一个魅力，但我不知道它究竟做了什么而感到不满意。

基本上我有一个带有以下字段的 sql 表 [images]

*   文件名
*   照料
*   网址

我想做的是获取 [URL] 的所有值并将其放在一个数组中

为了实现这一点，我习惯于遵循我在 stackoverflow 上找到的脚本

```
$images = mysql_query("Select URL from images where Category = 'Management' ");
$imagerow = Array();

while ( $row = mysql_fetch_assoc($images) )
{
$imagerow[] = $row['URL'];
}

echo $imagerow[0] ; 
```

该脚本的工作原理就像一个魅力，但是对于 php 和 mysql 来说，我发现很难理解到底发生了什么。如果有人用简单的话解释会发生什么，我会喜欢的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:10:13.560

这个问题并不真正属于这里，但为了在不打扰版主的情况下结束问题，我会回答它。

```
// mysql query is executed
$images = mysql_query("Select URL from images where Category = 'Management' ");

// empty array initialized
$imagerow = Array();

// while there are results of the executed mysql query
while ( $row = mysql_fetch_assoc($images) )
{
    // create a new element in $imagerow array and put url of the image there
    $imagerow[] = $row['URL'];
}

// output first element of the array we have just filled
echo $imagerow[0] ; 
```

# python - Python在找到特定字符串时从文件中提取数据

> ID：15354441
> 
> 赞同：0
> 
> 时间：2013-03-12T06:06:52.937
> 
> 标签：python

每当找到 PUT_LOG 标记时，我都试图从 PUT_LOG 标记中提取 (LOG_LEVEL_DEBUG, CAPTIVE_RECVD_SIGCHLD) 我只想提取其中的信息并将其放入另一个文件中。

请找到要从中提取信息的代码片段...

```
PUT_LOG(LOG_LEVEL_DEBUG, CAPTIVE_EXECUTE_CMD,1,STRING, cmd);
PUT_LOG(LOG_LEVEL_DEBUG, CAPTIVE_EXECUTE_CMD,1,STRING, cmd);
PUT_LOG(LOG_LEVEL_DEBUG_ERR, CAPTIVE_EXECUTE_CMD_FAILED,1, STRING, cmd);
enter code here

my out put should be like this 

LOG_LEVEL_DEBUG
CAPTIVE_EXECUTE_CMD
LOG_LEVEL_DEBUG_ERR
CAPTIVE_EXECUTE_CMD_FAILED 
```

我已经写了这样的代码..你能修改并给我确切的代码吗

```
#!/usr/bin/env python

inFile = open("data.c")
outFile = open("result.txt", "w")

buffer = []
keepCurrentSet = True
for line in inFile:
    buffer.append(line)
    if line.startswith("PUT_LOG"):
        #---- starts a new data set
        if keepCurrentSet:
            outFile.write("".join(buffer))
        #now reset our state
        keepCurrentSet = False
        buffer = []
    elif line.startswith("LOG_LEVEL_DEBUG"):
        keepCurrentSet = True
inFile.close()
outFile.close() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:28:36.397

使用 input-file`file_in`和 output-file以及从作为参数给出的源文件中提取的字符串`file_out`列表，将找到，对于 in 中的任何行，无论中间包含的括号，交叉检查它与列表接受的字符串并将其（到新行）附加到：`strings_to_filter``extract_lines(file_in, file_out, strings_to_filter)``file_in``PUT_LOG(...);``strings_to_filter``out.txt`

```
import os
import re

def extract_lines(file_in, file_out, strings_to_filter):
    with open(file_in) as f_in, open(file_out, "a+") as f_out:
        for line in f_in:
            res = re.search("(PUT_LOG\()(.*)(\)\;)", line)
            if res is not None:
                i = 0
                for segment in res.group(2).split(","):
                    segment = segment.strip()
                    if segment in strings_to_filter and i < 2:
                        print(segment, file=f_out)
                        i += 1

extract_lines(
                  os.path.realpath("path/to/log_file.txt"),
                  os.path.realpath("path/to/output_file.txt"),
              [
               "CAPTIVE_EXECUTE_CMD",
               "CAPTIVE_EXECUTE_CMD_FAILED",
               "CAPTIVE_RECVD_SIGCHLD",
               "LOG_LEVEL_DEBUG",
               "LOG_LEVEL_DEBUG_ERR"
               ]
              ) 
```

# javascript - 打印功能中未定义的系统

> ID：15354442
> 
> 赞同：0
> 
> 时间：2013-03-12T06:07:06.337
> 
> 标签：javascript

我在打印 div 内容时遇到问题。它正确打印它显示错误，如“sys”未定义..谁能告诉我解决方案，

```
 <div id="mydiv" runat="server" style="display:none;">

        </div> 
```

我的javascript是：

```
 function Print() {

            var PrintDiv = $('#' + '<%= mydiv.ClientID %>').html();

            //var NewWindow = window.open('', '', 'width=500,height=500');
            var NewWindow = window.open('', '_blank', 'location=1,status=1,scrollbars=1,width=1000,height=700');
            NewWindow.document.open("text/html");
            NewWindow.document.write('<html><head><title></title>');
            NewWindow.document.write('<link href="CSS/style.css" rel="stylesheet" type="text/css" />');

            NewWindow.document.write('</head><body  onload="window.print()">');
            NewWindow.document.write(PrintDiv);
            NewWindow.document.write('</body></html>');

            NewWindow.document.close();

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:12:52.670

嗨打印 div 我正在做以下事情，希望你能找到解决方案

```
function printdiv(strid, rptName) {

    var prtContent = document.getElementById(strid);

    // Intial header
    var html = '<html>\n<head>\n';
    html += '<title>' + 'Name of your project : ' + rptName + '</title>';

    // Get value for header for Telerik stylesheet
    if (document.getElementsByTagName != null) {
        var headTags = document.getElementsByTagName("head");
        if (headTags.length > 0) 
            html += headTags[0].innerHTML;
    }
    html += ' <title>' + 'Name of your project-' + rptName + ' </title>';

    // End the header and open body
    html += '\n</head>\n<body>\n';

    if (prtContent != null) { // Get all html 
        html += document.getElementById(strid).innerHTML;
    }
    else {
        alert("Could not find the print div");
        return;
    }

    //End the body and html
    html += "\n</body></html>";

    // Opem new wind
    var WinPrint = window.open('', '', 'letf=10,top=10,width="450",height="250",toolbar=1,scrollbars=1,status=0');

    WinPrint.document.write(html);
    WinPrint.document.close();
    WinPrint.focus();
    WinPrint.print();
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:22:56.120

我认为只有一个语句会改变你的代码，

```
 var PrintDiv = $('#' + '<%= mydiv.ClientID %>').innerHtml(); 
```

如果您将 HTML 称为 div 样式 >> display none 正在调用，

用代码检查

```
 alert(PrintDiv); 
```

如果这是返回值，那么它将打印。

我希望这个能帮上忙 ：）

# perl - 如何使用 perl 在我的电子邮件中发送 html 内容

> ID：15354448
> 
> 赞同：0
> 
> 时间：2013-03-12T06:07:27.350
> 
> 标签：perl

我是 Perl 的新手。

我正在使用以下 perl 代码发送邮件。

它工作正常。

但是我怎样才能在其中包含 html 内容呢？

```
use strict;
use warnings;

use Email::Sender::Simple qw(sendmail);
use Email::Sender::Transport::SMTP ();
use Email::Simple ();
use Email::Simple::Creator ();

my $smtpserver = 'xxxx.xx.x.x.';
my $smtpport = 25;
my $smtpuser   = 'test@test.com';
my $smtppassword = 'xxxxx';

my $transport = Email::Sender::Transport::SMTP->new({
  host => $smtpserver,
  port => $smtpport,
  sasl_username => $smtpuser,
  sasl_password => $smtppassword,
});

my $email = Email::Simple->create(
  header => [
    To      => 'xxx@xxxx.com',
    From    => 'test@test.com',
    Subject => 'Hi!'

  ],
  body => "<table><tr><td>try</td></tr></table>",
);

sendmail($email, { transport => $transport });
print "Success \n";
1; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T13:54:59.160

使用 Email::* 命名空间中的模块的乐趣在于它们可以很好地协同工作。目前您正在使用 Email::Simple 创建电子邮件并使用 Email::Sender 发送它。但现在您不再想创建简单的电子邮件，而是想创建更复杂的电子邮件。像这样发送复杂电子邮件的格式是[MIME](http://en.wikipedia.org/wiki/MIME)。因此，您应该在 Email::MIME 命名空间中寻找可以代替 Email::Simple 的东西。[Email::MIME::CreateHTML](https://metacpan.org/module/Email%3a%3aMIME%3a%3aCreateHTML)看起来正是您想要的。

来自剧情简介：

```
use Email::MIME::CreateHTML;
my $email = Email::MIME->create_html(
        header => [
                From => 'my@address',
                To => 'your@address',
                Subject => 'Here is the information you requested',
        ],
        body => $html,
        text_body => $plain_text
);

use Email::Send;
my $sender = Email::Send->new({mailer => 'SMTP'});
$sender->mailer_args([Host => 'smtp.example.com']);
$sender->send($email); 
```

看起来这很简单，可以转换为您的使用情况。

# javascript - 使用 Youtube 和非 Youtube 链接进行正则表达式 URL 解析

> ID：15354449
> 
> 赞同：0
> 
> 时间：2013-03-12T06:07:30.630
> 
> 标签：javascript, regex, parsing, url, youtube

嗨，我今天的问题是使用正则表达式来解析 url。我想首先将任何 youtube url 转换为嵌入式视频，然后将剩余的 url（只是常规链接）转换为 href 链接。我已经让这两个工作正常了，我的问题是在我转换了 youtube url 之后，第二个正则表达式替换会弄乱 youtube 视频，所以我需要做的是理想地忽略 iframe 标签。我将是第一个承认我在正则表达式方面很糟糕的人，所以我真的很感激一点帮助，我认为对于一个半正则表达式的人来说，这不会太难。

干杯，乔丹

```
<script type="text/javascript">
function linkifyYouTubeURLs() {

    //replaces youtubeurls with iframe
    var re = /https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/ig;
    document.getElementById('CPH_Main_postContent').innerHTML = document.getElementById('CPH_Main_postContent').innerHTML.replace(re, '<br><iframe title="YouTube video player" class="youtube-player" type="text/html" width="425" height="350" src="http://www.youtube.com/embed/$1" frameborder="0"> </iframe><br>');

    //replaces urls with links
    var exp = /(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;
    document.getElementById('CPH_Main_postContent').innerHTML = document.getElementById('CPH_Main_postContent').innerHTML.replace(exp, "<a href='$1'>$1</a>"); 

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:30:11.720

您可能应该一次性完成此操作并使用函数作为替代：

```
<html>
  <head>
    <script type="text/javascript">
<!--
function linkifyURL (match, offset, string)
{
    var re =/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/ig;

    var m = re.exec (match);
    if (m)
    {
        return '<br><iframe title="YouTube video player" class="youtube-player" type="text/html" width="425" height="350" src="http://www.youtube.com/embed/' + m[1] + '" frameborder="0"></iframe><br>';
    }
    else return '<a href="' + match + '">' + match + '</a>';
}

function linkifyYouTubeURLs () 
{
    var element = document.getElementById ('CPH_Main_postContent');

    element.innerHTML = element.innerHTML.replace (/\b(?:https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]/ig, linkifyURL);
}
// -->
    </script>
  </head>
  <body id="CPH_Main_postContent" onload="linkifyYouTubeURLs();">
    <p>This is youtube link: http://www.youtube.com/watch?v=IUcD9YIAqJE</p>
    <p>This is normal link: http://www.google.com/</p>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:30:26.003

如果我的理解是正确的，那么您的问题是第二次替换也替换了 youtube 链接。

为确保仅替换非 youtube 链接，请在第二个正则表达式中使用负前瞻：

```
/(\b(https?|ftp|file):\/\/(?!(?:youtu\.be\/|youtube\.com).*)[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig 
```

负前瞻确保以下部分不匹配 youtu.be/ 或 youtube.com 后跟零个或多个字符

# android - 在 Livecode 中，除了 hdpi 72x 之外，如何包含 Android 启动器图标大小？

> ID：15354451
> 
> 赞同：3
> 
> 时间：2013-03-12T06:07:39.067
> 
> 标签：android, livecode

用 72x 图标编译应用程序后，在不同 dpi 的多个设备上缩放使图标显得有些模糊。我有不同大小的图标（xhdpi 96x、mdpi 48x 和 ldpi 36x），但还没有找到如何包含它们或找到确认是否可能。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T10:14:51.963

目前 LiveCode 中的独立构建器不支持这一点。我已将其作为功能请求添加到质量控制中心。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:46:57.683

这是一个完整的猜测，但目前没有在构建过程中弄乱 apk 的钩子，因此您可能需要解压缩它并将您的图标放在正确的文件夹中 drawable-hdpi 等，然后重新压缩并[退出](https://stackoverflow.com/questions/7119839/re-sign-an-android-apk)

# c++ - 为什么这个 C++ 链表程序会终止？

> ID：15354453
> 
> 赞同：0
> 
> 时间：2013-03-12T06:07:51.897
> 
> 标签：c++, linked-list

**总结报告**

感谢所有有用的反馈。`cin.clear()`很有帮助；关于设置`next`为 NULL 的评论也是如此。但是最后一个问题（正如评论中所诊断的）是我`Ctrl+D`用来逃避，并且`cin >> k`没有正确处理这个问题。当我添加`k > 0`到 while 条件（参见更新的代码）并用负数转义时，一切都开始工作了。

* * *

我讨厌发布大量代码，但我认为我不能进一步修剪它。关键是我的程序在第一次复飞时有效，但不是第二次。（跳到`main`看看我的意思。）

```
#include <iostream>
using namespace std;

struct ListNode {
  int data;
  ListNode* next;
};

void print_list(ListNode* node) {
  cout << node->data << endl;
  while ((node = node->next) != NULL) {
    cout << node->data << endl;
  }
}

ListNode* read_list() {
  ListNode *head, *tail;
  int k;

  head = NULL;
  while ((cin >> k) && k > 0) {
       if (head == NULL) {
          head = tail = new ListNode;
       } else {
          tail->next = new ListNode;
          tail = tail->next;
       }
       tail->data = k;
       tail->next = NULL;
  }
  return head;
}

int main() {
  ListNode *list1, *list2;

  list1 = read_list();
  print_list(list1);    // Works

  list2 = read_list();
  print_list(list2);    // Does not work!

  return 0;
} 
```

然后是输出：

```
Press ENTER or type command to continue
1
3
5
7
List1
1
3
5
7
List2

Command terminated 
```

你看到它在打印之前是如何终止的`List2`吗？（前四行来自标准输入。请参阅`main`。）这里出了什么问题？我不明白为什么相同的逻辑第一次会起作用，但第二次不会。

也许是因为我没有为第一个链表释放内存？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:10:52.013

此代码存在多个问题。

1.  您忘记设置`next`为`NULL`最后一个元素。这将导致任何非空列表崩溃。

2.  `std::cin.clear()`在再次阅读之前，您需要。EOF 标志是“粘性的”。

3.  该`print_list()`函数不处理空列表。这对于任何空列表都会崩溃。

这些问题中的任何一个都会导致您的程序终止或崩溃，因此您必须修复所有这些问题。请注意一个错误如何导致程序在空列表中崩溃，而另一个错误如何导致非空列表崩溃——在这两者之间，程序对所有列表都崩溃。好吧，如果你幸运的话，至少。如果你不走运，它可能不会崩溃。

以下是可以自动捕获错误 #1 和 #3 的工具列表：

*   GDB（运行`gdb ./a.out`而不是`./a.out`，记得编译`-g`）
*   挡泥板（用 编译`-fmudflap -lmudflap`）
*   Valgrind（运行`valgrind ./a.out`而不是`./a.out`）
*   Clang 静态分析器

因此，您应该至少使用这四种工具中的一种。我喜欢在同一个项目中使用所有四个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:24:15.730

**您应该在第一个 read_list() 之后调用 cin.clear() 。** [原因可以在这里找到](https://stackoverflow.com/questions/5131647/why-would-we-call-cin-clear-and-cin-ignore-after-reading-input)。

以下代码运行良好：

```
#include <iostream>                                                                                                                    
using namespace std;

struct ListNode {
  int data;
  ListNode* next;
};

void print_list(ListNode* node) {
  cout << node->data << endl;
  while ((node = node->next) != NULL) {
    cout << node->data << endl;
  }
}

ListNode* read_list() {
  ListNode *head, *tail;
  int k;

  head = NULL;
  while (cin >> k) {
       if (head == NULL) {
          head = tail = new ListNode;
       } else {
          tail->next = new ListNode;
          tail = tail->next;
       }
       tail->data = k;
       tail->next = NULL;
  }
  return head;
}

int main() {
  ListNode *list1, *list2;

  list1 = read_list();
  print_list(list1);
  cin.clear(); // ADD this line 

  list2 = read_list();
  print_list(list2);

  return 0;
} 
```

该问题是由第二个 read_list() 函数调用中的*cin引起的。*第一个 read_list()，print_list() 效果很好。

但是，根据调试器，从*read_list()返回后没有创建**ListNode*，list2 为*0x0*，即*NULL*，导致第二次*print_list()*分段错误。

 ***第二个 read_list 返回 NULL 的原因是因为 while 循环没有运行。声明*cin >> k* 的值为*false*。

## 此外

上面的答案是*错误*的。如果像下面这样简单地修改 read_list 函数，问题仍然存在。

```
ListNode* read_list() {
  ListNode *head, *tail;
  int k;

  head = NULL;
  while (cin >> k) {
       if (head == NULL) {
          head = tail = new ListNode;
       } else {
          tail->next = new ListNode;
          tail = tail->next;
       }
       tail->data = k;
       tail->next = NULL;
  }
  return head;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:27:19.713

修改打印列表的方式：

```
void print_list(ListNode* node)
{
    while (node)
    {
        cout << node->data << endl;
        node = node->next;
    }
} 
```

`cin`在第二个之前重置`read_list`：

```
cin.clear();
cin.ignore(numeric_limits<streamsize>::max(), '\n'); 
```

程序崩溃会解决。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:23:55.447

```
head = NULL;
while (cin >> k) {
   if (head == NULL) {
      head = tail = new ListNode;
   } else { 
```

我希望你能看到问题。首先将 head 设置为 null，然后检查它是否为 null。

尝试这样的事情：

```
ListNode* readList(ListNode* head)
{
    int data;
    cin >> data;

    ListNode* nNode = new ListNode;
    nNode->data = data;
    nNode->next = 0;

    if (head == null)
    {
        head = nNode;
    }
    else
    {
        ListNode* tail = head;
        while (tail->next != 0)
        {
            tail = tail->next;
        }
        tail->next = nNode;
    }

    return head;
} 
```

或者类似的东西。自从我上次创建链表以来已经有一段时间了。***

# ios5 - 地图中未显示用户位置

> ID：15354455
> 
> 赞同：0
> 
> 时间：2013-03-12T06:08:01.847
> 
> 标签：ios5, mkmapview, mapkit, cllocationmanager

我需要用蓝点圆圈在地图中显示用户当前位置。我使用了 CLLocationManager。但地图视图只显示。我发送了自定义纬度，经度。但是这个纬度，经度不能显示在地图上。

代码：

```
- (void)viewDidLoad
{
    UIView *vc=[[UIView alloc]initWithFrame:CGRectMake(0, 0, 320, 480)];

    [self.view addSubview:vc];
    MKMapView *map = [[MKMapView alloc] init]; 
    map.frame = CGRectMake(0, 0, 320, 480);

    map.showsUserLocation=YES;
  [self.view addSubview:map];
locationManager = [[CLLocationManager alloc] init];
    locationManager.delegate = self;
    locationManager.distanceFilter = kCLDistanceFilterNone;
    locationManager.desiredAccuracy = kCLLocationAccuracyBest;

    [locationManager startUpdatingLocation];

    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {
   // NSLog(@"OldLocation %f %f", oldLocation.coordinate.latitude, oldLocation.coordinate.longitude);
   // NSLog(@"NewLocation %f %f", newLocation.coordinate.latitude, newLocation.coordinate.longitude);

    CLLocationCoordinate2D loc = [newLocation coordinate];

    NSLog(@"current longitude = %f  ,   current latitude = %f",loc.longitude,loc.latitude);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T22:22:56.217

使用 InterfaceBuilder，将地图视图拖放到屏幕上，勾选显示用户位置旁边的框。

此外，您不需要位置管理器来显示用户位置，地图视图会处理这些。

# jboss - 为 Jboss Seam 邮件配置故障转移

> ID：15354462
> 
> 赞同：0
> 
> 时间：2013-03-12T06:08:47.500
> 
> 标签：jboss, jakarta-mail, failover, seam3

我需要实现故障转移功能以使用 jboss seam 发送邮件。我尝试在 mail-service.xml 中配置两个 JNDIName。但我不知道如何在代码中设置第二个 JNDI 名称。另外，我不知道如何在代码中设置 smtp 主机。我的代码：

```
@Name("emailService")  
@AutoCreate  
public class EmailService {  
private static final Log logger = LogFactory.getLog(EmailService.class);  

@In(create = true)  
private Renderer renderer;  

@Asynchronous  
public void sendMessage(@Duration long delay, String template,  
        Object infoNeededForTemplate) {  
    MailSession mailSession = new MailSession();  
    try {  
        Contexts.getEventContext().set("currentMail", infoNeededForTemplate);  
        renderer.render(template);  
        logger.info("Email send to " + ((Mail) infoNeededForTemplate).getToEmail());  
    } catch (Exception e) {  
        logger.error("Error while sending mail: Message = " + e.getMessage());  
        try {  
            renderer.render(template);  
            logger.info("Email send to " + ((Mail) infoNeededForTemplate).getToEmail());  
        } catch (Exception e1) {  
            logger.error("Error while sending mail: Message = " + e1.getMessage());  
        }  
    }  
} 
```

}

我的邮件服务.xml：

```
<?xml version="1.0" encoding="UTF-8"?>  
<server>  
<mbean code="org.jboss.mail.MailService" name="jboss:service=Mail">  
    <attribute name="JNDIName">java:/Mail</attribute>  
    <attribute name="User">nobody</attribute>  
    <attribute name="Password">password</attribute>  
    <attribute name="Configuration">  
    <!-- A test configuration -->  
    <configuration>  
    <!-- Change to your mail server prototocol -->  
    <property name="mail.store.protocol" value="pop3"/>  
    <property name="mail.transport.protocol" value="smtp"/>  

    <!-- Change to the user who will receive mail  -->  
    <property name="mail.user" value="nobody"/>  

    <!-- Change to the mail server  -->  
    <property name="mail.pop3.host" value="pop3.nosuchhost.nosuchdomain.com"/>  

    <!-- Change to the SMTP gateway server -->  
    <property name="mail.smtp.host" value="HOST_1"/>  

    <!-- The mail server port -->  
    <property name="mail.smtp.port" value="25"/>  

    <!-- Change to the address mail will be from  -->  
    <property name="mail.from" value="nobody@abc.com"/>  

    <!-- Enable debugging output from the javamail classes -->  
    <property name="mail.debug" value="true"/>  
    <property name="mail.smtp.auth" value="false"/>  
    <property name="mail.smtp.starttls.enable" value="false"/>  
  </configuration>  
</attribute>  
<depends>jboss:service=Naming</depends>  
</mbean>  

<mbean code="org.jboss.mail.MailService" name="jboss:service=Mail">  
<attribute name="JNDIName">java:/Mail1</attribute>  
<attribute name="User">nobody</attribute>  
<attribute name="Password">password</attribute>  
<attribute name="Configuration">  
  <!-- A test configuration -->  
  <configuration>  
    <!-- Change to your mail server prototocol -->  
    <property name="mail.store.protocol" value="pop3"/>  
    <property name="mail.transport.protocol" value="smtp"/>  

    <!-- Change to the user who will receive mail  -->  
    <property name="mail.user" value="nobody"/>  

    <!-- Change to the mail server  -->  
    <property name="mail.pop3.host" value="pop3.nosuchhost.nosuchdomain.com"/>  

    <!-- Change to the SMTP gateway server -->  
    <property name="mail.smtp.host" value="HOST_2"/>  

    <!-- The mail server port -->  
    <property name="mail.smtp.port" value="25"/>  

    <!-- Change to the address mail will be from  -->  
    <property name="mail.from" value="nobody@abc.com"/>  

    <!-- Enable debugging output from the javamail classes -->  
    <property name="mail.debug" value="true"/>  
    <property name="mail.smtp.auth" value="false"/>  
    <property name="mail.smtp.starttls.enable" value="false"/>  

  </configuration>  
</attribute>  
<depends>jboss:service=Naming</depends>  
</mbean>  
</server> 
```

您能否帮助我了解如何配置和使用两个 JNDI 或即时设置 SMTP 主机服务器以发送邮件？提前非常感谢。

问候， 索拉布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T20:57:05.203

您可以在 Transport.connect 方法中明确指定主机名；有关详细信息，请参阅 javadocs。

# android - 带有单选按钮的自定义 ListView 复选框？

> ID：15354463
> 
> 赞同：0
> 
> 时间：2013-03-12T06:08:49.520
> 
> 标签：android

我调用了 Web 服务并获得了结果 Option_type`Check box`和 Option_type`Radio Button`然后我还使用了**自定义列表视图**和**基本适配器**。

**但是复选框意味着应该有多个检查但单选按钮只有一个选定的选项。**

如何在基适配器类获取视图方法中实现编码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:06:08.550

我认为这可以帮助你。只需将粘贴代码复制到四个不同的文件中。两个是xml，两个是java，然后你可以直接运行项目。

[如何在填充的列表视图中为每个联系人链接一个复选框？](https://stackoverflow.com/questions/10544821/how-do-i-link-a-checkbox-for-every-contact-in-populated-listview/10545729#10545729)

# php - PHP：如何将部分 png 文件设置为透明？

> ID：15354464
> 
> 赞同：1
> 
> 时间：2013-03-12T06:08:51.973
> 
> 标签：php, png, transparent, gd2

我有 png 文件，我想让这个图像（矩形）的某些部分是透明的。

例如这样的：

伪代码：

```
<?php
$path = 'c:\img.png';
set_image_area_transparent($path, $x, $y, $width, $height);
?> 
```

其中 x, y, $width, $height 定义图像中的矩形，应该设置为透明。

是否可以在 PHP 中使用某些库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:23:18.663

是的，有可能。您可以在图像中定义一个区域，用一种颜色填充它，然后将该颜色设置为透明。[它需要GD 库](http://www.php.net/manual/en/image.installation.php)的可用性。该命令的相应[手册](http://php.net/manual/en/function.imagecolortransparent.php)在示例中有此代码：

```
<?php
// Create a 55x30 image
$im = imagecreatetruecolor(55, 30);
$red = imagecolorallocate($im, 255, 0, 0);
$black = imagecolorallocate($im, 0, 0, 0);

// Make the background transparent
imagecolortransparent($im, $black);

// Draw a red rectangle
imagefilledrectangle($im, 4, 4, 50, 25, $red);

// Save the image
imagepng($im, './imagecolortransparent.png');
imagedestroy($im);
?> 
```

[在您的情况下，您将使用相应的功能](http://www.php.net/manual/en/function.imagecreatefromjpeg.php)拍摄现有图像。生成的资源将是上面示例中的 $im，然后您将分配一种颜色，将其设置为透明并像上面一样绘制矩形，然后保存图像：

```
<?php
// get the image form the filesystem
$im = imagecreatefromjpeg($imgname);
// let's assume there is no red in the image, so lets take that one
$red = imagecolorallocate($im, 255, 0, 0);

// Make the red color transparent
imagecolortransparent($im, $red);

// Draw a red rectangle in the image
imagefilledrectangle($im, 4, 4, 50, 25, $red);

// Save the image
imagepng($im, './imagecolortransparent.png');
imagedestroy($im);
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:17:44.270

首先，您需要为您的图像设置 alpha 通道： [http://www.php.net/manual/en/function.imagealphablending.php](http://www.php.net/manual/en/function.imagealphablending.php) [http://www.php.net/manual/en/function.imagesavealpha.php](http://www.php.net/manual/en/function.imagesavealpha.php)

其次，您需要为透明区域中的所有像素设置透明颜色： [http ://www.php.net/manual/en/function.imagecolorset.php](http://www.php.net/manual/en/function.imagecolorset.php)

# eclipse - MacOS 上的 Eclipse 快捷方式

> ID：15354468
> 
> 赞同：2
> 
> 时间：2013-03-12T06:09:12.950
> 
> 标签：eclipse, macos, shortcut

请教我一些捷径

1.  与上方或下方换行

2.  重命名具有相同名称的变量一致（在 Windows Eclipse 上是 Alt+Shift+R）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T06:14:41.507

看看这个mac os 上 eclipse 的[备忘单](http://isagoksu.com/2009/development/developer-tools/dislikes/eclipse/osx-keyboard-binding-cheat-sheet/)。**只需在谷歌上搜索eclipse 快捷方式 mac 备忘单**就很容易找到;-) （所以不要犹豫使用谷歌）

# stream - Jwplayer Stream 不再工作

> ID：15354471
> 
> 赞同：1
> 
> 时间：2013-03-12T06:09:26.217
> 
> 标签：stream, jwplayer

此流停止工作，现在我收到“连接失败”错误。非常感谢您的帮助，这是代码：

```
<script type="text/javascript" src="http://www.tvradiogratis.com/canal/swfobject.js">     </script>

<div id="jwplayer1" style="position: absolute; overflow: hidden; left: 0px; top: 0px; width: 375px; height: 273px; z-index: 0;"></div> 
<script type="text/javascript"> 
                var so = new SWFObject('http://streamtv.gangahosting.com/player.swf', 'mpl', '375', '273', '9');
                so.addParam('allowscriptaccess', 'always');
                so.addParam('allowfullscreen', 'true');
                so.addParam('wmode','opaque');                      
                so.addVariable('logo', 'http://streamtv.gangahosting.com/img/logoplayer.png');
                so.addVariable('dock','false');
                so.addVariable('autostart', 'true');
                so.addVariable('abouttext', 'Player By GangaHosting.com');
                so.addVariable('aboutlink', 'http://streamtv.tvradiogratis.com/');
                so.addVariable('width', '375');
                so.addVariable('height', '273');
                so.addVariable('file', 'tvradiogratis-520533329');                    
                so.addVariable('logo.hide','false');
                so.addVariable('backcolor','cfe2f3');
                so.addVariable('frontcolor','000000');
                so.addVariable('screencolor','000000');
                so.addVariable('logo.link','http://streamtv.tvradiogratis.com/ver.php?id=-520533329');
                so.addVariable('logo.position','top-left');
                so.addVariable('stretching','exactfit');                 
                so.addVariable('streamer', 'rtmp://streamtv.tvradiogratis.com/tvradiogratis');
                so.addVariable('provider', 'rtmp');
                so.addVariable('controlbar','over');
                so.addVariable('quality','best');

                so.write('jwplayer1');
            </script> 
```

谢谢！！

# coronasdk - 如何在android中控制物理对象？

> ID：15354473
> 
> 赞同：0
> 
> 时间：2013-03-12T06:09:33.370
> 
> 标签：coronasdk

在我的游戏中，我使用了 1000 多个物理对象。它将在 iPhone 和 ipad 中运行。但是 Andorid 非常慢。请帮助我，我在网络中搜索了解决方案，但不能。在运行时我正在创建 800 多个物理对象。我正在创建熔岩流，因此使用运行时侦听器创建多个看起来像熔岩流的对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T13:54:04.947

您可以尝试预加载您将使用的所有图像。当你需要删除它们时，只需将它们从 pysics 中删除

```
physics.removeBody( target ) 
```

并将它们的 alpha 值设置为 0。因此，当您再次需要它们时，您可以将它们读入物理并再次将 alpha 设置为 1。

您在评论中提到，我认为这将有助于您解决负载问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T10:42:59.053

为什么要创建这么多对象？你在什么类型的设备上测试这个？我不认为电晕会在设备上处理这个问题。

# linux - 显示数字 shell 脚本

> ID：15354478
> 
> 赞同：0
> 
> 时间：2013-03-12T06:09:56.433
> 
> 标签：linux, shell

我是 linux 中 shell 脚本的新手，我希望能够从用户那里获取任何 3 个数字并按升序显示它们。我设法按降序而不是升序得到它。

谁能告诉我必须对代码进行哪些更改？另外，如果我这样做效率低下，请告诉我。我正在尝试尽可能多地学习。

谢谢！

```
#!/bin/bash                                                                                                                                                                                                                                                                   
#Accepts 3 numbers and displays the number in ascending order                                                                                                                                                                                                                 

echo "Enter the first number"
read num1
echo "Enter the second number"
read num2
echo "Enter the third number"
read num3

allNumbers="$num1 $num2 $num3"

echo $allNumbers|tr " " "\n"|sort|tr "\n" " " 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:14:28.623

对于数字排序，您应该使用`sort -n`. 对于下降，使用`sort -nr`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:19:56.973

```
echo $(printf "%s\n" $num1 $num2 $num3 | sort -n) 
```

该`printf`命令将输出分成 3 行；`sort -n`按数字升序排序；将`echo $(...)`sort 的输出展平到单行上。

# java - 如何在 web.xml 中添加应用程序上下文

> ID：15354480
> 
> 赞同：2
> 
> 时间：2013-03-12T06:10:03.323
> 
> 标签：java, spring, web.xml, applicationcontext

如何将我的测试资源文件夹中的 applicationcontext.xml 添加到 web.xml。我试过这个

```
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/test/resources/com/reg/applicationcontext.xml</param-value>
</context-param>

<listener>
   <listener-class>
       org.springframework.web.context.ContextLoaderListener
   </listener-class>
</listener> 
```

我运行`mvn war:war`命令并在 apache 中部署 war 文件。但它显示错误。

```
Mar 12, 2013 11:31:07 AM org.apache.catalina.core.StandardContext startInternal
SEVERE: Error listenerStart
Mar 12, 2013 11:31:07 AM org.apache.catalina.core.StandardContext startInternal
SEVERE: Context [/myapp] startup failed due to previous errors 
```

谁能帮我？谢谢

本地主机。

```
Mar 12, 2013 11:19:57 AM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Skipped installing application listeners due to previous error(s)
Mar 12, 2013 11:31:07 AM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Error configuring application listener of class org.springframework.web.context.ContextLoaderListener
java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1713)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1558)
    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)
    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)
    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4733)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5291)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)
    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1655)
    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)

Mar 12, 2013 11:31:07 AM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Skipped installing application listeners due to previous error(s) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:22:42.873

您将 applicationContext.xml 放在测试目录中吗？这是一个巨大的错误。因为你使用 mvn，你应该把它放在 main->resource 目录中，因为当你使用时`mvn war:war`，它不会收集测试目录中的文件。然后把下面的web.xml

```
 <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>
           classpath:**the sub dir in you resource which the config xml is in** /applicationContext.xml
        </param-value>
    </context-param> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T06:30:30.507

你`spring-web.jar`在你的类路径中丢失了。

尝试将其添加到您的 Maven 配置中：

```
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-web</artifactId>
    <type>jar</type>
    <scope>compile</scope>
</dependency> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T06:27:41.060

这是简单的 web xml 文件。参考它并根据您的需要更改路径。

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

<!-- The definition of the Root Spring Container shared by all Servlets and Filters -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/spring/root-context.xml</param-value>
</context-param>

<!-- Creates the Spring Container shared by all Servlets and Filters -->
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<!-- Processes application requests -->
<servlet>
    <servlet-name>appServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>appServlet</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

编辑：您的应用程序似乎也缺少 spring-web jar。确保你在类路径中有它。

```
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-web</artifactId>
    <version>${your_spring_vserion}</version>
</dependency> 
```

# ios - 使用简明形式的 NSManagedObjectID URI？

> ID：15354485
> 
> 赞同：14
> 
> 时间：2013-03-12T06:10:29.050
> 
> 标签：ios, objective-c, core-data

在我的应用程序中，我将 Core Data 与一个不使用 Core Data 的附加 sqlite 数据库一起使用。在这个额外的数据库中，我有`NSManagedObject`通过每个实例的`NSManagedObjectID`.

我得到一个实例`objectId`作为存储的字符串，如下所示：

```
instance.objectID.URIRepresentation.absoluteString 
```

这导致字符串看起来像：

```
x-coredata://EE13EA1E-D5F4-4E38-986D-3F4B0B03AEE4/ClassName/p658 
```

我以后可以使用它来获取这样的`NSManagedObject`实例：

```
[persistentStoreCoordinator managedObjectIDForURIRepresentation:[NSURL URLWithString:uriString]]; 
```

由于这些 URI 字符串很冗长并且包含冗余信息，我想只保存每个字符串的独特方面，以节省数据库中的空间并提高查询性能。所以在上面的例子中，只是 '658' 而不是整个 URI 字符串。

所以第一个问题是：什么是提取唯一尾部的好方法`NSManagedObjectID`？其次，一旦我存储了它，我以后如何使用它来获取实例？

我想避免字符串操作，因为这感觉很恶心，但如果这是唯一的方法，我会考虑它。我唯一的困惑是上面示例中的“EE13EA1E-D5F4-4E38-986D-3F4B0B03AEE4”部分来自哪里。我如何访问该值以重建有效的 URI？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-12T07:43:19.103

您可以尝试在包含大量数据的属性上设置“允许外部存储”标志，看看这是否消除了对单独的、直接管理的数据库的需要。

否则，`URIRepresentation`返回一个`NSURL`，因此不需要“讨厌的”字符串操作。只需使用`NSURL`方法。;^) 下面是你如何分解它：

```
NSURL *instanceURL = instance.objectID.URIRepresentation;
NSURL *classURL = [instanceURL URLByDeletingLastPathComponent];
NSString *classString = [classURL absoluteString];
NSString *instanceId = [instanceURL lastPathComponent]; 
```

以下是您稍后将其重新组合在一起的方式：

```
NSURL *reconstructedClassURL = [NSURL URLWithString:classString];
NSURL *reconstructedInstanceURL = [reconstructedClassURL
    URLByAppendingPathComponent:instanceId];
NSManagedObjectID *objectID = [moc.persistentStoreCoordinator
    managedObjectIDForURIRepresentation:reconstructedInstanceURL];
NSManagedObject *reconstructedInstance = [moc objectWithID:objectID]; 
```

请注意，由于它`URIRepresentation`被记录为“可归档的”，因此从 Core Data 提供给您的组件中重新构建一个并没有什么坏处。Core Data 不知道您将其拆开并重新组合在一起。

`URIRepresentation`但是，只要`managedObjectIDForURIRepresentation:`继续接受旧格式，Apple 就可以在未来更改返回的格式。这意味着上面分解的代码`URIRepresentation` *可能*有一天会停止工作。

# assembly - 如何使用 Clang 在 C 程序中嵌入 LLVM 程序集或内在函数？

> ID：15354488
> 
> 赞同：15
> 
> 时间：2013-03-12T06:10:46.897
> 
> 标签：assembly, llvm, clang, embedding

C 编译器允许在 C 程序中嵌入汇编代码。

我很确定 Clang 应该允许在 C 程序中嵌入 LLVM 程序集或内部代码。如何在 C 代码中嵌入 LLVM 程序集？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T07:58:11.880

现在你不能。

但是，您可以在自己的文件中单独编写 LLVM 汇编函数，将其标记为`alwaysinline`，然后将其与其余文件一起编译 - 这应该会得到相同的结果。请参阅[有关如何首先将 C 文件编译为 IR 然后将它们链接在一起的相关问题](https://stackoverflow.com/questions/11778471/how-can-i-do-llvm-link-time-optimization)。

您甚至可以单独编译文件并确保执行[链接时优化（LTO）](http://llvm.org/docs/LinkTimeOptimization.html)，应该做同样的事情。

# mongodb - 单服务器持久性是什么意思？

> ID：15354489
> 
> 赞同：1
> 
> 时间：2013-03-12T06:10:51.577
> 
> 标签：mongodb, durability, nosql

有人可以详细解释单服务器耐久性吗？我在浏览 MongoDB 概念时遇到了它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-12T08:11:27.060

更具体地说，完整的单服务器持久性是 ACID 范例的一部分；耐久性（[http://en.wikipedia.org/wiki/ACID#Durability](http://en.wikipedia.org/wiki/ACID#Durability)）。

它要求如果服务器出现故障，在单个服务器环境中，它不会丢失数据或损坏。

由于延迟写入日志和磁盘的性质，MongoDB 仅部分遵守 ACID 持久性规则。即使这个窗口很小（如 60 毫秒），在单个服务器环境中仍有可能丢失几个操作，除非您要在应用程序中使用日志确认写入。

如果日志确认写入失败，您将能够重播日志，以确保唯一丢失的操作是那些在失败之前无法到达服务器的操作。

如果在没有日志确认写入的情况下发生故障，则可能会在 60 毫秒窗口内丢失所有操作，您只需决定这对您是否意味着什么；在单个服务器环境中，您的站点可能太小而无法关心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:15:15.987

这意味着一个单独的服务器（不是副本集的一部分）至少提供了一些保证以持久的方式保存您的数据。在引入此功能之前，您必须使用副本集来确保如果服务器出现故障，它不会丢失您的数据。

# ios - 我们如何在 iOS 的同一个视图中拥有两个 SplitterView？

> ID：15354491
> 
> 赞同：0
> 
> 时间：2013-03-12T06:10:53.713
> 
> 标签：ios, xcode, ipad

我想在 iPad 的视图中有两个 splitterViews。我想为两个 splitterViews 使用相同的 nib 文件，然后相应地填充它们。

一种方法可能是我有两个单独的 nib 文件，两个视图的根视图控制器，但这会增加冗余。

我什至尝试使用 viewdidload() 中的以下逻辑在两个帧中使用单个拆分器视图，但这不起作用。

```
[splitViewControllerCategory.view setFrame:CGRectMake(0,150, 500, 1024)];

[self.view addSubview:splitViewControllerCategory.view];

[splitViewControllerSortMedia.view setFrame:CGRectMake(500,150, 265, 1024)];

[self.view addSubview:splitViewControllerSortMedia.view]; 
```

任何接近解决方案的建议。

# kineticjs - 关于分层问题的奇怪mousout

> ID：15354492
> 
> 赞同：0
> 
> 时间：2013-03-12T06:10:56.360
> 
> 标签：kineticjs

我遇到了分层问题，我无法弄清楚错误在哪里。我首先将图像加载到与我的舞台大小相同的特定图像层。接下来我将一个圆圈创建为一个单独的圆圈层，使用正确的 imagelayer.add(image)、circlelayer.add(circle)，然后是 stage.add(imagelayer)、stage.add(circlelayer)。这工作正常。现在，如果我尝试添加 mouseover 和 mouseout 事件，比如使用 alert()，我会在 mouseout 事件的 firebug 中收到以下错误。有没有人遇到过类似的问题？谢谢

类型错误：this.targetShape 为空

this.targetShape._handleEvent('mouseleave', evt, shape);

这是我的代码片段：

```
function drawImage(imageObj) {
    var stage = new Kinetic.Stage({
    container: 'container',
    width: 721,
    height: 702 
});

    var imageLayer = new Kinetic.Layer();
    var tagLayer = new Kinetic.Layer();
        var floorImg = new Kinetic.Image({
          image: imageObj,
          x: 0,
          y: 0,
          width: stage.getWidth(),
          height: stage.getHeight()
        });
        imageLayer.add(floorImg);
        var tagImg = new Kinetic.Circle({
            x: 100,
            y: 100,
            radius: 70,
            fill: 'red',
            stroke: 'black',
            strokeWidth: 4
          });
        tagImg.on("mouseout touchend", function(){
        alert("HERE")

        }, false);
        tagLayer.add(tagImg);

        stage.add(imageLayer);
        stage.add(tagLayer);
    }

      var imageObj = new Image();
      imageObj.onload = function() {
        drawImage(this);
      };

imageObj.src = 'layout_good.png'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:14:17.977

范围界定问题。

如果可能，移出`var stage` `var imgLayer` `var tagLayer`drawImage 函数并使其成为全局函数。

# ruby-on-rails - 如何为此显示正确的视图？几乎在我的 Rails 应用程序的末尾

> ID：15354493
> 
> 赞同：0
> 
> 时间：2013-03-12T06:10:57.197
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我在我的观点中使用它来查看它是否有效，并且它是：

```
<%= post.comments if post.comments.present? %> 
```

该代码所做的是提取与帖子相关的评论列表。

它以这种格式显示在我的网页上：

```
[#<Comment id: 12, content: nil, user_id: 9, post_id: 18, created_at: "2013-03-12 04:51:47", updated_at: "2013-03-12 04:51:47", comment_content: "check">, #<Comment id: 13, content: nil, user_id: 9, post_id: 18, created_at: "2013-03-12 04:52:11", updated_at: "2013-03-12 04:52:11", comment_content: "check">] 
```

我觉得我几乎已经有了后端代码，我只需要正确显示视图。

如何`comment_content`以列表格式（如典型评论框）仅显示用户名和给定帖子 ID？我已经按升序使用：

```
default_scope order: 'comments.created_at ASC' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:13:48.470

假设您的用户有一个`name`属性，您将不得不像这样遍历每个评论：

```
<% if post.comments.exists? %>
  <% post.comments.each do |comment| %>
    User: <%= comment.user.name %>
    Comment: <%= comment.comment_content %>
  <% end %>
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:14:41.027

```
<% if post.comments.present? %>
  <table>
    <tr>
     <th>Name</th>
     <th>Content</th>
    </tr>
    <% post.comments.each do |comment| %>
    <tr>
       <td><%= comment.user.name %></td>
       <td><%= comment.comment_content %></td>
    </tr>
    <%end%>
<%end%> 
```

这用于显示您视图中所有评论的用户名和内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:32:06.833

如果你需要显示评论、用户和用户的 Gravatar，请尝试以下操作：

```
<% if post.comments.exists? %>
    <% post.comments.each do |comment| %>
        <%= image_tag("http://www.gravatar.com/avatar.php?gravatar_id=#{Digest::MD5::hexdigest(comment.user.email)}", :alt => 'Avatar', :class => 'avatar') %> <!-- Retrieves Gravatar -->
        <%= comment.user.name %>
        <%= comment.comment_content %>
    <% end %>
<% end %> 
```

这假设您拥有用户的电子邮件，并且用户拥有 Gravatar。

# parse-platform - Parse.com 使用嵌套或相关对象创建

> ID：15354495
> 
> 赞同：1
> 
> 时间：2013-03-12T06:11:19.187
> 
> 标签：parse-platform

有人可以提供一个示例，说明如何通过 RESTApi 为包含其他相关对象集合的对象保存 parse.com 对象？

所以对象 A 包含对象 B 的列表，其中 B 是预先存在的对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-13T09:56:38.490

您可以像这样添加相关对象：

```
{
  "__type": "Pointer",
  "className": "GameScore",
  "objectId": "Ed1nuqPvc"
} 
```

来源：[https ://www.parse.com/docs/rest#objects-types](https://www.parse.com/docs/rest#objects-types)

但是，不建议在单个实例中存储大量数据。

> ...大小不应超过 128 KB。

来源：[https ://www.parse.com/docs/ios_guide#objects-types/iOS](https://www.parse.com/docs/ios_guide#objects-types/iOS)

创建链接表可能会更好，例如，如果“用户”(A) 有许多“帐户/汽车/对象”(B)，则创建一个表`userObject`并使用它来链接其他两个表。

# google-chrome-extension - 创建 Chrome 插件以获取计算机信息

> ID：15354496
> 
> 赞同：0
> 
> 时间：2013-03-12T06:11:24.023
> 
> 标签：google-chrome-extension, firebreath

我正在编写一个非常具体的 Web 应用程序，它将部署在零售环境中的许多桌面上，并且我正在尝试找出一种实现类似终端的许可证结构的方法。客户将购买 X 终端许可证，并且由于应用程序通过 Chrome 运行，因此我正在寻找一种方法来生成机器本地信息的哈希值。

我已经看过几个选项：

1.) Evercookie。我对此并不生气，它在生成和加载时增加了相当长的延迟，而且不是很优雅。我们目前有这个工作。

2.) 设备指纹识别（根据[https://panopticlick.eff.org/browser-uniqueness.pdf](https://panopticlick.eff.org/browser-uniqueness.pdf)），但由于我们将在 AD 控制环境中处理许多终端，因此它们都表示为一个，因为它们具有相同的配置/版本并位于单个 NAT 设备后面。

我的下一个选择是创建一个插件，该插件需要安装才能运行我们的应用程序，它会查看本地计算机并获取一些关键信息字段（如主机名、Mac 地址），这些字段应该比浏览器版本更稳定和屏幕尺寸，并允许通过插件/扩展中的 JavaScript 获取。

所以我的问题是任何人都可以确认这是否可能？如果是这样，弄清楚如何做到这一点的正确方法是什么？我简要了解了 FireBreath ( [http://www.firebreath.org/display/documentation/FireBreath+Home](http://www.firebreath.org/display/documentation/FireBreath+Home) )，但不确定这里的正确路线。

任何建议将不胜感激。

伊恩

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T14:52:01.923

您可以使用 chrome 扩展中的私有 FireBreath 插件来执行此操作；确保它是私有的，因此其他站点等不能使用它来唯一标识计算机。

首先，要做到这一点，您只需使用标准系统 API 来访问您需要的任何信息；FireBreath 插件只是 C++，在 Chrome 中没有什么特别需要担心的，您将拥有与 Chrome 本身相同的访问权限。

我还强烈建议您仅通过插件 API 公开哈希本身，以最大程度地减少隐私问题；您公开的有关计算机的信息越多，某人找到某种方式滥用它的可能性就越大。如果它是扩展内的私有插件，则危险性较小，但仍然值得小心。

# usb - beagleboard 上用于 u-boot 的 DM9601 驱动程序

> ID：15354499
> 
> 赞同：0
> 
> 时间：2013-03-12T06:11:36.220
> 
> 标签：usb, device-driver, beagleboard, u-boot, nic

我正在尝试从我的 Beagleboard 进行 nfs 引导。我的 Davicom Dm9601 没有从 u-boot 中检测到，因此它失败并出现错误“找到 0 个以太网设备”和“远程设备未响应”

我已经开始为此编写设备驱动程序。

1.  dm9601_eth_before_probe
2.  dm9601_eth_probe

通过上述两个功能，它显示“1 Ethernet device found”

1.  dm9601_init

当我尝试编写上述函数时，第一个操作是获取 MAC 地址。我将下面给出的 asix.c 作为参考。我已经编写了 read_cmd 和 write_cmd 函数。但我目前的问题是我正在尝试使用“物理地址寄存器”寄存器来读取 MAC 地址。我对 linux-drivers 的工作方式和 asix.c 的工作方式有点困惑。

任何人都可以帮助我理解相同的内容以及如何在 dm9601 中为 u-boot 实现类似的逻辑。

参考：

1.  [dm9601 的 linux 驱动程序](http://www.linux-arm.org/git?p=linux-2.6-stable.git;a=blob;f=drivers/usb/net/dm9601.c;h=4a932e1cd93bd39622e87715f75464a038154ac8;hb=d0374f4f9c35cdfbee0ade72d06732613b4e6628)

2.  [asix设备的u-boot驱动](http://git.linaro.org/gitweb?p=boot/u-boot-linaro-stable.git;a=blob;f=drivers/usb/eth/asix.c;h=75ec8f78815b39810a68b3448193bc0bc7f19494;hb=b4eb22a60d15240d280785df7948448824d86fe5)

3.  [Davicom DM9601 数据表](http://www.davicom.com.tw/big5/download/Data%20Sheet/DM9601-DS-P01-930914.pdf)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:50:06.153

首先，确保您在配置中启用了 MUSB 主机

有时您需要更多的 USB 重置超时设置

# android - 我如何在android中访问最近收到的短信号码

> ID：15354501
> 
> 赞同：0
> 
> 时间：2013-03-12T06:11:40.720
> 
> 标签：android, android-intent

我正在尝试创建一个应用程序，我只想在其中获取最近收到的短信的发件人信息（电话号码，日期），并且我想向该特定号码发送回复消息。

我试过这个代码，我怎样才能得到最近收到的短信的发件人信息？

```
Bundle bundle = intent.getExtras();
SmsMessage[] msgs = null;
String string = "";
String phone = "";

if (bundle != null)
{
    //---receive the SMS message--
    Object[] pdus = (Object[]) bundle.get("pdus");
    msgs = new SmsMessage[pdus.length];            
    for (int i=0; i<msgs.length; i++){
        msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]); 
        phone = msgs[i].getOriginatingAddress();  // Here you can get the phone number of SMS sender.
        string += msgs[i].getMessageBody().toString(); // Here you can get the message body.
      }
} 
```

有没有办法在不扩展广播接收器的情况下获取消息发送者号码？无论如何要从消息日志中访问？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:59:35.947

以下代码将为您提供收到的短信的号码。

```
 Uri uri = Uri.parse("content://sms/inbox");
    Cursor cursor = getContentResolver().query(uri, null, null, null, null);
    int i =0;
    String[] number = new String[cursor.getCount()];  
    while (cursor.moveToNext()) {
        number[i] = (String) cursor.getString(cursor.getColumnIndex("address")); 
        i++;                         
        }
    } 
```

要获取最近收到的短信数量，您可以访问

```
 String mostRecentNumber = number[0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T08:09:59.453

逐步按照此示例进行操作：

[Android中的短信](http://mobiforge.com/developing/story/sms-messaging-android)

包含接收和回复短信，还包含完整代码！接收短信是通过`Broadcast Receiver`

* * *

> 无论如何在不扩展广播接收器的情况下获取消息发送者号码？无论如何从消息日志中访问？

您可以通过访问现有的短信数据库，`Content Providers`但消息在广播接收器之后到达那里，并且当在 android 数据库中写入新消息时，它会更进一步地“观看”。

* * *

> 如何获取最近收到的短信的发件人信息？

这一行的答案：

```
phone = msgs[i].getOriginatingAddress();  // Here you can get the phone number of SMS sender. 
```

该号码是模拟器上的给定号码或您的网络提供商提供的发件人“号码”，也可以是文本。

# c++ - 这个具体的例子会产生内存泄漏吗？

> ID：15354502
> 
> 赞同：1
> 
> 时间：2013-03-12T06:11:57.270
> 
> 标签：c++

```
class A // blah blah generic abstracty whatever
{
  public:
  A();
  ~A();
};

class B
{
  public:
  B();
  ~B();

  private:
  A* a[8];
};

B::B()
{
  for(int x = 0; x < 8; x++)
  {
    a[x] = new A;
  }
}

B::~B()
{
  for(int x = 0; x < 8; x++)
  {
    delete a[x];
  }
} 
```

我只是好奇上面的代码是否会自行泄漏。是否有任何可能泄漏的情况（除了我没有正确调用删除）？

谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T06:14:39.807

**是**`new`的，如果在构造函数中抛出它是可能的。

然后析构函数将不会运行，并且已经发生的任何分配都不会被释放。

更具体地说：如果在构造函数发生异常之前已经动态分配了任何内存，则会发生内存泄漏，因为对象的析构函数不会运行。

* * *

一个简单的例子：

```
class Leaks
{
private:

    data* d;

public:

    Leaks()
    {
        data = new int;
        throw 1;
    }

    ~Leaks()
    {
        delete data;
    }

}; 
```

这是一个有缺陷的设计。`data`总会漏到这里。你对此无能为力。（数据不会泄漏的唯一情况是`new`失败。）

由于`new`它本身可以抛出，因此您的示例代码能够在一个或多个分配后抛出，从而给您留下泄漏。

有三种方法可以解决这个问题：

*   不要分配内存（在这种情况下，您只需使用向量，但显然有时无法使用动态分配）
*   确保您的构造函数永远不会在任何内存分配之后抛出，或者如果它确实抛出以在抛出之前清理内存。尽管除了最微不足道的构造函数之外，这将产生一些非常讨厌的代码
*   使用智能指针

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:19:42.507

看来代码是正确的。没有泄漏。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T06:14:23.367

没有泄漏。这段代码很好 - 没有泄漏。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T06:15:17.090

那里看不到任何泄漏或潜在泄漏。唯一令人讨厌的一点是硬编码的数组大小。如果要将其更改为动态，则可能需要查看 delete[] 运算符。

# c# - 带有内部和外部联接的 LINQ 查询中的 NotSupportedException

> ID：15354505
> 
> 赞同：0
> 
> 时间：2013-03-12T06:12:19.780
> 
> 标签：c#, linq, entity-framework-4, linq-to-entities

我有以下带有几个内部和外部联接的查询。该查询创建了一个新类，它不是实体框架的一部分，而是一个保存报告数据的类：

```
from T6340 in PayOrders
from T6351 in POrderAccPDocLines.Where(x=> T6340.Id == x.PaymentDocId)
from T6321 in PaymentDocLines.Where(x=> T6351.PaymentDocId == x.PaymentDocId &&  
     T6351.Line ==  x.Line)
from T6125 in ItemBillPDocLines.Where(x =>T6321.PaymentDocId == x.PaymentDocId &&     
     T6321.Line == x.LineId).DefaultIfEmpty(null)
from T6126 in ItemBillStockPDocs.Where(x => T6125.BillId== x.ItemBillId && 
     T6125.PaymentDocId == x.PaymentDocId && T6125.LineId == x.PDocLineId &&  
     T6125.SplitNumber == x.PDocSplitNumber).DefaultIfEmpty(null)
from T6126_A in ItemBillStockPDocs.Where(x => T6125.BillId == x.ItemBillId && 
     T6125.PaymentDocId == x.PaymentDocId && T6125.LineId == x.PDocLineId && 
     T6125.SplitNumber == x.PDocSplitNumber).DefaultIfEmpty(null)
from T6201 in StockTransactions.Where(x => T6126.TransactionId == x.Id && 
     T6126.TransactionSubId == x.SubId).DefaultIfEmpty(null)
where T6125.BillId == billId && T6321.PaymentDoc.Canceled == 0
group new
{
 T6321,T6125,T6351,T6126_A,T6340,T6201
}
by new
{
 T6321_PaymentDocId = T6321.PaymentDocId,
 T6321.Line,
 T6321.CurrencyId,
 T6321.Amount,
 T6125,                                
 T6351.GLAccount,
 T6351.PaymentOrderAmount,
 T6321.PaymentDoc.ReferenceCode,
 T6126_Quantity = T6126_A.Quantity,
 T6126_A.TransactionId,
 T6126_A.TransactionSubId,
 T6351.PaymentOrderId,
 T6340.PayCurrency,
 T6126_A.TransactionSplitNumber
} into grouped
select new PaymentDataStore()
{
    ItemBillPaymentDocLine = grouped.Key.T6125,
    Currency = grouped.Key.CurrencyId,
    Amount = grouped.Key.Amount,
    PaymentDocumentId = grouped.Key.T6321_PaymentDocId,
    Approved = 0,
    Rate = 0,
    MaxExecutionDate = grouped.Max(x=>x.T6201.ExecutionDate),
    GLAccount = grouped.Key.GLAccount,
    PaymentOrderAmount = grouped.Key.PaymentOrderAmount,
    Constant1 = 0,
    ReferenceDocument = grouped.Key.ReferenceCode,
    Quantity = grouped.Key.T6126_Quantity,
    TransactionId = grouped.Key.TransactionId,
    TransactionSubId = grouped.Key.TransactionSubId,
    Constant2 = 0,
    PaymentOrder = grouped.Key.PaymentOrderId,
    PaymentCurrency = grouped.Key.PayCurrency,
    TransationSplitNumber = grouped.Key.TransactionSplitNumber
   }).ToList() 
```

当我执行查询时出现异常：

```
NotSupportedException: Unable to create a constant value of type 
'T6351_POrdAccPDocLine'. Only primitive types ('such as Int32, String, and 
Guid') are supported in this context. 
```

我试图找到异常的原因，但没有运气。

为什么我不断收到异常？

**编辑：**

我将查询的第二行更改为：

```
from T6340 in PayOrders
join T6351 in POrderAccPDocLines on T6340.Id equals T6351.PaymentDocId ... 
```

现在我在 T6321 实体上遇到了同样的异常。我想这就是这样做的方法（将语句转换为使用联接），但我不知道如何使用外部联接（查询中的第 5-6 行）来完成它，因为我没有 DefaultIfEmpty() 选项使用连接时。

我正在敲我的头一会儿。你能帮助我吗？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T13:35:04.737

愿这可以帮助你....

```
from po in payOrders
join pod in POrderAccPDocLines on po.Id equals pod.PaymentDocId
join pdl in PaymentDocLines on new { Id = pod.PaymentDocId, Line = pod.Line } equals  new { Id = pdl.PaymentDocId, Line = pdl.Line }
join ibdl in ItemBillPDocLines on new { Id = pdl.PaymentDocId, Line = pdl.Line } equals  new { Id = ibdl.PaymentDocId, Line = ibdl.Line } into ItemBill  //Outer Join
from ibdl in ItemBill.DefaultIfEmpty() //Outer Join
join....... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:54:57.783

我认为问题出在这里：

```
by new
{
  ...
  T6125,
  ...
} 
```

LINQ to Entities 引擎需要将您的表达式转换为 SQL 语句，如果您在表达式中包含整个对象（而不是原始类型），它就无法做到这一点。

# php - PHP选择数组项的时间百分比？

> ID：15354509
> 
> 赞同：2
> 
> 时间：2013-03-12T06:12:50.867
> 
> 标签：php, arrays

我试图找出一种方法来让特定的数组项在一定百分比的时间内被选中。所以让我们说：

```
$testArray = array('item1', 'item2', 'item3', 'item4', 'item5'); 
```

现在我将如何选择 item1 让我们说 40% 的时间。我知道这可能真的很容易，但今天我似乎无法理解它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:27:25.487

使用这些百分比：

```
$chances = array(40,15,15,15,15); 
```

选择 1 到 100 之间的随机数：

```
$rand = rand(1,100); 
```

并选择相应的数组项：

```
| item1              | item2  | item3  | item4  | item5  |
0                   40       55       70       85       100 
```

```
$ref = 0;
foreach ($chances as $key => $chance) {
    $ref += $chance;
    if ($rand <= $ref) {
        return $testArray[$key];
    }
} 
```

**更通用解决方案的可能改进：**

*   `array_sum()`改为使用`100`
*   确保`$chances`与输入数组具有相同的键（即使用`array_keys`and `array_combine`）

# php - 当我更改模板和其他问题时视图文件不显示（使用 Zend Framework 2）

> ID：15354513
> 
> 赞同：0
> 
> 时间：2013-03-12T06:13:10.363
> 
> 标签：php, zend-framework2

我的控制器文件中有这段代码。

```
public function indexAction() { return new ViewModel(); } 
```

它只显示 index.phtml 其内容只是：

```
<?php echo phpinfo(); 
```

这按预期工作。

我想使用公司自己的外观/样式，所以我复制了默认模板（module\Application\view\layout\layout.phtml）并将文件放入我自己的文件夹中。

我对 2 个模板文件进行了一些更改。在默认模板上，我添加了：

```
<hr>default<hr> 
```

在我的新模板文件中，我添加了：

```
<hr>new<hr> 
```

没有进行其他更改。

然后我将控制器功能更改为：

```
public function indexAction() {
    $viewModel = new ViewModel();
    $viewModel->setTemplate('directory/templates/flinders.phtml');

    return $viewModel;
} 
```

我现在的问题是我的 index.phtml 似乎从未被调用过。phpinfo() 从未像以前那样显示在浏览器上。

而且，浏览器会显示我在默认模板和新模板上添加的文本。我认为使用 setTemplate 函数可以让我覆盖默认模板。所以我认为它应该只显示我对新模板所做的任何更改。**而且即使我删除了新模板的所有内容，我的浏览器仍然会显示默认模板的内容。**

关于如何解决我的问题的任何想法？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:33:43.887

看来我误解了模板和布局的含义。

模板 = 分配给操作的视图文件。indexAction 会自动查找 index.phtml。如果我通过 setTemplate 更改模板，框架将不会查找 index.phtml，而是使用我提供的任何内容。

布局 = 网站中所有页面的外观/感觉。$this->layout('some_phtml_file_here') 将覆盖 ZF2 框架提供的默认 layout.phtml。

这个网站（[http://zf2test.akrabat.com/](http://zf2test.akrabat.com/)）帮助我更好地理解它！

# python - Python 模式替换

> ID：15354530
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:14:01.617
> 
> 标签：python

也许模式替换不是正确的词，但我不知道还能怎么称呼它。我想取一个字符串，比如“嗨，我的名字是*名字*，我今年*几岁*”或其他什么，并务实地填写这些值。最好的方法是什么（再次，在 python 中）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:16:39.540

你想要[字符串格式](http://docs.python.org/2/library/string.html#formatstrings)。

你从这样的字符串开始：

```
s = 'Hi my name is {name} and I am {age} years old' 
```

现在，当您需要时，您可以使用`str.format`“填写值”的方法。

```
>>> s.format(name='John', age=42)
Hi my name is John and I am 42 years old 
```

这样做是用`{}`给定的材料替换大括号 () 中的内容。

请注意，此方法优于使用`%`运算符进行格式化，并且是 Python 3 中的标准。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T06:16:06.983

试试这个：

```
name, age = 'Art', 20

myStr = "hi my name is {0} and I am a {1} years old" 

print myStr.format(name, age) 
```

或者：

```
myStr = "hi my name is %(name)s and I am a %(age)i years old" 
print myStr % {'name': name, 'age': age} 
```

或者：

```
myStr = "hi my name is %s and I am a %i years old" 
print myStr % (name, age) 
```

[阅读有关 python 文档中字符串格式的更多信息。](http://docs.python.org/2/library/string.html#format-string-syntax)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:18:50.283

你可以看看 python re [http://docs.python.org/2/library/re.html](http://docs.python.org/2/library/re.html)

```
>>> import re
>>> thing = "hi my name is placeholder"
>>> thing = re.sub("placeholder", "Fred", thing)
>>> thing
"hi my name is Fred" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:36:53.587

以上所有答案都是有效的。现在我提供了一个使用**字符串 Template**的方法。

```
from string import Template
s = Template("hi my name is ${name} and I am ${age} years old")
s.substitute(name='Bill', age=24)
# 'hi my name is Bill and I am 24 years old' 
```

您可能想使用相关方法**safe_substitute ，并在**[此处](http://docs.python.org/2/library/string.html?highlight=template#string.Template.substitute)找到更多信息。

# c# - 如何在列表框中放置 \n(new line)？

> ID：15354533
> 
> 赞同：2
> 
> 时间：2013-03-12T06:14:18.420
> 
> 标签：c#, asp.net

如何将换行符（\n）放入列表框 .selected 项？在这里，我有生成所有链接的代码，但我想在列表框中包含所有这些链接，这些代码正在工作，但链接没有出现在新行中，所有链接都在单行中，我的代码是：

```
var links = TextBox1.Text.Split(new string[] { "\n", "\r" }, 
StringSplitOptions.RemoveEmptyEntries);

  foreach (var link in links)
        {
            if (!IsLinkWorking(link))
            {
                //Here you can show the error. You don't specify how you want to show it.
                TextBox2.ForeColor = System.Drawing.Color.Green; 
               TextBox2.Text += string.Format("{0}\nNot working\n\n ", link);
                //ListBox1.SelectedItem+= string.Format("{0}\nNot working\n\n ", link);
            }
            else
            {
               // ListBox1.SelectedValue += string.Format("{0}\nNot working\n\n ", link);
                TextBox2.Text += string.Format("{0}\n working\n\n", link);
            }

string[] values = TextBox2.Text.Split(',');

foreach (string value in values)
{
   if (value.Trim() == "")
       continue;
   ListBox1.Items.Add(value.Trim());    
       }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:22:04.157

您可以使用 Regex.Split 将字符串拆分为多行，如下所示：

```
foreach (string s in Regex.Split(TheStringwithNewLines, "\n"))
ListBox.Items.Add(s); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:32:00.433

您的代码应该可以正常工作，我只能怀疑您没有正确拆分字符串，**您确定`,`您的字符串中有分隔符**吗，因为只有这样您才能在一行中看到所有项目，**因为 split 只会产生一个物品**

只需尝试示例代码，它将在多行中添加项目。

```
string str = "somelink1,somelink2,somelink3";
string[] values = str.Split(',');

foreach (string value in values)
{
    if (value.Trim() == "")
        continue;
    ListBox1.Items.Add(value.Trim());
} 
```

现在，如果由于某种原因您以 string 结尾`"somelink1 somelink2 somelink3"`，而没有逗号作为分隔符，您将在数组中得到一个字符串，并将出现在一行中。

**编辑：**根据您编辑的问题。你正在添加`\n`，然后你试图用逗号分割它，你的分割语句应该是：

```
string[] values = TextBox2.Text.Split(new[] { "\n" }, StringSplitOptions.RemoveEmptyEntries); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:17:02.223

试试看是否有类似 Listbox.Items.Row

或者

```
ListBox.Items.Add(value.Trim() + "<BR />"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:20:59.013

我想你可以使用这个代码

# search - 我应该如何配置 Solr 查询以在多个字段中搜索术语？

> ID：15354535
> 
> 赞同：0
> 
> 时间：2013-03-12T06:14:24.503
> 
> 标签：search, solr, lucene

我正在尝试构建一个 Solr 查询以在“type”和“desc”字段中搜索术语“tree”。

到目前为止，这是我的尝试：

```
?q=tree
&defType=dismax
&qf=type desc 
```

但是，这仅适用于完全匹配。它没有找到“树屋”或“大树”。

我应该如何修改搜索查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:44:11.620

我希望您的查询应该与单词“treehouse”“big-tree”匹配，然后您必须相应地在该字段上应用正确的字符串标记器，

要匹配单词树屋，您可能必须使用 DictionaryCompoundWordTokenFilterFactory

要匹配 big-tree ，您可以使用[WordDelemeterFilterFactory](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.WordDelimiterFilterFactory)

参考[这个](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-10T11:18:19.670

在这种情况下也可以使用术语组件：

/terms?terms.fl=type&terms.fl=desc&terms.regex=tree.*

参考-> [https://cwiki.apache.org/confluence/display/solr/The+Terms+Component](https://cwiki.apache.org/confluence/display/solr/The+Terms+Component)

# heroku - Heroku 不会在 Rails 4 中的资产管道下编译文件

> ID：15354539
> 
> 赞同：77
> 
> 时间：2013-03-12T06:14:37.793
> 
> 标签：heroku, asset-pipeline, ruby-on-rails-4

在 Rails 4 和 Ruby 2.0 中使用资产管道在本地机器上一切顺利。但是在部署到heroku时，显示：

```
-----> Preparing app for Rails asset pipeline
   Running: rake assets:precompile
   I, [2013-03-12T03:28:29.908234 #912]  INFO -- : Writing /tmp/build_1n6yi8lwna3sj/public/assets/rails-2ee5a98f26fbf8c6c461127da73c47eb.png
   I, [2013-03-12T03:28:29.914096 #912]  INFO -- : Writing /tmp/build_1n6yi8lwna3sj/public/assets/trash-3c3c2861eca3747315d712bcfc182902.png
   I, [2013-03-12T03:28:33.963234 #912]  INFO -- : Writing /tmp/build_1n6yi8lwna3sj/public/assets/application-bf2525bd32aa2a7068dbcfaa591b3874.js
   I, [2013-03-12T03:28:40.362850 #912]  INFO -- : Writing /tmp/build_1n6yi8lwna3sj/public/assets/application-13374a65f29a3b4cea6f8da2816ce7ff.css
   Asset precompilation completed (14.36s) 
```

Heroku 似乎可以编译文件，但将其放入 /tmp 没有任何错误。我的问题是：

1.  Heroku 是如何将资产文件编译到 /tmp 的？
2.  我的最后一个解决方案是在本地运行 RAILS_ENV=production bundle exec rake assets:precompile，但这会在 public/assets 中生成 manifest-xxxxxx.json，而不是 manifest.yml，因此 heroku 不会检测到 JSON 清单文件。我通过从 json 文件手动创建一个 yml 来整理它，heroku 变得很高兴。heroku 的方法已经过时了吗？

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2013-05-15T17:34:46.213

Heroku 的资产插件不再工作，因为 Rails 4 不支持插件。您需要改用 Heroku 的资产宝石。把它放在你的 Gemfile 中：

```
group :production do
  gem 'rails_log_stdout',           github: 'heroku/rails_log_stdout'
  gem 'rails3_serve_static_assets', github: 'heroku/rails3_serve_static_assets'
end 
```

遵循[Heroku 的](https://devcenter.heroku.com/articles/rails4)Rails 4 入门指南。

### 更新 (07/22/2013)：Heroku 现在提供不同的 gem 来预编译资产。

```
group :production do
  gem 'rails_12factor'
end 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-05-21T21:48:40.420

您需要配置 Rails 以在生产中提供静态资产：config/environments/production.rb

```
SampleApp::Application.configure 做
  .
  .
  .
  config.serve_static_assets = true
  .
  .
  .
结尾

```

更新：

在 Rails 4 中已弃用，并已通过以下方式更改：

```
config.serve_static_files = true 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2013-06-29T00:42:13.513

由于[rails 4 将 manifest.yml 替换为 manifest-(fingerprint).json](https://github.com/heroku/heroku-buildpack-ruby/pull/74)，您需要启用静态资产服务。

从[Heroku 上的 Rails 4.x 入门](https://devcenter.heroku.com/articles/rails4-getting-started#heroku-gems)：

```
gem 'rails_12factor', group: :production 
```

然后

```
bundle install 
```

最后，

```
git push heroku 
```

为我解决了这个问题。希望这可以帮助！

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2013-03-16T11:33:11.957

我遇到了同样的问题。

我在环境/production.rb 文件中设置了 config.serve_static_assets = true ，直到 heroku 不支持新的清单格式。

因此，在添加 heroku 支持之前，这是一个临时解决方案。

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2013-08-31T07:33:54.710

经过数小时的谷歌搜索，Heroku 上的指南或 StackOverFlow 上的建议都没有帮助我，我终于遇到了[这篇博客文章](http://blog.new-bamboo.co.uk/2013/07/18/deploying-rails-4-on-heroku)，它提供了这个线索：

```
heroku labs:enable user-env-compile --app=YOUR_APP 
```

如果没有这个，资产管道将始终尝试初始化整个应用程序并连接到数据库（尽管您可能已经阅读过 Rails 4 现在不再这样做的所有内容）。这会将您的 Heroku 配置暴露给 Rails，因此它可以成功启动并运行诸如 assets:precompile 之类的 rake 任务。

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2014-07-24T17:54:08.920

我需要使用这个宝石：

```
gem 'rails_12factor', group: :production #need this for rails 4 assets on heroku 
```

在 /config/environments/production.rb 我需要设置：

```
config.assets.compile = true 
```

我的理解是`rails_12_factor`宝石套装`config.serve_static_assets = true`，除其他外。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-07-24T11:43:41.587

就我而言，资产是按照上面的说明编译的，但它没有选择引导 glyphicons 'fontawesome-webfont'，所以在浪费了这么多小时的研究之后，这终于对我有用了。

# 宝石文件

```
gem 'rails_12factor', group: :production 
```

捆绑安装

# 配置/应用程序.rb

```
config.assets.precompile += %w(*.png *.jpg *.jpeg *.gif,
                                  "fontawesome-webfont.ttf",
                                 "fontawesome-webfont.eot",
                                 "fontawesome-webfont.svg",
                                 "fontawesome-webfont.woff")

config.assets.precompile << Proc.new do |path|
      if path =~ /\.(css|js)\z/
        full_path = Rails.application.assets.resolve(path).to_path
        app_assets_path = Rails.root.join('app', 'assets').to_path
        if full_path.starts_with? app_assets_path
          puts "including asset: " + full_path
          true
        else
          puts "excluding asset: " + full_path
          false
        end
      else
        false
      end
    end 
```

# 环境/生产.rb

```
config.serve_static_assets = true 
```

最后，我跑着 `rake assets:precompile RAILS_ENV=production`把它推到了heroku，这很奏效。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2013-05-21T14:47:33.783

这是 Heroku Ruby Buildpack 的一个问题，但今天（2013-05-21）部署了更新。请尝试一下并告诉我们。

要回答您的问题：

#1) 这是链轮输出；东西被编译`/tmp`然后移动（见[这里 Sprockets](https://github.com/sstephenson/sprockets/blob/master/lib/sprockets/manifest.rb#L133)）。据我所知，这一直是这样做的，但直到 Sprockets 版本在 Rails 中更新，我们才得到这个新的调试类型输出。

#2) 之前`assets:precompile`生成了一个`manifest.json`文件，但现在在 Rails 4 中，清单文件中有一个指纹，这是以前没有检测到的。这已通过[#74](https://github.com/heroku/heroku-buildpack-ruby/pull/74)修复。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2013-11-08T19:22:09.343

我将此添加到 assets/stylesheets/ 文件夹中我的一个 css.scss 文件的顶部。

```
@import "font-awesome"; 
```

然后跑了。。

```
rake assets:clean 
```

和...

```
rake assets:precompile RAILS_ENV=production 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2015-11-06T20:09:09.710

在 Rails 4.2.4 中，您的 production.rb 包含以下内容：

```
config.serve_static_files = ENV['RAILS_SERVE_STATIC_FILES'].present? 
```

这意味着，`gem 'rails_12factor', group: :production`不需要将其更改为 true，因为它可以通过 heroku 环境变量进行设置。如果您删除 rails_12factor gem，您也会收到警告。

如果您[遇到资产问题](https://devcenter.heroku.com/articles/rails-4-asset-pipeline)，请登录 heroku 控制台`heroku run rails console`并找出文件的资产路径`puts helper.asset_path("application.js")`。

当未提供文件结尾时，我在开发和生产之间注意到了一种奇怪的行为：

对于图像`/assets/images/image_01.jpg`，以下输出`asset_paths`不同：

**发展**：

```
development > puts helper.asset_path('profile_01') 
=> /assets/profile_01-bbd16aac5ef1d295411af44c103fcc631ab90ee94957414d4c01c3aed1055714.jpg

development > puts helper.asset_path('profile_01.jpg') 
=> /assets/profile_01-bbd16aac5ef1d295411af44c103fcc631ab90ee94957414d4c01c3aed1055714.jpg 
```

**生产**：

```
development > puts helper.asset_path('profile_01') 
=> /profile_01

development > puts helper.asset_path('profile_01.jpg') 
=> /assets/profile_01-bbd16aac5ef1d295411af44c103fcc631ab90ee94957414d4c01c3aed1055714.jpg 
```

您不必**运行**，`RAILS_ENV=production rake assets:precompile`heroku 在部署期间会为您执行此操作。此外，您不必在开发中预编译资产并将它们推送到 heroku。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2014-11-11T00:51:22.277

除了确保您安装了“rails_12factor”gem 之外，您唯一需要做的就是这个。

```
# config/application.rb

config.assets.paths << Rails.root.join('vendor', 'assets') 
```

似乎尽管 Rails 确切地知道它想要什么，但 Heroku 需要提醒将资产文件夹包含在资产路径中。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2016-04-25T15:39:22.957

**使用图片扩展**

我有同样的问题，但出于不同的原因。

**代替**

```
<%= asset_path 'facebook-link' %> 
```

**利用：**

```
<%= asset_path 'facebook-link.png' %> 
```

虽然第一个在本地工作，但当我推送到 Heroku 时，我的图像坏了，我不知道为什么。使用完整的文件扩展名解决了问题:)

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2016-06-15T19:16:08.907

添加此宝石`gem 'rails_serve_static_assets'`

[https://github.com/heroku/rails_serve_static_assets](https://github.com/heroku/rails_serve_static_assets)

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2014-09-01T22:47:16.523

*我想我会添加这个作为答案，因为如果你搜索这个问题是从 Heroku 支持页面链接的`"assets"`。*

这主要适用于将他们的应用程序更新到 Rails 4 的人，但是在经历了这个 - 以及许多其他 SO 帖子之后 - 最终让我改变了以下内容`production.rb`：

```
config.action_dispatch.x_sendfile_header = "X-Sendfile" 
```

至：

```
config.action_dispatch.x_sendfile_header = nil 
```

当我升级时我没有发现这个问题，像往常一样，这让我花了很长时间才弄清楚。希望它可以帮助别人！[向在他的问题](https://stackoverflow.com/questions/18554247/heroku-asset-files-always-empty)中提出/回答相同问题的[PatrickEm 大声](https://stackoverflow.com/users/533007/patrickem)喊叫。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2014-06-08T22:48:13.970

如果您正在使用控制器特定资产，如：

```
 <%= javascript_include_tag params[:controller] %> or <%= javascript_include_tag params[:controller] %> 
```

然后在生产中，您将需要显式地预编译它们（在开发中，rails 会即时编译文件）。

请在此处查看官方 Rails 指南：http: [//guides.rubyonrails.org/asset_pipeline.html#controller-specific-assets](http://guides.rubyonrails.org/asset_pipeline.html#controller-specific-assets)

要按照指南中的说明进行预编译（此处： http: [//guides.rubyonrails.org/asset_pipeline.html#precompiling-assets](http://guides.rubyonrails.org/asset_pipeline.html#precompiling-assets)），您需要将以下内容添加到 config/application.rb

```
# config/application.rb
config.assets.precompile << Proc.new do |path|
  if path =~ /\.(css|js)\z/
    full_path = Rails.application.assets.resolve(path).to_path
    app_assets_path = Rails.root.join('app', 'assets').to_path
    if full_path.starts_with? app_assets_path
      puts "including asset: " + full_path
      true
    else
      puts "excluding asset: " + full_path
      false
    end
  else
    false
  end
end 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2018-01-01T13:26:55.320

这可能无法回答原始问题的根本原因，但我有类似的症状，但根本原因不同。

JPEG文件的预编译将文件扩展名更改为JPG，这意味着它`asset_path("my_image.jpeg")`不起作用`asset_path("my_image")`。从 JPEG 中删除“e”，瞧，它可以工作了。

其他人在这里描述了同样的问题[https://blazarblogs.wordpress.com/2016/04/06/rails-force-to-precompile-jpeg-to-jpg/](https://blazarblogs.wordpress.com/2016/04/06/rails-force-to-precompile-jpeg-to-jpg/)

这是一个错误吗？还是期望的行为？而且奇怪的是它只在我的 Heroku 托管的生产环境中不起作用。也许他们有某种配置。

# jsf-2 - jsf中多次调用Ajax方法

> ID：15354543
> 
> 赞同：3
> 
> 时间：2013-03-12T06:14:44.523
> 
> 标签：jsf-2, primefaces

我有一个使用 Ajax on 的复合组件`<p:selectOneButton/>`，当 Ajax 调用`actionListener`on`<p:commandButton/>`它调用 10 次然后运行该方法。我认为问题的原因是`<p:dataGrid/>`因为当我`<p:commandButtton/>`无法`<p:dataGrid/>`访问时，它可以正常工作，但是当我在`<p:dataGrid/>`Ajax 调用中`actionListener`多次使用它时。

这是.xhtml：

```
<table style="width: 100%">
    <tr>
        <td><p:selectOneButton value="#{inviteRequestManagedBean.filterType}">
                <f:selectItem itemLabel="#{inviteRequest_msg.request}" itemValue="request" />
                <f:selectItem itemLabel="#{inviteRequest_msg.archive}" itemValue="archive" />
                <f:ajax event="change" render="requestDataGrid" />
            </p:selectOneButton></td>
    </tr>
    <tr>
        <td><p:dataGrid id="requestDataGrid" var="tBusinessPartnerRequestInfo" value="#{inviteRequestManagedBean.filterBusinessRequest()}" columns="1"
                rows="2">
                <p:column>
                    <div>
                        <table border="0" width="100%">
                            <tr>
                                <td><p:graphicImage value="#{tBusinessPartnerRequestInfo.partySender_imageUrl}" /></td>
                                <td>
                                    <div>
                                        <table border="0" width="100%">
                                            <tr>
                                                <td><h:outputLabel value="#{tBusinessPartnerRequestInfo.requestDate}" /></td>
                                            </tr>
                                            <tr>
                                                <td><h:outputLabel value="#{tBusinessPartnerReques`enter code here`tInfo.partySender_fullName}" /></td>
                                            </tr>
                                        </table>
                                    </div>
                                </td>
                                <td><p:commandButton id="acceptCommonButton" value="#{inviteRequest_msg.accept}" process="@this"
                                        actionListener="#{inviteRequestManagedBean.acceptRequest(tBusinessPartnerRequestInfo.id)}">
                                    </p:commandButton></td>
                                <td><p:commandButton id="noNowCommonButton" value="#{inviteRequest_msg.notnow}"
                                        actionListener="#{inviteRequestManagedBean.notNowRequest(tBusinessPartnerRequestInfo.id)}">
                                    </p:commandButton></td>
                            </tr>
                        </table>
                    </div>
                    <hr />
                </p:column>
            </p:dataGrid> <p:panel>

            </p:panel></td>
    </tr>
</table> 
```

我该如何解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-07T04:05:48.093

我认为您可以在 ajax 请求中使用选项 partialSubmit 和 process 来仅处理必要的信息，如下所示：

```
<p:selectOneButton value="#{inviteRequestManagedBean.filterType}">
    <f:selectItem itemLabel="#{inviteRequest_msg.request}" itemValue="request" />
    <f:selectItem itemLabel="#{inviteRequest_msg.archive}" itemValue="archive" />

    <f:ajax event="change" render="requestDataGrid" partialSubmit="true" process="@this" />
</p:selectOneButton> 
```

如果这解决了您的问题，您可以在 primefaces 展示中看到更多：

[部分提交](http://www.primefaces.org/showcase/ui/ajax/partialSubmit.xhtml)

[部分过程](http://www.primefaces.org/showcase/ui/ajax/process.xhtml)

# jquery - 仅返回带有 CakePHP Ajax 请求的正文

> ID：15354545
> 
> 赞同：1
> 
> 时间：2013-03-12T06:14:49.593
> 
> 标签：jquery, ajax, cakephp-2.2

我有一个模式对话框，在满足特定条件后会弹出并要求用户更改密码。

这完美地工作，但是，当请求完成时，它会返回包括模板在内的整个页面。

我在我的默认布局 ( `APP/View/Layout/default.ctp`) 中运行脚本，因为它需要在每个页面上，因为用户已登录然后重定向到请求的页面。

我想知道，如何只显示请求页面的内容，而不显示模板？

这是我的 jquery 脚本：

```
//In the default layout
$(document).ready(function(e) {
var $dialog = $("#view_dialog").dialog(
{
    autoOpen: false,
    closeOnEscape: false,
    closeText: 'hide',
    draggable: false,
    modal: true,
    resizable: false,
    hide:"fade",
    title: 'Password Change Required',
    open: function(event, ui) { $(".ui-dialog-titlebar-close").hide(); },
    buttons: {
        "Change Now": function() {
            if($('#password').val() != "" && $('#confirm').val() != "") {
                if($('#password').val() == $('#confirm').val()) {
                    $.ajax({
                        type: 'GET',
                        url: 'pages/password_change',
                        data: { password:$('#password').val(), usern : $('#usern').val() },
                        success: function(data) {
                        if(data.indexOf("SUCCESS") != -1) {
                            data = data.replace("SUCCESS", "");
                            $('#passAlert').removeClass('ui-state-error').addClass('ui-state-highlight').html(data).show('fast');
                            setTimeout(function() { $(this).dialog('close'); },1000);
                        } else {
                            data = data.replace("FAIL", "");
                            $('#passAlert').html(data).show('fast');
                        }
                    },
                    error: function(xhr,ajaxOptions,thrownError) {
                        data = data.replace("FAIL", xhr.status + ' - ' + thrownError);
                        $('#passAlert').html(data).show('fast');
                    }
                });
            } else {
                $('#passAlert').html("Password doesn't match.").show('fast');
            }
        } else
            $('#passAlert').html("Please complete all boxes.").show('fast');
        }
    }
});
if(<?php echo $showPopup ?>) {
    $dialog.dialog("open");
} 
```

目前我只是附和一个句子来检查响应。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:20:49.693

Cakephp 允许我们在每个控制器动作上覆盖模板。

内部控制器动作写在下面的行。

```
$this->layout = "ajax"; 
```

**或者**

您可以像这样禁用布局

```
$this->layout = null ; 
```

现在你的动作会变成

```
public function listnames()
{
    $this->layout = null ;
    // $this->layout = "ajax";
    //other code.
} 
```

# java - 验证 LaTeX 文件，java

> ID：15354547
> 
> 赞同：3
> 
> 时间：2013-03-12T06:14:54.100
> 
> 标签：java, string, split, organization

所以我有这个文本文件

```
\begin{document}
    {\Large \begin{center} Homework Problems \end{center}}\begin{itemize}\item\end{itemize}
    \begin{enumerate}
                    \begin{proof}
                            \begin{align}

                            \end{align}
                    \end{proof}

                    \begin{proof}

                            \begin{align}

                            \end{align}

                    \end{proof}
    \end{enumerate}
\end{document} 
```

我想遍历每一行，找到所有的“\begin”片段，然后在“{ *_* }”中取出字符串并将其存储在堆栈中。当找到相应的“\end”时，我在堆栈上调用 pop() 命令并将其删除。不过我有几个问题...

1.  我正在处理各种疯狂的案例，并确保所有内容都被容纳，并且当我想让它适用于所有这样编写的文件时，它变得过于特定于这种情况。
2.  我不知道如何检查“\begin”和“\end”而不是“begin”和“end”，这很重要的原因是因为如果文件包含“begins”或“end”的文本它可能不是命令，因此不是我要找的。

由于存在“\”，所有“if”语句都不起作用，我尝试添加方括号，但它没有解决任何问题。

到目前为止，这是我的代码，它变得非常混乱，任何人都可以帮助组织和帮助纠正我上面提到的问题吗？

```
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.util.Scanner;
import java.util.Stack;
import java.util.StringTokenizer;

public class LaTeXParser{

public static void main(String args[]) throws FileNotFoundException{

    Scanner scan = new Scanner(System.in);

    Stack s = new Stack();

    int lineCount = 0;

    String line;
    String nextData = null;
    String title = null;

            String fname;

            System.out.print("Enter the name of the file (no extension): ");
            fname = scan.next();

            fname = fname + ".txt";

            FileInputStream fstream = new FileInputStream(fname);

            Scanner fscan = new Scanner(fstream);

            System.out.println();

            while(fscan.hasNextLine()){

                lineCount++;
                line = fscan.nextLine();
                StringTokenizer tok = new StringTokenizer(line);

                while(tok.hasMoreElements()){

                    nextData = tok.nextToken();
                    System.out.println("The line: "+nextData);

                    if(nextData.contains("\\begin") && !nextData.contains("\\end")){

                        if(nextData.charAt(1) == 'b'){

                            title = nextData.substring(nextData.indexOf("{") + 1, nextData.indexOf("}"));

                            s.push(title);

                        }

                        else{

                            //title = nextData.substring();

                        }
                    }//end of BEGIN if

                    if(nextData.contains("\\end") && !nextData.contains("\\begin")){

                        if(s.peek().equals(nextData.substring(nextData.indexOf("{") + 1, nextData.indexOf("}")))){

                            s.pop();

                        }
                    }//end of END if

                    if(nextData.contains("\\begin") && nextData.contains("\\end")){

                        String[] theLine = nextData.split("[{}]");

                        for(int i = 0 ; i < theLine.length ; i++){

                            if(theLine[i].equals("\\end") && theLine[i+1].equals(s.peek())){

                                s.pop();

                            }

                            if(theLine[i].equals("\\begin")){

                                title = theLine[i+1];

                                s.push(title);

                            }

                        }

                    }//end of BEGIN AND END if

                }
            }//end of whiles

            fscan.close();

    while(!s.isEmpty()){

        System.out.println("the top "+s.pop());

    }
}
} 
```

编辑：在用于检查一行以查看它是否在找到“\begin”后同时包含“\begin”和“\end”的 if 语句中，我如何回过头来检查该行是否也包含它是“\结束”？所以我说的是这个案子……

```
\begin{itemize}\item\end{itemize} 
```

看我可以到达“\begin”并添加正确的字符串，但它只是移动并通过“\end{itemize}”。有任何解决这个问题的方法吗？

实际上，即使在“itemize”字符串被推送后，它也应该检查并正常执行，但它不起作用！我相信它与“\end”有关，有人可以确认吗？它跳过了这一步，显然是因为它不符合条件，但它适用于其他行。只是没有这个具体案例！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:17:38.070

你可能需要转义反斜杠，所以写`\\`而不是`\`. 如果它们在正则表达式（regexprs）中，则需要将它们转义两次`\\\\`：我认为不需要括号。

# jquery - 浏览器未找到 MVC 4 Web api 项目 API 的部署

> ID：15354548
> 
> 赞同：0
> 
> 时间：2013-03-12T06:14:55.343
> 
> 标签：jquery, asp.net-mvc-4

我已经创建了 MVC 4 项目，我正在服务器 2008 上部署应用程序，当我们运行应用程序时，在 firebug 和 IE 控制台中，我们收到错误 404 Not Found。你能建议我们可以做些什么来解决这个错误吗？

![在此处输入图像描述](../Images/14892e27970d8f87a64fe9cc4c616a9f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:46:10.510

我猜你已经在你的 javascript 文件中硬编码了你的 Web API 的 URL：

```
<script type="text/javascript">

    $.ajax({
        url: '/api/session/login',
        type: 'POST',
        data: ...
    });

</script> 
```

而不是使用 url 助手来生成此方法的 url：

```
<script type="text/javascript">

    $.ajax({
        url: '@Url.RouteUrl("DefaultApi", new { httproute = "", controller = "session", action = "login" })',
        type: 'POST',
        data: ...
    });

</script> 
```

您需要使用 url 帮助程序的原因是，当您在 IIS 中部署应用程序时，您可能会将其部署在虚拟目录中，因此您的 API 的正确位置现在`someappname/api/session/login`不是仅`/api/session/login`. 如果您使用 url 帮助程序，它将考虑虚拟目录名称。

# php - 在 codeigniter 中显示表单编辑的数据和图像

> ID：15354559
> 
> 赞同：0
> 
> 时间：2013-03-12T06:15:28.720
> 
> 标签：php, codeigniter

我的汽车模型在编辑表单中，用户可以编辑和删除汽车。当用户点击编辑时，他们可以在编辑表单上看到汽车、型号、年份、价格，并进行新的更改并提交。我希望上传的图像也能显示和编辑。我知道 form_input() 不会显示图像。我尝试了一切，但它不会显示在我的编辑表单中。这是我的代码，谢谢！

```
controller:
public function input($id = 0) {

$this->load->helper('form');  
$this->load->helper('html');    
$this->load->model('model_users');

/*
if($this->input->post('submit')) {
    $this->model_users->entry_insert();
}
$data = $this->books_model->general();
*/

   if((int)$id > 0) {
     $query = $this->model_users->get($id);
  $data['fid']['value'] = $query['id'];
  $data['fcar_make']['value'] = $query['car_make'];
  $data['fcar_model']['value'] = $query['car_model'];
  $data['fcar_year']['value'] = $query['car_year'];
  $data['fcar_lease']['value'] = $query['car_lease'];
  $data['fcar_payment']['value'] = $query['car_payment'];
  $data['fimgpath']['value'] = $query['imgpath'];

}

if($this->session->userdata('is_logged_in')) {          
$this->load->view('edit_car',$data);    
}

else {
redirect('main/restricted');
}

 }

Model:

function get($id) {

        $this->db->where(array('id'=>$id));
        $query = $this->db->get('cars');
        return $query->row_array();
    }

view

<tr>
  <td>Car Lease:</td>
  <td><input type="text" class="textbox" tabindex="6" name = "<?php echo form_input($fcar_lease); ?></td>
  <td>&nbsp;</td>

</tr>
<tr>
  <td>Car Payment:</td>
  <td><input type="text" class="textbox" tabindex="6" name = "<?php echo form_input($fcar_payment); ?></td>
  <td>&nbsp;</td>

</tr>

<tr>
  <td>Car Image:</td>
  <td><input type="file" name=""<?php echo form_input($fimgpath); ?>" size="20" /></td>
  <td>&nbsp;</td>

</tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:21:24.840

您不能在文件上传字段中显示图像或图像路径，而不仅仅是在文件上传字段下方显示图像（就像您在前端显示它一样），如果用户重新上传图像，删除现有图像，上传新的并更新数据库中的图像名称。

此外，您可以提供删除按钮以删除同一界面上的图像（可能位于当前图像下方）。

# sql-server - DATEDIFF 四舍五入截止日期小时 SQL Server

> ID：15354561
> 
> 赞同：1
> 
> 时间：2013-03-12T06:15:31.240
> 
> 标签：sql-server, tsql, datediff, hour

我的客户有这个 KTV 小时规则，所有超过 20 分钟的退房都将被视为额外的 1 小时。

下面的示例代码：

```
 declare @dateStart as datetime, @dateEnd as datetime

  set @dateStart = cast('3/2/2013 8:00:00 PM' as datetime)
  set @dateEnd   = cast('3/2/2013 9:20:02 pm' as datetime)

  SELECT DATEDIFF(hour, @dateStart, @dateEnd) 
```

上面的代码逻辑上返回 1:20 小时。在 SQL Server 中，它将返回 1 小时。如何调整此代码以返回 2 小时？

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T06:20:21.440

用这个：

```
declare @dateStart as datetime, @dateEnd as datetime

set @dateStart = cast('3/2/2013 8:00:00 PM' as datetime)
set @dateEnd   = cast('3/2/2013 9:20:02 pm' as datetime)

SELECT CEILING(CAST( DATEDIFF(minute, @dateStart, @dateEnd)as float) / 60) 
```

更多：[天花板](http://msdn.microsoft.com/en-us/library/ms189818.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:26:48.197

试试这个 ：

```
 declare @dateStart as datetime, @dateEnd as datetime

  set @dateStart = cast('3/2/2013 8:00:00 PM' as datetime)
  set @dateEnd   = cast('3/2/2013 9:20:02 pm' as datetime)

  SELECT DATEDIFF(hour, @dateStart, @dateEnd) 
+
case 
when datediff(minute,@dateStart, @dateEnd)%60>=20 then 1
else 0
end 
```

更准确地说，您还可以在此处添加秒数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:24:09.057

将经过的时间加上 40 分钟，并截断到小时，如下所示：

```
 declare @dateStart as datetime, @dateEnd as datetime

  set @dateStart = cast('3/2/2013 8:00:00 PM' as datetime)
  set @dateEnd   = cast('3/2/2013 9:20:02 pm' as datetime)

  select Elapsed = datediff(hour, @dateStart, dateadd(minute,40,@dateEnd)) 
```

返回

```
Elapsed
-----------
2 
```

# integration-testing - 如何在单元测试的设置调用中使用 FBTestSession

> ID：15354566
> 
> 赞同：0
> 
> 时间：2013-03-12T06:15:42.570
> 
> 标签：integration-testing, facebook-ios-sdk

我正在尝试设置我的单元测试以使用最新的 facebook SDK 并遇到问题......

这是我的代码：

```
 [FBSession setDefaultAppID: @"323351877676429"];
FBTestSession *session = [FBTestSession sessionWithSharedUserWithPermissions: [NSArray array]];
STAssertNotNil(session, @"could not create test session");
[FBTestSession openActiveSessionWithReadPermissions:@[]
                                   allowLoginUI:NO
                              completionHandler:^(FBSession *session, FBSessionState status, NSError *error) {

                                  NSLog(@"completed");
                                    [FBSession setActiveSession: session];
                                  STAssertNil(error, error.description);
                                  STAssertNotNil(FBSession.activeSession, @"FBSession missing");
                                  STAssertNotNil(FBSession.activeSession.accessTokenData, @"FBSession missing");
                                  STAssertNotNil(FBSession.activeSession.accessTokenData.accessToken, @"facebook token is nil");
                                  STAssertNotNil(session, @"FBSession missing");
                                  STAssertNotNil(session.accessTokenData, @"FBSession missing");
                                  STAssertNotNil(session.accessTokenData.accessToken, @"facebook token is nil");

                                  userModel *userM = [[userModel alloc] init];
                                  [userM awakeFromNib];
                              } ]; 
```

这很好用，除了它是异步运行的，当我的测试运行时，会话还没有准备好，因此我有 session.accessTokenData == nil.，这使我的其他测试失败。

如果我在 openSession 调用之后将以下代码添加到我的设置方法中，那么设置方法将永远不会返回。

```
while (!FBSession.activeSession.accessTokenData)
        [NSThread sleepForTimeInterval:.2]; 
```

在某处是否有正确使用 FBTestSession 的示例？关于如何进行的任何线索？

谢谢，奥利维尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T12:04:20.837

你很接近，你只需要等到块完成。这是一个可以用作参考的工作示例（略微缩短/修改）。

```
- (void)testFacebookLogin {
    __block bool blockFinished = NO;
    FBTestSession *fbSession = [FBTestSession sessionWithSharedUserWithPermissions:@[@"email"]];
    [fbSession openWithCompletionHandler:^(FBSession *session, FBSessionState status, NSError *error) {
        NSLog(@"session %@, status %d, error %@", session, status, error);
        [FBSession setActiveSession:session];

        FBRequest *me = [FBRequest requestForMe];
        NSLog(@"me request %@", me);
        [me startWithCompletionHandler: ^(FBRequestConnection *connection,
                                          NSDictionary<FBGraphUser> *my,
                                          NSError *error) {
                STAssertNotNil(my.id, @"id shouldn't be nil");

                blockFinished = YES;
        }];
    }];

    // Run loop
    NSDate *loopUntil = [NSDate dateWithTimeIntervalSinceNow:10];
    while (blockFinished == NO && [loopUntil timeIntervalSinceNow] > 0) {
        [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
                                 beforeDate:loopUntil];
    }

} 
```

# spring - 通过骆驼从一个 cxf 服务到另一个服务的路由

> ID：15354580
> 
> 赞同：1
> 
> 时间：2013-03-12T06:16:51.457
> 
> 标签：spring, cxf, apache-camel, cxfrs

我有一个要求，我有一个 cxf 休息服务，一些数据将在上面发布。例如

`<data><FirstName>Hello</FirstName><LastName>World</LastName></data>`

我必须将名字和姓氏组合为全名，例如

```
<data><fullname>Hello World</fullname></data> 
```

并将其发布到另一个将处理此 FullName 并为此用户生成 ID 的休息服务上。所以对于用户来说，最终输出应该是 ID 和全名。例如

```
<output><id>123</id><fullname>Hello World</fullname></output> 
```

我有两个独立的休息服务在工作，但我希望 apache camel 调用我的第一个服务并将其数据自动路由到第二个休息服务。

那么我该怎么做呢？我没有任何示例可以获取名字和姓氏的帖子数据以及如何将全名发送到另一个服务？非常感谢任何示例或帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:00:07.570

看看这个例子。我相信它会帮助你找到你要找的东西——

使用 Apache Camel 的复合 Rest 服务 -Andrej Koelewijn

[读这个！](http://www.andrejkoelewijn.com/blog/2010/06/13/a-composite-rest-service-using-camel/)

谢谢。

# python - shell：基于 sha1 哈希保存和恢复 mtime

> ID：15354585
> 
> 赞同：0
> 
> 时间：2013-03-12T06:17:16.793
> 
> 标签：python, perl, shell, openbsd, filemtime

我有一组几千个文件，每 24 小时自动重新生成一次（例如OpenBSD 上[的 ports-readmes](https://github.com/cnst/ports-readmes/)）。

大多数时候，这些文件的内容不会改变，但由于它们是重新创建的，所以`mtime`确实会改变。

在不修改重新生成文件的原始应用程序的情况下，我将如何根据文件名/sha1 对缓存 mtime，如果 sha1 保持不变，我将如何在重新生成后恢复？Prefer `python`，但欢迎任何 UNIX 解决方案。

（我需要站点地图，因为站点地图规范仅`lastmod`用于版本控制。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:46:09.827

目前尚不清楚您需要什么帮助。以下是一些开始的地方：

*   您可以使用`os.walk`,`os.listdir`或`glob.glob`来生成文件列表。
*   您可以使用`os.stat`来确定上次修改时间。
*   你可以`hashlib.md5(open(fname).read()).hexdigest()`用来获取md5。
*   可以`os.utime`用来设置文件的修改时间。
*   您可以使用`json.dump`并将`json.load`mtimes 从一次运行持续到下一次运行（还有其他选择）

# c - 使用 execl 和 fork() 在 C 中创建 linux 环境

> ID：15354588
> 
> 赞同：-6
> 
> 时间：2013-03-12T06:17:38.837
> 
> 标签：c, linux, shell, command, exec

我创建了一个类似于 Linux 环境的程序。你输入一个命令，它会为你做。

```
#include <stdio.h>
#include <string.h>

int main()
{

int pid;
int status;
printf("Enter command: ");
char s[256];
fgets(s,256,stdin);

const char *a[5];
int i = 0;
char* token = strtok(s, " ");
while(token)
{
    a[i] = strtok(s," ");   
    i++;
}

while (a[0] != "exit")
{
    if(a[0] = "cd")
    {
        chdir(a[1]);
    }

    else 
    {
      pid = fork();
        if (pid == 0)
        {
        execvp(a[0],a);
        }
        if(pid > 0)
        {
            wait(&status);
        }
    }

}
return 0;
} 
```

它使用标记来分隔命令的参数。我尝试运行它，它编译并运行，但没有执行我想要的命令。我认为这可能与它创建令牌的方式有关。任何帮助都会很棒。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:21:35.080

该行：

```
a[i] = strtok(s," "); 
```

设置`a[i]`为字符串中的指针，您正在修改该指针，最终可能会`strtok`删除临时 NUL 字符（来自 ）。

您可能想尝试：

```
a[i] = strdup (strtok (s," ")); 
```

反而。

* * *

让我进一步解释一下。假设我们有命令（因为它存在于内存中）：

```
ls -al xyzzy\0 
```

当您使用`strtok`它时，它几乎肯定会更改为：

```
ls\0-al xyzzy\0
^ 
```

然后它给你`s`（由 表示`^`）从返回`strtok`并放入`a[0]`. 下一次，它将字符串更改为：

```
ls -al\0xyzzy\0
   ^ 
```

并给您指示的地址`^`并将其放入`a[1]`. 不幸的是，`a[0]`现在指向字符串`"ls -al"`

最终，字符串将返回到它的原始状态，并且您的指针在指向正确的*地址时，*不会像您期望的那样使字符串以空值结尾（最后一个除外）。

所以你最终会得到：

```
a[0] = "ls -al xyzzy"
a[1] = "-al xyzzy"
a[2] = "xyzzy" 
```

通过使用`strdup`，您可以*复制*每个字符串（在字符串如您所愿时，一个单词），然后不会被字符串标记化代码中的后续操作修改。

但是，请记住，在您使用完它们后释放所有已分配的字符串。

您可以将此代码用作基线：

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int main (void) {
    char str[256], *word[20];
    int i, num, len;

    printf ("Enter command: ");
    fgets (str, sizeof (str), stdin);

    num = 0;
    word[num] = strtok (str, " ");
    while (word[num] != NULL) {
        word[num] = strdup (word[num]);
        len = strlen (word[num]);
        if (strlen (word[num]) > 0)
            if (word[num][len-1] == '\n')
                word[num][len-1] = '\0';
        word[++num] = strtok (NULL, " ");
    }

    for (i = 0; i < num; i++) {
        printf ("%d: [%s]\n", i, (word[i] == NULL) ? "<<null>>" : word[i]);
        free (word[i]);
    }

    return 0;
} 
```

以下成绩单显示了它的实际效果：

```
Enter command: ls -al xyzzy | grep -v plugh
0: [ls]
1: [-al]
2: [xyzzy]
3: [|]
4: [grep]
5: [-v]
6: [plugh] 
```

* * *

此外，比较 C 字符串的正确方法不是：

```
if (a[0] = "cd") 
```

因为这比较*了地址，*即使支持内容相同，地址也可能不同。你应该改用类似的东西：

```
if (strcmp (a[0], "cd") == 0) 
```

* * *

最后一件事，`argv[]`您传递给的数组`execvp`必须有一个最终终止的 NULL 指针。这是合同的一部分，因此您需要确保在调用`execvp`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:25:00.013

while 循环`while (a[0] != "exit")`永远不会终止。您正在比较指针（内存地址）。您可能想了解`strcmp()`.

if 语句`if(a[0] = "cd")`似乎也不是我认为您尝试做的。您正在将指针分配给`"cd"`to `a[0]`。如果您使用编译器诊断程序，就会发现这个常见错误（可能的意图是使用`==`它也不起作用 - 再次`strcmp()`是用于字符串比较的东西）。

# java - 如何创建一个固定大小的对象数组列表并将剩余值传递给下一个数组列表

> ID：15354592
> 
> 赞同：-3
> 
> 时间：2013-03-12T06:17:50.603
> 
> 标签：java

我需要创建大小为 1000 的 Arraylist，当用户输入多个值时动态创建。假设用户输入 2200 个值，则需要动态创建 2 个 1000 个 ArrayList，并且必须动态创建一个 200 个 Arraylist。我该怎么办？我只知道我可以使用对象的 Arraylist。请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:30:47.420

由于您从未指定必须初始化对象……您可以使用它。

```
public List<ArrayList<Object>> dynamicSizedLists(final int size) {
    List<ArrayList<Object>> retVal = new LinkedList<ArrayList<Object>>();
    final int MAX_SIZE = 1000;
    int iterations = size / MAX_SIZE;
    for(; iterations > 0; iterations--) {
        retVal.add(new ArrayList<Object>(MAX_SIZE));
    }
    retVal.add(new ArrayList<Object>(size % MAX_SIZE));

    return retVal;
} 
```

您可以在调试器中观察到这些已通过`elementData`私有字段正确分区。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:21:41.533

您可以使用 ArrayList 的`size()`方法检查大小是否达到 1000，然后在另一个数组列表中添加条目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:26:48.787

您可以使用[Guavas](https://code.google.com/p/guava-libraries/) `Lists.partition`操作将所有数据列表拆分为所需大小的块 + 其余所有数据中的一个块。一直为我工作。[如果您不确定，请在此处查看 javadoc](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Lists.html#partition%28java.util.List,%20int%29)。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-12T06:31:38.283

试试这个（注意我没有使用泛型，因为你不能有泛型数组）：

```
ArrayList entered = new ArrayList();
Scanner in = new Scanner(System.in);
while(true)
{
    try
    {
        System.out.print("Enter a number (enter a non-number to stop)\n>");
        entered.add(in.nextInt());
    }
    catch(InputMismatchException e)
    {
        break;
    }
}
List[] lists = new List[entered.size() / 1000 + 1];
int currentElement = 0;
for(int i = 0; i < lists.length; ++i)
{
    lists[i] = entered.subList(currentElement, (currentElement + 1000 < entered.size()) ? currentElement + 1000 : entered.size());
    currentElement += 1000;
} 
```

# mono - ubuntu 中的状态服务器

> ID：15354594
> 
> 赞同：2
> 
> 时间：2013-03-12T06:17:58.887
> 
> 标签：mono, ubuntu-12.04, session-state-server, xsp4

我在 ubuntu 上使用 apache2 和 mono 部署了 ASP.NET 4.0 网站。

我想使用会话状态服务器，我必须`asp-state4`在终端中运行命令，以便状态服务器启动。

当我在上面运行命令时一切正常，但在运行命令后我必须保持该终端打开 -

![在此处输入图像描述](../Images/e4d7fbf7e1ab6be296a59317a4485dc8.png)

如果我关闭该终端状态服务器将停止并且网站将无法工作。

有没有办法让状态服务器在后台运行，而不保持终端打开？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-14T02:43:39.877

对于它的源代码，我们可以看到它就是这样设计的，

[https://github.com/mono/xsp/blob/master/tools/asp_state/asp_state.cs](https://github.com/mono/xsp/blob/master/tools/asp_state/asp_state.cs)

由于源代码是免费提供的，因此可以根据需要对其进行修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-02T03:07:13.450

尝试屏幕命令

```
screen -dmS aspstate asp-state 
```

# c++ - 'InterlockedIncrement'：在 Visual C++ 2008 中找不到标识符错误

> ID：15354595
> 
> 赞同：1
> 
> 时间：2013-03-12T06:18:12.210
> 
> 标签：c++, visual-c++-2008

嗨我已经编译了以下指定的代码

```
long (*interlocked_increment) (volatile long *);
long InterlockedIncrement(volatile long & value) const {
        return interlocked_increment(&value);
      }
static long m_interlocked_increment(volatile long * pv) {
#ifdef WIN32
  return InterlockedIncrement(pv); 
#elif defined(HAS_SYNC_FUNCTIONS)
  return __sync_fetch_and_add(pv, 1L);
#else
  return ++(*pv);
#endif
} 
```

在 g++ 编译器中它可以正常工作。但是当我在visual c++ 2008中尝试相同的时候它显示了下面指定的错误。我可以解决这个问题吗？

**错误 5 错误 C3861：“InterlockedIncrement”：找不到标识符**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:23:27.367

该`InterlockedIncrement()`函数采用`volatile long &`，而您将其传递给 a `volatile long *`，因此编译器找不到相应的函数签名。

# javascript - 如何使用嵌套的'with'关键字

> ID：15354598
> 
> 赞同：1
> 
> 时间：2013-03-12T06:18:16.920
> 
> 标签：javascript

我可以同时对多个对象使用“with”关键字吗？我试图嵌套它们，但失败了。那么最好的方法应该是什么？

```
var firstVariable ={a: 0, b: 0, c:0};
var secondVariable ={qw :98, ety :367, hg: 356};

with(firstVariable){
    with(secondVariable){  
        a = qw;
        b = ety;
        c = hg;
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T06:27:08.830

~~不，第二个`with`将范围更改为`secondVariable`，您无法访问第一个。~~它会像 Drew Larson 展示的那样工作，但你不应该这样做。

`with`无论如何都不建议使用临时变量，因此示例代码将以这种方式编写（假设`firstVariable`并且`secondVariable`您不想只是这样做很麻烦`firstVariable.a = secondVariable.qw`）：

```
var firstVariable ={a: 0, b: 0, c:0};
var secondVariable ={qw :98, ety :367, hg: 356};

var o1 = firstVariable;
var o2 = secondVariable;

o1.a = o2.qw;
o1.b = o2.ety;
o1.c = o2.hg; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:48:05.693

据我所知，第二个嵌套`with`在第一个的范围内。所以它确实有效。我制作了一个[JSFiddle](http://jsfiddle.net/FWbt7/)来证明这一点。然而，在我的直觉里，这整件事似乎很不对劲。

# java - 将字符串从配置属性文件传递到 bat 文件

> ID：15354602
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:18:29.880
> 
> 标签：java, properties, batch-file

需要帮忙。

我有一个包含字符串的配置属性文件。

我需要将此字符串传递到批处理文件中。

这样做的程序是什么？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:28:49.890

1）读取配置文件（搜索如何读取文件）

2）使用 Runtime.exec() 函数看这里：[Java Runtime.exec()](https://stackoverflow.com/questions/8595748/java-runtime-exec)

# javascript - 关于表单标签内的脚本标签

> ID：15354608
> 
> 赞同：1
> 
> 时间：2013-03-12T06:19:12.253
> 
> 标签：javascript, html

我在一个动态创建选项的选择标签中添加了一个脚本标签。该函数工作正常，但 W3C 验证器给了我关于此语法的 4 个错误。如果你们能找到我解决这个问题的方法，那将会很有帮助。

这些是重复 2 次的**2 个错误。**

**1.**文档类型不允许元素“脚本”在这里

**2.** year_option(); 未完成的“选择”的结束标签

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:37:16.830

1）唯一`<select>`可以拥有的`<option>`标签`<optgroup>`是验证器抱怨的标签，因为`<script>`它不是其中之一——浏览器正在尽最大努力将你的无效标记变成有效的东西，所以尽管它确实有效，这就是你得到错误的原因，如果你实际上是把`<script>`标签放在一个`<select>`

2）你的脚本标签应该在你的页面底部，而不是使用`document.write`将选项标签放在那里，使用DOM方法在事后将选项添加到选择元素

```
<select name="select-box"></select>
<!-- ...rest of page... -->
<script src="external-script.js"></script>

/* contents of external-script.js */
var select_box = document.querySelector("select[name=select-box]"),
    bob_opt  = document.createElement("option"),
    doug_opt = document.createElement("option");

bob_opt.value  = "Bob";
doug_opt.value = "Doug";
bob_opt.appendChild(document.createTextNode("Bob"));
doug_opt.appendChild(document.createTextNode("Doug"));

select_box.appendChild(bob_opt);
select_box.appendChild(doug_opt); 
```

有更快，更整洁，或更精细或更灵活的方法来执行此操作，但这比“正确的方法”更接近于：

```
<select>
    <script>document.write("<option value=\"" + i + "\">one</option>");</script>
</select> 
```

或者您目前可能拥有的任何东西。JS 并不意味着要像那样模板化，而无需为此目的使用/编写模板库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:23:55.293

1) 脚本标签应该位于 head 中，或者文档中的其他位置，但不能位于 select 标签内

2) 看起来您缺少标签，或者由于第一个错误而无法找到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:34:48.107

您可以将标签放在`JavaScript`外面，您可以稍后在页面上呈现标签时`select`附加标签，在页面加载后使用.`option``select``$(document).ready`

您可以通过将 JavaScript 放在单独的文件中来标准化您的代码，在那里您可以这样做

```
$(document).ready(function(){
//Your code to init all things,
//e.g. load options in select box etc..
//so It will be easy later to maintain the code, all init code will go here
}); 
```

或者，如果您不使用 jquery，则可以使用以下代码

```
function your_function(){
//your init code will go here
}
document.getElementsByTagName("body")[0].onLoad = your_function; 
```

就是这样，将您的代码放入`your_function()`

# wcf - 处理来自 nodejs 的 wcf 服务

> ID：15354609
> 
> 赞同：0
> 
> 时间：2013-03-12T06:19:17.477
> 
> 标签：wcf, web-services, node.js, soap, svc

我正在尝试访问soap *URL*，我遇到了不同的文件类型，即`.asmx`和`.svc`. 我使用 node-soap 模块来处理`.asmx`服务。因为`.svc`我在`wcf.js`下面遇到的是代码

```
var BasicHttpBinding = require('wcf.js').BasicHttpBinding
, Proxy = require('wcf.js').Proxy
, binding = new BasicHttpBinding()
, proxy = new Proxy(binding, "https://webservice.kareo.com/services/soap/2.1/")
, message = '<Envelope xmlns=' +
        '"http://schemas.xmlsoap.org/soap/envelope/">' +
             '<Header />' +
               '<Body>' +
                 '<GetData xmlns="http://tempuri.org/">' +
                   '<value>GetAppointments</value>' +
                 '</GetData>' +
                '</Body>' +
           '</Envelope>'

proxy.send(message, "http://www.kareo.com/api/schemas/KareoServices/GetAppointments",       function(response, ctx) {
console.log(response)
}); 
```

我无法理解必须将什么作为消息作为`wcf`Web 服务的输入传递。

谁能给我一些关于这个的想法？这将非常有帮助。

提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-30T10:26:44.097

该消息应包含 wcf 期望的 raw soap。您可以通过在现有的工作 c# 客户端上使用 WCF 日志记录或 Fiddler 来获取它。

# php - 无法使用来自 php 的电子邮件发送多个文本/变量

> ID：15354618
> 
> 赞同：0
> 
> 时间：2013-03-12T06:19:47.917
> 
> 标签：php, html, css, ajax, email

嗨，任何人都可以帮助我在电子邮件中发送更多内容。因为我试图在电子邮件中发送更多我似乎无法发送的内容。我也使用 ajax 来调用和发送这封电子邮件，但只有普通电子邮件有效并注意这种 T_T

HTML 代码：

```
Email:<input type='text' name='' id=''>
Subject:<input type='text' name='' id=''>
Name of Person:<input type='text' name='' id=''>
Company:<input type='text' name='' id=''>
Contact number:<input type='text' name='' id=''>
Message:<textarea></textarea> 
```

PHP 代码：（请注意，这是我需要能够发送电子邮件的整个代码）

```
 mail("email", $subject,
  $message, "From:" . $email); 
```

我尝试在 php 代码中使用它来发送电子邮件，但无济于事......试用代码：

```
$mail = " ".$_REQUEST['Message']."</br> ".$_REQUEST['Contact']."</br> ".$_REQUEST['Name']." </br>  ".$_REQUEST['Company']." "; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:23:47.690

你没有给文本框起任何名字。所以你不能得到这些值。给出适当的名称。尝试这个，

```
Email:<input type='text' name='email' id=''>
Subject:<input type='text' name='Subject' id=''>
Name of Person:<input type='text' name='Name' id=''>
Company:<input type='text' name='Company' id=''>
Contact number:<input type='text' name='Contact' id=''>
Message:<textarea name='Message'></textarea> 
```

# android - YouTube API Android 自动启动

> ID：15354621
> 
> 赞同：31
> 
> 时间：2013-03-12T06:19:59.097
> 
> 标签：android, youtube-api

我在我的应用程序中使用 YouTube API。我的问题是，视频不会自动播放，用户必须按下播放按钮才能开始播放。

我的代码：

```
setContentView(R.layout.playerview_demo);
((YouTubePlayerView)findViewById(R.id.youtube_view)).initialize(DEV_KEY, this); 
```

`youtube_view`布局：

```
<com.google.android.youtube.player.YouTubePlayerView 
    android:id="@id/youtube_view" 
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content" /> 
```

如何让视频自动开始？

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2013-03-14T05:32:41.213

您正在寻找的是 Youtube API 的[loadVideo 方法](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#loadVideo(java.lang.String))。从[文档](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#loadVideo(java.lang.String))：

> `public abstract void loadVideo (String videoId)`
> 
> 加载并播放指定的视频。

你可以像这样使用它：

```
@Override
 public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer player,
    boolean wasRestored) {
  this.player = player;
  player.loadVideo(video.id); // where video.id is a String of a Youtube video ID
} 
```

类似地，还有`cueVideo`一种方法，将视频添加到播放列表，但不会自动开始播放视频。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-03-11T07:33:04.443

使用**loadVideo**函数。

```
public abstract void loadVideo (String videoId, int timeMillis) 
```

加载并播放指定的视频。播放将在视频中的指定时间开始。

videoId - 要播放的视频的 ID timeMillis - 时间，以毫秒为单位

FYR：[https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#loadVideo(java.lang.String)](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#loadVideo(java.lang.String))[阅读器](http://note.taable.com)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-03-18T15:21:58.933

你需要使用`player.cueVideo("video_id");`

这将加载视频，但不会开始自动播放。视频是自动播放的，因为您使用的是`player.loadVideo("video_id");`.

希望能帮助到你。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T07:37:30.667

我自己解决了这个问题，然后我在这里发布：

```
 public void onInitializationSuccess(YouTubePlayer.Provider paramProvider, YouTubePlayer  paramYouTubePlayer, boolean paramBoolean)
 {if (!paramBoolean)paramYouTubePlayer.loadVideo(CLIP_LINK);} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-02-14T15:47:32.193

文件清楚地表明......

> 注意：YouTube 仅计算通过本机播放按钮启动的播放。

但你可以简单地打电话`youtubeplayer.loadVideo(VIDEO_ID,0) // 0 millis, start right away`

否则，您可以使用 CHROMELESS 控件并向其添加自定义控件。然后它可能会起作用。祝一切顺利..

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-12T06:49:39.207

检查`autoplay`功能是否设置为`1`。默认情况下，播放器将加载初始视频`autoplay`。

更多信息请参考[Youtube 自动播放参数](https://developers.google.com/youtube/player_parameters#autoplay)。

# com - COM 对象的访问冲突错误

> ID：15354623
> 
> 赞同：0
> 
> 时间：2013-03-12T06:20:12.317
> 
> 标签：com

我有一个使用 COM 用户控件的 .Net winforms 应用程序。我只在一台 Windows 2003 server SP1 机器上看到一个奇怪的问题，关闭时应用程序崩溃。相同的应用程序可以在不同操作系统的不同机器上正确运行，包括 windows 2003 SP3。任何人都有任何线索，什么因素会影响，在处理 COM 控件时，为什么只会在那台机器上显示错误？

# selenium - 是否可以在 Selenium IDE 中获取 CSS 调用的图像的绝对 URL？

> ID：15354624
> 
> 赞同：1
> 
> 时间：2013-03-12T06:20:15.293
> 
> 标签：selenium, selenium-ide

我想知道是否有可能（但我有预感它不是......）检索由特定 CSS 类加载的图像的绝对 URL。

例如：

```
<div class="rabbit"> 
```

css 中的兔子有一个背景图片...我如何获取该背景图片的 URL？

我之所以询问如何在 Selenium IDE 中执行此操作是因为在我的公司中我们使用它。

我仍在谷歌搜索，由于我对 JS 不是很精通，我很容易错过一个简单的解决方案！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T11:42:12.350

这是一个快速指针

您需要使用 storeEval 运行一些 js 并存储值，因此请查看 Selenium IDE 文档

然后js会是这样的......

```
getComputedStyle(document.getElementById('hireme'),'').getPropertyValue('background-image'); 
```

如果你运行上面的代码片段，在这个页面的控制台中你应该得到类似这样的东西......

```
"url(http://careerscdn.sstatic.net/careers/gethired/img/careers2-ad-header-so-crop.png)" 
```

希望这对于您想要做出的任何断言都足够好

你需要`document.getElementById('hireme')`用`document.getElementsByClassName('rabbit')[0]`;替换

希望这会有所帮助，如果您需要任何澄清，请使用评论。

您可能还需要`this.browserbot.getCurrentWindow().`在调用之前添加`document.getElementById`

# haskell - 在 Haskell 中混合 ByteString 解析和网络 IO

> ID：15354636
> 
> 赞同：6
> 
> 时间：2013-03-12T06:21:08.910
> 
> 标签：haskell

# 背景

我正在尝试为二进制网络协议编写客户端。所有网络操作都通过单个 TCP 连接执行，因此从这个意义上说，来自服务器的输入是连续的字节流。然而，在应用层，从概念上讲，服务器在流上发送一个数据包，客户端继续读取，直到它知道该数据包已完整接收，然后才发送自己的响应。

完成这项工作所需的大量工作涉及解析和生成二进制数据，为此我使用了 Data.Serialize 模块。

# 问题

服务器在 TCP 流上向我发送一个“数据包”。数据包不一定由换行符终止，也不是预定大小。它*确实*由预定数量的字段组成，并且字段通常以描述该字段长度的 4 字节数字开头。在 Data.Serialize 的帮助下，我已经有了将这个数据包的 ByteString 版本解析为更易于管理的类型的代码。

我希望能够编写一些具有这些属性的代码：

1.  解析只定义一次，最好在我的 Serialize 实例中。我宁愿不在 IO monad 中进行额外的解析来读取正确的字节数。
2.  当我尝试解析一个给定的数据包并且还没有所有字节都到达时，惰性 IO 只会等待额外的字节到达。
3.  相反，当我尝试解析给定数据包并且其所有字节*都已*到达时，IO 不再阻塞。也就是说，我想从服务器读取足够的流来解析我的类型并形成响应以发回。如果在足够的字节到达解析我的类型之后 IO 阻塞，那么客户端和服务器将陷入死锁，每个都在等待来自另一个的更多数据。
4.  在我发送我自己的响应之后，我可以通过解析我期望来自服务器的下一个类型的数据包来重复这个过程。

简而言之， **是否可以利用我当前的 ByteString 解析代码与惰性 IO 结合来从网络中读取正确数量的字节？**

# 我试过的

我尝试将惰性 ByteStreams 与我的 Data.Serialize 实例结合使用，如下所示：

```
import Network
import System.IO
import qualified Data.ByteString.Lazy as L
import Data.Serialize

data MyType

instance Serialize MyType

main = withSocketsDo $ do
  h <- connectTo server port
  hSetBuffering h NoBuffering
  inputStream <- L.hGetContents h
  let Right parsed = decodeLazy inputStream :: Either String MyType
  -- Then use parsed to form my own response, then wait for the server reply... 
```

这似乎主要在上面的第 3 点上失败：即使在有足够数量的字节到达解析 MyType 之后，它仍然保持阻塞。我强烈怀疑这是因为 ByteStrings 一次以给定的*块大小*读取，并且`L.hGetContents`正在等待该块的其余部分到达。虽然读取有效块大小的这种属性有助于从磁盘进行有效读取，但它似乎妨碍了我读取足够的字节来解析我的数据。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T08:29:10.047

你的解析器出了点问题，它太急切了。由于某种原因，它很可能需要消息之后的下一个字节。`hGetContents`from`bytestring`不会阻止等待整个块。它在`hGetSome`内部使用。

我创建了简单的测试用例。服务器每秒发送一次“hello”：

```
import Control.Concurrent
import System.IO
import Network

port :: Int
port = 1234

main :: IO ()
main = withSocketsDo $ do
  s <- listenOn $ PortNumber $ fromIntegral port
  (h, _, _) <- accept s

  let loop :: Int -> IO ()
      loop 0 = return ()
      loop i = do
        hPutStr h "hello"
        threadDelay 1000000
        loop $ i - 1
  loop 5

  sClose s 
```

客户端懒洋洋地读取全部内容：

```
import qualified Data.ByteString.Lazy as BSL
import System.IO
import Network

port :: Int
port = 1234

main :: IO ()
main = withSocketsDo $ do
  h <- connectTo "localhost" $ PortNumber $ fromIntegral port
  bs <- BSL.hGetContents h
  BSL.putStrLn bs
  hClose h 
```

如果您尝试同时运行两者，您将看到客户端每秒钟打印一次“hello”。所以，网络子系统没问题，问题出在其他地方——很可能在你的解析器中。

# svnkit - 如何使用 SVNKit java API 知道标签的分支？

> ID：15354637
> 
> 赞同：0
> 
> 时间：2013-03-12T06:21:14.083
> 
> 标签：svnkit

有人可以告诉我如何找出 svn 标签的分支吗？如果有任何工作代码可以让我获得某些标签的分支，那会很棒吗？谢谢。

到目前为止，我使用此命令行命令在控制台上查看它

svn log -v -l 2 "标签路径"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-22T04:46:23.993

解决。

```
ISVNLogEntryHandler handler = new ISVNLogEntryHandler() {
                @Override
                public void handleLogEntry(SVNLogEntry arg0) throws     SVNException {
                    Map<String, SVNLogEntryPath> map = arg0.getChangedPaths();
                    for (Map.Entry<String, SVNLogEntryPath> entry: map.entrySet()) {
                        SVNLogEntryPath svnLogEntryPath = entry.getValue();
                         System.out.println(Calendar.getInstance().getTime());
                        System.out.println("Path : " + svnLogEntryPath.getPath());
                        System.out.println("Kind : " + svnLogEntryPath.getKind());
                        System.out.println("Type : " + svnLogEntryPath.getType());
                        System.out.println("Copy Path : " + svnLogEntryPath.getCopyPath()); // gives the tag's branch
                        System.out.println("Branch : " + svnLogEntryPath.getCopyPath().substring(svnLogEntryPath.getCopyPath().lastIndexOf('/')+1)); // gives the tag's branch
                        System.out.println("Copy Revision : " + svnLogEntryPath.getCopyRevision());

                        System.out.println("------------------------");
                    }   
                }
            }; 
ISVNAuthenticationManager authManager = SVNWCUtil.createDefaultAuthenticationManager(userName, password);

boolean readonly = true;
            ISVNOptions options = SVNWCUtil.createDefaultOptions(readonly);

            // Get log client
            SVNLogClient logClient = new SVNLogClient(authManager, options);

String[] paths = { pathToTag};

logClient.doLog(svnurl, paths, SVNRevision.HEAD, startRevision, SVNRevision.HEAD, true, true, 2, handler); 
```

# javascript - javascript 预加载器/进度/百分比

> ID：15354640
> 
> 赞同：8
> 
> 时间：2013-03-12T06:21:19.813
> 
> 标签：javascript, jquery, progress-bar, preloader, image-preloader

我很难找到有关如何制作带有告诉您百分比的文本的 javascript（或 jquery）进度条的任何好的信息。

我不想要一个插件，我只想知道它是如何工作的，以便我可以适应我的需要。如何预加载图像并获取预加载图像数量的变量。此外，如何根据已加载的图像数量更改 html/css 和 - 或调用函数？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T06:48:49.787

`<img>`元素具有`onload`在图像完全加载后触发的事件。因此，在 js 中，您可以跟踪已加载的图像数量与使用此事件的剩余数量。

当图像加载失败或下载被中止（通过用户按下“x”按钮）时，图像也有相应的`onerror`和`onabort`事件触发。您还需要跟踪它们以及`onload`事件以正确跟踪图像加载。

* * *

## 补充回答：

纯js中的一个简单例子：

```
var img_to_load = [ '/img/1.jpg', '/img/2.jpg' ];
var loaded_images = 0;

for (var i=0; i<img_to_load.length; i++) {
    var img = document.createElement('img');
    img.src = img_to_load[i];
    img.style.display = 'hidden'; // don't display preloaded images
    img.onload = function () {
        loaded_images ++;
        if (loaded_images == img_to_load.length) {
            alert('done loading images');
        }
        else {
            alert((100*loaded_images/img_to_load.length) + '% loaded');
        }
    }
    document.body.appendChild(img);
} 
```

上面的示例没有处理`onerror`或`onabort`为了清楚起见，但现实世界的代码也应该处理它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T06:38:42.550

使用下面的东西怎么样：

```
$('#btnUpload').click(function() {
    var bar = document.getElementById('progBar'),
        fallback = document.getElementById('downloadProgress'),
        loaded = 0;

    var load = function() {
        loaded += 1;
        bar.value = loaded;

        /* The below will be visible if the progress tag is not supported */
        $(fallback).empty().append("HTML5 progress tag not supported: ");
        $('#progUpdate').empty().append(loaded + "% loaded");

        if (loaded == 100) {
            clearInterval(beginLoad);
            $('#progUpdate').empty().append("Upload Complete");
            console.log('Load was performed.');
        }
    };

    var beginLoad = setInterval(function() {
        load();
    }, 50);

}); 
```

[**JSFIDDLE**](http://jsfiddle.net/rfYJB/)

您可能还想尝试 HTML5 进度元素：

```
<section>
<p>Progress: <progress id="p" max=100><span>0</span>%</progress></p>

<script>
var progressBar = document.getElementById('p');

function updateProgress(newValue) {
progressBar.value = newValue;
progressBar.getElementsByTagName('span')[0].textContent = newValue;
} </script>
</section> 
```

[http://www.html5tutorial.info/html5-progress.php](http://www.html5tutorial.info/html5-progress.php)

# jsf - 通过@ManagedProperty 从另一个访问一个托管 bean

> ID：15354642
> 
> 赞同：0
> 
> 时间：2013-03-12T06:21:23.397
> 
> 标签：jsf, managed-bean

我有 2 个 jsf 页面和 2 个 bean。第一个页面是登录页面，用户输入他的登录密码，然后他重定向到他的邮箱页面。我想从登录页面获取数据到邮箱页面。

我用于登录页面的 bean：

```
@ManagedBean(name = "login")
@ConcurrencyManagement(ConcurrencyManagementType.CONTAINER)
@RequestScoped
public class LoginFormBean {

    @EJB
    private LoginService loginService;

    private String email;

    private String password;

    public String getEmail() {
        return email;
    }

    public String getPassword() {
        return password;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String login() {
        if (loginService.loginUser(email, password))
          return "mailBox.xhtml?faces-redirect=true";
        else return "";
    }

} 
```

我的邮箱页面 bean：

```
@ManagedBean(name = "mailBox")
@ConcurrencyManagement(ConcurrencyManagementType.CONTAINER)
@RequestScoped
public class MailBoxFormBean {

    @ManagedProperty(value = "#{login}")
    private LoginFormBean login;

    private String email = login.getEmail();

    public void setLogin(LoginFormBean login) {
        this.login = login;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    public String getEmail() {
        return email;
    }
} 
```

但是当我重定向到邮箱页面时，登录 bean 为空，我无法从中获取数据。我做错了什么？

我看过很多教程和答案（例如， [Using @ManagedProperty to call method between Managed beans](https://stackoverflow.com/questions/8969791/using-managedproperty-to-call-method-between-managed-beans) or [http://www.techartifact.com/blogs/2013/01/access-one-managed-bean-from-另一个-in-jsf-2-0.html](http://www.techartifact.com/blogs/2013/01/access-one-managed-bean-from-another-in-jsf-2-0.html) )

我做的完全一样，但它对我不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:58:49.507

The problem is that your `login` bean is marked as `@RequestScoped`, so as soon as you redirect away from the login page, the value is discarded. Try `@SessionScoped` instead: that's usually the correct scope for user login information.

# jquery - Twitter bootstrap 模态动画关闭

> ID：15354644
> 
> 赞同：1
> 
> 时间：2013-03-12T06:21:27.770
> 
> 标签：jquery, twitter-bootstrap, hide, modal-dialog, css-transitions

我正在尝试使用 animate.less 库将动画添加到引导模式。

当显示模态时，动画完全工作。但是在隐藏模式时，动画不起作用。我创建了一个 jsfiddle 来复制它。

[http://jsfiddle.net/W6G4q/1/](http://jsfiddle.net/W6G4q/1/)

```
<a href="#" role="button" class="letclick btn btn-warning" id='loginLink' targetLink="login">     
        <i class="icon-user icon-white"></i>
        Sign In
    </a>
    <div class="modal hide login-modal animated bounceOutRight" tabindex="-1"  aria-labelledby="LoginModal" aria-hidden="true" id="login" >
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—&lt;/button>
    <h3 id="myModalLabel">Login</h3>
</div>
<div class="modal-body">

 SHOWING
</div>
    <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        </div>
</div> 
```

JS

```
 $('#loginLink').click(function(){
        $('#login').modal({
        backdrop: true,
        keyboard: true
    }).css({
        'width': function () {
            return (350) + 'px'; 
        },
        'margin-left': function () {
            return -($(this).width() / 2);
        }
    });

        $('#login').toggleClass('bounceInLeft bounceOutRight')
    });
     $('#login').on('hide', function(){

        $(this).toggleClass('bounceOutRight bounceInLeft');

    }); 
```

bounceOutRight 和bounceInLeft 工作正常，是库 animate.less 提供的基于 css 的动画

我确定我没有正确调用 hide，也许 hide 在动画之前放入隐藏类。我不确定，任何帮助都会很棒。

JS小提琴链接：http: [//jsfiddle.net/W6G4q/1/](http://jsfiddle.net/W6G4q/1/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T10:26:53.210

我不是 jQuery 或 Bootstrap Ninja，但我尝试了一种解决方法，它似乎正在工作：

[http://jsfiddle.net/DrCtZ/](http://jsfiddle.net/DrCtZ/)

HTML

```
<a href="#!" role="button" class="btn btn-warning" id='loginLink'>     
   <i class="icon-user icon-white"></i> Sign In
</a>

<div class="modal hide animated bounceInRight" id="login" >
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h3 id="myModalLabel">Login</h3>
    </div>

    <div class="modal-body">
        SHOWING
    </div>

    <div class="modal-footer">
        <button class="btn" data-dismiss="modal">Close</button>
    </div>
</div> 
```

JS

```
$(document).ready(function(){
        $('#loginLink').click(function(e){
            e.preventDefault();

            $('#login').on('hide', function(e) {
                if($('#login').hasClass('bounceInRight'))
                {   e.preventDefault();

                $('#login').removeClass('bounceInRight').addClass('bounceOutRight');

                setTimeout("$('#login').modal('hide')", 550);}
            });

            $('#login').modal('show');
        });
    }); 
```

简短说明：实际上模态是手动显示的。然后，在隐藏时，您会阻止根据需要更改类的操作，然后手动关闭模式。setTimeout 在这里是因为弹跳动画比默认动画长...

添加了 if 大括号并完美运行

# ios - 在 XCode 4.6 中使用 Subversion

> ID：15354646
> 
> 赞同：1
> 
> 时间：2013-03-12T06:21:35.743
> 
> 标签：ios, xcode, svn

我以前很少有使用 VSS 的经验。对于 iOS 开发，我在远程 Windows 机器上安装了 Subversion，并从我的 Mac 访问它。我有一些灰色区域需要清理。

1.  [这](http://iphonedevelopment.blogspot.com/2009/03/version-control-is-your-friend.html)是我遵循的教程之一。但它是基于旧版本的 XCode 编写的。XCode 首选项中的 SCM 选项卡不在 XCode 4.6 中。它是完全移除还是移动到其他地方？

2.  选择 Subversion 而不是 Git 的主要原因是能够在 Subversion 中锁定文件。我知道你可以通过终端做到这一点。有没有办法通过 XCode 本身来做到这一点？

3.  假设我将一个 XCode 项目签出到我的本地 mac。并锁定了某个文件。另一位同事也签出同一个项目来编辑我锁定的同一个文件。我读到其他人也可以编辑该文件，但由于它被锁定，他无法将其提交回来。有没有办法在签出时通知其他人某个文件被锁定？

4.  在存储库中，我创建了标准标签、分支和主干文件夹。该项目应该在主干文件夹中，对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:27:50.213

1.  从菜单栏中，选择“窗口”>“管理器”。然后在管理器窗口中，选择存储库选项卡。左下角的 + 按钮可让您添加新的存储库。

2.  不。

3.  [我想你可以尝试设置`svn:needs-lock`属性，](https://stackoverflow.com/questions/569948/force-user-to-lock-file-in-svn-before-editing)但你不能从 Xcode 中做到这一点。

4.  是的。

# java - 如何将editext值转换为整数？

> ID：15354647
> 
> 赞同：-4
> 
> 时间：2013-03-12T06:21:39.357
> 
> 标签：java, android

这个带有edittext的警报框代码在这个m中从用户那里获取值...我想将该值转换为整数n在我的代码中使用..

```
AlertDialog.Builder alert = new AlertDialog.Builder(this);

    alert.setTitle("Enter Your Weight");
    alert.setMessage("");

    // Set an EditText view to get user input 
    final EditText input = new EditText(this);
    alert.setView(input);

    alert.setPositiveButton("Ok", new DialogInterface.OnClickListener() {
    public void onClick(DialogInterface dialog, int whichButton) {
     Editable  value = input.getText();
      Toast.makeText(getApplicationContext(), "Weight is..."+value, Toast.LENGTH_LONG).show();
      // Do something with value!
      }
    });

    alert.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
      public void onClick(DialogInterface dialog, int whichButton) {
        // Canceled.
      }
    });

    alert.show(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:27:48.333

您需要将输入类型设置为数字，它不应该接受任何小数或字符，所以我使用了 KeyListener。

```
final EditText input = new EditText(this);
input .setInputType(InputType.TYPE_CLASS_NUMBER);
input .setKeyListener(DigitsKeyListener.getInstance("0123456789")); 
```

用于转换为 int

```
Integer.parseInt(input.getText().toString()); 
```

希望这能解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:22:32.497

一般`EditText`包含 String 值所以使用`Integer.parseInt()`Java 的方法转换`String`成`Integer`.

```
int numericValue = Integer.parseInt(yourEditText.getText().toString().trim()); 
```

不要忘记`trim()`将值`EditText`转换为数字时可能包含空格。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T06:22:52.010

```
Integer.parseInt(input.getText().toString)); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T06:23:33.650

你可以这样做

**`int value = Integer.parseInt(input.getText().toString));`**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-12T06:27:14.680

U 可以使用 Integer.parseInt() 将字符串转换为整数。

或者您可以使用 set input type for edittext 直接输入整数

# java - “无法获得 wglGetExtensionsStringARB”错误

> ID：15354654
> 
> 赞同：6
> 
> 时间：2013-03-12T06:22:04.697
> 
> 标签：java, android

运行模拟器时收到此消息，但应用程序运行良好。请帮助我如何解决它。

```
[2013-03-12 12:58:08 - tes] ------------------------------
[2013-03-12 12:58:08 - tes] Android Launch!
[2013-03-12 12:58:08 - tes] adb is running normally.
[2013-03-12 12:58:08 - tes] Performing com.example.tes.MainActivity activity launch
[2013-03-12 12:58:08 - tes] Automatic Target Mode: launching new emulator with compatible AVD 'andro-google8'
[2013-03-12 12:58:08 - tes] Launching a new emulator with Virtual Device 'andro-google8'
[2013-03-12 12:58:12 - Emulator] Failed to create Context 0x3005
[2013-03-12 12:58:12 - Emulator] emulator: WARNING: Could not initialize OpenglES emulation, using software renderer.
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - Emulator] could not get wglGetExtensionsStringARB
[2013-03-12 12:58:12 - tes] New emulator found: emulator-5554
[2013-03-12 12:58:12 - tes] Waiting for HOME ('android.process.acore') to be launched... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-24T12:57:16.503

试试[这里的答案](https://stackoverflow.com/questions/11407501/android-emulator-could-not-get-wglgetextensionsstringarb-error)。

您也可以尝试增加模拟器的内存。

# javascript - jquery复选框更改，单击事件不适用于jQuery1.8.2

> ID：15354658
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:22:23.920
> 
> 标签：javascript, jquery

我有一个简单的 js，我在其中显示单击或更改复选框事件的警报。我正在使用 jquery-1.8.2.js 库文件。该代码在 jsFiddle 中运行良好，但在其他地方无法运行。我无法弄清楚这里可能是什么问题。

```
<input type="checkbox" id-="chkJS"/><label for "chkJS">click this</label>

$(document).ready(function(){
    $('#chkJS').change(function(){
    alert("changed it");
    });
    $('#chkJS').click(function(){
    alert("clicked it");
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:24:43.233

您忘记`=`了标签声明和`id-="chkJS"`输入类型。

```
<input type="checkbox" id="chkJS"/><label for="chkJS">click this</label> 
```

**或者**

**您的代码可以正常工作，`fiddle`因为小提琴会自动为您加载 jQuery，而在其他情况下您可能不会加载 jQuery。**

所以请检查是否加载了 jQuery。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:27:53.917

You code the element was having an hyphen for the id attribute, like id-=, so when the selector searches for the element there is no id for that element. 请按如下方式更改，

```
<script src="https://www.google.com/jsapi"></script>
<script>
google.load('jquery', '1.3.1');
</script>
<body>
      <input type="checkbox" id="chkJS"/><label for "chkJS">click this</label>
        <script>
        $(document).ready(function(){
            $('#chkJS').change(function(){
            alert("changed it");
            });
            $('#chkJS').click(function(){
            alert("clicked it");
            });
        });
        </script>
</body> 
```

我希望它有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:24:54.107

您在`id-="chkJS"`属性的输入元素中有错字。应该是这样的

```
<input type="checkbox" id="chkJS"/><label for="chkJS">click this</label> 
```

演示：[复选框演示](http://jsfiddle.net/yhFP6/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:26:53.357

```
id-="chkJS" 
```

应该

```
id="chkJS" 
```

# bulkinsert - 使用 MyBatis ExecutorType.Batch 进行批量插入操作时如何控制批量大小

> ID：15354660
> 
> 赞同：0
> 
> 时间：2013-03-12T06:22:27.223
> 
> 标签：bulkinsert, ibatis, batch-processing, mybatis, batch-insert

我正在尝试使用 mybatis 批处理执行（ExecutorType.BATCH）支持。我想批量插入数据库性能和可伸缩性的原因很少的记录。我想覆盖默认的 Mybatis 批量大小。我没有找到任何以编程方式配置批量大小的方法。有没有办法覆盖默认的批量大小？以下是供您参考的代码：

```
public static void BatchUsingMyBatis() throws Exception
    {
        Contact contact = new Contact();
        contact.setname("someone");
        contact.setphone("somephone");
        contact.setemail("someone@somedomain.com");

        ClassPathXmlApplicationContext appContext = 
                new ClassPathXmlApplicationContext("BeanConfiguration.xml");

        SqlSessionFactoryBean factoryBean = appContext.getBean(org.mybatis.spring.SqlSessionFactoryBean.class);
        SqlSessionFactory factory = factoryBean.getObject();
        SqlSession session = factory.openSession(ExecutorType.BATCH, false);

        session.insert ("ins", contact);
        session.insert ("ins", contact);
        session.insert ("ins", contact);
        session.insert ("ins", contact);
        session.insert ("ins", contact);

        session.commit();
    } 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:49:55.083

如果我正确理解您的需求，并且您希望能够配置会话，以便一次提交将生成多个批量插入。例如，如果有可能设置一次发送最多的语句，您提供的代码将生成一个批量插入（一次三行）和另一批量插入（一次两行）。我找不到有关此类功能的信息，并且我相信没有此类功能，但是要实现此行为，您需要覆盖 BatchExecutor doUpdate 方法和 Configuration newExecutor 方法，以便它知道新的 Executor 类。

# random - 种子伪随机数生成器

> ID：15354665
> 
> 赞同：1
> 
> 时间：2013-03-12T06:22:48.583
> 
> 标签：random, numbers, random-seed, noise-generator

我正在开发一个基于种子整数和其他两个整数的 Perlin 噪声生成器：x 和 y。

到目前为止，伪随机数生成器如下所示：

```
private float noise(int x, int y) {     

    int n = x + y * seed;
    return (1.0f - ((n * (n * n * 15731 + 789221) + 1376312589) & 0x7fffffff) / 1073741824f);

} 
```

但是这种实现存在一些问题：首先，返回间隔不是恒定的（理想情况下，我想使用 [-1, 1] 或 [0, 1]），对于负 x 和 y 值，图案变得块状，看起来一点也不有机。有没有办法改变我的公式（或者可能是一个全新的公式）来满足我的需要？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T15:48:47.577

我用这个（我在网上找到的，但我没有原来的链接了）：

```
private double noise(int x, int y) {
    int n=(int)x*331+(int)y*337; // add your seed on this line.
    n=(n<<13)^n;
    int nn=(n*(n*n*41333 +53307781)+1376312589)&0x7fffffff;       
    return ((1.0-((double)nn/1073741824.0))+1)/2.0;

} 
```

您可以轻松地将种子添加到其中。

# templates - Grid App 中的多个项目模板

> ID：15354668
> 
> 赞同：0
> 
> 时间：2013-03-12T06:22:54.833
> 
> 标签：templates, windows-8, microsoft-metro, windows-store-apps, winjs

我正在开发基于 Grid 应用程序模板的 Windows Store 应用程序。创建新项目后，会为应用程序生成一些示例数据。应用程序中只有三个页面：主页、分组项目和项目详细信息。

我想知道是否可以为项目详细信息提供不同的模板，如果可以，如何。

例如，我有一个包含智能手机列表的组和另一个包含打印机列表的组。在智能手机项目详细信息模板中，我可能会有“存储卡”、“扬声器”和“操作系统”等字段，而在打印机项目详细信息模板中，我会有“速度”、“已接受”等字段墨盒”和“纸张尺寸”。

我应该如何添加项目详细信息模板并根据查看的项目使用正确的模板？我查看了[http://babaandthepigman.wordpress.com/2012/02/08/datatemplateselector-winrt/](http://babaandthepigman.wordpress.com/2012/02/08/datatemplateselector-winrt/)但这似乎仅适用于 XAML 应用程序。我没有使用 XAML/VB/C++/C#，而是 JavaScript 和 HTML5。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T16:49:07.620

要明确网格项目模板中的三个页面是`groupedItems`（“中心”）、`groupDetail`（“部分”）和`itemDetail`（“细节”）。我实际上希望他们将这些页面命名为“hub”、“section”和“detail”。

如果您正在谈论拥有多个项目模板，以便中心 (groupedItems) 页面上的项目图块看起来因项目类型而异，那么最简单的方法是在 HTML 中提供多个项目模板 (WinJS.Binding.Template)然后编写自定义模板选择函数。这并不难。如果您查看我的 codeSHOW 应用程序 ( [codeshow.codeplex.com](http://codeshow.codeplex.com) )，您可以看到一个示例……查看 home.js 页面。源是在线的，所以你可以[在这里](http://codeshow.codeplex.com/SourceControl/changeset/view/b78af3e1790a#codeSHOW/pages/home/home.js)看到那个页面。

如果您正在谈论拥有多个详细信息 (itemDetail) 页面，以便当用户从中心单击某个项目时，他们可能会被带到有关手机与打印机的一整页信息，那么这只是一个问题拥有多个页面，并且对您导航到的页面具有智能。如果用户从集线器单击电话，则导航到 /pages/phone/phone.html。如果他们单击打印机，则导航​​到 /pages/printer/printer.html。

最后，如果您的实体（即电话和打印机）足够相似，那么您可能希望保留一个页面来表示它们，并让该页面足够智能以修改其模板以获取正确的项目。在这种情况下，您可以在页面上创建两个模板（再次是 WinJS.Binding.Template），当实体被传递到页面（的“选项”部分`ready(element,options)`）时，您只需检查它并查看实体类型（即电话或打印机），然后将数据渲染到正确的模板中。codeSHOW 上的[Binding and](http://codeshow.codeplex.com/SourceControl/changeset/view/b78af3e1790a#codeSHOW/demos/binding/binding.html) Templating和[Fragments and Pages演示可能会有所帮助。](http://codeshow.codeplex.com/SourceControl/changeset/view/b78af3e1790a#codeSHOW/demos/fragment/fragment.html)

如果您需要更多帮助，您可以在[usdpe.ohours.org](http://usdpe.ohours.org)与 Microsoft 开发人员宣传员安排一对一的时间。玩得开心！

# c++ - c++ 类的声明错误

> ID：15354673
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:23:21.800
> 
> 标签：c++

我有一个`info`具有多种功能的结构。其中一个函数是`info combineInfo`并接受两个参数（两组信息）。

```
Info combineInfo(info1, info2); 
```

在`main`我使用构造函数将所有内容输入到 info1 和 info2 中，一切都很好。但是，`combineInfo(info1, info2)`从`main`. 我收到消息“错误：`combineInfo`未在此范围内声明”。

```
Info info1; //this is from a constructor that inputs all the values from cin.
Info info2; // ^^
Info3 =  combineInfo(info1, info2;
info3.printinfo(); // constructor from class, works fine. 
```

该函数如下所示：

```
Info Info::combineInfo(Info1, Info2); // sets some values of info1 to info3 and some of info2 to info3\. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:34:59.000

函数应该是：

```
 class Info{
    static Info combineInfo(Info info1, Info info2) { 
      //implementation  
    }
    //the rest of the class implementation!
  }; 
```

而且由于它是一个成员函数，它需要范围解析操作符`::`。

`info3 = Info::combineInfo(info1, info2);`这就是你所说的！

您期望的当前实现`combineInfo`在全局范围内，而它在类（成员函数）内 - 因此出现错误！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T13:49:38.483

使用信息::combineInfo(info1, info2);

您不能直接访问外部的成员功能。您需要使用范围解析运算符 :: 或 . 访问它。

# delphi - 如何在 Borland Delphi 2006 中调试 DCU？

> ID：15354676
> 
> 赞同：1
> 
> 时间：2013-03-12T06:23:27.820
> 
> 标签：delphi, debugging, delphi-2006, dcu

我使用 Borland Delphi 2006（文件夹名称：）`C:\Program files\borland\BDS\4.0`，我想启用`debug DCUs`. 我在哪里可以找到这个选项？在工具->选项->调试器选项中它不存在。

注意：我也有 Embarcadero 开发者工作室，但我讨厌它。我的项目也是在 BDS 4.0 下编写的。

截图：

![在此处输入图像描述](../Images/1c5cec2d5df5855e6578b6464b4d8808.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:03:35.943

*您可能会对debug .dcu*不是调试器选项而是**编译器选项**这一事实感到困惑。

编译器是生成并包含在 Delphi RTL/VCL 中调试所需的符号的编译器吗？

> 调试 DCUIL (.NET) 或 DCU (Win32) 包含调试信息并使用堆栈帧构建。选中此选项时，编译器会将调试 DCUIL/DCU 路径添加到在目录/条件页面的调试源路径中指定的单元搜索路径。

该选项位于每个项目的编译器选项下，位于：

**项目\选项\编译器\调试\使用调试 DCU**

**注意**我现在真的没有 BDS2006，我拥有的最接近的版本是 BDS2007，但 AFAIK 该选项的名称相同。

![使用调试 DCU](../Images/5e6202755239b0c440007b1d72db6630.png)

# android - 使用 cwac-endless 适配器加载无限的 ListView 图像

> ID：15354679
> 
> 赞同：0
> 
> 时间：2013-03-12T06:23:39.343
> 
> 标签：android, android-listview, cwac-endless

[我编写了以下代码，该代码使用CWAC Endless Adapter](https://github.com/commonsguy/cwac-endless)实现了 ListView 的无限滚动。使用 AsyncTasks 从 Web 按需检索图像：

```
package com.myproject.ui.adapter;

import java.io.InputStream;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;

import android.content.Context;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.AsyncTask;
import android.util.LruCache;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;

import com.commonsware.cwac.endless.EndlessAdapter;

public class MyThumbsAdapter extends EndlessAdapter {

    public static class FetchThumbTask extends AsyncTask<String, Void, Bitmap> {

        private final Context mContext;
        private final BaseAdapter mAdapter;
        private final String mThumbId;
        private final View mView;

        public FetchThumbTask(Context context, BaseAdapter adapter, View view, String thumbId) {
            mContext = context;
            mAdapter = adapter;
            mView = view;
            mThumbId = thumbId;
        }

        @Override
        protected Bitmap doInBackground(String... arg0) {
            Bitmap bitmap = null;
            if (cache.get(mThumbId) == null) {
                // Fetch thumbnail
                try {
                    URL url = new URL(...);
                    InputStream is = url.openStream();
                    bitmap = BitmapFactory.decodeStream(is);
                    cache.put(mThumbId, bitmap);
                } catch (Exception e) {
                    ...
                }
            }
            return bitmap;
        }

        @Override
        protected void onPostExecute(Bitmap bitmap) {
              // Set the loaded image on the ImageView
                      ImageView imageView = (ImageView) mView.findViewById(R.id.thumb_image);
            if (imageView != null) {
                imageView.setImageBitmap(bitmap);
            }
        }
    }

    public static class MyThumbsBaseAdapter extends BaseAdapter {

        private final Context mContext;
        private final List<String> mThumbIds = new ArrayList<String>();

        public MyThumbsBaseAdapter(Context context) {
            mContext = context;
        }

        public void addThumbIds(List<String> thumbIds) {
            mThumbIds.addAll(thumbIds);
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            String thumbId = mThumbIds.get(position);
            View rootView = convertView;

            if (rootView == null) {
                rootView = LayoutInflater.from(parent.getContext()).inflate(
                        R.layout.thumbnails, null);
            }
            ImageView imageView =
                    (ImageView) rootView.findViewById(R.id.doodle_thumb_image);

            Bitmap bitmap = cache.get(thumbId);
            if (bitmap == null) {
                loadThumbBitmap(rootView, thumbId);
            } else if (imageView != null) {
                imageView.setImageBitmap(bitmap);
            }

            return rootView;
        }

        @Override
        public int getCount() {
            return mThumbIds.size();
        }

        @Override
        public Object getItem(int position) {
            return null;
        }

        @Override
        public long getItemId(int position) {
            return 0;
        }

        private void loadThumbBitmap(View view, String thumbId) {
            new FetchThumbTask(mContext, this, view, thumbId)
                .executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);
        }
    }

    static {
        int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);
        int cacheSize = maxMemory / 8;
        cache = new LruCache<String, Bitmap>(cacheSize) {
            @Override
            protected int sizeOf(String key, Bitmap bitmap) {
                // The cache size will be measured in kilobytes rather than
                // number of items.
                return bitmap.getByteCount() / 1024;
            }
        };
    }

    private static final LruCache<String, Bitmap> cache;

    private List<String> mThumbIdsCache;

    public MyThumbsAdapter(Context context) {
        super(new MyThumbsBaseAdapter(context));
    }

    @Override
    protected View getPendingView(ViewGroup parent) {
        return LayoutInflater.from(parent.getContext())
                .inflate(R.layout.loading_thumb, null);
    }

    @Override
    protected boolean cacheInBackground() throws Exception {
        JsonReader reader = // Retrieve thumb ids list from server
        mThumbIdsCache = // Returned thumb ids list
        return true;
    }

    @Override
    protected void appendCachedData() {
        MyThumbsBaseAdapter adapter = (MyThumbsBaseAdapter) getWrappedAdapter();
        adapter.addThumbIds(mThumbIdsCache);
    }
} 
```

我正在使用 LruCache 缓存从网络加载的位图。问题是在我的 Nexus 7 上进行测试时，我看到很多缓存未命中，它应该有足够的可用内存。当我向上/向下滚动 ListView 时，这会导致图像弹出到位。

更糟糕的是，我看到应用程序崩溃并出现 OutOfMemory 错误，但我无法始终如一地重现。

我在这里做错了什么？我不应该为每个图像触发单独的 AsyncTasks 吗？

编辑：我还应该提到我正在下载的图像是预先缩放的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:40:39.480

我认为您需要做的是`Thumbnails`在屏幕上显示而不是位图图像。您可以根据您的尺寸要求生成[缩略图和显示。](http://developer.android.com/reference/android/media/ThumbnailUtils.html#extractThumbnail%28android.graphics.Bitmap,%20int,%20int,%20int%29)并且每当用户单击时`Thumb`，只需采用原始路径并设置壁纸。

另一种选择是您可以使用[通用图像加载器](https://github.com/nostra13/Android-Universal-Image-Loader)，它可以帮助您将图像缓冲在磁盘中（如`SD card`或您的应用程序的`Internal memory`）。这样问题`Out of Memory`就可以解决了。

并且对于显示位图的最佳实践，[有效地显示位图](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)将有所帮助。

**编辑：**

为您的应用程序使用以下配置。这将在应用程序的*缓存目录*中缓存图像。

```
File cacheDir = new File(this.getCacheDir(), "cwac");
if (!cacheDir.exists())
    cacheDir.mkdir();

ImageLoaderConfiguration config = new ImageLoaderConfiguration.Builder(
            CWAC.this)
            .threadPoolSize(5)
            .threadPriority(Thread.MIN_PRIORITY + 3)
            .denyCacheImageMultipleSizesInMemory()
            // .memoryCache(new UsingFreqLimitedMemoryCache(2000000)) // You
            // can pass your own memory cache implementation
            .memoryCacheSize(1048576 * 10)
            // 1MB=1048576 *declare 20 or more size if images are more than
            // 200
            .discCache(new UnlimitedDiscCache(cacheDir))
            // You can pass your own disc cache implementation
            //.defaultDisplayImageOptions(DisplayImageOptions.createSimple())
            .build(); 
```

# php - 无法在 Laravel 中通过身份验证在代理后面安装捆绑包

> ID：15354684
> 
> 赞同：1
> 
> 时间：2013-03-12T06:23:54.153
> 
> 标签：php, laravel, laravel-3

我无法安装任何捆绑软件，因为在我的大学里有一个带身份验证的代理。我已经解决了关于这个问题的所有问题，但他们并没有以任何方式帮助我。

我现在使用的是**3.2.13**版本。即使在初始化环境变量之后`export http_proxy=http://<username>:<password>@<proxy_ip>:<proxy_port>`

每次尝试安装任何捆绑包时都会出现以下错误`The bundle API is not responding.`

有人能够提出任何解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T13:53:41.673

对于代理我不能说太多，但是您应该能够通过从 github 下载它们的 .zip 文件来安装捆绑包。我将引导您完成 swiftmailer 捆绑包，例如：

1.  [http://bundles.laravel.com/bundle/swiftmailer](http://bundles.laravel.com/bundle/swiftmailer)
2.  您应该注意到安装命令是`php artisan bundle:install swiftmailer`.
3.  `swiftmailer`是您应该在 bundles 目录中创建的文件夹的名称。
4.  侧边栏有一个指向 Github 上的包存储库的链接。将其下载为 .zip。
5.  只需将其内容解压缩到您刚刚创建的文件夹中即可。
6.  像往常一样注册捆绑包`bundles.php`。

# ms-access - Excel 文件未从 MS Access 关闭

> ID：15354689
> 
> 赞同：0
> 
> 时间：2013-03-12T06:23:59.270
> 
> 标签：ms-access, excel, forceclose, kill-process, vba

我有一个 Excel 仪表板，其中有按钮可以在 MS Access 中执行一些数据清理。Access 数据库从其他两个 Excel 文件中获取数据。当我单独运行 MS Access 时，我没有遇到任何问题。我的用户希望从最终的 Excel 仪表板中完成所有操作。因此，当我从最终的 Excel 报告中调用 Access 模块时，输入的 Excel 文件以只读方式打开并且 Access 操作未完成。每次我被迫终止任务管理器中的进程。我希望输入 Excel 文件正常关闭，并希望 Access 执行一组操作，并且只在 Excel 仪表板中检索最终值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:55:16.823

上传文件后使用这段代码

```
'This will set the sheet object to nothing
set xlsht=Nothing

'This closes the workbook
xlwkb.Close
set xlwkb=Nothing

'This closes the excel application
xlapp.Quit
set xlapp=Nothing 
```

# java - 在java中查看内存分布

> ID：15354690
> 
> 赞同：0
> 
> 时间：2013-03-12T06:24:02.187
> 
> 标签：java, performance

我正在开发一个 Java 应用程序。我已经分配了 Xms=3gb 和 Xmx =4gb。我想检查有多少内存分配给年轻代、老一代和幸存者空间。我没有明确定义 -XX:NewRatio 或 -XX:NewSize。我正在使用 jdk 1.6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:26:18.270

[JVisualvm](http://docs.oracle.com/javase/6/docs/technotes/tools/share/jvisualvm.html)是您正在寻找的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:27:18.770

您可以使用[jmap](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jmap.html)命令行工具：

jmap -heap <进程ID>

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:38:18.487

试试[JConsole](http://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html)：

JConsole 图形用户界面是一个符合 Java 管理扩展 (JMX) 规范的监控工具。JConsole 使用 Java 虚拟机 (Java VM) 的广泛工具来提供有关在 Java 平台上运行的应用程序的性能和资源消耗的信息。

# google-app-engine - Google AppEngine 代理服务器缓存因协议而异

> ID：15354696
> 
> 赞同：0
> 
> 时间：2013-03-12T06:24:24.380
> 
> 标签：google-app-engine, protocols, reverse-proxy

我想要实现的是相同的 url 但不同的协议：

```
http://myserver.com/path
https://myserver.com/path 
```

将返回两种不同的表示。

目前，这两个路径被谷歌 AppEngine 代理服务器缓存，它们基本上无法区分，并且将导致返回相同的表示形式。

我对使用不同的标头进行了一些研究，但是由于请求直接来自用户浏览器，因此我们无法添加额外的自定义标头。

无论如何，服务器可以因协议而异吗？

# android - Android：应用程序级权限

> ID：15354703
> 
> 赞同：1
> 
> 时间：2013-03-12T06:24:55.370
> 
> 标签：android, android-contentprovider, android-permissions

我做了一个应用程序说“TestApp”，其中包含一个内容提供者。内容提供者共享对所有其他应用程序的数据库访问。android中是否有一种机制只允许少数其他具有特定类型权限的应用程序访问“TestApp”的内容提供者？

我不希望没有特定权限的应用程序访问“TestApp”的内容提供者。

作为一个新手，我不知道提出的问题应该具有的标准。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:31:08.137

您可以查看在您的应用程序中提供自定义权限。

[stackoverflow中的自定义权限问题](https://stackoverflow.com/questions/8816623/how-to-use-custom-permissions-in-android)

[开发者.android.com](http://developer.android.com/guide/topics/security/permissions.html)

请注意，这可能会给您的应用程序带来安全问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:40:33.687

执行此操作的通常方法是设置`android:protectionLevel="signature"`您的[权限](http://developer.android.com/guide/topics/manifest/permission-element.html)。这将限制访问仅使用与声明权限的应用程序相同的证书签名的应用程序。这些应用程序可能会声明一个`<uses-permission>`标签以获得访问权限。

另请参阅一般[安全提示](http://developer.android.com/training/articles/security-tips.html)文章。

也就是说，要小心你用这个保护什么。它将阻止用户安装的随机应用程序访问您的数据，但如果用户真的希望绕过这些保护，则不会。如果用户想要让应用程序能够规避这一点，那么用户可以这样做。这仅在通常的安全措施生效时防止其他应用程序获得访问权限。

# ruby-on-rails - Rails：在参数中覆盖模型名称

> ID：15354707
> 
> 赞同：3
> 
> 时间：2013-03-12T06:25:14.843
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activemodel

我有以下模型：

```
class Action < ActiveRecord::Base
  # model code stuff
end 
```

在控制器中，我可以这样做：

```
class ActionsController < ApplicationController
  # super simple update
  def update
    @action = Action.find(params[:id])
    @action.update_attributes(params[:action])
  end
end 
```

是否可以在不重命名模型本身的情况下让我的 Action 模型在 params 数组中由“something_action”表示？即我可以这样检索它：

```
@action.update_attributes(params[:something_action]) 
```

任何帮助，将不胜感激？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T06:28:56.507

在您的 form_for 中使用 :as => :some_other_params_name

```
form_for(@action, :as => :different 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:26:56.250

如果您正在使用`form_for`，您可以将其更改为

```
form_for :something_action, @action do |f| 
```

所以它`:something_action`用作参数的名称

# javascript - IFRAME tiff 图像打印不打印完整图像

> ID：15354708
> 
> 赞同：1
> 
> 时间：2013-03-12T06:25:17.093
> 
> 标签：javascript, iframe, printing, tiff

我面临一个关于 IFRAME 打印功能的问题。Tiff 图像分配给 IFRAME 并正确渲染。我可以看到完整的图像。现在，当我从 javascript 打印时，1）我没有获得页面方向（纵向或横向）2）默认情况下它被视为纵向并且无法获得完整的图像打印。

这是我的代码：-

```
function framePrint() 
         {
                var iframe = $('.Iframe1');
                iframe[0].contentWindow.focus();
                iframe[0].contentWindow.print();
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:34:49.430

您无法使用 window.print() 设置任何首选项，因此很遗憾，您无法使用 javascript 解决此问题。[https://developer.mozilla.org/en-US/docs/DOM/window.print](https://developer.mozilla.org/en-US/docs/DOM/window.print)

您可以做的是横向旋转图像，以便在以纵向模式打印时以横向模式打印。您可以将其设置为图像，或使用 jQuery 旋转现有图像。

# android - android中的sax解析

> ID：15354711
> 
> 赞同：-2
> 
> 时间：2013-03-12T06:25:45.680
> 
> 标签：android, saxparser

我必须在带有数组项的 android textview 上显示类别名称。这里的总类别大小为 5。

我写了以下代码：

```
for (int i = 0; i < sitesList.getName().size(); i++) {
name[] = (TextView) findViewById(R.id.title);
name[].setText(sitesList.getCategory().get(i).toUpperCase()); 
```

现在我必须运行该应用程序，这意味着我只能获得最后一个（第 5 个）类别名称。但我希望显示所有（总计 = 5）个类别。

```
 for (int i = 0; i < sitesList.getName().size(); i++) {
 name[i] = (TextView) findViewById(R.id.title);
 name[i].setText(sitesList.getCategory().get(i).toUpperCase()); 
```

现在我必须运行应用程序意味着我的应用程序被强制关闭。我该如何解决这些错误？？？请给我解决这些？

我的控制台窗口显示：

```
03-12 06:36:08.789: E/AndroidRuntime(886): Caused by: java.lang.NullPointerException
03-12 06:36:08.789: E/AndroidRuntime(886):  at  com.xmlparsing.MainActivity.onCreate(MainActivity.java:72)
03-12 06:36:08.789: E/AndroidRuntime(886):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 
```

在我的代码第 72 行是：

```
 name[i] = (TextView) findViewById(R.id.title); 
```

但是我必须以编程方式创建文本视图，这意味着它运行良好并很好地显示了所有（总计 = 5）类别。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T18:22:48.063

**这**可能不是答案，但它可能会帮助你找到正确的方向，或者至少让你澄清你的意图。

根据`NullPointerException`堆栈中的 ，唯一可能导致该行出现此类异常的是`name[i]`，我猜您没有`name`正确创建该属性。

```
TextView [] name = new TextView[5]; 
```

尽管如此，似乎有更好的方法来做你想要实现的目标。在您的代码中，您尝试在循环的每次迭代中访问相同的 TextView 的文本并将其设置为一个新值，因此相同的 TextView 的文本将始终是最后一个`sitesList.getCategory().get(i)`值。

# jquery - 超链接节点的所有子元素是否也链接？

> ID：15354713
> 
> 赞同：0
> 
> 时间：2013-03-12T06:26:00.767
> 
> 标签：jquery, html, css

基本上，我有一个带有背景图像的大型超链接元素。当用户将鼠标悬停在它上面时，我会显示一个编辑按钮供他们单击，该按钮会弹出一个输入表单供他们编辑有关超链接的一些内容。

例如，拍摄相册。我显示所有用户的相册以及他们的封面照片和他们的名字。单击相册后，用户将重新定位到包含该相册所有内容的另一个页面。但是，当他们将鼠标悬停在照片上时，相册右下角上方会出现一个编辑按钮。当他们单击此按钮时，会显示一个编辑表单，供他们编辑专辑标题。

但是，当他们单击暴露的编辑按钮时，这也会激活链接，并将它们转移到该相册的内容中。它确实公开了编辑表单，但这并不重要，因为页面会自动将它们转移到不同的视图。

我该如何解决这个问题？超链接节点的所有子节点是否也都超链接？如果是这样，我怎么能只为那个编辑按钮禁用超链接机制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:32:10.607

[请参阅https://developer.mozilla.org/en-US/docs/DOM/event.stopPropagation](https://developer.mozilla.org/en-US/docs/DOM/event.stopPropagation)和[http://api.jquery.com/event.stopPropagation/](http://api.jquery.com/event.stopPropagation/)上的文档。

```
$( elementThatOpensTheEditBox ).click(function(e){
    e.preventDefault();
    e.stopPropagation();

    // whatever code here to open the edit box
}); 
```

如果元素是动态生成的，您可以使用以下方法绑定 click 事件`.on`：

```
$('body').on('click', elementThatOpensTheEditBox, function(e){
    e.preventDefault();
    e.stopPropagation();

    // whatever code here to open the edit box
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:36:09.513

jQuery 使用事件委托 ( `$.on()`)：

```
<a href="http://www.yahoo.com/" id="outer">
    <p>Click in the blue to follow the link</p>
    <p id="inner">I am inner to the link</p>
</a>

var $outer = $('#outer');

$outer.on('click', '#inner', function prevent(e){
    console.log('Inner clicked.');
    e.preventDefault();
}); 
```

[http://jsfiddle.net/userdude/fYPnu/2](http://jsfiddle.net/userdude/fYPnu/2)

和纯Javascript：

```
var inner = document.getElementById('inner');

inner.addEventListener('click', function prevent(e){
    console.log('Inner clicked.');
    e.preventDefault();
}); 
```

[http://jsfiddle.net/userdude/fYPnu/1](http://jsfiddle.net/userdude/fYPnu/1)

Note, for backwards compatibility with IE8<, you would need to detect for `.attachEvent()` as well.

# symfony - @Method 破坏路由

> ID：15354717
> 
> 赞同：0
> 
> 时间：2013-03-12T06:26:21.650
> 
> 标签：symfony

我最近一直在使用 Symfony2，并且一直在使用注解进行路由，而不是标准的 yml 或 PHP。

我已经设法解决了大部分问题，但是我在使用 @Method 来限制哪种类型的 http 请求从控制器获得响应时遇到了麻烦。

我目前正在使用：

```
/**
* @Route("/contact/", name="_contact")
* @Method({"GET", "POST"})
*/ 
```

并得到一个错误，指出`Cannot import resource "C:\wamp\www\jimmy\src\Scott\BlogBundle/Controller/" from "C:/wamp/www/jimmy/app/config\routing.yml".`

如果我完全删除 @Method 行，页面将正常加载。我已经阅读了关于 @Method 的 symfony 文档，他们在示例中使用了相同的 @Method 行，所以我真的不确定我哪里出错了。

我在 app/config 中的 routing.yml 是：

```
scott_blog:
    resource: "@ScottBlogBundle/Controller/"
    type:     annotation
    prefix:   / 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:56:23.893

您可能忘记使用命名空间 Sensio\Bundle\FrameworkExtraBundle\Configuration\Method 。如果是这种情况，请添加

```
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Method; 
```

# ruby-on-rails - create_staging 步骤期间的橡胶 ec2 部署问题..如何继续？

> ID：15354718
> 
> 赞同：1
> 
> 时间：2013-03-12T06:26:24.527
> 
> 标签：ruby-on-rails, amazon-ec2, ruby-on-rails-4, rubber

我正在使用 Rubber gem 将我的第一个 rails 应用程序部署到 ec2 服务器。当我调用“cap Rubber:create_staging”来建立我的第一个服务器实例时，我在捆绑安装步骤中遇到了问题。我的实例已经创建，所以我登录并在 ec2 服务器上进行了必要的更改。现在我不确定如何以可以启动并运行我的应用程序的方式进行。

我如何确定哪些命令尚未在我的实例上运行，以便我可以继续并手动运行它们并从此时开始启动并运行服务器？我是否必须运行 create_staging 函数并创建另一个实例？还是有一种简单的方法可以从中断的地方继续？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T18:33:52.243

您可以`cap rubber:bootstrap`针对您创建的实例运行，它应该是幂等的，应该只安装所有需要的包。然后`cap rubber:deploy:cold`进行部署。

`cap rubber:create_staging`运行：

`cap rubber:create`, `cap rubber:bootstrap`,`cap rubber:deploy:cold`并为实例分配所有角色。

如果失败，您可以随时终止实例`cap rubber:destroy`。

[Railscasts #347](http://railscasts.com/episodes/347-rubber-and-amazon-ec2) , [橡胶命令 (wiki)](https://github.com/rubber/rubber/wiki/Commands)

# iphone - JailBroken 设备上的 Xcode4.6 代码签名错误

> ID：15354719
> 
> 赞同：2
> 
> 时间：2013-03-12T06:26:29.020
> 
> 标签：iphone, ios6, jailbreak, xcode4.6

我有越狱设备，想在越狱设备上构建应用程序。我按照以下链接构建应用程序

[使用 xcode 4.5 for iOS6 绕过代码签名](https://stackoverflow.com/questions/12456112/bypassing-code-sign-with-xcode-4-5-for-ios6)

[如何将 iPhone 应用程序从 Xcode 部署到真正的 iPhone 设备？](https://stackoverflow.com/questions/246422/how-can-i-deploy-an-iphone-application-from-xcode-to-a-real-iphone-device)

[在没有苹果开发者程序或越狱的设备上测试 iOS 应用程序](https://stackoverflow.com/questions/4952820/test-ios-app-on-device-without-apple-developer-program-or-jailbreak)

创建自签名证书。

修改文件/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS6.1.sdk/SDKSettings.plist

修改 SDKSetting.plist 文件中的 CODE_SIGNING_REQUIRED 为 NO，ENTITLEMENTS_REQUIRED 为 NO。

之后尝试为设备构建应用程序，我收到以下错误

**代码签名错误：找不到与应用程序标识符匹配的有效配置文件**

我需要做什么才能在 Xcode4.6 越狱设备上构建应用程序？

我正在使用 iOS 6.1sdk 上的 XCode 4.6 在 MAC OS 10.8.2 上构建应用程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T09:10:40.680

我刚刚使用了 4.6 并且我对本教程没有任何问题[http://www.youtube.com/watch?v=h0JS0D2tXGY](http://www.youtube.com/watch?v=h0JS0D2tXGY)

# ios - “未能为第 0 节中的 854269899 行分配数据存储。考虑使用更少的行”

> ID：15354723
> 
> 赞同：0
> 
> 时间：2013-03-12T06:26:46.133
> 
> 标签：ios, uitableview, datepicker

我的应用程序中有一个表单，其中 datepicker 作为一个文本字段的输入视图。

代码在模拟器中正确执行，但在设备中它崩溃并显示以下错误消息

“未能为第 0 节中的 854269899 行分配数据存储。考虑使用更少的行”

我的选择器代码如下

```
 if(self.fromTxtField == textField||self.toTxtField==textField)
{
    textField.inputAccessoryView = self.keyboardToolbar;
    self. datePicker  = [[UIDatePicker alloc] init];
    self. datePicker .datePickerMode = UIDatePickerModeDateAndTime;
    [self. datePicker  addTarget:self action:@selector(datePickerValueChanged:) forControlEvents:UIControlEventValueChanged];
    textField.inputView =self. datePicker ;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:39:45.393

尝试这个

在选取器视图之前。

```
[self.fromTxtField resignFirstResponder];
[self.ToTxtField resignFirstResponder]; 
```

`you must also Log the message where you set the title for the pickerView.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-15T12:31:15.013

就我而言，问题来自方法`func pickerView(_ pickerView: UIPickerView, numberOfRowsInComponent component: Int)`

考虑减少返回的行数。试试这个开始：

```
func pickerView(_ pickerView: UIPickerView, numberOfRowsInComponent component: Int) -> Int {
    return 1000
} 
```

并在需要时增加限制

# android - 无法在 ADT 上运行 Junit 测试，因为它总是被终止

> ID：15354731
> 
> 赞同：2
> 
> 时间：2013-03-12T06:27:12.273
> 
> 标签：android, unit-testing, mobile, junit

我们正在为 Android 平台开发“生产力”应用程序，我们目前正在尝试使用 Junit 测试来测试应用程序的数据库。该应用程序具有用于任务、清单和项目等的类。数据库只是一个名为 DatabaseHandler 的 java 类，它与 sql 集成。当前的测试是对任务的 CRUD 操作。创建 junit 测试时，它会自动生成空测试，这应该会失败并显示“尚未实现”。所以我们只是想测试一下，但是马上就遇到了问题。junit 测试不会运行。发生的情况是，它被终止并且不运行测试。这是这个测试的代码：

```
package com.example.gobi.test;

import android.test.AndroidTestCase;

public class DatabaseHandlerTest extends AndroidTestCase {

public DatabaseHandlerTest(String name) {
super();
}

protected void setUp() throws Exception {
super.setUp();
}

protected void tearDown() throws Exception {
super.tearDown();
}

public void testGetInstance() {
fail("Not yet implemented");
}

public void testOnCreateSQLiteDatabase() {
fail("Not yet implemented");
}

public void testOnUpgradeSQLiteDatabaseIntInt() {
fail("Not yet implemented");
}

public void testAddTask() {
fail("Not yet implemented");
}

public void testGetTask() {
fail("Not yet implemented");
}

public void testGetAllTasks() {
fail("Not yet implemented");
}

public void testUpdateTask() {
fail("Not yet implemented");
}

public void testDeleteTask() {
fail("Not yet implemented");
}

public void testGetTaskCount() {
fail("Not yet implemented");
}

} 
```

如果您能看到代码或设置有什么问题，请告诉我。编辑：我发现我做错了。它没有运行，它应该作为 android junit 测试进行调试。之后它不会被终止。但是现在我遇到了另一个问题。它说找不到源文件：“/..../ 中的 jar 文件没有源附件。” 我google一下jar文件是什么。但就我的项目而言，我无法理解它是什么......

# c++ - Boost Asio SSL 握手永远不会返回

> ID：15354737
> 
> 赞同：5
> 
> 时间：2013-03-12T06:27:30.387
> 
> 标签：c++, boost, ssl, c++11, boost-asio

[类似的问题](https://stackoverflow.com/questions/9554250/boost-asio-ssl-handshake-never-finishes)

我的情况不同。我已经编写了一个 SSL 客户端，`boost::asio::ssl`但目前没有服务器可以测试，因为它是由其他组开发的。所以目前的服务器只接受普通的 TCP（不安全）连接。当我对服务器使用我的 ssl 客户端时，阻塞`handshake()`挂起/永远不会返回。我在网上搜索并发现 Mozilla 也有类似的问题 - 在启动与非 SSL 支持服务器的 SSL 连接时它挂起，但他们的错误已修复。我只是对我的部分代码进行解释，以确保没有编码错误：

在`ctor`：

```
SecuredConnectionPolicy<ThreadPolicy>::SecuredConnectionPolicy() :
   m_sslContext(boost::asio::ssl::context::sslv23),
   m_socket(m_ioService, m_sslContext) //ssl::stream<tcp::socket>
{

} 
```

然后当我的“ `connect`（...）”被调用时：

```
 m_sslContext.set_options(boost::asio::ssl::context::default_workarounds);

   m_sslContext.set_verify_mode(
            boost::asio::ssl::context::verify_none,
            errorCode
            );

   if(!errorCode)
   {
      /*m_sslContext.set_verify_callback(
               [this](bool bIsPreverificationSuccessful, boost::asio::ssl::verify_context &context){return this->verificationHandler(bIsPreverificationSuccessful, context);},
               errorCode
               );*/

      if(!errorCode)
      {
         m_sslContext.load_verify_file("newcert.pem", errorCode);

         if(!errorCode)
         {
            m_socket.lowest_layer().connect(remoteEndpoint, errorCode);

            if(!errorCode)
            {  //    ########### Following NEVER RETURNS #############
               m_socket.handshake(boost::asio::ssl::stream_base::client, errorCode);

               if(errorCode)
               {
                  std::cerr << "Secured Connection Handshake Failed! " << errorCode.message() << std::endl;
               }
            }
            else
            {
               std::cerr << "Secured Connection Failed! " << errorCode.message() << std::endl;
            }
         }
         else
         {
            std::cerr << "Secured Connection loading certificate files from default paths Failed! " << errorCode.message() << std::endl;
         }
      }
      else
      {
         std::cerr << "Registering Verification callback failed! " << errorCode.message() << std::endl;
      }
   }
   else
   {
      std::cerr << "Secured Connection verify mode Failed! " << errorCode.message() << std::endl;
   } 
```

1.  可能是什么原因？我做错什么了吗？

2.  我没有提供任何 verify_callback 处理程序，因为我假设 OpenSSL 完成的预验证（因为在 boost 中到处都说它正在调用 OpenSSL 等效函数）应该足够了。它有什么缺点吗？或者这会影响<1>吗？

3.  这是一个微不足道的问题，但只是为了确保它不会引起问题：通常 boost 中的示例表明 ssl 上下文对象在 ctor of 中提供之前已设置`ssl::stream<tcp::socket>`。但是，我在之前（在上面的 ctor 中）给出它，然后在`connect()`. 这些是否会反映在构造的 ssl::stream 的行为中（因为它通过引用获取，我希望它不会复制）？

附带说明（如果有用的话），我创建了一个 CA rootKey、CA 自签名 PEM 证书、由 CA 证书签名的服务器证书。CA 证书是我给的`load_verify_file(...)`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T21:50:07.703

你选择调用一个阻塞直到它完成或失败的操作，它都不做，所以它永远阻塞。如果您不想阻止操作确定成功或失败，请不要调用专门记录的操作来执行此操作。

如果您在另一端从未写入过的连接上进行了阻塞读取，您期望会发生什么？它会永远阻塞。在这里，您在连接上进行了阻塞握手，而另一端永远不会与您握手。您的代码会一直等到它完成，就像您要求的那样。

# java - 在 Java 中使用类文件名的字符串调用静态方法

> ID：15354738
> 
> 赞同：4
> 
> 时间：2013-03-12T06:27:39.437
> 
> 标签：java, string, methods, filenames

假设我使用 file.list() 来获取 src 文件夹中的所有文件。假装一个文件名为Problem0001.java。是否可以仅使用字符串“Problem0001.java”来调用 Problem0001.java 类的方法？

更深入的解释：我正在研究 Euler 项目中的问题。欧拉计划是一堆需要数学和编程知识的问题。我希望每个问题都解决它自己的类。我决定如果我可以创建一个菜单，我可以在其中输入问题编号并且答案会显示在屏幕上，那就太棒了。我从一个 switch 语句开始，它会调用有问题解决方案的类。我想最终我会厌倦每次解决一个新问题时添加 switch 语句。我希望计算机找到所有解决方案类文件并将解决方案的编号放在一个列表中（因为我可能会跳过一些问题）。每当我进入菜单屏幕时，列表就会被打印出来。我输入我想查看的解决方案的编号，这就是我迷路的部分。我不知何故需要拿那个号码并用相同的号码调用类的静态方法。因此，如果我输入 3，类文件 Problem0003.java 将激活，或者编译器可以正常工作。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-12T06:43:12.320

当你有一个类名时，你将不得不在运行时加载该类`ClassLoader`来获取`.class`

```
Class<?> clazz = Class.forName("org.someorg.SomeClass"); 
```

一旦你有了它，你就可以使用[反射调用静态方法](http://docs.oracle.com/javase/tutorial/reflect/index.html)

```
Method method = clazz.getMethod("methodName", String.class);
method.invoke(null,"someString"); 
```

注意：假设该方法将字符串作为参数是`String.class`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-12T06:28:25.430

是的，你可以，使用 java [Reflection API](http://docs.oracle.com/javase/tutorial/reflect/index.html)。

看一个如何在运行时调用方法的[例子。](http://www.mkyong.com/java/how-to-use-reflection-to-call-java-method-at-runtime/)

# iphone - 如何更新在 iphone sdk 中发布的聊天时间

> ID：15354746
> 
> 赞同：0
> 
> 时间：2013-03-12T06:28:09.550
> 
> 标签：iphone, objective-c

我遇到了一个新类型的问题。我正在制作时间显示“不到一分钟前”的聊天应用程序。像脸书。但问题是当我像 24 小时一样切换我的 iphone 时间格式时，它还没有更新时间。

```
-(NSString *)calculateTimeSpend:(NSString *)serCurTime andMessagePostTime:(NSString *)serPostTime

 {
    actTime = 0;`
    strTime = NULL;

   NSDateFormatter *formatter = [[NSDateFormatter alloc]init];
    [formatter setDateFormat:@"yyyy-MM-dd hh:mm:ss a"];

    NSDate *serTime = [formatter dateFromString:serCurTime];
    NSDate *postTime = [formatter dateFromString:serPostTime];

    NSTimeInterval interval = [serTime timeIntervalSinceDate:postTime];

   //NSLog(@"server - %@, post - %@, interval - %f", serCurTime, serPostTime, interval);
    [formatter release];
    NSString *actualTime = NULL;
    if (interval<60)
    {
        //actTime = interval;
        //strTime = @"sec(s)";
        actualTime = @"Less a min ago.";
        return  actualTime;
    }
    else if (interval < 3600)
    {
        actTime = trunc(interval/60);
        strTime = @"min(s)";
    }
    else if (interval < 86400)
    {
        actTime = trunc(interval/3600);
        strTime = @"hour(s)";
    }
    else
    {
        actTime = trunc(interval/86400);
        strTime = @"day(s)";
    }

actualTime = [NSString stringWithFormat:@"%i %@ ago.", actTime, strTime];
return actualTime;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:34:36.880

请试试这个方法：

```
-(NSString *)durationbetweendate:(NSString *)strdate1 date2:(NSString *)strdate2{
NSString *stringtime = strdate1;
 [NSTimeZone setDefaultTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"GMT"]];

NSDateFormatter *dateFormat1 = [[NSDateFormatter alloc] init];
[dateFormat1 setDateFormat: @"yyyy-MM-dd HH:mm:ss"];
NSDate *sourceDate1 = [dateFormat1 dateFromString:strdate1];

NSLog(@"%@",[NSDate date]);

NSTimeInterval timeDiff ;

if ([[NSDate date]  laterDate:sourceDate1])
    timeDiff = [[NSDate date] timeIntervalSinceDate:sourceDate1];
else
    timeDiff = [sourceDate1 timeIntervalSinceDate:[NSDate date]];

NSLog(@"second %f",timeDiff);

float years = floor(timeDiff/(24*60*60*365));

if (years >0) {
    if (years == 1)
        return [NSString stringWithFormat:@"%d Year ago", (int)years];
    else
        return [NSString stringWithFormat:@"%d Years ago", (int)years];
}
else{

    float months = floor(timeDiff/(24*60*60*30));

    if (months>0) {
        if (months == 1)
            return [NSString stringWithFormat:@"%d Month ago", (int)months];
        else
            return [NSString stringWithFormat:@"%d Months ago", (int)months];
    }
    else{

        float days = floor(timeDiff/(24*60*60));

        if (days>0) {
            if (days == 1)
                return [NSString stringWithFormat:@"%d Day ago", (int)days];
            else
                return [NSString stringWithFormat:@"%d Days ago", (int)days];
        }
        else{
            float hours = floor(timeDiff/(60*60));

            if (hours>0) {
                float minutes = 0;

                minutes = floor(timeDiff/60) - (hours * 3600);

                float seconds = 0;

                seconds = round(timeDiff - (minutes * 60) - (hours * 3600));

                if (hours==1)
                    return [NSString stringWithFormat:@"%d Hour ago", (int)hours];
                else
                    return [NSString stringWithFormat:@"%d Hours ago", (int)hours];

            }
            else
            {
                float  minutes = floor(timeDiff/60);

                if (minutes >0)
                {
                    if (minutes == 1)
                        return [NSString stringWithFormat:@"%d Minute ago", (int)minutes];
                    else
                        return [NSString stringWithFormat:@"%d Minutes ago", (int)minutes];
                }
                else
                {
                    float seconds = round(timeDiff - (minutes * 60));

                    if (seconds == 1)
                        return [NSString stringWithFormat:@"%d Second ago", (int)seconds];
                    else
                        return [NSString stringWithFormat:@"%d Seconds ago", (int)seconds];

                }
            }
        }
    }
}

return  stringtime;
} 
```

# javascript - 如何在没有 google.load 的情况下加载 Google News API？

> ID：15354751
> 
> 赞同：0
> 
> 时间：2013-03-12T06:28:48.893
> 
> 标签：javascript, jquery, google-maps, google-api, google.load

我想在不使用 google.load 的情况下加载 Google News API。我需要它作为一个简单的脚本块。

例如，地图可以通过

第一种方法：

```
<script type="text/javascript" src="http://www.google.com/jsapi"></script> 
google.load("maps", "2"); 
```

或者

第二种方法：`<script src="https://maps.googleapis.com/maps/api/js?&sensor=false" type="text/javascript"></script>`

以同样的方式，谷歌新闻 API 可以通过

第一种方法：

```
<script type="text/javascript" src="http://www.google.com/jsapi"></script> 
    google.load('search', '1'); 
```

第二种方法：我不知道，这就是问题

**所以我的问题是如何在没有 google.load 的情况下加载 Google News API，**

# solr - Solr中的翻译歧义

> ID：15354753
> 
> 赞同：0
> 
> 时间：2013-03-12T06:28:50.413
> 
> 标签：solr, lucene, translation

为此，我正在 solr 中进行跨语言搜索，我正在从语言 A 到语言 B 进行查询翻译，这些翻译基于双语词典。我目前面临的问题是“对于查询中的某些单词，我有多个翻译”。在这里我需要输入正确的单词进行翻译。我该如何解决这种翻译歧义。

在这种情况下，我们无法确定查询的上下文，因为查询可能太短了。我能看到的只有一种方法是单词的概率出现。有什么办法可以让我检查单词一起出现的概率吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T19:12:39.477

我相信您会将分析单词一起出现的概率称为一种简单的上下文形式，并且我认为在查询中它很容易出错，并导致您错过相关结果。对于完整的上下文句子来说，这是一个非常困难的问题。用户输入的查询字符串中的歧义可能是无法解析的歧义，因此尝试解决它们，我相信，会使您的搜索令人沮丧地不可预测，甚至可能使某些概念难以搜索或无法搜索。

对于它的价值，我的建议是使用[SynonymFilter 之](http://lucene.apache.org/core/4_0_0-BETA/analyzers-common/org/apache/lucene/analysis/synonym/SynonymFilter.html)类的实现来搜索两种替代翻译。

因此，如果我正在搜索英语单词`"fine"`，我可能会在西班牙语中将其分解为查询`"multa fino sutil"`。

[将这些同义词列表包装在DisjunctionMaxQuery](http://lucene.apache.org/core/4_0_0-BETA/core/org/apache/lucene/search/DisjunctionMaxQuery.html)中可能是有意义的，以防止对同一术语的多个翻译的命中超过应有的影响评分。所以如果搜索

*   “好点”

我可能正在寻找在辩论中提出的出色论点、削尖的铅笔，或者，知道用户如何输入查询，我很可能正在寻找一个野餐的好地方，或者交通罚单处罚背后的理由。

因此，我可能会将其扩展为：

*   `BooleanQuery`，加入：
    *   `DisjunctionMaxQuery`：“multa”、“fino”、“sutil”
    *   `DisjunctionMaxQuery`：“蓬塔”、“时刻”、“卢格”

# css - @font-face 未在 Internet Explorer 上显示它在 Google chrome 中的工作

> ID：15354755
> 
> 赞同：0
> 
> 时间：2013-03-12T06:28:53.073
> 
> 标签：css, font-face

```
@font-face {
    font-family: 'EntypoRegular';
    src: url('Entypo-webfont.eot');
    src: url('Entypo-webfont.eot?#iefix') format('embedded-opentype'),
         url('Entypo-webfont.woff') format('woff'),
         url('Entypo-webfont.ttf') format('truetype'),
         url('Entypo-webfont.svg#EntypoRegular') format('svg');
    font-weight: normal;
    font-style: normal;

} 
```

这适用于 Google Chrome，但不适用于 Internet Explorer。它在 IE 本地工作，但在我发布时不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:59:50.710

Paul Irish 写了一篇关于这个主题的优秀文章： [Bulletproof font-face implementation](http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/)

`@font-face {
font-family: 'EntypoRegular';
src: url('Entypo-webfont.eot?') format('eot'), url('Entypo-webfont.woff') format('woff'),
url('Entypo-webfont.ttf') format('truetype');
}`

# java - 在 IntelliJ Idea 的 GUI 设计器中使用 AWT？

> ID：15354757
> 
> 赞同：1
> 
> 时间：2013-03-12T06:29:03.367
> 
> 标签：java, swing, user-interface, intellij-idea, awt

我最近一直在使用 IntelliJ Idea 的 GUI 构建器（我是 java 新手），我想知道是否可以使用 AWT 组件而不是 Swing 组件。

也希望有一个指南/教程来帮助我入门。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:33:55.560

> 我想知道是否可以使用 AWT 组件而不是 Swing 组件。

是的，有真正的理由来创建基于

*   OpenGL/CL

*   CAD/CAM

*   3D动画

*   媒体播放器

*   Html4/5 的自定义资源管理器

> 也希望有一个指南/教程来帮助我入门。

Java AWT 已过时，从 2002/3 年开始被 Swing 取代

# javascript - 如何从jquery调用并将值传递给控制器 方法

> ID：15354760
> 
> 赞同：1
> 
> 时间：2013-03-12T06:29:22.373
> 
> 标签：javascript, jquery, asp.net-mvc, getjson

我有一个从 getJSON 方法调用的 http 控制器。它的工作非常好。但现在我想在控制器方法的处理程序中执行相同的操作。我通过 getJSON 向处理程序发送一个值，它使用该值执行。

这是我的getJSON

```
$(document).ready(function () {
    $.getJSON('ProfileHandler.ashx', { 'ProfileName': 'Profile 1' }, function (data) {
        $.each(data, function (k, v) {
            alert(v.Attribute+' : '+v.Value);               
        });            
    });
}); 
```

这是我的处理程序

```
public void ProcessRequest(HttpContext context)
    {
        try
        {                
            string strURL = HttpContext.Current.Request.Url.Host.ToLower();
            //string ProfileName = context.Request.QueryString["profilename"];
            string strProfileName = context.Request["ProfileName"];

            GetProfileDataService GetProfileDataService = new BokingEngine.MasterDataService.GetProfileDataService();
            IEnumerable<ProfileData> ProfileDetails = GetProfileDataService.GetList(new ProfileSearchCriteria { Name = strProfileName });
            JavaScriptSerializer javaScriptSerializer = new JavaScriptSerializer();
            string strSerProfileDetails = javaScriptSerializer.Serialize(ProfileDetails);
            context.Response.ContentType = "text/json";
            context.Response.Write(strSerProfileDetails);
        }
        catch
        {
        }                        
    } 
```

如何调用“ProfileName”并将其传递给控制器​​方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:35:29.107

您的代码是正确的，您应该能够使用以下内容检索 ProfileName：

```
string strProfileName = context.Request["ProfileName"]; 
```

如果你想将它传递给控制器​​动作，只需定义这个动作：

```
public ActionResult SomeAction(string profileName)
{
    var profileDataService = new BokingEngine.MasterDataService.GetProfileDataService();
    var request = new ProfileSearchCriteria { Name = profileName };
    var profileDetails = profileDataService.GetList(request);
    return Json(profileDetails, JsonRequestBehavior.AllowGet);
} 
```

然后使用 AJAX 调用您的控制器操作：

```
<scirpt type="text/javascript">
    $(document).ready(function () {
        var url = '@Url.Action("SomeAction")';
        $.getJSON(url, { profileName: 'Profile 1' }, function (data) {
            $.each(data, function (k, v) {
                alert(v.Attribute + ' : ' + v.Value);
            });            
        });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:41:10.947

你几乎拥有它。这是一个例子：

**Javascript**

```
function someFunction(e) {
    $.post("@Url.Action("MethodName", "ControllerName")", { ParameterName: e.value }, function(data) {
       $("#someDiv").html = data;
    });
} 
```

**C# 控制器**

```
[HttpPost]
public ActionResult MethodName(string ParameterName)
{
    return "Hello " + ParameterName;
} 
```

如果您将您的姓名传递给 JavaScript 函数“someFunction”，控制器将返回“Hello [your name]”。帮助？

# java - 创建多个对象

> ID：15354764
> 
> 赞同：-4
> 
> 时间：2013-03-12T06:29:37.223
> 
> 标签：java

我可以在主课上做这样的事情吗？

```
Scanner sc = new Scanner(System.in);
System.out.println("message 1");
int nbre1 = sc.nextInt();
sc.nextLine();
System.out.println("message 2");
int nbre2 = sc.nextInt();
sc.nextLine();
System.out.println("message 3");
int nbre3 = sc.nextInt();
sc.nextLine();

Obj o = new Obj(nbre1, nbre2, nbre3);

// print a message "do you want to create another object?" 
```

如果是，我可以再次显示消息但不影响来自另一个对象的变量，例如 o2？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:32:46.593

您可以将上述代码写在一个函数中，并循环调用该函数。像这样的东西...

```
List<Obj> objects = new ArrayList<Obj>();
while(true){
    Obj o = new Obj();
    boolean continueBool = readInputs(o);
    objects.add(o);
    if(!continueBool){
        break;
    }
}

private boolean readInputs(Obj o){
// code to read inputs and create Obj object. If the user wants to create more objects, return TRUE else return FALSE
    Scanner sc = new Scanner(System.in);
    System.out.println("message 1");
    int nbre1 = sc.nextInt();
    sc.nextLine();
    System.out.println("message 2");
    int nbre2 = sc.nextInt();
    sc.nextLine();
    System.out.println("message 3");
    int nbre3 = sc.nextInt();
    // set values  nbre1, nbre2 and nbre3 to 'o'
    System.out.println("Do you want to repeat ?");
    String inStr = sc.nextLine();    
    if(inStr.equalsIgnoreCase("yes")) {
        return true;
    } else {
        return false;
    }
} 
```

# excel - 表单 VBA 中的错误文本框

> ID：15354766
> 
> 赞同：0
> 
> 时间：2013-03-12T06:29:47.223
> 
> 标签：excel, vba, textbox

我正在做一个表格，我发现自己的 TextBox 有一个奇怪的问题。

我要求用户插入一些数据，当它插入时，TextBox 会更改数据。

例如，如果用户插入： *2013*年 3 月 1日然后运行表单，则使用原始数据执行代码的表单会更改它，*2013*年 1 月 3日。

我意识到这总是会改变日期和月份，但永远不会改变年份。

额外的信息，我从来没有“告诉”表格它将处理它的数据是一个日期。

我正在努力使它解决，所以任何帮助将不胜感激。

如果需要额外的信息，请告诉我。

代码：

```
Private Sub CommandButton1_Click()

ThisWorkbook.Sheets("Hidden").Range("D1").Value = TextBox1.Value

ThisWorkbook.Sheets("Hidden").Range("D2").Value = TextBox2.Value

If TextBox1.Value < TextBox2.Value Then

    If TextBox1.Value = "" Or TextBox2.Value = "" Then

        MsgBox "...", vbExclamation, "  ..."

    Else

    Run "macro"

    ThisWorkbook.Sheets("SUMUP").Range("D11").Value = TextBox1.Value

    ThisWorkbook.Sheets("SUMUP").Range("D12").Value = TextBox2.Value

    End If

Else

MsgBox "..." & vbCrLf & "...", vbExclamation, "  ..."

End If

End Sub 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T09:13:12.840

与您的描述相关的最常见问题：
**您可能正在将用户输入保存到单元格中。** 如果是，请**检查该单元格的格式。**

请提供有关如何存储用户输入的更多信息。您使用什么数据类型变量来存储用户输入？输入的迁移过程是什么？

后期编辑：

格式化您的单元格（最简单的解决方案）

```
Range = Format(TextBox1.Value, "dd/mm/yyyy") 
```

PS您可以将用户输入存储在变量中：

```
 Dim txtb1, txtb2 As String

    'ThisWorkbook.Sheets("Hidden").Range("D1").Value = TextBox1.Value
    'ThisWorkbook.Sheets("Hidden").Range("D2").Value = TextBox2.Value
    '
    ' instead of storing the value in cell, use variables ( now youre not going to need a "hidden" sheet
    '
    txtb1 = TextBox1.Value
    txtb2 = TextBox2.Value 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T09:13:19.007

这是一个 VBA :]。只需通过以下方式转换为字符串：

```
ThisWorkbook.Sheets("SUMUP").Range("D11") = Format(TextBox1.Value, "dd/MM/yyyy") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T08:33:14.017

您必须更改系统的日期格式才能接受 vba 表单的输入格式。**去**

> 开始>控制面板>时钟

语言和日期，在区域和语言下选择更改日期、时间或数字格式。在日期和时间格式下，选择短日期前的下拉菜单，然后选择`dd-mmm-yy`。对长日期执行相同操作并选择`dddd,mmmm dd,yyyy`。我希望这会有所帮助

# java - 西班牙数字方法参数和循环

> ID：15354768
> 
> 赞同：0
> 
> 时间：2013-03-12T06:29:56.553
> 
> 标签：java, methods, parameters

必须做一个名为 SpanishNumbers 的练习。创建一个以西班牙语显示数字 1 到 10 的 SpanishNumbers 应用程序。带有 int 参数的方法应显示所传递数字的西班牙语单词。应该使用 main() 方法中的循环结构来调用该方法十次。数字 1 到 10 的西班牙语对应词是：

1 uno、2 dos、3 tres、4 cuatro、5 cinco、6 seis、7 siete、8 ocho、9 nueve、10 diez。

```
package chapter7java;
import java.util.Scanner;
/**
 *
 * @author Eric
 */
public class SpanishNumbers {

    public static void spanNum(int num, String word) {

        for (int i = 1; i<= num; i++) {
            if (num = 1) {
                System.out.println("Uno");
            }
        }
    }

    public static void main (String [] args) {

        for (int i = 1; i<=10; i++) {
            System.out.println(i);

        }
    }

} 
```

所以在你吓坏之前，我什至在开始这件事时都遇到了麻烦，所以也许给我一些提示，我可以按照它的要求去做，而不是完成工作。我发布的只是废话，所以让我知道如何开始这个。提前致谢！这是初学者java，所以保持简单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:36:41.857

该函数`spanNum`只需要一个 int 作为参数。删除传递给它的 String 参数。代替

```
public static void spanNum(int num, String word) { 
```

和

```
public static void spanNum(int num) { 
```

spanNum 函数应该为一个数字（传入参数 num 的那个）打印西班牙语。所以应该没有循环。同样`=`是赋值语句，而不是比较运算符。比较运算符是`==`。所以测试 num 是否等于 1 的语句是`if(num == 1)`.

总的来说，您可以`spanNum`在循环中调用`i`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:37:01.900

您将要创建一个数组来保存您的西班牙数字。

```
String[] numbers = {"uno", "dos", "tres", ......} 
```

`spanNum`在你的方法中声明它；然后，您只需打印出索引处的值`i`即可将其转换为西班牙语。请记住，数组索引从 0 开始，因此您需要将索引移动 1。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:38:20.267

首先，该行`if(num = 1)`应该是`if(num == 1)`因为 = 分配和 == 比较。其次，当您计划取一个数字并根据其值做不同的事情时，一个`switch`块可能比多个`if...else if`块更有用。第三，在您的 main 方法中，您只是每次输出循环控制变量 i，而不是调用 spanNum()。

# javascript - 第三方 js 库中存在的 XSS 漏洞可以用来攻击使用该库的应用程序吗？

> ID：15354769
> 
> 赞同：0
> 
> 时间：2013-03-12T06:29:57.543
> 
> 标签：javascript, security, libs

我在一个 android 移动应用程序中使用各种 3rd 方库，如 cordova.js、jquery、jquery mobile、mobilizer 等。通过不安全地使用 eval、settimeout、inner/outerhtml，这些库被发现具有各种 XSS 向量等等。但是，存在这些问题的模块不会在应用程序中使用/调用。

考虑到上述情况，即使在我的应用程序中没有使用易受攻击的模块，攻击者是否可以根据第 3 方库中的 XSS 向量来利用我的应用程序？

这个问题参考了我之前的[问题](https://stackoverflow.com/questions/15337268/how-to-secure-app-against-xss-vectors-present-in-3rd-party-js-libs)：“如何保护应用程序免受第 3 方 js 库中存在的 XSS 向量的影响？”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:06:10.233

如果 XSS 漏洞利用的代码不在您的应用程序中，那么您的应用程序不会受到这些漏洞的影响。但是，可能还潜伏着其他漏洞。

编辑：当心这种差异：未使用/未调用！=不存在。如果代码存在，那么攻击者可以使用它。如果您不需要易受攻击的代码，一个理想的举措是从应用程序中删除这些模块。

# scala - 为什么这个 flatMap 会失败？

> ID：15354771
> 
> 赞同：8
> 
> 时间：2013-03-12T06:30:08.067
> 
> 标签：scala

```
scala> val s: Seq[Class[_ <: java.lang.Enum[_]]] = Seq(classOf[java.util.concurrent.TimeUnit])
s: Seq[Class[_ <: java.lang.Enum[_]]] = List(class java.util.concurrent.TimeUnit)

scala> s.flatMap(_.getEnumConstants)
<console>:9: error: no type parameters for method flatMap: (f: Class[_ <: java.lang.Enum[_]] => scala.collection.GenTraversableOnce[B])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Class[_ <: java.lang.Enum[_]]],B,That])That exist so that it can be applied to arguments (Class[_ <: java.lang.Enum[_]] => scala.collection.mutable.ArrayOps[_$1(in value $anonfun) with java.lang.Object] forSome { type _$1(in value $anonfun) <: java.lang.Enum[_] })
 --- because ---
argument expression's type is not compatible with formal parameter type;
 found   : Class[_ <: java.lang.Enum[_]] => scala.collection.mutable.ArrayOps[_$1(in value $anonfun) with java.lang.Object] forSome { type _$1(in value $anonfun) <: java.lang.Enum[_] }
 required: Class[_ <: java.lang.Enum[_]] => scala.collection.GenTr...              s.flatMap(_.getEnumConstants) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-12T09:21:05.020

不是真正的准确答案，但有两个观察结果 - Scala 2.10 会给你一个更好的错误：

```
scala> s.flatMap(_.getEnumConstants)
<console>:9: error: no type parameters for method flatMap: (f: Class[_ <: Enum[_]] => scala.collection.GenTraversableOnce[B])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Class[_ <: Enum[_]]],B,That])That exist so that it can be applied to arguments (Class[_ <: Enum[_]] => scala.collection.mutable.ArrayOps[(some other)_$1(in object $iw) with Object] forSome { type (some other)_$1(in object $iw) <: Enum[_] })
 --- because ---
argument expression's type is not compatible with formal parameter type;
 found   : Class[_ <: Enum[_]] => scala.collection.mutable.ArrayOps[(some other)_$1(in object $iw) with Object] forSome { type (some other)_$1(in object $iw) <: Enum[_] }
 required: Class[_ <: Enum[_]] => scala.collection.GenTraversableOnce[?B]
              s.flatMap(_.getEnumConstants)
                ^
<console>:9: error: type mismatch;
 found   : Class[_ <: Enum[_]] => scala.collection.mutable.ArrayOps[(some other)_$1(in object $iw) with Object] forSome { type (some other)_$1(in object $iw) <: Enum[_] }
 required: Class[_ <: Enum[_]] => scala.collection.GenTraversableOnce[B]
              s.flatMap(_.getEnumConstants)
                          ^
<console>:9: error: Cannot construct a collection of type That with elements of type B based on a collection of type Seq[Class[_ <: Enum[_]]].
              s.flatMap(_.getEnumConstants)
                   ^ 
```

而且，如果你拆分你的`flatMap`，你会看到一个更简单的问题版本：

```
scala> s.map(_.getEnumConstants)
res28: Seq[Array[_$1 with Object] forSome { type _$1 <: Enum[_] }] = List(Array(NANOSECONDS, MICROSECONDS, MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS), Array(RELEASE_0, RELEASE_1, RELEASE_2, RELEASE_3, RELEASE_4, RELEASE_5, RELEASE_6))
scala> res28.flatten
<console>:10: error: No implicit view available from Array[_$1 with Object] forSome { type _$1 <: Enum[_] } => scala.collection.GenTraversableOnce[B].
              res28.flatten
                    ^ 
```

这是相当令人惊讶的，因为您会认为将 an`Array`变成. 应该很容易`GenTraversableOnce`。我目前没有时间挖掘细节，但我会指出以下事情似乎有效：

```
s.flatMap(_.getEnumConstants.toSeq)
s.flatMap(_.getEnumConstants.map(_.asInstanceOf[Enum[_]])) 
```

我投票编译器错误，因为[这个 gist](https://gist.github.com/themel/5141394)，它在这个简单脚本的 REPL 中显示了一些非常奇怪的行为

```
val s: Seq[Class[_ <: java.lang.Enum[_]]] = Seq(classOf[java.util.concurrent.TimeUnit], classOf[javax.lang.model.SourceVersion])
s.flatMap(_.getEnumConstants.toSeq)
s.flatMap(_.getEnumConstants.toArray)
1234 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-12T09:18:11.417

`TimeUnit.getEnumConstants`返回一个 java 数组`TimeUnit[]`，而`flatMap`期望一个`GenTraversable`

你可以通过

```
scala> s.flatMap(_.getEnumConstants.toSeq)
res4: Seq[Enum[_]] = List(NANOSECONDS, MICROSECONDS, MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS) 
```

# css - 如何更改此翻转动画的“枢轴点”？

> ID：15354772
> 
> 赞同：1
> 
> 时间：2013-03-12T06:30:10.563
> 
> 标签：css, animation

我一直在玩这个 CSS3 动画，但我无法让它从不同于中间的位置旋转。

这是一个动画，从中间产生类似翻转的效果，上半部分进入负 z 轴，下半部分进入正 z 轴。

我试图让枢轴点成为顶部，以便在转换应用此动画的元素时，整个元素进入正 z 轴。

然后 FlipOut 动画将与此相反。

我会很感激任何帮助让这个动画像我描述的那样表现。

这是现在运行动画的代码：

```
 .animated {
    -webkit-animation-fill-mode: both;
    -moz-animation-fill-mode: both;
    -ms-animation-fill-mode: both;
    -o-animation-fill-mode: both;
    animation-fill-mode: both;
    -webkit-animation-duration: 0.6s;
    -moz-animation-duration: 0.6s;
    -ms-animation-duration: 0.6s;
    -o-animation-duration: 0.6s;
    animation-duration: 0.6s;
}

@-webkit-keyframes flipInX {
    0% {
        -webkit-transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }

    40% {
        -webkit-transform: perspective(400px) rotateX(-10deg);
    }

    70% {
       -webkit-transform: perspective(400px) rotateX(10deg);
    }

    100% {
        -webkit-transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
}
@-moz-keyframes flipInX {
    0% {
        -moz-transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }

    40% {
        -moz-transform: perspective(400px) rotateX(-10deg);
    }

    70% {
        -moz-transform: perspective(400px) rotateX(10deg);
    }

    100% {
        -moz-transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
}
@-o-keyframes flipInX {
    0% {
        -o-transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }

    40% {
        -o-transform: perspective(400px) rotateX(-10deg);
    }

    70% {
        -o-transform: perspective(400px) rotateX(10deg);
    }

    100% {
        -o-transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
}
@keyframes flipInX {
    0% {
        transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }

    40% {
        transform: perspective(400px) rotateX(-10deg);
    }

    70% {
        transform: perspective(400px) rotateX(10deg);
    }

    100% {
        transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
}

.flipInX {
    -webkit-backface-visibility: visible !important;
    -webkit-animation-name: flipInX;
    -moz-backface-visibility: visible !important;
    -moz-animation-name: flipInX;
    -o-backface-visibility: visible !important;
    -o-animation-name: flipInX;
    backface-visibility: visible !important;
    animation-name: flipInX;
}
@-webkit-keyframes flipOutX {
    0% {
        -webkit-transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
    100% {
        -webkit-transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }
}

@-moz-keyframes flipOutX {
    0% {
        -moz-transform: perspective(400px) rotateX(0deg);
         opacity: 1;
    }
100% {
         -moz-transform: perspective(400px) rotateX(90deg);
         opacity: 0;
    }
}

@-o-keyframes flipOutX {
    0% {
        -o-transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
100% {
        -o-transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }
}

@keyframes flipOutX {
     0% {
        transform: perspective(400px) rotateX(0deg);
        opacity: 1;
    }
100% {
        transform: perspective(400px) rotateX(90deg);
        opacity: 0;
    }
}

.flipOutX {
    -webkit-animation-name: flipOutX;
    -webkit-backface-visibility: visible !important;
    -moz-animation-name: flipOutX;
    -moz-backface-visibility: visible !important;
    -o-animation-name: flipOutX;
    -o-backface-visibility: visible !important;
    animation-name: flipOutX;
    backface-visibility: visible !important;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:34:48.283

设置[变换原点](https://developer.mozilla.org/en-US/docs/CSS/transform-origin)：

```
transform-origin : center top; 
```

根据 MDN 文档：

```
transform-origin: x-offset                                   /* One-value syntax */   E.g.  transform-origin: 2px 
transform-origin: offset-keyword                                                      E.g.  transform-origin: bottom

transform-origin: x-offset y-offset                          /* Two-value syntax */   E.g.  transform-origin: 3cm 2px
transform-origin: y-offset x-offset-keyword                                           E.g.  transform-origin: 2px left
transform-origin: x-offset-keyword y-offset                                           E.g.  transform-origin: left 2px
transform-origin: x-offset-keyword y-offset-keyword                                   E.g.  transform-origin: right top
transform-origin: y-offset-keyword x-offset-keyword                                   E.g.  transform-origin: top right

transform-origin: x-offset y-offset z-offset                 /* Three-value syntax */ E.g.  transform-origin: 2px 30% 10px
transform-origin: y-offset x-offset-keyword z-offset                                  E.g.  transform-origin: 2px left 10px
transform-origin: x-offset-keyword y-offset z-offset                                  E.g.  transform-origin: left 5px -3px
transform-origin: x-offset-keyword y-offset-keyword z-offset                          E.g.  transform-origin: right bottom 2cm
transform-origin: y-offset-keyword x-offset-keyword z-offset                          E.g.  transform-origin: bottom right 2cm 
```

# php - php 类 Spreadsheet_Excel_Reader 密码保护文件读取

> ID：15354775
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:30:20.067
> 
> 标签：php, phpexcel

我正在使用 php 类 Spreadsheet_Excel_Reader，我很困惑如何通过这个类读取受密码保护的文件。

我赋予不同的文件读取权限。但在 excel 阅读器中找不到可以通过此库读取文件的选项

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:26:12.853

如果整个文件受密码保护，那么您不能：SEW 不会读取加密的工作簿。您需要使用[COM](http://www.php.net/manual/en/book.com.php)或[PUNO](http://www.wstech2.net/index.php?do=0a,01,05)或 Ilia Alshanetsky对[libXL库的](http://www.libxl.com/)[Excel 扩展](https://github.com/iliaal/php_excel)来执行此操作（尽管在购买 libXL 之前检查一下，因为我不确定它是否处理受密码保护的文件）。

# java - 能够投射 ArrayList > 到数组列表 没有类转换异常的字符串

> ID：15354776
> 
> 赞同：0
> 
> 时间：2013-03-12T06:30:20.643
> 
> 标签：java, casting

我正在做以下操作。

```
 Set<Set<String>> set1 = new HashSet<Set<String>>();
    Set<Set<String>> set2 = new HashSet<Set<String>>();

    set1.add(new HashSet<String>(Arrays.asList("s1","s2")));
    set1.add(new HashSet<String>(Arrays.asList("s4","s5")));

    set2.add(new HashSet<String>(Arrays.asList("s5","s4")));

    ArrayList<String> ob = (ArrayList<String>)CollectionUtils.subtract(set1, set2);
    ArrayList<Set<String>> ob1 = (ArrayList<Set<String>>)CollectionUtils.subtract(set1, set2);
    System.out.println(ob);
    System.out.println(ob1); 
```

它给出以下输出。
[[s2, s1]]
[[s2, s1]]

它不应该在第一种情况下给类转换异常吗？

谢谢，
山塔努

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:34:14.327

泛型是 Java 语言的编译时特性，因此在运行时的代码中，您正在做的是将其强制转换为，`ArrayList`因此最终它`ArrayList`不会被执行。

此外，您的代码不会对返回的“ArrayList”做任何事情，它只是打印它调用`toString()`方法，因此您的代码目前没有可能拥有`ClassCastExpection`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:39:19.017

您提供的类型参数`ob1`并且`ob2`在运行时不存在。该`println`方法不携带实际类型，因为它只是调用该`Object#toString`方法。`ClassCastException`除非您尝试将存储在数组列表中的对象直接用作不正确的类型，否则您不会得到 a 。

例如，如果您执行以下操作，您将收到异常。

```
String s = ob.iterator.next(); 
```

# c# - 无法将所选值分配给组合框

> ID：15354777
> 
> 赞同：1
> 
> 时间：2013-03-12T06:30:24.847
> 
> 标签：c#, wpf, data-binding, mvvm, combobox

我添加了一个组合框来添加新的静态值作为..

在 XAML 上：

```
<ComboBox Name="cmbBoxControlTypes" ItemsSource="{Binding}"></ComboBox> 
```

关于页面加载背后的代码：

```
MMVVMControl.cmbBoxControlTypes.Items.Add(new CustomComboBoxItem("Text Box", "0"));
MMVVMControl.cmbBoxControlTypes.Items.Add(new CustomComboBoxItem("Pick List", "1"));
MMVVMControl.cmbBoxControlTypes.Items.Add(new CustomComboBoxItem("Check Box", "2")); 
```

编辑时：

```
MMVVMControl.cmbBoxControlTypes.SelectedValue = dtDataList.Rows[0]["Controls"].ToString(); 
```

分配选定的值后，我得到空值。请有人告诉我如何解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:51:25.447

感谢您的回复：我已添加

```
DisplayMemberPath="Text" SelectedValuePath="Value" 
```

到我的组合框并得到解决方案。

# javascript - 窗口弹出在mac机器上落后

> ID：15354783
> 
> 赞同：1
> 
> 时间：2013-03-12T06:30:46.853
> 
> 标签：javascript, jquery, macos

此脚本在 Windows 机器上运行良好，并在前面显示弹出窗口。但在 Mac 机器中，弹出窗口位于浏览器窗口的后面。我也想在mac机器的前面显示弹出窗口。

```
<script type="text/javascript">
    var win=null;

        $(document).ready(function() {

            $("#buttonid").live("click",function(){

                var alt = "http://www.testhost.com/test.php";
                var rel = "http://www.testhost.com/test2.php";               
                    var width= (window.innerWidth)-450;
                    var win = window.open(alt,"mywin","width=450,height="+window.innerHeight+",left="+width+", location=no, menubar=no, status=no, titlebar=no, scrollbars=no");

                    win.onload=function(){

                        window.location=rel;
                     }
                    if (window.focus) {
                       win.focus();
                     }
                     //setTimeout(win.focus(), 0);
                     return false;

        });
        });
    </script>
    </head>
    <body>
    <button id="buttonid">Click</button>
    </body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:48:31.123

试试这个：

```
if (window.focus) {
    win.blur();
    win.focus();
} 
```

这是对 Chrome（webkit？）的修复。这是另一个问题/答案的相同解决方案：

[window.focus() 在谷歌浏览器中不起作用](https://stackoverflow.com/questions/2758608/window-focus-not-working-in-google-chrome)

# django - 在 django tests.py 中保存函数引发错误

> ID：15354785
> 
> 赞同：1
> 
> 时间：2013-03-12T06:30:49.280
> 
> 标签：django, unit-testing, django-models, save, django-testing

我的model.py是：

```
Sample(models.Model):
   id=models.DecimalField(max_digits=8, decimal_places=0, primary_key=True)
   name=models.CharField(max_length=12)
   length=models.DecimalField(max_digits=8, decimal_places=0)
   def save(self):
      super(Sample,self).save() 
```

在我的tests.py中：

```
class SampleTestCase(TestCase):
def setUp(self):
self.sample=Sample.objects.create(id=12,name='xyz', length=33)
print self.sample.length
print "hello in setup" 
```

我的问题是，当我使用表单或使用管理员时，数据已成功保存而没有任何错误，但是当我尝试对其进行测试时，它会引发错误：

```
self.sample=Sample.objects.create(id='12',name='iftikhar', length=33)
File "/usr/local/lib/python2.7/dist-packages/django/db/models/manager.py", line 149, in create
return self.get_query_set().create(**kwargs)
File "/usr/local/lib/python2.7/dist-packages/django/db/models/query.py", line 414, in create
obj.save(force_insert=True, using=self.db)
TypeError: save() got an unexpected keyword argument 'force_insert' 
```

如果我从models.py中删除保存功能，任何人都可以告诉我为什么会发生这种情况，测试运行成功

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:33:48.283

您已经重写了`save`不采用任何参数的方法。

尝试：

```
def save(self, *args, **kw):
      super(Sample,self).save(*args, **kw) 
```

或者，完全省略这个覆盖方法。它什么也没做。

# node.js - util.inherits 抛出 TypeError: Cannot read property 'prototype' of undefined

> ID：15354791
> 
> 赞同：3
> 
> 时间：2013-03-12T06:31:19.697
> 
> 标签：node.js, inheritance

**应用程序.js**

```
var Website = new require( './jslib/website.js' ); 
```

**./jslib/website.js**

```
var util = require('util'),
    events = require('events');

module.exports = Website;
function Website()
{
    events.EventEmitter.call( this );
    return this;
}
util.inherits( Website, events.EventEmiter ); 
```

**控制台输出**

```
PATH_TO_APPDIR>node app.js

util.js:538
  ctor.prototype = Object.create(superCtor.prototype, {
                                          ^
TypeError: Cannot read property 'prototype' of undefined
    at Object.exports.inherits (util.js:538:43)
    at Object.<anonymous> (PATH_TO_APPDIR\jslib\website.js:9:6)
    at Module._compile (module.js:449:26)
    at Object.Module._extensions..js (module.js:467:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:362:17)
    at new require (module.js:378:17)
    at Object.<anonymous> (PATH_TO_APPDIR\app.js:1:16)
    at Module._compile (module.js:449:26) 
```

*这是 Windows 7 上的 NodeJS 8.22* *

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-12T06:36:24.803

您的代码中有错字。

```
util.inherits( Website, events.EventEmiter ); 
```

应该

```
util.inherits( Website, events.EventEmitter ); 
```

# windows - 在 Ubuntu 中创建并在 Windows 中克隆的 git 控制的 Eclipse 项目中管理外部 JAR 构建路径

> ID：15354800
> 
> 赞同：0
> 
> 时间：2013-03-12T06:32:46.087
> 
> 标签：windows, eclipse, git, ubuntu-12.04, buildpath

我在 Ubuntu 上创建了一个 Eclipse 项目，其中我使用的所有 JAR 都位于一个文件夹中`/home/xyz/AllJARs`。这`/home`是系统主文件夹。该项目以及 AllJARs 文件夹在中央 git 服务器上受 git 版本控制。

因此，项目构建路径中这些 JAR 的所有路径都是 /home/xyz/AllJARs。当我在 Windows 机器上克隆项目 repo 和 AllJARs repo 时，我显示与构建路径相关的错误，因为它找不到路径 /home/xyz/AllJARs。

我该如何管理这种情况，我可以在构建路径中拥有外部 JAR 文件，这些文件可以在 Ubuntu 和 Windows 机器上运行？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:53:35.907

您有两个简单的选择：

1.  **使用相对路径：**例如，将 JAR 文件夹放在项目上方的文件夹中，然后您可以将 JAR 的路径设置为`../AllJARs/`

2.  **将 JAR 放入项目中：**您也可以将 JAR 放入项目文件夹中；如果您在项目设置中将它们设置为“外部 JAR”，则必须从该列表中删除它们，然后使用“添加 JAR”重新添加它们。然后 Eclipse 将在项目文件夹中本地查找它们。如果您不想将 JAR 提交到 git repo（大小和/或权限是一个问题），您可以在克隆后将它们复制到 Project 文件夹中。当它们不存在时，您会看到一个警告，但是一旦 Eclipse 可以找到它们，一切都很好。

# php - 如何使用 Facebook PHP SDK 发布具有 2 个空格字符的 Facebook 照片？

> ID：15354802
> 
> 赞同：0
> 
> 时间：2013-03-12T06:32:54.673
> 
> 标签：php, facebook, sdk, character, space

我想使用 FB PHP SDK 将照片上传到 FB，该 SDK 并排有 2 个空格字符，但显然使用 HTML 时只显示一个空格字符。在提要帖子上使用 Javascript SDK，我可以使用“”+“ ”来做到这一点，但如果我使用 PHP SDK 提交照片消息，它会在结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:31:42.733

> 在提要帖子上使用 Javascript SDK，我可以使用“”+“ ”来做到这一点，但如果我使用 PHP SDK 提交照片消息，它会在结果。

这很合乎逻辑——因为您的 JavaScript 在 HTML 文档中，在解析时`&nbsp;`会被实际的不间断空格*字符*替换– 但是您的 PHP 代码不会被解析为 HTML，因此   不会被任何东西取代，而只是代表字符 &、n、b、s、p、; 按顺序。

您可以尝试使用不间断空格的 unicode 表示，即十进制的 0xA0 或 160 - 并查看 Facebook 是否接受它或将其替换为正常空格。（但由于您的 JavaScript 帖子本质上归结为同一件事，我认为它应该可以工作。）

```
utf8_encode(chr(160)) 
```

将在 PHP 中为您提供正确的 UTF-8 编码的不间断空格字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T23:44:10.837

尝试使用`urlencode($urlPath);`. 这应该将您的字符串转换为对 url 友好的字符串。

# php - 在 wordpress 中显示每个指定类别的最新帖子

> ID：15354806
> 
> 赞同：0
> 
> 时间：2013-03-12T06:33:18.603
> 
> 标签：php, wordpress

```
<div id="portfolio">
        <ul id="portfolio-items" >
            <?php $query = new WP_Query(); $count = 1;
            //$catquery = new WP_Query( 'category_name=roomsandspecials&posts_per_page=10' );

             $categories12 = get_terms('skill-type', $cat_args );

// These functions and add_filters could go in your functions.php file
function mam_posts_fields ($fields) {
   global $mam_global_fields;
   // Make sure there is a leading comma
   if ($mam_global_fields) $fields .= (preg_match('/^(\s+)?,/',$mam_global_fields)) ? $mam_global_fields : ", $mam_global_fields";
   return $fields;
}
function mam_posts_where ($where) {
   global $mam_global_where;
   if ($mam_global_where) $where .= " $mam_global_where";
   return $where;
}
add_filter('posts_fields','mam_posts_fields');
add_filter('posts_where','mam_posts_where');

$mam_global_fields = ", $wpdb->term_relationships.term_taxonomy_id";
$mam_global_where = " AND post_date =
   (SELECT MAX(p.post_date)
   FROM $wpdb->posts p, $wpdb->term_relationships tr
   WHERE p.ID = tr.object_id
   AND tr.term_taxonomy_id = $wpdb->term_relationships.term_taxonomy_id
   AND p.post_type = 'portfolio'
   AND p.post_status = 'publish'
   AND p.post_date < NOW() ) ";

for ($i = 0; $i <  count($categories12); $i++) {

query_posts( array(             
                'post_type' => 'portfolio',
                'tax_query' => array(
                    array(
                        'taxonomy' => 'skill-type',
                        'field' => 'id',
                        'terms' => $categories12[$i]->term_id
                    )
                )
            ) );

//query_posts($args);

 if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
 <li <?php post_class() ?> id="post-<?php the_ID(); ?>">
 <?php get_the_image( array( 'size' => 'portfolio-thumb',  'width' => 220, 'height' => 140, 'link_to_post' => false  ) ); ?>
  <div class="meta">
 <h3><a href="<?php the_permalink(); ?>" rel="bookmark" title="<?php printf(__('Permanent Link to %s', 'wpzoom'), get_the_title()); ?>">  <?php the_title(); ?></a></h3>
  <?php echo $categories12[$i]->name; ?>
 </div>
   </li>
 <?php 
 //echo $categories12[$i]->term_id; 
 endwhile; endif; }
  ?>
</ul></div> 
```

我正在使用上面的代码来显示类别中的最新帖子。当我不使用 add_filter('posts_fields','mam_posts_fields'); 时，使用此代码滑块在风险主题中不起作用 add_filter('posts_where','mam_posts_where'); 这显示了类别中的所有帖子。我想获得所有类别的最新帖子

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:10:23.383

请尝试以下脚本并告诉我

```
<?php
$catquery = new WP_Query( 'cat=3&posts_per_page=5' );
while($catquery->have_posts()) : $catquery->the_post();
?>
<ul>
<li><h3><a href="<?php the_permalink() ?>" rel="bookmark"><?php the_title(); ?></a>    </h3>
<ul><li><?php the_content(); ?></li>
</ul>
</li>
</ul>
<?php endwhile; ?>

or

<?php query_posts('category_name=wordpress&showposts=5'); ?>
<?php while (have_posts()) : the_post(); ?>
<li><a href="<?php the_permalink(); ?>">
<?php the_title(); ?>  

      </a>  </li>

    <?php endwhile; ?> 
```

**请检查以下两个脚本** **第一个脚本**

```
 <?php 
    $cat_args = array(
      'orderby' => 'name',
      'order' => 'ASC',
      'child_of' => 0
    );

    $categories =   get_categories($cat_args); 

    foreach($categories as $category) { 
        echo '<dl>';
        echo '<dt> <a href="' . get_category_link( $category->term_id ) . '" title="' . sprintf( __( "View all posts in %s" ), $category->name ) . '" ' . '>' . $category->name.'</a></dt>';

         $post_args = array(
          'numberposts' => 1,
          'category' => $category->term_id 
        );

        $posts = get_posts($post_args);

        foreach($posts as $post) {
        ?>
            <dd><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></dd>
        <?php 
        } 
        echo '<dd class="view-all"> <a href="' . get_category_link( $category->term_id ) . '" title="' . sprintf( __( "View all posts in %s" ), $category->name ) . '" ' . '>View all posts in ' . $category->name.'</a></dd>';
        echo '</dl>';
    } 
    ?>
   **Second script**

        This will print categories and posts
        <?php
        //for example categories ids 42,6,8, show 1 posts
        $cat_args=array(
          'include' => '42,6,8',
          'orderby' => 'name',
          'order' => 'ASC'
           );
        $categories=get_categories($cat_args);
          foreach($categories as $category) {
            $args=array(
              'showposts' => 1,
              'category__in' => array($category->term_id),
              'caller_get_posts'=>1
            );
            $posts=get_posts($args);
              if ($posts) {
                echo '<p>Category: <a href="' . get_category_link( $category->term_id ) . '" title="' . sprintf( __( "View all posts in %s" ), $category->name ) . '" ' . '>' . $category->name.'</a> </p> ';
                foreach($posts as $post) {
                  setup_postdata($post); ?>
                  <p><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></p>
                  <?php
                } // foreach($posts
              } // if ($posts
            } // foreach($categories
        ?> 
```

# php - 从 codeigniter 2.1.3 中删除 index.php

> ID：15354809
> 
> 赞同：1
> 
> 时间：2013-03-12T06:33:19.203
> 
> 标签：php, codeigniter, codeigniter-2

在我打开这篇文章之前，我确实花了三天时间试图弄清楚这一点，但一点运气都没有，所以请帮助我。谢谢~~~~

好的，这就是我到目前为止所做的：

1.  安装 CI 2.1.3 的新副本，对任何文件夹都没有任何名称更改
2.  使用我在 Google 上找到的所有结构创建一个新的 .htaccess 文件到 CI ROOT 目录
3.  将 config['index_page'] 更改为空，例如。配置['index_page'] ='';
4.  设置 config['uri_protocol'] = 'REQUEST_URI' 或 'QUERY_STRING'</li>
5.  每次我进行上述更改时，甚至重新启动 MAMP（PHP 5.4）
6.  已启用：httpd.conf 中的 LoadModule rewrite_module modules/mod_rewrite.so
7.  在 https.conf 中添加“Options Indexes FollowSymLinks MultiViews”（我唯一不确定）
8.  （我不知道我现在应该尝试什么 V_V ）

然后，我得到了这个：

是的工作： [http ://ci.dev/index.php/welcome/index](http://ci.dev/index.php/welcome/index)

不工作： [http ://ci.dev/welcome/index](http://ci.dev/welcome/index)

以下是我现在所拥有的一些细节：

**.htaccess 文件：**

```
# I got 500 error if I uncommend this line: <IfModule mod_rewrite.c>
#http://ci.dev/index.php/welcome/index  this is works fine only if the above line commend out
RewriteEngine On
RewriteCond $1 !\.(gif|jpe?g|png)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.php/?$1 [L]
# I got 500 error if I uncommend this line: </IfModule> 
```

**配置文件**

```
$config['index_page'] = '';
$config['uri_protocol'] = 'QUERY_STRING';
//$config['uri_protocol'] = 'REQUEST_URI'; 
```

**主机文件**

```
127.0.0.1 localhost
127.0.0.1 test.dev
127.0.0.1 ci.dev 
```

**httpd.conf 文件**

```
#the following line also enabled
LoadModule rewrite_module modules/mod_rewrite.so  in httpd.conf

...

# The following code I placed at the bottom of https.conf file

NameVirtualHost *

<VirtualHost *>
 ServerName localhost
 DocumentRoot "/Applications/MAMP/htdocs"
</VirtualHost>

<VirtualHost *> 
 ServerName ci.dev
 DocumentRoot /Users/coda/Sites/ci
 <Directory /Users/coda/Sites/ci>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
 </Directory>
</VirtualHost>

<VirtualHost *> 
 ServerName test.dev
 DocumentRoot /Users/coda/Sites/test
</VirtualHost> 
```

请帮帮我~~~~

谢谢

==================================================== ================

感谢所有在这里尝试帮助我的人。我终于让它工作了，我认为在忽略了一些简单的事情之后，我不知何故把事情复杂化了。

我只是安装了 CI2 的另一个副本，并且只更改了 .htaccess 文件：

```
 RewriteEngine On
  RewriteCond %{REQUEST_FILENAME} !-f 
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ index.php/$1 [L] 
```

然后就万事大吉了~！！！！——</p>

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T07:31:23.003

试试这个 .htaccess （把它放到项目目录的根目录下，即 /chat 这里）：

```
# To remove index.php from URL

RewriteEngine On
# RewriteBase /chat
RewriteCond %{REQUEST_URI} ^system.*
RewriteRule ^(.*)$ /index.php/$1 [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

`RewriteBase`如果您在子目录中有项目，请将其放入，否则将其删除

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:23:44.463

![在此处输入图像描述](../Images/d2852e43195b0acd584a1501b3ea196b.png)

笔记：

**htdocs**是根文件夹

**ci_intro**是代码点火器的文件夹

如果我们有同样的情况，那么你的 .htaccess 应该是这样的

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /ci_intro/

    #Removes access to the system folder by users.
    #Additionally this will allow you to create a System.php controller,
    #previously this would not have been possible.
    #'system' can be replaced if you have renamed your system folder.
    RewriteCond %{REQUEST_URI} ^system.*
    RewriteRule ^(.*)$ /index.php?/$1 [L]

    #When your application folder isn't in the system folder
    #This snippet prevents user access to the application folder
    #Submitted by: Fabdrol
    #Rename 'application' to your applications folder name.
    RewriteCond %{REQUEST_URI} ^application.*
    RewriteRule ^(.*)$ /index.php?/$1 [L]

    #Checks to see if the user is attempting to access a valid file,
    #such as an image or css document, if this isn't true it sends the
    #request to index.php
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?/$1 [L]
</IfModule>

<IfModule !mod_rewrite.c>
    # If we don't have mod_rewrite installed, all 404's
    # can be sent to index.php, and everything works as normal.
    # Submitted by: ElliotHaughin

    ErrorDocument 404 /index.php
</IfModule> 
```

请注意**RewriteBase /ci_intro/**将 ci_info 更改为您的 codeigniter 文件夹。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T06:36:47.083

将 .htaccess 文件与 index.php 文件一起放在应用程序根目录中。（检查 htaccess 扩展是否正确，Bz htaccess.txt 对我不起作用。）

并将以下规则添加到 .htaccess 文件中，

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

然后在您的 application/config/config.php 文件中找到以下行

```
$config['index_page'] = 'index.php'; 
```

将变量设置为空，如下所示。

```
$config['index_page'] = ''; 
```

就是这样，它对我有用。

如果它不起作用，请尝试用这些参数（'AUTO'、'PATH_INFO'、'QUERY_STRING'、'REQUEST_URI'和'ORIG_PATH_INFO'）一一替换以下变量

```
$config['uri_protocol'] = 'AUTO'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-07T04:48:14.930

试试看 ：

`RewriteEngine on`

`RewriteCond %{REQUEST_FILENAME} !-f`

`RewriteCond %{REQUEST_FILENAME} !-d`

`RewriteRule .* /codeigniterNameFolder/index.php/$0 [PT,L]`

更改 codeigniterNameFolder :)

# regex - 使用 Groovy 的 !=~ 匹配器

> ID：15354810
> 
> 赞同：-1
> 
> 时间：2013-03-12T06:33:30.213
> 
> 标签：regex, groovy

我有一个字符串，例如

```
def cmdPieces = "config +D BARG1 WORDS=FULLY END=M" 
```

我试图匹配这样的模式：

```
if ((cmdPieces.any() { it ==~ /=/ }) & (cmdPieces.any() { it !=~ /\+|\-/ })) 
```

因此，如果`=`字符串中只有符号，它将以一种方式评估，如果字符串中有`+`和/或`-`任何地方的组合，它将以另一种方式评估。

我感觉我的匹配器工作不正常。

有人可以纠正这个复杂的匹配器以使其正常工作吗？很抱歉造成混乱，很难将其归结为本质，但我认为我做得对。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-12T18:27:18.677

看起来这行得通...

`if (((cmdPieces.toString().contains("+")) || (cmdPieces.toString().contains("-"))) & (!cmdPieces.toString().contains('=')))`

# v8 - 嵌入式 JavaScript 引擎 V8 中的跟踪执行脚本

> ID：15354812
> 
> 赞同：2
> 
> 时间：2013-03-12T06:33:42.823
> 
> 标签：v8, embedded-v8

在使用 v8 JavaScript 引擎时，我这样做：

```
script->Run(); 
```

但我想做这样的事情：

```
while (!script->Finished()) {
   script->NextOperation();
   printf("current line: %i\n", script->line);
} 
```

我问这个是因为我想更好地理解 v8。我知道它是 JIT 编译的，它具有侦听某个端口的调试器接口。我没有通过检查标题找到我的问题的答案，更不用说谷歌提供的极简文档了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-05-06T11:09:33.047

您未能找到答案的具体问题是什么？

应该怎么`script->NextOperation()`做？

V8 本身不是 JIT 编译的；它 JIT 编译它执行的 JavaScript 代码。逐行跟踪 JS 脚本如何更好地理解 V8？

我想到了两种现有的方法：

*   如果你想跟踪 JavaScript 的执行，V8 有一个内置的`--trace`标志，它会`stdout`在函数进入或退出时打印一行。
*   如果您想跟踪 C++ 方面以了解 V8 在底层做了什么，请使用您最喜欢的 C++ 调试器。（请注意，这将是一种非常耗时的方法，因为 V8 很大并且可以做很多事情。在您的调查中更加专注可能会有所帮助，例如“解析器是如何工作的”或“什么垃圾收集器会做吗”。还有各种设计文档和博客文章四处飘荡，这可能是理解许多概念的更快方法，而不是挖掘源代码或跟踪执行。）

# java - 限定名称和字段访问表达式有什么区别？

> ID：15354816
> 
> 赞同：6
> 
> 时间：2013-03-12T06:33:53.860
> 
> 标签：java, jls

从[有关受保护访问的 JLS 详细信息中](http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.2)：

> 令 C 为声明受保护成员的类。只有在 C 的子类 S 的主体内才允许访问。
> 
> 此外，如果 Id 表示实例字段或实例方法，则：
> 
> 如果通过限定名称 Q.Id 进行访问，其中 Q 是 ExpressionName，则当且仅当表达式 Q 的类型是 S 或 S 的子类时才允许访问。
> 
> 如果通过字段访问表达式 E.Id（其中 E 是 Primary 表达式）或通过方法调用表达式 E.Id(. . .)（其中 E 是 Primary 表达式）进行访问，则当且仅如果 E 的类型是 S 或 S 的子类。

*限定名称*和*字段访问表达式*有什么区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:10:39.463

*如果表达式名称的格式为 Q.Id，则 Q 已被分类为包名称、类型名称或表达式名称。*

*字段访问表达式的含义使用与限定名称相同的规则确定，但受限于表达式不能表示包、类类型或接口类型这一事实。*

在 oracle 的网站上找到了上面的文字。

所以简单来说：

1.  限定名称是指在声明中带有父信息的名称。例如**Pack1.Pack2.Pack3.Class1** & **Pack1.Pack2.Pack4.Class2**

在**Pack4**中，我们可以通过以下任一方式 访问**Class1** **Pack3.Class1**或**Pack2.Pack3.Class1**或**Pack1.Pack2.Pack3.Class1**，其中最后一个是完全限定名称。

1.  字段访问表达式是限定名称的子类型，但正如名称所说，它是用于访问字段

因此，限定名称可能指的是 Packge、Class、Interface 而不是字段，而字段访问表达式只能指字段

参考： http: [//docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.11](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.11) [http://docs.oracle.com/javase/specs/jls/se7/html /jls-6.html#jls-6.5.6.2](http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.5.6.2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:49:13.353

`qualified name`在类名方面有意义（从静态方面考虑）。其中，字段访问表达式就像`Fully Qualified Name`为类的特定对象（包括方法名称）指定参考。

例子 ：

```
public class A
{
    public static void method1()
    {//does something
    }
}

public class B 
{
     public int dummy;
     public void hello()
     {
          System.out.println("Hello!");
     }
}

public class Main 
{
     public static void main(String[] args) 
     {
          B b = new B();
          b.dummy=1;
          b.hello();
     }
} 
```

如果我们说，在上面的课程中

```
A.method1() 
```

它更像是一个限定名称，其中

```
b.hello(); 
b.dummy 
```

更像是一个字段访问表达式。

# windows-phone-7 - 在windows phone开发中，我可以给文本块设置一个宽度，然后像这样显示吗？

> ID：15354827
> 
> 赞同：1
> 
> 时间：2013-03-12T06:34:42.057
> 
> 标签：windows-phone-7, xaml, windows-phone-8, textblock

为了**使列表框中的项目看起来不错**

```
<ListBox
   Height="Auto"
   HorizontalAlignment="Left" 
   Margin="0,0,0,0" 
   Name="hotSpotListBox" 
   VerticalAlignment="Top"
   Width="460" 
   ItemsSource="{Binding}" 
   ScrollViewer.VerticalScrollBarVisibility="Disabled"  
   SelectionChanged="hotSpotListBoxSelectionChanged" >

<ListBox.ItemTemplate>
  <DataTemplate>
     StackPanel  Margin="10,0,12,4 
                 Orientation="Vertical">

<StackPanel Orientation="Horizontal">
 <TextBlock 
      Width="380" 
      Margin="0,4,12,4"
      FontSize="24" 
      Text="{Binding hotname}" 
      Foreground="#FF407CED"  
      TextWrapping="Wrap" 
      Tap="QueryHotSpotItem_Tap"/>

 <Image 
    Margin="0,0,0,0" 
    Source="/Images/ico_name.png" 
    Tap="HotSpotIcon_Tap"/>
       </StackPanel>

  <TextBlock
    Margin="0,0,12,4" 
    FontSize="22"
    Text="{Binding address}" 
    Foreground="Black" 
    TextWrapping="Wrap" 
    Tap="QueryHotSpotItem_Tap"/>

<TextBlock 
  Margin="0,4,12,4"
  FontSize="24" 
  Text="{Binding city}"  
  Height="1"
  Width="1" 
  Visibility="Collapsed"/>

<TextBlock 
  Margin="0,0,12,4" 
  FontSize="22" 
  Text="{Binding hottype}" 
  Height="1" 
  Width="1" 
  Visibility="Collapsed" />

<TextBlock 
 Margin="0,0,12,4" 
 FontSize="2"
 Text="{Binding coverarea}"
 Height="1" 
 Width="1" 
 Visibility="Collapsed" />

<TextBlock 
   Margin="0,0,12,4" 
   FontSize="2" 
   Text="{Binding longitude}" 
   Height="1" 
   Width="1"
   Visibility="Collapsed" />

<TextBlock
   Margin="0,0,12,4" 
   FontSize="2" 
   Text="{Binding latitude}" 
   Height="1"
   Width="1" 
   Visibility="Collapsed" />
             </StackPanel>
           </DataTemplate>
         /ListBox.ItemTemplate>
       </ListBox> 
```

请看代码中的注释：
*伟大的程序员！！！当心！！
这里，width=380 是一个很好的布局，textwrapping=“wrap” 是为了防止
一些热名称太长，
但现在我想保持宽度=380
，但如果热名称太长而无法显示，它会显示“longhotname。 ..”
我该如何实现呢？？？*
任何建议都会很好，谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T08:37:35.783

使用 TextTrimming 属性。

```
TextBlock text = new TextBlock();
text.TextTrimming = TextTrimming.WordEllipsis; 
```

# delphi - 如何更改 Delphi Tchromium 中组合框的值？

> ID：15354828
> 
> 赞同：2
> 
> 时间：2013-03-12T06:34:47.110
> 
> 标签：delphi, tchromium

如何使用 Tchromium Delphi 更改组合框的值？版本 Tchromimum DCEF3

```
<td class="droplabels" nowrap="nowrap">Лист</td>
<td colspan="3">
   <div class="ui-widget">
      <select id="sheet" name="sheet" style="font-size:0.7em;width:761px;" 
         class="form_select" onchange="showSheet(this.value);">
             <option value="1" selected="selected">Account List </option>
             <option value="2">Merchant list</option>
      </select>
   </div>
</td> 
```

试试这个，但没有奏效...... `Chromium1.Browser.MainFrame.ExecuteJavaScript('document.getElementById("sheet").selectedIndex=2;', 'about: blank', 0); Chromium1.Browser.MainFrame.ExecuteJavaScript('document.getElementById("providerField").onchange();', 'about: blank', 0);`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T05:59:35.983

上面有一个 ExecuteJavascript。因此，您可以使用 Javascript 操作其上的所有内容。
如果要更改该组合框的值，请使用 DOM 进行更改。使用“document.getElementById”获取其 id，然后通过访问其 selectedIndex 来更改其 selectedIndex。
但是，这不会触发 onChange 事件。因此，您需要再次使用 javascript 手动调用它。

这是更改其 selectedIndex 的代码：

```
Chromium1.Browser.MainFrame.ExecuteJavaScript('document.getElementById("sheet").selectedIndex='+comboboxIndex+';', 'about: blank', 0);
```

手动触发 onChange 事件：

```
Chromium1.Browser.MainFrame.ExecuteJavaScript('document.getElementById("providerField").onchange();', 'about: blank', 0); 
```

将 Chromium1 更改为您的 TChromium 变量对象名称。

以下是有关 Select
[http://www.w3schools.com/jsref/dom_obj_select.asp的更多信息](http://www.w3schools.com/jsref/dom_obj_select.asp)

如果您对 DOM 一无所知，请在此处阅读
[http://www.w3schools.com/htmldom/default.asp](http://www.w3schools.com/htmldom/default.asp) 以简单的方式，您只需要获取它的 DOM 对象，然后通过访问和执行您想要的操作修改其属性

对不起，我的英语不好。
*已编辑*

# apache - 在哪里可以找到 apache2-mod-xsendfile 9.2 版的文档？

> ID：15354835
> 
> 赞同：0
> 
> 时间：2013-03-12T06:35:04.080
> 
> 标签：apache

我安装了这个版本，但由于缺少文档，我无法正确配置模块。特别是无法识别 XSendFilePath 选项：

无效的命令“XSendFilePath”，可能拼写错误或由服务器配置中未包含的模块定义

如果我删除 XSendFilePath 指令，我会收到错误消息：给定路径高于根路径：xsendfile：无法找到文件：

# c# - 发布创建的excel实例

> ID：15354842
> 
> 赞同：1
> 
> 时间：2013-03-12T06:35:36.963
> 
> 标签：c#, excel

我试图将一个工作表的副本复制到另一个工作表，下面是我的代码..我试图释放由 excel 创建的实例，但我仍然在 TaskManager 中看到它的一个实例。

C#代码：

```
try
{
  wBook = xCel.Workbooks.Open(filePath);
  xCel.Visible = false;
  this.xCel.DisplayAlerts = false;                
  wBook = (Excel.Worksheet)wBook.Worksheets.get_Item(1);
  wBook.Copy(Type.Missing, Type.Missing);                
  wBook = (Excel.Worksheet)wBook.Sheets[1];                
  wBook.SaveAs(strFileCopyPath);                 
}
finally
{
  if (wBook != null)
  {   wBook.Close();                    
      Thread.Sleep(500);
  }                
  Marshal.ReleaseComObject(wBook);               
  Marshal.ReleaseComObject(wBook);                
} 
```

请有人告诉我在这里做错了什么？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:41:59.953

你忘了调用对象`Quit()`的方法`Excel.Application`。通常我使用以下代码关闭 Excel（VB.Net 代码片段）：

```
xlApp.Quit()
System.Runtime.InteropServices.Marshal.ReleaseComObject(xlApp)
xlApp = Nothing
xlBook = Nothing
xlSheet = Nothing 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:47:07.240

您没有做任何理智的错误-但是关闭 exel 的概念非常轻率。那是因为： 1：Excel 有时会创建中间对象，这些对象对您来说是不可见的，尤其是当您执行以下操作时：DIm bla = excel.worksheet.range("A1").value。然后是excel的中间对象。2：必须以非常特定的顺序关闭 excel 对象。

此代码应该有帮助：

```
GC.Collect()
GC.WaitForPendingFinalizers()
GC.Collect()
GC.WaitForPendingFinalizers() 
```

由于 pass 1 仅标记中间对象，但不会破坏它们，因此这必须是双倍的。这是垃圾收集。

还按此顺序销毁您的对象：范围等 Worksheets Workbook APP

像这样：

```
System.Runtime.InteropServices.Marshal.FinalReleaseComObject(xlSheet)
xlsheet = nothing
xlBook .Close()
System.Runtime.InteropServices.Marshal.FinalReleaseComObject(xlBook )
xlbook = nothing
xlapp.quit
System.Runtime.InteropServices.Marshal.FinalReleaseComObject(xlapp)
xlapp = nothing 
```

如果对象什么都不是，请使用 try catch 捕获本节中的错误。

# html - 如何使用 auto:height 和 overflow:auto 使我的可扩展网站

> ID：15354843
> 
> 赞同：0
> 
> 时间：2013-03-12T06:35:45.297
> 
> 标签：html, css

我正在尝试制作一个可垂直扩展的网站，以便可以添加模块并调整页面大小。我一直在尝试通过使用绝对定位、自动高度和自动溢出来实现这一点。问题是在某些时候您似乎必须定义至少一个高度......一旦发生这种情况，该站点就不再是完全可扩展的。在我下面的代码中，您可以看到它基本上都是可扩展的，直到您到达容器（已折叠）。这个div的主要目的是让页面上的所有内容居中，然后内容绝对定位在里面。我不想给容器一个高度，但它只是不承认里面的内容。我怎样才能使这项工作？

ps.疯狂的颜色仅用于构建和测试。

## HTML

```
<div id="container">
    <div id = "contentHolder">
        <div id="header" >
            <h1>This is a heading</h3>
        </div>
        <div id="moduleContainer">
            <div id= "myModule">
                <div id= "moduleHeader">
                    <p class="p1">Who We Are 
                    <span class="p2">Learn more about Trinity</span></p>
                    </div> 
                    <div id= "moduleBody" >
                    <p class="p3">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras fringilla tempus hendrerit.
                     Mauris sed felis vel orci bibendum semper vel eget tortor. Ut adipiscing interdum tellus ac pulvinar. 
                     Suspendisse sit amet hendrerit lectus. In felis felis, venenatis luctus varius ut, accumsan sit amet tellus. 
                     Integer ac gravida sem. Vivamus orci turpis, tempus sit amet tincidunt ultrices, interdum luctus dolor.
                      Suspendisse sit amet hendrerit lectus. In felis felis, venenatis luctus varius ut, accumsan sit amet tellus. 
                     Integer ac gravida sem. Vivamus orci turpis, tempus sit amet tincidunt ultrices, interdum luctus dolor.
                        </p>

                        <div id="mod_Image" ><img src="churchImg.jpg" style="height:100%; width:100%; "/></div>
                    </div>
            </div><!---end myModule---->
        </div><!---end moduleContent---->

        <div id="moduleContainer">
            <div id= "myModule">
                <div id= "moduleHeader">
                    <p class="p1">Who We Are 
                    <span class="p2">Learn more about Trinity</span></p>
                    </div> 
                    <div id= "moduleBody" >
                    <p class="p3">
                    The United Church of Christ acknowledges as its sole head, Jesus Christ, Son of God and Savior. 
                    It acknowledges as kindred in Christ all who share in this confession. It looks to the Word of 
                    God in the Scriptures, and to the presence and power of the Holy Spirit, to prosper its creative 
                        </p>

                        <div id="mod_Image" ><img src="churchImg.jpg" style="height:100%; width:100%; "/></div>
                    </div>
            </div><!---end myModule---->
        </div><!---end moduleContent---->

     </div><!---end contentHolder---->
</div><!---end container----> 
```

## CSS

```
#container 
        {
            text-align:center; 
            margin-left:auto; 
            margin-right:auto; 
            background-color:purple; 
            width:1330px; 
            height:auto; 
            position:relative; 
            padding:20px;

        }

        #contentHolder 
        { 
            width:1200px; 
            height:auto; 
            background-color:green;         
            padding:40px; 
            position:absolute; 
            top:20px; 
            left:20px;  
            overflow:auto;
        }

        #header
        {
            width:100%; 
            height:200px; 
            background-color:yellow; 
            overflow:auto;
        }

        #moduleContainer 
        {
            width:1200px; 
            height:auto; 
            background-color:red; 
            float:left; 
            overflow:auto; 
            padding-bottom:40px;
            border-bottom:thin dashed white;
        }

        #myModule
        {
            height:auto;  
            width: 1000px; 
            overflow:auto;
        }

        #moduleHeader 
        {
            width:100%; 
            height:auto; 
            overflow: auto;
        }

        #moduleBody 
        {
            background-color:#0E1031; 
            width:800px; 
            height:auto; 
            margin-left:auto; 
            margin-right:auto; 
            padding:40px;
            border:thick solid #1B1851;  
            border-radius: 15px; 
            overflow: auto;
        }

        #mod_Image 
        {
            height:200px; 
            width:200px;
            margin-left:40px; 
            float:left; 
            border:thick solid white;
        }

        .p1
        {
            text-align:left; font-family:Arial; font-size:22px; font-size:30px; color:#191970;margin-left:80px;"
        }

        .p2
        {
            color:#999; font-size:20px; font-weight:bold;
        }

        .p3
        {
            text-align:justify; height:150px; width:500px;   font-family:Arial; font-size:14px; line-height:150%; float:left; color:white; 
        }
        h1 
        {
            text-align:left; padding:60px; color:green;
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:45:16.773

删除绝对位置`#contentHolder {postion:absolute;}`

# eclipse - 在 p2.console 获取 NPE

> ID：15354844
> 
> 赞同：1
> 
> 时间：2013-03-12T06:35:46.037
> 
> 标签：eclipse, equinox, p2, eclipse-ecf

我`p2.console`在访问它时遇到了 NPE 异常。

```
osgi> provaddrepo http://localhost:8080/Site
gogo: NullPointerException: null
osgi> provaddmetadatarepo http://localhost:8080/Site
gogo: NullPointerException: null
osgi> provinstall org.eclipse.egit.feature.group 0.8.4
gogo: NullPointerException: null
osgi> 
```

我的自定义邮件应用程序也遇到了同样的异常。

```
java.lang.NullPointerException at 
org.eclipse.equinox.internal.p2.repository.helpers.AbstractRepositoryManager.loadIndexFile(AbstractRepositoryManager.java:721) 
```

我不明白“没有可用的传输”的含义或如何检查传输包。我检查了安装在我的Equinox上的ecf包。我正在使用日食朱诺

有没有人有任何解决方案，p2.console 等教程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T09:22:52.400

您需要在 Equinox 运行时中有一个为 p2 提供传输服务的包。AFAIK，p2 仅提供该服务的一种实现，它位于 bundle 中`org.eclipse.equinox.p2.transport.ecf`。

有关使 p2 工作所需的捆绑包的完整列表，例如，您可以在 Tycho 项目源中查阅[此产品定义。](http://git.eclipse.org/c/tycho/org.eclipse.tycho.git/tree/tycho-bundles/tycho-bundles-external/tycho-bundles-external.product)

# windows - axis2 1.6.2.war Tomcat Server 7.0部署windows 2008 R2内部服务器报错

> ID：15354845
> 
> 赞同：0
> 
> 时间：2013-03-12T06:35:46.547
> 
> 标签：windows, tomcat7, axis2, tomcat6

我在 apache tomcat 7.0 或 6.0（windows 2008 r2 服务器）中部署了axis2 1.6.2 war 文件，我得到了axis2 欢迎页面，但是当我点击以下任何链接时

*   服务
*   证实
*   行政

我在浏览器中收到内部服务器错误。

以下例外来自 tomcat 日志文件夹- localhost.2013-03-11.log 文件

任何人都知道这个问题

帮我解决这个问题。

```
Mar 11, 2013 8:44:47 PM org.apache.catalina.core.ApplicationContext log
SEVERE: StandardWrapper.Throwable
java.lang.ExceptionInInitializerError 
at      org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584)
at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454)
at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)
at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)
at   org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5033)
    at   org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5317)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)
at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1655)
at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
at java.util.concurrent.FutureTask.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)

    Caused by: org.apache.commons.logging.LogConfigurationException: User-specified log class 'org.apache.commons.logging.impl.Log4JLogger' cannot be found or is not useable.
at org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:798)
at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:601)
at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:333)
at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:307)
at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:645)
at org.apache.axis2.deployment.DeploymentEngine.<clinit>(DeploymentEngine.java:76)
... 19 more
Mar 11, 2013 8:44:47 PM org.apache.catalina.core.StandardContext loadOnStartup
SEVERE: Servlet /axis2 threw load() exception
org.apache.commons.logging.LogConfigurationException: User-specified log class 'org.apache.commons.logging.impl.Log4JLogger' cannot be found or is not useable.
at org.apache.commons.logging.impl.LogFactoryImpl.discoverLogImplementation(LogFactoryImpl.java:798)
at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:601)
at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:333)
at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:307)
at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:645)
at org.apache.axis2.deployment.DeploymentEngine.<clinit>(DeploymentEngine.java:76)
at org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584)
at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454)
at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)
at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)
at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5033)
at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5317)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)
at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1655)
at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
at java.util.concurrent.FutureTask.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)
          Mar 11, 2013 8:45:31 PM org.apache.catalina.core.ApplicationContext log
   SEVERE: StandardWrapper.Throwable
   java.lang.NoClassDefFoundError: Could not initialize class     org.apache.axis2.deployment.WarBasedAxisConfigurator
at org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584)
at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454)
at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)
at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source)
  Mar 11, 2013 8:45:31 PM org.apache.catalina.core.StandardWrapperValve invoke
  SEVERE: Allocate exception for servlet AxisServlet
java.lang.NoClassDefFoundError: Could not initialize class   org.apache.axis2.deployment.WarBasedAxisConfigurator
at org.apache.axis2.transport.http.AxisServlet.initConfigContext(AxisServlet.java:584)
at org.apache.axis2.transport.http.AxisServlet.init(AxisServlet.java:454)
at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)
at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:39:12.813

似乎 log4j 日志库未添加到构建路径中。在继续之前，请确保 Log4j jar 在您的构建路径中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T08:29:33.677

问题不在于 Log4j，而在于公共日志记录。您的应用程序尝试将 commons-logging 日志重定向到 Log4j。它将在公共日志记录的属性文件中定义。为了完成这项工作，您还必须提供 commons-logging 库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-05T14:32:14.470

您可以通过使用 SimpleLog 而不是 Log4JLogger 来解决此问题。

在 webapps/axis2/WEB-INF/classes/commons-logging.properties 中用 Log4JLogger 注释掉该行并用 SimpleLog 取消注释该行：

> org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog

（我在 Linux 上运行 Tomcat 7.0.54，但这种解决方法可能也适用于其他版本。）

# android - Android：如何在后台永远运行应用程序？

> ID：15354849
> 
> 赞同：1
> 
> 时间：2013-03-12T06:36:13.307
> 
> 标签：android, android-intent

我创建了一个将用户位置发送到服务器的应用程序..它使用异步任务（doInBackground 和 onPostExecute 方法）在后台运行...但运行速度非常慢..在编码中我使用 Thread.sleep(300000) 进行间隔5 分钟...我认为应用程序停止运行..

YasarKhan.java

```
 Location location; // location
    double latitude; // latitude
    double longitude; // longitude

    // The minimum distance to change Updates in meters
    private static final long MIN_DISTANCE_CHANGE_FOR_UPDATES = 1000; // 1000
                                                                        // meters

    // The minimum time between updates in milliseconds
    private static final long MIN_TIME_BW_UPDATES = 1000 * 60 * 20; // 20 minute

    // Declaring a Location Manager
    protected LocationManager locationManager;
    boolean done = true;

//  public YasarKhan(Context context) {
//      this.mContext = context;
//      
//
//  }

    public void gpsTraking() {

        // check if GPS enabled
        if (true) {
            stAdd = "";
            double latitude = getLatitude();
            double longitude = getLongitude();
            Geocoder gc = new Geocoder(getBaseContext());
            try
            {
                List<Address> list = gc.getFromLocation(latitude, longitude, 2);
                Address a = list.get(0);
                for (int i = 0; i <= a.getMaxAddressLineIndex(); i++) {
                    stAdd = stAdd + "\n " + a.getAddressLine(i);
                }
                stAdd = stAdd + " " + a.getLocality() + "\n"
                        + a.getFeatureName();

            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

    }

    public void passing() 
    {
        new SendFeedback().execute(imei,simSerialNumber,stAdd,currentTime);
    }

    class SendFeedback extends AsyncTask<String, Void, String> 
    {
        @Override
        protected String doInBackground(String... paramArrayOfParams) 
        {
            SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
            request.addProperty("strIMEINumber", paramArrayOfParams[0]);
            request.addProperty("strSIMNumber", paramArrayOfParams[1]);     
            request.addProperty("strAddress", paramArrayOfParams[2]);
            request.addProperty("strTime", paramArrayOfParams[3]);

            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
            envelope.dotNet = true;
            envelope.encodingStyle = SoapSerializationEnvelope.ENC;
            envelope.setOutputSoapObject(request);
            System.setProperty("http.keepAlive", "false");

            try 
            {
                HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
                androidHttpTransport.call(SOAP_ACTION, envelope);
                // SoapObject result = (SoapObject) envelope.getResponse();
                SoapPrimitive response = (SoapPrimitive) envelope.getResponse();
                String resultData = response.toString();
                Log.d("response", resultData);
                return resultData;              
            } 
            catch (Exception e) 
            {
                Log.d("My Error", "" + e.getMessage());

            }
            return resultData;
        }

        @Override
        protected void onPostExecute(String result) 
        {
            Log.d("strResult", result);
            super.onPostExecute(result);
        }
    }
} 
```

MyReceiver.java

```
package com.example.yasar;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;

public class MyReceiver extends BroadcastReceiver {

         public static final String TAG = "com.example.gpstraking";
         @Override
         public void onReceive(Context context, Intent intent) 
         {

             try
             { 

                 Intent serviceIntent = new Intent(context, YasarKhan.class);
                context.startService(serviceIntent);     
             }
             catch(Exception e)
             {
                 Log.e("My Service Error",e.getMessage());
             }

        }

} 
```

MainActivity.java

```
package com.example.yasar;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.util.Log;
import android.view.Menu;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        Log.d("naveeeen","kushwaaahaACTIVITY");
        Intent serviceIntent = new Intent(this, YasarKhan.class);
        this.startService(serviceIntent);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        //getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T11:04:41.750

在 onStartCommand() 中使用 service ：

1.  **使用 requestLocationUpdates。**

    ```
    locationManager.requestLocationUpdates(provider, 5000, 0, myLocationListener); 
    ```

2.  **调用此方法检查 onStartCommand() 中的提供程序**

    ```
     public void testProviders() 
        { 
            //Choose only one provider                    
            Location location = locationManager.getLastKnownLocation(provider);      
            if (location != null)
            {
                lat = location.getLatitude();
                lng = location.getLongitude();
                str = "Test Provider method says :"+" Latitude = " +lat + " and " + " Longitude = " +lng;
                System.err.println("Current Latitude and Longitude:"+lat+","+lng);

            }                
            else
            {
                str = " No Location ";
            }
            System.err.println(str);
            Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();
        } 
    ```

3.  **使用监听器**

    ```
     LocationListener myLocationListener = new LocationListener()
        {

            @Override
            public void onLocationChanged(Location location) 
            {
                if (location != null)
                {
                    Clat = location.getLatitude();
                    Clng = location.getLongitude();          
                    System.out.println("Change latitude and Longitude:"+Clat+", "+Clng+"timer: " +System.currentTimeMillis());                        
                    String str = " LocationListener : Change latitude and Longitude: " +Clat+ ", " +Clng+ "  timer: "  +System.currentTimeMillis();
                    System.err.println(str);
                    Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();
                    new SendPGLocationToServer().execute();
                }
                else
                {
                    str = " No Location. ";
                    Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();
                }
            } 
    ```

4.  **最后，使用 AsyncTask 将位置发送到服务器。**

# php - 求 PHP 函数的逆函数

> ID：15354850
> 
> 赞同：1
> 
> 时间：2013-03-12T06:36:21.363
> 
> 标签：php

由于我在 PHP 上比我希望的更“菜鸟”，是否可以反转以下函数，例如：

```
public function baseID($resourceid){
    $rid = $resourceid;
    $version = 0;

    while ($rid > 16777216){
        $version++;
        if ($version == 1){
            //the constant applied to all items
            $rid -= 1342177280;
        }elseif ($version == 2){
            //the value added to the first updated version
            $rid -= 50331648;
        }else{
            //the value added on all subsequent versions
            $rid -= 16777216;
        }
    }

    //$returnable = array('baseID'=>$rid,'version'=>$version);
    return $rid;
} 
```

是否可以输入“baseID”并返回“resourceID”而不是当前方式？

如果问这个问题的地方不对，我深表歉意

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:44:02.180

并不真地。`rid`您的函数为以下形式的所有 s返回相同的值：

```
5 * 2^28 + (3 + n) * 2^24 
```

其中`n`是一个正整数。

```
>>> baseID(5 * 2**28 + (3 + 1) * 2**24)
    16777216
>>> baseID(5 * 2**28 + (3 + 2) * 2**24)
    16777216
>>> baseID(5 * 2**28 + (3 + 3) * 2**24)
    16777216 
```

因此，只要给出`16777216`，您将无法确定您的功能中包含了什么。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-12T06:39:55.757

**此功能仅适用于有限范围，但是在某个点上，资源 ID 将开始返回相同的结果。**

```
public function resourceID($baseid){
    $bid = $baseid;
    $version = 0;

    while ($bid <= 16777216){
        ++$version;

        if ($version === 1){
            $bid += 1342177280;
        } elseif ($version === 2){
            $bid += 50331648;
        } else {
            $bid += 16777216;
        }
    }

    return $bid;
} 
```

# pdf - 无法在 BIRT 生成的 PDF 中显示印地语 (Unicode) 字符

> ID：15354856
> 
> 赞同：0
> 
> 时间：2013-03-12T06:36:59.797
> 
> 标签：pdf, unicode, fonts, birt

BIRT 无法在生成的 PDF 文件中呈现印地语字符。相同的设计文件，当呈现为 Word 文档或 HTML 或任何其他格式时，我能够看到 unicode 字符。

我已将 Arial Unicode MS 设置为设计文件中的字体类型，并尝试使用谷歌翻译的几个示例。如果我遗漏了什么，请告诉我。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T16:51:21.587

最有可能的 BIRT 找不到正确的字体文件。

您必须正确配置 pdf 字体（请参阅文件 fontsconfig.xml）。

我对西里尔文和中文字体有类似的问题。

我在文件中修复的内容：

```
...
    <font-paths>
        <path path="fonts" />

        <!--path path="C:/windows/fonts" />
        <path path="d:/windows/fonts" />
        ...
        <path path="/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType" /-->
</font-paths> 
```

创建字体文件夹并放置所有必要的字体（有点棘手的问题是字体文件夹必须在哪里。这取决于您如何使用 BIRT）。

或者，您可以将正确的字体文件放在您正在使用的 JRE/lib/fonts 文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-04T11:53:47.423

如果您正在使用 JavaFx 桌面应用程序。它将工作。如果您使用 BIRT 查看器部署，`fontsConfig.xml`因为所有配置都捆绑在`org.eclipse.birt.runtime_VERSION-XXX.jar`

所以你可以使用这种方式只是覆盖`fontConfig_Pdf.xml`文件并在这个文件中添加你的字体

```
<composite-font>
<font font-family="mangal" catalog="Western"/>
</composite-font> 
```

然后在您设置 RuntimeEngine 的 BIRTserviceImpl 类中添加此行代码

```
 EngineConfig conf = null;
 conf.setFontConfig(new File("fontsConfig_pdf_win.xml").toURL());
 conf.setEngineHome("{dir}/birt-runtime-4_4_1/ReportEngine");
 eng = new ReportEngine(conf); 
```

此行将有助于更改运行时字体配置并复制您的印地语字体并粘贴`jre/lib/Fonts`到`C:/windows/Fonts`

# c# - 从另一个进程访问对象

> ID：15354860
> 
> 赞同：7
> 
> 时间：2013-03-12T06:37:21.883
> 
> 标签：c#, .net, xna, shared-memory

我正在制作一个 XNA 游戏，我经常在其中测试无法在不重建整个游戏应用程序的情况下编辑的内容（编辑和继续不起作用）。到达我实际测试的地步可能需要相当长的时间，因为游戏需要加载其资源。

我想做的是能够将资源加载到一些支持应用程序并以某种方式从游戏应用程序访问它们，从而消除了大部分时间重新加载游戏资产的需要。.Net 应用程序中是否有可能，还是我应该知道其他一些方法？

我的 XNA 游戏严重依赖`Texture2D`实例，特别是包含多个`Dictionary<string, Texture2D>`对象的库类。

我想我希望能够从游戏应用程序中直接访问支持应用程序中的那些字典。XNA 游戏只能针对 32 位平台，我希望支持的应用程序是 64 位的，因此它可以容纳超过 1(.5) GB 的资源数据（如果可能的话）。

* * *

在这种情况下，单元测试方法（或任何暗示不使用某些资源的方法）对我不起作用，因为我正在开发视觉效果，并且它涉及我拥有的每一个纹理。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-17T18:41:43.247

如果您想卸载重新加载已*编译*的充满资源的 dll，那么您可能需要查看应用程序域。即您可以使用它卸载和重新加载程序集。但是您必须通过“代理”访问它们的内容。您不能直接卸载程序集，这就是您需要域的原因。

这个想法是加载一个永远不会关闭的主应用程序。然后你有一个单独的 Game.dll 加载到它自己的应用程序域中。然后，您将所有资源加载到主应用程序中。所以你需要为游戏制作一个“代理”界面来获取资源，但这应该是可行的。

这样做的好处是你停止了你的game.dll，重新编译它，重新加载程序集并给它仍然加载的资源。

一种可能的路线。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T08:08:04.140

为什么不使用 WCF 命名管道？

只需让您的应用程序`WCF server`使用`named pip`并提供 Set(string spriteName,Texture2D texture)

这将改变纹理..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-17T18:40:27.543

如果你想为你的资源提供一个动态的提供者/服务器，你有很多可能性。使用 C#，您可以使用 fe WCF 来提供您的资源。但如前所述，也许您应该尝试解耦​​您的设计，以便您可以实际使用单元测试而不是启动整个游戏。

[http://en.wikipedia.org/wiki/Unit_testing](http://en.wikipedia.org/wiki/Unit_testing)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-17T18:21:26.097

这一切都取决于您想要在运行时加载什么类型的资源。如果您只想测试纹理/声音资源，那么可以使用 [Texture2D.FromFile](http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.texture2d.fromfile%28v=xnagamestudio.31%29.aspx)和[SoundEffect.FromStream](http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.audio.soundeffect.fromstream.aspx)（必须是 PCM 波形文件）方法来解决。但是，如果您想动态加载模型，则需要一些额外的努力。[这个样本](http://xbox.create.msdn.com/en-US/education/catalog/sample/winforms_series_2)的改编应该可以完成你所需要的。

# c# - 单击按钮时如何显示 ModalPopup？

> ID：15354863
> 
> 赞同：0
> 
> 时间：2013-03-12T06:37:37.817
> 
> 标签：c#, asp.net, ajaxcontroltoolkit, modalpopupextender

当我点击一个按钮时，我必须显示一个模式弹出窗口

**ASPX 代码**：

```
 <section>

       <asp:Button ID="btnShowPopup" runat="server"  Text="EditContextMenu" Visible="true" OnClick="btnShowPopup_Click" />

     <ajax:ModalPopupExtender ID="ModalPopupContextInfo" runat="server" TargetControlID="btnShowPopup" PopupControlID="pnlpopupContextInfo"
           CancelControlID="imgClose" BackgroundCssClass="modalBackground">
       </ajax:ModalPopupExtender>

       <asp:Panel ID="pnlpopupContextInfo" runat="server" BackColor="White" Height="560px" Width="400px" Style="display: none" >
           <div class="contextMenu_edit" >
           <div class="context_menu">

         <p>Port</p>
          <asp:TextBox ID="txtCMEditPort" runat="server" MaxLength="10" Width="131px" TabIndex="1"></asp:TextBox>

         <div class="clear"></div>

         <p>ProformaETA</p>
         <asp:TextBox ID="txtCMEditProformaETA" runat="server" MaxLength="10" Width="131px" TabIndex="1"></asp:TextBox>
         <asp:ImageButton ID="imgbtnCMEditProformaETA" runat="server" ImageUrl="~/image_repository/calendarIcon.jpg" />
         <ajax:CalendarExtender ID="ajaxcalProfrmaETA" runat="server" TargetControlID="txtCMEditProformaETA" PopupButtonID="imgbtnCMEditProformaETA" Format="dd-MMM-yyyy"></ajax:CalendarExtender>

         <div class="clear"></div>

          <p>ProformaETD</p>
         <asp:TextBox ID="txtCMEditProformaETD" runat="server" MaxLength="10" Width="131px" TabIndex="1"></asp:TextBox>
         <asp:ImageButton ID="imgbtnCMEditProformaETD" runat="server" ImageUrl="~/image_repository/calendarIcon.jpg" />
         <ajax:CalendarExtender ID="ajaxcalProfrmaETD" runat="server" TargetControlID="txtCMEditProformaETD" PopupButtonID="imgbtnCMEditProformaETD" Format="dd-MMM-yyyy"></ajax:CalendarExtender>
    </div>
    </div>
       </asp:Panel>
</section> 
```

**代码背后**：

```
 protected void btnShowPopup_Click(object sender, EventArgs e)
            {      
              ModalPopupContextInfo.Show();
            } 
```

这是行不通的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:11:22.710

您忘记定义 imgClose 控件，您在 ModalPopupExtender 中将其用作 CancelControlID。

```
<ajax:ModalPopupExtender ID="ModalPopupContextInfo" runat="server"   TargetControlID="btnShowPopup" PopupControlID="pnlpopupContextInfo"
       CancelControlID="imgClose" BackgroundCssClass="modalBackground"> 
```

这就是为什么您的扩展器不起作用的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:26:49.297

您还需要为 Model Popup Extender 设置活动索引。主要是它

ASPX 页面：

"asp:button id="Button1" runat="server" text="DOWNTIME" cssclass="FormButton" width="20%"

"ajaxToolkit:ModalPopupExtender ID="ModalPopupExtender1" BackgroundCssClass="ModalPopupBG" runat="server" TargetControlID="Button1" C​​ancelControlID="btnCancel1" PopupControlID="Panel1" Drag="true" PopupDragHandleControlID="PopupHeader"

然后

**"asp:multiview id="MultiViewExpanse" runat="server""** asp:View ID="ViewInput" runat="server"

/asp:查看

/asp:多视图

C＃

protected void Page_Load(object sender, EventArgs e)

```
 {
        try
        {
            if (!IsPostBack)
            {
               ModalPopupContextInfo.ActiveViewIndex = 0;
            }
        }
     } 
```

它工作......很好......如果仍然需要一些......帮助...... Ping我......

# c# - 如何从 javascript 填充文本框值并执行剩余代码

> ID：15354867
> 
> 赞同：2
> 
> 时间：2013-03-12T06:38:13.077
> 
> 标签：c#, javascript, asp.net

大家好，我已经编写了一个javascript函数，其中我从后面的代码中传递了3个参数我的表单上有一个文本框、按钮和一个文本框，当光标位于第一个文本框内时，我会在离开文本框或单击按钮时喜欢从脚本中填充第二个文本框我在按钮内调用脚本如下

```
<script type="text/javascript">
    function getEndDate2(noOfWeeks, sEmployeeWeeklyOfDay, DateStart) {
            // My script code
  }

<asp:TextBox ID="txtString" runat="server"></asp:TextBox>
<br />
<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>

 <asp:Button ID="btnClick" runat="server" Text="Pass" OnClick="btnClick_Click" />

protected void btnClick_Click(object sender, EventArgs e)
{
    int noOfweeks = Convert.ToInt16(txtString.Text);;
    string sEmployeeWeeklyOfDay = "Friday";
    string DateStart = DateTime.Now.AddDays(3).ToString();
    btnClick.Attributes.Add("onClick", "getEndDate2('" + noOfweeks + "','" + sEmployeeWeeklyOfDay + "','" + DateStart + "');");
     // Some code to insert the values to database
 } 
```

但是无法在第二个文本框中显示值有人可以帮助我如何在失去焦点后立即调用该脚本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:46:19.827

通过获取两个隐藏字段并将它们放入脚本中，通过函数中的一些更改来调用按钮的函数 OnClientClick 事件

```
hdn.Value = "Friday";
hdn1.Value = DateTime.Now.AddDays(3).ToString();
<asp:Button ID="btnClick" OnClientClick="getEndDate2();" runat="server" Text="Pass" OnClick="btnClick_Click" />

<script type="text/javascript">
    function getEndDate2(){
        var noOfweeks = "";
        var sEmployeeWeeklyOfDay = "";
        var DateStart = "";
        noOfweeks = document.getElementById("txtString").value;
        sEmployeeWeeklyOfDay = document.getElementById("hdn").value;
        DateStart = document.getElementById("hdn1").value;
        // Your script remaining code
}
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:51:06.173

我不太确定这里的问题，但据我假设，您可以附加第一个文本框的功能或按钮

```
<script type="text/javascript">
    function getEndDate2(noOfWeeks, sEmployeeWeeklyOfDay, DateStart) {
            // My script code
    //then here an ajax call to the insertDB function

  }

<asp:TextBox ID="txtString" runat="server"></asp:TextBox>
<br />
<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>

 <asp:Button ID="btnClick" runat="server" Text="Pass" OnClick="btnClick_Click" />

protected void btnClick_Click(object sender, EventArgs e)
{
    int noOfweeks = Convert.ToInt16(txtString.Text);;
    string sEmployeeWeeklyOfDay = "Friday";
    string DateStart = DateTime.Now.AddDays(3).ToString();
    btnClick.Attributes.Add("onClick", "getEndDate2('" + noOfweeks + "','" + sEmployeeWeeklyOfDay + "','" + DateStart + "');");
     REMOVE THE+IS CODE TO next function // Some code to insert the values to database
 }

protected void insertDB() // this should be accessible to ajax call
{
      insert to db function

} 
```

如果您可以提供 HTML，我可以提供更多帮助。我希望这有帮助

# javascript - Javascript - 全屏图像代码

> ID：15354871
> 
> 赞同：0
> 
> 时间：2013-03-12T06:38:32.870
> 
> 标签：javascript

[http://jsfiddle.net/MAaVV/](http://jsfiddle.net/MAaVV/)

以上是我的代码的 JSFiddle。使图像全屏显示是一些 CSS，然后对图像进行简单的 src 更改。我想每 5 秒更改一次图像背景。它也在下面：

```
<STYLE type=text/css>
#bg {
  position: fixed; 
  top: -50%; 
  left: -50%; 
  width: 200%; 
  height: 200%;
}
#bg img {
  position: absolute; 
  top: 0; 
  left: 0; 
  right: 0; 
  bottom: 0; 
  margin: auto; 
  min-width: 50%;
  min-height: 50%;
}
</style>

<script type="text/javascript">

for(var x = 0; x < 2; x++)
{
    setTimeout(function()
    {
        var imgs = ["http://www.hdwallpapers.in/walls/aprilia_rsv4_motorcycles-wide.jpg","http://chivethethrottle.files.wordpress.com/2012/12/user-girl-motorcycle-920-3.jpg","clf.jpg"];
        document.getElementById("img").src = imgs[x];
    },5000);
}
</script>

<div id="bg">
  <img id="img" src="http://chivethethrottle.files.wordpress.com/2012/12/user-girl-motorcycle-920-3.jpg?w=919&h=613" alt="" />
</div> 
```

有谁知道为什么它不起作用？

在幻灯片的最后一张图片显示 5 秒后，构建重定向（到另一个网站）的奖励积分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:53:49.577

试试这个：

```
var imgs = ["http://www.hdwallpapers.in/walls/aprilia_rsv4_motorcycles-wide.jpg", "http://chivethethrottle.files.wordpress.com/2012/12/user-girl-motorcycle-920-3.jpg"]; 
var i=0;
setInterval(function () {        
    document.getElementById("img").src = imgs[i];
    if(i==1)
    {
        //alert('test');
        $("#img").click(function(){
            alert('on');
            location.href='http://www.google.com';
        });
    }
    if(i++>=1) i=0;   
}, 5000); 
```

**小提琴：http:** [//jsfiddle.net/MAaVV/6/](http://jsfiddle.net/MAaVV/6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:59:46.460

您的代码失败有两个原因：

1.  您将所有三个（或在 jsFiddle 的情况下为两个）超时设置为同时运行。您的代码将所有三个设置为在调用后 5 秒运行，但所有调用都是同时进行的，因此它们都将在 5 秒后运行。
2.  您在超时函数中使用该`x`变量，但未在该函数的范围内定义它。因此，在所有情况下，图像都“未定义”为 src。

为了解决这个问题，我会使用这样的东西：

```
<script type="text/javascript">
var imageIndex = 0;
var imgs = ["http://www.hdwallpapers.in/walls/aprilia_rsv4_motorcycles-wide.jpg","http://chivethethrottle.files.wordpress.com/2012/12/user-girl-motorcycle-920-3.jpg","clf.jpg"];

setInterval(function(){
    document.getElementById("img").src = imgs[imageIndex++];
    if(imageIndex >= imgs.length) imageIndex = 0;
    },5000);
</script> 
```

[http://jsfiddle.net/MAaVV/5/](http://jsfiddle.net/MAaVV/5/)

编辑：要在所有幻灯片显示后使函数执行某些操作，您可以尝试以下操作：

```
<script type="text/javascript">
var imageIndex = 0;
var imgs = ["http://www.hdwallpapers.in/walls/aprilia_rsv4_motorcycles-wide.jpg","http://chivethethrottle.files.wordpress.com/2012/12/user-girl-motorcycle-920-3.jpg","clf.jpg"];

var interval = setInterval(function(){
    document.getElementById("img").src = imgs[imageIndex++];
    if(imageIndex >= imgs.length){
        clearInterval(interval);
        setTimeout(function(){
            // do whatever you want here, after a 5 second pause
        },5000);
},5000);
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:49:06.087

```
var imgs = ["http://www.hdwallpapers.in/walls/aprilia_rsv4_motorcycles-wide.jpg", "http://chivethethrottle.files.wordpress.com/2012/12/user-girl-motorcycle-920-3.jpg"];   

var currentImage = 1;

$(document).ready(function(){
    setInterval(function(){
        if (currentImage >= imgs.length)
        {
            currentImage = 0;
            window.location.href = 'http://www.google.com';
        }
        else
        {
            currentImage++;
        }

        $("#bg #img").attr("src", imgs[currentImage]);
    }, 5000);
}); 
```

[http://jsfiddle.net/MAaVV/2/](http://jsfiddle.net/MAaVV/2/)

# oracle - 为什么我在这个上得到一个编译错误？

> ID：15354873
> 
> 赞同：1
> 
> 时间：2013-03-12T06:38:35.867
> 
> 标签：oracle, plsql, oracle11g

以下程序在第 15 行产生一些语法错误。我不明白错误的原因。

```
declare
 value_1 INTEGER(5);
 value_2 INTEGER(5);
 value_3 INTEGER(5);
 value_4 INTEGER(5);
begin
 value_1 := 20;
 value_2 := 40;
 value_3 := 60;
 value_4 := 80;
 if value_1 > value_2
 then
  dbms_output.put_line('Value_1 > Value_2');
 end if;
 elsif value_4 > value_3 # statement 15
 then
  dbms_output.put_line('Value_4 > Value_3');
 end if;
 end; 
```

抛出的错误：

```
Error report:
ORA-06550: line 15, column 9:
PLS-00103: Encountered the symbol "VALUE_4" when expecting one of the following:

:= . ( @ % ;
06550\. 00000 -  "line %s, column %s:\n%s"
*Cause:    Usually a PL/SQL compilation error.
*Action:
Error starting at line 1 in command:
declare
 value_1 INTEGER(5);
 value_2 INTEGER(5);
 value_3 INTEGER(5);
 value_4 INTEGER(5);
begin
 value_1 := 20;
 value_2 := 40;
 value_3 := 60;
 value_4 := 80;
if value_1 > value_2
then
  dbms_output.put_line('Value_1 > Value_2');
end if;
elsif value_4>value_3
then
  dbms_output.put_line('Value_4 > Value_3');
end if;
end;

Error report:
ORA-06550: line 15, column 9:
PLS-00103: Encountered the symbol "VALUE_4" when expecting one of the following:

:= . ( @ % ;
06550\. 00000 -  "line %s, column %s:\n%s"
*Cause:    Usually a PL/SQL compilation error.
*Action: 
```

这是什么错误？我该如何摆脱这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:45:57.497

我能看到你的陈述的唯一问题是额外的`end if;`

**SQL 语句**

```
declare
 value_1 INTEGER(5);
 value_2 INTEGER(5);
 value_3 INTEGER(5);
 value_4 INTEGER(5);
begin
 value_1 := 20;
 value_2 := 40;
 value_3 := 60;
 value_4 := 80;
 if (value_1 > value_2) then 
  dbms_output.put_line('Value_1 > Value_2');
 elsif (value_4 > value_3) then
  dbms_output.put_line('Value_4 > Value_3'); 
 end if;
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:45:19.277

它是工人......'mi对吗？

```
declare
 value_1 INTEGER(5);
 value_2 INTEGER(5);
 value_3 INTEGER(5);
 value_4 INTEGER(5);
begin
 value_1 := 20;
 value_2 := 40;
 value_3 := 60;
 value_4 := 80;
 if (value_1 > value_2)
 then
  dbms_output.put_line('Value_1 > Value_2');

 elsif (value_4 > value_3)
 then
  dbms_output.put_line('Value_4 > Value_3');
 end if;
 end;
 / 
```

您已关闭 if 语句并再次打开 elsif 语句..我认为这是错误的。

# ember.js - RC1 的 Ember ContainerView 没有获取 currentState

> ID：15354875
> 
> 赞同：0
> 
> 时间：2013-03-12T06:38:40.660
> 
> 标签：ember.js

`init()`在早期版本中，我在ContainerView 的方法中添加了 childViews 。因此，在迁移到较新版本时，我遇到了错误。我发现它无法获取`CurrentState`containerView的。如果我添加`childViews`in效果很好`didInsertElement`。对于我的代码，将 childViews 添加到`init()`. 这是相同的jsfiddle。[http://jsfiddle.net/codejack/p73jq/7/](http://jsfiddle.net/codejack/p73jq/7/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:00:12.383

更正了错误..它实际上是非常愚蠢的错误...我需要`this._super()`在方法的开头添加...在以前它工作，即使我`this._super()`在方法的末尾调用`init()`..这里是工作 jsfiddle...

[http://jsfiddle.net/p73jq/11/](http://jsfiddle.net/p73jq/11/)

# php - 语法错误，意外的 '{' php

> ID：15354879
> 
> 赞同：-3
> 
> 时间：2013-03-12T06:39:08.737
> 
> 标签：php

我的 php 代码给出了以下错误：

```
syntax error, unexpected '{' on line 8 
```

PHP代码：

```
$data = '<?php
# 1 = ON; 0 = OFF.  
$str = '{                           //line 8
 "name": "10.000000,106.000000",
     "Status": {
     "code": 200,
     "request": "geocode"
 },
  "Apps": [ {
  "App1": 1,
  "App2": 0,    
  "App3": 1,
  "App4": 0,
  "App5": 0,
  "App6": 0
 } ]
 }';
   echo $str;
 ?>'; 
```

我是php的新手。谁能帮我找出我错在哪里？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T06:40:58.083

那是因为`'`这里的第二个：

```
 +-- open string constant
        V
$data = '<?php
    # 1 = ON; 0 = OFF.  
    $str = '{   
           ^
           +-- close string constant 
```

正在*终止*字符串常量。您可能想逃避它（以及在 final 之前的另一个`echo`），例如：

```
$data = '<?php
    # 1 = ON; 0 = OFF.  
    $str = \'{   
       blah, blah, blah
    }\';
    echo $str;
?>'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:40:58.140

您的字符串在字符之前被单引号（撇号）终止`{`。使用转义`'`字符`\'`。

```
$data = '<?php
# 1 = ON; 0 = OFF.  
$str = \'{                           //line 8
 "name": "10.000000,106.000000",
     "Status": {
     "code": 200,
     "request": "geocode"
 },
  "Apps": [ {
  "App1": 1,
  "App2": 0,    
  "App3": 1,
  "App4": 0,
  "App5": 0,
  "App6": 0
 } ]
 }\';
   echo $str;
 ?>'; 
```

# c# - 如何知道exe的安装路径？

> ID：15354886
> 
> 赞同：1
> 
> 时间：2013-03-12T06:39:38.213
> 
> 标签：c#, wix, wix3.6, wix-extension

我正在制作一个 C# 程序，我需要找到一些安装在计算机上的软件的安装路径。我必须处理的是，我有程序的名称（例如 Google Chrome），我有进程名称（例如 Chrome.exe）。我现在需要的是 Chrome.exe 的路径。如果我要将程序名称或进程名称作为搜索参数传递，我如何使用 C# 查找路径？实际上，我想做一个自定义操作，它会找到 chrome.exe 并调用一个链接。之后，我将使用搜索 chrome.exe 的路径，并且我想默认通过 chrome 打开一个网站。我应该怎么办..？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T14:17:09.207

另一个要考虑的选项是使用启动链接`Process.Start()`并让操作系统使用默认浏览器打开链接。这很可能是用户所期望的。

[在WiX](http://wix.sourceforge.net/manual-wix3/shellexec.htm)工具集中，您可以使用来自`WixUtilExtension`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:43:07.553

你可以试试这样的

```
public string GetProcessPath(string name)
{
 Process[] processes = Process.GetProcessesByName(name);

 if (processes.Length > 0)
 {
    return processes[0].MainModule.FileName;
 }
 else
 {
    return string.Empty;
 }
} 
```

或者你可以使用 Linq

```
or you could do what you do but use linq

     Process element = ( from p in Process.GetProcesses()
                where p.ProcessName == "Chrome.exe"
                select p ).FirstOrDefault( ); 
```

但是可以有多个同名的进程。所以你必须根据你的要求进一步修改代码。

希望这可以帮助

# dynamics-crm-2011 - 如何获取网络资源内容？

> ID：15354889
> 
> 赞同：0
> 
> 时间：2013-03-12T06:39:47.627
> 
> 标签：dynamics-crm-2011, dynamics-crm, crm, dynamics-crm-online

My requirement is when selection of a web resource one HTML page should appear with the content of that web resource.

所以我想我会添加一个插件来获取网络资源的内容并动态创建一个 HTML 页面。

现在我遇到的问题：

1）当插件应该触发。因为它应该在选择任何 Web 资源时触发，并且没有使用开发人员的工具包在 VS 项目的实体列表中显示 Web 资源。

2) 我如何获取`GUID`所选网络资源的内容以获取内容。

请指导我如何做到这一点。有没有其他方法可以做到这一点？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T18:55:23.100

有点不清楚你的意思，但如果我正确理解了你的问题的性质，这就是你问题的答案。

1.  你根本不应该使用插件。由于这只是在用户界面上的操作，因此 JavaScript 是要走的路。您希望在 IFRAME 组件中动态创建内容并将其显示给用户。您应该实现*onsomeevent*方法并连接单击以触发它。

2.  访问网络资源不是通过他们的指导而是通过他们的名字来完成的。至少在尝试访问存储在此类资源中的跨帧数据时。名称是您在创建资源或将资源上传到服务器时自行设置的名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T07:16:45.427

可能我对这个问题错了。使用 JavaScript，您也可以实现这一点。在 JavaScript 中，使用其名称访问选定的 WebResource，您可以通过创建 ActiveXObject 来获取该 WebResource 的详细信息。

```
var JScriptWebResourceUrl = "..Path Of WebResource/jquery.1.4.4.min.js";
var xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
xmlHttp.open("GET", JScriptWebResourceUrl, false);
xmlHttp.send();
eval(xmlHttp.responseText); 
```

现在，你可以从这里做你想做的事。

谢谢，

阿尼什

# emacs - 如何找到 Emacs Lisp 函数绑定到键的位置？

> ID：15354894
> 
> 赞同：2
> 
> 时间：2013-03-12T06:40:10.863
> 
> 标签：emacs, key-bindings

我试图弄清楚在哪里`M-m`必须`back-to-indentation`起作用。当我发出`C-h k M-m`( `describe-key`) 时，我得到以下输出

> mm 运行命令 back-to-indentation，这是 `simple.el' 中的交互式编译 Lisp 函数。
> 
> 它与 Mm 绑定。
> 
> （回到缩进）
> 
> 将点移动到该行的第一个非空白字符。

当我查看时`simple.el`，我只看到 function 的定义`back-to-indentation`。我搜索了整个文件，但没有看到使用`define-key`. 我假设它发生在其他地方。

如何识别函数绑定到`M-m`键的位置？

> Emacs 版本：GNU Emacs 24.2.1 (x86_64-apple-darwin12.2.0, NS apple-appkit-1187.34)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-12T07:59:07.540

我不知道这是否可能，但我的猜测是 Emacs 不记得定义给定键的代码在哪里。

`C-h``b`将显示当前绑定，您可以从中确定您感兴趣的键盘映射，并从那里开始工作。对于大多数主要或次要模式地图，找到代码不会太难。

您的具体示例是 Emacs 在`bindings.el`.

# spring - 通用错误页面未修饰

> ID：15354895
> 
> 赞同：4
> 
> 时间：2013-03-12T06:40:14.410
> 
> 标签：spring, servlets, error-handling, sitemesh

我有一个没有被 SiteMesh 修饰的通用错误页面。

我可以知道是什么原因吗？

```
<filter>
  <display-name>SiteMesh_Filter</display-name>
  <filter-name>SiteMesh_Filter</filter-name>
  <filter-class>com.opensymphony.module.sitemesh.filter.PageFilter</filter-class>
 </filter>
 <filter-mapping>
  <filter-name>SiteMesh_Filter</filter-name>
  <url-pattern>/*</url-pattern>
 </filter-mapping>

<error-page>
  <error-code>404</error-code>
  <location>/pages/error.jsp</location>
 </error-page> 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-14T15:42:09.447

我假设您使用 Sitemesh 3 作为装饰器。您在问题中的配置告诉我您正在使用 Sitemesh 2，但您在 @kschneid 答案的评论中提到使用 Sitemesh 3。

Sitemesh 3 使用一种`Selector`实现来选择它可以缓冲（装饰）的请求。默认情况下，这是`org.sitemesh.webapp.contentfilter.BasicSelector`. 这个选择器有两个构造函数，即：

```
public BasicSelector(String... mimeTypesToBuffer) {
    this(false, mimeTypesToBuffer);
}

public BasicSelector(boolean includeErrorPages, String... mimeTypesToBuffer) {
    this.mimeTypesToBuffer = mimeTypesToBuffer;
    this.includeErrorPages = includeErrorPages;
} 
```

默认情况下，前者用于`BaseSiteMeshFilterBuilder`构造选择器。这意味着该`includeErrorPages`属性将设置为`false`，并且只有状态为*200 OK*的页面才会被过滤器缓冲。为了克服这个问题，您需要以某种方式使用其他构造函数并设置`includeErrorPages`为`true`.

这可以通过子类`org.sitemesh.config.ConfigurableSiteMeshFilter`化并覆盖受保护`applyCustomConfiguration(SiteMeshFilterBuilder builder)`的方法来完成，最终使用类似于以下的方法：

```
public class ErrorPageEnabledSiteMeshFilter extends ConfigurableSiteMeshFilter {
    @Override
    protected void applyCustomConfiguration(SiteMeshFilterBuilder builder) {
        builder.setCustomSelector(new BasicSelector(true, "text/html", "application/xhtml+xml", "application/vnd.wap.xhtml+xml"))
    }
} 
```

以上将指示构建器使用自定义选择器，该选择器现在将装饰错误页面。剩下的唯一一件事就是添加一个实例`ErrorPageEnabledSiteMeshFilter`来`ServletContext`替换旧的实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T17:02:08.110

[这](http://web.archive.org/web/20120422070138/http://jira.opensymphony.com/browse/SIM-168)是原始问题的最新存档。

[这](https://github.com/sitemesh/sitemesh2/pull/12)是已关闭的问题页面。

因此，您似乎需要确保您没有使用超过 2 年的版本:)，并且您需要确保您的 SiteMesh 过滤器配置为通过包括以下内容来处理错误页面：

```
<dispatcher>ERROR</dispatcher> 
```

以及您需要的其他任何东西...

# xcode - 是否可以禁用 Xcode 的回拨连接？

> ID：15354903
> 
> 赞同：2
> 
> 时间：2013-03-12T06:40:54.057
> 
> 标签：xcode

每隔几分钟，Xcode 就会创建一个到 developer.apple.com 的 https 连接，而且在调试期间，构建文件有时也会连接到这个地址。

是否可以禁用此功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T07:11:02.773

打开*XCode -> Preferences*并取消选中此复选框，然后您的 XCode 将不会自动检查和下载更新。同样在“文档”选项卡下取消选中。

![在此处输入图像描述](../Images/b453a1ab9c44200ae91e2bed09552189.png)

# java - 一次替换多个字符

> ID：15354909
> 
> 赞同：1
> 
> 时间：2013-03-12T06:41:14.173
> 
> 标签：java, android, replace

我正在尝试用某些模式替换字符串“abc”：

当'a'替换为'b'，当'b'替换为'c'，当'c'替换为'a'。

我现在的代码是：

```
String alp = "abc";
String alteredAlp = "";
char [] charAlp = alp.toLowerCase().toCharArray();

for (int i = 0; i < charAlp.length() - 1; i++)
{
    if(charAlp[i] == 'a')
        alteredAlp += 'b';
    else if(charAlp[i] == 'b')
        alteredAlp += 'c';
    else if(charAlp[i] == 'c')
        alteredAlp += 'a';
} 
```

我尝试使用“replaceAll”，但在第一次迭代后遇到了几个问题。

关于如何使它变得更好的任何想法？提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-12T06:44:53.770

没有像`length()`a这样的方法`char[]`。将其更改为`charAlp.length`

接下来，更改`charAlp.length - 1`为`charAlp.length`，您的代码将起作用。

相反，你可以这样做：（没有额外的字符串）

```
for (int i = 0; i < charAlp.length ; i++)
{
   if(charAlp[i] == 'a')
    charAlp[i]= 'b';
   else if(charAlp[i] == 'b')
    charAlp[i]= 'c';
   else if(charAlp[i] == 'c')
    charAlp[i]= 'a';
}
System.out.println(charAlp); 
```

现在，您更改`charAlp`为*“bca”*而不是*“abc”*（如您所愿）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:43:25.703

## 更通用的方式：

字母表的定义必须没有间隙！

但也可以是“abcdefgh”:)

```
public class CharObfuscator {

    public static final String ALPHABET = "abc";

    public static String obfuscate(String obfuscateThis) {

        char bottomLevel = ALPHABET.charAt(0); // its an 'a' (int 97)
        char topLevel = ALPHABET.charAt(ALPHABET.length() - 1); // its an 'c' (int 99)

        StringBuilder stringBuilder = new StringBuilder();
        for (char character : obfuscateThis.toLowerCase().toCharArray()) {
            if ((character - bottomLevel + 1) % (topLevel - bottomLevel + 1) != 0) {
                stringBuilder.append(++character);
            } else {
                stringBuilder.append(bottomLevel);
            }
        }

        return stringBuilder.toString();
    }

    public static void main(String[] args) {
        System.out.println(obfuscate("abccbaaabbcc"));
    }

} 
```

## 结果：

```
bcaacbbbccaa 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:50:41.843

```
public static void main(String[] args) {
    String alp = "abc";
    String alteredAlp = "";
    for(int i=0; i<alp.length(); i++){
        if(alp.charAt(i)=='a')
            alteredAlp=alteredAlp + 'b';
        else if(alp.charAt(i)=='b')
            alteredAlp = alteredAlp+'c';
        else if(alp.charAt(i)=='c')
            alteredAlp=alteredAlp+'a';

    }
    System.out.println(alteredAlp);
} 
```

试试这个：无需创建字符数组。

输出：

```
bca 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T06:58:45.263

您也可以使用 StringBuilder ，如下所示：

```
public class CharReplace {

    public static void main(String[] args) {
        String alp = "abc";
        StringBuilder alteredAlp = new StringBuilder();

        for (int i = 0; i < alp.length(); i++) {
            switch(alp.charAt(i)) {
                case 'a':
                    alteredAlp.append('b');
                    break;
                case 'b':
                    alteredAlp.append('c');
                    break;
                case 'c':
                    alteredAlp.append('a');
                    break;
            }
        }

        System.out.println(alteredAlp.toString());
    }
} 
```

# sql - 根据用户等级触发更新表

> ID：15354911
> 
> 赞同：0
> 
> 时间：2013-03-12T06:41:29.640
> 
> 标签：sql, sql-server, triggers

我对 SQL Server 触发器很陌生。我最终遇到了这样的问题。请看一看。

1.  我有两个表“用户”和“测试”

    ```
     CREATE TABLE users( 
                 email VARCHAR(250),
                 rank FLOAT
          );

        CREATE TABLE test(
              score INT,
             total INT
        ); 
    ```

2.  我需要创建一个触发器；

    2.1 根据 avg **(avg = test.score / test.total)**
    的值更新用户排名 2.2 这是我到目前为止尝试的内容：

    ```
    CREATE TRIGGER auto_rank ON dbo.test FOR INSERT
     BEGIN
     DECLARE @sc INT
     DECLARE @tot INT
     DECLARE @avg FLOAT
     @tot = SELECT inserted.total FROM dbo.test
     @sc = SELECT inserted.score FROM dbo.test
     SET @avg=@sc/@tot
     UPDATE dbo.users SET rank=@avg WHERE email=inserted.email
     END 
    ```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T09:07:16.090

尝试这个 ：

```
CREATE TRIGGER auto_rank ON dbo.test FOR INSERT
BEGIN

UPDATE a SET a.rank=b.rn

from 
users a
inner join
(select email,inserted.score/inserted.total rn from inserted)b 
on a.email=b.email

END 
```

我没有对此进行测试，但这应该可以正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:51:41.493

您在表格设计中遗漏了测试中的电子邮件，但它应该根据您的代码包含这样的列：

```
UPDATE dbo.users SET rank=@avg WHERE email=inserted.email 
```

那么在这种情况下你需要一个视图而不是触发器：

```
Create view user as (select email, score/total as rank from test group by email); 
```

希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:51:50.447

您需要修改表，以便测试表包含电子邮件列：

```
CREATE TABLE test(score INT,
                  total INT,
                  email varchar(250)
                 ); 
```

然后你可以像这样创建 trgiger：

```
CREATE TRIGGER [dbo].[auto_rank] ON [dbo].[test]
FOR INSERT
AS
BEGIN 
  DECLARE MyCursor CURSOR FOR
  SELECT score, total, email FROM Inserted
  DECLARE @sc INT
  DECLARE @tot INT
  DECLARE @email VARCHAR(30)
  DECLARE @avg FLOAT
  DECLARE @MSG VARCHAR(50)
  OPEN MyCursor;
  FETCH NEXT FROM MyCursor INTO @sc, @tot, @email
  WHILE @@FETCH_STATUS = 0
  BEGIN
    SELECT @avg=@sc/@tot
    UPDATE users SET rank=@avg WHERE users.email=@email
    SELECT @MSG = 'email Updated ' + @email + '. New Rank is ' + Str(@avg, 25, 5);
    PRINT @MSG
    FETCH NEXT FROM MyCursor
  END;
  CLOSE MyCursor;
  DEALLOCATE MyCursor;
END 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-18T10:07:08.057

很抱歉这么晚才继续这个话题，但我很高兴地说我找到了答案。这是因为你们。

所以，这就是我所做的；

第一的;

```
CREATE TABLE users( 
   email VARCHAR(250),
   rank FLOAT,
   constraint pk_users PRIMARY KEY(email)
);

CREATE TABLE test(
   email VARCHAR(250),
   score INT,
   total INT,
   constraint pk_test PRIMARY KEY(email),
   constraint fk_from_users FOREIGN KEY(email) references users(email)
);

create trigger trig_ex02 on dbo.test
after insert
as
begin
declare @score FLOAT
declare @total FLOAT
declare @average FLOAT
declare @msg varchar(100)
declare @email varchar(250)
set @email = (select email from inserted)
set @score = (select score from inserted)
set @total = (select total from inserted)
set @average =(@score/@total)
select @msg = 'SCORE IS'+ str(@score)+'TOTAL IS'+str(@total)+' AVERAGE IS ' +str(@average,25,5)+' END '
print @msg
UPDATE users SET rank=@average WHERE users.email=@email
end; 
```

# php - 减少 AJAX/PHP/MYSQL 中 mysql 连接所需的架构

> ID：15354913
> 
> 赞同：1
> 
> 时间：2013-03-12T06:41:35.517
> 
> 标签：php, mysql, web-architecture

背景：

我通过 AJAX 将变量传递给 php 文件。php 文件连接到服务器并检索它传递回 javascript 的结果。每次用户单击请求按钮时都会发生这种情况（大约每 5 秒）。因此，对于每个用户，php 文件（以及 mysql 连接）每 5 秒调用一次。

问题：

如上所述，mysql 连接的数量高得不切实际。

问题：

有没有更好的架构，而不是有这么多的 mysql 连接，我宁愿有更少的连接。

![在此处输入图像描述](../Images/24eaa926f75ca3e5b894f930d2057eb6.png)

我已经阅读了一些关于 mysql_pconnect 的内容。但是如果我必须升级，因为我在某个地方读到 mysqli 不支持它，会发生什么？单个 mysql_pconnect 可以处理多少个查询？如果有人建议 mysql_pconnect 那么如何实现呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:44:35.780

您正在寻找的是用于数据库连接的单例设计模式。但它也有它的权衡。数据库单例设计的示例代码如下。

```
define('DB_NAME', "test");
define('DB_USER', "root");
define('DB_PASS', "rootpass");
define('DB_HOST', "localhost");

class Connection{
    private static $connection_;

    private function __construct(){
        $con = mysql_connect(DB_HOST, DB_USER, DB_PASS);
        mysql_select_db(DB_NAME, $con);
        Connection::$connection_ =  $con;
    }

    public static function getConnection(){
        if( !Connection::$connection_ )
            new Connection;
        return Connection::$connection_;
    }

}

$con = Connection::getConnection(); 
```

[阅读更多](http://www.micahcarrick.com/php5-mysql-database-class.html)

[php单例数据库连接，这个代码是不好的做法吗？](https://stackoverflow.com/questions/9227400/php-singleton-database-connection-is-this-code-bad-practice)

[静态类与单例类如何工作（数据库）](https://stackoverflow.com/questions/10169198/how-static-vs-singleton-classes-work-databases)

如果你谷歌，你可以找到大量的例子和信息。希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T07:01:49.267

```
Is there a better architecture where instead of having so many
mysql connections, I can rather have fewer connections. 
```

不太清楚，但我认为对你来说，建议的 pconnect 是最好的选择。除非您现在有 mysqli 或 PDO_mysql 可用？

```
I have read a little bit about mysql_pconnect.
But what happens if I have to upgrade since I read somewhere that mysqli doesnt support it? 
```

升级到 PHP 5.5 以上时，您可能需要更改方法。

```
How many queries can a single mysql_pconnect handle? 
```

无限，只要连接保持活动状态。如果没有可用的空闲连接，则会创建一个新连接。

```
If anyone suggests mysql_pconnect then how to implement it? 
```

将当前的 mysql_connect 调用更改为 mysql_pconnect。这应该就是全部了。

# python - Boto 处理具有空文件夹名称的 S3 密钥路径

> ID：15354914
> 
> 赞同：3
> 
> 时间：2013-03-12T06:41:36.580
> 
> 标签：python, amazon-s3, boto

我的 S3 存储桶中有路径，由于代码错误，最终看起来像这样：

```
/folder///image.png 
```

是的，这些是空白文件夹名称。S3 可以识别它们，我可以在浏览器中查看它们。

但是当我使用 boto 尝试像这样访问它们时：

```
key = Key(bucket)
key.name = "/folder///image.png"
key.exists() [returns False] 
```

它像这样截断请求中的名称

```
/folder/image.png 
```

删除重复的 /，因此没有引用正确的键。

有没有解决的办法？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2016-03-10T00:36:05.343

k.bucket.connection.suppress_consec_slashes = False

# php - Application.cpp 中的 SoftException：无法执行脚本

> ID：15354923
> 
> 赞同：1
> 
> 时间：2013-03-12T06:42:00.393
> 
> 标签：php, apache, magento, exception

打开magento站点时突然出现错误；每一页都是空白的。mageto 错误日志文件中没有生成错误，但在 php 错误日志中我发现以下内容：

> Application.cpp 中的 SoftException：641：无法执行脚本“/home/public_html/index.php”客户端被服务器配置拒绝：/home/public_html/app/etc/local.xml

我在网上搜索，并应用了我找到的解决方案，但没有成功。

我为这两个文件提供了适当的文件权限，这两个文件都会出错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:48:42.090

请检查您的 {{base_url}} 和 {{secure_base_url}} 是否存在空白问题。

有时我们会同时向两者添加 url。它可能在字符串的末尾会占用“\n”

# c# - 如何在 Xamarin.iOS 项目中使用 iCarousel

> ID：15354926
> 
> 赞同：1
> 
> 时间：2013-03-12T06:42:12.403
> 
> 标签：c#, objective-c, icarousel, xamarin.ios

我正在尝试在我的 Xamarin for iOS 项目中使用 iOS 库[iCarousel 。](https://github.com/nicklockwood/iCarousel)我在 XCode 中制作了静态库并将其添加到 Xamarin iOS Binding 项目中。试图从 lib .a 文件中定义导出。但是我对 Objective-C 没有任何经验，所以我很难在 iOS Binding Project 中声明导出（可以在我的目标项目中用作 dll）。我尝试使用[monotouch-binding-generator](https://github.com/stampsy/monotouch-binding-generator)来生成所需的声明，但是在编译 iOS Binding Project 后出现了很多错误。这是我对 C# 的声明。

```
[BaseType (typeof (UIView))]
interface iCarousel {
    [Export ("id<iCarouselDelegate>")]
    IBOutlet Id<iCarouselDelegate> { get; set;  }

    [Export ("type")]
    iCarouselType Type { get; set;  }

    [Export ("perspective")]
    float Perspective { get; set;  }

    [Export ("decelerationRate")]
    float DecelerationRate { get; set;  }

    [Export ("scrollSpeed")]
    float ScrollSpeed { get; set;  }

    [Export ("bounceDistance")]
    float BounceDistance { get; set;  }

    [Export ("scrollEnabled")]
    bool ScrollEnabled { get; set;  }

    [Export ("bounces")]
    bool Bounces { get; set;  }

    [Export ("scrollOffset")]
    float ScrollOffset { get; set;  }

    [Export ("offsetMultiplier")]
    float OffsetMultiplier { get;  }

    [Export ("contentOffset")]
    SizeF ContentOffset { get; set;  }

    [Export ("viewpointOffset")]
    SizeF ViewpointOffset { get; set;  }

    [Export ("numberOfItems")]
    int NumberOfItems { get;  }

    [Export ("numberOfPlaceholders")]
    int NumberOfPlaceholders { get;  }

    [Export ("currentItemIndex")]
    int CurrentItemIndex { get; set;  }

    [Export ("currentItemView")]
    UIView CurrentItemView { get;  }

    [Export ("indexesForVisibleItems")]
    NSArray IndexesForVisibleItems { get;  }

    [Export ("numberOfVisibleItems")]
    int NumberOfVisibleItems { get;  }

    [Export ("visibleItemViews")]
    NSArray VisibleItemViews { get;  }

    [Export ("itemWidth")]
    float ItemWidth { get;  }

    [Export ("contentView")]
    UIView ContentView { get;  }

    [Export ("toggle")]
    float Toggle { get;  }

    [Export ("stopAtItemBoundary")]
    bool StopAtItemBoundary { get; set;  }

    [Export ("scrollToItemBoundary")]
    bool ScrollToItemBoundary { get; set;  }

    [Export ("useDisplayLink")]
    bool UseDisplayLink { get; set;  }

    [Export ("vertical")]
    bool Vertical { get; set;  }

    [Export ("ignorePerpendicularSwipes")]
    bool IgnorePerpendicularSwipes { get; set;  }

    [Export ("centerItemWhenSelected")]
    bool CenterItemWhenSelected { get; set;  }

    [Export ("IBOutletid<iCarouselDataSource>dataSource")]
    nonatomic, ah_weak IBOutletid<iCarouselDataSource>dataSource ();

    [Export ("scrollByOffset:duration:")]
    void ScrollByOffsetduration (float offset, double duration);

    [Export ("scrollToOffset:duration:")]
    void ScrollToOffsetduration (float offset, double duration);

    [Export ("scrollByNumberOfItems:duration:")]
    void ScrollByNumberOfItemsduration (int itemCount, double duration);

    [Export ("scrollToItemAtIndex:duration:")]
    void ScrollToItemAtIndexduration (int index, double duration);

    [Export ("scrollToItemAtIndex:animated:")]
    void ScrollToItemAtIndexanimated (int index, bool animated);

    [Export ("removeItemAtIndex:animated:")]
    void RemoveItemAtIndexanimated (int index, bool animated);

    [Export ("insertItemAtIndex:animated:")]
    void InsertItemAtIndexanimated (int index, bool animated);

    [Export ("reloadItemAtIndex:animated:")]
    void ReloadItemAtIndexanimated (int index, bool animated);

    [Export ("itemViewAtIndex:")]
    UIView ItemViewAtIndex (int index);

    [Export ("indexOfItemView:")]
    int IndexOfItemView (UIView view);

    [Export ("indexOfItemViewOrSubview:")]
    int IndexOfItemViewOrSubview (UIView view);

    [Export ("offsetForItemAtIndex:")]
    float OffsetForItemAtIndex (int index);

    [Export ("reloadData")]
    void ReloadData ();

}

[BaseType (typeof ())]
[Model]
interface iCarouselDataSource {
    [Abstract]
    [Export ("numberOfItemsInCarousel:")]
    uint NumberOfItemsInCarousel (iCarousel carousel);

    [Abstract]
    [Export ("carousel:viewForItemAtIndex:reusingView:")]
    UIView CarouselviewForItemAtIndexreusingView (iCarousel carousel, uint index, UIView view);

    [Abstract]
    [Export ("numberOfPlaceholdersInCarousel:")]
    uint NumberOfPlaceholdersInCarousel (iCarousel carousel);

    [Abstract]
    [Export ("carousel:placeholderViewAtIndex:reusingView:")]
    UIView CarouselplaceholderViewAtIndexreusingView (iCarousel carousel, uint index, UIView view);

    [Abstract]
    [Export ("numberOfVisibleItemsInCarousel:")]
    uint NumberOfVisibleItemsInCarousel (iCarousel carousel);

}

[BaseType (typeof ())]
[Model]
interface iCarouselDelegate {
    [Export ("carouselWillBeginScrollingAnimation:")]
    void CarouselWillBeginScrollingAnimation (iCarousel carousel);

    [Export ("carouselDidEndScrollingAnimation:")]
    void CarouselDidEndScrollingAnimation (iCarousel carousel);

    [Export ("carouselDidScroll:")]
    void CarouselDidScroll (iCarousel carousel);

    [Export ("carouselCurrentItemIndexUpdated:")]
    void CarouselCurrentItemIndexUpdated (iCarousel carousel);

    [Export ("carouselWillBeginDragging:")]
    void CarouselWillBeginDragging (iCarousel carousel);

    [Export ("carouselDidEndDragging:willDecelerate:")]
    void CarouselDidEndDraggingwillDecelerate (iCarousel carousel, bool decelerate);

    [Export ("carouselWillBeginDecelerating:")]
    void CarouselWillBeginDecelerating (iCarousel carousel);

    [Export ("carouselDidEndDecelerating:")]
    void CarouselDidEndDecelerating (iCarousel carousel);

    [Export ("carousel:itemTransformForOffset:baseTransform:")]
    CATransform3D CarouselitemTransformForOffsetbaseTransform (iCarousel carousel, float offset, CATransform3D transform);

    [Export ("carousel:valueForOption:withDefault:")]
    float CarouselvalueForOptionwithDefault (iCarousel carousel, iCarouselOption option, float value);

    [Export ("carousel:shouldSelectItemAtIndex:")]
    bool CarouselshouldSelectItemAtIndex (iCarousel carousel, int index);

    [Export ("carousel:didSelectItemAtIndex:")]
    void CarouseldidSelectItemAtIndex (iCarousel carousel, int index);

    [Export ("carouselShouldWrap:__attribute__((deprecated))")]
    bool CarouselShouldWrap__attribute__((deprecated)) (iCarousel carousel, (deprecated ));

    [Export ("carouselItemWidth:__attribute__((deprecated))")]
    float CarouselItemWidth__attribute__((deprecated)) (iCarousel carousel, (deprecated ));

    [Export ("carouselOffsetMultiplier:__attribute__((deprecated))")]
    float CarouselOffsetMultiplier__attribute__((deprecated)) (iCarousel carousel, (deprecated ));

    [Export ("carousel:itemAlphaForOffset:__attribute__((deprecated))")]
    float CarouselitemAlphaForOffset__attribute__((deprecated)) (iCarousel carousel, float offset, (deprecated ));

    [Export ("carousel:valueForTransformOption:withDefault:__attribute__((deprecated))")]
    float CarouselvalueForTransformOptionwithDefault__attribute__((deprecated)) (iCarousel carousel, iCarouselOption option, float value, (deprecated ));

} 
```

如何修复错误并在我的 Xamarin.iOS 项目中使用 iCarousel？这是我与 Xamarin 的第一个项目，如果问题很愚蠢，对不起。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T09:32:05.533

那些看起来不对：

```
[Export ("id<iCarouselDelegate>")]
IBOutlet Id<iCarouselDelegate> { get; set;  }

[...]

[Export ("IBOutletid<iCarouselDataSource>dataSource")]
nonatomic, ah_weak IBOutletid<iCarouselDataSource>dataSource ();

[...]

[Export ("carouselShouldWrap:__attribute__((deprecated))")]
bool CarouselShouldWrap__attribute__((deprecated)) (iCarousel carousel, (deprecated ));

[Export ("carouselItemWidth:__attribute__((deprecated))")]
float CarouselItemWidth__attribute__((deprecated)) (iCarousel carousel, (deprecated ));

[Export ("carouselOffsetMultiplier:__attribute__((deprecated))")]
float CarouselOffsetMultiplier__attribute__((deprecated)) (iCarousel carousel, (deprecated ));

[Export ("carousel:itemAlphaForOffset:__attribute__((deprecated))")]
float CarouselitemAlphaForOffset__attribute__((deprecated)) (iCarousel carousel, float offset, (deprecated ));

[Export ("carousel:valueForTransformOption:withDefault:__attribute__((deprecated))")]
float CarouselvalueForTransformOptionwithDefault__attribute__((deprecated)) (iCarousel carousel, iCarouselOption option, float value, (deprecated )); 
```

对于**已弃用**的，请删除它们，您将不需要它们。对于另外两个，首先将它们注释掉，然后修复它们。

还有这样的：

```
[BaseType (typeof ())]
[Model]
interface iCarouselDelegate { 
```

代表通常是`[BaseType (typeof (NSObject)]`

无论如何，拥有一个生成器可以帮助您入门，但永远不要期望它会为您完成所有工作。不要不读[这篇](http://docs.xamarin.com/guides/ios/advanced_topics/binding_objective-c_libraries)文章并了解一点 Obj-C的经济性

# c# - WPF进度条不显示

> ID：15354927
> 
> 赞同：0
> 
> 时间：2013-03-12T06:42:16.757
> 
> 标签：c#, wpf, observablecollection

我将 WPF`ProgressBar`的 Is indeterminate 设置为 True 并将 Visibility 设置为 Hidden。在事件处理程序中，我试图在`ObservableCollection`更新 a 时使 ProgressBar 可见（以及 ListView ，其 ItemsSource 是`ObservableCollection`）。我希望`DoEvents(`) from`System.Windows.Forms.Application`可以使它可见，但事实并非如此。我注意到`SetPBarHelper(() => { ..} )` 通常比 ListView 显示视觉变化更早完成。

如何使`ProgressBar`Visible 内部事件处理程序代码？

即使已完成添加项目，如何判断我`ListView`的是否仍在更新？`ObserableCollection`

```
<ProgressBar x:Name="GeneralProgressBar" Width="300" Height="15" IsIndeterminate="True" Visibility="Hidden"/>

private void SetPBar(bool isVisible)
{
    if (isVisible)
        GeneralProgressBar.Visibility = System.Windows.Visibility.Visible;
    else
        GeneralProgressBar.Visibility = System.Windows.Visibility.Hidden;
}

private void SetPBarHelper(Action handler)
{
    SetPBar(true);                // try to make ProgressBar visible
    System.Windows.Forms.Application.DoEvents();
    handler();                    // use the event handling, which run database query
    SetPBar(false);               // try to make ProgressBar disappear
}

private void CommandForumImagesBinding_Executed(object sender, ExecutedRoutedEventArgs e)
{
    SetPBarHelper(() =>
    {
        if (e.Parameter == null)
            return;
        var vm = e.Parameter as ForumViewModel;
        if (vm != null)
        {

        }
    });
}

public sealed class ImageGroupCollection : ObservableCollection<ImageGroup>
{
    public ImageGroupCollection() : base() { }

    public void Update(DateTime start, DateTime end)
    {
        ClearItems();
        var list = MyDatabase.GetRecords(start, end);
        if (list != null)
        {
            foreach (var g in list)
            {
                Add(g);
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:59:19.390

您的问题仅仅是因为您阻塞了 UI 线程。你不能那样做。

当 UI 线程再次运行消息循环时，您已经设置了`ProgressBar.Visible = false`. `ProgressBar`从未绘制。

假设你使用的是 .net 4.5 你需要重写代码如下。

```
private async Task SetPBarHelper(Action handler)
{
    SetPBar(true);                // try to make ProgressBar visible
    System.Windows.Forms.Application.DoEvents();
    await Task.Run(handler);                    // use the event handling, which run database query
    SetPBar(false);               // try to make ProgressBar disappear
} 
```

但总的来说，您需要尽快将 UI 线程的控制权返回给应用程序循环，以允许它重绘窗口，并在 WorkerThread 上运行更新。

# c# - 如何从后面的代码中显示验证消息

> ID：15354928
> 
> 赞同：1
> 
> 时间：2013-03-12T06:42:18.467
> 
> 标签：c#, asp.net

我有一个文本框..我想根据下拉列表值验证它的值..所以我正在使用后面的代码显示消息`RegularExpressionValidator`..但它不起作用请给我建议..

```
<asp:TextBox ID="tbnooflecture" runat="server"  Width="119px" Height="33px"></asp:TextBox>

              <asp:RegularExpressionValidator ID="RegularExpressionValidator1"  ForeColor="#6600FF" 
                runat="server"  ValidationGroup="upper" 
                     ControlToValidate="tbnooflecture"></asp:RegularExpressionValidator>
 <asp:Button ID="bfillattendence" runat="server" Text="To Fill Attendence Click Here"
                            onclick="FillAttendence_Click" Width="218px"  Height="33px" CausesValidation="true" ValidationGroup="upper"/> 
```

我在按钮点击事件中写下面的代码

```
string  batchname = dpbatchname.SelectedItem.Text.ToString();
        int lengthofbatch=batchname.Length;
        if(lengthofbatch==2)
        {
            RegularExpressionValidator1.ValidationExpression = "[1-9][02468]|[02468]";

        RegularExpressionValidator1.ErrorMessage = "Only Even No. of Attendence is Valid for Lab.";
        }
        else if (lengthofbatch == 1)
        {
            RegularExpressionValidator1.ValidationExpression = "[0-9][0-9]|[0-9]";
            RegularExpressionValidator1.ErrorMessage = "Attendence Shold be Like 9,50";
        }
        else
        {
            RegularExpressionValidator1.ValidationExpression = "[0-9][0-9]|[0-9]";
            RegularExpressionValidator1.ErrorMessage = "Attendence Shold be Like 9,50";
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:56:54.033

你在验证文本框的价值吗？如果您在服务器端使用正则表达式，那么您需要验证输入（您的文本框），如下所示，并显示消息。

```
if (Regex.IsMatch(text, reg))
{

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T07:01:26.030

添加这一行RequiredFieldValidator1.IsValid = false;

后

RegularExpressionValidator1.ValidationExpression = "[0-9][0-9]|[0-9]"; RegularExpressionValidator1.ErrorMessage = "出席人数应为 9,50";

# android - 当 TextInput 失去焦点时，我的 Android AIR 应用程序显示白屏

> ID：15354929
> 
> 赞同：1
> 
> 时间：2013-03-12T06:42:23.067
> 
> 标签：android, apache-flex, mobile, air, textinput

这几乎概括了这个问题。我在 FlashDevelop 中有一个 AIR Mobile Flex App 项目，它使用视图来显示内容。一切正常，我可以在舞台上添加一个 TextInput 或 TextArea，选择它（然后出现软键盘），输入一些文本。但是，当我按下回车键或将焦点更改到其他元素以隐藏键盘时，除了已在字段中输入的文本外，屏幕变为完全白色。

现在变得有趣了。如果我旋转平板电脑以强制屏幕进行调整，内容就会再次可见。有时它甚至不显示白屏，而是在查看正在运行的应用程序列表时显示空白预览的漆黑屏幕。

除了这种行为，我无法掌握逻辑。似乎以某种方式屏幕只是不想重绘。

**升级版：**

AIR 版本：3.1

在现代 SmartPad H-SP701G，Android 4.0.4 上测试

**UPD2：**

在SANSUI ETAB 801VP上测试，还是一样的效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T09:48:18.430

问题出在您的应用程序配置 XML 中。检查你的标签。输入“auto”或“cpu”的值应该可以解决问题。

```
<renderMode>auto</renderMode> 
```

就我而言，我直接设置，这就是问题的原因。使用直接渲染模式导致应用程序无法在 HTC Evo 3D 和三星 Galaxy s3 上运行。不过，它确实适用于 HTC Desire。

# c# - 需要在每个浏览器中显示相同的 Div 高度

> ID：15354932
> 
> 赞同：2
> 
> 时间：2013-03-12T06:42:32.140
> 
> 标签：c#, jquery, asp.net, html, css

我的页面上有一个`div`，其内容`div`是通过带有准确 CSS 文件的 javascript 动态生成的。`div`正如我预期的那样显示并且工作正常。我的问题是当我检查`div`i 在不同浏览器中显示的高度不同时，但我确实需要找到 div 的高度以进行其他一些操作。

我尝试了这些事情但失败了：

1.  删除`px`并应用`%`.
2.  使用 ResetCSS
3.  使用标准化 CSS

请看我创建的这个小提琴：http: [//jsfiddle.net/mouli_13579/FxK9F/5](http://jsfiddle.net/mouli_13579/FxK9F/5)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:53:45.297

如果您的内容动态显示或更好地使用，请不要定义高度

```
 html, body {height:100%}
 .yourclass { height:100%} 
```

希望这会有所帮助

# 3d - 什么决定了深度导致的缩放量？

> ID：15354933
> 
> 赞同：0
> 
> 时间：2013-03-12T06:42:41.730
> 
> 标签：3d

考虑一个平截头体，其中左、右、下、上、近、远平面是：

`Frustum(-200,200,-200,200,1,400)`

本质上，我们在视图中的“真实世界”空间是一个每边有 400 个单元的大立方体。

我试图理解为什么，当我在 x 或 y 方向上仅将对象平移 1 个单位时，它会在屏幕上移动少量，这是您所期望的，但如果我仅将其沿 z 轴平移 1 个单位, 缩放是相当巨大的。深度的影响似乎被夸大了。只需将其移开 1 或 2 个单位，它看起来就“离得很远”（小得多）。

我听说过有时称为相机“变焦镜头”的截锥体，但实际上，不同的镜头会使缩放效果因深度而大不相同，但是对于截锥体，我看不出你会在哪里指定深度影响表观缩放。

我可以将远平面操纵到其他数字，但这似乎所做的只是调整是否被剪裁。它不会调整深度对缩放的影响程度。

那么问题又是**什么决定了深度导致的缩放量？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T07:02:29.410

你还没有定义一个立方体，你已经定义了一个平截头体。看起来你已经创建了一个具有非常大视野的截锥体，所以我可能认为这看起来有点奇怪。

然而，实际上决定某物在 Z 中移动时“缩放”的方式，与决定某物在现实生活中接近或远离我们时的明显缩放方式相同。比例与物体的距离和视野成正比。

如果有东西就在你面前，你把它移开一小段距离，它显然会变得更小。但是，如果某物很远，并且移动了同样微小的距离，则几乎无法察觉。

您对该效果的唯一真正控制是深入移动事物。因此，如果您想减少场景中对象的相对“缩放”，则需要将相机移得更远。这将使一切变小，但您可以缩小视野以使事物“放大”。

The further the camera is from your objects, the more parallel the sides of the frustum become. If the view frustum was not a frustum, but a cube, you would have an orthographic view instead, where depth has no effect on scale at all.

# rails-engines - Rails Engine + Mongoid：找不到名为“默认”的会话的配置

> ID：15354936
> 
> 赞同：11
> 
> 时间：2013-03-12T06:43:00.947
> 
> 标签：rails-engines, mongoid3

我创建了一个 Rails 可安装应用程序并添加了“mongoid”和“rspec”gem。如果我现在尝试运行我的规范，我会收到以下错误：

```
Mongoid::Errors::NoSessionConfig: 
Problem:
  No configuration could be found for a session named 'default'.
Summary:
  When attempting to create the new session, Mongoid could not find a session configuration for the name: 'default'. This is necessary in order to know the host, port, and options needed to connect.
Resolution:
  Double check your mongoid.yml to make sure under the sessions key that a configuration exists for 'default'. If you have set the configuration programatically, ensure that 'default' exists in the configuration hash. 
```

当我将`Mongoid.load!(Rails.root.join("config", "mongoid.yml"))`行添加到`spec_helper.rb`一切正常时。

为什么会这样？我怎样才能获得不需要调用加载函数的普通 Rails 应用程序中的功能？

***mongoid.yml***

```
development:
  sessions:
    default:
      database: dummy_development
      hosts:
        - localhost:27017
      options:
  options:
test:
  sessions:
    default:
      database: dummy_test
      hosts:
        - localhost:27017
      options:
        consistency: :strong
        max_retries: 1
        retry_interval: 0 
```

***版本：***

```
gem 'rails', '~> 3.2.12'
gem 'mongoid', '~> 3.1'
gem 'rspec-rails', '~> 2.13' 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-14T20:16:00.420

您可能错过`require 'rails/mongoid'`了您的 spec_helper.rb 文件。

有人在这里遇到同样的问题[https://github.com/mongoid/mongoid/issues/2894#issuecomment-14903927](https://github.com/mongoid/mongoid/issues/2894#issuecomment-14903927)

尝试添加该要求，这应该可以解决它。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-08-23T13:11:19.597

这在我的机器上对我有用

1：将此添加到您的 config/application.rb

```
Mongoid.load!("path to your mongoid.yml") 
```

2：并将您的 mongoid.yml 更改为（仅适用于 mongoid 版本 < 5）：

这

```
development:
  clients:
    default:
      database: database_for_development
        hosts:
          - localhost:27017
test:
  clients:
    default:
      database: database_for_test
        hosts:
          - localhost:27017
production:
  clients:
    default:
      database: database_for_production
        hosts:
          - localhost:27017 
```

到：

```
development:
  sessions:
    default:
      database: database_for_development
        hosts:
          - localhost:27017
test:
  sessions:
    default:
      database: database_for_test
        hosts:
          - localhost:27017
production:
  sessions:
    default:
      database: database_for_production
        hosts:
          - localhost:27017 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-11-16T15:23:52.093

这可能是因为同时存在两个条件：（在 mongoid.yml 中没有生产部分）和（Heroku 默认将 Rails 应用程序视为生产）。

修复其中任何一个就足够了。

**1\. mongoid.yml中没有生产部分**

将生产部分添加到 mongoid.yml，如[Heroku](https://devcenter.heroku.com/articles/mongohq#use-with-ruby)中所述，例如

```
production:
  sessions:
    default:
      uri: <%= ENV['MONGOHQ_URL'] %>
      options:
        skip_version_check: true
        safe: true 
```

**2\. Heroku 默认将 Rails 应用程序视为生产环境**

将 Heroku 环境设置为开发环境，或添加特定于 Heroku 的新环境，如[Heroku](https://devcenter.heroku.com/articles/multiple-environments#managing-staging-and-production-configurations)中所述，例如

```
heroku config:set RACK_ENV=development RAILS_ENV=development --remote development 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-05-21T00:08:04.560

并在对 mongoid.yml 进行更改后重新启动服务器

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-07-28T14:42:14.293

我发现这个工作 - 注意没有“会话”，只有“客户”

```
production:
  clients:
    default:
      uri: <%= ENV['MONGODB_URI'] %>
      options:
        skip_version_check: true
        safe: true 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-02-23T10:18:26.123

尝试重新生成一个新的`mongoid.yml`：

`rails g mongoid:config`

在改变`mongoid.yml`你的价值观之后。

# python - 如何命名这样的函数？

> ID：15354940
> 
> 赞同：-2
> 
> 时间：2013-03-12T06:43:08.453
> 
> 标签：python, function, data-structures, tree, nodes

伪代码是这样的：

```
def a_func(parent_node, child_node):
    parent_node.add(child_node)
    // check validity
    return child_node

node1 = a_func(pnode, Node(attr_x = "a new node")
node2 = a_func(pnode, Node(node1.get_attr("attr_x")) 
```

它用于树结构。`a_func`将 nodeX 插入父 nodeY 并返回 nodeX。有人对它的合适名称有想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:50:47.293

我会将函数命名为类似`enlistForParent`或者可能`addToParent`甚至`setParentForNode`我相信所有这些版本都暗示返回值是子注释，并且还使调用函数的效果清晰。

# jquery - 无法更改Jquery中每个函数中元素的背景图像

> ID：15354944
> 
> 赞同：1
> 
> 时间：2013-03-12T06:43:13.030
> 
> 标签：jquery, html, each

我在 Jquery 中很新，并且在更改每个函数中元素的背景时遇到问题。

我的 HTML 代码如下：

```
<div id="productsBox"><span id="productItem2181" class="productItem"> <img class="ProductImage" src="/media/1656/FootballShirts.png "></img> <span class="productName">
      Football Shirts
    </span> <span class="relavantSizeAdvice">
      2189
    </span> </span> <span id="productItem2199" class="productItem"> <img class="ProductImage" src="/media/1697/FootballShorts.png "></img> <span class="productName">
      Football Shorts
    </span> <span class="relavantSizeAdvice">
      2189
    </span> </span> </div> 
```

我想在单击时更改名为“productName”的类的背景图像。我的 Jquery 函数如下：

```
$('.productItem').bind('click', function () {
            var $tmp = $(this.innerHTML).each(function () {

            var className = $(this).attr('class') ;
            if (className == "productName") {

                    $(this).css("background", "url(../img/SmallGreenCheck.png) no-repeat");
                }
            });
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:45:12.233

使用[类选择器](http://api.jquery.com/class-selector/)并将源对象作为[上下文](http://api.jquery.com/jQuery/)传递给您不需要在此处使用的选择器。

```
$('.productItem').bind('click', function () {
    $(".productName", this).css("background", "url(../img/SmallGreenCheck.png) no-repeat");
}); 
```

`Bind`已弃用，您将`on`改为使用。

```
$('.productItem').on('click', function () {
    $(".productName", this).css("background", "url(../img/SmallGreenCheck.png) no-repeat");
}); 
```

如果您创建了动态元素，则可以将事件委托给选择器或文档的父级。

```
$('parentselector').on('click', '.productItem', function () {
    $(".productName", this).css("background", "url(../img/SmallGreenCheck.png) no-repeat");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:54:05.630

Jquery 提供了多种选择器来遍历子元素。这是可以解决您的问题的示例代码：

```
$('.productItem').bind('click', function(e) {
    $(this).children('.productName').css('background', "url(../img/SmallGreenCheck.png) no-repeat");
}); 
```

# c# - 关闭和清理 Socket 连接的正确方法是什么？

> ID：15354946
> 
> 赞同：21
> 
> 时间：2013-03-12T06:43:17.687
> 
> 标签：c#, sockets, networking

我对 Socket 对象上的相关方法的聚宝盆感到有些困惑，这些方法应该关闭并清理套接字连接。考虑以下：

```
var socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);
socket.Connect("192.168.1.22", 8333);
socket.Send(Encoding.UTF8.GetBytes("hello"));

// now for the closing fun
socket.Shutdown(SocketShutdown.Both);
socket.Disconnect(false);
socket.Close();
socket.Dispose(); 
```

另外，[这家伙](http://vadmyst.blogspot.com/2008/04/proper-way-to-close-tcp-socket.html)说要真正干净地关闭连接，必须先执行`socket.Shutdown(SocketShudown.Send)`，然后等待对方响应。

关闭然后清理套接字连接的正确方法是什么？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-12T07:12:07.467

关闭套接字关闭连接，而 Close 是围绕 Dispose 的包装方法，所以一般

```
socket.Shutdown(SocketShutdown.Both);
socket.Close(); 
```

应该足够了。有些人可能会争辩说，Close 的实现可能有一天会改变（因此它不再调用 Dispose），您应该在调用 Close 之后手动调用 Dispose，但我个人怀疑这会发生：）

或者，考虑使用 (yeh)：

```
using (var socket = new Socket(...))
{
    ....
    socket.Shutdown(SocketShutdown.Both);
    socket.Close();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-06-04T21:56:53.160

根据 MSDN，对于面向连接的套接字，如果调用`Connect`，则应该调用`Close`. 这适用于`BeginConnect`并且`ConnectAsync`同样适用。

```
using (var socket = new Socket(...)) {
    socket.Connect(host);
    ...
    socket.Shutdown(SocketShutdown.Both);
    socket.Close();
} 
```

# android - 从 Internet 获取数据时按下返回时强制关闭

> ID：15354948
> 
> 赞同：0
> 
> 时间：2013-03-12T06:43:30.587
> 
> 标签：android

每当用户按下返回按钮同时使用 AsyncTask 从 Web 获取 xml 数据时，我的应用程序将进入强制关闭状态。我该如何解决这个问题。提前致谢。

```
public class InboxActivity extends Activity {
public static ExpandableListView mailList;
List<HashMap<String,String>> list;
MailList asyncTaskMailList;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.inbox_layout);
    ConstantValues.footerCurrentActivity=InboxActivity.this;
    mailList=(ExpandableListView)findViewById(R.id.expandableListView1);
    HomePageActivity.homePageTabHost.getTabWidget().getChildTabViewAt(ConstantValues.CURRENT_POSITION)
        .setBackgroundDrawable(getResources().getDrawable(R.drawable.tab_widget_normal));
    asyncTaskMailList=new MailList();
    asyncTaskMailList.execute();
}
private OnChildClickListener childClickListener=new ExpandableListView.OnChildClickListener() {
    public boolean onChildClick(ExpandableListView parent, View v,int groupPosition, int childPosition, long id) {
        ConstantValues.STATION_NAME=ConstantValues.inboxStations.get(groupPosition);
        ConstantValues.CURRENT_POSITION=1;
        startActivity(new Intent(InboxActivity.this, HomePageActivity.class));
        return false;
    }
};
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if(keyCode == KeyEvent.KEYCODE_BACK){
        this.getParent().onBackPressed();
        asyncTaskMailList.cancel(true);
        return true;
    }
    return super.onKeyDown(keyCode, event);
}
@Override
protected void onStop() {
    super.onStop();
    asyncTaskMailList.cancel(true);
}
@Override
protected void onDestroy() {
    asyncTaskMailList.cancel(true);
    super.onDestroy();
}
class MailList extends AsyncTask<String, String, String>
{
    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        NetworkExceptionPopUp.showProgressBar();
    }
    @Override
    protected String doInBackground(String... params) {
        list=new ArrayList<HashMap<String,String>>();
        WebServerCall.getInboxMail(InboxActivity.this);
        return null;
    }
    @Override
    protected void onPostExecute(String result) {
        super.onPostExecute(result);
        mailList.setAdapter(new InboxAdapter(InboxActivity.this));
        NetworkExceptionPopUp.dismissProgressBar();
        mailList.setOnGroupClickListener(null);
        mailList.setOnChildClickListener(childClickListener);
        mailList.setClickable(true);

    }
} 
```

上面的代码是我更新的代码。这有时也会显示异常。在这里，我使用 onStop() 和 OnDestroy() 来取消 AsyncTask 而其他活动排在首位。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:51:37.000

```
@Override
    protected void onPreExecute() {
        super.onPreExecute();
        NetworkExceptionPopUp.showProgressBar(); 
       /** add this line to your progressDialog so that diaolg as well your background operation wont stop in intermediate state. */
        // pd.setCancelable(false);
    } 
```

因此，现在当您单击返回按钮时，对话框不会关闭。

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:53:01.977

```
private MailList task; 

@Override
public void onCreate(Bundle savedInstanceState) {
    ...
    task = new MailList().execute();
    ...
}

@Override
public void onBackPressed() {
    if (task != null && task.getStatus() == AsyncTask.Status.RUNNING) {
        task.cancel(true);
    }
    ...
}

... 
```

# android - android中的屏幕兼容性问题

> ID：15354949
> 
> 赞同：3
> 
> 时间：2013-03-12T06:43:32.343
> 
> 标签：android, layout, tabs, imagebutton

我的应用程序有问题。我使用图像按钮创建了标签栏，当我在 480*800 hdpi 设备中运行应用程序时，标签栏图像在 240*320 设备中运行时显示完美，图像按钮中的图像不是显示正确。我已经创建了可绘制文件夹并添加了图像

```
drawable
drawable-hdpi
drawable-ldpi
drawable-mdpi
drawable-xhdpi 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T06:59:23.090

尝试以下布局方案。我在[http://jamil.fluidsoul.net/2011/03/06/creating-android-applications-for-multiple-screen-sizes](http://jamil.fluidsoul.net/2011/03/06/creating-android-applications-for-multiple-screen-sizes)找到了。

```
Low density Small screens QVGA 240x320 (120dpi):

layout-small-ldpi (240x320)  
layout-small-land-ldpi (320x240)

Low density Normal screens WVGA400 240x400 (x432) (120dpi):

layout-ldpi  (240 x 400 )
layout-land-ldpi  (400 x 240 )

Medium density Normal screens HVGA 320x480 (160dpi):

layout-mdpi (320 x 480 )
layout-land-mdpi (480 x 320 )

Medium density Large screens HVGA 320x480 (160dpi):

layout-large-mdpi (320 x 480 )
layout-large-land-mdpi (480 x 320)

Galaxy Tab ( 240 dpi ):

layout-large  (600 x 1024) 
layout-large-land  (1024 x 600)

High density Normal screens WVGA800 480x800 (x854) (240 dpi):

layout-hdpi (480 x 800)
layout-land-hdpi (800 x 480)

Xoom (medium density large but 1280x800 res) (160 dpi):

layout-xlarge (800 x 1280)
layout-xlarge-land (1280 x 800) 
```

如果图形布局中的结果显示与所有其他最匹配，您将在原始设备中获得相同的输出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:45:58.207

详情请参考[Android 开发者指南](http://developer.android.com/guide/practices/screens_support.html)。

总而言之，您必须在`AndroidManifest.xml`. 例如，您必须包括以下内容：

```
<supports-screens android:resizeable=["true"| "false"]
                  android:smallScreens=["true" | "false"]
                  android:normalScreens=["true" | "false"]
                  android:largeScreens=["true" | "false"]
                  android:xlargeScreens=["true" | "false"]
                  android:anyDensity=["true" | "false"]
                  android:requiresSmallestWidthDp="integer"
                  android:compatibleWidthLimitDp="integer"
                  android:largestWidthLimitDp="integer"/> 
```

要支持 240*320，您必须执行以下操作：

1：在`AndroidManifest.xml`，包括

```
<supports-screens android:smallScreens="true" /> 
```

2：创建不同的`layout-small`文件夹：

```
res/layout/layout-small/ 
```

3：创建`drawable-ldpi`文件夹（你已经做了）：

```
res/drawable-ldpi/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T06:45:54.450

您必须先阅读以下文档：- [http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

或者

[是否有所有基于 Android 的手机和平板电脑的屏幕分辨率列表？](https://stackoverflow.com/questions/7587854/is-there-a-list-of-screen-resolutions-for-all-android-based-phones-and-tablets)

以上也希望对你充分利用。

# salesforce - Salesforce 远程访问更新失败

> ID：15354951
> 
> 赞同：0
> 
> 时间：2013-03-12T06:43:35.360
> 
> 标签：salesforce

以标准用户身份登录时，更新 Salesforce 字段的尝试失败，并出现以下情况：

HTTP 响应错误代码 400（错误请求）。

响应的正文有：

{"message"=>"交叉引用 id 的访问权限不足", "errorCode"=>"INSUFFICIENT_ACCESS"}

使用管理员权限尝试更新成功。那么，标准用户是不允许更新记录的吗？是否存在允许更新用户在 Salesforce 应用程序中可以访问的记录的角色定义？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T16:01:31.487

标准用户可以更新具有编辑权限的记录，检查他们的个人资料设置，并确保他们可以访问您尝试编辑的记录以及他们尝试引用的记录。

# sql - SQL Azure 中的代码优先迁移 - 不支持没有聚集索引的表

> ID：15354953
> 
> 赞同：5
> 
> 时间：2013-03-12T06:43:46.100
> 
> 标签：sql, entity-framework, azure, ef-code-first, azure-sql-database

我似乎无法让我的代码优先迁移来创建我的 SQL Azure 数据库。

它一直抱怨 SQL Azure 缺乏对没有聚集索引的表的支持，而且我找不到创建数据库的方法。

**注意：**我`CreateDatabaseIfNotExists`用于在第一次创建数据库时创建更改跟踪表，因为显然`DropCreateDatabaseIfModelChanges` [不适合您](https://stackoverflow.com/a/8630863/1267778)

```
 public partial class IUnityDbContext : DbContext
    {
        public IUnityDbContext()
            : base("Name=IUnityDbContext")
        {
            Database.SetInitializer(new CreateDatabaseIfNotExists<IUnityDbContext>()); 
            //Database.SetInitializer(new DropCreateDatabaseIfModelChanges<IUnityDbContext>());
        }

        public DbSet<User> Users { get; set; }

        protected override void OnModelCreating(DbModelBuilder modelBuilder)
        {
            modelBuilder.Configurations.Add(new UserMap());

            base.OnModelCreating(modelBuilder);
        }
    }

    public partial class Initial : DbMigration
    {
        public override void Up()
        {
            CreateTable(
                "dbo.Users",
                c => new {
                        ... 
                     }
            ).PrimaryKey(u => u.UserId, clustered: true);            
        }

        public override void Down()
        {
            DropTable("dbo.Users");
        }
    } 
```

如果我尝试`Update-Database 我得到

```
 Tables without a clustered index are not supported in this version of SQL Server. Please create a clustered index and try again. 
```

未创建数据库。

**更新：**我从头开始并按照[本指南](http://geekswithblogs.net/michelotti/archive/2012/11/13/enable-automatic-code-first-migrations-on-sql-database-in-azure.aspx)启用自动迁移（刮掉数据库并从不存在的数据库开始，因此我不必从初始迁移中删除向上/向下代码）

这次成功创建了我的数据库（之前没有做到这一点），但是没有创建表，并且我仍然得到与以前相同的错误，即不支持没有聚集索引的表。

请指教

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T01:00:30.220

原来是 Entity Framework 6 -Alpha 3 中的一个错误。我想我应该提到这一点。

[https://stackoverflow.com/a/15282861/1267778](https://stackoverflow.com/a/15282861/1267778)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T07:08:25.173

这个看起来很相似（尽管它不是理想的解决方案恕我直言）：[Entity Framework Many-to-Many Clustered vs. Nonclustered Index](https://stackoverflow.com/questions/3567946/entity-framework-many-to-many-clustered-vs-nonclustered-index)

# grails - utf-8 创建脚手架控制器 Grails

> ID：15354954
> 
> 赞同：0
> 
> 时间：2013-03-12T06:43:46.360
> 
> 标签：grails, utf-8

当我使用 create-scaffold-controller 时，Grails 会自动将 latin-1 应用于 MySQL 列。有没有办法让 Grails 使用 Utf-8，这样我就不必登录 MySQL 并更改列字符集？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:48:08.800

这与控制器或 create-scaffold-controller 脚本*无关- 域类定义表结构。*Grails 不选择任何字符集——这是由数据库中的默认设置定义的。要查看生成的表 DDL，请运行`grails schema-export`并查看`target/ddl.sql`.

定义一个将 UTF-8 指定为字符集的自定义方言很简单，例如[http://grails.1312388.n4.nabble.com/mysql-grails-and-utf-8-td2274498.html#a2274502](http://grails.1312388.n4.nabble.com/mysql-grails-and-utf-8-td2274498.html#a2274502)

或者您可以更改数据库的默认值。

请注意，您应该使用数据库迁移。例如[http://grails.org/plugin/database-migration](http://grails.org/plugin/database-migration)，然后您就可以指定您想要的任何内容。

# core-bluetooth - 剂量 CoreBluetooth 在 IOS6.0、IOS6.1、IOS6.1.2 上工作吗？

> ID：15354956
> 
> 赞同：2
> 
> 时间：2013-03-12T06:44:08.883
> 
> 标签：core-bluetooth

我正在研究 bluetooth4.0，但我发现 CoreblueTooth 无法在 iOS 6+ 上运行，我的 iphone4s 是 IOS 6.1.2。

它找不到任何设备（我确定设备已打开电源），每次的日志如下：

CoreBluetooth[WARNING] 未开机

有没有人遇到过这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-12T21:18:49.640

状态 CBCentralManagerStatePoweredOn 不仅意味着蓝牙已打开，还意味着您的 CBCentralManager 或 CBPeripheralManager 实例已准备好使用。您**必须**初始化您的管理器，然后等待其状态更改后再使用它。例如，如果您充当 Central，则可以使用以下内容对其进行初始化：

```
centralManager = [[CBCentralManager alloc] initWithDelegate:self queue:nil]; 
```

并实现委托方法`centralManagerDidUpdateState:`

```
- (void)centralManagerDidUpdateState:(CBCentralManager *)central
{
    if (central.state == CBCentralManagerPoweredOn)
    {
        //do your stuff, it's ready
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T09:24:05.053

我正在运行 6.0.1 的 iPhone 4S 上进行测试。iPhone 处于中心地位，我没有看到你的警告。

你能更具体地说明你在做什么吗？- 你是外围还是核心？

您是否按如下方式初始化了 CBCentralManager（如果您是中央管理器）？

```
centralManager = [[CBCentralManager alloc] initWithDelegate:self queue:dispatch_get_main_queue()]; 
```

我希望我能帮助你

# qt - 在 Mac OS X Snow Leopard 上部署 Qt 应用程序

> ID：15354961
> 
> 赞同：0
> 
> 时间：2013-03-12T06:44:32.100
> 
> 标签：qt, osx-snow-leopard

我正在使用 Xcode/Qt 4.8.4 在 Mac OS X 10.8 上开发 C++ 应用程序。我希望它可以在 Mac OS X 10.6 及更高版本上运行。为了做到这一点，我将 Xcode 部署目标设置为 10.6，我也使用了 macdeployqt。它在 Mac OS X 10.8 上运行良好，但在 10.6 上存在很多问题。

由于缺少位于 10.6 和 10.8 不同位置的框架，应用程序崩溃：

> Dyld 错误消息：库未加载：/System/Library/Frameworks/CoreText.framework/Versions/A/CoreText 引用自：/Volumes/deploy/MyApp.app/Contents/MacOS/../Frameworks/QtGui.framework/Versions /4/QtGui
> 
> 未加载库：/System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO 引用自：/Applications/MyApp.app/Contents/MacOS/../Frameworks/QtGui.framework/Versions/4/QtGui
> 
> ...类似的 QtWebKit、QtNetwork 问题等...

还有一些棘手的问题是一些系统库中缺少符号，例如 libobjc.A.dylib、libSystem.B.dylib、libc++abi.dylib、libc++.1.dylib 等：

> Dyld 错误消息：找不到符号：__dispatch_queue_attr_concurrent 引用自：/tmp/MyApp.app/Contents/MacOS/../Frameworks/libobjc.A.dylib 预期在：/usr/lib/libSystem.B.dylib 在 /tmp/ MyApp.app/Contents/MacOS/../Frameworks/libobjc.A.dylib

有人可以解释如何解决这个问题吗？使用 Qt 4.8.4 时是否可以针对 Mac OS X 10.6？也许，Qt 4.8.4 与 10.6 不完全兼容？我试图在 .pro 文件中设置 QMAKE_MACOSX_DEPLOYMENT_TARGET = 10.6，我使用 macdeployqt 只是将 MyApp.app 作为唯一参数传递。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T08:18:43.757

以我的经验，最好只在分区上安装 10.6 并在那里构建。我一直在针对 Qt 4.8.4 的 Mac OS 10.6 上构建并使用 macdeployqt，我的应用程序可以在 10.5 到 10.8 上顺利运行，没有任何问题

# mysql - mysql if() 和 max()

> ID：15354963
> 
> 赞同：0
> 
> 时间：2013-03-12T06:44:37.350
> 
> 标签：mysql, entity-attribute-value

我有一个名为`attproduct`：

有三列`id, attribute, values`。

我有`color`和列`brand`中的每个`id`和列`attribute`中的相应值`value`

```
SELECT id, MAX( IF( attribute =  'brand', value, NULL ) ) AS Brand,
       MAX( IF( attribute =  'color', value, NULL ) ) AS color
FROM fy.attproduct
GROUP BY id 
```

当我运行此查询时，我会在`id, brand, color`列中获得所需的输出。

我需要知道 max 在我的查询中的作用是什么，当我删除 max 时，我得到空值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T06:50:47.027

`group by id`会将 attproduct 中与给定 id 关联的所有行滚动到一个结果行中。如果您没有指定像 min 或 max 这样的聚合器，则会从源行中选择一个随机值作为结果（可能是第一个找到的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T06:52:02.683

`MAX()`正在组合与每个 id 关联的值。

```
SELECT id, IF( attribute =  'brand', value, NULL ) AS Brand, IF( attribute =  'color', value, NULL ) AS color
FROM fy.attproduct 
```

没有`GROUP BY`应该返回的行

```
ID  Brand      color
1   'mybrand'  NULL
1   NULL       'mycolor' 
```

不使用`MAX()`时，只会选择其中一行，因此至少有一列是`NULL`.

# java - 使用 Java 对 SQL Server 进行 Windows 身份验证

> ID：15354972
> 
> 赞同：0
> 
> 时间：2013-03-12T06:45:12.597
> 
> 标签：java, sql-server-2008-r2, windows-authentication, sqljdbc

跟进这个问题： [https ://stackoverflow.com/a/12304934/866785](https://stackoverflow.com/a/12304934/866785)

我还尝试使用**Java**使用**Windows 身份验证连接到****SQL Server 2008 R2**。

 ****我已将**PATH 变量**设置为包含

`C:\Program Files\Microsoft JDBC Driver 4.0 for SQL Server\sqljdbc_4.0\enu\auth\x64`

但我仍然得到错误：

`java.lang.UnsatisfiedLinkError: no sqljdbc_auth in java.library.path`

我正在使用**Netbeans IDE**，并且还尝试设置**-Djava.library.path** ="C:\Program Files\Microsoft JDBC Driver 4.0 for SQL Server\sqljdbc_4.0\enu\auth\x64"[如此问题](https://stackoverflow.com/questions/12798530/including-native-library-in-netbeans)中所述， 但没有利用。****

# c# - 声明中缺少部分现代

> ID：15354975
> 
> 赞同：2
> 
> 时间：2013-03-12T06:45:16.203
> 
> 标签：c#

当我尝试运行我的程序时，我该如何纠正我得到的错误，我在网上找到了这个程序，它似乎是在 Visual c# 2005 中编译的，我使用 Visual c# 2010 我在编译之前遇到了这两个错误

> 错误 2 'RecursiveSearchCS.Form1.components' 和 'RecursiveSearchCS.Form1.components' C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1\Form1.cs 之间的歧义 46 21 WindowsFormsApplication1
> 
> 错误 1 ​​以下方法或属性之间的调用不明确：“RecursiveSearchCS.Form1.InitializeComponent()”和“RecursiveSearchCS.Form1.InitializeComponent()”C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1\Form1。 CS
> 
> 32 13 WindowsFormsApplication1

当我尝试用错误编译它时，我得到了这个

> 错误 1 ​​声明类型“RecursiveSearchCS.Form1”时缺少部分修饰符；此类型的另一个部分声明存在 C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1t\Form1.cs 14 18 WindowsFormsApplication1t

我到底应该做什么？我的程序在目录中搜索文件文本文件，但似乎我得到了这个错误......这是代码`form1.cs`

```
using System;
using System.Drawing;
using System.Collections;
using System.ComponentModel;
using System.Windows.Forms;
using System.Data;
using System.IO;

namespace RecursiveSearchCS
{
    public class Form1 : System.Windows.Forms.Form
    {
        internal System.Windows.Forms.Button btnSearch;
        internal System.Windows.Forms.TextBox txtFile;
        internal System.Windows.Forms.Label lblFile;
        internal System.Windows.Forms.Label lblDirectory;
        internal System.Windows.Forms.ListBox lstFilesFound;
        internal System.Windows.Forms.ComboBox cboDirectory;
        private System.ComponentModel.Container components = null;

        public Form1()
        {
            InitializeComponent();
        }

        protected override void Dispose(bool disposing)
        {
            if (disposing)
            {
                if (components != null)
                {
                    components.Dispose();
                }
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code
        private void InitializeComponent()
        {
            this.btnSearch = new System.Windows.Forms.Button();
            this.txtFile = new System.Windows.Forms.TextBox();
            this.lblFile = new System.Windows.Forms.Label();
            this.lblDirectory = new System.Windows.Forms.Label();
            this.lstFilesFound = new System.Windows.Forms.ListBox();
            this.cboDirectory = new System.Windows.Forms.ComboBox();
            this.SuspendLayout();

            this.btnSearch.Location = new System.Drawing.Point(608, 248);
            this.btnSearch.Name = "btnSearch";
            this.btnSearch.TabIndex = 0;
            this.btnSearch.Text = "Search";
            this.btnSearch.Click += new System.EventHandler(this.btnSearch_Click);

            this.txtFile.Location = new System.Drawing.Point(8, 40);
            this.txtFile.Name = "txtFile";
            this.txtFile.Size = new System.Drawing.Size(120, 20);
            this.txtFile.TabIndex = 4;
            this.txtFile.Text = "*.dll";

            this.lblFile.Location = new System.Drawing.Point(8, 16);
            this.lblFile.Name = "lblFile";
            this.lblFile.Size = new System.Drawing.Size(144, 16);
            this.lblFile.TabIndex = 5;
            this.lblFile.Text = "Search for files containing:";

            this.lblDirectory.Location = new System.Drawing.Point(8, 96);
            this.lblDirectory.Name = "lblDirectory";
            this.lblDirectory.Size = new System.Drawing.Size(120, 23);
            this.lblDirectory.TabIndex = 3;
            this.lblDirectory.Text = "Look In:";
            // 
            // lstFilesFound
            // 
            this.lstFilesFound.Location = new System.Drawing.Point(152, 8);
            this.lstFilesFound.Name = "lstFilesFound";
            this.lstFilesFound.Size = new System.Drawing.Size(528, 225);
            this.lstFilesFound.TabIndex = 1;

            this.cboDirectory.DropDownWidth = 112;
            this.cboDirectory.Location = new System.Drawing.Point(8, 128);
            this.cboDirectory.Name = "cboDirectory";
            this.cboDirectory.Size = new System.Drawing.Size(120, 21);
            this.cboDirectory.TabIndex = 2;
            this.cboDirectory.Text = "ComboBox1";

            this.AutoScaleBaseSize = new System.Drawing.Size(5, 13);
            this.ClientSize = new System.Drawing.Size(688, 277);
            this.Controls.AddRange(new System.Windows.Forms.Control[] {

            this.btnSearch,
            this.txtFile,
            this.lblFile,
            this.lblDirectory,
            this.lstFilesFound,
            this.cboDirectory});

            this.Name = "Form1";
            this.Text = "Form1";
            this.Load += new System.EventHandler(this.Form1_Load);
            this.ResumeLayout(false);

        }
        #endregion

        [STAThread]
        static void Main()
        {
            Application.Run(new Form1());
        }

        private void btnSearch_Click(object sender, System.EventArgs e)
        {
            lstFilesFound.Items.Clear();
            txtFile.Enabled = false;
            cboDirectory.Enabled = false;
            btnSearch.Text = "Searching...";
            this.Cursor = Cursors.WaitCursor;
            Application.DoEvents();
            DirSearch(cboDirectory.Text);
            btnSearch.Text = "Search";
            this.Cursor = Cursors.Default;
            txtFile.Enabled = true;
            cboDirectory.Enabled = true;
        }

        private void Form1_Load(object sender, System.EventArgs e)
        {
            cboDirectory.Items.Clear();
            foreach (string s in Directory.GetLogicalDrives())
            {
                cboDirectory.Items.Add(s);
            }
            cboDirectory.Text = "C:\\";
        }

        void DirSearch(string sDir)
        {
            try
            {
                foreach (string d in Directory.GetDirectories(sDir))
                {
                    foreach (string f in Directory.GetFiles(d, txtFile.Text))
                    {
                        lstFilesFound.Items.Add(f);
                    }
                    DirSearch(d);
                }
            }
            catch (System.Exception excpt)
            {
                Console.WriteLine(excpt.Message);
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:53:28.900

您给出的代码实际上编译得很好。

但是，查看错误，您似乎有两个副本：

```
C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1\Form1.cs

C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1t\Form1.cs 
```

请注意第二个目录名称末尾的“t”。

摆脱这些副本之一，它应该没问题。（你应该可以在 Visual Studio 中删除它——我怀疑你可以看到这两个`Form1.cs`文件......）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T06:47:24.430

使用关键字扩展您的`class`声明：`partial`

```
public partial class Form1 : System.Windows.Forms.Form 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-12T06:48:06.743

尝试使用[`partial`](http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx)关键字 like;

```
public partial class Form1 : System.Windows.Forms.Form 
```

**编辑**：看起来你有这个项目的两个副本；

> C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1\Form1.cs

和

> C:\Users\jacr\AppData\Local\Temporary Projects\WindowsFormsApplication1t\Form1.cs

只需摆脱其中一个项目，因为您在同一个问题中询问它们。大概这就是原因。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-12T06:56:59.727

正如大多数人已经告诉你的那样，你需要`partial`在你的类声明中使用 -keyword。

```
public partial class Form1 : System.Windows.Forms.Form 
```

当您使用 Windows 表单时，Visal Studio 会将您的表单拆分为多个文件（MyForm.cs 用于您的代码，MyForm.Designer.cs 用于您的 UI 元素的自动生成代码，有时还有一个资源文件）。由于该类被拆分为多个文件，因此`partial`需要 -keyword 来告诉编译器在最终确定该类之前继续查找更多文件。

关于 -keyword 的更多信息`partial`可以在这里找到：http: [//msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/wa80x488%28v=vs.80%29.aspx)

# android - 函数中的错误

> ID：15354980
> 
> 赞同：2
> 
> 时间：2013-03-12T06:45:35.803
> 
> 标签：android

我执行功能，遍历行光标这些行并尝试添加到数组中，获取语句的自定义错误 `arr_date[i]=String.valueOf(str);`

```
private String[] logCursor(Cursor c) {
    // TODO Auto-generated method stub
    final String Tag="States";
    String[] arr_date  = new String[] {};

    if (c!=null) {
        if (c.moveToFirst()) {

            String str;
            int i=-1;
            do {

                str="";
                i=i+1;
                for (String cn: c.getColumnNames()) {
                    str = str.concat(c.getString(c.getColumnIndex(cn)));
                }
                Log.d(Tag, str);
                arr_date[i]=String.valueOf(str);
            } while (c.moveToNext());

        }
    }

    return arr_date;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:47:50.537

```
String[] arr_date  = new String[] {}; 
```

您正在分配一个空数组。然后使用

```
arr_date[i]=String.valueOf(str); 
```

向其写入数据，这会导致异常。[ArrayList](http://developer.android.com/reference/java/util/ArrayList.html)会更好地匹配您的情况。

# ios - 在 UITableView 中使用多个（不同的）单元格

> ID：15354986
> 
> 赞同：0
> 
> 时间：2013-03-12T06:46:00.220
> 
> 标签：ios

我正在尝试实现一个 tableView 设置，我在其中一个接一个地显示具有不同内容的多个单元格。我正在使用的代码是

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *simpleTableIdentifier = @"ScribbleCell";
    static NSString *simpleTableIdentifier2 = @"ScribbleCell2";
    static NSString *simpleTableIdentifier3 = @"ScribbleCell3";
    UITableViewCell *cell = nil;
    //UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];
    self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone; // or you have the previous 'None' style...
    self.tableView.separatorColor = [UIColor clearColor];

    if (indexPath.row % 3 == 0) {
        // this is a content cell
        cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];

        if (cell == nil){
            cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:simpleTableIdentifier];
        }

        // get the model index
        NSInteger indexInModel = indexPath.row / 3;

        NSDictionary *scribble = [scribbles objectAtIndex:indexInModel];
        cell.textLabel.text = scribbles[@"name"];
    }
    else if(indexPath.row % 2 == 0) {
        // red color
        cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier2];

        if(cell == nil)
        {
            cell = [[[NSBundle mainBundle] loadNibNamed:@"ScribbleCell2" owner:self options:nil] objectAtIndex:0];
        }
    }else{
        // green color
        cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier3];

        if(cell == nil)
        {
            cell = [[[NSBundle mainBundle] loadNibNamed:@"ScribbleCell3" owner:self options:nil] objectAtIndex:0];
        }
    }

    return cell;
} 
```

理想的顺序应该是，名称然后是红色，然后是绿色，但似乎并非如此。当我向下滚动时，顺序似乎是随机的并且会发生变化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:53:44.560

你应该试试这个

```
if (indexPath.row % 3 == 0) {
    // first cell code
}
else if (indexPath.row % 3 == 1) {
    // second cell code
}
else {
    // third cell code
} 
```

编辑 5 个不同的单元格：

```
if (indexPath.row % 5 == 0) {
    // first cell code
}
else if (indexPath.row % 5 == 1) {
    // second cell code
}
else if (indexPath.row % 5 == 2) {
    // third cell code
}
else if (indexPath.row % 5 == 3) {
    // fourth cell code
}
else {
    // fifth cell code
} 
```

此外，您需要确保每条记录有 5 个单元格，为此您需要告诉 UITableView 您有 CellsCount = N Records X 5 Cells per record 请参阅以下代码段。

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
     return [myRecords count] * 5;
} 
```

# node.js - 在nodejs中同步运行一个进程

> ID：15354990
> 
> 赞同：0
> 
> 时间：2013-03-12T06:46:19.580
> 
> 标签：node.js, synchronization, child-process

我试图打 2 个网络服务并得到他们的回应。Web 服务应该并行处理，而不是 Node.js 异步执行。`childprocess.spawn`也表现异步。任何关于如何从相同的 Node.js 代码中并行访问两个 Web 服务的想法都会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T07:16:17.360

就像 robertklep 建议的异步是要走的路

# 并行 Web 请求

```
/**
* Fetches both goole and yahoo at the same time, but waits until both 
* are done before returning
**/
var async = require('async')
var request = require('request')
var inspect = require('eyespect').inspector()
doParallel(function (err) {
  if (err) {
    inspect(err, 'error running parallel tasks')
  }
  inspect('********************************************************************')
  inspect('done with parallel tasks')
})
function doParallel(callback) {
  async.parallel([
    // fetch google.com
    function (cb) {
      var url = 'http://www.google.com'
      request(url, function (err, res, body) {
        if (err) {
          return cb({
            message: 'error getting google.com',
            url: url,
            error: err
          })
        }
        inspect(res.statusCode, 'google response status code')
        inspect(body, 'google response body')
        cb()
      })
    },

    function (cb) {
      var url = 'http://www.yahoo.com'
      request(url, function (err, res, body) {
        if (err) {
          return cb({
            message: 'error getting google.com',
            url: url,
            error: err
          })
        }
        inspect(res.statusCode, 'yahoo response status code')
        inspect(body, 'yahoo response body')
        cb()
      })
    }
  ], callback)
} 
```

# 系列网络请求

```
var async = require('async')
var request = require('request')
var inspect = require('eyespect').inspector()
doSeries(function (err) {
  if (err) {
    inspect(err, 'error running parallel tasks')
  }
  inspect('********************************************************************')
  inspect('done with parallel tasks')
})
/**
 * Fetch google first, wait for it to finish, and then fetch yahoo
 **/
function doSeries(callback) {
  async.series([
    // fetch google.com
    function (cb) {
      var url = 'http://www.google.com'
      request(url, function (err, res, body) {
        if (err) {
          return cb({
            message: 'error getting google.com',
            url: url,
            error: err
          })
        }
        inspect(res.statusCode, 'google response status code')
        inspect(body, 'google response body')
        cb()
      })
    },

    function (cb) {
      var url = 'http://www.yahoo.com'
      request(url, function (err, res, body) {
        if (err) {
          return cb({
            message: 'error getting google.com',
            url: url,
            error: err
          })
        }
        inspect(res.statusCode, 'yahoo response status code')
        inspect(body, 'yahoo response body')
        cb()
      })
    }
  ], callback)
} 
```

# java - 使用 HttpSession 作为键无法从 HashMap 中检索值

> ID：15354992
> 
> 赞同：0
> 
> 时间：2013-03-12T06:46:29.323
> 
> 标签：java, hashmap, httpsession

我有一个 HashMap，我将 HttpSession 对象作为键和 HashSet 作为值

```
HashMap<HttpSession, HashSet<String>> map = new HashMap<HttpSession, HashSet<String>>(); 
```

我有一个 HttpSession 侦听器，我需要在其中检查 Map 中是否存在天气会话对象

```
public void sessionDestroyed(HttpSessionEvent se) {
    HashMap<HttpSession, HashSet<String>> map = //Get map object
    HttpSession session = se.getSession();
    if(map.containsKey(session)){
        //TODO Code goes here
    }
} 
```

IF 条件始终返回 false，即使映射中存在会话对象（手动检查映射条目）。我卡住了！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T06:48:39.800

如果在先前的请求中将该值放入映射中，则`HttpSession`您现在拥有的对象不一定与映射中存在的对象相同（即使它们代表相同的会话）。同一会话的两个表示不需要（AFAIK）是`equals`或具有相同的`hashCode`，这将破坏地图。

您可以尝试使用该[`session.getId()`](http://docs.oracle.com/javaee/5/api/javax/servlet/http/HttpSession.html#getId%28%29)值作为键。

# ios - 了解特定 iOS 应用版本的用户

> ID：15354996
> 
> 赞同：0
> 
> 时间：2013-03-12T06:46:44.603
> 
> 标签：ios

有没有办法知道仍在使用特定 ios 应用程序版本的用户数量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T06:49:45.107

您可以创建一个接受用户设备的 UDID 以及应用程序版本的网络服务。您可以从中获取报告。

有关用户应用程序的更多报告，您可以将 Flurry 分析集成到您的应用程序中。