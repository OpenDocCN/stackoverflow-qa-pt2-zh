# StackOverflow 问答 12506000-12506999

# iphone - 通过 AsyncUDPSocket 发送时崩溃

> ID：12506002
> 
> 赞同：0
> 
> 时间：2012-09-20T04:18:41.450
> 
> 标签：iphone, objective-c, udp, asyncsocket

我正在尝试通过 UDP 广播。我包含了 CFNetworking 框架并将 AsyncUDPSocket 添加到我的项目中。

```
#import "AsyncUdpSocket.h" 
```

然后我创建了一个套接字：

```
 broadcastSocket = [[AsyncUdpSocket alloc] initWithDelegate:self]; 
```

我发送数据为：

```
[self.broadcastSocket enableBroadcast:YES error:&error];
[self.broadcastSocket sendData:[@"hello" dataUsingEncoding:NSASCIIStringEncoding] toHost:@"255.255.255.255" port:5538 withTimeout:10 tag:1]; 
```

但是当我发送数据时，AsyncUdpSocket 崩溃并出现 EXC_BAD_ACCESS

```
- (CFSocketRef)socketForPacket:(AsyncSendPacket *)packet 
```

具体在

```
return ([packet->address length] == sizeof(struct sockaddr_in)) ? theSocket4 : theSocket6; 
```

或者它有时也会崩溃：

```
- (void)doSend:(CFSocketRef)theSocket 
```

在

```
const void *buf  = [theCurrentSend->buffer bytes]; 
```

我制作插座的方式有问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T01:17:48.017

啊，我现在明白了。我更新到最新版本的 AsyncUDPSocket，它需要 ARC。有一个警告，它发出的问题没有在我的调试器中弹出，这是另一个问题。但是，当查看源代码时，它在第 11 行。Doh！

添加了 ARC 标志 (-fobjc-arc) 并且运行良好！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T16:53:41.223

您创建了套接字，但是您创建了`packet`吗？

# c# - c#以不同的用户身份运行控制台应用程序...模拟

> ID：12506003
> 
> 赞同：0
> 
> 时间：2012-09-20T04:18:46.100
> 
> 标签：c#, .net, web-services, web-applications, impersonation

> **可能重复：**
> [Process.Start() 模拟问题](https://stackoverflow.com/questions/3936456/process-start-impersonation-problem)

我正在尝试以 c# 中的其他用户身份运行控制台应用程序，但我遇到了麻烦。这是我的代码的一部分：

```
public void encryptPGP(string fileName)
{
    string sCommandLine = "" +
                "--recipient \"User Name <username@domain.com>\" --encrypt \"" + fileName + "\"";

    System.Diagnostics.Process.Start("C:\\Utilities\\GnuPG\\App\\gpg.exe", sCommandLine);
} 
```

...我需要让某个用户运行 C:\Utilities\GnuPG\App\gpg.exe。我将如何添加它？

这将在 Web 应用程序中使用。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:42:51.577

您可以使用`System.Diagnostics.ProcessStartInfo`该类来提供要在其下启动该过程的用户凭据。请参阅下面的示例代码：

```
string userPwd = "secretPassword";
System.Security.SecureString pwd = new System.Security.SecureString();
foreach (char c in userPwd.ToCharArray())
{
    pwd.AppendChar(c);
}

System.Diagnostics.ProcessStartInfo inf = new System.Diagnostics.ProcessStartInfo();
inf.FileName="path to file";
inf.Domain = "domainname";
inf.UserName = "desired_user_name";
inf.Password = pwd;

System.Diagnostics.Process.Start(inf); 
```

我个人还没有测试过这个解决方案，但它应该可以在 framework 2.0 之后工作。

希望它可以帮助你。

# java - Java/Scala：了解 Play 框架自定义标签或助手

> ID：12506006
> 
> 赞同：1
> 
> 时间：2012-09-20T04:19:12.073
> 
> 标签：java, scala, playframework-2.0

几天来，我一直在使用 Play 2.0 框架作为我工作中的概念验证应用程序。我想检查的第一件事是自定义标记功能，因为它让我想起了 ASP.Net MVC 中的 HtmlHelpers。问题是我似乎无法让它们工作，并且想知道我是否在滥用该功能或​​误解了某些东西。

这是我想做的一个简单示例：我希望能够在模板中的任何位置使用 @script("scriptname.js") 并用它替换整个标签。

这是我到目前为止得到的：

main.scala.html

```
@(title: String, scripts: Html = Html(""))(content: Html)
@import tags._

<!DOCTYPE html>
<html>
    <head>
        <!-- this is how I would like to use the helper/tag -->
        @script("jquery.js")
        @script("jquery-ui.js")

        <!-- let views add their own scripts. this part is working OK -->
        @scripts
    </head>
    <body>
        @content
    </body>    
</html> 
```

我在 app/views 目录下创建了一个名为“tags”的子目录。在那里我创建了我的 script.scala.html 标签/帮助文件：

```
@(name: String) 

<script src="@routes.Assets.at("javascripts/@name")" type="text/javascript"></script> 
```

我遇到的问题是，每当我使用 @script() 时，输出中都会包含 @name 参数。例如 @script("x.js") 实际输出

```
<script src="assets/javascripts/@name" type="text/javascript"></script> 
```

我究竟做错了什么？

作为记录，我确实阅读了文档并在这里搜索，但这些链接都没有帮助我解决这个问题：

[http://www.playframework.org/documentation/2.0.3/JavaTemplateUseCases](http://www.playframework.org/documentation/2.0.3/JavaTemplateUseCases)

[如何使用 Play 2.0 定义标签？](https://stackoverflow.com/questions/7914430/how-to-define-a-tag-with-play-2-0)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:18:31.787

`@routes.Assets.at(...)`计算 Scala 表达式`routes.Assets.at(...)`并将结果替换为您的输出。没有递归评估可以让您以文本方式评估表达式以获得该表达式，这似乎是您所期望的。

你打算做的是使用

```
@routes.Assets.at("javascripts/" + name) 
```

# linux - 在 Linux 中将连接的文件与原始文件分离

> ID：12506014
> 
> 赞同：-1
> 
> 时间：2012-09-20T04:20:16.117
> 
> 标签：linux, unix

我知道要在 Linux 中附加或加入多个文件，我们可以使用命令：`cat file1 >> file2`. 但是加入他们后我找不到任何可以分开的命令`file1`。`file2`换句话说，我既想要原始`file1`又想要`file2`回来。我尝试使用该`split`命令，但它只是将一个文件分解为多个相同大小的文件。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:24:12.350

没有这样的命令，因为没有保留有关 file1 或 file2 的信息。新的组合文件只是一个数据流。

为了“拆分”它们备份，您需要有关如何执行此操作的规则（例如，file1 和 file2 有多少字节）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T04:25:49.437

当您执行连接时，系统不会跟踪生成的文件是如何创建的。因此它无法记住原始拆分在该文件中的位置。你能解释一下你想要做什么吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-02T01:05:58.540

没问题，只要你还有file1：

```
$ echo foobar >file1
$ echo blah >file2
$ cat file1 >> file2
$ truncate -s $(( $(stat -c '%s' file2) - $(stat -c '%s' file1) )) file2
$ cat file2
blah 
```

此外，`stat -c '%s' filename`您可以使用`wc -c filename | cut -f 1 -d ' '`更长但更便携的 .

# c++ - 如何将元素附加到链表的末尾？

> ID：12506022
> 
> 赞同：3
> 
> 时间：2012-09-20T04:21:38.950
> 
> 标签：c++, list, linked-list, append, element

我试过寻找答案，但似乎找不到任何与我匹配的东西。我正在为学校做一个模板链接列表，我得到了一个错误的世界。但我现在只想要一个帮助。我应该将一个元素附加到链表的末尾，但我们得到：

```
append(ListNode) 
```

起初，我想：“好吧，创建一个新节点，然后在后面插入……”但我读了一遍，我必须创建另一个函数，将两个链表连接在一起。所以我想我必须在链接列表中附加一个已经制作的元素。这样，当我进行连接时，我可以使用我的附加来附加两者。或者至少……这只是我的想法……

所以一开始，我做了：

```
template<typename NODETYPE> 
bool List<NODETYPE>::append(NODETYPE &value)
{
    ListNode<NODETYPE> *newPtr = getNewNode(value); //creates new node

    if(isEmpty()) //checks if list is empty
    {
        firstPtr = lastPtr = newPtr;
        return true;
    }
    else //inserts new node at end of list
    {
        ListNode<NODETYPE> *tempPtr = lastPtr;

        tempPtr->nextPtr=newPtr;
        lastPtr = newPtr;
        return true;
    }
} 
```

但由于这只附加了一个新节点，我不能使用它。有没有办法附加已经制作的节点？例如：将另一个链表附加到前一个链表？

我的 concat（与我搜索过的其他人不同）只使用一个链表。前面的链表对象调用函数，然后附加一个链表

```
concat(&List) 
```

所以我都很困惑。任何帮助表示赞赏，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:31:02.393

首先，您需要更改 append 方法的签名，以便将其传递给 a`ListNode*`并附加它，无论它是单个节点还是整个链表。之后，您的代码应如下所示：

```
template<typename NODETYPE> 
bool List<NODETYPE>::append(ListNode<NODETYPE>* newPtr)
{
    //ListNode<NODETYPE> *newPtr = getNewNode(value); //creates new node

    if(isEmpty()) //checks if list is empty
    {
        firstPtr = lastPtr = newPtr;
        return true;
    }
    else //inserts new node at end of list
    {
        ListNode<NODETYPE> *tempPtr = lastPtr;

        tempPtr->nextPtr=newPtr;
        lastPtr = newPtr;
        while(lastPtr->nextPtr != NULL)
            lastPtr = lastPtr->nextPtr;
        return true;
    }
} 
```

我还没有编译它，所以可能会有一些错误，但你明白了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:26:15.000

连接列表的确切步骤取决于特定的实现细节。最简单的情况是单链表，在这种情况下，您只需将第二个头链接到旧的尾。如果你有一个尾指针，记得更新它。对于双向链表，您还必须将第二个头部链接回旧尾部。如果您使用的是前哨节点，请记住也要注意这一点。

编辑：忽略这一点，我很困惑，并认为您可能正在尝试使用标准列表。

在 C++ 中，`std::list`是一个带有标记节点的双向链表，这使得连接变得不平凡。此外，无论如何，您都不应该弄乱内部结构。如果你想使用标准容器，你需要遵守它的公共 API，否则会发生 Bad Stuff。幸运的是，我确信有一个用于连接的库函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T04:28:24.117

要将 list2 连接到一个列表 list1 ，您必须将 list2 的头部附加到 list1 的最后一个节点并更新 lastPtr，如下所示：

```
//apart from checking for basic sanity like empty list and things 
// suppose argument passed is ListNode list2
        ListNode<NODETYPE> *tempPtr = lastPtr;

        tempPtr->nextPtr=list2;
        tempPtr = list2;
        while(tempPtr->next != NULL) {
              tempPtr = tempPtr->next;
        }
         lastPtr = tempPtr;

        return true; 
```

# linux - 防止进程更改其进程组 ID (`setpgid`)

> ID：12506023
> 
> 赞同：4
> 
> 时间：2012-09-20T04:21:59.910
> 
> 标签：linux, unix, capability, apparmor

Linux 中是否有任何方法可以防止进程修改其进程组 ID，即通过调用`setpgid`？我需要这样做，因为我正在创建一个沙箱，并且我希望能够在 n 秒后杀死一个进程及其所有子进程。我正在从进程组 ID 中识别子代，因此我需要确保无法更改此值。

有一些东西被调用`CAP_SETGID`，但我认为这是指进程的用户组 ID，即设置的内容与`setgid`哪些不同`setpgid`？

# ios - NSAssert 的处理方式是否应该作为错误提出

> ID：12506028
> 
> 赞同：0
> 
> 时间：2012-09-20T04:22:33.387
> 
> 标签：ios, xcode, macos, macros

我有几次被抓到把函数代码放在 NSAssert 或 NSParameter 断言中，比如

```
NSParameterAssert( [self doSomeWork] ); 
```

这样做的问题是，当您进行发布构建时，不仅会在测试失败时中止的代码从代码中省略，而且我在 () 中的代码也被省略了。

显然这个修复很简单，但对我来说这似乎仍然是错误的，代码的逻辑在测试构建和发布构建之间发生了变化。

我应该说清楚，我只在断言失败是程序员错误的情况下使用这种模式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T16:05:49.623

就个人而言，我更喜欢 AssertMacros，它保证代码将被执行，但不使用断言。

[http://www.opensource.apple.com/source/xnu/xnu-1456.1.26/EXTERNAL_HEADERS/AssertMacros.h](http://www.opensource.apple.com/source/xnu/xnu-1456.1.26/EXTERNAL_HEADERS/AssertMacros.h)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T13:33:33.843

我同时使用了 assert 和 NSAssert，因此定义了适当的值以在分发构建中禁用它们（我通常也使用配置 ReleaseWithAsserts 来获得启用断言的优化代码，因此测试尽可能接近实际的分布式代码）。

我要做的是（如果你想要 NDEBUG 用于 assert()，你可以使用另一个定义）：

```
#ifndef NDEBUG
BOOL didWorkSucceed = 
#endif
[self doSomeWork]; // returns a BOOL if succeeds

assert(didWorkSucceed); 
```

您也可以将定义用于各种东西 - 日志记录等。大多数情况下，我会在 Distribution 中测试返回代码，如果失败则返回 nil 对象而不是忽略它。

# ios - 在 iOS 平台上处理图像

> ID：12506038
> 
> 赞同：0
> 
> 时间：2012-09-20T04:24:12.133
> 
> 标签：ios, image

**信息：**
我想对图像做一些任务，例如调整大小、裁剪、旋转等。
我希望它们可以成为对象，以便我可以轻松地一一操作。在开发过程中，我们可以同时运行多个图像来进行工作，这有点像游戏编程。
我看到有几样东西可以与 XCode 一起选择：
- Cocoa（默认？）
- Quartz2D
- OpenGL（ES 2.0？）
- Cocos2D/Box2D
我是移动开发和 iOS 的新手。

**问题：**
- 因为我只能选择一个开始，我应该选择哪个？还是有任何其他库/框架？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T04:38:18.697

我在游戏中使用了 Cocos2d [Cocos2d](http://www.cocos2d-iphone.org/)，它很容易在屏幕上拾取和操作图像。由于它是建立在 OpenGL 之上的，因此它使您远离了具体细节。但它也可能对您的需求有点沉重。

因此，如果您可以在 Cocoa 中做您需要的事情，那么请使用它，但如果您需要更多，请查看 Cocos2d。

# backbone.js - 骨干历史

> ID：12506041
> 
> 赞同：2
> 
> 时间：2012-09-20T04:25:19.437
> 
> 标签：backbone.js, history, router

有没有办法从主干历史中删除特定片段？这是一个用例：

我有一个登录视图，一旦用户成功登录，该视图就不需要保留在历史记录中，因为成功登录后返回登录页面是没有意义的。但是，如果用户首先导航到登录页面，我仍然需要历史记录中的登录视图，没有登录而是从登录页面导航到另一个页面（比如密码重置页面）。如果用户不小心点击了密码重置链接并在那里导航，点击后退按钮应该会让用户回到登录页面。

有没有机会用骨干做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T00:11:33.757

回答您的问题：是的，有一种方法可以解决这个问题，您只需在您在应用程序中设置的所需路由器中实现它。

例如，如果您想：

1.  登录后在第一页开始历史记录
2.  在密码重置页面（或任何其他门控页面）上启动历史记录

执行以下操作（此代码段应放置在您的路由器中，在初始化函数中）：

```
initialize: function(options) {
  this.route("pageId", "login", function(number){
      //Call to Backbone.history.start() wether or not you want the history to start on this page
      //E.g. don't call it on the index route, just in /reset-password and so on.
});
}, 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-01T20:35:50.523

试试这个：在登录操作中使用它来重定向：

```
Backbone.history.navigate('/destination/page', {replace: true, trigger: true}); 
```

# android - 如何在 onCreate() 之前在静态字符串上使用 getString()？

> ID：12506045
> 
> 赞同：19
> 
> 时间：2012-09-20T04:25:29.807
> 
> 标签：android, string, static, android-resources

我正在尝试在`getString()`创建活动之前从资源中获取字符串以将其分配给字符串数组：

```
private static final String[] MenuNames = {
    Resources.getSystem().getString(R.string.LCMeterMenu),
    Resources.getSystem().getString(R.string.FrecMenu),
    Resources.getSystem().getString(R.string.LogicAnalyzerMenu),
    "Prueba con achartengine",
    Resources.getSystem().getString(R.string.BrazoMenu)
}; 
```

当我使用`Resources.getSystem().getString(R.string.LCMeterMenu)`时，Eclipse 不会抱怨，但在运行时出现错误：

> 原因：android.content.res.Resources$NotFoundException：字符串资源 ID #0x7f0a000a

但如果我把里面`onCreate()`：

```
Log.i("StringR", "String: " + getString(R.string.LCMeterMenu)); 
```

我得到了字符串，但我无法将它分配给我之前定义的最终字符串。如果我只`getString()`在`onCreate()`收到静态错误消息之前使用。以前如何将资源`onCreate()`用于全局变量？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-20T06:48:35.413

您不能`static final`从资源中初始化字段；该字段需要在初始化类时初始化，并且在运行时绑定应用程序资源之前发生。（顺便说一句，您无法使用的原因`Resources.getSystem()`是您通过这种方式获得的`Resources`对象仅包含系统资源，而不包含任何应用程序资源。）

如果在绑定应用程序资源之前需要这些字符串可用，唯一可行的做法是将字符串直接放入代码中。但是，“Android 方式”是组织您的代码，因此初始化只需要在 期间（或之后）进行`onCreate()`。只需在其中初始化字符串数组，`onCreate()`不必担心将字段设为静态或最终字段。

如果您不希望字符串数组与特定活动相关联，那么您可以从应用程序类方法`Application`内的资源中子类化并读取该数组。`onCreate()`（您还需要在清单中声明您的自定义应用程序类。）但是，[文档](http://developer.android.com/reference/android/app/Application.html)建议不要使用这种方法。（由于数组是私有的，我怀疑它无论如何都与单个活动密切相关，因此`Application`似乎没有必要使用子类。）

另一种方法是为您的数组声明一个单例类。然后，单例访问器函数需要 a`Context`以便在必要时检索资源：

```
public class StringArray {
    private static String[] theArray;
    public static String[] getArray(Context context) {
        if (theArray == null) {
            theArray = context.getResources().getStringArray(R.array.my_strings);
        }
        return theArray;
    }
} 
```

（这假设字符串数据是`<string-array>`在他的回答中建议的@JaiSoni 之类的资源中定义的。）再一次，不能声明成员字段`final`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-20T04:33:37.580

不，您不能使用 Resources before `onCreate()`。`onCreate()`您可以通过使用`getResources()`可以获取所有字符串的位置来获取资源的实例。此外，字符串已经通过在`strings.xml`.

用于访问资源的伪代码，

```
Resources res = getResources();
String app_name = res.getString(R.string.app_name); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-07-22T15:46:04.737

另一种方法可能是使用资源标识符初始化静态数组（与资源本身相反，这些标识符已经可用）。

```
private static final int[] MenuNames = {
    R.string.LCMeterMenu,
    R.string.FrecMenu,
    ...
}; 
```

这样，您可以将资源的加载推迟到它们实际可用的时候：

```
String s = getResources().getString(MenuNames[i]); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-10-19T15:10:25.320

以下是`static final`从 XML 初始化 android 中的变量的工作方法，例如`strings.xml`.

1.  子类应用程序并提供“静态上下文”
2.  在清单中注册应用程序类
3.  使用静态上下文来初始化你的常量

**1.** `MyApplication.java`

```
public abstract class MyApplication extends Application {

    private static Context context;

    @Override
    public void onCreate() {
        super.onCreate();
        context = getApplicationContext();
    }

    /**
     * Returns a "static" application context. Don't try to create dialogs on
     * this, it's not gonna work!
     * 
     * @return
     */
    public static Context getContext() {
        return context;
    }
} 
```

**2.** `AndroidManifest.xml`

```
<application
    android:name=".android.application.MyApplication"
    <!-- ... -->
</application> 
```

**3.**您的应用程序代码，例如Activity

```
private static final String[] MenuNames = {
    getContext().getString(R.string.LCMeterMenu),
    getContext().getString(R.string.FrecMenu),
    getContext().getString(R.string.LogicAnalyzerMenu),
    "Prueba con achartengine",
    getContext().getString(R.string.BrazoMenu)
};
protected static Context getContext() {
    return MyApplication.getContext();
} 
```

有关工作示例，请参阅[`AbstractApplication`](https://github.com/schnatterer/nusic/blob/da377cb2f7e151e4ae63da2fbc82d2f2686676b5/Nusic/src/info/schnatterer/nusic/android/application/AbstractApplication.java)和[`PreferencesServiceSharedPreferences`](https://github.com/schnatterer/nusic/blob/b119370925e6bfbaace580f3335ed876b2f9111d/Nusic/src/info/schnatterer/nusic/logic/impl/PreferencesServiceSharedPreferences.java)。

请注意，这种方法也有其缺点：

*   除了反对“Android方式”（正如@Ted Hopp在[他的回答](https://stackoverflow.com/a/12507330/1845976)中建议的那样），
*   它使测试有点困难。这就是为什么调用`MyApplication.getContext()`被包装在另一个方法中的原因。由于它是一个静态方法，因此在测试代码中覆盖它并不简单。但是您可以为此目的使用[Powermock等框架。](https://code.google.com/p/powermock/)
*   另外它有点容易出现`NullPointerException`s。一旦上下文`null`出现（例如在您的测试代码中），应用程序代码就会崩溃。克服这个问题的一种选择是在构造函数中进行初始化，您可以在其中对`getContext()`返回做出反应`null`（参见[示例](https://github.com/schnatterer/nusic/blob/afc4496a6a0670ac6fbd2615074f183044bb9758/Nusic/src/info/schnatterer/nusic/logic/impl/PreferencesServiceSharedPreferences.java)）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T04:34:55.140

无论您得到什么，`getString(int resId)`都将成为您的应用程序的常数。为什么必须将其保存在另一个`final static`变量中。您可以随时阅读它，对吗？

# jquery - 在 HTML 元素上动态添加鼠标悬停事件

> ID：12506047
> 
> 赞同：0
> 
> 时间：2012-09-20T04:25:54.520
> 
> 标签：jquery

我有一个这样的 HTML 元素：

```
<div id="new"></div> 
```

我想附加一个 onmouseover 函数来将文本附加到这个元素，如下所示：

```
<div id="new" onmouseover="show_pop()"></div> 
```

什么是 jQuery 函数呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:39:27.173

你要：

```
$('#new').mouseover(function() {show_popup();}); 
```

或者，如果您真的希望它实际将其添加到节点（您可能不这样做），那么类似：

```
$('#new').attr('onmouseover', 'show_popup()'); 
```

# sql - 使用 (+) 语法更改 IS NULL

> ID：12506048
> 
> 赞同：0
> 
> 时间：2012-09-20T04:26:03.900
> 
> 标签：sql, join, isnull

我有这个查询：

```
SELECT B.id, B.name, D.id, D.name FROM TBB B, TDD D
WHERE (D.id = B.id OR D.id IS NULL) 
```

从我的想法来看，`(D.id = B.id OR D.id IS NULL)`将显示在表 TBB 和 TDD 中都有 id 的记录，但也会显示所有`B.id`记录，即使两个表没有相同的 id 因为`D.id IS NULL`

那么，这是否与我上面的查询相同：

```
 SELECT B.id, B.name, D.id, D.name FROM TBB B, TDD D
    WHERE B.id = D.id (+) 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:52:16.693

第二个查询将返回 TBB 表中存在的所有行，TDD 表中不匹配的列将返回为 NULL。

如果 TDD 表有任何与 TBB 表 ID 不匹配的 ID，则上述两个查询不会返回该行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:51:24.070

我很确定您的顶级查询将导致 B 中的每条记录的笛卡尔连接，以获取由于`or`查询中的语句而具有 NULL 的记录。

基于此，您最好使用外部连接。

我还写了一篇冗长的问答，讨论了连接以及如何从您可能感兴趣的多个表中提取数据（[SQL 查询如何从多个表中返回数据](https://stackoverflow.com/questions/12475850/how-can-an-sql-query-return-data-from-multiple-tables)）它涵盖了联合、内连接和外连接以及子查询。它有*大量*的代码和输出结果，详细解释。（以至于我达到了答案长度限制，所以不得不发布第二个答案）

编辑：运行快速测试后，这是我想出的：

```
 mysql> select a.ID, a.Title, b.Name as Author
    from books a join authors b
    on a.authorID=b.ID or b.id=0;

    +----+----------------------+-------------------+
    | ID | Title                | Author            |
    +----+----------------------+-------------------+
    |  1 | Call of the Wild     | Fluffeh           |
    |  1 | Call of the Wild     | Jack London       |
    |  2 | Martin Eden          | Fluffeh           |
    |  2 | Martin Eden          | Jack London       |
    |  3 | Old Goriot           | Fluffeh           |
    |  3 | Old Goriot           | Honore de Balzac  |
    |  4 | Cousin Bette         | Fluffeh           |
    |  4 | Cousin Bette         | Honore de Balzac  |
    |  5 | Jew Suess            | Fluffeh           |
    |  5 | Jew Suess            | Lion Feuchtwanger |
    |  6 | Nana                 | Fluffeh           |
    |  6 | Nana                 | Emile Zola        |
    |  7 | The Belly of Paris   | Fluffeh           |
    |  7 | The Belly of Paris   | Emile Zola        |
    |  8 | In Cold blood        | Fluffeh           |
    |  8 | In Cold blood        | Truman Capote     |
    |  9 | Breakfast at Tiffany | Fluffeh           |
    |  9 | Breakfast at Tiffany | Truman Capote     |
    +----+----------------------+-------------------+
    18 rows in set (0.00 sec)

    mysql> select a.ID, a.Title, b.Name as Author
    from books a right outer join authors b
    on a.authorID=b.ID;
    +------+----------------------+-------------------+
    | ID   | Title                | Author            |
    +------+----------------------+-------------------+
    | NULL | NULL                 | Fluffeh           |
    |    1 | Call of the Wild     | Jack London       |
    |    2 | Martin Eden          | Jack London       |
    |    3 | Old Goriot           | Honore de Balzac  |
    |    4 | Cousin Bette         | Honore de Balzac  |
    |    5 | Jew Suess            | Lion Feuchtwanger |
    |    6 | Nana                 | Emile Zola        |
    |    7 | The Belly of Paris   | Emile Zola        |
    |    8 | In Cold blood        | Truman Capote     |
    |    9 | Breakfast at Tiffany | Truman Capote     |
    +------+----------------------+-------------------+
    10 rows in set (0.00 sec) 
```

这肯定与外部连接不同。正如我所想的那样（至少在 MySQL 中）第一个语句中的结果是笛卡尔，但不是在外部连接中。

# c# - 为什么事件处理程序之前总是有一个 + 号？

> ID：12506054
> 
> 赞同：1
> 
> 时间：2012-09-20T04:26:42.273
> 
> 标签：c#, event-handling

在 C# 中，我们像这样附加一个事件处理程序：

```
form1.Click += new EventHandler(form1_Click); 
```

“加号”的意义是什么？**我知道我们可以为一个控件附加许多事件处理程序，因此`+=`语法是有意义**的。但我想我也应该能够写这个：

```
form1.Click = new EventHandler(form1_Click); 
```

这样我就可以覆盖所有以前的处理程序并仅附加最后一个处理程序，但这不会编译。自然地，我认为`+=`运算符应该像字符串和整数一样工作。**强制** `+=`处理程序的设计原则是什么？**换句话说，为什么我不能只写`=`？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T04:31:05.140

事件处理程序在内部由一个委托数组表示，因此适用普通的`+=`&`-=`运算符。

但是，您可以使用直接分配的`=`，但只能在定义事件的类中使用，这将清除所有以前的事件处理程序，替换为您分配的事件处理程序。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T04:50:15.737

在[本文](http://msdn.microsoft.com/en-us/library/orm-9780596521066-01-17.aspx)中，请查看*发布和订阅*部分。

> 在 C# 中，任何对象都可以发布一组其他类可以订阅的事件。当发布类引发事件时，会通知所有订阅的类。

因此，您是订阅者，您不必担心影响已订阅者的列表。这是*出版商*的能力。

如果您说*这取决于程序员*，那么您可以开发您的“发布者”类，以便它们可以提供一些公共方法，让任何订阅者有机会重置某些事件订阅。在框架中，它被设计禁止。这也是某些程序员的决定。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-20T04:30:28.920

就像是

```
a += 2 
```

这意味着

```
a = a + 2 
```

如果我们这样做了

```
a = 2 
```

这将消除一个值并将其替换为 2。

相似地

```
form1.Click += new EventHandler(form1_Click); 
```

方法

```
form1.Click = form1.Click +  new EventHandler(form1_Click); 
```

意味着将我们的事件处理程序添加到 form1.click 之前所做的事情。

现在 form1.Click 会做它默认做的事情，也会做我们希望它在 form1_click 做的事情

如果我们写

```
form1.Click = new EventHandler(form1_Click); 
```

这将清除所有以前的事件处理程序并仅添加我们的`form1_Click`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-20T04:41:33.973

因为当您[`event`](http://msdn.microsoft.com/en-us/library/8627sbea%28v=vs.110%29.aspx)使用`event SomeHandler SomeEvent`语法定义 , 时，它默认为您定义[`add`and`remove`](http://msdn.microsoft.com/en-us/library/cc713648.aspx)。这里的要点是，您公开与 an 交互的*唯一*`event`方式是通过`add`and `remove`（分别由 和 访问`+=`）`-=`。该语言不允许“全部重置”操作，这就是`=`不允许的原因。

为了解决这个“设计选择”这个更潜在的问题......我想驱动力是一个多播模型的合同，订阅者可以自由添加和删除他们的订阅*。*`event`允许任何人取消订阅所有订阅者将违反该合同，并且只允许一个订阅者*不是*合同。

**附录：** 看起来您正在寻找的是直接公开委托的能力，如果您只依赖 .NET 的多播委托语法，就可以做到这一点。它看起来很像`event`语法，但允许使用 a 进行清除，`=`甚至足够聪明，可以理解`+=`a `null` `delegate`（见[输出](http://ideone.com/xdBG6)）：

```
public delegate void F(int x);

public static void Main()
{
    F f = null;
    f += x => System.Console.WriteLine("First: {0}", x);
    f += x => System.Console.WriteLine("Second: {0}", x);
    f(5);
} 
```

或者，您可以使用长格式`event`with your `add`/ `remove`hit an internal list 并提供一种允许清除该列表的方法。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-20T04:28:31.690

你可以没有，一个或很多，所以你添加一个（订阅）使用`+=`或以其他方式删除（取消订阅）对面`-=`

```
form1.Click += new EventHandler(form1_Click); 
// click here will execute form1_Click
form1.Click += new EventHandler(form1_Click2);
// click here will execute form1_Click1 AND form1_Click2
form1.Click -= new EventHandler(form1_Click1);
// click here will JUST execute form1_Click2 
```

现在，强制使用 += 将阻止开发人员自己动手。我的意思是，能够从任何其他类调用 form1.Click = ... 将使一个用户能够无意中清除其他附加的代表。这就是默认情况下强制执行它的原因。

# c++ - 如何正确扩展此宏？

> ID：12506058
> 
> 赞同：0
> 
> 时间：2012-09-20T04:27:39.173
> 
> 标签：c++, c, macros

当我定义这个宏时：

```
#define SQR(x) x*x 
```

让我们说这个表达式：

```
SQR(a+b) 
```

此表达式将被宏替换，如下所示：

```
a+b*a+b 
```

但是，如果我`++`在表达式之前放置一个运算符：

```
++SQR(a+b) 
```

现在的表情是什么样的？这是`++`放置在 SQR 参数的每个部分之前吗？像这样：

```
++a+b*++a+b 
```

这里我给出一个简单的程序：

```
#define SQR(x) x*x
int a, k = 3;
a = SQR(k+1) // 7
a = ++SQR(k+1) //9 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T04:31:30.690

在定义宏时，您基本上*总是*希望将宏参数放在括号中以防止在第一个示例中出现那种奇怪的行为，并将结果放在括号中，以便可以安全地使用它而不会产生副作用。使用

```
#define SQR(x) ((x)*(x)) 
```

使得`SQR(a+b)`展开到`((a+b)*(a+b))`在数学上是正确的（不像`a+b*a+b`，它等于 ab+a+b）。

在宏之前或之后放置东西不会进入宏。`++SQR(x)`在您的`++x*x`示例中也是如此。

请注意以下事项：

```
int a=3, b=1;
SQR(a+b) // ==> a+b*a+b = 3+1*3+1 = 7
++SQR(a+b) // ==> ++a+b*a+b ==> 4 + 1*4 + 1 = 9
           // since preincrement will affect the value of a before it is read. 
```

您会看到`++SQR(a+b)`似乎增加了 2，因为在`a`我读取任一时间之前预增量开始，即`a`递增，然后使用两次，因此结果比预期的高 2。

*注意*正如@JonathanLeffler 指出的那样，后一个调用会调用未定义的行为；评估不保证从左到右进行。它可能会在不同的编译器/操作系统上产生不同的结果，因此永远不应依赖它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T04:47:12.807

对于 C++，定义此宏的正确方法是不使用宏，而是使用：

```
template<typename T> static T SQR( T a ) { return a*a; } 
```

这将纠正一些宏出错的可怕情况：

例如：

```
SQR(++a); 
```

函数形式`++a`将被评估一次。在宏形式中，当您在序列点之间多次修改和读取值时，您会得到未定义的行为（至少对于 C++）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T04:36:30.543

宏定义只是替换代码，因此通常最好放在括号中，否则代码可能会以您不想要的方式替换。

因此，如果您将其定义为：

```
#define SQR(x) ((x)*(x)) 
```

然后

> ++SQR(a+b) = ++((a+b)*(a+b))

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T04:42:12.540

在您的示例中，`++SQR(a+b)`应扩展为`++a+b*a+b`. 因此，如果 a == 3 和 b == 1如果编译器从左到右评估它，
您将得到答案。`9`

但是您的陈述`++SQR(3+1)`是不正确的，因为它将被扩展为`++3+1*3+1`where`++3`无效。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T04:45:24.717

在您的预处理器中，它的计算结果为 ++a+b*a+b。正确的方法是在每个术语和整个事物周围加上括号，例如：

```
#define SQR(x)  ((x)*(x)) 
```

# c - linux C服务器客户端流文件

> ID：12506059
> 
> 赞同：0
> 
> 时间：2012-09-20T04:27:40.993
> 
> 标签：c, linux

我正在尝试将文件从客户端流式传输到服务器，但是从 FILE 到 char 的数据类型不兼容，因此每次运行客户端时都会出现分段错误。我不知道如何解决这个问题。附件是服务器和客户端的代码，下面是客户端的问题。我正在尝试从客户端读取文件到缓冲区将其发送到服务器，服务器将从缓冲区读取文件并将其写入文件。客户端 [http://pastebin.com/QtLbMgP3](http://pastebin.com/QtLbMgP3)

服务器端 [http://pastebin.com/8PNchBUZ](http://pastebin.com/8PNchBUZ)

```
// n = write(sock,"send me your message",18);
    printf("Please enter the message: ");
    bzero(buffer,256);
    fgets(buffer,255,stdin);
        ptr_myfile=fopen("test2.txt","w");

         for(counter=1;counter <=10;counter++){
             fwrite(&ptr_myfile,sizeof(*buffer),1,buffer);
             n = read(sockfd,buffer,255);
             n = write(sockfd,buffer,18);

             n = write(sockfd,buffer,strlen(buffer));
             if (n < 0) error("ERROR writing to socket");
             bzero(buffer,256);
             n = read(sockfd,buffer,255);
             if (n < 0) error("ERROR reading from socket");
             // printf("%s\n",buffer);
         };//close for loop
    close(sockfd);

    }// close event loop
    return 0;
}// close main function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:34:05.993

无需遍历所有代码，`read`, `write`,`close`系列 API（NOT `fopen`,`fread`等）具有整数描述符，而不是`FILE*`.

你不能`FILE*`和`int`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T04:40:57.077

在这里查看这一行：

```
fwrite(&ptr_myfile,sizeof(*buffer),1,buffer); 
```

这甚至是如何编译的？

这可能是正确的：

```
fwrite(buffer, 1, sizeof(buffer), ptr_myfile ); 
```

上面的行将从文件中读取*最多*256 个字节（缓冲区数组的大小）并将数据复制到*buffer*中。请注意，我传递的是 ptr_myfile，而不是 &ptr_myfile。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T04:47:24.390

检查您的 fwrite 语句，您是要写入文件还是从文件中读取缓冲区？

如果是前一种情况，则使用 fwrite(buffer, sizeof(buffer),1, ptr_myfile) ，即您要写入的流是最后一个变量。

如果是后者，那么您首先需要使用 fgets 或 getchar 或类似的函数从流中读取，然后才能将其实际放入缓冲区。

希望能帮助到你！

* * *

好的，在客户端读取文件并将其发送到服务器，

```
fp=fopen("<filename>", "r");
//This opens the file and initializes the pointer fp to the start of the file Start of
//the file, not its text necessarily 
```

现在您可以使用 fgetc() 函数 [Character by character] 或 fgets() 函数 [如果文本被格式化，您可以将整行读入缓冲区] 将文件读入缓冲区。

```
fgets(buffer,sizeof(buffer),fp);
//This could be ambiguous as the second argument should correspond to
//pre-known limit of bytes to read here some Macro maybe. 
```

现在，简单地使用 send() 将该缓冲区分派到服务器。

在服务器端，使用 recv() 将来自网络的输入数据接收到某个“缓冲区”中，并使用 fputs 或 fprintf 或任何方便的函数写入以写入模式打开的文件。

# java - 单击按钮时触发验证（Java swing）

> ID：12506061
> 
> 赞同：3
> 
> 时间：2012-09-20T04:27:56.217
> 
> 标签：java, swing, validation

有一个专为触摸屏（到处都是大按钮）设计的 Java Swing 应用程序，其中包含许多表单，像往常一样，带有输入字段（文本框、组合、复选框、单选...）+ 一个用于保存数据的按钮.

我需要一种“通用”的方式来实现验证器（必需的，仅数字，正则表达式，...），在按钮单击时触发显示验证摘要（可能在消息框上），非常类似于 ASP .NET 的验证器系统，其中您将一堆验证器与您的按钮一起分配给同一验证组中的输入字段，并且在每个验证器通过测试之前不会触发单击事件。

问题是如何实现或使用哪个框架来实现这种验证风格？

到目前为止，我在网上看到了 3 个选项，但没有一个适合我的需求：

*   Java Swing 的 InputVerfier 类：这很简单而且很好，但是当输入失去焦点并且对于触摸屏用户来说真的很烦人时可以工作。

*   Simple Validation API：它是我的验证风格最接近的 API，但它似乎与底部显示错误的验证面板紧密耦合。我可以使用此 API 的变体来更改它在屏幕上显示错误的方式。

*   JGoodies 验证：似乎太强大了，但找不到任何简单的例子，而且我没有实现任何模型模式，因为它似乎需要这个框架。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T10:58:36.617

OVal (http://http://oval.sourceforge.net/) 可以完全满足您的需求。

假设您有一个占位符，用于表示来自您的表单的所有值。当用户提交表单时，它可以构建并填充实际数据。OVal 允许您为类字段定义约束：

```
public class BusinessObject {

  @NotNull
  @NotEmpty
  @Length(max=32)
  private String name;

  ...
} 
```

定义好之后，您可以轻松触发验证过程。OVal 将为您提供违规列表，以便您轻松构建摘要对话。

```
Validator validator = new Validator();
BusinessObject bo = new BusinessObject();

// collect the constraint violations
List<ConstraintViolation> violations = validator.validate(bo); 
```

您可以通过使用 getters 约束摆脱中间占位符。

```
public class BusinessObject {

  @IsInvariant
  @NotNull 
  @Length(max = 4)
  public String getName() {
  ...
  }
} 
```

请注意，OVal 遵循简洁的设计原则，可以轻松扩展。无论如何，它提供了很多开箱即用的功能：

*   使用表达式语言的条件约束
*   嵌套属性的约束
*   递归验证
*   方法参数的约束
*   前置条件的脚本表达式
*   方法返回值约束
*   探测模式以简化 UI 用户输入验证
*   以及更多

请参阅[http://oval.sourceforge.net/userguide.html](http://oval.sourceforge.net/userguide.html)

# php - addColumn yii 迁移位置

> ID：12506062
> 
> 赞同：35
> 
> 时间：2012-09-20T04:27:59.140
> 
> 标签：php, yii, migration, yii1.x

我想在表格的第七位添加一列，我正在使用

```
$this->addColumn('table_name','column_name','type'); 
```

在末尾添加列。有什么办法可以提到添加列的地方吗？或任何后列关键字添加我的新列之后，例如，密码列。我从[Yii Doc中了解了迁移](http://www.yiiframework.com/doc/api/1.1/CDbMigration#addColumn-detail)

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-09-20T05:52:34.557

这应该工作！

```
$this->addColumn('table_name', 'column_name', 'type AFTER column6'); 
```

**例子：**

```
$this->addColumn('tbl_posts', 'email', 'VARCHAR(150) AFTER `name` ');
$this->addColumn('tbl_posts', 'phone', 'string AFTER `email` '); 
```

* * *

## 回答 #2

> 赞同：41
> 
> 时间：2016-06-20T01:42:46.630

```
$this->addColumn('{{%user}}', 'username', 
            $this->string()->notNull()->unique()->after('id')
            ); 
```

# jakarta-ee - 将应用程序部署到 glassfish 集群中的单个实例

> ID：12506063
> 
> 赞同：0
> 
> 时间：2012-09-20T04:28:14.190
> 
> 标签：jakarta-ee, glassfish, cluster-computing

我有两个 Java EE 应用程序，它们能够通过 JNDI 查找与彼此的远程接口通信。我想将这两个应用程序部署到一个 glassfish 域，但让它们在单独的 JVM 上运行。这种设置可以吗？

Glassfish 集群似乎是答案，但它看起来不像我可以控制哪个实例获取哪个应用程序 - 似乎我必须将应用程序部署到集群本身，然后将其推送到所有实例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T08:06:54.740

无法部署到集群中的单个实例。Oracle 客户支持回答：

*“我可以确认您所追求的目标是不可能的。如果该实例是集群的一部分，则不能针对单个实例。这就是集群的设计目的，如果您不关注集群功能，则可以使用独立实例。”*

一种可能的解决方案是使用域管理服务器 (DAS) 来部署应用程序 A，并使用集群来部署应用程序 B。但请记住，那时您没有应用程序 A 的高可用性 (HA)。这只是一个可能的解决方案，不是我的建议。

# iphone - iOS 6 中的 NSDictionary

> ID：12506081
> 
> 赞同：0
> 
> 时间：2012-09-20T04:31:11.163
> 
> 标签：iphone, objective-c

我有以下代码：

```
NSAssert(dst, @"sdiasiosadiodasio");

// Add to a list so that we don't lose the references
[layersToDsts setObject:dst forKey:layer];

NSLog(@"The key is %lu", layer);                

for (Bit *layer in [layersToDsts allKeys])
{
    BitHolder *dst = [layersToDsts objectForKey:layer];

    NSLog(@"My added key is %lu", layer);

    NSAssert(dst, @"ddddd");
} 
```

layersToDsts 是一个可变的`NSDictionary`。我正在尝试使用对象的地址作为键，映射到另一个对象。

该代码适用于 iOS 5。出于某种原因，该代码给出了

```
The key is 484196128
My added key is 484253328
Assertion failure in -[Animator animateImpl:] 'NSInternalInconsistencyException', reason: 'ddddd' 
```

显然，我添加到字典中的对象无法检索。对象不是零。为什么映射键是另一个地址？该代码在 iOS 5 上完美运行......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T04:43:54.420

CALayer 没有实现 NSCopying 协议，因此不能用作键，使用 CALayer 的地址并将其转换为 NSNumber，您也可以使用 CALayer 上的 name 属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T04:59:46.663

如果您想使用对象地址作为键，您应该创建一个包含该地址的对象。例如

```
[layersToDsts setObject:dst forKey:[NSValue valueWithPointer:layer]]; 
```

但是，我**强烈**建议您不要这样做。相反，您应该使用正确的密钥，而不是依赖于任何特定的对象地址。

# java - Java中的静态变量

> ID：12506082
> 
> 赞同：4
> 
> 时间：2012-09-20T04:31:17.587
> 
> 标签：java, static

根据 Java，静态变量可以通过类名访问，但它们也可以通过类对象访问，即使 Java 不建议这样做，它也给出了相同的答案。

我知道该变量只有一个副本，并且它的值对于所有对象和其他事物都是相同的。为什么 Java 建议使用类名而不是类对象？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T04:32:45.330

因为它可能会令人困惑！静态成员没有动态调度。

看看这个令人困惑的代码：（可能是语法错误；我的 Java 生锈了）

```
public abstract class Singer {
    public static void sing() {
        System.out.println("Singing");
    }
}

public class Soprano extends Singer {
    public static void sing() {
        System.out.println("Singing in the range of C4-A5");
    }
}

public class MyDriver {

    public static void main(String[] argv) {
        Singer  mySoprano1 = new Soprano();
        Soprano mySoprano2 = new Soprano();
        mySoprano1.sing();
        mySoprano2.sing();
    }

} 
```

看起来`MyDriver`很混乱，因为该方法似乎`sing`是多态的，所以输出应该是......

```
Singing in the range of C4-A5
Singing in the range of C4-A5 
```

...因为两者`soprano1`和都是-not`soprano2`的实例。`Soprano``Singer`

但唉，输出实际上是：

```
Singing
Singing in the range of C4-A5 
```

为什么？因为静态成员上没有动态分派，所以*声明*的类型`mySoprano1`决定了调用哪个`sing`方法……而声明的类型`soprano1`是`Singer`，不是`Soprano`。

[有关更多信息，请查看Java Puzzlers](http://www.javapuzzlers.com/)中的 Puzzle 48 “All I get is static” 。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-20T04:33:29.730

如果你写的话，它`MyClass.staticVariable`比`myObject.staticVariable`. 它告诉查看代码的人`staticVariable`是 的属性`MyClass`，而不是`myObject`类的特定实例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:01:18.193

我能想到的一点是，如果您使用类引用而不是对象，JVM 根本不需要创建`new`对象来访问该静态变量。这是提高性能的良好编程实践。

# java - 使用 NIO (Java) 在 EOF 之后重新读取文件

> ID：12506090
> 
> 赞同：1
> 
> 时间：2012-09-20T04:33:10.530
> 
> 标签：java, csv, nio

我正在使用 MemoryMapped 缓冲区读取文件。最初，我获取通道大小并使用相同的大小将文件映射到内存，这里初始位置为 0，因为我想从头开始映射文件。现在向该文件添加了另外 400KB 的数据，现在我想单独映射那 400kb。但是我的代码有问题，我无法弄清楚，我得到了这个

```
260java.io.IOException: Channel not open for writing - cannot extend file to required size
at sun.nio.ch.FileChannelImpl.map(FileChannelImpl.java:812)
at trailreader.main(trailreader.java:55 
```

所以这是我的代码

```
 BufferedWriter bw;      

    FileInputStream fileinput = null;

    try {
        fileinput = new FileInputStream("simple.csv");
    } catch (FileNotFoundException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }

    FileChannel channel = fileinput.getChannel();

    MappedByteBuffer ByteBuffer;

    try {
        ByteBuffer = fileinput.getChannel().map(FileChannel.MapMode.READ_ONLY, 0, channel.size());
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    /*
    * Add some 400 bytes to simple.csv. outside of this program...
    */

                 //following line throw exception.
    try {
        ByteBuffer = fileinput.getChannel().map(FileChannel.MapMode.READ_ONLY, channel.size(), 400);
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

因此，在我的代码中，我试图重新读取已添加但无法正常工作的附加数据，我知道问题是 channel.size()，但我无法纠正它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T09:00:33.163

`channel.size()`始终是文件的*当前*结尾。您正在尝试将 400 个字节映射过去。它不在那里。你需要类似的东西：

```
ByteBuffer = fileinput.getChannel().map(FileChannel.MapMode.READ_ONLY, channel.size()-400, 400); 
```

# javascript - 如何确保请求来自我的网站？

> ID：12506092
> 
> 赞同：5
> 
> 时间：2012-09-20T04:33:23.643
> 
> 标签：javascript, jquery

一些聪明的人正在使用我的以 api 为中心的 web 应用程序来克隆我的服务并使其看起来像他们自己的。有没有办法确保所有 ajax 请求都来自/来自我的网站？

当然我可以使用引荐来源标题，但他们很容易伪造它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T04:37:25.577

在客户端访问您的站点时，在客户端发送任何 Ajax 请求之前，在客户端上设置一个 cookie。

然后在提供 Ajax 时验证 cookie。

或者，您也可以只发布您的 Ajax 请求。这样，它们就受制于相同的原产地政策。

不过，它会打破整个宁静的意识形态。

[http://en.wikipedia.org/wiki/Same_origin_policy](http://en.wikipedia.org/wiki/Same_origin_policy)

# internet-explorer - p:commandButton onclick 函数未在 Internet Explorer 中调用

> ID：12506094
> 
> 赞同：3
> 
> 时间：2012-09-20T04:33:29.743
> 
> 标签：internet-explorer, jsf, primefaces, onclick

```
<p:commandButton id="changepwd" value="Change Password" type="button"
  onclick="changepwdPanel.show()" update="dialog,messages" appendToBody="true" /> 
```

此按钮显示一个`<p:dialog>`。它在 Firefox 和 Chrome 中运行良好，但在 Internet Explorer 中运行良好。

这是如何引起的，我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T15:34:21.950

尝试使用：

```
<f:facet name="first">
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
</f:facet> 
```

在`<h:head>`，我有类似的问题，它对我有用。

# jquery - 使用自动完成 jquery 向表中添加行

> ID：12506097
> 
> 赞同：0
> 
> 时间：2012-09-20T04:34:06.100
> 
> 标签：jquery, json, autocomplete, row

我一直在尝试寻找解决方案 1 或 2 天，但无法让它发挥作用..

我有一个 id="items" 的表，每一行都有“item-row”类。我在 articlename 字段上使用了自动完成功能（它是一个发票表）。这很好..现在当我想添加一个新行并触发这些字段的自动完成时，它不起作用..该行不会被添加....

```
// Get the table object to use for adding a row at the end of the table
var $itemsTable = $('#items');

// Create an Array to for the table row. ** Just to make things a bit easier to read.
var rowTemp = [
    '<tr class="item-row"><td class="item-name"><div class="delete-wpr"><textarea name="articleName[]" id="articleName"></textarea><a class="delete" href="javascript:;" title="Remove row">X</a></div></td><td class="description"><textarea name="articleDescription[]" id="articleDescription"></textarea></td><td><textarea name="articlePrice[]" id="articlePrice" class="cost">0.00</textarea></td><td><textarea name="articleQty[]" id="articleQty" class="qty">0</textarea></td><td><span class="price">0.00</span></td></tr>'
].join('');

// Add row to list and allow user to use autocomplete to find items.
$("#addrow").bind('click',function(){
    var $row = $(rowTemp);

    // save reference to inputs within row
    var $itemCode           = $row.find('#articleName');
    var $itemDesc           = $row.find('#articleDescription');
    var $itemPrice          = $row.find('#articlePrice');
    var $itemQty            = $row.find('#articleQty');

    if ( $('#articleName:last').val() !== '' ) {

        // apply autocomplete widget to newly created row
        $row.find('#articleName').autocomplete({
            source: 'getproducts.php',
            minLength: 1,
            select: function(event, ui) {
                $itemCode.val(ui.item.itemCode);
                $itemDesc.val(ui.item.itemDesc);
                $itemPrice.val(ui.item.itemPrice);

                // Give focus to the next input field to recieve input from user
                $itemQty.focus();

                return false;
            }
        }).data( "autocomplete" )._renderItem = function( ul, item ) {
            return $( "<li></li>" )
                .data( "item.autocomplete", item )
                .append( "<a>" + item.itemCode + " - " + item.itemDesc + "</a>" )
                .appendTo( ul );
        };
        // Add row after the first row in table
        $('.item-row:last', $itemsTable).after($row);
        $($itemCode).focus();

    } // End if last itemCode input is empty
    return false;
}); 
```

A 链接的 id="addrow"

顺便说一句，如果我使用以下代码，它确实会添加一行，但不会自动完成：

```
$("#addrow").bind('click',function(){

$(".item-row:last").after('<tr class="item-row"><td class="item-name"><div class="delete-wpr"><textarea name="articleName[]" id="articleName"></textarea><a class="delete" href="javascript:;" title="Remove row">X</a></div></td><td class="description"><textarea name="articleDescription[]" id="articleDescription"></textarea></td><td><textarea name="articlePrice[]" id="articlePrice" class="cost">0.00</textarea></td><td><textarea name="articleQty[]" id="articleQty" class="qty">0</textarea></td><td><span class="price">0.00</span></td></tr>');

if ($(".delete").length > 0) $(".delete").show();
bind();

}); 
```

我希望有人能照亮我或指出我正确的方向..非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:44:49.333

当您尝试添加新行时，您将拥有不正确的元素的重复 ID。自动完成将可用于第一个 id。所以也许对你来说做这样的事情会更好：

1.  您必须修改您的 html 代码以**不**包含具有相同 id 的多个元素
2.  尝试`.on`像这样使用 jquery 函数进行自动完成

    $('#your-table').on('load','.your-new-row-class',function(){ $(this).autocomplete({ // 你的自动完成设置 }); });

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:23:59.483

我实际上让它与以下代码一起工作：

```
$("#addrow").bind('click',function(){

    $(".item-row:last").after('<tr class="item-row"><td class="item-name"><div class="delete-wpr"><textarea name="articleName[]" id="articleName"></textarea><a class="delete" href="javascript:;" title="Remove row">X</a></div></td><td class="description"><textarea name="articleDescription[]" id="articleDescription"></textarea></td><td><textarea name="articlePrice[]" id="articlePrice" class="cost">0.00</textarea></td><td><textarea name="articleQty[]" id="articleQty" class="qty">0</textarea></td><td><span class="price">0.00</span></td></tr>');

    $(".item-row:last").find('#articleName').autocomplete({
            source: 'getproducts.php',
            select: function(event, ui) {
                var $itemrow = $(this).closest('tr');
                        // Populate the input fields from the returned values
                        $itemrow.find('#articleName').val(ui.item.articleName);
                        $itemrow.find('#articleDescription').val(ui.item.articleDescription);
                        $itemrow.find('#articlePrice').val(ui.item.articlePrice);

                        // Give focus to the next input field to recieve input from user
                        //$('#articleQty').focus();
                        $itemrow.find("#articleQty:last").focus();

                return false;
          }
        // Format the list menu output of the autocomplete
        }).data( "autocomplete" )._renderItem = function( ul, item ) {
            return $( "<li></li>" )
                .data( "item.autocomplete", item )
                .append( "<a>" + item.articleName + " - " + item.articleDescription + "</a>" )
                .appendTo( ul );
        };

if ($(".delete").length > 0) $(".delete").show();
bind();

}); 
```

这确实有很大帮助：

```
var $itemrow = $(this).closest('tr'); 
```

也许它仍然不是完美的代码，但它对我有用。

感谢您的回答；）

# ios - WordPress 网站上的 Facebook 评论不会显示在 iPhone 上

> ID：12506099
> 
> 赞同：3
> 
> 时间：2012-09-20T04:34:34.743
> 
> 标签：ios, facebook, wordpress, facebook-social-plugins, facebook-comments

我无法在 iphone 4 上使用 safari 浏览器显示评论（同时使用 ios 5 和 6）

我正在使用新的 FB 社交插件代码（可在此处找到：http: [//developers.facebook.com/docs/reference/plugins/comments/](http://developers.facebook.com/docs/reference/plugins/comments/)）

我的 header.php 文件中有这个，就在开始`<body>`标记的下方。

```
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=my app ID";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script> 
```

...

和这个：

```
<div class="fb-comments" data-href="http://example.com" data-num-posts="2" data-width="748" data-mobile="false"></div> 
```

在我的comments.php 文件中。

我还添加了这一行：

```
#fbcomments, .fb-comments, .fb-comments iframe[style], .fb-comments span {
width: 100% !important;
} 
```

到我的`style.css`文件中，以使评论框在浏览器窗口缩小时保持其 100% 的宽度（我有一个响应式设计，所以想确保该框不会破坏布局。）

我的问题是，当我将浏览器窗口减小到最小（阅读：手机大小）时，评论框仍然存在并且工作正常，但是当我在 safari 浏览器中打开我的 iphone 上的网站时（同时运行 ios5 和现在使用 ios6)，评论框完全消失，浏览器顶部的旋转轮表示仍在加载的内容继续旋转。

当我在 iphone 上使用移动版 Chrome 时不会发生这种情况，并且我已经检查过它并且它在我的 ipad 1 上完美运行，所以它要么是我的代码中特定的东西导致了 safari 问题，要么是 safari 本身 -哪一个，我不知道。

我尝试在网上和 stackoverflow 上查找，但找不到具体的答案，所以如果您有任何想法，或者以前看过类似的东西，我很想听听。

谢谢大家！

# asp.net-mvc-3 - 是否有任何工具/api 或代码可以从链接创建 digg 风格的故事

> ID：12506102
> 
> 赞同：0
> 
> 时间：2012-09-20T04:34:58.590
> 
> 标签：asp.net-mvc-3

我在网上搜索了几个小时，但到目前为止没有找到任何东西。所以把它放在这里，有没有一种方法可以使用链接创建一个 digg 风格的故事？带有图片、标题和故事预览？是否有任何可以在 mvc3 中使用的 api 或任何已经这样做的代码？将不胜感激任何帮助！

我在这个问题上悬赏。任何可以向我提供简单的 asp.net 代码以使用链接从新闻站点获取故事的人，都将获得赏金。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T10:32:33.077

虽然我不熟悉 Digg 中的这种功能，但它听起来很像 Facebook 的功能。据我所知，他们既没有可用的预制代码，也没有可用的服务，但自己实现应该不难：

1.  下载页面源
2.  搜索以下标签：
    *   `<meta name="title"`
    *   `<meta name="discription"`
    *   `<link rel="image_src"`
3.  使用这些元素的值来构建您的预览

因为并非每个网站都使用这些标签，所以您可以例如执行以下替换：

*   没有元标题标签？--> 使用`<title>`元素内容。
*   没有元描述标签？--> 使用第一个填充良好的段落或其中的一部分
*   没有链接 image_src？--> 使用页面上的任何图像

创造性地使用替代方法，看看哪种方法产生最好的结果。

有关标签的更多详细信息：http://umairj.com/29/modify-how-the-shared-item-appears-on-facebook/ [（](http://umairj.com/29/modify-how-the-shared-item-appears-on-facebook/)它谈到了 facebook，但适用于任何想要实现它的人一种功能）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T16:29:06.817

你可以尝试使用 YQL 和 jQuery 来实现。

有关更多信息，请参阅此[链接](http://ninjagirl.com/posts/2012/02/create-facebook-style-link-preview-using-jquery-yql)。

# iphone - 使用 NSUserDefaults 保存图像

> ID：12506106
> 
> 赞同：1
> 
> 时间：2012-09-20T04:35:39.417
> 
> 标签：iphone, ios, nsuserdefaults

> **可能重复：**
> [NSUserDefault 的大小限制？](https://stackoverflow.com/questions/5698816/size-limitation-of-nsuserdefault)

我正在使用`NSUserDefaults`. 我想知道我可以保存的最大图像数量，`NSUserDefaults`或者换句话说，我们可以使用多少内存`NSUserDefaults`？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:56:04.693

如果您要保存许多图像，我建议将图像保存到文件系统中，而不是将它们保存到 NSUserDefaults（或 CoreData），然后将文件名保存到 NSUserDefaults。

这样就无需担心任何容量限制。

保存图像：

```
UIImage* image = [UIImage imageNamed:@"example_image.png"];
NSData* imageData = UIImageJPEGRepresentation(image, 1.0);
NSString* imagePath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:@"/saved_example_image.png"];
[imageData writeToFile:imagePath atomically:YES]; 
```

检索图像：

```
NSString* imagePath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:@"/saved_example_image.png"];
UIImage* imageFromFileSystem = [UIImage imageWithContentsOfFile:imagePath]; 
```

# iphone - 使用 Grand Central 方法的目的是什么？

> ID：12506110
> 
> 赞同：0
> 
> 时间：2012-09-20T04:36:04.867
> 
> 标签：iphone, ios5, grand-central-dispatch

我想在我的应用程序中使用 dispatch 方法，但我对 GCD 一无所知。谁能解释我应该如何以及为什么在我的代码中使用 CGD？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T04:55:45.413

您可能应该看看这些教程。这是一个循序渐进的指南，它将事情分解成一个分步指南，全面解释异步下载数据和实时更新过程的每一步。

[iOS 多线程与 Grand Central Dispatch (GCD) 基础知识](http://maniacdev.com/2011/07/tutorial-ios-multithreading-with-grand-central-dispatch-gcd-basics/)

还请查看以下内容：

[Grand Central Dispatch Objective-C 教程](http://www.mdube.com/technology/objective-c-tutorial-ios-4-features-grand-central-dispatch)

以上应该可以帮助您入门并让您了解 GCD 的全部内容。

# android - 用于存储在 android 外部 SD 卡上的图像的表名和数据库名

> ID：12506118
> 
> 赞同：0
> 
> 时间：2012-09-20T04:36:42.313
> 
> 标签：android, database, image, sd-card

只是想验证一下，对于与 android content provider 一起用于存储在 SD 卡 android 外部存储器上的图像的 sqlite 数据库是否正确，为此，表名被称为：images 和数据库名称被称为类似在我的情况下，external7e82312，从我在文件中看到的名称 external7e82312.db 中获取。

如果有人在街上走到你面前，拿着枪指着你问这些问题，你的答案会一样吗？

如果我想访问数据库的信息，例如图片的显示名称、拍摄图片的时间以及连接到数据库的其他列，我确信需要数据库名称和表名称

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T04:47:30.733

是的，如果有人在街上问我拿着枪指着我，我会回答同样的问题。数据库是 external.db，表名是 images。

# filter - 无法在 elmah 中过滤“从客户端检测到潜在危险的 Request.Form 值”

> ID：12506119
> 
> 赞同：1
> 
> 时间：2012-09-20T04:36:58.107
> 
> 标签：filter, elmah

我使用了[elmah wiki](http://code.google.com/p/elmah/wiki/ErrorFilterExamples)中的官方示例，但是这个错误一直出现在我的日志中，我该如何解决？以下是我的elmah配置，非常感谢。

```
 <sectionGroup name="elmah">
      <section name="security" requirePermission="false" type="Elmah.SecuritySectionHandler, Elmah" />
      <section name="errorLog" requirePermission="false" type="Elmah.ErrorLogSectionHandler, Elmah" />
      <section name="errorMail" requirePermission="false" type="Elmah.ErrorMailSectionHandler, Elmah" />
      <section name="errorFilter" requirePermission="false" type="Elmah.ErrorFilterSectionHandler, Elmah" />
    </sectionGroup>

<elmah>
    <errorLog type="Elmah.SqlErrorLog, Elmah" connectionStringName="elmah" />
    <security allowRemoteAccess="yes" />
    <errorFilter>
        <test>
                <regex binding="Exception.Message" pattern="(?ix: \b potentially \b.+?\b dangerous \b.+?\b value \b.+?\b detected \b.+?\b client \b )" />
        </test>
    </errorFilter>
</elmah> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:38:04.903

您可能缺少 HTTP 模块？

```
<httpModules>
...
<add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah"/>
<add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah"/>
...
</httpModules> 
```

# python - python如何删除关键字后的字符串

> ID：12506123
> 
> 赞同：2
> 
> 时间：2012-09-20T04:37:39.663
> 
> 标签：python

> **可能重复：**
> [在 Python 中删除字符](https://stackoverflow.com/questions/549130/delete-chars-in-python)

我想知道如何在python中删除关键字后的字符串

我将在 txt 文件中获取行

我可以用什么方法来做到这一点。

例如：

“我有一本书要读。”

我想删除“书”之后的所有单词。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T04:48:22.930

要删除第一本“书”之后的所有内容，包括“书”本身：

```
s = "I have a book to read."
print(s.partition("book")[0]) 
```

要保留“书”这个词：

```
print(''.join(s.partition("book")[:2])) 
```

无论字符串中是否存在“book”，两者都有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T04:49:05.553

做这件事有很多种方法：

mystr = "我有一本书要读。" 关键字 = '书'

**方法一**：

```
def foo(mystr, keyword):
    try:
        i = mystr.index(keyword)
        return mystr[:i+len(keyword)]
    except ValueError:
        return mystr 
```

**方法二**：

```
def foo(mystr, keyword):
    i = mystr.find(keyword)
    if i >= 0:
        return mystr[:i+len(keyword)]
    else:
        return mystr 
```

**方法3**：

```
def foo(mystr, keyword):
    return ''.join(mystr.partition(keyword)[:2]) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T05:04:15.680

另一种方法是使用`re.sub`. （输出与代码交错显示。）

```
txt = 'I have a book to read'; key='book'
str = re.sub(key+'.*', key, txt)
str
'I have a book'
txt = 'I have a look to read'; key='book'
str = re.sub(key+'.*', key, txt)
str
'I have a look to read' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T04:42:13.320

使用stirng方法find()返回世界第一个字母的索引：

```
str = "i have a book to read"
print str[:str.find("book") + len("book")] 
```

这只会起作用，因为“book”存在于字符串“i have a book to read”中。如果不是这种情况，则此解决方案将无法按预期工作

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T04:45:47.303

正则表达式对此有好处：

```
import re
m = re.match('(.*book)', line)
if m:
    line = m.group(1) 
```

或者

```
line = re.sub('book.*', 'book', line) 
```

# php - 按类别获取喜欢页面的facebook列表

> ID：12506127
> 
> 赞同：0
> 
> 时间：2012-09-20T04:38:42.773
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk

我从 facebook 开发人员那里得到代码

```
$this->api('/ USER_ID /likes'); 
```

但是我如何使用 php-sdk 根据它的类别获取列表。我已经检查了 Graph Api Explorer 但只有修饰符`limit,offset,target_id`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:45:58.723

我认为图形 api 不可能。但是您可以轻松创建自己的数组

```
$ordered_by_cat = array();
foreach($results['data'] as $result){
     $ordered_by_cat[$result['category'] = $result
} 
```

鉴于 $results 是您的 json 响应

# php - Javascript/jquery 在 IE8 中不起作用

> ID：12506128
> 
> 赞同：2
> 
> 时间：2012-09-20T04:38:46.160
> 
> 标签：php, javascript, jquery, html, css

我目前在一个网站上工作，它在 chrome 中正常运行，但由于某种原因 IE8 不想运行任何 javascript/jquery 脚本。即使我在页面就绪时要求警报，它也不会弹出。有点草率；我已经在实际的 index.php 文件中包含了所有的 css 和 jquery，并计划在我走得更远之后最终清理它，但我的可怕借口已经够多了。我读过一个项目后的尾随逗号会使网站在 IE 中无法正常运行，但我在我的代码中找不到。我仍在学习，所以我确信我的代码中也有很多可以纠正的地方。对不起，它有多长。基本上发生的情况是所有隐藏的 div 只是挂出并相互重叠，并且没有任何代码执行。

```
<script type="text/javascript">
function video_pop(vimeo_link) {
    var vimeo_applet = "";
    $('.prompt_inner').text(vimeo_applet);
    vimeo_applet = "<div>";
    vimeo_applet += "<iframe src=\""+vimeo_link+"\" id=\"vimeo_link\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>";
    vimeo_applet += "</div>";
    $('.prompt_inner').append(vimeo_applet);
    $('.prompt_box').css("margin-left", (-(($('.prompt_inner').width())/2)));
    $('.prompt_box').css("visibility", "visible");
    $('.prompt_background').css("visibility", "visible");
    $('.prompt_box').animate({
            opacity: '1'
    }, 500);
    $('.prompt_background').animate({
            opacity: '.95'
    }, 500);
}

//MAIN MENU FUNCTIONS
function directors() {
    $('.menu').stop().fadeOut(1000).hide();
    $('#directors').stop().fadeIn(1000);
    $('#col_work').stop().fadeOut(1000).hide();
    $('#slideshow_container').stop().fadeIn(1000);
}

function contact() {
    $('.menu').stop().fadeOut(1000).hide();
    $('#main_contact').stop().fadeIn(1000);
    $('#col_work').stop().fadeOut(1000).hide();
    $('#slideshow_container').stop().fadeIn(1000);
}

function login() {
    $('.menu').stop().fadeOut(1000).hide();
    $('#login').stop().fadeIn(1000);
    $('#col_work').stop().fadeOut(1000).hide();
    $('#slideshow_container').stop().fadeIn(1000);
}

function work() {
    $('.menu').stop().fadeOut(1000).hide();
    clearInterval(slideshow_int);
    $('#slideshow_container').stop().fadeOut(1000).hide();
    $('#col_work').stop().fadeIn(1000);
}

function showmenu() {
    $('#back_button').stop().fadeOut(1000).hide();
    $('#director_set').stop().fadeOut(1000).hide();
    $('#holness').stop().hide();
    $('#pryce').stop().hide();
    $('#ntiri').stop().hide();
    $('#quiroz').stop().hide();
    $('#col_work').stop().hide();
    $('#main_menu').stop().fadeIn(1000);
    start_slideshow();
    $('#slideshow_container').stop().fadeIn(1000);
}

//DIRECTOR FILES
function director(x) {
    $('.menu').stop().fadeOut(1000);
    $('#main_menu').stop().fadeOut(1000);
    $('#col_work').stop().fadeOut(1000).hide();
    clearInterval(slideshow_int);
    $('#slideshow_container').stop().fadeOut(1000);
    $('#back_button').stop().fadeIn(1000);
    $('#director_set').stop().fadeIn(1000);

    if (x==="1") {
        $('#holness').stop().fadeIn(1000);
    }
    else if (x==="2") {
        $('#pryce').stop().fadeIn(1000);
    }
    else if (x==="3") {
        $('#ntiri').stop().fadeIn(1000);
    }
    else if (x==="4") {
        $('#quiroz').stop().fadeIn(1000);
    }
}

function start_slideshow() {
    slideshow_int = setInterval(function() { 
      $('#slides > div:first')
        .fadeOut(1000)
        .next()
        .fadeIn(1000)
        .end()
        .appendTo('#slides');
    },  5000);
}

$(document).ready(function() {
    //HIDE MENUS
    $('.menu').hide();
    $('#director_set').hide();
    $('#back_button').hide();
    $('#holness').stop().hide();
    $('#pryce').stop().hide();
    $('#ntiri').stop().hide();
    $('#quiroz').stop().hide();
    $('#col_work').stop().hide();

    video_pop("<?php 
        $query = "SELECT * FROM global WHERE id=1";
        $queryobj = mysql_query($query);
        $result = mysql_fetch_array($queryobj);
        echo $result['ovideo'] ?>");
        $('.prompt_background').click(function() {
        $('.prompt_box').animate({
            opacity: '0'
        }, 500, function() {
            $('.prompt_box').css("visibility", "hidden");
        });
        $(this).animate({
            opacity: '0'
        }, 500, function() {
            $(this).css("visibility", "hidden");
            var vimeo_applet = "";
            $('.prompt_inner').text(vimeo_applet);
        });
    });     

    //SLIDESHOW CONTROL
    $('#slides > div:gt(0)').hide();
    start_slideshow();

    //WORK MOUSEOVER
    <?php
    $queryobj = mysql_query("SELECT * FROM global_thumbnails");
    $total_global_thumbs = mysql_num_rows($queryobj);

    for ($i=1; $i<=$total_global_thumbs; $i++) {
        $queryobj = mysql_query("SELECT * FROM global_thumbnails WHERE position = {$i}"); 
        $result = mysql_fetch_array($queryobj);
        $global_still_title = strtoupper($result['title']); 
        echo "$('#global_stills img:eq(".($i-1).")').mouseover(function() {   
            $('#global_titles').text(\"{$global_still_title}\");
            });
        ";
    }
    ?>
    $('#global_stills img').mouseout(function() {
        $('#global_titles').text("");
    });
});
        </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T10:56:49.907

我认为不是这个

```
for ($i=1; $i<=$total_global_thumbs; $i++) 
```

尝试这个

> `for (var i=1; i<=$total_global_thumbs; i++)`

因为没有“var”声明，它在 IE8 中不起作用。
曾经我也面临同样的问题。所以在我这样做之后它对我有用:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T14:29:32.357

尝试将所有 jQuery 放在 $(document).ready(function() { ... }); 之间

# python - 将对象与可以表示的格式分开

> ID：12506129
> 
> 赞同：1
> 
> 时间：2012-09-20T04:39:04.007
> 
> 标签：python, design-patterns, interface, python-3.x, software-design

我经常需要读取一个 CSV 文件并使用它来填充一个内部类似表的结构，其中包含适当的对象，如下所示：

```
column_types = {'Car Make' : str, 'Year' : int,
  'Quantity' : int, 'Weight' : float}
# read_from_file will call str()/int()/etc., passing it
# the string that it finds in each cell
t = Table.read_from_file('mytable.txt', column_types)
t[0]['Car Model']  # 'Nissan'
t[0]['Year'] # 2010
t[0]['Quantity'] # 40
t[0]['Weight'] # 2105.53 
```

如果内置转换不够，事情会变得更加复杂。例如，在某些表中，数量可能以千表示。为此，我创建了以下类`IntegerFormat`：

```
class IntegerFormat(int): # this case is really simple, so I subclass built-in 
  def __init__(self, unit):
    self.unit = unit
  # create object from string
  def __call__(self, string):
    value = int(string) * self.unit

column_types = {'Car Make' : str, 'Year' : int,
  'Quantity' : IntegerFormat(1000)}
# no change to Table.read_from_file required
t = Table.read_from_file('mytable.txt', column_types)
t[0]['Quantity'] # 40000; now we know the correct units! 
```

但是当与给定列对应的类不是很简单时，我遇到了一个问题。例如，class`Performance`表示一些与性能相关的特征，需要从诸如“300 hp, 0-60: mph 5.2 s”、“540 hp, 1/4 mile: 8 sec @140 mph”之类的字符串创建。特定的字符串模式在单个表中将是相同的，是预先知道的，我有清晰的语法来描述它。

现在，我可以按照我之前的方法编写：

```
class PerformanceFormat:
  def __init__(self, pattern):
    # convert pattern into some internal form and store it in self.pattern
    # ...
  def __call__(self, string):
    # process the string to obtain parameters that Performance.__init__ expects
    # create Performance object and return it
    # ...
    return Performance(hp, torque, quarter_mile_time) 
```

但是，`PerformanceFormat`与`Performance`: 如果`Performance`被修改以考虑四分之一英里的最终速度（而不仅仅是四分之一英里的时间），`PerformanceFormat`则与 : if 的关系非常紧密，也必须重写。

我可以将所有实际的构造功能移动到`Performance`中，并且`PerformanceFormat`仅限于存储字符串模式。但是在那种情况下，当`Table.read_from_file()`需要读取相关单元格时，仅仅拥有实例是不够的`PerformanceFormat`——它怎么知道`Performance`需要创建的是类实例？

我想我可以这样做：

```
column_types = {'Car Make' : str,
  'Quantity' : IntegerFormat(1000),
  'Performance' : (Performance, PerformanceType('hp: * torque: *')} 
```

这里`PerformanceType`可以创建一个可以输入的标准表示`Performance`，大大减少两者之间的耦合：

```
class Performance:
  def __init__(self, string, format):
    standard_representation = format(string)
    # ... 
```

也许更好的是，`PerformanceType`可以被动地存储模式，完全消除耦合：

```
class Performance:
  def __init__(self, string, format):
    standard_representation = self.to_standard(string, format)
    # ... 
```

那太棒了。但是现在`Table.read_from_file`必须做一些烦人的事情：它需要以不同的方式处理那些由元组而不是单个可调用对象描述列的情况。（具体来说，它需要调用第一个元素，将它从单元格中读取的值和元组中的第二个元素都传递给它。）

有没有更好、更清洁的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:41:44.650

这是在正则表达式中使用命名组的方法的草图，对应于构造函数中的关键字参数：

```
class RegexFormat:
    def __init__(self, cls, pattern):
        self.cls = cls
        self.regex = re.compile(pattern)

    def __call__(self, string):
        return self.cls(**self.regex.match(string).groupdict())

class Performance:
    def __init__(self, hp=None, torque=None, quarter_mile_time=None)
        #....

column_types = {'Car Make' : str,
  'Quantity' : IntegerFormat(1000),
  'Performance' : RegexFormat(Performance, 
      r'hp: (?P<hp>\d+) torque: (?P<torque>\d+)')} 
```

# wcf - 使用 IP 地址时的 Silverlight 跨域异常

> ID：12506131
> 
> 赞同：2
> 
> 时间：2012-09-20T04:39:45.140
> 
> 标签：wcf, silverlight

我有一个奇怪的问题，使用主机名浏览我的 Silverlight 5 网站工作得很好，但是当使用 IP 地址时，它会抛出这个异常：http: [//iforce.co.nz/i/1ohkll5v.32o.png](http://iforce.co.nz/i/1ohkll5v.32o.png)

我已经在我的自托管 WCF Web 服务上的 REST 服务中实现了 clientaccesspolicy 返回流（类似于[带有 WcfSvcHost 的跨域异常](https://stackoverflow.com/questions/2326331/cross-domain-exception-with-wcfsvchost)），并且在使用主机名时它工作得非常好。但是，如果我调试该方法，它实际上永远不会在具有 IP 地址的场景中被调用。

Silverlight 中是否存在一些限制，不允许您将 IP 地址与 WCF 一起使用？我似乎记得这在不久前就起作用了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-07T06:14:44.283

虽然这是一个老问题——它不会帮助你，但它可能会帮助其他人。

我遇到了同样的问题，并且浪费了数小时试图找到答案。对我来说，问题最终是我使用机器名称引用 WCF 服务。正因为如此——Silverlight 以为我指的是本地机器——所以 Silverlight 甚至不费心提出客户端策略请求。

因此，只需使用 IP 地址而不是机器名称来引用服务。即使该 IP 地址是本地的。然后检查 Fiddler 并注意 Silverlight 客户端现在将在第一次服务调用之前发出策略请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-27T10:43:23.373

此错误的另一个原因是 Silverlight 也阻止了跨区域访问。因此，在 clinet 浏览器中，您需要将两个地址（一个带有主机名和一个带有 IP 地址）添加到 Internet Explorer 中的同一安全区域（本地 Intranet 或受信任的站点）。

# javascript - 动态 Javascript 对象创建

> ID：12506135
> 
> 赞同：0
> 
> 时间：2012-09-20T04:39:56.420
> 
> 标签：javascript, javascript-objects

如何将 php 数组转换为 Javascript 对象代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T04:56:40.100

你可以试试这个。这就是动态命名对象属性和对象值的方式。我假设您想在属性名称来自源的地方动态构建它。您所要做的就是遍历这些值

```
var treeData = {};
Loop Here
var nameProperty = "propertyName";
var nameValue = "propertyValue";
var childProperty = "child";
var childValue = {}; 
```

试试这个。

[http://jsfiddle.net/zKdMa/1/](http://jsfiddle.net/zKdMa/1/)

# java - 如何使用提交保存所有查询，如果任何一个查询失败，则不应保存任何数据

> ID：12506136
> 
> 赞同：0
> 
> 时间：2012-09-20T04:40:01.463
> 
> 标签：java, mysql, netbeans, commit, autocommit

我有一个员工表格。我使用选项卡式窗格来获取四个不同的选项卡。但问题是，如果我将数据保存在第一个选项卡上，它只会保存在数据库中。在其他选项卡上保存数据之前，我关闭了整个表单。所以在数据库中，我从第一个选项卡输入了数据，没有为其他选项卡保存数据……这给了我进一步处理的错误。我知道提交，但我不知道如何使用它？？？？我必须要将表单所有选项卡中的所有数据保存到数据库，如果在表单之间关闭，则不应保存任何数据...请帮助我。

我想在java编程中使用它。每个选项卡的数据我都保存在自己的页面上，而不是最后。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:46:08.850

您应该在从第一个选项卡保存数据之前设置回滚点，如果在其他选项卡上出现问题，那么您可以回滚最后一个事务以丢弃更改并将数据库恢复到以前的状态。

这是一个用于 MYSQL 的示例代码。希望它会有所帮助。

```
Drop table Books;

CREATE TABLE Books
(
   ID SMALLINT NOT NULL PRIMARY KEY,
   Title VARCHAR(60) NOT NULL,
   Copyright YEAR NOT NULL
)
ENGINE=INNODB;

select * from Books;

START TRANSACTION;
INSERT INTO Books VALUES (103, 'Angels', 1966);
INSERT INTO Books VALUES (104, 'Black', 1932);

SAVEPOINT sp1;

INSERT INTO Books VALUES (105, 'None', 1996);
INSERT INTO Books VALUES (106, 'A', 1980);

ROLLBACK TO SAVEPOINT sp1;

INSERT INTO Books VALUES (107, 'Postcards', 1992);
INSERT INTO Books VALUES (108, 'The', 1993);

COMMIT;

select * from Books; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:42:29.117

根据您的数据库，您需要发出 BEGIN 语句或类似的语句来启动事务，然后运行您的查询，如果它们成功，则运行 COMMIT 或类似的语句，如果不成功，您将运行 ROLLBACK 撤消任何查询在您的会话中开始之后发生。

# java - 如何在 Photoshop for Java 中进行校正，类似的校正曲线

> ID：12506137
> 
> 赞同：1
> 
> 时间：2012-09-20T04:40:33.643
> 
> 标签：java, android, image-processing

如何在Java（Android）中对曲线进行颜色校正？使用标准库，特别是OpenGL，是否有这种可能性？有人可以帮我从哪里开始吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T04:56:47.313

安卓文档：`AntiAliasing smooths out the edges of what is being drawn, but is has no impact on the interior of the shape...`

```
Paint paint = new Paint();
paint.setAntiAlias(true);
canvas.drawCircle(center_x, center_y, radius, paint); 
```

希望这有帮助！

# macos - 设备上的 open() 在 Mountain Lion 上不起作用

> ID：12506138
> 
> 赞同：1
> 
> 时间：2012-09-20T04:40:47.063
> 
> 标签：macos, file-io

我使用这种调用 open("/dev/disk1", O_RDONLY) 在 Mac 上打开磁盘。但这失败了，在 Mountain Lion 上返回 -1。

有人知道为什么吗？

# javascript - HTML - 一次准确地按位置访问文档中的 div

> ID：12506144
> 
> 赞同：0
> 
> 时间：2012-09-20T04:41:47.950
> 
> 标签：javascript, html, yii

我有一个生成的页面，`Yii CListView`其中包含一个`div`和`multiple child divs`。我需要访问一个特定的孩子`div`并在其中添加一个`div`。

虽然我设法使用一种方法解决了它，但不认为它是正确的。以下是我的解决方案的概述（*下面的代码不包含所有必要的变量声明和其他东西，我粘贴了核心代码而不是完整的。*）：

1.  通过 Id 访问父 div（因为 Id 可用，因为我可以将其编码到 Yii 中）
2.  使用以下方法获取此 div 中的所有元素：

    ```
    var div_childern = document.getElementById('StudentGridViewId').getElementsByTagName('*'); 
    ```

3.  遍历并到达所需的 div 时，添加了我的新 div。请注意，我要在其中添加新 div 的 div 的类名称为“items”。代码如下：

    ```
     for (var i = 0; i < div_childern.length; i++) {
        if (div_childern[i].getAttribute('class')=='items'){
            document.getElementById('StudentGridViewId').getElementsByTagName('*')[i].appendChild(newdiv);
            i=div_childern.length+1;
        }
      } 
    ```

此解决方案中的唯一问题是，我访问整个文档两次，调用 `getElementsByTagName`. 首先获取所有列表，`items`然后再次添加我的新`div`. 有更好的方法吗？

而且，有人能指点我设置生成`Id`的“项目”`div`吗`Yii`？

谢谢费萨尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T04:54:57.937

如果你使用 JQuery，你可能会得到一个更优雅的解决方案。但是，如果你想使用传统的 javascript，你可以这样做

```
 for (var i = 0; i < div_childern.length; i++) {
    if (div_childern[i].getAttribute('class')=='items'){
        div_childern[i].appendChild(newdiv);
        i=div_childern.length+1;
    }
  } 
```

# node.js - Node.js 缓存代理服务器

> ID：12506145
> 
> 赞同：3
> 
> 时间：2012-09-20T04:41:53.163
> 
> 标签：node.js, caching, proxy

我正在尝试使用 node.js 创建一个 http 缓存代理服务器，在那里我可以转发到任何网页并将它们缓存在我的本地磁盘上！

以下是我的第一次尝试代码：

```
var http = require('http'),
url  = require('url'),
sys  = require('url');

var fs = require('fs');

var port = "9010";

// function notFound
function notFound(response){
response.writeHead(404, "text/plain");
response.end("404 : File not Found");
}

//create simple http server with browser requet and browser response
http.createServer(function(b_request, b_response){

//Parse the browser request'url
var b_url = url.parse(b_request.url, true);
if(!b_url.query || !b_url.query.url) return notFound(b_response);

//Read and parse url parameter (/?url=p_url)
var p_url = url.parse(b_url.query.url);

//Initialize Http client
var p_client = http.createClient(p_url.port || 80, p_url.hostname);

//Send request
var p_request = p_client.request('GET', p_url.pathname || "/", {
   host: p_url.hostname
});
p_request.end();

//Listen for response
p_request.addListener('response', function(p_response){
    //Pass through headers
    b_response.writeHead(p_response.statusCode, p_response.headers);
    //Pass through data
     p_response.addListener('data', function(chunk){
            b_response.write(chunk);
    });

    //End request
    p_response.addListener('end', function(){
        b_response.end();
    });
});
}).listen(port);

console.log("Server running at http://127.0.0.1:" +port + "/"); 
```

我想为我的应用程序使用任何缓存库，例如：Node-static(https://github.com/cloudhead/node-static)、静态缓存、....

如果我访问的网站运行良好，我的应用程序将转发给它。如果不是，我的应用程序将获取并返回缓存在我的磁盘上的数据。

有什么解决方案可以解决这个问题吗？

感谢 ！

# ios - NSThread 在睡眠时退出？

> ID：12506151
> 
> 赞同：0
> 
> 时间：2012-09-20T04:42:50.043
> 
> 标签：ios, nsthread

我正在创建一个运行我的方法之一的新线程：现在我正在做的事情如下：

```
NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(myThreadFunc) object:nil];
[thread start]; 
```

在我的线程函数中

```
{
     while(isRunning){
         [self updateSomething];
         [NSThread sleepForTimeInterval:3.0];
     }
     NSLog(@"out");
} 
```

在另一个函数中，我设置`isRunning = NO`和`thread = nil`或`[thread cancel]`但`myThreadFunc`正在休眠，因此线程无法退出。我该如何控制这种情况？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:52:17.423

不要使用线程。使用计时器。如果*某物*很昂贵，请将其分派到主队列以外的某个队列并设置一些状态变量以显示它仍在运行（如果*某物*不打算同时运行）。然后，只需取消您的计时器。计时器回调函数的一个简单示例可能是：

```
- (void)doSomething:(NSTimer*)timer
{
  // this assumes that this "something" only ever
  // runs once at a time no matter what, adjust this
  // to an ivar if it's per-class instance or something
  static BOOL alreadyDoingSomething = NO;
  if( alreadyDoingSomething ) return;
  alreadyDoingSomething = YES;
  dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    [self updateSomething];
    alreadyDoingSomething = NO;
  });
} 
```

现在，如果您只是取消计时器，它将停止运行。当您准备好再次启动它时，使用此方法安排一个新的计时器作为指定的选择器。要使其行为类似于上面的示例，您可以将计时器间隔设置为三秒。

# blackberry - 调用侦听器方法时更新 BB OS 6 中的文本字段

> ID：12506153
> 
> 赞同：0
> 
> 时间：2012-09-20T04:42:56.533
> 
> 标签：blackberry, java-me

对于我的应用程序的 GUI 部分，当调用当场更改的 batteryStatusChange 方法时，如何更新 RichTextField？

我正在考虑调用一个 set 方法，然后让 RichTextField 获取该新数字，但除非我在添加新文本字段之前删除文本字段，否则它将生成一长串行。

诸如设备信息下的电池百分比数字或当场变化的信号强度之类的东西。

**编辑：**使用 setText 弄清楚

```
public void batteryStatusChange(int status) 
    {
        // TODO Auto-generated method stub
        if ((status & DeviceInfo.BSTAT_LEVEL_CHANGED) != 0)
        {           
            batteryStatusField.setText(getBatteryLevel());      

        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T18:08:22.823

```
batteryStatusField.setText(getBatteryLevel());

    public String getBatteryLevel() {
    return Integer.toString(DeviceInfo.getBatteryLevel()) + " %";
} 
```

通过将它放在我的 batteryStatusChange 侦听器函数中，让它与上面的代码一起工作。稍后我将在函数 getBatteryLevel() 之后添加更多参数以保持我的默认格式。

我的电池应用程序正在进行中 ![在此处输入图像描述](../Images/fc2dc5a58e04eb7de0f33065dcf45e16.png)

# c - 开发 iptables 模块的最佳方法是什么

> ID：12506156
> 
> 赞同：2
> 
> 时间：2012-09-20T04:43:38.007
> 
> 标签：c, linux, module, iptables

我有 iptv 提供商，它通过使用私钥 udp 多播流量加密来传送视频。这个时间流使用 udp2http 代理的补丁版本解码。我想开发 iptables 模块来“即时”解密数据包，因为我电视上的 iptv 频道切换在 udp 流上更快，而不是 http（并获得一些编写 iptables 模块的经验）。

有两种方法可以做到这一点（我认为）

1.  在模块本身中编写解密算法
2.  编写模块将数据发送到用户空间，编写守护进程解密数据包，并将数据包发送回过滤器。

首先会更快，其次 - 对系统更安全（因为网络堆栈的延迟可能会降低整体系统性能），并且可能具有更多功能，易于调试等。

哪种方式最好？每种方式有哪些优点和缺点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T11:32:07.660

使用 netfilter queue 编写用户空间程序将是一个更好的选择，因为可以快速开发解决方案（无需重新启动）并且您还可以测试性能。

# matlab - 在 MATLAB for 循环中恢复向量

> ID：12506159
> 
> 赞同：3
> 
> 时间：2012-09-20T04:43:40.443
> 
> 标签：matlab, loops, vector, for-loop

我在 MATLAB 中运行一个 for 循环。每次迭代都会产生一个长度不同于前一次迭代中创建的向量的向量。为什么要恢复每个单独的向量？最后，我想连接这些向量中的每一个。我的代码类似于

```
for i=1:n 
    v = zeros(1,i)
end 
```

所以之后`i=n`,`v`将是一个 n 向量，但我也想恢复任何向量`i`。在我的代码中，每个向量 ,`v`不是零行向量，而是一个不同大小的向量。谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T05:15:01.617

当罗迪的帖子（+1）通过时，我已经输入了这个，所以我想我也可以发布它。与 Rody 相比，效率略低的替代解决方案（我做了一些定时运行，差异很小）但避免了复杂的索引是：

```
A = cell(1, n);
for i = 1:n
    A{1, i} = zeros(1, i);
end
Soln = cat(2, A{:}); 
```

我通过循环将不同长度的行向量存储在一个单元格数组中，然后在最后一步将它们连接起来。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T05:00:02.607

最简单的方法是这样的：

```
w = [];
for i=1:n 
    v = zeros(1,i);

    %# your stuff here      

    w = [w v];
end 
```

它产生向量`w`，它是所有生成向量的串联`v`。

但是请注意，这很慢，因为`w`每次迭代都会增长。一个稍微复杂但更有效的解决方案是：

```
w = zeros(1, sum(1:n) );
j = 1;
for i=1:n 
    v = zeros(1,i);  

    %# your stuff here      

    w(1, j:j+i-1) = v;
    j = j+i;
end 
```

# c# - 在锚点上添加 onclick 属性

> ID：12506160
> 
> 赞同：0
> 
> 时间：2012-09-20T04:43:53.203
> 
> 标签：c#, attributes, anchor

我正在尝试以这种方式在锚标记上添加 onclick 属性

```
chq.Attributes["Onclick"] = "http://172.17.0.221:81/CheckVerification1.aspx?id=" + Session["U_EMAIL"].ToString(); 
```

这是我的锚标签

```
<a id="chq" runat="server"  target="_blank">Cheque</a> 
```

但是这种方式并不可行，任何人都可以提供替代方法来做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T04:52:14.303

用这个..

```
chq.Attributes["src"] = "http://172.17.0.221:81/CheckVerification1.aspx?id=" + Session["U_EMAIL"].ToString(); 
```

**html**

```
<a id="chq" runat="server" src="" target="_blank">Cheque</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:56:52.350

如果要在 onclick 事件触发时重定向，则必须使用锚标记的**src**属性，在后面的代码中，您可以通过这种方式将属性添加到原始 html 元素。

```
 chq.Attributes.Add("src", "http://172.17.0.221:81/CheckVerification1.aspx?id="); 
```

# css - 网页上看不到商业字体

> ID：12506163
> 
> 赞同：0
> 
> 时间：2012-09-20T04:44:17.083
> 
> 标签：css, fonts

我正在使用两种商业字体 *FrenchScriptStd*和*FuturaStd-Light* （我已经单独购买了它们，然后使用它们来创建网页）

这是我使用这种商业字体的第一页（我尝试过 googlefonts 但他们没有这些字体）...

```
@font-face {
  font-family: 'FrenchScriptStd';
  font-style: normal;
  font-weight: 400;
  src: local('FrenchScriptStd'), url('css/FrenchScriptStd.ttf') format('ttf');
}

@font-face {
  font-family: 'FuturaStd-Light';
  font-style: normal;
  font-weight: 400;
  src: local('FuturaStd-Light'), url('css/FuturaStd-Light.ttf') format('ttf');
}

#fontface1{font-family : Font1; }
h1{font-family : Font1; }
#fontface2{font-family : Font2; }
#nav a {font-family : Font2;} 
```

所以我想在使用*h1时显示法语字体，在使用**#nav a*时显示futura字体

 *```
/*  Typography
=============================================================== */
h1 { color:#cc6602; font-size:36px; font-family:FrenchScriptStd, arial, serif; font-weight:normal; padding-bottom:14px; }

#nav a {font-family:FuturaStd-Light, arial, serif; text-decoration:none; color:#a8241b; font-size:20px; text-shadow:0 1px #fff; display: block; } 
```

在我的电脑上它似乎可以工作，但在某些电脑上它显示不正确，有没有办法纠正这个问题，也许我搞砸了......

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-20T05:05:41.313

我会研究[Paul Irish 的防弹 @font-face 语法](http://paulirish.com/2010/font-face-gotchas/#smiley)，因为您在“某些计算机”上看不到字体的原因是这些计算机安装的浏览器可能与您最初测试的需要不同字体文件的浏览器不同，TrueType 除外。

我使用并取得很大成功的语法是：

```
@font-face {
    font-family: 'FrenchScriptStd';
    src: url('css/FrenchScriptStd.eot');
    src: url('css/FrenchScriptStd.eot?#iefix') format('embedded-opentype'),
         url('css/FrenchScriptStd.woff') format('woff'),
         url('css/FrenchScriptStd.ttf') format('truetype'),
         url('css/FrenchScriptStd.svg#FrenchScriptStd') format('svg');
    font-weight: normal;
    font-style: normal;
} 
```

我相信这是 FontSquirrel 使用的@font-face 样式。

请注意，在您的示例中，您尚未将字体转换为各种 Web 格式。您可以在线使用以下一些服务来转换所有文件：

*   [字体松鼠](http://www.fontsquirrel.com/fontface/generator)
*   [免费字体转换器](http://www.freefontconverter.com/)
*   [OTF 转 WOFF](http://orionevent.comxa.com/otf2woff.html)
*   [字体工具包生成器](http://fontface.codeandmore.com/)

然后，您应该在本地托管这些字体文件，因为您可能会遇到 MIME 类型和标题的问题，并且如果文件托管在外部并且不在使用它们的同一域中，则 FireFox 浏览器无法下载字体文件。

此外，您的里程在移动浏览器和旧版本的 IE 中[会有所不同。](http://caniuse.com/#search=font-face):)

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2012-09-20T04:47:01.453

字体必须安装在要显示您的网页的每台计算机上。*

# jquery - 如何创建 CSS3 动画 WebkitAnimationEnd 事件数组

> ID：12506164
> 
> 赞同：1
> 
> 时间：2012-09-20T04:44:20.657
> 
> 标签：jquery, animation, css

基本上我要做的是设置一个元素，我将应用大约 5 种不同的 css3 动画。我想做的是让 WebkitAnimationEnd 事件触发五个动画中的每一个。

所以当第一个动画结束时，它会触发 WebkitAnimationEnd 事件并激活第二个动画，依此类推......

[http://jsfiddle.net/lesballard/uFbUj/13/](http://jsfiddle.net/lesballard/uFbUj/13/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T07:59:38.493

我有**事件动画结束**。

动画结束时可以在这里看到[Demo](http://www.centerwow.com/main/portfolio/4/)

```
$(document).ready(function() {
             document.getElementById('animation-03').addEventListener('webkitAnimationEnd', function () {
                alert('CSS3 animation demo by centerwow/Yossi Levi')
            }, false);
         }); 
```

你可以从赫拉那里得到想法并匹配你的要求。

我希望我能有所帮助。谢谢

# ios - FBProfilePictureView 无法获取用户 ID

> ID：12506165
> 
> 赞同：1
> 
> 时间：2012-09-20T04:44:35.723
> 
> 标签：ios, facebook

我刚开始学习Facebook IOS SDK，现在遇到一个问题。我想加载用户个人资料视图但失败了。这是我的代码。

```
-(void)loginViewFetchedUserInfo:(FBLoginView *)loginView user:(id<FBGraphUser>)user
{
    loggedInUser=user;
    profilePic.profileID=user.id;
} 
```

我可以获取 user.id，但 profileID 为 nil。我不使用情节提要来创建 FBProfilePictureView。请帮助解决这个问题。非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-05T10:09:26.017

按照本教程[https://developers.facebook.com/docs/tutorials/.../3.0/scrumptious/](https://developers.facebook.com/docs/tutorials/.../3.0/scrumptious/) 另外，为了加载你必须这样做的图像图片：在 IB 中取消选中使用自动布局为 FBprofilepictureview，也取消选中“自动调整子视图”到视图中。这个对我有用！

# ruby - ruby 使用 kerberos 连接到 oracle

> ID：12506178
> 
> 赞同：0
> 
> 时间：2012-09-20T04:45:58.753
> 
> 标签：ruby, oracle, kerberos

由于 Oracle 内置了对 kerberos 的支持，并且 sqlplus 可以使用 oci8 使用 kerberos 连接到数据库，我可以在 ruby​​ 中做类似的事情吗？

```
require 'oci8'
oci = OCI8.new('SomeUser','SomePass','hostname.servicename')
oci.exec('select * from table') do |record|
  puts record.join(',')
end 
```

我可以有一个空白的用户名和密码吗？连接会成功吗？我在正确的道路上吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T11:52:54.757

我猜，Ruby/RoR 是针对 OCI 编译的，因为 Oracle 调用接口和网络服务支持 Kerberos 身份验证，这是可能的。虽然我无法判断 Ruby 的界面是否存在一些限制。

首先，您需要使用它`SQL*Plus`，然后尝试您的应用程序。[从配置 Kerberos 身份验证](http://docs.oracle.com/cd/E11882_01/network.112/e10746/asokerb.htm#ASOAG060)开始。

如果 Ruby OCI8 正确实现，应该这样做：

```
OCI8.new(nil, nil, 'net_service_name') 
```

或者

```
OCI8.new('/@net_service_name') 
```

# c++ - 标记字符串

> ID：12506180
> 
> 赞同：1
> 
> 时间：2012-09-20T04:46:13.827
> 
> 标签：c++, string, struct, stream, token

我想要做的是按照这种格式输入一个日期，`Wednesday 7:05 PM`然后将其分成令牌以放入我拥有的结构中。我的主要问题是我正在使用的 stringstream 对象没有从输入缓冲区中删除已经输入的字符串，所以在我第二次检查几个小时它失败了，因为它输入了 char 类型的东西到无符号中。我该如何解决？另外，如果您对我清理代码有任何建议，我将不胜感激。

```
struct Time{
        //  always in [0, 6]:
        //  0 means Sunday, 1 means Monday, ... , 6 means Saturday
    unsigned day;
        //  false means at or after midnight, and before the following noon (AM)
        //  true means at or after noon, and before the following midnight (PM)
    bool pm;
    unsigned hour;      //  in [1, 12], e.g. 12 for 12 o’clock
    unsigned minute;    //  in [0, 59]
};  //  struct Time

const string dayar[]={"Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"};

void input( Time & time ){
    string str, day, pm;
    unsigned hr, min;
    getline(cin,str);
    istringstream sin(str);
    cout<<str.length();
    for(unsigned i=0; i<str.length(); i++){
        if(str[i]==':')
            str[i]=' ';
    }
    if(!(sin>>day)){
        die("AHHHHH!!! WHERE'S THE INPUT?!?!?!");
    }else{
        for(unsigned i=0; i<7; i++){
            if(day==dayar[i]){
                time.day=i;
            }
        }
    }
    if(!(sin>>hr)){
        die("AHHHHH!!! WHERE'S THE INPUT?!?!?!");
    }else{
        if(hr<1 || hr>12){
            die("THAT NUMBER AIN'T A REAL HOUR!!");
        }else{
            time.hour=hr;
        }
    }
    if(!(sin>>min)){
        die("AHHHHH!!! WHERE'S THE INPUT?!?!?!");
    }else{
        if(min<0 || min>59){
            die("THAT NUMBER AIN'T A REAL HOUR!!");
        }else{
            time.minute=min;
        }
    }
    if(!(sin>>pm)){
        die("AHHHHH!!! WHERE'S THE INPUT?!?!?!");
    }else{
        if(pm!="PM" || pm!="AM"){
            die("THAT NUMBER AIN'T A REAL HOUR!!");
        }else{
            pm=="PM"?time.pm=true:time.pm=false;
        }
    }
}

bool die(const char *msg){
    cout<<msg;
    exit(EXIT_FAILURE);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:09:01.940

当您将冒号更改为空格时，您可以更改字符串，但您不会更改输入流缓冲的内容。

在声明输入流*之前*更改冒号。

此外，还有更好和更多的“C++-ish”方法可以做到这一点，例如[`std::transform`](http://en.cppreference.com/w/cpp/algorithm/transform)：

```
#include <algorithm>

// ...

std::transform(str.begin(), str.end(), str.begin(),
    [](const char c){ return (c == ':' ? ' ' : c); }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:51:43.107

我不明白为什么您不会在一份声明中阅读这些值。像这样的东西：

```
// Map day names to day number
map<string,unsigned> days;
for( unsigned i = 0; i < 7; i++ ) days[dayar[i]] = i;

bool ParseTime( const string& str, Time& time )
{
    bool valid = false;
    istringstream sin(str);

    string day, pm;
    unsigned hour, minute;  // Because unsigned, we don't bother to test >= 0
    char colon;

    if( sin >> day >> hour >> colon >> minute >> pm )
    {
        // Sanity test...
        valid = (days.find(day) != days.end())
             && (hour >= 1 && hour <= 12)
             && (colon == ':')
             && (minute < 60)
             && (pm == 'AM' || pm == 'PM');
    }

    if( !valid ) return false;

    time.day = days[day];
    time.hour = hour;
    time.minute = minute;
    time.pm = (pm == 'PM');

    return true;
} 
```

我的意思是，如果您想对每个可能的日期解析错误大喊大叫，那就继续吧！=) 但这只会导致难以理解的混乱代码。

# social - 如何与其他人共享故事片的编辑决策列表 (EDL)，以便他们使用 EDL 轻松观看电影？

> ID：12506182
> 
> 赞同：3
> 
> 时间：2012-09-20T04:46:30.397
> 
> 标签：social, editing, movie

我为故事片（即[战争游戏）创建了一个](http://www.imdb.com/title/tt0086567/)[编辑决策列表](http://en.wikipedia.org/wiki/Edit_decision_list)(EDL )。EDL 所做的只是指定一些要删除的场景。我现在想与朋友分享这个 EDL，让他可以**轻松地**使用我的 EDL 观看电影。最简单的方法是什么？

 **我想要一个适用于 Linux、OSX、Windows 的解决方案。

我知道你可以用[mplayer](http://www.oreillynet.com/sysadmin/blog/2005/06/make_your_own_phantom_edit_wit.html)做到这一点，但是大多数人没有安装 mplayer 并且你必须知道如何传递一些参数才能使用 EDL 观看电影。这对很多人来说太难了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2021-02-12T09:27:45.390

我知道这已经很老了，但它仍然是一个问题。似乎它没有足够的社区支持。

我对这个主题做了一些试验。大多数流行的播放器不支持 EDL。即使它们像 VLC 一样可扩展，设置这样的高级附加组件（类型：VLC 接口）仍然很麻烦。

因为您正在寻找跨平台的。对我来说最好的当前路径。

1.  修补流行的播放器或使用高级插件（如 VLC）

    很长的正确路径，我找不到现有的项目。正如我已经尝试过 VLC 一样，太糟糕了，它的 Lua 不完整且有限（原始开发人员离开了）。我有一个糟糕的原型，EDL 处理器可以工作。

    更新：新项目出现在这里，[https://github.com/ophirhan/cnsr-vlc-viewer-addon](https://github.com/ophirhan/cnsr-vlc-viewer-addon)

2.  带有通用批处理/Shell 脚本（mplayer 的代理）的便携式 mplayer（如[SMPlayer Portable](https://portableapps.com/apps/music_video/smplayer_portable)）以检查具有相同电影文件名的 EDL，然后使用`-edl`参数启动 mplayer。

    一种解决方法，但值得付出努力。制作完成后，甚至可以制作成快捷方式替代原来的播放器。

3.  [`mvp`](https://github.com/mpv-player/mpv/blob/master/DOCS/edl-mpv.rst)（也是便携式的）也是一种选择，因为它的 EDL 实现是一个播放列表。

    与 XML 相同的目标和一点点复杂。您还可以共享许多[`.XSPF`播放](https://wiki.videolan.org/XSPF/)器（如 VLC）支持的播放列表。**

# java - 从选项卡主机添加选项卡、编辑选项卡和删除选项卡

> ID：12506183
> 
> 赞同：0
> 
> 时间：2012-09-20T04:46:33.967
> 
> 标签：java, android, android-tabhost, tabwidget

我希望能够将标签添加到我的 TabHost。我原来的 tabwidget 将有 2 个选项卡：
1 个称为“Tab 1”
1 个称为“添加选项卡”
我希望在用户单击“添加选项卡”时生成一个新选项卡，以便我有 3 个选项卡
1 称为“选项卡” 1'
1 称为 'Tab 2'
1 称为 'Add Tab'
可以通过这种方式添加更多选项卡，而 'Add Tab' 始终是最后一个选项卡。
在编码方面，我找不到 TabHost 的“insertTabAt”甚至“updateTab”方法。
所以我想我可以删除“添加标签”，创建新的“标签 X”并重新创建“添加标签”。要删除我使用的选项卡：
tabHost.getTabWidget().removeViewAt(index);

当调用 public void onTabChanged(String tabId) 时，单击我新创建的“Tab X”后，tabId 仍然是我原来的“添加选项卡”。（以确保我原来的和新的“添加标签”有不同的 tabId）
快速浏览后，看起来我可能必须删除所有标签并重新生成它们，我不喜欢这个想法。
有没有人尝试过实现类似于我的添加选项卡功能？它是 PC 上常见的 UI 功能。或者，关于删除标签的任何提示？请注意，除了“选项卡 1”之外，我的所有选项卡都是以编程方式创建的。
TIA

# iphone - 以编程方式在 UIImage 和 UILabel 之间添加图像

> ID：12506184
> 
> 赞同：0
> 
> 时间：2012-09-20T04:46:35.093
> 
> 标签：iphone, objective-c, ios

我有一个`UIImage`上面，我应该以`UIImage`编程方式添加另一个，上面会有一个`UILabel`. 我成功添加了图像，但它与标签重叠。

如果 1\. BG 图像 2\. 要以编程方式添加的图像 3\. 标签，

那么我想要的序列是 1 2 3

我得到的是

1 3 2

2 与我的标签重叠。我尝试过发送到后面、放在前面和`bringSubviewToFront`. 它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:36:44.620

```
UIImageView *img2=[[UIImageView alloc] initWithImage: [UIImage imageNamed: @"TDK 3 Speaker.png"]];
//img2.backgroundColor=[UIColor clearColor];
[BgImage addSubview:img2];
UILabel *lblText=[[UILabel alloc]initWithFrame:CGRectMake(200, 0, 200, 40)];
lblText.text=@"I am Here";
//lblText.backgroundColor=[UIColor clearColor];
[BgImage addSubview:lblText]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:53:44.947

您应该做的是在该序列本身中添加特定图像，即在 ViewWillAppear 或 ViewDidLoad 方法中使用该方法 `self.view addSubview:BGimage`。然后在前一个图像上添加下一个图像，如 `BGimage addSubview:image2`. 同样在 Image 2 上添加 UILabel `Image2 addSubview:Label`

这会将您的图像和标签放在您想要的特定顺序中:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T04:57:06.120

试试这个，添加 QuartzCore.framework 并在你的头文件中

```
#import <QuartzCore/QuartzCore.h> 
```

在你的实现文件中

```
your_Label.layer.zPosition=your_secondImage.layer.zPosition+1; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T05:12:56.417

添加的顺序在这里很重要，后面的在前面添加子视图应该按顺序调用，首先是BGImage，然后是Image，然后是Label

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T05:15:21.923

如果你想显示 BG Image (1) 那么你也可以使用`UIView`代替`UIImageView`你也可以做同样的事情`UIImageView`。

```
[yourUIView setBackgroundColor:[UIColor colorWithPatternImage:[UIImage imageNamed:@"yourBackGroundImage"]]];

[yourUIView setFrame:CGRect(x,y,width,height)]; //yourExpectedFrame; 
```

现在，创建一个`UIImageView`(2)并在其中`UIImage`设置 a ，还创建一个(3) 并根据the和相应的 with给出它。就这样。你完成了！`frame``UIView``UILabel``frame``UIView``UIImageView`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-20T06:52:38.577

我不确定，但你试试这个：

为 UIImageView 设置属性 maskToBounds: YES。

# flash - 如何在 Flash 中的 AS3 脚本中向现有歌曲添加 2 首歌曲？

> ID：12506185
> 
> 赞同：0
> 
> 时间：2012-09-20T04:46:46.973
> 
> 标签：flash, list, audio, actionscript

由于我是 Flash CS6 actionscript 3 的新手，有人可以具体地举一个详细的例子，向我解释一下如何向我的播放器添加 2 首歌曲，并且仍然使用当前的播放和暂停按钮来控制它们吗？

非常感谢！

```
import flash.media.Sound;
import flash.media.SoundChannel;
import flash.events.MouseEvent;

var mySound:Sound = new heyjude();
var myChannel:SoundChannel = new SoundChannel();
var lastPosition:Number = 0;

pause_btn.addEventListener(MouseEvent.CLICK, onClickPause);

function onClickPause(e:MouseEvent):void{
lastPosition = myChannel.position;  
myChannel.stop();
}

play_btn.addEventListener(MouseEvent.CLICK, onClickPlay);

function onClickPlay(e:MouseEvent):void{
myChannel.stop()
myChannel = mySound.play(lastPosition);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T04:42:09.863

我只是假设有四个标题/标题按钮和四个标题通道来编写这个示例代码。我有一个标题声音的声道。我可以停止或暂停或播放声音。简单地说，我可以使用`titleChannel`.

```
import flash.media.Sound;
import flash.media.SoundChannel;
import flash.events.MouseEvent;

var titleSound1:Sound = new TitleSound1();
var titleSound2:Sound = new TitleSound2();
var titleSound3:Sound = new TitleSound3();
var titleSound4:Sound = new TitleSound4();

var mySound:Sound = new heyjude();

var titleChannel:SoundChannel;
var myChannel:SoundChannel;

var lastPosition:Number = 0;

titleBtn1.addEventListener(MouseEvent.CLICK, title1Selected);
titleBtn1.addEventListener(MouseEvent.CLICK, title2Selected);
titleBtn1.addEventListener(MouseEvent.CLICK, title3Selected);
titleBtn1.addEventListener(MouseEvent.CLICK, title4Selected);

play_btn.addEventListener(MouseEvent.CLICK, onClickPlay);
pause_btn.addEventListener(MouseEvent.CLICK, onClickPause);

function title1Selected(e:MouseEvent){
    if(titleChannel != null) titleChannel.stop();
    titleChannel = titleSound1.play();
}

function title2Selected(e:MouseEvent){
    if(titleChannel != null) titleChannel.stop();
    titleChannel = titleSound2.play();
}

function title3Selected(e:MouseEvent){
    if(titleChannel != null) titleChannel.stop();
    titleChannel = titleSound3.play();
}

function title4Selected(e:MouseEvent){
    if(titleChannel != null) titleChannel.stop();
    titleChannel = titleSound4.play();
}

function onClickPause(e:MouseEvent):void{
    lastPosition = myChannel.position;  
    myChannel.stop();
}

function onClickPlay(e:MouseEvent):void{
    myChannel.stop()
    myChannel = mySound.play(lastPosition);
} 
```

`myChannel`如果您想像其他声音一样暂停和恢复标题声音的播放，请按照您在功能`onClickPause`和中所做的相同操作`onClickPlay`。

注意：如果您想为某个事件播放声音（例如背景或爆炸期间或其他），并且该事件经常发生，那么请不要犹豫，为该声音创建一个`SoundChannel`实例来控制该声音。

# android - 尝试在 Cocos2d-X C++ 中使用整数作为字符串的一部分设置 CCLabelTTF

> ID：12506187
> 
> 赞同：6
> 
> 时间：2012-09-20T04:46:58.783
> 
> 标签：android, c++, string, cocos2d-x, cclabelttf

因此，在带有 Cocos2d 的 Objective-C 中，我会使用带有格式的 NSMutableString 将变量（分数）放入字符串中。我会使用该字符串并使用 CCLabel 将其放置在屏幕上。

使用 Cocos2D-x，我很难找到获得此结果的方法。一个简单的例子会很棒。谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-20T06:48:54.073

```
int score = 35;
float time = 0.03;
char* name = "Michael";
char text[256];
sprintf(text,"name is %s, time is %.2f, score is %d", name, time, score);
CCLabelTTF* label = CCLabelTTF::labelWithString(text,"Arial",20);
this->addChild(label); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-17T17:11:05.763

在任何给定时间设置字符串的更简单的解决方案（[从这里开始](https://github.com/cocos2d/cocos2d-x/pull/1833)）。首先在代码中的某处定义一个宏。

```
#define ccsf(...) CCString::createWithFormat(__VA_ARGS__)->getCString() 
```

然后您可以随时更改字符串，如下所示：

```
m_pScoreLabel->setString(ccsf("%d pts", mCurrentScore)); 
```

# php - 加载 jquery 函数时，已预先单击表单发送按钮

> ID：12506188
> 
> 赞同：0
> 
> 时间：2012-09-20T04:46:59.800
> 
> 标签：php, jquery

假设 a,b,c 结果是通过回 显`$scname`变量从数据库动态生成的，并`showtablesc`在`onclick`. `a,b ,c`但是除了第一次点击之外，当我点击任何结果时，表单上的发送按钮似乎总是被预先点击。

我的 PHP 代码在这里：

```
 echo "<a  href='#$name' style='margin-left: 30px' onclick=showtablesc();>$scname</a><br>"; 
```

html在这里..

```
 <table id="jobs" style="display:none"  bgcolor="#0099FF" align="center"

     <tr  ><td> j tittle</td><td><input type="text" name="tittle" /></td></tr>
     <tr ><td><input type='button' value='send'  id="send"  /></td> </tr>
    </table> 
```

jquery函数在这里

```
function showtablesc(){

$('#jobs').show('fast');
$('#send').click(function(){
    $('#send').replaceWith("<em>sending...</em>");

    }); 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:01:09.387

似乎您的 tr 具有“工作”类，而您的按钮则具有。这意味着 JQuery 将对两者都执行单击，并且您的 tr 是第一个处理它的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:21:42.327

```
echo "<a  href=\"#$name\" class=\"my-link\" style=\"margin-left: 30px\">$scname</a><br />";

$(document).ready(function(){

    $('a.my-link').click(function(){
        $('#jobs').show('fast').find('em').replaceWith('<input type="button" value="Send" class="jobs" />');
    });

    $('#jobs').on('click','input.jobs',function(){   
        $(this).replaceWith("<em>sending...</em>");   
    });   

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:22:46.550

将您的`HTML`块更改为此

```
<table id="jobs_table" style="display:none"  bgcolor="#0099FF" align="center">

 <tr class="jobs" >
    <td> j tittle</td>
    <td><input type="text" name="tittle" /></td>
 </tr>
 <tr >
    <td><input type='button' value='send'  class="jobs_button"/></td> 
 </tr>
</table> 
```

而你`Jquery`的

```
function showtablesc(){
   $('.jobs_button').removeAttr("id");

   $('.jobs_button').attr('id', 'send');
   $('#jobs_table').show('fast');
   $('#send').click(function(){
       $('#send').replaceWith("<em>sending...</em>");
   });
} 
```

# apache-flex - 代码中的未知错误

> ID：12506190
> 
> 赞同：0
> 
> 时间：2012-09-20T04:47:03.710
> 
> 标签：apache-flex

我已经用验证器创建了一个表单。每次代码运行到 label.text 或与 label.text 相关的函数时，都会弹出以下错误。以下错误是否意味着验证器有错误或 label.text 的默认值错误？

* * *

```
ReferenceError: Error #1069: Property Text not found on spark.components.TextInput and there is no default value.
    at mx.validators::Validator/getValueFromSource()[E:\dev\4.y\frameworks\projects\framework\src\mx\validators\Validator.as:980]
    at mx.validators::Validator/validate()[E:\dev\4.y\frameworks\projects\framework\src\mx\validators\Validator.as:940]
    at mx.validators::Validator/triggerHandler()[E:\dev\4.y\frameworks\projects\framework\src\mx\validators\Validator.as:1167]
    at flash.events::EventDispatcher/dispatchEventFunction()
    at flash.events::EventDispatcher/dispatchEvent()
    at mx.core::UIComponent/dispatchEvent()[E:\dev\4.y\frameworks\projects\framework\src\mx\core\UIComponent.as:13152]
    at spark.components.supportClasses::SkinnableTextBase/textDisplay_valueCommitHandler()[E:\dev\4.y\frameworks\projects\spark\src\spark\components\supportClasses\SkinnableTextBase.as:2743]
    at flash.events::EventDispatcher/dispatchEventFunction()
    at flash.events::EventDispatcher/dispatchEvent()
    at mx.core::UIComponent/dispatchEvent()[E:\dev\4.y\frameworks\projects\framework\src\mx\core\UIComponent.as:13152]
    at spark.components::RichEditableText/set text()[E:\dev\4.y\frameworks\projects\spark\src\spark\components\RichEditableText.as:2115]
    at spark.components.supportClasses::SkinnableTextBase/set text()[E:\dev\4.y\frameworks\projects\spark\src\spark\components\supportClasses\SkinnableTextBase.as:1400]
    at spark.components::TextInput/set text()[E:\dev\4.y\frameworks\projects\spark\src\spark\components\TextInput.as:280]
    at productDetailComp/onNew()[C:\Users\School\Adobe Flash Builder 4.6\FYPadminSideV3\src\productDetailComp.mxml:44]
    at productDetailComp/__newBut_click()[C:\Users\School\Adobe Flash Builder 4.6\FYPadminSideV3\src\productDetailComp.mxml:314] 
```

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:08:29.177

请注意，错误表示未找到属性“文本”（大写 T）。`TextInput`有一个`text`带有小写“t”的属性。

听起来您已将 配置`Validator`为验证不正确的属性名称。也就是说，你正在这样做：

```
<mx:Validator source="{myTextInput} property="Text" /> 
```

什么时候应该是这样的：

```
<mx:Validator source="{myTextInput} property="text" /> 
```

# iphone - 离开一个视图控制器时终止 NSTimer

> ID：12506196
> 
> 赞同：0
> 
> 时间：2012-09-20T04:47:20.933
> 
> 标签：iphone, objective-c, ios, ios5, nstimer

我只是碰巧意识到，`NSTimer`当我离开`ViewController`类似按下后退按钮时，它仍在触发。终止该特定的适当方法是`NSTimer`什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T04:50:54.583

您可以在 viewDidDisappear 事件中处理它：

```
-(void)viewDidDisappear:(BOOL)animated {
    [myTimer invalidate];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T04:51:59.893

您可以使用此方法终止您的`NSTimer`-

```
[timer invalidate]; //timer is your NSTimer 
```

你可以`invalidate`这样`timer`-

**一、方法**

```
-(void)viewWillDisappear:(BOOL)animated
{
    [timer invalidate];
} 
```

**2.方法**

```
-(void)viewDidDisappear:(BOOL)animated
{
    [timer invalidate];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:03:11.510

这是我从你的问题中理解的：

**您想在转到另一个 ViewController 时使计时器无效吗？**

所以试试这个：

```
YourViewController *objController = [[YourViewController alloc] initWithNibName:@"YourViewController" bundle:nil];
[self.navigationController pushViewController:objController animated:YES];
[timer invalidate]; //your timer object goes here 
```

**编辑：**

或者如果你正在弹出 ViewConrtoller/Dismissing viewContoller，然后放

```
[timer invalidate]; 
```

在那段代码之后。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T05:15:22.983

我建议您制作自定义导航控制器类，使用它可以在弹出视图控制器时发生事件。

```
#import "customNavigationController.h"
#import "SettingsTableController.h"

@implementation customNavigationController

- (UIViewController *)popViewControllerAnimated:(BOOL)animated
{
    if([[self.viewControllers lastObject] class] == [SettingsTableController class]){
        [[(SettingsTableController *)[self.viewControllers lastObject] timer] invalidate];
        [UIView beginAnimations:nil context:NULL];
        [UIView setAnimationDuration: 1.00];
        [UIView setAnimationTransition:UIViewAnimationTransitionCurlDown
                    forView:self.view cache:NO];

        UIViewController *viewController = [super popViewControllerAnimated:NO];

        [UIView commitAnimations];

        return viewController;
    } else {
        return [super popViewControllerAnimated:animated];
    }
}
@end 
```

在这里， SettingsTableController 是具有 NSTimer 的类，因此您可以使计时器无效。这将有助于在呈现任何模态视图甚至推送视图控制器时不使计时器无效。

更多详细信息[http://www.hanspinckaers.com/custom-action-on-back-button-uinavigationcontroller](http://www.hanspinckaers.com/custom-action-on-back-button-uinavigationcontroller)

# c# - C 到 C# 翻译，调用 WinAPI 函数：ControlIoDevice

> ID：12506198
> 
> 赞同：1
> 
> 时间：2012-09-20T04:47:27.097
> 
> 标签：c#, c, unmanaged, deviceiocontrol

我正在尝试将一些用 C 编写的代码翻译成 C#（Compact Framework 2.0）（适用于带有 RFID 阅读器的 Windows CE 设备）。

在 C 中，这个系统调用工作正常，但在 C# 中不起作用：

C语言代码

```
HANDLE m_Power =NULL; //<-- This HANDLE is set correctly before call "ControlDevice"
int ControlDevice(int device, BYTE power_state)
{
bool bRet;
    DWORD tcBuffer2,dwBytesReturned;
    unsigned int a = sizeof(power_state);
    bRet=DeviceIoControl(   m_Power, 
                device, 
                &power_state, 
                sizeof(power_state),  
                (PBYTE)&tcBuffer2, 
                sizeof(DWORD),
                &dwBytesReturned, 
                NULL);
    if(bRet)
        return 1;
    else
        return -1;
} 
```

C# 中的代码

```
int ControlDevice(int device, byte[] power_state)
    {
        try
        {
            bool bRet = false;
            int bytesReturned = 0;
            byte[] tcBuffer2 = new byte[1];
            tcBuffer2[0] = 0;

            bRet = Device_WinApi.DeviceIoControlCE(m_Power,
                                    device,
                                    power_state,
                                    (int)Marshal.SizeOf(power_state),
                                    tcBuffer2,
                                    (int)Marshal.SizeOf(tcBuffer2),
                                    out bytesReturned,
                                    IntPtr.Zero);
            if (bRet)

                return 1;
            else
            {
                int LastError = Device_WinApi.GetLastError();
                return -1;
            }
        }
        catch (Exception e)
        {
            return -1;
        }
    } 
```

DLL是这样导入的：

```
[return: MarshalAs(UnmanagedType.Bool)]
[DllImport("coredll.dll", EntryPoint = "DeviceIoControl", SetLastError = true)]
internal static extern bool DeviceIoControlCE(
                IntPtr hDevice,
                long dwIoControlCode, 
                byte[] lpInBuffer,
                int nInBufferSize,
                byte[] lpOutBuffer,
                int nOutBufferSize,
                out int lpBytesReturned,
                IntPtr lpOverlapped); 
```

在当前的 C# 实现中，bRet = false，I 应该为 true，因为这是在 C 中获得的值

这也返回零：

```
 int LastError = Device_WinApi.GetLastError() 
```

任何帮助将不胜感激！

感谢您提前抽出时间！！

# iphone - 应用程序可以在模拟器上运行，但不能在 ipod touch 上运行

> ID：12506200
> 
> 赞同：0
> 
> 时间：2012-09-20T04:47:45.270
> 
> 标签：iphone, ios, ios-simulator, contacts

我开发了一个应用程序，将联系人导入地址簿。该应用程序在模拟器上运行良好，但是当我在我的 ipod touch 上进行测试时，它无法正常工作。它不会崩溃，但会给出错误的结果。我不知道它有什么问题。这是我认为它适用于模拟器但不适用于 ipod touch 的代码。

```
CFErrorRef couldAddPersonError = NULL;
BOOL couldAddPerson = ABAddressBookAddRecord(addressBook,
                                                 person,
                                                 &couldAddPersonError);

CFErrorRef couldSaveAddressBookError = NULL;
BOOL couldSaveAddressBook = ABAddressBookSave(addressBook,
                                                   &couldSaveAddressBookError); 
```

提前致谢

# python - 通过 Pyral 向 Rally 添加任务

> ID：12506201
> 
> 赞同：3
> 
> 时间：2012-09-20T04:47:47.573
> 
> 标签：python, api, rally, pyral

我对 Rally 还很陌生，并且一直在对其进行测试。我一直在查看他们的 python 框架来使用他们的 API。不幸的是，在文档中我找不到添加任务的方法。

以前有没有人使用过这个，或者任何人都可以建议一种通过 API 导入任务的简单方法？目前，我有一个完整的电子表格，其中包含遵循 csv 模板导入数据的任务。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-21T04:12:43.030

一个 Rally 任务项必须与一个 WorkProduct（通常是一个工件，如 HierarchicalRequirement（又名 UserStory）、Defect 或 TestCase）相关联。使用 pyral 工具包，一旦你有你的 Rally 实例，获取要与任务关联的 Workspace、Project 和 WorkProduct 的对象引用，然后用这些项目以及其他必需的 Task 属性填充 Python dict 并抛出它在拉力赛。

任务创建配方：

```
[insert your boilerplate code for dealing with command line args, Rally options, etc]
rally = Rally(server, username, password, workspace=workspace, project=project)
artifact_ident = args.pop()  # get the FormattedID of an artifact as the Task relation target
wksp = rally.getWorkspace()
proj = rally.getProject()

artifact = rally.get("UserStory", fetch="FormattedID", 
                                  query='FormattedID = "%s"' % artifact_ident,
                                  instance=True)
# for a Task, the Workspace, Project, WorkProduct, Name, State and TaskIndex attributes
# are required. The Workspace, Project and WorkProduct attributes must be supplied as
# valid Rally object references.  
info = { "Workspace"   : wksp.ref,
         "Project"     : proj.ref,
         "WorkProduct" : artifact.ref,
         "Name"        : "Scrape vanilla bean",
         "State"       : "Defined",
         "TaskIndex"   : 1,
         "Description" : "With a dull knife, strip material from the vanilla bean"
       }
task = rally.put('Task', info)
print "Created Task: %s  associated with UserStory %s" % (task.FormattedID, artifact.FormattedID) 
```

# plsql - pl/sql 更新过程不能通过参数工作

> ID：12506204
> 
> 赞同：1
> 
> 时间：2012-09-20T04:48:20.427
> 
> 标签：plsql

这是程序：

```
create or replace procedure CHECK_INFO_ACTUAL_AMOUNT_UPD(
ACTUAL_AMOUNT IN CHECK_INFO.ACTUAL_AMOUNT%TYPE,
CHECK_INFO_ID IN CHECK_INFO.ID_CHECK_INFO%TYPE,
TOTAL_ADJUSTMENT IN CHECK_INFO.TOTAL_ADJUSTMENT_ACCRUEMENT%TYPE
) 
is
begin
  UPDATE CHECK_INFO C SET C.ACTUAL_AMOUNT = ACTUAL_AMOUNT,
  C.IS_ACCUMULATION_COMPLITED = 5,
  C.TOTAL_ADJUSTMENT_ACCRUEMENT = TOTAL_ADJUSTMENT 
  WHERE C.ID_CHECK_INFO = CHECK_INFO_ID;
  COMMIT;
    EXCEPTION
    WHEN OTHERS
    THEN
      DBMS_OUTPUT.PUT_LINE(SQLERRM);
      ROLLBACK;
end CHECK_INFO_ACTUAL_AMOUNT_UPD; 
```

问题是当我通过传递参数时，程序不会更新 ACTUAL_AMOUNT 字段，但是当我在程序内部分配值时它会更新

```
...
UPDATE CHECK_INFO C SET C.ACTUAL_AMOUNT = 111,
... 
```

我试图调试值以传递参数... 问题是什么？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:16:06.900

它不起作用，因为您使用相同的参数名称（ACTUAL_AMOUNT、ID_CHECK_INFO）。
为了避免混淆，您应该使用某种约定来命名程序参数，我使用`p_`它作为首字母。

试试这个：

```
create or replace procedure CHECK_INFO_ACTUAL_AMOUNT_UPD(
P_ACTUAL_AMOUNT IN CHECK_INFO.ACTUAL_AMOUNT%TYPE,
P_CHECK_INFO_ID IN CHECK_INFO.ID_CHECK_INFO%TYPE,
P_TOTAL_ADJUSTMENT IN CHECK_INFO.TOTAL_ADJUSTMENT_ACCRUEMENT%TYPE
) 
is
begin
  UPDATE CHECK_INFO C SET C.ACTUAL_AMOUNT = P_ACTUAL_AMOUNT,
  C.IS_ACCUMULATION_COMPLITED = 5,
  C.TOTAL_ADJUSTMENT_ACCRUEMENT = P_TOTAL_ADJUSTMENT 
  WHERE C.ID_CHECK_INFO = P_CHECK_INFO_ID;
  COMMIT;
    EXCEPTION
    WHEN OTHERS
    THEN
      DBMS_OUTPUT.PUT_LINE(SQLERRM);
      ROLLBACK;
end CHECK_INFO_ACTUAL_AMOUNT_UPD; 
```

# iphone - 当应用程序进入后台状态时如何取消 AVExportSession？

> ID：12506206
> 
> 赞同：4
> 
> 时间：2012-09-20T04:48:33.930
> 
> 标签：iphone, ios, ios5

我`AVExportSession`在导出大文件时遇到问题。当应用程序处于`background`状态或锁定状态时，应用程序将在导出过程中崩溃。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-10T16:53:43.700

不幸的是，您需要`cancelExport`在应用程序进入后台状态之前调用您的 exportSession，或者如果您确定它不会花费太长时间，您可以注册一个后台任务以完成导出，这将使您的应用程序大约一分钟在被踢之前完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-21T06:12:57.200

至少对于 iOS10 或更高版本，当您的应用程序恢复时，AVExport Session 将返回失败，并带有 AVError.operationInterrupted。我的做法是在检测到所有内容后立即删除所有内容并重新启动导出。

# android - 段落标签上的@font-face 渲染问题，Chrome Android 4

> ID：12506207
> 
> 赞同：6
> 
> 时间：2012-09-20T04:48:39.263
> 
> 标签：android, css, google-chrome, tablet

我在 Nexus 7、Android 4 平板电脑上的 Chrome 中遇到了一个奇怪的问题。

当我尝试使用网络字体设置标签的样式时，字体在达到某个或大小`p`之后才会呈现：`em``px`

CSS：

```
 @font-face {
        font-family: 'mija';
        src: url('/assets/fonts/mija-reg/mija-reg.eot');
        src: url('/assets/fonts/mija-reg/mija-reg.eot?#iefix') format('embedded-opentype'),
        url('/assets/fonts/mija-reg/mija-reg.woff') format('woff'),
        url('/assets/fonts/mija-reg/mija-reg.ttf') format('truetype'),
        url('/assets/fonts/mija-reg/mija-reg.svg#mija') format('svg');
        font-weight: normal;
        font-style: normal;
    }

    p {
        font-size: 16px;
        font-family: 'mija'
    } 
```

还有我的 HTML：

```
<!DOCTYPE html>
<html >
    <head>
        <meta charset="utf-8">
        <title></title>
        <meta name="description" content="">
    </head>
    <body>
        <p>Hello world</p>
    </body>
</html> 
```

在这种情况下，任何`17px`及以上都将正确呈现字体。

这只发生在`p`标签上。每个其他元素都将以任何大小呈现字体而不会出现问题。

我尝试了 3 种不同的字体系列。我没有使用任何规范化文件或任何其他 CSS。

我试图创建一个小提琴，但网络字体没有从谷歌在 Android Chrome 上的网络服务中提取：

[http://jsfiddle.net/yxcec/4/](http://jsfiddle.net/yxcec/4/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T12:23:34.040

完全同意这是@Yahreen 已经回答的错误。

我注意到，虽然我在处理一个网站时遇到了这个问题，但有些页面似乎比其他页面运行得更好。所以我花了一些时间试图弄清楚为什么会这样，以及在此期间是否可以使用任何类型的“解决方法”。

我个人在让 Webfonts 在 Android - Nexus S 和 Nexus 7 的 Chrome 上正确呈现时遇到了问题。

我发现，如果您使用元素的宽度，似乎可以在某种程度上解决该错误，并且仍然可以让 18px 以下的网络字体正确呈现。

在附加的示例代码中，似乎一切都在 88.8% 的最大宽度上工作。你可以有一个更宽的第一个 DIV，但它会破坏下面的 DIV。一切似乎都只在那个神奇的百分比上起作用。对于某些人来说，这可能是一个不错的解决方法。您的里程可能会有所不同，您可能需要使用百分比 - 我需要在响应式布局（gridpak）中稍微调整百分比，但我怀疑它可能仍然符合总体百分比方面的相同逻辑。毕竟这个错误的行为很奇怪，但这似乎确实将它稳定为一些可用的模式，也许这可以帮助你。

其他人可能会更深入地了解这里的作用，并可能提供更多建议/解释。

你可以在这里看到测试：[http ://richhollis.github.com/grumpy-wizard-font-test/](http://richhollis.github.com/grumpy-wizard-font-test/)

```
<!DOCTYPE>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Grumpy Wizards</title>
    <meta name="viewport" content="width=device-width">

    <link href='http://fonts.googleapis.com/css?family=Finger+Paint' rel='stylesheet' type='text/css'>

    <style>
      body { font-family: 'Finger Paint', cursive; }
    </style>
  </head>

  <body style="margin:0; padding:0; background-image: url('http://www.thezorklibrary.com/history/image/grumpy_wizard1a.png')">

    <div style="width: 88.8%; background: red; opacity: 0.8">
      <h1>Grumpy wizards make toxic brew for the evil Queen and Jack</h1>
      <h2>Grumpy wizards make toxic brew for the evil Queen and Jack</h2>
      <p>Grumpy wizards make toxic brew for the evil Queen and Jack</p>
      <p style="font-size:18px">18px Grumpy wizards make toxic brew for the evil Queen and Jack</p>
      <p style="font-size:17px">17px Grumpy wizards make toxic brew for the evil Queen and Jack</p>
    </div>

    <div style="width: 88.8%; background: yellow; opacity: 0.8">
      <h1>Grumpy wizards make toxic brew for the evil Queen and Jack</h1>
      <h2>Grumpy wizards make toxic brew for the evil Queen and Jack</h2>
      <p>Grumpy wizards make toxic brew for the evil Queen and Jack</p>      
      <p style="font-size:18px">18px Grumpy wizards make toxic brew for the evil Queen and Jack</p>
      <p style="font-size:17px">17px Grumpy wizards make toxic brew for the evil Queen and Jack</p>
    </div>

    <div style="width: 88.8%; background: purple; opacity: 0.8">
      <h1>Grumpy wizards make toxic brew for the evil Queen and Jack</h1>
      <h2>Grumpy wizards make toxic brew for the evil Queen and Jack</h2>
      <p>Grumpy wizards make toxic brew for the evil Queen and Jack</p>      
      <p style="font-size:18px">18px Grumpy wizards make toxic brew for the evil Queen and Jack</p>
      <p style="font-size:17px">17px Grumpy wizards make toxic brew for the evil Queen and Jack</p>
    </div>    

    <div id="size"></div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.2.min.js"><\/script>')</script>
    <script>$(function(){ 
      $("#size").text("window.innerWidth = " + window.innerWidth);
    });</script>

  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T22:08:02.693

我相信这是 Webkit 中的一个错误。

看起来这可能是相关的错误或与问题有关：

**Android Chrome 字体缩放会破坏网络字体**

[http://code.google.com/p/chromium/issues/detail?id=138257](http://code.google.com/p/chromium/issues/detail?id=138257)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T18:41:29.693

I've been running into this issue constantly. When the parent container of the offending element is sized using percentages or ems, the webfont breaks. When it's sized with pixels, the font works fine.

To figure out if this alone was the issue, I made a very basic page with three blocks, one sized using %, one sized using ems and one using pxs. The web font rendered fine in every block on the Nexus 7, which leads me to believe this alone is not the issue.

I notice that if you switch the orientation of the tablet, and then switch back, the webfonts all appear fine. What's more strange is the same webfont is displaying fine in some sections of the site and not in others.

My overall experience with webfonts on the Nexus 7 is extremely inconsistent and confusing. I don't think this is a webkit bug or an android bug as chrome on my android phone has never given me the same headache.

This is very frustrating...

# java - Java中的二叉树和递归

> ID：12506216
> 
> 赞同：1
> 
> 时间：2012-09-20T04:49:12.680
> 
> 标签：java, recursion

我有一个 Node 类，如下所示：

```
public class Node {

    private int value;
    private Node leftNode;
    private Node rightNode;

    public Node(Node leftNode, Node rightNode, int value){
        this.leftNode = leftNode;
        this.rightNode = rightNode;
        this.value = value;
    }

   //Getter and Setter methods for these variables are defined here
} 
```

该 Node 类用于创建二叉树。我正在用 JAVA 编写一个递归函数来计算所有节点的平均值。我在下面写的代码没有给出正确的答案。我认为这是因为参数 average 和 nodeCount 的值被传递，而不是引用。

```
public double treeAverage(Node node, double average, int nodeCount){

    nodeCount ++;
    if(node == null) return Double.MAX_VALUE;
    if(node.getLeftNode()==null && node.getRightNode()==null){
        average = ( average + node.getValue() )/nodeCount;
    }

    if(node.getLeftNode()!=null){
        average = treeAverage(node.getLeftNode(), average, nodeCount); 
    }
    if(node.getRightNode()!=null){
        average = treeAverage(node.getRightNode(), average, nodeCount);
    }

    return average;

} 
```

在 Java 中纠正这个递归函数的正确方法是什么？（在 CI 中可以传递对这些参数的引用）。如果我错了，请纠正我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:13:13.120

我想你可以使用辅助方法。像这样的东西（我没有编译这个代码，应该作为提示）

```
private static long count = 0L;
private static long sum = 0L;

public static int treeAverageHelper(Node node){

    if(node == null) return 0;
    count ++;
    return node.val + treeAverageHelper(node.left) + treeAverageHelper(node.right);
}

public static double treeAvg(Node n){
    sum = treeAverageHelper(n);
    if (count == 0)
        return 0D;
    else
        return (double)sum/count;
} 
```

助手，通过树聚合和计数。最后你把两者分开。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T04:57:27.800

我不喜欢这两个部分：

```
if(node == null) return Double.MAX_VALUE;
if(node.getLeftNode()==null && node.getRightNode()==null){
    average = ( average + node.getValue() )/nodeCount;
} 
```

对于第一个陈述，为什么一棵空树的平均值会是可能的最高 Double？显得随意。说它不存在会更简单`Double.NaN`，甚至`0.0`- 因为树中有零个元素。

对于第二个语句，你的逻辑是正确的，如果两个孩子都是空的，你会得到它的值。但是，您将在此过程中破坏您的平均值 - 如果您有十二个节点，并且您在第三个节点上，那么当您移动到第四个节点时，您的平均值将有所不同。

移动`nodeCount`到更高的范围，在计算递归调用中所有节点的总和之前，不要担心计算实际平均值。最后，在进行过程中传递节点的总和。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-20T05:05:10.557

我认为平均计算有问题。根据您的代码，如果节点没有左孩子也没有右孩子，则添加平均值 + node.getValue() 并将此结果除以 nodeCount。

实际上，

> 平均值是总值除以计数。

这意味着您应该首先获得总节点值并将其除以 nodeCount。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T17:57:59.520

这就是我能够让它工作的方式。如果这不是一个好方法，请告诉我。

```
private double sum = 0;
private int nodeCount = 0;

public double treeAverage(Node node){

    if(node == null) return Double.NaN; //Null check

    sum = treeSum(node);
    double average = (sum/nodeCount);

    // before returning, reset the sum and nodeCount, so that same object can use the same function starting with correct/zero values of sum and nodeCount
    sum = 0; nodeCount = 0;

    return average;

}

public double treeSum(Node node){

    nodeCount ++; //update the nodeCount
    sum = sum + node.getValue(); //update the sum to include this node

    /* If the current node has children, recurse*/      
    if(node.getLeftNode()!=null){
        sum = treeSum(node.getLeftNode()); 
    }
    if(node.getRightNode()!=null){
        sum = treeSum(node.getRightNode());
    }

    return sum;

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T04:52:32.913

您需要定义一个类，例如

```
class RecursionValues {
     int nodeCount;
     double average;
} 
```

...然后在您的递归调用中，您传递此类的一个实例并修改其字段。

# c++ - 使用 OLE 剪贴板和经典剪贴板的意外/奇怪结果，还是我错过了什么？

> ID：12506217
> 
> 赞同：2
> 
> 时间：2012-09-20T04:49:39.747
> 
> 标签：c++, windows, winapi, clipboard, ole

我正在尝试执行以下技巧：

1.  我必须`IDataObject*`被设置到剪贴板，所以我用`OleSetClipboard()`它来设置到剪贴板。
2.  我有另一个`CLIPFORMAT`我想添加到剪贴板，但我不能这样做，`OleSetClipboard()`因为`IDataObject*`我收到的没有实现`SetData()`方法。因此，为了克服这个限制，我可以`OpenClipboard()`通过`GetClipboardOwner()`这种方式，`SetClipboardData()`无需`EmptyClipboard()`先到剪贴板。

现在，一切正常，但发生的情况是它`OleGetClipboard()`不会返回我使用 放在剪贴板中的数据`SetClipboardData()`，但我可以使用`GetClipboardData()`.

我可以想象为什么会发生这种情况（它只是返回`IDataObject*`），所以我尝试`OleFlushClipboard()`删除`IDataObject*`, 并`OleGetClipboard()`再次让操作系统重建一个新的`IDataObject*`，**它仍然不包含**`CLIPFORMAT`添加的by `SetClipboardData()`。

有谁知道如何克服这个问题？还是不同的把戏？甚至解释为什么它会这样工作？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T09:27:47.830

我刚刚尝试过这个（在 Windows 7 上），它似乎可以工作，但只能跨进程：

*   在与剪贴板所有者不同的过程中，OleGetClipboard 返回一个包含所有格式的数据对象（即来自数据对象的原始格式和添加到剪贴板的额外格式）。
*   在同一过程中，OleGetClipboard 始终返回一个不包含额外剪贴板格式的数据对象。

在这两种情况下，调用 OleFlushClipboard 没有任何区别。

无论如何，这似乎不是一个非常强大的解决方案。相反，您可以创建自己的数据对象，该对象响应它所知道的格式并将其他格式委托给原始数据对象。EnumFormatEtc 方法将组合来自两个对象的格式，依此类推。 [本文](http://blogs.msdn.com/b/oldnewthing/archive/2008/03/11/8080077.aspx)有一个您可以扩展的简单数据对象的骨架。

# python - 在变量中查找字符并将其删除

> ID：12506222
> 
> 赞同：0
> 
> 时间：2012-09-20T04:50:46.443
> 
> 标签：python, variables, maya

我正在为 Maya 编写一个脚本，它在 python 中，但这应该与大多数事情有关。

如果我在设置的左侧运行我的脚本，则翻译等的值将类似于 29.292 或 68.215。

问题是右边是一面镜子，所以它是-29.292或-68.215。

我需要检查变量中是否存在符号“-”，如果存在，请将其删除。

我该怎么做呢？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T04:52:26.393

如果是数字则使用`abs()`，如果是字符串则使用`lstrip()`：

```
In [3]: x=-29.292

In [4]: x=abs(x)

In [5]: x
Out[5]: 29.292000000000002

In [6]: x='-29.292'         #if it's a string

In [7]: x.lstrip('-')
Out[7]: '29.292' 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-20T06:19:40.173

好建议。user1090427 应该注意的是他们如何四舍五入，如果这是一个问题的话。在舍入之前/之后删除符号可能会产生意想不到的结果。floor(abs(-29.29)) 是 29，与 abs(floor(-29.29)) 是 30 不同。

# udp - 为什么要发送没有有效负载的 UDP 数据包？

> ID：12506227
> 
> 赞同：3
> 
> 时间：2012-09-20T04:51:24.257
> 
> 标签：udp

似乎可以在没有有效负载的情况下发送 UDP 数据包。

我能想到的唯一不需要有效载荷的就是用于 NAT 打孔。这还能用来做什么？

这与我之前的问题有关[在 Linux 下，recv 能否在 UDP 上返回 0？](https://stackoverflow.com/questions/12505892/under-linux-can-recv-ever-return-0-on-udp)

我想更重要的是，如果它被指定为某个标准的一部分，那么它被认为在某个地方有用吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-20T04:56:24.070

任何事物！UDP 数据包不是空的——它带有发送者的身份。因此，这样的数据包可以用作原始类型的信号：可能是你好、再见或保持活动状态。

使用类似的接口`sendmsg`，可以使用空包来发送辅助数据，例如`cmsg`结构（可用于在 Linux 上的两个进程之间传输文件描述符）。

编辑：另一种用途：NAT 遍历算法，例如[STUN](http://en.wikipedia.org/wiki/STUN)或 UDP 打孔。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-03T19:14:35.377

要回答“为什么协议会这样做”的问题：旧的 Daytime 协议只是使用 UDP 数据包的到达来发回回复数据包。同样，只要 TCP 连接发生，它就会回复时间值，而不管 TCP 连接包含的任何实际数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-10T13:29:05.067

可以发送一个没有负载的 UDP 数据包来检测 UDP 端口是否关闭。如果关闭，则回复 ICMP-unreach。

# android-pay - 如何使用订单号查询 Google Checkout？

> ID：12506237
> 
> 赞同：0
> 
> 时间：2012-09-20T04:52:20.247
> 
> 标签：android-pay, google-checkout

我在 Google 结帐上有一个商家帐户。当我登录到[https://checkout.google.com/sell/orders](https://checkout.google.com/sell/orders)时，我可以查看买家下的所有订单。从那里，我可以搜索特定的订单号并查看有关它的详细信息。

我想以编程方式做同样的事情，但在查看结帐 API 后，我找不到与此问题相关的任何内容。基本上我的输入将是一个订单号，而我想要的输出将是有关该订单的详细信息，或者至少是一个指示该订单是否存在的布尔值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T23:48:31.053

一种选择是使用 Order Report API 将 Google Checkout 订单列表下载到 CSV 文件中，然后在本地搜索。您仅限于过去 31 天。

[https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Order_Report_API](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Order_Report_API)

# c# - 从 c# 应用程序的系统菜单中禁用大小选项

> ID：12506239
> 
> 赞同：0
> 
> 时间：2012-09-20T04:52:29.093
> 
> 标签：c#, user32, systemmenu, wm-syscommand

我有 ac# windows 基础应用程序。现在我希望系统菜单中的大小选项应该被禁用。

要在系统菜单中添加选项，我使用的是 user32.dll。我正在使用 Windows 窗体。

![在此处输入图像描述](../Images/c35e11595571692c4aa6a2621d6bb2e7.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T04:59:14.947

如果你有一个对话框（你没有指定）......

...如果您使用的是 Winforms（您也没有指定）...

然后您可以通过指定固定边框类型来禁用调整大小的功能；并且 y7ou 可以通过将相应的表单属性设置为“false”来禁用最小化或最大化的功能。

例如：

```
form1.FormBorderStyle = FormBorderStyle.FixedDialog;
form1.MaximizeBox = false;
form1.MinimizeBox = false; 
```

否则，请说明你在做什么，以及你是如何尝试的。示例代码总是有帮助的:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:27:41.527

现在我找到了解决方案，

```
 private const int WM_SYSCOMMAND = 0x112;
 private const int MF_BYCOMMAND = 0x00000000;
 private const int SC_SIZE = 0xF000 ;
[DllImport("user32.dll")]
        private static extern int GetSystemMenu(int hwnd, int bRevert);
[DllImport("user32.dll")]
        private static extern bool DeleteMenu(int hMenu, int uPosition, int uFlags);

int menu = GetSystemMenu(this.Handle.ToInt32(), 0);
DeleteMenu(menu, SC_SIZE, MF_BYCOMMAND); 
```

# actionscript-3 - 使用pixelbender旋转图像

> ID：12506242
> 
> 赞同：0
> 
> 时间：2012-09-20T04:52:46.953
> 
> 标签：actionscript-3, apache-flex, bitmap, rotation, pixel-bender

我有背景图像和较小的图像。我使用 copypixels 将较小的图像复制到较大的图像中，如下所示：

```
 destBitMap.copyPixels(img, new Rectangle(0, 0, img.width, img.height), 
   location); 
```

现在我想在复制之前旋转图像。最好的方法是什么？我尝试使用 Matrix 和 bitmapData.draw() 但它是不可接受的。它有像素化的边缘。

我找到了这个 pixelbender 过滤器：http://life.neophi.com/danielr/2009/07/image_rotation_with_pixel_bend.html[用于](http://life.neophi.com/danielr/2009/07/image_rotation_with_pixel_bend.html) 旋转图像。从好的方面来说，它真的很快。我从未使用过pixelbender，所以我很好奇是否可以使用该滤镜，将其应用于位图图像并将旋转后的图像复制到背景图像中。

这是我尝试过的（不起作用）：

```
 shader = new Shader(new RotateFilter() as ByteArray);
    shader.data.origin.value = [resizedImage.width / 2, resizedImage.width / 2];
    shader.data.rotation.value = [rotation];
    filter = new ShaderFilter(shader);

    var bm:BitmapImage = new BitmapImage();
    bm.source = resizedImage;
    bm.filters = [filter]; 
```

下一步是什么？这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:19:06.017

如果要将单个过滤器应用于位图，请使用 BitmapData.applyFilter() 方法。显然，您可以对生成的位图做任何事情。但是，您必须在 UIComponent 允许的较低级别上应用所有这些。如果你的 resizedImage 是 Bitmap 类型，你可以这样做：

```
resizedImage.bitmapData.applyFilter(resizedImage.bitmapData,resizedImage.bitmapData.rect,new Point(),filter); 
```

在此之后，您的 resizedImage.bitmapData 将包含一个旋转的位图。

# javascript - 谷歌美化不显示颜色

> ID：12506244
> 
> 赞同：2
> 
> 时间：2012-09-20T04:53:18.143
> 
> 标签：javascript, css

我似乎找不到什么问题。我有这个与谷歌美化一起使用的 html 文件。prettify.css 和 prettify.js 都和 html 文件在同一个目录下

```
<html>
<head>
<script src="prettify.js"></script>
<link rel=StyleSheet href="prettify.css" type="text/css">
</head>

<body>
<pre class="prettyprint">
//Some sample text
for(int i = 0; i<10; i++){
    //Do something
}
</pre>
</body>
</html> 
```

这就是它的样子

![截屏](../Images/80b060e2942a664e65b6f037f4517a81.png)

我缺少什么来显示颜色？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T04:57:19.620

添加`onload="prettyPrint()"`到文档的正文标签。

```
<body onload="prettyPrint()"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-25T18:13:55.990

这是将执行正确的语法突出显示的代码

```
<html>
<head>
 <!--<script src="prettify.js"></script>I commented out your links-->
 <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
 <!--<link rel=StyleSheet href="prettify.css" type="text/css"> I commented out your links-->
</head>

<body>
 <pre class="prettyprint">
   //Some sample text
   for(int i = 0; i<10; i++){
     //Do something
   }
 </pre>
</body>
</html> 
```

[在这里查看代码](https://codepen.io/tanyagupta/pen/ZajQda)

# excel - excel 宏：ByRef 参数类型不匹配

> ID：12506248
> 
> 赞同：0
> 
> 时间：2012-09-20T04:54:44.240
> 
> 标签：excel, vba

我写了如下代码：

```
Call search(xx, yy, "APM Output", ">> State Scalars", label1)

label1:
      ........... 
```

这是子搜索的脚本

```
Sub search(row As Variant, col As Variant, wkst As String, str As String, label_num As Name)
For row = 1 To 100
  For col = 1 To 100
    strTemp = Worksheets(wkst).Cells(row, col).Value
    If InStr(strTemp, str) <> 0 Then
        GoTo label_num
    End If
  Next
Next
End Sub 
```

我想先调用 sub search(..)，然后转到 label1。问题是说 label_num 的“ByRef 参数类型不匹配”。Sub search(..,..,.., **label_num** ) 中 label_num 的正确类型应该是什么？

我添加了一些原始脚本，这些是我想要转换成 sub()

```
For xx = 1 To 100
    For yy = 1 To 100
        strTemp = Worksheets("APM Output").Cells(xx, yy).Value
        If InStr(strTemp, ">> State Scalars") <> 0 Then
            GoTo label1
        End If
    Next
Next
label1:
    For uu = 1 To 100
        For vv = 1 To 100
            strTemp = Worksheets("APM Output").Cells(uu, vv).Value
            If InStr(strTemp, ">> GPU LPML") <> 0 Then
                GoTo label2
            End If
        Next
    Next
label2:
    For mm = 1 To 100
        For nn = 1 To 100
            strTemp = Worksheets("APM Output").Cells(mm, nn).Value
            If InStr(strTemp, ">> Limits and Equations") <> 0 Then
                GoTo label3
            End If
        Next
    Next 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:41:05.217

你的潜艇对我来说没有多大意义

1.  如果它发现`">> State Scalars"`它存在`For`循环并转到`label1`
2.  `">> State Scalars"`如果无论如何`label1`都找不到

您可以使用下面的代码

*   一次搜索您的 100 x 100 单元格范围
*   要么找到你的部分字符串匹配，要么没有
*   它可以很容易地修改为在成功（或失败）搜索后停止搜索

**`code`**

```
Sub ReCut()
Dim rng1 As Range
Dim rng2 As Range
Set rng2 = Worksheets("APM Output").Range("A1:CV100")
Set rng1 = rng2.Find(">> State Scalars", , xlValues, xlPart)
If Not rng1 Is Nothing Then
MsgBox "Found >> State Scalars value at " & rng1.Address(0, 0) & vbNewLine & "This is the equivalent of your exit on INSTR"
Else
End If
Set rng1 = rng2.Find(">> GPU LPML", , xlValues, xlPart)
If Not rng1 Is Nothing Then
MsgBox "Found >> GPU LPML value at " & rng1.Address(0, 0) & vbNewLine & "This is the equivalent of your exit on INSTR"
Else
End If
End Sub 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-24T05:10:35.460

作为一个好的做法，请不惜一切代价避免使用标签！

我要回答你只是修改你的代码，我猜你想保存 xx,yy,uu,vv,mm,nn 的值

以下代码是如何避免使用标签

```
Dim found1 As Boolean
Dim found2  As Boolean
Dim found3 As Boolean
  found1 = False
  found2 = False
  found3 = False
  For i = 1 To 100
   For j = 1 To 100
       strTemp = Worksheets("APM Output").Cells(i, j).Value
       If InStr(strTemp, ">> State Scalars") <> 0 And Not found1 Then
           found1 = True
           xx = i
           yy = j
       End If

       If InStr(strTemp, ">> GPU LPML") <> 0 And Not found2 Then
           found2 = True
           uu = i
           vv = j
       End If
       If InStr(strTemp, ">> Limits and Equations") <> 0 And Not found3 Then
           found3 = True
           mm = i
           nn = j
       End If
   Next j
Next i 
```

要将您的功能变成一个子功能，只需执行

```
Sub my_search(ByRef rowNum As Long, ByRef colNum As Long, ByVal searchString As String, ByVal height As Long, ByVal width As Long, ByRef ws As Worksheet)
Dim i As Long
Dim j As Long
Dim found As Boolean
found = False
Dim strTemp
With ws
    For i = 1 To height 
       For j = 1 To width 
           strTemp = ws.Cells(i, j).Value
           If InStr(strTemp, searchString ) <> 0 And Not found1 Then
               found = True
               rowNum = i 'assigning rowNum 
               colNum = j 'assigning colNum
               Exit For
           End If
       Next j
       If found Then
        Exit For
        End If
    Next i

End With
End Sub 
```

并调用它 3 次，例如：

```
my_search xx,yy,">>State Scalars", 100, 100, Worksheets("APM Output") 
```

# php - 获取 html 的所有节点并为每个节点应用一个新的自定义 ID

> ID：12506250
> 
> 赞同：1
> 
> 时间：2012-09-20T04:55:01.723
> 
> 标签：php, parsing

我正在努力获取已解析 HTML 的所有节点，因为我正在使用 Simple HTML DOM Parser 我能够使用此获取所有 div 或所有 span 标签

```
foreach($html->find("div") as $e)
{
   //here I got all div tags which are contained in html object but I want all tags not divs
   //then I am addin coustom attribute like this way
  $e->setattribute("My_id","abc");
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:49:18.683

为此，我刚刚添加了 phpquery 库。

```
$doc = phpQuery::newDocument($html);
$ul = pq('*');
$i = 1;
foreach($ul as $li) {
   pq($li)->attr('sws_id', $i);
    $i++;
} 
```

要安装 phpQuery，您可以通过 git 按照此 url 找到此库。

[https://github.com/rrmodi88/phpQuery](https://github.com/rrmodi88/phpQuery)

# php - symfony2 中不寻常的 Php 语法

> ID：12506254
> 
> 赞同：0
> 
> 时间：2012-09-20T04:55:16.957
> 
> 标签：php, symfony

我在 symfony 2.x 中看到了一个有趣的语法，但我不知道如何调用它以及它是什么类型的变量。

在视图中，有一个名为的辅助变量`$view`，它可以用于很多事情，这是我不明白的

有时它像数组一样使用：

```
$view['action']->someMethod(); 
```

有时它被用作对象

```
$view->generateUrl(...); 
```

两者都在同一个文件中。在 symfony 中使用转储变量`var_dump()`不是一个好主意。

那么这是什么类型的对象，我该如何创建它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-21T22:57:50.277

使用 ArrayAccess，您可以使用关联键将对象作为数组访问

[http://php.net/manual/en/class.arrayaccess.php](http://php.net/manual/en/class.arrayaccess.php)

# php - SQL选择查询需要很长时间

> ID：12506257
> 
> 赞同：0
> 
> 时间：2012-09-20T04:55:26.673
> 
> 标签：php, mysql, sql

我正在使用以下 SQL 查询，但执行时间超过 180 秒。有没有办法加快速度？这个 SQL 给了我所有女性的 pic_id 和。

```
SELECT pic_id, small
FROM picture
WHERE hide =0
AND userhide =0
AND  `fbid` 
IN (

      SELECT fbid
      FROM user
      WHERE gender =  "female"
   )

ORDER BY  `picture`.`pic_id` ASC 
LIMIT 1500 , 200 
```

解释 SQL

```
id select_type         table    type   possible_keys  key      key_len  ref   rows  Extra
1  PRIMARY             picture  index  NULL           PRIMARY  4        NULL  1700  Using where
2  DEPENDENT SUBQUERY  user     ALL    NULL           NULL     NULL     NULL  7496  Using where 
```

--- Tim 的 sql 答案的解释语句结果 --

```
id  select_type table   type    possible_keys   key key_len ref rows    Extra
1   SIMPLE  picture ALL NULL    NULL    NULL    NULL    41443   Using where; Using temporary; Using filesort
1   SIMPLE  user    ALL NULL    NULL    NULL    NULL    7501    Using where; Using join buffer 
```

- 结构 - -

```
CREATE TABLE `user` (
`sid` int(11) NOT NULL AUTO_INCREMENT,
`name` varchar(255) CHARACTER SET utf8 NOT NULL,
`first_name` varchar(255) CHARACTER SET utf8 NOT NULL,
`username` varchar(255) CHARACTER SET utf8 NOT NULL,
`birthday` date NOT NULL,
`location` varchar(255) CHARACTER SET utf8 NOT NULL,
`gender` varchar(6) CHARACTER SET utf8 NOT NULL,
`created` date NOT NULL,
`fbid` bigint(50) NOT NULL,
`token` varchar(255) CHARACTER SET utf8 NOT NULL,
`relationship_status` varchar(20) CHARACTER SET utf8 NOT NULL,
`smallest` varchar(255) CHARACTER SET utf8 NOT NULL,
`email` varchar(40) CHARACTER SET utf8 NOT NULL,
`ref` varchar(15) NOT NULL,
PRIMARY KEY (`sid`),
KEY `gender` (`gender`),
KEY `fbid` (`fbid`)
) ENGINE=MyISAM AUTO_INCREMENT=7595 DEFAULT CHARSET=latin 
```

---- 图片表的结构 ---

```
CREATE TABLE `picture` (
 `fbid` bigint(50) NOT NULL,
 `pic_id` int(11) NOT NULL AUTO_INCREMENT,
 `pic_location` varchar(255) NOT NULL,
 `hide` int(1) NOT NULL,
 `small` varchar(255) NOT NULL,
 `userhide` int(1) NOT NULL,
 `likes` int(10) NOT NULL,
 `hot` int(1) NOT NULL,
 PRIMARY KEY (`pic_id`),
 UNIQUE KEY `pic_location` (`pic_location`),
 UNIQUE KEY `small` (`small`),
 KEY `fbid` (`fbid`),
 KEY `hide` (`hide`),
 KEY `userhide` (`userhide`)
) ENGINE=MyISAM AUTO_INCREMENT=42749 DEFAULT CHARSET=latin1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T04:59:24.070

尝试这样的事情：

```
SELECT pic_id, small
FROM picture
INNER JOIN user ON ( picture.fbid = user.fbid and user.gender='female' )
WHERE hide =0
AND userhide =0
ORDER BY  `picture`.`pic_id` ASC 
LIMIT 1500 , 200 
```

我将性别放入连接中，因为查询不会返回在内连接上不匹配的行。

您还应该阅读[此堆栈溢出主题](https://stackoverflow.com/questions/2577174/join-vs-subquery)

编辑：

确保您已索引以下字段：

```
picture.fbid
user.fbid
user.gender
picture.hide
picture.userhide 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T04:58:54.347

尝试使用连接：

```
SELECT p.pic_id, p.small
FROM picture p
INNER JOIN fbid f USING ( fbid )
WHERE p.hide =0
AND p.userhide =0
AND f.gender = 'female'
ORDER BY  `picture`.`pic_id` ASC 
LIMIT 1500 , 200 
```

# java - ViewState 直到第二次 Ajax 提交，PrimeFaces 复合组件才创建

> ID：12506263
> 
> 赞同：0
> 
> 时间：2012-09-20T04:56:11.650
> 
> 标签：java, jsf, jsf-2, primefaces

我创建了一个基于 PrimeFaces 组件的复合组件，该组件用作多行文本组件。文本被添加到输入中，单击“添加”按钮，该文本被添加到菜单中。菜单中的项目是提交的值。这工作正常，直到我将其设置为复合组件。然后，最初的“添加”单击不会添加值。随后的点击工作正常。据我所知，直到第二次单击才创建 ViewState。我认为这是问题所在。难道我做错了什么？它是一个错误吗？这是代码：

复合组件：

```
 <cc:interface>
        <cc:attribute name="value" type="java.util.Collection" />
    </cc:interface>
    <cc:implementation>
        <p:inputText value="#{multiTextBean.text}" id="txtInput" />
        <p:commandButton value="Add" action="#{multiTextBean.add}"
            update="menu txtInput" />
        <p:commandButton value="Clear"
            action="#{multiTextBean.clear}" update="menu txtInput" />
        <p:selectManyMenu id="menu"
            value="#{multiTextBean.removes}">
            <f:selectItems id="items"
                value="#{multiTextBean.items}" />
        </p:selectManyMenu>
        <p:commandButton value="Remove"
            action="#{multiTextBean.remove}" update="menu" />
    </cc:implementation> 
```

组件的支持类：

```
package util;
import java.io.IOException;
import java.util.Set;
import javax.faces.component.NamingContainer;
import javax.faces.component.UIInput;
import javax.faces.component.UISelectItems;
import javax.faces.context.FacesContext;
import javax.faces.convert.ConverterException;

import org.primefaces.component.selectmanymenu.SelectManyMenu;

public class multitext extends UIInput implements NamingContainer {

public String getFamily(){
    return "javax.faces.NamingContainer";
}

@SuppressWarnings("unchecked")
@Override
protected Object getConvertedValue(FacesContext context, Object newSubmittedValue)
        throws ConverterException {
    SelectManyMenu menu = (SelectManyMenu) findComponent("menu");
    UISelectItems items = (UISelectItems) menu.findComponent("items");
    Set<String> localItems = (Set<String>) items.getValue();
    return localItems;
}

@Override
public Object getSubmittedValue() {
    return this;
}

@Override
public void encodeBegin(FacesContext context) throws IOException {
    super.encodeBegin(context);
}       
 } 
```

复合组件引用的 Bean

```
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

import javax.annotation.PostConstruct;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;

@ManagedBean
@ViewScoped
public class MultiTextBean {
private String text;
private Set<String> items;
private List<String> removes;

@PostConstruct
public void init(){
    items = new HashSet<String>();
    removes = new ArrayList<String>();
}

public String getText() {
    return text;
}

public void setText(String text) {
    this.text = text;
}

public Set<String> getItems() {
    return items;
}

public List<String> getRemoves() {
    return removes;
}

public void setRemoves(List<String> removes) {
    this.removes = removes;
}

public void add(){
    if(!text.isEmpty())
    {items.add(text);}
    text = null;
}

public void clear(){
    items.removeAll(items);
    text = null;
}

public void remove(){
    items.removeAll(removes);
}
 } 
```

该组件如下所示： ![在此处输入图像描述](../Images/f24976f12ee7db76f8c40d70040d4410.png)

使用此测试页面上的组件：

```
 <!DOCTYPE html>
<html lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:mt="http://java.sun.com/jsf/composite/util"
xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Insert title here</title>
</h:head>
<h:body>
    <ui:debug hotkey="x"/>
    <form>
    <mt:multitext value="#{backingBean.submittedValues}"/>
    <p:commandButton value="Submit" action="Submit" update="@all"     process="@all"/>
    #{backingBean.submittedValues}
    </form>
</h:body>
 </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T18:18:31.407

为了在 JSF 中调用 (ajax) 动作，您需要一个`<h:form>`而不是`<form>`.

相应地修复它：

```
<h:form>
    ...
</h:form> 
```

### 也可以看看：

*   [未调用 commandButton/commandLink/ajax 操作/侦听器方法或未更新输入值](https://stackoverflow.com/questions/2118656/hcommandlink-hcommandbutton-is-not-being-invoked/2120183#2120183)

# javascript - 我想在成功将数据插入数据库后为客户端显示消息..那么如何在javascript中使用alert（）消息来实现这一点？

> ID：12506264
> 
> 赞同：0
> 
> 时间：2012-09-20T04:56:12.513
> 
> 标签：javascript, asp.net, vb.net, ado.net

导入 System.Data 导入 System.Data.Odbc

部分类 ADD_Employee 继承 System.Web.UI.Page

```
Protected Sub Button1_Click(ByVal sender As Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim cons, query As String
    Dim con As OdbcConnection
    Dim cmd As OdbcCommand
    cons = "dsn=Courier; UID=Courier; PWD=123;"
    con = New OdbcConnection(cons)
    con.Open()
    If (RadioButton1.Checked) Then
        query = "insert into EMPLOYEE values('" & TextBox1.Text & "','" & TextBox2.Text & "','" & TextBox3.Text & "','" & "Male" & "','" & TextBox6.Text & "','" & TextBox4.Text & "','" & TextBox5.Text & "')"
        cmd = New OdbcCommand(query, con)
        cmd.ExecuteNonQuery()

    End If
    If (RadioButton2.Checked) Then
        query = "insert into EMPLOYEE values('" & TextBox1.Text & "','" & TextBox2.Text & "','" & TextBox3.Text & "','" & "Female" & "','" & TextBox6.Text & "','" & TextBox4.Text & "','" & TextBox5.Text & "')"
        cmd = New OdbcCommand(query, con)
        cmd.ExecuteNonQuery()
    End If

    con.Close()
End Sub 
```

结束类

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T07:26:41.193

前面的答案中描述的 RegisterStartupScript 是这样做的方法。

但是，您确定要使用警报吗？就用户体验而言，不建议这样做。你应该看看一些网站，看看它是如何完成的。例如，一旦我发布了这个答案（我猜它被添加到某个数据库中），我将不会收到警报，而是会收到更微妙的消息。所以我建议有一些“成功”标签，并将其 Visible 属性更改为 true，或者使用 Response.Redirect 并将用户重定向到整个成功页面，这一切都取决于您想为用户提供的体验。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:08:17.260

你可以试试这样的

```
me.ClientScript.RegisterStartupScript(me.GetType(), "message", "alert('records has been inserted to the database!');", True) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T11:01:25.670

```
me.ClientScript.RegisterClientScriptBlock(Me.[GetType](),"Data Added","alert('Success!');") 
```

# ios - 如何加快对复杂 UITableView 的点击处理

> ID：12506269
> 
> 赞同：0
> 
> 时间：2012-09-20T04:56:45.520
> 
> 标签：ios, uitableview, uigesturerecognizer

我有一个带有 TableView 的应用程序，它包含在 ScrollView（水平分页）中。

每个 TableView 中都有一个自定义的 TableViewCell，它有许多视图。

为了处理单元格内某个区域的单次点击，我将 UITapGestureRecogniser 添加到单元格内的视图中。

渲染性能很好。但是当我点击时，我注意到从点击点到调用选择器的点有相当大的延迟（即，我相信大部分时间都花在 UIKit 中做 hitTests 并找出哪个元素响应什么）。

有没有办法让它更快？我应该注意什么可能导致这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T10:59:35.817

您可以尝试将单击识别器添加到填充单元格 contentView 的透明视图中，最后添加它，使其位于 subViews 数组中的最前面，然后将其用于仅感兴趣的视图的命中测试。

也就是说，延迟似乎来自其他一些交互。

# iphone - iphone设置默认值已更改

> ID：12506272
> 
> 赞同：1
> 
> 时间：2012-09-20T04:56:55.427
> 
> 标签：iphone, settings

我是设置捆绑编程的新手。我有一个应用程序，其中一些距离值默认设置为英里。运行应用程序后，在设置中显示里程。

现在，如果我进入 iPhone 中的设置并将值更改为公里，我需要在我的应用程序中获取公里。但是在仅启动应用程序两次时，我将其视为公里。

我正在调用 applicationenterforeground 方法来获取新的更改设置。

如何在我的应用程序的设置中获取更改的值？我正在使用 NSUserDefaults。

请帮我。

# python - 关于通过参数打印 Mysql 表名使用 mysqldb 问题？

> ID：12506277
> 
> 赞同：-1
> 
> 时间：2012-09-20T04:57:46.613
> 
> 标签：python, mysql-python

```
# -*- coding: utf-8 -*-

import os
import time
import re
import urllib
import urllib2
import MySQLdb

hostip = raw_input("Input your sql Ip:")
username = raw_input("Input your sql username:")
password = raw_input("Input your password:")
dbname = raw_input("Input your dbname :")

conn = MySQLdb.connect(host = hostip, user = username, passwd = password, db = dbname)
cur = conn.cursor()
cur.execute("show tables")
alltable = cur.fetchall()
tablenames = []
for i in range(len(alltable)):
    for j in range(len(alltable[i])):
        tablenames.append(alltable[i][j])

print tablenames 
```

以上是我的代码，需要通过输入参数来访问 mysql 连接，但我无法使用该程序打印表名，有人可以帮我吗？非常感谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:57:17.417

您粘贴了无法产生您所说的错误的部分代码。这是重写的版本：

```
import MySQLdb
from getpass import getpass

hostip = raw_input("Input your sql Ip:")
username = raw_input("Input your sql username:")
password = getpass("Input your password:")
dbname = raw_input("Input your dbname :")

conn = MySQLdb.connect(hostip, username, password, dbname)
cur = conn.cursor()
cur.execute("SHOW TABLES")
tablenames = [i[0] for i in cur.fetchall()]
print tablenames 
```

运行这个*，只有这个*。

# c - 在 Visual Basic 中指向双精度的指针数组

> ID：12506278
> 
> 赞同：1
> 
> 时间：2012-09-20T04:57:47.717
> 
> 标签：c, arrays, vb.net, pointers, dll

我有一个 C DLL，用于创建我想在 VB.NET 中使用的光栅化图形。有一次，它使用一个指向 double 的指针数组`double **ibuffer`作为函数的参数。

那么如何将它从 Visual Basic 传递给 C DLL？最好，我会在 VB 中创建数组，但我不需要在 VB 中操作或使用这些值。所以基本上，VB 需要做的就是为指针数组分配内存。C会做所有其他的事情。如何实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:13:43.027

我假设您正在使用 pInvoke 在 VB.NET 中调用 C 方法

首先，Jagged 数组没有可用的默认编组，这意味着您必须自己进行自定义编组，这有点复杂但不是很困难。这是在 C# 中执行此类操作的代码。我对 VB.NET 语法不是很好，所以我相信你可以将它转换为 VB.NET

```
[DllImport( "yourdll.dll", EntryPoint="YourMethodName",  CallingConvention=CallingConvention.Cdecl)]
  static extern void YouMethodName(IntPtr matrix);
  static void Main( string[] args )
  {
     double[][] test_matrix = { new double[] {1.1,2.2},
                                new double[] {3.3,4.4},
                                new double[] {5.5,6.6}};

     IntPtr pa1 = marshalJaggedArray( test_matrix );
     YourMethodName( pa1 );
  }

  static private IntPtr marshalJaggedArray( double[][] array )
  {
     int sizeofPtr = Marshal.SizeOf( typeof( IntPtr ) );
     int sizeofDouble = Marshal.SizeOf( typeof( double ) );

     IntPtr p1 = Marshal.AllocCoTaskMem( array.Length * sizeofPtr );
     for ( int i = 0 ; i < array.Length ; i++ )
     {
        IntPtr v1 = Marshal.AllocCoTaskMem( array[i].Length * sizeofDouble );
        Marshal.Copy( array[i], 0, v1, array[i].Length );
        Marshal.WriteIntPtr( p1, i * sizeofPtr, v1 );
     }
     return p1;
  } 
```

取自：[http ://social.msdn.microsoft.com/Forums/is/csharplanguage/thread/dd729947-f634-44f4-8d91-11fcef97cabe](http://social.msdn.microsoft.com/Forums/is/csharplanguage/thread/dd729947-f634-44f4-8d91-11fcef97cabe)

# jquery - 日期选择器未显示在模态框 JQuery 中

> ID：12506279
> 
> 赞同：0
> 
> 时间：2012-09-20T04:58:12.663
> 
> 标签：jquery, css, datepicker, modal-dialog

我在我的页面中使用模态框。当我单击添加数据选择器的文本字段时，它没有显示任何内容。但是在“检查 chrome 元素”中，我可以看到“hasDatepicker”类已经添加了。但是怎么看不到模态框中的日期选择器。

我在存在模式框的同一页面中尝试了 datepicker，然后 datepicker 正在工作。

代码是

```
 <script>
           $(function() {
              $( "#datepicker" ).datepicker();
           });
        </script> 
```

html代码是

```
 <div class="">
             <a type="button" class="openmodalbox" href="javascript:void(0);" value="Modal box" title="Add Allergy">
                       add
                   <span class="modalboxContent">
            <div class="headdin_div">Add Allergies</div>
                <table>
                    <tr><td>Allergies</td><td><input class="inp_padd" type="text"></input></td></tr>
                    <tr><td>Type</td><td><input class="inp_padd" type="text"></input></td></tr>
                     <tr> <td>First observed</td><td><input type="text" class="inp_padd" id="datepicker"></input></td></tr>
                     <tr><td></td><td><input type="submit" class="save_button_style" value="Save" /></td></tr>
                </table>      
                </span> 
                </a>    
                 </div> 
```

是模态框的问题吗？还是日期选择器属性？

请帮忙

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:48:39.110

我稍微改变了你的代码：

```
<div class="">
        <a type="button" class="openmodalbox" href="#1" value="Modal box" title="Add Allergy" id="btn">add </a>
        <span class="modalboxContent">
                <div class="headdin_div">
                    Add Allergies</div>
                <table>
                    <tr>
                        <td>Allergies</td>
                        <td><input class="inp_padd" type="text"></input></td>
                    </tr>
                    <tr>
                        <td>Type</td>
                        <td><input class="inp_padd" type="text"></input></td>
                    </tr>
                    <tr>
                        <td>First observed</td>
                        <td><input type="text" class="inp_padd" id="datepicker"></input></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="submit" class="save_button_style" value="Save" /></td>
                    </tr>
                </table>
            </span>
    </div> 
```

和js：

```
 $(function () {
            $("#datepicker").datepicker();

            $(".modalboxContent").dialog({
                autoOpen: false
            });

            $("#btn").click(function () {
                $(".modalboxContent").dialog('open');
            });
        }); 
```

现在工作正常：

[http://jsfiddle.net/ye24d/](http://jsfiddle.net/ye24d/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:09:36.780

这里是代码的演示，其中工作[的 jsFiddle 演示](http://jsfiddle.net/centerwow/KKhZg/321/)

您需要将代码连接到输入文件或按钮，并添加指向 ui css 和 jquery ui 的链接。您可以在上面的链接中看到它。

html代码：

```
<label for="from">From</label>
<input type="text" id="fromDate" name="fromDate"/>
<label for="to">to</label>
<input type="text" id="toDate" name="toDate"/>

​ 
```

java脚本代码：

```
$(function() {
        var dates = $( "#fromDate, #toDate" ).datepicker({
            defaultDate: "+1w",
            changeMonth: true,
            numberOfMonths: 3,
            onSelect: function( selectedDate ) {
                var option = this.id == "fromDate" ? "minDate" : "maxDate",
                    instance = $( this ).data( "datepicker" ),
                    date = $.datepicker.parseDate(
                        instance.settings.dateFormat ||
                        $.datepicker._defaults.dateFormat,
                        selectedDate, instance.settings );
                dates.not( this ).datepicker( "option", option, date );
            }
        });
    });​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T05:34:02.960

问题是因为您的模态框使用 z-index 属性屏蔽了所有内容。您必须覆盖 datapicker 的类并将其分配的 z-index 属性大于模态对话框的 z-index。日期选择器可以正常工作。

# jakarta-ee - Primefaces 3.4：对话框第一次打开时显示验证消息

> ID：12506280
> 
> 赞同：1
> 
> 时间：2012-09-20T04:58:19.873
> 
> 标签：jakarta-ee, dialog, primefaces

我对 primefaces 对话框有一些问题。我有一个上下文菜单。当我单击上下文菜单时，它会显示一个对话框。此对话框包含一个带有所需输入文本的面板。显示对话框时，面板中会显示验证错误，因为输入文本为空。这个想法是仅当用户单击对话框的命令按钮时才显示验证错误。然后，当对话框打开时，它必须被清空。这意味着，没有验证错误，输入文本中也没有任何内容。似乎上下文菜单中的属性更新有问题。一方面，当用户第二次显示对话框时需要清空输入文本，但在第一次显示对话框时也会显示验证错误。

```
<p:contextMenu for="folderTree">  
    <p:menuitem value="New Folder" update="addFolderPanel" oncomplete="addFolderDialog.show()" actionListener="#{folderManagedBean.initDialog}" icon="ui-icon-plus"/>
</p:contextMenu> 

<p:dialog header="New Folder" widgetVar="addFolderDialog" modal="true" resizable="false"  
                      showEffect="clip" hideEffect="fold">  
    <p:outputPanel id="addFolderPanel">  
        <p:message id="defaultMessage" for="txAddFolder"/>  
        <h:panelGrid columns="2" cellpadding="4">  
             <h:outputText for="txAddFolder" value="Folder Name: *" />  
             <p:inputText id="txAddFolder" value="#{folderManagedBean.newFolderName}" required="true" requiredMessage="The field folder name is required."/> 
             <p:commandButton icon="ui-icon-check" value="OK" update="folderTree" oncomplete="handleDialogClose(xhr, status, args)" actionListener="#{folderManagedBean.addFolder}"/>
        </h:panelGrid>  
    </p:outputPanel>
</p:dialog> 
```

托管bean的代码：

```
public void initDialog() {
    this.newFolderName = "";
    RequestContext.getCurrentInstance().reset("form:addFolderPanel");  
} 
```

基本上，我想知道为什么对话框在第一次打开时显示验证错误以及如何解决这个问题。

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-02T06:36:03.590

不，不适合我。我仅在命令按钮上使用以下代码

公共无效添加国家（）{

```
RequestContext.getCurrentInstance().reset("menuForm:add_Country_Dlg_Panel");
RequestContext.getCurrentInstance().execute("add_Country_Dlg.show();"); 
```

}

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-21T19:53:49.370

最后，我发现自己可以回答我的问题。

必须`update`从上下文菜单中删除该属性并将其添加`update`到 commandButton 的属性中。像这样，当用户打开对话框时，没有更新，因此没有验证错误。然后，当他单击按钮保存更改时，有两种情况：

1.  输入文本正确填写，对话框正常关闭
2.  输入文本为空。对话框保持打开状态并显示验证错误。

我希望它可以帮助！

# jquery - Jquery Mobile 1.2RC-1 加载消息未显示

> ID：12506281
> 
> 赞同：6
> 
> 时间：2012-09-20T04:58:34.413
> 
> 标签：jquery, jquery-mobile

我试图在初始应用程序/站点初始化期间以及每次用户返回#index 页面时显示 JQM 1.2 RC-1 加载消息。我对执行此操作的方式的理解如下，但是，它并没有像我预期的那样工作。这不显示加载消息。

```
$('body').on('pagebeforeshow', '#index', function(){

    $.mobile.loading('show')

    $('#index ul li').remove()

    var post_data = {
        action: 'an_action',
        method: 'method'
    }

    $.ajax({
        type: 'POST',
        url: ajaxurl,
        data: post_data,
        cache: false,
        dataType: 'text',
        cache: false,
        success: function(response) {

            $('#index ul').append(response)

            $('#index ul').listview('refresh')

            $.mobile.loading('hide')

        },
        error: function(jqXHR, textStatus, errorThrown) {

            console.log( ' => ' + jqXHR + ' => ' + textStatus + ' => ' + errorThrown )

        }
    })  

}) 
```

我在这里找到的解决方法（stackoverflow）可以在加载时显示加载消息。

```
$('#index').live('pageshow', function(event) {   //Workaround to show page loading on initial page load

    $.mobile.loading('show')

}) 
```

我遇到的问题是当我导航回#index 时，加载消息*有时会*被删除，而有时它仍然存在。

如果加载消息处于活动状态并且我单击链接离开当前页面，加载消息将按预期删除。当我从同一个链接返回到#index 时，加载消息有时会被删除，而无需在浏览器中刷新页面。

是否有另一种方法可以在初始应用程序/站点加载时实现加载消息？

**附加信息：**

在运行 Safari iOS 6 和 Chrome、Mac OSX Chrome、Safari、Firefox、Opera 的 iDevice 上进行了测试，结果相同。

jQuery 移动 1.2 RC-1

我正在使用单页模板并将服务器数据注入列表，然后转换到不同的页面#id。

我试过没有成功：

```
$('#index').live('pageinit', function(event) {   

    $.mobile.loading('show')

}) 
```

$.ajax() 已成功触发并完成，因为我可以更改服务器数据，并且它在应用程序中不断更改。

这是令人困惑的，因为 $.mobile.loading('hide') 也应该被触发并隐藏加载消息，因为响应*成功*。这让我相信这不是缓存问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T10:39:11.237

这就是我所做的，我在我的内容中添加了一个 div，其中 class="my_style" 最初是隐藏的，当显示 showpageloading 消息时，这些是显示和隐藏它的两个自定义函数：

```
function showCustomPageLoadingMsg(){
    $('.my_style').css('display','inline');
}

function hideCustomPageLoadingMsg(){
    $('.my_style').css('display','none');
} 
```

这就是我调用函数的方式：`$.mobile.showCustomPageLoadingMsg('f','Lookup in Progress', true);` 和 `$.mobile.hideCustomPageLoadingMsg();`

我的代码和你的代码之间的另一个区别是我将 ajax 调用和被调用的函数放在 .live 中：

```
function test(){
     $.mobile.showCustomPageLoadingMsg('f','Lookup in Progress', true);

$('#index ul li').remove()

var post_data = {
    action: 'an_action',
    method: 'method'
  }

$.ajax({
    type: 'POST',
    url: ajaxurl,
    data: post_data,
    cache: false,
    dataType: 'text',
    cache: false,
    success: function(response) {
        $.mobile.hideCustomPageLoadingMsg();
        $('#index ul').append(response)

        $('#index ul').listview('refresh')

      },
    error: function(jqXHR, textStatus, errorThrown) {

        console.log( ' => ' + jqXHR + ' => ' + textStatus + ' => ' + errorThrown )

      }
  })  

}

$('#index').live('pageinit', function(event) {   

test();

}); 
```

代码中的循环漏洞：

1.  很多代码在代码行末尾缺少分号`;`这是标准分隔符
2.  在成功函数中附加 html 内容后，您将隐藏您的消息。这应该在**之前**完成。
3.  最后尝试使用函数式编程，以便您可以在不同的场景中重用代码，从长远来看，如果您必须更改代码，您将只在一个地方执行更改。
4.  另一件事是，通过函数式编程，您可以引入 test() 可以采用的变量，并在 test 的定义中替换它们。

快乐黑客！

# c# - 如何使用 Jquery 在下拉列表中填充数据

> ID：12506282
> 
> 赞同：1
> 
> 时间：2012-09-20T04:58:33.973
> 
> 标签：c#, jquery, asp.net, json

```
 my Jquery code
 ("#<%=cboBranch.ClientID%>").append($("<option></option>").attr("value",valueData1).text(Data1))

 my asp code
 <asp:DropDownList ID="cboBranch" runat="server" class="medium" > 
```

我该怎么做？它不工作

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:17:41.727

你在循环数据吗？

```
// clear dropdown
    $("#<%=cboBranch.ClientID%>").html("");
    for (var i = 0; i < data.length; i++) {
        var item = data[i];
        $("#<%=cboBranch.ClientID%>").append(
              $("<option></option>").val(item.Id).html(item.Name);
        );
    }); 
```

读[这个](http://geekswithblogs.net/michelotti/archive/2008/06/28/mvc-json---jsonresult-and-jquery.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:19:51.837

假设`result`是你的 JSON 数据然后做这样的事情

```
$.each(result, function() {
    options.append($("<option />").val(this.Value).text(this.Name)); 
```

# jenkins - 无法从浏览器启动 jenkins

> ID：12506286
> 
> 赞同：0
> 
> 时间：2012-09-20T04:59:09.903
> 
> 标签：jenkins

我对詹金斯真的很陌生。今天我安装并尝试玩。当然我错过了一把钥匙。

我的环境：java -version java version "1.6.0_24" OpenJDK Runtime Environment (IcedTea6 1.11.4) (rhel-1.49.1.11.4.el6_3-x86_64) OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)

tomcat6

CentOS 6.3

从命令行，我运行 jenkins.war，结果如下

# java -jar jenkins.war --httpPort=8082 --ajp13Port=-1

```
Running from: /var/lib/tomcat6/webapps/jenkins.war
webroot: $user.home/.jenkins
Sep 20, 2012 1:32:55 PM winstone.Logger logInternal
INFO: Beginning extraction from war file
Jenkins home directory: /home/admin/.jenkins found at: $user.home/.jenkins
Sep 20, 2012 1:32:56 PM winstone.Logger logInternal
INFO: HTTP Listener started: port=8082
Sep 20, 2012 1:32:56 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v0.9.10 running: controlPort=disabled
Sep 20, 2012 1:32:56 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Sep 20, 2012 1:32:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Sep 20, 2012 1:32:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Sep 20, 2012 1:32:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Sep 20, 2012 1:32:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Sep 20, 2012 1:32:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Sep 20, 2012 1:33:00 PM org.apache.sshd.common.util.SecurityUtils$BouncyCastleRegistration run
INFO: Trying to register BouncyCastle as a JCE provider
Sep 20, 2012 1:33:00 PM org.apache.sshd.common.util.SecurityUtils$BouncyCastleRegistration run
INFO: Registration succeeded
Sep 20, 2012 1:33:00 PM org.jenkinsci.main.modules.sshd.SSHD start
INFO: Started SSHD at port 34921
Sep 20, 2012 1:33:01 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Sep 20, 2012 1:33:01 PM hudson.TcpSlaveAgentListener <init>
INFO: JNLP slave agent listener started on TCP port 59382
Sep 20, 2012 1:33:01 PM hudson.WebAppMain$2 run
INFO: Jenkins is fully up and running 
```

所以我认为一切都很好。

在浏览器中，这些都不起作用

```
http://IP:8080/jenkins
http://IP:8082/jenkins 
```

有人可以帮我解决这个问题吗？

最好的问候， Adjeiifo

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:51:07.183

你为什么要在最后添加 /jenkins ？http://:8082 应该足够了 此外，你检查过你的防火墙、代理或杀毒软件吗？您可以通过在浏览器中输入 localhost:8082 在本地访问您的安装吗？如果是，则上述任一或其他网络配置可能是问题所在

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-06T13:59:08.977

禁用防火墙

可能有必要在某些港口港口禁用parafire 示例：8080 Lunix 命令

```
firewall-cmd --zone=public --add-port=8080/tcp --permanent

firewall-cmd --zone=public --add-service=http --permanent

firewall-cmd --reload 
```

该命令在 VM 上的 CentOS 上进行了测试

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-12-31T09:29:39.500

使用安装程序并修复 Jenkins 服务。

如果是 Windows，请使用下载的 Zip 并解压缩 msi 安装程序文件。

双击它并修复系统上的詹金斯安装

# c# - 如何在where和between子句中查询DBF（dbase）文件日期类型字段

> ID：12506295
> 
> 赞同：5
> 
> 时间：2012-09-20T05:00:31.493
> 
> 标签：c#, sql, dbf, dbase

我有一个 DBF 文件，我正在尝试从 c# 代码中读取它。我可以在不应用任何条件或为 varchar 类型字段应用条件的情况下成功读取文件。我的问题是我必须从日期字段（类型：日期）中过滤记录。我尝试了以下方法，

```
SELECT * FROM D:\DBFreader\file.dbf where [RDATE] between 2/16/2006 12:00:00 AM and 2/20/2006 12:00:00 AM 
```

上面给出了一个语法错误：缺少运算符

```
SELECT * FROM D:\DBFreader\file.dbf where [RDATE] between '2/16/2006 12:00:00 AM' and '2/20/2006 12:00:00 AM' 
```

上面给出了数据类型不匹配错误

```
SELECT * FROM D:\DBFreader\file.dbf where [RDATE] between 2/16/2006 and 2/20/2006 
```

上面不会抛出任何异常，但不会返回任何记录，尽管有匹配的记录。

where 子句也会发生同样的事情。我可以做些什么来过滤范围内的记录

我正在使用以下代码来阅读它

```
OdbcCommand cmd = new OdbcCommand();
OdbcDataAdapter da = new OdbcDataAdapter();
DataTable dt = new DataTable();

using (OdbcConnection connection = new OdbcConnection(connstring))
{
   connection.Open();
   cmd = new OdbcCommand(@"SELECT * FROM D:\DBFreader\file.dbf where [RDATE] between 2/16/2006 12:00:00 AM and 2/20/2006 12:00:00 AM", connection);
   cmd.CommandType = CommandType.Text;

   da.SelectCommand = cmd;
   da.Fill(dt);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T19:19:06.690

BETWEEN 的 dbase/Foxpro 语法（适用于任何相同的数据类型）是

```
BETWEEN( SomeValue, MinRange, MaxRange ) 
```

所以你的查询可以像

```
where between( [RDATE], ctod( '02/16/2006' ), ctod( '02/20/2006' )) 
```

在旧的 DBase 和 VFP 中，CTOD() 代表字符到日期转换，并期望格式为 mm/dd/yyyy。通过只做“日期”部分，它总是意味着 12:00:00 AM。

此外，您可以使用可用的 DATE() 函数，例如 date(yyyy, mm, dd) as Date(2006, 02, 16)，它也将返回此特定日期。

如果您想要一个特定的时间，您可以使用代表 Character TO dateTime 字段的 CTOT()，例如

```
CTOT( "2012-09-20T15:16:21" )  = Sep 20, 2012 @ 3:16:21pm 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T06:36:42.833

不是 DBase 专家，但[this](http://blog.aggregatedintelligence.com/2009/03/odbc-using-date-queries-while-reading.html)和[this](http://dbf-software.com/sql-select.html)看起来很有希望。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-20T16:50:57.263

好的 -

我认为问题在于 dBase/xBase 不支持 SQL 日期的“介于”

解决方法：

`@"SELECT * FROM D:\DBFreader\file.dbf where [RDATE] >= #2/16/2006 12:00:00 AM# and [RDATE] < #2/20/2006 12:00:00 AM#"`

PS：我知道 dBase 语法支持“日期”字面量（例如“2/16/2006”；我不知道“日期时间”——请试一试看看。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-01T10:22:50.030

这对我有用，

```
WHERE RDATE >= {^2016-11-01} AND RDATE <= {^2017-01-31} 
```

我用**OLEDB Connection检查了这个**

# javascript - JQuery：同时使用 appendTo() 和 before()

> ID：12506297
> 
> 赞同：0
> 
> 时间：2012-09-20T05:00:40.617
> 
> 标签：javascript, jquery

我有一种情况，我必须在 a 中插入`div.msg`a `div.chat-msgs`。

```
<div class="chat-msgs">
  <div class="msg me">How are u?</div>
  <div class="msg">Good, Thanks..</div>
</div> 
```

这将是一个简单的使用`$('div.msg').appendTo($('div.chat-msgs'))`。

问题发生在某些时候我有一些`div`关于事件的其他问题，例如

```
<div class="chat-msgs">
  <div class="msg me">How are u?</div>
  <div class="msg">Good, Thanks..</div>
  <div class="event">XYZ is typing a message</div>
</div> 
```

我只想说，如果有任何消息进入`div.chat-msgs`它，它会在底部但在`div.event`.

```
<div class="chat-msgs">
  <div class="msg me">How are u?</div>
  <div class="msg">Good, Thanks..</div>
  <div class="msg">This is a new message</div>
  <div class="event">XYZ is typing a message</div>
</div> 
```

所以我想知道我们是否可以同时使用`.appendTo()`它`.before()`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:07:38.710

您可以测试是否`event`存在：

```
if ($('div.chat-msg').find('.event').length) {
  // exists, use before
} else {
  // doesn't exist, use append
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:09:14.610

您可以使用[此处](http://api.jquery.com/insertBefore/)`insertBefore()`记录的方法

# python - 组合元组列表和列表，从列表中删除元组元素

> ID：12506299
> 
> 赞同：-2
> 
> 时间：2012-09-20T05:00:46.877
> 
> 标签：python, algorithm, list, tuples

我有一个元组列表和一个列表： tup = [(1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7)] a = [1, 2, 3, 4, 5, 6, 7]

元组实际上是列表 a 的二元组，并且具有相同的顺序。

我必须结合这两种结构，这样： 我得到一个列表：

```
[(1,2),3,4,5,6,7]
[1,(2,3),4,5,6,7]
[1,2,(3,4),5,6,7]
[1,2,3,(4,5),6,7] 
```

这些数字没有限制，因此列表可能有重复或不同。这不是一个家庭作业问题，我正在尝试实现一个需要这个的算法，由于某种原因，我无法想出一个好的方法来做到这一点。

抱歉，我的问题不清楚。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:06:58.163

你的问题不是很清楚。一开始我以为你是这个意思

```
>>> tup = [(1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7)]
>>> a = [1, 2, 3, 4, 5, 6, 7]
>>> for i,j in enumerate(tup):
...  print a[:i]+[j]+a[i+2:]
... 
[(1, 2), 3, 4, 5, 6, 7]
[1, (2, 3), 4, 5, 6, 7]
[1, 2, (3, 4), 5, 6, 7]
[1, 2, 3, (4, 5), 6, 7]
[1, 2, 3, 4, (5, 6), 7]
[1, 2, 3, 4, 5, (6, 7)] 
```

但我想到了另一种解释

```
>>> for i,j in enumerate(tup):
...  print a[:i]+[tuple(a[j[0]-1:j[1]])]+a[i+2:]
... 
[(1, 2), 3, 4, 5, 6, 7]
[1, (2, 3), 4, 5, 6, 7]
[1, 2, (3, 4), 5, 6, 7]
[1, 2, 3, (4, 5), 6, 7]
[1, 2, 3, 4, (5, 6), 7]
[1, 2, 3, 4, 5, (6, 7)] 
```

很遗憾您选择了相同的数字`tup`，`a`如果它们在一般情况下不同

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:19:15.740

如果我理解您的要求，这应该比大多数其他选项更通用和更宽容：

```
import bisect
[a[:bisect.bisect_left(a, lo)] + \
        [(lo, hi)] + \
        a[bisect.bisect_right(a, hi):] for (lo, hi) in tup] 
```

输出是

```
[[(1, 2), 3, 4, 5, 6, 7],
 [1, (2, 3), 4, 5, 6, 7],
 [1, 2, (3, 4), 5, 6, 7],
 [1, 2, 3, (4, 5), 6, 7],
 [1, 2, 3, 4, (5, 6), 7],
 [1, 2, 3, 4, 5, (6, 7)]] 
```

# java - 如何使用 ThreadLocal 存储数据

> ID：12506300
> 
> 赞同：-1
> 
> 时间：2012-09-20T05:00:49.697
> 
> 标签：java, multithreading, struts2, thread-local

我正在使用 Strust2 和 Hibernate。我必须找出货币汇率（美元兑印度卢比）。我需要在多个地方使用这些信息。为此，我为此目的使用**ThreadLocal**。

```
public class GetExchangeRate{
private ThreadLocal<Double> threadLocalRate = new ThreadLocal<Double>();
public double getCurrencyRate(UserDet userDet){
    LOG.info("Thread id is ---------------->"+Thread.currentThread().getId());
    Double currencyRate = (Double) threadLocalRate.get();
    if(currencyRate == null){
        LOG.info("Object does not exist");
     ---//my code which is used to find USD --> INR exchange rate
   threadLocalRate.set(currencyRate);    
}
return currencyRate ;
}
} 
```

**我需要从四种**不同的方法中调用上述方法。当我从不同的方法调用上述方法时，上述总代码正在执行。我的要求是整个方法必须执行**一次。**剩下的总方法的**三倍**不应该被执行。应该返回存储在 ThreadLocal 对象中的值。

这是我的日志报告，它显示了上面的总方法已执行。

```
[ INFO] 2012-09-20 10:20:04,611 [CommonFormats] (CommonFormats.java:getCurrencyRate:159)
Thread id is ---------------------------->54
 [ INFO] 2012-09-20 10:20:04,611 [CommonFormats] (CommonFormats.java:getCurrencyRate:163)
Object does not exist

[ INFO] 2012-09-20 10:20:49,529 [CommonFormats] (CommonFormats.java:getCurrencyRate:159)
Thread id is ---------------------------->54
 [ INFO] 2012-09-20 10:20:49,529 [CommonFormats] (CommonFormats.java:getCurrencyRate:163)
Object does not exist 
```

请建议我做错了什么。上述方法将从**四个**方法中调用。**两个方法**属于Action类，**两个**方法属于Service层类。

我的示例代码

```
 //Action class
    public class StrutsAction1{
public String method1(){  
       // my code
    CommonFormats commonFormats= new CommonFormats(); 
    System.out.println(commonFormats.getCurrencyRate());
       // my code
}
public String method2(){  
       // my code
    CommonFormats commonFormats= new CommonFormats(); 
    System.out.println(commonFormats.getCurrencyRate());
       // my code
}  }

//Business class
public class BussinessLogic{
 public String method1(){  

       // my code
    CommonFormats commonFormats= new CommonFormats(); 
    System.out.println(commonFormats.getCurrencyRate());
       // my code

}
public String method2(){  

       // my code
    CommonFormats commonFormats= new CommonFormats(); 
    System.out.println(commonFormats.getCurrencyRate());
       // my code
}  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:13:58.513

我认为 ThreadLocal 在这里不合适。我从未使用过 Struts 2，只使用过 struts 1，但据我所知，这是一个建立在 servelts 之上的 Web 框架。它们在 Web 容器内运行，由 Web 容器决定何时应该打开线程，而您作为开发人员应该干预这个决定。

现在thread local只提供了一个key-value的映射，这样就可以在不同的线程中为同一个key维护不同的值。

例如，如果你有两个线程 A 和 B 并且想要维护键值对

*   "name" -> 'John' 用于线程 A 和
*   "name" -> 线程 B 的 'Fred'

您可以使用本地线程来执行此操作。

您真正要寻找的是一种应用程序上下文 - 一个存储容器中所有线程共享的数据的地方。另一种可能性是这里的单例。

这在技术上如何实现？

你可能有兴趣阅读[这个](https://stackoverflow.com/questions/6980454/struts2-static-data-storage-access)和[这个](https://stackoverflow.com/questions/2730547/struts-2-where-should-i-set-global-application-variables)

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:45:47.550

下面的代码对你有帮助吗？我在一个网站上阅读了一篇文章，修改了代码，使其在JDK7.0中免费编译。我使用的资源是

[http://javapapers.com/core-java/threadlocal/](http://javapapers.com/core-java/threadlocal/)

```
package com.javapapers;

import java.text.SimpleDateFormat;
import java.util.Date;

public class ThreadLocalExample {
  private static final ThreadLocal<SimpleDateFormat> formatter = new ThreadLocal<SimpleDateFormat>() {

    protected SimpleDateFormat initialValue() {
      return new SimpleDateFormat("yyyyMMdd HHmm");
    }
  };

  public String formatIt(Date date) {
    return formatter.get().format(date);
  }

  public static void main(String[] args)
  {
      ThreadLocalExample example = new ThreadLocalExample();
      System.out.println(example.formatIt(new Date()));
  }
} 
```

这里 ThreadLocal 用作静态变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-21T05:17:27.920

我的编码没有错误。我没有将变量设置为静态和最终的。

```
private static final ThreadLocal<Double> threadLocalRate = new ThreadLocal<Double>(); 
```

现在线程语言环境概念将起作用。

# api - Apache Thrift api 拍摄 cassandra 快照

> ID：12506303
> 
> 赞同：1
> 
> 时间：2012-09-20T05:01:07.267
> 
> 标签：api, cassandra, snapshot

**apache thrift 中是否存在任何 api 来获取 cassandra 快照。**

通常我们必须使用NodeTool.bat来拍摄keyspace的快照。但是**不使用nodetool** 而**只能通过thrift api**有可能**拍摄快照**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:21:52.313

不可以。只能通过 cassandra 公开的 JMX 接口进行快照。这是 nodetool 使用的接口，但您也可以编写自定义 java 工具来访问 JMX 接口。

# animation - 鼠标悬停时的CSS3背景旋转动画

> ID：12506305
> 
> 赞同：3
> 
> 时间：2012-09-20T05:01:12.340
> 
> 标签：animation, css, background, rotation, css-transitions

这是我的 div。

```
 #div1{
        position:   absolute;
        top:        50%;
        left:       50%;
        margin-left:-100px;
        margin-top: 420px;
        width:      158px;
        height:     158px;
        background-image:url(images/background.png);
    } 
```

对于鼠标悬停事件，我需要 360 度的背景图像旋转动画。有谁能够帮我？谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:36:35.223

这是您的要求：

[jsFiddle 演示](http://jsfiddle.net/centerwow/v2ErG/3/)

```
 <div id="div1">rterterrt
teteterrtetre<div id="div2">
</div></div> 
```

.

```
 #div1{
        position:   absolute;
        top:        50%;
        left:       50%;
        margin-left:-100px;
        /*margin-top: 420px;*/
        width:      158px;
        height:     158px;

}
#div2{

        /*margin-top: 420px;*/
        width:      158px;
        height:     158px;
        background-image:url(http://www.commentsyard.com/cy/01/6474/Mixed%20Flowers%20and%20a%20Bear.jpg);
}

#div2:hover {
    -webkit-animation-name: rotate; 
    -webkit-animation-duration: 2s; 
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-timing-function: linear;
    -moz-animation-name: rotate; 
    -moz-animation-duration: 2s; 
    -moz-animation-iteration-count: infinite;
    -moz-animation-timing-function: linear;
}
@-webkit-keyframes rotate {
    from {-webkit-transform: rotate(0deg);}
    to {-webkit-transform: rotate(360deg);}
}
​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:50:47.223

您不能通过 CSS（2,3 级）方式旋转背景图像。因此，您唯一的选择是对该图像使用单独的元素，并将该元素作为一个整体进行旋转/动画处理。

但是您将能够在[CSS 级别 4](http://dev.w3.org/csswg/css4-images/#the-image-orientation)中执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-11T03:28:26.057

您可以使用伪元素来实现这一点

```
#div1{
        position:   absolute;
        top:        50%;
        left:       50%;
        margin-left:-100px;
        margin-top: 420px;
}
#div:before {
   content: "";
   position: absolute;
   width: 158px;
   height: 158px;
   background-image:url(images/background.png);
   transition: all 1s linear;
}

#div:hover:before {
    transform:rotate(360deg);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-17T09:48:22.360

仅使用 CSS 代码在 :hover 上旋转背景图像。

[http://designshack.net/tutorialexamples/multiplebackgrounds/index.html](http://designshack.net/tutorialexamples/multiplebackgrounds/index.html)

# powershell - 在 Powershell 中创建除某些文件和文件夹之外的 zip 文件的功能

> ID：12506307
> 
> 赞同：1
> 
> 时间：2012-09-20T05:01:18.437
> 
> 标签：powershell, 7zip

如何编写powershell脚本函数来创建一个不包括.tmp文件和bin、obj文件夹的zip文件

我试过了，发现了这个：

```
function create-zip([String] $dir, [String] $Zipfile){
    [string]$pathZipExe = "C:\Program Files\7-zip\7z.exe";
    [Array]$arguments = "a", "-tzip", "$Zipfile", "$dir";
    & $pathZipExe $arguments;
} 
```

此代码压缩源目录的所有文件夹，但如何从 zip 中排除源目录的 .tmp 文件和“bin”、“obj”文件夹

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:44:35.500

尝试将这些开关添加到 7Zip 的命令行：

```
[Array]$arguments = "a", "-tzip", "$Zipfile", "$dir", "-xr!bin", "-xr!obj", "-xr!*.tmp"; 
```

# android - 我在标签小部件中有七个标签，只想显示五个标签？

> ID：12506308
> 
> 赞同：0
> 
> 时间：2012-09-20T05:01:25.193
> 
> 标签：android

我只想在屏幕上显示七个选项卡中的五个（水平），单击第四个选项卡时，子选项卡应垂直显示在第四个选项卡上方并显示剩余的 2 个选项卡。

这是我需要的屏幕图像

图片网址： http: [//tinypic.com/r/108iof4/6](http://tinypic.com/r/108iof4/6)

# c# - asp.net 和 javascript 中的正则表达式语法是否相同？

> ID：12506312
> 
> 赞同：4
> 
> 时间：2012-09-20T05:01:56.827
> 
> 标签：c#, javascript, asp.net, regex

我的问题如标题所示。如果两种语法不同，那么如何将 asp.net 中的正则表达式转换为 javascript。

真的很感谢任何人的回答。

**编辑**：我有正则表达式来测试这样的电子邮件地址：

```
"((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))" 
```

它在 .net 中运行良好。但是当我模拟正则表达式并在 javascript 中使用时：

```
new RegeExp(regex).test(email); 
```

它抛出一个语法错误：

```
SyntaxError: Invalid regular expression 
```

那么我怎样才能在javascript中使用那个可怕的正则表达式呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:22:44.277

它们不一样。要测试它如何在 JavaScript 中运行，您可以执行以下操作：

```
Regex.IsMatch("input", "regex", RegexOptions.ECMAScript) 
```

在 .NET 中，这将使其非常等效。如果可以，请通过它运行一些代码。这将帮助您确定它们是否工作相同。

为了编写和测试 JavaScript 的 RegEx 实现，我强烈推荐[http://regexpal.com/](http://regexpal.com/)它 100% 在浏览器中运行，甚至为您实时突出显示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T06:20:38.060

除了语法差异之外，还有很多 .NET 拥有而 JavaScript 没有的东西：

*   回溯断言
*   支持 Unicode 属性（这也会影响速记字符类，如`\w`、单词边界`\b`等）
*   递归正则表达式
*   前向引用
*   原子分组
*   条件句
*   POSIX 字符类
*   命名捕获组
*   一个 DOTALL 选项
*   多行正则表达式
*   [在这里看到的](http://www.regular-expressions.info/refflavors.html)许多其他小细节

因此，如果您的 .NET 正则表达式使用这些功能中的任何一个，则需要对它们进行大量修改，或者（在后视和递归的情况下）无法转换为 JavaScript。

**编辑：**

对于您的正则表达式，似乎主要需要更改语法（我使用[RegexBuddy](http://www.regexbuddy.com)完成的一项任务）。生成的正则表达式是这样的：

```
var myregexp = /((([a-z]|\d|[!#$%&'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))/; 
```

我不知道这个怪物应该做什么，所以你需要测试它是否符合你期望的一切。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T05:21:34.603

Javascript 使用 XRegExp，.NET 使用 Microsoft。它们不一样。

XRegExp 似乎具有较少的功能。

维基百科有一个比较图表[http://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines](http://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T05:14:31.460

正则表达式几乎相同，但在不同的编程语言中使用的语法可能不同。

[RegExBuddy](http://www.regexbuddy.com/)是编写 RegEx 并在大多数流行编程语言中使用的好工具。

# iphone - UITablecell 高度的动态大小

> ID：12506313
> 
> 赞同：-1
> 
> 时间：2012-09-20T05:01:58.467
> 
> 标签：iphone, uitableview

> **可能重复：**
> [设置自定义 UITableViewCells 高度](https://stackoverflow.com/questions/494562/setting-custom-uitableviewcells-height)

我有一个包含自定义单元格的表格视图。我有一个包含要在表格单元格上显示的文本的对象。但是文本的大小可能会有所不同，因此根据内容大小，单元格的大小应该增加或减少。怎么办这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:08:06.447

首先`cell`根据您的`text`.

```
CGSize boundingSize = CGSizeMake(220.0, 500);
//Adjust your Font name and size according to you
CGSize requiredSize = [cell.txtViewDescription.text sizeWithFont:[UIFont fontWithName:@"Helvetica" size:13.0] constrainedToSize:boundingSize lineBreakMode:UILineBreakModeWordWrap]; 
CGFloat requiredHeight = requiredSize.height;
requiredHeight = requiredHeight + 20.0; 
```

现在使用此方法分配`cell Height`

```
-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
```

这只是一个想法。现在一切都取决于你的逻辑。祝你好运！

# java - 使用 Spring Security 对 2 个生产服务器进行 Web 应用用户身份验证

> ID：12506314
> 
> 赞同：1
> 
> 时间：2012-09-20T05:02:06.460
> 
> 标签：java, authentication, spring-security, security

在基于 Java 的 Web 应用程序的服务器端工作（将为移动和 Web 客户端提供服务），我需要实现用户身份验证。在生产中，我有 2 台带有负载均衡器的服务器（重复，针对同一个数据库工作）。我之前使用过 Spring 安全性，所以这对我来说是最直观的方式，但这是我的问题：

Spring security 对 DB 进行一次用户身份验证（当用户登录时），然后使用基于会话的令牌处理和验证以后的请求。现在，假设我的一个生产服务器关闭了，然后我失去了我的会话，这意味着用户将得到某种“未经授权”的响应。我该如何处理？

我想到了3个选项

1.  [使用诸如redis](http://redis.io/)之类的键值对存储并将我的令牌保存在那里。如果我这样做，我想我必须干扰 springs 核心代码 - 一次是在用户登录时（将令牌保存到键值存储），一次是在验证用户时（验证这个键值存储而不是 spring 的 in-内存 HttpSessionSecurityContextRepository)。
2.  以一种在每个请求中针对数据库对用户进行身份验证的方式使用 Spring 安全性（我不确定它是否可能）。
3.  不使用spring security，而是简单地创建一个过滤器或一些[拦截器](http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch16s04.html#mvc-handlermapping-interceptor)，以便对数据库的每个请求进行身份验证。这意味着两件事：第一件事是我的客户必须将用户名和密码应用于每个请求（可能在标头中），第二件事是我必须为每个请求查询数据库。

所以这些是我的想法，如果你有这些想法和新建议，我想听听你的见解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:40:51.567

用户在整个会话中保持的状态如何？如果您遇到这种情况，那么如果服务器出现故障，您将丢失数据。

我认为最好的方法是从此处的粘性会话机制开始，并保持身份验证不变。

可以在负载均衡器上配置粘性会话，通常意味着以下内容：

*   一旦来自 IP A 的使用在服务器 S1 上打开您的应用程序，所有后续请求将被重定向到该服务器，但下一个用户将自动连接到服务器 S2（负载平衡器将做出这样的决定）。所以总而言之，如果你有 10 个用户同时工作，其中 5 个将连接到服务器 S1，其余的连接到服务器 B。

我不认为对每个请求进行身份验证是一个好主意（想想 web 2、ajax 请求）——这会使你的服务器和数据库负载很高，因此它无法处理很多用户/请求同时。

希望这可以帮助

# php - php objectToArray 逻辑放在哪里？哪一层？

> ID：12506320
> 
> 赞同：0
> 
> 时间：2012-09-20T05:03:18.733
> 
> 标签：php, design-patterns, separation-of-concerns

我正在 Zend Framework 中开发一个应用程序，并具有以下层：控制器、服务、域模型和映射器。

我的域对象需要表示为用于多种不同目的的数组。例如，映射器在持久化对象之前将其转换为数组；表单需要一个数组作为其`populate()`方法的参数；还有一些其他的例子。

所以，我的问题是，我应该在哪一层进行数组的转换？对象的翻译根据使用它的上下文略有不同，例如，在持久化新对象时不需要对象 ID，但在持久化更新或填充表单时需要对象 ID。

据我所知，有两种选择。选项 1 是在每个组件（即映射器、表单等）中进行翻译。选项2是将它放在域对象本身中，并让客户端代码传递一个参数以确定他们需要哪些数组变体，例如`$array = $domObject->toArray('populateForm');`

选项 1 将涉及大量重复，但它似乎遵守关注点分离规则。选项 2 将避免重复，但我不确定我的域对象是否应该关注以各种不同的方式表示自己。

也许域对象应该只生成一个“香草”数组，并且每个组件都应该为自己的使用定制它？还有一点与模式有关。我应该寻找应用装饰器或其他模式吗？

非常感谢您的想法！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:24:18.990

我对此的想法是首先，你认为你这样做是正确的吗？如果没有对该项目的任何真正了解，这听起来相当复杂。感觉就像您正在尝试做一个对 Zend 很陌生的人会做的典型解决方案，然后意识到这是不必要的。再说一次，我对你的项目不太了解。

其次，我可能会将这样的功能放在服务层中。对我来说，服务层几乎总是关于操作对象。

# mysql - 如果值与唯一列冲突，则更新忽略

> ID：12506321
> 
> 赞同：0
> 
> 时间：2012-09-20T05:03:25.087
> 
> 标签：mysql, sql

我想更新用户名和昵称，昵称是唯一列。

```
UPDATE `Users` 
SET `Nickname` = '$nickname', 
    `Name` = '$name' 
WHERE `ID` = '$userID' 
```

如果用户选择使用的昵称，则查询返回`Duplicate entry 'x' for key 'Nickname'`等。是否可以使查询忽略重复的列并修改其他列？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:33:14.413

尝试改用REPLACE [INTO](http://dev.mysql.com/doc/refman/5.0/en/replace.html)

> REPLACE 的工作方式与 INSERT 完全相同，只是如果表中的旧行与 PRIMARY KEY 或 UNIQUE 索引的新行具有相同的值，则在插入新行之前删除旧行。

# facebook - 在 Facebook 支付中查看订单信息时出错

> ID：12506323
> 
> 赞同：1
> 
> 时间：2012-09-20T05:03:28.733
> 
> 标签：facebook, facebook-graph-api, payment

这非常令人沮丧，而且 facebook 当然没有提供任何好的示例文档，所以我希望有人可以帮助我。

我正在尝试简单地调用 facebook graph api 以获取 facebook 支付订单的详细信息 #。使用 Graph API Explorer 我正在调用 /############ （#### 是订单号）并从顶部的应用程序下拉列表中选择应用程序以生成应用访问令牌。我得到的是一个错误：

```
{
  "error": {
    "message": "(#15) This method must be called with an app access_token.",
    "type": "OAuthException",
    "code": 15
  }
} 
```

当我使用以下调用进行应用访问令牌查找时：

[https://graph.facebook.com/oauth/access_token?client_id=YOUR_APP_ID&client_secret=YOUR_APP_SECRET&grant_type=client_credentials](https://graph.facebook.com/oauth/access_token?client_id=YOUR_APP_ID&client_secret=YOUR_APP_SECRET&grant_type=client_credentials)

当我使用返回的访问令牌时，我得到一个不同的错误：

```
{
   "error": {
      "message": "(#15) This method is not supported for native apps",
      "type": "OAuthException",
      "code": 15
   }
} 
```

我检查了该应用程序，它被设置为桌面/本机，因为它是一个游戏。我们为申请付款，为什么我无法查询付款？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T16:22:35.357

添加作为答案以帮助发现此问题的任何其他人，如果访问 Graph API 中的 Order 对象返回“false”，请检查以下内容：

1.  应用程序未设置为“本机/桌面”（此设置在高级设置下） - 如果是，则应用程序访问令牌不受信任
2.  您尝试访问的订单是真实订单，而不是应用设置中的付款测试用户之一

第一种情况相对鲜为人知，但因为假定“本机/桌面”应用程序已在二进制文件中分发了应用程序机密。

[第二个在Order](https://developers.facebook.com/docs/reference/api/order/)对象文档的顶部附近提到

# android - 选择要编辑的文本

> ID：12506325
> 
> 赞同：0
> 
> 时间：2012-09-20T05:03:46.023
> 
> 标签：android, android-edittext

我正在开发一个 Android 应用程序。在我的应用程序中，我遇到了一个奇怪的问题。请看一下我的屏幕。![在此处输入图像描述](../Images/9d8fa373e8837a0b9db047bf93fd4d46.png)

当我从选择框中选择任何东西时，它会在编辑文本中添加两次。

以下是我的edittext代码

```
snd_txt.addTextChangedListener(new TextWatcher() {

        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            // TODO Auto-generated method stub
            System.out.println("onTextChanged"+start+"b4"+before+"count"+count);
            if (start>0) {

                    int m=snd_txt.getText().toString().lastIndexOf(".");
                    makeColorText(m,snd_txt.getText().toString().length());

            }
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub

        }

        @Override
        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub

        }
    });

public void makeColorText(int num,int last) {

    int start=last-44;
    if (start<1){
        start=0;
    }
     SpannableString ss = new SpannableString(snd_txt.getText());

     ss.setSpan(new ForegroundColorSpan(R.color.Gray_Light), 0, start,0);
     ss.setSpan(new ForegroundColorSpan(Color.BLACK), start, last, 0); 
    // customize ss here
    // ...

    snd_txt.setText(ss);
    snd_txt.setSelection(last);
} 
```

如果我评论`snd_txt.setText(ss);`声明。edittext 将完美运行。但我不能这样做。我使用该方法在运行时更改编辑文本颜色。一直工作正常..但是在选择预测时会添加两次单词。

任何人有任何想法来解决，请帮助我。

编辑：如何创建带有多色文本的自定义编辑文本..例如：蓝色的当前行和上一个是黑色的。类似的东西

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T05:17:51.853

通过更改我的代码解决了我的问题。

```
snd_txt.addTextChangedListener(new TextWatcher() {
        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            // TODO Auto-generated method stub
            if (start>0) {
                 int m=snd_txt.getText().toString().lastIndexOf(".");
         makeColorText(snd_txt.getText().toString().length(),count);    
            }
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub
        }

        @Override
        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub
        }
    });

public void makeColorText(int last,int count) {

    int start=last-44;
    if (start<1){
        start=0;
    }

    String s=snd_txt.getText().toString();

    if (count==before_val&count!=1) {

        s=s.substring(0, last-before_val);
        last=last-before_val;
    }

     SpannableString ss = new SpannableString(s);

     ss.setSpan(new ForegroundColorSpan(R.color.Gray_Light), 0, start,0);
     ss.setSpan(new ForegroundColorSpan(Color.BLACK), start, last, 0); 
    // customize ss here
    // ...

         snd_txt.setText(ss);

     before_val=count;

    snd_txt.setSelection(last);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:44:33.643

你正在做一个认为可以`causes a Exception due to recycling`。您正在监视 edittext 的文本更改事件，如果有文本更改，那么您将再次在 EditText 上设置文本，因此您的文本更改事件将再次发生，您将再次设置文本，以便它将继续并且可能会给你堆栈溢出异常或挂起你的 UI。

您应该使用`beforeTextChanged`事件并修改`CharSequence`您在参数中得到的。可能这对你有用。

# android - 是否有 tabris 路线图

> ID：12506326
> 
> 赞同：0
> 
> 时间：2012-09-20T05:03:49.513
> 
> 标签：android, ios, eclipse

我的问题是关于tabris的未来发展。有没有这方面的信息？路线图或类似的？有没有关于 tabris 许可模式的信息？

最好的祝福

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T09:02:10.213

谷歌搜索一下把我带到了[这里](http://developer.eclipsesource.com/tabris/docs/faq/)

“Tabris 开发的下一步是什么？”部分在哪里？状态：

*目前，开发的重点是扩展 SWT 支持并为移动设备提供扩展 API，以访问相机、传感器、数据和多点触控导航。我们将在今年晚些时候发布测试版。1.0 版本的目标是今年冬天。*

“Tabris 可用的许可证”部分指出：

*在当前的开发者预览阶段，Tabris 可以免费使用。最终定价尚未公布，但我们的产品将与该领域的其他商业产品处于同一范围内。我们还将提供固定费用的企业源代码许可证。RAP 服务器在 EPL v1.0 下获得许可。*

所以……这一切都在那里等着你去寻找。

# javascript - 如何根据AngularJS局部视图动态更改标题？

> ID：12506329
> 
> 赞同：415
> 
> 时间：2012-09-20T05:04:11.680
> 
> 标签：javascript, angularjs, templates, partial-views, angular-routing

我正在使用 ng-view 来包含 AngularJS 部分视图，并且我想根据包含的视图更新页面标题和 h1 标题标签。但是，这些超出了部分视图控制器的范围，因此我无法弄清楚如何将它们绑定到控制器中的数据集。

如果它是 ASP.NET MVC，您可以使用 @ViewBag 来执行此操作，但我不知道 AngularJS 中的等价物。我搜索了共享服务、事件等，但仍然无法正常工作。任何修改我的示例以使其正常工作的方法将不胜感激。

我的 HTML：

```
<html data-ng-app="myModule">
<head>
<!-- include js files -->
<title><!-- should changed when ng-view changes --></title>
</head>
<body>
<h1><!-- should changed when ng-view changes --></h1>

<div data-ng-view></div>

</body>
</html> 
```

我的 JavaScript：

```
var myModule = angular.module('myModule', []);
myModule.config(['$routeProvider', function($routeProvider) {
    $routeProvider.
        when('/test1', {templateUrl: 'test1.html', controller: Test1Ctrl}).
        when('/test2', {templateUrl: 'test2.html', controller: Test2Ctrl}).
        otherwise({redirectTo: '/test1'});
}]);

function Test1Ctrl($scope, $http) { $scope.header = "Test 1"; 
                                  /* ^ how can I put this in title and h1 */ }
function Test2Ctrl($scope, $http) { $scope.header = "Test 2"; } 
```

* * *

## 回答 #1

> 赞同：634
> 
> 时间：2012-11-15T22:17:55.870

如果您使用路由，我刚刚发现了一种设置页面标题的好方法：

JavaScript：

```
var myApp = angular.module('myApp', ['ngResource'])

myApp.config(
    ['$routeProvider', function($routeProvider) {
        $routeProvider.when('/', {
            title: 'Home',
            templateUrl: '/Assets/Views/Home.html',
            controller: 'HomeController'
        });
        $routeProvider.when('/Product/:id', {
            title: 'Product',
            templateUrl: '/Assets/Views/Product.html',
            controller: 'ProductController'
        });
    }]);

myApp.run(['$rootScope', function($rootScope) {
    $rootScope.$on('$routeChangeSuccess', function (event, current, previous) {
        $rootScope.title = current.$$route.title;
    });
}]); 
```

HTML：

```
<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title ng-bind="'myApp &mdash; ' + title">myApp</title>
... 
```

**编辑**：使用`ng-bind`属性而不是卷曲`{{}}`，因此它们不会在加载时显示

* * *

## 回答 #2

> 赞同：342
> 
> 时间：2012-09-20T05:55:53.173

`<html>`您可以在级别定义控制器。

```
 <html ng-app="app" ng-controller="titleCtrl">
   <head>
     <title>{{ Page.title() }}</title>
 ... 
```

您创建服务：`Page`并从控制器进行修改。

```
myModule.factory('Page', function() {
   var title = 'default';
   return {
     title: function() { return title; },
     setTitle: function(newTitle) { title = newTitle }
   };
}); 
```

从控制器注入`Page`并调用“Page.setTitle()”。

这是具体示例： http: [//plnkr.co/edit/0e7T6l](http://plnkr.co/edit/0e7T6l)

* * *

## 回答 #3

> 赞同：194
> 
> 时间：2013-01-28T15:18:55.810

注意，你也可以直接用javascript设置标题，即，

```
$window.document.title = someTitleYouCreated; 
```

这没有数据绑定，但在放入标签有问题时就足够`ng-app`了。`<html>`（例如，使用`<head>`在一个地方定义的 JSP 模板，但您拥有多个应用程序。）

* * *

## 回答 #4

> 赞同：120
> 
> 时间：2013-05-31T04:43:15.197

`ng-app`在元素上声明为和`html`提供了根范围。`head``body`

因此，在您的控制器中注入`$rootScope`并设置一个标题属性：

```
function Test1Ctrl($rootScope, $scope, $http) { $rootScope.header = "Test 1"; }

function Test2Ctrl($rootScope, $scope, $http) { $rootScope.header = "Test 2"; } 
```

并在您的页面中：

```
<title ng-bind="header"></title> 
```

* * *

## 回答 #5

> 赞同：43
> 
> 时间：2013-12-08T07:08:41.157

模块[angularjs-viewhead](https://github.com/apparentlymart/angularjs-viewhead)显示了一种机制，可以仅使用自定义指令在每个视图的基础上设置标题。

它可以应用于内容已经是视图标题的现有视图元素：

```
<h2 view-title>About This Site</h2> 
```

...或者它可以用作独立元素，在这种情况下，该元素将在呈现的文档中不可见，并且仅用于设置视图标题：

```
<view-title>About This Site</view-title> 
```

该指令的内容在根范围内作为 可用`viewTitle`，因此它可以像任何其他变量一样在标题元素上使用：

```
<title ng-bind-template="{{viewTitle}} - My Site">My Site</title> 
```

它也可以用在任何其他可以“看到”根范围的地方。例如：

```
<h1>{{viewTitle}}</h1> 
```

此解决方案允许通过用于控制演示其余部分的相同机制设置标题：AngularJS 模板。这避免了使用这种表示逻辑使控制器混乱的需要。控制器需要提供将用于*通知*标题的任何数据，但模板会最终决定如何呈现它，并且可以使用表达式插值和过滤器来正常绑定到范围数据。

（免责声明：我是这个模块的作者，但我在这里引用它只是希望它能帮助其他人解决这个问题。）

* * *

## 回答 #6

> 赞同：32
> 
> 时间：2013-07-27T13:19:01.570

这是一个适合我的解决方案，它不需要将 $rootScope 注入控制器来设置资源特定的页面标题。

在主模板中：

```
<html data-ng-app="myApp">
    <head>
    <title data-ng-bind="page.title"></title>
    ... 
```

在路由配置中：

```
$routeProvider.when('/products', {
    title: 'Products',
    templateUrl: '/partials/products.list.html',
    controller: 'ProductsController'
});

$routeProvider.when('/products/:id', {
    templateUrl: '/partials/products.detail.html',
    controller: 'ProductController'
}); 
```

在运行块中：

```
myApp.run(['$rootScope', function($rootScope) {
    $rootScope.page = {
        setTitle: function(title) {
            this.title = title + ' | Site Name';
        }
    }

    $rootScope.$on('$routeChangeSuccess', function(event, current, previous) {
        $rootScope.page.setTitle(current.$$route.title || 'Default Title');
    });
}]); 
```

最后在控制器中：

```
function ProductController($scope) {
    //Load product or use resolve in routing
    $scope.page.setTitle($scope.product.name);
} 
```

* * *

## 回答 #7

> 赞同：16
> 
> 时间：2014-03-17T23:29:51.913

如果您事先知道标题，jkoreska 的解决方案是完美的，但您可能需要根据从资源等中获得的数据设置标题。

我的解决方案需要一项服务。由于 rootScope 是所有 DOM 元素的基础，我们不需要像有人提到的那样在 html 元素上放置控制器

### 页面.js

```
app.service('Page', function($rootScope){
    return {
        setTitle: function(title){
            $rootScope.title = title;
        }
    }
}); 
```

### 索引.jade

```
doctype html
html(ng-app='app')
head
    title(ng-bind='title')
// ... 
```

### 所有需要更改标题的控制器

```
app.controller('SomeController', function(Page){
    Page.setTitle("Some Title");
}); 
```

* * *

## 回答 #8

> 赞同：11
> 
> 时间：2014-07-06T22:33:24.153

一种允许动态设置标题或元描述的干净方式。在示例中，我使用 ui-router，但您可以以相同的方式使用 ngRoute。

```
var myApp = angular.module('myApp', ['ui.router'])

myApp.config(
    ['$stateProvider', function($stateProvider) {
        $stateProvider.state('product', {
            url: '/product/{id}',
            templateUrl: 'views/product.html',
            resolve: {
                meta: ['$rootScope', '$stateParams', function ($rootScope, $stateParams) {
                    var title = "Product " + $stateParams.id,
                        description = "Product " + $stateParams.id;
                    $rootScope.meta = {title: title, description: description};
                }]

                // Or using server side title and description
                meta: ['$rootScope', '$stateParams', '$http', function ($rootScope, $stateParams, $http) {
                    return $http({method: 'GET', url: 'api/product/ + $stateParams.id'})
                        .then (function (product) {
                            $rootScope.meta = {title: product.title, description: product.description};
                        });
                }]

            }
            controller: 'ProductController'
        });
    }]); 
```

HTML：

```
<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title ng-bind="meta.title + ' | My App'">myApp</title>
... 
```

* * *

## 回答 #9

> 赞同：8
> 
> 时间：2014-07-25T21:28:13.767

或者，如果您使用的是[ui-router](https://github.com/angular-ui/ui-router)：

**索引.html**

```
<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title ng-bind="$state.current.data.title || 'App'">App</title> 
```

**路由**

```
$stateProvider
  .state('home', {
      url: '/',
      templateUrl: 'views/home.html',
      data: {
        title: 'Welcome Home.'
      }
  } 
```

* * *

## 回答 #10

> 赞同：7
> 
> 时间：2014-03-27T16:56:55.500

# 基于事件的定制解决方案

这是此处其他人未提及的另一种方法（在撰写本文时）。

您可以像这样使用自定义事件：

```
// your index.html template
<html ng-app="app">
<head>
<title ng-bind="pageTitle">My App</title>

// your main app controller that is declared on the <html> element
app.controller('AppController', function($scope) {
    $scope.$on('title-updated', function(newTitle) {
        $scope.pageTitle = newTitle;
    });
});

// some controller somewhere deep inside your app
mySubmodule.controller('SomeController', function($scope, dynamicService) {
    $scope.$emit('title-updated', dynamicService.title);
}); 
```

这种方法的优点是不需要编写额外的服务，然后将其注入需要设置标题的每个控制器，并且也不（ab）使用`$rootScope`. 它还允许您设置动态标题（如代码示例中所示），这是无法使用路由器配置对象上的自定义数据属性（至少据我所知）。

* * *

## 回答 #11

> 赞同：5
> 
> 时间：2013-07-19T17:11:36.353

对于没有包含`title`标签的 ngApp 的场景，只需将服务注入需要设置窗口标题的控制器即可。

```
var app = angular.module('MyApp', []);

app.controller('MyController', function($scope, SomeService, Title){
    var serviceData = SomeService.get();
    Title.set("Title of the page about " + serviceData.firstname);
});

app.factory('SomeService', function ($window) {
    return {
        get: function(){
            return { firstname : "Joe" };
        }
    };
});

app.factory('Title', function ($window) {
    return {
        set: function(val){
            $window.document.title = val;
        }
    };
}); 
```

工作示例... [http://jsfiddle.net/8m379/1/](http://jsfiddle.net/8m379/1/)

* * *

## 回答 #12

> 赞同：5
> 
> 时间：2013-08-06T16:30:09.160

如果您无法控制标题元素（如 asp.net 网络表单），这里有一些您可以使用的东西

```
var app = angular.module("myApp")
    .config(function ($routeProvider) {
                $routeProvider.when('/', {
                                            title: 'My Page Title',
                                            controller: 'MyController',
                                            templateUrl: 'view/myView.html'
                                        })
                            .otherwise({ redirectTo: '/' });
    })
    .run(function ($rootScope) {
        $rootScope.$on("$routeChangeSuccess", function (event, currentRoute, previousRoute) {
            document.title = currentRoute.title;
        });
    }); 
```

* * *

## 回答 #13

> 赞同：4
> 
> 时间：2013-11-18T13:39:14.277

使用简单而肮脏的方式`$rootScope`：

```
<html ng-app="project">
<head>
<title ng-bind="title">Placeholder title</title> 
```

在您的控制器中，当您拥有创建标题所需的数据时，请执行以下操作：

```
$rootScope.title = 'Page X' 
```

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2014-07-21T19:30:39.300

这些答案似乎都不够直观，所以我创建了一个小指令来做到这一点。这种方式允许您在页面中声明标题，通常会这样做，并允许它是动态的。

```
angular.module('myModule').directive('pageTitle', function() {
    return {
        restrict: 'EA',
        link: function($scope, $element) {
            var el = $element[0];
            el.hidden = true; // So the text not actually visible on the page

            var text = function() {
                return el.innerHTML;
            };
            var setTitle = function(title) {
                document.title = title;
            };
            $scope.$watch(text, setTitle);
        }
    };
}); 
```

您当然需要更改模块名称以匹配您的。

要使用它，只需将它放在您的视图中，就像您对常规`<title>`标签所做的那样：

```
<page-title>{{titleText}}</page-title> 
```

如果您不需要动态添加纯文本，也可以只包含纯文本：

```
<page-title>Subpage X</page-title> 
```

或者，您可以使用属性，使其对 IE 更友好：

```
<div page-title>Title: {{titleText}}</div> 
```

当然，你可以在标签中放置任何你想要的文本，包括 Angular 代码。在这个例子中，它会`$scope.titleText`在任何控制器中查找自定义标题标签当前所在的位置。

只要确保您的页面上没有多个页面标题标签，否则它们会互相破坏。

Plunker 示例在这里[http://plnkr.co/edit/nK63te7BSbCxLeZ2ADHV](http://plnkr.co/edit/nK63te7BSbCxLeZ2ADHV)。您必须下载 zip 并在本地运行它才能看到标题更改。

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2017-06-09T13:09:11.147

angular-ui-router 的简单解决方案：

HTML：

```
<html ng-app="myApp">
  <head>
     <title ng-bind="title"></title>
     .....
     .....  
  </head>
</html> 
```

App.js > myApp.config 块

```
$stateProvider
    .state("home", {
        title: "My app title this will be binded in html title",
        url: "/home",
        templateUrl: "/home.html",
        controller: "homeCtrl"
    }) 
```

App.js>myApp.run

```
myApp.run(['$rootScope','$state', function($rootScope,$state) {
   $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState, fromParams) {
    $rootScope.title = $state.current.title;
    console.log($state);
   });
}]); 
```

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2012-09-21T23:04:26.320

这是进行标题更改的另一种方法。也许不像工厂函数那样可扩展（可以想象它可以处理无限的页面），但我更容易理解：

在我的 index.html 中，我是这样开始的：

```
 <!DOCTYPE html>
      <html ng-app="app">
        <head>
          <title ng-bind-template="{{title}}">Generic Title That You'll Never See</title> 
```

然后我做了一个名为“nav.html”的部分：

```
<div ng-init="$root.title = 'Welcome'">
    <ul class="unstyled">
        <li><a href="#/login" ng-click="$root.title = 'Login'">Login</a></li>
        <li><a href="#/home" ng-click="$root.title = 'Home'">Home</a></li>
        <li><a href="#/admin" ng-click="$root.title = 'Admin'">Admin</a></li>
        <li><a href="#/critters" ng-click="$root.title = 'Crispy'">Critters</a></li>
    </ul>
</div> 
```

然后我回到“index.html”并使用 ng-include 添加了 nav.html，并为我的部分添加了 ng-view：

```
<body class="ng-cloak" ng-controller="MainCtrl">
    <div ng-include="'partials/nav.html'"></div>
    <div>
        <div ng-view></div>
    </div> 
```

注意到那个 ng-cloak 了吗？它与这个答案没有任何关系，但它会隐藏页面直到它完成加载，一个很好的接触:) 在此处了解如何：[Angularjs - ng-cloak/ng-show elements blink](https://stackoverflow.com/questions/11249768/angularjs-ng-cloak-ng-show-elements-blink)

这是基本模块。我把它放在一个名为“app.js”的文件中：

```
(function () {
    'use strict';
    var app = angular.module("app", ["ngResource"]);

    app.config(function ($routeProvider) {
        // configure routes
        $routeProvider.when("/", {
            templateUrl: "partials/home.html",
            controller:"MainCtrl"
        })
            .when("/home", {
            templateUrl: "partials/home.html",
            controller:"MainCtrl"
        })
            .when("/login", {
            templateUrl:"partials/login.html",
            controller:"LoginCtrl"
        })
            .when("/admin", {
            templateUrl:"partials/admin.html",
            controller:"AdminCtrl"
        })
            .when("/critters", {
            templateUrl:"partials/critters.html",
            controller:"CritterCtrl"
        })
            .when("/critters/:id", {
            templateUrl:"partials/critter-detail.html",
            controller:"CritterDetailCtrl"
        })
            .otherwise({redirectTo:"/home"});
    });

}()); 
```

如果您看向模块的末尾，您会看到我有一个基于 :id 的 critter-detail 页面。这是 Crispy Critters 页面中使用的部分内容。[Corny，我知道 - 也许它是一个庆祝各种鸡块的网站；）无论如何，您可以在用户点击任何链接时更新标题，所以在我的 Crispy Critters 主页面中，该页面通向 critter-detail 页面，这就是 $root.title 更新的地方，就像你在上面的 nav.html 中看到的那样：

```
<a href="#/critters/1" ng-click="$root.title = 'Critter 1'">Critter 1</a>
<a href="#/critters/2" ng-click="$root.title = 'Critter 2'">Critter 2</a>
<a href="#/critters/3" ng-click="$root.title = 'Critter 3'">Critter 3</a> 
```

抱歉，风太大了，但我更喜欢一个能提供足够详细信息的帖子来启动和运行。请注意，AngularJS 文档中的示例页面已经过时，并且显示了 0.9 版本的 ng-bind-template。你可以看到它并没有太大的不同。

事后思考：你知道这一点，但它是为其他人准备的；在 index.html 的底部，必须在模块中包含 app.js：

```
 <!-- APP -->
        <script type="text/javascript" src="js/app.js"></script>
    </body>
</html> 
```

* * *

## 回答 #17

> 赞同：3
> 
> 时间：2015-06-11T15:34:26.680

当我不得不解决这个问题时，我无法将`ng-app`放在页面的`html`标签上，所以我用服务解决了它：

```
angular.module('myapp.common').factory('pageInfo', function ($document) {

    // Public API
    return {
        // Set page <title> tag. Both parameters are optional.
        setTitle: function (title, hideTextLogo) {
            var defaultTitle = "My App - and my app's cool tagline";
            var newTitle = (title ? title : defaultTitle) + (hideTextLogo ? '' : ' - My App')
            $document[0].title = newTitle;
        }
    };

}); 
```

* * *

## 回答 #18

> 赞同：2
> 
> 时间：2018-05-04T11:49:31.357

# [受Michael Bromley](https://stackoverflow.com/a/22694242/1172301)启发的基于自定义事件的解决方案

我无法使其与 $scope 一起使用，所以我尝试使用 rootScope，可能有点脏……（特别是如果您在未注册事件的页面上进行刷新）

但我真的很喜欢事物如何松散耦合的想法。

我正在使用 angularjs 1.6.9

**index.run.js**

```
angular
.module('myApp')
.run(runBlock);

function runBlock($rootScope, ...)
{
  $rootScope.$on('title-updated', function(event, newTitle) {
    $rootScope.pageTitle = 'MyApp | ' + newTitle;
  });
} 
```

**anyController.controller.js**

```
angular
.module('myApp')
.controller('MainController', MainController);

function MainController($rootScope, ...)
{
  //simple way :
  $rootScope.$emit('title-updated', 'my new title');

  // with data from rest call
  TroncQueteurResource.get({id:tronc_queteur_id}).$promise.then(function(tronc_queteur){
  vm.current.tronc_queteur = tronc_queteur;

  $rootScope.$emit('title-updated', moment().format('YYYY-MM-DD') + ' - Tronc '+vm.current.tronc_queteur.id+' - ' +
                                             vm.current.tronc_queteur.point_quete.name + ' - '+
                                             vm.current.tronc_queteur.queteur.first_name +' '+vm.current.tronc_queteur.queteur.last_name
  );
 });

 ....} 
```

**索引.html**

```
<!doctype html>
<html ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <title ng-bind="pageTitle">My App</title> 
```

它对我有用:)

* * *

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2015-03-08T05:07:55.923

虽然其他人可能有更好的方法，但我能够在我的控制器中使用 $rootScope，因为我的每个视图/模板都有一个不同的控制器。您需要在每个控制器中注入 $rootScope。虽然这可能并不理想，但它对我有用，所以我想我应该把它传下去。如果您检查页面，它会将 ng-binding 添加到标题标签。

示例控制器：

```
myapp.controller('loginPage', ['$scope', '$rootScope', function ($scope, $rootScope) {

// Dynamic Page Title and Description
$rootScope.pageTitle = 'Login to Vote';
$rootScope.pageDescription = 'This page requires you to login';
}]); 
```

示例 Index.html 标头：

```
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="description" content="{{pageDescription}}">
<meta name="author" content="">
<link rel="shortcut icon" href="../../assets/ico/favicon.ico">
<base href="/">
<title>{{pageTitle}}</title> 
```

您还可以将 pageTitle 和 pageDescription 设置为动态值，例如从 REST 调用返回数据：

```
 $scope.article = restCallSingleArticle.get({ articleID: $routeParams.articleID }, function() {
    // Dynamic Page Title and Description
    $rootScope.pageTitle = $scope.article.articletitle;
    $rootScope.pageDescription = $scope.article.articledescription;
}); 
```

同样，其他人可能对如何解决这个问题有更好的想法，但由于我使用的是预渲染，所以我的需求得到了满足。

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2014-08-23T19:33:07.393

到目前为止，[哈希先生给出了最好的答案，但下面的解决方案通过添加以下好处使其成为理想（对我来说）：](https://stackoverflow.com/users/819295/mr-hash)

*   不添加手表，这会减慢速度
*   实际上自动化了我可能在控制器中所做的事情，但是
*   如果我仍然想要它，仍然可以让我从控制器访问。
*   无需额外注入

在路由器中：

```
 .when '/proposals',
    title: 'Proposals',
    templateUrl: 'proposals/index.html'
    controller: 'ProposalListCtrl'
    resolve:
      pageTitle: [ '$rootScope', '$route', ($rootScope, $route) ->
        $rootScope.page.setTitle($route.current.params.filter + ' ' + $route.current.title)
      ] 
```

在运行块中：

```
.run(['$rootScope', ($rootScope) ->
  $rootScope.page =
    prefix: ''
    body: ' | ' + 'Online Group Consensus Tool'
    brand: ' | ' + 'Spokenvote'
    setTitle: (prefix, body) ->
      @prefix = if prefix then ' ' + prefix.charAt(0).toUpperCase() + prefix.substring(1) else @prifix
      @body = if body then ' | ' + body.charAt(0).toUpperCase() + body.substring(1) else @body
      @title = @prefix + @body + @brand
]) 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2013-03-06T17:08:10.087

感谢[tosh shimayama](https://stackoverflow.com/users/1238847/tosh-shimayama)的解决方案。
我认为将服务直接放入 中并不那么干净`$scope`，所以这是我对此的轻微变化：http: [//plnkr.co/edit/QJbuZZnZEDOBcYrJXWWs](http://plnkr.co/edit/QJbuZZnZEDOBcYrJXWWs)

控制器（最初的答案在我看来有点太笨了）创建了一个 ActionBar 对象，这个对象被塞进了 $scope。
该对象负责实际查询服务。它还从 $scope 中*隐藏*了设置模板 URL 的调用，而其他控制器可以使用它来设置 URL。

* * *

## 回答 #22

> 赞同：-4
> 
> 时间：2014-12-31T02:38:57.933

我发现的更好的动态解决方案是使用 $watch 来跟踪变量更改，然后更新标题。

# python - 从 2-gram 中提取短语

> ID：12506333
> 
> 赞同：2
> 
> 时间：2012-09-20T05:04:27.200
> 
> 标签：python, algorithm, information-retrieval

```
The Foo Fighters performed at... 
(The Foo) (Foo Fighters) (Fighters performed) (performed at)... 
```

我有一个由许多句子连接而成的 2-gram 列表。我想从整个列表中提取两个和三个单词 ( `The Foo Fighters`, ) 的短语。`Bill Gates`但我想**拒绝较长的短语**（`to cancel this newsletter, please click...`）。

**编辑：**也就是说，我想提取那些**可能是**名词等实体的短语。

对此有什么好的方法？

* * *

我想出的最简单的方法是只考虑两个词的短语和过滤停用词。但它不会接受`The Foo Fighters`。我还简要地考虑过使用 TF-IDF 来降低太常见的短语。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:59:53.250

对于一个大学。项目我不得不做一些与你所描述的非常相似的事情。

我们尝试了以下方法：

1.  获取每个 2-gram 的 idf 值（我们使用 Bing Developer API，虽然不准确，但它可以评估该短语是否有 10 次点击或 10,000,000 次点击）。当然，必须进行规范化（在由非常常见的单词组成的 2-gram 上出现大量点击毫无价值）。
2.  Wikipedia - 我们尝试在 wikipedia 中搜索该短语（搜索是否有文章，或者该短语是它的子字符串的文章），并获取匹配良好的短语
3.  Ran El-Yaniv在一篇文章中将另一种高级的案例特定算法描述为*Co-Occuring Ranking 。*

从以上 3 点来看，基于 wikipedia 的算法在很大程度上实现了最佳性能（p_value < 0.05，不记得具体多少了）

*   我们还想实现另一种基于[google n-grams dataset](http://books.google.com/ngrams/datasets)的算法，但遗憾的是没有时间。

* * *

我们是如何做到的：

*   每个算法（表示为记分器）给每个 2-gram 打分。
*   然后我们运行第二个算法（过滤器）来选择“最好的”2-gram。我们尝试了简单的百分比算法（例如：“获得前 7%”）、固定分数（例如：“高于 0.5”）和动态算法，在分数中寻找较大的差距，并将其用于决定取多少 2 克。

对于 wikipedia ranker - 固定和动态的得分相似，对于其他 - 动态是我们尝试过的最好的。

# class - 常量问题：如何遍历 D 中的对象链表？

> ID：12506338
> 
> 赞同：0
> 
> 时间：2012-09-20T05:05:24.833
> 
> 标签：class, object, linked-list, d

如果我有这样的课程：

```
class Node
{
    string id;
    const Node next;
} 
```

我如何找到链接列表`id`中最后一个的？`Node`

```
string lastID(const Node node)
{
    ???
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:51:29.923

我假设你的问题是你需要循环但不能重置你的变量，因为它是 const? 如果您想要一个引用 const 对象但本身可重新分配的对象（即它是 tail-const），那么使用`std.typecons.Rebindable`. 在这种情况下，这为您提供：

```
string lastID(const Node node)
{
    import std.typecons;
    Rebindable!(const Node) curr = node;

    while(curr.next)
        curr = curr.next;

    return curr.id;
} 
```

我必须说，我觉得这有点奇怪，尽管你不只是问如何引用一个引用不是 const 本身的 const 对象，因为这就是我所能看到的，你真的在​​这里问，考虑到循环本身是多么简单。就目前而言，您的问题有点过于要求某人为您编写代码而不是提出问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T07:10:10.733

您也可以花哨并使用递归：

```
string lastID(const Node node)
{
    if(node.next)
        return lastID(node.next);
    return node.id;
} 
```

请记住，如果列表很长，它可能会导致堆栈溢出（据我所知 D 不支持尾调用递归优化）

# streaming - 以 HTML 5 格式从 Window Media Server 流式传输视频

> ID：12506343
> 
> 赞同：1
> 
> 时间：2012-09-20T05:06:03.427
> 
> 标签：streaming

我需要从 HTML5 中的窗口媒体服务器流式传输视频。但是当我研究 Window Media Server 时，我发现它只会流式传输 .wmv 内容。但我需要为 Iphone/Ipad 等和所有主要浏览器流式传输 .wmv 内容。

而这些浏览器需要HTML5中的.Mp4,.Ogg,.WebM格式。我想使用 jPlayer。[http://www.jplayer.org/](http://www.jplayer.org/)

知道如何实现这一目标吗？

提前致谢

# php - 评论模块中没有为可评论模型请求定义范围

> ID：12506345
> 
> 赞同：0
> 
> 时间：2012-09-20T05:06:42.030
> 
> 标签：php, yii, yii-extensions

我正在使用我设置的[评论模型作为指令。](http://www.yiiframework.com/extension/comment-module/)设置后，我得到了这个错误

> CommentModule 中没有为可评论的模型请求定义范围

我在我的应用程序中使用权限和用户模块。我仅在 config/main.php 中将 'userModelClass'=>'User' 更改为 'userModelClass'=>'Users'。我错了什么？我是否需要在受保护/模型中为 comment_tbl 创建新模型？

# php - 可以有效衡量趋势和流行度的数据库结构？

> ID：12506346
> 
> 赞同：0
> 
> 时间：2012-09-20T05:06:44.857
> 
> 标签：php, mysql, data-structures, data-modeling

假设我有一个包含各种小部件的网站。这些小部件受用户“喜欢”的影响。那么，我如何能够使用“喜欢”作为衡量标准来衡量任何给定小部件在特定时间跨度内的受欢迎程度？我可以组装能够辨别今天或本周、本月（等等）的热门小部件的脚本。

我之前想只统计总喜欢，但这无法告诉我它是否受欢迎或不知道如何与时间无关。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:14:25.810

```
 CREATE TABLE WidgetLikes (
     WidgetID INTEGER NOT NULL REFERENCES Widgets(WidgetID), 
     UserID   VARCHAR(20) NOT NULL REFERENCES Users(UserID),
     LikedAt DATETIME NOT NULL,
     PRIMARY KEY (WidgetID, UserID)
 ); 
```

这假设：

1.  Widgets 表包含一个小部件列表，并具有一个称为 WidgetID 的整数主键。
2.  Users 表包含一个用户列表，并且有一个名为 UserID 的 VARCHAR(20) 主键。
3.  每个用户最多可以“喜欢”一个小部件一次。
4.  您希望能够跟踪短于一天和更长时期的趋势。

要使用这个表，只要用户喜欢一个小部件，就插入一条记录。

要获得结果，请发出如下命令：

```
 SELECT WidgetID, COUNT(UserID) FROM WidgetLikes 
    WHERE LikedAt BETWEEN `2012-09-01 00:00:00` AND `2012-09-03 11:59:59'; 
```

# android - 我可以在 android drawbale 文件夹中为图像创建子文件夹吗

> ID：12506353
> 
> 赞同：0
> 
> 时间：2012-09-20T05:07:31.660
> 
> 标签：android, image, drawable

我在 diffident 文件夹中有大量图像。我可以将这些文件夹放在“drawable”文件夹中，还是有任何其他模式可以在“drawables”中添加子文件夹。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:09:07.650

不，资源机制不支持可绘制目录中的子文件夹，所以是的 - 您需要保持该层次结构平坦。

但是，您可以使用 assets 文件夹并在其中有子目录并以这种方式加载图像。

**示例代码**

```
InputStream is = null;
try {
    is = this.getResources().getAssets().open("test/sample.png");
} catch (IOException e) {
    ;
}

image = BitmapFactory.decodeStream(is); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:12:41.833

根据Android的结构，我们只能将图片放在drawable文件夹下。我们可以选择创建子文件夹，但无法访问它们。取决于图像的密度，我们可以将图像放在相关文件夹中：见下文：文件夹名称需要是：

```
/drawable-ldpi For low density screens
/drawable-mdpi For medium density screens
/drawable-hdpi For high resolution screens
/drawable-xhdpi For extra high resolution screens 
```

/drawable 应该为您不关心哪个设备或 xml 可绘制资产的资产保留

然后最重要的是，您可以使用配置限定符根据配置提供不同的资源，您可以在此处阅读所有相关信息[http://developer.android.com/guide/topics/resources/providing-resources.html](http://developer.android.com/guide/topics/resources/providing-resources.html)

例如，您可以拥有带有文件夹的风景的高分辨率资产

```
/drawable-land-hdpi 
```

希望有帮助

# c# - c#反射（或通过注入的dll获取类值的另一种方式）

> ID：12506360
> 
> 赞同：3
> 
> 时间：2012-09-20T05:08:20.893
> 
> 标签：c#, dll, code-injection

在过去的 3 周里，我一直在网上搜索，试图让它发挥作用，但我没有任何运气。

一点背景故事：将 C# .NET 4.0 DLL 注入 .NET 4.0 应用程序。

（我可以使用用 C++ 编写的引导 DLL 注入我的 DLL，并且可以调用应用程序中的函数）

我可以让这段代码工作，但我想做的是获取“实际”值，而不是创建类的新实例。

下面是反射工作的一个工作示例，我不希望它工作，我不确定反射是否是我此时需要使用的。还是我只是在叫错树？

```
namespace TestFormsApp4
{
    static class Program
    {
        private static TestClass1 Test = new TestClass1("from class 1");
        [STAThread]
        static void Main()
        {
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            BindingFlags Binding = BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.Static;
            Assembly App = Assembly.Load("TestFormsApp4");
            //Get the TestFormsApp4.Program (static) type
            Type Test1C = App.GetType("TestFormsApp4.Program");
            //get the testclass2 field (TestClass2 testclass2;)
            var Test1F = Test1C.GetField("Test", Binding);
            //get the value from the field
            var Test2C = Test1F.GetValue(Test1C);

            Application.Run(new Form1());
        }
    }
}

namespace TestName1
{                      
    class TestClass1
    {
        public bool testbool = false;
        public TestClass2 testclass2;
        public TestClass1(String SetString)
        {
            this.testclass2 = new TestClass2(SetString);
        }
    }
}

namespace TestName2
{
    class TestClass2
    {
        public String teststring;
        public TestClass2(String SetString)
        {
            teststring = SetString;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T11:42:38.833

是的，该代码无法正常工作。您必须获得对您​​感兴趣的类的现有实例的引用。创建一个新实例除了您自己在此类实例上设置的属性外，不会给您带来任何好处。这样的引用很难获得，没有办法迭代垃圾收集堆上的对象。

您必须在程序中需要一个*静态*变量来跟踪创建的实例。有一个提示可能存在这样的变量，看起来您正在对表单进行操作。Application.OpenForms 是一个静态变量，它引用已打开表单的集合。您可以对其进行迭代并使用 GetType() 来查找特定表单类型的实例。只要该表单对象存储对“TestClass”实例的引用，您就可以使用反射将其挖掘出来。也是 ManagedSpy++ 工具的工作方式。

# java - 拆分异常

> ID：12506361
> 
> 赞同：0
> 
> 时间：2012-09-20T05:08:21.937
> 
> 标签：java, exception

我想抛出一个异常，以下是我的异常：

[致命错误] Test.xml:18:23: 元素类型 "value" 必须以匹配的 end-tag 终止`</value>`。

现在我想单独取值 18 。

我尝试使用以下代码：

`System.out.println(java.util.Arrays.toString(e.getMessage().split(":")));`

但它正在打印：

`[The element type "value" must be terminated by the matching end-tag "</value>".].`

我怎样才能单独取值 18？

当我尝试使用以下代码时：

`System.out.println(e.getMessage().toString());`, 只是打印`"The element type "value" must be terminated by the matching end-tag "</value>"."`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:17:19.150

如果您只想打印 的值`18`，那么类似的方法可能会有所帮助：

```
String str = "[Fatal Error] Test.xml:18:23: The element type \"value\" must be terminated by the matching end-tag ";
System.out.println(str.split(":")[1]); 
```

产量：`18`

编辑：第二个想法，`e.getMessage()`不会给你这样的字符串：`[Fatal Error] Test.xml:18:23: The element type "value" must be terminated by the matching end-tag </value>`. 该字符串似乎是某些日志记录工具的产物，因此您必须从文件或类似文件中读取它才能获得`18`显示的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:16:26.350

尝试：

```
e.getMessage().split(":")[1] 
```

# php - cPanel JSON API2 editzonerecord 问题

> ID：12506363
> 
> 赞同：2
> 
> 时间：2012-09-20T05:08:33.190
> 
> 标签：php, json, api, cpanel

我正在尝试使用 cPanel API2 编辑其中一个区域文件的 A 记录，但我遇到了一个奇怪的问题。而不是替换条目，而是添加一个新条目。我对 API 的调用如下：

```
https://1.2.3.4:2087/json-api/editzonerecord?domain=mydomain.com&line=13&name=mydomain.com.&address=1.2.3.5&type=A&ttl=300 
```

因此，不是将第 13 行（其中包含 A 记录）从 1.2.3.4 替换为 1.2.3.5，而是在原来的上方添加另一个条目。所以区域文件最终看起来像这样：

```
(..)
(13) mydomain.com.   300     IN   A   1.2.3.5
(14) mydomain.com.   14400   IN   A   1.2.3.4
(..) 
```

我已按照[http://docs.cpanel.net/twiki/bin/view/SoftwareDevelopmentKit/EditZoneRecord的说明进行操作](http://docs.cpanel.net/twiki/bin/view/SoftwareDevelopmentKit/EditZoneRecord)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-24T01:23:26.790

**来自 cPanel 的回应：**

如果您只是尝试编辑记录的 IP，则可以省略名称部分。

我还发现，如果您包含名称选项并且有错误的行，或者名称与该行上的记录不匹配，它将为该记录创建一个新行。我使用该命令`cat -n /var/named/example.com.db`来检索区域的行号。

下面是我使用的 api 命令，它成功地编辑了域的 A 记录。

```
/json-api/editzonerecord?domain=example.com&line=13&&address=4.3.2.1&type=A&ttl=300 
```

以下是编辑后的我的区域文件：

```
 1  ; cPanel first:11.32.4.15 (update_time):1348223931 Cpanel::ZoneFile::VERSION:1.3 hostname:cpanel.test.server latest:11.32.4.15
 2  ; Zone file for example.com
 3  $TTL 14400
 4  example.com.    86400   IN      SOA     ns1.cpcitizenk.com.     citizen.cpanel.net.     (
 5                                                  2012092110 ;Serial Number
 6                                                  86400 ;refresh
 7                                                  7200 ;retry
 8                                                  3600000 ;expire
 9                                                  86400   )
10
11  example.com.    86400   IN      NS      ns1.cpcitizenk.com.
12  example.com.    86400   IN      NS      ns2.cpcitizenk.com.
13  example.com.    300     IN      A       4.3.2.1
14  localhost       14400   IN      A       127.0.0.1
15  example.com.    14400   IN      MX      0       example.com.
16  mail    300     IN      A       1.2.3.4
17  www     14400   IN      CNAME   example.com.
18  ftp     14400   IN      A       1.2.3.4
19  cpanel  14400   IN      A       1.2.3.4
20  whm     14400   IN      A       1.2.3.4
21  webmail 14400   IN      A       1.2.3.4
22  webdisk 14400   IN      A       1.2.3.4 
```

# php - PHP：将数据插入另一个表

> ID：12506368
> 
> 赞同：-1
> 
> 时间：2012-09-20T05:09:08.443
> 
> 标签：php

我有下面的功能，告诉数据库天气更新或插入取决于是否找到电子邮件地址这工作正常但是我仍然有一些`$POST`信息需要进入另一个表，具体取决于`id`

我已经解决了，对于该`if($emailCheck != FALSE)`语句，我可以运行另一个`insert`语句并`id`在其中设置

我的问题是我如何才能为声明`insert`中的新信息实现这一目标`else`？

**插入功能：**

```
function Insert()
{
  $emailCheck = $this->checkEmail($email);

  if($emailCheck != FALSE)
  {
    updateQuery by $emailCheck['id'])); // The email address is found so we update the data

  }else{

    Jojo::insertQuery; // The email address is not found so we insert the new row
  }
} 
```

**检查功能：**

```
function checkEmail($email)
{
     $email = $POST['Email'];

    if($email)
    {
        $candemail = selectRow("SELECT * FROM {table} WHERE email=?",$email);

        if(isset($candemail['email']))
        {
            return $candemail;
        } else {
            return FALSE;
        }
    }
} 
```

**全功能：**

```
 function candidateInsert($fields, $candiatefilename,$jobid)
    {
      $emailCheck = Jojo_Plugin_name_jobs_apply::checkCandidateEmail($email);

      if($emailCheck != FALSE)
      {
        //Jojo::updateQuery("UPDATE {db} SET first_name=?,last_name=?,home_phone=?,work_phone=?,mobile_phone=?,email=?,skype=?,contact_method=?,location=?,location_other=?,cv_path=? WHERE id=?", array($fields['FirstName'],$fields['LastName'],$fields['HomePhone'],$fields['WorkPhone'],$fields['MobilePhone'],$fields['Email'],$fields['Skype'],$fields['ContactMethod'],$fields['Location'],$fields['LocationOther'],$candiatefilename, $emailCheck['id']));
        //Jojo::insertQuery("INSERT INTO {refocus_candidate_job} SET candidateID=?,jobID=?,appliedDate=?", array($emailCheck['id'],$jobid,date("d/m/y")));
    }else{
        Jojo::insertQuery("INSERT INTO {db} SET first_name=?,last_name=?,home_phone=?,work_phone=?,mobile_phone=?,email=?,skype=?,contact_method=?,location=?,location_other=?,cv_path=?", array($fields['FirstName'],$fields['LastName'],$fields['HomePhone'],$fields['WorkPhone'],$fields['MobilePhone'],$fields['Email'],$fields['Skype'],$fields['ContactMethod'],$fields['Location'],$fields['LocationOther'],$candiatefilename));

        $id = Jojo::insertQuery;

        //Jojo::insertQuery("INSERT INTO {db_candidate_job} SET candidateID=?,jobID=?,appliedDate=?", array($id,$jobid,date("d/m/y")));

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:28:39.470

它在 Jojo 文档中说。如果要获取新插入行的 id，只需使用

```
function Insert()
{
  $emailCheck = $this->checkEmail($email);

  if($emailCheck != FALSE)
  {
    updateQuery by $emailCheck['id'])); // The email address is found so we update the data
    $id = $emailCheck['id'];
  }else{

    $id = Jojo::insertQuery; // The email address is not found so we insert the new row
  }
  //at this point $id holds the id of the row.
} 
```

然后，在 if/else 语句之后，您可以在第二个表上运行代码，知道您拥有行的 ID，无论哪种情况（INSERT/UPDATE）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T07:36:54.190

尝试在 else 语句中按以下顺序执行您的代码。

第一的

```
$id = Jojo::insertQuery("INSERT INTO {db} SET first_name=?,last_name=?,home_phone=?,work_phone=?,mobile_phone=?,email=?,skype=?,contact_method=?,location=?,location_other=?,cv_path=?", array($fields['FirstName'],$fields['LastName'],$fields['HomePhone'],$fields['WorkPhone'],$fields['MobilePhone'],$fields['Email'],$fields['Skype'],$fields['ContactMethod'],$fields['Location'],$fields['LocationOther'],$candiatefilename)); 
```

第二

```
Jojo::insertQuery("INSERT INTO {db_candidate_job} SET candidateID=?,jobID=?,appliedDate=?", array($id,$jobid,date("d/m/y"))); 
```

# cygwin - SIPP：错误打开终端：CYGWIN

> ID：12506372
> 
> 赞同：2
> 
> 时间：2012-09-20T05:09:36.213
> 
> 标签：cygwin, sip

我一直在尝试安装 sipp [on windows] 来测试我正在编写的点对点 SIP 应用程序。[我按照此处](http://sipp.sourceforge.net/doc/reference.html#Stable+release)给出的说明安装了 sipp 3.2 。我还安装了cygwin。即使从我安装的同一文件夹中，我也无法运行 sipp，它以 cygwin 错误终止。顺便说一下，只运行 sipp 会提供帮助文档，但运行任何提供的方案都会失败。有什么想法吗？

```
Run sipp with embedded server (uas) scenario:
 ./sipp -sn uas
On the same host, run sipp with embedded client (uac) scenario
 ./sipp -sn uac 127.0.0.1

C:\Program Files\Sipp_3.2>sipp -sn uas
Error opening terminal: cygwin.

C:\Program Files\Sipp_3.2>sipp -sn uac
Error opening terminal: cygwin. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:25:09.923

尝试删除（重命名） sipp 提供的 cygwin1.dll。请改用 cygwin 提供的 cygwin1.dll。这对我有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-02T21:44:16.670

要从 Windows cmd shell 运行生成的 sipp 可执行文件，您必须将
SIPPINSTDIR 环境变量设置为可执行文件的位置。没有它，你会得到“错误打开终端：cygwin”。错误。例如，SET SIPPINSTDIR=c:\Users\me\Downloads\sipp.svn。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-24T12:41:56.920

我对 Windows XP 和 Windows 7 的 sipp 3.2 版也有同样的问题。所以我尝试了 3.1 版，它在没有 cygwin 的情况下就像一个魅力。

您可以在 MyComputer->Properties->Advanced Settings->Environment Varaibles 中为 sipp 设置环境系统变量 'path'。将以下路径附加到环境变量“路径”

;C:\Program Files\Sipp_3.1 ==> 对于 Windows XP ;C:\Program Files (x86)\Sipp_3.1 对于 Windows 7

打开 Window Shell 并运行命令 'sipp -sn uas'

注意：安装wireshark 最新版本以获取我认为sipp 需要的winpcap 库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T14:33:41.267

听起来 SIPP 不知道如何处理 cygwin 类型的 TERM。尝试将 TERM 更改为 SIPP 可识别的内容，或尝试`termcap`从 Utils 安装软件包（通过 Cygwin 的 Setup.exe）。

# javascript - 如何单击使用硒在鼠标悬停时填充的窗口菜单

> ID：12506375
> 
> 赞同：0
> 
> 时间：2012-09-20T05:09:54.780
> 
> 标签：javascript, selenium, menu, webdriver

在运行时加载菜单的 JavaScript 函数。在鼠标悬停时，LoadMenu 函数加载菜单项，我需要在 MouseClick() 事件上与它关联的位置。

如何使用 Selenium webdriver 做到这一点？

```
function  LoadMenus(){

        window.menu_1234567 =  new Menu("root",150,20,"Arial, Helvetica, sans-serif",12,"#336699","#333333","#ffffff","#E2E6CD","left","middle",10,0,200,-5,7,true,false,true,0,true,true);
        menu_1234567.addMenuItem("Partner&nbsp;Management","location='/dash-1.0/partnerconfiguration/partnerAdministration.action'");
        menu_12345678_0.addMenuItem("User&nbsp;Management","location='/dash-1.0/systemadminconfiguration/userSysAdmin.action'");
        menu_1234567.addMenuItem("Audit&nbsp;Report","location='/dash-1.0/configuration/auditReport.action'");
        menu_1234567.addMenuItem("Change&nbsp;Password","location='/dash-1.0/changecurrentpassword.action'");
        menu_1234567.addMenuItem("Sign&nbsp;Out","location='/dash-1.0/logout.action'");
        menu_1234567.hideOnMouseOut=true;
        menu_1234567.writeMenus();
     };
    LoadMenus(); 
```

这是HTML代码：

```
 <div id="menuItem0" class="menuItem" style="position: absolute; left: 0px; top: 0px; font-family: Arial,Helvetica,sans-serif; font-size: 12px; height: 20px; background-color: rgb(255, 255, 255); visibility: inherit;">
<div id="menuItemText0" class="menuItemText" style="position:absolute;left:11px;top:3px;color:#336699;">Partner Management </div>
<div id="menuItemHilite0" class="menuItemHilite" style="position: absolute; left: 11px; top: 3px; color: rgb(51, 51, 51); visibility: hidden;">Partner Management </div>
</div> 
```

我通过 selenium webdriver 获得了元素“menuItemText2”，但在 element.click() 方法上没有任何反应。我已经尝试了下面提到的所有这些场景，但无法通过 selenium web 驱动程序正确单击菜单项。

```
// case 1 tried using mouseMove
Point p=element.getLocation();
System.out.println("x="+p.getX());
System.out.println("y="+p.getY());
Robot robot = new Robot();
robot.mouseMove(p.getX(),p.getY());

// case 2 tried using moveByOffset
Actions builder = new Actions(driver); 
builder.moveToElement(element).build().perform();
builder.moveByOffset(p.x, p.y).perform();

// case 3  tried using Action builder
Actions hover = builder.moveToElement(element, p.x, p.y);
hoverOverRegistrar.perform();
hover.perform();
hover.build();
hover.click();

//case 4 tried by executing javascript and search element by name
element=    driver.findElement(By.name("Sign Out "));
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("$('div#menuItemText2').mouseover();");
js.executeScript("$('div#menuItem3.menuItem').click();");

// case 5 tried by executing javascript and search element by id
element = driver.findElement(By.id("menuItem4"));
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("$('div#menuItem4.menuItem').hover();");
element.click(); 
```

请解释如何单击填充鼠标悬停和单击事件的此类菜单项与 Web 元素无关。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T12:04:02.453

我会修改你描述的案例5：

```
// case 5 tried by executing javascript and search element by id
element = driver.findElement(By.id("menuItem4"));
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("$('div#menuItem4.menuItem').hover();");
element.click(); 
```

通过以下方式；

```
 String cssSelector="[id='menuItem4']";

    public void jsClick(String css){

        JavascriptExecutor js = (JavascriptExecutor) driver;
            StringBuilder stringBuilder = new StringBuilder();
            stringBuilder.append("var x = $(\'"+css+"\');");
            stringBuilder.append("x.click();");
            js.executeScript(stringBuilder.toString());
    }
    jsClick(cssSelector); 
```

希望这对您有所帮助）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T07:08:11.497

你试过[`Action`](http://code.google.com/p/selenium/wiki/AdvancedUserInteractions)界面吗？

特别是“生成动作链”这一点应该可以帮助您

我这样做：

```
private void hoverAndClick(WebElement[] hoverer, WebElement element){

    Actions actions = new Actions(this.driver);

    for (WebElement we : hoverer) {
        Action hovering = actions.moveToElement(we).build();
        hovering.perform();
    }

    element.click();
} 
```

如果您只需要一个元素永远悬停，请删除数组和迭代或复制以下内容：

```
private void hoverAndClick(WebElement hover, WebElement element){

    Actions actions = new Actions(this.driver);

    Action hovering = actions.moveToElement(hover).build();
    hovering.perform();
    element.click();

} 
```

# c++ - 像素着色器 | Directx 9 | 使用像素着色器索引图像 | 如何使用 2 个纹理，第一个纹理作为图像，第二个作为索引图像

> ID：12506376
> 
> 赞同：0
> 
> 时间：2012-09-20T05:10:36.117
> 
> 标签：c++, directx, directx-9

对于我的项目，我使用的是 directx 9 C++。[我正在使用像素着色器，以便在索引图像（彩色图像）](http://en.wikipedia.org/wiki/Indexed_color)的方法中使用耦合纹理显示大图片。

为了节省纹理空间，我想使用查找表条目来存储图像的像素，以便在像素着色器阶段使用查找表值作为图像像素值。

我使用了 2 个纹理，第一个纹理是图像纹理，大小为 2048^2。pixesl 的品种是 128 pixesl，第二个纹理是 128*1 的 LUT（查找表）大小。

我使用第二个纹理作为[索引图像](http://en.wikipedia.org/wiki/Indexed_color)（查找表），

不知何故，我发现很难从第一个纹理（图像纹理）中采样值-> A[i,j] 并在同一点采样第二个纹理-> Pixel value = LUT[A[i,j] ]

然后，将像素值输出到屏幕。

这是我的像素着色器代码：

```
sampler2D layoutSample : register (s0)
sampler2D LUTSampler   : register (s1)

 struct PS_INPUT
 { 
       float2 texture : TEXCOORD0;
       float2 LUT_Texture: TEXCOORD1;
   } 
 struct PS_OUTPUT
   {
         float4 color : COLOR0; 
   }

   PS_OUTPUT ps_main ( in PS_INPUT input )
    {
           PS_OUTPUT out; 
            ///  Sample the first texture - the image texture 
           float4 color = tex2D(layoutSampler, input.Texture); 

           float2 locationInLUT = float2(color.a , 0.0) ; 
           // I WOULD LIKE TO USE: But it's seems like a sampler is neccery for tex2D command 
           ///float4 realColor = tex2D(locationInLUT , input.LUT_Texture); 

           float4 realColor = tex2D(LUTSamplerm , input.LUT_Texture); 

           Out.color = float4(realColor.r, realColor.b, realColor.g, 1.0);

           return Out;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T06:25:52.870

尝试

```
float4 realColor = tex2D(LUTSampler, locationInLUT); 
```

下次，使用[FXC 编译器](http://msdn.microsoft.com/en-us/library/windows/desktop/bb509710)并查看错误输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-21T06:14:56.550

代替

```
 float4 realColor = tex2D(LUTSamplerm , input.LUT_Texture); 
```

使用以下内容：

```
 float4 realColor = tex2D(LUTSampler, locationInLUT); 
```

# oauth - Google OAuth 登录：避免要求用户选择要使用的帐户

> ID：12506380
> 
> 赞同：6
> 
> 时间：2012-09-20T05:10:58.743
> 
> 标签：oauth, oauth-2.0

我依靠 Google OAuth 为我正在构建的网站授权用户。在我请求许可时，我已经知道他想使用哪个 Google 帐户（我使用 Google OAuth 作为二级身份验证）。但是，如果用户同时登录多个 Google 帐户，Google 会将用户重定向到 SelectSession 界面。

当用户被定向到[https://accounts.google.com/o/oauth2/auth?...](https://accounts.google.com/o/oauth2/auth?...)他在[https://www.google.com/a/SelectSession](https://www.google.com/a/SelectSession)结束。这是不必要的，因为我已经知道他想使用哪个会话。

有谁知道一种自动选择特定帐户的方法，以便用户无需在[https://www.google.com/a/SelectSession](https://www.google.com/a/SelectSession)手动选择会话？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-20T19:04:24.647

如果您已经知道用户的电子邮件地址，则可以添加查询参数 user_id= 作为提示。如果用户以该帐户登录，它将跳过帐户选择并直接进行审批。

它不保证用户将实际使用该帐户进行授权。这只是一个提示，他们仍有机会切换到不同的帐户。如果您需要确定他们选择了哪个帐户，您需要事后进行验证（例如调用 userinfo 端点。）

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-20T08:09:28.107

oAuth 的要点是该应用程序不知道登录/通过，因此您建议的内容不可用。如果您使用的是移动应用程序（您未指定），则凭据将存储在 cookie 中。

您可以删除 cookie 以供用户登录帐户，而不是选择新帐户，但为此您应该考虑从以前的帐户退出。

# ruby-on-rails - 安装 libapache2-mod-passenger 软件包后是否需要运行乘客安装 apache2 模块？

> ID：12506381
> 
> 赞同：2
> 
> 时间：2012-09-20T05:11:08.483
> 
> 标签：ruby-on-rails, ruby, debian, passenger

如果我通过以下方式安装乘客包：

```
 $ sudo apt-get install libapache2-mod-passenger 
```

我还需要运行吗：

```
 $ passenger-install-apache2-module 
```

??

我正在使用 Debian Squeeze Unstable、Ruby 1.9.3、Apache2 和 PostgreSQL 9.1。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:24:07.997

你不像 libapache2-mod-passenger 基本上是乘客安装 apache2 模块的打包结果。

# php - 单击html按钮时如何运行phpcode

> ID：12506387
> 
> 赞同：0
> 
> 时间：2012-09-20T05:11:25.933
> 
> 标签：php, html

我有一个注册表单和一个按钮，onclick 应该在提交表单之前将文件上传到服务器中。每当单击按钮上传文件时，我如何运行 PHPscript

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:18:27.993

这应该回答你的问题：

[使用 PHP 上传 Ajax 文件](http://www.openjs.com/articles/ajax/ajax_file_upload/)

HTML 代码：

```
<form id="file_upload_form" method="post" enctype="multipart/form-data" action="upload.php">
<input name="file" id="file" size="27" type="file" /><br />
<input type="submit" name="action" value="Upload" /><br />
<iframe id="upload_target" name="upload_target" src="" style="width:0;height:0;border:0px solid #fff;"></iframe>
</form> 
```

Javascript：

```
function init() {
    document.getElementById('file_upload_form').onsubmit=function() {
        document.getElementById('file_upload_form').target = 'upload_target'; //'upload_target' is the name of the iframe
    }
}
window.onload=init; 
```

PHP 代码（为简洁起见，`upload.php`排除了一些代码）：

```
<?php
...
if($_FILES['image']['name']) {
    list($file,$error) = upload('image','uploads/','jpeg,gif,png');
    if($error) print $error;
}
...
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:22:06.943

最好继续使用 Ajax，而不是试图为没有 Ajax 就不可能的事情挠头。因为您想发布部分功能然后实际提交。您可以开始学习[Basic Ajax](http://www.w3schools.com/ajax/default.asp)，也可以直接使用任何[Ajax 框架](http://api.jquery.com/jQuery.ajax/)。

[这里有一些](http://www.queness.com/post/11434/7-javascript-ajax-file-upload-plugins)已经构建的 Ajax 上传器，您可以检查它们并将它们与您的应用程序一起使用

# android - Retrieve requestcode from alarm broadcastReceiver

> ID：12506391
> 
> 赞同：8
> 
> 时间：2012-09-20T05:11:53.937
> 
> 标签：android, broadcastreceiver, alarmmanager

I am sending a request code through this to an alarm manager

```
 Intent broadcast_intent = new Intent(this, AlarmBroadcastReceiver.class);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, rowId,  broadcast_intent, PendingIntent.FLAG_UPDATE_CURRENT); 
```

I was wondering, that in the broadcastreceiver, how can I retreive the requestcode (rowId) that I used to setup pendingIntent?

Thanks

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-04-06T10:16:55.253

```
Intent broadcast_intent = new Intent(this, AlarmBroadcastReceiver.class);
PendingIntent pendingIntent = PendingIntent.getBroadcast(this, rowId,
                              broadcast_intent,PendingIntent.FLAG_UPDATE_CURRENT
                              ); 
```

Best would be to pass the extras while referring broadcast_intent within `getBroadcast() - broadcast_intent.putExtras("REQUESTCODE",rowId) ;` as follows :

```
PendingIntent pendingIntent = PendingIntent.getBroadcast(this, rowId,
                              broadcast_intent.putExtras("REQUESTCODE",rowId), 
                              PendingIntent.FLAG_UPDATE_CURRENT); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-04-04T16:44:58.650

The requestCode used when creating a pendingIntent is not intended to pass on to the receiver, it is intended as a way for the app creating the pendingIntent to be able to manage multiple pendingIntents.

Suppose an alarm app needed to create several pendingIntents, and later needs to cancel or modify one of them. The requestCode is used to identify which one to cancel/modify.

To pass data on, use the putExtra as described above. Note you might very well want to use RowId for both the requestCode and the Extra data.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-30T23:14:28.600

I was searching for the same thing. One way would be to pass requestcode as extra in your Intent.

```
intent.putExtra("requestcode", rowId); 
```

**However**, if the app is killed there is no way to retrieve the data passed by the Intent.

So you need to pass rowId as an URI , and use Intent Filter.

# path - 如何更改默认outlook文件存储路径

> ID：12506393
> 
> 赞同：0
> 
> 时间：2012-09-20T05:12:17.740
> 
> 标签：path, filepath, outlook-2007

如果我的前景，我需要更改我的默认存储路径。我在网上搜索，但我无法得到任何明确的想法。你能请任何人告诉程序。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-14T00:35:53.753

3种方式

1.  [微软支持](https://support.microsoft.com/en-us/kb/2752583) [微软支持](https://support.microsoft.com/en-us/kb/2752583)
2.  [女士博客技术网](http://blogs.technet.com/b/danstolts/archive/2012/11/07/how_2d00_to_2d00_change_2d00_default_2d00_data_2d00_file_2d00_ost_2d00_location_2d00_in_2d00_office_2d00_2013.aspx)
3.  [移动outlook文件夹](http://blogs.technet.com/b/danstolts/archive/2012/11/07/how_2d00_to_2d00_change_2d00_default_2d00_data_2d00_file_2d00_ost_2d00_location_2d00_in_2d00_office_2d00_2013.aspx)

```
   - 关闭 Outlook，将默认的 %userprofile%\appdata\local\microsoft\outlook 移动到所需文件夹
   - 使用 %userprofile%\appdata\local\microsoft 作为当前目录，
 mklink /d 展望
  就这些

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:21:16.873

此类问题应属于[superuser.com](http://superuser.com)，但是，您可以通过以下简单方法实现它：

1.  如果它正在运行，请退出 Outlook。
2.  将 ost/pst 数据文件从当前位置复制到新位置。
3.  启动outlook，进入文件->数据文件管理。
4.  删除除默认文件外的所有文件。
5.  从新位置添加所有文件。
6.  设置新的默认文件。
7.  退出前景。
8.  启动outlook，文件->数据文件管理。删除旧的默认文件。
9.  你走了。

您还可以使用控制面板的“邮件”小程序更轻松地实现这一点。

# android - 使用 ant 为库项目构建 Android 测试时，如何为 emma 使用过滤器？

> ID：12506396
> 
> 赞同：4
> 
> 时间：2012-09-20T05:12:36.150
> 
> 标签：android, ant, android-library, emma

从这个问题：

[使用 ant 构建 Android 测试时如何为 emma 使用过滤器？](https://stackoverflow.com/questions/7360972/how-can-i-use-filter-for-emma-when-building-android-test-with-ant)

我知道 emma 可以通过将以下行添加到目标项目的 ant.properties 中来使用过滤器，而不是测试项目，

```
emma.filter=-com.your.excluded.package.* 
```

但如果我的目标项目是库项目，它似乎无法正常工作。

我的工作区如下所示：

```
projectlib1         : lib project using lib2
projectlib1/tests   : unit tests for lib1
projectlib2         : lib project using lib3
projectlib2/tests   : unit tests for lib2
projectlib3         : stand alone lib 
```

当我为 lib1 运行覆盖时，我还得到了我不想要的 lib2 和 lib3 的覆盖文件。我应该在哪里添加 emma.filter？我试着把它放在每个项目的根目录下，但到目前为止还没有奏效。

欢迎任何建议！谢谢你

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T17:55:28.857

刚刚遇到同样的问题，我尝试了你提到的线程的解决方案，但我没有工作。我也尝试将它直接添加到 build.xml 文件中，也没有工作。

`-Demma.filter="-your.app.package"`虽然我设法通过在 ant 命令行上添加它来使其工作：

```
ant -Demma.filter="-your.app.package.to.exclude.*" emma debug install test 
```

# java - 加载处理程序列表 - 是否使用属性文件或反射

> ID：12506399
> 
> 赞同：1
> 
> 时间：2012-09-20T05:12:52.783
> 
> 标签：java, reflection, properties-file

在我的团队目前正在进行的项目中，我们有数十个用于特定事件的处理程序，它们实现了一个通用接口，并在它们侦听的事件发生时调用它们。

问题来了：我们是应该使用属性文件来配置我们当前拥有的处理程序还是使用反射来列出所有实现公共接口的类？

使用属性文件的优点：

*   更灵活，更容易禁用特定的处理程序。
*   在不同的环境中可能有不同的配置。

使用反射的优点：

*   更易于部署，无需维护用于添加/删除类的属性文件。
*   更防错，因为我们不需要处理属性文件中的纯文本并使用类加载器加载它们。

我目前在两者之间犹豫不决。是否存在普遍认为的“良好做法”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:25:14.597

我对房产的投票。

我能想到的主要原因是您可能在类路径中有不想使用（无论出于何种原因）或打开和关闭的处理程序

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T06:00:09.700

在这两个选项中，我会投票赞成使用属性文件。它可能涉及维护更多文件，但与隐式配置相比，显式配置总是更好。它还将使刚接触您的代码库的人更容易理解正在发生的事情。

我还建议您使用依赖注入（Spring 或 Guice）。Spring DI 满足您的要求。您可以显式配置使用哪些处理程序，并且您可以轻松地为生产、UAT 等设置不同的文件。我们有类似的模式，Spring 工作得很好。

# c - C 的高级抽象库？

> ID：12506400
> 
> 赞同：5
> 
> 时间：2012-09-20T05:12:55.750
> 
> 标签：c

是否有任何更高的 C 抽象库可以帮助非常轻松地完成基本工作，而无需真正担心内存/指针/等。

例如：Python 提供了比 C 更高的抽象。它可以连接字符串、数组等。简单地说，我们在 C 中有任何库来处理这项工作吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T06:05:15.763

用 C 编程只有几个目的。想到的主要目的是：

1.  您需要一种具有*存储持续时间*概念的语言，从而您可以编写有界空间或就地算法，这些算法使用已经获得的内存，因此绝对没有失败的情况。

2.  您想利用 C 惯用语的代码大小或性能优势，这些惯用语要么不是惯用的，要么不能用其他语言表达。同样，其中大多数最终都与就地处理数据有关，而不是通过中间数据结构移动数据或将其包装在抽象容器中。

如果你没有这样的需求，或者甚至不知道它们的含义，你可能会考虑你是否真的应该使用 C。将字符串连接、抽象容器类或惰性内存管理等低效习语从其他语言带到C 将否定使用 C 的大部分/所有可能的好处，同时为您提供很少或没有高级语言的好处。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-20T05:47:39.023

不担心指针是相当棘手的，因为最终必须*有人*清理混乱，当东西超出范围时，C 既没有垃圾收集器也没有析构器。

*   [Apache Portable Runtime (APR)](http://apr.apache.org/)通过使用[内存池](http://apr.apache.org/docs/apr/1.4/group__apr__pools.html)使某些形式的内存管理变得更容易。这样你就可以同时释放一堆对象。APR 提供了自己的一组基于池的[字符串例程](http://apr.apache.org/docs/apr/1.4/group__apr__strings.html)，但是这些字符串仍然被处理为`char*`，所以你不能真正避免这里的指针。您当然可以做 a`typedef char* string`并使用该名称。
*   您还可以获得[C 的垃圾收集器](http://www.hpl.hp.com/personal/Hans_Boehm/gc/)，它将更加关注内存管理。这个库本身只会提供一个垃圾收集器，没有别的。我知道没有使用它并提供字符串操作和类似功能的高级 C 库。

您可能想问自己一个重要问题：如果您打算使用其他语言（如 C++）已经提供的功能，*为什么要坚持使用 C？*也许您的要求也可以通过一些混合语言编程来满足，您可以在其中使用 C++ 编写应用程序的一部分并将现有代码保留在 C 中，或者使用 C 调用约定进行库调用。这样一来，您就可以编写高层次的新代码，并且在适当的地方仍然使用良好的旧 C。

没有人会因为您使用 C++ 而强迫您使用特定的编码风格。编写一个看起来很像 C 程序的程序并在需要的地方仍然使用 C++ 的特性和数据类型是完全可以的。您不必自己编写面向对象的东西，您可以坚持使用标准[命令式范例](http://en.wikipedia.org/wiki/Imperative_programming)中相互调用的简单函数。但是很高兴知道您*可以*在那些有助于使您的代码更易于编写、阅读和维护的情况下使用对象。

# c++ - 如何为模板类重载 << cout？

> ID：12506402
> 
> 赞同：2
> 
> 时间：2012-09-20T05:13:00.923
> 
> 标签：c++, linked-list, double, overloading, cout

前几天我们被教导如何让我们的程序重载 cout，但我不知道如何让它输出所有内容。

```
 template <NODETYPE>
 friend ostream &operator <<(ostream &, List<NODETYPE>& );

template<typename NODETYPE>
ostream &operator <<(ostream& output, List<NODETYPE>& value)
{ 
    output << value;
    return output;
} 
```

但是，我的程序至少要输出 5 个对象，其中两个是双精度对象。我收到一条错误消息，提示“double 不是模板常量参数的有效类型”

我的两个问题是：如何输出所有对象而不仅仅是第一个对象；以及如何让双倍输出。请和谢谢！

编辑：巨大的编辑:::

好的，我意识到我做错了什么，重新排列了我的标题和源文件。

然后我也意识到错过讲师的课是我犯过的最大错误之一。我的下一个错误是给你我所有的假设，而不是我假设的信息。

在我的作业中，它说： • 编写一个赋值运算符和一个友元函数来输出链表。

在我的主要功能（我不允许更改的功能）的几乎所有其他行中，都有一个 cout：

```
List<int> Li, Li2, Li3;
List<double> Ld, Ld2; 
```

这些是我的对象。我所有的 couts 看起来都是这样的：

```
 cout << "Ld is: " << Ld << endl; 
```

重新排列我的头文件和源文件后，我得到了这个错误：“'std::operator<<[with_Traits = std::char_traits] 中的'operator<<'不匹配（（（std :: basic_ostream>＆）（＆ std::cout)), ((const char*) 'Ld 是"))<

对于我拥有的每一个 cout 声明，我都会明白这一点。它比 Ld 退出状态为 1 或其他信息更多，所以我从这里开始。

我仍然不完全热衷于使用这个 ostream 重载功能，所以任何帮助表示赞赏，并非常感谢您抽出宝贵的时间！

编辑：： -

我已经把我几乎所有的代码都放在了这篇文章中：[collect2: Ld returned 1 exit status build make error](https://stackoverflow.com/questions/12509187/collect2-ld-returned-1-exit-status-build-make-error)

如果有人可以帮助我解决超载问题，那就太好了，因为我认为这是我剩下的唯一问题，所以我可以弄清楚其他所有问题。

谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:23:38.370

您需要对 执行某种迭代`List<NODETYPE>`，打印出每个节点。否则你有一个无限递归，操作员调用自己。

此示例在一行中打印出由单个空格分隔的元素。`List`因为不知道你的界面，所以我省略了迭代机制的细节。

```
template<typename NODETYPE>
ostream &operator <<(ostream& output, const List<NODETYPE>& value)
{ 
   for ( node in value) // pseudocode iteration
   {
     output << node << " ";
   }
   return output;
} 
```

这假设`ostream& operator<<`节点类型有一个，如果没有，您也必须提供它。另外，请注意我通过列表传递`const reference`。这有很多优点，其中之一是您可以传递临时对象。

关于`friend`声明，您也需要`template<typename T>`那里，但不清楚您首先需要操作员`friend`。列表通常在其公共界面中提供对其元素的访问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:37:51.723

1）`friend`声明是不必要的，除非`NODETYPE`您想用作模板参数是您自己定义的类，并且您正在定义的*想要*`operator<<`访问`NODETYPE`. 现在看来，`NODETYPE`is `double`，所以不需要`friend`声明。

如果您想将其他数据类型用作模板参数，并且这些其他数据类型是您自己的类，请*在*这些类中放置一个`friend`声明。（这可能是正确的类型，如下所述）。*`List`*

 *2）现在，你`operator<<`是递归的。您必须（如其他答案所建议的那样）以某种方式遍历`NODETYPE`您获得的对象列表：

```
for(List::const_iterator it = value.begin() ; it != value.end() ; ++it)
  output << *it; 
```

（以上假设，您的`List`数据类型实现`begin()`了`end()`和迭代器。您可能希望使用不同的方式来遍历 的元素`List`。为此，您实际上可能必须访问`List`数据类型的私有成员，在这种情况下，您必须声明类定义中的`operator<<`作为朋友模板（包括`typename`！）`List`。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:25:53.603

`List<T>`'s`operator<<`应该遍历`T`列表中每个类型的元素并调用每个元素`output << element;`。

然后，确保`T`您创建`List<T>`对象的每种类型也实现了一个`operator<<`，它以您希望的格式输出您想要的每个变量，例如`output << "(" << x << "," << y << ")"`. 内置类型已经执行此操作，因此例如`List<int>`不需要此步骤。*

# android - 从 KSoap 响应中获取字符串

> ID：12506403
> 
> 赞同：0
> 
> 时间：2012-09-20T05:13:09.417
> 
> 标签：android, xml, soap, ksoap

我的问题有点类似于[Get boolean from SoapObject (kSOAP2)](https://stackoverflow.com/questions/10544243/get-boolean-from-soapobject-ksoap2)，

所以，问题是我的肥皂反应是这样的

```
anyType{ResCode=100; TransID=123456; Signature=abc123def456; OutputParams=anyType{params=anyType{useruid=a-e23; status=1; fullname=john smith; }; }; } 
```

几乎与上面的链接格式相同，但使用那里提供的答案我仍然不断得到

```
java.lang.RuntimeException: illegal property: useruid 
```

我使用的代码是

```
//resp = resp.getProperty("OutputParams");
//resp = (SoapObject) resp.getProperty("params");
//str = resp.getPropertyAsString("useruid");
str = resp.getPropertyAsString("params"); 
```

所有这些都不起作用......有人有更多的想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:42:04.827

感谢您的帮助，当我没有尝试以下组合时，我发现了问题的原因是我的粗心大意

```
resp = (SoapObject) resp.getProperty("OutputParams");
resp = (SoapObject) resp.getProperty("params");
str = resp.getPropertyAsString("useruid"); 
```

# c++ - 在默认构造函数签名中返回对象与引用

> ID：12506407
> 
> 赞同：0
> 
> 时间：2012-09-20T05:13:28.617
> 
> 标签：c++, reference, constructor, default

本质上，有什么区别：

```
const Date& default_date()
{
    static Date dd(2001,Date::Jan,1);
    return dd;
} 
```

和

```
const Date default_date()
{
    static Date dd(2001,Date::Jan,1);
    return dd;
} 
```

函数签名真的很重要吗？我不认为 Date& 是像 *Date 这样的类型，所以我不确定这有什么不同。它是否只是防止在退货时制作副本？但是你不会返回 &dd 吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:16:11.487

第一个函数返回对静态对象的 const 引用，因此您可以这样做：

```
const Date& d = default_date(); // d is a reference to the original 
```

或者

```
Date d = default_date(); // d is a copy of the original, 
                         // provided there is a copy constructor 
```

第二个复制`static Date`对象，所以你只能得到一个副本

```
Date d = default_date(); // d is a copy of the original 
```

返回`&dd`将返回静态对象的地址，然后可以将其分配给指向`Date`. return 语句的语法与按引用返回或按值返回相同。语义取决于函数的返回类型。

请注意，在 C++ 中，诸如此类的函数`default_date`不称为构造函数。

# json - Entity Framework 5 复杂类型映射数据的不同表示

> ID：12506410
> 
> 赞同：1
> 
> 时间：2012-09-20T05:13:52.880
> 
> 标签：json, entity-framework, dynamic, complextype

如果我想表示数据的不同外观，例如，我想在数据库中存储一些东西作为字符串，但是，它是一种特殊类型的字符串，例如，假设它是一个 json 字符串。我的应用程序非常了解这种类型并且知道如何处理它（在这种情况下作为动态对象）。我将如何在我的应用程序中将其表示为动态对象，但将其作为字符串存储在数据库中，而无需在保存和检索时手动序列化和反序列化 json？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T08:07:33.800

您将不得不手动将您的类型序列化和反序列化为字符串，因为这是 EF 的要求。您想将某些内容另存为字符串 = 您必须具有填充字符串属性的持久类。EF 无法为您做到这一点。

# wordpress - WordPress多久检查一次更新？

> ID：12506412
> 
> 赞同：1
> 
> 时间：2012-09-20T05:14:12.117
> 
> 标签：wordpress, wordpress-theming

有人能告诉我如何检查 WordPress 检查更新的频率吗？

检查更新是否取决于用户交互？例如，如果我的网站流量为零，用户交互为零，WordPress 是否仍然能够检查更新？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T05:20:08.860

> 还有一个用于更新的专用页面，可以从仪表板菜单访问。当您想要批量更新多个插件而不是单独更新每个插件时，它会很有帮助。它还有一个“再次检查”按钮，用于检查新更新。默认情况下， **WordPress 每 12 小时进行一次检查**。
> 
> **12 小时的等待时间是在 wp-includes/update.php 文件第 147 行的 WordPress 核心中定义的，它是 $timeout 变量。**

[来源](http://wp.tutsplus.com/tutorials/plugins/a-guide-to-the-wordpress-http-api-automatic-plugin-updates/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-03-22T14:23:13.523

WordPress 有一个内置的 cron 事件，称为`wp_update_plugins`. 这运行`Twice Daily`（每 12 小时）。请注意，这并不意味着在午夜和中午。这取决于创建安装的时间和/或上次运行 cron 事件的时间。[来源](https://developer.wordpress.org/reference/functions/wp_update_plugins/)

由于此*插件更新检查*依赖于**WP-Cron**，因此它将依赖于用户流量来导致**WP-Cron**触发事件（因为它仅在页面加载时运行）。[来源](https://developer.wordpress.org/plugins/cron/)

正如@F0G 提到的，您可以通过以下方式手动检查插件和主题更新：

*   `Dashboard > Updates > Check Again`

# javascript - 从 Backbone 事件中保存 Parse 对象

> ID：12506421
> 
> 赞同：0
> 
> 时间：2012-09-20T05:14:56.463
> 
> 标签：javascript, backbone.js, parse-platform

我正在使用 Backbone.js 和[Parse](https://parse.com)进行持久性。我正在尝试在 Backbone 事件触发时保存解析对象，但它不起作用。这是我的代码（经过编辑以删除不必要的内容）：

```
Parse.initialize("abc123", "omgwtf");

var ListsView = Parse.View.extend({
    events: {
        "submit form": "newList"
    },
    newList: function() {       
        var GameScore = Parse.Object.extend("GameScore");
        var gameScore = new GameScore();

        gameScore.set("score", 2222);
        gameScore.set("playerName", "Mike Hunt");
        gameScore.set("cheatMode", true);

        gameScore.save(null, {
            success: function(gameScore) {
                alert("success");
            },
            error: function(gameScore, error) {
                alert("error: " + error.message);
            }
        });
    }

}); 
```

我的错误警报正在显示，但错误消息是一个空字符串。当我的保存代码与方法处于同一顶级范围时，Parse 对象保存得很好`Parse.initialize`。我正在学习 Javascript，所以任何关于为什么这段代码不起作用的背景都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T04:35:07.367

根据您的代码，很难查明错误，但这里有一些想法：

1.  **查看请求的响应：**在 Chrome 中`View->Developer->Developer Tools`，单击网络选项卡，然后尝试提交您的表单。你应该会看到一个新的请求条目出现（可能是红色的，因为你的失败了）。单击它并检查响应以查看是否收到有用的错误。
2.  在数据浏览器中检查您在`GameScore`表格上的设置：单击`More->Permissions`并确保您已`Create`设置为`Public`。

# prolog - Prolog 分解返回一个句点

> ID：12506429
> 
> 赞同：1
> 
> 时间：2012-09-20T05:15:28.463
> 
> 标签：prolog

我有一个分解表达式的谓词，当我跟踪它时，我得到了我不理解的结果。

我的谓词如下

```
 calc(R,Expr) :- Expr =..[Op,H,T]. 
```

所以当我有一个像 [1,1] 这样的表达式时，Op 实际上是一个句点。知道为什么吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T05:34:42.227

这是因为表单`[Head|Tail]`只是语法糖`'.'(Head, Tail)`（一切都是术语，列表也不例外）。通常，对于由 、 和 组成的列表`1`，您`2`必须编写`3``4`

```
'.'(1, '.'(2, '.'(3, '.'(4, [])))). 
```

如您所见，这不是很实用，而是我们使用快捷方式：

```
[1|[2|[3|[4|[]]]]] 
```

而这个快捷方式有一个快捷方式：

```
[1, 2, 3, 4] 
```

您可以根据需要混合它们：

```
[1, 2|[3, 4]] 
```

当您想指定一些元素然后让尾部自由时，这很方便：

```
[1, 2|A] 
```

顺便说一句，您可以使用以下方法自己查看`write_canonical/1`：

```
?- write_canonical([1, 2, 3, 4]).
'.'(1,'.'(2,'.'(3,'.'(4,[]))))
true. 
```

希望它有所帮助

# sql - 可怕的 Oracle 更新性能

> ID：12506430
> 
> 赞同：2
> 
> 时间：2012-09-20T05:15:36.020
> 
> 标签：sql, performance, oracle, sql-update

我正在使用这样的查询执行更新：

```
UPDATE (SELECT     h.m_id,
                   m.id
        FROM       h
        INNER JOIN m
        ON         h.foo = m.foo)
SET    m_id = id
WHERE  m_id IS NULL 
```

一些信息：

*   表`h`大约有 500 万行
*   表中的所有行`h`都有`NULL`值`m_id`
*   表`m`大约是 ~500,000 行
*   `m_id`on table是`h`指向表的索引外键`id``m`
*   `id`on table`m`是主键
*   有索引`m.foo`和`h.foo`

对于`EXPLAIN PLAN`这个查询，表示哈希连接和全表扫描，但我不是 DBA，所以我不能很好地解释它。

查询本身运行了几个小时并没有完成。我原以为它会在几分钟内完成。我还尝试了以下查询重写：

```
UPDATE h
SET    m_id = (SELECT id
               FROM   m
               WHERE  m.foo = h.foo)
WHERE  m_id IS NULL 
```

对于`EXPLAIN PLAN`这个提到的 ROWID 查找和索引使用，它也持续了几个小时没有完成。我也一直认为这样的查询会导致对外部查询谓词的每个结果都执行子查询，所以无论如何我预计这种重写的性能会很差。

*我的方法有什么问题，还是我的问题与索引、表空间或其他与查询无关的因素有关？*

**编辑：**

我也从像这样的简单计数查询中获得了糟糕的表现：

```
SELECT COUNT(*)
FROM   h
WHERE  m_id IS NULL 
```

这些查询需要大约 30 秒到有时大约 30 分钟（！）。

我注意到没有锁，但这些表的表空间现在处于 99.5% 的使用率（只有约 6MB 可用）。有人告诉我，只要使用索引，这无关紧要，但我不知道......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T07:48:17.330

几点：

*   Oracle 不**索引**值`NULL`（它将索引`NULL`作为全局非空元组的一部分的 a，但仅此而已）。

*   Oracle 选择 a 是`HASH JOIN`因为`h`和`m`. 这可能是性能方面的最佳选择。

*   第二个`UPDATE` *可能*让 Oracle 使用索引，但是 Oracle 通常很聪明地合并子查询。无论如何，这将是一个更糟糕的计划。

*   您的架构是否有最新的、合理的统计数据？Oracle*确实需要*体面的统计数据。

*   在您的执行计划中，哪个是`HASH JOIN`? 为了获得最佳性能，它应该是较小的表（`m`在您的情况下）。如果您没有良好的基数统计信息，Oracle 就会一团糟。您可以通过提示强制 Oracle 假设固定基数`cardinality`，这可能有助于 Oracle 获得更好的计划。

例如，在您的第一个查询中：

```
UPDATE (SELECT /*+ cardinality(h 5000000) cardinality(m 500000) */
               h.m_id, m.id 
        FROM h 
        INNER JOIN m 
        ON h.foo = m.foo) 
SET m_id = id 
WHERE m_id IS NULL 
```

*   在 Oracle 中，FULL SCAN 不仅读取表中的每条记录，而且基本上读取分配到最大使用量的所有*存储空间（Oracle 文档中的**高水位线*）。因此，如果您有很多已删除的行，您的表可能需要进行一些清理。我已经看到一个`SELECT COUNT(*)`空表消耗了 30 多秒，因为有问题的表有 2.5 亿条已删除的行。如果是这种情况，我建议您与 DBA 一起分析您的具体案例，以便他/她可以从已删除的行中回收空间并降低*高水位线*。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T05:37:59.210

据我记得， a`WHERE m_id IS NULL`执行全表扫描，因为 NULL 值不能被索引。

全表扫描意味着，引擎需要读取表中的每条记录来评估 WHERE 条件，并且不能使用索引。

您可以尝试将[虚拟列](http://decipherinfosys.wordpress.com/2008/01/23/virtual-columns-in-oracle-11g/)集添加为非空值 if `m_id IS NULL`，并索引此列，并在 WHERE 条件中使用此列。

然后，您还可以将 WHERE 条件从 UPDATE 语句移动到子选择，这可能会使语句更快。

由于 JOIN 很昂贵，因此重写`INNER JOIN m ON h.foo = m.foo`为

`WHERE h.foo IN (SELECT m.foo FROM m WHERE m.foo IS NOT NULL)`

也可能有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T08:48:29.443

对于大型表，MERGE 通常比 UPDATE 快得多。试试这个（未经测试）：

```
MERGE INTO h USING
(SELECT     h.h_id,
            m.id as new_m_id
        FROM       h
        INNER JOIN m
        ON         h.foo = m.foo
 WHERE h.m_id IS NULL       
) new_data
ON (h.h_id = new_data.h_id)
WHEN MATCHED THEN
  UPDATE SET h.m_id = new_data.new_m_id; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T06:57:16.467

尝试**未记录**的提示 /*+ BYPASS_UJVC */。如果可行，请在 m.foo 上添加一个 UNIQUE/PK 约束。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T05:27:29.150

我会在迭代中更新表，例如，根据添加一个条件，`where h.date_created > sysdate-30`在它完成后我会运行相同的查询并将条件更改为： `where h.date_created between sysdate-30 and sysdate-60`等。如果你没有一个列，比如`date_created`可能还有另一个列，你可以过滤经过 ？例如：`WHERE m.foo = h.foo AND m.foo between 1 and 10`

只有 的结果`plan`才能解释为什么这次更新的成本很高，但有根据的猜测是这两个表都非常大，并且有很多`NULL`值以及很多匹配 ( `m.foo = h.foo`)...

# javascript - 定义后可以添加到 javascript 对象吗？

> ID：12506436
> 
> 赞同：2
> 
> 时间：2012-09-20T05:16:25.797
> 
> 标签：javascript, jquery

我有以下 javascript 代码：

```
var oLink = {
        title:   $link.attr('title') || '',
        row:     $link.attr('data-row') || ''
    } 
```

**一旦已经定义了这些字段**，是否可以添加另一个字段以实现：

```
var oLink = {
        viewUrl: $link.attr('data-href') || '',
        title:   $link.attr('title') || '',
        row:     $link.attr('data-row') || ''
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T05:20:58.627

总是。

几乎没有任何时候这是行不通的。

```
var myObj = { x : 0, y : 1 };
myObj.z = 2;
myObj["A"] = { x : 0 }; 
```

现在你有：

```
{
    x : 0,
    y : 1,
    z : 2,
    A : { x : 0 }
} 
```

# java - JNDI 在 JMS 中使用 JBoss 查找错误

> ID：12506442
> 
> 赞同：1
> 
> 时间：2012-09-20T05:17:30.177
> 
> 标签：java, jakarta-ee, jboss, jms, jndi

我正在尝试使用 JMS 和 JBoss 为我的练习应用程序进行 JNDI 查找。但我无法弄清楚为什么它无法查找。`destination-service.xml`我为 JBoss添加了条目。但正如您在图片中看到的我的代码，它仍然给我一个错误。

是否有任何我遗漏的代码部分，或者我是否必须将一些 jar 文件添加到路径或其他一些问题，您在查看我的堆栈跟踪后是否看到了错误。

我的课 ![我的课](../Images/34cfcb7677966d8cccbf400b99c0b4d9.png)

目的地服务.xml ![目的地服务.xml](../Images/37d8bd4a977060926118abec5908ec15.png)

错误 ![错误](../Images/1f92c7ef2bbf6f2903bef87d5fc2113f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:20:38.607

看起来您根本无法连接到 JNDI 服务器。检查您在客户端代码中提供的 jndi 服务器的主机/端口

作为“自检”，我还将尝试连接到驻留在 JNDI 树中的任何其他对象，我认为异常将是相同的 :)

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:27:59.467

> 启动 jboss 时，使用“run.sh -b 0.0.0.0”。默认情况下，jboss 是安全的并且只绑定到 localhost。

也许[这](http://www.theserverside.com/discussions/thread.tss?thread_id=49698#255218)会对你有所帮助。

# sql - 组名与linq中的Groupby冲突

> ID：12506450
> 
> 赞同：-1
> 
> 时间：2012-09-20T05:18:58.900
> 
> 标签：sql, linq

当我想使用 linq 时，我有一个名为 group 的列在 linq 关键字和 syn-tacks 错误中给我这个错误

例如

```
var b=(from a in city.tbl_family where a.group==1 select a) 
```

给我错误`a.group==1`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:40:26.903

试着写：

```
var b=(from a in city.tbl_family where a.@group==1 select a) 
```

@ 符号允许您在 C# 中使用保留字作为变量名等。它允许您编写例如：

```
var @class = "My text"; 
```

如果没有 @ 符号，它将在哪里给出编译器错误。

# python - django/python 视图的工作并引入 API

> ID：12506453
> 
> 赞同：0
> 
> 时间：2012-09-20T05:19:27.067
> 
> 标签：python, django, api, django-views

我刚刚开始学习 python/django。我知道 PHP，但我想了解这个框架。我正在尝试使用 yelp 的 API。我试图弄清楚当有人将新文件引入项目时该怎么做。

他们`business.py`有这个：

```
import json
import oauth2
import optparse
import urllib
import urllib2

parser = optparse.OptionParser()
parser.add_option('-c', '--consumer_key', dest='consumer_key', help='OAuth consumer key (REQUIRED)')
parser.add_option('-s', '--consumer_secret', dest='consumer_secret', help='OAuth consumer secret (REQUIRED)')
parser.add_option('-t', '--token', dest='token', help='OAuth token (REQUIRED)')
parser.add_option('-e', '--token_secret', dest='token_secret', help='OAuth token secret (REQUIRED)')
parser.add_option('-a', '--host', dest='host', help='Host', default='api.yelp.com')
parser.add_option('-i', '--id', dest='id', help='Business')
parser.add_option('-u', '--cc', dest='cc', help='Country code')
parser.add_option('-n', '--lang', dest='lang', help='Language code')

options, args = parser.parse_args()

# Required options
if not options.consumer_key:
  parser.error('--consumer_key required')
if not options.consumer_secret:
  parser.error('--consumer_secret required')
if not options.token:
  parser.error('--token required')
if not options.token_secret:
  parser.error('--token_secret required')

if not options.id:
  parser.error('--id required')

url_params = {}
if options.cc:
  url_params['cc'] = options.cc
if options.lang:
  url_params['lang'] = options.lang

path = '/v2/business/%s' % (options.id,)

def request(host, path, url_params, consumer_key, consumer_secret, token, token_secret):
  """Returns response for API request."""
  # Unsigned URL
  encoded_params = ''
  if url_params:
    encoded_params = urllib.urlencode(url_params)
  url = 'http://%s%s?%s' % (host, path, encoded_params)
  print 'URL: %s' % (url,)

  # Sign the URL
  consumer = oauth2.Consumer(consumer_key, consumer_secret)
  oauth_request = oauth2.Request('GET', url, {})
  oauth_request.update({'oauth_nonce': oauth2.generate_nonce(),
                        'oauth_timestamp': oauth2.generate_timestamp(),
                        'oauth_token': token,
                        'oauth_consumer_key': consumer_key})

  token = oauth2.Token(token, token_secret)
  oauth_request.sign_request(oauth2.SignatureMethod_HMAC_SHA1(), consumer, token)
  signed_url = oauth_request.to_url()
  print 'Signed URL: %s\n' % (signed_url,)

  # Connect
  try:
    conn = urllib2.urlopen(signed_url, None)
    try:
      response = json.loads(conn.read())
    finally:
      conn.close()
  except urllib2.HTTPError, error:
    response = json.loads(error.read())

  return response

response = request(options.host, path, url_params, options.consumer_key, options.consumer_secret, options.token, options.token_secret)
print json.dumps(response, sort_keys=True, indent=2) 
```

它非常冗长，我为此道歉。但我担心的是我该怎么办？他们在这里设置了一个`def request()`，我假设我必须将它导入到我的视图中？

我一直在关注创建新应用程序的 django 文档。在文档中，他们在文件中设置了`def`一堆`views.py`。我只是对我应该如何在我的项目中进行这项工作感到困惑？如果我想在 URL 中搜索业务，它将如何发送数据？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:28:23.977

这是一个向 yelp api 发出 http 请求的命令行脚本。您可能不想在主请求处理程序的上下文中发出这样的外部请求。好吧，你可以调用一个请求处理程序来调用 yelp。让我们来看看 ...

您可以导入请求函数，而不是使用命令行选项调用它，而是自己调用它。

```
from yelp.business import request as yelp_req

def my_request_handler(request):
    json_from_yelp = yelp_req(...
    # do stuff and return a response 
```

不过，在请求处理程序中进行这种外部调用是相当不错的（也就是说，在请求处理程序中向外部服务发出 http 请求）。如果调用是 ajax，则 ux 可能没问题。

这个 business.py 只是一个示例，向您展示如何使用 oauth2 创建签名请求。您也许可以只导入请求功能并使用它。OTOH，您可能更喜欢自己编写（也许使用`requests`库）。您可能希望使用 celery 或其他一些异步方式在请求处理程序之外进行调用和/或缓存响应以避免每次请求都使用昂贵的外部 http io。

# javascript - 在 Google 阅读器中禁用特定的键盘快捷键 (V)

> ID：12506455
> 
> 赞同：0
> 
> 时间：2012-09-20T05:19:45.733
> 
> 标签：javascript, jquery, browser, greasemonkey, google-reader

我想禁用[Google Reader](http://www.google.com/reader/)中的“V”键盘快捷键，该快捷键在选择项目时，在新窗口中打开该项目。我会使用 JavaScript 来做到这一点，也许在[jQuery的帮助下，并在](http://jquery.com/)[Greasemonkey](http://www.greasespot.net/)中这样做。

So, when "V" is hit while an item is selected, I want nothing to happen. 浏览 Google Reader 使用的所有 JavaScript 时，我不知道从哪里开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T14:49:10.970

一些可能有帮助的来源：

*   [http://userscripts.org/scripts/show/48220](http://userscripts.org/scripts/show/48220)
*   [http://userscripts.org/scripts/show/25522](http://userscripts.org/scripts/show/25522)
*   [http://productforums.google.com/forum/#!topic/reader/Dr37m5-Vf1Y](http://productforums.google.com/forum/#!topic/reader/Dr37m5-Vf1Y)

# jquery - blueImp/jquery 文件上传 - 如果文件类型不被接受，我如何收到错误消息？

> ID：12506459
> 
> 赞同：28
> 
> 时间：2012-09-20T05:19:56.060
> 
> 标签：jquery, blueimp

我想使用 BlueImp/Jquery File Upload 来将一些图像上传到网络服务器。我有通过阅读许多来源生成的这个 JS 代码

```
 $('#file_upload').fileupload('option', {
        dataType: 'json',
        url: '/Upload/UploadFiles',
        maxFileSize: 5000000,
        acceptFileTypes: /(\.|\/)(gif|jpe?g|png)$/i,
        process: [
            {
                action: 'load',
                fileTypes: /^image\/(gif|jpeg|png)$/,
                maxFileSize: 20000000 // 20MB
            },
            {
                action: 'resize',
                maxWidth: 1440,
                maxHeight: 900
            },
            {
                action: 'save'
            }
        ],
        progressall: function (e, data) {
            $(this).find('.progressbar').progressbar({ value: parseInt(data.loaded / data.total * 100, 10) });
        },
        done: function (e, data) {
            $('#show_image').append('<img src="' + data.result[0].ThumbURL + '" />');
            $('#imgID').val($('#imgID').val() + data.result[0].Id + ',');
            $(this).find('.progressbar').progressbar({ value: 100 });
        },
        error: function (e, data) {
            var a = 1;
        }
    });
}); 
```

它之所以有效，是因为它不会上传任何不是图像的文件，但我希望能够获取错误消息（如果存在）以显示给用户。

在[他们的演示](http://blueimp.github.com/jQuery-File-Upload/)中，他们有一些代码（jquery.fileupload-ui.js 和 jquery.fileupload-fp.js）可以“神奇地”创建带有错误的 HTML（我仍在努力理解它）。

我真的不知道我是否也应该使用这些插件并以某种方式自定义生成的 HTML，或者手动获取信息并填充它是否更简单。

我对 JS 和 Jquery 很陌生，所以也许我遗漏了一些东西。

如何配置正在生成的 HTML 或如何获取错误消息？

谢谢，奥斯卡

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-11-16T11:44:12.907

我知道这是一个旧线程，但如果有人仍在寻找如何获取错误消息，这里有一种方法：

```
$('#fileupload').bind('fileuploadprocessfail', function (e, data) {
    alert(data.files[data.index].error);
}); 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-05-24T14:06:38.240

为此，您可以使用文件添加回调来验证文件，就像这样，使用“return false”来避免添加该文件；

```
 $('#yourfileuploader').fileupload({
                    add: function (e, data) {
                        var fileType = data.files[0].name.split('.').pop(), allowdtypes = 'jpeg,jpg,png,gif';
                        if (allowdtypes.indexOf(fileType) < 0) {
                            alert('Invalid file type, aborted');
                            return false;
                        }

                    }
                }); 
```

或者您可以像这样注册 fileuploadadded 回调，

```
$('#yourfileuploader').fileupload().bind('fileuploadadded', function (e, data) {
                    var fileType = data.files[0].name.split('.').pop(), allowdtypes = 'jpeg,jpg,png,gif';
                    if (allowdtypes.indexOf(fileType) < 0) {
                        alert('Invalid file type, aborted');
                        return false;
                    }
                }); 
```

您还可以使用以下方式访问 fileupload acceptFileTypes 选项；e.originalEvent.data.fileupload.options.acceptFileTypes

您可以在这里找到更多信息;

[https://github.com/blueimp/jQuery-File-Upload/wiki/Options](https://github.com/blueimp/jQuery-File-Upload/wiki/Options)

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2016-04-16T21:59:11.723

正如 user2999209 所提到的，正确的方法是使用`fileuploadprocessfail`回调。

要完成他的回答，如果您希望翻译错误消息，您应该传递以下（未记录的）选项：

```
$('#my-uploader').fileupload({
    // ... some options ...
    messages : {
      maxNumberOfFiles: 'AAA Maximum number of files exceeded',
      acceptFileTypes: 'AAA File type not allowed',
      maxFileSize: 'AAA File is too large',
      minFileSize: 'AAA File is too small'
      uploadedBytes : 'AAA Uploaded bytes exceed file size'
    },
    // ... some other options ...
  })
  .on("fileuploadprocessfail", function(e, data) {
    var file = data.files[data.index];
    alert(file.error);
  }); 
```

尝试上传文件类型错误的文件将导致显示消息“不允许使用 AAA 文件类型”。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-10-06T09:47:38.233

如果您使用的是 PHP 服务器，我有一个更简单的解决方案。如果您不是，我相信这也可能对您有所帮助。

您不需要在前端使用 acceptFileTypes 参数。只需使用以下参数初始化 PHP UploadHandler 类：

```
array(
    'accept_file_types' => '/\.(gif|jpe?g|png)$/i',
    'upload_url' => 'uploads/', // both of upload_url, upload_dir equals to the upload destination
    'upload_dir' => 'uploads/',
    'max_file_size' => 1024*1024*2 // in byte
) 
```

当您传递不需要的文件类型或文件大小时，ajax 返回将类似于

```
{name: "Dream Come True.mp3", size: 14949044, type: "audio/mp3", error: "File type not allowed"} 
```

或者

```
{name: "feng (3).jpg", size: 634031, type: "image/jpeg", error: "File is too big"} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-12-17T15:43:00.033

使用`processfail`回调

```
$('#fileupload').fileupload({
    maxFileSize: 5000000,
    done: function (e, data) {
        $.each(data.result.logo, function (index, file) {
            $('<p/>').text(file.name).appendTo('#fileupload-files');
        });
    },
    processfail: function (e, data) {
        alert(data.files[data.index].name + "\n" + data.files[data.index].error);
    }
}); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-11-20T14:48:49.510

**加载脚本的顺序对于**在默认验证过程中显示错误消息很重要，

**此订单对我有用：**

1.  tmpl.min.js
2.  jquery.ui.widget.js
3.  jquery.iframe-transport.js
4.  jquery.fileupload.js
5.  jquery.fileupload-ui.js
6.  jquery.fileupload-process.js
7.  jquery.fileupload-validate.js

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-02-09T23:14:33.017

验证文件类型（可能是“图像/jpeg”之类的格式）比扩展更好。在这种情况下，您可以避免区分大小写和类似意外问题的潜在问题

```
$('#yourfileuploader').fileupload().bind('fileuploadadded', function (e, data) {
                    var fileType = data.files[0].type;
                    if (type.indexOf('image') < 0) {
                        alert('Invalid file type, aborted');
                        return false;
                    }
                }); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-15T19:39:36.860

如果您不熟悉 javascript 错误处理的工作原理，最好阅读以下主题：[try/catch (MDN)](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/try...catch)

但是，错误实际上是fileupload原型中的一个方法，所以理论上这个函数会在错误发生时执行。

只需将 {your code} 添加到方法中的 errorHandler 即可。

```
...
error: function (e, data) {
        var a = 1; // <--in your example, this does nothing.
        alert(e); // <--or whatever you wish to do with the error
        return a; // <--did you want to return true?
    }
... 
```

如果此警报从未发生，则不会引发错误。以下代码通常是您捕获它们的方式。（它还没有这样做？）

```
try {

  ...any code you want to exception handle with...

  }
  catch (e) {      
    alert(e);
  } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-08-03T16:52:24.293

我在这些回答中发现的任何内容都没有对我有用，而且奇怪的是，为该插件编写演示的开发人员使用的样式与文档中描述的样式不同。无论如何，这是题外话。

我复制了他们用来让 UI 版本工作的代码，这最终对我有用。他们使用 .on 方法和 'processalways' 来检查错误，而不是使用 'error' 或 'fail' 方法。

查看源代码：http: [//blueimp.github.io/jQuery-File-Upload/basic-plus.html](http://blueimp.github.io/jQuery-File-Upload/basic-plus.html)

这是源代码。

干杯

# php - 根据 php 中的任务状态更新列表状态简化了代码

> ID：12506463
> 
> 赞同：0
> 
> 时间：2012-09-20T05:20:33.923
> 
> 标签：php, mysql

我有一个带有 taskstatus 的表任务和带有 liststatus 的表，我想根据任务状态更新 liststatus。如果所有用户的任务状态为 0 则更新列表状态为 0 ，如果所有用户的任务状态为 1 则更新列表状态为 1。下面的函数更新查询不起作用，请告诉我原因。

```
 public function setcompletedtask($taskid, $taskstatus)
    {
    $result = mysql_query("UPDATE task SET taskstatus = '$taskstatus' WHERE taskid = '$taskid'");
    $y = mysql_affected_rows();
    for($i=0;$i<$y ;$i++)
        {
        $result=mysql_fetch_array($result);
        $taskidupdate = $result['taskid'];
        $resultselect = mysql_query("SELECT * FROM task WHERE taskid = '$taskidupdate'");
        //$no_of_rows = mysql_num_rows($resultselect);
        //if ($no_of_rows > 0) {
        $resultselect = mysql_fetch_array($resultselect);
        $resultlistid = $resultselect['listid'];
        $resulttaskstatus = $resultselect['taskstatus'];
        $resultupdate = mysql_query("UPDATE list SET liststatus = '$resulttaskstatus' WHERE listid = '$resultlistid'");
        //$resultupdate = mysql_fetch_array($resultupdate);
        }
        if ($resultupdate){return true;} else {return false;}

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:26:09.950

你在做一个更新查询，你想怎么 mysql_fetch 呢！！！？

这是来自 php 网站的注释：http: [//php.net/manual/en/function.mysql-query.php](http://php.net/manual/en/function.mysql-query.php)

> 对于 SELECT、SHOW、DESCRIBE、EXPLAIN 和其他返回结果集的语句，mysql_query() 成功时返回资源，错误时返回 FALSE。
> 
> 对于其他类型的 SQL 语句，INSERT、UPDATE、DELETE、DROP 等，mysql_query() 在成功时返回 TRUE，在错误时返回 FALSE。

您应该首先选择所有符合您条件的记录，然后根据它们的主键字段更新它们......

# c# - 在不同机器上不同的vs2005构建的dll

> ID：12506470
> 
> 赞同：0
> 
> 时间：2012-09-20T05:21:12.480
> 
> 标签：c#, visual-studio, dll, msbuild

我正在构建一个由另一个应用程序调用的 dll（实现一些接口的 c# 程序集）。在我的机器上构建的 dll 可以工作，但在我们的构建机器上构建的 dll 不起作用。我对该应用程序的控制很少，无法调试它，我只能看到它的输出。有没有办法检查dll的差异？我使用过反射器，但它只显示有限的信息，如类和方法。我也试过在其他机器上用vs2005搭建，xps可以正确创建，server 2008和win7不行。你们能帮我吗？任何帮助，将不胜感激。如果我不清楚，请告诉我。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:19:54.310

由于您没有告诉我们“不起作用”的错误症状，因此我的猜测被表述为一个问题：

您的 dll 是否引用了安装在 global-assembly-cache 中的其他 dll？是否所有构建机器都安装了相同版本的 gac-dll？

# c# - 在 3 层架构中使用 DTO

> ID：12506472
> 
> 赞同：11
> 
> 时间：2012-09-20T05:21:20.080
> 
> 标签：c#, dto, 3-tier

我正在使用简单的 3 层架构。在此我使用 DTO 类在 UI、BL 和 DL 之间进行通信。那么有没有更好的层间通信方式呢？或者这是正确的方法？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-20T06:03:59.033

DTO，Data transfer Object，是分布层的概念，在消费者和服务之间传输数据时使用。因此，如果您不发布任何服务，请退出 DTO。

要回答您的问题，还取决于您的应用程序有多复杂。如果简单的话，只需使用 CRUD 操作，甚至可以使用`DataTable`,`DataSet`进行通信。

否则，来自 DDD 的域实体是层之间通信的核心对象：数据访问层、业务逻辑层和表示层。

基本上，应用程序中有一些不同类型的对象：

1.  DTO，当你公共服务时使用，主要对象是消费者和你的服务之间的通信。
2.  View Model，表示层中支持 UI 的对象。
3.  域实体是从业务逻辑层来包含业务逻辑的。

小心这个词：

1.  **Tier**：表示物理的，如数据库服务器、Web 服务器。
2.  **层**：表示逻辑层：Persentation Layer、业务逻辑层、数据访问层。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-20T05:25:27.233

阅读本[教程](http://msdn.microsoft.com/en-us/magazine/ee236638.aspx)内容非常丰富。它将帮助您确定 DTO 是否适合您的方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T05:42:46.203

除了@Talha 的回答，我推荐这篇[文章](http://msdn.microsoft.com/en-us/magazine/ee321569.aspx)。它是面向 EF 的，但那里描述的概念是常见的。

# assembly - 我已经编写了一个自定义引导加载程序，有没有一种简单的方法可以将其写入虚拟盒分区？

> ID：12506473
> 
> 赞同：1
> 
> 时间：2012-09-20T05:21:25.350
> 
> 标签：assembly, bootloader

我有一个组装良好的引导加载程序。现在我想测试它。我的希望是创建一个新的虚拟盒分区，并以某种方式将这个引导加载程序直接写入它。有没有办法轻松完成这项工作？

我见过的大多数指南都利用了可引导的 USB 驱动器。我想直接写入分区。

实际上，我认为基本上通过 HEX 编辑器将我组装的引导加载程序代码的 512 字节复制粘贴到 Virtual Box 用作硬盘的 VDI 文件（在正确的偏移量处）中会很酷。那是假设这会起作用，这是可能的。我注意到在偏移量 0x27c 之后 VDI“分区”被归零。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T12:34:27.987

当我尝试这样做时，我无法找到有关此的文档，但通过使用十六进制编辑器，我发现 MBR 从偏移量 0x2000 开始。请记住，这通常包含分区表，因此您的引导加载程序只能占用前 440 个字节，而不是整个 512 个字节。

# excel - 如何使用 Excel 公式从序列日期中以数学方式提取毫秒、秒和分钟？

> ID：12506478
> 
> 赞同：1
> 
> 时间：2012-09-20T05:21:50.510
> 
> 标签：excel, datetime, excel-2007

`SECOND()`在不使用（我相信）舍入或单元格格式的函数的情况下，如何计算 Excel 序列日期/时间中的秒数，如下例中的链接？我怎样才能将它延长几分钟？

![](../Images/ed24d3d47ed87c0563180a8c9738986e.png)

下面底部示例的序列值（图像中的最后一行）是：

```
 Right: 41165.4444365394
     Left: 41165.4444321412 
```

上面的示例使用以下两个公式进行条件格式化（如果打开*true，则停止，并显示**优先顺序*）。

在我看来，*第二个*函数看不到 和 之间的区别`10:39:58`，因此与*“仅显示秒”*分辨率`10:39:59`不匹配，并且鉴于我对毫秒的计算工作正常，正在继续*“显示毫秒分辨率” 。*

 **```
 To see if the seconds are different, first: =SECOND($B2)<>SECOND($C2)
    To see if only milliseconds have passed between the two times:
    =ROUND(($B2*86400-INT($B2*86400))*1000,0)<>ROUND(($C2*86400-INT($C2*86400))*1000,0) 
```

我应该将序列号与什么相乘以提供未舍入的秒数和分钟数（分别）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T16:30:10.543

尝试使用 FLOOR 函数来区分，即

`=FLOOR($B2,"0:00:01")<>FLOOR($C2,"0:00:01")`

这也将区分秒数相同但分钟数不同的时间。

编辑：这将做同样的事情

`=INT($B2*86400)<>INT($C2*86400)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T14:19:43.860

你快到了，试试这个：

```
B2 = 41165.4444365394
C2 = 41165.4444321412

=(VALUE(TEXT(B2,"ss.000"))-ROUND(MOD(B2*86400,INT(B2*86400)),3))<>(VALUE(TEXT(C2,"ss.000"))-ROUND(MOD(C2*86400,INT(C2*86400)),3)

VALUE(TEXT(B2,"ss.000")) -> gives you 59,317

VALUE(TEXT(C2,"ss.000")) -> gives you 58,937

MOD(B2*86400,INT(B2*86400)) 
-> is more appropriate here than substracting, but basically the same thing 
```

**编辑：** *仅使用数学*

我对此不是 100% 确定的，但时间值不像毫秒那样直接，这就是为什么：

excel 将像 1.00001 这样的值解释为一月 1\. 1900 00:00:01。

之前的部分`.`是日期，之后的部分是时间。

不幸的是，时间介于 0.00000 和 0.99999 之间，但您的平均一天只有 86400 秒 - 所以 0.0000115740740740741 是它们之间的因素。

通过将 0.00038 除以该因子或将其与 86400 相乘，您得到 32.832 - 与 excel 一样，四舍五入为 33 秒。您可以使用它来获取给定时间内的秒数。

*编辑：*

这是我现在的最终解决方案

```
=INT(MOD(B2,INT(B2))/0.0000115740740740741)) 
```

这会将您的任何时间转换为几秒钟，以便您可以在没有文本格式的情况下通过它们进行比较 - 如下所示：

```
 =INT(MOD(B2,INT(B2))/0.0000115740740740741))<>INT(MOD(C2,INT(C2))/0,0000115740740740741)) 
```

你不必担心 ms，他们会被`INT`.

哦，这是我的消息来源，它给了我正确的线索：

[http://support.microsoft.com/kb/214094/EN-US](http://support.microsoft.com/kb/214094/EN-US)

*编辑*感谢 barry houdini，我将添加一些附加信息：

```
=INT(MOD(B2,INT(B2))/0.0000115740740740741)
=INT(MOD(B2,INT(B2))*86400)
=INT(MOD(B2,1)*86400)
-> 38399 seconds of the day, without ms
-> shows only time differences regardless of date
=MOD(B2,1)*86400
-> 38399.317 seconds of the day, with ms
=INT(B2*86400)
-> 3556697399 seconds since 1.1.1900
-> shows time & date differences

=INT(MOD(B2*24*60*60,60)) (=INT(MOD(B2*86400,60)))
-> 59 seconds, regardless of time & date, only the current seconds part
=INT(MOD(B2*24*60,60))
-> 39 minutes
=INT(MOD(B2*24,60))
-> 10 hours 
```**

# playframework - 为什么 PlayOrm 中有两个入口点？

> ID：12506479
> 
> 赞同：0
> 
> 时间：2012-09-20T05:21:50.400
> 
> 标签：playframework, nosql, playorm

在 PlayOrm 中，为什么应用程序有两个入口点？测试用例中的初始化不会通过 NoSql 的 initialize() 方法发生，而我们在 Bootstrap 中再次复制了相同的逻辑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T12:01:07.757

好问题。如果您将 playframework 与 playOrm 一起使用，您应该使用的单一入口点是 NoSql.em()。这仅适用于 playframework，尽管我想知道是否可以在任何 webframework 中使用它。只要框架支持 PlayCallback 并且他们可以从某个 threadLocal 中获取请求，任何 Web 框架都应该支持 NoSql.java。

另一个接口几乎相当于hibernate。Bootstrap == Persistence.java 差不多，所以测试用例当然使用 Bootstrap 来获取 EntityManagerFactory。NoSql.java 也使用 Bootstrap.java 来获取 EntityManagerFactory。

后来，迪恩

# android - 如何在monkeyrunner代码中运行外部程序？

> ID：12506486
> 
> 赞同：1
> 
> 时间：2012-09-20T05:22:20.430
> 
> 标签：android, centos, jython, monkeyrunner

我有一个运行良好的monkeyrunner 代码（文件扩展名为.py）。我正在使用 CentOS。现在，我需要运行一个外部程序，并且需要将该代码插入到 monkeyrunner 代码中。我该怎么做？我需要导入什么，命令是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T07:46:40.230

```
import subprocess
# Your code ...  

# Call the external program/ script:
subprocess.call('your script', shell = True) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:26:08.220

您应该使用[subprocess](http://docs.python.org/library/subprocess.html)模块。

# java - 如何将两个 android 设备与中央服务器连接？

> ID：12506487
> 
> 赞同：1
> 
> 时间：2012-09-20T05:22:26.253
> 
> 标签：java, android, sockets, webserver

我想知道中央服务器如何连接两个设备。我假设当设备应用程序启动时，它应该向服务器注册其 IP 地址和其他相关信息（用户名）。当它想要连接到另一台设备时，它应该寻找服务器上另一台设备的地址，可能带有一个 get 请求。然后设置一个连接到一个套接字。如果设备应用程序关闭，它应该从服务器注销。这个对吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T16:26:04.887

这是非常正确的。

因为一个或两个设备可能在防火墙后面（包括 NAT），你必须假设它们实际上不能直接相互连接，所以一旦你打开另一个设备的套接字就不会那么简单了找出它的注册地址。您要么必须尝试防火墙穿越技术（通常使用 UDP 会成功，但使用 TCP 不会），或者有一个不在防火墙后面的助手（可能与注册服务器或其他东西相同）携带所有希望通信的设备之间的数据。

此外，您将希望注册服务器超时注册并且客户端定期刷新它们，因为当客户端终止或失去对网络的访问时，它们并不总是有机会在服务器上注销自己。

# php - 通过 html 表单和 php 脚本需要 SQL 数据库帮助

> ID：12506488
> 
> 赞同：0
> 
> 时间：2012-09-20T05:22:30.267
> 
> 标签：php, mysql, sql, html, phpmyadmin

```
<?php

include ("account.php") ;

( $dbh = mysql_connect ( $hostname, $username, $password ) )
        or    die ( "Unable to connect to MySQL database" );
print "Connected to MySQL<br>";

mysql_select_db($project);

$number =   NULL ;
$username   =   $_POST["username"];
$priority   =   $_POST["priority"];
$category = $_POST["category"];
$incident_description = $_POST["incident_description"];

$sql  =   "insert into incident values ( NULL,       '$username','$priority','$category','$incident_description',curdate(),curtime() )" ;

mysql_query ( $sql )    or   print ( mysql_error ( ) );

$credentials = "select * from Credentials where ("username" = '$username' ,"password" =  '$password' , "email_address" = 'email_address')" ;

print $credentials;

$result = mysql_query ($credentials) or print (mysql_error ( ) );

$howManyRows = mysql_num_rows ( $result);

//if $howManyRows is positive continue process to update database with sql,if not,die.
?> 
```

另一个文件上的表单有一个 html 代码，因此是 $_POST，但我认为没有必要在这里显示它，因为我需要在这个 php 文件上使用正确的语法。

对于如何将 html 表单中的值与数据库中的表中的值进行比较的部分，`$credentials`我需要帮助？我需要这样做以授权这些值进行该过程。我得到的语法目前不正确，因为它没有正确执行。我只是不知道如何比较两者。整个过程一直有效。`(username,password,email_address)``"Credentials"``mysql_query ( $sql ) or print ( mysql_error ( ) )`

建议会很好。我为这个长问题道歉！

PS：Credentials 表的列`username,password,email_address`也是如此！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:31:07.883

我不知道，但你不应该使用以下...

```
$sql = "INSERT INTO incident (fieldname, fieldname) VALUES ('".mysql_real_escape($_POST['fieldname'])."', '".mysql_real_escape($_POST['fieldname'])."')"; 
```

向mysql中插入任何东西？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:35:25.733

尝试

> $password = mysql_real_escape($_POST['password']); //避免 SQL 指令
> $username = mysql_real_escape($_POST['username']);
> 
> $credentials = "select * from Credentials where `username`= '$username' AND `password`= '$password' AND `email_address`= 'email_address'" ;

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:26:43.400

问题就在这里

```
$credentials = "select * from Credentials where ("username" = '$username' ,"password" =  '$password' , "email_address" = 'email_address')" ; 
```

改成

```
$credentials = "select * from Credentials where `username` = '$username' and `password` =  '$password' and  `email_address` = 'email_address'" ; 
```

问题出在查询中，当您要检查使用`AND`in`WHERE`子句的多个值时。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T05:45:16.793

您可以使用您的凭据查询，如下所示

```
$credentials = "select * from Credentials where username = '$username' AND password = '$password' AND email_address = 'email_address'" ; 
```

但是为了获得更好的性能并防止您的代码进行 mysql 注入，您必须执行以下操作

1) 使用 mysqli 代替 mysql 函数。这是 mysqli 作为包装器的好库 [https://github.com/nWidart/PHP-MySQLi-Database-Class](https://github.com/nWidart/PHP-MySQLi-Database-Class)

2）始终将您的数据库连接字符串保存在单独的文件和安全的地方。然后，将您的连接文件包含到您的要求项目文件中。

3) 在直接用于查询之前，请始终验证变量的值并使用 mysql_real_escape。

# linux - 合并 sed 命令

> ID：12506500
> 
> 赞同：1
> 
> 时间：2012-09-20T05:24:11.257
> 
> 标签：linux, shell, unix, sed, ksh

我有一个名为 $string 的字符串

```
string='-d $DESTDIR/ERRORS/$BASEDIR ]] || $MKDIR -p     word1 word22   word3.5' 
```

目前，我通过 sed 管道传输了两次。一次拉出特殊字符，然后再次将空格/制表符更改为单个空格。

```
echo $string | sed 's/[^a-zA-Z0-9]/ /g' | sed 's/\s\s*/ /g'
output='d DESTDIR ERRORS BASEDIR MKDIR p word1 word22 word3 5' 
```

虽然这可行，但我希望获得一些效率。有人可以帮我把它整合到一个 sed 命令中吗？

编辑我应该注意到这需要与 HP/SOL/LIN 的 POSIX 兼容

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:37:22.350

使用`tr`：

```
echo $string | tr -Cs a-zA-Z0-9 ' ' 
```

`tr`是一个非常强大（且快速）的工具，用于翻译、删除和压缩字符。

这个特殊的命令将`C`第一个集合 ( `a-zA-Z0-9`) 中的每个字符转换为第二个集合中的字符；由于第二组只包含一个空格，这会将所有非字母数字字符（包括制表符）转换为空格。然后`s`它将第二个字符集中的所有字符序列压缩为单个字符；这用单个空格替换了空格。

例子：

```
$ string='-d $DESTDIR/ERRORS/$BASEDIR ]] || $MKDIR -p     word1 word22   word3.5'
$ output=$(echo $string | tr -Cs 'a-zA-Z0-9' ' ')
$ echo $output
d DESTDIR ERRORS BASEDIR MKDIR p word1 word22 word3 5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:31:45.707

尝试这个：

```
echo $string | sed -r 's/[^[:alnum:]]/ /g;s/ +/ /g' 
```

大师。

# google-app-engine - 列出 Google Drive 中公用文件夹的文件

> ID：12506501
> 
> 赞同：3
> 
> 时间：2012-09-20T05:24:12.863
> 
> 标签：google-app-engine, google-drive-api

我的应用程序想要在没有任何身份验证的情况下列出 Google Drive 中公共文件夹的文件。

如何通过 Java Google Drive 库做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:32:35.213

用户仍然[需要经过身份验证](https://developers.google.com/drive/about-auth)（= 登录）才能访问公用文件夹。

# ios - 从 MPMoviePlayerController 获取电影数据

> ID：12506503
> 
> 赞同：2
> 
> 时间：2012-09-20T05:24:29.050
> 
> 标签：ios, mpmovieplayercontroller

我用来`MPMoviePlayerController`从 Web URL 加载和播放电影。我还想在加载完成后保存这部电影。但是，`MPMoviePlayerController`没有用于访问下载数据的属性。

如果我预加载它，我可以在将数据传递给播放器之前获取数据，但这需要我先下载它。渐进式游戏显然更好。

如何获取下载的电影数据？

# blackberry - 创建一个显示广告的黑莓应用程序

> ID：12506504
> 
> 赞同：0
> 
> 时间：2012-09-20T05:24:35.140
> 
> 标签：blackberry

我创建了一个显示广告的简单应用程序。我用[了这篇文章](http://docs.blackberry.com/en/developers/deliverables/40306/Creating_a_BB_app_that_displays_an_ad_1176551_11.jsp)。我按照所有步骤操作，但`NoClassDefFound`在 BlackBerry 9900 模拟器上出现错误。

**更新**：我使用 preverify.exe 检查 jar 文件是否与 net_rim_api.jar 兼容：preverify -classpath "D:\Eclipse\plugins\net.rim.ejde.componentpack7.1.0_7.1.0.10\com ponents\lib \net_rim_api" "net_rim_bbapi_adv_app.jar" "D:\Eclipse\plugins\net.rim.ejde.componentpack7.1.0_7.1.0.10\components\bin\output"
我是这样的，我该怎么办？

```
Error preverifying class net.rimlib.blackberry.api.advertising.app.a
    java/lang/NoClassDefFoundError: java/lang/Thread 
```

下面是我的代码：

```
 import net.rim.device.api.ui.UiApplication;
        import net.rim.device.api.ui.container.MainScreen;
        import net.rimlib.blackberry.api.advertising.app.Banner;

        public class AdDemo extends UiApplication{
           public static void main(String[] args)
           {
              AdDemo theApp = new AdDemo();
              theApp.enterEventDispatcher();
           }

           public AdDemo()
           {
              pushScreen(new AdDemoScreen());
           }

        }

        class AdDemoScreen extends MainScreen{

           public AdDemoScreen()
           {
               Banner bannerAd = new Banner(16741, null);
               bannerAd.setMMASize(Banner.MMA_SIZE_EXTRA_LARGE);            
               add(bannerAd);
           }

        } 
```

我该如何克服这个问题？

谢谢你。

# php - 检查 youtube 链接或图像的字符串

> ID：12506505
> 
> 赞同：3
> 
> 时间：2012-09-20T05:25:09.930
> 
> 标签：php

我有一小段代码检查字符串中的 url 并添加 <a href> 标记以创建链接。我还让它检查 youtube 链接的字符串，然后将 rel="youtube" 添加到 < a> 标记。

如何获取仅将 rel 添加到 youtube 链接的代码？

如何让它为任何类型的图像链接添加不同的 rel？

```
$text = "http://site.com a site www.anothersite.com/ http://www.youtube.com/watch?v=UyxqmghxS6M here is another site";

$linkstring = preg_replace( '/(http|ftp)+(s)?:(\/\/)((\w|\.)+)(\/)?(\S+)?/i', '<a href="\0">\4</a>', $text ); 
if(preg_match('/http:\/\/www\.youtube\.com\/watch\?v=[^&]+/', $linkstring, $vresult)) {
    $linkstring = preg_replace( '/(http|ftp)+(s)?:(\/\/)((\w|\.)+)(\/)?(\S+)?/i', '<a rel="youtube" href="\0">\4</a>', $text ); 
          $type= 'youtube';
          }
else {
$type = 'none';
}
echo $text;
echo $linkstring, "<br />";
echo $type, "<br />"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:34:41.853

试试[http://simplehtmldom.sourceforge.net/](http://simplehtmldom.sourceforge.net/)。

**代码**：

```
<?php
include('simple_html_dom.php');

$html = str_get_html('<a href="http://www.youtube.com/watch?v=UyxqmghxS6M">Link</a>');
$html->find('a', 0)->rel = 'youtube';
echo $html; 
```

**输出**：

```
[username@localhost dom]$ php dom.php
<a href="http://www.youtube.com/watch?v=UyxqmghxS6M" rel="youtube">Link</a> 
```

您可以使用此库构建整个页面 DOM 或简单的单个链接。

检测 URL 的主机名：将 url 传递给 parse_url。parse_url 返回 URL 部分的数组。

**代码**：

```
print_r(parse_url('http://www.youtube.com/watch?v=UyxqmghxS6M')); 
```

**输出**：

```
Array
(
    [scheme] => http
    [host] => www.youtube.com
    [path] => /watch
    [query] => v=UyxqmghxS6M
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:53:40.520

尝试以下操作：

```
//text
$text = "http://site.com/bounty.png a site www.anothersite.com/ http://www.youtube.com/watch?v=UyxqmghxS6M&featured=true here is another site";

//Youtube links
$pattern = "/(http:\/\/){0,1}(www\.){0,1}youtube\.com\/watch\?v=([a-z0-9\-_\|]{11})[^\s]*/i";
$replacement = '<a rel="youtube" href="http://www.youtube.com/watch?v=\3">\0</a>';
$text = preg_replace($pattern, $replacement, $text);

//image links
$pattern = "/(http:\/\/){0,1}(www\.){0,1}[^\/]+\/[^\s]+\.(png|jpg|jpeg|bmp|gif)[^\s]*/i";
$replacement = '<a rel="image" href="\0">\0</a>';
$text = preg_replace($pattern, $replacement, $text); 
```

请注意，后者只能检测到具有扩展名的图像的链接。因此，不会检测到像 www.example.com?image=3 这样的链接。

# java - 使用netty进行异步进程I/O？

> ID：12506509
> 
> 赞同：1
> 
> 时间：2012-09-20T05:25:44.517
> 
> 标签：java, asynchronous, ipc, netty

我想分叉一个子进程，将来自 Channel 的传入数据提供给它，并将结果流回客户端。到目前为止，我提供的最佳解决方案是将[OrderedMemoryAwareThreadPoolExecutor](http://docs.jboss.org/netty/3.1/api/org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html%20%22OrderedMemoryAwareThreadPoolExecutor)放在我的上游处理程序前面，该处理程序分叉另一个线程以读取进程的输出并将其写回通道。有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T09:03:04.177

您可以创建自己的线程池以在作业处理程序中提交新线程。OrderedMemoryAwareThreadPoolExecutor 是标准执行器服务的包装器。它的优点是可以计算内存成本。通过使用自己的线程池，您可以更好地控制自己的逻辑。如 netty 教程中所述，您需要 fork 一个新线程来处理作业。I/O 绑定到一个套接字，该套接字隐藏在 netty 通道中。您需要将通道或通道上下文传递到该新线程中。套接字始终存在，并且通过在新线程中读取/写入套接字来执行异步 IO。

# java - 我可以拥有具有不同类型数据的单个字符串吗？

> ID：12506512
> 
> 赞同：-2
> 
> 时间：2012-09-20T05:26:04.663
> 
> 标签：java, android

我有 2 种类型的数据，例如：- 我需要一个包含女孩和男孩名字的学生数组，并且我需要分别检索女孩和男孩的名字。

我可以用任何描述符在java中做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:37:16.127

你可以这样做：

```
Map<String, List<Student>> students = new HashMap<String, List<Student>>();
List<Student> boysList = new ArrayList<Student>();
...
List<Student> girlsList = new ArrayList<Student>();
...
students.put("girls", girlsList);
students.put("boys", boysList); 
```

照原样，您不能只是在字符串中抛出随机名称并期望语言*知道*哪个是哪个。但是，如果您要使用两个列表的字符串表示形式，则可以使用类似上面的方法，然后使用[XStream](http://xstream.codehaus.org/)之类的方法从给定的数据结构中生成 XML。

编辑：

要检索男孩的详细信息，您可以执行以下操作：

```
for(Student boy : students.get("boys"))
{
    System.out.println(boy.getName());
} 
```

对于女孩：

```
for(Student girl: students.get("girls"))
{
    System.out.println(boy.getName());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:38:21.447

以下是方法

1.  为学生创建班级。
2.  创建学生列表或单独列表

    ```
    class Student {
    private String name;
    private Gender gender;

    public Student(String name, Gender gender) {

        this.setName(name);
        this.setGender(gender);
    }

    public Gender getGender() {
        return gender;
    }

    public void setGender(Gender gender) {
        this.gender = gender;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    List<Student> students = new ArrayList<Student>();

    // Provide method like get student etc. It is not efficient to put both
    // in one list you can use separate list as well or a Hashmap
     }
    public enum Gender {
        BOY, GIRL
    } 
    ```

# django - 如何在 Openshift 上使用 pip 安装 3part django 应用程序

> ID：12506514
> 
> 赞同：1
> 
> 时间：2012-09-20T05:26:07.217
> 
> 标签：django, pip, openshift

感谢您的帮助，起初我在 Openshift 上创建了一个应用程序（创建方法请参考[https://github.com/drivard/openshift-django-mysql](https://github.com/drivard/openshift-django-mysql)）现在我想安装 pip 和一个 3part 应用程序（例如 hitconter），我的步骤如下： 1\. ssh 到远程主机 2\. cd $OPENSHIFT_TMP_DIR 3\. wget [http://pypi.python.org/packages/source/p/pip/pip-1.1.tar.gz](http://pypi.python.org/packages/source/p/pip/pip-1.1.tar.gz) 4\. tar zxf pip- 1.1.tar.gz 5\. cd pip-1.1 6\. python setup.py install （shell提到没有写权限）

那么如何在 Openshift 中安装 pip 并使用 pip 安装应用程序呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T05:37:11.960

将所需的应用程序添加到`setup.py`文件 . 例如：

```
#!/usr/bin/env python

from setuptools import setup

setup(
    name='YourAppName',
    version='1.0',
    description='OpenShift App',
    author='Your Name',
    author_email='example@example.com',
    url='http://www.python.org/sigs/distutils-sig/',
    # Your 3part apps:
    install_requires=['Django>=1.3', 'pil', 'south'],
) 
```

# mysql - 组合 3 个或更多表，故意没有加入条件

> ID：12506516
> 
> 赞同：2
> 
> 时间：2012-09-20T05:26:12.167
> 
> 标签：mysql, sql

我如何在 mysql 中加入**3 个**或更多表，如下所示？

*   每个表的每一列都有一列（ID除外）
*   ID 字段值都进入新表中的相同 ID 字段
*   添加了一个附加列`table`，其值是源表名称
*   添加了一个自动递增的`newID`字段
*   每一行只有一个表，不相关的字段有空值
*   总行数等于所有表中记录的总和

只有两个表的示例：

```
TableA:                  TableB          
ID   |   fieldA          ID   |   fieldB 
-----------------       -----------------
  1  |   valueA1           1  |   valueB1
  2  |   valueA2           2  |   valueB2

ResultTable:
newID  | ID  |  table  | fieldA  |  fieldB
---------------------------------------------
   1   |  1  |  TableA | valueA1 |  
   2   |  2  |  TableA | valueA2 |  
   3   |  1  |  TableB |         |  valueB1
   4   |  2  |  TableB |         |  valueB2 
```

我知道这可能听起来有点奇怪！我将尝试使用这个[批量插入](https://github.com/jexp/batch-import)脚本将来自各种表的记录的节点批量插入到neojs图形数据库中。考虑到我几乎不知道我在这两个数据库中做什么，这可能很有趣；-)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:30:20.727

~~试试这个，~~

 ~~```
SELECT  @rownum := @rownum + 1 AS NewID,
        a.*
FROM
    (
        SELECT  ID, fieldA, '' AS fieldB
        FROM    tableA
        UNION ALL
        SELECT  ID, '' AS fieldA, fieldB
        FROM    tableB
    ) a, (SELECT @rownum:=0) r 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!2/c70ca/2)~~  ~~*   创建新表

这是建议的架构

```
CREATE TABLE Newtable
(
    NewID INT AUTO_INCREMENT,
    ID INT NOT NULL,
    FieldA VARCHAR(30),
    FieldB Varchar(30),
    CONSTRAINT tb_pk PRIMARY KEY (NewID)
) 
```

*   然后插入您的值，

这是使用`INSERT INTO...SELECT`语句的查询

```
INSERT INTO NewTable (ID, fieldA, fieldB)
SELECT  ID, fieldA, NULL AS fieldB
FROM    tableA
UNION ALL
SELECT  ID, NULL AS fieldA, fieldB
FROM    tableB 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:32:20.710

1.  创建具有自动递增 newID 的表
2.  添加所有允许空值的可能列。
3.  将 TableA 中的值插入其中，然后将 TableB 中的值插入如下：

```
INSERT INTO table
(ID, `table`, fieldA)
SELECT ID, 'TableA', fieldA FROM TableA

INSERT INTO table
(ID, `table`, fieldB)
SELECT ID, 'TableB', fieldB FROM TableB 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:39:42.197

使用 UNION 选择一个结果集中的所有行，INSERT INTO 用于插入新表。您还可以在 sql server 中使用 ROW_NUMBER() 获取新 ID

```
SELECT ID, COL1, NULL, NULL FROM Table1
UNION
SELECT ID, NULL, COL2, NULL FROM Table2
UNION
SELECT ID, NULL, NULL, COL3 FROM Table3 
```

将上述结果选择到临时表中。使用行号更新新 ID

```
SELECT ID, ... , ROW_NUMBER() OVER(ORDER BY ID) AS NewID FROM #TempTable 
```~~

# android - 为什么我的应用在 Google Play 上不支持三星标签（以及其他一些标签）？

> ID：12506522
> 
> 赞同：3
> 
> 时间：2012-09-20T05:27:09.717
> 
> 标签：android, google-play

我已经看过几篇关于这个主题的帖子，但似乎几乎没有关于如何准确确定为什么某些设备对于我在 Google Play 上发布的应用程序显示为“不受支持”的信息......顺便说一下，该应用程序没有国家过滤器. 知道如何找到问题的根源吗？

下面是“aapt dump badging xxxxx.apk”的输出：（我将包名替换为“xxxxx”）注意该应用程序使用 Urban Airship SDK 通过 C2DM 进行推送，这需要以下几个权限。

tnx

```
package: name='xxxxx' versionCode='4' versionName='1.2.1'
sdkVersion:'10'
uses-permission:'android.permission.INTERNET'
uses-permission:'android.permission.CALL_PHONE'
uses-permission:'android.permission.READ_PHONE_STATE'
uses-permission:'android.permission.WAKE_LOCK'
uses-permission:'android.permission.ACCESS_NETWORK_STATE'
uses-permission:'android.permission.ACCESS_COARSE_LOCATION'
uses-permission:'android.permission.ACCESS_FINE_LOCATION'
uses-permission:'xxxxx.permission.C2D_MESSAGE'
uses-permission:'com.google.android.c2dm.permission.RECEIVE'
uses-permission:'android.permission.VIBRATE'
application-label:'xxxxx'
application-label-he:'xxxxx'
application-icon-160:'res/drawable-hdpi/icon.png'
application-icon-240:'res/drawable-hdpi/icon.png'
application: label='xxxxx' icon='res/drawable-hdpi/icon.png'
launchable-activity: name='xxxxx.ui.SplashActivity'  label='xxxx' icon=''
uses-feature:'android.hardware.location'
uses-feature:'android.hardware.location.gps'
uses-feature:'android.hardware.location.network'
uses-feature:'android.hardware.telephony'
uses-feature:'android.hardware.touchscreen'
uses-feature:'android.hardware.screen.landscape'
main
other-activities
other-receivers
other-services
supports-screens: 'small' 'normal' 'large' 'xlarge'
supports-any-density: 'true'
locales: '--_--' 'he'
densities: '160' '240' 
```

...以下是在 Google Play 中被标记为不受支持的三星设备列表（截至今天）：

```
Behold II(sgh-t939)
Europa(GT-I5500)
GT-I5500M(GT-I5500M)
GT-I5700L(GT-I5700L)
GT-I5800L(GT-I5800L)
GT-N8005(p4noterf)
GT-P1010(GT-P1010)
GT-P1013(GT-P1013)
GT-P3108(espressorfcmcc)
GT-P6210(GT-P6210)
GT-P6211(GT-P6211)
GT-P6810(GT-P6810)
GT-P7300B(GT-P7300B)
GT-P7320(GT-P7320)
GT-P7500D(GT-P7500D)
GT-P7500M(GT-P7500M)
GT-P7500R(GT-P7500R)
GT-P7501(GT-P7501)
GT-P7503(GT-P7503)
GT-P7511(GT-P7511)
Galaxy(gt-i7500)
Galaxy Note 10.1 WIFI(p4notewifiww)
Galaxy Player(YP-G1)
Galaxy Player(YP-G70)
Galaxy Player(YP-GB1)
Galaxy Player(YP-GB70)
Galaxy Player(YP-GS1)
Galaxy Tab(SHW-M180K)
Galaxy Tab(SMT-i9100)
Galaxy Tab 10.1(GT-P7500)
Galaxy Tab 10.1(SC-01D)
Galaxy Tab 10.1(SCH-I905)
Galaxy Tab 10.1(SHW-M300W)
Galaxy Tab 10.1(SHW-M380K)
Galaxy Tab 10.1(SHW-M380S)
Galaxy Tab 10.1(SHW-M380W)
Galaxy Tab 10.1v(p3)
Galaxy Tab 2 7.0 WiFi(espressowifi)
Galaxy Tab 7.0 Plus(SGH-T869)
Galaxy Tab 8.9(GT-P7300)
Galaxy Tab 8.9(GT-P7310)
Galaxy Tab 8.9(SGH-I957)
Galaxy Tab2 10.1(espresso10wifi)
Galaxy Tab™ 10.1(SGH-T859)
Galaxy Tab™ 7.7(SCH-I815)
Moment(sph-m900)
SCH-P739(SCH-P739)
SCH-i705(espressovzw)
SGH-I957D(SGH-I957D)
SGH-I957M(SGH-I957M)
SHV-E140K(SHV-E140K)
SHV-E140L(SHV-E140L)
SHV-E140S(SHV-E140S)
SHW-M180W(SHW-M180W)
SHW-M305W(SHW-M305W)
SHW-M430W(SHW-M430W)
SHW-M480W(p4notewifiany)
YP-G50(Non telephony)(YP-G50)
unknown(GT-P7510) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T11:07:52.367

您正在请求`CALL_PHONE`许可。除非你有`android:required="false"`这个，否则你的应用程序只能安装在具有电话功能的设备上。请参阅：http: [//developer.android.com/guide/topics/manifest/uses-feature-element.html#permissions](http://developer.android.com/guide/topics/manifest/uses-feature-element.html#permissions)

# iphone - iPhone时钟精度xcode

> ID：12506524
> 
> 赞同：1
> 
> 时间：2012-09-20T05:27:13.423
> 
> 标签：iphone, xcode, ipad, precision, clock

我有一个应用程序需要使用 iPhone/iPad 时钟并且需要绝对精确。使用真正的石英表，我每 10/12 小时有近 2 秒的时差。

有没有办法拥有一个“完美”的时钟？您必须处理这种延迟/提前似乎很奇怪。

谢谢！

# google-app-engine - 迁移到 HRD 后写入谷歌数据存储的代码中断

> ID：12506529
> 
> 赞同：0
> 
> 时间：2012-09-20T05:27:40.353
> 
> 标签：google-app-engine

下面的代码在主从复制数据存储上运行良好，但在我们今天迁移到 HRD 后就崩溃了。我看到的例外只是

```
E 2012-09-19 21:59:13.603
vik.sakshum.sakshumweb.server.common.CommonServiceCode writeToGoogleStore: Exception in finally of execute of writeToGoogleStore
E 2012-09-19 21:59:13.603
vik.sakshum.sakshumweb.server.common.CommonServiceCode writeToGoogleStore: Exception class is :java.io.IOException
E 2012-09-19 21:59:13.603
vik.sakshum.sakshumweb.server.common.CommonServiceCode writeToGoogleStore: Exception is :null 
```

代码

```
try {

        log.info("Starting google storage");
        // Get the file service
        FileService fileService = FileServiceFactory.getFileService();
        GSFileOptionsBuilder optionsBuilder = new GSFileOptionsBuilder()
                .setBucket(bucketName).setKey(key).setAcl("public-read")
                .setMimeType("text/html");

        // Create your object
        AppEngineFile writableFile = fileService
                .createNewGSFile(optionsBuilder.build());

        // Open a channel for writing
        boolean lockForWrite = true;
        FileWriteChannel writeChannel = fileService.openWriteChannel(
                writableFile, lockForWrite);
        PrintWriter out = new PrintWriter(Channels.newWriter(writeChannel,
                "UTF8"));
        out.println(emailMsgTxt);
        out.close();
        writeChannel.closeFinally();
    } catch (Exception e) {
        e.printStackTrace();
        log.severe("Exception in finally of execute of writeToGoogleStore");
        log.severe("Exception class is :" + e.getClass().getName());
        log.severe("Exception is :" + e.getMessage());
        return "failed";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T10:28:53.663

转移到 HR 还意味着您有了一个新的应用程序名称和服务帐户名称。您可能需要将新帐户添加到该存储桶的 ACL。

# android - 如何像默认短信应用程序一样在 android 中加入多个短信通知？

> ID：12506530
> 
> 赞同：1
> 
> 时间：2012-09-20T05:27:39.590
> 
> 标签：android, android-intent, android-notifications, android-notification-bar

我正在构建一个基于 SMS 的 android 应用程序。到目前为止，我已经完成了接收短信并显示其通知的模块。但是对于每条收到的短信，都会在通知区域中创建一个通知。

如果有任何未读/看不见的通知，就像默认的短信应用程序一样，我想加入通知。有什么办法可以做到这一点？

# asp.net - 会话不会保留值并始终返回 null

> ID：12506532
> 
> 赞同：5
> 
> 时间：2012-09-20T05:27:44.050
> 
> 标签：asp.net, session

我有一个网站，它完全通过 HTTPS。即使有人尝试通过 HTTP 访问，他也会被重定向到 HTTPS。我正在使用表单身份验证。最近我更改了一个设置以使站点更安全，之后 Session 不再保留值并且总是返回 null。设置是，

```
<httpCookies httpOnlyCookies="true" requireSSL="true"/>
<sessionState cookieless="false"/> 
```

我不知道如何解决这个问题。我该如何解决这个问题？另外，如果我不使用此设置，我的网站是否容易受到攻击？认为其他一切都是安全的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T06:00:38.023

你的问题太笼统了，没有太多线索，所以我可以给你一些继续前进的观点。

**[1]**还在`domain`cookie 上设置 ，没有`www.`，因此即使错误地丢失了 www 也可以读取和设置 cookie。

```
<httpCookies domain="yourdomain.com" httpOnlyCookies="true" requireSSL="true"/> 
```

**[2]**您还需要设置`<forms...`类似的参数（以及您设置的其他参数）

```
<forms name=".klidi" path="/" requireSSL="true" cookieless="UseCookies" 
   domain="yourdomain.com" enableCrossAppRedirects="false" 
        slidingExpiration="true" /> 
```

**[3]**你还需要设置`<roleManager`类似的参数。

```
<roleManager enabled="true" cacheRolesInCookie="false" cookieProtection="All" cookieSlidingExpiration="true" 
           cookieTimeout="20" domain="yourdomain.com" cookieRequireSSL="true"> 
```

最后最重要的是在你的代码上设置这一行，然后再尝试设置或使用任何 cookie，看看你是否错误地没有使用安全连接`https`。

```
Debug.Assert(HttpContext.Current.Request.IsSecureConnection, "With out https, cookie will not work"); 
```

通过设置最后一行，当您创建站点时，您可以在计算机上查看并诊断问题是否来自非安全连接，因为从您设置`requireSSL`为 true 的那一刻起，任何简单的连接都不会保存任何 cookie。

如果 cookie 存在不安全并且您有任何冲突，请尝试清除您的 cookie，或者尝试其他浏览器。

您还可以阅读：[一些黑客可以从用户那里窃取 cookie 并在网站上使用该名称登录吗？](https://stackoverflow.com/questions/2498599/can-some-hacker-steal-the-cookie-from-a-user-and-login-with-that-name-on-a-web-s)

# excel - 如何在 Excel 中创建类似报告的数据表？

> ID：12506542
> 
> 赞同：0
> 
> 时间：2012-09-20T05:28:56.577
> 
> 标签：excel, vba

过去，我创建了从数据库中提取数据并使用表格对其进行格式化的网站。

现在，我正在尝试使用 Excel 做同样的事情，但我迷路了。我习惯于使用 SQL 命令从给定字段中提取数据，然后对其进行排序/操作。

目前，我可以打印一份报告，该报告为我提供了一个充满原始数据的 Excel 电子表格，但我想让我的生活更轻松并将其组织成一份报告。

我要引用的列包含重复项，但相邻列中的数据不同。

举个例子，假设我有一个销售交易的电子表格。一列是客户 ID，相邻的列将包含数量、每单位成本、总成本、订单 ID 等。

在这种情况下，我想做的是选择具有相同客户 ID 的所有交易，并根据他们的订单 ID 将它们加在一起。然后，我想将结果打印到第二张纸上。

我意识到我可以使用内置函数来完成此操作，但我还想使用 VBA 均匀地格式化此报告。此外，由于我将有可变数量的行从一个报告到下一个报告不同，我还没有遇到允许您添加行的函数。

我假设这必须用 VBA 完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:37:05.270

好吧，您可以手动完成，但这需要很长时间。所以 VBA 会很好，尤其是当您能够快速生成未来的报告时。

我对您的说法的解释是，报告中的每一行都是一个客户 ID 的总数。如果是别的东西，我想下面的内容仍然是最相关的。

我认为给你完整的答案会有点多，特别是因为你没有提供完整的细节，而是试探一下你会做什么：

1.  创建您的空报告页面，无论是新工作表还是新工作簿

2.  循环遍历表（可能使用 While next is not empty）

    一个。确定一行是否用于您尚未涵盖的客户 ID

    一世。如果是这样，那么在您的报告中添加一个新条目

    ii. 否则将其添加到现有的客户 ID 记录中（循环直到找到它）

3.  格式化您的报告，使其看起来很漂亮，例如：

    一个。将背景填充为白色

    湾。加入一些实心条

    C。输入好的标题和总数等。

对于第 1 部分，最好先构建一个数组，然后将内容转储到报告中。这取决于过程的密集程度——如果非常密集，阵列应该缩短时间。

# android - 如何获取对话框片段的 ondetached 事件？

> ID：12506557
> 
> 赞同：0
> 
> 时间：2012-09-20T05:31:34.283
> 
> 标签：android, android-fragments

我的片段活动有这样的情况，当片段与片段活动分离时，我需要执行一些操作。

我知道我可以检查 isDetached()，但是当片段分离时我需要调用一些操作。谢谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T08:28:36.140

您可以在 Dialog Fragment 中创建一个您的活动必须实现的接口。在您的对话框片段中，您可以覆盖“onDetach”方法并在该方法中调用侦听器活动。

所以沿着这些思路：

```
import android.app.Activity;
import android.support.v4.app.DialogFragment;

public class MyDialogFragment extends DialogFragment{

    public interface CallBack{
       public void onMyDialogFragmentDetached();
    }

    public CallBack mCallBack;

    @Override
    public void onAttach(Activity activity){
       super.onAttach(activity);
       mCallBack = (CallBack) activity;
    }

    @Override
    public void onDetach(){
       super.onDetach();
       mCallBack.onMyDialogFragmentDetached();
    }

} 
```

然后让您的活动实现 MyDialogFragment.CallBack：

```
 public class MyActivity extends Activity implements MyDialogFragment.CallBack{

    @Override
    public void onMyDialogFragmentDetached(){
       /** Called When MyDialogFragment gets detached. */
    }

  } 
```

我希望这会有所帮助。祝你好运。

# ios5 - UILabel 不变

> ID：12506558
> 
> 赞同：1
> 
> 时间：2012-09-20T05:31:37.760
> 
> 标签：ios5, uiview, uilabel, xcode4.3

```
@interface TopBarController : UIViewController <AVAudioPlayerDelegate, UIAlertViewDelegate> {

UILabel *coinWatch;   }
@property (nonatomic,retain) UILabel *coinWatch;

- (UIView *)coinsLabel {
UIView *coinsLabelView=[[UIView alloc]initWithFrame:CGRectMake(36, 17, 100, 15)];
//if (coinsLabelView == nil) {
    coinWatch = [[UILabel alloc]initWithFrame:CGRectMake(3, 0, 100, 15)];
    coinWatch.font = [self coinsFont];
    coinWatch.textColor = [UIColor colorWithRed:1.0 green:0.83 blue:0.16 alpha:1];
    coinWatch.text = [NSString stringWithFormat:@"%d",  data.getCoins];
    NSLog(@"label %d",data.getCoins);
    coinWatch.backgroundColor = [UIColor clearColor];
//}

[coinsLabelView addSubview:coinWatch];
return coinsLabelView; 
```

}

```
- (void) setCoin {

[coinWatch performSelectorOnMainThread:@selector(setText:) withObject:[NSString stringWithFormat:@"%d",  data.getCoins] waitUntilDone:NO];
NSLog(@"coin %d",data.getCoins);
NSLog(@"Really updating"); 
```

}

我是 xcode 的新手，但这是我用于更新 coinWatch(UILabel) 的简单代码。标签最初为 0，但当我使用其他函数（此处未显示）添加硬币时，NSLog 打印正确的数量但不会更新...当我调用 setCoin 时，它不会更新 coinWatch 中的文本看法。请帮助这个可怜的新手！！！

# iphone - 启动时的 UIInterfaceOrientation

> ID：12506567
> 
> 赞同：1
> 
> 时间：2012-09-20T05:33:05.800
> 
> 标签：iphone, ios, uideviceorientation

我不确定这是一个错误还是我可能做错了什么，但是当我以纵向模式启动我的应用程序而不旋转设备并运行此代码时

```
if(UIInterfaceOrientationIsPortrait([[UIDevice currentDevice] orientation])) {
    NSLog(@"Portrait");
} else {
    NSLog(@"Landscape");
} 
```

我返回`Landscape`，在我旋转设备并再次检查后它返回正确的值，所以当你第一次启动返回的方向时似乎是错误的。这是一个已知的问题？

编辑：

即使我在 AppDelegate 中运行此代码，它也会返回`Landscape`，即使我在纵向模式下启动

```
if(UIInterfaceOrientationIsPortrait([[UIDevice currentDevice] orientation])) {
    NSLog(@"Portrait");
} else {
    NSLog(@"Landscape");
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:34:01.953

那是因为在第一次启动时它返回 UIDeviceOrientationUnknown。它既不是肖像也不是风景。如果你想检测用户界面方向，你应该使用

```
UIInterfaceOrientation orientation = [UIApplication sharedApplication].statusBarOrientation;
if (UIInterfaceOrientationIsLandscape(orientation)) {
    NSLog(@"landscape");
}else{
    NSLog(@"portrait");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:38:51.030

在您的 Info.plist > Supported interface orientations 中，将项目“Portrait（底部主页按钮）”向上拖动到其他项目上。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-20T05:47:28.023

这是仅纵向模式的代码

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return UIInterfaceOrientationIsPortrait(interfaceOrientation);
} 
```

# php - 获取在 MySQL 中找到数据的列名

> ID：12506568
> 
> 赞同：1
> 
> 时间：2012-09-20T05:33:05.643
> 
> 标签：php, mysql, pdo

是否有可能在不循环结果的情况下（可能通过 PDO）获取找到特定数据的列名？还是在 mySQL 中有另一种方法可以做到这一点？

该示例仅显示 3 列，但对于我的表，我可能需要检查多达 30 列

如果我有一个表 table1 并且想要找到找到“x”的列

```
+----+------+------+------+
| id | Col1 | Col2 | Col3 |
+----+------+------+------+
|  0 | x    | b    | x    |
|  1 | x    | x    | f    |
|  2 | d    | x    | g    |
|  3 | h    | j    | k    |
+----+------+------+------+ 
```

currentyl 我运行一个 Select 然后循环到每一行并检查每一行列，如果数据是'x'

```
$query= "SELECT * FROM table1 WHERE (Col1='x' OR Col2='x' OR Col3='x')"
$result=mysql_query($query);
$foundCols = array();
$rowCnt = 0;
while ($row = mysql_fetch_assoc($result)) {
  $tmpArr = array();
  if ($row['Col1'] == 'x') {
     $tmpArr[] = 'Col1';
  }
  if ($row['Col2'] == 'x') {
     $tmpArr[] = 'Col2';
  }
  if ($row['Col3'] == 'x') {
     $tmpArr[] = 'Col3';
  }
  $foundCols[$rowCnt] = $tmpArr;
  $rowCnt = $rowCnt+1
} 
```

谢谢你

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T05:44:13.877

尝试这个：

```
while ($row = mysql_fetch_assoc($result)) {
    ...
    foreach (array('Col1', 'Col2', 'Col3') as $key) {
        if ($row[$key] == 'x') {
            $tmpArr[] = $key;
        }
    }
    ...
} 
```

# java - 使用struts在java中配置网站电子邮件

> ID：12506569
> 
> 赞同：2
> 
> 时间：2012-09-20T05:33:08.383
> 
> 标签：java, hibernate, jakarta-ee, struts2

**我正在为我的网站使用 struts 2.0 hibernate 3.0 和 tiles 3.0，我想向 info@shreerajinvestment.com 发送邮件，但我无法发送邮件，所以我必须做什么.....**

[http://shreerajinvestment.com/Home/send_feedback.action](http://shreerajinvestment.com/Home/send_feedback.action)

 **```
package admin;

import java.util.Properties;

import javax.mail.Message;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;

public class SendMailFeedback {
    private String from;
    private String to;
    //private String cc;
    private String subject;
    private String password;
    private String text;

    public SendMailFeedback(String from, String to, String subject, String text, String password)
    {
        this.from = from;
        this.to = to;
        //this.cc = cc;
        this.subject = subject;
        this.text = text;
        this.password = password;
    }

    public void send() throws Exception
    {
        System.out.println("Send FeedBack");
        try 
        {
            Properties props = new Properties();
            props.put("mail.smtp.host", "smtp.gmail.com");
            props.put("mail.smtp.socketFactory.port", "465");
            props.put("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory");
            props.put("mail.smtp.auth", "true");
            props.put("mail.smtp.port", "465");

            Session session = Session.getDefaultInstance(props,new javax.mail.Authenticator(){protected PasswordAuthentication getPasswordAuthentication(){return new PasswordAuthentication(from,password);}});

            Message message = new MimeMessage(session);
            message.setFrom(new InternetAddress(from));
            message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(to));
            //message.setRecipients(Message.RecipientType.CC,InternetAddress.parse(cc));
            message.setSubject(subject);
            //String link="www.shreerajinvestments.com";
            message.setText(text);
            System.out.println("MAIL");
            Transport.send(message);
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }
} 
```

 **```
package admin;

import com.opensymphony.xwork2.ActionSupport;

public class sendFeedback extends ActionSupport
{
    private static final long serialVersionUID = 1L;

    private String name;
    private String email1;
    private String sub;
    private String msg;
    private String contact;

    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }

    public String getEmail1() {
        return email1;
    }
    public void setEmail1(String email1) {
        this.email1 = email1;
    }
    public String getSub() {
        return sub;
    }
    public void setSub(String sub) {
        this.sub = sub;
    }
    public String getMsg() {
        return msg;
    }
    public void setMsg(String msg) {
        this.msg = msg;
    }
    public String getContact() {
        return contact;
    }
    public void setContact(String contact) {
        this.contact = contact;
    }

    String re;

    public String execute() throws Exception
    {
        System.out.println("Send FeedBack");
        try
        {
                addActionMessage("Your FeedBack is Send Successfully");

                String from = "abc@gmail.com";
                String to = "info@shreerajinvestment.com";

                String subject = sub;
                String text = "This Mail from http://www.shreerajinvestment.com/ \n\nThis FeedBack From : \n\n \t\t Sender Name :" + name + "\n\n\t\t Sender Email ID :" + email1 + "\n\n\t\t Sender Contact No. :" + contact + "\n\n\t\t" + msg;
                String password = "my password";

                SendMail SendMail = new SendMail(from, to, subject, text, password);
                SendMail.send();

                re=SUCCESS;
        }
        catch(Exception ex)
        {
            System.out.println("Connection Failed: "+ex);
            ex.printStackTrace();
        }
        return re;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:48:59.840

如果您遇到 UnknownHostException: smtp.gmail.com，请尝试 ping smtp.gmail.com 并确保您得到响应（能够访问）。很多时候，你的连接可能会被你的防火墙或代理阻止。否则你需要 javaee.jar 和 mail.jar 到你的类路径中。
干杯...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-06T05:37:19.603

下载 SMTP 服务器服务器并转到链接 [http://www.tutorialspoint.com/struts_2/struts_sending_email.html](http://www.tutorialspoint.com/struts_2/struts_sending_email.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:42:35.050

请尝试此邮件属性。检查您的邮件应该成功发送。

```
Properties props = new Properties();
props.put("mail.smtp.host", "smtp.gmail.com");
props.put("mail.smtp.starttls.enable", "true");
props.put("mail.smtp.auth", "true");
props.put("mail.smtp.port", "587"); 
```****

# java - 开源 ehcache 有什么限制？

> ID：12506570
> 
> 赞同：2
> 
> 时间：2012-09-20T05:33:13.787
> 
> 标签：java, scalability, ehcache, terracotta

我正在寻找兵马俑ehcache，

我想知道开源分布式ehcache的局限性。 **开源分布式 ehcache 版本是否对分区拓扑中的 Terracotta 服务器数量有任何限制？** 1\. 集群中的对象数量 2\. 集群中对象的最大大小 3\. 活动兵马俑服务器的最大数量 4\. 一台活动服务器下的最大被动节点数 5\. 开源是否支持无限线性可扩展性？如果没有它支持到什么程度？6\. 高可用性、可靠性、一致性、缓存模式（如直写\回写）是否有任何限制？7\. 开源版本是否支持本地和全局事务？

如果开源版本有任何其他限制，请告诉我。

# c# - ssl时如何忽略证书检查

> ID：12506575
> 
> 赞同：147
> 
> 时间：2012-09-20T05:33:36.937
> 
> 标签：c#, ssl, httpwebrequest, certificate

我正在尝试找到一种在请求 Https 资源时忽略证书检查的方法，到目前为止，我在互联网上找到了一些有用的文章。

但我还是有一些问题。请查看我的代码。我只是不明白代码是什么`ServicePointManager.ServerCertificateValidationCallback`意思。

什么时候调用这个委托方法？还有一个问题，我应该在哪个地方写这段代码？在`ServicePointManager.ServerCertificateValidationCallback`执行之前还是之前`Stream stream = request.GetRequestStream()`？

```
public HttpWebRequest GetRequest()
{
    CookieContainer cookieContainer = new CookieContainer();

    // Create a request to the server
    HttpWebRequest request = (HttpWebRequest)WebRequest.Create(_remoteUrl);

    #region Set request parameters

    request.Method = _context.Request.HttpMethod;
    request.UserAgent = _context.Request.UserAgent;
    request.KeepAlive = true;
    request.CookieContainer = cookieContainer;
    request.PreAuthenticate = true;
    request.AllowAutoRedirect = false;

    #endregion

    // For POST, write the post data extracted from the incoming request
    if (request.Method == "POST")
    {
        Stream clientStream = _context.Request.InputStream;
        request.ContentType = _context.Request.ContentType;
        request.ContentLength = clientStream.Length;

        ServicePointManager.ServerCertificateValidationCallback = delegate(
            Object obj, X509Certificate certificate, X509Chain chain, 
            SslPolicyErrors errors)
            {
                return (true);
            };

            Stream stream = request.GetRequestStream();

            ....
        }

        ....

        return request;
    }
} 
```

* * *

## 回答 #1

> 赞同：192
> 
> 时间：2013-09-04T21:47:10.433

对于有兴趣在每个请求的基础上应用此解决方案的任何人，这是一个选项并使用 Lambda 表达式。同样的 Lambda 表达式也可以应用于 blak3r 提到的全局过滤器。此方法似乎需要 .NET 4.5。

```
String url = "https://www.stackoverflow.com";
HttpWebRequest request = HttpWebRequest.CreateHttp(url);
request.ServerCertificateValidationCallback += (sender, certificate, chain, sslPolicyErrors) => true; 
```

在 .NET 4.0 中，Lambda 表达式可以这样应用于全局过滤器

```
ServicePointManager.ServerCertificateValidationCallback += (sender, certificate, chain, sslPolicyErrors) => true; 
```

* * *

## 回答 #2

> 赞同：72
> 
> 时间：2012-09-20T06:26:31.797

由于只有一个全局[ServicePointManager](http://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.aspx)，因此设置[ServicePointManager.ServerCertificateValidationCallback](http://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.servercertificatevalidationcallback.aspx)将产生所有后续请求都将继承此策略的结果。由于它是一个全局“设置”，因此最好在[Global.asax的](http://msdn.microsoft.com/en-us/library/1xaas8a2%28VS.71%29.aspx)[Application_Start](http://msdn.microsoft.com/en-us/library/ms178473%28VS.100%29.aspx)方法中进行设置。

设置回调会覆盖默认行为，您可以自己创建自定义验证例程。

* * *

## 回答 #3

> 赞同：58
> 
> 时间：2013-04-29T22:38:35.443

这对我有用：

```
System.Net.ServicePointManager.ServerCertificateValidationCallback +=
delegate(object sender, System.Security.Cryptography.X509Certificates.X509Certificate certificate,
                        System.Security.Cryptography.X509Certificates.X509Chain chain,
                        System.Net.Security.SslPolicyErrors sslPolicyErrors)
    {
        return true; // **** Always accept
    }; 
```

来自这里的片段：[http ://www.west-wind.com/weblog/posts/2011/Feb/11/HttpWebRequest-and-Ignoring-SSL-Certificate-Errors](http://www.west-wind.com/weblog/posts/2011/Feb/11/HttpWebRequest-and-Ignoring-SSL-Certificate-Errors)

* * *

## 回答 #4

> 赞同：29
> 
> 时间：2015-08-13T12:57:27.810

还有短委托解决方案：

```
ServicePointManager.ServerCertificateValidationCallback = delegate { return true; }; 
```

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2016-02-04T23:29:46.323

顺便说一句，这是我所知道的在给定应用程序中关闭所有证书验证的最简单的方法：

```
ServicePointManager.ServerCertificateValidationCallback = (a, b, c, d) => true; 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2018-12-18T16:46:57.157

您可以在 HttpClient 的本地实例上设置回调，而不是向 ServicePointManager 添加一个将全局覆盖证书验证的回调。这种方法应该只影响使用该 HttpClient 实例进行的调用。

下面的示例代码展示了如何在 Web API 控制器中实现忽略特定服务器的证书验证错误。

```
using System.Net.Http;
using System.Net.Security;
using System.Security.Cryptography.X509Certificates;

public class MyController : ApiController
{

    // use this HttpClient instance when making calls that need cert errors suppressed
    private static readonly HttpClient httpClient;

    static MyController()
    {
        // create a separate handler for use in this controller
        var handler = new HttpClientHandler();

        // add a custom certificate validation callback to the handler
        handler.ServerCertificateCustomValidationCallback = ((sender, cert, chain, errors) => ValidateCert(sender, cert, chain, errors));

        // create an HttpClient that will use the handler
        httpClient = new HttpClient(handler);
    }

    protected static ValidateCert(object sender, X509Certificate cert, X509Chain chain, SslPolicyErrors errors)
    {

        // set a list of servers for which cert validation errors will be ignored
        var overrideCerts = new string[]
        {
            "myproblemserver",
            "someotherserver",
            "localhost"
        };

        // if the server is in the override list, then ignore any validation errors
        var serverName = cert.Subject.ToLower();
        if (overrideCerts.Any(overrideName => serverName.Contains(overrideName))) return true;

        // otherwise use the standard validation results
        return errors == SslPolicyErrors.None;
    }

} 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2020-05-14T17:00:17.293

对于 .net 核心

```
using (var handler = new HttpClientHandler())
{ 
    // allow the bad certificate
    handler.ServerCertificateCustomValidationCallback = (request, cert, chain, errors) => true;
    using (var httpClient = new HttpClient(handler))
    {
        await httpClient.PostAsync("the_url", null);
    }
} 
```

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2014-03-06T17:43:37.517

已经提到，在 .NET 4.5 之前，请求访问其的属性`ServicePointManager`不可用。

这是 .NET 4.0 代码，可让您`ServicePoint`按请求访问。它不会让您访问每个请求的回调，但它应该让您找到有关问题的更多详细信息。只需访问`scvPoint.Certificate`（或`ClientCertificate`如果您愿意）属性。

```
WebRequest request = WebRequest.Create(uri);

// oddity: these two .Address values are not necessarily the same!
//  The service point appears to be related to the .Host, not the Uri itself.
//  So, check the .Host vlaues before fussing in the debugger.
//
ServicePoint svcPoint = ServicePointManager.FindServicePoint(uri);
if (null != svcPoint)
{
    if (!request.RequestUri.Host.Equals(svcPoint.Address.Host, StringComparison.OrdinalIgnoreCase))
    {
        Debug.WriteLine(".Address              == " + request.RequestUri.ToString());
        Debug.WriteLine(".ServicePoint.Address == " + svcPoint.Address.ToString());
    }
    Debug.WriteLine(".IssuerName           == " + svcPoint.Certificate.GetIssuerName());
} 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2019-07-29T02:09:28.043

CA5386：漏洞分析工具会提醒您注意这些代码。

正确的代码：

```
ServicePointManager.ServerCertificateValidationCallback += (sender, certificate, chain, sslPolicyErrors) =>
{
   return (sslPolicyErrors & SslPolicyErrors.RemoteCertificateNotAvailable) != SslPolicyErrors.RemoteCertificateNotAvailable;
}; 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2014-05-08T07:12:03.357

根据亚当的回答和罗布的评论，我使用了这个：

```
ServicePointManager.ServerCertificateValidationCallback += (sender, certificate, chain, sslPolicyErrors) => certificate.Issuer == "CN=localhost"; 
```

这在某种程度上过滤了“忽略”。当然可以根据需要添加其他发行人。这是在 .NET 2.0 中测试的，因为我们需要支持一些遗留代码。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2019-04-15T01:09:17.903

明确表达...

```
ServicePointManager.ServerCertificateValidationCallback += new System.Net.Security.RemoteCertificateValidationCallback(CertCheck);

private static bool CertCheck(object sender, X509Certificate cert,
X509Chain chain, System.Net.Security.SslPolicyErrors error)
{
    return true;
} 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2020-03-03T12:13:45.007

此解决方案的 Unity C# 版本：

```
void Awake()
{
    System.Net.ServicePointManager.ServerCertificateValidationCallback += ValidateCertification;
}

void OnDestroy()
{
    ServerCertificateValidationCallback = null;
}

public static bool ValidateCertification(object sender, X509Certificate certificate, X509Chain chain, System.Net.Security.SslPolicyErrors sslPolicyErrors)
{
    return true;
} 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2021-05-13T15:18:36.083

在 .NetCore 3.1 上，您可以通过声明自定义验证方法来解决此问题。

```
ServicePointManager.ServerCertificateValidationCallback = delegate { return true; }; 
```

所以在发出请求之前，声明这个回调方法

```
ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };    
HttpWebRequest webRequest = (HttpWebRequest)WebRequest.Create("https://someurl.com/service/");  
HttpWebResponse response = (HttpWebResponse)webRequest.GetResponse(); 
```

这样，验证将始终通过，因为您的自定义方法始终返回`true`值。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2013-07-05T22:15:35.693

添加到 Sani 和 blak3r 的答案中，我在我的应用程序的启动代码中添加了以下内容，但在 VB 中：

```
'** Overriding the certificate validation check.
Net.ServicePointManager.ServerCertificateValidationCallback = Function(sender, certificate, chain, sslPolicyErrors) True 
```

似乎可以解决问题。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-10-15T19:57:14.207

以上工作的几个答案。我想要一种方法，我不必不断地更改代码并且不会使我的代码不安全。因此，我创建了一个白名单。白名单可以在任何数据存储中维护。我使用了配置文件，因为它是一个非常小的列表。

我的代码如下。

```
ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, error) => {
    return error == System.Net.Security.SslPolicyErrors.None || certificateWhitelist.Contains(cert.GetCertHashString());
}; 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2017-11-21T19:18:01.520

**提示：**您也可以使用此方法来跟踪即将到期的证书。如果您发现即将过期的证书并且可以及时修复它，这可以节省您的培根。对第三方公司也有好处 - 对我们来说，这是 DHL / FedEx。DHL 只是让证书过期，这让我们在感恩节前 3 天搞砸了。幸运的是，我正在修复它......这次！

```
 private static DateTime? _nextCertWarning;
    private static bool ValidateRemoteCertificate(object sender, X509Certificate cert, X509Chain chain, SslPolicyErrors error)
    {
        if (error == SslPolicyErrors.None)
        {
            var cert2 = cert as X509Certificate2;
            if (cert2 != null)
            { 
                // If cert expires within 2 days send an alert every 2 hours
                if (cert2.NotAfter.AddDays(-2) < DateTime.Now)
                {
                    if (_nextCertWarning == null || _nextCertWarning < DateTime.Now)
                    {
                        _nextCertWarning = DateTime.Now.AddHours(2);

                        ProwlUtil.StepReached("CERT EXPIRING WITHIN 2 DAYS " + cert, cert.GetCertHashString());   // this is my own function
                    }
                }
            }

            return true;
        }
        else
        {
            switch (cert.GetCertHashString())
            {
                // Machine certs - SELF SIGNED
                case "066CF9CAD814DE2097D367F22D3A7E398B87C4D6":    

                    return true;

                default:
                    ProwlUtil.StepReached("UNTRUSTED CERT " + cert, cert.GetCertHashString());
                    return false;
            }
        }
    } 
```

# windows-phone-7 - 部署 Windows Phone 7 应用

> ID：12506578
> 
> 赞同：0
> 
> 时间：2012-09-20T05:34:08.483
> 
> 标签：windows-phone-7

我为我们的客户 [in India] 开发了一个小型 Windows Phone 7 应用程序。问题是我们将它免费提供给我们的主站点。有什么方法可以将应用程序上传到 Windows Phone 而不将其上传到市场？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:39:01.193

要在不通过市场的情况下将应用程序放在手机上，手机必须是“开发人员解锁”。完成后，您可以将 .xap 文件分发给客户，他们可以将文件传输到任何开发人员解锁的手机。请参阅[http://blogs.msdn.com/b/publicsector/archive/2011/01/04/unlock-your-windows-phone-7-for-development.aspx](http://blogs.msdn.com/b/publicsector/archive/2011/01/04/unlock-your-windows-phone-7-for-development.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:49:08.527

要“开发者解锁”，您需要一个开发者帐户。而“开发者解锁”每个用户的手机实际上是非常困难的。

相反，我建议您将您的应用程序上传到市场并在您的网站中共享市场链接或将链接邮寄给您的用户。

# asp.net - MVC 或 Web 中的 HTTPHeader 从

> ID：12506583
> 
> 赞同：0
> 
> 时间：2012-09-20T05:35:06.127
> 
> 标签：asp.net, asp.net-mvc

我在 MVC (fundamentalbook) 中阅读了关于 HTTPHeader 的内容，但我不知道 HTTPHeader 到底是什么？

有人可以解释这些方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:56:08.287

[HTTP 协议](http://www.w3.org/Protocols/rfc2616/rfc2616.html)是一个请求/响应协议。请求和响应由两部分组成：标头和正文。标头指示有关主体的元数据，例如长度、类型、压缩、有关授权的信息等等。协议中定义了标准类型的标头，但您也可以使用自定义标头。

在 ASP.NET MVC 中，您可以从 Request 对象中读取请求标头，从 Response 对象中读取响应标头。例如：

```
Request.Headers["Content-Type"] 
```

或者

```
Response.Headers["Content-Type"] 
```

显然，在 ASP.NET MVC 应用程序中，您只能修改响应标头。请求标头是来自客户端的只读集合。

# c# - 为什么“C:\Windows\Microsoft.NET\assembly\GAC_32...”而不是“C:\Windows\assembly\GAC_32”

> ID：12506584
> 
> 赞同：3
> 
> 时间：2012-09-20T05:35:10.277
> 
> 标签：c#, dll, wix, gac, .net-assembly

`<Component Guid="7F7333F5-F9ED-4712-8D1B-58AAC71790CB" Id="MyComponent"> <File Name="MyDll.dll" KeyPath="yes" Vital="yes" Id="MyDLL_GAC" Assembly=".net" Source="$(var.COMTRACERDIR)\MyDll.dll"> </File> </Component>`

当我用它用 wix 制作 *.msi 时，我发现 dll 将安装在路径“C:\Windows\Microsoft.NET\assembly\GAC_32...”而不是“C:\Windows\assembly \GAC_32"。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T05:46:00.710

因为一个是 4.0 CLR 的 GAC，另一个是 2.0 GAC - 但问题更加复杂。更多信息可在此处获得：[.NET 4.0 有一个新的 GAC，为什么？](https://stackoverflow.com/questions/2660355/net-4-0-has-a-new-gac-why)

# vba - excel宏：将代码汇总为调用sub()

> ID：12506586
> 
> 赞同：-2
> 
> 时间：2012-09-20T05:35:13.707
> 
> 标签：vba

> **可能重复：**
> [excel 宏：ByRef 参数类型不匹配](https://stackoverflow.com/questions/12506248/excel-macro-byref-argument-type-mismatch)

我写了如下代码：

```
For xx = 1 To 100
    For yy = 1 To 100
        strTemp = Worksheets("APM Output").Cells(xx, yy).Value
        If InStr(strTemp, ">> State Scalars") <> 0 Then
            GoTo label1
        End If
    Next
Next
label1:
    For uu = 1 To 100
        For vv = 1 To 100
            strTemp = Worksheets("APM Output").Cells(uu, vv).Value
            If InStr(strTemp, ">> GPU LPML") <> 0 Then
                GoTo label2
            End If
        Next
    Next
label2:
    For mm = 1 To 100
        For nn = 1 To 100
            strTemp = Worksheets("APM Output").Cells(mm, nn).Value
            If InStr(strTemp, ">> Limits and Equations") <> 0 Then
                GoTo label3
            End If
        Next
    Next
.... 
```

我想将它们总结成一个新的 sub(...) 来调用，但是在我测试后它有错误。

```
Sub search(row As Variant, col As Variant, wkst As String, str As String, label_num As Name) 

For row = 1 To 100   
  For col = 1 To 100     
    strTemp = Worksheets(wkst).Cells(row, col).Value     
    If InStr(strTemp, str) <> 0 Then         
      GoTo label_num     
    End If   
  Next 
Next 

End Sub 
```

如何修改它？我真的需要一些建议。thx

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T18:04:11.757

将 sub 的重复部分拆分到单独的函数中是一种很好的编程习惯

我个人会走以下路线：

```
Sub Subroutine()
    set tCell = UDF_FindValue("APM Output",">> State Scalars")
    set tCell = UDF_FindValue("APM Output",">> GPU LPML")
    set tCell = UDF_FindValue("APM Output",">> Limits and Equations")
End Sub

Function UDF_FindValue(WS_Name as String, SearchString as String) as Range
    Set RefWS = WorkSheets(WS_Name)
    for each sCell in intersect(RefWS.Rows("1:100"),RefWS.Columns("1:100"))
        if sCell.value = SearchString then
            Set UDF_FindValue = sCell
            End function
        end if
    next sCell
End Function 
```

如果您使您的功能足够通用，您也可以稍后重新使用它...

它还可以让您轻松修改代码，例如，如果您发现 find 函数已经完成了您想要的操作...

# java - 地图活动错误

> ID：12506590
> 
> 赞同：0
> 
> 时间：2012-09-20T05:35:40.290
> 
> 标签：java, android, google-maps, map

我开发了一个简单的 mapActivity，它要求用户通过使用对话框警报和定位服务的意图来检查他是否启用了 gps 系统。如果启用了 gps，它会直接进入 mapView，但这不会发生在我身上。当我按下去地图视图时，它让我强制关闭。

这是对话框代码：

```
 public void onClick(View arg0) {

                AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
                        context);

                // set title
                alertDialogBuilder.setTitle("Your Title");

                // set dialog message
                alertDialogBuilder
                        .setMessage("Click yes TO ENABLE GPS")
                        .setCancelable(false)
                        .setPositiveButton("Yes",
                                new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dialog,
                                            int id) {
                                        // if this button is clicked, close
                                        // current activity
                                        Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);  
                                          startActivityForResult(intent, 1);  
                                          } 

                                })
                        .setNegativeButton("No",
                                new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dialog,
                                            int id) {
                                        // if this button is clicked, just close
                                        // the dialog box and do nothing
                                        //dialog.cancel();

                                        Intent intent = new Intent(MainActivity.this, AndroidGoogleMapsActivity.class);
                                        context.startActivity(intent);
                                    }
                                });

                // create alert dialog
                AlertDialog alertDialog = alertDialogBuilder.create();

                // show it
                alertDialog.show();

            }

        });

    } 
```

这是清单文件：

```
<?xml version="1.0" encoding="utf-8"?>

<manifest xmlns:android="http://schemas.android.com/apk/res/android"    

package="com.mkyong.android"

 android:versionCode="1"

    android:versionName="1.0" ><uses-sdk android:minSdkVersion="8" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <uses-library
            android:name="com.google.android.maps"
            android:required="true" />

        <activity
            android:name=".MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".AndroidGoogleMapsActivity" >
        </activity>
    </application>

</manifest> 
```

这是 AndroidGoogleMapsActivity 类的代码

公共类 AndroidGoogleMapsActivity 扩展 MapActivity {

```
@Override

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Displaying Zooming controls
    MapView mapView = (MapView) findViewById(R.id.mapView);
    Log.d("error", "the negative button befor the line 27 ");
    mapView.setBuiltInZoomControls(true);

    Log.d("error", "the negative button after the line 27 befor the map view settings ");     

     mapView.setSatellite(true); // Satellite View
     Log.d("error", "the negative button after the line 27 after satellite view  "); 
     mapView.setStreetView(false); // Street View
     Log.d("error", "the negative button after the line 27 after street view  "); 
     mapView.setTraffic(true); // Traffic view

     Log.d("error", "the negative button after the line 27 after  the map view settings ");  

    MapController mc = mapView.getController();
    Log.d("error", "the negative button after the line 27 after  the mapController ");  
    double lat = Double.parseDouble("33.823862");// kehale
    double lon = Double.parseDouble("35.590248");// kehale
    GeoPoint geoPoint = new GeoPoint((int)(lat * 1E6), (int)(lon * 1E6));
    mc.animateTo(geoPoint);
    mc.setZoom(15);
    mapView.invalidate(); 

    Log.d("error", "the negative button befor the GeoPoint");

@Override
protected boolean isRouteDisplayed() {
    return false;
} 
```

}

这是我得到的错误：

```
09-20 05:16:22.512: D/AndroidRuntime(309): Shutting down VM
09-20 05:16:22.512: W/dalvikvm(309): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
09-20 05:16:22.543: E/AndroidRuntime(309): FATAL EXCEPTION: main
09-20 05:16:22.543: E/AndroidRuntime(309): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mkyong.android/com.mkyong.android.AndroidGoogleMapsActivity}: java.lang.NullPointerException
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.os.Handler.dispatchMessage(Handler.java:99)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.os.Looper.loop(Looper.java:123)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.ActivityThread.main(ActivityThread.java:4627)
09-20 05:16:22.543: E/AndroidRuntime(309):  at java.lang.reflect.Method.invokeNative(Native Method)
09-20 05:16:22.543: E/AndroidRuntime(309):  at java.lang.reflect.Method.invoke(Method.java:521)
09-20 05:16:22.543: E/AndroidRuntime(309):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-20 05:16:22.543: E/AndroidRuntime(309):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-20 05:16:22.543: E/AndroidRuntime(309):  at dalvik.system.NativeStart.main(Native Method)
09-20 05:16:22.543: E/AndroidRuntime(309): Caused by: java.lang.NullPointerException
09-20 05:16:22.543: E/AndroidRuntime(309):  at com.mkyong.android.AndroidGoogleMapsActivity.onCreate(AndroidGoogleMapsActivity.java:27)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
09-20 05:16:22.543: E/AndroidRuntime(309):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
09-20 05:16:22.543: E/AndroidRuntime(309):  ... 11 more
09-20 05:16:25.141: I/Process(309): Sending signal. PID: 309 SIG: 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T12:48:00.060

似乎您的布局文件中存在导致此 NullPointerException 的问题。

```
// This command tries to get the mapView but fails to find it, so it returns null, instead of the mapView
MapView mapView = (MapView) findViewById(R.id.mapView);
// This tries to call a method on null, which will cause a NullPointerException.
mapView.setBuiltInZoomControls(true); 
```

为了解决这个检查，你`layout/map_activity.xml`的地图实际上是这样命名的 mapView ：

```
<?xml version="1.0" encoding="utf-8"?>
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/mapView"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:name="com.google.android.gms.maps.SupportMapFragment" /> 
```

# android - Facebook连接功能注销与android sdk

> ID：12506601
> 
> 赞同：1
> 
> 时间：2012-09-20T05:37:18.260
> 
> 标签：android, facebook

我的代码如下：

```
public void logoutFromFacebook() {
    mAsyncRunner.logout(this, new RequestListener() {
        @Override
        public void onComplete(String response, Object state) {
            Log.d("Logout from Facebook", response);

            if (Boolean.parseBoolean(response) == true) {
                runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                    // make Login button visible
                    btnFbLogin.setVisibility(View.VISIBLE);

                    // making all remaining buttons invisible
                    btnFbGetProfile.setVisibility(View.INVISIBLE);
                    btnPostToWall.setVisibility(View.INVISIBLE);
                    btnShowAccessTokens.setVisibility(View.INVISIBLE);
                    btnFbLogout.setVisibility(View.INVISIBLE);
                }
            });
        }
    }

    @Override
    public void onIOException(IOException e, Object state) {

    }

    @Override
    public void onFileNotFoundException(FileNotFoundException e,
    Object state) {
    }

    @Override
    public void onMalformedURLException(MalformedURLException e,
    Object state) {
    }

    @Override
    public void onFacebookError(FacebookError e, Object state) {
    }
});
} 
```

但它不起作用并显示错误`validating access Token`。谁能给我一个解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T18:18:25.547

错误消息显示“无效的应用程序 ID”的原因是因为您没有提供应用程序 ID，或者您提供的应用程序 ID 无效。

您必须确保`Facebook`以以下方式在代码的开头实例化

```
Facebook facebook = new Facebook(YOUR_APP_ID_HERE);
AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(facebook); 
```

# xcode - 未找到有效的签名身份状态

> ID：12506605
> 
> 赞同：2
> 
> 时间：2012-09-20T05:37:23.580
> 
> 标签：xcode, certificate

在我的 Xcode > Organizer > Devices

我通过从供应门户和 App ID 中选择分发证书来创建今天创建的分发供应配置文件。

但是管理器内的配置文件的状态显示“未找到有效的签名身份”

我已经在我的 MacBook 钥匙串访问中加倍检查，它具有完全来自供应门户的证书 > 分发的证书。

我已经从配置文件下载了证书，双击 .cer 文件，它只是打开了钥匙串访问。

然而，我仍然有同样的问题。

我应该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T05:54:56.397

1.  钥匙串中的所有 xcode 证书都需要设置为（**使用系统默认值）**不，始终批准**或**从未批准。您可以通过双击它们来查看它们。

2.  Xcode > Organizer > Devices > **Teams**：“身份对签名有效”，需要导入，并且上面有绿色标记。

3.  Xcode > 目标 > “你的项目” > 构建设置 >**代码签名**> 将它们设置为“自动配置文件选择器”，然后是 Iphone 开发人员或发行版，在你的情况下是发行版。

清洁和建造

如果它不起作用尝试更改“**代码签名**”，证书也应该显示在代码签名中。

这是我一直以来最大的问题，很烦人。希望对您有所帮助！

让我知道是否还有问题！

# coffeescript - 嵌套方法的方法链

> ID：12506607
> 
> 赞同：1
> 
> 时间：2012-09-20T05:37:33.567
> 
> 标签：coffeescript

我是咖啡脚本的新手。但是我没有找到任何合适的词来提出这个问题。

我有一个这样的咖啡脚本：

```
@collection.each (student) =>               
            ($(@el).find("#table .table").append new Item({model:student}).el)
                .find("td:last-child").hide() 
```

但是，有没有比这种丑陋的语法更好的方法链接？我只想从 $(@el) 中找到 td:last-child，不带任何括号。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:51:47.333

为什么不在括号上加上`append`其他函数调用呢？

```
@collection.each (student) =>     
    $(@el).find("#table .table")
        .append(new Item(model: student).el)
        .find("td:last-child")
        .hide() 
```

# mysql - mysql 从选择中选择

> ID：12506610
> 
> 赞同：6
> 
> 时间：2012-09-20T05:37:52.170
> 
> 标签：mysql, select, subquery

我有这个查询：

```
 SELECT DATE( a.created_at ) AS order_date, count( * ) as cnt_order
    FROM `sales_order_item` AS a
    WHERE MONTH( a.created_at ) = MONTH( now())-1
    GROUP BY order_date 
```

这将返回类似这样的结果（仅快照，否则将每 31 天返回一次）：

```
order_date  cnt_order 
2012-08-29  580
2012-08-30  839
2012-08-31  1075 
```

我的完整查询是根据上述选择进行选择的：

```
SELECT order_date
    , MAX(cnt_order) AS highest_order
FROM (
        SELECT DATE (a.created_at) AS order_date
            , count(*) AS cnt_order
        FROM `sales_order_item` AS a
        WHERE MONTH(a.created_at) = MONTH(now()) - 1
        GROUP BY order_date
    ) AS tmax 
```

但结果是：

```
order_date  highest_order
2012-08-01  1075 
```

哪个日期错误，并且总是选择假设为 2012-08-31 的第一行日期。也许这是一个我不知道的简单错误。那么如何让日期正确指向 2012-08-31？任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:09:24.363

您可以尝试订购子查询结果集；就像是：

```
SELECT
    DATE (a.created_at) AS order_date,
    COUNT(*) AS cnt_order
FROM
    `sales_order_item` AS a
WHERE
    MONTH(a.created_at) = MONTH(now()) - 1
GROUP BY
    order_date
ORDER BY
    cnt_order DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:10:00.597

您可以添加`ORDER BY order_date DESC`子查询。

# actionscript-3 - 如何使用 Flash 将网络摄像头视频直接上传到 red5 服务器

> ID：12506611
> 
> 赞同：1
> 
> 时间：2012-09-20T05:37:53.690
> 
> 标签：actionscript-3, flash, red5

我可以使用 Flash 访问我的网络摄像头。如何使用 Flash 和动作脚本将该视频流上传到 red5 媒体服务器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T21:56:57.313

我写了一篇关于设置 Red5 的教程，其中包含一个示例 AS3 应用程序，其中显示了一个简单的流应用程序。

你可以在这里找到它：http: [//labs.distriqt.com/post/493](http://labs.distriqt.com/post/493)

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T08:51:53.550

请参阅演示应用程序：[https](https://code.google.com/p/red5/source/browse/#svn%2Fjava%2Fexample%2Ftrunk) ://code.google.com/p/red5/source/browse/#svn%2Fjava%2Fexample%2Ftrunk例如 oflaDemo 如何根据给出的示例编写 Flash 客户端。

# datepicker - 如何在mobiscroll中禁用提到年份的自定义日期？

> ID：12506614
> 
> 赞同：0
> 
> 时间：2012-09-20T05:38:15.720
> 
> 标签：datepicker, mobiscroll

我需要禁用数组中提到年份的某些日期。

var availableDates = ["02/10/2014","03/11/2014","07/12/2014","08/11/2015"];

仅应在控件上可见。因此，我们手动计算上述数组中缺失的日期并将它们视为无效日期。相同的传递给 mobiscroll 的无效属性。但没有运气。

有人可以指导一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T12:10:47.307

您应该将无效日期作为 mobiscroll 的 javascript 日期对象传递：

```
$('#test').scroller({
  preset: 'date',
  invalid: { dates: [ new Date("02/10/2014"), new Date("03/11/2014"), new Date("07/12/2014"), new Date("08/11/2015") ] }
}); 
```

[在http://docs.mobiscroll.com/datetime-preset](http://docs.mobiscroll.com/datetime-preset)查看无效的选项描述

# c# - 以多种形式维护单个数据库连接

> ID：12506615
> 
> 赞同：0
> 
> 时间：2012-09-20T05:38:16.797
> 
> 标签：c#, oracle11g, odp.net

我有这个 c# 应用程序，用户需要通过第一个表单登录。如果验证返回 true form2 将打开。

我想通过所有这些表单使用与 form1 中输入的相同的用户凭据保持单一连接。我正在使用 ODP.NET 连接到 oracle 11g。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:54:40.123

.NET 中的 Sql 连接由[连接池](http://msdn.microsoft.com/en-us/library/8xx3tyca.aspx)管理。因此，如果您实例化新的连接对象，它会重用旧的封闭物理连接。

在表格1

```
using(var c = new SqlConnection("connectionstring"))
{
     //use connection here
} 
```

在表格 2 中

```
using(var c = new SqlConnection("connectionstring"))
{
    //use connecion here
} 
```

form1 和 form2 使用相同的物理连接到数据库

连接池也可用于[Oracle 数据提供程序](http://msdn.microsoft.com/en-us/library/aa719767%28v=vs.71%29.aspx)

或者你可能对[实体框架感兴趣](https://stackoverflow.com/questions/82644/can-you-use-microsoft-entity-framework-with-oracle)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:25:34.700

创建一个静态 Connectionstring 类，就像您声明一个具有 Sqlconnection 属性的静态类一样，您可以以任何形式或任何其他类直接访问它 这是一个类示例

```
public static class Connection
    {
        private static SqlConnection sqlconn;
        public static SqlConnection getconnection() {
            if (sqlconn==null)
               sqlconn = new SqlConnection("Connectionsting.");
            return sqlconn;
        }

    } 
```

# ruby - 缓存中间人站点的图像

> ID：12506617
> 
> 赞同：2
> 
> 时间：2012-09-20T05:38:23.567
> 
> 标签：ruby, caching, twitter, middleman, github-pages

我有一个中间人应用程序部署到 GitHub 页面。每次用户访问主页以显示我们的团队时，该应用程序都会点击 Twitter API (GET users/show)。Twitter API 是有速率限制的（而且我确信这是不好的做法）所以，如果一小时内有大量访问者，团队就会空无一人。

如果这是一个 Rails 应用程序，定期将图像缓存到服务器会相当简单，但是对于静态站点，您将如何做到这一点？您可以每天将图像缓存到外部服务一次吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:56:28.550

您可以为此任务设置一些 cronjob，它将从 twitter 获取数据，例如，生成 html 或其他类型的媒体并将其上传到 github。

实际上，您可能想检查[IronWorker](http://www.iron.io/products/worker)的这项工作，因此您不需要自己的服务器，并且每天加载很少，它对您来说是免费的。

# php - 将多个 pdo 连接存储在一个数组中

> ID：12506620
> 
> 赞同：2
> 
> 时间：2012-09-20T05:38:27.937
> 
> 标签：php, pdo

所以我几天来一直在尝试自己调试这个问题，但我似乎无法弄清楚为什么我没有得到我期望的结果。

我的代码相当复杂，要建立一个数据库连接，它跨越 3 个类和一个配置文件。

但基本上我的最终用途最终是

`$this->db('test')->query('SELECT * FROM test1');`

这通过查询返回结果的别名建立了与我的数据库的连接，`test`所以到目前为止我很好。

现在我的问题是当我尝试制作一个新`PDO`对象时。

`$this->db('test2')->query('SELECT * FROM test2');`

`test2`这不返回任何内容，因为我的`test1`对象中没有调用表。

但如果我这样做

`$this->db('test2')->query('SELECT * FROM test1');`

现在这会从第一个 PDO 对象返回相同的结果。

我已经跟踪并追踪了每一行代码，以确保将正确的参数传递给我的数据库类，并且每个连接都正确建立到相应的数据库。

现在我的问题是，您可以拥有多个数据库 pdo 连接吗？如果是这样，是否需要在 PDO 选项中设置特殊标志？我的连接是否被缓存在某处并导致这种混乱？

这是我在连接数组中存储的每个新类对象中的 PDO 声明

```
try
        {
            $this->_con = new PDO(
                "mysql:host=" . $host . ";
                 port=" . $port . ";
                 dbname=" . $name, $user, $pass
            );

            $this->_con->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

        } catch(PDOException $e) {

            // TODO: push all $e methods to the developer debugger
            echo "Database Error: ". $e->getMessage();
        } 
```

编辑我使用连接的代码

第一步：调用父类

```
public function __call($name, $params)
        {
            $class = $name . '_system_helper';
            $hash  = md5($class . $params);

            if (class_exists($class))
            {
                if (!array_key_exists($hash, $this->_sys_helper))
                {
                    if (method_exists($class, 'init'))
                    {
                        $this->_sys_helper[$hash] = call_user_func_array(array($class, 'init'), $params);

                    } else {

                        $this->_sys_helper[$hash] = call_user_func_array($class, $params);
                    }
                }

                return $this->_sys_helper[$hash];
            }

            return null;
        } 
```

第二步：从父类调用

```
class DB_System_Helper extends Jinxup
    {
        private $_con = null;

        public function __construct($end = null)
        {
            $mode = null;
            $host = null;
            $name = null;
            $user = null;
            $pass = null;
            $port = null;

            if (isset($this->config['database']['mode']))
            {
                $mode = $this->config['database']['mode'] == 'production' ? 'production' : 'development';

                if (count($this->config['database'][$mode]) > 1)
                {
                    foreach ($this->config['database'][$mode] as $key => $database)
                    {
                        if ($database['@attr']['alias'] == $end)
                        {
                            $host = $this->config['database'][$mode][$key]['host'];
                            $name = $this->config['database'][$mode][$key]['name'];
                            $user = $this->config['database'][$mode][$key]['user'];
                            $pass = $this->config['database'][$mode][$key]['pass'];
                            $port = $this->config['database'][$mode][$key]['port'];
                        }
                    }

                } else {

                    $host = $this->config['database'][$mode]['host'];
                    $name = $this->config['database'][$mode]['name'];
                    $user = $this->config['database'][$mode]['user'];
                    $pass = $this->config['database'][$mode]['pass'];
                    $port = $this->config['database'][$mode]['port'];
                }

                $this->_con = new PDO_Database_Helper($host, $name, $user, $pass, $port);

            } else {

                echo 'No database mode specified';
            }
        }

        public function __call($name, $param)
        {
            return call_user_func_array(array($this->_con, $name), $param);
        }
    } 
```

第 3 步：从 DB_System_Helper 调用

```
class PDO_Database_Helper extends Jinxup
{
    private $_con = null;
    private $_id  = 0;

    public function __construct($host, $name, $user, $pass, $port = 3306)
    {
        try
        {
            $this->_con = new PDO(
                "mysql:host=" . $host . ";
                 port=" . $port . ";
                 dbname=" . $name, $user, $pass
            );

            $this->_con->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

        } catch(PDOException $e) {

            // TODO: push all $e methods to the developer debugger
            echo "Database Error: ". $e->getMessage();
        }
    }

        [...]
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:25:03.953

你确定你正在做的散列足以“命名空间”`$this->_sys_helper`数组中的每个连接吗？

我怀疑问题出在第一阶段。

```
 public function __call($name, $params)
    {
        $class = $name . '_system_helper';
        $hash  = md5($class . $params);

        if (class_exists($class))
        {
            if (!array_key_exists($hash, $this->_sys_helper))
            {
                if (method_exists($class, 'init'))
                {
                    $this->_sys_helper[$hash] = call_user_func_array(array($class, 'init'), $params);

                } else {

                    $this->_sys_helper[$hash] = call_user_func_array($class, $params);
                }
            }

  >>>>>>>>>>>>>> are you sure this is not returning the wrong
  >>>>>>>>>>>>>> connection because of how the hashing is working?
            return $this->_sys_helper[$hash];
        }

        return null;
    } 
```

# php - 从字符串 PHP 中删除第一个斜杠字符

> ID：12506621
> 
> 赞同：8
> 
> 时间：2012-09-20T05:38:27.500
> 
> 标签：php, string, performance, trim

我有一个这种格式的字符串`/abcd-efg-sms-3-topper-2`

我想从中删除第一个`/`字符。

我知道我可以删除这个 using`substr()`函数，但我不想使用它，因为我首先必须检查第一个字符是否是斜杠。有没有其他方法可以删除斜线，而无需先检查斜线，并且这种方式具有合理的性能（即避免复杂的正则表达式）？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-20T05:40:43.173

使用修剪：

```
$string = '/abcd-efg-sms-3-topper-2';
echo ltrim($string, '/');
// abcd-efg-sms-3-topper-2
echo rtrim($string, '/');
// /abcd-efg-sms-3-topper-2
echo trim($string, '/');
// abcd-efg-sms-3-topper-2 
```

# asp.net-mvc - 如何按索引查找通用列表值

> ID：12506622
> 
> 赞同：-3
> 
> 时间：2012-09-20T05:38:31.207
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我有一个包含 4 个值的通用列表。如何按索引获取我的通用列表值？我想获取通用列表中的所有值，这是我的代码：

```
var Checked = (form.GetValues("assignChkBx")).ToList();     
string str = "";
for (int i = 0; i < Checked.Count; i++)
{
    str = str + Checked[i]. +",";
} 
```

在这段代码中，我得到了所有选中的复选框值。现在我想获取所有值。我怎样才能获得价值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:47:30.313

您关于通用列表的问题非常具有误导性，我怀疑它与您的实际问题无关。

取决于您在视图中生成复选框的方式，这可能与否。如果您直接使用`<input type="checkbox">`未选中复选框的标记值对它们进行硬编码，则永远不会将它们发送到服务器 - 这就是 HTML 复选框的工作方式。在这种情况下，您将无法获得所有值。另一方面，如果您使用`Html.CheckBoxFor`助手生成它们，那么您会注意到该助手为每个复选框添加了一个隐藏字段，以便发送所有值。不过，此助手对布尔值进行操作。

因此，我建议您创建一个包含 2 个属性的视图模型：一个保存您感兴趣的值，一个布尔属性指示用户是否在视图中选择了此值：

```
public class ItemViewModel
{
    public string Value { get; set; }
    public bool Checked { get; set; }
} 
```

然后有一个视图模型，其中包含这些项目的集合：

```
public class MyViewModel
{
    public ItemViewModel[] Items { get; set; }
} 
```

现在在您的视图中，您可以像这样呈现这些值：

```
@model MyViewModel
@using (Html.BeginForm())
{
    for ( var i = 0; i < Model.Items.Length; i++)
    {
        <div>
            @Html.CheckBoxFor(x => x.Items[i].Checked)
            @Html.HiddenFor(x => x.Items[i].Value)
        </div>
    }

    <button type="submit">OK</button>
} 
```

最后，在这个表单将提交给您的控制器操作中，您将能够获取所有值：

```
[HttpPost]
public ActionResult SomeAction(MyViewModel model)
{
    foreach (var item in model.Items)
    {
        // here you could use item.Checked and item.Value
    }
    ...
} 
```

# sql - 如何在 PostgreSQL 中使用“替换”函数进行字符串替换

> ID：12506623
> 
> 赞同：3
> 
> 时间：2012-09-20T05:38:44.613
> 
> 标签：sql, postgresql

我想在`pgsql`数据库列中的一些数据中进行字符串替换。我试过了

```
CASE
    WHEN (po.siteid IS NOT NULL) THEN replace('po.html_content', 'abcd', 'xxx')
        ELSE pc.html_content
 END 
```

我想替换`po.html_content`列中的字符串。但是上面的代码不起作用。查询获取 `po.html_content`列中的数据而不替换。我的代码是错误的还是任何想法......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T05:44:10.353

**不要将列名括在单引号**中，在这种情况下，它不再是列，而是常规字符串。

```
CASE
    WHEN (po.siteid IS NOT NULL) THEN replace(po.html_content, 'abcd', 'xxx')
    ELSE pc.html_content
END 
```

# unix - 启用 ssh 的机器上的 remsh

> ID：12506627
> 
> 赞同：0
> 
> 时间：2012-09-20T05:38:56.473
> 
> 标签：unix, ssh

最近，我们所有的测试机器都被转移到了一个安全的 shell 网络。结果，所有这些机器的 IP 地址现在都已更改，我们现在必须使用 SSH 协议访问这些机器。

但是，我无法使用“remsh”访问任何也为 SSH 启用的目标机器来执行某些任务。

我已经检查了“.rhosts”文件的存在以及目标机器的 ip 条目是否存在于“/etc/hosts”文件中。

请让我知道我是否需要更改/查看其他任何地方以使 remsh 工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T13:09:49.127

Remsh、rlogin、rsh 和 rcp 不是安全系统，因为信息在机器之间以纯文本形式发送，而且主机验证不是使用密钥完成的，而是基于主机的并且可以伪造。我认为您正是出于这些原因更改为 ssh。

幸运的是，您可以使用 ssh 做所有相同的事情。例如，在将机器配置为使用公钥和私钥对后，您可以在远程机器上自动运行命令（通过提供密码或使用无密码密钥）：

`ssh user@remotehost command-to-be-run`

如果您之前没有使用过 ssh，那么有很多东西要学习，但这不是很有趣吗？因此，您还将知道如何进行最先进的安全连接。您将特别想了解公钥身份验证。

网上有很多关于如何创建和使用密钥以及使用 ssh 的教程。[http://www.olearycomputers.com/ll/ssh_guide.html](http://www.olearycomputers.com/ll/ssh_guide.html)似乎是一个很好的起点。[https://engineering.purdue.edu/ECN/Support/KB/Docs/SSHReplacingRhosts](https://engineering.purdue.edu/ECN/Support/KB/Docs/SSHReplacingRhosts)专门讨论了用密钥对替换 .rhosts 身份验证。

# c# - 相互转换日历 使用 NodaTime 库

> ID：12506631
> 
> 赞同：2
> 
> 时间：2012-09-20T05:39:33.913
> 
> 标签：c#, datetime, calendar, nodatime

我使用[Noda Time](http://code.google.com/p/noda-time/)来处理`DateTime`问题，我阅读了几乎所有的[文档](http://noda-time.googlecode.com/hg/docs/userguide/index.html)，但是在将日历相互转换时遇到了一些问题，

1.  首先，Noda 支持多少个日历？

    如前所述`CalendarSystem`，只有 4 个日历：

    a)CopticCalendar / b)GregorianCalendar / c)IslamicCalendar / d)JulianCalendar

    那么其他日历系统呢？

2.  我使用[波斯日历又名 Jalali 日历](http://en.wikipedia.org/wiki/Persian_Calendar)，那么有没有办法在 NodaTime 中使用这个日历？以及如何将其转换为公历？

3.  我的最终目标是将时间（在特区）和日期都转换为 UTC 时区和格鲁吉亚日历。例如，时区和波斯历中的**现在**（`yyyy/MM/dd - HH:mm:ss`）`Asia/Tehran`是：（1391/06/30 - 10:01:15），格鲁吉亚历和 UTC 中的**现在**是（2012/09/20 - 05:01:15），那又如何你的建议是？单独的时间根本不重要，但日期，我对此一无所知（在 NodaTime 中），有没有办法在一个过程或方法中转换这两者？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T08:04:51.350

1.  是的，目前这些是我们支持的唯一日历系统。

2.  不，我们目前不支持波斯历。您可以提出功能请求，但恐怕我们更有可能对推出 1.0 感兴趣。

3.  目前尚不清楚“特区”是什么意思-但听起来又一次，您需要波斯历才能真正发挥作用。如果 .NET 支持波斯日历，您可以将其解析为`DateTime`第一个，然后将其转换为 Noda Time 类型……很抱歉，我们目前不支持波斯日历，我*想*能够通过包装类型支持 BCL 日历（就像我们所做的那样`TimeZoneInfo`），但恐怕不会很快实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-16T04:17:27.000

为了其他人搜索类似的关键字，已经添加了对波斯日历的支持（我目前使用的是 v1.3）。

有些日历有更多的设置，所以这个例子被简化了：

```
 var now = DateTime.Now;
    var nodaNow = new NodaTime.LocalDate(now.Year, now.Month, now.Day);
    var cal = nodaNow.WithCalendar(CalendarSystem.GetPersianCalendar());

    Console.WriteLine(cal.ToString()); 
```

# oracle - oracle如何在一行中返回值

> ID：12506634
> 
> 赞同：0
> 
> 时间：2012-09-20T05:39:45.300
> 
> 标签：oracle

```
SELECT 
     YEAR
    ,MONTH
    ,WEEK
    ,A.customer_id      
    ,C.CP_PK
    ,C.DEPT_PK                                  ,decode (e.EN_TYPE,'11', e.EN_PK ) as COL1
    ,decode (e.EN_TYPE,'11', d2.ATTR_PK) as COL2
    ,decode (e.EN_TYPE,'10', e.EN_PK ) as COL3
    ,decode (e.EN_TYPE,'13', e.EN_PK ) as COL4
    ,DECODE (e.EN_TYPE,'13', d2.ATTR_PK) as COL5
    ,COUNT(*)       TXN_COUNT
    ,SUM(A_AMOUNT) TOTAL_AMT
FROM TXN_HEADER  T
     ,CUSTOMER A 
     ,TXN_DETAIL D1
     ,TXN_DETAIL D2
     ,CP_ATTRIBUTE C
     ,GEN_LOOKUP e
WHERE   A.TYPE  =  0            
AND     T.CUSTOMER_ID = A.customer_id
AND     T.TXN_PK= D1.TXN_PK
AND     T.TXN_PK= D2.TXN_PK
AND     D1.CP_PK = C.CP_PK
AND     D1.OPERATION = 1 
and     e.en_code = d2.new_code
AND     T.TXN_PK= 12313
GROUP BY 
     YEAR
    ,MONTH
    ,WEEK
    ,A.customer_id      
    ,C.CP_PK
    ,C.DEPT_PK          
    ,decode (e.EN_TYPE,'11', e.EN_PK ) 
    ,decode (e.EN_TYPE,'11', d2.ATTR_PK)
    ,decode (e.EN_TYPE,'10', e.EN_PK) 
    ,decode (e.EN_TYPE,'13', e.EN_PK) 
    ,DECODE (e.EN_TYPE,'13', d2.ATTR_PK) 
```

生成的输出如下

```
YEAR    MONTH   WEEK    CUSTOMER ID CP_PK   DEPT_PK COL1    COL2    COL3    COL4    COL5    TXN_COUNT   TOTAL_AMT
2012    8   32  119 127 -1              74  61  1   
2012    8   32  119 127 -1  73  63              1   
2012    8   32  119 127 -1          67          1   
2012    8   32  119 128 -1  73  63              1   
2012    8   32  119 128 -1              74  61  1   
2012    8   32  119 128 -1          67          1 
```

这里 col1 到 col5 是分散的。我想要连续的所有值。

像这样

```
YEAR    MONTH   WEEK    CUSTOMER ID CP_PK   DEPT_PK COL1    COL2    COL3    COL4    COL5    TXN_COUNT   TOTAL_AMT

    2012    8   32  119 127 -1  73  63  67  74  61  1   
    2012    8   32  119 128 -1  73  63  67  74  61  1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:57:09.903

尝试这个

```
SELECT 
     YEAR
    ,MONTH
    ,WEEK
    ,A.customer_id      
    ,C.CP_PK                                                            
    ,C.DEPT_PK
    ,min(decode (e.EN_TYPE,'11', e.EN_PK )) as COL1
    ,min(decode (e.EN_TYPE,'11', d2.ATTR_PK)) as COL2
    ,min(decode (e.EN_TYPE,'10', e.EN_PK )) as COL3
    ,min(decode (e.EN_TYPE,'13', e.EN_PK )) as COL4
    ,min(DECODE (e.EN_TYPE,'13', d2.ATTR_PK)) as COL5
    ,COUNT(*)       TXN_COUNT
    ,SUM(A_AMOUNT) TOTAL_AMT
FROM TXN_HEADER  T
     ,CUSTOMER A 
     ,TXN_DETAIL D1
     ,TXN_DETAIL D2
     ,CP_ATTRIBUTE C
     ,GEN_LOOKUP e
WHERE   A.TYPE  =  0            
AND     T.CUSTOMER_ID = A.customer_id
AND     T.TXN_PK= D1.TXN_PK
AND     T.TXN_PK= D2.TXN_PK
AND     D1.CP_PK = C.CP_PK
AND     D1.OPERATION = 1 
and     e.en_code = d2.new_code
AND     T.TXN_PK= 12313
GROUP BY 
     YEAR
    ,MONTH
    ,WEEK
    ,A.customer_id      
    ,C.CP_PK
    ,C.DEPT_PK 
```

# batch-file - 输出到日志文件和屏幕批处理文件

> ID：12506635
> 
> 赞同：3
> 
> 时间：2012-09-20T05:39:46.437
> 
> 标签：batch-file

我写了一个批处理文件。是否可以将输出发送到日志文件和屏幕？我的命令是： **sqlplus -S %USER_NAME%/%PASSWORD%@%TNS_NAME% OG.2ation.sql** 我希望这个命令的输出会出现在屏幕上并记录到日志文件中。？？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T07:43:25.227

您可以使用批处理编写自己的 tee 程序。

与它一起使用`myProgram | tee.bat outfile.txt`

```
@echo off
setlocal DisableDelayedExpansion
set "outfile=%~1"

(
  for /F "usebackq delims=" %%L in (`find /N /V ""`) DO (
    set "line=%%L"
    setlocal EnableDelayedExpansion
    set "line=!line:*]=!"
    (echo(!line!) > con
    (echo(!line!)
    endlocal
  )
) > "%outfile%" 
```

# mysql - 嵌套集树模型 SQL、直接子代数和深度

> ID：12506636
> 
> 赞同：1
> 
> 时间：2012-09-20T05:40:01.897
> 
> 标签：mysql, nested-sets

我正在尝试创建一个 MySQL 查询，它将返回节点列表、每个节点的深度以及每个节点有多少直接子节点。

这样做的原因是我需要用“下一个可用”点填充二叉树，这意味着具有少于 2 个直接子节点的最高级别节点。

我找到了将返回深度的查询，并且我找到了将返回节点具有的直接子节点数量的查询，但我还不足以将这两个查询组合成一个查询。顺便说一句，我正在使用 CakePHP。

我的表结构如下所示：

```
CREATE TABLE `nodes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `f_id` int(11),
  `parent_id` int(11),
  `lft` int(11) DEFAULT NULL,
  `rght` int(11) DEFAULT NULL,
  `lastadd` datetime DEFAULT NULL,
  `modified` datetime DEFAULT NULL,
  `created` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; 
```

我希望找到的是以下内容：

提供具有少于 2 个直接子节点的节点列表，按最低深度、最少子节点和最早的 lastadd 日期排序。

任何帮助，将不胜感激。

# iphone - 如何通过拖动边缘的右上角来增加或减少UIImageView的大小？

> ID：12506639
> 
> 赞同：4
> 
> 时间：2012-09-20T05:40:36.457
> 
> 标签：iphone, uiimageview, uigesturerecognizer, image-resizing, uipangesturerecognizer

我正在做一个应用程序，它具有通过拖动 UIImageView 边缘的右上角来调整 UIImageView 大小的功能，例如放大和缩小。我们也可以旋转图像。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:50:43.437

如果调整 UIImage 的大小，请使用[SPUserResizableView](https://github.com/spoletto/SPUserResizableView)跟随链接。

对于旋转，你会将 UIRotationGestureRecognizer 添加到 resizableview。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:47:29.880

使用此代码。这里的图像是从 PhotoLibrary 中挑选出来的，然后使用手势移动、缩放等。我使用所有的手势来帮助你做任何事情，比如平移、捏合和旋转你放置的任何图像。

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{

[picker dismissModalViewControllerAnimated:YES];
imageCollage = [[UIImageView alloc]initWithFrame:CGRectMake(80, 80, 150, 150)];
[imageCollage setUserInteractionEnabled:YES];
imageCollage.image = [info objectForKey:UIImagePickerControllerOriginalImage];

holderView = [[UIView alloc] initWithFrame:CGRectMake(0,0,imageCollage.frame                                                          .size.width, imageCollage.frame.size.height)];
holderView.layer.cornerRadius = 6;
holderView.clipsToBounds = YES;
imageview = [[UIImageView alloc] initWithFrame:[holderView frame]];
[imageview setImage:imageCollage.image];
[holderView addSubview:imageview];

UIPinchGestureRecognizer *pinchRecognizer = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(scale:)];
[pinchRecognizer setDelegate:self];
[holderView addGestureRecognizer:pinchRecognizer];

UIRotationGestureRecognizer *rotationRecognizer = [[UIRotationGestureRecognizer alloc] initWithTarget:self action:@selector(rotate:)];
[rotationRecognizer setDelegate:self];
[holderView addGestureRecognizer:rotationRecognizer];

UIPanGestureRecognizer *panRecognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(move:)];
[panRecognizer setMinimumNumberOfTouches:1];
[panRecognizer setMaximumNumberOfTouches:1];
[panRecognizer setDelegate:self];
[holderView addGestureRecognizer:panRecognizer];

DeleteImage = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 30, 30)];
[DeleteImage setImage:[UIImage imageNamed:@"DeleteRed.png"]];
[holderView addSubview:DeleteImage];
DeleteImage.userInteractionEnabled = YES;

UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapped:)];
[tapRecognizer setNumberOfTapsRequired:1];
[tapRecognizer setDelegate:self];
[DeleteImage addGestureRecognizer:tapRecognizer];

[BaseView addSubview:holderView];

[Trash setImage:[UIImage imageNamed:@"12456977871712665073hrum_trash.svg.med.png"] forState:UIControlStateNormal];
}

   -(void)scale:(id)sender
   {
BaseView.clipsToBounds = YES;
[BaseView bringSubviewToFront:[(UIPinchGestureRecognizer*)sender view]];

if([(UIPinchGestureRecognizer*)sender state] == UIGestureRecognizerStateEnded) {

    lastScale = 1.0;
    return;
}   
CGFloat scale = 1.0 - (lastScale - [(UIPinchGestureRecognizer*)sender scale]);

CGAffineTransform currentTransform = [(UIPinchGestureRecognizer*)sender view].transform;
CGAffineTransform newTransform = CGAffineTransformScale(currentTransform, scale, scale);

[[(UIPinchGestureRecognizer*)sender view] setTransform:newTransform];

lastScale = [(UIPinchGestureRecognizer*)sender scale];
  }

  -(void)rotate:(id)sender
  {

[BaseView bringSubviewToFront:[(UIRotationGestureRecognizer*)sender view]];

if([(UIRotationGestureRecognizer*)sender state] == UIGestureRecognizerStateEnded) {

    lastRotation = 0.0;
    return;
}

CGFloat rotation = 0.0 - (lastRotation - [(UIRotationGestureRecognizer*)sender rotation]);

CGAffineTransform currentTransform = [(UIPinchGestureRecognizer*)sender view].transform;
CGAffineTransform newTransform = CGAffineTransformRotate(currentTransform,rotation);

[[(UIRotationGestureRecognizer*)sender view] setTransform:newTransform];

lastRotation = [(UIRotationGestureRecognizer*)sender rotation];
   }

   -(void)move:(id)sender
  {
[[[(UITapGestureRecognizer*)sender view] layer] removeAllAnimations];
BaseView.clipsToBounds = YES;
[BaseView bringSubviewToFront:[(UIPanGestureRecognizer*)sender view]];
CGPoint translatedPoint = [(UIPanGestureRecognizer*)sender translationInView:self.view];

if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan) {

    firstX = [[sender view] center].x;
    firstY = [[sender view] center].y;
}

translatedPoint = CGPointMake(firstX+translatedPoint.x, firstY+translatedPoint.y);

[[sender view] setCenter:translatedPoint];

if([(UIPanGestureRecognizer*)sender state] == UIGestureRecognizerStateEnded) {

    CGFloat finalX = translatedPoint.x + (.20*[(UIPanGestureRecognizer*)sender velocityInView:self.view].x);
    CGFloat finalY = translatedPoint.y + (.20*[(UIPanGestureRecognizer*)sender velocityInView:self.view].y);

    if(UIDeviceOrientationIsPortrait([[UIDevice currentDevice] orientation])) {

        if(finalX < 0) {

            finalX = 0;
        }

        else if(finalX > 260) {

            finalX = 260;
        }

        if(finalY < 0) {

            finalY = 0;
        }

        else if(finalY > 416) {

            finalY = 416;
        }
    }

    else {

        if(finalX < 0) {

            finalX = 0;
        }

        else if(finalX > 416) {

            finalX = 260;
        }

        if(finalY < 0) {

            finalY = 0;
        }

        else if(finalY > 260) {

            finalY = 416;
        }
    }

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:.35];
    [UIView setAnimationCurve:UIViewAnimationCurveEaseOut];
    [[sender view] setCenter:CGPointMake(finalX, finalY)];
    [UIView commitAnimations];
}
   }

      -(void)tapped:(UIGestureRecognizer *)recogniser
      {
    NSLog(@"%@",recogniser.view);
    [Trash setImage:[UIImage imageNamed:@"trash_bin_recycle_quit_terminate_error_cancel_close_exit.png"] forState:UIControlStateNormal];

    [[[recogniser view] superview] removeFromSuperview];
}

- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {

    return ![gestureRecognizer isKindOfClass:[UIPanGestureRecognizer class]];
} 
```

有关代码的任何疑问，请随时询问:)...快乐编码..

# java - AppEngine 如何计算事务的实体组？

> ID：12506645
> 
> 赞同：2
> 
> 时间：2012-09-20T05:41:16.707
> 
> 标签：java, google-app-engine, google-cloud-datastore

如果我有以下一组实体：

```
A --> (unowned) B
  \
   --> (owned) List<C>

D --> (owned) List<E> --> (owned) List<F> --> (unowned) A
  \
   --> (unowned) H

G --> (unowned) H
  \
   --> (unowned) D
  \
   --> (unowned) B
  \
   --> (unowned) A
  \
   --> (unowned) F
  \
   --> (unowned) F 
```

如果我在事务中接触所有这些对象，我会计算 4 个实体组（A、B、D、H） 这应该是允许的（根据文档，您最多可以有 5 个）。

所以，有两个问题：1）你如何获取/创建它们重要吗？即是

```
C c = new C(a);
a.getCs().add(c); 
```

以某种方式使用两个单独的实体组，即使它是父/子关系？或者 G 有两个不同的 F 值这一事实——是两个实体组还是一个？

2）当你访问一个对象时它有多深？即如果我也有

```
D --> (owned) List<K> --> (owned) List<L> --> (unowned) M 
```

appengine 是否在事务中访问的实体组列表中包含 M，即使我没有访问 K、L 或 M？

从概念的角度来看，我对我的对象模型相当满意（没有 appengine，我很确定我会再次以相同的方式设计它）但是我应该像其他人在这里建议的那样做并创建一个 GenericObject 不知何故万物之父？

或者，鉴于这在数据库世界中非常微不足道，有多少人在 6 个月内放弃了 Cloud SQL 的 DataStore？（也许最后一个对于stackoverflow来说太主观了，但这是一个真正的问题）

**更新**

在浏览通过将所有内容进行调试生成的日志之后，我可以看到在某些时候我得到以下行：

`24634 [1419746043@qtp-647750325-2] DEBUG DataNucleus.Persistence - Performing reachability algorithm on object with id "com.google.appengine.api.datastore.Key:D("alex@hotmail.com")"`

然后是对从该根实体开始可以访问的每个对象的大量检索。由于这包括一堆无主的实体（也就是说，他们不使用任何作为其父级访问的实体）我猜这就是导致我的交易失败的原因，并且 Q2 的答案似乎是'到处'

所以... Q3 - 我如何防止这种行为。请注意，我调用 makePersistent(D) 是为了保留已修改的 F 的两个实例。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:17:01.523

几点注意事项：

1.  所有高级数据存储区 API (JDA/JPA/Objectify) 都建立在[低级 api](https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/DatastoreService)之上。他们不能比低级 API 做“更多”。如果您想了解 Datastore，您应该了解低级 API。

2.  实体之间的关系基于一个实体具有与另一个实体的键相关的属性。简单地说：实体包含另一个实体的ID。

3.  您可以通过简单地从实体中删除关键属性来破坏实体关系。没有像在 SQL 世界中使用的参照完整性：您可以在没有约束的情况下删除关系任一侧的实体。

4.  实体组基于祖先关系，与上面第 2 点中提到的实体关系无关。祖先关系基于键：子键将包含所有父键的键。

5.  由于祖先关系是基于键的，它只能在创建实体时建立。由于键是不可变的，因此以后无法更改。

6.  实体组的写入/更新限制为 1 次写入/秒。因此，将所有实体放在一个通用的 GenericObject 下确实是个坏主意。您应该非常小心如何设计实体组，因为它们会影响性能。好的起点是将每个用户实体作为实体组的根。

7.  实体组旨在定义事务范围（基本上这意味着这些实体位于同一服务器上，因此存在写入限制），您不应使用它们在实体之间建立逻辑关系。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-22T02:29:22.090

我设法通过将以下内容添加到 jdoconfig.xml 来解决问题：

```
<property name="datanucleus.persistenceByReachabilityAtCommit" value="false"/> 
```

这记录在[http://www.datanucleus.org/products/datanucleus/performance_tuning.html](http://www.datanucleus.org/products/datanucleus/performance_tuning.html)

If anyone would like to leave me a comment about why this is necessary, or possibly why my object model is wrong, I'd very much appreciate it, as I'm new to JDO and appengine.

# c# - 使用 NRefactory 5 完成 C# 代码

> ID：12506646
> 
> 赞同：8
> 
> 时间：2012-09-20T05:41:19.290
> 
> 标签：c#, code-completion, nrefactory

我刚刚发现了 NRefactory 5，我猜它是最适合我当前问题的解决方案。目前我正在开发一个小的 C# 脚本应用程序，我想为其提供代码完成。直到最近，我还是使用 Microsoft 的“Roslyn”项目完成了这项工作。但由于该项目的最新更新需要 .Net Framework 4.5，我不能再使用它，因为我希望该应用程序也可以在 Win XP 下运行。所以我必须在这里切换到另一种技术。

我的问题不是编译的东西。.Net CodeDomProvider 也可以通过更多的努力来做到这一点。问题在于代码完成的东西。据我所知，NRefactory 5 提供了提供代码完成所需的一切（解析器、类型系统等），但我就是不知道如何使用它。我查看了 SharpDevelop 源代码，但他们没有使用 NRefactory 5 来完成代码，他们只使用它作为反编译器。因为我也找不到如何在网络中使用它来完成代码的示例，所以我想我可能会在这里找到一些帮助。

情况如下。我有一个包含脚本代码的文件。实际上，它甚至不是文件，而是我从编辑器控件获得的字符串（顺便说一句：我为此使用 AvalonEdit。很棒的编辑器！）和一些需要引用的程序集。因此，没有解决方案文件，没有项目文件等，只有一串源代码和程序集。

我查看了 NRefactory 5 附带的 Demo 和关于代码项目的文章，并得到了这样的内容：

```
var unresolvedTypeSystem = syntaxTree.ToTypeSystem();

IProjectContent pc = new CSharpProjectContent();

// Add parsed files to the type system
pc = pc.AddOrUpdateFiles(unresolvedTypeSystem);

// Add referenced assemblies:
pc = pc.AddAssemblyReferences(new CecilLoader().LoadAssemblyFile(
    System.Reflection.Assembly.GetAssembly(typeof(Object)).Location)); 
```

我的问题是我不知道如何继续。我什至不确定这是否是实现我目标的正确方法。如何使用*CSharpCompletionEngine*？还需要什么？等等。您看到目前有很多事情还不清楚，我希望您能对此有所了解。

提前非常感谢大家！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-21T17:00:56.213

我刚刚编译了一个使用 AvalonEdit 和 NRefactory 完成 C# 代码的示例项目。

它可以[在 Github 上找到。](https://github.com/lukebuehler/NRefactory-Completion-Sample)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-02T19:35:26.440

看看方法`ICSharpCode.NRefactory.CSharp.CodeCompletion.CreateEngine`。您需要创建一个实例`CSharpCompletionEngine`并传入正确的文档和解析器。我设法让它适用于 CTRL+Space compltition 场景。但是，我在引用其他命名空间中的类型时遇到了麻烦。看起来`CSharpTypeResolveContext`没有考虑使用命名空间语句 - 如果我用 解析引用`CSharpAstResolver`，它们就可以解析，但我无法在代码完成场景中正确使用这个解析器......

**更新＃1：**

我刚刚通过从未解决的失败中获取解析器来设法完成工作。

这是片段：

```
var mb = new DefaultCompletionContextProvider(doc, unresolvedFile);
var resolver3 = unresolvedFile.GetResolver(cmp, loc); // get the resolver from unresolvedFile
var engine = new CSharpCompletionEngine(doc, mb, new CodeCompletionBugTests.TestFactory(resolver3), pctx, resolver3.CurrentTypeResolveContext ); 
```

**更新#2：**

这是完整的方法。它引用单元测试项目中的类，所以您需要将它们引用/复制到您的项目中：

```
public static IEnumerable<ICompletionData> DoCodeComplete(string editorText, int offset) // not the best way to put in the whole string every time
{

  var doc = new ReadOnlyDocument(editorText);
  var location = doc.GetLocation(offset);

  string parsedText = editorText; // TODO: Why there are different values in test cases?

  var syntaxTree = new CSharpParser().Parse(parsedText, "program.cs");
  syntaxTree.Freeze();
  var unresolvedFile = syntaxTree.ToTypeSystem();

  var mb = new DefaultCompletionContextProvider(doc, unresolvedFile);

  IProjectContent pctx = new CSharpProjectContent();
  var refs = new List<IUnresolvedAssembly> { mscorlib.Value, systemCore.Value, systemAssembly.Value}; 
  pctx = pctx.AddAssemblyReferences(refs);
  pctx = pctx.AddOrUpdateFiles(unresolvedFile);

  var cmp = pctx.CreateCompilation();

  var resolver3 = unresolvedFile.GetResolver(cmp, location);
  var engine = new CSharpCompletionEngine(doc, mb, new CodeCompletionBugTests.TestFactory(resolver3), pctx, resolver3.CurrentTypeResolveContext );

  engine.EolMarker = Environment.NewLine;
  engine.FormattingPolicy = FormattingOptionsFactory.CreateMono();

  var data = engine.GetCompletionData(offset, controlSpace: false);
  return data;

} 
```

}

希望它有帮助，马特拉

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-20T19:01:57.467

NRefactory 5 is being used in SharpDevelop 5\. The source code for SharpDevelop 5 is currently available in the [newNR branch on github](https://github.com/icsharpcode/SharpDevelop/tree/newNR). I would take a look at the [CSharpCompletionBinding class](https://github.com/icsharpcode/SharpDevelop/blob/newNR/src/AddIns/BackendBindings/CSharpBinding/Project/Src/Completion/CSharpCompletionBinding.cs) which has code to display a completion list window using information from NRefactory's CSharpCompletionEngine.

# jquery - 用 jquery 手风琴实现水平滚动条

> ID：12506647
> 
> 赞同：1
> 
> 时间：2012-09-20T05:41:19.780
> 
> 标签：jquery, jquery-ui-accordion

我有一个 jquery 手风琴，里面有一个 gridview。网格视图很长，它只显示网格视图的一部分。如何在手风琴内容活动中拥有水平滚动条？

**HTML：**

```
<div id="MyAccordion">
     <div class="scroll_auto" >
          <MyApp:GridView ID="Mygv" runat="server" CssClass="Grid">
                ...
          </MyApp:GridView>
     </div>
</div> 
```

**CSS：**

```
.scroll_auto {
    overflow: auto;
    height: 150px;
    width: 99%;
    border: 1px solid #CDCDCD;
    padding: 1px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T05:26:28.790

Your question is unclear without the complete code.But try this in your css

```
.scroll_auto {
overflow-x: auto;
overflow-y: hidden;
height: 150px;
width: 99%;
border: 1px solid #CDCDCD;
padding: 1px;
} 
```

# emulation - 无法在三星电视模拟器中运行应用程序

> ID：12506649
> 
> 赞同：1
> 
> 时间：2012-09-20T05:41:27.373
> 
> 标签：emulation, samsung-smart-tv

我已经从三星smartTVSDK提供的Eclipse创建了一个项目，但是当我在模拟器中运行这个项目时，模拟器总是显示“正在连接”，并且控制台报这样的错误

```
 [JS ERROR]:
File:           file://d/Program%20Files/Samsung/Samsung%20TV%20SDK(3.5.2)/Emulator/Emulator2012_v3.5/commonlib/ch_nonsec/SmartHome/SmartHomeMain.js.smk
Line No:        3933
Error Detail:   TypeError: 'null' is not an object (evaluating 'userCPInfo[widgetCPName]') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T21:05:20.443

尝试从菜单中重置虚拟盒子并刷新应用程序。

# javascript - Google ClientLocation API 问题

> ID：12506650
> 
> 赞同：0
> 
> 时间：2012-09-20T05:41:45.777
> 
> 标签：javascript, api

我正在使用 google API 来检测客户端位置，但它总是向我显示“Google Loader 未检测到您的位置”。

我需要找到客户所在地的国家代码，但它对我不起作用。

```
 <script src="http://www.google.com/jsapi" language="javascript"></script>
    <script language="javascript">
     if (google.loader.ClientLocation != null) {
       document.write("Your Location Is: " + google.loader.ClientLocation.address.country_code);
      } else {
       document.write("Your Location Was Not Detected By Google Loader");
        }
        </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:53:02.370

当 Google 无法对您的 IP 地址进行地理定位时，ClientLocation 对象返回 null。发生这种情况的原因有很多，其中之一是 API 无法解析您的 IP 地址。

也许您可以尝试其他解决方案，例如

[http://html5demos.com/geo](http://html5demos.com/geo)

或要求您的服务器执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:00:20.613

尝试这个：

```
<script type="text/javascript">
  if(google.loader.ClientLocation) {
    var latitude = google.loader.ClientLocation.latitude;
    var longtitude = google.loader.ClientLocation.longitude;
    var city = google.loader.ClientLocation.address.city;
    var region = google.loader.ClientLocation.address.region;
    var country = google.loader.ClientLocation.address.country;
    var countrycode = google.loader.ClientLocation.address.country_code;    
  } else {
    // ClientLocation not found or not populated
    // so perform error handling
  }
</script> 
```

改变

`if (google.loader.ClientLocation != null) {`

至

`if (google.loader.ClientLocation){`

希望这可以帮助。

# ios - 将 vCard 附加到 MFMessageComposeViewController

> ID：12506651
> 
> 赞同：3
> 
> 时间：2012-09-20T05:42:02.087
> 
> 标签：ios, vcf-vcard, mfmessagecomposeview

我正在尝试在我的应用程序中附加一个`.vcf file`作为`MFMessageComposeViewController`共享联系人功能。我参考[了这个链接](https://stackoverflow.com/questions/7381938/send-location-information-or-vcard-through-sms-on-iphone?rq=1)，据说不可能通过消息编辑器发送联系信息。[我还尝试按照此链接](https://stackoverflow.com/a/7458211/1424174)中的建议将编码字符串设置为消息正文，但这也不起作用。我不知道它是如何在默认消息应用程序中实现的，如下图所示。

![MessageComposer 中的联系人信息](../Images/fdc47b50fb133a30dc8e4a4dbf2b8cf3.png)

谁能建议我如何在 iPhone 的默认联系人应用程序中实现此共享联系人选项？非常感谢任何及时的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-16T06:40:13.780

添加附件功能是在 iOS7 中与`MFMessageComposeViewController`类一起添加的。方法[- addAttachmentData:typeIdentifier:filename:](https://developer.apple.com/library/ios/documentation/MessageUI/Reference/MFMessageComposeViewController_class/Reference/Reference.html#//apple_ref/occ/instm/MFMessageComposeViewController/addAttachmentData%3atypeIdentifier%3afilename%3a)给出了`typeIdentifier`可以设置为的答案`kUTTypeVCard`。

# java - 如何删除所有前导和尾随标点符号？

> ID：12506655
> 
> 赞同：8
> 
> 时间：2012-09-20T05:42:15.933
> 
> 标签：java, string, punctuation

我想删除字符串中的所有前导和尾随标点符号。我怎样才能做到这一点？

基本上，我想保留单词之间的标点符号，并且我需要删除所有前导和尾随标点符号。

1.  `.`, `@`, `_`, `&`, ,如果被字母或数字包围`/`，则允许`-`
2.  `\'`如果前面有字母或数字，则允许

我试过了

```
Pattern p = Pattern.compile("(^\\p{Punct})|(\\p{Punct}$)");
Matcher m = p.matcher(term);
boolean a = m.find();
if(a)
    term=term.replaceAll("(^\\p{Punct})", ""); 
```

但它没有用！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-20T06:02:00.910

好的。所以基本上你想在你的字符串中找到一些模式并在模式匹配时采取行动。

以天真的方式这样做会很乏味。天真的解决方案可能涉及类似

```
while(myString.StartsWith("." || "," || ";" || ...)
  myString = myString.Substring(1); 
```

如果您想做更复杂的任务，甚至不可能按照我提到的方式进行。

这就是我们使用正则表达式的原因。它是一种“语言”，您可以使用它来定义模式。计算机将能够判断一个字符串是否与该模式匹配。要了解正则表达式，只需将其输入 google。第一个链接之一：http: [//www.codeproject.com/Articles/9099/The-30-Minute-Regex-Tutorial](http://www.codeproject.com/Articles/9099/The-30-Minute-Regex-Tutorial)

至于你的问题，你可以试试这个：

```
myString.replaceFirst("^[^a-zA-Z]+", "") 
```

正则表达式的含义：

*   第一个 ^ 表示在此模式中，接下来的内容必须位于字符串的开头。

*   [] 定义字符。在这种情况下，那些不是（第二个^）字母（a-zA-Z）的东西。

*   + 符号表示它之前的内容可以重复并且仍然匹配正则表达式。

您可以使用类似的正则表达式来删除尾随字符。

```
myString.replaceAll("[^a-zA-Z]+$", ""); 
```

$ 表示“在字符串的末尾”

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2020-06-26T02:04:24.677

您可以使用正则表达式：

```
private static final Pattern PATTERN =
    Pattern.compile("^\\p{Punct}*(.*?)\\p{Punct}*$");

public static String trimPunctuation(String s) {
  Matcher m = PATTERN.matcher(s);
  m.find();
  return m.group(1);
} 
```

边界匹配器`^`并`$`确保匹配整个输入。

点`.`匹配任何单个字符。

星的`*`意思是“匹配前面的东西零次或多次”。

括号`()`定义了一个捕获组，其值通过调用来检索`Matcher.group(1)`。

`?`in`(.*?)`表示您希望匹配*是非贪婪*的，否则尾随标点符号将包含在组中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T05:49:54.977

使用[本](http://www.vogella.com/articles/JavaRegularExpressions/article.html)教程了解模式。您必须创建一个匹配以字母或数字开头并以字母或数字结尾的字符串的正则表达式，然后执行`inputString.matches("regex")`

# sql-server - 如何计算 SQL Server 中列的两行之间的持续时间？

> ID：12506659
> 
> 赞同：0
> 
> 时间：2012-09-20T05:42:28.107
> 
> 标签：sql-server

我在数据库中有这样的数据

```
ID  Server DownTime          ServerStatus
--- -----------------------  ------------
1   2012-03-30 00:00:00.000  1
2   2012-03-30 00:30:00.000  0
3   2012-03-30 01:00:00.000  0
4   2012-03-30 01:30:00.000  0
5   2012-03-30 02:00:00.000  1
6   2012-03-30 02:30:00.000  1
7   2012-03-30 03:00:00.000  0
8   2012-03-30 03:30:00.000  1 
```

我需要一个查询或存储过程，它将给我输出

```
Start Time    EndTime       TotalDownTimeinMinutes
------------  ------------  ----------------------
3/30/12 0:30  3/30/12 2:00  90
3/30/12 3:00  3/30/12 3:30  30 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:06:57.953

```
-- because each "back up" can relate to multiple "down" times,
-- we take the longest period using MIN
 SELECT Min(ServerDownTime) StartTime,
        UpTime EndTime,
        DateDiff(MI, Min(ServerDownTime), UpTime)
   FROM
(
 SELECT Down.ServerDownTime,
      (-- subquery gives you the time when it came back up
       SELECT Top 1 Up.ServerDownTime
         FROM Tbl Up
        WHERE Up.ServerDownTime > Down.ServerDownTime
          AND Up.ServerStatus=1
     ORDER BY Up.ServerDownTime ASC) UpTime
   FROM Tbl Down
  WHERE Down.ServerStatus=0 -- find all the downs
) X
GROUP BY UpTime
ORDER BY UpTime 
```

您可以使用此 DDL 测试上述查询

```
create table Tbl
(
ID int,
ServerDownTime datetime,
ServerStatus bit
)
insert Tbl select
1   ,'2012-03-30 00:00:00.000',  1 union all select
2   ,'2012-03-30 00:30:00.000',  0 union all select
3   ,'2012-03-30 01:00:00.000',  0 union all select
4   ,'2012-03-30 01:30:00.000',  0 union all select
5   ,'2012-03-30 02:00:00.000',  1 union all select
6   ,'2012-03-30 02:30:00.000',  1 union all select
7   ,'2012-03-30 03:00:00.000',  0 union all select
8   ,'2012-03-30 03:30:00.000',  1 
```

或者，如果您在 Web 上并且离 SQL Server 不远，这里有一个[SQL Fiddle](http://sqlfiddle.com/#!3/11263/5/0)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T07:13:49.710

此解决方案基于[递归 CTE](http://msdn.microsoft.com/en-us/library/ms186243%28v=sql.90%29.aspx)：

```
DECLARE @MyTable TABLE (
    ID INT PRIMARY KEY,
    ServerDownTime DATETIME NOT NULL,
        UNIQUE (ServerDownTime),
    ServerStatus BIT NOT NULL
);

INSERT  @MyTable (ID, ServerDownTime, ServerStatus)
SELECT 1,'2012-03-30T00:00:00',1 UNION ALL
SELECT 2,'2012-03-30T00:30:00',0 UNION ALL
SELECT 3,'2012-03-30T01:00:00',0 UNION ALL
SELECT 4,'2012-03-30T01:30:00',0 UNION ALL
SELECT 5,'2012-03-30T02:00:00',1 UNION ALL
SELECT 6,'2012-03-30T02:30:00',1 UNION ALL
SELECT 7,'2012-03-30T03:00:00',0 UNION ALL
SELECT 8,'2012-03-30T03:30:00',1;

WITH Base
AS
(
    SELECT  *, ROW_NUMBER() OVER(ORDER BY t.ServerDownTime) AS RowNum
    FROM    @MyTable t
),  DownTimeGrouping
AS
(
    SELECT  crt.RowNum,
            crt.ID,
            crt.ServerDownTime,
            crt.ServerStatus,
            CASE WHEN crt.ServerStatus=0 THEN 1 END AS GroupID,
            CASE WHEN crt.ServerStatus=0 THEN 1 ELSE 0 END AS LastGroupID
    FROM    Base crt
    WHERE   crt.RowNum=1
    UNION ALL
    SELECT  crt.RowNum,
            crt.ID,
            crt.ServerDownTime,
            crt.ServerStatus,
            CASE 
                WHEN prev.ServerStatus=0 AND crt.ServerStatus IN(0,1) THEN prev.GroupID 
                WHEN prev.ServerStatus=1 AND crt.ServerStatus=0 THEN prev.LastGroupID+1
            END AS GroupID,
            CASE 
                WHEN prev.ServerStatus=0 AND crt.ServerStatus IN(0,1) THEN prev.GroupID 
                WHEN prev.ServerStatus=1 AND crt.ServerStatus=0 THEN prev.LastGroupID+1
                WHEN prev.ServerStatus=1 AND crt.ServerStatus=1 THEN prev.GroupID
            END AS LastGroupID
    FROM    Base crt
    INNER JOIN DownTimeGrouping prev ON crt.RowNum=prev.RowNum+1

)
SELECT  *, DATEDIFF(MINUTE,x.StartTime,x.EndTime) AS MinutesDiff
FROM (
    SELECT  t.GroupID, MIN(t.ServerDownTime) AS StartTime, MAX(t.ServerDownTime) AS EndTime
    FROM    DownTimeGrouping t
    WHERE   t.GroupID IS NOT NULL
    GROUP BY t.GroupID
) x 
```

基本思想是以 ServerStatus=0 行开始并以 ServerStatus=1 行结束的行进行分组。例如，如果您运行此查询，您将看到停机组（列 GroupID）：

```
WITH Base
AS
(...),  DownTimeGrouping
AS
(...)
SELECT  *
FROM    DownTimeGrouping g
ORDER BY g.RowNum

RowNum               ID          ServerDownTime          ServerStatus GroupID     LastGroupID
-------------------- ----------- ----------------------- ------------ ----------- -----------
1                    1           2012-03-30 00:00:00.000 1            NULL        0
2                    2           2012-03-30 00:30:00.000 0            1           1
3                    3           2012-03-30 01:00:00.000 0            1           1
4                    4           2012-03-30 01:30:00.000 0            1           1
5                    5           2012-03-30 02:00:00.000 1            1           1
6                    6           2012-03-30 02:30:00.000 1            NULL        1
7                    7           2012-03-30 03:00:00.000 0            2           2
8                    8           2012-03-30 03:30:00.000 1            2           2 
```

# sql-server-2008 - 这是在 sql server 2008 r2 中实现阻塞查询或 SP 的最佳方式

> ID：12506666
> 
> 赞同：0
> 
> 时间：2012-09-20T05:43:04.700
> 
> 标签：sql-server-2008, sql-server-2008-r2

嗨，我使用的是 SQL Server 2008 R2，我必须执行该过程，例如，如果生产服务器上有任何阻塞，它将立即插入阻塞表中。那么执行此过程的最佳方法是什么？有人能帮帮我吗。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T02:50:23.490

我假设您是说如果您正在运行的查询不能立即执行，那么您想将数据插入到另一个表中（也许稍后再试一次）？

这可能最好在您的应用程序中处理。

例如，在 C#（或任何 .NET 语言）中，`SqlCommand`该类有一个名为[`CommandTimeout`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.commandtimeout.aspx). 您可以将此超时设置为较低的值（例如，1 秒）。如果命令花费的时间超过 1 秒，那么您将捕获`SqlException`引发的内容并执行插入操作。

# redirect - 我从 https 到 https 的 301 重定向不起作用

> ID：12506670
> 
> 赞同：2
> 
> 时间：2012-09-20T05:43:28.807
> 
> 标签：redirect

我在这里找到了一些[类似的](https://stackoverflow.com/questions/8770545/redirect-301-from-domain-com-to-www-domain-com-while-also-forcing-https-in-ht) [请求](https://stackoverflow.com/questions/11164590/is-it-okay-to-send-a-301-redirect-from-https-if-not-in-use)来解释这一点，但我的略有不同，我仍然无法理解它。抱歉，我是新用户，所以我不得不弄乱示例网址，因为我只允许两个。

我有一个带有 SSL 证书的域：**https 冒号 // mysubdomain.myfullurl dotcom**
我也有一个**没有**SSL 的域：**http 冒号 // mysubdomain.mfu dotcom**

有人错误地打印了以下材料：
**https 冒号 // mysubdomain.mfu dotcom/somefolder/**
应该真正转到：
**https 冒号 // mysubdomain.myfullurl dotcom/somefolder/**

我的客户建议我为此链接以及 mfu.com 上的所有流量进行 301 重定向。但是我可以在实际上没有 SSL 证书的 https 上执行 301 吗？

这是我的 htaccess 文件的全部内容，服务器目录中没有其他内容：

```
# Redirect mysubdomain.mfu.com to
# mysubdomain.myfullurl.com
Redirect 301 / https://mysubdomain.myfullurl.com/ 
```

在 url 检查器中，它只能检查 http 重定向（而不是 https），但是当我检查 url 时，它显示的是 302，而不是 301 重定向。

# objective-c - Zbar SDK 在 iOS6 中不工作

> ID：12506671
> 
> 赞同：28
> 
> 时间：2012-09-20T05:43:30.993
> 
> 标签：objective-c, ios6, zbar-sdk

我在 iOS5 中使用 ZBar 进行扫描，效果很好。

现在更新到iOS6后，它无法正常工作。它显示以下错误。

```
 ld: file is universal (3 slices) but does not contain a(n) armv7s slice: /Users/mac4/Desktop/my desktop/My app/MyApp name 20:09:12  /MyApp name/ZBarSDK/libzbar.a for architecture armv7s
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

我这边有什么问题？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-09-20T16:42:54.490

在 Xcode 中，转到目标的设置，更改 ' `Valid Architectures`'

从

```
armv7,armv7s 
```

到

```
armv7 
```

此更改意味着您的应用程序将无法利用新 iPhone5 处理器可能进行的优化，但您不必等待 3rd 方库升级或弄乱十六进制编辑器。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-09-24T08:25:13.547

我最近遇到了同样的问题。问题似乎是 ZBar SDK 还没有为 armv7s 架构做好准备。

我这样解决了这个问题：

1.  转到 ZBar 主页并导航到 mercurial 存储库（[直接链接](http://zbar.hg.sourceforge.net/hgweb/zbar)）
2.  以 zip 格式下载 zbar 存储库。
3.  解压缩文件并导航到名为“iphone”的子文件夹。
4.  打开 XCode 项目。
5.  删除“示例”文件夹（该文件夹在我的机器上导致构建错误）。
6.  点击“CMD + B”并构建源代码。
7.  找到新的 libzbar.a 文件。（用户/库/开发人员/Xcode/DerivedData/zbar ...）
8.  将项目中的旧 libzbar.a 文件替换为新文件。
9.  点击“CMD + R”，你就可以走了。

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2013-03-29T16:11:32.367

hg 源代码下载/重新编译教程很棒，但你不需要做所有这些。

只需浏览到[http://sourceforge.net/projects/zbar/files/iPhoneSDK/beta/](http://sourceforge.net/projects/zbar/files/iPhoneSDK/beta/)并下载 ZBarSDK-1.3.1.dmg，一切都将适用于最新架构（在我的例子中是 armv7、armv7s ）。

**更新：**

你们中的一些人报告了 XCode 5、iOS 7 或架构 arm64 上的 ZBarSDK 问题......好吧，我今天回到这个项目并遇到了类似的问题，发现有一个 ZBarSDK 库被编译为与 iOS 7 一起使用：[http ://www.nerdvision.net/app-development/ios/zbar-sdk](http://www.nerdvision.net/app-development/ios/zbar-sdk)。我刚刚用新文件替换了旧文件并编译了我的项目。请注意，我项目的 Build Settings 中的 Architectures 设置为 amrv7、arm64 ($ARCHS_STANDARD)，Base SDK 设置为 iOS 8.0，并且我将 Build Active Architectures Only 标志设置为 Yes。

这里有一个关于这个的问题：[zbar SDK dont work for armv7s(iPad 4 iOS 7)](https://stackoverflow.com/questions/19361470/zbar-sdk-dont-work-for-armv7sipad-4-ios-7)

感谢@cdescous 的提示！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-22T10:50:31.027

我有同样的问题，但我刚刚添加`armv6`，`armv7`然后它适用于 iOS6。只需插入`armv6`.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-20T09:14:59.670

您的二进制库没有 armv7s 的代码。所以你应该为当前的架构重新编译它。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-11-08T06:52:00.883

重新编译源代码，我下载了zbar的源代码并编译成新项目。这很简单。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-18T13:30:07.463

克隆 Mercurial 存储库并使用 Xcode 构建。这很容易。这是存储库的链接：

[http://zbar.hg.sourceforge.net/hgweb/zbar/iphone/summary](http://zbar.hg.sourceforge.net/hgweb/zbar/iphone/summary)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-09-02T21:20:19.797

下载他的博客中提供的教程代码 RDC 后来到这里，遇到了同样的问题。非常有用的帖子，但这里最有帮助的答案是 RacZo 于 3/29 发布的。我刚刚下载了原始的 ZBarSDK-1.3.1.dmg 图像，从我的项目中删除了 ZBarSDK 并替换为原始图像。完毕。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-12-10T22:32:31.243

我正在学习IOS开发。经过几天的挖掘，

这里是安装 ZBar SDK 的[教程](http://zbar.sourceforge.net/iphone/sdkdoc/tutorial.html)。

1，接受的答案是正确的，但有一些限制。（试过了，有效！）

2，替代解决方案在[这里](http://www.federicocappelli.net/2012/10/05/zbar-library-for-iphone-5-armv7s/)。（试过了，有效！）

3，最好的方法是构建所有不同的架构，然后使用 lipo 绑定它们：[很棒的解决方案](http://blog.diogot.com/blog/2013/09/18/static-libs-with-support-to-ios-5-and-arm64/)（尝试过，很棒！）

了解这些架构的一些阅读材料：

[http://wanderingcoder.net/2010/07/19/ought-arm/](http://wanderingcoder.net/2010/07/19/ought-arm/)

[http://wanderingcoder.net/2011/09/25/compiling-armv7/](http://wanderingcoder.net/2011/09/25/compiling-armv7/)

# jsf - JSF 中的组件绑定是什么？何时首选使用？

> ID：12506679
> 
> 赞同：23
> 
> 时间：2012-09-20T05:44:10.177
> 
> 标签：jsf, binding, components

我`binding`在以下问题中阅读了有关与属性的组件绑定的信息：

*   [JSF 组件绑定 - 一些混乱](https://stackoverflow.com/questions/9929518/jsf-component-binding-some-confusion)
*   [组件绑定与 findComponent() - 何时使用哪个？](https://stackoverflow.com/questions/12474004/component-binding-vs-findcomponent-when-to-use-which/12477407#comment16811683_12477407)

我知道它将视图中 JSF 标记后面的 UI 组件绑定到`UIComponent`支持 bean 中的属性。但是，我很困惑组件绑定的用途是什么以及何时应该使用它。有人可以用更简单的方式解释它并给出一些实际的例子吗？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-09-20T12:34:37.770

如果你想访问*整个* `UIComponent`而不是仅仅访问它的值，你应该使用它。例如，访问一些无法在视图中调用/绑定的方法。这在您发现的第一个问题中得到了回答：[JSF 组件绑定 - 一些混乱](https://stackoverflow.com/questions/9929518/jsf-component-binding-some-confusion)

您发现的第二个问题，[组件绑定与 findComponent() - 何时使用哪个？](https://stackoverflow.com/questions/12474004/component-binding-vs-findcomponent-when-to-use-which/12477407)，只是回答*“`binding`对`findComponent()`”*，它根本不像你想的那样回答*“`binding`对`value`” 。*请不要对此感到困惑。*`value`*显然会赢得胜利*`binding`*。

在现实世界的代码中，组件绑定到支持 bean 通常仅在开发人员需要通过例如`component.getChildren().add(...)`. 但是，该 bean 应该是请求范围的。更广泛的范围可能会导致不一致，因为组件实例基本上是在每个请求的基础上创建的，不应该在多个请求之间共享。视图范围也可以，但是这样内存效率非常低，并且在 2.1.18 之前的 Mojarra 版本上，还必须关闭部分状态保存，否则`binding`将在每个请求上隐式地重新创建所引用的视图范围 bean 实例。另请参阅[JSF2 Facelets 中的 JSTL... 有意义吗？](https://stackoverflow.com/questions/3342984/jstl-in-jsf2-facelets-makes-sense/3343681#3343681)以获得相关答案。

也可以将组件绑定到“视图”。例如

```
<h:someComponent binding="#{some}"> 
```

这指的`UIComponent`是 Facelet 范围（“页面范围”）中的一个实例。例如`#{some.clientId}`，这使您可以`#{some.value}`在同一页面的其他地方使用。请注意，此处不涉及支持 bean。另请参见[没有 bean 属性的 JSF 组件绑定](https://stackoverflow.com/questions/8168302/jsf-component-binding-without-bean-property)。

以下是一些现实世界使用的`binding`属性设备：

*   [通过第一个文本字段的 ajax 进行数据验证后禁用第二个文本字段](https://stackoverflow.com/questions/9589063/disabling-second-text-field-after-data-validation-through-ajax-of-first-text-fie)
*   [检查哪个表单有错误](https://stackoverflow.com/questions/11580722/jsf-2-check-which-form-has-an-error)
*   [基于下拉列表选择的输入文本验证](https://stackoverflow.com/questions/8263909/input-text-validation-based-on-drop-down-list-selection)
*   [如何让验证取决于按下的按钮？](https://stackoverflow.com/questions/8370675/how-to-let-validation-depend-on-the-pressed-button)
*   [如何在 h:dataTable 中实现行编号](https://stackoverflow.com/questions/10300514/how-to-implement-row-numbering-into-hdatatable)
*   [使用 f:convertDateTime 将 java.util.Date 拆分为两个表示小时和分钟的 h:inputText 字段](https://stackoverflow.com/questions/17235721/split-java-util-date-over-two-hinputtext-fields-representing-hour-and-minute-wi/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T07:32:47.347

阅读这个答案：

[在 JSF 中使用绑定属性有什么好处？](https://stackoverflow.com/questions/4532955/what-is-the-advantages-of-using-binding-attribute-in-jsf)

但是，社区中很多人不建议绑定。例如看这篇文章：

[http://drewdev.blogspot.com/2009/01/jsf-component-binding-stinks.html](http://drewdev.blogspot.com/2009/01/jsf-component-binding-stinks.html)

# go - 将地图附加到 Go 中的地图

> ID：12506685
> 
> 赞同：0
> 
> 时间：2012-09-20T05:44:46.403
> 
> 标签：go

我正在尝试构建一个看起来像这样的 map[string]map[string]string：

```
{ "notes": 
    {
    "Title":note.Title,
    "Body":note.Body,
    },
    {
    "Title":note.Title,
    "Body":note.Body,
    },
    {
    "Title":note.Title,
    "Body":note.Body,
    },
} 
```

来自结构（注释）的结构（注释）

我想过这样做：

```
for _, note := range notes {
        thisNote := map[string]string{
            "Title":note.Title,
            "Body":note.Body,
        }

        content["notes"] = append(content["notes"], thisNote)
} 
```

但显然这不起作用，因为我试图将地图附加到地图而不是切片。

我错过了一个非常简单的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:04:24.343

感谢[Running Wild](https://stackoverflow.com/users/1296466/running-wild)的回答，它在评论中，但我想我会在这里为任何尝试做同样事情的人添加它。

问题是我需要做一个`map[string][]map[string]string`而不是`map[string]map[string]string`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T12:12:03.417

我很确定你可以使用这样的结构，因为 mustache 接收数据作为`interface{}`

```
func handler(w http.ResponseWriter, r *http.Request) {
    var data struct {
        Notes []*Note
    }

    notes := ...
    data.Notes = notes
    tmpl := ...
    templ.Render(data, w)
} 
```

# jquery - 从元素中获取数字并用 span 换行

> ID：12506687
> 
> 赞同：1
> 
> 时间：2012-09-20T05:44:57.753
> 
> 标签：jquery, css, text, textnode

我希望缩进一个数字，但是从我的 cms 生成的 html 我似乎无法连接到数字并应用样式。

```
<div class="content">
<b>01\. Header</b>
Lorem ipsum dolor sit amet, consectetur 
adipisicing elit, anim odio hic autem 
delectus qui labore rerum irure autem 
</div> 
```

我想将数字包装在一个跨度中。所有的内容都是一样的。02.[空格]标题

```
<div class="content">
<span="indent">01\. </span><b>Header</b>
Lorem ipsum dolor sit amet, consectetur 
adipisicing elit, anim odio hic autem 
delectus qui labore rerum irure autem 
</div>

.indent{
    margin-left: -30px;
} 
```

这是我开始的内容，但我似乎无法将其修剪为前 3 个字符，包括空格。

```
 $('.content b').each(function() {
var tmp = [],
    collecting = false;

$(this).contents().each(function() {
    if (this.nodeType === Node.TEXT_NODE && $.trim(this.nodeValue).length > 0) {
        if (collecting) {
            tmp.push(this);
            return false;
        }
        else {
            collecting = true;
        }
    }

    if (collecting) {
        tmp.push(this);
    }
});

$(tmp).wrapAll('<span class="indent" />');
});​ 
```

[http://jsfiddle.net/hGeuZ/](http://jsfiddle.net/hGeuZ/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:10:31.067

```
$("b").each(function() {
   var $title = $(this).html();
   var spaceIndex = $title.indexOf(" ");
   var num = $title.substring(0, spaceIndex+1);
   var text = $title.substring(spaceIndex+1, $title.length)
   console.log(num+text);
   num = '<span class="indent">'+ num + '</span>';
   $(this).html(num + text);   

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T08:56:37.460

为此，我建议的一种方法是：

```
$('.content b:first-child').replaceWith(
    function(i,h){
        return h.replace(/(\d+.\s)([\d\D]*)/g,'<span class="indent">$1</span><b>$2</b>');
    });​ 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/FQPxF/1/)。

如果 CSS 是一个选项：

```
.content {
    counter-increment: headerNumber;
}

.content b:first-child::before {
    content: counter(headerNumber, decimal-leading-zero);
    padding-right: 2em;
    color: #f90;
}​ 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/FQPxF/2/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:54:45.943

这不是最正统的解决方案，但它可能适合您的需求：

```
$('.content b').each(function () {
    var result = $(this).text().replace(/([0-9]+\.)/, '<span class="indent">$1</span>');
    $(this).html(result).find('.indent').remove().insertBefore(this);
});​ 
```

[http://jsfiddle.net/hGeuZ/10/](http://jsfiddle.net/hGeuZ/10/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T05:52:14.387

你可以试试这个方法

```
$('.content b').each(function () {
   var txtArr = $(this).text().split(' ');

    $(this).before('<span class="indent">'+txtArr [0]+'</span>')

    txtArr.shift()
    $(this).text(txtArr.join(' '))

}); 
```

这是演示，[http://jsfiddle.net/hGeuZ/19/](http://jsfiddle.net/hGeuZ/19/)

# mysql - mysql：CONVERT() 函数无法将 GROUP_CONCAT() 中的字节转换为 VARCHAR

> ID：12506690
> 
> 赞同：0
> 
> 时间：2012-09-20T05:45:24.777
> 
> 标签：mysql, sql

我正在使用 mysql 的`GROUP_CONCAT()`查询之一。但我以字节为单位获取数据。要将字节转换为`VARCHAR`我使用了该`CONVERT()`函数。但即使在那之后我也没有看到任何区别。我仍然以字节为单位获取数据。

以下是我尝试过的：

```
CONVERT(GROUP_CONCAT((T1.CASE NODE_ID WHEN 103 THEN CONCAT(T1.CUSTOMER_ATTRIBUTE,'~',T2.DISPLAY_TEXT) ELSE NULL END)) USING LATIN1)AS HEADER, 
```

但我得到的输出为：

```
HEADER
----------
Name [4B] 
```

需要帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:26:42.670

这是因为不同的类型被传递到 CONCAT 函数中。MySQL 将它们转换为适当的类型，在您的情况下是 BLOB 或其他类型。

解决方案是将所有非字符串类型转换为字符串，或者只将 CONCAT 函数的结果转换为字符串一次。例如 -

```
SELECT CAST(CONCAT(id, '~', column1, column2) AS CHAR) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:53:49.150

像这样使用 CONCAT(GROUP_CONCAT(your_column)) 这将作为字符串作为输出

干杯..

# django - 想要在 django 登录中使用不同的查找参数

> ID：12506691
> 
> 赞同：0
> 
> 时间：2012-09-20T05:45:35.153
> 
> 标签：django, django-views, django-authentication

我正在使用 django 并具有电子邮件验证功能，因此当有人验证电子邮件时，我会通过设置状态来激活他/她的帐户。如果有人将其他人的电子邮件地址发送给其他人，那么他将无法验证并且无法使用该电子邮件地址登录。所以我期待 django 在登录时查看用户的状态，因为这个状态字段在 django auth 应用程序的表中。在登录时，django 尝试仅使用用户名参数登录。所以登录时它说：

```
MultipleObjectsReturned at /accounts/login/
 get() returned more than one User -- it returned 2! Lookup parameters were {'username': u'kaasib122@gmail.com'} 
```

有没有办法在查找中添加状态字段？是否有一些配置，或者我需要为此编写某种登录后端？或者我应该以某种不同的方式为登录表编写自己的视图？推荐的方式是什么？另外我正在考虑让用户在用户名字段中使用电子邮件或用户名登录。那么推荐的方式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:42:51.260

您需要编写一个适合您需求的身份验证后端。查看[django 文档](https://docs.djangoproject.com/en/dev/topics/auth/#writing-an-authentication-backend)。

基本上，您将需要编写一个“身份验证”方法，该方法将在过滤器参数中使用“状态”。对于使用电子邮件或用户名，您基本上可以过滤一个字段（用户名或电子邮件），如果没有为该字段返回用户对象，则过滤另一个。或者，您可以通过对这些字段进行 ORing 来让用户进入单个过滤器。这是一个伪代码：

```
from django.contrib.auth.backends import ModelBackend
from django.contrib.auth.models import User

class AuthenticationBackend(ModelBackend):
    def authenticate(self, username=None, password=None):
        try:
            user = User.objects.get(email=username, status=True)
        except User.DoesNotExist:
            try:
                user = User.objects.get(username=username, status=True)
            except User.DoesNotExist:
                return None
        # check password too
        if user.check_password(password):
            return user
        return None 
```

请注意，当您编写新的身份验证后端时，您需要将其添加到 settings.py 中的 AUTHENTICATION_BACKENDS 参数才能使用。如果您不需要 Django 提供的默认值，因为您已经自定义了它，只需覆盖该参数，无需添加到元组中。

# iphone - 带有 CGColorRef 的 ARC

> ID：12506698
> 
> 赞同：1
> 
> 时间：2012-09-20T05:46:25.513
> 
> 标签：iphone, automatic-ref-counting

我还在习惯 ARC 和桥牌。我在有关 CGColor 的文档中看到了这一点

> 编译器处理从 Cocoa 方法返回的 CF 对象 编译器理解返回核心基础类型的 Objective-C 方法遵循历史 Cocoa 命名约定（请参阅高级内存管理编程指南）。例如，编译器知道，在 iOS 中，由 UIColor 的 CGColor 方法返回的 CGColor 是不拥有的。您仍然必须使用适当的类型转换，如下例所示：

```
NSMutableArray *colors = [NSMutableArray arrayWithObject:(id)[[UIColor darkGrayColor] CGColor]];
[colors addObject:(id)[[UIColor lightGrayColor] CGColor]]; 
```

所以在我的代码中，我尝试了这个：

```
gradientLayer.backgroundColor = (id)([UIColor clearColor].CGColor)); 
```

我收到了关于 ARC 的编译器警告，需要使用桥接转换。我还是不明白为什么。当我点击“Fix-It”时，它给了我这个：

```
gradientLayer.backgroundColor = (__bridge CGColorRef)((__bridge id)([UIColor clearColor].CGColor)); 
```

我不明白。这是什么意思？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T06:03:21.097

只需使用`gradientLayer.backgroundColor = [UIColor clearColor].CGColor;`as`.CGColor`已经是`CGColorRef`. 您的最后一个代码进行了从 a`CGColorRef`到 a 的强制转换`id`。

# ios - 应用因邮件被拒绝

> ID：12506700
> 
> 赞同：0
> 
> 时间：2012-09-20T05:46:35.947
> 
> 标签：ios, iphone, appstore-approval, mfmailcomposer

我的应用被拒绝了，原因如下：-

```
Did not integrate with iOS features. For example, the email button should enable users to compose emails in the app rather than launching the Mail app. 
```

我没有得到他们想要的。我用过`MFMailComposer`类，有什么问题吗？任何建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T05:51:35.983

你是这样做的吗：

```
- (IBAction)pushMail:(id)sender { //A button that initiates composition
    MFMailComposeViewController* controller = [[MFMailComposeViewController alloc] init];
    controller.mailComposeDelegate = self;
    [controller setSubject:@"My Mail Subject"];
    if (controller) [self presentModalViewController:controller animated:YES];
    [controller release];
}
- (void)mailComposeController:(MFMailComposeViewController*)controller  
          didFinishWithResult:(MFMailComposeResult)result 
                        error:(NSError*)error;
{
    if (result == MFMailComposeResultSent) {
        NSLog(@"It's away!");
    }
    [self dismissModalViewControllerAnimated:YES];
} 
```

我认为你必须使用`MSMailComposeViewController`（如我在上面的例子中）做你想做的事。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:49:16.740

> ...电子邮件按钮应该使用户能够在应用程序中撰写电子邮件...

他们的意思是你的程序应该允许人们撰写电子邮件，而不是打开 Mail.app。

# php - 如何从两个不同的路径删除php中的相同cookie

> ID：12506702
> 
> 赞同：2
> 
> 时间：2012-09-20T05:46:42.343
> 
> 标签：php, cookies

我的问题是我想从与设置 cookie 的页面位于不同目录的页面中删除 cookie，但由于路径限制，PHP 没有删除 cookie。有没有人有任何解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:02:50.043

设置和删除 cookie 时，传递相同的路径：

```
setcookie('cookie_name', "SOME_VALUE", time()+3600, '/');   //to set

setcookie('cookie_name', "", -1, '/');            //to unset 
```

[http://php.net/manual/en/function.setcookie.php](http://php.net/manual/en/function.setcookie.php)

[http://www.phpbuddy.com/article.php?id=12](http://www.phpbuddy.com/article.php?id=12)

# iphone - 调用 UIGraphicsBeginImageContext 后如何保存 CGContextRef？

> ID：12506703
> 
> 赞同：1
> 
> 时间：2012-09-20T05:46:44.077
> 
> 标签：iphone, ios

我希望能够保存`CGContextRef`调用后的调用`UIGraphicsBeginImageContext`，以便稍后在后台线程中使用它，该线程负责每 1/25 秒发送一次图像。

`UIGraphicsBeginImageContext`每次从后台线程调用选择器时我遇到的问题是创建上下文需要时间，而且我无法每 1/25 秒绘制一次图像。

我尝试使用`CGBitmapContextCreate`，但我没有得到与由`UIGraphicsBeginImageContext()-->[image drawInRect]`

我尝试在它之后调用`UIGraphicsBeginImageContext`并`viewDidLoad`保存`CGContextRef`它，以便我可以在以后的调用中使用它，但是上下文以某种方式被释放，所以我`CGContextDrawImage: invalid context 0x0`在调用后立即得到“”错误`[image drawInRect]` ，而我从中得到的图像`UIGraphicsGetImageFromCurrentImageContext()`是`null`之后的。

是否可以在应用程序的整个生命周期中开始使用单个图像上下文？如果是，如何？否则请告知是否还有其他选项可以保存我的上下文。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T05:53:31.247

首先，在一个线程上创建图形上下文然后将其传递给不同的线程是一个令人困惑的问题。首先在后台线程上创建图形上下文。

其次，由于`UIGraphicsBeginImageContext`操纵 UIKit 的图形上下文堆栈，因此尝试保存`CGContext`它创建的并在以后使用它会令人困惑（大概在您调用之后`UIGraphicsEndImageContext`）。如果您保留`CGContextRef`;它可能会起作用 我没试过。

你应该做的只是直接使用 Core Graphics APIs。使用 创建您的上下文，使用从中`CGBitmapContextCreate`获取 a ，并在必要时将其转换为使用。`CGImage``CGBitmapContextCreateImage``CGImage``UIImage``+[UIImage imageWithCGImage:]`

# java - 为什么Java中哈希表（Hashtable）中的't'没有大写

> ID：12506706
> 
> 赞同：8
> 
> 时间：2012-09-20T05:47:27.027
> 
> 标签：java, hashtable, capitalization

Java 中的所有内容似乎都遵循大写规则，除了 Hashtable。

```
Hashtable<String, String> ht = new Hashtable<String, String>(); 
```

与

```
ArrayList<String> a = new ArrayList<String>(); 
```

或者

```
HashMap<String,Integer> a = new HashMap<String,Integer>(); 
```

为什么是这样 ？哈希表是否只是一个单词（哈希表）？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-20T05:51:46.083

`Hashtable`是在 Java v1 中创建的。集合的一致命名约定是后来在 Java2 中建立的，当时其他类作为全新 Java 集合框架的一部分发布。

顺便说一句`Hashtable`，它已经过时了，所以它不应该在新代码中使用。

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:54:00.273

虽然这个问题没有技术价值，但我不得不承认，我已经问过自己好几次了:)

我的版本是，与 List (ArrayList)、Set (HashSet) 不同，Map (Tree/HashMap) 表不是数据结构。

当然（可能已知）Hashtable 类是在集合框架（在 java 1.0 中）之前创建的。所以也许那时他们并没有真正考虑过相同的命名约定。一般来说，我们最好使用 java 2+ 的集合框架:)

# php - 来自 php 的 ssh 连接

> ID：12506711
> 
> 赞同：3
> 
> 时间：2012-09-20T05:47:40.157
> 
> 标签：php, putty

我需要使用用户在我的网络表单中输入的用户名 ssh 到服务器。

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T05:59:02.930

如果您的意思是“如何通过 SSH 从我的网站连接（到另一台服务器）”，那么您可以使用 PECL ssh2 库来执行此操作。

见： http: [//pecl.php.net/package/ssh2](http://pecl.php.net/package/ssh2)

演练（未经测试）： http: [//kevin.vanzonneveld.net/techblog/article/make_ssh_connections_with_php/](http://kevin.vanzonneveld.net/techblog/article/make_ssh_connections_with_php/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T06:00:10.340

起初，没有 PuTTy 命令。这些是 shell 命令。

要在 shell 中运行 PHP 脚本，您需要使用 php-cli：

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T05:54:36.970

也许你可以在 PHP 中使用命令行脚本，这取决于你想要什么。[http://php.net/manual/en/features.commandline.php](http://php.net/manual/en/features.commandline.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T06:27:26.970

我不确定，但我认为（如果我错了，请纠正我）您想单击网页上某个链接上的某个位置并打开 putty（在用户计算机上）以连接到服务器。

您可以将 Putty 配置为处理**ssh://**链接。怎么做你可以在[这里](http://schipka.com/archives/34)找到。

配置完成后，您所要做的就是拥有一个类似于此的链接：

```
<a href="ssh://user@remoteServer">Click here to connect</a> 
```

*请记住，这仅适用于配置为处理 ssh:// 链接类型的系统*

我希望这能回答你的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-10T16:23:38.823

这就是您通过 PHP 使用 putty 的方式（不依赖于 cli）。请注意，密码不受保护，交互式 ssh 会话将涉及更多。但是，HTTPS 和 mcrypt（如果需要存储密码和/或 bash 脚本）可以使其成为一个安全的解决方案。

```
<?php
// EDIT: added escapeshellcmd() to following vars
$user = escapeshellcmd($_POST['user']);  // username
$host = escapeshellcmd($_POST['host']);  // domain
$pass = escapeshellcmd($_POST['pass']);  // password

// create a string that will be loaded into a bash file for putty
// String can easily be made dynamically.
$bash_sh = <<<EOF                   #START OF BASH
\#!/bin/bash    
echo "BASH ON SSHD SIDE"
for (( i=1; i<=5; i++ ))            # BASH FOR LOOP
do
   echo "echo \$i times in bash"    #\$i is BASH not PHP, so have to escape
done
EOF;                                #END OF BASH

// creates a temp file called 'bash.sh' using the bash script above
file_put_contents("bash.sh", $bash_sh);

// executes putty using the args -ssh, -pw, -t, -m
// -ssh tells putty to use ssh protocol
// -pw tells putty to enter the password automaticaly
// -t tells putty to use a psudo terminal.
// -m tells putty read and execute bash.sh once logged in
exec("putty.exe -ssh ".$user."@".$host." -pw ".$pass." -t -m bash.sh");

// delete bash file since it has been sent
unlink('bash.sh');

?> 
```

# c# - 我需要一个复杂的模板，可以用来列出一组相似的内容

> ID：12506713
> 
> 赞同：0
> 
> 时间：2012-09-20T05:48:03.563
> 
> 标签：c#, asp.net, backbone.js

我想在我的网页上列出一组类似的模板（其中包含特定布局中的照片、文本和超链接）。

![在此处输入图像描述](../Images/e5af9c8657ddcd8741c1d56dc193d6c8.png)

所以我想知道一些技术可以让我有能力开发自己的模板，这样我就可以为这个模板提供照片、文本和超链接的路径，并且模板会安排布局。

我正在考虑使用 Customer Control + Repeater 来完成这项工作。但我认为可能还有其他一些非常出色的技术可以以更简单的方式做同样的事情。

我很想看到技术和代码的名称来演示如何使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T07:07:41.313

使用 ASP.NET，repeater 是不错的选择，您可以轻松构建任何类型的模板。您也可以使用服务器端标签。

如果你愿意在客户端绑定你的数据，有很多客户端技术可以用来绑定Json数据，比如Jquery模板、Knockout.js等（你也可以探索其他的客户端数据绑定技术，比如backbone.js）。 js、ember.js、batman.js）

[这](http://paulhammant.com/2012/02/13/client-side-mvc-frameworks-compared/)是技术和示例的列表。

另一个关于 Javascript 框架的好读物：

[http://blog.stevensanderson.com/2012/08/01/rich-javascript-applications-the-seven-frameworks-throne-of-js-2012/](http://blog.stevensanderson.com/2012/08/01/rich-javascript-applications-the-seven-frameworks-throne-of-js-2012/)

# c# - StringBuilder 查找字符串读取和替换

> ID：12506717
> 
> 赞同：0
> 
> 时间：2012-09-20T05:48:28.057
> 
> 标签：c#, c#-4.0

我已经阅读了一个作为字符串生成器的 html 文件。现在我想在 h1、h2 和 h3 之间放置锚标记并提供不同的 id 和 href 链接。那么我怎样才能做到这一点。我想做以下事情。我已经尝试过`Sb.Replace("<h1>", "<h1> <a id=1>");` ，但我不能给锚标签提供唯一的 ID。那么我怎样才能读取所有 h1、h2 和 h3 并放置锚标签并为锚标签提供唯一的 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:02:18.343

您可以`Regex.Replace`在`System.Text.RegularExpressions`命名空间中调用并定义一个自定义`MatchEvaluator`回调，您可以在其中分配新的 id。

类似于以下内容：

```
var regHeaders = new Regex(@"<(?<close>/)?h(?<header>\d)\s*>", RegexOptions.Compiled | RegexOptions.IgnoreCase);
var replaced = regHeaders.Replace(sb.ToString(), new MatchEvaluator(EvaluateHeaders)); 
```

并像这样定义 EvaluateHeaders 回调：

```
private static string EvaluateHeaders(Match m)
{
    bool closeTag = m.Groups["close"].Success;
    switch (int.Parse(m.Groups["header"].Value))
    {
        case 1: // h1
            return closeTag ? "</a></h1>" : "<h1><a href=\"header1\">Header1";
        // todo: your own implementation of the various other headers.
        default:
            return m.Value;
    }
} 
```

**编辑**
根据您的最新评论，我已将代码更改为以下内容：

```
var regHeaders = new Regex(@"<h(?<header>\d)\s*>(?<content>.+?)</h\1>", RegexOptions.Compiled | RegexOptions.IgnoreCase | RegexOptions.Singleline);
var replaced = regHeaders.Replace(sb.ToString(), EvaluateHeaders);

private static string EvaluateHeaders(Match m)
{
    switch(int.Parse(m.Groups["header"].Value))
    {
        case 1: // <h1>content</h1>
            return string.Format("<h1><a href=\"#\" id=\"{0}\">{0}</a><h1>", m.Groups["content"].Value);
        default:
            return m.Value;
    }
} 
```

# c# - 如何将 ObservableCollection 绑定到 Listpicker

> ID：12506721
> 
> 赞同：0
> 
> 时间：2012-09-20T05:49:01.260
> 
> 标签：c#, windows-phone-7, xaml, data-binding, silverlight-toolkit

我正在尝试将 ObservableCollection 项目绑定到 Windows Phone 的 Silverlight 工具包中的 ListPicker。我以前做过，但在我现在的情况下，我的 ObservableCollection 包含来自自定义类的项目。我不知道如何让类的每个属性（每个项目）绑定到我的 ListPicker。为了更好地说明我所拥有的内容如下：

主页.xaml

```
<Grid.Resources>
        <DataTemplate x:Name="SearchProviderItemTemplate">
            <StackPanel Orientation="Horizontal">
                <Image Source="{Binding Favicon}" />
                <TextBlock Text="{Binding Name}" Margin="12,0,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Name="SearchProviderFullModeItemTemplate">
            <StackPanel Orientation="Horizontal">
                <Image Source="{Binding Favicon}" />
                <TextBlock Text="{Binding Name}" Margin="12,0,0,0"/>
            </StackPanel>
        </DataTemplate>
</Grid.Resources>

<toolkit:ListPicker x:Name="SearchProviderListPicker" ItemsSource="{Binding SearchProvider}" Margin="12,0,12,0" 
                            Header="Search provider" ItemTemplate="{Binding SearchProviderItemTemplate}"
                            FullModeHeader="Search provider" FullModeItemTemplate="{Binding SearchProviderFullModeItemTemplate}"
                            SelectedIndex="{Binding}"
                            SelectionChanged="SearchProviderListPicker_SelectionChanged" 
                            CacheMode="BitmapCache"/> 
```

MainPage.xaml.cs

```
public MainPage()
    {
        InitializeComponent();

        //This data is placed here for convenience right now
        ListItem Bing = new ListItem { Favicon = "", Name = "Bing", Address = "http://www.bing.com/search?q=" };
        ListItem Google = new ListItem { Favicon = "", Name = "Google", Address = "http://www.google.com/search?q=" };
        ListItem Yahoo = new ListItem { Favicon = "", Name = "Yahoo", Address = "http://search.yahoo.com/search?p=" };
        ListItem Ask = new ListItem { Favicon = "", Name = "Ask", Address = "http://www.ask.com/web?q=" };
        ListItem Aol = new ListItem { Favicon = "", Name = "AOL", Address = "http://search.aol.com/search?q=" };

        Settings.SearchProvider.Value.Add(Bing);
        Settings.SearchProvider.Value.Add(Google);
        Settings.SearchProvider.Value.Add(Yahoo);
        Settings.SearchProvider.Value.Add(Ask);
        Settings.SearchProvider.Value.Add(Aol);

        // Set the data context of the SearchProviderListPicker control to the data
        DataContext = App.ViewModel;
    } 
```

主视图模型.cs

```
 public ObservableCollection<ListItem> SearchProvider { get; private set; }

    public MainViewModel()
    {
        SearchProvider = Settings.SearchProvider.Value;
    } 
```

上面引用的 Settings 类用于将`SearchProvider`ObservableCollection 存储在隔离存储中。

设置.cs

```
public static Setting<ObservableCollection<ListItem>> SearchProvider = new Setting<ObservableCollection<ListItem>>("SearchProvider", new ObservableCollection<ListItem>()); 
```

Setting 类从隔离存储中保存和获取数据。此外，我的自定义 ListItem 类演示了我需要使用的属性。

列表项.cs

```
public string Favicon
    {
        get;
        set;
    }

    public string Name
    {
        get;
        set;
    }

    public string Address
    {
        get;
        set;
    } 
```

所以基本上每个`SearchProvider`ObservableCollection 项目都包含`Favicon, Name, and Address`我需要使用的，我只想将`Favicon`and绑定`Name`到 ListPicker。不过，我的问题是 ListPicker 提供了 5 个搜索提供程序，但每个搜索提供程序的文本都说明`Project1.Common.ListItem`了 ListItem 类在我的 Common 文件夹中的位置。我不能将这些正确绑定到视图，但我不知道如何正确完成此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:32:02.547

您的 ListPicker 的模板是 Grid.Resources 中定义的静态资源

因此，您必须像这样更改 ListPicker xaml 代码

```
ItemTemplate="{Binding SearchProviderItemTemplate}"
FullModeItemTemplate="{Binding SearchProviderFullModeItemTemplate}" 
```

将以上两个属性替换为以下

```
ItemTemplate="{StaticResource SearchProviderItemTemplate}"
FullModeItemTemplate="{StaticResource SearchProviderFullModeItemTemplate}" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T21:25:14.860

如果您收到“Project1.Common.ListItem”作为文本，这意味着您的绑定是正确的，但您的模板有问题。

第一个更正如上所示，当您引用模板时，您需要使用“StaticResource”而不是“Binding”。

请重新检查您的模板是否有任何拼写错误等。

如果我是你，我会首先尝试在不使用设置类的情况下使其工作，看看是否有帮助

# android - 有没有办法以 xml 或任何其他格式获取横幅输出？

> ID：12506724
> 
> 赞同：0
> 
> 时间：2012-09-20T05:49:08.787
> 
> 标签：android, admob

有人知道如何以 xml/JSON 格式而不是 HTML 格式获取 AdMob 横幅输出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T02:32:08.817

AdMob 在 WebView 中为您提供包含 HTML 的广告。您无法控制此内容，无论如何它都会是 HTML。所以不，这不适用于 AdMob SDK。

# sql - SQL 性能是否会随着“IN”子句中元素数量的增加而降低？

> ID：12506726
> 
> 赞同：4
> 
> 时间：2012-09-20T05:49:19.003
> 
> 标签：sql, sql-server, where-in

我有一个这样的查询，

```
SELECT Name FROM Customers WHERE Id IN (1,4,3,6,7) 
```

数据库中可能有数百万客户。这个查询会有效率问题吗？当 IN 语句中的 Id 数量更多时？如果是这样，为什么和任何解决方法？

我使用 SQLServer。下面是我的表结构

```
Id|Name|Designation 
```

Id 是主键-非聚集索引。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:53:22.837

此查询尽可能基本。
如果你需要找到 5 个客户的名字，根本没有其他理智的写法。

如果你有一个关于 ID 的索引，它将表现良好。性能几乎是瞬时的，与 IN 子句中的项目数直接相关。

如果不这样做，它将扫描表，性能与表中的记录数直接相关。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T05:52:24.370

假设您已正确索引该`Id`列，则应该没有问题。那是正确的方法，如果它不起作用，你需要一个新的数据库。（对于大多数常规软件来说，数百万应该不是问题；如果您达到数十亿，您可能需要研究集群数据库）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T06:17:27.500

如果您执行以下查询：

```
select * from sys.objects where object_id in (
1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,
31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,
58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,
85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,
109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,
130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,
151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200,1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1224,1225,1226,1227,1228,1229,1230,1231,1232,1233,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,1250,1251,1252,1253,1254,1255,1256,1257,1258,1259,1260,1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320,1321,1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,1350,1351,1352,1353,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380,1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1409,1410,1411,1412,1413,1414,1415,1416,1417,1418,1419,1420,1421,1422,1423,1424,1425,1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553,1554,1555,1556,1557,1558,1559,1560,1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1750,1751,1752,1753,1754,1755,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240,3241,3242,3243,3244,3245,3246,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3257,3258,3259,3260,3261,3262,3263,3264,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300,3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360,3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3465,3466,3467,3468,3469,3470,3471,3472,3473,3474,3475,3476,3477,3478,3479,3480,3481,3482,3483,3484,3485,3486,3487,3488,3489,3490,3491,3492,3493,3494,3495,3496,3497,3498,3499,3500,3501,3502,3503,3504,3505,3506,3507,3508,3509,3510,3511,3512,3513,3514,3515,3516,3517,3518,3519,3520,3521,3522,3523,3524,3525,3526,3527,3528,3529,3530,3531,3532,3533,3534,3535,3536,3537,3538,3539,3540,3541,3542,3543,3544,3545,3546,3547,3548,3549,3550,3551,3552,3553,3554,3555,3556,3557,3558,3559,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3571,3572,3573,3574,3575,3576,3577,3578,3579,3580,3581,3582,3583,3584,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600,3601,3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,3643,3644,3645,3646,3647,3648,3649,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660,3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,3676,3677,3678,3679,3680,3681,3682,3683,3684,3685,3686,3687,3688,3689,3690,3691,3692,3693,3694,3695,3696,3697,3698,3699,3700,3701,3702,3703,3704,3705,3706,3707,3708,3709,3710,3711,3712,3713,3714,3715,3716,3717,3718,3719,3720,3721,3722,3723,3724,3725,3726,3727,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3740,3741,3742,3743,3744,3745,3746,3747,3748,3749,3750,3751,3752,3753,3754,3755,3756,3757,3758,3759,3760,3761,3762,3763,3764,3765,3766,3767,3768,3769,3770,3771,3772,3773,3774,3775,3776,3777,3778,3779,3780,3781,3782,3783,3784,3785,3786,3787,3788,3789,3790,3791,3792,3793,3794,3795,3796,3797,3798,3799,3800,3801,3802,3803,3804,3805,3806,3807,3808,3809,3810,3811,3812,3813,3814,3815,3816,3817,3818,3819,3820,3821,3822,3823,3824,3825,3826,3827,3828,3829,3830,3831,3832,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3864,3865,3866,3867,3868,3869,3870,3871,3872,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3886,3887,3888,3889,3890,3891,3892,3893,3894,3895,3896,3897,3898,3899,3900,3901,3902,3903,3904,3905,3906,3907,3908,3909,3910,3911,3912,3913,3914,3915,3916,3917,3918,3919,3920,3921,3922,3923,3924,3925,3926,3927,3928,3929,3930,3931,3932,3933,3934,3935,3936,3937,3938,3939,3940,3941,3942,3943,3944,3945,3946,3947,3948,3949,3950,3951,3952,3953,3954,3955,3956,3957,3958,3959,3960,3961,3962,3963,3964,3965,3966,3967,3968,3969,3970,3971,3972,3973,3974,3975,3976,3977,3978,3979,3980,3981,3982,3983,3984,3985,3986,3987,3988,3989,3990,3991,3992,3993,3994,3995,3996,3997,3998,3999,4000,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4039,4040,4041,4042,4043,4044,4045,4046,4047,4048,4049,4050,4051,4052,4053,4054,4055,4056,4057,4058,4059,4060,4061,4062,4063,4064,4065,4066,4067,4068,4069,4070,4071,4072,4073,4074,4075,4076,4077,4078,4079,4080,4081,4082,4083,4084,4085,4086,4087,4088,4089,4090,4091,4092,4093,4094,4095,4096,4097,4098,4099,4100,4101,4102,4103,4104,4105,4106,4107,4108,4109,4110,4111,4112,4113,4114,4115,4116,4117,4118,4119,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4177,4178,4179,4180,4181,4182,4183,4184,4185,4186,4187,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4217,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4258,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4269,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4290,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4305,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4320,4321,4322,4323,4324,4325,4326,4327,4328,4329,4330,4331,4332,4333,4334,4335,4336,4337,4338,4339,4340,4341,4342,4343,4344,4345,4346,4347,4348,4349,4350,4351,4352,4353,4354,4355,4356,4357,4358,4359,4360,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4371,4372,4373,4374,4375,4376,4377,4378,4379,4380,4381,4382,4383,4384,4385,4386,4387,4388,4389,4390,4391,4392,4393,4394,4395,4396,4397,4398,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4414,4415,4416,4417,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4434,4435,4436,4437,4438,4439,4440,4441,4442,4443,4444,4445,4446,4447,4448,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4470,4471,4472,4473,4474,4475,4476,4477,4478,4479,4480,4481,4482,4483,4484,4485,4486,4487,4488,4489,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4556,4557,4558,4559,4560,4561,4562,4563,4564,4565,4566,4567,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4590,4591,4592,4593,4594,4595,4596,4597,4598,4599,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4647,4648,4649,4650,4651,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4825,4826,4827,4828,4829,4830,4831,4832,4833,4834,4835,4836,4837,4838,4839,4840,4841,4842,4843,4844,4845,4846,4847,4848,4849,4850,4851,4852,4853,4854,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4881,4882,4883,4884,4885,4886,4887,4888,4889,4890,4891,4892,4893,4894,4895,4896,4897,4898,4899,4900,4901,4902,4903,4904,4905,4906,4907,4908,4909,4910,4911,4912,4913,4914,4915,4916,4917,4918,4919,4920,4921,4922,4923,4924,4925,4926,4927,4928,4929,4930,4931,4932,4933,4934,4935,4936,4937,4938,4939,4940,4941,4942,4943,4944,4945,4946,4947,4948,4949,4950,4951,4952,4953,4954,4955,4956,4957,4958,4959,4960,4961,4962,4963,4964,4965,4966,4967,4968,4969,4970,4971,4972,4973,4974,4975,4976,4977,4978,4979,4980,4981,4982,4983,4984,4985,4986,4987,4988,4989,4990,4991,4992,4993,4994,4995,4996,4997,4998,4999,5000,5001,5002,5003,5004,5005,5006,5007,5008,5009,5010,5011,5012,5013,5014,5015,5016,5017,5018,5019,5020,5021,5022,5023,5024,5025,5026,5027,5028,5029,5030,5031,5032,5033,5034,5035,5036,5037,5038,5039,5040,5041,5042,5043,5044,5045,5046,5047,5048,5049,5050,5051,5052,5053,5054,5055,5056,5057,5058,5059,5060,5061,5062,5063,5064,5065,5066,5067,5068,5069,5070,5071,5072,5073,5074,5075,5076,5077,5078,5079,5080,5081,5082,5083,5084,5085,5086,5087,5088,5089,5090,5091,5092,5093,5094,5095,5096,5097,5098,5099,5100,5101,5102,5103,5104,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5131,5132,5133,5134,5135,5136,5137,5138,5139,5140,5141,5142,5143,5144,5145,5146,5147,5148,5149,5150,5151,5152,5153,5154,5155,5156,5157,5158,5159,5160,5161,5162,5163,5164,5165,5166,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5189,5190,5191,5192,5193,5194,5195,5196,5197,5198,5199,5200,5201,5202,5203,5204,5205,5206,5207,5208,5209,5210,5211,5212,5213,5214,5215,5216,5217,5218,5219,5220,5221,5222,5223,5224,5225,5226,5227,5228,5229,5230,5231,5232,5233,5234,5235,5236,5237,5238,5239,5240,5241,5242,5243,5244,5245,5246,5247,5248,5249,5250,5251,5252,5253,5254,5255,5256,5257,5258,5259,5260,5261,5262,5263,5264,5265,5266,5267,5268,5269,5270,5271,5272,5273,5274,5275,5276,5277,5278,5279,5280,5281,5282,5283,5284,5285,5286,5287,5288,5289,5290,5291,5292,5293,5294,5295,5296,5297,5298,5299,5300,5301,5302,5303,5304,5305,5306,5307,5308,5309,5310,5311,5312,5313,5314,5315,5316,5317,5318,5319,5320,5321,5322,5323,5324,5325,5326,5327,5328,5329,5330,5331,5332,5333,5334,5335,5336,5337,5338,5339,5340,5341,5342,5343,5344,5345,5346,5347,5348,5349,5350,5351,5352,5353,5354,5355,5356,5357,5358,5359,5360,5361,5362,5363,5364,5365,5366,5367,5368,5369,5370,5371,5372,5373,5374,5375,5376,5377,5378,5379,5380,5381,5382,5383,5384,5385,5386,5387,5388,5389,5390,5391,5392,5393,5394,5395,5396,5397,5398,5399,5400,5401,5402,5403,5404,5405,5406,5407,5408,5409,5410,5411,5412,5413,5414,5415,5416,5417,5418,5419,5420,5421,5422,5423,5424,5425,5426,5427,5428,5429,5430,5431,5432,5433,5434,5435,5436,5437,5438,5439,5440,5441,5442,5443,5444,5445,5446,5447,5448,5449,5450,5451,5452,5453,5454,5455,5456,5457,5458,5459,5460,5461,5462,5463,5464,5465,5466,5467,5468,5469,5470,5471,5472,5473,5474,5475,5476,5477,5478,5479,5480,5481,5482,5483,5484,5485,5486,5487,5488,5489,5490,5491,5492,5493,5494,5495,5496,5497,5498,5499,5500,5501,5502,5503,5504,5505,5506,5507,5508,5509,5510,5511,5512,5513,5514,5515,5516,5517,5518,5519,5520,5521,5522,5523,5524,5525,5526,5527,5528,5529,5530,5531,5532,5533,5534,5535,5536,5537,5538,5539,5540,5541,5542,5543,5544,5545,5546,5547,5548,5549,5550,5551,5552,5553,5554,5555,5556,5557,5558,5559,5560,5561,5562,5563,5564,5565,5566,5567,5568,5569,5570,5571,5572,5573,5574,5575,5576,5577,5578,5579,5580,5581,5582,5583,5584,5585,5586,5587,5588,5589,5590,5591,5592,5593,5594,5595,5596,5597,5598,5599,5600,5601,5602,5603,5604,5605,5606,5607,5608,5609,5610,5611,5612,5613,5614,5615,5616,5617,5618,5619,5620,5621,5622,5623,5624,5625,5626,5627,5628,5629,5630,5631,5632,5633,5634,5635,5636,5637,5638,5639,5640,5641,5642,5643,5644,5645,5646,5647,5648,5649,5650,5651,5652,5653,5654,5655,5656,5657,5658,5659,5660,5661,5662,5663,5664,5665,5666,5667,5668,5669,5670,5671,5672,5673,5674,5675,5676,5677,5678,5679,5680,5681,5682,5683,5684,5685,5686,5687,5688,5689,5690,5691,5692,5693,5694,5695,5696,5697,5698,5699,5700,5701,5702,5703,5704,5705,5706,5707,5708,5709,5710,5711,5712,5713,5714,5715,5716,5717,5718,5719,5720,5721,5722,5723,5724,5725,5726,5727,5728,5729,5730,5731,5732,5733,5734,5735,5736,5737,5738,5739,5740,5741,5742,5743,5744,5745,5746,5747,5748,5749,5750,5751,5752,5753,5754,5755,5756,5757,5758,5759,5760,
5761,5762,5763,5764,5765,5766,5767,5768,5769,5770,5771,5772,5773,5774,5775,5776) 
```

（我不会打破所有的线路）。

在生成的查询中，大约 5% 的查询成本用于持续扫描（这实际上是在内部将所有这些数字转换为临时表，然后将该表传递给连接运算符）。

但是，总体而言，这是一个非常*简单的查询。*对于任何更复杂的查询，我希望成本（以百分比计）会下降（因为我希望绝对成本保持不变）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T06:24:56.653

我知道这不是被问到的问题，但是，假设您的 ID 列表来自另一个查询：

```
SELECT Name FROM Customers WHERE Id IN (SELECT ID FROM X WHERE X.FIELD = COND) 
```

然后这是使用重写查询的原因`EXISTS`：

```
SELECT Name
FROM   CUSTOMERS
WHERE  EXISTS
(
    SELECT *
    FROM   X
    WHERE  X.FIELD = COND
    AND    X.ID = CUSTOMERS.ID
); 
```

这是有效的，因为`EXISTS`为优化器提供了更多机会来确定有效的执行路径，同时`IN`强制子查询被完全评估。

您指定的查询没有子查询。它只有一个常量列表，几乎没有进一步优化的机会。照原样，你必须尽你所能，即`ID`按照@zebediah49 的建议索引列。

# c++ - 为什么调用 GC.Collect 会加快速度

> ID：12506728
> 
> 赞同：2
> 
> 时间：2012-09-20T05:49:52.393
> 
> 标签：c++, .net, garbage-collection, swig, dispose

我们有一个 C++ 库（没有 MFC，没有 ATL），它为我们的 .NET 应用程序提供了一些核心功能。[SWIG](http://www.swig.org/)使用 C++ DLL生成 C# 程序集，该程序集可用于使用 PInvoke 访问其类/方法。这个 C# 程序集在我们的 .NET 应用程序中用于使用 C++ DLL 中的功能。

该问题与内存泄漏有关。在我们的 .NET 应用程序中，我的 .NET 代码中有一个循环，它从 C++ DLL 创建特定类的数千个实例。循环在创建实例时不断减慢，但如果我在循环内调用 GC.Collect() （我知道不建议这样做），处理速度会更快。为什么是这样？对类型调用 Dispose() 对速度没有任何影响。我预计使用 GC.Collect() 会降低程序速度，但事实恰恰相反。

SWIG 生成的每个类都有一个调用 Dispose() 的 ~destructor。每个 Dispose 方法在调用以释放非托管内存的语句周围都有一个 lock(this)。最后它调用 GC.SuppressFinalize。我们还在 Release 版本中偶尔看到 AccessViolationException。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T18:00:17.393

`Finalize`如果某些类型的对象在没有被处理的情况下被丢弃，它们可以自行清理（通过），但是在终结器找到它们之前保留它们的成本可能很高；框架中的一个示例是由`Microsoft.VisualBasic.Collection.GetEnumerator()`. 每次调用`GetEnumerator()`都会将一个由新枚举器对象包装的对象附加到集合管理的各种私有更新事件上，当枚举器为`Dispose`d 时，它将取消订阅其事件。如果`GetEnumerator()`被调用多次（例如数千或数百万）而没有释放枚举器并且没有干预垃圾收集，随着事件订阅列表的不断增长，收集将变得越来越慢（比正常慢数百或数千倍）。然而，一旦发生垃圾收集，任何废弃的枚举器的`Finalize`方法都会清理它们的订阅，并且事情将再次开始正常工作。

我知道您说过您正在调用`Dispose`，但我怀疑某些东西正在创建一个`IDisposable`对象实例而不是调用`Dispose`它。如果`IDisposable`class`Foo`创建并拥有`IDisposable`class的实例`Bar`，但该实例`Foo`不在`Dispose`其自己的`Dispose`实现中，则调用`Dispose`的实例`Foo`不会清理`Bar`. 一旦实例 of`Foo`被放弃，无论它是否被`Dispose`d，它`Bar`最终都会被放弃而没有处置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:03:12.877

你在 Dispose 方法中调用 GC.SupressFinalize 吗？无论如何，有一篇很好的 MSDN 文章解释了如何编写 GC 友好的代码 -[垃圾收集基础和性能提示](http://msdn.microsoft.com/en-us/library/ms973837.aspx)。也许它会有用。

# iphone - CALayer setCornerRadius 仍然在下面留下白色角落

> ID：12506732
> 
> 赞同：1
> 
> 时间：2012-09-20T05:50:16.213
> 
> 标签：iphone, cagradientlayer

我正在尝试创建一个带有标签的简单渐变，我可以将其覆盖在 MKMapView 之上。我查看了 SO，发现我可以使用 CAGradientLayer 而不是覆盖 UIView 中的 drawRect。我想我会试一试。在我的 viewDidLoad 中，我这样做：

```
CGRect frame = CGRectMake(self.mapView.frame.origin.x, self.mapView.frame.origin.y, 320.0, 44.0);

CAGradientLayer *gradientLayer = [CAGradientLayer layer];
gradientLayer.frame = frame;
gradientLayer.backgroundColor = (__bridge CGColorRef)((__bridge id)([UIColor clearColor].CGColor));
[gradientLayer setCornerRadius:12.0];
[gradientLayer setOpacity:0.5];

gradientLayer.colors = @[(id)[UIColor blackColor].CGColor, (id)[UIColor whiteColor].CGColor];
[self.view.layer addSublayer:gradientLayer]; 
```

它在正确的路径上，除了左上角和右上角有这个白色。是否有一个原因？我认为这可能是因为我没有设置图层的背景颜色或其他东西，因为我之前在 UIViews 上发生过这种情况，但看起来不像。

![在此处输入图像描述](../Images/9e144e21b6d0014d8889bb16921f63e9.png)

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:04:38.347

角落下面没有白色。他们在下面有地图。这是四个角，放大 600%：

![在此处输入图像描述](../Images/5697c5898bc88ebca60b6f7ab698cd75.png)

当您设置图层的角半径时，您正在剪裁该图层。图层下方的任何内容都将通过您将圆形图层剪掉的位置显示出来。

在您的情况下，您已经剪掉了渐变图层的角，因此下面的地图图层会显示出来，而不会与渐变混合。

您还需要剪裁地图图层的角落。最简单的方法是在地图图层上设置相同的角半径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:17:51.367

你包括这个头文件...

```
#import <QuartzCore/QuartzCore.h>
#import "QuartzCore/CALayer.h" 
```

然后使用半径。

```
gradientLayer.layer.cornerRadius = 7.0; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T07:14:01.477

1.  添加`QuartzCore.framework`
2.  `#import <QuartzCore/QuartzCore.h>`
3.  `yourView.layer.cornerRadius = 12.0f;`

# selenium - 无法使用 selenium webdriver 单击以下链接

> ID：12506733
> 
> 赞同：1
> 
> 时间：2012-09-20T05:50:26.263
> 
> 标签：selenium, webdriver, selenium-webdriver

我无法使用以下链接单击`selenium webdriver`：

```
<center>
  <a class="xyz" style="" href="/Folder">My Folders</a>
  <span></span>
</center> 
```

我正在使用代码：

```
abhiFX.findElement(By.partialLinkText("My Folders")).click(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:24:05.293

我看到了这些潜在的问题：

1.  **如果您**在浏览器中加载页面并单击链接，您确定您的 HTML 完全“有效”吗？点击的预期结果是什么？
2.  您的驱动程序`abhiFX`是否正确初始化？`.click()`其他元素效果好吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T11:26:01.373

尝试使用 xpath 代替：

```
public void clickElement() {

    try {
        WebElement element = abhiFX.findElement(
            By.xpath("//a[contains(text(),'My Folders')]"));
        element.click();
    } catch (InvalidSelectorException e) {
        throw new AssertionError("[FAIL] Click Element: Xpath is invalid.");
    } catch (NoSuchElementException e) {
        throw new AssertionError(
                "[FAIL] Click Element: Unable to locate element");
    }

} 
```

# android - 如何在android中使用JSON验证用户名和密码

> ID：12506741
> 
> 赞同：0
> 
> 时间：2012-09-20T05:51:03.790
> 
> 标签：android, json

我有一个使用登录页面访问一些统计数据的 android 应用程序。然而，用户名和密码在应用程序中是硬编码的。我想将此应用程序与一个 erlang 服务器链接，该服务器将采用用户名和密码进行身份验证，并接受 JSON 请求。我是初学者，我想知道如何将我的用户名和密码发送到服务器 url (172.16.11.70:81/prime/yaws/login.yaws) 以进行身份​​验证并接收服务器响应。成功或失败。一步步。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T08:35:23.213

更新

我有以下用于匹配用户名和密码的代码。它给出了这样的上述“响应”-> {“state”：“bla bla blaa”，“reason”：“bla bla blaa”}

```
HttpClient client = new DefaultHttpClient();
                HttpConnectionParams.setConnectionTimeout(client.getParams(), 10000); //Timeout Limit
                HttpResponse response;
                JSONObject json = new JSONObject();
                try{
                    HttpPost post = new HttpPost(URL);
                    post.setHeader("Content-type", "application/json");
                    json.put("username", userName);
                    json.put("password", password);
                    StringEntity se = new StringEntity( json.toString());  
                    Log.v("json_text", json.toString());
                    se.setContentType(new BasicHeader(HTTP.CONTENT_TYPE, "application/json"));
                    post.setEntity(se);
                    response = client.execute(post);
                    /*Checking response */
                    if(response!=null){
                        String temp = EntityUtils.toString(response.getEntity()); //Get the data in the entity
                        Log.v("response", temp);
                }}
                catch(Exception e){
                    e.printStackTrace();
                    //createDialog("Error", "Cannot Estabilish Connection");
                } 
```

我想将此“响应”转换为 java 数组。请给我一个提示。

# android - 来自不同机器的 Android 模拟器通信

> ID：12506744
> 
> 赞同：0
> 
> 时间：2012-09-20T05:51:19.313
> 
> 标签：android, android-emulator, ip-address

我参考了开发人员站点并实现了以下想法，该想法适用于在同一台机器上运行的两个模拟器实例。

•A 是您的开发机器
•B 是您的第一个仿真器实例，在A 上运行
•C 是您的第二个仿真器实例，也在A 上运行

并且您想在 B 上运行一个服务器，C 将连接到该服务器，您可以按照以下方式进行设置： 1.在 B 上设置服务器，监听 10.0.2.15： 2.在
B 的控制台上，设置重定向从 A:localhost: 到 B:10.0.2.15:
3.在 C 上，让客户端连接到 10.0.2.2：

例如，如果要运行 HTTP 服务器，可以选择 80 和 8080： •B 在 10.0.2.15:80 上侦听
•在 B 的控制台上，发出 redir add tcp:8080:80
•C 连接到 10.0.2.2 :8080

现在对于两台不同的机器，我必须让 C 连接到 A 的 ipaddress:8080。但这不起作用。应该给出什么地址来代替 10.0.2.2 才能使其工作？仅 IPAddress 显然是不够的。
我已经坚持了一周。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T08:31:52.560

是的。这是可能的。你需要两个模拟器之间的服务器。没有任何中间件是不可能连接两个模拟器的。这个角色由[Google App 引擎](https://developers.google.com/appengine/docs/whatisgoogleappengine)执行`。
Google App Engine 是完整、可扩展且价格合理的托管解决方案。[使用 Google App Engine](https://developers.google.com/appengine/)，您可以做到这一点。 [检查这个](http://www.javacodegeeks.com/2011/06/android-app-engine-integration.html)。

**使用 XMPP 的 App Engine：**

将 XMPP 服务引入 App Engine 后，可以编写一个 App Engine 应用程序，通过 XMPP 与用户甚至其他应用程序进行通信。XMPP 是一种即时通讯协议，由 Google Talk、Jabber 和其他 IM 网络使用。

[这里](https://developers.google.com/appengine/articles/using_xmpp)有一个很好的 XMPP 教程。
[App Engine 的一个示例。](https://developers.google.com/eclipse/docs/appeng_android_create_project).
希望这会帮助你。

**更新：**

`java.net.conectExcperion:Connection Rfused : Connect android`

当您尝试连接的端口上没有服务侦听时，会发生此异常。

您还需要了解[模拟器网络](http://developer.android.com/tools/help/emulator.html#emulatornetworking)

# android - Android 用户与手机的交互

> ID：12506745
> 
> 赞同：-1
> 
> 时间：2012-09-20T05:51:21.530
> 
> 标签：android

我想知道用户是静音还是非静音电话。如果用户使电话静音，如何检测用户与电话音量的交互我的功能将触发
提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:01:06.440

[您可以使用 中的getRingerMode()](http://developer.android.com/intl/fr/reference/android/media/AudioManager.html#getRingerMode%28%29)方法检测手机是否处于静音模式 `AudioManager`。

```
AudioManager mAudio = (AudioManager)getSystemService(Context.AUDIO_SERVICE);

switch (mAudio.getRingerMode()) {
    case AudioManager.RINGER_MODE_SILENT:
        // your phone is in Silent Mode
        break;
    case AudioManager.RINGER_MODE_VIBRATE:
        // your phone is in Vibrate Mode
        break;
    case AudioManager.RINGER_MODE_NORMAL:
        // your phone is in Normal Mode
        break;
} 
```

使用此代码应用您的逻辑以确定手机模式何时更改并相应地调用您的函数。

**编辑：** 要检测振铃模式的变化，请声明一个**`RingerModeStateChangeReceiver`**扩展并在您或您要处理广播的方法中**`BroadcastReceiver`**使用此代码：`onCreate()``Activity``Service`

```
 BroadcastReceiver receiver=new BroadcastReceiver(){
          @Override
          public void onReceive(Context context, Intent intent) {
               //call your function here
          }
      };
      IntentFilter filter=new IntentFilter(
                      AudioManager.RINGER_MODE_CHANGED_ACTION);
      registerReceiver(receiver,filter); 
```

# css - 似乎无法覆盖 CSS 属性（margin-right）？

> ID：12506749
> 
> 赞同：1
> 
> 时间：2012-09-20T05:51:42.577
> 
> 标签：css

我有一个非常基本的 HTML 列表，如下所示：

```
<div id="navmenu">
    <ul>
    <li>photography</li>
    <li>&#149</li>
    <li>people</li>
    <li>places</li>
    <li>things</li>
    <li id="lastElement">about</li>
    </ul>
</div> 
```

我的 CSS 格式如下所示：

```
div#navmenu li {
     display: inline;
     margin-right: 40px;
} 
```

但是，我希望最后一个 li 元素的 margin-right 为 0px。所以我做了：

```
li#lastElement {
     margin-right: 0px;
} 
```

当我查看 Chrome 的开发工具时，最后一个 CSS 规范被划掉了。我不明白为什么它被“div#nav menu li”属性覆盖？最后一个具有自己 id 的 li 元素不是更具体吗？

任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:53:28.240

覆盖它的更具体，它有两个标签和一个 id 选择器，而你的另一个只有一个标签和 id 选择器。

您可以将其更改为`div#navmenu li#lastElement` *或*使其他选择器不太具体。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:54:12.840

嗨，现在习惯了

```
div#navmenu #lastElement {
     margin-right: 0px;
} 
```

或这个

```
div#navmenu li:last-child {
     margin-right: 0px;
} 
```

# php - drupal Not Found 在此服务器上未找到请求的 url

> ID：12506753
> 
> 赞同：1
> 
> 时间：2012-09-20T05:51:51.893
> 
> 标签：php, mysql, apache, .htaccess, drupal

从过去的两天开始，我一直陷入一种奇怪的境地。我在我的`/var/www/html`文档根目录中有一个名为 drupal 的 drupal 安装，我正在使用 url 'http://domainname/drupal' 访问它。它打开很好。在我设置为`settings.php`的目录中。在同一目录中，我创建了名为 .drupal 的副本。我导出了项目 drupal 的数据库并创建了一个新数据库并与之关联。我更改了文件中所需的设置。我还将变量更改为. 当我尝试打开 URL时，它没有打开并且显示一条消息。我已经复制了`drupal/sites/default``$base_url``http://domainname/drupal``/var/www/html``drupalsix``drupalsix``$db_url``settings.php``drupalsix/sites/default/settings.php``$base_url``http://domainname/drupalsix``http://domainname/drupalsix``Not Found The requested url was not found on this server``.htaccess`文件从 drupal 到 drupalsix 目录正确`clean url`并且也被禁用。在我的`httpd.conf`文件中`AllowOverride All`，drupal 和 drupal 6 都有，如下所示：-

```
<Directory /var/www/html/drupal>
    AllowOverride All
</Directory>   
AccessFileName .htaccess

<Directory /var/www/html/drupalsix>
    AllowOverride All
</Directory>
AccessFileName .htaccess 
```

我还在此处附加了 .htaccess 文件以供参考。请帮助我，因为我没有发现我的设置有什么问题。对于 drupal，一切都很好，但对于 drupalix，它显示未找到。我的操作系统是cent os linux。在此先感谢这是我的 .htaccess 文件

```
#
# Apache/PHP/Drupal settings:
#

# Protect files and directories from prying eyes.
<FilesMatch "\.(engine|inc|info|install|make|module|profile|test|po|sh|.*sql|theme|tpl(\.php)?|xtmpl|svn-base)$|^(code-style\.pl|Entries.*|Repository|Root|Tag|Template|all-wcprops|entries|format)$">
  Order allow,deny
</FilesMatch>

# Don't show directory listings for URLs which map to a directory.
Options -Indexes

# Follow symbolic links in this directory.
Options +FollowSymLinks

# Make Drupal handle any 404 errors.
ErrorDocument 404 /index.php

# Force simple error message for requests for non-existent favicon.ico.
<Files favicon.ico>
  # There is no end quote below, for compatibility with Apache 1.3.
  ErrorDocument 404 "The requested file favicon.ico was not found.
</Files>

# Set the default handler.
DirectoryIndex index.php kjsfgbvytuilwecftuwel

# Override PHP settings. More in sites/default/settings.php
# but the following cannot be changed at runtime.

# PHP 4, Apache 1.
<IfModule mod_php4.c>
  php_value magic_quotes_gpc                
  php_value register_globals                0
  php_value session.auto_start              0
  php_value mbstring.http_input             pass
  php_value mbstring.http_output            pass
  php_value mbstring.encoding_translation   0
</IfModule>

# PHP 4, Apache 2.
<IfModule sapi_apache2.c>
  php_value magic_quotes_gpc                0
  php_value register_globals                0
  php_value session.auto_start              0
  php_value mbstring.http_input             pass
  php_value mbstring.http_output            pass
  php_value mbstring.encoding_translation   0
</IfModule>

# PHP 5, Apache 1 and 2.
<IfModule mod_php5.c>
  php_value magic_quotes_gpc                0
  php_value register_globals                0
  php_value session.auto_start              0
  php_value mbstring.http_input             pass
  php_value mbstring.http_output            pass
  php_value mbstring.encoding_translation   0
</IfModule>

# Requires mod_expires to be enabled.
<IfModule mod_expires.c>
  # Enable expirations.
  ExpiresActive On

  # Cache all files for 2 weeks after access (A).
  ExpiresDefault A1209600

  <FilesMatch \.php$>
    # Do not allow PHP scripts to be cached unless they explicitly send cache
    # headers themselves. Otherwise all scripts would have to overwrite the
    # headers set by mod_expires if they want another caching behavior. This may
    # fail if an error occurs early in the bootstrap process, and it may cause
    # problems if a non-Drupal PHP file is installed in a subdirectory.
    ExpiresActive Off
  </FilesMatch>
</IfModule>

# Various rewrite rules.
<IfModule mod_rewrite.c>
  RewriteEngine on

  # If your site can be accessed both with and without the 'www.' prefix, you
  # can use one of the following settings to redirect users to your preferred
  # URL, either WITH or WITHOUT the 'www.' prefix. Choose ONLY one option:
  #
  # To redirect all users to access the site WITH the 'www.' prefix,
  # (http://example.com/... will be redirected to http://www.example.com/...)
  # adapt and uncomment the following:
  # RewriteCond %{HTTP_HOST} ^example\.com$ [NC]
  # RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]
  #
  # To redirect all users to access the site WITHOUT the 'www.' prefix,
  # (http://www.example.com/... will be redirected to http://example.com/...)
  # uncomment and adapt the following:
  # RewriteCond %{HTTP_HOST} ^www\.example\.com$ [NC]
  # RewriteRule ^(.*)$ http://example.com/$1 [L,R=301]

  # Modify the RewriteBase if you are using Drupal in a subdirectory or in a
  # VirtualDocumentRoot and the rewrite rules are not working properly.
  # For example if your site is at http://example.com/drupal uncomment and
  # modify the following line:
  # RewriteBase /drupal
  #
  # If your site is running in a VirtualDocumentRoot at http://example.com/,
  # uncomment the following line:
  # RewriteBase /

  # Rewrite URLs of the form 'x' to the form 'index.php?q=x'.
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_URI} !=/favicon.ico
  RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]
</IfModule>

# $Id$ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T10:14:49.617

我很确定[这](http://drupal.org/node/43816)是最好的方法

这是一个来自 drupal 的页面，其中包含许多关于多站点 drupal 的教程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-10-12T15:52:22.917

就我而言，我从 apache 配置文件中丢失了“AllowOverride All”

# asp.net - 如何在 ASP.net4.0 中使用 try & catch 块显示代码中出现的错误消息（弹出窗口）？

> ID：12506757
> 
> 赞同：1
> 
> 时间：2012-09-20T05:52:10.500
> 
> 标签：asp.net, vb.net, ado.net

如何在 ASP.net4.0 中使用 try & catch 块显示代码中出现的错误消息（弹出窗口）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:11:45.000

这是一个 C# 版本。创建一个在页面中显示弹出窗口的函数

```
<script type="text/javascript">
function displayPopup(message)
{
   //code to display popup here
}
</script> 
```

使用从代码隐藏生成的脚本调用此方法

```
try
{
   //your code here
}
catch(Exception ex)
{
 string script = "<script type=\"text/javascript\"> displayPopup('"+ex.Message+"'); </script>";
 ClientScript.RegisterClientScriptBlock(this.GetType(), "myscript", script);
} 
```

VB

```
Try
   'Your code here
Catch ex As Exception
    Dim script As String = "<script type=""text/javascript""> displayPopup('" & ex.Message & "'); </script>"
    ClientScript.RegisterClientScriptBlock(Me.[GetType](), "myscript", script)
End Try 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T07:06:32.357

你不能直接做

因为

1）当您的页面未呈现时，代码后面的错误出现在服务器端错误。2) Asp.Net 作为一个断开连接的模型工作，因此它首先在服务器端构建页面然后渲染。如果我们想显示客户端（javascript）的弹出窗口，我们可以在服务器端编写事件以在使用 javascript 方法在客户端渲染和加载页面时显示弹出窗口。

因此，您必须在服务器端发生错误时生成脚本，并将其注册到客户端脚本，例如

```
 string script = "<script type=\"text/javascript\"> window.alert('"+ex.Message+"'); </script>";
 ClientScript.RegisterClientScriptBlock(this.GetType(), "alertscript", script); 
```

RegisterClientScriptBlock 将直接在页面上编写脚本，以便在渲染时执行这些脚本，您可以看到错误警报。

您可以编写自定义 javascript 函数并在脚本中调用该函数而不是警报来显示自定义弹出窗口。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-30T12:18:24.403

你可以这样做

```
catch (Exception ex)
    {
        string message = string.Format("Message: {0}\\n\\n", ex.Message);
        message += string.Format("StackTrace: {0}\\n\\n", ex.StackTrace.Replace(Environment.NewLine, string.Empty));
        message += string.Format("Source: {0}\\n\\n", ex.Source.Replace(Environment.NewLine, string.Empty));
        message += string.Format("TargetSite: {0}", ex.TargetSite.ToString().Replace(Environment.NewLine, string.Empty));
        ClientScript.RegisterStartupScript(this.GetType(), "alert", "alert(\"" + message + "\");", true);
    } 
```

# javascript - 在 Web 浏览器中查找触发 then 事件的 jQuery 代码

> ID：12506762
> 
> 赞同：0
> 
> 时间：2012-09-20T05:52:33.963
> 
> 标签：javascript, jquery, html

我加入了一个团队从事一个项目。现在他们使用 jQuery 并且很多 javascript 文件是外部文件而不是嵌入文件。

当我单击一个按钮时，它看起来像：

```
<a class="button_cancel">Cancel</a> 
```

它触发一个在一个 javascript 文件中定义的事件。

当 onclick 被触发时，有没有办法定位文件（甚至是文件的确切行）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T05:57:42.713

您可以使用一些开发人员工具，例如 Firefox 的 Firebug 扩展（我希望您已经拥有）。在 Firebug 的“脚本”面板中，您可以设置“下一个中断”（在左上角），这实际上意味着，在接下来执行的任何一行中设置一个断点。激活它。然后单击按钮。您应该进入已执行的文件。如果不逐步执行代码，您将到达那里。唯一烦人的事情是如果有一些其他的 JavaScript 持续运行。

我相信 Chrome、Safari 和 Opera 的开发者工具提供了类似的功能。

**编辑：** Chrome 也有。面板右上角的“Sources”，它被称为“Pause Script Execution”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T05:58:35.670

[Visual Event 2](http://www.sprymedia.co.uk/article/Visual+Event+2)可以以一种简单易用的方式为您提供这些信息。

> Visual Event 是一个开源 Javascript 小书签，它提供有关已附加到 DOM 元素的事件的调试信息。视觉事件显示：
> 
> *   哪些元素附加了事件
> *   附加到元素的事件类型
> *   将与事件一起运行的代码被触发
> *   定义附加函数的源文件和行号（仅限 Webkit 浏览器和 Opera）

[演示](http://sprymedia.co.uk/VisualEvent/demo/)

# iphone - xcode 4.5 更新后使用 -o0 以外的优化的崩溃报告

> ID：12506778
> 
> 赞同：11
> 
> 时间：2012-09-20T05:54:12.897
> 
> 标签：iphone, compiler-optimization, crash-reports, pjsip, xcode4.5

我今天已更新到 Xcode 4.5，但我无法再生成我的应用程序的功能发布版本。使用以前版本的 Xcode 制作发行版时我没有遇到任何问题。

我注意到当我直接在我的手机上以调试 (-O0) 运行它时它不会崩溃，但是当我生成一个版本 (-Os) 时它会在启动后持续崩溃几秒钟。

如果我将 pjsua_app.c 设置为 -O0，同时将项目的其余部分保留为 -Os 的发布默认值，我也可以生成一个工作版本。

下面是使用“Fast [-O, O1]”设置的崩溃日志：

```
Incident Identifier: DB1C14AD-5C2A-4F2C-8B03-E483A7D31760
CrashReporter Key:   435140979595045aaa5a1c90fee1a20f6faf280a
Hardware Model:      iPhone4,1
Process:         myAppName [14144]
Path:            /var/mobile/Applications/CD2A07F5-3E72-444D-9BD9-910E4634C4EC/myAppName.app/myAppName
Identifier:      myAppName
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-09-19 23:41:39.098 -0600
OS Version:      iPhone OS 5.1.1 (9B206)
Report Version:  104

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x00000000, 0x00000000
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libsystem_kernel.dylib          0x361f532c __pthread_kill + 8
1   libsystem_c.dylib               0x32d41208 pthread_kill + 48
2   libsystem_c.dylib               0x32d3a316 __abort + 86
3   libsystem_c.dylib               0x32d2c3c4 __stack_chk_fail + 164
4   myAppName                       0x000ce0dc pjsip_init (pjsua_app.c:4391)
5   myAppName                       0x0008e9d2 general_callsystem_init (general_call.m:149)
6   myAppName                       0x00084b4c -[MainsipphoneAppDelegate initPjsip] (MainsipphoneAppDelegate.m:578)
7   myAppName                       0x0009f3ec -[LoginViewController ProvisionServerGotResult:provision_array:] (LoginViewController.m:1530)
8   myAppName                       0x000ab88e -[ProvisionServer parserDidEndDocument:] (ProvisionServer.m:993)
9   Foundation                      0x354698e0 _endDocument + 68
10  libxml2.2.dylib                 0x3663fb88 xmlParseChunk + 4364
11  Foundation                      0x3546895e -[NSXMLParser parse] + 510
12  myAppName                       0x000a765e -[ProvisionServer ParseXMLFileAtURL:] (ProvisionServer.m:188)
13  myAppName                       0x000a7502 -[ProvisionServer connectionDidFinishLoading:] (ProvisionServer.m:157)
14  Foundation                      0x35484c22 __65-[NSURLConnectionInternal _withConnectionAndDelegate:onlyActive:]_block_invoke_0 + 10
15  Foundation                      0x353dc6d2 -[NSURLConnectionInternalConnection invokeForDelegate:] + 22
16  Foundation                      0x353dc69c -[NSURLConnectionInternal _withConnectionAndDelegate:onlyActive:] + 192
17  Foundation                      0x353dc5be -[NSURLConnectionInternal _withActiveConnectionAndDelegate:] + 54
18  CFNetwork                       0x351417ee URLConnectionClient::_clientDidFinishLoading(URLConnectionClient::ClientConnectionEventQueue*) + 186
19  CFNetwork                       0x3513649e URLConnectionClient::ClientConnectionEventQueue::processAllEventsAndConsumePayload(XConnectionEventInfo<XClientEvent, XClientEventParams>*, long) + 418
20  CFNetwork                       0x3513619c URLConnectionClient::processEvents() + 100
21  CFNetwork                       0x351360d2 MultiplexerSource::perform() + 150
22  CoreFoundation                  0x35913acc __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 8
23  CoreFoundation                  0x35913298 __CFRunLoopDoSources0 + 208
24  CoreFoundation                  0x3591203e __CFRunLoopRun + 646
25  CoreFoundation                  0x3589549e CFRunLoopRunSpecific + 294
26  CoreFoundation                  0x35895366 CFRunLoopRunInMode + 98
27  GraphicsServices                0x37531432 GSEventRunModal + 130
28  UIKit                           0x333a1cce UIApplicationMain + 1074
29  myAppName                       0x00081a78 main (main.m:14)
30  myAppName                       0x00081a30 start + 32

Thread 1 name:  Dispatch queue: com.apple.libdispatch-manager
Thread 1:
0   libsystem_kernel.dylib          0x361e53a8 kevent + 24
1   libdispatch.dylib               0x347cff04 _dispatch_mgr_invoke + 708
2   libdispatch.dylib               0x347cfc22 _dispatch_mgr_thread + 30

Thread 2:
0   libsystem_kernel.dylib          0x361f5cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x32cfcf36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x32cfccc8 start_wqthread + 0

Thread 3 name:  WebThread
Thread 3:
0   libsystem_kernel.dylib          0x361e5004 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x361e51fa mach_msg + 50
2   CoreFoundation                  0x359133ec __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x35912124 __CFRunLoopRun + 876
4   CoreFoundation                  0x3589549e CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x35895366 CFRunLoopRunInMode + 98
6   WebCore                         0x31794c9c _ZL12RunWebThreadPv + 396
7   libsystem_c.dylib               0x32d0272e _pthread_start + 314
8   libsystem_c.dylib               0x32d025e8 thread_start + 0

Thread 4:
0   libsystem_kernel.dylib          0x361f5cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x32cfcf36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x32cfccc8 start_wqthread + 0

Thread 5:
0   libsystem_kernel.dylib          0x361f5cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x32cfcf36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x32cfccc8 start_wqthread + 0

Thread 6 name:  com.apple.NSURLConnectionLoader
Thread 6:
0   libsystem_kernel.dylib          0x361e5004 mach_msg_trap + 20
1   libsystem_kernel.dylib          0x361e51fa mach_msg + 50
2   CoreFoundation                  0x359133ec __CFRunLoopServiceMachPort + 120
3   CoreFoundation                  0x35912124 __CFRunLoopRun + 876
4   CoreFoundation                  0x3589549e CFRunLoopRunSpecific + 294
5   CoreFoundation                  0x35895366 CFRunLoopRunInMode + 98
6   Foundation                      0x353cebb2 +[NSURLConnection(Loader) _resourceLoadLoop:] + 302
7   Foundation                      0x353cea7a -[NSThread main] + 66
8   Foundation                      0x3546258a __NSThread__main__ + 1042
9   libsystem_c.dylib               0x32d0272e _pthread_start + 314
10  libsystem_c.dylib               0x32d025e8 thread_start + 0

Thread 7:
0   libsystem_kernel.dylib          0x361f5cd4 __workq_kernreturn + 8
1   libsystem_c.dylib               0x32cfcf36 _pthread_wqthread + 610
2   libsystem_c.dylib               0x32cfccc8 start_wqthread + 0

Thread 8 name:  com.apple.CFSocket.private
Thread 8:
0   libsystem_kernel.dylib          0x361f5570 __select + 20
1   CoreFoundation                  0x3591763a __CFSocketManager + 726
2   libsystem_c.dylib               0x32d0272e _pthread_start + 314
3   libsystem_c.dylib               0x32d025e8 thread_start + 0

Thread 9:
0   libsystem_kernel.dylib          0x361f5628 __semwait_signal + 24
1   libsystem_c.dylib               0x32d06b1a nanosleep + 138
2   libsystem_c.dylib               0x32d06a84 usleep + 44
3   myAppName                       0x0013f3c2 pj_thread_sleep + 18
4   myAppName                       0x0013e342 pj_ioqueue_poll + 94
5   myAppName                       0x0011760a worker_proc + 42
6   myAppName                       0x0013f2b6 thread_main + 58
7   libsystem_c.dylib               0x32d0272e _pthread_start + 314
8   libsystem_c.dylib               0x32d025e8 thread_start + 0

Thread 10:
0   libsystem_kernel.dylib          0x361f5628 __semwait_signal + 24
1   libsystem_c.dylib               0x32d06b1a nanosleep + 138
2   libsystem_c.dylib               0x32d06a84 usleep + 44
3   myAppName                       0x0013f3c2 pj_thread_sleep + 18
4   myAppName                       0x0013e342 pj_ioqueue_poll + 94
5   myAppName                       0x00102540 pjsip_endpt_handle_events2 + 124
6   myAppName                       0x000e434c worker_thread + 56
7   myAppName                       0x0013f2b6 thread_main + 58
8   libsystem_c.dylib               0x32d0272e _pthread_start + 314
9   libsystem_c.dylib               0x32d025e8 thread_start + 0

Thread 0 crashed with ARM Thread State:
    r0: 0x00000000    r1: 0x00000000      r2: 0x00000001      r3: 0x00000000
    r4: 0x00000006    r5: 0x3ef4cd98      r6: 0x00000000      r7: 0x2fe7d724
    r8: 0x00000000    r9: 0x5d5c3434     r10: 0x0f68cfb0     r11: 0x00000000
    ip: 0x00000148    sp: 0x2fe7d718      lr: 0x32d4120f      pc: 0x361f532c
  cpsr: 0x00000010

Binary Images:
   0x80000 -   0x1a8fff +myAppName armv7  <f7f3371d762c361a9a632fafedfa3011> /var/mobile/Applications/CD2A07F5-3E72-444D-9BD9-910E4634C4EC/myAppName.app/myAppName
0x2fe7f000 - 0x2fea0fff  dyld armv7  <77eddfd654df393ba9c95ff01715fd08> /usr/lib/dyld
0x30687000 - 0x3068dfff  MobileKeyBag armv7  <e1f06241ef0e3f0aae00f15df572077e> /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
0x30761000 - 0x30886fff  JavaScriptCore armv7  <2ffc6c87b94434288366bd53765ee267> /System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore
0x308c0000 - 0x308c6fff  liblockdown.dylib armv7  <9e45ce468a6f31e5b8263f2c224aa800> /usr/lib/liblockdown.dylib
0x30949000 - 0x3095efff  libresolv.9.dylib armv7  <66f7557fa4b43979b186e00271839fdb> /usr/lib/libresolv.9.dylib
0x30a70000 - 0x30a73fff  CoreTime armv7  <a398de5ba1e43a11b7008e9bb5a7f6fe> /System/Library/PrivateFrameworks/CoreTime.framework/CoreTime
0x30a74000 - 0x30abcfff  CoreMedia armv7  <e274e1b894753b2eb05cf7b22a36d0c1> /System/Library/Frameworks/CoreMedia.framework/CoreMedia
0x30af8000 - 0x3103cfff  FaceCoreLight armv7  <f326d88709683520b251dc53cb847c11> /System/Library/PrivateFrameworks/FaceCoreLight.framework/FaceCoreLight
0x316eb000 - 0x31eaafff  WebCore armv7  <2690c38c9c5f3c09975d619dd1dfbed7> /System/Library/PrivateFrameworks/WebCore.framework/WebCore
0x31ebd000 - 0x31f95fff  vImage armv7  <caf3648be2933384b6aa1ae7408ab4f0> /System/Library/Frameworks/Accelerate.framework/Frameworks/vImage.framework/vImage
0x31f96000 - 0x3217afff  AudioToolbox armv7  <c91e27850452330ea804db6408840fd2> /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
0x3217b000 - 0x321c5fff  libvDSP.dylib armv7  <441b42aca07b3da39feab25f8349918f> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib
0x321ed000 - 0x32203fff  libmis.dylib armv7  <258bc92be5823b239b4412dd42cb4807> /usr/lib/libmis.dylib
0x3220f000 - 0x323ccfff  ImageIO armv7  <02e3578171fa3b6a969b244275fd2bab> /System/Library/Frameworks/ImageIO.framework/ImageIO
0x32545000 - 0x32556fff  libxpc.dylib armv7  <ccf25b1e49ce3b2fa58d8c8546755505> /usr/lib/system/libxpc.dylib
0x32769000 - 0x3285afff  QuartzCore armv7  <35d64a9da5523ae08c9e41511fd3061b> /System/Library/Frameworks/QuartzCore.framework/QuartzCore
0x3286d000 - 0x32870fff  libsystem_network.dylib armv7  <356cb66612e836968ef24e6e5c3364cc> /usr/lib/system/libsystem_network.dylib
0x328e1000 - 0x3291dfff  IMFoundation armv7  <253125b9103c3d13b66923ac6893c25b> /System/Library/PrivateFrameworks/IMCore.framework/Frameworks/IMFoundation.framework/IMFoundation
0x3294a000 - 0x3296afff  libxslt.1.dylib armv7  <39348471007e39dab80af68b08390456> /usr/lib/libxslt.1.dylib
0x329c7000 - 0x329d3fff  CoreVideo armv7  <364fa32d513f3c11b50970120545f1a8> /System/Library/Frameworks/CoreVideo.framework/CoreVideo
0x329d4000 - 0x329f7fff  Bom armv7  <c3435ecd2e5839f89de51edad0e1bb00> /System/Library/PrivateFrameworks/Bom.framework/Bom
0x32aa9000 - 0x32af3fff  ManagedConfiguration armv7  <f1fbb825def23043830a095b953a9c94> /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
0x32b0e000 - 0x32b14fff  MobileIcons armv7  <ed1b46f917903c9b9baaa2be4392dafe> /System/Library/PrivateFrameworks/MobileIcons.framework/MobileIcons
0x32b17000 - 0x32b1bfff  IOMobileFramebuffer armv7  <42dbc26828e934acabb4f3b0a35d8250> /System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer
0x32b1c000 - 0x32b1dfff  libremovefile.dylib armv7  <402f8956975d3b6fb86ab9b31a43242c> /usr/lib/system/libremovefile.dylib
0x32b1e000 - 0x32b1ffff  libsystem_sandbox.dylib armv7  <6a8f2f33c7543808a0f4599101c3b61a> /usr/lib/system/libsystem_sandbox.dylib
0x32b2e000 - 0x32b30fff  MobileInstallation armv7  <215d93dbb0f63cbf828f9126eb7b5349> /System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation
0x32c9e000 - 0x32ccafff  libtidy.A.dylib armv7  <3aacc5b650e037c086a8ff6657d154bf> /usr/lib/libtidy.A.dylib
0x32ccb000 - 0x32ceffff  PrintKit armv7  <08509c7bc915358b953de6f5cbef5c56> /System/Library/PrivateFrameworks/PrintKit.framework/PrintKit
0x32cf4000 - 0x32d80fff  libsystem_c.dylib armv7  <f859ce1ad1773f0ba98d7c6e135b7697> /usr/lib/system/libsystem_c.dylib
0x32df7000 - 0x32e08fff  DataAccessExpress armv7  <e6144ba265da3bb7b9a263aa1a29b054> /System/Library/PrivateFrameworks/DataAccessExpress.framework/DataAccessExpress
0x32e86000 - 0x32e87fff  libdnsinfo.dylib armv7  <9aede8d6579d3430ac39ae5f95cce498> /usr/lib/system/libdnsinfo.dylib
0x32e88000 - 0x32e8bfff  CaptiveNetwork armv7  <f5cc4b97ce9432da9426f12621453325> /System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork
0x32e8c000 - 0x32f32fff  AddressBookUI armv7  <da424fecc66e3628ab03378ae80b38fc> /System/Library/Frameworks/AddressBookUI.framework/AddressBookUI
0x32f73000 - 0x32faefff  libCGFreetype.A.dylib armv7  <55941c96cf1f3b048e72a148c4496c16> /System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib
0x33370000 - 0x33812fff  UIKit armv7  <cd513a2f22f53d698c3e10f6fe48a63e> /System/Library/Frameworks/UIKit.framework/UIKit
0x33968000 - 0x339adfff  GeoServices armv7  <a26be2e76e8730ab91a16502aba376be> /System/Library/PrivateFrameworks/GeoServices.framework/GeoServices
0x339ec000 - 0x339f1fff  libcopyfile.dylib armv7  <52e874396c393ed29099789ce702cfe2> /usr/lib/system/libcopyfile.dylib
0x33a33000 - 0x33a90fff  StoreServices armv7  <6ce256d3cf433e4aa1af8d696bf1f75d> /System/Library/PrivateFrameworks/StoreServices.framework/StoreServices
0x33c2b000 - 0x33c74fff  AddressBook armv7  <b17a2962e9043e0385c3c2c652155f2b> /System/Library/Frameworks/AddressBook.framework/AddressBook
0x33db7000 - 0x33dbdfff  libnotify.dylib armv7  <9406297de3e43742887890662a87ab53> /usr/lib/system/libnotify.dylib
0x33ea3000 - 0x33eadfff  libvMisc.dylib armv7  <e8248c797b9b363594bb652ddf7ce16d> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvMisc.dylib
0x34263000 - 0x34272fff  SpringBoardServices armv7  <a2363f8ed49932dba415d2d4cd32fb74> /System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices
0x34273000 - 0x34278fff  libsystem_dnssd.dylib armv7  <27bb5462450732e380f5a2c170546e93> /usr/lib/system/libsystem_dnssd.dylib
0x3427f000 - 0x34289fff  libbz2.1.0.dylib armv7  <40e4045fb79e382b8833707746cf28b1> /usr/lib/libbz2.1.0.dylib
0x3431a000 - 0x3431efff  Marco armv7  <8dea3e558fe534ff868fc92e215ce53b> /System/Library/PrivateFrameworks/Marco.framework/Marco
0x34363000 - 0x34388fff  OpenCL armv7  <f4b08361179a3f6bb033415b0d7c6251> /System/Library/PrivateFrameworks/OpenCL.framework/OpenCL
0x343c4000 - 0x343dafff  EAP8021X armv7  <952fcfdec0633aff923768fca1a26fcb> /System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X
0x34431000 - 0x3446ffff  IOKit armv7  <fcda71d29d6136dfbd84c1725f4998e5> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x345e0000 - 0x34729fff  libicucore.A.dylib armv7  <b70646b63f1f3b33896dd8cb91b8dab1> /usr/lib/libicucore.A.dylib
0x3472a000 - 0x3472afff  liblangid.dylib armv7  <644ff4bcfbf337b5b5859e3f0fc0a9a8> /usr/lib/liblangid.dylib
0x3472b000 - 0x34736fff  AccountSettings armv7  <373e59421d983c93931cfbad87b1ae35> /System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings
0x34752000 - 0x34789fff  Security armv7  <eea56f71fde83c2981f9281dc7823725> /System/Library/Frameworks/Security.framework/Security
0x347c7000 - 0x347cbfff  libAccessibility.dylib armv7  <9a17d07b5a3b38cfafdf16f78c99b572> /usr/lib/libAccessibility.dylib
0x347cc000 - 0x347e2fff  libdispatch.dylib armv7  <9ecfaef4110a3bf9a92d12f0fe8d1d78> /usr/lib/system/libdispatch.dylib
0x3480a000 - 0x3485bfff  libstdc++.6.dylib armv7  <c352af5a742e3c7a8d4d7e5f6f454793> /usr/lib/libstdc++.6.dylib
0x3485c000 - 0x34863fff  AssetsLibraryServices armv7  <38132ecfd74b325fb1a4142bab663c19> /System/Library/PrivateFrameworks/AssetsLibraryServices.framework/AssetsLibraryServices
0x3492e000 - 0x3492ffff  CoreSurface armv7  <97f871f09f503c98a6371c2b657430d8> /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface
0x34951000 - 0x3495dfff  libz.1.dylib armv7  <36ce86a3dc8c344596c8c325615f374b> /usr/lib/libz.1.dylib
0x3498f000 - 0x34997fff  MobileWiFi armv7  <b76c3e9fb78234c392058250d4620e72> /System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi
0x34998000 - 0x3499cfff  libGFXShared.dylib armv7  <998fccc16cf735dbb62324202995e193> /System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib
0x34b27000 - 0x34b3bfff  PersistentConnection armv7  <54091a638f8731cd85ccf00fa06972c3> /System/Library/PrivateFrameworks/PersistentConnection.framework/PersistentConnection
0x34f0c000 - 0x34f50fff  MobileCoreServices armv7  <757226927a873d5492be721908077b48> /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x34f82000 - 0x34f8ffff  libbsm.0.dylib armv7  <750a0de73a733019a77144b805d4d2f8> /usr/lib/libbsm.0.dylib
0x35132000 - 0x35209fff  CFNetwork armv7  <765a472c824830eea91b8f02d12867e4> /System/Library/Frameworks/CFNetwork.framework/CFNetwork
0x3520a000 - 0x35289fff  libsqlite3.dylib armv7  <bf01f5ed47b033d8bde30d735ff44416> /usr/lib/libsqlite3.dylib
0x35368000 - 0x3536cfff  FTClientServices armv7  <21de970d7ebb3e7fb502a0a5451b0806> /System/Library/PrivateFrameworks/FTClientServices.framework/FTClientServices
0x353be000 - 0x3553cfff  Foundation armv7  <c40ddb073142315bb4ebb214343d0b7f> /System/Library/Frameworks/Foundation.framework/Foundation
0x35618000 - 0x356e8fff  WebKit armv7  <3c5dd2ec46fe3e189c25bba78ad88fa1> /System/Library/PrivateFrameworks/WebKit.framework/WebKit
0x35768000 - 0x3581efff  AVFoundation armv7  <35cb7a0eb1dc3554a777c1cc11cb0415> /System/Library/Frameworks/AVFoundation.framework/AVFoundation
0x3581f000 - 0x35825fff  liblaunch.dylib armv7  <aa2bcba6fc7a36a191958fef2e995475> /usr/lib/system/liblaunch.dylib
0x35829000 - 0x35872fff  libc++.1.dylib armv7  <5b690e5dd5a43a7fb166ade9fe58a7a4> /usr/lib/libc++.1.dylib
0x35873000 - 0x35876fff  libcompiler_rt.dylib armv7  <b2c05d8601c13be884097192dca4e187> /usr/lib/system/libcompiler_rt.dylib
0x35886000 - 0x3599dfff  CoreFoundation armv7  <6d450fe923d7387f8b01845e0edd713d> /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
0x35b28000 - 0x35b80fff  CoreAudio armv7  <be335e8eb6f93594b028a6ddd503a183> /System/Library/Frameworks/CoreAudio.framework/CoreAudio
0x35b83000 - 0x35b83fff  libkeymgr.dylib armv7  <ebd2dddf55d83cf48a18913968775960> /usr/lib/system/libkeymgr.dylib
0x35b8c000 - 0x35b9bfff  OpenGLES armv7  <e80acc691001301e96101bb89d940033> /System/Library/Frameworks/OpenGLES.framework/OpenGLES
0x35b9c000 - 0x35b9cfff  Accelerate armv7  <55b24cf91a8b3532bde6733c96f14c08> /System/Library/Frameworks/Accelerate.framework/Accelerate
0x35b9f000 - 0x35baefff  GenerationalStorage armv7  <d84c3fd0e7bd36e78c256f2f4c5a4e91> /System/Library/PrivateFrameworks/GenerationalStorage.framework/GenerationalStorage
0x35cf1000 - 0x35cf8fff  libc++abi.dylib armv7  <bab4dcbfc5943d3fbb637342d35e8045> /usr/lib/libc++abi.dylib
0x35d1f000 - 0x35d6bfff  CoreTelephony armv7  <b8f80d5d594c31d2b5d8fba9fdedb7e1> /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony
0x35dee000 - 0x35e98fff  libBLAS.dylib armv7  <bf822cc1a3243ae7b104cf73ca22d352> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib
0x35eba000 - 0x35ebdfff  libmacho.dylib armv7  <e52b77623bd031bc807e77029566c777> /usr/lib/system/libmacho.dylib
0x35eda000 - 0x35eddfff  NetworkStatistics armv7  <7848d8ebad99367cb4f7f4e3fe88e5d6> /System/Library/PrivateFrameworks/NetworkStatistics.framework/NetworkStatistics
0x35ee4000 - 0x36029fff  CoreGraphics armv7  <903545b89a7f311d95100ac7d1d44709> /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
0x3602a000 - 0x36036fff  libCRFSuite.dylib armv7  <bdb2b4d1a78c39c1ba60d791207aed2a> /usr/lib/libCRFSuite.dylib
0x36037000 - 0x3606ffff  VideoToolbox armv7  <9f25f38d1cd13a1daff99cfde8884410> /System/Library/PrivateFrameworks/VideoToolbox.framework/VideoToolbox
0x36070000 - 0x36086fff  DictionaryServices armv7  <6ed2e967136f37d4a4b9b318d6c43b83> /System/Library/PrivateFrameworks/DictionaryServices.framework/DictionaryServices
0x36160000 - 0x361d4fff  MediaControlSender armv7  <87315c54b2293ab589950341ff91b45d> /System/Library/PrivateFrameworks/MediaControlSender.framework/MediaControlSender
0x361e4000 - 0x361fafff  libsystem_kernel.dylib armv7  <311f379a9fde305d80c1b22b7dd2e52a> /usr/lib/system/libsystem_kernel.dylib
0x3622f000 - 0x36237fff  ProtocolBuffer armv7  <0e846afacf823d2b8c029cc3010a8253> /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
0x36238000 - 0x3623dfff  CrashReporterSupport armv7  <dc11c5c2cbe73a6288a6094ebf5de673> /System/Library/PrivateFrameworks/CrashReporterSupport.framework/CrashReporterSupport
0x36240000 - 0x36240fff  libgcc_s.1.dylib armv7  <eb82984fa36c329387aa518aa5205f3d> /usr/lib/libgcc_s.1.dylib
0x36415000 - 0x36415fff  libCVMSPluginSupport.dylib armv7  <a80aaa9989483ce3a496a061fd1e9e0a> /System/Library/Frameworks/OpenGLES.framework/libCVMSPluginSupport.dylib
0x36421000 - 0x3650ffff  libiconv.2.dylib armv7  <2cfefe2ad1d335dd9549562910e7a2e2> /usr/lib/libiconv.2.dylib
0x3655f000 - 0x36560fff  libdyld.dylib armv7  <977b0ad6f2f433108b4a0324a57cd2ab> /usr/lib/system/libdyld.dylib
0x365d8000 - 0x365f1fff  libRIP.A.dylib armv7  <1828cddc5dd93c61afbefb59587d7f8a> /System/Library/Frameworks/CoreGraphics.framework/Resources/libRIP.A.dylib
0x3662a000 - 0x366d7fff  libxml2.2.dylib armv7  <58d47f064e0232119f4b838ad659f9c1> /usr/lib/libxml2.2.dylib
0x366f0000 - 0x36733fff  libcommonCrypto.dylib armv7  <95b49daf4cf038b6bea8010bba3a1e26> /usr/lib/system/libcommonCrypto.dylib
0x36734000 - 0x36735fff  DataMigration armv7  <d77f0e8f39ee37f5a2ac713a3fd9e693> /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
0x3676c000 - 0x36770fff  AggregateDictionary armv7  <3a3a33f3a05538988c6e2bb363dc46a8> /System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary
0x3678e000 - 0x36792fff  IOSurface armv7  <443ac3aab9283da480dd9dcda3c5c88e> /System/Library/PrivateFrameworks/IOSurface.framework/IOSurface
0x36795000 - 0x369c2fff  MediaToolbox armv7  <c3098478486032c6aff336fa711c4fc6> /System/Library/PrivateFrameworks/MediaToolbox.framework/MediaToolbox
0x369c6000 - 0x369c7fff  libsystem_blocks.dylib armv7  <9fdc27af7350323bbc7d98e14e027907> /usr/lib/system/libsystem_blocks.dylib
0x36a0b000 - 0x36a84fff  ProofReader armv7  <6db611d8df6530d480f97a40bc519f70> /System/Library/PrivateFrameworks/ProofReader.framework/ProofReader
0x36a85000 - 0x36aa4fff  libSystem.B.dylib armv7  <0c55744b6f7335eebba4ca2c3d10b43c> /usr/lib/libSystem.B.dylib
0x36aa5000 - 0x36b08fff  IMCore armv7  <046b6b615a743057b59d4aaba8a91d61> /System/Library/PrivateFrameworks/IMCore.framework/IMCore
0x36b0e000 - 0x36b4afff  AppSupport armv7  <311eac85b2a433a884dacba77217b49e> /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
0x36fe9000 - 0x36fedfff  libcache.dylib armv7  <d6a7436ed8dc33d795c9b42baf864882> /usr/lib/system/libcache.dylib
0x36fee000 - 0x3705efff  CoreImage armv7  <86ac6f5a267637b6b7f8a831dfc7c64b> /System/Library/Frameworks/CoreImage.framework/CoreImage
0x3752d000 - 0x37537fff  GraphicsServices armv7  <cb64e146a8ee3fda9e80ffae1ccc9c5a> /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
0x3768c000 - 0x3794dfff  libLAPACK.dylib armv7  <0e94e9a7e7a334649afaccae0f1215a2> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib
0x379fb000 - 0x379fdfff  libCoreVMClient.dylib armv7  <d4d4aa3090c83e87bcb15ed00b93fd5c> /System/Library/Frameworks/OpenGLES.framework/libCoreVMClient.dylib
0x37a06000 - 0x37a3bfff  SystemConfiguration armv7  <4464a4e3bb3f32f7abaa35ebf31fda49> /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x37a4a000 - 0x37ad0fff  CoreMotion armv7  <6a9355d5a8e238b5b8f193605d509e15> /System/Library/Frameworks/CoreMotion.framework/CoreMotion
0x37ad1000 - 0x37b11fff  libGLImage.dylib armv7  <40448706190031f6b0d9636cc11ee81d> /System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib
0x37cdd000 - 0x37da3fff  libobjc.A.dylib armv7  <90014d1bc583366d85622e43097df416> /usr/lib/libobjc.A.dylib
0x37de0000 - 0x37e2efff  CoreLocation armv7  <44550ebedf23334d85441d9743b74e03> /System/Library/Frameworks/CoreLocation.framework/CoreLocation
0x37e7d000 - 0x37e7dfff  vecLib armv7  <a2cfe25e77aa36bfb4a30b2d0d2dd465> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib
0x37e7e000 - 0x37e9bfff  libsystem_info.dylib armv7  <50863bcbf478323e96a8e5b1a83ea6f9> /usr/lib/system/libsystem_info.dylib
0x37ee0000 - 0x37ee9fff  libMobileGestalt.dylib armv7  <4a15e845dc6f3a4a980de66c1cc44c42> /usr/lib/libMobileGestalt.dylib
0x37f59000 - 0x37f59fff  libunwind.dylib armv7  <e0a73a57795f3e1698a52ebe6fc07005> /usr/lib/system/libunwind.dylib
0x37f7b000 - 0x37fccfff  CoreText armv7  <5bfac4ee88d03d5b87a1f105abb7756c> /System/Library/Frameworks/CoreText.framework/CoreText
0x37fcd000 - 0x3800afff  FTServices armv7  <3f23418319a03a589dd5cac7df20e238> /System/Library/PrivateFrameworks/FTServices.framework/FTServices
0x3816b000 - 0x3822dfff  Celestial armv7  <19617260ee073e23b95e456d93930aea> /System/Library/PrivateFrameworks/Celestial.framework/Celestial 
```

这是 pjsip_init() （第 4391 行是最后一行：“return 1;”）：

```
 int pjsip_init(const char *logfile, const char *stunserver, const char *proxy, const char *outboundproxy)
{
    static char buf[256], buf1[256], buf2[256], buf3[256];
    int param_num = 0;

    buf[0] = buf1[0] = buf2[0] = buf3[0] = 0;

    sprintf(buf, "--log-file=%s", logfile);
    if(stunserver!=NULL && *stunserver != '\0') {
        param_num++;
        sprintf(buf1, "--stun-srv=%s", stunserver);
    }
    if(proxy!=NULL && *proxy != '\0') {
        param_num++;
        sprintf(buf2, "--proxy=%s", proxy);
    }
    if(outboundproxy!=NULL && *outboundproxy != '\0') {
        param_num++;
        sprintf(buf3, "--outbound=%s", outboundproxy);
    }

    {
        char *argv[param_num + 3];
        int pos = 3;
        argv[0] = "sipapp";
        argv[1] = "--log-level=4";
        argv[2] = "--app-log-level=4";
        if(buf[0] != 0) 
            argv[pos++] = buf;
        if(buf1[0] != 0)
            argv[pos++] = buf1;
        if(buf2[0] != 0)
            argv[pos++] = buf2;
        if(buf3[0] != 0)
            argv[pos++] = buf3;
        app_init(pos, argv);
    }
    /*
     if(wstunserver) {                                      
     char *argv[] = {"sipapp",  "--log-level=4", "--app-log-level=4",buf, buf1};
     argv[0] = buf;
     app_init(5, argv);
     } else {
     char *argv[] = {"sipapp",  "--log-level=4", "--app-log-level=4",buf};
     argv[0] = buf;
     app_init(4, argv);
     }
     */
    pjsua_start();
    return 1;
} 
```

谁能帮我诊断一下这个崩溃日志？

升级到 Xcode 4.5 后有没有人遇到过类似的情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T16:16:13.423

我怀疑 pjsua_start() 中的堆栈上有一个栅栏错误，或者它调用的东西在 pjsip_init() 尝试返回时使堆栈损坏。

在调用 pjsua_start() 之前和之后查看堆栈指针和堆栈指针的内容。在模拟器上，这将是 %esp 寄存器。（在 gdb 中，您可以使用“inspect %esp”来显示值或使用寄存器窗口。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-29T16:41:29.937

我遇到了同样的问题。就我而言，我将我的项目转换为使用 ARC。这就是我修复错误的方式：

当我在发布中将优化更改为最快时会发生崩溃。我将调试模式下的优化更改为与发布（最快）相同的测试。然后我在调试中遇到了同样的崩溃。调试器向我显示崩溃的文件。然后我从那个（库）文件中删除 arc 实现。

还有一件事，我更改构建配置，使用 arc 为 NO 并将编译器标志放入 -fno-objc-arc 不使用 ARC 和 -fobjc-arc 使用 ARC。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T06:25:57.100

您可以使用[Crittercism SDK](https://www.crittercism.com/developers/docs)，它将崩溃日志和报告直接发送到您的邮件 ID。

# ios - 修复了 TableView 上屏幕底部的子视图

> ID：12506782
> 
> 赞同：1
> 
> 时间：2012-09-20T05:54:29.267
> 
> 标签：ios, uitableview, addsubview

我有一个 的子类`UITableViewController`，我想在屏幕底部添加一个视图，即使滚动表格，它也应该停留在底部。当表格可以滚动时，该视图应保持固定在其位置。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:11:49.913

除了继承 UITableViewController 之外，您还可以继承 UIViewController ，它包含一个标准 UIView 集作为它的视图出口。然后在这个 UIView 里面放一个 UITableView。

所以你会有： UIViewController > UIView > UITableView

通过这种方式，您可以将粘性视图添加到 UITableView 顶部的 UIView 中，并且它将保持静止。

需要注意的一件事是，如果您仍然希望用户在触摸粘性视图时能够滚动，您可能必须从粘性视图向下传递触摸。

# javascript - 单击Gmail搜索栏中的向下箭头时如何创建视图

> ID：12506785
> 
> 赞同：0
> 
> 时间：2012-09-20T05:54:39.190
> 
> 标签：javascript, jquery, html, javascript-events

我需要使用 HTML、CSS、JQuery 和 JavaScript 创建一个如下图所示的视图。视图可能有输入、标签、按钮。我不想使用任何直接的第三方实现。我需要自己实现这一点。我是 JavaScript 新手。帮我解决这个问题。谢谢你。![在此处输入图像描述](../Images/7aafcdf0c3847bf0b6c4398e6244f755.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:29:06.650

我将假设您可以处理 HTML/CSS。

您必须实现下拉箭头按钮的 on_click 事件。保持 div 隐藏或将显示设置为无，当用户单击下拉箭头时，将可见性设置为可见或显示为阻止。

理想情况下，您可以使用 jQuery fadeIn()、fadeOut() 方法来获得漂亮的淡入和淡出效果。

如果您对 javascript 完全陌生，我会要求您阅读各种教程，以了解它是如何工作的，以及您可以用它做什么。

[https://developer.mozilla.org/en-US/docs/JavaScript/Guide](https://developer.mozilla.org/en-US/docs/JavaScript/Guide) < 教程

# java - 与 java web 应用程序相关的初学者查询

> ID：12506789
> 
> 赞同：0
> 
> 时间：2012-09-20T05:55:16.117
> 
> 标签：java, jsp, web-applications, servlets

我正在使用 java 创建一个 Web 应用程序。我对此很陌生，我有以下问题：

1.  我有`jsp`前端的文件。现在，每当我必须做一个庞大的后端函数时，我可以创建一个 servlet 并从 jsp 执行 get 请求，或者我可以创建一个简单的 java 对象，在 jsp 中实例化它并将其用于支持的函数。哪个更好，为什么？

2.  每个后端功能都需要连接到数据库。我只想为整个会话和所有`jsp`页面的用户执行一次。它是如何完成的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:05:19.203

1.  这两个都不是。阅读有关 MVC 模式的信息。使来自浏览器的每个请求都转到一个 servlet。使这个 servlet 调用后端的服务并填充存储在请求属性中的 Java Bean。然后将请求分派给 JSP。JSP 的唯一职责应该是从请求中的 bean 获取数据并生成页面的 HTML 标记（借助 JSTL 和自定义标记。没有 scriptlet）。

2.  不应将数据库连接保留给单个用户。如果您有 1000 个并发用户每 30 秒执行一个请求，那么您将需要 1000 个连接，并且大部分时间都处于空闲状态。这超出了数据库可以支持的范围，并且这些连接无论如何都可能超时或失败。阅读有关连接池的信息，并使用一个：每个需要连接的请求都从池中获取一个，完成其工作，然后关闭连接，这实际上将其返回给它来自的池，准备好为另一个请求提供服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:06:31.163

对于问题 1：

如果不需要 servlet，为什么要使用它？只需在一个普通的 Java 类中完成繁重的工作。通过这种方式，您将在工作流程中减少依赖关系。

对于问题 2：

大多数应用服务器现在都内置了对池连接的支持。强烈建议您使用此功能。现在，您可以通过多种方式继续前进。最简单和 IMO 最好的方法是创建一个与数据库相关的对象，它将处理连接打开/关闭、执行更新/删除/选择功能，并在整个应用程序中使用它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T06:07:32.267

我认为如果您选择一个框架，例如[Spring （您可以](http://www.springsource.org/)[在此处](https://stackoverflow.com/questions/7662857/java-spring-tutorials)找到教程列表），您最终会得到更清晰的 JSP 文件和更结构化的项目。春天也应该阻止你重新发明轮子，从头开始一切。

关于你的第二个问题，我不明白你的问题。如果您想为每个用户打开一个连接，那么您将消耗可用于其他更有用事物的资源。这样的系统也*不会*扩大规模。为此，我推荐另一个框架[Hibernate](http://www.hibernate.org/)，您可以在*数据访问层中使用它（*[在此处](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)阅读有关 MVC（模型视图控制器）设计模式的更多信息）来管理数据库事务。

# javascript - 对象参数是否作为 Javascript 中的引用传递给函数？

> ID：12506790
> 
> 赞同：0
> 
> 时间：2012-09-20T05:55:23.487
> 
> 标签：javascript, jquery

我有以下 javascript 代码：

```
var oLink = {
        title:   $link.attr('title') || '',
        row:     $link.attr('data-row') || '',
        $modal:  ''
    } 
```

我现在调用这样的函数：

```
oLink.$modal = accessModalOpen(oLink, content); 
```

我需要返回 oLink.$modal 还是可以将其设置在 accessModalOpen 中？换句话说，参数 oLink 是作为 javascript 中的引用传递的吗？

**更新：**

在 oLink 声明中添加了 $modal

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T05:58:36.387

使用您当前的设置，您应该返回它。`oLink` **作为引用**传递，所以你也可以在函数内部设置它，但是你会得到这个：

```
accessModalOpen(oLink, content); 
```

[Demo帮助你理解](http://jsfiddle.net/amaan/8e7fM/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T06:25:09.897

> *“换句话说，参数oLink是作为javascript中的引用传递的吗？”*

是的。在您的函数中，您将拥有对同一对象的引用，而不是对象的副本，因此您可以在函数中更新、添加和删除对象属性。

请注意，从某些语言的意义上说，它不是“通过引用传递”。函数外部的变量和函数内部使用的参数都将引用同一个对象，这就是您可以更改其属性的原因，但是如果您将函数参数分配给不影响函数外部变量的其他对象这将继续引用原始对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T06:05:52.377

*在这种特定情况下*，两者都将获得相同的结果，但这取决于`oLink.$modal`属性的实际语义。如果该属性与 的逻辑密切相关`accessModalOpen`，那么您应该将其设置在*内部* `accessModalOpen`；如果存在`accessModalOpen` *不应该*设置的情况`oLink.$modal`，但您仍然需要以其他方式使用该值，则应该返回它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-20T06:11:19.460

您可以执行以下任一操作：

[演示](http://jsfiddle.net/mplungjan/r8anu/)

```
var $link = {
    attr:function(str) { return str; }
}

function accessModalOpen(obj,cont) {
    return "Modal: accessed "+obj.title+" with "+cont.text;
}    
function accessModalOpen1(obj,cont) {
    obj.$modal1= "Modal1: accessed "+obj.title+" with "+cont.text;
}    
var content = {
    text:"This is content"
}    
var oLink = {
  title:   $link.attr('object title') || '',
  row:     $link.attr('data-row') || ''
}

oLink.$modal = accessModalOpen(oLink, content); // return content and set
alert(oLink.$modal); 

accessModalOpen1(oLink, content); // just set
alert(oLink.$modal1); 
​ 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-20T06:20:21.203

为了帮助（或阻碍......我们将看到），JS 通过引用传递非标量对象，但通过值传递标量对象。

```
var x = 10;
function increment (num) { num += 1; }

increment(x);
console.log(x); // 10; 
```

同时：

```
var bob = {
    name : "Bob",
    age : 32,
    job : "Shoe Salesman",
    salary : 2000000
};

function fire (employee) {
    delete employee.job;
    employee.unemployed = true;
    employee.salary = 0;
}

fire(bob); // { name : "Bob", age : 32, unemployed : true, salary : 0 } 
```

因此，如果您将对象或函数传递给函数，您将能够添加/修改属性。
如果您传递一个数组，您将能够将项目推入其中，或从中弹出项目。

如果要传递字符串、数字或布尔值，则需要使用返回值（但如果传递对象，则可以将其属性之一修改为标量值）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-09-16T22:08:21.483

与所有 JavaScript 参数一样，oLink 将按值传递给函数*accessModalOpen*。但是，oLink 本身只是对全局堆中存储 oLink 对象内容的位置的引用。这意味着您可以在函数内修改 oLink 上的属性，并且这些修改将在函数返回后继续可见。

*如果您要将oLink*重新分配给 accessModalOpen 中的新对象，则该更改在函数返回后将不可见。这意味着如果未分配，您将无法执行创建新 oLink 对象之类的操作。

简短的回答是，您可以在函数内修改 oLink，就像您要求的那样。但请注意，如果您对 oLink 引用的对象进行了任何更改，那么这些更改将在函数返回后（在外部范围内）被丢弃。如果您不理解它，这可能会导致一些难以跟踪的错误。

有一篇非常好的文章，我将在下面链接我强烈推荐的 JavaScript 如何处理参数传递。它更详细地说明了正在发生的事情。

[JavaScript 参数传递](http://www.chaosincomputing.com/2015/08/javascript-parameter-passing/)

# scala - scala：实现一个通用的递归最大函数

> ID：12506791
> 
> 赞同：10
> 
> 时间：2012-09-20T05:55:24.127
> 
> 标签：scala, generics, recursion

我正在尝试将此haskell max函数实现移植到scala

```
maximum' :: (Ord a) => [a] -> a  
maximum' [] = error "maximum of empty list"  
maximum' [x] = x  
maximum' (x:xs) = max x (maximum' xs) 
```

这是我的第一次尝试：

```
def max[T <: Ordered[T]](list: List[T]): T = list match {

  case Nil => throw new Error("maximum of empty list")
  case head :: Nil => head
  case list => {
    val maxTail = max(list.tail)
    if (list.head > maxTail) list.head else maxTail
  }
}

max(List[Int](3,4)) 
```

但我收到以下错误：

```
inferred type arguments [Int] do not conform to method max's type parameter bounds [T <: Ordered[T]] 
```

我尝试了类似结果的订购，可比等......

关于缺少什么的任何想法？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2014-04-26T18:34:05.533

经历了与 OP 无模式匹配和泛型类型类似的练习，并得出以下结论：

```
def max(xs: List[Int]): Int = {
    if (xs.isEmpty) throw new NoSuchElementException

    if (xs.length == 1) 
        return xs.head 
      else 
        return max(xs.head, max(xs.tail))
  }

  def max(x: Int, y: Int): Int = if (x > y) x else y 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-09-20T05:58:11.953

也许你想要`Ordering`类型类？

```
def max[T: Ordering](list: List[T]): T = list match {
  case Nil => throw new RuntimeException("maximum of empty list")
  case head :: Nil => head
  case list =>
    val maxTail = max(list.tail)
    if (implicitly[Ordering[T]].gt(list.head, maxTail)) list.head else maxTail
} 
```

毕竟，这是内置`max`方法的工作原理：

```
// From GenTraversableOnce
def max[A1 >: A](implicit ord: Ordering[A1]): A 
```

如果你这样做，你可以清理很多东西：

```
def max[T](list: List[T])(implicit ord: Ordering[T]): T = list match {
  case Nil => throw new RuntimeException("maximum of empty list")
  case head :: Nil => head
  case head :: tail => ord.max(head, max(tail))
} 
```

或者，您可以将其设为尾递归以提高效率（因为编译器会对其进行优化）：

```
def max[T](list: List[T])(implicit ord: Ordering[T]): T = {
  if (list.isEmpty)
    throw new RuntimeException("maximum of empty list")

  @tailrec
  def inner(list: List[T], currMax: T): T =
    list match {
      case Nil => currMax
      case head :: tail => inner(tail, ord.max(head, currMax))
    }
  inner(list.tail, list.head)
} 
```

此外，您应该 throw`RuntimeException`或它的子类，而不是`Error`.

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-30T00:10:26.473

我刚刚想出了这个解决方案。

```
def max(xs: List[Int]): Int = {
    if (xs.isEmpty) 0
    else {
      if( xs.head >= max(xs.tail) ) xs.head
      else max(xs.tail)
    }
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-11-07T14:00:14.117

我想出了一个非常简单的解决方案，很容易理解。它适用于空列表、只有一个元素的列表和负数。

```
def max(xs: List[Int]): Int = {

  if (xs.isEmpty) throw new NoSuchElementException
  else {
    def inner(max: Int, list: List[Int]): Int = {

      def compare(x: Int, y: Int): Int =
        if (x > y) x
        else y

      if (list.isEmpty) max
      else inner(compare(max, list.head), list.tail)
    }
    inner(xs.head, xs.tail)
  } 
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T06:04:54.170

哎呀，问之前应该更好看

我在这个线程中找到了答案：[https ://stackoverflow.com/a/691674/47633](https://stackoverflow.com/a/691674/47633)

似乎 Haskell 的类型类是使用 scala 中的隐式实现的（就像在 dhg 的示例中一样）

所以它最终是这样的：

```
def max[T](list: List[T])(implicit f: T => Ordered[T]): T = {

 def maxElement(value1: T, value2: T): T = if (value1 > value2) value1 else value2

 list match {
    case Nil => throw new Error("empty list found")
    case head :: Nil => head
    case list => maxElement(list.head, max(list.tail))
  }
} 
```

或者加上一些语法糖，只是

```
def max[T <% Ordered[T]](list: List[T]): T = list match { 
```

不过，我认为编译器有足够的信息可以自己完成......

ps：我把这个功能美化了一点...

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-07-04T16:57:57.940

```
def genFunc[A](a1: A, a2: A)(f:(A, A) => Boolean):A = if (f(a1, a2)) a1 else a2
def min[A : Ordering] = (a1: A, a2: A) => implicitly[Ordering[A]].lt(a1, a2)
def max[A : Ordering] = (a1: A, a2: A) => implicitly[Ordering[A]].gt(a1, a2)

List(1,2,8,3,4,6,0).reduce(genFunc(_,_)(min))
List(1,2,8,3,4,6,0).reduce(genFunc(_,_)(max)) 
```

或者如果只需要带有尾递归的函数 max 并且类型 Option[_] 不会破坏引用透明度

```
def max[A: Ordering](list: List[A]): Option[A] = list match {
  case Nil => None
  case h :: Nil => Some(h)
  case h :: t => if(implicitly[Ordering[A]].gt(h, t.head)) max(h :: t.tail) else max(t)
}

max(List(1,2,8,3,4,6,0)).getOrElse("List is empty") // 8: Any
max(List()).getOrElse("List is empty")              // List is empty: Any 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-01-17T14:34:54.640

这是我能想到的最简单的方法：

```
def max(xs: List[Int]): Int = { if (xs.length == 1) xs.head

else if(xs.isEmpty) throw new NoSuchElementException

else if(xs.head > max(xs.tail))  xs.head

else max(xs.tail)}  } 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-08-26T19:29:26.073

这行得通

```
def max(xs: List[Int]): Int = xs match{
  case Nil => 0
  case head :: Nil => head
  case head :: tail => max(List(head, max(tail)))
} 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2019-03-05T08:55:12.460

我的解决方法：

```
 def max(xs: List[Int]): Int = {
    if (xs.isEmpty) 0
    else xs.max
  } 
```

# php - 简单的图像上传脚本，根据用户的要求将图像存储在服务器中，并在 mysql 中存储一些详细信息

> ID：12506793
> 
> 赞同：-2
> 
> 时间：2012-09-20T05:55:41.927
> 
> 标签：php, mysql, image, upload

嗨，我想要一个脚本，它允许用户上传他们的图像以及我要求的一些信息，例如图像名称 url 它的 id 像这样。我找到了一些上传脚本，但这不是我所要求的。所以任何人都可以建议我一些脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:05:04.720

```
<form id="uploadform" name="uploadfile" action="uploadprocess.php" method="POST" enctype="multipart/form-data"  ">

                <input type="hidden" name="MAX_FILE_SIZE" value="100000" />
                <input id="uploadfile" type="file"  name="uploadfile"  />  
//create more input fields as you want 
</form> 
```

在uploadprocess.php

```
 $whitelist = array(".png");//create while list for all items as you want
                     foreach ($whitelist as $item)
                         {

                            if(preg_match("/$item\$/i", $_FILES['uploadfile']['name']))
                                    {
                                        $uploaddir='uploads/';
                                        $uploadfile=mysql_prep($uploaddir.basename($_FILES['uploadfile']['name']));
                                        $access=true;
                                    }
                         }
if($access){

if(move_uploaded_file($_FILES['uploadfile']['tmp_name'], $uploadfile) ) 
                               {
                                    $name=mysql_prep(($_FILES['uploadfile']['name']));
                                    $type=mysql_prep(($_FILES['uploadfile']['type']));

                                    $size= intval($_FILES['uploadfile']['size']);
                                 //create more data as user input
// and insert into database

                                    $query="INSERT INTO upload_file (name,type,created) VALUES ('{$name}','{$type}',NOW())";
                                    $result=mysql_query($query);

} 
```

# visual-studio-2010 - 如何使 VS2010 Gridview 不显示“时间”列类型的毫秒

> ID：12506794
> 
> 赞同：0
> 
> 时间：2012-09-20T05:55:50.507
> 
> 标签：visual-studio-2010, gridview

我有一个名为的表`testtable`，其中有一列名为`expire_time`[time]

问题是，当我使用 Visual Studio 2010 中的数据源执行 sql 查询时，例如：

```
select * from testtable 
```

Gridview 会给我如下内容：

```
====================================
| 身份证 | 过期时间 |
====================================
| 1 | 17:18:19:0370000 |
| 2 | 20:11:19:0680000 |
====================================

```

是否可以让我的 Gridview 显示以下内容？

```
============================
| 身份证 | 过期时间 |
============================
| 1 | 17:18:19 |
| 2 | 20:11:19 |
============================

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T13:56:37.247

在你的 SQL 语句中试一试：select convert(varchar, getdate(), 1)

# keyboard-shortcuts - 用于在源文件和依赖文件之间交换的 Dreamweaver 快捷方式

> ID：12506802
> 
> 赞同：2
> 
> 时间：2012-09-20T05:57:14.120
> 
> 标签：keyboard-shortcuts, dreamweaver

Dreamweaver (CS 5.5) 将源代码和相关文件显示为子选项卡 (?)。

![在 Dreamweaver 中查看源代码和依赖文件](../Images/427ae8bc397085603148b6a45fd50f7a.png)

您可以在选项卡 control+shift+tab 之间交换，但是如何在源文件和依赖文件之间交换？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-10T00:50:45.983

这个问题困扰了我很长时间，我很高兴地说我已经找到了部分解决方案。没有用于在相关（依赖）文件之间切换的键盘快捷键，但是有一个名为“转到源代码”的快捷键，默认情况下是 Ctrl+Alt+`。

可选：此快捷方式（和任何其他快捷方式）也可以通过“编辑”选项卡下的“键盘快捷方式”菜单进行编辑。为此，在所述菜单中，选择“Dreamweaver 标准”作为“当前集”，然后单击顶部 4 个按钮中最左边的按钮，称为“复制集”。这将允许您使用您选择的名称创建一组重复的快捷方式。完成后，您将能够通过从“命令”选择框中选择“文档编辑”来找到“转到源代码”快捷方式。这个快捷方式应该是倒数第二个。要更改它的键盘顺序，请单击它，插入一个新的“按键”，单击“更改”按钮，然后单击“确定”按钮接受更改。

至于切换到相关文件，可以通过查看->相关文件来完成。这显然不像使用指定的键盘快捷键那样即时，但请记住，问题是必须使用鼠标才能切换到相关文件，而这种方法允许您单独使用键盘（Alt+箭头）。

# list - 在 Sharepoint 联系人列表中创建可点击的电话超链接

> ID：12506804
> 
> 赞同：4
> 
> 时间：2012-09-20T05:57:28.313
> 
> 标签：list, sharepoint, hyperlink, phone-number

我想`<a href:"TT:0123456789?Dial">`在 Sharepoint Foundation 2010 列表中创建一个链接。如果我将其作为超链接/单个项目/富文本等插入列中并将鼠标悬停在其上，它会像链接一样响应，但我无法使用 Polycom（连接计算机的）VOIP 电话进行呼叫。它只会点击整行。

我真的很想使用 SP 联系人列表。插入可点击拨号链接的解决方案是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T07:14:27.677

您的解决方案是为此创建一个自定义字段类型。Crete 列类型，例如，显示带有您的链接的电话图标。当您单击图标时，它将调用而不是仅标记整行。[在此处](http://msdn.microsoft.com/en-us/library/ms446361%28v=office.14%29.aspx)阅读更多相关信息。

# rest - URI 弃用/过期的 HTTP 标头字段

> ID：12506817
> 
> 赞同：5
> 
> 时间：2012-09-20T05:59:04.503
> 
> 标签：rest, version-control, http-headers

我正在构建一个 REST 服务，我想在其中实现一种方法来弃用某些 URI，因为某种原因不再支持某些 URI。随着功能被弃用，它们将被以类似（但不相同）方式工作的新功能所取代。这意味着在某些时候，我将不得不开始回应`410 Gone`。

这个想法是所有客户端软件都应该更新，六个月后所有用户都应该有机会升级。此时，不推荐使用的 URI 将开始通知客户端它已过期，以便客户端可以向用户显示消息。但是，这个时间是事先不知道的，也不能明确地写在文档中。

我要解决的问题是：

**是否有我应该使用的 HTTP 标头字段来指示某个 URI 将在某个时间停止工作，如果是，是哪个？**

这不可能是第一次有人想要解决这个问题。是否有一个非官方的标题字段已经在使用，还是我应该自己设计？请注意，我不想将此信息添加到内容本身，因为这意味着每个资源都已更改并且需要由客户端刷新，这当然不是发生的情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T14:04:55.353

严格来说，没有。资源应该驱动您的应用程序状态，因此如果发生更改，uri 链接将为您的应用程序提供必要的更改。

对于 HTTP 标头，您可以自由添加自定义标头。通常从 X- 开始，但重要的是了解 uri 的更改只对开发人员而不是用户感兴趣。

# javascript - 如何使用 d3.js 为圆环图中的数据创建标签

> ID：12506819
> 
> 赞同：12
> 
> 时间：2012-09-20T05:59:14.553
> 
> 标签：javascript, html, charts, d3.js, labels

我有一个圆环图，可以在点击时更新数据。我想为相同的数据添加标签。我目前正在使用*d3.js* javascript 库。 [这是我在 jsfiddle 上的代码](http://jsfiddle.net/N5Znf/)

我不明白如何将标签添加到圆环图的各个部分？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-22T11:33:56.793

您必须使用[arc.centroid](https://github.com/mbostock/d3/wiki/SVG-Shapes#wiki-arc_centroid)函数。请看以下示例：

*   [http://jsfiddle.net/nrabinowitz/GQDUS/](http://jsfiddle.net/nrabinowitz/GQDUS/)
*   [http://bl.ocks.org/2295263](http://bl.ocks.org/2295263)
*   [http://jsfiddle.net/MX7JC/9/](http://jsfiddle.net/MX7JC/9/)
*   [http://blog.stephenboak.com/2011/08/07/easy-as-a-pie.html](http://blog.stephenboak.com/2011/08/07/easy-as-a-pie.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T11:57:45.933

请查看： http: [//nvd3.org/examples/pie.html](http://nvd3.org/examples/pie.html)或[http://bl.ocks.org/Guerino1/2295263](http://bl.ocks.org/Guerino1/2295263)。检查代码，您应该能够相当容易地回答这个问题。玩得开心！

# matlab - 高斯分布

> ID：12506826
> 
> 赞同：3
> 
> 时间：2012-09-20T05:59:57.110
> 
> 标签：matlab, random, plot, gaussian

我想要一个 MATLAB 程序来生成`n`假设高斯分布的随机数，给定以下输入：

*   2 表示（对于 x 和 y 轴）
*   标准差
*   方差（协方差矩阵 = 标准差 x 单位矩阵）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T06:07:42.723

高斯分布的另一个词是正态分布。多维有时也称为多变量。因此请参阅：[Matlab 中的多元正态分布](http://www.mathworks.ch/ch/help/stats/multivariate-normal-distribution.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T10:27:37.760

如果您无权访问统计工具箱，您可以使用创建`(x,y)`正态分布数据对`randn`

```
%# create an array of 100 pairs of normally distributed
%# coordinates with mu=0 and sigma=1

xy = randn(100,2);

%# transform the data such that means equal mu
%# and standard deviations equal sigma (no cross-correlation)

mu = [3,25]; %# means for x, y
sigma = [9,1]; % standard deviations for x,y

xy = bsxfun(@times,xy,sigma); %# fix standard deviation
xy = bsxfun(@plus,xy,mu); %# fix means 
```

# drop-down-menu - 从 IE8 的下拉列表中显示/隐藏选定的选项不起作用

> ID：12506827
> 
> 赞同：3
> 
> 时间：2012-09-20T05:59:59.403
> 
> 标签：drop-down-menu, internet-explorer-8, hide, show

我正在尝试在 Dropdownlist 上做一个显示/隐藏机制。这种情况是，一旦从下拉列表中选择了该值，则该值在第二个下拉列表中将不再可用。

该代码适用于 Firefox，但不适用于 IE8。这是代码

```
<select id="dropdownone" class="" name="dropdownone">
<option selected="selected" value="">Default</option>
<option value="1">question 1?</option>
<option value="2">question 2</option>
<option value="3">question 3</option>
</select>

<select id="dropdowntwo" class="" name="dropdowntwo">
<option selected="selected" value="">Default</option>
<option value="1">question 1?</option>
<option value="2">question 2</option>
<option value="3">question 3</option>
</select>

$("#dropdownone").bind('change', function () {
            var index = this.selectedIndex;
            if (this.value != "") {
                $("#dropdowntwo option").each(function () {
                    var disabled = (this.index == index);
                    //$(this).attr("hidden", disabled);
                    if (disabled ) {
                        $(this).css('visibility', 'hidden');
                    } else {
                        $(this).show();
                    }
                });
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-10T09:05:36.090

你可以试试：

```
$("#dropdownone").bind('change', function () {
var firstDropDown = this.selectedIndex;

if (this.value != "") {              
    $("#dropdowntwo option").each(function () {
        if(this.index == firstDropDown) {
            $("#dropdowntwo option[value='" + firstDropDown + "']").attr("style", "visibility: hidden;");
        } else {
            $("#dropdowntwo option[value !='" + firstDropDown + "']").attr("style", "visibility: show;");
        }
    });
}
}); 
```

我已经检查过这在 IE8 中是否有效。

# asp.net-mvc-4 - ASP MVC 4 JsonResult 如何使用 ISO 8601 日期？

> ID：12506828
> 
> 赞同：14
> 
> 时间：2012-09-20T06:00:02.670
> 
> 标签：asp.net-mvc-4

我刚刚安装了 ASP MVC 4，我的 JSON 日期仍然以旧格式返回`{"timestamp":"\/Date(1348070400000)\/"}`。

我[的印象](http://blogs.msdn.com/b/henrikn/archive/2012/02/18/using-json-net-with-asp-net-web-api.aspx)是他们应该在`2012-02-18T00:54:06.8447642Z`我不做任何事情的情况下以格式回归。

> 注意：JSON.NET 现在是 ASP.NET Web API 不可或缺的一部分，因此您可以直接使用它。

我的控制器看起来像这样

```
public JsonResult Test()
{
    return Json(new {timestamp = DateTime.Now()}, JsonRequestBehavior.AllowGet);
} 
```

我怎样才能让它工作？我是否需要更改我的 Global.asax.cs 或 Web.config？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-09-20T06:08:33.080

> 我的印象是，他们应该以 2012-02-18T00:54:06.8447642Z 的格式返回，而无需我做任何事情。

这仅适用于 ASP.NET Web API (ApiControllers)。但是返回 JsonResults 的标准 ASP.NET MVC 控制器操作仍然使用`JavaScriptSerializer`. 因此，如果您想使用 ISO 8601 日期，您可以通过 JSON.NET 通过编写[自定义操作结果](http://james.newtonking.com/archive/2008/10/16/asp-net-mvc-and-json-net.aspx)来交换此序列化程序。只需将适当的转换器添加到序列化程序使用的设置中：

```
SerializerSettings.Converters.Add(new IsoDateTimeConverter()); 
```

您可能会问为什么他们没有为标准控制器实现 JSON.NET。我想这是出于兼容性原因，因为这将是一个重要的突破性变化。但我可能会让 JSON.NET 成为默认序列化程序，并为那些升级现有应用程序的人提供后备选项。

# java - 如何在 JSF 中使用 FTP 文件上传？

> ID：12506829
> 
> 赞同：1
> 
> 时间：2012-09-20T06:00:04.077
> 
> 标签：java, jsf, file-upload, ftp

我想`org.apache.commons.net.ftp.FTPClient`在我的 JSF 应用程序中使用。客户端（Web 浏览器）如何将大文件上传到我的 Web 应用程序服务器。即使我使用`RichFaces File Upload`or `PrimeFaces File Upload`，客户端浏览器也可以使用`HTTP Protocol`. 如何支持`FTP Protocol`客户端浏览器？你能提供更好的方法吗？

**原因：**应用用户无法直接访问我们的`Repository Server(SVN)`。首先，他们必须将文件上传到我们的应用程序`Web AS`。然后，应用程序`checkin/chekout`到`RepositoryServer`. 应用用户至少可以上传500M到2G的文件。这就是为什么，我在想，我怎样才能支持`FTP Protocol`浏览器客户端更快。否则，我是不是想错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T12:20:22.687

为了能够将文件发送到 FTP 服务器，您显然需要一个 FTP 客户端。

但是，网络浏览器是 HTTP 客户端，而不是 FTP 客户端。这是网络浏览器的自然功能设计限制。JSF 看起来像个魔术师，但在这里它真的无能为力。它仅拦截 HTTP 请求/响应。

确实，你想错了。只需坚持以通常的 HTTP 方式上传文件即可。如果您*绝对肯定*出于某种原因需要 FTP，那么您最好的选择很可能是为此自制一个 Java Applet，但这毕竟是笨拙的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T11:46:21.830

首先通过 primefaces 将 HTTP 上传到临时目录。然后通过 org.apache.commons.net.ftp.FTPClient 或者通过 sun.net.ftp.FtpClient 上传到需要的 FTP Server。

下面是一个例子；

```
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.OutputStream;
import sun.net.ftp.FtpClient;

/**
 *
 * @author fali
 */
public class FtpUtil {

    public String server, username,password, remote, remotedir, local;
    FtpClient ftp;
    public static int BUFFER_SIZE = 10240;
    public FtpUtil(){
        server = "localhost";
        username = "anonymous";
        password = " ";
        remotedir = "/incoming";
        remote = "dvs.txt";
        local = "C:\\dvs.txt";

    }
    protected void putFile() {
    if (local.length() == 0) {
      System.out.println("Please enter file name");
    }
    byte[] buffer = new byte[BUFFER_SIZE];
    try {
      File f = new File(local);
      int size = (int) f.length();
      System.out.println("File " + local + ": " + size + " bytes");
      System.out.println(size);
      FileInputStream in = new FileInputStream(local);
      OutputStream out = ftp.put(remote);

      int counter = 0;
      while (true) {
        int bytes = in.read(buffer);
        if (bytes < 0)
          break;
        out.write(buffer, 0, bytes);
        counter += bytes;
        System.out.println(counter);
      }

      out.close();
      in.close();
    } catch (Exception ex) {
      System.out.println("Error: " + ex.toString());
    }
  }

    public String Upload(){
        String result="";
        try{
        ftp = new FtpClient(server);
        ftp.login(username, password);
        System.out.println(ftp.welcomeMsg);
        ftp.cd(remotedir);
        putFile();
        disconnect();
        }catch(Exception ex){
            System.out.println(ex);
            result = "Error : "+ex;
        }
        return "";
    }
    protected void disconnect() {
    if (ftp != null) {
      try {
        ftp.closeServer();
      } catch (IOException ex) {
      }
      ftp = null;
    }
  }
} 
```

在您的托管bean/控制器中；

```
public String create() {
        System.out.println("Request Button Clicked");
        try {
            // generate reference number
            //current.setReferenceno(genReferenceNo());
            // add to database 
            //getFacade().persist(current);

            // upload to ftp
            FtpUtil fu = new FtpUtil();
            fu.Upload();
            // show reference number

            JsfUtil.addSuccessMessage(ResourceBundle.getBundle("/Bundle").getString("QueueCreated"));
            JsfUtil.addSuccessMessage("Your Reference No. is :" + current.referenceno);
            current = null;
//            try {
//                System.out.println("Redirecting");
//                FacesContext.getCurrentInstance().getExternalContext().dispatch("/");
//            } catch (Exception ex) {
//                System.out.println(ex);
//            }            
            return "";
        } catch (Exception e) {
            JsfUtil.addErrorMessage(e, ResourceBundle.getBundle("/Bundle").getString("PersistenceErrorOccured"));
            return null;
        }
    } 
```

在你的页面中有这样的东西；

```
<br />                    
                <ppctu:commandButton action="#{appointmentController.create}" type="Submit" value="Request" /> 
```

# c++ - linux c++串口回显输出

> ID：12506836
> 
> 赞同：4
> 
> 时间：2012-09-20T06:01:19.677
> 
> 标签：c++, linux, serial-port

在我将字节发送到串行端口的程序中，我收到了我发送的字节。我不想接收我发送的字节，我不知道该怎么做？

```
#include <stdio.h>
#include <fcntl.h>
#include <termios.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <sys/time.h>
#include <sys/select.h>
#include <sys/ioctl.h>

int fd;
struct termios tio, old_tio;

time_t SubTime_mSec(timeval val1, timeval val2)
{
    timeval tv;
    if (val1.tv_sec > val2.tv_sec) return (0);
    if (val1.tv_sec == val2.tv_sec)
        if (val1.tv_usec > val2.tv_usec) return (0);
    tv.tv_sec = val2.tv_sec - val1.tv_sec;
    if (val1.tv_usec < val2.tv_usec) {
        tv.tv_usec = val2.tv_usec - val1.tv_usec;
    } else {
        tv.tv_sec --;
        tv.tv_usec = 1000000 + val2.tv_usec - val1.tv_usec;
    }

    return(tv.tv_sec*1000 + tv.tv_usec/1000);
}

void RTUOutMessage(int cnt1, int cnt2)
{
    unsigned char msg[13] = {0x01, 0x10, 0x00, 0x2F, 0x00, 0x02, 0x04, 0x4B, 0x64, 0x3D, 0xD9, 0x36, 0xC6};
    int Len = 13;
    int status, i, j;
    ioctl(fd, TIOCMGET, &status);

    status = status | TIOCM_RTS | TIOCM_DTR;
    ioctl(fd, TIOCMSET, &status);
    write(fd, msg, Len);
    for (j = 0; j < cnt1; j ++)
        for (i = 0; i < cnt2; i ++);
    ioctl(fd, TIOCMGET, &status);
    status &= ~TIOCM_RTS;
    status &= ~TIOCM_DTR;
    ioctl(fd, TIOCMSET, &status);

    timeval start_t, curr_t;
    char Buff[80];
    int l;

    gettimeofday(&start_t, NULL);
    curr_t = start_t;
    while (SubTime_mSec(start_t, curr_t) < 1000) {
        l = read(fd, Buff, 80);
        if (l > 0) {
            printf("BUFFER=");
             for(i = 0; i < l; i++) {
                 printf(" %x", Buff[i]);
             }
             //printf("\n");
        }
        gettimeofday(&curr_t, NULL);
    }
}

void  InitPort(void)
{
    int StopBits = 2;
    if ((fd = open("/dev/ttyAM2", O_RDWR | O_NDELAY)) < 0) {
        printf("Couldn't open //dev//ttyAM2\n");
    }
    tcflush(fd, TCIOFLUSH);
    int n = fcntl(fd, F_GETFL, 0);
    fcntl(fd, F_SETFL, n & ~O_NDELAY);
    tcgetattr(fd, &old_tio);
    tcgetattr(fd, &tio);
    cfsetospeed(&tio, (speed_t)B9600);
    cfsetispeed(&tio, (speed_t)B9600);
    tio.c_cflag = (tio.c_cflag & ~CSIZE) | CS8;
    tio.c_cflag |= CLOCAL | CREAD ;
    tio.c_cflag &= ~OFILL; 
    //parity
    tio.c_cflag &= ~(PARENB | PARODD);
    tio.c_cflag &= ~CRTSCTS;
    if (StopBits == 2) tio.c_cflag |= CSTOPB;
    else tio.c_cflag &= ~CSTOPB;
    tio.c_iflag=IGNBRK;
    tio.c_iflag &= ~(IXON|IXOFF|IXANY);
    tio.c_lflag=0;
    tio.c_oflag=0;
    tio.c_cc[VTIME]=0;
    tio.c_cc[VMIN]=0;
    if (tcsetattr(fd, TCSANOW, &tio)!=0) printf("tcsetattr() 1 failed\n");

    int mcs=0;
    ioctl(fd, TIOCMGET, &mcs);
    mcs |= TIOCM_RTS;
    ioctl(fd, TIOCMSET, &mcs);

    if (tcgetattr(fd, &tio)!=0) printf("tcgetattr() 4 failed\n");
    tio.c_cflag &= ~CRTSCTS;
    if (tcsetattr(fd, TCSANOW, &tio)!=0) printf("tcsetattr() 2 failed\n");
}

int main(int argc, char **argv)
{
    InitPort();
    int cnt1, cnt2;
    cnt1 = 3;
    cnt2 = 20000;
    cnt1 = atoi(argv[1]);
    cnt2 = atoi(argv[2]);
    for(;;) {
    RTUOutMessage(cnt1, cnt2);
    usleep(1000000);
    }
    tcsetattr(fd, TCSANOW, &old_tio);
    close(fd);
    printf("End\n");

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-21T08:10:02.437

如果您正在接收您发送的字符，那么遥控器的串行端口显然正在回显其输入。

您要么必须在其他设备上禁用输入回声，要么在接收逻辑中执行“回声消除”。IE 创建一个“echo FIFO”。输出到串口的每个字节也被写入“echo FIFO”。设置一个标志，表明预期会有回声。接收到输入时，将其与“echo FIFO”进行比较，并在匹配时删除字符，然后丢弃接收字符。如果不匹配，则接受接收字符。当“echo FIFO”为空时清除 echo 标志。

顺便说一句，代码似乎将串行端口设置为原始或非规范模式。首选的方法是使用

```
cfmakeraw(&tio); 
```

而不是

```
tio.c_iflag=IGNBRK;
tio.c_iflag &= ~(IXON|IXOFF|IXANY);
tio.c_lflag=0;
tio.c_oflag=0; 
```

# php - 在php中从mysql数据库中获取数据

> ID：12506837
> 
> 赞同：-3
> 
> 时间：2012-09-20T06:01:18.930
> 
> 标签：php, mysql, sql

> **可能重复：**
> [警告：mysql_fetch_array()：提供的参数不是有效的 MySQL 结果](https://stackoverflow.com/questions/795746/warning-mysql-fetch-array-supplied-argument-is-not-a-valid-mysql-result)

我正在从 PHP 中的 MySQL 数据库中获取数据，但它给出了如下错误：

警告：mysql_fetch_assoc()：提供的参数不是第 97 行 /home/content/i/h/u/ihus235/html/cs/emrapp/surveyList.php 中的有效 MySQL 结果资源 []

下面是我用来选择数据的查询：

```
 $query = mysql_query("SELECT * form survey_Profile where user_Id='".$user_id."' "); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T06:05:20.523

改变

```
$query = mysql_query("SELECT * form survey_Profile where user_Id='".$user_id."' "); 
```

到

```
$query = mysql_query("SELECT * from survey_Profile where user_Id='".$user_id."' "); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T06:10:42.113

tthat错误的原因可能是mysql返回False。您可以添加：

```
echo "SELECT * form survey_Profile where user_Id='".$user_id."' "; 
```

要查看发送到 mysql 的字符串，请直接在 phpmyadmin 中对其进行测试。另外，添加此代码以查看来自 mysql 的错误：

```
if (mysql_errno()) {
    echo "<br />". mysql_errno(). " : ". mysql_error(). "<br />";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T06:05:23.243

您收到此错误是因为您的表中不存在 user_id 值。

因此，在将资源执行到 mysql_fetch_assoc() 之前，请检查是否有匹配的行。

```
if(mysql_num_rows($query) > 0) {
//user mysql_fetch_assoc now
} 
```

而且您还有 sql 语法错误，在您的查询中将“form”替换为“from”

# c - fscanf 导致分段错误

> ID：12506838
> 
> 赞同：1
> 
> 时间：2012-09-20T06:01:23.103
> 
> 标签：c

```
void RdImage(FILE *fpi, char Image1[MAXROW][MAXCOL], int Nrows, int Ncols) {
    int i = 0, j = 0, temp;

    while (!feof(fpi)) {
        if (i % Nrows == 0) {
            i = 0; 
            j++;
        }

        **fscanf(fpi, "%d", temp);**     

        if (temp == 1) {
            Image1[i][j] == AP;
        } else {
            Image1[i][j] == PL;
        }
        i++;
    }
} 
```

我用星号括起来的那行给了我一个分段错误。该文件绝对不是空的。我在我的程序的其他地方两次使用了同一行，但它在那里没有这样的行为。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-20T06:03:29.993

`temp`是整数；你必须通过它的地址：

```
fscanf(fpi, "%d", &temp); 
```

在编译器中打开警告以捕获此类错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T06:14:18.927

根据 C99 标准

**7.19.6.2 fscanf 函数**

**%d**
匹配一个可选带符号的十进制整数，其格式与 strtol 函数的主题序列的预期格式相同，base 参数的值为 10。

```
The corresponding argument shall be a pointer to signed integer. 
```

所以

```
fscanf(fpi, "%d", &temp); //Here Address of temp is passed. 
```

是正确的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T06:04:51.300

请在 fscanf 中使用 &temp 代替 temp

fscanf(fpi, "%d", &temp);

# javascript - html5 中的图像查看器

> ID：12506840
> 
> 赞同：5
> 
> 时间：2012-09-20T06:01:46.793
> 
> 标签：javascript, asp.net-mvc-3, html, html5-canvas

我必须开发一个图像查看器应用程序。设计的应用程序应具有以下功能

1.  放大功能
2.  缩小功能
3.  放大功能
4.  平移功能
5.  图像概览功能

我必须在 Asp.net 应用程序中开发应用程序。我有以下问题

1.  开发此类应用程序的更好方法是什么，我的意思是它是使用 Asp.net 控件还是标准 HTML 控件实现的
2.  在开发此类应用程序时有任何 HTML5 范围吗？
3.  我可以获得任何用 javascript 或 jQuery 编写的可定制的开源项目吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T07:16:40.033

我对你的问题的回答：

1.  我会使用 HTML，因为您不需要来自服务器的任何内容。
2.  有，你可以搜索谷歌的信息。
3.  看看下面的信息。

我会尝试以下步骤：

1.  查找所需功能的示例。
2.  剥离这些示例并根据您的要求重新构建它们。
3.  为图像创建一个支架。您可以使用 jQuery 和 AJAX 从服务器加载图像
4.  实现缩放、平移控件。使用您在步骤 2 中创建的实现

有很多信息可以在互联网上找到。一些例子是：

**缩放**

[http://www.tripwiremagazine.com/2012/07/jquery-image-zoom.html](http://www.tripwiremagazine.com/2012/07/jquery-image-zoom.html)

**平移**

[http://manos.malihu.gr/jquery-image-panning](http://manos.malihu.gr/jquery-image-panning)

**概述**

[http://www.designzzz.com/jquery-slide-show-image-gallery-tutorials-downloads/](http://www.designzzz.com/jquery-slide-show-image-gallery-tutorials-downloads/)

**使用 HTML5 画布进行平移和缩放的教程**

[http://my.safaribooksonline.com/book/web-development/html/9781449308032/images-on-the-canvas/zooming_and_panning_an_image](http://my.safaribooksonline.com/book/web-development/html/9781449308032/images-on-the-canvas/zooming_and_panning_an_image)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:13:58.397

为了我，

1.  我会使用 HTML，
2.  如果可以，请使用 HTML5 和 CSS3，
3.  是的，有很多。只需输入您需要的内容。看来您正在构建的是图像滑块/画廊。网上有很多这样的。只是寻找它。

如果您必须从头开始构建它，您可以做的就是研究这些 css 属性。缩放、缩放和过渡。

你去了，希望我指出你正确的方向。

# c# - 设置用户控件的属性

> ID：12506844
> 
> 赞同：0
> 
> 时间：2012-09-20T06:02:07.353
> 
> 标签：c#, asp.net, user-controls

嗨，我有一个具有此属性的 userControl：

```
public string UserImg { get; set; }
 protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            userImg.Src = UserImg;
        }
    } 
```

和标记：

```
<img class="userImg" src="" width="90" id="userImg" runat="server" /> 
```

当我使用这个 userControl 并在代码中设置它时：

```
StudentDetail1.UserImg = string.Format("AdminPanel/StudentsPic/{0}",query.Pictuer); 
```

（查询是我的 linq 到实体的查询，其中包含像“person.png”这样的图像名称）。

图像不显示，因为我在下面有一个额外的“用户控件”：

```
<img src="UserControl/AdminPanel/StudentsPic/man.png" id="right_StudentDetail1_userImg" class="userImg" width="90"> 
```

如何从 src 中删除“UserControl”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:11:09.553

尝试使用

```
StudentDetail1.UserImg = string.Format("../AdminPanel/StudentsPic/{0}",query.Pictuer); 
```

# android - 如何从动态创建的 EditText 字段中获取值？

> ID：12506849
> 
> 赞同：1
> 
> 时间：2012-09-20T06:03:01.697
> 
> 标签：android, arrays, arraylist, android-edittext

我对以下情况有点困惑：

我有一个添加按钮，我用它来添加许多`EditText`字段，当我点击保存按钮时，我应该从`EditText`s 中获取值。

如何从所有 EditText 字段中获取这些值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:04:51.600

```
btn_no_of.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            String str1=edittext1.gettext.tostring();
                            String str2=edittext2.gettext.tostring();

        }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T06:12:05.043

你可以这样做：

将您以编程方式创建的所有 EditText 字段存储在列表中。所以每当你有`viewGroup.add(myEditText);`你也会有`myList.add(myEditText);`

然后，当您按“保存”时，只需在列表中循环并使用`getText()`从 EditText 字段中获取数据。

我敢肯定还有其他方法可以做到这一点；）

# android - android - 如何使用一台扫描仪扫描条形码和二维码

> ID：12506850
> 
> 赞同：0
> 
> 时间：2012-09-20T06:03:05.107
> 
> 标签：android, qr-code, barcode-scanner

我需要扫描条形码和二维码的扫描仪。为此，我在 Play 商店中看到一个应用程序是[QR 条形码扫描仪](https://play.google.com/store/apps/details?id=appinventor.ai_progetto2003.SCAN&hl=en)。但我不知道如何将它集成到 android 应用程序中。我想要最好的扫描仪，无论是免费的还是付费的，并且可以轻松集成到 Android 应用程序中。请给我您的宝贵建议

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:17:08.763

我建议使用 zxing (http://code.google.com/p/zxing/)。它提供了多种方式来集成条码/二维码扫描。

我个人喜欢使用意图的方法。这是非常容易和强大的灵魂。您可以从[这里](http://code.google.com/p/zxing/wiki/ScanningViaIntent)阅读更多内容。

# .net - WinRT 中的 WCF 客户端命中 SocketError.AccessDenied（但适用于 Fiddler 捕获流量）

> ID：12506856
> 
> 赞同：4
> 
> 时间：2012-09-20T06:03:40.750
> 
> 标签：.net, wcf, iis-7, windows-8, windows-runtime

我正在将一个在 .NET 3.5+ 中工作的 .NET 应用程序移植到 WinRT，它包括一个 WCF 服务客户端（使用`ChannelFactory<T>`编程方式创建），它几乎与原始版本共享其所有代码（即尽可能多地相同）该程序。该服务通过端口 9443 上的 SSL 访问，并使用 Windows 身份验证。代码的原始版本完美运行，但 WinRT 端口通常会因三层异常而失败：我得到一个`EndpointNotFoundException`（“在 https://... 处没有端点监听”），内部异常为`WebException`（ “无法连接到远程服务器”），内部异常为`SocketException`（“试图以访问权限 192.168.xx:9443 禁止的方式访问套接字”）。

奇怪的是，除非我让 Fiddler 作为代理并捕获流量，否则这将始终失败。

现在，更多细节。

*   SSL 证书是有效的，来自受信任的机构，并且涵盖了附加到我的 IIS 站点的主机头名称（并且仅包含该名称）。
*   我可以浏览到 .svc 文件及其 ?wsdl 而不会出现任何错误，并且 wsdl 本身会报告我在应用程序中使用的确切 URL。
*   有问题的站点在 9443 上绑定了 https，在 9999 上绑定了 http（两者都有与之关联的主机头名称）
*   我在站点根目录中有以下 clientaccesspolicy.xml，并且可以通过 http 和 https 通过适当的端口访问它：

    ```
    <?xml version="1.0" encoding="utf-8"?>
    <access-policy>
      <cross-domain-access>
        <policy>
          <allow-from http-request-headers="*">
            <domain uri="*" />
          </allow-from>
          <grant-to>
            <resource path="/" include-subpaths="true"/>
          </grant-to>
        </policy>
      </cross-domain-access>
    </access-policy> 
    ```

*   运行该服务的服务帐户有一个与之关联的 UPN，因为有人建议这可能会有所帮助。我尝试将其放入`<servicePrincipalName/>`我的端点中`<identity />`，但无济于事；使用`<dns />`那里也没有帮助。

*   绑定是`BasicHttpBinding`with `BasicHttpSecurityMode.Transport`，我正在设置`ClientCredentialType = HttpClientCredentialType.Windows`。凭据当前是硬编码的并且是正确的。但我认为这些都不是问题，因为...
*   我可以在循环中设置服务调用并观察它失败，失败，失败，失败，直到我 Alt+Tab 切换到 Fiddler 并开始捕获流量。据我了解，这会通过 Fiddler 的本地代理重定向服务调用，并且无论出于何种原因，它都能完美地工作——我什至不需要重新启动程序，更不用说重新编译它了。
*   无论我是否将 Fiddler 的中间人证书安装为受信任，无论我是否选择解码 SSL 会话，这都是一样的。
*   当我使用 Fiddler 执行此操作时，我看到的流量对我来说并不是特别有启发性。看起来像标准的协商握手，带有 HTTP 401 错误，然后是成功的连接。
*   IIS 是第 7 版。日志（在 inetpub\logs 中）似乎没有显示任何有趣的东西——事实上，除非连接了 Fiddler，否则我似乎从来没有看到任何东西，当一切正常时。
*   我尝试使用 Wireshark 来嗅出这一点，但结果对我来说基本上没用。在我开始在 Fiddler 中捕获之前，Wireshark 甚至看起来都没有拾取任何东西，然后我得到了流量，但我不知道我是否只是看错了。
*   尝试使用添加服务引用添加标准 Visual Studio 代理会导致与我的自定义代码完全相同的行为。
*   只是为了好玩，为了看看 WinRT 是否像 Silverlight 那样对端口有未发布的限制，我将站点设置在端口 4505 上（在 4502-4534 范围内）。没有改变。
*   清除 Internet 选项中的缓存和 cookie 似乎无关紧要。
*   Windows 防火墙已关闭。Windows 8 是否有任何其他可能的交通障碍？（没关系，因为桌面应用程序一直运行良好。）
*   Windows Defender 实时保护已关闭。
*   即使我在模拟器上运行应用程序，行为也是一样的。我无法在另一台物理机器上进行测试，因为这是我唯一的 Windows 8 开发安装。

希望这表明我已经对此进行了尽职调查。我错过了什么？如果我能提供更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T06:08:19.570

您是否在其清单中为您的应用程序设置了 Intranet/Internet 网络访问？

# python - pyparsing如何从字符串创建语法对象

> ID：12506857
> 
> 赞同：2
> 
> 时间：2012-09-20T06:03:49.693
> 
> 标签：python, pyparsing

我在 DB 中有我的 pyparsing 应用程序的语法。它们是字符串格式。我想将其转换为我的应用程序中的语法对象并使用它。

```
Word(alphas) + Word(nums) 
```

上面的片段是我需要为其构造语法对象的数据库中的条目之一

谁能让我知道如何完成

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:49:26.623

如果我理解正确，您可以使用 eval 或 exec。例如：

```
g = eval("Word(alphas) + Word(nums)") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T22:10:30.787

对于比 eval 更安全的东西，您可以使用 pyparsing 源安装中包含的 EBNF 解析器，或者[从 wiki 下载它](http://pyparsing.wikispaces.com/file/view/ebnf.py)。然后您可以使用 EBNF 定义您的解析器，生成一个 pyparsing 解析器，并使用它来解析相关文本。

# android - 3d css 转换（translateZ）在 android 4.0.3 上不起作用？

> ID：12506860
> 
> 赞同：4
> 
> 时间：2012-09-20T06:04:02.487
> 
> 标签：android, css, 3d, webkit, transform

我有这个在 Chrome、Safari 和 Mobile Safari 上运行良好的 html。

```
<html><head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
</head>
<body>
<div style="position:relative;-webkit-perspective:1000;width:300px;height:50px">
<div style="position:relative;width:300px;height:50px;-webkit-transform-origin:0px 25px 0px;-webkit-transform-style:preserve-3d;">
<div style="position:absolute;width:300px;height:50px;-webkit-transform:translateZ(125px);background-image:url(http://i855.photobucket.com/albums/ab119/ansherina6/banner2-1.png)"></div>
</div></div>
</body></html>
```

在 android 4.0.3 上，translateZ 没有在 div 上显示任何（期望的）效果。除了 translateZ，其他一切都运行良好。如果我使用 translate3D(a,b,c) 那么只有 X 和 Y 值会影响渲染。有什么解决方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-07T17:04:53.550

根据[caniuse](http://caniuse.com/#feat=transforms3d)的说法，android 4 及更高版本支持翻译。但是，我有一种预感，更具体的 3D 转换（如 z 轴上的平移）不会获得如此广泛的支持，尤其是在不支持 webgl 的浏览器中。我认为如果关键的话有一个后备：[transformie](http://www.useragentman.com/blog/csssandpaper-a-css3-javascript-library/)

# java - 为什么 QueryResultIterator#getCursor() 在 GAE/J 中返回 null

> ID：12506862
> 
> 赞同：2
> 
> 时间：2012-09-20T06:04:15.917
> 
> 标签：java, google-app-engine, objectify

getCursor() javadoc 说：

> 返回：一个 Cursor 或 null 如果此查询结果无法恢复

“恢复”一词在上下文中是什么意思？

我的代码如下：

```
 com.googlecode.objectify.cmd.Query q = createQuery();
        QueryResultIterator<T> itr = q.iterator();
        while( itr.hasNext() )
        {
            list.add( itr.next() );
        } 
        ... 
       String newCursorValue = itr.getCursor().toWebSafeString(); 
```

它抛出 NPE 只是因为 itr.getCursor() 是空的。这种方法很长一段时间都很好用，但是今天我修改查询条件时失败了（但它是有效的）。但我不明白为什么查询条件会影响 getCursor() 方法。

有人请阐明一下吗？顺便说一句，我使用 GAE/J v1.7.1，Objectify 4a3。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-20T06:25:54.873

您应该阅读有关[cursors 的限制](https://developers.google.com/appengine/docs/java/datastore/queries#Limitations_of_Cursors)。这基本上定义了何时可以“恢复”查询。

# function - 使用 shell 脚本中的函数调用执行命令

> ID：12506863
> 
> 赞同：1
> 
> 时间：2012-09-20T06:04:20.210
> 
> 标签：function, shell

我正在尝试使用 shell 脚本中的函数调用来执行命令。当我将命令作为该函数的参数传递给该函数时，它不起作用。

函数定义：

```
function ExecuteCommand() (

    # $1: User@Host
    # $2: Password
    # $3: Command to execute

    # Collect current IFS value
    OLD_IFS=$IFS

    # Set IFS value to new line feed
    IFS=$'\n'

    #Execute the command and capture the output
    EXPECT_OUTPUT=($(expect ssh_exec.expect $1 $2 $3))

    #Print the output
    OUTPUT_LINE_COUNT=${#EXPECT_OUTPUT[@]}
    for ((OUTPUT_LINE_INDEX=0; OUTPUT_LINE_INDEX<OUTPUT_LINE_COUNT; OUTPUT_LINE_INDEX++)) ;
    do
            echo ${EXPECT_OUTPUT[$OUTPUT_LINE_INDEX]}
    done

    # Get back to the original IFS 
    IFS=$OLD_IFS 
```

)

函数调用：

```
ExecuteCommand oracle@192.168.***.*** password123 "srvctl status database -d mydb" 
```

我得到的输出是：

```
spawn ssh oracle@192.168.***.*** {srvctl status database -d mydb}
oracle@192.168.***.***'s password: 
bash: {srvctl: command not found 
```

但是当我不将命令作为函数的参数传递时，它可以完美地工作：

这种情况下的函数定义：

```
function ExecuteCommand() (

    # $1: User@Host
    # $2: Password

    # Collect current IFS value
    OLD_IFS=$IFS

    # Set IFS value to new line feed
    IFS=$'\n'

    #Execute the command and capture the output
    EXPECT_OUTPUT=($(expect ssh_exec.expect $1 $2 srvctl status database -d mydb))

    #Print the output
    OUTPUT_LINE_COUNT=${#EXPECT_OUTPUT[@]}
    for ((OUTPUT_LINE_INDEX=0; OUTPUT_LINE_INDEX<OUTPUT_LINE_COUNT; OUTPUT_LINE_INDEX++)) ;
    do
            echo ${EXPECT_OUTPUT[$OUTPUT_LINE_INDEX]}
    done

    # Get back to the original IFS 
    IFS=$OLD_IFS 
```

)

函数调用：

```
ExecuteCommand oracle@192.168.***.*** password123 
```

我得到了我预期的输出：

```
spawn ssh oracle@192.168.***.*** srvctl status database -d mydb
oracle@192.168.***.***'s password: 
Instance mydb1 is running on node mydb1
Instance mydb2 is running on node mydb2
Instance mydb3 is running on node mydb3 
```

请帮助我了解在第一种情况下将命令作为函数参数传递时出了什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:48:25.813

如果我没记错的话，双引号内的任何“期望”参数都会被大括号替换。因此，expect 命令变成了这样：

```
expect ssh_exec.expect oracle@192.168.***.*** {srvctl status database -d mydb} 
```

这使得 shell 将“{srvctl”解释为命令。

尝试像这样使用它：

```
EXPECT_OUTPUT=($(expect ssh_exec.expect $*)) 
```

代替

```
EXPECT_OUTPUT=($(expect ssh_exec.expect $1 $2 $3)) 
```

并像这样调用你的函数：

```
ExecuteCommand oracle@192.168.***.*** password123 srvctl status database -d mydb 
```

# c - 此 netbsd 代码是否可重入

> ID：12506875
> 
> 赞同：0
> 
> 时间：2012-09-20T06:05:13.613
> 
> 标签：c, multithreading, static, reentrancy, netbsd

我正在通过阅读 NetBSD 源代码来研究“阅读代码”。
（有兴趣的可以看<代码阅读：开源视角>我正在阅读）

我发现了这个功能：

```
/* convert IP address to a string, but not into a single buffer
*/
char *
naddr_ntoa(naddr a)
{
#define NUM_BUFS 4
    static int bufno;
    static struct {
    char str[16];   /* xxx.xxx.xxx.xxx\0 */
    } bufs[NUM_BUFS];
    char *s;
    struct in_addr addr;

    addr.s_addr = a;
    strlcpy(bufs[bufno].str, inet_ntoa(addr), sizeof(bufs[bufno].str));
    s = bufs[bufno].str;
    bufno = (bufno+1) % NUM_BUFS;
    return s;
#undef NUM_BUFS
} 
```

它引入了 4 个不同的临时缓冲区来包装 inet_ntoa 函数，因为 inet_ntoa 不是可重入的。
但在我看来，这个 naddr_ntoa 函数也不是可重入
的：静态 bufno 变量可以由其他变量操作，因此临时缓冲区在这里似乎没有按预期工作。

那么这是一个潜在的错误吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:11:56.620

是的，这是一个潜在的错误。如果您想要一个最有可能可重入的类似功能，您可以使用例如[`inet_ntop`](http://pubs.opengroup.org/onlinepubs/009695399/functions/inet_ntop.html)（顺便处理 IPv6）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-11T02:14:13.947

该代码来自`src/sbin/routed/trace.c`并且它不是通用库例程，而只是仅在路由程序中使用的自定义黑客。`addrname()`出于相同的原因，同一文件中的函数使用相同的技巧。它甚至不是 NetBSD 代码本身，而是它最初来自 SGI，由 Vernon Schryver 维护（请参阅[The Routed Page](ftp://ftp.rhyolite.com/src/index.html)）。

允许在同一个表达式中使用多个调用只是一种快速技巧，例如在一个 printf() 调用中使用结果的地方：例如：

```
printf("addr1->%s, addr2->%s, addr3->%s, addr4->%s\n",
       naddr_ntoa(addr1), naddr_ntoa(addr2), naddr_ntoa(addr3), naddr_ntoa(addr4)); 
```

在路由源文件（if.c、input.c、rdisc.c）中有几个类似用途的示例。

这段代码没有错误。路由程序不是多线程的。在这个 hack 中根本没有解决重入问题。这个技巧是为了一个非常特定的目的而设计的，与可重入无关。代码阅读作者将这个技巧与重入联系起来是错误的。

它只是一种将多个结果的保存隐藏在静态变量数组中的方法，而不是在单个表达式需要多个结果时将这些结果从一个静态变量单独复制到调用函数的单独存储中。

请记住，*除了*标识符的有限范围之外，静态变量具有全局变量的所有属性。当然，在函数中不受保护地使用全局（或静态）变量会使该函数不可重入，但这不是全局变量导致的唯一问题。在路由中使用完全可重入函数是不合适的，因为它实际上会使代码变得比必要的更复杂，而这种 hack 使调用代码保持干净和简单。不过，最好对黑客进行适当的记录，以便未来的维护人员更容易发现何时`NUM_BUFS`需要进行调整。

# java - 比较android中的字符串

> ID：12506882
> 
> 赞同：0
> 
> 时间：2012-09-20T06:05:44.483
> 
> 标签：java, android

我想将“失败”的字符串文字与已传递给此函数的字符串进行比较，但我的问题是传递“结果”的字符串与失败的字符串不同，我明确传递了“失败”的功能。

```
 if(result.equals(fail)) 
```

总是为我返回 false

```
protected void onPostExecute(String result) {
 super.onPostExecute(result);   
 TextView data_details = (TextView)findViewById(R.id.results_tab);
 data_details.setText(result); // THIS PRINTS OUT THE VALUE TO SCREEN WHICH IS 'failed'
 String fail = "failed";

 if(result.equals(fail))
 {

    Intent redirect = new Intent(LogActivity.this, MainActivity.class);
    redirect.putExtra("error", result);
    startActivity(redirect);
    finish();
  }     
 } 
```

我也试过：

```
if(result.equalsIgnoreCase("failed")) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:10:20.803

您的字符串变量可能包含空格，我建议您检查条件如下，

```
if(result.trim().equalsIgnoreCase(fail.trim()))
{
    // your code
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:10:06.720

尝试`fail.equals(result.trim())` 有可能`result`包含一个空格，因为它会导致问题。

**此处*fail*用于比较的原因是在您的情况下*它永远不能为 null*。如果结果为空，您将得到*NullPointerException***

# google-app-engine - 如何在不将非对称密钥签入源代码控制的情况下管理它们？

> ID：12506889
> 
> 赞同：1
> 
> 时间：2012-09-20T06:06:28.790
> 
> 标签：google-app-engine, jenkins, jenkins-plugins

我有一个谷歌应用引擎应用程序，它需要一个公私钥对。我不想将其签入源代码管理，因为太多人可以访问它。由于这是 GAE，我不能使用构建系统将密钥写入服务器的文件系统。

是否有已知的最佳实践？我的第一个想法是 Jenkins 是否提供了一种安全管理密钥的方法？我知道我可以将密钥复制到 jenkins 服务器上的某个位置并将它们复制到构建中，但是该项目将由第三方团队使用，因此我需要在 jenkins 中提供基于 UI 的解决方案。我没有找到任何相关的插件，但我想确保在编写自己的插件之前没有更好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:22:25.903

当然，有几种方法可以解决这个问题。我相信证书是管理员而不是开发人员关心的问题。

我们所做的是有[自定义管理页面](https://developers.google.com/appengine/docs/java/config/appconfig#Administration_Console_Custom_Pages)，我们将证书上传到单独命名空间下的 blobstore。然后我们有一个内部“服务”（只是一个简单的工厂），以便其他代码可以检索证书。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-01T18:11:46.540

如果您乐于使用基于云的 Jenkins，我们 (CloudBees) 在[appengine.cloudbees.com上有一个基于 oauth 的解决方案](https://appengine.cloudbees.com)

你可以自己滚。它并不过分棘手。您将需要

1.  注册 google 的 api 控制台以获取客户端密钥和机密并定义您的应用程序将显示为的端点

2.  如果将这些凭据提供给您的 Jenkins 构建，请编写一些方法。我建议使用凭据插件

3.  要么编写一个构建包装器，将刷新令牌暴露给您的构建（python sdk 部署），要么暴露访问令牌（java sdk ... 很高兴这两个 sdk 以不同的方式做同样的事情）

或使用我们的免费服务；-)

# web-services - 如何使用 jQuery 调用 WCF Web 服务 (.svc)

> ID：12506892
> 
> 赞同：2
> 
> 时间：2012-09-20T06:06:42.750
> 
> 标签：web-services, jquery

您好我正在尝试调用 WCF Web 服务（.svc）

```
$.ajax({
    url: 'http://www.somedoamin.com/Services/service.svc',
    dataType: "text/xml",
    contentType:'text/xml; charset=utf-8',
    beforeSend: function(xhr){
        // Pass the soap action onto the proxy.
        xhr.setRequestHeader(
            "SOAPAction","http://www.anotherdomain.com/Services/Login"
        );
    },   
    data:soapMessage,
    type: 'POST',
    success: function(res) {
            var myXML = res.responseText;
    console.log('Response ',myXML);  
    },
    error:function(jqXHR, textStatus, errorThrown,exception) {
        console.log('An error occured ');
    }
}); 
```

我收到错误回调。“发生错误”

那么，我是否需要向 WCF 服务添加一些参数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:17:30.283

请参阅现有的[How Do I call A WCF Web Service from jQuery?](https://stackoverflow.com/questions/1083219/how-do-i-call-a-wcf-web-service-from-jquery?rq=1)

这是他们给出的解决方案 [http://www.west-wind.com/weblog/posts/2008/Apr/21/jQuery-AJAX-calls-to-a-WCF-REST-Service](http://www.west-wind.com/weblog/posts/2008/Apr/21/jQuery-AJAX-calls-to-a-WCF-REST-Service)

# objective-c - identifierForVendor 和 iOS6

> ID：12506893
> 
> 赞同：10
> 
> 时间：2012-09-20T06:06:51.757
> 
> 标签：objective-c, ios, xcode, itunes

需要 iOS6，所以如果我的`identifierForVendor`应用程序当前支持 iOS4，因此我不能使用它，因为我的更新应该**总是满足我的应用程序之前的最低要求。要求？**

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-27T22:06:25.627

你可以使用这个：

```
NSString *udid;

if (SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@"6.0"))
    udid = [UIDevice currentDevice].identifierForVendor.UUIDString;
else
    udid = [UIDevice currentDevice].uniqueIdentifier; 
```

带有预处理器代码：

```
#define SYSTEM_VERSION_EQUAL_TO(v)                  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedSame)
#define SYSTEM_VERSION_GREATER_THAN(v)              ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedDescending)
#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending)
#define SYSTEM_VERSION_LESS_THAN(v)                 ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedAscending)
#define SYSTEM_VERSION_LESS_THAN_OR_EQUAL_TO(v)     ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedDescending) 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-12-03T09:28:20.433

您不需要预处理器宏，您应该检查它是否响应，如下所示：

```
if ([[UIDevice currentDevice]respondsToSelector:@selector(identifierForVendor)]) {
    return [UIDevice currentDevice].identifierForVendor.UUIDString;
}else{
    // return [UIDevice currentDevice]. uniqueIdentifier
    return [[UIDevice currentDevice] performSelector:@selector(uniqueIdentifier)];
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-13T15:06:01.930

它总是不同的。UUID 包含时间戳，因此每次调用此函数时，都会得到一个不同的（随机）。我在`IDManager`课堂上遵循了这种方法，这是来自不同解决方案的集合。KeyChainUtil 是一个从钥匙串中读取的包装器。在[github](https://github.com/ldandersen/scifihifi-iphone/tree/master/security)中可以找到类似的钥匙串工具。

```
//  IDManager.m

/*
 A replacement for deprecated uniqueIdentifier API. Apple restrict using this from 1st May, 2013.

 We have to consider,
    * iOS <6 have not the ASIIdentifer API
    * When the user upgrade from iOS < 6 to >6
        - Check if there is a UUID already stored in keychain. Then use that. 
            - In that case, this UUID is constant for whole device lifetime. Keychain item is not deleted with application deletion.
 */

#import "IDManager.h"
#import "KeychainUtils.h"
#import "CommonUtil.h"

#if __IPHONE_OS_VERSION_MAX_ALLOWED >= 60000
    #import <AdSupport/AdSupport.h>
#endif

#include <sys/socket.h> 
#include <sys/sysctl.h>
#include <net/if.h>
#include <net/if_dl.h>

/*  Apple confirmed this bug in their system in response to a Technical Support Incident request. They said that identifierForVendor and advertisingIdentifier sometimes returning all zeros can be seen both in development builds and apps downloaded over the air from the App Store. They have no work around and can't say when the problem will be fixed. */
#define kBuggyASIID             @"00000000-0000-0000-0000-000000000000"

#pragma mark 

#pragma mark 

@implementation IDManager

+ (NSString *) getUniqueID {

#if __IPHONE_OS_VERSION_MAX_ALLOWED >= 60000

    if (NSClassFromString(@"ASIdentifierManager")) {
        NSString * asiID = [[[ASIdentifierManager sharedManager] advertisingIdentifier] UUIDString];
        if ([asiID compare:kBuggyASIID] == NSOrderedSame) {
            NSLog(@"Error: This device return buggy advertisingIdentifier.");
            return [IDManager getUniqueUUID];
        } else {
            return asiID;
        }

    } else {

#endif

        return [IDManager getUniqueUUID];

#if __IPHONE_OS_VERSION_MAX_ALLOWED >= 60000
    }
#endif

}

+ (NSString *) getUniqueUUID 
{
    NSError * error;
    NSString * uuid = [KeychainUtils getPasswordForUsername:@"UserName" andServiceName:@"YourServiceName" error:&error];
    if (error) {
        NSLog(@"Error geting unique UUID for this device! %@", [error localizedDescription]);
        return nil;
    }
    if (!uuid) {
        DLog(@"No UUID found. Creating a new one.");
        uuid = [IDManager getUUID];
        uuid = [CommonUtil md5String:uuid]; // create md5 hash for security reason
        [KeychainUtils storeUsername:@"UserName" andPassword:uuid forServiceName:@"YourServiceName" updateExisting:YES error:&error];
        if (error) {
            NSLog(@"Error geting unique UUID for this device! %@", [error localizedDescription]);
            return nil;
        }
    }
    return uuid;
}

+ (NSString *) readUUIDFromKeyChain {
    NSError * error;
    NSString * uuid = [KeychainUtils getPasswordForUsername:@"UserName" andServiceName:@"YourServiceName" error:&error];
    if (error) {
        NSLog(@"Error geting unique UUID for this device! %@", [error localizedDescription]);
        return nil;
    }
    return uuid;
}

/* NSUUID is after iOS 6\. So we are using CFUUID for compatibility with iOS 4.3 */
+ (NSString *)getUUID
{
    CFUUIDRef theUUID = CFUUIDCreate(NULL);
    CFStringRef string = CFUUIDCreateString(NULL, theUUID);
    CFRelease(theUUID);
    return [(NSString *)string autorelease];
}

#pragma mark - MAC address

/* THIS WILL NOT WORK IN iOS 7\. IT WILL RETURN A CONSTANT MAC ADDRESS ALL THE TIME.
 SEE - https://developer.apple.com/news/?id=8222013a
 */

// Return the local MAC address
// Courtesy of FreeBSD hackers email list
// Last fallback for unique identifier
+ (NSString *) getMACAddress
{
    int                 mib[6];
    size_t              len;
    char                *buf;
    unsigned char       *ptr;
    struct if_msghdr    *ifm;
    struct sockaddr_dl  *sdl;

    mib[0] = CTL_NET;
    mib[1] = AF_ROUTE;
    mib[2] = 0;
    mib[3] = AF_LINK;
    mib[4] = NET_RT_IFLIST;

    if ((mib[5] = if_nametoindex("en0")) == 0) {
        printf("Error: if_nametoindex error\n");
        return NULL;
    }

    if (sysctl(mib, 6, NULL, &len, NULL, 0) < 0) {
        printf("Error: sysctl, take 1\n");
        return NULL;
    }

    if ((buf = malloc(len)) == NULL) {
        printf("Error: Memory allocation error\n");
        return NULL;
    }

    if (sysctl(mib, 6, buf, &len, NULL, 0) < 0) {
        printf("Error: sysctl, take 2\n");
        free(buf); // Thanks, Remy "Psy" Demerest
        return NULL;
    }

    ifm = (struct if_msghdr *)buf;
    sdl = (struct sockaddr_dl *)(ifm + 1);
    ptr = (unsigned char *)LLADDR(sdl);
    NSString *outstring = [NSString stringWithFormat:@"%02X:%02X:%02X:%02X:%02X:%02X",
                           *ptr, *(ptr+1), *(ptr+2), *(ptr+3), *(ptr+4), *(ptr+5)];

    free(buf);
    return outstring;
}

+ (NSString *) getHashedMACAddress
{
    NSString * mac = [IDManager getMACAddress];
    return [CommonUtil md5String:mac];
}

@end 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-26T14:22:07.717

您可以使用以下代码

```
if (NSClassFromString(@"ASIdentifierManager")) {
    return [[[ASIdentifierManager sharedManager] advertisingIdentifier] UUIDString];           
} else {
    // return other identifier generated with OpenUDID or some custom method
} 
```

[您可以在此处](https://github.com/ylechelle/OpenUDID/blob/master/README.md)获取 OpenUDID 文档

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T06:18:04.450

看看[NSSelectorFromString](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Miscellaneous/Foundation_Functions/Reference/reference.html#//apple_ref/c/func/NSSelectorFromString)和 [NSObject performSelector:SEL]。[NSSelectorFromString](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Miscellaneous/Foundation_Functions/Reference/reference.html#//apple_ref/c/func/NSSelectorFromString)允许您通过运行时使用字符串选择选择器。将它与运行时的操作系统版本检查结合使用。

# .net - 将 WF 4 实例存储架构迁移到 WF 4.5 后无法运行工作流

> ID：12506896
> 
> 赞同：3
> 
> 时间：2012-09-20T06:07:18.153
> 
> 标签：.net, workflow-foundation

我真的在这里遇到一个非常不寻常的问题。我们刚刚将开发堆栈升级到 Visual Studio 2012 / .NET 4.5。

我们想升级到最新版本的 Workflow Foundation (4.5)，这意味着也要升级 SQL 工作流实例存储模式，以便我们可以使用新功能，例如并行版本控制。

首先，我首先在以下位置运行随 .NET 4.5 安装的架构升级脚本：C:\Windows\Microsoft.NET\Framework\v4.0.30319\SQL\en\SqlWorkflowInstanceStoreSchemaUpgrade.sql

然后我运行了我的工作流程测试，一切正常。

下一步是将架构和数据更改合并到我们的 SQL Server 数据库项目（VS 2012 中的新项目）中，以便这些更改将作为我们构建过程的一部分自动构建和部署。

我对更新后的数据库实例与数据库项目进行了模式比较，识别并导入了所有模式更改，并更新了我们的参考数据脚本，以便 SqlWorkflowInstanceStoreVersion 表具有正确的值。

然后我发布了该项目，这意味着目标数据库被删除、重新创建并填充了默认参考数据（包括商店版本行）。

我再次运行了我的工作流测试，这次工作流测试都超时了，等待工作流线程返回。PersistableIdle 处理程序被调用到 Unload，但 Unloaded 处理程序从未被调用，所以现在有些事情搞砸了。

这显然与重新创建数据库这一事实有关，但我在 VS 2012 中使用 Schema Compare 工具看不到任何差异。

在解决此问题之前，我们无法进一步使用 WF 4.5 功能，有人知道这里可能发生了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-05T15:53:28.647

不确定您是否找到了解决方案，但我认为以下信息可能会帮助其他人解决升级问题。

这篇 MSDN 文章暗示了就地升级的问题之一： [What's New in Windows Workflow Foundation in .NET 4.5](https://msdn.microsoft.com/en-us/library/hh305677(v=vs.110).aspx)

> .NET Framework 4.5 中引入的新 Windows Workflow Foundation 功能不适用于针对以前版本的框架的项目。如果将面向 .NET Framework 4.5 的项目重新定位到该框架的早期版本，则可能会出现几个问题。
> 
> C# 表达式将在设计器中替换为消息**Value was set in XAML。**
> 
> 会发生许多构建错误，包括以下错误。
> 
> **文件格式与当前定位框架不兼容。要转换文件格式，请明确保存文件。保存文件并重新打开设计器后，此错误消息将消失。**

升级 SQL 持久性存储**似乎**可以做到这一点，因此必须针对 .Net 4.5 重新编译工作流，否则由于它支持版本控制，因此它在尝试与持久性存储进行通信时挂起。

在您的情况下可能没有必要，但我们还必须创建更新映射来“升级”活动定义和运行实例。MSDN 在此提供了一篇长文： [如何：更新正在运行的工作流实例的定义](https://msdn.microsoft.com/en-us/library/jj205427(v=vs.110).aspx)

动态更新参考也很有用： [动态更新](https://msdn.microsoft.com/en-us/library/hh314052(v=vs.110).aspx)

这是一个相当复杂的过程，但之后一切都重新开始了。

您可能还会发现这很有用：[如何：并排托管工作流的多个版本](https://msdn.microsoft.com/en-us/library/jj205425(v=vs.110).aspx)

# javascript - iOS 6 上的 Safari 是否缓存 $.ajax 结果？

> ID：12506897
> 
> 赞同：1096
> 
> 时间：2012-09-20T06:07:23.160
> 
> 标签：javascript, jquery, ajax, caching, mobile-safari

自从升级到 iOS 6，我们看到 Safari 的 web 视图可以自由地缓存`$.ajax`调用。这是在 PhoneGap 应用程序的上下文中，因此它使用的是 Safari WebView。我们的`$.ajax`调用是`POST`方法，我们将缓存设置为 false `{cache:false}`，但这种情况仍在发生。我们尝试手动将 a 添加`TimeStamp`到标题中，但没有帮助。

我们进行了更多研究，发现 Safari 仅返回具有静态函数签名且不会因调用而变化的 Web 服务的缓存结果。例如，想象一个名为的函数：

```
getNewRecordID(intRecordType) 
```

这个函数一遍又一遍地接收相同的输入参数，但它每次返回的数据应该是不同的。

一定是 Apple 急于让 iOS 6 快速运行，他们对缓存设置太满意了。有没有其他人在 iOS 6 上看到过这种行为？如果是这样，究竟是什么原因造成的？

* * *

我们找到的解决方法是将函数签名修改为如下所示：

```
getNewRecordID(intRecordType, strTimestamp) 
```

然后总是传入一个`TimeStamp`参数，然后在服务器端丢弃该值。这可以解决这个问题。

* * *

## 回答 #1

> 赞同：449
> 
> 时间：2012-09-20T16:06:19.120

经过一番调查，事实证明 iOS6 上的 Safari 将缓存没有 Cache-Control 标头甚至“Cache-Control: max-age=0”的 POST。

我发现防止这种缓存在全局级别发生而不是将随机查询字符串破解到服务调用结束的唯一方法是设置“缓存控制：无缓存”。

所以：

*   没有 Cache-Control 或 Expires 标头 = iOS6 Safari 将缓存
*   Cache-Control max-age=0 和立即 Expires = iOS6 Safari 将缓存
*   Cache-Control: no-cache = iOS6 Safari 不会缓存

我怀疑 Apple 正在从第 9.5 节关于 POST 的 HTTP 规范中利用这一点：

> 对此方法的响应是不可缓存的，除非响应包含适当的 Cache-Control 或 Expires 标头字段。但是，303（请参阅其他）响应可用于指示用户代理检索可缓存资源。

所以理论上你可以缓存 POST 响应......谁知道呢。但到目前为止，还没有其他浏览器制造商认为这是一个好主意。但是，当没有设置 Cache-Control 或 Expires 标头时，这并不能说明缓存，仅当有一些设置时。所以应该是bug。

下面是我在 Apache 配置的正确位置中使用的内容来定位我的整个 API，因为碰巧我实际上并不想缓存任何东西，甚至不会缓存。我不知道如何仅为 POST 设置它。

```
Header set Cache-Control "no-cache" 
```

更新：刚刚注意到我没有指出只有当 POST 相同时，所以更改任何 POST 数据或 URL 就可以了。因此，您可以像其他地方提到的那样，向 URL 中添加一些随机数据或一些 POST 数据。

更新：如果您希望在 Apache 中这样，您可以将“无缓存”限制为 POST：

```
SetEnvIf Request_Method "POST" IS_POST
Header set Cache-Control "no-cache" env=IS_POST 
```

* * *

## 回答 #2

> 赞同：148
> 
> 时间：2012-10-12T09:56:46.610

我希望这对其他在这个问题上碰壁的开发人员有用。我发现以下任何一项都会阻止 iOS 6 上的 Safari 缓存 POST 响应：

*   在请求标头中添加 [cache-control: no-cache]
*   添加可变 URL 参数，例如当前时间
*   在响应标头中添加 [pragma: no-cache]
*   在响应标头中添加 [cache-control: no-cache]

我的 Javascript 中的解决方案如下（我所有的 AJAX 请求都是 POST）。

```
$.ajaxSetup({
    type: 'POST',
    headers: { "cache-control": "no-cache" }
}); 
```

我还将 [pragma: no-cache] 标头添加到我的许多服务器响应中。

如果您使用上述解决方案，请注意您进行的任何 $.ajax() 调用都设置为 global: false 将不会使用 $.ajaxSetup() 中指定的设置，因此您需要再次添加标头。

* * *

## 回答 #3

> 赞同：69
> 
> 时间：2012-09-21T08:53:07.397

Simple solution for all your web service requests, assuming you're using jQuery:

```
$.ajaxPrefilter(function (options, originalOptions, jqXHR) {
    // you can use originalOptions.type || options.type to restrict specific type of requests
    options.data = jQuery.param($.extend(originalOptions.data||{}, { 
      timeStamp: new Date().getTime()
    }));
}); 
```

Read more about the jQuery prefilter call [here](http://api.jquery.com/jQuery.ajaxPrefilter/).

If you aren't using jQuery, check the docs for your library of choice. They may have similar functionality.

* * *

## 回答 #4

> 赞同：44
> 
> 时间：2012-09-20T07:34:42.023

我刚刚在[PhoneGap](http://en.wikipedia.org/wiki/PhoneGap)应用程序中也遇到了这个问题。我通过`getTime()`以下方式使用 JavaScript 函数解决了这个问题：

```
var currentTime = new Date();
var n = currentTime.getTime();
postUrl = "http://www.example.com/test.php?nocache="+n;
$.post(postUrl, callbackFunction); 
```

我浪费了几个小时来弄清楚这一点。Apple 最好通知开发人员这个缓存问题。

* * *

## 回答 #5

> 赞同：42
> 
> 时间：2012-09-20T21:28:27.890

我从 ASP.NET webservice 获取数据的 webapp 遇到了同样的问题

这对我有用：

```
public WebService()
{
    HttpContext.Current.Response.Cache.SetCacheability(HttpCacheability.NoCache);
    ...
} 
```

* * *

## 回答 #6

> 赞同：24
> 
> 时间：2012-09-22T10:16:00.273

最后，我有一个解决上传问题的方法。

在 JavaScript 中：

```
var xhr = new XMLHttpRequest();
xhr.open("post", 'uploader.php', true);
xhr.setRequestHeader("pragma", "no-cache"); 
```

在[PHP](http://en.wikipedia.org/wiki/PHP)中：

```
header('cache-control: no-cache'); 
```

* * *

## 回答 #7

> 赞同：15
> 
> 时间：2012-11-14T06:02:35.647

从我自己的博客文章*[iOS 6.0 缓存 Ajax POST 请求](http://www.einternals.com/blog/web-development/ios6-0-caching-ajax-post-requests)*：

如何解决：有多种方法可以防止请求缓存。推荐的方法是添加一个无缓存标头。这就是它的完成方式。

### jQuery：

检查 iOS 6.0 并像这样设置 Ajax 标头：

```
$.ajaxSetup({ cache: false }); 
```

### ZeptoJS：

检查 iOS 6.0 并像这样设置 Ajax 标头：

```
$.ajax({
    type: 'POST',
    headers : { "cache-control": "no-cache" },
    url : ,
    data:,
    dataType : 'json',
    success : function(responseText) {…} 
```

## 服务器端

### 爪哇：

```
httpResponse.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); 
```

确保在将任何数据发送到客户端之前将其添加到页面顶部。

### 。网

```
Response.Cache.SetNoStore(); 
```

或者

```
Response.Cache.SetCacheability(System.Web.HttpCacheability.NoCache); 
```

### PHP

```
header('Cache-Control: no-cache, no-store, must-revalidate'); // HTTP 1.1.
header('Pragma: no-cache'); // HTTP 1.0. 
```

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2013-01-25T22:11:59.940

这个 JavaScript 片段非常适用于 jQuery 和 jQuery Mobile：

```
$.ajaxSetup({
    cache: false,
    headers: {
        'Cache-Control': 'no-cache'
    }
}); 
```

只需将它放在 JavaScript 代码中的某个位置（在加载 jQuery 之后，最好在执行 AJAX 请求之前），它应该会有所帮助。

* * *

## 回答 #9

> 赞同：6
> 
> 时间：2012-09-27T14:30:19.170

您还可以通过修改[jQuery](http://en.wikipedia.org/wiki/JQuery) [Ajax](http://en.wikipedia.org/wiki/Ajax_%28programming%29)函数来解决此问题，方法是在 Ajax 函数的顶部执行以下操作（从 1.7.1 开始）（函数从第 7212 行开始）。此更改将为所有 POST 请求激活 jQuery 的内置反缓存功能。

（完整的脚本可在`http://dl.dropbox.com/u/58016866/jquery-1.7.1.js`.）

在第 7221 行下方插入：

```
if (options.type === "POST") {
    options.cache = false;
} 
```

然后修改以下内容（从 ~7497 行开始）。

```
if (!s.hasContent) {
    // If data is available, append data to URL
    if (s.data) {
        s.url += (rquery.test(s.url) ? "&" : "?") + s.data;
        // #9682: remove data so that it's not used in an eventual retry
        delete s.data;
    }

    // Get ifModifiedKey before adding the anti-cache parameter
    ifModifiedKey = s.url;

    // Add anti-cache in URL if needed
    if (s.cache === false) {
        var ts = jQuery.now(),
        // Try replacing _= if it is there
        ret = s.url.replace(rts, "$1_=" + ts);

        // If nothing was replaced, add timestamp to the end.
        s.url = ret + ((ret === s.url) ? (rquery.test(s.url) ? "&" : "?") + "_=" + ts : "");
    }
} 
```

至：

```
// More options handling for requests with no content
if (!s.hasContent) {
    // If data is available, append data to URL
    if (s.data) {
        s.url += (rquery.test(s.url) ? "&" : "?") + s.data;
        // #9682: remove data so that it's not used in an eventual retry
        delete s.data;
    }

    // Get ifModifiedKey before adding the anti-cache parameter
    ifModifiedKey = s.url;
}

// Add anti-cache in URL if needed
if (s.cache === false) {
    var ts = jQuery.now(),
    // Try replacing _= if it is there
    ret = s.url.replace(rts, "$1_=" + ts);

    // If nothing was replaced, add timestamp to the end.
    s.url = ret + ((ret === s.url) ? (rquery.test(s.url) ? "&" : "?") + "_=" + ts : "");
} 
```

* * *

## 回答 #10

> 赞同：5
> 
> 时间：2012-10-25T12:32:47.980

这是 Baz1nga 答案的更新。由于`options.data`不是一个对象而是一个字符串，我只是求助于连接时间戳：

```
$.ajaxPrefilter(function (options, originalOptions, jqXHR) {
  if (originalOptions.type == "post" || options.type == "post") {

    if (options.data && options.data.length)
      options.data += "&";
    else
      options.data = "";

    options.data += "timeStamp=" + new Date().getTime();
  }
}); 
```

* * *

## 回答 #11

> 赞同：5
> 
> 时间：2012-10-16T22:57:52.277

GWT-RPC 服务的一个快速解决方法是将其添加到所有远程方法中：

```
getThreadLocalResponse().setHeader("Cache-Control", "no-cache"); 
```

* * *

## 回答 #12

> 赞同：4
> 
> 时间：2012-09-28T15:57:22.513

为了解决添加到主屏幕的 WebApp 的此问题，需要遵循两个投票最多的解决方法。需要在网络服务器上关闭缓存以防止新请求被缓存，并且需要向每个发布请求添加一些随机输入，以便已经缓存的请求能够通过。请参考我的帖子：

[iOS6 - 有没有办法清除添加到主屏幕的 webapp 的缓存 ajax POST 请求？](https://stackoverflow.com/questions/12642726/ios6-is-there-a-way-to-clear-cached-ajax-post-requests-for-webapp-added-to-hom)

警告：对于通过在请求中添加时间戳而不关闭服务器上的缓存来实现解决方法的任何人。如果您的应用程序被添加到主屏幕，现在将缓存每个发布响应，清除 safari 缓存不会清除它并且它似乎不会过期。除非有人有办法清除它，否则这看起来像是潜在的内存泄漏！

* * *

## 回答 #13

> 赞同：4
> 
> 时间：2013-04-29T06:43:01.680

iPad 4/iOS 6**不**适合我的事情：

我的请求包含： Cache-Control:no-cache

```
//asp.net's:
HttpContext.Current.Response.Cache.SetCacheability(HttpCacheability.NoCache) 
```

在我的 jQuery ajax 调用中添加 cache: false

```
 $.ajax(
        {
            url: postUrl,
            type: "POST",
            cache: false,
            ... 
```

只有这样做了：

```
var currentTime = new Date();
var n = currentTime.getTime();
postUrl = "http://www.example.com/test.php?nocache="+n;
$.post(postUrl, callbackFunction); 
```

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2012-10-12T06:55:45.497

这就是 GWT-RPC 的解决方法

```
class AuthenticatingRequestBuilder extends RpcRequestBuilder 
{
       @Override
       protected RequestBuilder doCreate(String serviceEntryPoint) 
       {
               RequestBuilder requestBuilder = super.doCreate(serviceEntryPoint);           
               requestBuilder.setHeader("Cache-Control", "no-cache");

               return requestBuilder;
       }
}

AuthenticatingRequestBuilder builder = new AuthenticatingRequestBuilder();
((ServiceDefTarget)myService).setRpcRequestBuilder(builder); 
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2012-09-24T13:10:51.593

我在[ASP.NET](http://en.wikipedia.org/wiki/ASP.NET)中的解决方法（页面方法、Web 服务等）

```
protected void Application_BeginRequest(object sender, EventArgs e)
{
    Response.Cache.SetCacheability(HttpCacheability.NoCache);
} 
```

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2014-06-12T16:40:18.693

我想你已经解决了你的问题，但让我分享一个关于网络缓存的想法。

确实，您可以在您使用的每种语言中添加许多标头，服务器端，客户端，并且您可以使用许多其他技巧来避免 Web 缓存，但始终认为您永远无法知道客户端从哪里连接到您的服务器，你永远不知道他是否使用了使用 Squid 或其他缓存产品的酒店“热点”连接。

**如果用户正在使用代理来隐藏他的真实**位置等……避免缓存的唯一方法是请求中的时间戳，如果未使用的话。

例如：

```
/ajax_helper.php?ts=3211321456 
```

然后，您必须传递的每个缓存管理器都没有在缓存存储库中找到相同的 URL，然后重新下载页面内容。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2012-09-24T07:39:33.970

虽然添加缓存破坏器参数以使请求看起来不同似乎是一个可靠的解决方案，但我建议不要这样做，因为它会损害任何依赖于实际缓存发生的应用程序。使 API 输出正确的标头是最好的解决方案，即使这比向调用者添加缓存破坏器稍微困难一些。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2013-01-09T22:24:28.333

对于那些使用`Struts 1`，这是我解决问题的方法。

**web.xml**

```
<filter>
    <filter-name>SetCacheControl</filter-name>
    <filter-class>com.example.struts.filters.CacheControlFilter</filter-class>
</filter>

<filter-mapping>
    <filter-name>SetCacheControl</filter-name>
    <url-pattern>*.do</url-pattern>
    <http-method>POST</http-method>
</filter-mapping> 
```

**com.example.struts.filters.CacheControlFilter.js**

```
package com.example.struts.filters;

import java.io.IOException;
import java.util.Date;
import javax.servlet.*;
import javax.servlet.http.HttpServletResponse;

public class CacheControlFilter implements Filter {

        public void doFilter(ServletRequest request, ServletResponse response,
                     FilterChain chain) throws IOException, ServletException {

        HttpServletResponse resp = (HttpServletResponse) response;
        resp.setHeader("Expires", "Mon, 18 Jun 1973 18:00:00 GMT");
        resp.setHeader("Last-Modified", new Date().toString());
        resp.setHeader("Cache-Control", "no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0");
        resp.setHeader("Pragma", "no-cache");

        chain.doFilter(request, response);
    }

    public void init(FilterConfig filterConfig) throws ServletException {
    }

    public void destroy() {
    }

} 
```

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2013-01-19T17:27:18.520

我能够通过结合使用 $.ajaxSetup 并将时间戳附加到我的帖子的网址（而不是帖子参数/正文）来解决我的问题。这是基于先前答案的建议

```
$(document).ready(function(){
    $.ajaxSetup({ type:'POST', headers: {"cache-control","no-cache"}});

    $('#myForm').submit(function() {
        var data = $('#myForm').serialize();
        var now = new Date();
        var n = now.getTime();
        $.ajax({
            type: 'POST',
            url: 'myendpoint.cfc?method=login&time='+n,
            data: data,
            success: function(results){
                if(results.success) {
                    window.location = 'app.cfm';
                } else {
                    console.log(results);
                    alert('login failed');
                }
            }
        });
    });
}); 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2012-09-21T21:57:13.430

根据应用程序，您现在可以在 iOS 6 中使用 Safari>Advanced>Web Inspector 解决问题，这有助于解决这种情况。

将手机连接到 Mac 上的 Safari，然后使用开发人员菜单对 Web 应用程序进行故障排除。

更新到 iOS6 后清除 iPhone 上的网站数据，包括特定于使用 Web 视图的应用程序。只有一个应用程序有问题，这在 IOS6 Beta 测试期间解决了它，从那时起没有真正的问题。

您可能还需要查看您的应用程序，如果在自定义应用程序的 WebView 中，请查看 NSURLCache。

[https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSURLCache_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003754](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSURLCache_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003754)

我想这取决于您的问题、实施等的真实性质。..

参考：$.ajax 调用

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2012-10-08T15:54:21.610

我找到了一种解决方法，让我对它为什么起作用感到好奇。在阅读 Tadej 关于 ASP.NET Web 服务的回答之前，我试图想出一些可行的方法。

我并不是说这是一个很好的解决方案，但我只是想在这里记录一下。

主页：包括一个 JavaScript 函数 checkStatus()。该方法调用另一个方法，该方法使用 jQuery AJAX 调用来更新 html 内容。我使用 setInterval 调用 checkStatus()。当然，我遇到了缓存问题。

解决方法：使用另一个页面调用更新。

在主页上，我设置了一个布尔变量 runUpdate，并将以下内容添加到 body 标记中：

```
<iframe src="helper.html" style="display: none; visibility: hidden;"></iframe> 
```

在 helper.html 中：

```
<meta http-equiv="refresh" content="5">
<script type="text/javascript">
    if (parent.runUpdate) { parent.checkStatus(); }
</script> 
```

因此，如果从主页调用 checkStatus()，我会得到缓存的内容。如果我从子页面调用 checkStatus，我会得到更新的内容。

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2014-07-19T21:12:36.537

虽然我的登录和注册页面在 Firefox、IE 和 Chrome 中的工作方式就像一个魅力......我一直在为 IOS 和 OSX 的 Safari 中努力解决这个问题，几个月前我在 SO 上找到了一种解决方法。

```
<body onunload=""> 
```

或通过 javascript

```
<script type="text/javascript">
window.onunload = function(e){
    e.preventDefault();
    return;
};
</script> 
```

这有点丑陋，但可以工作一段时间。

我不知道为什么，但是返回 null 到`onunload`页面没有缓存在 Safari 中的事件。

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2020-01-26T03:00:45.913

我们发现运行 iOS 版本 9 和 10 的旧 iPhone 和 iPad 偶尔会返回虚假的空白 AJAX 结果，这可能是由于 Apple 降低了 CPU 速度。返回空白结果时，iOS 不会调用服务器，就像从缓存中返回结果一样。频率变化很大，大约 10% 到 30% 的 AJAX 调用返回空白。

很难相信解决方案。只需等待 1 秒，然后再次调用。在我们的测试中，只需要重复一次，但我们编写的代码最多可以调用 4 次。我们不确定是否需要等待 1 秒，但我们不想冒着让服务器承受大量重复调用的风险。

我们发现问题发生在两个不同的 AJAX 调用上，它们使用不同的数据调用不同的 API 文件。但我担心它可能发生在任何 AJAX 调用上。我们只是不知道，因为我们不会检查每个 AJAX 结果，也不会在旧设备上多次测试每个调用。

两个问题 AJAX 调用都在使用：POST, Asynchronously = true, setRequestHeader = ('Content-Type', 'application/x-www-form-urlencoded')

当问题发生时，通常只有一个 AJAX 调用正在进行。所以这不是由于重叠的 AJAX 调用。有时问题会在设备繁忙时发生，但有时不会，而且如果没有 DevTools，我们真的不知道当时发生了什么。

iOS 13 没有这样做，Chrome 或 Firefox 也没有。我们没有任何运行 iOS 11 或 12 的测试设备。也许其他人可以测试这些设备？

我在这里注意到这一点，因为在搜索此问题时，此问题是 Google 搜索结果中排名靠前的。

* * *

## 回答 #24

> 赞同：-1
> 
> 时间：2012-09-24T22:05:41.437

[只有在IIS](http://en.wikipedia.org/wiki/Internet_Information_Services)中添加标头后，它才能与[ASP.NET](http://en.wikipedia.org/wiki/ASP.NET)一起使用。还不够。`pragma:no-cache``Cache-Control: no-cache`

* * *

## 回答 #25

> 赞同：-2
> 
> 时间：2016-07-28T16:33:15.027

我建议一种解决方法来修改函数签名，如下所示：

getNewRecordID(intRecordType, strTimestamp) 然后总是传入一个 TimeStamp 参数，并在服务器端丢弃该值。这可以解决这个问题。

# c# - 如果在 ASP.NET MVC 3 中有空间，为什么文件名标题不完整？

> ID：12506899
> 
> 赞同：5
> 
> 时间：2012-09-20T06:07:31.837
> 
> 标签：c#, asp.net, asp.net-mvc-3, header

我今天遇到了一个问题，这对我来说很奇怪，但也许对 C# 领域的专家来说不是。

我有一个`Download`这样的函数（一段代码！）

```
public void Download (string path){
  HttpContext.Current.Response.ContentType = "application/octet-stream";

  try {
           ....//process a 'filePath' variable using the 'path' parameter

               using ( FileStream sourceFile = new FileStream( filePath, FileMode.Open ) ) {
                 ...

                  HttpContext.Current.Response.AddHeader( "Content-Disposition", "attachment; filename=" + Path.GetFileName( filePath ) );

                  HttpContext.Current.Response.AddHeader( "Content-Length", fileSize.ToString() );

                  HttpContext.Current.Response.BinaryWrite( getContent );
               }
           ...

} 
```

如果提到并存储在`path`/`filePath`变量中的文件名包含空格

`PR SimpleTest.xls`

然后下载框包含文件名`PR`，没有任何附加内容。

![在此处输入图像描述](../Images/179cfed1d8806971ef3cb91fc0200327.png)

如果该文件名**没有空格**（如`PR_SimpleTest.xls`），则带有标题`PR_SimpleTest.xls`，我可以这样下载（显示带有他的扩展名的完整文件名）。

如果文件名包含空格，是否有解决方案来解决问题？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-20T06:37:01.337

谷歌搜索 http 标头空间会发现这篇[知识库文章](http://kb.mozillazine.org/Filenames_with_spaces_are_truncated_upon_download)，它建议用引号将文件名括起来。例如

```
HttpContext.Current.Response.AddHeader(
    "Content-Disposition",
    "attachment; filename=\"" + Path.GetFileName( filePath ) + "\""); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-29T23:33:32.957

上面的答案使用：

**Server.UrlEncode(strFileName)**

对我不起作用，它导致文件名是：

“我的+长+文件名.txt”

而使用**带引号的文件名**的第一个解决方案会产生：

“我的长文件名.txt”

这就是我们想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T06:38:03.170

我想你使用火狐。看这个链接：[下载文件问题](http://forums.asp.net/t/1596070.aspx/1)

```
Response.AppendHeader("content-disposition", "attachment; filename=" + Server.UrlEncode(strFileName)) 
```

另请查看[ASP.NET MVC Uploading and Downloading Files](http://www.mikesdotnetting.com/Article/125/ASP.NET-MVC-Uploading-and-Downloading-Files) and [Writing A Custom File Download Action Result For ASP.NET MVC](http://haacked.com/archive/2008/05/10/writing-a-custom-file-download-action-result-for-asp.net-mvc.aspx)。在 MVC 中，您可以使用特殊的操作结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-07T07:23:52.397

HttpContext.Current.Response.AddHeader("Content-Disposition", "attachment; filename=\"" + filePath + "\"");

# c# - 安装屏蔽引用的项目dll

> ID：12506900
> 
> 赞同：2
> 
> 时间：2012-09-20T06:07:35.310
> 
> 标签：c#, asp.net, installshield-le

我正在尝试使用安装屏蔽限量版制作（IIS 的网络）安装程序包。我将项目主要输出和内容文件以及调试符号添加到安装程序中，设置已构建，已正确安装，但现在出现问题：

两个主要项目引用的项目 dll 未正确构建，这意味着该 dll 的旧版本已在设置中构建和复制。我的（已安装）网站不适用于那些，因为我在制作安装程序之前更改了该项目。

如果我将项目中的那个dll手动复制到安装的文件夹中，它就可以工作...... 我的问题是：Installshield 在构建设置时从哪里获取这些 dll？它不应该再次构建项目并添加新的（刚刚构建的）引用的 dll 吗？

此外，如果我从 Windows 中的 Microsoft.net 文件夹中删除我的临时文件，它会正确构建设置（意味着当时构建了 dll）。在“依赖项”的设置项目中，我已经标记了我用于主项目的所有项目..

我正在使用 VS 2012 和 IShield 限量版 2012。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-27T13:31:53.780

我一直在 installshield 2012 LE 项目的主项目的 bin\release 文件夹中包含 DLL，方法是将它们添加到“文件”部分的 [INSTALLDIR]。高温高压

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-04T08:08:38.010

我今天有同样的问题。我的 .NET 项目中有一个项目引用的 DLL。InstallShield 正在使用该 DLL 的旧版本构建 MSI。

清除`Temporary ASP.NET Files`文件夹解决了这个问题。无法诊断 InstallShield 出现此问题的原因。

以下是我专门清除的路径：

```
C:\Windows\Microsoft.NET\Framework\v4.0.30319\Temporary ASP.NET Files
C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Temporary ASP.NET Files 
```

# objective-c - RestKit - 清除数据

> ID：12506903
> 
> 赞同：2
> 
> 时间：2012-09-20T06:07:56.777
> 
> 标签：objective-c, core-data, restkit

在我的应用程序中，我使用 CoreData 和 RestKit。如果应用程序进入后台，我正在加密存储 sqlite 文件。现在，如果有新用户登录，我必须完全清除存储，以便用户从新的 Core Data 存储开始。因为我已经加密了 sqlite 存储，所以我无法解密它然后执行 [[[RKObjectManager sharedManager] objectStore] deletePersistentStore]，因为解密密钥是使用用户密码作为属性创建的。所以我只是在本地删除我的“TestStore_Encrypted.sqlite”文件。但是如果用户已经登录，每个获取的请求仍然会获取数据，但 iPad 上不再存在 sqlite 文件。所以我认为它仍然在缓存中。我试图重置：

```
[[[[RKObjectManager sharedManager] objectStore] primaryManagedObjectContext] reset]; 
```

知道如何实现吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-24T20:57:53.120

使用 RestKit 0.20 的正确方法是`RKManagedObjectStore`'s`resetPersistentStores`方法。

# mongodb - 使用 Mongo 聚合框架对数组进行分组操作

> ID：12506904
> 
> 赞同：4
> 
> 时间：2012-09-20T06:07:58.803
> 
> 标签：mongodb

我正在使用 mongodb 2.2。我想使用新的聚合框架对我的文档进行查询，但元素是数组。

这是我的 $project 结果的示例：

```
{ 
  "type" : [
      "ads-get-yyy",
      "ads-get-zzz"
  ],
  "count" : [
      NumberLong(0),
      NumberLong(10)
  ],
  "latency" : [
      0.9790918827056885,
      0.9790918827056885
  ]
} 
```

我想按类型分组，因此“ads-get-yyy”要知道计数的平均值是多少，延迟的平均值是多少。

我想要类似于下一个查询的东西，但它适用于每个数组的元素：

```
db.test.aggregate(
{
  $project : {
    "type" : 1,
    "count" : 1,
    "latency" : 1
  }
},{
  $group : {
    _id: {type : "$type"},
    count: {$avg: "$count"},
    latency: {$avg: "$latency"}
  }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T13:12:27.983

我也只是在学习新的 AF，但我认为您需要先`$unwind`了解类型，以便您可以按它们进行分组。所以像：

```
db.test.aggregate({
  $project : {
    "type" : 1,
    "count" : 1,
    "latency" : 1
  }
},{
  $unwind : "$type"
},{
  $group : {
    _id: {type : "$type"},
    count: {$avg: "$count"},
    latency: {$avg: "$latency"}
  }
}); 
```

# perl - 为什么 cpan 不能安装 XML::LibXML？

> ID：12506906
> 
> 赞同：0
> 
> 时间：2012-09-20T06:08:01.677
> 
> 标签：perl, cpan

[这真的很奇怪，有人可以解释为什么 GCC 在安装XML::LibXML](https://metacpan.org/release/XML-LibXML)时找不到包含文件吗？

```
> cpan PAJAS/XML-LibXML-1.70.tar.gz
...
C:/CPANTE~1/PERL51~1.0_6/site/bin/gcc.exe -c    -DNDEBUG -DWIN32 -D_CONSOLE -DNO_STRICT -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DUSE_PERLIO -DHASATTRIBUTE -fno-strict-aliasing -mms-bitfields -O2 -DVERSION=\"1.70\" -DXS_VERSION=\"1.70\"  "-IC:\CPANTesters\Perl5.16.0_64\lib\CORE"  -DHAVE_UTF8 -DHAVE_BLANK LibXML.c
LibXML.xs:34:31: fatal error: libxml/xmlversion.h: No such file or directory

> IF EXIST %INCLUDE%\libxml\xmlversion.h ECHO Cogito ergo sum
Cogito ergo sum 
```

这是带有 MinGW64 的 ActiveState 5.16.0 64 位。

我决定放弃使用 Zlatkovic Win32 二进制文件[ftp://ftp.zlatkovic.com/pub/libxml/](ftp://ftp.zlatkovic.com/pub/libxml/)，并使用[http://ftp.gnome.org/pub/GNOME/binaries/win64/dependencies上提供的 64 位二进制文​​件/](http://ftp.gnome.org/pub/GNOME/binaries/win64/dependencies/)。

上述问题通过进入解压模块并执行以下命令解决：

```
> perl Makefile.PL INC=-IC:\CPANTesters\bin\gnome-deps-win64\include LIBS=-LC:\CPANTesters\bin\gnome-deps-win64\lib
> dmake 
```

但是由于 Perl 在所有测试文件上崩溃，运行 dmake test 会出现问题。

```
C:\CPANTesters\Perl5.16.0_64\bin\perl.exe "-MExtUtils::Command::MM" "-e" "test_harness(0, 'blib\lib', 'blib\arch')" t/*.t
t/01basic.t ......................... Dubious, test returned 38 (wstat 9728, 0x2600)
Failed 3/3 subtests 
```

关于如何调试的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T07:20:46.727

[XML-LibXML](https://metacpan.org/release/XML-LibXML)是[libxml2](http://xmlsoft.org/)的 Perl 绑定，但它不包括 libxml2 的副本（其中`libxml/xmlversion.h`一部分）。您必须单独安装它，并确保 Perl`gcc`可以找到它。 `INCLUDE`不是.[使用的环境变量`gcc`](http://gcc.gnu.org/onlinedocs/gcc/Environment-Variables.html)。它使用`CPATH`或`C_INCLUDE_PATH`。

我提供[了在 Microsoft Windows 上从源代码安装 XML-LibXML 的说明](https://metacpan.org/source/SHLOMIF/XML-LibXML-2.0004/README#L126)。您是否尝试关注他们？

在 Windows 上获取 XML-LibXML 的最简单方法是安装[Strawberry Perl](http://strawberryperl.com/)。它在包中附带了 XML-LibXML。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T12:35:29.550

通常，在 Windows 上，最简单的方法是使用为您构建了 LibXML 的存储库。这个问题与您的问题类似：[Perl 5.8.8 不支持 XML::LibXML 吗？](https://stackoverflow.com/questions/5396126/is-xmllibxml-not-supported-on-perl-5-8-8/5396888#5396888)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-08-16T22:57:46.807

试试这个，它在centos 6上对我有用，在这样做之后我能够通过CPANM安装其他依赖于XML :: LibXML [https://www.question-defense.com/2010/01/27/perl-cpan的模块-install-xmllibxmlcommon-error-libxml2-not-found](https://www.question-defense.com/2010/01/27/perl-cpan-install-xmllibxmlcommon-error-libxml2-not-found)

# flash - 如何使用 PixelBender 创建简单的发光效果

> ID：12506907
> 
> 赞同：2
> 
> 时间：2012-09-20T06:08:12.723
> 
> 标签：flash, shader, glow, pixel-bender

我想在我的 flashgame 中添加一个发光效果，就像在“几何战争”中一样 ![在此处输入图像描述](../Images/ede17789ecc8f553613db9f041c639fc.png)

我认为 Pixelbender 一定可以做到这一点，但我完全不喜欢这种工具/语言来编写这样的着色器。

有人知道怎么做，或者有一个很好的参考可以告诉我如何实现吗？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2015-08-04T03:17:03.043

如果您对着色器语言有疑问，我认为您只需从 Unity 的 Shader Forge 插件或简单地使用虚幻引擎开始。它可以帮助您在没有代码的情况下理解和创建着色器，并且它们几乎具有您需要的基本着色器，您可以从中查看。

对于这样的发光效果，您可以将菲涅尔着色器与 Blinn-Phong 着色器一起使用。还需要更复杂的混合，但这是您可以尝试的方法

# java - 删除或替换“|” 字符串方法的字符

> ID：12506912
> 
> 赞同：2
> 
> 时间：2012-09-20T06:08:46.733
> 
> 标签：java

我想删除字符“|” 通过使用`String#replaceAll()`方法。但第一个参数是识别正则表达式元字符。

我尝试`replaceAll("\|", "");`使用转义字符，但无法编译。

有没有办法删除或替换“|” Java的字符？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-20T06:10:03.420

您需要`|`在使用时双重转义`replaceAll()`，例如：

```
myString.replaceAll("\\|", ""); 
```

这是因为您的字符串实际上被解析*了两次*，首先是作为文字字符串，然后是作为正则表达式。因此，当您从`"\\|"`第一个解析开始时，会为您提供一个文字字符串`\|`，然后正则表达式解析器将其识别为`|`. 在您习惯之前，这可能会有点令人困惑。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T06:17:46.357

正确的答案是，不要使用[`replaceAll()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)（替换正则表达式），使用[`replace()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace%28char,%20char%29)它只是替换一个字符：

```
replace("|", ""); 
```

仅供参考，尽管方法名称中没有“all”，但实际上确实替换了指定字符的所有实例。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-20T06:17:38.107

此外，这也可以完成工作：

```
String test = "Hello | Hi | Test";
System.out.println(test.replace("|", "")); 
```

[字符串替换方法](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29)在这里是一个有用的工具。无需使用正则表达式。

# android - Android 通用 Asynctask

> ID：12506916
> 
> 赞同：1
> 
> 时间：2012-09-20T06:09:24.240
> 
> 标签：android, android-asynctask

我目前有多个活动需要为 http post 执行 asynctask，我希望将 asynctask 作为另一个类文件，以便不同的活动可以调用 asynctask 来执行 http post 请求和 onPostExecute，调用方法 httpResult(result)在调用异步任务的活动中。我试图传递活动，但我无法在 onPostExecute 中调用该方法。我怎样才能做到这一点？

```
public class MyActivity extends Activity {
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_MyActivity);

    //logic here...
    AsyncHttpPost asyncHttpPost = new AsyncHttpPost("someContent", this, dialog);
    JSONObject data = new JSONObject();
    data.put("key", "value");
    try {
            asyncHttpPost.execute(data);
        }
        catch (Exception ex){
        ex.printStackTrace();
        }
    }
    public static void httpResult(String result) {
        //this method has to get called by asynctask to make changes to the UI
     }

} 
```

AsyncHttpPost.java

```
public class AsyncHttpPost extends AsyncTask<JSONObject, String, String> {
String recvdjson;
String mData="";
private ProgressDialog dialog;
private Activity activity;

public AsyncHttpPost(String data, Activity activity, ProgressDialog dialog) {
    mData = data;
    this.activity = activity;
    this.dialog = dialog;
}

protected void onPreExecute()
{

    dialog.show();
}

    @Override
    protected String doInBackground(JSONObject... params) {

       //logic to do http request
           return "someStringResult";

    }

    protected void onPostExecute(String result) {
        dialog.dismiss();
        activity.httpResult(result); //This line gives me error : The method httpResult(String) is undefined for the type Activity

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:56:01.007

在单独的文件中创建一个名为 HttpResponseImpl 的接口并添加所需的方法`httpResult`

```
interface HttpResponseImpl{
    public void httpResult(String result);
} 
```

`Activity`现在由你的类实现这个接口

```
public class MyActivity extends Activity implements HttpResponseImpl{

    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_MyActivity);

    //logic here...
    AsyncHttpPost asyncHttpPost = new AsyncHttpPost("someContent", this, dialog);
    JSONObject data = new JSONObject();
    data.put("key", "value");
    try {
            asyncHttpPost.execute(data);
        }
        catch (Exception ex){
        ex.printStackTrace();
        }
    }

    public void httpResult(String result){
        //this method has to get called by asynctask to make changes to the UI
    }
} 
```

而您的 AsyncHttpPost 课程将是。

```
public class AsyncHttpPost extends AsyncTask<JSONObject, String, String> {
String recvdjson;
String mData="";
private ProgressDialog dialog;
private HttpResponseImpl httpResponseImpl;

public AsyncHttpPost(String data, HttpResponseImpl httpResponseImpl, ProgressDialog dialog) {
    mData = data;
    this.httpResponseImpl = httpResponseImpl;
    this.dialog = dialog;
}

protected void onPreExecute()
{

    dialog.show();
}

    @Override
    protected String doInBackground(JSONObject... params) {

       //logic to do http request
           return "someStringResult";

    }

    protected void onPostExecute(String result) {
        dialog.dismiss();
        httpResponseImpl.httpResult(result); 

    }
} 
```

使用您要从中执行 HttpRequest`HttpResponseImpl`的所有类实现此接口。`Activity`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-16T07:31:24.007

**通用 AsyncTask 示例**

像这样称呼它

```
new RetrieveFeedTask(new OnTaskFinished()
        {
            @Override
            public void onFeedRetrieved(String feeds)
            {
                //do whatever you want to do with the feeds
            }
        }).execute("http://enterurlhere.com"); 
```

**RetrieveFeedTask.class**

```
class RetrieveFeedTask extends AsyncTask<String, Void, String>
{
    String HTML_response= "";

    OnTaskFinished onOurTaskFinished;

    public RetrieveFeedTask(OnTaskFinished onTaskFinished)
    {
        onOurTaskFinished = onTaskFinished;
    }
    @Override
    protected void onPreExecute()
    {
        super.onPreExecute();
    }

    @Override
    protected String doInBackground(String... urls)
    {
        try
        {
            URL url = new URL(urls[0]); // enter your url here which to download

            URLConnection conn = url.openConnection();

            // open the stream and put it into BufferedReader
            BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));

            String inputLine;

            while ((inputLine = br.readLine()) != null)
            {
                // System.out.println(inputLine);
                HTML_response += inputLine;
            }
            br.close();

            System.out.println("Done");

        }
        catch (MalformedURLException e)
        {
            e.printStackTrace();
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        return HTML_response;
    }

    @Override
    protected void onPostExecute(String feed)
    {
        onOurTaskFinished.onFeedRetrieved(feed);
    }
} 
```

**OnTaskFinished.java**

```
public interface OnTaskFinished
{
    public void onFeedRetrieved(String feeds);
} 
```

# java - Wrapper.exe 与 ServerSocket

> ID：12506918
> 
> 赞同：0
> 
> 时间：2012-09-20T06:09:50.817
> 
> 标签：java, jakarta-ee, network-programming

最初我在通配符地址 0.0.0.0 中占用了端口 80
现在我试图将此端口 80 绑定到一个可用的 ipaddress 中，比如 172.18.81.56

```
The following exception occurred  
    java.net.BindException: Address already in use: JVM_Bind  
            at java.net.PlainSocketImpl.socketBind(Native Method)  
            at java.net.PlainSocketImpl.bind(Unknown Source)  
            at java.net.ServerSocket.bind(Unknown Source)  
            at java.net.ServerSocket.<init>(Unknown Source) 
```

但是从Windows服务（wrapper.exe）执行相同的代码时没有异常，服务器套接字创建成功，可能是什么问题......

```
here the piece of code  

    ServerSocket ss = null;  
    try  
    {  
        serverHost = "172.18.81.56";  
        InetAddress ina = InetAddress.getByName(serverHost);  
        ss = new ServerSocket(port, 10, ina);  
        ss.close();  
    }  
    catch(Exception e)  
    {  
       e.printStackTrace();  
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T08:53:39.563

您不能绑定到 172.18.81.56:80，除非 (a) 没有其他人绑定到 172.18.81.56:80 并且 (b) 没有其他人绑定到 0.0.0.0:80。

# android - 如何使用不同的图像在 XML 中呈现单个视图实例

> ID：12506925
> 
> 赞同：0
> 
> 时间：2012-09-20T06:10:11.267
> 
> 标签：android, xml, view

![在此处输入图像描述](../Images/7e9fe31857b33fe509e1fb5f23f9888c.png)

我的 XML：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:weightSum="1" >

    <LinearLayout
        android:id="@+id/leftLayout"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight=".5"
        android:orientation="vertical"
        android:weightSum="1" >

        <LinearLayout
            android:id="@+id/firstProblem"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight=".5"
            android:weightSum="1" >

            <com.student.spelling.SpellViewFirst
                android:layout_width="match_parent"
                android:layout_height="match_parent" />
        </LinearLayout>

        <View
            android:layout_width="match_parent"
            android:layout_height="3dp"
            android:background="@android:color/black" />

        <LinearLayout
            android:id="@+id/secondProblem"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight=".5"
            android:weightSum="1" >

             <com.student.spelling.SpellViewFirst
                android:layout_width="match_parent"
                android:layout_height="match_parent" />
        </LinearLayout>
    </LinearLayout>

    <View
        android:layout_width="3dp"
        android:layout_height="fill_parent"
        android:background="@android:color/black" />

    <LinearLayout
        android:id="@+id/rightLayout"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight=".5"
        android:orientation="vertical"
        android:weightSum="1" >

        <LinearLayout
            android:id="@+id/thirdProblem"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight=".5"
            android:weightSum="1" >

               <com.student.spelling.SpellViewFirst
                android:layout_width="match_parent"
                android:layout_height="match_parent" />
        </LinearLayout>

        <View
            android:layout_width="match_parent"
            android:layout_height="3dp"
            android:background="@android:color/black" />

        <LinearLayout
            android:id="@+id/fourthProblem"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight=".5"
            android:weightSum="1" >

              <com.student.spelling.SpellViewFirst
                android:layout_width="match_parent"
                android:layout_height="match_parent" />
        </LinearLayout>
    </LinearLayout>

</LinearLayout> 
```

我的视图类：

```
public class SpellViewFirst extends View {
    private StartActivity studentActivity;
    private int screenWidth;
    private int screenHeight;
    private Bitmap imageBitmap;
    private ArrayList<Character> charList;
    List<SpellObjects> spellObjectsList;
    private String word;
    int placeHolderHeight;
    private ArrayList<Integer> dragable_id_object_list;
    private Bitmap placeHolderBitmap; 
    Point placeHolderPoints;
    Point alphabetPoints;
    private int indexOfCurrentObject;
    private int offsetX;
    private int offsetY;
    public SpellViewFirst(Context context, AttributeSet attrs) {
        super(context, attrs);
        // TODO Auto-generated constructor stub
        studentActivity = (StartActivity)context;
    }
    @Override
    protected void onSizeChanged(int width, int height, int oldwidth, int oldheight) {
        // TODO Auto-generated method stub
        super.onSizeChanged(width, height, oldwidth, oldheight);
        screenWidth = width;
        screenHeight = height;
        assignCoordinatesToImages();
    }
    private void assignCoordinatesToImages() {
        // TODO Auto-generated method stub
        Bitmap bm=BitmapFactory.decodeFile("/mnt/sdcard/resources/images/spelling/ques.png");
        dragable_id_object_list=new ArrayList<Integer>() ;
        spellObjectsList=new ArrayList<SpellObjects>();
        SpellObjects curentObjects;
        placeHolderHeight=bm.getHeight();
        word=studentActivity.correctWordsArray[0];
        imageBitmap=BitmapFactory.decodeFile("/mnt/sdcard/resources/images/spelling/"+word+".png");
        placeHolderBitmap=Bitmap.createScaledBitmap(bm, screenWidth/word.length(), screenWidth/word.length(),true);
        charList=new ArrayList<Character>();
        placeHolderPoints=new Point();

        for (int i = 0; i < word.length(); i++) {
            charList.add(word.charAt(i));
        }
        for (int i = 0; i < charList.size(); i++) {
            placeHolderPoints.y=screenHeight/2;     
            curentObjects=new SpellObjects(placeHolderPoints, placeHolderBitmap, -1,charList.get(i), null, placeHolderBitmap.getHeight(), screenWidth/word.length(), true);
            placeHolderPoints.x=placeHolderPoints.x+screenWidth/word.length();
            spellObjectsList.add(curentObjects);
        }
        Collections.shuffle(charList);
        alphabetPoints=new Point();
        alphabetPoints.x=imageBitmap.getWidth();
        for (int i = 0; i < charList.size(); i++) {
            Bitmap bitmap= BitmapFactory.decodeFile("/mnt/sdcard/resources/images/spelling/"+charList.get(i)+".png");
            curentObjects=new SpellObjects(alphabetPoints,bitmap, i,charList.get(i), null, placeHolderBitmap.getHeight(), screenWidth/word.length(), true);
            alphabetPoints.x=alphabetPoints.x+bitmap.getWidth();
            spellObjectsList.add(curentObjects);
            dragable_id_object_list.add(i, i);
        }
    }
    @Override
    protected void onDraw(Canvas canvas) {
        // TODO Auto-generated method stub
        super.onDraw(canvas);
        canvas.drawBitmap(imageBitmap, 0, 0, null);
        for(SpellObjects currentObjects :spellObjectsList ){
            if(currentObjects.getIsCorrectlyPlaced())
                canvas.drawBitmap(currentObjects.getobjectBitmap(), currentObjects.getCurrentPoint().x,currentObjects.getCurrentPoint().y, null);
        }
    }
} 
```

我想在其他三个象限中渲染像蛋糕、鸭子和好的东西。实际上，这是为孩子们设计的拼写应用程序，他们可以将字母拖放到各自的位置。请帮帮我，我被卡住了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T09:15:23.710

> 我想在其他三个象限中像蛋糕、鸭子和美食一样渲染。

要为您的自定义设置不同的图像，您`View`需要为您的自定义布局添加一个自定义属性以指示所需的图像（或 id，或唯一标识视图的东西）。像这样的东西（在`attr.xml`）：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <declare-styleable name="CustomAttr">
        <attr name="pictureName" format="string" />
    </declare-styleable>
</resources> 
```

此属性将在布局中使用，如下所示：

```
<com.student.spelling.SpellViewFirst
                android:layout_width="match_parent"
                android:layout_height="match_parent" 
                newtag:pictureName="one_of_your_picture_names_here"/> 
```

不要忘记`newtag`在 xml 布局的根目录中设置命名空间：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:newtag="http://schemas.android.com/apk/res/your.package.here"
// ... 
```

然后，您将使用该属性来`SpellViewFirst`使用目标图像：

```
public SpellViewFirst(Context context, AttributeSet attrs) {
        super(context, attrs);     
        studentActivity = (StartActivity)context;
        if (attrs != null) {
                TypedArray ta = context.obtainStyledAttributes(attrs,
                        R.styleable.CustomAttr, 0, 0);
                word = ta.getString();// this is what you use to get the picture name, right?
                ta.recycle();
        }
} 
```

然后您可以使用该`word`变量来获得所需`Bitmap`的`assignCoordinatesToImages()`. 不要忘记测试`word`（`null`意味着没有在布局中设置图片名称）并显示默认图像。

# python - 检查变量是否为 SRE_Match

> ID：12506926
> 
> 赞同：6
> 
> 时间：2012-09-20T06:10:18.243
> 
> 标签：python, regex

我需要检查变量是否是正则表达式匹配对象。

`print(type(m))`返回类似的东西：`<_sre.SRE_Match object at 0x000000000345BE68>`

但是当我导入`_sre`并尝试执行时，会引发`type(m) is SRE_Match`异常。`NameError: name 'SRE_Match' is not defined`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-20T06:20:33.090

你可以做

```
SRE_MATCH_TYPE = type(re.match("", "")) 
```

在程序开始时，然后

```
type(m) is SRE_MATCH_TYPE 
```

每次你想进行比较。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T07:36:59.600

堆积，因为有很多方法可以解决问题：

```
def is_match_obj(m):
    t = type(m)
    return (t.__module__, t.__name__) == ('_sre', 'SRE_Match') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-09-04T10:19:22.560

```
from typing import Match

isinstance(m, Match) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T07:30:35.663

作为`type(m)`返回我将使用的可打印表示：

```
repr(type(m)) == "<type '_sre.SRE_Match'>" 
```

所以你不必导入`_sre`模块，也不必做任何额外的`match`调用。

这适用于 Python 2。似乎与 Python 3 相比，type(m) 的结果不同，类似于`<_sre.SRE_Match object at 0x000000000345BE68>`. 如果是这样，我想你可以使用：

```
repr(type(m)).startswith("<_sre.SRE_Match") 
```

或类似的东西（我现在手头没有 Python 3 解释器，所以这部分答案可能不准确。）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-20T06:23:45.700

你可以做这样的事情

```
isinstance(m, type(re.match("",""))) 
```

通常不需要检查匹配对象的类型，所以没有人费心去做一个好的方法

# mysql - MySQL比较查询长文本列

> ID：12506929
> 
> 赞同：1
> 
> 时间：2012-09-20T06:10:26.320
> 
> 标签：mysql, longtext

我有一个`LONGTEXT`用于存储文本段落的列。假设在这些段落中有类似的内容：

```
Text text text text
COUNT: 75  text text
 text text text text
 text text text text 
```

是否可以对所有文本中的小字符串“COUNT：75”进行比较查询？

我的第一个想法是

```
SELECT * FROM `books`
WHERE `paragraphs` LIKE '%COUNT: >0%' 
```

这甚至可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:14:47.340

您`SELECT`只会找到文本包含通配符之间精确位的行：您不能将 a`LIKE`与这样的比较逻辑结合起来。

但是，您*可以*做的是使用正则表达式去除文本的相关部分，然后对其进行分析。

但请记住，结合

*   大量文本
*   文本内容逻辑
*   正则表达式

*一下子*不会提供最佳性能！我建议如下：

1.  使用触发器去除文本的一小部分，以便您可以处理一些可管理的内容（即 50 个字符左右），将此子文本插入到单独的表中
2.  使用 MySql 正则表达式或全文函数来分析您的 COUNT

所以你的触发器会有类似的东西：

```
select 
ltrim(rtrim(substring(paragraphs, instr(paragraphs, 'count:') + 6, 10)))
from books 
where instr(paragraphs, 'count:') > 0 
```

这将为您提供 之后的下一个 10 个字符`'count:'`，去掉空格。然后你可以通过例如进一步细化它

```
select substring(text_snippet, 1, instr(text_snippet, ' ')) as count_value
from
(
    select 
    ltrim(rtrim(substring(paragraphs, instr(paragraphs, 'count:') + 6, 10))) 
          as text_snippet
    from books 
    where instr(paragraphs, 'count:') > 0
) x
where isnumeric(substring(text_snippet, 1, instr(text_snippet, ' '))) = 1 
```

获取数字值跟在 COUNT 位之后的行。

然后，您可以提取 COUNT 旁边的数值，将它们作为数字保存在单独的表中，然后像这样使用 JOIN：

```
select b.*
from books b inner join books_count_values v
on b.id = v.books_id
where v.count_value > 0 
```

看这里

[http://dev.mysql.com/doc/refman/5.1/en/string-functions.html](http://dev.mysql.com/doc/refman/5.1/en/string-functions.html)

供您使用的功能。

# c# - 为什么 ajax 在必要后返回值？

> ID：12506931
> 
> 赞同：1
> 
> 时间：2012-09-20T06:10:30.833
> 
> 标签：c#, javascript, .net, ajax, asp.net-mvc-3

```
@using (Ajax.BeginForm("Edit", "xyz", new AjaxOptions { 
    InsertionMode = InsertionMode.Replace, 
    HttpMethod = "POST", 
    UpdateTargetId = "divDisplay", 
}))

{

<input type="submit" value="Edit" id="Edit" class="formBtn" onclick='return OpenErrorPopup()'/>

}

<script type="text/javascript" language="javascript">

function OpenErrorPopup() {

        debugger;
        var temp = false;

        $.ajax({
            cache: false,
            url: "/xyz/ChecLogin/",

            success: function (UserLoggedOn) {
                debugger;
                if (UserLoggedOn == "True") {
                    if (condition) {
                        temp = false;
                        return temp;
                    }
                    else {
                        temp = true;
                        return temp;
                    }
                }
                else {
                    temp = false;
                    return temp;
                }
            },

            error: function (err) {
                temp = false;
                return temp;
            }
        });        

        debugger;              
        return temp;

    }
</script> 
```

预期：首先调用openErrorPopup，执行ajax，然后动态返回值。

实际：虽然调用了openErrorPopup，但它首先将临时值直接返回给`<input .... onclick=...>`然后执行ajax。

我开始知道 ajax 执行将是异步的。所以我尝试了 ajax 的 OnBegin 事件，但那不是返回值。请就这两个问题中的任何一个提供一些解决方案。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:44:08.843

如果您在同一个域上进行 ajax 调用，您可以指示[jQuery.ajax](http://api.jquery.com/jQuery.ajax/)是同步的。只需将“async: false”传递给 ajax 选项：

```
$.ajax({
        cache: false,
        async:false,
        url: "/xyz/ChecLogin/",

        success: function (UserLoggedOn) { ... 
```

并且不需要从成功和错误回调中返回 tmp，只需初始化它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T06:16:55.687

进行此输入`button`（或始终从 OpenErrorPopup 返回 false）并通过`$('form#xxx').submit()`.

# algorithm - 没有整数参数的递归

> ID：12506932
> 
> 赞同：1
> 
> 时间：2012-09-20T06:10:33.630
> 
> 标签：algorithm, recursion

我正在阅读 Robert Sedwick 的 C++ 算法递归。如下所述

> 在根本不涉及整数参数的情况下，而是使用抽象的离散问题公式，它允许我们将问题分解为允许递归的较小问题。

请用例子解释作者所说的上述陈述是什么意思？

谢谢你的时间

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:16:02.170

[例如快速排序](http://en.wikipedia.org/wiki/Quicksort)- 问题中没有整数，而是一个“抽象”数组。
然而，每个递归步骤将问题分成 2 个较小的子问题。

另一方面，诸如递归斐波那契之类的问题-通过使用较小的整数递归调用，将问题简化为较小的问题。

# validation - 嵌套 ASP 验证

> ID：12506934
> 
> 赞同：0
> 
> 时间：2012-09-20T06:10:42.897
> 
> 标签：validation, asp-classic, if-statement

我有一张表格，要求提供四种类型的捐款。用户必须从四种捐赠中选择一种。此外，根据他们选择的一项，他们需要填写相邻的字段（金额）。

如果 A1 已填写 B1 必须填写
如果 A2 已填写 B2 必须填写
如果 A3 已填写 B3 必须填写
如果 A4 已填写 B4 必须填写

...但至少必须填写一个 A。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T09:15:14.913

假设您在 ASP 验证之后（即发布后），您可以执行以下操作：

```
dim A1 : A1 = trim(request.form("A1"))
dim A2 : A2 = trim(request.form("A2"))
dim A3 : A3 = trim(request.form("A3"))
dim A4 : A4 = trim(request.form("A4"))

dim B1 : A1 = trim(request.form("B1"))
dim B2 : B2 = trim(request.form("B2"))
dim B3 : B3 = trim(request.form("B3"))
dim B4 : B4 = trim(request.form("B4"))

dim ValidationError : ValidationError = ""

if A1 <> "on" and A2 <> "on" and A3 <> "on" and A4 <> "on" then
    ValidationError = "Please select at least one option"
else
    if A1 = "on" and B1 = "" then ValidationError = "You selected A1, please complete the amount"
    if A2 = "on" and B2 = "" then ValidationError = "You selected A2, please complete the amount"
    if A3 = "on" and B3 = "" then ValidationError = "You selected A3, please complete the amount"
    if A4 = "on" and B4 = "" then ValidationError = "You selected A4, please complete the amount"
end if

if ValidationError <> "" then
    response.write(ValidationError)
else
    '#### All OK
end if 
```

但是像这样的东西通常在 javascript (client side - pre-post) 验证中更流畅。

# c++ - 关于单身人士

> ID：12506940
> 
> 赞同：2
> 
> 时间：2012-09-20T06:11:38.540
> 
> 标签：c++, oop, design-patterns, singleton, single-instance

好吧，我读到单身很糟糕，因为它们是反模式。我还读到，这样做的主要原因是对单例的全局引用，无论如何：

**是否总是可以避免单身？**

如果是这样，比如说我有一个 IOCP 网络，我需要对其进行一次初始化，并且该对象需要在软件的整个生命周期中保持不变。同样带有一个我称之为“绘画”的类，我将数据打印到屏幕上。如果我没有单独使用它，我仍然需要当前 Hwnd 的全局变量，并在每次我要使用它时在本地初始化对象（真的很烦人）。

**所以使用单例是我的设计有缺陷的标志吗？我能做些什么来避免它们？**

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-20T06:28:28.343

> 是否总是可以避免单身？

是的，使用全局变量，或者（甚至更好）修复您的设计。修复设计的一种选择是使用某种[控制反转](http://en.wikipedia.org/wiki/Inversion_of_control)。

如果你尝试使用[OO 原则](http://en.wikipedia.org/wiki/KISS_principle#See_also)，你会发现你可以不用单例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T09:48:40.437

这是一个问题，即哪些实体需要访问只能实例化一次的资源，以及何时（以下称为资源）。

如果需要访问此资源的实体可以使用资源（IOC，依赖注入）进行实例化，那么这是最好的方法，从而保持简单并避免创建单例。[亲吻](http://en.wikipedia.org/wiki/KISS_principle)。

如果由于某种原因，有实体需要访问资源，但无法用它实例化，则需要实现替代方案。一个选项是 Singleton，但我喜欢使用的另一个选项是 Factory。这完全封装了资源的创建，并且更加面向未来，这意味着如果将来由于某种原因，可以实例化多个资源实例，则将其全部封装。您不能/不应该尝试使用单例来执行此操作。当然，工厂内部会维护资源的唯一实例。

有些人会争辩说，如果不能用资源实例化实体，那么设计就是糟糕的。这可以争论，并且可能应该根据具体情况进行。

# java - JFrame在调整大小时重复绘图

> ID：12506941
> 
> 赞同：0
> 
> 时间：2012-09-20T06:11:43.380
> 
> 标签：java, swing, jframe, jpanel, out-of-memory

我用Java（使用swing）编写了一个代码，它在面板上绘制了几个多边形。

```
public MyClass extends JPanel 
```

代码非常简单（但很长），基本上添加了几个多边形，然后为每个多边形添加几个点，然后在屏幕上绘制它们（使用`drawPolygon`）。

我的问题是当我运行程序时，我看不到面板上的图纸。过了一会儿，我发现当我重新调整框架大小时，我可以突然看到这幅画，但它会重复多次（取决于我重新调整大小的程度）。如果我在调整大小方面玩了足够的时间，我会得到：

```
 java.lang.OutOfMemoryError: Java heap space 
```

而且，`myPolygon.invalidate()`也没用。

使用时`setResizable(false)`我根本看不到我的绘图。

有没有人有办法解决吗？

重复图像截图：[1](http://i.stack.imgur.com/G3BgZ.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:41:58.487

首先，在您的`paintComponent`方法中，不要调用

```
setPreferredSize(new Dimension(500,500));
setVisible(true);
validate(); 
```

这将要求重新绘制，导致`paintComponent`被召回，你最终会陷入一个令人讨厌的循环，消耗你的 CPU 和（正如你所发现的）你的内存。

如果您可以摆脱它，最好将多边形绘制到缓冲区，然后在`paintComponent`. 从长远来看，这将更快......

```
// Create a field
private BufferedImage buffer;

// Call this when you need to change the polygon some how...
protected void createBuffer() {

    // You need to determine the width and height values ;)
    buffer = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);
    Graphics2D g = image.createGraphics();

    int xoffset=5;//Multiply in order to "zoom" the picture
    int offset=0;//moves shape to the right

    p.addPoint(40*xoffset-offset, 30*xoffset-offset);
    p.addPoint(50*xoffset-offset,30*xoffset-offset);
    p.addPoint(57*xoffset-offset,37*xoffset-offset);
    p.addPoint(57*xoffset-offset,47*xoffset-offset);
    p.addPoint(50*xoffset-offset,54*xoffset-offset);
    p.addPoint(40*xoffset-offset,54*xoffset-offset);
    p.addPoint(33*xoffset-offset,47*xoffset-offset);
    p.addPoint(33*xoffset-offset, 37*xoffset-offset);

    g.drawPolygon(p);
    g.dispose();

}

protected void paintComponent(Graphics g) {
    super.paintComponent(g);
    if (buffer != null) {
        Graphics2D g2d = (Graphics2D)g;
        g2d.drawImage(buffer, translateX, translateY, this);
    }
} 
```

**更新**

所以，无论如何，你正在做的其他有趣的事情是......

1.  创建对多边形的静态引用。希望您不打算一次在屏幕上显示更多；）
2.  向已经存在的多边形添加新点（每次都`paintComponent`被调用）
3.  每次平移多边形`paintComponent`被调用

尝试这样的事情

```
public class RoundTop extends JPanel {

    //Polygons declarations
    private Polygon p = new Polygon();
    //Translate variables;
    private int translateX = 10;
    private int translateY = 10;

    public RoundTop() {

        int xoffset = 5;//Multiply in order to "zoom" the picture
        int offset = 0;//moves shape to the right

        p.addPoint(40 * xoffset - offset, 30 * xoffset - offset);
        p.addPoint(50 * xoffset - offset, 30 * xoffset - offset);
        p.addPoint(57 * xoffset - offset, 37 * xoffset - offset);
        p.addPoint(57 * xoffset - offset, 47 * xoffset - offset);
        p.addPoint(50 * xoffset - offset, 54 * xoffset - offset);
        p.addPoint(40 * xoffset - offset, 54 * xoffset - offset);
        p.addPoint(33 * xoffset - offset, 47 * xoffset - offset);
        p.addPoint(33 * xoffset - offset, 37 * xoffset - offset);

        p.translate(translateX, translateY);

    }

    public void paintComponent(Graphics g) {
        super.paintComponent(g);

        Graphics2D g2d = (Graphics2D) g.create();

        g2d.drawPolygon(p);

        g2d.dispose();

    }
} 
```

# php - Joomla 和 Php 之间的单点登录

> ID：12506943
> 
> 赞同：0
> 
> 时间：2012-09-20T06:11:44.967
> 
> 标签：php, joomla1.5, xml-rpc, single-sign-on

我有两个具有不同数据库的站点，第一个站点是 joomla 名称，假设 www.abc.com 第二个是用 Php 编写的工作门户，运行为 www.abc.com/jobs。我想为两者进行单点登录。我有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:22:02.037

您可以使用 LDAP 数据库作为您的 Joomla & Job 门户网站和

LDAP 目录 - [http://extensions.joomla.org/extensions/clients-a-communities/user-management/13128](http://extensions.joomla.org/extensions/clients-a-communities/user-management/13128)

可以帮助您使用 Joomla 管理客户端，但是根据您的门户平台，集成必须是自定义编写的，但这应该是一个很好的起点。

# magento - Magento 小部件中的图像（续）

> ID：12506951
> 
> 赞同：1
> 
> 时间：2012-09-20T06:12:25.997
> 
> 标签：magento, widget, magento-1.7

我一直在使用 Kus 在此处找到的答案：

[Magento 小部件中的图像](https://stackoverflow.com/questions/5077755/images-in-magento-widgets/12470781)

然而，从我的本地移动到测试服务器，看起来该类没有被读取，并且我丢失了上传按钮。

这是我的图像块

```
 <widgetpress_list type="springwidget_press/List" module="springwidget_press">
   ....
  <image>
    <label>Press Image</label>
    <description>Image to be displayed on the page</description>
    <visible>1</visible>
    <type>label</type>
    <helper_block>
      <type>springwidget_press/imagechooser</type>
      <data>
        <button translate="open">
          <open>Insert Image...</open>
        </button>
      </data>
    </helper_block>
      </image>
    ....
   </widgetpress_list> 
```

这是我在名为 app/code/local/Spring/Press/Block/ImageChooser.php 的文件中的类名

```
class Spring_Press_Block_ImageChooser extends Mage_Adminhtml_Block_Template
{
public function prepareElementHtml(Varien_Data_Form_Element_Abstract $element)
{

.
.
.
}
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T23:09:26.483

我不会使用辅助块，而是使用自定义字段类型。

[请在Github](https://github.com/aijko/aijko-widgetimagechooser)上查看我的解决方案。[此处](https://github.com/aijko/aijko-widgetimagechooserexample)提供了示例实现。

[Magento Connect](http://www.magentocommerce.com/magento-connect/catalog/product/view/id/14537/)上也有一个安装包。

# coffeescript - 如何在 CoffeeScript 中定义方便的度量单位语法？

> ID：12506952
> 
> 赞同：1
> 
> 时间：2012-09-20T06:12:52.597
> 
> 标签：coffeescript, units-of-measurement

在[这个](http://groovy.dzone.com/news/domain-specific-language-unit-)使用 Groovy 的示例中，作者描述了如何使用 Groovy 技巧来定义度量单位的语法，这样您就可以编写，例如，

```
3.cm + 12.m * 3 - 1.km 
```

并让它按预期工作。有没有什么方法可以定义类似的巧妙语法来将计量单位与 CoffeeScript 中的数字关联起来？（我对 CoffeeScript 很陌生；对不起，如果这已经解决了或者有一个明显的答案。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T15:24:21.303

我认为[BasicWolf 的答案](https://stackoverflow.com/a/12507065/581845)是最惯用的，因为您可以在自己的模块中拥有这些功能，并且仅在您想使用它们时才导入它们，而不必污染全局命名空间或 JS 内置对象。

在 Groovy 中，您可以使用[Category](http://groovy.codehaus.org/Category+and+Mixin+transformations)来避免使用额外的方法污染内置类。

但是，如果您不关心向内置对象添加东西，您可以更进一步，使用它[`Object.defineProperties`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperties)来使语法与 Groovy 的示例完全相同：)

```
Object.defineProperties Number.prototype,
  km: {get: -> @ * 1000}
  m:  {get: -> @}
  cm: {get: -> @ * 0.01}

console.log 3.cm + 12.m * 3 - 1.km # -> -963.97 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T08:33:17.690

我不会推荐它，但这有效：

```
Number::cm = ->
  this / 100

Number::m = ->
  this

Number::km = ->
  this * 1000

3.cm() + 12.m() * 3 - 1.km() # evaluates to -963.97 
```

你不能去掉括号，因为`3.cm`引用了函数`cm`而不是调用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-20T06:23:45.783

不幸的是，CoffeeScript 无法做到这一点。你可以做的是（在 CoffeeScript 和 JavaScript 中）：

```
cm(3) + m(12) * 3 - km(1) 
```

这里`cm()`, `m()`,`km()`是将值转换为例如米的函数。就 CoffeeScript 而言，以下表达式

```
(cm 3) + 3 * (m 12) - (km 1) 
```

也是有效的。

# c# - 如何设计发送短信的api

> ID：12506955
> 
> 赞同：0
> 
> 时间：2012-09-20T06:13:06.867
> 
> 标签：c#, api, sms

我想设计一个 API 来通过各种网站发送 SMS，如**way2sms、fullonsms**等。我尝试了几个这样的 API [，](http://ultimatesmsapi.tk)还有[这个，](http://ubaid.tk)但我正在考虑设计自己的 API，因为他们服务器上的流量。关于如何开始的任何想法。我擅长用 C# 编码。他们目前提供的发送短信的链接是这样的

```
http://ultimatesmsapi.tk/sms.php?provider=way2sms&username=9876543210&password=9876543210&numbers=9876543210&msg=your%20msg 
```

和

```
http://ubaid.tk/sms/sms.aspx?uid=9876543210&pwd=mypassword&msg=myMEssage&phone=9876543210&provider=way2sms 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T03:20:09.463

自己配置的……这个东西可以通过模拟网页浏览器来实现。

# android - Android：在非活动类中写入文件

> ID：12506956
> 
> 赞同：1
> 
> 时间：2012-09-20T06:13:10.050
> 
> 标签：android, file-io, compiler-errors

如何在活动之外的 Android 类中打开和写入文件？

`FileWriter`是我的外部类，从`MainActivity`. 中的以下行`FileWriter`：

```
FileOutputStream fos = openFileOutput("filename", Context.MODE_PRIVATE); 
```

产生此编译错误：

```
The method openFileOutput(String, int) is undefined for the type FileWriter 
```

我猜这个类需要一些应用程序上下文 - 我如何传递它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:14:46.263

只需将一个`Context`对象传递给`FileWriter`该类并将您的调用更改为：

```
FileOutputStream fos = context.openFileOutput("filename", Context.MODE_PRIVATE); 
```

希望这可以帮助。

# c# - 无需 File.Copy() 将应用程序 dll 从一个系统发送到另一个系统

> ID：12506958
> 
> 赞同：3
> 
> 时间：2012-09-20T06:13:19.490
> 
> 标签：c#, asp.net, asp.net-mvc, deployment

如何在没有C# 中的**File.Copy()的情况下将****应用程序 dll**从一个系统发送到另一个系统？可能是 FileStream，有什么想法吗？

 **我正在使用网络服务

网络服务代码

```
 public string fileUpdates(string filesPath)
    {                      
        //System.IO.DirectoryInfo dir = new System.IO.DirectoryInfo(filesPath);
        //string[] fileNames = Directory.GetFiles(filesPath);
        FileStream fileStream = new FileStream(filesPath, FileMode.Open, FileAccess.Read);

        FileInfo fi = new FileInfo(filesPath);
        string s=fi.Extension;
        byte[] byteArr = new byte[fileStream.Length];
        fileStream.Read(byteArr, 0, Convert.ToInt32(fileStream.Length));
        string data=Encoding.ASCII.GetString(byteArr);

        return data;
    } 
```

在客户端

```
 fileDa = wcf3.fileUpdates(listItem);
                   byteArray = Encoding.ASCII.GetBytes(fileDa);
                   fileData = new MemoryStream(byteArray);

                    int Length = 256;
                    Byte[] buffer = new Byte[Length];
                    int bytesRead = fileData.Read(buffer, 0, Length);

                    while (bytesRead > 0)
                    {
                        writeStream.Write(buffer, 0, bytesRead);
                        bytesRead = fileData.Read(buffer, 0, Length);
                    }

                    //fileData.Close();
                    //writeStream.Close(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:15:46.107

您可以将网络套接字 - [TcpListener](http://msdn.microsoft.com/en-us/library/system.net.sockets.tcplistener.aspx)与[TcpClient](http://msdn.microsoft.com/en-us/library/system.net.sockets.tcpclient.aspx)结合使用。或者，如果您想获得更高的级别，您可以使用 HTTP 协议，这可能会更容易。因此，在远程计算机上，您可以拥有一个运行 ASP.NET 应用程序的 Web 服务器，该应用程序将接收文件，而在客户端则只需使用 HTTP 请求发送文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T06:17:46.307

要将文件从一台计算机移动到另一台计算机，您需要设置服务器和客户端。

服务器可以是 Web 服务器，也可以是 ftp 服务器。

并且从客户端部分，您使用代码通过 http 或 ftp 检索文件。

一个简单的例子：[使用 asp.net 下载文件](https://stackoverflow.com/questions/457856/download-files-using-asp-net)

我建议从您说 asp.net 的那一刻起使用 http，并且您可能已经安装并运行了 iss，然后您只需要将文件放在正确的 url 上。**

# c - 需要一些 C wget

> ID：12506959
> 
> 赞同：-3
> 
> 时间：2012-09-20T06:13:29.690
> 
> 标签：c, linux, wget

这是我的第一个 C 程序，有些地方我不确定并且急需帮助。这是从文本文件中的链接下载文件的程序。谢谢！！！！！！

```
#include <sys/wait.h>
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <iostream>
#include <fstream>
using namespace std;
using std::printf;

FILE *file; /*declare the file pointer*/
char line [LINE_MAX];

//Parent process

int main()
{
pid_t  pid;

file= fopen ("links.txt", "rt"); /*open file and read it*/
numberOfChildren = 0;
string url;
while (fgets (line,LINE_MAX, file) !=NULL) /*NOT SURE*/
++numberOfChildren;
/* fork another process */
pid = fork();

    if (pid < 0) { /* error occurred */
        fprintf(stderr, "Fork Failed");
        exit(-1);
    }
    else if (pid == 0) { /* child process */
        execlp("/usr/bin/wget", "wget", <url>, NULL);/*NOT SURE*/
    }
    while (numberOfChildren>0) { /* parent process */
    /* parent will wait for the child to complete */
        wait (NULL);
        --numberOfChildren;
        printf ("Child Complete");

        exit(0);
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T07:19:42.867

根据问题的主题（“需要一些 C wget”）和您的评论`/* Not Sure */`，我猜您正在寻找一个为您提供类似 wget 功能的库。你检查过*libcurl*了吗？它为简单的文件传输提供了一个非常简单的 API。看看[这个简单的例子](http://curl.haxx.se/libcurl/c/simple.html)，它应该告诉你基础知识。要了解如何实际写入文件（而不仅仅是请求它），请查看他们的[FTP 示例](http://curl.haxx.se/libcurl/c/ftpget.html)（特别是选项`CURL_WRITEFUNCTION`）。

# c# - 使用 WCF 数据服务客户端库从 WCF 数据服务查询数据时发现的有趣问题

> ID：12506960
> 
> 赞同：4
> 
> 时间：2012-09-20T06:13:38.090
> 
> 标签：c#, .net, wcf, exception-handling, wcf-data-services

我有一个简单的数据模型，其中包含 3 个表（帐户、联系人和用户），它们具有以下关系：

> 用户 -> 帐户（1 - 多） 帐户 -> 联系人（多 - 1）

我通过 OData (v3) WCF 数据服务公开我的数据，该服务由使用 WCF 数据服务客户端库的 .NET 客户端使用。我使用添加服务实用程序生成客户端代理代码来调用数据服务。

客户端类中的所有方法都使用该类的单个`DataServiceContext`对象来调用 Web 服务。IE：

```
DC.WhEntities svcClient = new DC.WhEntities(new Uri(BaseUrl)); 
```

我很难弄清楚为什么对服务的相同查询请求在第 6 次之后开始失败。我确实尝试了所有可能的方法来构造对数据服务的调用：

**第一种方法：**

```
DataServiceQuery<DC.User> users = svcClient.Users.Expand("Accounts");
QueryOperationResponse<DC.User> response = users.Execute() as QueryOperationResponse<DC.User>;
var user = response.FirstOrDefault(u => u.Id == long.Parse(key.ToString())); 
```

**第二种方法：**

```
string queryString = string.Format("Users({0}L)?$expand=Accounts", key.ToString());
foreach (var user in response) {...} 
```

上述两个解决方案中的最后一条语句在连续成功执行**6** 次后开始失败并显示以下消息：

```
The response payload is a not a valid response payload. Please make sure that the top level element is a valid Atom element or belongs to 'http://schemas.microsoft.com/ado/2007/08/dataservices' namespace.

**StackTrace:**
   at System.Data.Services.Client.Materialization.ODataMaterializer.CreateODataMessageReader(IODataResponseMessage responseMessage, ResponseInfo responseInfo, Boolean projectionQuery, ODataPayloadKind& payloadKind)
   at System.Data.Services.Client.Materialization.ODataMaterializer.CreateMaterializerForMessage(IODataResponseMessage responseMessage, ResponseInfo responseInfo, Type materializerType, QueryComponents queryComponents, ProjectionPlan plan, ODataPayloadKind payloadKind)
   at System.Data.Services.Client.DataServiceRequest.Materialize(ResponseInfo responseInfo, QueryComponents queryComponents, ProjectionPlan plan, String contentType, IODataResponseMessage message, ODataPayloadKind expectedPayloadKind)
   at System.Data.Services.Client.QueryResult.ProcessResult[TElement](ProjectionPlan plan)
   at System.Data.Services.Client.DataServiceRequest.Execute[TElement](DataServiceContext context, QueryComponents queryComponents) 
```

发生这种情况时，我的 WCF 数据服务刚刚停止工作并返回响应

> 第 1 行第 83 列的错误：属性值中不允许使用未转义的“<”。

我不确定我是否遗漏了任何基本内容，或者我是否错误地构建了 WCF 数据服务客户端请求，或者 WCF 数据服务端是否存在不喜欢同一个客户端请求相同内容超过 6 次的内容.

我已经花了几天时间，我的意思是 3+ 天试图弄清楚这一点。我是 WCF 数据服务的新手，我认为我可以从本教程中学习，但到目前为止，我得到的痛苦多于收获。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-28T05:55:33.243

我遇到了类似的问题，突然我的服务器启动（可能是一些更新造成了这种情况，但原因未知）返回错误的响应。如果我启动我的服务器它可以工作一段时间，假设以正常方式响应几个请求，然后开始破坏 OData 提要的 xml 结构，导致`<`hexadecimal value`0x3C`是无效的属性字符。`Line 2, position 72\. exception`.

**解决方案：**

[我按照这个提要](http://social.msdn.microsoft.com/Forums/en-US/adodotnetdataservices/thread/74813783-8666-40c4-a9fd-7953f7b6849c/)解决了这个问题

如果您配置了 WCF 跟踪，请确保`logMessagesAtTransportLevel="false"`已关闭，否则您将遇到此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T19:59:06.360

我尝试将 logMessagesAtTransportLevel 设置为 false，但仍然出现错误。

然后我记得在我遇到装配冲突之前看到过这个问题。我去创建了一个全新的服务，即使我在客户端上将 logMessagesAtTransportLevel 设置为 true，这也解决了我的问题。这确保了我的问题是服务。

虽然我的解决方案解决了我的问题，但我仍然不知道确切的问题，而且我已经没有时间找到它了。但是，很高兴看到人们愿意提供帮助，我非常感谢您的努力。

再次感谢大家的帮助。

Qster123。

# jquery - 为什么我从 Spotify 元数据 api 获得间歇性结果？

> ID：12506961
> 
> 赞同：1
> 
> 时间：2012-09-20T06:13:40.260
> 
> 标签：jquery, spotify

我正在尝试让 spotify web api 根据 html 输入字段中提供的信息来搜索艺术家。然而，我的结果并不一致。例如，如果我搜索“foo”，我会得到不错的结果。但是，如果我搜索“foo fighters”，我不会得到任何结果——即使如果我单独搜索“foo”会出现“foo fighters”。同样，我可以获得“the”而不是“katy perry”等的结果。我完全在 javascript 中运行代码，并使用 Jquery getJSON 函数来查询 Spotify。

```
 function searchSpotify(term)
  {
    var reslt = $.getJSON("http://ws.spotify.com/search/1/artist.json?q="+encode_utf8(term), function(data) {
      items = [];

      $.each(data["artists"], function(key, val) {
        items.push('' + val["name"] + '(listen on Spotify)');
      });

      $('#data').html(items.join(''));
    });
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:34:40.840

尝试使用 'foo%20fighters' 作为术语参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T16:23:20.677

该问题已解决，因为它今天似乎工作正常。也许这只是服务器负载或其他问题。

# php - 在 PHP 中引用数组 - 问题

> ID：12506965
> 
> 赞同：1
> 
> 时间：2012-09-20T06:14:23.767
> 
> 标签：php, arrays

我试图理解 PHP 中的以下代码。这是概述，

有 2 个数组，由键值对组成，形式为 $k => $v

这两个数组使用 array_merge 函数合并在一起，形成第三个数组。

现在，这个数组被传递给一个函数。只有一个参数，数组名被传递。

这是代码（请注意，此代码只是一个概念，不是真正的代码）：

```
<?php    

function test(&$myArray, 0)
{
    reset($myArray);

    foreach ($myArray as $k => $v)
    {
      ....
    }
}

$arr3 = array_merge((array) $arr1, (array) $arr2);

test($arr3)

} 
```

问题：

1.  该函数是这样定义的，它需要两个参数，但是我们只传递一个参数。是因为在函数原型中初始化的第二个参数始终为 0 吗？那么，不需要传递相同数量的参数吗？
2.  这里传递了数组名称。我的猜测是，它会将指向数组第一个元素（内存中数组的基地址）的指针传递给函数。

在这种情况下，如果您查看原型，则数组名称前面带有一个 & 符号。那么，这意味着，对数组的引用，地址？

1.  为什么需要在数组上调用reset函数。是否因为在测试函数之前调用了用于形成该数组的 array_merge 函数？那么，由于合并了 $arr1 和 $arr2，它将数组中的指针移动到第一个元素之前？

2.  函数中没有返回值，测试。那么，它是否修改了内存本身中原始数组的值，因此不需要返回数组？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T07:53:53.437

```
<?php
function test($myArray,$a =0) //passing by value
{
    reset($myArray);
    return $myArray;         
}

$arr3 = test($arr3); //call n store it back it in $arr3

function test(&$myArray,$a =0) //passing by reference
    {
        reset($myArray);

    }
test($arr3);  //just call;

?> 
```

# java - 以天为单位计算持续时间 - 无法解析的日期

> ID：12506966
> 
> 赞同：0
> 
> 时间：2012-09-20T06:14:28.597
> 
> 标签：java, android

朋友们，我正在尝试计算用户提供给我的两个日期和时间条目之间的差异。我使用的逻辑是下面共享的代码片段。请纠正我哪里出错并帮助解决问题。

```
 private void CalculateDifference(String arrDate, String arrTime,
                String deptDate, String deptTime) {

            String arrival=arrDate+" "+arrTime;
            String dept=deptDate+" "+deptTime;
            System.out.println("Inside calculate diff");
            System.out.println("ARRIVAL IS"+arrival);
            System.out.println("DEPARTURE IS"+dept);
            SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd HH:mm");
            Date date1 = null;
            Date date2 = null;
            try {
                date1 = format.parse(arrival);
                date2 = format.parse(dept);
                System.out.println("ARRIVAL IN TRY IS"+date1);
                System.out.println("DEPARTURE IN TRY IS"+date2);
                long difference = date2.getTime() - date1.getTime(); 
                System.out.println("Time Difference is"+difference);
            } catch (ParseException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        } 
```

LOG-CAT

```
09-20 11:38:57.569: I/System.out(20028): Inside calculate diff
09-20 11:38:57.569: I/System.out(20028): ARRIVAL IS30-April  - 2012 11:38
09-20 11:38:57.569: I/System.out(20028): DEPARTURE IS20-Sept  - 2012 11:38
09-20 11:38:57.569: W/System.err(20028): java.text.ParseException: Unparseable date: "30-April  - 2012 11:38"
09-20 11:38:57.569: W/System.err(20028):    at java.text.DateFormat.parse(DateFormat.java:626)
09-20 11:38:57.569: W/System.err(20028):    at com.travel.tracker.Add.CalculateDifference(Add.java:84)
09-20 11:38:57.569: W/System.err(20028):    at com.travel.tracker.Add.onClick(Add.java:66)
09-20 11:38:57.569: W/System.err(20028):    at android.view.View.performClick(View.java:2485)
09-20 11:38:57.579: W/System.err(20028):    at android.view.View$PerformClick.run(View.java:9080)
09-20 11:38:57.579: W/System.err(20028):    at android.os.Handler.handleCallback(Handler.java:587)
09-20 11:38:57.579: W/System.err(20028):    at android.os.Handler.dispatchMessage(Handler.java:92)
09-20 11:38:57.579: W/System.err(20028):    at android.os.Looper.loop(Looper.java:130)
09-20 11:38:57.579: W/System.err(20028):    at android.app.ActivityThread.main(ActivityThread.java:3687)
09-20 11:38:57.579: W/System.err(20028):    at java.lang.reflect.Method.invokeNative(Native Method)
09-20 11:38:57.579: W/System.err(20028):    at java.lang.reflect.Method.invoke(Method.java:507)
09-20 11:38:57.579: W/System.err(20028):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
09-20 11:38:57.579: W/System.err(20028):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
09-20 11:38:57.579: W/System.err(20028):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:17:49.527

为了`SimpleDateFormat`工作，你需要格式化字符串和你以相同格式传递的字符串，即。在你的情况下`yyyy-MM-dd HH:mm`

所以`30-April - 2012 11:38`应该是`2012-04-30 11:38`

从作为您的父类的[DateFormat](http://developer.android.com/reference/android/text/format/DateFormat.html)`SimpleDateFormat` Java 文档可以指定以下格式的月份。

> **Sept**仍然不是任何格式的有效月份名称。

```
M -> 9
MM -> 09
MMM -> Sep
MMMM -> September 
```

# git - 适用于 Windows 的 PhpStorm 和 Github

> ID：12506972
> 
> 赞同：17
> 
> 时间：2012-09-20T06:15:11.150
> 
> 标签：git, phpstorm, github-for-windows

PhpStorm 与 Git 的集成要求我提供`git.exe`路径，但是“github for windows”似乎没有创建任何 git.exe 文件。那么它是一种配置 phpstorm 的方法，因此它使用“github for windows”来使用 github 吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-07T15:21:30.220

[我使用Git Bash](http://git-scm.com/downloads)设置它，一旦安装在 PhpStorm 中，请转到：

> 设置 > 版本控制 > Git

并指向

> C:\Program 文件 (x86)\Git\cmd\git.exe

或者你安装 Git Bash 的地方

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-05-16T14:55:52.277

要在 Windows 7 上使用 PhpStorm 配置 Git，请使用以下路径：

```
C:\Program Files\Git\bin\git.exe 
```

（与 Git 版本一起使用的是 2.7.1.0 ）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-09T01:18:42.690

Github for Windows 使用位于 AppData\Local\Github 文件夹中的 PortableGit 版本。

与上面的 RubyMine 问题非常相似： [Integrating RubyMine with GitHub for Windows](https://stackoverflow.com/questions/11497506/integrating-rubymine-with-github-for-windows)

# symfony1 - 在 ESS 的联系页面中添加新字段

> ID：12506976
> 
> 赞同：0
> 
> 时间：2012-09-20T06:15:35.103
> 
> 标签：symfony1, orangehrm

我需要在带有文本区域的联系人详细信息中添加一个新字段。我试图编辑[橙色 HRM 论坛中建议](http://forum.orangehrm.com/viewtopic.php?f=22&t=9785)的文件。

我收到错误`InvalidArgumentException`消息异常

> 小部件不存在

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T13:06:50.097

正如我所尝试的，我可以添加新字段，方法如下：，我是 symfony 的新手 :)

这是用于 PIM 中的个人详细信息

1.  在 schema.yml 上添加名称字段（您要创建的字段）
2.  在数据库中创建该字段（schema.yml 和数据库中的字段之间的映射）
3.  使用 cmd，然后运行“php symfony 学说：build-model”
4.  在 BaseEmployeeForm.class.php 中（例如）创建表单
5.  在 viewPersonalDetailSucces.php 中为视图创建
6.  在函数 savePersonalDetails 处编辑 EmployeeDao.php

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-14T07:57:34.267

使用 OrangeHRM 3.1.1 在我身边完美工作，

1.  添加 pim 模块架构
2.  将表修改为模式配置
3.  在Widget和Information上修改EmployeeDao.php
4.  修改 viewPersonalDetails 表单和模板。
5.  完毕。

# java - 使用 Joda Time 进行 DST 转换

> ID：12506978
> 
> 赞同：3
> 
> 时间：2012-09-20T06:15:46.307
> 
> 标签：java, jodatime, dst

我必须计算 Java 应用程序中的 DST 转换并查询 stackoverflow 我发现 joda time 有一个很好的 API 可以很容易地做到这一点。但实际上它给了我错误的结果（或者至少看起来是这样）。

我编写了一个示例程序来打印过去 5 年和未来 5 年的过渡。

```
public static void main(final String[] args)
{
    TimeZone javaZone = TimeZone.getDefault();
    DateTimeZone jodaTimezone = DateTimeZone.forTimeZone(javaZone);
    Calendar[] dstTransitions;
    DateTime jodaNewYear;
    int dstSavings;
    final Calendar calendar = Calendar.getInstance(javaZone);
    final DateFormat df = DateFormat.getDateTimeInstance();

    // use the correct timezone for displaying the date and time on console
    df.setTimeZone(javaZone);

    calendar.setTimeInMillis(System.currentTimeMillis());

    for (int i = -5; i < 5; i++)
    {
        jodaNewYear = new DateTime(calendar.get(Calendar.YEAR) + i, 1, 1, 0, 0, 0, jodaTimezone);

        dstTransitions = new Calendar[2];
        dstTransitions[0] = Calendar.getInstance(javaZone);
        dstTransitions[0].setTimeInMillis(jodaTimezone.nextTransition(jodaNewYear.getMillis()));
        dstTransitions[1] = Calendar.getInstance(javaZone);
        dstTransitions[1].setTimeInMillis(jodaTimezone.nextTransition(dstTransitions[0].getTimeInMillis()));

        dstSavings = javaZone.getDSTSavings() / 1000;

        System.out.println("DST transitions for " + javaZone.getID() + " in " + jodaNewYear.getYear() + ":");
        System.out.println("To DST.....: " + df.format(dstTransitions[0].getTime()));
        System.out.println("From DST...: " + df.format(dstTransitions[1].getTime()));
        System.out.println("DST offset.: " + dstSavings + " sec");
        System.out.println("--------------------------------------------------------------------");
    }
} 
```

这给了我机器上的以下输出（摘录）：

```
DST transitions for Europe/Berlin in 2007:
To DST.....: 25.03.2007 03:00:00
From DST...: 28.10.2007 02:00:00
DST offset.: 3600 sec
--------------------------------------------------------------------
DST transitions for Europe/Berlin in 2008:
To DST.....: 30.03.2008 03:00:00
From DST...: 26.10.2008 02:00:00
DST offset.: 3600 sec
--------------------------------------------------------------------
DST transitions for Europe/Berlin in 2009:
To DST.....: 29.03.2009 03:00:00
From DST...: 25.10.2009 02:00:00
DST offset.: 3600 sec
--------------------------------------------------------------------
DST transitions for Europe/Berlin in 2010:
To DST.....: 28.03.2010 03:00:00
From DST...: 31.10.2010 02:00:00
DST offset.: 3600 sec
--------------------------------------------------------------------
DST transitions for Europe/Berlin in 2011:
To DST.....: 27.03.2011 03:00:00
From DST...: 30.10.2011 02:00:00
DST offset.: 3600 sec
--------------------------------------------------------------------
DST transitions for Europe/Berlin in 2012:
To DST.....: 25.03.2012 03:00:00
From DST...: 28.10.2012 02:00:00
DST offset.: 3600 sec 
```

看起来还不错，但我对时代有疑问。实际上，向 DST 的过渡发生在 3 月的最后一个星期日凌晨 2:00，而向后过渡发生在 10 月的最后一个星期日凌晨 3:00。因此，乔达过渡的时代似乎是错误的。

我对 joda API 完全陌生，所以我可能忽略了一些东西。可能实际的问题是：如何确定正确的过渡时间？

问候

塞巴斯蒂安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T06:21:58.043

过渡存在不连续性。`25.03.12 02:00`与 10 月的时刻相同`25.03.12 03:00`，反之亦然，只是由于 02:00 到 03:00 的时间重复，事情变得更加复杂。

看起来 Joda 给了你过渡“后期”的时间——即过渡发生后的时间。要找到过渡“之前”的时间，请通过 DST 偏移量进行调整。

# c++ - SDL2 纹理的意义何在？

> ID：12506979
> 
> 赞同：29
> 
> 时间：2012-09-20T06:15:52.027
> 
> 标签：c++, textures, sdl, renderer, sdl-2

我有点卡在 SDL2 纹理背后的逻辑上。对我来说，它们毫无意义，因为你无法吸引它们。

在我的程序中，我有几个表面（或者在我切换到 SDL2 之前是什么*表面*），我只是将它们拼凑在一起形成层。现在看来，我必须创建几个渲染器和纹理来创建相同的效果，因为`SDL_RenderCopy`需要一个纹理指针。

不仅如此，*所有*渲染器都必须来自一个窗口，这我理解，但仍然让我更加犯规。

这一切似乎都非常庞大和缓慢。我错过了什么吗？有没有办法直接绘制到纹理？纹理的意义何在，我是否可以安全地使用多个（如果不是数百个）渲染器来代替表面？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-11-26T16:33:38.610

`SDL_Texture`对象存储在尽可能靠近显卡内存的位置，因此可以很容易地被 GPU 加速。调整大小、alpha 混合、抗锯齿和几乎所有计算繁重的操作都会受到这种性能提升的严重影响。如果您的程序需要在纹理上运行逐像素逻辑，建议您暂时将纹理转换为表面。也可以使用流式纹理实现解决方法。

**编辑**：由于这个答案得到了相当多的关注，我想详细说明我的建议。

如果您更喜欢使用`Texture -> Surface -> Texture`工作流来应用每像素操作，请确保缓存最终纹理，除非您需要在每个渲染周期重新计算它。此解决方案中的纹理是使用`SDL_TEXTUREACCESS_STATIC`标志创建的。

`SDL_TEXTUREACCESS_STREAMING`对于像素数据源是网络、设备、帧服务器或其他超出 SDL 应用程序完全范围的其他源的用例，以及从源缓存帧显然效率低下的用例，鼓励使用流式纹理（创建标志为）或者不会工作。

如果使用`SDL_TEXTUREACCESS_TARGET`标志创建纹理，则可以在纹理顶部进行渲染。这将绘制操作的来源限制为其他纹理，尽管这可能已经是您首先需要的。“作为渲染目标的纹理”是 SDL2 最新且最不广泛支持的功能之一。

**好奇读者的书呆子信息：**

由于 SDL 实现的性质，前两种方法依赖于应用程序级别的读取和复制操作，尽管它们针对建议的场景进行了优化，并且对于实时应用程序来说足够快。

与 GPU 上的后处理相比，从应用程序级别复制数据几乎总是很慢。如果您的要求比 SDL 可以提供的更严格，并且您的逻辑不依赖于某些外部像素数据源，那么分配从您的 SDL 表面绘制的原始 OpenGL 纹理并将**着色器**（GPU 逻辑）应用到它们是明智的。

着色器是用 GLSL 编写的，GLSL 是一种编译成 GPU 程序集的语言。**硬件/GPU 加速**实际上是指在 GPU 内核上并行化的代码，并且使用着色器是实现渲染目的的首选方法。

**注意力！将原始 OpenGL 纹理和着色器与 SDL 渲染函数和结构结合使用可能会导致一些意外冲突或库提供的灵活性损失。**

***TLDR；*** 尽管修改它们有时会很麻烦，但在纹理上渲染和操作比在表面上更快。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-05-22T09:44:29.520

通过将 SDL2 纹理创建为 STREAMING 类型，可以锁定和解锁整个纹理或仅一个像素区域以执行直接像素操作。必须先创建一个 SDL2 Surface，并与 lock-unlock 链接，如下所示：

```
SDL_Surface surface = SDL_CreateSurface(..);
SDL_LockTexture(texture, &rect, &surface->pixels, &surface->pitch);
// paint into surface pixels
SDL_UnlockTexture(texture); 
```

关键是，如果您绘制到更大尺寸的纹理，并且绘制是增量的（例如实时数据图），请确保只锁定和解锁实际区域以进行更新。否则操作会很慢，内存复制量很大。

我体验过合理的性能，使用模型也不是太难理解。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-09-22T11:23:58.883

在 SDL2 中，可以在屏幕外渲染/直接渲染到纹理。要使用的功能是：

`int SDL_SetRenderTarget(SDL_Renderer *renderer, SDL_Texture *texture);`

这仅在渲染器启用 SDL_RENDERER_TARGETTEXTURE 时才有效。

# css - 使用百分比填充的边框大小定位问题

> ID：12506980
> 
> 赞同：2
> 
> 时间：2012-09-20T06:15:53.800
> 
> 标签：css

当我开始按百分比使用填充时，将我的 div 与 box-sizing:border-box 对齐时遇到问题，框的位置与位置的百分比不匹配。

这是代码，将其粘贴到任何 html 文件以查看它：

```
<!DOCTYPE html>
<html>
<head>
    <title>Testing</title>
    <style type="text/css" media="screen">
        body{
            width:100%;
            height:100%;
            background-color: blue;
            overflow:none;
            padding:0;
            margin:0;
        }
        #box{
            padding-top:50%;
            width:100%;
            height:100%;
            background-color:blue;    
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;        
        }

        #light{
            width:100%;
            background-color:yellow;                    
        }
    </style>
</head>
<body>
    <div id='box'>
        <div id='light'>
            halo world
        </div>
    </div>
</body>
</html> 
```

黄色 div 将位于底部附近，而我将填充百分比设置为 50%。这是一个错误还是我错误地理解了边框框的概念，它将填充与宽度和高度一起附加。

在 chrome 和 firefox 上测试。

# 编辑

由@Claude Grecea 建议尝试了一些更简单的东西，没有身体高度，并且按像素固定 div 高度。但是，如果我把 padding-top:50% 放在下面，盒子仍然会被扔到很远的地方。

```
<!DOCTYPE html>
<html>
<head>
    <title>Testing</title>
    <style type="text/css" media="screen">
        .box{
            height:1000px;
            padding-top:50%;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box; 
            background-color:#C1C1C1;           
        }
    </style>
</head>
<body>
    <div class="box">
        halo world
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T06:53:41.413

我相信这是因为你的身体 100% 的高度会占据屏幕尺寸。此外，如果您想使 div 居中，请使用边距，即使在 100% 时也能提供所需的外观；

CSS 中的“盒子模型”是这样工作的：

宽度 + 内边距 + 边框 = 框的实际可见/渲染宽度高度 + 内边距 + 边框 = 框的实际可见/渲染高度

[http://css-tricks.com/box-sizing/](http://css-tricks.com/box-sizing/)

# ios-simulator - 在应用程序购买 didReceiveResponse 不显示我的产品

> ID：12506983
> 
> 赞同：0
> 
> 时间：2012-09-20T06:16:04.163
> 
> 标签：ios-simulator, in-app-purchase, storekit, iphone-3gs

由于一些神秘的原因，我从一个我很难追踪的供应商那里得到了一部越狱的 iPhone 3GS。我的任务是测试它的应用购买功能。目前它已经安装了 cydia 的 iOS 5.0.1。 [不，它没有 Appsync](https://stackoverflow.com/questions/6815165/can-i-check-in-app-purchase-on-jailbreak)。

我正在通过 testflightapp API 安装我的构建，到目前为止我的应用程序没有问题。但是，当我开始购买应用程序时，到目前为止，我在 response.products 中没有得到任何东西。

我已经在 iTunes-connect 中添加了 productID 和所有内容，自 48 小时以来检查了两次它们是否正常。

我尝试使用 iPhone 模拟器 5.1 进行测试，但我得到的只是 storekit 中没有任何值。我很想听听模拟器是否有任何解决方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T12:43:10.597

终于解决了这个问题 - 从 iTunes Connect 中删除了我的应用程序，重新添加了它。它抱怨名称已被使用。我更改了名称的语言。它奏效了。

也许，我之前的应用程序设置是正确的，但我还有其他事情搞砸了。在这期间，我拒绝了我的应用程序。这可能是这个问题背后的原因之一。

课？不要开发者拒绝您的应用程序。

# c# - WPF 上下文菜单不会保持打开状态

> ID：12506984
> 
> 赞同：1
> 
> 时间：2012-09-20T06:16:13.197
> 
> 标签：c#, wpf, listbox, contextmenu

在 WPF 中，我试图在列表框的项目上放置一个上下文菜单。当我运行我的应用程序并右键单击列表框的一个项目时，菜单会弹出一秒钟，然后再次关闭。我只是无法弄清楚我做错了什么。

这是我正在使用的代码：

```
<ListBox Grid.Column="0" Name="lsbAddedElements" Width="150" Margin="3,3,3,3"
         SelectionMode="Multiple">
  <ListBox.ItemContainerStyle>
    <Style TargetType="ListBoxItem">
      <Setter Property="ContextMenu">
        <Setter.Value>
          <ContextMenu>
            <MenuItem Header="Delete" Click="btnDeleteElement_Click"></MenuItem>
          </ContextMenu>
        </Setter.Value>
      </Setter>
    </Style>
  </ListBox.ItemContainerStyle>
</ListBox> 
```

初始化窗口时，列表框在代码中绑定到 ObservableCollection，因此项目管理在后面的代码中处理。

更新：

我可能需要补充一点，thsi 是我为 Excel 制作的 adin 的一部分。我正在使用 ExcelDNA 连接到 Excel，然后将句柄传递给该代码片段所属的 WPF 窗口。这可能是上下文菜单以意想不到的方式表现的原因吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T07:14:00.920

我认为问题在于列表框项目正在集中。解决您的问题的一个简单方法是在列表框上设置上下文菜单，并在列表框具有选定项时启用/禁用上下文菜单项。

# mysql - 将数据从mysql导出到hbase

> ID：12506986
> 
> 赞同：2
> 
> 时间：2012-09-20T06:16:29.903
> 
> 标签：mysql, hadoop, hbase

我有一个由 MySQL 支持的应用程序进行存储。到目前为止，数据的数量级为几 TB，并且还在不断增加。

**我想使用 HBase/Mongo/CAssandra 进行存储。如何将我的 MySQL 数据导出到 HBase？**

目前我没有使用任何 Hadoop 技术，一旦我清楚了这个过程，我就会窥视。

谢谢杰克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T08:42:35.903

你试过[Sqoop](http://archive.cloudera.com/cdh/3/sqoop/SqoopUserGuide.html#_introduction)吗？它可以从 MySQL[导入](http://archive.cloudera.com/cdh/3/sqoop/SqoopUserGuide.html#_importing_data_into_hbase)到 HBase。

# jquery - 如何使 jQuery 验证插件适用于 IE 中的下拉菜单

> ID：12506987
> 
> 赞同：0
> 
> 时间：2012-09-20T06:16:36.027
> 
> 标签：jquery, jquery-validate

[来自http://bassistance.de/jquery-plugins/jquery-plugin-validation/](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)的jQuery 验证插件在 IE 中存在下拉问题。我正在使用 jQuery 1.7.2、验证插件 1.9.0 和 jQuery UI 1.8.21。

请参阅：http: [//quickshare.spreadsheet-converter.com/l/p/4jp8gq42fv57/](http://quickshare.spreadsheet-converter.com/l/p/4jp8gq42fv57/)

*   在 IE 7 中，验证有效，即它阻止表单提交，但不应用“错误”类。虽然处于无效状态后，我可以选择有效值。（虽然我的 IE 7**不是**我关心的问题。）

*   在 IE 8 中，验证有效，应用了“错误”类，所以我看到了“红色”边框。但是，在处于无效状态后，我**无法**打开下拉菜单 - 它会自动折叠。不过，我可以双击选择有效值。

*   在 IE 9 中，验证有效，应用了“错误”类，但在处于无效状态后我无法选择有效值。下拉菜单通过单击和双击自动打开和关闭。我也不能通过使用左/右键来更改值 - 这通常可以通过下拉菜单来实现。

有什么提示吗？

谢谢！

更新：演示页面[http://jquery.bassistance.de/validate/demo/radio-checkbox-select-demo.html](http://jquery.bassistance.de/validate/demo/radio-checkbox-select-demo.html)适用于下拉菜单，并且“错误”类也适用于无效状态。它可以与CSS有关吗？

更新 2：我在一个普通页面中测试了 1.9 和新版本 1.10 的验证插件。我发现像这样初始化**errorPlacement**对象会导致问题。即使我评论**errorPlacement**的主体功能，问题也会消失。插件网站上的演示不是这样的。

```
$('#formc').validate({      
    errorPlacement: function(error, element){               
        //$(element).attr({'title': error.text()});
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-17T16:13:38.373

看起来 IE 不喜欢选择的标题属性。就我而言，我在 errorPlacement 中使用引导工具提示。我的修复看起来像这样：

```
errorPlacement: function (error, element) {
                $(element).tooltip({ title: $(error).text(), container: 'body' });
        } 
```

这只是完全忽略了设置标题属性。您还可以确定该元素是否是一个选择并尝试一些替代选项，如下所示：

```
errorPlacement: function (error, element) {
                if($(element).is('select'){
                 ...do something else
                }
                else{
                    $(element).attr({'title': error.text()});
                }
        } 
```

# android - 存储在共享偏好中的价值没有得到反映

> ID：12506989
> 
> 赞同：0
> 
> 时间：2012-09-20T06:16:59.553
> 
> 标签：android, sharedpreferences

```
package com.example.shared;

import android.app.Activity;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;

public class MainActivity extends Activity {
Button bshared;
TextView tv;
String x;
SharedPreferences pref;
Editor edit;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    bshared = (Button) findViewById(R.id.bshared);
    tv = (TextView) findViewById(R.id.tv);

    tv.setText(x);
    bshared.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
                  pref=getApplicationContext().getSharedPreferences("details",1);
            edit = pref.edit();
            edit.clear();
            edit.putString("name", "These are new values");
            edit.commit();
            x = pref.getString("name", "");

        }
    });

}
} 
```

当我单击按钮时，textview 的值必须更改为“这些是新值”，但这并没有发生。有人可以帮我找出我的错误吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:19:49.613

这`textview`是在更改文本之前设置文本。所以它不会反映在`textview`. `onclick`更改字符串的值后，将此行添加到方法的最后一个。

```
tv.setText(x); 
```

**编辑：**

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    bshared = (Button) findViewById(R.id.bshared);
    tv = (TextView) findViewById(R.id.tv);

    pref=getApplicationContext().getSharedPreferences("details",1);
    x = pref.getString("name", "");

    tv.setText(x);
    bshared.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            edit = pref.edit();
            edit.clear();
            edit.putString("name", "These are new values");
            edit.commit();
            x = pref.getString("name", "");
            tv.setText(x);

        }
    });

}
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-20T06:25:08.840

在单击方法中，您必须将值设置为 textview，如下面的代码。

```
pref=getApplicationContext().getSharedPreferences("details",1);
x = pref.getString("name", "");
tv.setText(x);
bshared.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) 
        {
            edit = pref.edit();
            edit.clear();
            edit.putString("name", "These are new values");
            edit.commit();
            x = pref.getString("name", "");
            tv.setText(x);
        }
    }); 
```

# unix - 进程如何找到通过管道与之通信的进程的 pid？

> ID：12506991
> 
> 赞同：0
> 
> 时间：2012-09-20T06:17:03.493
> 
> 标签：unix, process, ipc, pipe, pid

假设我有以下管道：

```
$ generator_process | filter_process | storage_process 
```

是否有可能`filter_process`找出`generator_process`和的pid `storage_process`？如果是这样，怎么做？如果不是，为什么？

更一般地说，一个进程如何找到它通过管道与之通信的进程的 pid？

我正在寻找一种可移植的（POSIX）方式来做到这一点，但如果它需要一些特定于平台的技巧，那么我正在寻找一个 Linux 解决方案。我想 C 中的答案会给出最详细的信息，但如果它涉及 shell，我正在寻找一个 bash 解决方案。

请假设我可以更改`filter_process`，但是我没有可能或不想更改`generator_process`的`storage_process`程序（它们可能是我不想摆弄的标准 Unix 工具）。此外，将它们包装在将它们的 pid 写入磁盘的脚本中并不是我想要的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T06:22:01.223

请注意，管道的一端可能同时在多个进程中打开（通过`fork()`或`sendmsg`文件描述符传输），因此您可能不会只得到一个答案。

在 Linux 中，您可以检查它打开`/proc/<pid>/fd`了什么`fds`（您需要是`root`，或与目标进程相同的 uid）。我刚跑`grep a | grep b`并得到以下输出：

```
/proc/10442/fd:
total 0
dr-x------ 2 nneonneo nneonneo  0 Sep 20 02:19 .
dr-xr-xr-x 7 nneonneo nneonneo  0 Sep 20 02:19 ..
lrwx------ 1 nneonneo nneonneo 64 Sep 20 02:19 0 -> /dev/pts/5
l-wx------ 1 nneonneo nneonneo 64 Sep 20 02:19 1 -> pipe:[100815116]
lrwx------ 1 nneonneo nneonneo 64 Sep 20 02:19 2 -> /dev/pts/5

/proc/10443/fd:
total 0
dr-x------ 2 nneonneo nneonneo  0 Sep 20 02:19 .
dr-xr-xr-x 7 nneonneo nneonneo  0 Sep 20 02:19 ..
lr-x------ 1 nneonneo nneonneo 64 Sep 20 02:19 0 -> pipe:[100815116]
lrwx------ 1 nneonneo nneonneo 64 Sep 20 02:19 1 -> /dev/pts/5
lrwx------ 1 nneonneo nneonneo 64 Sep 20 02:19 2 -> /dev/pts/5 
```

因此，通过`readlink`在您自己的进程的 fd 上使用，然后在您拥有的`readlink`其他进程 fd 上使用，您可以确定谁在管道的另一端。

找出（从 Bash 脚本中）哪些 pids 和 fds 连接到特定管道的疯狂黑客方式：

```
get_fd_target() {
    pid=$1
    fd=$2
    readlink /proc/$pid/fd/$fd
}

find_fd_target() {
    target=$1
    for i in /proc/*/fd/*; do
        if [ "`readlink $i`" == "$target" ]; then
            echo $i
        fi
    done
} 
```

然后，如果您想找出系统上的哪些 fd 连接到您的脚本的标准输入：

```
find_fd_target `get_fd_target $$ 0` 
```

# php - 如何在php中批量取消设置数组元素？

> ID：12506999
> 
> 赞同：6
> 
> 时间：2012-09-20T06:17:39.727
> 
> 标签：php, arrays

> **可能重复：**
> [未设置数组中的键范围](https://stackoverflow.com/questions/2352926/unset-range-of-keys-in-an-array)

我有一个数组 $test，它包含 1000 个元素，随机键在 1 到 10000 之间，我想取消设置特定键范围的数组元素。例如，如果键值在 500 和 600 之间，我想取消设置元素。现在我正在使用**foreach**循环来执行此操作。任何其他 php 快捷方式可以做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T06:22:23.157

这个怎么样（未经测试，手写）

```
function unsetRange($arr,$from,$to)
{
    for($i=$from;$i<=$to;$i++)
        unset($arr[$i]);
}

// Unset elements from 500 to 600
unsetRange($myArr,500,100); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-20T06:20:15.860

原始链接

[未设置数组中的键范围](https://stackoverflow.com/questions/2352926/unset-range-of-keys-in-an-array)

你可以试试[array_slice](http://www.php.net/manual/en/function.array-slice.php)

```
$return = array_slice($original, 0, 60) 
```

然后

```
$return = $return+array_slice($original, 70) 
```

或者

[数组拼接](http://www.php.net/manual/en/function.array-splice.php)

```
$return = array_splice($original, 60, 10) 
```