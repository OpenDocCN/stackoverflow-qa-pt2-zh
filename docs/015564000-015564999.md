# StackOverflow 问答 15564000-15564999

# php - 更新 PHP CMS 站点以完全支持 unicode / utf8

> ID：15564002
> 
> 赞同：2
> 
> 时间：2013-03-22T06:22:29.863
> 
> 标签：php, unicode, utf-8, updating, multibyte

几年前，我建立了一个很好的自定义 PHP CMS 站点，但我忽略了一个重要问题：unicode 支持。这主要是因为当时的用户都是说英语的，而且在可预见的未来仍然如此。另一个因素是 PHP 一开始就对 unicode 的支持很差。

好吧，现在算账的日子到了。我希望支持 unicode，特别是 UTF8，但我有一个主要障碍：PHP 的字符串函数。如果我错了，请纠正我，但即使是现在，在 PHP 5.5 的世界中，PHP 的常规字符串函数（即 strlen、substr、str_replace、strpos 等）并不完全支持 unicode。另一方面，PHP 的 mb_string 函数确实支持 unicode，但我读到它们可能会占用大量资源（这是有道理的，因为我们将处理多字节字符而不是单字节字符）。

所以，在我看来，有三种解决方案：

1) 在所有情况下都使用多字节字符串函数。

A. 尝试用它们的多字节对应物覆盖标准字符串函数。说到这，如果我这样做，最好的方法是什么？

B. 煞费苦心地检查我的所有代码，并将标准字符串函数替换为对应的多字节函数。

2) 煞费苦心地检查我的所有代码，并将与用户输入、数据库数据等一起使用的标准字符串函数替换为对应的多字节函数。这将要求我仔细查看代码中每个字符串函数的每次用法，以确定它是否有可能处理多字节字符。

这样做的好处是我将拥有最佳的运行时间，同时完全支持 unicode。这里的缺点是，这将非常耗时（而且我可能会补充说非常无聊），并且总是有机会在我应该使用多字节字符串函数的地方错过。

3）彻底检查我的软件并从头开始。但这是我试图避免的事情。

如果有其他可用的选项，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T10:09:03.537

我会选择 1.B 的变体：

**1.B.2)**使用自动“搜索和替换”功能（一个精心设计的`sed`命令就可以做到）。

**1赞成2的理由：** [过早的优化是万恶之源](http://c2.com/cgi/wiki?PrematureOptimization)。我不知道您在哪里读到 mb_ 函数“资源繁重”，但坦率地说，这完全是胡说八道。当然，它们需要更多的 CPU 周期，但这是您真正不应该担心的一个维度。出于某种原因，PHP 开发人员喜欢讨论诸如“单引号比双引号快”之类的微优化，而他们应该专注于真正产生影响的事情（主要是 I/O 和数据库）。真的，不值得任何努力。

**自动化的原因：**有可能，它更高效，你需要更多的论据吗？

# java - svnkit - 如何获取文件的 mime 类型

> ID：15564008
> 
> 赞同：0
> 
> 时间：2013-03-22T06:22:51.413
> 
> 标签：java, mime-types, svnkit

我正在使用 svnkit 1.7.5 java API。问题是我无法获得我下载的文件的 mime 类型。

我试过这个[链接](http://wiki.svnkit.com/Printing_Out_File_Contents)，但我的“fileProperties”不包含 MIME_TYPE。它包含以下属性 -

```
-File property: svn:entry:revision=2802 
-File property: svn:entry:checksum=435f2f0d33d12907ddb6dfd611825ec9 
-File property: svn:wc:ra_dav:version-url=/repos/svnkit/!svn/ver/2795/trunk/www/license.html    
-File property: svn:entry:last-author=alex 
-File property: svn:entry:committed-date=2006-11-13T21:34:27.908657Z 
-File property: svn:entry:committed-rev=2795 
```

此外，它不允许 fileProperties 是地图。相反，它需要是 SVNKit 对象。它的 getFile() 方法具有以下签名。

```
getFile(String, long, SVNProperties, OutputStream) 
```

# java - OOP 访问修饰符：编译时或运行时

> ID：15564011
> 
> 赞同：7
> 
> 时间：2013-03-22T06:22:55.170
> 
> 标签：java, c++, oop, compiler-construction

我听说*访问修饰符* `Public, Private and Protected`只是一些编译器的东西，它们实际上并不存在于编译的*二进制代码*中。

现在我想知道它有多少是正确的？如果正确，是否意味着运行时二进制代码中不存在*封装？*所以，如果你修改二进制文件来非法访问某个`Private`方法，理论上，没有任何东西可以检查你的权限，没有任何OOP机制，也没有操作系统，对吧？

我还标记了 C++ 和 Java 的问题。我知道它们之间的区别，只是想知道它们处理*Access Modifiers*的方式有何不同。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-22T06:32:39.653

访问修饰符只是 C++ 中的一种编译时机制。然而，在 Java 中，它们也在运行时强制执行，因为 Java 也有一个运行时类型系统，它可以动态（在运行时）创建类。因此，对于在编译时不知道的类型，它也需要在运行时强制访问。

## 为什么要使用访问修饰符？

访问修饰符的唯一目的是强制设计。

假设你有一个`A`你实现的类

```
class A
{
public:
  void DoSomething()
  {
    // use private member mPrivMember to do something
  }
private:
  int mPrivMember;
} 
```

还有一些使用类的代码`A`：

```
A a_obj; 
```

上面的代码可以调用`a_obj.DoSomething()`，但是他们没有直接访问 mPrivMember 的权限，所以`a.mPrivMember`在类之外写的`A`不会编译。

现在，为什么您希望某些成员可以访问外部代码而某些成员不能访问？好吧，这就是原因：目前，该方法`DoSomething()`用于`mPrivMember`实际做事。但一段时间后，您可能决定要*重构*DoSomething 中的代码，以改进它。你找到了一种不同的方式*来做一些*不再涉及使用的事情`mPrivMember`。所以你删除`mPrivMember`并`DoSomething`以其他方式重新实现。

现在，如果您的类之外有代码 using `mPrivMember`，则该代码将不再编译，因为您`mPrivMember`在重新实现时删除了`DoSomething`. 为了防止此类代码的存在，您限制对`mPrivMember`. 这样做的机制是通过*访问限定符*，例如`private`和`protected`。

这使您可以在将来重构代码，而不必担心其他代码可能会使用内部成员。

## 回顾

`public` `private`并且`protected`是 C++ 中的编译时机制。它们不存在于程序生成的二进制形式中，因此不会强制执行此类保护。任何东西都可以从任何地方访问。

然而，在 Java 中，如果我没记错的话，可以在运行时创建类。这就是为什么它还必须在运行时检查访问以便它可以强制执行它们的原因，因此`Private` `Public`并且`Protected`确实存在于 Java 二进制文件中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T06:28:33.087

**请注意，这个答案是关于 Java** Both 的。如果您尝试编译试图访问不可访问的对象或方法的代码，您将收到编译时错误：

在运行时，JVM 检查访问：

如果您尝试在运行时访问，您将收到以下异常。使用不正确的访问级别 java.lang.IllegalAccessError：

希望能帮助到你

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T06:32:51.607

编译的 C++ 代码没有私有/受保护/公共的概念。它归结为机器代码，它没有这些概念。如果没有原生支持，你怎么能支持它们呢？更好的是，你怎么能为此提供本地支持。

访问修饰符适用于人类，而不是机器。访问修饰符是*设计*方面，而不是安全方面。

**tl；博士**：当 C++ 代码实际运行时，机器并不知道私有/公共/受保护曾经存在过。

# c - 使用 popen 和 pclose 时的问题

> ID：15564014
> 
> 赞同：4
> 
> 时间：2013-03-22T06:23:12.430
> 
> 标签：c, shell, unix

我有一个使用`popen`and的程序`pclose`：

```
#include <stdio.h>
#include <stdlib.h>
#include <errno.h>
#include <sys/wait.h>
int main(void)
{
    FILE *fp = NULL;
    int ret_val = 0;

    fp = popen("ls *", "r");
    if (NULL == fp)
    {
        printf("popen error\n");
        return 1;
    }

    ret_val = pclose(fp);
    if (-1 == ret_val)
    {
        printf("pclose error\n");
        return 1;
    }
    else
    {
        printf("%d,%d,%d\n",ret_val, WIFEXITED(ret_val), WEXITSTATUS(ret_val));
    }
    return 0;
} 
```

程序的输出是：

```
./test
Broken Pipe
36096,1,141 
```

我的问题是：

1.  为什么会有“断管”？
2.  为什么退出状态码是 141？我认为“ls *”执行成功，因此退出状态应该为 0。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-22T07:26:21.693

*   `ls`因为 SIGPIPE 信号被提升，所以显示“Broken pipe” 。
*   SIGPIPE 被提出是因为`ls`试图输出到一个封闭的管道。
*   管道已关闭，因为您的程序`pclose()`在`popen()`.

[通过阅读文档](http://pubs.opengroup.org/onlinepubs/009696899/functions/pclose.html)`pclose`可以进一步理解这种行为。基本上，将：`pclose`

1.  关闭由`popen()`调用打开的流。
2.  等待命令终止。
3.  返回命令的终止状态。

由于它关闭流*然后*等待命令终止，因此有时可以在流关闭*后*`ls`尝试写入流，从而导致上述情况。

 *此外，正如 kingsindian 指出的那样，SIGPIPE 可能并不总是被提高。这是因为命令实际上可以在主进程调用*之前*完成它的工作`pclose()`。由于这种行为是不可预测的，我建议实现一些同步。你总是想知道你的程序在任何时候都处于什么状态**。**

作为旁注，管道用于进程间通信。如果你的主进程*只是*打开和关闭一个管道，你最好使用`fork()`and `exec()`。*

# c++ - 有谁知道在执行 SDL 程序时如何消除 stdout.txt 和 stderr.txt 的创建

> ID：15564016
> 
> 赞同：1
> 
> 时间：2013-03-22T06:23:19.477
> 
> 标签：c++, sdl

SDL FAQ 中有一些关于此的信息，但我需要的是完全消除这些文件，而不是将输出重定向到控制台。我希望程序仅在有任何输出时才创建它们，尽管这不是必需的。这些文件只是一个麻烦，我只想摆脱它们。

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:46:58.237

将两者的输出定向到 NUL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:55:02.033

# 如何使用自己的`main`

您可以避免使用`main`SDL 附带的，`main`而是提供您自己的。根据[此邮件](http://permalink.gmane.org/gmane.comp.lib.sdl/51476)，您将能够在 SDL 1.3 中通过定义一个在 include`SDL_MAIN_HANDLED`之前调用的宏来完成此操作`SDL.h`。仅此更改[的提交](http://hg.libsdl.org/SDL/rev/e4add1082c2e)`SDL_main.h`，因此您可以在本地 SDL 安装中修补该文件，而无需重新编译任何内容。但由于主要影响似乎是避免定义`main`为预处理器宏，因此可能简单地这样做：

```
#include <SDL.h>
#undefine main 
```

不过，未经测试。您可能不得不欺骗您的构建系统不使用提供`main`相应的库。`WinMain`对于 SDL。

看到[`SDL_main.h`](http://hg.libsdl.org/SDL/file/f14cf9d71233/include/SDL_main.h)上面的代码没有定义`WinMain`为宏，您可能只需声明自己的`WinMain`函数而无需执行任何预处理器技巧。同样，您可能需要也可能不需要省略一个库，所以试试这个。

# 1.3 中的事态

请注意，在 SDL 1.3 中，您不必再担心这些文件：它还将包括[此提交](http://hg.libsdl.org/SDL/rev/ed4d4f1ea201)，其中包括

> *   从 WinMain() 中提取 stdio 重定向

因此，如果您愿意从源代码编译 SDL，这为您提供了另一组选项：您可以从当前的 HG 树开始使用 SDL，尽管这样做可能会使您面临可能不稳定的实现。或者，您可以将该单个提交移植回 SDL 1.2，因为与未来版本的兼容性不会因此受到任何不良影响。

# web-services - Spring Integration 入站 web 服务 wsdl 生成

> ID：15564020
> 
> 赞同：4
> 
> 时间：2013-03-22T06:23:30.947
> 
> 标签：web-services, spring-integration, soapfault, inbound

我正在尝试评估 Spring Integration，特别是对通过服务激活器将基于 POJO 的简单服务公开到基于 SOAP 的 Web 服务感兴趣。目前我被困在生成动态 wsdl 时遇到问题。WSDL 未加载，浏览器显示 404 错误。我尝试在本地访问以下网址

```
http://localhost:8080/ws-inbound-gateway/echoService
http://localhost:8080/ws-inbound-gateway/echoService/echoService.wsdl 
```

下面是配置

入站网关-config.xml

```
<int:channel id="inbound" />

    <bean id="marshaller" class="org.springframework.oxm.jaxb.Jaxb2Marshaller">
        <property name="contextPath" value="com.manish.schema.generated" />
    </bean>

    <int-ws:inbound-gateway id="empServiceGateway"
        request-channel="inbound" marshaller="marshaller"
        unmarshaller="marshaller" />

    <int:service-activator input-channel="inbound"
        requires-reply="true" ref="employeeServiceActivator" method="getEmployeeDetails">

    </int:service-activator>

    <bean id="employeeServiceActivator"
        class="org.springframework.integration.samples.ws.EmployeeServiceResponder" />

    <bean id="employeeService" class="com.manish.service.EmployeeService" /> 
```

EmployeeService 只是一个 pojo 类，而 EmployeeServiceResponder 是一个服务激活器，它调用服务类上的方法。

用于动态 wsdl 生成

spring-ws-config.xml

```
<import resource="classpath:/META-INF/spring/integration/inbound-gateway-config.xml" />

<sws:dynamic-wsdl id="echoService" portTypeName="empServiceGateway" locationUri="/echoService" targetNamespace="http://manish.niyati.com/echo">
    <sws:xsd location="/WEB-INF/echo.xsd"/>
</sws:dynamic-wsdl>

<bean
    class="org.springframework.ws.server.endpoint.mapping.UriEndpointMapping">
    <property name="defaultEndpoint" ref="empServiceGateway"></property>
</bean> 
```

web.xml

```
<servlet>
    <servlet-name>spring-ws</servlet-name>
    <servlet-class>org.springframework.ws.transport.http.MessageDispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>WEB-INF/spring-ws-config.xml</param-value>
    </init-param>
    <init-param>
        <param-name>transformWsdlLocations</param-name>
        <param-value>true</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>spring-ws</servlet-name>
    <url-pattern>/echoService</url-pattern>
</servlet-mapping> 
```

请让我知道还缺少什么，以便通过 SI 将此服务作为 Web 服务访问。

此外，当我尝试使用 WebService 模板访问服务时，我得到了 SOAPFAULT

```
02:18:59.436 INFO  [main][org.springframework.ws.soap.saaj.SaajSoapMessageFactory] Creating SAAJ 1.3 MessageFactory with SOAP 1.1 Protocol
02:18:59.437 DEBUG [main][org.springframework.ws.soap.saaj.SaajSoapMessageFactory] Using MessageFactory class [com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl]
02:18:59.484 DEBUG [main][org.springframework.ws.client.core.WebServiceTemplate] Opening [org.springframework.ws.transport.http.HttpUrlConnection@249fa95c] to [http://localhost:8080/ws-inbound-gateway/echoService]
02:18:59.519 TRACE [main][org.springframework.ws.soap.saaj.support.SaajUtils] SOAPElement [com.sun.xml.internal.messaging.saaj.soap.ver1_1.Envelope1_1Impl] implements SAAJ 1.3
02:18:59.535 TRACE [main][org.springframework.ws.soap.saaj.support.SaajUtils] SOAPElement [com.sun.xml.internal.messaging.saaj.soap.ver1_1.Body1_1Impl] implements SAAJ 1.3
02:18:59.562 TRACE [main][org.springframework.ws.client.MessageTracing.sent] Sent request [<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"><SOAP-ENV:Header/><SOAP-ENV:Body><ed:employeeRequest xmlns:ed="http://manish.niyati.com/echo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> <ed:empid>100</ed:empid> </ed:employeeRequest></SOAP-ENV:Body></SOAP-ENV:Envelope>]
02:18:59.604 TRACE [main][org.springframework.ws.client.MessageTracing.received] Received response [<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"><SOAP-ENV:Header/><SOAP-ENV:Body><SOAP-ENV:Fault><faultcode>SOAP-ENV:Server</faultcode><faultstring xml:lang="en">**java.lang.NullPointerException**</faultstring></SOAP-ENV:Fault></SOAP-ENV:Body></SOAP-ENV:Envelope>] for request [<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"><SOAP-ENV:Header/><SOAP-ENV:Body><ed:employeeRequest xmlns:ed="http://manish.niyati.com/echo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> <ed:empid>100</ed:empid> </ed:employeeRequest></SOAP-ENV:Body></SOAP-ENV:Envelope>]
02:18:59.605 DEBUG [main][org.springframework.ws.client.core.WebServiceTemplate] Received Fault message for request [SaajSoapMessage {http://manish.niyati.com/echo}employeeRequest]
02:18:59.607 TRACE [main][org.springframework.ws.soap.saaj.support.SaajUtils] SOAPElement [com.sun.xml.internal.messaging.saaj.soap.ver1_1.Fault1_1Impl] implements SAAJ 1.3 
```

提前致谢-MS

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:57:08.650

您正在以更复杂的方式进行操作。通过简单的配置和一些基本的注解，您可以在短时间内开发出一个 Web 服务。

我自己使用[Apache CXF](http://cxf.apache.org/)进行 Web 服务开发，它非常适合基于 Spring 的配置。你也可以看看这个[博客](http://angelozerr.wordpress.com/2011/08/24/jaxwscxf_step2/)。它用数字显示了开发 Web 服务的所有步骤，生成 wsdl 和客户端来使用 Web 服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T13:08:25.147

要获取 WSDL，请将 web.xml url-pattern 更改为`<url-pattern>/*</url-pattern>`.

网址是`http://localhost:8080/ws-inbound-gateway/echoService.wsdl`.

其他一切看起来都不错。

关于 WebServiceTemplateQuestion，您要发送什么？看起来您正在使用 ws 示例应用程序，它使用 WebServiceTemplate...

```
@Test
public void testWebServiceRequestAndResponse() {
    StringResult result = new StringResult();
    Source payload = new StringSource(
            "<?xml version=\"1.0\" encoding=\"UTF-8\"?>" +
            "<echoRequest xmlns=\"http://www.springframework.org/spring-ws/samples/echo\">hello</echoRequest>");

    template.sendSourceAndReceiveToResult(WS_URI, payload, result);
    logger.info("RESULT: " + result.toString());
    assertThat(result.toString(), equalTo(
            "<?xml version=\"1.0\" encoding=\"UTF-8\"?>" +
            "<echoResponse xmlns=\"http://www.springframework.org/spring-ws/samples/echo\">hello</echoResponse>"));
} 
```

这很好用。

Looks like your NPE is on the server - take a look at the server logs to see what happened.

# php - 德语特殊字符问题

> ID：15564023
> 
> 赞同：1
> 
> 时间：2013-03-22T06:23:43.153
> 
> 标签：php, iphone, objective-c, json, iphone-5

在 MySQl 数据库中，我们有具有特殊字符的描述，例如“ä ö ü ß”，我想在 iPhone 中显示这个字符，但我们是这些字符的一些二进制或其他形式。请指导我如何显示这些字符在 PHP JSON Webservices 和 iPhone App 之后。

# javascript - 添加到 window.onload 事件？

> ID：15564029
> 
> 赞同：63
> 
> 时间：2013-03-22T06:24:12.300
> 
> 标签：javascript, jquery

我想知道如何为 window.onload 事件添加另一个方法调用，一旦它已经被分配了一个方法调用。

假设在脚本的某个地方我有这个任务......

```
 window.onload = function(){ some_methods_1() }; 
```

然后稍后在脚本中我有这个任务

```
 window.onload = function(){ some_methods_2() }; 
```

就目前而言，只有`some_methods_2`将被调用。有什么方法可以在`window.onload`不取消的情况下添加到先前的回调`some_methods_1`？（并且也不包括两者`some_methods_1()`和`some_methods_2()`在同一个功能块中）。

我想这个问题不是真的，`window.onload`而是一个关于 javascript 的问题。我不想以`window.onload`这样的方式分配一些东西，如果另一个开发人员要处理脚本并添加一段也使用的代码`window.onload`（不查看我以前的代码），他会禁用我的 onload 事件。

我也想知道同样的事情

```
 $(document).ready() 
```

在jQuery中。我怎样才能在不破坏之前或之后的内容的情况下添加它？

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-03-22T06:48:11.793

如果你使用 jQuery，你不需要做任何特别的事情。通过添加的处理程序`$(document).ready()`不会相互覆盖，而是依次执行：

```
$(document).ready(func1)
...
$(document).ready(func2) 
```

* * *

如果您不使用 jQuery，您可以使用[`addEventListener`](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)，如 Karaxuna 所示，加上[`attachEvent`](http://help.dottoro.com/ljinxrmt.php)IE<9。

请注意，这[`onload`](https://html.spec.whatwg.org/multipage/indices.html#event-load)不等同于`$(document).ready()`- 前者也等待 CSS、图像...，而后者仅等待 DOM 树。现代浏览器（以及自 IE9 以来的 IE）支持[`DOMContentLoaded`](https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded)文档上的事件，它对应于 jQuery`ready`事件，但 IE<9 不支持。

```
if(window.addEventListener){
  window.addEventListener('load', func1)
}else{
  window.attachEvent('onload', func1)
}
...
if(window.addEventListener){
  window.addEventListener('load', func2)
}else{
  window.attachEvent('onload', func2)
} 
```

* * *

如果这两个选项都不可用（例如，您不处理 DOM 节点），您仍然可以这样做（我使用`onload`的是示例，但其他选项*可*用于`onload`）：

```
var oldOnload1=window.onload;
window.onload=function(){
  oldOnload1 && oldOnload1();
  func1();
}
...
var oldOnload2=window.onload;
window.onload=function(){
  oldOnload2 && oldOnload2();
  func2();
} 
```

或者，为了避免污染全局命名空间（并可能遇到命名空间冲突），使用导入/导出 IIFE 模式：

```
window.onload=(function(oldLoad){
  return function(){
    oldLoad && oldLoad();
    func1();
  }
})(window.onload)
...
window.onload=(function(oldLoad){
  return function(){
    oldLoad && oldLoad();
    func2();
  }
})(window.onload) 
```

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2013-03-22T06:26:21.793

您可以改用 attachEvent(ie8) 和 addEventListener

```
addEvent(window, 'load', function(){ some_methods_1() });
addEvent(window, 'load', function(){ some_methods_2() });

function addEvent(element, eventName, fn) {
    if (element.addEventListener)
        element.addEventListener(eventName, fn, false);
    else if (element.attachEvent)
        element.attachEvent('on' + eventName, fn);
} 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-03-22T06:34:56.613

基本上有两种方式

1.  存储之前的值，`window.onload`以便您的代码可以在代码执行之前或之后调用之前的处理程序

2.  使用这种`addEventListener`方法（微软当然不喜欢它并要求您使用另一个不同的名称）。

`window.onload`如果另一个脚本想要使用并且不考虑合作就这样做，第二种方法会给您更多的安全性，但 Javascript 的主要假设是所有脚本都会像您尝试做的那样进行合作。

请注意，一个不适合与其他未知脚本一起使用的坏脚本总是能够破坏页面，例如通过弄乱原型、污染全局命名空间或破坏 dom。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-03-19T23:20:01.387

这可能不是一个流行的选项，但有时脚本最终会以不同的块分发，在这种情况下，我发现这是一个快速修复

```
if(window.onload != null){var f1 = window.onload;}
window.onload=function(){
    //do something

    if(f1!=null){f1();}
} 
```

然后在别的地方...

```
if(window.onload != null){var f2 = window.onload;}
window.onload=function(){
    //do something else

    if(f2!=null){f2();}
} 
```

这将根据需要更新 onload 函数和链

# ajax - 春季 AJAX 更新元素

> ID：15564030
> 
> 赞同：0
> 
> 时间：2013-03-22T06:24:19.097
> 
> 标签：ajax, jsp, spring-mvc, auto-update

我正在为一个项目使用 Spring MVC。在其中，在特定页面上，我使用 Spring 表单标签来显示添加到控制器中模型的 ArrayList，如下所示：

```
<form:select path="myList">
    <form:options items="${listElements}"/>
</form:select> 
```

现在，`listElements`可以从另一个页面（子窗口）编辑，所以我想`myList`每 2 秒左右自动更新一次。截至目前，当添加元素时，我正在刷新父窗口；然而，父页面中的表单还有其他字段，用户只需在其中键入数据，因此完全刷新会重置该数据，因为它尚未发布。因此，我想使用 AJAX`form:select`每 2 秒更新一次我的元素。

我怎样才能做到这一点？

**注意：**我是 AJAX 菜鸟。我在 SO 和其他地方浏览了一些类似的帖子，但遗憾的是我无法弄清楚。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T07:31:28.957

1.在select元素中添加Id属性。

2.在返回arrayList的mvc控制器中添加ajax方法处理程序（我更喜欢返回json对象）。

3.在jquery/javascript中触发ajax调用

JSP代码：

```
<head>
    <link href="<c:url value="/resources/form.css" />" rel="stylesheet"  type="text/css" />
    <script type="text/javascript" src="<c:url value="/resources/jquery/1.6/jquery.js" />"></script>
        <script type="text/javascript">
        var interval =2000;
        setInterval("getServerData()",interval);
        function getServerData(){
            $.getJSON("/MyApp/data/jsonList", function(response){ 
                $("#selectBox option").remove(); 
                    var options = '';
                    $.each(response, function(index, item) {
                        options += '<option value="' + item + '">' + item + '</option>';
                        $("#selectBox").html(options);
                    });
            });
        }
        </script>           
</head>
<body>
    <form:form id="form" method="post">
        <select id="selectBox">
        <select>
    </form:form>    
</body> 
```

控制器代码：

```
@RequestMapping(value="/data/jsonList", method=RequestMethod.GET)
public @ResponseBody List<String> getDataList() {
    List<String> myList = new ArrayList<String>();
    myList.add("option1");
    myList.add("option2");
    myList.add("option3");
    myList.add("option4");
    return myList;
} 
```

如果您打算使用 jquery 检查 [通过 jQuery AJAX 更新选择框选项？](https://stackoverflow.com/questions/1040219/updating-select-box-options-via-jquery-ajax)

[好读：Spring ajax 3.0](http://blog.springsource.org/2010/01/25/ajax-simplifications-in-spring-3-0/)页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T11:37:30.350

我找到了我要找的东西！:)

万一其他人发现它在将来有用，我所做的如下：

1.  给`id`我一个`<form:select>`：

2.  创建`reloadlist.html`后，一个页面只跟一个相关的副本`<form:select>`。

3.  添加了以下脚本：

> ```
> <script type="text/javascript">
> function Ajax(){
> var xmlHttp;
>     try{    
>         xmlHttp=new XMLHttpRequest();// Firefox, Opera 8.0+, Safari
>     }catch (e){
>         try{
>             xmlHttp=new ActiveXObject("Msxml2.XMLHTTP"); // Internet Explorer
>         }catch (e){
>             try{
>                 xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
>             }catch (e){
>                 alert("No AJAX!?");
>                 return false;
>             }
>         }
>     }
>     xmlHttp.onreadystatechange=function(){
>         document.getElementById('ReloadList').innerHTML=xmlHttp.responseText;
>         setTimeout('Ajax()',10000);
>     }
>     xmlHttp.open("GET","reloadlist.html",true);
>     xmlHttp.send(null);
> }
> window.onload=function(){
>     setTimeout('Ajax()',10000);
> }
> </script> 
> ```

这可能不是完成这项工作的好方法，但它确实有效。更好的答案将不胜感激！

# java - Android 上 Java lib 和 C++ dll 之间的性能

> ID：15564032
> 
> 赞同：0
> 
> 时间：2013-03-22T06:24:27.873
> 
> 标签：java, android, c++, performance, dll

我正在 Android 上构建一个加密应用程序。在 Java 中使用库加密。但在加密处理过程中速度很慢。

我考虑使用 C++ 编写的 dll 加密。

但它真的使加密处理更快吗？

如果你有这方面的经验，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:29:42.080

告诉这一点的唯一方法是通过分析。C++ 应该更快，但 JNI 开销可能会减慢它。糟糕的编程也是如此。另请注意，对于加密来说，更快并不总是更好 - 对加密实现的攻击基于检测到程序员看到了某些优化（例如不在 if 语句的 1 个分支中执行计算）让它猜测值某些密钥位。使用一个编写良好、开源、调试过的库，而不是一个更快的库。除非你是专家，否则永远不要编写你自己的加密——即使你完美地编写了算法，你也会有像上面那样的侧向量攻击。

# php - PHP 数据输入 (SQL)

> ID：15564034
> 
> 赞同：0
> 
> 时间：2013-03-22T06:24:33.827
> 
> 标签：php, javascript, html, mysql

我有一个发布到 PHP 页面的表单。这是页面的一个片段。目标是读出一个 SQL 表，然后单击文本值，它们是可编辑的。然后编辑它们并提交，它会更新 SQL 表。我基本上需要一种从 id 开头剥离字母的方法。但是这封信很重要，因为它定义了新信息进入的列。此外，如果有不同的语言或方法可以做到这一点，我愿意接受建议。

```
<script type="text/javascript">
function exchange(id){
    var ie=document.all&&!window.opera? document.all : 0
    var frmObj=ie? ie[id] : document.getElementById(id)
    var toObj=ie? ie[id+'b'] : document.getElementById(id+'b')
    toObj.style.width=frmObj.offsetWidth+7+'px'
    frmObj.style.display='none';
    toObj.style.display='inline';
    toObj.value=frmObj.innerHTML
}
</script>
<?php
$result = mysqli_query($con,"SELECT * FROM List") or die(mysql_error());
var_dump($_POST);

echo "<table id=list>
<tr id='list_header'>
<th class='list'>ID</th>
<th class='list'>Description</th>
<th class='list'>Winner</th>
</tr><form name='edit' action='inde.php?id=prizes' method='post'>";

while($row = mysqli_fetch_array($result))
{
    echo "<tr>";
    echo "<td class='list'><span id='n" . $row['Number'] . "' onclick='exchange(this.id)'>" . $row['Number'] . "</span><input name='n" . $row['Number'] . "b' id='n" . $row['Number'] . "b' class='replace' type='text' value='" . $row['Number'] . "' style='display:none;'></td>";
    echo "<td class='list'><span id='d" . $row['Number'] . "' onclick='exchange(this.id)'>" . $row['Description'] . "</span><input name='d" . $row['Number'] . "b' id='d" . $row['Number'] . "b' class='replace' type='text' value='" . $row['Description'] . "' style='display:none;'></td>";
    echo "<td class='list'><span id='w" . $row['Number'] . "' onclick='exchange(this.id)'>" . $row['Winner'] . "</span><input name='w" . $row['Number'] . "b' id='w" . $row['Number'] . "b' class='replace' type='text' value='" . $row['Winner'] . "' style='display:none;'></td>";
    echo "<td></td>";

    echo "</tr>";
}
echo "</table><input type='submit' value='Save Changes'></form>";
?>` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T21:22:03.667

据我了解，您有一个字符串*id*，并且您想要执行以下操作：

```
if(strlen($id)>1){
    $important=substr($id, 0, 1); //that gets the important stuff
    $id = ($id, 1, strlen($id)); //that's id without the first char
}
else{
    $important=$id;
    $id=""; //empty string
} 
```

您可能想尝试[Ajax](http://www.w3schools.com/ajax/default.asp)将修改后的值一个一个地发送到服务器，而不是最后一起发送。

# php - 用于存储具有回复和回复的帖子的表结构也具有使用 php 和 Mysql 的回复

> ID：15564037
> 
> 赞同：0
> 
> 时间：2013-03-22T06:24:56.450
> 
> 标签：php, mysql, database

我在 PHP 和 Mysql 中做论坛。

我已经使用下面的表结构在 mysql 中存储帖子和回复帖子。从这个结构我得到帖子并回复那个帖子，但现在我试图添加回复也有 relpy 所以我应该使用什么结构所以我存储回复也有回复。

```
Post Table:

post_id    post_title   post_desc 
-----------------------------------------
  1          xyz         sssss
  2          pqr         tyyyu
  3          str         rrrrr
----------------------------------------

Reply_table:

Rep_id    rep_text      post_id
----------------------------------------
  1         gghh           1
  2         uuyu           2
  3         iiooo          1
---------------------------------------- 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:29:06.893

您可以将另一个字段添加到名为“Parent_ID”的 reply_table 中，您将在其中存储正在回复的回复。例如：假设 Rep_id = 4 是对 Rep_1 的回复，那么

```
Rep_id    rep_text      post_id     Parent_ID
---------------------------------------------
  1         gghh           1            null
  2         uuyu           2            null
  3         iiooo          1            null
  4         reply to 1     1              1
--------------------------------------------- 
```

这样你就可以得到一个递归回复，这样你就有了对 Rep_id = 4 的回复

```
Rep_id    rep_text      post_id     Parent_ID
---------------------------------------------
  1         gghh             1            null
  2         uuyu             2            null
  3         iiooo            1            null
  4         reply to 1       1              1
  5         reply to 4 to 1  1              4
--------------------------------------------- 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:29:53.093

这个父级将是 main 的 rep_id

```
Rep_id  parent  rep_text      post_id
----------------------------------------
  1    null     gghh           1
  2    1        uuyu           2
  3    1        iiooo          1 
```

# javascript - IE 8 安全设置阻止 javascript 进入杂项

> ID：15564040
> 
> 赞同：0
> 
> 时间：2013-03-22T06:25:14.313
> 
> 标签：javascript, internet-explorer, file-upload

每当我在 IE8 中禁用安全设置时，在我的应用程序中`include local directory path when uploading file to a server`都会被禁用。我没有得到文件的完整路径。但是，当我启用它时，应用程序工作正常。安全功能是：

```
Tools -> Internet Options -> security -> Custom level 
    -> security setting - Internet zone ->Miscellaneous 
    ->  include local directory path when uploading file to a server 
```

`include local directory path when uploading file to a server` 是否可以通过编程方式检测是否启用了此功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-16T01:51:41.053

我不知道检测此 URLAction 是否启用的直接方法（但是，如果将站点添加到受信任列表中，您可以通过 activeX 将其从注册表中取出，但是您不需要首先执行此检查，因为默认情况下为受信任站点启用此选项）。

但是，当用户在文件输入中选择文件时，您可以简单地检查文件输入是否`value`包含路径（不以 开头`c:\fakepath\`）。

如果您没有找到路径或虚假路径，那么您可以提醒用户，通知他启用`include local directory path`，否则（您已找到路径）继续您的正常程序。

希望这可以帮助！

# c++ - 在 Visual Studio 2010 中打印版权符号

> ID：15564047
> 
> 赞同：4
> 
> 时间：2013-03-22T06:25:38.820
> 
> 标签：c++, c, windows, visual-studio, ascii

我一直在努力使用 Visual Studio 在 Windows 中打印版权符号。我知道 0xA9 是版权符号的 ASCII 码，它适用于非 Windows 平台。但在 Windows 上，我无法使用相同的代码打印版权符号。

```
#include "iostream.h"
using namespace std;

int main(int argc, char * argv[])
{

        cout << (char)0xA9 << " Copyright symbol" << endl;

        return 0;
} 
```

Linux/HP-UX 和 AIX 上的输出：`© Copyright symbol`

Windows 上的输出：`⌐ Copyright symbol`

我是 Windows 新手，谁能帮帮我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T06:41:10.207

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:27:51.457

请注意，`0xa9`它不是[ASCII](http://en.wikipedia.org/wiki/ASCII)（它有 7 位字符，仅限于`0 - 0x7f`范围）。它可以是[ISO/IEC 8859-1](http://en.wikipedia.org/wiki/ISO_Latin_1)。现在许多当前的系统（包括今天的大多数 Linux 终端）都使用[UTF-8](http://en.wikipedia.org/wiki/UTF-8)，其中版权字形由两个字节编码，因此您可以在 C 或 C++ 源代码`"\302\251"`中`"\xc2\xa9"`进行编码。所以你的程序不会在我`xfce4-terminal`使用 UTF-8 的 Linux 中显示版权标志。

一些 Windows 机器有不同的编码系统。

如果可能，我会将您的系统（无论是 Linux 还是 Windows）设置为在其终端上使用 UTF8[字符编码](http://en.wikipedia.org/wiki/Character_encoding)（或使用 UTF16 宽字符）。到处阅读有关[UTF-8 的](https://utf8everywhere.org/)信息。

ASCII 传统的版权调用非常普遍`(C)`，因为 ASCII 编码没有任何版权字形。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-01-25T16:30:07.097

从[这里](http://zuga.net/articles/cpp-printing-copyright-symbol-displays-reversed-not-sign/)获取和改编：

```
#if defined(WIN32)

#include <windows.h>

#endif

#include <stdio.h>

void print_copyright_hint() {
    printf("Copyright ");

#if defined(WIN32)
    auto copyright = const_cast<wchar_t *>(L"©");
    auto handle = GetStdHandle(STD_OUTPUT_HANDLE);
    WriteConsoleW(handle, copyright, static_cast<DWORD>(wcslen(copyright)), nullptr, nullptr);
#else
    printf("©");
#endif
    printf(" my Company");
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-07-20T07:52:07.943

您可以使用 alt+0169。如果我错了，请原谅我。

# javascript - 如何使用 D3JS 创建复杂的 SVG 形状？

> ID：15564050
> 
> 赞同：2
> 
> 时间：2013-03-22T06:25:50.360
> 
> 标签：javascript, vector, svg, d3.js

我正在尝试自定义其中一个 D3 JS 示例，但我一直坚持如何向其中添加复杂的图形。

这是我要修改的脚本：http: [//bl.ocks.org/jmgimeno/1665141](http://bl.ocks.org/jmgimeno/1665141)

我想在底部为处理程序添加更好的图形。类似于 iPhone 视频编辑控件的样子：[http ://bit.ly/ZDjnOq](http://bit.ly/ZDjnOq)

现在，我想，唯一的选择就是使用复杂的 SVG 图形。所以我为一个看起来类似于 iPhone 控件的图形控件创建了一个 SVG 文件。

我的 SVG 文件如下所示：

```
 <?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="37.5px"
     height="20.25px" viewBox="0 0 37.5 20.25" enable-background="new 0 0 37.5 20.25" xml:space="preserve">
<g id="Layer_2">
</g>
<g id="Layer_1">
    <path fill="none" stroke="#F28A1A" stroke-miterlimit="10" d="M34.442,15.665c0,1.565-1.27,2.835-2.835,2.835H5.594
        c-1.565,0-2.835-1.27-2.835-2.835V3.834C2.759,2.269,4.028,1,5.594,1h26.014c1.565,0,2.835,1.269,2.835,2.834V15.665z"/>
    <g>
        <path fill="#FFFFFF" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" d="M4.342,12.298
            c0,0.874-0.709,1.583-1.584,1.583l0,0c-0.874,0-1.583-0.709-1.583-1.583V7.131c0-0.874,0.709-1.583,1.583-1.583l0,0
            c0.875,0,1.584,0.709,1.584,1.583V12.298z"/>
        <line fill="none" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" x1="1.883" y1="9.715" x2="3.466" y2="9.715"/>

            <line id="XMLID_16_" fill="none" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" x1="1.883" y1="8.976" x2="3.466" y2="8.976"/>

            <line id="XMLID_15_" fill="none" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" x1="1.883" y1="10.369" x2="3.466" y2="10.369"/>
    </g>
    <g>
        <path fill="#FFFFFF" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" d="M36.025,12.298
            c0,0.874-0.709,1.583-1.584,1.583l0,0c-0.874,0-1.583-0.709-1.583-1.583V7.131c0-0.874,0.709-1.583,1.583-1.583l0,0
            c0.875,0,1.584,0.709,1.584,1.583V12.298z"/>
        <line fill="none" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" x1="33.566" y1="9.715" x2="35.149" y2="9.715"/>

            <line id="XMLID_14_" fill="none" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" x1="33.566" y1="8.976" x2="35.149" y2="8.976"/>

            <line id="XMLID_13_" fill="none" stroke="#626161" stroke-width="0.25" stroke-miterlimit="10" x1="33.566" y1="10.369" x2="35.149" y2="10.369"/>
    </g>
</g>
</svg> 
```

不知何故，当我使用上面的代码时，我无法看到 SVG 图形。

我需要一些更简单的 SVG 形式吗？还是有更多的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T12:19:03.707

可以通过将 svg 元素信息放入 d3 可以用作数据的数组来呈现复杂路径：

[http://bl.ocks.org/AndrewStaroscik/5220771](http://bl.ocks.org/AndrewStaroscik/5220771)

# jquery - 使用 jQuery 隐藏内部 div

> ID：15564053
> 
> 赞同：3
> 
> 时间：2013-03-22T06:26:07.823
> 
> 标签：jquery

```
 <a href="#"> Link1  </a>  
    <div id="parent">
         <div id="child1">
                    Here is the Child One
         </div>
         <div id="child2">
                    Here is the Child Two
         </div>
    </div> 
```

如何使用 jquery 隐藏 child1 div？

**更新**

我想在点击 Link1 时隐藏 child1

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T06:27:37.443

为什么使用 jQuery？

CSS

```
 #child1{
   display: none;
 } 
```

或者如果你真的想使用 jQuery

`$("#child1").hide();`

如果您想在点击时隐藏：因为您在标记中使用了 ID，所以这非常简单

```
$("#parent").click(function() {
   $("#child1").hide();
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T06:28:33.493

```
$('div#parent > div#child1').hide(); 
```

以上为隐藏的直接子级`#parent`。

**点击**

```
$('YOURLINK').on('click',function()
{
    $('div#parent > div#child1').hide();
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T06:28:28.550

尝试

```
$("#child1").hide(); 
```

或者你可以试试

```
$("#child1").css('display','none'); 
```

根据您编辑的问题，它应该是

```
$("#link1").click(function(e){
     e.preventDefault();
     $("#child1").hide();
}); 
```

[并在http://jquery.com/](http://jquery.com/)中查看 jquery 功能

[并在http://api.jquery.com/selector/](http://api.jquery.com/selector/)中查看 jquery 选择器

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T06:32:19.573

*如果你想隐藏 div 内的第一个 Inner 孩子：-*

```
$('#link1ID').click(function(){        
    $('div#parent div:first').hide();    
}); 
```

*如果您想使用子 ID 隐藏：-*

```
 $('#link1ID').click(function(){            
        $('div#parent div#child1').hide();        
 }); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-22T06:32:22.430

```
$(document).ready(function(){
     $("#link1").on('click',function(){
         $("#child1").hide();
     });
}); 
```

**与 child2 相同**。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-22T06:39:47.180

这将隐藏 child1 onclick link1 和 child2 onclick link2

**[演示](http://jsfiddle.net/pintu31/Smx4k/)**

```
$('a').click(function(e){
    e.preventDefault()
    $(this).closest('div').hide();
}); 
```

如果你想隐藏父 div 下任何链接的 child1 onclick

```
$('a').click(function(e){
    e.preventDefault()
    $(this).parentsUntil('parent').find('#child1').hide();
}); 
```

**HTML**

```
<div id="parent">
     <div id="child1">
         <a href="#">link1</a>
     </div>
     <div id="child2">
         <a href="#">link2</a>
     </div>
</div> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-11-03T22:18:12.440

只需选择并隐藏孩子，如下所示：

```
$("#parent").children().hide(); 
```

然后，随时选择并显示/隐藏/任何孩子。

# iphone - 如何在 iPhone 的自定义相机中静音视频录制？

> ID：15564054
> 
> 赞同：-1
> 
> 时间：2013-03-22T06:26:08.643
> 
> 标签：iphone, ios, objective-c, cocos2d-iphone

我正在使用`AVCam`苹果创建用于视频录制的自定义相机，但我想实现在录制时将视频静音的功能，任何人都知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:27:57.130

[尝试使用以下代码：](https://stackoverflow.com/questions/6120687/how-to-mute-video-played-in-avplayer)

```
 AVURLAsset *asset = [[avPlayer currentItem] asset];
NSArray *audioTracks = [asset tracksWithMediaType:AVMediaTypeAudio];

// Mute all the audio tracks
NSMutableArray *allAudioParams = [NSMutableArray array];
for (AVAssetTrack *track in audioTracks) {
    AVMutableAudioMixInputParameters *audioInputParams =    [AVMutableAudioMixInputParameters audioMixInputParameters];
    [audioInputParams setVolume:0.0 atTime:kCMTimeZero];
    [audioInputParams setTrackID:[track trackID]];
    [allAudioParams addObject:audioInputParams];
}
AVMutableAudioMix *audioZeroMix = [AVMutableAudioMix audioMix];
[audioZeroMix setInputParameters:allAudioParams];

[[avPlayer currentItem] setAudioMix:audioZeroMix]; 
```

**另一种方式是**

阅读这个问题[AVFoundation，如何在 captureStillImageAsynchronouslyFromConnection 时关闭快门声音？](https://stackoverflow.com/questions/4401232/avfoundation-how-to-turn-off-the-shutter-sound-when-capturestillimageasynchrono)

# python - 撇号变成 \x92

> ID：15564063
> 
> 赞同：15
> 
> 时间：2013-03-22T06:26:45.793
> 
> 标签：python, python-2.7, apostrophe

**我的语料库.txt**

```
Human where's machine interface for lab abc computer applications   
A where's survey of user opinion of computer system response time 
```

**停用词.txt**

```
let's
ain't
there's 
```

以下代码

```
corpus = set()
for line in open("path\\to\\mycorpus.txt"):
    corpus.update(set(line.lower().split()))
print corpus

stoplist = set()
for line in open("C:\\Users\\Pankaj\\Desktop\\BTP\\stopwords_new.txt"):
    stoplist.add(line.lower().strip())
print stoplist 
```

给出以下输出

```
set(['a', "where's", 'abc', 'for', 'of', 'system', 'lab', 'machine', 'applications', 'computer', 'survey', 'user', 'human', 'time', 'interface', 'opinion', 'response'])
set(['let\x92s', 'ain\x92t', 'there\x92s']) 
```

为什么在第二组撇号变成 \x92 ？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-22T06:39:56.770

# actionscript-2 - ctrl + c 键盘事件在 as2.0 中不起作用

> ID：15564064
> 
> 赞同：0
> 
> 时间：2013-03-22T06:26:45.723
> 
> 标签：actionscript-2

我正在使用带有 AS 2.0 的 Macromedia Flex 1.5，我想为数据网格保留 ctrl + c 键盘事件，我正在尝试以下代码，但它不起作用。我究竟做错了什么？

```
<mx:Script>
<![CDATA[
function myOnKeyDown() { 

                         if (Key.isDown (Key.CONTROL) && Key.isDown(67))
                                                    {                                                                               mx.controls.Alert.show("Copied Succesfully: ");
                                                    }
                                                      else
                           {
                             mx.controls.Alert.show("Press control + c to copy: ");
                           }
                   }

]]> 
</mx:Script>

<mx:DataGrid width="100%" height="35%" id="cur1_DataGrid" sortableColumns="false" change="level1var.checkForChanges()" keyDown="myOnKeyDown()"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T05:13:43.687

我正在跟踪 CTRL 键的状态，我对结果没有意见，除非涉及到组合键。

按 CTRL 键，您会看到它跟踪“CTRL on”。释放它，你会看到它跟踪“CTRL off”。那里没问题。现在按 CTRL，然后按 C 键（如复制），现在释放 C，然后释放 CTRL 键，你看不到任何痕迹。

即， if(Key.isDown(67)) 正在返回 true .................... (或) if(Key.isDown(Key.CONTROL)) 正在返回 true …………

但是 (Key.isDown(Key.CONTROL) 和 Key.isDown(67)) 没有返回......

# eclipse - 在 Eclipse 中更改默认 XML 编辑器

> ID：15564065
> 
> 赞同：3
> 
> 时间：2013-03-22T06:26:46.350
> 
> 标签：eclipse, xml-editor

Eclipse 在[使用 XML 的](https://stackoverflow.com/questions/13145556/eclipse-hangs-when-dealing-with-xmls-going-to-or-from-them-cpu-disk-spike)..时挂起

默认编辑器太慢并且有很多问题

我读过，如果我们更改编辑器效果很好，那么如何删除现有编辑器？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-22T06:34:59.957

您可以自定义它们：**Window -> Preferences -> General -> Editors -> File Associations**

在那里，您必须选择一个文件扩展名，
或者将一个文件添加到列表中，然后选择 eclipse
在需要时使用什么编辑器打开它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T06:32:13.363

要只打开一次文件，
右键单击 - 打开方式

更改关联，
Windows - 首选项 - 常规 - 编辑器 - 文件关联

# sql-server - 检查夏令时是打开还是关闭

> ID：15564067
> 
> 赞同：2
> 
> 时间：2013-03-22T06:26:54.500
> 
> 标签：sql-server, sql-server-2008, stored-procedures, dst

在一个场景中，我必须检查夏令时是否有效。根据检查的结果，我必须在 SQL 服务器过程中进行一些计算。

快速检查夏令时当前是否有效的最佳方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T06:42:55.593

我在 SQL Server中使用了这个由 Tim Cullen 创建的[夏令时函数。](http://www.mssqltips.com/sqlservertip/1372/daylight-savings-time-functions-in-sql-server/)

具体来说，我使用的代码是：

**开始日期功能**

```
CREATE function [dbo].[fn_GetDaylightSavingsTimeStart]
(@Year varchar(4))
RETURNS smalldatetime
as
begin
declare @DTSStartWeek smalldatetime, @DTSEndWeek smalldatetime
set @DTSStartWeek = '03/01/' + convert(varchar,@Year)
return case datepart(dw,@DTSStartWeek)
when 1 then
dateadd(hour,170,@DTSStartWeek)
when 2 then
dateadd(hour,314,@DTSStartWeek)
when 3 then 
dateadd(hour,290,@DTSStartWeek)
when 4 then 
dateadd(hour,266,@DTSStartWeek)
when 5 then 
dateadd(hour,242,@DTSStartWeek)
when 6 then 
dateadd(hour,218,@DTSStartWeek)
when 7 then
dateadd(hour,194,@DTSStartWeek)
end
end 
```

**结束日期函数**

```
CREATE function [dbo].[fn_GetDaylightSavingsTimeEnd]
(@Year varchar(4))
RETURNS smalldatetime
as
begin
declare @DTSEndWeek smalldatetime
set @DTSEndWeek = '11/01/' + convert(varchar,@Year)
return case datepart(dw,dateadd(week,1,@DTSEndWeek))
when 1 then
dateadd(hour,2,@DTSEndWeek)
when 2 then
dateadd(hour,146,@DTSEndWeek)
when 3 then
dateadd(hour,122,@DTSEndWeek)
when 4 then
dateadd(hour,98,@DTSEndWeek)
when 5 then 
dateadd(hour,74,@DTSEndWeek)
when 6 then 
dateadd(hour,50,@DTSEndWeek)
when 7 then 
dateadd(hour,26,@DTSEndWeek)
end
end 
```

然后我在查询中使用这样的函数：

```
declare @DLSStart smalldatetime 
, @DLSEnd smalldatetime 
, @DLSActive tinyint 
set @DLSStart = (select MSSQLTIPS.dbo.fn_GetDaylightSavingsTimeStart(convert(varchar,datepart(year,getdate()))))
set @DLSEnd = (select MSSQLTIPS.dbo.fn_GetDaylightSavingsTimeEnd(convert(varchar,datepart(year,getdate())))) 

if @Date between @DLSStart and @DLSEnd 
begin 
set @DLSActive = 1 
end 
else 
begin 
set @DLSActive = 0 
end 
select @DLSActive 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-25T08:04:05.770

在西欧，夏季时间从 3 月的最后一个星期日 02:00 开始

```
select 
DATEADD(
    day,
    DATEDIFF(
        day,
        '1900-01-07',
        DATEADD(month,DATEDIFF(MONTH,0,concat(year(getdate()),'-03-01')),30)
        )/7*7,
    '1900-01-07 02:00'
    ) as SummerTimeStarts 
```

并于 10 月的最后一个星期日 03:00 结束

```
Select 
DATEADD(
    day,
    DATEDIFF(
        day,
        '1900-01-07',
        DATEADD(month,DATEDIFF(MONTH,0,concat(year(getdate()),'-10-01')),30)
        )/7*7,
    '1900-01-07 03:00'
    ) as SummerTimeEnds 
```

它给出了 en 函数：

```
CREATE function [dbo].[DateIsSummerTime]
(@datetime datetime)
RETURNS bit
as
begin
    declare @SummerTimeStarts datetime, @SummerTimeEnds datetime
    set @SummerTimeStarts = (select DATEADD(day,DATEDIFF(day,'1900-01-07',DATEADD(month,DATEDIFF(MONTH,0,concat(year(getdate()),'-03-01')),30))/7*7,'1900-01-07 02:00'))
    set @SummerTimeEnds   = (Select DATEADD(day,DATEDIFF(day,'1900-01-07',DATEADD(month,DATEDIFF(MONTH,0,concat(year(getdate()),'-10-01')),30))/7*7,'1900-01-07 03:00')) 

    Return  Case when @datetime > @SummerTimeStarts and @datetime < @SummerTimeEnds then 1 else 0 end
end 
```

# android - 为所有 android api 启用复制粘贴

> ID：15564074
> 
> 赞同：1
> 
> 时间：2013-03-22T06:27:11.653
> 
> 标签：android, copy-paste, clipboardmanager

我正在寻找一种在每个 Android 版本中从剪贴板复制和粘贴的方法。现在，我只知道如何在 API 11+ 中执行此操作。

```
copy.setOnLongClickListener(new View.OnLongClickListener()
    {
        @SuppressLint({ "NewApi", "NewApi" })
        @Override
        public boolean onLongClick(View v)
        {
            clipboard = (ClipboardManager)getSystemService(Context.CLIPBOARD_SERVICE);
            clipdata = ClipData.newPlainText("simple text", copy.getText().toString());
            clipboard.setPrimaryClip(clipdata);
            Toast.makeText(getApplicationContext(), "Copied to clipboard..", Toast.LENGTH_SHORT).show();
            return true;
        }
    });

    paste.setOnLongClickListener(new View.OnLongClickListener()
    {
        @SuppressLint({ "NewApi", "NewApi" })
        @Override
        public boolean onLongClick(View v)
        {
            clipboard = (ClipboardManager)getSystemService(Context.CLIPBOARD_SERVICE);
            String pasteData = "";
            item = clipboard.getPrimaryClip().getItemAt(0);
            pasteData = item.getText().toString();
            paste.setText(pasteData);
            Toast.makeText(getApplicationContext(), "Pasted", Toast.LENGTH_SHORT).show();
            return true;
        }
    }); 
```

我会很感激任何帮助，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:37:12.423

ClipboardManager 未在 v11 中添加，文档错误。它在 v11 中进行了重新设计。您仍然可以在文档中看到旧的不推荐使用的功能。做版本检查，在旧版本上使用旧功能，在新版本上使用新功能。请参阅 ClipboardManager 的 getText、hasText 和 setText。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:42:16.373

```
 int sdk = android.os.Build.VERSION.SDK_INT;
            if(sdk < android.os.Build.VERSION_CODES.HONEYCOMB) {
                android.text.ClipboardManager clipboard = (android.text.ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);
                clipboard.setText("text to clip"); // 
            } else {
                android.content.ClipboardManager clipboard = (android.content.ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE); 
                android.content.ClipData clip = android.content.ClipData.newPlainText("text label","text to clip");
                clipboard.setPrimaryClip(clip); // 
            } 
```

# string - 暴力字符串模式匹配平均分析

> ID：15564077
> 
> 赞同：3
> 
> 时间：2013-03-22T06:27:18.227
> 
> 标签：string, algorithm, pattern-matching

我有如下蛮力字符串模式搜索算法：

```
public static int brute(String text,String pattern) {
 int n = text.length();    // n is length of text.
 int m = pattern.length(); // m is length of pattern
 int j;
 for(int i=0; i <= (n-m); i++) {
    j = 0;
    while ((j < m) && (text.charAt(i+j) == pattern.charAt(j)) ) {
       j++;
    }
    if (j == m)
     return i;   // match at i
  }
  return -1; // no match
} // end of brute() 
```

在分析上述算法时，作者提到了最坏情况和平均情况。

我了解最坏情况下的性能，但平均而言**，作者如何获得 O(m+n) 性能？在这里需要帮助。**

在最坏的情况下，蛮力模式匹配在 O(mn) 时间内运行。

大多数普通文本的搜索平均需要 O(m+n)，这非常快。

一个更普通的例子：T：“一个字符串搜索的例子是标准的”P：“商店”

感谢您的时间和帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:39:32.540

他指的`O(m+n)`是在正常情况下会发生的部分匹配。

例如，在您的正常情况下，您将获得：

```
T: "a string searching example is standard" 
P: "store" 
```

迭代：

```
 O(38 + 5) == 43
 a -     no match (1)
 space - no match (2)
     s     - match (3)
     t     - match (4)
     r     - no match (5)
 t     - no match (6)
 r     - no match (7)
 i     - no match (8)
 n     - no match (9)
 g     - no match (10)
 space     - no match (11) 
```

ETC...

我缩进了内部循环以使其更易于理解。

最终，您已经检查了所有`m`is `O(m)`，但部分匹配意味着您已经检查了所有`n`is `O(n)`（找到了完全匹配），或者至少有足够的字符来等于其中的字符数量`n`（仅部分匹配）。

总体而言，这导致`O(m+n)`平均时间。

最好的情况是`O(n)`匹配在`m`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:00:31.160

> 在最坏的情况下，蛮力模式匹配在 O(mn) 时间内运行。
> 
> 大多数普通文本的搜索平均需要 O(m+n)，这非常快。

请注意，同一算法不能有 2 个 Big-O。

看来您正在应用蛮力窗口移位算法，

**时间 = (m-n+1)m**

最坏的情况是当你有 m=1, **O(nm)**

最好的情况是当你有 m=n, **Ω(m)**

# android - LockScreen 拒绝连接到 http://192.16.154.10

> ID：15564079
> 
> 赞同：0
> 
> 时间：2013-03-22T06:27:19.660
> 
> 标签：android, http-post

我有两个活动 A--> B（A 调用 B）。对于活动 BI 有清单条目`noHistory=true`，这意味着不会保留历史记录。在活动 B 中，我正在使用 HTTPPost 方法进行服务器调用。我的部分代码是：

```
1\. BasicHttpResponse httpResponse = (BasicHttpResponse) httpclient.execute(httppost);
2\. String responseBody = EntityUtils.toString(httpResponse.getEntity()); 
```

正常情况下的一切工作正常。但是，在进入活动 B 并成功调用服务器后，如果我将锁定设备，则在解锁该活动 A 后将启动（因为活动 B 有`nohistory=true`）。现在，如果我从 A 调用活动 B，则应用程序正在崩溃。我能够记录的例外是`Connection to http://192.16.154.10 is refused`，在第二行。

知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:59:21.913

来自 Android 文档

`android:noHistory`

> 当用户离开它并且它不再在屏幕上可见时，是否应该从 Activity 堆栈中删除该 Activity 并完成（调用它的 finish() 方法）

您无法从 B 向 A 进行调用，我猜它已从堆栈中删除？

但错误`Connection to http://192.16.154.10 is refused`不是因为`android:noHistory`.

你能解释一下你的问题吗？

# kendo-ui - SyntaxError：意外的令牌非法

> ID：15564083
> 
> 赞同：6
> 
> 时间：2013-03-22T06:27:33.040
> 
> 标签：kendo-ui, syntax-error

在我的项目中，我想显示弹出窗口，同时通过单击“按钮”清除剑道网格，但我得到了 `SyntaxError: Unexpected token ILLEGAL error occurred in browser debug`

这是我的代码：

```
function Filter() {
     $("#loading-msg").data("kendoWindow").center().open();
            $("form.k-filter-menu button[type='reset']").trigger("click");
    $("#loading-msg").data("kendoWindow").center().close();
} 
```

我哪里错了？为什么我收到此错误？

[我的小提琴。](http://jsfiddle.net/MG89G/394/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-29T09:32:45.000

而不是在发出过滤器后立即执行关闭。我的建议是关闭 DataSource requestEnd 事件的窗口。

即：清除过滤器：

```
function clearFiter() {
    $("#loading-msg").data("kendoWindow").center().open();
    $("#grid").data("kendoGrid").dataSource.filter([]);
} 
```

和数据源：

```
dataSource: {

    type: "odata",
    transport: {
        read: "http://demos.kendoui.com/service/Northwind.svc/Orders"
    },
    schema: {
        model: {
            fields: {
                OrderID: { type: "number" },
                Freight: { type: "number" },
                ShipName: { type: "string" },
                OrderDate: { type: "date" },
                ShipCity: { type: "string" }
            }
        }
    },
    pageSize: 10,
    serverPaging: true,
    serverFiltering: true,
    serverSorting: true,
    requestEnd : function () {
        $("#loading-msg").data("kendoWindow").close();
    }
}, 
```

您的代码在这里修改：http: [//jsfiddle.net/OnaBai/MG89G/595/](http://jsfiddle.net/OnaBai/MG89G/595/)

# c# - 列表框未出现在设备上

> ID：15564084
> 
> 赞同：0
> 
> 时间：2013-03-22T06:27:33.947
> 
> 标签：c#, silverlight, windows-phone-7, listbox

我正在为 windows phone 开发一个应用程序，我最近遇到了列表框的问题。这在我的模拟器上运行良好，但是当我在我的设备上部署时，它只显示空白。列表项是按要求创建的，但不会执行绑定，因为单击时每个项目都没有携带信息。与之相关的代码如下

XAML

```
<ListBox Name="NotesListBox" Grid.Row="0" Margin="15,0" >
            <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <toolkit:WrapPanel Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </ListBox.ItemsPanel>                
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Vertical">
                        <local:NotesTile Name="TileNotes" Tap="NotesTile_Tap_1" Margin="10,10"/>
                        <TextBlock Text="{Binding FileName}" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

后面的 C# 代码

```
 List<Notes> source = new List<Notes>()
            {
                new Notes(){ Content="This is some text", FileName="one.txt", IsPasswordProtected=true},
                new Notes(){ Content="Another text file", FileName="two.txt", IsPasswordProtected=false}
            };

            //this.DataContext = this;
            this.NotesListBox.ItemsSource = source; 
```

在同一个命名空间中，我得到的类为：

```
class Notes
{
    public string Content { get; set; }
    public string DateEdited { get; set; }
    public string TimeEdited { get; set; }
    public string FileName { get; set; }
    public bool IsPasswordProtected { get; set; }
} 
```

我在模拟器上运行良好，甚至在为 windows phone 8 制造的设备上运行良好。出于同样的原因，我的应用程序在市场上被拒绝了。

**编辑**

Binding 类应该始终是公共的。将课堂笔记设为公开将解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:44:18.180

try with setting `this.DataContext = this;` in the constructor of the xaml.cs before InitilizeComponent() and let us know if its work.

# java - 如何在加载父页面之前加载子页面？

> ID：15564085
> 
> 赞同：1
> 
> 时间：2013-03-22T06:27:34.087
> 
> 标签：java, javascript, jsp, struts2, tabs

我有一个父页面和该页面中的一些选项卡...每个选项卡将显示一个页面，也就是说，我在一个 jsp 页面中有大约 6 个页面....我的问题是当我加载主页时，部分首先加载主页，并且需要一些时间来加载选项卡中的页面......所以看起来很奇怪......我怎样才能避免这种情况......有没有办法在内部首先加载子页面然后显示父页面？或者有没有其他方法可以解决这个问题？......我已经包含了如下页面......下面的代码是创建标签......

```
<div id="tabs">
    <ul>
        <li id="planDetails-tab"><a id="hrefPlanDetailsid" accesskey="p" href="#divPlanDetailsTab" class="planTabHeader">&nbsp;Plan Details</a></li>
        <li id="testPlan-tab"><a id="hrefTestPlanid" accesskey="t" href="#divTestPlanTab" class="planTabHeader">&nbsp;&nbsp;Test Plan&nbsp;&nbsp;&nbsp;</a></li>                        
        <li id="serviceArea-tab"><a href="#divServiceAreaTab" accesskey="s" class="planTabHeader">Service Area</a></li>
        <li id="rates-tab"><a href="#divRatesTab" accesskey="r" class="planTabHeader">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rates&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></li>
        <li id="benefits-tab"><a href="#divBenefitsTab" accesskey="b" class="planTabHeader">&nbsp;&nbsp;&nbsp;&nbsp;Benefits&nbsp;&nbsp;&nbsp;</a></li>
        <li id="network-tab"><a href="#divNetworkEcpTab" accesskey="n" class="planTabHeader">Network ECP</a></li>
        <li id="historical-tab"><a href="#divHistoricalTab" accesskey="h" class="planTabHeader">&nbsp;&nbsp;Historical&nbsp;&nbsp;&nbsp;</a></li>
        <li id="directory-tab"><a href="#divDirectoryTab" accesskey="d" class="planTabHeader">&nbsp;&nbsp;&nbsp;Directory&nbsp;&nbsp;</a></li>
    </ul> 
```

下面的代码是关于我如何包含页面的......（我只提到了一页供参考）

```
<s:include value="PlanDetail.jsp" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:55:36.727

如果您使用 JSP 单页，那么您可以做的很少。因为一旦服务器渲染了整个 JSP，它就会将内容发送到浏览器，而浏览器将呈现它。所以我建议你使用 AJAX 来获取你的内容，并在你进入它们时动态地将它们放入选项卡中。

或者，您可以使您的子页面具有加载父页面（或页面导航器）的部分。这样延迟会更短，因为它也在服务器端编译。

# sugarcrm - SugarCRM 中的自动填充字段

> ID：15564091
> 
> 赞同：1
> 
> 时间：2013-03-22T06:27:52.160
> 
> 标签：sugarcrm

在报价模块（SugarCRM Pro）中，我创建了一个字段区域（下拉）。当我们在报价名称中选择计费帐户名称时，地址会自动填写。我希望该区域字段会自动填充，因为我在帐户模块中创建了相同的区域。我希望它会在获取所有地址时自动从帐户模块中获取区域。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T08:17:40.923

在该模块的editviewdefs中，在字段数组元素上，您需要添加以下内容：

'displayParams' => array('field_to_name_array' => array('FIELDFROMACCOUNTS' => 'FIELDTOPOPULATE', 'FIELDFROMACCOUNTS2' => 'FIELDTOPOPULATE2'),),

用您的字段替换所有大写单词，您应该准备好了。请记住，相关字段有一个用于 id 的隐藏字段，并确保您正确填充它。

干杯。

# java - 无法使用 SOLR 4.2 配置生成索引

> ID：15564092
> 
> 赞同：0
> 
> 时间：2013-03-22T06:27:56.900
> 
> 标签：java, tomcat, solr, tomcat7, solr4

我正在使用 Solr 3.3 和 Tomcat 7 设置生成员工详细信息索引。但是，我想尝试使用较新版本的 Solr 4.2。

我为此创建了新设置： `d:\apache-tomcat-7.0.19\solr_4_2\collection1\`

我有以下目录：

1.  `bin`
2.  在`conf`>> `solrconfig.xml`, `schema.xml`, `data-config.xml`, `scripts.conf`&`zoo.cfg`文件在那里。
3.  在`lib` >> `hsqldb-1.8.0.10.jar`, `solr-4.2.0.war`, `solr-dataimporthandler-4.2.0.jar`,`solr-dataimporthandler-extras-4.2.0.jar`文件在那里。

在`data-config.xml`下面的标签中。

```
<dataConfig>
<dataSource driver="org.hsqldb.jdbcDriver" url="jdbc:hsqldb://127.0.0.1;databaseName=EMP" user="sa" password="pass"/>
<document  name="EMPLOYEE">
   <entity name="COMMON" query="select type,title,name,empid from employee" > 
   <field column="type" name="type"/> 
   <field column="title" name="title"/> 
   <field column="name" name="name"/> 
   <field column="empid" name="empid"/> 
  </entity> 
</document>
</dataConfig> 
```

当我使用 dataimport 命令`http://localhost:8080/solr_4_2/dataimport?command=full-import`获取索引失败。以下是错误。

```
SEVERE: Exception while processing: EMPLOYEE document : SolrInputDocument[]:org.apache.solr.handler.dataimport.DataImportHandlerException: Unable to execute query: select type,title,name,empid from employee Processing Document # 1
        at org.apache.solr.handler.dataimport.DataImportHandlerException.wrapAndThrow(DataImportHandlerException.java:71)
        at org.apache.solr.handler.dataimport.JdbcDataSource$ResultSetIterator.<init>(JdbcDataSource.java:253)
        at org.apache.solr.handler.dataimport.JdbcDataSource.getData(JdbcDataSource.java:210)
        at org.apache.solr.handler.dataimport.JdbcDataSource.getData(JdbcDataSource.java:38)
        at org.apache.solr.handler.dataimport.SqlEntityProcessor.initQuery(SqlEntityProcessor.java:59)
        at org.apache.solr.handler.dataimport.SqlEntityProcessor.nextRow(SqlEntityProcessor.java:73)
        at org.apache.solr.handler.dataimport.EntityProcessorWrapper.nextRow(EntityProcessorWrapper.java:243)
        at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:465)
        at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:404)
        at org.apache.solr.handler.dataimport.DocBuilder.doFullDump(DocBuilder.java:319)
        at org.apache.solr.handler.dataimport.DocBuilder.execute(DocBuilder.java:227)
        at org.apache.solr.handler.dataimport.DataImporter.doFullImport(DataImporter.java:422)
        at org.apache.solr.handler.dataimport.DataImporter.runCmd(DataImporter.java:487)
        at org.apache.solr.handler.dataimport.DataImporter$1.run(DataImporter.java:468)
Caused by: java.sql.SQLException: **File input/output error //127.0.0.1.properties java.io.FileNotFoundException: \\127.0.0.1.properties.new** (The filename, directory name, or volume label syntax is incorrect)
        at org.hsqldb.jdbc.Util.sqlException(Unknown Source)
        at org.hsqldb.jdbc.jdbcConnection.<init>(Unknown Source)
        at org.hsqldb.jdbcDriver.getConnection(Unknown Source)
        at org.hsqldb.jdbcDriver.connect(Unknown Source)
        at org.apache.solr.handler.dataimport.JdbcDataSource$1.call(JdbcDataSource.java:161)
        at org.apache.solr.handler.dataimport.JdbcDataSource$1.call(JdbcDataSource.java:127)
        at org.apache.solr.handler.dataimport.JdbcDataSource.getConnection(JdbcDataSource.java:366)
        at org.apache.solr.handler.dataimport.JdbcDataSource.access$200(JdbcDataSource.java:38)
        at org.apache.solr.handler.dataimport.JdbcDataSource$ResultSetIterator.<init>(JdbcDataSource.java:240)
        ... 12 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T14:12:02.420

您的 URL 连接字符串在某种程度上不正确。您提供了一个网络地址，但它被解析为文件名。[仔细检查](http://hsqldb.org/doc/2.0/guide/dbproperties-chapt.html)基于服务器的连接的正确连接字符串。

# java - 查找最小值、最大值、偶数、赔率和平均值。爪哇

> ID：15564094
> 
> 赞同：-2
> 
> 时间：2013-03-22T06:27:59.410
> 
> 标签：java, average

正如标题所述，我试图找到最大值和最小值、偶数和奇数的数量以及所有输入数字的平均值。

问题。当我运行我的代码时，我的奇数和偶数计数器似乎读取它们的相反值，奇数会读取偶数输入，偶数会读取奇数输入。至于我的平均值，我不知道它有什么问题，我只知道它只会找到适当分数的平均值。

我的输出示例将粘贴在最后。

```
import java.util.Scanner;

public class Homework7APrinter
{
    public static void main (String[] args)
    { 
        System.out.println("Enter a sequence of integers. Any non-integer to quit");
        Scanner scan = new Scanner (System.in);
        int min = Integer.MAX_VALUE;
        int max = 0;
        int count = 0;
        int sum = 0;
        int oddsCounter = 0;
        int evensCounter = 0;
        int getInt = Integer.MIN_VALUE;
        double average = 0;
        boolean notnull = true;

        while(scan.hasNextInt())
        {
            if(true)
            {
                if (getInt%2==1)
                {
                    evensCounter++;
                    System.out.println("even: " + evensCounter);
                }
                else
                {
                    oddsCounter++;
                    System.out.println("odd: " + oddsCounter);
                }

                getInt = scan.nextInt();

                if(getInt < min)
                {
                    min = getInt;
                }
                else if(getInt > max)
                {
                    max = getInt;
                }
            }
            else
            {
                notnull = false;
            }

            sum += getInt;
            System.out.println("sum " +sum);
            count++;
            System.out.println("count " +count);
            average = sum/(count);
            System.out.println("average " +average);
        }

        System.out.println("smallest: " + min);
        System.out.println("largest: " + max);
        System.out.println("even: " + oddsCounter);
        System.out.println("odd: " + evensCounter);
        System.out.println("average: " + average);
    }
} 
```

结果：

```
Enter a sequence of integers. Any non-integer to quit
1 //first input
odd: 1
sum 1
count 1
average 1.0
2 //second input
even: 1
sum 3
count 2
average 1.0
3 //third input
odd: 2
sum 6
count 3
average 2.0
4 //fourth input
even: 2
sum 10
count 4
average 2.0
q //quit the scan
smallest: 1
largest: 4
even: 2
odd: 2
average: 2.0 //average of 1, 2, 3, 4 = sum/n = 10/4 = 2.5 not 2.0 
```

任何帮助，将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:32:26.827

`(getInt%2==1)`实际上是奇数校验，应该是`getInt%2==0`偶校验

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:46:28.283

你的程序有五个错误

1.  您打印不正确（ System.out.println("even: " + oddsCounter)）。偶数应该打印为偶数计数器

2.  您必须使总和也是双精度或浮点数，才能获得十进制格式的平均值。

3.  在进行奇偶测试之前，您必须阅读 getINT。

4.  偶数/奇数计算错误。它应该是 getInt%2==0

5.  在计算最小值和最大值时，您不应该使用 if/else。它应该是两个独立的 if

完整的工作程序如下。

```
package com.stackoverflow.test; 
```

导入 java.util.Scanner；

public class Homework7APrinter { public static void main(String[] args) { System.out .println("输入一个整数序列。任何非整数都可以退出"); 扫描仪扫描 = 新的扫描仪（System.in）；int min = Integer.MAX_VALUE; int max = Integer.MIN_VALUE; 整数计数 = 0；双倍总和 = 0; int 赔率计数器 = 0; int 偶数计数器 = 0; 诠释 getInt = 0; 双平均 = 0;

```
 while (scan.hasNextInt()) {

        getInt = scan.nextInt();
        if (getInt % 2 == 0) {
            evensCounter++;
            // System.out.println("even: " + evensCounter);
        } else {
            oddsCounter++;
            // System.out.println("odd: " + oddsCounter);
        }

        if (getInt < min) 
        {
            min = getInt;
        }

        if (getInt > max)
        {
            max = getInt;
        }

        sum += getInt;
        // System.out.println("sum " +sum);
        count++;
        // System.out.println("count " +count);
        average = sum / (count);
        // System.out.println("average " +average);
    }
    System.out.println("*****************");
    System.out.println("smallest: " + min);
    System.out.println("largest: " + max);
    System.out.println("even: " + evensCounter);
    System.out.println("odd: " + oddsCounter);
    System.out.println("average: " + average);
    System.out.println("sum: " + sum);
    System.out.println("count: " + count);
} 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:35:51.087

一些事情-

1.  移动 getInt = scan.nextInt(); 在 if(true) 条件之后立即
2.  对于平均数 - 平均数 = (double) sum / (count);
3.  对于偶数/奇数问题进行此更改 - if (getInt % 2 == 0)

所以这是你的代码，经过一些清理 -

```
 System.out.println("Enter a sequence of integers. Any non-integer to quit");
    Scanner scan = new Scanner(System.in);
    int min = Integer.MAX_VALUE;
    int max = 0;
    int count = 0;
    int sum = 0;
    int oddsCounter = 0;
    int evensCounter = 0;
    int getInt;
    double average = 0;

    while (scan.hasNextInt()) {

        getInt = scan.nextInt();
        if (getInt % 2 == 0) {
            evensCounter++;
            System.out.println("even: " + evensCounter);
        } else {
            oddsCounter++;
            System.out.println("odd: " + oddsCounter);
        }

        if (getInt < min) {
            min = getInt;
        } else if (getInt > max) {
            max = getInt;
        }

        sum += getInt;
        System.out.println("sum " + sum);
        count++;
        System.out.println("count " + count);
        average = (double) sum / (count);
        System.out.println("average " + average);
    }

    System.out.println("smallest: " + min);
    System.out.println("largest: " + max);
    System.out.println("even: " + oddsCounter);
    System.out.println("odd: " + evensCounter);
    System.out.println("average: " + average); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T06:37:02.823

这就是你要找的

```
 while(scan.hasNextInt())
        {

            getInt = scan.nextInt();
//            if(true)
//            {
                if (getInt%2==0)
                {
                    evensCounter++;
                    System.out.println("even: " + evensCounter);
                }
                else
                {
                    oddsCounter++;
                    System.out.println("odd: " + oddsCounter);
                }

                //getInt = scan.nextInt();

                if(getInt < min)
                {
                    min = getInt;
                }
                else if(getInt > max)
                {
                    max = getInt;
                }
//            }
//            else
//            {
//                notnull = false;
//            }

            sum += getInt;
            System.out.println("sum " +sum);
            count++;
            System.out.println("count " +count);
            average = (double)sum/(count);
            System.out.println("average " +average);
        } 
```

# matlab - 哪个适合视频处理应用程序 opencv 或 matlab？

> ID：15564096
> 
> 赞同：-1
> 
> 时间：2013-03-22T06:28:11.350
> 
> 标签：matlab, opencv

我正在研究多对象跟踪算法。哪个工具最适合开发我自己的算法 OpenCV 或 Matlab ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:45:58.377

Matlab is a faster way to develop algorithms and testing existing systems. However, when it comes down to producing a commercial and portable application you need open source libraries like openCV. Especially some heavy weight algorithms like object tracking can be quite slow in Matlab while openCV has optimized builtin methods and algorithms about your subject already

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:47:47.160

我使用 OpenCV 已经有一段时间了，我不得不说它是一个很棒的工具。新文档比旧文档要好得多，而且打开多个摄像机流的便利性也很棒。我没有使用 Matlab 的经验，所以偏见非常高。

OpenCV 可以与许多不同的语言一起使用（同样，我不了解 Matlab），包括 C、C++ 和 Python。我发现 Python 接口非常好，因为它们使用 Numpy 数组来处理数据。

这是一些学生编写的一些 Python 代码的简单示例，用于跟踪白色飞盘和矩形目标。 [https://github.com/Team3574/2013VisionCode](https://github.com/Team3574/2013VisionCode)

# ide - Rubymine：如何跳回来？

> ID：15564097
> 
> 赞同：10
> 
> 时间：2013-03-22T06:28:14.767
> 
> 标签：ide, rubymine

真的很棒 Rubymine 允许我们通过 Cmd+左键单击来跟踪定义方法的位置并跳转到源文件/位置。

我怀疑是否有返回的热键，这在打开大量文件/选项卡或查看长文件时很有帮助

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-22T10:19:30.280

有动作要回去，`Navigate`| `Back`：

![背部](../Images/1deda3ebb11c7dcff3a3423fa6b9499b.png)

热键将取决于您的键盘映射，并且可以在菜单中观察到。

# sql - SQL 将树转换为多维表

> ID：15564107
> 
> 赞同：0
> 
> 时间：2013-03-22T06:28:34.580
> 
> 标签：sql, sql-server, tsql

我有以下存储组织架构的数据库表方案。

```
OrganizationID   Uniqueidentifier 
ParentID         Uniqueidentifier
Name             String 
```

样本数据：

```
OrganizationID  Name    ParentID
     1            A 
     2            B        1
     3            C        2 
```

我期待有

```
Level1  Level2  Level3  Level4  Level5
   1      2       3       ...     ... 
```

如何在 T-SQL 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:11:53.180

这能让你得到你想要的吗？Sqlfiddle 在这里设置： [http ://sqlfiddle.com/#!3/9b107/2](http://sqlfiddle.com/#!3/9b107/2)

```
; WITH hierarchy_CTE
AS(
    SELECT OrganizationID, name, parentid, 1 AS Level
    FROM #t1 AS Employee
    WHERE OrganizationID = 4

    UNION ALL

    SELECT boss.OrganizationID, boss.Name, boss.ParentID, Level + 1
    FROM #t1 boss
    INNER JOIN hierarchy_CTE ON boss.OrganizationID = hierarchy_CTE.parentid
    WHERE boss.parentid <> 4 OR boss.parentid IS NULL
  )
, hierarchy2_CTE AS 
(SELECT cte.Level, cte.name
FROM hierarchy_CTE cte)

SELECT * FROM hierarchy2_CTE
PIVOT
(
    MAX(NAME)
    FOR Level IN ([1], [2], [3], [4])
) as pvt 
```

改编自 PinalDave 的文章：http: [//blog.sqlauthority.com/2012/04/24/sql-server-introduction-to-hierarchical-query-using-a-recursive-cte-a-primer/](http://blog.sqlauthority.com/2012/04/24/sql-server-introduction-to-hierarchical-query-using-a-recursive-cte-a-primer/)

这基本上根据给定的员工（在这种情况下，组织 ID 为 4）为您提供一行，并找到他们的命令链。

# ruby-on-rails-3 - 尝试连接熊猫时出错

> ID：15564108
> 
> 赞同：0
> 
> 时间：2013-03-22T06:28:37.723
> 
> 标签：ruby-on-rails-3

我正在按照熊猫指南将 Rails 应用程序集成到熊猫中，以便在我的应用程序中嵌入视频。

我已将 panda.yml 设置如下：

```
development:
   access_key: 805264cac2c2cbf61e69
   secret_key: 133aa3bbf1d8cdf56f13
   cloud_id: cloudbear 
```

我的 panda.rb 初始化文件有以下内容（我不想在 heroku 中托管这个应用程序）：

```
 Panda.configure((ENV['PANDASTREAM_URL'] ||
   YAML::load_file(File.join(File.dirname(__FILE__),"..",
  "panda.yml"))[Rails.env])) 
```

我的宝石文件：

```
 gem 'panda', '~> 1.5.0' 
```

当我尝试启动 rails 控制台时，我得到：

```
 /home/vasu/.rvm/gems/ruby-1.8.7-p371/gems/panda-1.5.0/lib/panda/panda.rb:12:in 
 `configure': missing auth params or block (ArgumentError) 
```

查看 panda 模块中的 configure 方法表明它需要 auth_params 或 block。

我的配置中似乎缺少什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T03:29:29.460

当我输入云 ID（而不是我上面所做的名称）时，我可以启动 rails 控制台并连接到 panda。干杯！

# php - PHP：特殊字符转换

> ID：15564111
> 
> 赞同：0
> 
> 时间：2013-03-22T06:28:46.540
> 
> 标签：php, character, special-characters

我有这个问题，我使用 Javascript Ajax 请求将一个特殊字符转换为 URL 作为参数，然后将其读取到 PHP。字符是“Ñ”。

在我的 javascript 中，我将参数设置为 escape('PiÑa') 并转换为“Pi%D1a”

当我在我的 php 中阅读它时，会出现一个带有问号的菱形。这是我的阅读方式。

```
 escape(message) // Message being the "Pi%D1a" 
```

就像我说的那样，当我将它保存到我的数据库 postgreSQL 时，会出现一个奇怪的字符，它会给出一个错误。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:46:56.367

`D1`是“Ñ”字符的 ISO-8859-1（“Latin-1”）编码形式。
“带问号的菱形” (�) 是 Unicode 替换字符。每当您看到一个，它表明浏览器/编辑器/whatever-is-interpreting-the-text 正在尝试将文本解释*为 Unicode*，并且遇到在假定的 Unicode 编码中无效的字符。

换句话说，该字符实际上是 Latin-1 编码的，但您告诉浏览器它（可能）是 UTF-8 编码的。您的编码不匹配。通过`Content-Type: text/html; charset=XXX`标头告诉浏览器正确的编码，或者在使用之前将字符从 Latin-1 转换为 UTF-8。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:38:34.817

你试过使用`urldecode($message)`吗？

`%D1`是 Ñ 的 URL 编码表示。

# java - UTF - 编码 java

> ID：15564119
> 
> 赞同：-2
> 
> 时间：2013-03-22T06:29:10.760
> 
> 标签：java, utf-8

我想在 JAVA 中对这个字符串“DÃ¼rrnerstrasse 1 Postfach 1463,D-8800 Ansbach”进行 utf-8 编码以避免特殊字符。

有人可以在这里分享代码吗？

```
String s = rs.getString("address");
byte [] b = s.getBytes("UTF-8");
String newString = new String(b,"UTF-8"); 
```

转换后还是一样

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:15:06.047

您的字符串已经是 UTF-8，但以 ISO-8859-1 编码：

```
 // D      ü      r    r    n    e    r    s    t    r    a   s    s    e
byte[] rawdata = {68, -61, -68, 114, 114, 110, 101, 114, 115, 116, 114, 97, 115, 115, 101};
                  // 0xC3, 0xBC = "ü" in UTF-8
String s = new String(rawdata, "ISO-8859-1");   // this is what your rs.getString() returns
System.out.println(s); 
```

结果是

```
DÃ¼rrnerstrasse 
```

如果要将字符串重新解释/重新编码`s`为 UTF-8，则需要使用正确的源编码检索字节数组，然后使用 UTF-8 目标编码重新创建字符串：

```
byte[] stream = s.getBytes("ISO-8859-1");
String s2 = new String(stream, "UTF-8");
System.out.println(s2); 
```

结果是

```
Dürrnerstrasse 
```

附带说明一下，假设它`rs`是 JDBC ResultSet，您还应该考虑正确配置数据库客户端/驱动程序 - 如果您的数据库已经使用 UTF-8，驱动程序应该能够返回正确编码的字符串，这样您就不需要在您的应用程序中重新编码它们。

# php - PHP / MySQL 使用 varchar 作为一种 id

> ID：15564124
> 
> 赞同：0
> 
> 时间：2013-03-22T06:29:39.813
> 
> 标签：php, mysql

我必须创建一个数据库，其中包含一些产品和一些 SKU 的一些信息，其中一部分是产品类型和子类型，总共有 60-70 个产品类型和每个产品类型 2-20 个子类型.

需要生成的 SKU 代码部分是 XXY 形式，其中 XX 是产品类型，Y 是它的子类型，对于类型部分，很容易添加一个唯一的 auto_increment 字段（因为它永远不会超过 99）但对于子类型部分，我需要按 1-9-AZ 之类的顺序同时使用数字和字母。

实现这一目标的最简单方法是什么？我有一些想法如何使用 javascript / json 来检查和检索 Y 字段，但我觉得必须有一种更简单的方法，只需使用 php/mysql 即可。

基本上我需要的是 php/mysql 为每个独特的产品类型生成一个从 1 到 Z 的单字符“id 子类型”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:44:00.547

恐怕您必须使用 Javascript 或 PHP（或您使用服务器端的任何东西）来生成此字符。没有内置的 SQL 函数可以做到这一点。对于您的单字符 id 子类型，您不应该使用`VARCHAR`BUT `CHAR(1)`。

`CHAR`具有固定长度，因此每个字符只占用 1 个字节。`VARCHAR`与`CHAR`+ 2 个字节相同来保存长度信息。

例子：

```
$characters = 'abcdefghijklmnopqrstuvwxyz0123456789'; 
$char = strtoupper($characters[rand(0, strlen($characters) - 1)]); 
```

# c++ - 数据结构向量的内存管理

> ID：15564126
> 
> 赞同：0
> 
> 时间：2013-03-22T06:29:42.750
> 
> 标签：c++, memory-management, std, stdvector

我有一个看起来像的数据结构

```
template < class T1, class T2 > struct sometype
{
std::vector < T1 > v1;
std::vector < T2 > v2;
T1 deriv[10];
}; 
```

我创建了一个数据结构向量

```
std::vector <sometype <T1, T2>> somevec; 
```

我怀疑我是否这样做

```
somevec.erase(somevec.begin(), somevec.end());
std::vector <sometype <T1, T2>>().swap (somevec); 
```

我可以回收记忆吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:35:17.570

你可以做得更好：

```
somevec.erase(somevec.begin(), somevec.end());
std::vector <sometype <T1, T2>>().swap (somevec); 
```

您需要做的就是：

```
std::vector <sometype<T1, T2>>().swap(somevec); 
```

这是因为您创建了一个空的临时文件。然后将空内容与`somevec`. 然后销毁临时文件并回收使用变量分配的内存（因为内存已交换到临时文件中）。

这被称为**“Shrink to Fit Idiom”**

# c# - 通过 c# 在 Ms 访问中插入日期/时间

> ID：15564137
> 
> 赞同：1
> 
> 时间：2013-03-22T06:30:26.020
> 
> 标签：c#, ms-access

```
Query

public static String qry7 = "insert into Attendance(E_ID,DATE,TIMEIN)        
values(@eid,@date,@timein)"; 
```

我正在尝试在 ms access 数据库中插入日期，该数据库的日期格式为（mm/dd/yyyy），而 timein in（24HR），我正在努力插入这些值，但它给了我插入语法错误。

```
command.Parameters.AddWithValue("@timein", DateTime.Now.ToString("HH:mm"));
command.Parameters.AddWithValue("@eid", E_ID);
command.Parameters.AddWithValue("@date",DateTime.Now.ToShortDateString()); 
```

我希望这能解决我的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T06:33:46.063

使用`[DATE]`，因为它的保留字

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:39:34.510

`DATE`是 MS Access 上的*[保留关键字](http://office.microsoft.com/en-us/access-help/access-2007-reserved-words-and-symbols-HA010030643.aspx)*。

您应该用括号 ( `[ ]`) 将其括起来。像;

```
public static String qry7 = "insert into Attendance(E_ID, [DATE], TIMEIN) VALUES (@eid,@date,@timein)"; 
```

# ruby-on-rails - Heroku Pushing My Rails app as Play

> ID：15564139
> 
> 赞同：1
> 
> 时间：2013-03-22T06:30:32.430
> 
> 标签：ruby-on-rails, heroku, playframework

我有一个名为 MBAToolbox 的 Rails 应用程序。当我进入目录并输入“play”时，我得到以下信息：

这不是一个游戏应用程序！

那挺好的！现在我输入 rails c 并进入 rails 命令行。显然这是一个 Rails 应用程序。但是当我输入“heroku create”并推送“git push heroku master”时，heroku 会尝试将其部署为“播放”应用程序？

我在他们的网站上看到 Heroku 声明：

> Heroku Play 框架支持将应用于匹配的应用程序：
> */conf/application.conf 在除 modules 目录之外的任何目录中，当确定使用 Play 时。

我没有那个。我的目录如下：

```
drwxr-xr-x  21 admin  staff   714 Mar 22 00:20 .
drwxr-xr-x  26 admin  staff   884 Mar 21 21:39 ..
-rw-r--r--@  1 admin  staff  6148 Mar 21 23:37 .DS_Store
-rw-r--r--   1 admin  staff   430 Mar 21 21:39 .gitignore
drwxr-xr-x  12 admin  staff   408 Mar 22 00:22 .idea
-rw-r--r--   1 admin  staff   935 Mar 21 22:38 Gemfile
-rw-r--r--   1 admin  staff  3884 Mar 21 22:38 Gemfile.lock
-rw-r--r--   1 admin  staff  9208 Mar 21 21:39 README.rdoc
-rw-r--r--   1 admin  staff   275 Mar 21 21:39 Rakefile
drwxr-xr-x   9 admin  staff   306 Mar 21 21:57 app
drwxr-xr-x  10 admin  staff   340 Mar 21 21:56 config
-rw-r--r--   1 admin  staff   160 Mar 21 21:39 config.ru
drwxr-xr-x   6 admin  staff   204 Mar 22 00:06 db
drwxr-xr-x   3 admin  staff   102 Mar 21 21:39 doc
drwxr-xr-x   5 admin  staff   170 Mar 21 21:48 lib
drwxr-xr-x   4 admin  staff   136 Mar 21 21:39 log
drwxr-xr-x   9 admin  staff   306 Mar 21 23:37 public
drwxr-xr-x   3 admin  staff   102 Mar 21 21:39 script
drwxr-xr-x   8 admin  staff   272 Mar 21 21:39 test
drwxr-xr-x   6 admin  staff   204 Mar 21 21:53 tmp
drwxr-xr-x   4 admin  staff   136 Mar 21 21:39 vendor 
```

想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:09:12.663

Heroku 开发网站上的[这篇文章涵盖了这两个方面。](https://devcenter.heroku.com/articles/buildpacks)它有一个指向 Play buildpack 实际源的指针，因此您可以阅读确定要使用哪个 buildpack 的代码。您也可以明确选择 Rails buildpack。

# jquery - jQuery 无法识别 :not(.className) 过滤

> ID：15564140
> 
> 赞同：0
> 
> 时间：2013-03-22T06:30:40.677
> 
> 标签：jquery, jquery-on

当我向元素动态添加类时，伪过滤无法识别该类。当我使用 on() 函数时会出现此问题，但是当我使用 live() 时一切都很好

[http://jsfiddle.net/AHyyq/1/](http://jsfiddle.net/AHyyq/1/)

一开始，所有列表项都是可点击的。但是在您按下按钮后，“Ipsum”不应再被点击，并且不应出现另一个“未激活”消息。

```
$('.item:not(.active)').on('click', function(){
   $('<p>Not active</p>').appendTo('body');
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:35:57.730

```
$('body').on('click', '.item:not(.active)', function(){
    $('<p>Not active</p>').appendTo('body');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:36:25.497

采用`$(document).on`

```
$(document).on('click','.item:not(.active)', function(){
   $('<p>Not active</p>').appendTo('body');
}); 
```

[**`DEMO`**](http://jsfiddle.net/AHyyq/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:51:01.787

这是正确的行为。您正在向非活动元素（所有 3 个 .item）添加事件。因此，如果您添加类，它不会取消绑定事件。

我会做这样的事情：

```
$('input[type=button]').click(function(){
    $('.item:nth-child(2)').addClass('active').css('color','#F00');
});

$('.item').on('click', function() {    
    if($(this).is('.active')) return;

    $('<p>Not active</p>').appendTo('body');
}); 
```

[http://jsfiddle.net/AHyyq/9/](http://jsfiddle.net/AHyyq/9/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-22T06:38:19.587

[看这里](http://api.jquery.com/on/)

```
 $(document).on('click','.item:not(.active)', function(){
   $('<p>Not active</p>').appendTo('body');
}); 
```

# android - java.lang.ClassCastException：android.support.v4.app.NoSaveStateFrameLayout 无法转换为 com.google.android.maps.MapView

> ID：15564141
> 
> 赞同：3
> 
> 时间：2013-03-22T06:30:46.607
> 
> 标签：android, google-maps, google-maps-api-2, google-maps-android-api-2

这是我的活动代码

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.map);
    GooglePlayServicesUtil.isGooglePlayServicesAvailable(getApplicationContext());
    mapView = (MapView) findViewById(R.id.map);

GoogleMap map = ((SupportMapFragment)  getSupportFragmentManager().findFragmentById(R.id.map))
        .getMap();
}

public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    return inflater.inflate(R.id.map, container, false);
} 
```

这是我的 LogCat

```
03-22 11:53:38.497: E/AndroidRuntime(436): FATAL EXCEPTION: main
03-22 11:53:38.497: E/AndroidRuntime(436): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.alltaskass/com.example.alltaskass.Map}: java.lang.ClassCastException: android.support.v4.app.NoSaveStateFrameLayout cannot be cast to com.google.android.maps.MapView
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1736)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1752)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.ActivityThread.access$1500(ActivityThread.java:123)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:993)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.os.Looper.loop(Looper.java:126)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.ActivityThread.main(ActivityThread.java:3997)
03-22 11:53:38.497: E/AndroidRuntime(436):  at java.lang.reflect.Method.invokeNative(Native Method)
03-22 11:53:38.497: E/AndroidRuntime(436):  at java.lang.reflect.Method.invoke(Method.java:491)
03-22 11:53:38.497: E/AndroidRuntime(436):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
03-22 11:53:38.497: E/AndroidRuntime(436):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
03-22 11:53:38.497: E/AndroidRuntime(436):  at dalvik.system.NativeStart.main(Native Method)
03-22 11:53:38.497: E/AndroidRuntime(436): Caused by: java.lang.ClassCastException: android.support.v4.app.NoSaveStateFrameLayout cannot be cast to com.google.android.maps.MapView
03-22 11:53:38.497: E/AndroidRuntime(436):  at com.example.alltaskass.Map.onCreate(Map.java:35)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1048)
03-22 11:53:38.497: E/AndroidRuntime(436):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1700)
03-22 11:53:38.497: E/AndroidRuntime(436):  ... 11 more 
```

我已经访问过[这个](https://stackoverflow.com/questions/9440606/mapview-inside-fragment-specified-child-already-has-a-parent)和[这个](https://stackoverflow.com/questions/13684330/issue-with-nosavestateframelayout)解决方案，但我仍然无法解决我的问题，请给我一些解决方案。谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T09:44:21.337

我无法理解您的代码：

1.  您首先尝试获得`MapView`：

    ```
    mapView = (MapView) findViewById(R.id.map); 
    ```

2.  然后你试图得到`SupportMapFragment`：

    ```
    GoogleMap map = ((SupportMapFragment)  getSupportFragmentManager().findFragmentById(R.id.map)).getMap(); 
    ```

来自相同的 UI 元素：`R.id.map`

While`MapView`是一个 Google Map`API V1`元素，并且`SupportMapFragment`来自`API V2`.

你在`R.layout.map`布局中使用什么？向我们展示它的代码。

如果你想使用 API V2，这里有一篇我写的关于如何在你的应用程序中集成地图的博文：

[谷歌地图 API V2](https://blog-emildesign.rhcloud.com/?p=435)

# java - Java 作为 HTTP 服务器 - 是否可以通过 POST 方法获取图像？

> ID：15564147
> 
> 赞同：0
> 
> 时间：2013-03-22T06:31:08.963
> 
> 标签：java, android, http

我想知道是否可以通过使用 Java 实现的 HTTP 服务器（使用简单的输入文件表单）通过 POST 方法获取图像。我已经实现了 Java 服务器，但我只能通过 POST 方法获取文本文件，这是因为我的应用程序只将文件内容复制到另一个空文件，创建具有相同特征的相同文件。这不适用于图像文件或其他文件，只能用于文本文件。

有人知道如何用图像实现它吗？一些坐标会很有帮助！提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:58:51.493

据我所知，您应该创建类似的东西：

服务器端：如果您使用在 post 中接收数据的 servlet，则必须从响应中获取 outputStream。一旦有了它，它就完成了，因为您将数据图像写入流中。例如，假设您的图像是存储在服务器中的文件，您可以这样做：

```
 response.setContentLength((int) fileSize);
    byte b[] = new byte[1024];

while ( fOutStream.read(b) != -1)
   response.getOutputStream().write(b);

   fOutStream.close() ; 
```

fOutStream 是源流（您的图像）。

# iphone - 从 5 月 1 日起会发生什么，因为 UDID 将不被允许？

> ID：15564148
> 
> 赞同：8
> 
> 时间：2013-03-22T06:31:17.420
> 
> 标签：iphone, ios, udid

大家好，从 2013 年 5 月 1 日起，使用 udid 的读取应用程序将不被接受。如果我是对的，我们必须使用 IOS 6 identifierForVendor 来获取唯一标识符。但是我们能否将最小部署目标设置为 4.3？如果设备仍在运行 IOS 4.3 或 5.0，我们如何满足 UDID，因为 identifierForVendor 仅在 IOS6 中可用？这是否意味着我们使用 mac 地址的哈希值作为唯一标识符？那会支持所有IOS版本吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-24T11:22:18.300

您可以使用 CFUUID 生成 UUID。您可以在第一次启动时将其存储在 KEYCHAIN 中……您可以像这样获得它……

```
NSString *uuid = nil;
CFUUIDRef theUUID = CFUUIDCreate(kCFAllocatorDefault);
if (theUUID) 
{
 uuid = NSMakeCollectable(CFUUIDCreateString(kCFAllocatorDefault, theUUID)); 
 [uuid autorelease];
CFRelease(theUUID);
} 
```

您可以使用此 ID 来识别应用程序。

# iphone - ios如何在uitableviewcell中显示多张图片

> ID：15564152
> 
> 赞同：-2
> 
> 时间：2013-03-22T06:31:26.253
> 
> 标签：iphone, ios, objective-c

iOS 如何在`UITableViewCell`. 中的第一个图像`UITableViewCell`应该是固定的（*即，不应该滚动视图*）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:38:45.500

```
// Customize the appearance of table view cells.
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    //static NSString *CellIdentifier = @"Cell";
    NSString *CellIdentifier = [NSString stringWithFormat:@"S%1dR%1d",indexPath.section,indexPath.row];

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {

        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;

        /// You need to create UIImageView and add it to cell.contentView such like 

      UIImageView *imgView1 = [UIImageview alloc] init];
      imgeView1.fram = CGRectMake(@"AS U WANT") // set specific fram as u want.
      [cell.contentView addSubview:imgView1];// add as it is.
      .
      .
      .
      Create it as you want and add as it is.
    }
    return cell;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:40:52.757

这是 UITableView 的主要代码

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier = @"cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];
    if(cell==nil){
        cell=[[[NSBundle mainBundle] loadNibNamed:@"CCell" owner:self options:nil] objectAtIndex:0];
        UIButton *imgV1=(UIButton*)[cell viewWithTag:1];
        UIButton *imgV2=(UIButton*)[cell viewWithTag:2];
        UIButton *imgV3=(UIButton*)[cell viewWithTag:3];
        [imgV1 addTarget:self action:@selector(btnTapped:) forControlEvents:UIControlEventTouchDown];
        [imgV2 addTarget:self action:@selector(btnTapped:) forControlEvents:UIControlEventTouchDown];
        [imgV3 addTarget:self action:@selector(btnTapped:) forControlEvents:UIControlEventTouchDown];
        HJManagedImageV *img1=[[HJManagedImageV alloc] initWithFrame:CGRectMake(0, 0, imgV1.frame.size.width, imgV1.frame.size.height)];
        HJManagedImageV *img2=[[HJManagedImageV alloc] initWithFrame:CGRectMake(0, 0, imgV2.frame.size.width, imgV2.frame.size.height)];
        HJManagedImageV *img3=[[HJManagedImageV alloc] initWithFrame:CGRectMake(0, 0, imgV3.frame.size.width, imgV3.frame.size.height)];
        img1.tag=img2.tag=img3.tag=10000;

        img1.backgroundColor=img2.backgroundColor=img3.backgroundColor=[UIColor clearColor];
        [imgV1 addSubview:img1];
        [imgV2 addSubview:img2];
        [imgV3 addSubview:img3];
    }

    int x=indexPath.row;
    x=x*3;

    UIButton *imgV1=(UIButton*)[cell viewWithTag:1];
    UIButton *imgV2=(UIButton*)[cell viewWithTag:2];
    UIButton *imgV3=(UIButton*)[cell viewWithTag:3];

    HJManagedImageV *img1=(HJManagedImageV*)[imgV1 viewWithTag:10000];
    HJManagedImageV *img2=(HJManagedImageV*)[imgV2 viewWithTag:10000];
    HJManagedImageV *img3=(HJManagedImageV*)[imgV3 viewWithTag:10000];

    [img1 clear];
    [img2 clear];
    [img3 clear];

    [imgV1 setTitle:[self.tableArray objectAtIndex:x] forState:UIControlStateDisabled];
    img1.url=[NSURL URLWithString:[self.tableArray objectAtIndex:x]];
    [img1 showLoadingWheel];
    [GlobalCacheManager manage:img1];

    if((x+1) &gt;= self.tableArray.count){
        imgV2.hidden=imgV3.hidden=YES;
        [imgV2 setBackgroundImage:nil forState:UIControlStateNormal];
        [imgV3 setBackgroundImage:nil forState:UIControlStateNormal];
    } else if( (x+2)&gt;=self.tableArray.count) {
        img2.url=[NSURL URLWithString:[self.tableArray objectAtIndex:x+1]];
        [img2 showLoadingWheel];
        [GlobalCacheManager manage:img2];
        imgV1.hidden=imgV2.hidden=YES;
        imgV3.hidden=YES;
        [imgV2 setTitle:[self.tableArray objectAtIndex:x+1] forState:UIControlStateDisabled];
        [imgV3 setBackgroundImage:nil forState:UIControlStateNormal];
    } else {
        [img2 showLoadingWheel];
        [img3 showLoadingWheel];
        img2.url=[NSURL URLWithString:[self.tableArray objectAtIndex:x+1]];
        [GlobalCacheManager manage:img2];
        img3.url=[NSURL URLWithString:[self.tableArray objectAtIndex:x+2]];
        [GlobalCacheManager manage:img3];
        imgV2.hidden=imgV3.hidden=NO;
        [imgV2 setTitle:[self.tableArray objectAtIndex:x+1] forState:UIControlStateDisabled];
        [imgV3 setTitle:[self.tableArray objectAtIndex:x+2] forState:UIControlStateDisabled];
    }

    return cell;
} 
```

[你可以在这里](http://www.mediafire.com/?878z5b5lb3i0k01)下载源代码表格。

# caching - servicestack - 使用 redis 缓存服务响应

> ID：15564153
> 
> 赞同：1
> 
> 时间：2013-03-22T06:31:28.433
> 
> 标签：caching, redis, servicestack

我有一个 servicestack 服务，当通过浏览器 (restful) Url ex: 调用它时`http://localhost:1616/myproducts`，它工作正常。服务方法启用了 RedisCaching。因此，它第一次访问数据存储库并将其缓存以供后续使用。

我的问题是当我尝试通过 Soap12ServiceClient 从 ac# 客户端调用它时。它返回以下错误：

```
Error in line 1 position 183\. Expecting element '<target response>' 
from namespace 'http://schemas.datacontract.org/2004/07/<target namespace>'.. 
Encountered 'Element'  with name 'base64Binary', 
namespace 'http://schemas.microsoft.com/2003/10/Serialization/'. 
```

以下是我的客户代码：

```
 var endpointURI = "http://mydevelopmentapi.serverhostingservices.com:1616/"; 
 using (IServiceClient client = new Soap12ServiceClient(endpointURI))
 {
    var request = new ProductRequest { Param1 = "xy23432"};
    client.Send<ProductResponse>(request);
 } 
```

似乎使用的soapwsdl给出了问题，但我似乎使用了servicestack生成的默认值。

任何帮助都感激不尽。

**更新**

通过更改服务端的缓存代码，我能够克服此错误：

**在客户端返回错误的代码：**

```
return RequestContext.ToOptimizedResultUsingCache(this.CacheClient, cacheKey,
       () =>
       new ProductResponse(){CreateDate = DateTime.UtcNow, 
                    products = new productRepository().Getproducts(request)
     }); 
```

**现在有效的代码：**

```
var result = this.CacheClient.Get<ProductResponse>(cacheKey);
            if (result == null)
            {
                this.CacheClient.Set<ProductResponse>(cacheKey, productResult); 
                result = productResult;
            }
return result; 
```

但是我仍然很想知道为什么第一个方法（RequestContext.ToOptimizedResultUsingCache）在c#客户端返回错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T20:59:24.957

**但是我仍然很想知道为什么第一个方法（RequestContext.ToOptimizedResultUsingCache）在c#客户端返回错误？**

据我所知，`ToOptimizedResultUsingCache`正在尝试基于（请参阅[此处](https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CacheAccess.Providers/CacheClientExtensions.cs#L35)和[此处](https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CacheAccess.Providers/CacheClientExtensions.cs#L154)`RequestContext's ResponseContentType`的代码）从缓存中提取特定格式（xml、html、json 等）。使用 Soap12ServiceClient 时，ResponseContentType 是 text/html（不确定这在 ServiceStack 中是否正确/有意）。所以从缓存中拉出的是一串html。html 字符串被返回给 Soap12ServiceClient 并导致异常。`ToOptimizedResultUsingCache`

通过直接从缓存中拉出，您绕过`ToOptimizedResultUsingCache's`“格式检查”并返回 Soap12ServiceClient 可以处理的内容。

** 如果您使用 Redis 并使用 UrnId.Create 方法创建密钥，您应该会看到类似 urn:ProductResponse:{yourkey}.html 的密钥

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-23T18:43:00.437

感谢您的回复 paaschpa。我重新访问了代码，并且能够修复它。既然你的回答给了我方向，我接受了你的回答。下面是我的修复。

我将**返回**语句从 RequestContext 移到了响应 DTO。

**通过 c# 客户端使用时引发错误的代码（代码返回整个请求上下文）：**

```
return RequestContext.ToOptimizedResultUsingCache(this.CacheClient, cacheKey,
       () =>
       new ProductResponse(){CreateDate = DateTime.UtcNow, 
                    products = new productRepository().Getproducts(request)
     }); 
```

**固定代码（返回移动到响应 DTO）：**

```
RequestContext.ToOptimizedResultUsingCache(this.CacheClient, cacheKey,
       () => {
               return new ProductResponse(){CreateDate = DateTime.UtcNow, 
               products = new productRepository().Getproducts(request)
              }
     }); 
```

# ios - 带有推送通知的应用提交到应用商店

> ID：15564160
> 
> 赞同：1
> 
> 时间：2013-03-22T06:31:56.933
> 
> 标签：ios, xcode, app-store, push-notification, provisioning-profile

我想提交使用推送通知的应用程序。现在我在配置门户中有一个应用程序 ID，它为 PRODUCTION 启用了推送通知，但没有为 DEVELOPMENT 启用推送通知。我是否必须为开发以及提交到应用商店启用推送通知？此外，应用商店的配置文件将以通常的方式创建，还是涉及到不同的东西？

提前致谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T06:33:25.643

不，您不必启用 Push for Development 才能在商店中提交，只需启用 Production 即可。但请确保您已使用相同的应用程序 ID 创建您的分发配置文件，并提交到商店。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T19:29:35.153

@iphonic 是正确的，您仅将开发证书用于开发，而将生产用于 Ad-Hoc 或 App Store 提交。

# asp.net-mvc - 在 MVC 视图/部分类中显示日期字段的时间时出现问题。

> ID：15564161
> 
> 赞同：1
> 
> 时间：2013-03-22T06:31:57.540
> 
> 标签：asp.net-mvc, asp.net-mvc-3, date-formatting

我正在开发一个 MVC 应用程序。我正在尝试在视图中显示日期时间。

我在实体的部分类中编写了以下代码。

```
 [DisplayFormat(DataFormatString = "{0:dd MMM yyyy hh:mm tt} ")]
   public System.DateTime CommentDateTime { get; set; } 
```

但它不起作用....只有日期显示为

> 2013 年 3 月 11 日

我很感兴趣

> 2013 年 3 月 11 日下午 1:40

这个怎么做 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:36:19.930

您使用什么控件来显示带注释的 DateTime？

`[DisplayFormat]`仅在使用[EditorFor](http://msdn.microsoft.com/en-us/library/ee402949%28v=vs.108%29.aspx)或[DisplayFor](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.displayextensions.displayfor%28v=vs.98%29.aspx)控件时使用。如果您在普通或类似设备上使用它，`TextBox`那么您需要找到其他解决方案。

# windows-phone-7 - 如何在 Windows Phone 应用程序的列表框中更改一个特定列表框项的背景颜色？

> ID：15564163
> 
> 赞同：1
> 
> 时间：2013-03-22T06:32:07.060
> 
> 标签：windows-phone-7, windows-phone-8, windows-phone-7.1, windows-phone-7.1.1

我正在开发一个 Windows 手机应用程序。

我有一个列表框，根据一个特定条件，我只想更改一个列表框项背景颜色。

请注意：- 我只想根据某些特定条件更改某些列表框项的背景颜色。

请让我知道如何实现这一目标？

有哪些不同的选择？？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:04:26.877

当您将项目来源绑定到列表框时，添加一个名为背景颜色的属性并根据条件设置此背景颜色。

```
string background;
if(condition)
background="Red"; //Color you wish to set
List<ItemSet> source=new List<ItemSet>();

source.Add( new ItemSet(){ Background=background, OtherProperty=properties }); 
```

在 XAML 中，您为列表项设置 Background={Binding Background}。

如果您有任何问题，请告诉我。

# c# - Android中的特殊文件夹

> ID：15564165
> 
> 赞同：3
> 
> 时间：2013-03-22T06:32:10.793
> 
> 标签：c#, android, special-folders

谁能说出 C# 的等价物是什么

```
Environment.GetFolderPath (Environment.SpecialFolder.Personal) 
```

在安卓？

我使用 monodevelop 进行 android 开发。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:48:21.957

您通常不需要它，因为在没有路径的情况下创建/读取文件等使用此目录：

```
public String getApplicationDataDirectory() throws Exception 
{
    return getApplicationContext().getPackageManager().getPackageInfo(getPackageName(), 0).applicationInfo.dataDir;
} 
```

# php - $_SERVER["HTTP_ACCEPT_ENCODING"] 未由 nginx 设置

> ID：15564177
> 
> 赞同：0
> 
> 时间：2013-03-22T06:32:49.213
> 
> 标签：php, apache, nginx, centos

我已经安装`nginx`在我的服务器上。现在我没有得到`$_SERVER["HTTP_ACCEPT_ENCODING"]`在 Apache 中工作的变量。

如何得到这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:34:55.443

终于通过编辑 /etc/nginx/proxy.inc 找到了解决方案

proxy_set_header 接受编码“”

到

proxy_set_header 接受编码 $http_accept_encoding

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:31:41.053

当您使用 NGINX 运行 PHP-FPM 时，php 将以完全不同的方式看到 $_SERVER 变量（这是因为默认将服务器参数传递给 nginx 中的 fcgi 脚本）。

以下是 php 在以 php-fpm 运行时如何看到 $_SERVER 变量： Code: Array ( [USER] => nobody [HOME] => / [FCGI_ROLE] => RESPONDER [SCRIPT_FILENAME] => /usr/local/www /www.example.com/public_html/example/index.php [Content-Type] => multipart/form-data [QUERY_STRING] => upload=true [REQUEST_METHOD] => POST [CONTENT_LENGTH] => 40403 [SCRIPT_NAME] = > /example/index.php [REQUEST_URI] => /site/index.php?upload=true [DOCUMENT_URI] => /example/index.php [DOCUMENT_ROOT] => /usr/local/www/www.example.com /public_html [SERVER_PROTOCOL] => HTTP/1.1 [GATEWAY_INTERFACE] => CGI/1.1 [SERVER_SOFTWARE] => nginx/0.7.65 [REMOTE_ADDR] => 193.110.48.4 [REMOTE_PORT] => 9971 [SERVER_ADDR] => 192.168.1.10 [SERVER_PORT] => 80 [SERVER_NAME] => www.example.com [REDIRECT_STATUS] => 200 [HTTP_HOST] =>www.example.com [HTTP_ORIGIN] =>[http://www.example.com](http://www.example.com) [HTTP_X_FILE_SIZE] => 40403 [HTTP_X_REQUESTED_WITH] => XMLHttpRequest [HTTP_CACHE_CONTROL] => max-age=0 [HTTP_IF_MODIFIED_SINCE] => 1997 年 7 月 26 日星期一 05:00:00 GMT [HTTP_CONTENT_LENGTH] => 40403 [HTTP_X_FILE_NAME] => nokia-6300-yahoo.jpg [HTTP_USER_AGENT] => Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_8; en-us) AppleWebKit/533.17.8 (KHTML, like Gecko) 版本/5.0.1 Safari/533.17.8 [HTTP_CONTENT_TYPE] => multipart/form-data [HTTP_REFERER] => [http://www.example.com/example/index.php](http://www.example.com/example/index.php) [HTTP_ACCEPT] => */* [HTTP_ACCEPT_LANGUAGE] => en-us [HTTP_ACCEPT_ENCODING] => gzip, deflate [HTTP_CONNECTION] => keep-alive [PHP_SELF] => /example/index.php [REQUEST_TIME] => 1282822862 )

注意 HTTP_CONTENT_TYPE、HTTP_X_FILE_SIZE、HTTP_X_FILE_NAME 和**其他 HTTP_* 变量。**

这是一个简单的 php 函数，可以将这些标头值调整为类似 apache 的值。

```
 function getallheaders() {
    $replace_array = array('CONTENT_TYPE' => 'Content-Type',
                    'CONTENT_LENGTH' => 'Content-Length',
                    'X_FILE_SIZE' => 'X-File-Size',
                    'X_FILE_NAME' => 'X-File-Name');
    foreach($_SERVER as $h=>$v) {
        $h = str_replace("HTTP_", "", $h);
        $h = $replace_array[$h];
        $headers[$h] = $v;
    }
    return $headers; 
```

}

# flash - 如何在 Internet Explorer 9 中的 Flash 对象上显示 div

> ID：15564180
> 
> 赞同：1
> 
> 时间：2013-03-22T06:33:11.563
> 
> 标签：flash, html, internet-explorer-9, z-index

我的 div 隐藏在 Internet Explorer 9 中的 flash 对象（swf）后面，我尝试使用**wmode=transparent**或**wmode=opaque**或**直接**使用 param tag 和 embed tag both 。我对 div 使用 position->absolute 和 z-index->​​100000。但问题仍然存在。

# git - Exec not returning anything when trying to run git shortlog with nodejs

> ID：15564185
> 
> 赞同：4
> 
> 时间：2013-03-22T06:33:38.380
> 
> 标签：git, node.js, exec

I'm trying to get the result of `git shortlog` on a repository with nodejs this way:

```
var exec = require('child_process').exec;
exec("cd /tmp/"+folder +" && git shortlog", {maxBuffer: 500*1024}, function(error, stdout, stderror){
    console.log(arguments);
}); 
```

My callback is never called with this method, the program appears processing something indefinitely.

When I launch this command in my prompt I've the results.

Trying to redirect the result to a file create an empty file :

```
"cd /tmp/"+folder +" && git shortlog > stats.txt" 
```

But if I use `git log` instead I've got my results.

Do you know why my callback is never called with `git shortlog` ?

Edit : I've the same result using spawn :

```
exec("cd /tmp/"+folder, function(err){
    if(err){
        throw err;
    }

    var shortlog = spawn('git', ['shortlog']);
    shortlog.stdout.on('data', function (data) {
        console.log('stdout: ' + data);
    });

    shortlog.stderr.on('data', function (data) {
        console.log('stderr: ' + data);
    });

    shortlog.on('close', function (code) {
        console.log('child process exited with code ' + code);
    });
}); 
```

Edit 2 : process.chdir() doesn't change anything :

```
process.chdir('/tmp/'+folder);
var shortlog = spawn('git', ['shortlog']);
shortlog.stdout.on('data', function (data) {
        console.log('stdout: ' + data);
}); 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-22T08:45:53.630

`git shortlog` thinks that it has to read something from stdin, hence the indefinite wait. Try this:

```
exec('git shortlog < /dev/tty', { cwd : "/tmp/" + folder }, function(err, stdout, stderr) {
  console.log(arguments);
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-02-08T11:42:43.793

Since @robertklep 's answer is correct, I'm afraid it's not complete as well. On *nix systems, yes, you can use it with `/dev/tty` but on Windows this will throw an error like

> The system cannot find the path specified.

To solve this problem on Windows, you can simply do this:

```
var exec = require('child_process').exec;
var tty = process.platform === 'win32' ? 'CON' : '/dev/tty';

exec('git shortlog < ' + tty, { cwd : '/tmp/' + folder }, function(error, stdout, stderr) {
  console.log(arguments);
}); 
```

# java - 在弹出窗口中显示 html

> ID：15564186
> 
> 赞同：0
> 
> 时间：2013-03-22T06:33:38.507
> 
> 标签：java, android, popup

我们所做的是定义 a`webview`并使`html`文件显示在其中。是否可以`html`在 android 的默认弹出窗口中在同一屏幕上显示文件？我已将文件存储在`html`文件`assets/www`夹中。请让我知道这件事

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:43:20.107

It is possible to display a `WebView` or any other UI in a default Android `Dialog`. But, it is better and easier for you to make your own custom `Dialog` class and display the `WebView` in that. You can also make it an `Activity` and use the Dialog theme to make the `Activity` look and behave like a `Dialog`.

You are correct to put your .html file in the "assets" folder. That is what I do.

Load the `WebView` like this:

```
private final static String url = "file:///android_asset/file.html";
webview.loadUrl(baseUrl); 
```

# ios - 推送通知行为异常

> ID：15564187
> 
> 赞同：1
> 
> 时间：2013-03-22T06:33:44.187
> 
> 标签：ios, push-notification

在我的应用程序中，我正在`APNS`使用此代码注册设备

```
[[UIApplication sharedApplication]registerForRemoteNotificationTypes: (UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeBadge )]; 
```

它将提示带有两个选项`Don't Allow`和的警报`Ok`。

我只想知道何时`didRegisterForRemoteNotificationsWithDeviceToken`在应用程序中调用方法。

我的问题是`didRegisterForRemoteNotificationsWithDeviceToken`在用户选择任何选项`Don't Allow`和`Ok`推送通知之前调用此方法。

谢谢。

# xsl-fo - fop 两列，将外部图形定位在顶部（XSL-FO）

> ID：15564191
> 
> 赞同：1
> 
> 时间：2013-03-22T06:34:02.257
> 
> 标签：xsl-fo, apache-fop

我想将图像放在页面顶部，例如我在不同的地方有 3 到 4 张图像。我想将它放在页面顶部（跨越所有宽度）而不是进入中间，即使包含的文本在中间结束。fop可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-26T12:27:15.090

是的，这是可能的，但你必须更具体地说明你真正想要什么。并提供到目前为止您尝试过的代码示例。

# excel - MS Dynamics CRM 2011 输出到 Excel

> ID：15564193
> 
> 赞同：1
> 
> 时间：2013-03-22T06:34:11.100
> 
> 标签：excel, workflow, dynamics-crm-2011

我希望能够从 Dynamics 中运行一个工作流，它将“邮件合并”到 excel 中并将结果附加到电子邮件中。像 automerge 的 excel 版本之类的东西会很棒。

我们已经设置了需要将数据推送到的模板，以便发送给各个公司进行工程师预订。

有什么想法最简单的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T18:19:28.847

您可以通过导出数据快速完成此操作（功能区上有一个按钮）。但是，如果您设计一个函数来生成包含您需要的内容的 CSV 文件，那就更好了。最佳设计取决于您的任务的确切要求。

# list - Scala 根据字符串中的数字排序

> ID：15564199
> 
> 赞同：0
> 
> 时间：2013-03-22T06:34:35.097
> 
> 标签：list, scala, sorting

我有一个文件，其中包含以下类型的行：

```
A 2.3 B 5.6
A 5.4 B 3.5
A 5.6 B 3.4 
```

我想读取文件并根据第二列 2.3、5.4、5.6 对其进行排序，并将排序扩展到所有列，因此输出应为：

```
A 5.6 B 3.4
A 5.4 B 3.5
A 2.3 B 5.6 
```

我正在考虑将文件作为列表读取，然后进行匹配以获取第二列，然后进行排序。有没有更好的办法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T06:39:15.757

您有正确的想法，但请注意，有一个命令行实用程序可以为您执行此操作：

```
$ sort -k2 -n -r
A 2.3 B 5.6
A 5.4 B 3.5
A 5.6 B 3.4
^D
A 5.6 B 3.4
A 5.4 B 3.5
A 2.3 B 5.6 
```

如果您真的想在 scala 中执行此操作，则需要将其读入内存，然后 sortWith 一个比较器，该比较器查看每行中的第二个字段。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-22T06:39:05.843

你可能想要类似的东西

```
val src = scala.io.Source.fromFile("filename")
val lines = src.getLines.toSeq.sortBy(line => -line.split(' ').apply(1).toDouble)
src.close 
```

（负数是最大优先排序；默认是最小优先）。

# android - 如何从android中的扩展应用程序退出

> ID：15564200
> 
> 赞同：1
> 
> 时间：2013-03-22T06:34:43.113
> 
> 标签：android

我在android项目中扩展了Application类。我必须在扩展应用程序的 OnCreate() 中进行一些初始化和检查。我想根据支票退出。但我不知道如何退出应用程序。请帮我

```
public class HAT extends Application {
   @Override
   public void onCreate() {
       // if( condition is false ) then exit
   } 
```

在一个活动中，我们可以使用 finish() 方法退出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:51:53.067

你可以退出虚拟机：

```
System.exit(0); 
```

或者你可以让你的应用程序崩溃：

```
new int[]{}[0]; 
```

或者你可以杀死你自己的进程：

```
Process.killProcess(Process.myPid()) 
```

但是，我真的不明白您为什么要这样做，而且几乎可以肯定有更好的方法来获得您所追求的功能。

# sql - 如何正确选择？（第2部分）

> ID：15564203
> 
> 赞同：0
> 
> 时间：2013-03-22T06:35:01.227
> 
> 标签：sql, sql-server, sql-server-2008

**我有疑问：**

```
;
WITH ranked AS (
  SELECT
    p.id_price as p_id_price, 
    p.id_service as p_id_service, 
    p.name as p_name, 
    p.name_original as p_name_original, 
    p.id_producer_country as p_id_producer_country, 
    p.id_firm as p_id_firm, 
    f.name as f_name, 
    f.address as f_address, 
    f.phone as f_phone, 
    city.name as city_name, 
    pc.name as pc_name,
    ROW_NUMBER() OVER (
      PARTITION BY p.id_firm
      ORDER BY
        CASE  -- this criterion puts matching products before non-matching ones
          WHEN p.name like '%test%' COLLATE SQL_Latin1_General_Cp1251_CI_AS
          THEN 1 ELSE 2
        END,
        p.id_price  -- you may use any sorting criteria at this point,
                    -- just ensure it makes the results predictable
    ) AS rnk
  FROM Price p 
  left join Firm f 
    on f.id_service=p.id_service 
    AND f.id_city=p.id_city 
    AND f.id_firm=p.id_firm 
  left join City city 
    on city.id_city = p.id_city 
  left join Producer_country pc 
    on pc.id_producer_country = p.id_producer_country 
  WHERE p.id_city='73041' 
    AND p.include='1' 
    AND p.blocked='0' 
    AND f.blocked='0' 
    AND ( f.name like '%test%' COLLATE SQL_Latin1_General_Cp1251_CI_AS
       OR p.name like '%test%' COLLATE SQL_Latin1_General_Cp1251_CI_AS )
)
SELECT p.name
FROM ranked
WHERE rnk = 1
; 
```

在**[此页面](https://stackoverflow.com/questions/15563567/how-make-right-select/)**中，用户提供帮助并提出了几个可能的答案。

但在这种情况下，我们有一个非常大且复杂的查询。

请告诉我如何修改这个查询，首先我在有 $（在 $ 符号之后的序列上）时得到公司的结果，然后我得到其他公司的结果（按名称 asc 排序）？

真的还是假的？

**[结构表在这里](http://sqlfiddle.com/#!3/c4802/2)**

**需要得到结果：** 首先需要得到 p.name 和公司（f.name）当有**$**时（按优先级顺序，例如命名公司 $1，命名公司 $2，命名公司 $3，...），然后需要得到结果与其他公司（按 p.name 排序）

# javascript - JavaScript 作为内联块去间距的强大 hack

> ID：15564210
> 
> 赞同：1
> 
> 时间：2013-03-22T06:35:36.977
> 
> 标签：javascript, html, css

我热衷于将其`inline-block`广泛用作流畅、响应式设计的一部分，而不是大量使用`float: left`clearfix hack。直到 HTML5/CSS3 提供了一种忽略空格的方法，并且每个人都升级到支持这个新功能的浏览器（也就是说，如果我们幸运的话可能五年），制作这种布局总是会出现问题。

有很多技巧可以用来避免浏览器在行内块之间渲染空间的问题：编写没有空格的代码、注释掉空格、一些可怕的字体大小技巧等，但这些技巧对我来说都不是很好。我正在考虑而不是在`body`标签的最底部添加一些内联 JavaScript：

`document.getElementById('base').innerHTML = document.getElementById('base').innerHTML.replace(/\x3e\s+\x3c/g, '\x3e\x3c');`

本质上是“编写没有空格的代码”实现的事后实现。我已经在一系列浏览器上对其进行了测试，他们似乎都很满意——我的问题是：是否有一些我没有看到的严重隐患？

我在这里创建了一个演示：http: [//jsfiddle.net/edwardc/wdz5t/](http://jsfiddle.net/edwardc/wdz5t/)

显然，有时我真的想要空间——我可以轻松处理这些。并且可能存在 JavaScript 绑定脱落的问题——我很确定我的所有 jQuery 绑定总是会在正文底部的脚本运行后附加，即使有问题，`.on()`也应该提供一个简单的修复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:38:40.777

您在帖子中提到的纯 HTML/CSS 方法可以正常工作，而无需您网站的用户启用脚本。

这是[这篇 CSS-tricks 文章中的一个](http://css-tricks.com/fighting-the-space-between-inline-block-elements/)[CodePen 示例](http://codepen.io/chriscoyier/pen/hmlqF)，它显示了所有在实际操作中对您*感觉*不佳的方法。

 *从外观上看，您的 JavaScript 是一个足够好的解决方案（前提是您不想支持 IE7），但您可能还希望应用上述一些方法作为后备。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T10:00:51.380

关于您的问题，您正在尝试的内容没有任何真正的缺点，除了您的页面需要更长的时间来呈现 - 因为页面已经开始被评估 - 再加上它取决于速度和JavaScript 的存在。您可以做的一件事是避免重复操作，即使用`nosript`.

```
<body>
<noscript id="base">
  <!-- rest of your content goes here //-->
</noscript>
<script>
  document.write(
    String(document.getElementById('base').innerHTML)
      /// IE annoyingly entity encodes noscript content, so reverse
      .replace(/&gt;/gi,'>')
      .replace(/&lt;/gi,'<')
      /// deploy your space removal however you like
      .replace(/\x3e\s+\x3c/g, '\x3e\x3c')
  );
</script>
</body> 
```

以上意味着非 js 浏览器只会渲染页面，而启用 js 的浏览器在执行`document.write`.

但是，我不能推荐以上内容，或者`display: inline-block`用于您正在尝试做的事情......

基本上是因为我发现使用浮点数不是什么大问题——这可能是因为我确实发现浏览器呈现意外的空白有点烦人——对我来说，而不是任何这些诡计，它更容易、更稳定和支持下列的：

```
<ul class="overflow-fix">
  <li>One</li>
  <li>Two</li>
  <li>Three</li>
</ul> 
```

CSS在哪里：

```
.overflow-fix {
  overflow: hidden;
}

li {
  float: left;
} 
```

在我多年的 Web 开发中，我只遇到过一种情况，我需要从浮动中溢出内容……只有在那种情况下，我才需要使用相当尴尬的“清除修复”。我似乎也避免了将任何内联内容居中的需要，但这可能只是运气。

+1 给詹姆斯·唐纳利——因为他确实给出了与`inline-block`. 然而，对我来说，感觉任何导致你弄乱标记布局的东西，都应该避免，直到它是最后的手段。*

# java - 来自字符串迭代器的 Java Null 指针异常

> ID：15564211
> 
> 赞同：0
> 
> 时间：2013-03-22T06:35:43.770
> 
> 标签：java, nullpointerexception

嗨，我在 g.getid(id1) 行上遇到空指针异常，我不知道如何修复它。

```
Iterator<String> it1 = players1.iterator();
Iterator<String> it2 = players2.iterator();
while (it1.hasNext()&&it2.hasNext()) {
    String id1 = it1.next();
    g.getID(id1); //NULL point exception?  :(

    //g.getId finds the player with the unique ID.
    String id2 = it2.next();
    g.getID(id2); //NULL referance exception? :(
} 
```

我的目标是从构成 player1 和 player2 迭代器的列表中获取字符串，并且引用在 g.getId(id1); 中。和 g.getId(id2); 当它通过循环时，每个 ID 都是不同的。

g 是游戏类的引用。

受保护的游戏g；在游戏类中，getId 的方法如下 T getID(String id);

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:38:28.997

看起来很可能`g == null`- 您是否尝试过使用调试器？或者也许就`System.out.println(g)`在循环之前？

**编辑**：查看您编辑的内容，g 绝对是空的。简单地编写`protected Game g`只会创建一个“游戏形”变量，如果你把一个游戏实例放在那里，它*可能会打洞。*在你这样做之前，那里只会有一个空值：

```
g = new Game();    // potentially, Game() takes some arguments too. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:45:17.053

然后需要更多信息，添加您的完整代码，或者可以尝试

游戏 g = 新游戏（）；

# javascript - 在ajax中获得给定的经纬度

> ID：15564214
> 
> 赞同：0
> 
> 时间：2013-03-22T06:35:59.447
> 
> 标签：javascript, jquery, ajax

我很难使用 ajax 或 javascript 找到纬度、经度和半径内的位置，我使用 ajax 代码找到了这个但出现错误，我的代码是：

```
 $.ajax({ url: 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?',
      data: {
        location:'-33.8670522,151.1957362',
        radius:500,
       sensor:false,
      key:'AIzaSyAImBQiqvaXOQtqeK8VC-9I96kMmB6Mz7I'},
     dataType: "json",
     type: "GET", //or POST if you want => update your php in that case
      success: function( data ) {
     for(var i in data.results){
       alert(data.results[i]);
     }
    },
    error: function (request, status, error) {
     alert("error");
    //handle errors
   }
    }); 
```

它得到结果错误，请帮我找到这个

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:45:10.620

尝试以下代码从附近的位置获取位置

```
function initialize(arg)
    {        

        directionsDisplay = new google.maps.DirectionsRenderer();
        mapmarker="img/pois/"+arg+".png";
        geocoder = new google.maps.Geocoder();

        var location = new google.maps.LatLng(11.21989,78.16811099999995);
          map = new google.maps.Map(document.getElementById('googleMap'), {
              mapTypeId: google.maps.MapTypeId.ROADMAP,
              center: location,
              zoom: 15
            });

          directionsDisplay.setMap(map);

          var request = {
            location: location,
            radius: '5000',
            types: [arg]
          };
          infowindow = new google.maps.InfoWindow();
          var service = new google.maps.places.PlacesService(map);
          service.nearbySearch(request, callback);

    }

    //google.maps.event.addDomListener(window, 'load', initialize);
    function callback(results, status) 
    {
          if (status == google.maps.places.PlacesServiceStatus.OK)
          {
        for (var i = 0; i < results.length; i++)
        {
          var place = results[i];
          createMarker(results[i]);

        }
          }
    } 
```

# red5 - RED5 Publisher 演示错误

> ID：15564217
> 
> 赞同：1
> 
> 时间：2013-03-22T06:36:04.177
> 
> 标签：red5, flashmedialiveencoder

尝试运行通过 flash 媒体编码器编码的 rtmp 流时，RED5 的发布者演示中的日志给出以下消息，并且视频不起作用。这里有什么问题？

12:03:35:421 - 使用 Google Pepper Flash Player 11,6,602,180 12:03:41:827 - 连接到 rtmp://localhost/oflaDemo 12:03:43:870 - 异步代码错误 - ReferenceError：错误 #1069 12:03:43:870 - NetConnection.Connect.Success 12:03:43:173 - 异步代码错误 - ReferenceError：错误 #1069 12:03:43:312 - 异步代码错误 - ReferenceError：错误 #1069 12:03 :43:335 - 异步代码错误 - ArgumentError: 错误 #1063

# sql - mssql server 2008 的分页查询在“OFFSET”附近抛出不正确的语法

> ID：15564219
> 
> 赞同：2
> 
> 时间：2013-03-22T06:36:05.837
> 
> 标签：sql, sql-server, sql-server-2008, jsp, pagination

我正在使用 jsp 进行分页（而且我是编写 sql 的新手）。

我做了我的研究，发现了简单的查询

[SQL Server 2008 中的分页](https://stackoverflow.com/questions/4415738/pagination-in-sql-server-2008) 以及[如何在 SQL Server 2008 中进行分页](https://stackoverflow.com/questions/2244322/how-to-do-pagination-in-sql-server-2008)

```
SELECT * FROM document  ORDER BY id OFFSET
                    "+iPageNo+"  ROWS FETCH NEXT 10 ROWS ONLY; 
```

在上面的查询中 ipageNo 是第一次出现 0（即使我尝试手动输入 1）

仍然给出错误`Incorrect syntax near 'OFFSET'.`

我在这里错过了什么？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T06:41:07.753

您会从[ORDER BY 子句 (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms188385%28v=sql.105%29.aspx)中注意到SQL Server 2008 不支持此语法。

您可以从 2008 年的文档中看到

```
**Syntax**

[ ORDER BY 
    {
    order_by_expression 
  [ COLLATE collation_name ] 
  [ ASC | DESC ] 
    } [ ,...n ] 
] 
```

作为[2012 年的文档](http://msdn.microsoft.com/en-us/library/ms188385%28v=sql.110%29.aspx)

```
**Syntax**
ORDER BY order_by_expression
    [ COLLATE collation_name ] 
    [ ASC | DESC ] 
    [ ,...n ] 
[ <offset_fetch> ]

<offset_fetch> ::=
{ 
    OFFSET { integer_constant | offset_row_count_expression } { ROW | ROWS }
    [
      FETCH { FIRST | NEXT } {integer_constant | fetch_row_count_expression } { ROW | ROWS } ONLY
    ]
} 
```

也许还可以看看[如何在 sql server 2008 中进行分页](https://stackoverflow.com/questions/2244322/how-to-do-pagination-in-sql-server-2008)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T07:45:07.050

这是我的工作，现在工作正常。

```
SELECT * FROM   (SELECT ROW_NUMBER() OVER(ORDER BY id) AS rownumber,*
        FROM document)  as somex  WHERE  rownumber >= (1+1)*10-9
                         AND rownumber <=(1+1)*10 
```

在上面的查询中，我替换`(1+1)` 为`(pageNUmber+1)`.

![在此处输入图像描述](../Images/3980850d72d988ad22702e28dd1cb1a0.png)

如果有任何优雅的方式可用，请随时建议我。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T16:45:59.540

我希望[这](http://www.sql-tutorial.ru/en/book_paging/page3.html)会有所帮助（适用于 SQL Server 2008）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-24T17:20:45.913

```
DECLARE @Page int
SET @Page = 2
DECLARE @Amount int
SET @Amount = 25
SELECT * FROM (
SELECT ROW_NUMBER() OVER(ORDER BY group_id) AS rownumber, * FROM table_name 
WHERE Column LIKE '%Search_Value%') as somex  
WHERE  rownumber >= (@Page+1)* @Amount-(@Amount - 1) AND rownumber <= (@Page+1) * @Amount 
```

我更进一步。添加了一些变量以使输入信息更好一些。在我的公司，我们有较旧的数据库，所以这个提要对我帮助很大。

# java - 无法使用 powermockito 模拟静态方法？

> ID：15564221
> 
> 赞同：1
> 
> 时间：2013-03-22T06:36:06.710
> 
> 标签：java, junit, mockito, powermock

获取异常：

```
although stubbed methods may return mocks, you cannot inline mock creation (mock()) call inside a thenReturn method (see issue 53) 
```

我正在关注[https://code.google.com/p/powermock/wiki/MockitoUsage](https://code.google.com/p/powermock/wiki/MockitoUsage)

```
PowerMockito.mockStatic(MyUtil.class);

Mockito.when(MyUtil.compareVersion("1","2")).thenReturn(200); 
```

另外我想部分模拟这个类，这个类中还有其他方法，我不想模拟，它们应该像往常一样运行。

详细例外：

```
org.mockito.exceptions.misusing.UnfinishedStubbingException: 
Unfinished stubbing detected here:
-> at org.powermock.api.mockito.internal.PowerMockitoCore.doAnswer(PowerMockitoCore.java:31) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T14:13:35.040

我无法从您的代码片段中看出，但您的测试类中有以下注释吗？

```
@RunWith(PowerMockRunner.class)
@PrepareForTest(MyUtil.class)
public class MyUtilTest { 
```

此外，您应该查看[https://code.google.com/p/powermock/wiki/MockitoUsage13](https://code.google.com/p/powermock/wiki/MockitoUsage13)以获得更新版本的 PowerMock。

# mongodb - 为什么在 MongoDB 的 MapReduce 中计算结果不正确

> ID：15564224
> 
> 赞同：0
> 
> 时间：2013-03-22T06:36:16.523
> 
> 标签：mongodb, mapreduce

我为mongodb写了一个mapreduce，但结果有一些问题

日期：

mongos> db.perGoods.find()

```
{ "_id" : ObjectId("514bf6428f43a9fee9cef526"), "id" : 1, "goods_id" : "1234", "keywords" : [   {   "keyword" : "lianyiqun",    "price" : 3.52 },   {   "keyword" : "nvzhuang",     "price" : 4.27 },   {   "keyword" : "chunkuan",     "price" : 3.12 },   {   "keyword" : "chaoliu",  "price" : 8.32 },   {   "keyword" : "duanzhuang",   "price" : 4.92 } ] }
{ "_id" : ObjectId("514bf65d8f43a9fee9cef527"), "id" : 2, "goods_id" : "5678", "keywords" : [   {   "keyword" : "lianyiqun",    "price" : 9.26 },   {   "keyword" : "nvzhuang",     "price" : 4.52 } ] }
{ "_id" : ObjectId("514bf6768f43a9fee9cef528"), "id" : 3, "goods_id" : "5612", "keywords" : [   {   "keyword" : "lianyiqun",    "price" : 7.42 },   {   "keyword" : "nvzhuang",     "price" : 6.52 } ] }
{ "_id" : ObjectId("514bf6968f43a9fee9cef529"), "id" : 4, "goods_id" : "9612", "keywords" : [   {   "keyword" : "lianyiqun",    "price" : 3.12 },   {   "keyword" : "nvzhuang",     "price" : 6.57 },   {   "keyword" : "chunzhuang",   "price" : 5.55 } ] } 
```

地图功能：

```
mongos> var mapFunction = function() {
...                        for (var index = 0; index < this.keywords.length; index++) {
...                            var key = this.goods_id;
...                            var value = {
...                                          count: 1,
...                                          price: this.keywords[index].price
...                                        };
...                            emit(key, value);
...                        }
...                     }; 
```

减少功能：

```
mongos> var reduceFunction = function(key, priceCountObjects) {
...                           reducedValue = { count: 0, sumprice: 0 };
... 
...                           for (var index = 0; index < priceCountObjects.length; index++) {
...                               reducedValue.count += priceCountObjects[index].count;
...                               reducedValue.sumprice += priceCountObjects[index].price;
...                           }
... 
...                           return reducedValue;
...                       }; 
```

编码：

```
mongos> db.perGoods.mapReduce(
...                      mapFunction,
...                      reduceFunction,
...                      { out: "map_reduce_test" }
...                    )
{
    "result" : "map_reduce_test",
    "timeMillis" : 5,
    "counts" : {
        "input" : 4,
        "emit" : 12,
        "reduce" : 4,
        "output" : 4
    },
    "ok" : 1,
} 
```

结果：

```
mongos> db.map_reduce_test.find()
{ "_id" : "1234", "value" : { "count" : 5, "sumprice" : 24.15 } }
{ "_id" : "5612", "value" : { "count" : 2, "sumprice" : 13.94 } }
{ "_id" : "5678", "value" : { "count" : 2, "sumprice" : 13.78 } }
{ "_id" : "9612", "value" : { "count" : 3, "sumprice" : 15.240000000000002 } }
mongos> 
```

为什么最后一个结果是 15.240000000000002？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:58:06.273

由于 MongoDB 中的 map/reduce 是基于 JavaScript 的，所以它使用 JavaScript 的[数字运算](http://www.ecma-international.org/ecma-262/5.1/#sec-4.3.19)，本质上是一种双精度[IEEE 754 浮点运算](http://en.wikipedia.org/wiki/IEEE_floating_point)。

浮点数（本质上，有关详细信息，请参阅维基百科文章）存储为

```
mantissa * base ^ exponent 
```

在这种情况下，基数为 2（称为 10 基浮点数`decimal`），如果值的精度有限，则某些数字（包括有理数）根本无法以这种格式精确表示。

按照目前的情况，您最好的选择可能是在操作结束时进行舍入。不幸的是，并非所有货币都有两位小数，因此国际化可能会变得很痛苦，并且仍然存在舍入变得重要的风险 - 可以肯定的是，请确保您知道[每个计算机科学家应该了解的关于浮点运算的知识](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)

您也可以[在 10gen 的 Jira 中为这个功能投票](https://jira.mongodb.org/browse/SERVER-1393)。

# android - 澄清函数调用

> ID：15564227
> 
> 赞同：0
> 
> 时间：2013-03-22T06:36:20.847
> 
> 标签：android, c, pointers, structure

我正在学习Android源代码。而且我想知道较低级别的函数是如何从应用程序调用的。

在学习这方面的同时，现在我正在努力理解我在下面给出的一个文件：

```
static int open_lights(const struct hw_module_t* module, char const* name,
        struct hw_device_t** device)
{
    int (*set_light)(struct light_device_t* dev,
            struct light_state_t const* state);

    if (0 == strcmp(LIGHT_ID_BACKLIGHT, name)) {
        set_light = set_light_backlight;
    }
    else if (0 == strcmp(LIGHT_ID_KEYBOARD, name)) {
        set_light = set_light_keyboard;
    }
    else if (0 == strcmp(LIGHT_ID_BUTTONS, name)) {
        set_light = set_light_buttons;
    }
    else if (0 == strcmp(LIGHT_ID_BATTERY, name)) {
        set_light = set_light_battery;
    }
    else if (0 == strcmp(LIGHT_ID_NOTIFICATIONS, name)) {
        set_light = set_light_notification;
    }
    else if (0 == strcmp(LIGHT_ID_ATTENTION, name)) {
        set_light = set_light_attention;
    }
    else {
        return -EINVAL;
    }

    pthread_once(&g_init, init_globals);

    struct light_device_t *dev = malloc(sizeof(struct light_device_t));
    memset(dev, 0, sizeof(*dev));

    dev->common.tag = HARDWARE_DEVICE_TAG;
    dev->common.version = 0;
    dev->common.module = (struct hw_module_t*)module;
    dev->common.close = (int (*)(struct hw_device_t*))close_lights;
    dev->set_light = set_light;

    *device = (struct hw_device_t*)dev;
    return 0;
}

set_light_backlight(struct light_device_t* dev,
        struct light_state_t const* state)
{
    int err = 0;
    int brightness = rgb_to_brightness(state);

    pthread_mutex_lock(&g_lock);
    err = write_int(LCD_FILE, brightness);
    pthread_mutex_unlock(&g_lock);

    return err;
} 
```

我的问题是：

1.  这句话的含义是什么`int (*set_light)(struct light_device_t* dev, struct light_state_t const* state);`？
2.  我们只是分配`set_light_backlight`给`set_light`. 那么如何`set_light_backlight(struct light_device_t* dev, struct light_state_t const* state)` 调用函数呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:58:32.823

> int ( *set_light)(struct light_device_t* dev,struct light_state_t const* state)是什么意思；

您需要了解什么是函数指针。

函数指针是一种指向函数的指针。取消引用时，它将调用它指向的函数并像普通函数调用一样传递参数。

您的程序中有一个函数指针，该指针`set_light`具有：

*   类型`int`作为返回类型
*   并采用两个类型的参数`struct light_device_t*` `and struct light_state_t const*`

在您的程序中，根据**名称**包含的内容，您在**运行时将函数指针分配给以下任何****一个**给定函数。

 **```
 set_light = set_light_backlight; 
```

或者

```
 set_light = set_light_keyboard; 
```

或者

```
 set_light = set_light_buttons; 
```

或者

```
 set_light = set_light_battery; 
```

或者

```
 set_light = set_light_notification; 
```

或者

```
 set_light = set_light_attention; 
```

> 我们只是将 set_light_backlight 分配给 set_light。那么如何调用 set_light_backlight(struct light_device_t* dev, struct light_state_t const* state) 函数呢？

通过`set_light()`使用所需的参数调用函数`set_light_backlight()`，如果`set_light()`分配给它，则调用函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:44:16.230

1.  这是声明一个名为`set_light`. 指针指向一个函数，该函数返回一个 int 并接受两个结构作为参数。

2.  您正在设置函数指针的值。其他人稍后将使用函数指针来调用该函数，而无需知道实际函数是什么（即使用函数指针）。这种方法通常被称为“回调函数”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:00:33.380

您引用的是Android Emulator 中的`device-driver`实现。`lights`因此，`int (*set_light)(struct light_device_t* dev, struct light_state_t const* state);`实际上是一个函数指针声明。这意味着`set_light`一个指向函数的指针，该函数在返回值时采用`light_device_t`指针和指针。`light_state_t``int`

这是 Android 源代码树中的典型实现。此实现用于为可能`n`不同的情况提供通用实现，即基于一个案例，我可能想要调用不同的函数，但我设置它的方式和调用它的方式，通过此实现保持通用。

来到你的下一个问题，这是在哪里调用的。请参考这个[源文件](http://androidxref.com/4.2.2_r1/xref/frameworks/base/services/jni/com_android_server_LightsService.cpp)。在此文件中，设备在[此处](http://androidxref.com/4.2.2_r1/xref/frameworks/base/services/jni/com_android_server_LightsService.cpp#73)设置，它将调用您引用的 open 方法。设置完成并返回后，将[在](http://androidxref.com/4.2.2_r1/xref/frameworks/base/services/jni/com_android_server_LightsService.cpp#125)`device`方法中调用实际方法`setLight_native`，如下所示。**

# c# - Console.WriteLine 将输出发送到 vs.net 中的调试，但是从控制台运行时，我什么也看不到

> ID：15564228
> 
> 赞同：1
> 
> 时间：2013-03-22T06:36:22.257
> 
> 标签：c#, .net, command-line, windows-services, stdout

我有一个 C# windows 服务。在该服务代码中，我定义 Main() 并捕获各种参数。如果 arg 是“安装”，我会调用代码来安装服务。请注意，当安装 arg 时，我没有运行服务，只是安装它，所以在我看来，这只不过是一个控制台应用程序。

当我在 vs.net 2012 中调试代码时，我在调试窗口中看到了我的所有 Console.WriteLine() 输出。我相信这是因为 VS.NET 将 STDOUT 映射到调试窗口。

但是，如果我打开命令提示符并运行命令行`myservice.exe install`，则控制台窗口没有输出。如果我运行，`myservice.exe install > out.txt`我会在 out.txt 中看到所有输出。发生了什么，我怎样才能让 Main() 代码实际将输出发送到控制台窗口？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:45:24.447

这可能是由于您的项目的输出类型；请注意，默认的 Windows 应用程序输出类型不会自动显示控制台窗口。为此，您可能希望将输出类型更改为控制台应用程序。

# ios - 在不调用 viewDidscroll 的情况下滚动 uiviewscrollview

> ID：15564230
> 
> 赞同：2
> 
> 时间：2013-03-22T06:36:26.637
> 
> 标签：ios, uiscrollview

当前的问题是当用户轻弹滚动时缺乏对滚动视图的控制......我目前想要实现的是当用户轻弹滚动时，当滚动速度低于某个阈值时，我设置了 contentoffset ...最好通过动画，问题是在我调用 setContentOffset 动画后它会调用 viewdDidScroll。这比再次调用我所有的代码，它导致滚动视图有点紧张。似乎也没有办法让滚动视图立即停止。

所以在要点中我需要

-按命令停止 UI 滚动视图。

- 通过动画设置内容偏移时不调用 viewDidScroll

有没有人有线索来克服这一切

# android - 如何使usb配件api兼容android 2.3.5和android 4.2？

> ID：15564231
> 
> 赞同：0
> 
> 时间：2013-03-22T06:36:30.367
> 
> 标签：android, usb

我正在`android`4.2 环境中开发一个项目。在此，我使用的是 android usb 附件 api。但我想让我的项目与`android`2.3.5 兼容。为此，我正在检查 api 版本。如果它高于或等于 api 级别 12 意味着，我需要使用 `"android.hardware.usb.UsbAccessory"`. 否则，我使用`"com.android.future.usb.UsbAccessory"`。但我的程序限制使用其中一个导入语句。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T00:48:08.830

您也不能有条件地在 Java 中导入。

解决这个问题的最简单方法是有两个不同的类，一个`android.hardware.usb.UsbAccessory`使用`com.android.future.usb.UsbAccessory`. 您的工厂方法可以检查 Android 版本并实例化适当的版本。

另一种方法是指定完整的类名，即`android.hardware.usb.UsbAccessory`代替`UsbAccessory`. 我不推荐这个；使用不同的类似乎更简单。

# javascript - 从表单构建 JSON 对象

> ID：15564240
> 
> 赞同：1
> 
> 时间：2013-03-22T06:37:19.053
> 
> 标签：javascript, json

我有一个格式如下的表格（仅部分表格）

```
<input type="text" name="Journal[data][serviceaddress][company]" value="{{company}}"/>
<input type="text" name="Journal[data][serviceaddress][address]" value="{{address}}"/>
<input type="text" name="Journal[data][serviceaddress][zip]" value="{{zip}}"/>
<textarea name="Journal[data][serviceaddress][notes]">{{notes}}</textarea>
<input type="text" name="Journal[rows][1][title]"/>
<input type="text" name="Journal[rows][1][body]"/>
<input type="text" name="Journal[rows][2][title]"/>
<input type="text" name="Journal[rows][2][body]"/> 
```

我想将其转换为以下 JSON 对象

```
{
    data:{
        serviceaddress:{
            company: "companyvalue",
            address: "addressvalue",
            zip: "zipvalue",
            notes: "notesvalue"
        }
    },
    rows:{
        1:{
            title: "row1title",
            body: "row1body"
        },
        2:{
            title: "row2title",
            body: "row2body"
        }
    }
} 
```

哪种方法是最好的方法？我认为我一定是已经这样做的人，但我在搜索时发现的只是人们希望输入名称作为键而不是嵌套的 JSON 数据......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-20T18:58:41.247

由于我找不到任何我发现是令人满意的解决方案的现有解决方案，我创建了自己的解决方案，这就是

```
function getData(){
            var data = {};
            $('.data input,.data textarea').each(function(){
                var val = $(this).val();
                var namestr = $(this).attr('name').substr(8);
                namestr = namestr.substring(0,namestr.length-1);
                var namearray = namestr.split('][');

                var currentlevel = data;
                if (namearray[0] == 'data'){
                    namearray = namearray.splice(1,namearray.length);
                    for (var i=0;i < namearray.length;i++){
                        if (currentlevel[namearray[i]] == undefined && i != namearray.length-1){
                            currentlevel[namearray[i]] = {};
                        }
                        else if (namearray.length-1 == i){
                            currentlevel[namearray[i]] = val;
                            break;
                        } //In the end, put a value
                        currentlevel = currentlevel[namearray[i]]
                    }   
                }
            });
            return data;
        } 
```

如您所见，这只查看名称中第一个“数组”参数为“数据”的输入/文本区域标签，也就是说，它只会解析名称格式为“Myform[data][value1] ”。这可以很容易地根据您自己的需要进行修改。

# php - 重定向页面不起作用

> ID：15564244
> 
> 赞同：0
> 
> 时间：2013-03-22T06:37:43.120
> 
> 标签：php

我试图重定向页面，但我得到一个错误

```
Fatal error: Call to undefined function redirect_to() in C:\xampp\htdocs\how are things\15_06_widget_corp-final\includes\session.php on line 11 
```

session.php 代码

```
<?php
    session_start();

    function logged_in() {
        return isset($_SESSION['user_id']);
    }

    function confirm_logged_in() {
        if (!logged_in()) {
            redirect_to("login.php");
        }
    }
? 
```

> 我试着改成这个

```
header('location: login.php'); 
```

但没有任何效果

这是我重定向到功能

```
function redirect_to( $location = NULL ) {
        if ($location != NULL) {
            header("Location: {$location}");
            exit;
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:40:06.170

改用`header`redirect_to 并`exit;`在其下方使用它，否则有时会为标题提供错误。

```
header('location: login.php');
exit; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:39:02.367

**代替**

```
redirect_to("login.php"); 
```

**和**

```
header('location : login.php'); 
```

# java - java中字符串[]的排序列表

> ID：15564246
> 
> 赞同：-3
> 
> 时间：2013-03-22T06:38:03.893
> 
> 标签：java

我有`List<String[]>`。我想让它按`String[3]`字母顺序按名称排序。对于这种情况，我的比较器应该如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:48:30.920

尝试

```
 Collections.sort(list, new Comparator<String[]>() {
        public int compare(String[] o1, String[] o2) {
            return o1[3].compareTo(o2[3]);
        }
    }); 
```

# android - Android：向 GPS 提供商请求特定时间

> ID：15564249
> 
> 赞同：0
> 
> 时间：2013-03-22T06:38:23.610
> 
> 标签：android, service, gps

我正在使用 GPS 制作一个跟踪器应用程序，它将收集用户的当前位置并将其发送到服务器。整个过程将每隔 15 分钟在后台运行一次。我已经能够让它工作了。现在，实际问题是我想向 GPS 请求特定数量的尝试，例如 5 次尝试。如果在那个时期它没有提供用户的位置，那么我想切换到`NETWORK PROVIDER`用户的大致位置。我曾使用计时器进行位置请求。`NETWORK PROVIDER`但是，如果在特定的尝试次数后 GPS 信号不可用，我无法切换到。下面，我发布我的代码：

```
public class MyLocationService extends Service implements
    OnLocationReceivedListener {

private LocationManager manager;
private Location location = null;
PowerManager powerManager;
private WakeLock wakeLock;
private String city, time, udid;
private String country;
MyLocationListener myLocationListener;
private static final int MAX_ATTEMPTS = 5;
private static String TAG = "MyLocationService";
LocTimerTask mTimerTask;
int mSattelites;
Timer myLocTimer;
int i = 0;
boolean isGPS;

@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    Log.v(TAG, "onStartCommand called");
    getCurrentLocation();
    time = getCurrentTime();
    udid = getDeviceId();
    return 1;
}

@Override
public void onCreate() {
    Log.v(TAG, "onCreate called");
    powerManager = (PowerManager) getSystemService(Context.POWER_SERVICE);
    wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,
            "mywakelock");
    myLocationListener = new MyLocationListener();
    wakeLock.acquire();
    super.onCreate();
}

@Override
public IBinder onBind(Intent intent) {
    return null;
}

public String getCurrentTime() {
    String currentTime = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss",
            Locale.getDefault()).format(new Date());

    return currentTime;
}

public String getDeviceId() {
    TelephonyManager tm = (TelephonyManager) MyLocationService.this
            .getSystemService(Context.TELEPHONY_SERVICE);
    return tm.getDeviceId();
}

public void getCurrentLocation() {
    manager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    manager.addGpsStatusListener(mGPSStatusListener);
    mTimerTask = new LocTimerTask(LocationManager.GPS_PROVIDER);

    if (manager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {
        Log.v(TAG, "GPS ENABLED");
        manager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000L, 50.0f,
                myLocationListener);
    } else {
        turnGPSOn();
        manager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000L, 50.0f,
                myLocationListener);
    }

    myLocTimer = new Timer("LocationRunner", true);
    myLocTimer.schedule(mTimerTask, 0, 13000);
}

public String getLong(Location loc) {
    String longi = null;
    if (loc != null) {
        longi = Double.toString(loc.getLongitude());
    }
    return longi;
}

public String getLat(Location loc) {
    String lat = null;
    if (loc != null) {
        lat = Double.toString(loc.getLatitude());
    }
    return lat;
}

class SendDataAsynctask extends AsyncTask<Void, Void, Boolean> {
    private String lati;
    private String longi;
    private String datetime;
    private String udid, city, country, address;
    private WakeLock wakelock;

    public SendDataAsynctask(String lati, String longi, String address,
            String datetime, String udid, String city, String country,
            WakeLock wakeLock) {
        this.lati = lati;
        this.longi = longi;
        this.address = address;
        this.datetime = datetime;
        this.udid = udid;
        this.city = city;
        this.country = country;
        this.wakelock = wakeLock;
    }

    @Override
    protected Boolean doInBackground(Void... params) {
        return ServerConnection.sendData(lati, longi, address, datetime,
                udid, city, country);
    }

    @Override
    protected void onPostExecute(Boolean result) {
        Log.v(TAG, "onPostExecute");
        manager.removeUpdates(myLocationListener);
        manager.removeGpsStatusListener(mGPSStatusListener);
        if (wakeLock.isHeld()) {
            wakelock.release();
        }
        if(isGPS) {
            Log.v(TAG, "Location from GPS");
            turnGPSOff();
            Toast.makeText(getApplicationContext(), "Location from GPS", Toast.LENGTH_LONG).show();
        } else {
            Log.v(TAG, "Location from Network");
            Toast.makeText(getApplicationContext(), "Location from Network", Toast.LENGTH_LONG).show();
        }
        stopSelf();
    }
}

public class MyLocationListener implements LocationListener {

    @Override
    public void onLocationChanged(Location argLocation) {
        //location = argLocation;
    }

    public void onProviderDisabled(String provider) {

    }

    public void onProviderEnabled(String provider) {

    }

    public void onStatusChanged(String provider, int status, Bundle extras) {

    }
}

class LocTimerTask extends TimerTask {
    String provider;

    public LocTimerTask(String provider) {
        this.provider = provider;
    }

    final Handler mHandler = new Handler(Looper.getMainLooper());

    Runnable r = new Runnable() {
        @Override
        public void run() {
            Log.v(TAG, "Timer Task run" + i);
            location = manager.getLastKnownLocation(provider);

            if (location != null) {
                Log.v(TAG, "in timer task run in if location not null");
                if (location.getLatitude() != 0.0f
                        && location.getLongitude() != 0.0f) {
                    Log.v(TAG, "in timer task run location not null coordinates not 0");
                    isGPS = true;
                    onLocationReceived(location);
                    myLocTimer.cancel();
                    mTimerTask.cancel();
                    turnGPSOff();
                }
            } else {
                Log.v(TAG, "in timer task run in else location null");
                /*if (i == MAX_ATTEMPTS) {
                    turnGPSOff();
                    myLocTimer.cancel();
                    mTimerTask.cancel();
                    if (location == null) {
                        Log.v(TAG, "Location from GPS null");
                        manager.requestLocationUpdates(
                                LocationManager.NETWORK_PROVIDER, 1000L, 50.0f,
                                myLocationListener);
                        location = manager
                                .getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
                        if (location != null) {
                            if (location.getLatitude() != 0.0f
                                    && location.getLongitude() != 0.0f) {
                                onLocationReceived(location);
                            }
                        }
                    }
                    isGPS = false;
                }*/
            }
            i++;
        }
    };

    public void run() {
        mHandler.post(r);
    }
}

private GpsStatus.Listener mGPSStatusListener = new GpsStatus.Listener() {

    @Override
    public synchronized void onGpsStatusChanged(int event) {
        switch (event) {
        case GpsStatus.GPS_EVENT_SATELLITE_STATUS:
            Log.v(TAG, "GPS SAtellitestatus");
            GpsStatus status = manager.getGpsStatus(null);
            mSattelites = 0;
            Iterable<GpsSatellite> list = status.getSatellites();
            for (GpsSatellite satellite : list) {
                if (satellite.usedInFix()) {
                    mSattelites++;
                }
            }
            break;

        case GpsStatus.GPS_EVENT_FIRST_FIX:
            Toast.makeText(getApplicationContext(), "Got First Fix",
                    Toast.LENGTH_LONG).show();
            break;

        case GpsStatus.GPS_EVENT_STARTED:
            Toast.makeText(getApplicationContext(), "GPS Event Started",
                    Toast.LENGTH_LONG).show();
            break;

        case GpsStatus.GPS_EVENT_STOPPED:
            Toast.makeText(getApplicationContext(), "GPS Event Stopped",
                    Toast.LENGTH_LONG).show();
            break;
        default:
            break;
        }
    }
};

public void onDestroy() {
    super.onDestroy();
    if (myLocTimer != null) {
        myLocTimer.cancel();
        myLocTimer.purge();
    }

    if (mTimerTask != null) {
        if (mTimerTask.r != null) {
            mTimerTask.mHandler.removeCallbacks(mTimerTask.r);
        }
    }
}

@Override
public void onLocationReceived(Location mLoc) {
    String lat = getLat(mLoc);
    String lon = getLong(mLoc);
    if (NetworkConnection.isOnline(getApplicationContext())) {
        new SendDataAsynctask(lat, lon, "", time, udid, city, country,
                wakeLock).execute();
        Log.v(TAG, "net available");
    } else {
        Toast.makeText(getApplicationContext(), "Network unavailable",
                Toast.LENGTH_LONG).show();
        Log.v(TAG, "net unavailable");
    }
}

private void turnGPSOff(){
    String provider = Settings.Secure.getString(getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);

    if(provider.contains("gps")){ //if gps is enabled
        final Intent poke = new Intent();
        poke.setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider");
        poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
        poke.setData(Uri.parse("3")); 
        sendBroadcast(poke);
    }
}

private void turnGPSOn(){
    Log.v(TAG, "turnGPSON Called");
    String provider = Settings.Secure.getString(getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);

    if(!provider.contains("gps")){ 
        final Intent poke = new Intent();
        poke.setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider"); 
        poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
        poke.setData(Uri.parse("3")); 
        sendBroadcast(poke);
        Log.v(TAG, "alarm request sent from turnGPSOn");
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:41:36.143

为什么要等？同时打开网络和 GPS。然后在你的计时器中像这样：

```
 attempts++;  //attempts is a variable at class scope
   location = manager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
   if(location == null && attempts == 5){
      location = manager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
      if(location == null){
           //They must have their radio off, you aren't going to get a location.  Handle this error

       }
   }
   if(location == null){
      return; //wait for next try
   }
   attempts = 0;  //clear for next run
   //process location 
```

# plsql - PIVOT IN 子句值作为变量

> ID：15564258
> 
> 赞同：0
> 
> 时间：2013-03-22T06:38:58.163
> 
> 标签：plsql, oracle11g

你能帮我解决这个错误吗？一切正常，但我对 pivot IN 子句感到震惊，我想通过使用变量来传递值。

```
CREATE OR REPLACE PROCEDURE Sample
(
  INPUT_TABLE_ID IN NUMBER,OUTPUT_TABLE IN VARCHAR2
)
IS
  AGG_COLUMNS VARCHAR2(2000);

 EXECUTE IMMEDIATE 'SELECT COLUMNS FROM COLUMN_NAMES' INTO AGG_COLUMNS;
 EXECUTE IMMEDIATE      
      'CREATE TABLE '||OUTPUT_TABLE||' AS
      (
          SELECT *
          FROM BW_COLUMN_ROW_CELL_JOIN
          PIVOT
          (
            MAX(STRING_VALUE)
            FOR COLUMN_NAME  IN ( '||AGG_COLUMNS ||')
          )
      )'; 
```

错误是：

```
00936\. 00000 -  "missing expression" 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:25:46.893

您要么必须对`COLUMN_NAMES`表中的值进行编码，例如：

```
SQL> create table  COLUMN_NAMES(COLUMNS  varchar2(20));

Table created.

SQL> insert into column_names values ('''A'',''B''');

1 row created.

SQL>
SQL> create table  BW_COLUMN_ROW_CELL_JOIN(column_name  varchar2(15),
  2                                        string_value  varchar2(15));

Table created.

SQL> insert into   BW_COLUMN_ROW_CELL_JOIN values ('A', 'test');

1 row created.

SQL> insert into   BW_COLUMN_ROW_CELL_JOIN values ('B', 'pickle');

1 row created.

SQL> insert into   BW_COLUMN_ROW_CELL_JOIN values ('C', 'foo');

1 row created.

SQL>
SQL> commit;

Commit complete.

SQL> CREATE OR REPLACE PROCEDURE Sample
  2  (
  3    INPUT_TABLE_ID IN NUMBER,OUTPUT_TABLE IN VARCHAR2
  4  )
  5  IS
  6    AGG_COLUMNS VARCHAR2(2000);
  7  begin
  8   EXECUTE IMMEDIATE 'SELECT COLUMNS FROM COLUMN_NAMES' INTO AGG_COLUMNS;
  9   EXECUTE IMMEDIATE
 10        'CREATE TABLE '||OUTPUT_TABLE||' AS
 11        (
 12            SELECT *
 13            FROM BW_COLUMN_ROW_CELL_JOIN
 14            PIVOT
 15            (
 16              MAX(STRING_VALUE)
 17              FOR COLUMN_NAME  IN ( '||AGG_COLUMNS ||')
 18            )
 19        )';
 20  end;
 21  /

Procedure created.

SQL> exec Sample(1, 'TEST');

PL/SQL procedure successfully completed.

SQL> select * from test;

'A'             'B'
--------------- ---------------
test            pickle 
```

或在过程中执行：

```
SQL> insert into column_names values ('A,B');

1 row created.

SQL>
SQL> create table  BW_COLUMN_ROW_CELL_JOIN(column_name  varchar2(15),
  2                                        string_value  varchar2(15));

Table created.

SQL> insert into   BW_COLUMN_ROW_CELL_JOIN values ('A', 'test');

1 row created.

SQL> insert into   BW_COLUMN_ROW_CELL_JOIN values ('B', 'pickle');

1 row created.

SQL> insert into   BW_COLUMN_ROW_CELL_JOIN values ('C', 'foo');

1 row created.

SQL>
SQL> commit;

...

SQL> CREATE OR REPLACE PROCEDURE Sample
  2  (
  3    INPUT_TABLE_ID IN NUMBER,OUTPUT_TABLE IN VARCHAR2
  4  )
  5  IS
  6    AGG_COLUMNS VARCHAR2(2000);
  7  begin
  8   EXECUTE IMMEDIATE 'SELECT COLUMNS FROM COLUMN_NAMES' INTO AGG_COLUMNS;
  9   EXECUTE IMMEDIATE
 10        'CREATE TABLE '||OUTPUT_TABLE||' AS
 11        (
 12            SELECT *
 13            FROM BW_COLUMN_ROW_CELL_JOIN
 14            PIVOT
 15            (
 16              MAX(STRING_VALUE)
 17              FOR COLUMN_NAME  IN ( '''||replace(AGG_COLUMNS, ',', ''',''') ||''')
 18            )
 19        )';
 20  end;
 21  /

Procedure created.

SQL> exec Sample(1, 'TEST');

PL/SQL procedure successfully completed.

SQL> select * from test;

'A'             'B'
--------------- ---------------
test            pickle 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:07:45.867

您`AGG_COLUMNS`应该对应于以下格式：

```
Value1 as ColumnName1, Value2 as ColumnName2, ... 
```

# actionscript-3 - 在动作脚本中：如何在字符串中搜索子字符串，然后截断子字符串后面的字符

> ID：15564259
> 
> 赞同：1
> 
> 时间：2013-03-22T06:38:59.037
> 
> 标签：actionscript-3, apache-flex

在动作脚本中：如何在字符串中搜索子字符串，然后截断子字符串后面的字符？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T06:47:04.420

`String.indexOf(substring)`将返回你的第一部分，`String.slice()`参数会让你截断你的字符串。[手册](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/String.html)

# php - 单击提交按钮时，保留并在 javascript 中创建的动态生成的 html 表传递给 php

> ID：15564265
> 
> 赞同：1
> 
> 时间：2013-03-22T06:39:20.957
> 
> 标签：php, javascript, html

我必须提交一个使用 javascript 创建的动态生成的 html 表，并在单击提交按钮时将此表传递给 php 邮件函数，我想知道当表单有任何内容时是否可以在 javascript 中保留动态生成的表单击提交按钮并且动态生成的表丢失时也会出错。我是一个初学者，我一直在使用 delete 制作动态生成的 javascript 表，现在我需要将此表传递给 php 提交按钮，然后只能继续进行

任何帮助将不胜感激，因为我现在时间很短，请帮助。

代码如下

向表中添加行

```
function addRow(){

var a =document.getElementById("sociallink").value;
    var b =document.getElementById("socialemail").value;
    var c =document.getElementById("socialpass").value;

var media=document.getElementById('media');

if ( media.selectedIndex  ==  "1" )
{
    media_type = "facebook";
}

var table = document.getElementById("dataTable");

var rowCount = table.rows.length;
var row = table.insertRow(rowCount);
row.insertCell(0).innerHTML= '<input type="button" value = "Delete" onClick="Javacsript:deleteRow(this)">';
row.insertCell(1).innerHTML= media_type;
row.insertCell(2).innerHTML= a;
row.insertCell(3).innerHTML=b;
row.insertCell(3).innerHTML=c;

table.style.display ="block";

} 
```

php回显html如下

```
 $form ="<form action='./form3.php'  method='post'  name='seoform'> 
        <tbody id='dataTable' border='1' cellpadding='2'>  
                      <tr>
                  <td> Remove Media </td> 
                      <td> Media </td>
                                <td>Media Link</td>
                                <td> Media Email</td>
                                <td> Media Password </td>

                      </tr>
<tr> 
<td> </td> 
<td  > <input type='submit' name='seoformbtn' value='Register'  />   </td> 
</tr> 

        </tbody> </form> ";

    echo $form; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:41:58.647

您可以将创建的表的标记存储在隐藏输入中，然后在提交表单时将其发送。

在表单中添加隐藏的文本区域

```
<textarea id="table-markup"></textarea> 
```

CSS：

```
#table-markup{
   display: none;
} 
```

给你的桌子一个像这样的ID：

`<table id='table'><tbody id='dataTable'>.....</tbody></table>`

```
var tableMarkup = document.getElementById("table");
document.getElementById("table-markup").value = tableMarkup.innerHTML; 
```

现在，当表单提交时，它将与它一起发送。我建议使用 POST 方法发送表单数据（取决于您的表标记）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:11:54.430

存储表格很简单，可以说您的表格是

```
<table id='tableid' >......</table>

var tbl = $('#tableid').html();
// to complement previous answer, then you put in hidden field
$("#table-markup").val(tbl); 
```

# node.js - Node.js 上 Geddy MVC 的单元测试框架

> ID：15564266
> 
> 赞同：1
> 
> 时间：2013-03-22T06:39:25.127
> 
> 标签：node.js, unit-testing, jasmine, geddy, nodeunit

我现在使用 Postgres 数据库在 Heroku 上的 Node.js 上运行 Geddy MVC 框架。我似乎找不到任何支持 Geddy 的 node.js 单元测试框架。我已经尝试过 nodeunit、jasmine 和其他几个，但似乎没有一个可以与 geddy 一起使用（说它是未定义的——我认为是因为它不知道如何导入所有必需的文件）。

我知道 Geddy 提供了他们的 jake 测试工具，但它似乎也不起作用。它给了我这个输出：

```
ReferenceError: geddy is not defined 
```

任何帮助将不胜感激。还在寻找可以与我开始工作的单元测试框架一起使用的代码覆盖率工具。

谢谢！

编辑：我的测试都以此标头开始，以导入所需的模块：

```
var assert = require('assert')
  , tests
  , Activity = geddy.model.Activity; 
```

Activity 的导入失败并出现上面的 ReferenceError，因此它甚至从未尝试过我的测试。

这是我写的一个nodeunit测试

```
var tests
  , User = geddy.model.User;

exports['addUser1'] = function (test) {
    var user = User.create({username: 'Greg',
                        password: 'MyPassword!',
                        confirmPassword: 'MyPassword!',
                        familyName: 'LastName1',
                        givenName: 'FirstName1',
                        email: 'Greg@greg.com'});
User.add(user, function (answerDict) {
    test.equal(answerDict, {'errCode': 1});
    test.done();
});
}; 
```

和输出

```
...../test/test-user.js:2
  , User = geddy.model.User;
           ^
ReferenceError: geddy is not defined
..... 
```

编辑：以为我会在此处发布解决方案的直接链接。在 github 问题跟踪器上获得一些帮助后，我能够进行测试和代码覆盖工作。我在这里也有一个小文章并链接到示例代码：[https ://github.com/mde/geddy/wiki/Unit-Testing-&-Code-Coverage-With-Geddy](https://github.com/mde/geddy/wiki/Unit-Testing-&-Code-Coverage-With-Geddy)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:48:46.963

你能用示例代码简要解释一下吗？您是否尝试过框架[vows](https://github.com/cloudhead/vows)或[mocha](https://github.com/visionmedia/mocha)

这是测试框架的完整列表。看看它。

[测试框架](https://github.com/joyent/node/wiki/modules#wiki-testing)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T18:05:46.047

这是作为一个[问题](https://github.com/mde/geddy/issues/337)提出的。请在那里跟进。问题解决后，我会更新答案。

# c# - WCF递归收集数据合同不起作用

> ID：15564276
> 
> 赞同：0
> 
> 时间：2013-03-22T06:39:48.243
> 
> 标签：c#, visual-studio-2010, wcf, silverlight, visual-studio-2012

我在 2010 年有一个可行的解决方案，我已经搬到 2012 年，只要我没有修改我在 Silverlight 项目中对 WCF 服务的引用，它就可以正常工作。

现在，我在以前工作得很好的课程上遇到了以下错误。我尝试将代码回滚到工作版本，并仅更新 SL 项目中的服务引用，然后点击 build。

它在之前构建，但不在之后。请注意，一切正常，并且该集合在服务器和客户端之间发送就好了。

完整的错误文本在这里：

> ```
> Warning   134 Custom tool warning: Cannot import wsdl:portType
> Detail: An exception was thrown while running a WSDL import extension: 
> ```
> 
> System.ServiceModel.Description.DataContractSerializerMessageContractImporter 错误：类型“MyAssembly.ResultTreeDto”是不支持的递归集合数据协定。考虑修改集合“MyAssembly.ResultTreeDto”的定义以删除对自身的引用。

非常感谢任何帮助。以防万一：类可以被认为是递归的，下面是一个示例代码：

```
 public class ResultTreeDto 
    {

        public List<ResultTreeDto> Leafs { get; set; }
        ..... 
```

我真的很震惊。点击这个更新服务参考按钮经常会导致很多麻烦。

我不确定问题是否仅与 SL 有关，从错误来看，这听起来不仅与我认为的有关。

自从我上次更新服务参考电话以来可能出了什么问题，我真的不知道从哪里开始寻找。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T22:31:09.617

据我了解，最近的一个补丁修复了一个类似的问题。您可以尝试安装[http://support.microsoft.com/kb/2750149（Windows](http://support.microsoft.com/kb/2750149) 8）或[http://support.microsoft.com/kb/2750147](http://support.microsoft.com/kb/2750147)（其他操作系统），看看是否能解决您的问题。

# tsql - 如何在发送 sp_send_dbmail (Transact-SQL) 时删除日期中的字母“T”

> ID：15564278
> 
> 赞同：1
> 
> 时间：2013-03-22T06:39:52.020
> 
> 标签：tsql, sp-send-dbmail

我创建了一个 sp_send_dbmail，它从我的数据库中获取查询信息，但现在当它返回日期时，需要空格的地方会显示一个“T”。

我试图用空格替换“T”`Set @Body = Replace(@Body, '<TRRow>T</TRRow>', '')` 但没有任何反应

请帮忙 ！

```
Set @TableHead = '<html><head>' +
              '<H1 style="color: #000000">SpeedDail Lookup</H1>' +
              '<style>' +
              'td {border: solid black 1px;padding-left:5px;padding-right:5px;padding-top:1px;padding-bottom:1px;font-size:11pt;color:Black;} ' +
              '</style>' +
              '</head>' +
              '<body><table cellpadding=0 cellspacing=0 border=0>' +
              '<tr bgcolor=#F6AC5D>'+
              '<td align=center><b>Erf ID</b></td>' +
              '<td align=center><b>SpeedDail Base</b></td>' +
              '<td align=center><b>Contact No</b></td>' +
              '<td align=center><b>Indicator</b></td>' +   
              '<td align=center><b>Gate ID</b></td>' +
              '<td align=center><b>Is Deleted</b></td>' +
              '<td align=center><b>Insert Date</b></td>' +  
              '<td align=center><b>Update Date</b></td>' +                 
              '<td align=center><b>Person ID</b></td></tr>';

--Select information for the Report--   
Select @Body= (Select 
   ErfId           As [TD],
   SpeedDialBase   As [TD],
   ContactNo       As [TD],
   Indicator       As [TD],
   GateId          As [TD],
   IsDeleted       As [TD],
   InsertDate      As [TD],
   UpdateDate      As [TD],
   PersonId        As [TD]
FROM [DB].[dbo].[SpeedDialLookup]

For XML raw('tr'), Elements)

-- Replace the entity codes and row numbers
Set @Body = Replace(@Body, '_x0020_', space(1))
Set @Body = Replace(@Body, '_x003D_', '=')
Set @Body = Replace(@Body, '<tr><TRRow>1</TRRow>', '<tr bgcolor=#C6CFFF>')
Set @Body = Replace(@Body, '<TRRow>0</TRRow>', '')

Set @Body = @TableHead + @Body + @TableTail 
```

输出

```
2012-05-02T10:30:05.153 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:08:36.730

在查询中明确格式化您的日期。

```
Select @Body= (Select 
   ErfId           As [TD],
   SpeedDialBase   As [TD],
   ContactNo       As [TD],
   Indicator       As [TD],
   GateId          As [TD],
   IsDeleted       As [TD],
   convert(nvarchar, InsertDate, 121)      As [TD],
   convert(nvarchar, UpdateDate, 121)      As [TD],
   PersonId        As [TD]
FROM [DB].[dbo].[SpeedDialLookup]
For XML raw('tr'), Elements) 
```

# zend-framework - 如何正确扩展 Zend View

> ID：15564284
> 
> 赞同：0
> 
> 时间：2013-03-22T06:40:11.227
> 
> 标签：zend-framework, zend-view

在我的 MVC 应用程序的视图和布局脚本中，我经常需要访问方便的方法，例如`isLoggedIn()`或`isAdmin()`. 我想将这些放在基本视图中，以便我可以使用`$this->isLoggedIn()`或访问它们`$this->isAdmin()`。这样做的正确方法是什么？

我尝试用 MY_Base_View 扩展 Zend_View。然后我创建了一个 View 资源并从我的引导程序中对其进行了初始化。我知道它正在初始化，因为页面标题工作正常。这是资源中的代码：

```
$this->_view = new MY_Base_View();
$this->_view->headTitle('My page title!'); 
```

但是，当我在视图脚本中时，如果 I `print_r($this)`，它表示该对象是 Zend View 对象（不是 MY_Base_View）。

布局也有类似的问题。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:15:45.820

啊！！整理出来。在视图资源中，我需要为 ViewRenderer 设置视图，如下：

```
 $viewRenderer = Zend_Controller_Action_HelperBroker
        ::getStaticHelper('ViewRenderer');
    $viewRenderer->setView($this->_view); 
```

（它在手册的资源部分！）无论如何，这就是我所要做的。为了完成它的工作，布局会寻找在渲染器中注册的视图......

# java - 方法扫描仪输入java？

> ID：15564289
> 
> 赞同：-1
> 
> 时间：2013-03-22T06:40:55.823
> 
> 标签：java, methods

我正在尝试制作一种询问用户金额的方法，然后它检查金额是否> 0，如果它是循环结束，如果输入不是> 0，则循环继续，直到输入正确的数据。我无法弄清楚我的问题..

```
/** Get principal amount **/
public static double getPrincipalAmount(double numb1) {
    Scanner input = new Scanner(System.in);
    do {
        System.out.print("Enter Loan Amount: ");
        double numb1 = input.nextDouble();
        double getPrincipalAmount = 0;
        if (numb1 > 0) {
            getPrincipalAmount = numb1;
        } else {    
            System.out.println("Data Error: Loan amount must be greater than zero. You entered " + numb1);
        }       
    } while (numb1 < 0);
    return getPrincipalAmount;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T06:52:41.300

尝试这个！！！

导入 java.util.Scanner；

```
public class PrinipalDemo{

    public static void main(String args[]){

            Scanner input = new Scanner(System.in);
            double numb11;
            double getPrincipalAmount ;
           do{System.out.print("Enter Loan Amount: ");
             numb11 = input.nextDouble();
             getPrincipalAmount = 0.0;
             if(numb11 > 0)
            getPrincipalAmount = numb11;
                  else{   
                          System.out.println("Data Error: Loan amount must be greater than zero. You entered " +numb11);
                  }       
                 }while (numb11 < 0);

        System.out.println(getPrincipalAmount);

    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:51:01.683

您的代码有几个问题。首先，您将变量`numb1`作为参数传递给方法`getPrincipalAmount(double numb1)`。这就是为什么新声明给你一个`Duplicate local variable numb1`变量的原因。

其次，您正在返回`getPrincipalAmount`，但它仅在`do - while`循环内初始化。您需要在循环外对其进行初始化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:52:37.630

我认为你最好这样做

```
public static double getPrincipalAmount(double numb1) {
    numb1 = 0;
    Scanner input = new Scanner(System.in);
    do {

        System.out.print("Enter Loan Amount: ");
        numb1 = input.nextDouble();
        double getPrincipalAmount = 0;
        if (numb1 > 0) {
            getPrincipalAmount = numb1;
        } else {    
            System.out.println("Data Error: Loan amount must be greater than zero. You entered " + numb1);
        }       
    } while (numb1 < 0);
    return getPrincipalAmount;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T06:53:30.017

理想情况下，您应该解决这些小问题，仍然可以-

```
public static double getPrincipalAmount() {
    final Scanner input = new Scanner(System.in);
    double getPrincipalAmount = 0;
    double numb1;
    do {
        System.out.print("Enter Loan Amount: ");
        if ((numb1 = input.nextDouble()) > 0) {
            getPrincipalAmount = numb1;
        } else {
            System.out.println("Data Error: Loan amount must be greater than zero. You entered " + numb1);
        }
    } while (numb1 < 0);
    return getPrincipalAmount;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:00:18.577

1.  无需参数化方法：`getPrincipalAmount(double numb1)`
2.  `getPrincipalAmount`必须在方法范围内
3.  `Scanner input`必须关闭

**尝试这个**

```
import java.util.Scanner;
public class so7 
{
public static void main(String args[])
{
    getPrincipalAmount();
}
/** Get principal amount **/
public static double getPrincipalAmount() {
    Scanner input = new Scanner(System.in);
    double getPrincipalAmount = 0;
    double numb = 0;
    do {
        System.out.print("Enter Loan Amount: ");
        numb = input.nextDouble();
        if (numb > 0) {
            getPrincipalAmount = numb;
        } else {    
            System.out.println("Data Error: Loan amount must be greater than zero. You entered " + numb);
        }       
    } while (numb < 0);
    input.close();
    return getPrincipalAmount;
}
} 
```

# css - 如何将DIV高度拉伸到父DIV？

> ID：15564290
> 
> 赞同：1
> 
> 时间：2013-03-22T06:40:56.307
> 
> 标签：css, html, layout

我在让我的 div 垂直拉伸时遇到了一些麻烦。我已经阅读了许多 SO 问题和答案，但我还没有找到似乎对我有用的解决方案。

目前我正在使用两个 div，它们应该是相等的宽度拉伸以使用总可用宽度。每个 div 的高度应该适合内容，或者拉伸到父高度，以较大者为准。我发现当我开始将内容放入这些块中时，如果其中一个的内容比另一个多，那么块的高度就不再对齐。

我试过玩 clearfix 和 height=100% 但我似乎无法让它工作。

```
Currently:
+---------+  +---------+     +---------+  +---------+
|  Text   |  | Text B  | OR  | Text A  |  |   Text  |
|    A    |  +---------+     +---------+  |    B    |
+---------+                               +---------+

Instead of: 
+---------+  +---------+     +---------+  +---------+
|  Text   |  | Text B  | OR  | Text A  |  |   Text  |
|    A    |  |         |     |         |  |    B    |
+---------+  +---------+     +---------+  +---------+ 
```

这是我的 html 布局：

```
<div class="grid-row">
    <div class="panel-quarter">
        <div class="panel-content bgnd-blue">
            <h2>First Block</h2>
            <p>What if there is just a short amount of text here.</p>
        </div>
    </div>
    <div class="panel-quarter">
        <div class="panel-content bgnd-green">
            <h2>Second Block</h2>
            <p>And what if there is a really long section of text here that could go on for quite a few lines, especially more than the previous blocks text. This would make the heights somewhat mis-aligned it would seem.</p>
        </div>
    </div>
</div> 
```

这是我的风格：

```
.grid-row {
    display: block;
    height: auto;
    width: 100%;
    margin-bottom: 1em;
}

.panel-quarter {
    float: left;
    width: 50%;
}

.panel-quarter:first-of-type {
    padding-right: 1em;
}

.panel-content {
    padding: 1em;
}

.grid-row:after {
  content: "";
  display: table;
  clear: both;
}

.panel-quarter, 
.panel-quarter:after, 
.panel-quarter:before {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} 
```

这是一个 JSFiddle：http: [//jsfiddle.net/zg4NB/](http://jsfiddle.net/zg4NB/)

如果你们中的一个 css 大师可以告诉我我需要调整（希望）或完全重新设计（希望不是）的地方，那将不胜感激。我相信有一天我会完全了解 CSS，但希望到那时所有这些布局的东西都会被简化 =)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:43:45.307

If you are using CSS3 than why you are not using `flexBox` layout. That will resolve your issue easily.

Check for details on Mozilla : [Using CSS flexible boxes](https://developer.mozilla.org/en-US/docs/CSS/Tutorials/Using_CSS_flexible_boxes)

For IE you can go for : [Grid layout](http://msdn.microsoft.com/en-ca/library/ie/hh673533%28v=vs.85%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:58:48.660

你可以用一行js来实现。

```
$('.panel-content').css('height', $('.grid-row').outerHeight()); 
```

[http://jsfiddle.net/TAZhg/](http://jsfiddle.net/TAZhg/)

# c# - C# 如何在 WPF 中将 ListView 导出为 .CSV？

> ID：15564297
> 
> 赞同：2
> 
> 时间：2013-03-22T06:41:15.720
> 
> 标签：c#, wpf, csv

如何在 WPF 中将 ListView（填充有 sqlite）导出到 .CSV？我可以在winforms上做到这一点，但不能在wpf中做到这一点。请帮忙。提前致谢。

![在此处输入图像描述](../Images/cd9088bff4aaaaba1141be79a8525dc7.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T07:10:50.957

将 ListView 转换为数据表：

```
var listView1 = new ListView();
DataTable table = new DataTable();
foreach (ListViewItem item in listView1.Items)
{
    table.Columns.Add(item.ToString());
    foreach (var it in item.SubItems)
         table.Rows.Add(it.ToString());
 } 
```

使用以下代码制作 csv：

```
public void CreateCSVFile(DataTable dt, string strFilePath)
{
    StreamWriter sw = new StreamWriter(strFilePath, false);

    int iColCount = dt.Columns.Count;
    for (int i = 0; i < iColCount; i++)
    {
        sw.Write(dt.Columns[i]);
        if (i < iColCount - 1)
        {
            sw.Write(",");
        }
    }
    sw.Write(sw.NewLine);

    foreach (DataRow dr in dt.Rows)
    {
        for (int i = 0; i < iColCount; i++)
        {
            if (!Convert.IsDBNull(dr[i]))
            {
                sw.Write(dr[i].ToString());
            }
            if (i < iColCount - 1)
            {
                sw.Write(",");
            }
        }
        sw.Write(sw.NewLine);
    }
    sw.Close();
} 
```

# android - Eclipse DDMS and Jelly Bean . I don't see the Sdcard

> ID：15564300
> 
> 赞同：2
> 
> 时间：2013-03-22T06:41:22.517
> 
> 标签：android, usb, android-4.2-jelly-bean, ddms

I like to transfer Files from my Eclipse ( Java ) to the tablet over DDMS. This worked fine since I got an update to Jelly Bean. I guess it is because connecting to UBS automatically activates Media Device. I already tried to switch between MTS & PTP but both doesn't work.

Debugging and starting the app over DDMS works fine and the Android Tablet is recognized in DDMS. The problem is, that the sdcard has only a file-icon and is not accessable.

Any hints ? ![enter image description here](../Images/f51e6cc5650dccd3fa0d5f3ab6599cca.png) Regards

# lua - 是否可以在电晕中制作 zip 文件？

> ID：15564304
> 
> 赞同：2
> 
> 时间：2013-03-22T06:41:40.823
> 
> 标签：lua, compression, zip, coronasdk

我需要将文件发送到服务器，尽管文件大小约为。4-5 MB，但文件数约为 40-50。

那么我们可以在lua中制作压缩文件夹并将其发送到服务器吗？

我可以使用以下链接提取来自服务器的 zip 文件：http: [//www.keplerproject.org/luazip/examples.html](http://www.keplerproject.org/luazip/examples.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-01T23:37:57.093

您可以查看此页面[http://lua-users.org/wiki/CompressionAndArchiving](http://lua-users.org/wiki/CompressionAndArchiving)，它在 lua 中有一些压缩库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-23T23:49:16.823

除非您拥有 Corona 企业版并且可以自己添加 ZIP 支持，否则目前无法在 Corona SDK 中创建 ZIP 文件。

# android - Unable to load the image on imagebutton on create method

> ID：15564310
> 
> 赞同：0
> 
> 时间：2013-03-22T06:42:12.673
> 
> 标签：android

I have to load an image for image button on create.I wrote the below code.The image is not loaded when it comes in the UI.What am i doing wrong.This is my master activity and i am inheriting this in another activities.

```
super.onCreate(savedInstanceState);  
setContentView(R.layout.activity_master_page);  
TheContext = this;  
ImageButton ThePosLogoL=(ImageButton)findViewById(R.id.btnposlogo);  
ThePosLogoL.setBackgroundResource(R.drawable.smalllogo); 
```

Here is my button Layout

```
<ImageButton
android:id="@+id/btnposlogo"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="@null"
android:layout_centerVertical="true"
android:layout_alignParentLeft="true" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T06:46:09.367

```
ThePosLogoL.setImageResource(R.drawable.smalllogo); 
```

# php - 分组元素数组依赖于键检查？

> ID：15564314
> 
> 赞同：-1
> 
> 时间：2013-03-22T06:42:44.443
> 
> 标签：php, arrays, multidimensional-array

我有一个数组：

```
Array
    (
    [0] => Array
        (
            [id] => 0
            [type] => type1
            [aa] => 1.00
            [bb] => 0.00
            [cc] => 1.00
            [group] => new
        ),
    [1] => Array
        (
            [id] => 1
            [type] => type2
            [aa] => 1.00
            [bb] => 0.00
            [cc] => 1.00
            [group] => new
        ),
    [2] => Array
        (
            [id] => 4521081
            [type] => type3
            [aa] => 1.00
            [bb] => 0.00
            [cc] => 1.00
            [group] => old
        )
); 
```

如何对上述数组基键进行分组检查。结果看起来像这样：

```
Array(
    'new'=>array(
        'type1'=>array(
                    [id] => 0
                    [aa] => 1.00
                    [bb] => 0.00
                    [cc] => 1.00
                    ),
        'type2'=>array(
                        [aa] => 1.00
                        [bb] => 0.00
                        [cc] => 1.00
                        )
    ),
    'old'=>array(
             'type3'=>array(
                        [aa] => 1.00
                        [bb] => 0.00
                        [cc] => 1.00
                        )
            )
); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:47:05.310

试试这个 ：

```
$res    = array();
foreach($your_array as $val){
   $res[$val['group']][$val['type']]['id']  = $val['id'];
   $res[$val['group']][$val['type']]['aa']  = $val['aa'];
   $res[$val['group']][$val['type']]['bb']  = $val['bb'];
   $res[$val['group']][$val['type']]['cc']  = $val['cc'];
}

echo "<pre>";
print_r($res); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:50:56.500

```
foreach( $array as $each )
{
   $tmp = $each;
   unset( $tmp['group'],$tmp['type'] );
   $output[$each['group']][$each['type']] = $tmp;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:56:16.280

我愿意：

```
foreach($array as $each)
{
  $output[$each['group']] = $each;
} 
```

它有更大的尺寸，但看起来不错，有时您也需要组。

# c# - 如何使用 C# 将可用物理内存设置为指定大小？

> ID：15564316
> 
> 赞同：0
> 
> 时间：2013-03-22T06:42:48.217
> 
> 标签：c#, windows, memory, memory-management

是否可以使用 C# 编写可以占用指定大小物理内存的程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T06:44:13.390

C# 不是适合低级内存操作的语言。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:47:07.077

尝试参考这个问题>

[基于可用物理内存的数组大小](https://stackoverflow.com/questions/9673039/array-size-based-on-available-physical-memory)

这里的数组是根据可用的物理内存使用的。

参考那些答案。可能对你有帮助。

# c++ - 构造函数初始化

> ID：15564319
> 
> 赞同：1
> 
> 时间：2013-03-22T06:43:15.040
> 
> 标签：c++, class, constructor

我正在阅读 Andrew Koenig 和 Barbara E. Moo 的“Accelerated C++”，我正在阅读关于构造函数（5.1）的章节。

他们在这里提到

> 我们说过构造函数的存在是为了确保创建对象时其数据成员处于合理状态。一般来说，这个设计目标意味着每个构造函数都应该初始化每个数据成员。给成员一个值的需要对于内置类型的成员来说尤其重要。...
> 
> 虽然我们只显式地初始化了`midterm`和`final`，但其他数据成员被隐式初始化。具体来说，`n`由`string`默认构造函数`homework`初始化，由默认构造函数初始化`vector`。

他们正在谈论的课程是

```
class Student_info {
public:
    std::string name() const (return n;}
    bool valid() const {return !homework.empty();}
    std::istream& read(std::istream&);

    double grade() const;
private:
    std::string n;
    double midterm, final;
    std::vector<double> homework;
}; 
```

他们的默认构造函数是

```
Student_info::Student_info(): midterm(0), final(0) {} 
```

我想澄清一下，这意味着需要专门初始化术语之前没有的`int`东西？`double``std::`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:50:02.333

那是对的。
但 std:: 不是你要找的。

除非您明确地进行初始化，否则任何基本类型都不会被初始化。

等等`char/int/float/pointers`。另外（如下面的 Ian 所指出的）任何没有显式构造函数的类/联合都将默认初始化其成员（这意味着基本的（并且对于没有显式构造函数的类/联合的成员，它们是未定义的）。

旁注：

*   此规则适用于自动和动态存储期限对象
*   静态和线程存储持续时间对象初始化为零。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T06:48:15.160

`int`并且`double`是内置类型，而不是类，因此它们没有默认构造函数，并且默认情况下未定义。例如：

```
int a;
Student_info s; 
```

两个变量的语法是相同的，但是 的值`a`是未定义的，而 的值`s`是定义的，因为`Student_info s`实际上调用了构造函数，即`Student_info s = Student_info();`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T06:49:01.963

作者只是试图显示一个默认构造函数，其中所有内容都默认为等效于 0。对于字符串和向量，它们将是空的。对于 int 和 double 等原始类型，这些原始类型在声明期间的初始值默认为变量指向的内存中的值。这确实取决于编译器

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T06:50:21.260

它与 std 命名空间无关。n 和 homework 是类，它们的构造函数会在 Student_info 的构建过程中被调用。但是 midterm 和 final 是原始值，它们没有构造函数。在构造函数中初始化原始成员不是必需的，而是一种好的方式。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:24:47.037

还有更多。

**1)**对于**原始**类型或内置类型，**隐式**初始化（​​或编译器初始化）意味着无操作（什么都不做）。

**2）**对于**原始**类型或内置类型，**显式**初始化（​​或由程序员初始化）是显而易见的:)

如您的示例所示：

```
 Student_info::Student_info(): midterm(0), final(0) {} 
```

**3)**对于**非原始**类型，**隐式**初始化（​​或编译器初始化）意味着编译器可能（或可能不）为了初始化的目的合成一个构造函数。

> ```
>  Usually, a constructor is synthesized by the compiler under the following cases:
> 
>  a) The non-primitive type is polymorphic or derives from some polymorphic/non-polymorphic types,
>  b) The non-primitive type has a polymorphic/non-polymorphic member. 
> 
>  Compiler synthesized constructor will usually have code to 
> 
>  a) initialize v-pointer to v-table, 
>  b) call base class constructor, 
>  c) call constructors of members, so on, 
> 
>  basically driven by the definition of non-primitive type. 
> ```

**4)** 对于**非原始**类型，**显式**初始化（​​或由用户提供的构造函数初始化）意味着编译器将调用用户定义的构造函数，而不是为了初始化而合成一个。

例如，由各自的非原始类型（如 std::string 或 std::vector）定义的默认构造函数被调用。

**

> 注意：编译器可能仍会在用户定义的构造函数中扩充代码，以根据需要进行一些幕后初始化（请参阅上面的步骤 3 了解此类需求）。这样的增强代码将始终插入到构造函数内的用户定义代码之前！

**

# ruby-on-rails - 在 Rails Create Action 中控制执行顺序

> ID：15564333
> 
> 赞同：1
> 
> 时间：2013-03-22T06:44:16.670
> 
> 标签：ruby-on-rails, devise, controller, order-of-execution

Ruby 和一般编程的新手。到目前为止，我在找到任何问题的答案时都没有遇到任何问题，但找不到这个问题。

在我的应用程序中，Teams 控制器新建和创建操作正在跨多个关联模型创建多个新记录。其中一条记录未能创建，因为似乎较低的记录`@pool_user`之前正在执行`@department`，因此`@department.id`为 nil 并且 email 不能为空。

为了测试，我删除了该`@pool_user`行并将特定值插入`:userid =>`under`@competence`并按预期顺序执行，按预期创建所有记录。

我正在为用户模型使用设计，我怀疑它可能会首先影响它的初始化，但我似乎无法找到一种方法让它们以正确的顺序执行。

## 团队控制器.rb

```
def new
  @team = Team.new
  @department = Department.new
  @competence = Competence.new
  @pool_user = User.new

  respond_to do |format|
    format.html # new.html.erb
    format.json { render json: @team }
  end
end

def create
  @team = Team.new(params[:team])
  @department = @team.departments.build(:organization_id => User.current.organization_id, :team_id => @team.id)
  @pool_user = @team.users.build(:email => @department.id).save(:validate => false)
  @competence = @team.competences.build(:team_id => @team.id, :user_id => @pool_user.id)

  respond_to do |format|
    if @team.save
      format.html { redirect_to @team, notice: 'Team was successfully created.' }
      format.json { render json: @team, status: :created, location: @team }
    else
      format.html { render action: "new" }
      format.json { render json: @team.errors, status: :unprocessable_entity }
    end
  end
end 
```

随时纠正您在此处看到的任何其他不良做法或一般菜鸟动作。我只是想弄清楚为什么它没有按正确的顺序构建。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:57:26.303

问题不在于执行顺序。问题是[`.build`](http://guides.rubyonrails.org/association_basics.html#has_many-collection-build)在内存中创建了一个对象，但还没有将它保存到数据库中。这就是为什么你还`id`没有。您可能想[`.create`](http://guides.rubyonrails.org/association_basics.html#has_many-collection-create)改用。

您的代码的另一个问题是您在`:team_id => @team.id`不需要时通过。

在这段代码中：

```
@team.departments.build 
```

`:team_id`将由`build`方法隐式设置。因此，您可以简单地执行以下操作：

```
@department = @team.departments.build(:organization_id => ...) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:01:42.197

仅调用集合上的构建实际上不会保存记录。您需要在使用 id 属性之前保存它。

执行后，

```
@team = Team.new(params[:team]) 
```

或者

```
@department = @team.departments.build(:organization_id => User.current.organization_id, :team_id => @team.id) 
```

@team.id 或 @department.id 将为您提供 nil 值。

同样

```
@team.users.build(:email => @department.id).save(:validate => false) 
```

将返回布尔值，即真或假。

构建后，如果需要，您应该明确保存此值，例如

```
 @team = Team.new(params[:team])
    @team.save 
```

和

```
 @pool_user = @team.users.build(:email => @department.id)
    @pool_user.save(:validate => false) 
```

应该管用。

我建议您在实际编写任何代码之前在 Rails 控制台中尝试这一切。

# c - How to assign a value to an enum member at runtime?

> ID：15564335
> 
> 赞同：0
> 
> 时间：2013-03-22T06:44:18.877
> 
> 标签：c

Let I have below program. I would like to assign the value to the enum member at run time. How can i do it?

```
typedef enum test{
    a, b
}test;
typedef struct abc{
    test Test;
}abc;
int main(){

    abc ab;
    ab.Test.a = 5;//Throwing an error as "Expression must have class type"
    return 0;
} 
```

Please help me.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:50:43.083

为了清楚起见，An`enum`只是给 some 命名的一种方式。`constants`

它很有用，因为与`defines`相比，您为变量设置的名称（通常）不会被编译器丢弃，因此您可以在使用调试器浏览程序时看到它们。

如果要重新组合变量并为其设置值，请`structures`改用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T06:48:09.707

首先，枚举值是常量，因此以后不能在代码中更改它们。

其次，我不知道你想做什么..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T06:54:35.267

你的意思是这个吗？

```
typedef struct test{
    int a, b;
} test;
typedef struct abc{
    test Test;
} abc;

int main(){

    abc ab;
    ab.Test.a = 5;
    return 0;
} 
```

# android - How to check thread completed in android?

> ID：15564336
> 
> 赞同：0
> 
> 时间：2013-03-22T06:44:23.550
> 
> 标签：android, multithreading, download

I want to check whether a thread is completed or not.I want to download some data, when the download is completed then want to toast a message download completed .Here is my code and I used btn on click method to start the download.Now I want to check whether the download is completed.

```
public void startDownload(final int position) {

        Runnable runnable = new Runnable() {
            int Status = 0;

            public void run() {
                Log.v("thread", "thread rtun ");
                String urlDownload = MyArrList.get(position)
                        .get("VideoPathThum").toString();
                Log.v("log_tag", "urlDownload   ::: " + urlDownload
                        + "Position StartDownload ::: " + position);

                int count = 0;
                try {

                    URL url = new URL(urlDownload);
                    URLConnection conexion = url.openConnection();
                    conexion.connect();

                    int lenghtOfFile = conexion.getContentLength();
                    // Log.d("ANDRO_ASYNC", "Lenght of file: " + lenghtOfFile);

                    InputStream input = new BufferedInputStream(
                            url.openStream());

                    // Get File Name from URL
                    String fileName = urlDownload.substring(
                            urlDownload.lastIndexOf('/') + 1,
                            urlDownload.length());
                    download = new File(
                            Environment.getExternalStorageDirectory()
                                    + "/download/");
                    if (!download.exists()) {
                        download.mkdir();
                    }
                    strDownloaDuRL = download + "/" + fileName;
                    OutputStream output = new FileOutputStream(strDownloaDuRL);

                    byte data[] = new byte[1024];
                    long total = 0;

                    while ((count = input.read(data)) != -1) {

                        if (Thread.interrupted() == true) {
                            Log.v("log_tag", " interrupt");
                            output.flush();
                            output.close();
                            input.close();
                            updateStatus(position, 0);
                            SetMainProgressbar();
                            break;
                        }

                        total += count;
                        Status = (int) ((total * 100) / lenghtOfFile);
                        output.write(data, 0, count);

                        TestScrollNewDownloadActivity.this
                                .runOnUiThread(new Runnable() {
                                    public void run() {
                                        updateStatus(position, Status);
                                        SetMainProgressbar();
                                        // BusyExtMemory();

                                    }
                                });
                    }
                    output.flush();
                    output.close();
                    input.close();

                } catch (Exception e) {
                }

            }
        };

        tr = new Thread(runnable);
        tr.start();
        trlist.set(position, tr);

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T06:54:43.853

为此使用 AysncTask()。它比线程更好

```
DownloadAsync download = new DownloadAsync(position);
download.execute();

private class DownloadAsync extends AsyncTask<Void, Void, Void> {

    int pos;

    public incidentDetailAsync(int position) {

        pos = position;
    }

    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        try {
            progressDilaog = ProgressDialog.show(ActivityA.this,
                    "", "Loading", true, false);

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    protected Void doInBackground(Void... params) {

        try {
              String urlDownload = MyArrList.get(position)
                    .get("VideoPathThum").toString();
            Log.v("log_tag", "urlDownload   ::: " + urlDownload
                    + "Position StartDownload ::: " + position);

            int count = 0;
            try {

                URL url = new URL(urlDownload);
                URLConnection conexion = url.openConnection();
                conexion.connect();

                int lenghtOfFile = conexion.getContentLength();
                // Log.d("ANDRO_ASYNC", "Lenght of file: " + lenghtOfFile);

                InputStream input = new BufferedInputStream(
                        url.openStream());

                // Get File Name from URL
                String fileName = urlDownload.substring(
                        urlDownload.lastIndexOf('/') + 1,
                        urlDownload.length());
                download = new File(
                        Environment.getExternalStorageDirectory()
                                + "/download/");
                if (!download.exists()) {
                    download.mkdir();
                }
                strDownloaDuRL = download + "/" + fileName;
                OutputStream output = new FileOutputStream(strDownloaDuRL);

                byte data[] = new byte[1024];
                long total = 0;

                while ((count = input.read(data)) != -1) {

                    if (Thread.interrupted() == true) {
                        Log.v("log_tag", " interrupt");
                        output.flush();
                        output.close();
                        input.close();
                        updateStatus(position, 0);
                        SetMainProgressbar();
                        break;
                    }

                    total += count;
                    Status = (int) ((total * 100) / lenghtOfFile);
                    output.write(data, 0, count);

                    TestScrollNewDownloadActivity.this
                            .runOnUiThread(new Runnable() {
                                public void run() {
                                    updateStatus(position, Status);
                                    SetMainProgressbar();
                                    // BusyExtMemory();

                                }
                            });
                }
                output.flush();
                output.close();
                input.close();

            } catch (Exception e) {
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }

    @Override
    protected void onPostExecute(Void result) {
        super.onPostExecute(result);
        progressDilaog.dismiss();

        Toast.makeText(ActivityA.this,
                "Successfully Download", Toast.LENGTH_LONG).show();

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:56:57.657

使用[AysncTask()](http://developer.android.com/reference/android/os/AsyncTask.html)

调用使用： `new AsyncAction().execute(null,null,null);`

```
private class AsyncAction extends AsyncTask<String, Void, String> 
    {
         public boolean status=false;
        private ProgressDialog pd;
        @Override
        protected String doInBackground(String... arg0) 
        {
            // TODO Auto-generated method stub
            try
              {

            // download code

 String urlDownload = MyArrList.get(position)
                        .get("VideoPathThum").toString();
                Log.v("log_tag", "urlDownload   ::: " + urlDownload
                        + "Position StartDownload ::: " + position);

                int count = 0;
                try {

                    URL url = new URL(urlDownload);
                    URLConnection conexion = url.openConnection();
                    conexion.connect();

                    int lenghtOfFile = conexion.getContentLength();
                    // Log.d("ANDRO_ASYNC", "Lenght of file: " + lenghtOfFile);

                    InputStream input = new BufferedInputStream(
                            url.openStream());

                    // Get File Name from URL
                    String fileName = urlDownload.substring(
                            urlDownload.lastIndexOf('/') + 1,
                            urlDownload.length());
                    download = new File(
                            Environment.getExternalStorageDirectory()
                                    + "/download/");
                    if (!download.exists()) {
                        download.mkdir();
                    }
                    strDownloaDuRL = download + "/" + fileName;
                    OutputStream output = new FileOutputStream(strDownloaDuRL);

                    byte data[] = new byte[1024];
                    long total = 0;

                    while ((count = input.read(data)) != -1) {

                        if (Thread.interrupted() == true) {
                            Log.v("log_tag", " interrupt");
                            output.flush();
                            output.close();
                            input.close();
                            updateStatus(position, 0);
                            SetMainProgressbar();
                            break;
                        }

                        total += count;
                        Status = (int) ((total * 100) / lenghtOfFile);
                        output.write(data, 0, count);

                        TestScrollNewDownloadActivity.this
                                .runOnUiThread(new Runnable() {
                                    public void run() {
                                        updateStatus(position, Status);
                                        SetMainProgressbar();
                                        // BusyExtMemory();

                                    }
                                });
                    }
                    output.flush();
                    output.close();
                    input.close();

                } catch (Exception e) {
                }

            }

                  status=true;

            } 
              catch (Exception e) 
              {
                // TODO: handle exception
            }

            return null;
        }

        @Override
        protected void onPostExecute(String result) 
        {

           pd.dismiss();
    Toast.makeText(ActivityA.this,
                "Successfully Download", Toast.LENGTH_LONG).show();

        }

        protected void onPreExecute() 
        {
            // TODO Auto-generated method stub
            super.onPreExecute();
            pd = new ProgressDialog(ticket_detail.this);
            pd.setMessage("Please Wait ...");
            pd.setIndeterminate(true);
            pd.setCancelable(false);
            pd.show();
        }

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:55:17.607

最简单的方法是使用[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)。将要运行的代码放在 doInBackground 中的单独线程上。在 onPostExecute 中单独线程完成后，将要运行的代码放在 UI 线程上。

# javascript - jquery : How to unbind dynamically created elements?

> ID：15564340
> 
> 赞同：4
> 
> 时间：2013-03-22T06:45:00.387
> 
> 标签：javascript, jquery

I have buttons created dynamically. I know that bind/unbind is only applicable for elements not created dynamically. To add functionality I use `.live()` which works perfectly. My problem is Idk how to remove the functionality. Please help.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-22T06:47:34.430

`die()`为此使用功能

阅读[http://api.jquery.com/die](http://api.jquery.com/die)

同样在**Jquery-1.9**这些`functions`是`removed`

为此，您可以使用`on`和`off`

阅读[http://api.jquery.com/on](http://api.jquery.com/on)和[http://api.jquery.com/off](http://api.jquery.com/off)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-22T06:46:13.270

您可以使用[die](http://api.jquery.com/die/)删除以前由 live 附加的处理程序。

> [.live()](http://api.jquery.com/live/)方法已弃用。使用 .on() 附加事件处理程序。旧版本 jQuery 的用户应该使用 .delegate() 而不是 .live()。

您可以替换`live / die`为`on / off`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:36:00.717

我建议您在将元素输入页面后调用的单独函数中进行绑定和解除绑定。这样，您就可以完全控制何时发生的事情。

因此，首先创建元素，然后简单地调用 bindButton 函数。我在使用 Ajax 时经常遇到这个问题，这个解决方案是我最喜欢的。

```
function bindButton(){
    $('#newButton').click(function(){
        //do something
     }); 
```

然后，您可以创建一个类似的函数来随时取消绑定该单击事件。

# multithreading - fds的对称线程和公平处理

> ID：15564342
> 
> 赞同：1
> 
> 时间：2013-03-22T06:45:06.250
> 
> 标签：multithreading, sockets, network-programming

我正在开发基于对称线程思想的多线程软件。这里所有线程都将运行相同的过程。线程可以有以下工作要做

*   处理定时器消息
*   从套接字 fd 接收消息
*   从发送 Q 发送消息
*   投票工作

我们将有一个共享工作 Q，任何线程都可以从中挑选工作并开始执行。如果空闲线程发现没有可用的工作，它将轮询工作。

从 fd 读取数据时，一个线程将继续读取直到它获得 EAGAIN。当所有 fd 都获得相似数量的数据时，该软件运行良好。

当某些 fd 上有更多数据时。一些线程忙于为同一个 fd 提供服务，并且某些 fd 长时间未处理。这会导致临时缓冲区（例如，用于在获取 EAGAIN 时保持消息的缓冲区）填满，从而使系统不稳定。为了解决这个问题，我现在考虑在（对称）线程开始工作时只处理可配置数量的消息。不幸的是，fds 上的流量无法预测，因此可能需要大量实验才能使其适合某些网络条件。有没有其他方法可以确保（动态）对称线程在相当长的时间内处理所有 fd。如果您可以向我发送任何讨论链接，我将不胜感激，您以前处理类似场景的经验或您可能为处理此场景而开发的算法的详细信息。

看待问题的另一种方式是，

我有一个线程池和 fds 池。一些 fds 比其他 fds 有更多的数据要读/写。我想以这样的方式分配线程，具有更多数据的 fds 由更多数量的线程处理（尽管我将不得不解决并发问题）。这样，更多的 cpu 周期将分配给 fd，并有更多的数据要传输。解决此问题的一种方法是您有关 fds 的信息（哪个对等方将发送多少数据），但这是静态信息，只要 fds 的行为符合假设，它就会起作用。如果可能的话，我想开发一些动态方案。

# python - 各种 Python 脚本偶尔崩溃：“XXX 歧义！”

> ID：15564345
> 
> 赞同：2
> 
> 时间：2013-03-22T06:45:09.830
> 
> 标签：python, python-2.7

我有一个系统，它作为工作人员不断运行各种 python 脚本——它们在退出时重新启动，导致每个脚本每天运行大约数百次。一切都很好，除了每隔几天它们中的一个会随机崩溃并出现以下错误

```
XXX ambiguity!\nXXX ambiguity!\nXXX ambiguity!\nXXX ambiguity!\n...
XXX ambiguity!\nXXX ambiguity!\nXXX ambiguity!\nXXX ambiguity!\n...
Error processing line 1 of /usr/lib/python2.7/dist-packages/zope.interface-3.6.1-nspkg.pth:
  Traceback (most recent call last):
    File \"/usr/lib/python2.7/site.py\", line 157, in addpackage
      exec line
    File \"<string>\", line 1
    import sys,types,os; p = os.path.join(sys._getframe(1).f_locals['sitedir'], *('zope',)); ie = os.path.exists(os.path.join(p,'__init__.py')); m = not ie and sys.modules.setdefault('zope',types.ModuleType('zope')); mp = (m or []) and m.__dict__.setdefault('__path__',[]); (p not in mp) and mp.append(p)
        SyntaxError: unexpected EOF while parsing
        Remainder of file ignored
XXX ambiguity!\nXXX ambiguity!\nXXX ambiguity!\nXXX ambiguity!\n...
MemoryError 
```

抱歉，如果我修改了跟踪，我的日志记录会对它造成丑陋的影响。另外，请注意我已经截断了这些`XXX`行：`XXX ambiguity!\n`实际上可能重复了一百次。

我不在我自己的代码中使用`zope.interface`任何地方：它是作为 tornado 的依赖项安装的，更具体地说`tornado.twisted`，我也不使用它。不过，我倾向于认为问题出在 python 上（或者我如何使用它来执行我的脚本），而指向手指的堆栈`zope.interface`只是一个症状。

脚本本身使用 运行`/usr/bin/nice`，通常采用以下形式

```
#!/usr/bin/env python
from sharedlib import queue
import time
import logging

logger = logging.getLogger(__name__)

def main():
    for item in queue.rest:  # queue.rest yields from an immutable source
        logger.info("An item in the queue: %s", item)

if __name__ == '__main__':
    main()
    time.sleep(600)  # Used for throttling the rate of script execution 
```

在此先感谢 - 这一直把我逼疯了。

# android - viewpager 中的垂直滚动

> ID：15564352
> 
> 赞同：8
> 
> 时间：2013-03-22T06:45:59.450
> 
> 标签：android, android-fragments, android-viewpager

我有一个`fragmentPagerAdapter viewpager`里面有几个片段类。所以这`viewpager`会通过滑动左右水平滚动。问题是在每一页上我的值都超过了页面大小，我需要垂直滚动才能看到它们。但我无法启用任何垂直滚动。我已经删除了所有`scrollview`我拥有的 s 并使我的代码进入工作状态。（我想要类似 Android 应用商店的东西：水平滚动查看类别，垂直滚动查看应用。）

这是我的代码：

MyFragmentPagerAdapter：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

        <android.support.v4.view.ViewPager
            android:id="@+id/pager"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:isScrollContainer="true">

            <android.support.v4.view.PagerTitleStrip
                android:id="@+id/pager_title_strip"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="top"
                android:background="#33b5e5"
                android:paddingBottom="4dp"
                android:paddingTop="4dp"
                android:textColor="#fff" />
        </android.support.v4.view.ViewPager>
</RelativeLayout> 
```

需要垂直滚动的片段活动：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="30dp"
        android:layout_marginTop="10dp"
        android:text="Last fill-up spent :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView1"
        android:layout_below="@+id/textView1"
        android:layout_marginTop="15dp"
        android:text="Month total spent :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/currentMoneySpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/textView2"
        android:layout_marginLeft="24dp"
        android:layout_toRightOf="@+id/textView1"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/monthTotalSpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/textView2"
        android:layout_alignLeft="@+id/currentMoneySpentText"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView2"
        android:layout_below="@+id/textView2"
        android:layout_marginTop="15dp"
        android:text="Year total spent :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView3"
        android:layout_below="@+id/textView3"
        android:layout_marginTop="15dp"
        android:text="Since 1st addition :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/yearTotalSpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/textView4"
        android:layout_alignLeft="@+id/monthTotalSpentText"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/firstTotalSpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/textView4"
        android:layout_alignLeft="@+id/yearTotalSpentText"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView7"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView6"
        android:layout_below="@+id/textView6"
        android:layout_marginTop="1dp"
        android:text="since last addition :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView8"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView7"
        android:layout_below="@+id/textView7"
        android:layout_marginTop="15dp"
        android:text="Distance covered"
        android:textSize="15dp" />
</RelativeLayout> 
```

这是我的片段类的前几行，它们是相关的：

```
public class MyFragmentDetails extends Fragment {

private RelativeLayout ll;
private FragmentActivity fa;
DBAdapter db;

// MyFragmentFuel fFuels;
private String carSelected, m, y, lowestDistance, highestDistance;

BroadcastReceiver receiver;
int highestDay = 0;
int lowestDay = 31;

public void onActivityCreated(Bundle savedInstanceState) {
    super.onActivityCreated(savedInstanceState);
}

@SuppressWarnings("static-access")
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    fa = super.getActivity();
    super.onCreate(savedInstanceState);
    ll = (RelativeLayout) inflater.inflate(
            R.layout.activity_add_fuel_details, container, false); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2020-02-13T08:02:38.200

官方小部件[ViewPager2](https://developer.android.com/jetpack/androidx/releases/viewpager2)支持垂直和水平滚动。

`<androidx.viewpager2.widget.ViewPager2 xmlns:android="http://schemas.android.com/apk/res/android" android:id="@+id/pager" android:orientation="vertical" />`

[您可以在此处](https://developer.android.com/training/animation/vp2-migration)阅读更多内容，也可以从[github](https://github.com/android/views-widgets-samples/tree/master/ViewPager2)签出示例项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-19T11:55:38.247

尝试将您的内容放在滚动视图中，如下所示：

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >
 <LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="30dp"
        android:layout_marginTop="10dp"
        android:text="Last fill-up spent :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView1"
        android:layout_below="@+id/textView1"
        android:layout_marginTop="15dp"
        android:text="Month total spent :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/currentMoneySpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/textView2"
        android:layout_marginLeft="24dp"
        android:layout_toRightOf="@+id/textView1"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/monthTotalSpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/textView2"
        android:layout_alignLeft="@+id/currentMoneySpentText"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView2"
        android:layout_below="@+id/textView2"
        android:layout_marginTop="15dp"
        android:text="Year total spent :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView3"
        android:layout_below="@+id/textView3"
        android:layout_marginTop="15dp"
        android:text="Since 1st addition :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/yearTotalSpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/textView4"
        android:layout_alignLeft="@+id/monthTotalSpentText"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/firstTotalSpentText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/textView4"
        android:layout_alignLeft="@+id/yearTotalSpentText"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView7"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView6"
        android:layout_below="@+id/textView6"
        android:layout_marginTop="1dp"
        android:text="since last addition :"
        android:textSize="15dp" />

    <TextView
        android:id="@+id/textView8"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView7"
        android:layout_below="@+id/textView7"
        android:layout_marginTop="15dp"
        android:text="Distance covered"
        android:textSize="15dp" />
 </LinearLayout>
</ScrollView> 
```

之后，如果您想在滚动条上执行任何特定事件，请使用：

这是适用的android版本棉花糖及以上：

```
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
                mScrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {
                    @Override
                    public void onScrollChange(View v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {
                        if (view.getTop() == scrollY) {
                            Log.e(TAG, "onScrollChange: top");
                        } else {

                        }
                    }
                });
            } 
```

对于较低版本，您可以使用：

```
final ViewTreeObserver.OnScrollChangedListener onScrollChangedListener = new
                    ViewTreeObserver.OnScrollChangedListener() {

                        @Override
                        public void onScrollChanged() {
                            int scrollY = mScrollView.getScrollY(); // For ScrollView
                            int scrollX = mScrollView.getScrollX(); // For HorizontalScrollView
                            // DO SOMETHING WITH THE SCROLL COORDINATES
                            if (view.getTop() == scrollY) {

                                Log.e(TAG, "ViewTreeObserver onScrollChange: top" );
                            } 
                        }
                    };
            mScrollView.setOnTouchListener(new View.OnTouchListener() {
                private ViewTreeObserver observer;

                @Override
                public boolean onTouch(View v, MotionEvent event) {
                    if (observer == null) {
                        observer = mScrollView.getViewTreeObserver();
                        observer.addOnScrollChangedListener(onScrollChangedListener);
                    }
                    else if (!observer.isAlive()) {
                        observer.removeOnScrollChangedListener(onScrollChangedListener);
                        observer = mScrollView.getViewTreeObserver();
                        observer.addOnScrollChangedListener(onScrollChangedListener);
                    }

                    return false;
                }
            }); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-09-19T12:02:19.693

在你的项目中创建一个类把这个

```
public class VerticalViewPager extends ViewPager {

public VerticalViewPager(Context context) {
    super(context);
    init();
}

public VerticalViewPager(Context context, AttributeSet attrs) {
    super(context, attrs);
    init();
}

private void init() {
    // The majority of the magic happens here
    setPageTransformer(true, new VerticalPageTransformer());
    // The easiest way to get rid of the overscroll drawing that happens on the left and right
    setOverScrollMode(OVER_SCROLL_NEVER);
}

/**
 * Swaps the X and Y coordinates of your touch event.
 */
private MotionEvent swapXY(MotionEvent ev) {
    float width = getWidth();
    float height = getHeight();

    float newX = (ev.getY() / height) * width;
    float newY = (ev.getX() / width) * height;

    ev.setLocation(newX, newY);

    return ev;
}

@Override
public boolean onInterceptTouchEvent(MotionEvent ev) {
    boolean intercepted = super.onInterceptTouchEvent(swapXY(ev));
    swapXY(ev); // return touch coordinates to original reference frame for any child views
    return intercepted;
}

@Override
public boolean onTouchEvent(MotionEvent ev) {
    return super.onTouchEvent(swapXY(ev));
}

private class VerticalPageTransformer implements ViewPager.PageTransformer {

    @Override
    public void transformPage(View view, float position) {

        if (position < -1) { // [-Infinity,-1)
            // This page is way off-screen to the left.
            view.setAlpha(0);

        } else if (position <= 1) { // [-1,1]
            view.setAlpha(1);

            // Counteract the default slide transition
            view.setTranslationX(view.getWidth() * -position);

            //set Y position to swipe in from top
            float yPosition = position * view.getHeight();
            view.setTranslationY(yPosition);

        } else { // (1,+Infinity]
            // This page is way off-screen to the right.
            view.setAlpha(0);
        }
    }
}

} 
```

在 XML 中调用这个类而不是 `android.support.v4.view.ViewPager`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-10T19:05:42.613

尝试将内容包装在`NestedScrollView`. 如果滚动仍然不起作用（在我的情况下没有），如果您垂直滚动，请尝试添加一个`OnTouchListener`调用`requestDIsallowInterceptTouchEvent(true)`其父级的调用：

```
scrollView.setOnTouchListener(new View.OnTouchListener() {
        int dragthreshold = 30;
        int downX = 0;
        int downY = 0;

        @Override
        public boolean onTouch(View view, MotionEvent event) {
            switch (event.getAction()) {
                case MotionEvent.ACTION_DOWN:
                    downX = (int) event.getRawX();
                    downY = (int) event.getRawY();
                    break;

                case MotionEvent.ACTION_MOVE:
                    int distanceX = Math.abs((int) event.getRawX() - downX);
                    int distanceY = Math.abs((int) event.getRawY() - downY);

                    if (distanceY > distanceX) {
                        view.getParent().requestDisallowInterceptTouchEvent(true);
                    } else if (distanceX > distanceY && distanceX > dragthreshold) {
                        view.getParent().requestDisallowInterceptTouchEvent(false);
                    }
                    break;

                case MotionEvent.ACTION_UP:
                    view.getParent().requestDisallowInterceptTouchEvent(false);
                    break;
            }
            return false;
        }
    }); 
```

# bash - ${!arr[*]} is different in bash and ksh?

> ID：15564354
> 
> 赞同：3
> 
> 时间：2013-03-22T06:46:02.980
> 
> 标签：bash, ksh

For example:

```
arr=([5]=5 [10]=10)
echo ${!arr[*]} 
```

Bash outputs `5 10` but ksh outputs `10 5`? They don't mean the same?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T06:54:44.403

The `${!var[@]}` / `${!var[*]}` expansion is identical in all shells that support it.

In ksh93, if you specify any indexes to your array without explicitly declaring a type, it will always assume an associative array, which is unordered, unlike in Bash, where you can only declare an associative array by using `typeset -A` explicitly.

```
 $ a=([5]=yo [10]=jo); typeset -p a
typeset -A a=([10]=jo [5]=yo) 
```

If you want to specify an indexed array using compound assignment that specifies keys, you have to use

```
typeset -a arr=([5]=5 [10]=10) 
```

To be really portable (with zsh and mksh) you can't specify assignments as arguments to `typeset`, and therefore have to use

```
typeset -a arr; arr+=([5]=5 [10]=10) # portable to bash/ksh93/mksh
typeset -a arr; arr[5]=5 arr[10]=10  # portable to bash/ksh93/mksh/zsh

# (typeset to localize), most ksh derivs. bash/ksh88/pdksh/mksh/zsh etc
typeset arr; arr[5]=5 arr[10]=10

# set -A name -- value ... # Also portable to most ksh derivs EXCEPT bash. 
```

There are many other differences. For instance, if you specify keys within a compound assignment, ksh forces you to do so for every element and won't implicitly increment the indexes like bash and mksh will. One of the nice things about ksh93 though is that it won't set append mode on all subscripts using `arr+=(...)` like bash will, so you can update multiple keys of an array at once without unsetting all elements, and without appending to previously existing elements.

*   [http://wiki.bash-hackers.org/syntax/arrays#bugs_and_portability_considerations](http://wiki.bash-hackers.org/syntax/arrays#bugs_and_portability_considerations)

# html - 如何在没有项目符号的文本下划线

> ID：15564355
> 
> 赞同：0
> 
> 时间：2013-03-22T06:46:05.803
> 
> 标签：html, css

有没有办法只在（无）有序列表中的文本下划线？具体来说，比如说，我有一个菜单，内联显示，没有项目符号，其中每个项目都是一个链接。链接没有下划线，但是当用户将鼠标悬停在它们上面时，它们会被带下划线。然后他们用不可见的要点强调，这让我很烦恼。有没有办法只在文本下划线？

答案：原来，我的问题不在于子弹。此外，它是如此愚蠢，以至于我现在为这个问题感到羞耻。我以为我记得所有被编码的​​东西，但结果我`&nbsp;`出于某种奇怪的原因在列表项之前有一个。我保留了所有内容，但是将 :hover 从作用于`<a>`标签上更改为`<span>`带有“悬停”类的标签，该类包围了文本，而省略了`&nbsp;`. 现在一切都很好，我只得到了带下划线的文本。感谢@Ken Clark 指出`<span>`“技巧”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:53:34.047

无法理解你到底在问什么。

如果您不希望项目符号出现在无序列表中

```
<ul type="none">  <u><li>one</li></u>  <u><li>two</li></u>  <u><li>three</li></u></ul> 
```

将类型设置为 none 将删除项目符号。

```
<ul style="list-style-type:none"> 
```

以上将完美运行。因为 type:none 可能不会被所有浏览器接受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:54:35.683

将您的 ul 的列表样式设置为无：

```
ul { list-style: none } 
```

悬停时的下划线不会在子弹过去的位置下划线。这是一个要演示的[小提琴。](http://jsfiddle.net/yLYww/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:55:49.640

像这样？

[jsFiddle](http://jsfiddle.net/wMSFp/)

**HTML**

```
<ul>
    <li><a>Link</a></li>
    <li><a>Link</a></li>
    <li><a>Link</a></li>
</ul> 
```

**CSS**

```
a {
    text-decoration:underline;
} 
```

这只会在链接下划线，而不是项目符号。如果您只希望它在悬停时加下划线，则将 CSS 更改为：

```
a {
    text-decoration:none;
}
a:hover {
    text-underline;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T06:56:09.090

从链接和内部删除下划线`a:hover`将您的文本放在一个跨度中并为该跨度赋予下划线样式：示例：

```
<style>
.anchor
{
    text-decoration:none;
}

.anchor:hover
{
    text-decoration:none;
}
.spnItem:hover
{

    text-decoration:underline;
}
</style>
<a href="#" class="anchor"><span class="spnItem">Item</span> </a> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:09:04.560

这对你有用吗？

```
ul li
{
    list-style:none;
}

a:hover{
    text-decoration:underline;
    cursor:pointer;
}
```

```
<ul>
    <li><a>Link</a></li>
    <li><a>Link</a></li>
    <li><a>Link</a></li>
</ul>
```

# shell - shell脚本中scen$i的含义

> ID：15564358
> 
> 赞同：0
> 
> 时间：2013-03-22T06:46:18.800
> 
> 标签：shell

```
#!/bin/sh
export CLASSPATH=.

for i in "1" "2" "3" "4" "5"
do
echo "running simulation $i..."

cd /home/acharya/ns-allinone-2.35/ns-2.35/
./ns /home/acharya/Desktop/xx/wrls.tcl
mv conf-out-tdsr.tr /home/acharya/Desktop/xx/parser
mv monitorlog.txt /home/acharya/Desktop/xx/parser/r2/evil$2/scen$i
mv reputationlog.txt /home/acharya/Desktop/xx/parser/evil$2/scen$i
mv pathmanagerlog.txt /home/acharya/Desktop/xx/parser/r2/evil$2/scen$i
mv misbehavenodeslog.txt /home/acharya/Desktop/xx/parser/r2/evil$2/scen$i
cd /home/acharya/Desktop/xx/parser/
java DSRParser trace conf-out-tdsr.tr $1 $2 > r2/evil$2/scen$i/scen-r2-$i.txt
java DSRParser routestats r2/evil$2/scen$i/pathmanagerlog.txt $1 $2 >> r2/evil$2/scen$i/scen-r2-$i.txt
cd ..done 
```

这是第二个脚本-：

```
#!/bin/sh
export CLASSPATH=.
#./run1.sh
for i in "0" "10" "20" "30" "40"   
do   
    echo "Simulating evil node no. $i ..."
    cp /home/acharya/Desktop/xx/hdr_confidant.hevil$i /home/acharya/ns-allinone-2.35/ns-2.35/dsr/hdr_confidant.h
    cd /home/acharya/ns-allinone-2.35/ns-2.35
    rm dsr/*.o
    make
    cd /home/acharya/Desktop/xx/
    ./run.sh 50 $i
done 
```

这是我想知道的两个shell脚本的含义。

```
mv monitorlog.txt /home/acharya/Desktop/xx/parser/r2/evil$2/scen$i 
```

关于`scen$i`使用的。 `cp /home/acharya/Desktop/xx/hdr_confidant.hevil$i` 因为文件名只是 hdr_confidant.h 但`evil$i`与它一起使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:57:07.817

第一个脚本运行五次，变量 i 被分配给“1 2 3 4 5”列表中的每个值。对于每次循环迭代，都会移动一组文件。`scen$1`将是 scen1、scen2、scen3 ......随着我的变化。执行两个 java 程序时，输出文件使用该`$i`值，以便将每组结果写入不同的目录。

第二个脚本类似。循环变量将分配给 10、20、30 等。

$1 是任何脚本的第一个参数。$2 是第二个参数。

要创建一个不存在的目录，请将其插入到循环顶部的循环中：

```
 [ -d /home/acharya/Desktop/xx/parser/r2/evil$2 ] || mkdir /home/acharya/Desktop/xx/parser/r2/evil$2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:56:36.693

$i 将替换为 i 的值，即 1/2/3/4/5 或 10/20/30/40/50。例如，当 i 的值为 1 且第二个参数为 2 时

mv monitorlog.txt /home/acharya/Desktop/xx/parser/r2/evil$2/scen$i 变成 mv monitorlog.txt /home/acharya/Desktop/xx/parser/r2/evil2/scen1

$2 是脚本的第二个参数。

# windows-phone - 在“消息”中创建消息

> ID：15564378
> 
> 赞同：4
> 
> 时间：2013-03-22T06:47:28.673
> 
> 标签：windows-phone, messaging

我希望来自我的应用程序的消息显示在 Windows Phone 的“消息中心”中，而不必以文本消息的形式发送。是否有可能做到这一点？

该应用程序不必通过 Marketplace 分发，因此任何私有 api 也可以。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T08:25:07.730

在 WP 7.X 或 WP8 SDK 期间，这是不可能的。我通过使用（设备信息，消息和其他）作为参数
创建解决了类似的问题。然后发布到我自己的服务器上，而不是电话执行工作。希望对你有帮助。`HTTP Post Request``json`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T07:11:51.150

目前这是不可能的，因为没有 API。您可以使用 预填充 SMS `SmsComposeTask`，但这是您与该集线器的唯一交互。

# javascript - jQuery幻灯片不工作

> ID：15564380
> 
> 赞同：0
> 
> 时间：2013-03-22T06:47:29.453
> 
> 标签：javascript, jquery, slideshow

我正在尝试在我的网站上设置此幻灯片。但是由于某种原因无法正常工作，即使我反复检查了无数次。

```
$(document).ready(function(){
    $("#sShowGallery").css("overflow", "hidden");
    $("#sShow_nav").css("visibility", "visible");
    $("#sShow_nav a[href=#sld1]").addClass("active");

    $("#sShow_nav").localScroll({
        target:'#sShowGallery', axis: 'x'
    });

    $("#sShow_nav a").click(function(){
        $("#sShow_nav a").removeClass("active");
        $(this).addClass("active");
    });
});

<div id="sShow">
    <div id="sShowGallery">
        <ul>
            <li id="sld1"><a href="#image1"><img src="resource/images/sShow/igcbanner.png" width="900" height="350" alt="image1" /></a></li>
            <li id="sld2"><a href="#image2"><img src="resource/images/sShow/slider_002.jpg" width="900" height="350" alt="image2" /></a></li>
            <li id="sld3"><a href="#image3"><img src="resource/images/sShow/slider_003.jpg" width="900" height="350" alt="image3" /></a></li>
        </ul>
    </div>
    <div id="sShow_nav">
        <ul>
            <li><a href="#sld1"><img src="resource/images/sShow/igcbanner.png" width="900" height="350" alt="image1" /></a></li>
            <li><a href="#sld2"><img src="resource/images/sShow/slider_002.jpg" width="900" height="350" alt="image2" /></a></li>
            <li><a href="#sld3"><img src="resource/images/sShow/slider_003.jpg" width="900" height="350" alt="image3" /></a></li>
        </ul>
    </div>
</div> 
```

[http://jsfiddle.net/2VQ9A/](http://jsfiddle.net/2VQ9A/)

它似乎只在 jsfiddle 上工作，就像我的浏览器无法识别它或一些奇怪的东西一样。

这可能是一个愚蠢的问题和一个简单的答案。这是我第一次使用 Javascript。

我会很感激任何帮助:)！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:51:49.030

包括这些文件

```
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script> 
```

它在小提琴中工作意味着这些都是问题。尝试包括

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:55:02.450

检查您添加的页面`jquery files`：

```
<script src="http://code.jquery.com/jquery-1.9.1.js"></script> 
```

或通过任何`CDN`类似的方式添加这些文件`Google`或`Microsoft`

在添加上述文件后添加您的代码，例如：

```
<script>
$(document).ready(function(){
    //your code
});
</script> 
```

# php - 如何检查 cakephp-2.3 中的控制器正在使用哪个模型？

> ID：15564387
> 
> 赞同：0
> 
> 时间：2013-03-22T06:47:51.717
> 
> 标签：php, cakephp, cakephp-2.3

我在 cakephp-2.3 中面临模型关联问题。插件模型关联中描述的[在 cakephp 2.3 中无法使用 cake ACL](https://stackoverflow.com/questions/15562664/plugin-model-assiciation-is-not-working-in-cakephp-2-3)

现在在我看来，UsersController 没有使用 User 模型。我用过

```
public $uses = array ('Cauth.User'); 
```

但是在我看来，它并没有使用这种模式。有什么方法可以检查在 cakephp-2.3 中使用我的控制器的模型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T13:23:14.213

您可以尝试[`get_class()`](http://php.net/manual/en/function.get-class.php)找出它是否真的使用“用户”模型，或者通用的“AppModel”或“模型”；

在控制器的动作中；

```
debug(get_class($this->User)); 
```

如果它是“模型”或“AppModel”，CakePHP 显然无法从插件中找到或加载您的用户模型。

还要检查你是否真的在 bootstrap.php 中*加载*了插件。

在此处阅读文档：[插件](http://book.cakephp.org/2.0/en/plugins.html#installing-a-plugin)

# java - 使用 JaxWsDynamicClientFactory (Apache CXF) 的动态客户端

> ID：15564388
> 
> 赞同：2
> 
> 时间：2013-03-22T06:47:54.697
> 
> 标签：java, web-services

我想创建一个动态客户端来调用我创建的 Web 服务。我尝试`JaxWsDynamicClientFactory`按照其官方[网站](http://cxf.apache.org/docs/dynamic-clients.html)中的说明使用，但没有得到任何输出。相反，我得到`NullPointerException`.

```
JaxWsDynamicClientFactory dcf = JaxWsDynamicClientFactory.newInstance();
Client c = dcf.createClient("http://localhost:8080/service/SearchingSEI?wsdl"); 
```

第二行是抛出异常。

堆栈跟踪：

```
Exception in thread "main" java.lang.NullPointerException
    at org.apache.cxf.common.util.Compiler.useJava6Compiler(Compiler.java:189)
    at org.apache.cxf.common.util.Compiler.compileFiles(Compiler.java:143)
    at org.apache.cxf.common.util.Compiler.compileFiles(Compiler.java:138)
    at org.apache.cxf.endpoint.dynamic.DynamicClientFactory.compileJavaSrc(DynamicClientFactory.java:599)
    at org.apache.cxf.endpoint.dynamic.DynamicClientFactory.createClient(DynamicClientFactory.java:367)
    at org.apache.cxf.endpoint.dynamic.DynamicClientFactory.createClient(DynamicClientFactory.java:235)
    at org.apache.cxf.endpoint.dynamic.DynamicClientFactory.createClient(DynamicClientFactory.java:228)
    at org.apache.cxf.endpoint.dynamic.DynamicClientFactory.createClient(DynamicClientFactory.java:183)
    at com.client.dynamic.DynamicClientFactory.main(DynamicClientFactory.java:24) 
```

我不知道问题是什么。任何建议都会有很大帮助。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T10:42:10.123

您需要使用 JDK 而不是 JRE 运行代码。NPE 发生在 CXF 的以下`Compiler`课程中

```
 JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
   StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null); 
```

`compiler`如果您在 JRE 中运行，则为 null。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-29T22:02:03.470

那是因为 CXF 使用 JRE7 而不是 JDK7。在 Windows 中安装 JDK 时，默认情况下也会安装 JRE，并且所有首选项都指向 JRE。

1.  检查你的路径。确保它指向 ${JDK_LOCATION}/bin
2.  检查您的 JAVA_HOME。确保它指向 ${JDK_LOCATION}
3.  转到控制面板/java。添加JDK就可以了。
4.  您还需要在 Window->Preference->Java->Installed JREs 中检查 eclipse

# sql - SQL 中的 JOIN 问题

> ID：15564389
> 
> 赞同：0
> 
> 时间：2013-03-22T06:47:55.063
> 
> 标签：sql, sql-server

我在编写查询时遇到了一些麻烦。

这是两张表

表 1（此处没有 NULL 值）：

```
FileInfo
 - fileId (pk)
 - fileCode
 - fileDescription 
```

表 2（NULL 值如下所述）：

```
FileFolderHierarchy
 - fileId (fk)
 - folderId (fk)
 - fileFolderKey (pk) 
```

表 3（此处没有 NULL 值）：

```
Folder
 - folderId (pk)
 - folderName 
```

表 2，FileFolderHierarchy，链接表 1 和表 3

在 FileFolderHierarchy 中，一条记录的 folderId 为 NULL 或 fileId 为 Null

以下是 FileFolderHierarchy 中的两条记录：

```
fileId  folderId fileFolderKey
------------------------------
NULL    794     0001
3944    NULL    0001000000000000 
```

第一条记录是文件夹，第二条记录是文件。

我想获取有关文件的信息。即fileId、fileCode、fileDescription、fileFolderKey、folderId和folderName

[这](https://stackoverflow.com/questions/15545735/joining-three-tables-in-sql)是我昨天问的一个类似问题。我编写的任何查询似乎都忽略了 fileId 或 folderId，或者完全忽略了 Folder 表。

我没有做太多的 SQL，但[在这里](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)阅读关于 JOINS 的信息告诉我，查询的一部分导致 NULL 值，这就是文件夹信息不显示的原因。

有什么线索吗？

问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:00:25.263

我看到您将面临的主要问题是文件和文件夹之间的关系位于 FileFolderHierarchy 表中的 2 个不同行中。

自行检索文件信息（或文件夹信息）很简单

```
DECLARE @FileFolderHierarchy TABLE(
        fileId INT,
        folderId INT,
        fileFolderKey VARCHAR(50)
)

INSERT INTO @FileFolderHierarchy SELECT NULL,794,'0001'
INSERT INTO @FileFolderHierarchy SELECT 3944,NULL,'0001000000000000'

DECLARE @FileInfo TABLE(
        fileID INT,
        fileCode VARCHAR(50),
        fileDescription VARCHAR(50)
)

INSERT INTO @FileInfo SELECT 3944, 'TADA', 'TADA DESC'

DECLARE @Folder TABLE(
        folderId INT,
        folderName VARCHAR(50)
)
INSERT INTO @Folder SELECT 794, 'TADA FOLDER'

SELECT  fi.*
FROM    @FileFolderHierarchy ffh    INNER JOIN
        @FileInfo fi    ON  ffh.fileId = fi.fileID 
```

一旦你添加了第三步，事情就会变得不稳定

```
SELECT  fi.*
FROM    @FileFolderHierarchy ffh    INNER JOIN
        @FileInfo fi    ON  ffh.fileId = fi.fileID INNER JOIN
        @Folder f   ON  ffh.folderId = f.folderId 
```

将不返回任何结果，因为不存在这样的行。

此时您可能已经想到了 parentID，它与文件所属文件夹的文件夹结构有关，因此文件夹可以属于父文件夹。您没有这样的结构，因此我们需要使用您提供的 Hierarchy 键。

因此，查看您提供的数据，我假设密钥为 0001000000000000 的文件与密钥为 0001 的文件夹相关。在这里，我将再次划分字段以便于搜索。所以文件密钥应该读到类似 0001\000000000000

同样，情况似乎并非如此，所以让我们看看我们能做些什么。

你可以尝试类似的东西

```
SELECT  fi.*,
        f.*
FROM    @FileFolderHierarchy ffh    INNER JOIN
        @FileInfo fi    ON  ffh.fileId = fi.fileID INNER JOIN
        @FileFolderHierarchy ffhParent  ON  ffh.fileFolderKey LIKE  ffhParent.fileFolderKey + '%'
                                        AND ffh.fileFolderKey != ffhParent.fileFolderKey INNER JOIN
        @Folder f   ON  ffhParent.folderId = f.folderId 
```

不幸的是，一旦您开始查看多级层次结构，这将不会返回 expexted 结果。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-22T06:52:32.777

试一试`FULL OUTER JOIN`

```
SELECT f.fileId, f.code, f.description, h.folderId, 
       h.folderKey, fl.folderName
FROM   File f
       FULL JOIN FileFolderHierarchy h
         ON f.fileId = h.fileId 
       FULL JOIN Folder fl
         ON h.folderId = fl.folderId
WHERE  fl.folderId is null 
```

# windows-phone-7 - WindowsPhone7 上的 HttpWebRequest

> ID：15564392
> 
> 赞同：0
> 
> 时间：2013-03-22T06:48:10.173
> 
> 标签：windows-phone-7, httpwebrequest

我尝试在 Windows Phone 7 项目中使用 HttpWebRequest 从 Web 服务器加载数据。

我成功地获取了一次数据。但是当我第二次尝试调用相同的方法来加载时，我得到了异常，我得到了这个消息：“这是当这个线程从当前函数返回 s 时要执行的下一条语句。”

我正在使用来自独立类的 HttpWebRequest 异步调用，并在 Dispatcher 中附加了一个 OnCompleted 事件来更新 Windows Phone 7 的 UI。

```
enter code here
    private void RequestStreamCallBack(IAsyncResult asyncResut)
    {
        HttpWebRequest hwr = asyncResut.AsyncState as HttpWebRequest;
        if (hwr != null)
        {
            Stream stream = hwr.EndGetRequestStream(asyncResut);//error on this row, InvalidOperationExceptioni

            byte[] writeByte = System.Text.Encoding.UTF8.GetBytes(_postData);
            stream.Write(writeByte, 0, writeByte.Length);
            stream.Close();

            allDone.Set();
        }
    } 
```

每次用户单击按钮时，我是否应该只强制触发一次更新调用？在发送调用 BeginGetRequestStream() 之前，我尝试在我的代码中添加一个“isLoading”标志，但这不起作用，我仍然在回调函数中遇到异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:10:48.757

您可能会`HttpWebRequest.EndRequestStream`在同一个地方调用两次`IAsyncResult`：

```
InvalidOperationException - This method was called previously using asyncResult. 
```

您可能希望`allDone.set`在读取和关闭响应流之后调用（而不是在写入请求流之后）。

查看您的回调序列是否与示例匹配：

[http://msdn.microsoft.com/en-us/library/7de1x8cb.aspx](http://msdn.microsoft.com/en-us/library/7de1x8cb.aspx)

# .net - 如何在 SharePoint 中单击按钮时以编辑模式重定向到 wiki 页面？

> ID：15564399
> 
> 赞同：0
> 
> 时间：2013-03-22T06:48:30.117
> 
> 标签：.net, sharepoint, sharepoint-2010

我有一个单击按钮，我希望它以编辑模式从其 wiki 页面重定向到 xyz 的 wiki 页面。我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T09:31:08.530

如果你打开开发者工具，你会看到 Edit 按钮调用了这个 javascript 函数：

```
 CoreInvoke("PageActionClick", this); 
```

因此，当用户在页面加载时重定向到`xyz`页面时，您需要以某种方式调用该函数，但第二个参数不能再是“this”，它需要发送编辑按钮对象作为参考。

### javascript：

```
 $(document).ready(function(){
        CoreInvoke("PageActionClick", $("ctl00_PageStateActionButton"));
     }); 
```

阅读更多详情：[http ://social.technet.microsoft.com/Forums/en-US/sharepointgenerallegacy/thread/c730ff5f-0ac0-4949-b712-f5e437f23311/](http://social.technet.microsoft.com/Forums/en-US/sharepointgenerallegacy/thread/c730ff5f-0ac0-4949-b712-f5e437f23311/)

# javascript - 在弹出窗口中的 Windows 8 Metro IE 10 中阻止警报消息

> ID：15564406
> 
> 赞同：1
> 
> 时间：2013-03-22T06:49:09.790
> 
> 标签：javascript, html, windows-8, internet-explorer-10

我有一个显示警报消息的页面。在 Windows 8 Metro IE 浏览器（不是桌面浏览器）中，按预期显示警报消息。但是当我将该页面作为弹出窗口打开时，警报消息不会触发。但是这些东西在其他浏览器中运行良好，包括 windows 8 IE 10 桌面浏览器。

有谁知道处理这个？

# sql - SQL Group By Max of Group By Count

> ID：15564407
> 
> 赞同：-1
> 
> 时间：2013-03-22T06:49:11.350
> 
> 标签：sql, count, max

这是我的初始计数查询和结果集。我只是无法弄清楚如何让最大查询工作。

查询

```
SELECT QM_CUST_CODE, QM_XX_REGION, COUNT(QM_QUOTE_NUM) as Quotes
FROM QM (NOLOCK)
WHERE QM_CUST_CODE in ('H-PAT001', 'H-ABI002')
GROUP BY QM_CUST_CODE, QM_XX_REGION 
```

结果

```
QM_CUST_CODE    QM_XX_REGION    Quotes
1  H-ABI002     0           1
2  H-PAT001     0           3
3  H-ABI002     1           397
4  H-PAT001     1           1509
5  H-PAT001     2           1 
```

--问题我如何只返回第 3 行和第 4 行，因为这些是按地区划分的客户代码，其报价数量最多。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:53:47.400

```
WITH recordsList
AS
(
    SELECT  QM_CUST_CODE, QM_XX_REGION, COUNT(QM_QUOTE_NUM) as Quotes,
            DENSE_RANK() OVER  (PARTITION BY QM_CUST_CODE 
                                ORDER BY COUNT(QM_QUOTE_NUM) DESC) rn
    FROM    QM
    WHERE   QM_CUST_CODE in ('H-PAT001', 'H-ABI002')
    GROUP   BY QM_CUST_CODE, QM_XX_REGION
)
SELECT  QM_CUST_CODE, QM_XX_REGION, Quotes
FROM    recordsList
WHERE   rn = 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:04:22.853

如果您只想获得具有最高报价计数的两行，请尝试以下操作：

```
Select Top 2 * From
(
SELECT QM_CUST_CODE, QM_XX_REGION, COUNT(QM_QUOTE_NUM) as Quotes
FROM QM
WHERE QM_CUST_CODE in ('H-PAT001', 'H-ABI002')
GROUP BY QM_CUST_CODE, QM_XX_REGION
)tbl
Order By  Quotes Desc 
```

# mysql - 请解决错误

> ID：15564408
> 
> 赞同：0
> 
> 时间：2013-03-22T06:49:15.537
> 
> 标签：mysql, sql, join

```
SELECT name,trans FROM skyplan_deploy.deploy_stars d WHERE d.apt='KOPF' AND d.name!=d.trans  

LEFT OUTER JOIN  

(SELECT distinct c.star_ident,c.fix_ident from corept.std_star_leg c  
    INNER JOIN  
    (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type  
     FROM corept.std_star_leg  
     WHERE data_supplier='J' AND airport_ident='KOPF'  
     group by star_ident,transition_ident)b  
    ON c.sequence_num=b.seq and c.star_ident=b.star_ident and   c.transition_ident=b.transition_ident) as y  
ON c.sid_ident=x.name AND c.fix_ident=x.trans  
where y.data_supplier='J' and y.airport_ident='KOPF' and y.name is null; 
```

在执行上述查询时，我收到以下语法错误。

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获得在“左外连接”附近使用的正确语法
> 
> (SELECT distinct c.star_ident,c.fix_ident from corept.std_sta' 在第 3 行

我使用了左连接，以便我可以从上述两个查询中获取数据差异。我什至将 where 条件放在最后。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T06:54:44.043

发现错误的一种好方法是将其分解并分别尝试组件。例如，尝试：

```
SELECT star_ident,transition_ident,max(sequence_num) seq,route_type  
FROM corept.std_star_leg  
WHERE data_supplier='J' AND airport_ident='KOPF'  
group by star_ident,transition_ident 
```

看看这个子查询是否有问题。

当查询没有语法错误，但没有产生预期的结果时，将查询分解为可理解的部分通常是调试它的最快方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T06:55:17.240

您的错误的原因是无效使用`LEFT JOIN`. 基本`SELECT`语法如下，

```
SELECT ...
FROM ... JOIN...
WHERE ...
GROUP BY...
ORDER BY ... 
```

您使用`LEFT JOIN`了 after`WHERE`导致语法错误的子句。

# python - scikit learn SVM，如何保存/加载支持向量？

> ID：15564410
> 
> 赞同：17
> 
> 时间：2013-03-22T06:49:24.640
> 
> 标签：python, machine-learning

使用 python scikit svm，在运行 clf.fit(X, Y) 之后，你会得到你的支持向量。实例化 svm.SVC 对象时，我可以直接加载这些支持向量（将它们作为参数传递）吗？这意味着我不需要每次都运行 fit() 方法来进行预测

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-08-26T13:52:35.663

来自 scikit 手册：[http ://scikit-learn.org/stable/modules/model_persistence.html](http://scikit-learn.org/stable/modules/model_persistence.html)

1.2.4 模型持久化 使用Python内置的持久化模型pickle可以将模型保存在scikit中。

```
>>> from sklearn import svm
>>> from sklearn import datasets
>>> clf = svm.SVC()
>>> iris = datasets.load_iris()
>>> X, y = iris.data, iris.target
>>> clf.fit(X, y)
SVC(kernel=’rbf’, C=1.0, probability=False, degree=3, coef0=0.0, eps=0.001,
cache_size=100.0, shrinking=True, gamma=0.00666666666667)
>>> import pickle
>>> s = pickle.dumps(clf)
>>> clf2 = pickle.loads(s)
>>> clf2.predict(X[0])
array([ 0.])
>>> y[0]
0 
```

在 scikit 的特定情况下，使用 joblib 替换 pickle 可能更有趣，这在大数据上效率更高，但只能 pickle 到磁盘而不是字符串：

```
>>> from sklearn.externals import joblib
>>> joblib.dump(clf, ’filename.pkl’) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-10T13:55:14.137

您可以保存模型以便以后使用。我编写了下面的代码，以便在存在我之前安装和保存的模型时使用该模型。

```
from sklearn.externals import joblib
svm_linear_estimator = svm.SVC(kernel='linear', probability=False, C=1)
try:
    estimator = joblib.load("/my_models/%s.pkl"%dataset_name)
    print "using trained model"
except:
    print "building new model"
    estimator.fit(data_train, class_train)
    joblib.dump(estimator,"/my_models/%s.pkl"%dataset_name) 
```

# android - 运行 libgdx 示例时出错

> ID：15564411
> 
> 赞同：0
> 
> 时间：2013-03-22T06:49:30.370
> 
> 标签：android, libgdx

我是 libgdx 的新手。刚尝试运行`libgdx`示例我收到奇怪的错误，它说：

```
[2013-03-22 12:08:35 - ObjLoaderUsingLibGdx] Dx 1 error; aborting
[2013-03-22 12:08:35 - ObjLoaderUsingLibGdx] Conversion to Dalvik format failed with error 1
[2013-03-22 12:10:59 - ObjLoaderUsingLibGdx] Dx 
trouble processing "java/io/BufferedInputStream.class":

Ill-advised or mistaken usage of a core class (java.* or javax.*)
when not building a core library.

This is often due to inadvertently including a core library file
in your application's project, when using an IDE (such as
Eclipse). If you are sure you're not intentionally defining a
core class, then this is the most likely explanation of what's
going on.

However, you might actually be trying to define a class in a core
namespace, the source of which you may have taken, for example,
from a non-Android virtual machine project. This will most
assuredly not work. At a minimum, it jeopardizes the
compatibility of your app with future versions of the platform.
It is also often of questionable legality.

If you really intend to build a core library -- which is only
appropriate as part of creating a full virtual machine
distribution, as opposed to compiling an application -- then use
the "--core-library" option to suppress this error message.

If you go ahead and use "--core-library" but are in fact
building an application, then be forewarned that your application
will still fail to build or run, at some point. Please be
prepared for angry customers who find, for example, that your
application ceases to function once they upgrade their operating
system. You will be to blame for this problem.

If you are legitimately using some code that happens to be in a
core package, then the easiest safe alternative you have is to
repackage that code. That is, move the classes in question into
your own package namespace. This means that they will never be in
conflict with core system classes. JarJar is a tool that may help
you in this endeavor. If you find that you cannot do this, then
that is an indication that the path you are on will ultimately
lead to pain, suffering, grief, and lamentation. 
```

我不知道我按照[本教程](http://chrismweb.com/2011/10/18/how-to-start-creating-android-games-using-the-libgdx-game-development-framework/)入门的问题是什么。有人可以指出这个错误是怎么回事。这个错误的根源是什么我无法理解按照那里的所有步骤导入所有lib并构建路径

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:55:20.303

[http://code.google.com/p/libgdx/wiki/ProjectSetupNew](http://code.google.com/p/libgdx/wiki/ProjectSetupNew)。设置项目的链接。

[http://www.youtube.com/watch?feature=player_embedded&v=mmH05k6HFsI](http://www.youtube.com/watch?feature=player_embedded&v=mmH05k6HFsI)。一个指向 youtube 的链接，其中包含有关如何设置 ligdx 的教程。

[https://groups.google.com/forum/?fromgroups=#!topic/android-platform/abxNKTFkuj8](https://groups.google.com/forum/?fromgroups=#!topic/android-platform/abxNKTFkuj8)。

[外部 JAR 上的“转换为 Dalvik 格式失败，错误 1”](https://stackoverflow.com/questions/2680827/conversion-to-dalvik-format-failed-with-error-1-on-external-jar)

检查我的构建路径上是否有两个包含相同包和类的 JAR 文件。取出一个包装。

尝试清理并构建项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-08T10:22:48.600

就我而言，Eclipse 在核心项目 src 中复制了 gdx-backend-gwt.jar，当我删除它时，问题就消失了。

# php - 推送通知连接失败无错误字符串

> ID：15564412
> 
> 赞同：1
> 
> 时间：2013-03-22T06:49:33.463
> 
> 标签：php, iphone, ios, push-notification

我在stackoverflow上浏览了几乎所有与此相关的线程，但对我没有太大帮助，可能是我不太了解。当我使用我的 php 代码发送推送通知时，它说连接失败。我之前在许多其他项目中使用了相同的代码。但这一次我找不到问题出在哪里

**PHP代码**

```
 $status_message="Failure"; 
  $deviceToken = "";
  $userExist=1;
  $message = 'You Recieved a new Notifcation from test';
  $badge = (int)1;
  $sound = 'cow.caf';

  $body = array();
  if($userExist==1) 
  {
      $body['aps'] = array('alert' => $message);
      $body['aps']['sound'] = $sound;
     if(isset($badge)) 
   {
    $body['aps']['badge'] = $badge;
    }
     else
    {
    $body['aps']['message'] = $message;
    }

   }

    $ctx = stream_context_create();
    stream_context_set_option($ctx,'ssl','local_cert','apns-dev.pem');
    stream_context_set_option($ctx,'ssl','verify_peer',false);
    $fp = @stream_socket_client('ssl://gateway.sandbox.push.apple.com:2195', 
     $err,$errstr, 60, "STREAM_CLIENT_CONNECT", $ctx);
   if (!$fp) 
    {
       print "Failed to connect $err $errstr\n";
       print_r($err);
       return;
    }
  else 
    {
      print "Connection OK\n";
    } 
```

**手机端**

我无法连接 0 0。我与 iphone 人交谈过，他们说他们的 PEM 是正确的，这是另一个可能的原因。但是他们最终进行了测试，并且推动即将到来。他们确信他们是对的。PEM 文件位于服务器上的正确位置。

现在是服务器设置，他们启用了 tcp 2195,2196

**服务器端**

```
root@servername [~]# openssl version
OpenSSL 0.9.8e-fips-rhel5 01 Jul 2008
root@servername [~]# iptables -nL | grep 2195
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp spt:2195
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:2195
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:2195
ACCEPT udp -- 0.0.0.0/0 0.0.0.0/0 udp dpt:2195
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:2195
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp spt:2195
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:2195
ACCEPT udp -- 0.0.0.0/0 0.0.0.0/0 udp dpt:2195
root@servername [~]# iptables -nL | grep 2196
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp spt:2196
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:2196
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:2196
ACCEPT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp spt:2196 
```

我尝试 PUTTY 验证 telnet gateway.push.apple.com 2195 并且它正在从服务器连接。

我不确定问题出在哪里。我对代码很确定，因为我在 6 个项目中使用了相同的文件。我的主机是 VPS

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T11:38:13.543

最后，我能够使用 Google APNS 库做到这一点。我之前的代码在 6 个项目中运行良好，但是当我浏览了这个文档时

[http://developer.apple.com/library/mac/#technotes/tn2265/_index.html](http://developer.apple.com/library/mac/#technotes/tn2265/_index.html)

我发现 **除了由 iOS 配置门户或 Mac 开发人员证书实用程序创建的 SSL 身份（证书和关联的私钥）之外，您还应该在****连接到问题**列下的提供商上安装 Entrust CA (2048) 根证书
**推送服务**

[我从https://www.entrust.net/downloads/binary/entrust_2048_ca.cer](https://www.entrust.net/downloads/binary/entrust_2048_ca.cer)下载了委托根证书，并由 iphone 开发人员使用 pem 证书在服务器上安装/上传，它工作正常。

如果有人遇到同样的问题，请按照此操作。

# php - 当通过jquery在下拉框中进行onchange时从数据库中检索值

> ID：15564414
> 
> 赞同：0
> 
> 时间：2013-03-22T06:49:36.657
> 
> 标签：php, jquery, ajax

这是我的html代码

```
<select name="course" id="course" onchange="valuesOfAll(this.value)">
   <option value=""> select </option>
   <option value="1"> Diploma in Computing</option>
</select>
<input name="course_credits" id="course_credits" type="text" /> 
```

我的数据库表是这样的

```
courseId   courseName            courseCredits
  1        Diploma in Computing    5 
```

所以我的要求是，如果我更改“选择”中的值，“课程学分”值应该出现在文本框中。为此，我该如何编写 jquery 代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:58:14.010

将 html 与脚本分开是一种很好的做法，所以我想更改：

```
<select name="course" id="course" onchange="valuesOfAll(this.value)"> 
```

至

```
<select name="course" id="course" > 
```

然后我的脚本将跟随（希望您添加最新 jquery 的参考）

```
<script>
$(document).ready(function(){
//bind change event once DOM is ready
$('#course').change(function(){});
getResult($(this).val());

});

function getResult(selectedValue){
//call  ajax method to get data from database
 $.ajax({
            type: "POST",
            url: url,//this  should be replace by your server side method
            data: "{'value': '"+ selectedValue +"'}", //this is parameter name , make sure parameter name is sure as of your sever side method
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: false,
            success: function (Result) {
               alert(Result.d);
            },
            error: function (jqXHR, textStatus, errorThrown) {
                  alert(errorThrown);
            }
        });
}
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:59:51.783

“Ajax with Jquery”是您正在寻找的。它将像这样工作：

*   用户从选择框中选择一个选项
*   您通过 Javascript 将所选选项提交给 PHP 脚本
*   php 脚本从数据库中获取数据
*   php 脚本将结果作为 json 编码数据返回
*   您的 javascript 代码中有一个回调函数。此 js 代码将以您想要的任何方式操作 HTML，例如“将选项添加到您的选择框”

有大量关于如何执行 Ajax 请求的详细教程，例如[http://openenergymonitor.org/emon/node/107](http://openenergymonitor.org/emon/node/107)

查看其中一个教程 - 最终你会想要更新你的问题，让它变得更具体一点？:-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:56:14.607

使用[$.post..](http://api.jquery.com/jQuery.post/)（ajax 或 get）...我在这里使用 post..如果您想阅读有关 jquery post 的更多信息，请查看文档..

**javascript**

```
 function valuesofAll(val){
     $.post('test.php',{data:val},function(result){
         $('#course_credits').val(result.coursecredit)
     }, "json"); //expect response as json..
 } 
```

**测试.php**

```
$data=$_POST['data']; //this is the value posted 
//make you query in db get result..
$courseCredits= $row; //db returned courseCreadit value
echo json_encode(array('coursecredit'=>$courseCreadits)); //send response as json 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:12:50.270

这将帮助你......

```
<script>
function valuesOfAll(value)
{
var base_url="http://.../../hello.php";
var ip=new Object();
ip.course=value;
var inputParam=JSON.stringify(ip);
var module="getcourseCredits"
 $.ajax({
                     type: "POST",
                 url: base_url,
                 data: {coursevalue:inputParam,module :module}, 
                     dataType: "json",
                     success: function(msg)
                     {
                           $("#course_credits").val(msg.credit);   
                         }
         });
}

</script>
<body>
<select name="course" id="course" onchange="valuesOfAll(this.value)">
   <option value=""> select </option>
   <option value="1"> Diploma in Computing</option>
</select>
<input name="course_credits" id="course_credits" type="text" />
</body> 
```

在你的 PHP 文件中

```
<?php
if(isset($_POST['module']))
{
    if($_POST['module']=='getcourseCredits')
    {
           $val=json_decode($_POST['coursevalue'],true);
            $courseval=$val['course'];
           // do the connectivity and query here and finally echo the result as json format that is the response to the ajax call 
             .
             .
             .
             .

        }
}
?> 
```

# java - Spring动态注入一个属性

> ID：15564415
> 
> 赞同：0
> 
> 时间：2013-03-22T06:49:39.920
> 
> 标签：java, spring, conceptual

我是 Spring 新手，我遇到了需要帮助的情况。我的场景是我有一个像这样的特定模块的 bean 定义。

```
<bean name="ruleEngineAction" class="com.xxxxx.yyyy.UserAction" scope="prototype">
<property name="userManager">
    <ref bean="userManager" />
</property>
<property name="userDto">
        <ref bean="userDto" />
</property>
</bean> 
```

现在在这个 bean 中，我想再使用一个属性，但这取决于应用程序流程，例如

```
<property name="roleManager">
     <ref bean="roleManager">
</property> 
```

所以我应该在 bean 定义本身中包含这个属性，或者我可以在代码中动态地执行它，因为我不希望这个属性被大量使用。

请建议我正确有效的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:06:25.650

根据我从问题中了解到的情况，只有一种类型的 bean，`roleManager`但它的使用`roleManager`是基于应用程序流的。

在这种情况下，我建议您像使用任何其他 bean 一样进行注入`roleManager`，`ruleEngineAction`但仅在必要时使用 bean。

在普通类中不必要地依赖 spring 是一种不好的做法，例如`applicationContext`在运行时动态获取 bean 的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:54:06.910

无论您是否注入此 bean，它都将由`Spring`. 为什么不将属性包含在您的课程中`UserAction`以及是否使用它，可以在您的班级中决定。注入 bean 并没有什么坏处，因为无论如何您都会在某些情况下使用它。

如果场景是这样的，则不会创建对象，如果您不注入/使用，那么考虑这种情况是有意义的，但是由于`Spring`无论如何都会创建对象，所以真的不应该成为问题只需注入它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:53:44.373

那么你需要在你的类中添加带有 getter 和 setter 的新属性，`com.xxxxx.yyyy.UserAction`例如`roleManager`：

```
class UserAction {
   // your previous properties userManager, userDto, etc.

   private RoleManager roleManager; // assuming interface/class as RoleManager for roleManager

   // getter and setter for roleManager

   // your other action methods which will use roleManager

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T06:55:06.887

如果你也注入没有问题。只要你访问那个类，它就会创建那个类的对象。

# java - 使用 Mockito 在春季进行单元测试

> ID：15564420
> 
> 赞同：0
> 
> 时间：2013-03-22T06:50:02.987
> 
> 标签：java, spring, mockito

今天在与 Mockito 和 spring 一起工作时，我对这种情况感到震惊，

```
 public class MyClass {

    private MyService myService;

    int doSomethingElse(String str) {
        .....
        myService.doSomething(str);
        ...
    }
}

public interface MyService {
    String doSomething(String str);
}

public class Class1 {
    private MyClass myClass;

    public Stirng methodToBeTested() {
        myClass.doSomethingElse("..");
    }
}

public class class1Test {

    @Mock
    MyService myService;

    @Resource
    @Spy
    @InjectMocks
    MyClass myClass;

    @Resource
    @InjectMocks
    Class1 class1;

    public void setUPTest() {
        MockitoAnnotations.initMocks(this);
    }

    @Test
    public void methodToBeTestedTest() {
        this.setUPTest();
            ...
            class1.methodToBeTested();
    }

} 
```

在这里，我想模拟“MyService”。但是 MyService 用于 "MyClass" 并用于 "Class1" 。

我想用spring初始化“MyClass”和“Class1”。

当我尝试运行此测试时，出现以下异常

org.mockito.exceptions.base.MockitoException：无法模拟/监视类 $Proxy79 Mockito 无法模拟/监视以下：-最终类-匿名类-原始类型

谁能帮我这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:38:58.927

你正在测试`Class1`，它只有`MyClass`as 依赖。`MyService`与本次测试无关。您应该模拟`MyClass`和测试对`doSomethingElse`.

如果你想测试对`doSomething`of的调用`MyService`，你应该写一个`MyClassTest`模拟对的依赖`MyService`。

# c# - 尝试将信息传递给会员提供者时出错

> ID：15564424
> 
> 赞同：2
> 
> 时间：2013-03-22T06:50:22.597
> 
> 标签：c#, asp.net, asp.net-mvc, wcf, membership-provider

**编辑：我找到了解决问题的方法。更多信息在帖子末尾。**

我构建了一个 WCF 服务，该服务使用会员资格为我的客户提供授权并管理用户/角色等。到目前为止，授权效果很好。

我试图让我的客户能够注册新用户，所以我决定从我的服务中接口 sql 成员资格提供程序代码，然后从客户端调用这些方法，因为我还没有看到直接调用的方法来自没有客户端应用程序服务的客户端的 SQL 提供程序。

我尝试在服务中连接 CreateUser 方法，当我从客户端调用它以创建新用户时，我收到此错误并且无法弄清楚出了什么问题：

*你调用的对象是空的。*

这是我的服务中直接调用会员提供程序的代码。

```
public string RegisterUser(string username, string password, string email,
                                                   string passwordquestion, string passwordanswer, bool isapproved)
        {
            MembershipCreateStatus status;
            SqlMembershipProvider mProvider = new SqlMembershipProvider();
            mProvider.CreateUser(username, password, email, passwordquestion, passwordanswer, true, null, out status);

            switch (status)
            {
                case MembershipCreateStatus.DuplicateUserName:
                    return "Username already exists. Please enter a different user name.";

                case MembershipCreateStatus.DuplicateEmail:
                    return "A username for that e-mail address already exists. Please enter a different e-mail address.";

                case MembershipCreateStatus.InvalidPassword:
                    return "The password provided is invalid. Please enter a valid password value.";

                case MembershipCreateStatus.InvalidEmail:
                    return "The e-mail address provided is invalid. Please check the value and try again.";

                case MembershipCreateStatus.InvalidAnswer:
                    return "The password retrieval answer provided is invalid. Please check the value and try again.";

                case MembershipCreateStatus.InvalidQuestion:
                    return "The password retrieval question provided is invalid. Please check the value and try again.";

                case MembershipCreateStatus.InvalidUserName:
                    return "The user name provided is invalid. Please check the value and try again.";

                case MembershipCreateStatus.ProviderError:
                    return "The authentication provider returned an error. Please verify your entry and try again. If the problem persists, please contact your system administrator.";

                case MembershipCreateStatus.UserRejected:
                    return "The user creation request has been canceled. Please verify your entry and try again. If the problem persists, please contact your system administrator.";

                default:
                    return "An unknown error occurred. Please verify your entry and try again. If the problem persists, please contact your system administrator.";
            }

        } 
```

这是我从客户那里调用的代码：

```
private void CreateUser_Click(object sender, RoutedEventArgs e)
        {
            wsBasicAuthService.BasicAuthService c = new wsBasicAuthService.BasicAuthService();
            c.Credentials = new NetworkCredential(txtUserName.Text, txtPassword.Password);
            c.RegisterUser("myUserName", "password", "email@test.com", "question", "answer", true, true);

        } 
```

我注意到它本身向 c.RegisterUser 参数调用“isApprovedSpecified”添加了一个额外的参数，尽管我认为这与它没有任何关系。

我是会员和服务的新手，很难从 vb.net 切换到 C#，所以如果有人能引导我朝着正确的方向前进，我将不胜感激。

**解决方案：**在 web.config 文件中将 includeExceptionDetailInFaults 设置为 true 后，我能够快速找出这是一个对象引用问题。所以我认为会员提供者一定不能被正确实例化。就是这样。这是它应该看起来的样子。

```
SqlMembershipProvider mProvider = (SqlMembershipProvider)Membership.Providers["membershipProvider"];
//membershipProvider is the name you have configured for your provider in the web.config file. 
```

# android - 微调器：如何在微调器中从数据库中为特定行设置默认选择

> ID：15564435
> 
> 赞同：3
> 
> 时间：2013-03-22T06:51:33.503
> 
> 标签：android

我有一个国家的微调器。当我执行更新功能时，我希望保存在数据库中的任何数据都应该保存在 edittext 和 spinner 中。对于微调器，我收到未找到错误资源。

我这样做是为了将数据库中的默认选择数据设置为微调器，

```
// local country is added in arraylist

   ArrayList<String> arraylist_country = new ArrayList<String>();
    arraylist_country.add(memberPersonalDetailsScreenActivityController.getMemberMasterData().get(0).getL_country().toString());

       for(int i=0 ; i<length ; i++){
          if(select_member_id == member_id[i]){
             spinner_country.setSelection(arraylist_country.indexOf(local_country[i]));
          } 
```

是否有任何其他解决方案可以将默认选择数据设置为微调器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:28:11.033

我已经解决了我的问题。我已经在这里给出了我的代码。这样我们可以将默认选择设置为特定行的数据库中的微调器。

在 onCreate-

```
 //Declared spinner and used ArrayAdapter

    spinner_country = (Spinner) findViewById(R.id.spinner_country_susa);
    spinner_country.setOnItemSelectedListener(this);

    country_adapter = ArrayAdapter.createFromResource(this, R.array.country_array, android.R.layout.simple_spinner_item);
    country_adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    spinner_country.setAdapter(country_adapter); 
```

在编辑（） -

```
//user defined function called in onCreate()
    String[] local_country = memberPersonalDetailsScreenActivityController.getMemberMasterData().get(0).getL_country();
    for(int i=0 ; i<length ; i++){
        if(select_member_id == member_id[i]){
             spinner_country.setSelection(country_adapter.getPosition(local_country[i]));
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:02:33.857

我在代码中所做的是，当我打开活动并即将从微调器加载值时，我首先从数据库中读取我想要的表。在我的表中，我设置了布尔值，整个表中只有 1 个值是真的。首先，我将默认值设置为 true。如果用户想要更改它，那么当您打开活动并进入默认值时，将您要保存的新值设置为微调器，按保存或您拥有的任何东西，然后在 db 表中更改布尔值新的默认值。此外，当您打开活动时，将 true 的值也设置为微调器中的值。希望这会有所帮助，我并没有感到困惑：P

这是我的代码，也许不是最好的书面代码，但它工作正常：

```
db.open();
        Cursor c1 = db.getAllCurrencies();
        currentCurrencyList = new ArrayList<String>();
        if (c1.moveToFirst()) {
            do {
                currentCurrencyList.add(c1.getString(c1
                        .getColumnIndex(DBAdapter.MY_CURRENT_CURRENCY_NAMES)));
            } while (c1.moveToNext());
        }
        db.close();
        dataAdapter1 = new ArrayAdapter<String>(this,
                android.R.layout.simple_spinner_item, currentCurrencyList);
        dataAdapter1
                .setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        currencySpinner.setAdapter(dataAdapter1);
        currencySpinner.setSelection(0);

    db.open();
    Cursor c2 = db.getCurrentCurrency();
    currentCurrencyList2 = new ArrayList<String>();
    String currencySymbol = "";
    if (c2.getCount() == 1) {
        currencySymbol = c2.getString(c2
                .getColumnIndex(DBAdapter.MY_CURRENT_CURRENCY_NAMES));
    }
    currentCurrency.setText(currencySymbol);
    db.close();

    setNewCurrencyButton.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
            String spinnerSelection = "";
            spinnerSelection = currencySpinner.getSelectedItem().toString();
            db.open();
            db.updateOldCurrency();
            db.updateCurrentCurrency(spinnerSelection);
            Cursor c3 = db.getCurrentCurrency();
            currentCurrencyList3 = new ArrayList<String>();
            String currencySymbol2 = "";
            if (c3.moveToFirst()) {
                do {
                    currentCurrencyList3.add(c3.getString(c3
                            .getColumnIndex(DBAdapter.MY_CURRENT_CURRENCY_NAMES)));
                } while (c3.moveToNext());
                for (int i = 0; i <= currentCurrencyList3.size() - 1; i++) {
                    currencySymbol2 = currentCurrencyList3.get(i);
                }
            }
            currentCurrency.setText(currencySymbol2);
            db.close();
        }
    }); 
```

dpAdapter 类

```
public boolean updateOldCurrency() {
    ContentValues args = new ContentValues();
    args.put(MY_CURRENT_CURRENCY_BOOLEAN, 0);
    return db.update(MY_CURRENT_CURRENCY_TABLE, args,
            MY_CURRENT_CURRENCY_BOOLEAN + "='" + 1 + "'", null) > 0;
}

public boolean updateCurrentCurrency(String rowId) {
    ContentValues args = new ContentValues();
    args.put(MY_CURRENT_CURRENCY_BOOLEAN, 1);
    return db.update(MY_CURRENT_CURRENCY_TABLE, args,
            MY_CURRENT_CURRENCY_NAMES + "='" + rowId + "'", null) > 0;
} 
```

# php - rvml 到 svg 转换使用 php 5.3

> ID：15564448
> 
> 赞同：0
> 
> 时间：2013-03-22T06:52:38.143
> 
> 标签：php, svg, vml

我正在使用在 IE 上生成 rvml 的 raphael.js。我想要的是将此 rvml 转换为 svg，以便它可以为该 svg 制作 png 图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-19T12:12:13.743

此页面有使用 C# 的解决方案，但您仍然可以通过将正则表达式逻辑移植到 PHP 原生形式来使用它。

[在 C# 中使用 XSLT 将 RVML 转换为 SVG](https://stackoverflow.com/questions/5913725/converting-rvml-to-svg-using-xslt-in-c-sharp)

希望它可以帮助你。

# ios - 如何在 xcode 4.5 的 UIscrollview 中显示图像边框？

> ID：15564451
> 
> 赞同：0
> 
> 时间：2013-03-22T06:52:41.987
> 
> 标签：ios, xcode, uiimageview, xcode4.5, css

我有一个滚动视图，其中正在使用 for 循环动态显示图像……现在我想制作带有边框的滚动视图图像……我在这个 xcode 环境中是全新的。我用谷歌搜索了这些东西，但无法理解它是如何做到的将完成..我的代码如下

```
scr.contentSize = CGSizeMake(0, 0);
            for(int i=1;i<6;i++)
            {
                UIImageView *image = [[UIImageView alloc] initWithFrame:CGRectMake(x+0, 0, 320, 460)];
                [image setImage:[UIImage imageNamed:[NSString stringWithFormat:@"n5%d.png",i]]];
                [scr addSubview:image];
                x+=320;
                UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleSingleTap:)];
                tapGesture.numberOfTapsRequired = 1;
                tapGesture.delegate = self;
                image.userInteractionEnabled = YES;
                [image addGestureRecognizer:tapGesture];
            }
            _detailDescriptionLabel.text=@"Bhavik";
            [self.view addSubview:scr];
             self.title=@"krish";
            scr.pagingEnabled=YES;
            scr.contentSize = CGSizeMake(320*5, 300); 
```

任何人都可以给我一些解释的建议，以便将来也有帮助..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T06:54:50.743

你可以这样做：

```
//you need this import
#import <QuartzCore/QuartzCore.h>

[imageView.layer setBorderColor: [[UIColor blackColor] CGColor]];
[imageView.layer setBorderWidth: 2.0]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T07:00:53.357

```
 // *** To add Framework ***
// Step 1 : Select your project From Navigation Panel on the left side
// Step 2 : On the Right Panel you will get details, Select Summery tab if not selected
// Step 3 : Scroll Down, you will find "Linked frameworks and Libraries", expand it.
// Step 4 : Press "+" button to add framework, Pick "QuartzCore.framework" framework from list and ADD it.

// Now import it to your file and do following code to add border

// First of all add QuartzCore.framework,
// Then import #import <QuartzCore/QuartzCore.h>  your file

UIImageView *image = [[UIImageView alloc] initWithFrame:CGRectMake(x+0, 0, 320, 460)];
[image setImage:[UIImage imageNamed:[NSString stringWithFormat:@"n5%d.png",i]]];

// Set border color and width of image
[image.layer setBorderColor:[UIColor whiteColor].CGColor];
[image.layer setBorderWidth:2.0f];

[scr addSubview:image]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T06:56:07.940

试试这个：

```
UIImageView *imageView = [UIImageView alloc]init];
imageView.layer.masksToBounds = YES;
imageView.layer.borderColor = [UIColor blackColor].CGColor;
imageView.layer.borderWidth = 1; 
```

在导入`#import <QuartzCore/CALayer.h>`框架之前。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T06:57:58.507

为给**边框**。`UIImageView`

添加`#import "QuartzCore/QuartzCore.h"`框架工作。

```
imgView.layer.cornerRadius = 15.0; // set as you want.
imgView.layer.borderColor = [UIColor lightGrayColor].CGColor; // set color as you want.
imgView.layer.borderWidth = 1.0; // set as you want. 
```

# java - 读取 JSON 响应

> ID：15564452
> 
> 赞同：2
> 
> 时间：2013-03-22T06:52:56.203
> 
> 标签：java, android, django, json

我正在尝试从基于 python 的后端读取 json 响应。我正在使用此代码来访问信息。

**第一次通话的网址**

```
public static final String JSON_RESPONSE_STRING="http://192.168.2.5:8000/mobile/"; 
```

**第二次通话的网址**

```
public static final String PICKUP_DETAILS="http://192.168.2.5:8000/mobile/shippments/"; 
```

**常用方法使用**

```
public static String GetJSONResponse(String stringUrl) throws IOException
    {
        StringBuilder response  = new StringBuilder();

        URL url = new URL(stringUrl);
        HttpURLConnection httpconn = (HttpURLConnection)url.openConnection();
        if (httpconn.getResponseCode() == HttpURLConnection.HTTP_OK)
        {
            BufferedReader input = new BufferedReader(new InputStreamReader(httpconn.getInputStream()),8192);
            String strLine = null;
            while ((strLine = input.readLine()) != null)
            {
                response.append(strLine);
            }
            input.close();
        }

        return response.toString();
    } 
```

**django url 模式**

```
urlpatterns = patterns('mobile_api.views',
                       url(r'^$','login_authenticate'),
                       url(r'^shippments/(?P<id>\w+)','pickup_details'),
                       url(r'^report/post/','pickup_report')
                       ) 
```

我在我的代码中使用了这种方法两次。这段代码第一次可以正常工作并解析 json 响应。

当我在其他地方使用这种方法时，我称之为

```
pick_up_id=getIntent().getStringExtra("pickup_id");
        String stringUrl=Constants.PICKUP_DETAILS+"555";
        String response = null;
        try {
            response = PickupList.GetJSONResponse(stringUrl);
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        //String response=GetPickUpDetails(pick_up_id);
        System.out.println("second call response"+response); 
```

并得到这个回应

```
03-22 12:19:37.979: I/System.out(20703): second call response<!doctype html>  <!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->  <!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->  <!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->  <head>    <meta charset="utf-8">    <title>ECOM</title>            <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" >    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">            <meta name="description" content="">    <meta name="author" content="">        <meta name="apple-mobile-web-app-capable" content="yes" />        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />            <meta property="og:image" content="http://www.domain.com/images/logo.png"/>    <meta property="og:title" content="-- description here --"/>    <meta property="og:url" content="http://www.domain.com"/>            <link rel="shortcut icon" href="/static/assets/img/favicon.ico" />    <link rel="apple-touch-icon" href="/static/assets/img/apple-touch-icon.png">    <link rel="apple-touch-icon" sizes="72x72" href="/static/assets/img/apple-touch-icon-72x72.png">    <link rel="apple-touch-icon" sizes="114x114" href="/static/assets/img/apple-touch-icon-114x114.png">             <link rel="stylesheet" href="/static/assets/css/styles.css" />                    <script src="/static/assets/js/libs/modernizr.custom.60077.js"></script>          <link rel="stylesheet" href="/static/assets/css/popup.css" />           <script src="/static/assets/js/jquery-1.7.2.min.js"></script>           <script src="/static/assets/authentication/js/popup.js"></script>    </head><body><div id="backgroundPopup"></div>      <div class="header" style="text-align:center; padding-top:10px;">       <img src="/static/assets/img/Ecomlogo.png"/>  </div>   <div class="container-fluid" roll="main" id="main">    <div class="span6"><a href="/track_me/scan_open/1/" class="forgotpass pull-right">Track Shipment</a>      <div class="login">        <div class="title">          Login                  </div>                <div class="content-login">          <form action="." method="POST">          <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='p0SPV6QzpX2nP2p588V5lDU9s9LLWZDO' /></div>              <input type= "text" name ="username" placeholder="Username" class="user-name"/>            <input type= "Password" name="password" placeholder="Password"/>            <input type="submit" class="button-login"/>            <a href="#" class="forgotpass pull-right" id="forgotpass">Forgot Your Password?</a>          </form>        </div>      </div>    </div>    <div class="span6">      <div class="login">        <div class="title">          Ecom Express News                  </div>        <div class="content-login">                  </div>      </div>    </div>  </div>       <!-- modal -->  <div class="modal hide modal-add-revlet" id="add-revlet">    <div class="modal-header">      <a class="close" data-dismiss="modal">×</a>      <h3>Record</h3>    </div>    <div class="modal-body">          </div>  </div><!--modal end-->   <div id="popupContact">             <a id="popupContactClose">x</a>    </div>        <!-- uncomment pre-deloy -->  <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->  <script>window.jQuery || document.write('<script src="assets/js/libs/jquery-1.7.1.min.js"><\/script>')</script>  <!-- bootstrap -->  <script src="/static/assets/js/bootstrap-transition.js"></script>  <script src="/static/assets/js/bootstrap-alert.js"></script>  <script src="/static/assets/js/bootstrap-modal.js"></script>  <script src="/static/assets/js/bootstrap-dropdown.js"></script>  <script src="/static/assets/js/bootstrap-scrollspy.js"></script>  <script src="/static/assets/js/bootstrap-tab.js"></script>  <script src="/static/assets/js/bootstrap-tooltip.js"></script>  <script src="/static/assets/js/bootstrap-popover.js"></script>  <script src="/static/assets/js/bootstrap-button.js"></script> 
```

**PS**另外，如果代码有任何问题，那么为什么它在第一次调用时有效。 **注意 1**两个响应都是我已经验证过多次的 json 对象。我的后端是**dJango**。在浏览器上点击 url 时，我得到了 .json 格式的正确响应

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-20T07:34:50.860

检查`csrf_exempt`或适当的权限从应用程序访问 url

# r - R用轮廓为地图着色

> ID：15564453
> 
> 赞同：1
> 
> 时间：2013-03-22T06:53:13.723
> 
> 标签：r, map, contour

我想用R画出sst（海面温度），但还是有一些错误，作为一个新的，请告诉我问题出在哪里

rr.txt 的格式如下

```
 89 rows  180 cols means 2*2 grid data

ee<-read.table("C:\\Users\\topmad\\Desktop\\New folder\\rr.txt")
ee
dim(ee)
long<-seq(0,360,2)
lati<-seq(0,180,2)
m<-c(91:180, 1:90)
m
length(m)

require(maps)
maps::map(database="world", fill=TRUE, col="light blue")
maps::map.axes()
contour(long,lati,ee[,m], add=TRUE)
par(ask=TRUE) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T08:04:45.077

你的问题是你的尺寸。

```
#Let's create some random values:
ee<-array(rnorm(89*180),dim=c(89,180))

#If ee has 89 rows (corresponding to latitude I guess) then lati needs 89 values:
lati <- seq(-90,90,length=89) #Latitudes goes from -90 to 90 as far as I know :)
#Same thing with columns/longitude:
long <- seq(-180,180,length=180)

#you probably want your contour behind the continents so first an empty plot:
plot(NA, xlim=c(-180,180), ylim=c(-90,90), xlab="", ylab="", xaxs="i", yaxs="i")
#Then your contour (you need to transpose ee so that rows are longitudes):
contour(long, lati, t(ee), add=TRUE)
# And then your continents:
maps::map(database="world", fill=TRUE, col="light blue", add=TRUE) 
```

![在此处输入图像描述](../Images/9e2bae8630e8bcdc8ec911c3c4f1214b.png)

# database - 如何在 ERP 应用程序中根据用途将数据分类到不同的类别？

> ID：15564455
> 
> 赞同：0
> 
> 时间：2013-03-22T06:53:18.987
> 
> 标签：database, design-patterns, erp, multi-tenant

全部

我最近在思考如何在Erp解决方案中将数据分类为不同的类别，在此基础上，我可以决定我应该剥离哪些数据并将其放入多个租户实例的共享数据库中。

作为行业惯例，Erp 产品分为 2 层。技术平台层提供了大量可复用的组件和建模工具，使业务应用遵循一致的架构，基于它的业务应用层提供业务功能。

所以，基本上数据可以分为两种主要类型。一种是平台数据，另一种是业务数据。此外，平台数据可以分为以下几类：

1.  平台 1）环境 2）引擎相关（表单引擎、工作流引擎、数据访问引擎……使业务功能工作） 3）元数据（例如：表单描述、业务对象描述、数据模型、工作流定义） 4）配置（组织或用户相关配置） 5）管理相关（用于管理模型的数据结构）
2.  业务 1）模型实例（实际订单数据） 2）业务配置 3）派生数据（来自模型实例数据，并形成查询或分析）

经过分析，我发现环境数据、配置、管理相关数据、业务数据是高度耦合的。唯一可以从实例数据库中分离出来的类别是元数据。

1.我的分析合理吗？2.有没有图案可供参考？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-11T13:20:16.083

我想建议以下模式来拆分数据库中的数据

> 1.  `MetaData[3]`您用来识别、验证和授权用户、`Congifurations [4]`每个用户或租户的设置或自定义以及平台特定的基本和其他组件 [1 到 4]，（因为您没有指定什么环境等等。 ) 并且所有租户的共同点可以位于单独的数据库中，而其余的业务特定数据则驻留在另一个数据库中。

这将有助于来自不同地理位置的租户将自己的数据存储在各自的数据库中，甚至作为国家法律法规和数据安全的一部分。

发表你对这方面的理解

# java - 没有为片段找到 id 0x7f070000 的视图

> ID：15564463
> 
> 赞同：0
> 
> 时间：2013-03-22T06:54:00.907
> 
> 标签：java, android

当我尝试将 my 加载`Fragment`到我的`ActionBar`.

> 原因：java.lang.IllegalArgumentException：没有为片段 HomeFragment{4100e030 #0 id=0x7f070000} 找到 id 0x7f070000 的视图

```
public class HomeFragment extends Fragment {    
    @Override
    public View onCreateView(LayoutInflater inflater, 
                  ViewGroup container, Bundle savedInstanceState) {
        return inflater.inflate(R.layout.home, container, false);
    }    
} 
```

以下是我的主要活动

```
 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_prime_mobile_home);

        final ActionBar actionBar = getActionBar();
        actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

        Tab homeTab = actionBar.newTab();
        homeTab.setText("Home");
        homeTab.setIcon(R.drawable.home);

        Fragment homeFragment = new HomeFragment();

        homeTab.setTabListener(new MyTabsListener(homeFragment));

        actionBar.addTab(homeTab);

    } 
```

主活动 XML

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:09:49.700

您应该在 ParentActivity 中输入 viewGroup 资源 ID，即 ContentView。

您的父 Activity 是否有 LinearLayout 或 Relativelayout 作为 ContentView。

如果是的话，你应该在inflate方法的augument中选择它。

# iphone - 如何将部署目标设置为 5.0.1

> ID：15564467
> 
> 赞同：3
> 
> 时间：2013-03-22T06:54:08.637
> 
> 标签：iphone, ios, xcode

我可以将部署目标更改为 5.0.1 而不是 5.0 或 5.1 吗？Xcode 只显示 5.0 和 5.1。我需要这个来使我的应用程序与苹果的数据存储指南兼容。[http://developer.apple.com/library/ios/#qa/qa1719/_index.html#//apple_ref/doc/uid/DTS40011342](http://developer.apple.com/library/ios/#qa/qa1719/_index.html#//apple_ref/doc/uid/DTS40011342)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:03:57.823

您**不能**将部署目标更改为该版本的 iOS (5.0.1)。部署目标不同。部署目标是一个标志，表明哪个是受支持的操作系统的最旧版本。

# ruby-on-rails - 添加新按钮时出现路由错误

> ID：15564480
> 
> 赞同：-2
> 
> 时间：2013-03-22T06:54:55.140
> 
> 标签：ruby-on-rails

以下是我得到的错误，当我尝试添加一个名为 decrement 的按钮并实现它时

```
No route matches {:controller=>"line_items", :product_id=>#<Product id: 2, title: "Harry Potter", description: "Its drama cum adventure cum suspense cum thriller, ...", image_url: "harry-potter_25.png", price: #<BigDecimal:b068140,'0.1E3',4(8)>, created_at: "2013-03-15 07:21:26", updated_at: "2013-03-18 11:57:13">, :action=>"decrement"} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:38:47.570

在按钮的路径中替换`:product_id => product`为`:product_id => product.id`

```
<%= button_to 'Remove from cart', decrement_line_items_path(:product_id => product.id), :method => :put, :remote => true %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:59:08.397

如果您将 button_to 的实现代码与错误一起粘贴，将会有所帮助。

此外，您似乎在 button_to 中传递了整个产品对象来针对 product_id 调用

```
#<Product id: 2, title: "Harry                 Potter", description: "Its drama cum adventure cum suspense cum thriller, ...", image_url:        "harry-potter_25.png", price: #<BigDecimal:b068140,'0.1E3',4(8)> 
```

而是只尝试 product.id

# jquery - Modernizer 功能检测

> ID：15564481
> 
> 赞同：0
> 
> 时间：2013-03-22T06:54:57.380
> 
> 标签：jquery, html, css, jquery-plugins, modernizr

我必须使用 Modernizer 来检测浏览器是否支持“cssscrollbar”属性，true 或 false。基于这个值，我必须做一些事情，比如添加插件和 CSS。

我正在使用下面这样的东西，我不知道：

```
var frag = document.createDocumentFragment();
for ( prop in Modernizr ) {
  var para = document.createElement('p');
    para.textContent = prop + ': ' + Modernizr[ prop ];
  frag.appendChild( para );
}

document.body.appendChild( frag ); 
```

检查我所指的[小提琴。](http://jsfiddle.net/Jc45A/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:54:51.920

有[testProp()](http://modernizr.com/docs/#testprop)函数：

```
Modernizr.testProp('css-scrollbar'); 
```

或者您可以[自定义您的 Modernizr](http://modernizr.com/download/)（打开“非核心检测”）：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:44:19.680

```
Modernizr.addTest('cssscrollbar', function() {

        // Tested Element
    var test = document.createElement('div'),

        // Fake body
        fake = false,
        root = document.body || (function () {
            fake = true;
            return document.documentElement.appendChild(document.createElement('body'));
        }()),

        property = 'scrollbar{width:0px;}';

    // Force scrollbar
    test.id = '__sb';
    test.style.overflow = 'scroll';
    test.style.width = '40px';

    // Apply scrollbar style for all vendors
    test.innerHTML = '&shy;<style>#'+Modernizr._prefixes.join(property+' #__sb::').split('#').slice(1).join('#')+property+'</style>';

    root.appendChild(test);

    // If css scrollbar is supported, than the scrollWidth should not be impacted
    var ret = test.scrollWidth == 40;

    // Cleaning
    document.body.removeChild(test);
    if (fake) {
        document.documentElement.removeChild(root);
    }
    return ret;
}); 
```

如果你添加这个，那么你将拥有对现代化器的 cssscrollbar 支持........

# c# - ADO.NET中断开连接和连接方法的确切含义是什么

> ID：15564485
> 
> 赞同：7
> 
> 时间：2013-03-22T06:55:07.327
> 
> 标签：c#, asp.net, ado.net

我正在学习 ADO.Net。我读了这一行：-

> DataReader 是“连接”方法，数据集是“断开”方法

从这句话我得出的结论是，在数据阅读器中我们需要建立与数据库的连接，而在数据集中我们不需要建立与数据库的连接。

但是如何在不建立连接的情况下访问数据。我知道我没有得到确切的含义。

请任何人都可以通过示例告诉我确切的含义。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-22T06:58:58.997

断开=建立连接，获取数据，关闭连接

已连接 = 建立连接，保持连接活动，在调用关闭时关闭连接。

有关详细信息，请参阅[MSDN上的链接](http://msdn.microsoft.com/en-us/library/27y4ybxw%28v=vs.100%29.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T07:09:42.597

ADO.net 架构，其中连接必须保持打开直到结束才能从数据库中检索和访问数据，称为连接架构。连接架构建立在这些类型之上 - `connection`, `command`,`datareader`

ADO.net架构中，只有在从数据库中检索到数据之前，连接才会保持打开状态，之后即使与数据库的连接关闭也可以访问，称为断开连接架构。ADO.net 的断开式体系结构建立在这些类型上- `connection`、`dataadapter`和。`commandbuilder``dataset``dataview`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:02:26.077

将 DataSet 视为内存数据库，它包含 DataTables 并包含表数据（基于 Select 查询的所有数据或数据子集），甚至维护表之间的关系。在 DataSet 上可以执行更新/删除操作，它将通过 DataAdapter 对象同步到数据库。所以要显示数据它不需要连接到数据库一直作为DataReader，只要你想显示数据就需要连接到数据库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:02:42.650

在经典 ADO 中，`RecordSet`对象可以在连接和断开模式下工作。在 Ado.Net 中，有两种不同的类型可用于满足这些场景中的每一个 -[`IDataReader`](http://msdn.microsoft.com/en-IN/library/system.data.idatareader.aspx)和[`DataSet`](http://msdn.microsoft.com/en-IN/library/system.data.dataset.aspx)

连接模式：在遍历结果集的只进流时保持连接到底层数据源。

断开模式：检索到的结果集保存在内存中，不再需要与数据库的连接进行遍历。

这篇[MSDN 文章](http://msdn.microsoft.com/en-us/magazine/cc188717.aspx)进一步比较了这两个对象并讨论了它们各自的优点，这比我在这里能够解释的要好得多。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-09T05:53:04.017

**连接架构**：对于每个请求，点击数据库，获取数据并返回。您只能执行读取操作。连接应始终打开。使用数据读取器

**断开连接架构**：一次获取整个数据，然后执行您想要执行的任何操作。插入/更新/删除。无需始终打开连接。使用数据集，数据适配器

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2015-04-13T02:50:20.647

**连接架构：**在连接模型中，我们可以将任何应用程序连接到数据库并保持连接到数据库系统，即使它不使用任何数据库操作。对于此架构，我们使用`Connection`和。`Command``DataReader`

**断开式架构：**在断开式模型中，我们将任何应用程序连接到数据库，直到我们调用 close 方法。在这个架构中，我们使用`DataSet`和`DataAdapter`。

# oauth-2.0 - 为什么刷新令牌会在 14 天后过期

> ID：15564486
> 
> 赞同：14
> 
> 时间：2013-03-22T06:55:09.330
> 
> 标签：oauth-2.0, box-api

每个刷新令牌的有效期为 14 天。为什么刷新令牌会过期？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-22T10:58:58.750

14 天是基于实施 OAuth2 的最佳实践。请参阅[为什么访问令牌会过期？](https://stackoverflow.com/questions/7030694/oauth2-why-do-access-tokens-expire)有关 OAuth2 刷新令牌为何过期的非常全面的答案。

我们有兴趣了解大于 14 的哪个数字适合您的应用程序。我们根据最初的反馈、应用程序开发人员的调查以及查看用户的应用程序登录情况选择了 14 天。绝大多数用户使用应用程序登录的频率高于每 14 天一次。

你能解释一下你的用例吗？什么是理想的非无限刷新间隔，可以让您在安全性和便利性之间取得平衡

# c# - 如何创建一个excel表并将列表中的数据插入其中？

> ID：15564492
> 
> 赞同：1
> 
> 时间：2013-03-22T06:55:23.010
> 
> 标签：c#, .net, excel, asp.net-mvc-4, export-to-excel

我有一个包含 URL 集合的 excel 表，我正在从 excel 中逐个读取这些 URL，并将 URL 传递给另一个服务以检索一些数据。[如在此链接中](https://stackoverflow.com/questions/15517626/read-data-from-excel-sheet) 现在，我有这样的课程

```
 internal class Record
    {
        public string Id { get; set; }
        public string url { get; set; }
        public string Name { get; set; }
        public string Age { get; set; }
    } 
```

现在，我创建了一个类列表，`List<Record> rec= new List<Record>();` 从服务中我得到了大约 100 条记录，它在列表**rec**中。我想要实现的是创建另一个列名为**Id,Url,Name ,Age的 excel 表，并将****rec**中 的数据逐行传输到 excel 表中。（这与上面链接中所做的相反） excel应该看起来像，

```
Id              Url                                                                                  Name    Age
1       http://www.sample.com/term=100898731%5Buid%5D&cmd=DetailsSearch&report=xml&format=text        Tom     10
2       http://www.sample.com/term==101120693%5Buid%5D&cmd=DetailsSearch&report=xml&format=text       Jerry   11
3       http://www.sample.com/term==100893225%5Buid%5D&cmd=DetailsSearch&report=xml&format=text       Jose    10 
```

如何实现相同的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:06:12.297

您是否考虑过使用[Open XML SDK](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDEQFjAA&url=http://www.microsoft.com/en-us/download/details.aspx?id=5124&ei=KgJMUaX6PImmO4vmgcAI&usg=AFQjCNFVh7-OHeQJmw_KdtM4Cws37jGYbw&sig2=j4owbRMSGaB0r3hprYgOfg&bvm=bv.44158598,d.ZWU)

```
using (SpreadsheetDocument spreadSheet = SpreadsheetDocument.Create(
    System.IO.Path.Combine(AppDomain.CurrentDomain.BaseDirectory, SPREADSHEET_NAME),
    SpreadsheetDocumentType.Workbook))
{
    // create the workbook
    spreadSheet.AddWorkbookPart();
    spreadSheet.WorkbookPart.Workbook = new Workbook ();     // create the worksheet
    spreadSheet.WorkbookPart.AddNewPart<WorksheetPart>();
    spreadSheet.WorkbookPart.WorksheetParts.First().Worksheet = new Worksheet();

    // create sheet data
    spreadSheet.WorkbookPart.WorksheetParts.First().Worksheet.AppendChild(new SheetData());

    // create row
    spreadSheet.WorkbookPart.WorksheetParts.First().Worksheet.First().AppendChild(new Row());

    // create cell with data
    spreadSheet.WorkbookPart.WorksheetParts.First().Worksheet.First().First().AppendChild(          
          new Cell() { CellValue = new CellValue("101") });

    // save worksheet
    spreadSheet.WorkbookPart.WorksheetParts.First().Worksheet.Save();

    // create the worksheet to workbook relation
    spreadSheet.WorkbookPart.Workbook.AppendChild(new Sheets());
    spreadSheet.WorkbookPart.Workbook.GetFirstChild<Sheets>().AppendChild(new Sheet()
        {
            Id = spreadSheet.WorkbookPart.GetIdOfPart(spreadSheet.WorkbookPart.WorksheetParts.First()),
            SheetId = 1,
            Name = "test"
        });

    spreadSheet.WorkbookPart.Workbook.Save();
} 
```

循环您的列表并附加更多单元格。

# c# - 如何在 WinRT XAML C# 中克隆 UIElement？

> ID：15564493
> 
> 赞同：6
> 
> 时间：2013-03-22T06:55:25.787
> 
> 标签：c#, xaml, exception, windows-runtime, uielement

我首先尝试过这种方法，但出现错误“元素已经是另一个元素的子元素”

```
var objClone = new MyImageControl();
objClone = this;
((Canvas)this.Parent).Children.Add(objClone); 
```

然后我检查了[this](http://weblogs.asp.net/razan/archive/2009/09/25/how-can-we-make-a-deep-copy-of-a-wpf-object.aspx)和[this](http://shrinandvyas.blogspot.in/2011/08/wpf-how-to-deep-copy-wpf-object-eg.html)，但 XamlWriter 和 XamlReader 在 WinRT 中不可用。我曾尝试使用[MemberwiseClone()](http://msdn.microsoft.com/en-us/library/windows/apps/system.object.memberwiseclone%28v=vs.96%29.aspx)但它抛出异常，“无法使用已与其底层 RCW 分离的 COM 对象。`System.Runtime.InteropServices.InvalidComObjectException`”。那么谁能告诉我如何将画布中现有的 UserControl 克隆到自身？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-20T08:00:52.167

我编写了一个`UIElement`复制元素的属性和子元素的扩展——请注意，它不会**为**克隆设置事件。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Windows.UI.Xaml;
using System.Reflection;
using Windows.UI.Xaml.Controls;

namespace UIElementClone
{
    public static class UIElementExtensions
    {
        public static T DeepClone<T>(this T source) where T : UIElement
        {

            T result;

            // Get the type
            Type type = source.GetType();

            // Create an instance
            result = Activator.CreateInstance(type) as T;

            CopyProperties<T>(source, result, type);

            DeepCopyChildren<T>(source, result);

            return result;
        }

        private static void DeepCopyChildren<T>(T source, T result) where T : UIElement
        {
            // Deep copy children.
            Panel sourcePanel = source as Panel;
            if (sourcePanel != null)
            {
                Panel resultPanel = result as Panel;
                if (resultPanel != null)
                {
                    foreach (UIElement child in sourcePanel.Children)
                    {
                        // RECURSION!
                        UIElement childClone = DeepClone(child);
                        resultPanel.Children.Add(childClone);
                    }
                }
            }
        }

        private static void CopyProperties<T>(T source, T result, Type type) where T : UIElement
        {
            // Copy all properties.

            IEnumerable<PropertyInfo> properties = type.GetRuntimeProperties();

            foreach (var property in properties)
            {
                if (property.Name != "Name") // do not copy names or we cannot add the clone to the same parent as the original.
                {
                    if ((property.CanWrite) && (property.CanRead))
                    {
                        object sourceProperty = property.GetValue(source);

                        UIElement element = sourceProperty as UIElement;
                        if (element != null)
                        {
                            UIElement propertyClone = element.DeepClone();
                            property.SetValue(result, propertyClone);
                        }
                        else
                        {
                            try
                            {
                                property.SetValue(result, sourceProperty);
                            }
                            catch (Exception ex)
                            {
                                System.Diagnostics.Debug.WriteLine(ex);
                            }
                        }
                    }
                }
            }
        }        
    }
} 
```

如果您发现它有用，请随意使用此代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:30:14.260

您可以尝试使用 XamlWriter 和 XamlReader 以外的序列化程序来实现链接描述的相同效果。例如，使用 ServiceStack.Text 将您的对象 JSON 序列化为字符串，然后从该字符串中获取一个新对象并将其添加到父对象。

# c# - 为什么我的更新面板不起作用？

> ID：15564494
> 
> 赞同：1
> 
> 时间：2013-03-22T06:55:25.757
> 
> 标签：c#, asp.net, ajax, updatepanel

我有一个包含一个复选框和一个面板的更新面板，复选框的自动回发属性为 true，我希望在选中复选框时使面板可见，但是当我单击复选框页面时会刷新:(

**代码**：

```
<asp:UpdatePanel runat="server" ID="updDate">
     <ContentTemplate>
         <tr>
             <td>
                 <br/>
                  Website Status
                 <br/>
             </td>
             <td>
             <br/>
                 <asp:CheckBox runat="server" ID="chkUnderConstruction" Text="  Is Website Active?" 
                 AutoPostBack="True"></asp:CheckBox>
                 <br/>
            </td>
         </tr>
            <asp:Panel runat="server" ID="pnlDate">
                <tr>
                    <td>Activation Date</td>
                     <td>
                        Day: <asp:TextBox runat="server" ID="txtDate" Width="30">
                              </asp:TextBox>
                        Month: <asp:TextBox runat="server" ID="TextBox1" Width="30">
                               </asp:TextBox>
                        Year : <asp:TextBox runat="server" ID="TextBox2" Width="30">
                               </asp:TextBox>
                     </td>
                 </tr>
            </asp:Panel>
         </ContentTemplate>
     </asp:UpdatePanel> 
```

**页面加载代码**：

```
pnlDate.Visible = chkUnderConstruction.Checked; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:10:59.963

尝试添加触发器来更新面板

```
<Triggers>
<asp:AsyncPostBackTrigger /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:00:40.930

尝试为此使用 Jquery。

避免为它编写服务器端代码。在 Jquery 中有类似的功能`Show()`和`Hide()`.

您可以在此处参考这些功能>>

[http://api.jquery.com/show/](http://api.jquery.com/show/)

根据复选框事件创建 Jquery 函数以隐藏和显示您的面板。

你的问题肯定会得到解决。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:12:34.953

使用它对你来说会很好用。我在我的项目中使用它

```
 <script type="text/javascript" language="javascript">

        function onUpdating() {
            // get the update progress div
            var updateProgressDiv = $get('updateProgressDiv');
            // make it visible
            updateProgressDiv.style.display = '';

            //  get the gridview element
            var gridView = $get('chkUnderConstruction');

            // get the bounds of both the gridview and the progress div
            var gridViewBounds = Sys.UI.DomElement.getBounds(gridView);
            var updateProgressDivBounds = Sys.UI.DomElement.getBounds(updateProgressDiv);

            //    do the math to figure out where to position the element (the center of the gridview)
            var x = gridViewBounds.x + Math.round(gridViewBounds.width / 2) - Math.round(updateProgressDivBounds.width / 2);
            var y = gridViewBounds.y + Math.round(gridViewBounds.height / 2) - Math.round(updateProgressDivBounds.height / 2);

            //    set the progress element to this position
            Sys.UI.DomElement.setLocation(updateProgressDiv, x, y);
        }

        function onUpdated() {
            // get the update progress div
            var updateProgressDiv = $get('updateProgressDiv');
            // make it invisible
            updateProgressDiv.style.display = 'none';
        }

    </script>

<asp:UpdatePanel ID="UpdatePanelTabContainer" runat="server">
            <ContentTemplate>

            </ContentTemplate>
 </asp:UpdatePanel>

<ajaxToolkit:UpdatePanelAnimationExtender ID="upae" BehaviorID="animation" runat="server"
            TargetControlID="UpdatePanelTabContainer">
            <Animations>
            <OnUpdating>
                        <Parallel duration="0">
                            <%-- place the update progress div over the gridview control --%>
                            <ScriptAction Script="onUpdating();" />  
                            <%-- disable the search button --%>                       
                            <EnableAction AnimationTarget="btnSubmit" Enabled="false" />
                            <%-- fade-out the GridView --%>
                            <FadeOut minimumOpacity=".5" />
                         </Parallel>
            </OnUpdating>
            <OnUpdated>
                        <Parallel duration="0">
                            <%-- fade back in the GridView --%>
                            <FadeIn minimumOpacity=".5" />
                            <%-- re-enable the search button --%>  
                            <EnableAction AnimationTarget="btnSubmit" Enabled="true" />
                            <%--find the update progress div and place it over the gridview control--%>
                            <ScriptAction Script="onUpdated();" /> 
                        </Parallel> 
                    </OnUpdated>
            </Animations>
        </ajaxToolkit:UpdatePanelAnimationExtender> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:10:22.150

我找到了！，我的错。我没有使用触发器，正确的代码：

```
<asp:UpdatePanel runat="server" ID="updDate" UpdateMode="Conditional">
                <ContentTemplate>
                    <tr>
                        <td>
                        <br/>
                        Website Statuse
                        <br/>
                        </td>
                        <td>
                        <br/>
                            <asp:CheckBox runat="server" ID="chkUnderConstruction" Text="  Is Website Active?" AutoPostBack="True"></asp:CheckBox>
                        <br/>
                        </td>
                    </tr>
                    <asp:Panel runat="server" ID="pnlDate">
                        <tr>
                            <td>Activation Date</td>
                            <td>
                                Day: <asp:TextBox runat="server" ID="txtDate" Width="30"></asp:TextBox>
                                 Month: <asp:TextBox runat="server" ID="TextBox1" Width="30"></asp:TextBox>
                                  Year: <asp:TextBox runat="server" ID="TextBox2" Width="30"></asp:TextBox>
                            </td>
                        </tr>
                    </asp:Panel>
                </ContentTemplate>
                <Triggers>
                    <asp:AsyncPostBackTrigger ControlID="chkUnderConstruction" />
                </Triggers>
            </asp:UpdatePanel> 
```

# javascript - 在javascript中进行表单验证时如何停止执行

> ID：15564495
> 
> 赞同：0
> 
> 时间：2013-03-22T06:55:28.363
> 
> 标签：javascript, jquery, json, cordova

我对下面的编码有两个问题。

首先，现在我想在提交前进行验证。如果从验证功能中检测到一些错误，我该如何停止提交？它只是在每个错误消息后返回 false 吗？但是，它似乎仍在检查所有字段，而不是在出现一个错误后停止。

其次，我想通过 php 插入数据。每次都可以成功地将数据添加到数据库中，但是它总是提示“错误：错误”。我不知道错误来自哪里......

```
$(document).ready(function()
{
    $('#test').click(function(){
    validation();   
    });

    function validation(){  
    var loginID=$("#loginID").val();

    if (loginID=="" || loginID==null)
    {
        $('#errorID').empty();
        $('#errorID').append(
        '<h6>' + "The Login Name cannot be empty" + '</h6>');
        $("#errorID").show();

    }
    else
    {

    }

    // check pw
    $("#errorPW").hide();
    if ($("#loginPW").val()=="" || $("#loginPW").val()==null)
    {
        $('#errorPW').empty();
        $('#errorPW').append(
        '<h6>' + "The Login Password cannot be empty" + '</h6>');
        $("#errorPW").show();

    }
    else
    {

    }

    //return false;

    } // end of #validation

    $('form').submit(function(){

        validation();
        $.ajax({
            type: 'POST',
            data: 
            {
                    loginID:        $("#loginID").val(),
                    // some data here

            },
            url: 'http://mydomain.com/reg.php',
            success: function(data){
                alert('successfully.');         
            },
            error: function(jqXHR, textStatus){
                alert("Error: " + textStatus);
            }
        });

        return false;
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:57:14.407

你可以使用`return false`。它将停止执行

```
<form onSubmit="validatdeForm();"></form>

function validatdeForm()
{
  //here return true if validation passed otherwise return false
} 
```

或者

```
 if (loginID=="" || loginID==null)
    {
        $('#errorID').empty();
        $('#errorID').append(
        '<h6>' + "The Login Name cannot be empty" + '</h6>');
        $("#errorID").show();
        return false;

    }

    if ($("#loginPW").val()=="" || $("#loginPW").val()==null)
{
    $('#errorPW').empty();
    $('#errorPW').append(
    '<h6>' + "The Login Password cannot be empty" + '</h6>');
    $("#errorPW").show();
    return false;

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T11:28:40.567

为了进行正确的表单验证，我建议您以更有条理的方式进行。更容易调试。尝试这个：

```
var validation = {
  // Checking your login ID
  'loginID' : function() {
    // Login ID validation code here...
    // If a validation fails set validation.errors = true;
    // Additionally you can have a validation.idError that contains
    // some error message for an id error.
  },

  // Checking your password
  'loginPW' : function() {
    // Password validation code here...
    // If a validation fails set validation.errors = true;
    // As with id, you can have a validation.pwError that contains
    // some error message for a password error.
  },

  'sendRequest' : function () {
    if(!validation.errors) {
      // Code for whatever you want to do at form submit.
    }
  }
};

$('#test').click(function(){
  validation.errors = false;
  validation.loginID();
  validation.loginPW();
  validation.sendRequest();
  return false;
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T06:59:10.117

它应该如下所示。**出现错误时返回错误**的停止执行脚本。

```
function validation(){  
    var loginID=$("#loginID").val();

    if (loginID=="" || loginID==null)
    {
        $('#errorID').empty();
        $('#errorID').append(
        '<h6>' + "The Login Name cannot be empty" + '</h6>');
        $("#errorID").show();
        return false;

    }
    else
    {
       return true; 
    }

    // check pw
    $("#errorPW").hide();
    if ($("#loginPW").val()=="" || $("#loginPW").val()==null)
    {
        $('#errorPW').empty();
        $('#errorPW').append(
        '<h6>' + "The Login Password cannot be empty" + '</h6>');
        $("#errorPW").show();
        return false;

    }
    else
    {
        return true;
    }

    return true;

    } // end of #validation 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T06:59:21.163

如下设计您的`validation`功能，

```
function validation()
{  
    var isValid = true;

    if(field validation fail)
    {
        isValid = false;
    }
    else if(field validation fail)
    {
        isValid = false;
    }

    return isValid;
} 
```

背后的基本思想`code`是`returning false`每当你`validation`失败时。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-21T10:09:16.603

```
function validateimage() { if($("#photo").val() !== '' ) {

    var extensions = new Array("jpg","jpeg","gif","png","bmp");
    var image_file = document.form_useradd.photo.value;
    var image_length = document.form_useradd.photo.value.length;
    var pos = image_file.lastIndexOf('.') + 1;
    var ext = image_file.substring(pos, image_length);
    var final_ext = ext.toLowerCase();
    for (i = 0; i < extensions.length; i++)
    {
    if(extensions[i] == final_ext)
    {
    return true;
    }
    }
    alert(" Upload an image file with one of the following extensions: "+ extensions.join(', ') +".");

    //$("#error-innertxt_photo").show().fadeOut(5000);
    //$("#error-innertxt_photo").html('Enter valid file type');
    //$("#photo").focus();
    return false;

} 
```

# mongoose - Mongoose.js：为什么不能重新/设置子文档的整个值？

> ID：15564504
> 
> 赞同：0
> 
> 时间：2013-03-22T06:56:04.060
> 
> 标签：mongoose

假设我有一个架构：

```
new mongoose.Schema({
    youtube: {
        id_: false,
        video: {
            _id: false,
            ytId: 'string',
            ytState: 'string',
        },     
    }
}) 
```

我找到了一些文档并想设置它的视频值。

如果我尝试设置整个对象值：

```
doc.youtube.video = {ytId: xxx, ytState: xxx} 
```

保存视频字段（子文档）后没有更改，只有在我直接设置所有字段后才更改

```
doc.youtube.video.ytId = xxx
doc.youtube.video.ytState = xxx 
```

我想知道是否有人可以解释我为什么它会这样工作？

# java - 在java中创建文件，异常情况

> ID：15564509
> 
> 赞同：0
> 
> 时间：2013-03-22T06:56:17.547
> 
> 标签：java, exception, filesystems, directory, createfile

在 Java（较新版本）和 windows xp (ntfs) 中：

1 - 现有文件 f，Files.createFile(Paths.get(f)) ： `FileAlreadyExistsException`

2 - 现有文件 f，Files.createDirectory(Paths.get(f)) ： `FileAlreadyExistsException`

3 - 现有文件夹 fo，Files.createDirectory(Paths.get(fo)) ： `FileAlreadyExistsException`

4 - 现有文件夹 fo，Files.createFile(Paths.get(fo)) ： `AccessDeniedException`

为什么最后一个不一样？

[与这个](https://stackoverflow.com/questions/15540191/what-makes-a-file-into-a-folder)问题相关联，概念上的区别是什么？

当文件夹或文件“可写”时，它们是否意味着相同。或锁定的文件或文件夹，您无法访问内容。

我实际上认为一个文件夹是一个带有内容列表的文件。你可以用vim打开它。那么最后，为什么所有文件系统元素都包含二进制或文本数据。这双重政策使事情变得复杂。在这方面，我实际上确实喜欢文件的 unix 哲学。文件夹、文件和设备文件（特殊文件）之间没有区别。

由于分层文件系统结构实际上是 gof4 复合模式，我认为我是对的，它也抽象出一个“文件系统元素”。

为什么Java在这里使事情复杂化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:33:30.557

**啊哈，原因只是存在一个文件夹（不是文件），所以异常类型不能是 FileAlreadyExistsException。**

# python - 如何在 python 类上创建带有参数的装饰器函数？

> ID：15564512
> 
> 赞同：4
> 
> 时间：2013-03-22T06:56:44.750
> 
> 标签：python, python-2.7, decorator

我想创建一个装饰器函数来对 python 类进行操作，并能够传递额外的参数。我想在类被实例化*之前这样做。*这是我的方法：

```
def register(x,a):
    print x,a

@register(5)
class Foo(object):
    pass 
```

`x`作为类和附加`a`参数。但我得到一个

```
TypeError: register() takes exactly 2 arguments (1 given) 
```

我想要的是在类被实例化*之前*`Foo`，在定义类时获取类和附加参数的某种方式。

 ** * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T07:07:05.663

你需要这样做：

```
def makeDeco(a):
    def deco(cls):
        print cls, a
        return cls
    return deco

>>> @makeDeco(3)
... class Foo(object):
...     pass
<class '__main__.Foo'> 3 
```

您可以使用`functools.wraps`等来修饰它，但这就是想法。您需要编写一个返回装饰器的函数。外部“装饰器制作”函数接受`a`参数，内部装饰器函数接受类。

它的工作方式是当你编写`@makeDeco(3)`它时调用`makeDeco(3)`. 的*返回值*是`makeDeco`用作装饰器的值。这就是为什么您需要`makeDeco`返回要用作装饰器的函数。*

# php - PHP: preg_match `eats` 我的字符串

> ID：15564513
> 
> 赞同：2
> 
> 时间：2013-03-22T06:56:49.033
> 
> 标签：php, preg-match

解析代码

```
$str = 'My name is Michael. I am a sportsman!';
preg_match('|My name is (.*?)\. I am a (.*?)|', $str, $m);
print_r($m); 
```

返回我字符串：

```
Array ( [0] => My name is Michael. I am a [1] => Michael [2] => ) 
```

在哪里`sportsman`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T06:58:57.287

那是因为表达式没有锚定，或者更确切地说，第二个`(.*?)`没有前瞻集，因此不匹配）；您应该像这样添加字符串结尾的锚点：

```
preg_match('|My name is (.*?)\. I am a (.*?)$|', $str, $m);
                                            ^ 
```

您还可以使第二个表达式变得贪婪：

```
preg_match('|My name is (.*?)\. I am a (.*)|', $str, $m);
                                          ^ 
```

# .net - CRM 2011 :: 将电子邮件从 Outlook 转换为商机

> ID：15564515
> 
> 赞同：0
> 
> 时间：2013-03-22T06:56:59.860
> 
> 标签：.net, dynamics-crm

我只想跟踪一封电子邮件，并希望将电子邮件从我的 Outlook 转换为 MS CRM 2011 中的机会。我能够做到这一点，到目前为止一切都很好。

现在我的问题是我有不同类型的机会表单，如果我需要在从 Outlook 创建时显示任何特定内容，我需要捕获和事件，我将能够从中知道这个机会是从 Outlook 创建的，以便在我的javascript 我可以处理它并显示我需要的特定类型的表单。

我能做到这一点吗？有什么方法可以让我们通过 javascript 或背后的代码了解正在创建的当前机会记录是从 Outlook 创建的吗？

请在这方面帮助我....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T10:07:14.547

您可以编写插件并在创建新机会时注册它。插件将根据 IExecutionContext 的属性设置新的 Opportunity 实体实例的一些属性，如此处[所述](https://stackoverflow.com/questions/14772178/dynamics-crm-2011-plugin-in-outlook-only)。

# python - 如何在python中捕获重定向的url

> ID：15564523
> 
> 赞同：1
> 
> 时间：2013-03-22T06:57:27.223
> 
> 标签：python

我在我的网站[http://shedez.com/test.html](http://shedez.com/test.html)上创建了一个页面， 此页面将用户重定向到我服务器上的 jpg

我想使用 python 脚本将此图像复制到我的本地驱动器。我希望python脚本先转到主网址，然后再转到图片的目标网址

而不是复制图像。到目前为止，目标 url 是硬编码的，但将来它将是动态的，因为我将使用地理编码通过 ip 查找城市，然后将我的用户从他们的城市重定向到当天的图片。

==我现在的剧本===

```
import  urllib2, os

req = urllib2.urlopen("http://shedez.com/test.html")

final_link = req.info()
print req.info()

def get_image(remote, local):   
    imgData = urllib2.urlopen(final_link).read()
    output = open(local,'wb')
    output.write(imgData)
    output.close()
    return local

fn = os.path.join(self.tmp, 'bells.jpg')
firstimg = get_image(final_link, fn) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:10:54.033

它似乎不是标头重定向。这是网址的正文 -

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">\n<html>\n<head>\n<title>Your Page Title</title>\n<meta http-equiv="REFRESH" content="0;url=htt
p://2.bp.blogspot.com/-hF8PH92aYT0/TnBxwuDdcwI/AAAAAAAAHMo/71umGutZhBY/s1600/Professional%2BBusiness%2BCard%2BDesign%2B1.jpg"></HEAD>\n<BODY>\nOptional page t
ext here.\n</BODY>\n</HTML> 
```

您可以使用or轻松获取内容，并使用`urllib`or`requests`解析 HTML 以从标签中获取图像 url。`BeautifulSoup``lxml``meta`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:09:26.917

您似乎正在使用 html`http-equiv`重定向。要使用 Python 透明地处理重定向，请在服务器端使用[HTTP 302](http://en.wikipedia.org/wiki/HTTP_302)响应标头。否则，您将不得不[手动](https://stackoverflow.com/questions/2318446/how-to-follow-meta-refreshes-in-python)解析 HTML 并遵循重定向或使用类似[mechanize](http://wwwsearch.sourceforge.net/mechanize/)的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:15:33.777

正如答案所提到的：要么重定向到图像本身，要么从 html 中解析出 url。

关于前者，重定向，如果您使用的是 nginx 或 HAproxy 服务器端，您可以将 设置`X-Accel-Redirect`为图像的 uri，它将得到适当的服务。有关更多信息，请参阅[http://wiki.nginx.org/X-accel](http://wiki.nginx.org/X-accel)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:24:31.710

urllib2 urlopen 函数默认遵循重定向 3XX HTTP 状态码。但是在您的情况下，您使用的是基于 html 标头的重定向，您将使用 Bibhas 提议的重定向。

# android - android中的短字节数组

> ID：15564528
> 
> 赞同：1
> 
> 时间：2013-03-22T06:57:48.473
> 
> 标签：android

由于某些原因，我需要将音频的样本转换为 byte[] 以进行网络传输。我找到了 short2bytearray 的函数

```
public static byte[] short2byte(short in) {
        byte[] ret = new byte[2];
        ret[0] = (byte) (in & 0xff);
        ret[1] = (byte) ((in >> 8) & 0xff);
        return ret;
} 
```

因为音频一直在播放并且样本一直在采集，所以我先将样本保存到 HashMap 中，然后打开一个线程来处理这个映射。

```
private void convert() {
        Thread conv = new Thread(new Runnable() {

            @Override
            public void run() {
                // TODO Auto-generated method stub
                // while (needConver) {
                Iterator<Entry<Integer, short[]>> iter = sampleBuffer
                        .entrySet().iterator();
                Log.i("Converting", "enter");
                if (iter.hasNext()) {
                    Entry<Integer, short[]> entry = iter.next();
                    //stops in here
                    byte[] converted = new byte[entry.getValue().length * 2];
                    for (short in : entry.getValue()) {
                        Admin.combineByteArray(converted, Admin.short2byte(in));
                    }
                    convertedBuffer.put(entry.getKey(), converted);
                    sampleBuffer.remove(entry.getKey());
                }
                try {
                    Thread.sleep(300);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                // }
            }

        });
        conv.start();
    } 
```

线程只会创建一次。我也希望它继续跟踪 sampleBuffer 并转换存储在其中的数据。但是，当我运行对话功能`Admin.short2byte(in)`时，它会输出很多信息，例如

```
`03-22 14:52:48.004: D/dalvikvm(24194): GC_FOR_ALLOC freed 4096K, 50% free 8517K/16839K, paused 13ms, total 13ms` 
```

你能告诉我为什么以及如何解决这个问题吗？谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:20:50.640

您的代码有几个问题。`sampleBuffer`首先，您在遍历地图时从地图中移除元素。我很惊讶你没有例外。其次，您构建结果数组的方法效率极低，并且会产生大量垃圾。您最好使用 a`java.nio.ByteBuffer`并消除您的`short2byte`方法。我会这样写你的代码：

```
private void convert() {
    new Thread() {
        @Override
        public void run() {
            for (Entry<Integer, short[]> entry : sampleBuffer.entrySet()) {
                short[] values = entry.getValue();
                byte[] converted = new byte[values.length * 2];
                ByteBuffer buff = ByteBuffer.wrap(converted);
                for (short in : values) {
                    buff.putShort(in);
                }
                convertedBuffer.put(entry.getKey(), converted);
            }
        }

    }.start();
} 
```

# iphone - 摄氏度符号问题 - Objective-C

> ID：15564534
> 
> 赞同：1
> 
> 时间：2013-03-22T06:58:00.767
> 
> 标签：iphone, ios, csv, utf-8

我有一个 CSV 创建项目，我创建了它并且工作正常，但是当它打开时出现一个问题；它显示摄氏度符号如下；

![在此处输入图像描述](../Images/a1b532da1701343c6d0c4298077ad799.png)

我的代码看起来像这样；

```
 writeString = [NSString stringWithFormat:@"%@%@",tempString,@"°c"];

 NSFileManager *fileManager = [NSFileManager defaultManager];
        [fileManager createFileAtPath:csvFilePath contents:[writeString dataUsingEncoding:NSUTF8StringEncoding] attributes:nil]; 
```

我使用 cmd+shift+8 添加了“°”符号，它在 Xcode 中看起来不错，但在电子表格操作应用程序中打开时出现问题，我需要你的帮助...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T11:09:52.190

在写入 csv 时尝试 NSISOLatin1StringEncoding 或 NSASCIIStringEncoding。下面的代码对我有用。

```
NSFileManager *fileManager = [NSFileManager defaultManager];
            [fileManager createFileAtPath:csvFilePath contents:[writeString dataUsingEncoding:NSISOLatin1StringEncoding] attributes:nil]; 
```

（我从对我的问题的评论中得到了解决方案，我认为这可能对其他人有所帮助）

# c# - asp:LoginStatus 一段时间后自动注销

> ID：15564535
> 
> 赞同：0
> 
> 时间：2013-03-22T06:58:03.787
> 
> 标签：c#, asp.net

我`asp:LoginStatus`在我的母版页和我的`login.aspx.cs`文件中有登录按钮，它具有选定的事件处理程序。

```
 protected void btLogIn_Click(object sender, EventArgs e)
    {
        int chk = _dbobj.CheckingIfUserExists(tbUserName_login.Text, tbPassword_login.Text);
        if (chk != 0)
        {
            Response.Cookies["UserName"].Value = tbUserName_login.Text.Trim();
            lbUserNameValidation_logIn.Text = "";
            Response.Redirect("Home.aspx", false);

            if (chbRemember_login.Checked)
            {
                Response.Cookies["UserName"].Expires = DateTime.Now.AddDays(1);
                System.Web.Security.FormsAuthentication.RedirectFromLoginPage(tbUserName_login.Text, true);
            }
            else
            {
                Response.Cookies["UserName"].Expires = DateTime.Now.AddDays(-1);
                System.Web.Security.FormsAuthentication.RedirectFromLoginPage(tbUserName_login.Text, false);
            }

        }
        else
           ............ 
```

当我登录而不选中记住复选框时，它无论如何都会记住，并且在关闭和打开页面后不会设置注销。请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:10:26.347

使用`Page.Session.Timeout`属性设置会话超时。

.net 的默认超时为 20 分钟。

请参阅此链接以获取 .NET 中的 HttpSessionState.Timeout 属性

[http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.timeout.aspx](http://msdn.microsoft.com/en-us/library/system.web.sessionstate.httpsessionstate.timeout.aspx)

希望它有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:26:42.410

将 Expires 属性设置为 MinValue 使其成为会话 Cookie

```
cookie.Expires = DateTime.MinValue 
```

过期会话意味着只要带有页面的浏览器窗口打开，cookie 就会存在。

# php - 同一页面中的更新代码需要ajax还是其他？

> ID：15564540
> 
> 赞同：0
> 
> 时间：2013-03-22T06:58:23.417
> 
> 标签：php, javascript, html

当我按下**detail.php上的***编辑*链接时，它会显示**data.php**页面，其中填写了表格中的数据...现在如果我想编辑某些内容，然后按编辑**按钮**，它将是更新.. data.php 的代码给出如下

 ******```
<?php if(isset($_GET['name']) && !empty($_GET['name'])):?>
<script>
window.onload=function()
{
document.getElementById("sbmt").style.visibility="hidden";

};              
function editform()
{ 
```

**我需要这个地方的代码**_它应该是什么？我想我需要ajax。当我按下编辑按钮时，它将是编辑记录，我在下面尝试了类似 bt 的内容，因为我需要值名称=??? 我怎样才能得到那个值_

```
<?php
$con=mysqli_connect("localhost","root","","my_db");
// Check connection
if (mysqli_connect_errno())
  {
  echo "Failed to connect to MySQL: " . mysqli_connect_error();
  }
   // mysqli_query($con,"UPDATE user_detail SET     name=,address=,gender=,hoby=,country=,place=,
    //WHERE name='$_GET['name']'");

mysqli_close($con);
?>
};                          
</script>
<?php
$con=mysqli_connect("localhost","root","","my_db");
// Check connection
if (mysqli_connect_errno())
  {
  echo "Failed to connect to MySQL: " . mysqli_connect_error();
  }
$p= $_GET['name'];
//echo "$p";
$result = mysqli_query($con,"SELECT * FROM user_detail where name ='$p' ");
$data =mysqli_fetch_array($result);
mysqli_close($con);
?>
<?php else:?>
<script>
window.onload=function()
{
document.getElementById("edit").style.visibility="hidden";

};
</script>

    <?php $data =array();?>
<?php endif;?>
<!DOCTYPE html>
<?php 
session_start();
if (!isset($_SESSION['txt_user'])) {
header('Location: Login.php');
}
?>
<html>
<head>
<title> Form with Validation </title>

<script language="JavaScript">
var flag=0;
var file_selected = false;
var file_selected1 = false;

function validform()
{
    var x=document.forms["form1"]["tname"].value;//Name
    var y=document.forms["form1"]["address"].value;//Address

    if (x==null || x=="")
    {   
        flag = 1;

        document.getElementById('tn').value="Please! Enter name ";
        //alert("Please Enter Name:");
        //return false;
    }
    else
    {
        flag=0;
    }
    if (y==null || y==" ")
    {   
        flag=flag+1;
        document.getElementById('ta').innerHTML="Please! Enter address ";

        //alert("Please Enter Address");
        //return false;
    }
    else
    {
        flag=0;
    }
    if ((form1.gender[0].checked == false) && (form1.gender[1].checked == false))
    {
        flag +=1;
        document.getElementById('gne').innerHTML="Please! Select gender ";  
        //alert("Pleae Select Gender");
        //return false;
    }
    else
    {
        flag =0;
        document.getElementById('gne').innerHTML="";
    }
    if (form1.hobby.checked == false && form1.hobby.checked == false && form1.hobby.checked == false) 
    {
        flag +=1;
        document.getElementById('hbe').innerHTML="Please! Select hobby ";
        //alert ('Please!!!, Select any hobby!');
        //return false;
    } 
    else
    {
        flag =0;
        document.getElementById('hbe').innerHTML="";
    }
    var psel=document.getElementById('fp'); //Favourite place
    var valid = false;
    for(var i = 0; i < psel.options.length; i++) {
        if(psel.options[i].selected) {
            valid = true;

            break;
        }
    }
    if(valid==false)
    {
        flag +=1;
        document.getElementById('fp_error').innerHTML="Please! Select Any Favourite Place ";
        //return false;
        //  alert("Please! Select Any Favourite Place ");
    }
    else
    {
            flag =0;
            document.getElementById('fp_error').innerHTML="";
    }
    if(!file_selected)
    {
        flag +=1;
        document.getElementById('f_pic').innerHTML="Please! Select Any Picture ";
        //alert('Please Select any Picture');
        //return false;
    }
    else
    {
        flag =0;
        document.getElementById('f_pic').innerHTML="";
    }
    if(!file_selected1)
    {
        flag +=1;
        document.getElementById('f_doc').innerHTML="Please! Select Document";
        //alert('Please Select any Document');
            //return false;
    }
    else
    {
        flag =0;
    }

    if(flag ==0)
    {
        document.getElementById('data_form').action = "Data_con.php";  
        document.getElementById('data_form').submit();

    }
    else
    {
        return true;
    }
    return false;
}
function Logout()
{
document.getElementById('data_form').action = "Logout.php";
}

</script>
</head>
<body> 
<!--onsubmit="return validform()"-->
<form id="data_form" name="form1" method="post" enctype="multipart/form-data" action="">

<table align="center" border="2">

<tr>
<td>Name:</td>
<td><input id="tn" type="text" name="tname" <?php if($data['name']):?>value="<?php echo $data['name'];?>" <?php endif;?>></td>

<!--<td id="tne"></td>-->
</tr>

<tr>
<td>Address:</td>

<td><textarea id= "ta" rows="3" cols="16" name="address" > 
<?php echo $data['address'];?>
</textarea> </td>
<!--<td id="tae"></td>-->
</tr>

<tr>
<td>Gender:</td>

<?php 
    $x=$data['gender'];
?>
<td> <input type="radio" id="gn" name="gender" value="male" <?php if($x=='male'):?> checked<?php endif;?> >  Male
<input type="radio" id="gn" name="gender" value="female" <?php if($x=='female'):?> checked<?php endif;?> > Female
</td>
<td id="gne"></td>
</tr>

<tr>
<td>Hobby:</td>
<?php
$y=$data['hoby'];
?>
<td>
<input type="checkbox" name="hobby" value="hockey" <?php if($y=='hockey'):?> checked='checked';<?php endif;?>> Hockey
<input type="checkbox" name="hobby" value="reading" <?php if($y=='reading'):?> checked='checked';<?php endif;?>> Reading<br>
<input type="checkbox" name="hobby" value="traveling" <?php if($y=='traveling'):?> checked='checked';<?php endif;?>> Traveling
<br>
</td>
<td id="hbe"></td>
</tr>

<tr>
<td>Country: </td>
<?php
$z=$data['country'];
?>
<td>
<select name="helo" id="hl">
<option value="germany"<?php if($z=='germany'):?> selected<?php endif;?> >Germany </option>
<option value="india" <?php if($z=='india'):?> selected <?php endif;?> >India </option>
<option value="japan" <?php if($z=='japan'):?> selected<?php endif;?> >Japan </option>
</select>
</td>
<td id="hle"></td>
</tr>

<tr>
<td>Favourite Place:</td>
<?php
$w  =$data['place'];
?>
<td>
<select id="fp"  name="place" multiple="multiple">
<option value="ahmedabad" <?php if($w=='ahmedabad'):?> selected<?php endif;?> >Ahmedabad</option>
<option value="nadiad" <?php if($w=='nadiad'):?> selected<?php endif;?> >Nadiad</option>
<option value="anand" <?php if($w=='anand'):?> selected<?php endif;?> >Anand</option>
<option value="vadodara" <?php if($w=='vadodara'):?> selected<?php endif;?> >Vadodara</option>
<option value="surat" <?php if($w=='surat'):?> selected<?php endif;?> >Surat</option>
</select>
</td>
<td id="fp_error"></td>
</tr>

<tr>
<td>Photo:</td>
<td><input type="file" onchange="file_selected=true;" name="pic"  ></td>
<td id="f_pic"></td>
</tr>

<tr>
<td>Resume:</td>
<td><input type="file" onchange="file_selected1=true;" name="doc" ></td>
<td id="f_doc"></td>
</tr>

<tr>
<td colspan="2"><center>
    <input type="Submit" id="edit" value="edit" Name="Edit" onclick="editform();"> 
    <input type="button" id="sbmt" value="Submit" Name="Submit" onclick="validform();">
    <input type="submit" value="Logout" Name="Submit" onclick="Logout();">
<center></td>
</tr>
</table>
</form>
</body>
</html> 
```

谢谢你，朋友...******

# jquery - FizzBu zz 应用程序的 jQuery 按钮

> ID：15564541
> 
> 赞同：2
> 
> 时间：2013-03-22T06:58:24.573
> 
> 标签：jquery, fizzbuzz

我正在使用 Rails 开发一个非常简单的 JavaScript FizzBu​​zz 应用程序，但我似乎无法让表单及其按钮正常工作。我知道这是非常粗糙的代码，其中一些是 HTML 和 JavaScript，而不是 Ruby，因为我更熟悉前两者而不是后者。

这是我的表格：

```
<p>In this field, put the starting number. It must be a positive integer <50.</p>
<form name="FizzBuzz Form">
<input type="text" name="fizzBuzzStart"/>
</form>
<div class="button" id="start">Add!</div><br>
<p>In this field, put the ending number. It must be a positive integer >50.</p>
<form name="FizzBuzz Form">
<input type="text" name="fizzBuzzEnd"/>
</form>
<div class="button" id="end">Add!</div><br><br>
<div class="button" id="play">Let's play!</div><br> 
```

这是我的 script.js 文件：

```
$("#start").click(function(){
  var start = $("input[name=fizzBuzzStart]").val();});
$("#end").click(function(){
  var end = $("input[name=fizzBuzzStart]").val();});
$("#play").click(function(){
    for (var i=start; i<=end; i++) {
        if (i%15===0){console.log("FizzBuzz");}
            else if (i%3===0){console.log("Fizz");}
            else if (i%5===0){console.log("Buzz");}
            else {console.log(i);} }});}); 
```

任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:05:17.990

主要问题是`start`and`end`被用作局部变量，因此一旦设置它们就会被有效地丢弃。使它们成为全局并修复`#end`单击处理程序中的字段名称拼写错误。

```
var start, end;

$("#start").click(function () {
    start = $("input[name=fizzBuzzStart]").val();
});

$("#end").click(function () {
    end = $("input[name=fizzBuzzEnd]").val();
});

$("#play").click(function () {
    for (var i = start; i <= end; i++) {
        if (i % 15 === 0) {
            console.log("FizzBuzz");
        } else if (i % 3 === 0) {
            console.log("Fizz");
        } else if (i % 5 === 0) {
            console.log("Buzz");
        } else {
            console.log(i);
        }
    }
}); 
```

演示：http: [//jsfiddle.net/fJyRb/](http://jsfiddle.net/fJyRb/)

# ocaml - 在 OPAM 中切换环境

> ID：15564542
> 
> 赞同：3
> 
> 时间：2013-03-22T06:58:29.817
> 
> 标签：ocaml, opam

这可能有几个开发环境，它们共享同一个编译器吗？

实际上，我想使用`4.00.1+short-types`具有不同安装包集的编译器，以及在这些环境之间轻松切换的可能性。`opam switch`如果我没有错过任何东西，只允许我在编译器之间切换。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-22T07:38:33.257

[我想解决方案是使用使用](http://opam.ocaml.org/doc/Usage.html#opamswitch)文档`opam switch install <name> --alias-of <switch>`中描述的命令创建新开关，这些开关是您感兴趣的开关的别名。

# c# - 如何将谷歌地球与视觉工作室连接以导入实时 gps 数据

> ID：15564543
> 
> 赞同：0
> 
> 时间：2013-03-22T06:58:31.713
> 
> 标签：c#, visual-studio-2010, gps, serial-port, google-earth

我在 C# 中制作了一个表单应用程序，我需要我的表单读取实时 gps 数据并将其链接到谷歌地球，在那里我可以使用 gps 数据绘制路线。例如，我想要一个可以链接的按钮到谷歌地球。我知道我们可以将实时 gps 数据直接导入谷歌地球。但我需要通过我的应用程序访问它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T16:40:20.977

可以实时连接到 Google 地球：如果 gps 位置更新，请使用 KML 更新推出增量更新。

查看[kml 更新](http://code.google.com/apis/kml/documentation/kml_21tutorial.html#updates)

# knockout.js - jQueryUI 可排序列表结合 Knockout - 嵌套可排序列表

> ID：15564545
> 
> 赞同：2
> 
> 时间：2013-03-22T06:58:37.293
> 
> 标签：knockout.js, nested-sortable

我是 Knockout 的新手（几天），我正在尝试修改一个包含嵌套可排序列表的页面以使用它。

我在这里找到了使用带有 Knockout 的可排序列表的一个很好的答案：[Knockout custom binding for jQuery UI Sortable - 奇怪的行为](https://stackoverflow.com/questions/9703647/knockout-custom-binding-for-jquery-ui-sortable-strange-behavior)

但是，我无法让它与嵌套的可排序列表一起使用。尝试单击并拖动根列表下方的任何项目具有拖动关联的根项目的效果。换句话说，嵌套列表根本不起作用。

上述解决方案中的第二个选项是我所采用的。这对我来说似乎是最简单和最清楚的。有没有一种相对简单的方法可以将它应用于嵌套的可排序对象？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T10:43:44.520

我的建议是使用我在这里创建的可排序插件：[https ://github.com/rniemeyer/knockout-sortable](https://github.com/rniemeyer/knockout-sortable)

它支持嵌套排序。使用最简单的配置，它看起来像：

```
<ul data-bind="sortable: children">
    <li>
        <div data-bind="text: name"></div>
        <ul data-bind="sortable: subs">
            <li data-bind="text: name"></li>
        </ul>
    </li>
</ul> 
```

这是一个示例：http: [//jsfiddle.net/rniemeyer/EMu95/](http://jsfiddle.net/rniemeyer/EMu95/)

如果您的嵌套结构仍然存在特定问题，那么也许您可以分叉小提琴来证明您的问题。

# javascript - 为什么域在谷歌分析中被散列？

> ID：15564554
> 
> 赞同：7
> 
> 时间：2013-03-22T06:59:09.267
> 
> 标签：javascript, hash, web, google-analytics, web-analytics

我正在使用[Google Analytics](http://www.google.co.in/analytics/)、[Open Web Analytics](http://www.openwebanalytics.com/)构建自己的 Web 分析参考库。

在 Google Analytics 中，域被散列并且这个散列被存储在[cookie](http://www.tutkiun.com/2011/04/a-google-analytics-cookie-explained.html)中。

我在 urchin 跟踪器中发现了类似的散列技术：

```
 function(d) {
      if (!d || d == "") return 1;
      var h = 0,
      g = 0;
      for (var i = d.length - 1; i >= 0; i--) {
        var c = parseInt(d.charCodeAt(i));
        h = ((h << 6) & 0xfffffff) + c + (c << 14);
        if ((g = h & 0xfe00000) != 0) h = (h ^ (g >> 21));
      }
      return h;
    } 
```

在谷歌分析中散列域是否有任何具体原因或仅供参考？

任何想法都值得赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T14:24:37.230

从文档中[`_setAllowHash()`](https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiDomainDirectory#_gat.GA_Tracker_._setAllowHash)：

> Google Analytics 中的域散列功能从您的域创建一个散列值，并使用该数字检查访问者的 cookie 完整性。

请注意，这`_setAllowHash`已被弃用——我不知道这是否意味着 Google Analytics 不再使用域哈希来验证 cookie 或其他东西......

# kendo-grid - 如何在 Kendu UI Grid 中使列不可编辑？

> ID：15564555
> 
> 赞同：1
> 
> 时间：2013-03-22T06:59:10.013
> 
> 标签：kendo-grid

如何在 Kendo UI Grid 中使列（自动生成）不可编辑？我能想到的一种方法是使用自定义 HTML 编辑器并将其设为只读或禁用，但我希望它是开箱即用的功能？

我错过了什么，不应该是财产还是什么？

谢谢，阿维

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:16:25.043

如果您正在使用内联编辑，那么这必须对您有所帮助：在架构中将该字段设置为可编辑：假。

```
 schema: {
                    model: {
                        id: "sr_id",
                        fields: 
                        {
                            card_number: { editable: false, type: "string" },
                            merchant: { editable: true, type: "string" }
                        }
                    }
                } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-09T12:30:44.027

在`fields`模型的选项中，制作每一列`editable: false`，除了您要编辑的那一列：`editable: true`

在网格的选项中，有`editable: true`.

有用。

# mongodb - 如何在Mongodb java驱动程序中编写多个group by id字段

> ID：15564562
> 
> 赞同：6
> 
> 时间：2013-03-22T06:59:37.223
> 
> 标签：mongodb, aggregation-framework, mongodb-java

在下面的查询中

```
{ $group : {
        _id :  { success:'$success', responseCode:'$responseCode', label:'$label'},
        max_timeStamp : { $timeStamp : 1 },
        count_responseCode : { $sum : 1 },
        avg_value : { $sum : "$value" },
        count_success : { $sum : 1 }
    }} 
```

java mongodb驱动中如何 `_id : { success:'$success', responseCode:'$responseCode', label:'$label'},`编译才能使用。

我试过

```
BasicDBList list = new BasicDBList();
list.add(new BasicDBObject("success", "$success"));
list.add(new BasicDBObject("responseCode", "$responseCode"));
list.add(new BasicDBObject("label", "$label"));
AggregationOutput output = collection.aggregate(match, project, group); 
```

和

多维阵列

```
String [][] muitiGroupBy = {{"success", "$success"},{"responseCode", "$responseCode"},{"label", "$label"}}; 
```

ETC..

但我总是得到这样的结果

```
"_id" : [ { "success" : "$success"} , { "responseCode" : "$responseCode"}] 
```

如果我只使用一个字段，它会起作用。

DBObject groupFields = new BasicDBObject("_id", new BasicDBObject("success", "$success"));

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-25T07:06:20.227

我们确实想出了办法。我们可以通过使用[this](http://api.mongodb.org/java/2.10.1/com/mongodb/BasicDBObject.html#BasicDBObject%28java.util.Map%29)来实现。

```
Map<String, Object> dbObjIdMap = new HashMap<String, Object>();
dbObjIdMap.put("success", "$success");
dbObjIdMap.put("responseCode", "$responseCode");
dbObjIdMap.put("label", "$label");
DBObject groupFields = new BasicDBObject( "_id", new BasicDBObject(dbObjIdMap)); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-09-05T20:22:44.977

在多次尝试将我的聚合操作转换为 Java 客户端可以处理的操作失败后，我有类似的需求，并且从 2013 年开始，titogeo 的回答引导我朝着正确的方向前进。这是我使用的：

```
MongoCollection<Document> myCollection = myDB.getCollection("myCollection");

Map<String, Object> multiIdMap = new HashMap<String, Object>();
multiIdMap.put("groupField1", "$groupField1");
multiIdMap.put("groupField2", "$groupField2");

Document groupFields = new Document(multiIdMap);
AggregateIterable<Document> aggregate = myCollection.aggregate(Arrays.asList(
        Aggregates.group(groupFields,
                Accumulators.last("lastDate", "$dateCreated"),
                Accumulators.last("lastNumAvail", "$availableUnits")
                )
        )); 
```

我得到了完全匹配结果所需的内容：

```
db.myCollection.aggregate([
            {"$group":{ "_id":{
                groupField1: "$groupField1", 
                groupField2: "$groupField2"}, 
                lastDate: 
                    {"$last":"$dateCreated"}, 
                lastNumAvail: 
                    {"$last":"$availableUnits"}
                }
               }                
            ]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-05T19:48:07.240

我可以通过这段代码（grails 代码和 mongo-java-driver-3.2）实现这一点：

```
DBObject groupFields = new BasicDBObject()
groupFields.put('success', "\$success")
groupFields.put('responseCode', "\$responseCode")
groupFields.put('label', "\$label")
def result = collection.aggregate(Arrays.asList(Aggregates.group(groupFields, []))).iterator() 
```

# python - 在 App Engine 1.7.6 中删除 environ.SDK_VERSION？

> ID：15564566
> 
> 赞同：0
> 
> 时间：2013-03-22T06:59:54.407
> 
> 标签：python, google-app-engine, python-2.7

我已经更新到最新的 App Engine for Python 1.7.6 但是 SDK_VERSION os environ 变量似乎已经消失了......

我正在使用 Django 1.4.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T14:25:00.070

这是一个错误，GAE 团队承认：[https ://code.google.com/p/googleappengine/issues/detail?id=9073](https://code.google.com/p/googleappengine/issues/detail?id=9073)

# ios - 在目标c中使用类层次结构时如何从超类调用子类方法

> ID：15564567
> 
> 赞同：1
> 
> 时间：2013-03-22T06:59:54.743
> 
> 标签：ios, objective-c, cocoa-touch, protocols

**这是我的代码：**

```
@interface RootViewController : UIViewController{

}
-(IBAction)btnDetail1_Clicked:(id)sender;
@end

@implementation RootViewController

-(IBAction)btnDetail1_Clicked:(id)sender{
    DetailViewController1 *mvcr = [[DetailViewController1 alloc] initWithNibName:@"DetailViewController1" bundle:nil];
    [mvcr setDelegate:self];
    [self.navigationController pushViewController:mvcr animated:YES];
    [mvcr release];
}
@end

@protocol NotifySubclass
@optional
-(void) serviceCall_done;
@end

@interface MasterViewController : UIViewController{
     id<NotifySubclass> delegate;
}
@property (retain) id delegate;
-(void) initCallService;
@end

@implementation MasterViewController
@synthesize delegate;

-(void) initCallService{
    "My some other code is here."
    [self performSelector:@selector(startLoading) withObject:nil afterDelay:5];
}

-(void) startLoading{
    "My some other code is here."
    [self performSelectorOnMainThread:@selector(loadComplete) withObject:nil waitUntilDone:YES];
}

-(void) loadComplete{
    "I want to call DetailViewController1's "serviceCall_done" method from here.
     [delegate serviceCall_done];
}
@end

@interface DetailViewController1 : MasterViewController <NotifySubclass>{

}
@end

@implementation DetailViewController1
- (void)viewDidLoad{
    [self initCallService];
}

-(void) serviceCall_done{

}
@end 
```

我想从的方法中调用`DetailViewController1`的方法。`serviceCall_done``loadCompete``MasterViewController`

我曾尝试创建协议，但没有得到我在调用时必须编写协议的确切`DetailViewController1`位置`RootViewController`。

任何人都可以指导我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T09:14:26.990

在中添加方法`MasterViewController`

```
-(void) serviceCall_done{
    //in this method you do nothing.
} 
```

**调整**

```
-(void) loadComplete{
    [self serviceCall_done];
} 
```

然后，在`DetailViewController1`覆盖这个方法`serviceCall_done`

```
-(void) serviceCall_done{
    //Add code
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T09:06:24.427

您可以为此发布通知使用 NSNotificationCenter 并在所有 3 个详细信息类中添加观察者。阅读一些关于 NSNotificationCenter 的教程。

这里有一些教程

[教程 1](http://agilewarrior.wordpress.com/2012/02/09/dead-simple-nsnotification-example-iphone/)

[教程 2](http://www.roseindia.net/answers/viewqa/Mobile-Applications/16267-NSNotificationCenter-Example.html)

[教程 3](http://www.theappcodeblog.com/2011/05/16/nsnotificationcenter-tutorial-using-the-notification-center-in-your-iphone-app/)

# php - 自动加载函数并在codeIgniter中获取变量

> ID：15564569
> 
> 赞同：1
> 
> 时间：2013-03-22T07:00:02.590
> 
> 标签：php, codeigniter

我有这个问题：如何在每个页面的 codeIgniter 中加载函数并从中获取数据或变量以显示在视图中？
我有很多控制器，每个控制器都有很多功能。每个函数都将主视图作为模板加载并加载自己的视图。主视图有动态数据，我从数据库中推送它。
所以我需要在主视图中自动显示数据库中的一些数据。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:49:01.603

if you want to use your function inside views. use `CI Helpers`

[Codeigniter Helpers](http://ellislab.com/codeigniter/user-guide/general/helpers.html)

create your helper function

```
function get_data() {

 // and use CI instance
 $CI = & get_instance();

 // now you can call your models, libraries. etc. in the helper
 $data = $CI->your_model->your_model_funcion();

 return $data;
} 
```

and you can call your helper function in controllers, views, models. etc...

```
get_data(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:04:29.517

你可以使用这个。根据你的改变它

```
function index()
{
    $data['list']       =   $this->some_model->show_data();
    $data1['content']   =   $this->load->view('some_view',$data,true);
    $this->load->view('template',$data1);
} 
```

内容在您的主模板中，您将在其中传递您的数据以显示在模板中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:29:10.737

我不确定您到底要问什么，但如果您希望将功能自动加载到任何控制器

然后创建`Mycontroller.php`一个`application/core`

```
class Mycontroller extends CI_Controller
{
    function __construct()
    {
        parent::__construct();
        // here goes your function
    }
} 
```

然后扩展你必须的每个控制器`Mycontroller`而不是`CI_Controller`

# iphone - 当用 xcode 4.5 编写的代码在 xcode 4.2 中运行时解析错误

> ID：15564571
> 
> 赞同：0
> 
> 时间：2013-03-22T07:00:13.580
> 
> 标签：iphone

我是 iphone 应用程序开发的新手。我在 xcode 4.5 中编写了一个代码，代码在那里运行良好。我复制了该代码并将其粘贴到 xcode 4.2 中，对其进行了清理，当我构建它时，我得到了很多解析错误。一些错误是；缺少@end，非法接口限定符，期望一个objective-c指令，期望标识符或'（'等。大多数这些错误都在AppDelegate.m文件中。我完全不知道该怎么做。请帮帮我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:03:55.850

打开您的 AppDelegate.m 文件，并在文件末尾向下滚动，只需`@end`在最后一行写入即可。

# file - 如何将带参数的文件发送到soapui

> ID：15564581
> 
> 赞同：0
> 
> 时间：2013-03-22T07:00:48.257
> 
> 标签：file, groovy, soapui

我正在使用soapUi 测试webservice 请求，需要将参数发送到请求，存储在配置文件中。

参数是：

Key - 静态参数，用于访问 webservice 参数 1-4 - 动态，可以在配置文件中更改并再次发送到 web-service。

我需要使用 groovy 脚本将 Key 和 Parameters 1-3 的所有参数作为配置文件发送到 soapui 请求。

请求网络服务，如：

```
<Header/>
       <Body>
             <request>
                   <accesskeytoservice>
                     <key>Key</key>
                   </accesskeytoservice>
                           <UseService> 
                           <parameter1>Parameter1<parameter1>
                           <parameter2>Parameter2<parameter2>
                           <parameter3>Parameter3<parameter3>
                           </UseService>                
             </request>
       </Body> 
```

我曾尝试以 csv、txt 和 xml 格式存储数据，然后将其读取到soapui请求解析文件中的数据，但所有尝试仍然无法正常工作。

在这种情况下首选什么格式的配置文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T14:14:56.083

你是如何打开和阅读你的配置文件的？使用 Groovy？如果你成功地完成了那部分，剩下的就简单了。定义两个变量并使用

```
context.setProperty(name,value) 
```

循环直到 eof。

# javascript - 为什么在 JS 中使用 NULL 和逻辑运算符会引发错误

> ID：15564584
> 
> 赞同：3
> 
> 时间：2013-03-22T07:00:57.640
> 
> 标签：javascript, null, logical-operators

这是我正在测试的代码——

工作正常

```
document.write( 1 && undefined ); // prints undefined
document.write( 1 && 3 ); // prints 3 
document.write( 1 && true ); // prints  true 
```

抛出错误

```
document.write( 1 && NULL ); // throws Error 
```

为什么使用 NULL 会引发错误，尽管它甚至适用于未定义

尽管我测试了 typeof`NULL`及其提供，`undefined`但仍然无法正常工作。请让我知道这一点。（OOP 编程新手）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T07:05:53.237

`NULL`不存在，试试这个

```
try {
    document.write( 1 &&  NULL  );
} catch ( e) {
    document.write( 1 &&  null  );
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:03:38.667

`NULL`未定义，因为它不存在。你在想`null`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:03:57.677

`document.write(1 && null);`输出`null`。

`NULL`JavaScript 中不存在，因为它区分大小写。一定是`null`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:04:27.747

它是`null`（小写），而不是`NULL`（大写）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:04:33.543

因为`undefined`与不存在的符号不同，所以浏览器会抛出错误。从 Chrome 控制台：

```
> 1 && null
null
> 1 && NULL
ReferenceError: NULL is not defined
> NULL
ReferenceError: NULL is not defined 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-22T07:07:07.750

阅读此内容可能会回答您的问题 [JavaScript undefined vs. null](http://saladwithsteve.com/2008/02/javascript-undefined-vs-null.html)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-22T07:08:35.050

使用`typeof something`仅给出该表达式的类型；在`undefined`这种情况下，因此使用该符号自然会产生错误。它与以下内容相同：

```
typeof unknownvar
// "undefined"
unknownvar
// ReferenceError: unknownvar is not defined 
```

例外是符号`undefined`本身：

```
typeof undefined
// "undefined"
undefined
// undefined 
```

在您的特定情况下，`NULL`应该是`null`.

# php - 从 JS 函数中执行 PHP 会话

> ID：15564588
> 
> 赞同：-2
> 
> 时间：2013-03-22T07:01:31.017
> 
> 标签：php, javascript, jquery, jquery-mobile

我想在用户单击按钮时设置 PHP 会话而不重新加载页面。理想情况下，单击按钮会立即隐藏名为 download_div 的 div，并将会话“close_download”设置为 true。

我知道 JS 是用户端的，PHP 是服务器端的，但我想知道是否有办法融合这两个世界。有任何想法吗？谢谢！

```
<html>
<head>
<script>
function closeDownload()
{
$('.download_div').hide()
}

<?php
session_start();
$_SESSION['close_download'] = "true";
?>

</script>

</head>
<body>
<a href="close_download.php" data-role="button" onClick="closeDownload()">Close</a>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:08:12.743

`session.php`

```
<?php
session_start();
$_SESSION['close_download'] = "true";
?> 
```

`download.html`

```
<html>
<head>
<script>
function closeDownload()
{
   $('.download_div').hide()
   $.get("session.php")   
}
</script>

</head>
<body>
<a href="close_download.php" data-role="button" onClick="closeDownload()">Close</a>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:06:42.520

你必须使用ajax，阅读关于jquery ajax calls 的文档，是最快的方法。

基本上你必须有另一个包含这个的 php 文件：

```
session_start();
$_SESSION['close_download'] = "true"; 
```

然后在您的 html/js 中执行类似 $.get('newfile.php'); 的操作

你不能把 php 放在你的 javascript 中，但是使用 ajax 你可以像你说的那样“混合”它们

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:09:33.377

融合这两个世界的方式是[-AJAX](http://api.jquery.com/jQuery.ajax/)。

```
$.ajax({
  url: "session.php",
  data: {'name': 'test_session', 'value': 'foobar'}
}).done(function() {
     $('#notification').html('Done!');
}); 
```

session.php-

```
<?php
    session_start();
    $name = $_POST['name'];
    $value = $_POST['value'];
    $_SESSION[$name] = $value;
?> 
```

# ruby-on-rails-3 - 如何使用 has_may 保存额外的字段值：通过

> ID：15564589
> 
> 赞同：2
> 
> 时间：2013-03-22T07:01:34.317
> 
> 标签：ruby-on-rails-3, has-many-through

我有这些模型

```
class Product < ActiveRecord::Base
  # fields: name, weight, expiry_date, active...

  has_many :categorizations
  has_many :categories, :through => :categorizations
end

class Category < ActiveRecord::Base
  # fields: name, active...

  has_many :categorizations
  has_many :products, :through => :categorizations
end

class Categorization < ActiveRecord::Base
  # fields: user_id, type, priority, product_id, category_id...

  belongs_to :product
  belongs_to :category

  validates :user_id, :presence =>  { :message => "Must be filled" }
end 
```

_form.html.erb

```
<%= form_for @product do |f| %>
    <%= f.error_messages %>
    <%= f.text_field :name %>
    <%= f.select :category_ids .... {:multiple => true} %>
<% end %> 
```

参数：

```
{"product"=>{"name"=>"sdf", "category_ids" => ["1", "2"]}, "commit"=>"Create Product"} 
```

**问题：**如何在分类表中保存一些额外的字段，如 user_id、priority？

我试图在初始化产品后访问分类对象，但有空数组。例如

```
@product = Product.new(params[:product]) # {"product"=>{"name"=>"sdf", "category_ids" => ["1", "2"]}, "commit"=>"Update Document"}
@product.categorizations => [] 
```

# mysql - MySQL：使用 LIKE 的 AES_DECRYPT 的安全性和速度

> ID：15564591
> 
> 赞同：3
> 
> 时间：2013-03-22T07:01:45.613
> 
> 标签：mysql, security, aes

我在一个表中有 55000 条记录，其中 keyval (varchar) 列包含用 AES_ENCRYPT 加密的 15 个字符长的字符串。我在这个专栏上尝试了一个 LIKE 查询，并惊讶地发现它回答得非常快。这怎么可能？我的猜测是它以某种方式使用列索引，但这是否意味着索引不安全？

```
select aes_decrypt(keyval,'secret') from `table` WHERE aes_decrypt(keyval,'secret') like '%abc%'
Showing rows 0 - 2 ( 3 total, Query took 0.0644 sec)
... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T09:31:02.743

AES 很快。查看[http://www.cryptopp.com/benchmarks.html](http://www.cryptopp.com/benchmarks.html) - 在旧硬件上，AES 可以处理 100Mb/sec。

所以 55k 行 x 每行 15 个字节 = 825Kb，这根本不需要时间。

所以没有什么可担心的。

# matlab - 有没有办法在 matlab R2011b 中进行命令别名？

> ID：15564592
> 
> 赞同：1
> 
> 时间：2013-03-22T07:01:47.613
> 
> 标签：matlab

我在 Matlab 相对较新。我正在尝试为如下所示的命令创建别名。

```
run('full/path/to/some/script'). 
```

特别是，我希望能够写出与 Bash 相当的东西

```
alias myAlias = run('full/path/to/some/script') 
```

然后就可以打字`myAlias`了，得到和右手边一样的效果。

我已经查看了[此处](http://www.mathworks.com/help/symbolic/mupad_ref/alias.html)的文档，但是`Undefined function or variable 'alias'`当我尝试使用它时仍然出现错误，即使在我第一次`syms`在提示符下键入之后，我相信要么我没有正确导入工具箱，要么这不是 R2011b 中的功能.

一个额外的要求是，即使在我调用 之后，我也希望别名保持`clear`不变，这应该清除工作区中的所有其他活动变量。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T08:14:20.313

例如：

```
f = @() run('foldername\scriptname') 
```

然后只写`f()`会执行`scriptname`。这里我使用了一个匿名函数，如果需要，你可以添加更多内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T14:19:32.780

您可以通过将@natan 的答案设为 m 文件来容忍清除工作区。中`myAlias.m`，放`run('full/path/to/some/script')`。我确定您知道此解决方案，但您可能不想这样做，因为会导致文件系统混乱。

您可以简单地将 m 文件添加到某个文件夹并使用`addpath('where/ever/you/put/the/script')`它来访问它。

# grails - Grails 2.1 是否支持使用 Maven 构建创建 .war 文件

> ID：15564600
> 
> 赞同：-1
> 
> 时间：2013-03-22T07:02:44.567
> 
> 标签：grails, maven-2, maven-plugin, grails-plugin

**Grails 2.1 是否支持使用 Maven 构建创建 .war 文件？**

上周，我用 grails 2.04 应用程序尝试了两天。即使我无法成功。现在，我正在尝试使用 Grails 2.1.X（确切的 2.1.4）。现在，我能不能，我不确定。

我在 Grails 官方文档页面中没有找到任何文档。即使我也无法在其他任何地方找到。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T01:42:35.223

试试*mvn 包*。

可以肯定的是，在 Grails 2.1.1 中一切正常，无法确认低于 2.1.x 的任何版本。

我在这里上传了一个非常基本的 Maven-Grails 集成教程：[http ://www.youtube.com/watch?v=tqGN61hiciE](http://www.youtube.com/watch?v=tqGN61hiciE)

也许上面的链接至少可以帮助您验证您的配置。

# ios - 行删除后 UITableviewcell 内的 UITextfield 返回错误标记

> ID：15564604
> 
> 赞同：2
> 
> 时间：2013-03-22T07:03:04.757
> 
> 标签：ios, uitableview, tags, uitextfield

我在每个单元格中都有一个 UITextfield，我为其分配了一个等于当前行号的标签。

`cell.textfield.tag = indexPath.row;`

当用户结束编辑文本字段时，我需要**indexpath.row 。**

```
-(void) textFieldDidEndEditing:(UITextField *)textField{

CustomCell *cell = (CustomCell *) [[textField superview]superview];

if([cell isKindOfClass:[UITableViewCell class]]){

    //NSIndexPath *indexPath = [Table indexPathForCell:cell];

    int row = textField.tag;
    NSLog(@"indexpath: %d",row);

NSString *str = [datasource objectAtIndex:row]; //get exception here
.............. } 
```

我在这里面临的问题是，当我使用 删除一行`deleteRowsAtIndexPaths`，然后结束编辑最后一个单元格时，我得到错误的标签号，因为数据源不包含该索引处的元素。此外，我不能使用`indexPathForCell:`，因为如果正在编辑文本字段的单元格超出屏幕，它将返回 null。

我该怎么做才能获得正确的标签号？我不想重新加载表格，因为它没有任何动画。什么可以替代？欢迎任何建议。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T22:50:00.890

使用免费的 Sensible TableView 框架来管理所有这些文本字段可能要容易得多。该框架只是根据您的类属性创建它们，并自动将输入的值写回您的类。在我看来，iOS 表单真的很容易使用和直接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:15:10.380

不要使用 indexPath.row 来定义您的值，如下所示

我已经根据假设编写了下面的代码，我不知道您的数据源可能会有所不同..

```
for(int i=0;i<10;i++){
     Data *obj=[[Data alloc] init];
     obj.tag=i;//
     obj.value=@"your value";

     [dataSource addObject:obj];
}

Data *obj=[dataSource objectAtIndex:indexPath.row];
cell.textfield.tag = obj.tag; 
```

同时您将获取标签

```
-(void) textFieldDidEndEditing:(UITextField *)textField{

    CustomCell *cell = (CustomCell *) [[textField superview]superview];

    if([cell isKindOfClass:[UITableViewCell class]]){

        //NSIndexPath *indexPath = [Table indexPathForCell:cell];

        int row = textField.tag;
        NSLog(@"indexpath: %d",row);

        Data *obj;
        for(Data *data in dataSource){
            if(data.tag == row){
                obj=data;break;
            }

        }

        NSString *str = obj.value;
    } 
```

# iphone - 如果第一次填充，如何限制表格视图第二次填充单元格

> ID：15564608
> 
> 赞同：1
> 
> 时间：2013-03-22T07:03:27.227
> 
> 标签：iphone, ios, objective-c, uitableview

在我的 TableView 中，我正在设置图像和两个标签，它填充得很好。但是当我向下滚动 TableView 然后重新查看填充的单元格时，它将重新填充。现在我正在用来自 URL 的图像填充我的 ImageView，这样它就会为我的用户创建负载。

那么我可以限制我的 TableView，如果我的单元格第一次被填充，它将不会再次填充。

这是我的代码：

```
- (UITableViewCell *)tableView:(UITableView *)atableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *SimpleTableIdentifier = @"SimpleTableIdentifier";

    UITableViewCell * cell = [atableView  dequeueReusableCellWithIdentifier: nil];

    if(cell == nil) {

        cell = [[UITableViewCell alloc]
                initWithStyle:UITableViewCellStyleDefault
                reuseIdentifier:SimpleTableIdentifier];

        ChannelList *channelList = nil;
        if (searchedData.count ==0) {
            channelList = [channelAllData objectAtIndex:[indexPath section]];
        } else {
            channelList = [searchedData objectAtIndex:[indexPath section]];
        }

        UIImageView *aImageView = [[UIImageView alloc] initWithFrame:CGRectMake(20, 10, 50, 50)];
        aImageView.image = [UIImage imageNamed:@"tv-defolt.png"];
        NSString * mystr = [channelList channelLogo];

        if (mystr.length !=0) {
            //get a dispatch queue
            dispatch_queue_t concurrentQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
            //this will start the image loading in bg
            dispatch_async(concurrentQueue, ^{
                NSString * str = [NSString stringWithFormat:@"http://manektech.net/mttv/Channel/%@",[channelList channelLogo]];
                NSData *image = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:str]];

                //this will set the image when loading is finished
                dispatch_async(dispatch_get_main_queue(), ^{
                    aImageView.image = [UIImage imageWithData:image];
                });
            });
        } else {
            aImageView.image = [UIImage imageNamed:@"tv-defolt.png"];
        }

        [cell addSubview:aImageView];

        UILabel *nameTextLabel =  [[UILabel alloc] initWithFrame: CGRectMake(80, 15, 175, 20)];
        nameTextLabel.textColor = [UIColor blackColor];
        nameTextLabel.backgroundColor = [UIColor clearColor];
        nameTextLabel.text = [channelList channelName];
        nameTextLabel.font = [UIFont fontWithName:@"Arial" size:14];
        [cell addSubview:nameTextLabel];

        UILabel *genreTextLabel =  [[UILabel alloc] initWithFrame: CGRectMake(80, 35, 175, 20)];
        genreTextLabel.textColor = [UIColor grayColor];
        genreTextLabel.backgroundColor = [UIColor clearColor];

        NSString * str = [NSString stringWithFormat:@"%@ | %@",[channelList channelType],[channelList channelCounry]];

        genreTextLabel.text = str;
        genreTextLabel.font = [UIFont fontWithName:@"Arial" size:14];
        [cell addSubview:genreTextLabel];

    cell.selectionStyle = UITableViewCellSelectionStyleGray;

    }
    return cell;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:10:41.680

```
- (UITableViewCell *)tableView:(UITableView *)atableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

     NSString *SimpleTableIdentifier = [NSString stringWithFormat:@"Cell%d%d",indexPath.section,indexPath.row]; /// set different idenfifier for all cell

    UITableViewCell * cell = [atableView  dequeueReusableCellWithIdentifier: SimpleTableIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:SimpleTableIdentifier] autorelease];
        /// Add UIImageView and UILable here 
    }    
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:07:19.453

您应该使用[SDWebImage](https://github.com/rs/SDWebImage)来避免延迟表格滚动。它使用缓存并避免每次都请求图像 URL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:11:30.417

克里特岛`UILabel`_`UIImageview`

```
if(cell == nil) 
{
    cell = [[UITableViewCell alloc]
                initWithStyle:UITableViewCellStyleDefault

  .
  .
  .

    // create `UILabel` and `UIImageview`  here add add it to cell.contentView
} 
```

而且两者都在`cell.contentView`

# java - TestNG 测试给出 Null

> ID：15564611
> 
> 赞同：0
> 
> 时间：2013-03-22T07:03:43.730
> 
> 标签：java, spring, unit-testing, spring-security, testng

这是我要测试的方法

```
@PreAuthorize("isAuthenticated() and hasPermission(#request, 'CREATE_REQUISITION')")
    @RequestMapping(method = RequestMethod.POST, value = "/trade/createrequisition")
    public @ResponseBody
    void createRequisition(@RequestBody CreateRequisitionRO[] request,
            @RequestHeader("validateOnly") boolean validateOnly) {
        logger.debug("Starting createRequisition()...");
        for (int i = 0; i < request.length; i++) {
            CreateRequisitionRO requisitionRequest = request[i];

            // FIXME this has to be removed/moved
            requisitionRequest.setFundManager(requisitionRequest.getUserId());
            // FIXME might have to search using param level as well
            SystemDefault sysDefault = dbFuncs.references.systemDefault
                    .findByCompanyAndDivisionAndPortfolio(
                            userContext.getCompany(),
                            userContext.getDivision(),
                            requisitionRequest.getPortfolio());
            requisitionRequest.setCustodianN(sysDefault.getCustodianN());

            gateKeeper.route(requisitionRequest);
        }
    } 
```

这是testNG类：

```
package in.hexgen.api.facade;

import static org.mockito.AdditionalMatchers.not;
import static org.mockito.Matchers.*;
import static org.mockito.Mockito.*;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.security.authentication.AuthenticationManager;
import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;
import org.springframework.security.core.Authentication;
import org.springframework.security.core.authority.AuthorityUtils;
import org.springframework.security.core.context.SecurityContextHolder;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;
import org.springframework.security.authentication.BadCredentialsException;

import org.springframework.mock.web.MockHttpServletRequest;
import org.springframework.mock.web.MockHttpServletResponse;
import org.springframework.mock.web.MockHttpSession;

import com.hexgen.api.facade.HexgenWebAPI;
import com.hexgen.api.facade.security.HexGenPermissionEvaluator;
import com.hexgen.ro.request.CreateRequisitionRO;

public class HexGenPermissionEvaluatorTest {
    private static final Logger logger = LoggerFactory
            .getLogger(HexGenPermissionEvaluatorTest.class);

       private HexGenPermissionEvaluator filter; //actual class to test
       private AuthenticationManager manager;

    private Authentication authentication;
    private Object name = "chandru";
    private Object permission = "CREATE_REQUISITION";
    CreateRequisitionRO[] request;
    private HexGenPermissionEvaluator permissionEval;
    private HexgenWebAPI webAPI;

    @BeforeTest
       public void setUp() throws Exception {
           SecurityContextHolder.clearContext();
           UsernamePasswordAuthenticationToken rodRequest = new UsernamePasswordAuthenticationToken(name.toString(), name.toString());
           //rodRequest.setDetails(new WebAuthenticationDetails(new MockHttpServletRequest()));
           Authentication rod =
               new UsernamePasswordAuthenticationToken(name.toString(), name.toString(), AuthorityUtils.createAuthorityList("CREATE_REQUISITION"));

           manager = mock(AuthenticationManager.class);
           when(manager.authenticate(rodRequest)).thenReturn(rod);
           when(manager.authenticate(not(eq(rodRequest)))).thenThrow(new BadCredentialsException(""));

       }

    @Test
    public void createRequisitionTest() {
        logger.debug("createRequisition Generate - starting ...");
            webAPI.createRequisition(request, true);
        logger.debug("createRequisition Generate - completed ...");
    }

} 
```

我的 TestNG 报告：

```
createRequisitionTest
"null"
in.hexgen.api.facade.HexGenPermissionEvaluatorTest.createRequisitionTest(HexGenPermissionEvaluatorTest.java:76)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:597)
org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)
org.testng.internal.Invoker.invokeMethod(Invoker.java:702)
org.testng.internal.Invoker.invokeTestMethod(Invoker.java:894)
org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1219)
org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)
org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)
org.testng.TestRunner.privateRun(TestRunner.java:768)
org.testng.TestRunner.run(TestRunner.java:617)
org.testng.SuiteRunner.runTest(SuiteRunner.java:334)
org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)
org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)
org.testng.SuiteRunner.run(SuiteRunner.java:240)
org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)
org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:87)
org.testng.TestNG.runSuitesSequentially(TestNG.java:1188)
org.testng.TestNG.runSuitesLocally(TestNG.java:1113)
org.testng.TestNG.run(TestNG.java:1025)
org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:76)
org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:161)
org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:101)
org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:115)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:597)
org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:103)
org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74) 
```

请纠正我，并不太明白我在哪里犯了错误。

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T13:42:53.067

看起来您没有初始化 webAPI 成员，因此这一行会导致 NPE：

```
webAPI.createRequisition(request, true); 
```

# php - 样式表不适用于 codeigniter

> ID：15564612
> 
> 赞同：1
> 
> 时间：2013-03-22T07:03:52.103
> 
> 标签：php, css, codeigniter

我是 codeigniter 的新手。我创建了名为`mystyle.css`的样式表，其文件夹结构为`application/styles/mystyle.css`.My 视图`first_view.php`的文件夹结构为`application/views/first_view.php`.I 已放置了这样的 href 链接：

```
file:///C|/wamp/www/demo_code/application/styles/mystyle.css. 
```

它不起作用，但它显示的内容没有样式。当我这样使用时

```
href="<?php echo base_url('styles/mystyle.css');?>" 
```

年龄显示没有内容。我不明白这是怎么发生的。请帮助我

```
EDIT 
```

我的配置文件包含这样的：

```
$config['base_url'] = '';
$config['index_page'] = 'index.php'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T11:22:49.780

在配置文件中通过此更改此行

```
$config['base_url'] = 'http://localhost/your_project_name/'; 
```

如果您在本地服务器上运行您的站点，那么如果您在其他服务器上运行，则什么也不做，然后输入其名称（域名）并替换为`localhost`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T10:00:11.647

使用此代码集成样式表

`<link href="<?php echo base_url(); ?>css/format.css" rel="stylesheet" type="text/css" />`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:11:37.593

我首先建议您将您的 CSS 存储在资产中

```
/www
/code_igniter
    /application
    /assets
        +img
        +css
        +js
    /controllers
    /system 
```

然后在您的视图中使用它作为包含它

```
<link type="text/css" rel="stylesheet" href='<?echo base_url()?>assets/css/mystyle.css'> 
```

在你的 .htacess 文件中添加这个

```
 RewriteEngine on
  RewriteCond $1 !^(index\.php|assets|_searches|robots\.txt|favicon\.ico)
  RewriteRule ^(.*)$ /sample/index.php/$1 [L] 
```

还将此资产文件夹包含到您的`.htaccess file`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T07:18:06.830

重要的是要理解，CSS 是纯粹的客户端，这与 CodeIgniter 无关。**CodeIgniter 生成 HTML，由客户端浏览器解析。**

HTML 标记

```
<link rel="stylesheet" type="text/css" href="/css/format.css"> 
```

指示您的浏览器下载一个单独的样式表文件，该文件是**在单独的请求中****`/css/format.css`**从网络服务器获取的。

 **您的网络服务器提供此文件，请注意，从网络服务器请求的所有文件的路径都相对于您的网络服务器配置的文档根目录。

**`../application/..`**看起来不像文档根目录中的文件夹。该文件夹通常称为 htdocs 或 public 或 httpdocs。我认为 codeigniter 正在使用一个**中央 index.php**，所有动态请求都被重定向到。静态文件必须位于同一文件夹或以下。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:09:46.347

首先将您的**文件夹结构**更改为

```
 /public/css/mystyle.css (optional) 
```

要包含**样式表**，您可以在

```
 <head> tag: 
```

作为

```
<LINK href= "<?=site_url(); ?>public/css/mystyle.css" rel="stylesheet" type="text/css"> 
```

如果不起作用，您**必须配置您的 .htaccess**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-22T07:13:38.390

将样式表、js 或其他资源放在应用程序文件夹之外。它是标准且安全的。使用这一行来包含 css 或 js。

```
 <link type="text/css" rel="stylesheet" href='<?echo base_url()?>css/mystyle.css' /> 
```**

# android - 如何以编程方式“重新启动”android应用程序

> ID：15564614
> 
> 赞同：95
> 
> 时间：2013-03-22T07:03:57.437
> 
> 标签：android

我正在尝试在我的应用程序中创建一个“注销”功能。基本上，通过注销，应清除应用程序数据。我想做的是在注销后，应用程序应该重新启动，以便可以再次输入凭据等。我遇到的问题是，在用户单击“注销”时，应用程序已经运行了 3-4 个活动，我不知道如何退出它们。我如何（模拟？）重新启动应用程序？

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2013-03-22T07:16:49.643

结帐意图属性，如无历史记录、清除回栈等... Intent.setFlags

```
Intent mStartActivity = new Intent(HomeActivity.this, SplashScreen.class);
int mPendingIntentId = 123456;
PendingIntent mPendingIntent = PendingIntent.getActivity(HomeActivity.this, mPendingIntentId, mStartActivity,
PendingIntent.FLAG_CANCEL_CURRENT);
AlarmManager mgr = (AlarmManager) HomeActivity.this.getSystemService(Context.ALARM_SERVICE);
mgr.set(AlarmManager.RTC, System.currentTimeMillis() + 100, mPendingIntent);
System.exit(0); 
```

# android - SimpleCursorAdapter 在 MainActivity 中不起作用

> ID：15564622
> 
> 赞同：0
> 
> 时间：2013-03-22T07:04:16.677
> 
> 标签：android, listview

请告诉我我是否正确使用 String [] FROM 来映射光标。

当我在 MainActivity 的 oncreate 方法中使用 SimpleCursorAdapter 时，出现错误

> 方法 SimpleCursorAdapter(MainActivity, int, Cursor, String[], int[]) 对于 MainActivity 类型未定义

我已经检查了 api docs 中的构造函数，我根据它正确使用它

```
public SimpleCursorAdapter (Context context, int layout, Cursor c, String[] from, int[] to)** 
```

这是我的 MainActivity.java：

```
package com.example.listview;

import android.os.Bundle;
import android.provider.ContactsContract;
import android.app.Activity;
import android.content.Context;
import android.database.Cursor;

import android.util.Log;
import android.view.Menu;
import android.widget.ListView;
import android.widget.SimpleCursorAdapter;

public class MainActivity extends Activity {

    private ListView list;  
    private Cursor cursor;
    private SimpleCursorAdapter adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.listview);

        list = (ListView) findViewById(R.layout.listview);      

        cursor = getContentResolver().query(
                ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null,
                null, null);

         String [] FROM = {cursor
            .getString(cursor
                    .getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME)), cursor
                    .getString(cursor
                            .getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))};

         int [] TO = {android.R.id.text1, android.R.id.text2};

        adapter = SimpleCursorAdapter(MainActivity.this, android.R.layout.two_line_list_item,cursor,FROM,TO);

        list.setAdapter(adapter);
    }

} 
```

这是我的布局 listview.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ListView
        android:id="@+id/listview"
        android:layout_width="match_parent"
        android:layout_height="match_parent" >
    </ListView>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:07:04.147

创建`SimpleCursorAdapter`对象为：

```
adapter =new  SimpleCursorAdapter(MainActivity.this, 
         ^^^       android.R.layout.two_line_list_item,cursor,FROM,TO); 
```

您忘记`new`用于创建对象`SimpleCursorAdapter`

并使用 ListView id 来初始化`list`而不是`R.layout.listview`

```
list= (ListView) findViewById(R.id.listview); 
```

# c# - WinForms 句柄太多

> ID：15564625
> 
> 赞同：0
> 
> 时间：2013-03-22T07:04:23.433
> 
> 标签：c#, windows, handle, system.drawing

在我们的生产中，我的应用程序导致了两个不同的异常：

```
System.ArgumentException: Invalid Parameter.
   at System.Drawing.Image.get_RawFormat()
   at System.Windows.Forms.ToolStripItem.set_Image(Image value)
   at Zeiss.IMT.IME.CmmUI.Tools.ToolControl.updateControls() 
```

还有另一个例外，我想有同样的原因：

```
System.ComponentModel.Win32Exception: The operation completed successfully
   at System.Drawing.BufferedGraphicsContext.CreateCompatibleDIB(IntPtr hdc, IntPtr hpal, Int32 ulWidth, Int32 ulHeight, IntPtr& ppvBits)
   at System.Drawing.BufferedGraphicsContext.CreateBuffer(IntPtr src, Int32 offsetX, Int32 offsetY, Int32 width, Int32 height)
   at System.Drawing.BufferedGraphicsContext.AllocBuffer(Graphics targetGraphics, IntPtr targetDC, Rectangle targetRectangle)
   at System.Drawing.BufferedGraphicsContext.AllocBufferInTempManager(Graphics targetGraphics, IntPtr targetDC, Rectangle targetRectangle)
   at System.Drawing.BufferedGraphicsContext.Allocate(IntPtr targetDC, Rectangle targetRectangle)
   at System.Windows.Forms.Control.WmPaint(Message& m)
   at System.Windows.Forms.Control.WndProc(Message& m)
   at System.Windows.Forms.DataGridView.WndProc(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam) 
```

在这两种例外情况下，Windows 任务管理器都会显示很多句柄 (>8500)。因此达到了 Windows 句柄限制，应用程序无法分配更多内存/句柄。
到目前为止，我明白了这个问题。
在这种情况下，我通过 System.Drawing 大量使用 GDI 绘图。因此，我搜索了未释放图形句柄的代码-没有成功。

所以问题是：
我怎样才能找到未发布的（本机）句柄？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:08:01.330

您可以使用内存配置文件工具。例如这个：[http ://www.red-gate.com/products/dotnet-development/ants-memory-profiler/](http://www.red-gate.com/products/dotnet-development/ants-memory-profiler/)

但是您是否正在处理所有 Disposable 对象？刷子之类的。。

您可以发布您的绘图代码，也许我们可以看到一些错误。

也许有一些刷子，......没有被丢弃。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:44:46.520

检查您的代码并确保在不再需要时释放所有一次性物品。将一次性对象打包到 using 语句中。

如果确实需要这么多 GDI 句柄，您可以增加最大值[http://msdn.microsoft.com/en-us/library/windows/desktop/ms724291(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724291(v=vs.85).aspx)。

# java - Java Maze - 已访问单元问题

> ID：15564632
> 
> 赞同：-2
> 
> 时间：2013-03-22T07:04:58.787
> 
> 标签：java, algorithm, arraylist, maze

我正在努力解决这个迷宫，我似乎无法获得包含我已经访问过的单元格点的 ArrayList 正确。求解器只是不断闪烁。

这是我的主要课程

```
import java.awt.Point;
import java.util.*;

public class Program3
{
    public static void main (String [] args)
    {

    Maze aMaze = new Maze(8, 10); //creates a 8x10 Maze
    MazeDisplay  display = new MazeDisplay(aMaze);  //creates a MazeDisplay with aMaze in it.
    aMaze.buildMaze(20); //builds maze

    //---- create a Stack to hold sequence of moves
    Stack<Maze.Direction> myMoves = new Stack<Maze.Direction>();

    //---- create a Stack of type Point to note whether a cell has been visited
    ArrayList<Point> visitedCells = new ArrayList<Point> ();

    //---- use a while loop to check if the cell is open, follows algorithm to efficiently move through maze. If no other moves
    //---- are available, it will pop the stack and go backward until it can move into a cell that has not been previously
    //---- visited.
     while (aMaze.goalReached() == false)
     {
         //---- create a new Point
        Point myCell = new Point(aMaze.getCurrentRow(), aMaze.getCurrentCol());
        visitedCells.add(myCell);

         //---- Step 1: check if the cell above is open. If so, move there, log that move in the stack, and mark visited.
         if (aMaze.open(Maze.Direction.UP) == true && (!visitedCells.contains(myCell.getX()) && !visitedCells.contains(myCell.getY()-1)))
         {
             myCell.setLocation(aMaze.getCurrentRow(), aMaze.getCurrentCol());
             aMaze.move(Maze.Direction.UP);
             myMoves.push(Maze.Direction.UP);
             visitedCells.add(myCell);

         }
         //---- Step 2: check if the cell below is open. If so, move there, log that move in the stack, and mark visited.
         else if (aMaze.open(Maze.Direction.DOWN) == true && (!visitedCells.contains(myCell.getX()) && !visitedCells.contains(myCell.getY()+1)))
         {
             myCell.setLocation(aMaze.getCurrentRow(), aMaze.getCurrentCol());
             aMaze.move(Maze.Direction.DOWN);
             myMoves.push(Maze.Direction.DOWN);
             visitedCells.add(myCell);
         }
         //---- Step 3: check if the cell to left is open. If so, move there, log that move in the stack, and mark visited.
         else if (aMaze.open(Maze.Direction.LEFT) == true && (!visitedCells.contains(myCell.getX()-1) && !visitedCells.contains(myCell.getY())))
         {
             myCell.setLocation(aMaze.getCurrentRow(), aMaze.getCurrentCol()); 
             aMaze.move(Maze.Direction.LEFT);
             myMoves.push(Maze.Direction.LEFT);
             visitedCells.add(myCell);
         }
         //---- Step 4: check if the cell to right is open. If so, move there, log that move in the stack, and mark visited.
         else if (aMaze.open(Maze.Direction.RIGHT) == true && (!visitedCells.contains(myCell.getX()+1) && !visitedCells.contains(myCell.getY())))
         {
             myCell.setLocation(aMaze.getCurrentRow(), aMaze.getCurrentCol());
             aMaze.move(Maze.Direction.RIGHT);
             myMoves.push(Maze.Direction.RIGHT);
             visitedCells.add(myCell);
         }
         else
         {
            Maze.Direction var = myMoves.pop();
            if (var == Maze.Direction.RIGHT)
                aMaze.move(Maze.Direction.LEFT);
            else if (var == Maze.Direction.LEFT)
                aMaze.move(Maze.Direction.RIGHT);
            else if (var == Maze.Direction.DOWN)
                aMaze.move(Maze.Direction.UP);
            else if (var == Maze.Direction.UP)
                aMaze.move(Maze.Direction.DOWN);

         }
    }
    //---- jumps out of loop when solved, prints statement below.
    System.out.print("Maze is solved.");
}
} 
```

任何帮助，将不胜感激。

这是迷宫类

```
import java.awt.*;
import java.io.*;
import java.util.*;

public class Maze implements Serializable
{
//-------data
private int[ ][ ] mazeArray;
private int currentArrayRow;
private int currentArrayCol;
private int goalArrayRow;
private int goalArrayCol;
private int buildAnimationDelay;
private int solveAnimationDelay;
private boolean alreadyBuilt;

//-------constructors
public Maze(int numRealRows, int numRealCols)
{
    //since the maze is being created, initialize alreadyBuilt to false
    alreadyBuilt = false;

    //set the buildAnimationDelay and solveAnimationDelat to 0;  they can be reset with methods
    buildAnimationDelay = 0;
    solveAnimationDelay = 0;

    //make sure that the numRealRows and numRealCols are both > 1 (start cannot == goal)
    if (numRealRows < 2)
        throw new IllegalArgumentException("number of rows must be > 1");
    if (numRealCols < 2)
        throw new IllegalArgumentException("number of columns must be > 1");

    //create the 2D array to hold the maze (its even rows/cols hold the walls, odd rows/cols hold the paint
    mazeArray = new int[2*numRealRows+1][2*numRealCols+1];

    //since the even values are the walls, set anything with an even component to 1 (wall exists to start)
    for (int row=0; row<mazeArray.length; row++)
        for (int col=0; col<mazeArray[row].length; col++)
            if (row%2==0 || col%2==0)   //if either dimension is even...
                mazeArray[row][col] = 1;        //its a wall, so set value to 1

    //initialize the currentArrayRow and currentArrayCol to the upper left corner
    currentArrayRow = 1;
    currentArrayCol= 1;
}

// **************** methods *******************************************

//------- setSolveAnimationDelay - sets the delay (milliseconds) for the maze being solved (in case its animated)
public void setSolveAnimationDelay(int theDelay)
{
    solveAnimationDelay = theDelay;
}

//------- buildMaze - builds the Maze; calls other buildMaze method to set buildAnimationDelay to 0
public void buildMaze()
{
    buildMaze(0);
}

//------- buildMaze - builds the Maze; receives a delay to slow it down (in case its displayed)
public void buildMaze(int buildAnimationDelay)
{
    //if this maze has already been built and it trying to be built again, throw an exception
    if (alreadyBuilt)
        throw new IllegalStateException("cannot build maze - it has already been built");
    else
        alreadyBuilt = true;   //because we are NOW building it

    //create a Stack to hold the cells we are visiting as it is built (they will be stored as Points)
    //and an ArrayList to hold the "neighbors" in the code below
    Stack<Point> cellStack = new Stack<Point>();
    ArrayList<Point> neighborAL;

    //in the mazeArray, the even rows/cols are the walls, the odd rows/cols are the cells
    int numRealRows = mazeArray.length/2;
    int numRealCols = mazeArray[0].length/2;

    //calculate the total number of (real) cells to visit
    int totalCells = numRealRows * numRealCols;  //rows x cols

    //the odd rows/cols store the actual cells.  Choose a random cell to start.
    Random gen = new Random();
    int currentArrayRow = gen.nextInt(numRealRows)*2 + 1;   //ex: if 3 real rows, this is a random from 1,3,5
    currentArrayCol = gen.nextInt(numRealCols)*2 + 1;       //same for cols...
    int lastArrayRow = currentArrayRow;
    int lastArrayCol = currentArrayCol;

    mazeArray[currentArrayRow][currentArrayCol] = 2;
    int numVisitedCells = 1;

    //while all cells have not been visited...
    while(numVisitedCells < totalCells)
    {
        //go to sleep to slow down animation (based on its speed)
        try{ Thread.sleep(buildAnimationDelay); }
        catch(Exception ex) {}

        //find all neighbors of currentCell with all walls intact
        neighborAL = new ArrayList<Point>();
        //try cell above it
        if (inMaze(currentArrayRow-2, currentArrayCol) && allWallsIntact(currentArrayRow-2, currentArrayCol))
            neighborAL.add(new Point(currentArrayRow-2, currentArrayCol));
        //try cell below it
        if (inMaze(currentArrayRow+2, currentArrayCol) && allWallsIntact(currentArrayRow+2, currentArrayCol))
            neighborAL.add(new Point(currentArrayRow+2, currentArrayCol));
        //try cell to the left of it
        if (inMaze(currentArrayRow, currentArrayCol-2) && allWallsIntact(currentArrayRow, currentArrayCol-2))
            neighborAL.add(new Point(currentArrayRow, currentArrayCol-2));
        //try cell to the right of it
        if (inMaze(currentArrayRow, currentArrayCol+2) && allWallsIntact(currentArrayRow, currentArrayCol+2))
            neighborAL.add(new Point(currentArrayRow, currentArrayCol+2));

        //if neighbors with intact walls exist...
        if (neighborAL.size() > 0)
        {
            //choose a neighbor at random
            int randomInt = gen.nextInt(neighborAL.size());
            Point theNeighbor = neighborAL.get(randomInt);
            int neighborRow = (int)theNeighbor.getX();
            int neighborCol = (int)theNeighbor.getY();

            //knock down the wall in between
            if (currentArrayRow != neighborRow)    //neighbor chosen was above or below
                mazeArray[(currentArrayRow+neighborRow)/2][currentArrayCol] = 0;   //knock down wall in between
            else if (currentArrayCol != neighborCol)   //neighbor chosen was to the left or right
                mazeArray[currentArrayRow][(currentArrayCol+neighborCol)/2] = 0;    //knock down wall in between

            //push the current cell onto the cellStack
            cellStack.push(new Point(currentArrayRow, currentArrayCol));

            //clear the current cell
            mazeArray[currentArrayRow][currentArrayCol] = 0;

            //make the new cell the current cell
            currentArrayRow = neighborRow;
            currentArrayCol = neighborCol;
            mazeArray[currentArrayRow][currentArrayCol] = 2;

            //add 1 to visitedCells
            numVisitedCells++;
        }
        else
        {
            //clear the current cell
            mazeArray[currentArrayRow][currentArrayCol] = 0;

            //pop the most recent entry off of cellStack and make it the current cell
            Point popped = cellStack.pop();
            currentArrayRow = (int)popped.getX();
            currentArrayCol = (int)popped.getY();
            mazeArray[currentArrayRow][currentArrayCol] = 2;
        }
    }   //end while

    //clear the cell that ended up as the current Cell
    mazeArray[currentArrayRow][currentArrayCol] = 0;

    //set the current cell to the upper left corner
    currentArrayRow = 1;
    currentArrayCol = 1;
    mazeArray[currentArrayRow][currentArrayCol] = 2;   //current

    //set the goal to the lower right corner
    goalArrayRow = numRealRows*2-1;
    goalArrayCol = numRealCols*2-1;
    mazeArray[goalArrayRow][goalArrayCol] = 3;   //goal
}

//-------- allWallsIntact - returns true if the cell at [aRow][aCol] has all walls around it intact
private boolean allWallsIntact(int aRow, int aCol)
{
    return   (mazeArray[aRow-1][aCol] == 1   && //wall above it exists
                    mazeArray[aRow+1][aCol] == 1  &&    //wall below it exists
                    mazeArray[aRow][aCol-1] == 1   &&   //wall to the left exists
                    mazeArray[aRow][aCol+1] == 1);          //wall to the right exists
}

//-------- inMaze - returns true if the cell at [aRow][aCol] is in the maze
private boolean inMaze(int aRow, int aCol)
{
    return   (aRow > 0   &&   aRow < mazeArray.length-1   &&
                    aCol > 0     &&   aCol   < mazeArray[0].length-1);
}

//-------- getCurrentRow - returns the current (real) row
public int getCurrentRow()
{
    return currentArrayRow/2;
}

//-------- getCurrentCol - returns the current (real) col
public int getCurrentCol()
{
    return currentArrayCol/2;
}

//-------- open - returns true if there is no wall in the direction that is passed in
public boolean open(Direction direction)
{
    boolean result = false;
    if (direction == Direction.UP && mazeArray[currentArrayRow-1][currentArrayCol]==0)
        result = true;
    else if (direction == Direction.DOWN && mazeArray[currentArrayRow+1][currentArrayCol]==0)
        result = true;
    else if (direction == Direction.LEFT && mazeArray[currentArrayRow][currentArrayCol-1]==0)
        result = true;
    else if (direction == Direction.RIGHT && mazeArray[currentArrayRow][currentArrayCol+1]==0)
        result = true;

    return result;
}

//-------- openTo - returns true if the current cell is openTo (no wall) the one passed in
private boolean openTo(int aRow, int aCol)
{
    boolean result;

    if (!adjacentTo(aRow, aCol))
        result = false;
    else if (currentArrayRow-aRow == 2)  //IS adjacent, figure which direction and call other method
        result = mazeArray[currentArrayRow-1][currentArrayCol]==0;   //UP
    else if (currentArrayRow-aRow == -2)
        result = mazeArray[currentArrayRow+1][currentArrayCol]==0;   //DOWN
    else if (currentArrayCol-aCol == 2)
        result = mazeArray[currentArrayRow][currentArrayCol-1]==0;   //LEFT
    else if (currentArrayCol-aCol == -2)
        result = mazeArray[currentArrayRow][currentArrayCol+1]==0;   //RIGHT
    else
        result = false;

    return result;
}

//-------- adjacentTo - returns true if the current cell is adjacentTo (above/below/left/right) current cell
public boolean adjacentTo(int aRow, int aCol)
{
    //calculate how far the move is (hopefully row OR col is just +-2)
    int arrayRowChange = currentArrayRow - aRow;
    int arrayColChange = currentArrayCol - aCol;

    //it is adjacent if EITHER the rows or the cols differ by 2
    return Math.abs(arrayRowChange)==2 ^ Math.abs(arrayColChange)==2;  //checking row xor col
}

// -------- move - receives a Direction and moves there if OK.  Calls the other
//                 arrayMove to do this
public boolean move(Direction direction)
{
    boolean success = false;

    if (direction == Direction.UP)
        success = arrayMove(currentArrayRow-2, currentArrayCol);
    else if (direction == Direction.DOWN)
        success = arrayMove(currentArrayRow+2, currentArrayCol);
    else if (direction == Direction.LEFT)
        success = arrayMove(currentArrayRow, currentArrayCol-2);
    else if (direction == Direction.RIGHT)
        success = arrayMove(currentArrayRow, currentArrayCol+2);

    return success;
}

//-------- move - receives the literal (not array) row/col to move to.  Calls the
//                other ArrayMove to do this.
private boolean move(int realRow, int realCol)
{
    return arrayMove(2*realRow+1, 2*realCol+1);
}

//-------- arrayMove - moves using the maze array (moves a distance of 2 to get to next cell)
//                     first checks to see if move is legal.
private boolean arrayMove(int newArrayRow, int newArrayCol)
{
    boolean success;

    //go to sleep to slow down animation (based on its speed)
    try{ Thread.sleep(solveAnimationDelay); }
    catch(Exception ex) {}

    //make sure the new row/col is still in the maze
    if (!inMaze(newArrayRow, newArrayCol))
        throw new IllegalMazeMoveException("trying to move to cell <" + newArrayRow/2 + ", " +
                newArrayCol/2 + "> which is outside the maze");

    //make sure the new row/col is adjacent
    else if (!adjacentTo(newArrayRow, newArrayCol))
        throw new IllegalMazeMoveException("trying to move from cell <" +  currentArrayRow/2 + ", " + currentArrayCol/2 +
                "> to non-adjacent cell <" + newArrayRow/2 + ", " + newArrayCol/2 + ">");

    //make sure there is not a wall in between
    else if (!openTo(newArrayRow, newArrayCol))
        throw new IllegalMazeMoveException("trying to move from cell <" +  currentArrayRow/2 + ", " + currentArrayCol/2 +
                "> to cell <" + newArrayRow/2 + ", " + newArrayCol/2 + "> and there is a wall in between");

    //if OK, move the current cell
    else
    {
        //if new ArrayRow is already in the path, then we are retreating from current location so
        //clear current location
        if (mazeArray[newArrayRow][newArrayCol] == 2)
            mazeArray[currentArrayRow][currentArrayCol] = 0;

        currentArrayRow = newArrayRow;
        currentArrayCol = newArrayCol;                      //move current cell
        mazeArray[currentArrayRow][currentArrayCol] = 2;   //and show it as part of path
        success = true;

    }

    //return
    return success;
}

//-------- goalReached - returns true if the maze is solved (current location == goal)
public boolean goalReached()
{
    return (currentArrayRow == goalArrayRow && currentArrayCol == goalArrayCol);
}

//-------- getMazeArray - returns the mazeArray
public int[][] getMazeArray()
{
    return mazeArray;
}

//***********************************************************************

//This is Maze's enumerated data type: moves can be UP, DOWN, LEFT, RIGHT
public enum Direction
{
    UP, DOWN, LEFT, RIGHT
}

//***********************************************************************

//MazeMoveException will be thrown when an illegal move is requested in the maze
public class IllegalMazeMoveException extends IllegalArgumentException
{
    //no data is needed - all inherited...

    //constructor - just do what the parent class would do if it received the String
    public IllegalMazeMoveException(String str)
    {
        super(str);
    }

    //no methods are needed - all inherited...
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:53:54.337

以下看起来不正确：

```
(!visitedCells.contains(myCell.getX()) && !visitedCells.contains(myCell.getY()-1))) 
```

这里，`visitedCells`是一个`ArrayList<Point>`，但上面的代码寻找两个单独`Integer`的 s。

相反，您需要构造 的实例`Point`并查找它，确保`Point.equals()`已实现比较坐标。

这个错误在几个地方重复出现。

# linux - linux init进程源码

> ID：15564638
> 
> 赞同：9
> 
> 时间：2013-03-22T07:05:24.000
> 
> 标签：linux

我想弄清楚 Linux 的 init 进程 (/sbin/init) 中到底发生了什么，但很难找到一个。你能告诉我谁维护了init进程的源代码吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-22T07:13:43.640

这取决于 Linux 版本。传统上，[`sysvinit`](http://download.savannah.gnu.org/releases/sysvinit/)被使用。

如今，许多 Linux 发行版使用[`upstart`](http://upstart.ubuntu.com/download.html).

其他一些，比如 Fedora，正在使用[`systemd`](https://github.com/systemd/systemd).

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-22T07:10:40.620

[你可以在这里](http://linux.softpedia.com/get/System/Boot/SysVinit-6314.shtml)`sysvinit`下载包的源代码。

请注意，某些 Linux 发行版不再使用 System V Init。例如，Debian、Fedora 和 Ubuntu 使用[upstart](http://upstart.ubuntu.com/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:14:27.057

init 有几种变体。许多 Linux 发行版使用 systemd，而 Ubuntu 例如使用 upstart。源代码可以从项目网站或使用系统的包管理器下载。

# ember.js - Ember mixin 作为接口

> ID：15564639
> 
> 赞同：10
> 
> 时间：2013-03-22T07:05:28.847
> 
> 标签：ember.js

Ember 对象可以使用多个 mixins 吗？我认为 mixin 相当于 Java 中的接口，在这种情况下，应该提供在这里实现许多 mixin -

```
App.Movie = Ember.Object.extend(App.FirstMixin, { .. }); 
```

如果也有 SecondMixin，那么这个对象如何使用它？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-22T09:15:11.470

是的，当然可以。看看[著名的 ArrayController 类的代码，](https://github.com/emberjs/ember.js/blob/v1.0.0-rc.1/packages/ember-runtime/lib/controllers/array_controller.js#L97)例如：

```
Ember.ArrayController = Ember.ArrayProxy.extend(Ember.ControllerMixin,
  Ember.SortableMixin, {
  ....
}); 
```

实际上 mixin**可以用作 Java 接口的等价物**，但 mixin 并不限于接口定义。Mixins 是多重继承的一种方式，**还可**以为使用它们的类提供属性和方法实现。因此，接口的概念仅限于 mixin 概念。

# java - Tomcat - 我可以强制非 https 吗？

> ID：15564641
> 
> 赞同：1
> 
> 时间：2013-03-22T07:05:37.147
> 
> 标签：java, tomcat, servlets, https

我在 tomcat 中部署了一个 Web 应用程序。应用程序中的几乎所有页面都需要 HTTPS，除了索引页面和其他一些页面。当我访问任何需要 HTTPS 的页面时，浏览器总是使用 HTTPS。当我访问不需要 HTTPS 的页面时，浏览器有时使用 HTTP，有时使用 HTTPS，主要取决于来源。我的问题是我是否可以强制浏览器对那些不需要加密的页面使用 HTTP（不带 s）。

这是我的 web.xml 中决定哪些资源需要加密的部分。

```
<security-constraint>
    <web-resource-collection>
        <web-resource-name>Protected</web-resource-name>
        <url-pattern>/*</url-pattern>
    </web-resource-collection>

    <user-data-constraint>
        <transport-guarantee>CONFIDENTIAL</transport-guarantee>
    </user-data-constraint>
</security-constraint>

<security-constraint>
    <web-resource-collection>
        <web-resource-name>Open</web-resource-name>
        <url-pattern>/</url-pattern>
        <url-pattern>/contact</url-pattern>
        <url-pattern>/robots.txt</url-pattern>
        <url-pattern>/sitemap.xml</url-pattern>
    </web-resource-collection>

    <user-data-constraint>
        <transport-guarantee>NONE</transport-guarantee>
    </user-data-constraint>
</security-constraint> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T12:08:15.263

使用Tomcat配置，没有。

您有多种选择：

1.  编写一个过滤器将这些页面重定向到 HTTP 请求到达过滤器时，您也可以为它提供服务。重定向到 HTTP 会导致用户的响应时间变慢。

2.  您可以将不需要 HTTPS 的页面的链接替换为绝对 HTTP 链接。这可能需要做很多工作，您需要小心谨慎，以确保在更改 Web 应用程序的上下文路径时链接不会中断。如果您的服务器位于反向代理后面，它也可能会变得混乱。

3.  忍受它。

就个人而言，我会选择选项3。

# java - 使用 SOAP 等 REST Web 服务

> ID：15564642
> 
> 赞同：0
> 
> 时间：2013-03-22T07:05:37.937
> 
> 标签：java, web-services, rest, soap, jaxb

我有一个应用程序，它只是作为两个 Web 服务之间的翻译器。因此，我的应用程序中的主要目标/操作是从消费者 XML 到网关 XML 的转换。

到目前为止，我们已经通过创建 Proxy 集成了两个 SOAP Web 服务。

**现在，挑战是**我们需要集成一个 REST Web 服务，我们不能创建它的代理。但是，请求和响应是 XML 格式的。

为了使用此服务 (REST)，我们考虑了以下方法：

1.  通过使用服务的示例 XML 创建 shcema 来创建 JAXB 类

你能建议我们更好的方法吗？是否可以在运行时从 XML 创建对象/类？（解组运行时）

请指导。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:13:26.150

试试包含 Jackson/JAX-RS 框架的 REST Framework Jersey。
您可以使用 JAX-RS 框架来编组或解组对象。

例如，请按照以下教程进行操作：

> [http://www.vogella.com/articles/REST/article.html](http://www.vogella.com/articles/REST/article.html)

泽西框架：

> jersey.java.net/

# unix - 将在 Azure 上部署的 WebLogic、Unix、Java 应用程序

> ID：15564648
> 
> 赞同：0
> 
> 时间：2013-03-22T07:06:19.727
> 
> 标签：unix, azure, weblogic

Azure 的新手。我们正在用 Java 开发产品，以部署在 WebLogic 和 Unix 平台上。我们可以在 Azure PaaS 平台上部署此应用程序吗？或者请提出替代方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T18:26:10.947

Azure 上测试最广泛的应用服务器是 Tomcat。但是，使用 AzureRunMe，您基本上可以在 Windows Azure 上部署任何 Java 程序。[https://github.com/RobBlackwell/AzureRunMe](https://github.com/RobBlackwell/AzureRunMe)您可能也想与 two10degree 联系以获取他们的意见。[http://www.two10degrees.com/](http://www.two10degrees.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:36:21.497

在 Azure PaaS 平台上部署 Weblogic Java 应用程序几乎是不可能的。你应该在 Azure PaaS 上使用 Azure IaaS 或 JBoss AS。

要在 Azure PaaS 上部署 weblogic Java 应用程序，您需要将 weblogic 安装到 Azure PaaS 并使用“启动任务（“启动任务”功能只能安装静默安装程序并运行 *.bat 脚本）”使用 Jython 脚本部署 Java 应用程序。我认为这项任务非常非常困难或不可能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:43:34.820

一个非常普遍的问题，但是根据输入，我建议您继续使用 Azure 虚拟机。这是 IaaS 路线，您可以选择 CenOS、Ubuntu 或 Windows Server 等作为基本操作系统。在预配 Azure VM 时，几乎就像您拥有对服务器的完全访问权限一样。您可以安装 Weblogic 或任何应用服务器并部署您的应用程序。

就 PaaS 路线而言，Windows Server 2008 R2 中的基础平台，您可以自由选择 .net / java 等平台。在此之上拥有 Weblogic 是不可能的。

恕我直言，PaaS 上的 Weblogic 意味着 PaaS 提供商必须直接提供 Weblogic 平台，我猜像 Azure 云服务、Amazon ElasticBeanStalk、Google AppEngine、Heroku 等领先的 PaaS 提供商不会给你 Weblogic 的选项。所以 IaaS 符合您的要求。

然而，Weblogic 是 Oracle 的产品，谷歌快速搜索返回给我[Cloud Application Foundation](http://www.oracle.com/us/products/middleware/cloud-app-foundation/overview/index.html)。Weblogic 有一个列表，Oracle 云的重要之处在于云本身的交付方式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-11T22:28:00.590

[Azure 现在完全支持 Oracle WebLogic](http://www.windowsazure.com/en-us/campaigns/oracle/)。

# css - CSS中的继承是什么意思？

> ID：15564650
> 
> 赞同：9
> 
> 时间：2013-03-22T07:06:25.837
> 
> 标签：css

我经常使用`background: inherit;`. 像这样，许多其他 CSS 属性接受继承作为值。

但这是什么`inherit`意思？它是如何工作的？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-22T07:11:24.347

`inherit`仅表示样式将从元素的父级继承。例如：

[jsFiddle](http://jsfiddle.net/jhMdt/)

**HTML**

```
<div class="blue">
    <div class="inherit">I also have a blue background!</div>
</div> 
```

**CSS**

```
.blue { background: blue; }
.inherit { background: inherit; } 
```

然而，使用`inherit`on`background`通常不会对你有多大好处，并且通常会产生与默认透明背景相同的效果。上面的示例实际上并没有添加任何内容，它将蓝色背景放在蓝色背景之上，主要目的`inherit`是用于某些默认值，例如 with`color`和`font-size`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-22T07:14:16.637

它做了继承通常所做的事情..即继承父元素的属性

假设我们有以下 html

```
<div>
  <h1>text<h1>
 </div> 
```

我们有类似的css

```
 div
  {
    padding : "10px"
 }
 h1
 {
   padding : inherit //10px
 }

since h1 is child of div so will use the value of padding property for div 
```

另请参阅此线程[CSS 中的 inherit 关键字是做什么的？](https://stackoverflow.com/questions/2002514/what-does-the-inherit-keyword-in-css-do)

# mysql - MYSQL - 使用 select 语句进行内部连接以获取 Sum

> ID：15564656
> 
> 赞同：-3
> 
> 时间：2013-03-22T07:06:48.627
> 
> 标签：mysql, sql, sum, inner-join

现在我有以下查询：

```
SELECT
ui.email,
ui.userid,
SUM(ep.earnPoints),
ep.add_date
from earn_points as ep 
INNER JOIN user_info as ui on ep.userid on ui.userid 
where DATE(rc.add_date) = '2012-03-22'; 
```

我想通过各自的电子邮件获取个人使用的总收入点数

所以我的最终输出应该如下所示：

```
-----------------------------------------------------------
userid      email                   earnPoints      date        
1           testuser@gmail.com      45              2012-03-22
2           testuser123@gmail.com   10              2012-03-22
3           testuser145@gmail.com   18              2012-03-22
----------------------------------------------------------- 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:09:29.360

您只缺少分组：

```
SELECT
ui.email,
ui.userid,
SUM(ep.earnPoints),
ep.add_date
from earn_points as ep 
INNER JOIN user_info as ui on ep.userid on ui.userid 
where DATE(rc.add_date) = '2012-03-22'
Group By ui.email,ui.userid,ep.add_date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:11:11.427

```
SELECT
ui.email,
ui.userid,
SUM(ep.earnPoints),
ep.add_date
from earn_points as ep 
INNER JOIN user_info as ui on ep.userid = ui.userid 
where DATE(rc.add_date) = '2012-03-22' Group By ui.email,ui.userid,ep.add_date; 
```

# java - Jog java 解释器以字符串形式返回控制台输出

> ID：15564658
> 
> 赞同：0
> 
> 时间：2013-03-22T07:07:00.967
> 
> 标签：java, c++, objective-c, interpreter

我试图为 iphone 制作一个 java 解释器，但是我使用的[库只将控制台输出打印到 NSLog/printf 控制台。](https://code.google.com/p/jog-interpreter/)我希望它返回一个 std::string，我可以将其转换为 NSString 并显示在 UITextView 中。以前有这样做过吗？捕获控制台日志（它需要被应用商店接受）或更改源添加方法以返回带有缓冲区的字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:54:41.013

C 标准输入和输出库是你的朋友。

您应该知道到 stderr 和 printf 的 NSLog 输出使用 stdout。因此，根据您的需要，如果您需要所有输出，您可以只重定向一个或两个。

假设我们将所有流写入一个文件（在我们的示例中为 stdout 和 sdterr 中的两个），然后当我们完成后关闭文件，然后您可以简单地使用保存在文档目录中的文件来显示它们。

```
 // get user directory
    NSArray *allPaths       = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDIR  = [allPaths objectAtIndex:0];
    NSString *pathForLog    = [documentsDIR stringByAppendingPathComponent:@"logFile.txt"];
    NSString *pathForError  = [documentsDIR stringByAppendingPathComponent:@"errorFile.txt"];

 // redirect the stream
   freopen([pathForError cStringUsingEncoding:NSASCIIStringEncoding],"w", stderr); // NSLog
   freopen([pathForLog cStringUsingEncoding:NSASCIIStringEncoding], "w", stdout); // printf

 // your log stuff
   printf("i am a robot\n");
   NSLog(@"And i do bip bipbip biiiip");

 // when you are done, close the stream
    fclose (stdout);
    fclose (stderr);

 // and retrieve your data, as NSString object (or whatever you want)
    NSString* dataLog = [NSString stringWithContentsOfFile: pathForLog
                                                  encoding: NSASCIIStringEncoding
                                                     error: nil];

    NSString* errorLog = [NSString stringWithContentsOfFile: pathForError
                                                   encoding: NSASCIIStringEncoding
                                                      error: nil]; 
```

# java - 当图像调整大小以在android中获得非常低的分辨率图像时？

> ID：15564668
> 
> 赞同：0
> 
> 时间：2013-03-22T07:07:30.483
> 
> 标签：java, android

我正在尝试调整图像大小，但是当调整大小以获得低分辨率图像时。有没有其他使用java代码在andorid中调整图像大小的解决方案。

```
 BitmapFactory.Options options = new BitmapFactory.Options();
            options.inSampleSize = 4;
          Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath(), options);
            int h = 300;
            int w = 300;
            Bitmap scaled = Bitmap.createScaledBitmap(myBitmap, h, w, true);

            String root = Environment.getExternalStorageDirectory()
                    .toString();
            File myDir = new File(root + "/upload_images");
            myDir.mkdirs();
            String fname = null;
            if (rname == null) {
                fname = "Image.jpg";
            } else {
                fname = rname + ".jpg";
                Log.i("log_tag", "File anem::" + fname);
            }
            file = new File(myDir, fname);
            Log.i("log_tag", "" + file);
            if (file.exists())
                file.delete();
            try {
                FileOutputStream out = new FileOutputStream(file);
                scaled.compress(Bitmap.CompressFormat.JPEG, 90, out);
                out.flush();
                out.close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:15:01.987

改变这一行：

```
scaled.compress(Bitmap.CompressFormat.JPEG, 100, out); 
```

至

```
scaled.compress(Bitmap.CompressFormat.JPEG, 90, out); 
```

我将在下面介绍压缩图像 BITMAP 的方法。

```
//decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f){
    try {
        //Decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);

        //The new size we want to scale to
        final int REQUIRED_SIZE=70;

        //Find the correct scale value. It should be the power of 2.
        int scale=1;
        while(o.outWidth/scale/2>=REQUIRED_SIZE && o.outHeight/scale/2>=REQUIRED_SIZE)
            scale*=2;

        //Decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize=scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {}
    return null;
} 
```

更多细节检查这个：[https ://stackoverflow.com/a/823966/1168654](https://stackoverflow.com/a/823966/1168654)

# ant - 在进行 cvs 检出时覆盖现有文件

> ID：15564669
> 
> 赞同：1
> 
> 时间：2013-03-22T07:07:32.947
> 
> 标签：ant, cvs

我有一个 Ant 脚本，每次需要部署应用程序时都会执行 CVS-checkout。执行此操作的理想方法是先删除现有的本地代码，然后进行结帐，但似乎我无法删除该项目，因为我的构建文件也是其中的一部分。所以我想做一个检查，我现有的文件将被存储库中的文件替换。有没有办法强制 cvs checkout 覆盖现有文件？

我的构建目标看起来像

```
<target name="deploy.branch" depends="checkPropertyForBranch" if="branchPropertyExist">
        <record name="log.txt" action="start" />
        <echo message="${release.number}" />
        <antcall target="tag.branch" />
        <antcall target="checkout.branch" />
        <antcall target="stopJboss" />
        <antcall target="stopRemoteJboss" />
        <sleep seconds="10" />
        <antcall target="replaceTag" />
        <antcall target="deploy" />
        <antcall target="moveConfigFiles" />
        <antcall target="promote" />
        <parallel>
            <antcall target="startJboss" />
            <antcall target="startRemoteJboss" />
        </parallel>
        <antcall target="waitForWebSite" />
        <antcall target="mailSuccessBranch" />
        <record name="log.txt" action="stop" />
    </target> 
```

结帐目标就像

```
 <target name="checkout.branch">
        <tstamp>
            <format property="CHECKOUT" pattern="M/d/yyyy, hh:mm:SS a, z" locale="en" />
        </tstamp>
        <property name="checkout_start" value="${CHECKOUT}" />
        <echo message="CVS checkout of BRANCH: ${branch_tag}" />
        <!--<delete dir="${basedir}"/>-->
        <cvspass cvsroot="cvsroot" password="*****" />
        <cvs cvsroot="cvsroot" command="co -r ${branch_tag} project"dest="${checkout.dir}"  />
    </target> 
```

build.xml 出现在`project/scripts/build.xml` Where the `basedir`is`../`即`"project"`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:12:20.503

我认为比强制 cvs checkout 更好的是在结帐前删除文件。您可以使用`<delete/>`任务并排除不应删除的文件。试试这个：

```
<project name="cvs.test">

    <dirname property="base.dir" file="${ant.file.cvs.test}"/>

    <target name="cvs.checkout" depends="clean">
        <!-- here is the checkout -->
    </target>

    <target name="clean">
        <delete dir="${base.dir}">
            <exclude name="build.xml"/>
        </delete>
    </target>

</project> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:11:36.663

将构建脚本签入项目，然后您可以删除源项目并签出。

# sql-server - SQL查询内连接错误

> ID：15564670
> 
> 赞同：0
> 
> 时间：2013-03-22T07:07:35.637
> 
> 标签：sql-server, inner-join

我正在处理一个 SQL 查询，请这个查询显示这个错误

> Msg 116, Level 16, State 1, Line 2
> 当子查询没有用 EXISTS 引入时，只能在选择列表中指定一个表达式。

这是查询

```
select 
   *,
   (select top 1 * 
    from tbl_Renewal 
    where supid = b.S_id 
      and Payed = 1 
    order by 
      renewalid desc) as result 
from 
    tbl_SuperAdmin as b 
inner join 
    tbl_Renewal as c on b.S_id = c.supid 
```

请检查并给我解决方案

此实际任务的任何其他解决方案

请找到下面的任务简介

表 1 `'tbl_SuperAdmin'`已归档

数据样例

```
s_id name age gtc.......
1     abc  23 .........
2     cda  42 .......... 
```

另一个表2有`'tbl_Renewal'`

```
renewalid  renname date supid   Payed etc......
1          first   -     1        1    ........
2          first   -     2        1    ........
3          second -      1        0     ........
4          second -      1        1     ........
5          third-        1        1     ........ 
```

谢谢 pradeep

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:10:19.307

您不能将 * 放在单列值中，

查询应该是这样的

```
select 
       *,
       (select top 1 COLUMNNAME from tbl_Renewal where supid=b.S_id and Payed=1) as result 
from tbl_SuperAdmin as b inner join tbl_Renewal as c on b.S_id=c.supid 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:12:15.630

将其缩短到sql以下

```
 select top 1 a.*,b.*

 from tbl_Renewal a inner join tbl_SuperAdmin as b

 on b.S_id=c.supid where a.Payed=1 order by b.renewalid desc 
```

# php - 如何识别元素是否在自动完成中？

> ID：15564674
> 
> 赞同：0
> 
> 时间：2013-03-22T07:08:01.857
> 
> 标签：php, javascript, jquery, zend-framework

我正在使用带有 JS 的 PHP。我正在对文本框中的项目进行自动完成。在这个文本框中也启用了自由文本。我需要检查这个条目是否是自由文本。即，我需要检查输入的文本框值是否等于传递给控制器​​的操作的输出所获得的元素之一

这是我的 JS（Jquery 自动完成）代码：

```
$("#txtVmVehicleNumber").autocomplete('/business_vehicle/getItems', {
    minChars: 1,
    matchContains: "word",
    autoFill: true,
    max:100,
    multiple :false,
    mustMatch : false,
}); 
```

在这里，你可以看到必须匹配被设为假，这样我们就可以在这个条目中创建自由文本，如果我们是自由文本并做一个制表符，这应该说这个元素不在数组中。

这是我的PHP代码：

```
public function getItemsAction() {

   $this->_helper->viewRenderer->setNoRender();

    //Creating object for Request

    $objRequest = $this->getRequest();

    //take parameters from http request

    $strSearchKey = $objRequest->getParam('q');

    //Creating object   Request

    $objLib= new lib_Business_items();

    $rstItems = $objLib->getItemsAutoComplete($strSearchKey);

    if (count($rstItems) != 0) {

        foreach ($rstItems as $objItems) {

            echo $objItems->vchr_item . "\n";

        }
    }
} 
```

# sql-server - T-SQL/MS SQL SERVER 更新使用案例

> ID：15564678
> 
> 赞同：0
> 
> 时间：2013-03-22T07:08:15.090
> 
> 标签：sql-server, tsql

我有一个表，其中包含以下列 empid、月、年、day1、day2、day3、day4............day31。

我写了一个SP来每天更新考勤，一旦员工登录。

```
CREATE PROC PROC_Attendance_update @empid INT, @day INT, @month INT, @year INT 

AS

BEGIN

DECLARE @sql_text VARCHAR(8000)

SET @sql_Text = 'UPDATE tblattendance SET DAY'+CONVERT(VARCHAR(2),@day)+'=''P'' WHERE empid = '+CONVERT(VARCHAR(4), @empid)+'  AND month = '+CONVERT(VARCHAR(4), @month)+' AND Year ='+CONVERT(VARCHAR(4), @year)

EXEC(@sql_text)

END 
```

但是，我不希望它在动态 sql 中。我想将它重写为标准的 T-SQL 代码。

我试过了没有用。

```
CREATE PROC PROC_Attendance_update @empid INT, @day INT, @month INT, @year INT 

AS

BEGIN

UPDATE tblattendance SET CASE   WHEN @day=1 THEN DAY1 = 'P'

                WHEN @day=2 THEN DAY2 = 'P'

                .

                .

                WHEN @day=31 THEN DAY31 = 'P'               

              END

WHERE empid = @empid AND MONTH = @month AND Year = @Year
END 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:12:28.833

```
IF @day = 1
    UPDATE tblattendance 
    SET DAY1 = 'P' 
    WHERE empid = @empid 
    AND MONTH = @month AND Year = @Year
ELSE IF @day = 2
    UPDATE tblattendance 
    SET DAY2 = 'P' 
    WHERE empid = @empid 
    AND MONTH = @month AND Year = @Year
ELSE IF @day = 3
    UPDATE tblattendance 
    SET DAY3 = 'P' 
    WHERE empid = @empid 
    AND MONTH = @month AND Year = @Year
--... 
```

* * *

或者更好的是，将您的表架构更改为`empid`, `month`, `year`, `day`, `attendance`。（甚至`empid`, `date`, `attendance`.）这样，您每天将有一行，并且对表的查询（不，不仅仅是这个）变得更容易管理。

# hadoop - solr 和 hadoop 之间的 Slf4j 兼容性问题

> ID：15564685
> 
> 赞同：1
> 
> 时间：2013-03-22T07:08:49.060
> 
> 标签：hadoop, solr, slf4j, behemoth

我在 hadoop 上使用庞然大物 solr，我在 slf4j 版本中遇到了冲突。Solr 3.6.2 使用 slf4j-api-1.6.1，hadoop 1.0.4 有 slf4j-api-1.4.3 的库。因此，我无法在 hadoop 上运行庞然大物 solr jar 文件。解决这种冲突的最佳方法是什么？一种选择是替换 hadoop 中的 slf4j 库，但我不愿意这样做。任何解决方案将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:06:15.427

您应该能够在 Hadoop 中将 slf4j-api-1.4.3.jar 替换为 slf4j-api-1.6.1.jar 而不会出现任何问题，因为从调用者的角度来看，所有版本的 slf4j-api 都是兼容的。另请参阅[相关的常见问题解答条目](http://slf4j.org/codes.html#version_mismatch)。

# jquery - 使用 Jquery Multiselect 插件进行链式选择

> ID：15564690
> 
> 赞同：2
> 
> 时间：2013-03-22T07:09:11.190
> 
> 标签：jquery, selection, chain

我被困在下面，我需要使用[Eric Hynds jquery-multiselect](http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/)插件实现链式多选，我想根据**第一个选择（主活动）显示****第二个选择 optgroup**（子活动），就像这样：http: [//jsfiddle.net/UNbvn/](http://jsfiddle.net/UNbvn/)。

 **这是一个输出示例：http: [//jsfiddle.net/hsQjh/2/](http://jsfiddle.net/hsQjh/2/)

```
<head>
<link href="jquery.multiSelect.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
<script type="text/javascript" src="jquery.multiSelect.js"></script>

<script>
function filterActivityTriggeredUser(e){ 
if($(e).attr('checked')=='checked'){
    $.userListData.filterActivity.set($(e).attr('value'), true);
    $.providerListData.filterActivity.set($(e).attr('value'), true);
}else{
    $.userListData.filterActivity.set($(e).attr('value'), false);
    $.providerListData.filterActivity.set($(e).attr('value'), false);
}   
}

function filterSubActivityTriggeredUser(e){ 
if($(e).attr('checked')=='checked'){
    $.userListData.filterSubActivity.set($(e).attr('value'), true);
    $.providerListData.filterSubActivity.set($(e).attr('value'), true);
}else{
    $.userListData.filterSubActivity.set($(e).attr('value'), false);
    $.providerListData.filterSubActivity.set($(e).attr('value'), false);
}   
}

$(document).ready(function() {

$("#filterActivity").multiSelect({
    selectAll: false,
    noneSelected: 'All',
    oneOrMoreSelected: '*'
},
filterActivityTriggeredUser);

$("#filterSubActivity").multiSelect({
    selectAll: false,
    noneSelected: 'All',
    oneOrMoreSelected: '*'
},
filterSubActivityTriggeredUser);

});
</script>
</head>

<body>

<div id="inner-main">
<div style="width:270px;float:left;">
Main Activity:
<select id="filterActivity" multiple="multiple" size="10" style="width:220px;">
    <option value=""></option>
    <optgroup label="Producer, Content Creation, Rights Holder">
        <option value="1 - Distributor/Agent" id="main1">1 - Distributor/Agent</option>
        <option value="2 - Producer/Production Company" id="main2">2 - Producer/Production Company</option>
    <optgroup label="Distribution Platforms">
        <option value="3 - TV Channel/Broadcaster" id="main3">3 - TV Channel/Broadcaster</option>
</select>
<br /><br />
Sub Activity:
<select id="filterSubActivity" multiple="multiple" size="15" style="width:220px;">
    <optgroup label="1 - Distributor/Agent" id="sub1">
        <option value="1A - Music and Sound Libraries">1A - Music and Sound Libraries</option>
        <option value="1B - HD Digital Radio">1B - HD Digital Radio</option>

    <optgroup label="2 - Producer/Production Company" id="sub2">
        <option value="2A - Animation/Computer Graphics (CGI)">2A - Animation/Computer Graphics (CGI)</option>
        <option value="2B - Co Production">2B - Co Production</option>
        <option value="2C - Sub Production">2C - Sub Production</option>

    <optgroup label="3 - TV Channel/Broadcaster" id="sub3">
         <option value="3A - Antennas, Transmitter and Towers">3A - Antennas, Transmitter and Towers</option>
        <option value="3B - Cable and Satellite">3B - Cable and Satellite</option>

</select>
</div>
</div>

</body> 
```

任何帮助将不胜感激！**

# javascript - 当文本区域上的 Enter 键时如何提交表单？

> ID：15564698
> 
> 赞同：0
> 
> 时间：2013-03-22T07:09:33.443
> 
> 标签：javascript, jquery, html

`Enter`我想通过按下地球上任何键盘上的键来提交文本区域中的内容，如下所示。当用户点击该`Shift+Enter`键时，插入符号必须转到一个新行，并且在点击`Enter`提交的 textarea 内容时应该在`Shift+Enter`按下时创建新行。textarea 的内容应该插入到具有类的 div 之后，`commentWrap`但最后提交的评论应该出现在最后，反之亦然。

我希望这个解决方案适用于所有浏览器。

```
<div class="commentWrap"></div>

<textarea id="test"></textarea>

<script type="text/javascript">
    $(document).ready(function() {
        $("#test").keypress(function(e) {
            var textVal = $(this).val();
            if(e.which == 13 && e.shiftKey) {
                //What should I really do here
            }
            else if (e.which == 13 && ! e.shiftKey) {
                e.preventDefault(); //Stops enter from creating a new line
                //this.form.submit(); //or ajax submit
                if (this.value ==="") {
                    alert("Hey punk! Put some text before you hit enter.");
                }else {
                    alert(textVal);
                    $("<div class='comment'>"+ textVal +"</div>").insertAfter('.commentWrap');
                }
            }
        });
    });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:19:50.127

> //我真的应该在这里做什么

我不认为，如果按下 shift + enter，所有浏览器都会插入一个新行，这样你就可以返回 true；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:28:36.377

如果您已经有一个用于提交表单的提交按钮，您可以简单地触发点击处理程序。

```
 $("#submitButton").click(); 
```

# factory - 工厂设计模式注意事项？

> ID：15564700
> 
> 赞同：0
> 
> 时间：2013-03-22T07:09:40.557
> 
> 标签：factory, factory-pattern

每当我看到工厂设计模式时，它总是有一个简单的`new FactoryName.build()`方法。在创建对象时，它们有依赖关系，但在我的情况下，我有一个现有项目，在运行时比在初始化时操作更多（想想现有的、复杂的代码库，而不是简单的工厂设计示例）。因此，为了注入所需的依赖项，我的实现不可能`build`只实现为`return new Blah(new This(), new That())`.

那么，如果我想将参数传递给构建（例如：`build(SomeENUM type)`，和/或什至在构建中自动检测依赖项（例如：），该`some logic to auto-detect SomeENUM type`怎么办。其中一个或两个本身是错误的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:32:41.157

像（工厂/构建）这样的“创建”模式通过**隐藏**对象的创建方式来抽象对象实例化过程，并使系统独立于对象创建过程。

如果我理解你的问题，你不能`SomeENUM type`在内部*构建工厂*过程中“玩”。这是工厂模式的主要目标，使所有过程都像*黑匣子一样*

我从好的文档中获取了打印屏幕：

![在此处输入图像描述](../Images/3dfad6959586c00a5fe8096be5608fa7.png) ![在此处输入图像描述](../Images/c00cbeadbf90de990787869a3bdb392f.png)

# php - 如何使用 Campaign Monitor 集成时事通讯订阅？

> ID：15564704
> 
> 赞同：0
> 
> 时间：2013-03-22T07:09:48.260
> 
> 标签：php, yii, newsletter

我已经在我的网站中实现了时事通讯订阅选项。目前，它是在用户输入它保存到我们自己的数据库中的电子邮件地址时发明的。

我想知道是否可以将该电子邮件地址发送到我的campaignmonitor.com 帐户？我希望维护会减少。我看到一些 Drupal 和其他 CMS 软件有这个选项，但是，因为我的网站是在 Yii 框架中，我不知道怎么做？

谁能澄清我该如何进行此升级？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T16:30:21.620

在您的 Campaign Monitor 帐户中

1.  转到您的**列表和订阅者选项卡**并选择您的订阅者列表
2.  点击右侧面板中的**增加受众链接**

关于如何注册订阅者有几个选项。如果您选择**将表单复制/粘贴到您的网站**，它将生成表单代码供您放置在您的网站上。

如果您想同时将表单输入发布到 BOTH Campaign Monitor 和您的数据库，[此线程可能会有所帮助](https://stackoverflow.com/questions/1585307/how-to-form-post-to-multiple-locations)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T12:00:52.930

为了扩展我的评论，是的，这是可能的。可能有一种简单的方法可以做到这一点，方法是嵌入一个 POST 到 Campaign Monitor URL 的表单。但是，由于我从未使用过 CM，我不能肯定地说 - 看看他们的网站。

我这样做的方法是向您的网站添加一些 PHP 以使用他们的 REST API 处理订阅。因此，下载[Pest](https://github.com/educoder/pest)（或其他一些 REST 客户端）并将其安装在您的代码库中。我为自己的工作选择了这个，因为它适用于 5.2，但如果您使用的是 5.3 或更高版本，还有一些更高级的。

然后，使用 CM 网站创建 API 密钥。使用它，您可以使用 POST 表单将电子邮件地址提交到您的站点，此时您可以使用 API 将地址添加到订阅者数据库。我不知道这是否会触发 CM 方面的选择加入电子邮件；如果没有，那么你应该自己做。

这不是一个完全微不足道的编程问题，但不妨试一试，好好研究一下 CM 技术文档——它看起来相当透彻。此外，Pest README 中有关于如何调用 RESTful API 的示例。

# iphone - 如何使用 AssetLibrary url 来图像？

> ID：15564705
> 
> 赞同：1
> 
> 时间：2013-03-22T07:09:48.280
> 
> 标签：iphone, ios, xcode

I am using AGImagePickerController which is using AssetLibrary, When images are selected it returns NSArray that contains URL to image.

**我的问题是如何使用数组来检索图像？**

NSLog 显示返回数组的内容如下

```
(
"ALAsset - Type:Photo, URLs:assets-library://asset/asset.JPG?id=6D1AAC7F-3580-418E-AE87-8A5C83F76EAD&ext=JPG",
"ALAsset - Type:Photo, URLs:assets-library://asset/asset.JPG?id=1322E0E0-46CD-44DF-A736-FF812694B40C&ext=JPG" 
```

我需要根据“-”针来分解每个数组索引吗？

任何帮助将非常感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:50:10.747

刚刚解决了问题。为了其他人，我是这样做的

```
for (i = 0; i < info.count; i++) {
     ALAssetRepresentation *rep = [[info objectAtIndex: i] defaultRepresentation];
     UIImage * image  = [UIImage imageWithCGImage:[rep fullResolutionImage]];
} 
```

来源：[在 AGImagePickerController 中确定选中的照片](https://stackoverflow.com/questions/10102593/determine-selected-photos-in-agimagepickercontroller)

# django - 如何安装cms、south、mptt、mptt？

> ID：15564708
> 
> 赞同：-2
> 
> 时间：2013-03-22T07:09:52.993
> 
> 标签：django

我正在尝试将 django-cms 与我的项目集成并遇到这些错误

```
No module named cms

No module named south

No module named menu

No module named mptt 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:31:02.903

使用点子。

[https://pypi.python.org/pypi/pip](https://pypi.python.org/pypi/pip)

安装后：

```
pip install south 
```

等等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:53:24.310

尝试使用

```
pip install django-cms 
```

安装[django-cms](https://www.django-cms.org/en/)。这将默认安装所有必需的依赖项。

# error-handling - 没有 db 连接的 db2 配置文件更新

> ID：15564709
> 
> 赞同：0
> 
> 时间：2013-03-22T07:09:53.733
> 
> 标签：error-handling, db2

我正在使用 db2 9.7 数据库，但由于收到 db2tsm.dll 原因代码 1 的错误，我无法连接到它。我将大部分备份恢复到另一个数据库并比较了配置文件。在损坏的数据库中，logarchmeth1 设置为 TSM。

是否可以在不连接到数据库的情况下更改该参数？

谢谢你

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:47:25.667

当然，您可以更改该参数。

```
db2 update db cfg for SAMPLE using logarchmeth1 DISK:/tmp 
```

在前面的示例中，您将保留归档日志，但不是使用 TSM，而是使用磁盘中的文件系统来存储它们。

确保 logarchmeth2 为空，或者不使用 TSM。

如果您将 logarchmeth1（和 logarchmeth2）更改为 OFF，您会将日志更改为循环模式，那么您应该发出完整备份并且您的恢复策略将被更改（无时间点恢复）。

最后，如果数据库处于崩溃恢复中并且它需要归档日志，则必须从 TSM 中提取它们，并将它们放在磁盘中，并具有与日志链相同的目录结构 (SAMPLE/db2inst1/NODE0000/C0000000)。但是，我认为您的数据库没有处于崩溃恢复中，只是它无法通过 TSM 归档日志。使用建议的解决方案，日志将被传送到磁盘而不是磁带，但请记住将它们存储在其他地方。

# version-control - 我编辑的文件没有出现在 TFS 的 Pending Changes 窗口中

> ID：15564714
> 
> 赞同：37
> 
> 时间：2013-03-22T07:10:20.220
> 
> 标签：version-control, tfs

我正在使用 VS2010 的 TFS 并且有这个问题：在“获取最新版本”之后，并尝试编辑文件，它没有出现在 Pending Changes 窗口中。对于要更改的每个文件，我都必须使用“签出以编辑”选项。这让我在处理一个大项目时丢失了一些文件。有人有想法解决这个问题吗？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-04-14T23:29:46.100

去`File -> Source Control -> Go Online`，它会解决这个问题。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-11-23T08:59:03.217

我没有看到`File -> Source Control -> Go Online`选项。我通过单击项目并选择选项来修复它`check out for edit`。那行得通。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-22T07:38:56.240

您是否已经通过 ? 打开了您正在处理的项目`Source control window`？如果您这样做并且您的解决方案尚未绑定到 TFS，那么现在将被询问。因此，`bind`您的解决方案和项目以及您的更改将是可见的，您无需签出即可进行编辑。`vssscc files`您还可以通过检查解决方案文件旁边是否有来查看这是否已经完成。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-01-06T14:45:04.477

连接问题后也有同样的问题——这导致 VS/TFS 认为我没有检查任何内容。解决方案只是通过文件、源代码管理、高级、刷新状态来刷新状态。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-09-13T07:51:37.860

对我来说，在解决方案的上下文菜单中，我可以选择“将此解决方案添加到源代码管理...”。如果你也有这个选项，你应该去重新添加它。您可以保留相同的位置并忽略所有警告。

对我来说，只有在这样做之后它才开始再次看到文件更改。

我的解决方案也在线，显然没有其他问题......

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-12-13T06:04:50.473

我们的**TFS**有错误，所以在我取回它后，它只看到新`userControls`添加的未编辑的，这就是我修复它的方法：

> 右键单击 -> 将文件添加到源代码管理 -> 保留本地版本（或服务器）

它失去了与文件夹的连接

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-11-22T13:09:24.623

重新启动 Visual Studio，一切都会好起来的！

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2021-05-26T04:45:18.827

转到解决方案资源管理器>右键单击解决方案>单击“联机”

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-11-07T14:59:42.070

在 VS2012 中遇到了同样的问题，上面的答案都没有奏效。

通过打开“转到所有更改”并从那里包括所有丢失的文件来修复。

如果我再次排除其中任何一个，它们不会出现在“排除的更改”下，并且必须从“转到所有更改”中手动包含。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2018-09-11T16:36:10.857

对于 VS 2017，如果您的文件旁边有红色复选标记，

1.  打开`Team Explorer`盒子/窗口 -> `Pending Changes`,
2.  选择您的文件`Included Changes`，提供评论
3.  点击`Check In`按钮

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-11-15T09:31:24.227

在排除的更改中，单击“检测到”，您将看到一个对话框，其中包含所有检测到的更改，但未添加到源代码管理中。选择您要签入的更改，然后单击升级。您将能够在包含的部分中看到更改，并且可以签入。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-01-21T13:45:02.553

对我来说，唯一的解决方案是在没有特殊字符的情况下使用更短的路径制作新的工作空间。所以我没有使用像用户和东西这样的文件夹，而是使用 ProgramFiles。也许是因为Win 7。

并以管理员身份运行 VS 以在 ProgramFiles 中创建目录

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-05-03T15:51:56.943

VS2019 检查所有项目都绑定在那里：

[![在此处输入图像描述](../Images/97dc247f720be4dc76215f360dc31697.png)](https://i.stack.imgur.com/qeyQX.png)

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2021-09-22T02:55:15.263

管理工作区 -> 编辑（您正在使用的工作区）-> 高级 -> 将位置项从“服务器”更改为“**本地**”。这解决了我的问题

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2022-02-14T13:29:25.030

请检查源代码管理中的映射。打开 Team explorer -> Source Control Explorer 检查本地路径映射。如果不合适，请使用正确的路径再次映射。

# visual-studio-2010 - Visual Studio 2012 中的错误（他们构建错误）

> ID：15564716
> 
> 赞同：0
> 
> 时间：2013-03-22T07:10:22.843
> 
> 标签：visual-studio-2010, debugging

我是 Visual Studio 2010 的新手

当我点击“开始调试（F5）”时，它显然会说：“你想构建它吗？”

然后我按下是按钮，它说：“有构建错误。你想继续并运行最后一次成功的构建吗？”

然后我点击是按钮，它说：“无法启动程序 c:\users\My computer\documents\visual studio 2010\projects\tutorial1\Debug\tutorial.exe”

这是输出：

```
1>------ Build started: Project: tutorial1, Configuration: Debug Win32 ------
1>InitializeBuildStatus:
1>  Touching "Debug\tutorial1.unsuccessfulbuild".
1>ClCompile:
1>  All outputs are up-to-date.
1>ManifestResourceCompile:
1>  All outputs are up-to-date.
1>LINK : fatal error LNK1123: failure during conversion to COFF: file invalid or corrupt
1>
1>Build FAILED.
1>
1>Time Elapsed 00:00:00.13
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

我不知道如何解决这个问题。谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:24:50.460

回答：

> 然后我点击是按钮，它说：“无法启动程序 c:\users\My computer\documents\visual studio 2010\projects\tutorial1\Debug\tutorial.exe”

在这种情况下，Visual Studio 会尝试启动先前构建的输出。

Visual Studio 将尝试从当前配置（调试/发布）输出文件夹启动启动项目的输出。

在您的情况下，在最后一次构建操作期间构建的“ *c:\users\My computer\documents\visual studio 2010\projects\tutorial1\Debug\tutorial.exe”*将被删除。

删除可能是 Clean 操作的一部分。 *注意*：重建将运行清理和构建。

```
Based on the error posted: 
```

[安装 Visual Studio 2012 Release Preview 后出现错误“链接：致命错误 LNK1123：转换为 COFF 期间失败：文件无效或损坏”](https://stackoverflow.com/questions/10888391/link-fatal-error-lnk1123-failure-during-conversion-to-coff-file-invalid-or-c)

# android - 防止活动占据屏幕的整个宽度

> ID：15564718
> 
> 赞同：-1
> 
> 时间：2013-03-22T07:10:26.627
> 
> 标签：android

我有一个对话框式的 android 活动，它显示在我的 android 应用程序的主要活动之上。我不希望它占据屏幕的整个宽度。如何指定它在其两侧留下 x dp 的边距？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:19:19.427

两种解决方案：

1.  您可以按照@Raghunandan 所说的手动设置边距。

2.  您可以为该特定活动设置自定义主题，默认情况下不占用全屏空间。对于该特定活动，只需添加

``<activity android:theme="@android:style/Theme.Dialog">``

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:16:59.793

试试这个代码

```
LayoutParams lp = this.getWindow().getAttributes();
             lp.x=50;lp.y=20;lp.width=100;lp.height=200;lp.gravity=Gravity.TOP | Gravity.LEFT;
            lp.dimAmount=0;            
            lp.flags=LayoutParams.FLAG_LAYOUT_NO_LIMITS | LayoutParams.FLAG_NOT_TOUCH_MODAL;
this.setContentView(view, lp); 
```

# objective-c - 从匿名处理程序 ios 分配数据

> ID：15564720
> 
> 赞同：0
> 
> 时间：2013-03-22T07:10:33.360
> 
> 标签：objective-c, ios6

我正在尝试获取调用 sendAsyncrhonousRequest 时传递的 NSArray 的引用。一旦我有了那个 NSArray，我想将它分配给一个类属性，但似乎我不能这样做。

```
@implementation BarTableViewController {
    NSArray *_jsonArray;
}

[NSURLConnection sendAsynchronousRequest:request
                                   queue:[NSOperationQueue mainQueue]
                       completionHandler:^(NSURLResponse *response, NSData *data, NSError *error)
 {

     NSInteger statusCode = [(NSHTTPURLResponse *)response statusCode];

     if (statusCode == 200 && data.length > 0 && error == nil)
     {
         NSError *e = nil;
         NSArray *jsonArray = [NSJSONSerialization JSONObjectWithData: data options: NSJSONReadingMutableContainers error: &e];

         if (!jsonArray) {
             NSLog(@"Error parsing JSON: %@", e);
         } else {
             _jsonArray = jsonArray; // this doesn't work? _jsonArray is at the class level
         }
     }
     else if (error)
     {
         NSLog(@"HTTP Status: %ld", (long)statusCode);
     }
     else if (statusCode != 200)
     {
         NSLog(@"HTTP Status: %ld", (long)statusCode);
     }
 }]; 
```

如果我遍历 jsonArray 它将正确显示数据。如果我将它分配给 _jsonArray 以供以后使用，它不再返回任何数据。数组的计数为零。

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return _jsonArray.count; // always returns zero
} 
```

如何将 jsonArray 分配给类属性，以便以后可以使用该数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T04:18:47.013

我的理论是正确的。UI 在请求完成之前正在加载。我为解决这个问题所做的就是打电话

```
[self.tableView reloadData]; 
```

在异步请求中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:10:41.677

忘记简单的分配：

```
 @implementation BarTableViewController {
   // NSArray *_jsonArray; forget it
} 
```

而是拥有该对象。

```
@interface BarTableViewController()
@property(nonatomic, strong)NSArray *jsonArray;
@end

/* --------- */

@implementation BarTableViewController
@syntethise jsonArray = _jsonArray;
@end 
```

然后让它拥有它

```
 self.jsonArray = jsonArray; // will call synthesized setter 
```

我假设您使用的是 ARC，因为您得到的是 nil 值而不是悬空指针。现在您将获得一个有效的 jsonArray。

# javascript - 使用 Javascript (asp.net) 访问子页面控件

> ID：15564724
> 
> 赞同：0
> 
> 时间：2013-03-22T07:10:44.983
> 
> 标签：javascript, asp.net, .net

我在更新面板内有一个带有列表框的控件，该控件连接到一个计时器，该计时器正在主窗体上使用脚本管理器进行自动回发。

为了在整个回发过程中保持选中项目，我使用下面的 javascript。我已经对此进行了非常彻底的研究，并且不相信还有另一种方法可以在回发之间保持选定项的选择。然而，这个解决方案似乎运作良好。

我的问题是，当我向主窗体添加第二个控件时，它不起作用。

我已经尝试将 javascript 移动到主窗体中，但是我无法使用以下方法从主窗体访问子控件：

```
document.getElementById('<%=PositionsControl.FindControl("ListBox_Candidates").ClientID %>').selectedIndex 
```

我还尝试将 BeginRequestHandler 和 EndRequestHandler 重命名为唯一名称（以避免当此脚本同时受控时发生冲突），但它不起作用。

任何帮助是极大的赞赏。

```
<script type="text/javascript">
    var index
    var prm = Sys.WebForms.PageRequestManager.getInstance();
    prm.add_beginRequest(BeginRequestHandler);
    prm.add_endRequest(EndRequestHandler);

    function BeginRequestHandler(sender, args) {
        index = document.getElementById('<%=ListBox_Candidates.ClientID %>').selectedIndex;
    }

    function EndRequestHandler(sender, args) {
        $get('<%=ListBox_Candidates.ClientID %>').selectedIndex = index;
    }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:15:18.943

您可以尝试在后面的代码中添加属性，这将返回您需要的值。然后，在客户端，只需绑定到此属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T00:11:26.897

最终不使用 Microsoft Ajax 而是从 jquery 调用 webmethods！

# java - 中介对象如何工作？它背后的想法是什么？

> ID：15564729
> 
> 赞同：1
> 
> 时间：2013-03-22T07:10:54.330
> 
> 标签：java, mediator

我对中介对象很感兴趣，因为它听起来很有用，但是为了学习如何与该对象交互和构建该对象而破译代码示例使我无法理解。如果代码示例带有一些解释，无论多么简短，我都会喜欢它们。当我构建一个中介对象时，有人能够解释我正在构建什么吗？

中介对象会是处理类之间发送的动作事件的一种方式吗？还是中介对象只是更好地将类似代码整合到一个方便的地方？

我不知道它是否为了方便而实用，或者它是否实用，因为没有其他方法可以做到这一点。任何细节，无论多么“低调”，都将是最出色的。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:51:29.383

中介对象本身不*打算*做任何事情。您不应该将您已经拥有的任何逻辑移入其中，除了一些多路复用/多路分解（当一个对象将相同的消息发送到多个其他对象时）。调解器只是一个外部接口（如果它同时用作外观），并且绝对是预先存在的对象之间的消息传递通道。

同样，在您已经意识到需要这样的消息传递通道之前，不应创建中介。这种需求是怎样的？您已经有一组对象开始以越来越复杂的方式相互调用。这些对象存储彼此的引用；此类引用的数量已经超过了此类对象本身的数量。

因此，不是每个对象都与每个对象交谈（具有二次引用和复杂的交互图），而是将星型拓扑引入交互；每个人都直接与调解员交谈。然后更容易实例化、监控、调试、扩展、多态化......

不要过早开始引入调解器，否则整体复杂性会增加而不是下降。

# php - 如何从电子邮件中删除多余的非英文字符？

> ID：15564731
> 
> 赞同：0
> 
> 时间：2013-03-22T07:11:04.910
> 
> 标签：php, email, imap

我正在使用以下脚本来阅读电子邮件。

```
<?php
   //Fetch users from table 
   $sql_users=mysql_query("select  userName, realpass,userID  from users ");

   while($row = mysql_fetch_assoc($sql_users)){
       $username=$row['userName'].'@example.com'; // Email address is username@domain.com 
       $password=$row['realpass'];
       $hostname = '{example.com:995/pop3/ssl/novalidate-cert}'; 
       $username = $username; $password = $password; 
       $imap = imap_open($hostname,$username,$password) or die('Cannot connect: ' . imap_last_error());

       for ($i = 1; $i <= $message_count; ++$i){
           $header = imap_header($imap, $i);
           // fetch message body and mark it as read
       $body = imap_fetchbody($imap, $i,2,FT_PEEK);
           $prettydate = date("jS F Y", $header->udate);

       if (isset($header->from[0]->personal)) {
               $personal = $header->from[0]->personal;
           } else {
               $personal = $header->from[0]->mailbox;
           }
           $subject=$header->Subject;
           //display email content   
           $email = "$personal <{$header->from[0]->mailbox}@{$header->from[0]->host}>";
           echo "On $prettydate, $email said \"$body\".\n";
           echo '<br><br>';
   }
       print_r(imap_errors());
       imap_close($imap);
} 
```

问题是电子邮件从需要删除的多余字符返回。我还需要将电子邮件标记为已读。这是一条示例消息：

> ” 2013 年 3 月 20 日，乔说“电子邮件祈祷内容。
> 
> 这 =A0 是 example.com 的测试电子邮件。它应该被转换成一个=新的祈祷请求。
> 
> 谢谢，乔“。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:40:03.273

在 PHP 参考中，有一条与您的问题类似的[评论。](http://es.php.net/manual/en/function.imap-fetchbody.php#111031)在该评论中，他以这种方式阅读内容：

```
 $text = trim( utf8_encode( quoted_printable_decode( 
                    imap_fetchbody( $this->inbox, $emailNo, $section ) ) ) ); 
```

尝试将该示例调整为您的代码并尝试一下。

# jquery - KendoUI Grid 单击下拉激活

> ID：15564734
> 
> 赞同：3
> 
> 时间：2013-03-22T07:11:20.100
> 
> 标签：jquery, kendo-ui, kendo-grid

目前，当我想从网格中的列表中选择一个项目时，我必须单击两次。

第一次单击使下拉选择器出现，第二次单击打开列表，以便我可以选择一个项目。

如何做到这一点，我只需单击一次即可激活下拉选择器并打开列表？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-22T21:40:14.230

使用Grid的**[edit](http://docs.kendoui.com/api/web/grid#events-edit)**事件和DropDownList的**[open方法。在此处输入链接描述](http://docs.kendoui.com/api/web/dropdownlist#events-open)**

例如

```
edit:function(e){
    var ddl = e.container.find('[data-role=dropdownlist]').data('kendoDropDownList');
    if(ddl){
       ddl.open();
    }
}, 
```

[这](http://jsbin.com/ageroy/2/edit)是活生生的例子。

# android - 将html网页转换为位图后内存不足，Android

> ID：15564739
> 
> 赞同：0
> 
> 时间：2013-03-22T07:11:32.753
> 
> 标签：android, memory-management, webview, bitmap

我正在使用以下代码获取在 WebView 中加载的 html 网页的位图图像，但是由于内存不足而导致崩溃。如果将图片直接转换为位图，我如何避免内存问题。

有没有办法将文件直接加载为 jpg 等压缩格式？还是有其他方法来处理这个问题？

使用 Bitmapfactory 缩小图像看起来不太可能，因为 Bitmap 已经创建，所以对它做任何事情都为时已晚。

```
 wv = (WebView)findViewById(R.id.webView1);
    wv.loadUrl("http://www.google.com");
    WebSettings webSettings = wv.getSettings();
    webSettings.setJavaScriptEnabled(true);

    Picture picture = wv.capturePicture();

   HTMLBitmap = pictureDrawable2Bitmap(picture);
        Toast.makeText(HTMLActivity.this, "bitmap " + HTMLBitmap.toString(), Toast.LENGTH_LONG).show();

       Bitmap bmp = Bitmap.createScaledBitmap(HTMLBitmap, 500, 300, false);

    // the imageView that is being set to the bitmap                
   imageOne.setImageBitmap(bmp);

  private static Bitmap pictureDrawable2Bitmap(Picture picture){
        PictureDrawable pictureDrawable = new PictureDrawable(picture);
        Bitmap bitmap = Bitmap.createBitmap(pictureDrawable.getIntrinsicWidth(),pictureDrawable.getIntrinsicHeight(), Config.ARGB_8888);
        Canvas canvas = new Canvas(bitmap);
        canvas.drawPicture(pictureDrawable.getPicture());
        return bitmap;
    } 
```

编辑：

两种可能的解决方案

# 1

我刚想到的一个想法是以某种方式在 SD 卡等外部存储器上创建图像，如果它很大，则使用 BitmapFactory 减小大小，然后再放入内部存储器，如何实际做到这一点是另一个问题。位图必须最初是在外部存储器上创建的。

# 2

还是仅将其加载到imageView中引起的内存问题。在这种情况下，我可以在将图像加载到 imageView 之前使用 BitmapFactory 选项删除图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:57:21.917

位图 bmp = Bitmap.createScaledBitmap(HTMLBitmap, 500, 300, false);

# c - 提供发送电子邮件功能的开源 C 库？

> ID：15564740
> 
> 赞同：0
> 
> 时间：2013-03-22T07:11:35.273
> 
> 标签：c, email, solaris

全部：

有没有提供发送电子邮件功能的好的开源 C 库？我不想在 Solaris 中使用 mailx 命令。
首先十分感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:54:27.213

我刚刚在谷歌上搜索并找到了这几个链接..希望这会有所帮助。

[http://sourceforge.net/projects/jwsmtp/?source=dlp](http://sourceforge.net/projects/jwsmtp/?source=dlp)

[http://www.stafford.uklinux.net/libesmtp/download.html](http://www.stafford.uklinux.net/libesmtp/download.html)

# php - 在主题加载时设置 WP 自定义背景颜色

> ID：15564744
> 
> 赞同：0
> 
> 时间：2013-03-22T07:11:43.313
> 
> 标签：php, wordpress, colors

我试图让我的 Wordpress 二十二个子主题确保当主题被激活时背景是白色的。我不能只将 CSS 添加到 wp_head，因为这样用户就无法设置自定义背景。

我一直在看 after_setup_theme 钩子

```
 function set_white_bg() {
 set_theme_mod( custom-background, 'ffffff');   }
 add_action('after_setup_theme', 'set_white_bg'); 
```

我也试过这个 - 再次没有运气

```
function wpse64373_set_custom_background( $new_colour )
{
$old_colour = get_theme_mod(
     'background_color'
    ,get_theme_support( 'custom-background', 'default-color' )
);

  if ( $old_colour == $new_colour )
    return;

return set_theme_mod( 'background_color', $new_colour );
}

function wpse64373_update_custom_background()
{ wpse64373_set_custom_background( 'ffffff' ); }
 add_action( 'switch_theme', 'wpse64373_update_custom_background' ); 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:28:41.517

尝试将其添加到您的子主题的 function.php

```
add_action('after_setup_theme','child_default_background_color');
function child_default_background_color() {
    $theme_options = get_option( 'twentytwelve_theme_options');
    if ( 'dark' == $theme_options['color_scheme'] )
        $default_background_color = 'ffffff';
    else
        $default_background_color = '333333';

    add_theme_support( 'custom-background', array(
        // set default background color in child theme
        'default-color' => $default_background_color
    ) );
} 
```

# iphone - 如何使用我的 ios 应用程序中的路线打开苹果地图应用程序

> ID：15564745
> 
> 赞同：6
> 
> 时间：2013-03-22T07:11:44.913
> 
> 标签：iphone, ios, maps, direction, apple-maps

我的目标是从带有方向的ios应用程序打开一个地图应用程序，我可以打开地图应用程序但它没有显示方向，我编写的代码如下

```
 NSString *mystr=[[NSString alloc] initWithFormat:@"http://maps.apple.com/maps?saddr=Current+Location&daddr=Newyork"];
            NSURL *myurl=[[NSURL alloc] initWithString:mystr];
            [[UIApplication sharedApplication] openURL:myurl]; 
```

谁能帮我弄清楚如何将参数传递给这个url和其他任何东西？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-09-10T12:20:04.813

```
CLLocationCoordinate2D coordinate =    CLLocationCoordinate2DMake(self.location.latitude,self.location.longitude);

//create MKMapItem out of coordinates
MKPlacemark* placeMark = [[MKPlacemark alloc] initWithCoordinate:coordinate addressDictionary:nil];
MKMapItem* destination =  [[MKMapItem alloc] initWithPlacemark:placeMark];
if([destination respondsToSelector:@selector(openInMapsWithLaunchOptions:)])
{
    //using iOS6 native maps app
    if(_mode == 1)
    {
        [destination openInMapsWithLaunchOptions:@{MKLaunchOptionsDirectionsModeKey:MKLaunchOptionsDirectionsModeWalking}];

    }
    if(_mode == 2)
    {
        [destination openInMapsWithLaunchOptions:@{MKLaunchOptionsDirectionsModeKey:MKLaunchOptionsDirectionsModeDriving}];

    }
    if(_mode == 3)
    {
        [destination openInMapsWithLaunchOptions:@{MKLaunchOptionsDirectionsModeKey:MKLaunchOptionsDirectionsModeTransit}];

    }

} else{

    //using iOS 5 which has the Google Maps application
    NSString* url = [NSString stringWithFormat: @"http://maps.google.com/maps?saddr=Current+Location&daddr=%f,%f", self.location.latitude, self.location.longitude];
    [[UIApplication sharedApplication] openURL: [NSURL URLWithString: url]];
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-03-22T07:18:40.953

如果您的意思是基于两点将用户带到地图应用程序，那么您可以这样做：

创建一个如下所示的 NSURL：

```
NSURL *URL = [NSURL URLWithString:@"http://maps.google.com/maps?saddr=%f,%f&daddr=%f,%f"]; 
```

您适当地插入您的起始地址和目的地（经纬度）。告诉您的应用程序打开 URL

```
[[UIApplication sharedApplication] openURL:URL]; 
```

它应该会自动将您带到地图应用程序！

# c - “无法打开 /tmp/ccRBTake.s 进行写入”，同时使用 gcc 进行编译

> ID：15564752
> 
> 赞同：1
> 
> 时间：2013-03-22T07:12:11.817
> 
> 标签：c, unix

在编译以下代码时出现异常的编译时错误：

```
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <stdio.h>
#include <stdlib.h>

int main()
{
    if (open("b.txt", O_CREAT | O_RDWR | O_TRUNC, 0777) < 0) {
        perror("open error:");
        exit(1);
    }
    return 0;
} 
```

在不包含`b.txt`.
以下是错误：

```
test.c:1:0: fatal error: can’t open /tmp/ccrlx6NY.s for writing: Permission denied
compilation terminated.
The bug is not reproducible, so it is likely a hardware or OS problem. 
```

我正在使用`GNU/Linux (3.2.0-39-generic)`操作系统和`gcc`编译器版本 4.6.3。

```
$df
Filesystem     1K-blocks      Used Available Use% Mounted on
/dev/sda5       44240004  10753148  31239588  26% /
udev             1004132         4   1004128   1% /dev
tmpfs             406548      1228    405320   1% /run
none                5120         0      5120   0% /run/lock
none             1016364       236   1016128   1% /run/shm
/dev/sda7       80731936  47718056  28912916  63% /home 
```

我收到此消息的确切原因可能是什么？

PS：我现在实际上在我编译的每个文件上都遇到了这个错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:39:51.297

尝试使用 TMPDIR 环境变量强制另一个 tmp-dir：

```
mkdir ~/tmp
export TMPDIR=~/tmp
gcc test.c -o mytest 
```

并检查您的 umask 值。尝试

```
umask 022 
```

并再次调用您的编译调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:14:14.233

检查您是否具有对该`/tmp`目录的写入权限。还要检查它是否未满（尽管鉴于错误消息不太可能）。

你可以`/tmp/ccrlx6NY.s`手工创作吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:16:56.137

gcc 的 C 编译器输出程序集，该程序集被写入传递给汇编程序的临时文件（扩展名为 .s）。这里出现的问题是您没有对 /tmp 的写入权限，因此它无法写入这些文件。

`TMPDIR`您可以通过环境变量指定 gcc 使用哪个目录来存储临时文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:22:41.153

您没有写入 /tmp 的权限。chmod 或要求管理员更改 /tmp 中的权限。

# asp.net-mvc - 剃须刀中是否有用户控制和隐藏字段？

> ID：15564753
> 
> 赞同：0
> 
> 时间：2013-03-22T07:12:13.283
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

在 Asp.net 中，有用户控件，这是一个**ascx**页面，我们可以有隐藏字段：

```
public partial class classA:System.Web.Mvc.ViewUserControl<Models.classB>
{
  //hidden field
  public string url
  {
    get{  ......   }
  }
} 
```

但现在我在 asp.net mvc3 中使用**razor ，这是****cshtml**文件。我们有什么与之对应的吗？我现在如何使用隐藏字段？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:38:18.873

**MVC 视图没有**像 Web 窗体用户控件这样的字段。

MVC 视图（也是部分视图）通过将*Viewmodel*类的实例传递给它们来获取它们的数据。您可以使用指令指示视图模型类的类型`@model`（通常是视图中的第一行）：

```
@model MyViewmodelClass

<span>@Model.MyClassProperty</span> 
```

viewmodel 类本身可以像任何类一样包含私有字段。

如果您需要在视图本身中使用变量，您可以简单地在 razor 代码块中声明它们并在视图中使用它们：

```
@{
  var privatevar = "value";
}
<span>@privatevar</span> 
```

但是，作为最佳实践，ASP.NET MVC 中视图的职责应仅限于数据的显示，因此不应包含与此无关的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:35:48.203

在使用 razor 时，必须具备基本的 HTML 知识，因为您需要编写一些 html，并且没有拖放以在页面上添加控件。MVC 引入了部分视图，可以说是用户控制的替代/替代。您可以通过在视图创建对话框中选择“创建局部视图”复选框来创建局部视图。其次，在 MVC 中，创建局部视图手册也不难。当您使用 Razor 时，只需设置`Layout = null;`在视图的顶部，它将被视为局部视图。`display`其次，您可以使用Style 属性下的属性轻松地将任何字段设为隐藏。

快乐编码:)

# delphi - 将.res文件添加到项目中会替换默认图标。如何防止它？

> ID：15564755
> 
> 赞同：7
> 
> 时间：2013-03-22T07:12:14.410
> 
> 标签：delphi, delphi-7

我需要将一些图标作为资源添加到我的项目中（在这种情况下我不能使用 TImageList，因为 TCoolTrayIcon 中的错误，并且我无法快速替换组件）。

我创建了一个 icons.rc 脚本来将两个 ico 文件添加到 Delphi 资源文件中：

```
redicon ICON "c:\icon\red.ico"
greenicon ICON "c:\icon\green.ico" 
```

它可以很好地编译为 icons.res，所以我将它添加到我的 Delphi 7 项目的第一个单元中：

```
{$R icons.res} 
```

然后我将句柄存储在 MainForm 的 OnCreate() 中：

```
hRedIcon := LoadIcon(hInstance,'redicon');
hGreenIcon := LoadIcon(hInstance,'greenicon'); 
```

然后使用手柄就好了。

现在问题来了——在项目选项中添加的项目图标（大小为 16x16 到 48x48）被我在 {$R icons.res} 中添加的第一个图标（16x16 redicon）替换之后。

如何防止这种情况？如何在不替换项目选项-> 应用程序-> 加载图标中添加的图标的情况下将其他图标作为资源添加到项目中？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-22T09:11:09.113

VCL 硬编码`'MAINICON'`应用程序图标的名称。这可以在以下代码中看到`TApplication.Create`：

```
FIcon.Handle := LoadIcon(MainInstance, 'MAINICON'); 
```

另一方面，shell 假定可执行文件中的第一个图标是主应用程序图标。shell 使用的顺序是按图标名称的字母顺序。

这样做的结果是，所有图标的名称都应该出现在字母表中 MANICON 之后。

# c - 使用无限循环时未打印消息

> ID：15564759
> 
> 赞同：0
> 
> 时间：2013-03-22T07:12:30.463
> 
> 标签：c, sockets, loops

我编写了一个服务器程序，它只接受来自客户端的连接。为此，接受函数处于无限循环中。但是当它执行在循环没有被打印之前打印的消息时。我的代码是：

```
 #include<stdio.h>
    #include<sys/socket.h>
    #include<sys/types.h>
    #include<netinet/in.h>
    void main()
    {
    int sock,bind_sock,lis_sock,cli_sock,addr_len;
    struct sockaddr_in addr,cli_addr;

    if ((sock=socket(AF_INET,SOCK_STREAM,0))<0)
            printf("\nsocket error");
    else
            printf("socket");
    addr.sin_family=AF_INET;
    addr.sin_port=htons(5012);
    addr.sin_addr.s_addr=htonl(INADDR_ANY);
    if((bind_sock=bind(sock,(struct sockaddr *)&addr,sizeof(addr)))<0)
            printf("\nBound error");
     else
            printf("Bound");

    if((lis_sock=listen(sock,10))<0)
            printf("\nlisten error");
    else
            printf("listen\nwaiting for connection" );
    while(1)
    {
            addr_len=sizeof(cli_addr);
            cli_sock=accept(sock,(struct sockaddr *)&cli_addr,&addr_len);
            if(cli_sock<0)
            printf("\nConnetion Error\n");
            else
            printf("conneted\n");

    } 
```

，它给出的输出是：

```
 ]$ ./a.out
   socketBoundlisten 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:14:54.923

printf 是行终止的，因此将 \n 添加到末尾并检查输出 .example

> ```
>  printf("conneted \n"); 
> ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:21:56.480

您的“等待连接”可能会被缓冲并在您的客户端连接时打印。您是否尝试连接客户端并查看输出？

也试试这个：

```
if((lis_sock=listen(sock,10))<0)
        printf("\nlisten error");
else
        printf("listen\nwaiting to connect"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:32:15.797

尝试在 printf 之前执行此操作。

> setvbuf (stdout, NULL, _IONBF, 0);

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:47:05.537

kanika you mentioned that fflush(stdout) has solved so as aniket mentioned it was being buffered. 2 possible solutions for buffered printf

1) use `fflush(stdout)` because stdout is buffered and prints whats after newline.

OR

2)disable buffering by `setbuf(stdout,NULL)`.(or may be setvbuf).

# android - 选择项目时更改微调器的文本（非背景）颜色

> ID：15564760
> 
> 赞同：13
> 
> 时间：2013-03-22T07:12:30.663
> 
> 标签：android

我有一个带有多个选项的微调器，每个选项都显示一个简单的字符串。最初，文本都是白色的。但是，如果用户选择一个选项（使其成为顶部显示的内容），我希望该文本变为红色。

我怎样才能做到这一点？

**编辑：解决了**

```
public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
   ((TextView) arg1).setTextColor(Color.parseColor("#E3170D"));
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-22T08:55:07.313

> 如果用户选择一个选项（使其成为顶部显示的内容），我希望该文本变为红色。

因此，您很可能为 Spinner 创建了 OnItemSelectedListener()。因此，在 onItemSelected() 方法中，您可以简单地更改文本颜色。

**伪代码：**

```
public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
   TextView selectedText = (TextView) parent.getChildAt(0);
   if (selectedText != null) {
      selectedText.setTextColor(Color.RED);
   }
} 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T07:15:50.753

[在这里](https://stackoverflow.com/questions/7584158/setting-background-color-for-spinner-item-on-selection)看到这个答案，我将复制并粘贴它

1.  创建自定义视图布局（例如来自 TextView）
2.  创建选择器并将其设置为该视图的背景
3.  使用自定义视图设置 Spinner

选择器：custom_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_focused="true" 
          android:state_pressed="false" 
          android:drawable="@color/light_grey" />
    <item android:state_focused="true" 
          android:state_pressed="true"
          android:drawable="@color/light_grey" />
    <item android:state_focused="false" 
          android:state_pressed="true"
      android:drawable="@color/light_grey" />
    <item android:state_selected="true" android:drawable="@color/light_grey"/>
    <item android:drawable="@color/white" />
</selector> 
```

自定义视图布局：my_simple_item

```
<?xml version="1.0" encoding="utf-8"?>
<TextView
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:lines="1"
android:padding="5dip"
android:background="@drawable/custom_selector"/> 
```

初始化微调器：

```
String[] items = new String[] {"One", "Two", "Three"};
Spinner spinner = (Spinner) findViewById(R.id.mySpinner);
ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, R.layout.my_simple_item, items); 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-04T05:44:51.907

你们中的一些人使用`MaterialBetterSpinner`和绑定你的布局，以上所有都无济于事，试试这个，希望它对你有帮助：

```
public class MyAdapter extends ArrayAdapter<String> {      

    public MyAdapter(Context context, int textViewResourceId, List<String> objects) {
        super(context, textViewResourceId, objects);           

    }

    @Override
    public View getDropDownView(int position, View convertView, ViewGroup parent) {
        return getCustomView(position, convertView, parent);
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        return getCustomView(position, convertView, parent);
    }

    public View getCustomView(int position, View convertView, ViewGroup parent) {
        LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        final YourXMLBinding rowBinding = DataBindingUtil.inflate(inflater, R.layout.yourXML, parent,false);
        rowBinding.tv1.setText(mMy.getValues().get(position));
        if(position == mMy.getCurrentIndex()) {
            rowBinding.tv1.setTypeface(Typer.set(getContext()).getFont(Font.ROBOTO_BOLD));//change font
            rowBinding.tv1.setTextColor(ContextCompat.getColor(getContext(), R.color.yourColor));//change color
        }
        return rowBinding.getRoot();
    }
} 
```

yourXML 是这样的：

```
<?xml version="1.0" encoding="utf-8"?>
<layout>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:background="@color/colorBackgroundStart">
    <TextView
        android:id="@+id/tv1"
        android:layout_width="0dp"
        android:layout_weight="0.7"
        android:layout_height="30dp"
        android:textColor="#fff"
        android:textSize="16dp"
        android:layout_marginTop="8dp"
        android:layout_marginBottom="10dp"
        android:layout_marginLeft="8dp"/>

</layout> 
```

使用此适配器和 yourXML 创建一个微调器：

```
final MyAdapter adapter = new MyAdapter(getContext(), R.layout.yourXML, s.getValues());

final MaterialBetterSpinner spinner = new MaterialBetterSpinner(getContext());
spinner.setAdapter(adapter); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-03-01T11:57:02.867

使用它来更改所选文本的文本

```
YOUR_SPINNER.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {

     public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {
         TextView selectedText=  view.findViewById(R.id.text_view_name_in_Adapter);
         selectedText.setTextColor(getResources().getColor(R.color.YOUR_COLOR));
        }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:16:25.123

创建像：

```
 <?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
 <item android:state_pressed="false" android:drawable="@color/red" />
 <item android:drawable="@android:color/transparent" />
  </selector> 
```

并在您的活动 xml 中：

```
 <Spinner...............
 android:drawSelectorOnTop="true"
  android:background="@drawable/sample"/> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-02-09T08:50:32.630

只需添加`OnItemSelectedListener`到您的微调器。

```
qtySpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
        @Override
        public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
            ((TextView) view).setTextColor(Color.BLACK); //Change selected text color
        }

        @Override
        public void onNothingSelected(AdapterView<?> parent) {

        }
    }); 
```

# php - 解析错误：语法错误，...期待 T_STRING

> ID：15564763
> 
> 赞同：-1
> 
> 时间：2013-03-22T07:12:37.207
> 
> 标签：php, syntax

我在使用以下 php 时遇到问题：

```
<?php 
  $pageTitle = \"Page 1";
  include(\"Header.php\");
?> 
```

我得到这个语法错误：

> *解析错误：语法错误，意外的 T_CONSTANT_ENCAPSED_STRING，期待 T_STRING*

错误在第二行。如果我`'\'`在第二个引号之前有一个，我会收到第二行的以下错误消息：

> *解析错误：语法错误，意外'"'，在第 2 行的 /home/maxster/scc.maxworks.org/p_404.php 中需要 T_STRING*

谁能解释发生了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:28:32.553

您在字符串和字符串中混合了转义引号。这是一个普通的字符串：

```
$pageTitle = "A string"; 
```

如果您希望您的字符串包含引号，则需要使用`\`如下方式对它们进行转义：

```
$pageTitle = "I like the band \"U2\" very much!"; 
```

请注意，在 PHP 中，您可以将双引号更改为单引号。以下四种说法是有效的：

```
$pageTitle = 'I like the band "U2" very much!';
$pageTitle = 'I like the band \'U2\' very much!';
$pageTitle = "I like the band 'U2' very much!";
$pageTitle = "I like the band \"U2\" very much!"; 
```

请注意引号需要如何转义！

不同之处在于，当字符串以双引号开头时，会计算内联变量，而单引号则不是这样：

```
$bandName = "U2";
$pageTitle1 = 'I like the band $bandName very much!';
$pageTitle2 = "I like the band $bandName very much!";

echo $pageTitle1 . "<br />";
echo $pageTitle2; 
```

这个的输出将是

```
I like the band $bandName very much!
I like the band U2 very much! 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:17:10.903

尝试删除 / 在第二行。它需要一个字符串，因此只需“Page 1”即可。

删除所有的斜线。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:27:57.093

不要忘记在引号前使用反斜杠意味着它们被视为字符串的一部分，因此您实际上破坏了代码的语法。例如，如果您想在字符串中打印引号，则可以使用这种情况：

```
<?php
echo "the french word \"lundi\" means \"monday\" in english";
?> 
```

# javascript - 淘汰赛 koGrid 中的计算值

> ID：15564764
> 
> 赞同：0
> 
> 时间：2013-03-22T07:12:36.963
> 
> 标签：javascript, knockout.js

我需要使用一个网格，其中一列具有基于网格中其他列的值的计算值...

作为示例要求，我有一列显示年龄，这是一个可编辑的列......如果年龄改变，下一列应该计算 100 的值 - 更新的年龄......

我在这里创建了一个 jsfiddle 来演示我的要求[JSFiddle](http://jsfiddle.net/sudarshan89/HtLk5/5/)

```
{field: 'computedAge', displayName: '100 -Age',cellTemplate:self.calculatedCellTemplate} 
```

是更新年龄列时我希望填充的计算列

谁能建议我如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:33:54.057

您只需两个步骤即可实现此目的：

(1) 为数据列表中的每个项目创建实例化函数，其中包含`computedAge`计算属性。

```
function Item(data) {
    this.name = ko.observable(data.name);
    this.age = ko.observable(data.age);
    this.computedAge = ko.computed(function(){
        return 100 - this.age();
    }, this);
} 
```

(2) 映射源数组来创建实例而不是简单的`observableArray`创建。

```
self.browsers = ko.observableArray(
    ko.utils.arrayMap(
        datastore.initialData,
        function(data){ return new Item(data); }
    )
); 
```

工作示例：http: [//jsfiddle.net/xp6xa/](http://jsfiddle.net/xp6xa/)

**更新：** 要获得自我更新的单元格，请不要忘记这样定义`self.calculatedCellTemplate`：

```
 self.calculatedCellTemplate = '<span data-bind="text: $parent.entity.computedAge"></span>'; 
```

[http://jsfiddle.net/xp6xa/3/](http://jsfiddle.net/xp6xa/3/)

# ios - StackBlur 真的比 GPUImage lib 慢吗？

> ID：15564765
> 
> 赞同：1
> 
> 时间：2013-03-22T07:12:45.710
> 
> 标签：ios

我认为 StackBlur 是一个很棒的库，尤其是它能够按照你想要的方式模糊图像。我没有用过 GPUImage 库，但是同事说 StackBlur 比 GPUImage 慢。我在网上找不到任何信息。有人对此有见识吗？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-23T09:31:35.947

We were using GPUImage to apply blur effect to our images and decided to try stackblur to see if we can get better performance from it.

After the implementation, we first did simulator tests and stackblur did have better performance, especially with larger images. But when we tried it on actual devices the performance was much worse than GPUImage

# javascript - 主干模型具有另一个主干模型的属性

> ID：15564767
> 
> 赞同：0
> 
> 时间：2013-03-22T07:12:54.413
> 
> 标签：javascript, backbone.js

我不知道 JS/Backbone 是否支持这一点，但是如果我有一个骨干模型，我可以将它用作另一个骨干模型的属性吗？

例如

```
var Address = Backbone.Model.extend({
  street: ''
});

var Person = Backbone.Model.extend({
  name: '',
  Address: ''
});

var p1 = new Person();
p1.set('name', 'crystal');
console.log(p1.get('name'));
p1.set('Address.street', '1234');
console.log(p1.get('Address.street')); 
```

这是 Backbone 应该如何用于组合对象的方式吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:24:23.240

当然，您可以使用任何 JavaScript 有效对象（包括 Backbone 模型对象）设置模型属性。但是请注意避免嵌套模型太深，因为您不想要一个深度属性访问链，这需要您对每个级别访问进行空检查：

`p.get('parent').get('child').get('child').get('child').get('prop');`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:21:01.890

您可以考虑使用[Backbone-Relational](http://backbonerelational.org/)。

它增加了对模型之间嵌套双向关系的支持，例如一对一、一对多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:33:53.637

为什么不将模型中的`address`条目作为`Person`模型的新实例`Address`？

例如

```
var Address = Backbone.Model.extend({
  street: ''
});

var Person = Backbone.Model.extend({
  name: '',
  address: null
});

var p = new Person;
p.set('address', new Address({street: 'crystal'}));
p.get('address').get('street'); 
```

# iphone - QuartzCore 中的渐变效果

> ID：15564768
> 
> 赞同：1
> 
> 时间：2013-03-22T07:12:54.497
> 
> 标签：iphone, ios, animation, quartz-core

我想制作如下图所示的 UI。现在我想用 QuartzCore 来制作它。

我已经实现了所有的图形，包括圆圈、垂直和水平线。

我对如何使该中心点与 Image 中显示的动画效果有点混淆。

![在此处输入图像描述](../Images/e3c3bdb6e9f968b953433f16c6cbf1f6.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T10:55:54.070

![点图像](../Images/5aa5e51c13cf9ad2ed79d79fc04c8c60.png)

用于绘制上面显示的图像的方法的关键是使用`CGContextDrawRadialGradient`绘制点。然后我们可以使用这个点图像作为[CALayer](https://developer.apple.com/library/ios/#documentation/graphicsimaging/reference/CALayer_class/Introduction/Introduction.html)的内容，允许我们重新定位它并按照我们认为合适的方式对其进行动画处理。

在您最初的问题中，您问...

> **如何使用图像中显示的动画效果**制作该中心点？

...但作为静止图像，它不显示任何动画。我已经对您如何设想动画点进行了有根据的猜测。

以下代码创建了一个带有脉动动画的渐变点，反复淡入淡出：

## 代码

```
#import <QuartzCore/QuartzCore.h>

...

- (void)viewDidLoad
{
    [super viewDidLoad];

    CGFloat dotDiameter = 30.f;
    CGFloat dotRadius = dotDiameter * 0.5;
    CGRect dotRect = CGRectMake(CGRectGetMidX(self.view.frame) - dotRadius,
                                CGRectGetMidY(self.view.frame) - dotRadius,
                                dotDiameter, dotDiameter);

    CALayer *dotLayer = [CALayer layer];
    dotLayer.contents = (id)[self dotImageOfDiameter:dotDiameter].CGImage;
    dotLayer.cornerRadius = dotRadius;
    dotLayer.frame = dotRect;
    dotLayer.masksToBounds = YES;

    // Animate the dot to make it appear to pulsate.
    CABasicAnimation *pulseAnimation = [CABasicAnimation animationWithKeyPath:@"opacity"];
    pulseAnimation.autoreverses = YES;
    pulseAnimation.duration = 0.8;
    pulseAnimation.fromValue = [NSNumber numberWithFloat:0.0f];
    pulseAnimation.repeatCount = INFINITY;
    pulseAnimation.toValue = [NSNumber numberWithFloat:1.0f];
    [dotLayer addAnimation:pulseAnimation forKey:@"opacity"];

    [self.view.layer addSublayer:dotLayer];
}

- (UIImage *)dotImageOfDiameter:(CGFloat)diameter
{
    UIGraphicsBeginImageContextWithOptions(CGSizeMake(diameter, diameter), NO, 0.0f);
    CGContextRef context = UIGraphicsGetCurrentContext();

    CGFloat radius = diameter * 0.5;
    CGColorSpaceRef baseColorSpace = CGColorSpaceCreateDeviceRGB();
    CGFloat colours[8] = { 0.56f, 0.78f, 0.94f, 1.0f,     // Opaque dot colour.
                        0.56f, 0.78f, 0.94f, 0.0f };      // Transparent dot colour.
    CGGradientRef gradient = CGGradientCreateWithColorComponents (baseColorSpace, colours, NULL, 2);

    CGContextDrawRadialGradient(context, gradient, CGPointMake(radius, radius), 0.0f, CGPointMake(radius, radius), radius, kCGGradientDrawsAfterEndLocation);

    CGImageRef dotImageRef = CGBitmapContextCreateImage(context);
    UIImage *dotImage = [UIImage imageWithCGImage:dotImageRef];

    CGColorSpaceRelease(baseColorSpace);
    CGGradientRelease(gradient);
    CGImageRelease(dotImageRef);

    UIGraphicsEndImageContext();

    return dotImage;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:23:56.833

这个来自苹果，展示了如何在 Quartz 中添加阴影。[这里](https://developer.apple.com/library/mac/#documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_shadows/dq_shadows.html)解释

对于阴影，在您的情况下，您可以使用几乎等于青色的正确颜色值，

```
void MyDrawWithShadows (CGContextRef myContext, // 1
                         CGFloat wd, CGFloat ht);
{
    CGSize          myShadowOffset = CGSizeMake (-15,  20);// 2
    CGFloat           myColorValues[] = {1, 0, 0, .6};// 3
    CGColorRef      myColor;// 4
    CGColorSpaceRef myColorSpace;// 5

    CGContextSaveGState(myContext);// 6

    CGContextSetShadow (myContext, myShadowOffset, 5); // 7
    // Your drawing code here// 8
    CGContextSetRGBFillColor (myContext, 0, 1, 0, 1);
    CGContextFillRect (myContext, CGRectMake (wd/3 + 75, ht/2 , wd/4, ht/4));

    myColorSpace = CGColorSpaceCreateDeviceRGB ();// 9
    myColor = CGColorCreate (myColorSpace, myColorValues);// 10
    CGContextSetShadowWithColor (myContext, myShadowOffset, 5, myColor);// 11
    // Your drawing code here// 12
    CGContextSetRGBFillColor (myContext, 0, 0, 1, 1);
    CGContextFillRect (myContext, CGRectMake (wd/3-75,ht/2-100,wd/4,ht/4));

    CGColorRelease (myColor);// 13
    CGColorSpaceRelease (myColorSpace); // 14

    CGContextRestoreGState(myContext);// 15
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:22:24.447

您可以将径向渐变绘制到一些 CALayer，然后只是为 CALayer 设置动画，`CGContextDrawRadialGradient`用于绘制渐变层

```
CABasicAnimation *anim = [CABasicAnimation animationWithKeyPath:@"transform"];
[anim setFromValue:[NSValue valueWithCATransform3D:CATransform3DIdentity]];
// Scale x and y up
[anim setToValue:[NSValue valueWithCATransform3D:
                CATransform3DMakeScale (1.0f, 1.0f,0.0f)]];
[anim setAutoreverses:YES];
[anim setRepeatCount:HUGE_VALF];

[gradientViewlayer addAnimation:anim]; 
```

希望这会有所帮助，我还没有测试过，但这可能会给你一些指导。您可以使用 CGContext 完成的其他布局

# sql - 如何在 LEFT JOIN 中使用 replace() 之后生成的关系

> ID：15564769
> 
> 赞同：2
> 
> 时间：2013-03-22T07:13:06.700
> 
> 标签：sql, postgresql

我正在尝试`LEFT JOIN`在两张桌子上执行 a。两者都有一个名为 WEBSITE 的列。一个填充了类似的协议`http://abc.com`，另一个填充了类似的协议`abc.com`。

我正在尝试在 WEBSITE 列中加入这些表。我试图替换协议，然后像这样执行连接：

```
SELECT replace(WEBSITE, 'http://', '') as SITENAME FROM WITHPROTOCOLTABLE LEFT JOIN WITHOUTPROTOCOLTABLE ON (WITHPROTOCOLTABLE.SITENAME = WITHOUTPROTOCOLTABLE.WEBSITE) 
```

但我得到错误：`column WITHPROTOCOLTABLE.SITENAME does not exist`

我该如何执行`JOIN`. 请指教。

* * *

编辑：

## 表格：

```
WITHPROTOCOLTABLE

website           somedata
----------------|---------------
http://abc.com  |  abcdef
http://xyz.com  |  xyzabc

WITHOUTPROTOCOLTABLE

website
-------
abc.com
xyz.com 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:17:48.707

如果您的`WITHPROTOCOLTABLE`和`WITHOUTPROTOCOLTABLE`是两个不同的表或视图，则`REPLACE`在您的加入条件中使用该函数，如下所示：

```
SELECT replace(WEBSITE, 'http://', '') as SITENAME
FROM WITHPROTOCOLTABLE
LEFT JOIN WITHOUTPROTOCOLTABLE
      ON (REPLACE(WITHPROTOCOLTABLE.WEBSITE, 'http://', '')
           = WITHOUTPROTOCOLTABLE.WEBSITE) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:18:25.987

您在这里说您正在加入表，`WEBSITE column`但您使用了`WITHPROTOCOLTABLE.SITENAME = WITHOUTPROTOCOLTABLE.WEBSITE`即“SiteName”。第二件事是为您的表格设置别名以避免混淆。

询问：

```
SELECT replace(wp.WEBSITE, 'http://', '') as SITENAME FROM WITHPROTOCOLTABLE wp
LEFT JOIN WITHOUTPROTOCOLTABLE wop ON (REPLACE(wp.WEBSITE, 'http://', '') = wop.WEBSITE) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:17:56.143

为值/计算/任何使用`AS`的别名不会将别名放入特定的表中。采用

```
LEFT JOIN WITHOUTPROTOCOLTABLE ON SITENAME = WITHOUTPROTOCOLTABLE.WEBSITE 
```

加入表格。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:19:36.150

你好试试这个

```
SELECT replace(WEBSITE, 'http://', '') as SITENAME FROM WITHPROTOCOLTABLE
 LEFT JOIN WITHOUTPROTOCOLTABLE ON (replace(WEBSITE, 'http://', '') = WITHOUTPROTOCOLTABLE.WEBSITE) 
```

# iphone - 显示延迟图像加载滚动视图，以通过活动指示器显示单独的图像加载

> ID：15564772
> 
> 赞同：0
> 
> 时间：2013-03-22T07:13:27.793
> 
> 标签：iphone, objective-c, uiscrollview

我如何在滚动视图中通过lazyimageloading显示图像任何人都可以建议答案

* * *

```
xview = 21;//30
yview = 21;
yscroll = 150;//200
h=1;
NSLog(@"arr count %d",[filelistarr count]);

for(int s=0;s<[filelistarr count];s++)
{
    obj=[filelistarr objectAtIndex:s];
    scrollview.contentSize=CGSizeMake(320, yscroll);
    if(h%4 == 0)
    {
        xview=21;
        h=1;
        yview=yview+120;
        //yscroll=yscroll+20;
    }

    imgbtn = [UIButton buttonWithType:UIButtonTypeCustom];
    imgbtn.frame = CGRectMake(xview, yview, 80, 80);
    imgbtn.layer.borderWidth = 0;
    imgbtn.layer.borderColor = [[UIColor blackColor] CGColor];
    imgbtn.tag=(s+1);

} 
```

*   图像设置按钮正确但是如何设置延迟图像加载请帮助我....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:22:57.573

看到这个[http://lazyloadinginuiscrollviewiniphone.blogspot.in/2011/12/iphone-uiscrollview-lazy-image-loading.html](http://lazyloadinginuiscrollviewiniphone.blogspot.in/2011/12/iphone-uiscrollview-lazy-image-loading.html)我希望它能满足你的所有要求。还有类似类型的问题，请参见以下链接，

1）[uiscrollview 懒加载](https://stackoverflow.com/questions/14659650/uiscrollview-lazy-loading)

2)[多滚动视图和动态图像的延迟加载](https://stackoverflow.com/questions/8283513/lazy-loading-with-multiple-scrollview-and-dynamic-images)

3) [iOS UIScrollView 延迟加载](https://stackoverflow.com/questions/11750164/ios-uiscrollview-lazy-loading)

# multithreading - 用 gdb/lldb 模拟竞态条件可行吗？

> ID：15564774
> 
> 赞同：1
> 
> 时间：2013-03-22T07:13:35.557
> 
> 标签：multithreading, algorithm, race-condition

我想知道使用调试器自动测试竞争条件是否可行。

例如，要测试多线程队列的映像。除其他外，您还想测试是否可以同时调用`enqueue()`和`dequeue()`。

一个简单的单元测试可以启动两个线程，每个线程分别在一个循环中调用和检查结果`enqueue()`：`dequeue()`

```
// thread A
for( int i=0; i<count; i+=1 ) {
  enqueue( queue, i );
}

// thread B
for( int i=0; i<count; i+=1 ) {
  ASSERT( i == dequeue( queue ) );
} 
```

现在，一个聪明的测试驱动程序，在`gdb`or中运行单元测试`lldb`，应该能够等待在两个循环中设置的断点，然后使用调试器`si`（步进指令）命令来模拟两个线程的所有可能的交错。

我的问题不是这在技术上是否可行（确实如此）。我想知道的是：

假设`enqueue()`函数有 10 条指令，而`dequeue()`函数有 20 条 - 测试必须尝试多少种不同的交织？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T09:46:43.937

让我们来看看...

如果我们每个只有 2 条指令：a,b 和 A,B：

a,b,A,B
a,A,b,B
a,A,B,b
A,a,b,B
A,a,B,b
A,B,a,b

那是6。

对于 a,b,c 和 A,B,C：

a,b,c,A,B,C
a,b,A,c,B,C
a,b,A,B,c,C
a,b,A,B,C,c
a,A,b, c,B,C
a,A,b,B,c,C
a,A,B,b,c,C
a,A,b,B,C,c
a,A,B,b,C,c
a ,A,B,C,b,c
A,a,b,c,B,C
A,a,b,B,c,C
A,a,B,b,c,C
A,B,a,b ,c,C
A,a,b,B,C,c
A,a,B,b,C,c
A,B,a,b,C,c
A,a,B,C,b,c
A, B,a,C,b,c
A,B,C,a,b,c

那是 20，除非我错过了什么。

如果我们将其推广到每个指令中的 N 条指令（例如，N 为 26）并以 a...zA...Z 开头，那么 z 将有 27 个可能的位置（从 A 之前到 Z 之后），最多 27 个y 的位置，x 的最多 28 个位置，w 的最多 29 个位置等。这表明最坏的情况是阶乘。然而，实际上，它比这要少，但我有点懒，所以我将使用一个简单程序的输出来计算可能的“交错”数量，而不是推导出确切的公式：

```
1 & 1 -> 2
2 & 2 -> 6
3 & 3 -> 20
4 & 4 -> 70
5 & 5 -> 252
6 & 6 -> 924
7 & 7 -> 3432
8 & 8 -> 12870
9 & 9 -> 48620
10 & 10 -> 184756
11 & 11 -> 705432
12 & 12 -> 2704156
13 & 13 -> 10400600
14 & 14 -> 40116600
15 & 15 -> 155117520
16 & 16 -> 601080390 
```

因此，根据这些结果，您可能会得出结论，虽然这个想法是正确的，但将其用于代码验证将花费不合理的时间。

此外，您应该记住，您不仅需要考虑指令执行的顺序，还需要考虑队列的状态。这将增加迭代次数。

**编辑**：这是程序（在 C 中）：

```
#include <stdio.h>

unsigned long long interleavings(unsigned remaining1, unsigned remaining2)
{
  switch (!!remaining1 * 2 + !!remaining2)
  {
  default: // remaining1 == 0 && remaining2 == 0
    return 0;

  case 1: // remaining1 == 0 && remaining2 != 0
  case 2: // remaining1 != 0 && remaining2 == 0
    return 1;

  case 3: // remaining1 != 0 && remaining2 != 0
    return interleavings(remaining1 - 1, remaining2) +
           interleavings(remaining1, remaining2 - 1);
  }
}

int main(void)
{
  unsigned i;
  for (i = 0; i <= 16; i++)
    printf("%3u items can interleave with %3u items %llu times\n",
           i, i, interleavings(i, i));
  return 0;
} 
```

**编辑2**：

顺便说一句，如果您改为模拟伪代码，由于与调试器的接口以及各种上下文切换，您还可以节省一个数量级（或两个）的开销。请参阅[this answer to a some related question](https://stackoverflow.com/a/15565898/968261)以获取示例实现。与直接执行相比，这也可以让您对线程之间的切换进行更细粒度的控制。

# c# - 如何使用 C# 有效地计算社交分享数

> ID：15564777
> 
> 赞同：1
> 
> 时间：2013-03-22T07:13:40.573
> 
> 标签：c#, asp.net-mvc, social-media

我正在使用 asp.net Mvc-3 C# 开发分类广告 Web 应用程序。

每个广告都可以在 facebook、twitter、google plus、linkedin 等社交媒体上分享。

我正在计算广告在这些网站上共享的次数并将此记录保存在数据库中。

使用此功能

```
 string jsonString = new System.Net.WebClient().DownloadString(URL-of-ad);
 var serialize= new System.Web.Script.Serialization.JavaScriptSerializer();
 var dictionary = serialize.Deserialize<Dictionary<string, string>>(jsonString);
 var twitter = dict["count"];
 var facebook= dict["share_count"];

// calculating for other website by this function 
```

这个函数运行良好，但每个广告都非常耗时。我有数千个广告，所以我必须循环数千次并为每个广告调用这个函数。

我一天调用这个函数两次。

还有其他更好更快的方法来完成这项任务吗？

请提出您的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:25:44.023

您可能会考虑改进您的设计

1 - 创建一个 Windows 服务并将其设置为每天运行两次，最有可能找出您网站上的流量何时非常少。

2-将共享计数逻辑移动到 Windows 服务中，这将在另一个进程中执行并释放您的主应用程序。

3-下载取决于网络速度的东西，所以让yopur下载异步而不是同步。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:28:41.150

几点建议：

1.  并行运行，例如使用[`Parrallel.ForEach`](http://msdn.microsoft.com/en-us/library/system.threading.tasks.parallel.foreach.aspx)，传入添加的 URL，或异步版本，例如[DownloadStringAsync](http://msdn.microsoft.com/en-us/library/system.net.webclient.downloadstringasync.aspx)。两者都将同时运行多个下载。
2.  加载显示添加的页面时运行此命令。加载 add 然后对服务器进行 Web 服务调用以获取`count`and `share_count`。它可能需要更多的工作，但它会更新，如果每个添加都很少显示，这可能会更有效。

我假设您在页面创建期间没有运行它，但如果您是，请按照 Saurabh 的建议将其移动到单独的服务或进程中。

# android - 如何比较一个时间与提供的另外两个时间？

> ID：15564779
> 
> 赞同：2
> 
> 时间：2013-03-22T07:13:45.297
> 
> 标签：android, time

一直很困惑..就像我们在比较时间一样，绝对不推荐使用字符串...但是如果它的格式是（HH：mm：ss）。我应该如何比较它们来做某事？

例如：目标1：9:00:00 目标2：23:00:00

如何在输入大于 Target1 且小于 Target2 的情况下进行比较逻辑？

```
if(input > Target1 && input < Target2){
  //do statement A
}else{
  //do statement B
} 
```

所以如果我的输入时间是 10:00:00，它应该运行语句 A，如果输入时间是 23:01:00，它应该运行语句 B 我应该怎么做？大于 (>) 且小于 (<) 的时间格式是否合适？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:17:07.340

给定它们作为字符串，您可以将它们从 SimpleDateFormat 转换为 Date 对象。

```
SimpleDateFormat sdf = new SimpleDateFormat("HH:mm:ss"); 
```

最简单的方法是通过执行将它们转换为毫秒数

```
long time1 = sdf.parse(Target1).getTime();
long time2 = sdf.parse(Target2).getTime();
long inputTime = sdf.parse(input).getTime(); 
```

这样，您实际上是在进行整数比较，您可以忘记所有日期时间业务。

```
if(inputTime > time1 && inputTime < time2) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:04:49.527

您可以使用日历函数.getTimeInMillis（）计算差异，并获得2个不同时间的差异，这里您只需在日历中设置您的特定时间并进行比较

```
try{
            Calendar calender = Calendar.getInstance();
            Calendar calDb = Calendar.getInstance();
            Calendar matchd = Calendar.getInstance();

            mYear = calender.get(Calendar.YEAR);
            mMonth = calender.get(Calendar.MONTH);
            mDay = calender.get(Calendar.DAY_OF_MONTH);

            mendYear = calDb.get(Calendar.YEAR);
            mendMonth = calDb.get(Calendar.MONTH);
            mendDay = calDb.get(Calendar.DAY_OF_MONTH);    
                       // Here you can change day values        
                    calDb.set(Calendar.DAY_OF_MONTH, mDay-1);

            strbeforedate = mDateFormat.format(calDb.getTime());
            curentdate = mDateFormat.format(calender.getTime());

            calDb.setTime(mDateFormat.parse(strbeforedate));
            calender.setTime(mDateFormat.parse(curentdate));

            String mydate = "2013.03.14 03:11";
            String mdatetime = "";

            deletepath =  new ArrayList<String>();          

                try{
                    // here your matching goes and pass date here 

                     matchd.setTime(mDateFormat.parse(mdatetime));
                     long diff = calDb.getTimeInMillis() - calender.getTimeInMillis();
                     long matchdiff = matchd.getTimeInMillis() - calender.getTimeInMillis();
                        if(diff < matchdiff){

                                     // do your work here
                        }else{

                         // do your else work here

                        }
                }catch(Exception e){
                    e.printStackTrace();
                }                   
        }

        }catch(Exception e){
            e.printStackTrace();
        }

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:20:35.023

```
SimpleDateFormat df=new SimpleDateFormat("hh:mm:ss");             
Date d1=df.parse(dateToPars); 

d1.after(otherTimeYouWantTocompare);  OR 
d1.before(otherTimeYouWantTocompare); 
```

但是您必须以上述格式提供时间

# php - 如何在php中比较两个不同的扩展文件？

> ID：15564784
> 
> 赞同：-5
> 
> 时间：2013-03-22T07:14:05.030
> 
> 标签：php

我有两个不同的文件，比如**pdf**和**jpeg**扩展文件。我需要比较这两个文件。如果是**pdf** ，如果不是**图像**文件夹，我需要将其发送到**附件**文件夹。我怎样才能在*php*中实现这一点。有没有***比较***的方法？如果是这样怎么办？.. 任何人都可以为此提供一个想法

 ****提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:16:07.790

你可以使用[pathinfo()](http://php.net/manual/en/function.pathinfo.php)

```
<?php
$file1 = pathinfo('file.pdf');
$file2 = pathinfo('file.jpg');

echo $file1['extension']; // will output pdf
echo $file2['extension']; // will output jpg
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:17:21.823

```
$file1 = pathinfo($file1Path);
$file2 = pathinfo($file2Path);

if($file1['extension'] === $file2['extension']) {
  //The extensions are the same.
}

if($file1['extension'] === 'pdf') {
  //extensions is PDF and so on
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:17:55.373

```
$fileExt = explode('.','yourFileWithExtension');
if($fileExt[1] == 'pdf') {
   //move to attachments folder
} else {
  // some other folder
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:18:47.753

```
$file_extension = pathinfo("example.pdf", PATHINFO_EXTENSION)
if ($file_extension == "jpg") {
    your code here to send to image folder
} else if ($file_extension == "pdf") {
    your code here to send to attachments folder
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:21:33.063

它的基本。

```
<?php    
$ext= explode(".",$filename); // explode filename by "."
$extension= $ext[1];// get extension. 
if($extension=="pdf")
{
 // do something
}
elseif($extension=="jpg" ||$extension=="png"..... ) 
{
// do something
}
?> 
```****

# c# - 如何在 parallel.foreach 中使用进度条？

> ID：15564785
> 
> 赞同：0
> 
> 时间：2013-03-22T07:14:05.673
> 
> 标签：c#, progress-bar, parallel.foreach

我有许多要下载的文件，并且我在 C# 中使用了 Parallel.foreach。它工作正常。现在我想使用进度条检查下载进度。这怎么可能？

我用过这段代码：

```
Parallel.For(0, numofitems, options, j =>
{
   using (WebClient client = new WebClient())
   {
       client.DownloadProgressChanged += new DownloadProgressChangedEventHandler(client_DownloadProgressChanged);

       client.DownloadFile(list[j], @"F:\Test\Test2\a" + j + ".png"); 
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:51:58.520

试试这个。

1.将进度条拖放到您的表单中。在我的示例中，我将其命名为“progressBar1”

2.将此更改您的 DownloadProgressChanged 事件添加到以下内容中

```
 client.DownloadProgressChanged += (s, e) =>
       {
        progressBar1.Value = e.ProgressPercentage;
       }; 
```

# java - 如何在不创建新 Java Swing 的情况下 setText

> ID：15564789
> 
> 赞同：0
> 
> 时间：2013-03-22T07:14:23.420
> 
> 标签：java, swing, user-interface

当我创建一个新对象时，我可以`setText()`在 my 的构造函数中使用标签。 但我想当组件是.`ConfirmDialog`
`setText()``setVisible()`

我的程序允许用户在 A 或 B 之间进行选择。如果他们选择 A，它会打开一个对话框并`setText("a")`在上面，如果他们选择 B，它会打开和`setText("b")`。
它应该只创建`ConfirmDialog`一次新的。

我的**ConfirmDialog**课程是

```
public class ConfirmDialog extends javax.swing.JDialog {

    public ConfirmDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        labelTitle.setText("Some text");  //labelTitle is jLabel
    }
...
} 
```

当它创建新实例并设置`visible = true`

```
 ConfirmDialog dialog = new ConfirmDialog(new javax.swing.JFrame(), true);
    dialog.setLocationRelativeTo(null);
    dialog.setVisible(true); 
```

当我单击 OK 按钮并关闭对话框时

```
private void btnOKActionPerformed(java.awt.event.ActionEvent evt) {                                      
    this.setVisible(false);
} 
```

如果我再次打开对话框并想更改其文本，就像这样

```
labelTitle.setText("another text"); 
```

不创建一个`new ConfirmDialog(new javax.swing.JFrame(), true);`，我可以设置它，还是有一种方法可以`setText()`在恢复时允许`setVisible(true)`？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:21:24.750

你当然可以。保存对`ConfirmDialog`您创建的引用，例如作为父窗口类中的属性。

`private ConfirmDialog dialog;`

然后添加一个 setter 方法来`ConfirmDialog`设置标签的文本。

```
public void setLabelText(String text){
    labelTitle = text;
} 
```

然后，您可以在显示对话框时使用该设置方法。

`dialog.setLabelText("text");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:23:16.437

在 ConfirmDialog 中创建一个返回 JLabel“labelTitle”的方法。

```
private getTitleLabel() {
    return labelTitle } 
```

使用已创建的 ConfirmDialog 实例，您可以像这样更改文本。

```
dialog.getTitleLabel().setText("your text"); //dialof is instance of ConfirmDialog 
```

# c# - 如何在 windows phone 中获取 ConnectionSettingsType 的 Uri 源？

> ID：15564790
> 
> 赞同：-1
> 
> 时间：2013-03-22T07:14:26.413
> 
> 标签：c#, visual-studio, windows-phone-7, windows-phone-8, windows-phone-7.1

我正在开发一个 Windows Phone 应用程序。我需要将 Uri 源获取到 ConnectionSettingsType.Wifi 。但是，似乎没有办法做到这一点。如果可能的话，请给我一个方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T00:36:56.420

阅读本文：[如何使用 Windows Phone 的连接设置任务 (MSDN)](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh394011%28v=vs.105%29.aspx)

```
ConnectionSettingsTask connectionSettingsTask = new ConnectionSettingsTask();
connectionSettingsTask.ConnectionSettingsType = ConnectionSettingsType.WiFi;
connectionSettingsTask.Show(); 
```

没有可供 3rd 方应用程序使用的 URI 之类的东西。您必须使用该任务来启动设置页面。

# jquery - jquery 检查数据库中的电子邮件可用性/重复

> ID：15564792
> 
> 赞同：1
> 
> 时间：2013-03-22T07:14:30.833
> 
> 标签：jquery, asp.net

我正在尝试检查文本框文本更改事件的电子邮件可用性。下面是代码（我从网上捡到的）：

HTML (javascript):

```
 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {

        $("#<%=txtEmailAddress.UniqueID%>").change(function () {

            var uname = $("#<%=txtEmailAddress.UniqueID%>");

            var msgbox = $("#status");

            if (Email.val().length > 0) {

                $.ajax({

                    type: "POST",

                    url: "SignUp.aspx/usp_CheckEmail",

                    data: "{'args': '" + Email.val() + "'}",

                    contentType: "application/json; charset=utf-8",

                    dataType: "json",

                    success: function (msg) {

                        if (msg.d == 'Available') {

                            Email.removeClass("notavailablecss");

                            Email.addClass("availablecss");

                            msgbox.html('<img src="Images/a.png"> <font color="Green"> Available </font>');

                        }
                        else {
                            Email.removeClass("availablecss");

                            Email.addClass("notavailablecss");

                            msgbox.html(msg.d);

                        }
                    }
                });
            }
            else {

                Email.addClass("notavailablecss");

                msgbox.html('<font color="#cc0000">Email must be unique</font>');

            }

        });

    }); 
```

CS：

```
 [System.Web.Services.WebMethod]

protected void txtPassword_TextChanged(object sender, EventArgs e, string args)
    {
 string returnValue = string.Empty;

 SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings["ConnectionString"]);

try
{

SqlCommand sqlCmd = new SqlCommand("usp_CheckEmail", con);

sqlCmd.CommandType = CommandType.StoredProcedure;

sqlCmd.Parameters.AddWithValue("@Email", args.Trim());

con.Open();

int success = int.Parse((sqlCmd.ExecuteScalar().ToString()));

if(success == 1) // Email Not Available
{
returnValue = "<img src="Images1/n.png"><font color="#cc0000"><b>'" + args + "'</b> is    already in use.</font>";   **//getting syntax error here**

  }
  else if(success == 0)//Email is available
{
 returnValue = "Available";
 }

}
 catch
 {
 //Handle Error
 }
 finally
 {
 con.Close();
 }

return returnValue;
 }

    }
 } 
```

在返回值行中出现错误。什么是正确的语法？此外，它应该显示如下图像：![呐](../Images/e44cdfa654cfbe1f62519173bf28049a.png)

那么，我的 .aspx 页面上是否需要有图像控件？因为我得到这个代码的文章没有提到有图像控件。如果是的话，我该如何将它们与代码绑定呢？

[更新：这是我从http://www.dotnetspark.com/kb/Content.aspx?id=1278](http://www.dotnetspark.com/kb/Content.aspx?id=1278)获得代码的链接

文章中遗漏了什么？还需要做什么？任何人请..我需要这个...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-29T13:12:04.287

您似乎正在尝试调用 C# 代码用来检查客户端 Ajax 调用是否提供电子邮件的存储过程。您应该调用您定义的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:28:32.580

您错误地使用了双引号。

```
returnValue = "<img src=\"Images1/n.png\"><font color=\"#cc0000\"><b>'" + args + "'</b> is    already in use.</font>"; 
```

生成 HTML 或任何类似的标记确实是个坏习惯。考虑将其更改为客户端的模板系统或在后端找到更优雅的解决方案。

# c++ - 如何在调用 addData(...) 函数时增加结构的大小，以便我可以保存更多数据

> ID：15564799
> 
> 赞同：0
> 
> 时间：2013-03-22T07:14:53.317
> 
> 标签：c++, structure

```
struct Database
{
    String _name;
    int _age;
    String _sex;
    String _email;
    String _eid;
    String _address;
    double _percentage;
};

class MyStudentDatabase
{
    public: MyStudentDatabase();~MyStudentDatabase();
    void addData(String name, int age, String sex, String email, String eid, String address, double percentage);

    private: int _iSize;
    Database * _pStructObject;
}; 
```

这是定义部分-

```
MyStudentDatabase::MyStudentDatabase()
: _iSize(1)
{
    _pStructObject = new Database[_iSize];
}

MyStudentDatabase::~MyStudentDatabase()
{}

void MyStudentDatabase::addData(String name, int age, String sex, String email, String eid, String address, double percentage)
{
    _pStructObject[_iSize - 1]._name = name;
    _pStructObject[_iSize - 1]._sex = sex;
    _pStructObject[_iSize - 1]._email = email;
    _pStructObject[_iSize - 1]._eid = eid;
    _pStructObject[_iSize - 1]._address = address;
    _pStructObject[_iSize - 1]._percentage = percentage;
} 
```

这个程序只保存一次数据，因为结构的大小是`_iSize(1)`，所以`_pStructObject[0]`对所有成员都有效，现在我想添加另一个成员并将该`addData(...)`函数的大小增加`_iSize++`；但问题是，如果我这样做，当我在构造函数中使用“new”运算符时，以前的数据会丢失。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:27:19.873

您似乎正在尝试编写自己的容器。除非这是家庭作业，否则您应该使用其中一种标准容器。std::vector 或 std::list。

在顶部：

```
#include <vector> 
```

代替：

```
int _iSize;
Database * _pStructObject; 
```

利用：

```
std::vector<Database> students; 
```

在您的实施中：

```
void MyStudentDatabase::addData(String name, int age, String sex, String email, String eid, String address, double percentage)
{
  Database new_student;
  // fill out the new student here
  students.push_back(new_student);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:27:55.103

为什么不使用标准库中的容器之一？

例如，您可以使用`std::vector<Database>`或`std::list<Database>`。如果您使用向量，您还可以动态分配结构以避免在需要调整它的大小时（即）不必要的结构复制，或者如果可以的话提前`std::vector<Database*>`设置它。`capacity`

STL 文档可在 cppreference.com 或 cplusplus.com 上找到。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T14:27:11.907

您有两种选择，一种是使用[memmove](http://www.cplusplus.com/reference/cstring/memmove/)（在后台，固定大小的 STL continers 使用它），在内部这意味着您保留一个新的内存空间，将信息从旧的内存空间复制到新的内存空间，并释放旧的一个，或者，您可以使用一个[链表](http://en.wikipedia.org/wiki/Linked_list)，每次需要时添加一个新节点（由 STL 的所有列表“风格”使用）。

# javascript - 根据月份和年份获取日期

> ID：15564801
> 
> 赞同：-1
> 
> 时间：2013-03-22T07:14:58.957
> 
> 标签：javascript, date, extjs, extjs4, extjs4.1

这是一个非常菜鸟的问题，也许答案隐藏在我在这里所做的事情中。

在我的 Extjs 项目中，我正在获取基于用户（滑块）提供`month`的`year`变量的日期。通过执行以下操作：

```
var curDate = new Date("Fri " + month + " 15 20:05:44 UTC+0530 " + year); 
```

上面的代码有效，但看起来很恶心，甚至我都不知道那天是不是星期五。对改进上述代码有什么帮助吗？

我试过了：

```
var curDate = new Date(year + ", " + month); //no use 
```

我很努力，但在网上找不到任何帮助。

**PS**：对于那些有兴趣知道我如何获得日期的人：

```
Ext.Date.format(curDate,'d'); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:17:37.330

你不可能看起来很努力。

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date)

```
var d = new Date(year, month0based, day); 
```

# ajax - jquery表单插件不起作用

> ID：15564802
> 
> 赞同：0
> 
> 时间：2013-03-22T07:14:58.923
> 
> 标签：ajax, jquery, jquery-forms-plugin

我编写了一个代码，将表单提交到另一个页面而不像 ajax 那样加载。我使用 jquery 表单插件。但问题是它不起作用。这是我的代码

```
<div id='preview'></div>
<form  action='ajaxcall.php' id='upload_pic' enctype='multipart/form-data' method='post'>

<input type='file' id='pic' name='picture'>
<input type='button' id='sub'>
</form>
<script type="text/javascript" src='jqueryform.js'></script>
<script>
var options=
{
 target:'#preview',
 url:'ajaxcall.php',
 success:function(){

document.getElementById("upload_pic").reset();
}
};

$(document).ready(function(){
$("#sub").click(function(){
    $('#preview').html("<img src='images/loader.gif' alt='Loading.....'/>");
    $('#upload_pic').ajaxForm(options).submit();
    });
});
</script> 
```

我知道 ajaxForm() 函数不起作用。jquery 文件在代码上方并且工作正常。单击按钮页面后自动重定向到 ajaxcall.php 页面。请帮助我找出错误。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:23:59.433

在这种情况下，您需要使用 ajaxSubmit

```
$(document).ready(function() {
    var options = {
        target : '#preview',
        url : 'ajaxcall.php',
        success : function() {
            document.getElementById("upload_pic").reset();
        }
    };

    $("#sub").click(function() {
        $('#preview').html("<img src='images/loader.gif' alt='Loading.....'/>");
        $('#upload_pic').ajaxSubmit(options);
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:27:05.810

增加一项提交功能：

```
$(document).ready(function(){
  $('#upload_pic').submit(function(e){ // <---pass event here
      e.preventDefault();  //<----------------stop it here
  });
  $("#sub").click(function(){
     $('#preview').html("<img src='images/loader.gif' alt='Loading.....'/>");
     $('#upload_pic').ajaxForm(options).submit();
  });
}); 
```

尝试在单击之前停止提交。

# c# - 对象不可序列化

> ID：15564804
> 
> 赞同：2
> 
> 时间：2013-03-22T07:15:05.340
> 
> 标签：c#, asp.net, session, serialization

我在 asp.net 中有一个文件上传控件，用于上传图像。我想在`image`asp.net的控制下显示预览图像。这是aspx代码

**ASPX**

```
<script type="text/javascript">

    function FU_Img_onchange(oFU_Img) {
        alert("sak");
        var img = document.getElementById("<%= Btn_Preview.ClientID%>");
        img.click();

    }
    function FU_Video_onchange(oFU_Vid) {
        var vid = document.getElementById("<%= VidPreview.ClientID %>");
        vid.click();
    }
</script> 
```

**后面的 C# 代码**

```
 protected void Btn_Preview_Click(object sender, EventArgs e)
        {
            try
            {
                if (FU_Img.HasFile)
                {
                    string path = Server.MapPath("/TempImages");

                    FileInfo oFileInfo = new FileInfo(FU_Img.PostedFile.FileName);
                    string fileName = oFileInfo.Name;

                    string fullFileName = path + "//" + fileName;
                    string imagePath = "/TempImages/" + fileName;

                    if (!Directory.Exists(path))
                    {
                        Directory.CreateDirectory(path);
                    }
                    Session["FileUpload"] = FU_Img;
                    FU_Img.PostedFile.SaveAs(fullFileName);
                    Img_Prof.ImageUrl = imagePath;
                }
            }
            catch (Exception ex)
            {
                using (StreamWriter sw = new StreamWriter("/log.txt"))
                {
                    sw.NewLine = DateTime.Now.ToString() + "--->>" + ex.ToString() + "\n" + ex.StackTrace.ToString();
                }
            }
        } 
```

如您所见，我将图像控制置于会话中。它在开发服务器上运行良好。当我将网站发布到域时，我遇到了问题

`Unable to serialize the session state. In 'StateServer' and 'SQLServer' mode, ASP.NET will serialize the session state objects, and as a result non-serializable objects or MarshalByRef objects are not permitted. The same restriction applies if similar serialization is done by the custom session state store in 'Custom' mode.`

**堆栈跟踪**

```
[SerializationException: Type 'System.Web.UI.WebControls.FileUpload' in Assembly 'System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' is not marked as serializable.]
   System.Runtime.Serialization.FormatterServices.InternalGetSerializableMembers(RuntimeType type) +7738443
   System.Runtime.Serialization.FormatterServices.GetSerializableMembers(Type type, StreamingContext context) +258
   System.Runtime.Serialization.Formatters.Binary.WriteObjectInfo.InitMemberInfo() +111
   System.Runtime.Serialization.Formatters.Binary.WriteObjectInfo.InitSerialize(Object obj, ISurrogateSelector surrogateSelector, StreamingContext context, SerObjectInfoInit serObjectInfoInit, IFormatterConverter converter, ObjectWriter objectWriter) +422
   System.Runtime.Serialization.Formatters.Binary.WriteObjectInfo.Serialize(Object obj, ISurrogateSelector surrogateSelector, StreamingContext context, SerObjectInfoInit serObjectInfoInit, IFormatterConverter converter, ObjectWriter objectWriter) +51
   System.Runtime.Serialization.Formatters.Binary.ObjectWriter.Serialize(Object graph, Header[] inHeaders, __BinaryWriter serWriter, Boolean fCheck) +410
   System.Runtime.Serialization.Formatters.Binary.BinaryFormatter.Serialize(Stream serializationStream, Object graph, Header[] headers, Boolean fCheck) +134
   System.Web.Util.AltSerialization.WriteValueToStream(Object value, BinaryWriter writer) +1577

[HttpException (0x80004005): Unable to serialize the session state. In 'StateServer' and 'SQLServer' mode, ASP.NET will serialize the session state objects, and as a result non-serializable objects or MarshalByRef objects are not permitted. The same restriction applies if similar serialization is done by the custom session state store in 'Custom' mode.]
   System.Web.Util.AltSerialization.WriteValueToStream(Object value, BinaryWriter writer) +1662
   System.Web.SessionState.SessionStateItemCollection.WriteValueToStreamWithAssert(Object value, BinaryWriter writer) +34
   System.Web.SessionState.SessionStateItemCollection.Serialize(BinaryWriter writer) +606
   System.Web.SessionState.SessionStateUtility.Serialize(SessionStateStoreData item, Stream stream) +239
   System.Web.SessionState.SessionStateUtility.SerializeStoreData(SessionStateStoreData item, Int32 initialStreamSize, Byte[]& buf, Int32& length) +72
   System.Web.SessionState.OutOfProcSessionStateStore.SetAndReleaseItemExclusive(HttpContext context, String id, SessionStateStoreData item, Object lockId, Boolean newItem) +87
   System.Web.SessionState.SessionStateModule.OnReleaseState(Object source, EventArgs eventArgs) +560
   System.Web.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +68
   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +75` 
```

我确信文件上传控制和会话有问题。但是请指导正确的方向我该怎么办？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:17:57.170

通过查看异常，可能 SessionMode 设置为 SQLServer 或 StateServer ，将其更改为 InProc 并查看其是否有效。如果它有效，则意味着您在后端存储中的会话持久性不起作用，因此也请检查一下或发布代码，以便我们可以深入了解该问题。

# c++ - 带参数的构造函数初始化

> ID：15564816
> 
> 赞同：2
> 
> 时间：2013-03-22T07:15:46.927
> 
> 标签：c++, class, constructor

阅读 Andrew Koenig 和 Barbara E. Moo 的“Accelerated C++”的另一个问题，我在关于构造函数（5.1）的章节，使用[前面](https://stackoverflow.com/questions/15564319/constructor-initialization/15564419#15564419)的例子。

他们写

> 我们要定义两个构造函数：第一个构造函数不带参数并创建一个空`Student_info`对象；第二个引用输入流并通过从该流中读取学生记录来初始化对象。

导致使用`Student_info::Student_info(istream& is) {read(is);}`作为第二个构造函数的例子

> 将实际工作委托给 read 函数。[...] read 立即赋予这些变量新的值。

`Student_info`班级是

```
class Student_info {
public:
    std::string name() const (return n;}
    bool valid() const {return !homework.empty();}
    std::istream& read(std::istream&);

    double grade() const;
private:
    std::string n;
    double midterm, final;
    std::vector<double> homework;
}; 
```

既然`read`已经定义为`Student_info`类下的函数，**为什么还要使用第二个构造函数**——这不是双重工作吗？为什么不只使用默认构造函数，然后使用函数，因为两者都已经定义了？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T07:33:03.570

相反，它不是双重工作，它简化了实例化类的调用者的对象初始化

如果您每次必须使用单个构造函数创建类

```
std::istream is = std::cin;
Student_info si();
si.read(is);
// si.foo();
// si.bar();
// si.baz(); 
```

也许可以添加一些其他可以在构造函数中完成的操作。所以当你需要实例化类时，你不必再次编写它们。如果您创建 10 个实例，则必须编写

( 10 -1 = ) 还有 9 行，这对于 OOP 来说不是一个好方法

```
Student_info::Student_info(istream& is) 
{
    read(is);
    //foo();
    //bar();
    //baz();
} 
```

但是当你像上面那样定义两个构造函数时，你可以使用像这样的类

```
std::istream is = std::cin;
Student_info si(is); 
```

OOP 的主要目标之一是编写可重用而非自我重复的代码，另一个目标是[关注点分离](http://en.wikipedia.org/wiki/Separation_of_concerns)。在许多情况下，实例化对象的人不需要知道类的实现细节。

在您的示例`read`函数上，当它在构造函数中调用时，它可以是私有的。这给我们带来了 OOP[封装的另一个概念](http://en.wikipedia.org/wiki/Information_hiding)

最后，这不是双重工作，它是软件设计的好方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:17:23.967

> 我的问题是，既然 read 已经被定义为 Student_info 类下的一个函数，为什么还需要使用第二个构造函数——这不是双重工作吗？

第二个构造函数从调用者那里获取一个参数并将其传递给`read`函数。这允许您直接`Student_info`用实例化 a `std::istream`。

```
std::istream is = ....;
Student_info si(is); // internally calls read(is) 
```

与

```
std::istream is = ....;
Student_info si;
si.read(is);     // how could we use is if this call isn't made? Now we have to read some docs... 
```

> 为什么不只使用默认构造函数，然后使用函数，因为两者都已经定义了？

因为最好构造对象，使它们处于连贯的、有用的状态，而不是先构造它们，然后再初始化它们。这意味着对象的用户不必担心对象是否可以使用或必须先初始化。例如，此函数引用 a `Student_info`：

```
void foo(const Student_into& si)
{
  // we want to use si in a way that might require that it has been
  // initialized with an istream
  si.doSomethingInvolvingInputStream(); // Wait, what if the stream hasn't been read in? 
                                        // Now we need a means to check that!
} 
```

理想情况下，`foo`不必担心对象已“初始化”或生效。

# c++ - 编译器如何处理外部变量

> ID：15564818
> 
> 赞同：2
> 
> 时间：2013-03-22T07:15:48.300
> 
> 标签：c++, dll, extern

这可能是次要的，但我很好奇原因。

这来自我朋友的一个练习代码：

```
#include <iostream>

using namespace std ;
extern int* PPPP;

void main(){
    cout<<"*PPPP"<<*PPPP<<endl;
} 
```

错误地，PPPP 实际上没有在任何地方宣布。但奇怪的是，我们可以将它编译成一个静态库。但是，我们不能把它做成一个dll，有链接错误（未解决的外部sysmbol pppp）

我们猜测这是因为在制作静态库时，名称 PPPP（虽然是 extern）确实在内存中有一个空间，所以，这没有问题。

我们对此完全不确定。我们希望听到更多和准确的信息。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T07:18:51.363

静态库旨在链接到另一组文件，因此它可以包含未定义的符号，因为这些符号将在稍后阶段解决（或不解决，在这种情况下会出现链接器错误）。

然而，DLL 就像可执行文件一样，需要完全链接，因此不能包含任何未定义的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:18:17.473

我猜当它被制作成一个静态库时，链接器假定任何未解析的符号在完全链接时都可用。

如果您将该静态库链接到某个没有名为`PPPP`defined 的符号的程序，它将因链接器错误而失败。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:18:54.897

当你说：

```
extern int* PPPP; 
```

您承诺`PPPP`位于另一个翻译单元中的编译器。

链接器将尝试`PPPP`在它提供的目标文件和库中查找，如果找不到，它将发出错误。

# ios - 更改来自不同类的对象的值

> ID：15564823
> 
> 赞同：0
> 
> 时间：2013-03-22T07:16:08.647
> 
> 标签：ios, objective-c, cocoa-touch, cocoa

我有一个`ViewController.m`与一个`UIButton`和一个`UIWebView`就可以了。我已经子类化为`UIWebView`一个现在称为`MyWebView.m`.

从我想到的内部方法更改`UIButton`出口位置值的最有效方法是什么，但在我看来这是最糟糕的方法。`MyWebView.m``NSUserDefaults`

另一个想法是复制下一行并将其添加到里面`MyWebView.h`：

```
@property (weak, nonatomic) IBOutlet UIButton *myButton; 
```

并将其连接到按钮， `ViewController.m` 但我也不确定这是否是正确的做法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:38:15.017

从概念上讲，按钮标题代表什么？决定这一点，并将其作为 Web 视图的字符串属性公开，然后让视图控制器通过键值观察来观察属性。或者，使用您自己的协议扩展 UIWebViewDelegate，并将视图控制器设置为 Web 视图的委托。然后让 Web 视图通知其委托该值已更改。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-22T07:23:36.470

您可以使用应用程序委托类通过应用程序持久化数据，但优秀的程序员也不建议这样做。

另一种方法是使用 Singleton 类。这只会为每个应用程序会话创建一个对象，因此您可以在整个应用程序中使用该值，也可以修改和访问该值。这是纯粹的方法。你可以看看[http://www.galloway.me.uk/tutorials/singleton-classes/](http://www.galloway.me.uk/tutorials/singleton-classes/)

# jquery - 添加Jquery后DIV标签的内容

> ID：15564824
> 
> 赞同：0
> 
> 时间：2013-03-22T07:16:13.290
> 
> 标签：jquery

当我看到页面源时，我看不到 Jquery 添加的 div 标签的内容。

**这是代码**

```
<input type="button" id="add">
<div id="parent">

... 
...

</div> 
```

单击此处的按钮 id，从 myurl 获取一些内容，然后将内容附加到 div [parent] ，内容显示在 html 页面上，但当我看到页面源时不显示。

```
<script>
$('#add').click(function() {    

    $.ajax({
            url : 'myurl'

            success: function(data) {

             $("#parent").append(data);

            }       
          });
    return false; 
});
</script> 
```

**更新**

以下是来自 url 的示例数据，它被放置在名为 parent 的 div 中。

```
<div id="dynamic1">
      <a herf="#" id="makeithide">

</div>
<script>
     $('#makeithide').click(function() {
     $('#dynamic1').hide("slow");
     });
</script> 
```

我想在链接 makeithide 的点击事件中隐藏 div 动态。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:17:44.720

使用“查看源代码”时动态添加的内容不会显示，因为它不在源代码中，您需要使用控制台查看添加的元素（大多数浏览器中的 F12）。

# android - 从Android客户端写入WCF post json并将数据保存到sql server 2008

> ID：15564825
> 
> 赞同：0
> 
> 时间：2013-03-22T07:16:14.633
> 
> 标签：android, json, wcf

通过 WCF 服务发布数据时遇到问题。我已经托管了 wcf 服务并在我的 .net 网站上运行良好，但它不适用于我的 android 客户端，我无法理解发生了什么，谁能帮我解决这个问题？这是我的 android 和 wcf 代码：

WCF 服务：

```
[ServiceContract]
    public interface IService1
    {
        [OperationContract]
        string GetData(int value);

        [OperationContract]
        [WebInvoke(Method = "POST",
         ResponseFormat = WebMessageFormat.Json, RequestFormat=WebMessageFormat.Json, BodyStyle = WebMessageBodyStyle.Bare,UriTemplate = "insert")]
         string InsertUserDetails(UserDetails userInfo);
    }     

 public class UserDetails
    {
        string username = string.Empty;
        string fname = string.Empty;
        string lname = string.Empty;
        string loc = string.Empty;

        [DataMember]
        public string UserName
        {
            get { return username; }
            set { username = value; }
        }
        [DataMember]
        public string FirstName
        {
            get { return fname; }
            set { fname = value; }
        }
        [DataMember]
        public string LastName
        {
            get { return lname; }
            set { lname = value; }
        }
        [DataMember]
        public string Location
        {
            get { return loc; }
            set { loc = value; }
        }

    }

namespace CRUDWCFService
{
    // NOTE: If you change the class name "Service1" here, you must also update the reference to "Service1" in Web.config and in the associated .svc file.
    public class Service1 : IService1
    {
        public string GetData(int value)
        {
            return string.Format("You entered: {0}", value);
        }

        public CompositeType GetDataUsingDataContract(CompositeType composite)
        {
            if (composite.BoolValue)
            {
                composite.StringValue += "Suffix";
            }
            return composite;
        }

         public string InsertUserDetails(UserDetails userInfo)
        {
            string Message;
            SqlConnection con = new SqlConnection("Data Source=192.168.1.99;Initial Catalog=database;User ID=sa;Password=zaeveypws21");
            con.Open();
            SqlCommand cmd = new SqlCommand("insert into UserInformation(UserName,FirstName,LastName,Location) values(@UName,@FName,@LName,@Location)", con);
            cmd.Parameters.AddWithValue("@UName", userInfo.UserName);
            cmd.Parameters.AddWithValue("@FName", userInfo.FirstName);
            cmd.Parameters.AddWithValue("@LName", userInfo.LastName);
            cmd.Parameters.AddWithValue("@Location", userInfo.Location);

            int result = cmd.ExecuteNonQuery();
            if (result == 1)
            {
                Message = userInfo.UserName + " Details inserted successfully";
            }
            else
            {
                Message = userInfo.UserName + " Details not inserted successfully";
            }
            con.Close();
            return Message;
        }
    }
    } 
```

这是我的安卓代码：

```
public void addListenerOnButton() {

        Button btnCreateProduct = (Button) findViewById(R.id.btnInsert);

        btnCreateProduct.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                try {

                    Editable UserName = inputUName.getText();
                    Editable FirstName = inputFName.getText();
                    Editable LastName = inputLName.getText();
                    Editable Location = inputLoc.getText();

                    boolean isValid = true;

                    if (isValid) {

                        // POST request to <service>/insert
                        HttpPost request = new HttpPost("http://192.168.1.99/wcfinsert/Service1.svc/insert");
                        request.setHeader("Accept", "application/json");
                        request.setHeader("Content-type", "application/json");

                        // Build JSON string
                        JSONStringer userInfo = new JSONStringer().object()
                                .key("userInfo").object().key("UserName")
                                .value(UserName).key("FirstName")
                                .value(FirstName).key("LastName")
                                .value(LastName).key("Location")
                                .value(Location).endObject().endObject();
                        StringEntity entity = new StringEntity(userInfo.toString());

                        request.setEntity(entity);

                        // Send request to WCF service
                        DefaultHttpClient httpClient = new DefaultHttpClient();
                        HttpResponse response = httpClient.execute(request);

                        Log.d("WebInvoke", "Saving : "
                                + response.getStatusLine().getStatusCode());

                    }

                } catch (Exception e) {
                    e.printStackTrace();
                }

            }
        });

    } 
```

我的日志是：

```
03-22 12:23:55.397: D/dalvikvm(115): GC_EXTERNAL_ALLOC freed 424 objects / 21160 bytes in 233ms
03-22 12:24:01.748: D/WebInvoke(305): Saving : 415
03-22 12:26:43.081: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-28T19:28:49.817

将以下内容添加到清单中

```
<uses-permission android:name="android.permission.INTERNET"></uses-permission> 
```

[https://stackoverflow.com/a/8937348](https://stackoverflow.com/a/8937348)

[https://stackoverflow.com/a/8307257/3366280](https://stackoverflow.com/a/8307257/3366280)

# android - 地图不显示？

> ID：15564837
> 
> 赞同：1
> 
> 时间：2013-03-22T07:17:19.010
> 
> 标签：android, nutiteq

我正在使用 nutiteq 地图，我制作了一个运行良好的简单 hello 地图示例，但是当我应用 cloude 制作的地图时，地图没有显示我的代码如下：-

```
public class EastWoodLogin extends Activity {
private BasicMapComponent mapComponent;
private String userid="";

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.eastwoodlogin);
    Log.enableAll();
    Log.setLogger(new AndroidLogger("myapp"));

    mapComponent = new BasicMapComponent("tutorial", new AppContext(this),
            1, 1, new WgsPoint(28.635308000000000000,77.224960000000010000), 10);
     //mapComponent.setMap(OpenStreetMap.MAPNIK);//when use this work fine

 // userId for CloudMade token auth
    TelephonyManager telephonyMgr = (TelephonyManager)
    this.getSystemService(Context.TELEPHONY_SERVICE);
    this.userid = telephonyMgr.getSubscriberId();

  mapComponent.setMap(new CloudMade("0edfc04001d84f2d98fef6e9744241cf", userid, 256, 1));// when use this map is not showing
    mapComponent.setPanningStrategy(new ThreadDrivenPanning());
    mapComponent.startMapping();

    // get the mapview that was defined in main.xml
    MapView mapView = (MapView) findViewById(R.id.mapview);

    // mapview requires a mapcomponent
    mapView.setMapComponent(mapComponent);

    ZoomControls zoomControls = (ZoomControls) findViewById(R.id.zoomcontrols);
    // set zoomcontrols listeners to enable zooming
    zoomControls.setOnZoomInClickListener(new View.OnClickListener() {
        public void onClick(final View v) {
            mapComponent.zoomIn();
        }
    });
    zoomControls.setOnZoomOutClickListener(new View.OnClickListener() {
        public void onClick(final View v) {
            mapComponent.zoomOut();
        }
    });

 // GPS Location
    final LocationSource locationSource = new AndroidGPSProvider(
   (LocationManager) getSystemService(Context.LOCATION_SERVICE), 1000L);
    Bitmap icon = BitmapFactory.decodeResource(getResources(),
            R.drawable.icon); 
   final LocationMarker marker = new NutiteqLocationMarker(new PlaceIcon(Image
                       .createImage(icon), icon.getWidth()/2, icon.getHeight()/2), 3000, true);
   locationSource.setLocationMarker(marker);
   mapComponent.setLocationSource(locationSource);

   mapComponent.addKmlService(new KmlUrlReader(
           "http://www.panoramio.com/panoramio.kml?LANG=en_US.utf8&", true));
} 
```

}

请任何人指导我在哪里我错了提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T15:26:58.867

您使用的版本存在错误 - 它尝试发出 HTTP POST 请求，但 CloudMade 不接受它们。大多数其他来源没有这个问题。[从http://www.nutiteq.com/beta/lib/android_maps_lib-1.1.2a.jar](http://www.nutiteq.com/beta/lib/android_maps_lib-1.1.2a.jar)下载固定版本，它修复了吗？

# django - 仅当用户输入错误密码 3 次时才在 Django 中显示验证码？

> ID：15564841
> 
> 赞同：3
> 
> 时间：2013-03-22T07:17:29.993
> 
> 标签：django, recaptcha

我有一个这样的登录视图：

```
def login_backend(request):
    if request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(username=username, password=password)
        state = "Username or Password Incorrect!"
        if user is not None:
            login(request, user)
            return HttpResponseRedirect('/overview/')
        else:
            captcha = CaptchaField()
            return render_to_response('login_backend.html', {'state':state, 
                                                       'captcha':captcha }, context_instance=RequestContext(request))
    else:
        return render_to_response('login_backend.html', context_instance=RequestContext(request)) 
```

现在，如果用户多次出错，则会显示验证码。但是，我只想在用户输入错误密码超过 3 次时才显示验证码。我想我可以跟踪用户尝试，如果`attempt > 3`，我可以显示验证码，但我不知道如何实现它。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:52:45.180

您可以通过`attempt`这种方式在会话数据中设置变量：

```
request.session['attempt'] = 1 
```

并将 session 用作常规字典，这意味着使用诸如

```
if 'attempt' in request.session: 
```

# python - 本地运行 Scrapy 中的所有蜘蛛

> ID：15564844
> 
> 赞同：17
> 
> 时间：2013-03-22T07:17:42.047
> 
> 标签：python, web-crawler, scrapy

有没有办法在不使用 Scrapy 守护进程的情况下运行 Scrapy 项目中的所有蜘蛛？曾经有一种方法可以使用 运行多个蜘蛛`scrapy crawl`，但是删除了该语法，并且 Scrapy 的代码发生了很大变化。

我尝试创建自己的命令：

```
from scrapy.command import ScrapyCommand
from scrapy.utils.misc import load_object
from scrapy.conf import settings

class Command(ScrapyCommand):
    requires_project = True

    def syntax(self):
        return '[options]'

    def short_desc(self):
        return 'Runs all of the spiders'

    def run(self, args, opts):
        spman_cls = load_object(settings['SPIDER_MANAGER_CLASS'])
        spiders = spman_cls.from_settings(settings)

        for spider_name in spiders.list():
            spider = self.crawler.spiders.create(spider_name)
            self.crawler.crawl(spider)

        self.crawler.start() 
```

但是一旦一个蜘蛛注册了`self.crawler.crawl()`，我就会得到所有其他蜘蛛的断言错误：

```
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/scrapy/cmdline.py", line 138, in _run_command
    cmd.run(args, opts)
  File "/home/blender/Projects/scrapers/store_crawler/store_crawler/commands/crawlall.py", line 22, in run
    self.crawler.crawl(spider)
  File "/usr/lib/python2.7/site-packages/scrapy/crawler.py", line 47, in crawl
    return self.engine.open_spider(spider, requests)
  File "/usr/lib/python2.7/site-packages/twisted/internet/defer.py", line 1214, in unwindGenerator
    return _inlineCallbacks(None, gen, Deferred())
--- <exception caught here> ---
  File "/usr/lib/python2.7/site-packages/twisted/internet/defer.py", line 1071, in _inlineCallbacks
    result = g.send(result)
  File "/usr/lib/python2.7/site-packages/scrapy/core/engine.py", line 215, in open_spider
    spider.name
exceptions.AssertionError: No free spider slots when opening 'spidername' 
```

有没有办法做到这一点？我宁愿不开始子类化核心 Scrapy 组件只是为了像这样运行我所有的蜘蛛。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2014-12-14T16:58:13.003

你为什么不使用类似的东西：

```
scrapy list|xargs -n 1 scrapy crawl 
```

?

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-03-22T21:48:46.210

这是一个不在自定义命令中运行的示例，而是手动运行 Reactor 并[为每个蜘蛛](http://doc.scrapy.org/en/latest/topics/practices.html#running-multiple-spiders-in-the-same-process)创建一个新的 Crawler ：

```
from twisted.internet import reactor
from scrapy.crawler import Crawler
# scrapy.conf.settings singlton was deprecated last year
from scrapy.utils.project import get_project_settings
from scrapy import log

def setup_crawler(spider_name):
    crawler = Crawler(settings)
    crawler.configure()
    spider = crawler.spiders.create(spider_name)
    crawler.crawl(spider)
    crawler.start()

log.start()
settings = get_project_settings()
crawler = Crawler(settings)
crawler.configure()

for spider_name in crawler.spiders.list():
    setup_crawler(spider_name)

reactor.run() 
```

您将不得不设计[一些信号系统](http://doc.scrapy.org/en/latest/topics/signals.html)来在所有蜘蛛完成后停止反应堆。

编辑：这是您可以在自定义命令中运行多个蜘蛛的方法：

```
from scrapy.command import ScrapyCommand
from scrapy.utils.project import get_project_settings
from scrapy.crawler import Crawler

class Command(ScrapyCommand):

    requires_project = True

    def syntax(self):
        return '[options]'

    def short_desc(self):
        return 'Runs all of the spiders'

    def run(self, args, opts):
        settings = get_project_settings()

        for spider_name in self.crawler.spiders.list():
            crawler = Crawler(settings)
            crawler.configure()
            spider = crawler.spiders.create(spider_name)
            crawler.crawl(spider)
            crawler.start()

        self.crawler.start() 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2015-08-19T07:11:39.027

@Steven Almeroth 的答案将在 Scrapy 1.0 中失败，您应该像这样编辑脚本：

```
from scrapy.commands import ScrapyCommand
from scrapy.utils.project import get_project_settings
from scrapy.crawler import CrawlerProcess

class Command(ScrapyCommand):

    requires_project = True
    excludes = ['spider1']

    def syntax(self):
        return '[options]'

    def short_desc(self):
        return 'Runs all of the spiders'

    def run(self, args, opts):
        settings = get_project_settings()
        crawler_process = CrawlerProcess(settings) 

        for spider_name in crawler_process.spider_loader.list():
            if spider_name in self.excludes:
                continue
            spider_cls = crawler_process.spider_loader.load(spider_name) 
            crawler_process.crawl(spider_cls)
        crawler_process.start() 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-05-11T23:25:22.813

此代码适用于我的 scrapy 版本为 1.3.3（将其保存在 scrapy.cfg 的同一目录中）：

```
from scrapy.utils.project import get_project_settings
from scrapy.crawler import CrawlerProcess

setting = get_project_settings()
process = CrawlerProcess(setting)

for spider_name in process.spiders.list():
    print ("Running spider %s" % (spider_name))
    process.crawl(spider_name,query="dvh") #query dvh is custom argument used in your scrapy

process.start() 
```

对于scrapy 1.5.x（所以你不会收到弃用警告）

```
from scrapy.utils.project import get_project_settings
from scrapy.crawler import CrawlerProcess

setting = get_project_settings()
process = CrawlerProcess(setting)

for spider_name in process.spider_loader.list():
    print ("Running spider %s" % (spider_name))
    process.crawl(spider_name,query="dvh") #query dvh is custom argument used in your scrapy

process.start() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-02T17:56:01.973

Linux 脚本

```
#!/bin/bash
for spider in $(scrapy list)
do
scrapy crawl "$spider" -o "$spider".json
done 
```

# python - subprocess.wait() 的返回码有多少种

> ID：15564850
> 
> 赞同：1
> 
> 时间：2013-03-22T07:18:05.450
> 
> 标签：python, hadoop, subprocess

我对用于将文件从服务器复制到 hadoop 的 python-file 感到非常困惑。

cmd是：`hadoop fs -put /localhost/* /hadoop/*` 代码是：

```
 cmd = exc_path + ' ' + 'fs -put' + ' ' + src_path + item + ' ' + dst_path
    process = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE)
    code = process.wait()
    logfile.info('type(code) is %s, code is %s\n', type(code), code) 
```

这几天运行正常。但是前天它返回`code!=0` 然后昨天，它运行正常，`code == 0`然后今天它失败并返回：`type(code) is <type 'int'>, code is 255`

文档说`wait()`应该返回 0 或 None，那么为什么我会得到 255？并且 hadoop 的 cmd 'put' 应该返回 0（成功时）和 -1（失败时）。

我发现了一些有用的信息：“遗憾的是，当使用 shell=True 运行子进程时，wait() 只会等待 sh 子进程完成，而不是等待命令 cmd。” [从](https://stackoverflow.com/questions/6341358/subprocess-wait-not-waiting-for-popen-process-to-finish-when-using-threads)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T07:36:47.273

> 文档说 wait() 应该返回 0 或 None，但为什么我得到 255。

这是错误的。文档说：

*Popen.wait() 等待子进程终止。设置并返回 returncode 属性。*

和

*Popen.returncode 子返回码，由 poll() 和 wait() 设置（间接由communicate() 设置）。None 值表示该进程尚未终止。负值 -N 表示子进程被信号 N 终止（仅限 Unix）。*

如果命令以非零退出代码退出，那么您将得到它。

> hadoop 的 cmd 'put' 应该返回 0（成功时）和 -1（失败时）。

这个为什么你得到 `255`相当的解释很简单，[在这里](http://en.wikipedia.org/wiki/Exit_status)和[这里](https://stackoverflow.com/questions/2726447/why-is-the-exit-code-255-instead-of-1-in-perl)`-1`已经解释 过了。基本上这是由于 Java 允许有符号的 32 位值作为退出代码（我们为 -1），但 Posix 退出状态是无符号的 8 位值。

总而言之，非零退出代码将告诉您命令失败。如果要检查特殊退出代码，当代码不在 0-255 范围内时必须特别小心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:33:35.113

返回码 255 表示 Hadoop 进程以`-1`返回码退出（*为什么*我不知道）。

原因`wait()`不给你 -1 是因为负数是为子进程因信号而退出的情况保留的（如果它由于信号 11 而退出，则返回码将是 -11）。

# c - sprintf 制作一堆文件名

> ID：15564853
> 
> 赞同：1
> 
> 时间：2013-03-22T07:18:15.020
> 
> 标签：c, printf

我正在尝试使用 sprintf 来制作一堆代表文件名的字符串。这些文件将被命名为 1, 2, 3, 4, 5, ... 但是当我这样做时，我得到了一些奇怪的错误。for 循环只打印出第一轮。输出如下所示： str: 1.xlxs i: 7567468

```
char str[3];
int i;

for(i = 0; i < FILES; i++){
    sprintf(str, "%d%s", i+1, ".xlxs");
printf("str: %s\n", str);
    printf("i: %i\n", i);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T07:19:26.927

`str[3]`缓冲区太小，无法容纳数据 ( ) `"1.xlxs"`。它至少`str[7]`应该保存字符串和一个空字节。

如果缓冲区太小，则会出现缓冲区溢出：

[http://en.wikipedia.org/wiki/Stack_buffer_overflow](http://en.wikipedia.org/wiki/Stack_buffer_overflow)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:21:01.830

您在 中保留的空间太少`str`。您需要一个字符用于`i`， 5 用于扩展名`".xlxs"`，另一个用于尾随`\0`，因此声明`str`如下：

```
char str[7]; 
```

适合你的字符串。因为，如果缓冲区太小，`printf`则无法找到`\0`并将打印它找到的任何数据，直到出现`\0`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:22:30.710

进行此修改，您就可以开始了。

```
#define FILES 3   

char str[FILES][7];
int i;

for(i = 0; i < FILES; i++)
{
    sprintf(str[i], "%d%s", i+1, ".xlxs");
    printf("str: %s\n", str[i]);
    printf("i: %i\n", i);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T07:21:19.303

您的`str`缓冲区只有 3 个字符长，但您尝试放入其中的字符串要大得多。它之所以有效，是因为您碰巧能够在这种情况下注销数组的末尾而不会发生任何不好的事情。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T07:29:28.333

在您的情况下，使用它会更安全：

```
snprintf(str, sizeof(str), "%d%s", i+1, ".xlxs"); 
```

这将确保您不会超出字符数组的限制。

具体来说，您至少`char[7]`需要持有`"1.xlxs\0"`.

# r - R中的QZ分解

> ID：15564859
> 
> 赞同：1
> 
> 时间：2013-03-22T07:18:44.667
> 
> 标签：r

我实际上是在尝试在 R 中执行广义 SCHUR 分解。看起来包 MATRIX 只执行通常的 SCHUR 分解。我想知道是否有其他软件包可以做到这一点。我在一些博客中读到，我们实际上可以在 R 中调用 lapack 函数（DGGES.f）。我不知道该怎么做，因为 DGGES 依赖于用户定义的另一个外部子例程（SELCTG）。

您的帮助将不胜感激。提前致谢

# app-store - 在 App Store 验证收据后如何获取用户信息？

> ID：15564864
> 
> 赞同：3
> 
> 时间：2013-03-22T07:19:08.320
> 
> 标签：app-store, in-app-purchase

我想在验证收据后在服务器端跟踪购买。

但是[苹果的收据](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/VerifyingStoreReceipts/VerifyingStoreReceipts.html)提供了除用户之外的所有信息。

那么获取未被篡改的用户数据的安全方法是什么呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:22:42.650

您将需要为其添加第三方工具。苹果不允许用户信息。

# java - 使用 JSOUP 删除重复的 elementText 值

> ID：15564870
> 
> 赞同：0
> 
> 时间：2013-03-22T07:19:45.057
> 
> 标签：java, jsoup

我在 JAVA 中使用 JSOUP DOM 解析器在URL [http://www.walmart.com/search/search-ng.do?tab_value=all&search_query=camera&search_constraint=0&Find=Find&ss=false&ic=16_32报废沃尔玛页面。](http://www.walmart.com/search/search-ng.do?tab_value=all&search_query=camera&search_constraint=0&Find=Find&ss=false&ic=16_32)

我正在基于用户参数构建 URL 并使用构建 DOM 对象

```
Document doc = Jsoup.parse(contentVar); 
```

对于下一步，我想打印所有产品/价格。我使用了以下代码：

```
String price = doc.getElementsByClass("camelPrice").text();
String title = doc.getElementsByClass("ListItemLink").text();       
System.out.println("Product: " + title);
System.out.println("Price: "+ price); 
```

在这里，我使用价格和产品描述的标签。但是我的结果是：

```
标题/产品名称：C1, C2, ... C16（c 是相机标题）
价格：$ 279.95 $ 279.95 $ 479.00 $ 479.00 $ $ 60.00 $ 60.00 $ 99.00 $ 99.00 429.00 $ 429.00 $ 129.00 $ 129.00 $ 109.00 $ 109.00 $ 89.00 $ 89.00 $ 384.00 $ 384.00 $ $ 69.00 $ 69.00 279.00 $ 279.00 $ 129.00 $ 129.00 $ 55.20  -  $ $ 69.00 55.20  -  $ $ 69.00：74.00 $：74.00 $ $ 119.00 119.00

```

由于可能的快速查看标签，此处的价格重复。有没有办法使用任何 JSOUP 方法来消除价格的重复

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:31:09.620

好吧，看到 html dom，我注意到在有价格的意义上存在重复

```
<div class="ItemShelfAvail">     <----------- SEE HERE
<div class="OnlinePriceAvail">
<div class="PriceHeader OnlineHead">Online</div>
<div class="PriceContent">
<div class="PriceDisplay" id="price_display_23204350_2">
<div class="PriceCompare">
<div class="camelPrice"><span class="prefixPriceText2"></span><span class="bigPriceText2">$279.</span><span class="smallPriceText2">00</span><span></span></div> 
```

和一个价格

```
<div class="OnlinePriceAvail">
<div class="PriceHeader OnlineHead">Online</div>
<div class="PriceContent">
<div class="PriceDisplay" id="price_display_23204350_2">
<div class="PriceCompare">
<div class="camelPrice"><span class="prefixPriceText2"></span><span class="bigPriceText2">$279.</span><span class="smallPriceText2">00</span><span></span></div> 
```

您必须从两者中查看您想要的列表，然后放置适当的选择器。如果您想要它们两个，只需获取 getElementsByClass 返回的元素列表并操纵每个价格。

getElementsByClass 返回 Elements，这是一个列表，其中每个节点都是 Element 类型。你可以做

```
Elements elPrice = doc.getElementsByClass("camelPrice"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-02T18:50:05.703

我知道这对线程的创建者现在可能没用，但我在查看如何在英国亚马逊上查找产品价格时发现了这一点。

```
String pricing = doc.getElementsByClass("priceLarge").text();
System.out.println("price : " + pricing); 
```

这是执行此操作的代码:)

# xslt - 删除点后的值

> ID：15564872
> 
> 赞同：3
> 
> 时间：2013-03-22T07:20:03.170
> 
> 标签：xslt

我想删除点之后的零或任何其他值（例如 12.000000000000）。我正在使用 xslt 代码。我的代码就像

```
<xsl:if test="value!= ''">
 <tr>
 <td>
 value
 </td>
 <td>
 <xsl:value-of select="value"/>
  </td>
 </tr>
 </xsl:if> 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:40:07.163

```
Use Number formatting as:
<xsl:if test="value!= ''">
 <tr>
  <td>
    value
  </td>
  <td>
   <xsl:value-of select="format-number(value,'0')"/>
  </td>
 </tr>
</xsl:if> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:45:58.317

您可以使用格式编号功能：

```
<xsl:value-of select="format-number(value,'#')"/> 
```

参考： [http ://www.w3.org/TR/xslt/#format-number](http://www.w3.org/TR/xslt/#format-number)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T15:04:18.000

**只需使用**：

```
substring-before(concat(value, '.'), '.') 
```

这适用于任何值——不仅仅是一个数字。即使`value`不包含任何点字符，结果也是正确的。

# spring - Spring MVC模型属性值不打印

> ID：15564874
> 
> 赞同：2
> 
> 时间：2013-03-22T07:20:07.177
> 
> 标签：spring, jsp, spring-mvc

我刚开始学习spring mvc。尝试遵循 hello world 示例。一切似乎都工作正常，除了 jsp 视图无法接收控制器中设置的模型属性值。

这是一些代码。

控制器：

```
package org.home.webapp.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

@Controller
@RequestMapping("/welcome")
public class HelloController {

@RequestMapping(method = RequestMethod.GET)
public String printWelcome(ModelMap model) {

    model.addAttribute("message", "Spring 3 MVC Hello World");
    return "hello";

}
} 
```

看法

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "    http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Hello World</title>
</head>
<body>
<h1>Message : ${message}</h1>
</body>
</html> 
```

web.xml

```
<!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.5//EN"
 "http://java.sun.com/dtd/web-app_2_5.dtd" >

 <web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee     http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" 
 version="2.5" xmlns="http://java.sun.com/xml/ns/javaee">

<display-name>Spring MVC Web Application</display-name>

<servlet>
    <servlet-name>mvc-dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>mvc-dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/mvc-dispatcher-servlet.xml</param-value>
</context-param>

<listener>
    <listener-class>
                  org.springframework.web.context.ContextLoaderListener
            </listener-class>
</listener>
</web-app> 
```

mvc-调度程序-servlet.xml

```
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="
    http://www.springframework.org/schema/beans     
    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.2.xsd">

<context:component-scan base-package="org.home.webapp.controller" />

<bean
    class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix">
        <value>/WEB-INF/pages/</value>
    </property>
    <property name="suffix">
        <value>.jsp</value>
    </property>
</bean>

</beans> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-10-20T21:01:39.663

使用 <%@ page isELIgnored="false" %> 有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-05T08:37:37.183

您可以使用`<th:block th:text="${your_attribut_name}"/>`

示例控制器

```
@RequestMapping(method = RequestMethod.GET)
public String printWelcome(ModelMap model) {
      model.addAttribute("message", "Spring 3 MVC Hello World");
      return "hello";
} 
```

看法

```
<h1>Message : <th:block th:text="${message}"/></h1> 
```

输出

```
Message : Spring 3 MVC Hello World 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-23T15:02:29.650

使用以下代码解决了我的问题，可能对您有帮助

Web.xml

```
<web-app id="WebApp_ID" version="2.4" 
xmlns="http://java.sun.com/xml/ns/j2ee" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee 
http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"> .....<web-app> 
```

spring-servlet.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xsi:schemaLocation="  
    http://www.springframework.org/schema/beans  
    http://www.springframework.org/schema/beans/spring-beans.xsd  
    http://www.springframework.org/schema/context  
    http://www.springframework.org/schema/context/spring-context.xsd  
    http://www.springframework.org/schema/mvc  
    http://www.springframework.org/schema/mvc/spring-mvc.xsd">...</beans> 
```

还添加了以下依赖项

```
 <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.2</version>
    </dependency> 
```

试试这个改变可能对你有用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-19T08:50:34.333

我们需要包含 org.springframework.web.servlet.ModelAndView 而不是 org.springframework.web.portlet.ModelAndView；

```
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class HelloWorldController {

    @RequestMapping("/hello")
    public ModelAndView hello()
    {
        System.out.println("Just Test iNside");
        String message = "HELLO SPRING MVC HOW R U";  
        return new ModelAndView("hello", "message", message);  
    } 
```

# python - 正则表达式：最多匹配一个单词或最大数量的单词

> ID：15564876
> 
> 赞同：5
> 
> 时间：2013-03-22T07:20:27.277
> 
> 标签：python, regex

我想查找一个短语，最多匹配几个单词，但如果我找到另一个特定的短语，请尽早停止。

例如，我想匹配“going to the”之后最多三个单词，但如果遇到“to try”则停止匹配过程。因此，例如“going to the luna park”将导致“luna park”；“going to the capital city of Peru”将产生“capital city of”，“going to the moon to try some cheesecake”将产生“moon”。

可以用一个简单的正则表达式（最好在 Python 中）来完成吗？我已经尝试了所有我能想到的组合，但惨遭失败:)。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T07:46:45.883

这个匹配最多 3 个 ( `{1,3}`) 单词`going to the`，只要它们后面没有 try ( `(?!to try)`)：

```
import re
infile = open("input", "r")
for line in infile:
    m = re.match("going to the ((?:\w+\s*(?!to try)){1,3})", line)
    if m:
        print m.group(1).rstrip() 
```

**输出**

```
luna park
capital city of
moon 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-22T07:28:07.590

我认为您正在寻找一种从句子中提取专有名词的方法。您应该查看 NLTK 以获得正确的方法。正则表达式只能对有限的上下文无关语法有所帮助。另一方面，您似乎要求能够解析非平凡的人类语言（对于计算机）。

# php - Laravel Eloquent 多对多附加

> ID：15564878
> 
> 赞同：6
> 
> 时间：2013-03-22T07:20:35.983
> 
> 标签：php, mysql, laravel

我是 laravel 的新手，并试图用它建立一个相册。我的问题是我使用附加功能将用户 ID 和组 ID 插入到我的数据库中，它可以正常工作，但是在文档中它说明了附加功能

> 例如，您希望附加给用户的角色可能已经存在。只需使用附加方法：

所以我想以同样的方式使用它，如果`album_id`已经存在就更新它，否则插入新的，但我的问题是它总是插入，它不检查是否`album_id`已经存在

我的模型

```
class User extends Eloquent 
{
    public static $timestamps = false;

    public function album()
    {
        return $this->has_many_and_belongs_to('album', 'users_album');
    }

} 
```

发布功能

```
public function post_albums()
    {

      $user = User::find($this->id);

      $album_id = Input::get('album');

      $path = 'addons/uploads/albums/'.$this->id.'/'. $album_id . '/';

      $folders = array('path' => $path, 'small' => $path. 'small/', 'medium' => $path. 'medium/',  );

      if (! is_dir($path) ) 
      {
         foreach ($folders as $folder) 
         {
            @mkdir($folder, 0, true);
         }
      }

     $sizes = array( 
        array(50 , 50 , 'crop', $folders['small'], 90 ), 
        array(164 , 200 , 'crop', $folders['medium'], 90 ), 
     );

     $upload = Multup::open('photos', 'image|max:3000|mimes:jpg,gif,png',  $path)
             ->sizes( $sizes )
             ->upload();

     if($upload) 
     {
        $user->album()->attach($album_id);
        return Redirect::back();
     } 
     else 
     {
        // error show message remove folder
     }   

   } 
```

请有人指出我做错了什么？或者我完全误解了附加功能？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T19:34:28.047

我相信您误解了附加功能。同步函数使用 attach 来添加关系，但前提是关系不存在。按照那里所做的事情，我建议拉一个 id 列表，然后仅在列表中不存在它的情况下插入。

```
$current = $user->album()->lists( 'album_id' );
if ( !in_array( $album_id, $current ) )
{
    $user->album()->attach( $album_id );
} 
```

在旁注中，我将建议您遵循 laravel 的默认命名约定。关系方法应该是 $user->albums() 因为它们很多。数据透视表也应该命名为“album_user”。以后你会感谢自己的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-29T12:47:20.607

**[包含 Laravel 集合的方法](http://laravel.com/api/4.2/Illuminate/Database/Eloquent/Collection.html#method_contains)**

laravel 集合提供了一个非常有用的方法“包含”。它确定集合中是否存在键。您可以使用`$user->album`. 您可以注意到专辑没有括号的区别。

**工作代码**

现在您所要做的就是使用该`contains`方法。完整的代码将是。

```
if (!$user->album->contains($album_id)
{
   $user->album()->attach($album_id);
} 
```

它是获得所需解决方案的更清洁和“Laravel”的方式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-23T06:39:16.353

谢谢@Collin 我注意到我误解了我昨天做了检查

```
$album = $user->album()->where_album_id($album_id)->get();

        if(empty($album))
        {
           $user->album()->attach($album_id);
        } 
```

# java - 在 Spring Data Neo4j 中实现延迟加载

> ID：15564880
> 
> 赞同：1
> 
> 时间：2013-03-22T07:20:46.777
> 
> 标签：java, spring, neo4j, spring-data-neo4j

Spring Data Neo4j[没有延迟加载](https://stackoverflow.com/questions/8852491/lazy-eager-loading-fetching-in-neo4j-spring-data/8857533#8857533)。

无论如何，我想在我的项目中延迟加载。毕竟，如果我不能依靠它来实际获得我希望它每次都能获得的东西，那么拥有一个 getter 的真正意义何在？

因此，为了使我的域模型能够延迟加载，我正在考虑将它们注释为弹簧组件，并向我的 getter 添加逻辑，以便在我尝试访问它们时延迟加载字段。我知道这会将我的模型与neo4j 强耦合，但我宁愿拥有这种强耦合也不愿没有延迟加载。

不过，在我开始将我的所有模型转换为使用它之前，我想看看是否有人可以告诉我除了紧密耦合之外这样做有什么问题。Spring 数据不应该对我的模型也作为 Spring 组件有任何问题，对吧？如果我愿意，我可以引用我从应用程序上下文中获得的服务的静态实例（我已经有了静态引用，所以我不必让我的所有 Vaadin 前端类都成为弹簧组件。）你觉得这些更好用吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T13:49:43.897

我认为所谓的高级映射模式可以完成您想要完成的大部分工作。如果使用简单映射模式，所有数据都将被复制到实体中，并且在使用@Fetch 注解时将获取所有关系。高级映射模式使您的实体成为节点周围的一种包装器，并且仅在您明确寻址实体时才访问底层节点。这样一来，大量的数据就会被延迟加载。确保您在事务中处理您的实体，否则将为您进行的每个调用创建一个事务，从而影响您的性能。

有关此主题的大量重要信息，请参阅[参考文档](http://static.springsource.org/spring-data/data-neo4j/docs/current/reference/html/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-23T00:42:43.667

不透明，但仍然[偷懒](http://springinpractice.com/2011/12/28/initializing-lazy-loaded-collections-with-spring-data-neo4j/)。

```
template.fetch(person.getDirectReports()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-14T10:02:09.813

基于当前 neo4j 参考的一些更新 - [http://docs.spring.io/spring-data/neo4j/docs/current/reference/html/](http://docs.spring.io/spring-data/neo4j/docs/current/reference/html/)

@Fetch 是一个过时的注解

neo4jTemplate.fetch() 不可用，您应该指定深度 - [http://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#_api_changes](http://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#_api_changes)

# ios - 如何从 iPad 的 UIToolbar 中删除渐变？

> ID：15564882
> 
> 赞同：0
> 
> 时间：2013-03-22T07:20:54.813
> 
> 标签：ios, ipad, uitoolbar

我`UIToolbar`在 iPad App 中使用，如何从中删除渐变背景？下面是我的代码。

```
aToolbar.barStyle = UIBarStyleBlackTranslucent;
aToolbar.tintColor = [UIColor blackColor]; toolbar.alpha = 1.0; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T07:26:52.903

您需要在 UIToolbar 中设置图像，以便删除 Gradient。

我的建议是请设置图像并创建自定义 UItoolbar。

对于该代码如下。

```
 UIImage *gradientImage44 = [[UIImage imageNamed:@"imageName.png"] 
                                resizableImageWithCapInsets:UIEdgeInsetsMake(0, 0, 0, 0)];
    // Set the background image for *all* UINavigationBars
    [[UIToolbar appearance] setBackgroundImage:gradientImage44 
                                       forBarMetrics:UIBarMetricsDefault]; 
```

# c# - 通过使用 C# 更改端口值来获取特定的串行端口信息

> ID：15564885
> 
> 赞同：0
> 
> 时间：2013-03-22T07:21:02.593
> 
> 标签：c#, serial-port

我在表单加载事件中编写了以下代码。当表单被加载时，可用的串口被添加到组合框中。

```
 String[] ports = SerialPort.GetPortNames();    
private void Form1_Load(object sender, EventArgs e)
    {
        _serialPort = new SerialPort();
        foreach (string port in ports)
          {
            cbox.Items.Add(port);
          }
    } 
```

在下一步中，在组合框中 selectedindex_changed 事件中，当更改端口时，端口详细信息会在多行文本框中更新。

```
 private void cbox_SelectedIndexChanged(object sender, EventArgs e)
      {
          using (var searcher = new ManagementObjectSearcher("SELECT * FROM WIN32_SerialPort"))
          {
              var prts = searcher.Get().Cast<ManagementBaseObject>().ToList();
              var tList = (from n in ports
                           join p in prts on n equals p["DeviceID"].ToString()
                           select n + " - " + p["Caption"]).ToList();
              foreach (string s in tList)
              {
               mtxt.AppendText(s);  // multiline textbox
              }
          }
      } 
```

例如：在这个程序中，端口被添加到从（COM3 到 comX）的组合框中。但我的问题是无论我选择什么端口，它只返回组合框中第一个端口的详细信息（即它只返回 COM3 的详细信息）。请任何人帮助我获取我在组合框中选择的端口的详细信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:26:06.967

关注这里的讨论

[http://social.msdn.microsoft.com/Forums/en-US/winformsdesigner/thread/c236cac4-a954-4a70-882d-bc20e2cc6e81](http://social.msdn.microsoft.com/Forums/en-US/winformsdesigner/thread/c236cac4-a954-4a70-882d-bc20e2cc6e81)

阅读以下内容

> 我们无法通过 SerialPort 类型获取信息。我不知道您为什么在应用程序中需要此信息。但是，有一个已[解决](http://social.msdn.microsoft.com/forums/en-US/winforms/thread/c53b23a4-12c3-43ba-9127-b74450ab874a/)的 线程与您的问题相同。您可以在那里查看代码，看看它是否可以帮助您。

# java - 我可以使用“索引”作为 servlet 名称的名称吗？

> ID：15564889
> 
> 赞同：0
> 
> 时间：2013-03-22T07:21:22.493
> 
> 标签：java, eclipse, jsp, servlet-3.0, ibm-rad

我在 RAD Web Application 3.0 部署描述符编辑器中收到此错误：

> Servlet 映射（索引）：
> 
> Servlet 名称：该值不在可能的选择中

然后在我的标记下：

> 网络问题：
> 
> servlet 映射“索引”指的是未定义的 servlet
> 
> web.xml
> 
> /myweb/WebContent/WEB-INF
> 
> 未知的网络问题

我的 web.xml 如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app id="WebApp" version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
...
    <servlet>
        <display-name>index</display-name>
        <servlet-name>index</servlet-name>
        <jsp-file>/jsp/index.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>index</servlet-name>
        <url-pattern>/index</url-pattern>
    </servlet-mapping>
...
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
</web-app> 
```

想知道我在做什么错..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:47:17.177

Its possible to map your servlet to `/index`, but if you want it at the root address you need to map it at `/`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:54:03.000

我认为错误在您使用的 url 模式中

在欢迎文件列表名称处使用 /index

或者直接指定/jsp/index.jsp

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T08:14:02.440

我只是评论了声明，保存并重建了项目..然后它消失了..取消评论它们，似乎又好了..@.@一定是那些日子之一..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T09:25:15.887

首先，必须允许 index 的 servlet-name。

那么，您的 servlet 类位于何处？它在 src 目录中吗？

请确定。祝你好运！

# excel - 如何在 ms excel 中使用与美国和德国匹配的日期格式？

> ID：15564892
> 
> 赞同：0
> 
> 时间：2013-03-22T07:21:31.647
> 
> 标签：excel, vba

我有一个 Excel 报告，其中包含某些月份的销售详细信息。列标题的日期如下所示。

3/1/2009 4/1/2009 5/1/2009 6/1/2009 7/1/2009 8/1/2009 9/1/2009 10/1/2009 3375 2475 3600 5400 2925 0 2250 3150 3375 2475 3600 5400 2925 0 2250 3150

日期采用 mm/dd/yyyy 格式。现在，当我的德国用户打开报告时，日期变得一团糟。它变成了下面的那个；

2005 年 12 月 1 日 2006 年 12 月 1 日 2007 年 12 月 1 日 2008 年 12 月 1 日 3375 2475 3600 5400

这是因为它们具有 dd/mm/yyy 格式。有人可以帮助我使用宏，我可以在其中准备与我的美国和德国用户匹配的报告吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T10:02:02.643

你不能使用类似的东西：

```
 If MsgBox("German format?", vbYesNo) = vbYes Then

    Selection.NumberFormat = "dd.mm.yyyy;@"
    Else
    Selection.NumberFormat = "mm/dd/yyyy;@"

  End If 
```

# android - 如何在 OpenCv4Android 中实现 CV_MAT_ELEM(mat, elemtype, row, col)？

> ID：15564895
> 
> 赞同：1
> 
> 时间：2013-03-22T07:21:36.817
> 
> 标签：android, opencv

我正在尝试将用于相机校准的 OpenCv C++ 代码移植到 Android。在编写内部和外部矩阵时，我被 C++ **CV_MAT_ELEM(mat, elemtype, row, col)**中 OpenCv 函数的 java 方法所困扰，它允许我们访问二维多通道图像的各个元素。

请帮帮我，因为我成功地移植了其余的代码，只是卡在这里。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:06:39.910

我从以下链接中找到了答案 - [http://answers.opencv.org/question/5/how-to-get-and-modify-the-pixel-of-mat-in-java/](http://answers.opencv.org/question/5/how-to-get-and-modify-the-pixel-of-mat-in-java/)

# django - 在 Google App Engine 上部署 Django 项目

> ID：15564900
> 
> 赞同：4
> 
> 时间：2013-03-22T07:21:58.050
> 
> 标签：django, google-app-engine, python-2.7

我在 django1.4 和 python 2.7 中开发了一个示例项目，我想将它部署在谷歌应用引擎上，但是如何按照我们没有得到的 App Engine 配置我的项目。

我们有一个在谷歌应用引擎上运行的网站，但它包含所有 html、js。

我们如何在 google app engine 上配置一个数据库来部署我们的 django 项目？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-17T19:49:25.163

可能最好的选择是使用 Django Non-Rel。这是（据我所知）在 Google App Engine 上使用 Django ORM（django 数据库接口）而不使用 Google 昂贵的云 SQL 服务的唯一方法。为此，您需要使用自定义版本的 Django 并导入更多库。这是一个启动和运行的小项目，但值得付出努力。更多信息可以在这个网站上找到：

[http://django-nonrel.org/](http://django-nonrel.org/)

请注意，即使 django-nonrel 允许您使用 Django 数据库接口，它也**不允许**您使用某些 SQL 功能，例如连接。如果您需要加入，那么您最好的选择是使用 Google App Engine + Google Cloud SQL。[文档在这里](https://developers.google.com/appengine/docs/python/cloud-sql/django)。

关于评论：

*   是的，它可以在 Windows 上运行，我在 Windows 上运行它。
*   此外，网站 allbuttonspressed.com 已过时且已过时，请使用上述网站获取信息。

# java - Java 时钟独立于所有其他操作

> ID：15564902
> 
> 赞同：1
> 
> 时间：2013-03-22T07:22:09.003
> 
> 标签：java, clock

我正在尝试模拟实时数据流，以测试不断过滤和计算数据点的程序。主要是我需要确保它符合时机。

每 50 毫秒就会有一个需要计算的新数据点。

因此，我想创建一个独立于 jvm 中当前运行的内容或系统上发生的类似情况的 java 时钟。

所以我的问题有两个：

首先， System.currentTimeMillis() 不会是我想要的，因为它基于 jvm 的打开时间，并且会在系统调用执行时发生。

第二，我如何制作一个将不断运行并始终在 50 毫秒标记上准确触发的线程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:24:59.453

Timers 和 TimerTask 有很好的预定义机制（与纯线程相比）：

```
import java.util.Timer;
import java.util.TimerTask;

public class Reminder {
    Timer timer;

    public Reminder(int seconds) {
        timer = new Timer();
        timer.schedule(new RemindTask(), seconds*1000);
    }

    class RemindTask extends TimerTask {
        public void run() {
            System.out.format("Time's up!%n");
            timer.cancel(); //Terminate the timer thread
        }
    }

    public static void main(String args[]) {
        new Reminder(5);
        System.out.format("Task scheduled.%n");
    }
} 
```

（取自：[http](http://enos.itcollege.ee/~jpoial/docs/tutorial/essential/threads/timer.html) ://enos.itcollege.ee/~jpoial/docs/tutorial/essential/threads/timer.html ）

此机制允许您每 5 秒在 RemindTask 的 run() 方法中执行一次代码（该值在代码中指定）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:25:25.080

看一下[`ScheduledExecutorService`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html)，更具体的[`scheduleAtFixedRate()`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate%28java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit%29)方法。

它允许您定期执行操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:26:07.470

看看[ScheduledExecutorService](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html)。这是一个例子：

```
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);
scheduler.scheduleAtFixedRate(new Runnable() {
public void run() { 
    //New data point
}
}, 0, 50,TimeUnit.MILLISECONDS ); 
```

# java - 如何在 Spring 中映射请求参数？

> ID：15564906
> 
> 赞同：2
> 
> 时间：2013-03-22T07:22:36.390
> 
> 标签：java, spring, spring-mvc, spring-security

我正在使用弹簧 MVC。用户注册后，将向用户帐户发送一封电子邮件。

那工作正常..而且我还将加密的用户 ID 发送到用户电子邮件，为此我写了一个模板..

```
<bean id="activateAccountTemplate" class="org.springframework.mail.SimpleMailMessage">
    <property name="subject" value="Account activation" />
    <property name="text">
        <value>
        <![CDATA[
            <html><body><p>Dear %s</p><p>Click <a href="http://localhost:8080/EClass/home?a=%s">here</a> to activate your account.</p></body></html>
        ]]>
        </value>
    </property>
</bean> 
```

当用户收到电子邮件并单击以激活时... URL 像这样出现..

```
http://localhost:8080/EClass/home?a=tdpTA3Dz8DYSI+9F/DpMxmxGD/a1Kl+3oYqXc1NNH0U= 
```

我想得到这个加密的用户 ID，为此我正在编写方法..

```
 @Controller
public class HomeController {

    @RequestMapping(value="home", method=RequestMethod.GET)
    public String home(Model model) throws Exception {
        model.addAttribute(FormType.LOGIN.name(), FormType.LOGIN.getNewInstance());
        model.addAttribute(FormType.SIGNUP.name(), FormType.SIGNUP.getNewInstance());
        return "home";
    }

    @RequestMapping(value="active", method=RequestMethod.GET)
    public String active(@RequestParam("a") String activeCode) throws Exception {

        String userid = CryptUtil.decrypt(activeCode);
        System.out.println("User id Displayed ===="+userid);
        return "home";
    }   
} 
```

但是服务器控制台上什么也没发生...基本上我想获取用户ID并使用用户ID更新用户列`Activate=Yes`..

请建议我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:01:53.733

您需要将 RequestMapping 映射到“家”：

```
@RequestMapping(value="/home", method=RequestMethod.GET) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T09:13:22.747

`http://localhost:8080/EClass/home`基本上会以 a 作为参数调用您的控制器方法：

```
@RequestMapping(value="/home", method=RequestMethod.GET)
    public String home(Model model) throws Exception {
} 
```

但基本上从你想打电话的问题来看

```
 @RequestMapping(value="/active", method=RequestMethod.GET)
    public String active(@RequestParam("a") String activeCode) throws Exception {
} 
```

所以将您的请求更改为

```
<html><body><p>Dear %s</p><p>Click <a href="http://localhost:8080/EClass/active?a=%s">here</a> 
```

还要在请求映射的 value 属性中指定 a `/`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T08:51:57.613

您的请求映射中缺少斜杠`/`。`/`在控制器类级别**或**方法级别添加。但不是两者兼而有之。。

# mongodb - 手动编辑集合

> ID：15564908
> 
> 赞同：0
> 
> 时间：2013-03-22T07:22:41.200
> 
> 标签：mongodb, meteor

我对 Meteor 比较陌生，我想知道如何手动编辑 mongoDB for Meteor Collections。

如果我在客户端和服务器上都声明了一个新集合：

```
People = new Meteor.Collection("people"); 
```

然后我在服务器上创建一个名称数组并将其插入到集合中：

```
var names = ["Dan", "Bob", "Sarah"];
for(var i=0; i<names.length; i++)
{
    People.insert({name: names[i]}); 
} 
```

我如何将字段添加到数据库和/或手动更改数据库中的字段以用于开发目的？如果我在“名称”数组中重新键入名称并重新启动应用程序，它不会像我预期的那样更新服务器上的数据库。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:32:13.263

**在 chrome/safari 中使用 javascript 开发者控制台或在 firefox 中使用 firebug**

在您的应用程序运行时，您可以编辑您的名称。

您的更改将实时完成，因此您可以调试和玩很多。像这样的东西可能会起作用：

```
People.find().fetch()
=> lists all the people 
```

编辑一个

```
People.update("_id value from above of the person", {$set:{name:"New Name"}}) 
```

**为什么您使用的方法不起作用：**

`People`如果已填充，Meteor 不会再次将名称添加到集合中。因此，只需运行`meteor reset`以清除您收藏中的所有内容。并再次运行流星以使用您的新更新值

# c - 尝试从服务器向客户端发送消息的分段错误

> ID：15564913
> 
> 赞同：0
> 
> 时间：2013-03-22T07:22:52.980
> 
> 标签：c, sockets, segmentation-fault

我需要向客户端发送消息，然后客户端必须使用选项进行响应。我一直到客户端和服务器连接，但两个程序都以“分段错误”结束。有谁知道这个错误是什么意思？有人可以就如何创建使客户端和服务器交互的代码给出一个想法。在接收到客户端选择的选项后，服务器必须对其进行分析并再次向客户端发送结果。

我的代码是：

服务器

```
 int
main(int argc, char **argv)
{
    int                 listenfd, connfd;
    socklen_t           len;
    struct sockaddr_in  servaddr, cliaddr;
    char                buff[MAXLINE];
    time_t              ticks;
    char                message[MAXLINE]="This is the server";
    char                temp_scale[2];
    char                recvdata[MAXLINE + 1];

    listenfd = Socket(AF_INET, SOCK_STREAM, 0);
    bzero(&servaddr, sizeof(servaddr));
    servaddr.sin_family      = AF_INET;
    servaddr.sin_addr.s_addr = htonl(INADDR_ANY);/*----------------------------------------------------*/
    servaddr.sin_port        = htons(5555); 

    Bind(listenfd, (SA *) &servaddr, sizeof(servaddr));
    Listen(listenfd, LISTENQ);

    for ( ; ; )
    {
        len = sizeof(cliaddr);
        connfd = Accept(listenfd, (SA *) &cliaddr, &len);

        printf("Connection from %s, port %d\n",
               Inet_ntop(AF_INET, &cliaddr.sin_addr, buff, sizeof(buff)),
               ntohs(cliaddr.sin_port));

        snprintf(message, sizeof(message), "%s\r\n");
            Writen(connfd, message, strlen(message));
            while ( (n = read(connfd, recvdata, MAXLINE)) > 0)
            {
             recvdata[n] = 0;   /* null terminate*/
             if (fputs(recvdata, stdout) == EOF)
                 err_sys("fputs error");
            }
             if (n < 0)
          err_sys("read error");

           Close(connfd);
    }
} 
```

客户

```
int
main(int argc, char **argv)
{
    int                 sockfd, rd;
    socklen_t           len;
    char                recvline[MAXLINE + 1];
    struct sockaddr_in  servaddr, cliaddr;
    char  scale[2];

    /*if (argc != 2)
        err_quit("usage: a.out <IPaddress>");*/

    if ( (sockfd = socket(AF_INET, SOCK_STREAM, 0)) < 0)
        err_sys("socket error");

    bzero(&servaddr, sizeof(servaddr));
    servaddr.sin_family = AF_INET;
    servaddr.sin_port   = htons(atoi(argv[2])); /*port passed through command line*/
    if (inet_pton(AF_INET, argv[1], &servaddr.sin_addr) <= 0) /*The client translates the server address, passed on the command line*/
        err_quit("inet_pton error for %s", argv[1]);

    if (connect(sockfd, (SA *) &servaddr, sizeof(servaddr)) < 0)
        err_sys("connect error");

    len = sizeof(cliaddr);
    Getsockname(sockfd, (SA *) &cliaddr, &len);
    printf("Local Address is: %s\n",
           Sock_ntop((SA *) &cliaddr, sizeof(cliaddr))); 

    printf("Iniciando read...\n");
    while ( (rd = read(sockfd, recvline, MAXLINE)) > 0)
    {
        recvline[rd] = 0;   /* null terminate*/
        if (fputs(recvline, stdout) == EOF)
            err_sys("fputs error");
    }
    if (rd < 0)
     err_sys("read error");

    printf("Enter option 'A' or 'B'");
    send_scale(sockfd);

    exit(0);
} 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:54:53.617

在调试器中运行您的代码（例如`gdb ./a.out`）并立即找出答案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T08:10:51.737

您的服务器可能因此出现故障：

```
snprintf(message, sizeof(message), "%s\r\n"); // <== no parameters 
```

这是完全错误的。该`snprintf()`调用有一个格式说明符，它需要一个`char *`以空字符结尾的字符串，而您完全没有传递它。因此，它从堆栈中抓取一个随机值，将其视为一个指针，并取消引用它以尝试完成格式化的请求。

在不知道您正在使用的 API 的详细信息的情况下（仅从名称上看，它显然不是标准的 BSD 套接字），没有什么可做的了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-08T15:11:52.737

我不知道它是否有帮助，但在 C 中，当您打印您的回复时，字符串的空终止符是 '\0'：

```
recvdata[n] = 0;   /* null terminate ----> this must be '\0'*/
if (fputs(recvdata, stdout) == EOF)
err_sys("fputs error"); 
```

你用“0”填充它，所以当 fputs 解析你的字符串以打印它时，它可能会导致你出现段错误。

希望能帮助到你！

# symfony - Symfony2 自动生成实体错误。

> ID：15564917
> 
> 赞同：0
> 
> 时间：2013-03-22T07:23:12.803
> 
> 标签：symfony, doctrine-orm

我有两张表 news 和 news_category。为此，我使用 symfony 命令“doctrine:mapping:convert”创建了两个映射类。这两个文件如下。

1.  新闻.orm.yml。

    ```
    News:
       type: entity
       table: news
       fields:
          newsId:
              id: true
              type: integer
              unsigned: false
              nullable: false
              column: news_id
              generator:
                   strategy: IDENTITY
         newsTitle:
             type: string
             length: 255
             fixed: false
             nullable: false
             column: news_title
         newsDescription:
             type: text
             nullable: false
             column: news_description
         newsStatus:
             type: string
             length: 255
             fixed: false
             nullable: false
             column: news_status
         createdAt:
             type: date
             nullable: false
             column: created_at
        manyToOne:
        category:
             targetEntity: NewsCategory
             cascade: {  }
             mappedBy: null
             inversedBy: null
             joinColumns:
                category_id:
                    referencedColumnName: category_id
             orphanRemoval: false
    lifecycleCallbacks: {  } 
    ```

2）。新类别.orm.yml

```
NewsCategory:
type: entity
table: news_category
fields:
    categoryId:
        id: true
        type: integer
        unsigned: false
        nullable: false
        column: category_id
        generator:
            strategy: IDENTITY
    categoryTitle:
        type: string
        length: 255
        fixed: false
        nullable: false
        column: category_title
    categoryDescription:
        type: text
        nullable: false
        column: category_description
lifecycleCallbacks: {  } 
```

之后，我使用了另一个 symfony 命令“doctrine:mapping:import”，我再次在实体文件夹 News.php 和 NewsCategory.php 中生成了两个文件

如下所示。

1) 新闻.php

```
<?php

  namespace Admin\NewsBundle\Entity;

  use Doctrine\ORM\Mapping as ORM;

 /**
  * News
  *
  * @ORM\Table(name="news")
  * @ORM\Entity
  */
  class News
 {
/**
 * @var integer
 *
 * @ORM\Column(name="news_id", type="integer", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="IDENTITY")
 */
private $newsId;

/**
 * @var string
 *
 * @ORM\Column(name="news_title", type="string", length=255, nullable=false)
 */
private $newsTitle;

/**
 * @var string
 *
 * @ORM\Column(name="news_description", type="text", nullable=false)
 */
private $newsDescription;

/**
 * @var string
 *
 * @ORM\Column(name="news_status", type="string", length=255, nullable=false)
 */
private $newsStatus;

/**
 * @var \DateTime
 *
 * @ORM\Column(name="created_at", type="date", nullable=false)
 */
private $createdAt;

/**
 * @var \NewsCategory
 *
 * @ORM\ManyToOne(targetEntity="NewsCategory")
 * @ORM\JoinColumns({
 *   @ORM\JoinColumn(name="category_id", referencedColumnName="category_id")
 * })
 */
private $category;

} 
```

并且，2）NewCategory.php

```
namespace Admin\NewsBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * NewsCategory
 *
 * @ORM\Table(name="news_category")
 * @ORM\Entity
 */
class NewsCategory
{
/**
 * @var integer
 *
 * @ORM\Column(name="category_id", type="integer", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="IDENTITY")
 */
private $categoryId;

/**
 * @var string
 *
 * @ORM\Column(name="category_title", type="string", length=255, nullable=false)
 */
private $categoryTitle;

/**
 * @var string
 *
 * @ORM\Column(name="category_description", type="text", nullable=false)
 */
private $categoryDescription;

} 
```

现在的问题是，当我使用“doctrine:generate:entities”创建实体时，它给了我以下错误。

```
D:\wamp\www\Symfony>php app/console doctrine:generate:entities AdminNewsBundle
Generating entities for bundle "AdminNewsBundle"

  [Doctrine\Common\Persistence\Mapping\MappingException]
  Invalid mapping file 'Admin.NewsBundle.Entity.News.orm.yml' for class 'Admi
  n\NewsBundle\Entity\News'.

 doctrine:generate:entities [--path="..."] [--no-backup] name 
```

抱歉英语不好请帮我解决这个问题，因为我是 symfony2 的新手

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T10:17:10.800

尝试：

```
1) php app/console doctrine:mapping:convert yml ./src/Admin/NewsBundle/Resources/config/doctrine/metadata/orm --from-database --force --namespace="Admin\\NewsBundle\\Entity\\" 
```

对于 Linux *namespace="Admin\\NewsBundle\\Entity\\"*，对于 Win 可能*namespace="Admin\NewsBundle\Entity\\"*

注意映射在正确的位置，具有正确的名称和正确的语法。

```
2) php app/console doctrine:mapping:import AdminNewsBundle annotation

3) php app/console doctrine:generate:entities AdminNewsBundle 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-22T17:30:43.977

尝试将 YML 的第一行替换为带有 naspace 的实体名称

```
Admin\NewsBundle\Entity\News: 
```

举个例子。

# warnings - VHDL：使用输入端口时创建的锁存器

> ID：15564921
> 
> 赞同：1
> 
> 时间：2013-03-22T07:23:29.477
> 
> 标签：warnings, vhdl, synthesize

所以我正在合成一个CPU。

这些是错误：

```
WARNING:Xst:1710 - FF/Latch <EXS/mem_address_0> (without init value) has a constant value of 0 in block <Top_level_component>. This FF/Latch will be trimmed during the optimization process.
WARNING:Xst:1895 - Due to other FF/Latch trimming, FF/Latch <EXS/mem_address_1> (without init value) has a constant value of 0 in block <Top_level_component>. This FF/Latch will be trimmed during the optimization process.
WARNING:Xst:1895 - Due to other FF/Latch trimming, FF/Latch <EXS/mem_address_2> (without init value) has a constant value of 0 in block <Top_level_component>. This FF/Latch will be trimmed during the optimization process.
WARNING:Xst:1895 - Due to other FF/Latch trimming, FF/Latch <EXS/mem_address_3> (without init value) has a constant value of 0 in block <Top_level_component>. This FF/Latch will be trimmed during the optimization process. 
```

然后它从这里级联到一堆其他东西上。

这是给我一个错误的部分组件：

```
library ieee;
use ieee.std_logic_1164.all;
use ieee.std_logic_arith.all;
use ieee.std_logic_unsigned.all;

entity EX_stage is
    Port(   clk : in  STD_LOGIC;
        rst : in  STD_LOGIC;
        mem_opr_in : in  STD_LOGIC_VECTOR (1 downto 0);
        wb_opr_in : in  STD_LOGIC;
        out_opr_in : in  STD_LOGIC;
        alu_mode : in  STD_LOGIC_VECTOR (3 downto 0);
        in1 : in  STD_LOGIC_VECTOR (7 downto 0);
        in2 : in  STD_LOGIC_VECTOR (7 downto 0);
        ra_in : in  STD_LOGIC_VECTOR (1 downto 0);

-- The Ports I'm reading from
        FW_opcode : in  STD_LOGIC_VECTOR (3 downto 0); 
        FW_ra_IN : in  STD_LOGIC_VECTOR (1 downto 0);
        FW_rb_IN : in  STD_LOGIC_VECTOR (1 downto 0);
-- The port I'm writing to
        mem_address : out  STD_LOGIC_VECTOR (7 downto 0);

        mem_opr_out : out  STD_LOGIC_VECTOR (1 downto 0);
        wb_opr_out : out  STD_LOGIC;
        out_opr_out : out  STD_LOGIC;
        alu_result : out  STD_LOGIC_VECTOR (7 downto 0);
        alu_mode_out : out  STD_LOGIC_VECTOR (3 downto 0);
        ra_out : out  STD_LOGIC_VECTOR (1 downto 0);
        z_flag : out  STD_LOGIC;
        n_flag : out  STD_LOGIC);
end EX_stage;

architecture Behavioral of EX_stage is
begin
    process(clk,rst)
        variable temp_result: STD_LOGIC_VECTOR (7 downto 0);
    begin
    -- Not important... I think
    end process;

    process(clk,rst)
    begin
        if rst = '1' then
            mem_address <= (others => '0');
        elsif clk = '1' and clk'event then
            mem_address <= FW_opcode & FW_ra_IN & FW_rb_IN;
            -- If this is <= x"FF"; then it doesn't give the error
        end if;
    end process;
end Behavioral; 
```

在顶级组件中，我有：

```
library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_ARITH.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;

entity Top_level_component is
    Port ( portIN : in  STD_LOGIC_VECTOR (7 downto 0);
        portOUT :   out  STD_LOGIC_VECTOR (7 downto 0);
        clk :       in  STD_LOGIC;
        rst :       in  STD_LOGIC);
end Top_level_component;

architecture Behavioral of Top_level_component is

-- Only the offending components shown

    component IF_stage
        port( clk :  in STD_LOGIC;
            rst :    in STD_LOGIC;
            count :  in STD_LOGIC_VECTOR (7 downto 0);
-- All three of these get input to ID_stage AND EX_stage
            opcode : out STD_LOGIC_VECTOR (3 downto 0);
            reg_a :  out STD_LOGIC_VECTOR (1 downto 0);
            reg_b :  out STD_LOGIC_VECTOR (1 downto 0));
    end component;

    component ID_stage is
        port( clk :   in  STD_LOGIC;
            port_IN : in  STD_LOGIC_VECTOR (7 downto 0);
            opcode :  in  STD_LOGIC_VECTOR (3 downto 0);
            ra_IN :   in  STD_LOGIC_VECTOR (1 downto 0);
            rb_IN :   in  STD_LOGIC_VECTOR (1 downto 0);
            zflag :   in  STD_LOGIC;
            nflag :   in  STD_LOGIC;
            RD1_IN :  in  STD_LOGIC_VECTOR (7 downto 0);
            RD2_IN :  in  STD_LOGIC_VECTOR (7 downto 0);
            count :   in STD_LOGIC_VECTOR (7 downto 0);
            previous_opcode : in  STD_LOGIC_VECTOR (3 downto 0);
            MEM_opr : out  STD_LOGIC_VECTOR (1 downto 0);
            WB_opr :  out  STD_LOGIC;
            OUT_opr : out  STD_LOGIC;
            ALU_mode : out  STD_LOGIC_VECTOR (3 downto 0);
            RD1_OUT : out  STD_LOGIC_VECTOR (7 downto 0);
            RD2_OUT : out  STD_LOGIC_VECTOR (7 downto 0);
            ra_OUT :  out  STD_LOGIC_VECTOR (1 downto 0);
            rb_OUT :  out  STD_LOGIC_VECTOR (1 downto 0);
            new_count : out  STD_LOGIC_VECTOR (7 downto 0);
            set_pc :    out  STD_LOGIC);
    end component;

    component EX_stage is
        port( clk :         in  STD_LOGIC;
            rst :       in  STD_LOGIC;
            mem_opr_in : in  STD_LOGIC_VECTOR (1 downto 0);
            wb_opr_in : in  STD_LOGIC;
            out_opr_in : in  STD_LOGIC;
            alu_mode :  in  STD_LOGIC_VECTOR (3 downto 0);
            in1 :       in  STD_LOGIC_VECTOR (7 downto 0);
            in2 :       in  STD_LOGIC_VECTOR (7 downto 0);
            ra_in :         in  STD_LOGIC_VECTOR (1 downto 0);

-- The Offending ports: This is where the signals go in
            FW_opcode : in  STD_LOGIC_VECTOR (3 downto 0);
            FW_ra_IN : in  STD_LOGIC_VECTOR (1 downto 0);
            FW_rb_IN : in  STD_LOGIC_VECTOR (1 downto 0);
            mem_address : out  STD_LOGIC_VECTOR (7 downto 0);
            mem_opr_out : out  STD_LOGIC_VECTOR (1 downto 0);
            wb_opr_out : out  STD_LOGIC;
            out_opr_out : out  STD_LOGIC;
            alu_result : out  STD_LOGIC_VECTOR (7 downto 0);
            alu_mode_out : out  STD_LOGIC_VECTOR (3 downto 0);
            ra_out :    out  STD_LOGIC_VECTOR (1 downto 0);
            z_flag :    out  STD_LOGIC;
            n_flag :    out  STD_LOGIC);
    end component;

    -- Signals used
    signal set_pc   : STD_LOGIC := '0';
    signal new_count : STD_LOGIC_VECTOR (7 downto 0) := (others => '0');
    signal count    : STD_LOGIC_VECTOR (7 downto 0) := (others => '0');
    signal IF_opcode : STD_LOGIC_VECTOR (3 downto 0) := (others => '0');
    signal IF_reg_a : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal IF_reg_b : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal rd_data1 : std_logic_vector(7 downto 0) := (others => '0');
    signal rd_data2 : std_logic_vector(7 downto 0) := (others => '0');

    signal ID_opcode : STD_LOGIC_VECTOR (3 downto 0) := (others => '0');
    signal ID_reg_a : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal ID_reg_b : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal ID_data1 : std_logic_vector(7 downto 0) := (others => '0');
    signal ID_data2 : std_logic_vector(7 downto 0) := (others => '0');
    signal ID_mem_opr : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal ID_wb_opr : STD_LOGIC := '0';
    signal ID_out_opr : STD_LOGIC := '0';        
    signal EX_data1 : std_logic_vector(7 downto 0) := (others => '0');
    signal EX_data2 : std_logic_vector(7 downto 0) := (others => '0');
    signal EX_reg_a : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal EX_results : STD_LOGIC_VECTOR (7 downto 0) := (others => '0');
    signal EX_alu_mode : STD_LOGIC_VECTOR (3 downto 0) := (others => '0');
    signal mem_address : STD_LOGIC_VECTOR (7 downto 0) := (others => '0');
    signal EX_mem_opr : STD_LOGIC_VECTOR (1 downto 0) := (others => '0');
    signal EX_wb_opr : STD_LOGIC := '0';
    signal EX_out_opr : STD_LOGIC := '0';
    signal z_flag   : std_logic := '0';
    signal n_flag   : std_logic := '0';

begin

    IFS: IF_stage PORT MAP(
        clk => clk,
        rst => rst,
        count => count,
        opcode => IF_opcode,
        reg_a => IF_reg_a,
        reg_b => IF_reg_b);

    IDS: ID_stage port map(
        clk => clk,
        port_IN => portIN,
        opcode => IF_opcode,
        ra_IN => IF_reg_a,
        rb_IN => IF_reg_b,
        zflag => z_flag,
        nflag => n_flag,
        RD1_IN => rd_data1,
        RD2_IN => rd_data2,
        count => count,
        previous_opcode => EX_alu_mode,
        MEM_opr => ID_mem_opr,
        WB_opr => ID_wb_opr,
        OUT_opr => ID_out_opr,
        ALU_mode => ID_opcode,
        RD1_OUT => ID_data1,
        RD2_OUT => ID_data2,
        ra_OUT => ID_reg_a,
        rb_OUT => ID_reg_b,
        new_count => new_count,
        set_pc => set_pc);

    EXS: EX_stage port map( 
        clk => clk,
        rst => rst,
        mem_opr_in => ID_mem_opr,
        wb_opr_in => ID_wb_opr,
        out_opr_in => ID_out_opr,
        alu_mode => ID_opcode,
        in1 => EX_data1,
        in2 => EX_data2,
        ra_in => ID_reg_a,
        FW_opcode => IF_opcode,
        FW_ra_IN => IF_reg_a,
        FW_rb_IN => IF_reg_b,
        mem_address => mem_address,
        mem_opr_out => EX_mem_opr,
        wb_opr_out => EX_wb_opr,
        out_opr_out => EX_out_opr,
        alu_result => EX_results,
        alu_mode_out => EX_alu_mode,
        ra_out => EX_reg_a,
        z_flag => z_flag,
        n_flag => n_flag);

end Behavioral; 
```

所以在 EX_stage 中，当使用 FW_opcode、FW_ra_IN 或 FW_rb_IN 时，我得到了错误。我不明白。有任何想法吗？是我试图将输入合并到输出中吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:00:44.810

那不是错误。这是一个警告，表示合成器检测到信号将始终为`0`，因此可以对其进行优化。此外，它与您的标题所说的创建锁存器无关（注意措辞是`FF/Latch`，它只是表示信号`EXS/mem_address_0`是触发器或锁存器）。

这不一定是坏事，除非你知道他们也应该能够接受其他价值观。

在这种情况下，我会说你的`FW_ra_IN`and`FW_rb_IN`信号似乎总是`0`. 如果它们应该能够采用其他值，那么请确保它们实际上来自正确的地方。

将分配替换为时没有收到警告的原因`x"FF"`是，当您重置时，您的信号全部为全部`0`，而在未重置时全部为全部`1`- 因此没有一个位是恒定的。

也看看[VHDL 综合警告 FF/Latch has a constant value of 0](https://stackoverflow.com/questions/12171815/vhdl-synthesis-warning-ff-latch-has-a-constant-value-of-0/12172569#12172569)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T08:01:42.623

首先，您发布的是警告而不是错误......因此应该是非阻塞的。

但是，警告告诉您， mem_address(3..0) 的值始终为“0”。这意味着，FW_ra_IN 和 FW_rb_IN 始终为“0”。这些信号来自您的 IF_stage 块（IF_reg_a 和 IF_reg_b）。检查是否在 IF_stage 内更新这些信号。

另一件事是， mem_address 不在 top_level 块中使用。因此，它可能会在优化期间被合成器移除。

# php - 如何从谷歌地图 API v3 或地址建议中获得准确的结果？

> ID：15564927
> 
> 赞同：0
> 
> 时间：2013-03-22T06:50:23.337
> 
> 标签：php, geolocation

我正在使用谷歌地图的 v2 API，我们根据我在地理编码请求中获得的准确性提供建议的地址。但在 v3 中，响应与 v2 API 完全不同。关于如何从 v3 API 为用户获取建议位置的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T10:30:48.150

这可能会对您有所帮助：您只需要通过纬度和经度，通过纬度和经度您将获得良好的位置。

```
function initialize(latitude,longitude) {
        var geocoder;
        var map;
        var markers;

        geocoder = new google.maps.Geocoder();
        var place;
        var latlng = new google.maps.LatLng(latitude, longitude);
        var mapOptions = {
            zoom: 21,
            center: latlng,
            mapTypeControl: false,
            mapTypeId: google.maps.MapTypeId.SATELLITE
        }
        map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
        var infowindow = new google.maps.InfoWindow(), marker, i;
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(latitude, longitude),
                map: map
            });
        for (i = 0; i < marker.length; i++) {
            markers = new google.maps.Marker({
                position: new google.maps.LatLng(markers[i][0], markers[i][1]),
                map: map,
                icon: image
            });
            google.maps.event.addListener(marker, 'click', (function(marker, i) {
                return function() {
                    infowindow.setContent(markers[i][0]);
                    infowindow.open(map, marker);
                }
            })(marker, i));
        }
        } 
```

如果你堆叠然后回复我。

# magento - 将产品分配给magento中新添加的类别

> ID：15564928
> 
> 赞同：0
> 
> 时间：2013-03-22T07:24:17.373
> 
> 标签：magento, magento-1.7

嗨，我正在为类别进行扩展。我在类别和产品方面遇到问题。我有超过 2 个具有相同产品的类别。创建新类别后，我想分配存在于类别 1 下的那些产品，（类别 1 和类别 2 有相同的产品）。由于我的代码，它将从 category2 中删除产品。我的代码是：

```
 $collection = $category->getProductCollection();
        $collection->addAttributeToSelect('*');

        foreach ($collection as $product) {
                 $categories_pd = $product->getCategoryIds();                              
                    $product->setCategoryIds(array($new_cateid , $category1_id));
                    $product->save();
        } 
```

我知道由于 setcatgoryIds 功能它删除了其他条目。任何人都可以知道正确的功能或逻辑来解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:43:19.757

随着`$categories_pd = $product->getCategoryIds();`您将所有现有条目作为一个数组。

只需在此处添加新类别

`$categories_pd[]=$newid1;$categories_pd[]=$newid2...`

然后在`$categories_pd`你有所有需要的类别所以只需设置它

```
$product->setCategoryIds($categories_pd);
                $product->save(); 
```

# java - 从 CPE 描述符获取 UIMA 类型系统

> ID：15564932
> 
> 赞同：2
> 
> 时间：2013-03-22T07:24:30.613
> 
> 标签：java, uima

我将如何从 CPE 描述符 XML 文件中获取（或计算）UIMA 类型系统？我已经查看了用于在 Java 中加载 CPE 描述符的类，但看不到任何可以让我获得类型系统的东西。

我知道 CAS 有一个 getTypeSystem() 函数，但我需要在运行 CPE 管道之前获取类型系统（即在我拥有 CAS 对象之前）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T08:30:34.680

最终想出了如何做到这一点......它并不漂亮！下面的代码适用于最终处于类似情况的任何其他人。

```
CpeDescription cpeDesc = UIMAFramework.getXMLParser().parseCpeDescription(new XMLInputSource(cpeFile));
File rootFolder = new File(cpeDesc.getSourceUrl().getFile()).getParentFile();
ArrayList<TypeSystemDescription> typeSystems = new ArrayList<>();

for(CpeCollectionReader collReader : cpeDesc.getAllCollectionCollectionReaders()){
    File descFile = new File(rootFolder + System.getProperty("file.separator") + collReader.getDescriptor().getImport().getLocation());

    CollectionReaderDescription crd = UIMAFramework.getXMLParser().parseCollectionReaderDescription(new XMLInputSource(descFile));

    TypeSystemDescription typeSystem = crd.getCollectionReaderMetaData().getTypeSystem();
    typeSystem.resolveImports();

    typeSystems.add(typeSystem);
}

for(CpeCasProcessor casProcessor : cpeDesc.getCpeCasProcessors().getAllCpeCasProcessors()){
    File descFile = new File(rootFolder + System.getProperty("file.separator") + casProcessor.getCpeComponentDescriptor().getImport().getLocation());

    AnalysisEngineDescription aed = UIMAFramework.getXMLParser().parseAnalysisEngineDescription(new XMLInputSource(descFile));

    TypeSystemDescription typeSystem = aed.getAnalysisEngineMetaData().getTypeSystem();
    typeSystem.resolveImports();

    typeSystems.add(typeSystem);
}

TypeSystemDescription mergedTypeSystem = CasCreationUtils.mergeTypeSystems(typeSystems); 
```

请注意，这仅考虑导入，而不考虑 CPE 描述符中的包含。

# android - 删除android中的jni本地引用表

> ID：15564934
> 
> 赞同：1
> 
> 时间：2013-03-22T07:24:31.467
> 
> 标签：android, java-native-interface

嗨，我已经使用 phonegap 和 jquery mobile 开发了 android 应用程序。当我持续使用我的应用程序时，JNI 正在使我的应用程序崩溃并突然关闭。

这是我的 logcat 错误：

```
Android : JNI ERROR (app bug): local reference table overflow (max=512) 
```

请帮我从android中删除jni本地引用表。

这是我提到的删除 JNI 本地参考表的链接：[https ://github.com/aclindsa/jnioverhead](https://github.com/aclindsa/jnioverhead)

上面的链接中有一个示例以及如何从 android 中删除 jni 本地引用表。我在链接中创建了 .java 和 .h 文件，但它不起作用。请指导我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T13:22:10.423

在 JNI 调用开始时使用 env->PushLocalFrame(capacity)，然后使用 env->PopLocalFrame(NULL) 将其删除。另一方面，phonegap 的人可能应该在他们的代码中解决这个问题。一旦本地方法存在，JNI 就会清除本地引用表。

# css - @font-face 字体替换以跨浏览器工作

> ID：15564936
> 
> 赞同：0
> 
> 时间：2013-03-22T07:24:43.550
> 
> 标签：css

我无法让这个@font-face 字体替换工作跨浏览器，请你帮忙。它可以在除 ie 9 之外的所有地方工作，也可以在除 ie 7 和 ie 8 之外的所有地方工作。

我的字体是 .eot .otf .svg 。ttf .woff?

谢谢

```
 /* works in all but ie 9 */
    @font-face {
        font-family: 'Deutsch';
        src: url('/fonts/Deutsch.eot');
        src: local('/fonts/Deutsch'), 
             url('/fonts/Deutsch.ttf') format('truetype'),
             url('/fonts/Deutsch.svg#font') format('svg'); 
    }
     /*from [http://blog.themeforest.net/tutorials/how-to-achieve-cross-browser-font-face-support/][1] */

    /* works in all but ie 7 and ie 8 */
    @font-face {
        font-family: 'Deutsch';
        src: url('/fonts/Deutsch.ttf'),
             url('/fonts/Deutsch.eot'); /* IE9+ */
    }
    /*from [http://w3schools.com/css3/css3_fonts.asp][2]*/ 
```

* * *

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>

    <style type="text/css">

       /* code place holder location for css */

        #test
        {
            font-family:'Deutsch';
            font-weight:bold;
            text-decoration:underline;
            font-style:italic;
            font-size:30px;
        }

    </style>

</head>
<body>

    <div id="test">text goes here</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:23:05.830

首先重写你的字体系列，如下所示，

```
font-family: 'Deutsch', sans-serif; 
```

如果不是这样，您必须为此使用网站，它会将您的 ttf 格式转换为其他不同的字体格式...

检查这个，[http://www.fontsquirrel.com/fontface/generator](http://www.fontsquirrel.com/fontface/generator)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:21:27.887

我只是想分享这个，因为这似乎有效。

```
 @font-face {
     font-family: 'Deutsch';
     font-style: normal;
     font-weight: normal;
     src: url('/fonts/Deutsch.eot');
     src: url('/fonts/Deutsch.eot?#iefix') format('embedded-opentype'),
     url('/fonts/Deutsch.woff') format('woff'),
     url('/fonts/Deutsch.ttf') format('truetype'),
     url('/fonts/Deutsch.svg#Deutsch') format('svg');
    } 
```

松鼠把这个

```
@font-face {
    font-family: 'deutsch_gothicnormal';
    src: url('deutsch_-_copy.eot');
    src: url('deutsch_-_copy.eot?#iefix') format('embedded-opentype'),
         url('deutsch_-_copy.woff') format('woff'),
         url('deutsch_-_copy.ttf') format('truetype'),
         url('deutsch_-_copy.svg#deutsch_gothicnormal') format('svg');
    font-weight: normal;
    font-style: normal;

} 
```

# perl - 如何用null替换字符

> ID：15564937
> 
> 赞同：2
> 
> 时间：2013-03-22T07:24:45.117
> 
> 标签：perl

我有一个字符串 `"8.53"`我想要我的结果字符串`"853"` 我尝试了以下代码

```
tr|.||; 
```

但它并不仅仅取代它的给予`8.53`。我尝试了另一种使用方式

```
tr|.|NULL|; 
```

但是`8N53`任何人都可以建议我如何使用 tr 将字符替换为 NULL。

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-22T07:45:47.927

您需要指定`d`修饰符以删除没有相应字符的字符：

```
tr/.//d; 
```

或者您可以使用（较慢但更熟悉的）替换运算符：

```
s/\.//g; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-22T07:26:59.103

您不想要`tr`，因为这会将第一个列表中的字符与第二个列表中的相应字符（`N`在您的示例中，因为这是第一个字符）进行音译。您将需要替换运算符。

```
my $var = "8.53";
$var =~ s/\.//;
print $var; 
```

`g`如果要替换多个实例，请添加标志 ( `s/\.//g`)。

# android - 如何再次添加片段的瞬间？

> ID：15564940
> 
> 赞同：0
> 
> 时间：2013-03-22T07:24:50.127
> 
> 标签：android, android-fragments, slidingmenu

我的片段有问题。我需要多次显示片段并且不创建它的新瞬间。我有一种方法可以用来更改活动的内容。

```
protected void setContentFragment(Fragment contentFragment) {
    this.contentFragment = contentFragment;
    setContentView(R.layout.content_frame);
    getSupportFragmentManager().beginTransaction()
            .replace(R.id.content_frame, contentFragment).commit();
    getSlidingMenu().showContent();
} 
```

content_frame 是一个简单的布局。

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/content_frame"
android:layout_width="match_parent"
android:layout_height="match_parent" /> 
```

问题是：我创建了第一个 Fragment 的瞬间并将其传递给 setContentFragment(...) （仍然保持这个瞬间）。然后用其他 Fragment 调用 setContentFragment。现在，我将第一个片段的瞬间传递给这个方法，它显示银行屏幕。请帮我 ：（

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T16:00:07.343

交换片段时，您需要*分离/重新连接而不是替换它们*。这让它留在记忆中。此外，您不需要再次 setContentView，只需保留现有的 FrameLayout（您也可以将 android.R.id.content 用于主要活动内容视图，而不是创建 FrameLayout）

```
Fragment content1, content2;
Fragment current=content1;

public void onCreate() {
  if(savedInstanceState==null)
    getSupportFragmentManager().beginTransaction()
      .add(android.R.id.content, content1)
      .commit();
}

public void swap() {
  if(current==content1) {
    getSupportFragmentManager().beginTransaction()
      .detach(content1)
      .attach(android.R.id.content, content2)
      .commit();
    current=content2;
  } else {
    getSupportFragmentManager().beginTransaction()
      .detach(content2)
      .attach(android.R.id.content, content1)
      .commit();
    current=content1;
  } 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T09:51:08.130

做这个

```
protected void setContentFragment(Fragment contentFragment) {
    this.contentFragment = contentFragment;
    Random random = new Random(100);
    String rString = "myRandomString"+random.nextInt(); // Create a random string here everytime you call setContentFragment
    setContentView(R.layout.content_frame);
    getSupportFragmentManager().beginTransaction()
            .replace(R.id.content_frame, contentFragment, rString).commit();
    getSlidingMenu().showContent();
} 
```

这将根据您的需要替换片段

参考：http: [//developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#replace%28int,%20android.support.v4.app.Fragment,%20java.lang.String%29](http://developer.android.com/reference/android/support/v4/app/FragmentTransaction.html#replace%28int,%20android.support.v4.app.Fragment,%20java.lang.String%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:34:52.047

尝试这个..

```
 private void switchFragment(Fragment fragment) {
    if (getActivity() == null)
        return;

    if (getActivity() instanceof MainActivity) {
        DashboardActivity dashboard = (MainActivity) getActivity();
        dashboard.switchFragment(fragment, "Main List");
    }
} 
```

# c# - 从字符串中删除最后三个字符

> ID：15564944
> 
> 赞同：153
> 
> 时间：2013-03-22T07:24:52.537
> 
> 标签：c#, .net

我想从字符串中删除最后三个字符：

```
string myString = "abcdxxx"; 
```

请注意，字符串是动态数据。

* * *

## 回答 #1

> 赞同：294
> 
> 时间：2013-03-22T07:25:46.233

> 从字符串中读取最后 3 个字符 [最初提出的问题]

您可以使用[string.Substring](http://msdn.microsoft.com/en-us/library/system.string.substring%28v=vs.71%29.aspx)并为其指定起始索引，它将获取从给定索引开始到结束的子字符串。

```
myString.Substring(myString.Length-3) 
```

> 从此实例中检索子字符串。子字符串从指定的字符位置开始。[MSDN](http://msdn.microsoft.com/en-us/library/aa904307%28v=vs.71%29.aspx)

**编辑**，更新帖子

> 从字符串中删除最后 3 个字符 [更新问题]

要从字符串中删除最后三个字符，您可以使用[string.Substring(Int32, Int32)](https://msdn.microsoft.com/en-us/library/aka44szs(v=vs.110).aspx)并将其起始索引`0`和结束索引*指定为比字符串长度小三*。它将获取最后三个字符之前的子字符串。

```
myString = myString.Substring(0, myString.Length-3); 
```

[String.Substring 方法 (Int32, Int32)](https://msdn.microsoft.com/en-us/library/aka44szs(v=vs.110).aspx)

> 从此实例中检索子字符串。子字符串从指定的字符位置开始并具有指定的长度。

您还可以使用[String.Remove(Int32)](https://msdn.microsoft.com/en-us/library/9ad138yc(v=vs.110).aspx)方法通过将起始索引传递为*length - 3*来删除最后三个字符，它将从此点删除到字符串的结尾。

```
myString = myString.Remove(myString.Length-3) 
```

[String.Remove 方法 (Int32)](https://msdn.microsoft.com/en-us/library/9ad138yc(v=vs.110).aspx)

> 返回一个新字符串，其中当前实例中的所有字符（从指定位置开始到最后一个位置）都已被删除

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2013-03-22T07:26:06.677

```
myString = myString.Remove(myString.Length - 3, 3); 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2016-06-30T19:45:29.133

我通读了所有这些，但想要一些更优雅的东西。只是从字符串末尾删除一定数量的字符：

```
string.Concat("hello".Reverse().Skip(3).Reverse()); 
```

输出：

```
"he" 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2013-03-22T07:26:26.783

```
myString.Remove(myString.Length-3); 
```

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2020-06-10T19:13:26.323

新的 C# 8.0 范围运算符可以是实现这一目标的绝佳捷径。

示例＃1（回答问题）：

```
string myString = "abcdxxx";
var shortenedString = myString[0..^3]
System.Console.WriteLine(shortenedString);
// Results: abcd 
```

示例 #2（向您展示范围运算符有多么棒）：

```
string s = "FooBar99";
// If the last 2 characters of the string are 99 then change to 98
s = s[^2..] == "99" ? s[0..^2] + "98" : s;
System.Console.WriteLine(s);
// Results: FooBar98 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2013-03-22T07:41:57.453

```
string test = "abcdxxx";
test = test.Remove(test.Length - 3);
//output : abcd 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-03-22T07:27:57.420

您可以使用[`String.Remove`](http://msdn.microsoft.com/en-us/library/9ad138yc.aspx)从指定位置删除到字符串的末尾。

```
myString = myString.Remove(myString.Length - 3); 
```

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2018-10-26T03:51:58.400

可能不完全是您要查找的内容，因为您说它是“动态数据”，但鉴于您的示例字符串，这也有效：

```
? "abcdxxx".TrimEnd('x');
"abc" 
```

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2013-03-22T07:27:55.000

`str= str.Remove(str.Length - 3);`

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2013-03-22T07:28:14.000

```
myString.Substring(myString.Length - 3, 3) 
```

以下是关于子字符串的示例。>>

[http://www.dotnetperls.com/substring](http://www.dotnetperls.com/substring)

参考那些。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2013-03-22T07:29:25.130

```
 string myString = "abcdxxx";
   if (myString.Length<3)
      return;
   string newString=myString.Remove(myString.Length - 3, 3); 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2019-08-16T13:01:05.803

简单的。`text = text.remove(text.length - 3)`. 我减去了 3，因为该`Remove`函数将所有项目从该索引删除到字符串的末尾，即`text.length`. 因此，如果我减去 3，那么我得到的字符串中删除了 3 个字符。

您可以将其概括为`a`从字符串末尾删除字符，如下所示：

```
text = text.remove(text.length - a) 
```

所以我做的是同样的逻辑。该`remove`函数将所有项目从其内部删除到字符串的末尾，即文本的长度。因此，如果我从字符串的长度中减去`a`，这将给我`a`删除字符的字符串。

所以它不仅仅适用于 3，它适用于所有正整数，除非字符串的长度小于或等于`a`，在这种情况下它将返回一个负数或 0。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2018-03-09T12:28:22.887

从字符串中删除最后一个字符

```
TXTB_DateofReiumbursement.Text = (gvFinance.SelectedRow.FindControl("lblDate_of_Reimbursement") as Label).Text.Remove(10) 
```

`.Text.Remove(10)`// 用于删除从索引 10 开始到结束的文本

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2019-07-26T23:05:51.773

```
items.Remove(items.Length - 3) 
```

`string.Remove()`从该索引中删除所有项目到最后。`items.length - 3`从末尾获取索引 3 个字符

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2021-09-16T15:18:55.927

如果您使用 C# 8 或更高版本，则可以使用“ [ranges](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-8.0/ranges) ”：

```
string myString = "abcdxxx";
string trimmed = myString[..^3]; // "abcd" 
```

更多示例：

```
 string test = "0123456789", s;
    char c;
    c = test[^3]; // '7'
    s = test[0..^3]; // "0123456"
    s = test[..^3]; // "0123456"
    s = test[2..^3]; // "23456"
    s = test[2..7]; // "23456"
    //c = test[^12]; // IndexOutOfRangeException
    //s = test[8..^3]; // ArgumentOutOfRangeException
    s = test[7..^3]; // string.Empty 
```

# java - 当我使用java添加浮点数时，它会添加额外的分数如何避免它们？

> ID：15564953
> 
> 赞同：3
> 
> 时间：2013-03-22T07:25:22.840
> 
> 标签：java

我正在尝试添加一长串我定义为浮点数的数字。数字显示为自爆，如图所示，它在添加数字时会添加一些额外的分数，如何避免这些？我应该使用哪种数据类型？

```
float number;
float sum;
....{
   ........
   System.out.println(number);               
   sum = sum + number;
   System.out.println("sum:" + sum);
} 
```

结果

```
3.96
sum:3.96
5.04
sum:9.0
5.04
sum:14.04
2.16
sum:16.2
1.44
sum:17.640001
3.96
sum:21.600002
3.96
sum:25.560001
2.88
sum:28.440002
10.26
sum:38.700005
1.62
sum:40.320004
3.01
sum:43.33
1.8
sum:45.13
1.98
sum:47.11
1.935
sum:49.045002
3.96
sum:53.005
1.44
sum:54.445
1.44
sum:55.885
1.44
sum:57.324997
6.48
sum:63.804996
4.3
sum:68.104996 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T07:27:40.327

这与许多在十进制表示法中看起来很简单的数字不能完全表示为二进制浮点数有关。

让我们检查一下您的示例中的第一个数字，`3.96`。当你将它存储在 a`float`中时，它就变成了`3.95999999999999996447`. 打印时会四舍五入，因此除非您将数字打印为许多有效数字，否则您不会看到错误。

因此，问题与加法无关，而与数字本身有关。但是，错误会随着您的添加而累积。

如果您希望您的计算准确，您可以使用[`BigDecimal`](http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html)而不是`float`/ `double`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:26:42.237

您可以使用 printf

```
System.out.printf("%.2f", sum); 
```

# iphone - App Store 将不再接受访问 UDID 的新应用或应用更新？

> ID：15564956
> 
> 赞同：0
> 
> 时间：2013-03-22T07:25:37.963
> 
> 标签：iphone, ios

根据 Apple，他们不会接受访问 UDID 的新应用或应用更新。那么作为 iam 在应用商店上运行许多应用程序的替代方案是什么。如果我需要更新它们，最简单的解决方案是什么？

见下文：-

在您的应用程序中使用标识符（2013 年 3 月 21 日）

从 5 月 1 日开始，App Store 将不再接受访问 UDID 的新应用或应用更新。请更新您的应用程序和服务器以将用户与 iOS 6 中引入的供应商或广告标识符相关联。您可以在 UIDevice 类参考中找到更多详细信息。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:31:08.197

您可以使用以下内容作为应用用户的唯一标识符：

我使用下面的方法创建一个 UUID 并在应用程序第一次启动时将其保存到用户首选项中：

```
- (NSString *)getUUID
{
    NSString *UUID = [[NSUserDefaults standardUserDefaults] objectForKey:@"uniqueID"];
    if (!UUID)
    {
        CFUUIDRef theUUID = CFUUIDCreate(NULL);
        CFStringRef string = CFUUIDCreateString(NULL, theUUID);
        CFRelease(theUUID);
        UUID = [(__bridge NSString*)string stringByReplacingOccurrencesOfString:@"-"withString:@""];
        [[NSUserDefaults standardUserDefaults] setValue:UUID forKey:@"uniqueID"];
    }
    return UUID;
} 
```

希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:31:30.463

[您可以在此处](https://github.com/ylechelle/OpenUDID)使用 openUDID 下载表格。

```
#include "OpenUDID.h"
NSString* openUDID = [OpenUDID value]; 
```

为上面的 ios 5 提供了一个 UDID 库

[UIDevice-with-UniqueIdentifier-for-iOS-5](https://github.com/gekitz/UIDevice-with-UniqueIdentifier-for-iOS-5)

# javascript - 使用 SIPML5 和 WEBRTC 开发浏览器到浏览器的音频/视频通话

> ID：15564960
> 
> 赞同：1
> 
> 时间：2013-03-22T07:25:54.007
> 
> 标签：javascript, sip, webrtc

我想通过在 Windows 上使用 WebRTC 和 SIPML5 的浏览器开始一个基本的 sip 呼叫。我该如何开始？我能够使用 WebRTC 在浏览器之间进行视频聊天。但我的要求是准备一个演示来演示它们的用法，以便可以将其集成到企业解决方案中。在这个级别，我不能购买任何付费服务器或软件。所以，请提供相同的参考。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-17T12:58:31.213

可能您需要在您的计算机上构建源代码作为第一步，并根据需要处理您的代码（客户端和服务器端）部分，并在正在运行的本地服务器上对其进行测试，并且在您测试此 Web 应用程序之后，如果您满意凭借其性能，您可以将其部署到您向用户提供的 Web 服务器上，祝您好运，

# mysql - phpmyadmin 导出表格到CSV，繁体中文变成问号

> ID：15564964
> 
> 赞同：0
> 
> 时间：2013-03-22T07:26:03.660
> 
> 标签：mysql, csv, phpmyadmin, export

我正在开发一个双语（英文和繁体中文）网站，其内容存储在数据库中。我通常将表导出为 CSV 并批量输入数据，然后将其重新导入表中。中文字符显示在数据库和网站中。但是，每当我导出带有繁体中文字符的表格时，它们就会变成问号。

我尝试将整个表以及各个列的排序规则更改为各种设置（大、二进制、utf8 等），但似乎没有任何效果。我也尝试在导出界面中使用字符集，但它也不能解决问题。

这是 phpmyadmin 的问题还是有一些设置可以解决这个问题？您的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-27T10:07:10.657

我有点解决了将表格导出为包含中文的 csv 的问题。但不是真的用phpmyadmin。您可以使用此导出脚本导出您想要的包含中文的表格，它会正常显示

```
<?php
/*
 * PHP code to export MySQL data to CSV
 * http://salman-w.blogspot.com/2009/07/export-mysql-data-to-csv-using-php.html
 *
 * Sends the result of a MySQL query as a CSV file for download
 */
/*
 * establish database connection
 */
$conn = mysql_connect('MYSQL_HOST', 'MYSQL_USERNAME', 'MYSQL_PASSWORD') or die(mysql_error());
mysql_select_db('MYSQL_DATABASE', $conn) or die(mysql_error($conn));
mysql_query("SET character_set_results=utf8", $conn);
/*
 * execute sql query
 */
$query = sprintf('SELECT * FROM MYSQL_TABLE');
$result = mysql_query($query, $conn) or die(mysql_error($conn));
/*
 * send response headers to the browser
 * following headers instruct the browser to treat the data as a csv file called export.csv
 */
header('Content-Type: text/csv');
header('Content-Disposition: attachment;filename=export.csv');
echo "\xEF\xBB\xBF";
/*
 * output header row (if atleast one row exists)
 */
$row = mysql_fetch_assoc($result);
if ($row) {
echocsv(array_keys($row));
}
/*
 * output data rows (if atleast one row exists)
 */
while ($row) {
echocsv($row);
$row = mysql_fetch_assoc($result);
}
/*
 * echo the input array as csv data maintaining consistency with most CSV implementations
 * - uses double-quotes as enclosure when necessary
 * - uses double double-quotes to escape double-quotes 
 * - uses CRLF as a line separator
 */
function echocsv($fields)
{
$separator = '';
foreach ($fields as $field) {
    if (preg_match('/\\r|\\n|,|"/', $field)) {
        $field = '"' . str_replace('"', '""', $field) . '"';
    }
    echo $separator . $field;
    $separator = ',';
}
echo "\r\n";
}
?> 
```

此代码是从以下来源复制和修改的：

1.  [http://salman-w.blogspot.hk/2009/07/export-mysql-data-to-csv-using-php.html](http://salman-w.blogspot.hk/2009/07/export-mysql-data-to-csv-using-php.html)
2.  [导出为 CSV 时不会显示俄语字符](https://stackoverflow.com/questions/11223156/when-exported-to-csv-russian-characters-wont-display/12097021#12097021)

原来问题不在csv文件中，而是在excel中。不管 csv 文件的编码是什么，excel 总是以 ASCII 格式打开，这把中文搞砸了。上面的代码将

1.  将csv导出为UTF-8编码，这样就可以显示中文了`mysql_query("SET character_set_results=utf8", $conn);`
2.  强制excel用这个将csv打开为UTF-8`echo "\xEF\xBB\xBF";`

虽然这有点解决问题，但如果有人可以通过 phpmyadmin 弄清楚如何做到这一点，而不需要自定义导出脚本，那就太好了。

# ajax - 喜欢按钮不使用 AJAX 更新

> ID：15564973
> 
> 赞同：0
> 
> 时间：2013-03-22T07:26:41.720
> 
> 标签：ajax, ruby-on-rails-3, partial, social-media-like

我通过 :collection 选项将集合 (@feed_items) 传递给 _feed_item 部分，并使用 :as => :dailypost 将其转换为dailypost。

在 _feed_item 部分中，我为 _like_button 渲染了另一个部分，并且我使用 :locals 继续使用dailypost。

数据库一切正常。喜欢被添加和删除:) 但是

**我正在尝试使用（AJAX）来创建.js.erb 和destroy.js.erb 之类的按钮。出于某种原因，只有最上面的帖子得到正确更新，我必须刷新页面才能看到下面的帖子。**

我知道解决方案涉及为每个“like”元素分配一个唯一的帖子 ID，比如“like-123”，但这就是我卡住的地方......

我也知道问题可能出在 _feed_items.html.erb 中，因为我传递了两个 ID ....有什么建议吗？

**意见**

_feed.html.erb

```
<% if @feed_items.any? %>
  <ol>
    <%= render partial: 'shared/feed_item', collection: @feed_items, :as => :dailypost %>
  </ol>
<% end %> 
```

_feed_items.html.erb

```
<li id="<%= @dailypost.id %>">

  <span class="user">
    <%= link_to dailypost.user.name, dailypost.user %>
  <span class="content"><%= dailypost.content_html %></span>

  <div id="like">
    <%= render :partial => 'likes/like_button', :locals =>{:dailypost => dailypost} %>
  </div>

</li> 
```

_like_button.html.erb

```
<% if like = current_user.likes.find_by_dailypost_id(dailypost.id) %>
 <%= form_for like, :html => { :method => :delete }, :remote => true do |f| %>
   <%= f.submit "Unlike" %>
 <% end %>
<% else %>
 <%= form_for current_user.likes.build, :remote => true do |f| %>
  <div><%= f.hidden_field :dailypost_id, value: dailypost.id %></div>
  <%= f.hidden_field :user_id %>
  <%= f.submit "Like" %>
 <% end %>
<% end %> 
```

创建.js.erb

```
$("#like").html("<%= escape_javascript(render :partial => 'like_button', :locals => {:dailypost => @dailypost}) %>"); 
```

销毁.js.erb

```
$("#like").html("<%= escape_javascript(render :partial => 'like_button', :locals => {:dailypost => @dailypost}) %>"); 
```

**控制器**

```
class LikesController < ApplicationController

  respond_to :html, :js

  def create
    @like = Like.create(params[:like])
    @dailypost = @like.dailypost
    respond_to do |format|
      format.js
      format.html { redirect_to :back }
    end
  end

  def destroy
    like = Like.find(params[:id]).destroy
    @dailypost = like.dailypost
    respond_to do |format|
      format.js
      format.html { redirect_to :back }
    end
  end

end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:32:23.250

嗯。用这个替换 _feed_items.html.erb 中的第一行。

```
<li id="dailypost<%= dailypost.id %>"> 
```

并在 create.js.erb 和 destroy.js.erb 中进行更改

```
$("#like").html(...) 
```

到

```
$("#dailypost<%= dailypost.id%> #like").html(...) 
```

这应该有效。

# c++ - eclipse 不会运行我的 exe 文件

> ID：15564977
> 
> 赞同：1
> 
> 时间：2013-03-22T07:26:48.407
> 
> 标签：c++, eclipse, mingw, exe

我正在尝试在 Eclipse 中构建和运行我的 C++ 程序，但它不起作用。我的程序没有 main 函数，但它有 WinMain 并包含 <windows.h>。我将它编译成可执行文件，一切正常，但是当我单击“运行”时，什么也没有发生。当我将可执行文件拖到桌面并双击它时，它运行没有问题。但我希望能够直接从 Eclipse 运行它。

我已经做了一些研究，并且已经尝试了以下方法：

我确保在“二进制解析器”中选中了“PE Windows 解析器”。

我确保工作目录是可执行文件所在的位置（工作空间/项目名称/发布）。

我确保 MinGW 在 PATH 中（我找不到 msys，但一切都在编译，所以我认为这不是问题）。

有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T10:06:19.453

1.- 转到菜单运行 -> 运行配置

2.- 双击左侧子窗口中的 C/C++ 应用程序。

3.- 在右侧子窗口中，按下按钮 Search_Project 并检查您的二进制可执行文件。

4.- 按运行。

如果您需要将参数传递给程序，请转到“参数”选项卡。

![在此处输入图像描述](../Images/68d1e7b3ce6c363a582ab3ba3f4a35da.png)

对于下一次运行，您可以使用 PLAY 工具栏按钮或使用 CTRL+F11。

![在此处输入图像描述](../Images/f8fa2ac1492a32b634c6e1d3285227fd.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T10:10:11.523

将编译器更改为 Visual C++ 而不是 MinGW GCC。只需将您的代码复制到单独的文件中。然后，您只需使用 Visual C++ 作为工具链创建一个新项目。然后你简单地将文件粘贴到目录中，然后运行它。

# android - webview 在 android 4.0 上显示白屏，而在 android 2.3 上运行良好

> ID：15564986
> 
> 赞同：0
> 
> 时间：2013-03-22T07:27:13.553
> 
> 标签：android, android-layout, webview, android-relativelayout

我正在使用网络视图。它在 android 2.3 上运行良好。但它在 android 4.0 中显示白屏作为背景。我检查了数据，数据出现在屏幕上，但白色背景自动出现在我给定背景的位置。我还尝试将这个白色背景设为透明，但它不适用于 android 4.0。我正在提供与我的问题相关的代码。这是 webView.xml

```
 <ImageView
                        android:id="@+id/backButtonZodiacSign"
                        android:layout_width="wrap_content"
                        android:layout_height="0dp"
                        android:layout_marginLeft="10dp"
                        android:layout_weight="0.09"
                        android:contentDescription="@drawable/back3"
                        android:src="@drawable/back3" />

                    <ScrollView
                        android:id="@+id/zodiac_calender_scroll"
                        android:layout_width="wrap_content"
                        android:layout_height="0dp"
                        android:layout_weight="0.91" >`<WebView
                                android:id="@+id/webViewZodiacCalender"
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:background="@android:color/transparent"
                                android:layerType="software"
                                android:layout_alignParentBottom="true"
                                android:layout_below="@+id/zodiac_calender_relative"
                                 />

                    </ScrollView>

                </LinearLayout> 
```

并且活动文件-> 这里的 html 数据来自其他活动。

```
 String sign = null;
                sign = savedInstanceState.getString("zodiacSign");
                zordic_calender_sign = (TextView) findViewById(R.id.zodiac_calender_sign);
                zordic_calender_sign.setText(sign.substring(0, 1).toUpperCase()
                        + sign.substring(1));

                image = (ImageView) findViewById(R.id.zodiac_calender_image);
                String uriZodiacSign = "drawable/" + sign;
                int imageZodiacSign = getResources().getIdentifier(uriZodiacSign, null,
                        getPackageName());
                Drawable drawableZodiacSign = getResources().getDrawable(
                        imageZodiacSign);
                image.setImageDrawable(drawableZodiacSign);

                webView = (WebView) findViewById(R.id.webViewZodiacCalender);
                backButton = (ImageView) findViewById(R.id.backButtonZodiacSign);

                webView.setBackgroundColor(Color.TRANSPARENT);
                webView.loadUrl("file:///android_asset/" + sign + ".html"); 
```

请帮我.... ：（

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T14:00:23.310

如果我正确理解了您的问题，那么您将有一个 webview 显示一些使用白色（或至少接近白色）字体的内容。因此，您需要透明背景。

首先确保 webview 的布局具有您需要的任何颜色，例如：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@android:color/black"
    android:orientation="vertical" >

    <ImageButton
        android:id="@+id/imageButton1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:contentDescription="@null"
        android:src="@drawable/sample_back" />

    <WebView
        android:id="@+id/webContainer"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</LinearLayout> 
```

接下来，实际上，似乎没有考虑从 XML 指定的背景颜色，因此您可以显式调用 setBackgroundColor。如下所示：

```
webContainer = (WebView) findViewById(R.id.webContainer);
webContainer.setBackgroundColor(0x00000000);
webContainer.loadUrl("the_url_to_load"); 
```

那会有帮助吗？

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-22T07:28:32.893

在 Android 4.0 版本的清单文件中使用 android:hardwareAccelerated="true" 否则会显示白屏。