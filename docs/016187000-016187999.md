# StackOverflow 问答 16187000-16187999

# ruby-on-rails - Asset Pipeline Rails 3.2 无法在生产环境中运行

> ID：16187002
> 
> 赞同：1
> 
> 时间：2013-04-24T08:24:24.377
> 
> 标签：ruby-on-rails, apache

如何让 Apache+Passenger 和 Rails Asset Pipeline 很好地协同工作？

当我部署本地工作项目时，出现 500 错误

```
In ActionView::Template::Error occurred in pages#start: jquery-ui-1.8.21.custom.min isn't precompiled 
```

如果我 grep `my_project/current/assets_manifest.yml`for `jquery-ui-1.8`，它会给我

```
 jquery-ui-1.8.21.custom.min.js: jquery-ui-1.8.21.custom.minc50ea0bef9c2fae04ab3b50ead60fc1f.js 
```

并且此文件也存在于`my_project/shared/assets`（以及 jquery-ui-1.8.21.custom.min-c50ea0bef9c2fae04ab3b50ead60fc1f.js.gz、jquery-ui-1.8.21.custom.min.js、jquery-ui-1.8.21.custom .min.js.gz)。

当我 `http://mytestserver/assets/jquery-ui-1.8.21.custom.min-c50ea0bef9c2fae04ab3b50ead60fc1f.js` 在浏览器中打开它时，它会给我正确的 js 文件。

500 错误是从

```
app/views/layouts/application.haml:25 
```

该文件的第 24-26 行是：

```
= javascript_include_tag "application"
= javascript_include_tag "jquery-ui-1.8.21.custom.min"
= csrf_meta_tag 
```

那么可能出了什么问题呢？为什么它不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:07:16.940

如果文件没有被加载，`application.js`那么您需要添加一行`application.rb`以便应用程序知道它：

```
config.assets.precompile += ['jquery-ui-1.8.21.custom.min.js'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T07:20:03.080

我想我解决了..我认为这是步骤：

*   重命名 capistrano 部署的 rake 命名空间（可能重复命名空间和 var 损坏），这也在进行预编译
*   将我包含的每个 js 文件添加`javascript_include_tag`到 config.assets.precompile 以用于生产环境，如@Simon 建议的
*   在 config.assets.precompile 中，它们似乎在没有 .js-extension 的情况下被提及，而在`javascript_include_tag`指令中它们应该包含在 .js-extension 中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T13:10:18.893

`shared/assets`不是资产管道通常查找文件的地方。

通常，资产管道`app/assets`会查看，它可能会查看，`lib/assets`我很确定它`vendor/assets`也会查看。但是有可能`vendor/assets`默认情况下不包括在内，我将在下面讨论。

根据 Rails 约定，我建议您将该依赖项放入`vendor/assets/javascripts`

如果您想将搜索目录添加到资产管道，只需简单修改即可`config.application.rb`

在`YourProject::Application`声明中，添加：

`config.assets.paths << Rails.root.join("vendor/assets/javascripts")`

或者你想要的任何其他路径。

# objective-c - 当 UIView willDisappear 时 UIView 动画停止

> ID：16187007
> 
> 赞同：1
> 
> 时间：2013-04-24T08:24:37.210
> 
> 标签：objective-c, objective-c-blocks, uiviewanimation

我不太喜欢 iOS 动画。我想要实现的是一个简单的消息视图，它从屏幕底部垂直滑动到给定的 y，然后在几分钟后 UIView 垂直回滚以离开屏幕。

```
[UIView animateWithDuration:0.5f
                 animations:^{
                     self.messageView.frame=CGRectMake(x, y -80, width, height);
                 }

                 completion:^(BOOL finished){
                     if (finished) {

                         [UIView animateWithDuration:0.5f delay:2.0f options:UIViewAnimationOptionCurveLinear
                                          animations:^{
                                              self.messageView.frame=CGRectMake(x, y + 80, width, height);
                                          }

                                          completion:^(BOOL finished){
                                              // do something...
                                          }
                          ];
                     }
                 }  ]; 
```

这工作正常，但我在 iOS UITabBar 应用程序中使用此机制时遇到问题：当我更改选项卡时，动画停止，我实际上可以看到“完成”完成是“假”。因此不调用第二个块，并且消息视图保持打开。

以下是问题：

*   我首先关心的是了解我编写的代码是否正确，关于嵌套动画。
*   我可以通过忽略“完成”并执行代码来解决，但我觉得这不是一个好主意
*   在最后一个完成块中，我放置了一些编程逻辑，基本上我正在恢复一些 UIButtons 状态，以及其他一些小的 UI 更改。此时不知道是不是好主意，好像不是，但是怎么能让UI知道消息视图已经消失了。当涉及到快速响应的 UI 更改时，NSNotification 和 KVO 似乎是个坏主意。

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-04-24T08:42:05.607

You can stop all animations for a layer by sending the layer a removeAllAnimations message.

```
[sel.view removeAllAnimations]; 
```

# ajax - Codeigniter 中的 HighChart Pie 动态 JSON

> ID：16187010
> 
> 赞同：1
> 
> 时间：2013-04-24T08:24:48.393
> 
> 标签：ajax, json, codeigniter, highcharts, pie-chart

对此有什么帮助吗？问题是我无法获取饼图中的数据。有任何想法吗？我试图在饼图视图之外回显它，数据在 JSON 中显示为 [{"Terminal":"13"}]。Hightchart 需要数据为 ["Sample", 2]？先生关于如何转换它的任何建议？谢谢。

这是我的代码：

**看法**

```
$(document).ready(function () {

$(function () {
    var chart;

    // Build the chart
    $('.widget-lower-left#widget').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
            text: 'Availability'
        },
        tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage}%</b>',
            percentageDecimals: 1
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: false
                },
                showInLegend: true
            }
        },
        series: [{
            type: 'pie',
            name: 'Availability',
            data: []
        }]

});

});

function requestData() {
$.ajax({
    url: 'home',
    datatype: "json",
    success: function(data) {

        alert(data);
        console.log(data);

      chart.series[0].setData(data);

    },
    cache: false
});

};

}); 
```

然后在**模型中**

```
$results = $this->db->query("SELECT COUNT(get_jeeps_availability) as Terminal FROM get_jeeps WHERE get_jeeps_availability = 'Terminal'");

return $results->result_array(); 
```

在**控制器中**

```
public function index()
{   

    $data['pie'] = json_encode($this->get_model->dashboard_jeep_widget());

    $this->load->view('home',$data);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T10:11:12.173

在 requestData() 函数中，在设置数据之前，以这种方式预处理“数据”：

```
var newData = [];
for( var i = 0, len = data.length; i < len; i++ ) {
    var item = data[i];
    for(var j in item){
        newData.push([j,item[j]]);
    }
}
chart.series[0].setData(newData); 
```

# ruby-on-rails - Ruby on Rails 从文本区域的列表中保存多个子记录

> ID：16187016
> 
> 赞同：0
> 
> 时间：2013-04-24T08:25:06.217
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2, textarea

我已经搜索了堆栈溢出并回答了我的问题，但找不到。所以我希望那里的其他人已经尝试过我之前想做的事情。

我有一个问题模型，它有很多选项。我想要做的是允许用户将选项列表复制到文本区域作为返回/换行分隔列表。

即位置列表

> 伦敦
> 巴黎
> 纽约
> 新加坡
> 悉尼

然后从问题控制器中，我想让这些项目中的每一个都将它们插入选项模型中。

我无法解决的是如何从控制器访问 textarea 元素，因为没有与之关联的对象名称。

任何帮助将不胜感激。

谢谢本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:01:25.767

一种解决方法是将 textarea 元素与您的“选项”属性相关联，然后在模型中编写一个函数以将其拆分为一个数组。

例如，在您看来：

```
<%= form_for @question do |f| %>
...
<%= f.text_field :options %> 
```

然后在你的控制器中：

```
def create
  @question = Question.new(params[:question])

  ...
  @question.split_options

  ...
end 
```

在模型中，该`split_options`方法可以使用 Ruby 的字符串拆分函数返回一个数组，然后将其保存。

# css - Set two floating 's to same height

> ID：16187018
> 
> 赞同：1
> 
> 时间：2013-04-24T08:25:09.623
> 
> 标签：css, dynamic, css-float, positioning

So i am struggling again with css positioning.

Minutes ago, i figured out that floating elements do not affect the height of their parent-container. So how do i set two `div's` which are floating to the same height when said height is dynamic?

**fiddle**

[http://jsfiddle.net/qbaJ8/](http://jsfiddle.net/qbaJ8/)

How do i set the height of the cyan `<div>` to the same height as the dynamic filled green one?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:36:19.187

Add this css:

```
html, body {
   height: 100%;
}

.start-page-wrapper {
    height: 100%;
}

.first-section {
    height: 100%;
} 
```

[Updated jsfiddle](http://jsfiddle.net/qbaJ8/1/)

**EDIT**

Alternatively you can use `display: table` for parent element and `display: table-cell` instead of `float: left` for childs. It will not work in IE7\. [jsfiddle](http://jsfiddle.net/qbaJ8/7/)

# php - PHP 中的对象赋值

> ID：16187020
> 
> 赞同：3
> 
> 时间：2013-04-24T08:25:11.073
> 
> 标签：php, oop, object

我是一名 PHP 学习者。请在下面的 PHP OOP 代码上帮助我：

```
class x{}
$x = new x; 
$x->name = "Chandan";

class y extends x {}  // Inheritance
$y = new y;

var_dump($x);   // object X; Shows Name property
var_dump($y);   // object y; Empty

$y = $x; 
var_dump($x);   // object X; name = chandan
var_dump($y);   // object X; name = chandan

$x->name = "Debasis";
var_dump($x);   // object X; name = debasis
var_dump($y);   // object X; name = debasis 
```

问题 ：

1.  当我们说 $x->name = "Chandan"; 它会创建公共属性吗？在 C++ 中从未见过这样的分配。

2.  对 $x->name 的更改也反映在 $y 对象中。为什么？$y = $x 应该创建一个 $x 的副本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:29:53.623

如果要创建动态对象：

```
$obj = new STDClass(); //Just a simple container, pretty much like array
$obj->anyStuff = "string" ; //Declare some public variables outside the class. 
```

否则，您必须在类中显式声明变量。

此外，对象总是通过引用传递（或分配），因为`$obj`实际上它不是对象，它只是一个引用，一个指向它的链接。对象本身包含在内存中。

`$another = $obj ;`只会创建对同一对象的另一个引用。

要克隆对象，您必须使用： `$clone = clone $obj`;

您还可以定义一个`__clone()`可以在克隆对象时执行的魔术方法。

更多信息[http://php.net/manual/en/language.oop5.cloning.php](http://php.net/manual/en/language.oop5.cloning.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:49:41.950

> 当我们说 $x->name = "Chandan"; 它会创建公共属性吗？在 C++ 中从未见过这样的分配。

当你执行：

```
$x = new x; 
$x->name = "Chandan"; 
```

它创建`x`类的新实例。所以，then`$x->name`只分配给这个实例，而不是一个类。它是一个`public`属性，但仅存在于`$x`实例中。

* * *

> 对 $x->name 的更改也反映在 $y 对象中。为什么？$y = $x 应该创建一个 $x 的副本。

```
class y extends x {}  // Inheritance
$y = new y; 
```

在第一行中，您声明`y`了扩展类`x`。类`y`从 中拿走了所有东西`x`，但仍然无法访问`x`s 的私人成员。它没有继承`$x->name`，因为这个属性存在于`$x`实例中而不存在于`x`类中。

```
$y = $x; 
```

`$y`参考了`$x`. 它不存储 的克隆`$x`，而是引用它存储的地方。这就是`$y`受此影响的原因：

```
$x->name = "Debasis";
var_dump($x);   // object X; name = debasis
var_dump($y);   // object X; name = debasis 
```

PHP 中的对象总是通过引用隐式传递。如果您需要克隆，则需要使用[`clone`](http://php.net/manual/en/language.oop5.cloning.php)关键字显式创建它：

```
$y = clone $x; 
```

* * *

一些有用的链接：

*   [PHP 面向对象](http://php.net/manual/en/language.oop5.php)
*   [PHP 对象克隆](http://php.net/manual/en/language.oop5.cloning.php)
*   [PHP 参考资料](http://php.net/manual/en/language.references.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:33:24.167

如果对象定义让您感到困惑，您可以采取不同的做法。我通常像在其他语言中那样构造对象，唯一的区别是您不必定义类型：

```
class MyClass { 

    // Can use private variables
    private $m_PrivateVar; 
    // Can use protected variables
    protected $m_ProtectedVar;
    // Can use public variables
    public $m_PublicVar

    function __construct()
    {
       // Constructor
    }    
    //etc
} 
```

正如对问题 2 的回答：对象总是通过引用传递，因此当将它们传递给函数时，您不会为该函数创建副本，它是同一个对象（如传递指向标准变量的指针）。赋值也是如此，你的新对象 $y 实际上不再是一个新对象`$y = $x`，它现在是一个指向 $x 的指针。如果您想制作副本，则必须在对象上手动创建复制/克隆功能。

# codeigniter - CodeIgniter 数据映射器选择空列

> ID：16187021
> 
> 赞同：0
> 
> 时间：2013-04-24T08:25:11.373
> 
> 标签：codeigniter, codeigniter-datamapper

我正在尝试使用 datamapper 选择空列。

以下是我尝试过的：

```
 $u = new test();
  $u->where("id",1);
  $u->select('name');
  $u->get();
  $u->result_count(); 
```

我试图找出名称列是否为空。

如果名称存在于数据库中，它将插入该名称，否则将为空。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T12:10:22.323

我建议使用**exists**方法。

```
$u = new text();
$u->where("id",1);
$u->select('name');
$u->get();

if($u->exists()){
//Code if TRUE
}else{
//Code if FALSE
} 
```

您可以在此处找到有关数据映射器实用程序的更多信息：http: [//datamapper.wanwizard.eu/pages/utility.html#exists](http://datamapper.wanwizard.eu/pages/utility.html#exists)

希望这可以帮助！

# excel - 日期更改时的增量

> ID：16187026
> 
> 赞同：0
> 
> 时间：2013-04-24T08:25:24.027
> 
> 标签：excel, excel-formula

再会，

我有一个小问题。我有两个单元格：

B35 是带有 mmm-yy 的日期单元格，B37 是没有小数位的数字。

我想要一个公式，当日期更改时 B37 加 1，即 B35：Mar-13 B37：4 当 B35 输入为 Apr-13 时，然后 B37 自动更改为 5。

我希望我能够清楚地解决我的问题。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T14:36:38.257

我想我已经想通了。

```
Private Sub Worksheet_Change(ByVal Target As Range)
   If Not Intersect(Target, Range("B35")) Is Nothing Then
      Application.EnableEvents = False
      Range("B37").Value = Range("B37").Value + 1
      Application.EnableEvents = True
   End If
End Sub 
```

谢谢你

# jquery - 同一 div 内的 jQuery 焦点/模糊切换

> ID：16187027
> 
> 赞同：1
> 
> 时间：2013-04-24T08:25:24.650
> 
> 标签：jquery, loops, focus, blur

```
$('#topcontainer input,select').focus(function() {

   $("#square1").animate({"opacity":"1"}, 400);

}).blur(function() {

    $("#square1").animate({"opacity":"0.2"}, 400);

}); 
```

这是基本上可以工作的代码。但是，当我在同一个 div 内的不同输入（或选择）之间切换时，会发生代码循环。当我单击一个输入 square1 将其不透明度更改为 1 时，当我传输仍然在同一 div 容器中的第二个输入时，代码会自行循环，不透明度变为 0.2，然后变为 1。有没有办法不循环它而我位于同一个div。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:33:29.433

不知道你想要什么，但我想你应该

使用 jQuery [.stop](http://api.jquery.com/stop/)停止正在进行的动画。

```
$('#topcontainer input,select').focus(function() {

   $("#square1").stop().animate({"opacity":"1"}, 400);

}).blur(function() {

    $("#square1").stop().animate({"opacity":"0.2"}, 400);

}); 
```

看到这个[小提琴](http://jsfiddle.net/HsPKC/)。单击任何控件，然后单击其他任何位置。

# image-processing - 特定点的边缘方向

> ID：16187028
> 
> 赞同：0
> 
> 时间：2013-04-24T08:25:24.970
> 
> 标签：image-processing

我需要找到撞击图像中特定点的边缘的方向。

为了澄清，我有一个中间插入一个白色方块的图像。我还有一个像素 (x,y) 位于这个正方形的边缘（就在白色正方形的外面）。我需要找到“流入”这一点的任何边缘的方向（角度）。

我不太擅长图像处理，而且我很困惑如何做到这一点。

有没有人有关于如何做到这一点的任何提示？

# android - 如何使用phonegap在django服务器中上传文件？

> ID：16187030
> 
> 赞同：4
> 
> 时间：2013-04-24T08:25:26.527
> 
> 标签：android, python, django, cordova

这是我的 phonegapfile 文件：该文件正在向 django 服务器发送数据，但我无法将文件存储在服务器中。用于捕获和存储文件的 python 视图函数是什么？

```
<!DOCTYPE HTML>
<html>
<head>
<title>File Transfer Example</title>

<script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
<script type="text/javascript" charset="utf-8">

// Wait for Cordova to load
//
document.addEventListener("deviceready", onDeviceReady, false);

// Cordova is ready
//
function onDeviceReady() {

    // Retrieve image file location from specified source
navigator.camera.getPicture(uploadPhoto,
function(message) {
    alert('get picture failed');},
    { quality: 50, 
    destinationType: navigator.camera.DestinationType.FILE_URI,
    sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY }
);

}

function uploadPhoto(imageURI) {
    var options = new FileUploadOptions();
    options.fileKey="file";
    options.fileName=imageURI.substr(imageURI.lastIndexOf('/')+1);
    options.mimeType="image/jpeg";

    var params = {};
    params.value1 = "test";
    params.value2 = "param";

    options.params = params;

    var ft = new FileTransfer();
    ft.upload(imageURI, encodeURI("http://something.com/uploadphonegapfil/"),win,fail,options);
}

function win(r) {
    console.log("Code = " + r.responseCode);
    console.log("Response = " + r.response);
    console.log("Sent = " + r.bytesSent);
}

function fail(error) {
    alert("An error has occurred: Code = " + error.code);
    console.log("upload error source " + error.source);
    console.log("upload error target " + error.target);
}
</script>
</head>
<body>
<h1>Example</h1>
<p>Upload File</p>
</body>
</html> 
```

视图.py

```
@csrf_exempt

def uploadPhonegapFile(request):
    print "-------- hitting the url"
    to_json={}
    return HttpResponse(simplejson.dumps(to_json), mimetype= 'application/json') 
```

那个上传请求到达了服务器，我得到了打印“-----------------hitting the url” 那么我怎样才能在这里捕获文件呢？或者有没有办法将文件存储在我的服务器文件夹中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-25T10:12:25.940

如果您使用 JQuery 使用 POST 将文件发送到服务器，而不是`request.FILES['file']`使用`request.POST[]`.

```
if request.method == 'POST':
    filename=request.FILES['file']
    form = SomeForm(request.POST, request.FILES)
    if form.is_valid():
        dest_file = open('C:/system/upload/'+ str(filename), 'wb+')
        path = 'C:/system/upload/upload/'+ str(filename)
        for chunk in  request.FILES['file'].chunks():
            dest_file.write(chunk)
        dest_file.close() 
```

# python - 返回正整数在达到 1 之前可以被 2 整除的次数

> ID：16187031
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:25:26.667
> 
> 标签：python

使用基本的 Python 方法，创建一个接受正整数的函数并回答以下问题：在达到 1 之前，n 可以减半多少次？

我不知道如何开始这个。我知道我需要一个计数功能，但我不确定如何使用该功能。我会使用 n//2 < 1 还是 n%2 == 1

所有帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:30:15.190

尝试这个

```
import math
math.log(100, 2) 
```

# java - Log4J2 和 ApachePDFBox 收到错误消息“无附加程序”

> ID：16187033
> 
> 赞同：2
> 
> 时间：2013-04-24T08:25:36.413
> 
> 标签：java, logging, configuration, log4j2, pdfbox

我使用 PdfBox 1.7.0 和 Log4j 2.0-beta4。

L4j2 配置保存在“resources\Log4j2.xml”中的 als xml（Maven 中的项目）这是 conf：

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration status="OFF" packages="">
    <appenders>
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout>
                <pattern>%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n
                </pattern>
            </PatternLayout>
        </Console>
    </appenders>
    <loggers>

        <logger name="org.apache.pdfbox.util.PDFStreamEngine" level="trace">
            <appender-ref ref="Console" />
        </logger>
        <root level="debug">
            <appender-ref ref="Console" />
        </root>
    </loggers>
</configuration> 
```

我添加了“记录器”，但警告仍然存在：

```
log4j:WARN No appenders could be found for logger (org.apache.pdfbox.util.PDFStreamEngine).
log4j:WARN Please initialize the log4j system properly. 
```

我应该如何配置 L4J？有什么我看不到的明显的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T12:15:34.687

我使用 Log4j2 beta5 对您的配置进行了测试，但无法重现该问题。看起来这是在 beta 5 中修复的。

Beta5 有一些新的好东西（Async Loggers、JMX、JSP taglib）顺便说一句，也许值得一试。

# algorithm - 图案绘制编程逻辑

> ID：16187040
> 
> 赞同：-6
> 
> 时间：2013-04-24T08:25:43.293
> 
> 标签：algorithm

我不记得问题是从哪里来的..但我是通过以下方式来的：

如果用户输入 3

输出应该是：

```
1*2*3*10*11*12
--4*5*8*9--
----6*7---- 
```

如果 5

然后，

```
1*2*3*4*5*26*27*28*29*30
--6*7*8*9*22*23*24*25--
----10*11*12*19*20*21----
------13*14*17*18------
--------15*16-------- 
```

正如你所看到的，我们从上到下打印数字，然后再从下到上打印。我们不能像`setw()`在 c++ 中那样使用任何格式化类型函数。

你能给出任何相同的算法/逻辑吗..谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:42:47.807

您只需以某种模式打印 M = n*(n+1) 个数字，例如..

设 n=5 m=30 所以，

列表 = 1,2,3,4,5,.....26,..30

第 (1) 行有（前 n 个数字后跟 list 的最后 n 个数字）

第 (1) 行 =(1,2..5)(26..30)

更新列表=6,7,..25

第 (2) 行有（前 n-1 个数字后跟 n-1 个 list 数字）

类似地 Line(k) 在列表中有 (前 (n+1-k) 个数字，后跟最后 (n+1-k) 个数字

名单）

您需要做的就是不断更新成型线上的列表并以您需要的图案打印它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T09:13:07.043

一个 C++ 实现：

*没有任何格式*

```
void print(int n) {
    for(int i=n, cl=1, cr=n*n+1; i>0; cl+=i, --i, cr-=i) {
        for(int j=0; j<i; ++j) cout << cl+j;
        for(int j=0; j<i; ++j) cout << cr+j;
        cout << endl;
    }
} 
```

*带有破折号和星星*

```
void print(int n) {
    for(int i=n, cl=1, cr=n*n+1; i>0; cl+=i, --i, cr-=i) {
        for(int j=0; j<n-i; ++j) cout << "--";
        for(int j=0; j<i; ++j) cout << cl+j << "*";
        for(int j=0; j<i; ++j) cout << cr+j << (j-i+1?"*":"");
        for(int j=0; j<n-i; ++j) cout << "--";
        cout << endl;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T08:44:33.667

```
Max value = sum for n=1 to R ( n + 2 )
Where R is the user supplied value

e.g. R=5 Max Value = 2 + 4 + 6 + 8 + 10 = 30

so lowest row = Max Value / 2 : (15), Max Value / 2 + 1: (16), 
entity count = 2

next row
LHS = 15-2, 15-1
RHS = 16+1, 16+2
entity count = 4 (it always goes up 2 entities at a time)

and repeat until you get a 1 at LHS first value 
```

足够的线索？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-24T08:50:13.247

好的将问题分成几行。假设给定的数字是`n`。

我们可以看到第一行的大小`2n`（对于这个 V1 是变量）并且第一个`n`数字是`1`通过`n`（对于这个 V2 有一个变量）接下来的 n 个数字是`n*n+1`通过`n*n+n`（对于这个 V3 有一个变量）

第二行的大小`2n-2`，所以第一行是`n-1`前一个 V1 的延续，第二行`n-1`是 `n*(n-1)`through `n*(n-1)+n`。

对其余的行执行此操作..

最后一行应该以`(n-1) == 1`.

演示：对于 n = 5 第一个主循环

```
1.2.3.4.5.26.27.28.29.30 
```

第二个大循环

```
--6.7.8.9.22.23.24.25-- 
```

第三大循环

```
----10.11.12.19.20.21. 
```

4rt

```
------13.14.17.18------ 
```

第 5 名

```
--------15*16-------- 
```

现在以**C 语言为例**

```
#include<stdio.h>
int main()
{
    int num = 7,
        //linesize = 2*num,  
        //space = 0,
        fst = 1,
        snd = 0;

  if(num%2)                              //for odd n
    snd = (((num*num)+num)/2)+1;
  else                                     //for even n
    snd = (((num*num)+num)/2);  

const int diff = (num*num)-snd+1; //needed to offset snd from its value and print the temporary

//printf("%d\n",snd);    //debug
for(int i = 0 ; i < num ; i++)
{
    //linesize = 2*(num-i);                   // no of elements to print per line, debug
    //space = i;                                // no of space to print per line, debug
    for(int k = 0 ;k <i;k++)printf("   ");   //space before the values

    for(int j = 0;j<(num-i);j++)
    {
        printf("%d  ",fst++); //print fst n numbers
    }

    //printf(" ");

    for(int j = 0;j<(num-i);j++)
    {
            printf("%d  ",snd+j+diff); // print second n numbers
    }
    snd -= (num-(i+1)); //decrement snd
    for(int k = 0 ;k <i;k++)printf("   ");
    printf("\n");
}
return 0;
} 
```

# c# - MVC 4 EmailAddress - 未使用字符串编辑器模板

> ID：16187041
> 
> 赞同：3
> 
> 时间：2013-04-24T08:25:44.857
> 
> 标签：c#, .net, asp.net-mvc

我遇到了一个奇怪的问题，包括`[EmailAddress]`DataAnnotation，比如：

```
public string EmailAddress { get; set; } 
```

工作`EditorTemplate/String.cshtml`正常。

然而：

```
[EmailAddress]
public string EmailAddress { get; set; } 
```

这完全停止了拾取`String.cshtml`文件，这对我的场景来说并不理想。关于为什么会发生这种情况以及我能做些什么的任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T08:36:21.760

为 EmailAddress 添加一个显示模板，例如如何看[这里](https://stackoverflow.com/questions/16145088/custom-display-templates-for-datatype-emailaddress-and-datatype-phonenumber)。还有可用的 Nuget 包为所有 HTML5 输入类型添加显示模板。

# ruby-on-rails - 在 Rails 博客上编辑评论时出现路由错误

> ID：16187047
> 
> 赞同：0
> 
> 时间：2013-04-24T08:26:25.177
> 
> 标签：ruby-on-rails, ruby, routes

在我决定为评论添加编辑功能之前，我的应用程序运行良好。在此之前，我可以查看特定文章，但现在不能。我在评论视图中添加了 edit.html.erb 页面，并将 _comment_form.html.erb 作为部分。现在我无法访问 article/12（例如），当我尝试时，它说`No route matches {:action=>"edit", :controller=>"comments", :article_id=>#<Article id: 21, title: "good for health", body: "uby on Rails 3 Model Data Validation\r\nRails Model D...", created_at: "2013-04-14 15:14:19", updated_at: "2013-04-24 05:51:20", user_id: 1, impressions_count: 7>, :id=>#<Comment id: nil, content: nil, user_id: nil, article_id: 21, created_at: nil, updated_at: nil>}`

基本上，我正在尝试在文章/显示页面上实现评论编辑功能。为此，我在评论视图下添加了 edit.html.erb。但现在没有任何效果。任何建议都会很感激。

评论控制器.rb

```
class CommentsController < ApplicationController
     before_filter :user_signed_in, except: [:create]
    def new
      @comment = Comment.new
    end

    def create
      @article = Article.find(params[:article_id])
      @comment = @article.comments.build(params[:comment])
      @comment.user_id = current_user.id
      @comment.save
        flash[:success] = "Comment created!"
        redirect_to article_path(@comment.article)
    end

    def edit
    @comment = Comment.find(params[:id])
    end

    def update
     @comment = Comment.find(params[:id])
     @article = @comment.article
     respond_to do |format|
      if @comment.update_attributes(params[:comment])
        redirect_to @article_path(@article)
      else
       render :action => "edit" 
      end
    end

    def destroy
     @comment = Comment.find(params[:id])
    @article = Article.find(params[:article_id])
    @comment.destroy
       redirect_to @article_path(@artilce) 
    end

end 
```

评论/edit.html.erb

```
<h3>Editing comment</h3>
<%= render :partial => 'comment_form' %> 
```

评论/_comment_form.html.erb

```
<%= form_for ([@article, @article.comments.build]), :required => true do |f| %>
 <%= f.hidden_field :article_id %> 
 <%= f.text_area :content, :style => "width:727px; height:100px; border: 1px solid #999999;margin-top:80px; background-color:#FFFFFF;margin-left:-33px" %>
    <div class="actions">
    <%= f.submit "Add Comment", :style => "margin-right:20px; margin-left:560px; background-color:#66C9Ef; color:#FFFFFF; border: 0px solid #82b548; border-radius: 3px 3px 3px 3px; font-size: 1.3rem;" %>
  </div>
<% end %> 
```

comments/comment.html.erb（这里我给出了编辑文章评论的链接）

```
<% if @article.comments.count  >= 1 %>
  <div style="border: px solid #66c9ee;border-radius: 0px 0px 0px 0px;margin: 10px -30px 15px; padding:     10px 15px 25px; background: none repeat scroll 0 0 #F2F2F2; width:700px; font-size: 1.2em;border-bottom: 0px solid #DDDDDD;">
      <%= comment.content %>
         <div id="tabula"> 
            <ul id="tabula">
             <li> <div style="color: #0077CC;margin-rigth:200px; font-size: 1.0em;margin-top:4px;background-color:#;"> <%= comment.user.username if comment.user %></div></li>
             <li> <div style="color: #0077CC; background-color:; margin-top:4px; margin-left:25px;"> <p> <%= time_ago_in_words(comment.created_at.in_time_zone("Asia/Calcutta"))  unless comment.created_at.nil? %>  </p></div></li>
             <li> <div style="color: #0077CC; background-color:; margin-top:4px; margin-left:25px;"> <%= link_to "edit", edit_article_comment_path(@article,comment) %> </div></li>
            </ul>
           </div>
          </div>
    <% else %>
        <div style="color:#0077CC;margin-left:25px;font-size:1.4em;"> be first to comment</div>
  <% end %> 
```

routes.rb（未满）

```
 articles GET    /articles(.:format)                               articles#index
                 POST   /articles(.:format)                               articles#create
     new_article GET    /articles/new(.:format)                           articles#new
    edit_article GET    /articles/:id/edit(.:format)                      articles#edit
         article GET    /articles/:id(.:format)                           articles#show
                 PUT    /articles/:id(.:format)                           articles#update
                 DELETE /articles/:id(.:format)                           articles#destroy
 dashboard_index GET    /dashboard(.:format)                              dashboard#index
                 POST   /dashboard(.:format)                              dashboard#create
   new_dashboard GET    /dashboard/new(.:format)                          dashboard#new
  edit_dashboard GET    /dashboard/:id/edit(.:format)                     dashboard#edit
       dashboard GET    /dashboard/:id(.:format)                          dashboard#show
                 PUT    /dashboard/:id(.:format)                          dashboard#update
                 DELETE /dashboard/:id(.:format)                          dashboard#destroy

               tags GET    /tags(.:format)                                   tags#index
                     POST   /tags(.:format)                                   tags#create
             new_tag GET    /tags/new(.:format)                               tags#new
            edit_tag GET    /tags/:id/edit(.:format)                          tags#edit
                 tag GET    /tags/:id(.:format)                               tags#show
                     PUT    /tags/:id(.:format)                               tags#update
                     DELETE /tags/:id(.:format)                               tags#destroy
    article_comments GET    /articles/:article_id/comments(.:format)          comments#index
                     POST   /articles/:article_id/comments(.:format)          comments#create
 new_article_comment GET    /articles/:article_id/comments/new(.:format)      comments#new
edit_article_comment GET    /articles/:article_id/comments/:id/edit(.:format) comments#edit
     article_comment GET    /articles/:article_id/comments/:id(.:format)      comments#show
                     PUT    /articles/:article_id/comments/:id(.:format)      comments#update
                     DELETE /articles/:article_id/comments/:id(.:format)      comments#destroy
                     GET    /articles(.:format)                               articles#index
                     POST   /articles(.:format)                               articles#create
                     GET    /articles/new(.:format)                           articles#new
                     GET    /articles/:id/edit(.:format)                      articles#edit
                     GET    /articles/:id(.:format)                           articles#show
                     PUT    /articles/:id(.:format)                           articles#update
                     DELETE /articles/:id(.:format)                           articles#destroy 
```

路线.rb

```
Mau::Application.routes.draw do
  devise_for :users
  root :to => 'articles#index'
  resources :articles
  resources :dashboard
  resources :tags
  resources :articles do
  resources :comments
end
end 
```

注意：当我访问没有评论的文章时，它可以工作，但是当我尝试访问有评论的文章时，它会显示上述路由错误。任何建议都会很感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:34:59.447

我的排名太低，无法发表评论，但是请发布您的路线文件，但我认为这里可能有问题`/articles/:article_id/comments`

您在编辑中的评论没有 ID。它是一个新鲜的变量吗？请朝那个方向调查

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:49:38.597

1.  尝试评论编辑链接并检查它是否有效。如果有效，则问题出在编辑评论方法中。

2.  你的路径应该是 edit_article_comment_path(article_id ,comment_id) 因为评论是一个嵌套控制器，它总是需要一个文章 ID 来显示

# mysql - 有什么更好的，很多重复的行或增加表格？

> ID：16187048
> 
> 赞同：1
> 
> 时间：2013-04-24T08:26:31.857
> 
> 标签：mysql, hibernate, database-design

我有一个文件共享应用程序。我没有将文件存储在数据库中。它只是在文件夹中。这些是用户上传的文件。现在每个文件都可以与多个用户共享，比如 1 个文件与千人共享。我想以最简单的方式实现这一点，并牢记性能。现在我有两个选择。

1) 包含 id、所有者、文件名、文件路径、shared_with 等列的表**（由 ',' 分隔的值。例如 user1、user2、user3）**、日期。

2) 为每个用户创建一个表，其中包含 id、owner、filename、file-path 列。

我认为 1 选项更可取，但很难知道与特定用户共享了多少文件。无论如何，我问了因为可能会有更好的答案，谢谢我正在考虑选择这些选项。谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:27:49.917

您的两个解决方案都有问题。

使用第一个选项，您将使用逗号分隔的用户字段来共享文件。有了这个，几乎不可能有效地搜索用户共享的文件。

使用第二个，您将获得大量桌子。如果您想知道与您共享文件的所有用户，则需要检查这些表中的每一个。这会很慢。

解决方案是有一个文件表，以及谁与他们共享文件的表。在第二张表上，每个文件和共享对象将有一行（即，如果一个文件与 3 个人共享，则该文件在该表上将有 3 行）。

如下所示。

文件表。每个文件一行

```
--
-- Table structure for table `filestable`
--

CREATE TABLE IF NOT EXISTS `filestable` (
  `FileId` int(11) NOT NULL AUTO_INCREMENT,
  `FileName` varchar(255) NOT NULL,
  `Owner` int(11) NOT NULL,
  `FilePath` varchar(255) NOT NULL,
  PRIMARY KEY (`FileId`),
  KEY `Owner` (`Owner`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

用户表。每个用户一行

```
--
-- Table structure for table `filesusers`
--

CREATE TABLE IF NOT EXISTS `filesusers` (
  `UserId` int(11) NOT NULL AUTO_INCREMENT,
  `UserName` varchar(255) NOT NULL,
  PRIMARY KEY (`UserId`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

文件共享表。每个文件将在此处具有一对多行，每个用户也将如此。用户有权访问的每个文件 2 将有一行

```
--
-- Table structure for table `filesshares`
--

CREATE TABLE IF NOT EXISTS `filesshares` (
  `Id` int(11) NOT NULL AUTO_INCREMENT,
  `FileId` int(11) NOT NULL,
  `UserId` int(11) NOT NULL,
  PRIMARY KEY (`Id`),
  KEY `FileId` (`FileId`),
  KEY `UserId` (`UserId`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

通过这种方式，您可以轻松地连接表以查找用户有权访问的任何文件，或文件可以访问的任何用户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:27:37.520

两个选项都没有

您已经有一个文件表和一个用户表。因此，您添加了一个包含 2 列 FileID、UserID 的文件/用户表

每列都是相应表的外键。两者共同构成主键。

您可以添加其他列来跟踪下载或日期时间戳等

# jsf - 跨回发保留原始 GET 请求参数

> ID：16187049
> 
> 赞同：6
> 
> 时间：2013-04-24T08:26:33.577
> 
> 标签：jsf, jsf-2

我有一个简单的页面，它与`@RequestScoped`支持 bean 相关联。我从传递参数“项目”的其他页面进入此页面。所以当我进入正确的页面时，我有 url 之类的`contextRoot/faces/jsf.xhtml?project=123`。

看法：

```
<f:metadata>
    <f:viewParam name="project" value="#{entityBean.projectId}" />
</f:metadata>       
...
<p:commandButton value="#{msg['button.add']}"
    actionListener="#{entityBean.addNewEntity((entityName),(entityDescritpion))}"
    ajax="true" update=":projectDetailForm"/> 
```

支持豆：

```
@Named("entityBean")
@RequestScoped
public class EntityBean implements Serializable{
    private String projectId;

    @PostConstruct
    public void init() {
        params = FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap();

        for (Map.Entry<String, String> entry : params.entrySet()) {
            System.out.println(entry.getKey() + " / " + entry.getValue());
        }

        if (params.get("project") != null) {
            projectId = params.get("project");
        } else {
            HttpServletRequest request =
                (HttpServletRequest)FacesContext.getCurrentInstance().getExternalContext().getRequest();
            String projectId = request.getParameter("project");
        }
    }

    //projectId getter and setter
    //public void addNewEntity(String name, String desc) {}
} 
```

第一次打开页面时一切正常。GET 参数已成功处理。但是，由于 bean 是请求范围的，它在请求结束时被销毁，并在后续回发时重新创建。在这些回发期间，GET 参数不再可用，即使它在浏览器地址栏中可见。我尝试了三种通过甚至从获取参数的方法，`f:viewParam`但`ExternalContext`我`ServletContext`无法获取这些参数。

我不想更改`@RequestScoped`为`@SessionsScoped`，也不能使用`@ViewScoped`，因为我正在使用 CDI bean，我不想混合它们。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-24T11:34:15.943

您需要[`<f:param>`](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/f/param.html)在[`UICommand`](http://docs.oracle.com/javaee/6/api/javax/faces/component/UICommand.html)组件中为后续请求保留请求参数。例如

```
<p:commandButton ...>
    <f:param name="project" value="#{param.project}" />
</p:commandButton> 
```

或者，您可以使用[`<o:form>`](http://showcase.omnifaces.org/components/form)JSF 实用程序库[OmniFaces](http://omnifaces.org)，它基本上扩展了`<h:form>`一个附加属性`includeViewParams`，使您能够保留通过`<f:viewParam>`为后续请求注册的请求参数。

```
<o:form includeViewParams="true">
    ...
</o:form> 
```

如果您有多个命令按钮/链接和 ajax 操作，这最终可能会更容易。

在您的情况下，浏览器地址栏中的 URL 没有更改，因为您正在触发 ajax 请求。但是，您可以通过右键单击生成的 HTML 输出中看到的*实际*URL - 在浏览器中*查看源*，默认情况下不包含当前的 GET 参数。`<form action>`

 ** * *

**与具体问题无关**，在 postconstruct 中手动收集参数，您基本上忽略了`<f:viewParam>`. 我建议仔细阅读以下答案以了解如何正确使用它们：

*   [<f:metadata>、<f:viewParam> 和 <f:viewAction> 可以用来做什么？](https://stackoverflow.com/questions/6377798/what-can-fmetadata-and-fviewparam-be-used-for/6377957#6377957)
*   [ViewParam 与 @ManagedProperty(value = "#{param.id}")](https://stackoverflow.com/questions/4888942/viewparam-vs-managedpropertyvalue-param-id/4889226#4889226)*

# ruby - Gem 不会通过 config.ru 加载

> ID：16187050
> 
> 赞同：4
> 
> 时间：2013-04-24T08:26:35.843
> 
> 标签：ruby, gem, passenger, require

我有自己的宝石“RocketRuby”。我将它加载到 irb 中，它可以加载它。在早期版本中，我的 config.ru 中也有它并且它有效。

现在我再次编译并再次安装它。然后（它仍然通过将其加载到 irb 中工作）乘客崩溃并告诉我：

```
cannot load such file -- rocketruby (LoadError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  config.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  config.ru:1:in `new'
  config.ru:1:in `<main>'
  /var/lib/gems/1.9.1/gems/passenger-4.0.0.rc6/helper-scripts/rack-preloader.rb:82:in `eval'
  /var/lib/gems/1.9.1/gems/passenger-4.0.0.rc6/helper-scripts/rack-preloader.rb:82:in `preload_app'
  /var/lib/gems/1.9.1/gems/passenger-4.0.0.rc6/helper-scripts/rack-preloader.rb:127:in `<module:App>'
  /var/lib/gems/1.9.1/gems/passenger-4.0.0.rc6/helper-scripts/rack-preloader.rb:6:in `<module:PhusionPassenger>'
  /var/lib/gems/1.9.1/gems/passenger-4.0.0.rc6/helper-scripts/rack-preloader.rb:5:in `<main>' 
```

config.ru 看起来像这样：

```
require "rocketruby"
require "./shop_of_one.rb"

ShopOfOne.instance

run RocketRuby::RackApplication.new 
```

非常奇怪的是，虽然出现了这个错误，但在 irb 中`require "rocketruby"`仍然有效。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-23T14:57:15.390

`apache`乘客以自己的用户身份运行，即使加载它的用户也不共享环境。这意味着您的 gem 在尝试运行时可能未安装。

使用 bundler 可以解决这个问题，我相信还有其他方法，但是添加一个 Gemfile，运行`bundle install --deployment`并添加这个：

```
require 'rubygems'
require 'bundler'

Bundler.require 
```

到您的机架应用程序的顶部将解决该问题。

# android - JSON对象解析

> ID：16187052
> 
> 赞同：1
> 
> 时间：2013-04-24T08:26:39.143
> 
> 标签：android, json

我需要解析一些 JSON 对象，它看起来像这样：

```
{"searchdata":{},"userdata":{"currency":"69","notificationCount":7}} 
```

我使用以下代码来实现这一点：

```
JSONObject rootObj = new JSONObject(getResponse);
JSONObject jSearchData = rootObj.getJSONObject("searchdata");
JSONObject userData = jSearchData.getJSONObject("userdata");

String currency = userData.getString("currency"); 
```

我无法`currency`从上面的代码中打印对象。我不断收到异常：

```
Exception: org.json.JSONException: No value for userdata 
```

我不知道我做错了什么。

任何形式的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-24T08:27:56.363

```
JSONObject rootObj = new JSONObject(getResponse); 
```

`userData`在里面`rootObj`不在里面`searchdata`

对于空值，您应该使用：

```
isNull

if (!rootObj.isNull("userdata")) {
    JSONObject userData = rootObj.getJSONObject("userdata");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:28:47.003

利用

```
JSONObject userData = rootObj.getJSONObject("userdata"); 
```

要得到`currency`

```
currency  = userData.getString("currency"); 
```

像这样使用...

检查对象为空..

根据@blackbelt的回答使用：`if (!rootObj.isNull("userdata"))`

# youtube-api - YouTube Data API V3：如何根据频道名称获取用户 ID？

> ID：16187054
> 
> 赞同：2
> 
> 时间：2013-04-24T08:26:40.410
> 
> 标签：youtube-api

我想以编程方式将虚名（如“thejntest”）替换为相应的用户 ID（UCWLptbzZ ....）。[我在Channels-List](https://developers.google.com/youtube/v3/docs/channels/list)调用中找不到任何可能性

在 stackoverflow 上搜索后，我找到了以下线程（[Retrieve Youtube Channel info for "Vanity" channel ），其中描述了](https://stackoverflow.com/questions/13593769/retrieve-youtube-channel-info-for-vanity-channel)[Search-List](https://developers.google.com/youtube/v3/docs/search/list)调用的用法。尽管在 youtube 上搜索给定的用户名和 contenttype = "channel" 是个好主意，但我根本没有收到令人满意的结果。（有时结果太多）

所以我想知道是否还有另一种可能根据用户名获取用户ID？或者依赖搜索查询的第一个结果是否安全，或者通过仔细检查返回的用户名是否对应于给定的搜索查询？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-03-25T21:42:15.180

我知道答案是 1 年后，但在 youtube API 的 V3 中，您可以使用频道 ID (param `id`) 或用户名 (param `forUsername`)调用

用户名示例：

```
https://www.googleapis.com/youtube/v3/channels?part=id%2Csnippet%2Cstatistics%2CcontentDetails%2CtopicDetails&forUsername=KarlWolfVEVO&key={YOUR_API_KEY} 
```

频道 ID 示例：

```
https://www.googleapis.com/youtube/v3/channels?part=id%2Csnippet%2Cstatistics%2CcontentDetails%2CtopicDetails&id=UC8FAXi_Vb4kDocI1UrH_sKQ&key={YOUR_API_KEY} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T09:17:23.027

我同意这似乎违反直觉，但我已通过 Youtube 开发人员关系团队向我保证，给定频道名称的搜索方法的第一个结果将始终返回正确的频道项目（和 id）。

确保在搜索中保留 type = "channel"，并且可以通过在调用中包含 "maxResults=1" 将结果集限制为 1。

例如，以下调用：

> `https://www.googleapis.com/youtube/v3/search?part=id%2Csnippet&maxResults=1&q=thejntest&type=channel&key={YOUR_API_KEY}`

返回：

```
{
 "kind": "youtube#searchListResponse",
 "etag": "\"4IfXb8Dc78bqDKapqHxgOpqGpzM/lKqCVcHLORctmp6mp9sgSil_W0w\"",
 "pageInfo": {
  "totalResults": 1,
  "resultsPerPage": 1
 },
 "items": [
  {
   "kind": "youtube#searchResult",
   "etag": "\"4IfXb8Dc78bqDKapqHxgOpqGpzM/UoEAOMl45xX5SIWjDGxyS-74WKE\"",
   "id": {
    "kind": "youtube#channel",
    "channelId": "UCWLptbzZMaxQ7doUzgjMg_A"
   },
   "snippet": {
    "publishedAt": "2013-04-23T08:28:54.000Z",
    "channelId": "UCWLptbzZMaxQ7doUzgjMg_A",
    "title": "TheJNtest",
    "description": "What a wonderful testing world it is!",
    "thumbnails": {
     "default": {
      "url": "https://i.ytimg.com/i/WLptbzZMaxQ7doUzgjMg_A/1.jpg"
     },
     "medium": {
      "url": "https://i.ytimg.com/i/WLptbzZMaxQ7doUzgjMg_A/mq1.jpg"
     },
     "high": {
      "url": "https://i.ytimg.com/i/WLptbzZMaxQ7doUzgjMg_A/hq1.jpg"
     }
    },
    "channelTitle": "TheJNtest"
   }
  }
 ]
} 
```

其中“UCWLptbzZMaxQ7doUzgjMg_A”是您的频道 ID。

# soap - attribute_of 的名称自定义

> ID：16187055
> 
> 赞同：0
> 
> 时间：2013-04-24T08:26:45.863
> 
> 标签：soap, python-2.7, spyne

我正在玩`attribute_of`spyne 2.10（很高兴它出来了）。让我们考虑以下模型：

```
class Product(ComplexModel):
    id = complex.XmlAttribute(primitive.Uuid)
    edition = primitive.Unicode
    edition_id = complex.XmlAttribute(primitive.Uuid, attribute_of='edition') 
```

这给出了如下结果：

```
<product id="00000000-0000-0000-0000-000000000000">
    <edition edition_id="00000000-0000-0000-0000-000000000000">My edition</edition>
</product> 
```

如何`edition_id`为结果自定义名称`<edition id="..."/>`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T06:40:39.103

从 2.10 开始，Spyne 不支持此功能。

我想不出一个简单的解决方法，因为它需要编写 method_call 和 method_return_document 事件以及 wsdl 事件来手动修补 wsdl。

但是，如果您可以为它编写测试，我会看看我能为 2.11 做些什么。

# mysql - mysql my.cnf 配置为 6gb 内存

> ID：16187062
> 
> 赞同：0
> 
> 时间：2013-04-24T08:27:01.050
> 
> 标签：mysql, configuration, myisam, my.cnf

我有专用服务器（Intel Quad Core Xeon E5645 VT，6 GB RAM）。但是我有mysql的问题。

我的网站每天有 40-60k 单用户。我需要配置 my.cnf 以获得最佳性能。

我目前的配置：

```
key_buffer              = 256M
max_allowed_packet      = 32M
thread_stack            = 320K
thread_cache_size       = 20
myisam-recover         = BACKUP
max_connections        = 500
myisam_sort_buffer_size = 24M
table_cache            = 1024
tmp_table_size = 48M
query_cache_limit       = 3M
query_cache_size        = 128M 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:23:18.840

对于 table_open_cache，看看这个页面： [https](https://kb.askmonty.org/en/optimizing-table_open_cache/) ://kb.askmonty.org/en/optimizing-table_open_cache/ （它是关于 MariaDB，但也适用于 MySQL）

对于 key_buffer_size： [https ://kb.askmonty.org/en/optimizing-key_buffer_size/](https://kb.askmonty.org/en/optimizing-key_buffer_size/)

对于 max_connections： [https ://kb.askmonty.org/en/handling-too-many-connections/](https://kb.askmonty.org/en/handling-too-many-connections/)

当然 myisam-recover=BACKUP 会减慢您的速度，因此请确保它是必要的。但我建议您添加 FORCE，以防您的服务器崩溃。

检查 query_cache_limit 是否太高（当然这取决于您的工作量）。tmp_table_size 对于避免基于磁盘的临时表非常重要，但我帮不了你，因为只有你知道你的 GROUP BY 有多重。

如果不使用 InnoDB，可以禁用插件以节省内存。

# jquery - jquery选中/取消选中复选框列表

> ID：16187065
> 
> 赞同：1
> 
> 时间：2013-04-24T08:27:07.657
> 
> 标签：jquery

自从升级到 jquery 1.9 后，我的脚本停止检查/取消选中复选框。

我有一个主复选框，用于控制选择/检查表格中的复选框列表。升级到新的 jquery 版本后，只有最初单击“检查所有”复选框才会被选中。第二次单击“全选”会导致复选框取消选中，但是在单击 2 次后单击“全选”表格复选框不再起作用。

![在此处输入图像描述](https://i.stack.imgur.com/vyrTB.png)

脚本：

```
 $("#itemsList .checkall").on("click", function () {
        $(".checkbox").attr("checked", $(this).is(':checked'));
    }); 
```

也试过这个：

```
 $("#itemsList .checkall").click(function () {
        $(".checkbox").attr("checked", $(this).is(':checked'));
    }); 
```

html "检查所有":

```
<input type="checkbox" id="checkall" name="checkall" class="checkbox checkall"> 
```

html 表格复选框：

```
<input type="checkbox" value="1" class="checkbox"> 
```

在切换到 jquery 1.9 之前，这曾经工作得很好。是什么赋予了？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:30:15.667

`prop`从 jQuery 1.6 开始，应该使用更改元素属性的方法而不是`attr`.

```
$("#itemsList .checkall").on("change", function () {
     $(".checkbox").prop("checked", this.checked);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:31:41.143

尝试使用[prop()](http://api.jquery.com/prop/)代替，因为：

> 从 jQuery 1.6 开始，.attr() 方法为尚未设置的属性返回 undefined。要检索和更改 DOM 属性，例如表单元素的选中、选择或禁用状态，请使用 .prop() 方法。

```
$("#itemsList .checkall").on("change", function () {
    $(".checkbox").prop("checked", this.checked);
}); 
```

# c# - 当我在 C# 中调用“invoke()”函数时，我的程序有什么问题？

> ID：16187066
> 
> 赞同：-3
> 
> 时间：2013-04-24T08:27:08.220
> 
> 标签：c#, multithreading, datagridview

我想在子线程中添加新的 DataGridview 行。我试过这样：

```
delegate void addgridrow(object [] row);
void addInSubthread(object[] row)
{
    if{datagdview.invokerequired)
    {
         addgridrow myadd=new addgridrow(addInSubthread);
         this.invoke(myadd,row);
    }
    else
        datagdview.Rows.Add(row);
} 
```

当我打电话时， `addInSubthread()`程序抛出`targetparametercountexception`。`this.invoke(....)`

怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:33:32.433

改变

```
this.invoke(myadd,row); 
```

至

```
this.Invoke(myadd,new object[]{row}); 
```

# javascript - Object.create 而不是 Constructors 用于继承

> ID：16187072
> 
> 赞同：2
> 
> 时间：2013-04-24T08:27:37.087
> 
> 标签：javascript, ecmascript-5

我希望能够学习根据新的 JavaScript ECMA 5 标准创建对象，并在我当前的项目中使用它们，而不会破坏功能。但我看到无法解释的东西让我害怕

考虑以下代码：

```
var foo = {
        oldProp: 'ECMA Script 3',
        newProp: 'ECMA Script 5'
    };

// The new way of inheritance
var bar = Object.create( foo );

// and of assigning properties, if I am right
var bar2 = Object.create( Object.prototype, {
        oldProp: { value: 'ECMA Script 3'},
        newProp: { value: 'ECMA Script 5'}
    });

// and then
bar; 
// console output
Object {oldProp: "ECMA Script 3", newProp: "ECMA Script 5"}

// whereas !!
bar2;
Object {} // Why this? 
```

还，

```
bar.hasOwnProperty('oldProp');  // false, whereas
bar2.hasOwnProperty('oldProp'); // true !! It should be the other way round, right? 
```

此外，我无法更改的属性`bar2`

```
bar2.oldProp = "Marry had a little lamb";
bar2.oldProp; // "ECMA Script 3" 
```

和更多 -

```
for (k in bar2) console.log(bar2[k]) // undefined 
```

* * *

**我是否以正确的方式创建对象**？我基本上想要实现的是摆脱构造函数。

旧代码：

```
var Slideshow = function(type) {
    this.type = type;
    this.deleteSlideshow = function() {
        // some code
    }
}
Slideshow.prototype.nextSlide = function() {
    // lotsa code
}
var vanityFairSlideshow = new Slideshow('wide-screen'); 
```

我想改成`Object.create`，可能是这样的：

```
var Slideshow = Object.create({ /* prototype */ }, { /* properties and methods */ });
var vanityFairSlideshow = Object.create( Slideshow , { /* properties and methods */ }); 
```

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-30T13:44:05.330

我将尝试回答这个问题：

> **我是否以正确的方式创建对象？**我基本上想要实现的是摆脱构造函数。

第一个小例子。想象一下，我们有这个简单的结构：

```
var Slideshow = function(type) {
  this.type = type;
}

Slideshow.prototype.nextSlide = function() {
    console.log('next slide');
}

Slideshow.prototype.deleteSlideshow = function() {
    console.log('delete slideshow');
}

var AdvancedSlideshow = function(bgColor) {
    this.bgColor = bgColor;
}

AdvancedSlideshow.prototype.showMeBgColor = function() {
    console.log('bgColor iS: ' + bgColor);
} 
```

现在我们要`AdvancedSlideshow`继承自`Slideshow`. 因此，我们希望父级的所有函数都可用于其子级的实例。没有`Object.create`我们这样做：

```
// THIS CODE ISNT CORRECT
// code for slideshow is same

var AdvancedSlideshow = function(type, bgColor) {
    // this line can supply whole Slideshow constructor
    Slideshow.call( this, type ); 

    this.bgColor = bgColor;
}

AdvancedSlideshow.prototype = Slideshow.prototype; // there problems start!!!!

AdvancedSlideshow.prototype.showMeBgColor = function() { // we did augumentation of Slideshow
    console.log('bgColor is: ' + bgColor);
} 
```

现在`AdvancedSlideshow`继承了一切`Slideshow`，**也`Slideshow`继承了一切`AdvancedSlideshow`**。那是我们**不想要**的。

```
var simpleSlideshow = new Slideshow('simple');
simpleSlideshow.showMeBgColor(); // ReferenceError: bgColor is not defined
                                 // but function exists and that's wrong! 
```

所以我们必须使用更复杂的东西。很久以前，Douglas Crockford 制作了一种 polyfill。

```
if (!Object.create) {
    Object.create = function (o) {
        if (arguments.length > 1) {
            throw new Error('Object.create implementation only accepts the first parameter.');
        }
        function F() {}
        F.prototype = o;
        return new F();
    };
} 
```

好吧，首先它不是 polyfill，它是小图案，看起来不像。但是模式在不断发展，然后它变得非常好，以至于它成为了 javascript 的一部分。所以现在我们只有一个用于不支持 ecmascript-5 的浏览器的 polyfill。我们可以编码：

```
// THIS IS CORRECT
AdvancedSlideshow.prototype = Object.create(Slideshow.prototype); 
```

代替

```
function F() {};
F.prototype = Slideshow.prototype;
AdvancedSlideshow.prototype = new F(); 
```

然后`AdvancedSlideshow`继承自`Slideshow`但**`Slideshow`不继承自`AdvancedSlideshow`**。

**所以目的`Object.create`不是摆脱构造函数或“新”关键字。其目的是制作正确的原型链！**

**编辑 20.2.2014：** 几天前我意识到，该`constructor`属性是原型链的一部分。因此，如果我们使用`Object.create`继承，我们也会更改`constructor`子对象的属性（不是构造函数本身，只是一个属性）。因此，子对象的新实例的构造函数属性指向其父对象。我们可以用 simple 来解决这个问题`Child.prototype.constructor = Child`。

```
...
Child.prototype = Object.create(Parent.prototype);
Child.prototype.constructor = Child;

var first = new Child();
first.constructor === Child; // true
first.constructor === Parent; // false
first instanceOf Child; // true
first instanceOf Parent; // true 
```

现在，Object.create 有第二个参数，它允许您说对象的“隐藏的秘密”。但我**不建议**你这样做，因为你不需要它。它是一种先进的东西，也可以像某些模式一样工作。

如果你想避免构造函数、“new”关键字或任何重要的东西，那么你可能正在寻找一些工厂模式。但请记住，例如“新”有一些弱点，但删除内置功能的模式通常更糟！无论如何，也许你可以在这里找到一些灵感：

[http://www.2ality.com/2010/12/javascripts-prototypal-inheritance.html](http://www.2ality.com/2010/12/javascripts-prototypal-inheritance.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:35:27.090

您的问题是您为每个属性省略的[描述符](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty)（除了）的默认值。`value`

使用这种语法（如 for`defineProperty`和`defineProperties`），默认情况下是 ，[`writable`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty#Writable_attribute)并且是。`false`[`enumerable`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty#Enumerable_attribute)`false`

将这两个设置为`true`将导致您期望的行为。

```
var bar2 = Object.create( Object.prototype, {
    oldProp: { value: 'ECMA Script 3', writable: true, enumerable: true}
}); 
```

[http://jsfiddle.net/YZmbg/](http://jsfiddle.net/YZmbg/)

另外，希望您能理解并非所有浏览器都支持此功能；请注意 的[兼容性表`Object.create`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create#Cross-browser_compatibility)。符合`writable`和`configurable`属性的垫片不存在，也不可能存在。

^(最后，为这样一个写得很好的问题+1；这是一股清新的空气。)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T08:44:56.107

`bar`创建时没有任何属性并`foo`作为其原型，因此`bar.hasOwnProperty('oldProp');`返回 false。

因为`bar2`您不提供描述符，`enumerable`并且可写的默认值为`false`. 因此，您不能更改属性或`for...in`循环枚举它们。

至于*我是否以正确的方式创建对象？*: 你的做法是合理的。您创建`Slideshow`为所有幻灯片的原型，并使用此原型和其他属性创建幻灯片。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T08:39:22.297

> ```
> bar2 // logs Object {} 
> ```
> 
> 我无法更改 bar2 的属性
> 
> ```
> for (k in bar2) console.log(bar2[k]) // undefined 
> ```

这是因为第二个参数`Object.create`类似于[`Object.defineProperties`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperties)- 这意味着您正在使用[属性描述符](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty#Description)。虽然您只设置*值*，但`enumerable`和`writable`标志`configurable`默认为`false`。

> 这样做的正确方法是什么？

要么明确地将`enumberable`and`writable`标志设置为`true`，要么不使用第二个参数：

```
 var bar2 = Object.create( Object.prototype ); // or Slideshow.prototype or whatever
 bar2.oldProp = 'ECMA Script 3';
 bar2.newProp = 'ECMA Script 5'; 
```

但是，如果这对您来说太长了，您将使用工厂实用程序函数 - 基本上是构造函数。

# objective-c - 在 sqlite 中制作字符串的规范化版本 - 波兰字符 ł

> ID：16187077
> 
> 赞同：3
> 
> 时间：2013-04-24T08:28:02.470
> 
> 标签：objective-c, database, string, sqlite

Apple 提供了在数据库中使用存储在数据库中的规范化版本的文本创建附加列的示例： [DerivedProperty](https://developer.apple.com/library/mac/#samplecode/DerivedProperty/Introduction/Intro.html)

有一个函数 normalizeString 包含代码：

```
NSMutableString *result = [NSMutableString stringWithString:unprocessedValue];

CFStringNormalize((CFMutableStringRef)result, kCFStringNormalizationFormD);
CFStringFold((CFMutableStringRef)result, kCFCompareCaseInsensitive | kCFCompareDiacriticInsensitive | kCFCompareWidthInsensitive, NULL); 
```

我已经测试过这种方法，并且有将文本转换为规范化版本的示例： `ąĄćłŁÓŻźŃĘęĆ`->`aacłłozzneec`

除字符外，所有变音符号均已正确更改：`łŁ`

还有其他选择可以进行适当的标准化吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T09:35:26.360

我不会说波兰语，所以我的回答可能非常错误，但根据[http://www.unicode.org/Public/6.2.0/ucd/UnicodeData.txt](http://www.unicode.org/Public/6.2.0/ucd/UnicodeData.txt)字符“ł”和“Ł”不是“普通”字符与变音符号的组合。

Unicode 数据文件中“±”的条目是

```
0105;带有OGONEK的拉丁文小写字母A;Ll;0;L;0061 0328;;;;N;拉丁文小写字母A OGONEK;;0104;;0104

```

第六个字段“0061 0328”表示“±”可以分解为“a”和U+0328（COMBINING OGONEK）。

但是“ł”和“Ł”的条目是

```
0141;带笔划的拉丁文大写字母 L;Lu;0;L;;;;;N;拉丁文大写字母 L 斜线;;;0142;
0142;带笔划的拉丁文小写字母 L;Ll;0;L;;;;;N;拉丁文小写字母 L 斜线;;0141;;0141

```

其中第六个字段为空，因此这些字符没有分解。

因此我怀疑是否会有任何将“ł”标准化为“l”的函数，你必须使用

```
[result replaceOccurrencesOfString:@"ł" withString:@"l" options:0 range:NSMakeRange(0, [result length])]; 
```

# php - PHP包含文件但未定义变量

> ID：16187080
> 
> 赞同：8
> 
> 时间：2013-04-24T08:28:15.133
> 
> 标签：php

我是 PHP 新手，我开始使用 XAMPP 来构建网站。我有下面的代码

db.php：

```
<?php
    $hostName='localhost';
    $userName='xxxxxxxxx';
    $userPass='xxxxxxxxx';
?> 
```

和一个test.php：

```
<?php
    include 'db.php';
    echo $hostName;
?> 
```

但现在它告诉我**注意：未定义的变量：主机名**

我发现 register_globals 需要在 php.ini 中设置为“on”，但是在我设置之后，XAMPP 显示：当我重新启动 XAMPP 时**，指令 'register_globals' 在 PHP 中不再可用。**

我将相同的代码移动到 Hosting24 但它的工作，任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-21T08:55:45.093

我刚刚遇到了一个类似的问题——绝对不是 OP 的问题，而是属于问题的标题。

就我而言，我在服务器上禁用了 PHP 短标签，但包含的文件意外使用了短标签。包含文件时，函数未定义并且没有包含错误。我认为在这种情况下会发生该文件被包含但被视为空文件。

如果您在包含/要求后遇到“未定义”问题，请检查您的文件标签 - 以防万一。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:42:28.327

The only reason that this can happen is if the file `db.php` is not included properly. Check your log files for why this happens.

When you include a file PHP treats this file as if you copy/pasted the code directly into the including file. So all your variables defined in the included file will have the same scope as the including file and hence are available.

In your example, it should just work. So my answer would be: check your log files for include errors. Make sure logging is set to FULL.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-27T10:39:09.570

我有一个类似的问题，问题是文件的文件**访问权限**

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-06-15T06:45:30.967

尝试使用`require_once('db.php')`而不是包含。

# html - HTML - 我可以把 tag without the W3C validator complaining? I've tried every possible combination right now. Theoretically, it can be placed anywhere within the <body>, <head> and even inside 问问题 问问题 2013-04-24T08:28:30.307 2055 次 This question shows research effort; it is useful and clear 2 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I've tried every possible combination right now. Theoretically, it can be placed anywhere within the <body>, <head> and even inside <table> or <select> elements, but if I place a simple <template></template> tag pair without anything else inside, the W3C validator (the tool I base all my HTML5 and CSS3 validation on) gives me the finger. Can someone give me a rough example of where does the <template> tag goes in practical reality? I find no solution (or maybe the W3C validator doesn't validate the <template> tag correctly yet, don't know...). The <template> tag currently has the status of an editors draft. That means it is not part of the W3C standard yet, so the W3C validator doesn't recognize it. The current draft says: The <template> element can be placed anywhere within the <head>, <body>, and <frameset> elements, and its contents can contain any content which could otherwise occur at any location within the <head>, <body>, and <frameset> elements. So unless the draft changes in the future, you can place templates wherever you want in your code. Keep in mind that using features which are still in draft state is dangerous. Before it is an official standard which is supported by all browsers, I would recommend you to use <div style="display:none"> instead of <template>. htmltemplates 4 1 回答 1 This answer is useful 4 该<template>标签当前具有编辑草稿的状态。这意味着它还不是 W3C 标准的一部分，因此 W3C 验证器无法识别它。目前的草案说： 该<template>元素可以放置在<head>、 <body>和<frameset>元素中的任何位置，其内容可以包含任何内容，否则这些内容可能会出现在<head>、 <body>和<frameset>元素中的任何位置。 因此，除非将来草案发生变化，否则您可以将模板放置在代码中的任何位置。 请记住，使用仍处于草稿状态的功能是危险的。在它成为所有浏览器都支持的官方标准之前，我建议您使用<div style="display:none">而不是<template>. 于 2013-04-24T08:35:51.473 回答 Related 1 python - 具有递归的 Python C API - 段错误 0 java - 联系人列表 API 雅虎 0 java - 我的网络服务抛出异常：javax.xml.bind.JAXBException: class [Ljava.lang.String; 在此上下文中也不知道它的任何超类 2 asp.net - 管理员模板 asp.net 表格准备就绪 0 android - Unity3D 调用 Android Activity 0 xmpp - 我可以向 MultiUserChat RoomInfo 添加额外的属性吗？ 1 python - 在谷歌应用引擎上运行的瓶子请求中的国家代码 1 logging - 为什么我应该使用 Jboss as-7 的 Logging 框架而不是 log4j 第三方 api 进行日志记录？ 2 r - devtools roxygen 包创建和 rd 文档 2 python - GAE users.get_current_user() 返回无 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：16187085
> 
> 赞同：2
> 
> 时间：
> 
> 标签：html, templates

I've tried every possible combination right now. Theoretically, it can be placed anywhere within the `<body>`, `<head>` and even inside `<table>` or `<select>` elements, but if I place a simple `<template></template>` tag pair without anything else inside, the W3C validator (the tool I base all my HTML5 and CSS3 validation on) gives me the finger.

Can someone give me a rough example of where does the `<template>` tag goes in practical reality? I find no solution (or maybe the W3C validator doesn't validate the `<template>` tag correctly yet, don't know...).

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T08:35:51.473

该`<template>`标签当前具有编辑草稿的状态。这意味着它还不是 W3C 标准的一部分，因此 W3C 验证器无法识别它。目前的[草案](https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/templates/index.html#introduction)说：

> 该`<template>`元素可以放置在`<head>`、 `<body>`和`<frameset>`元素中的任何位置，其内容可以包含任何内容，否则这些内容可能会出现在`<head>`、 `<body>`和`<frameset>`元素中的任何位置。

因此，除非将来草案发生变化，否则您可以将模板放置在代码中的任何位置。

请记住，使用仍处于草稿状态的功能是危险的。在它成为所有浏览器都支持的官方标准之前，我建议您使用`<div style="display:none">`而不是`<template>`.

# java - 套接字编程，多线程编程。错误：IOException：java.net.ConnectException：连接超时：连接

> ID：16187086
> 
> 赞同：1
> 
> 时间：2013-04-24T08:28:33.517
> 
> 标签：java, sockets, client-server, p2p

我是 Java 的初学者，也是套接字编程的初学者。

我编写的这个程序旨在允许客户端和服务器之间的 p2p 文件同步。

当一个对等体与另一个对等体建立 TCP 连接时，他们都会比较他们拥有的文件列表并继续交换文件，以便他们拥有完全相同的文件。TCP 连接必须保持打开状态，直到在连接的任一端手动终止对等进程。

我查看了在线教程和类似程序来编写该程序的代码。但是，运行服务器后，当我运行客户端时，控制台上会显示以下错误。

```
IOException: java.net.ConnectException: Connection timed out: connect 
```

请告诉我如何解决该错误。提前非常感谢！

这是我的代码供参考。

服务器：

```
 package bdn;
import java.net.*;
import java.io.*;
import java.util.*;

public class MultipleSocketServer extends Thread{

 // private Socket connection;
  private String TimeStamp;
  private int ID;

  static int port = 6789;
  static ArrayList<File> currentfiles = new ArrayList<File>();
  static ArrayList<File> missingsourcefiles  = new ArrayList<File>();

    public static void main(String[] args) 
    {

        File allFiles = new File("src/bdn/files");

          if (!allFiles.exists()) {
                if (allFiles.mkdir()) {

                    System.out.println("Directory is created.");

                } 
            }

          //Load the list of files in the directory
          listOfFiles(allFiles);  

        try {
            new MultipleSocketServer().startServer();
        } catch (Exception e) {
            System.out.println("I/O failure: " + e.getMessage());
            e.printStackTrace();
        }

    }

      public static void listOfFiles(final File folder){ 
            for (final File fileEntry : folder.listFiles()) {
                if (fileEntry.isDirectory()) {
                    listOfFiles(fileEntry);
                } else {
                    //System.out.println(fileEntry.getName());
                    currentfiles.add(fileEntry.getAbsoluteFile());
                }
            }
        }

    public void startServer() throws Exception {
        ServerSocket serverSocket = null;
        boolean listening = true;

        try {
            serverSocket = new ServerSocket(port);
        } catch (IOException e) {
            System.err.println("Could not listen on port: " + port);
            System.exit(-1);
        }

        while (listening) {
            handleClientRequest(serverSocket);
        }

        //serverSocket.close();
    }

    private void handleClientRequest(ServerSocket serverSocket) {
        try {
            new ConnectionRequestHandler(serverSocket.accept()).run();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * Handles client connection requests. 
     */
    public class ConnectionRequestHandler implements Runnable{

        private Socket _socket = null;

        public ConnectionRequestHandler(Socket socket) {
            _socket = socket;
        }

        public void run() {
            System.out.println("Client connected to socket: " + _socket.toString());

            try {

                ObjectOutputStream oos = new ObjectOutputStream (_socket.getOutputStream());
                oos.flush();
                oos.writeObject(currentfiles); //sending to client side. 
                oos.flush();

            } catch (IOException e) {
                e.printStackTrace();        
            }

            syncMissingFiles();

        }

        @SuppressWarnings("unchecked")
        public void syncMissingFiles(){
            try {
                ObjectInputStream ois = new ObjectInputStream(_socket.getInputStream());
                System.out.println("Is the socket connected="+_socket.isConnected());
                missingsourcefiles= (ArrayList<File>) ois.readObject();
                System.out.println(missingsourcefiles);

                //add missing files to current file list. 
                    ListIterator<File> iter = missingsourcefiles.listIterator();
                    File temp_file;
                    while (iter.hasNext()) {
                        // System.out.println(iter.next());
                        temp_file = iter.next();
                        currentfiles.add(temp_file);

                }

            } catch (IOException e) {

                e.printStackTrace();
            } catch ( ClassNotFoundException e) {
                e.printStackTrace();
            }
        }

    }
} 
```

客户：

```
 package bdn;

import java.net.*;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.ListIterator;
/* The java.io package contains the basics needed for IO operations. */
import java.io.*;

public class SocketClient {

    /** Define a port */
    static int port = 2000;
    static Socket peer_socket = null; 
    static String peerAddress;

    static ArrayList<File> currentfiles = new ArrayList<File>();
    static ArrayList<File> sourcefiles  = new ArrayList<File>();
    static ArrayList<File> missingsourcefiles  = new ArrayList<File>();
    static ArrayList<File> missingcurrentfiles  = new ArrayList<File>();

    SocketClient(){}

    public static void listOfFiles(final File folder) { 
        for (final File fileEntry : folder.listFiles()) {
            if (fileEntry.isDirectory()) {
                listOfFiles(fileEntry);
            } else {
                //System.out.println(fileEntry.getName());
                currentfiles.add(fileEntry.getAbsoluteFile());
            }
        }
    }

    @SuppressWarnings("unchecked")
    public static void getListfromPeer() {
        try {
            ObjectInputStream inList =new ObjectInputStream(peer_socket.getInputStream());
            sourcefiles = (ArrayList<File>) inList.readObject();

        } catch (ClassNotFoundException e) {
            System.err.println("Error in data type.");
        }catch (IOException classNot){
            System.err.println("Error in data type.");
        }

    }

    public static void compareList1() {
        //Compare the source files and current files. If not in current files, add the files to "missingcurrentfiles".  
        ListIterator<File> iter = sourcefiles.listIterator();
        File temp_file;
        while (iter.hasNext()) {
            // System.out.println(iter.next());
            temp_file = iter.next();
            if (!currentfiles.contains(temp_file)) //file cannot be found
            {
                missingcurrentfiles.add(temp_file);
            }
        }

    }

    public static void compareList2() {
        //Compare the source files and current files. If not in current files, add the files to "missingsourcefiles".  
        ListIterator<File> iter = currentfiles.listIterator();
        File temp_file;
        while (iter.hasNext()) {
            // System.out.println(iter.next());
            temp_file = iter.next();
            if (!sourcefiles.contains(temp_file)) //file cannot be found
            {
                missingsourcefiles.add(temp_file);
            }
        }

    }

    public static void main(String[] args) {

        //Make file lists of the directory in here. 

          File allFiles = new File("src/bdn/files");

          if (!allFiles.exists()) {
                if (allFiles.mkdir()) {

                    System.out.println("Directory is created.");

                } 
            }

          /*Get the list of files in that directory and store the names in array*/
            listOfFiles(allFiles);

            /*Connect to peer*/
            try {
                new SocketClient().transfer();
                //new TcpClient().checkForInput();

            } catch (Exception e) {
                System.out.println("Failed at main" + e.getMessage());
                e.printStackTrace();
            }

    }

    public void transfer(){

        getPeerAddress();

       // StringBuffer instr = new StringBuffer();

      //  String TimeStamp;

        try {
            /** Obtain an address object of the server */
           // InetAddress address = InetAddress.getByName(host);

          //  System.out.println("Address of connected host:"+ address);

            /** Establish a socket connection */
            Socket connection = new Socket(peerAddress, port);      

            System.out.println("New SocketClient initialized");

            getListfromPeer();
            compareList1();
            compareList2();

            System.out.println(missingcurrentfiles);
            System.out.println(missingsourcefiles);

            /** Instantiate a BufferedOutputStream object */
          //  BufferedOutputStream bos = new BufferedOutputStream(connection.getOutputStream());

                /** Instantiate an ObjectOutputStream*/

                ObjectOutputStream oos = new ObjectOutputStream(connection.getOutputStream());
                oos.flush();
              /*  
                TimeStamp = new java.util.Date().toString();
                String process = "Calling the Socket Server on "+ host + " port " + port +
                    " at " + TimeStamp +  (char) 13;

                *//** Write across the socket connection and flush the buffer *//*
                oos.writeObject(process);

                oos.flush();*/

                oos.writeObject(missingsourcefiles);

                oos.flush();            

                System.out.println("Missing files in source sent back.");
               }
              catch (IOException f) {
                System.out.println("IOException: " + f);
              }
              catch (Exception g) {
                System.out.println("Exception: " + g);
              }

        }

    public void syncMissingFiles(){
            //add missing files to current file list. 
                ListIterator<File> iter = missingcurrentfiles.listIterator();
                File temp_file;
                while (iter.hasNext()) {
                    // System.out.println(iter.next());
                    temp_file = iter.next();
                    currentfiles.add(temp_file);

            }
        }

     public static void getPeerAddress() {

            //  prompt the user to enter the client's address
      System.out.print("Please enter the IP address of the client :");

            //  open up standard input
      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

            //  read the IP address from the command-line
        try {
            peerAddress = br.readLine();
            } catch (IOException ioe) {
                System.out.println("IO error trying to read client's IP address!");
                System.exit(1);
            }
        System.out.println("Thanks for the client's IP address, " + peerAddress);

      }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T23:23:34.413

据我所知，我不是专家，您将服务器设置为侦听端口 6789，而您的客户端连接到端口 2000。它们都应该在同一个端口上工作。

尝试在您的客户端构造函数中执行以下操作。

```
 SocketClient(String servername){
        //while port is same as server port
        peer_socket = new Socket(servername, port);
    } 
```

如果您在本地工作，您可以将 main 中的 servername 设置为“localhost”

另外，我建议您验证您正在使用的端口没有被您机器上现有的任何防火墙阻止。

# python - Google App Engine 中不支持的 python 库

> ID：16187087
> 
> 赞同：1
> 
> 时间：2013-04-24T08:28:34.273
> 
> 标签：python, google-app-engine, python-2.7

我试图找到这个问题的答案，但无法确定是否可以以某种方式添加不受 Google App Engine 支持的 Python 库。

我的 Python 程序本来不打算成为 Google 应用程序，但现在我希望它成为。

这是一个非常大的项目，包含数千行代码，并且使用了许多不在[受支持库列表中的库](https://developers.google.com/appengine/kb/libraries)。

我得到的第一个错误和堆栈跟踪：

```
File "C:\Program Files (x86)\Google\google_appengine\google\appengine\api\appinfo_includes.py", line 63, in ParseAndReturnIncludePaths
    appyaml = appinfo.LoadSingleAppInfo(appinfo_file)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\api\appinfo.py", line 1690, in LoadSingleAppInfo
    listener.Parse(app_info)
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\api\yaml_listener.py", line 226, in Parse
    self._HandleEvents(self._GenerateEventParameters(stream, loader_class))
  File "C:\Program Files (x86)\Google\google_appengine\google\appengine\api\yaml_listener.py", line 177, in _HandleEvents
    raise yaml_errors.EventError(e, event_object)
google.appengine.api.yaml_errors.EventError: the library "gspread" is not supported 
```

这可能与其他库相同，例如：Igraph、cairo 等...

有没有解决这个问题的简单方法，还是我必须放弃将我的程序部署到谷歌？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T10:11:22.750

看起来您正试图`gspread`在文件的`libraries`部分中列出`app.yaml`。首先，这不是该部分的用途。在文档中阅读它。

其次，将第三方库放入您的应用程序的方法是将它们与您的应用程序一起提供，就像您应用程序的其余代码一样。这是你应该做的。你只需要确保

1.  Python 可以找到你的第三方库
2.  库是纯 Python；没有 C 模块。

# c# - 在 C# 代码中使用 T-SQL 自定义函数

> ID：16187088
> 
> 赞同：2
> 
> 时间：2013-04-24T08:28:35.753
> 
> 标签：c#, .net, sql-server, tsql, linq-to-sql

我必须在我的数据库中定义一个自定义函数来计算实体的“有效期结束日期”。此函数将在存储过程中使用，但我需要在 Web 应用程序中使用相同的逻辑。

我正在使用 Linq-to-sql 连接到我的数据库并将表映射到类。所以我想知道是否有办法重用我的数据库中定义的函数。我想通过部分类扩展我的实体。我必须重写代码中的逻辑吗？

**注意**我需要在我的 C# 代码中使用**函数**而不是**存储过程。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T14:33:15.787

我发现可以通过 Linq-to-Sql 调用 SQL Server DB 中定义的函数。

`dbml`我刚刚在上下文文件中导入了函数对象。所以我可以这样调用它：

```
context.fn_my_db_function(param1, param2, etc); 
```

简单的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:32:57.600

您可以创建一个存储过程，然后在您的 DBML 设计器中将其拖到方法窗格中，这将尝试自动检测返回类型和输入，并通过上下文实例公开。如果需要，您可以使用 Visual Studio 中的 Properties 视图将返回类型映射到表模型或自定义模型或其他东西。

这就像 C# 中的函数一样被调用，例如：

```
using (var context = new MyDataContext()) {
  var result = context.MyStoredProcedure(input);
} 
```

映射的托管类型在哪里`result`，并且`input`是必需的参数参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:33:56.927

> 我必须重写代码中的逻辑吗？

如果您希望数据库执行它（伪），则不是：

```
public static YourReturnType Calculate(this TEntity foo)
{
    return database.ExecuteFunction("calculate", foo);
} 
```

如果您不希望每次计算都进行数据库往返，那么可以，您必须在 C# 中重写逻辑。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-24T08:38:18.207

这可以通过实体框架实现。请参阅此[链接](http://www.asp.net/web-forms/tutorials/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-7)以供参考。

您可以只映射您的存储过程并创建一个访问 get 方法。

但是，如果您只想在数据库中执行您创建的过程。. 请参阅此[链接](http://blogs.msdn.com/b/diego/archive/2012/01/10/how-to-execute-stored-procedures-sqlquery-in-the-dbcontext-api.aspx)。

# r - 用索引而不是名称指定列

> ID：16187091
> 
> 赞同：14
> 
> 时间：2013-04-24T08:28:53.290
> 
> 标签：r, ggplot2, plot

我编写了一个函数来使用函数获取比例堆积条形图`ggplot`。现在我在这个中使用列名`ID`。

```
PropBarPlot<-function(df, mytitle=""){
    melteddf<-melt(df, id="ID", na.rm=T)
    ggplot(melteddf, aes(ID, value, fill=variable)) + 
      geom_bar(position="fill") + 
      theme(axis.text.x = element_text(angle=90, vjust=1)) + 
      labs(title=mytitle)
} 
```

我想让它通用。所以我想使用列索引而不是列名。我试着做这样的事情。

```
PropBarPlot<-function(df, mytitle=""){
    melteddf<-melt(df, id=names(df)[1], na.rm=T)
    ggplot(melteddf, aes(names(df)[1], value, fill=variable)) + 
      geom_bar(position="fill") + 
      theme(axis.text.x = element_text(angle=90, vjust=1)) + 
      labs(title=mytitle)
} 
```

但是没有用。有人可以建议我怎么做吗？

谢谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-24T08:48:11.353

正如@baptiste 所指出的，您应该在定义 x 和 y 值时使用`aes_string()`而不是使用字符串。`aes()`你也应该在引号`value`内加上`variable`引号。

```
PropBarPlot<-function(df, mytitle=""){
  melteddf<-melt(df, id=names(df)[1], na.rm=T)
  ggplot(melteddf, aes_string(x=names(df)[1],y= "value", fill="variable")) + 
    geom_bar(position="fill") + 
    theme(axis.text.x = element_text(angle=90, vjust=1)) + 
    labs(title=mytitle)
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-10-14T06:42:37.197

正如@Bryan Shalloway 所指出的，该`aes_string()`方法现在已被软性弃用，取而代之的是整洁的评估。使用整洁的评估方法，我的解决方案是：

```
library(reshape)
library(ggplot2)

# let's start by creating an example dataframe
id <- c(1, 2, 3, 4)
var1 <- c(10, 20, 10, 20)
var2 <- c(6, 3, 2, 5)
df <- data.frame(id, var1, var2)

# Now let's build the function
PropBarPlot<-function(df, mytitle=""){
  # here I create a variable that contains the first element of the vector 
  # of df column names (it's a string)
  my_name <- colnames(df)[1]
  # here we melt, using the new variable as the id parameter
  melteddf<-melt(df, id=my_name, na.rm=T)
  # and here we plot, using the .data pronoun and the new variable
  ggplot(melteddf, aes(x = .data[[my_name]],y = value, fill = variable)) + 
    geom_bar(position="fill", stat="identity") + 
    theme(axis.text.x = element_text(angle=90, vjust=1)) + 
    labs(title=mytitle)
} 
```

如果您想了解更多关于 tidy 评估的信息（带有分步说明和实际示例），我衷心推荐 Ian Lyttle 的学习者教程，可在[https://ijlyttle.shinyapps.io/tidyeval/](https://ijlyttle.shinyapps.io/tidyeval/)

# java - 如何匹配任何大写字母后跟相应的小写字母？

> ID：16187094
> 
> 赞同：7
> 
> 时间：2013-04-24T08:29:10.137
> 
> 标签：java, regex

我有一个要求，即名称不能以 3 个相同的字母开头，忽略大小写。名称以大写字母开头，后跟小写字母。

基本上我可以将整个名称转换为大写，然后与`(\p{Lu})\1{3,}.*`.

但我想知道是否存在符合上述要求并且不需要对要匹配的字符串进行任何预处理的正则表达式。那么我可以使用什么正则表达式来匹配字符串`Aa`，`Dd`或者`Uu`没有明确指定任何可能的组合？

**编辑：**
我接受了马科斯的回答。我只需要修复它以使用长度为 1 和 2 的名称并在开头锚定它。所以我的用例的实际正则表达式是`^(\p{Lu})(\p{Ll}?$|(?=\p{Ll}{2})(?i)(?!(\1){2}))`.

我还赞成 Evgeniy 和 sp00m 的答案，因为它们帮助我学习了正则表达式。

感谢您的努力。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T09:35:16.743

我承认站在巨人的肩膀上（这里的其他海报），但这个解决方案实际上适用于您的用例：

```
final String[] strings = { "Aba", "ABa", "aba", "aBa", "Aaa", "Aab" }; 
final Pattern p = Pattern.compile("(\\p{Lu})(?=\\p{Ll}{2})(?i)(?!(\\1){2})");
for (String s : strings) System.out.println(s + ": " + p.matcher(s).find()); 
```

现在我们有：

1.  匹配前面的一个大写字符；
2.  以下两个小写字符的前瞻断言；
3.  另一个断言这两个字符与第一个字符不同（忽略大小写）的前瞻。

输出：

```
阿坝：真的
阿巴：假
aba: 假的
aBa: 假的
啊：假的
阿布：是的
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:46:41.673

尝试

```
 String regex = "(?i)(.)(?=\\p{javaLowerCase})(?<=\\p{javaUpperCase})\\1";
    System.out.println("dD".matches(regex));
    System.out.println("dd".matches(regex));
    System.out.println("DD".matches(regex));
    System.out.println("Dd".matches(regex)); 
```

输出

```
false
false
false
true 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T08:55:32.927

这匹配任何大写字母后跟相同的字母，大写与否：

```
([A-Z])(?i)\1 
```

这匹配任何大写字母后跟相同的字母，但必须小写：

```
([A-Z])(?!\1)(?i)\1 
```

例如在 Java 中，

```
String pattern = "([A-Z])(?!\\1)(?i)\\1";
System.out.println("AA".matches(pattern));
System.out.println("aa".matches(pattern));
System.out.println("aA".matches(pattern));
System.out.println("Aa".matches(pattern)); 
```

印刷

```
false
false
false
true 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-24T09:01:08.140

Evgeniy Dorofeev 解决方案正在运行 (+1)，但它可以更简单地完成，只使用前瞻

```
(\\p{Lu})(?=\\p{Ll})(?i)\\1 
```

`(\\p{Lu})`匹配一个大写字符并将其存储到`\\1`

`(?=\\p{Ll})`是一个[肯定的前瞻断言](http://www.regular-expressions.info/lookaround.html)，确保下一个字符是小写字母。

`(?i)`是一个内联修饰符，启用大小写无关匹配。

`\\1`匹配第一部分的大写字母（但现在由于前面的修饰符而与大小写无关）。

测试它：

```
String[] TestInput = { "foobar", "Aal", "TTest" };

Pattern p = Pattern.compile("(\\p{Lu})(?=\\p{Ll})(?i)\\1");

for (String t : TestInput) {
    Matcher m = p.matcher(t);
    if (m.find()) {
        System.out.println(t + " ==> " + true);
    } else {
        System.out.println(t + " ==> " + false);
    }
} 
```

输出：

> foob​​ar ==>假
> Aal ==> 真
> TTest ==> 假

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-24T09:07:31.787

> 我有一个要求，即名称不能以 3 个相同的字母开头，忽略大小写。

您应该使用不区分大小写的选项：`(?i)`

和“包罗万象”，`\w`例如：`(?i)(\w)\1{2,}.*`

或者只是`[a-z]`例如：`(?i)([a-z])\1{2,}.*`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T09:39:37.803

在这里对不同的需求使用单独的检查可能是有意义的，特别是因为需求列表会随着时间的推移而增长。

您的要求是：

> 名称不能以 3 个相同的字母开头，忽略大小写

和

> 名称以大写字母开头，后跟小写字母。

对每个单独的检查（如其他帖子中所述）还允许您向用户提供正确的错误消息，描述实际错误。而且它肯定更具可读性。

# java - PHP 可以向 Java 发出 HTTP Get 请求吗？

> ID：16187096
> 
> 赞同：0
> 
> 时间：2013-04-24T08:29:18.423
> 
> 标签：java, php, rest, soap, curl

我正在尝试在 PHP 和 Java 之间进行通信。

这就是我想做的。PHP 将参数 ID 传递给 Java 文件。

Java 获取 ID 并运行一些脚本并向 PHP 返回一个 ARRAY。

我已经阅读了很多，例如 PHP/Java Bridge、SOAP、RestCall ...

但我找不到一个有效的。基本上是我不知道怎么配置。

我想找一些我能理解的简单例子。而且我不需要使用 PHP/Java Bridge。

更容易的事情会做。

更新。

***我曾尝试对 Java 文件进行 Curl 调用，在 $result = curl_exec($curl) 上返回 Java 中的整个 CODE。***

***我什至尝试了 Java Servlet，它也只返回 Java 中的整个 CODE。***

***我想要的是 PHP 向 Java 发出 GET 请求，Java 将检测 GET 请求并获取参数 ID。运行一些进程并将 ARRAY 返回给 PHP。***

***我希望它只在 HTTP 请求中完成。***

***但我无法弄清楚它是如何工作的。我什至尝试了 HTTPComponent。***

***请帮我看看 PHP 和 Java 文件中的简单示例。***

我什至遵循这个 servlet [http://brajeshwar.com/2008/handling-http-get-requests-in-java-servlets/](http://brajeshwar.com/2008/handling-http-get-requests-in-java-servlets/) CGI [http://www.javaworld.com/jw-01-1997/jw-01- cgiscripts.html?page=3](http://www.javaworld.com/jw-01-1997/jw-01-cgiscripts.html?page=3) ，而不仅仅是这些。很多例子。但没有一个工作。

我错过了什么吗？我将提供更多细节。我使用了 XAMPP，每个项目和文件都在我的 htdocs 中。

所有请求都将是这样的“http://localhost/test/....”

谢谢你。

* * *

对不起，我没有说得足够清楚。

JAVA文件就是普通的JAVA文件如

```
public class HelloWorld {
String hw = "Hello World";

public void getHelloWorld() {

            System.out.println("abc");
}

    public static void main(String [] args){
    System.out.println("abc");
    }

} 
```

谢谢你。

* * *

更新 2

这是我的下一个问题。

就像那些 Curl、Rest、Cgi 调用一样。它实际上调用了 .Java 文件，对吗？结果返回是.Java 的整个源代码。

这是因为没有编译器来编译 Java 类，对吧？我将 Java 文件放在 xampp/htdocs 中，我使用 Netbeans 编译它。

所以当我从 PHP 调用时，没有人编译它？如我错了请纠正我？

所以我应该把 .Java 文件放在像 Tomcat 这样的服务器中，对吗？或者编译方法？我尝试放入tomcat webapps，并通过localhost:8080/test/test.java 连接到它

它返回错误 404。

如何使用 Web 浏览器访问 .Java 文件？请帮我。

谢谢你。

解决了

使用 RESTFul 工作 Java。我可以得到对 Java 的 Curl 调用。

遵循本[指南](http://javapostsforlearning.blogspot.com/2013/04/create-restful-web-servicesjax-rs-using.html)

对于像我这样的 Java 初学者来说非常清楚。

* * *

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:41:14.570

I hope this will give you some better ideas to use cURL() for RESTFul webservices .

```
 $curl = curl_init();     
 $url = "http:";
 $fields = 8;
 curl_setopt($curl, CURLOPT_URL, $url);
 curl_setopt($curl, CURLOPT_POST, true);
 curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
 //To use https
 curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);
 curl_setopt($curl, CURLOPT_POSTFIELDS, http_build_query($fields));
 curl_setopt($curl, CURLOPT_COOKIEJAR, "cookie.txt");
 curl_setopt($curl, CURLOPT_COOKIEFILE, "cookie.txt");
 $curl_response = curl_exec($curl); 
```

u can manipulate the $curl_reponse in php.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T19:32:03.797

我建议您阅读 Spring MVC 并创建一个完整的 REST Web 服务。调用一个可执行的 java 类可能会起作用，但我相信这不是常见的做法。

这是一个可能调用的控制器类的示例。

```
@Controller
public class TestController extends BaseController {

    @RequestMapping(value = "/rest/helloworld", method = RequestMethod.GET)
    public @ResponseBody
    String helloWorld(HttpServletRequest req)
            throws Exception {
        return "hello world";
    }
} 
```

这是非常高级的 java，特别是如果你想在 Spring 中配置它。我无法在这篇小文章中详细解释所有这些。然而，这个网站可能会启发你更多[http://viralpatel.net/blogs/tutorial-spring-3-mvc-introduction-spring-mvc-framework/](http://viralpatel.net/blogs/tutorial-spring-3-mvc-introduction-spring-mvc-framework/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:34:06.987

试试 Rest 的例子

```
<?php
$url = 'JAVA_PAGE_URL';
// Open a curl session for making the call 
$curl = curl_init($url);
// Tell curl to use HTTP POST 
curl_setopt($curl, CURLOPT_POST, true);
// Tell curl not to return headers, but do return the response 
curl_setopt($curl, CURLOPT_HEADER, false);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
// Set the POST arguments to pass to the Sugar server 
$parameters = array('id'=>$id);
$json = json_encode($parameters);

$postArgs = 'method=login&input_type=JSON&response_type=JSON&rest_data=' . $json;
curl_setopt($curl, CURLOPT_POSTFIELDS, $postArgs);
// Make the REST call, returning the result 
$response = curl_exec($curl);

// Close the connection 
curl_close($curl);
// Convert the result from JSON format to a PHP array 
$result = json_decode($response);
?> 
```

# vb.net - EWS - 从嵌套电子邮件/嵌入式电子邮件中下载附件

> ID：16187098
> 
> 赞同：2
> 
> 时间：2013-04-24T08:29:22.853
> 
> 标签：vb.net, .net-3.5, exchange-server, exchangewebservices

我们正在尝试在电子邮件中下载嵌入式电子邮件的附件。不幸的是，嵌入式电子邮件属于类型`message/RFC822`，即使`ItemAttachment`使用`ItemAttachment.Load()`.

然后，当我们尝试使用加载时`EmailMessage`，`ItemAttachment.Item.Load()`我们得到一个异常消息“**附件不支持此操作**”。

无论如何请帮忙？花了两天时间研究如何完成它，经过多次尝试，仍然没有成功。

# java - 部署 JPA 应用程序时出现以下错误

> ID：16187101
> 
> 赞同：0
> 
> 时间：2013-04-24T08:29:39.187
> 
> 标签：java, hibernate, jpa

任何人都可以提出这个错误的根本原因是什么。在 glassfish 上部署 JPA 应用程序时出现以下错误。它没有任何编译问题。我错过了任何罐子吗？

实际上我有两个项目，一个是动态 Web 项目，另一个是 EJB 项目

我在 Webproject 的 Deployment Assembly 中添加了 EJB 项目引用。并在服务器中部署 webproject。

```
[#|2013-04-24T13:17:55.607+0530|SEVERE|glassfish3.1.2|javax.enterprise.system.core.com.sun.enterprise.v3.server|_ThreadID=84;_ThreadName=Thread-2;|org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(Ljavax/persistence/spi/PersistenceUnitInfo;Ljava/util/Map;)Ljavax/persistence/EntityManagerFactory;
java.lang.AbstractMethodError: org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(Ljavax/persistence/spi/PersistenceUnitInfo;Ljava/util/Map;)Ljavax/persistence/EntityManagerFactory;
    at org.glassfish.persistence.jpa.PersistenceUnitLoader.loadPU(PersistenceUnitLoader.java:206)
    at org.glassfish.persistence.jpa.PersistenceUnitLoader.<init>(PersistenceUnitLoader.java:120)
    at org.glassfish.persistence.jpa.JPADeployer$1.visitPUD(JPADeployer.java:224)
    at org.glassfish.persistence.jpa.JPADeployer$PersistenceUnitDescriptorIterator.iteratePUDs(JPADeployer.java:495)
    at org.glassfish.persistence.jpa.JPADeployer.createEMFs(JPADeployer.java:233)
    at org.glassfish.persistence.jpa.JPADeployer.prepare(JPADeployer.java:168)
    at com.sun.enterprise.v3.server.ApplicationLifecycle.prepareModule(ApplicationLifecycle.java:871)
    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:410)
    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:240)
    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:389)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:348)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:363)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1085)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1200(CommandRunnerImpl.java:95)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1291)
    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1259)
    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:461)
    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:212)
    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:179)
    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:117)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$Hk2DispatcherCallable.call(ContainerMapper.java:354)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)
|#] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:31:18.080

从[文档](http://docs.oracle.com/javase/6/docs/api/java/lang/AbstractMethodError.html)：

> 当应用程序尝试调用抽象方法时抛出。通常，这个错误会被编译器捕获；如果自上次编译当前执行的方法以来某些类的定义发生了不兼容的更改，则此错误只会在运行时发生。

我怀疑您编译时使用的 jar 版本与部署时使用的 jar 版本不匹配。

# redis - 我如何在redis中匹配正则表达式模式

> ID：16187108
> 
> 赞同：1
> 
> 时间：2013-04-24T08:30:00.530
> 
> 标签：redis

我有 3 个键 id=foo1，id=foo10。id=foo100。我只想匹配以 id=foo1 结尾或包含 id=foo1 的键

所以第一个查询应该返回一个结果，最后一个查询应该返回 3 个结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:56:29.330

就像是

```
r=Redis.new
r.keys("*foo1")
r.keys("*foo1*") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:50:40.430

```
keys = ["id=foo1","id=foo10","id=foo100"]
p keys.select {|x| x.include? 'id=foo1'}
#=> ["id=foo1", "id=foo10", "id=foo100"]
p keys.select {|x| x.end_with? 'id=foo1'}
#=> ["id=foo1"] 
```

# asp.net - 超出应用程序级别注册为 allowDefinition='MachineToApplication' 的部分

> ID：16187110
> 
> 赞同：8
> 
> 时间：2013-04-24T08:30:06.103
> 
> 标签：asp.net, entity-framework, directory, virtual

将 System.Data.Entity 的组件添加到我的 Web 配置后，出现此错误：在应用程序级别之外使用注册为 allowDefinition='MachineToApplication' 的部分是错误的。此错误可能是由未在 IIS 中配置为应用程序的虚拟目录引起的。

我删除了 obj 和 bin 文件夹，我删除了行 authentication="windows"，尝试重新打开，因为有些人说它有效，我检查了主文件夹中只有 1 个 web.config（实体框架 - 文件夹表格、模型、DAL 和 BLL)...

还有什么其他原因会发生这种情况？我到处搜索，基本上是我发现的上述原因....

这是我的 web.config 如果它有所作为：

```
 <configuration>
  <connectionStrings>
    <add name="ApplicationServices"
     connectionString="data source=.\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\aspnetdb.mdf;User Instance=true"
     providerName="System.Data.SqlClient" />
    <add name="CStringVKB" connectionString="Data Source=.;Initial Catalog=VKB;Persist Security Info=True;User ID=websiteservice;Password=websiteservice" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <system.web>
    <compilation debug="true" optimizeCompilations="true" targetFramework="4.0" >
      <assemblies>
        <add assembly="System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
      </assemblies>
    </compilation>
    <!--<authentication mode="Windows">
      <forms loginUrl="~/Account/Login.aspx" timeout="2880" />
    </authentication>-->
     <membership>
      <providers>
        <clear/>
        <add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices"
         enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false"
         maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10"
         applicationName="/" />
      </providers>
    </membership>
    <profile>
      <providers>
        <clear/>
        <add name="AspNetSqlProfileProvider" type="System.Web.Profile.SqlProfileProvider" connectionStringName="ApplicationServices" applicationName="/"/>
      </providers>
    </profile>
   <roleManager enabled="false">
      <providers>
        <clear/>
        <add name="AspNetSqlRoleProvider" type="System.Web.Security.SqlRoleProvider" connectionStringName="ApplicationServices" applicationName="/" />
        <add name="AspNetWindowsTokenRoleProvider" type="System.Web.Security.WindowsTokenRoleProvider" applicationName="/" />
      </providers>
    </roleManager>
  </system.web>
  <system.webServer>
     <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration> 
```

我能做些什么来解决这个问题？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-24T16:26:09.500

基本上，该错误意味着您的其中一个子文件夹中有一个 web.config 文件，该文件具有不应具有的配置元素。这是您的根/仅网络配置文件吗？如果没有，你能把这些也发一下吗？

此外，这听起来很愚蠢，但我会仔细检查您是否在 IDE 中打开网站本身（而不是错误地打开父文件夹）我看到人们花了几个小时试图调试同样的错误，而他们一直不在正确的目录中。

以下是关于如何为 ASP 设置 web.config 层次结构的一个很好的解释，它将帮助您可视化其工作原理： [http ://scottonwriting.net/sowblog/archive/2010/02/17/163375.aspx](http://scottonwriting.net/sowblog/archive/2010/02/17/163375.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-05T19:30:35.367

显然我的解决方案中有两个 web.config 文件。我正在使用 MVC4，在 Views 下还有另一个配置文件，我在错误的文件中进行了更改。固定在那里帮助了我。

但是您始终可以更改 global.asax 文件中的默认重定向/路由。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-06T18:33:22.407

Chris Noreikis 的回答实际上是正确的。但是漏掉了一个重要的细节。如果出于某种原因，您在与最初创建的 VS 版本不同的 VS 版本中打开项目/解决方案，则 VS 将尝试迁移。在此迁移过程中，VS 有时会创建一个名为“backup”或“backup_{#}”的文件夹。即使您撤消此迁移强制进行的**未决更改**，这些目录仍然存在。

这些目录的存在在某些情况下（如我的）是导致此错误的原因。删除这些目录将消除问题。

我希望这可以节省我在这个问题上浪费的无数时间。

# hibernate - JPQL 多选

> ID：16187111
> 
> 赞同：1
> 
> 时间：2013-04-24T08:30:09.280
> 
> 标签：hibernate, jpa, jpql

我想从 TypeCmplt 中提取所有数据，如下所示：

```
 public List<TypeCmplt> listerrTypeCmplt()
throws DaoException {
    Query query = cmpltTitreEM.createQuery("select t.cdTypeCmplt, t.lbTypeCmplt from TypeCmplt t");
    List<TypeCmplt> listeType = new ArrayList<TypeCmplt>();
    listeType = query.getResultList();
    return listeType;
} 
```

测试方法：

```
 @Test
public void listerComplementsParTypeTest(){
    logger.debug("Afficher la liste des types de complémént") ;

    try {
        List<TypeCmplt> type = cmpltTitreDao.listerrTypeCmplt();
        for (int i = 0; i < type.size(); i++) {
            System.out.println(type.get(i));
        }

    } catch (DaoException e) {
        logger.error("Erreur", e) ;
    } 
```

但我明白了：

```
Hibernate: select typecmplt0_.CD_TYPE_CMPLT as col_0_0_, typecmplt0_.LB_TYPE_CMPLT as col_1_0_ from TC_TYPE_CMPLT typecmplt0_
[Ljava.lang.Object;@4d2b11
[Ljava.lang.Object;@46a5c4
[Ljava.lang.Object;@2d09e0
[Ljava.lang.Object;@e38fca 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:31:33.863

您正在尝试打印一个`Object`被调用的`TypeCmplt`. 尝试调用`toString()`. 正如@kostja 所说，您最好`toString()`在`TypeCmplt`.

像这样：

```
System.out.println(type.get(i).toString()); 
```

或者：

```
TypeCmplt t = type.get(i);
System.out.println(t.getLong() + ": " + t.getString()); 
```

`getLong()`在这种情况下，您应该`getString()`相应地更换。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:42:35.890

您正在为您的结果创建一个`List<TypeCmplt>`。但是结果列表是一个数组，`Object`因为您正在进行投影查询 - 提取`TypeCmplt`. 如果要`TypeCmplt`正确获取实体，请将查询字符串更改为

```
"select t from TypeCmplt t" 
```

如果您确实想提取实体的多个属性，但要以类型安全的方式进行，那么构造函数表达式是可行的方法：

```
List<MyClass> dtos = cmpltTitreEM.createQuery("SELECT NEW com.example.MyClass( t.cdTypeCmplt, t.lbTypeCmplt) FROM TypeCmplt t").getResultList(); 
```

# symfony - 将 symfony2 部署到一个文件夹中

> ID：16187119
> 
> 赞同：1
> 
> 时间：2013-04-24T08:30:23.937
> 
> 标签：symfony, web-deployment

作为一个 symfony1.4 的开发者，我正在努力学习 Symfony2。

现在，我不想在我的本地机器上尝试一切正常，今天我想让我的测试站点在我的服务器上可用。但我不想将它部署在真实站点或真实子域上。

这就是我的问题：如何在不修改虚拟主机的情况下将此测试部署在子文件夹上？！

假设我有一个可用的站点，`www.example.com`但是我想在这里提供我的 symfony 测试（并且工作正常）`www.exaple.com/mysymfonytest`

有人已经这样做了吗？

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:55:01.593

In my opinion that is not really a symfony related question.

Depending on your webserver you could configure an alias where which url should point.

In Apache you specify your document root, where you put your sf2 installation, and then define an alias which would be /mysymfonytest pointing to that document root.

Alternatively you could specify your document root, leave the url be and define a prefix for all routes in symfony, which you would do in your routing configuration.

I strongly recommend configuring your webserver though.

For example in apache:

```
<VirtualHost *:80>
    DocumentRoot /var/www/mysymfonytest
    Alias /mysymfonytest /var/www/mysymfonytest
    <Directory /var/www/mysymfonytest/web>
            AllowOverride None
            Order allow,deny
            Allow from all

            #Allow from <SUPPORT>
            RewriteEngine On
            RewriteBase /mysymfonytest
            RewriteCond %{REQUEST_FILENAME} !-f
            RewriteRule ^(.*)$ /app.php [QSA,L]
    </Directory>
</VirtualHost> 
```

Alternatively, if you cannot add the VHost: [How to add a prefix to all my routes](https://stackoverflow.com/questions/6841400/how-to-add-a-prefix-to-all-my-routes)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-27T17:11:49.113

如果您只在共享主机上运行。您可以使用 .htaccess 来使用覆盖配置。询问您的提供者是否允许覆盖，然后向他们提供脚本或告诉他们您想要什么。希望这涵盖在您的托管支持中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T16:16:53.847

在（根目录）下创建一个子目录`/`并调用它，`mysymfonytest`然后将您的 symfony2 项目放入`mysymfonytest`.

将 .htaccess 文件添加到 `mysymfonytest`文件夹并放入其中：

> ```
> <IfModule mod_rewrite.c>
> 
> RewriteEngine On
> RewriteCond %{HTTP_HOST} ^(www.)?example.com$
> RewriteRule ^(/)?$ web [L]
> 
> </IfModule> 
> ```

或者您可以只创建一个名为的文件`index.html`并使其指向`app.php`

# c# - 如何使用 C# 将 Excel 工作表中特定行或单元格的字体加粗？

> ID：16187125
> 
> 赞同：39
> 
> 时间：2013-04-24T08:30:40.867
> 
> 标签：c#, windows, excel, datagridview

我正在将数据从 List<> 导出到 excel。我想让一些特定的行和单元格加粗。我还需要合并一些单元格。

下面是我正在使用的代码。

```
try
        {
            Excel.Application application;
            Excel.Workbook workBook;
            Excel.Worksheet workSheet;
            object misValue = System.Reflection.Missing.Value;

            application = new Excel.ApplicationClass();
            workBook = application.Workbooks.Add(misValue);
            workSheet = (Excel.Worksheet)workBook.Worksheets.get_Item(1);

            int i = 1;
            workSheet.Cells[i, 2] = "MSS Close Sheet";                
            i++;
            workSheet.Cells[i, 2] = "MSS - " + dpsNoTextBox.Text;
            i++;
            workSheet.Cells[i, 2] = customerNameTextBox.Text;
            i++;                
            workSheet.Cells[i, 2] = "Opening Date : ";
            workSheet.Cells[i, 3] = openingDateTextBox.Value.ToShortDateString();
            i++;
            workSheet.Cells[i, 2] = "Closing Date : ";
            workSheet.Cells[i, 3] = closingDateTextBox.Value.ToShortDateString();
            i++;
            i++;
            i++;

            workSheet.Cells[i, 1] = "SL. No";
            workSheet.Cells[i, 2] = "Month";
            workSheet.Cells[i, 3] = "Amount Deposited";
            workSheet.Cells[i, 4] = "Fine";
            workSheet.Cells[i, 5] = "Cumulative Total";
            workSheet.Cells[i, 6] = "Profit + Cumulative Total";
            workSheet.Cells[i, 7] = "Profit @ " + profitRateComboBox.Text;
            i++;

            /////////////////////////////////////////////////////////
            foreach (RecurringDeposit rd in RecurringDepositList)
            {
                workSheet.Cells[i, 1] = rd.SN.ToString();
                workSheet.Cells[i, 2] = rd.MonthYear;
                workSheet.Cells[i, 3] = rd.InstallmentSize.ToString();
                workSheet.Cells[i, 4] = "";
                workSheet.Cells[i, 5] = rd.CumulativeTotal.ToString();
                workSheet.Cells[i, 6] = rd.ProfitCumulative.ToString();
                workSheet.Cells[i, 7] = rd.Profit.ToString();
                i++;
            }
            //////////////////////////////////////////////////////

            ////////////////////////////////////////////////////////
            workSheet.Cells[i, 2] = "Total (" + RecurringDepositList.Count + " months installment)";
            workSheet.Cells[i, 3] = totalAmountDepositedTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "a) Total Amount Deposited";
            workSheet.Cells[i, 3] = totalAmountDepositedTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "b) Fine";
            workSheet.Cells[i, 3] = "";
            i++;

            workSheet.Cells[i, 2] = "c) Total Pft Paid";
            workSheet.Cells[i, 3] = totalProfitPaidTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Sub Total";
            workSheet.Cells[i, 3] = (totalAmountDepositedTextBox.Value + totalProfitPaidTextBox.Value).ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Deduction";
            i++;

            workSheet.Cells[i, 2] = "a) Excise Duty";
            workSheet.Cells[i, 3] = "0";
            i++;

            workSheet.Cells[i, 2] = "b) Income Tax on Pft. @ " + incomeTaxPercentageTextBox.Text;
            workSheet.Cells[i, 3] = "0";
            i++;

            workSheet.Cells[i, 2] = "c) Account Closing Charge ";
            workSheet.Cells[i, 3] = closingChargeCommaNumberTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "d) Outstanding on BAIM(FO) ";
            workSheet.Cells[i, 3] = baimFOLowerTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Total Deduction ";
            workSheet.Cells[i, 3] = (incomeTaxDeductionTextBox.Value + closingChargeCommaNumberTextBox.Value + baimFOTextBox.Value).ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Client Paid ";
            workSheet.Cells[i, 3] = customerPayableNumberTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "e) Current Balance ";
            workSheet.Cells[i, 3] = currentBalanceCommaNumberTextBox.Value.ToString("0.00");
            workSheet.Cells[i, 5] = "Exp. Pft paid on MSS A/C(PL67054)";
            workSheet.Cells[i, 6] = plTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "e) Total Paid ";
            workSheet.Cells[i, 3] = customerPayableNumberTextBox.Value.ToString("0.00");
            workSheet.Cells[i, 5] = "IT on Pft (BDT16216)";
            workSheet.Cells[i, 6] = incomeTaxDeductionTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Difference";
            workSheet.Cells[i, 3] = (currentBalanceCommaNumberTextBox.Value - customerPayableNumberTextBox.Value).ToString("0.00");
            workSheet.Cells[i, 5] = "Account Closing Charge";
            workSheet.Cells[i, 6] = closingChargeCommaNumberTextBox.Value;
            i++;

            ///////////////////////////////////////////////////////////////

            workBook.SaveAs("D:\\" + dpsNoTextBox.Text.Trim() + "-" + customerNameTextBox.Text.Trim() + ".xls", Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue, misValue, Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue);
            workBook.Close(true, misValue, misValue);
            application.Quit();

            releaseObject(workSheet);
            releaseObject(workBook);
            releaseObject(application); 
```

[工作表应如下所示：](http://www.scribd.com/doc/182839719/mss-closed-pdf)

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2013-11-09T22:32:37.817

如何**加粗**整个第 10 行示例：

```
workSheet.Cells[10, 1].EntireRow.Font.Bold = true; 
```

* * *

更正式地说：

```
Microsoft.Office.Interop.Excel.Range rng = workSheet.Cells[10, 1] as Xl.Range;
rng.EntireRow.Font.Bold = true; 
```

* * *

例如，如何**加粗**特定单元格“A10”：

```
workSheet.Cells[10, 1].Font.Bold = true; 
```

* * *

稍微正式一点：

```
int row = 1;
int column = 1;  /// 1 = 'A' in Excel

Microsoft.Office.Interop.Excel.Range rng = workSheet.Cells[row, column] as Xl.Range;
rng.Font.Bold = true; 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-24T13:06:18.210

您的问题有点不清楚...因为您表示要在 Excel 中加粗的部分是从 word 方法导入中的 DataGridView。您是否想将 excel 文档中的第一行加粗？

```
using xl = Microsoft.Office.Interop.Excel;

xl.Range rng = (xl.Range)xlWorkSheet.Rows[0];
rng.Font.Bold = true; 
```

就那么简单！

HTH，Z

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-11-14T12:04:20.143

我很久以前在一个项目中做过这个。下面给出的代码用特定的列名写了一整行粗体，所有这些列都以粗体格式写。

```
private void WriteColumnHeaders(DataColumnCollection columnCollection, int row, int column)
    {
        // row represent particular row you want to bold its content.
        for (i = 0; i < columnCollection.Count; i++)
        {
            DataColumn col = columnCollection[i];
            xlWorkSheet.Cells[row, column + i + 1] = col.Caption;
            // Some Font Styles
            xlWorkSheet.Cells[row, column + i + 1].Style.Font.Bold = true;
            xlWorkSheet.Cells[row, column + i + 1].Interior.Color = Color.FromArgb(192, 192, 192);
            //xlWorkSheet.Columns[i + 1].ColumnWidth = xlWorkSheet.Columns[i+1].ColumnWidth + 10;
        }
    } 
```

您必须传递第 0 行的值，以便 Excel 工作表的第一行具有粗体字号的列标题。只需更改`DataColumnCollection`为您的列名并更改`col.Caption`为特定的列名。

**备用**

您可以对要加粗的 Excel 表的单元格执行此操作。

```
xlWorkSheet.Cells[row, column].Style.Font.Bold = true; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-02-18T06:43:33.210

这对我有用，所以试试吧：

```
Microsoft.Office.Interop.Excel.Range rng =(Microsoft.Office.Interop.Excel.Range)XcelApp.Cells[1, i];
rng.Font.Bold = true; 
rng.Interior.Color =System.Drawing.ColorTranslator.ToOle(System.Drawing.Color.Yellow);
rng.BorderAround(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-29T10:28:13.550

我正在使用 ClosedXML nuget，投票最多的解决方案对我不起作用，相反，我使用了以下解决方案，它工作得非常好

```
var currentRow = 1;
worksheet.Row(currentRow).Style.Font.Bold = true; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-05T18:36:44.320

# 加粗范围（示例单元格值以 A1 到 G1 的形式给出）

```
$Range = $worksheet.Range("A1", "G1")
$Range.Font.Bold = $true 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2013-11-14T18:58:37.477

以下是使您的工作表看起来与所附 PDF 中完全相同的确切代码：

```
try
        {
            Excel.Application application;
            Excel.Workbook workBook;
            Excel.Worksheet workSheet;
            object misValue = System.Reflection.Missing.Value;

            application = new Excel.ApplicationClass();
            workBook = application.Workbooks.Add(misValue);
            workSheet = (Excel.Worksheet)workBook.Worksheets.get_Item(1);

            int i = 1;
            workSheet.Cells[i, 2] = "MSS Close Sheet"; 
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;               
            i++;
            workSheet.Cells[i, 2] = "MSS - " + dpsNoTextBox.Text;
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            i++;
            workSheet.Cells[i, 2] = customerNameTextBox.Text;
            i++;                
            workSheet.Cells[i, 2] = "Opening Date : ";
            workSheet.Cells[i, 3] = openingDateTextBox.Value.ToShortDateString();
            i++;
            workSheet.Cells[i, 2] = "Closing Date : ";
            workSheet.Cells[i, 3] = closingDateTextBox.Value.ToShortDateString();
            i++;
            i++;
            i++;

            workSheet.Cells[i, 1] = "SL. No";
            workSheet.Cells[i, 2] = "Month";
            workSheet.Cells[i, 3] = "Amount Deposited";
            workSheet.Cells[i, 4] = "Fine";
            workSheet.Cells[i, 5] = "Cumulative Total";
            workSheet.Cells[i, 6] = "Profit + Cumulative Total";
            workSheet.Cells[i, 7] = "Profit @ " + profitRateComboBox.Text;
            WorkSheet.Cells[i, 1].EntireRow.Font.Bold = true;
            i++;

            /////////////////////////////////////////////////////////
            foreach (RecurringDeposit rd in RecurringDepositList)
            {
                workSheet.Cells[i, 1] = rd.SN.ToString();
                workSheet.Cells[i, 2] = rd.MonthYear;
                workSheet.Cells[i, 3] = rd.InstallmentSize.ToString();
                workSheet.Cells[i, 4] = "";
                workSheet.Cells[i, 5] = rd.CumulativeTotal.ToString();
                workSheet.Cells[i, 6] = rd.ProfitCumulative.ToString();
                workSheet.Cells[i, 7] = rd.Profit.ToString();
                i++;
            }
            //////////////////////////////////////////////////////

            ////////////////////////////////////////////////////////
            workSheet.Cells[i, 2] = "Total (" + RecurringDepositList.Count + " months installment)";
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            workSheet.Cells[i, 3] = totalAmountDepositedTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "a) Total Amount Deposited";
            workSheet.Cells[i, 3] = totalAmountDepositedTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "b) Fine";
            workSheet.Cells[i, 3] = "";
            i++;

            workSheet.Cells[i, 2] = "c) Total Pft Paid";
            workSheet.Cells[i, 3] = totalProfitPaidTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Sub Total";
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            workSheet.Cells[i, 3] = (totalAmountDepositedTextBox.Value + totalProfitPaidTextBox.Value).ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Deduction";
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            i++;

            workSheet.Cells[i, 2] = "a) Excise Duty";
            workSheet.Cells[i, 3] = "0";
            i++;

            workSheet.Cells[i, 2] = "b) Income Tax on Pft. @ " + incomeTaxPercentageTextBox.Text;
            workSheet.Cells[i, 3] = "0";
            i++;

            workSheet.Cells[i, 2] = "c) Account Closing Charge ";
            workSheet.Cells[i, 3] = closingChargeCommaNumberTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "d) Outstanding on BAIM(FO) ";
            workSheet.Cells[i, 3] = baimFOLowerTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Total Deduction ";
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            workSheet.Cells[i, 3] = (incomeTaxDeductionTextBox.Value + closingChargeCommaNumberTextBox.Value + baimFOTextBox.Value).ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Client Paid ";
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            workSheet.Cells[i, 3] = customerPayableNumberTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "e) Current Balance ";
            workSheet.Cells[i, 3] = currentBalanceCommaNumberTextBox.Value.ToString("0.00");
            workSheet.Cells[i, 5] = "Exp. Pft paid on MSS A/C(PL67054)";
            workSheet.Cells[i, 6] = plTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "e) Total Paid ";
            workSheet.Cells[i, 3] = customerPayableNumberTextBox.Value.ToString("0.00");
            workSheet.Cells[i, 5] = "IT on Pft (BDT16216)";
            workSheet.Cells[i, 6] = incomeTaxDeductionTextBox.Value.ToString("0.00");
            i++;

            workSheet.Cells[i, 2] = "Difference";
            WorkSheet.Cells[i, 2].Style.Font.Bold = true;
            workSheet.Cells[i, 3] = (currentBalanceCommaNumberTextBox.Value - customerPayableNumberTextBox.Value).ToString("0.00");
            workSheet.Cells[i, 5] = "Account Closing Charge";
            workSheet.Cells[i, 6] = closingChargeCommaNumberTextBox.Value;
            i++;

            ///////////////////////////////////////////////////////////////

            workBook.SaveAs("D:\\" + dpsNoTextBox.Text.Trim() + "-" + customerNameTextBox.Text.Trim() + ".xls", Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue, misValue, Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue);
            workBook.Close(true, misValue, misValue);
            application.Quit();

            releaseObject(workSheet);
            releaseObject(workBook);
            releaseObject(application); 
```

# java - 每个从属节点上的 Reducer 执行

> ID：16187129
> 
> 赞同：0
> 
> 时间：2013-04-24T08:30:58.187
> 
> 标签：java, linux, hadoop, mapreduce, reducers

我想说明一个理论问题（由于某种原因我有些怀疑）：如果run命令中reducer的数量没有设置，每个从节点上都会执行一个reducer？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T11:19:53.947

不会。只有一个 reducer 会在集群的任何地方运行。您的所有映射键和值都将到达该单个减速器

# vb.net - 如何为 MSScriptControl.ScriptControl 设置选项“比较文本”？

> ID：16187134
> 
> 赞同：0
> 
> 时间：2013-04-24T08:31:15.160
> 
> 标签：vb.net, com, scripting

```
 Dim scriptControl As Object = CreateObject("MSScriptControl.ScriptControl")
  scriptControl.Language = "vbscript"
  Dim result As Object = scriptControl.Eval("""aB""=""AB""") 
```

**结果**将为**False**，因为二进制比较是 vbscript 中的默认选项。但我需要使用“选项比较文本”的方式。我打算使用 StrComp 来替换等号运算符，但是正在评估的表达式可能非常复杂。有什么好主意吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T12:45:38.967

VBScript 中没有“选项比较”（仅在 VB 中），必须使用[StrComp 函数](http://msdn.microsoft.com/library/ya4w6fwy.aspx)

# php - 根据单击的链接更新 PHP 变量

> ID：16187145
> 
> 赞同：0
> 
> 时间：2013-04-24T08:32:06.210
> 
> 标签：php, jquery

我使用此循环显示一个包含用户列表的页面：

```
foreach ($mytaxonomies as $mytaxonomy) :  setup_postdata($mytaxonomy);
  echo $mytaxonomy->name; // print the name of the user
  echo '<a>Send email</a>';
endforeach; 
```

该对象`$mytaxonomy`包含许多值，例如当前用户的电子邮件`$mytaxonomy->email`

单击链接（发送电子邮件）会显示一个模式叠加层，其中包含用于向该用户发送电子邮件的表单。表单将邮件发送到变量中指定的电子邮件地址，`$to`但我无法将其分配`$mytaxonomy->email`给该变量（取决于单击了哪个链接）。

我需要类似的东西

```
<?php $to = $mytaxonomies[...]->email; ?> 
```

每次我点击不同的用户时都会发生`$mytaxonomies[...]->email`变化（因为显然每个用户都有不同的电子邮件）。

**编辑：** $mytaxonomies 是包含所有用户及其信息的数组

```
print_r($mytaxonomies);

Array
(
    [0] => stdClass Object
        (
            [term_id] => 4
            [name] => John Doe
            [slug] => john-doe
            [email] => johndoe@email.com
            [age] => ...
            [phone] => ...
        )

    [1] => stdClass Object
        (
            [term_id] => 5
            [name] => Jane Doe
            [slug] => jane-doe
            [email] => jdoe77@converge.con
            [age] => ...
            [phone] => ...
        )

    ...
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:54:05.790

使用 ajax 发送电子邮件。或者在另一个页面中。页面加载后，您无法在页面中设置 php 变量。

阿贾克斯示例：

```
$(document).on('click', 'a', function(){
  var data = 'mail=' + $(this).prop('href');
  $.ajax({
    type: 'POST',
    data: data,
    url: 'sendmail.php',
    success: function(){
      alert('mail sent');
    }
  )};
)}; 
```

PHP：

```
<?
foreach ($mytaxonomies as $mytaxonomy) :  setup_postdata($mytaxonomy);
  echo $mytaxonomy->name; // print the name of the user
  echo "<a href='{$mytaxonomy->email}'>Send email</a>";
endforeach;
?> 
```

在 sendmail.php 中，您可以使用 POST 示例获取变量 mail：`$to = $_POST["mail"];`

HTML 表单：

```
<form id="myform" style="display:none" action="sendmail.php">
 ...
 <input name="to">
 <input name="from">
 ...
</form> 
```

jQuery：

```
$(document).on("click", "a", function(){
  var mail = $(this).prop("href");
  $("#myform").show();
  $('#myform input[name="to"]').val(mail);
}); 
```

您将不再需要 ajax。该表格会将您发送到 sendmail.php。注意：“...”是您表单的其余部分 :)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-24T09:14:57.310

!!!!!不要相信来自客户端的任何价值

```
<?
foreach ($mytaxonomies as $mytaxonomy) :  setup_postdata($mytaxonomy);
  echo $mytaxonomy->name; // print the name of the user
  echo "<a href='send_mail.php?mail={$mytaxonomy->email}'>Send email</a>";
endforeach;
?> 
```

发送邮件.php

```
<?
$mail = $_GET['mail'];
mail($mail, 'My Subject', 'message');
?> 
```

更新>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

```
<?
foreach ($mytaxonomies as $mytaxonomy) :  setup_postdata($mytaxonomy);?>
<form  action="send_mail.php" method="post">
<? echo $mytaxonomy->name;?> 

<input type="hidden" name="mail" value="<?echo $mytaxonomy->email?>">
    <input type="submit" value="Send">
</form>
  <? endforeach;?> 
```

发送邮件.php

```
<?
//just for demo send mail function, dont copy and use
$mail = $_POST['mail'];
mail($mail, 'My Subject', 'message');
?> 
```

# java - 使用 Xuggle 将 Flv 视频转换为 mp4？

> ID：16187146
> 
> 赞同：7
> 
> 时间：2013-04-24T08:32:12.353
> 
> 标签：java, video, mp4, flv, xuggle

如何使用 Xuggle 将 flv 视频转换为 Mp4 格式？我需要研究哪些 api 方法？任何链接/指针都会有所帮助

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-27T01:32:44.133

从[javadoc](http://www.xuggle.com/public/documentation/java/api/)，

> 多么简单？下面是一些打开 MPEG 视频文件的代码，将其转换为 Adob​​e Flash 视频文件：

```
IMediaReader reader = ToolFactory.newReader("input.mpg");
reader.addListener(ToolFactory.newWriter("output.flv", reader));
while (reader.readPacket() == null)
  ; 
```

此方法适用于 xuggle 支持的所有格式。

从[这个问题](https://stackoverflow.com/questions/9727590/what-codecs-does-xuggler-support)看起来这是支持的编解码器列表，

```
 Codecs:
 D..... = Decoding supported
 .E.... = Encoding supported
 ..V... = Video codec
 ..A... = Audio codec
 ..S... = Subtitle codec
 ...S.. = Supports draw_horiz_band
 ....D. = Supports direct rendering method 1
 .....T = Supports weird frame truncation
 ------
 D V D  4xm             4X Movie
 D V D  8bps            QuickTime 8BPS video
 D A    8svx_exp        8SVX exponential
 D A    8svx_fib        8SVX fibonacci
 D V D  FRWU            Forward Uncompressed
  EV    a64multi        Multicolor charset for Commodore 64
  EV    a64multi5       Multicolor charset for Commodore 64, extended with 5th color (colram)
 DEA    aac             Advanced Audio Coding
 D A    aac_latm        AAC LATM (Advanced Audio Codec LATM syntax)
 D V D  aasc            Autodesk RLE
 DEA    ac3             ATSC A/52A (AC-3)
  EA    ac3_fixed       ATSC A/52A (AC-3)
 D A    adpcm_4xm       ADPCM 4X Movie
 DEA    adpcm_adx       SEGA CRI ADX ADPCM
 D A    adpcm_ct        ADPCM Creative Technology
 D A    adpcm_ea        ADPCM Electronic Arts
 D A    adpcm_ea_maxis_xa ADPCM Electronic Arts Maxis CDROM XA
 D A    adpcm_ea_r1     ADPCM Electronic Arts R1
 D A    adpcm_ea_r2     ADPCM Electronic Arts R2
 D A    adpcm_ea_r3     ADPCM Electronic Arts R3
 D A    adpcm_ea_xas    ADPCM Electronic Arts XAS
 D A    adpcm_ima_amv   ADPCM IMA AMV
 D A    adpcm_ima_dk3   ADPCM IMA Duck DK3
 D A    adpcm_ima_dk4   ADPCM IMA Duck DK4
 D A    adpcm_ima_ea_eacs ADPCM IMA Electronic Arts EACS
 D A    adpcm_ima_ea_sead ADPCM IMA Electronic Arts SEAD
 D A    adpcm_ima_iss   ADPCM IMA Funcom ISS
 DEA    adpcm_ima_qt    ADPCM IMA QuickTime
 D A    adpcm_ima_smjpeg ADPCM IMA Loki SDL MJPEG
 DEA    adpcm_ima_wav   ADPCM IMA WAV
 D A    adpcm_ima_ws    ADPCM IMA Westwood
 DEA    adpcm_ms        ADPCM Microsoft
 D A    adpcm_sbpro_2   ADPCM Sound Blaster Pro 2-bit
 D A    adpcm_sbpro_3   ADPCM Sound Blaster Pro 2.6-bit
 D A    adpcm_sbpro_4   ADPCM Sound Blaster Pro 4-bit
 DEA    adpcm_swf       ADPCM Shockwave Flash
 D A    adpcm_thp       ADPCM Nintendo Gamecube THP
 D A    adpcm_xa        ADPCM CDROM XA
 DEA    adpcm_yamaha    ADPCM Yamaha
 DEA    alac            ALAC (Apple Lossless Audio Codec)
 D A    als             MPEG-4 Audio Lossless Coding (ALS)
 D A    amrnb           Adaptive Multi-Rate NarrowBand
 D A    amrwb           Adaptive Multi-Rate WideBand
 D V    amv             AMV Video
 D V D  anm             Deluxe Paint Animation
 D V D  ansi            ASCII/ANSI art
 D A    ape             Monkey's Audio
 DES    ass             Advanced SubStation Alpha subtitle
 DEV D  asv1            ASUS V1
 DEV D  asv2            ASUS V2
 D A    atrac1          Atrac 1 (Adaptive TRansform Acoustic Coding)
 D A    atrac3          Atrac 3 (Adaptive TRansform Acoustic Coding 3)
 D V D  aura            Auravision AURA
 D V D  aura2           Auravision Aura 2
 D V D  avs             AVS (Audio Video Standard) video
 D V D  bethsoftvid     Bethesda VID video
 D V D  bfi             Brute Force & Ignorance
 D A    binkaudio_dct   Bink Audio (DCT)
 D A    binkaudio_rdft  Bink Audio (RDFT)
 D V    binkvideo       Bink video
 DEV D  bmp             BMP image
 D V D  c93             Interplay C93
 D V D  camstudio       CamStudio
 D V D  camtasia        TechSmith Screen Capture Codec
 D V D  cavs            Chinese AVS video (AVS1-P2, JiZhun profile)
 D V D  cdgraphics      CD Graphics video
 D V D  cinepak         Cinepak
 D V D  cljr            Cirrus Logic AccuPak
 D A    cook            COOK
 D V D  cyuv            Creative YUV (CYUV)
 D A    dca             DCA (DTS Coherent Acoustics)
 D V D  dfa             Chronomaster DFA
 DEV D  dnxhd           VC3/DNxHD
 DEV    dpx             DPX image
 D A    dsicinaudio     Delphine Software International CIN audio
 D V D  dsicinvideo     Delphine Software International CIN video
 DES    dvbsub          DVB subtitles
 DES    dvdsub          DVD subtitles
 DEV D  dvvideo         DV (Digital Video)
 D V D  dxa             Feeble Files/ScummVM DXA
 DEA    eac3            ATSC A/52 E-AC-3
 D V D  eacmv           Electronic Arts CMV video
 D V D  eamad           Electronic Arts Madcow Video
 D V D  eatgq           Electronic Arts TGQ video
 D V    eatgv           Electronic Arts TGV video
 D V D  eatqi           Electronic Arts TQI Video
 D V D  escape124       Escape 124
 DEV D  ffv1            FFmpeg video codec #1
 DEVSD  ffvhuff         Huffyuv FFmpeg variant
 DEA    flac            FLAC (Free Lossless Audio Codec)
 DEV D  flashsv         Flash Screen Video
 D V D  flic            Autodesk Animator Flic video
 DEVSD  flv             Flash Video (FLV) / Sorenson Spark / Sorenson H.263
 D V D  fraps           Fraps
 DEA    g722            G.722 ADPCM
 DEA    g726            G.726 ADPCM
 DEV D  gif             GIF (Graphics Interchange Format)
 D A    gsm             GSM
 D A    gsm_ms          GSM Microsoft variant
 DEV D  h261            H.261
 DEVSDT h263            H.263 / H.263-1996
 D VSD  h263i           Intel H.263
  EV    h263p           H.263+ / H.263-1998 / H.263 version 2
 D V D  h264            H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
 D V D  h264_vdpau      H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10 (VDPAU acceleration)
 DEVSD  huffyuv         Huffyuv / HuffYUV
 D V D  idcinvideo      id Quake II CIN video
 D V D  iff_byterun1    IFF ByteRun1
 D V D  iff_ilbm        IFF ILBM
 D A    imc             IMC (Intel Music Coder)
 D V D  indeo2          Intel Indeo 2
 D V D  indeo3          Intel Indeo 3
 D V    indeo5          Intel Indeo Video Interactive 5
 D A    interplay_dpcm  DPCM Interplay
 D V D  interplayvideo  Interplay MVE video
 DEV D  jpegls          JPEG-LS
 D V D  jv              Bitmap Brothers JV video
 D V    kgv1            Kega Game Video
 D V D  kmvc            Karl Morton's video codec
 D V D  lagarith        Lagarith lossless
 DEA    libgsm          libgsm GSM
 DEA    libgsm_ms       libgsm GSM Microsoft variant
 DEV    libschroedinger libschroedinger Dirac 2.2
 D A    libspeex        libspeex Speex
  EV    libtheora       libtheora Theora
  EA    libvorbis       libvorbis Vorbis
 DEV    libvpx          libvpx VP8
  EV    ljpeg           Lossless JPEG
 D V D  loco            LOCO
 D A    mace3           MACE (Macintosh Audio Compression/Expansion) 3:1
 D A    mace6           MACE (Macintosh Audio Compression/Expansion) 6:1
 D V D  mdec            Sony PlayStation MDEC (Motion DECoder)
 D V D  mimic           Mimic
 DEV D  mjpeg           MJPEG (Motion JPEG)
 D V D  mjpegb          Apple MJPEG-B
 D A    mlp             MLP (Meridian Lossless Packing)
 D V D  mmvideo         American Laser Games MM Video
 D V D  motionpixels    Motion Pixels video
 D A    mp1             MP1 (MPEG audio layer 1)
 D A    mp1float        MP1 (MPEG audio layer 1)
 DEA    mp2             MP2 (MPEG audio layer 2)
 D A    mp2float        MP2 (MPEG audio layer 2)
 D A    mp3             MP3 (MPEG audio layer 3)
 D A    mp3adu          ADU (Application Data Unit) MP3 (MPEG audio layer 3)
 D A    mp3adufloat     ADU (Application Data Unit) MP3 (MPEG audio layer 3)
 D A    mp3float        MP3 (MPEG audio layer 3)
 D A    mp3on4          MP3onMP4
 D A    mp3on4float     MP3onMP4
 D A    mpc7            Musepack SV7
 D A    mpc8            Musepack SV8
 DEVSDT mpeg1video      MPEG-1 video
 D V DT mpeg1video_vdpau MPEG-1 video (VDPAU acceleration)
 DEVSDT mpeg2video      MPEG-2 video
 DEVSDT mpeg4           MPEG-4 part 2
 D V DT mpeg4_vdpau     MPEG-4 part 2 (VDPAU)
 D VSDT mpegvideo       MPEG-1 video
 D V DT mpegvideo_vdpau MPEG-1/2 video (VDPAU acceleration)
 D VSDT mpegvideo_xvmc  MPEG-1/2 video XvMC (X-Video Motion Compensation)
 DEVSD  msmpeg4         MPEG-4 part 2 Microsoft variant version 3
 D VSD  msmpeg4v1       MPEG-4 part 2 Microsoft variant version 1
 DEVSD  msmpeg4v2       MPEG-4 part 2 Microsoft variant version 2
 D V D  msrle           Microsoft RLE
 D V D  msvideo1        Microsoft Video 1
 D V D  mszh            LCL (LossLess Codec Library) MSZH
 D V D  mxpeg           Mobotix MxPEG video
 DEA    nellymoser      Nellymoser Asao
 D V D  nuv             NuppelVideo/RTJPEG
 DEV D  pam             PAM (Portable AnyMap) image
 DEV D  pbm             PBM (Portable BitMap) image
 DEA    pcm_alaw        PCM A-law
 D A    pcm_bluray      PCM signed 16|20|24-bit big-endian for Blu-ray media
 D A    pcm_dvd         PCM signed 20|24-bit big-endian
 DEA    pcm_f32be       PCM 32-bit floating point big-endian
 DEA    pcm_f32le       PCM 32-bit floating point little-endian
 DEA    pcm_f64be       PCM 64-bit floating point big-endian
 DEA    pcm_f64le       PCM 64-bit floating point little-endian
 D A    pcm_lxf         PCM signed 20-bit little-endian planar
 DEA    pcm_mulaw       PCM mu-law
 DEA    pcm_s16be       PCM signed 16-bit big-endian
 DEA    pcm_s16le       PCM signed 16-bit little-endian
 D A    pcm_s16le_planar PCM 16-bit little-endian planar
 DEA    pcm_s24be       PCM signed 24-bit big-endian
 DEA    pcm_s24daud     PCM D-Cinema audio signed 24-bit
 DEA    pcm_s24le       PCM signed 24-bit little-endian
 DEA    pcm_s32be       PCM signed 32-bit big-endian
 DEA    pcm_s32le       PCM signed 32-bit little-endian
 DEA    pcm_s8          PCM signed 8-bit
 DEA    pcm_u16be       PCM unsigned 16-bit big-endian
 DEA    pcm_u16le       PCM unsigned 16-bit little-endian
 DEA    pcm_u24be       PCM unsigned 24-bit big-endian
 DEA    pcm_u24le       PCM unsigned 24-bit little-endian
 DEA    pcm_u32be       PCM unsigned 32-bit big-endian
 DEA    pcm_u32le       PCM unsigned 32-bit little-endian
 DEA    pcm_u8          PCM unsigned 8-bit
 DEA    pcm_zork        PCM Zork
 DEV D  pcx             PC Paintbrush PCX image
 DEV D  pgm             PGM (Portable GrayMap) image
 DEV D  pgmyuv          PGMYUV (Portable GrayMap YUV) image
 D S    pgssub          HDMV Presentation Graphic Stream subtitles
 D V D  pictor          Pictor/PC Paint
 DEV D  png             PNG image
 DEV D  ppm             PPM (Portable PixelMap) image
 D V D  ptx             V.Flash PTX image
 D A    qcelp           QCELP / PureVoice
 D A    qdm2            QDesign Music Codec 2
 D V D  qdraw           Apple QuickDraw
 D V D  qpeg            Q-team QPEG
 DEV D  qtrle           QuickTime Animation (RLE) video
 D V D  r10k            AJA Kona 10-bit RGB Codec
 D V D  r210            Uncompressed RGB 10-bit
 DEV    rawvideo        raw video
 DEA    real_144        RealAudio 1.0 (14.4K) encoder
 D A    real_288        RealAudio 2.0 (28.8K)
 D V D  rl2             RL2 video
 DEA    roq_dpcm        id RoQ DPCM
 DEV D  roqvideo        id RoQ video
 D V D  rpza            QuickTime video (RPZA)
 DEV D  rv10            RealVideo 1.0
 DEV D  rv20            RealVideo 2.0
 D V D  rv30            RealVideo 3.0
 D V D  rv40            RealVideo 4.0
 D A    s302m           SMPTE 302M
 DEV    sgi             SGI image
 D A    shorten         Shorten
 D A    sipr            RealAudio SIPR / ACELP.NET
 D A    smackaud        Smacker audio
 D V D  smackvid        Smacker video
 D V D  smc             QuickTime Graphics (SMC)
 DEV D  snow            Snow
 D A    sol_dpcm        DPCM Sol
 D V D  sp5x            Sunplus JPEG (SP5X)
 D S    srt             SubRip subtitle
 D V D  sunrast         Sun Rasterfile image
 DEV D  svq1            Sorenson Vector Quantizer 1 / Sorenson Video 1 / SVQ1
 D VSD  svq3            Sorenson Vector Quantizer 3 / Sorenson Video 3 / SVQ3
 DEV D  targa           Truevision Targa image
 D VSD  theora          Theora
 D V D  thp             Nintendo Gamecube THP video
 D V D  tiertexseqvideo Tiertex Limited SEQ video
 DEV D  tiff            TIFF image
 D V D  tmv             8088flex TMV
 D A    truehd          TrueHD
 D V D  truemotion1     Duck TrueMotion 1.0
 D V D  truemotion2     Duck TrueMotion 2.0
 D A    truespeech      DSP Group TrueSpeech
 D A    tta             True Audio (TTA)
 D A    twinvq          VQF TwinVQ
 D V D  txd             Renderware TXD (TeXture Dictionary) image
 D V D  ultimotion      IBM UltiMotion
 DEV D  v210            Uncompressed 4:2:2 10-bit
 D V D  v210x           Uncompressed 4:2:2 10-bit
 D V    vb              Beam Software VB
 D V D  vc1             SMPTE VC-1
 D V D  vc1_vdpau       SMPTE VC-1 VDPAU
 D V D  vcr1            ATI VCR1
 D A    vmdaudio        Sierra VMD audio
 D V D  vmdvideo        Sierra VMD video
 D V D  vmnc            VMware Screen Codec / VMware Video
 DEA    vorbis          Vorbis
 D VSD  vp3             On2 VP3
 D V D  vp5             On2 VP5
 D V D  vp6             On2 VP6
 D V D  vp6a            On2 VP6 (Flash version, with alpha channel)
 D V D  vp6f            On2 VP6 (Flash version)
 D V D  vp8             On2 VP8
 D V D  vqavideo        Westwood Studios VQA (Vector Quantized Animation) video
 D A    wavpack         WavPack
 D A    wmapro          Windows Media Audio 9 Professional
 DEA    wmav1           Windows Media Audio 1
 DEA    wmav2           Windows Media Audio 2
 D A    wmavoice        Windows Media Audio Voice
 DEVSD  wmv1            Windows Media Video 7
 DEVSD  wmv2            Windows Media Video 8
 D V D  wmv3            Windows Media Video 9
 D V D  wmv3_vdpau      Windows Media Video 9 VDPAU
 D V D  wnv1            Winnov WNV1
 D A    ws_snd1         Westwood Audio (SND1)
 D A    xan_dpcm        DPCM Xan
 D V D  xan_wc3         Wing Commander III / Xan
 D V D  xan_wc4         Wing Commander IV / Xxan
 D V D  xl              Miro VideoXL
 DES    xsub            DivX subtitles (XSUB)
 D V    yop             Psygnosis YOP Video
 DEV D  zlib            LCL (LossLess Codec Library) ZLIB
 DEV D  zmbv            Zip Motion Blocks Video

Note, the names of encoders and decoders do not always match, so there are
several cases where the above table shows encoder only or decoder only entries
even though both encoding and decoding are supported. For example, the h263
decoder corresponds to the h263 and h263p encoders, for file formats it is even
worse. 
```

以下是所有文件格式：

```
File formats:
 D. = Demuxing supported
 .E = Muxing supported
 --
  E 3g2             3GP2 format
  E 3gp             3GP format
 D  4xm             4X Technologies format
 D  IFF             IFF format
 D  ISS             Funcom ISS format
 D  MTV             MTV format
 DE RoQ             raw id RoQ format
  E a64             a64 - video for Commodore 64
 D  aac             raw ADTS AAC
 DE ac3             raw AC-3
  E adts            ADTS AAC
 D  aea             MD STUDIO audio
 DE aiff            Audio IFF
 DE alaw            PCM A-law format
 DE alsa            ALSA audio output
 DE amr             3GPP AMR file format
 D  anm             Deluxe Paint Animation
 D  apc             CRYO APC format
 D  ape             Monkey's Audio
 D  applehttp       Apple HTTP Live Streaming format
 DE asf             ASF format
  E asf_stream      ASF format
 DE ass             Advanced SubStation Alpha subtitle format
 DE au              SUN AU format
 DE avi             AVI format
  E avm2            Flash 9 (AVM2) format
 D  avs             AVS format
 D  bethsoftvid     Bethesda Softworks VID format
 D  bfi             Brute Force & Ignorance
 D  bink            Bink
 D  c93             Interplay C93
 D  caf             Apple Core Audio Format
 DE cavsvideo       raw Chinese AVS video
 D  cdg             CD Graphics Format
  E crc             CRC testing format
 DE daud            D-Cinema audio format
 D  dfa             Chronomaster DFA
 DE dirac           raw Dirac
 DE dnxhd           raw DNxHD (SMPTE VC-3)
 D  dsicin          Delphine Software International CIN format
 DE dts             raw DTS
 DE dv              DV video format
 D  dv1394          DV1394 A/V grab
  E dvd             MPEG-2 PS format (DVD VOB)
 D  dxa             DXA
 D  ea              Electronic Arts Multimedia Format
 D  ea_cdata        Electronic Arts cdata
 DE eac3            raw E-AC-3
 DE f32be           PCM 32 bit floating-point big-endian format
 DE f32le           PCM 32 bit floating-point little-endian format
 DE f64be           PCM 64 bit floating-point big-endian format
 DE f64le           PCM 64 bit floating-point little-endian format
 D  fbdev           Linux framebuffer
 DE ffm             FFM (FFserver live feed) format
 DE ffmetadata      FFmpeg metadata in text format
 D  film_cpk        Sega FILM/CPK format
 DE filmstrip       Adobe Filmstrip
 DE flac            raw FLAC
 D  flic            FLI/FLC/FLX animation format
 DE flv             FLV format
  E framecrc        framecrc testing format
  E framemd5        Per-frame MD5 testing format
 DE g722            raw G.722
  E gif             GIF Animation
 D  gsm             raw GSM
 DE gxf             GXF format
 DE h261            raw H.261
 DE h263            raw H.263
 DE h264            raw H.264 video format
 D  idcin           id Cinematic format
 DE image2          image2 sequence
 DE image2pipe      piped image2 sequence
 D  ingenient       raw Ingenient MJPEG
 D  ipmovie         Interplay MVE format
  E ipod            iPod H.264 MP4 format
 D  iv8             A format generated by IndigoVision 8000 video server
 DE ivf             On2 IVF
 D  jack            JACK Audio Connection Kit
 D  jv              Bitmap Brothers JV
 D  libdc1394       dc1394 v.2 A/V grab
 D  lmlm4           lmlm4 raw format
 D  lxf             VR native stream format (LXF)
 DE m4v             raw MPEG-4 video format
  E matroska        Matroska file format
 D  matroska,webm   Matroska/WebM file format
  E md5             MD5 testing format
 DE mjpeg           raw MJPEG video
 DE mlp             raw MLP
 D  mm              American Laser Games MM format
 DE mmf             Yamaha SMAF
  E mov             MOV format
 D  mov,mp4,m4a,3gp,3g2,mj2 QuickTime/MPEG-4/Motion JPEG 2000 format
  E mp2             MPEG audio layer 2
 DE mp3             MPEG audio layer 3
  E mp4             MP4 format
 D  mpc             Musepack
 D  mpc8            Musepack SV8
 DE mpeg            MPEG-1 System format
  E mpeg1video      raw MPEG-1 video
  E mpeg2video      raw MPEG-2 video
 DE mpegts          MPEG-2 transport stream format
 D  mpegtsraw       MPEG-2 raw transport stream format
 D  mpegvideo       raw MPEG video
  E mpjpeg          MIME multipart JPEG format
 D  msnwctcp        MSN TCP Webcam stream
 DE mulaw           PCM mu-law format
 D  mvi             Motion Pixels MVI format
 DE mxf             Material eXchange Format
  E mxf_d10         Material eXchange Format, D-10 Mapping
 D  mxg             MxPEG clip file format
 D  nc              NC camera feed format
 D  nsv             Nullsoft Streaming Video
  E null            raw null video format
 DE nut             NUT format
 D  nuv             NuppelVideo format
 DE ogg             Ogg
 D  oma             Sony OpenMG audio
 DE oss             Open Sound System playback
  E psp             PSP MP4 format
 D  psxstr          Sony Playstation STR format
 D  pva             TechnoTrend PVA file and stream format
 D  qcp             QCP format
 D  r3d             REDCODE R3D format
 DE rawvideo        raw video format
  E rcv             VC-1 test bitstream
 D  rl2             RL2 format
 DE rm              RealMedia format
 D  rpl             RPL/ARMovie format
 DE rso             Lego Mindstorms RSO format
 DE rtp             RTP output format
 DE rtsp            RTSP output format
 DE s16be           PCM signed 16 bit big-endian format
 DE s16le           PCM signed 16 bit little-endian format
 DE s24be           PCM signed 24 bit big-endian format
 DE s24le           PCM signed 24 bit little-endian format
 DE s32be           PCM signed 32 bit big-endian format
 DE s32le           PCM signed 32 bit little-endian format
 DE s8              PCM signed 8 bit format
 DE sap             SAP output format
 D  sdp             SDP
 D  shn             raw Shorten
 D  siff            Beam Software SIFF
 D  smk             Smacker video
 D  sol             Sierra SOL format
 DE sox             SoX native format
 DE spdif           IEC 61937 (used on S/PDIF - IEC958)
 DE srt             SubRip subtitle format
  E svcd            MPEG-2 PS format (VOB)
 DE swf             Flash format
 D  thp             THP
 D  tiertexseq      Tiertex Limited SEQ format
 D  tmv             8088flex TMV
 DE truehd          raw TrueHD
 D  tta             True Audio
 D  tty             Tele-typewriter
 D  txd             Renderware TeXture Dictionary
 DE u16be           PCM unsigned 16 bit big-endian format
 DE u16le           PCM unsigned 16 bit little-endian format
 DE u24be           PCM unsigned 24 bit big-endian format
 DE u24le           PCM unsigned 24 bit little-endian format
 DE u32be           PCM unsigned 32 bit big-endian format
 DE u32le           PCM unsigned 32 bit little-endian format
 DE u8              PCM unsigned 8 bit format
 D  vc1             raw VC-1
 D  vc1test         VC-1 test bitstream format
  E vcd             MPEG-1 System format (VCD)
 D  video4linux2    Video4Linux2 device grab
 D  vmd             Sierra VMD format
  E vob             MPEG-2 PS format (VOB)
 DE voc             Creative Voice file format
 D  vqf             Nippon Telegraph and Telephone Corporation (NTT) TwinVQ
 D  w64             Sony Wave64 format
 DE wav             WAV format
 D  wc3movie        Wing Commander III movie format
  E webm            WebM file format
 D  wsaud           Westwood Studios audio format
 D  wsvqa           Westwood Studios VQA format
 D  wtv             Windows Television (WTV)
 D  wv              WavPack
 D  x11grab         X11grab
 D  xa              Maxis XA File Format
 D  xwma            Microsoft xWMA
 D  yop             Psygnosis YOP Format
 DE yuv4mpegpipe    YUV4MPEG pipe format 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-14T13:25:57.457

也许有点晚了，但这是因为您正在运行一个 xuggler 库，该库是为 linux 和 32 位在您的 64 位 Windows 中编译的。尝试在 Java 32Bit 或 linux 操作系统上运行您的应用程序

# wpf - Windows 文件名中不允许使用哪些字符以及如何限制它们在 C# 中输入

> ID：16187147
> 
> 赞同：1
> 
> 时间：2013-04-24T08:32:12.537
> 
> 标签：wpf, windows, c#-4.0, file-io, .net-4.0

我试图让用户使用在`WPF` `Textbox`控件中输入的名称保存文件。我的要求是*限制*Microsoft Windows 操作系统中名称中不允许出现的所有*字符。*`file/folder`

是否允许`regex pattern`在WPF 文本框中键入此类字符，并且在键入和限制此类字符时发出*声音*，我可以将其应用于 WPF 文本框的某些事件？`C#`*`Beep`*

 ** * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:40:57.267

您可以尝试使用[Path.GetInvalidFileNameChars()](http://msdn.microsoft.com/en-us/library/system.io.path.getinvalidfilenamechars.aspx)，但请注意该列表不一定是详尽的（请参阅链接的 MSDN 文档）。

例如，对 [SharePoint 文件名](http://support.microsoft.com/kb/905231)有进一步的限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:43:45.083

[在这里](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx)，您将找到有关命名文件和路径的知识。

然后你可以设置一个[CustomValidationRule](http://msdn.microsoft.com/en-us/library/ms182556%28v=vs.90%29.aspx)*

# asp.net - 如何在 ASP.NET 中加载配置文件发生异常时为错误页面响应设置状态代码 500

> ID：16187156
> 
> 赞同：2
> 
> 时间：2013-04-24T08:32:40.653
> 
> 标签：asp.net, iis, episerver

我有 EPiServer 应用程序，当加载某些配置或 EPiServer 初始化管道中发生异常时，有时可能会在应用程序启动时引发异常。我已将 customErrors 配置为重定向到 /Error.htm 页面，并且我正在 global.asax 中的 Application_EndRequest 事件中处理此页面的响应状态代码，以返回正确的状态代码，如下所示：

```
 protected void Application_EndRequest(object sender, EventArgs e)
    {
        if (Request.Url.AbsolutePath.EndsWith("Error.htm"))
        {
            Response.StatusCode = 500;
            Response.TrySkipIisCustomErrors = true;
        }
    } 
```

它在加载应用程序时发生异常时效果很好，但在加载配置文件（在我的情况下为 episerver.config）或 EPiServer 初始化管道中发生异常时（EPiServer 中有一个错误）则不行。

尝试创建 IHttpModule，但未初始化。试图在 Application_Error 中添加错误处理，但它也没有被触发。

似乎 ASP.NET 正在处理这些异常，因为它正确重定向到我的 Error.htm 页面，但它设置了状态代码 304。而且我找不到进入管道以更改状态代码的方法。

我需要错误页面的 500 状态代码来配置负载均衡器以关闭配置错误的服务器。

**更新**

我已将自定义错误设置为 Off，以便将正确的状态代码发送到 IIS：

```
<customErrors mode="Off" defaultRedirect="/Error.htm"></customErrors> 
```

配置 httpError 部分以重定向到 Error.htm，但完整的异常详细信息在本地和远程显示。当我添加 existingResponse="Replace" 时，由于重定向循环，它会引发异常：

```
<httpErrors errorMode="Custom" existingResponse="Replace">
  <remove statusCode="500" subStatusCode="-1" />
  <error statusCode="500" prefixLanguageFilePath="" path="Error.htm" responseMode="Redirect" />
</httpErrors> 
```

将 httpError 部分配置为 ExecuteURL，但仍会在本地和远程显示完整的异常详细信息。当我添加 existingResponse="Replace" 它仍然在本地和远程显示完整的异常详细信息：

```
<httpErrors errorMode="Custom" existingResponse="Replace">
  <remove statusCode="500" subStatusCode="-1" />
  <error statusCode="500" prefixLanguageFilePath="" path="/Error.htm" responseMode="ExecuteURL" />
</httpErrors> 
```

如果我设置 responseMode="File" 和 existingResponse="Replace" 它会在本地和远程显示 Error.htm：

```
<httpErrors errorMode="Custom" existingResponse="Replace">
  <remove statusCode="500" subStatusCode="-1" />
  <error statusCode="500" prefixLanguageFilePath="" path="Error.htm" responseMode="File" />
</httpErrors> 
```

在本地获取错误详细信息和远程获取 Error.htm 仍然没有运气。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-19T21:33:44.097

在 EPiServer 7 及更高版本中，您可以使用它`globalErrorHandling`来设置预期的行为。

要让 httpErrors/customErrors 完成错误处理，您可以将参数设置为`Off`：

```
<episerver>
  <applicationSettings globalErrorHandling="Off" />
</episerver> 
```

可能的值`"RemoteOnly|On|Off"`如下所述：http: [//world.episerver.com/documentation/Items/Developers-Guide/Episerver-CMS/8/Configuration/Configuring-episerver/](http://world.episerver.com/documentation/Items/Developers-Guide/Episerver-CMS/8/Configuration/Configuring-episerver/)

您也可以在后台访问此参数（这将在保存时编辑您的 web.config）：

[![在此处输入图像描述](https://i.stack.imgur.com/ERdHW.png)](https://i.stack.imgur.com/ERdHW.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T07:56:43.637

您可能需要禁用 EPiServer 错误处理。您可以通过打开 episerver.config 并将“”元素上的“globalErrorHandling”属性设置为“Off”来实现。

启用 globalErrorHandling 后，我的 customErrors 和 httpErrors 设置将无法按预期工作。

部分答案是从这个地址复制的：[http ://www.eyecatch.no/blog/2011/09/custom-error-pages-in-episerver/](http://www.eyecatch.no/blog/2011/09/custom-error-pages-in-episerver/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-26T11:42:05.603

你可能会调查**`<httpErrors>`**而不是**`<customErrors>`**？

[http://tedgustaf.com/blog/2011/5/custom-404-and-error-pages-for-asp-net-and-static-files/](http://tedgustaf.com/blog/2011/5/custom-404-and-error-pages-for-asp-net-and-static-files/)上的一些信息。

# java - 在 NetBeans 上运行用 Java 编写的客户端-服务器程序

> ID：16187162
> 
> 赞同：1
> 
> 时间：2013-04-24T08:32:50.420
> 
> 标签：java, netbeans, client

我正在尝试在 Netbeans 上运行 java 中的客户端-服务器程序。

这是服务器的代码：

```
// File Name GreetingServer.java

import java.net.*;
import java.io.*;

public class GreetingServer extends Thread
{
   private ServerSocket serverSocket;

   public GreetingServer(int port) throws IOException
   {
      serverSocket = new ServerSocket(port);
      serverSocket.setSoTimeout(10000);
   }

   public void run()
   {
      while(true)
      {
         try
         {
            System.out.println("Waiting for client on port " +
            serverSocket.getLocalPort() + "...");
            Socket server = serverSocket.accept();
            System.out.println("Just connected to "
                  + server.getRemoteSocketAddress());
            DataInputStream in =
                  new DataInputStream(server.getInputStream());
            System.out.println(in.readUTF());
            DataOutputStream out =
                 new DataOutputStream(server.getOutputStream());
            out.writeUTF("Thank you for connecting to "
              + server.getLocalSocketAddress() + "\nGoodbye!");
            server.close();
         }catch(SocketTimeoutException s)
         {
            System.out.println("Socket timed out!");
            break;
         }catch(IOException e)
         {
            e.printStackTrace();
            break;
         }
      }
   }
   public static void main(String [] args)
   {
      int port = Integer.parseInt(args[0]); #line 48, error arises here. 
      try
      {
         Thread t = new GreetingServer(port);
         t.start();
      }catch(IOException e)
      {
         e.printStackTrace();
      }
   }
} 
```

这是客户端的代码：

```
// File Name GreetingClient.java

import java.io.*;
import java.net.*;

public class GreetingClient
{
   public static void main(String [] args)
   {
      String serverName = args[0]; #line 10, error arises here 
      int port = Integer.parseInt(args[1]);
      try
      {
         System.out.println("Connecting to " + serverName
                             + " on port " + port);
         Socket client = new Socket(serverName, port);
         System.out.println("Just connected to "
                      + client.getRemoteSocketAddress());
         OutputStream outToServer = client.getOutputStream();
         DataOutputStream out =
                       new DataOutputStream(outToServer);

         out.writeUTF("Hello from "
                      + client.getLocalSocketAddress());
         InputStream inFromServer = client.getInputStream();
         DataInputStream in =
                        new DataInputStream(inFromServer);
         System.out.println("Server says " + in.readUTF());
         client.close();
      }catch(IOException e)
      {
         e.printStackTrace();
      }
   }
} 
```

所以当我想模拟客户端和服务器一起运行时，我首先运行服务器。服务器运行后，我需要运行客户端。

但是，当我尝试运行服务器文件时，出现以下错误：

运行：线程“主”java.lang.ArrayIndexOutOfBoundsException 中的异常：GreetingServer.main 中的 0（GreetingServer.java:48）Java 结果：1 BUILD SUCCESSFUL（总时间：0 秒）

同样，当我尝试运行客户端程序时，我收到以下错误：

运行：线程“主”java.lang.ArrayIndexOutOfBoundsException 中的异常：0 在 GreetingClient.main(GreetingClient.java:10) Java 结果：1 BUILD SUCCESSFUL（总时间：0 秒）

为什么会这样？请帮忙。

**更新：**

```
import java.net.*;
import java.io.*;

public class GreetingServer extends Thread
{
    private static int port;
   private ServerSocket serverSocket;

   public GreetingServer(int port) throws IOException
   {
      serverSocket = new ServerSocket(port);
      serverSocket.setSoTimeout(10000);
   }

   public void run()
   {
      while(true)
      {
         try
         {
            System.out.println("Waiting for client on port " +
            serverSocket.getLocalPort() + "...");
            Socket server = serverSocket.accept();
            System.out.println("Just connected to "
                  + server.getRemoteSocketAddress());
            DataInputStream in =
                  new DataInputStream(server.getInputStream());
            System.out.println(in.readUTF());
            DataOutputStream out =
                 new DataOutputStream(server.getOutputStream());
            out.writeUTF("Thank you for connecting to "
              + server.getLocalSocketAddress() + "\nGoodbye!");
            server.close();
         }catch(SocketTimeoutException s)
         {
            System.out.println("Socket timed out!");
            break;
         }catch(IOException e)
         {
            e.printStackTrace();
            break;
         }
      }
   }
   public static void main(String [] args)
   {
      port=9000;
      try
      {
         Thread t = new GreetingServer(port);
         t.start();
      }catch(IOException e)
      {
         e.printStackTrace();
      }
   }
}

// File Name GreetingClient.java

import java.io.*;
import java.net.*;
public class GreetingClient
{
    private static String serverName;
   public static void main(String [] args)
   {
      String sName = "MyServerName";
      int port = 9000;
      try
      {
         System.out.println("Connecting to " + sName
                             + " on port " + port);
         Socket client = new Socket(sName, port);
         System.out.println("Just connected to "
                      + client.getRemoteSocketAddress());
         OutputStream outToServer = client.getOutputStream();
         DataOutputStream out =
                       new DataOutputStream(outToServer);

         out.writeUTF("Hello from "
                      + client.getLocalSocketAddress());
         InputStream inFromServer = client.getInputStream();
         DataInputStream in =
                        new DataInputStream(inFromServer);
         System.out.println("Server says " + in.readUTF());
         client.close();
      }catch(IOException e)
      {
      }
   }
} 
```

现在服务器端没有错误。但我仍然在客户端收到以下错误：

运行：线程“主”java.lang.ArrayIndexOutOfBoundsException 中的异常：0 在 GreetingClient.main(GreetingClient.java:10) Java 结果：1 BUILD SUCCESSFUL（总时间：0 秒）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:41:52.433

您的代码假设您传递了要用作参数的端口，因此：

*   您可以使用 Patryk Roszczyniała 发布的行运行您的应用程序

*   如果您不想使用它，只需删除以下行：

    ```
    String serverName = args[0]; 
    int port = Integer.parseInt(args[0]); 
    ```

    并用硬编码值替换它们，例如：

    ```
    String serverName = "MyServerName";
    int port = 3000; 
    ```

**更新 ：**

我刚刚测试了你的代码，实际上 serverName 是你用来连接服务器的地址，所以`"localhost"`如果你在同一台机器上同时运行客户端和服务器，请将其替换为。

**测试代码：**

这是我测试的更新代码，如果您在同一台机器上运行它们应该可以完美运行。

客户 ：

```
import java.io.*;
import java.net.*;
public class GreetingClient
{
    private static String serverName;
   public static void main(String [] args)
   {
      String sName = "localhost";
      int port = 9000;
      try
      {
         System.out.println("Connecting to " + sName
                             + " on port " + port);
         Socket client = new Socket(sName, port);
         System.out.println("Just connected to "
                      + client.getRemoteSocketAddress());
         OutputStream outToServer = client.getOutputStream();
         DataOutputStream out =
                       new DataOutputStream(outToServer);

         out.writeUTF("Hello from "
                      + client.getLocalSocketAddress());
         InputStream inFromServer = client.getInputStream();
         DataInputStream in =
                        new DataInputStream(inFromServer);
         System.out.println("Server says " + in.readUTF());
         client.close();
      }catch(IOException e)
      {
      }
   }
} 
```

服务器 ：

```
import java.net.*;
import java.io.*;

public class GreetingServer extends Thread
{
    private static int port;
   private ServerSocket serverSocket;

   public GreetingServer(int port) throws IOException
   {
      serverSocket = new ServerSocket(port);
      serverSocket.setSoTimeout(20000);
   }

   public void run()
   {
      while(true)
      {
         try
         {
            System.out.println("Waiting for client on port " +
            serverSocket.getLocalPort() + "...");
            Socket server = serverSocket.accept();
            System.out.println("Just connected to "
                  + server.getRemoteSocketAddress());
            DataInputStream in =
                  new DataInputStream(server.getInputStream());
            System.out.println(in.readUTF());
            DataOutputStream out =
                 new DataOutputStream(server.getOutputStream());
            out.writeUTF("Thank you for connecting to "
              + server.getLocalSocketAddress() + "\nGoodbye!");
            server.close();
         }catch(SocketTimeoutException s)
         {
            System.out.println("Socket timed out!");
            break;
         }catch(IOException e)
         {
            e.printStackTrace();
            break;
         }
      }
   }
   public static void main(String [] args)
   {
      port=9000;
      try
      {
         Thread t = new GreetingServer(port);
         t.start();
      }catch(IOException e)
      {
         e.printStackTrace();
      }
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:36:51.240

要运行`SocketServer`，您需要传递将在哪个服务器上工作的端口。例如：

```
SocketServer server = new SocketServer(1234); 
```

问题是您想通过 java 参数传递端口，而您没有这样做。首先，在使用任何变量之前，您应该首先验证它。

```
if (args.length>0) {
    int port = Integer.parseInt(args[0]); #line 48, error arises here. 
} 
```

您的程序需要参数，但我认为您可能在没有参数的情况下运行程序。你应该以这种方式运行程序：`java -jar app.jar 1234` 但是你这样做是这样的：`java -jar app.jar`

在本文中，您将了解如何使用 netbeans [http://netbeanside61.blogspot.com/2009/02/using-command-line-arguments-in.html](http://netbeanside61.blogspot.com/2009/02/using-command-line-arguments-in.html)将参数传递给 java 程序。

如果您是 Java 新手，您应该首先阅读本教程[http://docs.oracle.com/javase/tutorial/networking/sockets/](http://docs.oracle.com/javase/tutorial/networking/sockets/)。这很有帮助。

# php - 更改php中的值

> ID：16187166
> 
> 赞同：-5
> 
> 时间：2013-04-24T08:32:56.340
> 
> 标签：php

```
// $tags can be a string with comma separated values, such as: 
// $tags = 'first, second, third'; 
```

如何通过表单向此 php 代码添加标签。我想在表单中输入一个值，然后将其添加到`$tags`然后它必须将我重定向到另一个页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:35:16.180

在表单操作页面上

```
$next_value = $_POST['fildvalue'];
$tags .=','.$next_value;
header('location:url') ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:36:35.880

```
<?php
$tags=array();
$tags[]="first";
$tags[]="second";
$tags[]="third";

array_push($tags,$_GET["tag"]);
$nTags=implode(",",$tags);
$nTags=urlencode($nTags);
header("Location : http://example.com/?tags=$nTags");
?> 
```

# eclipse - 将unity AR项目与eclipse集成

> ID：16187168
> 
> 赞同：0
> 
> 时间：2013-04-24T08:32:57.993
> 
> 标签：eclipse, unity3d

我正在使用 vuforia unity 扩展开发一个增强现实项目。我在统一 3d 中创建了一个项目并将其导出到 android 平台。我 在我的设备上**测试 apk 文件。**并且它的工作良好。现在我想在我的 Eclipse 项目中使用它。Fpr这个目的我按照这个链接的说明**[https://developer.vuforia.com/forum/faq/unity-how-can-i-extend-unitys-android-activity#](https://developer.vuforia.com/forum/faq/unity-how-can-i-extend-unitys-android-activity#)** 但是在第四步它说浏览到项目临时文件夹。我也这样做了。**但是临时文件夹中没有暂存区文件夹**。问题是什么。是构建问题还是统一版本问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T07:49:51.570

您必须再次构建统一项目。然后您可以找到暂存区文件夹。希望对您有所帮助。

# c++ - Visual Studio for C++ 使用的编译器？

> ID：16187170
> 
> 赞同：0
> 
> 时间：2013-04-24T08:33:21.213
> 
> 标签：c++, compiler-construction

我尝试在 Internet 上搜索，但找不到 Visual Studio 用于 C++ 应用程序的编译器。我想知道它是否可以免费获得以及是否可以用于商业应用。传统上我一直在使用 Turbo C++。

Visual Studio C++ Express 的问题在于它不适用于某些应用程序。例如，作为一个开源项目的 BRL-CAD 可以在商业版本中正常工作，但在 Express 版本中会出现一些问题。似乎MinGW编译器也存在一些问题。运行该项目的人告诉我这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:38:45.850

Visual Studio 对所有版本都使用相同的编译器。因此，Express 版使用与 Professional 版相同的编译器。在任何一种情况下，生产商业应用程序也没有限制。IDE 提供的高级功能有所不同，但编译器是相同的。因此，无论您在使项目工作方面遇到什么问题，都与编译器无关。

# javascript - href 一个 Excel 工作表并保存对其所做的更改。使用jsp javascript html

> ID：16187172
> 
> 赞同：0
> 
> 时间：2013-04-24T08:33:27.057
> 
> 标签：javascript, jsp

我有一张 Excel 表。使用 html 我将其打开为

```
 href="other/Browser-Capture.xls" target="_blank"><img src="images/xlsimg.bmp"></a> 
```

这将在新的浏览器窗口中打开 Excel 工作表。但是我无法修改它。任何想法如何做到这一点...

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:21:58.930

当从服务器（如 Excel 表）请求文件时，它会被下载到您的本地计算机。如果您在那里编辑它，您的编辑不会影响服务器上的 Excel 文件。

**因此，无法**使用浏览器直接在服务器上对其进行编辑。

您可以将上传功能添加到您的网页，您可以使用`<input type="file">`. 但是，这可能会变得很困难，因为您需要确保上传的文件与原始文件相同。

如果您希望您的用户能够在您的网络服务器上编辑数据，您可以将这些数据保存在文件、数据库等中，并为用户提供一个**表单**，他们可以在其中编辑数据。

# python - GAE：动态属性服务（db.Model）取决于使用相同应用程序代码的客户端（Biz App）

> ID：16187173
> 
> 赞同：0
> 
> 时间：2013-04-24T08:33:27.047
> 
> 标签：python, database, google-app-engine, bigdata

让我们直接进入正题，

在这里考虑我的客户应用程序名称 -具有相同应用程序代码的**ABC**和**XYZ 。**

现在让我们考虑一种 db 类型，

```
class user_details(db.Model):
   user_id = db.IntegerProperty()
   username = db.StringProperty()
   emailid = db.StringProperty()
   usertype = db.StringProperty()  #Require/used only in **ABC** app
   accesslevel = db.StringProperty() #Require/used only in **XYZ** app
   .
   . 
```

然后我意识到，虽然应用程序为**ABC**和**XYZ**`usertype`提供相同的模型结构，但对于**XYZ**和**ABC**`accesslevel`，很少有属性意义不大或类似

 **那就是这种方式或技巧，以便我只能提供应用程序实际需要的这些属性。喜欢忽略**XYZ**或喜欢忽略**ABC**`usertype`。这样我就可以节省我的数据库空间。**`accesslevel`**

 ******注意**：我通过`db.Expando`gae doc 中的方法。但我不想在现有应用程序中使用该数据库类型。我宁愿`db.Model`只。因为这些应用程序已经在这里运行了。& 每个客户端数据库有大约 20 亿条记录。

如果有人会实施这些方案，请建议我合适的解决方案。

我会很感激你对此的回应。

真挚地。

尼克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:29:21.360

我将为公共子集创建一个基类，然后为每个客户端添加子类。您还应该考虑使用命名空间来分隔每个客户端的数据。您必须知道您正在使用哪个客户端（因此命名空间），然后加载适当的模型。

另一种可能性是使用 PolyModel，但所有子类都是所有属性的集合。

```
from google.appengine.ext import db

class UserBase(db.Model):
    user_id = db.IntegerProperty()
    username = db.StringProperty()
    emailid = db.StringProperty()

class UserABCDetails(UserBase):
    usertype = db.StringProperty() 

class UserXYZDetails(UserBase):
    accesslevel = db.StringProperty() 
```

如果您想使用 PolyModel，您只需将 db.Model 替换为 db.PolyModel，但您应该阅读其后果。******

# php - 数组索引随着array_fill php消失

> ID：16187174
> 
> 赞同：4
> 
> 时间：2013-04-24T08:33:27.907
> 
> 标签：php, arrays

我浏览了帖子 - [php - array_fill 负索引](https://stackoverflow.com/questions/15604101/php-array-fill-negative-indices)

PHP 肯定没有说明为什么它在 (-ive) start_index 之后从 0 开始，但是，但是，如果我尝试`array_fill`从`-2`已经定义了索引的数组的`-1`索引开始`0`，原始数组就会消失。

```
$a = array('-1'=>'harry','0'=>'alex');  
$a = array_fill(-2,4,'roger');

print_r($a); 
```

输出

```
Array ( [-2] => Roger [0] => Roger [1] => Roger [2] => Roger ) 
```

并且`$a[-1]`是未定义的偏移误差。`$a[0]`被罗杰覆盖。

有什么解释吗？？以及未来类似情况的工作提示..!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:36:30.663

从[`array_fill`](http://php.net/array_fill)手册：

> 如果 start_index 为负数，则返回数组的第一个索引将为 start_index 并且以下索引将从零开始（参见示例）。

```
<?php
$a = array_fill(5, 6, 'banana');
$b = array_fill(-2, 4, 'pear');
print_r($a);
print_r($b);
?> 
```

输出：

```
Array
(
    [5]  => banana
    [6]  => banana
    [7]  => banana
    [8]  => banana
    [9]  => banana
    [10] => banana
)
Array
(
    [-2] => pear
    [0] => pear
    [1] => pear
    [2] => pear
) 
```

所以你的输出是正确的。接下来是您省略了第一个数组。你应该尝试：

```
$a = array(-1 => 'harry', 0 => 'alex');
$a = array_merge(array_fill(-2, 4, 'roger'), $a);

ksort($a); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:46:26.047

你可以试试`array_replace`

```
$a = array('-1'=>'harry','0'=>'alex');
$b = array_fill(-2, 4, 'Roger');

$c = array_replace($b, $a);
ksort($c);
print_r($c); 
```

输出

```
Array
(
    [-2] => Roger 
    [-1] => harry
    [0] => alex
    [1] => Roger 
    [2] => Roger 
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:37:06.267

这是正确的方法

```
$a = array('-1'=>'harry','0'=>'alex');  
$a = array_merge($a,array_fill(-2,4,'roger'));

print_r($a); 
```

如果必须保留 arrk 密钥

```
$a = array('-1'=>'harry','0'=>'alex');  
$b=array_fill('-2','4','roger');
    $a =  $a+ $b;

    print_r($a); 
```

# html - 溢出不起作用 -标签，但在 为什么？

> ID：16187175
> 
> 赞同：1
> 
> 时间：2013-04-24T08:33:28.923
> 
> 标签：html, mobile, overflow, mobile-website

我只是花了不少时间调试我的移动应用程序。我正在构建一个移动网站并为我的一个视图实现一个类似于收件箱的 UI。

与许多移动应用程序一样，我创建了一个侧面菜单，只需按一下按钮即可显示。标记看起来像这样：

```
<div class="content>
    //Content goes here, inbox items and such
</div>
<aside class="side-menu">
   //Side menu content goes here
</aside> 
```

在移动设备上，侧边菜单内容溢出，但在我将 side-tag 更改为 div-tag 之前，侧边菜单不可滚动。

是什么造成了这种行为？

# node.js - Nodejs v0.10.x (freebsd) “X509_STORE_add_cert:cert 已经在哈希表中”

> ID：16187178
> 
> 赞同：1
> 
> 时间：2013-04-24T08:33:32.093
> 
> 标签：node.js, ssl, ssl-certificate, freebsd

我正在使用异步 Web api，并且 nodejs 版本高于 v0.8.9

$ uname -a FreeBSD home 9.1-STABLE FreeBSD 9.1-STABLE #0：EET 2013 年 2 月 1 日星期五 10:38:27 root@home:/usr/obj/usr/src/sys/HOME amd64

$节点-v v0.10.0

$节点./client.js

```
 events.js:72
        throw er; // Unhandled 'error' event
              ^
Error: 34401711104:error:0B07C065:x509 certificate routines:X509_STORE_add_cert:cert already in hash table:../deps/openssl/openssl/crypto/x509/x509_lu.c:357:
34401711104:error:0B07C065:x509 certificate routines:X509_STORE_add_cert:cert already in hash table:../deps/openssl/openssl/crypto/x509/x509_lu.c:357:

    at SlabBuffer.use (tls.js:221:18)
    at CleartextStream.read [as _read] (tls.js:408:29)
    at CleartextStream.Readable.read (_stream_readable.js:293:10)
    at tls.js:465:12
    at process._tickCallback (node.js:415:13) 
```

代码（client.js）：

```
var fs = require('fs');
var https = require('https');
var agent = require('agent').agent;

var config={
    host:           'sample.host.com',
    port:           443,
    path:           '/worker.do',
    pfx:            fs.readFileSync('./client.pfx'),
    passphrase:     "passwordHere"
};

config.agent = new https.Agent({
    pfx: config.pfx,
    passphrase: config.passphrase
});

agent.config=config;

agent.makeRequest([{request:"search",query:"*"}],function(data){
    if(!data.success){
        console.log(data.error);
        return;
    }

    var items=[];

    for(var item in data.data){
        items.push(data.data[item][0]);
    }

    agent.makeRequest([{"request":"update","group":true,"arr":JSON.stringify(items)}],function(data){
        if(!data.success){
            console.log(data.error);
            return;
        }

        console.log('Done: '+data.result);
    });

}); 
```

代码（agent.js）：

```
var https = require('https');

var agent={
    config: {},
    getId: function() {
        return this.id || (this.id = new Date().getTime());
    },
    makeRequest: function(params,callback){
        var options = {
            host: this.config.host,
            port: this.config.port,
            path: '/worker.do',
            method: 'POST',
            agent: this.config.agent
        };

        var that=this;
        var req = https.request(options, function(res) {
            if(res.statusCode!='200'){
                callback({
                    success:    false,
                    error:      res.statusCode
                });
                return;
            }

            var body='';
            res.on('data', function(data) {
                body+=data.toString();
            });

            res.on('end', function(){
                try {
                    body=JSON.parse(body);
                } catch(e) {
                    callback({
                        success:    false,
                        error:      '[makeRequest] Cant parse body: '+body
                    });
                }

                var reqId=body[0];
                that.getContent(reqId,callback);
            });
        });

        req.on('error', function(e) {
            callback({
                success:    false,
                error:      e
            });
        });

        req.end(JSON.stringify(params)+'\n\n');
    },

    getContent: function(reqId,callback){
        var options = {
            path: '/worker.do?_dc='+this.getId(),
            method: 'GET',
            host: this.config.host,
            port: this.config.port,
            agent: this.config.agent
        };

        var req = https.request(options, function(res) {
            if(res.statusCode!='200'){
                callback({
                    success:    false,
                    error:      res.statusCode
                });
                return;
            }

            var body='';
            res.on('data', function(data) {
                body+=data.toString();
            });

            res.on('end', function(){
                try {
                    body=JSON.parse(body);
                } catch(e) {
                    callback({
                        success:    false,
                        error:      '[getContent] Cant parse body: '+body
                    });
                }           

                callback(body[reqId]);
            });
        });

        req.on('error', function(e) {
            callback({
                success:    false,
                error:      e
            });
        });

        req.end();

    }
}

exports.agent=agent; 
```

在 nodejs v0.6.x 和 v0.8.x 上它运行完美。在 v0.10.x 上——失败。请帮忙找出问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-04T06:14:45.117

解决方案是隔离您的 PEM 并将它们一个一个添加回来，而不是作为一个捆绑包。在最低的叶子，然后是父节点，然后是父节点，等等，每次都进行测试。

见[https://github.com/iojs/io.js/issues/712](https://github.com/iojs/io.js/issues/712)

我认为这一定是 node.js / io.js 内部的一个错误，其中重复的证书在第一次使用时没有被检查。

奇怪的是，将证书添加到特定 https 服务器实例的链中可能会导致不相关的 https 请求（应该使用默认链，与 https 服务器无关）。

# web-services - 为我的 mvc 应用程序创建 Web 服务

> ID：16187180
> 
> 赞同：2
> 
> 时间：2013-04-24T08:33:35.963
> 
> 标签：web-services, asp.net-mvc-4

我创建了一个 mvc 应用程序，我想使用一些 Push 服务器和一些 Web 服务来让我的应用程序进行通信。

我发现 SignalR 是 Push Server 的最佳选择。

我是否需要为我的其他工作创建另一个 Web 服务，或者 SignalR 是否需要 Web 服务工作？

如果我需要其他 Web 服务，WCF 是最佳选择吗？还是我有另一个选择？

> 对不起，我的英语不好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:59:14.367

您需要为 signalR 创建一个单独的 Web 服务。请在下面找到带有 MVC 的 signalR 示例

[http://www.asp.net/signalr/overview/getting-started/tutorial-getting-started-with-signalr-and-mvc-4](http://www.asp.net/signalr/overview/getting-started/tutorial-getting-started-with-signalr-and-mvc-4)

谢谢娜仁

# xamarin.ios - 将 LinkedIn 与 Monotouch 集成

> ID：16187181
> 
> 赞同：1
> 
> 时间：2013-04-24T08:33:36.903
> 
> 标签：xamarin.ios, linkedin

我在`LinkedIn`集成中遇到问题`Monotouch`。我已经`Facebook`使用 Logged In Session 成功集成，如下所示：

```
internal void SaveAuthorization ()
        {
            var defaults = NSUserDefaults.StandardUserDefaults;
            defaults ["FBAccessTokenKey"] = new NSString (facebook.AccessToken);
            defaults ["FBExpirationDateKey"] = facebook.ExpirationDate;
            defaults.Synchronize ();
        } 
```

或使用类似：

```
 public class SessionDelegate : FBSessionDelegate 
        {
            FacebookLoginViewController container;

            public SessionDelegate (FacebookLoginViewController  container)
            {
                this.container = container;
            }

            public override void DidLogin ()
            {
                container.ShowLoggedIn ();
                container.SaveAuthorization ();
            }
            public override void DidLogout ()
            {
                container.ClearAuthorization ();
                //container.ShowLoggedOut ();
            }

            public override void DidNotLogin (bool cancelled)
            {
                // TODO: Implement - see: http://go-mono.com/docs/index.aspx?
link=T%3aMonoTouch.Foundation.ModelAttribute
            }

            public override void SessionInvalidated ()
            {
                // TODO: Implement - see: http://go-mono.com/docs/index.aspx?
link=T%3aMonoTouch.Foundation.ModelAttribute
            }
        } 
```

现在我想对 LinkedIn 使用相同的。我怎样才能完成它。？

提前致谢

# mysql - MFC Unicode 应用程序如何使用 MySQL ODBC 连接器连接到 latin1 MySQL 数据库？

> ID：16187183
> 
> 赞同：3
> 
> 时间：2013-04-24T08:33:41.467
> 
> 标签：mysql, unicode, mfc, odbc, mysql-connector

我进行了各种更新记录的尝试均未成功，其中 MySQL 数据库中的行名称包含变音符号（ä、ü、ö、ß）。最后我怀疑 Record Field Exchange 不能正确处理 Umlaute。以下是我尝试过的测试用例。

1.  使用 MySQL ODBC 5.2a 驱动程序（ANSI 驱动程序）
2.  使用 MySQL ODBC 5.2w 驱动程序（Unicode 驱动程序）
3.  使用 MySQL ODBC 5.2a 驱动程序并在连接字符串中设置 charset=latin1
4.  使用 MySQL ODBC 5.2w 驱动程序并在连接字符串中设置 charset=latin1

在每个测试用例中，都可以成功读取记录，但更新记录会导致以下错误：

1.  'field_list' 中的未知列 'EigentÃƒÂ¼'
2.  服务器不支持 4 字节编码的 UTF8 字符
3.  'field_list' 中的未知列 'EigentÃƒÂ¼'
4.  服务器不支持 4 字节编码的 UTF8 字符

为了获得更多信息，我打开了 ODBC 调试选项（在 MySQL 连接器/ODBC 数据源配置中找到），它将 SQL 字符串输出到 %TEMP%\myodbc.sql。对于测试用例，驱动程序编写如下名称（myodbc.sql 是一个 ANSI 文件）：

1.  选择语句：`Eigentümer`; 更新声明：`EigentÃ¼mer`
2.  选择语句：`EigentÃ¼mer`; 更新声明：`EigentÃ¼mer`
3.  选择语句：`Eigentümer`; 更新声明：`EigentÃ¼mer`
4.  选择语句：`EigentÃ¼mer`; 更新声明：`EigentÃ¼mer`

我很惊讶 SELECT 在任何情况下都有效。你知道如何正确设置驱动程序或我还能做些什么来让它工作吗？

**服务器信息：**

```
mysql> SHOW VARIABLES LIKE 'character_set%';
+--------------------------+----------------------------+
| Variable_name            | Value                      |
+--------------------------+----------------------------+
| character_set_client     | latin1                     |
| character_set_connection | latin1                     |
| character_set_database   | latin1                     |
| character_set_filesystem | binary                     |
| character_set_results    | latin1                     |
| character_set_server     | latin1                     |
| character_set_system     | utf8                       |
| character_sets_dir       | /usr/share/mysql/charsets/ |
+--------------------------+----------------------------+
8 rows in set (0,00 sec) 
```

**负责构建 SQL 语句的代码：**

```
void invdb::CWDBArtikelRecordset::DoFieldExchange(CFieldExchange* pFX)
{
    pFX->SetFieldType(CFieldExchange::outputColumn);
    RFX_Int(pFX, L"[LNGer]", mWDBArtikel.id);
    RFX_Int(pFX, L"[Gerätetyp]", mWDBArtikel.geraetetyp);
    RFX_Text(pFX, L"[Seriennr]", mWDBArtikel.seriennr);
    RFX_Text(pFX, L"[Inventarnummer]", mWDBArtikel.inventarnummer);
    RFX_Text(pFX, L"[Eigentümer]", mWDBArtikel.eigentuemer);
    RFX_Text(pFX, L"[Meßbereich]", mWDBArtikel.messbereich);
    RFX_Long(pFX, L"[Baujahr]", mBaujahr);
    RFX_Text(pFX, L"[Inbetriebnahme]", mWDBArtikel.inbetriebnahme);
    RFX_Date(pFX, L"[Ende der Garantiezeit]", mWDBArtikel.endeDerGarantiezeit);
    RFX_Text(pFX, L"[Firma]", mWDBArtikel.firma);
    RFX_Text(pFX, L"[Pumpentyp]", mWDBArtikel.pumpentyp);
    RFX_Text(pFX, L"[PumpeSerNr]", mWDBArtikel.pumpesernr);
    RFX_Long(pFX, L"[AktStation]", mAktStation);
    RFX_Long(pFX, L"[DefaultStation]", mDefaultStation);
    RFX_Int(pFX, L"[IZS]", mWDBArtikel.izs);
    RFX_Date(pFX, L"[daten_vom]", mWDBArtikel.daten_vom);
    RFX_Text(pFX, L"[Schnittstellen]", mWDBArtikel.Schnittstellen);
} 
```

**应该更新记录的代码：**

```
void invdb::updateWDBArtikel(const WDBArtikel& wdbartikel) {
    // CWDBArtikelRecordset is derived from CRecordset
    // GetConnectedDB returns a succesfully connected CDatabase reference
    CWDBArtikelRecordset rs(&conWS.GetConnectedDB());
    rs.m_strFilter.Format(L"LNGer = '%d'", wdbartikel.id);
    rs.Open();
    if (rs.IsEOF())
        throw std::runtime_error("updateWDBArtikel: Not found");
    rs.Edit();
    rs.Set(wdbartikel);
    if (rs.mWDBArtikel.aktStation == AFX_RFX_LONG_PSEUDO_NULL)
        rs.SetFieldNull(&rs.mAktStation);
    if (rs.mWDBArtikel.defaultStation == AFX_RFX_LONG_PSEUDO_NULL)
        rs.SetFieldNull(&rs.mDefaultStation);
    if (rs.mWDBArtikel.endeDerGarantiezeit.GetStatus() != COleDateTime::valid)
        rs.SetFieldNull(&rs.mWDBArtikel.endeDerGarantiezeit);
    rs.Update(); // Results in a CDBException
} 
```

# android - 单击 webView 中的其他一些超链接/按钮时，Webview 客户端未侦听 shouldOverrideUrlLoading 方法

> ID：16187193
> 
> 赞同：2
> 
> 时间：2013-04-24T08:34:14.113
> 
> 标签：android, android-webview, ntlm, chilkat

我有一个共享点站点，它具有 ntlm 身份验证。为了让我加载页面，我使用它对网站进行身份验证。

```
public String LoadUrlWithNTLM(String url){
        CkHttp http = new CkHttp();
        http.put_Login("username");
        http.put_Password("password");
        http.put_NtlmAuth(true);
        http.put_SessionLogFilename("ntlmAuthLog.txt");
        String source = http.quickGetStr(url);
        return source;
    } 
```

并用这个加载webview。

```
public void LoadWebView(String url, String source){
        webView = (WebView) findViewById(R.id.webView1);
        webView.getSettings().setJavaScriptEnabled(true);
        webView.setWebViewClient(new WebViewClient());
        webView.loadDataWithBaseURL(url, source, "text/html", "", "");
    } 
```

我在 OnCreate() 中调用它

```
source= LoadUrlWithNTLM(url);
LoadWebView(url,source); 
```

然后我检查是否有一个 url 事件点击这个

```
webView.setWebViewClient(new WebViewClient() { 
        public boolean shouldOverrideUrlLoading(WebView view, String url){
            String toWebView = LoadUrlWithNTLM(url);
            LoadWebView(url,source);
            return false; 
        } 
    }); 
```

在某些时候，我可以通过 NTLM 身份验证访问 Sharepoint 站点，但是当我单击某个链接时，它只显示“401 UNAUTHORIZED”并且不调用断点上的 shouldOverrideUrlLoading() 方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T13:26:05.843

授权后，每个后续 HTTP 请求都应包含一个 Authorization 标头，该标头包含先前授权的结果。如果后续请求是使用 Chilkat HTTP 发送的，那么对象将自动发送此 Authorization 标头。但是，WebView 对此一无所知，并且它在请求中包含任何 Authorization 标头，因此您会收到“401 Unauthorized”错误。

一种解决方案是查看是否可以使用 WebView 进行 NTLM 授权。我假设您使用 Chilkat 只是因为这是不可能的。

另一种解决方案是像您一样使用 Chilkat，然后获取 Authorization 标头的值（来自 Chilkat）并使用 WebView 显式设置此标头字段。我对 WebView 知之甚少，不知道这是否可能。要从 Chilkat 获取 Authorization 标头的值可能需要一个新的 Chilkat 功能（我认为这可能很容易做到）。（或者已经有可能，但是以一种复杂的方式）

# c++ - 指向 C++ 中指针初始化的图像指针

> ID：16187195
> 
> 赞同：1
> 
> 时间：2013-04-24T08:34:26.460
> 
> 标签：c++, constants

处理图像初始化时遇到问题。

我有这样的课：

```
Class MyImage
{
   private: 
       unsigned int** image;
       const unsigned int w;
       const unsigned int h;
   public:
       MyImage(unsigned int** _image,unsigned int _w,
                unsigned int _h); // copy constructor
} 
```

看来如果我使用上面的复制构造函数，我需要先删除图像，如下所示：

```
 MyImage(unsigned int** _image,unsigned int _w,unsigned int _h)
   {
       if (image)
       {
           for (int i = 0;i < w;++i)
               delete[] image[i];
           delete[] image;
       }

       // .. copy _image to imge
   } 
```

但是，如果 w 和 h 是 const 成员，似乎 w 和 h 必须在初始化列表中初始化，如下所示：

```
 MyImage(unsigned int** _image,unsigned int _w,unsigned int _h): w(_w),h(_h)
   {
        // ..code
   } 
```

然后我无法删除图像，因为 w 在它之前发生了变化。我的问题是，如果我不想消除 w 和 h 中的 const 装饰，我该怎么办？有什么方法吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:37:36.200

这不是复制构造函数

```
MyImage(unsigned int** _image,unsigned int _w,unsigned int _h) 
```

这是一个复制构造函数

```
MyImage(const MyImage &image) 
```

不要使用`: w(_w)`并先删除以前的图像，然后使用`w = image._w`.

但是，您不需要删除任何内容，因为它是构造函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:42:11.163

在您的情况下，作为 const`w`并没有错。`h`您可以通过以下方式编写构造函数：

```
 MyImage(unsigned int** _image,unsigned int _w,unsigned int _h)
     : w(_w), h(_h)
 {
     // No data is allocated in the memory pointed to by image yet
     // We have to allocate it here. Remember, that copy-ctor is
     // a constructor, so it operates on newly created instance,
     // not on an existing one.

     image = new unsigned int * [h];
     for (int i = 0; i < h; i++)
     {
         image[i] = new unsigned int [w];
         memcpy(image[i], _image[h], w * sizeof(unsigned int));
     }
 } 
```

根据我的图像处理经验，考虑将图像逐行存储为单个表。您可以通过调用访问 (x, y)-th 元素`data[y * w + x];`在这种情况下，您可以简化您的复制 ctor：

```
MyImage::MyImage(unsigned int * source, int newW, int newH)
    : w(newW), h(newH)
{
    image = new unsigned int[w * h];
    memcpy((void *)image, (void *)source, w * h * sizeof(unsigned int));
} 
```

按照 C++ 社区对这个术语的理解，*复制构造函数*看起来像这样：

```
MyImage::MyImage(const MyImage &source) 
    : w(source.w), h(source.h)
{
    image = new unsigned int[w * h];
    memcpy((void *)image, (void *)source.image, w * h * sizeof(unsigned int));
} 
```

请注意，当您调用构造函数时该`image`字段不存在，因此您不需要释放任何内容。

```
 // Your code
 MyImage(unsigned int** _image,unsigned int _w,unsigned int _h)
 {
     // Class is allocated into some part of memory, which might
     // have been used, so in effect this may be actually true,
     // because image may contain some rubbish data
     if (image)
     {
         // But this will result mostly likely in Access Violation
         // error, because you would try to use (free!) some random
         // data in memory.
         for (int i = 0;i < w;++i)
             delete[] image[i];
         delete[] image;
     }

     // .. copy _image to imge
} 
```

如果您需要类似分配的方法，它将某些图像的内容（存储在 unsigned int * 或另一个 Image 类中）复制到*现有*的 Image 实例，`w`并且`h`不能是 const。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:58:19.723

使用封装`std::vector`来管理图像数据。默认的复制构造函数、移动构造函数、赋值运算符、移动赋值运算符和默认析构函数都将自动为您生成并执行正确的操作。此外，通过在连续的内存块中分配图像数据并使用跨行（或列）主要顺序，这将比为每一行分配一个新的内存块更有效......

```
struct MyImage
{
    const size_t w, h;
    vector<int> image;

    MyImage(const vector<int>& image, size_t w, size_t h)
        : image(image)
        , w(w)
        , h(h)
    {
        assert(image.size() == w*h);
    }

    MyImage(vector<int>&& image, size_t w, size_t h)
        : image(move(image))
        , w(w)
        , h(h)
    {
        assert(image.size() == w*h);
    }

    int& pixel(size_t x, size_t y) { return image[w*y+x]; }
    int pixel(size_t x, size_t y) const { return image[w*y+x]; }
}; 
```

# xml - 如何转换xml块？

> ID：16187198
> 
> 赞同：2
> 
> 时间：2013-04-24T08:34:36.673
> 
> 标签：xml, xslt, transformation, mode

我是 XSL 的新手，找不到像下面这样的案例。我想将 source.xml 转换为 target.xml。我有使用模式“组”，但它对我不起作用（可能我无法正确使用它）

源.xml：

```
<?xml version="1.0" encoding="ISO-8859-1"?>

<PersonBody>

    <Person>
        <D>Name</D>
        <D>Surname</D>
        <D>Id</D>
    </Person>

    <PersonValues>
        <D>Michael</D>
        <D>Jackson</D>
        <D>01</D>
    </PersonValues>

    <PersonValues>
        <D>James</D>
        <D>Bond</D>
        <D>007</D>
    </PersonValues>

    <PersonValues>
        <D>Kobe</D>
        <D>Bryant</D>
        <D>24</D>
    </PersonValues>

</PersonBody> 
```

目标.xml：

```
<PersonBody>
  <AllValues>
    <Name>
      <D>Michael</D>
      <D>James</D>
      <D>Kobe</D>
    </Name>
    <Surname>
      <D>Jackson</D>
      <D>Bond</D>
      <D>Bryant</D>
    </Surname>
    <Id>
      <D>01</D>
      <D>007</D>
      <D>24</D>
    </Id>
  </AllValues>
</PersonBody> 
```

编辑：我问了另一个问题，因为输出发生了变化。[你可以从这里](https://stackoverflow.com/questions/16192234/how-to-transform-xml-to-requested-one)找到另一个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:57:04.507

试试这个：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>
  <xsl:key name="kColumnValue" match="PersonValues/*" 
           use="count(preceding-sibling::*)" />

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="/*">
    <xsl:copy>
      <AllValues>
        <xsl:apply-templates select="Person/*" />
      </AllValues>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="Person/*">
    <xsl:element name="{.}">
      <xsl:apply-templates select="key('kColumnValue', position() - 1)" />
    </xsl:element>
  </xsl:template>
</xsl:stylesheet> 
```

在您的示例 XML 上运行时，结果是：

```
<PersonBody>
  <AllValues>
    <Name>
      <D>Michael</D>
      <D>James</D>
      <D>Kobe</D>
    </Name>
    <Surname>
      <D>Jackson</D>
      <D>Bond</D>
      <D>Bryant</D>
    </Surname>
    <Id>
      <D>01</D>
      <D>007</D>
      <D>24</D>
    </Id>
  </AllValues>
</PersonBody> 
```

# c - 如何将 char *a[] 复制到 char **b？

> ID：16187201
> 
> 赞同：1
> 
> 时间：2013-04-24T08:34:45.953
> 
> 标签：c, pointers

考虑`char *a[] = {"abc", "xyz", "def"};`

**深拷贝** `char *a[]`到`char **b`.

有人能说什么是深拷贝吗？我们需要分配多少内存`b`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:54:23.020

```
char *a[n]; 
```

是一个包含 n 个指向字符的指针的数组。数组的每个元素在内存中都是连续的。所需的内存大小是

```
sizeof(char *) * n 
```

我在这里使用了 sizeof() 运算符……你可以假设一个指针有 4 个字节，但这可能不安全……这取决于你的硬件。

```
char **b 
```

略有不同。这是一个指向字符的指针。**b 尚未分配指针数组。首先分配数组...

```
char **b = malloc( sizeof(char *) * n); 
```

**编辑：**感谢 interjay 指出我的错误...下面的示例现在使用 strdup() 为每个 b[i] 分配内存

**b 指向由 n 个指针组成的数组的开头。*对于该数组中的每个指针，您可以对浅拷贝*执行 b[0] = a[0]

 *这是一个浅拷贝，因为 b[0] 将指向与 a[0] 指向的内存相同的内存。因此更改内容 b[0] 将更改 a[0] 的内容。

深拷贝意味着您有两个完全独立的实体……因此更改内容 b[0] 不会导致更改 a[0] 的内容。这意味着您需要为每个 b[i] 分配新内存并将字符串从 a[i] 复制到该新块中。

深拷贝：

```
char *a[n];
// ...intialise array a....
char **b = malloc( sizeof(char *) * n); // allocate array of pointers
if( b )
{
   int i = 0;
   for(; i < n; ++i)
        b[i] = (char *)strdup(a[i]); // allocate memory for new string and copy string
}
else
   printf("You ran out of memory!\n"); 
```

顺便说一句...您使用了常量字符串，因此您不应该在技术上修改它们...

```
char *xxx = "String";
char yyy[] = "String"; 
```

您可以安全地修改 yyy 的内容。通常你可以修改 xxx 的内容没有任何问题，但是注意，因为字符串内存是在编译时分配的，你会发现编译器已经把它，例如，放在只读内存中。

**编辑：** 似乎一直在争论是否从 malloc 中强制返回（我一直有这样做的习惯，但似乎这是一个坏习惯！）......请参阅[为什么我们需要强制转换 malloc 返回的内容?](https://stackoverflow.com/questions/1634153/why-do-we-need-to-typecast-what-malloc-returns)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:31:20.060

走在`a`阵列上，为每个`a[i]`请求空间使用`*alloc()`系列函数之一分配它，并将结果放入相应的`b[i]`. `b`指针本身应该是一个具有足够空间的指针，可以将字符串的数量作为`a`指针保存。用这样的东西计算：

```
 int bsize = (sizeof(a)/sizeof(a[0])) * sizeof(char*);
    char **b = malloc(bsize);
    int i,len;
    /* if(b == NULL) /* error: no memory */
    for(i = 0,len = sizeof(a)/sizeof(a[0]); i < len; i++) {
        char *tmp = malloc(strlen(a[i])+1);
        if(tmp == NULL) /* error: no memory */
        strcpy(tmp, a[i]);
       b[i] = tmp;
    } 
```

请注意，您需要或将`b`数组的大小保存在内存中，或者将 a`NULL`放在数组的末尾。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-24T09:11:57.960

你可以做

b=a

这会将指针数组 *a[3] 的基地址分配给 b。

现在您可以使用 b 访问字符串

```
for example string 1 can be accessed by *(b+0)  gives address of string 1
            string 2 "                " *(b+1)  "              " string 2
            string 3 "                " *(b+2)  "              " string 3 
```

由于您将指针数组分配给指向指针的指针，因此您已经将内存分配给 b 因此您不需要使用 malloc。

仅当您在运行时将一些数据分配给指针并且您没有为程序中的指针分配内存时，才只能使用 malloc。*

# maven - 避免Jenkins在nexus中多次上传发布工件

> ID：16187204
> 
> 赞同：3
> 
> 时间：2013-04-24T08:34:59.470
> 
> 标签：maven, jenkins, continuous-integration

我有一个分成多个 Maven 人工制品的 Web 项目。

假设它是：

*   一、罐子
*   B、一个罐子
*   C、一个罐子
*   D、战争

因此，D 依赖于 B 和 C。B 依赖于 A。

这些模块版本并不总是同步的。

A 可以在版本 3-SNAPSHOT 上，而 B 仍然在版本 5 中，并且依赖于 A 版本 2。

我将詹金斯配置为在构建 A 时级联构建 B，在构建 B 或 C 时级联构建 D。当在 git 存储库中检测到更改时，这些模块也会重新构建。Artefacts 通过构建后操作自动部署在 nexus 存储库中。

因此，如果我在 git 中推送 A 的新版本 3-SNAPSHOT，则会构建一个 3-SNAPSHOT jar 并将其推送到 nexus 中。但是，由于 Jenkins 的依赖，触发了 B 版本 2（**发布版本）的新构建。**构建本身运行良好，但部署到 nexus 失败，因为我不允许重新部署发布工件。

我怎样才能避免这种情况？当工件具有发布版本并且此版本已存在于 nexus 中时，不尝试上传到 nexus 是可以接受的。

我正在使用 Jenkins 1.480 和 maven 3.0.4。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:18:23.013

[您可以使用https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Trigger+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Trigger+Plugin)触发参数化构建并将参数添加到作业 B。

条件构建插件也可能有帮助[https://wiki.jenkins-ci.org/display/JENKINS/Conditional+BuildStep+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Conditional+BuildStep+Plugin)

# python - Python KeyError: '' 用于自动语言检测

> ID：16187207
> 
> 赞同：0
> 
> 时间：2013-04-24T08:35:02.417
> 
> 标签：python

我正在使用停用词在 python 中进行自动语言检测

但是我在尝试测试代码时遇到了 KeyError 。这是代码

```
import nltk
from nltk.corpus import stopwords

def scoreFunction(wholetext):
    dictiolist={}
    scorelist={}
    NLTKlanguage = ["dutch","finnish","german","italian","portuguese","spanish","turkish","danish","english"," french","hungarian","norwegian","russian","swedish"]
    FREElanguages = [""]
    languages= NLTKlanguages + FREElanguages
    for lang in NLTKlanguages:
        dictiolist[lang]=stopwords.words(lang)
        tokens=nltk.tokenize.word_tokenize(wholetext)
        tokens=[t.lower() for t in tokens]
        freq_dist=nltk.FreqDist(tokens)
    for lang in languages:
        scorelist[lang]=0
    for word in freq_dist.keys()[0:20]:
        if word in dictiolist[lang]:
            scorelist[lang]+=1
    return scorelist

def whichLanguage(scorelist):
    maximum=0
    for item in scorelist:
        value = scorelist[item]
        if maximum<value:
            maximum = value
            lang = item
    return lang 
```

当我运行它 scoreFunction("hillo 我的名字是 osfar，我是天才") 我得到错误 Traceback (last recent call last): File "", line 1, in

```
scoreFunction("hello my name is osfar and i'm very genius") 
File "C:/Users/osama1/Desktop
/fun-test", line 17, in scoreFunction 
if word in dictiolist[lang]:
KeyError: '' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:56:09.773

您的问题出在以下代码块中：

```
for word in freq_dist.keys()[0:20]:
    if word in dictiolist[lang]:
    scorelist[lang]+=1 
```

你`lang`在这个 for 循环中使用了变量，但你没有在任何地方定义它。这意味着它的值是未定义的；碰巧，它的值是“”（空字符串），因为这是它在上一个 for 循环中的最后一个值。

你显然打算做的是：

```
for word in freq_dist.keys()[0:20]:
    for lang in languages:
        if word in dictiolist[lang]:
        scorelist[lang]+=1 
```

顺便说一句，有一种更简单的方法可以做你想做的事情：使用计数器。有关详细信息，请参阅[http://docs.python.org/2.7/library/collections.html#counter-objects](http://docs.python.org/2.7/library/collections.html#counter-objects)。

# jquery - 如何使用 $.mobile.linkBindingEnabled = false 的 jQuery Mobile 选择菜单自定义样式？

> ID：16187209
> 
> 赞同：0
> 
> 时间：2013-04-24T08:35:11.567
> 
> 标签：jquery, cordova, jquery-mobile, backbone.js

我们正在使用 PhoneGap 和 Backbone.js 开发一个移动应用程序。为了使 Backbone 的路由器能够处理标签更改，所有教程都告诉您设置以下属性：

```
$.mobile.linkBindingEnabled = false; 
```

虽然这对启用 Backbone 非常有效，但它现在会导致选择菜单出现错误。具体来说，我们想使用自定义样式的选择菜单弹出（与原生相反），但它不适用于该选项设置为 false。

![自定义样式菜单](https://i.stack.imgur.com/Kqj22.png)

我正在寻找一种手动拦截此事件并显示自定义菜单的方法。我想到的第一件事是手动捕获点击并使用选择菜单的“打开”方法，但这不起作用。

我创建了一个 jsFiddle ( [http://jsfiddle.net/tonicboy/zPS5j/](http://jsfiddle.net/tonicboy/zPS5j/) ) 来演示这个问题。当您第一次加载它时，您可以单击选择菜单，它将打开自定义样式菜单。如果将 linkBindingEnabled 切换为 false，它将不再起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:19:36.870

首先，您的示例无法正常工作。我不会谈论主干问题，而是会尝试向您解释您的示例有什么问题以及这将如何导致 jQuery 出现问题。

**linkBindingEnabled** 是 jQuery Mobile 初始化设置的一部分，它必须在 jQuery Mobile 之前初始化，如下所示：

```
<script src="jquery.js"></script>
<script>
    $(document).on("mobileinit", function(){
        $.mobile.linkBindingEnabled = false;
    });
</script>
<script src="jquery-mobile.js"></script> 
```

在此处阅读有关它的更多信息：[**使用 jQuery Mobile 的自动初始化**](http://jquerymobile.com/demos/1.2.0/docs/api/globalconfig.html)。

正确初始化后，**linkBindingEnabled**是**true**还是**false**都没有关系。

这是一个正确的工作示例：http: [//jsfiddle.net/JJ3Ds/](http://jsfiddle.net/JJ3Ds/)

现在您可以使用此信息来解决您的项目问题。如果您使用 require.js 来处理初始化，您可以创建新的 js 文件，将所有内容放入其中（使用 mobileinit）并在 jquery mobile 之前对其进行初始化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T08:00:17.067

好的，我们似乎找到了解决方法。以前，我曾尝试使用 selectmenu 的 open 方法，例如：

```
$("#selectId").selectmenu("open"); 
```

但这不起作用，可能是因为它仍然依赖于 jQM 的点击处理。事实证明，当页面被渲染时，jQM 为每个选择菜单创建自定义菜单并将它们隐藏在屏幕外，并以*#selectId-listbox*的形式为它们提供一个 ID 。您可以使用[弹出小部件](http://jquerymobile.com/demos/1.3.0/docs/widgets/popup/)以编程方式显示此菜单。

```
$("#selectId-listbox").popup("open"); 
```

不幸的是，由于我们现在必须处理所有点击处理任务，您必须手动捕获用户的选择，更新底层表单元素并关闭菜单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-13T08:53:22.763

gabrielschulhof 在这里给出了一个示例：

[http://jsbin.com/sacota/4/](http://jsbin.com/sacota/4/)

另见： [https ://github.com/jquery/jquery-mobile/issues/7961](https://github.com/jquery/jquery-mobile/issues/7961)

# cocoa-touch - ASIFormDataRequest ASIMultipartFormDataPostFormat 标头格式

> ID：16187212
> 
> 赞同：0
> 
> 时间：2013-04-24T08:35:13.343
> 
> 标签：cocoa-touch, http, http-headers, multipartform-data, asiformdatarequest

我对多部分消息的标题格式有疑问。如何为一个部件创建一个具有多个值的标题。

我想要的是 ：

```
--0xKhTmLbOuNdArY-28217FDC-8163-459B-AB09-3DE87210721D
OBR_SORT_IDX:1
OBR_ENUM:1
Content-Disposition: form-data; name="IMAGE"; filename="image1_0.png"
Content-Type: image/png

<theBinData> 
```

我有的：

```
--0xKhTmLbOuNdArY-28217FDC-8163-459B-AB09-3DE87210721D
Content-Disposition: form-data; name="OBR_ENUM"

1
--0xKhTmLbOuNdArY-28217FDC-8163-459B-AB09-3DE87210721D
Content-Disposition: form-data; name="OBR_SORT_IDX"

1
--0xKhTmLbOuNdArY-28217FDC-8163-459B-AB09-3DE87210721D
Content-Disposition: form-data; name="IMAGE"; filename="image1_0.png"
Content-Type: image/png

<theBinData> 
```

我用于测试的代码：

```
UIImage *img1 = [UIImage imageNamed:@"alu_texture.png"];
UIImage *img2 = [UIImage imageNamed:@"alu_texture.png"];

ASIFormDataRequest *request = [ASIFormDataRequest requestWithURL:[NSURL URLWithString:strUrl]];
[request setPostBodyFilePath:thePath];
request.shouldStreamPostDataFromDisk = YES;

[request setPostFormat:ASIMultipartFormDataPostFormat];
[request setRequestMethod:@"POST"];

NSString *imgName = [NSString stringWithFormat:@"image%d_%d.png", 1, 0];
NSData *data = [NSData dataWithData: UIImagePNGRepresentation(img1)];
[request addPostValue:@"1" forKey:@"OBR_ENUM"];
[request addPostValue:@"0" forKey:@"OBR_SORT_IDX"];
[request addData:data withFileName:imgName andContentType:@"image/png" forKey:@"IMAGE"];

imgName = [NSString stringWithFormat:@"image%d_%d.png", 1, 1];
data = [NSData dataWithData: UIImagePNGRepresentation(img2)];
[request addPostValue:@"1" forKey:@"OBR_ENUM"];
[request addPostValue:@"1" forKey:@"OBR_SORT_IDX"];
[request addData:data withFileName:imgName andContentType:@"image/png" forKey:@"IMAGE"];

[request setDelegate:self];
[request startAsynchronous] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:52:17.920

所以我编辑`- (void)buildMultipartFormDataPostBody`了`ASIFormDataRequest`. 我为多部分标题添加了带有字典的新数组。

`buildMultipartFormDataPostBody`for 循环中的代码for `fileData`：

```
NSDictionary *d = [self headerMultyPartData][i];
NSArray *keys = d.allKeys;
for(NSString *key in keys)
    [self appendPostString:[NSString stringWithFormat:@"%@: %@\r\n", key, [d valueForKey:key]]]; 
```

# jquery - 如何更改 li 最后一个锚颜色

> ID：16187214
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:35:20.690
> 
> 标签：jquery, html, css, breadcrumbs

`li`元素用于在购物车中创建面包屑。面包屑使用为 site.css 中的元素定义的样式显示所有锚元素如何使最后一个锚颜色为黑色？

我尝试了下面的样式。仅当鼠标悬停在元素上时才会显示背景颜色。如果鼠标不在链接上，如何使链接文本变黑？

[来自http://www.comparenetworks.com/developers/jqueryplugins/jbreadcrumb.html](http://www.comparenetworks.com/developers/jqueryplugins/jbreadcrumb.html)的jquery jBreadCrumb用于将列表转换为面包屑。使用 jquery、jquery-ui、ASP.NET MVC2。

html:

```
<div id="breadCrumb" class="breadCrumb module">
<div style="overflow:hidden; position:relative; width: 990px;">
<div>
<ul style="width: 5000px;">
<li class="first">
<a href="/"></a>
</li>
<li>
<a href="/Store/Category?category=1">Level1</a>
</li>
<li>
<a href="/Store/Category?category=28">level2</a>
</li>
<li class="last">
<a href="/Store/Browse?category=37521">level3shouldbeblack"</a>
</li>
</ul>
</div>
</div>
</div> 
```

CSS：

```
.breadCrumb ul li.last, .last, .last:hover, .last:link, .last:visited, .last:active  {
    color:Black !important;
} 
```

**更新**

我添加了`li:last-child`，但问题仍然存在。以下是 FireBug Sytle 选项卡中的内容。由于未知原因，只有当鼠标悬停在最后一个锚文本时才会出现黑色颜色。如何使最后一个锚文本始终变黑？

```
.breadCrumb ul li a {
    display: block;
    float: left;
    height: 21px;
    line-height: 21px;
    overflow: hidden;
    position: relative;
}
a:link, a:visited {
    text-decoration: none;
}
.breadCrumb ul li.last, .last, .last:hover, .last:link, .last:visited, .last:active {
    color: Black !important;
}
.breadCrumb ul li {
    font-size: 0.9167em;
    line-height: 21px;
}
li:last-child {
    color: Black !important;
}
.breadCrumb ul li.last, .last, .last:hover, .last:link, .last:visited, .last:active {
    color: Black !important;
}
body {
    font-family: Helvetica,Arial,sans-serif;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:59:33.540

要更改**最后一个***列表项*中*锚点*的*颜色*，请使用：

 ****```
.last a{
    color:black;
} 
```

这也可以使用[:last-child](https://developer.mozilla.org/en-US/docs/CSS/%3alast-child)选择器：

```
li:last-child a{
    color:black;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:03:36.070

以下css将解决问题，

```
.last a{
    color:Black;
} 
```

[http://jsfiddle.net/tUuzn/](http://jsfiddle.net/tUuzn/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:42:22.933

Why don't you create a `selected` css class and add that class to the last breadcrumb using jquery when the page is loaded?

```
.selected a { color: black; }

<script type="text/javascript">
    $(function () {
        $("li.last", $("#breadCrumb").addClass("selected");
    });
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T08:45:12.947

使用***:last-child***选择器

```
li:last-child
{
 color:Black !important;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T09:33:40.970

```
li.last a{color : black;}
li:last-child a{color : black;} 
```****

# php - 反向地理编码不起作用，Google Maps API v2

> ID：16187219
> 
> 赞同：0
> 
> 时间：2013-04-24T08:35:33.417
> 
> 标签：php, google-maps

我正在使用 google maps api v2 并将坐标发送到我的程序。地图上的本地化工作正常，但我从来没有得到地址......

这是我的课：

```
class reverseGeoCoding {
    //put your code here
    private $result;
    private $latitude=null;
    private $longitude=null;
    private $adresse=null;
    private $config;
    public $contents;

    function xml2ary(&$string) {
        $parser = xml_parser_create();
        xml_parser_set_option($parser, XML_OPTION_CASE_FOLDING, 0);
        xml_parse_into_struct($parser, $string, $vals, $index);
        xml_parser_free($parser);

        $mnary=array();
        $ary=&$mnary;
        foreach ($vals as $r) {
            $t=$r['tag'];
            if ($r['type']=='open') {
                if (isset($ary[$t])) {
                    if (isset($ary[$t][0])) $ary[$t][]=array(); else $ary[$t]=array($ary[$t], array());
                    $cv=&$ary[$t][count($ary[$t])-1];
                } else $cv=&$ary[$t];
                if (isset($r['attributes'])) {
                    foreach ($r['attributes'] as $k=>$v) $cv['_a'][$k]=$v;
                }
                $cv['_c']=array();
                $cv['_c']['_p']=&$ary;
                $ary=&$cv['_c'];

            } elseif ($r['type']=='complete') {
                if (isset($ary[$t])) { // same as open
                    if (isset($ary[$t][0])) $ary[$t][]=array(); else $ary[$t]=array($ary[$t], array());
                    $cv=&$ary[$t][count($ary[$t])-1];
                } else $cv=&$ary[$t];
                if (isset($r['attributes'])) {
                    foreach ($r['attributes'] as $k=>$v) $cv['_a'][$k]=$v;
                }
                $cv['_v']=(isset($r['value']) ? $r['value'] : '');

            } elseif ($r['type']=='close') {
                $ary=&$ary['_p'];
            }
        }

        $this->del_p($mnary);
        return $mnary;
    }

    // _Internal: Remove recursion in result array
    function del_p(&$ary) {
        foreach ($ary as $k=>$v) {
            if ($k==='_p') unset($ary[$k]);
            elseif (is_array($ary[$k])) $this->del_p($ary[$k]);
        }
    }

    // Array to XML
    function ary2xml($cary, $d=0, $forcetag='') {
        $res=array();
        foreach ($cary as $tag=>$r) {
            if (isset($r[0])) {
                $res[]=ary2xml($r, $d, $tag);
            } else {
                if ($forcetag) $tag=$forcetag;
                $sp=str_repeat("\t", $d);
                $res[]="$sp<$tag";
                if (isset($r['_a'])) {
                    foreach ($r['_a'] as $at=>$av) $res[]=" $at=\"$av\"";
                }
                $res[]=">".((isset($r['_c'])) ? "\n" : '');
                if (isset($r['_c'])) $res[]=ary2xml($r['_c'], $d+1);
                elseif (isset($r['_v'])) $res[]=((!is_numeric($r['_v'])&&$r['_v']) ? '<![CDATA[' : false).$r['_v'].((!is_numeric($r['_v'])&&$r['_v']) ? ']]>' : false);
                $res[]=(isset($r['_c']) ? $sp : '')."</$tag>\n";
            }

        }
        return implode('', $res);
    }

    function formatGmapXML($xml,$returnXML=false,$error=false) {
        $tmp = array();
        $tmp['request']= $xml['kml']['_c']['Response']['_c']['name']['_v'];
        $tmp['status']= $xml['kml']['_c']['Response']['_c']['Status']['_c']['code']['_v'];

        // check our Response code to ensure success
        if($tmp['status']=='200') {

            $tmp['addressFull'] = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['address']['_v'];
            $tmp['accuracy']    = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['AddressDetails']['_a']['Accuracy'];
            $tmp['country']     = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['AddressDetails']['_c']['Country']['_c']['CountryName']['_v'];
            $tmp['state']       = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['AdministrativeAreaName']['_v'];
            $tmp['suburb']      = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['Locality']['_c']['LocalityName']['_v'];
            $tmp['address']     = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['Locality']['_c']['Thoroughfare']['_c']['ThoroughfareName']['_v'];
            $tmp['postcode']    = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['Locality']['_c']['PostalCode']['_c']['PostalCodeNumber']['_v'];
            $tmp['coordinates'] = $xml['kml']['_c']['Response']['_c']['Placemark']['_c']['Point']['_c']['coordinates']['_v'];
            if($tmp['addressFull']==null) {
                $tmp['addressFull'] = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['address']['_v'];
                $tmp['accuracy']    = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['AddressDetails']['_a']['Accuracy'];
                $tmp['country']     = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['AddressDetails']['_c']['Country']['_c']['CountryName']['_v'];
                $tmp['state']       = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['AdministrativeAreaName']['_v'];
                $tmp['suburb']      = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['Locality']['_c']['LocalityName']['_v'];
                $tmp['address']     = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['Locality']['_c']['Thoroughfare']['_c']['ThoroughfareName']['_v'];
                $tmp['postcode']    = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['AddressDetails']['_c']['Country']['_c']['AdministrativeArea']['_c']['Locality']['_c']['PostalCode']['_c']['PostalCodeNumber']['_v'];
                $tmp['coordinates'] = $xml['kml']['_c']['Response']['_c']['Placemark'][0]['_c']['Point']['_c']['coordinates']['_v'];
            }
            $latlng = explode(',',$tmp['coordinates']);

            $tmp['latitude']    = $latlng[1];
            $tmp['longitude']   = $latlng[0];

        }

        // optional outputs
        if($error)      $tmp['error'] = $error;
        if($returnXML)  $tmp['xml'] = ary2xml($xml);

        return $tmp;

    }

    /*
$q=$_GET['q'];
$latitude=$_GET['latitude'];
$longitude=$_GET['longitude'];
    */

    function reverseGeoCoding() {
        $this->config=new configInt();

    }
    function setLongitude($longitude) {
        $this->longitude=$longitude;
    }
    function setLatitude($latitude) {
        $this->latitude=$latitude;
    }
    function setadresse($adresse) {
        $this->adresse=$adresse;
    }
    function getLongitude() {
        return $this->longitude;
    }
    function getLatitude() {
        return $this->latitude;
    }
    function getadresse() {

        return $this->adresse;
    }

    function exec() {

        if($this->longitude && $this->latitude ) {
            $ch = curl_init("http://maps.google.com/maps/geo?output=xml&ll={$this->latitude},{$this->longitude}&key={$this->config->clefGoogle}");

        }else {

            $adresse=rawurlencode($this->adresse);
            $ch = curl_init("http://maps.google.com/maps/geo?output=xml&q={$adresse}&key={$this->config->clefGoogle}");

        }

        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($ch, CURLOPT_AUTOREFERER, true);
        curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; pl; rv:1.9) Gecko/2008052906 Firefox/3.0");
        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
        curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
        curl_setopt($ch, CURLOPT_HTTPGET, true);
        //curl_setopt($ch, CURLOPT_COOKIEJAR, "cookie.txt");
        curl_setopt($ch, CURLOPT_VERBOSE, false);
        $this->contents=curl_exec($ch);

        $this->contents=$this->xml2ary($this->contents);

        $this->result=$this->formatGmapXML($this->contents,false);
        curl_close($ch);

        if($this->longitude && $this->latitude ) {

            $this->adresse=utf8_decode($this->result['addressFull']);

        }else {
            $this->latitude=$this->result['latitude'];
            $this->longitude=$this->result['longitude'];
        }

        return $this->result;

    }
}
?> 
```

我在我的程序中使用 getAdress 将地址保存在数据库中，但即使坐标正确，它似乎也无法正常工作......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:22:44.797

试试这个：

```
$result = json_decode(file_get_contents('http://maps.googleapis.com/maps/api/geocode/json?latlng=40.714224,-73.961452&sensor=true'));   
echo $result->results[0]->formatted_address; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-12T09:25:27.280

```
function getaddress($lat, $lng) {

    $url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng=' . trim($lat) . ',' . trim($lng) . '&sensor=false';

    $json = @file_get_contents($url);
    $data = json_decode($json);
    $status = $data->status;
    if ($status == "OK")
        return $data->results[0]->formatted_address;
    else
        return false;
} 
```

# sql-server - 通过获取系统时间，每 5 分钟执行一次脚本本身

> ID：16187222
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:35:44.043
> 
> 标签：sql-server

**我想编写一个每 5 分钟执行一次的脚本，并基于该脚本执行某些动作。**

为了更清楚，我们举一个在表中插入数据的简单示例：

**插入 EmpDetails(id, Name, Designation) 值 (1, 'ABC', 'Developer')**

我只想根据我的系统时间每 5 分钟插入一次相同的数据。

任何人都可以请建议我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:44:55.257

最好的解决方案是使用**SQL 代理作业运行**

1.  展开 SQL Server Agent 节点并右键单击 SQL Server Agent 中的 Jobs 节点并选择`'New Job'`

2.  在`'New Job'`窗口中输入作业的名称和`'General'`选项卡上的描述。

3.  `'Steps'`在窗口左侧选择并单击`'New'`底部。

4.  在`'Steps'`窗口中输入步骤名称并选择要运行查询的数据库。

5.  将要运行的 T-SQL 命令粘贴到命令窗口中，然后单击`'OK'`。

6.  单击`'Schedule'`“新建作业”窗口左侧的菜单并输入计划信息（例如每天和时间）。

7.  点击`'OK'`- 应该就是这样。

（您当然可以添加其他选项 - 但我想说这是您设置和安排工作所需的最低限度）

[从上一个 SO 答案中提取](https://stackoverflow.com/questions/5471080/how-to-schedule-a-job-for-sql-query-to-run-daily)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:39:24.470

使用 SQL Jobs 和 shcedule 5 分钟。如果您启用了该功能。

# html - 垂直对齐 div 中的 img 元素

> ID：16187223
> 
> 赞同：2
> 
> 时间：2013-04-24T08:35:45.440
> 
> 标签：html, css, image

我正在尝试在 div 中垂直对齐我的 ing 元素。唯一的问题是 img 元素没有固定的高度。我尝试将垂直对齐与表格、表格单元格和内联块和内联结合使用。这些似乎都不起作用。有谁知道我怎么能做到这一点？我制作了一个 JSFiddle 来重现我的问题。

JsFiddle：http: [//jsfiddle.net/6gMcK/1/](http://jsfiddle.net/6gMcK/1/)

HTML：

```
<div id="image-container">
    <img src="http://www.image2012.com/images/2013/03/landscapes-landscape-free.jpg">
</div> 
```

CSS：

```
#image-container {
    padding:5px;
    height: 135px;
    border: 1px solid black;
    display: table;
    float:left;
}

#image-container img{
    display: table-cell;
    max-height:125px;

    vertical-align: middle;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:44:52.043

**像这样**更改一些属性

 **```
 #image-container {
    padding: 5px;
    height: 135px;
    border: 1px solid black;
    display: table-cell;
    vertical-align: middle;
}

#image-container img{
    max-height: 125px;
    display: block;
} 
```

**[现场演示](http://jsfiddle.net/rohitazad/6gMcK/6/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:55:27.670

如果容器中只有一个图像，并且容器具有固定高度，那么您可以简单地应用于`line-height = container_height_px`容器

试试这个**[演示](http://jsfiddle.net/danield770/GxLHa/1/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:48:17.597

我经常使用的一个解决方案是让图像成为图像容器的背景。通过这种方式，我可以将宽度和高度设置为所需的任何值以及容器的任何图像和大小，只需一点绝对定位，并且始终显示完整图像。

```
#image-container {
    position:absolute;
    left:30%;
    right:30%;
    min-width:135px;
    height: 135px;

    border: 1px solid black;
    background-image:url('image.png');
    background-size:contain;
    background-repeat:no-repeat;
    background-position:center;
} 
```

当然，您可以随时根据您的需要使用宽度值。我一直发现这是显示图像的简单解决方案。**

# service - MSDTC（分布式事务协调器）停止工作。错误代码-1073737669

> ID：16187226
> 
> 赞同：2
> 
> 时间：2013-04-24T08:35:54.757
> 
> 标签：service, msdtc

我无法启动分布式事务协调器服务。几天前它停止工作。

当我尝试启动服务时：

![在此处输入图像描述](https://i.stack.imgur.com/kQrBv.png)

![在此处输入图像描述](https://i.stack.imgur.com/iRofq.png)

注册表属性：

![在此处输入图像描述](https://i.stack.imgur.com/q9kL2.png)

RPC（对于测试值在此处更改为相反并返回 - 没有任何结果）：

![在此处输入图像描述](https://i.stack.imgur.com/dvYSn.png)

```
Windows logs\application logs:

53283
    A MS DTC component has encountered an internal error. The process is being terminated. Error Specifics: DtcSystemShutdown (d:\w7rtm\com\complus\dtc\dtc\msdtc\src\msdtc.cpp@2539): Shutting down with an error

4111
    The MS DTC service is stopping.

4102
    DTC Security Configuration values (OFF = 0 and ON = 1):  Network Administration of Transactions = 1,
      Network Clients = 1,
       Inbound Distributed Transactions using Native MSDTC Protocol = 1,
          Outbound Distributed Transactions using Native MSDTC Protocol = 1,
       Transaction Internet Protocol (TIP) = 0,
       XA Transactions = 1,
       SNA LU 6.2 Transactions = 1

    Could not initialize the MS DTC Transaction Manager.

    4356

    Failed to initialize the MS DTC Communication Manager.  Error Specifics: hr = 0x80070057, d:\w7rtm\com\complus\dtc\dtc\cm\src\ccm.cpp:2117, CmdLine: C:\Windows\System32\msdtc.exe, Pid: 5332

4358
    The MS DTC Connection Manager is unable to register with RPC to use one of LRPC, TCP/IP, or UDP/IP. Please ensure that RPC is configured properly. If "ServerTcpPort" registry key is configured(DWORD value under the HKEY_LOCAL_MACHINE\Software\Microsoft\MSDTC for local DTC instance or under cluster hive for clustered DTC instance), please verify if the configured port is valid and the port is not already in use by a different component. Error Specifics:hr = 0x80070057, d:\w7rtm\com\complus\dtc\dtc\cm\src\iomgrsrv.cpp:2523, CmdLine: C:\Windows\System32\msdtc.exe, Pid: 5332

4156

    String message: RPC raised an exception with a return code RPC_S_INVALIDA_ARG..

I found that we can use -resetlog command. But this doesnot resolving my problem: 
```

![在此处输入图像描述](https://i.stack.imgur.com/Lvefp.png) **防火墙被禁用。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T11:58:16.217

尝试从注册表中删除密钥 HKLM\Software\Microsoft\Rpc\Internet。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-21T06:46:51.380

为了解决这个问题，我不得不将日志文件（我不小心删除）复制到本地 DTC 日志信息位置指定的位置。

# ios - 我如何知道应用内购买收据是否来自沙盒？

> ID：16187231
> 
> 赞同：5
> 
> 时间：2013-04-24T08:36:02.240
> 
> 标签：ios, security, in-app-purchase

iOS IAP 文档[指出](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/DevelopingwithStoreKit/DevelopingwithStoreKit.html#//apple_ref/doc/uid/TP40008267-CH103-SW1)，如果您想测试商店，您应该在设置应用程序中从您的 iTunes 帐户注销。在进行应用内购买时，系统会要求您输入用户名和密码。但是，在应用程序内部，我不知道用户是否已登录，或者他是否使用沙盒帐户。

事实上，我并不关心它是否是沙盒交易，但是：在服务器上，我必须通过 URL https://buy.itunes.apple.com/verifyReceipt 验证真实收据，[并通过 URL](https://buy.itunes.apple.com/verifyReceipt) [https](https://sandbox.itunes.apple.com/verifyReceipt)验证沙盒收据[://sandbox.itunes.apple.com/verifyReceipt](https://sandbox.itunes.apple.com/verifyReceipt)。我如何在服务器上知道收据是沙盒收据还是真实收据？

或者应用程序如何知道收据是真实的还是沙盒，因为我将附加参数从应用程序传递到我的服务器没有问题。

什么不起作用：你不能只说应用程序的 DEBUG 版本使用沙盒环境，而 ADHOC 或 RELEASE 版本的应用程序使用生产环境。使用 ADHOC 版本，完全可以使用 iTunes 测试帐户进行应用内购买。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-24T09:15:39.910

当您验证收据时，如果您收到状态代码 21007，则表示它是沙盒收据。看这里：[https ://developer.apple.com/library/content/technotes/tn2413/_index.html#//apple_ref/doc/uid/DTS40016228-CH1-RECEIPTURL](https://developer.apple.com/library/content/technotes/tn2413/_index.html#//apple_ref/doc/uid/DTS40016228-CH1-RECEIPTURL)

> **我应该使用什么网址来验证我的收据？**
> 始终首先使用生产 URL 验证您的收据；如果您收到 21007 状态代码，请继续使用沙盒 URL 进行验证。遵循这种方法可确保您在沙盒中测试或审查您的应用程序或在 App Store 中运行时不必在 URL 之间切换。
> 
> 21007状态码表示此回执是沙箱回执，但已发送到生产服务进行验证。状态 0 表示收据已正确验证。有关更多信息，请参阅[WWDC 2012：使用应用内购买管理订阅](https://developer.apple.com/videos/wwdc/2012/?id=308)。

# c++ - 0x800a1421 HRESULT 是什么意思？

> ID：16187246
> 
> 赞同：4
> 
> 时间：2013-04-24T08:36:49.920
> 
> 标签：c++, com, ole

我有一个用 C++ 编写的 dll。它的主要目的是通过 OLE 调用 Word 上的方法。我尝试调用一个方法“SaveAs”：

```
HRESULT hr;
szFunction = OLESTR("SaveAs");
    hr = doc->GetIDsOfNames(IID_NULL, &szFunction, 1, 
            LOCALE_USER_DEFAULT, 
            &dispid_Cap);
    hr = doc->Invoke(dispid_Cap, IID_NULL, 
            LOCALE_USER_DEFAULT, DISPATCH_METHOD, 
            &dpCap, NULL, NULL, NULL); 
```

它失败了，我不知道为什么。hr 的值为 -2146823135。我将它转换为十六进制，如下所示：

```
sprintf(hex_buff, "%x", (unsigned int)hr); 
```

这给了**0x800a1421**

我试图找出这段代码对这个程序的含义：http: [//www.microsoft.com/en-us/download/details.aspx?id=985](http://www.microsoft.com/en-us/download/details.aspx?id=985) 但结果是：

```
as an HRESULT: Severity: FAILURE (1), Facility: 0xa, Code 0x1421
NOT FOUND: 800a1421 
```

这是什么意思？我应该如何继续找出我的方法失败的原因？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T14:00:26.110

您无法诊断错误的一个重要原因是您使用了太多的快捷方式。您正在为 IDispatch::Invoke() 的*pExcepInfo*参数传递 NULL。这对 IDispatch 来说没问题，它基本上意味着“不要费心告诉我你对异常的了解，我会自己从错误代码中整理出来”。您将错过诸如错误的文本描述和记录错误的帮助文件之类的好东西。如果可供使用的话。当你问这个问题时，显然你不想走这种捷径。

无论如何，您仍然可以从异常代码中对问题进行逆向工程。设施 0x0a 为 OLE 自动化应用程序保留，错误代码特定于应用程序。在“Word 错误 5153”中变为 0x1421。把它放在谷歌查询中，第二次点击会给你一个链接，指向已经弄清楚错误 5153 意味着什么的人。

您正试图覆盖其他人打开的文件。很常见的事故。

修复您的代码，您需要向人类显示错误描述，以便他们处理它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T10:19:43.973

`0x800a1421`来自“ **HR Plus** ”工具的信息：

*   错误类型：OLE HRESULT
*   错误设施：FACILITY_CONTROL`0x0000000A`
*   严重性：SEVERITY_ERROR`0x00000001`
*   代码：`0x00001421`

以及`0x00001421`来自“**错误查找**”工具： ***未找到控件 ID*。**

# c# - 如何为此json创建模型，c#

> ID：16187249
> 
> 赞同：0
> 
> 时间：2013-04-24T08:36:54.173
> 
> 标签：c#, json

如何为此json创建模型？

> {"code":"1", "message":"OK","re​​sponse": {"user":{"id":"124","usertype":"29","currenttime":"2013- 04-24T08:09:20.487+00:00","sessionid":"2bcf1c92-9b97-47d8-8995-b39cf7cbe2af"}}}

我写的：

```
public class BaseResponse
    {
        public bool success;
        public String message;
    }

    public class CreateTaskResponse : BaseResponse
    {
        CreateTaskResponseData data = new CreateTaskResponseData();

        public User getUser()
        {
            return data.getUser();
        }
    }

    class CreateTaskResponseData
    {
        User user = new User();
        public User getUser()
        {
            return user;
        }
    }

public class User
{
    public int id;
    public int usertype;
    public string currenttime;
    public string sessionid;
} 
```

并解析：

```
CreateTaskResponse Login = SimpleDataSerializer.ToObject<CreateTaskResponse>(response); 
```

错误：Login.getUser().sessionid 为空

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:39:34.010

这是[本站](http://json2csharp.com/)生成的

```
public class User
{
    public string id { get; set; }
    public string usertype { get; set; }
    public string currenttime { get; set; }
    public string sessionid { get; set; }
}

public class Response
{
    public User user { get; set; }
}

public class RootObject
{
    public string code { get; set; }
    public string message { get; set; }
    public Response response { get; set; }
} 
```

* * *

```
var obj = JsonConvert.DeserializeObject<RootObject>(json); 
```

# ios - “平铺地图没有对象对象层”当对象层有对象时

> ID：16187255
> 
> 赞同：1
> 
> 时间：2013-04-24T08:37:13.753
> 
> 标签：ios, objective-c, xcode, cocos2d-iphone

[我在做这个教程](http://www.raywenderlich.com/29460/collisions-and-collectables-how-to-make-a-tile-based-game-with-cocos2d-2-x-part-2 "我正在使用本教程")

我正在做的是在“Tiled”中制作瓷砖地图，你们 cocos2d 人可能知道我在说什么。我已经按照教程中的每个步骤进行操作，但是，当我构建和运行时，应用程序在加载屏幕后立即崩溃。它因错误而崩溃：

```
Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'tile map has no objects object layer' 
```

或者，使用断点，它会在以下位置中断：

```
NSAssert(objectGroup != nil, @"tile map has no objects object layer"); 
```

我将我自己的 .tmx 文件与教程下载中的文件进行了比较，它们匹配。相关 .tmx 代码：

```
<objectgroup name="Objects" width="15" height="13">
<object name="SpawnPoint" x="35" y="36"/>
</objectgroup> 
```

你会认为这算作对象层中的对象，对吧？我确信 SpawnPoint 对象也在 Tiled 中的正确层中。这是我的 init 方法（应用程序崩溃的方法）：

```
-(id) init
{
if( (self=[super init]) ) {
    CCTMXObjectGroup *objectGroup = [_tileMap objectGroupNamed:@"Objects"];
    NSAssert(objectGroup != nil, @"tile map has no objects object layer");

    NSDictionary *spawnPoint = [objectGroup objectNamed:@"SpawnPoint"];
    int x = [spawnPoint[@"x"] integerValue];
    int y = [spawnPoint[@"y"] integerValue];

    _player = [CCSprite spriteWithFile:@"player.png"];
    _player.position = ccp(x,y);

    [self addChild:_player];

    self.tileMap = [CCTMXTiledMap tiledMapWithTMXFile:@"TileBomb.tmx"];
    self.background = [_tileMap layerNamed:@"Background"];
    self.meta = [_tileMap layerNamed:@"Meta"];
    _meta.visible = NO;
    [self addChild:_tileMap z:-1];
    self.touchEnabled = YES;

}
return self;
} 
```

有谁知道为什么会发生这种情况以及如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T10:17:26.373

解决了。在使用文档之前，请务必获取文档。init 方法在导入之前从 tilemap 中读取对象。把这个留在这里供和我一样笨的人参考

# c# - 如何在 C# 中的 Nhibernate 中传递两个连接字符串？

> ID：16187260
> 
> 赞同：3
> 
> 时间：2013-04-24T08:37:26.807
> 
> 标签：c#, nhibernate, nhibernate-mapping

我在我的应用程序中遇到了问题：我有两个数据库，我想用 NHibernate 访问这两个数据库，但是在配置文件中我只有一个用于一个数据库的连接字符串。那么如何将多个连接字符串传递给 NHibernate？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-26T08:38:46.247

我通常在我的`app.config`：

```
 <connectionStrings>
    <add name="connection1" connectionString="Data Source=;User ID=;Password=;" />
    <add name="connection2" connectionString="Data Source=;User ID=;Password=;" />
  </connectionStrings> 
```

然后我使用 nhibernate 配置创建 2 个单独的（nhibernate）配置文件（如果您有 2 个不同的数据库）。

我使用一个允许我创建会话工厂的类：

```
 public class NHibernateSessionFactory
    {
        private ISessionFactory sessionFactory;

        private readonly string ConnectionString = "";
        private readonly string nHibernateConfigFile = "";

        public NHibernateSessionFactory(String connectionString, string nHConfigFile)
        {
            this.ConnectionString = connectionString;
            this.nHibernateConfigFile = nHConfigFile;
        }

        public ISessionFactory SessionFactory
        {
            get { return sessionFactory ?? (sessionFactory = CreateSessionFactory()); }
        }

        private ISessionFactory CreateSessionFactory()
        {
            Configuration cfg;
            cfg = new Configuration().Configure(Path.Combine(AppDomain.CurrentDomain.BaseDirectory, this.nHibernateConfigFile));

            // With this row below Nhibernate searches for the connection string inside the App.Config.
            // cfg.SetProperty(NHibernate.Cfg.Environment.ConnectionStringName, System.Environment.MachineName);
            cfg.SetProperty(NHibernate.Cfg.Environment.ConnectionString, this.ConnectionString);

#if DEBUG
            cfg.SetProperty(NHibernate.Cfg.Environment.GenerateStatistics, "true");
            cfg.SetProperty(NHibernate.Cfg.Environment.ShowSql, "true");
#endif

            return (cfg.BuildSessionFactory());
        }
    } 
```

现在我可以使用自己的特定配置创建许多不同的会话工厂：

```
var sessionFactory1 = new NHibernateSessionFactory("connection string 1", "sql.nhibernate").SessionFactory;

var sessionFactory2 = new NHibernateSessionFactory("connection string 2", "ora.nhibernate").SessionFactory; 
```

[你可以在这里](https://stackoverflow.com/a/9213847/219406)找到更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:49:56.267

对于每个数据库，您都需要一个自己的 SessionFactory。如果您在 NH 配置中省略 ConnectionString，您可以在构建 Sessionfactory 时在代码中指定它：

```
var sessionFactory1 = new Configuration()
                    .Configure()
                    .SetProperty("connection.connection_string", "First Connection String").BuildSessionFactory();

var sessionFactory2 = new Configuration()
                    .Configure()
                    .SetProperty("connection.connection_string", "Second Connection String").BuildSessionFactory(); 
```

# python - 拆分 ascii/unicode 字符串

> ID：16187261
> 
> 赞同：0
> 
> 时间：2013-04-24T08:37:28.573
> 
> 标签：python, unicode, split, delimiter

我正在尝试使用 python 解码 ID3v2 (MP3 header) 协议。要解码的数据格式如下。

`s1`, `s2`, ...`sn-1`是 unicode (utf-16/utf-8) 字符串，最后一个字符串 'sn' 可能是 unicode 或二进制字符串。

```
data = s1+delimiters+s2+delimiters+...+sn 
```

其中，utf-16 的`'\x00'+'\x00'` 分隔符是，utf-8 的分隔符是`'\x00'`

我`data`与 unicode-type 相处融洽。现在我必须从中提取所有字符串（`s1`, `s2`, ... `sn`）`data`。为此，我使用`split()`如下，

```
#!/usr/bin/python

def extractStrings(encoding_type, data):
    if(encoding_type == "utf-8"): delimitors = '\x00'
    else: delimitors = '\x00'+'\x00'
    return data.split(delimitors)

def main():        
    # Set-1
    encoding_type = "utf-8"
    delimitors = '\x00'
    s1="Hello".encode(encoding_type)
    s2="world".encode(encoding_type)
    data = s1+delimitors+s2
    print extractStrings(encoding_type, data)

    # Set-2
    encoding_type = "utf-16"
    delimitors = '\x00'+'\x00'
    s1="Hello".encode(encoding_type)
    s2="world".encode(encoding_type)
    data = s1+delimitors+s2
    print extractStrings(encoding_type, data)

if __name__ == "__main__":
    main() 
```

输出：

```
['Hello', 'world']

['\xff\xfeH\x00e\x00l\x00l\x00o', '\x00\xff\xfew\x00o\x00r\x00l\x00d\x00'] 
```

它适用于 set-1 数据，但不适用于 set-2。因为，set-2 中的“数据”

```
'\xff\xfeH\x00e\x00l\x00l\x00o\x00\x00\x00\xff\xfew\x00o\x00r\x00l\x00d\x00'
                             ^               ^ 
```

有一个额外的`'\x00'`前置分隔符，由于字母“0”，它无法正常工作。

谁能帮我为这两种情况正确解码“数据”？

**更新：**

我将尝试简单地解决这个问题。s1 = 编码 (utf-8/utf-16) 字符串

s2 = 二进制字符串（不是 unicode）

utf-16 的`'\x00'+'\x00'`分隔符是 ，而 utf-8 的分隔符是`'\x00'`

数据 = (s1+分隔符)+s2

**谁能帮我从“数据”中提取 s1 和 s2 吗？**

更新2：解决方案

以下代码适用于我的要求，

```
def splitNullTerminatedEncStrings(self, data, encoding_type, no_of_splits):
data_dec = data.decode(encoding_type, 'ignore')
chunks = data_dec.split('\x00', no_of_splits) 
enc_str_lst = []
for data_dec_seg in chunks[:-1]: 
    enc_str_lst.append(data_dec_seg.encode(encoding_type)) 
data_dec_chunks = '\x00'.join(chunks[:-1])   
if(data_dec_chunks): data_dec_chunks += '\x00'
data_chunks = data_dec_chunks.encode(encoding_type) 
data_chunks_len = len(data_chunks)
enc_str_lst.append(data[data_chunks_len:]) # last segment
return enc_str_lst 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T10:18:04.637

> 其中，utf-16 的分隔符是 '\x00'+'\x00' 而 utf-8 的分隔符是 '\x00'

不完全是。UTF-16 的分隔符`\0\0`仅位于代码单元边界。在一个`\0`代码单元的末尾紧跟`\0`在另一个代码单元的开头的一个不构成分隔符。ID3 标准，谈论字节“同步”意味着情况并非如此，但这是错误的。

[旁白：不幸的是，许多标签读取工具确实是这样理解的，结果是任何带有双零字节的序列（例如`Āa`UTF-16BE 中的 U+0100,U+0061，或者，正如您所发现的， UTF-16LE 中字符串末尾的任何 ASCII）都会破坏帧。因此，UTF-16 文本格式（UTF-16+BOM 0x01 和 UTF-16BE 0x02）完全不可靠，所有标签编写者都应避免使用。文本格式 0x00 对于纯 ASCII 以外的任何内容都不可靠。UTF-8 是赢家！]

如果您有一个像为`T`帧指定的那样的编码终止字符串列表结构（除了`TXXX`），那么简单的方法是在 U+0000 终止符上拆分之前对它们进行解码：

```
def extractStrings(encoding_type, data):
    chars = data.decode(encoding_type)
    # chars is now a Unicode string, delimiter is always character U+0000
    return chars.split(u'\0') 
```

如果`data`是整个 ID3 框架，恐怕您无法用单个`split()`. 该系列以外的帧`T`包含编码终止字符串、仅 ASCII 终止字符串、二进制对象（没有终止）和整数字节/字值的混合。`APIC`就是这样，但是对于一般情况，您必须提前知道要解析的每一帧的结构，并逐个使用每个字段，并在进行时手动查找每个终止符。

要在 UTF-16 编码的数据中找到与代码单元对齐的终止符而不会误解`Āa`等，您可以使用正则表达式，例如：

```
ix= re.match('((?!\0\0)..)*', data, re.DOTALL).end()
s, remainder= data[:ix], data[ix+2:] 
```

这真的不是很有趣 - ID3v2 不是一个非常干净的格式。在我的脑海中，未经测试，这种事情是我可能的处理方式：

```
p= FrameParser(data)
if frametype=='APIC':
    encoding= p.encoding()
    mimetype= p.string()
    pictype= p.number(1)
    desc= p.encodedstring()
    img= p.binary()

class FrameParser(object):
    def __init__(self, data):
        self._data= data
        self._ix= 0
        self._encoding= 0

    def encoding(self): # encoding byte - remember for later call to unicode()
        self._encoding= self.number(1)
        if not 0<=self._encoding<4:
            raise ValueError('Unknown ID3 text encoding %r' % self._encoding)
        return self._encoding

    def number(self, nbytes= 1):
        n= 0
        for i in nbytes:
            n*= 256
            n+= ord(self._data[self._ix])
            self._ix+= 1
        return n

    def binary(self): # the whole of the rest of the data, uninterpreted
        s= self._data[self._ix:]
        self._ix= len(self._data)
        return s

    def string(self): # non-encoded, maybe-terminated string
        return self._string(0)

    def encodedstring(self): # encoded, maybe-terminated string
        return self._string(self._encoding)

    def _string(self, encoding):
        if encoding in (1, 2): # UTF-16 - look for double zero byte on code unit boundary
            ix= re.match('((?!\0\0)..)*', self._data[self._ix:], re.DOTALL).end()
            s= self._data[self._ix:self._ix+ix]
            self._ix+= ix+2
        else: # single-byte encoding - look for first zero byte
            ix= self._data.find('\0', self._ix)
            s= self._data[self._ix:self._ix+ix] if ix!=-1 else self._data[self._ix:]
            self._ix= ix if ix!=-1 else len(self._data)
        return s.decode(['windows-1252', 'utf-16', 'utf-16be', 'utf-8][encoding]) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T09:59:05.483

为什么不先解码字符串？

蟒蛇2：

```
decoded = unicode(data, 'utf-8')
# or
decoded = unicode(data, 'utf-16') 
```

蟒蛇 3：

```
decoded = str(data, 'utf-8')
# or
decoded = str(data, 'utf-16') 
```

然后，您直接使用与编码无关的数据，并且分隔符始终为单个空值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-28T22:52:52.993

以下代码适用于我的要求，

```
def splitNullTerminatedEncStrings(self, data, encoding_type, no_of_splits):
data_dec = data.decode(encoding_type, 'ignore')
chunks = data_dec.split('\x00', no_of_splits) 
enc_str_lst = []
for data_dec_seg in chunks[:-1]: 
    enc_str_lst.append(data_dec_seg.encode(encoding_type)) 
data_dec_chunks = '\x00'.join(chunks[:-1])   
if(data_dec_chunks): data_dec_chunks += '\x00'
data_chunks = data_dec_chunks.encode(encoding_type) 
data_chunks_len = len(data_chunks)
enc_str_lst.append(data[data_chunks_len:]) # last segment
return enc_str_lst 
```

# sql - 具有空值的外部联接表的累积总和

> ID：16187262
> 
> 赞同：4
> 
> 时间：2013-04-24T08:37:29.307
> 
> 标签：sql, tsql, join, null, sum

我有一个包含 2 个日期列的表，它们分别代表 JIRA 项目的创建和关闭。对于报告，我需要获取每个日期创建和关闭项目的数量，以及累积的。

但是在某些日期没有创建或关闭项目，因此完整的外部联接返回空值。这会导致我无法纠正的累积总和列中的空值。

我已经尝试了很多不同的方法来合并：

```
Select
    coalesce(A.createdate, B.closedate) datum
    ,COALESCE(A.created, 0) created
    ,COALESCE(B.closed,0) closed
    ,sum(created) OVER(ORDER BY A.createdate ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) cumSum
    ,sum(coalesce(created,0)) OVER(ORDER BY A.createdate ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) cumSum2
    ,COALESCE(sum(created) OVER(ORDER BY A.createdate ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW),0) cumSum3
    ,sum(coalesce(created,0)) OVER(ORDER BY A.createdate ROWS BETWEEN UNBOUNDED PRECEDING AND 1 preceding) + coalesce(created,0) cumSum4
from
(SELECT convert(date,[Created]) createdate, COUNT(*) created
  FROM [jira].[dbo].[report_clean_full]
  group by convert(date,[Created])) A
full outer join (SELECT convert(date,Resolved) closedate, COUNT(*) closed
  FROM [jira].[dbo].[report_clean_full]
  where status = 'Closed'
  group by convert(date,Resolved)) B
on A.createdate = B.closedate
order by 1 
```

结果

```
2012-08-17  1   0   1   1   1   1
2012-08-23  1   0   2   2   2   2
2012-08-30  4   0   6   6   6   6
2012-09-03  1   0   7   7   7   7
2012-09-06  25  0   32  32  32  32
2012-09-07  30  3   62  62  62  62
2012-09-10  11  6   73  73  73  73
2012-09-11  6   1   79  79  79  79
2012-09-13  1   0   80  80  80  80
2012-09-14  10  1   90  90  90  90
2012-09-17  7   1   97  97  97  97
2012-09-18  4   2   101 101 101 101
2012-09-19  4   2   105 105 105 105
2012-09-20  19  5   124 124 124 124
2012-09-21  12  0   136 136 136 136
2012-09-24  7   1   143 143 143 143
2012-09-26  0   7   NULL    0   0   0
2012-09-27  18  2   161 161 161 161
2012-09-28  7   0   168 168 168 168
2012-10-01  4   1   172 172 172 172 
```

在 2012 年 9 月 26 日，只有关闭的项目，但我希望 cumSum 显示 143 而不是 0（最终重复关闭项目并减去以获得打开项目的数量）

谁能解释我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:48:25.423

类似于我对 gpn 评论的回复：

解决方案是在 OVER() 中合并 ORDER BY 的日期。据我了解，问题不在于值本身，而在于 NULL 范围。

```
sum(coalesce(created,0)) OVER(ORDER BY coalesce(A.createdate,b.closedate) ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) cumSumCreated 
```

# smartgwt - DrawPane 缩放后的旋钮偏移

> ID：16187265
> 
> 赞同：1
> 
> 时间：2013-04-24T08:37:37.043
> 
> 标签：smartgwt

我创建 DrawRect

```
 DrawRect drawRect = new DrawRect();
    drawRect.setDrawPane(pane);
    drawRect.setLeft(x-25);
    drawRect.setTop(y-25);
    drawRect.setWidth(50);
    drawRect.setHeight(50);
    drawRect.setFillColor("#FF0000");
    drawRect.setFillOpacity(0.2f);

    drawRect.setCanDrag(true);
    drawRect.setKnobs(KnobType.RESIZE);

    drawRect.draw(); 
```

旋钮效果很好。但是当我在 DrawPane 上更改缩放时

```
 zoomLevel = pane.getZoomLevel();
     pane.zoom(zoomLevel+0.001f); 
```

我不能使用旋钮，因为它们会移动。它看起来像这样 [http://clip2net.com/s/4XXJmY](http://clip2net.com/s/4XXJmY)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T20:07:52.767

SmartGWT 中似乎存在问题，或者 SmartClient 中完成的某些修复尚未移至 SmartGWT。
以前有一个[**问题**](http://forums.smartclient.com/showthread.php?t=25604&highlight=DrawPane+zooming)，他们修复了鼠标事件，但旋钮仍然不起作用。

使用 smartgwt-4.0d/LGPL/2013-04-25 和 GWT 2.4.0 后，我也无法使用旋钮。
我什至尝试过`drawRect.showKnobs(KnobType.RESIZE);`里面`DrawHandler.onDraw()`并没有改变行为。

`drawRect.getKnobs()`缩放触发（按钮单击处理程序/等）和缩放触发期间都有`drawRect.getResizeKnobPoints()`适当的值（它们在缩放之前/之后没有改变）。

在缩放触发期间，缩放前后的旋钮`DrawPane.getDrawItems()`显示了单独的实例。`DrawItem`

用于查看鼠标事件如何受到缩放的影响。
在给定图像的突出显示区域内缩放之前/之后，它们似乎工作相同。

```
final Label label = new Label();
label.setWidth100();
label.setHeight(20);
label.setContents("event details");

drawRect.addClickHandler(new com.smartgwt.client.widgets.drawing.events.ClickHandler() {
    public void onClick(com.smartgwt.client.widgets.drawing.events.ClickEvent clickEvent) {
        label.setContents("mouse click: " + clickEvent.toDebugString() + "; " + new Date().getTime());
    }
});
drawRect.addMouseMoveHandler(new MouseMoveHandler() {
    public void onMouseMove(MouseMoveEvent mouseMoveEvent) {
        label.setContents("mouse move: " + mouseMoveEvent.toDebugString() + "; " + new Date().getTime());
    }
}); 
```

![在此处输入图像描述](https://i.stack.imgur.com/qqplK.png)

[在SmartClient/SmartGWT 论坛](http://forums.smartclient.com/forumdisplay.php?f=14)上发帖可能是个好主意。

有点相关 - [http://forums.smartclient.com/showthread.php?t=21345&highlight=DrawPane+zooming](http://forums.smartclient.com/showthread.php?t=21345&highlight=DrawPane+zooming)

# java - 检索由 JavaScript 发送的 Java 中的数据

> ID：16187266
> 
> 赞同：0
> 
> 时间：2013-04-24T08:37:42.020
> 
> 标签：java, javascript, rest

我在将数据通过 javascript 通过 Rest 发送到 java 时遇到问题。我通过 ajax 发送我的数据。

这是我的ajax方法：

```
jQuery.ajax({
type: "POST",
url: base + "/jira/rest/ticketmeasurementrestresource/1.0/message/" +$filterId +".json",
data: aoColumnSet,  // aoColumnSet is a jsonObject
async: false,
datatype: "json",
success: function(data){
            ;
     aoColumnSet = jQuery.parseJSON(data.value);
    }
}); 
```

这是我的 REST 接口

```
@POST
@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
@Path("/{key}")
public Response getMessageFrom(@PathParam("key") String key) throws NumberFormatException,  Exception{

    System.out.println("Es klappt mit POST access zu bekommen");

    return null;
} 
```

URL 是正确的，我可以访问 getMessageFrom 方法。我还可以使用@PathParam 从 URL 中提取数据。

但是我不知道在哪里可以得到ajax发送的数据。如何获取 Jsonobject aoColumSet？

此致，

史蒂芬

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:40:15.093

在 Java 中创建一个 POJO`AOColumnSet`来匹配`aoColumnSet`.

将您的方法放在控制器中：

```
@POST
@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
@Path("/{key}")
public 
@ResponseBody
Response getMessageFrom(@PathParam("key") String key, @RequestParam AOColumnSet aoColumnSet) throws NumberFormatException,  Exception{ 
```

# sql - 获取正确结果的 SQL 查询

> ID：16187272
> 
> 赞同：0
> 
> 时间：2013-04-24T08:37:51.293
> 
> 标签：sql

我在尝试进行以下选择工作时遇到问题。任何人都可以帮忙吗？谢谢。

```
SELECT 
        i.InventoryID,i.AttributeSKUID,s.AttributeValue
    FROM 
        ma_product_inventory i
    LEFT JOIN
        ma_product_attribute_sku s
    ON
        i.AttributeSKUID=s.AttributeSKUID
    LEFT JOIN
        ma_product p
    ON
        p.ProductID=s.ProductID
    WHERE 
        s.ProductID='1'
    AND
        (
        s.AttributeValue='xs'
        OR
        s.AttributeValue='green'
        ) 
```

我得到以下结果：

```
INVENTORYID ATTRIBUTESKUID  ATTRIBUTEVALUE
1   1   xs
1   1   green
2   2   green
3   3   green
4   4   green
5   5   green
6   6   xs 
```

我怎样才能获得 AttributeSKUID？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:40:19.457

在查询末尾添加此内容 `GROUP BY s.AttributeValue`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:46:45.417

尝试使用`SELECT DISTINCT`，你为什么加入**ma_product p**？看来你没有使用那张桌子。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-27T04:50:12.997

尝试通过具有 count (*) =2 的 S.attributeSKUID 在 kyusan93 代码`Select distinct(s.attribute),i.inventoryId,s.attributevalue`组添加不同的 - 这将使所有 attributeSKUID 重复两次。希望对您有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T10:27:43.870

```
Select s.AttributeSKUID 
from
ma_product_attribute_sku s
LEFT JOIN
ma_product p
ON
p.ProductID=s.ProductID
WHERE 
s.ProductID='1'
AND
(s.AttributeValue='xl'
OR
s.AttributeValue='red')
Group by 
S.AttributeSKUID
having count(*) = 2 
```

# sql - 如何从 sql 中的 temp #date 表中选择上一个日期？

> ID：16187275
> 
> 赞同：2
> 
> 时间：2013-04-24T08:37:54.307
> 
> 标签：sql, sql-server, tsql, temp-tables

嗨，有一个`temp #Dates table`使用以下条件填充的。

```
IF @Period = 'Monthly'
    BEGIN
        INSERT #Dates
        SELECT MAX(DATE) WeekDays FROM TABLENAV  WITH (NOLOCK, READUNCOMMITTED) 
        GROUP BY DATEDIFF(MONTH, 0, DATE)
        ORDER BY MAX(DATE) DESC
    END 
```

现在数据在#Dates 临时表中

```
DATE
2013-04-22 00:00:00.000
2013-03-29 00:00:00.000
2013-02-28 00:00:00.000
2013-01-31 00:00:00.000
2012-12-31 00:00:00.000
2012-11-30 00:00:00.000 
```

我想得到`Previous_Date`当我通过任何`Todays_Date`

我试过如下

```
DECLARE @Todays_Date datetime = '2013-04-22'
    select date from #Dates where MONTH(DATE) = MONTH(@Todays_Date)-1  AND YEAR(DATE) = YEAR(@Todays_Date) 
```

`giving ans : 2013-03-29`

但是当年份改变时，我什么也得不到

例如，如果`@Todays_Date = '2012-01-31'`它应该返回我`2012-12-31`但什么都不给。

帮我修改我的`select statement`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:41:57.230

You can use the below query to get the previous date,

```
SELECT top 1 Date FROM #Date WHERE Date <@Todays_Date order by date desc 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:46:23.540

```
select max([Date]) FROM #Date WHERE [Date] <@Todays_Date 
```

# android - 将用 C 编写的新 SDK 添加到 android

> ID：16187277
> 
> 赞同：2
> 
> 时间：2013-04-24T08:37:58.557
> 
> 标签：android, c, sdk

我们是否可以将用 C 编写的 SDK 移植到 android 中并用它来开发应用程序？因为我有一个用 C 编写的 SDk，并希望用它来开发应用程序，我应该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:43:44.407

[Java 通过Java 本机接口 (JNI)](http://developer.android.com/training/articles/perf-jni.html)与本机层（C 代码）对话。如果您为 API 编写 JNI 包装器，则可以使用 C SDK。通过这种方式，您将能够将本机库导入 Java 并从中调用您的本机（即 C）函数。这就是包装器的用途。

这仅适用于您的 SDK 本身不使用任何 Android 不支持的库。如果它是简单的 C 并且 GNU 工具链会编译它，它应该可以正常工作。

为了为 Android（或者更准确地说是 ARM）编译原生 C 代码，您需要 Android [Native Development Kit (NDK)](http://developer.android.com/tools/sdk/ndk/index.html)。

这应该让你开始。网上有很多关于如何使用 JNI 和 NDK 的很好的例子，包括 Stack Overflow。

# google-chrome - How to avoid Google Chrome try access my contacts when executing tests with Jbehave and Selenium Webdriver?

> ID：16187278
> 
> 赞同：0
> 
> 时间：2013-04-24T08:38:02.200
> 
> 标签：google-chrome, selenium-webdriver, jbehave

I'm developing and executing some tests with Jbehave and Selenium WebDriver.

When one of the tests try to write into a login field, then Chrome WebDriver try to access the address book and due lack of permissions shows this message:

```
Google Chrome[424:ea03] Address book access is denied for executable at path: /Applications/Google Chrome.app/Contents/MacOS/Google Chrome 
```

How can I avoid that the driver try to access to the Address book?

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-10-19T09:06:04.263

这可能是由 Chrome 的自动填充引起的。

我不知道你能不能告诉司机控制它。但是可以避免 Chrome 使用联系人进行自动填充：在其自动填充设置中禁用“包括我的通讯簿卡中的地址”。

# svn - SYMFONY2 works great locally, but in server Class not found in AppKernel

> ID：16187279
> 
> 赞同：1
> 
> 时间：2013-04-24T08:38:02.583
> 
> 标签：svn, symfony

Im having this trouble in where my application runs great locally, but when i upload it to the server it fails with whatever valid direction i put in. Im using SVN as a code versioner (trough Eclipse), and im working with Symphony2.

**Server**: in the server i have access to a shell for my directory, it runs PHP 5.3.3-7+squeeze15 with Suhosin-Patch.

**Local**: PHP/5.4.10.

**The error**:

```
FatalErrorException: Error: Class 'Cv\DBBundle\CvDBBundle' not found in enter code here/var/www/grupo36/public_html/symfony/app/AppKernel.php line 22 
```

**AppKernel.php:**

```
<?php

use Symfony\Component\HttpKernel\Kernel;
use Symfony\Component\Config\Loader\LoaderInterface;

class AppKernel extends Kernel
{
    public function registerBundles()
    {
        $bundles = array(
            new Symfony\Bundle\FrameworkBundle\FrameworkBundle(),
            new Symfony\Bundle\SecurityBundle\SecurityBundle(),
            new Symfony\Bundle\TwigBundle\TwigBundle(),
            new Symfony\Bundle\MonologBundle\MonologBundle(),
            new Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle(),
            new Symfony\Bundle\AsseticBundle\AsseticBundle(),
            new Doctrine\Bundle\DoctrineBundle\DoctrineBundle(),
            new Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle(),
            new JMS\AopBundle\JMSAopBundle(),
            new JMS\DiExtraBundle\JMSDiExtraBundle($this),
            new JMS\SecurityExtraBundle\JMSSecurityExtraBundle(),
            new CV\DBBundle\CvDBBundle(), 
        );

        if (in_array($this->getEnvironment(), array('dev', 'test'))) {
            $bundles[] = new Symfony\Bundle\WebProfilerBundle\WebProfilerBundle();
            $bundles[] = new Sensio\Bundle\DistributionBundle\SensioDistributionBundle();
            $bundles[] = new Sensio\Bundle\GeneratorBundle\SensioGeneratorBundle();
        }

        return $bundles;
    }

    public function registerContainerConfiguration(LoaderInterface $loader)
    {
        $loader->load(__DIR__.'/config/config_'.$this->getEnvironment().'.yml');
    }
} 
```

* * *

Can you please guys help? ive look in other posts but they doesnt fit my case.

# jquery - shapeshift jquery custom whit 照片

> ID：16187280
> 
> 赞同：1
> 
> 时间：2013-04-24T08:38:03.270
> 
> 标签：jquery

我试图自定义该 jquery 脚本，但我不能。

我唯一想做的就是把盒子换成照片，就像小猫一样，但没有选择，但我做不到

[http://mcpants.github.com/jquery.shapeshift/](http://mcpants.github.com/jquery.shapeshift/)

这就是存储库

```
(function() {

$(function() {
var $containers, child_count, filter_options, getRandomColor, renderChildren, renderPlaceholders;
$containers = $(".ss-container");
child_count = 5;
(renderChildren = function() {
  var weighted_colspans;
  weighted_colspans = [1];
  return $containers.each(function(container_i) {
    var colspan, elements, height, i, _i;
    elements = [];
    for (i = _i = 0; 0 <= child_count ? _i < child_count : _i > child_count; i = 0 <= child_count ? ++_i : --_i) {
        colspan = 209;
        height = 280;          
      elements.push("<li data-ss-colspan=" + colspan + " style='height: " + height + "px'><div class='position'><div>" + i + "</div></div></li>");        
    }
    return $(this).append(elements.join(""));
  });
})();
getRandomColor = function() {
  var color, i, letters, _i, _ref;
  letters = 'ABCDEF'.split('');
  color = '';
  for (i = _i = 0, _ref = letters.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
    color += letters[Math.round(Math.random() * 5)];
  }
  return color;
};
(renderPlaceholders = function(type) {
  return $containers.each(function() {
    var $child, $children, background, height, i, width, _i, _results;
    $children = $(this).children().not(".credits");
    child_count = $children.length;
    if (type === "index") {
      return $(this).find(".position").show();
    } else {
      $(this).find(".position").hide();
      _results = [];
      for (i = _i = 0; 0 <= child_count ? _i < child_count : _i > child_count; i = 0 <= child_count ? ++_i : --_i) {
        $child = $($children[i]);
        height = $child.height();
        width = $child.width();
        switch (type) {
          case "fpoimg":
            background = 'url("http://fpoimg.com/' + width + 'x' + height + '?bg_color=' + getRandomColor() + '&text_color=444444")';
            break;
          case "placekittens":
            background = 'url("http://www.placekitten.com/' + width + '/' + height + '")';
        }
        _results.push($child.css({
          backgroundImage: background,
          height: height
        }));
      }
      return _results;
    }
  });
})("fpoimg");
filter_options = {
  minColumns: 3
};
$containers.shapeshift(filter_options);
$(".options ul.animation li").on("click", function() {
  switch ($(this).data("option")) {
    case "enable":
      filter_options.animated = true;
      break;
    default:
      filter_options.animated = false;
  }
  return $containers.shapeshift(filter_options);
});
$(".options ul.dragndrop li").on("click", function() {
  switch ($(this).data("option")) {
    case "enable":
      filter_options.enableDrag = true;
      filter_options.enableDrop = true;
      break;
    default:
      filter_options.enableDrag = false;
      filter_options.enableDrop = false;
  }
  $containers.trigger('ss-destroy');
  return $containers.shapeshift(filter_options);
});
$(".options ul.filtering li").on("click", function() {
  switch ($(this).data("option")) {
    case "hide":
      $containers.children(":visible").sort(function() {
        return Math.round(Math.random()) - 0.5;
      }).first().hide();
      break;
    default:
      $containers.children(":hidden").sort(function() {
        return Math.round(Math.random()) - 0.5;
      }).first().show();
  }
  return $containers.trigger("ss-rearrange");
});
$(".options ul.placeholders li").on("click", function() {
  renderPlaceholders($(this).data("option"));
  return $containers.shapeshift(filter_options);
});
$containers.on("ss-arranged", function(e, selected) {
  var modifier;
  modifier = $(this).find(".ss-dragging")[0] ? 1 : 0;
  return $(this).children().each(function() {
    return $(this).find(".position").text($(this).index() - modifier);
  });
});
$containers.on("ss-rearranged", function(e, selected) {
  console.log("----------------------------------------");
  console.log("This container:");
  console.log($(this));
  console.log("Has rearranged this item:");
  console.log($(selected));
  return console.log("Into this position:", $(selected).index());
});
$containers.on("ss-removed", function(e, selected) {
  console.log("----------------------------------------");
  console.log("This item:");
  console.log($(selected));
  console.log("Has been removed from this container:");
  return console.log($(this));
});
$containers.on("ss-added", function(e, selected) {
  console.log("----------------------------------------");
  console.log("This item:");
  console.log($(selected));
  console.log("Has been added to this container:");
  return console.log($(this));
});
$containers.on("ss-trashed", function(e, selected) {
  console.log("----------------------------------------");
  console.log("This item:");
  console.log($(selected));
  return console.log("Has been removed from the DOM");
});
return $containers.on("ss-drop-complete", function(e) {
  console.log("----------------------------------------");
  console.log("This container:");
  console.log($(this));
  return console.log("Has finished rearrangement after a drop.");
});
});

}).call(this); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-30T13:38:23.693

这几乎是让 jQuery.Shapeshift 正常工作并且可见的最低要求：

[http://jsfiddle.net/mikemhz/tjAQN/](http://jsfiddle.net/mikemhz/tjAQN/)

样式.CSS

```
ul.ss-container {
  position: relative;
  width: 100%;
  list-style-type: none;
}

ul.ss-container li {
  background-color: rgb(0,0,0);
  position: absolute;
  height:120px;
  width:80px;
}

ul.ss-container li[data-ss-colspan="2"] { width: 170px; }
ul.ss-container li[data-ss-colspan="3"] { width: 260px; }
ul.ss-container li[data-ss-colspan="4"] { width: 350px; }

ul.ss-container li.ss-dragged-child {
  cursor: move;
  z-index: 9999;
  opacity: .7;
}

ul.ss-container li.ss-placeholder-child {
  background-color:grey;
} 
```

脚本.JS

```
$(document).ready(function(){
    $('.ss-container').shapeshift();
}); 
```

索引.HTML

```
<!doctype html>
<html lang="en">
<head>
<title>jQuery.Shapeshift</title>

<!-- jQuery -->
<script src="jquery.min.js"></script>
<script src="jquery-ui.min.js"></script>

<!-- Core Shapeshift & Touch Compatability Files -->
<script src="jquery.touch-punch.min.js"></script>
<script src="jquery.shapeshift.min.js"></script>

<!-- My Own Files -->
<link rel="stylesheet" href="style.css"></link>
<script type="text/JavaScript" src="script.js"></script>

</head>
<body>
    <ul class="ss-container"> 
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
        <li data-ss-colspan="1"></li>
    </ul>
</body>
</html> 
```

# java - how to iterate correct over rows and cells in xlsx

> ID：16187283
> 
> 赞同：0
> 
> 时间：2013-04-24T08:38:10.357
> 
> 标签：java, loops, apache-poi, xlsx

i'm not sure, maybe we had an similar request here and i'm to stupid to find the right request.

My English is not so good, i hope i can explain what i need. I have the Task, to iterate through an xlsx File, which contains information about one Sprint and absence of our teamcollegues.

I need help for the iteration, i'm a noob and i try it with 'for loop' but it confused me totally.

Here is what i have now:

```
public void go() throws Exception, FileNotFoundException, IOException {
    FileInputStream fis = new FileInputStream(fileName);
    Workbook wb = WorkbookFactory.create(fis);
    Sheet sheet = wb.getSheetAt(25);

    Row ersteReihe = sheet.getRow(0);
    Cell datum1 = ersteReihe.getCell(1);  //Date in column B1

    System.out.println("\n\nAbwesenheit " +sheet.getSheetName() );

    // Hole aus der zweiten Reihe den ersten Namen:
    Row zweiteReihe = sheet.getRow(1);
    Cell name1 = zweiteReihe.getCell(0);     //Name of employee
    Cell isDa1 = zweiteReihe.getCell(1);     //Information with 1 and 0 who is absence
    int zell1 = (int) isDa1.getNumericCellValue();
    if (zell1 == 0) {
        System.out.print("\n" + name1.getStringCellValue() + " ist am " + datum1 + " nicht Anwesend ");
    }
    // Hole aus der zweiten Reihe den ersten Namen:
    Row dritteReihe = sheet.getRow(2);
    Cell name2 = dritteReihe.getCell(0);
    Cell isDa2 = dritteReihe.getCell(1);
    int zell2 = (int) isDa2.getNumericCellValue();
    if (zell2 == 0) {
        System.out.print("\n" + name2.getStringCellValue() + " ist am " + datum1 + " nicht Anwesend ");
    }
    // Hole aus der zweiten Reihe den ersten Namen:
    Row vierteReihe = sheet.getRow(3);
    Cell name3 = vierteReihe.getCell(0);
    Cell isDa3 = vierteReihe.getCell(1);
    int zell3 = (int) isDa3.getNumericCellValue();
    if (zell3 == 0) {
        System.out.print("\n" + name3.getStringCellValue() + " ist am " + datum1 + " nicht Anwesend ");
    }
    // Hole aus der zweiten Reihe den ersten Namen:
    Row fuenfteReihe = sheet.getRow(4);
    Cell name4 = fuenfteReihe.getCell(0);
    Cell isDa4 = fuenfteReihe.getCell(1);
    int zell4 = (int) isDa4.getNumericCellValue();
    if (zell4 == 0) {
        System.out.print("\n" + name4.getStringCellValue() + " ist am " + datum1 + " nicht Anwesend ");
    }
    // Hole aus der zweiten Reihe den ersten Namen:
    Row sechsteReihe = sheet.getRow(5);
    Cell name5 = sechsteReihe.getCell(0);
    Cell isDa5 = zweiteReihe.getCell(1);
    int zell5 = (int) isDa5.getNumericCellValue();
    if (zell5 == 0) {
        System.out.print("\n" + name5.getStringCellValue() + " ist am " + datum1 + " nicht Anwesend ");
    }
    // Hole aus der zweiten Reihe den ersten Namen:
    Row siebteReihe = sheet.getRow(6);
    Cell name6 = siebteReihe.getCell(0);
    Cell isDa6 = siebteReihe.getCell(1);
    int zell6 = (int) isDa6.getNumericCellValue();
    if (zell6 == 0) {
        System.out.print("\n" + name6.getStringCellValue() + " ist am " + datum1 + " nicht Anwesend ");
    }

    fis.close();

} 
```

I going to be crazy. cause i'm not able to find the right solution for an correct iteration :(

Could someone help me please? Please be lenient with me :)

Thanks a lot! Cheers Adissa

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T10:18:39.623

由于 Sheets 和 Rows 是 Iterables，因此对行和单元格进行迭代非常容易：

```
Sheet sheet = ...
for (Row row : sheet) {
    for (Cell cell : row) {
        // Actual work on cell here
    }
} 
```

# xml - SelectNodes .length 返回 0

> ID：16187286
> 
> 赞同：1
> 
> 时间：2013-04-24T08:38:14.263
> 
> 标签：xml, xpath, vbscript

所以我在 atm 遇到了大麻烦：我解析了一个 XML 文件，为此我想计算所有条目。我的代码运行良好，但我用一个非常大的 XML 文件对其进行了测试，但没有任何反应。所以我试图找出错误在哪里。

```
Dim nodeCount : nodeCount = oXML.SelectNodes("/root/abc/*").length 
```

这适用于最多 6.000 个条目（大约 40k 行代码）的 XML 文件，但如果数字更大，则返回 0。所以我不知道如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T21:38:54.450

在 VBScript 中，最大的文本变量是一个字符串，它只能容纳大约 20 亿个字符。

[VBScript 数据类型](http://msdn.microsoft.com/en-us/library/9e7a57cf%28v=vs.84%29.aspx)

在变量 ( `oXML`) 用完空间后，它只会切断，并且没有结束标签，xpath 将无法正确查询并且不会返回任何数据。

您是否尝试过在常规 VB 中编写代码，您会有更大的变量类型？这甚至是一种选择吗？

# php - 在分配的变量中使用 smarty 变量

> ID：16187290
> 
> 赞同：0
> 
> 时间：2013-04-24T08:38:33.850
> 
> 标签：php, variables, smarty, assign

我在 PHP 中分配了一个变量，其中包含从数据库中获取的数据，如下所示：

```
$smarty->assign("text",$result->text);
$smarty->assign("amount",250); 
```

在里面`$result->text`是`Amount is {$amount}$`

在我的`.tpl`文件中我使用变量：

```
{$text} 
```

但结果告诉我：

```
Amount is {$amount}$ 
```

问题是什么 ？

**我更新了这个问题**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:40:11.747

试试这个它会工作

```
$smarty->assign("amount",250);
$smarty->assign("text","Amount is {$amount}$"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:41:44.117

The problem is you are not declaring/initializing the amount variable value try this

```
$smarty->assign("amount",250);
$smarty->assign("text","Amount is {$amount}$"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:06:11.337

为了解析分配变量中的变量，我们应该使用`eval`函数： [http ://www.smarty.net/docs/en/language.function.eval.tpl#id479259](http://www.smarty.net/docs/en/language.function.eval.tpl#id479259)

因此，对于这个问题，当我尝试显示消息时，我们应该使用`eval`：

```
{eval $text} 
```

# r - data.table 中的重塑难题

> ID：16187293
> 
> 赞同：4
> 
> 时间：2013-04-24T08:38:43.057
> 
> 标签：r, data.table, reshape

另一个重塑问题`data.table`

```
set.seed(1234)
DT <- data.table(x=rep(c(1,2,3),each=4), y=c("A","B"), v=sample(1:100,12))
#    x y  v
# 1: 1 A 12
# 2: 1 B 62
...
#11: 3 A 63
#12: 3 B 49 
```

我想对`x`和`v`by进行累积总和，`y`但结果显示为：行数始终保持不变，当增加时，`y==A`当`SUM.*.A`增加时相同`y==B`。（像往常一样`y`可能有很多因素，在这个例子中为 2）

```
#     SUM.x.A SUM.x.B  SUM.v.A SUM.v.B
# 1:        1      NA       12      NA
# 2:        1       1       12      62
...
#11:       12       9       318     289
#12:       12      12       318     338 
```

编辑：这是我糟糕的解决方案显然过于复杂

```
#first step is to create cumsum columns
colNames <- c("x","v"); newColNames <- paste0("SUM.",colNames)
DT[, newColNames:=lapply(.SD,cumsum) ,by=y, .SDcols=colNames, with=F];
#now we need to reshape each SUM.* to SUM.*.{yvalue}
DT[,N:=.I]; setattr(DT,"sorted","N")

g <- function(DT,SD){
  cols <- c('N',grep('SUM',colnames(SD), value=T));
  Yval <- unique(SD[,y]);
  merge(DT, SD[,cols, with=F], suffixe=c('',paste0('.',Yval)), all.x=T);    
}

DT <- Reduce(f=g,init=DT,x=split(DT,DT$y));

locf = function(x) {
  ind = which(!is.na(x))    
  if(is.na(x[1])) ind = c(1,ind)
  rep(x[ind], times = diff( c(ind, length(x) + 1) )) 
}

newColNames <- grep('SUM',colnames(DT),value=T);
DT <- DT[, (newColNames):=lapply(.SD, locf), .SDcols=newColNames] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T12:43:24.280

尝试这个：

```
cumsum0 <- function(x) { x <- cumsum(x); ifelse(x == 0, NA, x) }
DT2 <- DT[, {SUM.<-y; lapply(data.table(model.matrix(~ SUM.:x + SUM.:v + 0)), cumsum0)}]
setnames(DT2, sub("(.):(.)", "\\2.\\1", names(DT2))) 
```

简化：

1）如果使用`0`代替`NA`是可以的，那么可以通过省略定义的第一行并将下一行`cumsum0`替换为来简化它。 `cumsum0``cumsum`

2) 第二行的结果具有以下名称：

```
> names(DT2)
[1] "SUM.A:x" "SUM.B:x" "SUM.A:v" "SUM.B:v" 
```

因此，如果这足够了，则可以删除最后一行，因为它的唯一目的是使名称与问题中的名称完全相同。

结果（没有简化）是：

```
> DT2
    SUM.x.A SUM.x.B SUM.v.A SUM.v.B
 1:       1      NA      12      NA
 2:       1       1      12      62
 3:       2       1      72      62
 4:       2       2      72     123
 5:       4       2     155     123
 6:       4       4     155     220
 7:       6       4     156     220
 8:       6       6     156     242
 9:       9       6     255     242
10:       9       9     255     289
11:      12       9     318     289
12:      12      12     318     338 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T10:14:33.767

这是另一种方式：

```
ys <- unique(DT$y)
sdcols <- c("x", "v")
cols <- paste0("SUM.", sdcols)
DT[, c(cols) := lapply(.SD, cumsum), by = y, .SDcols = sdcols]
for( i in seq_along(ys)) {
    cols <- paste0("SUM.", sdcols, ".", ys[i])
    DT[, c("v1", "v2") := list(SUM.x, SUM.v[i]), by = SUM.x]
    DT[, c("v1", "v2") := list(c(rep(NA_integer_, (i-1)), v1)[seq_len(.N)], 
    c(rep(NA_integer_, (i-1)), v2)[seq_len(.N)])]
    setnames(DT, c("v1", "v2"), cols)
} 
```

* * *

我的 mnel 基准测试版本（来自他的帖子）和这个函数：

### 这篇文章的功能：

```
arun <- function(DT) {

    ys <- unique(DT$y)
    sdcols <- c("x", "v")
    cols <- paste0("SUM.", sdcols)
    DT[, c(cols) := lapply(.SD, cumsum), by = y, .SDcols = sdcols]
    for( i in seq_along(ys)) {
        cols <- paste0("SUM.", sdcols, ".", ys[i])
        DT[, c("v1", "v2") := list(SUM.x, SUM.v[i]), by = SUM.x]
        DT[, c("v1", "v2") := list(c(rep(NA_integer_, (i-1)), v1)[seq_len(.N)], 
        c(rep(NA_integer_, (i-1)), v2)[seq_len(.N)])]
        setnames(DT, c("v1", "v2"), cols)
    }
    DT
} 
```

### mnel帖子中的功能：

```
mnel <- function(DT) {
    set.seed(1234)
    DT <- data.table(x=rep(c(1,2,3),each=4), y=c("A","B"), v=sample(1:100,12))
    DT[, id := seq_len(nrow(DT))]
    setkey(DT, y)
    uniqY <- unique(DT$y)
    for(jj in uniqY){
      nc <- do.call(paste, c(expand.grid('Sum', c('x','v'),jj), sep ='.'))
      DT[.(jj), (nc) := list(cumsum(x), cumsum(v))]

    }
    setkey(DT, id)
    DT[, 5:8 := lapply(.SD, function(x) { 
      xn <- is.na(x)
      x[xn] <- -Inf
      xx <- cummax(x)
      # deal with leading NA values
        if(xn[1]){
        xn1 <- which(xn)[1]
      xx[seq_len(xn1)] <- NA}   
      xx }), .SDcols = 5:8]
} 
```

### 来自 statquant 的函数：

```
statquant <- function(DT){
    #first step is to create cumsum columns
    colNames <- c("x","v")
    DT[, paste0("SUM.",colNames):=lapply(.SD,cumsum) ,by=y, .SDcols=colNames];
    #now we need to reshape each SUM.* to SUM.*.{yvalue}
    DT[,N:=.I]; setattr(DT,"sorted","N")

    g <- function(DT,SD){
      cols <- c('N',grep('SUM',colnames(SD), value=T));
      Yval <- unique(SD[,y]);
      merge(DT, SD[,cols, with=F], suffix=c('',paste0('.',Yval)), all.x=T);    
    }

    DT <- Reduce(f=g,init=DT,x=split(DT,DT$y));

    locf = function(x) {
      ind = which(!is.na(x))    
      if(is.na(x[1])) ind = c(1,ind)
      rep(x[ind], times = diff( c(ind, length(x) + 1) )) 
    }

    newColNames <- grep('SUM',colnames(DT),value=T);
    DT <- DT[, (newColNames):=lapply(.SD, locf), .SDcols=newColNames]
    DT
} 
```

### 来自格罗腾迪克的函数

```
grothendieck <- function(DT) {
    cumsum0 <- function(x) { x <- cumsum(x); ifelse(x == 0, NA, x) }
    DT2 <- DT[, {SUM.<-y; lapply(data.table(model.matrix(~ SUM.:x + SUM.:v + 0)), cumsum0)}]
    setnames(DT2, sub("(.):(.)", "\\2.\\1", names(DT2)))
    DT2
} 
```

### 基准测试：

```
library(data.table)
library(zoo)
set.seed(1234)
DT <- data.table(x=rep(c(1,2,3),each=4), y=c("A","B"), v=sample(1:100,12))

library(microbenchmark)
microbenchmark( s <- statquant(copy(DT)), g <- grothendieck(copy(DT)), 
                m <- mnel(copy(DT)), a <- arun(copy(DT)), times = 1e3)

# Unit: milliseconds
#                         expr       min        lq    median        uq       max neval
#     s <- statquant(copy(DT)) 13.041125 13.674083 14.493870 17.273151 144.74186  1000
#  g <- grothendieck(copy(DT))  3.634120  3.859143  4.006085  4.443388  80.01984  1000
#          m <- mnel(copy(DT))  7.819286  8.234178  8.596090 10.423668  87.07668  1000
#          a <- arun(copy(DT))  6.925419  7.369286  7.703003  9.262719  53.39823  1000 
```

### 结果 data.table "a" (arun's)

```
#     x y  v SUM.x SUM.v SUM.x.A SUM.v.A SUM.x.B SUM.v.B
#  1: 1 A 12     1    12       1      12      NA      NA
#  2: 1 B 62     1    62       1      12       1      62
#  3: 1 A 60     2    72       2      72       1      62
#  4: 1 B 61     2   123       2      72       2     123
#  5: 2 A 83     4   155       4     155       2     123
#  6: 2 B 97     4   220       4     155       4     220
#  7: 2 A  1     6   156       6     156       4     220
#  8: 2 B 22     6   242       6     156       6     242
#  9: 3 A 99     9   255       9     255       6     242
# 10: 3 B 47     9   289       9     255       9     289
# 11: 3 A 63    12   318      12     318       9     289
# 12: 3 B 49    12   338      12     318      12     338 
```

### 结果data.table“m”（mnel's）

```
#    x y  v id Sum.x.A Sum.v.A Sum.x.B Sum.v.B
#  1: 1 A 12  1       1      12      NA      NA
#  2: 1 B 62  2       1      12       1      62
#  3: 1 A 60  3       2      72       1      62
#  4: 1 B 61  4       2      72       2     123
#  5: 2 A 83  5       4     155       2     123
#  6: 2 B 97  6       4     155       4     220
#  7: 2 A  1  7       6     156       4     220
#  8: 2 B 22  8       6     156       6     242
#  9: 3 A 99  9       9     255       6     242
# 10: 3 B 47 10       9     255       9     289
# 11: 3 A 63 11      12     318       9     289
# 12: 3 B 49 12      12     318      12     338 
```

### 结果 data.table "s" (statquant's)

```
#      N x y  v SUM.x SUM.v SUM.x.A SUM.v.A SUM.x.B SUM.v.B
#  1:  1 1 A 12     1    12       1      12      NA      NA
#  2:  2 1 B 62     1    62       1      12       1      62
#  3:  3 1 A 60     2    72       2      72       1      62
#  4:  4 1 B 61     2   123       2      72       2     123
#  5:  5 2 A 83     4   155       4     155       2     123
#  6:  6 2 B 97     4   220       4     155       4     220
#  7:  7 2 A  1     6   156       6     156       4     220
#  8:  8 2 B 22     6   242       6     156       6     242
#  9:  9 3 A 99     9   255       9     255       6     242
# 10: 10 3 B 47     9   289       9     255       9     289
# 11: 11 3 A 63    12   318      12     318       9     289
# 12: 12 3 B 49    12   338      12     318      12     338 
```

### 结果 data.table "g" (grothendieck's)

```
#    SUM.x.A SUM.x.B SUM.v.A SUM.v.B
#  1:       1      NA      12      NA
#  2:       1       1      12      62
#  3:       2       1      72      62
#  4:       2       2      72     123
#  5:       4       2     155     123
#  6:       4       4     155     220
#  7:       6       4     156     220
#  8:       6       6     156     242
#  9:       9       6     255     242
# 10:       9       9     255     289
# 11:      12       9     318     289
# 12:      12      12     318     338 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-24T09:28:33.090

不确定这是最好的解决方案，但您可以执行以下操作。

```
set.seed(1234)
DT <- data.table(x=rep(c(1,2,3),each=4), y=c("A","B"), v=sample(1:100,12))
DT[, id := seq_len(nrow(DT))]

setkey(DT, y)

uniqY <- unique(DT$y)

for(jj in uniqY){
  nc <- do.call(paste, c(expand.grid('Sum', c('x','v'),jj), sep ='.'))
  DT[.(jj), (nc) := list(cumsum(x), cumsum(v))]

}

setkey(DT, id)

DT[, 5:8 := lapply(.SD, function(x) { 
  xn <- is.na(x)
  x[xn] <- -Inf
  xx <- cummax(x)
  # deal with leading NA values
    if(xn[1]){
    xn1 <- which(xn)[1]
  xx[seq_len(xn1)] <- NA}   

  xx }), .SDcols = 5:8] 
```

# ios - UITableViewCell - 在初始化器中设置背景视图和附件

> ID：16187296
> 
> 赞同：0
> 
> 时间：2013-04-24T08:38:50.033
> 
> 标签：ios, objective-c, uitableview

我浏览了一下，但没有找到任何解决我的问题的方法，所以我开始了：我有一个自定义`UITableViewCell`子类 - MyCell。我正在覆盖 initWithReuseIdentifier 来设置标签字体、背景等内容。但是，当我尝试设置`self.accessoryType`或`self.backgroundView = myImageView`在 init 中设置时，它似乎没有任何效果。

我已经移动了一些代码，我正在创建图像视图并`layoutSubviews`在我的单元格类的方法中设置背景视图。然而，这会导致背景视图显示为单元格中最顶层视图的问题，即覆盖标签和其他所有内容。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T11:09:32.103

你很多人需要开始移动你的子视图。有关[`-sendSubviewToBack:`](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/sendSubviewToBack%3a)更多详细信息，请参阅。

注意：这会使事情变得脆弱，您可能需要非常小心您的逻辑以避免特定于 iOS 版本的问题。

您可能还想阅读[A Closer Look at Table View Cells](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/TableViewCells/TableViewCells.html#//apple_ref/doc/uid/TP40007451-CH7-SW1)以获取有关 UITableViewCell 的子视图的更多信息。

# php - 如何在网站上显示 200k 条可选记录

> ID：16187297
> 
> 赞同：0
> 
> 时间：2013-04-24T08:38:51.953
> 
> 标签：php

我的网站有大问题，我有这个功能可以从数据库中获取所有类别：-

```
public function selectallcatdata()
{
    $query = mysql_query("select Category_name,Category_id from category where Category_delete='0'");
    return $query;
    mysql_free_result($query);
} 
```

我在这样的选择类型上使用此功能：-

```
<select name="txtCompanyCat" id="txtCompanyCat">
<option selected value="">choose the Category ... </option>
<?php 
$CategoryNameData = $select -> selectallcatdata();
while($CatNameRow = mysql_fetch_array($CategoryNameData)){
    $CatID = $CatNameRow['Category_id'];
    $CatName = $CatNameRow['Category_name'];
?>
<option value="<?php echo $CatID; ?>"><?php echo $CatName; ?></option>
<?php } 
unset($CatID);
unset($CatName);
?>
</select> 
```

所以，问题是我在这个表上有 251932 行，我们必须从我的表中显示所有这些行，我该如何解决这个负载。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:50:23.047

包含 251,932 个项目的选择框根本不实用。我建议您为前端使用 AJAX 自动完成功能，这将允许您一次获取更少的结果。[这里](http://www.devbridge.com/projects/autocomplete/jquery/)有一些，[这里](https://stackoverflow.com/questions/10856305/autocomplete-form-from-database-php-mysql-ajax)还有更多。您可以根据自己的要求进行选择。[这个](https://github.com/partoa/FCBKcomplete)非常适用于常规选择；我前一阵子研究过它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:49:01.767

您是否尝试过对您的网站进行基准测试以找出延迟的来源？我相当确定有这么多记录是查询时间和渲染时间。只是数据太多了。为数据库查询实现一些缓存可能会有所帮助，但我认为数据库并不是这里真正的主要问题。

您将不得不避免显示所有类别。没有其他方法可以处理这样的事情。我可以想象两种可能对您有用的方法：

1.  您尝试将类别分类为几个超类别，用户首先选择这些超类别，然后属于它的类别将被延迟加载（可能通过 AJAX）。

2.  您提供了一个输入字段，该字段将根据用户在字段中键入的内容显示建议的类别列表，而不是显示所有类别。

3.  尝试通过分析用户输入的所有其他数据来导出匹配类别列表可能是个好主意。考虑到可用值的数量，确实值得花时间构建文本挖掘方法来处理它。

最明显的是减少类别的数量，但我想这是不可能的。

哦，顺便说一句：`return`过早地结束函数执行，所以你`mysql_free_result($query);`永远不会被联系到。无论如何，这是错误的放置位置。完成处理后，您应该释放结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:43:24.343

我建议如果它是一个静态查询，您可以缓存结果而不是每次都获取它。它肯定会第一次加载，但对于以后的请求，它不会成为问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T08:57:44.940

将选择框更改为搜索框，然后 ajax 调用 php 。

# c# - Windows Phone 8 上的 X509Certificate2 到 X509Certificate

> ID：16187307
> 
> 赞同：6
> 
> 时间：2013-04-24T08:39:20.347
> 
> 标签：c#, windows-phone-7, encryption, windows-phone-8, windows-phone

我需要让以下代码在 WP8 上运行，问题是 WP8 上没有 X509Certificate2 类，我尝试过使用充气城堡 API，但我还没有真正弄清楚。

有没有办法让这段代码在 WP8 上工作？

```
 private string InitAuth(X509Certificate2 certificate, string systemId, string username, string password)
    { 
        byte[] plainBytes = Encoding.UTF8.GetBytes(password);
        var cipherB64 = string.Empty;
        using (var rsa = (RSACryptoServiceProvider)certificate.PublicKey.Key)
            cipherB64 = systemId + "^" + username + "^" + Convert.ToBase64String(rsa.Encrypt(plainBytes, true));

        return cipherB64;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-02T18:06:39.443

你不能解决可用性问题`X509Certificate2`吗？

```
private string InitAuth(X509Certificate certificate, string systemId, string username, string password)
    { 
        byte[] plainBytes = Encoding.UTF8.GetBytes(password);
        var cipherB64 = string.Empty;

        //Create a new instance of RSACryptoServiceProvider.
        RSACryptoServiceProvider RSA = new RSACryptoServiceProvider();

        //Create a new instance of RSAParameters.
        RSAParameters RSAKeyInfo = new RSAParameters();

        //Set RSAKeyInfo to the public key values. 
        RSAKeyInfo.Modulus = certificate.getPublicKey();
        RSAKeyInfo.Exponent = new byte[3] {1,0,1};;

        //Import key parameters into RSA.
        RSA.ImportParameters(RSAKeyInfo);

        using (RSA)
            cipherB64 = systemId + "^" + username + "^" + Convert.ToBase64String(RSA.Encrypt(plainBytes, true));

        return cipherB64;
    } 
```

披露：我没有尝试上面的代码，因为我目前没有 C# 运行时环境可供我使用。

# c++ - 在不同命名空间中具有相同名称的 C++ 友元类

> ID：16187308
> 
> 赞同：0
> 
> 时间：2013-04-24T08:39:21.247
> 
> 标签：c++, class, namespaces, c++-cli, friend

我在不同的命名空间中有两个同名的类。我无法修改类的名称。我想向其中一个类添加一个方法，但不允许将其添加为公共方法。另一个类是用 C++/CLI 作为 ref 类编写的，需要访问此方法。我尝试使用朋友类，但我不知道应该如何使用它。

标准 C++ 中的 dll：

```
namespace X
{
    class A
    {
        protected:
        __declspec(dllexport) void method();
    }
} 
```

C++/CLI 中的应用程序

```
namespace Y
{
    ref class A
    {
        void someMethod()
        {
            X::A otherClass;
            otherClass.method();
        }
    }
} 
```

我尝试了以下方法：朋友类 Y::A; // 编译器错误 C2653: Y 不是类或命名空间名称

当我声明命名空间 YI 得到错误 C2039: 'A' : is not a member of 'Y'

我无法在命名空间 Y 中添加类 A 的前向声明，因为类 A 是使用标准 C++ 编译的，并且在前向声明中我必须将其声明为 ref 类。

编译器：Visual Studio 2008

有人有想法吗？

谢谢

**解决方案（感谢 Sorayuki）：**

```
#ifdef __cplusplus_cli
    #define CLI_REF_CLASS ref class
#else
    #define CLI_REF_CLASS class
#endif

namespace Y { CLI_REF_CLASS A; }

namespace X
{
    class A
    {
        protected:
        friend CLI_REF_CLASS Y::A;
        __declspec(dllexport) void method();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:50:17.577

我不确定这种伎俩是否被允许。

但也许你想看看这种“黑客”：

在 c++/cli

```
namespace Y
{
    class HackA : public X::A {
        public:
        void CallMethod() { method(); }
    };
    ref class A
    {
        void someMethod()
        {
            X::A otherClass;
            assert(sizeof(HackA) == (X::A));
            HackA* p = (HackA*) &otherClass;
            p->CallMethod();
        }
    };
}; 
```

**编辑：**

我已经测试过这可以通过编译

```
namespace Y { ref class A; };

namespace X
{
    class A
    {
        friend ref class Y::A;
        protected:
        __declspec(dllexport) void method();
    };
};

namespace Y
{
    ref class A
    {
        void someMethod()
        {
            X::A otherClass;
            otherClass.method();
        }
    };
}; 
```

也许您只需要复制 X::A 的头文件并通过在命名空间 X. 之前添加声明（未定义） Y::A 来编辑副本，并包含“副本”。

# javascript - 为什么 Durandal 入门教程中 text.js 的请求路径错误？

> ID：16187311
> 
> 赞同：2
> 
> 时间：2013-04-24T08:39:23.440
> 
> 标签：javascript, requirejs, durandal

我正在尝试使用 Durandal[入门](http://durandaljs.com/pages/get-started/)教程设置站点。但是当我尝试运行该站点时，我收到了多个 javascript 错误。我猜这些是由对“App/text.js”的 404 请求引起的。据我所知，这应该是“App/durandal/amd/text.js”。

有人知道我是否可能缺少一个设置吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:43:43.347

因此，在提出问题后，我立即尝试获取 nuget durandal 入门包。教程中似乎缺少以下内容：

> requirejs.config({ 路径: { 'text': 'durandal/amd/text' } });

这应该添加到 main.js 文件的顶部。

# windows-7 - “一般故障”_com_error 调用 WbemScripting::ISWbemServicesPtr::ExecQuery

> ID：16187313
> 
> 赞同：0
> 
> 时间：2013-04-24T08:39:24.983
> 
> 标签：windows-7, wbem

当在一个进程中运行而不是在另一个进程中运行时，会从以下代码行抛出无用的“通用失败”错误。我无法弄清楚进程之间有什么不同（它们都以管理员身份运行 32 位）。

```
WbemScripting::ISWbemObjectSetPtr hdobjects = services->ExecQuery("Select * from Win32_LogicalDisk","WQL",0x10,NULL); 
```

任何想法为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T13:23:17.993

这是因为 COM 安全性在每个进程中设置不同。这在每个进程中由对 的启动调用确定`CoInitializeSecurity`。

DLL 一旦被调用就无法重置它，但可以为当前的 Wbem 连接设置安全性`CoSetProxyBlanket`。

我无法轻易弄清楚如何通过 WbemScripting 正确设置它，所以我用 COM 调用重新实现，就像这里的广泛示例一样，只是没有步骤 2：

[http://msdn.microsoft.com/en-gb/library/windows/desktop/aa390423(v=vs.85).aspx](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa390423(v=vs.85).aspx)

# input - 是否可以将输入输出信号转换为 VHDL 中的两个信号（输入和输出）？

> ID：16187318
> 
> 赞同：0
> 
> 时间：2013-04-24T08:39:46.590
> 
> 标签：input, port, converter, vhdl, output

当我有这样的实体时：

```
entity outer_inout is
  Port(
    clk       : in  std_logic;
    rst       : in  std_logic;
    s         : in  std_logic;
    d         : inout std_logic;
    ...       -- some ports
  );
end entity; 
```

是否可以更改整个设计以不使用输入端口？

```
entity outer_inout2 is
  Port(
    clk       : in  std_logic;
    rst       : in  std_logic;
    s         : in  std_logic;
    d_in      : in  std_logic;
    d_out     : out std_logic;
    ... -- some ports
  );
end entity; 
```

我猜在某些特殊情况下，可以将输入端口转换为输入和输出端口。但问题是：这总是可能的吗？是否可以在设计中始终替换 inout 端口以使两种设计在语义上是等效的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:35:18.380

我不太确定你的's'信号是什么。但这就是您想要的，假设`d`是`s`启用 = 1的三态输出

```
d_in <= d;
d <= d_out when s = '1' else 'Z'; 
```

如果您有一个集电极开路输出-您将在测试台中的某个地方有一个上拉电阻，`d`以“H”驱动信号，然后您可以执行以下操作：

```
d_in <= to_X01(d);
d <= '0' when d_out = '0' else 'Z'; 
```

# android - 为 Android 清理 Eclipse 的缓存

> ID：16187320
> 
> 赞同：0
> 
> 时间：2013-04-24T08:39:50.980
> 
> 标签：android, eclipse

每当我的设备连接到 USB 时，Eclipse 经常崩溃。这可能是驱动程序问题，但我也想尝试其他一些方法来解决问题。我想清理 Eclipse 和/或 Android SDK 正在使用的任何缓存目录，但不确定是否存在或什至存在于何处。

如果存在，如何通过删除其中的所有文件来清理它？

# php - 如何在本地主机中安装 vtiger crm

> ID：16187322
> 
> 赞同：0
> 
> 时间：2013-04-24T08:39:55.190
> 
> 标签：php, vtiger

我是 vtiger crm 的新手。可以解释如何安装 vtiger crm 以及如何创建数据库连接..

我试图在 localhost 中安装 vtiger crm 但我遇到了很多错误和工作

> 不推荐使用：在第 373 行的 C:\xampp\htdocs\vtigercrm\adodb\adodb-xmlschema.inc.php 中不推荐使用通过引用分配 new 的返回值
> 
> 不推荐使用：在第 385 行的 C:\xampp\htdocs\vtigercrm\adodb\adodb-xmlschema.inc.php 中不推荐使用通过引用分配 new 的返回值
> 
> 严格标准：dbTable::create() 的声明应与 C:\xampp\htdocs\vtigercrm\adodb\adodb-xmlschema.inc.php 中第 605 行的 dbObject::create() 的声明兼容
> 
> 严格标准：dbIndex::create() 的声明应与 C:\xampp\htdocs\vtigercrm\adodb\adodb-xmlschema.inc.php 中第 769 行的 dbObject::create() 的声明兼容
> 
> 严格标准：HelpDesk::process_list_query() 的声明应与 C:\xampp\htdocs\vtigercrm\modules\HelpDesk\HelpDesk.php 中第 771 行的 CRMEntity::process_list_query() 的声明兼容
> 
> 警告：无法修改标头信息 - 标头已由第 91 行 C:\xampp\htdocs\vtigercrm\index.php 中的（输出开始于 C:\xampp\htdocs\vtigercrm\modules\HelpDesk\HelpDesk.php:771）发送
> 
> 警告：session_start() [function.session-start]：无法发送会话缓存限制器 - 标头已发送（输出开始于 C:\xampp\htdocs\vtigercrm\modules\HelpDesk\HelpDesk.php:771）在 C:\xampp \htdocs\vtigercrm\index.php 在第 96 行。

这些是尝试安装 vtiger crm 时遇到的一些错误。

请帮助我..

提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:46:57.070

您可能正在运行 PHP 5.3.x，并且您使用的 vtiger 版本与 5.3.x 不兼容

您可以使用另一个 php 版本，或者简单地抑制错误。

在 php.ini 中：

```
error_reporting = E_ALL & ~E_STRICT & ~E_DEPRECATED 
```

或者你可以使用 php 中的 error_reporting

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-18T04:32:24.573

只需将您的 PHP 设置为 5.2 版即可。我经历过类似的事情并通过它解决了它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-03T09:03:56.353

解决这些错误

```
Deprecated: Assigning the return value of new by reference is deprecated in C:\xampp\htdocs\vtigercrm\adodb\adodb-xmlschema.inc.php on line 373

Deprecated: Assigning the return value of new by reference is deprecated in C:\xampp\htdocs\vtigercrm\adodb\adodb-xmlschema.inc.php on line 385

$this->indexes[$name] =& new dbIndex( $this, $attributes );//373

$this->data =& new dbData( $this, $attributes );//385 
```

在这两行中删除“&”符号

```
 $this->indexes[$name] = new dbIndex( $this, $attributes );//373

    $this->data = new dbData( $this, $attributes );//385 
```

# java - 转换列表 到字符串数组

> ID：16187324
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:40:06.927
> 
> 标签：java, arrays, json, jackson

我想拆分一个 json 文件并将其内容存储在一个数组中，然后将它们打印到控制台，除了将 List 转换为字符串数组的问题之外，我已经成功地这样做了。

我的代码是：

```
package com.acme.datatypes; 
```

公共类用户{

```
private List<String> authors;
private String publisher;
private String title;
private int year;

public List<String> getAuthors() {
    return this.authors;
}

public void setAuthors(List<String> authors) {
    this.authors = authors;
}

public String getPublisher() {
    return this.publisher;
}

public void setPublisher(String publisher) {
    this.publisher = publisher;
}

public String getTitle() {
    return this.title;
}

public void setTitle(String title) {
    this.title = title;
}

public int getYear() {
    return this.year;
}

public void setYear(int year) {
    this.year = year;
} 
```

}

和另一个类：

```
package com.acme.datatypes; 
```

公共类用户测试 {

```
public static void main(String[] args) throws JsonParseException,
        JsonMappingException, IOException {
    split("");

}

// Parsing or Reading the JSON file using external libraries
public static String split(String V) throws JsonParseException,
        JsonMappingException, IOException {
    File jsonFile = new File("library.json");

    ObjectMapper mapper = new ObjectMapper();
    List<User> userList = mapper.readValue(jsonFile,
            new TypeReference<List<User>>() {
            });

    // Store the titles in an array and then print them out to the
    // console
    for (User usert : userList) {
        String[] title = new String[1];
        for (int c = 0; c < 1; c++) {
            title[c] = usert.getTitle();
            System.out.println(title[c]);
        }
    }
    // Create blank line on console
    System.out.println();

    // Store the publishers in an array and then print them out to the
    // console
    for (User userp : userList) {
        String[] publisher = new String[1];
        for (int i = 0; i < 1; i++) {
            publisher[i] = userp.getPublisher();

            System.out.println(publisher[i]);
        }
    }
    // Create blank line on console
    System.out.println();

    // Store the year(for a book) in an array and then print them out to the
    // console
    for (User usery : userList) {
        int[] year = new int[1];
        for (int j = 0; j < 1; j++) {
            year[j] = usery.getYear();

            System.out.println(year[j]);
        }
    }
    // Create blank line on console
    System.out.println();

    ;

        return V;
    }
} 
```

}

```
 My json file is : 

[
            {
                "title": "Principles of Compiler Design",
                "authors": [
                    "Aho",
                    "Ullman"
                ],
                "publisher": "Addison Wesley",
                "year": 1977
            },
            {
                "title": "Compilers: Principles Techniques and Tools",
                "authors": [
                    "Aho",
                    "Sethi",
                    "Ullman"
                ],
                "publisher": "Addison Wesley",
                "year": 1985
            }] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:42:01.180

这很简单：

```
List<String> yourList = ...
String[] array = yourList.toArray(new String[yourList.size()]); 
```

找不到您尝试执行此操作的代码部分，否则我使用了您的变量名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:46:14.053

以下示例可以复制到代码中需要将对象列表中的字段放入数组的所有位置。它在循环之外声明数组，并使用列表的大小来设置数组的大小。

在循环之外实例化和分配数组很重要，否则您将在循环的每次迭代期间实例化一个新数组。

```
String[] titles = new String[userList.size()];
for (int x; x < userList.size(); x++) {
       titles[x] = usert.getTitle();
       System.out.println(titles[x]);
    }
} 
```

**将此代码放在这里**

// 使用外部库解析或读取 JSON 文件 public static String split(String V) throws JsonParseException, JsonMappingException, IOException { File jsonFile = new File("library.json");

```
ObjectMapper mapper = new ObjectMapper();
List<User> userList = mapper.readValue(jsonFile,
        new TypeReference<List<User>>() {
        });

// Store the titles in an array and then print them out to the
// console
String[] titles = new String[userList.size()];
for (int x; x < userList.size(); x++) {
       titles[x] = usert.getTitle();
       System.out.println(titles[x]);
    }
}
// Create blank line on console
//Rest of class... 
```

# c# - 将 NSInputStream 和 NSOutputStream 覆盖到 System.IO.Stream - Xamarin.iOS (MonoTouch)

> ID：16187329
> 
> 赞同：2
> 
> 时间：2013-04-24T08:40:18.050
> 
> 标签：c#, ios, xamarin.ios, stream, type-conversion

我目前正忙于使用 MonoTouch 开发 iOS 应用程序。

连接到外部附件并建立 EASession 时，我需要将 NSInputStream 和 NSOutputStream 传递给另一个方法，用于输入和输出流的 System.IO.Stream。

我不确定如何进行此操作，因为我正在使用一些编写为独立于平台的 C# 库，因此我无法将方法更改为期望 NSInputStream/NSOutputStream。

将这些流转换为 System.IO.Stream 的最佳方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T11:16:34.550

目前没有将 NSInputStream/NSOutputStream 转换为 System.IO.Stream 的内置方法，但您可以轻松编写自己的 System.IO.Stream 包装器，如下所示：

```
class MyInputStream : System.IO.Stream
{
    NSInputStream input_stream;
    public MyInputStream (NSInputStream str)
    {
        input_stream = str;
    }

    public override void Flush ()
    {
        throw new NotSupportedException ();
    }

    public override int Read (byte[] buffer, int offset, int count)
    {
        if (offset != 0)
            throw new NotSupportedException ();
        return input_stream.Read (buffer, count);
    }

    public override long Seek (long offset, System.IO.SeekOrigin origin)
    {
        throw new NotSupportedException ();
    }

    public override void SetLength (long value)
    {
        throw new NotSupportedException ();
    }

    public override void Write (byte[] buffer, int offset, int count)
    {
        throw new NotSupportedException ();
    }

    public override bool CanRead {
        get {
            return true;
        }
    }

    public override bool CanSeek {
        get {
            return false;
        }
    }

    public override bool CanWrite {
        get {
            return false;
        }
    }

    public override long Length {
        get {
            throw new NotSupportedException ();
        }
    }

    public override long Position {
        get {
            throw new NotSupportedException ();
        }
        set {
            throw new NotSupportedException ();
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-11T09:46:04.160

这就是我让它正常工作的方式。如果有人有任何建议，请告诉我。

InputStream 非常简单，但 OutputStream 有点不同。下面的代码将允许您调用两个 Write() 结束 WriteByte() 方法。我已经离开 Console.WriteLine() 让人们看看它是如何工作的。

输入流：

```
class CustomInputStream : System.IO.Stream
{

    NSInputStream input_stream;

    public CustomInputStream (NSInputStream str)
    {
        input_stream = str;
    }

    public override void Flush ()
    {
        throw new NotSupportedException ();
    }

    public override int Read(byte[] buffer, int offset, int count)
    {
        if (offset != 0)
            throw new NotSupportedException ();
        return input_stream.Read (buffer, (uint)count);
    }

    public override long Seek (long offset, System.IO.SeekOrigin origin)
    {
        throw new NotSupportedException ();
    }

    public override void SetLength (long value)
    {
        throw new NotSupportedException ();
    }

    public override void Write (byte[] buffer, int offset, int count)
    {
        throw new NotSupportedException ();
    }

    public override bool CanRead {
        get {
            return true;
        }
    }

    public override bool CanSeek {
        get {
            return false;
        }
    }

    public override bool CanWrite {
        get {
            return false;
        }
    }

    public override long Length {
        get {
            throw new NotSupportedException ();
        }
    }

    public override long Position {
        get {
            throw new NotSupportedException ();
        }
        set {
            throw new NotSupportedException ();
        }
    }

} 
```

输出流：

```
class CustomOutputStream : System.IO.Stream
{

    NSOutputStream output_stream;
    List<byte> buffer;

    public CustomOutputStream (NSOutputStream str)
    {
        output_stream = str;
        buffer = new List<byte>();
    }

    public override void Flush ()
    {
        Write(buffer.ToArray(),0,buffer.Count);
        buffer.Clear();
    }

    public override int Read (byte[] buffer, int offset, int count)
    {       
            throw new NotSupportedException ();
    }

    public override long Seek (long offset, System.IO.SeekOrigin origin)
    {
        throw new NotSupportedException ();
    }

    public override void SetLength (long value)
    {
        throw new NotSupportedException ();
    }

    public override void Write (byte[] buffer, int offset, int count)
    {
        if (offset != 0)
            throw new NotSupportedException ();

        int sent = 0;
        var stillToSend = new byte[buffer.Length-offset];
        buffer.CopyTo(stillToSend, offset);

        Console.WriteLine("out while begin (buffer: {0})",buffer.LongLength);   
        while (count > 0)
        {       
            if (output_stream.HasSpaceAvailable()) 
            {   
                Console.WriteLine("in while has space");
                var bytesWritten = output_stream.Write(buffer, (uint)count);
                if (bytesWritten == -1)
                {
                    Console.WriteLine(@"write error");
                    break;
                }
                else if (bytesWritten > 0)
                {
                    Console.WriteLine("Bytes written: "+ bytesWritten.ToString());
                    count -= bytesWritten;
                    if (0 == count)
                        break;

                    var temp = new List<byte>();
                    for (var i=bytesWritten; i<stillToSend.Length; i++)
                    {
                        temp.Add(stillToSend[i]);
                    }
                    stillToSend = temp.ToArray();
                }
            }
            else 
            {
                Console.WriteLine("in while has NO space");
            }
        }

    }
    public override void WriteByte (byte value)
    {

        buffer.Add(value);

    }

    public override bool CanRead {
        get {
            return false;

        }
    }

    public override bool CanSeek {
        get {
            return false;
        }
    }

    public override bool CanWrite {
        get {
            return true;
        }
    }

    public override long Length {
        get {
            throw new NotSupportedException ();
        }
    }

    public override long Position {
        get {
            throw new NotSupportedException ();
        }
        set {
            throw new NotSupportedException ();
        }
    }

} 
```

# asp.net-mvc - ScriptBundle("~/scripts/jquery-{version}.js") 中的 {version} 是什么

> ID：16187333
> 
> 赞同：21
> 
> 时间：2013-04-24T08:40:28.993
> 
> 标签：asp.net-mvc, bundle, single-page-application

我尝试开始使用 MVC SPA 应用程序，我在 BundleConfig 中注意到以下内容：

```
 ScriptBundle("~/scripts/jquery-{version}.js") 
```

这是如何工作的？{version} 是什么，它来自哪里？

在哪里可以找到更多信息，B​​undleConfig 如何工作以及如何自定义它？

谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-24T08:44:00.440

[请参阅此问题](https://stackoverflow.com/questions/12029161/version-wildcard-in-mvc4-bundle)的答案。

另外，请查看[此链接](http://weblogs.asp.net/jgalloway/archive/2012/08/16/asp-net-4-5-asp-net-mvc-4-asp-net-web-pages-2-and-visual-studio-2012-web-developer-features.aspx)。*捆绑和优化*部分讨论了`{version}`标签的使用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T11:53:57.173

它允许您指示许多库使用的版本号格式 (semver)。例如，您引用 jquery-1.9.1，然后它转到 jquery-1.9.2。使用 {version} 您无需更改代码，只需重新构建捆绑包。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-05T21:42:16.073

虽然上面的答案已经足够了，但只是想展示[Matt 的答案链接](https://stackoverflow.com/a/12041931/2822211)中提到的技术细节：

> -{version} 基本上映射到版本正则表达式，或者更准确地说：(\d+(?:.\d+){1,3})。

HTH。

# android-emulator - 创建新的 Android 虚拟设备

> ID：16187334
> 
> 赞同：0
> 
> 时间：2013-04-24T08:40:33.580
> 
> 标签：android-emulator

我安装了最新的 Android 版本 4.2 和 SDK Manager。现在我创建一个项目并创建新的 Android 虚拟设备不显示目标和 CPU/ABI 的下拉菜单。我安装了 ARM EABI v7a 系统映像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:45:30.303

你安装了一些安卓平台吗？

转到`AVD manager -> Available Packages -> Android Repository`并下载一个或多个。

`SDK`如果您使用 eclipse 启动管理器，还要确保您的路径已设置。

转到`Window -> Preferences -> Android`并设置路径。如果操作正确，您应该得到一个可能的目标列表。

# visual-studio-2010 - VS2010 with Visual Assist 变慢了，如何恢复到初始性能？

> ID：16187335
> 
> 赞同：2
> 
> 时间：2013-04-24T08:40:34.430
> 
> 标签：visual-studio-2010, performance, visual-assist

我有一个正在使用 VAssist 在 VS2010 SP1 上开发的大型 C++ 项目，该项目开始变得非常缓慢。例如，启动调试器大约需要 4 分钟，而昨天需要几秒钟。我怀疑这是由于崩溃后损坏的 Intellisense 支持文件，或其他需要清理的相关临时文件。我已经删除了所有断点，按照这个[相关问题](https://stackoverflow.com/questions/3249449/vs2010-debug-entry-very-slow)，我已经删除了所有断点，没有明显区别。我还对项目进行了完全干净的重建。我的下一步是删除所有非必要的项目文件，并让 VS 和/或 VAX 重建它们。我的问题是；

我的项目文件夹中的以下文件是什么，删除它们的缺点是什么，文档似乎很少？.SDF、.OpenSDF、.SUO、.APS、VCXProj.Filters、VCXProj.User、.ipch（项目文件夹外的文件夹中的文件）

是否有任何其他临时文件或相关文件（VS 或 VAX）潜伏在我应该定期清理的其他文件夹中？

是否有任何上述文件我可以简单地备份和恢复以避免将来必须这样做？

**编辑：** 删除 SDF、SUO 和 APS 文件会大大加快调试速度，但由于 IDE 报告它正在解析头文件，因此类向导暂时（我希望！）不可用。

**Edit2：** 大约 10 分钟后，ClassWizard 回来了，SDF 和 SUO 文件回来了，尽管 SDR 稍微小了一点，APS 没有回来。找到了一个[关于 IPCH 的有用的相关问题](https://stackoverflow.com/questions/2757402/is-it-safe-to-delete-the-ipch-folder-precompiled-headers)。还从 %TEMP% 文件夹中清除了大量与 VS 相关的垃圾。

**Edit3：**根据上面链接问题的答案，在工具->选项->调试->符号中，清空缓存的符号并仅加载指定的模块似乎可以消除调试进出的瓶颈。

# android - 如何更改 Android TimePicker 分钟间隔？

> ID：16187341
> 
> 赞同：4
> 
> 时间：2013-04-24T08:40:47.150
> 
> 标签：android, timepicker, minute

我正在编写一个应用程序，用户需要指定一个给定的时间点，但我似乎无法弄清楚如何设置用户可以选择的分钟值，只使用 5 的增量而不是 1 的增量.

简而言之，当用户滚动可用数量时，他/她只能看到 0、5、10、15 等。

先感谢您。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-08-28T13:32:28.237

为确保您与 API 21+ 兼容，请确保您的 TimePicker 具有以下属性：

```
android:timePickerMode="spinner" 
```

那么这里是如何以编程方式设置间隔的方法。如果找不到分钟字段，则此方法将使用标准 TimePicker：

```
private static final int INTERVAL = 5;
private static final DecimalFormat FORMATTER = new DecimalFormat("00");

private TimePicker picker; // set in onCreate
private NumberPicker minutePicker;

public void setMinutePicker() {
    int numValues = 60 / INTERVAL;
    String[] displayedValues = new String[numValues];
    for (int i = 0; i < numValues; i++) {
        displayedValues[i] = FORMATTER.format(i * INTERVAL);
    }

    View minute = picker.findViewById(Resources.getSystem().getIdentifier("minute", "id", "android"));
    if ((minute != null) && (minute instanceof NumberPicker)) {
        minutePicker = (NumberPicker) minute;
        minutePicker.setMinValue(0);
        minutePicker.setMaxValue(numValues - 1);
        minutePicker.setDisplayedValues(displayedValues);
    }
}

public int getMinute() {
    if (minutePicker != null) {
        return (minutePicker.getValue() * INTERVAL);
    } else {
        return picker.getCurrentMinute();
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-07-02T11:10:08.903

所有相关答案都需要您设置一个 OnTimeChangedListener。我的解决方案是扩展 android TimePicker，并修改它的构造函数：

```
 // minute
    mMinuteSpinner = (NumberPicker) findViewById(R.id.minute);
    mMinuteSpinner.setMinValue(0);
    mMinuteSpinner.setMaxValue(3);
    mMinuteSpinner.setDisplayedValues(new String[]{"0", "15", "30", "45"});
    mMinuteSpinner.setOnLongPressUpdateInterval(100);
    mMinuteSpinner.setFormatter(NumberPicker.getTwoDigitFormatter()); 
```

所以你可以有你想要的间隔。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-07-02T10:27:12.190

谢谢[@Quadddd](https://stackoverflow.com/a/32272312/4843783)，这是 Kotlin 中的代码

```
private val INTERVAL = 5

private val FORMATTER = DecimalFormat("00")

  private var picker: TimePicker? = null // set in onCreate
  private var minutePicker: NumberPicker? = null

  fun setMinutePicker() {
    val numValues = 60 / INTERVAL
    val displayedValues = arrayOfNulls<String>(numValues)
    for (i in 0 until numValues) {
      displayedValues[i] = FORMATTER.format(i * INTERVAL)
    }

    val minute = picker?.findViewById<NumberPicker>(Resources.getSystem().getIdentifier("minute", "id", "android"))
    if (minute != null) {
      minutePicker = minute
      minutePicker!!.minValue = 0
      minutePicker!!.maxValue = numValues - 1
      minutePicker!!.displayedValues = displayedValues
    }
  }

  fun getMinute(): Int {
    return if (minutePicker != null) {
      minutePicker!!.getValue() * INTERVAL
    } else {
      picker!!.currentMinute
    }
  } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-05T17:20:37.310

在网上搜索后，我没有找到最简单的解决方案。
所以我决定分享：
你可以使用反射！
以下代码使用 10 分钟的间隔，但您可以在 DISPLAYED_MINS 数组中选择要使用的分钟数。

```
private final static String[] DISPLAYED_MINS = { "0", "10", "20", "30", "40", "50" };

private NumberPicker getMinuteSpinner(TimePicker t)
{
    try
    {
        Field f = t.getClass().getDeclaredField("mMinuteSpinner"); // NoSuchFieldException
        f.setAccessible(true);
        return (NumberPicker) f.get(t); // IllegalAccessException
    }
    catch (Exception e)
    {
        Log.e("timepicker","field name has been changed, check grepcode");
        return null;
    }
} 
```

当您创建时间选择器时：

```
final TimePicker dpStartDate = (TimePicker) view.findViewById(R.id.dpStartDate);
NumberPicker startMinSpiner = getMinuteSpinner(dpStartDate);
if (null != startMinSpiner)
{
    startMinSpiner.setMinValue(0);
    startMinSpiner.setMaxValue(DISPLAYED_MINS.length - 1);
    startMinSpiner.setDisplayedValues(DISPLAYED_MINS);
} 
```

只是不要忘记 getCurrentMinute() 在 DISPLAY_MINS 数组中返回选定的分钟。为了得到分钟：

```
int theTime = 0;
for (String number: DISPLAYED_MINS) {
    int theNumber = Integer.parseInt(number);
    if (theNumber % 5 != 0) {
        theNumber = ((int)(theNumber / 5)) * 5;
    }
    if (theNumber == dpStartDate.getCurrentMinute()) {
        theTime = theNumber;
        break;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T08:53:15.720

您可以以编程方式执行此操作。

```
pickStartTime = (TimePicker)findViewById(R.id.StartTime);
pickStartTime.setOnTimeChangedListener(mStartTimeChangedListener);
int nextMinute = 0; 
```

接下来，设置`OnTimeChangedListener`如下图

```
private TimePicker.OnTimeChangedListener mStartTimeChangedListener =
    new TimePicker.OnTimeChangedListener() {
        public void onTimeChanged(TimePicker view, int hourOfDay, int minute) {
            updateDisplay(view, startDate, hourOfDay, minute);          
        }
    };

private TimePicker.OnTimeChangedListener mNullTimeChangedListener =
    new TimePicker.OnTimeChangedListener() {
        public void onTimeChanged(TimePicker view, int hourOfDay, int minute) {}
    }; 
```

和，

```
private void updateDisplay(TimePicker timePicker, Date date, int hourOfDay, int minute) 
{ 
    nextMinute = nextMinute+5;

    // remove ontimechangedlistener to prevent stackoverflow/infinite loop
    timePicker.setOnTimeChangedListener(mNullTimeChangedListener);

    // set minute
    timePicker.setCurrentMinute(nextMinute);

    // look up ontimechangedlistener again
    timePicker.setOnTimeChangedListener(mStartTimeChangedListener);

    // update the date variable for use elsewhere in code
    date.setMinutes(nextMinute);  
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-03T12:18:09.563

作为@Andrey Kotlin 解决方案的后续，您可以使其可扩展以指定任何给定的分钟间隔。此外，使用 kotlin 范围和*step*关键字，您可以编写更花哨的代码：

```
private fun setupMinutesPicker(minVal: Int, maxVal: Int) {
    minsNumberPicker.displayedValues = null

    minsNumberPicker.minValue = minVal / MINUTE_INTERVAL_STEP
    minsNumberPicker.maxValue = maxVal / MINUTE_INTERVAL_STEP

    minsNumberPicker.displayedValues = (minVal..maxVal step MINUTE_INTERVAL_STEP)
        .toList()
        .map { mins -> FORMATTER.format(mins) }
        .toTypedArray()
} 
```

# javascript - window.location.reload(true) sends get request

> ID：16187347
> 
> 赞同：1
> 
> 时间：2013-04-24T08:41:08.760
> 
> 标签：javascript, asp.net-mvc, window.location

I am developing MVC Web application. I use HttpPost via form.submit to request all views except first/default view. Therefore url in browser's address bar does not change i.e. stays `http://mymachine:62846` When I try window.location.reload(true) url becomes `http://mymachine:62846/Home/GetPartialView` and web browser displays error:

> Server Error in '/' Application. The resource cannot be found. Description: HTTP 404\. Requested URL: /Home/GetPartialView

in `HomeController` Method `GetPartialView` is marked `HttpPost`:

```
[HttpPost]
public ActionResult GetPartialView(BroadcastedData data) 
```

Based on aforementioned error my understanding is when `window.location.reload(true)` is executed browser sends `HttpGet` request or `HttpPost` w/o post data and server can't route request properly.

Am I wrong?

How can I reload page via code properly essentially mimicking user pressing CTRL + R? Thank you.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T11:22:10.880

由于您的操作方法属于类型`[HttpPost]`，因此它需要发布数据。我希望有一种`[HttpGet]`操作方法可以通过它来呈现您的视图。您必须将特定操作方法（`[HttpGet]`）的 URL 设置为 window.location 而不是重新加载页面。

```
 window.location = url; 
```

要在 ctrl+R 上执行此操作，请尝试以下代码：

```
$( document ).bind( 'keydown', function ( event )
                {
                    if ( event.which == 82 )//R=>82
                    {
                        if ( event.altKey )
                        {
                            window.location=desired_URL;
                        }
                    }
                } ); 
```

# c# - 未排序的属性网格中的父类

> ID：16187348
> 
> 赞同：0
> 
> 时间：2013-04-24T08:41:09.493
> 
> 标签：c#, sorting, inheritance, propertygrid

我有一个`PropertyGrid`，未排序的。

一个对象是从另一个类继承的对象：

```
[TypeConverter(typeof(ExpandableObjectConverter))]
public class ExpandValues: Values
{
    public double Value2 { get; set; }

    public ExpandValues()
        : base()
    {

    }
    public ExpandValues(string name, double value1, double value2)
        : base(name, value1)
    {
        Value2 = value2;
    }
} 
```

父类：

```
[TypeConverter(typeof(ExpandableObjectConverter))]
public class Values
{
    [Browsable(false)]
    public string Name { get; set; }
    public double Value { get; set; }

    public Values()
        : this(null, 0)
    {

    }
    public Values(string name, double value)
    {
        Name = name;
        Value = value;

    }
} 
```

当我打开包含该类的对象时，`ExpandValues`会显示如下值：

```
Value2
Value 
```

我有没有办法告诉他首先显示父类的对象（不使 PropertyGrid 排序？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:02:58.180

为了使值有序，我覆盖了`value`父类的变量：

我在父类的变量中添加了一个虚拟：

```
public virtual double Value { get; set; } 
```

然后我覆盖他：

```
[TypeConverter(typeof(ExpandableObjectConverter))]
public class ExpandValues: Values
{
    public override double Value
    {
        get
        {
            return base.Value;
        }
        set
        {
            base.Value = value;
        }
    }

    public double Value2 { get; set; }

    public ExpandValues()
        : base()
    {

    }
    public ExpandValues(string name, double value1, double value2)
        : base(name, value1)
    {
        Value2 = value2;
    }
} 
```

# php - 让一个web服务器承载一个程序

> ID：16187352
> 
> 赞同：1
> 
> 时间：2013-04-24T08:41:23.800
> 
> 标签：php, web-services, web-applications

我要做的是：让服务器携带一个分析图片（发送到Web服务器）并返回结果的程序，该程序已经存在并且是用C#和C++编写的。出于兴趣，该程序分析图案/网格以确定金属物体上施加了多少压力，并且分析时间不超过一秒钟。

我想知道：

1.  如何将程序存储在 Web 服务器上（或者如何存储它以便我可以从 Web 服务器访问它）？
2.  如何通过网络服务器调用程序？
3.  我想上面需要使用 PHP 等语言进行一些编程，但是这段代码是在哪里编写/执行的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:47:06.440

我真的会在网络服务器级别使用 PHP 来做到这一点。

PHP 有一个名为`shell_exec`. 该命令可以调用程序。

```
$result = shell_exec("./your_program ".escapeshellargs($image_path)); 
```

在webserver有权限执行程序的情况下（应该是chmod mode 755）。

（Ps 这应该在 *nix 上工作，对于 Windows 我不确定）

（如果你不能在服务器上编译你的程序，交叉编译然后上传）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T15:10:46.123

The simple solution to this problem is the run your program synchronously inside your web request (this means that your web page has to wait for the program to deliver its results). This means that, in your PHP page (or a controller, if you are using an MVC-like architecture) you use `system()` or similar to run your program on the server. This will probably output results to standard output, or maybe to a file or a database. If your program takes a second to run, this is probably an acceptable delay, as long as you have a low number of users.

To do this:

*   Store your console program somewhere on the server, "C:\My Programs\My Analyser\Analyser.exe" is fine.
*   You should know the path location of your image file. You can then pass that pathname as a parameter to your console program.
*   You can then retrieve the results of the call, either from `stdout` or elsewhere, depending on how your console program returns its analysis

That said, a better way to run this it is to run a *job server*, so that your program is run asynchronously (this means that your job server accepts a request to run the program, and it will be run when a slot becomes free). This will mean your web page will run faster, and your server won't get overloaded with too many people running your program at the same time. The downside is that the architecture of your system is more complicated, and you'll have to change your UI to cope with unprocessed jobs.

If you are interested in setting up a job server, consider something like Gearman. You'll have to poll the server to see if a job has been processed, or have your job process write a completion flag to your database, which can be checked trivially by your web script.

# c# - winform 应用程序中的 SQL Server 连接字符串

> ID：16187354
> 
> 赞同：0
> 
> 时间：2013-04-24T08:41:32.847
> 
> 标签：c#, sql-server, string, connection-string

我将`.MDF`在 Visual Studio 2012 (C#) 中创建一个 SQL Server 数据库文件 (file)。

我正在开发一个桌面应用程序，我已经`.MDF`向项目添加了一个新文件，但我不知道我的连接字符串是什么，当我尝试连接到我的数据库时出现此错误：

```
SqlConnection SQLConnection = new SqlConnection("Data Source=db\\ofoghdb.mdf");
SQLConnection.Open(); 
```

错误：

> 建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：SQL 网络接口，错误：26 - 错误定位服务器/指定的实例）

我对 Web 开发中的 SQL Server 相当熟悉，但我将在桌面（winform）应用程序中使用它，并且出现上述错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:47:14.117

尝试指定数据库的完整路径：

```
SqlConnection SQLConnection = new SqlConnection(@"Data Source=C:\ofoghdb.mdf");
SQLConnection.Open(); 
```

[在这里](http://www.connectionstrings.com/sql-server-ce)查看更多

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:01:01.527

也许你的connectionString应该是这样的？</p>

```
connectionString="Data Source=(LocalDb)\v11.0;Initial Catalog=databaseName;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\my.mdf" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:50:09.487

您应该像这样使用连接到数据库服务器：

```
SqlConnection oSQLConn = new SqlConnection();
oSQLConn.ConnectionString = "Data Source=(local);" +
                            "Initial Catalog=mySQLServerDBName;" +
                            "Integrated Security=SSPI"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T09:03:03.800

试试这个连接字符串。

```
SqlConnection SQLConnection = new SqlConnection(@"Server=(localdb)\v11.0;Integrated Security=true;AttachDbFileName=DB\MyData.mdf");
SQLConnection.Open(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-06T12:34:44.183

试试这个

```
OleDbConnection conn = new OleDbConnection("Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" 
    + Environment.GetFolderPath(Environment.SpecialFolder.Personal) 
    + "\\folder name\\Databass name " + ";Persist Security Info=False;"); 
```

# .htaccess - 编写 .htaccess 行来查找和替换 URL 的一部分

> ID：16187355
> 
> 赞同：0
> 
> 时间：2013-04-24T08:41:39.503
> 
> 标签：.htaccess

我知道其中有一些，但我找不到一个描述我想做的事情。

我有一个要退出的页面，例如：

```
www.mysite.com/pages/page_old.php?someargs 
```

我希望 _old 被剥离，所以页面转到

```
www.mysite.com/pages/page.php?someargs 
```

我试过了

```
RewriteEngine On
RewriteBase /
RewriteRule ^/pages/page_old.php$ ^/pages/page.php$ [L,R=301] 
```

但它不起作用。

值得注意的是 ?someargs 可以是传递给页面的任何参数，所以这必须是灵活的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:44:41.977

前导斜杠不在规则中测试的 URI 路径中，因此它也不能在正则表达式中。

替换 URL 是纯文本字符串，不应使用正则表达式字符，因为它们是按字面传递的。

你可以试试这个：

```
RewriteRule ^pages/page_old.php  /pages/page.php [R=301,NC,L] 
```

查询字符串将[原封不动地传递](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriterule)给替换 URL

# c# - Failed to decrypt using provider 'RsaProtectedConfigurationProvider'

> ID：16187369
> 
> 赞同：6
> 
> 时间：2013-04-24T08:42:11.437
> 
> 标签：c#, .net, sql-server

In my application, that connecting to MS Sql database, I am using `Microsoft.Data.ConnectionUI` And my application work in my computer. If i run this application in another computer, when i open connection dialog, i see that error: ![enter image description here](https://i.stack.imgur.com/An8c5.jpg)

That is my code for this:

```
 try
    {
        connectionString = ShowDialogConnection();

        SqlConnection connect = new SqlConnection(connectionString);
        connect.Open();
        backgroundWorker1.RunWorkerAsync();

    }
    catch (Exception exc)
    {
        MessageBox.Show(exc.ToString());
    }

string ShowDialogConnection()
        {
            string conn = "";
            DataConnectionDialog dlg = new DataConnectionDialog();
            DataSource.AddStandardDataSources(dlg);
            dlg.SelectedDataSource = DataSource.SqlDataSource;
            dlg.SelectedDataProvider = DataProvider.SqlDataProvider;
            if (ConfigurationManager.ConnectionStrings["ConStr"] != null)
            {
                dlg.ConnectionString = ConfigurationManager.ConnectionStrings["ConStr"].ConnectionString;
            }
            if (DataConnectionDialog.Show(dlg) == DialogResult.OK)
            {
                if (dlg.ConnectionString != null && dlg.ConnectionString != "")
                {
                    conn = dlg.ConnectionString;
                    Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
                    ConnectionStringsSection csSection = config.ConnectionStrings;
                    csSection.SectionInformation.ProtectSection("RsaProtectedConfigurationProvider");
                    csSection.SectionInformation.ForceSave = true;
                    ConnectionStringSettings csSettings = new ConnectionStringSettings("ConStr", dlg.ConnectionString, "System.Data.SqlClient");
                    if (csSection.ConnectionStrings["ConStr"] != null)
                        csSection.ConnectionStrings.Remove("ConStr");
                    csSection.ConnectionStrings.Add(csSettings);
                    config.Save(ConfigurationSaveMode.Modified);
                }
            }
            return conn;
        } 
```

What I need to do with this?

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-24T13:07:45.980

错误数据通常是由使用错误的密钥引起的。听起来您正在一台机器（您的开发机器？）上加密 .config 文件并尝试在另一台机器上解密。这将不起作用，因为缺少解密密钥。

加密的配置部分应该在运行应用程序的机器上加密，以便它使用适当的密钥。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T13:44:22.230

是的，我想到的是您已`encryption`在 Web.Config 中启用该`<connectionStrings>`部分。当您将应用程序部署在未执行加密的机器上时，会出现此类问题。加密使用开发机器上缺少的机器级密钥。我想到了以下选项

1.  您可以删除原始机器上的加密并运行应用程序
2.  或者，您可以在加密期间导出原始机器上使用的 RSA 密钥容器并在新机器上导入该特定密钥容器

# android - can not open the keyboard on the editText

> ID：16187375
> 
> 赞同：1
> 
> 时间：2013-04-24T08:42:30.480
> 
> 标签：android, android-softkeyboard, android-alertdialog, layout-inflater

I will explain what i done in my alertBox i Inflate a View for the alertBox its name is view. and in that view a LinearLayout is there its name is 'main layout' i inflate another view which contains a radioGroups and editTexts. its name is layout. i add the 2nd view(layout) to the first view (view). and when i click on the radioButtons its work properly. but when i click on the editText it doesn't open the softKeyboard –</p>

i open an alertBox which inflate a view. but it doesn't show a the soft keyboard when i click on the EditText in the alertBox.

```
Builder alertCreate = new AlertDialog.Builder(parent);
        alertCreate.setTitle("New Schedule");
        inflater = LayoutInflater.from(parent);
        View view = inflater.inflate(R.layout.activity_schedule, null);     
        spinnerRepeat = (Spinner)view.findViewById(R.id.spinner_schedule_repeat);

spinnerRepeat.setOnItemSelectedListener(new OnItemSelectedListener() {

            public void onItemSelected(AdapterView<?> arg0, View arg1,
                    int arg2, long arg3) {
                LinearLayout mainLayout= (LinearLayout)view.findViewById(R.id.main_Layout);
                LinearLayout spinnerLayout = (LinearLayout)view.findViewById(R.id.spinner_Layout);
                View weeklyLayout = inflater.inflate(R.layout.schedule_week_selection, null);
                initializeWeeks(weeklyLayout);
                if(arg2>0)
                {
                    if(flag==0)
                    {
                        View layout = inflater.inflate(R.layout.schedule_ends_on, null);
                        RelativeLayout layout2 =(RelativeLayout)layout.findViewById(R.id.endsOn_layout);    
                        rgEndsOn =(RadioGroup)layout.findViewById(R.id.radioGroup_endsOn);
                        radio_occr=(RadioButton)layout.findViewById(R.id.radio_schedule_occr);
                        radio_date=(RadioButton)layout.findViewById(R.id.radio_schedule_date);
                        occurence=(TextView)layout.findViewById(R.id.tv_schedule_Occur);
                        addCheckListenerToRgEndsOn();
                        etEndsOn=(EditText)layout.findViewById(R.id.Et_schedule_occur);
                        etEndDate=(EditText)layout.findViewById(R.id.et_schedule_enddate);
                        etEndDate.setClickable(true);
                        etEndDate.setText(formatDate(TimeFormater.DateToString(startDate)));
                        mainLayout.addView(layout, 3);
                        flag=1;
                    }
                    if(arg2==2)
                    {
                        spinnerLayout.addView(weeklyLayout,2);
                    }
                    else
                    {
                        View v = (View)spinnerLayout.getChildAt(2);
                        spinnerLayout.removeView(v);
                    }
                }
                else
                {
                    Log.e("id",""+mainLayout.getChildAt(3));
                    View v = (View)mainLayout.getChildAt(3);
                    View v2 = (View)spinnerLayout.getChildAt(2);
                    spinnerLayout.removeView(v2);
                    mainLayout.removeView(v);
                    flag=0;
                }
            } 
```

but when i click on the EditText (etEndsOn) it doesn't pop up the keyboard

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-07T16:13:11.673

我遇到了和你一样的问题......并尝试设置一些参数（以编程方式和在 xml 中），但它似乎不起作用。

但是我已经实施了一个解决方案，它对我有用：

在 onCreate 方法中，我将参数填充到了 edittext（只是宽度和高度）并调用了一个方法来显示 AlertDialog：

```
 EditText input = new EditText(this);
    LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
            LinearLayout.LayoutParams.FILL_PARENT,
            LinearLayout.LayoutParams.FILL_PARENT);
    input.setLayoutParams(lp);

    createInputDialog(this, this, this, input); 
```

继承人 createInputDialog 方法：

```
public void createInputDialog(final Activity ga,
        DialogInterface.OnClickListener listener,
        DialogInterface.OnKeyListener keylistener, EditText input) {

    AlertDialog.Builder editalert = new AlertDialog.Builder(ga);
    editalert
            .setTitle(
                    getResources().getString(R.string.input_dialog_title))
            .setMessage(
                    getResources().getString(
                            R.string.input_dialog_description))
            .setView(input)
            .setPositiveButton(
                    getResources().getString(R.string.dialog_save_button),
                    listener)
            .setNegativeButton(
                    getResources().getString(R.string.button_cancel),
                    listener).setOnKeyListener(keylistener);

    if (alert_input == null) {
        alert_input = editalert.create();
    }

} 
```

然后我只需要在我想要的时候显示警报，edittext 就像它必须的那样工作。

我希望它有效

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:49:54.193

您必须为布局提供焦点。我也面临这个问题。使用以下代码。希望这有效。

```
 RelativeLayout layout2 =(RelativeLayout)layout.findViewById(R.id.endsOn_layout);
layout2.setFocusableInTouchMode(true);
layout2.requestFocus(); 
```

**更新**

```
 LinearLayout mainLayout= (LinearLayout)view.findViewById(R.id.main_Layout);
    mainLayout.setFocusableInTouchMode(true);
    mainLayout.requestFocus(); 
```

# c# - 我在 C# 中的弹出窗口上看不到按钮

> ID：16187376
> 
> 赞同：0
> 
> 时间：2013-04-24T08:42:32.023
> 
> 标签：c#, button, popup, window

我看不到弹出窗口上的按钮。我创建了一个弹出窗口并在该窗口上放置了一个按钮来关闭它，但实际上无法关闭它。当我运行程序时，我看不到按钮。我只能看到没有按钮的弹出窗口。

这是创建按钮和弹出窗口的代码（UcPopUpConfirm.ascx）：

```
<asp:Button ID="Button" 
            runat="server" 
            ClientIDMode="AutoID" 
            OnClick="Button1_Click1" 
            Text="Tamam" 
            CssClass="dx" 
            Font-Bold="True" 
            Font-Size="Large" 
            Width="87px" /> 
```

这是按钮单击处理程序中的代码：

```
public void Button1_Click1(object sender, EventArgs e)
{  
      PopupControlContentControl1.Visible = false;
      Button.Attributes.Add("onclick", "Close.me()");
      return;    
} 
```

# java - 如何使用扫描仪从文件中读取某一行的某个字符串？

> ID：16187378
> 
> 赞同：0
> 
> 时间：2013-04-24T08:42:41.340
> 
> 标签：java, string, delimiter, comma

我正在尝试读取如下所示的文本文件：

A,32,0,0,0,0

现在我有一个从该文件中读取的静态方法。我得到了这个 NoSuchElement 异常，而之前我有一个 Mismatch 异常。

请问我在这段代码中缺少什么？我很抱歉含糊不清。

```
public static ArrayList<RaceCar> readCar(String s, Track raceTrack)throws IOException,FileNotFoundException
 {
     Scanner sc = new Scanner(new File("CarData.txt"));
     sc.useDelimiter(",");
     String exists;
     ArrayList<RaceCar> racers = new  ArrayList<RaceCar>();

    while ((exists = sc.nextLine()) != null) 
    {
         String dName = sc.next();
         int dNum = sc.nextInt();
         int dWins = sc.nextInt();
         int dRunUp = sc.nextInt();
         int dRaces = sc.nextInt();

         racers.add(new RaceCar(dName,dNum,raceTrack,dWins,dRunUp,dRaces));
    }   

    return racers;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:47:17.580

代替

```
sc.nextLine() 
```

和

```
while (sc.hasNext()) {
  //code
} 
```

通过调用 nextLine，文件中该行的所有数据都在`exists`.

看看[JavaDoc](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:58:03.250

你需要exists-String做什么？

尝试：

```
while (sc.hasNextLine()) {
   // ...
} 
```

# python - 带有字典的列表 - 计算所有键的值（Python）

> ID：16187379
> 
> 赞同：1
> 
> 时间：2013-04-24T08:42:42.310
> 
> 标签：python

考虑到有一个包含多个字典的列表，共享相同的键。

```
data = [{'count': 3, 'os': 'Windows'},
        {'count': 2, 'os': 'Windows'},
        {'count': 5, 'os': 'Linux'},
        {'count': 1, 'os': 'Linux'}] 
```

如何总结他们的价值观？预期的：

```
data = [{'count': 5, 'os': 'Windows'},{'count': 6, 'os': 'Linux'}] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T08:51:34.520

```
import itertools

data = [
    {'count': 3, 'os': 'Windows'},
    {'count': 2, 'os': 'Windows'},
    {'count': 5, 'os': 'Linux'},
    {'count': 1, 'os': 'Linux'}
]

results = []
for key, val in itertools.groupby(data, lambda v: v['os']):
    count = sum(item['count'] for item in val)
    results.append({'count' : count, 'os' : key})

>>> results
>>> [{'count': 5, 'os': 'Windows'}, {'count': 6, 'os': 'Linux'}] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:49:38.157

```
from collections import defaultdict

sum_dict = defaultdict(int)

for d in dicts: # your dictionaries
    for key, value in d.iteritems():
        sum_dict[key] += value 
```

当然，您可以将其压缩为单一工作，但可读性较差的单行。此外，[Counter](http://docs.python.org/2/library/collections.html#collections.Counter)类在这里可能很有用。[集合](http://docs.python.org/2/library/collections.html#collections)和[itertools](http://docs.python.org/2/library/itertools.html#itertools)包含很多*非常*有用的东西。

# android - 如何在android中的listview中设置当前播放歌曲的图标？

> ID：16187380
> 
> 赞同：-2
> 
> 时间：2013-04-24T08:42:43.797
> 
> 标签：android, listview

嗨，我有带有歌曲列表的列表视图。我想在当前播放的歌曲上绘制小图标并从下一首歌曲开始播放并设置为该歌曲时删除。任何帮助代码片段都会被应用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-12T06:53:58.073

将图标添加到您的列表视图中，首先使其不可见，然后在 java 中编写代码

```
if(SongIndex !=position){
Image.setvisibility(View.Invisible)
}
else{
Image.setvisibility(View.Visible)
}
notifydatasetchanged(); 
```

# php - 将格式化为数组的字符串转换为真实数组

> ID：16187381
> 
> 赞同：0
> 
> 时间：2013-04-24T08:42:47.640
> 
> 标签：php, arrays, string

我有一个 POST Rest API，它有一个名为 $arrProducts 的参数。参数应该是一个数组。但是发送给 API 的值不是数组，而是字符串，具有数组的形式。

让我举一个传递的字符串参数的例子：

```
"$arrProducts = array(array("product_id"=>'79',"qty"=>2,"options" =>array("525"=>'')),array("product_id"=>'41',"qty"=>3),"options"=>array("195"=>'')));" 
```

这个参数即使看起来像一个数组也不是。它是一个字符串。所以我试着让它更像一个数组。

```
$stringVar = $_POST['arrProducts'];
$str = rtrim($stringVar, ";"); //To lose the semicolon at the end of the string
$arrProducts = substr($str, 15); // To lose the first part of the string "$arrProducts = " to make it formatted exactly like an array. 
```

所以在这之后我得到了纯数组形式`"array(array("product_id"=>'79',"qty"=>2,"options" =>array("525"=>'')),array("product_id"=>'41',"qty"=>3),"options"=>array("195"=>'')))"`

现在我的问题是如何将此字符串转换为数组？

好的，听我做的是首先更改数据传输到 Rest API 的方式。我使用了 json_encode。然后在我的 Rest API 中，我使用 json_decode 抓取了数据。

现在这是我遇到的新问题。arrProducts 的格式如下。我在解析 json_decode 思想时遇到问题。

```
$product_id = "45";
        $qty = 20;
        $option_type_id_for_option_id_151 = '826';
        $option_type_id_for_option_id_124 = '657,658,';
        $option_type_id_for_option_id_126 = 'Test for field option';

    $arrProducts = array(
        array(
            "product_id" => $product_id,
            "qty" => $qty,
            "options" => array(         
                "151" => $option_type_id_for_option_id_151,
                "124" => $option_type_id_for_option_id_124,
                '126' => $option_type_id_for_option_id_126
            )
        ),
        array(
            "product_id" => '60',
            "qty" => '1',
            "options" => array(         
                "156" => '862',
                "167" => '899',
                "168" => '902',
                "159" => '877',
                "160" => '889,890,891,'
            )
        ),
        array(
            "product_id" => '58',
            "qty" => '1',
            "options" => array(         
                "174" => '938',
                "176" => '943',
                "178" => ''
            )
        )

    ); 
```

问题在于我将使用 json_decode 解析数据的方式：这是我写的，但由于某种原因，选项数组中存在问题。

```
$stringVar = $_POST['arrProducts'];
$arrProductsVar = json_decode($stringVar, TRUE);
$i = 0;
        $arrProducts = array();
        if ($arrProductsVar !== NULL)
        { 

            foreach ($arrProductsVar['arrProducts'] as $arrProduct){
                $options = array();
                foreach($arrProduct['options'] as $key => $val){
                     $options[$key] = $val;
                }

                $arrProducts[$i] = array('product_id' => $arrProduct['product_id'],'qty' => $arrProduct['qty'], 'options' => $options);
                $i++;
            }

        } 
```

任何人都可以在此代码中看到任何经典错误吗？因为它由于某种原因无法正常工作。可能是由于 $options 数组。我认为它的格式不正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:07:07.580

只需这样做

```
$arrProducts = array("arrProducts"=>array(whatever));
$dataToPost = json_encode($arrProducts); 
```

现在在您的 REST 代码中，

```
$stringVar = $_POST['arrProducts'];
$arrProducts = json_decode($stringVar); 
```

所以 $arrProducts 包含数组格式的数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:49:58.810

如果您必须将数组作为字符串传递，我建议您使用 php`json_encode`和`json_decode`方法在 REST 路由上传递 JSON 字符串，但在需要的地方有一个数组。

*根据对问题的更改进行更新：*

您的代码中有这一行

```
foreach ($arrProductsVar['arrProducts'] as $arrProduct){ 
```

但是，您用于描述数组格式的代码不会`arrProducts`在`$arrProductsVar`

尝试

```
foreach ($arrProductsVar as $arrProduct){ 
```

# php - 如何在页面加载后禁用提交按钮 10 秒

> ID：16187386
> 
> 赞同：2
> 
> 时间：2013-04-24T08:42:58.470
> 
> 标签：php, javascript, button

我的问题可能很简单，但我只有一周的编程时间，我无法真正理解我能找到的相关答案。所以... 需要你的绝地帮助。如何在页面加载后禁用提交按钮 10 秒？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T08:45:01.193

你可以像这样使用javascript

```
<input type="submit" id="submitButton" disabled="disabled" /> 
```

使用

```
<script type="text/javascript">
    window.onload=function() {
      setTimeout(function(){
        document.getElementById('submitButton').disabled = null;
      },10000);
    }
</script> 
```

如果您需要，以下内容还将在 ID="timeLeft" 的容器中显示倒计时

```
 <script type="text/javascript">
    var countdownNum = 10;
    window.onload=function() {
      incTimer();
    }

    function incTimer(){
      setTimeout (function(){
        if(countdownNum != 0){
          countdownNum--;
          document.getElementById('timeLeft').innerHTML = 'Time left: ' + countdownNum + ' seconds';
          incTimer();
        } else {
          document.getElementById('submitButton').disabled = null;
          document.getElementById('timeLeft').innerHTML = 'Ready!';
        }
      },1000);
    }
</script> 
```

# c# - 从 .txt 文件中搜索加载和替换数据并在 C# 中显示

> ID：16187392
> 
> 赞同：0
> 
> 时间：2013-04-24T08:43:25.417
> 
> 标签：c#

如何从 .t​​xt 文件中搜索加载和替换数据并显示它

我在 txt.file 中的数据是

```
1010w23#Mild#UnknwonStreet#001234521 
```

我想用这个来改变它

```
1010w34#Mild#UnknownStreet#001235421 
```

我很有趣的 Windows 窗体应用程序，我是 C# 的新手

我用这个保存数据

```
string[] dataEmployee = new string[4];

dataEmployee[0] = txtIdEmployee.Text;
dataEmployee[1] = txtName.Text;
dataEmployee[2] = txtAddress.Text;
dataEmployee[3] = txtContact.Text;

string.Join("#", dataEmployee);

TextWriter writeDataEmployee = new StreamWriter(@"dataemployee.txt", true); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:49:38.647

尝试这样的事情，尽管没有更多信息，我们无法确定您到底需要什么：

```
string text = File.ReadAllText(fileName);    //fileName is the path to your txt file
string[] fields = text.Split('#');
fields[0] = fields[0].Replace("23", "34");
fields[3] = fields[3].Replace("45", "54");
txtResult.Text = String.Join("#", fields);    //txtResult is some textbox in your form 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:01:11.953

试试下面的方法，它会帮助你...

在您的表单中创建`4 Text boxes`和`one button`命名，如下所示..

**文本框：**

```
txtEmployeeIDFind
txtEmployeeIDReplace
txtContactReplace
txtContactFind 
```

**按钮：**

```
btnFindandReplace 
```

并运行表单现在用户在文本框中输入他们的值，如下所示

![在此处输入图像描述](https://i.stack.imgur.com/dxtnm.png)

在`Button click event`编写如下编码...

```
 private void btnFindandReplace_Click(object sender, EventArgs e)
    {
        string text = System.IO.File.ReadAllText("dataemployee.txt");
        text = text.Replace(txtEmployeeIDFind.Text, txtEmployeeIDReplace.Text).Replace(txtContactFind.Text, txtContactReplace.Text);
        System.IO.File.WriteAllText("dataemployee.txt", text);
    } 
```

# mysql - 如何使用子查询改进/简化查询？

> ID：16187394
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:43:40.017
> 
> 标签：mysql, view, subquery

我想知道一个人的最大阵型，一个人可以有很多阵法条目。

表**t_formation**

```
idFormation | fkPerson   | fkLevel     | place
------------------------------------------------
    1       |     1      |     2       | Oxford
    2       |     2      |     1       | PlaySchool
    3       |     1      |     3       | Trinity High
    4       |     1      |     1       | My School
    5       |     2      |     3       | My High 
```

表**a_level**

```
idLevel | orderLevel | formation
-------------------------------------
  1     |   1        |  School
  2     |   3        |  University
  3     |   2        |  High school 
```

我需要得到的是以下**查询**或所需的查询结果（*每个人形成的最大订单级别以及他们研究该最大形成的地方*）

```
fkPerson | maxOrderLevel |  formation    |  place
----------------------------------------------------
      1  |      2        |   Univertity  |  Oxford
      2  |      3        |   High school |  My High 
```

为此，我使用 2 个子查询进行了查询，但无法创建有效的视图。

**无地点查询SQL**，得到每个人的最大编队

```
select fkPerson, a_level.orderLevel, a_level.formation
from (
  select fkPerson,  max(a_level.orderlevel) as ordermax
  from t_formation left join a_level on t_formation.fkLevel = a_level.idLevel 
  group by fkPerson
) as form left join a_level on form.ordermax = a_level.orderlevel 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-27T23:04:07.440

部分问题是您可以`orderLevel`为每个人设置多个值，`fkPerson`因此您必须检索`max(orderLevel)`每个人的值`fkPerson`，然后执行另一个联接以获取与每个人相关联的`place`/ 。`formation`

我看到了几种可以得到结果的方法。

您可以使用子查询来获取`max(orderLevel)`然后加入您的表以返回所需的列：

```
select t1.fkPerson, 
  at.MaxOrder,
  t1.Place,
  a.Formation
from t_formation t1
inner join a_level a
  on t1.fkLevel = a.idLevel
inner join
(
  select t.fkPerson, max(a.orderLevel) MaxOrder
  from t_formation t
  left join a_level a
    on t.fkLevel  = a.idLevel
  group by t.fkPerson
) at
  on t1.fkPerson = at.fkPerson
  and at.maxorder = a.orderLevel; 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/?r44b=no#!2/d4583/16)。

您可以获得结果的另一种方法是在您的`WHERE`子句中使用查询来过滤不具有的行`max(orderLevel)`：

```
select t.fkperson,
  a.orderlevel,
  t.place,
  a.formation
from t_formation t
left join a_level a
  on t.fkLevel = a.idLevel
where a.orderlevel = (select max(orderlevel)
                      from a_level a
                      inner join t_formation t1
                        on a.idlevel = t1.fklevel
                      where t.fkperson = t1.fkperson
                      group by t1.fkperson); 
```

请参阅[SQL Fiddle with Demo](http://sqlfiddle.com/?r44b=no#!2/d4583/17)。

作为旁注，您的示例数据似乎无法给出您要求的结果。最大值`orderLevel`为`fkPerson = 2`3 而不是 2，因此编队`University`不会`High School`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-27T15:48:47.887

为什么不使用

```
SELECT fkPerson, fkLevel,orderLevel, formation, place
FROM t_formation as a 
LEFT OUTER JOIN a_level as b ON a.fkLevel = b.idLevel
GROUP BY fkPerson HAVING orderLevel = max(orderLevel)
; 
```

?

# android - 如何更改 actionbarsherlock 选项卡颜色和选项卡下线条的颜色？

> ID：16187395
> 
> 赞同：2
> 
> 时间：2013-04-24T08:43:41.453
> 
> 标签：android, android-actionbar, actionbarsherlock, android-tabs

我的问题很容易理解。如何更改`ActionBarSherlock Tabs Color`选项卡下的颜色和线条？

在 AndroidManifest 中，在应用程序部分，我写道：

```
android:theme="@style/Theme.Sherlock" 
```

我想更改选项卡的颜色和选项卡下的线条。

我尝试了很多可以在 stackOverflow 中找到的方法，但它们不起作用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T08:54:27.873

您可以使用[它](http://jgilfelt.github.io/android-actionbarstylegenerator/)为您的 ActionBar 生成自定义样式。在那里你有一个强调色（标签下的线）和堆叠颜色（它描述了标签颜色）。生成`9 patch`文件，复制到您的`res`文件夹并将合适的样式复制到您的`styles.xml`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-04T18:33:35.113

您可以通过更改 Sherlock liberary 的 drawbles 来更改选项卡的颜色。在 Sherlock 的 drawable 文件夹中有一些 png 文件。要更改选项卡下线条的颜色，您应该编辑“abs__tab_selected_pressed_holo.9.png”和“abs__tab_selected_holo.9.png”。

要更改标签颜色，您应该更改“abs__ab_stacked_solid_light_holo.9.png”。

和另一个类似的文件。请注意，您也应该更改 drawable-mdpi 和 drawable-xhdpi 以及其他平台文件夹。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:55:43.613

In styles.xml use like this whatever color you need.

```
<style name="Theme.A" parent="Theme.Sherlock.Light">
  <item name="actionBarStyle">@style/Widget.MyTheme.ActionBar</item>
  <item name="android:titleTextStyle">@style/Widget.MyTheme.ActionBar.TitleTextStyle</item>
</style>

<style name="Widget.MyTheme.ActionBar" parent="Widget.Sherlock.ActionBar">
  <item name="android:background">@color/green</item>
  <item name="background">@color/green</item>
</style>

<style name="Widget.MyTheme.ActionBar.TitleTextStyle" parent="TextAppearance.Sherlock.Widget.ActionBar.Title">
  <item name="android:textColor">@android:color/white</item>
</style> 
```

Such a way you can use it.

# matlab - 如何在MATLAB中比较具有相同音频内容的不同比特率的音频文件

> ID：16187397
> 
> 赞同：1
> 
> 时间：2013-04-24T08:43:42.597
> 
> 标签：matlab, audio

（PS：-由于比特率不同，校验和显然会不同，并且由于各种 WEB 托管自定义，无法考虑名称和 ID3 标签）我尝试过匹配（在 MATLAB 中使用 MIR-TOOLBOX） /Spectrum /Flux /Envelope /Histogram /etc 但读数不同！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:12:15.847

这不是一个简单的问题——您将无法进行准确的比较。我的建议是您对较高比特率的版本进行下采样，然后进行比较。看看维基百科上的[下采样](http://en.wikipedia.org/wiki/Downsampling)并从那里开始。

# perl - 无法将文件读入 perl 模块测试？

> ID：16187404
> 
> 赞同：-2
> 
> 时间：2013-04-24T08:44:02.597
> 
> 标签：perl, testing, readfile

我有用于生成的 Perl 代码存储在两个单独的`.txt`文件中，我想在测试我的模块时执行这些文件，但我似乎无法将它们读入测试。

我试过使用内置的文件阅读器：`open FILE, 'file.txt'`，

`storable`:可存储文件`retrieve('file')`在哪里`file`

和`File::Slurp`：`read_file('file.txt')`。

这些都不能在测试文件（`.t`格式）中工作，但它们确实在`.pl`同一目录中的普通文件中工作我怎样才能让它在测试中工作？我会使用该`__DATA__`选项，但我有两个文件，它们已经是哈希格式，所以可以直接读取。

编辑：我的代码 -

```
use Data::Dumper;
use File::Slurp;

my $table1 = read_file('tab1.txt');
my $table2 = read_file('tab2.txt');
print Dumper($table1);
print Dumper($table2); 
```

我在测试文件中的输出：

```
$VAR1 = '';
$VAR1 = ''; 
```

和`test.pl`文件`$VAR1`中`$VAR2`的内容完全一样，正如我所期望的那样。

编辑2：

忘记文件中有散列，没关系，我尝试读取`test.txt`我用随机字符串制作的文件，结果如下：

```
$VAR1 = 'Testing commit - part 12'; 
```

这似乎表明它正在读取位于不同位置的文件，因此找不到我的文件。我尝试将目录包括在内，`lib`但没有奏效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:24:11.133

您正在尝试执行 Perl 代码。我猜代码不是模块（不使用`package`），所以你会使用[`do`](http://perldoc.perl.org/functions/do.html)而不是`use`/ `require`。

现在剩下的就是定位相对于脚本位置的文件了。为此，有[`$FindBin::RealBin`](http://search.cpan.org/perldoc?FindBin).

```
use FindBin qw( $RealBin );
use lib "$RealBin/..";

our $VAR1;
do("file.txt")
   or die "Error executing file.txt: $@";

... $VAR1 ... 
```

确保从您的文件中返回一个真值（`1;`例如，以 结尾）。

# c# - 在 asp SqlDataSource 中定义 ConnectionString

> ID：16187407
> 
> 赞同：5
> 
> 时间：2013-04-24T08:44:30.307
> 
> 标签：c#, asp.net

我有我在下面定义的数据库`<appSettings>`连接`web.comfig`：

```
<appSettings>
    <add key="ConnStr" 
         value="Data Source=dsk-159\SQLEXPRESS;Initial Catalog=master;Integrated Security=True"/>
</appSettings> 
```

但问题是我无法从我的 aspx 页面访问它，因为我正在尝试这样

```
<asp:SqlDataSource ID="SqlDataSource2" runat="server" 
     ConnectionString="<%$ ConnectionStrings:goldsConnectionString %>"
     SelectCommand="SELECT distinct TechnologyId , [TechnologyName], [ChildId] FROM [TreeTable] where childid is null AND technologyid in(@hid1)">
     <SelectParameters>
         <asp:ControlParameter ControlID="hid1" Name="hid1" DefaultValue="23" />
     </SelectParameters> 
```

代替`<connectionStrings>`我想定义它`<appSettings>`

请告诉正确的语法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T08:47:52.357

你知道你可以在后面的代码中设置连接字符串而不是内联，它更干净。

```
SqlDataSource2.ConnectionString = 
System.Configuration.ConfigurationManager.AppSettings["ConnStr"]; 
```

考虑阅读[ConfigurationManger.AppSettings](http://msdn.microsoft.com/en-us/library/system.configuration.configurationmanager.appsettings.aspx)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T09:15:17.173

您的 web.config 应该如下所示：

```
<appSettings>
<add key="ConnStr" value="Server=yourservername;Database=yourdatabasename;UID=yourusername;Password=youruserpassword"/>
</appSettings> 
```

您的 .aspx 文件应如下所示：

```
<asp:GridView ID="grd" runat="server" DataSourceID="SqlDataSource2">
</asp:GridView>
<asp:SqlDataSource ID="SqlDataSource2" runat="server" ConnectionString="<%$ appSettings:ConnStr %>" SelectCommand="SELECT * FROM ticketmaster"></asp:SqlDataSource> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T08:52:16.473

尝试将 aspx 部分更改为：

```
<asp:SqlDataSource ID="SqlDataSource2" runat="server" ConnectionString="<%$ ConnectionStrings:ConnStr %>" SelectCommand="SELECT distinct TechnologyId , [TechnologyName], [ChildId] FROM [TreeTable] where childid is null AND technologyid in(@hid1)">
<SelectParameters>
<asp:ControlParameter ControlID="hid1" Name="hid1" DefaultValue="23" />
</SelectParameters> 
```

我做了两件事：

1.  删除了标签。
2.  更改了连接字符串名称以匹配 web.config 中的名称
    (goldsConnectionString-->ConnStr)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T11:26:03.443

您可以在代码隐藏页面中设置连接字符串

```
SqlDataSource2.ConnectionString =
System.Configuration.ConfigurationManager.AppSttings["ConnStr"]; 
```

# php - 加载的类来自错误的目录

> ID：16187408
> 
> 赞同：2
> 
> 时间：2013-04-24T08:44:31.410
> 
> 标签：php, symfony, composer-php

我有一个非常奇怪的错误。

我在一台机器上有两个虚拟主机：登台和生产。

它们位于 /var/www/staging/ 和 /var/www/production/ 中。我通过 Capifony（capistrano 的 symfony2 扩展）部署我的 Symfony2 项目，因此 web 目录位于 /var/www/staging/current/web/

当我`echo __DIR__`在我的控制器中时，我得到

```
/var/www/production/releases/20130424075147/src/Acme/DemoBundle/Controller 
```

哪个是对的。但是，如果我现在从它的存储库中获取一个实体（例如）

```
$object = $this->getDoctrine()->getManager()->getRepository('AcmeDemoBundle:Object')->findOneById(1); 
```

并且做`echo $object->getUploadRootDir()`（来自[食谱](http://symfony.com/doc/current/cookbook/doctrine/file_uploads.html)），它使用`__DIR__`我突然得到

```
/var/www/staging/releases/20130424075333/src/Acme/DemoBundle/Entity/../../../../web/upload/ 
```

不知何故，当加载对象时，它切换到了暂存环境，而不是生产环境（两个不同的发布文件夹只是因为生产和暂存之间的版本不同）。

这是因为自动加载吗？虚拟主机中的配置错误？

下面是我的两个虚拟主机

```
<VirtualHost *:80>
    DocumentRoot "/var/www/production/current/web"
    ServerName  example.com
    ServerAlias www.example.com example.com
    SetEnv      SYMFONY_ENV prod
    SetEnv      SYMFONY_DEBUG 0

    <Directory /var/www/production/current/web>
        RewriteEngine On

        RewriteCond %{HTTP_HOST} !^www\.
        RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]

        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^(.*)$ app.php [QSA,L]
    </Directory>
</VirtualHost>

<VirtualHost *:80>
    DocumentRoot "/var/www/staging/current/web"
    ServerName  staging.example.com
    ServerAlias staging.example.com
    SetEnv      SYMFONY_ENV dev
    SetEnv      SYMFONY_DEBUG 1

    <Directory /var/www/staging/current/web>
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteRule ^(.*)$ app.php [QSA,L]
    </Directory>
</VirtualHost> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:09:06.947

问题是 APC。

在 app.php 我有

```
$loader = new ApcClassLoader('sf', $loader); 
```

这导致了 apc 操作码条目中的重叠问题（dixit 我们的系统管理员）。

修复很简单：

```
 $loader = new ApcClassLoader($_SERVER['HTTP_HOST'], $loader); 
```

# jakarta-ee - 如何找到 Java EE 应用程序中最常用的功能？

> ID：16187412
> 
> 赞同：0
> 
> 时间：2013-04-24T08:44:45.517
> 
> 标签：jakarta-ee, logging

跟踪 Java EE Web 应用程序中最常用的功能的最有效方法是什么？

基本上，我试图根据最终用户的使用情况找出要保留哪些功能以及要删除哪些功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:12:49.853

只需尝试搜索 Java EE FAQ 以获取常见问题。例如，也许这个博客可以帮助[http://javaandj2eefaqs.blogspot.co.il/](http://javaandj2eefaqs.blogspot.co.il/)

# javascript - 谷歌地图在移动浏览器中不起作用

> ID：16187413
> 
> 赞同：0
> 
> 时间：2013-04-24T08:44:47.480
> 
> 标签：javascript, google-maps, google-maps-api-3

我已按照[此处](https://stackoverflow.com/questions/11637755/google-map-api-in-wordpress-without-a-plugin)的说明进行操作，并在台式机上取得了不错的成绩，但在移动浏览器中，地图只是空白（在 Android、iOS 上进行了检查）。似乎该脚本未在移动设备上运行（浏览器中允许使用 JavaScript），因为生成的页面在 div#map_leads 中没有执行的代码。

[情况](http://cp310939.cpanel.tech-logol.ru/tsolutions/contact/)就是这样。

有人可以帮忙解决吗？

制作了一个更清晰的[页面](http://cp310939.cpanel.tech-logol.ru/tsolutions/111.php)，其中仅包含地图并且一切正常...将尝试在网站上找到错误的代码。

我发现地图不起作用的原因是以下javascript：

```
(function() {

function t(e) {
this.path=e;
var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];
this.at_2x_path=n+"@2x."+r
}

function n(e) {
this.el=e,this.path=new t(this.el.getAttribute("src"));
var n=this;
this.path.check_2x_variant(function(e){e&&n.swap()})
}

var e=typeof exports=="undefined"?window:exports;

e.RetinaImagePath=t,
t.confirmed_paths=[],
t.prototype.is_external=function(){
return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)
},
t.prototype.check_2x_variant=function(e){
var n,
r=this;

if(this.is_external())return e(!1);

if(this.at_2x_path in t.confirmed_paths)return e(!0);

n=new XMLHttpRequest,
n.open("HEAD",this.at_2x_path),
n.onreadystatechange=function(){
return n.readyState!=4?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(r.at_2x_path),
e(!0)):e(!1)},
n.send()
},

e.RetinaImage=n,
n.prototype.swap=function(e){
function n(){
t.el.complete?(
t.el.setAttribute("width",t.el.offsetWidth),
t.el.setAttribute("height",t.el.offsetHeight),
t.el.setAttribute("src",e)
):setTimeout(n,5)}
typeof e=="undefined"&&(e=this.path.at_2x_path);
var t=this;
n()},

e.devicePixelRatio>1&&(window.onload=function(){
var e=document.getElementsByTagName("img"),t=[],r,i;
for(r=0;r<e.length;r++)i=e[r],t.push(new n(i))})})(); 
```

我自己把它分成几行，因为它是按行写的。将尝试修复它 - 认为 img 元素有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T15:08:44.037

在发布的脚本末尾添加了地图功能，它工作正常。很抱歉浪费您的时间！

# redirect - 如何将我的 Tumblr 自定义域重定向到目录？

> ID：16187414
> 
> 赞同：0
> 
> 时间：2013-04-24T08:44:49.507
> 
> 标签：redirect, dns, tumblr

我在 Tumblr 上设置了一个自定义域。它工作正常。xxxxxx.tumblr.com 重定向到 xxxxxx.com。但我真的很希望 xxxxxx.com 重定向到 xxxxxx.com/tagged/xxxxxxx

一个有效的例子：

langleav.tumblr.com --> langleav.com --> langleav.com/tagged/popular

我有一个来自 Name 的域。

提前致谢

*   通常我会修改 htaccess 文件。但我不能在这种情况下使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T20:32:56.790

The redirect in your example is done client-side with JavaScript.

When you deactivate JS and visit `langleav.tumblr.com`, you get a server-side redirect to `langleav.com`.

When you activate JS and visit `langleav.tumblr.com`, you get a server-side redirect to `langleav.com` and then a client-side redirect to `langleav.com/tagged/popular`.

There are various ways to redirect client-side. See for example this question: [How can I make a redirect page in jQuery/JavaScript?](https://stackoverflow.com/q/503093/1591669)

# jquery - Jquery如何制作“导航窗口”（如photoshop）以定位屏幕的当前位置

> ID：16187415
> 
> 赞同：1
> 
> 时间：2013-04-24T08:44:51.490
> 
> 标签：jquery, position, screen, thumbnails, navigator

你们，当我们在 Photoshop 中处理图像时，我们通常会**放大（+）**它。此操作会使图像大小溢出您的物理屏幕大小。但是“**导航窗口**”可以帮助我们，它看起来像“**屏幕缩略图**”。该窗口中有一个小矩形（仅带有红色边框），用于定位屏幕尺寸的“**当前位置**”。

是否有任何 jquery 库可以做到这一点？我谷歌了一天（关键字**jquery thumbnail navigator windows**）但没有找到，整个结果返回与**"navigation, menu"**相关。

任何建议表示赞赏！谢谢！

# php - php sql_srv 检查数据库是否有行失败

> ID：16187421
> 
> 赞同：0
> 
> 时间：2013-04-24T08:45:06.023
> 
> 标签：php, sqlsrv

我是一名 Android 开发人员，对 php 几乎一无所知。我有一个使用 Google 推送通知并且运行良好的应用程序。我遇到的问题是，当同一部手机向谷歌注册时，来自谷歌的 regID 必须存储在我的数据库中。如果我将应用程序推到手机上说 4 次，那么我将在数据库中有 4 行指向一部手机。

我正在尝试检查数据库以查看给定 regID 是否存在记录。我正在尝试使用 sqlsrv_has_rows() 来执行此操作。如果记录存在与否，下面的代码会编译但不会插入记录。

任何人都可以看到问题是什么？

提前致谢，

马特

```
public function storeUser($companyid, $gcm_regid) {

    $strCompanyID = strval($companyid);
    $strRegID = strval($gcm_regid);

    $serverName = "LOCALHOST\SQLEXPRESS"; 
    $uid = "gcm";     
    $pwd = "gcm";    
    $databaseName = "gcm";   

    $connectionInfo = array(
        "UID" => $uid,
        "PWD" => $pwd,
        "Database" => $databaseName
    ); 

    $db = sqlsrv_connect($serverName, $connectionInfo)
              or die("Unable to connect to server");

    $query = "
        SELECT *
        FROM GcmUsers
        WHERE gcuRegID = " . $strRegID;
    $resultQueryRegID = sqlsrv_query($db, $query);

    if ($resultQueryRegID) {
        $rows = sqlsrv_has_rows($resultQueryRegID);

        if ($rows === true) {
            //echo "There are rows. <br />";
        } else { 
            // echo "There are no rows. <br />";
            $queryInsert = "
                INSERT INTO GcmUsers
                    (gcuCompanyID, gcuRegID)
                VALUES
                    ('$strCompanyID','$strRegID')
            ";
            $result = sqlsrv_query($db, $queryInsert);
        }
    }
} 
```

[编辑 1]

```
public

function storeUser($companyid, $gcm_regid) {

    $strCompanyID = strval($companyid);
    $strRegID = strval($gcm_regid);

    $serverName = "LOCALHOST\SQLEXPRESS";
    $uid = "gcm";
    $pwd = "gcm";
    $databaseName = "gcm";

    $connectionInfo = array("UID" => $uid, "PWD" => $pwd, "Database" => $databaseName);

    $db = sqlsrv_connect($serverName, $connectionInfo) or die("Unable to connect to server");

    $sql = "SELECT * FROM GcmUsers where gcuRegID = ?";

    // Initialize parameters and prepare the statement.
    // Variables $qty and $id are bound to the statement, $stmt.

    $stmt = sqlsrv_prepare($db, $sql, array(&$strRegID));
    if (!$stmt) {
        die(print_r(sqlsrv_errors(), true));
    }

    $result = sqlsrv_execute($stmt);

    $rows = sqlsrv_has_rows($result);

    if ($rows === true) {
        // echo "There are rows. <br />";
    } else {
        // echo "There are no rows. <br />";
        $queryInsert = "INSERT INTO GcmUsers ( gcuCompanyID, gcuRegID) values ('$strCompanyID','$strRegID')";
        $result = sqlsrv_query($db, $queryInsert);
    }
} 
```

[编辑2]

```
$sql = "SELECT * FROM GcmUsers where gcuRegID = ?";

                        // Initialize parameters and prepare the statement. 
                        // Variables $qty and $id are bound to the statement, $stmt.

                        $stmt = sqlsrv_prepare( $db, $sql, array( &$strRegID));
                        if( !$stmt ) {
                            die( print_r( sqlsrv_errors(), true));
                        }           

                        $result = sqlsrv_execute( $stmt );

                            if (sqlsrv_fetch_array($result, SQLSRV_FETCH_ASSOC)) {
                                // Got rows
                            }else{
                                // Not rows
                                 $queryInsert = "INSERT INTO GcmUsers ( gcuCompanyID, gcuRegID) values ('$strCompanyID','$strRegID')";
                                  $result = sqlsrv_query($db, $queryInsert);
                            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:23:53.553

**回答原始问题：**

PHP 和 SQL 是在不同平台上运行的不同语言。你基本上有这个：

```
$strRegID = strval($gcm_regid);
$query = "
    SELECT *
    FROM GcmUsers
    WHERE gcuRegID = " . $strRegID; 
```

这段 PHP 代码生成 SQL 代码，结果可能是这样的：

```
SELECT *
FROM GcmUsers
WHERE gcuRegID = ABCDEFG 
```

我假设您现在可以发现错误——如果没有，您至少应该学习一些基本的 SQL。

要修复您的代码，请查看[如何防止 PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)并开始使用准备好的语句。

最后，查看 PHP 手册中的使用示例，并确保您知道如何从 SQL Server 获取错误消息。否则，您将在黑暗中开枪。

* * *

**回答已编辑的问题**：

你的支票是这样的：

```
$rows = sqlsrv_has_rows($resultQueryRegID);
if ($rows === true) {
    //echo "There are rows. <br />";
} else { 
   // echo "There are no rows. <br />";
} 
```

但这并不是*手册*所说[的](http://es1.php.net/sqlsrv_has_rows)：

> `TRUE`如果指定的语句有行、`FALSE`语句没有行**或发生错误，则**返回。

这将您的代码转换为“如果没有以前的记录或者我们无法确定它，则插入新记录”。

对两个完全不同的结果使用相同的返回值可能是一个可以说是设计决策，但这就是函数的工作方式。我想当你得到`FALSE`你需要测试是否有错误。

或者，仅抓住行似乎是一种更直接的方法：

```
if (sqlsrv_fetch_array($stmt, SQLSRV_FETCH_ASSOC)) {
    // Got rows
}else{
    // Not rows
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T13:09:26.483

另一种方法可能是让数据库通过添加“where not exists”子句来检查插入语句 - 所以插入 sql 看起来像

```
INSERT INTO GcmUsers ( gcuCompanyID, gcuRegID) 
select ('strCompanyID','strRegID')
where not exists ( select * from GcmUsers where gcuRegID = 'strRegID' ) 
```

# php - 服务器迁移和/或 PHP 升级后的 PDO 查询错误

> ID：16187423
> 
> 赞同：4
> 
> 时间：2013-04-24T08:45:10.963
> 
> 标签：php, pdo

我有一个使用 PDO 运行的小应用程序，在服务器迁移和 PHP 升级之后，我现在收到以下错误

```
Warning: PDO::query(): SQLSTATE[HY000]: General error: mode must be an integer in var/www/xxxxxxxx 
```

它引用的行是

```
$statement = $this->_connection->Query("SELECT * FROM table WHERE SOMECOL = '$col' LIMIT 1", $this->_connection); 
```

我一直在谷歌周围寻找一段时间，似乎没有任何修复。我尝试使用设置默认提取模式，`$db->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_OBJ);`但错误没有改变。

感谢他们的帮助:)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T08:50:34.497

`$this->_connection`作为参数发送是错误的，并且 PDO 查询不期望

> PDOStatement PDO::query ( 字符串 $statement )
> 
> PDOStatement PDO::query ( 字符串 $statement , int $PDO::FETCH_COLUMN , int $colno )
> 
> PDOStatement PDO::query ( 字符串 $statement , int $PDO::FETCH_CLASS , 字符串 $classname , 数组 $ctorargs )
> 
> PDOStatement PDO::query ( 字符串 $statement , int $PDO::FETCH_INTO , object $object )

第二个参数（如果存在）必须是`int`

来源：[PHP 手册](http://php.net/manual/en/pdo.query.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:59:21.883

您的代码令人困惑的是您在执行查询时使用了非标准名称：

```
$this->_connection->Query 
```

我会写成：

```
$this->dbh->query 
```

这会让我立即认为 ->query 实际上是`PDO::query()`而不是包装类的一些自定义函数。

所以，在这种情况下，第二个参数`PDO::query()`应该是获取模式，因此添加连接本身（类型为`PDO`，而不是整数）是完全多余的，但我知道您受到 mysql 中使用的编码模式的影响和 mysqli 扩展驱动程序，现在被认为是过时/过时的。

# javascript - .indexOf() 在 IE8 中不起作用

> ID：16187428
> 
> 赞同：1
> 
> 时间：2013-04-24T08:45:20.657
> 
> 标签：javascript, jquery, internet-explorer-8

我为其中一个工作平台创建了这个小交互 - [http://jsfiddle.net/S79qp/427/](http://jsfiddle.net/S79qp/427/)

它在除 IE8 之外的所有浏览器中都能正常工作。当我运行控制台时，似乎是这部分有问题......

```
index = a.indexOf(current) + 1;
if (index < 0 ||  index >= l.length) {
    index = 0;
} 
```

有人可以向我展示一个 IE8 友好的替代方案，以便我可以使其与所需的版本兼容吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:51:04.110

当您查看 MDN 的[`Array.indexOf`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf#Compatibility)文章时，您会看到

> indexOf 是 ECMA-262 标准的最新补充；因此，它可能不会出现在所有浏览器中。您可以通过在脚本开头使用以下代码来解决此问题。这将允许您在仍然没有本机支持时使用 indexOf。该算法与 ECMA-262 第 5 版中指定的算法相匹配，假设 Object、TypeError、Number、Math.floor、Math.abs 和 Math.max 具有其原始值。

```
if (!Array.prototype.indexOf) {
    Array.prototype.indexOf = function (searchElement /*, fromIndex */ ) {
        "use strict";
        if (this == null) {
            throw new TypeError();
        }
        var t = Object(this);
        var len = t.length >>> 0;
        if (len === 0) {
            return -1;
        }
        var n = 0;
        if (arguments.length > 1) {
            n = Number(arguments[1]);
            if (n != n) { // shortcut for verifying if it's NaN
                n = 0;
            } else if (n != 0 && n != Infinity && n != -Infinity) {
                n = (n > 0 || -1) * Math.floor(Math.abs(n));
            }
        }
        if (n >= len) {
            return -1;
        }
        var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);
        for (; k < len; k++) {
            if (k in t && t[k] === searchElement) {
                return k;
            }
        }
        return -1;
    }
} 
```

# ajax - JSF 获取当前页面

> ID：16187431
> 
> 赞同：2
> 
> 时间：2013-04-24T08:45:33.043
> 
> 标签：ajax, jsf, jsf-2, if-statement, primefaces

我想根据当前显示的页面使用 ajax 标记。我正在使用 JSF 2 和 Primeface 3.5

> if (currentPage = pageOne.xhtml){ 做一些事情 } else { 做一些不同的事情 }

我的来源是这样的：

```
<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:m="http://java.sun.com/jsf/composite/components/mmnet"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:form id="customerSearchForm">
....
...

<c:if test=" ">
<p:ajax event="rowSelect" oncomplete="initInfoPage();"/>
</c:if>

....
... 
```

里面的正确表达是什么？

> 测试= ...

有没有办法获取当前显示的页面？

问候 LStrike

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T11:45:16.047

您可以通过 获取当前视图的 ID `#{view.viewID}`。这基本上是模板客户端文件的物理路径，相对于 webcontent 根目录。

因此，只要它`pageOne.xhtml`直接位于 web 内容的根目录中，就应该这样做。

```
<c:if test="#{view.viewId == '/pageOne.xhtml'}"> 
```

请注意，它以斜杠开头，并且不包含 JSF 映射（如果有）。

# python - 实现以相等概率返回“Heads”或“Tails”的函数

> ID：16187435
> 
> 赞同：-7
> 
> 时间：2013-04-24T08:45:44.747
> 
> 标签：python

实现以相等概率返回“Heads”或“Tails”的函数。我正在考虑只为这个使用常规的 random.randrange 模块，但我不确定使用实际单词如何工作。或者如果这甚至是正确的，因为问题指定它们具有相等的概率。

谢谢，非常感谢所有帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T08:48:52.073

您可以`random.randrange`在这里安全使用。if 语句足以在两种情况之间切换。

```
import random

def coin_toss():
  if random.randrange(2):
    return 'Heads'
  else:
    return 'Tails' 
```

当然，它更容易使用`random.choice`：

```
def coin_toss():
  return random.choice(['Heads', 'Tails']) 
```

# java - 将文件上传到多个位置

> ID：16187436
> 
> 赞同：0
> 
> 时间：2013-04-24T08:45:46.287
> 
> 标签：java, jsp, servlets

我们可以映射 web.xml 以将文件上传到多个位置。我可以将文件上传到单个位置，但我正在尝试多个位置。例如

```
<context-param>
    <description>Location to store  uploaded file</description>
       <param-name>file-upload</param-name>
       <param-value>
           C:\sample\pdf\
       </param-value>
</context-param> 
```

# c# - MVC 构建 - 根据构建配置编辑 connectionString 文件（VS2012）

> ID：16187438
> 
> 赞同：2
> 
> 时间：2013-04-24T08:45:55.917
> 
> 标签：c#, asp.net-mvc, model-view-controller, visual-studio-2012, connection-string

当我将 MVC 站点部署到我们的测试服务器时，它将连接到不同的数据库，因此需要不同的**连接字符串**。

通常这可以使用*Web.config*的转换进行更改，但不幸的是，我使用的是 NopCommerce 解决方案，其中连接字符串在文本文件中确定：**App_Data/Settings.txt**

那么，是否有人对如何*根据构建配置（例如“Debug”或“TeamCityDebug”）更改此 Settings.txt 文件的一行有任何想法？*

我考虑过构建事件（见下文），但它们发生在所有构建配置中，而不仅仅是“调试”，例如：

![在此处输入图像描述](https://i.stack.imgur.com/4RCTz.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T10:32:51.660

感谢您的建议，但我最终创建了多个`"<something>settings.txt"`文件，然后使用简单的构建后事件（命令行操作）将所需的文件复制到正确的目录中，并使用所需的`"Settings.txt"`. 应用程序拾取这些文件并使用其中的连接字符串。

我在构建后事件中添加了以下内容：

```
if $(ConfigurationName) == TeamCityDebug copy /Y "$(ProjectDir)App_Data\TeamCitySettings.txt" 
                                                 "$(ProjectDir)App_Data\Settings.txt"

if $(ConfigurationName) == Release copy /Y "$(ProjectDir)App_Data\LocalSettings.txt"  
                                           "$(ProjectDir)\App_Data\Settings.txt" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:55:08.080

You can write a console application to process your Setting.txt invoke your console application in your pre-build event

> replace.exe "servera" "serverb" "....\Settings.txt" --for example

in your console application code

```
static void Main(string[] args)
{
    FileStream fs = new FileStream(args[3],FileMode.OpenOrCreate);
    StreamReader sr = new StreamReader(fs);
    StreamWriter sw = new StreamWriter(fs);
    string content = sr.ReadToEnd();            
    content = content.Replace(args[0], args[1]);
    fs.Position = 0;
    sw.Write(content);            
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T10:01:10.397

您可以使用：

```
#if DEBUG
    //Load connection from debug file
#else
    //Load connection from release file
#endif 
```

不确定您是否可以使用像 TeamCityDebug 这样的自定义构建配置，但您可以试一试...

# php - INSERT INTO 和 VALUES 不起作用

> ID：16187439
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:45:56.883
> 
> 标签：php, mysql, insert

```
$sql = ("INSERT INTO `Lcode` (lid, sid)
VALUES (".$a.", ".$b.")"
); 
```

上面的**lid=varchar 和 $a=vib**（在这种情况下） 上面的**sid=int 和 $b=3**（同样在这种情况下）

但它似乎没有将其插入数据库？

我检查了我与服务器的**连接**，没问题。

我可以用这样的代码更新：

```
$sql = ("INSERT INTO Lcode SET lid='".$b."'"); 
```

和一个类似的更新。

我真的希望你能帮我解决这个问题。

**更多信息**

```
$a = strtolower ( $resa['lid'] );
$b = strtolower ( $resb ); 
```

$resa['lid'] = 我从 mysql 服务器获得的一个变量:: 当尝试回显 $a 时它会正确返回

$resb 是我使用 $_GET :: 对 url 进行的调用，它也可以正确返回。

我在解决这个问题时遇到了一些麻烦，需要你的帮助......

感谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:48:27.490

要直接回答您的问题，您需要`lid`用单引号将值括起来，因为它是字符串文字。

```
$a = strtolower($resa['lid']);
$b = strtolower($resb);
$sql = "INSERT INTO Lcode (lid, sid) VALUES ('$a', $b)"; 
```

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:31:21.043

首先是缺少单引号，像这样：

```
$sql = "INSERT INTO `tbl_name` (`field1`, `field2`) VALUES ('$a','$b')"; 
```

在将整个查询发送到服务器之前尝试回显整个查询。还可以使用来自 sql server 的错误信息来解决此问题，例如使用 mysqli：

```
echo "Error message: %s\n" . mysqli_error(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:48:54.383

您忘记引用您的字符串值。这个：

```
$sql = ("INSERT INTO `Lcode` (lid, sid)
VALUES (".$a.", ".$b.")"
); 
```

应该：

```
$sql = ("INSERT INTO `Lcode` (lid, sid)
VALUES ('".$a."', '".$b."')"
); 
```

要找出这类问题，在执行之前打印出整个查询非常有用，它应该为您提供有关可能的语法错误的线索。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T09:05:31.273

像这样尝试更容易，

```
INSERT INTO `table_name` SET `lid` = $somevalue, `sid` = $somevalue2 
```

# iphone - 提高 Tesseract 中 GetUTF8Text 功能的速度

> ID：16187441
> 
> 赞同：4
> 
> 时间：2013-04-24T08:46:02.077
> 
> 标签：iphone, objective-c, image-processing, ocr, tesseract

完成我的 OCR 应用程序中的功能大约需要 20 秒。`GetUTF8Text()`我使用的是灰度图像。我尝试减小图像大小，但处理速度和准确性降低了。非常感谢任何有助于提高速度的帮助！

# jquery - 更改标签内的文本时出错

> ID：16187443
> 
> 赞同：0
> 
> 时间：2013-04-24T08:46:10.080
> 
> 标签：jquery, jquery-ui

当我尝试更改标签内的文本时，我收到一条错误消息，例如 `Unexpected call to method or property access.`

使用的代码：

```
$("#lableText").text('12') 
```

或者

```
$("#lableText").text(numberOfPages) 
```

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:51:57.493

似乎工作正常，也许 $ 被另一个图书馆劫持了？做什么`jQuery("#lableText").text('12')`？

# javascript - 移除焦点轮廓 TideSDK

> ID：16187448
> 
> 赞同：0
> 
> 时间：2013-04-24T08:46:34.840
> 
> 标签：javascript, html, css, tidesdk

当我在我的 TideSDK 应用程序中按下一个按钮时，我得到一个难看的焦点轮廓。有没有办法禁用/删除它？我尝试将大纲设置为无，但它似乎没有做任何事情。

```
:focus, :active {
    outline: none;
    border: 0;
} 
```

这是有问题的大纲的图片：

![丑陋的轮廓](https://i.stack.imgur.com/SkCwE.png)

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T12:45:08.460

如果要从所有链接中删除它：

```
a {
   outline: 0;
} 
```

更深入的解释在这里：[http ://css-tricks.com/removing-the-dotted-outline/](http://css-tricks.com/removing-the-dotted-outline/)

# ruby - Process.spawn 挂起

> ID：16187451
> 
> 赞同：3
> 
> 时间：2013-04-24T08:46:53.330
> 
> 标签：ruby, process, celluloid

我正在使用[赛璐珞](https://github.com/celluloid/celluloid)创建作业处理服务器。我有一个工作人员[池](https://github.com/celluloid/celluloid/wiki/Pools)，它们从 beanstalkd 队列中获取任务，并通过`Process.spawn`调用执行大量工作的 PHP 脚本来处理它。

这是我执行 PHP 命令的方式：

```
rout, wout = ::IO.pipe
pid = Process.spawn(cmd, :err=> :out, :out => wout)
_, exit_status = Process.wait2(pid)
wout.close
output = rout.readlines.join("\n") 
```

这在大多数情况下都有效。我已经完成了数百个工作的测试，一切都处理得很好。但是当我将它投入生产时，*一些*PHP 命令会无限期地挂起。

如果我杀死挂起的进程并查看 PHP 命令写入的日志文件，最后一条日志消息是任意数量的看似随机的不显眼的事件（也就是说，我无法辨别进程在挂起之前的进度） .

用于处理作业的 PHP 脚本已在生产中使用了几个月，但在 cron 上执行。所以唯一改变的是它们是从这个新的作业处理器执行的。

我是以错误的方式接近这个吗？Ruby 是否以某种方式暂停/休眠进程或类似的东西——我没有正确读取输出并且阻止它吗？

**- - 编辑 - -**

我切换到使用反引号运算符来执行命令（阻塞并不重要，因为赛璐珞演员是异步的）：

```
output = `#{cmd}`
pid = $?.pid
exit_status = $?.exitstatus 
```

到目前为止，这没有问题。使用反引号有何不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T12:10:23.377

我认为这与 Ruby 启动子进程并随后与它们交互的方式有关。

我自己对它的了解并不多，但是我发现[这](https://stackoverflow.com/a/7263556/1844583)对于理解产生子进程的不同方式以及何时使用它们非常有用。

使用赛璐珞有点远，我认为这与您遇到的问题无关。

# java - Objects.hashCode() 和 new Object().hashCode() 之间的区别？

> ID：16187453
> 
> 赞同：3
> 
> 时间：2013-04-24T08:46:57.420
> 
> 标签：java, java-7, hashcode

这两个代码片段有什么区别？

片段1：

```
Object o = new Object();
int i = Objects.hashCode(o); 
```

片段 2：

```
Object o = new Object();
int i = o.hashCode(); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-24T08:49:12.357

# 容忍空值

唯一的区别是，如果 o 为 null，则`Objects.hashCode(o)`返回 0 而`o.hashCode()`抛出 a `NullPointerException`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T08:50:31.927

这是如何[`Objects.hashCode()`](http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hashCode%28java.lang.Object%29)实现的：

```
public static int hashCode(Object o) {
    return o != null ? o.hashCode() : 0;
} 
```

如果`o`是`null`则将`Objects.hashCode(o);`返回`0`，而`o.hashCode()`将抛出一个`NullPointerException`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T08:51:20.883

```
java.util.Objects {
    public static int hashCode(Object o) {
        return o != null ? o.hashCode() : 0;
    }
} 
```

这是 o.hashCode() 的 NPE 安全替代方案。

其他没有区别。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T08:51:36.420

```
Object o = new Object();
int i = Objects.hashCode(o); 
```

它返回非空参数的哈希码，空参数返回 0。这种情况是`Object`由`o`.It 引用的。它不会抛出`NullPointerException`。

```
Object o = new Object();
int i = o.hashCode(); 
```

`Object`返回所引用的 hashCode() `o`。如果`o`是`null`，那么您将获得一个`NullPointerException`.

# javascript - Jquery 在离开函数之前等待动画完成

> ID：16187454
> 
> 赞同：1
> 
> 时间：2013-04-24T08:46:57.523
> 
> 标签：javascript, jquery

我在函数中有一个动画。我如何编写代码以使动画在离开函数之前首先完成？

考虑下面的代码：

```
ShowBanner.prototype.basicRotate = function (pos, callback) {
    var self = this;
    self.animation = true;

    this.bigbannerScroll.animate({
        left: pos
    }, this.settings.rotateSpeed, function () {
        self.animation = false;
        if (callback) callback();
        console.log('animation done');
        return false;
    });

    console.log('function done');
} 
```

根据代码，在.`console.log('function done')`之前首先调用`console.log('animation done')`. 有没有办法先调用第一个日志，说明动画在离开函数之前已经完成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:54:07.670

`animate`是异步的，所以我认为没有办法让它在动画发生时暂停。最好的办法是坚持使用该`complete`回调函数。

另一种选择是设置超时（使用`setTimeout`）来定义另一个函数在指定的时间后运行。但是，我看不到这样做的好处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:54:18.213

不，因为 animate 是一个异步函数，它会启动动画然后返回。

如果你需要在动画完成后做一些事情，那么你需要使用完成回调。

# timeout - Worklight：超时不会注销用户

> ID：16187459
> 
> 赞同：1
> 
> 时间：2013-04-24T08:47:08.553
> 
> 标签：timeout, ibm-mobilefirst

我在我的应用程序中指定了以下设置，但应用程序没有超时？

```
timeout: 60000 ,
heartBeatIntervalInSecs: 5 * 60 
```

我已经修改了我的代码，并在连接断开时尝试重新加载应用程序。它要求用户重新加载或关闭应用程序。但是这两个功能都不能正常工作。该事件被正确触发，但指定的库函数在此处未按预期工作。关闭功能只是将 App 带到后台并杀死 App 进程。

```
onConnectionFailure: function (){ 
    WL.SimpleDialog.show("Communication Failure", "An unexpected server connection error has occurred. Please try again later.", 
    [{text : 'Reload',  handler : function () {   WL.Client.init(wlInitOptions); }} ,       {text : 'Close',handler : function () {  WL.App.close(); }  } ,     ]);     } 
```

还有什么我必须设置的吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T18:10:39.210

如果需要超时，请尝试将以下内容添加到初始化选项 obj 中：

```
{ 
 Timeout: 60000,
 heartBeatIntervalInSecs: 5 * 60,
 connectOnStartup : true,
 onConnectionFailure : function () { 
      alert('failed');
   }
} 
```

如果在`60000`ms 之后没有连接到 Worklight Server，您应该会收到`failed`警报。

文档在[这里](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m6/index.jsp?topic=%2Fcom.ibm.worklight.help.doc%2Fapiref%2Fr_wl_client_init.html)。另请注意，超时不仅仅适用于该初始化调用。请参阅以下内容：

> 一个整数值，以毫秒为单位表示超时。超时影响从应用程序到 IBM® Worklight® Server 的所有调用。如果未指定，则使用 30,000 毫秒（30 秒）的超时。

但是，这**不会**注销用户。我假设您需要在服务器上设置一些会话过期数据以在一定时间后注销用户。您可能需要查看[WL.Client.logout](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m6/topic/com.ibm.worklight.help.doc/apiref/r_wl_client_logout.html)。

# c# - 如何合并两个字典

> ID：16187461
> 
> 赞同：4
> 
> 时间：2013-04-24T08:47:10.737
> 
> 标签：c#, linq, collections, dictionary, merge

我必须汇总两个字典。

代码：

```
private Dictionary <int, aor.PhysicalObject> agents;
private Dictionary <int, aor.PhysicalObject> objects;

agents = (from a in log
                   .InitialState
                   .Agents
                   .Agent 
         select a)
         .ToDictionary(d => Convert.ToInt32(d.id)
                       , d => d as aor.PhysicalObject);

objects = (from o in log
                     .InitialState
                     .Objects
                     .Object 
           select o)
           .ToDictionary(d => Convert.ToInt32(d.id)
                         , d => d as aor.PhysicalObject); 
```

我现在想要的是一本包含代理和对象字典所有元素的字典。

您可能认为重复键可能有问题，但每个键（id）都是唯一的，所以不会有问题。

如果这项任务只能通过一个 LINQ 查询来完成，那就太酷了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:48:38.210

如果键是唯一的，您可以按如下方式组合两个字典：

//代码

```
private Dictionary <int, aor.PhysicalObject> merger;

merger = Enumerable
         .Concat(  from a in log
                             .InitialState
                             .Agents
                             .Agent
                    select a
                 ,  from o in log
                              .InitialState
                              .Objects
                              .Object  
                     select o
                ).ToDictionary(d => Convert.ToInt32(d.id)
                                ,  d => d as aor.PhysicalObject); 
```

# sql-server - 根据选择语句在数据库中获取值

> ID：16187462
> 
> 赞同：0
> 
> 时间：2013-04-24T08:47:12.713
> 
> 标签：sql-server, select

对不起我的问题标题，我找不到更好的名字。

这是我的桌子：

```
Project_ID   ParentProject   Projecttype
----------------------------------------
20.003       20.001          P
20.001       20              P
20           NULL            V
21.001       21              P
21           NULL            V 
```

我想用它的“上父项目”来选择我所有的项目。`Projecttype = 'P'`我想用`ParentProject`with搜索所有项目`Projecttype = 'V'`。所以这必须是我的结果：

```
Project_ID   ParentProject
--------------------------
20.003       20        
20.001       20                
21.001       21 
```

这可能在`SELECT`声明中还是有其他方法可以执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:04:32.723

尝试这个：

```
 select *,row_number() over (order by (select 0)) as rn  into tbl1 from table1

Declare @mn int,@mx int
Declare @mn1 int,@mx1 int
Declare @prjid float,@prntid varchar(10)
DECLARE @result TABLE(prjID float,prentID varchar(10))

select @mn=MIN(rn),@mx=MAX(rn) from tbl1

WHILE(@mn<=@mx)
BEGIN
select @prjid=Project_id,@prntid=ParentProject from tbl1 where rn=@mn and ProjectType='P'
select @mn1=MIN(rn),@mx1=MAX(rn) from tbl1

WHILE(@mn1<=@mx1)
BEGIN
select @prntid=CASE WHEN ParentProject IS NOT NULL then ParentProject else @prntid end from tbl1 where Project_id=@prntid and rn = @mn1
SET @mn1=@mn1+1
END

INSERT INTO @result 
values(@prjid,@prntid) 

SET @mn=@mn+1
END
select distinct * from @result 
```

# excel - Excel - 工作表宏之间的基本复制粘贴

> ID：16187464
> 
> 赞同：0
> 
> 时间：2013-04-24T08:47:16.270
> 
> 标签：excel, vba

我需要对第一部分（用户名）更改的两张表中的数据进行基本合并，但第二部分是 120 个项目的预设列表。即，结合：

```
sheet1:USERLIST
albert
benny
cedric
dorothy
.... 
```

和

```
sheet2:ITEMLIST
item1
item2
item3
....
item120 
```

所以另一张纸上的最终输出（在单独的单元格中）是

```
sheet3
albert item1
albert item2
....
albert item120
benny item1
benny item2
....
benny item120
cedric item1
cedric item2
....
cedric item120 
```

等等。我知道这是一个非常基本的问题，但到目前为止我还没有找到答案。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T09:01:02.270

这可以简单地在两个层次上完成`For...Next`。

假设你有：

*   [表 1]：

```
 USER_LIST
    A
    B
    C 
```

*   [表 2]：

```
 ITEM_LIST
    1
    2
    3
    4
    5 
```

*   [表 3]：

```
 RESULT_LIST 
```

有了这个子：

```
Private Sub Whatever_name_you_like()
    Dim i As Integer
    Dim j As Integer
    For i = 2 To Worksheets(1).Range("A65535").End(xlUp).Row
        For j = 2 To Worksheets(2).Range("A65535").End(xlUp).Row
            Worksheets(3).Cells(Range("A65535").End(xlUp).Row + 1, 1).Value = Worksheets(1).Cells(i, 1).Value & Worksheets(2).Cells(j, 1).Value
        Next
    Next
End Sub 
```

运行时，[Sheet3] 将导致：

```
RESULT_LIST
A1
A2
A3
A4
A5
B1
B2
B3
B4
B5
C1
C2
C3
C4
C5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:21:49.150

你能不能只用目标范围内的公式来做到这一点：

```
=Sheet1!A:A&Sheet2!A:A 
```

只需将该公式复制到所有目标单元格中​​即可。

这避免了使用 VBA 和循环，并利用 Excel 的内置功能，因此无需启动 VBA 代码

# java - 在所有项目中运行所有测试类

> ID：16187467
> 
> 赞同：2
> 
> 时间：2013-04-24T08:47:29.493
> 
> 标签：java, eclipse, unit-testing, testing, junit

我有以下项目设置：

![在此处输入图像描述](https://i.stack.imgur.com/jolty.gif)

该应用程序由几个项目组成，每个项目都有一个测试包。这些测试包包含这个特定项目的测试类，以及`TestAll class`运行这个包中所有测试的测试类。TestAll 类如下所示：

```
@RunWith(Suite.class)
@Suite.SuiteClasses( {
    TestClass1.class,
    TestClass2.class,
    TestClassX.class

} )
public class TestAll {} 
```

是否可以`TestAll classes`一次在所有项目中运行所有这些？现在我手动运行每个`TestAll class`非常耗时。最好我希望将结果保存在某个地方，但这是后来的问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T11:10:09.790

通过此处给出的提示解决了这个问题：[在 Eclipse 中方便地从多个项目中运行 Junit-Tests](https://stackoverflow.com/questions/1137479/run-junit-tests-from-several-projects-conveniently-fast-in-eclipse)

我所做的是创建一个新项目，`TestAllProjects`并将所有包含我的测试的项目添加到 build path -> project

完成后，我`TestAllClass`在这个项目中创建了一个：

```
import path.to.package.containg.test.for.project1.testAll.*;
import path.to.package.containg.test.for.project2.testAll.*;
import path.to.package.containg.test.for.projectX.testAll.*;

@RunWith(Suite.class)
@Suite.SuiteClasses( {
    TestAllProject1.class, //Refrence to a TestAll class
    TestAllProject2.class, //Refrence to a TestAll class
    TestAllProjectX.class  //Refrence to a TestAll class

} )

public class TestAllProjects {} 
```

现在，当我运行它时，它将运行我在每个项目中创建的所有 TestAll 类，从而导致所有测试类都在运行

# .net - 忽略 git commit 的某些更改

> ID：16187468
> 
> 赞同：3
> 
> 时间：2013-04-24T08:47:35.073
> 
> 标签：.net, visual-studio, git, version-control, gitignore

我们团队的成员使用不同版本的 Visual Studio，VS 似乎会自动更新 sln 文件，代码如下：

```
Microsoft Visual Studio Solution File, Format Version 11.00
# Visual C# Express 2010 
```

或者

```
Microsoft Visual Studio Solution File, Format Version 12.00
# Visual Studio 2012 
```

每当我们使用解决方案时。我们可以将 git 配置为忽略此类更改吗？我们对这一行不感兴趣，但我们对 .sln 文件的其他更改感兴趣，例如在解决方案中添加新的 csproj。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:35:27.913

在本地，您可以简单地更新 git index 以忽略某些文件中的更改，如下所示：

```
git update-index --assume-unchanged SolutionFile.sln 
```

您的任何开发人员都可以做同样的事情。`.gitignore`如果您不想将其保留在源代码管理下，另一种解决方案是将文件添加到其中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-05T17:32:56.250

您可以向 git 添加一个涂抹/清洁过滤器，该过滤器调用一个脚本来调整特定行以在提交时保持一致。在“ [git 可以自动在空格和制表符之间切换吗？](https://stackoverflow.com/questions/2316677/can-git-automatically-switch-between-spaces-and-tabs/2316728) ”中，它展示了如何实现类似的更改，其中空格在结帐时转换为制表符，并在提交时返回空格。

您可能需要编写脚本来识别和修改相关行，而链接的示例使用预先存在的 unix 命令在制表符和空格之间进行交换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:04:47.040

不能部分忽略文件。一个简单的解决方案是创建 .sln 文件的两个版本，并告诉团队打开与他们的版本相对应的一个。

另一种解决方案是提交后挂钩，如果这些行被更改，它会拒绝提交。需要一些脚本，但它是可行的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T17:21:09.253

我会忽略这些`.sln`文件，因为它们与构建项目无关：微软前段时间意识到项目文件必须是可版本化的，并且 novadays Studio 完成的所有构建都是由引擎执行`msbuild`的) XML 文件并使用它们来构建项目。这些文件实际上是构建项目所需的一切，而解决方案文件仅包含各种簿记信息。`.proj``.<whatever>proj``.csproj``.vbproj`

# java - 如何在 Java 中正确建模战舰游戏

> ID：16187469
> 
> 赞同：3
> 
> 时间：2013-04-24T08:47:36.517
> 
> 标签：java, swing, oop

我正在尝试为我的团队在大学里做的一个“游戏”项目创建一个战舰游戏。我以前从未真正使用过 GUI，以前几乎所有的输出都在 Eclipse 控制台中。

首先，我创建了一个 GUI 类，它实际上是我的“跑步者”类。它加载了一个 JFrame。
我有第二个类，GUIGrid，它为将要显示的两个游戏板设置一个维度，并使用嵌套的 for 循环从 GUICells 创建网格。
这包含侦听器等来检测鼠标在做什么并存储每个单元格的 x 和 y 坐标。我已经运行了一小段测试代码，因此我可以单击任一网格上的任何位置，然后弹出窗口会告诉我该单元格的确切坐标。

除了这些类之外，我还有一个 Ship 类，它有五个船类型的子类和一个 Player 类，它存储玩家的名字并创建一个 Ship 对象数组供他们使用。

最后，我有我的逻辑课。我有一个 GridLogic 类和一个 CellLogic 类。前者使用嵌套的 for 循环来创建 CellLogic 对象的二维数组。然后 CellLogic 类存储坐标和有关单元是否受到攻击的信息。

我的问题（最后！）是 - 这是对系统建模的正确方法吗？当我查看 CellLogic 和 CellGUI 类时，它们似乎有相当相似的东西。此外，虽然我可以让 GUI 响应鼠标点击，但我真的很难将 GUI 连接到 Logic。例如，我不知道如何将船只添加到网格上，然后将哪些位置存储船只存储在 2D 数组中。在没有发布大量代码的情况下，我希望有人能够告诉我我是否至少在正确的轨道上，或者我是否已经将系统分离得太多。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T09:03:09.457

虽然我认为这种分离听起来不错，但可以说得更清楚。使用 MVC 模式，您可以清楚地定义模型（船舶和网格）、控制器（您的逻辑）和视图（绘制网格的 jframe）。

现在基本上，模型什么都不知道，控制器知道视图和模型，视图知道如何绘制模型并调用控制器作为对用户输入的反应。那就是：用户点击，视图只是调用一个带有坐标和发生事件的控制器。该控制器现在修改网格并发出重绘。

因此，在我的 pov 中，您可能不需要 cellGUI 类，只需要一个绘制所有内容的视图（不过，如果您将 x,y 存储在 cellgui 类中，您可以像这样对其进行建模......）。但是你不需要一个 celllogic 类。您需要一个“更高”的控制器，它知道如何修改**整个**网格以及会发生什么，如果已经存在等等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:55:26.363

The tendency of over-using sub-classing is very common to university projects. Subclassing is a thing which mostly is avoided today. In your example there won't be a real benefit of using sub-classes for ship types. A better design would be to just use a `Ship` class which has an enum `ShipType`. This will also make the evaluation easier later.

To answer your comment: Well your approach misses some kind of `GridModel` which contains the 2D grid and the Player objects (all game data). This `GridModel` is known in `GridGUI` and `GridLogic`. The `GridLogic` modifies the `GridModel` and tells the `GridGui` to repaint the changed model. The `GridGUI` doesn't modify the model it just informs the `GridLogic` that a click at the grid-coordinate x, y happened. Then it's on the logic to modify the model and let the GUI refresh itself. See the [Model-View-Controller-Pattern](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) for more details.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T09:04:45.770

我想你不会在这里得到一个答案，但这是我的看法。显然是MVC。特别是我会保留主 GUI 一类（JFrame、菜单等）。将董事会保留在另一个。它会使用 Cells & Ships 来绘制自己。单元格将包含信息（它们的 x,y，哪艘船在上面以及是否被轰炸），船类将有它的类型，从 x,y 到 x,y，要渲染的图像。然后你可以得到一个部分透明的炸弹图像，这样可以在它下面看到船。

棋盘会画出方格、船只，最后在它们上面投掷炸弹。

代替弹出窗口，有助于有一个调试框架，您可以在其中显示（在标签上）一些关键信息；除了运行日志

在模型的一些帮助下，控制器将是 BattleShip 类：细胞和船只。保持沟通，谁玩，在哪里等分开->通过界面与董事会对话，以便可以将其更改为具有新视图的网络。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T09:06:24.060

带有监听器等的模型-视图-控制器。如果您查看 JavaFX（打算跟进 Java Swing），它具有更简单的“内置”更改侦听器。还有一些漂亮的样式和动画效果，无需太多编程。

其余的似乎都很好。退一步继承。您可以实现一个特征查找/发现模型：

```
public interface FlightCapable { }
public class X {
    public T lookup(Class<T> intface) { }
}
FlightCapable fc = x.lookup(FlightCapable.class);
if (fc != null)
    fc.fly();  // Instead of x.fly(); 
```

这高度解耦。

# sql - SQL 正则表达式仅替换整个短语

> ID：16187471
> 
> 赞同：1
> 
> 时间：2013-04-24T08:47:40.553
> 
> 标签：sql, regex, sql-server-2008-r2, replace

```
@text = 'First +Last /(toto salary *0.07)' 
```

什么是在运算符之间替换“仅整个短语”的 SQL 查询

我是说 ：

```
 replace(@text , 'toto salary','bobo salary')
  result : 'First +Last /(bobo salary *0.07)' 
```

但当 ：

```
replace(@text , 'toto','') 
NO result because not match whole phrase ('toto salary') 
```

换句话说，替换'* + / - ()'运算符之间的短语

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:37:05.997

以下可以工作：

```
select regexp_replace( 'First +Last /(toto salary *0.07)' , '(/\()toto salary( [*][0-9]+[.]?[0-9]*\))','\1bobo salary\2') from dual; 
```

诀窍是在要保留的强制部分周围加上括号，在这种情况下是 the`/(`和 the `*0.07)`，然后通过在替换表达式中添加`\1`等来包含这些部分。`\2`

# windows-phone-7 - 应用程序关闭时提示用户

> ID：16187475
> 
> 赞同：0
> 
> 时间：2013-04-24T08:47:45.810
> 
> 标签：windows-phone-7, windows-phone-8, webbrowser-control

我正在为 windows phone 平台制作一个网络浏览器，并且我正在使用后退按钮作为浏览器的导航后退键。但是，windows phone 需要返回按钮来关闭应用程序或通过提示用户关闭它。我自己正在尝试这个，虽然我不能让它一起工作。这是我的代码

```
 if (webTab1.Margin == new Thickness())
 {
    try
    {
        webTab1.InvokeScript("eval", "history.go(-1)");
        e.Cancel = true;
    }
    catch
    {
        MessageBoxResult mb = MessageBox.Show("You want exit the page", "Alert", MessageBoxButton.OKCancel);
        if (mb != MessageBoxResult.OK)
        {
            e.Cancel = true;
        }
    }
 } 
```

我需要它，所以如果按下后退按钮并且浏览器没有导航它应该提示用户关闭应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:01:38.830

使用 JS 并不是最可靠的方法。

如果您使用的是 WP8，您可以查询`WebBrowser`以检查浏览器历史记录中是否有其他页面可以导航回。

```
if (webTab1.Margin == new Thickness())
{
    if (webTab1.CanGoBack)
    {
        webTab1.GoBack();
        e.Cancel = true;
    }
    else
    {
        MessageBoxResult mb = MessageBox.Show("You want exit the page", "Alert", MessageBoxButton.OKCancel);
        if (mb != MessageBoxResult.OK)
        {
            e.Cancel = true;
        } 
    }
} 
```

但是，这在 WP7 上不可用。

# c# - 在第一次鼠标单击时获取活动应用程序的名称

> ID：16187480
> 
> 赞同：1
> 
> 时间：2013-04-24T08:48:00.830
> 
> 标签：c#

我试图获取当前活动应用程序的名称，仅在该应用程序中第一次鼠标单击时。

我的意思是：当我总是在同一个应用程序上时，我不想每次用户点击应用程序时都获得应用程序的名称。我的代码运行良好，但它在每次鼠标单击时都会写入应用程序名称。

如果我只想在用户单击另一个应用程序时获取应用程序的名称，我该如何更改它？

```
class InterceptMouse
{
    private static LowLevelMouseProc _proc = HookCallback;
    private static IntPtr _hookID = IntPtr.Zero;
    private const int WM_LBUTTONDOWN = 0x0201;
    private const int WH_MOUSE_LL = 14;
    public static void Main()
    {
        _hookID = SetMouseHook(_proc);
        Application.Run();
        UnhookWindowsHookEx(_hookID);
    }

    private static IntPtr SetMouseHook(LowLevelMouseProc proc)
    {
        using (Process curProcess = Process.GetCurrentProcess())
        using (ProcessModule curModule = curProcess.MainModule)
        {
            return SetWindowsHookEx(WH_MOUSE_LL, proc,
                GetModuleHandle(curModule.ModuleName), 0);
        }
    }

    private delegate IntPtr LowLevelMouseProc(int nCode, IntPtr wParam, IntPtr lParam);

    private static IntPtr HookCallback(int nCode, IntPtr wParam, IntPtr lParam)
    {
        if (nCode >= 0 && wParam == (IntPtr)WM_LBUTTONDOWN)
        {
            IntPtr hwnd2 = GetForegroundWindow();
            StringBuilder windowtitle = new StringBuilder(256);
            if (GetWindowText(hwnd2, windowtitle, windowtitle.Capacity) > 0)
                Console.WriteLine(windowtitle);
        }

        return CallNextHookEx(_hookID, nCode, wParam, lParam);
    }

    [DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    private static extern IntPtr SetWindowsHookEx(int idHook,
        LowLevelMouseProc lpfn, IntPtr hMod, uint dwThreadId);

    [DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    [return: MarshalAs(UnmanagedType.Bool)]
    private static extern bool UnhookWindowsHookEx(IntPtr hhk);

    [DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    private static extern IntPtr CallNextHookEx(IntPtr hhk, int nCode,
        IntPtr wParam, IntPtr lParam);

    [DllImport("kernel32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    private static extern IntPtr GetModuleHandle(string lpModuleName);

    [DllImport("user32.dll", CharSet = CharSet.Auto, ExactSpelling = true)]
    public static extern IntPtr GetForegroundWindow();

    [DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
    static extern int GetWindowText(IntPtr hWnd, StringBuilder lpString,
        int nMaxCount);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-26T20:38:31.653

你至少有两个明显的选择。[一个是保留你最后一次看到的标题并在下一个标题与最后一次看到的标题相同](http://msdn.microsoft.com/en-us/library/system.string.equals%28v=vs.110%29.aspx)的情况下停止写作。

```
static string lastseen = null;

private static IntPtr HookCallback(int nCode, IntPtr wParam, IntPtr lParam)
{
    if (nCode >= 0 && wParam == (IntPtr)WM_LBUTTONDOWN)
    {
        IntPtr hwnd2 = GetForegroundWindow();
        StringBuilder windowtitle = new StringBuilder(256);
        if (GetWindowText(hwnd2, windowtitle, windowtitle.Capacity) > 0) 
        {
            var title = windowtitle.ToString();
            if (!String.Equals(lastseen, title)
            {
               lastseen = title;
               Console.WriteLine(lastseen);
            }
        }
    }

    return CallNextHookEx(_hookID, nCode, wParam, lParam);
} 
```

第二种选择是保留已见标题的[HashSet](http://msdn.microsoft.com/en-us/library/bb359438%28v=vs.110%29.aspx)，将新标题添加到哈希集中，如果已在 HashSet 中找到一个标题，则取消

```
static seen = new HashSet<string>();

private static IntPtr HookCallback(int nCode, IntPtr wParam, IntPtr lParam)
{
    if (nCode >= 0 && wParam == (IntPtr)WM_LBUTTONDOWN)
    {
        IntPtr hwnd2 = GetForegroundWindow();
        StringBuilder windowtitle = new StringBuilder(256);
        if (GetWindowText(hwnd2, windowtitle, windowtitle.Capacity) > 0) 
        {
            var title = windowtitle.ToString();
            if (!seen.Contains(title))
            {
               seen.Add(title);
               Console.WriteLine(title);
            }
        }
    }

    return CallNextHookEx(_hookID, nCode, wParam, lParam);
} 
```

# c++ - 变量周围的 C++ 堆栈已损坏

> ID：16187481
> 
> 赞同：1
> 
> 时间：2013-04-24T08:48:03.910
> 
> 标签：c++, xml, com, stack

我遇到了[这个](https://stackoverflow.com/questions/11749983/stack-around-the-variable-input-was-corrupted)错误，我发现[它](https://stackoverflow.com/questions/13467583/c-stack-around-a-variable-is-corrupted)很[受欢迎](https://stackoverflow.com/questions/2828387/stack-around-the-variable-xyz-was-corrupted)

这个问题比较混乱。我试图找出哪个变量没有正确返回。这个问题是在将 VC6 项目移植到 VS 2012 时发现的。这里发生的情况是从数据库中获取记录集并转换为 XML。

```
CGenAction GenAct(lUserId, O_ALARM, A_GET_TREE, ppALResult)
{
    try
    {
        if (GenAct.BeginAction())
        {
            checkuserPremission(info);

            Result Res;
            Dynaset DynaSet;

            if (type.GetRecordSet(UserId, DynaSet, Res)) {
                turnToXml(DynaSet,Res.m_bstrXMLString);
            }

            returnToUI(Res);
        }
    }
} 
```

在我知道这种类型的错误之前，我尝试通过执行以下操作将`Res`和`DynaSet`放在堆中而不是堆栈中：

```
static Result * ResPtr = NULL;

if(ResPtr != NULL)
{
    delete ResPtr;           
}

ResPtr = new Result(); 
```

这无助于解决问题。以下变量周围的堆栈已损坏：`Res`，`DynaSet`我将尝试进一步缩小范围并很快更新问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T12:52:58.347

这是一个*非常*可靠的诊断，VC6 没有。错误警告的几率为零。请注意，在您移植之前，这个问题很可能已经存在于您的代码库中。它警告的错误是一个非常严重的错误，通常在没有帮助的情况下很难诊断。然而，它不一定是一个致命的问题，它可以潜伏在代码中很长时间。只是突然弹出并通过看起来非常无辜的代码更改造成严重破坏。只需使用 Release 构建设置重新构建您的程序就足够了，这使得诊断问题变得更加困难。

您的代码片段太不透明，无法提出原因，未记录的功能很可能会导致它。我将只描述诊断的工作方式，以便您可以调试它。

/RTC 调试选项使编译器在堆栈帧中分配局部变量，因此它们之间有一个空间。它会生成一个标识这些空间的表。在函数入口处，这些空格用值 0xcc 填充。在函数退出时，它运行一个调试函数，遍历表并检查这些空间是否仍然包含 0xcc。如果没有，您将得到一个非常可靠的指示，表明代码正在写入它不应该触及的堆栈帧位置。堆栈缓冲区溢出是一种可能性，还有其他可能性。

调试它的方法是使用 Debug + Windows + Memory + Memory 1 窗口。在函数的第一条语句处设置断点。当它命中时，将 EBP 放入地址框并向上翻页（注意堆栈向下增长）。您现在正在查看堆栈帧中的字节，通常最好切换到 4 字节视图。尝试将局部变量与您看到的值相匹配。您还应该看到填充变量之间空格的 0xcc 值。现在开始单步执行，使用调试器的 StepOver 命令。堆栈帧中更改的值以红色显示。尝试找到之前为红色且包含 0xcc 的那个。

你现在有了一个被破坏的字节的地址。重新启动并使用数据断点让调试器在破坏该字节的语句处停止。

# javascript - 有哪些工具可用于在 Node.js 中操作 HTML？

> ID：16187482
> 
> 赞同：0
> 
> 时间：2013-04-24T08:48:05.623
> 
> 标签：javascript, node.js, express, validation

我有一个 Node.js/Express 应用程序，它将用户输入作为 HTML，我需要使其格式正确并删除或替换除一小部分允许的标签之外的所有内容。这样做的现有选择是什么？

例如，清理后，我可能想将`<div><br></div>`其视为空并将其删除，并替换`<div>Text</div>`为`<p>Text</p>`.

**编辑**

@kaareal 建议使用 htmltidy，它很好地处理了清理部分。如何获取这个干净的输出并删除或替换元素？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:57:37.937

我只知道一个图书馆“htmltidy”

已经有一个包装器 [https://npmjs.org/package/htmltidy](https://npmjs.org/package/htmltidy)

# javascript - 将多维数组传递给javascript中的函数

> ID：16187484
> 
> 赞同：1
> 
> 时间：2013-04-24T08:48:11.763
> 
> 标签：javascript, function, for-loop, multidimensional-array

我有一个这样的数组：

```
var array = [['h','e','l','l','o'],['1','2','3','4','5'],['a','b','c','d','e']] 
```

我无法将它传递给函数这是我正在使用的原始脚本：

```
for (var x = 0; x <= 2; x++) {
    var timesrun = 0;

    function runcode() {
        timesrun += 1;
        for (var n = 0; n <= 4; n++) {
            console.log(array[x][n]);
        } //end for loop 1
        if (timesrun == 2) {
            clearInterval(interval);
        }
    } //end of function
} // end for loop 2
var interval = setInterval(function () {
    runcode(array[x]);
}, 1000); 
```

当我`console.log`在函数内部时，我什么也得不到，但是如果我将内部`for`循环置于函数外部，然后`console.log`得到预期值，所以我认为我没有正确地将值带入函数中。

为简单起见，我想使用下面的简单示例来问这个问题：

```
function runcode(?){
    console.log(array[0][1]);  //which should return h.
}
runcode(?); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:52:05.597

```
var array = [['h','e','l','l','o'],['1','2','3','4','5'],['a','b','c','d','e']],
    x = 0,
    timesrun = 0;

function runcode() {
    timesrun += 1;
    for (var n = 0; n <= 4; n++) {
        console.log(array[x][n]);
    }
    if (timesrun == 2) {
        clearInterval(interval);
    }
}    

var interval = setInterval(function () {
    for (x = 0; x <= 2; x++) {
        runcode(array[x]);
    }
}, 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T15:07:26.333

> 为简单起见，我想使用下面的简单示例来问这个问题：

```
function runcode(?){
    console.log(array[0][1]);  //which should return h.
}

runcode(?); 
```

要访问传递的变量，您必须在函数头中命名参数

所以如果你愿意替换`?`你`array`已经很好了

```
function runcode(array){
              // ^^^^^ This is the name under which you can acces the passed variable
    console.log(array[0][1]);  //which should return h.
              //^^^^^ This is where you use it

}
runcode(array);
      //^^^^^ this is where you pass it //could be someOther2DimensionalArray 
```

并应用于非工作代码

```
var array = [
    ['h', 'e', 'l', 'l', 'o'],
    ['1', '2', '3', '4', '5'],
    ['a', 'b', 'c', 'd', 'e']
],
    x = 0,
    timesrun = ~0;

function runcode(array) {
    x = timesrun += 1;
    for (var n = 0; n <= 4; n++) {
        console.log(array[x][n]);
    }
    if (timesrun == 2) {
        clearInterval(interval);
    }
}

var interval = setInterval(runcode, 1000, array); 
```

这应该可以解决问题。

*注意第三个参数`setInterval`是用来传递`array`//`runcode(array)`*

# jquery - AngularJS 和 MVC 框架，什么样的项目？

> ID：16187485
> 
> 赞同：0
> 
> 时间：2013-04-24T08:48:15.647
> 
> 标签：jquery, asp.net-mvc, model-view-controller, angularjs, angular-ui

我是 web 开发的新手，我正在迈出进入这个世界的第一步，我想知道一些事情，我在 Wikipedia 上看到 Angular 用于运行“单页应用程序”让我们以像 ASP .NET MVC 这样的 WAF 为例我可以为动态数据验证、一些动画和其他一些 jQuery 插件可以“轻松”提供的东西编写一些 jQuery 代码，特别是在 asp .net mvc 中有很多 jQuery 助手的地方。

Angular.js 也可以为我提供这些东西吗？那么它只对单页应用程序有用吗？以stackoverflow为例，在像这里这样的网站上使用它是否太过分了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-21T15:05:25.933

我目前正在为几个项目使用 ASP Web API、AngularJs 和 Twitter Bootstrap。提示：

*   学习和使用 ng-include 和 ng-hide 来构建基本的 GUI。它既简单又快速，并且使用相同的动画方式。

*   对 css 使用引导程序（跳过 JS 部分）。[引导程序](http://getbootstrap.com)

*   使用第三方库制作动画。我将 animate.css 用于 css 3。如果可以，请尽量避免使用 JS 风格的动画。显示元素时执行简单的不透明动画并跳过隐藏动画。然后在此之后随心所欲地扩展。动画通常会以某种方式破坏布局。 [Angularjs + animate.css 指南](http://www.divshot.com/blog/tips-and-tricks/angular-1-2-and-animate-css/)

*   使用角度表单验证。如果您需要，请在指南上谷歌。但不要忘记 AngularJs 网页上的官方文档。

*   跳过指令，直到你必须学习它，但不要害怕在你确实需要它时尝试它。语法不好，但你只需要一点代码，然后很容易扩展。

*   不要使用 id="foo" 来破解 jQuery。使用（其他人的）指令。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T11:05:29.603

我对 ASP.NET MVC 和单页应用程序有一些经验，我认为它们可以很好地协同工作，尤其是在 MVC 4 和 WebAPI 的引入之后。

单页应用程序的目标是通过减少加载时间和提供更流畅的导航来改善用户体验。例如，Angular.js 的设计并不是为了帮助您为您的网站添加漂亮的效果，或者为您拥有 Jquery 的 DOM 操作。

Angular.js 将帮助您处理导航、客户端渲染，如果您有大量 javascript 代码，它将帮助您管理依赖项并更好地组织代码，另一个使用 HTTP api 和客户端渲染的好理由是您将分离数据和数据的表示，以便您可以对其进行测试并重新使用它。

您可以将 jquery 与 angular.js 一起使用，当然您也可以将 Angular.js 与 MVC 一起使用。

您可以开始查看[http://www.asp.net/single-page-application/overview/templates/breezeangular-template](http://www.asp.net/single-page-application/overview/templates/breezeangular-template)

希望能帮助到你 ：）

# ruby-on-rails-3 - Mongoid - 获取所有整数值

> ID：16187489
> 
> 赞同：0
> 
> 时间：2013-04-24T08:48:24.540
> 
> 标签：ruby-on-rails-3, dynamic, mongoid

我有以下 mongoid 模型

```
class MyModel
  include Mongoid::Document
  field :myField
end 
```

存储的值`myField`可以是任何数据类型。我需要过滤掉，针对该字段存储了多少次整数，或者将字符串存储为值多少次。

有什么办法可以做到这一点？

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T11:39:14.077

原来有一个内置的 mongo 功能。

```
MyModel.where(:field.with_type => 2).count  # Number of strings
MyModel.where(:field.with_type => 16).count # Number of 32-bit integers 
```

[http://mongoid.org/en/origin/docs/selection.html](http://mongoid.org/en/origin/docs/selection.html)

`2`并`16`表示字符串和 32 位整数的 BSON 类型。

有关 BSON 类型及其相应编号的完整列表，请参阅：

[http://docs.mongodb.org/manual/reference/operator/type/#op._S_type](http://docs.mongodb.org/manual/reference/operator/type/#op._S_type)

# javascript - 单击按钮时找不到方法

> ID：16187491
> 
> 赞同：0
> 
> 时间：2013-04-24T08:48:26.687
> 
> 标签：javascript, jquery, c#-4.0

我需要使用显示确认消息。我从“btnCalculate”clientclick 事件中调用该方法。如果是第一次，它会调用该方法。但是如果我第二次单击该按钮，则找不到该方法。下面是我的代码。请指教。太感谢了。

```
<asp:Button ID="btnYes" runat="server" OnClick="btnYes_Clicked" />
<asp:Button ID="btnCalculate" runat="server" Text="Calculate Claim" OnClientClick="return(cfrm());"/>

function cfrm() {
        var  consultFee = '0';
        consultFee = $('[id$=txtConsultFee]').val();

        if (consultFee > 500) {
            if (confirm('Confirm?')) {
                $('[id$=btnYes]').click();
            }
        } else {
            $('[id$=btnYes]').click();
        }
        return false;
    } 
```

![在此处输入图像描述](https://i.stack.imgur.com/Xccta.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:21:17.660

尝试这个：

像这样更改aspx代码

```
<asp:Button ID="btnCalculate" runat="server" Text="Calculate Claim" OnClientClick="return Confirm();" OnClick="btnYes_Clicked" /> 
```

和这样的js代码：

```
function Confirm() {
    var consultFee = '0';
    consultFee = $('[id$=txtConsultFee]').val();

    if (parseInt(consultFee) > 500) {
        return confirm('Confirm?');
    } else {
        return true;
    }
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:50:32.120

我想知道您是如何在第一次获得正确点击的，因为您还没有声明您`var totalgst`正在直接初始化它！

您可能必须先初始化它：

```
function cfrm(){
var totalgst=584;
totalgst = parseFloat(totalgst).toFixed(4);
............ other code....
} 
```

不用写`OnClientClick="return(cfrm());`可以`OnClientClick="return cfrm();"`直接写。

如果我用你的代码做简单的警报，它似乎每次都在工作，你宁愿检查你的 js 函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:53:19.460

用于

```
OnClientClick="return cfrm(); 
```

# android - Android - 无法在 LinearLayout 中动态显示 Textview

> ID：16187493
> 
> 赞同：0
> 
> 时间：2013-04-24T08:48:28.283
> 
> 标签：android, textview

这是xml代码：

```
<ScrollView 
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
tools:context=".DeleteActivity" >
<LinearLayout
    android:id="@+id/linear_layout"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >
</LinearLayout> 
```

这是java代码的一部分：

```
 LinearLayout linear_layout = (LinearLayout) findViewById(R.id.linear_layout);
    final TextView[] myTextViews = new TextView[count];
    do {
        myTextViews[pointer] = new TextView(this);
        myTextViews[pointer].setText(getResources().getString(R.string.data_dd) + data + "\n");
        linear_layout.addView(myTextViews[pointer]);
        pointer++;
    }while(c.moveToNext()); 
```

问题是只显示第一个文本视图。如果我使用相对布局而不是线性布局，它会显示所有文本视图，但彼此显示。我能怎么做？

提前谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:51:03.233

```
<LinearLayout
    android:id="@+id/linear_layout"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >
</LinearLayout> 
```

我认为你应该改变 to 的`LinearLayout`方向`verical`。同样`TextView`，您正在动态创建的也没有`LayoutParams`

```
 LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(
         LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);

  do {
       myTextViews[pointer] = new TextView(this);
       myTextViews[pointer].setText(getResources().getString(R.string.data_dd) + data + "\n");
       linear_layout.addView(myTextViews[pointer], layoutParams);
       pointer++;
  } while(c.moveToNext()); 
```

# ios - 通用（胖）库是否会增加应用程序包的大小？

> ID：16187499
> 
> 赞同：2
> 
> 时间：2013-04-24T08:48:49.757
> 
> 标签：ios

我很好奇针对包含 armv7 和 i386 代码（用于模拟器）的通用（胖）库进行构建是否会增加应用程序分发包的大小，或者设备的构建过程是否会去除 i386 的内容和调试信息？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T08:53:38.490

如果我没记错的话，i386 被剥离了，但是对于调试信息，您可以选择是否需要：

![在此处输入图像描述](https://i.stack.imgur.com/JhZR3.png)

# python - 从python中的字符串解析嵌套逻辑

> ID：16187507
> 
> 赞同：1
> 
> 时间：2013-04-24T08:49:12.803
> 
> 标签：python, sqlalchemy, pyparsing

我需要转一串形式：

```
'a==1&&(b==2||(c==3||d==4&&e==5)&&f==6)||(g==7&&h==8)' 
```

进入要过滤的 sqlalchemy 逻辑（通过`or_`和`and_`）。第一步实际上是将字符串解析成有用的东西。我想把它变成表格：

```
['a==1','&&',['b==2','||',['c==3','||','d==4','&&','e==5'],'&&','f==6'],'||',['g==7','&&','h==8']] 
```

然后递归地逐步解析它。不幸的是，我在这个解析步骤上遇到了麻烦，之前从未使用过 pyparsing。

**编辑（解决方案）**

`so`我在 interblag上或上面找不到一个简单的解决方案，但是在对文档进行了大量挖掘之后，我设法将以下简单的表达式放在一起：

```
from pyparsing import Word, alphanums, nestedExpr

content  = Word( alphanums + '=' ) | '||' | '&&'
unnester = nestedExpr( content = content )

a = 'a==3||b==1&&(c==4||(d==1||e==5)&&f==9)'
unnester.parseString( '(' + a + ')' ).asList() 
```

只要在迭代期间执行展平步骤，这似乎工作得很好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T09:33:18.387

我也没有真正使用`pyparsing`过，但这是一个直接的 python 实现，可以满足你的要求：

```
import re
from collections import namedtuple

TOKENIZER = re.compile(r"\w+==\w+|&&|\|\||[()]").findall

Node = namedtuple("Node", ["parent", "children"])

def syntax_tree(text, tokenizer, brackets):
    root = cur_node = Node(None, [])
    stack = []
    for token in tokenizer(text):
        if token == brackets["("]:
            stack.append(token)
            new_node = Node(cur_node, [])
            cur_node.children.append(new_node)
            cur_node = new_node
        elif token == brackets[")"]:
            if stack and stack.pop() == brackets[")"]:
                cur_node = cur_node.parent
            else:
                raise Exception("Parse error: unmatched parentheses")
        else:
            cur_node.children.append(token)

        if stack:
            raise Exception("Parse error: unmatched parentheses")

    return root

def listify(root):
    if isinstance(root, Node):
        return [listify(item) for item in root.children]
    else:
        return root

if __name__ == "__main__":
    expr = "a==1&&(b==2||(c==3||d==4&&e==5)&&f==6)||(g==7&&h==8)"

    tree = syntax_tree(expr, TOKENIZER, {"(": "(", ")": ")"})
    obj = listify(tree) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T13:44:54.313

Pyparsing 有一个用于解析括号分组操作的内置函数，包括识别运算符的优先级，称为`infixNotation`（以前称为`operatorPrecedence`）。查看此示例代码中如何使用它来解析示例表达式：

```
from pyparsing import Word, alphas, nums, oneOf, Group, infixNotation, opAssoc

sample = 'a==1&&(b==2||(c==3||d==4&&e==5)&&f==6)||(g==7&&h==8)'

# define some basic elements
varname = Word(alphas)
integer = Word(nums).setParseAction(lambda t:int(t[0]))

# Use varname and integer to define a comparison expression
comparisonOp = oneOf("< == > <= >= !=")
term = varname | integer
comparisonExpr = Group(term + comparisonOp + term)

# Use pyparsing builtin 'infixNotation' to implement parser for
# parenthetically grouped expression of various operators (formerly
# named 'operatorPrecedence')
logicalExpr = infixNotation(comparisonExpr,
    [
    ('&&', 2, opAssoc.LEFT),
    ('||', 2, opAssoc.LEFT),
    ])

# parse out your sample expression, use pprint to do some pretty-printing
import pprint
pprint.pprint(logicalExpr.parseString(sample).asList()) 
```

印刷：

```
[[[['a', '==', 1],
   '&&',
   [['b', '==', 2],
    '||',
    [[['c', '==', 3], '||', [['d', '==', 4], '&&', ['e', '==', 5]]],
     '&&',
     ['f', '==', 6]]]],
  '||',
  [['g', '==', 7], '&&', ['h', '==', 8]]]] 
```

# android - 在 2.3.3 中放置坐标按钮 android

> ID：16187508
> 
> 赞同：0
> 
> 时间：2013-04-24T08:49:19.213
> 
> 标签：android, button, imageview, set

我创建了一个应该随机放置几个按钮（或图像视图）的应用程序，我传递最大值和最小值并从那里获取坐标。

问题是在 4.2.2 编译是完美的，但我寻求为 2.3.3 工作，因为我想在 google play 中分享我的应用程序。

我使用安卓 4.2.2。做应用程序。

button.setX() 和 button.setY()

但在 android 2.3.3 ( API level 10 ) 中可以使用这些方法

你知道我怎么能达到 API 10 级吗？

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:47:18.400

你应该看看这个答案：

[https://stackoverflow.com/a/12195999/2140191](https://stackoverflow.com/a/12195999/2140191)

```
//The WRAP_CONTENT parameters can be replaced by an absolute width and height or the FILL_PARENT option)
RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT); 
params.leftMargin = 50; //Your X coordinate
params.topMargin = 60; //Your Y coordinate 
```

之后，将 LayoutParams 添加到按钮中：

```
button.setLayoutParams(params); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:27:31.697

尝试使用

```
setTranslationX(float xVal) 
```

公共浮动 getX ()

在 API 级别 11 中添加此视图的视觉 x 位置，以像素为单位。这相当于translationX 属性加上当前的left 属性。

返回此视图的视觉 x 位置，以像素为单位。

# tizen - 在我的应用程序中启动电话的消息传递应用程序

> ID：16187523
> 
> 赞同：0
> 
> 时间：2013-04-24T08:49:53.460
> 
> 标签：tizen

我正在开发一个应用程序，我需要在其中启动 tizen mobile 的默认消息传递应用程序，我尝试同时使用隐式和显式启动，它无法获取应用程序。MIME 类型出现问题。我应该使用什么 MIME 类型或 URI 来获取消息应用程序？请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-18T15:01:43.880

可以参考[https://developer.tizen.org/help/topic/org.tizen.native.appprogramming/html/guide/app/appcontrol_message.htm?resultof=%22%61%70%70%63% 6f%6e%74%72%6f%6c%22%20](https://developer.tizen.org/help/topic/org.tizen.native.appprogramming/html/guide/app/appcontrol_message.htm?resultof=%22%61%70%70%63%6f%6e%74%72%6f%6c%22%20)

希望它可以帮助你。:-)

# xpages - 在函数值字段的组合框值行中应用 css

> ID：16187538
> 
> 赞同：0
> 
> 时间：2013-04-24T08:50:42.250
> 
> 标签：xpages

在组合框中，我得到我的值：`@Unique(@DbColumn(@DbName(),"Products",4));` 当值 1 出现在此视图“产品”的第 5 列中时，我想应用 css 活动（对于该行），否则我想应用 css 非活动（对于那条线）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T11:53:21.990

添加到组合框中的所有项目都属于 class [`javax.faces.model.SelectItem`](http://docs.oracle.com/cd/E17824_01/dsc_docs/docs/jscreator/apis/jsf/javax/faces/model/SelectItem.html)。我认为标签（[链接](http://www.w3.org/wiki/HTML/Elements/option)`style`）不支持属性。但是你可以设置属性。为此，您可以使用以下代码在组合框中添加公式项：`<option>``disabled`

```
var items = new Array();
var values = @Unique(@DbColumn(@DbName(),"Products",4)); // Your list of values
for (var i=0 ; i<values.length ; i++) {
    items[i] = new javax.faces.model.SelectItem(values[i], values[i]);
    if (values[i] == "1") { // If value is one then disable it
        items[i].setDisabled(true);
    }
}

return items; 
```

这将在网页上的组合框中呈现一个禁用选项，该选项无法选择但可见。

**更新：**

如果您希望选择选项，那么您可以在文本开头添加（例如星号）来表明这一点。所以你的代码会是这样的：

```
var items = new Array();
var values = @Unique(@DbColumn(@DbName(),"Products",4)); // Your list of values
for (var i=0 ; i<values.length ; i++) {
    items[i] = new javax.faces.model.SelectItem(values[i], (values[i] == "1" ? "* " : "") + values[i]);
}

return items; 
```

# php - 在哪里可以找到 PHP 输出/日志

> ID：16187542
> 
> 赞同：3
> 
> 时间：2013-04-24T08:50:54.073
> 
> 标签：php, javascript, debugging, web, phpstorm

我是一名初学者 Web 开发人员，特别是使用 PHP 和一些前端技术（HTML、CSS、JS/JQuery）。我发现在某些情况下，很难找到 PHP 代码中的错误。以下是其中一个示例：

在 HTML 页面中，我使用 JQuery 将表单提交（与发布）到 PHP 文件以进行后端事务。由于我使用的是JQuery，所以页面不会被重定向到PHP页面，所以如果PHP代码有一些bug（甚至是一些愚蠢的语法/SQL错误），我们用普通的导航器测试时很难检测到它们.

**我的问题是**：如果我在上述情况下在 PHP 页面中使用**echo ，输出将驻留在哪里？**我认为所有这些类型的输出都应该存在一些日志文件。另外，如果 JavaScript 中存在一些 bug，有没有什么技巧可以快速定位 bug？

PS：我在 MAC OS 下使用 PHPStorm 作为 IDE。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T08:55:49.203

当您运行 AJAX 时（从您的问题来看，听起来就是这样），jQuery 所做的只是“为您”请求页面。因此，您可以直接看到输出，jQuery 会为您“捕获”它。AJAX 请求只不过是一个普通的 HTTP 请求，只是在后台，所以你不会看到它。

所以; 当您“回显”某些内容时，它只会由 jQuery 处理并**因此发送到您的浏览器**。

有一些工具，如[firebug](http://getfirebug.com)，可以让您查看来自 ajax 消息的请求和响应，从而也显示可能的错误或不同的输出。它是一个全能的调试器，因此您还可以查看呈现的 HTML 和/或 JavaScript 错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:06:03.060

如果您使用的是 PHPstorm，我建议您看一下[Xdebug](http://xdebug.org/download.php)。您必须从服务器启用 Xdebug 模块，并且可以使用断点和变量 Watches 管理 php。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:58:36.607

当您开发 ajax 请求的 PHP 页面时，首先让它们在屏幕上输出结果，测试它们，然后在确定它们输出正确的东西时发出 jquery 请求

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T08:58:47.720

Firefox 使用“Firebug”控制台，Chrome 使用“Firebug lite”或 IE 按“F12”。您将看到控制台。在那里您可以看到正在进行的 ajax 请求并查看响应。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-24T08:52:10.630

具体回答您的问题；您示例中的输出`echo`将在对发布请求的响应中。通常这将是页面重新加载，但在 ajax 请求中（如您所述）您不会得到。

使用浏览器开发工具，例如 chrome 中的 Inspector 或 Firefox 中的 firebug，以允许您查看来自您发布请求的 Ajax 响应

您还可以`console.log`在 ajax 的成功部分中使用 Javascript 方法记录响应

```
$(function() {

    $.ajax({
        // snip
        success: function(response) {
            console.log(response);
        }
    }); 
```

# primefaces - primefaces 图形图像中的意外符号

> ID：16187544
> 
> 赞同：0
> 
> 时间：2013-04-24T08:50:59.477
> 
> 标签：primefaces, datatable, graphicimage

我在 DataTable 列中有一个图形图像。

我的问题是在我的图标后面我看到一个像“^”这样的符号

![意外的符号](https://i.stack.imgur.com/NxQnB.jpg)

*   我的xhtml：

> ```
> <p:dataTable>   
> <p:column>
> <p:graphicImage 
>        value="#{pageContext.contextPath}/style/images/done.png" 
>        styleClass="ui-icon ui-icon-circle" 
>        rendered="#{estudoObj.pending eq 0)}"/> 
> </p:column> 
> ```

*   我的 CSS：

> ```
> .ui-icon-circle {
>    width:20px; 
>    height:20px; 
>    border:0;
>    margin: 0px 5px 0px 5px;
> } 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T21:07:14.277

`ui-icon`有一个`background-image`您不想要的相关规则，您可以添加：

`background-image: none !important;`

给你`ui-icon-circle`或根本不使用`ui-icon`。

# ios - 让 UITableViewCell 显示没有红色减号的删除按钮

> ID：16187547
> 
> 赞同：7
> 
> 时间：2013-04-24T08:51:05.213
> 
> 标签：ios, objective-c, uitableview

我想实现一个`UITableView`，当我按下我的按钮时`ViewController`，我可以看到单元格右侧的删除按钮，但看不到单元格左侧的红色减号圆圈。

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T09:54:47.890

只是一种方法：

1.  在视图上有一个删除按钮并为其分配一个方法
2.  在此方法中，将 BOOL `isDeleteEnabled`（或您命名的任何名称）切换为`TRUE`
3.  重新加载`UITableView`并`cellForRowAtIndexPath`检查该 BOOL 值
4.  如果`TRUE`然后加载所有`UITableViewCell`带有删除按钮的自定义单元格（您需要设置选择器方法以删除一行）
5.  通过点击单元格上的按钮删除任意数量的单元格
6.  删除您的选择后，您可以再次按下主按钮并切换值`isDeleteEnabled`
7.  再次重新加载`UITableView`，这次`cellForRowAtIndexPath` 检查 - 的值，`isDeleteEnabled`这将是`FALSE`. 所以，你需要加载正常的（或你原来的）UITableViewCells。

我按照这种方法做了非常相似的事情。

另外，我没有发布代码有以下三个原因：

*   *它的大小会太长*
*   *他在我的工作机器上可用的代码（我现在无法访问）*
*   *它会破坏编写这样一个任务的乐趣。自己做。你会使用它。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:23:31.210

很简单，如果您不希望出现减号，请考虑实施您自己的解决方案而不是默认解决方案，插入一个删除按钮并为其提供动画，按照您的需要执行

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-04-24T09:07:49.797

您不需要按钮操作来触发此操作。如果您实现以下委托，您可以直接滑动和删除单元格。

```
 - (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath 
    {
   //Delete the row
    [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade];
    } 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-24T09:16:00.877

我的想法，不要使用按钮，但您可以使用以下方法滑动单元格以删除：

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath{

    if (editingStyle == UITableViewCellEditingStyleDelete)
    {
         //Use actionsheet or deleteRowsAtIndexPaths
    }

 } 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-04-24T09:25:25.760

覆盖以支持编辑表格视图。

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {
    if (editingStyle == UITableViewCellEditingStyleDelete) {
        //add code here for when you hit delete
    }    
} 
```

# google-app-engine - 如何验证 JWT 签名？

> ID：16187548
> 
> 赞同：3
> 
> 时间：2013-04-24T08:51:05.897
> 
> 标签：google-app-engine, go, jwt, google-oauth, google-api-go-client

我想使用 Go AppEngine 后端对 Android 用户进行身份验证，

[我可以通过遵循http://android-developers.blogspot.co.il/2013/01/verifying-back-end-calls-from-android.html](http://android-developers.blogspot.co.il/2013/01/verifying-back-end-calls-from-android.html)在 Android 中轻松获取 ID 令牌

ID-token 有效负载可以使用[https://code.google.com/p/google-api-go-client/](https://code.google.com/p/google-api-go-client/)库的 oauth2/v2 包进行验证。

使用 AppEngine 需要进行一些安装调整，我在[http://golangtutorials.blogspot.co.il/2011/11/using-external-api-in-go-appengine.html找到了一些指示](http://golangtutorials.blogspot.co.il/2011/11/using-external-api-in-go-appengine.html)

根据文档：“验证签名事实证明，这是使用 Google 公钥/私钥对签署的，Google 在 www.googleapis.com/oauth2/v1/certs 上发布公钥（我们定期更改）；去向前看。

您必须验证 ID 令牌（实际上是 JSON Web 令牌）是否已使用这些证书之一进行签名。幸运的是，周围有不错的图书馆可以做到这一点。在这篇文章中，我将介绍 Java、Ruby 和 PHP。

这些库可以缓存 Google 证书并仅在需要时刷新它们，因此验证（几乎总是）是一个快速的静态调用。”

如何在 Go 中验证令牌是否由 Google 签名？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-14T14:33:45.493

这就是我最终要做的（使用[https://github.com/dgrijalva/jwt-go](https://github.com/dgrijalva/jwt-go)）：

```
package XXX

import (
    "errors"
    oauth2 "code.google.com/p/google-api-go-client/oauth2/v2"
    "jwt"
    "appengine"
    "appengine/urlfetch"
)

func getTokeninfo(c appengine.Context, token string) (*oauth2.Tokeninfo, error) {
    client := urlfetch.Client(c)

    oauth2Svc, err := oauth2.New(client) 

    if err != nil {
        return nil, err
    }

    return oauth2Svc.Tokeninfo().Id_token(token).Do()
}

func verifyToken(c appengine.Context, token string) (string, error) {
    parsedToken, err := jwt.Parse(token)

    if err != nil {
        c.Debugf(err.Error())
        return "", err
    }

    if parsedToken.Claims["aud"] != "XXX.apps.googleusercontent.com" {
        c.Debugf("aud mismatch")
        return "", errors.New("Aud mismatch")
    }

    if (parsedToken.Claims["azp"] != "XXX.apps.googleusercontent.com") && 
        (parsedToken.Claims["azp"] != "XXX.apps.googleusercontent.com") {

        c.Debugf("azp mismatch")
        return "", errors.New("Azp mismatch")
    }

    ti, err := getTokeninfo(c, token)

    if err != nil {
        c.Debugf(err.Error())
        return "", err
    }

    if (ti.Issued_to != "XXX.apps.googleusercontent.com") &&
        (ti.Issued_to != "XXX.apps.googleusercontent.com") {

        c.Debugf("cid mismatch")
        return "", errors.New("Client ID mismatch")
    }

    return ti.User_id, nil
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-14T11:58:47.190

您可能想查看[https://github.com/someone1/gcp-jwt-go上的 appengine 签名扩展](https://github.com/someone1/gcp-jwt-go)

# jsf - 如何在执行命令按钮操作之前从 selectonemenu 设置所选项目

> ID：16187555
> 
> 赞同：0
> 
> 时间：2013-04-24T08:51:23.543
> 
> 标签：jsf, primefaces, xhtml

我有一个命令按钮和一个 Selectonemenu。我想在执行 Commandbutton 操作方法之前设置 selectedTaxType。我将“动作”更改为“未完成”，但这次它冻结了。任何解决方案？

```
<p:commandButton value="Submit"
   action="Controller.addSelectionToDatabase"                                 
   update="table"                                 
   immediate="true"
/>

<p:selectOneMenu id="selectTaxTypeId" value="#{Controller.selectedTaxType}" converter="taxTypeCodeSelectItemsConverter">                           
                <f:selectItems value="#{Controller.taxTypeList}" var="taxType"
                               itemLabel="#{taxType.shortName}"
                               itemValue="#{taxType}" />
            </p:selectOneMenu> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:51:59.127

在 valueChange 上添加一个 ajax 事件，它会更新您想要的内容。

例子：

```
 <p:selectOneMenu id="selectTaxTypeId" value="#{Controller.selectedTaxType}" converter="taxTypeCodeSelectItemsConverter">                           
                    <f:selectItems value="#{Controller.taxTypeList}" var="taxType"
                                   itemLabel="#{taxType.shortName}"
                                   itemValue="#{taxType}" />
                    <p:ajax event="valueChange" update="@form" />
   </p:selectOneMenu> 
```

# excel - Excel 2007 vba if语句根据珍贵的单元格颜色填充单元格颜色

> ID：16187574
> 
> 赞同：0
> 
> 时间：2013-04-24T08:52:32.357
> 
> 标签：excel, if-statement, excel-2007, background-color, vba

请帮助我，我不知道如何在 vba 编码中使用颜色。我会尽量简单地解释这一点。

我有从 D3 到 AH564 的单元格，其中没有任何值，而且永远不会。如果我将这些单元格中的任何一个的颜色更改为蓝色，它必须将它旁边的 14 个单元格（R1C14）更改为绿色，然后再将 14 个单元格更改为蓝色，然后再更改为绿色。只是三倍。如果我将一个单元格更改为绿色，请执行相同的操作。

我已经尝试了在网站上找到的几个代码，并根据我的需要对其进行了修改，但它们都使用了值，我什至不知道从哪里开始使用颜色。

背景颜色如下： 蓝色 (RGB) 0, 112, 192 绿色 (RGB) 146, 208, 80

我希望宏将第 14 个单元格更改为另一种颜色 3 次。

感谢所有的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:12:44.910

您必须使用单元格的内部属性，然后：

您可以使用 ColorIndex（在 Excel 中使用 56 种“预设”颜色之一）：

```
ActiveCell.Interior.ColorIndex = 36 
```

或者你可以使用颜色：

```
Range("A1:A6").Interior.Color = RGB(0,112,192) 
```

**您可以在Chip Pearson** [关于在 Excel VBA 中使用颜色的优秀文章](http://www.cpearson.com/excel/colors.aspx)中阅读此内容

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T10:23:11.263

您可以拥有在更改单元格时触发的 VBA 代码。

但是，将单元格设置为具有不同颜色的格式不会触发更改事件，因此仅更改单元格填充不会触发任何宏。

您可以在单元格中输入数字或文本，而不是使用填充颜色格式化单元格。您可以使用条件格式来更改具有值的单元格的颜色。

在单元格中输入文本或数字***将***触发更改事件，该事件可以轻松更改其他单元格的填充颜色。

因此，如果单元格包含一个值，例如 1，则设置条件格式。如果它是 1，则将其设置为蓝色并填充蓝色背景。这样，号码将不可见。

然后使用这个宏（右击Sheet选项卡，点击“查看代码”，将代码粘贴到代码窗口中）

```
Option Explicit

Private Sub Worksheet_Change(ByVal Target As Range)
    If Not Intersect(Target, Range("D3:AH564")) Is Nothing Then
        If Target = 1 Then
            Target.Offset(0, 14).Interior.Color = RGB(146, 208, 80)
            Target.Offset(0, 28).Interior.Color = RGB(0, 112, 192)
            Target.Offset(0, 42).Interior.Color = RGB(146, 208, 80)
        End If
    End If

End Sub 
```

尚不清楚触发单元格是否可以在整个范围内或仅在 D 列中。可以调整宏以适应您定义的任何内容。

编辑：

如果您将一个值复制并粘贴到多个单元格中，请尝试以下操作：

选项显式

```
Private Sub Worksheet_Change(ByVal Target As Range)
Dim cel As Range
    If Not Intersect(Target, Range("D3:AH564")) Is Nothing Then
        If Target.Rows.Count > 0 Then
            For Each cel In Target
                If cel = 1 Then
                    cel.Offset(0, 14).Interior.Color = RGB(146, 208, 80)
                    cel.Offset(0, 28).Interior.Color = RGB(0, 112, 192)
                   cel.Offset(0, 42).Interior.Color = RGB(146, 208, 80)
                End If
            Next cel
        End If
    End If

End Sub 
```

# android - Scrollview 使底部视图在 Dialog 中消失

> ID：16187579
> 
> 赞同：8
> 
> 时间：2013-04-24T08:52:46.967
> 
> 标签：android, android-layout, scrollview

我有一个对话框，其中包含一个列表（a 中的一堆`TextView`s `LinearLayout`）`ScrollView`。布局如下：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ProgressBar
        android:id="@+id/delete_progress"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:visibility="gone" />

    <ScrollView
        android:id="@+id/filename_scroll"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <LinearLayout
            android:id="@+id/filename_container"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical" >
        </LinearLayout>
    </ScrollView>

    <View
        android:id="@+id/horisontal_separator"
        android:layout_width="fill_parent"
        android:layout_height="1dp"
        android:background="@android:color/darker_gray" />

    <LinearLayout
        android:id="@+id/button_container"
        android:layout_width="match_parent"
        android:layout_height="48dp" >

        <Button
            android:id="@+id/load_button"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="@string/button_load"
            android:gravity="center"
            android:layout_weight="1" />

        <View
            android:layout_width="1dp"
            android:layout_height="fill_parent"
            android:background="@android:color/darker_gray" />

        <Button
            android:id="@+id/delete_button"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="@string/button_delete"
            android:gravity="center"
            android:layout_weight="1" />
    </LinearLayout>

</LinearLayout> 
```

它看起来像这样，列表中只有几个项目： ![清单上的一些项目](https://i.stack.imgur.com/dI43j.jpg)

但是，当屏幕上无法容纳的内容（并且实际需要滚动）时，我的按钮会被推到屏幕下方。当一直滚动到底部时，它看起来像这样： ![清单上有很多项目](https://i.stack.imgur.com/hD6o6.jpg)

我需要`LinearLayout`包含按钮作为页脚，它不应该滚动到任何地方，显然不会消失。我试过摆弄布局高度和重量，但无济于事。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-24T09:05:44.477

尝试改变scrollView

```
<ScrollView
    android:id="@+id/filename_scroll"
    android:layout_width="match_parent"
    android:layout_weight="1"
    android:layout_height="0dp" > 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:10:14.843

我认为您应该明确提及 Scrollview 的 layout_height

```
<ScrollView
    android:id="@+id/filename_scroll"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" > ////say  android:layout_height="50dp"

    <LinearLayout
        android:id="@+id/filename_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >
    </LinearLayout>
</ScrollView> 
```

像那样。另一种选择是，通过显式指定 layout_height 来引入像表格布局这样的外部组件，并按原样包含您的滚动视图。

希望它有效

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:46:24.120

使用下面的 xml 布局来显示您想要显示的自定义对话框，

> ```
> <FrameLayout
>     android:layout_width="fill_parent"
>     android:layout_height="fill_parent" >
> 
>     <ListView
>         android:id="@+id/gameList"
>         android:layout_width="fill_parent"
>         android:layout_height="wrap_content"
>         android:layout_marginBottom="30dip" />
> 
>     <LinearLayout
>         android:layout_width="fill_parent"
>         android:layout_height="wrap_content"
>         android:layout_gravity="bottom" >
> 
>         <Button
>             android:id="@+id/load"
>             android:layout_width="fill_parent"
>             android:layout_height="wrap_content"
>             android:layout_weight="1"
>             android:text="Load" />
> 
>         <Button
>             android:id="@+id/delete"
>             android:layout_width="fill_parent"
>             android:layout_height="wrap_content"
>             android:layout_weight="1"
>             android:text="Delete" />
>     </LinearLayout>
> </FrameLayout> 
> ```

并从你的类文件中这样调用它，

```
>     Button getList = (Button) findViewById(R.id.getList);
>     getList.setOnClickListener(new View.OnClickListener() {
>       
>             @Override
>       public void onClick(View v) {
>       // TODO Auto-generated method stub
>       final Dialog listDialog = new Dialog(MainActivity.this);
>       listDialog.setTitle("Load a game");
>       listDialog.setContentView(R.layout.custom_dialog);
>     
>       ListView gameList = (ListView) listDialog.findViewById(R.id.gameList);
>       gameList.setAdapter(new ArrayAdapter<String>          (MainActivity.this,android.R.layout.simple_list_item_1,new String[] {"your array" }));
>       
>       Button dismiss = (Button) listDialog.findViewById(R.id.load);
>       dismiss.setOnClickListener(new View.OnClickListener() {
>     
>           @Override
>           public void onClick(View v) {
>               // TODO Auto-generated method stub
>               listDialog.dismiss();
>                       }
>           });
>     
>           listDialog.show();
>       
>            } }); 
```

# visual-studio - 每次 VS2012 启动都会重新打开最后一个“单元测试会话”窗口

> ID：16187586
> 
> 赞同：0
> 
> 时间：2013-04-24T08:53:27.287
> 
> 标签：visual-studio, visual-studio-2012

我使用 JetBrains 的 dotCover。

我尝试关闭所有“Unit Tess Session”窗口，然后关闭 VS2012，但下一次 VS2012 启动会再次重新打开它们。

如何做到这一点？

# iphone - UITextField 不占用整个屏幕宽度

> ID：16187594
> 
> 赞同：0
> 
> 时间：2013-04-24T08:53:49.413
> 
> 标签：iphone, ios, objective-c, xcode, storyboard

如您在此屏幕截图中所见，我正在使用 UITextField 和 UIButton：

![在此处输入图像描述](https://i.stack.imgur.com/Hs309.png)

有时需要禁用“测试”按钮，所以我使用以下代码禁用它：

```
 [_hButton setEnabled:NO];
    [_hButton setHidden: true]; 
```

但问题是 UITextField 不会像您在此处看到的那样从屏幕上占用整个宽度：

![在此处输入图像描述](https://i.stack.imgur.com/jq04c.png)

这是我故事板中 UITextField 的设置：

![在此处输入图像描述](https://i.stack.imgur.com/vneZc.png)

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T09:00:13.700

当你这样做时`[_hButton setEnabled:NO]; [_hButton setHidden: true];`，你必须修改 textField 的宽度。

你的代码应该是..

```
CGRect oldFrame = yourTextField.frame;
CGRect frameNew = CGRectMake(oldFrame.origin.x,oldFrame.origin.y,oldFrame.size.width + _hbutton.frame.size.width,oldFrame.size.height);
yourTexField.frame = frameNew; 
```

当你想要返回这个时，只需进行反向计算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:58:47.567

虽然按钮是隐藏的，但它仍然存在。您应该将其从视图中完全删除以获得所需的效果`[_hButton removeFromSuperview];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:01:22.760

UITextView 没有调整大小，因为按钮仍然存在，只是不可见。隐藏按钮后，手动调整 UItextView 框架。

# ios - 旋转前计算 UIVIews 新宽度

> ID：16187595
> 
> 赞同：1
> 
> 时间：2013-04-24T08:53:52.280
> 
> 标签：ios, uiview, width, uiinterfaceorientation

我想知道`UIViewControllers`旋转更改后我的视图将具有的新宽度，但我需要此信息已经在

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration 
```

方法，所以我无法访问 frame 或 bounds 属性。

我尝试使用图层属性`presentationLayer`和`modelLayer`，但没有找到正确的解决方案。

如果有人知道解决方案或可以提供一些思考，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:25:11.587

我发现了问题！

我使用的方法被调用到早期：

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration 
```

相反，我知道使用这个：

```
- (void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation duration:(NSTimeInterval)duration
{
    CGRect frame = [self.view.window convertRect:self.view.frame fromView:self.view];
    float newWidth = frame.size.width;

    // Doing my animation stuff...
} 
```

这使我能够拥有正确的新宽度并正确地为我的视图设置动画。

# axapta - 如何从表单中的字段中删除查看详细信息？

> ID：16187602
> 
> 赞同：1
> 
> 时间：2013-04-24T08:54:16.497
> 
> 标签：axapta, x++, dynamics-ax-2012

如何从 Dynamics AX 2012 表单中的字段中删除查看详细信息？

当您右键单击与 DataSource 的表有关系的字段时，您会在上下文菜单中找到查看详细信息，如何删除此选项。

![查看详情](https://i.stack.imgur.com/6G5Mm.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T11:09:38.240

我找到了解决方法。您可以覆盖 DataSoruce 字段的 jumpRef() 方法并注释 super，会出现查看详细信息，但不会转到主窗体。

```
public void jumpRef()
{
    //super();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T11:58:55.903

好吧，如果存在外键关系（n->1），该字段作为最后一个组件，则会出现“查看详细信息”。

您可以删除该关系，但它可能会产生其他不良影响，您必须考虑。

# android - IBM Worklight 5.0.5 - 在推送通知上播放自定义声音

> ID：16187608
> 
> 赞同：0
> 
> 时间：2013-04-24T08:54:27.433
> 
> 标签：android, push-notification, ibm-mobilefirst

当我使用

```
WL.Server.notifyAllDevices(userSubscription, {
        badge: 1,
        sound: "notification.wav",
        activateButtonLabel: "ClickMe",
        alert: notificationText,
        payload: {
            foo : 'bar'
        }
    }); 
```

要在 Android 上的 IBM Worklight 5.0.5 中推送通知，似乎无法使用自定义声音选项。无论我将声音文件放在哪里，Worklight 都找不到它。根据客户端跟踪，它甚至不搜索文件。有没有人成功地尝试过这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:14:05.340

要使用自定义通知声音：

1.  如果该文件夹不存在，`raw`请在现有文件夹下添加一个名为的`native\res`文件夹`yourProject\apps\yourApp\android\native`
2.  将声音文件放在`raw`文件夹中

发送通知时，它现在应该播放您的自定义声音文件。

您也可以将声音文件放在;`raw`下的文件夹中。`yourProject\apps\yourApp\android\nativeResources\res`这将确保文件将在构建时复制到您生成的 Android 项目中，以防您`native`出于任何原因删除了该文件夹。

# java - Java - 打印我们插入的值的映射

> ID：16187615
> 
> 赞同：2
> 
> 时间：2013-04-24T08:54:41.137
> 
> 标签：java, map

当我们将值放入 M​​ap（我们放置的顺序）时，java 中有没有办法获取这些值。

此致

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T08:56:13.627

要使用的类是[`LinkedHashMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html). 您可以选择插入顺序和访问顺序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:57:25.530

使用linkedhashmap

```
LinkedHashMap lm = new LinkedHashMap();
        lm .put("map", "LinkedHashMap");
        lm .put("1", "A");
        lm .put("2", "B");
        lm .put("3", "C");
        print(lm .keySet()); 
        print(lm .values()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T08:58:01.407

是的，[LinkedHashMap](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html)有一个可迭代的顺序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T08:59:43.233

您可以使用[LinkedHashMap](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html)。文档说：

```
This implementation differs from HashMap in that it maintains a doubly-linked
list running   through all of its entries. This linked list defines the iteration
ordering, which is normally the order in which keys were inserted into the map
(insertion-order). 
```

# scala - 如何使用-deprecation重新运行scala脚本？

> ID：16187616
> 
> 赞同：2
> 
> 时间：2013-04-24T08:54:42.480
> 
> 标签：scala

运行某个 Scala 脚本会给出以下警告：

```
warning: there were 1 deprecation warnings; re-run with -deprecation for details 
```

我怎么做？

是的，我有 RTFM，但它所说的（用 a 分隔编译器参数和其他参数`-`）不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-25T21:27:30.740

只有 Scala 解释器（用于执行脚本时）支持 shebang 语法 ('#!')。scalac 和 scala REPL 都不支持它。有关问题跟踪，请参见[此处](https://issues.scala-lang.org/browse/SI-5179)。

有关适用于 shebang 的答案，请参见下文。

## 您可能需要考虑什么而不是使用“#！”

为了能够在 REPL*和*解释器中使用文件（*也*可能作为源代码，例如，如果它是一个有效的类），您应该完全放弃 shebang 标头，并可能添加一个启动器脚本（例如，有一个可执行的 'foo' 启动 'scala foo.scala'）。

让我们将 'foo.scala' 定义为以下单行：

```
case class NoParens // <-- case classes w/o () are deprecated 
```

这将适用于两个解释器：

```
$ scala foo.scala 
```

...编译器

```
$ scalac foo.scala 
```

...和REPL：

```
$ scala -i foo.scala

// or:

$ scala
scala> :load foo.scala 
```

以上所有内容都会给你在你的问题中看到的模糊的弃用警告。
对于通过“scala”可执行文件执行脚本以及通过“scalac”进行编译，您所要做的就是在命令行中添加一个“-deprecation”参数：

```
$ scala -deprecation foo.scala

// or:

$ scalac -deprecation foo.scala 
```

现在两者都将为您提供详细的弃用警告（“-feature”也是如此）。

REPL 为您提供了 2 个选项：1) 如上所述添加 -deprecation 参数（练习留给读者） 2) 在 REPL 中使用 ':warnings'，如下所示：

```
$ scala -i foo.scala
Loading foo.scala...
warning: there were 1 deprecation warnings; re-run with -deprecation for details
defined class NoParens

Welcome to Scala etc...

scala> :warnings
<console>:7: warning: case classes without a parameter list have been deprecated;
use either case objects or case classes with `()' as parameter list.
case class NoParens // <-- case classes without () are deprecated
                   ^

scala> 
```

不用说，使用 REPL 中的 ':load' 也是如此。

## 将 '-deprecation' 与 '#!' 一起使用

正如所承诺的，这是使用 shebang 语法的秘诀。我自己通常不使用它，所以欢迎评论：

```
#!/bin/sh
exec scala $0 $@
!#

case class NoParens // <-- case classes w/o () are deprecated 
```

这将为您提供一个神秘的警告：

```
$ ./foo.scala
warning: there were 1 deprecation warnings; re-run with -deprecation for details
one warning found 
```

要收到您的警告，只需在“exec scala”之后添加一个“-deprecation”，如下所示：

```
#!/bin/sh
exec scala -deprecation $0 $@
!#

// etc... 
```

这将产生所需的“警告：不推荐使用没有参数列表的案例类”等......

好吧，这大约涵盖了它。360° 弃用 ;-)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T08:54:42.480

将脚本变成应用程序：

1.  删除`#! ... !#`顶部的任何位（这用于 Unix/Mac 上的可执行脚本）
2.  把所有东西都包起来`object Foo extends App { ... }`

然后编译它

```
scalac -deprecation filename.scala 
```

查看详细的弃用警告。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-25T01:10:08.113

您收到的警告是编译器错误。Scala 有两个可能从脚本调用的编译器：scalac 和 fsc。查找脚本调用其中之一的位置并编辑编译器调用以包含标志 -deprecation。

例如。

```
scalac -arg1 -arg2 big/long/path/*.scala other/path/*.scala 
```

变成

```
scalac -deprecation -arg1 -arg2 big/long/path/*.scala other/path/*.scala 
```

> ID：16187620
> 
> 赞同：
> 
> 时间：
> 
> 标签：

None

# c# - Data source is an invalid type. It must be either an IListSource, IEnumerable, or IDataSource. MVC

> ID：16187626
> 
> 赞同：0
> 
> 时间：2013-04-24T08:55:14.007
> 
> 标签：c#, asp.net-mvc, detailsview

Im trying to retrieve data to a details view on a MVC project. thiw problem i've got Data source is an invalid type. It must be either an IListSource, IEnumerable, or IDataSource. Help ??

this is the code

```
<script runat="server">

protected void Page_Load(object sender, EventArgs e)
{
    DetailsView1.DataSource = ViewData["item"];
    DetailsView1.DataBind();

}
</script> 
```

and this is my function in the controller

```
public ActionResult Details(string  ProdNo)
    {

        ProductionOrderItem item = ProductionOrderReg.GetProductionOrder(con, ProdNo);
        ViewData["item"] = item;
        return View();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:53:52.193

现在修复了我在函数中添加了一个列表

```
Public ActionResault Details(string prodNo)
{
ProductionOrderItem item = ProductionOrderReg.GetProductionOrder(con, ProdNo);
        List<ProductionOrderItem> myList = new List<ProductionOrderItem>();
        myList.Add(item);
        ViewData["item"] = myList;
        return View();
} 
```

# c# - 枚举数据绑定源，自定义配置部分中的实例

> ID：16187631
> 
> 赞同：0
> 
> 时间：2013-04-24T08:55:26.627
> 
> 标签：c#, .net, data-binding

我有一些代码将数据网格绑定到自定义 Web 配置部分中的实例。它工作正常，我可以编辑、添加和删除网格条目，然后枚举网格的行并将结果保存到自定义配置部分。

```
BindingSource Source = new BindingSource();
Source.DataSource = EmailCustomSection.Instances;
grdUDL.DataSource = Source; 
```

现在我处于服务环境中：没有网格，没有形式。我有一个运行定义服务的 dll 的测试工具。我想迭代虽然`EmailCustomSection.Instances`. 我可以看到计数应该是 3，但是我为获取 [i] 实例所做的每次尝试都失败了。我正在寻找前进的道路。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:58:30.277

尝试

```
foreach(var item in EmailCustomSection.Instances)
{
   // do stuff with item
} 
```

# java - 为什么 BroadcastReceiver 不更改应用程序中的全局变量

> ID：16187638
> 
> 赞同：2
> 
> 时间：2013-04-24T08:55:44.217
> 
> 标签：java, android, broadcastreceiver, global-variables

我的应用程序中需要全局变量。变量将在 BroadcastReceiver 中设置并定期更改。我在服务中的线程中获取并使用它。我的代码：

我为全局变量创建应用程序类：

```
 package com.bklah.blah;
    import android.app.Application;
    public class ApplicationBlah extends Application
     {
       public boolean eSettings;
       public boolean getSettings()
        {
          return this.eSettings;
        }
       public void setSettings( boolean eSettings)
        {
          this.eSettings = eSettings;
        }
     } 
```

我在 AndroidManifest 文件中声明它：

```
 <application android:icon="@drawable/icon"
                 android:label="@string/sAppName"
                 android:theme="@android:style/Theme.NoTitleBar"
                 android:name=".ApplicationBlah">
    <receiver android:name=".BroadcastBlah"
              android:process=":remote" /> 
```

我通过 BroadcastReceiver 定期更改 cicle 中的变量：

```
 public class BroadcastBlah extends BroadcastReceiver
      {
        @Override
        public void onReceive( Context context, Intent intent) 
         {
           ((ApplicationBlah)context.getApplicationContext()).setSettings( true);
           // or ...
           // ((ApplicationBlah)getApplication()).setSettings(true); 
         }
      } 
```

我尝试在服务中的线程中使用 cicle 中的变量：

```
 public class ServiceBlah extends Service
     {
       public static Thread threadBlah = null;
       public String fUse( Context context)
        {
          boolean eSeetingsCurrent1 =((ApplicationBlah)context.getApplicationContext()).eSettings;
          boolean eSeetingsCurrent2 = ApplicationBlah.eSettings;
          boolean eSeetingsCurrent3 = ((ApplicationBlah)context.getApplicationContext()).getSettings();
          // --- all this variables always == false, but i need true from Receiver
        }

       public void fThreadBlah( final Context context)
        {
          final Handler handler = new Handler()
           {
             @Override
             public void handleMessage( Message message) { ... }
           };

          threadBlah = new Thread()
           {
             @Override
             public void run()
              {
                final Message message = handler.obtainMessage( 1, fUse( context));
                handler.sendMessage( message);
              }
           };
          threadBlah.setPriority( Thread.MAX_PRIORITY);
          threadBlah.start();
        }
     } 
```

但我总是在全局变量中得到错误。请说我的错误是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T10:47:07.933

我找到了解决方案：我`android:process=":remote"`从 Manifest 中的接收者属性中删除。它工作正常！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:07:17.937

您正在使用 contect 获取上下文然后将其转换为 Application，它看起来很奇怪。试试他的，不知道行不行

```
((ApplicationBlah)getApplication()).setSettings(true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:17:27.090

如果只是你追求的原始数据类型，我认为你可以使用 SharedPreferences，它真的很容易使用。关于你的活动：

```
public static final String PREFS_NAME = "MyPrefs";

@Override
protected void onCreate(Bundle state){
   super.onCreate(state);
   . . .
   SharedPreferences settings = getSharedPreferences(PREFS_NAME, 0);
   SharedPreferences.Editor editor = settings.edit();
   editor.putBoolean("eSeetingsCurrent1", eSeetingsCurrent1); 
```

然后，您可以通过以下方式在应用程序的任何位置获取此信息：

```
 SharedPreferences settings = getSharedPreferences(PREFS_NAME, 0);
 boolean eSeetingsCurrent1 = settings.getBoolean("eSeetingsCurrent1", false); 
```

更多信息@ [http://developer.android.com/guide/topics/data/data-storage.html#pref](http://developer.android.com/guide/topics/data/data-storage.html#pref)

# database - Cannot connect jdbc to sql server 2008 r2

> ID：16187639
> 
> 赞同：0
> 
> 时间：2013-04-24T08:55:47.767
> 
> 标签：database, jdbc, database-connection, sql-server-2008r2-express, sqljdbc

I am using sql server 2008 r2 sql express. I usually connect to my sql like this: ![enter image description here](https://i.stack.imgur.com/k1PWH.jpg)

Now I want to connect to sql server 2008 r2 from my eclipse.

I searched google and I found that I have to download a jar file and I did and I added it to my project in eclipse.

my code is

```
Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
            String connectionUrl = "jdbc:sqlserver://localhost:1433;"
                    + "databaseName=DATABASE;user=User-PC\\User;password=;"; 
```

To be honest: I don't know if i should put `localhost` or `sqlexpress` and I don't know the password because as I should you in the image or I just use it empty.

the exception is :

```
The TCP/IP connection to the host localhost, port 1433 has failed. Error: "Connection refused: connect. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.". 
```

I enable TCP/IP in my sql configuration

please help me

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T15:50:43.967

![在此处输入图像描述](https://i.stack.imgur.com/8ZQ07.jpg)

创建新用户时，您必须设置该用户的登录名，请检查图像并按彩色按钮，然后选择您的登录名。

之后，将您的字符串 url 连接更改为：

```
Class.forName(DB_DRIVER_NAME);
            String connectionString = "jdbc:sqlserver://" + DB_SERVER
                    + ";databaseName=" + DB_NAME + ";user=" + DB_USER
                    + ";password=" + DB_PASSWORD; 
```

# visual-studio - 无法进入 dll（pdb 可用）

> ID：16187644
> 
> 赞同：5
> 
> 时间：2013-04-24T08:55:54.033
> 
> 标签：visual-studio, debugging, dll, visual-studio-2012

我有一个包含许多项目的解决方案，其中一些位于解决方案路径之外（我使用 xcopy 将编译后的 dll 和 pdb 复制为构建后事件）！

如果我想进入 dll，它们位于我的解决方案之外：

> “当前不会命中断点。没有为此文档加载任何符号”

*   所有文件（dll + pdb + exe）都在同一个目录中
*   源文件在不同的地方
*   进入内部 dll 是可能的

还需要哪些步骤才能调试外部 dll？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-24T23:33:49.180

最简单的解释是 DLL 还没有加载。使用 Debug > Windows > Modules 窗口仔细检查您的假设，在列表中找到您尝试调试的 DLL。

如果您确实在那里找到了它，那么调试器可能会在读取它的 PDB 文件时遇到问题。通过右键单击 DLL 并单击符号加载信息来诊断。它向您显示调试器在哪里查找 PDB 文件。

在以后的 VS 版本中，还要检查同一窗口中的“用户代码”列。如果设置为“否”，则使用工具 > 选项 > 调试 > 常规，取消选中“仅启用我的代码”。

最后注意使用托管调试器来调试本机代码或其他方式。由于您忘记记录您要调试的代码类型，因此问题并不清楚。如果是这种情况，您需要启用混合模式调试。

# html - 使 CSS 渐变扩展为块？

> ID：16187646
> 
> 赞同：0
> 
> 时间：2013-04-24T08:55:59.470
> 
> 标签：html, css

我正在尝试（在某种程度上）复制该主题顶部菜单栏的外观：http: [//elegantthemes.com/preview/Lucid/](http://elegantthemes.com/preview/Lucid/)

我正在努力的部分是让我*借用*`<li>`的渐变来占据元素占据的整个“块” 。由于这在概念上有点难以解释，这是我目前拥有的：http: [//jsfiddle.net/tCH39/](http://jsfiddle.net/tCH39/)

作为参考，以下是相关的 HTML 和 CSS：

```
 <div id="top-menu">
    <ul>
      <li><a href="home">Home</a></li>
      <li><a href="about">About</a></li>
    </ul>
  </div> 
```

CSS：

```
body { /* CSS Reset - http://meyerweb.com/eric/tools/css/reset/ */
  margin: 0; 
  padding: 0; 
  border: 0; 
  outline: 0; 
  font-size: 100%; 
  vertical-align: baseline; 
  background: transparent; 
}

ol, ul { list-style: none; }
li {
  display: inline;
  padding-left: 30px;
  padding-right: 30px;
}

a { 
  text-decoration: none;
  color: black;
}

#top-menu {
  position: relative;
  /*display: block;*/
  background-color: #f9f9f9;
  width: 100%;
  height: auto;
  border-bottom: 1px solid #eeeeee;
  margin-bottom: 60px;
  padding-top: 5px;
  padding-bottom: 5px;
}

#top-menu a {
  text-shadow: 1px 1px 0 #fff;
  color: #4b4b4b;
  width: auto;
  height: 100%;
  display: inline-block;
}

#top-menu > ul > li > a { -moz-transition: all .5s; -webkit-transition: all .5s; -o-transition: all .5s; transition: all .5s; }
#top-menu > ul > li > a:hover { color: #fff; background-color: #4b4b4b; text-shadow: -1px -1px 0 #000; -moz-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); box-shadow: inset 0 0 10px rgba(0,0,0,0.9); }
#top-menu li.sfHover > a { color: #fff; text-shadow: none; } 
```

为什么渐变仅限于文本，而不是由填充、边距等组成的整个区域？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:07:11.080

我对你的 CSS 做了一些更改。我想这就是你要找的。

[现场演示](http://jsfiddle.net/cbm9u/)

```
ul, li {
    margin: 0;
    padding: 0;
}

#top-menu {
  position: relative;
  /*display: block;*/
  background-color: #f9f9f9;
  width: 100%;
  height: auto;
  border-bottom: 1px solid #eeeeee;
}
#top-menu ul{
    margin: 0 35px;
}
#top-menu ul li{
    display:inline-block;
    margin-left: -4px;
}
#top-menu a {
  text-shadow: 1px 1px 0 #fff;
  color: #4b4b4b;
  width: auto;
  height: 100%;
  display: inline-block;
    padding: 25px 30px;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T09:04:59.527

首先你有渐变`a`

```
#top-menu > ul > li > a { -moz-transition: all .5s; -webkit-transition: all .5s; -o-transition: all .5s; transition: all .5s; }
#top-menu > ul > li > a:hover { color: #fff; background-color: #4b4b4b; text-shadow: -1px -1px 0 #000; -moz-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); box-shadow: inset 0 0 10px rgba(0,0,0,0.9); } 
```

这应该在`li`.

```
#top-menu > ul > li { -moz-transition: all .5s; -webkit-transition: all .5s; -o-transition: all .5s; transition: all .5s; }
#top-menu > ul > li:hover  { color: #fff; background-color: #4b4b4b; text-shadow: -1px -1px 0 #000; -moz-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); box-shadow: inset 0 0 10px rgba(0,0,0,0.9); } 
```

然后我增加了高度`li`。

李示例：http: [//jsfiddle.net/tCH39/1/](http://jsfiddle.net/tCH39/1/)

如果你想自己设置样式`a`。

做这个：

```
ol, ul { list-style: none; padding: 0; margin:0; }

a { 
    text-decoration: none;
    color: black;
    padding-top: 30px;
    padding-bottom: 30px;
    padding-left: 10px;
    padding-right: 10px;
    display: block;
} 
```

显示示例的小提琴：http: [//jsfiddle.net/tCH39/7/](http://jsfiddle.net/tCH39/7/)

在我的书中，这是一种更简洁的方法，因为 a 是您想要样式的元素，并且可以“全部”点击。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T09:05:35.933

它仅在文本中受到限制，因为将not`:hover`链接到标签：`<a>``<li>`

```
#top-menu > ul > li > a:hover { 
color: #fff;
background-color: #4b4b4b;
text-shadow: -1px -1px 0 #000;
-moz-box-shadow: inset 0 0 10px rgba(0,0,0,0.9);
-webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.9);
box-shadow: inset 0 0 10px rgba(0,0,0,0.9); } 
```

您可以将css更改为：

```
#top-menu > ul > li:hover {
color:#fff;
background-color:#4b4b4b;
text-shadow:-1px -1px 0 #000;
-moz-box-shadow:inset 0 0 10px rgba(0,0,0,0.9);
-webkit-box-shadow:inset 0 0 10px rgba(0,0,0,0.9);
box-shadow:inset 0 0 10px rgba(0,0,0,0.9);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-24T09:02:45.340

您只为 li 中的 a 标签提供样式。

尝试-

```
#top-menu > ul > li { -moz-transition: all .5s; -webkit-transition: all .5s; -o-transition: all .5s; transition: all .5s; }
#top-menu > ul > li:hover { color: #fff; background-color: #4b4b4b; text-shadow: -1px -1px 0 #000; -moz-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.9); box-shadow: inset 0 0 10px rgba(0,0,0,0.9); } 
```

也许它有帮助

链接：http: [//jsfiddle.net/tCH39/2/](http://jsfiddle.net/tCH39/2/)

# angularjs - 在angularjs中绑定ng-class

> ID：16187648
> 
> 赞同：2
> 
> 时间：2013-04-24T08:56:01.343
> 
> 标签：angularjs, ng-class

在下面的代码中，我在控制器中有一个名为“selectedDesignAreaId”的变量，我将此变量与“designarea.id”的当前值绑定，但是当我将“selectedDesignAreaId”更改为转发器类中的任何 designAreaId 值时未更新...始终设置“unSelectedCanvas”...

```
<div ng-repeat="designArea in productView.designAreas" style="position:absolute;left:{{designArea.x}}px ; top:{{designArea.y}}px;background-color: #ffdead"
                 ng-click="onDesignAreaClick(designArea.id)"
                 ng-class="{true: 'selectedCanvas', false:'unSelectedCanvas'}[(designArea.id == selectedDesignAreaId)]"> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:30:01.783

我试图重现您的问题，但它似乎对我有用：http: [//plnkr.co/edit/AuACV3SZRPgEqGBWpvkl](http://plnkr.co/edit/AuACV3SZRPgEqGBWpvkl)

我希望您可以使用此代码确定原因。

你可能想确定`selectedDesignAreaId`和`designArea.id`等的内容。只需放入`{{ selectedDesignAreaId }}`您的模板中就可以简化您的调试过程。（IMO，它甚至比使用开发控制台更方便。）

# windows-phone-7 - Windows phone 中列表的上下文菜单

> ID：16187662
> 
> 赞同：3
> 
> 时间：2013-04-24T08:56:44.363
> 
> 标签：windows-phone-7, contextmenu, menuitem-selection

首先，我知道这个话题：[How to make context menu work for windows phone？](https://stackoverflow.com/questions/14166876/how-to-make-context-menu-work-for-windows-phone)

但是这种方式很复杂......所以我有这个 XAML 代码：

```
 <StackPanel Name="friendsGrid" Margin="0,0,0,0" Background="Transparent"> 
   <ListBox Name="friendsListBox" FontSize="32" Tap="friendsListBox_Tap">
     <toolkit:ContextMenuService.ContextMenu>
     <toolkit:ContextMenu Name="MyContextMenu" Opened="MyContextMenu_Opened">
     <toolkit:MenuItem Header="action" Click="contextMenuAction_Click"/>
     </toolkit:ContextMenu>
     </toolkit:ContextMenuService.ContextMenu>
   </ListBox>
 </StackPanel> 
```

我正在填写这样的列表：

```
this.friendsListBox.Items.Add(friend.serviceName); 
```

但是，当然，当我执行 longtap 时，上下文菜单会出现并选择整个列表，而不仅仅是一个项目。

是否有一些简单的方法可以识别该项目被点击？谢谢

顺便说一句，我找到了这个方法，但是 contextMenuListItem 没有收到任何东西，它仍然为空：

```
ListBoxItem contextMenuListItem = friendsListBox.ItemContainerGenerator.ContainerFromItem((sender as ContextMenu).DataContext) as ListBoxItem; 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-24T10:34:32.773

您应该将 ContextMenu 块放入您的 ItemTemplate （而不是 ListBox 块）。这里是简短的示例。
XAML：

```
 <ListBox Name="TestList" Margin="26,0,26,0" Height="380" >
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding}">
                        <toolkit:ContextMenuService.ContextMenu>
                            <toolkit:ContextMenu Name="ContextMenu" >
                                <toolkit:MenuItem Name="Edit" Header="Edit" Click="Edit_Click"/>
                                <toolkit:MenuItem Name="Delete"  Header="Delete" Click="Delete_Click"/>
                            </toolkit:ContextMenu>
                        </toolkit:ContextMenuService.ContextMenu>
                    </TextBlock>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

代码：

```
 public List<string> Items = new List<string>
    {
        "Item1",
        "Item2",
        "Item3",
        "Item4",
        "Item5",
    };

    // Constructor
    public MainPage()
    {
        InitializeComponent();
        TestList.ItemsSource = Items;
    }

    private void Edit_Click(object sender, RoutedEventArgs e)
    {
        if (TestList.ItemContainerGenerator == null) return;
        var selectedListBoxItem = TestList.ItemContainerGenerator.ContainerFromItem(((MenuItem) sender).DataContext) as ListBoxItem;
        if (selectedListBoxItem == null) return;
        var selectedIndex = TestList.ItemContainerGenerator.IndexFromContainer(selectedListBoxItem);
        MessageBox.Show(Items[selectedIndex]);
    } 
```

希望这可以帮助。

# python - 我们如何从 on_change 函数触发 act_window 动作？

> ID：16187663
> 
> 赞同：0
> 
> 时间：2013-04-24T08:56:45.287
> 
> 标签：python, action, onchange, openerp

我有一个选择小部件，其中有几个项目恰好是不同模型的名称，在选择模型时，我想触发`act_window`基于该模型的操作，那么我们如何从`on_change`函数触发操作？

据我所知，它只显示`"value"`,`"domain"`和`"warning"`. 我想要与按钮类似的功能`"type=object"`，我们可以简单地返回动作并且一切正常，但我没有运气从`on_change`方法中复制它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T08:51:09.583

您不能从 on_change 函数触发窗口操作。但是你的按钮可以返回一个动作。请查看这篇文章：[在 OpenERP 中调用另一个表单的方法返回值](https://stackoverflow.com/questions/12634031/method-return-value-to-call-another-form-in-openerp/12634259#12634259)

# iphone - 停止后台线程的 CFRunLoop

> ID：16187664
> 
> 赞同：1
> 
> 时间：2013-04-24T08:56:45.817
> 
> 标签：iphone, ios, nsurlconnection

有人知道如何从主线程停止后台线程的运行循环吗？

我有一个类，它具有从服务器下载文件的功能。从主线程我在后台线程中调用函数 sendHttpRequest 从服务器下载文件。

```
[self performSelectorInBackground:@selector(sendHttpRequest:) withObject:file]; 
```

我用过 CFRunLoopRun(); 使用 CFRunLoopStop(CFRunLoopGetCurrent()) 接收回调并避免退出线程和停止运行循环；下载完成后。

但是我需要在下载数据时停止下载，我怎样才能停止运行循环？

任何帮助....

这是我的代码：

```
#import "HTTPHandler.h"

@implementation HTTPHandler

@synthesize fileName;

NSURLConnection *urlConnection;
NSMutableData *receivedData;
NSInteger receivedStatusCode;

- (id)initHttpHandler
{
    self = [super init];
    httpEvent = nil;
    return self;
}

- (void)downloadFile:(NSString *)file
{
    NSLog(@"Download file : %@", file);

    fileName = file;
    NSString *url = [NSString stringWithFormat:@"http://temporaryServerUrl&fileName=%@", fileName];

    NSLog(@"URL : %@", url);

    NSMutableURLRequest *request=[NSMutableURLRequest requestWithURL:[NSURL URLWithString:url] cachePolicy:NSURLRequestReloadIgnoringLocalCacheData timeoutInterval:10.0];

 // create the connection with the request and start loading the data
    [request setHTTPMethod:@"GET"];
    [request setValue:[NSString stringWithFormat:@"text/plain,application/xml"] forHTTPHeaderField:@"Accept"];
    urlConnection =[[NSURLConnection alloc] initWithRequest:request delegate:self];

    if (urlConnection)
    {
        // Create the NSMutableData to hold the received data.
        receivedData = [[NSMutableData data] retain];
    }
    else
    {
        NSLog(@"HTTP connection failed to download file.");
    }

    NSLog(@"Run loop started");
    CFRunLoopRun();   // Avoid thread exiting
    NSLog(@"Run loop stoped");
}

- (BOOL)connection:(NSURLConnection *)connection canAuthenticateAgainstProtectionSpace (NSURLProtectionSpace *)protectionSpace
{
    if ([NSURLAuthenticationMethodHTTPDigest compare:[protectionSpace authenticationMethod]] == NSOrderedSame)
    {
        return YES;
    }
    else
    {
        NSLog(@"Warning: Unsupported HTTP authentication method.");
    }

    return NO;
}

- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge (NSURLAuthenticationChallenge *)challenge
{
    if ([challenge previousFailureCount] == 0)
    {
        NSURLCredential *newCredential;
        newCredential = [NSURLCredential credentialWithUser:@"admin" password:@"1234" persistence:NSURLCredentialPersistenceNone];
        [[challenge sender] useCredential:newCredential forAuthenticationChallenge:challenge];
    }
    else
    {
        NSLog(@"Going to cancel the authentication challenge.");
        [[challenge sender] cancelAuthenticationChallenge:challenge];
        // inform the user that the user name and password in the preferences are incorrect
    }
}

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    // This method is called when the server has determined that it
    // has enough information to create the NSURLResponse.  
    // It can be called multiple times, for example in the case of a
    // redirect, so each time we reset the data.

    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;

    [receivedData setLength:0];
    receivedStatusCode = httpResponse.statusCode;

    if (httpResponse.statusCode == 200)
    {
            NSLog(@"200 ok received");
    }
    else
    {
        // We can also add condition that status code >= 400 for failure.
        NSLog(@"%d status code is received.", httpResponse.statusCode);
    }
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    // Append the new data to receivedData. receivedData is an instance variable declared elsewhere.
    if ([urlConnection isEqual:connection])
    {
        [receivedData appendData:data];
    }
}

- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error
{
    // release the connection, and the data object
    [connection release];
    // receivedData is declared as a method instance elsewhere
    [receivedData release];

    // inform the user
    NSLog(@"Connection failed! Error domain - %@, error code %d, error discryption - %@", [error domain], [error code], [error localizedDescription]);

    // stop a CFRunLoop from running.
    CFRunLoopStop(CFRunLoopGetCurrent());
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    if ([urlConnection isEqual:connection] && (receivedStatusCode == 200))
    {
        NSString *filePath;
     NSString *rootPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
    filePath = [rootPath stringByAppendingPathComponent:fileName];
    NSLog(@"File Path %@", filePath);

        NSString *data = [[[NSString alloc] initWithData:receivedData encoding:NSISOLatin1StringEncoding] autorelease];

        NSLog(@"Data : %@", data);
        [data writeToFile:filePath atomically:YES encoding:NSISOLatin1StringEncoding error:NULL];

    }
    else
    {
    }

    [urlConnection release];
    [receivedData release];

    // stop a CFRunLoop from running.
    CFRunLoopStop(CFRunLoopGetCurrent());
}

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:26:33.803

线程之间的通信是一个非常常见的问题，并且有***很多***可能的解决方案。

我看到的一种解决方案不是使用`performSelectorInBackground:`而是创建一个`NSThread`实例，保存线程引用并调用`start`. 然后您可以使用其中一种`[NSObject performSelector:onThread:...]`方法来调用停止方法（不要忘记在停止循环之前实际取消请求）。

另一种解决方案可能是在循环`CFRunLoopRun`内调用超时`while`，等待某些条件发生。查看 iPhone 中的答案[：如何使用 performSelector:onThread:withObject:waitUntilDone: 方法？](https://stackoverflow.com/questions/2584394/iphone-how-to-use-performselectoronthreadwithobjectwaituntildone-method).

另一种解决方案是使用本地通知 ( `NSNotificationCenter`)。后台线程可以注册自己的通知，主线程可以在条件发生时发送它们。

# javascript - 获取复选框（同名）作为数组

> ID：16187666
> 
> 赞同：2
> 
> 时间：2013-04-24T08:56:49.113
> 
> 标签：javascript, jquery

我有一个包含一组复选框的 HTML 表单：

```
<p><input type="checkbox" name="fruits" value="apple" /> Apple</p>
<p><input type="checkbox" name="fruits" value="banana" /> Banana</p>
<p><input type="checkbox" name="fruits" value="strawberry" /> Strawberry</p> 
```

当我单击一个按钮时，我希望将所有选定的具有相同名称的复选框放在一个数组中。

因此，如果用户选择 Apple 和 Banana，我希望是这样的：

```
{ 'fruits' : [ 'Apple', 'Banana' ] } 
```

我尝试使用 jQuery 的 serializeArray() 方法，但结果不符合我的预期......

```
[ { name="fruits",  value="apple"}, { name="fruits",  value="banana"} ] 
```

我用我的示例代码创建了这个[jsfiddle 。](http://jsfiddle.net/NzeVU/2/)

我知道我可以遍历这个数组并创建我想要的对象。但我的问题是：
**有没有一种*干净简单*的方法（使用 jQuery 或一些插件）来做到这一点？**

**编辑：**我正在寻找某种通用解决方案来解决这个问题。我想告诉一个方法表单元素并让该方法自动查找所有数据。就像 jQuery.serializeArray() 一样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:01:54.770

你可以使用`map`方法。

```
$('#submitBtn').click(function() {
    var obj = {};
    obj.fruits = $('input[name=fruits]:checked').map(function(){
        return this.value;
    }).get();
    console.log(obj);
}); 
```

[http://jsfiddle.net/62f3X/1/](http://jsfiddle.net/62f3X/1/)

您还可以使用属性创建`name`属性：

```
$('#submitBtn').click(function() {
    var obj = {};
    $('input[type=checkbox]:checked').each(function() {
        if (!obj.hasOwnProperty(this.name)) 
            obj[this.name] = [this.value];
        else 
            obj[this.name].push(this.value);
    });
    // console.log(obj);
}); 
```

[http://jsfiddle.net/62f3X/2/](http://jsfiddle.net/62f3X/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T09:02:05.937

可能有更好的方法来实现这一点，但你可以这样做：

```
var fruits = [];

$('#selectAll').click(function() {
   $('input:checkbox').prop('checked', true);
});

$('#submitBtn').click(function() {
   $("input[name=fruits]:checked").each(function() {
     var fruit = $(this).val();
     fruits.push(fruit);
  });

  console.log(fruits);
}); 
```

[http://jsfiddle.net/NzeVU/3/](http://jsfiddle.net/NzeVU/3/)

# android - 如何在布局左侧显示标签栏

> ID：16187670
> 
> 赞同：1
> 
> 时间：2013-04-24T08:57:07.563
> 
> 标签：android, android-layout

我是 android 新手，我刚刚开始第一次使用应用程序。我已经创建/使用标签栏视图来显示多个视图。

我正在`tab bar`屏幕底部。但是我想在屏幕左侧显示标签栏。

我正在使用的代码如下。

```
 android:layout_alignParentBottom="true" 
```

我`activity_main.xml`的如下：-

```
 <TabWidget
        android:id="@android:id/tabs"
        android:layout_width="300dp"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:background="#2184C6" /> 
```

我得到的图像是： - ![在此处输入图像描述](https://i.stack.imgur.com/3hCFF.jpg)

谁能帮我解决这个问题。

# jquery - 如何获取 Select2 下拉列表中的所有值？

> ID：16187672
> 
> 赞同：7
> 
> 时间：2013-04-24T08:57:10.063
> 
> 标签：jquery, ajax, jquery-select2

我们如何获取 jQuery Select2 下拉插件中的所有元素。

我已将 Select2 应用于输入类型 = hidden，然后使用 Ajax 填充它。

现在在一个实例中，我需要获取下拉列表中出现的所有值。

这是一个输入字段。

```
<input type="hidden" id="individualsfront" name="individualsfront" style="width:240px" value="" data-spy="scroll" required /> 
```

并且我已经应用了这个输入字段

```
$("#individualsfront").select2({
    multiple: true,
    query: function (query){
        var data = {results: []};
        $.each(yuyu, function(){
            if(query.term.length == 0 || this.text.toUpperCase().indexOf(query.term.toUpperCase()) >= 0 ){
                data.results.push({id: this.id, text: this.text });
            }
        });
        query.callback(data);
    }
}); 
```

yuyu 是来自一些 AJAX 调用并填充 Select2 的 json。

现在我想在其他一些代码中获取 Select2 中的所有值。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-03-09T22:13:57.970

我试图自己弄清楚这一点，并发现您至少可以在 select2 中获得这些选项。

```
var options = $("#dropdown").find("option")
var optionsText = $("#dropdown").find("option[value='1']").text() 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-24T09:23:05.110

**选项1：**您可以直接使用`data`对象

```
var results = [];
$("#individualsfront").select2({
    multiple: true,
    query: function (query){
        var data = {results: []};
        $.each(yuyu, function(){
            if(query.term.length == 0 || this.text.toUpperCase().indexOf(query.term.toUpperCase()) >= 0 ){
                data.results.push({id: this.id, text: this.text });
            }
        });

        results = data.results; //<=====  
        query.callback(data);
    }
}); 
```

并像这样使用它，例如：

```
$('#individualsfront').on('open',function(){
    $.each(results, function(key,value){
        console.log("text:"+value.text);
    });
}); 
```

**选项 2：**请求功能并使用（临时）类似：

```
$('#individualsfront').on('open',function(){
    $(".select2-result-label").each(function()
        {
            console.log($(this).text());
        })
    });
}); 
```

[http://jsfiddle.net/ouadie/qfchH/1/](http://jsfiddle.net/ouadie/qfchH/1/)

~~**选项3：**您可以使用`.select2("data");`，但只有在没有选定元素时才会返回所有元素。~~

 ~~```
var arrObj = $("#individualsfront").select2("data");
for each(yuyu in arrObj)
{
   console.log("id: "+yuyu.id+ ", value: "+yuyu.text);
} 
```~~  ~~* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-12-28T15:31:24.373

```
function select2Options($elementSelect2) {
    var data = [],
        adapter = $elementSelect2.data().select2.dataAdapter;
    $elementSelect2.children().each(function () {
        if (!$(this).is('option') && !$(this).is('optgroup')) {
            return true;
        }
        data.push(adapter.item($(this)));
    });
    return data;
} 
```~~

# signalr - SignalR 1.1 Beta1 和服务器证书

> ID：16187673
> 
> 赞同：0
> 
> 时间：2013-04-24T08:57:16.530
> 
> 标签：signalr

我正在使用 SignalR 1.1 测试版。我的控制器代码如下

```
_signalUrl = "https://localhost/signalr";
_hubConnection = new HubConnection(_signalUrl);
_proxy = _hubConnection.CreateHubProxy("MyHub");
_hubConnection.Start().Wait(); // throws error 
```

以下是错误详情

InnerException {“底层连接已关闭：无法为 SSL/TLS 安全通道建立信任关系。”} System.Exception {System.Net.WebException}

InnerException {“根据验证程序，远程证书无效。”} System.Exception {System.Security.Authentication.AuthenticationException}

在 System.Threading.Tasks.Task.Wait 的 System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions) 的堆栈跟踪（Int32 毫秒超时，CancellationToken 取消令牌）在 System.Threading.Tasks.Task.Wait()。

当使用证书部署到服务器时，使用域名 ( `https://domainname.com/signalr`) 可以正常工作。但不是 IP 地址 ( `https://IPAddress/signalr`)。

还尝试通过以下代码添加客户端证书。

```
_proxy = _hubConnection.CreateHubProxy("MyHub");
X509Certificate certificate = X509Certificate.CreateFromCertFile("MyCert.cer");
_hubConnection.Start(new MyHttpClient() { Certificate = certificate }).Wait(); 
```

如何在启动集线器连接之前配置自定义客户端证书？

任何想法，在此先感谢。

普拉文

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:02:25.577

将证书添加到集合中。

```
_hubConnection = new HubConnection(_signalUrl);
_proxy = _hubConnection.CreateHubProxy("MyHub");
_hubConnection.AddClientCertificate(X509Certificate.CreateFromCertFile("MyCert.cer"));
_hubConnection.Start().Wait(); 
```

# javascript - 如何修复 jquery mobile 1.3.0 与 Knockout click bind 结合使用时阻止 changepage 方法

> ID：16187675
> 
> 赞同：0
> 
> 时间：2013-04-24T08:57:24.397
> 
> 标签：javascript, jquery-mobile, knockout.js

由于我将 jquery mobile 更新到最新版本，1.3.0 我在列表视图中的链接不再起作用。在没有这条线尝试之后，我发现问题出在knockoutJS。

```
data-bind="click: viewmodel.function" 
```

我现在使用 hack 来修复它，我将此行添加到 a 元素：

```
onclick="$.mobile.changePage('#mypage')" 
```

我也在 jquery mobile github 页面上打开了一个问题，但我想知道是否有其他人对此有问题。[我在http://jsbin.com/ijoyeb/6/edit](http://jsbin.com/ijoyeb/6/edit)上做了一个这个问题的例子

# static - 使用函数包含 php 文件

> ID：16187679
> 
> 赞同：0
> 
> 时间：2013-04-24T08:57:29.960
> 
> 标签：static, include, global

在 index.php 中，我需要使用类中的 php 方法包含文件。

我在 index.php 上多次调用该方法，该方法正在执行 include_once 或 require_once。问题是我的第一个包含文件正在创建一些必须在所有文件、其余包含文件以及 index.php 文件中看到的变量。由于我使用一种方法来包含文件，因此每个文件上生成的变量仅在函数内部可见。我不能使用 $this->var_name 也不想让它们成为全局变量。不确定全球是否会有任何好处。我测试了全球，似乎它不起作用。我设法使变量在所有包含的文件中可见，方法是在 include 方法中将它们设为静态，但我也无法使它们在 index.php 文件中可见。

在 index.php 里面我有这个

```
<html>
<head>
<?php $this->Import($filemane);?>
</head>
<body id="stylef<?php echo $default_font_family ?>" 
```

在 Import 方法中，我包含了 $filename 文件。在 $filename 文件，第一个包含的文件上，我正在创建一些需要在 index.php 文件中作为 $default_font_family 和 $css_file 可见的变量（$default_font_family 等），而不是 $this->default_font_family 或 ClassName::var 等等on...我必须将它们保留为 $default_font_family。在 index.php 上，我还为更多文件调用 Import 方法，在这些文件中，我还需要调用在第一个包含文件中定义的变量为 $default_font_family 而不是 $this->$default_font_family。我为此找到的唯一解决方案是在 Import 方法中将变量创建为静态变量，这样我可以在所有包含的文件中将它们视为 $default_font_family 。有没有更简单的方法呢？我现在无法使变量在 index.php 文件中可见。我在 index.php 文件中得到未定义的变量：default_font_family。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:10:03.420

如果您在正确的位置使用 global 关键字，那么 globals 应该可以工作。但是我们讨厌全局变量，不是吗？

您可以使用类的静态方法和属性。

```
class MyClass {
public static $test = false;

public static function getTestVal() {
    return self::$test;
}

    public static function setTestVal($value) {
    self::$test = $value;
}

} 
```

在此之后，您可以通过 MyClass::$test 访问 $test

如果您的 $test 是公开的，则这 2 个函数不是必需的，但如果您想将其设为私有，则可以使用 get 和 set 函数。MyClass::getTestVal(); MyClass::setTestVal(true);

# colors - 获取移动 2D 背景上某个点的颜色

> ID：16187684
> 
> 赞同：0
> 
> 时间：2013-04-24T08:57:49.430
> 
> 标签：colors, background, xna, point, 2d-games

我正在尝试构建一个简单的 2D 游戏，其中滑雪者必须在某个“走廊”中移动。

[游戏截图](http://img801.imageshack.us/img801/8420/unbenanntmke.png "游戏截图")

因此，我创建了一个无缝背景并将其沿屏幕从右向左移动。背景纹理是屏幕宽度的三倍——我在两个位置绘制纹理以创建无缝错觉。

滑雪者可以上下移动，只要他留在走廊（全白）就应该得分，如果他走到外面（略带灰色），他会得到负分 - 表示错误行为。

我的问题

有没有一种简单快捷的方法来获取当前滑雪尖端位置的像素颜色？既然我知道滑雪板在屏幕上的位置，我也可以使用 backBuffer 吗？

我尝试使用以下方法获取颜色：

```
 backgroundTexture.GetData<Color>(0, sourceRectangle, slopeColor, 0,1); 
```

sourceRectangle 与skitip 一起移动，而slopeColor 是一个带有一个条目的颜色数组。

# url - 使用 Yii 的 URL 映射问题

> ID：16187685
> 
> 赞同：1
> 
> 时间：2013-04-24T08:57:52.400
> 
> 标签：url, yii, mapping

我有静态资源的控制器，例如图像

```
class ResourceController extends Controller {

public function actionImage($fname) {
    $file = Yii::app() -> params['baseFilesPath'] . $fname;
    if (file_exists($file)) {
        header("Content-Type: image/jpeg");
        header("Accept-Ranges: bytes");
        header("Content-Length: " . filesize($file));
        // header("Content-Disposition: attachment; filename=" . $fname);
        readfile($file);
    }
} 
```

我有这个控制器的 url 映射：

```
urlManager'=>array(
        'urlFormat'=>'path',
        'rules'=>array(
            'resources/<fname:\w+>' => 'resource/image',
            'product/<name:\w+>/<id:\d+>' => 'catalog/product', 
            '<controller:\w+>/<id:\d+>'=>'<controller>/view',
            '<controller:\w+>/<action:\w+>/<id:\d+>'=>'<controller>/<action>',
            '<controller:\w+>/<action:\w+>'=>'<controller>/<action>',
        ),
    ), 
```

Yii 为这个映射生成正确的 url：

```
/index.php/resources/bf81346e36131b5740bf96dc19b70ac0.jpeg 
```

但是控制器没有调用。

你能帮助我吗？我认为我的正则表达式是错误的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:21:29.207

由于您的参数中有一个*点，并且**点*不是[“单词”字符](http://www.php.net/manual/regexp.reference.escape.php)( )，因此您应该简单地尝试以下规则：`fname`*`\w`*

 *```
'resources/<fname>' => 'resource/image', 
```

[http://www.yiiframework.com/doc/guide/1.1/fr/topics.url#using-named-parameters](http://www.yiiframework.com/doc/guide/1.1/fr/topics.url#using-named-parameters)

> 如果省略 ParamPattern，则表示参数应匹配除斜杠 / 之外的任何字符*

# asp.net-mvc-3 - 在 mvc3 webgrid 中实现行号以及分页？

> ID：16187687
> 
> 赞同：0
> 
> 时间：2013-04-24T08:57:53.167
> 
> 标签：asp.net-mvc-3, paging, webgrid

我想为 webgrid 自动生成行号，我可以用下面的代码来做

```
grid.Column(header: "RowNumber", format: item => item.WebGrid.Rows.IndexOf(item) + 1), 
```

问题在于，我还为我的网格实现分页，当我再次单击下一页时，行号是从 sno 1 生成的，当我的第 1 页包含第 1 到第 5 行的记录时，我的第 2 页行号应该从第 6 行开始，但我的第 2 页行号再次从第 1 行开始。

我发布了我获取数据并将数据绑定到网格的流程

在第一步中，我有我的模型 User.cs，它与数据库交互并获取数据并将数据存储在 List<>

在下一步中，从我的控制器操作方法中，我调用我的模型 User.cs 中的方法，该方法将从数据库中获取数据并将其存储在 List<>

在第三步中，从我的角度来看，我将我的 webgrid 的源属性提供给我的模型中保存数据的列表

```
 var grid = new WebGrid(source: WebgridPaging.Models.User.Users, rowsPerPage: 2,canPage:true,canSort:false); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:01:28.513

我建议您使用视图模型（而不是将您的域模型传递给视图），即：

```
@model IEnumerable<MyViewModel> 
```

代替：

```
@model IEnumerable<SomeDomainModelProbablyComingFromAnAutogeneratedEFContext> 
```

现在在您的视图模型中，您可以自由地拥有一个 RowNumber 属性：

```
public int RowNumber { get; set; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-18T09:45:56.823

尝试以下

```
var cnt = Math.Round(Convert.ToDouble(grid.TotalRowCount / grid.PageCount) / grid.RowsPerPage) * grid.RowsPerPage * grid.PageIndex;

grid.Column(header: "S.NO.", format: item => item.WebGrid.Rows.IndexOf(item) + 1 + cnt) 
```

# vb.net - 向datagridview添加行

> ID：16187692
> 
> 赞同：0
> 
> 时间：2013-04-24T08:58:08.653
> 
> 标签：vb.net, visual-studio-2010

我有一个 datagridview，它有 3 列，第 1 和第 2 列是文本框列，第 3 列是链接列。我尝试使用该命令添加新行。

```
STEPS.Rows.Add(New String() {stepNo, "This is description for step " & stepNo},"link") 
```

但是当我第一次尝试执行上面的行时，它显示`index was outside the bounds of the array`. 当我尝试插入第二行时，这不会发生。当我将所有 3 列都作为文本框时，这也不会发生。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:46:25.450

您正在尝试使用 step.rows.add 方法，但 steps 是 gridview 而不是数据表。datatable 对象包含一个期望 datarow 对象的方法 row.add ，此示例显示将行添加到 datatable ，并与 gridview 链接。

```
 Dim dt As New DataTable

    dt.Columns.Add("field1")
    dt.Columns.Add("field2")

    Dim row1 As DataRow = dt.NewRow
    row1.Item("field1") = "Hello"
    row1.Item("field2") = "World"
    Dim row2 As DataRow = dt.NewRow
    row2.Item("field1") = "Hello2"
    row2.Item("field2") = "World2"
    dt.Rows.Add(row1)
    dt.Rows.Add(row2)
    GridView1.DataSource = dt
    GridView1.DataBind() 
```

# android - 字体适用于安卓手机，但不适用于平板电脑

> ID：16187693
> 
> 赞同：2
> 
> 时间：2013-04-24T08:58:13.637
> 
> 标签：android, css, font-face, tablet

我一直在浏览 stackoverflow 和 google，但到目前为止找不到解决方案（即使我尝试了所有建议的方法）。

我正在尝试在我的网站上嵌入一种字体，它在任何地方都可以正常工作，除了三星 Galaxy 选项卡（android 4.something）。

我使用 MyFonts.com 下载字体，他们说它受支持。这是我的CSS：

```
/* @import must be at top of file, otherwise CSS will not work */
@import url("//hello.myfonts.net/count/268362");

@font-face {
    font-family: 'FranklinGothicBT-ExtraCondensed';
    src: url('../fonts/268362_0_0.eot');
    src: url('../fonts/268362_0_0.eot?#iefix') format('embedded-opentype'),
         url('../fonts/268362_0_0.woff') format('woff'),
         url('../fonts/268362_0_0.ttf') format('truetype');
} 
```

奇怪的是它适用于安卓手机，但不适用于平板电脑。有什么建议吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-08T16:53:42.203

尝试从您的 HTML 链接到字体文件。这是一个示例：[https ://developers.google.com/fonts/docs/getting_started?hl=de](https://developers.google.com/fonts/docs/getting_started?hl=de)

# postgresql - PostgreSQL INNER JOIN vs WHERE 子句连接

> ID：16187699
> 
> 赞同：0
> 
> 时间：2013-04-24T08:58:29.403
> 
> 标签：postgresql, join, inner-join

我认为 INNER JOIN 相当于 WHERE 子句中的 JOIN。当我使用 WHERE 子句进行连接时，我得到了返回的行。但是，如果我执行 INNER JOIN，则不会输出任何行。我得到没有匹配的结果。我错了，还是我做错了什么？

这些连接是否等效？：

内联：

```
account_move_reconcile_line_applied amrla
INNER JOIN account_move_reconcile_line amrl ON (amrla.credit_line_id = amrl.id)
INNER JOIN account_move_reconcile amr ON (amrl.credit_reconcile_id = amr.id)
INNER JOIN account_move_line aml ON (aml.reconcile_partial_id = amr.id)
INNER JOIN res_partner rp ON (aml.partner_id = rp.id) 
```

IN WHERE 子句：

```
amrla.credit_line_id = amrl.id
and amrl.partner_id = rp.id
and amrl.credit_reconcile_id = amr.id
and aml.reconcile_id = amr.id 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T10:25:15.047

有错误的 ID：

```
INNER JOIN account_move_line aml ON (aml.reconcile_partial_id = amr.id) 
```

它应该是 reconcile_id 而不是 reconcile_partial_id。

# javascript - 使用 Javascript 结合 Primefaces 和 Twitter 引导程序启用/禁用提交按钮

> ID：16187703
> 
> 赞同：2
> 
> 时间：2013-04-24T08:58:33.590
> 
> 标签：javascript, html, jsf, twitter-bootstrap, primefaces

如果未选中/选中复选框，我想禁用/启用提交按钮，但按钮的状态不会改变。

我在这里找到了一个解决方案：[取消选中复选框时如何禁用提交按钮？](https://stackoverflow.com/questions/5458531/how-do-i-disable-a-submit-button-when-checkbox-is-uncheck)

复选框：

```
<h:selectBooleanCheckbox id="termsOfUseCheckbox" name="Sign Up" class="input-xlarge"/> 
```

提交按钮：

```
<p:commandButton type="submit" id="submitButton" action="#{genPlaceUserService.persist()}" value="Sign up" styleClass="btn btn-primary btn-large" disabled="true"></p:commandButton> 
```

Javascript：

```
<script type='text/javascript'>
$('#termsOfUseCheckbox').click(function(){

    if($(this).attr('checked') == true){

        $('#submitButton').removeAttr('disabled');
    }
    else {
        $('#submitButton').attr("disabled","true"); 
    }
}); 
```

我知道primefaces需要禁用状态（disable = true），应该通过以下方式完成：

```
$('#submitButton').attr("disabled","true"); 
```

感谢您的帮助，亲切的问候！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-31T13:13:37.293

其实你需要做的不是将disabled设置为true，而是像这样设置disabled为disabled

```
$('#submitButton').attr("disabled","disabled"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:25:51.337

你可以使用这个 ->`$(this).is(':checked')`代替`$(this).attr('checked')`，这是一个 jsfiddle -> [http://jsfiddle.net/AfUGd/3/](http://jsfiddle.net/AfUGd/3/)

编辑了小提琴

# android - 如何更改列表视图项目的颜色变化

> ID：16187706
> 
> 赞同：0
> 
> 时间：2013-04-24T08:58:37.727
> 
> 标签：android, listview, arraylist

```
movieRating = (ListView) findViewById(R.id.lvMovieRating);
        ArrayList<String> mov_rating = new ArrayList<String>();
        mov_rating.add("G");
        mov_rating.add("PG");
        mov_rating.add("PG-13");
        mov_rating.add("R");
        mov_rating.add("NC17");
        mov_rating.add("NR");
        mov_rating.add("Not Rated");
        mov_rating.add("Pending");
        ArrayAdapter<String> movieRatingadapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, mov_rating);
        movieRating.setAdapter(movieRatingadapter); 
```

我想更改 listitem 的 textcolor。它是白色的，但我需要将其更改为黑色。

```
<ListView
                android:id="@+id/lvMovieRating"
                android:layout_width="270dp"
                android:layout_height="320dp"
                android:layout_below="@+id/fl2"
                android:layout_marginLeft="513dp"
                android:layout_marginRight="10dp"
                android:background="#fff" >
            </ListView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:03:09.063

试试下面的代码

```
 movieRating = (ListView) findViewById(R.id.lvMovieRating);
    ArrayList<String> mov_rating = new ArrayList<String>();
    mov_rating.add("G");
    mov_rating.add("PG");
    mov_rating.add("PG-13");
    mov_rating.add("R");
    mov_rating.add("NC17");
    mov_rating.add("NR");
    mov_rating.add("Not Rated");
    mov_rating.add("Pending");
    ArrayAdapter<String> movieRatingadapter = new ArrayAdapter<String>(this, R.layout.list_view,R.id.textView1, mov_rating);
    movieRating.setAdapter(movieRatingadapter); 
```

R.layout.list_view

```
 <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"

        android:layout_marginTop="36dp"
        android:text="Confirm Batsman Dismissal"
        android:textColor="#000000" /> 
```

主要活动列表视图

```
 <ListView
            android:id="@+id/lvMovieRating"
            android:layout_width="270dp"
            android:layout_height="320dp"
            android:layout_below="@+id/fl2"
            android:layout_marginLeft="513dp"
            android:layout_marginRight="10dp"
            android:background="#fff" >
        </ListView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:03:21.360

只需将 android.R.simple_list_item_1 替换为自定义 xml：

// 在 mylist_item.xml 中

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/text1"
    android:textColor="#000"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearanceListItemSmall"
    android:gravity="center_vertical"
    android:paddingStart="?android:attr/listPreferredItemPaddingStart"
    android:paddingEnd="?android:attr/listPreferredItemPaddingEnd"
    android:minHeight="?android:attr/listPreferredItemHeightSmall"
/> 
```

// 在你的代码中

```
ArrayAdapter<String> movieRatingadapter = new ArrayAdapter<String>(this, R.layout.mylist_item, mov_rating); 
```

# android - 为什么我的列表视图中的第一项在平板电脑上使用不同的选择器？

> ID：16187709
> 
> 赞同：0
> 
> 时间：2013-04-24T08:58:45.530
> 
> 标签：android, listview, selector, tablet

这发生在 Google Nexus 10 上，并且在手机上正常工作

* * *

所以我需要一些声誉才能发布任何图片，但是你可以在这里查看：http: [//i.imgur.com/2tG6b0h.png](http://i.imgur.com/2tG6b0h.png)

列表视图工作得很好，除了第一个项目。它以不同的颜色绘制（即我注意到透明度更高），当使用单选模式时，它可以正确突出显示，但在按下其他项目时保持突出显示。

* * *

我的列表选择器是这样的：

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:drawable="@android:color/transparent" android:state_window_focused="false"/>
<item android:drawable="@drawable/rounded_list_selector_disabled_holo_dark" android:state_enabled="false" android:state_focused="true" android:state_pressed="true"/>
<item android:drawable="@drawable/rounded_list_selector_disabled_holo_dark" android:state_enabled="false" android:state_focused="true"/>
<item android:drawable="@drawable/list_selector_background_transition_holo_dark" android:state_focused="true" android:state_pressed="true"/>
<item android:drawable="@drawable/list_selector_background_transition_holo_dark" android:state_focused="false" android:state_pressed="true"/>
<item android:drawable="@drawable/rounded_list_focused_holo" android:state_focused="true"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T11:48:08.453

我在 Galaxy Note 10.1 上遇到了同样的问题，我认为这将是一些与硬件相关的问题。但确实我使用了错误的 ListView 程序。

不幸的是，我不知道我调用的是哪种（“错误”）方法，但您正在寻找的方法是：

```
ListView.setItemChecked(int position, boolean checked) 
```

在 SingleChoiceMode 中，可能需要取消选中先前选中的项目。

让我知道它是否有效。

编辑 2：删除了我之前的编辑（没用）

# java - Java：有时从 TargetDataLine 读取声音并写入 ByteArrayOutPutStream 的时间不同

> ID：16187711
> 
> 赞同：2
> 
> 时间：2013-04-24T08:58:47.750
> 
> 标签：java, timer, capture, javasound, bytearrayoutputstream

我有一个线程，我正在从 TargetDataLine（麦克风）读取数据并将其写入 ByteArrayOutputStream。我有一个小“计时器”，因为我想录制 10 毫秒的声音，然后将捕获的数据传递给另一个对象。到目前为止没有问题，此代码捕获 10 毫秒的音频并传递数据。但有时，while 循环需要大约 130 毫秒……有谁知道为什么会发生这种情况？这是我的代码：

```
while (true) {
            byte tempBuffer[] = new byte[2];
            try {
                byteArrayOutputStream = new ByteArrayOutputStream();
                start = System.nanoTime();

                double recording = System.nanoTime();
                // Get microphone input
                while (System.nanoTime() - start <= 10 * 1000000) {
                    int count = targetDataLine.read(tempBuffer, 0,
                            tempBuffer.length);

                    if (count > 0) {
                        byteArrayOutputStream.write(tempBuffer, 0, count);
                    }
                }

                byteArrayOutputStream.close();

                LLCapturedData.push(byteArrayOutputStream.toByteArray());

                byteArrayOutputStream.flush();

                // Tell observers, that input is captured
                setChanged();
                notifyObservers();
            } catch (Exception e) {
                // TODO
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T16:29:42.623

我建议阅读链接的文章。它讨论了 Java 使“实时”音频变得困难的各种方式。由于垃圾收集的中断和 JVM 通过并行线程完成的时间拼接，不仅有一些方面，而且代码可能需要不同的时间来执行，具体取决于它是被解释还是在内存中。

“Java 中的实时、低延迟音频处理” [http://quod.lib.umich.edu/cgi/p/pod/dod-idx?c=icmc;idno=bbp2372.2007.131](http://quod.lib.umich.edu/cgi/p/pod/dod-idx?c=icmc;idno=bbp2372.2007.131)

如果您希望精确到 10 毫秒，最好的方法是对样本进行计数。您知道输入的采样率，是吗？如果是 44100 fps，则 10 毫秒将是 441 个样本长。

# spring - 在 .ear 中共享应用程序上下文 - 它是如何完成的？

> ID：16187716
> 
> 赞同：0
> 
> 时间：2013-04-24T08:59:02.037
> 
> 标签：spring, ear

读完这篇[文章](http://blog.springsource.org/2007/06/11/using-a-shared-parent-application-context-in-a-multi-war-spring-application/)后，我有点困惑，因为我假设耳内的战争是孤立的，以至于它们无法相互交谈。如果我的假设是正确的，他们如何共享应用程序上下文？spring 会启动自己的类加载器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:19:09.507

应用程序有自己的类加载器，EAR 及其包含的战争属于同一个应用程序，并且它们可以访问彼此的类，更具体地说是单例。我找不到更好的描述，但这**[就是](http://docs.oracle.com/cd/E13222_01/wls/docs90/programming/classloading.html#1073493)**weblogic 处理它的方式。

# liferay - aui:form 有很多 aui:button

> ID：16187717
> 
> 赞同：0
> 
> 时间：2013-04-24T08:59:05.170
> 
> 标签：liferay, liferay-6, alloy-ui

我正在尝试以这种方式开发带有三个 aui:button 的 aui:form ...

```
<portlet:actionURL name="generateRule" var="generateRuleURL"/>
<portlet:actionURL name="generateRuleAnd" var="generateRuleAndURL"/>
<portlet:actionURL name="generateRuleOr" var="generateRuleOrURL"/>

<aui:form action="<%= generateRuleURL.toString() %>" method="post">
<aui:fieldset column="false">
<aui:select name="FirstRuleElement" >
<aui:option value="Age">
<liferay-ui:message key="Age" />
</aui:option>
<aui:option value="Country">
<liferay-ui:message key="Country" />
</aui:option>
<aui:option value="Direction">
<liferay-ui:message key="Direction" />
</aui:option>
</aui:select>
<aui:select name="FirstRuleAttribute" >
<aui:option value="Age">
<liferay-ui:message key="Age" />
</aui:option>
<aui:option value="Country">
<liferay-ui:message key="Country" />
</aui:option>
<aui:option value="Direction">
<liferay-ui:message key="Direction" />
</aui:option>
</aui:select>
</aui:fieldset>
<aui:fieldset column="false">
<aui:button-row>
<aui:button type="submit" value="End" />

<aui:button type="submit" value="And"
onClick="<%= generateRuleAndURL.toString()%>" />

<aui:button type="submit" value="Or"
onClick="<%= generateRuleOrURL.toString()%>" />
</aui:button-row>
</aui:fieldset>
</aui:form> 
```

我想从 Portlet 执行不同的方法，具体取决于按下的按钮......

```
public void generateRule(ActionRequest request, ActionResponse response)
public void generateRuleAnd(ActionRequest request, ActionResponse response)
public void generateRuleOr(ActionRequest request, ActionResponse response) 
```

使用此功能检索数据...

```
request.getParameter("FirstRuleElement") 
```

但是通过单击 And 和 Or 按钮，我没有得到表单的请求参数。

你知道我怎么能解决这个问题吗？

谢谢你，奥里奥尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T14:27:49.410

取而代之的是

```
<aui:button type="submit" value="And"
onClick="<%= generateRuleAndURL.toString()%>" />

<aui:button type="submit" value="Or"
onClick="<%= generateRuleOrURL.toString()%>" /> 
```

，您可以在下面使用 javascript。

```
<aui:button type="submit" value="And"
onClick="javascript:submitTheForm('<%= generateRuleAndURL.toString()%>')" />
<aui:button type="submit" value="Or"
onClick="javascript:submitTheForm('<%=generateRuleOrURL.toString()%>')" />

<script>
function submitTheForm(url){
    document.forms['<portlet:namespace/>myform'].action=url;
    document.forms['<portlet:namespace/>myform'].submit();
}
</script> 
```

为 aui:form 赋予 name 属性为 myForm。

高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T10:41:27.560

这是我在 docroot 文件夹下 view.jsp 中的代码。

```
<portlet:defineObjects />

<c:choose>
    <c:when test="<%= themeDisplay.isSignedIn() %>">
        <aui:form action="<%= generateRuleURL.toString() %>" method="post">
            <aui:fieldset column="false">
            <aui:select name="FirstRuleElement" >
                <aui:option value="Age">
                    <liferay-ui:message key="Age" />
                </aui:option>
                <aui:option value="Country">
                    <liferay-ui:message key="Country" />
                </aui:option>
                <aui:option value="Direction">
                    <liferay-ui:message key="Direction" />
                </aui:option>
            </aui:select>
            <aui:select name="FirstRuleAttribute" >
                <aui:option value="Age">
                    <liferay-ui:message key="Age" />
                </aui:option>
                <aui:option value="Country">
                    <liferay-ui:message key="Country" />
                </aui:option>
                <aui:option value="Direction">
                    <liferay-ui:message key="Direction" />
                </aui:option>
            </aui:select>
            <aui:select name="Operator" >
                <aui:option value="=">
                    <liferay-ui:message key="=" />
                </aui:option>
                <aui:option value=">">
                    <liferay-ui:message key=">" />
                </aui:option>
                <aui:option value="<">
                    <liferay-ui:message key='"\<"' />
                </aui:option>
                <aui:option value=">=">
                    <liferay-ui:message key=">=" />
                </aui:option>
                <aui:option value="<=">
                    <liferay-ui:message key="<=" />
                </aui:option>
            </aui:select>
            </aui:fieldset>
            <aui:fieldset column="false">
            <aui:input cssClass="lfr-textarea-container" name="ruleDefinition" style="height: 75px; width: 100%;" type="textarea" value="" wrap="off" />
            <aui:button-row>

                <portlet:actionURL name="generateRule" var="generateRuleURL"/>
                <aui:button type="button" value="End" onClick="<%= generateRuleURL.toString()%>" />

                <portlet:actionURL name="generateRule" var="generateRuleAndURL"/>
                <aui:button type="button" value="And" onClick="<%= generateRuleAndURL.toString()%>" />

                <portlet:actionURL name="generateRule" var="generateRuleOrURL"/>
                <aui:button type="button" value="Or" onClick="<%= generateRuleOrURL.toString()%>" />

                </aui:button-row>
            </aui:fieldset>
        </aui:form>
    </c:when>
    <c:otherwise>
        <div class="portlet-msg-info">
            <aui:a href="<%= themeDisplay.getURLSignIn() %>" label="sign-in-to-your-account" />
        </div>
    </c:otherwise>
</c:choose> 
```

# .net - Windows 8 上的 Surface 运行时异常

> ID：16187718
> 
> 赞同：0
> 
> 时间：2013-04-24T08:59:10.190
> 
> 标签：.net, windows-8, pixelsense

几个月前我们已经开发的软件遇到了一个奇怪的问题，今天我们不得不重新打开应用程序让客户做出一些改进。但是一个奇怪的例外开始出现。似乎是从`ScatterView`. 但奇怪的是应用程序在生产中工作并且代码相同，这可能是什么原因？这里例外。

```
System.TypeInitializationException was unhandled
HResult=-2146233036
Message=The type initializer for 'Microsoft.Surface.Presentation.Input.InteractiveSurface'  threw an exception.
Source=Microsoft.Surface.Presentation
TypeName=Microsoft.Surface.Presentation.Input.InteractiveSurface 
```

在这里您可以找到完整的堆栈跟踪[http://pastebin.com/y3vVurfm](http://pastebin.com/y3vVurfm)

谢谢 **我忘了说该应用程序是在.net 4.5上开发的**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-27T13:52:22.720

您面临的运行时异常可能是您正在为 Any CPU 编译并且现在使用 x64 操作系统的结果。您可以通过仅针对 x86 重新编译来克服这个问题。

请注意：在 Windows 8 上，针对 Microsoft Pixelsense / Samsung SUR40 运行的应用程序存在一些其他限制（未报告触摸事件）。Pixelsense SDK 是在 Microsoft Windows 8 尚未发布时创建的，所以不要指望它会被支持。

如果您想同时支持这两个平台，请参阅[https://blogs.sevensteps.com/Lists/Posts/Post.aspx?ID=10](https://blogs.sevensteps.com/Lists/Posts/Post.aspx?ID=10)了解如何实现这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-10T07:36:29.520

我遇到了同样的[问题](https://stackoverflow.com/questions/32484705/scatterview-runtime-exception-on-x64/32495792#32495792)，终于找到了解决办法：

`GetItemOrientation`异常是由 in中的函数引发的`Microsoft.Surface.Presentation.Controls.ScatterCanvas`。

`GetItemOrientation`您可以通过设置自己的 `Orientation`属性`ScatterViewItem`或设置来省略失败的函数调用`ScatterViewItem.CanRotate = false`。

# android - 上传图片到服务器路径时出现以下异常如何解决？

> ID：16187725
> 
> 赞同：0
> 
> 时间：2013-04-24T08:59:31.737
> 
> 标签：android, image-uploading, multipartentity

我正在使用 Android，从手机上传图像到服务器时遇到问题。我正在使用 post 方法使用多方。

我正在使用以下库**httpmime-4.3-beta1.jar**。

我收到以下异常

```
04-24 14:47:43.815: E/AndroidRuntime(29526): FATAL EXCEPTION: main
04-24 14:47:43.815: E/AndroidRuntime(29526): java.lang.NoClassDefFoundError:  org.apache.http.entity.ContentType
04-24 14:47:43.815: E/AndroidRuntime(29526):    at org.apache.http.entity.mime.content.ByteArrayBody.<init>(ByteArrayBody.java:68)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at org.apache.http.entity.mime.content.ByteArrayBody.<init>(ByteArrayBody.java:88)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at com.example.uploadingimagetoserver.MainActivity.executeMultipartPost(MainActivity.java:161)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at com.example.uploadingimagetoserver.MainActivity.onActivityResult(MainActivity.java:71)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.app.Activity.dispatchActivityResult(Activity.java:5390)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.app.ActivityThread.deliverResults(ActivityThread.java:3201)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3248)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.app.ActivityThread.access$1200(ActivityThread.java:140)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1285)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.os.Looper.loop(Looper.java:137)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at android.app.ActivityThread.main(ActivityThread.java:4921)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at java.lang.reflect.Method.invokeNative(Native Method)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at java.lang.reflect.Method.invoke(Method.java:511)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1027)
04-24 14:47:43.815: E/AndroidRuntime(29526):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:794) 
```

04-24 14:47:43.815: E/AndroidRuntime(29526): at dalvik.system.NativeStart.main(Native Method)

我的代码如下。

```
public class MainActivity extends Activity {

private Bitmap bm;
private final int CAMERA_PICTURE = 1;
private final int GALLERY_PICTURE = 2;
private ImageView userPictureImageView;
private Intent pictureActionIntent = null;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    userPictureImageView = (ImageView) findViewById(R.id.imageView1);
}
public void uploadImage(View v){

     startDialog();
}
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (requestCode == GALLERY_PICTURE) {
        Uri uri = data.getData();
        if (uri != null) {
            // User had pick an image.
            Cursor cursor = getContentResolver().query(uri, new String[] { android.provider.MediaStore.Images.ImageColumns.DATA }, null, null, null);
            cursor.moveToFirst();
            // Link to the image
            final String imageFilePath = cursor.getString(0);
            File photos = new File(imageFilePath);
            bm = BitmapFactory.decodeFile(photos.getAbsolutePath());
            try {
                executeMultipartPost();
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            Bitmap b = decodeFile(photos);
            b = Bitmap.createScaledBitmap(b, 150, 150, true);
            userPictureImageView.setImageBitmap(b);
            cursor.close();
        }
        else {
            Toast toast = Toast.makeText(this, "No Image is selected.", Toast.LENGTH_LONG);
            toast.show();
        }
    }
    else if (requestCode == CAMERA_PICTURE) {
        if (data.getExtras() != null) {
            // here is the image from camera
            Bitmap bitmap = (Bitmap) data.getExtras().get("data");
            bm = bitmap;
            try {
                executeMultipartPost();
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            userPictureImageView.setImageBitmap(bitmap);
        }
    }
}

private Bitmap decodeFile(File f) {
    try {
        // decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f), null, o);

        // Find the correct scale value. It should be the power of 2.
        final int REQUIRED_SIZE = 70;
        int width_tmp = o.outWidth, height_tmp = o.outHeight;
        int scale = 1;
        while (true) {
            if (width_tmp / 2 < REQUIRED_SIZE || height_tmp / 2 < REQUIRED_SIZE)
                break;
            width_tmp /= 2;
            height_tmp /= 2;
            scale++;
        }

        // decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize = scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    }
    catch (FileNotFoundException e) {
    }
    return null;
}

private void startDialog() {
    AlertDialog.Builder myAlertDialog = new AlertDialog.Builder(this);
    myAlertDialog.setTitle("Upload Pictures Option");
    myAlertDialog.setMessage("How do you want to set your picture?");

    myAlertDialog.setPositiveButton("Gallery", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface arg0, int arg1) {
            pictureActionIntent = new Intent(Intent.ACTION_GET_CONTENT, null);
            pictureActionIntent.setType("image/*");
            pictureActionIntent.putExtra("return-data", true);
            startActivityForResult(pictureActionIntent, GALLERY_PICTURE);
        }
    });

    myAlertDialog.setNegativeButton("Camera", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface arg0, int arg1) {
            pictureActionIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
            startActivityForResult(pictureActionIntent, CAMERA_PICTURE);
        }
    });
    myAlertDialog.show();
}

 public void executeMultipartPost() throws Exception {
        try {
            ByteArrayOutputStream bos = new ByteArrayOutputStream();
            bm.compress(CompressFormat.JPEG, 100, bos);
            byte[] data = bos.toByteArray();
            HttpClient httpClient = new DefaultHttpClient();
            HttpPost postRequest = new HttpPost("http://www.uspdhub.com/Upload");
            ByteArrayBody bab = new ByteArrayBody(data, "imageSample.jpg");

            // File file= new File("/mnt/sdcard/forest.png");
            // FileBody bin = new FileBody(file);
            MultipartEntity reqEntity = new MultipartEntity(
                    HttpMultipartMode.BROWSER_COMPATIBLE);
            reqEntity.addPart("uploaded", bab);
            reqEntity.addPart("photoCaption", new StringBody("sfsdfsdf"));
            postRequest.setEntity(reqEntity);
            HttpResponse response = httpClient.execute(postRequest);
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    response.getEntity().getContent(), "UTF-8"));
            String sResponse;
            StringBuilder s = new StringBuilder();

            while ((sResponse = reader.readLine()) != null) {
                s = s.append(sResponse);
            }
            System.out.println("Response: " + s);

        } catch (Exception e) {
            // handle exception here
            Log.e(e.getClass().getName(), e.getMessage());
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-22T08:18:46.407

我不确定这是否会有所帮助，但它就在这里。您是否还添加了 httpcore-4.3-beta1.jar、httpclient-4.3-beta1.jar 和 apache-mime4j？我的理解是，如果您使用 MultipartEntity，您需要所有这些。

# email - 如果我只有电子邮件，如何获取 Facebook ID

> ID：16187728
> 
> 赞同：-1
> 
> 时间：2013-04-24T08:59:42.877
> 
> 标签：email, facebook-c#-sdk

我正在开发一个网站，我想在我的网站上显示我注册用户的 Facebook 个人资料图片。我面临的问题是我既没有 Facebook Id 也没有 Facebook 用户的用户名。我拥有的用户的唯一关键是用户的电子邮件地址。

Acually 我这样做是为了访问 facebook：

var client = new FacebookClient();
var temp = client.Get(email) as IDictionary; PictureUrl = string.Format(" [https://graph.facebook.com/](https://graph.facebook.com/) {0}/picture", me["id"].ToString());

当电子邮件是电子邮件地址时，它不起作用。如果我将电子邮件设置为 Facebook 用户名，它可以工作。

有没有办法通过电子邮件获取 facebookUser？

谢谢

托马斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T12:50:34.067

那根本不可能。无法仅根据电子邮件获取 facebook 用户 ID。

不过，您可以想到一个[gravatar 实现](http://en.gravatar.com/site/implement/)。

# sql - 单选连接Sql查询

> ID：16187731
> 
> 赞同：1
> 
> 时间：2013-04-24T08:59:49.197
> 
> 标签：sql, sql-server, tsql, join

使用`TableA`下面提供的数据，我需要一个`SELECT`返回结果的查询`TableB`：

**表A**：

```
Id  Cvs 
--------------------------------
1   aaa,eee,ccc,ggg,hhh,bbb
2   ggg,bbb,ccc,ggg,aaa,bbb,bbb
3   ddd,ggg,eee 
```

**表B**：

```
Id  Value
1   aaa
1   eee
1   ccc
1   ggg
1   hhh
1   bbb
2   ggg
2   bbb
2   ccc
2   ggg
2   aaa
2   bbb
2   bbb
3   ddd
3   ggg
3   eee 
```

由于 T-SQL 函数或连接查询，请帮助我如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:01:27.767

尝试这个

```
SELECT A.ID,  
     Split.a.value('.', 'VARCHAR(100)') AS CVS  
FROM  
(
    SELECT ID,  
         CAST ('<M>' + REPLACE(CVS, ',', '</M><M>') + '</M>' AS XML) AS CVS  
    FROM  TableA 
) AS A CROSS APPLY CVS.nodes ('/M') AS Split(a) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T10:05:54.767

我将创建一个单独的函数，从 CSV 列表中返回所有值（包括重复值）：

```
IF  EXISTS (SELECT * FROM sysobjects WHERE id  = OBJECT_ID(N'[dbo].[fn_TEST]') AND xtype  IN (N'FN', N'IF', N'TF'))
BEGIN
    DROP FUNCTION [dbo].[fn_TEST]
END
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE FUNCTION [dbo].[fn_TEST]
(
    @CSVList NVARCHAR(MAX)
)
RETURNS @ResultSet TABLE
(
     RecValue NVARCHAR(MAX)
    ,RecID BIGINT IDENTITY(1, 1) PRIMARY KEY
)
AS
BEGIN

    DECLARE @XML xml = N'<r><![CDATA[' + REPLACE(@CSVList, ',', ']]></r><r><![CDATA[') + ']]></r>'

    INSERT INTO @ResultSet (RecValue)
    SELECT RTRIM(LTRIM(Tbl.Col.value('.', 'nvarchar(max)')))
    FROM @xml.nodes('//r') Tbl(Col)

    RETURN
END

GO 
```

然后您可以像这样简单地使用“SELECT”语句和“CROSS APPLY”语句：

```
SET NOCOUNT ON
GO

    DECLARE @DataSource AS TABLE
    (
         ID TINYINT IDENTITY(1,1)
        ,CSV NVARCHAR(4000)
    )

    INSERT INTO @DataSource ([CSV])
    VALUES ('aaa,eee,ccc,ggg,hhh,bbb')
          ,('ggg,bbb,ccc,ggg,aaa,bbb,bbb')
          ,('ddd,ggg,eee')

    SELECT ID
          ,RecValue
    FROM @DataSource DS
    CROSS APPLY [dbo].[fn_TEST](CSV) FN

SET NOCOUNT OFF
GO 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:24:01.373

请试试：

```
DECLARE @table as TABLE(ID int, CVS  Nvarchar(50))
insert into @table
select 1, 'aaa,eee,ccc,ggg,hhh,bbb' CVS union all
select 2, 'ggg,bbb,ccc,ggg,aaa,bbb,bbb' CVS union all
select 3, 'ddd,ggg,eee'

;WITH Split_Col 
AS
(
    SELECT ID, CONVERT(XML,'<table><col>' + ColName + '</col></table>') AS xmlcol
    FROM
    (
        SELECT ID, Split.a.value('.', 'VARCHAR(100)') AS ColName  
        FROM  
        (
             SELECT ID, CAST ('<M>' + REPLACE(CVS, ',', '</M><M>') + '</M>' AS XML) AS ColName  
             FROM  (select * from @table) TableName
         ) AS A 
            CROSS APPLY ColName.nodes ('/M') AS Split(a)
    ) TableName
)

 SELECT      
 ID, xmlcol.value('/table[1]/col[1]','varchar(100)') AS studentID
 FROM Split_Col 
 order by ID 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T12:56:36.887

***请尝试其中一种 -***

```
DECLARE @temp TABLE
(
      id INT
    , string NVARCHAR(200)
)

DECLARE @Separator CHAR(1)
SELECT @Separator = ','

INSERT INTO @temp (id, string)
VALUES 
(1,   'aaa,eee,ccc,ggg,hhh,bbb'),
(2,   'ggg,bbb,ccc,ggg,aaa,bbb,bbb'),
(3,   'ddd,ggg,eee') 
```

**1.XML**

```
SELECT 
      id = p.value('(./n)[1]', 'INT')
    , name = p.value('(./s)[1]', 'NVARCHAR(200)')
FROM (
    SELECT field = CAST('<r><s>' + REPLACE(SUBSTRING(',' + t.string + ',', 2, LEN(',' + t.string + ',')), @Separator, '</s><n>' + CAST(t.id AS VARCHAR(10)) + '</n></r><r><s>') + '</s></r>' AS XML) 
    FROM @temp t
) d
CROSS APPLY field.nodes('/r') t(p)
WHERE t.p.exist('n') = 1 
```

**2\. spt_values**

```
SELECT 
      t.id
    , name = 
        SUBSTRING(
              ',' + t.string + ','
            , number + 1
            , CHARINDEX(@Separator, ',' + t.string + ',', number + 1) - number - 1)
FROM @temp t
CROSS JOIN [master].dbo.spt_values n
WHERE [type] = 'p'
    AND number <= LEN(',' + t.string + ',') - 1
    AND SUBSTRING(',' + t.string + ',', number, 1) = @Separator 
```

**3.虽然**

```
DECLARE @items TABLE 
(
      id INT
    , name NVARCHAR(50)
)

DECLARE
      @id INT
    , @string NVARCHAR(2000)
    , @pos INT

DECLARE cur CURSOR LOCAL FAST_FORWARD READ_ONLY FOR
    SELECT id, string
    FROM @temp

OPEN cur

FETCH NEXT FROM cur INTO @id, @string

WHILE @@FETCH_STATUS = 0 BEGIN

    WHILE LEN(@string) > 0 BEGIN

        SELECT @pos = CHARINDEX(@Separator, @string, 1)

        IF @pos = 0
            SELECT @pos = LEN(@string)

        INSERT INTO @items (id, name) 
        SELECT @id, SUBSTRING(@string, 1, @pos - 1)

        SELECT @string = SUBSTRING(@string, @pos + 1, LEN(@string) - @pos)

    END

    FETCH NEXT FROM cur INTO @id, @string

END

CLOSE cur
DEALLOCATE cur

SELECT  
      i.id
    , i.name 
FROM @items i
WHERE name != '' 
```

**4\. CTE**

```
;WITH a AS
(
    SELECT 
          id
        , start_pos = 1
        , end_pos = CHARINDEX(@Separator, t.string)
        , t.string
    FROM @temp t

    UNION ALL

    SELECT 
          id
        , end_pos + 1
        , CHARINDEX(@Separator, string, end_pos + 1)
        , string
    FROM a
    WHERE end_pos > 0
)

SELECT 
      d.id
    , d.name 
FROM (
    SELECT 
          a.id
        , name = SUBSTRING(
              string
            , start_pos
            , ABS(end_pos - start_pos)
        ) 
    FROM a
) d
WHERE d.name != '' 
```

# git - 如何将可选参数转发给 Git 别名

> ID：16187734
> 
> 赞同：1
> 
> 时间：2013-04-24T09:00:05.427
> 
> 标签：git

我`git commit --fixup=<commit>`经常使用并想将其缩短为`git fixup <commit>`. 有时我想添加额外的标志（例如`-a`）。因此我设置了一个别名，它支持一个额外的标志（`$2`）：

```
[alias]
  fixup = !sh -c 'git commit -m\"fixup! $1\" \"$2\"' - 
```

这可以推广到支持任意数量的标志吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:11:49.907

我相信这样的事情应该适合你：

```
[alias]
  fixup = "!_() { local commit_id=\"$1\"; shift; git commit -m \"fixup! $commit_id\" \"$@\"; }; _" 
```

它使用 shell 函数和移位运算符来剥离第一个参数。然后`$@`可用于其余参数。

# android - 由properties.load()引起的引用表溢出；

> ID：16187737
> 
> 赞同：0
> 
> 时间：2013-04-24T09:00:14.037
> 
> 标签：android, properties, overflow, logcat, fileinputstream

这是我的 LogCat：

```
04-24 10:51:42.384: W/dalvikvm(30752): ReferenceTable overflow (max=1024)
04-24 10:51:42.384: W/dalvikvm(30752): JNI pinned array reference table (0x5c75b170) dump:
04-24 10:51:42.384: W/dalvikvm(30752):   Last 10 entries (of 1024):
04-24 10:51:42.384: W/dalvikvm(30752):      1023: 0x42836b48 byte[] (1 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1022: 0x430b65b8 byte[] (8192 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1021: 0x426f93e8 byte[] (1 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1020: 0x430421b0 byte[] (8192 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1019: 0x42713fa0 byte[] (1 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1018: 0x430ae558 byte[] (8192 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1017: 0x42798e88 byte[] (1 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1016: 0x430a64f8 byte[] (8192 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1015: 0x42e6bce0 byte[] (1 elements)
04-24 10:51:42.384: W/dalvikvm(30752):      1014: 0x43092438 byte[] (8192 elements)
04-24 10:51:42.384: W/dalvikvm(30752):   Summary:
04-24 10:51:42.384: W/dalvikvm(30752):       515 of byte[] (1 elements) (515 unique instances)
04-24 10:51:42.384: W/dalvikvm(30752):       509 of byte[] (8192 elements) (509 unique instances)
04-24 10:51:42.384: E/dalvikvm(30752): Failed adding to JNI pinned array ref table (1024 entries)
04-24 10:51:42.384: I/dalvikvm(30752): "Thread-2836" prio=5 tid=1036 RUNNABLE
04-24 10:51:42.384: I/dalvikvm(30752):   | group="main" sCount=0 dsCount=0 obj=0x42773468 self=0x9da32660
04-24 10:51:42.384: I/dalvikvm(30752):   | sysTid=850 nice=0 sched=0/0 cgrp=apps handle=-1650356024
04-24 10:51:42.384: I/dalvikvm(30752):   | schedstat=( 0 0 0 ) utm=0 stm=0 core=0
04-24 10:51:42.384: I/dalvikvm(30752):   at libcore.io.Posix.recvfromBytes(Native Method)
04-24 10:51:42.384: I/dalvikvm(30752):   at libcore.io.Posix.recvfrom(Posix.java:131)
04-24 10:51:42.384: I/dalvikvm(30752):   at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:164)
04-24 10:51:42.384: I/dalvikvm(30752):   at libcore.io.IoBridge.recvfrom(IoBridge.java:513)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.net.PlainSocketImpl.read(PlainSocketImpl.java:488)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:46)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:240)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.io.DataInputStream.read(DataInputStream.java:84)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.io.BufferedInputStream.read(BufferedInputStream.java:304)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.io.InputStream.read(InputStream.java:163)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.io.BufferedInputStream.fillbuf(BufferedInputStream.java:142)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.io.BufferedInputStream.read(BufferedInputStream.java:309)
04-24 10:51:42.394: I/dalvikvm(30752):   at java.io.InputStream.read(InputStream.java:163)
04-24 10:51:42.394: I/dalvikvm(30752):   at com.bowltec.network.Reader1$1.run(Reader1.java:28)
04-24 10:51:42.394: E/dalvikvm(30752): VM aborting
04-24 10:51:42.394: A/libc(30752): Fatal signal 11 (SIGSEGV) at 0xdeadd00d (code=1), thread 850 (Thread-2836) 
```

这里是我的代码，这个 LogCat 属于：

```
public static int cfgget(String tocollect) throws IOException {

    FileInputStream fis = context.openFileInput(cfg);
    props.load(fis);
    fis.close();

    if (props.containsKey(tocollect)) {
        String collected = props.getProperty(tocollect, "0");
        coll = Integer.valueOf(collected);
        return coll;
    } else {
        return 0;

    }
} 
```

这个片段至少每秒调用一次，大约 5 到 6 分钟后，我的应用程序因上面显示的 LogCat 而崩溃。有谁可以帮助我理解它在说什么并解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-15T13:57:19.953

这个错误属于我使用的线程。如果你打开了 1024 个线程，但你忘记以任何方式停止它们，你就会得到上面的这个。

# eclipse - 通过 EGit 使用 Synchronize Workspace 更新我的 git 工作目录

> ID：16187739
> 
> 赞同：5
> 
> 时间：2013-04-24T09:00:21.427
> 
> 标签：eclipse, egit

我正在使用 Eclipse 的 Git 插件。为了更新我的工作目录，我曾经执行过**Pull**或**Fetch+Merge**。当有冲突需要解决时，我使用**合并工具**。但最近我尝试了一种新方法。

要查看其他人更改了什么，我执行**Fetch**，然后执行**Synchronize Workspace**。如果我在团队同步视图中直接更新我的代码后尝试**提交并推送**，我会收到“rejected-non-fast-forward”错误。

我想知道我是否可以使用团队同步视图更新我的工作目录，或者唯一的方法是通过 Egit 的**合并**操作。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-24T19:10:16.793

“同步工作区”和团队视角只是显示更改的其他方式。两者都不会修改底层的 git 工作流程。在推送到共享存储库时，您始终必须在提交更改之前合并传入的更改。

但是，如果您总是只想将传入的更改与您自己的本地更改合并，那么您可能需要[查看本地分支的“rebase”拉取策略](http://wiki.eclipse.org/EGit/User_Guide#Branch_Creation_Dialog)。这基本上会暂时删除您自己的更改，将远程更改拉入您的分支并重新应用您自己的本地更改。如果发生合并冲突，您仍然必须解决它们。

# neo4j - Neo4j - 从节点数组中搜索

> ID：16187740
> 
> 赞同：0
> 
> 时间：2013-04-24T09:00:24.733
> 
> 标签：neo4j

在我的情况下，我有一堆代表用户的节点，它们与他们阅读的书籍有关。

这个用户有一个属性，说明他们来自哪里，我根据他们的国家将他们添加到索引中。

所以我想在索引中搜索来自一个国家的用户，并列出那里的人阅读更多的书籍，一些按分组排序。

任何人都可以帮助我如何做到这一点？我在从索引中获取用户并进行查询时遇到了一些问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T09:43:29.290

根据您的描述的几个假设：

*   用户有一个`country`属性，它包含例如`France`作为值
*   您有一个名为的索引`users`，并将用户节点的`country`属性存储在那里
*   连接用户和书籍的关系类型是`READ`
*   书节点有一个`title`属性

基于这些假设，密码查询将如下所示：

```
start user=node:users(country='France')
match user-[:READ]->book
return book.title, count(*) as rank
order by rank desc
limit 20 
```

旁注：提出此类问题的最佳方法是在[http://console.neo4j.org](http://console.neo4j.org)上创建一个示例图并在 SO 上分享您的设置。

# jquery - jQuery 旋转在 Safari 中不起作用

> ID：16187741
> 
> 赞同：0
> 
> 时间：2013-04-24T09:00:26.477
> 
> 标签：jquery, safari, rotation

我在 Safari 5.x 中遇到了 jQuery rotate 插件的问题。它似乎可以工作，没有抛出 js 错误，所有 DOM 元素都具有应该在 jQuery 旋转工作后应用的样式，但它们不可见（尽管`visibility:visible`它们上有）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:00:26.477

解决方案是简单地删除 CSS 中的初始`visibility:visible`值。它被添加来隐藏元素，在所有动画完成并在其他浏览器中正常工作之前（即使在 IE 中，虽然还有另一个钩子）。

所以 Safar 5.x 只是无法显示所有转换后的元素，从`visibility:hidden`. 也许这可以帮助某人。

# iis-7 - 不能从未用 DataContractAttribute 或 SerializableAttribute 标记的类型继承。

> ID：16187743
> 
> 赞同：1
> 
> 时间：2013-04-24T09:00:26.570
> 
> 标签：iis-7, .net-4.0

我在其中一台服务器上收到以下错误，但在另一台服务器上没有。项目文件是相同的。我认为配置有一些差异，但我找不到。

> 不能从未用 DataContractAttribute 或 SerializableAttribute 标记的类型继承。考虑使用 DataContractAttribute 或 SerializableAttribute 标记基类型，或从派生类型中删除它们

什么样的设置/功能安装/角色/装配丢失或类似可能导致这种差异？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-17T07:18:40.743

这是一个 Windows Communication Foundation (WCF) 错误。

# css - 使用带有 > * 的 !important 标签

> ID：16187748
> 
> 赞同：0
> 
> 时间：2013-04-24T09:00:49.447
> 
> 标签：css, parent-child

我目前正在更新 CMS 以使其完全响应。这显然涉及更改大量现有代码。但是，为了让生活更轻松，我希望使用这样的示例：

```
parent > * {
   element!important;
} 
```

在此处的示例中：[http://jsfiddle.net/McMEk/2/](http://jsfiddle.net/McMEk/2/)，我试图使所有页脚文本居中，其中元素先前已设置为左对齐（我在网站中使用它的方式是该网站使用媒体查询处于移动模式）。我本以为将其设为 !important 将确保情况如此，但不幸的是它不起作用。

有人可以阐明我在这里做错了什么以及如何在不使用混乱代码的情况下使其工作吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:05:07.210

我想你想要：

```
footer * {
    text-align:center!important;
} 
```

由于`>`匹配了您的直接孩子，`footer`在`div`这种情况下。

# c# - 在C#中将字符串拆分为char并在后面添加“......”

> ID：16187749
> 
> 赞同：4
> 
> 时间：2013-04-24T09:00:50.953
> 
> 标签：c#, .net, visual-studio-2010

我想将一个字符串拆分为 char

那是我的弦

“非常好的网站中的堆栈溢出”

我想转换这个字符串

喜欢

第一个词和第二个拆分成字符

the.. .. .. t.. ..h.. ..e.. .. stack.. .. ..s.. ..t.. ..a.. ..c.. ..k .. .. 溢出.. .. .. ..o.. ..v.. ..e.. ..r.. ..f.. ..l.. ..o.. ..w.. . ..in.. .. ..i.. ..n.. .. 非常.. .. ..v.. ..e.. ..r.. ..y.. .. 好.. .. ..g.. ..o.. ..o.. ..d.. .. 网站.. .. ..w.. ..e.. ..b.. ..s.. ..i .. ..t.. ..e.. ..

我正在使用自然阅读器软件并制作带有拼写的听写 mp3 文件

那是我的程序

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.IO;

namespace file
{
    class Program
    {

        public static string fileLoc = @"C:\Users\Administrator\Desktop\sample1.txt";
        public static string s;
       public static  string data = "the stack overflow in very good website";
        private static void Main(string[] args)
        {

            Create_File();
            Wrint_in_File();
            Read_file();
            add_comma();

            s = Console.ReadLine();

        }
        public static void Wrint_in_File()
        {
            if (File.Exists(fileLoc))
            {
                using (StreamWriter sw = new StreamWriter(fileLoc))
                {

                    sw.WriteLine(DateTime.Now);
                    sw.WriteLine(data);
                    Console.WriteLine("Data is successfully save in File");

                }
            }
        }
        public static void Create_File()
        {

            FileStream fs = null;
            if (!File.Exists(fileLoc))
            {
                using (fs = File.Create(fileLoc))
                {
                    Console.WriteLine(@"File is Successfully Created at  C:\Users\Administrator\Desktop\sample1.txt");
                     Console.ReadLine();
                }
            }
        }
        public static void Read_file()
        {
            if (File.Exists(fileLoc))
            {
                using (TextReader tr = new StreamReader(fileLoc))
                {
                    string s= tr.ReadToEnd();
                     Console.WriteLine(s);
                    Console.ReadLine();
                }
            }
        }

        public static void add_comma()
        {
            if (File.Exists(fileLoc))
            {
                using (StreamWriter sw = new StreamWriter(fileLoc))
                {

                    sw.WriteLine(DateTime.Now);
                    string txt =data.Replace(" ", ".. .. .. .. .. .. .. ..");
                    sw.WriteLine(txt);
                    Console.WriteLine(txt);
                }
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T09:05:37.950

使用 LINQ，您可以：

```
string str = "the stock overflow in very good website";

string separator = "...";
string joinedString = string.Join("", (str.Split()
                      .Select(r=> r + separator +
                                   (string.Join(separator, r.ToCharArray()))
                                   +separator)));
Console.WriteLine(joinedString); 
```

*（顺便说一下它的堆栈溢出）*

输出将是：

> the...t...h...e...stock...s...t...o...c...k...overflow...o...v。 ..e...r...f...l.. .o...w...in...i...n...非常...v...e... r...y...good...g...o...o...d...website...w. ..e....b....s....i....t....e....

（记得包括`using System.Linq;`）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T09:09:41.257

您可以使用 Linq：

```
string data = "the stock overflow in very good website";
IEnumerable<string> tokens = data.Split()
    .Select(w => string.Format("{0}...{1}", w
        , string.Join("...", w.Select(c => string.Format("{0}...", c)))));
string result = string.Join(" ", tokens); 
```

[**演示**](http://ideone.com/2mJTgn)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T09:07:10.780

让它简单

```
 string data = "the stack overflow is a very good website";

    string []words = data.Split(' ');
    string finalString = string.Empty;
    string separator ="...";

    foreach (string word in words)
    {
        finalString += word + separator;
        string temp = string.Empty;
        foreach (char c in word)
        {
            temp += c + separator;
        }
        finalString += temp + separator;
        temp = string.Empty;
    }

   //do whatever you want to do with finalString 
```

# java - 在 Java 字符串中，如何仅通过 1 行代码（可能使用正则表达式）剪切字符串的一部分？

> ID：16187750
> 
> 赞同：0
> 
> 时间：2013-04-24T09:00:53.770
> 
> 标签：java, regex, string, substring

给定这个字符串`http://verylongurlverylonngurl/image.jpg`&我想剪掉最后一个“/”之前的所有部分。例如，我想删除`http://verylongurlverylonngurl/`上面字符串的一部分。结果将是“image.jpg”。

我必须剪切字符串“标签”&剪切该字符串的代码必须在 super() 关键字内& super 关键字必须是构造函数中的第一个语句。看看这段代码：

```
private class TextShortenedCheckBox extends CheckBox{
      private String originalText;
       public TextShortenedCheckBox(String label, int visibleLength){
            super(label.substring(label.length()-9,label.length()-1));

            originalText=label;

       }
       @Override
       public String getText(){
          return originalText;
       }
    } 
```

看代码：`label.substring(label.length()-9,label.length()-1)`这段代码给出了结果但不能申请其他变量字符串。

那么，如何仅用 1 行代码剪切字符串的一部分，以便我可以将该代码放入 super() 中。也许我们必须使用正则表达式或其他东西？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T09:01:56.123

关于什么

```
str = str.substring(str.lastIndexOf("/") + 1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:03:29.533

您可以使用[lastIndexOf('/')](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#lastIndexOf%28int%29)

返回此字符串中最后一次出现指定字符的索引。对于`ch`从`0 to 0xFFFF`（含）范围内的值，返回的索引（以 Unicode 代码单位表示）是最大值`k`，使得：`this.charAt(k) == ch`为真。对于 ch 的其他值，它是满足以下条件的最大值`k`：`this.codePointAt(k) == ch`为真。在任何一种情况下，如果此字符串中没有出现这样的字符，则`-1`返回。从最后一个字符开始向后搜索字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T09:06:04.170

试试这个：

```
String str ="http://verylongurlverylonngurl/image.jpg";
str = str.substring(str.lastIndexOf("/")+1);
System.out.println(str); 
```

输出：

```
image.jpg 
```

# ios - 检测耳机是否已插入 - iOS 5

> ID：16187757
> 
> 赞同：2
> 
> 时间：2013-04-24T09:01:03.600
> 
> 标签：ios, objective-c, headset

我知道这是一个已经问过的问题，我发现可能重复：

[检测耳机是否插入 iPhone](https://stackoverflow.com/questions/3575463/detecting-if-headphones-are-plugged-into-iphone)

[音频路由未更改时的耳机插件插入事件 - iOS](https://stackoverflow.com/questions/10427239/headphone-plug-in-plug-out-event-when-audio-route-doesnt-change-ios)

[检测耳机（不是麦克风）是否插入 iOS 设备](https://stackoverflow.com/questions/3728781/detect-if-headphones-not-microphone-are-plugged-in-to-an-ios-device)

...以及有关 WWW 的更多信息。但是我已经尝试了所有给出的解决方案，并且每次遇到问题，可能是因为它们是旧线程并且指的是 iOS 4。如何在 iOS 5.0 上检测到它？谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-05-21T16:41:23.020

如果您对仅限 iOS 6 的解决方案感到满意，Apple 添加了几个新的 AVAudioSession 属性，让您只需几行即可检测音频路由（并且不使用 C）。

使用此方法检查耳机（或调整它以检查其他输出 - “扬声器”，“耳机”等）：

```
- (BOOL)isHeadsetPluggedIn
{
    // Get array of current audio outputs (there should only be one)
    NSArray *outputs = [[AVAudioSession sharedInstance] currentRoute].outputs;

    NSString *portName = [[outputs objectAtIndex:0] portName];

    if ([portName isEqualToString:@"Headphones"]) {
        return YES;
    }

    return NO;
} 
```

如果你想被动地响应音频路由的变化，你可以使用新的 NSNotification，*AVAudioSessionRouteChangeNotification*来做到这一点。不幸的是，这个通知并没有告诉你新的路线是什么，只是它切换的前一个路线。但是，您可以调用上述方法的一些变体来获取当前路线。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-01T20:17:32.713

韦斯似乎有一个很好的解决方案。唉，它不是国际证明。此代码仅适用于英语。例如，在荷兰语中，耳机被称为“Koptelefoon”，

```
 *portName 
```

确实包含使测试失败的“Koptelefoon”。

这将在国际上正确地完成工作：

```
 if ([portDescription.portType isEqualToString:AVAudioSessionPortHeadphones])
        ; 
```

# java - java中的多个for循环无法正常工作

> ID：16187771
> 
> 赞同：1
> 
> 时间：2013-04-24T09:01:37.153
> 
> 标签：java, loops

当谈到 Java 时，我是一个完全的新手，我一直在研究一个简单的程序，它可以创建一个具有多个插槽的网格。每个插槽都有一个 X 和一个 Y 值，并存储在一个名为“s”的 ArrayList 中。

这是我的代码：

```
for (int i = 0; i < height; i++) {
    for (int j = 0; j < width; j++) {
        s.add(new Slot(j, i));
    }
} 
```

高度和宽度是用户输入的值。

这是一个循环中的简单循环，本质上它应该可以工作，但不是创建多个具有值 0、0、1、0 2、0 3、0 等的插槽，直到它应该将 Y 轴增加一，它永远不会增加Y 值。相反，在执行第一个循环后，它将返回 0, 0 而不是 0, 1。

这也是它应该如何打印值：

```
for (int i = 0; i <= height; i++) {
    for (int j = 0; j <= width; j++) {
        System.out.print(s.get(j));
    }
    System.out.println("");
} 
```

例子：

> 0,0
> 
> 1,0
> 
> 2,0
> 
> 3,0
> 
> ...
> 
> 9,0
> 
> 0,0（而不是 0,1）

我的问题是为什么我的第一个循环从来没有增加 i 的值？对不起，如果我听起来像个白痴，我就是个菜鸟。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:05:37.107

您的打印功能有问题。

我不知道是什么`s`，但是：

```
for (int i = 0; i <= height; i++) {
        for (int j = 0; j <= width; j++) {
            System.out.print(s.get(j));
        }
        System.out.println("");
 } 
```

仅根据`j`值获取对象。您需要基于`i`并获取对象`j`才能获取所有值。或者您可以只遍历`s`(if `s`is a `Collection`) 中的所有对象：

```
for (Slot sl : s) {
    System.out.println(sl);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:06:18.183

你的问题是打印功能。只需迭代`s`并打印每个插槽：

```
for (Slot slot : s) {
    System.out.println(slot);
} 
```

正如现在实施的那样，您`s`从索引中打印项目`0`- >`width`一遍又一遍地打印`height`。

此外，了解 Java 5 中可用的**for-each**循环，而不是使用`get(index)`：

[甲骨文教程](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T09:06:25.453

该`j`值仅介于 0 之间，`width - 1`因此只会`s.get(j)`访问. 试试这个：`width``s`

```
for (int i = 0; i <= height; i++) {
    for (int j = 0; j <= width; j++) {
        System.out.print(s.get(i * width + j));
    }
    System.out.println("");
} 
```

或者您可以只遍历内容`s`而不使用嵌套`for`循环进行检索。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-24T09:09:28.723

打印时不需要嵌套循环，只需遍历 ArrayList：

```
for(Slot slot : s )
{
    System.out.println(slot);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T09:07:41.083

你每次只从同一个地方打印 j

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T09:09:51.570

问题是您将高度 * 宽度元素存储在一维数组中 - ArrayList 但仅检索宽度数量的元素。

使用二维数组代替 Slot 的 arraylist。

```
Slot[][] s = new Slot[width][height];

for (int i = 0; i < height; i++) {

    for (int j = 0; j < width; j++) {
        s[j][i](new Slot(j, i));
    }
}

for (int i = 0; i <= height; i++) {
        for (int j = 0; j <= width; j++) {
            System.out.print(s[j][i]);
        }
        System.out.println("");
    } 
```

# .net - 非托管 C++ 如何使用 resx 文件？

> ID：16187772
> 
> 赞同：2
> 
> 时间：2013-04-24T09:01:37.810
> 
> 标签：.net, visual-studio, visual-c++, resources

使用 Visual Studio，我可以将 .resx 资源文件添加到非托管 Visual C++ 项目中。但是我该如何使用它呢？

它编译得很好，但是没有生成可以包含在源代码中的资源头。对于经典的 RC 文件，有带有资源 ID 的标头。

我想使用 resx 文件在托管库和非托管库之间共享资源，例如字符串和图标。这个想法是在两个项目中包含相同的 resx 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T23:26:46.387

你不能。缺少将它们从 .resx 格式转换为二进制 .resource 文件并将它们嵌入托管程序集清单的工具。必然地，本机 C++ 项目不会创建程序集。

请改用 .rc 文件。C++ IDE 很好地支持，如果你还没有，那么使用 Project + Add New Item, Resource node, "Resource File (.rc)" 模板。双击添加的项目以打开资源编辑器。在运行时使用 Winapi 函数加载资源，如 LoadString、LoadIcon 等。如果您需要与托管代码共享它们，那么该代码将需要调用这些相同的函数。您可以考虑复制它们以避免这种情况。否则，要求共享没有多大意义。

# android - Android Webview没有加载linkedin页面

> ID：16187773
> 
> 赞同：0
> 
> 时间：2013-04-24T09:01:38.197
> 
> 标签：android, android-webview

我正在尝试在 webview 中加载linkedin 页面，但我只能看到linkedin 徽标，但我尝试加载 facebook，并且成功加载了 facebook。这是我的代码：

```
public class WebViewActivity extends Activity {

    WebView web;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.webview);

        web = (WebView) findViewById(R.id.webview01);
        web.setWebViewClient(new myWebClient());
        web.loadUrl("https://www.linkedin.com");
    }

    public class myWebClient extends WebViewClient
    {
        @Override
        public void onPageStarted(WebView view, String url, Bitmap favicon) {
            // TODO Auto-generated method stub
            super.onPageStarted(view, url, favicon);
        }

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
            view.loadUrl(url);
            return true;
        }

    }
} 
```

谁能帮帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:07:29.683

您需要像这样在您的 WebView 中启用 javascript：-

```
 web.getSettings().setJavaScriptEnabled(true); 
```

# sql - 获取每个不同 PID 的最接近日期的记录

> ID：16187775
> 
> 赞同：1
> 
> 时间：2013-04-24T09:01:53.333
> 
> 标签：sql, oracle

我有一个表格`active`，表格中的数据如下..**示例数据**

```
id     pid     chq_date
-------------------------
1      6       2013-07-07
2      4       2013-10-06
3      4       2013-07-06
4      5       2013-01-06
5      13      2013-09-16
6      33      2013-09-08
7      4       2013-02-06
8      13      2013-01-06
9      7       2013-07-06
10     4       2013-08-02 
```

我需要为每个不同的 pid 获取最近的即将到来的日期的记录**来自样本数据的期望输出**是

```
id     pid     chq_date
-------------------------
1      6       2013-07-07
3      4       2013-07-06
5      13      2013-09-16
6      33      2013-09-08
9      7       2013-07-06 
```

我尝试了不同的查询，但没有得到想要的结果。似乎我最近的查询是

```
 select * from active where chq_date>=sysdate and chq_date in (select 
 min(chq_date) from active where pid in (select distinct pid from active)) 
```

[**小提琴链接**](http://sqlfiddle.com/#!4/a28cc/7)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T10:28:35.010

sashkello 的答案中的一些更改作为 group by 不能这样使用，所以我在内部查询中使用它

```
select * from active where chq_date in (SELECT MIN(chq_date)
FROM active WHERE chq_date >= SYSDATE GROUP BY pid) 
```

[**小提琴链接**](http://sqlfiddle.com/#!4/a28cc/8)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:07:28.863

尝试类似：

```
SELECT 
    id, 
    pid, 
    MIN(IF(chq_date > SYSDATE, chq_date, NULL)) 
FROM active 
GROUP BY pid 
```

或者，如果您想删除`pid`没有即将到来的日期的 s：

```
SELECT 
    id, 
    pid, 
    MIN(chq_date) 
FROM active
WHERE chq_date > SYSDATE
GROUP BY pid 
```

# php - 只允许上传图片

> ID：16187786
> 
> 赞同：0
> 
> 时间：2013-04-24T09:02:22.380
> 
> 标签：php, file-upload

我知道图像类型比我找到的要多，但我在任何地方都找不到它们。这是我到目前为止所拥有的。我想允许**所有**可以使用 img 标签显示的图像文件类型。我记得在 IE 或其他东西中有一个奇怪的 jpegs 。有谁知道我正在谈论的类型或知道在哪里可以找到它们的列表？

例如 .png .jpeg .jpg 和 .gif

```
"image/gif"
"image/jpeg"
"image/png" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:10:57.923

试试[http://en.wikipedia.org/wiki/Image_file_formats](http://en.wikipedia.org/wiki/Image_file_formats)

确定类型的实际图像中的信息。（哑剧类型）

http://site.com/image.php?name=file'> 实际上可以渲染图像

# java - 使用rest在neo4j中运行密码查询的java示例

> ID：16187789
> 
> 赞同：1
> 
> 时间：2013-04-24T09:02:31.423
> 
> 标签：java, neo4j, cypher

试图构建一个用于访问 Neo4j 数据的 Java 客户端，我不想使用 Neo4j 的嵌入式模式，请有人给我相同的示例代码，我正在尝试运行以下代码

```
 import org.neo4j.rest.graphdb.RestAPI;
    import org.neo4j.rest.graphdb.RestAPIFacade;
    import org.neo4j.rest.graphdb.RestGraphDatabase;
    import org.neo4j.rest.graphdb.query.RestCypherQueryEngine;
    import org.neo4j.rest.graphdb.util.QueryResult;
    import static org.neo4j.helpers.collection.MapUtil.map;
    import java.util.Map;

    public class CypherQuery {
         public static void main(String[] args) {
             try{
          System.out.println("starting test");
         final RestAPI api = new RestAPIFacade("http://localhost:7474/db/data/");
         System.out.println("API created");
         final RestCypherQueryEngine engine = new RestCypherQueryEngine(api);
         System.out.println("engine created");
         final QueryResult<Map<String,Object>> result = engine.query("start n=node(2) return n, n.name as name;", map("id", 0));

         System.out.println("query created");
         for (Map<String, Object> row : result) {
            long id=((Number)row.get("id")).longValue();
            System.out.println("id is " + id);
         }
         }
         catch(Exception e)
         {
            e.printStackTrace(); 

         }
         }
       } 
```

但它没有显示任何错误或异常，也没有产生任何输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T09:46:07.007

看起来像是错字，您的网址中有三个“t”`htttp://localhost:7474/db/data`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-07T16:10:48.617

这行得通，您没有 id 结果列，也没有传入参数（建议使用参数）

```
public class CypherQuery {
     public static void main(String[] args) {
         try{
      System.out.println("starting test");
     final RestAPI api = new RestAPIFacade("http://localhost:7474/db/data/");
     System.out.println("API created");
     final RestCypherQueryEngine engine = new RestCypherQueryEngine(api);
     System.out.println("engine created");
     final QueryResult<Map<String,Object>> result = engine.query("start n=node({id}) return id(n) as id, n.name? as name;", map("id", 2));

     System.out.println("query created");
     for (Map<String, Object> row : result) {
        long id=((Number)row.get("id")).longValue();
        System.out.println("id is " + id);
     }
     }
     catch(Exception e)
     {
        e.printStackTrace();

     }
     }
   } 
```

# windows - 在cmd脚本中执行网络可执行文件？

> ID：16187793
> 
> 赞同：0
> 
> 时间：2013-04-24T09:02:37.763
> 
> 标签：windows, cmd

我写了一个 myweb.exe 和 myweb.cmd。

myweb.cmd 是

```
start myweb.exe  My Web Options 
start http://localhost:8080 
```

如果我将这些文件放在本地文件夹中，则当用户单击 myweb.cmd 时它会起作用。

但是，如果我将这些文件放在 \\mysrv\myweb\ 目录中，它就会失败。

Windows 将显示 myweb.exe 未找到。（似乎 myweb.exe 放在 c:\windows 上）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T11:26:41.900

这两个之一可能会有所帮助。

```
@echo off
start "" "c:\program files\name\myweb.exe"  My Web Options 
start http://localhost:8080 
```

如果您有权限，这可能适用于 LAN。

```
@echo off
start "" "\\server\share\myweb.exe"  My Web Options 
start http://localhost:8080 
```

# asp.net-mvc - 更改 google SMTP 中的“发件人”或“回复”

> ID：16187799
> 
> 赞同：0
> 
> 时间：2013-04-24T09:03:08.297
> 
> 标签：asp.net-mvc, gmail

我想为我的网站提供“给朋友发电子邮件”功能。我有一个 ASP.MVC 网站，我使用 GMail 作为我们的提供者（谷歌商业应用程序）。

因此，用户将按下我的“给朋友发电子邮件”按钮，并被要求输入他们的“回复电子邮件地址”，并且希望将电子邮件发送到的人通过电子邮件发送。然后，我使用我们的登录凭据发送电子邮件。问题是“回复”地址更改为凭据地址。

所以 bob@home.com 想向 tom@home.com 发送电子邮件。他为汤姆和他自己输入了正确的电子邮件地址。但是当汤姆收到电子邮件时，它的回复是“sendingsite@gmail.com”，这是登录凭据。

我对此进行了一些研究，据我所知，这在 gmail 中是不可能的……我相信。

我的问题是两方面的。

1.  这在gmail中可能吗？
2.  如果没有，我将如何获得此功能？

我知道有第三方工具可以做到这一点并且是免费的等，但由于隐私问题我们不想使用这些工具。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T12:42:14.490

1.  *这在gmail中可能吗？*AFAIK 无法将 FROM 地址更改为任何不是 SMTP 设置的谷歌应用帐户名称或其别名的东西。我相信您可以更改 REPLYTO 地址。在`System.Net.Mail.MailMessage`中，有一个`ReplyToList`属性。你在那里设置回复？

2.  *如果没有，我将如何获得此功能？*尝试除 gmail / google 商业应用程序之外的其他东西。我听说过关于[SendGrid](http://sendgrid.com/)的好消息。

也要小心这个。GA4B对特定时间段内可以发送的邮件数量有限制。如果您违反此规定，G 将检测到您正在滥用该服务并锁定您发送邮件的帐户。他们打算让人们而不是机器使用他们的服务来发送邮件。只需对您的“发送给朋友”页面进行 1 次自动攻击即可禁用您的 GA4B 帐户，因此请考虑使用验证码或其他一些人工验证小部件。

# c++ - 使用 Boost 编译 Visual Studio

> ID：16187803
> 
> 赞同：3
> 
> 时间：2013-04-24T09:03:14.537
> 
> 标签：c++, boost, visual-studio-2012

我一直在尝试使用 Visual Studio 2012 编译一些代码，包括一些 Boost 类，并且我一直收到有关多个声明的错误。

```
1>c:\boost\boost_1_53_0\boost\tr1\memory.hpp(43): error C2874: using-declaration causes a multiple declaration of 'boost::bad_weak_ptr' 
```

这发生在 boost\tr1\memory.hpp 中包含的其他几个 Boost 类中。

我检查了其他包含目录和库目录是否到位，据我所知，但问题仍然存在。有人知道吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-25T11:28:25.843

问题是 shared_ptr 是C++11中 std**和std::tr1 的一部分。**由于 VS2012（大部分）符合 C++11，因此 boost\tr1\memory.hpp 和内存头之间似乎存在命名空间冲突。

正如 Mihai Todor 所指出的，我认为它确实可能与 using 指令有关。在我的情况下，我可以删除 boost memory.hpp 包括。

# javascript - 如何在 AJAX 请求期间显示加载图像？

> ID：16187804
> 
> 赞同：0
> 
> 时间：2013-04-24T09:03:16.887
> 
> 标签：javascript, jquery

`div`在此 jQuery 代码的帮助下， 我正在将另一个页面加载到 a中：

```
$('#maildiv').load('reports/mail_report.php'); 
```

负载需要一些时间。同时我想显示一个加载图像。加载文件消息时，应隐藏加载图像。

我怎样才能做到这一点？

我试过：

```
function mail() {
    $("#mailimg").show();
    $('#maildiv').load('reports/mail_report.php') {
        $("#mailimg").fadeOut("10000");
        $('#maildiv').fadeOut("10000");
    }
} 
```

```
<input type="button" class='button green' value="Mail Report" name="" id=""  Onclick='mail();return false;'/>
<img id="mailimg" style='display:none;' src='img/loading.gif' width='20' height='20'>     
<div id="maildiv" style="color:red;"> </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:05:28.197

使用 .load() 完成回调隐藏加载图像。

还有一点就是加载的 div `maildiv`，为什么要用`$('#maildiv').fadeOut("10000")`. 我认为您需要使用 show it using`$('#maildiv').fadeIn("10000")`

```
function mail() {
    $("#mailimg").show();
    $('#maildiv').load('reports/mail_report.php', function() {
        $("#mailimg").fadeOut("10000");
        $('#maildiv').fadeOut("10000");
    })
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:07:18.140

这是通用的，应该解决这个问题。

```
//Do what you have to before its starts
$('#whereitstobeloads').load('filethatstobeloaded', function() {
  //What you want to do when its loaded
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:09:37.980

看起来您的想法是正确的-使用的回调函数`load`-但是您的语法不正确。尝试这个：

```
function mail() {
    $('#mailimg').show();
    $('#maildiv').load(
        'reports/mail_report.php'),
        function() {
            $('#mailimg').fadeOut("10000");
            $('#maildiv').fadeOut("10000");
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T09:36:01.113

尝试这个：

```
function mail() {
    $("#mailimg").css('display','block');
    $('#maildiv').load('reports/mail_report.php', function(){
    $('#mailimg').animate({
        opacity: 0.0
        }, 1000, 'linear', function(){
            $('#maildiv').animate({
                    opacity: 1.0
                    }, 1000, 'linear');
        });
    });
} 
```

# iphone - 旋转对象或更改剔除的面？

> ID：16187816
> 
> 赞同：0
> 
> 时间：2013-04-24T09:03:41.083
> 
> 标签：iphone, opengl-es-2.0

在 OpenGL 中，哪一个会带来更好的性能。改变剔除的面或旋转我的对象？

场景如下：

我计算矩阵以输入我的着色器，这将在某个剔除位置（前）绘制纹理 A。当我从前面看到物体时，我可以看到它，但从后面我看不到，这是我想要的行为。现在我想在后面添加“一些东西”，比如说纹理 B，这样当从后面看到对象时，这个其他纹理将出现在与纹理 A 相同的位置和方向，但现在使用纹理 B。

我认为除了构建一个有 2 个面的立方体之外，我还可以简单地在我之前的对象上“重绘”。如果我要旋转对象，我想我可以假设 OpenGL 不会简单地覆盖纹理 A，因为它不会通过面部剔除测试。这需要一个额外的矩阵乘法来将 mi 对象镜像到它自己的轴上。但是，如果我只是更改剔除属性并尝试绘制它怎么办？从前面传递文本但从后面传递它不会产生相同的效果吗？

这两个选项哪个更好？

（PD：我在 iPhone 上这样做，所以每一点性能都与旧设备非常相关。）

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T00:23:52.583

我不确定我是否理解正确，但听起来你想在这里画一个广告牌？在这种情况下，您应该在片段着色器检查中完全禁用背面剔除[`gl_FrontFacing`](http://www.khronos.org/opengles/sdk/docs/manglsl/xhtml/gl_FrontFacing.xml)。根据这一点，您可以翻转纹理坐标并更改纹理（只需绑定两个纹理并将它们发送到着色器）。这样，您只有一个绘图调用，而不必做任何奇怪的技巧或更改 OpenGL 状态。

# delphi - 中止数据库表的长时间运行过程：想法？

> ID：16187820
> 
> 赞同：0
> 
> 时间：2013-04-24T09:03:57.330
> 
> 标签：delphi

我必须处理一个很长的数据库表，并想出中止此循环的最常见方法。主要代码序列是这样的

```
 procedure TForm.ProcessmyTable(Sender : TObject);
 begin
 ..... 

 myTable.first;

 repeat
  ReadSingleRecordfromTable ( MyTable, aRecord) ;
  ProcessMyRecord(aRecord) ;
  MyTable.next;
 until MYTable.EOF;

 end;

 unit ....   ;

 procedure  ProcessMyRecord(aRecord : TMyDataRecord) ;
 begin

     //   do not have user interface stuff here
     //   Application.Processmessages  will not work here  !!!

     ....  ( long running code sequence) 

 end; 
```

可以做一个计时器并根据计时器打破循环，并以 var 作为标志支持....但这真的是解决这个问题的最聪明的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T10:26:27.823

如果此代码在主线程中运行，那么`Application.ProcessMessages`如果您希望用户与您的程序交互并中止，您将需要为消息队列提供服务（即 call ）。在这种情况下，我认为您已经知道解决方案。打电话`Application.ProcessMessages`。如果用户选择中止，请设置一个布尔标志并在最内层循环中定期检查该标志。

当然，这一切都相当混乱。根本问题是您在 GUI 线程上执行长时间运行的操作。那是你不应该做的事情。将数据库处理代码移到不同的线程上。如果用户选择中止，则向线程发出要中止的信号。例如，调用`Terminate`线程的方法将是执行此操作的一种方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T13:09:45.500

如果这是一个漫长的过程，用户可能希望在 Windows 应用程序中确定中止，则*应该*与 GUI 进行一些交互，完成记录计数或进度条（如果不是在每条记录上，则定期进行）任何调用更新标签或进度条将提供设置中止标志的机会（因此不需要 processmessages）。另外，如果用户可以看到一些进展，他们可能不太可能在无聊时中止但完成了 95%。

恕我直言 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:32:20.997

你想什么时候流产？如果用户说“停止”需要太长时间？

在这两种情况下，改变你的

```
until MYTable.EOF; 
```

至

```
until MYTable.EOF or Aborted; 
```

然后在计时器触发或用户按键时设置您的 Aborted 布尔值（请注意，您必须在循环中使用 Application.ProcessMessages 才能使程序能够处理按键）。这不会*在*您的处理例程中中止，而是在每条记录之后中止。如果这还不够快，您将不得不展示您的记录处理程序。

# sql - 如何生成具有给定数字的连续记录？

> ID：16187821
> 
> 赞同：1
> 
> 时间：2013-04-24T09:04:01.427
> 
> 标签：sql, oracle

在 oracle 中，是否有内置函数可以生成具有给定数字的连续记录？例如，数字是`100`，因此您可以生成一个包含 100 条记录的结果集，其值为 1、2、3、4...100，如下所示：

**1
2
3
4
...
100**

我知道存储过程可以做到这一点，我想知道是否有其他方法只使用 sql 语句？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T09:08:16.630

```
select level 
from dual 
connect by level <= 100 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T10:58:20.733

这是另一种方法，使用`model`子句。（Oracle 10g 及更高版本）。

```
SQL> select x
  2    from dual
  3    model
  4    dimension by (0 as z)
  5    measures (0 as x)
  6    rules iterate(101) (
  7      x[iteration_number] =  iteration_number
  8    )
  9  ;

         X
----------
         0
         1
         2
         3
         4
         5
         6
         7
         8
         9
        10
        11

        ...

        100 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T09:05:25.257

请尝试使用 CTE：

```
WITH numbers(n) AS
(
SELECT 1 FROM dual
UNION ALL
SELECT n + 1 FROM numbers WHERE n < 100
)
SELECT * FROM numbers; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-24T09:08:33.347

使用分层查询是传统的：

```
 select level
   from dual
connect by level <= 100 
```

# .htaccess - .htaccess：删除 /index.php/foo

> ID：16187823
> 
> 赞同：0
> 
> 时间：2013-04-24T09:04:07.210
> 
> 标签：.htaccess

我有一个用 Contao 构建的网站。我刚刚打开 URL 重写，现在`index.php/foo`返回 404 错误。我试图改写`/index.php/foo`为`/foo`

```
RewriteCond %{REQUEST_URI} ^/index\.php/
RewriteRule ^index.php/(.*) /$1 [R,L] 
```

但这无济于事。

这是 contao factory .htaccess 的重写部分，其中包含我的全部添加内容（我编辑了所有评论的内容以使其更短）：

```
<IfModule mod_rewrite.c>

  RewriteEngine On

  RewriteBase /

  RewriteCond %{REQUEST_URI} ^/index\.php/ # My rule here
  RewriteRule ^index.php/(.*) /$1 [R,L]    # My rule here

  <FilesMatch "\.(png|gif|jpe?g|js|css|ico|php|xml|csv|txt|gz|swf|flv|eot|woff|svg|ttf|htm)$">
  RewriteEngine Off
  </FilesMatch>

  RewriteRule .*\.html$ index.php [L]

  RewriteRule ^[a-z]{2}/$ index.php [L]
  RewriteRule ^([a-z]{2})$ $1/ [R=301,L]

</IfModule> 
```

我没有得到什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:39:35.020

没关系。我找到了答案。

```
<FilesMatch "\.(png|gif|jpe?g|js|css|ico|THIS HERE CAUSED IT: --> ***php***|xml|csv|txt|gz|swf|flv|eot|woff|svg|ttf|htm)$">
RewriteEngine Off
</FilesMatch> 
```

# ruby - 将方括号添加到字符串的第一个字符

> ID：16187824
> 
> 赞同：1
> 
> 时间：2013-04-24T09:04:07.693
> 
> 标签：ruby, string

我需要将第一个字符放在方括号内。例如，我想转换`"abc"`为`"[a]bc"`. 如何使用正则表达式在 ruby​​ 中执行此操作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T09:07:01.373

使用正则表达式：

```
"abc".sub(/(.)/, '[\1]') 
```

没有正则表达式：

```
s = "abc"
s[0] = "[#{s[0]}]" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T10:25:46.577

尝试这个 ：

```
s = "abc"
p "abc".insert(1, ']').prepend('[') #=> "[a]bc" 
```

# api - REST API 命名混乱 - 如何命名进行分配的资源？

> ID：16187831
> 
> 赞同：0
> 
> 时间：2013-04-24T09:04:35.880
> 
> 标签：api, rest, resources

我正在开发一个 REST API，我在数据库中有以下表格：类、主题、类主题；以及以下资源：`http://api.example.com/class`类表的`http://api.example.com/subject`资源和主题表的资源。

我想为一类学生分配一个主题（例如，将文学分配给第 1 类），即将 class_id 和 subject_id 保存在 classes_subjects 表中，但我很难弄清楚如何为新资源命名classes_subjects 表。

我不能命名它，`http://api.example.com/assign`因为这违反了 REST 原则，但命名它也很尴尬`http://api.example.com/classes-subjects`

我应该在分配主题时只使用 /class 资源并使用 PUT 吗？

我想不出任何名词可用于将科目分配给班级。你们有谁知道如何处理这种问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-25T16:30:29.577

您可以使用以下架构：

*   获取所有科目 123 的课程：

    ```
    GET /subjects/123/classes 
    ```

*   将课程与主题相关联：

    ```
    POST /subjects/123/classes?classId=<classId> 
    ```

# android - Android - 通过活动传递数据库和ID

> ID：16187839
> 
> 赞同：0
> 
> 时间：2013-04-24T09:04:47.777
> 
> 标签：android, database, android-activity

我有 2 个 android 活动

我有一个房间列表的地方，即房间列表。

其他的房间内容。显示所选房间的所有内容的位置。

我想要的只是将房间 id( `r_id`) 通过房间列表类传递到房间概览类中，我可以在其中从数据库中检索其所有内容。

我一直在试图找出我哪里出错了，我认为它在第 94 - 101 行附近：

```
 selectedRoom = (String) ((TextView) view).getText();
            Cursor c2 = sampleDB.rawQuery("SELECT * FROM tbl_roomDesc WHERE roomName =?", new String[] {selectedRoom});

            if (c2 != null ) {
                if  (c2.moveToFirst()) {
                    do {
                        r_id = c2.getString(c2.getColumnIndex("r_id")); 
                    }while (c2.moveToNext());
                }
            }
            c2.close(); 
```

谁能帮我弄清楚我在这里做错了什么？

[这是房间列表的来源](http://pastebin.com/vJC3rxQa)

[这是房间概述的来源](http://pastebin.com/TA21cXGg)

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:09:12.893

`Intent`要在到s之间传递数据，请使用`putExtras()`方法。

例子：

```
Intent i = new Intent(...);
i.putExtras("roomid", "10");
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:09:19.990

```
 final int roomId = r_id;
     next = (ImageButton) findViewById(R.id.next);
     next.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {

            CreateBuilding.val = "Retrieve";
            sampleDB.close();
            Intent intent2 = new Intent(RoomList.this, TabLayoutActivity.class);
            intent2.putExtra("roomId", roomId);
            setResult(RESULT_OK, intent2);
            finish();
            startActivityForResult(intent2, 0);
        }
    });

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
       if (resultCode == Activity.RESULT_OK) {
          if (data != null) {
            int roomId = data. getIntExtra("roomId", 0);
          }
       }
    } 
```

如果我没有误解，您将 roomId 放在里面`Intent`并在里面检索它`onActivityResult`

# gwt - GWT 遇到意外的异常

> ID：16187840
> 
> 赞同：1
> 
> 时间：2013-04-24T09:04:54.053
> 
> 标签：gwt

我目前正在研究 GWT 应用程序。自从我昨晚在台式机上处理项目以来，我已经将项目导入到我的笔记本电脑上。但是我现在收到此错误。

遇到问题：Unexpected exception 请查看日志 [C:\Users----\AppData\Local\Temp\enhance7547571277273228846.log] 了解更多信息。

我还注意到我的 lib 文件夹在图标上有一个红色标记，表示有问题，但它没有指定它。

我昨晚在桌面上工作时确实遇到了这个错误，我设法通过清理项目来修复它。当我现在尝试清理项目时，我得到了同样的错误。

有任何想法吗？

```
java.lang.RuntimeException: Unexpected exception
at com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:76)
at com.google.appengine.tools.enhancer.Enhance.<init>(Enhance.java:71)
at com.google.appengine.tools.enhancer.Enhance.main(Enhance.java:51)
Caused by: java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:74)
... 2 more
Caused by: org.datanucleus.exceptions.NucleusException: Plugin (Bundle) "org.datanucleus" is already registered. Ensure you dont have multiple JAR versions of the same plugin in the classpath. 
The URL "file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.4/appengine-java-sdk-1.7.4/lib/opt/tools/datanucleus/v2/datanucleus-core-3.1.1.jar" is already registered, and you are trying to register an identical plugin located at URL "file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.4/appengine-java-sdk-1.7.4/lib/opt/user/datanucleus/v1/datanucleus-core-1.1.5.jar."
at org.datanucleus.plugin.NonManagedPluginRegistry.registerBundle(NonManagedPluginRegistry.java:541)
at org.datanucleus.plugin.NonManagedPluginRegistry.registerBundle(NonManagedPluginRegistry.java:395)
at org.datanucleus.plugin.NonManagedPluginRegistry.registerExtensions(NonManagedPluginRegistry.java:219)
at org.datanucleus.plugin.NonManagedPluginRegistry.registerExtensionPoints(NonManagedPluginRegistry.java:160)
at org.datanucleus.plugin.PluginManager.<init>(PluginManager.java:65)
at org.datanucleus.plugin.PluginManager.createPluginManager(PluginManager.java:427)
at org.datanucleus.NucleusContext.<init>(NucleusContext.java:224)
at org.datanucleus.NucleusContext.<init>(NucleusContext.java:204)
at org.datanucleus.enhancer.DataNucleusEnhancer.<init>(DataNucleusEnhancer.java:160)
at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1133)
... 7 more 
```

我的类路径

```
 <?xml version="1.0" encoding="UTF-8"?>
<classpath>
    <classpathentry kind="src" path="src"/>
    <classpathentry kind="src" output="test-classes" path="test"/>
    <classpathentry kind="con" path="com.google.appengine.eclipse.core.GAE_CONTAINER"/>
    <classpathentry kind="con" path="com.google.gwt.eclipse.core.GWT_CONTAINER"/>
    <classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER"/>
    <classpathentry exported="true" kind="lib" path="war/WEB-INF/lib/jsoup-1.7.2.jar"/>
    <classpathentry kind="output" path="war/WEB-INF/classes"/>

</classpath> 
```

![库文件夹](https://i.stack.imgur.com/tnn3I.png)

# ios - 在 iOS 中阅读短信

> ID：16187841
> 
> 赞同：28
> 
> 时间：2013-04-24T09:04:57.423
> 
> 标签：ios, swift, sms, appstore-approval, ios12

我是一名 iOS 开发人员，我试图构建一个具有自动激活功能的移动应用程序，我发现不仅仅是阅读 SMS 消息的方法，但只使用私有 API，这会导致 Apple 拒绝我的应用程序。我有两个问题，很感激任何反馈都可以帮助我。

1.  有什么方法可以在 iOS 平台上阅读 SMS 消息而不会遇到 Apple 拒绝？
2.  任何人都可以向我提供 Apple 开发人员文档中的相关部分，描述它不允许在 iOS 平台上阅读 SMS 消息的部分吗？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-24T09:07:09.180

1.  不，没有办法阅读 SMS 消息。由于隐私问题，Apple 对此非常严格。
2.  登录开发者门户并点击[App Store Review Guidelines](https://developer.apple.com/app-store/review/guidelines/)。

指南中没有任何地方指定您不能访问 SMS。但是只有使用不允许的私有方法才能访问，这会导致您的应用程序被拒绝。

您只能访问 Apple 为其提供文档化 API 的数据。除非 Apple 为其提供 API，否则您无法访问应用程序沙盒之外的文件。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2018-06-13T05:52:31.183

*更新*

从 iOS 12 开始，Apple 支持读取文本字段中的安全代码（OTP - 一次性密码）。

> **[一次代码](https://developer.apple.com/documentation/uikit/uitextcontenttype/2980930-onetimecode)**
> 
> 指定单因素 SMS 登录代码的期望值。

您可以从单因素 SMS 登录流程中自动完成安全代码：

```
yourSingleFactorCodeTextField.textContentType = .oneTimeCode 
```

> iOS 支持 UITextField、UITextView 和任何采用 UITextInput 协议的自定义视图上的密码自动填充。
> 
> **警告**
> 
> 如果您对安全代码输入文本字段使用自定义输入视图，iOS 将无法显示必要的自动填充 UI。

[![安全码自动填充](https://i.stack.imgur.com/jtSBN.png)](https://i.stack.imgur.com/jtSBN.png)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-09-24T03:21:12.760

从**iOS 12**开始， Apple 将支持密码自动填充`UITextField`，`UITextView`以及任何采用`UITextInput` `protocol`. 系统键盘将`textContentType`其设置为**.oneTimeCode**

*   使用故事板/XIB

> 选择`UITextField`/单击单击属性检查器`UITextView`。`storyboard/XIB`转到文本输入特征，单击内容类型并选择一个时间码并完成。

*它仅适用于系统键盘。所以避免使用自定义键盘。*

如需更多信息，您还将查看[**WWDC 2018 Session 204 - Automatic Strong Passwords and Security Code AutoFill**](https://developer.apple.com/videos/play/wwdc2018/204/)并跳转到**24:28**以自动预填充 OTP。

[![iPhoneX 图像](https://i.stack.imgur.com/FlO5y.png)](https://i.stack.imgur.com/FlO5y.png)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2020-05-05T06:50:13.467

支持 - 自 iOS 12 起

Flow，在 iPhone 上自动填写短信密码 - [https://support.apple.com/en-in/guide/iphone/iphc89a3a3af/13.0/ios/13.0](https://support.apple.com/en-in/guide/iphone/iphc89a3a3af/13.0/ios/13.0)

实施指南 - [https://developer.apple.com/documentation/security/password_autofill/enabling_password_autofill_on_a_text_input_view](https://developer.apple.com/documentation/security/password_autofill/enabling_password_autofill_on_a_text_input_view)

> 当您登录某些应用程序和网站时，一次性 SMS 密码会发送到您的 iPhone。作为一项安全措施，您需要在应用程序或网站中输入代码。iPhone 可以检测信息中的密码并将其显示在键盘上方。
> 
> 要使用密码，请点按它。

[![在此处输入图像描述](https://i.stack.imgur.com/Iqry4.png)](https://i.stack.imgur.com/Iqry4.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-07-22T09:53:22.983

**对于斯威夫特 5：**

从**iOS 12**开始，Apple 支持读取文本字段中的安全代码（OTP - 一次性密码）。

```
if #available(iOS 12.0, *) {
               otpField.keyboardType = .default
               otpField.textContentType = .oneTimeCode
       } else {
               // Fallback on earlier versions

       } 
```

或者您可以从情节提要中添加此**contentType ，如下所示：**

[![在此处输入图像描述](https://i.stack.imgur.com/uTQ1m.png)](https://i.stack.imgur.com/uTQ1m.png)

# ruby-on-rails - 如何在不重新测试胖模型的情况下测试瘦控制器？

> ID：16187842
> 
> 赞同：1
> 
> 时间：2013-04-24T09:04:58.333
> 
> 标签：ruby-on-rails, unit-testing, model-view-controller, tdd

在开始之前，我使用带有 rspec、shouda-matchers 和 factorygirl 的 rails 来简化测试，所以如果这些库包含有助于解决以下问题的内容，请告诉我。

我正在设计我的控制器和模型，但不确定如何测试这种情况。

我有一个游戏模型，它可以包含一堆玩家。只有在游戏还没有开始的情况下才能移除玩家，所以我在我的游戏模型中添加了一个 remove_player 方法并对其进行了彻底的测试。

在我的播放器控制器中，我有调用 remove_player 方法的删除操作来实际完成工作，然后该操作导致重定向。

如何在不重新测试方法的情况下测试控制器实际上正在做它应该做的事情（调用 remove_player）？我可以测试进行重定向，但如果将来删除对 remove_player 的调用，这不会失败。

我知道 shoulda-matchers 有“should_validate_presence_of”之类的东西，这与这个测试背后的想法相同，但不适用于我自己的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T20:08:48.360

昨晚我尝试了模拟和存根，它们完全符合我的要求。[RSpec 的 mock](https://github.com/rspec/rspec-mocks)很容易上手，并且包含在 rspec gem 中。

存根的基本思想是替换您用来测试另一个对象的真实对象。在我的问题示例中，我可以在测试玩家控制器时制作游戏模型的存根，并说 gamestub.remove_player 始终返回 true。在 RSpec 你可以这样做

```
@game = double("game") #a double is rspec's mock/stub object
@game.stub(:remove_player?).and_return(true) 
```

模拟有点不同，因为它不仅是您正在模拟的对象的替代品，而且还是您的测试条件的一部分。你不仅可以说如果你的假对象被调用会返回什么，还可以说它应该被调用 n 次（否则测试将失败），以及你希望使用什么参数来调用它。在上面的例子中，我可以模拟一个游戏，并说 gamemock.remove_player 应该被调用一次并传入当前玩家并返回 true（如果我想测试如果测试失败会发生什么，则返回 false）。这是一个类似于我为玩家控制器所做的示例。

```
@game = double("game")
Game.should_receive(:find_by_id).with("123").and_return { @game }
@game.should_receive(:remove_player?).with(current_user).and_return(true)
delete :destroy, {:id => 123}
response.should do_whatever 
```

模拟和存根非常相似。[本文](http://martinfowler.com/articles/mocksArentStubs.html)试图强调差异。在我看来，这基本上就是您使用它们的方式，因为模拟具有存根的所有功能，并且可以用作其中之一。这可能就是为什么 RSpec 将它们视为一种类型（双重）

# php - joomla getMailer() 没有按预期工作

> ID：16187845
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:09.603
> 
> 标签：php, email, joomla, frameworks, mailer

我试图使用 joomla 邮件发送电子邮件，但它确实有效，有什么建议吗？我错过了什么？我在网上搜索过，但没有帮助。

我得到的唯一错误是500，我不明白为什么......

这是实际的代码：

```
<?php
//framework joomla
define( '_JEXEC', 1 );
define( 'DS', DIRECTORY_SEPARATOR ); 
define( 'JPATH_BASE', realpath(dirname(__FILE__) . "/../"));
require_once ( JPATH_BASE .DS.'includes'.DS.'defines.php' );
require_once ( JPATH_BASE .DS.'includes'.DS.'framework.php' );
require_once ( JPATH_BASE .DS.'libraries'.DS.'joomla'.DS.'factory.php' );
$mainframe =& JFactory::getApplication('site');

//get vars
$session =& JFactory::getSession();
$num1 = $session->get('variable1');  
$num2 = $session->get('variable2');  
$val= $session->get('variable3');  
$uq= $session->get('unique');
$sendto= $session->get('mail');

//mail
$mailer =& JFactory::getMailer();
$mailer->setSender('some1@domain.com');
$recipient = array($sendto, 'some1else@domain.com');
$mailer->addRecipient($recipient);

$body   = '<h2>sometext</h2>'
    . '<div>sometext</div>'
    . '<div> blabla' echo $num1 'blabla </div>'
    . '<div> texttext' echo $num2 'texet </div>'
    . '<div> texttext' echo $val 'text </div>';

$mailer->isHTML(true);
$mailer->Encoding = 'base64';
$mailer->setBody($body);
$mailer->AddEmbeddedImage("$uq".".gif", "image_0", "", "base64", "image/gif");
$mailer->addAttachment("$uq".".gif");  

//send 
$send =& $mailer->Send();
if ( $send !== true ) {
    //Elimina .gif 
    $mask = "*.gif";
    array_map( "unlink", glob( $mask ) );
    unset($mailer); 
    echo 'error: ' . $send->message;
} else {
unset($mailer);
    //Elimina .gif 
    $mask = "*.gif";
    array_map( "unlink", glob( $mask ) );
    echo 'done';
}
?> 
```

忘记添加有关平台的规格：

PHP 版本 5.3.22

Joomla！版本 2.5.9

如果您需要任何其他信息，请询问。

更新：我尝试了另一个 joomla！版本，代码的简化版本，没有变量，只有一封电子邮件，纯文本电子邮件......似乎没有任何工作。带有空白错误日志的内部服务器错误（500）...（奇怪，但安装它位于具有许多其他安装的子目录中，并且我的虚拟主机允许我只看到“根”日志，所以我认为这是问题所在的空白错误日志...）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T08:08:41.557

ok, solved!

this might help someone else so, here is how:

```
$config =& JFactory::getConfig(); 
```

this line grabs the email configuration of Joomla, without this Jmail will not send emails.

```
//body email
$body   .= "<h2>Texttext</h2>" . "\n";
$body   .= "<div>TexttextTexttextTexttext" . $blockh .  " Texttext " . $blockd . "\n";
$body   .= "<div> TexttextTexttext <span> " .  $num1 . " </span> Texttext </div>" . "\n";
$body   .= "<div>TexttextTexttextTexttext <span> " .  $val . " </span> Texttext </div>"; 
```

previus concatenation of the body was not working, it seems that double quotes are needed to work...

```
$mailer->isHTML(); 
```

the "true" inside is not necessary since true is the default value..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T11:11:14.253

不太确定这是否是您问题的根源。但是 $mail->setSender() 接受一个数组。示例： $mail->setSender(array('SENDER EMAIL', 'SENDER NAME'));

和

$mail->addRecipient() 接受字符串或数组。如果您将电子邮件发送给多个收件人，请使用数组；如果您仅将电子邮件发送给 1 个收件人，请使用字符串。

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-05T19:42:58.813

回答 KentaS 的评论

> 以前的身体连接不起作用，似乎需要双引号才能工作......

它与单引号或双引号*无关。*在您的原始帖子中，您有：

```
$body   = '<h2>sometext</h2>'
. '<div>sometext</div>'
. '<div> blabla' echo $num1 'blabla </div>'
. '<div> texttext' echo $num2 'texet </div>'
. '<div> texttext' echo $val 'text </div>'; 
```

那个部分：

```
'<div> blabla' echo $num1 'blabla </div>' 
```

导致语法错误（字符串，后跟，没有串联，调用“echo”，后跟，没有串联，一个字符串......！

与单引号一起使用的东西：

```
$body   = '<h2>sometext</h2>'
. '<div>sometext</div>'
. '<div> blabla' . $num1 . 'blabla </div>'
. '<div> texttext' . $num2 . 'texet </div>'
. '<div> texttext' . $val . 'text </div>'; 
```

使用双引号，您可以做得更短：

```
$body   = "<h2>sometext</h2>"
. "<div>sometext</div>"
. "<div> blabla $num1 blabla </div>"
. "<div> texttext $num2 texet </div>"
. "<div> texttext $val text </div>"; 
```

干杯，
多姆

# security - 具有 SSL 认证和虚拟目录的 IIS7

> ID：16187848
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:13.587
> 
> 标签：security, ssl

我试图找到直接回答这个问题的东西，但没有什么是清楚的。

我有一个域名`www.domain.com`，在我有虚拟目录的域中说：

`www.domain.com/directory1`和`www.domain.com/directory2`。我需要什么类型的 SSL 证书来确保目录及其内容的安全？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T11:26:52.083

您是在谈论在虚拟目录中安装两个不同的 SSL 证书吗？

恐怕如果那是您正在寻找的东西..那是不可能的。

SSL 证书绑定到网站级别而不是虚拟目录，因此您需要在网站上安装证书，然后配置是否在任何所需的虚拟目录上强制 SSL。

法比奥@fcerullo

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-30T16:04:42.073

是的。使用最便宜或更贵的证书没有任何限制。

法比奥

# git - 尝试匿名克隆 github 存储库时权限被拒绝

> ID：16187849
> 
> 赞同：23
> 
> 时间：2013-04-24T09:05:16.507
> 
> 标签：git, github

作为匿名用户（在 github 上没有存储公钥），我尝试通过`git@...`URL 克隆公共存储库。但它失败了：

```
$ git clone git@github.com:mikehaertl/phpwkhtmltopdf.git
Cloning into 'phpwkhtmltopdf'...
Permission denied (publickey).
fatal: The remote end hung up unexpectedly 
```

那么这是否意味着，github 不允许通过 SSH 协议进行匿名访问呢？如果是这样，这是否记录在某处？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-04-24T09:06:47.450

我刚刚发现 github 上还有一个按钮，上面写着“Git Read-only”。它提供了一个类似但略有不同的 URL，该 URL 有效：

```
git://github.com/mikehaertl/phpwkhtmltopdf.git 
```

编辑：正如@damick 在下面指出的那样，按钮现在似乎已经消失了。但是您仍然可以手动更改原始 URL 以匹配此处显示的模式。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-05-10T19:30:52.817

这很可能是因为它试图使用 SSH 凭据，而使用 https 则不是。因此，当您使用

```
git clone git://github.com/mikehaertl/phpwkhtmltopdf.git 
```

有效。:D

# c# - LINQ 到对象

> ID：16187850
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:24.370
> 
> 标签：c#, .net, linq, linq-to-objects

我有一个基于 XML 模式的对象，并希望使用 LINQ 从中获取我感兴趣的数据:)

结构类似于以下示例：

```
SimulationStep [1..n]
   - EnvironmentStep [1]
       - Events [0..n]
           - ResultingStateChanges [0..n]
               - Objects [1]
                   - Object[0..n] 
```

每个“对象”（该类链中的最后一个）都有一个属性 x、y 和 z，表示该对象在 3D 空间中的位置。还有一个 ID 用于识别每个对象。

现在我想为等于给定 ID 的对象的每个 SimulationStep 收集所有 (x,y,z) 三元组。

我这样试过：

```
for (int i = 0; i < stepCount; i++)
{
    var events = from c in log.SimulationStep[i].EnvironmentSimulatorStep.EnvSimInputEvent
                        from d in c.ResultingStateChanges
                        from e in d.Agents.Agent
                       where e.id == id
                       select new { c.occurrenceTime, o = new Vector3((float)e.x, (float)e.y, (float)e.z) }
} 
```

但是我得到的只是SimulationStep 0的结果（x，y，z）。但我想要一个包含每个步骤中位置的列表。这样：例如....

```
SimStep[0] - (0,0,0)
SimStep[1] - (5,0,0)
SimStep[2] - (10, 7, 0) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:09:24.430

希望我有你的问题。

尝试这个：

//代码

```
var events = from s in log.SimulationStep
                        from c in s.EnvironmentSimulatorStep.EnvSimInputEvent
                        from d in c.ResultingStateChanges
                        from e in d.Agents.Agent
                        where e.id == id
                        select new { 
                                     c.occurrenceTime, 
                                     o = new Vector3((float)e.x, 
                                     (float)e.y, 
                                     (float)e.z) 
                                    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:16:47.737

在没有实际看到代码的情况下，我无法判断 log.SimulationStep 是什么类型。如果确实是 Access Closure Modified 问题，解决这个问题的方法就是将 for 循环滚动到我们的 LinQ 语句中（或者一直使用 for 循环）。

```
var events = from i in Enumerable.Range(0, stepCount)
             let simulationStep = log.SimulationStep[i]
             from c in simulationStep.EnvironmentSimulatorStep.EnvSimInputEvent
             from d in c.ResultingStateChanges
             from e in d.Agents.Agent
             where e.id == id
             select new { 
                          c.occurrenceTime, 
                          o = new Vector3((float)e.x, 
                          (float)e.y, 
                          (float)e.z) 
                        } 
```

# apache - 在 httpd.conf 中更改 DocumentRoot 后，XAMPP 上的 PHPMyAdmin 和安全性不起作用

> ID：16187855
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:29.707
> 
> 标签：apache, phpmyadmin, xampp, httpd.conf

**概括**

在 XAMPP httpd.conf 中更改 DirectoryRoot 后，我​​无法运行 localhost/phpadmin 和 localhost/security。这导致了两个问题。

1.  如果我在 Windows 上使用 XAMPP，有没有办法在我在 httpd.conf 中设置的 localhost 目录之外运行 PHP 文件？

2.  如果“否”，那么如果 phpmyadmin 文件位于 c:\xampp 目录但 httpd.conf 中的 DocumentRoot 路径指向不同的目录，那么如何在本地机器上运行 phpmyadmin 或安全模块等文件？

更多细节如下所述。

**背景信息**

我的安装如下。

*   操作系统：Windows 7
*   XAMPP 版本： `xampp-portable-lite-win32-1.8.1-VC9.7z`
*   安装目录： `c:\xampp-portable`
*   代码文件保存在：`d:\dropbox\websites_user1\...`

然后我修改了 httpd.conf 如下：

```
Line 191: DocumentRoot "D:/Dropbox/websites_user1"
Line 222: <Directory "D:/Dropbox/websites_user1"> 
```

默认的 httpd-xampp.conf 配置没有改变 - 例如：

```
Line 99:  Alias /phpmyadmin "/xampp-portable/phpMyAdmin/"
Line 100: <Directory "/xampp-portable/phpMyAdmin">
Line 121: <LocationMatch "^/(?i:(?:xampp|security|licenses|phpmyadmin|webalizer|server-status|server-info))"> 
```

**问题**

如上所述更改 httpd.conf 中的目录根后，我可以从本地主机成功运行 php 文件 - 例如 localhost/project01/demo.php。

但是，我现在不能从位于新 localhost 目录（即 d:/Dropbox/websites_user1/..）中的那些位置以外的任何位置运行 PHP 文件。这意味着我不能再在 c:\xampp\PHPMyAdmin 或 C:\xampp-portable\security\htdocs\security.php 等位置运行 PHP 文件。

此外，PHPMyAdmin 和 Security 的配置显然不再正确。例如，如果我输入“localhost/phpmyadmin”或“localhost/security”，我会收到“找不到页面”错误。

这导致了两组问题（如本问题开头所述）。

1.  配置为 localhost 的目录是可以运行 PHP 文件的唯一位置吗？是否可以将 PHP 配置为从我的 C 或 D 驱动器上的任何位置运行？

2.  如果没有，我如何运行诸如 PHPMyAdmin 或 security.php 中的文件或其他 xampp 目录中的任何无数文件？我是否需要将 phpmyadmin 文件夹复制并粘贴到 D:/Dropbox/websites_user1 的 localhost 文件夹中？或者进入它下面的每个单独的网站文件夹？如果是，我是否需要重新配置任何文件，例如 http-xampp.conf？

我对 PHP 和 XAMPP 比较陌生。一切都很完美，直到我遇到这个......现在如果我不能使用 PHPMyAdmin，我会完全卡住，甚至不能使用安全模块来设置我的密码。

将非常感谢您的建议！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-15T12:47:14.027

我相信您不能运行任何高于根目录的安全功能。想象一下某个远程人员知道您的 IP 地址并访问您文档根目录上方的所有文件。

# jquery - 滚动时背景图像位置“闪烁”和“跳跃”

> ID：16187856
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:30.413
> 
> 标签：jquery, css, background

我似乎在使用在 Firefox（以及 iOS）中设置了“位置”的背景图像时遇到了问题。

在 iOS 上，当您滚动时，图像会消失一秒钟，然后再回来。在 Firefox 上，它们仅在我使用 .animate() 方法向下导航页面时才会消失。

有没有人遇到过类似的问题？

我正在使用精灵，并且位置设置为（例如）'20px 400px'，但是当我滚动时，就好像它们恢复到'0px 0px'，然后又跳回原始位置。

奇怪的！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-02-12T11:15:40.217

添加`transform: translate3d(0,0,0)`最终解决了这个问题

# android - Android警报未以编程方式关闭

> ID：16187866
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:46.917
> 
> 标签：android

我想在运行时关闭 Android 中的警报。我使用了以下代码，但它不起作用。

```
audio_manager.setStreamMute(AudioManager.STREAM_ALARM, true); 
```

但警报仍然响起。我想把闹钟静音。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:24:34.573

嘿，这是你的解决方案，我找到了

```
 public class MyScheduledActivity extends Activity {

 @Override
 protected void onCreate(Bundle savedInstanceState) {
 // TODO Auto-generated method stub
 super.onCreate(savedInstanceState);
 setContentView(R.layout.layout_scheduledactivity);

 Button buttonDismiss = (Button)findViewById(R.id.dismiss);
 Button buttonStop = (Button)findViewById(R.id.stop);

 buttonDismiss.setOnClickListener(new Button.OnClickListener(){

  @Override
  public void onClick(View arg0) {
   // TODO Auto-generated method stub
   finish();
  }});

 buttonStop.setOnClickListener(new Button.OnClickListener(){

  @Override
  public void onClick(View arg0) {
   // TODO Auto-generated method stub
   Intent myIntent = new Intent(getBaseContext(),
      MyScheduledReceiver.class);

    PendingIntent pendingIntent
     = PendingIntent.getBroadcast(getBaseContext(),
       0, myIntent, 0);

    AlarmManager alarmManager
      = (AlarmManager)getSystemService(ALARM_SERVICE);

    alarmManager.cancel(pendingIntent);

    Intent intent = new Intent();
    intent.setClass(MyScheduledActivity.this,
      AndroidScheduledActivity.class);
    startActivity(intent);
    finish();
  }});
 }

 } 
```

# python - TypeError: ... 不是 JSON 可序列化的

> ID：16187867
> 
> 赞同：0
> 
> 时间：2013-04-24T09:05:48.877
> 
> 标签：python, xml, openerp

这是我的错误

```
 File "/usr/share/pyshared/simplejson/encoder.py", line 202, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: browse_record(bpl.division.n.registration, 1) is not JSON serializable 
```

这是我的关系映射表

```
class company_estate_division(osv.osv):
    _name = 'bpl.company.estate.division'
    _description = 'bpl company estate division mapping'
    _columns = {
        'bpl_estate_id': fields.many2one('bpl.estate.n.registration', 'Estate', select=True),
        'bpl_division': fields.related('bpl_estate_id', 'divisions', type='char', string='Estate & Division'),
        } 
```

这里显示了我的部门和房地产模型课程。

```
class estate_new_registration(osv.osv):
    _name = "bpl.estate.n.registration"
    _description = "Estates"
    _columns = {
        'name': fields.char('Estate Name', size=128, required=True),
        'company_id': fields.many2one('res.company', 'Company Name', select=True),
        'divisions': fields.one2many('bpl.division.n.registration', 'estate_id', 'Division')
    }
class division_new_registration(osv.osv):
    _name = "bpl.division.n.registration"
    _description = "Divisions"
    _columns = {
        'name': fields.char('Division Name', size=128, required=True),
        'estate_id': fields.many2one('bpl.estate.n.registration', 'Estate Name', select=True),
    } 
```

我需要映射`company`到`estates`. （公司一对多庄园）我认为使用相关字段比其他映射更容易。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:17:30.897

我现在更改为我的模型类，如下所示。但是它的用途是什么。需要以另一种形式使用才能使用`relation`.?

```
class company_estate_division(osv.osv):
    _name = 'bpl.company.estate.division'
    _description = 'bpl company estate division mapping'
    _columns = {
        'bpl_estate_id': fields.many2one('bpl.estate.n.registration', 'Estate', select=True),
        'bpl_division': fields.related('bpl_estate_id', 'name', type='char', string='Estate & Division'),
        } 
```

# azure - 无法在本地 Azure Web 角色 VM 中添加证书

> ID：16187868
> 
> 赞同：2
> 
> 时间：2013-04-24T09:05:56.670
> 
> 标签：azure, certificate, webrole

我在从我的代码管理 Azure 证书时遇到了一些困难。事实上，我正在尝试使用 Azure REST 服务 API（例如创建 HTTP 请求）来从我的 Azure 网站了解我的服务状态。

它在本地调试中运行良好，但我的网络角色接缝对证书管理器有一些限制。贝娄是我所做的：

```
// this method stores a certificate from the resources
// to the local certificates manager
private X509Certificate2 StoreCertificate(Certificates certName)
{
    X509Certificate2 newCert = null;

    // get certificate from resources
    newCert = this.GetCertificateFromResources(certName);

    // store it into the local certificate manager
    if (newCert != null)
    {
        var store = new X509Store(
               StoreName.TrustedPeople,
               StoreLocation.LocalMachine
            );

        store.Open(OpenFlags.ReadWrite);
        store.Add(newCert);
    }

    // reset ref and try to load it from manager
    newCert = null;

    newCert = this.GetCertificate(certName);

    return newCert;
} 
```

当我尝试添加证书时，会附加访问被拒绝错误。

任何想法 ？我可以将证书存储到 Azure VM 中吗？我应该使用特殊的位置来存储这些吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T12:51:03.270

为了节省其他开发人员的时间，这是我为解决主要问题所做的：

1.  连接到部署 Web 角色的 VM：[见那里](http://msdn.microsoft.com/en-us/library/windowsazure/gg443832.aspx)
2.  创建证书：[见那里](http://msdn.microsoft.com/en-us/library/windowsazure/gg651127.aspx)
3.  最终使用证书管理器（mmc.exe）

然后可以从代码中获得证书。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T12:47:28.523

好吧，我发现了很多东西：

1.  我在网站中部署我的代码，因此我无法将证书添加到 Azure 中的共享 VM
2.  我尝试在远程桌面会话中连接到 VM，并手动添加了证书。

即使在这种情况下，我在 InvalidOperationException 中有一个 (403) Forbidden 错误。

所以这是当前状态：

*   已创建证书 (makecert) 并在托管我的 Web 角色的 VM 中手动添加（部署在服务中）
*   此证书已上传到 Azure 帐户证书和 Azure 服务证书（部署我的 Web 角色的证书）
*   此证书的指纹已添加到我的代码中，我可以在执行代码时访问证书

所以2个问题：

1.  我应该对我的证书做些什么吗？
2.  当我在 Azure 模拟器中本地尝试我的 Web 角色时，一切正常。在发布/部署步骤期间是否有要更新的特殊设置？

谢谢你的帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T13:18:52.133

您是否使用云服务（网络/工作者角色）？如果是这样，哪个操作系统系列？我已经看到一些报告说，对于使用 OS 系列 3 的工作角色，您需要以提升的权限运行该角色才能从本地证书存储读取证书。不确定这是否也适用于网络角色并添加到证书存储中。

是否也通过 Azure 管理门户（或通过 REST API 或 PowerShell）添加了服务证书？

# websocket - 如何在高速公路客户端工具中添加基本身份验证标头

> ID：16187872
> 
> 赞同：5
> 
> 时间：2013-04-24T09:06:04.277
> 
> 标签：websocket, autobahn

我想在高速公路客户端工具中添加基本的身份验证标头。我怎样才能做到这一点？

### 当前请求

```
GET / HTTP/1.1  
User-Agent: AutobahnPython/0.5.2  
Host: 10.35.34.172:9000  
Upgrade: WebSocket  
Connection: Upgrade  
Sec-WebSocket-Key: 1U4OeBs60qkmk1V/8voLOw==  
Sec-WebSocket-Version: 8 
```

### 我需要的请求：

```
GET / HTTP/1.1  
User-Agent: AutobahnPython/0.5.2  
Host: 10.35.34.172:9000  
Authorization: Basic TXlMb2NhdGlvbkFwcDpNeUxvY2F0aW9uQXBwMTIz  
Upgrade: WebSocket  
Connection: Upgrade  
Sec-WebSocket-Key: 1U4OeBs60qkmk1V/8voLOw==  
Sec-WebSocket-Version: 8 
```

注意：我不希望高速公路服务器对客户端进行身份验证。
我的场景是高速公路客户端 --> 我的服务器 --> 高速公路服务器。
我的服务器将负责提取授权标头，然后调用高速公路服务器。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T12:56:19.573

我已经实现了为 AutobahnPython 客户端和服务器发送自定义 HTTP 标头的选项。您需要使用 GitHub（主分支）上最新的 AutobahnPython。

客户端可以通过在构造或设置标头期间通过提供`headers`关键字参数来发送标头。`WebSocketClientFactory``setSessionParameters`

服务器可以发送类似于客户端的标头，并在从`onConnect`.

**这是一个完整的[例子](https://github.com/tavendo/AutobahnPython/blob/master/examples/twisted/websocket/echo_httpheaders)**。

免责声明：我是 Autobahn 的原作者，为 Tavendo 工作。

# php - 使用 PHPExcel 为单元格设置正确的阅读格式

> ID：16187873
> 
> 赞同：2
> 
> 时间：2013-04-24T09:06:06.300
> 
> 标签：php, phpexcel

我正在使用 PHPExcel 读取 Excel 2007 文档。在本文档中有一个“时间”格式的列，它在 Excel 中正确显示数据。当我尝试解析此列时，我得到了一些奇怪的值。知道如何解决这个问题吗？

谢谢你。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-24T09:19:33.567

解析时，需要指定列的格式。例如

```
$my_cell = $objWorksheet->getCellByColumnAndRow(1, 1);
$my_cell_value = PHPExcel_Style_NumberFormat::toFormattedString($cell->getCalculatedValue(), 'hh:mm:ss');
print $my_cell_value; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-26T23:23:43.630

The value for Time as it is stored in Excel is actually the fraction of the day, so 0.2 is 24 hours (or 1440 minutes or 86400 seconds) times 0.2\. You can calculate the time of day based on that information, and then calculating from the beginning of the day. It makes it a little more usable than a formatted time, but a lot less readable.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T09:34:29.493

奇怪的价值观？！？你的意思是你得到一个数字而不是人类可读的日期字符串......它总是有助于尽可能准确地描述事物，而奇怪的并不是一个准确的描述。

如果您只是从单元格中获取值，您将读取***原始***时间戳值（MS Excel 将日期和时间值保存为时间戳；就像 PHP 中的 Unix 时间戳值一样，除了 Excel 的时间戳是自 1 日以来的天数1900 年 1 月（或 1904 年 1 月 1 日，具体取决于配置为使用的日历）。

MS Excel 使用数字格式掩码将此时间戳显示为人类可读的日期/时间字符串。

您可以使用 getFormattedValue() 方法而不是简单的 getValue() 将其检索为格式化的日期/时间（getFormattedValue() 将单元格的任何数字格式掩码应用于值）。并不是说如果您加载了 readDataOnly 设置为 TRUE 的文件，则不会加载数字格式掩码，因此 PHPExcel 无法识别单元格是否包含日期。

或者，正如詹姆斯在他的回答中所建议的那样，您可以通过使用自己的格式掩码应用数字格式来手动将原始时间戳转换为格式化值

第三种选择是您可以使用 PHPExcxel 的内置日期处理函数将此 Excel 时间戳值转换为 PHP/unix 时间戳或 PHP DateTime 对象（分别为 PHPExcel_Shared_Date::ExcelToPHP() 和 PHPExcel_Shared_Date::ExcelToPHPObject()），然后您可以使用 PHP 自己的日期处理函数显示

# html - Selenium RC 如何在测试执行时截取 html 代码？

> ID：16187875
> 
> 赞同：0
> 
> 时间：2013-04-24T09:06:11.340
> 
> 标签：html, selenium-rc

我使用硒 RC。我的测试在方法之后失败了`waiForPageToLoad()`。它在页面上找不到元素。我在浏览器上看到哪个页面仍在加载，而`waiForPageToLoad()`“说”该页面已经加载。如何在`waiForPageToLoad()`方法完成执行后检查我的 HTML 代码的外观？

还有一件事。在一种情况下，可以找到的元素`waiForPageToLoad()`是在

```
<h1><script language="Javascript" </script>
<a id="some" class="some" onclick="">Text</a>
Text
</h1> 
```

所以可能是该页面已加载但尚未执行 javascript。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T12:30:08.473

1) waiForPageToLoad() 并不能证明你拥有页面上的所有元素。最好使用 waitForElementPresent，或者检查 isElementPresent 以了解该元素是否在页面上。

2）你没有提到你在 RC 中使用什么语言。

如果 java - 你可以使用

```
import java.awt.Dimension;
import java.awt.Rectangle;
import java.awt.Robot;
import java.awt.Toolkit;
import java.awt.image.BufferedImage;
import javax.imageio.ImageIO;
...
public void captureScreen(String fileName) throws Exception {
   Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
   Rectangle screenRectangle = new Rectangle(screenSize);
   Robot robot = new Robot();
   BufferedImage image = robot.createScreenCapture(screenRectangle);
   ImageIO.write(image, "png", new File(fileName));
} 
```

如果 C#：

```
using System;
using System.Text;
using System.Text.RegularExpressions;
using System.Threading;
using NUnit.Framework;
using Selenium;
using System.Drawing;
using System.Drawing.Imaging;
namespace SeleniumTests
{
[TestFixture]
public class ImageCapture
{
private ISelenium selenium;
private StringBuilder verificationErrors;
public static string CaptureScreenshot()
{
Bitmap bmpScreenshot = new Bitmap(1024, 768, PixelFormat.Format32bppArgb);
Graphics Screenshot = Graphics.FromImage(bmpScreenshot);
Screenshot.CopyFromScreen(0, 0, 0, 0, new Size(1024, 768));
string name = (System.Convert.ToString(System.DateTime.Now).Replace("/", "_")).Replace(":", "_") + ".jpg";
bmpScreenshot.Save(name, ImageFormat.Jpeg);
return name;
} 
```

3) 如果您使用 java 开发 - 考虑使用 Sikuli。它是一个处理屏幕上图像的工具（您可以用作 java 库）。您可以结合 Selenium 和 Sikuli 来获得出色的灵活性和功能。

# powershell-remoting - Invoke-Command 在驱动程序中运行脚本

> ID：16187884
> 
> 赞同：0
> 
> 时间：2013-04-24T09:06:26.140
> 
> 标签：powershell-remoting

我用 powershell 创建了一个新的远程会话，这样：

```
$pass = ConvertTo-SecureString "pass" -AsPlainText -force
$credential = New-Object System.Management.Automation.PsCredential("computername\admin", $securePassword)
try { 
        $s = New-PSSession -ComputerName "computername" -Authentication CredSSP -Credential $credential
        Invoke-Command -ComputerName computername -FilePath "M:\revertToSnapshot Release1.ps1"
Remove-PSSession $s 
```

而且我不知道如何在 M 驱动器中运行脚本。

如果我尝试以下操作：

```
Invoke-Command -ComputerName jm_ci -FilePath "m:\revertTosnapshot release1.ps1" 
```

我收到以下错误：调用命令：找不到驱动器。名为“m”的驱动器不存在。

用户是计算机管理员。

# asp.net-mvc-4 - Asp.Net Mvc 4 中的 Html.RenderPartial 无法正常工作

> ID：16187889
> 
> 赞同：0
> 
> 时间：2013-04-24T09:06:36.470
> 
> 标签：asp.net-mvc-4, view, http-post, asp.net-mvc-partialview, modalpopup

我看到显示**公司的 CardView** 。每张卡都有添加新的**BankAccount**按钮以显示“添加新银行帐户”模式弹出窗口。我的看法如下：

```
@for (int i = 0; i < Model.Companies.Count(); i += 3)
{
<div class="row-fluid">
    <div class="span4">
        <div class="box corner-all">
            <div class="box-header grd-white">
                <div class="header-control">
                    <div>

                        <ul class="breadcrumb-nav pull-right">
                            <li class="btn-group">
                                <a href="#" class="btn btn-small btn-link dropdown-toggle" data-toggle="dropdown">
                                    <i class="icofont-cogs"></i>Controls
                                    <i class="icofont-caret-down"></i>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#MyCreate" role="button" class="" data-toggle="modal">Add new bankaccount</a></li>
                                    <li><a href="#collapse" data-toggle="tab">@Html.ActionLink("Edit", "Edit", Model.Companies.ElementAt(i), new { target = "_blank" })</a></li>

                                </ul>
                            </li>

                        </ul>
                        @{Html.RenderPartial("BankCreateModal", new BankAccountCreateViewModel { BankAccount = new Invoice.Model.BankAccount(), TaxTypes = Model.TaxTypes, CompanyID = Model.Companies.ElementAt(i).ID });}
                    </div>
                </div>
                <span>@Model.Companies.ElementAt(i).ShortName</span>
            </div>
            <div class="box-body">
                <table>
                    <tr>
                        <td rowspan="2">
                            <div class="resume-photo">
                                <img src="~/Content/img/LogoFiles/@Model.Companies.ElementAt(i).LogoFile" style="width: 50px; height: 45px;"/>
                            </div>
                        </td>

                        <td>@Model.Companies.ElementAt(i).FullName</td>
                    </tr>
                </table>
                <div class="alert alert-info">
                    @*<button type="button" class="close" data-dismiss="alert">×</button>*@
                    <strong></strong>@Model.Companies.ElementAt(i).CompanyDescription
                </div>

            </div>
            <div style="text-align: center; padding-left: 22px;">
                <div class="thumbnails pricing-table color-black">
                    <div class="span3 active grd-white box-shadow" style="width: 270px;">
                        <div class="bank_details_expand">
                            <div class="features">
                                <div id="slideshow-area">
                                    <div id="slideshow-previous"></div>
                                    <div id="slideshow-next"></div>
                                    <div id="slideshow-scroller">
                                        <div id="slideshow-holder">
                                            @foreach (var bank in Model.BankAccounts.ElementAt(i))
                                            {
                                                <div class="slideshow-content">
                                                    <div class="alert alert-info">
                                                        <!--box body-->
                                                        <div class="box-body">
                                                            <!-- Button to trigger modal -->

                                                            <!-- Modal -->

                                                            @{Html.RenderPartial("BankEditModal", new BankAccountEditViewModel { BankAccount = bank, TaxTypes = Model.TaxTypes });}

                                                        </div>
                                                        <!--/box body-->
                                                        <ul style="text-align: left;">
                                                            <li></li>
                                                            <li><span style="font-weight: bolder; color: #0B72E0">Bank Name:</span>
                                                                <span style="font-style: italic;">@bank.BankName</span></li>
                                                            <li><span style="font-weight: bolder; color: #0B72E0">Corr. Account:</span>
                                                                <span style="font-style: italic;">@bank.CorrespondentAccount</span> </li>
                                                            <li><span style="font-weight: bolder; color: #0B72E0">IBAN:</span>
                                                                <span style="font-style: italic;">@bank.IBAN </span></li>
                                                            <li><span style="font-weight: bolder; color: #0B72E0">Code:</span>
                                                                <span style="font-style: italic;">@bank.Code</span></li>
                                                            <li><span style="font-weight: bolder; color: #0B72E0">SWIFT:</span>
                                                                <span style="font-style: italic;">@bank.SWIFT</span></li>
                                                            <li><span style="font-weight: bolder; color: #0B72E0">Tax Type:</span>
                                                                <span style="font-style: italic;">@bank.Tax.Presentage % </span></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            }

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="bank-details-control">
                            <div class="footer grd-white" data-box="expandBank">
                                <div>Bank Details</div>
                                <i class="icofont-chevron-down"></i>
                                @*<a class="btn btn-block  btn-warning" data-box="expandBank">Bank Details</a>*@
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @if (Model.Companies.Count() - 1 > i)
    {

     @{Html.RenderPartial("BankCreateModal", new BankAccountCreateViewModel {       BankAccount = new Invoice.Model.BankAccount(), TaxTypes = Model.TaxTypes, CompanyID =     Model.Companies.ElementAt(i + 1).ID });}
      }
    @if (Model.Companies.Count() - 2 > i)
    {

       @{Html.RenderPartial("BankCreateModal", new BankAccountCreateViewModel { BankAccount = new Invoice.Model.BankAccount(), TaxTypes = Model.TaxTypes, CompanyID = Model.Companies.ElementAt(i + 2).ID });}
    }

} 
```

用于创建银行帐户的 PartialView 如下

```
@model InvoiceModel.HelperClasses.BankAccountCreateViewModel

<script src="~/Scripts/jquery-1.7.1.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

<div id="MyCreate" class="modal hide fade" tabindex="-1" role="dialog" aria-       labelledby="myModalLabel" aria-hidden="true">
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h2 id="myModalLabel">Bank Account</h2>
</div>
<div class="modal-body">
    @using (Ajax.BeginForm("CreateModal", new AjaxOptions { UpdateTargetId = "Createmodal", HttpMethod = "Post" }))
    {
        @Html.ValidationSummary(true)
        @Html.HiddenFor(model => model.CompanyID)
        @Html.HiddenFor(model => model.TaxTypes)
        <div class="control-group">
            @Html.LabelFor(model => model.BankAccount.BankName)

            @Html.EditorFor(model => model.BankAccount.BankName)
            @Html.ValidationMessageFor(model => model.BankAccount.BankName)
        </div>

        <div class="control-group">
            @Html.LabelFor(model => model.BankAccount.CorrespondentAccount)

            @Html.EditorFor(model => model.BankAccount.CorrespondentAccount)
            @Html.ValidationMessageFor(model => model.BankAccount.CorrespondentAccount)
        </div>

        <div class="control-group">
            @Html.LabelFor(model => model.BankAccount.IBAN)

            @Html.EditorFor(model => model.BankAccount.IBAN)
            @Html.ValidationMessageFor(model => model.BankAccount.IBAN)
        </div>

        <div class="control-group">
            @Html.LabelFor(model => model.BankAccount.Code)

            @Html.EditorFor(model => model.BankAccount.Code)
            @Html.ValidationMessageFor(model => model.BankAccount.Code)
        </div>

        <div class="control-group">
            @Html.LabelFor(model => model.BankAccount.SWIFT)

            @Html.EditorFor(model => model.BankAccount.SWIFT)
            @Html.ValidationMessageFor(model => model.BankAccount.SWIFT)
        </div>

        <div class="control-group">
            @Html.LabelFor(model => model.BankAccount.TaxID, new { @class = "control-label" })
            <div class="controls">
                @Html.DropDownListFor(model => model.BankAccount.TaxID, new SelectList(Model.TaxTypes, "ID", "Name"), new { data_placeholder = "Select Tax Type", data_form = "select2" })
                @Html.ValidationMessageFor(model => model.BankAccount.TaxID)
            </div>
        </div>
        <button class="btn btn-primary">Save changes</button>
    }
</div>
<div class="modal-footer">
    <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>
</div> 
```

因此，当我单击**SaveChanges**按钮时，我可以为第一家公司创建新银行，但是当在 bankaccountcontroller 中单击其他公司时，我的 CompanyID 与第一家公司相同。我的**HTTPPOST**操作如下

```
 [HttpPost]
    public ActionResult CreateModal(BankAccountCreateViewModel bank)
    {

        bank.BankAccount.CompanyID = bank.CompanyID;
        bankRepository.SaveBankAccount(bank.BankAccount);

        return RedirectToActionPermanent("Index");
    } 
```

我该如何解决这个问题？我需要第二个或其他 companyID，而不是第一个。

# facebook - 如何在developers.facebook.comm 和个人资料页面之间创建应用程序/循环

> ID：16187890
> 
> 赞同：0
> 
> 时间：2013-04-24T09:06:37.030
> 
> 标签：facebook

这可能看起来很简单，但我的电子商务软件提供商告诉我去

创建应用程序（个人资料页面）>应用程序（developers.facebook.com）>然后我应该使用创建应用程序按钮进入应用程序屏幕

安装了我从developers.facebook.com到个人资料页面的循环重定向

怎么了？Create App 按钮现在在其他地方吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:57:43.883

去这里：[https ://developers.facebook.com/apps](https://developers.facebook.com/apps)

1.  如果它是您的第一个应用程序：

    单击`Register as Developer`按钮并继续。

2.  否则，您会`Create App`在右上角看到该按钮。

# c - 在源和目标之间打开UDP套接字，修改它并转发到原来的目标

> ID：16187896
> 
> 赞同：0
> 
> 时间：2013-04-24T09:06:48.273
> 
> 标签：c, linux, sockets, routing, ipv6

我正在运行一个包含 2 个节点和一个网关的简单网络。我的场景如下：Node1 想要通过网关向 Node2 发送一个 UDP IPv6 套接字，该网关必须打开套接字，验证数据然后转发它。

我在 Node1 和 Gateway 之间配置了一个内部网络，地址为**aaaa::/20**，在 Gateway 和 Node2 之间配置了另一个网络，地址为**aaab::/20**。我修改了 Node1 的路由表，通过其连接到网关的**aaaa::/20**接口发送发往**aaab::/20**网络的数据包，并将前者配置为转发数据包。

 **我的问题是这样做，网关变得完全透明。我希望我的网关能够捕获套接字，即使它们不是注定的，打开它们，修改它们并将它们转发到它们的原始目的地。谷歌了这个，我发现了使用 iptables 的建议，但我不是他们的专家。

我在linux下使用3个虚拟机并用c编程。请问有什么帮助吗？！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T12:57:33.553

iptables 并不可怕；）它有自己定义的 C 函数。浏览接口库并将其应用于您自己的案例。即在网关中运行一个程序，捕获所有通过它的数据包。有[文档](http://www.bani.com.br/lang/en/2012/05/programmatically-managing-iptables-rules-in-c-iptc/)。**

# dynamics-crm-2011 - 使用字段值获取 XML

> ID：16187900
> 
> 赞同：0
> 
> 时间：2013-04-24T09:07:01.800
> 
> 标签：dynamics-crm-2011, fetchxml

可以编写子网格视图的 Fetch-XML 以在记录中包含字段值吗？

我有一个自定义实体，可以查找 Account。
我想要一个与该帐户相关的案例子网格；网格将显示与此自定义实体相关的帐户相关的案例，而不是与自定义实体相关的案例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:54:21.917

Yes 是可能的，但它是不受支持的自定义。

您可以在此处找到示例：[Filter Sub-Grid Dynamics CRM 2011 Rollup 12 (Polaris)](http://www.magnetismsolutions.com/blog/paul-nieuwelaars-blog/2013/01/24/filter-sub-grid-dynamics-crm-2011-rollup-12-%28polaris%29)

请注意您的 crm 环境的汇总版本。

# javascript - 在 Internet Explorer 10 中使用 Javascript 加载 XML 文件不起作用

> ID：16187901
> 
> 赞同：2
> 
> 时间：2013-04-24T09:07:04.080
> 
> 标签：javascript, xml, internet-explorer-10, selectsinglenode

我正在使用下面的代码使用 javascript 加载 XML 文件。我遇到的问题是单独使用 Internet Explorer 10，它可以在其他所有浏览器中运行。

经过一些研究，我非常有信心这是 IE10 放弃了“selectSingleNode”兼容性的事实，但我就是想不出一个解决办法。关于如何在 IE10 中工作的任何提示？谢谢。

```
// LOAD LANGUAGE XML
$.ajax({
    url: '/bnt/res/xml/lng_'+ lng.toUpperCase() +'.xml',
    success: function(r) {
        var xLng = r.selectSingleNode('//language');
        site.search.data.appendChild(xLng);
        site.parseLanguage(site.search.data);
        site.post_xml_load();
    }
}); 
```

# firefox - 如何检测pdf.js是否是firefox中的*默认*阅读器

> ID：16187902
> 
> 赞同：5
> 
> 时间：2013-04-24T09:07:04.703
> 
> 标签：firefox, pdf, pdf.js

从 Firefox 19 开始，有一个内部默认的 PDF 阅读器“pdf.js”。默认情况下如何检测这是否是阅读器？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-27T01:50:26.187

这可能是您正在寻找的...

[http://www.pinlady.net/PluginDetect/PDFjs/](http://www.pinlady.net/PluginDetect/PDFjs/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-20T23:05:29.133

这将对其进行测试。由于公司防火墙，我无法访问其他链接。不知道它说什么。也许它是一样的。

[在这里提琴](http://jsfiddle.net/bWstc/)

```
<iframe src="some.pdf" id="iframe" name="iframe"></iframe> 
```

.

```
// FireFox test for PDFJS to display PDFs. Works in 20 & 21.
// If you don't test for the browser ...
//    IE says PDFJS is there. It isn't.
//    Chrome hangs on the fiddle
//    Safari for Windows says PDFJS isn't there
$(window).load(function() {

  var userAgent = navigator ? navigator.userAgent.toLowerCase() : "other";
  if(userAgent.indexOf("firefox") > -1) {

    var $iframe = $("#iframe");
    var $innerDiv;
    try {
      $innerDiv = $iframe.contents().find('div');
      alert("PDFJS not loaded");
    } catch (e) { 
      alert("PDFJS loaded");
    }
  } else {
      alert("Not running in FireFox - no PDFJS available");
  }
}); 
```

# c - sprintf(target, source) 与 sprintf(target, "%s", source) 有不同的行为；

> ID：16187910
> 
> 赞同：2
> 
> 时间：2013-04-24T09:07:09.353
> 
> 标签：c, printf

在特定 PlayStation 平台附带的 C/C++ 编译器上，我对非标准 ASCII 字符（用于翻译语言，如西班牙语 - 严重的、尖锐的，诸如此类）有点麻烦

```
char target_string[MAX_STRING_LENGTH];
char string_table[][MAX_STRING_LENGTH]; 
```

如果我使用

```
sprintf( target_string, string_table[N] ); 
```

其中源字符串包含一个 ascii 值高于 127 的字符（即在有符号字符中低于 0），复制的字符串包括非标准 ascii 字符，但字符串中没有更多字符。第一个重音欧洲字符是 sprintf 语句放弃的地方，就好像比较是 if(char <= 0),finish。

如果我使用

```
sprintf( target_string, "%s", string_table[N] ); 
```

使用相同的字符串，整个事情都会正确复制，好像比较是 if( char == 0 ) 然后完成。

这是 sprintf 的已知功能吗？- 即我不应该使用没有格式说明符的 sprintf( target, source ) 版本，因为它不是函数的有效使用 - 在这种情况下，为什么编译器没有警告？或者也许是索尼使用的稍微修改过的编译器是原因。似乎不太可能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:15:30.743

如果你打电话

```
sprintf( target_string, string_table[N] ); 
```

那么 string_table[N] 将被解释为一个“格式字符串”（如果其中有一个 '%' 你的应用程序将会死掉。不要这样做）

奇怪的字符问题是关于 utf-8，你应该使用 swprintf 和其他 wprintf-s

# actionscript-3 - flex mobile：从内存中删除自定义组件

> ID：16187921
> 
> 赞同：2
> 
> 时间：2013-04-24T09:07:27.160
> 
> 标签：actionscript-3, flash, apache-flex, flash-builder

我正在分析一个 flex 移动应用程序，我注意到自定义 MXML 元素在我推送和弹出视图时从未从内存中删除。在视图中删除我调用的事件`removeAllElement()`，`removeChildren()`但它没有帮助。我怎样才能从内存中删除这些元素？我还必须删除通过 MXML 创建的侦听器（例如，当我设置`click=""`属性时在按钮上）？

# java - 使用 ROME 获取 SyndEntry 的 XML 字符串值

> ID：16187928
> 
> 赞同：1
> 
> 时间：2013-04-24T09:07:35.607
> 
> 标签：java, xml, atom-feed, rome

我目前正在研究一个暗示 XML 提要解析（Atom 2005）的项目，我正在使用 Rome 来执行此操作。

我有一些 SyndEntry 对象，我需要将它们转换为 XML 作为独立条目（不在*Feeds*中，条目作为根元素）。

我正在寻找一种从**SyndEntry**对象中获取类似内容的方法：

```
<entry xmlns="http://www.w3.org/2005/Atom">
   <title type="text">My Title</title>
   <updated>1988-01-01T00:00:00Z</updated>
   <content type="application/xml">
      ... (my content) ...
   </content>
</entry> 
```

--> 没有*Feed*对象。

任何帮助将不胜感激，在此先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T14:01:18.093

知道了 ！

```
Entry entry = Atom10Parser.parseEntry(reader, ""); 
```

然后你有一个 Entry 对象。如果你想要一个 SyndEntry 对象，你可以这样做：

```
public class MyConverterForAtom10 extends ConverterForAtom10 {

public SyndEntry syndEntryFromEntry( Entry entry ) {
    return this.createSyndEntry(null,entry,false);
}

public Entry entryFromSyndEntry( SyndEntry syndentry ) {
    return this.createAtomEntry(syndentry);
}

} 
```

# c++ - C++ 中最好的 OO 设计实现？

> ID：16187931
> 
> 赞同：0
> 
> 时间：2013-04-24T09:07:43.473
> 
> 标签：c++, oop

这可能更多的是关于味道。

像这样的东西：

```
class A:public vector<int>{};

class B:public vector<A>{
};

class C{
public:
vector<B> cs;
}; 
```

现在我要实现的是一个函数，`A`其中接收`C`. 像这样的东西：

```
class A:vector<int>{
void foo( C &c);
}; 
```

这是不可能的，因为`C`需要`B`和`B`需要`A`完全声明。然后我看到 2 个选项：

1）使 foo 如此：`void foo(void *c);`并在实现上（在 A.cpp 中）进行强制转换。这个问题不是很好也不是很干净，对其他开发人员来说有点混乱。

2）在我正在处理的命名空间上创建一个对象。这违反了 SOLID 原则，尤其是单一责任原则。

也许还有第三种我看不到的方式，它没有不方便。任何人都可以告诉我是否有更正确的剂量形式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:10:19.290

使用前向声明：

```
class C; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T09:12:05.893

我不确定我是否看到您的问题。没有问题：

```
class C;
class A
{
    void foo( C& c );
}; 
```

（但是，您的 存在问题`C`。一个类`C`不能包含 a `std::vector<C>`，因为`std::vector`要求实例化类型是完整的，并且`C`仅在右大括号之后才完整。）

# jquery - 使用 Jquery 加载刷新 div，然后在重新显示内容之前单击链接

> ID：16187932
> 
> 赞同：0
> 
> 时间：2013-04-24T09:07:43.970
> 
> 标签：jquery, ajax

我使用 jquery 加载函数来刷新 div 的内容。

我首先隐藏 div

```
$('.dashboard-body').fadeOut(50); 
```

然后ajax加载——刷新内容

在加载事件之后并且刷新的 div 仍然隐藏 id 喜欢单击内容分页链接之一。然后，当再次显示 div 时，会显示正确的内容。

这是不起作用的代码。我使用 livequery 插件作为 DOM 中新元素的侦听器。

```
$('.dashboard-body').load(target, function(){
                $('.pagination ul li a').livequery(function(){
                    $(this).each(function(){
                        var target_page = $(this).html();
                        if(target_page == return_page){
                            $(this).click();
                        }
                    });
                });

                $('.dashboard-body').fadeIn('slow',function(){
                    //success
                });

            }); 
```

我认为上面的代码执行以下操作。

它将目标页面加载回带有类dashboard-body的div中。

它使用 livequery 侦听加载到 dom 中的新分页链接

然后它遍历找到的每个链接

它找到链接数值，即。1, 2, 3.... 并定义为潜在的目标页码。

那么如果目标页和返回页码（这是一个预定义的变量）相等。单击此链接。

这一切似乎都有效，使用控制台我可以看到这个语句......

```
if(target_page == return_page){ 
```

一次按预期为真，但单击事件不会像元素不存在一样发生，但它应该像刚刚迭代它们一样发生。

我看不出有什么问题？或者，还有更好的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:30:20.973

我做了一个没有 .load 的测试[http://jsfiddle.net/y6yJN/](http://jsfiddle.net/y6yJN/) - 它按预期工作，点击处理程序至少在我的浏览器中做得很好。此外，我使用 .text() 而不是 .html() 来获取链接中的字符串编号。

我的标记

```
<div class="pagination">
    <ul>
        <li>
            <a href="#example">1</a>
        </li>
        <li>
            <a href="#example2">2</a>
        </li>
        <li>
            <a href="#example3">3</a>
        </li>        
    </ul>
</div> 
```

及其脚本：

```
var return_page = '2'; //some string

//click handler for links
$('.pagination ul li a').click(function(e){
    e.preventDefault;
    alert($(this).attr('href'));
    return false;
});

//must alert '#example2' on page load
$('.pagination ul li a').each(function(){
    page_number = $(this).text();
    if(page_number === return_page){
        $(this).click();
    }
}); 
```

此外，我认为您不需要 livequery 等，因为回调函数是在 DOM 更改后调用的，已经在新 DOM 上创建了 jQuery 集合。我可能错了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T11:27:58.933

我需要为单击事件处理程序添加此代码

```
$('body').on('click','.pagination ul li a',function(event){ 
```

# java - Maven 没有将 JAR 添加到 Eclipse 项目中

> ID：16187935
> 
> 赞同：2
> 
> 时间：2013-04-24T09:07:54.893
> 
> 标签：java, eclipse, maven

我再次面临 Maven 的问题。在我的 JSP 页面中，我想上传一个文件并添加一些输入文本字段。我正在为`MultipartRequest`类添加 cos.jar 的 Tp 进程

这是我的pom

```
<dependency>
    <groupId>servlets.com</groupId>
    <artifactId>cos</artifactId>
    <version>05Nov2002</version>
</dependency> 
```

当我运行`mvn compile`或`mvn eclipse:eclipse`将 JAR 下载到 Maven 本地存储库时。但不添加到eclipse项目中。问题是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T09:12:13.693

确保 Maven 依赖项位于构建路径上并包含在部署程序集中。

**将 Maven 依赖项添加到构建路径**

> 项目属性 > Java 构建路径 > 库 > 添加库 > Maven 依赖项

**将 Maven 依赖项添加到部署**

> 项目属性 > 部署程序集 > 添加 > Java 构建路径条目 > Maven 依赖项

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T09:11:39.817

你用 m2eclipse 吗？当您说eclipse项目时，您是指视图还是eclipse项目设置？尝试 Eclipse 项目`Maven`→ `Update project`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-30T11:24:26.033

您能否检查一下设置文件夹下的 .jsdtscope 文件中是否存在上述条目。如果没有，请添加并刷新项目。

# node.js - Node.js：如何将打印作业添加到打印机

> ID：16187936
> 
> 赞同：3
> 
> 时间：2013-04-24T09:08:10.770
> 
> 标签：node.js, pdf, printers

我正在使用 node.js 开发一个 Web 应用程序，我有一个场景来打印位于我本地的一些 pdf 文件。

前任：

```
var ipp = require('ipp');
var PDFDocument = require('pdfkit');

//make a PDF document
var doc = new PDFDocument({margin:0});
doc.text(".", 0, 780);

doc.output(function(pdf){
    var printer = ipp.Printer("http://NPI977E4E.local.:631/ipp/printer");
    var msg = {
        "operation-attributes-tag": {
            "requesting-user-name": "William",
            "job-name": "My Test Job",
            "document-format": "application/pdf"
        },
        data: pdf
    };
    printer.execute("Print-Job", msg, function(err, res){
        console.log(res);
    });
}); 
```

我已经提到了上面的示例，但是在创建 PDF 时，但在我的情况下，我想打印现有的 PDF 文件。

有什么建议么 ？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T09:13:54.573

```
var fs = require('fs');

fs.readFile('filename.pdf', function(err, data) { 
  if (err)
    throw err;

  var printer = ipp.Printer("http://YOUR.PRINTER.SERVER.HOSTNAME:631/ipp/printer");
  var msg = {
    "operation-attributes-tag": {
      "requesting-user-name": "William",
      "job-name": "My Test Job",
      "document-format": "application/pdf"
    },
    data: data
  };
  printer.execute("Print-Job", msg, function(err, res){
    console.log(res);
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:12:54.273

如果我理解正确，您想打印本地 PDF 文件，并且打印工作已经开始了吗？

Node.js 具有可用于检索 PDF 文件的 fs api。 [http://nodejs.org/api/fs.html](http://nodejs.org/api/fs.html)

[https://npmjs.org/package/ipp](https://npmjs.org/package/ipp)对我来说，您似乎不必在操作中使用 PDFkit 对象作为数据属性。您可以只使用可以通过 fs 读取的数据。

# jquery - jQuery .load 的速度

> ID：16187940
> 
> 赞同：0
> 
> 时间：2013-04-24T09:08:17.750
> 
> 标签：jquery, optimization, load

我正在使用以下代码的许多实例来从网站上的其他页面中提取内容：

```
$('#result').load('my-page.html #container'); 
```

是否有任何技巧可以比平时更快地加载此内容？加载时间从 3 到 8 秒不等，我想改进。使用 .htaccess 我已经缓存了存在于第一页和“my-page.html”上的 JS 和 CSS，因为我认为浏览器在获取内容的过程中正在加载这些文件 - 这可以防止吗?

# android - 如何在android的整个应用程序中用另一个字符串替换一个字符串？

> ID：16187941
> 
> 赞同：0
> 
> 时间：2013-04-24T09:08:17.443
> 
> 标签：android

当用户从设置中选择选项时，我必须将一个文本更改为另一个文本，例如，当用户从选项中选择它时，我必须将公里更改为英里。当我选择它时，我必须将公里数更改为英里认为的应用程序，如果有人知道该怎么做，请帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:17:27.180

为方便起见，在全局范围内声明这些：

```
SharedPreferences sharedPrefs;
Editor editor;
private static final String PRIVATE_PREF = "current_selection"; 
```

然后在`onCreate()`or 它是等价的：

```
sharedPrefs = getApplicationContext().getSharedPreferences(PRIVATE_PREF, Context.MODE_PRIVATE);

// SET THE DEFAULT VALUE
editor = sharedPrefs.edit();
editor.putString("value", "kilometers");

// DONT SKIP THIS STEP
editor.commit(); 
```

最后，无论您需要检查两者中的哪一个是当前选择的值（*公里/英里*）：

```
String strSetting = sharedPrefs.getString("value", null); 
```

现在，您可以使用`String strSetting`来检查设置的值，并运行相应的代码。我假设它可能与转换有关。

注意：如果您在另一个中使用上述（检索）`Activity`，您将需要再次实例化它：

```
SharedPreferences sharedPrefs = getApplicationContext().getSharedPreferences(PRIVATE_PREF, Context.MODE_PRIVATE);
String strSetting = sharedPrefs.getString("value", null); 
```

任何时候您想更改设置，只需使用第一段代码。例如，如果您从公里更改为英里：

```
// SET THE A NEW VALUE
editor = sharedPrefs.edit();
editor.putString("value", "miles");

// DONT SKIP THIS STEP
editor.commit(); 
```

您可以在此处阅读有关[SharedPreferences 的更多信息](http://developer.android.com/reference/android/content/SharedPreferences.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:12:22.453

在 MainActivity（或其他地方）中声明一个静态字符串。

```
class MainActivity {
   public static String distance = "kilometer";
} 
```

您可以从任何地方更改字符串

```
MainActivity.distance = "miles"; 
```

然后，您可以在整个应用程序中使用距离字符串。

# c#-3.0 - 如何从 ppt 文档中删除母版幻灯片

> ID：16187942
> 
> 赞同：0
> 
> 时间：2013-04-24T09:08:20.710
> 
> 标签：c#-3.0, powerpoint-2007

我是编程初学者，我正在尝试使用 c# 删除母版幻灯片，但它总是抛出异常“指定的演员表无效”有没有办法删除母版幻灯片上的母版幻灯片或形状..请建议。

```
 for (int i = 1; i <= SlideCount; i++)
           {
                int j=i;
                slide = Slides[i];

                //iterate over all the shapes of notespage of given slide to find the notespage's shape which has text.
                 for (int k = 1; k <= slide.NotesPage.Shapes.Count; k++)
                 {
                      var noteShape = slide.NotesPage.Shapes[k];

                     //check if the selected notespage has text or not
                     if (noteShape.Type ==MsoShapeType.msoPlaceholder)
                     {
                         if (noteShape.PlaceholderFormat.Type ==PpPlaceholderType.ppPlaceholderBody)
                         {
                             if (noteShape.HasTextFrame ==MsoTriState.msoTrue)
                             {
                                 if (noteShape.TextFrame2.HasText ==MsoTriState.msoTrue)
                                 {

                                        //create a new slide 
                                        newslide = tempslides.AddSlide(++j, customLayout);

                                        // set the  title of newslide as the text of notepage of previous slide.
                                        newslide.Shapes.Title.TextFrame.TextRange.Text = noteShape.TextFrame.TextRange.Text;

                                        //delete the notepage text; 
                                        noteShape.TextFrame.TextRange.Delete();

                                        //delete footer from slide. 
                                        //if (newslide.HeadersFooters.Footer.Visible == MsoTriState.msoTrue)
                                        //    newslide.HeadersFooters.Footer.Text = string.Empty;
                                        //newslide.HeadersFooters.DateAndTime.Text = string.Empty;
                                        //newslide.HeadersFooters.SlideNumber.Text = string.Empty;
                                        newslide.HeadersFooters.Clear();
                                        newslide.Master.Delete();

                                        //jump to next slide  
                                        i++;

                                        //increase the slide count becoz one slide has been added.
                                        SlideCount = tempslides.Count;
                                 }

                              }

                         }

                     }

                 }
             } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T17:55:44.023

您不能删除任何幻灯片所基于的母版或布局。为什么要删除母版幻灯片？

要删除形状：

新闻幻灯片.Master.Shapes.Range.Delete

这将从幻灯片母版中删除形状，但不会删除幻灯片所基于的布局，因此它可能不是您所需要的。

# php - 使用php将元素添加到xml文件中

> ID：16187943
> 
> 赞同：0
> 
> 时间：2013-04-24T09:08:23.500
> 
> 标签：php, xml, oop, netbeans

我对 php 和 xml 文件有疑问：我想在 xml 文件中添加一个元素。我已经编写了这段代码并且它有效：

```
<?php

$file = 'clients.xml';                

$doc = new DOMDocument();                 
$doc->load($file);                       
$get_elms = $doc->getElementsByTagName("Client");     
$nr_elms = $get_elms->length;             

$node = $get_elms->item($nr_elms-1);              
$element = $node->nodeName;               

if($element=='Client') {
    $idfinal=intval($node->getAttribute('id'))+1;
    $client = $doc->createElement('Client');                          
    $node->parentNode->appendChild($client);   
    $client->setAttribute('id',$idfinal);    
    $client->setAttribute('name','Any name');
    $client->setAttribute('cnp','12345');
    $client->setAttribute('adress','adress');
    $client->setAttribute('nb','123');
    $client->setAttribute('amount','1000');
    $client->setAttribute('type','Any type');

 }

if($doc->save('clients.xml')) {
echo htmlentities($doc->saveXML());
}

?> 
```

如果我将完全相同的代码放入一个类中，放入函数 addClient 它不起作用，因为它无法识别我的 xml 文件。我试过 echo $get_elms->length; 它返回我 0 并且我的变量 $element 是空的，所以它不会输入那个“if”。我需要使用这个类，因为我必须执行更多操作，例如删除和更新，并且我必须向这些函数发送一些参数。谁能帮助我并告诉我我做错了什么？

我的课看起来像这样：

```
class xmlClientMappers {

    public function adaugaClient(array $row)
    {

        $name    = $row['name'];
        $adress  = $row['adress'];
        $cnp     = $row['cnp'];
        $nb      = $row['nb'];
        $amount  = $row['amount'];
        $type    = $row['type'];

      $file = 'clients.xml';                

$doc = new DOMDocument();                 
$doc->load($file);                       
$get_elms = $doc->getElementsByTagName("*");     
$nr_elms = $get_elms->length;             
echo "The nomber is ".$nr_elms;
$node = $get_elms->item($nr_elms-1);              
$element = $node->nodeName;               
echo "<br/>Here should be the name of the last element".$element;
if($element=='Client') {
    $idfinal=intval($node->getAttribute('id'))+1;
    echo " id-ul e ".$idfinal;
    $client = $doc->createElement('Client');                          
    $node->parentNode->appendChild($client);   
    $client->setAttribute('id',$idfinal);    
    $client->setAttribute('name',$name);
    $client->setAttribute('cnp',$cnp);
    $client->setAttribute('adress',$adress);
    $client->setAttribute('nb',$nb);
    $client->setAttribute('amount',$amount);
    $client->setAttribute('type',$type);

}

     if($doc->save('clienti.xml')) {
       echo htmlentities($doc->saveXML());
  else echo "It is wrong!";
}
    }
}
?> 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:30:53.110

您必须将 xml 位置相对于执行请求的文件的位置。

例如以下结构：

```
lib
  \ xmlClientMappers.php
  \ client.xml
index.php 
```

您必须使用“./lib/client.xml”作为文件名。

我认为这将是问题所在。

# ios - 拍摄高质量照片，同时捕捉视频

> ID：16187944
> 
> 赞同：0
> 
> 时间：2013-04-24T09:08:27.627
> 
> 标签：ios, objective-c, video, photo, avcapture

**你好，**

是否可以在使用 AVCapture 以低质量观看视频时拍摄高质量的图像？问题是我需要分析视频（使用一种特殊的算法，在高质量图像上花费太多时间，所以我使用低质量的视频）然后以高质量拍摄照片，当我的算法说“就这样做” :)

**此致**

# java - 最低循环与中间方法调用

> ID：16187947
> 
> 赞同：0
> 
> 时间：2013-04-24T09:08:45.193
> 
> 标签：java

我正在编写一个像这样工作的 API。

```
method0() {
}

method1() {
    // invoke method0 in predictable times
}

method2() {
    // invoke method1 in M/n times or invoke method0 in M times?
} 
```

`method0`说，我知道要通过 调用多少次，`method1()`我必须多次调用吗？或有时调用？`method0``M``method1``M/n`

与调用堆栈推送/弹出相关的中间方法调用是否会成为性能问题？

对不起我的英语不好。并提前致谢。

```
int read08() {
}

int read16() {
    return (read08() << 8) | read08();
}

int read32_1() {
    return (read16() << 16) | read16();
}

int read32_2() {
    int value = 0x00;
    for (int i = 0; i < 4; i++) {
        value <<= 8;
        value |= read08();
    }
    return value;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:14:37.463

我总是喜欢可读性而不是过早的优化。因此，继续以最易读的方式编写您的方法。

如果您的最终系统性能不令人满意，并且[强大的基准测试](http://www.ibm.com/developerworks/java/library/j-benchmark1/index.html)表明您的代码的这个区域是一个瓶颈，请进行一些进一步的测试以查看哪个选项更快。

# ajax - JSP 和 AJAX CRUD 操作

> ID：16187948
> 
> 赞同：1
> 
> 时间：2013-04-24T09:08:52.540
> 
> 标签：ajax, jsp, crud

我想使用 ajax 和 jsp 从数据库中获取数据，因为我不想刷新页面。我没有找到任何关于 AJAX 与 JSP 的好教程，主要是 AJAX 与 PHP 可用。任何人都可以发布链接或相同的示例。谢谢

# r - 使用 as.POSIXlt 以微秒计的舍入误差

> ID：16187949
> 
> 赞同：1
> 
> 时间：2013-04-24T09:09:00.493
> 
> 标签：r, datetime, time, posixct

我发现一些我无法解释的奇怪行为`as.POSIXlt`，我希望其他人可以。在调查[这个问题](https://stackoverflow.com/q/16179104/1478381)时，我发现有时一秒的小数部分会被错误地舍入

例如，下面的数字表示自纪元开始以来的特定秒，最后 6 位数字是秒的小数部分，因此第一个数字上的秒小数应该是 0.645990。

```
# Generate sequence of integers to represent date/times
times <- seq( 1366039619645990 , length.out = 11 )
options(scipen=20)
times
 [1] 1366039619645990 1366039619645991 1366039619645992 1366039619645993 1366039619645994 1366039619645995
 [7] 1366039619645996 1366039619645997 1366039619645998 1366039619645999 1366039619646000

# Convert to date/time with microseconds 
options(digits.secs = 6 )
as.POSIXlt( times/1e6, tz="EST", origin="1970-01-01") + 5e-7
 [1] "2013-04-15 10:26:59.645990 EST" "2013-04-15 10:26:59.645991 EST" "2013-04-15 10:26:59.645992 EST"
 [4] "2013-04-15 10:26:59.645993 EST" "2013-04-15 10:26:59.645994 EST" "2013-04-15 10:26:59.645995 EST"
 [7] "2013-04-15 10:26:59.645996 EST" "2013-04-15 10:26:59.645997 EST" "2013-04-15 10:26:59.645998 EST"
[10] "2013-04-15 10:26:59.645999 EST" "2013-04-15 10:26:59.646000 EST" 
```

我发现我必须添加一个小的增量，等于最小时间变化的一半，才能正确表示一秒的小数部分，否则会出现舍入错误。如果我在上面的一系列数字上运行它就可以正常工作`as.POSIXlt`，但是如果我尝试转换一个数字，即应该以 .645999 结尾的数字，那么将截断为 .645 的数字，我不知道为什么！

```
# Now just convert the date/time that should end in .645999
as.POSIXlt( times[10]/1e6, tz="EST", origin="1970-01-01") + 5e-7
[1] "2013-04-15 10:26:59.645 EST" 
```

将返回的向量中的第 10 个元素`as.POSIXlt`与上面等效的单个元素进行比较。怎么了？

会话信息：

```
R version 2.15.2 (2012-10-26)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] raster_2.0-41 sp_1.0-5     

loaded via a namespace (and not attached):
[1] grid_2.15.2     lattice_0.20-13 tools_2.15.2 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T10:13:45.920

这似乎是一个舍入问题，其中小数秒的有效数字被丢弃。*有问题*的(?) 代码在类对象的格式方法中`POSIXlt`，即`format.POSIXlt`由`print.POSIXlt`.

如果我们使用下面的两个值作为示例，`format.POSIXlt`请使用我在 sapply 中包装的以下行来测试四舍五入到连续更大位数的小数秒之间的差异的绝对值。

```
secs <- c( 59.645998 , 59.645999 )
sapply( seq_len(np) - 1L , function(x) abs(secs - round(secs, x)) )
         [,1]     [,2]     [,3]     [,4]     [,5]     [,6]
[1,] 0.354002 0.045998 0.004002 0.000002 0.000002 0.000002
[2,] 0.354001 0.045999 0.004001 0.000001 0.000001 0.000001 
```

正如您所看到的，当秒数为 .xxx999 时，任何四舍五入到 3 位或更多位都会给出 0.000001，从而影响打印：

```
# the number of digits used for the fractional seconds is gotten here
np <- getOption("digits.secs")

# and the length of digits to be printed is controlled in this loop
for (i in seq_len(np) - 1L) if (all(abs(secs - round(secs, 
                i)) < 0.000001)) {
                np <- i
                break
            } 
```

这是因为在上述方法中实际找到的 0.000001 是：

```
sprintf( "%.20f" , abs(secs[2] - round(secs,5)))
[1] "0.00000099999999991773"            

# In turn this is used to control the printing of the fractional seconds            
if (np == 0L) 
            "%Y-%m-%d %H:%M:%S"
        else paste0("%Y-%m-%d %H:%M:%OS", np) 
```

因此，由于四舍五入中使用的测试，小数秒被截断到小数点后 3 位。我认为如果将 for 循环中的测试值设置为 5e-7，这个问题就会消失。

当返回的结果是`POSIXlt`对象向量时，必须调用不同的打印方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:33:47.120

我没有得到正确的答案（继续调查），但我认为这很有趣：

```
times <- seq( 1366039619645990 , length.out = 11 )
# Convert to date/time wz="EST", origin="1970-01-01") + 5e-7
options(digits.secs = 6 )

test <- as.POSIXlt( times/1e6, tz="EST", origin="1970-01-01") + 5e-7

test1[1] <- NULL
for(i in 1:11)
  test1[i] <- as.POSIXlt(times[i]/1e6, tz="EST", origin="1970-01-01") + 5e-7

> identical(test, test1)
[1] TRUE 
```

顺便说一句，在单个语句中，我得到了与您相同的结果...

```
> test
 [1] "2013-04-15 10:26:59.645990 EST" "2013-04-15 10:26:59.645991 EST" "2013-04-15 10:26:59.645992 EST"
 [4] "2013-04-15 10:26:59.645993 EST" "2013-04-15 10:26:59.645994 EST" "2013-04-15 10:26:59.645995 EST"
 [7] "2013-04-15 10:26:59.645996 EST" "2013-04-15 10:26:59.645997 EST" "2013-04-15 10:26:59.645998 EST"
[10] "2013-04-15 10:26:59.645999 EST" "2013-04-15 10:26:59.646000 EST"
> test[10]
[1] "2013-04-15 10:26:59.645 EST"
> as.POSIXlt( times[10]/1e6, tz="EST", origin="1970-01-01") + 5e-7
[1] "2013-04-15 10:26:59.645 EST" 
```

查看最后两个语句，似乎这个问题主要与显示单个值而不是向量有关。但即使在这种情况下，它也可能是截断，可能是通过`floor`，而不是四舍五入。

# internet-explorer - ZK HTTP 501 - 服务未实现

> ID：16187950
> 
> 赞同：0
> 
> 时间：2013-04-24T09:09:01.087
> 
> 标签：internet-explorer, http, weblogic-10.x, zk

我正在使用`ZK 5.0.3 Framework + IE 9 + Weblogic 10.3`. 在我的 UI 上，我随机收到 HTTP 501 服务未实现错误。我已经验证了代码，没有发现任何可疑的东西。当我使用 Fiddler 截取 IE 和 Weblogic 之间的 HTTP 消息时，发现 POST 方法前面有垃圾字符。这是一个由 UI 发送到后端的截获的 RAW HTTP 消息示例。

```
ERROR: 22%3A0%2C%22LEFT%22%3A160%7D&CMD2=ONSCROLLPOS&UUID2=UQ0Q2R&DATA2=%7B%22TOP%22%3A0
%2C%22LEFT%22%3A2948%7D&CMD3=ONCLICK&UUID3=UQ0Q1R&DATA3=%7B%22PAGEX%22%3A360%2C%22PAGEY%22%3A225%2C%22WHICH%22%3A1%2C%22X%22%3A5%2C%22Y%22%3A-3%7DPOST 
httpurl://192.168.4.169:7001/DPQA13/zkau HTTP/1.1 Accept: / Content-Type: application/x-www-form-urlencoded;charset=UTF-8 ZK-SID: 2331 Referer: httpurl://192.168.4.169:7001/DPQA13
/DP/home.zul Accept-Language: en-in Accept-Encoding: gzip, deflate User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET 
CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; BRI/2) Host: 192.168.4.169:7001 Content-Length: 136 Connection: Keep-Alive Pragma: no-cache Cookie: 
JSESSIONID=D9TTRnFR8DyWpGc84cQZxVW1Gx7K0Z14kKRKsDQmntr9zSkZtYk8!-1480174431

dtid=zwvb&cmd0=onClick&uuid0=iBJQ7i&data0=%7B%22pageX%22%3A558%2C%22pageY%22%3A283
%2C%22which%22%3A1%2C%22x%22%3A31%2C%22y%22%3A4%7D 
```

有趣的是，ZK 库有一个重试机制，如果出现 5xx 错误代码，它会重试 HTTP 通信。但是，当它第二次重试时，它确实发送了正确的 HTTP 方法，没有预先设置垃圾字符。有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T05:38:11.250

是的，这是一个环境问题。昨天，我们确实缩小了问题范围，找到了真正的原因。我们使用的是 IE 版本：9.0.8112.16421 - 更新版本：9.0.6 (KB2675157)，它产生了这个缺陷。我们在另一台 IE 版本：9.0.8112.16421 - 更新版本：9.0.15 (KB2817183) 的 Windows 机器上进行了尝试，它运行顺利。很明显 9.0.6 存在一些问题，因此我们将其升级为“Automatic Updates On”。随着它升级到 9.0.15 (KB2817183)，问题就消失了。

# eclipse - 如何重新创建已编译的类？

> ID：16187960
> 
> 赞同：0
> 
> 时间：2013-04-24T09:09:26.980
> 
> 标签：eclipse, google-app-engine, gwt

我在 GWT 项目中具有以下结构：

```
war/WEB-INF/classes 
```

为了清理，因为我有一些缓存问题，我删除了整个类文件夹。现在，当我在本地运行 GWT 项目时，我得到了 ClassNotFound 异常，因为类文件夹没有重新创建。

为什么我必须重新触发类创建？我怎么能这样做？到目前为止，我从来不需要处理这些类的创建，它只是自动工作。为什么现在失败了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T10:08:55.323

最后发现是配置问题：

```
Project properties > Java Build Path > Source > Default output folder 
```

# android - 无法将本机库加载到 Android 项目中

> ID：16187963
> 
> 赞同：1
> 
> 时间：2013-04-24T09:09:34.150
> 
> 标签：android, android-ndk, java-native-interface

当我尝试将本机库加载到 Android 项目中时，我收到以下消息的异常：

`Cannot load library: reloc_library[1286]: 1830 cannot locate '__gnu_thumb1_case_uqi'...`

库是为 Android 构建的，使用 4.6 工具链。

可能是什么原因？提前致谢！

# javascript - 未定义 jQuery 处理程序 (handler.guid)

> ID：16187964
> 
> 赞同：0
> 
> 时间：2013-04-24T09:09:35.450
> 
> 标签：javascript, jquery, api, handler

我有一个用于将处理程序附加到事件的函数，并且当传递给它一个匿名函数时它正在工作，但是当我将该函数声明为对象中的一个字段时它不起作用并且处理程序未定义

```
validationObj  = (function(API){

    this.validate = function (id2, idN2){
         //code

        //doesn't work 
        //this way i get an handler.guid error  on  functionFromMyApi 
        API.attach_events( {"keyup": run_func(id1, id2) },"id");

        // work's ok
        API.attach_events( {"keyup": function(){ 
                                       // same code here from run_func
                                     }
                            },"id");

          //code
    };

    var run_func = function (id1, id2){

         var obj1 = document.getElementById(id1);
         var obj2= document.getElementById(id2);

         var show_err = false;

         API.functionFromMyApi ();

         //code 
         // more code

     };

})(api); 
```

**我使用 jQuery 1.2.6**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:15:27.173

当你这样做时：

```
API.attach_events( {"keyup": run_func(id1, id2) },"id"); 
```

您没有向它传递函数引用，就像您使用匿名函数时所做的那样，而是调用`run_func`并传递它的返回值。如果`run_func`没有参数，那么你可以这样做：

```
API.attach_events( {"keyup": run_func},"id"); 
```

但是，既然这样做了，您仍然需要使用匿名函数：

```
API.attach_events( {"keyup": function() {run_func(id1, id2)} },"id"); 
```

# javascript - 获取 DOMElement 的 jQuery 元素

> ID：16187968
> 
> 赞同：-2
> 
> 时间：2013-04-24T09:09:45.483
> 
> 标签：javascript, jquery, html, dom

我知道如何反其道而行之。为 jQuery 元素获取特定的 DOMElement 很容易。（使用 get() 方法）

但是如何获得特定 DOMElement 的 jQuery 元素呢？

不幸的是，这个 DOMElement 没有像 class 或 id 这样的属性，所以构造一个选择器并不是一个真正的选择。可以说我有这个html：

```
<div class="edit">Abcd<b><i><u>asdasd</u>adasda</i></b>sdfsdf<br>asd</div> 
```

我在 u-DomElement 中。我怎样才能把它作为一个 jQuery 元素？

有没有聪明的方法来做到这一点？

**编辑：**

我想知道是否有一种通用的方法可以做到这一点。不特定于上面显示的代码。喜欢：

```
DomElement.toJQuery() 
```

有这样的吗？我知道这可能是不可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:13:37.417

如果您只想获取元素，请使用以下代码。如果您想获取任何元素的 HTML，您可能需要将[.html()](http://api.jquery.com/html/)标记添加到任一示例中

```
var myVar = $('.edit u'); 
```

或者

```
var myVar =  $(".edit").find("u"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:15:24.973

你在找这个吗？

```
$(".edit").find("u"); 
```

* * *

希望这就是你要找的，

```
$(DomElement) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T12:12:01.573

为 DOM 对象获取 jQuery 对象就像`jQuery(dom_node)`(或`$(dom_node)`) 一样简单。见[http://api.jquery.com/jQuery/](http://api.jquery.com/jQuery/)

这通常用在事件处理程序中，将 DOM 节点指定为`this`，因此您会经常看到`$(this)`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-24T09:13:27.233

你只想要一个特定的 dom 元素我建议你找到一种方法来为该元素添加一个 id。

但是要在类中获取`u`元素`edit`：

```
$('.edit u');

$('.edit').find('u'); 
```

# ruby-on-rails - 如何检测它是否在嵌套破坏中

> ID：16187972
> 
> 赞同：0
> 
> 时间：2013-04-24T09:09:52.903
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord

我有一个嵌套模型：一个列表可以有很多子列表。（顺便说一下，我用过祖先）

我有一条规则，当我删除一个列表时，如果它是父母的唯一孩子（没有其他兄弟姐妹），它将取消。

但是，这现在阻止我删除父列表。例如：

```
L1
 |-L2
 |-L3
    |-L4 
```

我不能删除 L3，因为删除它会删除 L4，但 L4 是唯一的孩子。

进行此删除的最佳方法是什么？是否有状态表明我当前处于嵌套销毁调用中？

我有一个压倒一切的销毁方法：

```
 def destroy
    if siblings.count == 1
      errors.add(:base,'Cannot delete List because it is the only child')
      return false
    else
      super
    end
  end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T02:19:15.290

我使用跟踪方法调用堆栈跟踪的技术来查看我是否处于嵌套调用中：

```
 def destroy
    if siblings.count == 1 && !nested_destroy_call?
      errors.add(:base,'Cannot delete List because it is the only child')
      return false
    else
      super
    end
  end
  def nested_destroy_call?
    caller.count{|call| call.start_with?( __FILE__) && call.include?(':in `destroy')} > 1
  end 
```

# c++ - 复制和指针

> ID：16187973
> 
> 赞同：1
> 
> 时间：2013-04-24T09:09:54.777
> 
> 标签：c++, pointers, copy

我对复制分配和指针有疑问。

我将它作为一个例子来展示：

```
class Abc 
{      
public:
  Abc() { q = new Qwe;}
  Qwe* GetQwe() { return q; }

private:

  Qwe* q;
};

Abc* a = new Abc();
Qwe* aux = a->GetQwe();
aux->Modify(); 
```

我不知道当我调用 GetQwe 时，它​​是否返回了 q 值的副本，但与 q 不在同一内存位置。

所以我的问题是，Abc 中的 q 会被修改吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T09:11:46.880

> 所以我的问题是，Abc 中的 q 会被修改吗？

No`q`本身不会被修改，`GetQwe()`将返回仍然指向与 相同的内存位置的指针副本`q`，但对象`q`和`aux`指向的对象是相同的，可以通过`Modify()`调用进行修改。您需要`Abc::q`在调用其成员函数之前进行初始化。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T09:11:41.617

它返回指针的副本。此副本指向内存中原始指针指向的同一对象`q`。所以，指针`q`不会被修改，但`pointee`会。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T09:16:18.783

`GetQwe()`返回指向 Qwe 对象的指针（地址）。因此，您的指针`aux`指向同一个对象`p`，因此对 Modify 的调用将更改该单个对象。要有一个副本，然后像这样丢失 *：

```
Qwe GetQweCopy() { return *p; } 
```

# kendo-ui - 如何自定义默认 kendoui 菜单？

> ID：16187974
> 
> 赞同：0
> 
> 时间：2013-04-24T09:09:55.667
> 
> 标签：kendo-ui

我已经使用 MVC 实现了默认的剑道菜单。如何更改它的颜色和外观？有什么有用的链接吗？或任何文件？我知道它的所有Css。我只需要知道 css 是什么任何帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:26:11.657

有一些官方文件。

如果您通常对如何自定义 kendo UI 感兴趣，请参阅[此链接。](http://docs.kendoui.com/getting-started/web/appearance-styling)

[在这里](http://demos.kendoui.com/themebuilder/web.html)，您甚至可以随时随地设置您喜欢的样式，并将样式导出为 CSS 或 LESS。或者，您也可以在您的网站上包含 ThemeBuilder！请参阅网站上的 3 点说明指南。

```
3\. Use the ThemeBuilder as a bookmarklet on your own pages! (Drag the button to your bookmarks bar) 
```

**编辑：**

由于您想知道如何设置元素本身的样式，请通过 firebug 之类的工具检查菜单。然后，您将看到菜单的结构，并可以单独设置类的样式。例如，[此链接](http://demos.kendoui.com/web/menu/index.html)中的菜单，包含以下 html：

```
<ul id="menu" data-role="menu" class="k-widget k-reset k-header k-menu k-menu-horizontal" tabindex="0" role="menubar">
    <!-- snip -->
    <li class="k-item k-state-default" role="menuitem">
        <span class="k-link">
            Blog
        </span>
   </li>
   <!-- snip -->
</ul> 
```

然后，您可以例如设置以下样式：

```
.k-menu .k-item {
    min-width: 140px;
} 
```

**编辑2：**

要以仅对菜单项着色的方式更改菜单，请使用以下定义：

```
.k-menu.k-header {
    background-image: none;
    background-color: none;
}
.k-menu .k-item {
    background-color: red;
} 
```

# ruby-on-rails - 获取 PostgreSQL 中总项目的总和

> ID：16187975
> 
> 赞同：0
> 
> 时间：2013-04-24T09:09:57.477
> 
> 标签：ruby-on-rails, postgresql

这些表是：

```
Orders
-----------
user_id
state

Items
-----------
order_id
product_id
total

Products
----------
user_id

Users
---------
name
email 
```

关系如下：

```
User
has_many :products

Order
has_many :items
belongs_to :users

Product
has_many :items
belongs_to :user

Item
belongs_to :items 
```

我想获得每个拥有该产品的用户的 items.total 的总和

我目前有以下 SQL 语句：

```
SELECT *, SUM(items.total) as totalprice 
FROM "orders" 
INNER JOIN "items" ON "items"."order_id" = "orders"."id"
INNER JOIN "products" ON "products"."id" = "items"."product_id"
INNER JOIN "users" ON "users"."id" = "products"."user_id"
WHERE "orders"."state" = 'complete'
GROUP BY users.id 
```

或者

```
Order.complete.joins(:items => {:product => :user}).select("*, SUM(items.total) as totalprice").group('users.id') 
```

以上不起作用。我觉得这应该很容易。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:13:39.560

在 group by 查询中，您需要包括所有未在 group by 子句中聚合的列。如果您将查询更改为此，您可能会有更好的运气

```
SELECT users.id, SUM(items.total) as totalprice 
FROM "orders" 
INNER JOIN "items" ON "items"."order_id" = "orders"."id"
INNER JOIN "products" ON "products"."id" = "items"."product_id"
INNER JOIN "users" ON "users"."id" = "products"."user_id"
WHERE "orders"."state" = 'complete'
GROUP BY users.id 
```

如果您想要输出中的更多列，请将它们添加到选择行和按行分组

# perl - DBIx::Class::Schema::Loader 安装失败

> ID：16187979
> 
> 赞同：0
> 
> 时间：2013-04-24T09:10:03.670
> 
> 标签：perl, cpan, dbix-class

好吧，过去两天我一直在尝试完成这项工作，重新安装依赖项，更新模块，但我还没有找到任何解决方案。

安装命令行：

```
$> cpan DBIx::Class::Schema::Loader 
```

我得到了失败的测试，例如：

```
 GENEHACK/DBIx-Class-Schema-Loader-0.07035.tar.gz
  /usr/bin/make -- OK
CPAN: YAML loaded ok (v0.84)
Running make test
PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t t/backcompat/0.04006/*.t
t/01use.t ............................... ok     
t/02pod.t ............................... ok     
t/10_01sqlite_common.t .................. 6/294 
#   Failed test 'Correct number of warnings'
#   at t/lib/dbixcsl_common_tests.pm line 323.
#          got: '10'
#     expected: '9'
# Column 'dbix_class_testcomponent' in table 'loader_test2' collides with an inherited method.
# See "COLUMN ACCESSOR COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# Column 'dbix_class_testcomponentmap' in table 'loader_test2' collides with an inherited method.
# See "COLUMN ACCESSOR COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# Column 'testcomponent_fqn' in table 'loader_test2' collides with an inherited method.
# Column 'set_primary_key' in table 'loader_test2' collides with an inherited method.
# See "COLUMN ACCESSOR COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# Column 'set_primary_key' in table 'loader_test4' collides with an inherited method.
# See "COLUMN ACCESSOR COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# Column 'belongs_to' in table 'loader_test4' collides with an inherited method.
# See "COLUMN ACCESSOR COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# Relationship 'belongs_to' in source 'LoaderTest4' for columns 'belongs_to' collides with an inherited method. Renaming to 'belongs_to_rel'.
# See "RELATIONSHIP NAME COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# stat(t/var/common_dump/DBIXCSL_Test/Schema/MyResult/LoaderTest1.pm): No such file or directory at .cpan/build/DBIx-Class-Schema-Loader-0.07035-Emrz71/blib/lib/DBIx/Class/Schema/Loader/Base.pm line 1370.
# Dumping manual schema for DBIXCSL_Test::Schema to directory t/var/common_dump ...
# Schema dump completed.
t/10_01sqlite_common.t .................. 294/294 # Looks like you failed 1 test of 294.
t/10_01sqlite_common.t .................. Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/294 subtests 
        (less 2 skipped subtests: 291 okay)
t/10_02mysql_common.t ................... skipped: You need to set the DBICTEST_MYSQL_DSN, DBICTEST_MYSQL_USER, and DBICTEST_MYSQL_PASS environment variables
t/10_03pg_common.t ...................... skipped: You need to set the DBICTEST_PG_DSN, _USER, and _PASS environment variables
t/10_04db2_common.t ..................... skipped: You need to set the DBICTEST_DB2_DSN, _USER, and _PASS environment variables
t/10_05ora_common.t ..................... skipped: You need to set the DBICTEST_ORA_DSN, _USER, and _PASS environment variables
t/10_06sybase_common.t .................. skipped: You need to set the DBICTEST_SYBASE_DSN, _USER, and _PASS environment variables
t/10_07mssql_common.t ................... skipped: You need to set the DBICTEST_MSSQL_DSN, _USER and _PASS and /or the DBICTEST_MSSQL_ODBC_DSN, _USER and _PASS environment variables
t/10_08sqlanywhere_common.t ............. skipped: You need to set the DBICTEST_SQLANYWHERE_DSN, _USER and _PASS and/or the DBICTEST_SQLANYWHERE_ODBC_DSN, _USER and _PASS environment variables
t/10_09firebird_common.t ................ skipped: You need to set the DBICTEST_FIREBIRD_DSN, _USER and _PASS and/or the DBICTEST_FIREBIRD_INTERBASE_DSN and/or the DBICTEST_FIREBIRD_ODBC_DSN environment variables
t/10_10informix_common.t ................ skipped: You need to set the DBICTEST_INFORMIX_DSN, _USER, and _PASS environment variables
t/10_11msaccess_common.t ................ skipped: You need to set the DBICTEST_MSACCESS_ODBC_DSN, and optionally _USER and _PASS and/or the DBICTEST_MSACCESS_ADO_DSN, and optionally _USER and _PASS environment variables
t/20invocations.t ....................... ok     
t/21misc_fatal.t ........................ ok   
t/22dump.t .............................. ok   
t/23dumpmore.t .......................... 1/? 
#   Failed test 'DBICTest::Schema::_no_skip_load_external warning count'
#   at t/lib/dbixcsl_dumper_tests.pm line 176.
#          got: '1'
#     expected: '0'
# stat(t/var/dump/DBICTest/Schema/_no_skip_load_external/Foo.pm): No such file or directory at .cpan/build/DBIx-Class-Schema-Loader-0.07035-Emrz71/blib/lib/DBIx/Class/Schema/Loader/Base.pm line 1370.
t/23dumpmore.t .......................... 95/? make: *** wait: No child processes.  Stop. 
```

***更新***

正如 abraxxa 所建议的，我尝试了一个更新的 perl 版本：

```
icsl8684> perl -v

This is perl 5, version 12, subversion 2 (v5.12.2) built for x86_64-linux 
```

另外，我使用 local::lib 因为我没有 root 权限。我重新运行测试，它们再次失败。但是，我没有看到 perl 版本在 cpan 安装过程中发生了变化：

```
PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0, 'inc', 'blib/lib', 'blib/arch')" t/*.t t/backcompat/0.04006/*.t
t/01use.t ............................... ok     
t/02pod.t ............................... ok     
t/10_01sqlite_common.t .................. 6/294 
#   Failed test 'Correct number of warnings'
#   at t/lib/dbixcsl_common_tests.pm line 323.
#          got: '10'
#     expected: '9'
# Column 'dbix_class_testcomponent' in table 'loader_test2' collides with an inherited method.
# See "COLUMN ACCESSOR COLLISIONS" in perldoc DBIx::Class::Schema::Loader::Base .
# Column 'dbix_class_testcomponentmap' in table 'loader_test2' collides with an inherited method. 
```

第一行是使用`/usr/bin/perl`而不是

`~/.perl/perl`

我已经更改了我`$PATH`以使用更新的 perl 版本，确实如此（参见 perl -v 行）。

我感觉这里有些不对劲。我还尝试安装`cpan[5]> install Devel::DProf`并收到以下错误：无法为模块Devel加载'~/.cpan/build/Devel-DProf-20110802.00-cJFc6O/blib/arch/auto/Devel/DProf/DProf.so':: DProf：~/.cpan/build/Devel-DProf-20110802.00-cJFc6O/blib/arch/auto/Devel/DProf/DProf.so：未定义符号：get_cvn_flags at /usr/lib/perl5/5.8.8/x86_64-linux -thread-multi/DynaLoader.pm 第 230 行。在 dprof/test8_t 第 0 行。

如您所见，它尝试从 /usr/lib/ 而不是我拥有的 local::lib 加载 DynaLoader。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T07:21:40.500

DBIx::Class 维护者在很大程度上使其向下兼容于其 META 文件中声明的 Perl 5.8.1 版本。可能是其他一些组件，如 DBD::SQLite 或 DBIx::Class::Schema::Loader 在您的特定版本（RedHat Enterprise Linux 4？）上存在错误。DBIx::Class 在其故障排除文档中甚至有一个部分：[红帽系统上的 Perl 性能问题](https://metacpan.org/module/RIBASUSHI/DBIx-Class-0.08210/lib/DBIx/Class/Manual/Troubleshooting.pod#Perl-Performance-Issues-on-Red-Hat-Systems)

如果您想安装自己的 Perl，推荐的方法是使用[perlbrew](http://www.perlbrew.pl/)。您甚至不需要 root 访问权限，您可以将它安装在您的主目录中，甚至可以安装多个完全独立的不同或相同版本，例如每个应用程序一个。

# sql-server - 针对 MSSQL 运行 GROUP BY 的 Doctrine2 问题

> ID：16187982
> 
> 赞同：2
> 
> 时间：2013-04-24T09:10:19.080
> 
> 标签：sql-server, doctrine-orm

我正在尝试使用以下命令在我的数据库上使用 Doctrine2 运行自定义查询：

```
$qb = $em->createQueryBuilder();
        $qb->select(array('c', 'count(uc) as numMembers'))
           ->from('AcmeGroupBundle:Group', 'c')
           ->leftJoin('c.members', 'uc', 'WITH', 'uc.community = c.id')
           ->groupBy('c')
           ->orderBy('numMembers', 'DESC')
           ->setFirstResult( $offset )
           ->setMaxResults( $limit );
        $entities = $qb->getQuery()->getResult(); 
```

此查询在我的本地 MySQL 数据库上完美运行。但是当我尝试对我的生产数据库（MSSQL）运行它时，我收到以下错误：

```
SQLSTATE[42000]: [Microsoft][SQL Server Native Client 11.0][SQL Server]Column 'Group.discr' is invalid in the select list because it is not contained in either an aggregate function or the GROUP BY clause. 
```

我确实有一个鉴别器列，因为我有从 Group 继承的类。关于如何更改查询以使其与 MSSQL 兼容的任何建议？

谢谢！

# asp.net-mvc-3 - 跨多个控制器操作保持值

> ID：16187983
> 
> 赞同：4
> 
> 时间：2013-04-24T09:10:19.107
> 
> 标签：asp.net-mvc-3, episerver

在我的控制器中，我有一个数据库中对象的 ID，并且多个操作需要此 ID 才能访问该对象。此 ID 在`Index`操作中获取并用于填充视图模型。我获取 ID 的方式是通过一个参数，EPiServer（出 CMS）通过该`Index`操作，所以我无法在其他任何地方得到它。

我的问题是，有没有办法让我的操作可以访问这个 ID，而无需在客户端使用隐藏字段等？

我想尽可能避免发送额外的数据，这并不是一个很好的解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T09:25:48.893

我不确定您所说的“这不是一个很好的解决方案”是什么意思，因为使用隐藏字段可能是跨多个帖子持久化数据的最干净的方法。请记住，HTTP 是 - 并且应该被视为 - 无状态协议。但是，还有一些其他选项需要考虑：

## **饼干**

将值添加到控制器中的 cookie 并将其添加到`Response`对象。然后，拿起它并在需要时使用`Request.Cookies`.

```
/* Setting */
Response.Cookies["id"].Value = "myId";

/* Getting */
var id = Request.Cookies["id"] != null
    ? Request.Cookies["id"].Value
    : String.Empty; 
```

**优点：**在多个请求中保持不变，而不必在中间的请求中做任何事情。

**缺点：**轻松关闭客户端。

## **会话状态**

`Session`使用集合将值添加到会话状态。

```
/* Setting */
Session["id"] = "myId";

/* Getting */
var myId = Session["id"] != null ? Session["id"].ToString() : String.Empty; 
```

**优点：**易于使用，跨多个请求持续存在

**缺点：**如果用户打开多个选项卡、使用“返回”按钮等，可能会变得非常混乱。通常是不可预测的。

## **隐藏字段**

将值添加到隐藏字段并在下一个 POST 中选择该值。

```
/* View (assuming string model property 'Id') */
@Html.BeginForm("MyAction", "MyController")
{
    @Html.HiddenFor(m => m.Id)
    <input type="submit" value="Submit" />
}

/* Controller */
public ActionResult MyAction(MyModel model)
{
    var id = model.Id;
} 
```

**优点：**没有足迹。干净、简单、无状态和高效。

**缺点：**不利于跨 GET 请求持久化。一次只在一个 POST 中持续存在。

## **请求参数**

将值添加为重定向上的查询字符串参数。

```
/* View */
@Html.ActionLink("Go!", "MyAction", new { identifier = "myId" })

/* Controller */
public ActionResult MyAction(string identifier)
{
    var id = identifier ?? String.Empty;
} 
```

**优点：**与隐藏字段不同，可用于 GET 请求。

**缺点：**要求您实现一种在您需要值的所有请求中持久保存查询字符串的方法。

## 什么是最好的？

就个人而言，我会说 - 在你的情况下 - 使用 cookie 可能是最好的选择。如果你想在多个请求中持久化而不必处理每个请求中的值（并且没有使用的可怕`Session`），cookie 可能是最简单和最整洁的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:23:39.123

对于这种情况，我通常会在表单中隐藏输入，但如果您不愿意，您可以使用 Cookies 或 Sessions。

# google-chrome-extension - 使用backbone.js 构建Chrome 扩展？（使用模板时出现内容安全策略错误）

> ID：16187987
> 
> 赞同：0
> 
> 时间：2013-04-24T09:10:43.917
> 
> 标签：google-chrome-extension

我正在构建一个带有chrome扩展的项目（如网站），js框架是backbone.js

使用主干模板的渲染视图非常好，可以帮助我轻松显示数据内容。在正常项目中一切正常，但在 chorme 扩展中不能正常工作（它总是显示“内容安全策略”错误消息）。

我该如何处理这个问题？或者您可以向我推荐另一个易于构建 chrome 扩展的框架。

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T02:41:54.953

更改您的主干.js 副本以符合适用的 CSP，或[更改扩展的 CSP](http://developer.chrome.com/extensions/contentSecurityPolicy.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T08:06:46.357

我解决了我的问题。

我添加了：“content_security_policy”：“script-src 'self' 'unsafe-eval'; object-src 'self'”

到我的清单文件，它工作正常。

谷歌浏览器不推荐它，但对我来说没问题。

谢谢。

# c# - WPF TextBox 专注于构造函数

> ID：16187993
> 
> 赞同：1
> 
> 时间：2013-04-24T09:11:01.593
> 
> 标签：c#, wpf

我在关注WPF`Control`中的 a时遇到问题。`Window`

在`Window`我的构造函数上添加`TextBox`如下：

```
TextBox tb = new TextBox();
tb.Text = input;
tb.SelectAll();
tb.Focus(); 
```

我还在加载的事件`Focus()`上再次调用该方法。`Window`

问题是有时窗口聚焦而其他时候没有！这是一种非常奇怪的行为，我想知道是否有人遇到过同样的问题并且可以给我一些指导。

- 更新

我找到了导致问题的原因，但还没有解决方案。我正在使用 WIA 扫描文档，这会导致`ProgressBar`我的整个应用程序失去焦点。

我试过打电话`Application.Current.MainWindow.Focus()`，但这并不能恢复焦点，有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T10:09:55.813

Like I mentioned in my updated question my entire application loses focus due to another dialog being displayed, what I ended up using was:

```
Application.Current.MainWindow.Activate(); 
```

This returns focus to my application and when my `Window` with the `TextBox` is shown, `Focus` is applied to this control.

Hope it helps someone!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:32:39.563

从记忆中，我认为最后一次创建窗口是 Windows.Activated 事件。您可以尝试在该事件上运行您的焦点代码吗？

# ios - Core Audio Tutorial Import-Lines

> ID：16187994
> 
> 赞同：0
> 
> 时间：2013-04-24T09:11:05.640
> 
> 标签：ios, objective-c, core-audio, header-files

我找到了以下核心音频教程：http: [//prasadiphonecode.blogspot.de/2012/09/recording-voice-audio-in-iphone.html](http://prasadiphonecode.blogspot.de/2012/09/recording-voice-audio-in-iphone.html)

但是那里的前三行必须导入什么？

因为它刚刚提到：'#import' 没有其他任何东西

谢谢！

顺便说一句：有谁知道本教程以及在哪里可以找到要下载的代码/Xcode 项目？

干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:45:01.540

这是它的 3 个必需框架，添加到您的项目中

```
#import <UIKit/UIKit.h>
#import <AudioToolbox/AudioQueue.h>
#import <AudioToolbox/AudioFile.h> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:53:50.777

```
#import <UIKit/UIKit.h>
#import <AVFoundation/AVFoundation.h>
#import <AudioToolbox/AudioFile.h> 
```

并获得更多帮助（如果有任何混淆）..您可以查看以下链接：

[http://prassan-warrior.blogspot.in/2012/11/recording-audio-on-iphone-with.html](http://www.raywenderlich.com/259/audio-101-for-iphone-developers-playing-audio-programmatically)

[http://www.raywenderlich.com/259/audio-101-for-iphone-developers-playing-audio-programmatically](http://www.raywenderlich.com/259/audio-101-for-iphone-developers-playing-audio-programmatically)

# android - R.java 文件突然消失了

> ID：16187998
> 
> 赞同：1
> 
> 时间：2013-04-24T09:11:12.173
> 
> 标签：android, file

我正在处理我的项目，直到最近我尝试运行项目时它突然丢失了。这个文件是自动生成的，为什么会发生这种情况。在我的错误日志中，我收到了这个错误。

“警告：忽略名称 menu_settings 资源文件中的名称冲突”

请在这里帮助我。在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:13:54.710

`R.java`在编译时自动生成。如果文件夹中发生任何错误，`res`则无法生成它。所以检查里面是否有问题。您也可以使用`problems`日食透视图

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:14:20.730

如果您在文件下的 xml 文件中出现错误`res`，例如 layouts、string.xml 等，就会发生这种情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:16:49.180

检查您的资源文件似乎有些错误。这就是您`R.java`不生成的原因。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T09:23:15.800

检查您的 res 文件夹，检查 drawable 和 .xml 文件，如果您在 xml 编译器中有任何错误，则不会生成 R.java 文件并执行此操作... Project -> Clean

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T09:25:24.477

签出 Res 文件夹，特别是图像名称和 XML 文件遵循可绘制的命名约定。