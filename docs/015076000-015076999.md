# StackOverflow 问答 15076000-15076999

# css - Rails：形成CSS边距

> ID：15076000
> 
> 赞同：-1
> 
> 时间：2013-02-25T20:36:13.443
> 
> 标签：css, ruby-on-rails

我创建了一个表单。

在该表单的样式表中，我这样做了：

```
 .boxPerson{

margin-left: 20px;
} 
```

在我看来：

```
 <div class="boxPerson">
<p>
<%= f.label :uebung_name, "Name" %> <br />
<%= f.text_field :uebung_name %>

<%= f.label :beschreibung, "Beschreibung" %> <br />
<%= f.text_field :beschreibung %>

<%= f.check_box :_destroy %>
<%= f.label :_destroy, "Remove Question" %>
 </p>
</div> 
```

Rails 不适用于我的 CSS。怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T00:08:44.907

我认为这与 RUBY 无关，原因可能是：

1.  在你的 CSS 中继承，一些规则否定了边距
2.  不正确的 CSS 路径
3.  CSS 规则中/之前的拼写错误，这将阻止它被执行

你能用萤火虫检查吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:08:51.353

如果你修复它会更好吗

```
<div class="boxPerson"< 
```

和

```
<div class="boxPerson"> 
```

?

因为...如果 html 包装器格式不正确，则 css 也无法呈现。

# php - 邮箱分机yii错误

> ID：15076007
> 
> 赞同：-1
> 
> 时间：2013-02-25T20:36:37.263
> 
> 标签：php, email, yii

尝试安装邮箱 yii 扩展，按照安装说明进行操作，但出现错误。不知道如何修复。这是扩展链接[http://www.yiiframework.com/extension/mailbox/](http://www.yiiframework.com/extension/mailbox/)

这是错误跟踪：

```
Alias "mailbox.MailboxModule" is invalid. Make sure it points to an existing PHP file and the file is readable.

Z:\home\localhost\www\Kare2Match\framework\YiiBase.php(316)

304         if($isClass && (class_exists($className,false) || interface_exists($className,false)))
305             return self::$_imports[$alias]=$className;
306 
307         if(($path=self::getPathOfAlias($alias))!==false)
308         {
309             if($isClass)
310             {
311                 if($forceInclude)
312                 {
313                     if(is_file($path.'.php'))
314                         require($path.'.php');
315                     else
316                         throw new CException(Yii::t('yii','Alias "{alias}" is invalid. Make sure it points to an existing PHP file and the file is readable.',array('{alias}'=>$alias)));
317                     self::$_imports[$alias]=$className;
318                 }
319                 else
320                     self::$classMap[$className]=$path.'.php';
321                 return $className;
322             }
323             else  // a directory
324             {
325                 if(self::$_includePaths===null)
326                 {
327                     self::$_includePaths=array_unique(explode(PATH_SEPARATOR,get_include_path()));
328                     if(($pos=array_search('.',self::$_includePaths,true))!==false)

+  Z:\home\localhost\www\Kare2Match\framework\YiiBase.php(196): YiiBase::import("mailbox.MailboxModule", true)

+  Z:\home\localhost\www\Kare2Match\framework\base\CModule.php(282): YiiBase::createComponent("mailbox.MailboxModule", "mailbox", null, array("userClass" => "PersonAbstract", "userIdColumn" => "k2m_internal_id", "usernameColumn" => "nickname"))

+  Z:\home\localhost\www\Kare2Match\framework\web\CWebApplication.php(337): CModule->getModule("mailbox")

+  Z:\home\localhost\www\Kare2Match\framework\web\CWebApplication.php(276): CWebApplication->createController("mailbox")

+  Z:\home\localhost\www\Kare2Match\framework\web\CWebApplication.php(141): CWebApplication->runController("mailbox") 
```

需要帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:44:53.593

这是一个很难帮助的问题，因为解决方案实际上是在您的输出中提供的：“确保它指向一个现有的 PHP 文件并且该文件是可读的。”

所以首先要检查它的别名“mailbox.MailboxModule”在哪里，它指向哪里？是现有的 PHP 文件吗？如果是，那么文件的权限是否允许 Web 服务器读取它？

要查找别名，请尝试通过您的代码进行文本搜索。要查找文件的权限，请进入终端并执行`ls /path/to/theFile.php`（在 Mac 或 Linux 上...Windows，我不知道）如果您使用 FTP，您通常可以右键单击文件并获取上下文菜单以了解更多信息有关文件权限的信息。

要了解文件权限[，请阅读此内容。](http://en.wikipedia.org/wiki/Filesystem_permissions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-20T17:01:24.890

嘿，只需将“类”属性添加到 /protected/config/main.php 中的模块“邮箱”，如下所示：

```
'modules' => array(

   'mailbox'=>
    array(
            'class' => 'application.extensions.mailbox.MailboxModule',
            ..............
            ..............
            'userClass' => 'User',
            'userIdColumn' => 'id',
            'usernameColumn' =>  'username',  

    ); 
```

如果您发现此答案有帮助，请投票给其他人以轻松获得。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-20T17:19:54.353

这是另一个解决方案：

我认为，您已将“邮箱”扩展名放在 /protected/extensions/ 中。请将“邮箱”扩展名放在“/protected/modules”中。它解决了你的问题。

# asp.net - 表单身份验证 Cookie 不在服务器上保留，但在 LocalHost 上保留

> ID：15076011
> 
> 赞同：0
> 
> 时间：2013-02-25T20:36:44.513
> 
> 标签：asp.net, iis-7, forms-authentication, persistent

我一直在开发一个在 IIS 7 上设置的 Web 应用程序，它是在 DefaultWebSite 下运行的多个应用程序和 Web 服务之一。在 localhost 上开发时，我的 FormsAuthentication cookie 仍然存在；但是，当在服务器上发布时，cookie 不是持久的。我正在使用 SQLServer 会话，并在 Web 配置中有验证密钥以排除应用程序池回收。我一直在努力解决这个问题，但没有运气......请帮忙！

下面是一些代码：

```
<forms name=".OPTFORMSTEST" loginUrl="~/Secure/Login.aspx" defaultUrl="~/Default.aspx"  timeout="240" path="/" slidingExpiration="false" protection="All" />

Public Shared Function DoLogin(ByVal strUsername As String, ByVal isPersistent As Boolean)
    Dim authTicket As FormsAuthenticationTicket
    Dim authCookie As HttpCookie
    Dim strUserData As String = strUsername
    Dim intTimeoutPersist As Integer = 43200    '(30 days)
    Dim intTimeoutNonPersist As Integer = 300   '(5 hours)
    Dim intRtn As Integer = 1
    Dim strCookiePath As String = Current.Request.Url.AbsolutePath.Remove(Current.Request.ApplicationPath.Length)

    Try
        'set cookie timout period and create auth ticket based on isPersistent
        If isPersistent Then
            'create a persistent ticket
            authTicket = New FormsAuthenticationTicket(1, strUsername, _
                DateTime.Now(), _
                DateTime.Now.AddMinutes(intTimeoutPersist), _
                True, strUserData)
        Else
            'create a temp ticket
            authTicket = New FormsAuthenticationTicket(1, strUsername, _
                DateTime.Now(), _
                DateTime.Now.AddMinutes(intTimeoutNonPersist), _
                False, strUserData)
        End If

        'create encrypted string for user data
        Dim strEncr As String = FormsAuthentication.Encrypt(authTicket)
        'create cookie
        authCookie = New HttpCookie("OPTFORMSTEST", strEncr)
        'set cookie expiration based on the auth ticket
        If isPersistent Then
            authCookie.Expires = authTicket.Expiration
        End If
        Current.Response.Cookies.Add(authCookie)
    Catch ex As Exception
        intRtn = -1
    End Try
    Return intRtn
End Function 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T19:58:26.383

经过一些试验，我发现 RedirectFromLoginPage 方法在从生产框中使用时会创建另一个 cookie。我用 Response.Redirect 替换，只创建了一个 cookie 并且它是持久的。

# java - JTextField 滚动

> ID：15076014
> 
> 赞同：2
> 
> 时间：2013-02-25T20:36:47.870
> 
> 标签：java, swing, user-interface, joptionpane, choice

我制作这个程序是为了好玩，但我被卡住了，因为程序在屏幕外运行。我如何实现滚动条而不必完全更改我的代码。

```
public static void main(String args[]) throws IOException 
    {

          String ai,ia,ny;
          JTextField field1 = new JTextField();
          JTextField field2 = new JTextField();
          JTextField field3 = new JTextField();
          JTextField field4 = new JTextField();
          JTextField field5 = new JTextField();
          JTextField field6 = new JTextField();
          JTextField field7 = new JTextField();
          JTextField field8 = new JTextField();
          JTextField field9 = new JTextField();
          JTextField field10 = new JTextField();
          JTextField field11 = new JTextField();
          JTextField field12 = new JTextField();
          JTextField field13 = new JTextField();
          JTextField field14 = new JTextField();
          JTextField field15 = new JTextField();
          JTextField field16 = new JTextField();
          JTextField field17 = new JTextField();
          JTextField field18 = new JTextField();
          JTextField field19 = new JTextField();
          JTextField field20 = new JTextField();
          JTextField field21 = new JTextField();
          JTextField field22 = new JTextField();
          JTextField field23 = new JTextField();

      Object[] message = {
          "Rent:", field1,
          "Water:", field2,
          "Light:", field3,    
          "DTV:", field4, 
          "Sprint:", field5, 
          "stf:", field6, 
          "Tithe:", field7, 
          "sff:", field8, 
          "trr:", field9, 
          "Citi:", field10, 
          "Chase:", field11, 
          "Walmart:", field12, 
          "Miss:", field13, 
          "Charter",field14,
          "Insurance:",field15,
          "Contribution", field16,
          "Lowes", field17,
          "Stream", field18,
          //"Water", field19,
          //"", field,

      };

        //user input
      //final ImageIcon icon = new ImageIcon("icon.jpg");
      int option = JOptionPane.showConfirmDialog(field1, message, "Enter all your info", JOptionPane.OK_CANCEL_OPTION);

    if (option == JOptionPane.OK_OPTION)
      {
          String Rent = field1.getText();
          String Water = field2.getText();
          String Light = field3.getText();
          String Dtv = field4.getText();
          String Sprint = field5.getText();
          String Par = field6.getText();
          String Tit = field7.getText();
          String sd = field8.getText();
          String sdd = field9.getText();
          String Citi = field10.getText();
          String Chase = field11.getText();
          String Wal = field12.getText();
          String sd = field13.getText();
          String Chasrt = field14.getText();
          String ds = field15.getText();
          String sdd = field16.getText();
          String Lowes = field17.getText();
          String Stream = field18.getText(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T23:02:52.837

调整[此处](https://stackoverflow.com/a/14858272/230513)显示的方法以使用`GridLayout`所需的最小更改。还要考虑`BoxLayout`，显示[在这里](https://stackoverflow.com/a/3175280/230513)，或者`GroupLayout`，显示[在这里](https://stackoverflow.com/a/14858272/230513)和[这里](https://stackoverflow.com/a/8504753/230513)。

![图片](../Images/299c9d251c3c9bb743e91b92a399041f.png)

```
import java.awt.Component;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.GridLayout;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextField;

/**
 * @see https://stackoverflow.com/a/15078211/230513
 */
public class Test {

    JTextField field1 = new JTextField();
    JTextField field2 = new JTextField();
    JTextField field3 = new JTextField();
    JTextField field4 = new JTextField();
    JTextField field5 = new JTextField();
    JTextField field6 = new JTextField();
    JTextField field7 = new JTextField();
    JTextField field8 = new JTextField();
    JTextField field9 = new JTextField();
    JTextField field10 = new JTextField();
    JTextField field11 = new JTextField();
    JTextField field12 = new JTextField();
    JTextField field13 = new JTextField();
    JTextField field14 = new JTextField();
    JTextField field15 = new JTextField();
    JTextField field16 = new JTextField();
    JTextField field17 = new JTextField();
    JTextField field18 = new JTextField();
    Object[] message = {
        "Rent:", field1,
        "Water:", field2,
        "Light:", field3,
        "DTV:", field4,
        "Sprint:", field5,
        "stf:", field6,
        "Tithe:", field7,
        "sff:", field8,
        "trr:", field9,
        "Citi:", field10,
        "Chase:", field11,
        "Walmart:", field12,
        "Miss:", field13,
        "Charter", field14,
        "Insurance:", field15,
        "Contribution", field16,
        "Lowes", field17,
        "Stream", field18,};

    private void display() {
        JPanel panel = new JPanel(new GridLayout(0, 2));
        int i = 0;
        while (i < message.length) {
            panel.add(new JLabel((String) message[i++], JLabel.RIGHT));
            panel.add((Component) message[i++]);
        }
        JScrollPane jsp = new JScrollPane(panel) {
            @Override
            public Dimension getPreferredSize() {
                return new Dimension(320, 240);
            }
        };
        JOptionPane.showMessageDialog(
            null, jsp, "Enter data", JOptionPane.PLAIN_MESSAGE);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                new Test().display();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-25T20:44:44.763

您可以使用 JScrollPane。

您需要做的就是实例化 JScrollPane 类，并作为第一个参数为其提供包含所有文本字段的内容窗格。

```
JScrollPane scrollPane = new JScrollPane(Your main content pane here, ScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED); 
```

之后，只需将您的 scrollPane 添加到主内容窗格。

# c++ - 我究竟做错了什么？（C++ 数组）

> ID：15076016
> 
> 赞同：-1
> 
> 时间：2013-02-25T20:36:53.187
> 
> 标签：c++, arrays

所以，我正在做在线挑战，这就是我必须做的：我必须输出“N”个魔法。之后你输入“N”个法术来形成魔法。

所以基本上，一个示例输入是：

```
5
3
2
1
1
0 
```

这个的输出应该是 2，因为 3+2=5 对于魔法。但是，重要的注意事项（我遇到的问题是每个咒语都有 +1 的值）

例子：

```
12
5
5
4
4
4
3
3
3
2
2
2
1 
```

因此， 5+5=10 ，但由于每个法术都有 +1 值，所以 6+6=12。所以输出应该是2。

这是我的代码，但由于某种原因它输出 3。

```
#include <iostream>
using namespace std;
int main()
{

    int n,c=0,br=0;
    cin>>n;
    int a[150];

    for(int i=0;i<n;i++)
    {
        cin >> a[i];
        a[i]+=1;
        while(c<=n)
        {
            c+=a[i];
            br++;
        }
    }

    if(a[0]==n-1)
    br--;

    cout << br << endl;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:47:47.083

使用心灵调试技巧：

```
while(c<=n) 
```

表示法术的总和小于或等于法术的数量。

这意味着，它使用前 5 个咒语（总共 6 个），然后是后 5 个咒语（总共 12 个），然后由于仍然小于或等于咒语的数量（12），所以它使用前四个咒语（现在共有 16 个）。我想你想要`c<n`那里而不是`c<=n`.

不相关：您的问题措辞非常糟糕，几乎没有任何意义。

# python - MacOS X 上的基本 pyinstaller

> ID：15076023
> 
> 赞同：2
> 
> 时间：2013-02-25T20:37:22.587
> 
> 标签：python, macos, pyinstaller

我正在尝试`pyinstaller`使用我的一个失败的 python 脚本。所以我尝试了一个非常基本的脚本：

```
#!/usr/bin/env python
from matplotlib.pyplot import *
from numpy import *
x=linspace(0,2*pi,200)
plot(x,sin(x))
show() 
```

但这也会失败，并显示以下错误消息。我在最新的 Mountain Lion 上，如果重要的话，我正在使用 enthought python。我在 pyinstaller 目录中时调用它，`python pyinstaller.py --onefile ../testpyinst.py`完整的输出在这里：

```
23 INFO: wrote xxxxxxxxxxxxxx/pyinstaller-2.0/testpyinst/testpyinst.spec
54 INFO: UPX is not available.
1263 INFO: checking Analysis
1337 INFO: checking PYZ
1350 INFO: checking PKG
1350 INFO: building because out00-PKG.toc missing or bad
1350 INFO: building PKG out00-PKG.pkg
Traceback (most recent call last):
  File "pyinstaller.py", line 91, in <module>
    main()
  File "pyinstaller.py", line 86, in main
    run_build(opts, spec_file)
  File "pyinstaller.py", line 50, in run_build
    PyInstaller.build.main(spec_file, **opts.__dict__)
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/build.py", line 1625, in main
    build(specfile, buildpath)
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/build.py", line 1582, in build
    execfile(spec)
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/testpyinst/testpyinst.spec", line 16, in <module>
    console=True )
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/build.py", line 987, in __init__
    crypt=self.crypt)
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/build.py", line 880, in __init__
    self.__postinit__()
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/build.py", line 315, in __postinit__
    self.assemble()
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/build.py", line 933, in assemble
    archive.build(self.name, mytoc)
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/loader/archive.py", line 202, in build
    self.save_toc(tocpos)
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/loader/carchive.py", line 250, in save_toc
    tocstr = self.toc.tobinary()
  File "xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/loader/carchive.py", line 79, in tobinary
    nmlen+entrylen, dpos, dlen, ulen, flag, typcd, nm+pad))
struct.error: argument for 's' must be a string 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:25:57.080

你有没有成功地建造过任何东西`pyinstaller`？我建议你写一个没有外部依赖的更简单的代码，

```
print "Hello World!" 
```

或者

```
f = open('test.txt','w')
f.write("Hello World!")
f.close() 
```

尝试导入标准库模块，例如`math`：

```
import math
x = 10.0
y = math.sqrt(x)
print "square_root({}) = {}".format(x,y) 
```

接下来尝试使用`numpy`它只是打印`sin(x)`而不是尝试绘制它。

```
from numpy import *
x = linspace(0,2*pi,20)
print sin(x) 
```

如果这样可行，也许不是`show`绘制情节，而是尝试`savefig`查看错误是否与尝试显示图形有关。

```
from matplotlib.pyplot import *
from numpy import *
x=linspace(0,2*pi,200)
plot(x,sin(x))
savefig("/tmp/testfig.png") 
```

如果这仍然不起作用，则可能是您的 matplotlib 后端有问题。使用更简单/更标准的：

```
import matplotlib
matplotlib.use("Agg")
from matplotlib.pyplot import *
from numpy import *
x=linspace(0,2*pi,200)
plot(x,sin(x))
savefig("/tmp/testfig.png") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-05T22:50:57.267

我所做的是打开这个文件`xxxxxxxxxxxxxx/pyinstaller-2.0/PyInstaller/loader/carchive.py`，并在第 79 行之后添加几个`print()`。我发现 nm+pad 未被识别为字符串。不过这有点奇怪。我正在使用 Windows 7，`print()`显示`nm=kernel32`和`pad = ''`.

现在谈谈我的临时解决方案：

```
rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's', nmlen + entrylen, dpos, dlen, ulen, flag, typcd, nm + pad)) 
```

----更改为----->

```
try:
    rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's', nmlen + entrylen, dpos, dlen, ulen, flag, typcd, nm + pad))
except:
    ss = str(nm + pad)
    rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's', nmlen + entrylen, dpos, dlen, ulen, flag, typcd, ss)) 
```

不确定它是否是一个强大的解决方案，但它适用于我的解决方案。我相信你可以使用类似的技术来找出你的。顺便说一句，我正在使用 pyinstaller2.1 + python2.7.6。命令是 `pyinstaller -F MyApp.py --hidden-import=scipy.special._ufuncs_cxx`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-05T09:55:51.257

我的问题与 hxu 的评论中描述的相同；改变

```
rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's', nmlen + entrylen, dpos, dlen, ulen, flag, typcd, nm + pad)) 
```

到

```
rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's', nmlen + entrylen, dpos, dlen, ulen, flag, typcd, nm.encode('utf8') + pad)) 
```

为我工作，因为 type(nm) 是 'unicode'，而 type(pad) str.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-28T21:20:37.303

我在 Win7 和 Pythonxy 上遇到了类似的问题。我不得不编辑文件`C:\Python27\Lib\site-packages\pyinstaller-2.1-py2.7.egg\PyInstaller\loader\pyi_carchive.py`第 84-85 行，并更改 `nm + pad`为`str(nm + pad)`

原来的：

```
rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's',nmlen + entrylen, dpos, dlen, ulen, flag, typcd, nm + pad)) 
```

使固定：

```
rslt.append(struct.pack(self.ENTRYSTRUCT + repr(nmlen) + 's',nmlen + entrylen, dpos, dlen, ulen, flag, typcd, str(nm + pad))) 
```

# c++ - C++ 前向声明和“不允许不完整类型”错误

> ID：15076026
> 
> 赞同：7
> 
> 时间：2013-02-25T20:37:31.143
> 
> 标签：c++, c++-cli, declaration, forward, incomplete-type

我有两个类（或者更好的是，头文件）是我的 C++ 程序的一部分，我根本无法让这一切正常工作！作为我的应用程序的一部分，他们基本上需要彼此的数据才能正常运行。

不要通过阅读这段代码来折磨自己；我只需要解决*前向声明*和*相互包含*问题，所以只看一下对这个问题很重要的代码部分。

错误发生在最后的第二个代码片段中（我不得不从第一个片段中删除大量代码，所以我可以发布问题，我想这与我的问题无关）。

**introForm.h**

```
#pragma once
#include <stdlib.h>
#include "creditsForm.h"
#include "registerForm.h"
#include "aboutForm.h"
#include "QuizForm.h"
#include <windows.h>
#include <time.h>
#ifndef __introForm__H__
#define __introForm__H__

namespace InteractiveQuiz {

    using namespace System;
    using namespace System::ComponentModel;
    using namespace System::Collections;
    using namespace System::Windows::Forms;
    using namespace System::Data;
    using namespace System::Drawing;

    ref class QuizForm;

    /// <summary>
    /// Summary for introForm
    /// </summary>
    public ref class introForm : public System::Windows::Forms::Form
    {
    public:
        introForm(void)
        {
            InitializeComponent();
            //
            //TODO: Add the constructor code here
            //
        }

    protected:
        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        ~introForm()
        {
            if (components)
            {
                delete components;
            }
        }

        // Extracts a word from a sentence with a given ordinal number
        string extractWord(int ordinal, string sentence)
        {
            int counter = 0;
            string word;

            for (int i = 0; i < sentence.length(); i++)
            {
                if (sentence[i] == ',')
                {
                    if (sentence [i+1] != ',')
                    {
                        counter ++;

                        if (counter == ordinal)
                        {
                            return word;
                        }

                        word ="";
                    }
                }
                else
                {
                    word += sentence[i];
                }       
            }
        }

private: System::Void btnExit1_Click(System::Object^  sender, System::EventArgs^  e) {
             exit(1);
         }
private: System::Void btnCredits1_Click(System::Object^  sender, System::EventArgs^  e) {
             creditsForm^ credits = gcnew creditsForm;
             credits->Show();
         }
private: System::Void registerBtn_Click(System::Object^  sender, System::EventArgs^  e) {
             registerForm^ registerUser = gcnew registerForm;
             registerUser->Show();
         }
private: System::Void aboutToolStripMenuItem_Click(System::Object^  sender, System::EventArgs^  e) {
             aboutForm^ aboutApp = gcnew aboutForm;
             aboutApp->Show();
         }
private: System::Void quitToolStripMenuItem_Click(System::Object^  sender, System::EventArgs^  e) {
             introForm::Close();
         }
private: System::Void introForm_Load(System::Object^  sender, System::EventArgs^  e) {
             ifstream regUsers ("regUsers.csv");

             if (regUsers)
             {
                 lblUser->Enabled = true;
                 lblPass->Enabled = true;

                 logUsername->Enabled = true;
                 logPassword->Enabled = true;

                 btnLogSubmit->Enabled = true;
                 if (lblLogin->Text == L"Not logged in")
                 {
                    quizLogo->Visible = false;
                 }
             }
             else
             {
                 lblUser->Enabled = false;
                 lblPass->Enabled = false;

                 logUsername->Enabled = false;
                 logPassword->Enabled = false;

                 btnLogSubmit->Enabled = false;

                 quizLogo->Visible = true;
             }

             regUsers.close();
         }

public: String^ loggedUser;

private: System::Void btnLogSubmit_Click(System::Object^  sender, System::EventArgs^  e) {
             if (logUsername->Text->Length < 6 && logPassword->Text->Length < 8)
             {
                 errorLabel->Text = L"Username must be at least 6 and password 8 characters long!";
                 errorLabel->Visible = true;
             }
             else if (logUsername->Text->Length < 6)
             {
                 errorLabel->Text = L"Username must be at least 6 characters long!";
                 errorLabel->Visible = true;
             }
             else if (logUsername->Text->Contains(" "))
             {
                 errorLabel->Text = L"Username must not contain spaces!";
                 errorLabel->Visible = true;
             }
             else if (logPassword->Text->Length < 8)
             {
                 errorLabel->Text = L"Password must be at least 8 characters long!";
                 errorLabel->Visible = true;
             }
             if (logUsername->Text->Length >= 6 && logPassword->Text->Length >= 8)
             {
                 String^ result = logUsername->Text + "," + logPassword->Text;
                 string result2 = marshal_as<string>(result);

                 ifstream regUsers("regUsers.csv");
                 string line;
                 string fileUserPass;

                 /* While there is still a line. */
                 while(getline(regUsers, line))
                 {
                     fileUserPass = extractWord(1, line) + "," + extractWord(2,line);

                     if (fileUserPass == result2) // Successful login
                     {
                         lblLogin->Text = L"Logged in as " + logUsername->Text;

                         quizLogo->Visible = true;
                         errorLabel->Visible = false;

                         btnLogout->Enabled = true;

                         startNewToolStripMenuItem->Enabled = true;

                         loggedUser = logUsername->Text;
                     } 
                 }

                 regUsers.close();

                 if (fileUserPass != result2)
                 {
                     errorLabel->Text = L"Username or password incorrect!";
                     errorLabel->Visible = true;
                 }
             }
         }
private: System::Void btnLogout_Click(System::Object^  sender, System::EventArgs^  e) {
             btnLogout->Enabled = false;

             lblLogin->Text = L"Not logged in";

             quizLogo->Visible = false;

             errorLabel->Visible = false;

             logUsername->Clear();
             logPassword->Clear();

             logUsername->Focus();

             startNewToolStripMenuItem->Enabled = false;
         }
private: System::Void startNewToolStripMenuItem_Click(System::Object^  sender, System::EventArgs^  e) {
             QuizForm^ quiz = gcnew QuizForm;
             quiz->Show();
         }
};
}

#endif // !__introForm__H__ 
```

**测验表格.h**

```
#pragma once
#include <string.h>
using namespace std;

#ifndef __QuizForm__H__
#define __QuizForm__H__

namespace InteractiveQuiz {

    using namespace System;
    using namespace System::ComponentModel;
    using namespace System::Collections;
    using namespace System::Windows::Forms;
    using namespace System::Data;
    using namespace System::Drawing;

    ref class introForm;

    /// <summary>
    /// Summary for QuizForm
    /// </summary>
    public ref class QuizForm : public System::Windows::Forms::Form
    {
    public:
        QuizForm(void)
        {
            InitializeComponent();
            //
            //TODO: Add the constructor code here
            //
        }

    protected:
        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        ~QuizForm()
        {
            if (components)
            {
                delete components;
            }
        }
    private: System::Windows::Forms::TabControl^  tabControl;
    protected: 

    protected: 
    private: System::Windows::Forms::TabPage^  tabPage1;
    private: System::Windows::Forms::TabPage^  tabPage2;
    private: System::Windows::Forms::MenuStrip^  menuStrip1;
    private: System::Windows::Forms::Button^  button1;
    private: System::Windows::Forms::ToolStripMenuItem^  quizToolStripMenuItem;
    private: System::Windows::Forms::ToolStripMenuItem^  startNewToolStripMenuItem;
    private: System::Windows::Forms::ToolStripMenuItem^  endQuizToolStripMenuItem;
    private: System::Windows::Forms::ToolStripSeparator^  toolStripSeparator1;
    private: System::Windows::Forms::ToolStripMenuItem^  quitToolStripMenuItem;
    private: System::Windows::Forms::ToolStripMenuItem^  helpToolStripMenuItem;
    private: System::Windows::Forms::ToolStripMenuItem^  aboutToolStripMenuItem;
    private: System::Windows::Forms::Label^  lblQuizLogin;

    private:
        /// <summary>
        /// Required designer variable.
        /// </summary>
        System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        void InitializeComponent(void)
        {
            this->tabControl = (gcnew System::Windows::Forms::TabControl());
            this->tabPage1 = (gcnew System::Windows::Forms::TabPage());
            this->tabPage2 = (gcnew System::Windows::Forms::TabPage());
            this->menuStrip1 = (gcnew System::Windows::Forms::MenuStrip());
            this->quizToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
            this->startNewToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
            this->endQuizToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
            this->toolStripSeparator1 = (gcnew System::Windows::Forms::ToolStripSeparator());
            this->quitToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
            this->helpToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
            this->aboutToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
            this->button1 = (gcnew System::Windows::Forms::Button());
            this->lblQuizLogin = (gcnew System::Windows::Forms::Label());
            this->tabControl->SuspendLayout();
            this->menuStrip1->SuspendLayout();
            this->SuspendLayout();
            // 
            // tabControl
            // 
            this->tabControl->Controls->Add(this->tabPage1);
            this->tabControl->Controls->Add(this->tabPage2);
            this->tabControl->Location = System::Drawing::Point(12, 27);
            this->tabControl->Name = L"tabControl";
            this->tabControl->SelectedIndex = 0;
            this->tabControl->Size = System::Drawing::Size(686, 430);
            this->tabControl->TabIndex = 0;
            // 
            // tabPage1
            // 
            this->tabPage1->Location = System::Drawing::Point(4, 22);
            this->tabPage1->Name = L"tabPage1";
            this->tabPage1->Padding = System::Windows::Forms::Padding(3);
            this->tabPage1->Size = System::Drawing::Size(678, 404);
            this->tabPage1->TabIndex = 0;
            this->tabPage1->Text = L"tabPage1";
            this->tabPage1->UseVisualStyleBackColor = true;
            // 
            // tabPage2
            // 
            this->tabPage2->Location = System::Drawing::Point(4, 22);
            this->tabPage2->Name = L"tabPage2";
            this->tabPage2->Padding = System::Windows::Forms::Padding(3);
            this->tabPage2->Size = System::Drawing::Size(678, 404);
            this->tabPage2->TabIndex = 1;
            this->tabPage2->Text = L"tabPage2";
            this->tabPage2->UseVisualStyleBackColor = true;
            // 
            // menuStrip1
            // 
            this->menuStrip1->Items->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(2) {this->quizToolStripMenuItem, 
                this->helpToolStripMenuItem});
            this->menuStrip1->Location = System::Drawing::Point(0, 0);
            this->menuStrip1->Name = L"menuStrip1";
            this->menuStrip1->Size = System::Drawing::Size(710, 24);
            this->menuStrip1->TabIndex = 1;
            this->menuStrip1->Text = L"menuStrip1";
            // 
            // quizToolStripMenuItem
            // 
            this->quizToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(4) {this->startNewToolStripMenuItem, 
                this->endQuizToolStripMenuItem, this->toolStripSeparator1, this->quitToolStripMenuItem});
            this->quizToolStripMenuItem->Name = L"quizToolStripMenuItem";
            this->quizToolStripMenuItem->Size = System::Drawing::Size(43, 20);
            this->quizToolStripMenuItem->Text = L"&Quiz";
            // 
            // startNewToolStripMenuItem
            // 
            this->startNewToolStripMenuItem->Name = L"startNewToolStripMenuItem";
            this->startNewToolStripMenuItem->Size = System::Drawing::Size(125, 22);
            this->startNewToolStripMenuItem->Text = L"Start &New";
            // 
            // endQuizToolStripMenuItem
            // 
            this->endQuizToolStripMenuItem->Name = L"endQuizToolStripMenuItem";
            this->endQuizToolStripMenuItem->Size = System::Drawing::Size(125, 22);
            this->endQuizToolStripMenuItem->Text = L"&End Quiz";
            // 
            // toolStripSeparator1
            // 
            this->toolStripSeparator1->Name = L"toolStripSeparator1";
            this->toolStripSeparator1->Size = System::Drawing::Size(122, 6);
            // 
            // quitToolStripMenuItem
            // 
            this->quitToolStripMenuItem->Name = L"quitToolStripMenuItem";
            this->quitToolStripMenuItem->Size = System::Drawing::Size(125, 22);
            this->quitToolStripMenuItem->Text = L"Q&uit";
            // 
            // helpToolStripMenuItem
            // 
            this->helpToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(1) {this->aboutToolStripMenuItem});
            this->helpToolStripMenuItem->Name = L"helpToolStripMenuItem";
            this->helpToolStripMenuItem->Size = System::Drawing::Size(44, 20);
            this->helpToolStripMenuItem->Text = L"&Help";
            // 
            // aboutToolStripMenuItem
            // 
            this->aboutToolStripMenuItem->Name = L"aboutToolStripMenuItem";
            this->aboutToolStripMenuItem->Size = System::Drawing::Size(116, 22);
            this->aboutToolStripMenuItem->Text = L"&About...";
            // 
            // button1
            // 
            this->button1->Location = System::Drawing::Point(623, 476);
            this->button1->Name = L"button1";
            this->button1->Size = System::Drawing::Size(75, 23);
            this->button1->TabIndex = 2;
            this->button1->Text = L"Close";
            this->button1->UseVisualStyleBackColor = true;
            // 
            // lblQuizLogin
            // 
            this->lblQuizLogin->AutoSize = true;
            this->lblQuizLogin->Location = System::Drawing::Point(12, 489);
            this->lblQuizLogin->Name = L"lblQuizLogin";
            this->lblQuizLogin->Size = System::Drawing::Size(70, 13);
            this->lblQuizLogin->TabIndex = 3;
            this->lblQuizLogin->Text = L"Not logged in";
            // 
            // QuizForm
            // 
            this->AutoScaleDimensions = System::Drawing::SizeF(6, 13);
            this->AutoScaleMode = System::Windows::Forms::AutoScaleMode::Font;
            this->ClientSize = System::Drawing::Size(710, 511);
            this->Controls->Add(this->lblQuizLogin);
            this->Controls->Add(this->button1);
            this->Controls->Add(this->tabControl);
            this->Controls->Add(this->menuStrip1);
            this->MainMenuStrip = this->menuStrip1;
            this->MaximizeBox = false;
            this->MinimizeBox = false;
            this->Name = L"QuizForm";
            this->StartPosition = System::Windows::Forms::FormStartPosition::CenterScreen;
            this->Text = L"Interactive Quiz";
            this->Load += gcnew System::EventHandler(this, &QuizForm::QuizForm_Load);
            this->tabControl->ResumeLayout(false);
            this->menuStrip1->ResumeLayout(false);
            this->menuStrip1->PerformLayout();
            this->ResumeLayout(false);
            this->PerformLayout();

        }
#pragma endregion

private: System::Void QuizForm_Load(System::Object^  sender, System::EventArgs^  e) {
             introForm^ intro = gcnew introForm; // the second introForm in this line is underlined with the mentioned error
         }
    };
}

#endif // !__QuizForm__H__ 
```

你在这 2 段代码中看到的是我在网上找到的拼图，哈哈。:)

*我的目标：*能够在 QuizForm 中使用来自introForm*的**变量*。

 *提前致谢！鲍里斯·J。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-02-25T20:43:40.770

When using forward declarations of objects in C++, keep a few things in mind.

*   You cannot allocate an incomplete type, as the compiler doesn't know how big it is yet. This is solved by only using pointers to incomplete types.
*   You cannot reference the members of an incomplete type before it's definition is seen by the compiler. This is solved by separating your interface and implementation in to header and code files.
*   If you are in a situation where you **have** to use an incomplete type, you're probably doing something wrong. Try to avoid circular references wherever possible.

In regards to your comment:

When you have a forward declaration of a class, like `class foo;`, it's called an incomplete type, as the definition doesn't exist yet. You can refer to it indirectly via pointers, like `foo *bar;`, but you can't use it in any operations that require knowledge of its internals, such as dereferencing it, using functions that it contains, etc. You can make a full declaration of a class, though using function prototypes instead of functions. You can then define the functions in another file. This will allow you to completely define a circular dependency without making anything blow up. For example:

[On codepad with the headers inline-included.](http://codepad.org/UAaW91DG)

The individual files:

foo.h:

```
#ifndef __FOO_H_INCLUDE
    #define __FOO_H_INCLUDE
    #ifndef __FOO_H_DEFINED
        #define __FOO_H_DEFINED
        class foo;
        #include "bar.h"
    #endif
    class foo{
        bar *a;
        int b;
        public:
        foo( int _b );
        bar& getbar();
        int getb();
        void setbar( bar* _a );
    };
#endif 
```

bar.h:

```
#ifndef __BAR_H_INCLUDE
    #define __BAR_H_INCLUDE
    #ifndef __BAR_H_DEFINED
        #define __BAR_H_DEFINED
        class bar;
        #include "foo.h"
    #endif
    class bar{
        foo *a;
        int b;
        public:
        bar(int _b );
        foo& getfoo();
        int getb();
        void setfoo( foo* _a );
    };
#endif 
```

main.cpp:

```
#include<iostream>
#include "foo.h"
#include "bar.h"

foo::foo( int _b ){ b = _b;}
int foo::getb(){ return b; }
bar& foo::getbar(){ return *a; }
void foo::setbar( bar* _a){ a = _a; }

bar::bar( int _b ){ b = _b;}
int bar::getb(){ return b; }
foo& bar::getfoo(){ return *a; }
void bar::setfoo( foo* _a ){ a = _a; }

int main(){
    foo a(5);
    bar b(20);
    a.setbar(&b);
    b.setfoo(&a);
    std::cout   << a.getbar().getfoo().getbar().getb() 
                << "\n" 
                << a.getbar().getfoo().getbar().getfoo().getb();
    return 0;
} 
```*

# sql-server - 复制 SQL Server 2008 中的所有视图、过程和函数

> ID：15076031
> 
> 赞同：1
> 
> 时间：2013-02-25T20:37:46.327
> 
> 标签：sql-server, database-replication

我有一个设置了复制的 SQL Server 2008 实例。当我们进行部署时，我想确保所有视图、过程和函数都复制到副本中。这意味着如果我添加一个新的视图、过程或函数，我需要将它添加到复制中，对吗？

我真的不想在我们部署时每 2 周手动执行一次，但似乎您应该能够在 T-SQL 中完成所有这些操作。是否有可以运行的脚本将所有视图、过程和函数添加到复制中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T02:45:04.617

如果我要这样做，我会这样做：

1.  为要复制其架构的对象类型创建 DDL 触发器或事件通知。无论哪种方式，该过程都会将消息放置在服务代理队列上。
2.  创建一个从队列中弹出消息的过程，并使用适当的参数调用 sp_addarticle 和 sp_addsubscription（还不错，因为这些只是基于架构的文章）
3.  使该过程成为代理队列的激活过程
4.  按计划调用快照代理。确保未将发布设置为立即同步，否则它将生成所有文章的快照。你只想要新的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:54:52.170

据我所知，没有“基于规则”的复制。

您必须“编码”每个表。

当您浏览 GUI 时，它将使您能够“生成脚本”。

您可以生成脚本。并将其用作基线。但是您仍然需要对其进行调整，（也就是添加新表、对象等）到脚本中。

复制应该通过 tsql 脚本完成，恕我直言，因为忘记设置的选项太多了。

这是一个例子：

```
use [AdventureWorks]
 exec sp_addarticle @publication = N'AdventureWorksPublication2', @article =
 N'Address', @source_owner = N'Person', @source_object = N'Address', @type =
 N'logbased', @description = null, @creation_script = null, @pre_creation_cmd
 = N'drop', @schema_option = 0x000000000803589F,
 @identityrangemanagementoption = N'manual', @destination_table = N'Address',
 @destination_owner = N'Person', @vertical_partition = N'true', @ins_cmd =
 N'CALL sp_MSins_PersonAddress', @del_cmd = N'CALL sp_MSdel_PersonAddress',
 @upd_cmd = N'SCALL sp_MSupd_PersonAddress'

 -- Adding the article's partition column(s)
 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'AddressID', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1

 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'AddressLine1', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1
 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'AddressLine2', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1
 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'City', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1
 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'StateProvinceID', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1
 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'PostalCode', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1
 exec sp_articlecolumn @publication = N'AdventureWorksPublication2', @article
 = N'Address', @column = N'rowguid', @operation = N'add',
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1

 -- Adding the article synchronization object
 exec sp_articleview @publication = N'AdventureWorksPublication2', @article =
 N'Address', @view_name = N'SYNC_Address_1__64', @filter_clause = null,
 @force_invalidate_snapshot = 1, @force_reinit_subscription = 1
 GO 
```

[http://msdn.microsoft.com/en-us/library/ms173857.aspx](http://msdn.microsoft.com/en-us/library/ms173857.aspx)

现在，您可以编写编写代码的代码。

```
declare @publicationName varchar(64)
select @publicationName = 'AdventureWorksPublication2'

select 'exec sp_articlecolumn @publication = N' + char(39) + 'AdventureWorksPublication2' + char(39) + ', @article = N' + char(39) + TABLE_NAME + char(39) + ', @column = N' + char(39) + COLUMN_NAME + char(39) + ', @operation = N' + char(39) + 'add' + char(39) + ', @force_invalidate_snapshot = 1, @force_reinit_subscription = 1'
from INFORMATION_SCHEMA.COLUMNS IC 
where TABLE_NAME = 'Address' 
```

请注意，这是一个样本。它获取一个表的列。

如果/当您执行“脚本输出”时，您需要注意 SchemaOptionValue 这是我以前写的一个“检查器”。（你给它一个值，它会给你一个小报告）

这是编写复制脚本的第一个原因（恕我直言）。有很多选择，我认为你永远不会从记忆中做同样的事情两次。

```
--------------START TSQL
 set nocount on

 declare @CurrentOptionCompareValue int

 declare @SchemaOptionValue int

 select @SchemaOptionValue = 0x000000000803589F --<<Substitute your value
 here

 select @CurrentOptionCompareValue = 0x00

 print 'Disables scripting by the Snapshot Agent and uses creation_script. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x01

 print 'Generates the object creation script (CREATE TABLE, CREATE PROCEDURE,
 and so on). This value is the default for stored procedure articles. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x02

 print 'Generates the stored procedures that propagate changes for the
 article, if defined. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x04

 print 'Identity columns are scripted using the IDENTITY property. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x08

 print 'Replicate timestamp columns. If not set, timestamp columns are
 replicated as binary. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x10

 print 'Generates a corresponding clustered index. Even if this option is not
 set, indexes related to primary keys and unique constraints are generated if
 they are already defined on a published table. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x20

 print 'Converts user-defined data types (UDT) to base data types at the
 Subscriber. This option cannot be used when there is a CHECK or DEFAULT
 constraint on a UDT column, if a UDT column is part of the primary key, or
 if a computed column references a UDT column. Not supported for Oracle
 Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x40

 print 'Generates corresponding nonclustered indexes. Even if this option is
 not set, indexes related to primary keys and unique constraints are
 generated if they are already defined on a published table. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x80

 print 'Replicates primary key constraints. Any indexes related to the
 constraint are also replicated, even if options select
 @CurrentOptionCompareValue = 0x10 and select @CurrentOptionCompareValue =
 0x40 are not enabled. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x100

 print 'Replicates user triggers on a table article, if defined. Not
 supported for Oracle Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x200

 print 'Replicates foreign key constraints. If the referenced table is not
 part of a publication, all foreign key constraints on a published table are
 not replicated. Not supported for Oracle Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x400

 print 'Replicates check constraints. Not supported for Oracle Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x800

 print 'Replicates defaults. Not supported for Oracle Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x1000

 -- Replicates column-level collation.

 print 'Note: This option should be set for Oracle Publishers to enable
 case-sensitive comparisons. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x2000

 print 'Replicates extended properties associated with the published article
 source object. Not supported for Oracle Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x4000

 print 'Replicates UNIQUE constraints. Any indexes related to the constraint
 are also replicated, even if options select @CurrentOptionCompareValue =
 0x10 and select @CurrentOptionCompareValue = 0x40 are not enabled. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x8000

 print 'This option is not valid for SQL Server 2005 Publishers. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x10000

 print 'Replicates CHECK constraints as NOT FOR REPLICATION so that the
 constraints are not enforced during synchronization. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x20000

 print 'Replicates FOREIGN KEY constraints as NOT FOR REPLICATION so that the
 constraints are not enforced during synchronization. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x40000

 print 'Replicates filegroups associated with a partitioned table or index. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x80000

 print 'Replicates the partition scheme for a partitioned table. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x100000

 print 'Replicates the partition scheme for a partitioned index. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x200000

 print 'Replicates table statistics. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x400000

 print 'Default Bindings '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x800000

 print 'Rule Bindings '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x1000000

 print 'Full-text index '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x2000000

 print 'XML schema collections bound to xml columns are not replicated. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x4000000

 print 'Replicates indexes on xml columns. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x8000000

 print 'Create any schemas not already present on the subscriber. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x10000000

 print 'Converts xml columns to ntext on the Subscriber. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x20000000

 print 'Converts large object data types (nvarchar(max), varchar(max), and
 varbinary(max)) introduced in SQL Server 2005 to data types that are
 supported on SQL Server 2000\. For information about how these types are
 mapped, see the "Mapping New Data Types for Earlier Versions" section in
 Using Multiple Versions of SQL Server in a Replication Topology. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x40000000

 print 'Replicate permissions. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x80000000

 print 'Attempt to drop dependencies to any objects that are not part of the
 publication. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x100000000

 print 'Use this option to replicate the FILESTREAM attribute if it is
 specified on varbinary(max) columns. Do not specify this option if you are
 replicating tables to SQL Server 2005 Subscribers. Replicating tables that
 have FILESTREAM columns to SQL Server 2000 Subscribers is not supported,
 regardless of how this schema option is set. '

 -- See related option select @CurrentOptionCompareValue = 0x800000000.

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x200000000

 print 'Converts date and time data types (date, time, datetimeoffset, and
 datetime2) introduced in SQL Server 2008 to data types that are supported on
 earlier versions of SQL Server. For information about how these types are
 mapped, see the "Mapping New Data Types for Earlier Versions" section in
 Using Multiple Versions of SQL Server in a Replication Topology. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x400000000

 print 'Replicates the compression option for data and indexes. For more
 information, see Creating Compressed Tables and Indexes. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x800000000

 print 'Set this option to store FILESTREAM data on its own filegroup at the
 Subscriber. If this option is not set, FILESTREAM data is stored on the
 default filegroup. Replication does not create filegroups; therefore, if you
 set this option, you must create the filegroup before you apply the snapshot
 at the Subscriber. For more information about how to create objects before
 you apply the snapshot, see Executing Scripts Before and After the Snapshot
 Is Applied. '

 -- See related option select @CurrentOptionCompareValue = 0x100000000.

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x1000000000

 print 'Converts common language runtime (CLR) user-defined types (UDTs) that
 are larger than 8000 bytes to varbinary(max) so that columns of type UDT can
 be replicated to Subscribers that are running SQL Server 2005\. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x2000000000

 print 'Converts the hierarchyid data type to varbinary(max) so that columns
 of type hierarchyid can be replicated to Subscribers that are running SQL
 Server 2005\. For more information about how to use hierarchyid columns in
 replicated tables, see hierarchyid (Transact-SQL). '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x4000000000

 print 'Replicates any filtered indexes on the table. For more information
 about filtered indexes, see Filtered Index Design Guidelines. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x8000000000

 print 'Converts the geography and geometry data types to varbinary(max) so
 that columns of these types can be replicated to Subscribers that are
 running SQL Server 2005\. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x10000000000

 print 'Replicates indexes on columns of type geography and geometry. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print ''

 select @CurrentOptionCompareValue = 0x20000000000

 print 'Replicates the SPARSE attribute for columns. For more information
 about this attribute, see Using Sparse Columns. '

 if ( @CurrentOptionCompareValue & @SchemaOptionValue ) > 0 begin print
 'Above Value is ON' end else begin print 'Above value is OFF' end

 print '' 
```

# arrays - 如何编写一个 Matlab 函数，当给定一个字符串单元数组时，返回一个按字母顺序排列的具有相同字符串的结构数组？

> ID：15076034
> 
> 赞同：-1
> 
> 时间：2013-02-25T20:37:59.673
> 
> 标签：arrays, matlab, sorting

我确信可能有一个 matlab 函数可以做到这一点，但我需要自己编写。正如标题所说，我需要编写一个函数，当给定一个字符串单元格数组时，它返回一个结构数组，包含相同的字符串但按字母顺序排列。此外，“计数”字段必须包含该特定字符串出现的次数，例如

> > z=myfunction({'bag','dig','bag'})

答案=

```
 str: 'bag'
 count = 2 
```

理想情况下，该方法应该对 n 个 O(n log n) 的字符串进行预期的比较次数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T16:32:13.407

假设您不想使用标准功能，`sort`或者`unique`这不是一个简单的问题。此外，它更多的是关于数学而不是关于编程。

如果您只是想练习编程，请尝试实现一些简单的东西，例如*冒泡排序*。

但是，如果您真的想要查看*合并排序*，这将无法实现 O(n log n)。

[这里](http://en.wikipedia.org/wiki/Sorting_algorithm#Efficient_sorts)粗略地解释了几个选项，通过一些搜索应该不难找到你需要的东西。

# asp.net-mvc - ASP.NET Web 优化 - 无需捆绑的缩小

> ID：15076041
> 
> 赞同：4
> 
> 时间：2013-02-25T20:38:18.213
> 
> 标签：asp.net-mvc, system.web.optimization

是否可以在不捆绑的情况下使用[ASP.NET Web 优化进行缩小？](http://nuget.org/packages/Microsoft.AspNet.Web.Optimization/1.0.0)

假设我有一个页面*Example.cshtml*和该页面的相应 javaScript 文件*Example.js*。我希望能够`@Scripts.Render("~/Scripts/Views/Example.js")`在不处于调试模式时执行类似的操作来生成缩小文件。我当然可以维护许多单个 JavaScript 文件包来执行此操作，但它看起来像是不必要的琐事。

当然还有[其他](http://www.hanselman.com/blog/TheImportanceAndEaseOfMinifyingYourCSSAndJavaScriptAndOptimizingPNGsForYourBlogOrWebsite.aspx)的 JavaScript 压缩解决方案，但我认为运行时压缩的单一方法是最好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:30:36.487

当前，您必须创建一个仅包含一个文件的捆绑包才能完成此操作。

# c# - 在 ASP.NET 中链接两个表单

> ID：15076044
> 
> 赞同：1
> 
> 时间：2013-02-25T20:38:24.077
> 
> 标签：c#, javascript, asp.net, forms, post

我有一个处理一些基本信息的 HTML 表单。单击用于完成表单的按钮时，我会弹出一个弹出窗口，询问出现的其他信息（这是一个在按钮单击事件之前隐藏的 div）。我想知道是否有办法将这两个表单链接在一起，以便最终提交将在两个表单上发布所有数据？

我考虑过的想法：

1.  单击按钮时，将表单 1 中的 11 个字段传递到表单 2 中的 11 个隐藏字段。
2.  在最终提交时，通过 javascript 创建我自己的 post call。

这两种方法都可以，但对我来说似乎有点老套。如果有一个，我宁愿有一个真正的方法来链接两个表单提交。任何人？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T22:02:08.610

为什么不将第一个按钮设为非 ASP.NET 按钮（即只是一个普通的 HTML 按钮）...使用显示隐藏 div 的 onclick 事件。隐藏 div 上的提交按钮将是 ASP.NET 按钮，它将整个表单（来自两个部分的数据）提交到您的 ASPX？

# php - PHP GD 如何优雅地处理损坏的图像

> ID：15076045
> 
> 赞同：1
> 
> 时间：2013-02-25T20:38:31.033
> 
> 标签：php, jpeg, gd, wkhtmltoimage

我有一个 JPEG 图像库，我正在尝试使用 PHP 的 GD 进行管理。一张特别的 JPEG 图像给我带来了麻烦。它以 32,768 x 1,024 像素的尺寸标识自己。图像在磁盘上只有 1.9 MB。其他图像处理工具（例如我的 Mac 上的 Finder 和 Preview 以及 ImageMagick）可以很好地处理它。然而，当我的系统调用`imagecreatefromjpeg()`它时，我得到一个经典的“允许的内存大小耗尽”致命异常。我相信图像已损坏。它应该是一个 1024x1024 的网页快照，使用`wkhtmltoimage`.

通常这个问题的答案是增加 PHP 的`memory_limit`. 但我的已经很大了，256MB。

我能做些什么来抢先检测这种类型的图像损坏并优雅地处理它？如果我在调用前添加一个“@” `imagecreatefromjpeg()`，PHP 只会以“500 Internal Server Error”而死。我不能使用`try/catch`任何一个，因为这是一个致命错误。

FWIW，以下是 ImageMagick`identify`工具的描述方式：

```
myimage.jpg JPEG 32768x1024 32768x1024+0+0 8-bit sRGB 1.948MB 0.000u 0:00.000 
```

我想我可以做到`if ($width == 32768) { ... }`，但那太骇人听闻了。*可能*存在具有该宽度的图像。

还有其他想法吗？

# php - MYSQL：从包含多个数据的一列中检索所有行

> ID：15076047
> 
> 赞同：0
> 
> 时间：2013-02-25T20:38:47.530
> 
> 标签：php, mysql, database

我在网上看了大约两天，不知道如何向谷歌询问这种情况。我正在尝试从包含“头盔”一词的单个列中提取所有行。我得到的只有 2 行。实际上大约有 10 行，但它包含像“Legs, Helmet”这样的词。只有“Helmet”这个词的行被正确填充。我正在使用的代码。

```
 id | rune_slot
  ---------------------------------
  0  | Shoulders
  ---------------------------------
  1  | Chest
  ---------------------------------
  2  | Main Hand, Off Hand, Ranged
  ---------------------------------
  3  | Helmet
  ---------------------------------
  4  | Legs, Helmet
  ---------------------------------
  5  | Helmet
  ---------------------------------
  6  | Legs, Helmet
  --------------------------------- 
```

如您所见，这是我的桌子。就像我说的，我得到了第 3 行和第 4 行，但我似乎也无法得到第 4 行和第 6 行。

```
$conn = mysql_connect($dbhost, $dbuser, $dbpass);
if(! $conn )
{
      die('Could not connect: ' . mysql_error());
}
$sql = 'SELECT * FROM runes WHERE rune_slot LIKE "Helmet"' ;

mysql_select_db('runelist');
$retval = mysql_query( $sql, $conn );
if(!$retval )
{
      die('Could not get data: ' . mysql_error());
}
while($row = mysql_fetch_array($retval, MYSQL_ASSOC))
{
      echo "Rune Name : {$row['rune_name']} "." Craft Level :  {$row['craft_level']} "."   Rune Slot : {$row['rune_slot']} ".
      "<br />";
} 
echo "Fetched data successfully\n";
mysql_close($conn); 
```

这是我从[http://www.tutorialspoint.com/php/mysql_select_php.htm](http://www.tutorialspoint.com/php/mysql_select_php.htm)获得的代码。

我已经尝试了我所知道的许多不同的选择语句。我尝试将 mysql_fetch_array 更改为 _assoc 并浏览了[http://www.php.net/manual/en/function.mysql-fetch-assoc.php](http://www.php.net/manual/en/function.mysql-fetch-assoc.php)。我猜将多个数据放在一个列中是不好的做法？任何帮助将不胜感激，我经常来这里学习 PHP 和 MYSQL，现在我只是卡住了。谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:41:19.270

您需要`%`在查询中使用：

```
 $sql = 'SELECT * FROM runes WHERE rune_slot LIKE "%Helmet%"' ; 
```

这意味着任何组合`Helmet`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:44:52.630

您在 like 查询中缺少 % 。将查询更改为喜欢“%helmet%”

# html - 转义的 html 标记无法正确呈现

> ID：15076048
> 
> 赞同：0
> 
> 时间：2013-02-25T20:38:50.833
> 
> 标签：html, tags, escaping, render

我正在尝试转义一些 html 输出以防止 XSS。

以下输入：

```
<b><i>Hello World</i></b> 
```

转义为：

```
&lt;b&gt;&lt;i&gt;Hello World&lt;/i&gt;&lt;/b&gt; 
```

在浏览器中呈现的预期结果：

```
<b><i>Hello World</i></b> 
```

在浏览器中呈现的实际结果：

```
&lt;b&gt;&lt;i&gt;Hello World&lt;/i&gt;&lt;/b&gt; 
```

上面的值也是视图源中出现的值，所以我相当有信心它没有被双重转义。任何人都知道为什么我的浏览器没有正确呈现转义的 html 标签？

# php - 基于PHP中的另一个数组选择索引

> ID：15076049
> 
> 赞同：0
> 
> 时间：2013-02-25T20:38:52.703
> 
> 标签：php, arrays

我有两个这样的数组

```
Array
(
    [0] => 1
    [1] => 3
    [2] => 4
    [3] => 5
)

Array
(
    [0] => Array
        (
            [1] => Test1
            [2] => Location1
            [3] => Email1
            [4] => Name1
            [5] => Address1
            [6] => Age1
            [7] => Gender1
            [8] => Phone1
            [9] => Website1
            [10] => Cell1
        )

    [1] => Array
        (
            [1] => Test2
            [2] => Location2
            [3] => Email2
            [4] => Name2
            [5] => Address2
            [6] => Age2
            [7] => Gender2
            [8] => Phone2
            [9] => Website2
            [10] => Cell2
        )

    [2] => Array
        (
            [1] => Test3
            [2] => Location3
            [3] => Email3
            [4] => Name3
            [5] => Address3
            [6] => Age3
            [7] => Gender3
            [8] => Phone3
            [9] => Website3
            [10] => Cell3
        )
) 
```

现在我必须从每个第二个数组中选择 1、3、4 和 5 个索引值。如果没有两个循环，我怎么能做到这一点。我知道我必须使用一个，但我不想使用两个循环

需要输出

```
Array
(
    [0] => Array
        (
            [1] => Test1
            [3] => Email1
            [4] => Name1
            [5] => Address1

        )

    [1] => Array
        (
            [1] => Test2
            [3] => Email2
            [4] => Name2
            [5] => Address2
        )

    [2] => Array
        (
            [1] => Test3
            [3] => Email3
            [4] => Name3
            [5] => Address3
        )
) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T20:55:28.663

使用一个循环，[`array_flip`](http://www.php.net/manual/en/function.array-flip.php)和[`array_intersect_key`](http://www.php.net/manual/en/function.array-intersect-key.php)，您可以这样做：

```
$array_one = array(1, 3, 4, 5);

$array_two = array(
    array(1 => 'Test1', 'Location1', 'Email1', 'Name1', 'Address1', 'Age1', 'Gender1', 'Phone1', 'Website1', 'Cell1'),
    array(1 => 'Test2', 'Location2', 'Email2', 'Name2', 'Address2', 'Age2', 'Gender2', 'Phone2', 'Website2', 'Cell2'),
    array(1 => 'Test3', 'Location3', 'Email3', 'Name3', 'Address3', 'Age3', 'Gender3', 'Phone3', 'Website3', 'Cell3')
); 

$array_one_flip = array_flip($array_one);
foreach($array_two as $k => $v) {
    $result[] = array_intersect_key($v, $array_one_flip);
}

print_r($result); 
```

结果将是：

```
Array
(
    [0] => Array
        (
            [1] => Test1
            [3] => Email1
            [4] => Name1
            [5] => Address1
        )

    [1] => Array
        (
            [1] => Test2
            [3] => Email2
            [4] => Name2
            [5] => Address2
        )

    [2] => Array
        (
            [1] => Test3
            [3] => Email3
            [4] => Name3
            [5] => Address3
        )

) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T20:55:45.470

你可以试试[`array_intersect_key`](http://php.net/manual/en/function.array-intersect-key.php)：

```
$keys = array_flip($keys_array);    // flip the keys array for matching with array_intersect_key
$result = array();
foreach ($content_array as $arr)
{
  $result[] = array_intersect_key($arr, $keys);
} 
```

[键盘上的工作示例](http://codepad.org/ecnJDSBy)。感谢@Michael Irigoyen 提供的数组...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T20:52:03.417

只需使用这样的`array_map`函数：

```
$keys_to_keep = array(1, 3, 4, 5);
$key_diff_array = array_fill_keys($keys_to_keep, 'not used');

$array; // your main array you want to filter assume value has been set elsewhere

$filtered_array = array_map(function ($value) use $key_diff_array {
    return array_intersect_key($value, $key_diff_array);
}, $array); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T21:07:06.720

使用一个循环：

```
<?php
 $selection = array(1, 3, 4, 5);
 for($i = 0; $i < count($array); $i++){

 reset($selection);
 $first = current($selection);
 $newarray[$i][$first] = $array[$i][$first];

 $next = next($selection);
 $newarray[$i][$next] = $array[$i][$next];

 $next = next($selection);
 $newarray[$i][$next] = $array[$i][$next];

 $next = next($selection);
 $newarray[$i][$next] = $array[$i][$next];
}
echo '<pre>';
print_r($newarray); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-25T21:48:20.387

您可能还会发现这个关于 array_flip 的说明很有用。

确保 $array1 具有在翻转时可以作为数组键接受的值。

[http://php.net/manual/en/language.types.array.php](http://php.net/manual/en/language.types.array.php)

> 键可以是整数或字符串。该值可以是任何类型。
> 
> 此外，还会发生以下关键转换：
> 
> 包含有效整数的字符串将被转换为整数类型。例如，键“8”实际上将存储在 8 下。另一方面，“08”不会被强制转换，因为它不是有效的十进制整数。浮点数也被转换为整数，这意味着小数部分将被截断。例如，键 8.7 实际上将存储在 8 下。布尔也被转换为整数，即键 true 将实际存储在 1 下，键 false 将存储在 0 下。Null 将被转换为空字符串，即键 null 将实际上存储在“”下。数组和对象不能用作键。这样做会导致警告：非法偏移类型。如果数组声明中的多个元素使用相同的键，则仅使用最后一个，因为所有其他元素都将被覆盖。

[http://www.php.net/manual/en/function.array-flip.php](http://www.php.net/manual/en/function.array-flip.php)

> array_flip() 以翻转顺序返回一个数组，即来自 trans 的键成为值，来自 trans 的值成为键。
> 
> 请注意，trans 的值必须是有效的键，即它们需要是整数或字符串。如果值的类型错误，则会发出警告，并且有问题的键/值对不会包含在结果中。
> 
> 如果一个值多次出现，最新的键将被用作它的值，所有其他的都将丢失。

# ruby-on-rails-3 - ruby on rails 3 - 未定义的方法“has_content？” 对于“主页”：字符串

> ID：15076051
> 
> 赞同：1
> 
> 时间：2013-02-25T20:39:01.193
> 
> 标签：ruby-on-rails-3, rspec, capybara, rspec2, rack-test

我是 ruby​​ 新手，我刚刚开始我的第一个项目。当我试图通过 rspec 运行我的第一个测试时，我失败了。

这是我的宝石文件：

```
source 'https://rubygems.org'

gem 'rails', '3.2.12'
gem 'bootstrap-sass', '2.3.0.1'
gem 'bcrypt-ruby', '3.0.1'
gem 'faker', '1.1.2'
gem 'will_paginate', '3.0.4'
gem 'bootstrap-will_paginate', '0.0.9'
gem 'jquery-rails', '2.2.1'
gem 'mysql2'
#gem 'execjs'
gem 'therubyracer', :platforms => :ruby

# Dev and test gems
group :development, :test do
  gem 'rspec-rails', '2.13.0'
  gem 'guard-rspec', '2.4.1'
  gem 'guard-spork', '1.4.2'
  gem 'spork', '0.9.2'
end

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '3.2.6'
  gem 'coffee-rails', '3.2.2'
  gem 'uglifier', '1.3.0'
end

#only test gems
group :test do
  gem 'capybara', '2.0.2'
  gem 'factory_girl_rails', '4.2.1'
  gem 'cucumber-rails', '1.3.0', :require => false
  gem 'database_cleaner', '0.9.1'
  # gem 'launchy', '2.1.0'
  # gem 'rb-fsevent', '0.9.1', :require => false
  # gem 'growl', '1.0.3'
end

group :production do
  gem 'pg', '0.12.2'
end 
```

这是我的 home_pages_spec.rb

```
require 'spec_helper'

describe "HomePages" do
  before { get 'home_page/home'}
  it { should have_content("Home")}
end 
```

当我跑步时

```
bundle exec rspec spec/requests/home_pages_spec.rb 
```

我明白了

```
Failures:

  1) HomePages 
     Failure/Error: it { should have_content("Home")}
     NoMethodError:
       undefined method `has_content?' for "HomePages":String
     # ./spec/requests/home_pages_spec.rb:5:in `block (2 levels) in <top (required)>' 
```

请帮帮我，我搜索了一下，发现了类似的问题，但不是很清楚.. 再加上它们有点旧，现在不是以前的错误了。

另外，如果您能向我解释为什么我不能使用访问命令（对于 RSpec::Core::ExampleGroup::Nested_1...，也是未定义的方法 `visit'）并且必须使用 get 命令，那就太好了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-16T15:41:43.020

如果您使用**它**而不是**expect(page).to**，则必须声明它是**什么**：

```
describe "HomePages" do
  before { get 'home_page/home'}
  subject { page }
  it { should have_content("Home")}
end 
```

或者您可以简单地执行以下操作：

```
describe "HomePages" do
  before { get 'home_page/home'}
  expect(page).to have_content('Home')
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:12:33.660

我相信您正在寻找 rspec 的 have_content() [http://rubydoc.info/github/jnicklas/capybara/master/Capybara/RSpecMatchers](http://rubydoc.info/github/jnicklas/capybara/master/Capybara/RSpecMatchers)

换行：it { should have_contact("Home")}

到：它{应该有_内容（“家”）}

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T09:30:52.750

该方法`get`来自`rspec-rails`，它允许我们这样做：

```
specify { response.should have_content("Foo") } 
```

该方法`visit`来自`capybara`，它允许我们这样做：

```
specify { page.should have_content("Foo") } 
```

这些方法过去适用于 中的所有规范`spec/requests`，但从 Capybara 2.0 开始，这些方法已被分离。我们现在将 Capybara 集成测试放在`spec/features`.

请参阅[此博客文章](http://blog.plataformatec.com.br/2012/06/improving-the-integration-between-capybara-and-rspec/)了解这样做的原因。

# javascript - 用jquery编写动态html

> ID：15076062
> 
> 赞同：0
> 
> 时间：2013-02-25T20:39:59.230
> 
> 标签：javascript, jquery, html

鉴于[这个小提琴](http://jsfiddle.net/pp6nv/)，是什么阻止了 HTML 被呈现？

***JavaScript***

```
$(document).ready(function(){
    function loadDiv( divId ) {
        $('#' + divId).html('<table><tr><td class="editable" id="' + divId + '">Edit Me</td></tr></table>');
    }

    $('td.editable').click(function() {
        var cellId = $('td.editable').attr('id');
        alert(cellId);
    });

    loadDiv( div1 );
    loadDiv( div2 );
}); 
```

我的意图是将单击的单元格更改为输入字段，然后从其中发布，但我不确定它为什么不呈现。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T20:42:28.430

您需要在 div id 周围添加引号。

```
loadDiv( "div1" );
loadDiv( "div2" ); 
```

[http://jsfiddle.net/pp6nv/1/](http://jsfiddle.net/pp6nv/1/)

由于表格是在页面加载后添加的，因此您必须使用[`.on()`](http://api.jquery.com/on/).

```
$('body').on("click", "td.editable", function() {
    var cellId = $(this).prop('id');
    alert(cellId);
}); 
```

[http://jsfiddle.net/pp6nv/3/](http://jsfiddle.net/pp6nv/3/)

# css - 带图像的 CSS 填充问题

> ID：15076063
> 
> 赞同：1
> 
> 时间：2013-02-25T20:40:03.297
> 
> 标签：css

我对围绕图像的 p 文本的填充有问题：有人看到问题吗？

我尝试添加填充 CSS“p”元素，但这没有效果：

![在此处输入图像描述](../Images/71b13d34a7af68c368c1445261f93658.png)

这是相关的HTML：

```
 <div id="mid-featureleft" class="rounded">
        <div class="contentheader">
            <h1>Georgio Varsari Painters</h1>
        </div>
        <div class="imagebox">
            <img height="200px" width="303px" src="Images/Home/HomePage1.jpg" alt="Welcome to Vasari's" style="margin: 0 0 0 0;" />
        </div>
        <p>
            Established in 1965, the Vasari's Team of Painters and Craftsmen have over 100 years of combined experience delivering impeccable Museum Quality Painting Services for Customers in Washington DC and Northern Virginia. 
            We have experience with every type painting project that exists.  For that reason, we are able to take on some of the more difficult restoration jobs that other Painting Companies shy away from.</p> 
        <p>
            Christian Vasari has nearly three decades of painting experience working under the auspices of his father and Company Founder, Anthony Vasari. 
            You will have the comfort of knowing that your Home and Property is in the right hands of a heavily experienced and knowledgeable group of Professionals who have successfully completed thousdands of painting projects.</p>
    </div> 
```

这是相关的CSS：

```
#mid-featureleft {
    height:250px;
    width:609px;
    margin: 12px 0 0 0;
    float:left;
    position:relative;
    background-color:#E7EFF7;
    /*background-color:orange;*/
}
#mid-featureleft h1 {
    color: red;
    font-family: Arial;
    font-size:25px;
}
#mid-featureleft p {
    color: #333366;
    margin: 0 0 0 0;
    font-size:12px;
    /*line-height:14px;*/ 
    padding: 5px 5px 5px 5px;
}
#mid-featureleft .contentheader {
    height:30px;
    width:302px;
    text-align:left;
    line-height:29px;
    display: block;
    float: left;
    margin:0 0 0 0;
    padding: 0 0 0 4px;
    position:relative;
}
#mid-featureleft .imagebox {
    height:200px;
    width:303px;
    /*display: block;*/
    float: right;
    margin:0 0 0 0;
    padding: 0 0 0 0;
    /*background-color:green;*/
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T20:41:50.730

您必须为此元素添加边距

```
#mid-featureleft .imagebox { margin: 0 0 15px 15px; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:43:59.230

为示例添加一些边距：

```
#mid-featureleft .imagebox { margin:10px;} 
```

# git - 提交到 git submodule repos

> ID：15076071
> 
> 赞同：1
> 
> 时间：2013-02-25T20:40:31.730
> 
> 标签：git, version-control

我有一个带有一些外部 git 存储库作为子模块的存储库。我对这些子模块进行了一些更改，但我无法将它们推向上游。如何在无需向上游推送的情况下将更改提交到我的仓库？我可以接受子模块的不同步副本。一种方法是将外部存储库克隆为只是删除`.git`目录以将它们视为目录，但我已经有一个子模块设置，如果可能的话我想避免这种情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:53:51.963

您可以将子模块更改提交到您的本地存储库，但任何其他克隆它的人都不会看到这些更改，除非您将它们推送到上游。话虽如此，您不必将这些更改向上游推送到您获得它们的相同位置。您可以在保留主存储库的同一台服务器上克隆子模块的副本，并将更改推送到该副本。

您必须做的唯一更改是您必须重新初始化子模块，因为它来自您的服务器，而不是原始存储库。

# itextsharp - 将 TextChunk 拆分为单词

> ID：15076076
> 
> 赞同：0
> 
> 时间：2013-02-25T20:40:43.057
> 
> 标签：itextsharp

我发现这个[例子](http://itextsharp.svn.sourceforge.net/viewvc/itextsharp/trunk/src/core/iTextSharp/text/pdf/parser/LocationTextExtractionStrategy.cs?revision=266&content-type=text/plain)将 pdf 文档拆分为 TextChunks

有没有

a) 一种将每个 TextChunk 进一步拆分为每个 TextChunk 中的单词/字符并且仍然能够找到它的位置的方法？

或者

b）一种将PDF解析为单词/字符而不是块并找到位置的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:11:56.350

> 有没有一种方法可以将每个 TextChunk 进一步拆分为每个 TextChunk 中的单词/字符，并且仍然能够找到它的位置？

您不能`TextChunk`进一步拆分这些对象，因为此类`TextChunk`只是传输非常少量信息的辅助类，参见。它的构造函数参数`String str, Vector startLocation, Vector endLocation, float charSpaceWidth,`，特别是没有关于单个字符宽度或相关文本大小和字体的信息来派生单个字符宽度。

**但是**您当然可以更改方法`RenderText`（其中传入的更完整的`TextRenderInfo`实例被简化为`TextChunk`实例）：

```
public virtual void RenderText(TextRenderInfo renderInfo) {
  LineSegment segment = renderInfo.GetBaseline();
  TextChunk location = new TextChunk(renderInfo.GetText(), segment.GetStartPoint(), segment.GetEndPoint(), renderInfo.GetSingleSpaceWidth());
  locationalResult.Add(location);        
} 
```

特别是，您可以首先`TextRenderInfo`使用其`GetCharacterRenderInfos()`方法将实例拆分为单个字符`TextRenderInfo`实例，遍历这些实例并`TextChunk`为每个实例创建单独的实例。

您可能在您正在查看的存储库中看不到该方法，因为 iTextSharp 已经切换到新的 SourceForge 版本控制基础设施。因此，您应该切换到[当前的 iTextSharp 存储库](http://sourceforge.net/p/itextsharp/code/522/tree/)。

> 有没有一种方法可以将 PDF 解析为单词/字符而不是块并找到位置？

当然，您可以实施`IRenderListener`以创建完全符合您需要的提取策略。您可以在 iText 和 iTextSharp 的 stackoverflow 上找到有关该主题的一些讨论，例如[ITextSharp 在 PDF 中查找特定文本的坐标，在 PDF](https://stackoverflow.com/questions/12875766/itextsharp-find-coordinates-of-specific-text-in-pdf/12876331)中[获取确切的字符串位置，](https://stackoverflow.com/questions/13632541/get-the-exact-stringposition-in-pdf)使用 itextsharp等[检索页面上所有单词的相应坐标](https://stackoverflow.com/questions/13714605/retrieve-the-respective-coordinates-of-all-words-on-the-page-with-itextsharp)。

# c# - 从 C#/WCF 使用 Java 服务 - 数组仅对编码的 SOAP 有效

> ID：15076078
> 
> 赞同：2
> 
> 时间：2013-02-25T20:40:46.783
> 
> 标签：c#, wcf, svcutil.exe

我正在尝试使用 Enterprise One (JD Edwards) 使用 .NET 4.0 和 svcutil.exe 发布的 Web 服务。我目前无法更改 WSDL。

在 Visual Studio 2012 中，当我添加“服务引用”并指向在线 WSDL 时，没有向我显示任何错误，但生成的 .cs 文件仅包含命名空间，没有类。我已经下载了 WSDL 并尝试使用 svcutil.exe 生成客户端类，如下所示：

```
svcutil ServiceWSDL.wsdl 
```

当我这样做时，我收到以下错误：

> 错误：无法导入 wsdl:portType 详细信息：运行 WSDL 导入扩展时引发异常：System.ServiceModel.Description.XmlSerializerMessageContractImporter 错误：引用类型“ [http://schemas.xmlsoap.org/soap/encoding/:Array](http://schemas.xmlsoap.org/soap/encoding/:Array) ”是仅对编码的 SOAP 有效。错误源的 XPath：//wsdl:definitions[@targetNamespace='http://oracle.e1.bssv.JP550016]/wsdl:portType[@name='Oracle_E1_SBF_JWS_PkgBldFile_AccountMasterQueryPublished']

我想知道的是，是否有某种方法可以使用 svcutil 生成一个可以运行的代理，或者我是否需要放弃使用代理并使用 HttpWebRequest 来发送请求？

导致错误的 WSDL 部分：

```
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="java:java.util" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="http://schemas.xmlsoap.org/soap/encoding/"/>
  <xs:complexType name="ArrayList">
    <xs:complexContent>
      <xs:restriction base="soapenc:Array" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"/>
    </xs:complexContent>
  </xs:complexType>
</xs:schema> 
```

整个 WSDL：

```
<?xml version='1.0' encoding='UTF-8'?>
<WL5G3N2:definitions name="AccountMasterQueryPublishedDefinitions" targetNamespace="http://oracle.e1.bssv.JP550016/" xmlns="" xmlns:WL5G3N0="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:WL5G3N1="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:WL5G3N2="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N3="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N4="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N5="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
  <WL5G3N0:Policy WL5G3N1:Id="Wssp1.2-2007-Https-UsernameToken-Plain.xml">
    <sp:TransportBinding xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:TransportToken>
          <wsp:Policy>
            <sp:HttpsToken/>
          </wsp:Policy>
        </sp:TransportToken>
        <sp:AlgorithmSuite>
          <wsp:Policy>
            <sp:Basic256/>
          </wsp:Policy>
        </sp:AlgorithmSuite>
        <sp:Layout>
          <wsp:Policy>
            <sp:Lax/>
          </wsp:Policy>
        </sp:Layout>
        <sp:IncludeTimestamp/>
      </wsp:Policy>
    </sp:TransportBinding>
    <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
      <wsp:Policy>
        <sp:UsernameToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
          <wsp:Policy>
            <sp:WssUsernameToken10/>
          </wsp:Policy>
        </sp:UsernameToken>
      </wsp:Policy>
    </sp:SupportingTokens>
  </WL5G3N0:Policy>
  <wsp:UsingPolicy WL5G3N2:Required="true"/>
  <WL5G3N2:types>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="java:oracle.e1.bssvfoundation.base" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:complexType name="ValueObject"/>
    </xs:schema>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="java:java.util" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:import namespace="http://schemas.xmlsoap.org/soap/encoding/"/>
      <xs:complexType name="ArrayList">
        <xs:complexContent>
          <xs:restriction base="soapenc:Array" xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"/>
        </xs:complexContent>
      </xs:complexType>
    </xs:schema>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:import namespace="java:oracle.e1.bssv.JP550016.valueobject"/>
      <xs:element name="accountMasterQueryElement" type="java:V0901G_pInbound" xmlns:java="java:oracle.e1.bssv.JP550016.valueobject"/>
      <xs:element name="accountMasterQueryResponseElement" type="java:V0901G_pOutbound" xmlns:java="java:oracle.e1.bssv.JP550016.valueobject"/>
    </xs:schema>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="java:oracle.e1.bssvfoundation.util" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:complexType name="E1MessageList">
        <xs:sequence>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="E1Messages" nillable="true" type="java:E1Message" xmlns:java="java:oracle.e1.bssvfoundation.util"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="E1Message">
        <xs:sequence>
          <xs:element minOccurs="1" name="MessagePrefix" nillable="true" type="xs:string"/>
          <xs:element minOccurs="1" name="Message" nillable="true" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
    </xs:schema>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:complexType name="BusinessServiceException">
        <xs:annotation>
          <xs:documentation>The base Exception class for Published Business Services. 
  All Published Business Service exceptions must extend from this class.</xs:documentation>
        </xs:annotation>
        <xs:sequence>
          <xs:element minOccurs="1" name="RequestID" nillable="true" type="xs:string">
            <xs:annotation>
              <xs:documentation>Public accessor methods are necessary for Web Services calls, but this method should not be 
 used by application development.</xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element minOccurs="1" name="Message" nillable="true" type="xs:string">
            <xs:annotation>
              <xs:documentation>Overrides getMessage from super class. Returns the exception message.</xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:complexType>
      <xs:element name="BusinessServiceException" type="java:BusinessServiceException" xmlns:java="java:oracle.e1.bssvfoundation.exception"/>
    </xs:schema>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="java:oracle.e1.bssv.JP550016.valueobject" xmlns:WL5G3N0="http://schemas.xmlsoap.org/wsdl/" xmlns:WL5G3N1="http://oracle.e1.bssv.JP550016/" xmlns:WL5G3N2="java:oracle.e1.bssvfoundation.exception" xmlns:WL5G3N3="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:import namespace="java:oracle.e1.bssvfoundation.base"/>
      <xs:import namespace="java:java.util"/>
      <xs:import namespace="java:oracle.e1.bssvfoundation.util"/>
      <xs:complexType name="V0901G_pOutbound">
        <xs:annotation>
          <xs:documentation>The outbound value object returns a list of accounts from the F0901</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
          <xs:extension base="java:ValueObject" xmlns:java="java:oracle.e1.bssvfoundation.base">
            <xs:sequence>
              <xs:element minOccurs="1" name="CostCenter" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="AccountId" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="Company" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="ObjectAccount" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="Subsidiary" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="AccountDescription" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="LevelOfDetailAcctCde" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="PostingEdit" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="BusinessUnitName" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="CurrencyCodeFrom" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="E1MessageList" nillable="true" type="java1:E1MessageList" xmlns:java1="java:oracle.e1.bssvfoundation.util"/>
              <xs:element minOccurs="1" name="QueryResults" nillable="true" type="java1:ArrayList" xmlns:java1="java:java.util"/>
            </xs:sequence>
          </xs:extension>
        </xs:complexContent>
      </xs:complexType>
      <xs:complexType name="V0901G_pInbound">
        <xs:annotation>
          <xs:documentation>The inbound parameters to select a list of accounts.</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
          <xs:extension base="java:ValueObject" xmlns:java="java:oracle.e1.bssvfoundation.base">
            <xs:sequence>
              <xs:element minOccurs="1" name="CostCenter" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="ObjectAccount" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="Subsidiary" nillable="true" type="xs:string"/>
              <xs:element minOccurs="1" name="HelmSwitch" nillable="true" type="xs:string"/>
            </xs:sequence>
          </xs:extension>
        </xs:complexContent>
      </xs:complexType>
    </xs:schema>
  </WL5G3N2:types>
  <WL5G3N2:message name="accountMasterQuery">
    <WL5G3N2:part element="WL5G3N3:accountMasterQueryElement" name="inputV0"/>
  </WL5G3N2:message>
  <WL5G3N2:message name="accountMasterQueryResponse">
    <WL5G3N2:part element="WL5G3N3:accountMasterQueryResponseElement" name="accountMasterQueryResponseElement"/>
  </WL5G3N2:message>
  <WL5G3N2:message name="BusinessServiceException">
    <WL5G3N2:part element="WL5G3N4:BusinessServiceException" name="BusinessServiceException"/>
  </WL5G3N2:message>
  <WL5G3N2:portType name="Oracle_E1_SBF_JWS_PkgBldFile_AccountMasterQueryPublished" wsp:PolicyURIs="#Wssp1.2-2007-Https-UsernameToken-Plain.xml">
    <WL5G3N2:operation name="accountMasterQuery" parameterOrder="inputV0">
      <WL5G3N2:input message="WL5G3N3:accountMasterQuery"/>
      <WL5G3N2:output message="WL5G3N3:accountMasterQueryResponse"/>
      <WL5G3N2:fault message="WL5G3N3:BusinessServiceException" name="BusinessServiceException"/>
    </WL5G3N2:operation>
  </WL5G3N2:portType>
  <WL5G3N2:binding name="AccountMasterQueryPublishedSoapBinding" type="WL5G3N3:Oracle_E1_SBF_JWS_PkgBldFile_AccountMasterQueryPublished">
    <WL5G3N5:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <WL5G3N2:operation name="accountMasterQuery">
      <WL5G3N5:operation soapAction="http://oracle.e1.bssv.JP550016//accountMasterQuery" style="document"/>
      <WL5G3N2:input>
        <WL5G3N5:body parts="inputV0" use="literal"/>
      </WL5G3N2:input>
      <WL5G3N2:output>
        <WL5G3N5:body parts="accountMasterQueryResponseElement" use="literal"/>
      </WL5G3N2:output>
      <WL5G3N2:fault name="BusinessServiceException">
        <WL5G3N5:fault name="BusinessServiceException" use="literal"/>
      </WL5G3N2:fault>
    </WL5G3N2:operation>
  </WL5G3N2:binding>
  <WL5G3N2:service name="AccountMasterQueryPublished">
    <WL5G3N2:port binding="WL5G3N3:AccountMasterQueryPublishedSoapBinding" name="AccountMasterQueryPublishedHttpPort">
      <WL5G3N5:address location="https://server/path/AccountMasterQueryPublished"/>
    </WL5G3N2:port>
  </WL5G3N2:service>
</WL5G3N2:definitions> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-27T20:53:01.103

尝试更改导致错误的 WSDL 部分：

```
<import namespace="http://schemas.xmlsoap.org/soap/encoding/" schemaLocation="http://schemas.xmlsoap.org/soap/encoding/"/> 
```

出于某种原因为我工作。

# css - 没有宽度的浮动div

> ID：15076079
> 
> 赞同：0
> 
> 时间：2013-02-25T20:40:50.447
> 
> 标签：css, css-float

我有 2 个 div，里面有文字。我只需要将上一个浮动到右侧，以便具有设置宽度的第二个 div 沿第一个 div 显示。那可能吗？我想不通。我不想设置第一个 div 的宽度，因为我需要它来环绕第二个 div。谢谢。

```
<div class="block1"></div>
<div class="block2"></div>

.block1 {float:right}
.block1 {border:2px solid green}
.block2 {border:2px solid red;
width:200px} 
```

[http://jsfiddle.net/u2kCZ/1/](http://jsfiddle.net/u2kCZ/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:55:03.117

你必须进入你的`<div class="block2">`内心`<div class="block1">`

[http://jsfiddle.net/u2kCZ/10/](http://jsfiddle.net/u2kCZ/10/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:48:46.597

如果要显示`block1`在`block2`右侧，只需在`float:right`block2中添加a即可。

# ruby-on-rails - 没有这样的列：user_id error rails 朋友的分页

> ID：15076080
> 
> 赞同：0
> 
> 时间：2013-02-25T20:40:54.480
> 
> 标签：ruby-on-rails

我有一个有很多朋友的用户模型。我正在尝试对朋友进行分页，但没有收到这样的列错误。解决方案似乎在这里得到了回答[Rails, SQLException: no such column](https://stackoverflow.com/questions/10745671/rails-sqlexception-no-such-column)但我只是不太理解这个答案。

有人可以帮我解释什么是错的以及如何解决吗？

在我的 home.html.erb

```
<div class="span8">
    <ol class="friends">
            <%= render @friends %>
        </ol>
        <%= will_paginate @friends %>
</div> 
```

在我的 _friends 部分：

```
<li>
    <span class="friendname"><%= friend.name %></span>
    <span class="friendid"><%= friend.friendid %></span>
</li> 
```

控制器

```
def home
    @friends = current_user.friends.paginate(page: params[:page])
end 
```

Current_user 在 session_helper 中定义为：

```
def current_user
    @current_user ||= User.find(session[:user_id]) if session[:user_id]
end 
```

朋友模型

```
class Friend < ActiveRecord::Base
    attr_accessible :friendid, :name, :uid
    belongs_to :user
    validates :uid, presence: true
    validates :friendid, presence: true, uniqueness: true
end 
```

用户模型

```
class User < ActiveRecord::Base
   attr_accessible :name, :provider, :uid
   has_many :friends, dependent: :destroy
   validates :uid, presence:true, uniqueness:true
   .
   .
   .
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:44:26.340

您应该将名为 user_id 的列添加到您的表中。为此，您必须创建迁移并运行它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T17:59:43.437

如果有人遇到这个问题，朋友模型正在寻找 user_id 作为关联两个模型的键。您可以通过键入在任何模型中设置主键，`self.primary_key = 'name of column'`然后使用 . 在第二个模型中设置要查找的列`foreign_key=>'name of column from second model'`。

# ios - 自定义委托类

> ID：15076081
> 
> 赞同：2
> 
> 时间：2013-02-25T20:41:00.183
> 
> 标签：ios, delegates, uiimagepickercontroller

再次使用现有代码。ViewFinderManager 是委托类。屏幕以模态方式呈现。但我无法使用导航栏上的取消和完成按钮。

```
AlbumPickerViewController *apVC = [[AlbumPickerViewController alloc] init];
OMWUINavigationController *navC = [[OMWUINavigationController alloc] initWithRootViewController:apVC];
[self presentModalViewController:navC animated:YES];
[[ViewFinderManager sharedInstance] addListener:self]; 
```

AlbumPickerViewController 中的按钮：

```
self.navigationItem.rightBarButtonItem = [UIBarButtonItem buttonSquareEdgeButtonWithTitle:@"done" color:[UIColor blueColor] target:self action:@selector(doneHandler)]; 
```

完成处理程序：

```
- (void)doneHandler {
   [[ViewFinderManager sharedInstance] endPicking];
} 
```

如何使完成按钮工作。同一行也有一个取消按钮。将 self 添加为侦听器是否正确？

如果我在这里遗漏了一些信息，请告诉我。

# xml - 使用 WIX 安装升级产品

> ID：15076087
> 
> 赞同：0
> 
> 时间：2013-02-25T20:41:22.593
> 
> 标签：xml, wix, installation, wix3.6

嗨，下面是我为版本 1 和版本 2 设置的设置。但是当我安装 MSI 包进行升级时，会弹出消息框并要求从添加/删除程序中删除以前的安装版本，而不是自动删除旧版本并安装较新的版本。

请让我知道任何需要修改的设置。

版本 1 设置如下：

```
 <Product Id="*" Name="CBUDirectMSI" Language="1033" Version="1.0.0.0" Manufacturer="" UpgradeCode="5fa35d9d-5b5a-40f0-9607-e381e728a146">

        <Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine"/>

        <Upgrade Id="5fa35d9d-5b5a-40f0-9607-e381e728a146">
          <UpgradeVersion Property="OLD_VERSION_FOUND" 
           Minimum="1.0.0.0" 
           Maximum="2.0.0.0" 
           IncludeMinimum="yes" 
           IncludeMaximum="no" 
           OnlyDetect="no" 
           IgnoreRemoveFailure="no" 
           MigrateFeatures="yes" 
           Language="1033" />
          <UpgradeVersion 
          Property="NEWER_VERSION_FOUND" 
          Minimum="2.0.0.0" 
          IncludeMinimum="no" 
          OnlyDetect="yes" 
          Language="1033" />
        </Upgrade>

        <Condition Message="A newer version of [ProductName] is already installed. Exiting installation.">

        </Condition>

        <InstallExecuteSequence>
          <InstallExecute Before="RemoveExistingProducts" />
          <RemoveExistingProducts Before="InstallFinalize" />
        </InstallExecuteSequence>
    </Product> 
```

版本 2 设置

```
<Product Id="B55596A8-93E3-47EB-84C4-D7FE07D0CAF4" Name="CBUDirectMSI" Language="1033" Version="2.0.0.0" Manufacturer="" UpgradeCode="5fa35d9d-5b5a-40f0-9607-e381e728a146">

    <Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine"/>

    <Upgrade Id="5fa35d9d-5b5a-40f0-9607-e381e728a146">
      <UpgradeVersion Property="OLD_VERSION_FOUND" 
       Minimum="1.0.0.0" 
       Maximum="2.0.0.0" 
       IncludeMinimum="yes" 
       IncludeMaximum="no" 
       OnlyDetect="no" 
       IgnoreRemoveFailure="no" 
       MigrateFeatures="yes" 
       Language="1033" />
      <UpgradeVersion 
      Property="NEWER_VERSION_FOUND" 
      Minimum="2.0.0.0" 
      IncludeMinimum="no" 
      OnlyDetect="yes" 
      Language="1033" />
    </Upgrade>

    <Condition Message="A newer version of [ProductName] is already installed. Exiting installation.">

    </Condition>

    <InstallExecuteSequence>
      <InstallExecute Before="RemoveExistingProducts" />
      <RemoveExistingProducts Before="InstallFinalize" />
    </InstallExecuteSequence>
</Product> 
```

Wix Installer 可以识别较新版本，但不会删除旧版本并安装较新版本；并给出下面的消息框“但我仍然收到错误消息框，上面写着“已经安装了该产品的另一个版本。无法继续安装此版本。要配置或删除此产品的现有版本，请使用“控制面板”上的“添加/删除程序”。

任何人都可以建议我哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T17:08:16.430

我建议使用`MajorUpgrade`标签而不是`Upgrade`您当前正在实施的标签。`MajorUpgrade`是一个更简单的使用过程。

```
<MajorUpgrade
    Schedule="afterInstallInitialize"
    DowngradeErrorMessage="A later version of [ProductName] is already installed. Setup will now exit."> 
```

示例取自：[http ://wix.sourceforge.net/manual-wix3/major_upgrade.htm](http://wix.sourceforge.net/manual-wix3/major_upgrade.htm)

# javascript - 上传在收到“卸载之前”响应之前终止

> ID：15076090
> 
> 赞同：1
> 
> 时间：2013-02-25T20:41:35.903
> 
> 标签：javascript, jquery, file-upload, onbeforeunload

我有这个“卸载前”警告，它会在 ajax 文件上传正在进行并且用户在完成之前导航离开时发出警报。但是（在 chrome 和 safari 中）如果用户使用“后退”或“前进”导航离开，则上传会在他们甚至有机会点击“停留在此页面上”之前自动结束。起初我以为这可能是 chrome 的一个不可预防的特性，但我在 gmail 上做了一个测试。我附加了一个文件并在完成上传之前单击了“返回”。然后我单击“出现警告时留在此页面上”，它就照常继续了。任何人都知道如何克服这个问题？谢谢

```
$(window).bind('beforeunload', function() {
   if (stillUploading) {
        return 'Your files are still uploading';
    }
}); 
```

# excel - 有没有办法让 Lookup 总是返回列中第一个遇到的匹配项？

> ID：15076093
> 
> 赞同：0
> 
> 时间：2013-02-25T20:41:52.297
> 
> 标签：excel

我的用户保留数据如下所示：

```
signup_date days    retention       
2/24/13 0   1
2/23/13 0   1
2/23/13 1   0.4855
2/22/13 0   1
2/22/13 1   0.4727
2/22/13 2   0.3647
2/21/13 0   1
2/21/13 1   0.5135
2/21/13 2   0.3879
2/21/13 3   0.3463
2/20/13 0   1
2/20/13 1   0.5402
2/20/13 2   0.4166
2/20/13 3   0.3615
2/20/13 4   0.3203
2/19/13 0   1
2/19/13 1   0.5317
2/19/13 2   0.4348
2/19/13 3   0.366
2/19/13 4   0.3077 
```

第二列（“天数”）表示自注册日期以来经过的天数，保留期基于当天和 signup_date（因为保留期会随时间而变化）。我需要做出预测，不幸的是我（因为我更愿意以编程方式进行），我的老板希望他们在 Excel 中。因此，我尝试使用 Lookup() 函数在保留列中查找与某个注册日期过去的“天数”相匹配的最新值。

无论如何，这都是问题的前奏，如果我输入公式，那就是现在：

```
=lookup(1,B:B,C:C) 
```

其中 B:B 是“天”，C:C 是保留，它不一定返回数据集中的第一个（即最近的）保留值。例如，在这种情况下，我需要单元格为 0.4855，但公式可能会给我 0.4727（这是第二个“days=1”行）。有没有办法配置它来做到这一点，或者是否有另一个功能可以满足我的需要？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T20:50:10.667

不使用 using `LOOKUP`，而是使用该`VLOOKUP`函数 - 它有另一个参数指定数据不按顺序排列：

```
=VLOOKUP(1,$B:$C,2,0)

```

这将返回您范围的第二列中的条目，`B:B`其中“1”在您的范围的第一列中找到。不要忘记`0`最后的，因为这告诉 Excel 逐行搜索（与二进制搜索相比，`LOOKUP`或者省略参数会做）。

替代方案： `VLOOKUP`是这些情况的简单公式和默认值。更好，更灵活的方法是使用`INDEX/MATCH`：

```
=INDEX($C:$C,MATCH(1,$B:$B,0))

```

这将完全相同，只是您有更多的灵活性并且不需要包含“查找数据中的第二列”......

！

# bash - 为什么 while 不工作？

> ID：15076095
> 
> 赞同：0
> 
> 时间：2013-02-25T20:42:07.880
> 
> 标签：bash, shell, loops, while-loop

目标：查找字数少于 1000 的文件并将它们移动到另一个文件夹。循环直到所有小于 1k 的文件都被移动。

状态：它只会移动一个文件，然后出错“无法移动文件，因为它不存在。由于某种原因，$INPUT_SMALL 似乎没有用新文件名更新。”

我究竟做错了什么？

当前脚本：

> 检查已经低于 1k 的输入文件并移动到拆分文件夹

```
INPUT_SMALL=$( ls -S /folder1/ | grep -i reply | tail -1  )

INPUT_COUNT=$( cat /folder1/$INPUT_SMALL 2>/dev/null | wc -l  )

function moveSmallInput() {

    while  [[ $INPUT_SMALL != ""  ]] && [[ $INPUT_COUNT -le 1003  ]]
    do
        echo "Files smaller than 1k have been found in input folder, these will be moved to the split folder to be processed."
        mv /folder1/$INPUT_SMALL /folder2/
    done
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:23:40.160

我假设您正在寻找在路径中某处包含“回复”字样的文件。我的解决方案是：

```
wc -w $(find /folder1 -type f -path '*reply*') | \
    while read wordcount filename
    do
        if [[ $wordcount -lt 1003 ]]
        then
            printf "%4d %s\n" $wordcount $filename
            #mv "$filename" /folder2
        fi
    done 
```

运行脚本一次，如果输出看起来正确，则取消注释`mv`命令并在这次真正运行它。

### 更新

上述解决方案对带有嵌入空格的文件有问题。当`find`命令将其输出交给`wc`命令时，就会出现问题。经过一番思考，这是我修改后的解决方案：

```
find /folder1 -type f -path '*reply*' | \
    while read filename
    do
        set $(wc -w "$filename") # $1= word count, $2 = filename
        wordcount=$1
        if [[ $wordcount -lt 1003 ]]
        then
            printf "%4d %s\n" $wordcount $filename
            #mv "$filename" /folder2
        fi
    done 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T22:15:52.270

稍短的版本

```
#!/bin/bash
find ./folder1 -type f | while read f 
do
    (( $(wc -w "$f" | awk '{print $1}' ) < 1000 )) && cp "$f" folder2
done 
```

我离开`cp`而不是`mv`出于安全原因。`mv`验证后更改为

我还想`reply`使用@Hai 的`find`命令版本进行过滤

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T20:45:58.580

您的变量不是函数`INPUT_SMALL`，`INPUT_COUNT`它们只是您分配一次的值。您要么需要将它们移动到`while`循环中，要么将它们转换为函数并每次评估它们（而不是像现在这样扩展变量值）。

# java - 无法通过 Jedis 通过 ssh 隧道连接到 redis

> ID：15076096
> 
> 赞同：2
> 
> 时间：2013-02-25T20:42:08.633
> 
> 标签：java, networking, redis, jedis

我有两台机器：机器 foo ( `10.0.0.1`) 正在运行 redis 服务器，机器 bar ( `192.168.0.1`) 正在运行通过 jedis 连接到 foo 的 java 应用程序。给 jedis 地址时一切正常`10.0.0.1`。

但是我不信任 foo 和 bar 之间的路由器，redis 不支持 ssl。所以我建立了一个从 bar 到 foo 的 ssh 隧道：`user@bar$ ssh -N -f -L localhost:6379:localhost:6379 user@foo`

现在，从酒吧，我可以直接在 foo 上或通过隧道成功 telnet到`10.0.0.1`redis `127.0.0.1`使用 jedis，如果我使用`127.0.0.1`我会得到异常`java.net.ConnectException: Connection refused`，但 jedis 可以成功连接到`10.0.0.1`就好了。

如何说服 jedis 使用 ssh 隧道？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:27:10.243

使用 jedis 的 java 应用程序是一个集群应用程序，我对应用程序的哪个部分正在启动 jedis 感到困惑。一旦我在主控主机而不是从属主机上启动 ssh 隧道，一切都按预期工作。

# matlab - 快速引用一个数组列中的值索引，如 bitzer(:,5)？

> ID：15076097
> 
> 赞同：0
> 
> 时间：2013-02-25T20:42:10.440
> 
> 标签：matlab

我想引用像blitzer这样的数组的第5列内的值索引。

例如，我想访问 blitzer(:,5) 的所有值，其中 blitzer(:,4) < 10。这会输出值的索引。所以也许我可以设置blitzer5 = blitzer(:,5)，然后调用blitzer5(blitzer(:,4) < 10)。

但是有没有一种快速的方法来做到这一点而不必创建一个全新的向量？理想情况下，我想调用 blitzer(:,5)[blitzer(:,4) < 10]。如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:11:33.630

如果要引用数组第 5 列中的第 8 个元素，可以写

```
theElement = blitzer(8,5) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T23:39:06.240

您可以从矩阵本身给出垂直索引：

```
blitzer(blitzer(:,4) < 10,5) 
```

这将为您提供第 5 列中的元素，其中第 4 行中的相应元素小于 10。

# objective-c - 将 iphone 与 google appengine 连接

> ID：15076103
> 
> 赞同：1
> 
> 时间：2013-02-25T20:42:22.923
> 
> 标签：objective-c, google-app-engine

我正在尝试在 google appengine 上建立一个数据库并将其连接到我的 IOS 程序。我是服务器端编程的新手。我已经完成了关于使用 java 和 eclipse 的 google appengine 的教程，因为我知道 java 并且对 Python 一无所知。任何人都可以指导我学习有关此的教程吗？我在 Internet 上找到的所有内容都是关于 Python 的，但在 java 和 ObjectiveX 中找不到关于这个主题的任何内容。

感谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:29:47.220

首先，您必须完成由 Google App Engine 团队编写的[入门：Java](https://developers.google.com/appengine/docs/java/gettingstarted/)教程，以了解使用此类环境的基本概念。

对于您的客户端，您使用什么并不重要，它可以是 ObjectiveX 或 C# 或 SubjectiveY，只要您可以使用您在服务器端构建的任何内容进行连接。

# r - 来自R中的数据框列表的意思

> ID：15076104
> 
> 赞同：1
> 
> 时间：2013-02-25T20:42:23.303
> 
> 标签：r, list, dataframe

我对 R 比较陌生，有一个复杂的情况需要解决。我已将超过 1000 个数据帧的列表上传到 R 中，并将此列表称为 x。我想要做的是获取某些数据帧并获取整个数据帧的平均值和方差（不包括每个数据帧的第一列）并将它们保存到两个单独的向量中。例如，我希望从元素 (3) 开始到元素 (54) 获取列表中每三个数据帧的平均值和方差。

所以我最终想要的是两个向量：

```
meanvector=c(mean(data frame(3)), mean(data frame(6)),..., mean(data frame(54)))
variancevector=c(var(data frame (3)), var(data frame (6)), ..., var(data frame(54))) 
```

这个问题远高于我的知识水平，但我认为我可以使用某种循环有效地做到这一点，但我不知道如何制作这样的循环。任何帮助将非常感激！先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:09:25.127

您可以`lapply`按如下方式使用和传递索引：

```
ids <- seq(3, 54, by=3)
out <- do.call(rbind, lapply(ids, function(idx) {
    t <- unlist(x[[idx]][, -1])
    c(mean(t), var(t))
})) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T20:58:39.347

如果 x 是 1000 个数据帧的列表，您可以使用 lapply 返回此列表子集的均值和方差。

```
ix = seq(1, 1000, 3)
lapply(x[ix], function(df){
    #exclude the first column
    c(mean(df[,-1]), var(df[,-1]))
}) 
```

# c# - “timer_Tick”的错误没有重载与委托“System.EventHandler”匹配' I am not sure what is wrong with my code can someone help fix the error? The error is in the timer.Tick() line. It's supposed to make a stopwatch. namesp 问问题 问问题 2013-02-25T20:42:24.187 2643 次 This question shows research effort; it is useful and clear 3 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I am not sure what is wrong with my code can someone help fix the error? The error is in the timer.Tick() line. It's supposed to make a stopwatch. namespace App3 { public sealed partial class MainPage : Page { public MainPage() { this.InitializeComponent(); } private int myCount; protected override void OnNavigatedTo(NavigationEventArgs e) { DispatcherTimer timer = new DispatcherTimer(); timer.Tick += new EventHandler(timer_Tick); timer.Interval = TimeSpan.FromSeconds(5); timer.Start(); } protected override void OnNavigatedFrom(NavigationEventArgs e) { base.OnNavigatedFrom(e); } private void timer_Tick(object sender, EventArgs e) { myCount++; Label.Text = myCount.ToString(); } } The MSDN documentation states that SCOPE_IDENTITY: "retrieves the last identity values that are generated in any table in the current session" Looking at the Massive source code, it appears that every call to Scalar() opens a new connection: /// <summary>/// Returns a single result ///</summary> public virtual object Scalar(string sql, params object[] args) { object result = null; using (var conn = OpenConnection()) { // <-- see this ... result = CreateCommand(sql, conn, args).ExecuteScalar(); } return result; } ... /// <summary>/// Returns and OpenConnection ///</summary> public virtual DbConnection OpenConnection() { var result = _factory.CreateConnection(); result.ConnectionString = ConnectionString; result.Open(); // <-- ...and this return result; } Therefore, every time you are doing table.Scalar("select scope_identity()"); you are actually doing this in a new connection (which means a different session/scope). This explains the DBNull result. But since you are already doing: var newID = table.Insert(...) you might want to inspect the value of newID after the insert happens; I hope you'll find something nice in there. At least, that's what the code for Insert() leads me to believe: public virtual dynamic Insert(object o) { var ex = o.ToExpando(); if (!IsValid(ex)) { throw new InvalidOperationException("Can't insert: " + String.Join("; ", Errors.ToArray())); } if (BeforeSave(ex)) { using (dynamic conn = OpenConnection()) { var cmd = CreateInsertCommand(ex); cmd.Connection = conn; cmd.ExecuteNonQuery(); cmd.CommandText = "SELECT @@IDENTITY as newID"; ex.ID = cmd.ExecuteScalar(); Inserted(ex); } return ex; } else { return null; } } c# 4 4 回答 4 This answer is useful 5 DispatcherTimer.Tick is an EventHandler, not an EventHandler. You need to change your code to specify this correctly: timer.Tick += new EventHandler(timer_Tick); Note that this can also be written in short form, which is typically safer: timer.Tick += timer_Tick; 于 2013-02-25T20:44:15.110 回答 This answer is useful 4 Delegate types are not required when attaching events, the compiler can figure it out for you. Try this instead: timer.Tick += timer_Tick; As for why you get the error currently, the EventHandler delegate is declared like this: public delegate void EventHandler<teventargs>( Object sender, TEventArgs e ) This means the type you put in the brackets represents the second argument in the function. So when you type EventHandler, the compiler looks for a function like timer_Tick(Object sender, object e) which it does not find, hence the error. To use the full delegate type, it would have to be EventHandler <eventargs>于 2013-02-25T20:44:39.163 回答 This answer is useful 1 我通过两个小改动解决了同样的问题： 1）将第二个参数更改为对象类型： 取而代之的是： private void timer_Tick(object sender, EventArgs e) 用这个： private void timer_Tick(object sender, **object** e) 2) 简化 取而代之的是： timer.Tick += new EventHandler(timer_Tick); 用这个： timer.Tick += timer_Tick; // as suggested by WildCrustacean above 于 2013-12-30T04:31:48.883 回答 This answer is useful 1 而不是新的EventHandler，做new EventHandler。或者只是把+= timer_Tick;. 于 2013-02-25T20:45:03.673 回答 Related 5 angularjs - What angularjs expression syntax is this in ng-class 4 html - HTML + CSS：向简单文本添加类/ID 5 vb.net - 如何在 CheckBox 列上对 WinForms DataGridView 进行排序？ 4 javascript - jquery remove() 和 detach() 方法 4 c++ - 编译时间优化 - 从发布二进制文件中删除调试打印 2 jquery - 尝试声明新视图对象时“未定义不是函数” 8 css - Bootstrap css 将容器的一部分隐藏在 navbar navbar-fixed-top 下面 1 xml - xsl 通过单击链接对 div 进行排序 3 android - ViewPagerIndicator 选项卡：文本上方的图标 1 permissions - PublicAccess 权限在 Umbraco 6 中不起作用 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15076105
> 
> 赞同：3
> 
> 时间：
> 
> 标签：c#

I am not sure what is wrong with my code can someone help fix the error? The error is in the `timer.Tick()` line. It's supposed to make a stopwatch.

```
namespace App3
{
    public sealed partial class MainPage : Page
    {
        public MainPage()
        {                
            this.InitializeComponent();
        }
        private int myCount;

        protected override void OnNavigatedTo(NavigationEventArgs e)
        {
            DispatcherTimer timer = new DispatcherTimer();
            timer.Tick += new EventHandler<object>(timer_Tick);
            timer.Interval = TimeSpan.FromSeconds(5);
            timer.Start();    
        }

        protected override void OnNavigatedFrom(NavigationEventArgs e)
        {
            base.OnNavigatedFrom(e);
        }

        private void timer_Tick(object sender, EventArgs e)
        {
            myCount++;
            Label.Text = myCount.ToString();
        }
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T20:44:15.110

[DispatcherTimer.Tick](http://msdn.microsoft.com/en-us/library/system.windows.threading.dispatchertimer.tick.aspx) is an `EventHandler`, not an `EventHandler<object>`.

You need to change your code to specify this correctly:

```
 timer.Tick += new EventHandler(timer_Tick); 
```

Note that this can also be written in short form, which is typically safer:

```
timer.Tick += timer_Tick; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-25T20:44:39.163

Delegate types are not required when attaching events, the compiler can figure it out for you. Try this instead:

```
timer.Tick += timer_Tick; 
```

* * *

As for why you get the error currently, the `EventHandler` delegate is declared like this:

```
public delegate void EventHandler<TEventArgs>(
    Object sender,
    TEventArgs e
) 
```

This means the type you put in the brackets represents the second argument in the function.

So when you type `EventHandler<object>`, the compiler looks for a function like `timer_Tick(Object sender, object e)` which it does not find, hence the error. To use the full delegate type, it would have to be `EventHandler<EventArgs>`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-30T04:31:48.883

我通过两个小改动解决了同样的问题：

1）将第二个参数更改为对象类型：

取而代之的是：

```
private void timer_Tick(object sender, EventArgs e) 
```

用这个：

```
private void timer_Tick(object sender, **object** e) 
```

2) 简化

取而代之的是：

```
timer.Tick += new EventHandler<object>(timer_Tick); 
```

用这个：

```
timer.Tick += timer_Tick;  // as suggested by WildCrustacean above 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-25T20:45:03.673

而不是新的`EventHandler<object>`，做`new EventHandler`。或者只是把`+= timer_Tick;`.</eventargs></teventargs>

# apache - 使用 .htaccess 从一个目录重写登录页面

> ID：15076109
> 
> 赞同：0
> 
> 时间：2013-02-25T20:42:41.593
> 
> 标签：apache, .htaccess, mod-rewrite, url-rewriting

我的站点根目录中有大约 30 个登录页面目录，为了简洁起见，我想将所有文件移动到 /landing 目录。我希望登陆页面的所有公共虚 URL 仍然有效，并且不在地址栏中显示“登陆”目录。

例如，我想要 www.site.com/happiness

显示存储在我的 /landing/happiness 目录中的内容，但我希望地址栏中的 url 仍然显示 www.site.com/happiness。

我现在在我的 .htaccess 中拥有的是

`RewriteRule ^happiness(.*)?$ landing/happiness$1 [NC,L,QSA]`

这可以很好地显示内容，但会重写地址栏中的 URL 并公开“登陆”目录。如何在 .htaccess 中进行重写，以便提供的文件位于登录目录中，但地址栏显示原始虚 URL？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-26T00:42:22.333

当您输入不带斜杠的目录 URL `/happiness`（例如 或`/happiness/subdir`. 在这种情况下，将重定向到*带有*尾部斜杠[`mod_dir`](http://httpd.apache.org/docs/current/mod/mod_dir.html#directoryslash)的 URL 。

 *您可以通过始终在内部重定向中添加尾部斜杠来规避这一点

```
RewriteRule ^happiness(?:/.*)?$ landing/$0/ [NC,L,QSA] 
```

这样做的缺点是，结尾总是有一个斜线，即使它是一些 PHP 文件。*

# java - Static variable of superclass acting weird in subclass-creation

> ID：15076113
> 
> 赞同：0
> 
> 时间：2013-02-25T20:42:55.917
> 
> 标签：java, variables, inheritance, static, subclass

I'm working on a classic homework program and cannot for the life of me figure out why my static variable in the superclass reacts the way it does..

The program is a bankaccount where I have created a superclass, Account, and two subclasses, CreditAccount and SavingsAccount.

```
public abstract class Account {

  private double balance;
  private int accountId;
  **private static int lastAssignedNumber = 1000;**  <--- the static int
  private String accountType;

  public Account (double q_balance, String q_accountType)
  { 
    balance = q_balance;
    accountType = q_accountType;
    **accountId = ++lastAssignedNumber; <------ counter for new accountId**
  }

)

public class CreditAccount extends Account {

  public CreditAccount(double balance) 
  {
    super(balance, "Creditaccount");
  }

}

public class SavingsAccount extends Account {

  public SavingsAccount(double balance) 
  {
    super(balance, "Savingsaccount");
  }

} 
```

Previously, without subclasses when Account was the only object, the counter worked beautifully. But now when I create some new objects of savingsaccount and creditaccounts the program acts really weird and returns accountnumbers as follows:

```
 new SavingsAccount(0);   // **1001**
    new CreditAccount(0);   // **1001**
    new CreditAccount(0);   // **1002**
    new SavingsAccount(0); // **1003**
    new CreditAccount(0);   // **1002**
    new CreditAccount(0);   // **1004**
    new SavingsAccount(0); // **1005** 
```

What in gods name is happening?! What am I missing? Shouldn't the two subclasses provoke the same static variable 'lastAssignedNumber' and add to it accordingly??

Kindest regards // Gewra

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:53:34.520

坦率地说，多线程和单线程的概念对我来说是全新的，但我尝试过制作 AtomicInteger 和 volatile 变量，结果完全相同。我想这是我的程序结构根本错误。

该构造是一个 BankLogic 类，它包含一个客户对象的 ArrayList。Customer-objects 拥有一个 Account-objects 的 ArrayList。我把 AtomicInteger 对象放在哪里并不重要，即使我把它放在 BankLogic 类中并将它传递给构造函数，它仍然会得到相同的结果。

猜猜我应该把accounts-ArrayList放在BankLogic类中，然后运行一个比较个人ID的方法（向账户类添加一个persId变量）？它当然感觉不像是一个优雅的解决方案，但我看不到其他方法。

感谢所有的答案！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:15:15.787

鉴于您在**单线程模型**中创建帐户，您的代码没有任何问题。您的以下代码运行良好：

```
abstract class Account 
{

    private double balance;
    private int accountId;
    private static int lastAssignedNumber = 1000;
    private String accountType;

    public Account (double q_balance, String q_accountType)
    { 
        balance = q_balance;
        accountType = q_accountType;
        accountId = ++lastAssignedNumber;
    }
    public int getAccountID()
    {
        return accountId;
    }

}
class CreditAccount extends Account 
{
    public CreditAccount(double balance) 
    {
        super(balance, "Creditaccount");
    }

}
class SavingsAccount extends Account 
{
    public SavingsAccount(double balance) 
    {
        super(balance, "Savingsaccount");
    }
}
public class AccountLedger
{
    public static void main(String st[])
    {
        Account ac[] = new Account[7];
        ac[0] = new SavingsAccount(0); //1001  
        ac[1] = new CreditAccount(0);  //1002  
        ac[2] = new CreditAccount(0);  //1003  
        ac[3] = new SavingsAccount(0); //1004  
        ac[4] = new CreditAccount(0);  //1005  
        ac[5] = new CreditAccount(0);  //1006  
        ac[6] = new SavingsAccount(0); //1007  
        for (int i = 0 ; i < ac.length ; i++)
        {
            System.out.println(ac[i].getAccountID());
        }
    }
} 
```

# php - 我如何获取 obj 标签的值

> ID：15076114
> 
> 赞同：0
> 
> 时间：2013-02-25T20:43:00.660
> 
> 标签：php, arrays, wordpress, object

这是 obj ：

```
array(2) {
    [0]=> object(stdClass)#538 (9)
    { 
        ["term_id"]=> string(3) "152" 
        ["name"]=> string(19) "Éducation physique" 
        ["slug"]=> string(18) "education-physique" 
        ["term_group"]=> string(1) "0" 
        ["term_taxonomy_id"]=> string(3) "159" 
        ["taxonomy"]=> string(11) "product_cat" 
        ["description"]=> string(0) "" 
        ["parent"]=> string(3) "123" 
        ["count"]=> string(1) "3"
    }
    [1]=> object(stdClass)#540 (9)
    {
        ["term_id"]=> string(3) "123" 
        ["name"]=> string(5) "Sport" 
        ["slug"]=> string(5) "sport" 
        ["term_group"]=> string(1) "0" 
        ["term_taxonomy_id"]=> string(3) "123" 
        ["taxonomy"]=> string(11) "product_cat" 
        ["description"]=> string(0) "" 
        ["parent"]=> string(1) "0" 
        ["count"]=> string(2) "49"
    } 
}
mam : 
```

我尝试获取值：[term_id] of 152。我需要它是变量中的“152”值。我尝试： `$product_category->term_id`它返回“无”，我尝试：`$product_category['term_id']`它返回“无”

如何从对象中检索价值的“正确”方式

提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:01:19.403

如果我没看错，并且`$product_category`是整个变量，那么数组中有两个对象。因此，在尝试访问对象之前，您需要告诉 PHP 您要查找的数组项。

类似的东西`$product_category[0]->term_id`应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:55:26.727

这是另一个解决方案：

使用 将此对象转换为数组`json_decode`，然后从数组中获取值

```
$array   = json_decode($json_string, true);

$term_id = $array[0]['term_id']; 
```

或获取两个值：

```
foreach($array as $val){
   echo $val['term_id'];
} 
```

# lucene - Lucene: using OffsetAttribute in query

> ID：15076115
> 
> 赞同：1
> 
> 时间：2013-02-25T20:43:03.623
> 
> 标签：lucene

I have a Lucene index created with a custom analyzer/tokenizer combination. The tokenizer adds both CharTermAttribute (although the values are just a lot of numbers) and OffsetAttribute to the index. (If you have a hint how to store numbers and offsets without resorting to CharTermAttribute, that would be really great, I feel a bit bad about this ;))

Now I want to query that index by taking into account the offset of the respective terms. I.e. the first offset is irrelevant but after that the subsequent terms should match the same order, just like PhraseQuery. In a later version, the values should be allowed to diverge a bit. I understand that this may be done using a TermRangeQuery. But I'm still somewhat clueless how to combine these two into achieving what I want.

Can you give me a hint which interface to implement and where to find the required information? I thought it better to ask on SO before digging into the Lucene source...

# c - Sorting by line

> ID：15076121
> 
> 赞同：0
> 
> 时间：2013-02-25T20:43:18.977
> 
> 标签：c

If someone could help me find where i am going wrong, i have been working on this code for a long time but cannot get it right. It takes a linked list to be sorted by passing *head as head pointer. The output of that function should be the same linked list sorted in ascending order such that the header node will be the smallest value in the list.

```
void sortByCount (struct lnode** head) {

    struct lnode* temp= (*head);
    struct lnode* temp2 = (*head);

    int i;
    int j;
    int counter = 0;
    while(temp != NULL)
    {
        temp = nodeGetNext(temp);
        counter++;
    }
    for( i = 1; i<counter; i++)
    {
        temp2=(*head);
        bool flag = false;
        for(j = 1; j<counter-i+1;j++)
        {
            if(countCmp(temp2,nodeGetNext(temp2))>0)
            {
                swap(head,temp2,nodeGetNext(temp2));
            }
            if(countCmp(temp2,nodeGetNext(temp2))== 0 && (wordCmp(temp2,nodeGetNext(temp2))>0))
            {
                    swap(head,temp2,nodeGetNext(temp2));
                    flag = true;                    
                    //continue; 
            }
        }
        temp2 = nodeGetNext(temp2);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:20:49.393

问题出在循环的这一部分：

```
 if(countCmp(temp2,nodeGetNext(temp2))>0)
        {
            swap(head,temp2,nodeGetNext(temp2));
        }
        if(countCmp(temp2,nodeGetNext(temp2))== 0
           && (wordCmp(temp2,nodeGetNext(temp2))>0))
        {
                swap(head,temp2,nodeGetNext(temp2));
                flag = true;                    
                //continue; 
        } 
```

如果你决定冒泡并交换，那么第二次`if`检查可能会选择再次冒泡（因为交换已经发生，下一个`temp2`将会改变）。这可能不是您想要的。相反，您可能打算仅在第一次检查失败`if`时才进行第二次检查。`if`这通常通过在语句中添加一个`else`来完成。`if`

# dynamics-crm-2011 - CRM 2011 - Auditing of "Two Options" Fields on Create Operation

> ID：15076124
> 
> 赞同：1
> 
> 时间：2013-02-25T20:43:30.053
> 
> 标签：dynamics-crm-2011

I am encountering a problem with the **Two Options fields**, having the **Auditing option enabled** in CRM 2011.

Since the CRM Two Options fields have a **default value No/Yes** by default, related audit records are always created for these fields on entity Create, when Auditing is enabled.

These field audits that include the default Boolean value (false/true), are in fact useless for the user, seeing that this initial unchanged value should be considered as ***Null***. So, the audits should not be created and shown to the user in this case, especially when there are numerous Boolean fields and very frequent Create operations on the entity.

I could set the default value of the Two Options field *twoOptionsField* to ***null*** instead of ***false*** or ***true***, by doing this on the form Load:

```
var twoOptionsField = Xrm.Page.getAttribute("twoOptionsField");
twoOptionsField.setValue(null); // set the value to null
twoOptionsField.setSubmitMode("always"); // store the null value 
```

But this will automatically add the field audit with an empty value on Create.

Is there any efficient way we could avoid the audit records for initial "null"/default valued Two Options fields, having Auditing enabled, on entity Create?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:27:47.737

我不知道任何设置来设置它。您可以采用的一种策略是在实体的预创建\更新中检查该字段的值，如果为空，则[禁用该](http://www.mindfiresolutions.com/Change-Audit-Setting-of-attributes-of-an-Entity-in-CRM-2011-1379.php)字段的审计功能，如果不为空，则启用审计。审计可以应用于组织\实体和属性。我不尝试这只是一个想法：D

# jquery - Algorithm for a tile based map (web browser game) like Tribal Wars world map

> ID：15076127
> 
> 赞同：0
> 
> 时间：2013-02-25T20:43:49.257
> 
> 标签：jquery, ajax, post, tiles, world-map

I'm trying to create a tile based world map like Tribal Wars has or The-West games. I created a little bit of it but it loads too slow when you drag the map with your mouse.

## My algorithm works like this:

* * *

**On page load:**

*   load the tiles from 1 to 19(x1 to y1 and x2 to y2) via JQuery's $.post method(I need the screen's width and height for that 19=1900/tile_width, because I want the map to fill the entire page)
*   append the returned data(tiles) to the screen (so far so good)

* * *

**On map drag:**

*   load again via .post tiles (based on how many pixels you dragged)
*   append again the data(tiles on the screen)

* * *

Everything is working if you drag slow but if you want to drag like a crazy man the map will become a mess(it doesn't load all the tiles)

Can you provide me a better algorithm with some examples if possible or maybe some source codes (i didn't found nothing on google about these 2 games' maps)

P.S. I tried to put my example on 000webhost.com but I don't know why the `json_decode()` returns `null` .On my pc works fine.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T20:12:45.900

最后我创建了我想要的地图，并且我没有为每个拖动事件使用 ajax 请求。我只是将整个地图数据加载到一个 javascript 数组中。

这是预览（图片不是我的所以我不建议使用它们） ![基于瓦片的地图](../Images/da601c1a1055e2deb7e481bbbce143a9.png)

这是github 上的[REPO](https://github.com/JohnnyWolff/tmap)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:49:11.950

这只是一个一般的想法。
我无法为您提供源代码，但您应该做的很简单：您应该创建一个类似“视口”的代码，而不是每次移动鼠标时都创建、附加、清除、重新附加。因此，所有图块都将被预设，然后在运行时，您只会在视口上打印大于 -MAP_TILE_SIZE 且小于屏幕宽度 +MAP_TILE_SIZE 的图块。

# python - PYGAME - Edit colours of an image (makes white red at 255,0,0) without numerical python?

> ID：15076133
> 
> 赞同：0
> 
> 时间：2013-02-25T20:44:11.000
> 
> 标签：python, image, colors, pygame, numerical

I'm making a simple game, whereby I want my characters quite customizable. I want my characters to be able to be fully edited in colours, for example, if a player wants their character to have cyan skin, they just put into the sliders, or what I choose to use, "0,255,255", or purple "255,0,255", or something random "25,125, 156", and have their character be that colour. I haven't even started creating the game, but I've got the basis down and I know exactly what I must do for pretty much every EXCEPT this.

I done a search in Google, and it turns out, I need numerical python for this? Well this is a whole new package, and in order for the average player to play, I must change it to EXE form... (or have python, pygame and numerical python installed onto their PC, which will be a problem if they have a later version...). Now, it's already getting complex with just pygame, but with numerical python as well, is there even a tutorial on how to do this?

Any suggestions? Thanks!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-01T19:17:41.943

当然，您可以使用*蛮力*方法来做到这一点。这是在 pygame 表面中用另一种颜色替换颜色的功能。

```
def color_replace(surface, find_color, replace_color):
    for x in range(surface.get_size()[0]):
        for y in range(surface.get_size()[1]):
            if surface.get_at([x, y]) == find_color:
                surface.set_at([x, y], replace_color)
    return surface 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-01T19:25:37.697

我假设`image`你的意思是`pygame.Surface`。你有几个选择：

*   `pygame.Surface.set_at(...)`
*   使用调色板表面。然后更改调色板。根据您的用例，这实际上可能是我的建议。
*   使用`pygame.PixelArray`PyGame 模块。我*认为*它不需要 NumPy。
*   只需使用 NumPy。这真的不是那么大的要求。很多项目都需要它，而且设置起来很简单。您可以访问强大的`pygame.surfarray`模块

# asp.net - 正确创建跨域表单身份验证 cookie

> ID：15076138
> 
> 赞同：7
> 
> 时间：2013-02-25T20:44:38.197
> 
> 标签：asp.net, cookies, forms-authentication

我只是在两台服务器之间创建一个简单的测试。基本上，如果用户已经通过身份验证，我希望能够在应用程序之间传递它们。我更改了键以隐藏它们

我有三个问题：

1.  跨域应用程序验证 cookie 的正确方法是什么。例如，当用户登陆时`successpage.aspx`我应该检查什么？
2.  以下代码对于创建跨域身份验证 cookie 是否有效？
3.  我的`web.config`设置是否正确？

我的代码：

```
if (authenticated == true)
{
  //FormsAuthentication.SetAuthCookie(userName, false);
  bool IsPersistent = true;
  DateTime expirationDate = new DateTime();
  if (IsPersistent)
    expirationDate = DateTime.Now.AddYears(1);
  else
    expirationDate = DateTime.Now.AddMinutes(300); 

  FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(
      1,
      userAuthName,
      DateTime.Now,
      expirationDate,
      IsPersistent,
      userAuthName,
      FormsAuthentication.FormsCookiePath);

  string eth = FormsAuthentication.Encrypt(ticket);
  HttpCookie cookie = new HttpCookie(FormsAuthentication.FormsCookieName, eth);
  if (IsPersistent)
    cookie.Expires = ticket.Expiration;

  cookie.Domain = ".myDomain.com";
  Response.SetCookie(cookie);
  Response.Cookies.Add(cookie);

  Response.Redirect("successpage.aspx");
} 
```

我的配置：

```
<authentication mode="Forms">
  <forms loginUrl="~/Default.aspx" timeout="2880" name=".AUTHCOOKIE" domain="myDomain.com" cookieless="UseCookies" enableCrossAppRedirects="true"/>
</authentication>
<customErrors mode="Off" defaultRedirect="failure.aspx" />
<machineKey decryptionKey="@" validationKey="*" validation="SHA1"  decryption="AES"/> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T10:14:38.590

> 跨域应用程序验证 cookie 的正确方法是什么。例如，当用户登陆 successpage.aspx 时，我应该检查什么？

应该没有什么要检查的。表单验证机制会从 cookie 中检索票证，检查它是否有效。如果不存在或无效，用户将重定向到 ~/Default.aspx 。**如果您的 cookie 与您的 web.config 的配置相匹配，**这将起作用

 **> 下面的代码对于创建跨域身份验证 cookie 是否有效？

我认为您不应该尝试通过手动处理 cookie 来覆盖 web.config 的设置。我认为有更好的方法来处理 cookie 持久性（请参阅下面的 web.config），而您只是在实现 Forms 身份验证 API 的一部分（例如，为 SSL 失去 web.config）

1.  在这里，您的手动 cookie 不是 HttpOnly ：例如，您可能会通过 XSS 窃取 cookie
2.  FormsAuthentication 有自己的 cookie 处理方式（请参阅[http://msdn.microsoft.com/en-us/library/1d3t3c61%28v=vs.80%29.aspx](http://msdn.microsoft.com/en-us/library/1d3t3c61%28v=vs.80%29.aspx)中的 TimeOut 属性描述）您的 cookie 持久性机制将是被这种自动行为覆盖

您的代码应该是：

```
if (authenticated)
{  
  bool isPersistent = whateverIwant;
  FormsAuthentication.SetAuthCookie(userName, isPersistent );
  Response.Redirect("successpage.aspx");
} 
```

> 我的 web.config 设置是否正确？

domain属性应该没问题，只要你想在mydomain.com的直接子域之间共享身份验证（它不适用于xymydomain.com），并且mydomain.com不在公共后缀列表中（[http： //publicsuffix.org/list/](http://publicsuffix.org/list/) )

我会将超时和slidingExpiration 属性更改为：

```
 <forms loginUrl="~/Default.aspx" timeout="525600" slidingExpiration="false" name=".AUTHCOOKIE" domain="myDomain.com" cookieless="UseCookies" enableCrossAppRedirects="true"/> 
```

我想这是处理一年持久 cookie 和会话 cookie 之间选择的好方法。有关更多信息，请参阅[https://stackoverflow.com/a/3748723/1236044](https://stackoverflow.com/a/3748723/1236044)**

# c# - 获取行号并为 XDocument 保留空格

> ID：15076150
> 
> 赞同：0
> 
> 时间：2013-02-25T20:45:25.520
> 
> 标签：c#, .net, linq-to-xml

我有一个使用文本框来显示 XML 文件的应用程序。

我使用 XDocument 来保留节点的行号

```
_xmlSource = XDocument.Load(path, LoadOptions.SetLineInfo); 
```

我还需要保留空格。我知道我可以使用

```
_xmlSource = XDocument.Load(path, LoadOptions.PreserveWhitespace); 
```

但是，我不能将两者都`LoadOptions`应用于同一个`XDocument`.

我需要能够从文本框（自定义控件）单击节点并根据行号获取 xml 节点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:48:21.193

你可以做：

```
 XDocument.Load(path, LoadOptions.PreserveWhitespace | LoadOptions.SetLineInfo); 
```

应用这两个选项，因为[`LoadOptions`](http://msdn.microsoft.com/en-us/library/system.xml.linq.loadoptions.aspx)枚举标有[`FlagsAttribute`](http://msdn.microsoft.com/en-us/library/system.flagsattribute.aspx).

# regex - 什么是理解其他人写的 reg 表达式的好方法

> ID：15076152
> 
> 赞同：0
> 
> 时间：2013-02-25T20:45:30.890
> 
> 标签：regex

我被要求修复其他人写的一行正则表达式。该表达式用于检查 url 匹配。这是非常长的，超过 100 个字符，并且没有很好的记录。如何解决此类问题有什么技巧或捷径吗？

它看起来像这样：

```
/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:15:26.717

尝试使用[YAPE::Regex::Explain](http://search.cpan.org/~gsullivan/YAPE-Regex-Explain-4.01/Explain.pm)执行此操作：

```
perl -MYAPE::Regex::Explain -e '
    my $regex = "/^...$/";
    print YAPE::Regex::Explain->new($regex)->explain;
' 
```

## 样本输出

```
The regular expression:

matches as follows:

NODE                     EXPLANATION
----------------------------------------------------------------------
(?-imsx:                 group, but do not capture (case-sensitive)
                         (with ^ and $ matching normally) (with . not
                         matching \n) (matching whitespace and #
                         normally):
----------------------------------------------------------------------
  /                        '/'
----------------------------------------------------------------------
  ^                        the beginning of the string
----------------------------------------------------------------------
  (                        group and capture to \1 (optional
                           (matching the most amount possible)):
----------------------------------------------------------------------
    (                        group and capture to \2 (optional
                             (matching the most amount possible)):
----------------------------------------------------------------------
(...) 
```

也见这篇文章：[https ://stackoverflow.com/questions/772594/regular-expression-explained-with-words](https://stackoverflow.com/questions/772594/regular-expression-explained-with-words)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T22:27:41.000

1.  **了解正则表达式语法。**

    sputnick 的回答显示了一种学习语法含义的方法。还有很多正则表达式测试网站可以分解正则表达式并解释标记的含义。

    您还可以参考教程或您正在使用的语言的正则表达式文档以获取更多信息。（阅读正确语言的文档很重要，因为语言之间的正则表达式实现存在细微差别）。

2.  **收集上下文/领域知识。**

    查找编写正则表达式的原因，或者正则表达式的用途。这通常反映在注释或函数名称中。例如，如果正则表达式用于在投入`eval`运行之前清理输入，那么您可能会想到一些攻击向量并检查正则表达式是否可以抵消您的攻击。

    在您的情况下，它是匹配 URL，因此您可以在 Wikipedia 上查找并参考与 URL 相关的 RFC，并查找 BNF 语法。这是最好的情况，但即使没有，您可能已经期望`/`或`?`或`#`出现在正则表达式中。

3.  **分而治之**

    您需要将正则表达式转换为其“RAW”形式。例如，如果在字符串中指定了正则表达式，那么您需要对某些特殊字符进行额外的转义。您将在第一步中反转该过程。在您的情况下，您使用的正则表达式`/`用作分隔符，因此您需要撤消在`/`.

    ```
    ^(([\w]+:)?//)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$ 
    ```

    根据您的领域知识和正则表达式语法，将正则表达式分解成大片段：

    ```
    ^
    (([\w]+:)?//)?
    (([\d\w]|%[a-fA-f\d]{2,2})+
    (:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?
    ([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}
    (:[\d]+)?
    (/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*
    (\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?
    (#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?
    $ 
    ```

    `?`可以猜测以和开头的部分`#`分别是查询和片段。你也可以猜到single`/`只能属于path。你也可以猜出最有可能的方案是相互靠近`:`和靠近的部分。`//`并`@`表示与用户名和密码部分有关。通过上面的猜测，你至少可以达到我上面的一半。

    另一个启发式方法是将正则表达式分解为“顶级”标记（抽象语法树中的“顶级”）。通常，单个或几个“顶级”标记的组合对应于被匹配文本中的一些有意义的部分。

    由于您已将正则表达式分解为大片段，如果您将正则表达式片段明确映射到您尝试匹配的文本的相应部分，则可以*独立*处理每个片段。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T20:51:26.547

把它分成多行，然后一点一点地弄清楚。如果您不知道如何执行此操作，则需要学习更多的正则表达式语法以了解组、重复、交替和字符类的工作方式。

有一些网站可以帮助您查看这些片段是什么，例如，您可以将鼠标悬停在您在[http://regexr.com](http://regexr.com)上输入的正则表达式上，然后只看到突出显示和描述的片段，或者将其放入[http://regexpal .com](http://regexpal.com)并以不同的颜色突出显示整个正则表达式。

以下是我将您的正则表达式分解为更易于管理的块的方法：

```
^
(
  ([\w]+:)?
  \/\/
)?
(
  (
    [\d\w]
    |
    %[a-fA-f\d]{2,2}
  )+
  (
    :
    (
      [\d\w]
      |
      %[a-fA-f\d]{2,2}
    )+
  )?
  @
)?
(
  [\d\w][-\d\w]{0,253}[\d\w]\.
)+
[\w]{2,4}
(:[\d]+)?
(
  \/
  (
    [-+_~.\d\w]
    |
    %[a-fA-f\d]{2,2}
  )*
)*
(
  \?
  (
    &?
    (
      [-+_~.\d\w]
      |
      %[a-fA-f\d]{2,2}
    )
    =?
  )*
)?
(
  #
  (
    [-+_~.\d\w]
    |
    %[a-fA-f\d]{2,2}
  )*
)?
$ 
```

我不会花时间去真正理解所有这些部分的含义，但在我看来，它就像是用于验证 URL。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T22:35:58.257

将其提供给可视化工具。[Regexper 之](http://www.regexper.com/)类的东西可以让您了解正在发生的事情。

在这种情况下，您似乎有一个用于解析 URI 的正则表达式。鉴于此，您通常最好将输入字符串提供给 URI 解析器并让其完成繁重的工作。您获得了所有好处，并且能够逐个操作对象。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-27T06:16:52.750

您可以使用[debuggex](http://www.debuggex.com/?re=%5E%28%28%5B%5Cw%5D%2b%3a%29?%5C/%5C/%29?%28%28%5B%5Cd%5Cw%5D%7C%25%5Ba-fA-f%5Cd%5D%7B2,2%7D%29%2b%28%3a%28%5B%5Cd%5Cw%5D%7C%25%5Ba-fA-f%5Cd%5D%7B2,2%7D%29%2b%29?@%29?%28%5B%5Cd%5Cw%5D%5B-%5Cd%5Cw%5D%7B0,253%7D%5B%5Cd%5Cw%5D%5C.%29%2b%5B%5Cw%5D%7B2,4%7D%28%3a%5B%5Cd%5D%2b%29?%28%5C/%28%5B-%2b_~.%5Cd%5Cw%5D%7C%25%5Ba-fA-f%5Cd%5D%7B2,2%7D%29%2a%29%2a%28%5C?%28&?%28%5B-%2b_~.%5Cd%5Cw%5D%7C%25%5Ba-fA-f%5Cd%5D%7B2,2%7D%29=?%29%2a%29?%28#%28%5B-%2b_~.%5Cd%5Cw%5D%7C%25%5Ba-fA-f%5Cd%5D%7B2,2%7D%29%2a%29?%24&str=)将其可视化。它将向您显示铁路图并为您提供示例匹配项，您可以逐步了解这些匹配项，以准确了解正则表达式中发生的情况。

# d3.js - 在 d3 力导向布局中优化电荷、链接距离和重力

> ID：15076157
> 
> 赞同：7
> 
> 时间：2013-02-25T20:45:53.763
> 
> 标签：d3.js, social-networking, data-visualization, force-layout

从上届国会会议开始，我已经建立了参议院投票模式的强制导向布局。有 102 个节点和 2,600 条边，基于连接至少 75% 时间一起投票的任何两位参议员：

![参议院社交网络](../Images/6f2a51f4e50b5432631d2c84d0bc2fb1.png)

我已经多次使用电荷、重力和链接距离的系数，希望找到一个节点不会过于聚集在一起或人为分离的最佳位置。使用 linkDistance 会在连接两个集群的四个红色节点之间创建比逻辑更多的空间。不设置 linkDistance 会导致两个集群相距甚远。

是否有根据边缘密度或任何其他社交网络分析指标选择正确值的指南？

当前布局定义为：

```
var force = d3.layout.force()
    .nodes(d3.values(nodes))
    .links(d3.values(links))
    .size([width - 2 * margin, height - 2 * margin])
    .charge(-80)
    .gravity(0.25)
    .linkDistance(50)
    .on("tick", tick)
    .start(); 
```

谢谢！

更新：在 jsFiddle 上起床有点复杂，但可以随意[在 GitHub 上克隆或分叉](https://github.com/wilson428/vote_studies)。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-17T23:12:49.047

没有“正确”的值——您可能想要选择的值完全取决于您想要显示的内容。

但是，您可以使用一些指标作为指导。顾名思义，[聚类系数](http://en.wikipedia.org/wiki/Clustering_coefficient)是衡量图“聚类”程度的指标。这是整个图的属性，但您也可以将其应用于子图（即仅红点或蓝点）。

[节点度](http://en.wikipedia.org/wiki/Degree_(graph_theory))的相关度量，它基本上计算节点之间的链接。图还有许多其他属性，例如[Lovász 数](http://en.wikipedia.org/wiki/Lov%C3%A1sz_number)。

这些都不会为您提供您想要设置的参数的具体值（而且什么都不会！），但您可能会发现用其中一些度量来表达这些参数很有用（例如，将链接距离设置为平均节点度数乘以常数）。

# windows-phone-8 - Windows Server 2008 上 WP8 的 TFS 构建服务器

> ID：15076165
> 
> 赞同：1
> 
> 时间：2013-02-25T20:46:14.027
> 
> 标签：windows-phone-8, windows-server-2008-r2

是否可以**在 Windows Server 2008 R2 上安装 Windows Phone 8 SDK**以便将其用作构建服务器？

Windows Phone 7 SDK 是可能的，但较新的 SDK 有更严格的要求（主要是由于构建机器和 Windows 8 不需要的模拟器）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T00:50:38.353

由于使用 WinRT API，Windows Phone 8 依赖于 Windows 8。因此 Windows Server 2008 R2 不太可能工作，但 Windows Server 2012 应该没问题，因为它与 Windows 8 共享相同的内核

# r - 在 R 中将包名称作为参数传递

> ID：15076169
> 
> 赞同：6
> 
> 时间：2013-02-25T20:46:21.243
> 
> 标签：r, function

我发现自己经常使用该`install.package`功能，尤其是当我必须尝试其他人的代码或运行示例时。

我正在编写一个安装和加载包的函数。我尝试了以下但没有奏效：

```
inp <- function(PKG)
{
  install.packages(deparse(substitute(PKG)))
  library(deparse(substitute(PKG)))
} 
```

当我输入`inp(data.table)`时，它说

```
Error in library(deparse(substitute(PKG))) : 
  'package' must be of length 1 
```

在这种情况下，如何将库名称作为参数传递？如果有人也可以指导我了解有关将任何类型的对象作为参数传递给`R`.

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-25T20:54:22.800

`library()`正在引发错误，因为它默认接受字符*或*名称作为其第一个参数。它`deparse(substitute(PKG))`在第一个参数中看到，并且在查找时找不到该名称的包，这是可以理解的。

Setting `character.only=TRUE`，它告诉`library()`期望一个字符串作为它的第一个参数，应该可以解决这个问题。试试这个：

```
f <- function(PKG) {
    library(deparse(substitute(PKG)), character.only=TRUE)
}

## Try it out
exists("ddply")
# [1] FALSE
f(plyr)
exists("ddply")
# [1] TRUE 
```

# javascript - 在 Kinetic.js 中，原型节点不会影响所有子节点？

> ID：15076170
> 
> 赞同：0
> 
> 时间：2013-02-25T20:46:27.960
> 
> 标签：javascript, kineticjs, prototyping

[http://jsfiddle.net/VTK7K/](http://jsfiddle.net/VTK7K/)

```
Kinetic.Node.prototype.test = function() {
    alert('worked');
};

var d = new Kinetic.Image({});
d.test(); 
```

我正在尝试向 Kinetic.Node 添加一个原型方法，以便它可用于扩展它的所有对象，这似乎不适用于某些对象，而适用于其他对象。

难道我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:07:59.993

问题是在创建 Kinetic 对象期间复制了所有方法，然后似乎忘记了连接：

```
// v4.3.1, l. 54
Kinetic.Global.extend(Kinetic.SceneCanvas, Kinetic.Canvas);

// v4.3.1, l. 785
extend: function(c1, c2) {
    for(var key in c2.prototype) {
        if(!( key in c1.prototype)) {
            c1.prototype[key] = c2.prototype[key];
        }
    }
}, 
```

一种可能性是使用 KineticJS 自己的扩展机制将额外的原型条目复制到 Kinetic 散列中的 ctor 函数：

```
var KineticMixin = function() {};
KineticMixin.prototype = {
    doSomething : function () { console.log("yo-ho-ho"); }
};

for(var key in Kinetic) {
    if(Kinetic.Type._isFunction(Kinetic[key])) {
        Kinetic.Global.extend(Kinetic[key], KineticMixin);
    }
}

var d = new Kinetic.Image({});
d.doSomething(); 
```

如果要扩展的 ctor 函数已经有一个具有该名称的条目，它将被忽略。因此，复制和修改`extend`函数来解决这个问题可能是个好主意。仅仅遍历 Kinetic 对象中的所有键似乎是*不*应该做的事情。也许是明确的有更好的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:34:23.153

定义对象时声明原型。当它被实例化时，它与 KineticJS 中的原型无关，afaik。

要重新定义对象的原型，您可以再次运行以下命令来添加 Kinetic.Node 的额外原型。

```
Kinetic.Global.extend(Kinetic.Container, Kinetic.Node);
Kinetic.Global.extend(Kinetic.Shape, Kinetic.Node);
Kinetic.Global.extend(Kinetic.Group, Kinetic.Container);
Kinetic.Global.extend(Kinetic.Layer, Kinetic.Container);
Kinetic.Global.extend(Kinetic.Stage, Kinetic.Container);
Kinetic.Global.extend(Kinetic.Circle, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Ellipse, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Image, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Line, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Path, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Polygon, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Rect, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.RegularPolygon, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Sprite, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Star, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Text, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.TextPath, Kinetic.Shape);
Kinetic.Global.extend(Kinetic.Wedge, Kinetic.Shape); 
```

# java - Java - 如何远程访问 Windows 注册表

> ID：15076171
> 
> 赞同：1
> 
> 时间：2013-02-25T20:46:28.343
> 
> 标签：java, registry, remote-access

我发现可以使用[C++](http://msdn.microsoft.com/en-us/library/ms724840%28v=vs.85%29.aspx "RegConnectRegistry 函数")远程访问 Windows 注册表。但是是否可以通过**JAVA**进行远程 Windows 注册表访问？

只要能够远程读取注册表就会有帮助！

**编辑**

以下是如何在本地编辑 Windows 注册表。[关联](https://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:51:14.117

使用[Java 本机接口](http://docs.oracle.com/javase/6/docs/technotes/guides/jni/)，您可以调用本机 API。使用它，您可以调用您引用的 Windows API 函数。

# javascript - 文本选择事件结束？

> ID：15076173
> 
> 赞同：18
> 
> 时间：2013-02-25T20:46:33.900
> 
> 标签：javascript, jquery, ios

iOS上是否有结束文本选择的事件？

I know I can run an event when the selection changes through the following:

```
document.addEventListener("selectionchange", function(event) {
        var text = window.getSelection().toString();
        $(".output").append("<div>" + text + "</div>");
}, false);

<div class="output"></div> 
```

这将`.output`使用所选文本进行更新，但每次选择更改时都会运行。我想要的是仅在选择完成后捕获文本。

有没有这样的事件？有可能做这样的事情吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-04-01T13:18:59.430

与您类似，我没有找到解决此问题的好方法，因此我决定创建一个解决方法。它不是最漂亮的，但它有效。

我创建了一个超时函数并将其绑定到“onselectionchange”事件。每次触发事件时，我都会检查我的超时是否正在运行，如果是，我将其删除并创建一个新的。

当超时完成时，会触发自定义事件“selectionEnd”。

```
// bind selection change event to my function
document.onselectionchange = userSelectionChanged;

function userSelectionChanged() {

    // wait 500 ms after the last selection change event
    if (selectionEndTimeout) {
        clearTimeout(selectionEndTimeout);
    }

    selectionEndTimeout = setTimeout(function () {
        $(window).trigger('selectionEnd');
    }, 500);
}

$(window).bind('selectionEnd', function () {

    // reset selection timeout
    selectionEndTimeout = null;

    // TODO: Do your cool stuff here........

    // get user selection
    var selectedText = getSelectionText();

    // if the selection is not empty show it :)
    if(selectedText != ''){
       // TODO: Do something with the text
    }
}); 
```

演示：http: [//jsfiddle.net/dimshik/z8Jge/](http://jsfiddle.net/dimshik/z8Jge/)

我在我的博客中写了一篇关于它的小帖子：[http ://www.dimshik.com/end-of-text-selection-event-on-ios-workaround/](http://www.dimshik.com/end-of-text-selection-event-on-ios-workaround/)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-25T23:02:13.350

绑定一个`mouseup`事件怎么样？

JAVASCRIPT：

```
document.addEventListener("mouseup", function(event) {
        var text = window.getSelection().toString();
    $(".output").append("<div>" + text + "</div>");
}, false); 
```

演示：http: [//jsfiddle.net/dirtyd77/yTMwu/66/](http://jsfiddle.net/dirtyd77/yTMwu/66/)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-09-06T16:13:30.407

我也面临这个问题，因为我还没有找到一个好的解决方案，这是我的解决方法。当用户在移动浏览器剪贴板中按下确认/返回按钮确认他的选择时
，它将触发一个事件。`selectionEnd`

```
var longpress = false;
var longpressTimer = null;
var loop = null;
var latestSelection = null;

window.ontouchstart = function(){
    longpressTimer = setTimeout(function(){
        longpress = true;
        loop = setInterval(getSelection, 200);
    }, 500)
};

window.ontouchend = function(){
    if(longpressTimer){
        clearTimeout(longpressTimer);
    }
    longpress = false;
}

var getSelection = function (){
    var s = window.getSelection();
    if(s.rangeCount > 0){
        latestSelection = s.getRangeAt(0);
    }else{
        clearInterval(loop);
        var selEndEvent = new CustomEvent("selectionEnd", {"detail": latestSelection});
        window.dispatchEvent(selEndEvent);
    }
} 
```

当执行长按时，它会启动一个间隔来监视选择。然后用户确认他的选择，剪贴板自动删除它；中断监视器循环并发送 selectionEnd 事件。
您可以在详细属性中访问最后选择的文本。

我希望能得到一些关于这个问题的消息并得到更好的解决方案。

# html - 内部 div 相对于包装器具有不需要的空间

> ID：15076174
> 
> 赞同：0
> 
> 时间：2013-02-25T20:46:36.867
> 
> 标签：html, margin, padding, space, multiple-columns

我找不到解决这个问题的方法。。

我有三个 div 彼此相邻浮动，以在包装 div 中创建一个 3 列布局。由于某种原因，左边的距离包装器的边框 40px。其他一切都完美无缺，只是左边有一些不需要的空间。

这是我的代码..

html:

```
<div id="panelwrapper">
   <ul>
      <li>
         <div id="panel-left">
         </div>
      </li>

      <li>
         <div id="panel-mid">
         </div>
      </li>  

      <li>
         <div id="panel-right">
         </div>
      </li>                                    
   </ul>
</div> 
```

CSS：

```
#panelwrapper   {
    height: 398px;
    width: 1023px;
    border: 1px solid black;
    clear: both;
}

#panelwrapper ul li {
    display: inline;
}

#panel-left {
    width: 339px;
    height: 396px;
    border: 1px solid red;
    float: left;
}

#panel-mid  {
    width: 339px;
    height: 396px;
    border: 1px solid blue;
    float: left;
}

#panel-right    {
    width: 339px;
    height: 396px;
    border: 1px solid green;
    float: left;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:49:07.473

你在使用 CSS 重置样式表吗？

如果没有，您需要将 UL 的边距/填充设置为 0。

# algorithm - 动态规划：2人游戏中的状态

> ID：15076175
> 
> 赞同：1
> 
> 时间：2013-02-25T20:46:37.833
> 
> 标签：algorithm, dynamic-programming

这是编程竞赛中的[问题](http://www.codechef.com/problems/WPLAY)，我“发现”了如何在 2 人游戏中通过状态。

问题是：在两个玩家 A 和 B 之间进行另一种游戏，其中 A 总是先开始，从给定的矩阵中选择一些字母并从给定的字典中造词。然后丢弃这些字母。下一位玩家从剩下的字母中选择。最后一个说不出话的人就输了。每场比赛都发挥得淋漓尽致。

从 我在这里引用的[社论](http://discuss.codechef.com/questions/6381/wplay-editorial)

```
 To iterate over all non-empty subsets of the given 
    set when they represented using bitmasks:

    submask = mask
    while submask > 0
        // do the job with the submask
        submask = (submask - 1) AND mask 
```

在我看到的一个解决方案中

```
 int solve(int state)
    {
        if(dp[state]!=-1)
            return(dp[state]);

        int res=1;
        int nstate=state;
        while(1)
        {
            if(valid[nstate])
                res=solve(state&(~nstate));
            if(res==0)
                break;
            nstate=((nstate-1)&state);
            if(nstate==0)
                break;
        }
        if(res==0)
            dp[state]=1;
        else
            dp[state]=0;
        return(dp[state]);
    } 
```

此代码有另一个与 ~ 的 AND。

我实际上无法理解这里的“状态”是什么，以及它如何将我们带入所有状态？请解释一下。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:35:02.670

## 状态说明

状态是剩余字母的集合。

我们用 1 替换我们仍然拥有的字母，用 0 替换已经消失的字母。

这会产生一个二进制数，它是变量掩码中保存的数字。

例如，假设我们在游戏开始时有字母 ABCDEFGH，而在某个时刻我们只剩下字母 B 和 D。

数字 0x50 将代表当前状态：

```
ABCDEFGH  at start
-B-D----  at current point in game
01010000  replace with 1's for letters we still have
0x50      treat as a binary number 
```

## 小玩意儿

两种解决方案都使用位 twiddle `nstate=((nstate-1)&state)`。

如果以 nstate=state 开头，此代码将生成状态的所有子集。

这是什么意思？好吧，假设我们有当前字母 B 和 D 的状态。此状态的所有可能的非空子集是 {B,D},{B},{D}。

这些将由二进制数 01010000,01000000,00010000 表示。

我们可以看到这些确实是通过执行以下 Python 代码生成的：

```
state=0b01010000
nstate=state
while nstate:
    print bin(nstate)
    nstate=(nstate-1)&state 
```

给出输出：

```
0b01010000
0b01000000
0b00010000 
```

为什么这行得通？

粗略地说，代码用于`nstate = nstate-1`对所有可能的二进制数进行倒计时，并`& state`跳过我们不关心的位发生变化的部分（通过立即将它们设置为零，而不是等待它们计数降至零）。

# c# - 如何在 C# 中调用特定显式声明的接口方法

> ID：15076176
> 
> 赞同：8
> 
> 时间：2013-02-25T20:46:45.363
> 
> 标签：c#, .net, interface

我对如何在以下代码中调用特定接口的方法（比如 IA 或 IB 或 In ...）有疑问。请帮助我如何打电话。我已经注释了我声明接口方法“公共”的代码行，在这种情况下它可以工作。当我明确声明时，我不知道如何调用它:(我正在学习 C#....

```
interface IA
    {
        void Display();
    }
    interface IB
    {
        void Display();
    }
    class Model : IA, IB
    {
        void IA.Display()
        {
            Console.WriteLine("I am from A");
        }
        void IB.Display()
        {
            Console.WriteLine("I am from B");
        }
        //public void Display()
        //{
        //    Console.WriteLine("I am from the class method");
        //}

        static void Main()
        {
            Model m = new Model();
            //m.Display();
            Console.ReadLine();
        }
    } 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-25T20:49:23.180

要调用显式接口方法，您需要使用正确类型的变量，或者直接转换为该接口：

```
 static void Main()
    {
        Model m = new Model();

        // Set to IA
        IA asIA = m;
        asIA.Display();

        // Or use cast inline
        ((IB)m).Display();

        Console.ReadLine();
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T20:50:09.733

将调用的方法取决于调用它的类型。例如：

请注意，为了清楚起见，我创建了两个项目。但实际上，您不想这样做，您应该只在类型之间转换对象。

```
static void Main(string[] args)
{
    // easy to understand version:
    IA a = new Model();
    IB b = new Model();

    a.Display();
    b.Display();

    // better practice version:
    Model model = new Model();

    (IA)model.Display();
    (IB)model.Display();
}

interface IA
{
    void Display();
}

interface IB
{
    void Display();
}

class Model : IA, IB
{
    void IA.Display()
    {
        Debug.WriteLine("I am from A");
    }

    void IB.Display()
    {
        Debug.WriteLine("I am from B");
    }            
} 
```

输出：

```
I am from A
I am from B 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T20:50:42.240

您需要为此过程使用**[显式接口实现](http://msdn.microsoft.com/en-us/library/vstudio/ms173157.aspx)**。

> 但是，如果两个接口成员不执行相同的功能，则可能导致其中一个或两个接口的实现不正确。可以显式地实现接口成员——创建一个只通过接口调用的类成员，并且特定于该接口。这是通过使用接口名称和句点命名类成员来完成的。

```
interface IA
{
   void Display();
}
interface IB
{
   void Display();
}

    public class Program:IA,IB
    {

        void IA.Display()
        {
            Console.WriteLine("I am from A");
        }

        void IB.Display()
        {
            Console.WriteLine("I am from B");
        }

        public static void Main(string[] args)
        {
           IA p1 = new Program();
           p1.Display();
           IB p2 = new Program();
           p2.Display();
        }
    } 
```

输出将是：

```
I am from A
I am from B 
```

这是一个**[演示](http://ideone.com/ncn08G)**。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-25T20:55:25.263

为了调用显式接口方法，您必须持有对该接口类型的引用或对其进行强制转换：

```
IB ib = new Model();
ib.Display();

IA ia = (IA)ib;
ia.Display(); 
```

# visual-studio - 如何将 Windows 8 SDK 与 Visual Studio 2012 集成

> ID：15076177
> 
> 赞同：4
> 
> 时间：2013-02-25T20:46:49.777
> 
> 标签：visual-studio, visual-c++, visual-studio-2012, winapi, visual-c++-2012

根据文档：http: [//msdn.microsoft.com/en-us/windows/desktop/hh852363.aspx](http://msdn.microsoft.com/en-us/windows/desktop/hh852363.aspx)

> 通过删除命令行构建环境，Windows SDK 不再提供以下组件：
> 
> Windows SDK 平台工具集
> 
> Visual C++ 编译器和 C 运行时 (CRT)
> 
> Windows SDK 配置工具

如果删除了 Windows SDK 配置工具，是否有更新路径的简单方法？我意识到我可以手动更新 Microsoft.Cpp.Win32.user.props（和其他属性页面），但我希望有一种比四处寻找所有东西更简单的方法。也许我错过了一些明显的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-27T18:55:34.807

Visual Studio 2012 已经随 Windows 8.0 SDK 一起提供，并且在您使用“v110”平台工具集构建时使用。只要您安装了 VS 2012 Express for Windows Desktop，或者 VS 2012 Pro 或更高版本，您就拥有了完整的 Windows 8.0 SDK。实际上，对于 VS 2012 Update 1，您在使用“v110_xp”平台工具集时也拥有 Windows 7.1A SDK。

同样，如果您拥有 Visual Studio 2013，则您拥有 Windows 8.1 SDK。

当您想要将 Windows 8.x SDK 与 Visual Studio 2010 或 Windows 8.1 SDK 与 Visual Studio 2012 一起使用时，“手动”部分就会出现。请参阅[此](http://blogs.msdn.com/b/chuckw/archive/2013/10/18/visual-studio-2013-and-windows-8-1-sdk-rtm-are-now-available.aspx)和[此](http://blogs.msdn.com/b/chuckw/archive/2012/08/15/visual-studio-2012-and-windows-8-0-sdk-rtm-are-now-available.aspx)博客文章。

# jsf - selectOneMenu 所选值

> ID：15076178
> 
> 赞同：2
> 
> 时间：2013-02-25T20:46:55.720
> 
> 标签：jsf, jakarta-ee

好吧，我需要澄清一下 selectOneMenu 标签，使用 EL 表达式来获取/设置值

```
 <h:selectOneMenu id="variantsMenu"
            value="#{missionHandler.selectedVariant}"
            converter="#{missionHandler.variantConverter}">
            <f:selectItem itemLabel="-- Select a Variant --" />
            <f:selectItems value="#{missionHandler.variants}" var="variant"
                itemValue="#{variant}" itemLabel="#{variant.commercialName}" />
        </h:selectOneMenu> 
```

我有这段代码，它显示一个列表，其中包含 ("-- Select a Variant--", Variant 1, Variant 2, ... Variant n) 当我单击 Variant 时，我希望managedBean 中的`selectedVariant`属性是`missionHandler`自动更新。但这种情况并非如此。`variantConverter`甚至没有调用转换器将字符串“variant.commercialName”转换为真实对象`Variant`。变体对象实现`hashCode()`和`equals()`

*   我缺少什么 EL 表达式/标签的概念？
*   我的更新问题的解决方案是什么？

    编辑：managedBean（简化）

    ```
    @ManagedBean
    @ViewScoped
    public class MissionHandler implements Serializable {

    private static final long serialVersionUID = 2462652101518266609L;

    private List<FlightFeasibilityException> exceptions;

    @EJB
    private VariantDao variantDao;

    private Variant selectedVariant;

    private List<Variant> variants;

    private VariantConverter variantConverter;

    public MissionHandler() {
        /** Create an empty list of exceptions */
        exceptions = new ArrayList<FlightFeasibilityException>();
    }

    @PostConstruct
    public void init() {
        System.out.println("init done");
    }

    public List<FlightFeasibilityException> getExceptions() {
        return exceptions;
    }

    public void setExceptions(List<FlightFeasibilityException> exceptions) {
        this.exceptions = exceptions;
    }

    public Variant getSelectedVariant() {
        return selectedVariant;
    }

    public void setSelectedVariant(Variant selectedVariant) {
        this.selectedVariant = selectedVariant;
    }

    public List<Variant> getVariants() {
        return variants;
    }

    public void setVariants(List<Variant> variants) {
        this.variants = variants;
    }

    public VariantConverter getVariantConverter() {
        return variantConverter;
    }

    public void setVariantConverter(VariantConverter variantConverter) {
        this.variantConverter = variantConverter;
    } 
    ```

    }

转换器

```
@FacesConverter(forClass=Variant.class)
public class VariantConverter implements Converter, Serializable {

    private static final long serialVersionUID = 7053414108213420057L;

    private VariantDao variantDao=new VariantDaoImpl();

    @Override
    public Object getAsObject(FacesContext context, UIComponent component,
            String value) {
        System.out.println("convert to Object " + value);
        Variant variant = variantDao.find(value);
        System.out.println("got variant " + variant.getCommercialName());
        return variant;
    }

    @Override
    public String getAsString(FacesContext context, UIComponent component,
            Object value) {
        System.out.println("convert to String " + value);
        return ((Variant) value).getCommercialName();
      }

    } 
```

和 xhtml 文件

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <title>Mission Page</title>
    <link href="./css/styles.css" rel="stylesheet" type="text/css" />
</h:head>
<h:body>
    <rich:panel>
        <f:facet name="header">
            Mission Information
        </f:facet>
        <a4j:outputPanel layout="block">
            <h:form>
                <h:outputText style="font-weight: bold;" value="Mission Id: " />
                <h:inputText id="missionId" label="missionId"
                    value="#{missionHandler.mission.id}" disabled="true"
                    style=" width : 50px;">
                </h:inputText>
                <h:outputText style="font-weight: bold;" value="Mission Status: " />
                <h:inputText id="missionStatus" label="missionStatus"
                    value="#{missionHandler.mission.status}" disabled="true">
                </h:inputText>
            </h:form>
            <br />
            <h:form>
                <h:selectOneMenu value="#{missionHandler.selectedAircraftType}"
                    converter="#{missionHandler.acTypeConverter}">
                    <f:selectItem itemLabel="-- Select an A/C Type --" />
                    <f:selectItems value="#{missionHandler.aircraftTypes}" var="type"
                        itemValue="#{type}" itemLabel="#{type.typeOACI}" />
                    <f:ajax listener="#{missionHandler.changeSelectedAircraftType}"
                        render="@form" />
                </h:selectOneMenu>
                <h:selectOneMenu id="variantsMenu"
                    value="#{missionHandler.selectedVariant}"
                    converter="#{missionHandler.variantConverter}"
                    rendered="#{not empty missionHandler.selectedAircraftType}">
                    <f:selectItem itemLabel="-- Select a Variant --" />
                    <f:selectItems value="#{missionHandler.variants}" var="variant"
                        itemValue="#{variant}" itemLabel="#{variant.commercialName}" />
                </h:selectOneMenu>
            </h:form>
        </a4j:outputPanel>
    </rich:panel>
….. A LOT OF OTHER THINGS …..
</h:body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T02:56:27.397

当您从菜单中选择一个项目时，托管 bean 中的值不会直接更新，因为没有提交表单。

通过 a 提交或在菜单中`<h:commandButton ...>`使用 ajax 事件。`<f:ajax event="change" ...>`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T15:51:11.730

关于您的代码的几点说明：

1.  在托管bean的构造函数中做东西==糟糕的设计，`@PostConstructor`改用。

2.  在您的转换器 == 错误设计中手动实例化 DAO。理想情况下，您的 DAO 应该是可以注入转换器的托管对象（最好是 EJB）。作为一个托管对象意味着它（理论上）可能是一个单例并由容器正确管理。至少这样，你不会为此感到难过。

3.  试图手动管理转换器。将转换器声明为独立组件并让容器完成它的工作，这样您就可以避免不必要的调试。

4.  `variantsMenu`没有附加 ajax 处理程序，因此在提交整个表单之前，您不会在支持 bean 中更新值

    ```
    <h:selectOneMenu id="variantsMenu"
                value="#{missionHandler.selectedVariant}"
                converter="#{variantConverter}"
                rendered="#{not empty missionHandler.selectedAircraftType}">
                <f:ajax listener="#{missionHandler.changeVariant}"       render="@form" />
                <f:selectItem itemLabel="-- Select a Variant --" />
                <f:selectItems value="#{missionHandler.variants}" var="variant"
                    itemValue="#{variant}" itemLabel="#{variant.commercialName}" />
            </h:selectOneMenu> 
    ```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T12:29:44.277

除非我遗漏了什么，否则我认为您永远不会实例化您的转换器。您绑定到 bean 以获取转换器，但值在哪里？

我可以理解您不喜欢转换器中的数据库访问。如果您使用 OmniFaces 中的选择项转换器之一，几乎不需要这样做。

# java - Java：java.lang.NoClassDefFoundError

> ID：15076180
> 
> 赞同：0
> 
> 时间：2013-02-25T20:47:06.830
> 
> 标签：java, class, jetty

如果之前已经发布过，我很抱歉，但我似乎已经阅读并理解这个问题和修复有很多可能的原因。我正在创建一个 Jetty 服务器并尝试从命令行而不是 Eclipse IDE 编译它，我正在使用这个 javac 命令来编译它：

```
 javac -cp jetty-all.jar:servlet-api.jar Handle.java Listener.java Files.java     StartStopServer.java Main.java 
```

Main.java 是我在 Eclipse 中运行程序的类。

当我做：

```
java -cp jetty-all.jar:servlet-api.jar:. Main 
```

它给了我以下错误：

```
Exception in thread "main" java.lang.NoClassDefFoundError: Main (wrong name: com/gorillalogic/quotes/Main)
at java.lang.ClassLoader.defineClass1(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:480) 
```

任何人都可以帮助我提供这些信息，还是您需要更多信息？请回复。我愿意发布代码，但是，如果没有必要，我不想发布它。对不起，如果这是一个愚蠢的错误或者我很愚蠢。

谢谢！-亨利

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T20:48:14.027

简单：您必须以保留包结构的方式进行编译：

```
javac -cp jetty-all.jar:servlet-api.jar -d . Handle.java Listener.java Files.java StartStopServer.java Main.java 
```

并使用类的全名启动：

```
java -cp jetty-all.jar:servlet-api.jar:. com.gorillalogic.quotes.Main 
```

# c++ - 运算符重载 - 我如何更改对象位置？

> ID：15076183
> 
> 赞同：0
> 
> 时间：2013-02-25T20:47:18.063
> 
> 标签：c++, operator-overloading

我有两节课。

```
Inch class:

class Inch{
private:
    double inches;

public:
    Inch() : inches(0) {}
    Inch(double i) { inches=i; }
    Inch operator+ (const Meter& m);
    void out(){ cout << "Inch:" << inches << "\n";  }
    double getInches() const { return inches; }
}; 
```

和仪表类

```
class Meter{
private:
    double meter;

public:
    Meter() : meter(0) {}
    Meter(double m) { meter=m; }
    Meter operator+ (const Inch& i);
    void out(){ cout << "Meter:" << meter;  }
    double getMeter() const { return meter; }
}; 
```

这是两个非内联运算符 + 函数

```
Meter Meter :: operator+ (const Inch& i){
    { return Meter(meter /  0.0254 + i.getInches()); }
}

Inch Inch :: operator+ (const Meter& m){
    { return Inch(m.getMeter() + inches * 0.0254); }
} 
```

这是我的主要和编译。这里没有问题。

```
int main() {

    Inch i(6.4),
         resultInch;

    Meter m(14),
         resultMeter;

    i.out();
    m.out();

resultMeter = m + i;
     resultMeter.out();

     resultInch = i + m;
          resultInch.out();

    return 0;
} 
```

我想做的是改变 i + m 所在的位置

```
 resultInch = i + m;
      resultInch.out(); 
```

我想像这样添加这两个

```
resultInch = m + i;
          resultInch.out(); 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T20:50:27.507

添加转换构造函数：

```
Inch(Meter const & m) : inches(m.getMeter() * 100.0 / 2.54) { }

Meter(Inch const & i) : meters(i.getInches() * 2.54 / 100.0) { } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:50:43.230

您可以制作带有 2 个参数的全局加法运算符

```
Inch operator+(const Meter& m, const Inch& i) 
```

# raphael - Raphael 中的旋转文本是乱码

> ID：15076186
> 
> 赞同：1
> 
> 时间：2013-02-25T20:47:31.300
> 
> 标签：raphael

我正在尝试翻译和旋转文本，它似乎对我的文本进行了非常严重的扰乱。我这里有一个例子。[http://jsfiddle.net/WAbZz/](http://jsfiddle.net/WAbZz/)

```
var paper = Raphael("ocular", 500, 500);
var label = paper.text(100, 100, "Coeur et Artères");
label.attr('fill', '#555');
label.attr('font-size', '12px');
label.attr('cursor', 'pointer');

//label.transform("t200,200");// translate only
//label.transform("r98");// rotate only
label.transform("t200,200r98");// translate and rotate 
```

这个问题似乎也发生在轮换上。有注释掉的部分只是翻译和旋转，所以如果测试有上下文。

我做错了什么，还是应该使用不同的方法进行翻译和转换？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-22T16:36:48.287

我遇到了这个确切的问题。不幸的是，您必须通过生成它的专有 JavaScript 版本来对特定字体进行**cufonize**（可以在[此处](http://cufon.shoqolate.com/generate/)完成） - 确保选择 Raphael。

确保在 Raphael js 文件之后链接 cufon 字体 js 文件。这些文件可能非常大。仅包含您打算使用的字形并确保在您的 Web 服务器中启用 gzip。

该文件应该调用调用[registerFont](http://raphaeljs.com/reference.html#registerFont)以将其注册到 Raphael（而不是 Cufon）。

您现在必须使用[print](http://raphaeljs.com/reference.html#Paper.print)而不是[text](http://raphaeljs.com/reference.html#Paper.text)。您不应再像设置原生或 Google Web 字体那样设置 font-family、font-size 和 letter-spacing（它们是 print 函数的参数）。注意：使用 print 设置 attr 值与使用 text 不同（print 是路径的“集合”）。

另请注意，打印与文本存在对齐差异。这会使旋转变得困难。

```
<script src="raphael.js"></script>
<script src="my-cufon-font-file.js"></script>

<div id="ocular"></div>

<script>

    var angle = 95; // degrees

    var paper = Raphael("ocular", 500, 500);
    paper.print(100, 100, "Coeur et Artères", paper.getFont('My Cufon Font Name'), 12, 'middle', '1')
        .transform('R' + angle)
        .attr({
            fill: '#555',
            cursor: 'pointer'
        });
</script> 
```

# java - 设置android.webkit.WebTextView类的textcolor？

> ID：15076190
> 
> 赞同：0
> 
> 时间：2013-02-25T20:47:58.500
> 
> 标签：java, android, android-webview

我有一种调查类型的表单，在用户按下提交后会吐出回复。这是使用 webview 客户端，因此我可以在覆盖 URL 之前轻松修改 CSS。但是，按下提交后，样式有黑色字体（和其他不需要的东西）。有没有办法改变 WebTextView 的文本颜色？

最终，覆盖它是理想的，但看起来我不能：

```
WebTextView(Context context, WebView webView, int autoFillQueryId) {         super(context, null, com.android.internal.R.attr.webTextViewStyle);
     mWebView = webView;
     mMaxLength = -1;
     setAutoFillable(autoFillQueryId);
     // Turn on subpixel text, and turn off kerning, so it better matches
     // the text in webkit.
     TextPaint paint = getPaint();
     int flags = paint.getFlags() & ~Paint.DEV_KERN_TEXT_FLAG
             | Paint.SUBPIXEL_TEXT_FLAG | Paint.DITHER_FLAG;
     paint.setFlags(flags);

     // Set the text color to black, regardless of the theme.  This ensures
     // that other applications that use embedded WebViews will properly
     // display the text in password textfields.
     setTextColor(DebugFlags.DRAW_WEBTEXTVIEW ? Color.RED : Color.BLACK); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:07:03.043

> 有没有办法改变 WebTextView 的文本颜色？

Android SDK中没有`WebTextView`，因此无法修改。

> 这是使用 webview 客户端，因此我可以在覆盖 URL 之前轻松修改 CSS。

It sounds like your problem is that the CSS should be right originally, both for the page you display before submitting this form and the page you display afterwards. IOW, the solution is to get it right from an HTML/CSS/JS standpoint, which you (presumably) control.

# sql - 将 dd/mm/yyy 转换为 mm/dd/yyy T-SQL 2008

> ID：15076191
> 
> 赞同：1
> 
> 时间：2013-02-25T20:47:59.597
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我已经写了这个过程

```
 alter proc vencedata (@inicio smalldatetime)as
   select idconta,vencimento,pagamento,historico,original,formpagto,planoconta,clifor 
   from financeiro where vencimento >=  @inicio 
```

vencimento(smalldatetime) 列的格式为 mm/dd/yyyy proc 以这种格式工作

```
 vencedata '03/28/2013' (mm/dd/yyyy) 
```

但是@inicio 的日期在 dd/mm/yyyy 我需要 proc 工作 vencedata '28/03/2013'

我尝试过转换，但我写得不对，谢谢任何方向

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:13:36.947

[`CONVERT`](http://msdn.microsoft.com/en-us/library/ms187928.aspx)与样式参数一起使用

从 VARCHAR 获取 SMALLDATETIME

```
-- From Europe style varchar
DECLARE @d1 VARCHAR(20) = '28/03/2013'
SELECT CONVERT(smalldatetime, @d1, 103)
-- From American style varchar
DECLARE @d2 VARCHAR(20) = '03/28/2013'
SELECT CONVERT(smalldatetime, @d2, 101) 
```

在这两种情况下，输出都是

```
2013-03-28 00:00:00 
```

反之亦然，从 SMALLDATETIME 到 VARCHAR

```
DECLARE @d3 SMALLDATETIME = '2013-03-28'
-- To Europe style
SELECT CONVERT(VARCHAR(20), @d3, 103)
-- To American style 
SELECT CONVERT(VARCHAR(20), @d3, 101) 
```

输出

```
28/03/2013
03/28/2013 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T20:53:25.910

日期，日期时间没有您所说的格式，但您的问题是服务器无法将您的`dd/mm/yyyy`格式字符串转换为`smalldatetime`.

如果日期以字符串`dd/mm/yyyy`格式传递，最好将其转换为***ISO 格式***( `yyyymmdd`)，然后在传递给存储过程之前转换为 smalldatetime。

```
declare @inicio varchar(20) = '28/03/2013',
        @inicio_date smalldatetime

select @inicio_date = convert(smalldatetime,
               right(@inicio,4) + right(left(@inicio,5),2) + left(@inicio,2)) 
```

执行存储过程如下；

```
exec vencedata @inicio_date 
```

[转换的小提琴演示](http://sqlfiddle.com/#!3/d41d8/9622)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T19:21:04.450

尝试这个：

```
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
-- =============================================
-- Author:      RAFAŁ :D
-- Create date: <Create Date,,>
-- Description: <Description,,>
-- =============================================
CREATE PROCEDURE Esample
AS
BEGIN
    DECLARE @vencedata datetime
    SET @vencedata = convert(datetime, '03/28/2013')
    DECLARE @data datetime
    SET @data = convert(datetime, (Convert(varchar(60),Month(@vencedata))+'/'+Convert(varchar(60),DAY(@vencedata))+'/'++Convert(varchar(60),YEAR(@vencedata))))
    SELECT @data
END
GO 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-27T19:14:47.427

当与 smalldatetime 进行比较时，C# 将问题的日期转换为 datetime 的 00:00:00

```
 string inicio = dateTimePicker1.Value.ToShortDateString();
  string fim = dateTimePicker2.Value.ToShortDateString(); 
  DateTime Dinicio = Convert.ToDateTime(inicio); 
  DateTime Dfinal =  convert.ToDateTime(fim);
           Decimal Svt = minaf.TData(Dinicio, Dfinal); 
           DataTable llena3 = minaf.cargrid3(Dinicio,Dfinal); 
```

诀窍是转换为短日期字符串。

# macos - osx音频单元多声道输出

> ID：15076194
> 
> 赞同：3
> 
> 时间：2013-02-25T20:48:14.430
> 
> 标签：macos, core-audio, openframeworks

我已经在网上搜索了几个星期没有运气的答案。

我有一个 maudio profire 610 多声道音频接口。如何正确设置 AudioStreamBasicDescription 以使用所有 8 个输出通道？目前它只适用于前 2 个频道。

```
 UInt32 busCount = 3; //numberOfOutputBusses;
AudioStreamBasicDescription outputASBD2 = {
    .mSampleRate       = 44100,
    .mFormatID         = kAudioFormatLinearPCM,
    .mFormatFlags      = kAudioFormatFlagsAudioUnitCanonical, 
    .mChannelsPerFrame = busCount,
    .mFramesPerPacket  = 1,
    .mBitsPerChannel   = sizeof(Float32) * 8,
    .mBytesPerPacket   = sizeof(Float32) * busCount,
    .mBytesPerFrame    = sizeof(Float32) * busCount
};

AudioUnitSetProperty(*_unit,
                                    kAudioUnitProperty_StreamFormat,
                                    kAudioUnitScope_Output,
                                    1,
                                    &outputASBD2,
                                    sizeof(AudioStreamBasicDescription); 
```

我正在为 openframeworks 开发 ofxaudiounit 插件： [https ://github.com/antimodular/ofxAudioUnit](https://github.com/antimodular/ofxAudioUnit)

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-25T20:58:04.520

```
 UInt32 propertySize;
  Boolean writable = false;
  OSStatus status = AudioUnitGetPropertyInfo(*_unit,
                                             kAudioOutputUnitProperty_ChannelMap,
                                             kAudioUnitScope_Output,
                                             0,
                                             &propertySize, &writable);
  //SignalIf_(writable == false);
  cout<<"writable "<<&writable<<endl;

  long nChannels = propertySize / sizeof(SInt32);
  long* channelMapPtr = (long*)malloc(propertySize);

  cout<<"nChannels "<<nChannels<<endl;

  UInt32 scratch = propertySize;
  status = AudioUnitGetProperty(*_unit,
                                  kAudioOutputUnitProperty_ChannelMap,
                                  kAudioUnitScope_Output,
                                  0,
                                  channelMapPtr,
                                  &scratch);

  //  channelMapPtr[0] = 0;
  for (long i = 0; i < nChannels; i++)
  {
      channelMapPtr[i] = -1;
  }

 channelMapPtr[3] = 0;
 channelMapPtr[5] = 1;

  OFXAU_RET_BOOL(AudioUnitSetProperty(*_unit,
                                        kAudioOutputUnitProperty_ChannelMap,
                                        kAudioUnitScope_Output,
                                        0,
                                        channelMapPtr,
                                        scratch),"setting output unit's device ID");

  free((void *)channelMapPtr); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:18:13.033

规范格式是非交错的，所以每个缓冲区只有一个通道，所以`.mBytesPerPacket`应该`.mBytesPerFrame`是`sizeof(Float32)`. 然后，您需要创建多个 ( `busCount`) 缓冲区以传递到 AudioUnit，例如

```
AudioBufferList *bufferList = (AudioBufferList*)malloc(sizeof(AudioBufferList) + (sizeof(AudioBuffer) * (busCount - 1)));
bufferList->mNumberBuffers = busCount;
for ( int i=0; i < bufferList->mNumberBuffers; i++ ) {
    bufferList->mBuffers[i].mNumberChannels = 1;
    bufferList->mBuffers[i].mDataByteSize = BUFFER_SIZE * sizeof(float);
    bufferList->mBuffers[i].mData = malloc(BUFFER_SIZE * sizeof(float));
} 
```

# javascript - JS 二次曲线

> ID：15076197
> 
> 赞同：0
> 
> 时间：2013-02-25T20:48:30.373
> 
> 标签：javascript, graph, coordinates, quadratic

到目前为止，我已经能够使用圆圈制作直线图，并为它们分配一个随机的 x 坐标，并将 y 设置为 x。这行得通。

我遇到的麻烦是使用 Math.pow() 来做 x 的幂。它似乎不起作用。圆圈不会出现在任何地方，但屏幕甚至不会被拉伸（如果形状超出边界，这是我所期望的）。

```
var rangeCX = Math.round(Math.random() * 500);

var resultCX = rangeCX;
var resultCY = Math.pow(rangeCX,2);

circle.setAttribute("cx",resultCX);
circle.setAttribute("cy",resultCY); 
```

我正在使用 SVG 来显示圆圈。

# jenkins - Jenkins 作业等待多个打开的执行器插槽

> ID：15076199
> 
> 赞同：3
> 
> 时间：2013-02-25T20:48:35.100
> 
> 标签：jenkins, jenkins-plugins

我有一个通用工作“构建”，由每个代码行的具体构建调用，例如“stable_build”。我有 stable_build 触发器构建并选中“阻止直到触发的项目完成构建”，这样 stable_build 的结果将反映构建的结果。这意味着每当我执行 stable_build 时，它需要 2 个执行器插槽，一个用于 stable_build，一个用于构建。我还有另一份工作“stable_tests”，它以类似的方式触发“测试”。我面临的问题是：如果同时执行 stable_build 和 stable_tests，每个都将占用一个执行器插槽，而下游的“构建”和“测试”在队列中。

詹金斯有没有办法配置一个作业来等待 2 个打开的执行器插槽，或者可能是另一种解决方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-30T07:16:39.713

有一个插件可以做到这一点：

繁重的工作插件

[https://wiki.jenkins-ci.org/display/JENKINS/Heavy+Job+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Heavy+Job+Plugin)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T13:59:12.627

很难确切地确定您在这里尝试做什么（也许您可以详细说明），但您是否探索过`build other projects`本节中的选项`post-build actions`？

您可以指定与主作业相关的作业的逗号分隔列表。还有一个方便的`trigger only if build succeeds`选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T20:56:46.340

您可以增加执行者的数量...这是在 Manage Jenkins > Configure System > # of executors 中设置的

有关更多详细信息，请参阅此线程：[Jenkins - 最大并发作业数](https://stackoverflow.com/questions/9626899/jenkins-maximum-number-of-concurrent-jobs)

# html - HTML、CSS 粘滞页脚（不断增长的内容）

> ID：15076201
> 
> 赞同：4
> 
> 时间：2013-02-25T20:48:35.507
> 
> 标签：html, css, sticky-footer, dynamic-content

我试图在具有动态高度（不断增长的内容）的 div 底部获得一个粘性页脚。div 需要浮动在页面中间（左右距离相同）。

我有以下 HTML（去掉了不相关的东西）：

```
<html>
<body>
  <div class="bodybackground">
    <div class="container"><!-- floats in the middle -->
      <div class="mainContainer"><!-- different color etc -->
        <!-- content with dynamic height -->
      </div>
      <footer class="pagefooter"></footer>
    </div> 
  </div>
</body>
</html> 
```

和下面的 CSS（也去掉了不相关的东西）：

```
html {
  height: 100%;
  margin: 0px;
  padding: 0px; 
}
body { 
  margin: 0px;
  height: 100%; 
}
.bodybackground {
  height: 100%;
  min-height: 100%;
}

.container { 
  min-height: 100%;
  display: inline-block; /* needed make it float in the middle of body */
  top: 0px;
  position: relative;
  padding: 0px;
  padding-bottom: 158px; /* height of footer */
}
.mainContainer {
  position: absolute;
  height: 100%;
  overflow: auto;
}
.pagefooter {
  position: absolute;
  bottom: 0px;
  margin: 0px;
  padding: 0px;
  height: 158px; 
} 
```

然而 mainContainer 的内容浮出并继续在页脚后面 - 而不是页脚位于最底部。我已经尝试了几乎所有我能找到的东西，除了那些迫使我改变容器的显示属性的例子，因为我需要它来让它保持在中间浮动。

关于我在哪里是个白痴的任何线索？谢谢！！

* * *

我需要更多地使用.push，但这解决了问题！感谢您及时回复！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T03:16:52.793

通过使用 absolute，页脚和 mainContainer 取决于您放置它们的位置。如果您使用 absolute 并将页脚设置为底部，它只会粘在视口的底部。

对于粘性，您应该在需要时使用相对单位和正确的高度。

```
html, body { width:100%; height:100%; }
#wrap { 
min-height:100%;
height:auto !important;
height:100%;    
margin: 0 auto -158px;  /* Bottom value must = footer height */
}

.pagefooter, .push { width:100%; height:158px; position:relative; bottom:0; } 
```

订单进行

```
 <div id="wrap">
 <!--All of your content goes here-->
 <div class="push"></div>
 </div>
 <div class="pagefooter"></div> 
```

这样，页脚总是有足够的空间并设置在底部。包裹内的边距：自动将使包裹居中（只要它不是宽度：100％，它将在没有内联的情况下居中）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:58:33.790

因此，您正在寻找具有居中组件的粘性页脚。最简单的方法是在底部创建一个固定位置的元素，其中包含一个居中的 div（基本上，一个具有指定宽度和边距的 div：auto）。

[你可以在http://jsfiddle.net/gHDd8/](http://jsfiddle.net/gHDd8/)看到一个例子——CSS基本上是

```
.outerBlockElement {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
}

.innerBlockElement {
    width: 50%;
    margin: auto;
} 
```

HTML相当于

```
<div class="outerBlockElement">
    <p class="innerBlockElement">I am sticky footer text!</p>
</div> 
```

粘性页脚位于视口底部，位于页面中心。

# c# - 根据可打印区域和字符/行数计算字体大小

> ID：15076202
> 
> 赞同：0
> 
> 时间：2013-02-25T20:48:41.137
> 
> 标签：c#, wpf, printing, font-size

我想使用等宽字体打印文本，宽 80 个字符，高 66 个字符。目标是模拟将原始文本发送到冲击式打印机。

这是一些代码：

```
public void Print(string printerName, string text, string desc = "")
{
    PrintDialog dialog = new PrintDialog();
    PrintQueue queue = new LocalPrintServer().GetPrintQueue(printerName);
    dialog.PrintQueue = queue;

    PageImageableArea area = queue.GetPrintCapabilities(dialog.PrintTicket).PageImageableArea;

    TextBlock block = new TextBlock();
    block.FontFamily = new FontFamily("Courier New");
    block.Margin = new Thickness(area.OriginWidth, area.OriginHeight, area.OriginWidth, area.OriginHeight);
    block.FontSize = ???
    block.Text = text;
    block.Measure(new Size(area.ExtentWidth, area.ExtentHeight));
    block.Arrange(new Rect(new Point(0, 0), block.DesiredSize));

    dialog.PrintVisual(block, desc);
} 
```

我的理解是 PageImageableArea 给了我哪些是我`area.ExtentWidth`的`area.ExtentHeight`实际打印尺寸（以像素为单位），`area.OriginWidth`哪些`area.OriginHeight`是我的边距大小（以像素为单位）。

如果我想在页面上准确地放置 80 个字符，则每个字符都应该是`area.ExtentWidth / 80`宽的，以像素为单位。我的`area.ExtentWidth`打印机是 768，所以每个字符应该是 9.6 像素宽。

此外，如果我想在我的页面上精确放置 66 行，则每行都应该`area.ExtentHeight / 66`很高，以像素为单位。我的`area.ExtentHeight`打印机是 1038.66，所以每行应该是 15.7 像素高。

使用这些输入，我如何选择一个 FontSize ，其中每个字符都是 X 像素宽，并且在包装时会导致每行是 Y 像素高？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:01:32.927

首先选择要打印的字体大小固定，例如 Courier New。这将为您提供已知的字符尺寸并极大地简化计算。与打印机打交道时，最好使用 Twips 而不是“像素”，因为 twip/像素比率会根据您的显示器/操作系统设置等变化很大。可以在此处找到有关渲染模式的好文章/答案；[如何在 .NET 中将缇转换为像素？](https://stackoverflow.com/questions/4044397/how-do-i-convert-twips-to-pixels-in-net)

在处理打印时使用缇的原因是因为它与字体点大小非常接近。字体“点”是 1/72 英寸。同样，一英寸有 1440 缇。因此，每个字体“点”有 20 缇 (1440 / 72)。

一旦有了可以准确控制的固定字体大小，您概述的计算将为您提供字体大小。例如，如果您有 648*缇*的可用打印空间，则除以 72，您将获得 9 的字体“点”以在您的应用程序中使用。

# jira - JIRA 问题导航器到期日期格式

> ID：15076203
> 
> 赞同：0
> 
> 时间：2013-02-25T20:48:46.123
> 
> 标签：jira

默认情况下，JIRA 问题导航器使用模式显示截止日期列值：`yyyy-MM-dd`或`dd/MM/yy`。

是否也可以显示小时和分钟？

例如使用日期格式模式`yyyy-MM-dd HH:mm`。

PS [本文](https://confluence.atlassian.com/display/JIRA051/Showing+Extended+Timestamp+in+the+Created+Column+of+the+Issue+Navigator)展示了如何更改已创建（以及已更新）列的格式。
奇怪，但它不适用于系统到期日期列...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:31:39.270

系统到期日期字段在 DueDateSystemField.java 中实现，它使用模板 atlassian-jira/WEB-INF/classes/templates/jira/issue/field/duedate-view.vm 来呈现该字段的视图。不幸的是，只有日期的格式化字符串被传递给模板。不过，您还需要更改编辑模板以使用日期时间选择器。

我的建议是创建您自己的日期时间类型的自定义字段，而不是日期选择器并使用它。

# sql - 在带有日期限制的 SQL 记录中搜索

> ID：15076205
> 
> 赞同：2
> 
> 时间：2013-02-25T20:48:48.250
> 
> 标签：sql, sql-server

我的目标是在过去 48 小时内生成一个不含任何包含“OBC”短语的注释的订单号列表。

这就是我所拥有的。每次将注释添加到订单时，它都会作为具有唯一时间戳的唯一记录保存在我的数据库中，如下所示 -

```
**Date**  | **Order Number** | **Note**
2/10/2013        7             OBC - Got customer approval to perform virus removal
2/28/2013        7             removed virus from system
2/28/2013        8             OBC - updated customer on status of their job
2/28/2013        8             new hard drives in stock for this system 
```

查询需要包含 7，因为最后一次出现在订单 7 中的“OBC”是在 48 小时前。它不需要包括 8，因为 8 在过去 48 小时内有一个“OBC”。

我完全不知道如何编写这个查询。

我知道的 -

1) 如何使用带有 datediff 和 getdate 的“have”子句仅隔离过去 48 小时内创建的笔记

2）如何使用 where 子句仅显示注释不包含“OBC”的那些行

我不知道的-

1) 我如何让查询说：“好的，我将列出过去 48 小时内没有 OBC 短语的所有订单！首先，我要将订单 7 放在此列表中，因为它确实“在过去的 48 小时内没有 OBC。其次，我不会将订单 8 放在此列表中，因为与它相关的注释上写着过去 48 小时的 OBC。”

任何指导/帮助始终不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T20:56:59.300

我认为这可以满足您的要求：

```
select order_number
from t
having sum(case when DATEDIFF(day, date, getdate()) < 2 and
                     Note like '%OBC%'
                then 1 else 0
           end) = 0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:00:50.540

```
declare @Temp table ( id int identity, dt date, dsc varchar(256) );

insert into @Temp values ('2-1-13', 'OBC did something'),('2-2-13', 'OBC did something else'),('2-3-13', 'I am data but not what you want'),('2-4-13', 'OBC did something yet again')

-- everything as is
select *
from @Temp
;

with a as 
    (
    Select 
        Id
    ,   min(Dt) over() as firstDtOFOBC
    from @Temp
    where dsc like '%OBC%'
    )
select *
from a
    join @temp x on x.Id = a.Id
        and x.Dt < dateadd(day, 3, a.FirstDtOFOBC)
        -- I only want dates less than three days of first occurrence 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:55:43.927

作为 CTE 粉丝*（使用 CTE 锤子，一切看起来都像 CTE 钉子！）*我玩过
[http://sqlfiddle.com/#!3/1dd82/16](http://sqlfiddle.com/#!3/1dd82/16)

```
-- CREATE table Temp1
--  ( id int, date1 datetime, dsc varchar(256) )

With Notes as -- Later entries : without 'OBC'
( SELECT * FROM Temp1
  WHERE NOT(dsc like '%OBC%')
)
SELECT * FROM Notes 
WHERE EXISTS
  (SELECT id FROM Temp1 here
   WHERE here.id=Notes.id
     AND (dsc like '%OBC%')
     AND (DATEDIFF(day, date1, getdate()) > 2)
  ) -- entries with 'OBC' for same id in last 2 days 
```

不知道这有多优雅，但我觉得它可读:)

**编辑**
并证明这是一个大锤，因为在这种情况下需要 CTE 太简单了......

```
SELECT * from Temp1
WHERE NOT(dsc like '%OBC%')  -- Later entries : without 'OBC'
  AND EXISTS
   (SELECT id FROM Temp1 here
    WHERE here.id=Temp1.id
      AND (dsc like '%OBC%')
      AND (DATEDIFF(day, date1, getdate()) > 2)
   ) -- entries with OBC for same id in last 2d 
```

# parsing - 在 flex 词法分析器中与“if”匹配

> ID：15076207
> 
> 赞同：0
> 
> 时间：2013-02-25T20:48:49.897
> 
> 标签：parsing, flex-lexer, lexical-analysis

我正在尝试在 flex 中编写一段与“if”关键字匹配的代码。当我写：

```
if printf("Saw an if"); 
```

它匹配但它也匹配，例如，如果输入是**abcdifcd**，输出变为**abcdSaw 一个 ifcd**，但我想要无效，即输出必须是**abcifcd**因为它是无效的。换句话说，我希望它仅在单独找到关键字“if”时才有效，例如，我希望**if abcd**或**abcd if**有效，但**ifa、aif**等无效。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T23:36:13.703

您需要添加一个匹配“单词”的规则，无论您认为它们是什么。请记住将“如果”的规则放在首位。例如：

```
"if"         printf("Saw a if");
[a-zA-Z]+    ECHO 
```

# javascript - 使用 JQuery 中的锚标记从另一个页面中选择特定选项卡

> ID：15076210
> 
> 赞同：0
> 
> 时间：2013-02-25T20:48:58.200
> 
> 标签：javascript, drop-down-menu, tabs, hyperlink, anchor

尝试将下拉菜单子页面链接到另一个页面上的选定选项卡。此处的下拉菜单：[http](http://arreolatran.com/clients/new_horizons/) ://arreolatran.com/clients/new_horizo​​ns/，尝试链接到此处选定的侧导航选项卡：http://arreolatran.com/clients/new_horizo​​ns/about- [us.html](http://arreolatran.com/clients/new_horizons/about-us.html)。例如，转到关于我们下拉菜单 > 选择我们的专业知识（子页面） - 链接无效。它转到正确的页面，但没有选择正确的选项卡。下拉菜单导航代码：

```
<div id="nav">
    <a href="index.html"><div class="nhImgs logo"></div></a>
    <ul id="pages">
        <li>
            <a href="about-us.html">About Us<div class="nhImgs caret"></div></a>
            <ul>
                <li><a href="about-us.html#ourExpertise">Our Expertise</a></li>
                <li><a href="about-us.html#whyChooseUs">Why Choose Us?</a></li>
                <li><a href="about-us.html#tammy">Dr. Tammy Mondry</a></li>
                <li><a href="about-us.html#joe">Dr. Joe Mondry</a></li>
            </ul>
        </li>
        <li>
            <a href="lymphedema.html">Lymphedema<div class="nhImgs caret"></div></a>
            <ul>
                <li><a href="lymphedema.html#idLymph">Identifying Lymphedema</a></li>
                <li><a href="lymphedema.html#examplesLymph">Examples of Lymphedema</a></li>
                <li><a href="lymphedema.html#lymphTreat">Lymphedema Treatment</a></li>
                <li><a href="lymphedema.html#lymphFaqs">Lymphedema FAQs</a></li>
                <li><a href="lymphedema.html#lymphProd">Products</a></li>
            </ul>
        </li>
        <li>
            <a href="cancer-rehabilitation.html">Cancer Rehabilitation<div class="nhImgs caret"></div></a>
            <ul>
                <li><a href="cancer-rehabilitation.html#benefitsExe">Benefits of Exercise</a></li>
                <li><a href="cancer-rehabilitation.html#assessTest">Assessment and Testing</a></li>
                <li><a href="cancer-rehabilitation.html#programSpec">Program Specifics</a></li>
                <li><a href="cancer-rehabilitation.html#cancerExeFaqs">Cancer &amp; Exercise FAQs</a></li>
            </ul>
        </li>
        <li>
            <a href="patient-guide.html">Patient Guide<div class="nhImgs caret"></div></a>
            <ul>
                <li><a href="patient-guide.html#publications">Publications</a></li>
                <li><a href="patient-guide.html#downloadsForms">Downloads/Forms</a></li>
                <li><a href="patient-guide.html#relatedInfo">Related Information</a></li>
            </ul>
        </li>
        <li>
            <a href="contact-us.html">Contact Us</a>
        </li>
    </ul>
</div> 
```

Sidenav 选项卡代码：

```
<div class="sideNavCont">
    <div id="sidenav">
        <ul class="colL">
          <li class="sidenavHdrText"><a href="#about1">About Us</a></li>
          <li><a href="#expertise2">Our Expertise</a></li>
          <li><a href="#why3">Why Choose Us?</a></li>
          <li><a href="#tammy4">Dr. Tammy Mondry</a></li>
          <li><a href="#joe5">Dr. Joe Mondry</a></li>
        </ul>

        <div id="about1" class="sideNavColR">
          <ul>
            <h1 id="aboutUs" class="pageTtl">About Us</h1>
              <p>Content here.</p>
        </div>

        <div id="expertise2" class="sideNavColR">
          <ul>
                <h1 id="ourExpertise">Our Expertise</h1>
              <p>Content here.</p>
          </ul>    
        </div>

        <div id="why3" class="sideNavColR">
          <ul>
              <h1 id="whyChooseUs">Why Choose Us</h1>
              <p>Content here.</p>
            </ul>    
        </div>

        <div id="tammy4" class="sideNavColR">
          <ul>
              <h1 id="tammy">Dr. Tammy Mondry</h1>
              <p>Content here.</p>
          </ul>    
        </div>

        <div id="joe5" class="sideNavColR">
          <ul>
              <h1 id="joe">Dr. Joe Mondry</h1>
              <p>Content here.</p>
          </ul>    
        </div>
    </div>
</div> 
```

用于 sidenav 选项卡的 JS：

```
// JavaScript Document
$(function () {
    $('#sidenav div').hide();
    $('#sidenav div:first').show();
    $('#sidenav ul li:first').addClass('active');
    $('#sidenav ul li a').click(function () {
        var currentTab = $(this).attr('href');
        var vis = $(currentTab).is(':visible');
        $('#sidenav div').hide();
        $('#sidenav ul li').removeClass('active');
        $(this).parent().addClass('active');
        if (vis) {
            $(currentTab).hide();
        } else {
            $(currentTab).show();
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T22:54:37.423

我认为你很接近，但有几件事需要修改。在尝试以下任何操作之前备份您当前的文件。

为您的侧边栏导航尝试以下 JS：

```
// JavaScript Document
$(document).ready(function() {
    $('#sidenav div').hide();
    $('#sidenav div:first').show();
    $('#sidenav ul li:first').addClass('active');

    function handleNavSwitch(linkObj) {
    var currentTab = $(linkObj).attr('href');
    if (currentTab.substr(0, 1) != '#') return;

        var vis = $(currentTab).is(':visible');
    if (!vis) {
            $('#sidenav div').hide();
            $('#sidenav ul li').removeClass('active');
            //$(linkObj).parent().addClass('active');
        var hashTag = currentTab.substr(1);
        $('#sidenav ul li a[href="#'+hashTag + '"]').parent().addClass('active');
        $(currentTab).show();
        }  
    }

    $('#nav ul li a, #sidenav ul li a').click(function() { handleNavSwitch(this); });
    // Check if hash exists
    if(window.location.hash) {
    // Retrieve hash value (not including the "#")
    var hashTag = window.location.hash.substr(1);
    // Make sure that there's an actual value for the hash
    if (hashTag.length > 0) {
        // Find the link with the matching 
        var $link = $('#sidenav ul li a[href="#'+hashTag + '"]');

        //if ($link.length > 0) handleNavSwitch( $link.get(0) );
        if ($link.length > 0) $link.trigger('click');
    }
    }

}); 
```

上述更改考虑到您需要能够：

1.  从顶部/主导航以及侧面导航导航到内容部分（即我们的专业知识、为什么选择我们等）。
2.  考虑链接的哈希部分，例如#ourExpertise、#whyChooseUs。

您还需要解决链接中的一些一致性问题。例如，在关于我们的链接中，您使用#ourExpertise、#whyChooseUs、#tammy 和#joe。然后在您的侧边栏代码中，您有#expertise2、#why3、#tammy4 和#joe5。这些名称应该相同......所以将对#expertise2的引用更改为#ourExpertise等。

最后，由于您实现这一点的方式，您可能还必须调整每个页面上的标题菜单链接。例如，在提供的示例中，您有“about-us.html#ourExpertise” - 但是，要使上述更改生效，您需要从 URL 中删除“about-us.html”，以便它只是“#ourExpertise” ...这仅适用于 about-us.html 页面。在lymphedema.html 页面上，您需要从菜单链接等中删除lymphedema.html，这样您就可以使用#idLymph 而不是lymphedema.html#idLymph。

# sql - SQL Server 2008：多个连接列到行？

> ID：15076215
> 
> 赞同：1
> 
> 时间：2013-02-25T20:49:15.460
> 
> 标签：sql, sql-server, pivot

有人试图将 SQL Server 中的数据提取为更易于 Excel 操作的格式。这是来自 SQL Server 的示例数据。注意：我将文本从我们的行业特定内容更改为汽车类比，仅此而已：

**表：产品**

```
products_id | products_model
============================
100         | Saturn Vue
200         | Toyota Prius
300         | Ford Focus 
```

**表：类别**

```
categories_id | categories_name
===============================
1             | Leather Seats
2             | Heated Seats
3             | Tapedeck
4             | Heater
5             | Hybrid
6             | Sunroof
7             | Cruise Control 
```

**表：Products_Categories**

```
products_id | categories_id
===========================
100         | 3
200         | 1
200         | 4
200         | 5
300         | 4
300         | 7 
```

## 这就是他们希望结果/输出的样子：

```
products_id | products_model | Leather Seats | Heated Seats | Tapedeck | Heater | Hybrid | Sunroof | Cruise Control
===================================================================================================================
100         | Saturn Vue     | N             | N            | Y        | N      | N      | N       | N
200         | Toyota Pruis   | Y             | N            | N        | Y      | Y      | N       | N
300         | Ford Focus     | N             | N            | N        | Y      | N      | N       | Y 
```

我不知道如何让它工作。我尝试使用 PIVOT，但它对我来说太复杂了。我会接受任何类型的解决方案，只要最终结果看起来像上面的那个。

创建脚本位于[SQLFiddle](http://www.sqlfiddle.com/#!3/315dd)中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:55:16.530

您可以使用该`PIVOT`函数来转换此数据：

```
select products_id,
  products_model,
  Isnull([Leather Seats], 'N') [Leather Seats], 
  Isnull([Heated Seats], 'N') [Heated Seats],
  Isnull([Tapedeck], 'N') [Tapedeck], 
  Isnull([Heater], 'N') [Heater], 
  Isnull([Hybrid], 'N') [Hybrid], 
  Isnull([Sunroof], 'N') [Sunroof],
  Isnull([Cruise Control], 'N') [Cruise Control]
from
(
  select p.products_id,
    p.products_model,
    c.categories_name,
    'Y' flag
  from products p
  left join Products_Categories pc
    on p.products_id = pc.products_id
  left join Categories c
    on pc.categories_id = c.categories_id
) src
pivot
(
  max(flag)
  for categories_name in ([Leather Seats], [Heated Seats],
                          [Tapedeck], [Heater], 
                          [Hybrid], [Sunroof],
                          [Cruise Control])                        
) piv 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/315dd/2)。

如果`categories_name`值未知或不固定，则可以使用动态 sql：

```
DECLARE @cols AS NVARCHAR(MAX),
    @colsNull AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX)

select @cols = STUFF((SELECT distinct ',' + QUOTENAME(categories_name) 
                    from Categories
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colsNull = STUFF((SELECT ',IsNull(' + QUOTENAME(categories_name)+', ''N'')'+' as '+QUOTENAME(categories_name) 
                    from Categories
                    group by categories_name, categories_id
                    order by categories_id
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT products_id,
                  products_model,' + @colsNull + ' from 
             (
                select p.products_id,
                  p.products_model,
                  c.categories_name,
                  ''Y'' flag
                from products p
                left join Products_Categories pc
                  on p.products_id = pc.products_id
                left join Categories c
                  on pc.categories_id = c.categories_id
            ) x
            pivot 
            (
                max(flag)
                for categories_name in (' + @cols + ')
            ) p '

execute(@query) 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/315dd/6)

两个查询的结果是：

```
| PRODUCTS_ID | PRODUCTS_MODEL | LEATHER SEATS | HEATED SEATS | TAPEDECK | HEATER | HYBRID | SUNROOF | CRUISE CONTROL |
-----------------------------------------------------------------------------------------------------------------------
|         300 |     Ford Focus |             N |            N |        N |      Y |      N |       N |              Y |
|         100 |     Saturn Vue |             N |            N |        Y |      N |      N |       N |              N |
|         200 |   Toyota Prius |             Y |            N |        N |      Y |      Y |       N |              N | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:31:43.330

更容易理解的版本

```
select distinct 
  p.products_id
  ,p.products_model
  ,case when pc_ls.products_id is null then 'N' else 'Y' end as 'Leather Seats'
  ,case when pc_hs.products_id is null then 'N' else 'Y' end as 'Heated Seats'
  ,case when pc_td.products_id is null then 'N' else 'Y' end as 'Tapedeck'
  ,case when pc_ht.products_id is null then 'N' else 'Y' end as 'Heater'
  ,case when pc_hy.products_id is null then 'N' else 'Y' end as 'Hybrid'
  ,case when pc_sr.products_id is null then 'N' else 'Y' end as 'Sunroof'
  ,case when pc_cc.products_id is null then 'N' else 'Y' end as 'Cruise Control'
from products p
left join products_categories pc_ls on pc_ls.products_id = p.products_id and pc_ls.categories_id= 1
left join products_categories pc_hs on pc_hs.products_id = p.products_id and pc_hs.categories_id= 2
left join products_categories pc_td on pc_td.products_id = p.products_id and pc_td.categories_id= 3
left join products_categories pc_ht on pc_ht.products_id = p.products_id and pc_ht.categories_id= 4
left join products_categories pc_hy on pc_hy.products_id = p.products_id and pc_hy.categories_id= 5
left join products_categories pc_sr on pc_sr.products_id = p.products_id and pc_sr.categories_id= 6
left join products_categories pc_cc on pc_cc.products_id = p.products_id and pc_cc.categories_id= 7 
```

# dom - Fn 不更新 DOM，除非从浏览器附加的 REPL 调用

> ID：15076223
> 
> 赞同：0
> 
> 时间：2013-02-25T20:49:32.320
> 
> 标签：dom, clojurescript

我正在将一个 TODO 应用程序从 vanilla JavaScript 移植到 ClojureScript 中。到目前为止一切顺利，除了这个看起来很无辜的功能：

```
;; loop the @todo-list, write each todo at the end of the <body>
(defn show-todos []
  (js/alert "in show-todos")
  (map
   #(appendChild (.-body js/document) (.createTextNode js/document (str %)))
   @todo-list)) 
```

另一个函数执行并调用 show-todos 并且浏览器显示警报消息，但文档上没有任何更新。但是，如果我打开另一个终端并启动浏览器附加的 repl：

```
$ lein trampoline cljsbuild repl-listen
Running ClojureScript REPL, listening on port 9000.
"Type: " :cljs/quit " to quit"
ClojureScript:cljs.user> (in-ns 'todo-cljs.todos)
ClojureScript:todo-cljs.todos> (show-todos)
(#<[object Text]>) 
```

这实际上确实在屏幕上添加了待办事项列表的内容。我正在使用 lein-cljsbuild 插件版本 0.3.0。并且只有空白优化。

有小费吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:24:03.240

在 ClojureScript 谷歌组上得到了一个快速的答案：

问题是**地图**是懒惰的，来自文档：

> 返回由应用结果组成的惰性序列...

使用 repl 强制在集合上评估地图（@todo-list）。建议的修复：

*   将呼叫从 更改`(map fn coll)`为`(doseq coll fn)`
*   `(doall (map...`- 如果你想要地图的结果
*   `(dorun (map...`- 如果你不

就我而言，`dorun`做得很好。

# c# - C# MVC 和 jQuery AJAX - 一般遇到表单帖子和历史问题的问题

> ID：15076225
> 
> 赞同：0
> 
> 时间：2013-02-25T20:49:34.913
> 
> 标签：c#, jquery, ajax, asp.net-mvc, asp.net-mvc-4

当用户请求不同的页面时，我有一个应用程序可以做一些很好的事情。它不是转到那个页面，而是将页面的内容加载到现有页面中（使用 jquery 的 .load()）。这很好用。

我的应用程序的控制器工作得很好。我可以请求一个视图，然后提交表单，该表单通过控制器路由并使用各种模型类提交回数据库。

这一切都很好地发生在他们自己身上。

问题是，如果我有一个名为 /newgranny/ 的页面，并且我从家导航到该页面，用户只会在地址栏中看到根目录。不可取。更糟糕的是，当我提交 /newgranny/ 表单时，它不会转到 /newgranny/，而是转到 /，因为从技术上讲，我仍然处于根目录。表单未提交，数据丢失。这不好。我正在失去奶奶。对于 /updategranny/ 或具有返回自身的表单的任何其他页面也是如此。

我正在使用的方法有替代方法吗？是否有解决该问题的 js 解决方案 - 可以在不更改位置的情况下处理更改位置的跨浏览器？

我研究了历史插件。我见过的所有这些都处理主题标签。我不想加载页面上已经存在的东西 - 这不是主题标签的作用吗？

解决方案很快就失败了，我打算删除 .load() 以及它与之一起执行的所有冷却。任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:58:41.960

不确定我们这个答案，但你告诉表单在哪里发布 Html.BeginForm("granny", "Add", FormMethod.Post))

# html - 从框架集/框架更改为 iframe

> ID：15076235
> 
> 赞同：4
> 
> 时间：2013-02-25T20:50:15.207
> 
> 标签：html, iframe

我正在刷新一个老一代的基于服务器的 Web 应用程序，它广泛使用了框架集和框架。我理解为什么框架不好，而 iframe 是更好的、符合 HTML5 的解决方案。

我正在努力实现的是 iframe 等价于易于使用框架执行的操作：固定宽度的左侧“菜单”框架和填充剩余可用宽度的右侧“内容”框架，高度均为 100%。

使用框架集，它很简单：`<frameset cols="300,*">...</frameset>`

对于 iframe，“*”不允许指定余数，尺寸必须指定为 px 或 %。百分比听起来应该是理想的，但事实并非如此：如果我将浏览器设置为 4000 像素宽，我希望所有额外的空间都进入内容，而不是菜单。

已经广泛搜索，无法弄清楚。我确信有一个简单的基于 css、非 js、HTML5 兼容的方法来做到这一点，但我不知道如何做。提前致谢。

# java - Jsoup 选择没有标签的链接

> ID：15076236
> 
> 赞同：0
> 
> 时间：2013-02-25T20:50:24.113
> 
> 标签：java, jsoup

我正在使用 JSOUP 从 html 正文中过滤链接。

我使用这些选择器：

```
Elements links = doc.select("a[href]"); // Select all links
links.select("a[href*=#]").remove(); // remove links containing # 
```

但是仍然有包含主题标签的链接。这怎么可能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:30:50.433

Elements 上的`remove()`方法不会从 Elements 本身中删除匹配项，而是从关联的 Document 对象中删除匹配项。

例如，如果您有：

```
<html>
 <body>
  <a href="#someid"></a>
  <a href="http://www.google.pt"></a>
 </body>
</html> 
```

之后`links.select("a[href*=#]").remove();`你会：

```
<html>
 <head></head>
 <body>  
  <a href="http://www.google.pt"></a>  
 </body>
</html> 
```

如果你想选择所有非标签链接，你可以这样做：

```
Elements links = doc.select("a[href~=[^#]*"); 
```

# ruby-on-rails - 如何防止捆绑器抱怨 sys-proctable gem？

> ID：15076244
> 
> 赞同：3
> 
> 时间：2013-02-25T20:50:44.943
> 
> 标签：ruby-on-rails, ruby, rubygems, bundler

我无法使用 bundle 安装 sys-proctable。即使安装了它也不会停止抱怨：

```
$ gem install sys-proctable --platform universal-linux
Fetching: sys-proctable-0.9.2-universal-linux.gem (100%)
Successfully installed sys-proctable-0.9.2-universal-linux
1 gem installed

$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching gem metadata from https://rubygems.org/..
Could not find sys-proctable-0.9.2 in any of the sources

$ bundle install --platform universal-linux
Unknown switches '--platform'

$ bundle config build.sys-proctable --platform univeral-linux

$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching gem metadata from https://rubygems.org/..
Could not find sys-proctable-0.9.2 in any of the sources

$ bundle install --without production
Fetching gem metadata from https://rubygems.org/.........
Fetching gem metadata from https://rubygems.org/..
Could not find sys-proctable-0.9.2 in any of the sources

$ grep proctable Gemfile

$  rails console
You have requested:
  pg = 0.12.2

The bundle currently has pg locked at 0.12.2.
Try running `bundle update pg`
Run `bundle install` to install missing gems.

$ uname -a
CYGWIN_NT-5.1 dumbopc 1.7.17(0.262/5/3) 2012-10-19 14:39 i686 Cygwin 
```

[宝石文件： http](http://pastebin.com/Fre28yTp) ://pastebin.com/Fre28yTp

`gem list --local`： http: [//pastebin.com/yP0sbHF2](http://pastebin.com/yP0sbHF2)

尝试添加`gem 'sys-proctable', '~>0.9.2', :git => 'git://github.com/djberg96/sys-proctable.git'`到 Gemfile，但没有奏效：

```
$ bundle install
Updating git://github.com/djberg96/sys-proctable.git
Fetching gem metadata from https://rubygems.org/.........
Fetching gem metadata from https://rubygems.org/..
Resolving dependencies...
Could not find gem 'sys-proctable (~> 0.9.2) ruby' in git://github.com/djberg96/sys-proctable.git (at master).
Source contains 'sys-proctable' at: 0.9.2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:58:33.363

除非您展示您的，否则无法确定，`Gemfile`但您要求的宝石似乎`sys-proctable-0.9.2`不是`sys-proctable`，

确实，您需要`bundle config build.sys-proctable --platform univeral-linux`在安装之前使用才能获得所需的响应，但 gem 名称是`sys-proctable`.

**编辑**

在此问题[https://github.com/djberg96/sys-proctable/issues/24](https://github.com/djberg96/sys-proctable/issues/24)之后，您似乎可以检查您是否真的需要它，`irb`如果可以，请使用它，关于您可以关注和需要的烦人消息它是来自本地目录或直接来自其`git`存储库的路径。

要么作为`gem 'sys-proctable', :git => 'git://github.com/djberg96/sys-proctable.git'`

或者

`gem 'sys-proctable', :path => 'path/to/gem/inside/project'`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T16:41:37.720

尝试运行`rm Gemfile.lock`然后运行`bundle install`。

Gemfile 中的 gem 应该如下所示： `gem 'sys-proctable', :git => 'git://github.com/djberg96/sys-proctable.git'`

**额外帮助：**

当我尝试迁移到 jRuby 时遇到了这个问题。如果你做了同样的事情，并且你部署到 Heroku，也进行这些编辑：

在您的 Gemfile 中删除`sqlite3`gem 和`pg`gem。用这些替换它们：

`gem 'activerecord-jdbcsqlite3-adapter'`
`gem 'activerecord-jdbcpostgresql-adapter'`

# php - wp_remote_request 远程获取只有登录用户才能访问的文件

> ID：15076245
> 
> 赞同：1
> 
> 时间：2013-02-25T20:50:52.430
> 
> 标签：php, wordpress, authentication, shopp

我正在开发一个具有升级选项的插件。客户从我的销售网站（也运行 Wordpress）购买插件后，他们会获得 Shopp 生成的下载密钥和下载 URL。例如：

```
$url = 'https://mysalessite.com/products/account/download/5cad290d109a519cdbdb6197307bd378ae1aa25f/'; 
```

我希望客户端能够在插件选项中输入他们的用户名、密码和下载密钥并自动接收升级包。但是，显然，当我使用：

```
$response = wp_remote_request( $url ); 
var_dump( $response ); 
```

唯一返回的是登录屏幕，因为用户没有登录。

我偶然发现了[http://lud.icro.us/wordpress-http-api-basicauth](http://lud.icro.us/wordpress-http-api-basicauth)的建议，并尝试使用

```
$args = array(
     'headers' => array(
          'Authorization' => 'Basic ' . base64_encode( 'username:passw0rd' )
     )
);
$response = wp_remote_request( $url, $args ); 
```

但它仍然返回登录屏幕`$response`，而不是购买的文件。

# iphone - 神秘的 .dat0000.000 文件淹没了我的应用程序文档文件夹

> ID：15076248
> 
> 赞同：4
> 
> 时间：2013-02-25T20:51:01.273
> 
> 标签：iphone, ios, objective-c

我的一个应用程序已经在应用程序商店上架了很长一段时间，事实证明它非常可靠和稳定。

今天我收到一封来自用户的电子邮件，他报告说在他的公司中，该应用程序的多次安装已经开始逐渐占用大量磁盘空间，在一台设备上高达 5 GB！通常，即使多年来生成的用户数据，应用程序也不会超过 10 MB。

使用 iPhone Explorer 仔细检查后，客户在我的应用程序文件夹中发现了大量文件，每个文件的大小在 20 到 35 MB 之间。

这些文件被命名，例如：.dat0065.01f 或 .dat009c.014，它们不属于那里。我的应用程序不是（故意）编写这些，我以前从未听说过它们，我从未在我的设备上我的应用程序的文件夹中看到类似的文件。

那么，他们来自哪里？

这可能是一些（第 3 方）框架变得疯狂吗？我正在使用 Dropbox、testflight、GDataXML。

命名方案是否为您敲响了警钟？

当它没有出现在我的设备上时，我什至如何开始调试它？

对此的任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:15:52.170

您提到的 TestFlight 框架允许跟踪 beta 测试人员如何使用该应用程序。在阅读了他们的文档后，我注意到了一个关于日志记录的部分。TestFlight 能够将数据记录到文件中，然后在 Session End 事件中将该数据发送到他们的服务器。此功能默认**开启**。

这是一面红旗。我会从那里开始。

参考：[TestFlight SDK 文档](https://testflightapp.com/sdk/doc/1.0/)

# javascript - 另一个 div 内的 div 偏移

> ID：15076250
> 
> 赞同：4
> 
> 时间：2013-02-25T20:51:05.723
> 
> 标签：javascript, jquery, css

我的情况类似于下图中的情况，其中 DIV1 有`overflow-y: scroll`，其中一个子 div 有 class `active`。我不知道他的位置，也不知道从顶部的偏移量。如何在 DIV 1 中找到子 div 的位置并滚动到具有活动类的子可见为止。

我不介意你使用 jQuery 还是纯 js。但我更喜欢 jQuery。

![显示的 div 内的 div](../Images/fc34d90d01181bf820397d21dc020c39.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:04:18.320

你必须使用`.position()`jQuery的方法。[http://api.jquery.com/position/](http://api.jquery.com/position/)

如果你设置`div1`了`position: relative`这个方法，你就会从 div1 的左上角偏移，所以

```
$('.div1').get(0).scrollTop($('.div1 div.active').position().top); 
```

应该做的伎俩。

# iphone - 在 drawRect 中绘制形状会移除渐变

> ID：15076259
> 
> 赞同：0
> 
> 时间：2013-02-25T20:52:03.297
> 
> 标签：iphone, ios, objective-c, xcode, ipad

我对核心图形很陌生。

基本上我有一个绘制渐变背景的视图，我试图用另一个视图创建这个视图的子类，然后在这个子类中绘制一个三角形。

发生的情况是没有绘制渐变。我怀疑是因为我的子类在 drawRect 中绘制了一个三角形（超级绘制它的渐变），我的子类覆盖了 drawRect 方法并且超级被忽略了。

如何同时绘制渐变和三角形？

这是我的子类 drawRect 的代码

```
- (void)drawRect:(CGRect)rect
{
     // get the current content
CGContextRef context = UIGraphicsGetCurrentContext();

CGFloat buttonHeight = self.bounds.size.height;
CGFloat buttonWidth = self.bounds.size.width;

// draw triangle
UIBezierPath *path = [UIBezierPath bezierPath];

[path moveToPoint:CGPointMake(buttonWidth / 2, buttonHeight * .75)];
[path addLineToPoint:CGPointMake(buttonWidth * .75, buttonHeight * .25)];
[path addLineToPoint:CGPointMake(buttonWidth * .25,buttonHeight * .25)];

CGContextAddPath(context, path.CGPath);
CGContextClip(context);
[_arrowColor set];
[path fill];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:54:03.023

如果您`[super drawRect:rect];`在子类的开头调用 drawRect: 那么它将首先绘制渐变，然后是三角形。

# html - 对象应该有自己的 Z-index 吗？

> ID：15076261
> 
> 赞同：0
> 
> 时间：2013-02-25T20:52:05.840
> 
> 标签：html, web

所以我正在转换一些旧代码，在其中我发现每个文本框、标签和下拉菜单都有自己唯一的 Z-Index。现在，我认为这很简单（我们没有隐藏任何对象，通常是在我使用 Z-Indexes 时）但是当我与同事交谈时，他们说一切都应该有自己的 Z-Index（以满足 HTML 标准）。

我尝试了谷歌搜索，但我发现的大多数链接都只是重叠。这是 HTML 标准吗？在过去的 10 年里，我是否错过了这个标准，只是幸运地从未被它惹恼过？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:13:34.580

如果您对 IE 7 及更低版本进行旧版支持，并且页面中有任何相对或绝对定位的元素，则 z-indexes 可能是必要的，因为 IE 6 和 7 尤其难以计算分层对象（注意：与显示属性）。IE6 存在问题，尤其是绝对定位的输入字段。检查定位，如果是绝对定位还是相对定位，则可以。这听起来像是前一段时间的遗留 CSS，有人试图用 div 做可能应该用表格做的事情（当时）。我不熟悉任何关于将 z-index 应用于每个元素的一般最佳实践，但我确实记得前一段时间 Dreamweaver 中的一个旧表单构建器就是这样做的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T20:52:59.603

**不需要**指定Z 索引。无论如何，它们是 CSS 的一部分，而不是 HTML。

# objective-c - 概述系统窗口

> ID：15076262
> 
> 赞同：0
> 
> 时间：2013-02-25T20:52:07.997
> 
> 标签：objective-c, xcode, cocoa, nswindow

我试图勾勒出一个类似于 Mission Control 和 Exposé 的窗口。我创建了一个`NSWindow`透明的自定义，其轮廓与[此问题](https://stackoverflow.com/questions/15007580/rounded-nsview-in-a-transparent-window)类似，但我根本不希望用户与此窗口进行交互。

有没有办法做到这一点？

下面是我一直在调用的自定义 NSWindow

```
windowOutline = [[WindowOutline alloc] initWithContentRect:rect styleMask:1 backing:NSBackingStoreBuffered defer:false];
    [windowOutline makeKeyAndOrderFront:self];
    [windowOutline drawRect:rect]; 
```

* * *

```
- (id)initWithContentRect:(NSRect)contentRect
                styleMask:(NSUInteger)windowStyle
                  backing:(NSBackingStoreType)bufferingType
                    defer:(BOOL)flag
{
    self = [super
            initWithContentRect:contentRect
            styleMask:NSBorderlessWindowMask
            backing:bufferingType
            defer:flag];
    if (self)
    {
        [self setOpaque:NO];
        [self setBackgroundColor:[NSColor clearColor]];
    }
    return self;
}

- (void)drawRect:(NSRect)frame {
    frame = NSInsetRect(self.frame, 3.0, 3.0);

    [NSBezierPath setDefaultLineWidth:6.0];

    NSBezierPath *path = [NSBezierPath bezierPathWithRoundedRect:frame
                                                         xRadius:6.0 yRadius:6.0];
    [[NSColor redColor] set];
    [path stroke];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:28:25.433

你已经成功了一半。[您需要按照您已经找到的答案中的](https://stackoverflow.com/questions/15007580/rounded-nsview-in-a-transparent-window)描述创建自定义窗口和内容视图。请注意，这`drawRect:`是在自定义视图中（您将设置为窗口的`contentView`），*而不是*在您的窗口子类中。从您的代码片段来看，您是否以这种方式进行设置并不完全清楚。您现在应该有一个透明的轮廓窗口。

然后，您需要：

1.  将窗口级别设置`-[NSWindow setLevel:]`为上述常量之一`NSNormalWindowLevel`。
2.  `LSUIElement`通过在 Info.plist 中进行设置，使您的应用程序成为代理应用程序，使其不会出现在 Dock 等中。
3.  设置`ignoresMouseEvents`在窗口上`YES`。

# php - 获取最后一个斜杠后的 URL 的值

> ID：15076263
> 
> 赞同：4
> 
> 时间：2013-02-25T20:52:11.463
> 
> 标签：php

假设我有以下 URL 值：

```
http://website.com/tagged/news/
http://website.com/tagged/news
http://www.website.com/tagged/news/
http://www.website.com/tagged/news 
```

在这个例子中，我想要一个 PHP 函数来获取新闻。所以我想要最后一个斜杠之后的值，如果它不是空白并且如果那个值是空白的，那么我想得到那个斜杠之前的值。

我发现了这篇文章： [Get last word from URL after a slash in PHP](https://stackoverflow.com/questions/5921075/get-last-word-from-url-after-a-slash-in-php)

但我想确定一下，以防万一有人在 URL 末尾键入斜杠。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-25T20:54:26.373

一样容易：

```
substr(strrchr(rtrim($url, '/'), '/'), 1) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-25T20:56:57.383

你也可以使用`basename($url)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:06:42.447

有点冗长，但这样的事情应该有效：

```
$url = ... //your url
//trim slashes off the end to make sure url doesn't end with slash
$results = explode('/', trim($url,'/'));
if(count($results) > 0){
    //get the last record
    $last = $results[count($results) - 1];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T20:55:41.380

你可以试试 preg_match()

请参阅[http://php.net/manual/en/function.preg-match.php](http://php.net/manual/en/function.preg-match.php)和[http://www.regular-expressions.info/](http://www.regular-expressions.info/)

# android - 在 SharedPreference 中搜索键和值？

> ID：15076264
> 
> 赞同：1
> 
> 时间：2013-02-25T20:52:20.623
> 
> 标签：android

在下面的代码中，我有一个将新键值添加到文件“联系人”中的方法。我的问题是，是否可以创建一种方法，通过文件“联系人”中所有键的某种循环来搜索特殊值，并查看其中一个值是否等于特殊值？一些帮助！谢谢！

```
String filename = "contacts";
SharedPreferences someInfo = getSharedPreferences(filename, 0);

public void addSharedPref(String key, String value){

SharedPreferences.Editor editor = someInfo.edit();
editor.putString(key, value);
editor.commit();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:14:58.543

使用 SharePreference.getAll() 返回一个 Map，然后使用 Map 的一种方法来搜索一个特殊的值。

然而，这不是 SharedPreference 的设计目的。可能有更好的方法来做你想做的事情。我在任何工作中的座右铭都是“不要用螺丝刀敲钉子”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T22:28:27.813

检索共享首选项中的所有值：

```
 SharedPreferences sp= context.getSharedPreferences("contacts", Context.MODE_PRIVATE);
    Map<String,?> keys = sp.getAll();
    for(Map.Entry<String,?> entry : keys.entrySet()){
        Log.d("map values",entry.getKey() + ": " + entry.getValue().toString()); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T20:54:26.090

与`SharedPreference`字典一样，无法使用列表等内置内容访问它。您必须有一个索引器（名称-值-对中的名称）才能访问内容。

您可以做的是直接访问该`SharedPreference`文件并以这种方式找到它。

我建议只尝试访问`SharedPreference`您要查找的内容，并在其周围添加错误处理以使用默认值。

# ruby-on-rails-3.2 - 防止 Rails 向模型和模式添加时间戳字段

> ID：15076265
> 
> 赞同：0
> 
> 时间：2013-02-25T20:52:21.490
> 
> 标签：ruby-on-rails-3.2

当我使用 Rails 生成器生成模型时，它会自动添加时间戳字段，这也会导致架构中的这两个时间戳字段被创建。

我知道我可以编写一个迁移来删除这两个字段，但我想知道是否有一种方法实际上不生成它们，而不是创建一个迁移来删除它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:50:54.673

在这种情况下，使用终端中的以下行获取特定生成器（型号）的帮助选项。

```
rails g model --help 
```

您要用于防止添加字段 (`created_at`和`updated_at`) 的选项如下：

```
rails g model <model_name> <[[field_name(fn):field_type(ft)], [fn:ft]]> --timestamps=false 
```

使用此创建的相应迁移将没有两个时间戳字段。

例子：

```
rails g model test --timestamps=false

  invoke  active_record
  create    db/migrate/20130225224757_create_tests.rb
  create    app/models/test.rb 
```

使用 unix`cat`命令检查文件以查看文件的输出确认时间戳未包含在迁移中。

```
cat db/migrate/*_create_tests.rb
class CreateTests < ActiveRecord::Migration
  def change
    create_table :tests do |t|
    end
  end
end 
```

# matlab - 如何以尽可能少的步骤从 mxn 数组的特定列中选择所有非 NaN 数据？

> ID：15076266
> 
> 赞同：0
> 
> 时间：2013-02-25T20:52:23.393
> 
> 标签：matlab

所以如果它只是一个一维向量，我可以简单地做这样的事情：

y1 = y(~isnan(y));

但是...如果 y 是一个 mxn 矩阵并且我想要来自 y(:,5) 的所有非 NaN 数据怎么办？然后我能做些什么，尽可能少地采取额外的步骤？

我可以分配 y1 = y(:,5)，然后调用 y1 = y(~isnan(y))。但如果可能的话，我宁愿避免分配太多的新变量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:07:11.513

> 但是...如果 y 是一个 mxn 矩阵并且我想要来自 y(:,5) 的所有非 NaN 数据怎么办？然后我能做些什么，尽可能少地采取额外的步骤？

您可以使用[`sub2ind`](http://www.mathworks.co.uk/help/matlab/ref/sub2ind.html)，但是在没有任何中间变量的情况下这样做仍然会非常难看。我的建议是写一个函数来做你想做的事。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:07:20.303

如果您想要 y 的非 Nan 元素的坐标，可以使用以下命令：

```
[row col]=ind2sub(size(y),find(~isnan(y))); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T23:06:55.637

在没有新变量的情况下，您只需使用来自第五列的非 nan 值过滤来自第 5 列的数据。重复，我知道。

```
y(~isnan(y(:,5)),5) 
```

至于不改变形状。我相信如果初始化为 nx1 矩阵并分配索引，它应该保持形状。

```
y_nonnan(:,1) = y(~isnan(y(:,5)),5) 
```

我只是不记得任何优雅的方法来制作一个 nx1 矩阵。

# jquery - 带抽屉的同位素

> ID：15076267
> 
> 赞同：0
> 
> 时间：2013-02-25T20:52:28.810
> 
> 标签：jquery, jquery-masonry, jquery-isotope

我被困住了，真的需要帮助！我有一个使用 jquery isotope 进行布局的砖块布局。砖块共有三种尺寸：方形、双宽和双方形，因此它们非常适合放置。我需要做的是，当您单击砖块时，在砖块下方打开一个抽屉，然后将下方的砖块向下推至抽屉高度所需的高度。这是一个模型来解释我正在尝试做的事情：

[带抽屉的砖 http://bdub.ca/bricks_drawer.jpg](http://bdub.ca/bricks_drawer.jpg)

在这个例子中，橙色砖被点击，抽屉在下一个换行符处打开，在红砖之后。抽屉将始终是模型中的半宽。

有任何想法吗？我很茫然，所以任何建议都将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-17T14:31:00.327

Jason Sperske 建议的解决方案：

[http://jsfiddle.net/thomasNDS/5fNe9/2/](http://jsfiddle.net/thomasNDS/5fNe9/2/)

此示例在单击时扩展 a 块的大小并重新布局其他块。

```
 $items.click(function(){ // $items regroup all item display
            var $this = $(this);
            // nothing to change if this already has large class
            if ( $this.hasClass('large') ) { 
              $this.removeClass('large');
            }else{
                var $previousLargeItem = $items.filter('.large');
                $previousLargeItem.removeClass('large');
                $this.addClass('large');
            }
             $container.isotope( 'reLayout' );
          }); 
```

您可以使用 3 种不同大小的块将此代码调整为您的示例。

# jquery - 使用Jquery和Django发送数据并由双方确认的可靠方法

> ID：15076268
> 
> 赞同：1
> 
> 时间：2013-02-25T20:52:32.960
> 
> 标签：jquery, python, ajax, django, cordova

我正在PhoneGap 下开发一个应用程序，我的应用程序将订单（项目、客户等）从MobileDevice 发送到服务器（在python django 中）。我使用 jQuery Ajax 向我的服务器发送订单，服务器以正确的操作 ID 响应 MobileDevice，但如果 Internet 网络不正常，响应不会返回到 MobileDevice 或服务器给出正确的操作 ID，但永远不会响应 Mobile设备。

我正在寻找一种确认可靠通信的方法，但我不知道我的系统是否可靠（3 个步骤）：

1.-`MobileDevice:`通过 AJAX 发送订单（项目）和订单验证，等待完成等。

2.-`Server in Django:`接收订单和数据，验证和处理订单，最后发送OK。

3.-`MobileDevice:`收到 OK 确认并检查订单是否已发送且正确。

应该是正确的吗？还有什么其他方法可以做类似的事情？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T20:55:56.883

查看[REST](http://www.restapitutorial.com/)和[Tastypie](http://django-tastypie.readthedocs.org/en/latest/tutorial.html)，这可以完成工作。

**编辑**：

只是一个想法，你是在 TCP/IP 之上构建的——这是一组协议，旨在使任何基于它的网络都可以抵御核攻击。近 40 年来，它一直做得很好，非常稳固。再次，只是一个想法。:-)

# jakarta-ee - apache tile：在 ViewPreparer 中获取视图名称

> ID：15076272
> 
> 赞同：1
> 
> 时间：2013-02-25T20:52:35.347
> 
> 标签：jakarta-ee, view, tiles

我正在开发一个带有磁贴的应用程序，我想实现一个 ViewPreparer，它为刚刚显示的页面构建特定的菜单。[我在api](http://tiles.apache.org/tiles-request/apidocs/org/apache/tiles/request/class-use/Request.html)中看不到这样的东西。有谁知道如何获取视图名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-27T08:00:02.520

只需将属性添加到 xml 中，例如

```
<definition name="t.*" extends="t.container">
    <put-attribute name="body" value="/WEB-INF/jsp/{1}.jsp"/>
    <put-attribute name="title" expression="${song.title} - ${song.author} in ${jukebox.name}"/>
    <put-attribute name="view" value="t.{1}"/>
</definition> 
```

# ios - 本地化笔尖中的小数点。如何让它工作？

> ID：15076280
> 
> 赞同：0
> 
> 时间：2013-02-25T20:53:04.890
> 
> 标签：ios, objective-c, localization

在我的笔尖中，有 3 个字段显示字符串中的十进制数 (initWithFormat %f)。当我将笔尖设为本地时，这些字段必须显示带有小数点的小数点逗号的数字。由于本地化（荷兰语）笔尖，本地化适用于标签等。小数点分隔符仍然是一个点。

我在看什么？

编辑：我已经尝试了答案中提到的选项，但我无法让它工作。在我的荷兰语本地化中，这些值仍然以小数点而不是逗号显示。你能帮忙看看例如这段代码吗？

```
//display accuracy
NSString *acc = [[NSString alloc] initWithFormat:@"%f", newLocation.horizontalAccuracy];
accuracy.text=acc; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:00:16.220

`initWithFormat:`例如，不要使用NSString 类中的[本地化StringWithFormat:。](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:27:32.357

一种选择是使用`NSNumberFormatter`而不是字符串格式。`NSNumberFormatter`允许您根据用户的区域设置正确显示的数字格式。您可以设置格式化程序以将数字显示为小数、百分比、货币或科学记数法。有许多选项可用于指定小数位数、四舍五入以及如何格式化数字的许多其他方面。

# html - 第一页加载时 Chrome 上的徽标定位不正确

> ID：15076282
> 
> 赞同：1
> 
> 时间：2013-02-25T20:53:08.793
> 
> 标签：html, css, google-chrome, positioning

见：[http ://hurstenigma.co.uk](http://hurstenigma.co.uk)

我的徽标在 IE 和 Firefox 上的位置正确（我尚未测试其他浏览器），但在 Chrome 上，它似乎无缘无故地高于页面上的其他元素。一旦页面被软重新加载（我单击 URL 并按 Enter），徽标确实会回到正确的位置。

这最初并没有发生，我无法弄清楚我做了什么改变导致这种情况发生。我在互联网上的搜索没有结果，因为这似乎不是一个记录在案的问题。

任何帮助将非常感激！

谢谢，罗伯特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T20:55:56.970

```
#logo {
    float: left;
} 
```

也许？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:00:33.480

像 FSou1 所说的那样向左浮动，但也添加到您的`ul#navbar`元素中：

```
padding: 0; 
```

# google-apps-script - 问题循环通过 Google 电子表格和检索单元格值

> ID：15076283
> 
> 赞同：0
> 
> 时间：2013-02-25T20:53:09.120
> 
> 标签：google-apps-script

对于任何愚蠢的问题，我提前道歉......我对 JS 和 Google Docs 中的脚本完全陌生。

我正在尝试编写一些代码来删除谷歌电子表格中第一列中包含“已接收”或“已取消”字样的所有行。

这是我当前的代码：

```
function DeleteClosedRows() {

    var ss = SpreadsheetApp.getActiveSpreadsheet();
    var end = SpreadsheetApp.getActiveSheet().getLastRow();
    for( var i = 3; i < end + 1; ++i ) {
        var value =  ss.getActiveRange().getCell(i, 1).getValue();
        if (value === "Received" && value === "Canceled") {
            sheet.deleteRows(i); 
        };
    };  
}; 
```

当我尝试运行它时，我收到错误“单元格引用超出范围”

当我查看执行记录时，它说最后采取的行动是： Range.getCell([3, 1])

.. 我确定我的代码有 100 处错误，但现在我很想了解第一个阻止它通过该部分的问题。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:30:25.220

您的代码失败的原因是`.getActiveRange()`返回用户当前选择的单元格范围。这不是你想要的。相反，您将希望从包含单个单元格的工作表中获取一个范围。像这样的东西：

```
var value =  ss.getRange(i, 1).getValue(); 
```

`.getRange`有两个参数功能完全符合您的预期`.getCell`。

**注意：**当您调用 时`.getRange`，您可以获得整个范围的单元格（就像您可以在电子表格中选择多个单元格一样。然后当您调用 时`.getValue`，您将获得该范围内*第一个*单元格的值。

**性能注意事项：**您可以通过调用一次检索整个单元格范围的值`.getValues`。这将返回一个包含所有值的二维数组。这比一次获取一个单元格的值要快得多。

几个链接的答案也解释了这一点：[Link 1](https://stackoverflow.com/questions/14838900/google-apps-script-add-1-to-the-value-of-a-cell-in-a-spreadsheet-on-button-click/14838988#14838988) [Link 2](https://stackoverflow.com/questions/14937550/google-apps-script-function-that-gets-a-certain-colomn-in-spreadsheet/14937963#14937963)

# shell - find grep 在命令行中工作，但在脚本中失败；通过shell自动转义？

> ID：15076290
> 
> 赞同：0
> 
> 时间：2013-02-25T20:53:33.143
> 
> 标签：shell, command-line, grep, find

**更新**：
再次尝试后，结果证明该脚本完全可以正常工作。我一定是太累了，做了一些愚蠢的事情，让我认为剧本是错误的，而实际上是我自己。:-(
非常感谢您的帮助 chepner、shellter、William、glenn 和 Jonathan，我想我的困惑实际上是由于我在当前目录上执行 find 以某种方式引发的“。”
谢谢提示！

该线程已准备好关闭。

> 考虑以下：
> 
> ```
> find . | grep -E ".*\.log$" 
> ```
> 
> 如果这是在命令行运行，它会按预期工作，即打印出所有以`.log`
> 
> 但是，当在脚本中时，例如：
> 
> ```
> #!/bin/sh
> find . | grep -E ".*\.log$" 
> ```
> 
> 它失败。打开`set -x`检查时，我注意到在脚本执行过程中，正则表达式**.*.log$**是（auto-??）用单引号引起来的，例如：
> 
> ```
> \+ find .
> \+ grep -E '.*\.log$' 
> ```
> 
> 即使我的代码包含双引号。**我怎样才能防止这种情况？**
> 
> 限制：
> 
> *   挑战是同时使用`find`and `grep`，不允许使用其他 cmds
> *   同样，挑战在于同时使用**两者**，而不仅仅是`find`，因为有人可能想要建议
> *   进一步的信息，要使用的正则表达式比`grep`这里显示的要复杂得多（几个`OR`分开的正则表达式），我在这里简化了它，因为这个烦恼已经发生了
> 
> 我已经为此工作了4个多小时，但没有结果。我搜索了 Google 和 StackOverflow，但没有发现类似的东西。我担心解决方案非常简单，我太笨了，找不到它？:-(
> 
> 任何帮助表示赞赏，提前谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:14:13.110

您使用的是什么操作系统和可执行版本？

你的小脚本：

```
#!/bin/sh
find . | grep -E ".*\.log$" 
```

或者

```
#!/bin/bash
find . | grep -E ".*\.log$" 
```

在 Debian Wheezy 上对我来说完美（单反斜杠或双反斜杠）

```
yba@tavas:~$ bash --version
GNU bash, version 4.2.37(1)-release (x86_64-pc-linux-gnu)
Copyright (C) 2011 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
yba@tavas:~$ grep --version
grep (GNU grep) 2.12
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by Mike Haertel and others, see <http://git.sv.gnu.org/cgit/grep.git/tree/AUTHORS>. 
```

你的脚本在什么意义上失败了？

这是示例输出：

```
yba@tavas:~$ ./st.sh 
./Downloads/serial_update_rev11.log
./.virt-manager/virt-manager.log
./Android/adt-bundle-linux/eclipse/configuration/org.eclipse.update/install.log
./Android/workspace/.metadata/.plugins/org.eclipse.cdt.core/.log
./Android/workspace/.metadata/.log
./ti-dvsdk_dm365-evm_4_02_00_06/xdctools_3_16_03_36/eclipse/plugins   /org.eclipse.rtsc.xdctools.product_3.16.3.36/META-INF/Make.log
./ti-dvsdk_dm365-evm_4_02_00_06/codecs-dm365_4_02_00_00/packages/ittiam/codecs/g711_dec    /hs_err_pid17410.log
./.local/share/gvfs-metadata/root-dfdae0ca.log
./.local/share/gvfs-metadata/label-AR7266WnX\x20V2_1.2-a6becf19.log
./.local/share/gvfs-metadata/home-2def37e1.log
./.local/share/gvfs-metadata/uuid-5c7747c5-81e5-4464-bae0-2c61afc73da4-7a539d2d.log
 ./.local/share/tracker/tracker-store.log
./.local/share/tracker/tracker-miner-fs.log
./.local/share/tracker/tracker-extract.log
yba@tavas:~$ 
```

# html - window.postmessage 到跨域中的嵌套 iframe

> ID：15076293
> 
> 赞同：2
> 
> 时间：2013-02-25T20:53:44.367
> 
> 标签：html, iframe, cross-domain, postmessage

我有一个根 html 页面 A（比如 foo.com 上的 A.html），其中包含一个 iframe B（比如 bar.com 上的 B.html）。iframe B 包含另一个 iframe C（foobarfoo.com 上的 C.html）。

当用户单击父页面 A 中的某些内容时，我试图通知 iframe C。

由于两个子 iframe（B 和 C）与父 A 位于不同的域中，因此无法访问 iframe 属性或调用脚本。

我可以控制 A.html 和 C.html 中的代码，并且可以使用 html5 postmessaging 选项来发送消息。我尝试将邮件从 A 发送到 B，效果很好，但是直接从 A 发送到 C 是我正在努力解决的问题。

如果我尝试使用 document.parentWindow.frames 访问嵌套的 iframe C，我只会得到 iframe B 而不是 iframe C。这是预期的吗？

如果我首先从 DOM 获取 iframe B，然后尝试使用 getElementByID 获取 iframe C，我会收到拒绝访问错误，这很明显，因为 iframe B 位于不同的域上并且不允许查询其 DOM。

这是我尝试过的两个选项的代码...

**选项1**

```
function postMessage1()
{
    var message = new Object;
    message["MessageId"] = "NewPage";
    var messageData = JSON.stringify(message);

    var domain = 'http://localhost';
    var allFrames = document.parentWindow.frames;
    var iframe = allFrames['frameC'];

    iframe.postMessage(messageData, domain); -----> iframe is null here as it cannot find any frame with the ID - frameC.
} 
```

**选项2**

```
function postMessage2()
{
    var message = new Object;
    message["MessageId"] = "NewPage";
    var messageData = JSON.stringify(message);

    var domain = 'http://localhost';
    var proxyFrame = document.getElementById("frameB");
    var targetFrame = proxyFrame.getElementById("frameC");  ----> Access denied to getElementByID in frame B as it is from a different domain and accessing its DOM is not allowed.

    targetFrame.contentWindow.postMessage(messageData, domain);
} 
```

我正在尝试使用 window.postMessage 查找是否有解决方案。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T20:01:18.550

您需要做的是使用来自 iframe B 的 frames 属性的引用来访问 iframe C。因此，基本上，您递归地访问 A 的 frames 属性以获取 B，然后访问 B 的 frames 属性以获取 C：

```
function postMessage()
{
    var message = new Object;
    message["MessageId"] = "NewPage";
    var messageData = JSON.stringify(message);

    var domain = 'http://localhost';
    var iframeB = document.parentWindow.frames['frameB'];
    var iframeC = iframeB.frames['frameC']; // or iframeB.frames[0]; if C is the only iframe in B

    iframeC.postMessage(messageData, domain);
} 
```

还没有尝试过上面的代码，但是这种遍历 iframe 的树是可能的，因为 frames 属性不属于同源策略。

# php - 使用 jQuery 对 mySQL 数据库进行排序

> ID：15076298
> 
> 赞同：0
> 
> 时间：2013-02-25T20:53:52.057
> 
> 标签：php, jquery, mysql, sorting

我只是遇到了我的代码的一些问题。谁能告诉我我做错了什么？

html:

```
<button type="button" id="searchbutton">Click Me!</button> 
<div id="resultsdiv"></div> 
```

js：

```
$(document).ready(function() {

    $("#searchbutton").bind('click', function() {
        $("#resultsdiv").load(
            'http://profithing.com/wp-content/php/sorting.php',
            { // parameters, in object literal format
               sortDir: 'asc',
               sortCol: 'name'
               // etc.
            }
    });

}); 
```

php:

```
<?php
mysql_connect("localhost", "login", "pass") or die(mysql_error());
mysql_select_db("database");

$result = mysql_query("SELECT * FROM table ORDER BY added ASC");

while($row = mysql_fetch_array($result))
  {
  echo "<div class='something'>";
  echo "<a href='$row[link]'>";
  echo "<img src='$row[img]' height='125' width='125'/>";
  echo "<p>$row[name]</p></a></div>";
  echo "<br>";
  }
?> 
```

jsFiddle在[这里](http://jsfiddle.net/profithing/hg9CY/)
我认为我的php还可以，调用它肯定有问题。
感谢帮助。

编辑：添加 php 代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:57:35.257

`);`您在加载后忘记了：

```
$(document).ready(function() {

    $("#searchbutton").bind('click', function() {
        $("#resultsdiv").load(
            'http://profithing.com/wp-content/php/sorting.php',
            { // parameters, in object literal format
               sortDir: 'asc',
               sortCol: 'name'
               // etc.
            }); // you forgot the ); here.
    });

}); 
```

由于同源政策，小提琴也无法工作......[规避同源政策的方法](https://stackoverflow.com/questions/3076414/ways-to-circumvent-the-same-origin-policy)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T20:58:22.607

您错误地关闭了您的陈述（缺少 a `);`）。请看下文。

```
$(document).ready(function() {
    $("#searchbutton").bind('click', function() {
        $("#resultsdiv").load(
            'http://profithing.com/wp-content/php/sorting.php',
            { // parameters, in object literal format
               sortDir: 'asc',
               sortCol: 'name'
               // etc.
            }
        );
    });
}); 
```

# excel - 如果没有 VBA 的列的单元格中有值，则将列标题显示到一行

> ID：15076300
> 
> 赞同：4
> 
> 时间：2013-02-25T20:53:56.720
> 
> 标签：excel

更新1：

因为我的问题不清楚，所以我发布第二个例子

![示例 2](../Images/6f79285a6d499f50819203d8083da6e6.png)

因为第 2 行，Item 04 的值为 1，所以 Get Item Name = Item 04。它是随机的并且有大量的列 (500)。

问题：

如果该标题下的单元格有任何值输入，我想有一种方法来获取列标题。请注意，如果在第 2 行和第 1 列有值，那么第 2 行的其他单元格将没有任何值（0 除外）。

很难用语言解释这个问题，所以我创建了一个例子。

![样本](../Images/ff64ac5978d32ddc6103b51d6d3aec7f.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T22:13:11.733

我在上面的评论中发布了一个公式，你可能没有看到它。就是这个：

`=IF(COUNTA($B2:$D2)=0,"",INDEX($B$1:$D$1,MATCH(TRUE,INDEX($B2:$D2<>"",0),0)))`

这将获得填充单元格的第一个实例的标题 - 如果您有数值并且想要忽略零更改为

`=IF(COUNTA($B2:$D2)=0,"",INDEX($B$1:$D$1,MATCH(TRUE,INDEX($B2:$D2>0,0),0)))`

无论哪种方式，公式都可以根据需要扩展到尽可能大的范围

.....如果你有 500 列，你可以使用 IFERROR 来缩短一点

`=IFERROR(INDEX($B$1:$D$1,MATCH(TRUE,INDEX($B2:$D2>0,0),0)),"")`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:26:36.130

对于具有可数列数（即 3）的相对较小的表，试试这个

```
=IF(COUNTA(G8)>0,"Column 1",IF(COUNTA(H8)>0,"Column 2",IF(COUNTA(I8)>0,"Column 3",""))). 
```

我的问题是如果你的表包含 20 或 100 列怎么办？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:04:00.073

我假设当您说*“列标题”*时，您的真正意思是*“行标题”*。

考虑到第一个单元格（包含 text `"Column Header"`）在`A1`这是您必须在单元格中引入的公式`A2`：

```
=IF(B2>0, $B$1, IF(C2>0, $C$1, IF(D2>0, $D$1, ""))) 
```

根据需要将此公式向下拖动到尽可能多的行上，它会（希望）实现您想要的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T21:11:13.920

假设您想要一个超过 3 列的解决方案，此公式将为您返回正确的标题。

我假设您的数据从第 2 行 B 列开始 - 第 1 行包含列标题。

在 B1 中使用此公式并将其复制下来：

```
=IF(COUNTA($B2:$D2)=0,"",INDEX($B$1:$D$1,MATCH(FALSE,INDEX(ISBLANK($B2:$D2),0),0)))

```

如果您的数据超出 D 列，只需在公式中进行更改。

# java - 更新数据库后如何让 JTable 显示刷新的数据？

> ID：15076301
> 
> 赞同：1
> 
> 时间：2013-02-25T20:53:56.707
> 
> 标签：java, swing, jtable, refresh

我已经更新了一个数据库，我想`JTable`用这个绑定到按钮单击事件的代码来刷新一个，但它不起作用。当我关闭应用程序并再次打开它时，会`JTable`显示正确的数据。

我是否需要覆盖抽象表上的某些方法？

```
try {
        model=new MyTableModel(this.database);
        table = new JTable(model);
    } catch (SQLException e) {

        e.printStackTrace();
    }

scrollPane = new JScrollPane(table);

refresh.addActionListener(new ActionListener() {

    public void actionPerformed(ActionEvent e) {

        ((MyTableModel)table.getModel()).fireTableDataChanged();

    }
});

 class MyTableModel extends AbstractTableModel {
    private int i;
    private String[] columnNames = { "ID", "Code", "Country", "Radio",
            "primljeno", "select" };

    private Object[][] data = { { new Integer(0), "", "", "", "",
            new Boolean(false) } };

    public MyTableModel(My_class_Database database)throws SQLException {
            init(database);

    }
    public void init(My_class_Database database) throws SQLException
    {
        this.i = database.checkIsDataThere();
        Object[][] object;
        if (i == 0) {
            object = new Object[i][7];
            object = database.getDatafromDatabase(this.i);
            this.data = object;
            dataAp = object;

        } else {
            object = database.getDatafromDatabase(this.i);
            textField.setText("No data in database");
        }

    }

    public int getColumnCount() {
        return columnNames.length;
    }

    public int getRowCount() {
        return data.length;
    }

    public Object getValueAt(int row, int col) {
        return data[row][col];

    }

    public String getColumnName(int col) {
        return columnNames[col];
    }

    public void setValueAt(Object value, int row, int col) {

        data[row][col] = value;
        fireTableCellUpdated(row, col);

    }

    // problem sa null vrijednostima,null exception
    public Class getColumnClass(int c) {
        return getValueAt(0, c).getClass();
    }

    public boolean isCellEditable(int row, int col) {
        if (col > 4) {
            return true;
        } else
            return (false);
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:30:03.203

因为它是（发布的代码）模型不知道数据库中的修改。您可以刷新模型中的数据，例如调用现有`init()`方法或创建类似的方法。作为替代方案，您可以构建一个新模型并将其重置在桌面上。

模型有责任触发通知，例如`fireTableDataChanged`您在`actionPerformed`. 表客户端不应执行这些方法。 `fireTableDataChanged`例如属于`init()`方法。有关更多详细信息和示例，请参阅[触发数据更改事件](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#fire)。

模型应该是关于数据的，所以最好将设置的逻辑`textField`移出模型。如果需要，您可以从模型中公开其他方法，以帮助客户获取有关数据和状态的更多详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-15T23:03:27.733

尝试了很多东西，但最后这对我有用：

```
if (model.getRowCount() > 0) {
         for (int i = model.getRowCount() - 1; i > -1; i--) {
             model.removeRow(i);
         }
     }

     setTablevalue(); 
```

我从 JTable 中删除了所有行，并再次调用 setTableValue 方法来重新填充表。

# neo4j - neo4j 通过 REST 批量插入响应无效 URI

> ID：15076303
> 
> 赞同：0
> 
> 时间：2013-02-25T20:53:59.807
> 
> 标签：neo4j

遵循 Neo4j 文档，并尝试使用 REST api 对批量插入端点进行 POST。

[http://docs.neo4j.org/chunked/stable/rest-api-batch-ops.html#rest-api-refer-to-items-created-earlier-in-the-same-batch-job](http://docs.neo4j.org/chunked/stable/rest-api-batch-ops.html#rest-api-refer-to-items-created-earlier-in-the-same-batch-job)

我已经验证我的请求是一个 POST 并且它发布了格式正确的 JSON 以及正确的接受和内容类型标头。

响应是消息错误：

```
[Error: Invalid URI "http:/localhost:7474/db/data/batch"] 
```

服务器在默认端口的 localhost 上运行（其他操作正常工作），并且路径 /db/data/batch 是 API 文档中引用的内容。是否存在与文档不同步的内容，或者错误措辞不当并且可能掩盖了其他内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:08:50.840

*感叹*错别字很有趣。

```
http:/localhost

http://localhost 
```

有一个字符串清理逻辑正在剥离重复的 /。:(

# data-mining - 了解分区网络的分区密度

> ID：15076304
> 
> 赞同：1
> 
> 时间：2013-02-25T20:54:00.303
> 
> 标签：data-mining, cluster-analysis, hierarchical-clustering

我正在实施链接社区社区检测算法。我无法理解[论文中描述的分区密度的解释](http://arxiv.org/pdf/0903.3178.pdf "纸")

这里只是定义分区密度的部分： ![在此处输入图像描述](../Images/c66a911b43e29d0456c1da8f417b72d4.png)

我找不到链路密度的定义（等式 2）和分区密度的定义（等式 3）之间的联系。因此，我不明白为什么分区密度是这样定义的。而且我特别看不到（等式3）如何计算（等式2）的平均值 - 如果有平均值，我希望分区数（c）低于水平线（在除数中）

我无法搜索任何其他分区密度的定义。

任何可以对此有所了解的人将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T13:55:58.963

这并不是一个真正的平均值，而是一个加权和：每个社区的权重取决于它包含的总链接的比例（即 mc）。因此，不是有一个统一的因子 1/C，其中 C 是社区的数量，你有一个社区特定的因子 mc/M。

# objective-c - 使用石英点击时画一个圆圈

> ID：15076306
> 
> 赞同：-1
> 
> 时间：2013-02-25T20:54:06.870
> 
> 标签：objective-c, cocoa-touch, quartz-graphics

当用户单击屏幕上的任意位置时，我希望绘制一个圆圈。这段代码缺少什么/有什么问题？

```
- (void)drawRect:(CGRect)rect
{
if (UITouchPhaseBegan)
{
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetRGBStrokeColor(context, 0, 0, 225, 1);
    CGContextSetRGBFillColor(context, 0, 0, 255, 1);
    CGRect rectangle = CGRectMake(50, 50, 500, 500);
    CGContextStrokeEllipseInRect(context, rectangle);
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:58:55.613

您的代码没有按照您的想法执行。看看`UITouchPhaseBegan`in的定义`UITouch.h`：

```
typedef NS_ENUM(NSInteger, UITouchPhase) {
    UITouchPhaseBegan,             // whenever a finger touches the surface.
    UITouchPhaseMoved,             // whenever a finger moves on the surface.
    UITouchPhaseStationary,        // whenever a finger is touching the surface but hasn't moved since the previous event.
    UITouchPhaseEnded,             // whenever a finger leaves the surface.
    UITouchPhaseCancelled,         // whenever a touch doesn't end but we need to stop tracking (e.g. putting device to face)
}; 
```

它只是一个枚举值，而不是您的应用程序中正在发生的事情的反映。我相信在这种情况下，因为它是枚举中的第一个值，它可能被编译器设置为 0，因此总是评估为 false。

您可能想要做的是设置一个像`BOOL _touchHasbegun;`. 然后，在`-touchesBegan:withEvent`或您的手势识别器操作中，根据您进行触摸处理的方式，`_touchHasBegun`酌情设置为“是”或“否”。

当你知道你的视图需要更新时，调用`[self setNeedsDisplay]`（或者`[self setNeedsDisplayInRect:someRect]`如果可以的话，为了更好的性能）来触发该`-drawRect:`方法。然后，让您的`-drawRect:`方法检查是否`_touchHasBegun`确定是否绘制圆圈。

注意：你永远不应该给`-drawRect:`自己打电话。您将视图设置为脏，操作系统会在正确的时间处理它。

# android - 在 Android 应用程序上查询 s3 存储桶

> ID：15076308
> 
> 赞同：0
> 
> 时间：2013-02-25T20:54:19.540
> 
> 标签：android, amazon-s3

我希望我的 Android 应用程序根据当前 gps 位置显示最近的商店，我有 S3 实例，它为每个商店保存包含两个文件图像和 Html 文件的存储桶，我想在商店页面上显示它们，到目前为止一切都很好。

我的问题是如何根据我的 gps 位置选择最近的商店？我应该为每个存储桶保存另一个值纬度和经度点吗？我是否需要使用 RDS 等其他 aws 服务才能查询和选择要显示的正确存储桶，或者我可以在不使用其他 AWS 服务的情况下通过 S3 进行 sql 查询。谢谢，大卫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:02:21.530

首先要做的事情：
您可能正在谈论为每个商店拥有一个存储桶和不同的前缀。每个商店都有一个存储桶，因此在每个存储桶中保留 2 个文件肯定是矫枉过正。

关于最近的商店问题：您无法对 S3 执行 SQL 查询。
您的解决方案实际上取决于您的应用程序的规模。如果您谈论的是 Web（或 Internet）规模的应用程序（甚至更少），您肯定想在 S3 前面添加一些东西。S3 是关于存储的，而不是关于查询或执行计算的。

我的建议将是以下之一，具体取决于您的客户群规模和商店规模：
1- 小规模：假设您只有几个客户和几个（<100 家）商店。您可以在 S3 前面有一个 m1.small 或类似的 EC2 实例，将您的存储列表保留在实例存储（或 S3 上，就此而言）并在您的实例的内存缓存中执行基于位置的查询。您可以使用您选择的服务器技术（Python、Java、node.js）来实现它。
2- 中等规模或更大：几个（或数百万）客户，几个（或数百万）商店：绝对坚持应用程序层和数据库层。您的应用程序层可以包含您喜欢的任何 AWS 技术（多个 EC2 实例 + 一个 ELB；Elastic Beanstalk 等），并且您的数据库层应该是 SQL（我推荐 RDS）或 NoSQL（例如 DynamoDB）。将您的商店建模到数据库层并让您的应用程序层对其执行查询。

您可以通过多种方式解决您的问题，但我的建议是坚持使用上述其中一种作为通用架构。

# python - 将 Python Decimal 对象格式化为指定的精度

> ID：15076310
> 
> 赞同：16
> 
> 时间：2013-02-25T20:54:25.360
> 
> 标签：python, python-2.7, python-3.x, decimal

我花了无数时间研究、阅读、测试，最终对 Python 的 Decimal 对象缺乏最基本的概念感到困惑和沮丧：将 Decimal 的输出格式化为字符串。

假设我们有一些具有以下值的字符串或 Decimal 对象：

```
 0.0008
  11.1111
 222.2222
3333.3333
1234.5678 
```

目标是简单地将 Decimal 的精度设置为小数点后第二位。例如，`11.1111`将被格式化为`11.11`和。`1234.5678``1234.57`

我设想的代码类似于以下内容：

```
import decimal
decimals = [
  decimal.Decimal('0.0008'),
  decimal.Decimal('11.1111'),
  decimal.Decimal('222.2222'),
  decimal.Decimal('3333.3333'),
  decimal.Decimal('1234.5678'),
]
for dec in decimals:
  print dec.as_string(precision=2, rounding=ROUND_HALF_UP) 
```

结果输出将是：

```
0.00
11.11
222.22
3333.33
1234.57 
```

显然我们不能利用 Decimal 上下文的精度，因为这考虑了 TOTAL 位数，而不仅仅是小数精度。

我也对将 Decimal 转换为 float 以输出其值不感兴趣。Decimal 背后的全部原因是避免在浮点数上存储和运行计算。

还有哪些其他解决方案？我知道在堆栈溢出方面还有许多其他类似的问题，但我没有发现它们可以解决我正在询问的根本问题。

非常感谢！

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-02-25T20:56:38.543

只需使用[字符串格式](http://docs.python.org/2/library/stdtypes.html#str.format)或[`format()`函数](http://docs.python.org/2/library/functions.html#format)：

```
>>> for dec in decimals:
...    print format(dec, '7.2f')
... 
   0.00
  11.11
 222.22
3333.33
1234.57 
```

`decimal.Decimal`支持与浮点数相同的[格式规范](http://docs.python.org/2/library/string.html#format-specification-mini-language)，因此您可以根据需要使用指数、定点、通用、数字或百分比格式。

这是格式化小数的官方和pythonic方法；该类`Decimal`实现了`.__format__()`有效处理此类格式的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-13T06:29:08.003

```
def d(_in, decimal_places = 3):
    ''' Convert number to Decimal and do rounding, for doing calculations
        Examples:
          46.18271  to   46.183   rounded up
          46.18749  to   46.187   rounded down
          117.34999999999999 to 117.350
         _rescale is a private function, bad practice yet works for now.
    '''
    return Decimal(_in)._rescale(-decimal_places, 'ROUND_HALF_EVEN') 
```

编辑：同样，_rescale() 并不打算被我们普通的两足动物使用，它在 Python 2.7 中工作，在 3.4 中不可用。

# eclipselink - 如何在 EclipseLink 中设置平台范围的数据转换行为？

> ID：15076313
> 
> 赞同：1
> 
> 时间：2013-02-25T20:54:27.543
> 
> 标签：eclipselink

我们正在 EclipseLink 的`InformixPlatform`类中发现问题（并报告它们）——该类负责使 Informix 数据库适应 EclipseLink 内部的要求。

我们有几个类型转换问题。例如，Informix 支持两个不透明文字（`t`和 --`f`不是字符，而是实际文字）作为本机`boolean`值。似乎 EclipseLink 可能正在尝试使用`SMALLINT`数据库类型。

由于缺少 a 中的大量程序代码`SessionCustomizer`，我找不到纠正或改进这种全局转换行为的好地方。

注册这种*全局*从数据库获取值并将其转换为 Java 对象行为的最佳位置在哪里？ [其他问题](https://stackoverflow.com/questions/4961655/jpa-eclipselink-type-handling-without-repeated-converter-annotations/7130761#7130761)似乎表明这是不可能的，但我觉得这很难相信。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T16:45:41.840

构建您自己的转换管理器类
（扩展`org.eclipse.persistence.internal.helper.ConversionManager`）。
并覆盖方法`convertObjectToBoolean()`。

要在 eclipselink 中启用您自己的转换管理器实例，请使用 a`SessionCustomizer`并调用`session.getPlatform().setConversionManager()`

但是，在查看此方法的源代码时，似乎已经实现了对`t`和`f`文字的支持（至少在 eclipselink 2.3.3 中）。
但也许有一个错误？在您的应用程序运行时调试此方法可能是值得的，以真正了解那里发生了什么。

# aptana3 - aptana 项目资源管理器中的 [dev+1] 是什么意思

> ID：15076314
> 
> 赞同：-1
> 
> 时间：2013-02-25T20:54:27.383
> 
> 标签：aptana3

我有一个托管在 GitHub 上的项目，其活动分支称为`dev`. 从昨天开始，Aptana 显示`[dev+1]`在项目文件夹旁边。昨天之前，它只显示`[dev]`。是什么`[dev+1]`意思？

请看下面的截图：

![Aptana 3 中的项目资源管理器](../Images/4f4d9bcd207e693358232c94ed92989e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T08:04:06.213

[这是来自Aptana 文档](https://wiki.appcelerator.org/display/tis/Git#Git-ProjectExplorer)的答案：（我强调了重要说明）

> 我们的 Git 支持将对相关项目和文件的 UI 进行特定于 git 的修改。特别是，未暂存的文件通常会在项目和应用程序资源管理器中以红色背景显示；staged 将显示一个绿色的 BG。具有任何未提交更改的文件将显示带有 *（星号）“脏”指示符，并且当其层次结构中的任何文件脏时，文件夹将显示脏指示符。项目将在项目资源管理器中项目名称右侧的方括号内显示当前分支。**如果有已提交的更改要从相应的远程推送或拉出，则分支名称将后跟一个 + 或 - 和数字。**

# javascript - 无法更新猫鼬模型

> ID：15076317
> 
> 赞同：17
> 
> 时间：2013-02-25T20:54:45.800
> 
> 标签：javascript, node.js, mongoose

我有一个奇怪的问题让我感到困惑。我有一个模型：

```
var Model = new Schema({
    name: String,
    variations: Array
}); 
```

变体条目如下所示：

```
[ {code: '', price: '' }, {code: '', price: '' }] 
```

我需要添加一个新字段 - 说“颜色”。所以我这样做是为了批量更新：

```
Model.find().exec(function(err, products) {
    if (!err) {
        products.forEach(function(p) {
            for(var i = p.variations.length - 1; i >= 0; i--) {
                p.variations[i]['color'] = 'red';
                // This shows all existing variations 
                // with the new color feed - correct
                console.log(p.variations[i]);
            }
            p.save(function(err) {
                if (!err) {
                    console.log("Success");
                } else {
                    console.log(err);
                }
            });
        });     
    }
}); 
```

但是“颜色”字段未设置 - 如果我再次查看并注释掉该`p.variations[i]['color'] = 'red';`行，则它不会显示。我似乎无法弄清楚它为什么这样做。我有一个正确触发的 onSave 事件，因此它正在保存。我也没有对变体结构进行任何检查——即没有只允许代码和价格的代码。我显然错过了一些东西，但几个小时后我的想法就用完了。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-02-25T21:15:27.590

当您修改无类型`Array`字段（如）的内容时`variations`，您需要通知 Mongoose 您已通过调用`markModified(path)`修改后的文档来更改其值，否则后续`save()`调用将不会保存它。[请参阅文档](http://mongoosejs.com/docs/schematypes.html)。

```
 for(var i = p.variations.length - 1; i >=0; i--) {
    p.variations[i]['color'] = 'red';
  }
  p.markModified('variations');
  p.save(function(err) { ... 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T23:06:05.507

您必须使用**[set](http://mongoosejs.com/docs/api.html#document_Document-set)**函数来更改属性。这背后的原因是猫鼬必须将字段标记为已修改才能保存到数据库中。

```
for(var i = p.variations.length - 1; i >=0; i--) {
  p.variations[i].set({"color":"red", "code":"herr"});
  // or
  p.variations[i].set("color":"red");
  p.variations[i].set("code":"herr");
} 
```

另一种方法是以旧方式更改字段的值，而无需通过设置器，然后手动将其标记为已修改：`p.markModified('variations');`

在我看来，您应该始终使用 setter，因为它更具可读性。您可以只传递一个包含所有参数更改的 json 对象，它会安全地更新您*真正*想要更改的字段。

# encoding - Ajax.InPlaceEditor.prototype：将原型升级到 1.7.1 后，空格被编码为 '+'

> ID：15076321
> 
> 赞同：1
> 
> 时间：2013-02-25T20:55:13.770
> 
> 标签：encoding, prototypejs, compatibility, in-place-editor

我在我的代码中使用了 InPlaceEditor，它在原型版本 1.6.0.3 上运行良好，但在我升级到 1.7.1 之后。保存后，文本字段中的所有空格都将替换为“+”。我可以做些什么来“禁用” InPlaceEditor 的文本编码？

这里的问题是，如果我有一个字符串“我有一只狗 + 一只猫 + 一只鹦鹉”怎么办。它将以“I+have+a+dog+++a+cat+++a+parrot”的形式发送到服务器

# php - 如何使用 php 下载此 PDF 文件

> ID：15076323
> 
> 赞同：6
> 
> 时间：2013-02-25T20:55:18.633
> 
> 标签：php

我想从此[链接](https://www.sedi.ca/sedi/SVTReportsAccessController?menukey=15.03.00&locale=en_CA)下载 pdf 文件。从页面中，选择每周摘要，我要下载第一个 pdf。

[PDF](https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA) 每周摘要 - 上周：按内部人员排序

我正在使用以下代码尝试下载pdf，

```
<?php

$file="https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA";

if (file_exists($file))
{
    if (FALSE!== ($handler = fopen($file, 'r')))
    {
        header('Content-Description: File Transfer');
        header('Content-Type: application/octet-stream');
        header('Content-Disposition: attachment; filename='.basename($file));
        header('Content-Transfer-Encoding: chunked'); //changed to chunked
        header('Expires: 0');
        header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
        header('Pragma: public');
        //header('Content-Length: ' . filesize($file)); //Remove

        //Send the content in chunks
        while(false !== ($chunk = fread($handler,4096)))
        {
            echo $chunk;
        }
    }
    exit;
}
echo "<h1>Content error</h1><p>The file does not exist!</p>";

?> 
```

**看来我无法使用 PHP 下载。我可以自己下载确认弹出窗口。有什么建议么？**

我也试过curl，还是不能下载。文件大小为零。

```
<?php

    $file="https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA";

    $path = 'c:\download\output.pdf';

    $ch = curl_init($file);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    $data = curl_exec($ch);

    curl_close($ch);

    file_put_contents($path, $data);

?> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T21:08:02.077

与其让您的 PHP 服务器充当代理，不如直接：

```
<?PHP
$file="https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA";
header("Location: $file");
?> 
```

版本 2

```
<?PHP
$file="https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA";
header('Content-type: application/pdf');
header('Content-Disposition: attachment; filename="filename.pdf"');
readfile($file);
?> 
```

版本 3

```
curl_setopt($ch, CURLOPT_REFERER, 'https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA'); 
```

将此行添加到您的原始代码中？

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-26T19:35:34.730

最后我可以下载带有 PHP curl 和 CURLOPT_REFERER 设置的 PDF 文件。下面是代码。

```
<?php

$url  = 'https://www.sedi.ca/sedi/SVTWeeklySummaryACL?name=W1ALLPDFI&locale=en_CA';
$path = "/pdf/output.pdf";

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_REFERER, 'https://www.sedi.ca/sedi/SVTReportsAccessController?menukey=15.03.00&locale=en_CA');

$data = curl_exec($ch);

curl_close($ch);

$result = file_put_contents($path, $data);

if (!$result) {
    echo "error";
} else {
    echo "success";
}
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-01T14:31:42.593

此外，如此处所述：

[使用 curl 从 SSL 下载图像？](https://stackoverflow.com/questions/5045384/download-a-image-from-ssl-using-curl)

对于 https，我们应该添加以下内容：

```
 curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); 
```

# android - 在配置更改期间向主循环器发布消息

> ID：15076339
> 
> 赞同：1
> 
> 时间：2013-02-25T20:56:01.380
> 
> 标签：android, android-framework

如果我在配置更改之前/期间向主循环器发布可运行/发送消息，是否有机会在之后`Activity#onDestroy`但之前交付它`Activity#onCreate`？API 级别的行为是否一致？

假设这不可能发生，我保证将在发布到主循环器的消息传递之前调用哪些生命周期方法？一切从`Activity#onPause`到`Activity#onResume`?

编辑以扩展问题：在配置更改之前添加的片段呢？`onCreate()`在发送消息之前，他们也会被呼叫吗？

# gwt - 在 GWT 中选择一个列表框下拉项

> ID：15076347
> 
> 赞同：2
> 
> 时间：2013-02-25T20:56:39.973
> 
> 标签：gwt, listbox

我有一个 GWT 视图，我从中获取下拉列表的值并将其存储在数据库中。下拉列表的值为“一”“二”“三”。当我回到同一个视图并且我将“Two”存储在数据库中时，我希望“Two”成为选定的项目。但是，目前我可以让它工作的唯一方法是遍历列表框中的每个项目以找到匹配的项目，然后将其设置为选定的项目。有没有更好的方法来实现这一目标？我不想保存选定的索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T03:32:13.403

我建议你扩展 ListBox 并实现 TakesValue 接口。在这个类中维护一个列表变量，它保存了 ListBox 中的所有项目。setValue 和 getValue 应该类似于以下代码片段 -

```
private List<String> listItems = new ArrayList<String>();

public class MyListBox extends ListBox implements TakesValue<String>
{
         public void setValue( String value )
         {
        if ( listItems.size() > 0 )
        {
            int valueIndex = 0;
            if ( listItems.contains( value ) )
            {
                valueIndex = listItems.indexOf( value );
                this.value = value;
            }
            setItemSelected( valueIndex, true );
        }
        }

        public String getValue()
        {
        int selectedIndex = super.getSelectedIndex();
        String value = null;
        if ( selectedIndex >= 0 )
        {
            value = super.getValue( selectedIndex );
            if ( "null".equals( value ) )
            {
                value = null;
            }
        }

        return value;
        }

        public void setOptions(List<String> options)
        {
              listItems.clear();
              listItems.addAll( items );
              for ( String item : listItems )
              {
                    addItem( item, item );
              }
        }
} 
```

现在只需从视图 java 文件中调用 listBox.setValue(value) 方法即可。在此之前必须设置选项。

# git - 如何防止 git 更改文件所有权

> ID：15076348
> 
> 赞同：19
> 
> 时间：2013-02-25T20:56:44.840
> 
> 标签：git, file, ownership

我一直注意到，当我从开发服务器（Red Hat）上的 github 存储库中拉取文件时，拉取完成后文件的所有权会发生变化。.git 文件曾经归我所有，但后来我注意到它会以我的身份写入文件，我需要它以不同的用户身份写入文件。所以我改变了 .git 目录的所有权。

我偶然发现了 git config`core.filemode`这是真的。从那以后，我将其设置为假。将其设置为 false 后，我没有看到任何差异。我应该怎么做才能防止我的文件所有权发生变化。

这不会发生在我本地。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2015-04-24T04:46:39.913

如果足以保留组，您可以在目录上设置 setgid 标志。见[http://en.wikipedia.org/wiki/Setuid](http://en.wikipedia.org/wiki/Setuid)

> 在目录上设置 setgid 权限（“chmod g+s”）会导致在其中创建的新文件和子目录继承其组 ID，而不是创建文件的用户的主组 ID（所有者 ID 永远不会受到影响，只有组 ID）。新创建的子目录继承 setgid 位。因此，这为组启用了共享工作空间，而无需在创建新文件或目录之前要求组成员显式更改其当前组的不便。请注意，对目录设置 setgid 权限仅影响设置 setgid 位后创建的新文件和子目录的组 ID，不适用于现有实体。在现有子目录上设置 setgid 位必须手动完成，使用如下命令：
> 
> `[root@foo]# find /path/to/directory -type d -exec chmod g+s '{}' \;`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-25T21:08:13.193

Git 不是部署服务器。它以编写文件的人的身份写入文件，那就是你。如果您需要设置权限和所有权，您可以制作一个结帐后挂钩并让它读取配置文件或其他内容来决定下一步做什么。

# javascript - 是否可以仅获取元素的隐藏文本？

> ID：15076350
> 
> 赞同：2
> 
> 时间：2013-02-25T20:56:48.703
> 
> 标签：javascript, css, html, selenium, webdriver

Selenium Webdriver 包含一个仅返回元素内可见文本的函数。我想编写一个函数，它只会获取元素内的隐藏文本（即所有[在 Selenium Webdriver W3C 规范的含义中不可见的](http://www.w3.org/TR/webdriver/#determining-visibility)文本）。根据此规范，元素只有在满足以下所有条件时才可见：

> *   元素的高度和宽度必须大于 0px。
> *   如果该元素或其任何祖先被隐藏或具有为无的 CSS 显示属性，则该元素不得可见。
> *   如果存在将元素移出视口且无法滚动到的 CSS3 Transform 属性，则该元素必须不可见。OPTION 和 OPTGROUP 元素被视为特殊情况，当且仅当封闭的 select 元素可见时，它们才被视为显示。
> *   当且仅当它使用的图像可见时，才会显示 MAP 元素。如果封闭的 MAP 可见，则显示地图内的区域。
> *   “type=hidden”的任何 INPUT 元素都不可见
> *   如果启用了 Javascript，则任何 NOSCRIPT 元素都不得可见。
> *   如果元素的 offsetParents 的传递闭包中的任何祖先具有固定大小，并且具有“溢出：隐藏”的 CSS 样式，并且元素的位置不在父元素的固定大小范围内，则该元素必须不可见。

是否可以编写一个仅返回包含在元素内的隐藏文本的 JS 函数？您知道任何包含此类功能的库吗？这样的功能会有多慢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T20:59:39.287

是的，如果您只是监视`display: none`，`visibility: hidden`并且没有大小甚至是屏幕外的绝对/相对位置，则可以编写这样的代码。您必须迭代页面中的每个元素，确定该元素是否可见，如果是，则从该元素中的任何文本节点收集文本。

它不会比迭代文档中每个节点的任何其他函数慢或快。总时间将取决于编写迭代代码的效率（例如，它可以跳过隐藏元素的所有子元素）以及文档的长度/复杂程度。

如果您希望能够区分溢出元素边缘之外的文本：隐藏或可能标记为可见性但不在屏幕或视图之外或当前可见滚动区域之外的元素或可能被其他元素遮挡的文本片段，这将非常困难，老实说，我不知道是否所有这些都可以从纯 javascript 中弄清楚。

# php - 2 个不同的 php 会话：www.domain.com 和 domain.com：如何合并？

> ID：15076352
> 
> 赞同：0
> 
> 时间：2013-02-25T20:56:58.893
> 
> 标签：php, session-variables

因此，在花了几个小时扯掉我的头发后，我终于意识到我的课程存在问题。正在写入会话数据，但服务器“静默”地启动 2 个会话。

1) www.domain.com 中所有页面的第一个会话

2) 另一个只用于 domain.com

如何合并两个会话并确保无论“www”与否，我都在拉同一个会话？

谢谢！感谢所有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:01:24.810

考虑到 www 实际上是一个子域（对于公众读者：如果我错了，请纠正我），那么也许你可以在这里找到有用的信息：
[允许 php 会话转移到子域](https://stackoverflow.com/questions/644920/allow-php-sessions-to-carry-over-to-subdomains)

# opengl - 相机到世界的转换和世界到相机的转换

> ID：15076358
> 
> 赞同：0
> 
> 时间：2013-02-25T20:57:25.957
> 
> 标签：opengl

我对相机到世界与世界到相机的转换有点困惑。

1.  在openGL渲染管线中，转换是从世界到相机，对吧？基本上，在相机处构建视图坐标系，然后世界中的对象首先相对于相机平移，然后随着相机坐标系旋转。这就是 gluLookat 的表现吗？

2.  如果我想从相机视图回到世界视图，应该怎么做？在数学上，我正在考虑找到平移和旋转矩阵的逆矩阵，然后在平移之前应用旋转，对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:38:26.853

通常有几个转换将世界位置映射到屏幕。以下是最常见的：

*   世界变换：可以应用于对象，以便相对于其他对象重新对齐它们。
*   视图变换：经过此变换后，相机位于 O 并朝 z 方向看。
*   投影变换：执行透视变换以模拟真实相机
*   视口自适应：这基本上是一种缩放和平移，将范围 [-1, 1] 的位置映射到视口。这通常是屏幕的宽度和高度。

`gluLookAt`用于创建视图转换。您可以如下想象：将相机放置在场景中的某个位置。现在变换整个场景（使用相机），使相机位于原点，它面向 z 方向，y 轴代表向上方向。这是一个简单的刚体变换，可以表示为任意旋转（具有三个自由度）和任意平移（具有另外三个自由度）。每个刚体变换都可以拆分为单独的旋转和平移。如果您选择正确的值，甚至评估的顺序也会有所不同。转换可以用不同的方式来解释。我写了[一篇博文](http://nicoschertler.wordpress.com/2012/01/27/directx-and-matrices/)不久前关于那个话题。如果你有兴趣，不妨看看它。虽然它适用于 DirectX，但数学与 OpenGL 几乎相同。你只需要注意转置矩阵。

对于第二个问题：是的，你是对的。你需要找到逆变换。这可以通过逆矩阵轻松实现。如果您指定视图矩阵 V 如下：

```
V = R_xyz * T_xyz 
```

那么逆变换 V^-1 是

```
V^-1 = T_xyz^-1 * R_xyz^-1 
```

但是，这不会将屏幕位置映射到世界位置，因为正在进行更多转换。我希望，这能回答你的问题。

这是另一个有趣的点。视图矩阵是在指定位置对齐相机模型（在原点，面向 z 方向）的变换的逆矩阵。这种关系称为系统转换与模型转换。

# objective-c - UIView 元素布局约束

> ID：15076362
> 
> 赞同：2
> 
> 时间：2013-02-25T20:57:41.857
> 
> 标签：objective-c, uiview, autolayout, nslayoutconstraint

我对 iOS 开发相当陌生，但已经到了想创建自己的复合 UIView 作为自定义 UIButton 的地步。我想按如下方式布局 UILabel 和 2x UIImageViews；

![在此处输入图像描述](../Images/29daa26065070de71c5abe61d3a3e30c.png)

但我还想以这样一种方式锚定控件（子视图），即随着标签的扩展，由于翻译说，视图会自动处理额外的空间。例如;

![在此处输入图像描述](../Images/f1dffd6c24d6cbbe99a80c8a87986121.png)

理想情况下——

*   右侧的 UIView 锚定在右侧；并保持固定的宽度/高度（右对齐）。
*   标签和底部图像划分剩余的左侧空间
    *   标签在上部剩余空间的上半部分垂直居中
    *   底部图像在下部剩余空间中保持居中（垂直和水平）
*   如果标签比底部图像宽，则视图应展开

如果需要，我很乐意用纯代码构建它。我在上面的图片中使用了 XIB 来处理属性并可视化我的问题。

我来自 C#/XAML 背景，所以我通常会使用带有固定/自动/* 列和行的网格布局，但我猜我需要在这里使用 NSLayoutConstraints 之类的东西 - 不幸的是，我不知道从哪里开始或如何寻找解决方案。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:26:46.063

在你的 UIButton

（代码未测试）

```
//put the code below in your button's init method    

UILabel *label = [[UILabel alloc] init];
UIImageView *bottomImageView = [[UIImageView alloc] init];
UIImageView *rightImageView = [[UIImageView alloc] init];

// we define our own contraints, 
// we don't want the system to fall-back on UIView's autoresizingMask property (pre-iOS 6)
self.translatesAutoresizingMaskIntoConstraints = NO;
label.translatesAutoresizingMaskIntoConstraints = NO;
bottomImageView.translatesAutoresizingMaskIntoConstraints = NO;
rightImageView.translatesAutoresizingMaskIntoConstraints = NO;

//fixed sizes => SET THESE as you want
CGFloat labelHeight, bottomWidth, rightImageWidth;

// 1 - Label constraints :
// labelWidth = 1 *self.width - rightImageWidth
NSLayoutConstraint *labelWidth = [NSLayoutConstraint constraintWithItem:label
                                                               attribute:NSLayoutAttributeWidth
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeWidth
                                                              multiplier:1
                                                                constant:(- rightImageWidth)];

// label must be at the top :
NSLayoutConstraint *labelTop = [NSLayoutConstraint constraintWithItem:label
                                                               attribute:NSLayoutAttributeTop
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeTop
                                                              multiplier:1
                                                                constant:0];

//label must be on the left border
NSLayoutConstraint *labelLeft = [NSLayoutConstraint constraintWithItem:label
                                                               attribute:NSLayoutAttributeLeft
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeLeft
                                                              multiplier:1
                                                                constant:0];

//label must be of 1/2 height

NSLayoutConstraint *labelHeight = [NSLayoutConstraint constraintWithItem:label
                                                               attribute:NSLayoutAttributeHeight
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeHeight
                                                              multiplier:0.5
                                                                constant:0];

[self addSubview:label];
[self addConstraints:@[labelWidth, labelTop, labelLeft, labelHeight]];

//2 - botom view
// width constant
NSLayoutContraint *bottomWidth = [NSLayoutConstraint constraintWithItem:bottomImageView
                                                               attribute:NSLayoutAttributeWidth
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:nil
                                                         attribute:NSLayoutAttributeNotAnAttribute
                                                              multiplier:0
                                                                constant:bottomWidth];

// same height constraint as label
NSLayoutConstraint *bottomHeight = [NSLayoutConstraint constraintWithItem:bottomImageView
                                                               attribute:NSLayoutAttributeHeight
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeHeight
                                                              multiplier:0.5
                                                                constant:0];

// sticks at container's bottom (pun intended)
NSLayoutConstraint *bottomBottom = [NSLayoutConstraint constraintWithItem:bottomImageView
                                                               attribute:NSLayoutAttributeBottom
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeBottom
                                                              multiplier:1
                                                                constant:0];

//we have height, width, y contraints, just x remains
// NOTE : this one is between bottom view and label
NSLayoutConstraint *bottomCenteredXAsLabel = [NSLayoutConstraint constraintWithItem:bottomImageView
                                                               attribute:NSLayoutAttributeCenterX
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:label
                                                               attribute:NSLayoutAttributeCenterX
                                                              multiplier:1
                                                                constant:0];

[self addSubview:bottomImageView];
[self addConstraints:@[bottomWidth, bottomHeight, bottomBottom, bottomCenteredXAsLabel]];

// 3 - last one !
NSLayoutConstraint *rightAligned = [NSLayoutConstraint constraintWithItem:rightImageView
                                                               attribute:NSLayoutAttributeRight
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeRight
                                                              multiplier:1
                                                                constant:0];

//right height
NSLayoutConstraint *rightHeight = [NSLayoutConstraint constraintWithItem:rightImageView
                                                               attribute:NSLayoutAttributeHeight
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeHeight
                                                              multiplier:1
                                                                constant:0];

//constant width...
NSLayoutConstraint *rightWidth =  [NSLayoutConstraint constraintWithItem:rightImageView
                                                               attribute:NSLayoutAttributeWidth
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:nil
                                                         attribute:NSLayoutAttributeNotAnAttribute
                                                              multiplier:0
                                                                constant:rightImageWidth];

//width, height, x constraints... 
//we still need one on y, let's say it sticks at the top

NSLayoutConstraint *rightTop = [NSLayoutConstraint constraintWithItem:rightImageView
                                                               attribute:NSLayoutAttributeTop
                                                               relatedBy:NSLayoutRelationEqual
                                                                  toItem:self
                                                               attribute:NSLayoutAttributeTop
                                                              multiplier:1
                                                                constant:0];

[self addSubview:rightImageView];
[self addConstraints:@[rightAligned, rightHeight, rightWidth, rightTop]]; 
```

等等瞧！

方法始终相同：每个视图至少需要 4 个约束，设置宽度、高度、x 和 y（CGRect 4 维度）。将约束视为关系：

```
item1.layoutAttribute1 >= a*item2.layoutAttribute2 + b 
```

翻译成这种形式

```
[NSLayoutConstraint constraintWithItem:item1
                             attribute:layoutAttribute1
                             relatedBy:NSLayoutRelationGreaterThanOrEqual
                                toItem:item2
                             attribute:layoutAttribute2
                            multiplier:a
                              constant:b]; 
```

请注意，使用视觉格式，您可以用更少的代码表达所有这些。（但我还没有玩过它）。

# css - Firefox 中不显示背景颜色

> ID：15076366
> 
> 赞同：0
> 
> 时间：2013-02-25T20:57:57.590
> 
> 标签：css, internet-explorer, firefox

我有一个问题，即 IE 中的代码正确显示颜色格式，但在使用 Firefox 时却没有。

我试过使用 Firebug，我可以看到单元格在哪里，并且“样式”被正确加载，但它只是不显示 Firefox 中的背景颜色......

相关代码如下所示：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Internal Radiant Support - Agent Stats</title>

<!-- Stylesheet -->            
<style type="text/css">
table.default {
    empty-cells:hide;
    border-spacing: 2px;
    background-color: rgb(0, 0, 0);
    empty-cells:hide;
}

table.default th {
    padding: 2px 2px 2px 2px;
    background-color: #E4E4E4;
}

table.default td {
    padding: 2px 2px 2px 2px;
    background-color: #FFFFFF;
}
</style>

</head>
<body bgcolor="#FFFFFF" height="100%" text="#000000" leftmargin="0" rightmargin="0" topmargin="0" bottommargin="0" marginheight="0" marginwidth="0">
<form action="" method="post" name="crs_form" style="margin-top: 0; margin-right: 0; margin-left: 0; margin-bottom: 0;">
<table align="center" class="default">
<tr class="default">
<th><input type="submit" name="agent_stats_PC[calendar][navigate][previous]" value="<"></th>
<th colspan="6"><input type="submit" name="agent_stats_PC[calendar][navigate][month]" value="February"><input type="submit" name="agent_stats_PC[calendar][navigate][month]" value="2013"></th>
<th><input type="submit" name="agent_stats_PC[calendar][navigate][next]" value=">"></th>
</tr>
<tr class="default">
<th width="35">S</th>
<th width="35">M</th>
<th width="35">T</th>
<th width="35">W</th>
<th width="35">T</th>
<th width="35">F</th>
<th width="35">S</th>
<th width="35">W</th>
</tr>
<tr class="default">
<td style="align=center; background-color=#C4C4C4;">27</td>
<td>28</td>
<td>29</td>
<td>30</td>
<td>31</td>
<td>01</td>
<td style="align=center; background-color=#E4E4E4;">02</td>
</tr>
<tr class="default">
<td style="align=center; background-color=#E4E4E4;">03</td>
<td>04</td>
<td>05</td>
<td>06</td>
<td>07</td>
<td>08</td>
<td style="align=center; background-color=#E4E4E4;">09</td>
</tr>
<tr class="default">
<td style="align=center; background-color=#E4E4E4;">10</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
<td style="align=center; background-color=#E4E4E4;">16</td>
</tr>
<tr class="default">
<td style="align=center; background-color=#E4E4E4;">17</td>
<td>18</td>
<td>19</td>
<td>20</td>
<td>21</td>
<td>22</td>
<td style="align=center; background-color=#E4E4E4;">23</td>
</tr>
<tr class="default">
<td style="align=center; background-color=#C4C4C4;">24</td>
<td>25</td>
<td>26</td>
<td>27</td>
<td>28</td>
<td>01</td>
<td style="align=center; background-color=#E4E4E4;">02</td>
</tr>
</table>
<br /><table align="center" class="default">
<tr class="default">
<th>Agent Stats Converter</th>
</tr>
<tr class="default">
<td><textarea name="agent_stats_PC[import][data]" cols="32" rows="8"></textarea></td>
</tr>
<tr class="default">
<th><input type="submit" name="agent_stats_PC[import][button]" value="Submit"><input type="submit" name="agent_stats_PC[import][button]" value="Cancel"></th>
</tr>
</table>

</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:02:12.543

您在标签和 css 区域中混淆 css - 但这不是问题。

如果你指的是这部分：

```
<td style="align=center; background-color=#C4C4C4;">27</td> 
```

那么它是

```
<td style="text-align:center; background-color:#C4C4C4;">27</td> 
```

: 是 css，= 是这样使用的：

```
<td background="..." ... 
```

# c# - XAML 是 VirtualCanvas（就像 VirtualStackPanel）可能的吗？

> ID：15076367
> 
> 赞同：1
> 
> 时间：2013-02-25T20:58:02.777
> 
> 标签：c#, xaml, canvas, virtualization, game-engine

我正在创建一个使用画布的垂直滚动游戏。虽然目前还没有性能问题，但我预计会有，因为我不相信画布本身就提供虚拟化。是否有类似于 VirtualStackPanel 的 VirtualCanvas 之类的东西？我想要相同的功能，它只绘制当前显示的内容。

现在我的结构看起来像这样

```
<canvas Name="GameCanvas">
   <canvas Name="StaticBG">

   </canvas>
   <canvas Name="DynamIcBG">

   </canvas>
   <canvas Name="CollidableObjects">

   </canvas>
   <canvas Name="Hud">

   </canvas>
</canvas> 
```

我想虚拟化 DynamicBG 和 CollidableObjects 画布

编辑：我可以把我所有的东西都放在 VirtualStackPanel 里面吗？那行得通吗？

```
<Canvas>
    <Canvas>

    <VirtualizingStackPanel>
            <Canvas Name="Collidables">
                <TextBlock>HOMES IT WORKS</TextBlock>
            </Canvas>
    </VirtualizingStackPanel>

    </Canvas>
    <Canvas>

        <VirtualizingStackPanel>
            <Canvas Name="DynamicBG">
                <TextBlock>IT WORKS HOMES</TextBlock>
            </Canvas>
        </VirtualizingStackPanel>
    </Canvas>
</Canvas> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T00:11:16.107

不是虚拟化的`Canvas`——至少，不是你通常定义虚拟化的方式。

以下 LINQPad-ready 工具将显示这一点 - 即使“错误”在窗口范围之外，包含的错误将继续呈现。

```
void Main()
{
    var bugCount = 4;
    var window = System.Windows.Markup.XamlReader.Parse(someXaml) 
            as System.Windows.Window;
    window.Show();
    var canvas = window.FindName("canvas") 
            as System.Windows.Controls.Canvas;
    var bugs = new List<Bug>();
    var r = new Random();
    if(canvas != null)
    {
        for(int i=0; i < bugCount; i++)
        {
            var bug = new Bug();
            bug.Height = 50;
            bug.Width = 50;
            bug.Location = new System.Windows.Point(
                r.Next(0, (int)canvas.Width), 
                r.Next(0, (int)canvas.Height));
            canvas.Children.Add(bug);
            bugs.Add(bug);
        }
    }
    var dt = new System.Windows.Threading.DispatcherTimer();
    dt.Tick += (o,e) => MoveIt(bugs);
    dt.Interval = TimeSpan.FromMilliseconds(100);
    dt.Start();

}

public void MoveIt(List<Bug> bugs)
{
    var r = new Random();
    foreach (var bug in bugs)
    {
        var dir = r.Next(0,4);
        switch (dir)
        {
            case 0: 
                bug.Location = 
                    new System.Windows.Point(bug.Location.X + 1, bug.Location.Y); 
                break;
            case 1: 
                bug.Location = 
                    new System.Windows.Point(bug.Location.X - 1, bug.Location.Y); 
                break;
            case 2: 
                bug.Location = 
                    new System.Windows.Point(bug.Location.X, bug.Location.Y + 1); 
                break;
            case 3: 
                bug.Location = 
                    new System.Windows.Point(bug.Location.X, bug.Location.Y - 1); 
                break;
        }
    }
}

public class Bug : System.Windows.Controls.UserControl
{
    private static int _bugCounter = 0;
    public Bug()
    {
        this.BugId = _bugCounter++;
    }
    public int BugId {get; private set;}     
    private System.Windows.Point _location;
    public System.Windows.Point Location 
    {
        get { return _location; }
        set 
        { 
            _location = value; 
            System.Windows.Controls.Canvas.SetLeft(this, value.X);
            System.Windows.Controls.Canvas.SetTop(this, value.Y);
            InvalidateVisual();            
        }
    }

    protected override void OnRender(System.Windows.Media.DrawingContext ctx)
    {
        base.OnRender(ctx);
        Console.WriteLine("Yo, bug #{0} is rendering!", BugId);
        ctx.DrawRectangle(
            System.Windows.Media.Brushes.Red, 
            new System.Windows.Media.Pen(System.Windows.Media.Brushes.White, 1), 
            new System.Windows.Rect(Location, this.RenderSize));
        var formattedText = new System.Windows.Media.FormattedText(
            this.BugId.ToString(), 
            System.Globalization.CultureInfo.CurrentCulture, 
            System.Windows.FlowDirection.LeftToRight, 
            new System.Windows.Media.Typeface("Arial"), 
            12, 
            System.Windows.Media.Brushes.White);
        ctx.DrawText(
            formattedText, 
            new System.Windows.Point(Location.X + 10, Location.Y + 10));
    }
}

string someXaml =
@"
<Window
    xmlns=""http://schemas.microsoft.com/winfx/2006/xaml/presentation""
    xmlns:x=""http://schemas.microsoft.com/winfx/2006/xaml""
    Width=""320""
    Height=""240""
>
    <Canvas 
        x:Name=""canvas""
        Width=""640""
        Height=""480""
        Background=""LightGray""
    />
</Window>        
"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T23:28:32.513

这个问题的答案是 Canvas 伪造了虚拟化。如果您在画布上加载一堆对象并且不需要在屏幕上绘制它们，则它们会被忽略。我说假虚拟化是因为这来自我自己的调查和研究。我还没有找到与该主题相关的单篇文章。

但是，如果您要将 200 个 100x100 的图像加载到画布上屏幕内外各个位置的画布上。您会注意到，当您移动画布时，您不会遇到任何延迟。

# jquery - jQuery jqGrid - 将网格类型从“xml”更改为“本地”后访问数据

> ID：15076374
> 
> 赞同：0
> 
> 时间：2013-02-25T20:58:27.397
> 
> 标签：jquery, jqgrid

我有两个问题，`jqGrid`希望有人能提供帮助。

场景是我有一个`jqGrid`最初通过 XML 加载的，在加载后，网格设置为本地网格（通过`$('#mygrid').setGridParam({datatype: 'local'}).trigger('reloadGrid')`in `document.ready()`。我这样做是因为它在or`document.ready`中不起作用）。`loadComplete``gridComplete`

网格的数据正确加载并且网格数据类型设置为本地，但如果我尝试排序，例如，网格行消失。同样，如果我尝试以编程方式访问网格数据（使用`$('#mygrid').getGridParam('data')`or `$('#mygrid')[0].p.data)`，我不能 - 它是空的/不可用。

我在这里错过了一步吗？我是否应该手动将最初加载的数据复制到本地空间？我想在将网格设置为本地之前从网格中获取数据，循环并使用手动添加行`addRowData()`，但是 1）我不确定如何从非本地网格中获取数据，2）这似乎是非凡的努力，我我错过了一些东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T23:08:24.497

您尝试在演示中运行这样的[示例，而无需仅使用测试数据加载 xml。](http://www.trirand.com/blog/jqgrid/jqgrid.html#t5)

如果一切正常，请添加 xml。

# ruby - 测试类型的 Simplecov 报告

> ID：15076375
> 
> 赞同：1
> 
> 时间：2013-02-25T20:58:27.903
> 
> 标签：ruby, testing, code-coverage

我在 Ruby 项目中有两组测试：

```
test:unit
test:functional 
```

当我使用 Simplecov 生成覆盖率报告时，由 test:unit 生成的报告被 test:acceptance 生成的报告覆盖。

是否可以将 Simplecov 配置为在两个单独的目录（如 coverage-unit 和 coverage-acceptance）中生成报告？

# html - 响应式输入大小在使用 Bootstrap 进行输入前置时会增加

> ID：15076378
> 
> 赞同：1
> 
> 时间：2013-02-25T20:58:34.850
> 
> 标签：html, twitter-bootstrap

当我调整这个小提琴的大小时，当我缩小屏幕时输入框会变大。不幸的是，在 iPhone 上，它在我的应用程序中消失了。

这是小提琴： http: [//jsfiddle.net/v6Bhx/5/embedded/result/](http://jsfiddle.net/v6Bhx/5/embedded/result/)这是代码：

```
<div class="row-fluid">
<div class="span6">
    <table width="500">
        <tr>
            <td>
                <div class="input-prepend">
                   <span class="add-on">$</span>
                   <input type="text" name="fee" value="" class="span6" />

                </div>
            </td>
       </tr>
  </table>
</div>
<div class="span6">Test</div>
</div> 
```

也是的，我意识到我正在使用表格。我这样做不是为了格式化数据，它实际上是用于表格数据，其中恰好有输入框。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:07:01.443

当视点缩小到移动设备大小时，将表格宽度设置为 500px 可能会导致问题。尝试删除表格宽度，看看会发生什么。

**更新**

我无法准确描述您希望最终页面和表格的外观，但您可以检查以下几点。

关于 iPhone 显示问题，请确保在您的页面头部有：

```
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
```

我认为指定 100% 的表格宽度将是无效的 HTML5。我怀疑这是你问题的根源，但在你的 CSS 中尝试这样的事情：

```
.span6 table{
width:100%;
} 
```

我可以看到在表格中添加带有输入的表单将是一个挑战。如果没有办法解决这个问题，那么你现在有一个嵌套问题—— input.span6 实际上嵌套在另一个 span6 列中。

一般来说，带有流动行的嵌套网格的 HTML 是：

```
<div class="row-fluid">  
<div class="span6">  

  <div class="row-fluid"> <!-- start nested grid -->
  <div class="span12">
  <!-- Form and table details here -->
  </div> <!-- end nested span -->
  </div> <!-- end nested row -->  

</div> <!-- end span6 -->  

<div class="span6">  
  test  
</div>
</div> 
```

有关完整详细信息， 请参阅[http://twitter.github.com/bootstrap/scaffolding.html#gridSystem](http://twitter.github.com/bootstrap/scaffolding.html#gridSystem)上的流体嵌套部分。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T01:28:44.313

我的建议是使用 `table width="100%"` .

```
<div class="row-fluid">
<div class="span6">
    <table width="100%">
        <tr>
            <td>
                <div class="input-prepend"> <span class="add-on">$</span>

                    <input type="text" name="fee" value="" class="span6"
                    />
                </div>
            </td>
        </tr>
    </table>
</div>
<div span="6">Test</div>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T23:47:38.463

在滑块上设置宽度：

```
<input style="width:125px;" type="text" name="fee" value="" class="span6" /> 
```

或使用 css

```
.span6 { width: 125px; } 
```

原因是表格在调整页面大小时改变了行宽

# c# - 如何在不同的项目中查找内容的路径

> ID：15076381
> 
> 赞同：1
> 
> 时间：2013-02-25T20:58:46.937
> 
> 标签：c#, unit-testing, reflection

我正在尝试编写一个实际上必须使用位于另一个项目的输出目录中的可执行文件的测试，我在测试中引用了那个“其他项目”，现在怎么办？您如何访问“其他项目”的输出目录中的文件？文件有`BuildAction = Content`和`Copy to output directory = Copy Allways`

`System.Reflection.Assembly`方法没有帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:40:03.030

最简单的方法是转到您要调用的“其他”项目的方法并选择“创建单元测试...”。

让它为您创建存根。您应该得到如下代码块，它应该添加引用并创建一个包含 YourApplication.accessor 文件的 Test References 文件夹。

```
 /// <summary>
    /// Your test
    ///</summary>
    [TestMethod()]
    [DeploymentItem("YourApplication.exe")]
    public void YourTest()
    {
        //your entry point that you want to call in the exe
        Program_Accessor.YourMethod();

        //Your assert test here
    } 
```

将 DeploymentItem 属性复制到您的测试中，连接您的方法调用，然后尝试运行测试。

# jquery - 根据方向更改调整完整日历大小

> ID：15076382
> 
> 赞同：3
> 
> 时间：2013-02-25T20:58:47.597
> 
> 标签：jquery, css, ipad, fullcalendar

我正在使用完整的日历，当我的设备 (iPad) 的方向发生变化时，我无法调整它的大小。

容器重新调整大小，但日历没有。任何帮助、建议或提示将不胜感激！谢谢！

## JavaScript

```
//When the orientation changes
window.addEventListener("orientationchange", function() {
    //Resize the container first
    $("#calendarWrapper").css({
      width: $(document).width() * 0.8
    }); 

    //Resize the calendar
    $("#calendar").fullCalendar("windowResize");
    //$("#calendar").fullCalendar("render"); //Doesn't work either

    //Position the container to be in the middle
    $("#calendarWrapper").css({
      marginLeft: $("#calendar").width() / 2 * -1,
      marginTop:  $("#calendar").height() / 2 * -1
    }); 
}, false); 
```

## 初始 CSS

```
#calendarWrapper{
  position:absolute;
  visibility: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  top: 50%;
  left: 50%;
  margin-left: 0px;
  margin-top: 0px;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #afafaf;
  background-color: #fff;
  z-index: 1001;
  opacity: 1;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:51:37.420

发现我的问题！

我手动设置日历的大小

```
window.addEventListener("orientationchange", function() {
    //Resize container and calendar
    $("#calendarWrapper, #calendar").css({
      width: $(document).width() * 0.8
    }); 
    //Re render calendar so it keeps aspect ratio
    $("#calendar").fullCalendar("render");

    //Move container to center of page 
    $("#calendarWrapper").css({
      marginLeft: $("#calendar").width() / 2 * -1,
      marginTop:  $("#calendar").height() / 2 * -1
    });
}, false); 
```

# jquery-ui - 使用 Html.EditorFor 的跨浏览器 JQuery UI DatePicker

> ID：15076383
> 
> 赞同：2
> 
> 时间：2013-02-25T20:58:53.683
> 
> 标签：jquery-ui, razor, asp.net-mvc-4

在我的 ASP.NET MVC4 应用程序中，我有一个包含“from”和“to”字段的视图，为此我使用了 JQuery UI DatePicker 控件。我正在使用 HtmlHelper 来构建我的表单，如以下代码所示：

```
<p>
    @Html.LabelFor(x => x.CustomerId)
    @Html.DropDownListFor(x => x.CustomerId, new SelectList(Model.Customers, "Id", "Name"))
    <span class="datePicker">
        @Html.LabelFor(x => x.FromDate)
        @Html.EditorFor(x => x.FromDate)
    </span>
    <span class="datePicker">
        @Html.LabelFor(x => x.ToDate)
        @Html.EditorFor(x => x.ToDate)
    </span>
</p>
<p>
    @Html.LabelFor(x => x.IsActiveOnly)
    @Html.CheckBoxFor(x => x.IsActiveOnly)
</p> 
```

在模型上，我对两个 DateTime 属性使用`[DataType(DataType.Date)]`and`[DisplayFormat(DataFormatString = "{0:yyyy-MM-dd}", ApplyFormatInEditMode = true)]`属性，**这会在 Chrome 中正确呈现 DatePicker - 但没有默认值 - 但不能在 IE 或 FF**中。

有没有办法使用 HtmlHelper（或使用最少的 JS）在所有 3 个浏览器中显示 DatePicker？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:42:52.110

为什么不将`datePicker`类设置为 texboxes 将其传递给`TextBoxFor`方法的 objectHtml 属性

```
@Html.TextBoxFor(model => model.FromDate, "{0:d}", new {  @class = "datePicker"}) 
```

**编辑 ：**

以上述解决方案为例

```
@model MvcApplication3.Models.MVCTEST2
@{
Layout = null;
}
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width" />
<script src="../../Scripts/jquery-1.9.1.js" type="text/javascript"></script>
<script src="../../Scripts/jquery-ui-1.10.1.custom.js" type="text/javascript"></script>
<link href="../../Content/jquery-ui-1.10.1.custom.min.css" rel="stylesheet" type="text/css" />
<link href="../../Content/jquery-ui-1.10.1.custom.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
    $(document).ready(function () {
         $(".datePicker").datepicker();
    })
</script>
<title>Index</title>
</head>
<body>
<div>
    @Html.TextBoxFor(model => model.FromDate, "{0:d}", new { @class = "datePicker" })
</div>
</body>
</html> 
```

在 IE FF 和 GC 上测试

# actionscript-3 - 使 Flash 父级淡出并添加声音 BrickBreaker 游戏

> ID：15076385
> 
> 赞同：0
> 
> 时间：2013-02-25T20:59:03.483
> 
> 标签：actionscript-3, flash, actionscript

嗨，我正在尝试让这块砖在 Flash AS3 的破砖游戏中被球击中时淡出。这是代码。目前只有一个 removechild 函数使它消失我想知道如何让它淡出。另外，当球击中砖块时，我想添加一个破碎的声音，并且想知道如何添加这个声音？

编辑：我已经设法在删除子行之后使用 Var & Play 添加声音

```
package {
import flash.display.*;
import flash.events.*;

public class Brick extends MovieClip {
    private var _root:MovieClip;
    public function Brick(){
        addEventListener(Event.ADDED, beginClass);
        addEventListener(Event.ENTER_FRAME, enterFrameEvents);
    }
    private function beginClass(event:Event):void{
        _root = MovieClip(root);
    }
    private function enterFrameEvents(event:Event):void{
        if(this.hitTestObject(_root.Ball)){
            _root.ballYSpeed *= -1;
            this.parent.removeChild(this);
            removeEventListener(Event.ENTER_FRAME, enterFrameEvents);
        }
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:28:02.380

我将如何做到这一点是首先创建一个变量 hit:Boolean 并在它被击中时将其设置为 true 并将 enterFrameEvents 函数中的代码更改为类似这样

```
if(!hit && this.hitTestObject(_root.Ball)){
        hit = true;
        _root.ballYSpeed *= -1;
        //this.parent.removeChild(this);
        //removeEventListener(Event.ENTER_FRAME, enterFrameEvents);
    }
if(hit){
        this.alpha -= 0.1; //change value to preference
        if(this.alpha <= 0){
             this.parent.removeChild(this);
             removeEventListener(Event.ENTER_FRAME, enterFrameEvents);
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T02:45:54.197

只需要一个补间就不需要任何补间包。

您可以使用 AS3 本身提供的 Tween 类。试试这个 ：

```
new Tween(mc,"alpha", 
          Strong.easeIn,
          mc.alpha,
          0,
          2,
          true).addEventListener(
          TweenEvent.MOTION_FINISH, 
          function() { removeChild(mc); }, 
          false, 0, true); 
```

笔记：

*   mc 是影片剪辑（或砖）。

*   补间完成后，代码会从舞台上移除影片剪辑。

*   球一碰到砖块，您就可以播放声音并在此之后输入此代码。

*   最后三个参数（false、0、true）将运动完成侦听器设置为垃圾收集。

# c# - 为什么这个 C# 程序会在 24GB 内存的 64 位计算机中耗尽内存？

> ID：15076388
> 
> 赞同：2
> 
> 时间：2013-02-25T20:59:22.007
> 
> 标签：c#, out-of-memory

这是我的代码：

> ```
> public class Class1
> {
>     public int[][] binArray;
>     public Class1()
>     {
>         binArray = new int[1000][];
>         for (int i = 0; i < 1000; i++)
>         {
>             binArray[i] = new int[61608];
>         }
>     }
> } 
> ```

```
class Program
{
    static void Main(string[] args)
    {
        Class1 c1 = new Class1();
        Class1 c2 = new Class1();
        Class1 c3 = new Class1();
        Class1 c4 = new Class1();
        Class1 c5 = new Class1();
        Class1 c6 = new Class1();
        Class1 c7 = new Class1();   // Memory will run out at about this point
        Class1 c8 = new Class1();
        Class1 c9 = new Class1();
        Class1 c0 = new Class1();
        Console.WriteLine();
    }
} 
```

Class1 用于存储数组，我认为它会为 24GB 的内存机器获得足够的 61608*4 字节的内存碎片，为什么`out of memory exception`在我初始化第 7 类时它仍然会抛出一个？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T21:03:47.313

这几乎可以肯定是因为您将可执行文件构建为 32b。即使在 64b 机器上运行，一旦它超过约 3GB 的内存，它仍然会爆炸。编译为 64b 就可以了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:06:06.400

这看起来像您以 32 位执行。每个类实例使用大约 250mb 的内存（1000*61608*4 + 开销），因此 7 个实例将占用大约 1.7gb 的内存。这通常是 .NET 32 位进程内存不足的地方，并且不再能够分配大片段。

如果您在 VS 2012 中构建，请意识到默认情况下`AnyCPU`（默认目标）仍将针对 x86，因为有一个新的“首选 32 位”选项。关闭该选项将导致`AnyCPU`构建和运行为 64 位进程。

或者，您可以明确地将 x64 定位为作为 64 位进程运行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:14:39.733

对此进行一些快速的信封计算；

*   新的 61608 个元素的 int 数组。为数组指针加 1（对此有待更正），所以 61609
*   乘以 1000 = 61609000，数组指针再加 1，61609001
*   乘以 4`int`等于`Int32`，每得到 246436004 个字节`Class1`
*   每个叶子实例乘以 7 `Class1`1,725,052,028 字节...大约所以我们正在查看仅由数组占用的大约 1.6Gbs

现在应用程序本身将占用更多空间，因为我没有考虑太多。内存不足异常的一个可能原因是系统上可能发生的分页。操作系统不保证您的程序内存将驻留在 RAM 中。你操作系统的页面文件设置是什么？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T21:28:12.897

这是一个人们不希望遇到的“陷阱”。

[http://www.xavierdecoster.com/post/2011/02/15/console-application-visual-studio-gotcha-on-x64-os-aspx](http://www.xavierdecoster.com/post/2011/02/15/console-application-visual-studio-gotcha-on-x64-os-aspx)

或新更新的网址

[http://www.xavierdecoster.com/post/2011/02/15/console-application-visual-studio-gotcha-on-x64-os](http://www.xavierdecoster.com/post/2011/02/15/console-application-visual-studio-gotcha-on-x64-os)

“在 VS2010 中为 .NET 4.0 创建新的 Visual C# 控制台应用程序时，项目的默认目标设置是针对 x86 平台而不是像 Visual Studio 2008 那样的任何 CPU (MSIL)”

检查您的 csproj 的属性（特别是如果它是控制台应用程序）

# java - 如何在 Java 中始终打印 15 个非零数字？

> ID：15076389
> 
> 赞同：2
> 
> 时间：2013-02-25T20:59:22.460
> 
> 标签：java, printf, decimalformat

例如说我有 Double 值`1.23456789123456`。我希望能够将此数字乘以 10 的各种幂并将输出显示为

```
 123.456789123456
12345.6789123456
    0.0123456789123456
    0.000123456789123456
etc 
```

有没有办法在 Java 中做到这一点，而不必使用 if...then 语句来处理 10 的不同幂所需的不断变化的小数精度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:04:02.997

如果您不需要将数字作为实际浮点值，请尝试将数字表示为`String`不带小数点的 a（例如`"123456789123456"`）。然后使用该`String.substring()`方法，你可以在任何你想要的地方打印小数点，包括前导零等。我不知道你可以完全避免使用任何`if`语句，但逻辑应该相当简单。

例如，这将打印三位有效数字后的小数：

```
String n = "123456789123456";
System.out.print(n.substring(0, 3));
System.out.print('.');
System.out.print(n.substring(3)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T22:22:52.573

这可以改进，但它很接近：

```
public class Test {

    public static void main(final String[] args) {
        System.out.println(format(123.456789123456d));
        System.out.println(format(12345.6789123456d));
        System.out.println(format(0.0123456789123456d));
        System.out.println(format(0.000123456789123456d));
    }

    public static String format(final double d) {
        final int before = 16 - Integer.toString((int) d).length();
        final String format = "%" + (16 + before) + "." + before + "f";
        return String.format(format, d);
    } 
```

输出：

```
 123.4567891234560
      12345.67891234560
          0.012345678912346
          0.000123456789123 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:45:55.033

查看[DecimalFormat](http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html)类

# java - Java InputStream read() - Android 问题

> ID：15076392
> 
> 赞同：0
> 
> 时间：2013-02-25T20:59:33.033
> 
> 标签：java, android, networking, io

好的，我正在重写这个，因为人们太担心代码了，这没关系。

我遇到的问题是，我可以在常规 Java 控制台应用程序中从 TCP 套接字读取。

当我在 Android 中尝试完全相同的事情时， read() 不会返回。除非我终止 Android 客户端和服务器之间的连接，否则它就坐在那里什么都不做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:18:24.880

你的协议是错误的，并导致死锁。

服务器首先向客户端写入一行。然后它等待来自客户端的一行。

另一方面，客户端首先从服务器读取，直到没有更多内容可读取，并且该`read()`方法返回 -1。这只会在服务器关闭其对客户端的输出流时发生。所以客户端等待服务器的下一个字符，服务器等待客户端的第一行。僵局。

一般来说，客户端和服务器代码应该是对称的。如果您在一侧发送一行，则应该在另一侧阅读一行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T23:34:13.713

我不知道它是什么，但是一旦我使用了 readLine() 它就起作用了。也许我之前错过了一些我现在注意到的东西，但我让它发挥了作用。

对于将来遇到此问题的任何人，也许在您的服务器发送文本时避免 read() ？我不确定。

但是，是的，对不起 JB，我的代码工作正常。它按设计无限循环，我只是在运行一个虚拟程序来进行测试。

# php - 为moodle配置更新时出错

> ID：15076397
> 
> 赞同：0
> 
> 时间：2013-02-25T20:59:54.807
> 
> 标签：php, moodle

嘿，伙计们，我使用的是旧版本的moodle，我...

```
1\. removed old files inside dir
2\. put in new files
3\. copied old config.php file over 
```

[但是，如果您访问http://www.clearpathadvantage.com/themoodle](http://www.clearpathadvantage.com/themoodle)，我仍然会收到错误消息，您可以看到它。我确实尝试关闭了 register_global = off，因为它告诉我这样做，但没有成功，所以我将其恢复正常。

这是我的配置文件目录和数据：

```
$CFG->dirroot   = 'ipdage stuff/site/themoodle';
$CFG->dataroot  = 'ipdage stuff/site/themoodle/moodledata'; 
```

还有一件事是dataroot，随着新文件的传输，从来没有moodledata？

让我知道您是否可以提供帮助:)

大卫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T03:26:20.900

如我所见，您的 dirroot 和 dataroot 路径不正确，因此请按照以下[moodle 文档](http://docs.moodle.org/20/en/Configuration_file)进行操作-

```
$CFG->wwwroot   = 'http://www.mymoodle.com/moodle';
$CFG->dirroot   = '/var/www/moodle'; //should be full path 
$CFG->dataroot  = '/var/moodledata'; //should be full path 
$CFG->admin     = 'admin';

$CFG->directorypermissions = 00777; 
```

# c# - 为什么 Linq to Entity Select Method 会翻转投影列表属性？

> ID：15076402
> 
> 赞同：16
> 
> 时间：2013-02-25T21:00:09.893
> 
> 标签：c#, asp.net-mvc, json, entity-framework, linq-to-entities

我对 linq to entity / Json / MVC.net 4 有最奇怪的行为

我有这段代码，出于某种奇怪的原因，所有其他列表的属性顺序都颠倒了。

```
var output = db.FooBar.Where(a => a.lookupFoo == bar)
                      .Select(a => new List<double>{
                                     //value's are the same per row 
                                     //for demonstration sake.
                          a.fooBarA,  //Always 12.34
                          a.fooBarB,  //Always 12.34
                          a.fooBarC,  //Always 0
                          a.fooBarD  //Always 0 //lazy casting to double from int
                      });
return Json(new {output}); 
```

输出如下所示：

```
{
  "output": [
    [12.34, 12.34, 0,     0], 
    [0,     0,     12.34, 12.34], 
    [12.34, 12.34, 0,     0],
    [0,     0,     12.34, 12.34]
  ]
}; 
```

我已经设法通过在 Where 和 Select 之间放置一个来解决它`toList()`，但我仍然想知道为什么会发生这种行为。

更多信息：EF 4.4（tt 生成的上下文），SQL Server 2008r2 express .NET 4.0，MVC 3.0，Vanilla System.Web.Mvc.JsonResult，表由一个 int 主键组成，浮点值不包括最后一个 int

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-03T15:53:43.613

尝试

```
var output = db.FooBar.Where(a => a.lookupFoo == bar)
                  .Select(a => new List<double>{
                                 //value's are the same per row 
                                 //for demonstration sake.
                      a.fooBarA,  //Always 12.34
                      a.fooBarB,  //Always 12.34
                      a.fooBarC,  //Always 0
                      a.fooBarD  //Always 0 //lazy casting to double from int
                  }).toList();
return Json(output); 
```

在您的输出方式中，生成的获取数据脚本的上下文可能是它在大小 Json() 中执行多次

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-26T23:17:09.377

添加一个 .ToArray 看看你得到了什么。请记住，linq (Select.. exc) 仅在调用 IEnumerator 时执行。

我想如果你添加 ToArray，每次的结果都是一样的，而且是一致的。

希望有帮助。

# ruby-on-rails - ruby on rails 如何将 http 请求映射到处理函数？

> ID：15076404
> 
> 赞同：2
> 
> 时间：2013-02-25T21:00:16.753
> 
> 标签：ruby-on-rails, ruby

我是 RoR 的新手，所以如果这是一个愚蠢的问题，请原谅我。

我正在查看`routes.rb`文件并发现这两行：

```
get "question/question"
get "question/answer" 
```

但是没有提到它们映射到的功能。

我试图查看它们是如何映射到函数的，并且在我在网上找到的所有教程或参考文档中，请求被散列到函数名称。

所以在这种情况下我无法理解路由。有人可以给出一些文件的名称或一些适合初学者的文件，这些文件可以清楚地解释路由，删除神奇的部分吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:01:36.103

看看`QuestionsController`and the `question`and`answer`方法。

有关路由如何适用于这些类型的路径的详细信息，请参阅[这些路由文档。](http://guides.rubyonrails.org/routing.html#http-verb-constraints)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:18:20.293

尽可能允许使用默认值。

这些行

```
get question/question 
```

和

```
get question/answer 
```

表示响应`get`使用以下网址`question/question`或`question/answer`将由以下网址处理的请求：

1.  `question`控制器和`question`方法
2.  `question`控制器和`answer`方法

您可能更习惯于使用以下结构：

```
get 'users/change_district/:district_id' => "users#set_district", :as => 'change_district' 
```

它允许您指定哪个控制器（用户）和哪个操作（set_district）

但是，如果您省略了某些部分，那么路由器将使用您提供的内容，并对未指定的任何内容使用默认值。

# html - 使用 Angular 模型（ng-model）填充下拉列表

> ID：15076405
> 
> 赞同：0
> 
> 时间：2013-02-25T21:00:19.670
> 
> 标签：html, drop-down-menu, angularjs, angular-ui

我有一个 Angular 模型`ng-model="car"`，我正在尝试创建一个下拉列表，并希望从模型中的对象中填充列表项。我试图在 HTML 中完成这一切（因为它是 Angular）。有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:34:31.783

如果你想要一个表单输入：[http](http://angular-ui.github.com/#/directives-select2) ://angular-ui.github.com/#/directives-select2 如果你想要一个下拉菜单：http: [//angular-ui.github.com/bootstrap/#/dropdownToggle](http://angular-ui.github.com/bootstrap/#/dropdownToggle)

如果您更愿意编写自己的解决方案，请查看 dropmenu 源代码以了解如何去做。

本质上 AngularJS 让它变得如此简单，你真正需要做的唯一一件事就是切换 DOM 元素的可见性并使用一些花哨的 css。

查看这个使用纯 AngularJS + AngularUI（必要时）与 Bootstrap 的 CSS 来创建 dropmenus（和其他小部件）的示例[http://plnkr.co/edit/gist:4464334?p=preview](http://plnkr.co/edit/gist:4464334?p=preview)

# jsf - 可访问 JSF 托管 Bean 的 EJB 调度任务

> ID：15076409
> 
> 赞同：0
> 
> 时间：2013-02-25T21:00:23.513
> 
> 标签：jsf, jsf-2, ejb

我感觉我正在混合 EJB 和 JSF 托管 bean 职责，但我想要的是一个可以访问我的 JSF 应用程序范围 bean的计划任务 EJB ( `@Singleton`with )。`@Schedule`

具体来说，我有一个 JSF `@ApplicationScoped`bean，它根据它是在开发、测试还是生产中发送不同的电子邮件。我想安排它每 24 小时发送一次电子邮件。实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T23:29:39.017

将业务层 (EJB) 设置为依赖于表示层是不好的设计。相反（Web 层取决于业务层）是经过时间考验的最佳实践。

EJB 层是为 Web 层提供服务。您的用例试图使 Web 层为 EJB 层提供服务。而需要，IMO 太微不足道了，无法做出这样的妥协。相反，我建议您将所需配置外部化到`.properties`应用程序中一个安全位置的文件中，这两个层都可以访问。

# android - 使用 android fb SDK 3.0 在 Facebook 中注销

> ID：15076410
> 
> 赞同：8
> 
> 时间：2013-02-25T21:00:32.200
> 
> 标签：android, facebook

我的应用程序使用 android facebook sdk 3.0，登录后得到一些响应，之后我需要从 facebook 单击按钮注销。

如何从facebook中的会话中注销请帮助

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-25T21:07:07.677

你应该做这样的事情。

```
if (Session.getActiveSession() != null) {
    Session.getActiveSession().closeAndClearTokenInformation();
}

Session.setActiveSession(null); 
```

此外，如果您以其他方式存储用户令牌，您也应该清除它。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-09-03T05:45:21.380

此方法将帮助您在 android 中以编程方式从 facebook 注销

```
/**
 * Logout From Facebook 
 */
public static void callFacebookLogout(Context context) {
    Session session = Session.getActiveSession();
    if (session != null) {

        if (!session.isClosed()) {
            session.closeAndClearTokenInformation();
            //clear your preferences if saved
        }
    } else {

        session = new Session(context);
        Session.setActiveSession(session);

        session.closeAndClearTokenInformation();
            //clear your preferences if saved

    }

} 
```

# java - Observer Observables 实现问题

> ID：15076413
> 
> 赞同：1
> 
> 时间：2013-02-25T21:00:33.470
> 
> 标签：java, android

我一直在阅读 Observer Pattern 以使我的 UI 保持最新，但我仍然无法让它工作，据我所知，Observer 是我的 UI，它会监视我的 Pet 类是否有任何变量变化是否运行 update()；目前它什么都不做，甚至 Log.d 也没有。

观察者/MainActivity

```
package com.grim.droidchi;

import java.util.Observable;
import java.util.Observer;

import android.app.Activity;
import android.app.AlarmManager;
import android.app.PendingIntent;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.View;
import android.view.View.OnClickListener;
import android.webkit.WebSettings.LayoutAlgorithm;
import android.webkit.WebView;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity implements Observer, OnClickListener {
    private static final String TAG = "VPET";
    private static final String APP_PREFS = "VPET";
    private static final int REQUEST_CODE = 1;

    TextView happiness_display, health_display, hunger_display, level_display;
    Button PunchPet, UpdateHunger;
    public static Pet pet = new Renamon();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        WebView myWebView = (WebView) findViewById(R.id.pet_display);
        myWebView.loadUrl("file:///android_asset/renamon.gif");
        myWebView.setInitialScale(10000);
        myWebView.getSettings().setLayoutAlgorithm(LayoutAlgorithm.SINGLE_COLUMN);

        PunchPet = (Button) findViewById(R.id.PunchPet);
        UpdateHunger = (Button) findViewById(R.id.UpdateHunger);
        final TextView hunger_display = (TextView) findViewById(R.id.hunger_display);
        TextView happiness_display = (TextView) findViewById(R.id.happiness_display);
        TextView level_display = (TextView) findViewById(R.id.level_display);
        TextView health_display = (TextView) findViewById(R.id.health_display);

        hunger_display.setText(Integer.toString(pet.getHunger()));
        health_display.setText(Integer.toString(pet.getHP()));
        level_display.setText(Integer.toString(pet.getLVL()));
        happiness_display.setText(Integer.toString(pet.getHappy()));

        Intent intent = new Intent(this, Gameloop.class);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(
                getBaseContext(), REQUEST_CODE, intent, 0);

        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,
                System.currentTimeMillis() + (5 * 1000), 1800000, pendingIntent);
        // 1800000 ms = 30 mins

        pet.feed();
        pet.addObserver(this);
        pet.notifyObservers(pet);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    @Override
    protected void onPause() {

        super.onPause();
    }

    @Override
    public void update(Observable o, Object data) {
        Toast.makeText(getApplicationContext(), "soemthing has changed", Toast.LENGTH_LONG).show();
    }

    @Override
    public void onClick(View v) {
        if (v == PunchPet) {
            pet.setLVL(50);
            pet.notifyObservers(pet);
            Log.d(TAG, "PUNCHPET" + pet.getHP());

    }else {

    }

    }

} 
```

可观察/宠物

```
package com.grim.droidchi;

import java.util.Observable;

import android.util.Log;

public class Pet extends Observable implements PetInterface {

    private static final String TAG = "VPET";
    private int Health = 100;

    private int Happiness = 10;
    private int Level = 1;
    private int Hunger = 0;
    private int Exp = 0;
    private String Name;
    private Boolean isAlive = true;
    private Boolean isSick = false;

    public void setisAlive(boolean answer) {
        this.isAlive = answer;
    }

    public void setisSick(boolean answer) {
        this.isAlive = answer;
    }

    public void setHP(int hp) {
        this.Health = hp;
        notifyObservers(hp);
    }

    public void setLVL(int lvl) {
        this.Level = lvl;
        notifyObservers(lvl);
    }

    public void setXP(int xp) {
        this.Exp = xp;
        notifyObservers(xp);
    }

    public void setHunger(int hunger) {
        this.Hunger = hunger;
        notifyObservers(hunger);
    }

    public void setHappy(int happy) {
        this.Happiness = happy;
        notifyObservers(happy);
    }

    public int getHP() {

        return Health;
    }

    public int getLVL() {

        return Level;
    }

    public int getXP() {

        return Exp;
    }

    public int getHunger() {

        return Hunger;
    }

    public int getHappy() {

        return Happiness;
    }

    public boolean isAlive() {
        return isAlive;

    }

    public boolean isSick() {
        return isSick;

    }

    @Override
    public void sleep() {
        // TODO Auto-generated method stub

    }

    @Override
    public void clean() {
        // TODO Auto-generated method stub

    }

    @Override
    public void feed() {
        Log.d(TAG, "FEEDING FROM INTERFACE THING");

    }

    @Override
    public void passtime() {

    }

} 
```

是的，我也问过这个问题，但如您所知，它有两个答案（尽管它们可能是对的但对我没有帮助）并且现在不再收到它会在列表中掉得太远，如果我可以删除我会的

日志猫

```
02-25 22:51:50.381: E/AndroidRuntime(12026): FATAL EXCEPTION: main
02-25 22:51:50.381: E/AndroidRuntime(12026): java.lang.NullPointerException
02-25 22:51:50.381: E/AndroidRuntime(12026):    at com.grim.droidchi.MainActivity.update(MainActivity.java:93)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at java.util.Observable.notifyObservers(Observable.java:138)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at com.grim.droidchi.Pet.setHP(Pet.java:33)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at com.grim.droidchi.MainActivity$1.onClick(MainActivity.java:47)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at android.view.View.performClick(View.java:4202)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at android.view.View$PerformClick.run(View.java:17340)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at android.os.Handler.handleCallback(Handler.java:725)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at android.os.Handler.dispatchMessage(Handler.java:92)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at android.os.Looper.loop(Looper.java:137)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at android.app.ActivityThread.main(ActivityThread.java:5191)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at java.lang.reflect.Method.invokeNative(Native Method)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at java.lang.reflect.Method.invoke(Method.java:511)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
02-25 22:51:50.381: E/AndroidRuntime(12026):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:04:26.617

问题是您已经覆盖`notifyObservers()`，但没有`notifyObservers(java.lang.Object)`。您正在调用后者，但您没有定义它。

```
 @Override
    public void notifyObservers(Object o) {
        observers.notify(o);
        super.notifyObservers(o);
    } 
```

此外，您可能会在内部更改这些值，但观察者不知道。调用`setChanged()`你的“宠物”（Observable）来解决这个问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T21:45:47.967

当您从 继承时[`Observable`](http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html)，您的类将继承其所有功能。`Observers`除非您添加自己的功能，否则您不需要覆盖其方法或保留自己的 Set of 。如前所述`Bailey S`，在您的 setter 方法中，在call 之前`notifyOservers()`， call `setChanged()`。

尝试从类中删除您已覆盖的所有方法`Observable`。另外，每次打电话`notifyObservers(object)`，`clearChanged()`以后再打电话。

# vb.net - 使用 OleDBConnection 读取表

> ID：15076417
> 
> 赞同：1
> 
> 时间：2013-02-25T21:00:40.270
> 
> 标签：vb.net, oledb, oledbcommand

首先，我是 VB 新手，这是我第一个使用 OleDBConnection 的项目。

好的，所以我正在尝试使用 oleDbConnection 做最简单的事情（我假设）。我只想从 Access DB 中的表中读取数据，并将该信息显示到我的 winForm 中的保管箱（或任何东西）。

```
Public Class QueManger
Dim dbConnection As OleDbConnection
Dim dbCommand As OleDbCommand
Dim dbDataAdapter As OleDbDataAdapter
Dim ConnectString As String = "Provider = Microsoft.Jet.OLEDB.4.0;" & "Data Source = \\atrts10\F:\Applications\ATRTaxCert\Development\mtaylor\TaxCert_be_test.accdb"
Dim dtMain As DataTable

Private Sub QueManger_Load(sender As Object, e As EventArgs) Handles MyBase.Load

    StatusName()
End Sub

Private Sub StatusName()
    Dim taxconn As OleDbConnection
    Try

        taxconn = New OleDbConnection("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=\\atrts10\F:\Applications\ATRTaxCert\Development\mtaylor\TaxCert_be_test.accdb")
        Dim taxcmd As OleDbCommand = taxconn.CreateCommand
        taxcmd.CommandText = "SELECT StatusName FROM Status ORDER BY StatusName"
        Dim rdr2 As OleDbDataReader
        If taxconn.State = ConnectionState.Closed Then
            taxconn.Open()
        End If
        rdr2 = taxcmd.ExecuteReader

        'boxStatus.Items.Add("All")
        While rdr2.Read()
            boxClient.Items.Add(rdr2.Item("StatusName"))
        End While
    Catch ex As Exception

    Finally
        taxconn.Close()
    End Try
End Sub 
```

当它尝试运行“taxconn.Open()”函数时出现错误。

错误提示“Microsoft Access 数据库引擎无法打开或写入文件 '\atrts10\F:\Applications\ARTtaxCert\Development\mtaylor\TaxCert_be_test.accdb'。它已被其他用户以独占方式打开，或者您需要权限才能查看和写入其数据。”

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:14:17.087

如果您正在编辑它们，请尝试首先在访问中关闭打开的表，并尝试在字符串之前添加“@”以使用您的路径。然后尝试使用这个连接字符串；

```
string connectionString = @"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + yourDataBasePath + ";Persist Security Info=False;"; 
```

# delphi - delphi 将小时内的分钟转换为分钟

> ID：15076422
> 
> 赞同：-5
> 
> 时间：2013-02-25T21:01:09.143
> 
> 标签：delphi

你好，我不知道如何编写一个德尔福程序，它需要在合适的输入组件中从 A 点到达 B 点所需的分钟数，例如 65 分钟是 1 小时 5 分钟现在我的问题是如何编写它？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-25T21:05:44.473

您可以使用`div`and `mod`、[整数除法和模运算符](http://docwiki.embarcadero.com/RADStudio/XE3/en/Expressions_%28Delphi%29#Arithmetic_Operators)来做到这一点。

```
procedure ConvertMinutesToHoursAndMinutes(
  Input: Integer; out Hours, Minutes: Integer);
begin
  Hours := Input div 60;
  Minutes := Input mod 60;
end; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:24:26.940

一个不错的格式化例程可能是这样的：

```
function MinutesToStrEx(const Minutes: Cardinal): string;
var
  D, H, M: Integer;
begin
  H := M div 60;
  M := M mod 60;
  D := H div 24;
  H := H mod 24;
  if D > 0 then
    if (H <> 0) or (M <> 0) then
      Result := Format('%d days %d hours and %d minutes', [D, H, M])
    else
      Result := Format('%d days', [D]);
  else if H > 0 then
    if M > 0 then
      Result := Format('%d hours and %d minutes', [H, M])
    else
      Result := Format('%d minutes', [M]);
end; 
```

然后你这样称呼它：

```
begin
  Label1.Caption := 'Ellapsed time to reach from A to B: ' + MinutesToStrEx(Minutes);
end; 
```

# javascript - 如何在不重新加载的情况下显示多个内容？

> ID：15076423
> 
> 赞同：0
> 
> 时间：2013-02-25T21:01:09.887
> 
> 标签：javascript, jquery, html

我正在开发一些基于`html5`. 在我的页面上，我想要一些`nav`包含选定内容的容器。但我不想在点击菜单位置后重新加载页面。

**起初**我考虑将整个内容放在网站上，隐藏其中一些并在点击后显示。

[这个非常简单的例子](http://jsfiddle.net/4YCrm/)

但是有很多内容是隐藏的，我不确定这是一个好主意。

**然后**我考虑`.html`通过javascript包含文件中的内容并将它们放在网站上，但我的小研究告诉我这是非常糟糕的做法。[某篇文章。](http://www.boutell.com/newfaq/creating/include.html)

**这**也是一个小而简单的页面，我不想使用任何后端技术。

所以，我的**问题**是：这样做的最佳做法是什么？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:22:52.040

我不确定*最好的方法*是什么，但我建议使用[jQuery`.load()`](http://api.jquery.com/load/)和[jQuery 的`.ajaxSetup()`](http://api.jquery.com/jQuery.ajaxSetup/).

首先，使用`.ajaxSetup()`这样您就可以缓存未来的 ajax 请求。

```
$.ajaxSetup({
    cache: true
}); 
```

然后，绑定一个`.click()`使用`.load()`.

这是我的示例中的代码...

HTML：

```
<ul id="nav">
    <li id="first">first</li>
    <li id="second">second</li>
    <li id="last">last</li>
</ul>
<ul id="contents">
    <li id="content1">first</li>
    <li id="content2">second</li>
    <li id="content3">last</li>
</ul> 
```

JAVASCRIPT：

```
$(document).ready(function(){
    $.ajaxSetup({
        cache: true
    });

    $('#nav>li').click(function(){
       var url = 7;
       index = $(this).index();
        url += index;
       $('#content' + (index + 1)).load('http://fiddle.jshell.net/dirtyd77/jUEEd/' + url + '/show/');
    });   
}); 
```

演示：http: [//jsfiddle.net/dirtyd77/jUEEd/13/](http://jsfiddle.net/dirtyd77/jUEEd/13/)

希望这会有所帮助，如果您有任何问题，请告诉我！

# perl - Perl Win32 - 获取文件句柄提供的文件并将其删除

> ID：15076424
> 
> 赞同：0
> 
> 时间：2013-02-25T21:01:14.050
> 
> 标签：perl

我有一个文件（例如 C:\temp\afile.txt），其中 Windows 服务有一个打开的文件句柄。停止进程后，文件句柄保持打开状态。我希望能够找到并删除这个句柄，只需使用 Perl 脚本提供文件名和路径。这可能吗？感谢您的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T03:18:46.833

可以找到打开文件句柄的进程并进入进程并终止句柄，因为 MS[`Process Explorer`](http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx)可以做到这一点。如何？我不知道。

您可能应该[`MoveFileEx(file_name, NULL, MOVEFILE_DELAY_UNTIL_REBOOT)`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365240%28v=vs.85%29.aspx)改用。这会导致下次系统重新启动时删除该文件。

[Win32API::File](http://search.cpan.org/perldoc?Win32API%3a%3aFile)为该系统调用提供了 Perl 接口。

# google-maps - 谷歌地图 - 如何获得空白底图

> ID：15076428
> 
> 赞同：3
> 
> 时间：2013-02-25T21:01:21.483
> 
> 标签：google-maps, google-maps-api-3

我想要一张空白的谷歌地图，没有任何底图显示路线图、地形、混合或卫星数据：只有一个白色背景来显示我的图层。

那可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:47:38.777

hexblot 建议查看自定义地图类型文档是正确的。这是我没有任何控制的空白地图（白色背景）所做的。

```
function initialize(){
    var styles = [{
            stylers:[{ color: "#ffffff" }]
        }
    ];
    var styledMap = new google.maps.StyledMapType(styles);
    var centerlatlng = new google.maps.LatLng(0, 0);
    var myOptions = {
        zoom: 3,
        center: centerlatlng,
        disableDefaultUI : true,
        mapTypeControlOptions: {
            mapTypeIds: ['map_style']
        },
        mapTypeId: 'map_style'
    };

    var map = new google.maps.Map(document.getElementById("map"), myOptions);
    map.mapTypes.set('map_style', styledMap);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:07:50.697

您很可能对自定义地图类型感兴趣，您可以在此处参考 Google 地图文档：

[https://developers.google.com/maps/documentation/javascript/maptypes?hl=en#CustomMapTypes](https://developers.google.com/maps/documentation/javascript/maptypes?hl=en#CustomMapTypes)

# java - LDAP JAVA：在活动目录中搜索许多 OU=...

> ID：15076431
> 
> 赞同：-1
> 
> 时间：2013-02-25T21:01:31.957
> 
> 标签：java, eclipse, active-directory

我想在我的浏览器中进行全球研究。我有 5 个文件夹，我希望这 5 个文件夹中存在所有解决方案。

有人有想法吗？

```
ctx = new InitialDirContext(env);

             Attributes matchAttrs = new BasicAttributes(true); // ignore attribute name case

             matchAttrs.put(new BasicAttribute("mail");

             // Search for objects that have those matching attributes
             NamingEnumeration<SearchResult> answer = ctx.search("DC=corp", matchAttrs);`enter code here` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T13:01:54.393

好的，不知道为什么，但我的功能`searchCtls.setSearchScope(SearchControls.SUBTREE_SCOPE);`不起作用。

在这里它正在工作。

对不起帮手，对不起我的名声：D

# matlab - 在 Matlab 中选择矩阵的特定行

> ID：15076435
> 
> 赞同：1
> 
> 时间：2013-02-25T21:01:41.913
> 
> 标签：matlab

我在 Matlab 中有一个 6639x5 矩阵，我想以特定顺序选择某些特定行（比如第 1、11、21、31 行......以及随后添加 10 直到结束）以形成一个新矩阵。有什么想法吗？谢谢你，奥蒂。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T21:08:41.643

```
subset = a(1:10:end, :); 
```

选择每 10 行直到最后，以及所有列。

例子：

```
>> a = magic(5)

a =

    17    24     1     8    15
    23     5     7    14    16
     4     6    13    20    22
    10    12    19    21     3
    11    18    25     2     9

>> a(1:2:end, :)

ans =

    17    24     1     8    15
     4     6    13    20    22
    11    18    25     2     9 
```

# playframework - 在 Play 2.1 中未调用 main 方法

> ID：15076438
> 
> 赞同：0
> 
> 时间：2013-02-25T21:01:53.313
> 
> 标签：playframework, playframework-2.1

我有这个主要方法：

```
object init extends App {
  override def main(args: Array[String]) {
    Logger(classOf[MonitorLoad]).info("main()")
    val monitorActor = Akka.system.actorOf(Props[MonitorLoad], name = "monitorLoad")
    Akka.system.scheduler.schedule(0 seconds, 2 seconds, monitorActor, Tick)
    Logger(classOf[MonitorLoad]).info("Done setting up actor")
  }
} 
```

（它位于使用`Application.scala`创建的基本应用程序的文件中`play new`）

我看到这段代码从来没有被调用过——我的日志没有被打印出来，调试器也不会停在那里。这是为什么？在 Play 2.1 应用程序启动时运行代码的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:05:01.960

使用 Java Play 2.0 应用程序，您可以将 Global.java 文件放在“app”目录中：

```
public class Global extends GlobalSettings 
{
    public void onStart(Application app) 
    {
        // Your code here...
    }
} 
```

# objective-c - 将汉字中的数字转换为阿拉伯数字

> ID：15076443
> 
> 赞同：-1
> 
> 时间：2013-02-25T21:02:03.960
> 
> 标签：objective-c, numbers, hashtable

我是编程新手，我从 Objective C 作为我的第一语言开始。我在乱看一些书籍和教程，最后编写了一个计算器......一切都很好，我正在进入（编程真的很有趣）

现在我问自己如何将阿拉伯数字翻译成中文数字（例如，阿拉伯数字 4 是中文四而 8 是八，这意味着四 + 四 = 八 中国数字系统与阿拉伯数字系统有点不同，它们有 100、1000 的符号, 10000 和 ja 有点扭曲，搞砸了我的大脑......无论如何，有没有人有一些建议、提示、提示或解决方案，我如何告诉计算机如何处理这些数字，甚至如何计算它们？

我认为一切皆有可能，所以我不会问“如果它甚至可能吗？”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:49:16.247

[考虑到维基百科http://en.wikipedia.org/wiki/Chinese_numerals](http://en.wikipedia.org/wiki/Chinese_numerals)描述的中文数字系统（普通话），例如：

*   45被解释为[4] [10] [5]，写成四十五</li>
*   114解释为[1][100][1][10][4]写成一百一十四

所以诀窍是将一个数字分解为 10 的幂：

x = c(k)*10^k + ... + c(1)*10 + c(0)

其中 k 是除以 x 使得商至少为 1 的 10 的最大幂。在上面的第二个示例中，114 = 1*10^2 + 1*10 + 4。

这 x = c(k)*10^k + ... + c(1)*10 + c(0) 变为`[c(k)][10^k]...[c(1)][10][c(0)]`。在第二个例子中，114 = [1] [100] [1] [10] [4]。

然后将括号内的每个数字映射到相应的正弦图：

0 = 〇</p>

1 = 一

2 = 二</p>

3 = 三</p>

4 = 四</p>

5 = 五</p>

6 = 六</p>

7 = 七</p>

8 = 八</p>

9 = 九</p>

10 = 十</p>

100 = 百</p>

1000 = 千</p>

10000 = 万</p>

只要掌握好`[c(k)][10^k]...[c(1)][10][c(0)]`表格，就很容易转换成计算机可以处理的整数或对应的中文数字。所以`[c(k)][10^k]...[c(1)][10][c(0)]`我将这种形式存储在一个大小为 k+2 的整数数组中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-08T20:04:21.507

我不熟悉 Objective-C，因此我无法为您提供 iOS 解决方案。尽管如此，以下是 Android 的 Java 代码......我认为它可能对您有所帮助，也对我有所帮助。

```
double text2double(String text) {

    String[] units = new String[] { "〇", "一", "二", "三", "四",
            "五", "六", "七", "八", "九"};

    String[] scales = new String[] { "十", "百", "千", "万",
            "亿" };

    HashMap<String, ScaleIncrementPair> numWord = new HashMap<String, ScaleIncrementPair>();

    for (int i = 0; i < units.length; i++) {
        numWord.put(units[i], new ScaleIncrementPair(1, i));
    }   

    numWord.put("零", new ScaleIncrementPair(1, 0));
    numWord.put("两", new ScaleIncrementPair(1, 2));

    for (int i = 0; i < scales.length; i++) {
        numWord.put(scales[i], new ScaleIncrementPair(Math.pow(10, (i + 1)), 0));
    }

    double current = 0;
    double result = 0;

    for (char character : text.toCharArray()) {

        ScaleIncrementPair scaleIncrement = numWord.get(String.valueOf(character));
        current = current * scaleIncrement.scale + scaleIncrement.increment;
        if (scaleIncrement.scale > 10) {
            result += current;
            current = 0;
        }
    }

    return result + current;
}

class ScaleIncrementPair {
    public double scale;
    public int increment;

    public ScaleIncrementPair(double s, int i) {
        scale = s;
        increment = i;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-30T15:35:41.063

你可以利用`NSNumberFormatter`.

像下面的代码，首先`NSNumber`从汉字中获取，然后将它们组合起来。

```
func getNumber(fromText text: String) -> NSNumber? {
    let locale = Locale(identifier: "zh_Hans_CN")
    let numberFormatter = NumberFormatter()
    numberFormatter.locale = locale
    numberFormatter.numberStyle = .spellOut
    guard let number = numberFormatter.number(from: text) else { return nil }
    print(number)
    return number
} 
```

# testing - Grails (JUnit) 测试套件

> ID：15076444
> 
> 赞同：0
> 
> 时间：2013-02-25T21:02:10.453
> 
> 标签：testing, grails, junit, spock, test-suite

JUnit 测试套件可以在 Grails 中使用吗？

我正在使用 IntelliJ 编写一个 Groovy/Grails(2.1.2) 项目。

是否可以将 Spock 测试作为 JUnit 测试套件运行？我努力了：

```
package com.foo

import com.foo.functional.SampleFunctionalSpec
import org.junit.experimental.categories.Categories
import org.junit.runner.RunWith
import org.junit.runners.Suite

@RunWith(Categories.class)
@Categories.IncludeCategory(Category1.class)
@Suite.SuiteClasses( {SampleFunctionalSpec.class} )
class SampleTestSuite {
} 
```

和

```
package com.foo.functional
import com.foo.*
import org.junit.experimental.categories.Category;

@Category(Category1.class)
class SampleFunctionalSpec extends BloomGebSpecCase {

    def "Sample test 1 with Category1"() {
        given:
        when:
        println "when"
        then:
        println "Sample test 1 with Category1"
    }
} 
```

和

```
package com.foo

interface Category1 { } 
```

`grails test-app functional SampleTestSuite`当我从 IntelliJ 中运行时，我得到“无法将测试报告器附加到测试框架......” 。

编辑：此外，仅运行没有类别的测试套件会产生相同的“未附加”问题：

```
@RunWith(Suite.class)
@Suite.SuiteClasses( SampleFunctionalSpec.class )
class SampleTestSuite { } 
```

# asp.net-mvc-4 - 如何在 MVC4 中使用 SimpleMembership 重置或更改密码？

> ID：15076446
> 
> 赞同：18
> 
> 时间：2013-02-25T21:02:13.433
> 
> 标签：asp.net-mvc-4, simplemembership

我一直在使用 MVC4 Internet 模板编写一个 Web 应用程序。我真的不需要任何复杂的用户管理，所以我选择了默认的 SimpleMembershipProvider。我正在初始化 App_Start 中的成员资格，并且我已经设置并工作了角色和用户。我没有使用 SSO 或任何其他 OAuth 功能。现在我有一个忘记密码的测试人员，在谷歌搜索了一整天后，我意识到我不知道如何重置他的密码或更改密码！

我通读了文档，发现[使用 SimpleMembership 时不支持](http://msdn.microsoft.com/en-us/library/webmatrix.webdata.simplemembershipprovider.resetpassword%28v=vs.111%29.aspx)ResetPassword 功能。我的问题是，我该怎么做：

1.  从 SimpleMembership 切换到使用 SimpleMembership 表和格式的标准成员资格
2.  将用户密码重置为我指定的密码？

我发现 web.config 设置（理论上）将成员资格提供程序设置为使用 SimpleMembership，但我不确定如何指定要使用的表（假设这是正确的方法）。

web.config 部分：

```
<roleManager enabled="true" defaultProvider="SimpleRoleProvider">
  <providers>
    <clear/>
    <add name="SimpleRoleProvider" type="WebMatrix.WebData.SimpleRoleProvider, WebMatrix.WebData"/>
  </providers>
</roleManager>
<membership defaultProvider="SimpleMembershipProvider">
  <providers>
    <clear/>
    <add name="SimpleMembershipProvider" type="WebMatrix.WebData.SimpleMembershipProvider, WebMatrix.WebData" />
  </providers>
</membership> 
```

以及我（认为）我需要在 web.config 中拥有的当前 InitializeDatabaseConnection：

```
WebSecurity.InitializeDatabaseConnection("UPEFSSecurity", "Datamart_User", "UserId", "UserName", autoCreateTables: true); 
```

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-02-25T21:37:56.870

要正确执行此操作，您需要设置电子邮件恢复链接。但这是您将进行的 API 调用：

```
var token = WebSecurity.GeneratePasswordResetToken(username);
// create a link with this token and send email

// link directed to an action with form to capture password
WebSecurity.ResetPassword(token, password); 
```

[http://msdn.microsoft.com/en-us/library/webmatrix.webdata.websecurity.resetpassword(v=vs.111).aspx](http://msdn.microsoft.com/en-us/library/webmatrix.webdata.websecurity.resetpassword(v=vs.111).aspx)

# angularjs - 角分页 - 点击更新数据

> ID：15076449
> 
> 赞同：13
> 
> 时间：2013-02-25T21:02:34.607
> 
> 标签：angularjs, paging

我正在尝试在 angular/bootstrap 站点上实现分页。我的数据显示了正确的每页行数，我有角度分页显示了正确的页数......但是如果我能找到任何地方告诉我如何使用分页来刷新我的数据第 # 页被点击...？！{{currentPage}} 正在更新，但不确定如何调用 getPresentations 来更新列表。

```
<div>
        {{noOfPages}} &nbsp; {{currentPage}} &nbsp; {{maxSize}}
        <pagination num-pages="noOfPages" current-page="currentPage"></pagination>
    </div>

<script type="text/javascript">
    angular.module('app', ['ui', 'shared', 'ui.bootstrap']).controller('AppCtl', function ($scope, $http, $window) {
        var mvc = $window.MVC;
        $scope.noOfPages = 0;
        $scope.currentPage = 1;
        $scope.maxSize = 5;

        $scope.getPresentations = function () {
            $http.get(mvc.base + "API/Presentations?page=" + $scope.currentPage + "&itemsPerPage=10")
               .success(function (result) {
                   $scope.presentations = result.Items;
                   $scope.noOfPages = result.TotalPages;
                   $scope.currentPage = result.Page;
               })
                .error(function (result, status) {
                    $scope.newModal.errors = mvc.getApiErrors(status, result);
                });
        };

        $scope.getPresentations();
    });
</script> 
```

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-02-25T21:33:49.363

你有两个选择：

*   `$watch`当前页面属性
*   使用`onSelectPage`回调

这是相关页面`$watch`

```
 $scope.$watch('currentPage', function(newPage){
    $scope.watchPage = newPage;
    //or any other code here
  }); 
```

这里使用回调：

```
$scope.pageChanged = function(page) {
    $scope.callbackPage = page;
    $scope.watchPage = newPage;
  }; 
```

像这样使用：

```
<pagination on-select-page="pageChanged(page)" num-pages="noOfPages" current-page="currentPage"></pagination> 
```

最后是显示这两种方法的工作 plunk： [http ://plnkr.co/edit/UgOQo7?p=preview](http://plnkr.co/edit/UgOQo7?p=preview)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-02-10T20:18:57.053

@pkozlowski.opensource 的答案是正确的，除了最新版本的引导程序已将**on-select-page**更改为**ng-change**。

# ruby-on-rails - 如何在我的 rspec 控制器示例中测试基本身份验证？

> ID：15076453
> 
> 赞同：5
> 
> 时间：2013-02-25T21:03:10.577
> 
> 标签：ruby-on-rails, ruby, rspec, basic-authentication

我有一些使用的 rails 控制器`authenticate_or_request_with_http_basic`——如何在我的 rspec 示例中设置用户/密码？

我很惊讶无法在网络上的其他地方找到这个，所以也许我使用了错误的术语？——我发现了一些非常古老的东西，或者在我看来非常复杂的东西。似乎此时 rspec 要么对此有直接支持，要么是一个整洁的惯用解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T23:08:15.723

这行得通。感谢@zetetic 为我指明了正确的方向

```
before do
  @request.env["HTTP_AUTHORIZATION"] = "Basic " + Base64::encode64("username:password")
end 
```

# javascript - 在 Android 2.2 移动浏览器 webview 上获取缩放级别（捏合）

> ID：15076457
> 
> 赞同：2
> 
> 时间：2013-02-25T21:03:30.603
> 
> 标签：javascript, android, webview

我有一个想在移动网站上弹出的信息框，信息框采用响应式设计，将宽度设置为页面的全宽，还考虑了缩放级别。

我是如何在 IOS 和较新的 Android 中做到这一点的：我得到`window.innerHeight`and`window.innerWidth`并将它们与屏幕高度和宽度进行比较。但是，在 Android 2.2 中`window.innerHeight`并`window.innerWidth`没有报告正确的值。谁能想到解决这个问题的方法？

# hibernate - 实体错误映射中的另一个重复列

> ID：15076463
> 
> 赞同：138
> 
> 时间：2013-02-25T21:03:52.400
> 
> 标签：hibernate, jakarta-ee, mappingexception

尽管有其他所有帖子，但我无法在 MacOSX、NetBeans 7.2 上使用 GlassFish 找到此错误的解决方案。

```
Here the error :
SEVERE: Exception while invoking class org.glassfish.persistence.jpa.JPADeployer
prepare method
SEVERE: Exception while preparing the app
SEVERE: [PersistenceUnit: supmarket] Unable to build EntityManagerFactory

...

Caused by: org.hibernate.MappingException: Repeated column in mapping for entity:
com.supmarket.entity.Sale column: customerId
(should be mapped with insert="false" update="false") 
```

这里的代码：

**销售.java**

```
@Entity
public class Sale {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;

    @Column(nullable=false)
    private Long idFromAgency;

    private float amountSold;

    private String agency;

    @Temporal(javax.persistence.TemporalType.DATE)
    private Date createdate;

    @Column(nullable=false)
    private Long productId;

    @Column(nullable=false)
    private Long customerId;

    @ManyToOne(optional=false)
    @JoinColumn(name="productId",referencedColumnName="id_product")
    private Product product;

    @ManyToOne(optional=false)
    @JoinColumn(name="customerId",referencedColumnName="id_customer")
    private Customer customer;

    public void Sale(){}    
    public void Sale(Long idFromAgency, float amountSold, String agency
            , Date createDate, Long productId, Long customerId){        
        ...
    }

    // then getters/setters
} 
```

**客户.java**

```
@Entity
public class Customer {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name="id_customer")
    private Long id_customer;

    @Column(nullable=false)
    private Long idFromAgency;

    private String  gender,
                    maritalState,
                    firstname,
                    lastname,
                    incomeLevel;

    @OneToMany(mappedBy="customer",targetEntity=Sale.class, fetch=FetchType.EAGER)
    private Collection sales;

    public void Customer(){}

    public void Customer(Long idFromAgency, String gender, String maritalState,
            String firstname, String lastname, String incomeLevel) {
        ...
    }

} 
```

**产品.java**

```
public class Product {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name="id_product")
    private Long id_product;

    @Column(nullable=false)
    private Long idFromAgency;

    private String name;

    @OneToMany(mappedBy="product",targetEntity=Sale.class, fetch=FetchType.EAGER)
    private Collection sales;

    //constructors + getters +setters
} 
```

* * *

## 回答 #1

> 赞同：168
> 
> 时间：2013-02-25T21:10:13.973

信息很明确：映射中有重复的列。这意味着您将相同的数据库列映射了两次。事实上，你有：

```
@Column(nullable=false)
private Long customerId; 
```

并且：

```
@ManyToOne(optional=false)
@JoinColumn(name="customerId",referencedColumnName="id_customer")
private Customer customer; 
```

（同样适用于`productId`/ `product`）。

您不应通过 ID 引用其他实体，而应直接引用该实体。去掉`customerId`字段，没用。并为`productId`. 如果你想要一个销售的客户 ID，你只需要这样做：

```
sale.getCustomer().getId() 
```

* * *

## 回答 #2

> 赞同：82
> 
> 时间：2014-05-13T11:30:39.060

如果您被遗留数据库困住，其中有人已经放置了 JPA 注释但没有定义关系，而您现在正尝试定义它们以在您的代码中使用，那么您可能无法删除 customerId `@Column`，因为其他代码可能直接已经参考了。在这种情况下，定义如下关系：

```
@ManyToOne(optional=false)
@JoinColumn(name="productId",referencedColumnName="id_product", insertable=false, updatable=false)
private Product product;

@ManyToOne(optional=false)
@JoinColumn(name="customerId",referencedColumnName="id_customer", insertable=false, updatable=false)
private Customer customer; 
```

这允许您访问关系。但是，要添加/更新关系，您必须直接通过其定义的`@Column`值来操作外键。这不是一个理想的情况，但如果你遇到这种情况，至少你可以定义关系，这样你就可以成功使用 JPQL。

* * *

## 回答 #3

> 赞同：31
> 
> 时间：2017-06-14T08:13:56.090

使用这个，对我有用：

```
@Column(name = "candidate_id", nullable=false)
private Long candidate_id;
@ManyToOne(optional=false)
@JoinColumn(name = "candidate_id", insertable=false, updatable=false)
private Candidate candidate; 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2016-03-03T11:31:50.103

```
@Id
@Column(name = "COLUMN_NAME", nullable = false)
public Long getId() {
    return id;
}

@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, targetEntity = SomeCustomEntity.class)
@JoinColumn(name = "COLUMN_NAME", referencedColumnName = "COLUMN_NAME", nullable = false, updatable = false, insertable = false)
@org.hibernate.annotations.Cascade(value = org.hibernate.annotations.CascadeType.ALL)
public List<SomeCustomEntity> getAbschreibareAustattungen() {
    return abschreibareAustattungen;
} 
```

如果您已经映射了一个列并且不小心在**@JoinColumn中为****name**和**referencedColumnName**设置了相同的值，那么休眠会给出同样的愚蠢错误

 **错误：

*引起：org.hibernate.MappingException：实体映射中的重复列：com.testtest.SomeCustomEntity 列：COLUMN_NAME（应使用 insert="false" update="false" 映射）*

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-11-28T01:47:21.270

**希望这会有所帮助！**

```
@OneToOne(optional = false)
    @JoinColumn(name = "department_id", insertable = false, updatable = false)
    @JsonManagedReference
    private Department department;

@JsonIgnore
    public Department getDepartment() {
        return department;
    }

@OneToOne(mappedBy = "department")
private Designation designation;

@JsonIgnore
    public Designation getDesignation() {
        return designation;
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-19T08:13:02.820

我们通过在 Grails 4（GORM）中映射子实体而不是父实体来解决循环依赖（父子实体）。

**例子：**

```
Class Person {
    String name
}

Class Employee extends Person{
    String empId
}

//Before my code 
Class Address {
    static belongsTo = [person: Person]
}

//We changed our Address class to:
Class Address {
    static belongsTo = [person: Employee]
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-06-20T06:02:37.877

注意为任何属性只提供 1 个 setter 和 getter。最好的方法是写下所有属性的定义，然后使用 eclipse 生成 setter 和 getter 实用程序，而不是手动执行。该选项来自右键单击-> 源-> 生成 Getter 和 Setter。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-02-19T16:53:43.030

这意味着您在实体类中映射列两次。举例说明...

```
 @Column(name = "column1")
    private String object1;

    @ManyToOne(fetch = FetchType.EAGER)
    @JoinColumn(name = "column1", referencedColumnName = "column1")
    private TableClass object2; 
```

> 上面代码片段中的问题是我们正在重复映射......

**解决方案**

由于映射是一个重要部分，您不想删除它。相反，您将删除

```
 @Column(name = "column1")
    private String uniqueId; 
```

> 您仍然可以通过创建 TableClass 的对象并在其中分配 Object1 的 String 值来传递 object1 的值。

这 100% 有效。我已经用 Postgres 和 Oracle 数据库对此进行了测试。**

# java - 将字节数组从 servlet 侦听器传递到控制器

> ID：15076469
> 
> 赞同：0
> 
> 时间：2013-02-25T21:04:16.153
> 
> 标签：java, servlets, bytearray, listener

我有一个 servlet 上下文侦听器，其中有一个串行端口侦听器。在这个监听器中，我以这种方式保存来自串行端口的字节：

```
public void contextInitialized(ServletContextEvent contextEvent){
  context = contextEvent.getServletContext();
  serial =  SerialFactory.createInstance();
  serial.open(Serial.DEFAULT_COM_PORT, 19200);
  serial.addListener(new SerialDataListener(){
    @Override
    public void dataReceived(SerialDataEvent arg0) {    
    private byte[] serialDataByte;
    serialDataByte = arg0.getData().getBytes();
    context.setAttribute("serialData", serialDataByte);
    seriale.write(serialDataByte); //the echo on serial port show me the right bytes                                
    }           
  });
} 
```

在我的控制器上，我通过以下方式访问串行端口数据：

```
private byte[] temp;
temp = (byte[]) getServletContext().getAttribute("serialData");
for(int i=0; i<temp.length;i++){
  output.println(Integer.toHexString(temp[i] & 0x00FF));    
} 
```

我将这个字节数组发送到串口：

```
aa 7f 40 a 72 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 fe 1a 
```

长度为 69。有时在我的临时数组中，我只有原始数组的一小部分，有时：

```
aa 7f 40 a 72 0 0 0 0 0 0 0 0 0 0 
```

有时：

```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 fe 1a 
```

有时是 69 字节的正确数组。如何将从串口获取的确切数据传递给我的控制器？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:08:37.803

如果有更多数据进入该端口，此代码将覆盖您最初在`serialData`context 属性中拥有的内容。所以只写属性是否存在，并考虑在初始`dataRecieved()`调用后关闭端口。

```
serial.addListener(new SerialDataListener(){
    @Override
    public void dataReceived(SerialDataEvent arg0) {    
        private byte[] serialDataByte;
        if (context.getAttribute("serialData") == null) {
            serialDataByte = arg0.getData().getBytes();
            context.setAttribute("serialData", serialDataByte);
            seriale.write(serialDataByte); // I assume this is only for debugging
                                           // and also supposed to be `serial`
            serial.close();
        }
    }
}); 
```

# css - 正确使用嵌套 DIV 的不透明度？

> ID：15076471
> 
> 赞同：9
> 
> 时间：2013-02-25T21:04:23.450
> 
> 标签：css, opacity

所以我试图创造一个灯箱般的感觉。我创建了一个`#blackout`div 和一个`#enlargedBOX`div。

div的`#blackout`不透明度设置为 90%，因为我希望背景网站显示一点，但是我不希望我的`#enlargedBOX`div 使用相同的不透明度。似乎它将`#blackout`自己的不透明性强加于自身内部的任何事物上。我怎么能阻止它？

```
<div id="blackout">
<div id="enlargedBOX">
        <img src="" width="500" height="500" border="0" />
    </div>
</div> 
```

这是一个[**jsFiddle**](http://jsfiddle.net/GGYvM/)

你会看到红色背景显示在白色`#enlargedBOX`div 上。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-25T21:08:52.463

只需使用`rgba()`- [**DEMO**](http://jsfiddle.net/GGYvM/4/)

```
#blackout {
    position:absolute;
    top:0px;
    left:0px;
    height:100%;
    width:100%;
    overflow:auto;
    z-index:100;
    background: rgba(0, 0, 0, .9);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:06:39.330

`enlargedBOX`从背景覆盖 div 中取出对话框 div `blackout`，并为其设置更高的 z-index。

**[jsFiddle 示例](http://jsfiddle.net/j08691/GGYvM/1/)**

```
#enlargedBOX {
    position:relative;
    z-index:101;
    margin:50px auto;
    padding:0px;
    width:500px;
    height:500px;
    background:#FFF;
    opacity:1;
}

<div id="blackout"></div>
<div id="enlargedBOX">
    <img src="" width="500" height="500" border="0" />
</div> 
```

# ruby-on-rails - Rails 应用程序中项目/微帖子的 CRUD 所有权

> ID：15076473
> 
> 赞同：0
> 
> 时间：2013-02-25T21:04:34.293
> 
> 标签：ruby-on-rails, ruby, erb

我有一个简单的 Rails 应用程序，用户可以在其中创建“项目”，但在列出所有项目的主索引页面上，每个“项目”旁边都有“显示、编辑和删除”链接。我知道这是因为我使用脚手架来完成这些项目，但我想确保人们只能编辑他们创建的项目。目前，这种逻辑有点超出我的想象，就像我之前所说的那样，我对 Rails 完全陌生。

用户控制器：

```
class UsersController < ApplicationController
  def show
    @user = User.find_by_username(params[:id])
  end
  def index
    @user = User.find(:all)
  end
end 
```

主项目视图：

```
<div class="well">
  <h1>All Items</h1>
    <table>
  <tr>
    <th>Title</th>
    <th>Details</th>
    <th>Inquire</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
<% @items.each do |item| %>
  <tr>
    <td><%= link_to item.title, item_path(item) %></td>
    <td><%= item.content %></td>
    <td><%= mail_to item.email, "Inquire", :cc => "michaelomchenry@gmail.com",
                 :subject => "OverFlow Inquiry Regarding " + item.title %></td>
    <td><%= link_to 'Show', item %></td>
    <td><%= link_to 'Edit', edit_item_path(item) %></td>
    <td><%= link_to 'Destroy', item, confirm: 'Are you sure?', method: :delete %></td>
  </tr>
<% end %>
  </table>

<br />
<%= link_to 'New Item', new_item_path %>
</div> 
```

商品型号：

```
class Item < ActiveRecord::Base
  attr_accessible :content, :user_id, :title
  validates :content, :length => { :maximum => 140 }
  belongs_to :user
  delegate :email, to: :user
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:00:39.193

那里有很多东西。首先，为了能够根据用户过滤项目（或操作），您需要知道当时谁登录，从而使用户能够登录。例如，这可以使用Rails 的授权 gem [Devise来完成。](https://github.com/plataformatec/devise)设计被广泛使用并有据可查。

设置好 Devise 后，您可以检查用户是否已登录（例如使用[before_filter](http://guides.rubyonrails.org/action_controller_overview.html#filters)），并且 Devise 将创建一个“current_user”变量供您使用（这在[Devise 教程](https://github.com/plataformatec/devise#controller-filters-and-helpers)中显示）。然后，您可以使用它来过滤您的项目列表，例如：

```
editable_items = current_user.items 
```

然后在您的视图上使用 editable_items。我建议您阅读设计教程，因为您正在做的是一项非常常见且有据可查的任务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-13T04:15:09.503

如果可以的话，我会发表评论，但我觉得这必须参考@momchenr 发布的答案（回答他们自己的问题）作为所选答案的后续行动。

@momcher 写道：

> 我最终这样做了：
> 
> ```
> <% if item.email == current_user.email %> 
> ```
> 
> 它起作用了……可以吗？

可能不是。但这取决于您的系统是如何设置的。如果用户可以编辑他们的电子邮件地址和/或电子邮件地址不是强制唯一的，他们可能能够通过临时更改他们的电子邮件地址或只是注册为新用户来获得对另一个用户的“项目”的编辑权限已知用户的电子邮件地址。

即使您从未在应用程序中显示用户的电子邮件地址，当您将大部分身份验证过程留在用户提供的字段中时，也会存在固有漏洞。

仅根据您提供的信息不知道在 Devise 中是如何设置的，我会尝试以下方法：

根据调用时 ActiveRecord 的状态，这两个可能会慢一些

*   `<% if item.user == current_user %>`
*   `<% if item.user.id == current_user.id %>`

这应该更快一点，因为您没有`user`从对象中获取`item`对象（您只是直接从对象的`user_id`方法中提取`user`）

*   `<% if item.user_id == current_user.id %>`

无论我对速度的猜测是对还是错，这通常是比您说的适合您的解决方案更好的解决方案。由于用户的 ID 永远不受他们的直接控制——除非你的代码中存在重大漏洞——他们不能轻易地冒充其他用户。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T01:28:41.730

我最终这样做了：

```
<% if item.email == current_user.email %> 
```

它起作用了……可以吗？

# javascript - 在 aspx 表单上设置输入键行为

> ID：15076477
> 
> 赞同：0
> 
> 时间：2013-02-25T21:05:19.727
> 
> 标签：javascript, asp.net, .net

需要根据最后一个与之交互的控件来更改在我的 aspx 页面上按 enter 的行为。我有两个文本框和一个下拉菜单。这些控件中的每一个都有一个相应的按钮，该按钮接受输入并将其应用于页面上的其他字段。就像向主零件添加选项一样。

示例：如果按下 button2，将应用 textbox2 中的选项，但不会应用 textbox1 或下拉菜单中的选项。页面刷新，用户可以继续选择选项。

我将如何更改页面以允许用户在文本框中输入文本，然后按 Enter 以激活相应按钮的代码。我已经尝试了各种 js 来设置页面默认值，但是在动态更改它时没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:25:04.243

您可以使用 ASP.Net 面板控件的 DefaultButton 来接受输入键。

[http://geekswithblogs.net/ranganh/archive/2006/04/12/74951.aspx](http://geekswithblogs.net/ranganh/archive/2006/04/12/74951.aspx)

```
<asp:Panel ID="pnl1" runat="server" defaultbutton="Button1">
<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
<asp:Button ID="Button1" runat="server" Text="Button1" OnClick="Button1_Click" />
</asp:Panel>

<asp:Panel ID="pnl2" runat="server" defaultbutton="Button2">
<asp:TextBox ID="TextBox2" runat="server"></asp:TextBox>
<asp:Button ID="Button2" runat="server" Text="Button2" OnClick="Button2_Click" />
</asp:Panel> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:24:19.943

为修改输入的用户设置事件侦听器并设置对正确按钮的引用。然后有一个输入按钮的侦听器以触发提交引用的按钮。你没有提到 jQuery 或任何 JS 框架，所以我会尝试为普通的 javascript 编写它，我建议使用框架来支持跨浏览器。

```
var myButtonId = null;

var storeInputButtonId = function(buttonId) {
  return function(event) {
    myButtonId = buttonId;
  };
};

//Do following for inputs, or your preferred event binding pattern
var fld = document.getElementById('myInputId');

//Statically refer to button id or replace with suitable algorithm
var inputButtonId = "";
if (fld.addEventListener) {

  //Could bind to other events with logic based on input element type
  fld.addEventListener('keyup',storeInputButtonId(inputButtonId), false);
}

//Method to trigger the button click event
function submitData(event){

  //Watch for the enter button
  if ( event.which == 13 ){
    document.getElementById(myButtonId).click();
  }
} 

//Bind the listener to the enter button
var bodyElement = document.getElementsByTagName('body')[0];

if (bodyElement.addEventListener) {

  bodyElement.addEventListener('keydown',submitData, false);
} 
```

# javascript - 如何集成 mixpanel 和 requirejs？

> ID：15076489
> 
> 赞同：0
> 
> 时间：2013-02-25T21:06:16.110
> 
> 标签：javascript, requirejs, amd, mixpanel

我正在使用 RequireJS 将我的所有 javascript 加载为 AMD 模块。具体来说，我使用“shim”配置来加载非 AMD 模块。

但是当我尝试加载 MixPanel 时，我得到了一个“未定义”的对象。

以下是相关文件，与我成功填充的 Stripe js 进行比较。

主.js：

```
require.config({
    paths: {
        stripe: 'libs/stripe/stripe',
        mp: 'libs/mixpanel/mixpanel'
    },
    shim: {
        'stripe': {
            exports: 'Stripe'
        },
        'mp': {
            exports: 'MP'
        }
    }
 }); 
```

`libs/stripe/stripe.js`并且`libs/mixpanel/mixpanel.js`都`(function () {})();`按照文档的建议进行了通话。

我的 payment.js（包装了 Stripe）：

```
define(['jquery', 'stripe'], function ($, Stripe) {
    var key = "MY_KEY";
    Stripe.setPublishableKey(key);
}); 
```

我的 track.js（包装了 MixPanel）：

```
define(['jquery', 'mp'], function ($, MP) {
    var token = "MY_TOKEN";
    MP.init(token);
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-10T23:49:14.890

我发现我猜你使用的混合面板片段`libs/mixpanel/mixpanel.js`正在添加一个异步`<script>`标签，用于下载完整的混合面板库。由于 RequireJS 阻止`mixpanel`变量附加到窗口，因此它永远不会更新。

我仍在试图弄清楚如何使它工作，如果我弄清楚了，我会编辑这个答案。

*编辑：*

我发现 mixpanel 期望能够重新分配`window.mixpanel`. 因此，在您的情况下，您可以执行以下操作：

```
define(['mixpanel'], function (MP) {
    window.mixpanel = MP;
    window.mixpanel.init('TOKEN');
    ...
}); 
```

然后应该使用 mixpanel 的处理程序，`window.mixpanel`因为那将是真实的实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T22:38:48.417

我不熟悉垫片，但似乎你应该有

```
'mp': {
    exports: 'mixpanel'
} 
```

因为 Mixpanel 库公开了这一点，而不是`window.MP`.

# html - 无法在文本字段上使用鼠标，必须使用选项卡

> ID：15076492
> 
> 赞同：0
> 
> 时间：2013-02-25T21:06:44.020
> 
> 标签：html, forms

我遇到了这种奇怪的情况，我无法在我正在创建的表单上使用鼠标。它要求我在文本字段中进行选项卡。如果我单击第二个字段，它只会将我推回到第一个字段，我必须制表符！

这是一个非常简单的表格，它与标签有关，但我以前从未遇到过问题。

顺便说一句：此表单或页面中没有 JS 或 CSS

我的例子：

```
<form>

<label for="username"*Username label>

<input type="text" name="username" tabindex="1" id="username">

<label for="password"*Password*label*> 

<input type="password" name="password" tabindex="2" id="password">

<input type="submit" class="button" value="Login" name="submit" >

</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:41:21.410

这是用标签格式化输入的正确方法。这应该可以解决您的问题。

```
<label for="username">*Username*<input type="text" name="username" tabindex="1" id="username"/></label>
<label for="password">*Password*<input type="password" name="password" tabindex="2" id="password"/></label> 
```

**演示：http: [//jsfiddle.net/ZFZgt/](http://jsfiddle.net/ZFZgt/)**

# jquery - 使用 Jquery 动态显示/隐藏面板

> ID：15076494
> 
> 赞同：0
> 
> 时间：2013-02-25T21:06:56.070
> 
> 标签：jquery, sharepoint, slidetoggle

我有一段代码，它通过 SOAP 从 SharePoint 列表中提取所有列表项，然后以常见问题解答的形式将它们写入页面。因为这个列表可能会很长，我想把它们写到页面上，这样只有问题是可见的，当你点击一个问题时，那个问题的特定面板和只有那个面板才可见。

除了一小块让我大吃一惊的代码外，我的代码都可以正常工作-

```
<link rel="stylesheet" href="/sites/someSite/System%20Resources/FAQ2.css" type="text/css"/>
<script src="/sites/someSite/System%20Resources/jquery-1.8.2.min.js"></script>
<script type="text/javascript"> 
$(document).ready(function() {

$(".question").click(function(){
    $("#a"+$(this).attr("id")).slideToggle("slow");});

    var soapEnv =
        "<soapenv:Envelope xmlns:soapenv='http://schemas.xmlsoap.org/soap/envelope/'> \
            <soapenv:Body> \
                 <GetListItems xmlns='http://schemas.microsoft.com/sharepoint/soap/'> \
                    <listName>A Big Fat FAQ</listName> \
                    <viewFields> \
                        <ViewFields> \
                           <FieldRef Name='Question_x0020_Description' /> \
                           <FieldRef Name='Response'/> \
                           <fieldRef Name='ID'/>\
                       </ViewFields> \
                    </viewFields> \
                </GetListItems> \
            </soapenv:Body> \
        </soapenv:Envelope>";

    $.ajax({
        url: "/sites/someSite/_vti_bin/lists.asmx",
        type: "POST",
        dataType: "xml",
        data: soapEnv,
        complete: processResult,
        contentType: "text/xml; charset=\"utf-8\""
    });
});

function processResult(xData, status) {
    $(xData.responseXML).find("z\\:row").each(function() {
    var iDesc=$(this).attr("ows_Question_x0020_Description");
    var iResp=$(this).attr("ows_Response");
            var iID=$(this).attr("ows_ID");

            var liHtml = "<div class='question' id='"+iID+"'>" + iDesc + "</div><div class='answer' id='a"+iID+"'><a href='/sites/someSite/Lists/FAQ/DispForm.aspx? ID='"+iID+"'>"+ iResp +"</a></div>";
            alert(liHtml);
            $("#FAQ").append(liHtml);

    });

}
</script>

<h1>A Big Fat FAQ</h1>
<div id="FAQ"></div> 
```

一切正常，除了屏幕上问题的点击事件没有响应。

在发出警报以向我显示它作为 liHtml 变量输出的内容后，我发现它在 iDesc 变量周围插入了一组额外的标签，因此没有什么可点击的。

```
<div class='question'id='5'>
<div>Why is the sky blue?</div>
</div> 
```

我认为这可能是问题所在。问题描述和响应列都设置为富文本，这导致了备用标签。我将它们都更改为纯文本，它摆脱了多余的 div，我的问答 div 都有正确的 ID，但它仍然无法正常工作。这可能是另一个微小的语法错误，但我在这里画了一个空白，看看还有什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:24:08.117

只需移动代码以在“processResult”中切换响应

```
function processResult(xData, status) {
    $(xData.responseXML).find("z\\:row").each(function() {
    var iDesc=$(this).attr("ows_Question_x0020_Description");
    var iResp=$(this).attr("ows_Response");
            var iID=$(this).attr("ows_ID");

            var liHtml = "<div class='question' id='"+iID+"'>" + iDesc + "</div><div class='answer' id='a"+iID+"'><a href='/sites/someSite/Lists/FAQ/DispForm.aspx? ID='"+iID+"'>"+ iResp +"</a></div>";
            alert(liHtml);
            $("#FAQ").append(liHtml);

    });

$(".question").click(function(){
    $("#a"+$(this).attr("id")).slideToggle("slow");}); 

} 
```

# php - iframe 在 PHP 中不起作用？

> ID：15076496
> 
> 赞同：0
> 
> 时间：2013-02-25T21:07:00.033
> 
> 标签：php, html, iframe

我有一个 php 文件，它将动态显示来自 mysql 数据库的图像/产品列表！这一点工作得很好。

但我正在尝试使用 iframe 中的命令，因此我可以使用 iframe 创建幻灯片效果！

但是当我将 iframe 放在命令周围时，由于某种原因它不起作用！它将在我的 000web 托管服务器上打开一个 404 页面！！

这是我的代码：

```
<?php
include "config/connect_to_mysql.php";
$sql = mysql_query("SELECT * FROM products ORDER BY date_added DESC LIMIT 10");
$i = 0;
// Establish the output variable
$dyn_table = '<table border="0" cellpadding="6">';
while($row = mysql_fetch_array($sql)){

    $id = $row["id"];

    if ($i % 5 == 0) { // if $i is divisible by our target number (in this case "5")
        $dyn_table .= '<tr><td><div style="position:relative" class="shadow tr" id="products_holder"><div style="position:absolute;left:-10px;top:-12px;">
    <img src="images/best.png" width="97" height="94" />
  </div><a href="product.php?id=' . $id . '"><img style=" margin:5px; border:#ccc 1px solid" src="inventory_images/' . $id . '.jpg" width="150" height="160"/></a></div></td>';
    } else {
        $dyn_table .= '<td><div style="position:relative" class="shadow tr" id="products_holder"><div style="position:absolute;left:-10px;top:-12px;">
    <img src="images/best.png" width="97" height="94" />
  </div><a href="product.php?id=' . $id . '"><img style=" margin:5px; border:#ccc 1px solid" src="inventory_images/' . $id . '.jpg" width="150" height="160"/></a></div></div></td>';
    }
    $i++;
}
$dyn_table .= '</tr></table>';
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
    <script src="scripts/modernizr-2.6.1.min.js"></script>
<title>site.com</title>
<style type="text/css">
</style>
</head>

<body>
<div align="center" id="wrapper">
  <?php include_once("temps/header.php"); ?>
  <div id="content">
    <div id="apDiv1">
    <h2>Top pros</h2></div>
  <table width="100%" border="0" cellspacing="0" cellpadding="17">
  <tr>
    <td width="2%" height="20">&nbsp;</td>
    <td width="98%" height="20"><p><?php echo $dyn_table; ?></p>

  </tr>
</table>
<table align="center" style=" table-layout:fixed; background-image:url(images/secondSection.png);" height="82" width="100%" border="0" cellspacing="10" cellpadding="10">
  <tr>
    <td width="2%" height="31">&nbsp;</td>
    <td style="vertical-align:top" align="center" width="28%"><div id="apDiv555" class="top_btns">&nbsp;&nbsp;&nbsp;&nbsp;
        <h6 class="shadow">&nbsp;More Products</h6>
    </div></td>
    <td style="vertical-align:top" align="center" width="70%"><div id="apDiv55" class="top_btns">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <h6><span class="shadow"><a href="#">&nbsp;&nbsp;&nbsp;Search By Clothing</a> &nbsp;|&nbsp;&nbsp;<a href="#">Search By Retailers</a></span></h6>
    </div></td>
    </tr>
</table>
<table style="background-image: url(images/tbl_bg.png); background-repeat: repeat-x;" height="350px" width="100%" border="0" cellspacing="12" cellpadding="0">
  <tr>
    <td width="3%"></td>
    <td width="97%"><iframe src="<?php echo $dyn_table; ?>" height="250" width="100%" ></iframe></td>
    </tr>
</table>
</table>
<table height="100" width="100%" border="0" cellspacing="17" cellpadding="17">
  <tr>
    <td>&nbsp;</td>
    </tr>
</table>

</div>

</div>
<?php include_once ("temps/footer.php"); ?>
</body>
</html> 
```

任何帮助将不胜感激，因为我几乎完成了这个项目。

钍

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:12:11.673

只需松开 iFrame 并在您已有的表中回显 $dyn_table ？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:20:16.230

您不知道 iframe 的含义，也许是：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
        <script src="scripts/modernizr-2.6.1.min.js"></script>
    <title>site.com</title>
    <style type="text/css">
    </style>
    </head>

    <body>
    <div align="center" id="wrapper">
      <?php include_once("temps/header.php"); ?>
      <div id="content">
        <div id="apDiv1">
        <h2>Top pros</h2></div>
      <table width="100%" border="0" cellspacing="0" cellpadding="17">
      <tr>
        <td width="2%" height="20">&nbsp;</td>
        <td width="98%" height="20"><p><?php echo $dyn_table; ?></p>

      </tr>
    </table>
    <table align="center" style=" table-layout:fixed; background-image:url(images/secondSection.png);" height="82" width="100%" border="0" cellspacing="10" cellpadding="10">
      <tr>
        <td width="2%" height="31">&nbsp;</td>
        <td style="vertical-align:top" align="center" width="28%"><div id="apDiv555" class="top_btns">&nbsp;&nbsp;&nbsp;&nbsp;
            <h6 class="shadow">&nbsp;More Products</h6>
        </div></td>
        <td style="vertical-align:top" align="center" width="70%"><div id="apDiv55" class="top_btns">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <h6><span class="shadow"><a href="#">&nbsp;&nbsp;&nbsp;Search By Clothing</a> &nbsp;|&nbsp;&nbsp;<a href="#">Search By Retailers</a></span></h6>
        </div></td>
        </tr>
    </table>
    <table style="background-image: url(images/tbl_bg.png); background-repeat: repeat-x;" height="350px" width="100%" border="0" cellspacing="12" cellpadding="0">
      <tr>
        <td width="3%"></td>
        <td width="97%"><iframe src="my_iframe.php" height="250" width="100%" ></iframe></td>
        </tr>
    </table>
    </table>
    <table height="100" width="100%" border="0" cellspacing="17" cellpadding="17">
      <tr>
        <td>&nbsp;</td>
        </tr>
    </table>

    </div>

    </div>
    <?php include_once ("temps/footer.php"); ?>
    </body>
    </html>

    // Context on the my_iframe.php

    <?php
    include "config/connect_to_mysql.php";
    $sql = mysql_query("SELECT * FROM products ORDER BY date_added DESC LIMIT 10");
    $i = 0;
    // Establish the output variable
    $dyn_table = '<table border="0" cellpadding="6">';
    while($row = mysql_fetch_array($sql)){

        $id = $row["id"];

        if ($i % 5 == 0) { // if $i is divisible by our target number (in this case "5")
            $dyn_table .= '<tr><td><div style="position:relative" class="shadow tr" id="products_holder"><div style="position:absolute;left:-10px;top:-12px;">
        <img src="images/best.png" width="97" height="94" />
      </div><a href="product.php?id=' . $id . '"><img style=" margin:5px; border:#ccc 1px solid" src="inventory_images/' . $id . '.jpg" width="150" height="160"/></a></div></td>';
        } else {
            $dyn_table .= '<td><div style="position:relative" class="shadow tr" id="products_holder"><div style="position:absolute;left:-10px;top:-12px;">
        <img src="images/best.png" width="97" height="94" />
      </div><a href="product.php?id=' . $id . '" target="_blank" onClick="window.open(this.href, this.target, 'width=300,height=400'); return false;"><img style=" margin:5px; border:#ccc 1px solid" src="inventory_images/' . $id . '.jpg" width="150" height="160"/></a></div></div></td>';
        }
        $i++;
    }
    $dyn_table .= '</tr></table>';
    echo $dyn_table;
    ?> 
```

一个 iframe 它是一个完全不同的页面，所以你应该使用 2 个页面....就像一个提议，一个用于 html 和一个用于 iframe....我希望它有所帮助。

PS：我改变了a href ;)

萨卢多斯 ;)

# ios - GCD，执行顺序？

> ID：15076505
> 
> 赞同：1
> 
> 时间：2013-02-25T21:07:46.257
> 
> 标签：ios, uiview, grand-central-dispatch, uivewcontroller

假设我们有一个 UIVewcontroller，叫它 A，在那个 VC 的 viewdidload 中我们添加两个 UIViewcontrollers(B,C)。现在为了使 A 的 Viewdidload 中的 UI 平滑，我们做了一些 GCD 工作

```
 dispatch_queue_t queue = dispatch_queue_create("CustomQueue", NULL);
  dispatch_async(queue, ^{
  // Create views, do some setup here, etc etc
  // Perform on main thread/queue
   dispatch_async(dispatch_get_main_queue(), ^{
     // this always has to happen on the main thread
    [self.view addSubview:myview1];
    [self.view addSubview:myview2];
    [self.view addSubview:myview3];
   });
 }); 
```

现在基于此代码，我是否保证视图将以相同的顺序添加？查看 1 ，然后 2 ，然后 3？

我注意到任意一些视图出现在其他视图之前！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:31:16.617

您的问题几乎可以肯定是这部分：

```
 dispatch_async(queue, ^{
  // Create views, do some setup here, etc etc 
```

你*不能*在后台线程上做任何与视图相关的事情（或者实际上是任何与 UIKit 相关的事情）。时期。

# ruby - Ruby 2 中的正则表达式略有不同？

> ID：15076507
> 
> 赞同：4
> 
> 时间：2013-02-25T21:07:52.233
> 
> 标签：ruby, regex, posix

我刚刚将一个小 gem 从 Ruby 1.9.3 移植到了漂亮的新 Ruby 2.0.0。我必须做的唯一改变是在正则表达式中。

在 1.9.3 下，以下正则表达式将匹配包含除数字、与数字相关的标点和空格（包括不间断空格）以外的字符的任何字符串。

```
/[^[[:space:]]\d\-,\.]/ 
```

在 2.0.0 下，我不得不将 Posix 空间类从否定类的开头移开。

```
/[^\d\-,\.[[:space:]]]/ 
```

我没有在我查看过的补丁说明中发现此更改。它在任何地方都有记录吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T21:59:51.453

正则表达式引擎已更改为 Onigmo（基于[Oniguruma](http://oniguruma.rubyforge.org/oniguruma/)），这可能会导致问题。

据我所知，您错误地声明了正则表达式。第二组括号不是必需的：

```
/[^[:space:]\d\-,\.]/ 
```

该`[:space:]`声明仅在集合内无效，因此您会看到它看起来`[[:space:]]`好像是单独使用的。在您的情况下，您还有其他几个添加到集合中。

我不确定为什么`\s`在这种情况下还不够。

# android - Android相当于JTextArea

> ID：15076509
> 
> 赞同：1
> 
> 时间：2013-02-25T21:07:57.453
> 
> 标签：android, android-networking

我在本地网络中的客户端和服务器之间制作了一个基于 Java 的聊天应用程序。聊天对话框显示在`JTextArea`.

我想将此应用程序转换为 Android 应用程序，使 Android 设备成为客户端，但我找不到相应的 Android 控件来替换`JTextArea`以显示聊天。请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:10:12.327

Swings`JTextArea`的通讯员被称为[`TextView`](http://developer.android.com/reference/android/widget/TextView.html)。请注意，TextView 本身是单行的，请`android:singleLine="false"`在您的 layout-xml 中添加属性以超出此范围。

# ios - iPad 上的 gdb 无法转储内存

> ID：15076510
> 
> 赞同：4
> 
> 时间：2013-02-25T21:07:57.163
> 
> 标签：ios, ipad, memory, gdb, dump

我正在尝试查看在我的 iPad 上运行的应用程序的内存。我已经获得了应用程序的 pid，并且可以使用`gdb`.

```
iPad:~/dev root# gdb -p 3839
GNU gdb 6.3.50.20050815-cvs (Fri May 20 08:08:42 UTC 2011)
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "--host=arm-apple-darwin9 --target=".
/private/var/root/dev/3839: No such file or directory
Attaching to process 3839.
0x35824004 in ?? ()
(gdb) 
```

但是，当我尝试转储其中一个内存区域时：

```
(gdb) info mach-regions
Region from 0x22000 to 0x24000 (---, max r-x; copy, private, not-reserved)
   ... from 0x24000 to 0x269000 (---, max r-x; copy, private, not-reserved)
[...]
   ... from 0x267a000 to 0x267b000 (---, max rwx; copy, private, not-reserved)
   ... from 0x267b000 to 0x267c000 (---, max rwx; copy, private, not-reserved)
   ... from 0x267c000 to 0x267d000 (---, max rwx; copy, private, not-reserved)
   ... from 0x267d000 to 0x267f000 (---, max rwx; copy, private, not-reserved)
   ... from 0x267f000 to 0x2680000 (---, max rwx; copy, private, not-reserved)
[...]
(gdb) dump binary memory output.bin 0x267c000 0x267d000 
```

我收到此错误：

```
gdb stack crawl at point of internal error:
0   gdb                                 0x00170e74 internal_vproblem + 124
1   gdb                                 0x0016dd68 internal_verror + 52
2   gdb                                 0x0016dd94 align_down + 0
3   gdb                                 0x0016def8 gdb_check_fatal + 36
4   gdb                                 0x001eba9c mach_xfer_memory + 588
5   gdb                                 0x000c7ca8 default_xfer_partial + 256
6   gdb                                 0x000ca04c target_xfer_partial + 1004
7   gdb                                 0x000ca404 target_read_partial + 56
8   gdb                                 0x000ca488 target_read + 120
9   gdb                                 0x000ca674 target_read_memory + 68
10  gdb                                 0x00003f5c dump_memory_to_file + 276
11  gdb                                 0x0016c804 execute_command + 1160
12  gdb                                 0x000aba88 command_handler + 228
13  gdb                                 0x000acd94 command_line_handler + 768
14  gdb                                 0x002236b4 rl_callback_read_char + 160
../../gdb-1518/src/gdb/macosx/macosx-nat-mutils.c:772: internal-error: assertion failure in function "mach_xfer_memory": r_end >= cur_memaddr

A problem internal to GDB has been detected,
further debugging may prove unreliable.
Quit this debugging session? (y or n) y 
```

一旦我退出 gdb，应用程序也会崩溃。

似乎我做的一切都是正确的，在这里......为什么会发生错误？以及如何让它发挥作用？

我在第一代 iPad 上运行 iOS 5.1.1。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-27T13:52:14.593

啊，显然 Cydia 附带的 GDB 版本[在 iOS 5 上不起作用](http://www.securitylearn.net/tag/gdb-ios-5/)。这些说明对我有用：

> GNU 调试器 (gdb) 用于分析 iOS 应用程序的运行时行为。在最近的 iOS 版本中，直接从 Cydia 下载的 GNU 调试器已损坏且无法正常运行。关注 Pod 2g 博客文章也没有帮助我。
> 
> 要解决这个问题，请将[http://cydia.radare.org](http://cydia.radare.org)添加到 cydia 源并下载最新的 GNU 调试器（build 1708）。GDB build 1708 适用于 iOS 5.x。

# wordpress - 创建一个仅显示当天帖子的 wordpress 循环

> ID：15076513
> 
> 赞同：0
> 
> 时间：2013-02-25T21:08:09.813
> 
> 标签：wordpress, loops

我目前有一个页面只显示 1 个帖子，因为我希望每天有 1 个帖子并显示在敬意上。

我决定在一天内发布多个帖子，但我只希望主页仅显示当天的帖子。

在我的循环中我可以改变什么来完成这个？

我的网站是[http://thatshitsawesome.com](http://thatshitsawesome.com)供参考。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:03:42.047

首先，您必须增加最多显示的可见帖子的数量。我假设您已经知道如何执行此操作，因为您已设法将其限制为每个查询一个。为了完成，您可以使用`posts_per_page`查询参数中的条件或在管理面板设置下*设置的**“博客页面最多显示”*值中更改它，如果您想使用默认值。

 *要将帖子限制在当天，请使用[WP_Query](https://codex.wordpress.org/Class_Reference/WP_Query#Time_Parameters)参考中定义的一些特定*时间参数。*您需要条件和。`year``monthnum``day`

例子：

```
<?php 
// Limit query posts to the current day
$args = array(
    'year' => (int) date( 'Y' ),    
    'monthnum' => (int) date( 'n' ),    
    'day' => (int) date( 'j' ), 
);

$query = new WP_Query( $args );

// The Loop
while ( $query->have_posts() ) :
    $query->the_post();

    // ...
endwhile;
?> 
```

如果您没有使用显式查询，而是依赖内部 WP 查询，则更改内部查询的常用方法是使用`pre_get_posts`操作。将下面的函数添加到您的**functions.php**文件中，以仅显示当天的帖子并且仅显示在首页上。

例子：

```
<?php
function limit_posts_to_current_day( $query ) {
    if ( $query->is_home() && $query->is_main_query() ) {
        $query->set( 'year', (int) date( 'Y' ) );
        $query->set( 'monthnum', (int) date( 'n' ) );
        $query->set( 'day', (int) date( 'j' ) );
    }
}
add_action( 'pre_get_posts', 'limit_posts_to_current_day' );
?> 
```*

# c++ - 求一个字符串在另一个字符串中出现多少次？(C++)

> ID：15076526
> 
> 赞同：-10
> 
> 时间：2013-02-25T21:08:59.577
> 
> 标签：c++, arrays, string

如何找到一个字符串在另一个字符串中出现的次数？

例如，如果我输入两个字符串： message miSHdeOJfsfsOJdosIhisdaIhfidfgOJsde

因此，它出现一次，因此输出应该是 YES。

它也必须区分大小写，例如：CaseSensitive casesensitive 应该输出“NO”，因为它没有出现。

```
#include <iostream>
using namespace std;
int main()
{

    string a[100],b[100];
    int n;
    cin >> n;
    for(int i=0;i<n;i++)
    {
        cin >> a[i] >> b[i];
    }
    for(int j=0;j<n;j++)
    {
        if(a[j].find(b[j]))
        cout << "YES" << endl;
        else
        cout << "NO" << endl;
    }
    return 0;
} 
```

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:51:05.443

`string::find``string::npos`如果没有找到（不是）返回，如果找到则返回`0`起始位置，所以你的条件`if(a[j].find(b[j]))`是错误的。

阅读[参考手册](http://en.cppreference.com/w/cpp/string/basic_string/find)以了解如何`find`正确使用。

(`find`只会在一个字符串中找到搜索字符串，即它在 'message' 中找到 'esag' 但在 'abaeaear' 中找不到 'beer' ！后者需要更多考虑，如果这是任务那么你可能旨在提出您自己的算法。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T22:22:35.240

你可以尝试这样的事情：

```
int find_n_substr( const string& s, const string& key){

    int n = 0;
    string::size_type sz = 0;

    while ( (sz = s.find (key,sz) ) != string::npos  ){
        sz++; /*otherwise you start searching at your previous match*/
        n++;
    }
    return n;
} 
```

# ruby-on-rails - 使用数组创建多个文档

> ID：15076528
> 
> 赞同：-1
> 
> 时间：2013-02-25T21:09:12.047
> 
> 标签：ruby-on-rails, ruby, mongodb, mongoid

我有以下数组：

```
@unregistered_users = ['my@email.com', 'your@email.com', ...] 
```

现在，我想为每个数组元素创建一个文档：

```
@unregistered_users.each do |email_address|
  Model.create(email: email_address, user: self.user, detail: self)
end 
```

但它只创建一个文档（数组的第一个元素）。根本不创建其他数组元素。为什么？

我们正在使用 Ruby 1.9.3-p385、Rails 3.2.12、MongoID 3.0.0 和 MongoDB 2.2.3

## 更新#1

因此，我们有一个`_id`使用自定义随机标记的自定义字段`SecureRandom.hex(64).to_i(16).to_s(36)[0..127]`。

在我删除它之后，它可以正常工作，但是使用常规的 mongo ID（这不是我们想要的）。

## 更新#2

这就是生成令牌的方式：

```
class Model
  include Mongoid::Document
  include Mongoid::Timestamps

  ...
  field :_id, default: SecureRandom.hex(64).to_i(16).to_s(36)[0..127]
  ...

  index( { _id: 1 }, { unique: true } )
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:45:46.687

尝试这样的事情来检查 mongoid 模型上的错误是什么：

```
@unregistered_users.each do |email_address|
  model = Model.create(email: email_address, user: self.user, detail: self)
  puts model.errors.inspect unless model.persisted?
end 
```

或用于`create!`引发异常并查看发生了什么

# javascript - 如何在 Javascript/Jquery 中获取包含点击文本的元素？

> ID：15076529
> 
> 赞同：1
> 
> 时间：2013-02-25T21:09:16.273
> 
> 标签：javascript, jquery, events, javascript-events, textnode

当我单击文本时，我想替换页面上的文本，甚至只是替换单击的单个单词。我尝试了一种自上而下的方法，选择 DOM 中的所有元素，过滤掉 textNodes，用标签包装每个元素，并向每个标签添加一个单击事件处理程序。但这太慢且效率低下，尤其是在非常大且动态的站点上。

我只需要替换被点击的文本。是否有从 event.target 开始的自下而上的方法？例如，如何找到最接近 event.target 的 textNode？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:15:56.897

在您给出的示例中，您可以执行以下操作；有关更多信息，请参阅**[如何使用 jQuery 选择文本节点？](https://stackoverflow.com/questions/298750/how-do-i-select-text-nodes-with-jquery)**

```
$(document).click(function(event) {     
    textNodes = $(event.target).contents().filter(function() {
        return this.nodeType == 3;
    });

    textNodes.each( function() {
         $(this).replaceWith("New Text");
    });
}) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-25T21:16:16.413

你试过[Jquery 的 .closest()](http://api.jquery.com/closest/)吗？

**描述：**对于集合中的每个元素，通过测试元素本身并向上遍历其在 DOM 树中的祖先来获取与选择器匹配的第一个元素。

# scala - 是否可以在 Scala 中使用具有不同类型参数的泛型值列表？

> ID：15076530
> 
> 赞同：1
> 
> 时间：2013-02-25T21:09:20.783
> 
> 标签：scala, generics, types, functional-programming

我想实现以下目标：

1.  有一个我需要处理的字符串列表。
2.  这些处理器有几种不同的类型，每一种都知道要读取字符串的哪一部分。
3.  我需要分两个阶段工作：首先，处理器需要查看每个输入字符串以构建特定于处理器的数据；其次，每个输入字符串由每个处理器处理，并将生成的字符串合并为一个。

以可变的方式很容易做到：所有处理器都有一个通用的基类，它们聚合的不同类型的数据被封装在具体的实现中；该界面仅包含 2 个功能——“查看输入字符串并构建内部数据”和“使用您的内部数据处理输入字符串”。

当我在 Scala 中编写它时，我想知道是否存在纯函数方法。问题是现在这些处理器的基本特征是由它们的内部数据类型参数化的，而且似乎没有办法列出不同类型的处理器。

这个问题可以用一个更简单的例子来证明：假设我坚持使用可变方法，但由于某种原因已经参数化了处理器从字符串中获取的类型：

```
trait F[V] {
  def get(line: String) : V
  def aggregate(value: V)
  def process(value: V) : String
}

class F1 extends F[Int] // ...
class F2 extends F[HashMap[Int, Int]] // ...

for (s <- List("string1", "string2"); 
  f <- List(new F1(), new F2()) 
{
  f.aggregate(f.get(s)); // Whoops --- doesn't work   
} 
```

它不起作用，因为`f.get(s)`返回`Any`。看起来我需要在 Scala 的类型系统中表达，`List(new F1(), new F2())`其中包含`F[?]`不同但一致的内容，因为如果我采用该列表的一个元素，它的类型参数有一些具体值，并且`f.get(s)`属于那种类型，应该被`f.aggregate()`.

最后，我想要这样的东西（有遗漏，因为我不知道该怎么做）：

```
trait F[D] {
  def initData : D
  def aggregate(line: String, data: D) : D
  def process(line: String, data: D) : String
}

class F1 extends F[Int] // ...
class F2 extends F[HashMap[Int, Int]] // ...

// Phase 1
// datas --- List of f.initData, how to?
for (s <- List("string1", "string2")) {
  for (f <- List(new F1(), new F2()) {
    // let fdata be f's data
    // update fdata with f.aggregate(s, fdata)
  }
}

// Phase 2
for (s <- List("string1", "string2")) {
  for (f <- List(new F1(), new F2()) {
    // let fdata be f's data
    // for all fs, concatenate f.process(s, fdata) into an output string
  }
} 
```

问题：

1.  这个任务可以在 Scala 中以纯函数方式解决吗？
2.  这个任务可以用其他函数式语言解决吗？
3.  这种情况看起来很一般。有它的名字我可以搜索吗？
4.  假设几乎没有类型理论和函数式编程语言的背景，最好的阅读地点在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:23:13.980

此外，您可以使用[抽象类型](http://www.scala-lang.org/node/105)而不是泛型，因此：

```
trait F {
  type D
  def initData: D
  def aggregate(line: String, data: D): D
  def process(line: String, data: D): String
}

class F1 extends F { type D = Int } // ...
class F2 extends F { type D = Map[Int, Int] } // ...

val strings = List("string1", "string2")
for (f <- List(new F1(), new F2())) {
  val d = strings.foldLeft(f.initData) { (d, s) => f.aggregate(s, d) }

  for (s <- strings)
    f.process(s, d)
} 
```

不确定，如果我没有恢复正确的操作顺序，但这可能是一个起点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:22:14.230

**编辑**刚刚注意到，我以前的解决方案过于冗长，不需要任何临时数据结构。

我不确定，您所说的“纯功能”是什么意思。`println`以下解决方案（如果它是您的问题的解决方案）是“纯粹的功能性”，因为它除了最终调用之外没有任何副作用`main`。

请注意，这`List[F[_]](...)`很重要，否则编译器将为列表的元素推断出一个非常具体的内部类型，这与`aggregateAndProcess`函数不匹配。

```
trait F[D] {

    type Data = D  // Abbreviation for easier copy+paste below. Does not
                       // contribute to the actual solution otherwise

    def initData: Data
    def aggregate(line: String, data: Data) : Data
    def process(line: String, aggData: Data): String
}

class F1 extends F[Int] {
    def initData: Data = 1
    def aggregate(line: String, data: Data) : Data = data + 1
    def process(line: String, aggData: Data): String = line + "/F1" + aggData
}

class F2 extends F[Boolean] {
    def initData: Data = false
    def aggregate(line: String, data: Data) : Data = !data
    def process(line: String, aggData: Data): String = line + "/F2" + aggData
}

object Main {

    private def aggregateAndProcess[T](line: String, processor: F[T]): String =
        processor.process(line, processor.aggregate(line, processor.initData))

    def main(args: Array[String]) {

        val r = for {
            s <- List("a", "b")
            d <- List[F[_]](new F1, new F2)
        } yield
            aggregateAndProcess(s, d)

        println(r.toList)
    }
} 
```

但请注意，我仍然不确定您真正想要完成什么。接口并没有真正指定哪些信息在`F`什么时间从哪个方法流到任何位置，所以：这仍然是最好的猜测。

# coffeescript - 如何使用 grunt-regarde 和 grunt-contrib-coffee 来仅编译更改的 .coffee 文件？

> ID：15076533
> 
> 赞同：11
> 
> 时间：2013-02-25T21:09:29.483
> 
> 标签：coffeescript, gruntjs

我的项目有 300 多个 CoffeeScript 文件，因此重新编译所有内容需要几秒钟的时间。我只想重新编译更改后的 CoffeeScript 文件。

这是迄今为止我最接近的，但是“frontend-sr​​c/coffeescript”文件夹结构正在从 src 目录复制到 dest 目录。

```
coffee: {
  changed: {
    expand: true,
    cwd: './',
    src: ['<%= grunt.regarde.changed %>'],
    dest: 'public/js/',
    ext: '.js'
  }
},
regarde: {
  coffee: {
    files: 'frontend-src/coffeescript/**/*.coffee',
    tasks: ['coffee:changed', 'livereload']
  }
} 
```

这就是 Grunt 0.4.0 的全部内容。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T14:07:03.330

我自己也遇到了这个问题，我能够根据对此问题的评论提出一个解决方案： [https ://github.com/gruntjs/grunt-contrib-watch/issues/14](https://github.com/gruntjs/grunt-contrib-watch/issues/14)

它实际上适用于 grunt-contrib-watch 插件，但它也应该适用于 grunt-regarde，因为它有类似的事件。

这个想法是绑定一个回调`watch`事件，在其中你将一个新任务添加到具有更改文件路径的 grunt 配置中，然后运行它。

从我的`Gruntfile.coffee`：

```
coffee:
    app:
        expand: true
        cwd: 'app/'
        src: ['*.coffee',"**/*.coffee"]
        dest: './public/temp'
        ext: '.js'
watch: 
    coffee:
        files: ['app/**/*.coffee']
        tasks: ['livereload']
        options:
            nospawn: true

grunt.event.on 'watch', (action, filepath) ->       
    cwd = 'app/'
    filepath = filepath.replace(cwd,'')
    grunt.config.set('coffee',
        changed:
            expand: true
            cwd: cwd
            src: filepath
            dest: './public/temp'
            ext: '.js'
    )
    grunt.task.run('coffee:changed') 
```

nospawn 对 watch 任务很重要，所以它在 livereload 任务之前运行新任务。我很确定默认情况下不会产生子进程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-19T10:06:56.507

我有同样的问题。我使用`regarde:file`事件解决了它。

首先，我使用`regarde:file`事件监听更改的文件。这将为两个任务提供配置：`clean:coffee`源位置中的文件是否已删除以及`coffee:refresh`文件是否已更改/添加。

然后该`regarde`任务将触发其任务，该任务将启动`refresh:coffee`（不要误会`coffee:refresh`）。此任务将检查是否为`clean:coffee`和/或添加了配置，`coffee:refresh`并在需要时运行这些任务（通过函数 `grunt.task.run`）。如果还会重置标志，这将导致下一个接收到`regarde:file`的事件再次清理配置。

**深入解释：**

首先，`regarde`配置：

```
 // watch for changed coffeescript files
 coffee: {
    files: 'path/to/coffee/**/*.coffee',
    tasks: ['refresh:coffee', 'livereload']
 }, 
```

然后我监听该`regarde:file`事件，并在其配置中更新`clean:coffee`和`coffee:refresh`文件列表。

**根据`regarde:file`事件提供配置：**

```
grunt.event.on('regarde:file', function (status, target, filepath) {
   if (resetFlag) {
      // clean file list from previous cycle, so clean clean:coffee and coffee:refresh
      // file lists
      ...

      resetFlag = false;
   } 
   if (status === 'deleted') {
        if (filepath) {
            // calculate filepath's destination and  
            // add it to clean:coffee filelist
        }
    } else {
        if (!grunt.file.isDir(filepath)) {
            // add filepath to coffee:refresh filelist
        }
    }
} 
```

`grunt.config()`通过函数更新配置很容易。在要馈送的代码片段下方`coffee:refresh`和`clean:coffee`.

**将配置添加到`coffee:refresh`：**

```
var config = grunt.config('coffee') || {};
var value = config.refresh || {};
value.files = value.files || [];
...
var cwd = path.dirname(filepath),
    src = path.basename(filepath),
    dest = cwd.replace('path/to/source', 'path/to/dest');
    value.files.push({
       expand:true,
       src:src,
       dest:dest,
       cwd:cwd,
       ext:'.js'
    });
grunt.config('coffee', config); 
```

**将配置添加到`clean:coffee`：**

```
 var cwd = path.dirname(filepath),
        src = path.basename(filepath),
        dest = cwd.replace('path/to/source', 'path/to/dest');
        value.src.push(path.join(dest, src.replace('coffee', 'js')));
    // clean only what has been removed
        config = grunt.config('clean') || {};

    config.coffee = value;

    grunt.config('clean', config); 
```

**任务`refresh:coffee`被触发：**

```
 grunt.registerMultiTask('refresh', 'refreshing the changed file(s)', function () {
        this.requires('regarde');

        var tasks = [];
        var clean = grunt.config('clean');

        // check if there is clean:refresh config available
        if (clean && clean[this.target]) {
            tasks.push('clean:' + this.target);
        }
        var config = grunt.config(this.target);

        // check if there is coffee:refresh config available
        if (config && config.refresh) {
            tasks.push(this.target + ':refresh');
        }
        // run the tasks
        grunt.task.run(tasks);

        // set the resetFlag back to true
        resetFlag = true;
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T11:30:56.557

`grunt.regarde.changed`数组正确吗？

应该`src: ['<%= grunt.regarde.changed %>']`

是`src: '<%= grunt.regarde.changed %>'`

我查看了 grunt-contrib-coffee 的源代码一秒钟，看看它是否不能正确处理你给它的任何东西。看起来你给它的字符串化数组很可能没有被抓住和处理。

我认为您意外通过的可能是：`src: [ '[path1, path2, path3, etc]' ]`

如果我离基地很远，请发表评论，我将删除此答案。

# android - WebView 和 ViewPager，以及水平滚动内容

> ID：15076534
> 
> 赞同：4
> 
> 时间：2013-02-25T21:09:33.857
> 
> 标签：android, android-webview, android-viewpager

我有多个`WebViews`显示在`ViewPager`页面中，但是如果部分`WebView`内容是`Horizontal Scrollable content`，我遇到了问题，我已经在 iOS 上对其进行了测试，并且`WebView`使用了`TouchEvent`，所以`ViewPager`不滚动，但在 android 中`ViewPager`不断滚动，我试图得到消耗`TouchEvent`，但我无法确定内容是否可以水平滚动。

==== 编辑1：

内容的宽度与 webview 相匹配，没有滚动条，但是他们放了框架或者我不知道它的名字，里面的内容是水平滚动的。（互动杂志）

*   在线小样本[http://www.quackit.com/html/codes/horizo​​ntal_scroll.cfm](http://www.quackit.com/html/codes/horizontal_scroll.cfm) （向下滚动到结果框）

# dart - Dart oauth2：示例不起作用

> ID：15076541
> 
> 赞同：1
> 
> 时间：2013-02-25T21:09:57.117
> 
> 标签：dart

我尝试了 dart oauth2 库的示例代码： [https ://github.com/dart-gde/dart-google-oauth2-library](https://github.com/dart-gde/dart-google-oauth2-library)

我按照自述文件，从 Google API 控制台创建一个新项目并设置

```
Redirect URIs:  http://127.0.0.1:3030/oauth2callback
JavaScript origins: http://127.0.0.1:3030 
```

然后我在 oauth_example.dart 文件中更改客户端 ID，然后运行。我可以看到一个带有登录按钮的网页。我点击了它，但没有任何反应。有人有这方面的经验吗？非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-04T04:36:28.810

试试[这个](http://blog.dartwatch.com/2013/04/sign-in-with-google-using-google-oauth2.html)教程。很清楚，一步一步来。

# ruby-on-rails-3 - 如何计算公用文件夹中文件的路径？

> ID：15076548
> 
> 赞同：0
> 
> 时间：2013-02-25T21:10:32.607
> 
> 标签：ruby-on-rails-3, filepath, public

我`Uploads`在我的文件夹中创建了一个文件`public`夹。

我希望人们能够单击链接并下载该文件`Uploads`夹中的文件。

这是我的代码：

```
<p>
  <b>Certifications</b>

  <%= link_to @tutor.tutor_degrees.first.name, # => "AS Level English"
      root_path + @tutor.tutor_degrees.first.certification_scan %>
</p>

http://localhost:3000/Screen%20shot%202013-02-04%20at%206.01.11%20PM.png 
```

它缺少`/uploads/`URL 路径中的位。

如果我手动添加该字符串，我会得到一个 borked URL：

```
<p>
  <b>Certifications</b>
  <%= link_to @tutor.tutor_degrees.first.name,
      root_path + '/uploads/' + @tutor.tutor_degrees.first.certification_scan %>
</p>

http://uploads/Screen%20shot%202013-02-04%20at%206.01.11%20PM.png 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:28:45.910

试试这个...

```
<%= link_to @tutor.tutor_degrees.first.name, "http://#{request.host}/uploads/#{@tutor.tutor_degrees.first.certification_scan}" %> 
```

必须工作:)

# python - 平均来自 CSV 文件的元组列表

> ID：15076549
> 
> 赞同：0
> 
> 时间：2013-02-25T21:10:46.690
> 
> 标签：python

对于个人项目，我有一个相当大的 .CSV 文件，其中包含 Apple 过去的股票数据。我已经有一个函数使用 csv 模块来读取这些数据并打印出日期和当月的收盘价：

这是元组格式的示例：

```
('2012-03-24' , '122.10') 
```

我现在正在寻找平均每个月的数据并重新生成元组列表。

有没有人有什么建议？我是 Python 初学者。

```
def get_list_data(file_obj, column_number):    
    with open("table.csv", "r") as f:
        reader = csv.reader(f, delimiter=',')
        for row in reader:
            data = row[0] , row[column_number]  #Data and column data
            list_of_tuples = tuple(data)
            print(list_of_tuples)

    return list_of_tuples

def average_data(list_of_tuples):  #This is where I am stuck 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:22:17.213

您需要以下步骤：

1.  首先，您需要将每个元组的第二部分*('122.1')*​​ 中的字符串转换为浮点数。您可以使用该`float()`方法执行此操作。

2.  其次，您需要使用`sum()`方法和[列表理解](http://docs.python.org/2/tutorial/datastructures.html#list-comprehensions)计算元组的所有第二部分的总和。

3.  除以函数`len()`返回的列表的长度。

代码示例：

```
def average_data(list_of_tuples):

    stock_data = [float(t[1]) for t in list_of_tuples]
    stock_sum = sum(stock_data)
    return stock_sum / len(list_of_tuples) 
```

例子：

```
list_of_tuples = [('2012-03-24' , '122.10'), ('2012-03-25' , '117.30'), ('2012-03-26' ,  '126.9')]

print average_data(list_of_tuples)
>>> 122.1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T02:52:12.497

如果您正在自学 Python，请继续使用自己的阅读器来实现`csv`，然后自己计算平均计算。这是一个很好的练习。

但是，如果您想减少编码并花更多时间进行分析，请使用类似`pandas`（或至少`numpy`）的东西。该`pandas`库擅长此类数据分析。

以下 ipython 会话显示了使用`pandas`. （如果您不使用 ipython，那么这是我强烈建议您学习的另一个工具。）在本次会议中，我阅读了一个包含 Apple 股票数据的 CSV 文件。数据文件“aapl.csv”如下所示：

```
Date,Open,High,Low,Close,Volume,Adj Close
2013-02-25,453.85,455.12,442.57,442.80,13276100,442.80
2013-02-22,449.25,451.60,446.60,450.81,11798600,450.81
2013-02-21,446.00,449.17,442.82,446.06,15970800,446.06
2013-02-20,457.69,457.69,448.80,448.85,17010800,448.85
2013-02-19,461.10,462.73,453.85,459.99,15563700,459.99
2013-02-15,468.85,470.16,459.92,460.16,13990900,460.16
2013-02-14,464.52,471.64,464.02,466.59,12688400,466.59
...
1984-09-14,27.62,28.50,27.62,27.87,8826400,3.13
1984-09-13,27.50,27.62,27.50,27.50,7429600,3.09
1984-09-12,26.87,27.00,26.12,26.12,4773600,2.94
1984-09-11,26.62,27.37,26.62,26.87,5444000,3.02
1984-09-10,26.50,26.62,25.87,26.37,2346400,2.97
1984-09-07,26.50,26.87,26.25,26.50,2981600,2.98 
```

导入熊猫库：

```
In [1]: import pandas as pd 
```

使用“日期”列作为索引将数据读入 DataFrame：

```
In [2]: aapl = pd.read_csv('aapl.csv', index_col=0, parse_dates=True) 
```

按升序对索引进行排序：

```
In [3]: aapl = aapl.sort() 
```

先看看前几条记录：

```
In [4]: aapl.head()
Out[4]: 
             Open   High    Low  Close   Volume  Adj Close
Date                                                      
1984-09-07  26.50  26.87  26.25  26.50  2981600       2.98
1984-09-10  26.50  26.62  25.87  26.37  2346400       2.97
1984-09-11  26.62  27.37  26.62  26.87  5444000       3.02
1984-09-12  26.87  27.00  26.12  26.12  4773600       2.94
1984-09-13  27.50  27.62  27.50  27.50  7429600       3.09 
```

将数据重采样为每月。默认情况下，使用每日值的平均值：

```
In [5]: monthly = aapl.resample('1M')

In [6]: monthly.head()
Out[6]: 
                 Open       High        Low      Close           Volume  Adj Close
Date                                                                              
1984-09-30  26.981250  27.333125  26.606250  26.738750   4807300.000000   3.007500
1984-10-31  25.035652  25.313478  24.780435  24.806957   5559408.695652   2.788696
1984-11-30  24.545238  24.782857  24.188095  24.236190   5749561.904762   2.724286
1984-12-31  27.060000  27.378500  26.841000  26.947500   6195360.000000   3.031500
1985-01-31  29.520000  29.855909  29.140000  29.253182  10353818.181818   3.289091 
```

绘制每月数据的“关闭”列：

```
In [7]: monthly.plot(y='Close')
Out[7]: <matplotlib.axes.AxesSubplot at 0x45ff4d0> 
```

查看“关闭”列：

```
In [8]: monthly['Close']
Out[8]: 
Date
1984-09-30    26.738750
1984-10-31    24.806957
1984-11-30    24.236190
1984-12-31    26.947500
1985-01-31    29.253182
1985-02-28    28.089474
1985-03-31    22.741429
1985-04-30    21.425238
1985-05-31    19.656818
1985-06-30    16.399000
1985-07-31    17.185455
1985-08-31    15.098636
1985-09-30    15.738500
1985-10-31    16.940000
1985-11-30    19.460000
...
2011-12-31    392.930476
2012-01-31    428.578000
2012-02-29    497.571000
2012-03-31    577.507727
2012-04-30    606.003000
2012-05-31    564.673182
2012-06-30    574.562381
2012-07-31    601.068095
2012-08-31    642.696087
2012-09-30    681.568421
2012-10-31    634.714286
2012-11-30    564.345714
2012-12-31    532.055000
2013-01-31    497.822381
2013-02-28    459.026875
Freq: M, Name: Close, Length: 342 
```

这是该方法生成的图`plot`： ![“收盘”的月平均值](../Images/9c3d55ea767ad428298b56e464187455.png)

# sql - 尝试比较两个日期时出错

> ID：15076551
> 
> 赞同：1
> 
> 时间：2013-02-25T21:10:51.627
> 
> 标签：sql, sql-server, tsql

我有一个选择，我需要确保我的 adate varchar(8) 在提供的两个日期之间。

有时传入的值是 NULL，所以我会显示所有内容。

```
select something from myTable where
convert(date, adate) >= ISNULL(convert(date,@beginDate), convert(date, adate)) 
```

工作正常

但是当我成功时：

```
select something from myTable where
convert(date, adate) >= ISNULL(convert(date,@beginDate), convert(date, adate)) 
and convert(date, adate) <= ISNULL(convert(date,@endDate), convert(date, adate)) 
```

我得到：

从字符串转换日期和/或时间时转换失败。

或者我可以在没有 >= 的情况下执行 <= 行而不会出错，但不能将它们都放在一起，这是怎么回事？

这两行看起来相同，我无法弄清楚我在这里做错了什么.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:15:45.320

检查@endDate 的值。该参数是有效的 SELECT 和无效的 SELECT 之间的唯一区别。很有可能，它（有时）包含一个无法转换为日期的值。通常怀疑是空字符串 ( `''`)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T22:26:00.243

看起来@startdate 和@enddate 都是字符串类型。最好的办法是让它们采用 ISO 格式（yyyymmdd），你应该没问题。

例如尝试使用这些；

```
Select @startdate = '20130101', @enddate = '20130221' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T22:03:30.013

我不确定您要做什么，但是...由于任何值都可能来自 NULIFIED，因此您说您会在表中获得每个结果...因此仅设置查询可能会更容易在数据库之前使用您使用的语言对其进行过滤...

或者就像我会放一个 PHP 示例一样......

```
 IF ( !$beginDate || !$endDate )
    {
        $query = "SELECT * FROM myTable";
    }
    ELSE
    {
        $query = "SELECT * FROM myTable WHERE 'whatever clause'";
    } 
```

# php - cURL 登录填写表单但不“发布”

> ID：15076553
> 
> 赞同：0
> 
> 时间：2013-02-25T21:10:54.210
> 
> 标签：php, curl, autologin

对于一个计算机科学项目，我们必须建立一个展示我们时间安排的网站。所以基本上我们要做的就是登录[这个](http://rooster.sgnphp.nl/)站点并从你被引导到的页面中获取信息。我已经阅读了很多帖子并尝试了很多 cURL，但似乎没有任何效果。我得到了要填写的表格，但看起来好像没有点击“提交”按钮。这就是我所拥有的：

```
<?php
$url="http://rooster.sgnphp.nl/infoweb/index.php"; 
$post_data['user'] = '105353';
$post_data['paswoord'] = '105353';

foreach ( $post_data as $key => $value) 
{
    $post_items[] = $key . '=' . $value;
}
$postdata = implode ('&', $post_items);

$ch = curl_init($url);
curl_setopt ($ch, CURLOPT_URL, $url); 
curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, FALSE); 
curl_setopt ($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;         rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6"); 
curl_setopt ($ch, CURLOPT_TIMEOUT, 60); 
curl_setopt ($ch, CURLOPT_FOLLOWLOCATION, 1); 
curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1); 
curl_setopt ($ch, CURLOPT_COOKIEJAR, cookie.txt); 
curl_setopt ($ch, CURLOPT_COOKIEFILE, cookie.txt); 
curl_setopt ($ch, CURLOPT_REFERER, $url); 
curl_setopt ($ch, CURLOPT_POSTFIELDS, $postdata); 
curl_setopt ($ch, CURLOPT_POST, 1); 
$result = curl_exec ($ch); 
echo $result;

curl_close($ch);
?> 
```

我尝试填写的表格如下所示：

```
<form action="/infoweb/index.php" method="post">
<input type="hidden" name="csrf" value="cec30a2ed764e956ed01f137e2f0705a">
<table>
  <tbody><tr>
    <td>
      Gebruikersnaam:
    </td>
    <td>
      <input class="mooi" style="color: #FF8080;" type="text" name="user" value="105353" onfocus="if (this.value =='username') this.value=''; this.style.color='#000000';" onkeydown="this.style.color='#000000';">
    </td>
  </tr>
  <tr>
    <td>
      Wachtwoord:
    </td>
    <td>
      <input class="mooi" style="margin-bottom: 2px; color: #FF8080;" type="password"     name="paswoord" value="105353" onfocus="if (this.value =='wachtwoord') this.value=''; this.style.color='#000000';" onkeydown="this.style.color='#000000';">
    </td>
  </tr>
  <tr>
    <td>
      <input type="hidden" name="login" value="loginform"> &nbsp;
    </td>
    <td>
      <input type="submit" class="mooi" value="inloggen"><br>
    </td>
  </tr>
</tbody></table>
</form> 
```

那么会发生什么情况是表格已填写，但我看不到时间表，因为（我认为）我没有正式登录。有人可以帮我吗？我真的需要让它工作，这样我才能继续我的项目的其余部分，但我已经坚持了好几天了。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:20:46.177

根据该站点的登录脚本的工作方式，取决于您设置 Curl 的方式。

乍一看，我猜您需要先卷曲页面以启动会话并保存 cookie，然后去除“csrf”输入，然后发布您的用户名和密码。

从那时起，您将能够 Curl 任何需要您登录的链接。

如果“你”建立了这个网站，我相信你可以制作一个脚本来为你做这件事？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:23:50.207

请注意，表单有一个隐藏的输入：

```
<input type="hidden" name="login" value="loginform"> 
```

您还需要发送此值：

```
$post_data['login'] = 'loginform'; 
```

# ios - 在 iOS 中使用 Core Graphics Context 绘制圆 - Objective-C 或 Swift

> ID：15076560
> 
> 赞同：3
> 
> 时间：2013-02-25T21:11:19.300
> 
> 标签：ios, objective-c, swift, cgcontext

我以这种方式画一个圆圈：

```
CGContextRef contextRef = UIGraphicsGetCurrentContext();
CGContextSetLineWidth(contextRef, 2.0);
//CGContextSetRGBFillColor(contextRef, 0, 0, 1.0, 1.0);
//CGContextSetRGBStrokeColor(contextRef, 0, 0, 1.0, 1.0);
 CGContextSetStrokeColorWithColor(contextRef, [color CGColor]);
CGRect circlePoint = (CGRectMake(coordsFinal.x, coordsFinal.y, 50.0, 50.0));

CGContextFillEllipseInRect(contextRef, circlePoint); 
```

我想知道如何让圆圈的内部变空，以便我可以看到它背后的东西。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T21:13:40.317

你的意思是你只想要大纲？在这种情况下使用`CGContextStrokeEllipseInRect`。

```
CGContextRef contextRef = UIGraphicsGetCurrentContext();
CGContextSetLineWidth(contextRef, 2.0);
CGContextSetStrokeColorWithColor(contextRef, [color CGColor]);
CGRect circlePoint = (CGRectMake(coordsFinal.x, coordsFinal.y, 50.0, 50.0));

CGContextStrokeEllipseInRect(contextRef, circlePoint); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-02-27T02:29:01.863

**斯威夫特 3**

```
let currentContext = UIGraphicsGetCurrentContext()
currentContext?.setLineWidth(2.0)
currentContext?.setFillColor(color.CGColor)
let circleRect = CGRect(x: coordsFinal.x, y: coordsFinal.y, width: 50.0, height: 50.0)

currentContext?.strokeEllipse(in: circleRect) 
```

# xml - 在同一标签 magento 上添加两个不同的块

> ID：15076563
> 
> 赞同：2
> 
> 时间：2013-02-25T21:11:28.360
> 
> 标签：xml, magento, layout, tabs, block

我需要在同一选项卡上为 magento 上的产品描述添加两个不同的块，实现此目的的最佳方法是什么？

在我的 catalog.xml 我有这个：

```
 <block type="catalog/product_view_tabs" name="product.info.tabs" as="info_tabs" template="catalog/product/view/tabs.phtml" >
                <action method="addTab" translate="title" module="catalog"><alias>description</alias><title>Product Description</title><block>catalog/product_view_description</block><template>catalog/product/view/description.phtml</template></action>
                <action method="addTab" translate="title" module="catalog"><alias>upsell_products</alias><title>We Also Recommend</title><block>catalog/product_list_upsell</block><template>catalog/product/list/upsell.phtml</template></action>
                <action method="addTab" translate="title" module="catalog"><alias>additional</alias><title>Additional Information</title><block>catalog/product_view_attributes</block><template>catalog/product/view/attributes.phtml</template></action>
            </block> 
```

我需要同一选项卡上描述下方的追加销售块。谢谢！

编辑：添加 upsell.phtml 的内容

```
<?php if(count($this->getItemCollection()->getItems())): ?>
<div class="box-collateral box-up-sell">
    <h2><?php echo $this->__('You may also be interested in the following product(s)') ?></h2>
    <table class="mini-products-grid" id="upsell-product-table">
    <?php // $this->setColumnCount(5); // uncomment this line if you want to have another number of columns. also can be changed in layout ?>
    <?php $this->resetItemsIterator() ?>
    <?php for($_i=0;$_i<$this->getRowCount();$_i++): ?>
        <tr>
        <?php for($_j=0;$_j<$this->getColumnCount();$_j++): ?>
            <?php if($_link=$this->getIterableItem()): ?>
            <td>
                <a href="<?php echo $_link->getProductUrl() ?>" title="<?php echo $this->htmlEscape($_link->getName()) ?>" class="product-image"><img src="<?php echo $this->helper('catalog/image')->init($_link, 'small_image')->resize(125) ?>" width="125" height="125" alt="<?php echo $this->htmlEscape($_link->getName()) ?>" /></a>
                <h3 class="product-name"><a href="<?php echo $_link->getProductUrl() ?>" title="<?php echo $this->htmlEscape($_link->getName()) ?>"><?php echo $this->htmlEscape($_link->getName()) ?></a></h3>
                <?php echo $this->getPriceHtml($_link, true, '-upsell') ?>
                <?php echo $this->getReviewsSummaryHtml($_link) ?>
            </td>
            <?php else: ?>
            <td class="empty">&nbsp;</td>
            <?php endif; ?>
        <?php endfor; ?>
        </tr>
    <?php endfor; ?>
    </table>
    <script type="text/javascript">decorateTable('upsell-product-table')</script>
</div>
<?php endif ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:14:02.080

您可以使用下面的特定选项卡操作代码调用块或文件。

```
$this->getLayout()->createBlock('page/html')->setTemplate('page/html/first.phtml')->toHtml();

<?php echo $this->getLayout()->createBlock('page/html')->setTemplate('page/html/second.phtml')->toHtml(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T00:23:41.517

采用`<block type="whatever" before="name_of_the_block_it_should_prepend">`

当然要调整参数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-21T14:30:40.917

在您的布局文件（例如：）中`catalog.xml`，使用`parent`块关键字，如下所示：

```
<action method="addTab" translate="title" module="catalog">
    <alias> pet_lovers_list </alias>
    <title>Pet Lovers</title>
    <block>meetai/petlovers_list</block>
    <template>meetai/petlovers/view/list.phtml</template>
</action>
<block type="meetai_comment/form" parent="pet_lovers_list" name="meetai_comment_form" as="comment_form">
    <block type="page/html_wrapper" name="pet_lover.comment.form.fields.before" as="pl_form_fields_before" translate="label">
        <label>Comments Form Fields Before</label>
        <action method="setMayBeInvisible"><value>1</value></action>
    </block>
</block> 
```

# c# - 如何知道会话是否已设置

> ID：15076567
> 
> 赞同：14
> 
> 时间：2013-02-25T21:11:54.553
> 
> 标签：c#, asp.net

在php中我曾经使用

```
session_start();
if(isset(SESSION["user"]))
{
   //session is set
}
els{
    // there is no session 
} 
```

但是我在 asp.net 中这样做吗？我是说。什么代码可以告诉我们是否设置了会话

例如：asp.net c#

```
//login.aspx
SESSION["USER"];

//user_profile.aspx
if(SESSION["USER"])// how do i validate that??
{

} 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-25T21:15:18.957

```
SESSION["USER"]; //this should throw an error since it's not setting a value and not a method. 
```

您可以像这样测试您的会话值：

```
if (Session["USER"] != null)
{
    //do something interesting
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:13:53.797

如果您想检查会话变量的存在，这很好：

```
if(Session["USER"] != null)
{
    //If you get here a session variable "USER" exists...
} 
```

尽管[可以](http://support.microsoft.com/kb/306996)在 asp.net 应用程序中禁用会话状态，但这种情况很少见。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T21:14:52.063

从 php 方面来看，cince **[*isset*](http://php.net/manual/en/function.isset.php)**函数

> 确定变量是否已设置且不为 NULL。

只需检查此会话是否`null`喜欢：

```
if(Session["USER"] != null)
{
  // Do something
} 
```

# java - 将字符数组转换为字符数组列表

> ID：15076569
> 
> 赞同：10
> 
> 时间：2013-02-25T21:12:06.597
> 
> 标签：java, arrays, list

我被困在这个问题上（向 GUI 发送密钥），我将字符串转换为字符数组，然后我希望字符数组作为数组列表。本质上：

```
String s = "ABC";
char[] cArray = s.toCharArray();
ArrayList<Character> cList = ?? 
```

我想`cList`成为形式的字符数组列表`['A', 'B', 'C']`。我不知道如何打开它，然后用它制作一个 ArrayList。`Arrays.asList() returns a List<char[]>`这不是我想要或需要的。

我知道我可以循环并添加到列表中，我正在寻找更简单的东西（肯定存在）。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-25T21:14:32.187

您必须遍历数组：

```
List<Character> cList = new ArrayList<Character>();
for(char c : cArray) {
    cList.add(c);
} 
```

注意：`Arrays.asList()`仅适用于引用类型而不是原语。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-08-09T05:18:13.080

```
Character[] chArray = {'n','a','n','d','a','n','k','a','n','a','n'};

List<Character> arrList = Arrays.asList(chArray); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-25T21:31:49.623

据我所知，这在核心 JDK 中不存在，但该功能由几个通用库提供。

例如，Apache Commons Lang 在 ArrayUtils 中有一个具有以下签名的方法：

```
Character [] toObject(char [] input) 
```

同样，Google Guava 库在 Chars 类中有一个更直接的方法：

```
public static List<Character> asList(char... backingArray) 
```

# bash - Bash 脚本：greping 参数

> ID：15076570
> 
> 赞同：0
> 
> 时间：2013-02-25T21:12:09.137
> 
> 标签：bash

这是我的问题。我有脚本，我想确保调用脚本时输入的参数与脚本中的变量名匹配。

例如：

./valid foo <- 是脚本调用

```
#!/bin/bash

PARAM=$1
VAR=/foo/

if grep -c $PARAM == $VAR
then
echo yes
fi

echo no 
```

我在使用 grep 时遇到了最糟糕的情况，我不确定如何在脚本中正确使用它，并且在搜索了互联网之后，我认为我需要一些关于我的问题的具体反馈。

谢谢，

EA

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:14:10.333

这并不可靠，但您可以执行以下操作：

```
if echo "$VAR" | grep -q "$PARAM"; then 
```

最好简单地做：

```
if test "$VAR" = "$PARAM"; then 
```

如果您尝试匹配正则表达式，bash 允许：

```
if [[ "$VAR" =~ "$PARAM" ]]; then 
```

将固定字符串`$VAR`与正则表达式匹配`$PARAM`。如果`$VAR`是正则表达式，则应颠倒参数的顺序。（即，`[[ "$PARAM" =~ "$VAR ]]`。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:42:22.490

您可以在脚本中搜索，因为声明是名称后跟等号：

```
如果 egrep "^\s*$PARAM=" $0
然后
    回声是的
别的
    回声不
菲

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:54:14.847

列出变量使用

```
set -o posix ; set 
```

posix thingie 防止列出功能。

为了隔离脚本本地的参数，从 shell 运行它并存储结果，然后从你的脚本运行它并比较输出

```
(set -o posix ; set) >/tmp/variables.before
(set -o posix ; set) >/tmp/variables.after 
```

# android - 不会添加第 8 个库

> ID：15076572
> 
> 赞同：2
> 
> 时间：2013-02-25T21:12:15.707
> 
> 标签：android, eclipse, static-libraries

Eclipse 似乎在向我的项目中添加** 8 个库时遇到了很大的困难。每个项目最多有 7 个我没听说过的库吗？

我遇到问题说编译器“找不到类*** ”

一个例子是这样的：

我有一个项目在较新的设备和 API 级别上运行得非常好，但是，我在模拟器上遇到了一些问题。当我在模拟器上加载应用程序时，我遇到了这个问题：

```
02-22 18:36:11.584: W/dalvikvm(652): VFY: unable to resolve exception class 872 (Lcom/google/zxing/WriterException;)
02-22 18:36:11.584: W/dalvikvm(652): VFY: unable to find exception handler at addr 0x7da
02-22 18:36:11.584: W/dalvikvm(652): VFY:  rejected Lcom/example/myapp/Card;.getFrontView (Landroid/content/Context;)Landroid/widget/LinearLayout;
02-22 18:36:11.584: W/dalvikvm(652): VFY:  rejecting opcode 0x0d at 0x07da
02-22 18:36:11.584: W/dalvikvm(652): VFY:  rejected Lcom/example/myapp/Card;.getFrontView (Landroid/content/Context;)Landroid/widget/LinearLayout;
02-22 18:36:11.584: W/dalvikvm(652): Verifier rejected class Lcom/example/myapp/Card; 
```

起初我认为这可能是我的图书馆或我添加**的方式，但我最近清除了***我所有的图书馆并阅读了它们，我在不同的图书馆遇到了同样的问题。

```
02-25 21:03:45.379: E/dalvikvm(12018): Could not find class 'org.apache.commons.validator.routines.UrlValidator', referenced from method com.example.myapp.Card
02-25 21:03:45.379: W/dalvikvm(12018): VFY: unable to resolve new-instance 1054 (Lorg/apache/commons/validator/routines/UrlValidator;) in Lcom/example/myapp/Card; 
```

这些错误意味着该项目无法正确访问我的库的类，对吗？但是为什么错误与哪个库不一致？我已经尝试删除 *** 并以与添加其他库完全相同的方式读取库，但是库 #8 没有运气。

我该怎么办？

** 添加：我尝试将库添加到用户库（包括我拥有的所有现有文档），并且只需将 .jar 复制到 libs 文件夹。

***删除：要删除库，如果它位于用户库中，我将编辑包含要删除的 .jar 的用户库并使用“删除”选项。否则，我只需右键单击并从 libs 目录中“删除”该库。

至于[“用户库”](http://i.imgur.com/XpSQMWt.png)

# python - 在pyqt中选择单选按钮时更改lineEdit的文本

> ID：15076576
> 
> 赞同：2
> 
> 时间：2013-02-25T21:12:28.923
> 
> 标签：python, user-interface, button, pyqt4, radio

我有两个`radioButtons`使用 qt 设计器制作的表格，我现在正在用 pyqt 编程。我希望在选择 1 时将文本更改`lineEdit`为“radio 1”，在`radioButton`选择 2 时将文本更改为“radio 2” `radioButton`。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-27T17:42:15.843

这是一个简单的例子。每个`QRadioButton`都连接到它自己的功能。您可以将它们都连接到同一个函数并管理通过它发生的事情，但我认为最好演示信号和插槽是如何工作的。

有关更多信息，请查看 PyQt4[文档以了解新样式信号和插槽](http://pyqt.sourceforge.net/Docs/PyQt4/new_style_signals_slots.html)。如果将多个信号连接到同一个插槽，有时使用 a 的[`.sender()`](http://pyqt.sourceforge.net/Docs/PyQt4/qobject.html#sender)方法很有用`QObject`，尽管在这种情况下，`QRadioButton`只检查所需按钮的[.isChecked()方法可能更容易。](http://pyqt.sourceforge.net/Docs/PyQt4/qabstractbutton.html#isChecked)

```
import sys
from PyQt4.QtGui import QApplication, QWidget, QVBoxLayout, \
    QLineEdit, QRadioButton

class Widget(QWidget):
    def __init__(self, parent=None):
        QWidget.__init__(self, parent)

        self.widget_layout = QVBoxLayout()

        self.radio1 = QRadioButton('Radio 1')
        self.radio2 = QRadioButton('Radio 2')
        self.line_edit = QLineEdit()

        self.radio1.toggled.connect(self.radio1_clicked)
        self.radio2.toggled.connect(self.radio2_clicked)

        self.widget_layout.addWidget(self.radio1)
        self.widget_layout.addWidget(self.radio2)
        self.widget_layout.addWidget(self.line_edit)
        self.setLayout(self.widget_layout)

    def radio1_clicked(self, enabled):
        if enabled:
            self.line_edit.setText('Radio 1')

    def radio2_clicked(self, enabled):
        if enabled:
            self.line_edit.setText('Radio 2')

if __name__ == '__main__':
  app = QApplication(sys.argv)
  widget = Widget()
  widget.show()

  sys.exit(app.exec_()) 
```

# oracle10g - 如何在 Oracle 视图中添加修改历史

> ID：15076580
> 
> 赞同：0
> 
> 时间：2013-02-25T21:12:35.060
> 
> 标签：oracle10g, toad

我想在 oracle 视图中添加修改历史记录（在顶部）

下面是一个例子：

```
/*Version   Modified-Date    Description*/
/*======================================*/
/*1.0       01/22/2013     Test view to generate current date and time*/
/*1.1       01/26/2013     Changed the date format*/
CREATE OR REPLACE FORCE VIEW MyView
AS
select * from mytable 
```

当我尝试在 Toad 编辑器中运行上述代码时，它会删除注释并仅创建视图。如果我将评论放在底部，然后显示修改历史，但它显示在顶部。

我正在使用 oracle 10g 和 Toad 数据点

TIA

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:19:20.753

如果您打算将其存储在视图 ddl 中，请执行以下操作：

```
CREATE OR REPLACE FORCE VIEW MyView
AS
select 
/*Version   Modified-Date    Description*/
/*======================================*/
/*1.0       01/22/2013     Test view to generate current date and time*/
/*1.1       01/26/2013     Changed the date format*/
* from mytable 
```

# javascript - 重构用户脚本以使用 javascript 模块

> ID：15076581
> 
> 赞同：6
> 
> 时间：2013-02-25T21:12:47.370
> 
> 标签：javascript, node.js, module, requirejs, userscripts

我正在研究一个用户脚本——特别是[这个用户脚本](https://github.com/josh-/Hubski-Enhancement-Suite/blob/master/hubski_enhancement_suite.user.js)——它被设计为将功能封装在模块中。为了能够进行一些自动化测试，我想将模块拆分为它们自己的文件，并使用 node.js 的模块导出和要求函数组合成一个文件，以便在 Greasemonkey 或简单的浏览器扩展中使用。

我的第一个想法是将模块复制到他们自己的文件中

**模块.js**

```
var exportedModule = (function (){  
    var Module = {  
        // public functions and members  
    };  

    //private functions and members  

    return Module;  
}());  

module.exports = exports = exportedModule; 
```

然后有一个需要这些模块中的每一个的中央文件，也许用[Browserify](http://browserify.org/)之类的东西编译它们。

**脚本.js**

```
var importedModule = require(./module);

importedModule.init(); 
```

这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:31:23.360

在我看来，您最好使用[Requirejs](http://www.requirejs.org/)，它使用 AMD 风格的模块并且本质上对浏览器更友好。Node commonjs 风格的模块是同步的，不太适合浏览器模型。

当然，使用 requirejs 会稍微改变你的脚本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-05-21T21:45:43.220

这是可能的，[Browserify 让它](http://browserify.org/)变得简单：

```
browserify src/my.user.js -o dist/my.user.js 
```

源文件中的元数据可能会被移动，但它仍然被正确解析（至少由 Greasemonkey 解析）。

有关编译各种资产（包括 CSS 和图像）的更复杂示例，请参见[此处](https://github.com/cletusc/Userscript--Twitch-Chat-Emotes)。

# php - 分隔空格+逗号

> ID：15076582
> 
> 赞同：0
> 
> 时间：2013-02-25T21:13:05.020
> 
> 标签：php

我知道，如果我例如使用此代码：

```
<?php
    $tags = "hello, bye, test";
    $tags = explode(",", $tags);
?> 
```

它将用逗号分隔。但是我仍然会留有空格，我想将这些值保存在没有这些空格的数据库中。我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:16:16.577

使用explode with`", "`作为分隔符怎么样？

```
$tags = "hello, bye, test";
$atags = explode(", ", $tags); 
```

得到这个：

```
print_r($atags);
Array ( [0] => hello [1] => bye [2] => test ) 
```

我知道这不是最漂亮的解决方案，但它也有效。

 **从评论中**编辑***“是的，但它应该像 stackoverflow 上的标签系统一样在两种方式上工作。例如，它应该拆分“hello，bye”以及“hello，bye”和“hello bye”——Xegano 1 分钟前”* ,**

 **在这种情况下，您应该只使用explode with `","`，然后修剪单词周围的空格。像这样的东西：

```
$tags = "hello, bye, test";
$atags = explode(",", $tags);
$atags = array_map('trim', $atags); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:18:02.230

如果空格总是存在，一个快速的解决方案是使用：

```
$tags = "hello, bye, test";
$tags = explode(", ", $tags); 
```

否则（正如迈克尔建议的那样），您可以修剪这些值：

```
$tags = "hello, bye, test";
$tags = explode(",", $tags);
$tags = array_map('trim', $tags); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:15:08.130

编辑：正如迈克尔指出的那样，我们不想替换所有空格，只替换逗号后面的空格。我们可以使用数组映射通过修剪来运行爆炸数组中的每个项目。

```
<?php
    $tags = "hello, bye, test";
    $tags = array_map( 
        function($s){ 
            return trim($s); 
        }, 
        explode(",", $tags)
    );
?> 
```**

# r - R 文档，如何强制 Rcmd Rd2pdf 在示例 R 类部分中自动打破一个过满的行？

> ID：15076583
> 
> 赞同：7
> 
> 时间：2013-02-25T21:13:12.057
> 
> 标签：r, latex, line-breaks

我的包裹顺利通过`Rcmd check`。但是在构建的 R 文档的 PDF 格式中，在示例部分中，有一半的行（R 代码）不在论文中。我还发现了另一个 CRAN 提交的包，`ftsa`它也在一行中出现过满，请参阅`ftsa` [参考手册](http://cran.r-project.org/web/packages/ftsa/ftsa.pdf)。

我猜这个问题源于`verbatim`Latex 中环境的行为。但是有一些乳胶包可以解决这个问题，[https:](https://tex.stackexchange.com/questions/14342/verbatim-environment-that-can-break-too-long-lines) //tex.stackexchange.com/questions/14342/verbatim-environment-that-c​​an-break-too-long-lines ，但我不知道如何使用它们与`Rcmd`.

1.  在处理这些情况时，为什么`Rcmd check`不像 Latex 那样显示任何错误、警告或注释？
2.  如何在示例部分强制换行？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T21:03:57.553

1.  R CMD 检查不分析/转发所有 LaTeX 警告。是的，在理想世界中它会。

2.  一直以来，您应该自己格式化 \examples{ ... } 部分，特别是**包括**合理的换行符（和前导空格），以便更好地对齐多行示例。

    使用 R 本身的源代码或推荐的软件包（或由我编写的软件包，因为我确实很注意这一点），在他们的 *.Rd 文件中查看好的示例。

请记住：R 的当前开发源代码始终可以在 [R (devel) 源代码树@svn.r-project.org](https://svn.r-project.org/R/trunk)上通过网络访问，即 R 的标准包位于[R 源代码 src/library](http://svn.r-project.org/R/trunk/src/library/)。

# php - PHP注册和登录表格&电子邮件验证/邮件服务器设置

> ID：15076584
> 
> 赞同：3
> 
> 时间：2013-02-25T21:13:13.553
> 
> 标签：php, sql, wamp, mail-server

我正在一个小型网站上工作，该网站要求用户注册一个帐户，然后向他们发送一封电子邮件，其中包含验证帐户的详细信息。单击验证电子邮件中的链接后，该帐户应该处于活动状态并且用户应该能够登录。我从registration.php（注册）、login.php（登录）和verify.php（验证帐户激活）中提供了3个PHP片段！！我正在使用 WAMP 服务器创建数据库并根据表

注意：这是我在注册页面上收到的唯一错误。

警告：mail()：无法在“localhost”端口 25 连接到邮件服务器，请验证 php.ini 中的“SMTP”和“smtp_port”设置或在 C:\wamp\www\ONLINE BANKING\registration 中使用 ini_set()。第 541 行的 php

目前我有几个问题： 1\. 我正在使用 hmailserver，但我不确定如何设置它 2\. 我需要监控用户何时添加到数据库中（我假设这只是在单击电子邮件验证链接）

请告诉我我做错了什么以及如何解决

```
**REGISTRATION.PHP**

     <div id="wrap">
                <!-- start PHP code -->
                <?php

                    mysql_connect("localhost", "root", "") or die(mysql_error()); // Connect to database server(localhost) with root .
                    mysql_select_db("registrations") or die(mysql_error()); // Select registration database.

                    $email="";

                    if( isset($_POST['fullname']) // Is the name field being posted; it does not matter whether it's empty or filled.  
            && // This is the same as the AND in our statement; it allows you to check multiple statements.  
            !empty($_POST['fullname']) // Verify if the field name is not empty 
            AND isset($_POST['email']) // Is the email field being posted; it does not matter if it's empty or filled.  
            && // This is the same as the AND in our statement; it allows you to check multiple statements.  
            !empty($_POST['email']) ) // Verify if the field email is not empty   
              {

                        $fullname = mysql_real_escape_string($_POST['fullname']);
                        $email = mysql_real_escape_string($_POST['email']);

                        }
                        if(!preg_match("/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/", $email)){
                            // Return Error - Invalid Email
                            $msg = 'The email you have entered is invalid, please try again.';
                        }else{
                            // Return Success - Valid Email
                            $msg = 'Your account has been created, <br /> please verify it by clicking the activation link that has been send to your email.';
                            }

                            $hash = md5( rand(0,1000) ); // Generate random 32 character hash and assign it to a local variable.

                            $PIN = rand(1000,5000); // Generate random number between 1000 and 5000 and assign it to a local variable.

        $to      = $email; // Send email to our user  
        $subject = 'Signup | Verification'; // Give the email a subject  
        $from="info@bfs.com";
        $message = 'Thanks for signing up! 
        Your account has been created, you can login with the following credentials after you have activated your account by clicking the url below. 
        ------------------------ 
        echo $_POST["UserID"];
        PIN: '.$PIN.' 
        ------------------------ 
        Please click this link to activate your account: 
        http://www.yourwebsite.com/verify.php?email='.$email.'&hash='.$hash.' 
        '; // Our message above including the link  
        $headers = 'From:noreply@yourwebsite.com' . "\r\n"; // Set from headers  
        mail($to, $subject, $message, $headers); // Send our email  //Line 541

                ?>
                <!-- stop PHP Code -->   

            </div>

**LOGIN.PHP**
<div id="wrap">
        <!-- start PHP code -->
        <?php

            mysql_connect("localhost", "root", "") or die(mysql_error()); // Connect to database server(localhost) with UserID and PIN.
            mysql_select_db("registrations") or die(mysql_error()); // Select registration database.

            if(isset($_POST['name']) && !empty($_POST['name']) AND isset($_POST['PIN']) && !empty($_POST['PIN'])){
                $UserID = mysql_escape_string($_POST['name']);
                $PIN = mysql_escape_string(md5($_POST['PIN']));

                $search = mysql_query("SELECT UserID, PIN, active FROM users WHERE UserID='".$UserID."' AND PIN='".$PIN."' AND active='1'") or die(mysql_error()); 
                $match  = mysql_num_rows($search);

                if($match > 0){
                    $msg = 'Login Complete! Thanks';
                }else{
                    $msg = 'Login Failed!<br /> Please make sure that you enter the correct details and that you have activated your account.';
                }
            }

        ?>
        <!-- stop PHP Code -->
        <?php 
            if(isset($msg)){ // Check if $msg is not empty
                echo '<div class="statusmsg">'.$msg.'</div>'; // Display our message and add a div around it with the class statusmsg
            } ?>

    </div>

**VERIFY.PHP** 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-05-15T17:21:22.730

您必须为 sendig 邮件设置服务器

```
set mail function in php.ini file to sendmail_path ="\"C:\xampp\sendmail\sendmail.exe\" -t" if you use something like xampp
and then
set senmail.ini
smtp_server=smtp.gmail.com //example

smtp_port=587
auth_username=YourMail@gmail.com
auth_password=YourMailPass 
```

在您的情况下，您有 wamp 服务器，您应该配置此服务器以发送邮件，如我所述的 xampp 示例

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:22:05.230

我建议如果您已经有一个网络托管帐户，您可以使用您的 Gmail 或 Yahoo a/c 在线尝试。在桌面上设置电子邮件既繁琐又耗时。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-17T13:37:54.597

创建您的网页包含（登录页面、注册页面和主页），要求：

1- 对用户名、电子邮件、密码、重新输入密码、性别和出生日期数据的注册表进行验证。

2-使用用户名和密码验证登录表单数据并创建登录会话。

3-建立数据库连接以存储用户信息并验证登录数据。

4- 仅在登录成功时才授予主页和访问权限。

5- 从主页注销并销毁用户会话。

moyasar_22@hotmail.com

# python - 为什么 tkinter 没有认识到这个窗口正在调整大小？

> ID：15076585
> 
> 赞同：2
> 
> 时间：2013-02-25T21:13:26.237
> 
> 标签：python, python-2.7, window, tkinter

当我尝试检测使用 tkinter 调整窗口大小时，它大部分时间都有效。但是，有一个例外；也就是说，当第一次垂直调整它的大小并使窗口变大时，什么都没有拾取。当窗口出现时，我看到了初始大小，但如果我尝试立即使窗口垂直变大，之后就什么也看不到了。但是，如果我在以另一种方式调整大小（即缩小或水平调整大小）之后尝试使其垂直“更高”，那么它可以正常工作。

这是我正在使用的代码的要点：

```
from Tkinter import *
main = Tk()
def resize(event):
    print("The new dimensions are:",event.width,"x",event.height)
    window.focus_set()
canvas = Canvas(main, width=850, height=400)
window = Frame(main, width=800, height=10)
window.focus_set()
canvas.bind("<Configure>", resize)
canvas.pack()
canvas.update()
window.pack()
main.mainloop() 
```

难道我做错了什么？如果重要的话，我在 64 位 Ubuntu 12.10 上使用 Python 2.7.3

**编辑：**当窗口大小高于 时，似乎尺寸不正确（水平放大）或根本不显示（垂直放大）`852x402`。这是我的窗口管理器（即 Unity）的问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:00:51.017

这是因为画布*没有*被调整大小。您正在画布上设置绑定，但尚未将画布配置为与包含窗口一起增长和缩小。

尝试将画布和框架小部件的背景设置为与众不同的东西，您就会明白我的意思。

要解决此问题，请尝试在打包小部件时设置`expand`和`fill`属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T22:00:59.690

改变`canvas = Canvas(main, width=850, height=400)`，`canvas = Canvas(main, width=850, height=400, bg="red")`看看会发生什么。

由于画布位于根窗口内，因此当您使窗口垂直变大时，您不会更改画布大小或位置。它保持 400 的最大高度，并且不调用处理程序。但是，在水平放大的情况下，它的位置正好在中间，因为调用了`pack()`: 这就是它移动的原因，并且调用了绑定函数。

当您在水平和垂直方向上缩小窗口时的其余结果与预期的一样。

# c++ - C++ Windows 窗体应用程序 - XML 编辑现有 xml 子节点

> ID：15076593
> 
> 赞同：0
> 
> 时间：2013-02-25T21:13:44.527
> 
> 标签：c++, .net, xml, c++-cli

我在编辑现有子节点时遇到了一些问题，我不知道它是否可能，但我希望它是。我几乎尝试了一切。这是我用来检索第一个子节点文本的代码的一部分

```
int x;

void ReadX()
{
String ^ strFilename = L"test.xml";
XmlDocument ^ testxml = gcnew XmlDocument;

if (File::Exists(strFilename))
{
testxml->Load(strFilename);
XmlElement ^ elm = testxml->DocumentElement;
XmlNodeList ^ lstVideos = elm->ChildNodes;
//MessageBox::Show(elm->Name);
//MessageBox::Show(elm->InnerText);
x = Convert::ToInt32(lstVideos[0]->InnerText);
} 
```

并点击按钮

```
textBox1->Text=System::Convert::ToString(x); 
```

我想做的是在 button2 上单击以将值从 textBox1 输入到 lstVideos[0]->InnerText 请不要链接我 msdn，因为我已经使用过他们的示例，但我没有设法解决它。我仍然需要学习很多关于 xml 的知识，它会编辑 X1 的文本，我上面的代码读取 X1 的文本。按名称阅读子节点可能会更容易，但我还不知道该怎么做。

这是我的 xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<Coords>
 <X1>10010</X1>
 <X2>200</X2>
 <X3>300</X3>
 <X4>400</X4>
 <X5>500</X5>
</Coords> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:18:33.430

既然 InnerText 是一个 String^，而 textBox1->Text 是一个 String^，为什么不呢：

```
lstVideos[0]->InnerText = textBox1->Text 
```

此外，由于两者都是字符串，因此实际上没有理由将 InnerText 转换为 int，然后首先返回。

# ocaml - 安装 OCaml

> ID：15076597
> 
> 赞同：3
> 
> 时间：2013-02-25T21:13:58.130
> 
> 标签：ocaml

我想开始用 OCaml 编程。由于我是 Windows 用户，因此我知道最好使用 Netbeans 的 OCaml 插件来执行此操作。

我已经从以下链接下载了上述插件：http: [//ocamlplugin.loki-a.com/ocamlplugin/updates/](http://ocamlplugin.loki-a.com/ocamlplugin/updates/)。我已按照说明将插件安装到 Netbeans 中。我设法打开了一个项目，但即使是示例“Hello World”也无法运行。

然后我尝试从这里安装 OCaml IDE：http: [//ocamlplugin.loki-a.com/index.php](http://ocamlplugin.loki-a.com/index.php?title=Main_Page#Download_2) ?title=Main_Page#Download_2 ，但它仍然无法运行任何东西。

我对使用 Eclipse 不感兴趣，因为这将包括下载 Cygwin。

我将不胜感激一个简单的解决方案。谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T16:34:11.047

如果您仍然坚持使用 Windows，我会建议在 Eclipse 下使用 OCaIDE。但是我不明白你不愿意使用 cygwin，尤其是当有这样好的[分步教程](http://www.algo-prog.info/ocaide/tutorials.php)来为 OcaIDE 和 Eclipse 配置 cygwin 时。

另一个我没有尝试过但强烈建议您尝试的选项是 Sublime Text 2。它支持 OCaml，是一个非常流行的跨平台文本编辑器。但由于我没有尝试过，我无法向您提供有关它的详细信息。虽然它是有成本的，但您可以免费评估它，没有时间限制。

到目前为止，TypeRex 一直是我对 OCaml 的最爱，您现在可以在 Windows 中使用 Emacs，因此通过 cygwin 中的一些解决方法，您可以在 Windows 中使用 TypeRex。
另一种选择是使用 VirtualBox，安装一个普通的 linux 发行版并在其中使用 Typerex+Emacs。它也不复杂，因为最多需要1个小时来配置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-02T11:19:38.993

自 2009 年（4 年前）以来，您提供的 ocaml 链接没有被触及。这可能意味着他们使用当前的 NetBeans 运行的几率相当于基督教永恒神学惩罚的凝固水领域。

由于您询问在 Cygwin 下运行，听起来您也想要一个 Linux 版本的 Eclipse。Eclipse 至少在 Win7 下运行良好，并且在 Mint 下（我在两者下都使用它们）但是，我所有试图让任何 OCaml IDE 在任一系统下运行的尝试都失败了（阻力是徒劳的，无论如何都取决于电容）。

因此，在 Mint 15 下，emacs 和 vim（旧标准）可以很好地用作文本编辑器。我希望我能提出其他建议。

祝你好运！！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-03T21:19:58.340

到目前为止，为想要使用 OCaml 的 Windows 10 用户提供了另一种选择：[Linux 的 Windows 子系统](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide)。

基本上，它的作用是允许您在 PC 上运行 Bash 和任何非 GUI Linux 程序。安装后，您可以安装 OCaml 和 OPAM，`apt-get`一切顺利。

就我而言，我在台式电脑上使用 Windows 10，而且我还没有对 WSL 有任何不便。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-25T10:19:40.590

我个人使用 Merlin/... 这是 emacs 的插件。但我可以理解你不想使用 emacs。有人告诉我，Visual Studio Code 的支持应该很好，尤其是与内置控制台一起使用时。对于较小的东西，还有[Ocamltop](https://www.typerex.org/ocaml-top.html)，但我现在知道 Windows 支持如何了。最后，我建议按照 RichouHunter 的建议在 Windows 上使用 Linux Shell。

# c# - 如何从字段中删除添加的点？

> ID：15076599
> 
> 赞同：-1
> 
> 时间：2013-02-25T21:14:00.473
> 
> 标签：c#

我可以在字段中添加点，但我不能删除它们。这是我目前使用的代码：

```
public class Vertex
{
    public Point p { get; private set; }
    public int ident {get; private set; }
    public int dist { get; set; }

    public Vertex(Point p, int ident)
    {
        this.p = p;
        this.ident = ident;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:16:25.743

您也许可以使用：

```
this.p = Point.Empty;
this.indent = 0; 
```

因此，像这样调用您的方法 Vertex ：

```
Vertex(Point.Empty, 0); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-25T21:18:26.893

您可以设置重置方法`p`

```
public class Vertex
{
        public Point p { get; private set; }
        public int ident {get; private set; }
        public int dist { get; set; }

        public Vertex(Point p, int ident)
        {
            this.p = p;
            this.ident = ident;
        }

        public void Reset() { p = new Point(); }
} 
```

# python - 构造函数不识别属性成员

> ID：15076600
> 
> 赞同：0
> 
> 时间：2013-02-25T21:14:03.230
> 
> 标签：python

我的`Dbconn`班级有以下构造函数：

```
def __init__(self):
    self.host     = "localhost"
    self.database = "my_database"
    self.username = "username"
    self.password = "password"

    try:
        self.db = MySQLdb.connect(
            self.host,
            self.username,
            self.password,
            self.database
        )
        self.cursor = self.db.cursor()
    except:
        print "There was an error while connecting to the database"
        self.db.rollback() 
```

但是，当我执行程序时，我得到：

```
 File "database.py", line 39, in __init__
    self.db.rollback()
AttributeError: Dbconn instance has no attribute 'db' 
```

任何线索为什么我得到那个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:16:16.847

`MySQLdb.connect()`失败时，*根本*`self.db`不设置。在那个时候回滚是没有意义的。

 *首先将其设置为`None`，然后在`except`处理程序中对其进行测试：

```
db = None

def __init__(self):
    self.host     = "localhost"
    self.database = "my_database"
    self.username = "username"
    self.password = "password"

    try:
        self.db = MySQLdb.connect(
            self.host,
            self.username,
            self.password,
            self.database
        )
        self.cursor = self.db.cursor()
    except MySQLdb.Error:
        print "There was an error while connecting to the database"
        if self.db is not None:
            self.db.rollback() 
```

我还使异常处理程序更具体；毯子`except`处理程序很少是一个好主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:15:50.643

`self.db`如果`MySQLdb.connect`抛出异常，则不会分配任何内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:16:43.840

如果`MySQLdb.connect`失败，`db`则不会分配该属性。另外，如果连接到数据库失败，你想回滚什么？*

# java - 为什么我在使用 HttpClient 时会意外结束分块流？

> ID：15076601
> 
> 赞同：1
> 
> 时间：2013-02-25T21:14:04.450
> 
> 标签：java, apache-commons-httpclient

这个问题似乎只出现在我试图发布的“大”文件中。

我的代码如下所示：

```
PostMethod method = new PostMethod(url);

File input = new File(filePathname);
RequestEntity entity = new FileRequestEntity(input, "text/xml; charset=ISO-8859-1");

method.setRequestEntity(entity);
method.setRequestHeader("Content-Disposition", "attachment; filename=xyzzy")

HttpClient client = new HttpClient();
Credentials defaultcreds = new UsernamePasswordCredentials("userid", "pw");

client.getState().setCredentials(new AuthScope("hostname", port, AuthScope.ANY_REALM), defaultcreds);

 try {
    int statusCode = client.executeMethod(method);

    if (statusCode != HttpStatus.SC_OK) {
        throw new Exception("Method failed: " + method.getStatusLine());
    }

    // Read the response body.
    byte[] responseBody = method.getResponseBody();
    return new String(responseBody);
 }
 catch (HttpException e) {
    System.err.println("Fatal protocol violation: " + e.getMessage());
    throw e;

 }
 catch (IOException e) {
    System.err.println("Fatal transport error: " + e.getMessage());
    throw e;

 }
 finally {
     // Release the connection.
     method.releaseConnection();
 } 
```

异常文本如下所示：

```
致命传输错误：分块流意外结束
线程“主”java.io.IOException 中的异常：分块流意外结束
    在 org.apache.commons.httpclient.ChunkedInputStream.getChunkSizeFromInputStream(ChunkedInputStream.java:252)
    在 org.apache.commons.httpclient.ChunkedInputStream.nextChunk(ChunkedInputStream.java:221)
    在 org.apache.commons.httpclient.ChunkedInputStream.read(ChunkedInputStream.java:176)
    在 java.io.FilterInputStream.read(FilterInputStream.java:127)
    在 org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:108)
    在 java.io.FilterInputStream.read(FilterInputStream.java:101)
    在 org.apache.commons.httpclient.AutoCloseInputStream.read(AutoCloseInputStream.java:127)
    在 org.apache.commons.httpclient.HttpMethodBase.getResponseBody(HttpMethodBase.java:690)

```

无论我使用 getResponseBody() 还是 getResponseBodyAsStream()，都会遇到类似的异常。

我不应该得到太多数据，但我发布了超过 200mb 的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T16:59:00.767

我可以通过更改 PostMethod 的 requestHeader 中指定的文件名值的长度来解决这个问题。我一直在请求标头中包含完整文件路径名的编码版本。通过反复试验，我发现我“发布”的文件的成功或失败似乎取决于它所在的文件夹。一个长文件夹文件路径名不起作用，而一个短文件夹文件路径名不起作用，尽管使用相同的文件。所以我从请求头中删除了路径名，只开始包含文件名，我不再看到问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-02T09:14:29.363

可能是旧的，可​​以节省一些时间.....我得到了这个错误，其中服务器是 Python 和 Clinet 是 Java。

第一个 -

> 来自 Java 客户端的错误“通过 http java.io.IOException 发送数据时出错：块末尾应有 CRLF：79/82 java.io.IOException：块末尾应有 CRLF：79/82”

第二 -

> 来自 Java Clinet 的错误“通过 http java.io.IOException 发送数据时出错：分块流意外结束 java.io.IOException：分块流意外结束”

通过使用分块流大小更改 ok 响应来解决这两个错误

一个有问题的——

```
HTTP/1.1 200 OK\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nServer: Jetty(6.1.26)\r\n\r\nDE\r\n 
```

解决了 -

```
HTTP/1.1 200 OK\r\nContent-Length: 20000\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nServer: Jetty(6.1.26)\r\n\r\n229\r\n 
```

注意 = nDE 替换为 n229

# php - jquery replaceWith：根据屏幕分辨率用另一个php文件替换一个php文件

> ID：15076608
> 
> 赞同：0
> 
> 时间：2013-02-25T21:14:16.497
> 
> 标签：php, jquery, replace

我需要能够根据屏幕分辨率用另一个 php 文件替换一个 php 文件。这是我到目前为止所拥有的：

```
<script type="text/javascript">
function adjustStyle(width) {
width = parseInt(width);
if (width = 1920) {
$('book.php').replaceWith('book2.php');
}
}
$(function() {
adjustStyle($(this).width());
$(window).resize(function() {
adjustStyle($(this).width());
});
});
</script> 
```

这显然是行不通的——有什么想法吗？提前感谢您收到的任何帮助。

***更新***

这完全接近（替换 book.php 行）吗？

```
 { $("a[href*='book.php']").replaceWith('href', 'book2.php'); }; 
```

***第二次更新以反映此处收集的输入***

```
function adjustStyle(width) {
width = parseInt(width);
if (width == 1920) {
$('#bookinfo').replaceWith(['book2.php']);
$.ajax({
 url: "book2.php",
 }).success(function ( data ) {
  $('#bookinfo').replaceWith(data);
});
$(function() {
adjustStyle($(this).width());
$(window).resize(function() {
adjustStyle($(this).width());
});
});
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:14:52.323

我还没有看到在你放入的上下文中使用 replaceWith。解释你想要交换内容，你可能想这样做我使用 jQuery 的 load() 函数。

```
 if(width == 1920){
            $("#myDiv").load("book1.php");
    } else {
            $("#myDiv").load("book2.php");
    } 
```

单击按钮会将 div 的内容替换为 book2.php。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T22:15:07.350

首先...使用带有单个 =（等号）的条件将导致条件始终为真，同时将您检查的变量的值设置为您检查的值。

您的情况应如下所示...

> if (width == 1920) { // 做点什么 }

二、如何使用replaceWith()将整个标签替换为jquery对象，请参考jQuery文档... [http://api.jquery.com/replaceWith/](http://api.jquery.com/replaceWith/)

我会使用带有[http://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)的简写 POST，因为您还没有加载对象......

简而言之，我的代码将如下所示，使用 $.post 而不是 $.ajax book2.php...

HTML

```
<div id="book">*Contents of book.php*</div> 
```

jQuery

```
function onResize(width) {
    if (parseInt(width) >= 1920) {
        $.post('book2.php',function(html){
           $('#book').html(html).width(width);
        });        
    }
    else {
        $.post('book.php',function(html){
            $('#book').html(html).width(width);
        });
    }
} 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:52:12.937

第一个问题是我认为您没有使用正确的选择器。如果您有以下容器：

`<div id="bookContainer">Contents of book1.php</div>`

替换该容器内容的代码应该是

`$('#bookContainer').replaceWith([contents of book2.php]);`

为了获得 [book2.php 的内容]，您需要使用以下代码通过 ajax 将其拉入，我还包括上面的行，以便将 book2.php 中的数据放入容器中：

```
$.ajax({
 url: "http://yoururl.com/book2.php",
 }).success(function ( data ) {
  $('#bookContainer').replaceWith(data);
});. 
```

我尚未对此进行测试，因此可能存在问题，但这是您完成此操作所需的概念。

# java - 在我改变它之前制作一个副本二维数组

> ID：15076609
> 
> 赞同：0
> 
> 时间：2013-02-25T21:14:17.377
> 
> 标签：java, multidimensional-array

我制作了一个 2D 数组，它是游戏的地图。当玩家在地图上移动时，数组会略有变化，但我希望能够参考原始的、未更改的数组。我怎样才能做到这一点？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:20:16.473

如果`arr`是二维`String`数组：

```
String[][] copy = arr.clone(); 
```

然后，只需对`copy`.

如果它是一个对象数组，您可能想要进行深度复制，即复制所有包含的对象。但是在您的情况下，由于`String`s 是不可变的，因此 a`clone`就足够了。但是，考虑将数据存储在类而不是字符串中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:22:48.453

如果您不需要每个元素的副本，只需要数组，请使用

```
array.clone() 
```

如果您确实需要复制每个元素，您可以看到[这个答案](https://stackoverflow.com/questions/2156120/java-recommended-solution-for-deep-cloning-copying-an-instance/2156367#2156367)。

# twitter-bootstrap - 用于 Visual Studio 2012 的 Bootstrap MVC4 脚手架

> ID：15076612
> 
> 赞同：23
> 
> 时间：2013-02-25T21:14:27.227
> 
> 标签：twitter-bootstrap, asp.net-mvc-4, visual-studio-2012

我正在 Visual Studio 2012 中开发 ASP.NET MVC4 应用程序。我也在使用 twitter 引导程序。

每当我生成一个新的 Controller 时，VS2012 会自动为我生成默认的 CRUD 页面，这很好。

但是，我厌倦了修改页面，以便按照引导程序需要的方式布置 DIV。

是否有一个 VS2012 插件可以帮助按照引导程序期望的方式生成这些视图？

这是 VS2012 生成的示例 div。

```
<div class="editor-label">
    @Html.LabelFor(model => model.Name)
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.Name)
    @Html.ValidationMessageFor(model => model.Name)
</div> 
```

..我将手动将其更改为...

```
<div class="editor-label control-group">
    @Html.LabelFor(model => model.Name, new { @class = "control-label" })
    <div class="editor-field controls">
        @Html.EditorFor( model => model.Name, "CustomTemplate", 
                                     new { @class = "input-xlarge" })
        @Html.ValidationMessageFor(model => model.Name)
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-25T21:26:24.113

ASP.NET MVC 使用[T4 模板](http://msdn.microsoft.com/en-us/library/vstudio/bb126445.aspx)通过“添加视图”和“添加控制器”对话框构建视图（以及控制器）。

您可以使用自定义 Bootsrtap 标记轻松自定义这些模板。

您只需要复制`CodeTemplates`目录（路径在您的机器上可能会有所不同，具体取决于安装的操作系统、VS 和 ASP.NET MVC 版本）

```
c:\Program Files (x86)\
    Microsoft Visual Studio 10.0\Common7\IDE\ItemTemplates\CSharp\Web\MVC 4 
```

在您的 MVC 项目中的一个`CodeTemplates`目录下，它们已准备好进行自定义。

这是该过程的良好分步指南：[修改 ASP.NET MVC 中的默认代码生成/脚手架模板](http://www.hanselman.com/blog/ModifyingTheDefaultCodeGenerationscaffoldingTemplatesInASPNETMVC.aspx)

如果您想更进一步地搭建脚手架，我建议您查看[MVC.Scaffolding](http://blog.stevensanderson.com/2011/01/13/scaffold-your-aspnet-mvc-3-project-with-the-mvcscaffolding-package/)项目，它比内置项目具有更多功能。

或者因为您正在寻找针对 Bootstrap 的自定义，您可以查看**twitter.bootstrap.mvc**项目（[介绍博客文章](http://lostechies.com/erichexter/2012/11/20/twitter-bootstrap-mvc4-the-template-nuget-package-for-asp-net-mvc4-projects/)）

它的一些[特点](https://github.com/erichexter/twitter.bootstrap.mvc)：

*   运行时脚手架——默认索引、编辑和详细视图。您提供 POCO，我们将渲染 CRUD 视图。
*   MVC 代码模板从 mvc 添加视图/添加控制器对话框生成新视图

自定义 MVC 代码模板（仍在进行中）在单独的 nuget 包中提供：

```
PM> Install-Package twitter.bootstrap.mvc4.templates 
```

# android - 如何通过Android中的ActivityOptions在finish（）上制作动画？

> ID：15076617
> 
> 赞同：5
> 
> 时间：2013-02-25T21:15:03.607
> 
> 标签：android, bundle, android-animation, activity-finish

我正在开发一个有两个活动的应用程序，主要和信息。该应用程序以 MainActivity 启动，当您单击按钮时，InfoActivity 从右侧滑入。当您单击另一个按钮时，InfoActivity 将再次滑出到右侧并且 Main 返回。

这就是我在 MainActivity 中实现动画和按钮单击的方式：

```
buttonInfo.setOnClickListener(new View.OnClickListener() { 
    public void onClick(View v) {
       Intent i = new Intent(getApplicationContext(), Info.class);
       Bundle mAnimate = 
          ActivityOptions.makeCustomAnimation(getApplicationContext(),
           R.anim.ani1,R.anim.ani2).toBundle();

          startActivity(i,mAnimate);
            }
        }); 
```

我在 InfoActivity 中做了类似的事情，效果很好。但是，我想要并且需要有意图地调用 finish() 而不是 startActivity，因为我在 MainActivity 中有一个服务器连接，当我调用 startActivity 时它会断开连接。

任何想法如何将这样的动画应用于 finish() 方法或其他建议？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-25T21:29:35.347

如[DevBytes: Window Animations](https://www.youtube.com/watch?v=Ho8vk61lVIU) walkthrough 中所述，您可以将 Info.class 的 finish() 方法替换为

```
@Override
public void finish() {
    super.finish();
    overridePendingTransition(R.anim.ani2, R.anim.ani1);
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-08-30T17:05:56.190

利用

```
 ActivityCompat.finishAfterTransition(this); 
```

这将在动画之后完成活动

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-12-06T02:58:01.217

```
Bundle options = ActivityOptionsCompat.makeCustomAnimation(this,R.anim.ani1,R.anim.ani2).toBundle();
ActivityCompat.startActivity(this, intent, options) 
```

# java - 无法映射经纬度位置

> ID：15076628
> 
> 赞同：1
> 
> 时间：2013-02-25T21:15:29.213
> 
> 标签：java, android, json, api, google-maps

编辑：

已添加相关类以便能够访问 JSON 数组的每个元素层。

目前，当（仍然）尝试访问我正在调用数据包装器类的新对象的位置时，我可以看到访问该位置的代码的实现应该如何工作，但目前我收到以下错误：

```
The method getGeometry() is undefined for the type List. 
```

我让 Eclipse 通过显示“getLongitude()”和“getLatitude()”方法来自动完成位置对象，但它们应该是“getLat()”和“getLng()”方法。

我看到按顺序访问对象是如何让我得到 long 和 lat 但上面的错误仍然让我失望。

这是我的 serpate JSON 类：

数据包装器：

```
package com.example.restfulweb;

import java.util.List;

import com.google.gson.Gson;

public class DataWrapper<GeoResult> {

    List<GeoName> results;

public List<GeoName> getResults() {
    return results;
}

public void setResults(List<GeoName> results) {
    this.results = results;
}

@SuppressWarnings("rawtypes")
public DataWrapper fromJson(String jsonString)
{
    return new Gson().fromJson(jsonString, DataWrapper.class);
} 
```

}

地名类：

```
package com.example.restfulweb;

public class GeoName {

private String id;
private Geometry geometry;
private String name;

public String getId() {
    return id;
}
public void setId(String id) {
    this.id = id;
}
public Geometry getGeometry() {
    return geometry;
}
public void setGeometry(Geometry geometry) {
    this.geometry = geometry;
}
public String getName() {
    return name;
}
public void setName(String name) {
    this.name = name;
} 
```

}

几何类：

```
package com.example.restfulweb;

public class Geometry {
private Location location;

public Location getLocation() {
    return location;
}

public void setLocation(Location location) {
    this.location = location;
} 
```

}

位置类：

包 com.example.restfulweb;

```
public class Location {
private Double lat;
private Double lng;

public Double getLat() {
    return lat;
}
public void setLat(Double lat) {
    this.lat = lat;
}
public Double getLng() {
    return lng;
}
public void setLng(Double lng) {
    this.lng = lng;
} 
```

} }

如图所示，所有 Getter 和 setter 方法都匹配。作为返回对象的列表我不确定为什么会抛出这个错误？

代码如何访问图层：

```
@SuppressWarnings("rawtypes")
        DataWrapper dataWrapper = new DataWrapper();

        Location location = dataWrapper.getResults().getGeometry().getLocation(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:50:37.100

您的映射已关闭，因为目标类中映射的数据层次结构与 JSON 结构不匹配。和字段在 JSON 中处于不同的级别，`name`并且`location`这些字段都不是您要映射的根级别。如果要使用“强类型”进行序列化，则需要定义更多类。更接近于这个：

```
public class Location {
    private Double lat;
    private Double lng;

    // Constructors, getters, setters
}

public class Geometry {
    private Location location;

    // Constructors, getters, setters
}

public class GeoResult {
    private String id;
    private Geometry geometry;
    private String name;

    // Constructors, getters, setters
}

public class DataWrapper {
    private List<GeoResult> results;

    // Constructors, getters, setters
} 
```

使用这些类的版本，将 JSON 数据反序列化到`DataWrapper`类中，现在应该以与数据的自然层次相匹配的方式填充对象层次结构。您可以使用类似于以下的代码检索位置数据：

```
Location location = dataWrapper.getResults(0).getGeometry().getLocation(); 
```

# ruby - 在 irb/pry 中调试 ruby 代码

> ID：15076629
> 
> 赞同：1
> 
> 时间：2013-02-25T21:15:44.260
> 
> 标签：ruby, irb, pry

有没有办法找到更多关于 irb 中方法的信息。

例如在 irb/pry 我可以做这样的事情：

```
strigy_object = "I am string" 
```

现在，如果我键入`stringy_object.`并按 Tab 键，`stringy_object`则会列出所有可能响应的方法。由于我对 ruby​​ 相对较新，并且对所有方法都不是很熟悉，因此我很想找到有关该方法作用的更多信息。简而言之，是否有一个`'man'`等效的命令可以帮助我在 irb/pry 中实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:18:22.160

使用`show-doc`命令。

对于您需要的某些命令`gem install pry-doc`（例如 C 命令）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:21:34.847

使用`stringy_object.methods`. 它将返回对象响应的所有方法。

如果您想将该列表缩减为仅特定于该类型对象的方法，您可以执行`stringy_object.methods - Object.methods`.

# php - fwrite() 没有创建或写入我指定的文件

> ID：15076630
> 
> 赞同：0
> 
> 时间：2013-02-25T21:15:47.567
> 
> 标签：php, file-io, fopen, fwrite

“LoggedIn”确实 = true 并且“CurrentUser”不是“ManselD”，但它仍然没有写入或创建文件 :( 是的，我的 /accounts/logs 文件夹是 CHMOD 702

```
if(!$user == "ManselD"){
    ini_set('date.timezone', 'Europe/London');
    $ip = $_SERVER['REMOTE_ADDR'];
    $txt = "$user Logged In With The Ip: $ip At ".date("h:i")."\n";
    $url = "/accounts/logs/".trim(date('F')."-".date('d')."-".date('Y').".txt");
    $file = fopen($url, "a");
    fwrite($file, $txt);
    fclose($file);
    echo $file;
    if(is_writable("/accounts/logs")){
        echo "It is writable";
    } else{
        echo "It isn't writable";
    }
} 
```

我真的很困惑，为什么这不起作用：S

固定版本：

```
if($user != "ManselD"){
ini_set('date.timezone', 'Europe/London');
$ip = $_SERVER['REMOTE_ADDR'];
$txt = "$user Logged In With The Ip: $ip At ".date("h:i")."\n";
$url = getcwd() . '/accounts/logs/'.trim(date('F')."-".date('d')."-".date('Y').".txt");
file_put_contents($url, $txt, FILE_APPEND);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:23:04.807

我认为问题（您要问的问题，因为如果您阅读评论还有更多问题）是您写

```
$url = "/accounts/logs/".trim(date('F')."-".date('d')."-".date('Y').".txt"); 
```

文件路径不是 URL。虽然上面显然不是 URL，但它可能不应该有起始斜杠 (/)。
一个好的方法是始终使用绝对路径，可能使用`__FILE__`常量。

# ember.js - 使用 bindAttr 创建动态字符串

> ID：15076634
> 
> 赞同：2
> 
> 时间：2013-02-25T21:15:58.630
> 
> 标签：ember.js, handlebars.js

我想在一个对象上创建一个动态类名，该类名具有我从模型中获得的值。其中一个键被命名`provider`，其中包含“twitter”或“facebook”。我想做的是在提供者前面加上字符串“icon-”，以便生成的类是`icon-twitter`or `icon-facebook`。

这是我现在得到的代码。

`<i {{bindAttr class=":avatar-icon account.provider"}}></i>`

Ember 提供了一种在属性中添加静态字符串的方法，方法是在属性前添加`:`。您可以看到我还在`avatar-icon`此示例中添加了一个名为的类。我已经尝试过`:icon-account.provider`，这只是导致了文字字符串“icon-account.provider”。

**回复** 不错。我正在研究与您的答案类似的解决方案。但问题是：这个视图将在每个循环的上下文中使用。我将如何传递要在视图中使用的当前项目？我现在有这个：

`{{#each account in controller}} {{#view "Social.AccountButtonView"}} <i {{bindAttr class="account.provider"}}></i> {{/view}} {{/each}}`

是否可以这样做：

`{{#view "Social.AccountButtonView" account="account"}}` ?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:46:53.710

我之前说过这`attributeBindings`将是一个合适的解决方案，但我错了。正如所指出的，在绑定`class`给定的属性时，您应该使用or 。请参考以下示例：`View``classNames``classNameBindings`

```
App.ApplicationView = Em.View.extend({
    provider: 'Facebook',
    classNameBindings: 'providerClass',
    providerClass: function() {
        return 'icon-avatar icon-%@'.fmt(this.get('provider').toLowerCase());
    }.property('provider')
}); 
```

这将呈现以下 HTML：

```
<div id="ember212" class="ember-view icon-avatar icon-facebook">
    <h1>App</h1>    
</div> 
```

这是一个小提琴：http: **[//jsfiddle.net/schawaska/HH9Sk/](http://jsfiddle.net/schawaska/HH9Sk/)**

（注意：小提琴链接到早于 RC 的 Ember.js 版本）

# listview - 剑道列表视图项目/元素访问

> ID：15076643
> 
> 赞同：0
> 
> 时间：2013-02-25T21:16:25.680
> 
> 标签：listview, kendo-ui, listviewitem

我有以下模板，通过 PHP/mysql 填充了“名称”。请注意，我有一个删除按钮（一个标签）。

```
<script type="text/x-kendo-tmpl" id="template">
    <div class="usrList">
        <strong style="position:relative;top:5px;left:5px">${Name}</strong>
        <a class="k-button k-button-icontext k-delete-button" id="delete_user" onClick="delusr()" style="float:right;font-size:85%;padding:3px;"><span class="k-icon k-delete"></span>Remove</a>
    </div> 
</script> 
```

当我单击删除按钮时，我想在它旁边获取“名称”（强标签）。在这样的 js 函数中说（当然不起作用）

```
function delusr(e){
   var listView = $("#listView").data("kendoListView");
   var data = listView.dataSource.view();
   alert(data[$(e).index()].Name);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T23:17:31.473

添加`this`为 的参数`delusr`：

```
<script type="text/x-kendo-tmpl" id="template">
    <div class="usrList">
        <strong style="position:relative;top:5px;left:5px">${Name}</strong>
        <a class="k-button k-button-icontext k-delete-button" id="delete_user" onClick="delusr(this)" style="float:right;font-size:85%;padding:3px;"><span class="k-icon k-delete"></span>Remove</a>
    </div>
</script> 
```

并将函数定义`delusr`为：

```
function delusr(elem) {
    var listView = $("#listView").data("kendoListView");
    var item = $(elem).closest("[role='option']");
    var data = listView.dataSource.getByUid(item.data("uid"));
    alert(data.Name);
} 
```

我所做的是找到`uid`已单击列表的元素，然后获取`getByUid`用于该项目的数据。

# permissions - Amazon S3 只写访问

> ID：15076645
> 
> 赞同：8
> 
> 时间：2013-02-25T21:16:35.563
> 
> 标签：permissions, amazon-web-services, amazon-s3

我将多个客户的文件直接备份到 Amazon S3 存储桶中 - 每个客户都备份到不同的文件夹。我每晚使用一次在 Windows 任务下运行的简单 .Net 客户端。为了允许写入存储桶，我的客户端需要 AWS 访问密钥和密钥（我创建了一个新密钥对）。

我的问题是：

1.  我如何确保我的客户没有一个可能使用这对来窥视桶和不是他自己的文件夹？我可以创建“只写”访问对吗？

2.  我以正确的方式接近这个吗？这应该通过 AWS 访问设置来解决，还是我应该在上传之前对客户机器上的文件（每个客户使用不同的密钥）进行客户端加密并避免上述交叉访问？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2018-06-13T13:57:32.820

我刚刚创建了一个像这样的只写策略，它似乎正在工作：

```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:PutObject"
            ],
            "Resource": [
                "arn:aws:s3:::BUCKET_NAME/*"
            ]
        }
    ]
} 
```

我认为创建这样的水滴是一个更简洁的解决方案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-25T22:09:53.643

使用 IAM 为每个客户创建一个单独的用户（不仅仅是一个额外的密钥对），然后让每个用户只访问他们的 S3 文件夹。例如，如果存储桶被调用`everybodysbucket`，并且客户 A 的文件都以`userA/`（客户 B的文件都以 开头`userB/`），那么您可以将权限授予`everybodysbucket/userA/*`客户 A 的用户和客户 B 的权限`everybodysbucket/userB/*`。

这将防止每个用户看到任何不属于他们自己的资源。

使用还可以控制每个用户可以访问的特定 S3 操作，而不仅仅是资源。所以是的，您可以根据需要向用户授予只写权限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-02-14T20:36:59.827

作为[Charles 回答](https://stackoverflow.com/a/15077470/18192)中推荐的方法的一种变体，您还可以通过 SFTP 在用户级别管理访问控制。这些用户都可以共享相同的全局 IAM 策略：

*   SFTP 确实支持用户特定的主目录（类似于“chroot”）。
*   SFTP 允许您通过服务管理的身份验证或您自己的身份验证提供程序来管理用户访问。我不确定服务管理的身份验证是否有用户限制。
*   如果您希望允许用户使用客户端访问上传的文件，SFTP 非常干净地提供了它。

# fortran - 在子例程中将函数作为参数传递时出现分段错误

> ID：15076646
> 
> 赞同：2
> 
> 时间：2013-02-25T21:16:35.820
> 
> 标签：fortran

我试图说明如何将函数传递给 Newton Raphson 过程。我成功地使用了一个非常简单的函数（称为`unefonction`见下文），但它不适用于具有参数的函数。第二个函数被调用`gaussienne`，它接受一个参数 x 和两个可选参数`mu`和`sig`。在我的 newton raphson 程序中，我以这种方式调用了函数：`f(x)`。对我来说奇怪的是，在执行过程中，程序就像可选参数一样`sig`并且`mu`存在但它们没有......因此我不明白......

这是包含功能的模块

```
module fonction

  implicit none

  ! parametre pour la gaussienne
  double precision :: f_sigma = 1.d0, f_mu = 0.d0

  ! pi accessible uniquement en interne
  double precision, parameter :: pi = 3.14159265359d0

  contains

    double precision function unefonction(x)
        ! fonction : unefonction
        ! renvoie
        !    $\frac{e^x - 10}{x + 2}$

        implicit none

        ! arguments 
        double precision, intent(in) :: x

        unefonction = (exp(x) - 10.) / (x + 2.)

    end function unefonction

! * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

    double precision function gaussienne(x, mu, sig)
        ! fonction gaussienne
        ! utilise les parametres definis dans le module si
        ! mu et sig ne sont pas passes en argument

        implicit none

        ! arguments
        double precision, intent(in)           :: x
        double precision, intent(in), optional :: mu, sig

        ! variables locales
        double precision :: norme, moy, sigma

        ! sigma
        if (present(sig)) then
            write(*,*)"sig present"
            sigma = sig
        else
            sigma = f_sigma
        end if

        ! mu
        if (present(mu)) then
            write(*,*)"mu present"
            moy = mu
        else
            moy = f_mu
        end if

        ! calcul de la gaussienne
        norme = 1.d0 / (sigma * sqrt(2.d0 * pi))
        gaussienne = norme * exp(-(x - moy)**2 / (2.d0 * sigma**2))

    end function gaussienne

end module fonction 
```

这是包含牛顿拉夫森程序的模块

```
module rechercheRacine

    implicit none

    contains

        subroutine newtonRaphson(racine, f, eps, cible)

            ! recherche l'antecedant de cible

            implicit none

            ! arguments
            double precision, intent(inout)        :: racine
            double precision, intent(in), optional :: cible, eps

            ! fonction dont on cherche la racine
            double precision, external :: f

            ! variables locales
            integer          :: compteur
            double precision :: xold, xnew, delta, valcible
            double precision :: threshold, fprim, fdex

            ! precision
            if (present(eps)) then
                threshold = eps
            else
                threshold = 1.d-10
            end if

            ! valeur cible
            if (present(cible)) then
                valcible = cible
            else
                valcible = 0.d0
            end if

            write(*,*) "--------------------------------------------------------"
            write(*,*) "                      NEWTON RAPHSON"
            write(*,*) "--------------------------------------------------------"
            write(*,"('x0    = ',e16.6)") racine
            write(*,"('seuil = ',e16.6)") threshold
            write(*,"('cible = ',e16.6)") valcible
            write(*,*) "--------------------------------------------------------"
            write(*,*) "                        ITERATIONS"
            write(*,*) "--------------------------------------------------------"

            ! initialisation
            compteur = 0
            delta    = 1.d0
            xold     = racine
            write(*, '(i4,4e16.6)') compteur, f(xold), xold, 0., threshold

            ! iterations
            do while (delta > threshold .and. compteur <= 100)

                ! calcul de la fonction en xold
                fdex = f(xold) - valcible

                ! calcul de la derivee numerique
                fprim  = (f(xold + threshold) - f(xold - threshold)) / (2.d0 * threshold) 

                ! application de l'iteration de Newton Raphson
                xnew = xold - fdex / fprim
                delta = abs(xnew - xold)
                compteur = compteur + 1

                ! affichage de la convergence
                write(*, '(i4,4e16.6)') compteur, fdex, xnew, delta, threshold

                ! mise a jour de xstart
                xold = xnew
            end do

            if (delta < threshold) then
                racine = xnew
                write(*, *) '--------------------------------------------------------'
                write(*, *) '                        CONVERGE'
                write(*, *) '--------------------------------------------------------'
                write(*, *) 'A la convergence demandee, une solution est:'
                write(*, "('x = ',e20.10,'    f(x) = ', e20.10)") racine, f(racine)
                write(*, *)
            else
                write(*, *) '--------------------------------------------------------'
                write(*, *) '                      NON CONVERGE'
                write(*, *) '--------------------------------------------------------'
            end if

        end subroutine newtonRaphson

end module rechercheRacine 
```

这是主程序：

```
program main

    ! contient la subroutine newtonRaphson
    use rechercheRacine

    ! contient la fonction
    use fonction

    implicit none

    double precision :: racine, eps, cible

    ! appel de la subroutine newtonRaphson
    ! sans la valeur cible : cible (defaut = 0)
    ! sans la precision : eps (defaut 1d-10)
    racine = 1.d0
    call newtonRaphson(racine, unefonction)

    ! --------------------------------------------------------

    ! appel de la subroutine newtonRaphson
    ! avec pour cible 10
    racine = 1.d0
    eps    = 1.d-14
    cible  = 10.d0
    call newtonRaphson(racine, unefonction, eps, cible)

    ! --------------------------------------------------------

    ! parametre de la gaussienne
    f_sigma = 2.d0
    f_mu = 5.d0
    ! appel de la subroutine newtonRaphson
    ! passage des arguments sous la forme clef = valeur
    cible = 0.1d0
    racine = 2.d0
    call newtonRaphson(cible = cible, f = gaussienne, racine = racine)

end program main 
```

主程序适用于被调用的函数，`unefonction`但不适用于该`gaussienne`函数。

这是错误消息：

```
Program received signal SIGSEGV: Segmentation fault - invalid memory reference.

Backtrace for this error:
#0  0x7F1B6F5890F7
#1  0x7F1B6F5896D4
#2  0x7F1B6EEEB49F
#3  0x4009D2 in __fonction_MOD_gaussienne at mod_fonction.f90:54
#4  0x40104D in __rechercheracine_MOD_newtonraphson at mod_racine.f90:59
#5  0x4016BA in MAIN__ at main.f90:40
Erreur de segmentation (core dumped) 
```

我认为这`invalid memory reference`是由于程序确实像可选参数一样`sig`并且`mu`存在并且因此在它们不存在时查找它们。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T21:53:12.893

是的，问题在于您传递的函数确实需要三个参数，而不仅仅是一个。如果您更改子程序中的`external`声明`f``newtonRaphson`

```
double precision, external :: f 
```

到一个显式接口（它描述了你如何真正使用它）：

```
interface
  double precision function f(x)
    double precision, intent(in) :: x
  end function f
end interface 
```

由于参数数量不匹配，您的代码甚至无法编译。

它们是将“参数”传递给`f`从例程调用的函数的不同方法`newtonRaphson`：

*   您可以期望`f`有两个`intent(in)`参数而不是一个： 除了值 x，它还可以采用一个实数数组，它可以是任意大小并且可能包含必要的参数。这将需要以下接口：

    ```
    interface
      double precision function f(x, params)
        double precision, intent(in) :: x
        double precision, intent(in) :: params(:)
      end function f
    end interface 
    ```

    那些不需要参数的函数（比如`unefonction`）不会使用第二个参数的内容，而其他函数（比如`gaussienne`）会从中获取参数。

*   您可以`newtonRaphson`期望给定的可扩展类型 ( `class`) 带有类型绑定过程，返回给定 x 值的值。然后，您可以创建此类型的 abritrary 扩展，它可以根据存储为扩展类型中的字段的一些参数计算给定 x 值的值。然后程序可能如下所示（我删除了几个部分），但它需要 Fortran 2003 编译器：

    ```
    module rechercheRacine
      implicit none

      type, abstract :: calculator
      contains
        procedure(getvalue_iface), deferred :: getvalue
      end type calculator

      interface
        double precision function getvalue_iface(self, x)
          import :: calculator
          class(calculator), intent(in) :: self
          double precision, intent(in) :: x
        end function getvalue_iface
      end interface

    contains

      subroutine newtonRaphson(racine, f, eps, cible)
        double precision, intent(inout)        :: racine
        class(calculator), intent(in)          :: f
        double precision, intent(in), optional :: cible, eps

        do while (delta > threshold .and. compteur <= 100)
          fdex = f%getvalue(xold) - valcible
          :
        end do

      end subroutine newtonRaphson

    end module rechercheRacine

    module fonction
      use rechercheRacine
      implicit none

      type, extends(calculator) :: unefonction
      contains
        procedure :: getvalue => unefonction_getvalue
      end type unefonction

      type, extends(calculator) :: gaussienne
        double precision :: mu = 0.0d0, sigma = 1.0d0
      contains
        procedure :: getvalue => gaussienne_getvalue
      end type gaussienne

    contains

      double precision function unefonction_getvalue(self, x)
        class(unefonction), intent(in) :: self
        double precision, intent(in) :: x
        unefonction_getvalue = (exp(x) - 10.) / (x + 2.)
      end function unefonction_getvalue

      double precision function gaussienne_getvalue(self, x)
        class(gaussienne), intent(in) :: self
        double precision, intent(in) :: x

        :
        gaussienne_getvalue = norme * exp(-(x - moy)**2 / (2.d0 * self%sigma**2))

      end function gaussienne_getvalue

    end module fonction

    program main
      use rechercheRacine
      use fonction
      implicit none

      type(unefonction) :: fone
      type(gaussienne) :: fgauss

      :
      call newtonRaphson(racine, fone)
      call newtonRaphson(cible = cible, f = fgauss, racine = racine)

    end program main 
    ```

# c# - Linq 实体异常不打印错误

> ID：15076650
> 
> 赞同：1
> 
> 时间：2013-02-25T21:17:02.007
> 
> 标签：c#, asp.net, linq

我是从数据库输入信息的 LINQ。我设置了 try.catch 块来捕获这些异常。但是我相信我遇到了一个痛点，我试图查看消息是什么，但它只是绕过向我打印消息并直接进入错误页面。这是我到目前为止的代码示例。我很想得到一些关于为什么这看起来如此奇怪的意见。

```
 private void CreateEntry()
    {
        var date = DateTime.Today;
        var version = (from v in house.StayLateVersions
                       where v.Active
                       select v).FirstOrDefault();

        if (version == null)
        {
            throw new NullReferenceException();
        }

        //Try to create an entry for the database.  Upon failure, sends the exception to ThrowDbError();

        try
        {
            ResidenceHallInspection rhi = new ResidenceHallInspection();

            rhi.versionId = version.id;
            rhi.submitDate = DateTime.Now;
            rhi.CheckInOrOut = ddlCheck.SelectedItem.Text;
            rhi.Id = txtId.Text;
            rhi.FirstName = txtFirstName.Text;
            rhi.MiddleName = txtMiddleName.Text;
            rhi.LastName = txtLastName.Text;
            rhi.Walls = chbxWalls.SelectedItem.Text;
            rhi.Windows = chbxWindows.SelectedItem.Text;
            rhi.Blinds = chbxBlinds.SelectedItem.Text;
            rhi.Couch = chbxCouch.SelectedItem.Text;
            rhi.CommonRoomCouch = chbxCRCouch.SelectedItem.Text;
            rhi.CommonRoomChair = chbxCRChair.SelectedItem.Text;
            rhi.Doors = chbxDoors.SelectedItem.Text;
            rhi.Carpet = chbxCarpet.SelectedItem.Text;
            rhi.Ceiling = chbxCeiling.SelectedItem.Text;
            rhi.CommonRoomCounter = chbxCRCounter.SelectedItem.Text;
            rhi.Cabinet = chbxCabinet.SelectedItem.Text;
            rhi.Phone = chbxPhone.SelectedItem.Text;
            rhi.Bed = chbxBed.SelectedItem.Text;
            rhi.Desk = chbxDesk.SelectedItem.Text;
            rhi.DeskChairs = chbxDeskChair.SelectedItem.Text;
            rhi.Tub = chbxTub.SelectedItem.Text;
            rhi.Vanity = chbxVanity.SelectedItem.Text;
            rhi.Notes = txtNotes.Text;
            rhi.Building = txtResHall.Text;
            rhi.ApartmentNumber = txtSuitNo.Text;
            rhi.BedSpace = txtBedSpace.Text;

            house.AddToResidenceHallInspections(rhi);
            house.SaveChanges();

        }
        catch (Exception oe)
        {
            ThrowDbError(oe);
            Response.Write(oe.InnerException);
        }
    }

    /*=================================================*/
    /*Possible Errors                                  */
    /*=================================================*/

    private void ThrowDbError(Exception oe)
    {
        Response.Write(oe.Source);
        house.Dispose();
        Session.Contents.Add("FormException", oe);
        Response.Redirect("/Database-Error/", true);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:21:22.683

发生这种情况的最可能原因是您`version`在 try/catch 块之外运行数据库查询。此数据库访问代码中的任何异常都不会由您上面显示的代码处理。

尝试扩展您的`try`块以包括数据库访问代码：

```
var version = (from v in house.StayLateVersions
                   where v.Active
                   select v).FirstOrDefault();

if (version == null)
{
    throw new NullReferenceException();
} 
```

看看这次错误是否被捕获。

# macos - 以编程方式关闭 NSDocument 的正确方法

> ID：15076651
> 
> 赞同：2
> 
> 时间：2013-02-25T21:17:03.120
> 
> 标签：macos, cocoa, nsdocument

我有一个 NSDocument 的子类，每当我使用 [self close] 来避免新文档的默认“保存”对话框时，它就会崩溃：

```
2013-02-25 15:23:06.338 MyApp[692:403] An uncaught exception was raised
2013-02-25 15:23:06.338 MyApp[692:403] NSWindow: -_newFirstResponderAfterResigining is not a valid message outside of a responder's implementation of -resignFirstResponder.
2013-02-25 15:23:06.356 MyApp[692:403] (
0   CoreFoundation                      0x00007fff8b2cdf56 __exceptionPreprocess + 198
1   libobjc.A.dylib                     0x00007fff88c00d5e objc_exception_throw + 43
2   CoreFoundation                      0x00007fff8b2cdd8a +[NSException raise:format:arguments:] + 106
3   CoreFoundation                      0x00007fff8b2cdd14 +[NSException raise:format:] + 116
4   AppKit                              0x00007fff858e0c34 -[NSWindow _newFirstResponderAfterResigning] + 164
5   AppKit                              0x00007fff85882c8a -[NSTextView(NSSharing) resignFirstResponder] + 54
6   AppKit                              0x00007fff8536dd79 -[NSWindow makeFirstResponder:] + 429
7   AppKit                              0x00007fff85488dfb -[NSWindow dealloc] + 802
8   AppKit                              0x00007fff8528b955 -[NSWindow release] + 535
9   AppKit                              0x00007fff858b541c __destroy_helper_block_4 + 26
10  libsystem_blocks.dylib              0x00007fff8702b174 _Block_release + 181
11  libdispatch.dylib                   0x00007fff84ab28f2 _dispatch_main_queue_callback_4CF + 308
12  CoreFoundation                      0x00007fff8b262e7c __CFRunLoopRun + 1724
13  CoreFoundation                      0x00007fff8b262486 CFRunLoopRunSpecific + 230
14  HIToolbox                           0x00007fff8d64e2bf RunCurrentEventLoopInMode + 277
15  HIToolbox                           0x00007fff8d65556d ReceiveNextEventCommon + 355
16  HIToolbox                           0x00007fff8d6553fa BlockUntilNextEventMatchingListInMode + 62
17  AppKit                              0x00007fff85252779 _DPSNextEvent + 659
18  AppKit                              0x00007fff8525207d -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 135
19  AppKit                              0x00007fff8524e9b9 -[NSApplication run] + 470
20  AppKit                              0x00007fff854caeac NSApplicationMain + 867
21  MyApp                                0x00000001059098d2 main + 34
22  MyApp                                0x00000001059098a4 start + 52
23  ???                                 0x0000000000000003 0x0 + 3
) 
```

有没有人以前见过这个，或者任何人都可以建议一种更好/正确的方法来关闭 NSDocument 而不显示保存对话框？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-11T19:16:16.563

因此，从您的后续评论来看，您正在尝试做的是在特定情况下取消标准关闭确认表。一些方法可以做到这一点：

*   采用原地自动保存，摆脱了手动保存文档的古老范式
*   覆盖`-[NSDocument canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:]`，因此它告诉代表“是的，您可以关闭”，而不是呈现工作表
*   发布帖子后，致电`[document updateChangeCount: NSChangeCleared]`通知文档您认为已保存

# python - python - 与字符串编码和重音引号/撇号作斗争

> ID：15076655
> 
> 赞同：0
> 
> 时间：2013-02-25T21:17:53.277
> 
> 标签：python, unicode, character-encoding, beautifulsoup

我有一个简单的 RSS 提要脚本，它获取每篇文章的内容并通过一些简单的处理运行它，然后将其保存到数据库中。

问题是，在通过以下所有重音撇号和引号运行文本后，文本中的所有重音撇号和引号都将被删除。

```
# this is just an example string, I use feed_parser to download the feeds
string = """&#160; <p>This is a sentence. This is a sentence. I'm a programmer. I&#8217;m a programmer, however I don&#8217;t graphic design.</p>"""

text = BeautifulSoup(string)
# does some simple soup processing

string = text.renderContents()
string = string.decode('utf-8', 'ignore')
string = string.replace('<html>','')
string = string.replace('</html>','')
string = string.replace('<body>','')
string = string.replace('</body>','')
string = unicodedata.normalize('NFKD', string).encode('utf-8', 'ignore')
print "".join([x for x in string if ord(x)<128]) 
```

结果是：

```
> <p>  </p><p>This is a sentence. This is a sentence. I'm a programmer. Im a programmer, however I dont graphic design.</p> 
```

所有 html 实体引号/撇号都被删除。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:26:12.153

以下代码对我有用，您可能错过了构造函数的`convertEntities`参数 `BeautifulSoup`：

```
string = """&#160; <p>This is a sentence. This is a sentence. I'm a programmer. I&#8217;m a programmer, however I don&#8217;t graphic design.</p>"""

text = BeautifulSoup(string, convertEntities=BeautifulSoup.HTML_ENTITIES) # See the converEntities argument
# does some simple soup processing

string = text.renderContents()
string = string.decode('utf-8')
string = string.replace('<html>','')
string = string.replace('</html>','')
string = string.replace('<body>','')
string = string.replace('</body>','')
# I don't know why your are doing this
#string = unicodedata.normalize('NFKD', string).encode('utf-8', 'ignore')
print string 
```

# powershell - 如何根据Powershell中的两个属性快速从数组中获取对象

> ID：15076656
> 
> 赞同：2
> 
> 时间：2013-02-25T21:17:55.560
> 
> 标签：powershell

我有一大堆 DataRow 对象。数组中的每个对象都有 3 个属性；名字、姓氏和部门。一些对象具有相同的 FirstName 和 LastName，但部门不同。如果有重复，FirstName 和 LastName 可以是任何东西，但对象的部门之一将始终是“临时雇员”，而另一个可能是任何东西。

我需要删除基于名字/姓氏的所有重复对象，但如果发现重复对象以保留不是“临时员工”部门的重复对象。

我创建了一个函数，但需要很长时间。必须有更好的方法来做到这一点。

```
function removeDupsFromSamData($aSamData) {
    $aNoDups = @();
    $aTemps = $aSamData | Where-Object { $_.Department -eq 'Temp Employee' } | % { "$($_.FirstName)|$($_.LastName)" }
    $aFtes = $aSamData | Where-Object { $_.Department -ne 'Temp Employee' } | % { "$($_.FirstName)|$($_.LastName)" }

    $aTempsAsFtes = Compare-Object $aTemps $aFtes | % { $_.InputObject }
    $aUniqueEmps = @();
    foreach ($i in $aTempsAsFtes) {
        $sTempFname = $i.Split('|')[0]
        $sTempLname = $i.Split('|')[1]
        $aUniqueEmps += $aSamData | ? { ($_.LastName -eq $sTempLname) -and ($_.FirstName -eq $sTempFname) }
    }##endforeach

    return $aUniqueEmps
}##endfunction 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:11:58.510

这是不是更快？

```
function removeDupsFromSamData($aSamData) {

$aTemps = $aSamData | Where-Object { $_.Department -eq 'Temp Employee' } 
$aFtes = $aSamData | Where-Object { $_.Department -ne 'Temp Employee' } 

$ht = @{}

 foreach ($aFte in $aFtes)
  {
   $ht[$aFte.firstname/$aFte.lastname] = $true
  }

 foreach ($aTemp in $aTemps)
  {
  if ($ht[$aTemp.firstname/$aTemp.lastname])
    {continue}

  else {$aFtes += $aTemp}
  }

  $aFtes
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T22:30:46.620

我认为这可能会更快。不幸的是，没有要测量的大样本文件。

```
function removeDupsFromSamData($aSamData) {

    $aFtes = $aSamData | Where-Object { $_.Department -ne 'Temp Employee' }
    $aTemps = $aSamData | Where-Object { $_.Department -eq 'Temp Employee' }

    $new = @()
    Compare-Object -ReferenceObject $aFtes -DifferenceObject $aTemps  -Property FirstName, LastName -PassThru | Where-Object { 
        #Unique temp-employee
        $_.SideIndicator -eq "=>"
    } | % {
        #Add to "new" list
        $new += $_
    }

    #Add the unique temps
    $aFtes += $new
    $aFtes
} 
```

如果可以的话，请用以下方法测量它们。看看它是否有什么不同会很有趣：

```
#Your function
Measure-Command -Expression { removeDupsFromSamData $myarr }

#Rename my solution to "newremove" or something
Measure-Command -Expression { newremove $myarr } 
```

# google-chrome - CSS3 FlexBox 过渡

> ID：15076657
> 
> 赞同：4
> 
> 时间：2013-02-25T21:18:01.113
> 
> 标签：google-chrome, css, css-transitions, flexbox

在这个 codepen 示例中：[http](http://codepen.io/DrYSG/pen/ovctn) ://codepen.io/DrYSG/pen/ovctn我创建了三个 flexbox。我想要的效果是当一个人悬停在中间的盒子上时，它会变大（演示中的颜色变化只是为了帮助我了解悬停）。

在 FireFox v19 中，这几乎可以正常工作。但奇怪的是它选择了动画的开始和结束宽度。

在 Chrome v25 中，我得到了快速不稳定的状态振荡（闪烁）。真的不正确。

在 IE10 中，我得到了与 FireFox 相同的过渡，但没有平滑过渡。

# javascript - d3 轴和标签裁剪

> ID：15076668
> 
> 赞同：1
> 
> 时间：2013-02-25T21:18:39.717
> 
> 标签：javascript, svg, plot, d3.js

我有一个带有 y 轴和标签的 d3 条形图。Y 轴刻度标签被裁剪为 Y 条的比例。如何在 Y 轴上使用相同的缩放比例但不剪切刻度标签？（请参阅轴底部的切零）

此外，我想为缩放绘图区域外的 x 轴添加一个文本。显然，我对这里的元素放置有些不理解。为此，我确实在 SVG 中留了一些边距空间，但它仍然将所有内容剪裁到 svg 元素的边距内的缩放区域。

这是一个小提琴：

[http://jsfiddle.net/VY7k5/4/](http://jsfiddle.net/VY7k5/4/)

```
var plotData = [{
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "1.1241",
    "fpkm_conf_lo": "0.898502",
    "fpkm_conf_hi": "1.34969",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "8.33",
    "cancerOriginTissue": "Colon",
    "cancer": "Rare Cancer\/Unknown"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "1.12666",
    "fpkm_conf_lo": "0.871059",
    "fpkm_conf_hi": "1.38226",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "16.67",
    "cancerOriginTissue": "Abdominal Wall",
    "cancer": "Perivascular Epithelioid Cell Tumor (PECOMA)"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "1.21305",
    "fpkm_conf_lo": "0.949369",
    "fpkm_conf_hi": "1.47674",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "25.00",
    "cancerOriginTissue": "Lung",
    "cancer": "Undifferentiated Malignant Neoplasm"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "1.98203",
    "fpkm_conf_lo": "1.64888",
    "fpkm_conf_hi": "2.31519",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "33.33",
    "cancerOriginTissue": "Cervix",
    "cancer": "Carcinoma, Neuroendocrine"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "2.24514",
    "fpkm_conf_lo": "1.83333",
    "fpkm_conf_hi": "2.65696",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "41.67",
    "cancerOriginTissue": "Testes",
    "cancer": "Mixed Germ Cell Cancer"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "2.29868",
    "fpkm_conf_lo": "2.02514",
    "fpkm_conf_hi": "2.57221",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "50.00",
    "cancerOriginTissue": "Head and Neck",
    "cancer": "Carcinoma, Sarcomatoid"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "2.61196",
    "fpkm_conf_lo": "2.28949",
    "fpkm_conf_hi": "2.93442",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "58.33",
    "cancerOriginTissue": "Thyroid",
    "cancer": "Rare Cancer\/Unknown"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "2.94397",
    "fpkm_conf_lo": "2.61962",
    "fpkm_conf_hi": "3.26832",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "66.67",
    "cancerOriginTissue": "Prostate",
    "cancer": "Adenocarcinoma"
}, {
    "patient.id": "",
    "library_id": "",
    "sample_origin_site_search": null,
    "sample_cancer_search": null,
    "gene_id": "ENSG00000157554",
    "gene_short_name": "ERG",
    "locus": "21:39751948-40033704",
    "chr_id": "21",
    "start": "39751948",
    "end": "40033704",
    "fpkm": "3.27303",
    "fpkm_conf_lo": "2.79509",
    "fpkm_conf_hi": "3.75097",
    "fpkm_status": "OK",
    "fpkm_percentile_compendium": "75.00",
    "cancerOriginTissue": "Small Intestine",
    "cancer": false
}];

// var plotData = gecgData.children;

//Width and height
// var w = $('#GECGplot').width();
// var h = $('#GECGplot').height();
// var w = 700;
// var h = 500;
var barPadding = 1;
var margin = {
    top: 40,
    right: 70,
    bottom: 20,
    left: 10
};

var w = 700 - margin.left - margin.right;
var h = 500 - margin.top - margin.bottom;
var barW = ((w - margin.left - margin.right) / (plotData.length));
console.log('barW ' + barW);

var y = d3.scale.linear().domain([0, d3.max(plotData, function (d, i) {
    return parseFloat(d.fpkm);
})]).
rangeRound([h, 0]);

var ws = d3.scale.linear().domain([0, d3.max(plotData, function (d, i) {
    return plotData.length;
})]).
rangeRound([0, w]);

//Create SVG element
var svg = d3.select("#GECGplot")
    .append("svg")
    .attr("width", w)
    .attr("height", h);

svg.selectAll("rect")
// .data(dataset)
.data(plotData)
    .enter()
    .append("rect")
    .attr("x", function (d, i) {
    // alert(plotData.length);
    return i * (barW);
})
    .attr("y", function (d, i) {
    // alert(plotData[i].fpkm);
    console.log('orig ' + d.fpkm + ' scaled: ' + y(d.fpkm))
    return y(parseFloat(d.fpkm));
})
    .attr("width", (barW) - barPadding)
    .attr("height", function (d, i) {
    return h - y(parseFloat(d.fpkm));
})
    .attr("fill", function (d, i) {
    console.log(d.library_id + ' -- SI_5485')
    if (d.library_id == 'SI_5485') return "rgb(0, 192, 0)";
    else return "rgb(192, 0, 0)";
});

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("right")
    .ticks(4);

svg.append("g")
    .attr("class", "axis")
    .attr("transform", "translate(" + (w - margin.right) + ",0)")
    .call(yAxis);

svg.append("text")
    .attr("class", "y label")
    .attr("text-anchor", "end")
    .attr("y", 6)
    .attr("dy", ".2em")
    .attr("transform", "translate(" + (w - (margin.right / 2)) + "," + (h / 2) + "), rotate(90)")
    .text("FPKM");

svg.selectAll("text")
    .data(plotData)
    .enter()
    .append("text")
    .text(function (d, i) {
    return d.library_id;
})
    .attr("font-family", "sans-serif")
    .attr("font-size", "11px")
    .attr("fill", "white")
    .attr("text-anchor", "middle")
    .attr("x", function (d, i) {
    return i * (barW) + (barW - barPadding) / 2;
})
    .attr("y", function (d, i) {
    return y(parseFloat(d.fpkm)) + 20;
})
// alert(tableSchema); 
```

如果有人感兴趣，这是工作的 JS。我最终重新定义了比例以包括边距......

```
var barPadding = 1; 
var margin = {top: 5, right: 100, bottom: 5, left: 5};

var w = $('#GECGplot').width();
var wM = ($('#GECGplot').width() - margin.left - margin.right);
var h = $('#GECGplot').height();
var hM = ($('#GECGplot').height() - margin.top - margin.bottom);
var barW = ( (w - margin.left - margin.right) / (plotData.length) );

var y = d3.scale.linear().domain([0, d3.max(plotData, function(d, i) { return parseFloat(d.fpkm); })]).
  rangeRound([(hM), 0]);

var ws = d3.scale.linear().domain([0, d3.max(plotData, function(d, i) { return plotData.length; })]).
  rangeRound([0, (wM)]);

//Create SVG element
var svg = d3.select("#GECGplot")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

// make the  bars
svg.selectAll("rect")
   .data(plotData)
   .enter()
   .append("rect")
   .attr("x", function(d, i) {
        return (i * barW);
    })
   .attr("y", function(d, i) {
        return y(parseFloat(d.fpkm));
    })
   .attr("width", (barW) - barPadding )
   .attr("height", function(d, i) {
        return (hM) - y(parseFloat(d.fpkm));
    })
   .attr("fill", function(d, i) {
        if (d.library_id == '<?=$l?>') return "rgb(0, 192, 0)";
        else return "rgb(192, 0, 0)";
    });

// Y axis
var yAxis = d3.svg.axis()
    .scale(y)
    .orient("right")
    .ticks(8);

svg.append("g")
    .attr("class", "axis")
    .attr("transform", "translate(" + (w-margin.right) + ",0)")
    .call(yAxis);

// Y label
svg.append("text")
    .attr("class", "y label")
    .attr("text-anchor", "middle")
    .attr("dy", ".1em")
    .attr("transform", "translate(" + (w-(margin.right/2)) + ","+(hM/2)+"), rotate(90)")
    .text("FPKM");

// Legend header
svg.append("text")
    .attr("class", "legend")
    .attr("text-anchor", "left")
    .attr("y", 10)
    .attr("dy", ".2em")
    .attr("transform", "translate(10,10), rotate(0)")
    .text("<?= strtoupper($_REQUEST['gene_short_name']) ?> expression - <?= strtoupper($_REQUEST['library']) ?> vs compendium"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:11:59.493

您的 svg 被限制在没有边距的区域。也就是说，您将 'w' 和 'h' 定义为图表的大小，但 svg 元素创建的正是该大小。所以不能考虑边际。

尝试：

```
//Create SVG element
var svg = d3.select("#GECGplot")
.append("svg")
.attr("width", w + margin.left + margin.right)
.attr("height", h + margin.top + margin.bottom); 
```

或类似的。

# macos - 在 OS X Cocoa 中实现 iOS 密码输入视图

> ID：15076669
> 
> 赞同：2
> 
> 时间：2013-02-25T21:18:41.730
> 
> 标签：macos, cocoa-touch, cocoa, common-lisp

我需要在 OS X Cocoa 中创建一个视图，该视图隐藏除最后输入的字符之外的所有字符（直到该字符在一段时间后被隐藏）。基本上我想在 OS X Cocoa中使用`UITextField`with 。`textfield.secureTextEntry = YES`

我找不到`UITextField`在 OS X Cocoa 中导入的方法。无论如何，我认为这是不可能的，因为`NSTextField`and`UITextField`来自两个不同的框架。

`NSSecureTextField`在 OS X Cocoa 中，最后一个字符不会在一定时间内保持可见，而且我找不到可以设置的实例或类属性来改变这种行为。

我尝试推出自己的实现，从 开始`NSTextField`并触发事件`keyUp:`，但我遇到了极端情况的问题。我目前的方法是将存储的文本更改`NSTextField`为隐藏字符（除了最后一个字符之外的所有字符，持续一段时间等）。然而，使用这种技术，当用户选择 7 个字符密码中的第 2 到第 5 个字符并删除它们时会发生什么。那么我怎样才能确定哪些隐藏字符被删除，以便我可以检索正确输入的密码？

所以我认为如果我需要推出自己的实现，我不需要更改存储在 中的实际文本`NSTextField`，而是更改视图在屏幕上的显示方式。但是我目前找不到这样做的方法。在这里的帮助将不胜感激。

我还要说我有强烈的偏见不推出自己的实现。如果有人知道我可以利用以前的工作或简单地导入`UITextField`OS X Cocoa 来解决这个问题的方法，我会欢迎（并强烈支持）这些解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T23:22:45.460

使用`NSTextField`，我无法成功地将文本的绘制与存储的文本分开。我尝试自定义`NSFormatter`并简要了解自定义字段编辑器。我得到的最接近的是通过自定义`drawInteriorWithFrame:inView:`. 这让我可以控制绘图，但仅限于字段编辑器无法控制对象时（即，仅当不编辑对象中的文本时）。对于我正在尝试做的事情，所有方法似乎都过于复杂。

使用`NSTextView`我能够让它工作。方法是将绘制的字符与存储的字符分开，并将实际的文本存储在对象中。绘图方法在需要隐藏文本时简单地使用星号，这不会影响存储在对象中的文本值。

这是一些使用这种方法的代码。它在 Clozure Common Lisp 中实现，通过 Clozure 的 Objective C 桥与 Cocoa 通信：

```
(defclass easygui::cocoa-password-entry-text-view (easygui::cocoa-text-view)
  ((pending-fun :accessor pending-fun :initform nil)
   (visible-char-time-secs :reader visible-char-time-secs :initform 1))
  (:metaclass ns:+ns-object))

(defclass easygui::cocoa-password-entry-layout-manager (ns:ns-layout-manager)
  ((last-char-vis-p :accessor last-char-vis-p :initform nil))
  (:metaclass ns:+ns-object))

(defclass password-entry-text-view (text-view)
  ()
  (:default-initargs :specifically 'easygui::cocoa-password-entry-text-view))

(objc:defmethod #/initWithFrame: ((self easygui::cocoa-password-entry-text-view) (frame #>NSRect))
  (unwind-protect (call-next-method frame)
    (#/replaceLayoutManager: (#/textContainer self)
     (#/init (#/alloc easygui::cocoa-password-entry-layout-manager)))
    (#/setFont: self
     (convert-font "Courier" 12))))

(objc:defmethod (#/drawGlyphsForGlyphRange:atPoint: :void) ((self easygui::cocoa-password-entry-layout-manager) (glyph-range #>NSRange) (at-point #>NSPoint))
  (let ((glyph-cnt (#/numberOfGlyphs self)))
    (let ((hide-until (if (last-char-vis-p self) (1- glyph-cnt) glyph-cnt)))
      (dotimes (i hide-until)
        (#/replaceGlyphAtIndex:withGlyph: self i 13))))
  (call-next-method glyph-range at-point))

(defmethod dialog-item-hidden-text ((view password-entry-text-view))
  (let ((text (dialog-item-text view)))
    (let ((layout-manager (#/layoutManager (cocoa-ref view))))
      (with-output-to-string (strm)
        (dotimes (i (1- (length text)))
          (format strm "*"))
        (format strm "~a" (if (last-char-vis-p layout-manager)
                            (char text (1- (length text)))
                            "*"))))))

(defmethod cursor-at-end-of-text-p ((cocoa-self easygui::cocoa-password-entry-text-view))
  (awhen (#/selectedRanges cocoa-self)
    (when (eq (#/count it) 1)
      (awhen (#/rangeValue (#/objectAtIndex: it 0))
        (let ((pos (ns:ns-range-location it)))
          (let ((length (ns:ns-range-length it)))
            (when (eq length 0)
              (when (eq pos (#/length (#/string cocoa-self)))
                t))))))))

(objc:defmethod (#/keyDown: :void) ((cocoa-self easygui::cocoa-password-entry-text-view) the-event)
  (call-next-method the-event)
  (labels ((get-keypress (the-event)
             (let* ((chars (#/characters the-event))
                    (str (objc:lisp-string-from-nsstring chars))
                    (char (char str 0)))
               char)))
    (handle-keypress-on-view
      (easygui::easygui-view-of cocoa-self)
      (get-keypress the-event))))

(defmethod handle-keypress-on-view ((view password-entry-text-view) keypress)
  (let ((cocoa-self (cocoa-ref view)))
    (cond ((or (eq keypress #\rubout)
               (not (cursor-at-end-of-text-p cocoa-self)))
           (setf (last-char-vis-p (#/layoutManager cocoa-self)) nil))
          (t
           (setf (last-char-vis-p (#/layoutManager cocoa-self)) t)
           (setf (pending-fun cocoa-self)
                 (alambda ()
                   (when (eq #'self (pending-fun cocoa-self))
                     (setf (last-char-vis-p (#/layoutManager cocoa-self)) nil)
                     (#/setNeedsDisplay: cocoa-self #$YES))))
           (schedule-for-event-process
             (pending-fun cocoa-self)
             (visible-char-time-secs cocoa-self)))))) 
```

# c++ - 用 do while 循环编写这个算法

> ID：15076670
> 
> 赞同：-3
> 
> 时间：2013-02-25T21:18:48.003
> 
> 标签：c++, algorithm, for-loop, do-while

我正在尝试解决[USACO 培训](http://ace.delos.com/usacogate)，“你的旅程在这里”问题可以用这个算法来解决：

```
#include <iostream>
#include <conio.h>
using namespace std;

int Calculated(char * calc_me);

int main() {
    char * comet_name = (char*)calloc(sizeof(char), 7);
    if (comet_name == NULL) {return 0;}
    char * group_name = (char*)calloc(sizeof(char), 7);
    if (group_name == NULL) {free(comet_name); return 0;}

cout << "Enter the name of the comet: ";
cin >> comet_name;
cout << "Enter the name of the group: ";
cin >> group_name;

if ((Calculated(comet_name) % 47) == (Calculated(group_name) % 47)) {
   cout << "GO";
}
else {
     cout << "STAY";
}
 free (group_name);
 free (comet_name);
 return 0;
}

int Calculated (char * calc_me) {
    int i;
    int total = 1;
    for (i = 0; i < 7; i++) {
        if (calc_me[i] == '0') {break;}
        total *= calc_me[i] - 64;
    }
    getch();
    return total;

} 
```

我试图用do-while循环更改for循环，这是我的代码，所以我用do-while替换了它，它不起作用，谁能告诉我我做错了哪一部分？

```
#include <iostream>
#include <conio.h>
using namespace std;

int Calculated(char * calc_me);

int main() {
    char * comet_name = (char*)calloc(sizeof(char), 7);
    if (comet_name == NULL) {return 0;}
    char * group_name = (char*)calloc(sizeof(char), 7);
    if (group_name == NULL) {free(comet_name); return 0;}

    cout << "Enter the name of the comet: ";
    cin >> comet_name;
    cout << "Enter the name of the group: ";
    cin >> group_name;

    if ((Calculated(comet_name) % 47) == (Calculated(group_name) % 47)) {
       cout << "GO";
    }
    else {
         cout << "STAY";
    }
     free (group_name);
     free (comet_name);
     return 0;
}

int Calculated (char * calc_me) {
    int i;
    int total = 0;
    do
    {
        total *= calc_me[i] - 64;

        i += 1;

    }while(i < 7);
    getch();
    return total;

} 
```

这是示例输入：COMETQ HVNGAT

```
GO 
```

ABSTAR USACO

```
STAY 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:39:48.400

```
if (calc_me[i] == '0') {break;} 
```

应该读

```
if (calc_me[i] == '\0') {break;} 
```

并且您的 do-while 版本中缺少该条件，以及`i`.

但主要问题是您将初始值`total`从 1 更改为 0：

```
 int total = 0; 
```

所以这条线

```
 total *= calc_me[i] - 64; 
```

不断将零乘以下一个值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:39:04.240

啊！！找到了！！

您已初始化`total to 0`. 因此，每次乘法都变为 0，因此您的函数始终返回 0。

将您的总变量初始化为`1`，它应该可以工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:20:28.970

在下面的代码片段中，您需要先`i`使用一个值进行初始化，然后才能执行`i += 1`. 您在 for 循环的 for 语句中执行此操作，同样您也需要为 do-while 循环执行此操作。

```
int i = 0;  // initialize to 0
int total = 0;
do
{
    total *= calc_me[i] - 64;

    i += 1;

}while(i < 7); 
```

# jquery - Bundle.cs 使用哪个版本的 JQuery

> ID：15076671
> 
> 赞同：3
> 
> 时间：2013-02-25T21:18:59.873
> 
> 标签：jquery, asp.net, asp.net-mvc

我正在使用 ASP.Net 4.0 捆绑功能。在我的 ~/Scripts 文件夹中，我有多个版本的 jquery-xxx 和 jquery-ui-yyy。xxx 版本是 1.4.4、1.6.4、1.8.3、1.9.1。

yyy 版本是 1.8.1、1.8.custom、1.9.2、1.10.0。

以下捆绑表中哪些有效？谢谢。

```
 public static void RegisterBundles(BundleCollection bundles)
    {
        #region JavaScript bundles
        bundles.Add(new ScriptBundle("~/bundles/jquery").Include(
            "~/Scripts/jquery-{version}.js",
            "~/Scripts/jquery-ui-{version}.js",
            "~/Scripts/jquery.unobtrusive*",
            "~/Scripts/jquery.validate*")); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:39:13.967

`{version}`将被替换为模式`(\d+(?:\.\d+){1,3})`，并且将包含与该正则表达式匹配的所有文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T19:51:04.503

正如 Slawomir 所说，它将包括所有版本。

如果你有

```
bundles.Add(new ScriptBundle("~/bundles/foo").Include(
            "~/Scripts/foo-{version}.js")); 
```

以及 /Scripts 中的以下文件

```
foo-1.js
foo-2.1.js
foo-32-1.100.js 
```

如果将以下内容添加到视图中：

您最终会呈现（在调试模式下）html：

```
//note that foo-1.js does not match
<script src="/Scripts/foo-2.1.js"></script>
<script src="/Scripts/foo-32.1.100.js"></script> 
```

这提供了一种无需重新编译即可升级脚本的简单方法，但正如 Slawomwir 所说，您最终将得到与该`(\d+(?:\.\d+){1,3})`正则表达式匹配的所有文件

# jquery - 我有一个下拉 jQuery 问题

> ID：15076673
> 
> 赞同：-1
> 
> 时间：2013-02-25T21:19:03.183
> 
> 标签：jquery, drop-down-menu, twitter-bootstrap

有一些问题让下拉菜单工作。任何人都知道我的错误是什么。如果我在 js fiddle 中使用相同的代码，它可以工作，但在我的网络链接上它不会。

```
<html>  
  <head>
   <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet" />    

    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.0/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  </head>
    <body>
      <div class="navbar">
        <div class='navbar-inner'>
            <ul class="nav">
                <li class="first "><a href="#=42">Hj</a></li>
                <li class="dir active "><a href="#=43">Engi</a><li class='dropdown'><a href='#' class='dropdown-toggle' data-toggle='dropdown'>Dropdown<b class='caret'></b></a><ul class='dropdown-menu'>
                    <li class="first "><a href="#=49">Reel</a></li>
                    <li class=""><a href="#=50">Test</a></li>
                    <li class="last"><a href="#=51">HP</a></li>
                </ul>
                </li>
                <li class="dir "><a href="#=44">Prodr</a><li class='dropdown'><a href='#' class='dropdown-toggle' data-toggle='dropdown'>Dropdown<b class='caret'></b></a><ul class='dropdown-menu'>
                    <li class="first "><a href="#=52">Filter</a></li>
                    <li class="last"><a href="#=53">SHS</a></li>
                </ul>
                </li>
                <li class=""><a href="#=45">IM</a></li>
                <li class="dir "><a href="#=46">Ut</a>
                <li class='dropdown'><a href='#' class='dropdown-toggle' data-toggle='dropdown'>Dropdown<b class='caret'></b></a><ul class='dropdown-menu'>
                    <li class="first "><a href="#=54">objek</a></li>
                    <li class=""><a href="#=55">HPU/Flush Unit</a></li>
                </ul>
                </li>
                <li class=""><a href="#=47">Park</a></li>
                <li class="last"><a href="#=48">nyh</a></li>
            </ul>
        </div>
    </div>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T21:22:11.360

你在 jQuery 之前包含了 bootstap JS。将这两行更改为如下所示：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.0/bootstrap.min.js"></script> 
```

此外，您的`<head>`元素应该在`<html>`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:23:43.073

在 twitter 引导之前包含 jQuery。Twitter 引导程序需要 jQuery。

# java - AChartEngine Y 轴自定义标签区域边距和图表值作为字符串？

> ID：15076674
> 
> 赞同：4
> 
> 时间：2013-02-25T21:19:06.940
> 
> 标签：java, android, achartengine

我创建了一个图表，显示测试期间回答的问题 (X) / 时间 (Y)。[您可以在此处](https://stackoverflow.com/questions/15070059/create-achartengine-timechart-using-time-in-y-axis)查看第一个问题以了解详细信息。

但现在我需要正确显示图表项目符号值，目前显示毫秒值，但我需要显示自定义 hh:mm:ss 值，就像我对 Y 轴标签所做的那样，并以某种方式自定义 Y 轴区域以正确显示完整值。下面是图表现在的样子的屏幕截图。

![图表问题/预计回答时间](../Images/fcbdad2e6e655cab55b2537bb96c93f4.png)

[编辑]

在丹的帮助下，我几乎得到了我想要的。这只是一个小问题。在下面的屏幕截图中查看图表值现在出现的位置。我从 AChartEngine 存储库更新到 1.1.0。addNotations 在 TimeSeries 对象上。我将代码复制粘贴到下面，将数据添加到我的 TimeSeries 实例。

```
myQuestionsTimeSeries.add(i, DateTimeHelper.getMillisFromTime(answer.getEstimatedAnswerTime()));
                xyMultipleSeriesRenderer.addYTextLabel(DateTimeHelper.getMillisFromTime(answer.getEstimatedAnswerTime()),
                        String.valueOf(answer.getEstimatedAnswerTime()));
                myQuestionsTimeSeries.addAnnotation(String.valueOf(answer.getEstimatedAnswerTime()), i,
                        DateTimeHelper.getMillisFromTime(answer.getEstimatedAnswerTime())); 
```

此图表的代码结果：

![我现在的图表](../Images/411e7a158c8c6f598d8db6f60d7430c8.png)

[编辑]

这基本上是整个班级：

```
private void initQuestionsTimeChart() {
        xyMultipleSeriesDataset = new XYMultipleSeriesDataset();
        xyMultipleSeriesRenderer = new XYMultipleSeriesRenderer();
        questionsTimeChart = ChartFactory.getLineChartView(getActivity(), xyMultipleSeriesDataset, xyMultipleSeriesRenderer);
        rootView.addView(questionsTimeChart);

        initSeriesData();
    }

    private void initSeriesData() {
        createMyQuestionsSeries();
        addSeriesAndRenderer(myQuestionsTimeSeries, myQuestionsRenderer);

        xyMultipleSeriesRenderer.setYTitle("Questions Time");
        xyMultipleSeriesRenderer.setXTitle("Questions Number");
        xyMultipleSeriesRenderer.setMarginsColor(Color.argb(0, 255, 255, 255));
        xyMultipleSeriesRenderer.setAxesColor(Color.BLACK);
        xyMultipleSeriesRenderer.setLabelsColor(Color.BLACK);
        xyMultipleSeriesRenderer.setXLabelsColor(Color.BLACK);
        xyMultipleSeriesRenderer.setYLabelsColor(0, Color.BLACK);
        xyMultipleSeriesRenderer.setAxisTitleTextSize(16);
        xyMultipleSeriesRenderer.setLabelsTextSize(15);
        xyMultipleSeriesRenderer.setYLabelsAlign(Paint.Align.RIGHT);
        xyMultipleSeriesRenderer.setSelectableBuffer(20);
        xyMultipleSeriesRenderer.setYLabels(0);
        xyMultipleSeriesRenderer.setMargins(new int[]{ 80, 80, 80, 80 });
    }

    private void addSeriesAndRenderer(XYSeries series, XYSeriesRenderer renderer) {
        xyMultipleSeriesDataset.addSeries(series);
        xyMultipleSeriesRenderer.addSeriesRenderer(renderer);
    }

    private void createMyQuestionsSeries() {
        myQuestionsTimeSeries = new TimeSeries("My Questions/Time");
        myQuestionsRenderer = new XYSeriesRenderer();
        myQuestionsRenderer.setColor(Color.BLUE);
        myQuestionsRenderer.setLineWidth(3f);
        myQuestionsRenderer.setPointStyle(PointStyle.CIRCLE);
        myQuestionsRenderer.setFillPoints(true);
        myQuestionsRenderer.setChartValuesSpacing(10f);
    }

    private void fillData() {
        int i = 0;
        for (Answer answer : getAnswers()) {
            i++;
            if (answer.getEstimatedAnswerTime() != null) {
                myQuestionsTimeSeries.add(i, DateTimeHelper.getMillisFromTime(answer.getEstimatedAnswerTime()));
                xyMultipleSeriesRenderer.addYTextLabel(DateTimeHelper.getMillisFromTime(answer.getEstimatedAnswerTime()),
                        String.valueOf(answer.getEstimatedAnswerTime()));
                myQuestionsTimeSeries.addAnnotation(String.valueOf(answer.getEstimatedAnswerTime()), i,
                        DateTimeHelper.getMillisFromTime(answer.getEstimatedAnswerTime()));
            }
        }
    } 
```

先感谢您！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T10:42:36.190

首先，隐藏图表值：

```
renderer.setDisplayChartValues(false); 
```

然后，为每个图表值添加注释：

```
renderer.addAnnotation("text", x, y); 
```

要使 Y 轴标签可见，只需将它们对齐到 LEFT：

```
renderer.setYLabelsAlign(Align.LEFT); 
```

或者您可以增加边距：

```
renderer.setMargins(margins); 
```

[确保您使用的是此处](https://repository-achartengine.forge.cloudbees.com/snapshot/org/achartengine/achartengine/1.1.0/)提供的最新 ACE 版本。

# c# - 文件已在使用 FileAccess C#

> ID：15076681
> 
> 赞同：1
> 
> 时间：2013-02-25T21:19:32.213
> 
> 标签：c#, filestream

```
public void WriteListToFile(Lists lists, string filePath)
    {
        FileStream outFile;
        BinaryFormatter bFormatter = new BinaryFormatter();

        // Ppen file for output
        outFile = new FileStream(filePath, FileMode.Create, FileAccess.Write);

        // Output object to file via serialization
        bFormatter.Serialize(outFile, lists);

        // Close file
        outFile.Close();
    } 
```

每当我尝试将数据输出到`.dat`文件时，我都会收到一条错误消息，指出该文件已在使用中。我该如何解决？

EDT：原来它不允许我保存到一个空文件，所以我创建了一个新的 void 来输入数据，然后它允许我保存文件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T21:22:15.350

直接的答案是“释放某个进程对文件的锁定”。

某些东西已经打开了文件。您需要查看可能访问该文件的代码和其他进程以找到根本原因。

我注意到您没有使用`using`语句。如果在您显示的代码块中引发异常，则`outputFile.Close()`永远不会执行，使文件保持打开状态。

尝试重写您的代码（以及任何类似的代码），例如

```
public void WriteListToFile(Lists lists, string filePath)
{    
    BinaryFormatter bFormatter = new BinaryFormatter();

    // Ppen file for output
    using (FileStream outFile = new FileStream(filePath, FileMode.Create, FileAccess.Write))
    {

        // Output object to file via serialization
        bFormatter.Serialize(outFile, lists);

        // Close file
        outFile.Close();
    }
} 
```

`using`关键字是

```
var outFile = new FileStream(filePath, FileMode.Create, FileAccess.Write);
try 
{
    // Do stuff with outFile
}
finally 
{
    outFile.Dispose();
} 
```

并确保`outFile`无论是否抛出异常都已处理（也将其关闭）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:21:50.797

你可以试试这个：

```
outFile.Dispose(); 
```

# java - 递归装箱算法不会扩展

> ID：15076682
> 
> 赞同：2
> 
> 时间：2013-02-25T21:19:34.010
> 
> 标签：java, algorithm, data-structures, recursion, stack-overflow

我完成了一项作业，其规格要求：

*   递归解决方案
*   容量 <= 100
*   值.长度 <= 25
*   只有参数是容量和索引
*   允许重复值

我花了几个小时阅读垃圾箱包装和背包问题。

以下工作但效率很低。我得到一个包含十几个值的堆栈溢出。非常低效，无法扩展，我不知道从哪里开始。

建议将不胜感激。是的，这是一项学术任务，但我宁愿解决问题，也不愿放弃并获得 B。

```
public void calculateCombinations(int capacity, int index) {
    count++;
    if(index < values.length) {
        if(values[index] <= capacity) {
            currentSolution.addLast(index);
            if(values[index] == capacity)
                flushSolution();
            else
                capacity -= values[index];
        }
        calculateCombinations(capacity, index + 1);
    } else
        if(currentSolution.peekLast() != null)
            calculateCombinations(capacity + values[currentSolution.peekLast()], currentSolution.removeLast() + 1);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T22:45:16.500

装箱问题的关键启发式方法是始终首先包装最笨拙（最大）的物品。例如，如果您要打包一辆移动的卡车，您首先将钢琴放入，然后再考虑较小的东西。这个想法是最大限度地提高您的灵活性。

另一种技术是我所说的“包围”。假设您正在寻找两个总和为 50 的数字，并且您有一个类似 { 2, 3, 9, 18, 24, 29, 37, 45 } 的列表。您不必检查每个组合，因为您不能有两个大于 25 或小于 25 的值。您只需检查列表两边的数字，即 45+2、45+3、45+9、STOP、下一个数字，37+2、37+3 等。这是包围。通过创建一组规则并将平均值括起来，您只需要检查一小部分可能的组合。

装箱是一个搜索问题，因为在许多情况下，因为您无法枚举所有可能的组合。这就像国际象棋；你无法计算每一个可能的移动，你只是想找到一个好的移动。

# java - 在 java 中，读取 url 并将其拆分为各个部分的最佳方法是什么？

> ID：15076684
> 
> 赞同：11
> 
> 时间：2013-02-25T21:19:59.420
> 
> 标签：java, string, url, split

首先，我知道还有其他类似的帖子，但是由于我使用的是 URL，而且我并不总是确定我的分隔符是什么，所以我觉得我可以发布我的问题。我的任务是制作一个粗糙的网络浏览器。我有一个文本字段，用户可以在其中输入所需的 URL。然后，我显然必须导航到该网页。这是我老师的一个例子，我的代码看起来有点像。这是我应该发送到我的套接字的代码。示例网址：[http ://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol](http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol)

```
 GET /wiki/Hypertext_Transfer_Protocol HTTP/1.1\n
Host: en.wikipedia.org\n
\n 
```

所以我的问题是：我将在 url 中读取一个完整的字符串，那么如何仅提取“en.wikipedia.org”部分和扩展名？我试过这个作为测试：

```
 String url = "http://en.wikipedia.org/wiki/Hypertext Transfer Protocol";
    String done = " ";
    String[] hope = url.split(".org");

    for ( int i = 0; i < hope.length; i++)
    {
        done = done + hope[i];
    }
    System.out.println(done); 
```

这只是打印出没有“.org”的 URL。我认为我在正确的轨道上。我只是不确定。另外，我知道网站可以有不同的结尾（.org、.com、.edu 等），所以我假设我必须有一些 if 语句来补偿可能的不同结尾。基本上，我如何将 url 分成我需要的两个部分？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-02-25T21:23:12.510

[URL](http://docs.oracle.com/javase/7/docs/api/java/net/URL.html)类几乎可以做到这一点，请查看[教程](http://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html)。例如，给定这个 URL：

```
http://example.com:80/docs/books/tutorial/index.html?name=networking#DOWNLOADING 
```

这是您可以期望获得的信息类型：

```
protocol = http
authority = example.com:80
host = example.com
port = 80
path = /docs/books/tutorial/index.html
query = name=networking
filename = /docs/books/tutorial/index.html?name=networking
ref = DOWNLOADING 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:23:25.867

这是您应该如何拆分 URL 部分：[http ://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html](http://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-11-06T14:43:00.010

即使[URL](https://docs.oracle.com/javase/8/docs/api/java/net/URL.html)类的答案很好，这里还有另一种使用 REGEXP 将 URL 拆分为组件的方法：

```
"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"
      ||            |  |          |       |   |        | |
      12 - scheme   |  |          |       |   |        | |
                    3  4 - authority, includes hostname/ip and port number.
                                  5 - path|   |        | |
                                          6   7 - query| |
                                                       8 9 - fragment 
```

您可以将它与[Pattern](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html)类一起使用：

```
var regex = "^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?";
var pattern = Pattern.compile(REGEX);
var matcher = pattern.matcher("http://example.com:80/docs/books/tutorial/index.html?name=networking#DOWNLOADING");
if (matcher.matches()) {
  System.out.println("scheme: " + matcher.group(2));
  System.out.println("authority: " + matcher.group(4));
  System.out.println("path: " + matcher.group(5));
  System.out.println("query: " + matcher.group(7));
  System.out.println("fragment: " + matcher.group(9));
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T21:26:22.180

而不是`url.split(".org");`尝试`url.split("/");`遍历您的字符串数组。

或者您可以查看正则表达式。[这是一个很好的例子](https://stackoverflow.com/questions/163360/regular-expresion-to-match-urls-in-java)。

祝你功课好运。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-02-07T10:17:39.567

您可以使用 String 类`split()`并将结果存储到 String 数组中，然后迭代数组并将变量和值存储到 Map 中。

```
public class URLSPlit {
    public static Map<String,String> splitString(String s) {
        String[] split = s.split("[= & ?]+");
        int length = split.length;
        Map<String, String> maps = new HashMap<>();

        for (int i=0; i<length; i+=2){
              maps.put(split[i], split[i+1]);
        }

        return maps;
    }

    public static void main(String[] args) {
        String word = "q=java+online+compiler&rlz=1C1GCEA_enIN816IN816&oq=java+online+compiler&aqs=chrome..69i57j69i60.18920j0j1&sourceid=chrome&ie=UTF-8?k1=v1";
        Map<String, String> newmap =  splitString(word);

        for(Map.Entry map: newmap.entrySet()){
            System.out.println(map.getKey()+"  =  "+map.getValue());
        }
    }
} 
```

# python - 带/不带参数的 Django 管理命令

> ID：15076689
> 
> 赞同：1
> 
> 时间：2013-02-25T21:20:22.863
> 
> 标签：python, django, args

是否可以在同一个管理命令类选项上使用或不使用 args 运行它。

喜欢 if args == "" （运行这个命令） else: （运行这个）？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:41:23.800

当然，只需检查传递给 handle 方法的“args”，如下所示：

```
from django.core.management.base import BaseCommand

class Command(BaseCommand):
    help = 'prints no args if there are no args'

    def handle(self, *args, **options):
        if len(args) == 0:
            print 'no args'
        else:
            for pkid in args:
                print pkid 
```

# python - 在 Django 中使用数据库按日期排序

> ID：15076691
> 
> 赞同：4
> 
> 时间：2013-02-25T21:20:37.107
> 
> 标签：python, django

我有以下model.py。

```
from django.db import models

class Address(models.Model):
    addr = models.CharField(max_length=150)

    def __unicode__(self):
        return u'%s' % (self.addr)

class Anniversary(models.Model):
    date = models.DateField()

    def __unicode__(self):
        return u'%s' % (self.date)

class Person(models.Model):
    name = models.CharField(max_length=50)
    birthday = models.DateField()
    anniversary = models.ForeignKey(Anniversary)
    address = models.ForeignKey(Address)

    def __unicode__(self):
        return u'%s %s %s %s' % (self.name, self.birthday, self.anniversary, self.address) 
```

我想将所有条目的内容打印到我的模板中。但按出生日期与当前日期排序。即最近的第一个，然后是名称。做这个的最好方式是什么。我应该先对其进行排序，然后将其附加到 list 或 dict 吗？

任何指针都会很棒。

谢谢，

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-25T21:30:05.863

您可以在模型的元类中添加默认排序，例如

```
class Person(models.Model):
    # fields
    class Meta:
        ordering = ('anniversary__date',) 
```

然后在您的模板中它很简单：

```
<ul>
    {% for person in persons %}
        <li>{{ person.anniversary.date|date:"M d, Y" }} - {{ person.name }}</li>
    {% endfor %}
</ul> 
```

如果您需要在视图中进行自定义排序（根据请求对象过滤掉人员）：

```
def myview(request):
    context = dict(
        persons = Person.objects.exclude(person.id=request.user.id)\
                                .order_by('anniversary__date')
    )
    return render_to_response('app/template.html', context) 
```

Nb 在 order_by 参数之前添加减号会`order_by('-attr')`反转排序。

正如@DanielEriksson 提到的，如果您的情况不是假设的，那么您似乎应该简化事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T00:44:27.870

我想你正在寻找这个：

```
 persons = Person.objects.all().order_by(birthday ,anniversary) 
```

在您看来，您可以使用以下方法获取当前日期：

```
 import datetime 
          now = datetime.datetime.now() 
```

接着 ：

```
 persons = Person.objects.all().order_by(now, anniversary) 
```

希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T22:09:40.700

我想复杂性在于您需要将排序日期与当前日期进行比较，而不是简单地按日期排序。

如果您使用 Postgres 并且乐于坚持使用原始 SQL，则可能会使用它们的 datetime 函数，例如 age

[http://www.postgresql.org/docs/8.1/static/functions-datetime.html](http://www.postgresql.org/docs/8.1/static/functions-datetime.html)

否则，您需要选择出生日期/周年纪念日大于现在的位置。如果您重构周年纪念模型以将日、月和年存储在单独的字段中，则可能会更简单，这样您可以在过滤时忽略年份。

我最近在一个问题中发布了一些代码，这可能会给你一些提示——我需要返回最接近现在的事件。看：

[从 Django Manager 方法而不是查询集返回元组是不好的做法吗？](https://stackoverflow.com/questions/15246195/is-it-bad-practice-to-return-a-tuple-from-a-django-manager-method-rather-than-a)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-10T01:34:18.810

我个人喜欢避免在模型中排序，因为它更像是一个演示/视图类型的东西。我倾向于在 render_to_response 中使用 sorted 进行单值排序，或者使用 order_by 进行多值排序。在 return 语句中使用 sorted 可以让我拆分视图/模板之间的差异，因为 Django 视图并不完全是控制器。无论如何，这只是我的偏好。您还可以在模板中使用[dictsort](https://docs.djangoproject.com/en/dev/ref/templates/builtins/#dictsort)进行单值排序。

您已表明要使用多个值进行排序，首先按最近的出生日期，其次按姓名。为此，我将在视图中使用 order_by，然后注释我的 return 语句：

```
from django.shortcuts import render_to_response

def view_persons(request):

    persons = Person.objects.all().order_by('-birthday', 'name')

    return render_to_response(
        'view_persons.html',
        {
            'persons': persons,  # ordered by most recent birthday, then name
        },
        context_instance=RequestContext(request)
    ) 
```

在模板中，您只需执行以下操作：

```
{% if persons %}
  <table>
    <thead>
      <tr>
        <th>Birthday</th>
        <th>Name</th>
      </tr>
    </thead>
    <tbody>
  {% for person in persons %}
      <tr>
        <td>{{ person.birthday }}</td>
        <td>{{ person.name }}</td>
      </tr>
  {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>There are no people!</p>
{% endif %} 
```

# sql - 为什么我的 sql 注释解析 EReg 表达式无法编译？

> ID：15076692
> 
> 赞同：1
> 
> 时间：2013-02-25T21:20:37.940
> 
> 标签：sql, comments, haxe, neko

我有一个用 Haxe 编写的 sql 查询工具，我试图在代码中添加一些 sql 注释支持。目前，如果用户有任何评论（单行或多行），则服务器端的查询将失败。因此，我试图编写一个简单的方法，该方法采用用户输入的 sql 并用“”替换任何注释。这是方法

```
static function removeComments(snippet: SqlSnippet): SqlSnippet {

  var rComment: EReg = ~/(--[^\n]*)|(/\*[\w\W]*?(?=\*/)\*/)/;

  var resultSql = rComment.replace(snippet.sql, "");

  snippet.sql = resultSql;

  return snippet;

} 
```

我的问题不在于这种方法，但那个 neko 不会编译它。当我尝试编译此方法时，我收到此消息：

`src/skyview/SqlSnippetParser.hx:30: character 33 : Invalid character '\' [Finished in 0.2s with exit code 1]`

此消息所指的 '\' 是我试图用来转义第二组“（）”开头的 '*' 元字符的 '\'

有谁知道为什么 nako 不会在这个 EReg 中编译“/*”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:31:37.997

问题不是`\*`。它是`/`需要逃脱的。

尝试将您的 EReg 更改为`~/(--[^\n]*)|(\/\*[\w\W]*?(?=\*\/)\*\/)/`.

# javascript - Javascript 问题，需要重新执行操作

> ID：15076693
> 
> 赞同：0
> 
> 时间：2013-02-25T21:20:40.093
> 
> 标签：javascript

这是我的代码：

[http://jsfiddle.net/8ErDu/6/](http://jsfiddle.net/8ErDu/6/)

它获取值并根据所选值更改这些值的 CSS。

用户选择：开始 2 结束 4

2-3-4 得到：css("背景色","红色");

虽然其余部分保持绿色，但我也希望能够像这样工作：

用户选择：开始 4 结束 2

4-1-2 得到：css("背景色","红色");

我有点迷路了，因为我不知道该怎么做，欢迎任何建议。

JSfiddle 在这里发布到：

html:

```
<form id="priceCalcForm">

    <p>from color</p>
    <select name="from_color" id="from_color" 
        style="width:25%;text-align:center;font-weight:bold;" 
        onchange="placeColor()"
    >     
        <option value="" name="" selected="selected">....</option>
        <option value="tp1" name="">01</option>  
        <option value="tp2" name="">02</option>  
        <option value="tp3" name="">03</option>  
        <option value="tp4" name="">04</option>
    </select>

    <p>to color</p>
    <select name="to_color" id="to_color" 
        style="width:25%; text-align:center; font-weight:bold;" 
        onchange="placeColor()"
    >
        <option value="" name="" selected="selected">....</option>
        <option value="te1" name="">01</option>  
        <option value="te2" name="">02</option>  
        <option value="te3" name="">03</option>  
        <option value="te4" name="">04</option>
    </select>

    <table id="timer_table" cols="24" width="100%" 
        style="text-align:center; background-color:#80A74C"
    >
        <tr style="border-style:outset; border-color:green;">
            <td id="color1">01</td>
            <td id="color2">02</td>
            <td id="color3">03</td>
            <td id="color4">04</td>
        </tr>

        <div id="totalPrice"></div>
    </table>

</form> 
```

JS：

```
var picked_time = {};
for(var i = 1; i <= 23; i++ ) { // loop the rest
    picked_time['tp'+i] = i;
}

var end_time = {}; 
for(var i = 1; i <= 23; i++ ) { // loop the rest
    end_time['te'+i] = i;
}

function placeColor() {

    var evF = 0; // end values 0
    var evT = 0; // end values 0

    var theForm = document.forms["priceCalcForm"]; // target form

    var from_color = theForm.elements["from_color"]; // target from level <select>
    var to_color = theForm.elements["to_color"]; // target from level <select>

    evF = picked_time[from_color.value]; // get the value etc from there
    evT = end_time[to_color.value]; // get the value etc from there

    $( 'td[id^="color"]' ).css( "background-color", "" );

    if (evF <= evT) {
        for( var index = evF - 1; index < evT; index++ ) {
            $( "#color" + ( index + 1 ) ).css( "background-color", "red" ); 
        };
    };
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:33:07.463

试试这个：

```
if (evF > 0 && evT > 0) {
    for( var index = evF; index != evT; index = (index+1) %5 ) {
        $( "#color"+( index ) ).css( "background-color","red" ); 
    };
    $( "#color"+( index ) ).css( "background-color","red" );
}; 
```

[小提琴](http://jsfiddle.net/8ErDu/7/)

您拥有的单元格数量+ 1在哪里`5`。最好不要像那样对其进行硬编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:32:57.997

更改这部分代码，以手动处理索引变量。

```
for( var index = evF - 1; index < evT; index++ ) {
  $( "#color"+( index + 1 ) ).css( "background-color","red" ); 
}; 
```

例子：

```
var index;
var i = 0;
while(i < Math.abs(evT-evf)) {
  index = evf+i;
  if (index > MAX_INDEX) {
    index -= MAX_INDEX;
  }
  i++;
} 
```

# angularjs - 如何在 $resource 的自定义操作中定义路径部分？

> ID：15076696
> 
> 赞同：7
> 
> 时间：2013-02-25T21:20:53.137
> 
> 标签：angularjs

是否可以指定自定义 $resource 操作的路径？

我想写一些类似的东西：

```
angular.module('MyServices', [ 'ngResource' ]).factory('User', [ '$resource', ($resource)->
  $resource('/users', {}, {
    names: { path: '/names', method: 'GET', isArray: true }
  })
]) 
```

所以我可以像这样使用它：

```
User.names() # GET /users/names 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T21:44:54.687

当前版本的 AngularJS 不直接支持它，但有一个[拉取请求](https://github.com/angular/angular.js/pull/2054)打开，因此有可能在不久的将来支持它。

到那时你有3个选择：

1）在路径中使用变量：

```
$resource('/users/:names', {}, {
    names: { params: {names: 'names'}, method: 'GET', isArray: true }
  }) 
```

2) 改用$ [http 服务](http://docs.angularjs.org/api/ng.%24http)

3) 在 AngularJS 的猴子补丁版本上尝试上述 PR 中的代码

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-25T21:50:45.310

检查此[工作 Plunker](http://embed.plnkr.co/83WiADg9JKJjzLpGHarH/preview)中的日志（摘录）：

```
var app = angular.module('plunker', ['ngResource'])
  .controller('MyController', 
    function($scope, $resource) {
      var User = $resource(
        '/users/:action',
        {},
        {
          names:{
            method:'GET', 
            params:{action:'names'}
          }
        }
      );

      $scope.users = User.get();
      $scope.names = User.names();
    }  
  ); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-09-09T20:25:22.150

一个不太雄辩但同样有效的方法：

```
var resourceUrl =  '/users';
return $resource(resourceUrl, {}, {
    names: { path: resourceUrl + '/names', method: 'GET', isArray: true }
}) 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-02-10T15:28:16.017

从 Angular 文档：[https](https://docs.angularjs.org/api/ngResource/service/) ://docs.angularjs.org/api/ngResource/service/ $resource 您可以为您的自定义操作指定“url”，这将覆盖前一个操作。

```
angular.module('MyServices', ['ngResource']).factory('User', ['$resource', ($resource)-> $resource('/users', {}, {
names: { url: '/users/names', method: 'GET', isArray: true }
})]) 
```

它在我的项目中使用 angular 1.3.10 ！

# javascript - ext js 4：递归过多

> ID：15076698
> 
> 赞同：0
> 
> 时间：2013-02-25T21:21:14.893
> 
> 标签：javascript, extjs, recursion

我在一个选项卡中有两个可折叠面板，一个用于“搜索”，另一个用于“结果”。从结果面板中，我打开一个模型窗口进行编辑。

以下是我的工作流程

*   在搜索面板中，搜索
*   返回搜索结果时，折叠搜索面板并展开结果面板并在网格中显示结果
*   当用户单击网格单元格时，将打开新窗口进行编辑
*   提交编辑时，窗口关闭。
*   一个名为“返回搜索”的按钮可以将您带回“搜索”面板，并可以继续使用新条件进行搜索

问题是，当您第二次单击 [Search] 时，没有任何反应，FB 显示“递归过多”

找不到确切的问题。看起来有些事件陷入了循环。

有人可以给出任何提示来解决这个问题吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-07T20:02:23.473

我在使用 Ext.tree.Panel 组件时遇到了这个错误。问题是**树中的每个项目都必须具有唯一的 id**。如果两个 id 匹配，浏览器在打开树时挂起并写道：ff: too much recursion, chrome: Maximum call stack size exceeded

# powershell - Powershell脚本忽略过滤器

> ID：15076702
> 
> 赞同：0
> 
> 时间：2013-02-25T21:21:24.467
> 
> 标签：powershell, active-directory

我正在使用以下单线来获取未禁用且其帐户过期的用户列表，其中包含一些属性：

```
Get-ADUser -Filter {(Enabled -eq $true) -and (accountExpires -ne 0)} -Properties name, mail, c, physicalDeliveryOfficeName, telephoneNumber, manager, title, description | select-object name, mail, c, physicalDeliveryOfficeName, telephoneNumber, manager, title, description 
```

它有效，除了它抓住我域中的每个人，而不仅仅是那些帐户过期的人。为什么忽略脚本的 accountExpires 部分？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:10:19.800

错误结果的原因是您的错误假设，即每个未到期帐户的`accountExpires`属性值为 0。在我仅适用于管理员的测试中。其他所有帐户都在`[int64]::MaxValue`那里-因此您需要将其包含在过滤器中：

```
$Max = [int64]::MaxValue
Get-ADUser -Filter {
    (Enabled -eq $true) -and 
    (accountExpires -ne 0) -and 
    (accountExpires -ne $Max)
} 
```

# vb.net - 在表单中组织代码

> ID：15076703
> 
> 赞同：0
> 
> 时间：2013-02-25T21:21:29.980
> 
> 标签：vb.net, forms, organized

我的主表单在选项卡控件上有四个选项卡。每个选项卡包含大约 1000-2000 行代码，我想让它更整洁。

这会涉及模块吗？例如，我想将 1 个选项卡的代码存储在模块或类中......（此处缺少术语）。我最终会得到 4 个包含 4 个选项卡代码的文件，然后我可以简单地包含它们......

是否不鼓励这样做？也许在访问某些变量或函数时会产生问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T17:54:40.413

我发现你可以使用

```
#Region "NameOfTheRegion"
#End Region 
```

效果很好，我接受了 Steven Doggart 的建议，并没有将它们分成不同的文件。相反，我使用该代码按区域将它们分开。现在处理起来容易多了。

# google-maps - 将 MarkerClusterer 实现到 Google Maps API

> ID：15076706
> 
> 赞同：0
> 
> 时间：2013-02-25T21:21:46.427
> 
> 标签：google-maps, google-maps-api-3, markerclusterer

我知道这在之前已经被介绍过很多次了，它只是一个简单的调整来让它工作，但这让它变得更加令人沮丧。

我是 Google Maps API V3 和整个 Javascript 的新手。我已经设法制作了一张带有标记的地图，但我想实现标记聚类器功能。

我的代码如下：

```
<script type="text/javascript">
 var markers = [
['Wathegar',  58.443420, -3.247061, '/Projects/Wathegar/', '/images/MapsIcons/operational.png'],
['Wathegar 2',  58.436726, -3.216505, '/Projects/Wathegar_2/', '/images/MapsIcons/consented.png'],
['Sibmister',  58.570869,  -3.429623, '/Projects/Sibmister/', '/images/MapsIcons/planning.png'],
['Humbleburn',  54.851982,  -1.651425, '/Projects/Humbleburn/', '/images/MapsIcons/planning.png'],
['Achlachan',  58.449348, -3.452797, '/Projects/Achlachan/', '/images/MapsIcons/pre-planning.png'],
['Bonwick',   53.955025,  -0.227451, '/Projects/Bonwick/', '/images/MapsIcons/pre-planning.png'],
['Garton',    54.033081,  -0.494127, '/Projects/Garton/', '/images/MapsIcons/pre-planning.png'],
['Hill of Lybster',  58.603081,   -3.679004, '/Projects/Hill-of-Lybster/', '/images/MapsIcons/planning.png'],
['Moota',   54.710442,    -3.331947, '/Projects/Moota/', '/images/MapsIcons/pre-planning.png'],
['Sherburn Stone',  54.770432,   -1.4593797, '/Projects/Sherburn-Stone/', '/images/MapsIcons/pre-planning.png'],
['Spring Brook',  53.498360,    -1.624646, '/Projects/Spring_Brook/', '/images/MapsIcons/pre-planning.png'],
['Sunnyside',   55.387691,  -3.949585, '/Projects/Sunnyside/', '/images/MapsIcons/pre-planning.png'],
['Thacksons Well',  52.955578,   -0.759824, '/Projects/Thacksons_Well/', '/images/MapsIcons/pre-planning.png'],
];
function initializeMaps() {
var latlng = new google.maps.LatLng( 56.2, -2,5);
var myOptions = {
    zoom: 6,
    center:latlng,
    mapTypeId: google.maps.MapTypeId.HYBRID,
    mapTypeControl: false,
    panControl: false,
    zoomControl: true,
  zoomControlOptions: {
style: google.maps.ZoomControlStyle.SMALL
  },
    streetViewControl: false,
};
var map = new google.maps.Map(document.getElementById("map_canvas"),myOptions);
var infowindow = new google.maps.InfoWindow(), marker, i;
for (i = 0; i < markers.length; i++) {  
    marker = new google.maps.Marker({
        position: new google.maps.LatLng(markers[i][1], markers[i][2]),
        map: map,
        url:markers[i][3],
        icon:markers[i][4]
});
google.maps.event.addListener(marker, 'click', function() {
window.location.href = this.url;
});
}
}
</script> 
```

我已经尝试以[本示例](http://googlegeodevelopers.blogspot.co.uk/2009/04/markerclusterer-solution-to-too-many.html)中使用的格式以及其他一些博客来重建它，但我对 JS 的理解不够好，无法知道我需要做什么。

任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T23:02:31.923

JSON 的格式没问题，对 MarkerClusterer 没有任何影响。

您缺少的是创建 MarkerClusterer 的实例并将标记添加到此实例：

```
var mc = new MarkerClusterer(map),//MarkerClusterer-instance
    marker, i;
for (i = 0; i < markers.length; i++) {  
    marker = new google.maps.Marker({
        position: new google.maps.LatLng(markers[i][1], markers[i][2]),
        map: map,
        url:markers[i][3],
       icon:markers[i][4]
});

google.maps.event.addListener(marker, 'click', function() {
 window.location.href = this.url;
});
mc.addMarker(marker);//add the marker to the MarkerClusterer
} 
```

**请注意：**链接页面使用 Maps-API-V2 的 MarkerClusterer，V3 使用此更新版本：http: [//google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer_compiled .js](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer_compiled.js)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T17:28:49.270

您还可以一次将所有标记推送到 MarkerClusterer

```
var marker, i;
var markersArray = [];
for (i = 0; i < markers.length; i++) {  
    marker = new google.maps.Marker({
      position: new google.maps.LatLng(markers[i][1], markers[i][2]),
      map: map,
      url:markers[i][3],
      icon:markers[i][4]
    });

   google.maps.event.addListener(marker, 'click', function() {
    window.location.href = this.url;
   });
   markersArray.push(marker);

}
var mc = new MarkerClusterer(map,markersArray),//MarkerClusterer-instance which add all markers to the MarkerClusterer 
```

# html - youtube iframe api- 声音仅在 android 上播放

> ID：15076708
> 
> 赞同：2
> 
> 时间：2013-02-25T21:21:50.117
> 
> 标签：html, video, youtube

我正在使用基于 Web 的 html5 移动应用程序构建器 (tiggzi)。我正在使用 youtube iframe api。当我在我的 android 设备上安装我的应用程序时，嵌入式视频会很好地显示占位符图像。在我的带有 android 4.2.2 的 nexus 7 上，如果我点击播放，我会听到声音但看不到视频（黑色）。如果我点击全屏，我会看到视频播放正常。在我的 android 4.0.4 仿生手机上，我看到了视频占位符图像，但播放只是显示黑色并且全屏没有响应（最终应用程序崩溃）。在我的台式机上测试我的 chrome 视频中的应用程序可以正常播放。

我的html： `<iframe class="youtube-player" type="text/html" width="640" height="385" src="http://www.youtube.com/embed/u1zgFlCw8Aw" frameborder="0"> </iframe>`

问题是，如何让视频在嵌入到 android 2+ 和 iphone/ipad 的 html5 移动应用程序中正确播放？我认为 iframe api 可以工作，但它仍然会退回到 flash，这似乎是我的问题。

# javascript - 调用外部脚本和.load jquery 冲突

> ID：15076709
> 
> 赞同：1
> 
> 时间：2013-02-25T21:21:52.477
> 
> 标签：javascript, jquery, document-ready

我很确定这是另一个 DOH！*facepalm*问题，但作为设计师而不是程序员，我需要一些帮助才能正确解决问题。

我拥有的是一个通过 jQuery .load 调用本地 .html 文件的索引文件。就像这样：（一些选项卡功能在这里不相关 - 因此链接目标调用）

```
<a href="#lightbox">Lightbox</a></li>

<div id=lightbox">
   <div class="load">
        <script type="text/javascript">
            $('.load').load('examples/lightbox.html');
        </script>
   </div>
</div> 
```

我还有一个外部 .js 文件，其中包含许多处理一些灯箱等功能的函数。标准`<script src="js/typography.js" type="text/javascript"></script>` 包含：

```
$(document).ready(function(){
    $(".open-lightbox").on("click", function(){
        $('.lightbox').css('display','block');
    });
    $('.close-lightbox').click(function(){
        $('.lightbox').css('display','none');
    });
}); 
```

我的问题是，如果外部调用的 .html 文件有任何依赖于 .js 文件的元素，即。灯箱弹出它不起作用。

就像是 ：

```
<a href="#" class="open-lightbox">LightBox Link</a>

<div class="lightbox">
   lightbox content
   <a href="#" class="close-lightbox">Close</a>
</div> 
```

如果我将 html 代码移动到索引页面而不是`.load`，没问题，如果我将 JS 移动为内联`<script>...</script>`而不是外部调用它，则相同。在这两种情况下都可以正常工作。

我的蜘蛛侠感觉告诉我，这与我的功能有关，而`.load`不是按照我需要的顺序执行，但我的 javascript 复制/粘贴技能只能做到这一点。

谁能告诉我是否可以使这种组合起作用？我真的很感激。

编辑

* * *

也许我解释得不好，所以让我尝试发布一个更好的例子。如果我的索引代码如下，一切正常：我的灯箱按预期弹出。

```
<li><a href="#thistabid">Link to open Tab Content</a></li>

<div id="thistabid">
    <--Tab Content below-->
        <div class="somehtmlpage-load">
            <a href="#" class="open-lightbox">LightBox Link</a>

            <div class="lightbox">
                lightbox content
                <a href="#" class="close-lightbox">Close</a>
            </div>
        </div>
    <--End Tab Content-->   
</div> 
```

单击该选项卡时，会显示“thisistabid”中的内容。无论内容是什么。

现在如果我这样做：

```
<li><a href="#thistabid">Link to open Tab Content</a></li>

<div id="thistabid">
    <--Tab Content below-->
        <div class="somehtmlpage-load">
            <script type="text/javascript">
                $('.somehtmlpage-load').load('examples/lightbox.html');
            </script>
        </div>
    <--End Tab Content-->   
</div> 
```

灯箱不工作。lightbox.html 的内容是

```
<a href="#" class="open-lightbox">LightBox Link</a>

<div class="lightbox">
    lightbox content
    <a href="#" class="close-lightbox">Close</a>
</div> 
```

与第一个示例中的 html 相同，一切正常。唯一的区别是 jQuery 加载而不是硬编码。

我所说的“如果外部调用的 .html 文件有任何依赖于 .js 文件的元素，即灯箱弹出窗口”的意思是，如果 html 是外部调用文件的一部分，则灯箱功能不起作用。如果它是硬编码的，它会按预期弹出。

乍一看，.on 似乎应该是解决方案，但最有可能我的实现是不合时宜的：/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T22:41:43.840

“on”或“live”功能需要通过页面上存在的元素来应用。通常使用实际元素的某些父级。您能否在以下几行中尝试正确引用页面上的元素：

```
<li><a href="#thistabid">Link to open Tab Content</a></li>
<div id="thistabid">
  <--Tab Content below-->
  <div class="somehtmlpage-load">
       <!--leave tab empty for now -->          
   </div>
   <--End Tab Content-->   
</div>

<script>
(function(){
  $('.somehtmlpage-load').load('examples/lightbox.html');

  //live or on needs to be applied to an element that exists on th page
  $('#thistabid').on('click', '.open-lightbox', function(){
     $('.lightbox').css('display','block');
  });

  $('#thistabid').on('click', '.close-lightbox', function(){
     $('.lightbox').css('display','none');
  });
})();
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:40:21.753

您的 load() 和准备好的文档之间似乎存在竞争条件。

要解决这个问题，您需要：

*   在附加点击事件之前等待 load() 完成
*   或将单击附加到您的 load() 步骤的容器并使用事件委托。

有关如何使用委派的更多信息，请参阅[此页面](http://api.jquery.com/delegate/)和[其他页面。](http://api.jquery.com/on/)`on()`

代码如下所示：

```
$(".somehtmlpage-load").on("click", ".open-lightbox", function(){
 $('.lightbox').css('display','block');
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T16:58:57.703

使用 SSI 解决了我的问题。我试图让所有本地驱动器都友好，但它似乎造成的问题比预期的要多。

选择你最喜欢的开发环境......我也没有遇到任何冲突。

平均售价 -`<!--#include file = "examples/lightbox.html" -->`

PHP - `<?php include 'examples/lightbox.html';?>`

以防万一其他人遇到类似的问题。

# c++ - C++ 从 std::vector 的一些值创建一个新数组？

> ID：15076710
> 
> 赞同：0
> 
> 时间：2013-02-25T21:21:55.350
> 
> 标签：c++

**我知道我在这里做的事情是非常错误的：**

```
void Example( void )
{
    // DECLARE LOCAL VARIABLES
    ::UINT nPosition = 5;
    ::UINT nLength = 5;
    std::vector< ::UINT >vn_VectorA;
    ::UINT *an_ArrayA = new ::UINT[ nLength ];

    // FILL vn_VectorA WITH DECIMAL VALUE OF "HelloWorld!!!"
    // I KNOW THIS IS AN UGLY WAY OF DOING IT. BUT FOR DEMONSTRATION PURPOSES,
    // I CAN CARELESS.
    vn_VectorA.push_back( 72 );     // H
    vn_VectorA.push_back( 101 );    // e
    vn_VectorA.push_back( 108 );    // l
    vn_VectorA.push_back( 108 );    // l
    vn_VectorA.push_back( 111 );    // o
    vn_VectorA.push_back( 87 );     // W
    vn_VectorA.push_back( 111 );    // o
    vn_VectorA.push_back( 114 );    // r
    vn_VectorA.push_back( 108 );    // l
    vn_VectorA.push_back( 100 );    // d
    vn_VectorA.push_back( 33 );     // !
    vn_VectorA.push_back( 33 );     // !
    vn_VectorA.push_back( 33 );     // !

    // Copy the desire values of vn_VectorA to an_ArrayA
    for( ::UINT nCopyIndex = nPosition, nArrayAIndex = 0; nArrayAIndex != nLength; nArrayAIndex ++, nCopyIndex ++ )
    {
        an_ArrayA[ nArrayAIndex ] = vn_VectorA[ nCopyIndex ];
#ifdef DEBUG
        std::cout << an_ArrayA[ nArrayAIndex ] << ' ';
#endif // DEBUG
    }
}; 
```

**这就是我用来复制 std::vector 某些值的方法：**

```
 // Copy the desire values of vn_VectorA to an_ArrayA
    for( ::UINT nCopyIndex = nPosition, nArrayAIndex = 0; nArrayAIndex != nLength; nArrayAIndex ++, nCopyIndex ++ )
    {
        an_ArrayA[ nArrayAIndex ] = vn_VectorA[ nCopyIndex ];
#ifdef DEBUG
        std::cout << an_ArrayA[ nArrayAIndex ] << ' ';
#endif // DEBUG
    } 
```

运行代码后，应打印：87 111 114 108 100

那么，我该怎么做呢？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:28:23.567

为什么不使用 std::copy？

```
std::copy(&*vn_Vector.begin() + nPosition, &*vn_Vector.end(), an_ArrayA); 
```

请注意，我只是取消对 vn_Vector.end() 的引用，因此它具有与 &*vn_Vector.begin() + nPosition 相同的类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T23:23:03.183

这个答案主要基于@john.pavan 的回答。

```
#pragma region DOCUMENTATION ON: STD_COPY_VECTOR_TO_ARRAY
//////////////////////////////////////////////////////////////////////////////
// MACRO: STD_COPY_VECTOR_TO_ARRAY( Vector, Position, Length, Array )       //
//                                                                          //
// DESCRIPTION:                                                             //
// A defined macro that is created to copy selected values of std::vector   //
// an array. This defined macro takes 4 arguments.                          //
//                                                                          //
// ARGUMENTS:                                                               //
// Vector - The std::vector that contains the values that will be copied.   //
// Position - Position of the first value from Vector to be copied.         //
// Note: The first value of Position is marked by the value of 0 and not 1\. //
// Length - Amount of values to be copied from Vector.                      //
// Array - The Array that the values will be copied to.                     //
//                                                                          //
// TIPS:                                                                    //
// #1 - To copy all values within Vector, set the value of Position to 0    //
// and set the value of Length to the size of Vector (std::vector::size).   //
//////////////////////////////////////////////////////////////////////////////
#pragma endregion
#define STD_COPY_VECTOR_TO_ARRAY( Vector, Position, Length, Array )         \
                                  std::copy( Vector.begin( ) + Position,    \
                                  Vector.begin( ) + Position + Length ,     \
                                  Array ) 
```

# html - 前端网页性能测试

> ID：15076711
> 
> 赞同：5
> 
> 时间：2013-02-25T21:21:58.040
> 
> 标签：html, performance, dom, rendering, performance-testing

在从服务器返回初始正文后，我有兴趣测量和记录我们的页面加载性能。换句话说，一旦浏览器拥有了 HTML，当它完成加载页面上的所有图像、css 和 javascript 并完成渲染和执行第一个 jquery 就绪块时。

对此进行性能测试的最佳方法是什么？我读过的大部分内容都倾向于关注服务器响应和数据下载。但是，用户等待的大部分时间都是在此之后。有什么可以以自动化的方式帮助解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:24:03.530

Chrome 在开发者工具中有一个内置的分析器。`CTRL+SHIFT+I`在 PC 或`Cmd+option+J`Mac 上。

使用 jQuery，DOM 就绪将在窗口加载之前发生。所以像这样的东西应该告诉你 DOM 负载和资产负载之间的差异：

```
// When the DOM is loaded
$(function(){
    console.log('Start ' + new Date().getTime());
});

// When all the images are loaded
$(window).load(function(){
    console.log('End ' + new Date().getTime());
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-09-29T06:13:48.307

您可以尝试关注真实的用户监控服务，这些服务可以清楚地了解您的用户如何实时体验您的网站或 Web 应用程序。

*   [阿塔图斯](https://www.atatus.com/)
*   [新遗物](http://newrelic.com/)
*   [应用动态](https://www.appdynamics.com/)
*   [王国](https://www.pingdom.com/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-17T09:59:10.407

Web 性能优化 (WPO) 行业用于监控前端性能的首选工具是 WebPagetest。它为您提供了对网页全部负载的非常详细的分析，包括一个瀑布图，该图向您展示了 Web 浏览器如何加载每个资产以及您可能遇到的问题。您还可以获得关键浏览器事件、幻灯片和视频的屏幕截图。它确实是一个了不起的开源工具，它的首席开发人员受雇于谷歌。

[http://www.webpagetest.org](http://www.webpagetest.org)

WebPagetest 虽然不是一个自动化的解决方案。SpeedCurve 是一项在 WebPagetest 之上运行的商业服务，用于自动化测试过程并监控您的前端性能。它还将您的网站与竞争对手进行基准比较，并提醒您网站构建存在的问题。免责声明：我是 SpeedCurve 的创建者。

[http://speedcurve.com](http://speedcurve.com)

# c# - 使用 C# 将面板内容中的所有内容导出为 PDF

> ID：15076719
> 
> 赞同：-2
> 
> 时间：2013-02-25T21:22:15.880
> 
> 标签：c#, asp.net

我有一个面板，面板内有一个网格视图和图表（融合图表）。我想要做的是将面板中的所有内容作为图像导出为 PDF。到目前为止，我只能导出 gridview 并且图表根本没有显示。如何将面板内容中的所有内容作为图像导出为 pdf 格式？请。帮助。这是我的代码：我正在使用 ITEXT Sharp

```
protected void btnExport_Click(object sender, EventArgs e)
{
    Response.ContentType = "application/pdf";
    Response.AddHeader("content-disposition", "attachment;filename=Panel.pdf");
    Response.Cache.SetCacheability(HttpCacheability.NoCache);
    StringWriter sw = new StringWriter();
    HtmlTextWriter hw = new HtmlTextWriter(sw);
    pnlPerson.RenderControl(hw);
    StringReader sr = new StringReader(sw.ToString());
    Document pdfDoc = new Document(PageSize.A4, 10f, 10f, 100f, 0f);
    HTMLWorker htmlparser = new HTMLWorker(pdfDoc);
    PdfWriter.GetInstance(pdfDoc, Response.OutputStream);
    pdfDoc.Open();
    htmlparser.Parse(sr);
    pdfDoc.Close();
    Response.Write(pdfDoc);
    Response.End();

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:36:44.017

尝试使用将控件绘制到位图[`<Control>.DrawToBitmap`](http://msdn.microsoft.com/en-gb/library/system.windows.forms.control.drawtobitmap.aspx)，然后将该位图绘制到您的 PDF 中

绘制到位图会将控件绘制到位图中 - 将其想象为点击打印屏幕。

所以，在这种情况下，

```
Bitmap bm = new Bitmap(mygraph.Bounds.Width, mygraph.Bounds.Height);
mygraph.DrawToBitmap(new System.Drawing.Bitmap(),new System.Drawing.Rectangle(0,0,mygraph.Bounds.Width,mygraph.Bounds.Height)
pdfwriterthingy.writebitmap(bm); 
```

我正在使您的 pdf 导出器能够编写位图的能力大大提高？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:37:55.630

据我所知，融合图表是在浏览器上呈现的 Javascript。在这种情况下，将其 HTML“渲染”为 PDF 不会特别成功。

Fusion Charts[为 JPG 和 PDF 渲染提供特定的服务器端处理程序](http://blog.fusioncharts.com/2009/05/export-your-charts-as-images-or-pdfs/)，您需要使用这些处理程序。

以下是来自 Fusion Charts 网站的更多资源：

*   [示例应用程序](http://www.fusioncharts.com/download/sample-applications/)（向下滚动到“将图表导出为图像/PDF 演示”
*   [将图表导出为 PDF 或图像 - 故障排除](http://docs.fusioncharts.com/charts/contents/exporting-image/ECTroubleshooting.html)

# c++ - 用 std::initializer_list 中的实例覆盖

> ID：15076721
> 
> 赞同：0
> 
> 时间：2013-02-25T21:22:22.993
> 
> 标签：c++, c++11

我有这个问题：

```
struct A
{
  ... some const virtual members ...
};

struct B: A
{
  ... some const overrides ...
};

struct C
{
  C(std::initializer_list<A> const& list) // initialized with instances of B
  {
    for (auto const& a: list)
    {
      a.virtual_member_call(); // but struct B overloads do not get called
    }
  }
}; 
```

发生这种情况是因为 B 的实例被复制到 A 的实例中。解决此问题的解决方法是什么（除了从堆中分配）？我想可变参数模板构造函数可能就是其中之一。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:28:46.197

发生这种情况是因为*slicing*。

`std::initializer_list<>`不是多态容器，它是类型值的简单容器`A`。构建列表时，您的对象会被复制。当从 type 的对象复制构造 type`A`的对象时`B`，会发生切片。您最终将得到一个类型的对象，它是您从中复制`A`的类型的原始对象的“A 上的投影” 。`B`

如果您想拥有多态类型的*异构*初始化器列表，请考虑使用（智能）指针。

# complexity-theory - 空循环的大 O

> ID：15076722
> 
> 赞同：0
> 
> 时间：2013-02-25T21:22:24.543
> 
> 标签：complexity-theory, big-o

如果我有这样的循环结构

```
for(int i=1; i<n;i++)
   for(int j=1; j<n;j++); 
```

O(n ² ) 还是 O(0)？

假设循环内部是一个 if：

```
for(int i=1; i<n;i++)
   for(int j=1; j<n;j++)
      if(a==b) do(); 
```

我想知道最好和最坏的情况，假设do（）是O（1）。

**最差：** O(n ² ) if 语句总是为真

**最佳：** O(0) if 语句始终为假

那是对的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:25:22.327

在我们的上下文中，没有 O(0) 这样的东西；*如果优化掉*，它将是有效的恒定时间（O（1））。

至于是不是这样，没有。正如所写，它仍然是 O(N^number of nested loops)。优化器可能会完全删除代码，但“最坏的情况”是它没有，并且 CPU 正在旋转它的轮子。通过那些循环。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T21:27:51.980

取 n = 3，对于第一个循环，会发生以下情况：

```
i = 1
i < 3 => true
  j = 1
  j < 3 => true
  j++
  j < 3 => true
  j++
  j < 3 => false
i++
i < 3 => true
  j = 1
... 
```

无论循环中是否有任何其他代码，所有这些增量和检查仍然需要进行。

所以这将是最好的 + 最坏的情况 O(n ² )。

当然，优化器可能会看到循环中没有任何事情发生并完全删除它。但是说循环的最佳情况是 O(1) 可能会被认为是错误的，即使它在技术上是正确的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:27:48.933

它们是 O(n^2) - 但实际上只有在循环本身的成本很大时才有意义。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-25T21:29:08.707

```
for(int i=1; i<n;i++)
    for(int j=1; j<n;j++); 
```

O(n^2)，即使你什么都不做，计数器也会更新。

所以对于第二个问题，最好和最坏的都是 O(n^2)

# c++ - 有没有提供就地构建集合的库？

> ID：15076724
> 
> 赞同：-4
> 
> 时间：2013-02-25T21:22:31.407
> 
> 标签：c++, c++11

令人难以置信的是，标准库中没有任何内容允许存储不可复制构造的对象 - 我至少遇到过复制一直没有任何意义的情况（增强信号、opengl 对象等）但是在哪里另一方面，默认构造是一种明智的操作。出于某种原因，默认答案似乎是使用指针而不是对象。最终通过额外的间接和引用计数引入了无意义的开销（因为 unique_ptr 也是不可复制的），而且使用起来有些尴尬。

话虽如此，这样的选择是否存在？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:36:41.190

从 C++11 开始，大多数（如果不是全部）容器不要求它们的元素是可复制的。例如，vector 只要求元素是可移动的，而其他容器（deque、*list、*map、*set）没有可复制/可移动的元素要求。您需要默认构造元素，或者使用 emplace*方法来创建它们。当然，如果您调用需要复制/移动的操作，则您的类型必须支持它，但仅将元素存储在容器中并不要求它们是可复制的。

# session - cppcms 会话随每个请求而消失

> ID：15076729
> 
> 赞同：0
> 
> 时间：2013-02-25T21:22:48.657
> 
> 标签：session, cppcms

当我使用

```
cppcms::service(argc, argv);
booster::intrusive_ptr c = new myApp(service);
service.applications_pool().mount(c);
service.run(); 
```

代替

```
cppcms::service(argc, argv);
service.applications_pool().mount(cppcms::applications_factory<myApp>());
service.run(); 
```

每个新请求都会清除会话。它是一个错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:00:50.850

不，同步和异步应用程序的会话行为不同

见：[https ://sourceforge.net/p/cppcms/bugs/93/](https://sourceforge.net/p/cppcms/bugs/93/)

# vb.net - 将字符串转换为十进制到字符串并返回到十进制

> ID：15076730
> 
> 赞同：2
> 
> 时间：2013-02-25T21:22:53.103
> 
> 标签：vb.net, string, type-conversion, decimal

我想将字符串转换为小数，然后再转换为字符串，然后再转换为小数。

我试过了：

```
Dim s As String = "0.7655"

CDec(sDec).ToString("0.00")  'results in: 7653,00
CDec(sDec).ToString 'results in: 7648
CDec(sDec).ToString("N") 'results in: 7.653,00 
```

所以这些都不起作用！

是否没有简单的功能可以再次将精确的十进制转换为其字符串表示形式？对于这样一个简单的任务，似乎工作量太大了！

最好不要格式化字符串，因为在这种情况下，我似乎事先知道结果字符串应该有多少个字符。将其转换为字符串后，我还想再次将其转换回小数。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T21:53:53.193

在您当前的文化中，小数分隔符可能是逗号而不是点。使用不变的文化将始终使用点：

```
Dim s As String = "0.7655"

Dim decValue As Decimal = Decimal.Parse(s, System.Globalization.CultureInfo.InvariantCulture)
Console.WriteLine(decValue.ToString()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:42:50.723

您应该能够通过使用 Parse 方法来获得答案。

```
 Dim s As String = "0.7655"
    Dim c As Decimal = Nothing

    c = Decimal.Parse(s)

    Console.WriteLine(c) 
```

然后，您可以使用该`ToString`方法转换回字符串。

# java - 如何重绘多个 JFrame

> ID：15076732
> 
> 赞同：0
> 
> 时间：2013-02-25T21:23:00.673
> 
> 标签：java, swing, user-interface, jframe, multiple-instances

我有一个同时使用 2-3 个 JFrame 对象并在运行时添加组件的程序。我需要一个 JFrame 向其他人发送消息并让他们重新绘制自己。我对Java相当了解，所以如果我是个白痴并且遗漏了一些简单的东西，请原谅我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T22:44:25.880

代替[多个框架](https://stackoverflow.com/q/9554636/230513)，使用单个框架和尽可能多的无模式对话框。您可以使用 a[`PropertyChangeListener`](http://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeListener.html)来确保将一个容器中的更新传播到另一个容器，如此[处](https://stackoverflow.com/a/10523401/230513)和[此处](https://stackoverflow.com/a/11832979/230513)所示。

# vb6 - VB6分类搜索功能

> ID：15076734
> 
> 赞同：2
> 
> 时间：2013-02-25T21:23:04.287
> 
> 标签：vb6

如果我有一个包含以下信息的文本文件，那么搜索版本的最佳方法是什么，例如仅在 system1 上？（在 vb6 代码中，我可以使用`InStr`吗？）

```
[系统1]

版本=xx
日期=xx

[系统2]

版本=xx
日期=xx

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:50:38.430

示例文件看起来像一个标准的 INI 文件。您可以使用[`GetPrivateProfileString()`](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms724353%28v=vs.85%29.aspx)和 相关功能阅读这些内容。您还可以使用[`GetPrivateProfileSectionNames()`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724352%28v=vs.85%29.aspx)和枚举部分和值[`GetPrivateProfileSection()`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724348%28v=vs.85%29.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:29:56.857

假设版本之后和日期之前有一个空格（str 将是您的文本）：

```
Dim version As String
version = Mid(str, InStr(str, "version") + 8)
version = Mid(version, 1, InStr(version, " ")) 
```

但是有很多函数可以解析 .ini 文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:29:39.003

我创建了一个文本文件`"C:\MYFILE.TXT"`，这是文件的内容：

```
[system1]

version=aa
date=bb

[system2]

version=yy
date=zz

[system3]

date=4

[system4]

[system5] 
```

正如你所看到的，我做了所有可能的情况，即。一个有版本信息的系统，一个没有版本信息的系统，等等。然后我写了这段代码：

这是在分类列表下查找值的一种方法：

```
Dim mySystem As String
Dim myVersion As String

mySystem = "[system2]"    'Replace this with the system you are looking for

Dim strTmp As String
Dim SystemFound As Boolean
Dim VersionFound As Boolean

Open "c:\myfilename.txt" For Input As #1
    Do While Not EOF(1)
        Line Input #1, strTmp
        If InStr(UCase(strTmp), UCase(mySystem)) > 0 Then
            SystemFound = True
            strTmp = ""
            Do While Not EOF(1) And InStr(strTmp, "[") = 0
                Line Input #1, strTmp
                If InStr(UCase(strTmp), "VERSION") > 0 Then
                    VersionFound = True
                    myVersion = Mid(strTmp, InStr(strTmp, "=") + 1, Len(strTmp))

                End If
            Loop
            Exit Do
        End If
    Loop
Close #1

If SystemFound And VersionFound Then
    MsgBox "The Version of " & mySystem & " is " & myVersion
ElseIf SystemFound And Not VersionFound Then
    MsgBox "The system " & mySystem & " has no version definition"
ElseIf SystemFound = False Then
    MsgBox "The system " & mySystem & " is not found in file"
End If 
```

# html - 为什么我的边框在 chrome 中太宽

> ID：15076737
> 
> 赞同：0
> 
> 时间：2013-02-25T21:23:14.380
> 
> 标签：html, css

所以，我试图让带有背景图片的 div 显示在我的网页上。在 IE 中它看起来很好，但在 chrome 中，当它不是全屏时，页面看起来不错，当你使窗口全屏时，div 2 上的边框在右侧太宽了大约 20 像素。第一个 div 应该是可用屏幕的大小，第二个 75% 居中。看起来好像 chrome 在第一个 div 上没有看到我的 100% 高度。这是我的 CSS 样式表：

```
 @charset "utf-8";
 /* CSS Document */

 #main {    
    background-repeat:no-repeat;
    background-size:cover;
    font-size: 24px;
    font-family:Georgia, "Times New Roman", Times, serif;
    text-align:center;  
    padding:40px;

    height:100%;
    width:100%;
    position: relative;
    background-image: url(../graphics/craig-smith-background.jpg);
}

#body {
    min-height:500px;
    width:75%;
    background-repeat:no-repeat;
    background-image: url(../graphics/back2.jpg); 
    margin: 0 auto;
    position:relative;
    border:groove;
    border-color:#333;
    border-width:5px; (edit)
    padding:0;
} 
```

我在两个 div 上都使用了填充和边距，但似乎无法弄清楚这一点。

（编辑）我应该指定，边框和右侧图片之间有 20px 的空间，您可以在其中看到 div 1 的背景图片。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:27:49.243

```
border:groove;
border-color:#333;
border-width:thick; 
```

不要使用`thick`，指定你想要的像素数。“2px”，5px”，随便什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T13:35:57.037

问题是dreamweaver没有更新本地文件，我在photoshop中更改了一个图片文件并保存了它。Dreamweaver 没有看到文件更新。

# google-maps - Google Maps iOS SDK - 搜索地点

> ID：15076738
> 
> 赞同：14
> 
> 时间：2013-02-25T21:23:14.917
> 
> 标签：google-maps, ios6-maps, google-maps-sdk-ios

我是 iOS 编程和 Google Maps iOS SDK 的新手，如果这是一个基本问题，我深表歉意。

我想在应用程序中包含谷歌地图，并让用户能够在标记的特定半径内搜索各种地点（餐厅、酒吧、健身房等）。

我知道使用 javascript api 可以做到这一点，但是可以使用地图 iOS SDK 来完成吗？我已经阅读了[这里](https://developers.google.com/maps/documentation/ios/urlscheme?hl=en)的所有信息并搜索了 Stack Overflow 和 Google，但我真的找不到任何能给我任何指示的东西。

在文档中，谷歌说使用 URL 方案，您可以启动原生 iOS 应用程序并传递搜索、方向等参数。这是我需要使用的，还是更适合 web 应用程序？

任何帮助、建议或教程指南（谷歌提供的除外）都将不胜感激。

干杯

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-26T00:09:21.987

[Google Maps URL Scheme](https://developers.google.com/maps/documentation/ios/urlscheme)目前只能用于打开 Google Maps 应用程序以搜索位置或方向。它无法搜索地点。此外，如果您自己的应用程序这样做，那么它会关闭您的应用程序并切换到地图应用程序，这可能不是您想要的。它也只有在用户安装了[Google Maps 应用程序](https://itunes.apple.com/app/google-maps/id585027354)时才有效。

您可能希望使用[Google Places API](https://developers.google.com/places/documentation/search)从您的本机应用程序发出 http 请求。您可以请求 JSON 或 XML 格式的响应。然后，您需要解析响应，并使用 Google Maps SDK for iOS 将标记添加到`GMSMapView`a[中](https://developers.google.com/maps/documentation/ios/start)。

[这篇博](http://drew5.net/2011/11/28/google-places-for-ios-5-sdk/)文描述了博文作者为包装 Google Places API 而编写的[这个库。](https://github.com/jdruid/Google-Places-for-iOS-5)您不需要大部分代码，但它可能会让您知道从哪里开始。[这个类](https://github.com/jdruid/Google-Places-for-iOS-5/blob/master/GoogleLocations/GoogleLocations/GooglePlaces/GooglePlacesConnection.m)是处理对places API 的请求的主要类。

请注意，此库使用第三方 JSON 解析器 - [`SBJsonParser`](http://sbjson.org/api/3.2/). 从 5.0 版开始，iOS 包含一个原生 JSON 解析器，[`NSJSONSerialization`](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html). 因此，如果您的应用支持的最低 iOS 版本为 5.0 或更高版本，则无需使用第三方库。

# python - Python：在同一位置换行

> ID：15076739
> 
> 赞同：0
> 
> 时间：2013-02-25T21:23:15.217
> 
> 标签：python, python-2.7, newline, carriage-return

在 python 2.7 中如何实现以下功能：

```
print "some text here"+?+"and then it starts there" 
```

终端上的输出应如下所示：

```
some text here
              and then it starts here 
```

我四处寻找，我认为`\r`应该做这项工作，但我试过了，它不起作用。我现在很困惑。

顺便说一句，该`\r`解决方案是否可移植？

PS 在我奇怪的情况下，我认为知道 prev 行的长度对我来说非常困难。所以有什么想法而不是使用它上面的线的长度吗？

==================================================== =================================

好的情况是这样的，我正在编写一个树结构，我想使用 __str__ 函数很好地打印出来

```
class node:
def __init__(self,key,childern):
    self.key = key
    self.childern = childern

def __str__(self):
    return "Node:"+self.key+"Children:"+str(self.childern) 
```

其中 Children 是一个列表。

每次打印 Children 时，我都希望它比最后一行缩进一个。所以我想我无法预测要打印的行之前的长度。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T21:29:12.490

`\r`可能不是一个可移植的解决方案，它的呈现方式将取决于您使用的任何文本编辑器或终端。在较旧的 Mac 系统上，`'\r'`is 用作行尾字符（在 windows 上是`'\r\n'`，在 linux 和 OSX 上是`'\n'`.

你可以简单地做这样的事情：

```
def print_lines_at_same_position(*lines):
    prev_len = 0
    for line in lines:
        print " "*prev_len + line
        prev_len += len(line) 
```

使用示例：

```
>>> print_lines_at_same_position("hello", "world", "this is a test")
hello
     world
          this is a test
>>> 
```

这仅在您输出的任何字体具有固定字符长度的字体时才有效。我想不出任何其他的方法

**编辑以适应更改的问题**

好的，这是一个完全不同的问题。我认为没有任何方法可以从最后*一行*停止的位置开始，除非`self.key`有可预测的长度。但是你可以得到一些非常接近的东西：

```
class node:
    def __init__(self,key,children):
        self.key = key
        self.children = children
        self.depth = 0

    def set_depth(self, depth):
        self.depth = depth
        for child in self.children:
            child.set_depth(depth+1)

    def __str__(self):
        indent = " "*4*self.depth
        children_str = "\n".join(map(str, self.children))
        if children_str:
            children_str = "\n" + children_str
        return indent + "Node: %s%s" % (self.key, children_str) 
```

然后只需将根节点的深度设置为 0，并在每次更改树的结构时再次执行此操作。如果您确切知道如何更改树，则有更有效的方法，您可能可以自己弄清楚：)

使用示例：

```
>>> a = node("leaf", [])
>>> b = node("another leaf", [])
>>> c = node("internal", [a,b])
>>> d = node("root", [c])
>>> d.set_depth(0)
>>> print d
Node: root
    Node: internal
        Node: leaf
        Node: another leaf
>>> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:31:19.313

您可以使用`os.linesep`来获得更便携的换行符，而不仅仅是`\r`. 然后我会`len()`用来计算第一个字符串的长度以计算空格。

```
>>> import os
>>> my_str = "some text here"
>>> print my_str + os.linesep + ' ' * len(my_str) + 'and then it starts here'
some text here
              and then it starts here 
```

关键是`' ' * len(my_str)`。这将重复空格字符`len(my_str)`时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:26:20.200

尝试使用 len("text") * ' ' 来获得所需的空白量。

要获得便携式换行符，请使用 os.linesep

```
>>> import os
>>> os.linesep
'\n' 
```

编辑

在某些情况下可能适用的另一个选项是覆盖标准输出流。

```
import sys, os

class StreamWrap(object):

        TAG = '<br>' # use a string that suits your use case

        def __init__(self, stream):
                self.stream = stream

        def write(self, text):
                tokens = text.split(StreamWrap.TAG)
                indent = 0
                for i, token in enumerate(tokens):
                        self.stream.write(indent*' ' + token)
                        if i < len(tokens)-1:
                                self.stream.write(os.linesep)
                        indent += len(token)

        def flush(self):
                self.stream.flush()

sys.stdout = StreamWrap(sys.stdout)

print "some text here"+ StreamWrap.TAG +"and then it starts there" 
```

这将为您提供如下结果：

```
>>> python test.py 
some text here
          and then it starts there 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T21:33:09.150

该`\r`解决方案不是您正在寻找的，因为它是 windows 换行符的一部分，但在 mac 系统中它实际上是换行符。

您将需要如下代码：

```
def pretty_print(text):
    total = 0
    for element in text:
        print "{}{}".format(' '*total, element)
        total += len(element)

pretty_print(["lol", "apples", "are", "fun"]) 
```

它将按照您希望的方式打印文本行。

# php - 尝试修复 Apache 或 Wordpress 错误

> ID：15076743
> 
> 赞同：1
> 
> 时间：2013-02-25T21:23:32.773
> 
> 标签：php, wordpress, apache, apache2

我的网站的错误日志文件中有以下错误消息。你能解释一下这是什么意思吗，有安全问题吗？我该如何解决？

> [2013 年 2 月 25 日星期一 21:04:34] [错误] [客户端 173.199.116.83] PHP 解析错误：语法错误，第 192 行 /Mywebsite/wp-includes/functions.php 中的意外 T_VARIABLE
> 
> [Mon Feb 25 20:48:01 2013] [error] [client 80.118.73.90] PHP Parse error: syntax error, unexpected T_VARIABLE in /Mywebsite/wp-includes/functions.php on line 192, referer: [http:// www.google.fr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CDQQFjAA&url=http%3A%2F%2Fwww.banahan.fr%2F&ei=4r8rUfSBAYe2hQevjICABg&usg=AFQjCNHbl8fe0yvfJH0lEdTBUNw1FYw1tA&sig2=7PRr2vM5qj9DuX64oZXwwQ&bvm=bv.42768644,d. ZG4](http://www.google.fr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CDQQFjAA&url=http%3A%2F%2Fwww.banahan.fr%2F&ei=4r8rUfSBAYe2hQevjICABg&usg=AFQjCNHbl8fe0yvfJH0lEdTBUNw1FYw1tA&sig2=7PRr2vM5qj9DuX64oZXwwQ&bvm=bv.42768644,d.ZG4)
> 
> [2013 年 2 月 25 日星期一 19:37:42] [错误] [客户端 91.207.4.186] PHP 解析错误：语法错误，第 192 行 /Mywebsite/wp-includes/functions.php 中的意外 T_VARIABLE，引用者：[http:// glavprofit.ru/](http://glavprofit.ru/)
> 
> [错误] [客户端 217.13.55.146] PHP 致命错误：require_once() [function.require]: 无法打开所需的 '/Mywebsite/wp-admin/includes/plugin.php' (include_path='.:/Library/Tenon/ PHP/lib/php') 在 /Mywebsite//wp-includes/update.php 第 144 行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T20:58:43.663

我经常看到这些问题，它通常基于安装在编码器不支持时尝试使用 php 短打开标签的一些插件。

编辑您的 php.ini 文件并更改以下内容：

```
short_open_tag = Off 
```

并将其设置为：

```
short_open_tag = On 
```

如果您正在运行 fpm，然后重新启动您的 apache 和或 php-fpm，并检查问题是否已经消失。根据 php 文档，短的开放标签是不好的标准，但是很多开发人员似乎仍然在继续使用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:35:35.137

您的错误日志文件是您需要修复的问题的列表。

因此，如果我以第一项为例：转到引用的文件，转到第 192 行，并修复代码（正确打开和关闭括号，使用正确的语法，正确编写变量等）。

向下列表并为所有这些执行此操作，您的站点将正常运行。

# python - 如何扩展类实例？

> ID：15076749
> 
> 赞同：0
> 
> 时间：2013-02-25T21:24:00.077
> 
> 标签：python, class

我有以下代码，这是一个命令行测试

```
from cmd2 import Cmd
class App(Cmd, object):
    def __init__(self, *args, **kwargs):
            pass

    def do_test(self, line):
        'test'
        print "parent test"

class App2():
    def __init__(self, *args, **kwargs):
            pass

    def do_test2(self, line):
        print "Test2"           

app = App()
app.cmdloop() 
```

是否有可能用额外的功能扩展 App 类？我知道有以下解决方案

```
class App2(App):
     ....   

app = App2()
app.cmdloop() 
```

但就我而言，如果可能的话，我只想运行`App`并扩展它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T21:34:04.953

一般来说，这不是一个好主意，因为当人们（包括六个月后的你）阅读代码时，他们会期望`App`是他们所知道的类，并且类的扩展版本具有不同的名称。但是，没有什么可以阻止您将子类命名为与原始子类相同的名称：

```
class App(App):
    # etc. 
```

Python 足够聪明，知道`App`括号中的表示它已经知道的那个，然后，由于新类具有相同的名称，它会替换原来的类。不用担心，新类包含对旧类的引用，因此旧类不会完全消失（如果确实如此，则子类继承的任何内容都不会起作用）。

如果该类来自您导入的某个模块，您甚至可以将替换类修补回原始模块，以便导入该模块的所有代码都使用您的替换类。（虽然我会反对它！）

```
import appmodule

class App(appmodule.App):
    # etc.

appmodule.App = App 
```

当然，这很棘手，因为如果您不在脚本中首先执行此操作，某些模块可能已经导入了对原始类的引用。如果其他模块也试图修补同一个类，那么一切都会崩溃。尽管如此，如果您想混淆自己和维护您代码的人，Python 会让您做到这一点！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T22:04:34.053

值得注意的是，您始终可以扩充类字典，因此在运行时对其进行扩展。

```
class App(...):
  def __init__(self, a, b):
    pass

  def do_something(self, a):
    pass

app_instance = App()

def do_something_else(self, b):
  pass

App.do_something_else = do_something_else

app_instance.do_something_else('b') 
```

您必须考虑 python 如何在运行时进行查找。首先查看 的实例`yourclass`，然后查看`__mro__`（从 开始`type(yourclass)`），一直到`object`。

由于类是对象，您可以通过添加属性来扩展它们，然后在属性查找期间可以找到这些属性。确保您执行此操作一次（例如，在导入另一个文件期间）。

这是一个真实的例子：

```
>>> class foo():
...     pass
...
>>> x = foo()
>>>
>>> # Define a function and attach it
>>>
>>> def bar(self, a):
...     print(a)
...
>>> foo.bar = bar
>>>
>>> x.bar('a')
a 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:32:28.340

这不是一个确切的解决方案，但它允许您始终通过应用名称访问它

将 App 类重命名为 _App

那么你想在哪里使用它

```
from blah import _App as App 
```

当你扩展它时

```
from blah import App2 as App 
```

# javascript - 如何在页面加载后只运行一次？

> ID：15076751
> 
> 赞同：0
> 
> 时间：2013-02-25T21:24:08.670
> 
> 标签：javascript, jquery

```
$(document).ready(function(){
    $('#b').datepicker().on('changeDate', recalculate_deadline);
    $('#id_field').change(recalculate_deadline);
    $('#id_field_type').change(recalculate_deadline);

    $('#id_other_field').change(check_reminder_date);
    $('#id_time').datepicker().on('hide', check_reminder_date); #this

}); 
```

如何在页面加载后只运行一次？

```
$('#id_time').datepicker().on('hide', check_reminder_date); 
```

现在，如果我更改日期，此功能 - “check_reminder_date”正在运行。我只想在页面加载后运行一次，在用户可以手动更改日期之后（没有 check_reminder_date 功能）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:30:32.943

要只运行一次处理程序，您可以使用`one()`代替`on()`：

```
$('#id_time').datepicker().one('hide', check_reminder_date); 
```

[有关更多信息，请参阅此页面](http://api.jquery.com/one/)。

# sql - 基于日期的Oracle硬sql

> ID：15076752
> 
> 赞同：1
> 
> 时间：2013-02-25T21:24:09.720
> 
> 标签：sql, oracle, fetch

我想知道如何从数据库中检索数据，所以我会有两列。这是我想要完成的一个例子：

```
EMPLOYEE_Total | YEAR_HIRED
----------------------------
5                  1995 
```

（特定年份雇用的员工人数）

不幸的是，现在我遇到了一些麻烦，因此每年只能获得一排。

![在此处输入图像描述](../Images/3520a2c14174ee18f55bac207d47eded.png)

这是我的查询。你能帮我么？谢谢。！

```
 SELECT COUNT(EMPLOYEE_ID) AS EMPLOYEE_TOTAL, TO_CHAR(HIRE_DATE, 'YYYY') AS YEAR_HIRED 
 FROM EMPLOYEES
 WHERE hire_date 
 BETWEEN '01-JAN-1995' AND '31-DEC-1998'
 GROUP BY HIRE_DATE
 ORDER BY HIRE_DATE 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:27:32.827

您当前的查询非常接近您真正想要的。你会想要改变你`GROUP BY`使用的`TO_CHAR(HIRE_DATE, 'YYYY')`，这会导致`grouping to be by year instead of the`hire_date`有月份，年份等：

```
SELECT COUNT(EMPLOYEE_ID) AS EMPLOYEE_TOTAL, 
  TO_CHAR(HIRE_DATE, 'YYYY') AS YEAR_HIRED 
FROM EMPLOYEES
WHERE hire_date BETWEEN '01-JAN-1995' AND '31-DEC-1998'
GROUP BY TO_CHAR(HIRE_DATE, 'YYYY')
ORDER BY YEAR_HIRED 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:26:55.117

你想改变你的`group by`and `order by`：

```
 SELECT COUNT(EMPLOYEE_ID) AS EMPLOYEE_TOTAL, TO_CHAR(HIRE_DATE, 'YYYY') AS YEAR_HIRED 
 FROM EMPLOYEES
 WHERE hire_date 
 BETWEEN '01-JAN-1995' AND '31-DEC-1998'
 GROUP BY to_char(HIRE_DATE, 'YYYY')
 ORDER BY to_char(HIRE_DATE, 'YYYY') 
```

艺术，以下作品：

```
with emp as (select sysdate - 31*365 as hiredate from dual)
SELECT count(*), to_char(hiredate, 'YYYY') hiredate 
  FROM emp
 WHERE hiredate BETWEEN '01-JAN-1980' AND '01-JAN-1983'
GROUP BY to_char(hiredate, 'YYYY')
ORDER BY to_char(hiredate, 'YYYY') 
```

您可以在[SQL Fiddle](http://www.sqlfiddle.com/#!4/d41d8/8033)上查看。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:55:51.337

现有 Oracle 表的示例 - 已测试：

```
SELECT count(*), to_char(hiredate, 'YYYY') hiredate 
  FROM scott.emp
 WHERE hiredate BETWEEN '01-JAN-1980' AND '01-JAN-1983'
GROUP BY to_char(hiredate, 'YYYY')
ORDER BY to_char(hiredate, 'YYYY')
/ 
```

输出：ORA-01481：无效的数字格式模型

这将起作用并通过以下任何顺序给出相同的结果：

```
SELECT count(*), to_char(hiredate, 'YYYY') hiredate 
  FROM scott.emp
 WHERE hiredate BETWEEN '01-JAN-1980' AND '01-JAN-1983'
GROUP BY to_char(hiredate, 'YYYY')
--ORDER BY to_date(hiredate, 'YYYY')
-- ORDER BY hiredate
 ORDER BY 2
/

COUNT(*)    HIREDATE
-----------------------
1          1980
10         1981
1          1982 
```

# json - php json rpc 服务器方法可以为空吗？

> ID：15076758
> 
> 赞同：1
> 
> 时间：2013-02-25T21:24:30.500
> 
> 标签：json, rpc, json-rpc

根据 JSON-RPC 2.0 规范（[http://www.jsonrpc.org/specification](http://www.jsonrpc.org/specification)），请求方法参数应该是一个字符串。使用 .htaccess rewrite 在 url 中传递函数和/或类并将方法参数保留为 null 时，这是否是有效行为？服务的目标将带有类似[http://domain.com/rpc/server/class/method](http://domain.com/rpc/server/class/method)的函数和/或类？它将使用 name 方法重写为 GET 参数。

这有意义吗？我还没有找到一个很好的例子来处理 JSON-RPC 请求中的类方法——现在它们作为 "method": "class.method" 传递，因为我相信这似乎是最合适的方法.

我问这个是因为我正在编写自己的服务器......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T23:36:37.950

在我看来，这不是一个好主意。JSON-RPC 的一个优点是与传输无关，因此无论您使用 UNIX 套接字、在同一进程中操作还是在 HTTP 之上运行，您都可以使用完全相同的消息。您的建议通过依靠 URI 提供方法来消除该优势，以便您的实现仅在您使用 HTTP 时才有效。带有 URL 编码参数的 GET 请求在 JSON-RPC 中有些尴尬；我认为将所有内容保留在 POST 请求中是一个更好的主意。

也就是说，它是您自己的服务器，因此您可以在用例中做任何有意义的事情，但如果您需要基于标准的客户端进行互操作，最好尽可能接近标准。

因为类方法`"method" : "class.method"`对我来说一直很有意义。

# java - 对象引用数组

> ID：15076763
> 
> 赞同：1
> 
> 时间：2013-02-25T21:24:49.420
> 
> 标签：java, object, reference

在 Java 中，让自定义对象`o`的类型为`CustomObject`. 然后`CustomObject o2 = o;`会在不复制 to 的内容的情况下进行`o`引用`o2`。但是对于`CustomObject`s 数组，这种行为是否仍然存在：

```
CustomObject[] os = new CustomObject[2];
os[1] = o;
os[2] = o; 
```

将`os[1]`和`os[2]`是引用还是它们将是直接副本`o`并因此是单独的对象？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-25T21:27:01.117

好吧，您实际上的意思是`os[0]`，`os[1]`因为数组在 Java 中是从 0 开始的……但是是的，它们将是引用。两个数组元素将引用同一个对象。

重要的`o`是，也不是一个对象：

*   `o`是一个**变量**：它有一个名字和一个值
*   的值`o`是一个**引用**：它要么为空，要么引用一个对象
*   **对象**具有字段，具有某种执行时类型等

表达式的值（无论是简单的变量值、方法调用的结果还是其他）在 Java中*从来都不*是- 它*始终*是引用或原始值。`object`

 *Java 语言规范[定义数组](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html)的方式就像变量的集合：

> 一个数组对象包含许多变量。变量的数量可能为零，在这种情况下，数组被称为是空的。数组中包含的变量没有名称；相反，它们被使用非负整数索引值的数组访问表达式引用。这些变量称为数组的组件。如果一个数组有 n 个分量，我们说 n 是数组的长度；使用从 0 到 n - 1（含）的整数索引来引用数组的组件。

所以它真的有点像这样做：

```
// Creating the pseudo-array
CustomObject o0 = null;
CustomObject o1 = null;

// Populating it
o0 = o;
o1 = o; 
```

与以往一样，赋值运算符只是将右侧的值复制到左侧。该值是一个参考。*

# nhibernate - NHibernate 代理工厂

> ID：15076765
> 
> 赞同：2
> 
> 时间：2013-02-25T21:24:55.213
> 
> 标签：nhibernate

我已经`NHibernate.3.3.2.4000`通过 Nuget 安装到我的`MVC3`项目中，配置它没有`proxyfactory.factory_class`：

```
<hibernate-configuration xmlns="urn:nhibernate-configuration-2.2">
    <session-factory>         
        <property name="dialect">NHibernate.Dialect.MsSql2008Dialect, NHibernate</property>
        <property name="connection.connection_string_name">db</property>
        <property name="adonet.batch_size">50</property>
        <property name="current_session_context_class">web</property>
        <property name="query.substitutions">true 1, false 0, yes 'Y', no 'N'</property>
        <mapping assembly="TheWorkshop.DomainModel" />
    </session-factory>
</hibernate-configuration> 
```

但像这样我收到以下错误：

> 以下类型不得用作代理：TheWorkshop.DomainModel.Contact：方法 set_DateAdded 应为“公共/受保护虚拟”或“受保护内部虚拟”

DateAdded 属性私下设置 DateAdded 值的位置

```
 public virtual DateTime DateAdded
 {
     get { return _dateAdded; }
     private set { _dateAdded = DateTime.Now; }
 } 
```

我不是特别想让 setter 公开，想法是 DateAdded 是自动设置的。

我看过建议我可以将其设置为的`proxyfactory.factory_class`帖子

```
<property name="proxyfactory.factory_class">
    NHibernate.ByteCode.Castle.ProxyFactoryFactory, 
    NHibernate.ByteCode.Castle
</property> 
```

`NHibernate.ByteCode.Castle`但是当我尝试安装 Nuget 时，安装并没有取消对 的任何`Install-Package NHibernate.Castle`引用

> 安装失败。回滚...
> Install-Package：已经引用了更新版本的“NHibernate”。
> 在 line:1 char:16
> + Install-Package <<<< NHibernate.Castle
> + CategoryInfo : NotSpecified: (:) [Install-Package], InvalidOperationException
> + FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PowerShell.Commands.InstallPackageCommand

所以我想我可以降低 NHibernate 版本，但这似乎是错误的......我*应该*怎么做，一个类似的问题[NuGet：NHibernate，Castle.Core 3.0 以及 ProxyFactoryFactory 在哪里？](https://stackoverflow.com/q/8922999/96505)说我不需要`proxyfactory.factory_class`在较新的版本 中配置

> NHibernate 的最新版本不需要配置代理工厂。
> 默认情况下使用内部适配器，旧适配器不再是项目的一部分。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T21:30:28.230

1.  除非您像在第二部分中那样使用 Castle.Core 代理工厂，否则您不一定需要 Castle.Core。NHibernate 默认带有它自己的代理工厂，这是你第一次拥有的，所以我不会评论 Castle.Core 部分（而且我不认为它适用于最新的 nhibernate）
2.  您可以通过告诉 nhibernate 您不想延迟加载类（默认情况下启用）来解决您的错误。您如何执行此操作将根据您进行映射的方式而有所不同。
3.  您可以通过将设置器设置为受保护而不是私有来消除错误。
4.  我认为您的二传手实际上并没有像您想象的那样工作。除非您实际上为该属性设置了一个值，否则它永远不会获得当前的日期/时间，在这种情况下，您最好使用 DateTime.Now 来设置它，而不是您所拥有的。此外，当 nhibernate 加载它时，您将获得当前日期而不是创建它的实际日期/时间。您应该在构造函数中设置值，而不是像您一样劫持设置器。

# javascript - 如何使用 Javascript 关闭 iOS Captive Network Assistant 弹出窗口

> ID：15076769
> 
> 赞同：5
> 
> 时间：2013-02-25T21:25:08.157
> 
> 标签：javascript, ios, captivenetwork

**问题：** Apple 设备上的 Captive Network Assistant 显示 CNA 屏幕，只有一个取消按钮。有没有办法通过单击链接/javascript 来关闭此窗口和/或重定向到 safari？

**背景信息：**连接到 wifi 接入点后，用户会被重定向到启动页面。此启动页面具有与目标 _blank 的链接，可在新选项卡中打开。CNA 登录对话框会破坏此功能。理想情况下，用户会被提示 CNA 登录，他们会单击继续，它会在 safari 中加载我们的启动页面并关闭登录对话框。任何有关如何执行此操作的信息将不胜感激。谢谢！

# php - 将表单数据发送到 PayPal 结帐

> ID：15076770
> 
> 赞同：0
> 
> 时间：2013-02-25T21:25:19.380
> 
> 标签：php, forms, paypal, checkout

好的，这是问题，我通过单选按钮将表单数据发送到 PayPal 结帐，但是当您第一次上传 php 文件并采用正确的值时它可以工作，但是如果您返回并选择说下一个单选按钮并提交它然后更改在几乎覆盖之前将信息提交到您发送的值？

```
<table class="procut_item" border="0" cellpadding="4">
<tr>
<td width="auto"><h4>Product test</h4></td>
<td width="auto"><form method="post" action="process.php">
<input type="hidden" name="itemprice" value="10" />
<input type="hidden" name="itemQty" value="1" />
 Size:<input type="radio" name="itemname" value="1">10 x 10</select>   
<input class="dw_button" type="submit" name="submitbutt" value="Buy" />    
</td>
<tr>

<tr>
<td width="auto"><h4>Product test</h4></td>
<td width="auto"><form method="post" action="process.php">
<input type="hidden" name="itemprice" value="30" />
<input type="hidden" name="itemQty" value="1" />
 Size:<input type="radio" name="itemname" value="1">10 x 10</select>   
<input class="dw_button" type="submit" name="submitbutt" value="Buy" />      
</td>
<tr>

</table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T19:14:31.487

看到所有代码以及它是如何处理的，我的第一个猜测是你使用了相同的变量名，并且它覆盖了第一个。如果尚未使用数组，您可以创建一个数组，或者通过向其附加一个数字来增加变量名称。

# c# - LongListMultiSelector 添加到选定项目会添加 2 个项目

> ID：15076771
> 
> 赞同：2
> 
> 时间：2013-02-25T21:25:22.763
> 
> 标签：c#, windows-phone-8, silverlight-toolkit

我正在尝试编写一些代码来执行“全选”功能。为此，在后面的代码中，我尝试手动将所有列表对象添加到 LongListMultiSelector 的 SelectedItems 中。

然而问题是，当我这样做时，列表会增加两个项目，它们的信息相同。我曾尝试使用 SelectedItems.Add(...), SelectedItems.Insert(...) 无济于事。

我还尝试使用 SelectedItems.Remove(...), SelectedItems.RemoveAt(...) 立即从列表中删除其中一个项目，这将实际删除两个条目，无论我实际删除哪个条目。

最后，我尝试将其中一个条目更改为 NULL。这实际上删除了列表中的一项，但随后将剩余的一项更改为空对象本身。我是否以正确的方式执行此 SelectAll 功能？对于我想要实现的目标，是否有更好的选择？是否可以继续我正在做的事情并解决这个重复问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-06T18:16:32.633

这对我有用，无需添加重复项：

```
private void OnSelectAllClick(object sender, EventArgs e)
    {
        LongListMultiSelectorName.SelectedItems.Clear();
        foreach (var item in LongListMultiSelectorName.ItemsSource)
        {
            LongListMultiSelectorName.SelectedItems.Add(item);
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T08:59:52.940

解决方案是“伪造”此处指出的用户选择：http: [//www.jonathanantoine.com/2013/04/18/wp-toolkit-adding-a-item-in-the-selecteditems-collection-of -a-longlistmultiselector-actually-adds-2/](http://www.jonathanantoine.com/2013/04/18/wp-toolkit-adding-a-item-in-the-selecteditems-collection-of-a-longlistmultiselector-actually-adds-2/)

```
foreach (var item in LongListMultiSelector.ItemsSource)
{
    var container = LongListMultiSelector.ContainerFromItem(item) 
                          as LongListMultiSelectorItem;
    if (container != null) container.IsSelected = true;
} 
```

# javascript - javascript和python中的字符串序列相似度/差异比

> ID：15076773
> 
> 赞同：1
> 
> 时间：2013-02-25T21:25:23.380
> 
> 标签：javascript, python

假设我有一个参考字符串

“abcdabcd”

和一个目标字符串

“abcdabed”

javascript和python中有没有简单的方法来获取字符串序列相似度？

例子：

“abcdabcd”与“abcdabEd”的区别在于字符“E”，因此相似度较高但小于 1.0

“bcdabcda”与“abcdabEd”有很大不同，因为特定字符串索引处的每个字符都不同，因此相似度为0.0

请注意，相似度不是每个字符串中有多少相似字符，而是序列彼此之间的相似程度

因此像这样的代码

```
# python - incorrect for this problem 
difflib.SequenceMatcher(None, "bcdabcda", "abcdabEd").ratio() 
```

会错的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:10:08.943

您可以使用这个通用公式，它适用于具有相同*或不同长度*的字符串或对象数组：

相似度=#common/(sqrt(nx*ny));

其中#common 是常见的事件（在这种情况下是匹配字符的数量）；
nx 是对象数组 x（或称为 x 的字符串）的长度；
ny 是对象 y 数组（或称为 y 的字符串）的长度。

如果字符串的长度相同，则公式简化为简单的情况：

相似度=#common/n;
其中：n=nx=ny。

在 python 中，这个字符串相似度的公式（考虑到字符的顺序，如你所愿）可以写成：

```
from math import sqrt

def similarity(x, y):
    n=min(len(x), len(y))
    common=0
    for i in range(n):
        if (x[i]==y[i]):
            common+=1
    return common/sqrt(len(x)*len(y)) 
```

在javascript中它是类似的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:38:15.107

怎么样

```
float(sum([a==b for a,b in zip(my_string1,my_string2)]))/len(my_string1)

>>> s1,s2 = "abcdabcd","abcdabEd"
>>> print float(sum([a==b for a,b in zip(s1,s2)]))/len(s1)
0.875 
```

# css - Firefox Mobile 中的输入文本对齐问题

> ID：15076774
> 
> 赞同：1
> 
> 时间：2013-02-25T21:25:31.480
> 
> 标签：css

在 Firefox Mobile for Android 中将输入文本向右对齐时出现显示问题：

![在此处输入图像描述](../Images/3aa514a2bb587589012cd80822cb484b.png)

![在此处输入图像描述](../Images/31246dc0955f40de8e76275b71c63a25.png)

它**应该**如何显示（参见 Firefox Mobile 添加的填充）：

![在此处输入图像描述](../Images/54a73436a6767f570b96b1bd285bdfd5.png)

这个错误似乎无处不在，不仅发生在`placeholders`而且`values`很好。

我尝试显式对齐占位符：

```
input:-moz-placeholder { text-align:right; } 
```

带方向：

```
direction: rtl; 
```

并尝试删除填充。

这不是可用性问题，但让它正常显示是件好事。

有没有人遇到过同样的问题？

**编辑：**我已经在使用`text-align: right;`. 它适用于所有浏览器，但 FF 移动版除外。

# asp.net-mvc-3 - 循环上的异步进度条

> ID：15076778
> 
> 赞同：1
> 
> 时间：2013-02-25T21:26:18.767
> 
> 标签：asp.net-mvc-3, loops, asynchronous

使用 MVC3、C#、jQuery、Ajax ++

我的html

```
<div>
   <a href="#" id="startProcess">Start Long Running Process</a>
</div>
<br />
<div id="statusBorder">
    <div id="statusFill">
    </div>
</div> 
```

html的javascript部分

```
 var uniqueId = '<%= Guid.NewGuid().ToString() %>';

    $(document).ready(function (event) {
        $('#startProcess').click(function () {
            $.post("SendToDB/StartLongRunningProcess", { id: uniqueId,
                                 //other parameters to be inserted like textbox

                                                             }, function () {
                $('#statusBorder').show();
                getStatus();
            });
            event.preventDefault;
        });
    });

     function getStatus() {
        var url = 'SendToDB/GetCurrentProgress';
        $.get(url, function (data) {
            if (data != "100") {
                $('#status').html(data);
                $('#statusFill').width(data);
                window.setTimeout("getStatus()", 100);
            }
            else {
                $('#status').html("Done");
                $('#statusBorder').hide();
                alert("The Long process has finished");
            };
        });
    } 
```

这是控制器。

```
 //Some global variables. I know it is not "good practice" but it works.
    private static int _GlobalSentProgress = 0;
    private static int _GlobalUsersSelected = 0;

    public void StartLongRunningProcess(string id,
                                        //other parameters
                                        )
    {   
        int percentDone = 0;
        int sent = 0;            

        IEnumerable<BatchListModel> users;

        users = new UserService(_userRepository.Session).GetUsers(
                //several parameters)

        foreach (var c in users)
        {
                var usr = _userRepository.LoadByID(c.ID);

                var message = new DbLog
                {
                    //insert parameters
                };

                _DbLogRepository.Save(message);
                sent++;

                double _GlobalSentProgress = (double)sent / (double)_GlobalUsersSelected * 100;

                if (percentDone < 100)
                {
                    percentDone = Convert.ToInt32(_GlobalSentProgress);
        }

//this is supposed to give the current progress to the "GetStatus" in the javascript
public int GetCurrentProgress()
    {
        return _GlobalSentProgress;
    } 
```

现在，带有进度条的 div 永远不会出现。老实说，它有点破碎。但我希望你能理解我的逻辑。

在进行插入的循环中，我确实有这个计算：

```
double _GlobalSentProgress = (double)sent / (double)_GlobalUsersSelected * 100; 
```

然后我将 _GlobalSentProgress 转换为正常的 int

```
percentDone = Convert.ToInt32(_GlobalSentProgress); 
```

所以它不再有任何小数。

如果我可以在每次循环时将这个“percentDone”或“_GlobalSentProgress”变量（它完美地显示了我在插入中的百分比）异步发送到javascript中的“data”变量中，它会起作用。然后“数据”会一直执行“状态填充”并正确显示条形图。这是我使用的逻辑。

我相信为了实现这一点而抛出的词是“异步的”。我查看了 2 个非常有前途的指南，但我无法使其与我的循环一起工作。

有人对我如何做到这一点有建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:51:08.587

编辑 2：外部 div 被命名为 statusBorder 而不是 status。

# java - 使用 JNI 和 C++ 与 linux 加载动态库

> ID：15076783
> 
> 赞同：0
> 
> 时间：2013-02-25T21:26:24.817
> 
> 标签：java, c++, linux

最近在学习 JNI 来执行 C 代码。当然，我做了网络上的基本示例。现在我正在尝试加载一个可以进行动态库加载（dlopen）的 C 库。但我正在与错误作斗争。我发布了我的 Java 代码、C++ 代码和错误。

我的 Java 类

```
 /**
  *
  * @author glassfish
  */
 public class MediationJniWeb {

    public String library ;

    static {
       System.loadLibrary("-core-web");        
    }  

    /**
     *
     * @param library name of mediation core library [32]
     * @param method name of method to be executed [128]
     * @param parameters parameters of method [10240]
     *        [partype1,value1,...,valuen]...[partypen,value1,..,valuen]
     * @return
     */
     private native String execute();

     public static void main(String args[]) {
         //new MediationJniWeb().callToFunction(null, null, null) ;
         MediationJniWeb jniWeb = new MediationJniWeb();
         jniWeb.library = "libtest.so" ;

         System.out.println(jniWeb.execute());
     }
    } 
```

我生成 .class 文件

> javac MediationJniWeb

我生成 .h 文件

> javah -jni MediationJniWeb

我的 MediationJniWeb.h 文件是

```
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
/* Header for class MediationJniWeb */

#ifndef _Included_MediationJniWeb
#define _Included_MediationJniWeb
#ifdef __cplusplus
extern "C" {
#endif
/*
 * Class:     MediationJniWeb
 * Method:    execute
 * Signature: ()Ljava/lang/String;
 */
JNIEXPORT jstring JNICALL Java_MediationJniWeb_execute
  (JNIEnv *, jobject);

#ifdef __cplusplus
}
#endif
#endif 
```

和我的 MediationJniWEB.cpp 文件

```
/* DO NOT EDIT THIS FILE - it is machine generated */
#include <jni.h>
#include <dlfcn.h>
#include <iostream>

#include "MediationJniWeb.h"

using namespace std ;

typedef void (*test)(string);
/*
 * Class:     MediationJniWeb
 * Method:    execute
 * Signature: ()Ljava/lang/String;
 */
JNIEXPORT jstring JNICALL Java_MediationJniWeb_execute
  (JNIEnv * env, jobject obj){

        const char * str_library ;
        jfieldID fid_library ;
        jstring jstr_library ;
        jboolean isCopy ;

        jclass cls = env->GetObjectClass( obj) ; 
        fid_library  = env->GetFieldID( cls,"library", "Ljava/lang/String;");
        jstr_library = ( jstring )env->GetObjectField( obj,fid_library);
        str_library = env->GetStringUTFChars( jstr_library, &isCopy) ; 

        void* handle = dlopen(str_library, RTLD_NOW); // open libtest.so

        if ( 0 == handle ) {
        cout << "failed to load 'libtest.so'. " << dlerror () <<endl;
        exit(1);
        }

        test t = (test)dlsym(handle, "_Z8testfuncSs"); // run default method
        if ( 0 == t ) {
        cout << "failed to load 'testfunc()'." << endl;
        exit(1);
        }
        t("Hello, World!");
        dlclose(handle); 

        /*
        */
        return env->NewStringUTF( str_library); // I just return library name just for fun
    }

  } 
```

我编译

> g++ -shared -fpic -I//include/ -I//include/linux/ MediationJniWeb.cpp -o lib-core-web.so MediationJniWeb.cpp -ldl

这会生成 lib-core-web.so 文件。然后我将它复制到 $HOME/lib 并配置

> LD_LIBRARY_PATH=$HOME/lib

现在我创建了我的库 libtest.so，它将由 lib-core-web.so 执行

我为共享库 mylib.cpp 创建文件

```
#include <iostream>
#include <string>

using namespace std;

void testfunc(string s)
{
  cout << s << endl;
} 
```

我编译这个将作为一个共享库工作

> g++ -shared -fpic -o libtest.so mylib.cpp

此命令生成 libtest.so 文件.. 而且，我将其复制到 $HOME/lib

这就是我从 JNI 调用 C++ 库以加载动态库的全部工作。当我执行 MediationJniWeb java 类时出现此错误

> 加载失败。libtest.so：无法打开共享对象文件：没有这样的文件或目录

我与 libtest.so 有什么关系？我必须把它放在哪里？

我记得只用正确的路径配置 LD_LIBRARY_PATH 变量，JVM 应该知道在哪里可以找到所有需要加载的库。

请帮助您发表评论，让我知道我的错误在哪里。

提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:47:36.710

我做过的一件简单的事

代替

> jniWeb.library = "libtest.so"

我声明要加载的库参数

> jniWeb.library = "/home/myuser/lib/libtest.so"

它奏效了！

# jquery - 如果 rails 中的 text_field_tag 表单助手被禁用，它不会提交吗？

> ID：15076785
> 
> 赞同：10
> 
> 时间：2013-02-25T21:26:42.943
> 
> 标签：jquery, ruby-on-rails-3.2, form-helpers

我的表单中有一个 text_field_tag，我真的希望它只是用于显示（我所有的 jquery 都会更新这个文本字段），使用日期选择器。虽然我不希望用户在这里输入，所以我说它`:disabled => true`确实被禁用了，这里的值发生了变化，但在我的 ajax 远程调用中它们不会保存，只有启用了 text_field_tag 才会保存。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-25T23:59:25.967

`:readonly => true`改为使用

# git - Git 跟踪一个不是起源的上游分支

> ID：15076791
> 
> 赞同：2
> 
> 时间：2013-02-25T21:26:50.917
> 
> 标签：git, version-control, git-branch

我有一个 Git 项目，我的同事都分叉了它。我想测试我的一位同事建立的功能。他们将更改合并到他们的主分支中（与我的不同的回购地址）。在本地，我想将分支称为“foo”并从中跟踪他们的分支。这样，当我这样做时，`git pull upstream ???`它会将他们的主人拉入我的本地功能分支......而不是他们的主人进入我的主人。

目前我们使用的是 Git 1.7.9.6。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:29:55.823

从你的回购，

### 1.8+

```
git branch -u remote/master local_branch 
```

### 1.7

```
git branch --set-upstream local_branch remote/master 
```

也就是说，如果您要从中提取的遥控器是`remote`并且它的分支是`master`. Git 1.7 语法仍然适用于 1.8，但 1.8 语法更容易记住。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:30:03.190

`git checkout -t upstream/branch_name`应该管用。`-t`是 的缩写`--track`。请参阅[http://gitready.com/intermediate/2009/01/09/checkout-remote-tracked-branch.html](http://gitready.com/intermediate/2009/01/09/checkout-remote-tracked-branch.html)

# ios - 随机生成“-1”或“1”——最短方法

> ID：15076795
> 
> 赞同：5
> 
> 时间：2013-02-25T21:27:00.890
> 
> 标签：ios, objective-c, random, integer, sign

我需要随机生成“-1”或“1”来随机确定数字的符号......最短的方法是什么？我目前正在使用它，但它似乎很长：

`sign = (round((arc4random() % 2)))-((round((arc4random() % 2))) == 0);`

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-25T21:28:24.567

怎么样`arc4random_uniform(2) ? -1 : 1`？

或者`arc4random_uniform(2)*2 - 1`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:47:48.223

```
short int randomNumber () {
return arc4random() % 2 ? 1 : -1;
} 
```

# ios - 如何使用省略号自动截断单词边界上的 UILabel？

> ID：15076805
> 
> 赞同：0
> 
> 时间：2013-02-25T21:27:35.173
> 
> 标签：ios, objective-c, cocoa, uilabel

我有一个 1 行标签，我想在单词边界上截断并添加省略号（即“The quick brown fox ...”而不是“The quick brown fix jum ...”。有没有简单的方法来实现这一点? 我尝试将 lineBreakMode 设置为 UILineBreakModeTailTruncation、UILineBreakModeWordWrap 和 UILineBreakModeTailTruncation | UILineBreakModeWordWrap，但这些都没有达到预期的行为。我也尝试了他们的 NSLineBreak... 对应物。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-19T06:55:06.057

我通过自定义这个[例子](http://iosdevelopertips.com/cocoa/truncate-an-nsstring-and-append-an-ellipsis-respecting-the-font-size.html)得到了这个工作。

我的代码用于`-[NSString enumerateSubstringsInRange:options:usingBlock:]`查找单词，然后对于找到的每个单词，我都会检查`-[NSString boundingRectWithSize:options:attributes:context:]`字符串是否仍然符合我的宽度限制。如果直到最新找到的单词的字符串超出了我的限制，我会使用找到的最后一个单词作为截断字符串的最后一个单词。

只需在字符串末尾附加省略号即可！

# java - c ++“new”关键字与java的比较

> ID：15076806
> 
> 赞同：0
> 
> 时间：2013-02-25T21:27:35.553
> 
> 标签：java, c++, object, pointers, member-initialization

首先，我希望这不是重复的。我是一名java程序员，现在改用c++。在java中你可以这样做

```
 Object obj = new Object(); 
```

据我了解，您可以在 c++ 中进行相同的操作（查看 java 中的 obj 如何仅作为参考保存在变量中），如下所示：

```
Object* obj = new Object(); 
```

我的问题是：这个物体能活多久？它和指针一样长吗？另外，这可能会做一个对象的成员初始化吗？如果是这样，只要将指针保存为成员变量（直到您将其存储在其中的对象被破坏），该对象就会存在吗？

抱歉有任何错别字。有一个美好的一天/晚上！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T21:30:23.753

该对象一直存在，直到有人调用`delete`指向它的指针为止。你不应该使用`new`and`delete`除非你正在实现一些没有其他选择的库功能，并且你*真的*知道你在做什么。默认操作不应该`new`直接使用，除非它是初始化一个[智能指针](http://en.wikipedia.org/wiki/Smart_pointer)或插入某个为您处理内存管理的类。

这将是创建默认构造实例的 C++ 方式`Object`：

```
Object obj; // calls the default constructor 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:32:23.467

**这个物体能活多久？**

直到你明确表示`delete`它。与 Java 不同，C++ 中通过动态实例化的对象`new`具有用户控制的生命周期并且不会被垃圾回收，因此当对它们的所有引用消失时，它们不会自动释放。如果您想要这种行为，那么有一些类可以`std::auto_ptr`为`std::unique_ptr`您处理。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T21:32:21.013

你创建一个像这样的对象。

在 .h 文件中，您有以下 Object *foo;

在 .cpp 类中，您可以像 java 一样初始化该类。

foo = 新对象（）；

然后，您使用 delete 关键字将其删除 - 因此在这种情况下删除 foo。

我和你在一条类似的船上。我强烈建议您了解指针（* 的东西）——它真的很强大。

编辑：如上所述，您也可以只执行 Object foo 在堆栈而不是堆上创建对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-25T21:33:42.453

在 C 或 C++ 中，它将一直存在，直到被删除。您通常希望将任何资源分配/解除分配（可以包括对 new/delete 和 malloc/free 的调用）包装在 ctor dtor 对中。例如

```
class ObjectManager
{
public:
    ObjectManager()
        : mObjectPtr(0)
    {
        mObjectPtr = new Object();
    }

    ~ObjectManager()
    {
        delete mObject;
    }
private:
    Object* mObjectPtr;
}; 
```

如果你使用它，你应该添加一些错误处理，以防 new 出现问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-25T21:57:23.063

C++ 中没有保证的垃圾收集器，因此它会一直存在，直到它被显式删除。

如果您想使用指针并喜欢更易于管理的东西，您可以使用[智能指针](https://stackoverflow.com/questions/106508/what-is-a-smart-pointer-and-when-should-i-use-one)

```
std::unique_ptr<Object> Obj = new Object(); 
```

根据链接的答案，有几种不同类型的智能指针，但基本上智能指针一旦超出范围就会自动销毁对象。

至于你问题的成员初始化部分，你可以做

```
TestMe()
{
  Object Obj();

  //Do something with object

} 
```

然后 Obj 在堆栈上创建并在超出范围时自动销毁。

# java - 创建自定义 getColor(byte r, byte g, byte b) 方法

> ID：15076813
> 
> 赞同：3
> 
> 时间：2013-02-25T21:27:52.367
> 
> 标签：java, colors, byte, rgb, 8-bit

我有一个简单的字节数组，我想从中获取颜色。我的计划是三个位来自红色，三个位为绿色，两个位为蓝色。8 位。

我认为颜色是正确的：

如果我错了，请纠正我，

```
 byte[] colours = new byte[256]; //256 different colours, 8 * 8 * 4 
                                 //(3 bits(red) + 3 bits(green) + 2 bits(blue)
 int index = 0;
 for(byte r = 0; r < 8; r++){ 
    for(byte g = 0; g < 8; g++){
       for(byte b = 0; b < 4; b++){
           byte rr = (r & 255);
           byte gg = (g & 255);
           byte bb = (b & 255);
           colours[index++] = (rr << 5 | gg << 2 | bb);   
       }
   }
} 
```

我的目标是制作一个 getColor(byte r, byte g, byte b) 像

```
public static byte getColor(byte r, byte g, byte b){
    return colours[return the right color using r g b];
} 
```

但我不知道怎么做。这是我需要帮助的地方。

如果可能的话，我宁愿不使用 Color 类。

其他信息：我正在使用 BufferedImage.TYPE.BYTE.INDEXED 进行绘画。

对不起，如果我的英语不好:)

编辑修复了错误的地方

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:25:23.863

Java`byte`是有符号的，用 2 的补码表示，所以你不能这样转换。
从 128 开始，您必须使用负值反转位模式。

```
byte[] colours = new byte[256];

for(int i = 0; i < colours.length; i++){ 
    colours[i] = (byte) (i < 128 ? i : i - 256);
} 
```

你的方法应该是这样的：

```
public static byte getColour(byte r, byte g, byte b)
        throws InvalidColourException {
    if (r >= 8 || r < 0)
        throw new InvalidColourException("Red is out of range.");
    if (g >= 8 || g < 0)
        throw new InvalidColourException("Green is out of range.");
    if (b >= 4 || b < 0)
        throw new InvalidColourException("Blue is out of range.");
    int i = (int) r << 5;
    i += (int) g << 2;
    i += (int) b;
    return colours[i];
} 
```

虽然，您可以将其全部缩小为一个方法，并丢弃该数组：

```
public static byte getColour(byte r, byte g, byte b)
        throws InvalidColourException {
    if (r >= 8 || r < 0)
        throw new InvalidColourException("Red is out of range.");
    if (g >= 8 || g < 0)
        throw new InvalidColourException("Green is out of range.");
    if (b >= 4 || b < 0)
        throw new InvalidColourException("Blue is out of range.");
    int c = (int) r << 5;
    c += (int) g << 2;
    c += (int) b;
    return (byte) c;
} 
```

# php - file_get_contents 忽略 verify_peer=>false？

> ID：15076819
> 
> 赞同：15
> 
> 时间：2013-02-25T21:28:13.160
> 
> 标签：php, ssl, https

带有 https 主机的 file_get_contents 工作得很好，除了特定的主机（来自某些公司的测试 api 服务器 - ip 白名单，不能给你测试的 URL）。这排除了未加载的 https 模块和其他初始设置错误。

我已经测试了多个 PHP 安装，都在 v5.3.3、32 位、Debian 32 位。

该请求适用于 cURL，但前提是设置`curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0);`. 但是，设置`verify_peer"=>false`file_get_contents 的上下文似乎没有什么区别。

使用 file_get_contents，完全相同的请求（相同的 URL，相同的 XML POST 数据）因**SSL 失败：对等连接重置**：

```
$arrContextOptions=array(
    "http" => array(
        "method" => "POST",
        "header" => 
            "Content-Type: application/xml; charset=utf-8;\r\n".
            "Connection: close\r\n",
        "ignore_errors" => true,
        "timeout" => (float)30.0,
        "content" => $strRequestXML,
    ),
    "ssl"=>array(
        "allow_self_signed"=>true,
        "verify_peer"=>false,
    ),
);

file_get_contents("https://somedomain:2000/abc/", false, stream_context_create($arrContextOptions)); 
```

.

有人用 file_get_contents 遇到过这个问题吗？**任何想法如何调试？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2018-08-16T23:17:16.927

你错过了`verify_peer_name`。如果您也将其设置为 false，则请求有效：

```
$arrContextOptions=array(
    "http" => array(
        "method" => "POST",
        "header" => 
            "Content-Type: application/xml; charset=utf-8;\r\n".
            "Connection: close\r\n",
        "ignore_errors" => true,
        "timeout" => (float)30.0,
        "content" => $strRequestXML,
    ),
    "ssl"=>array(
        "allow_self_signed"=>true,
        "verify_peer"=>false,
        "verify_peer_name"=>false,
    ),
);

file_get_contents("https://somedomain:2000/abc/", false, stream_context_create($arrContextOptions)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:55:41.847

不知道这是否真的有帮助，但请尝试`SSL`从您的选项数组中删除选项。

这背后的原因：根据[http://www.php.net/manual/en/context.ssl.php](http://www.php.net/manual/en/context.ssl.php)，默认情况下`verify_peer`。`false`

`allow_self_signed`需要`verify_peer`，`false`默认情况下是。

从上面，我收集到`allow_self_signed`可能会覆盖您对`verify_peer`.

因此，请尝试不带任何选项`SSL`或不带`allow_self_signed`, 并让我们知道这是否有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T01:25:56.540

您可以尝试使用[Wireshark](http://www.wireshark.org/)进行调试——您可能会更好地了解出了什么问题，您应该看到发生了哪个 SSL 错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T09:00:08.367

试试这个代码：

```
$fp = fsockopen("ssl://somedomain/abc/", 2000 , $ErrNo, $ErrString, 30);
if (!$fp) {
    echo "Error No : $ErrNo - $ErrString <br />\n";
} else {
    $out  = "POST / HTTP/1.1\r\n";
    $out .= "Host: somedomain \r\n";
    $out .= "Content-Type: application/xml; charset=utf-8;\r\n";
    $out .= "Connection: Close\r\n\r\n";
    fwrite($fp, $out);
    while (!feof($fp)) {
        echo fgets($fp, 128);
    }
    fclose($fp);
} 
```

如果您没有收到错误，我认为问题（使用 file_get_contents）来自客户端 php 配置，否则来自服务器配置。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2016-07-31T13:14:33.333

只安装这个

```
yum install ca-certificates.noarch 
```

# java - Java SSLHandshakeException“没有共同的密码套件”

> ID：15076820
> 
> 赞同：48
> 
> 时间：2013-02-25T21:28:20.620
> 
> 标签：java, ssl, sslhandshakeexception

我正在使用 SSLServerSocket 在我的 openSUSE 服务器上接受客户端连接，但它们都无法连接。我总是得到一个 SSLHandshakeException 说`no cipher suites in common`。我已经激活了所有可能的套件，启用了多种协议，并尝试了最新的 oracle JRE 和 openjdk。此外，我还关注了论坛和其他东西上的其他几篇帖子，并“解锁”了 oracle 的 jre 中的所有密码套件，并像这样更改了 openjdk jre 的设置：

禁用：`#security.provider.10=sun.security.pkcs11.SunPKCS11 ${java.home}/lib/security/nss.cfg` 并启用：`security.provider.9=sun.security.ec.SunEC`

这就是我初始化 SSLServerSocket 的方式：

```
 System.setProperty("javax.net.ssl.keyStore", "./keystore");
    System.setProperty("javax.net.ssl.keyStorePassword", "nopassword");
    java.lang.System.setProperty("sun.security.ssl.allowUnsafeRenegotiation", "true");

// Create a trust manager that does not validate certificate chains
    TrustManager[] trustAllCerts = new TrustManager[] {
            new X509TrustManager() {
                public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {
                }

                public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {
                }

                public java.security.cert.X509Certificate[] getAcceptedIssuers() {
                    return null;
                }
            }
    };

    // Install the all-trusting trust manager
    SSLContext sc = SSLContext.getInstance("TLSv1.2");
    sc.init(null, trustAllCerts, new SecureRandom());
    SSLServerSocket ssl = (SSLServerSocket) sc.getServerSocketFactory().createServerSocket(
            DownloadFilelist.PORT);
    // Got rid of:
    //ssl.setEnabledCipherSuites(sc.getServerSocketFactory().getSupportedCipherSuites());
    ssl.setEnabledProtocols(new String[] {"TLSv1", "TLSv1.1", "TLSv1.2", "SSLv3"});

    // System.out.println(Arrays.toString(ssl.getEnabledCipherSuites()));

    s = ssl;
    // s = new ServerSocket(DownloadFilelist.PORT);
    s.setSoTimeout(TIMEOUT); 
```

问题是我无法找出客户想要的密码套件，我也无法影响它。我用 启动程序`-Djavax.net.debug=ssl,handshake`，[结果](http://pastebin.com/ypj1Wf5C)如下。你们中的某个人能找出问题所在吗？

**编辑**密钥库是通过以下方式生成的：`keytool -genkey -keyalg RSA -keystore ./keystore`

这是此页面上的代码，如果有帮助（似乎格式没有弄乱）：

```
trigger seeding of SecureRandom
trigger seeding of SecureRandom
done seeding SecureRandom
done seeding SecureRandom
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA
Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_RC4_128_SHA
Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_RC4_128_SHA
Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA
Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384
Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
main, setSoTimeout(2000) called
Allow unsafe renegotiation: true
Allow legacy hello messages: true
Is initial handshake: true
Is secure renegotiation: false
%% No cached client session
*** ClientHello, TLSv1
RandomCookie:  GMT: 1361763651 bytes = { 159, 113, 250, 254, 103, 37, 66, 234, 127, 4, 36, 240, 60, 252, 55, 112, 6, 224, 192, 181, 146, 163, 63, 148, 152, 255, 77, 8 }
Session ID:  {}
Cipher Suites: [TLS_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
Compression Methods:  { 0 }
***
main, WRITE: TLSv1 Handshake, length = 67
main, READ: TLSv1 Handshake, length = 81
*** ServerHello, TLSv1
RandomCookie:  GMT: 1361763767 bytes = { 249, 20, 120, 68, 76, 110, 168, 235, 47, 91, 119, 64, 151, 242, 169, 191, 111, 105, 146, 90, 173, 223, 55, 127, 133, 12, 1, 247 }
Session ID:  {246, 66, 250, 209, 13, 188, 190, 246, 14, 49, 113, 183, 192, 202, 68, 246, 121, 162, 165, 71, 242, 220, 233, 223, 245, 47, 250, 215, 203, 94, 255, 148}
Cipher Suite: TLS_RSA_WITH_AES_256_CBC_SHA
Compression Method: 0
Extension renegotiation_info, renegotiated_connection: <empty>
***
%% Initialized:  [Session-1, TLS_RSA_WITH_AES_256_CBC_SHA]
** TLS_RSA_WITH_AES_256_CBC_SHA
main, READ: TLSv1 Handshake, length = 933
*** Certificate chain
chain [0] = [
[
  Version: V3
  Subject: CN=dc.hadiko.de, O=hadiko dc, L=town, ST=land of the free, C=de
  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5

  Key:  Sun RSA public key, 2048 bits
  modulus: 22613010171436639614880560956464961031555258188367451246658444583390999370970098210909007150132692078653881042731046316239498513359691936582885343174669796075601988313858262934995935649363223919652108615287224220030023261629874169998331654587246748976585212101810697310529416436829153514374554242128947092694064999520197281527578067183301918060451970607703466399571245107774569719996572643148013190800713656468629158991997127544540177983174906099325217344868710319256330960086862269228933938482311029685238274537823670267001618579382801319470736924423550865055775144486750164961588873175599114046362924859400297960451
  public exponent: 65537
  Validity: [From: Sat Jul 07 12:56:23 CEST 2012,
               To: Tue Jul 07 12:56:23 CEST 2015]
  Issuer: CN=dc.hadiko.de, O=hadiko dc, L=town, ST=land of the free, C=de
  SerialNumber: [    8682354f f94fbbb5]

Certificate Extensions: 3
[1]: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: 43 1D D9 A7 CF 21 2E 17   F3 4E EE F6 6C 6C 88 16  C....!...N..ll..
0010: 08 3C 67 8E                                        .<g.
]
]

[2]: ObjectId: 2.5.29.19 Criticality=false
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

[3]: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: 43 1D D9 A7 CF 21 2E 17   F3 4E EE F6 6C 6C 88 16  C....!...N..ll..
0010: 08 3C 67 8E                                        .<g.
]
]

]
  Algorithm: [SHA1withRSA]
  Signature:
0000: 14 83 48 D3 EC 39 49 E3   9C BC 20 F5 BF E4 32 33  ..H..9I... ...23
0010: 5F 09 8F 2D F2 C3 82 80   79 93 9A C1 97 93 92 D9  _..-....y.......
0020: D0 DA 4D B2 FC A1 43 60   1F B9 EA 4C 29 D7 79 D0  ..M...C`...L).y.
0030: 66 8C 25 14 EB 9D 60 94   D7 F4 15 33 8B 17 24 24  f.%...`....3..$$
0040: 5C 65 26 3D C3 B0 8A 51   B6 27 01 D1 A6 A3 68 87  \e&=...Q.'....h.
0050: 2D 6F 0B E6 00 96 B6 CF   BC E9 D2 9C 7E 19 9E E1  -o..............
0060: 3A 96 42 2E B7 E8 C0 70   01 99 20 39 89 6D 94 2B  :.B....p.. 9.m.+
0070: 76 2F F1 0E 6D 2D 9B 52   77 D3 63 6A 11 DC A3 E6  v/..m-.Rw.cj....
0080: 4E 0E 64 6D FA 77 BC 1E   4F C3 91 AD 21 F7 5D 31  N.dm.w..O...!.]1
0090: F9 04 A5 FA 34 EF 43 61   F1 42 32 5A 9B D1 16 84  ....4.Ca.B2Z....
00A0: 07 2B CA 01 AF 84 54 D2   A9 C4 3A 7A EA D1 2A 95  .+....T...:z..*.
00B0: 47 30 03 BA 48 C4 57 1F   78 58 6C 7A 56 60 40 2C  G0..H.W.xXlzV`@,
00C0: 6A 17 15 3F 43 A5 FB 81   4D 9D 1B DC A7 CE 78 D1  j..?C...M.....x.
00D0: 5A 66 97 79 04 55 DA 34   3C B2 CD 9A 62 EE 32 22  Zf.y.U.4<...b.2"
00E0: 70 84 0E 3E 5D 7F 91 0D   A5 D4 84 6B F3 E9 40 E9  p..>]......k..@.
00F0: E8 69 D7 E5 FC B6 0A 4C   35 66 CC BA E5 38 12 A0  .i.....L5f...8..

]
***
main, READ: TLSv1 Handshake, length = 4
*** ServerHelloDone
*** ClientKeyExchange, RSA PreMasterSecret, TLSv1
main, WRITE: TLSv1 Handshake, length = 262
SESSION KEYGEN:
PreMaster Secret:
0000: 03 01 59 D3 0F F9 95 E8   DC E2 C2 4A 2B 93 79 55  ..Y........J+.yU
0010: 0B 1A 43 5E F4 0A 73 F1   13 E1 00 DF 78 55 F6 52  ..C^..s.....xU.R
0020: 4E 6A D3 2C F8 08 A1 B3   03 DF C9 5E 8C 14 8D 4E  Nj.,.......^...N
CONNECTION KEYGEN:
Client Nonce:
0000: 51 2B DD 43 9F 71 FA FE   67 25 42 EA 7F 04 24 F0  Q+.C.q..g%B...$.
0010: 3C FC 37 70 06 E0 C0 B5   92 A3 3F 94 98 FF 4D 08  <.7p......?...M.
Server Nonce:
0000: 51 2B DE B7 F9 14 78 44   4C 6E A8 EB 2F 5B 77 40  Q+....xDLn../[w@
0010: 97 F2 A9 BF 6F 69 92 5A   AD DF 37 7F 85 0C 01 F7  ....oi.Z..7.....
Master Secret:
0000: 3E 9E 24 42 3D E4 82 AF   AD 97 76 EF 06 EF FB FD  >.$B=.....v.....
0010: C8 1A D5 7E 8E A2 74 4D   E8 E7 B9 1E 60 E9 E0 6F  ......tM....`..o
0020: 09 E3 56 81 FC 2D 20 D9   69 6B 26 C3 0B C5 53 5F  ..V..- .ik&...S_
Client MAC write Secret:
0000: 04 30 70 7E A9 4A 1F 88   55 F8 31 31 75 36 40 35  .0p..J..U.11u6@5
0010: 25 65 24 5D                                        %e$]
Server MAC write Secret:
0000: 8B C1 65 50 6D 11 21 32   CD 50 3A AB 0F 2E A5 FC  ..ePm.!2.P:.....
0010: C7 30 E6 EC                                        .0..
Client write key:
0000: 25 D7 96 B0 9A 1F 49 95   06 4D 05 36 2E D0 38 04  %.....I..M.6..8.
0010: 0F 32 15 2E 8F 0A 6C 79   F8 ED E8 9B FE 5C 2C D8  .2....ly.....\,.
Server write key:
0000: 4A 91 5D DF B2 FE 6F 35   3E 8A 21 DF 17 E0 35 F0  J.]...o5>.!...5.
0010: DB 97 4C 7E 18 07 7E 27   DD AD BC C4 C4 28 C5 E1  ..L....'.....(..
Client write IV:
0000: B6 C1 98 05 9B 37 F9 0F   4E 0C 0F 6E 08 8A 26 C9  .....7..N..n..&.
Server write IV:
0000: 0E 83 27 3E 3B 40 E8 BE   4C 58 C4 5F EF E4 D3 4C  ..'>;@..LX._...L
main, WRITE: TLSv1 Change Cipher Spec, length = 1
*** Finished
verify_data:  { 23, 181, 134, 191, 68, 30, 119, 81, 239, 135, 238, 80 }
***
main, WRITE: TLSv1 Handshake, length = 48
main, READ: TLSv1 Change Cipher Spec, length = 1
main, READ: TLSv1 Handshake, length = 48
*** Finished
verify_data:  { 254, 182, 228, 50, 121, 214, 35, 175, 100, 128, 102, 152 }
***
%% Cached client session: [Session-1, TLS_RSA_WITH_AES_256_CBC_SHA]
main, WRITE: TLSv1 Application Data, length = 48
HSent: HSUP ADBASE ADTIGR ADBLOM
main, READ: TLSv1 Application Data, length = 32
main, READ: TLSv1 Application Data, length = 48
main, READ: TLSv1 Application Data, length = 32
main, READ: TLSv1 Application Data, length = 32
main, WRITE: TLSv1 Application Data, length = 32
main, WRITE: TLSv1 Application Data, length = 288
ClientManager, READ: TLSv1 Application Data, length = 32
ClientManager, READ: TLSv1 Application Data, length = 96

[...] (Cut out becauseI exceeded body limit.)

ClientManager, READ: TLSv1 Application Data, length = 80
ClientManager, READ: TLSv1 Application Data, length = 32
ClientManager, READ: TLSv1 Application Data, length = 80
main, WRITE: TLSv1 Application Data, length = 32
main, WRITE: TLSv1 Application Data, length = 64
Allow unsafe renegotiation: true
Allow legacy hello messages: true
Is initial handshake: true
Is secure renegotiation: false
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for SSLv3
Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for SSLv3
Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for SSLv3
Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1
Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLSv1
Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLSv1
Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1.1
Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLSv1.1
Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLSv1.1
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_RC4_128_SHA
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384
A client, READ: SSLv3 Handshake, length = 112
Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256
Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA
Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
*** ClientHello, TLSv1.2
RandomCookie:  GMT: 1361763651 bytes = { 47, 7, 95, 146, 25, 28, 95, 191, 146, 159, 184, 47, 149, 220, 67, 169, 121, 123, 252, 98, 0, 253, 108, 88, 108, 188, 52, 76 }
Session ID:  {}
Cipher Suites: [TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_CAMELLIA_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_RSA_WITH_CAMELLIA_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_MD5]
Compression Methods:  { 0 }
Extension renegotiation_info, renegotiated_connection: <empty>
Extension signature_algorithms, signature_algorithms: Unknown (hash:0x4, signature:0x2), SHA256withRSA, SHA1withRSA, SHA1withDSA
***
%% Initialized:  [Session-2, SSL_NULL_WITH_NULL_NULL]
%% Invalidated:  [Session-2, SSL_NULL_WITH_NULL_NULL]
A client, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure
A client, WRITE: TLSv1.2 Alert, length = 2
A client, called closeSocket()
A client, handling exception: javax.net.ssl.SSLHandshakeException: no cipher suites in common 
```

输出包含一个连接到另一台工作的服务器，然后连接到我的服务器。我无法删除另一个连接，因为我正在获取有关如何通过此连接进行连接的信息。如果可能的话，我可以在第一次连接后启用调试，但我不知道如何......

我删除了所有不相关的输出（我创建的输出）。

**更新：**

我什至无法连接到自己。当我在同一个应用程序中创建一个 SSLServerSocket 和一个 SSLSocket 以连接到它时，我得到了同样的错误。但是当我比较启用的密码套件列表时，两个套接字都支持一堆套件。我已经使用最新的 JDK 在 Windows 7 64 位上进行了测试。

**更新：**

我刚刚使用教程从头开始我的程序的服务器部分，并且神奇地工作......我不知道为什么，但似乎我应该尽可能多地使用标准实现。我把声誉归功于布鲁诺，因为他在自己的岗位上付出了最大的努力。

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2013-02-28T20:10:03.730

你正在`SSLContext`用一个`null` `KeyManager`数组初始化你的。

密钥管理器负责处理服务器证书（在服务器端），这可能是您在使用`javax.net.ssl.keyStore`.

但是，如[JSSE 参考指南](http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#SSLContext)中所述，使用`null`第一个参数并不会像您认为的那样：

> 如果 KeyManager[] 参数为 null，则将为该上下文定义一个空的 KeyManager。如果 TrustManager[] 参数为空，将在已安装的安全提供程序中搜索 TrustManagerFactory 的最高优先级实现，从中获取适当的 TrustManager。同样，SecureRandom 参数可能为空，在这种情况下将使用默认实现。

空`KeyManager`不包含任何 RSA 或 DSA 证书。因此，将禁用依赖此类证书的所有默认密码套件。这就是为什么您会收到所有这些“*忽略不可用密码套件*”消息，最终导致“*没有通用密码套件*”消息。

如果您希望将密钥库用作密钥库，则需要加载它并使用它初始化 KeyManagerFactory：

```
 KeyStore ks = KeyStore.getInstance("JKS");
    InputStream ksIs = new FileInputStream("...");
    try {
        ks.load(ksIs, "password".toCharArray());
    } finally {
        if (ksIs != null) {
            ksIs.close();
        }
    }

    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory
            .getDefaultAlgorithm());
    kmf.init(ks, "keypassword".toCharArray()); 
```

`kmf.getKeyManagers()`作为第一个参数的用途`SSLContext.init()`。

对于其他两个参数，由于您显然没有请求客户端证书身份验证，因此您应该将信任管理器保留为其默认值 ( `null`)，而不是复制/粘贴可能导致漏洞的信任管理器，您还可以使用默认的`null` `SecureRandom`.

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2015-08-10T06:37:26.610

我自己也遇到过这个异常，所以我深入研究了 JRE 源代码。很明显，该消息具有误导性。这*可能*意味着它所说的，但更一般地说，它意味着服务器没有以请求的方式响应客户端所需的数据。例如，如果密钥库中缺少证书，或者没有使用适当的算法生成证书，则可能会发生这种情况。事实上，考虑到默认安装的密码套件，由于缺乏通用密码套件，人们必须竭尽全力才能真正获得此异常。在我的特殊情况下，我使用 DSA 的默认算法生成证书，而我需要让服务器与 Firefox 一起工作的是 RSA。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-02-25T21:47:52.533

这个问题可能是由于在客户端或服务器上对启用的密码套件进行了不当操作，但我怀疑最常见的原因是服务器根本没有私钥和证书。

注意：

```
ssl.setEnabledCipherSuites(sc.getServerSocketFactory().getSupportedCipherSuites()); 
```

摆脱这条线。你的服务器已经足够不安全了`TrustManager`。`-Djavax.net.debug=SSL,handshake,`然后尝试一次连接运行您的服务器，并在此处发布结果输出。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-03-27T23:37:35.290

在我启动 java 时进行调试，添加如下所述：

```
-Djavax.net.debug=ssl 
```

然后您可以看到浏览器尝试使用 TLSv1 并且 Jetty 9.1.3 正在使用 TLSv1.2，因此它们没有进行通信。那就是火狐。Chrome 想要 SSLv3，所以我也添加了它。

```
sslContextFactory.setIncludeProtocols( "TLSv1", "SSLv3" );  <-- Fix
sslContextFactory.setRenegotiationAllowed(true);   <-- added don't know if helps anything. 
```

我没有做原始海报所做的大部分其他事情：

```
// Create a trust manager that does not validate certificate chains
TrustManager[] trustAllCerts = new TrustManager[] { 
```

或这个答案：

```
KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory
        .getDefaultAlgorithm()); 
```

或者

```
.setEnabledCipherSuites 
```

* * *

我创建了一个这样的自签名证书：（但我在文件名中添加了 .jks）并在我的 jetty java 代码中读取它。 [http://www.eclipse.org/jetty/documentation/current/configuring-ssl.html](http://www.eclipse.org/jetty/documentation/current/configuring-ssl.html)

```
keytool -keystore keystore.jks -alias jetty -genkey -keyalg RSA 
```

名字和姓氏 *.mywebdomain.com

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2017-10-02T07:39:51.670

就我而言，我收到此`no cipher suites in common`错误是因为我已将`p12`格式文件加载到服务器的密钥库，而不是`jks`文件。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-02-28T11:56:39.887

您似乎正在尝试使用 TLSv1.2 进行连接，该协议并未在服务器上广泛实施。您的目的地是否支持 tls1.2？

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-07-25T01:51:34.670

我收到了这个错误……不幸的是……我必须使用的包，但我没有源代码。经过大量挖掘（谢谢，Stack Overflow）并尝试了无尽的组合，我终于让事情运行了：

1.  使用整个证书链创建[JKS 。](https://en.wikipedia.org/wiki/Java_KeyStore)

2.  确保 JKS 中的密钥具有机器的[FQDN](https://en.wikipedia.org/wiki/Fully_qualified_domain_name)的别名。

3.  重命名我的机器 ${FQDN}.cert 的证书别名

这对 java 命令行选项进行了无休止的实验：

```
-Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager 
-Djava.security.debug=access:stack 
```

我的密钥和[CSR](https://en.wikipedia.org/wiki/Certificate_signing_request)是在 OpenSSL 中生成的，因此我必须使用以下命令导入密钥：

```
openssl pkcs12 -export -in  cert.pem -inkey  cert.key -CAfile fullChain.pem -name ${FQDN} -out cert.p12
keytool -importkeystore -destkeystore cert.jks -srckeystore cert.p12 -srcstoretype PKCS12 
```

keytool 抱怨格式，所以我转换了格式，然后添加了我的证书链：

```
keytool -importkeystore -srckeystore cert.jks -destkeystore cert_p12.jks -deststoretype pkcs12
keytool -import -trustcacerts -alias 'DigiCert Global Root G2 IntermediateCA' -keystore cert_p12.jks -file cert2.pem -storepass "$STOREPASS" -keypass "$KEYPASS" 
keytool -import -trustcacerts -alias 'DigiCert Global Root G2'                -keystore cert_p12.jks -file cert3.pem -storepass "$STOREPASS" -keypass "$KEYPASS" 
```

（其中 cert2.pem 和 cert3.pem 是从 DigiCert 网站下载并转换为 PEM 格式的。）当我使用生成的`jks`文件重新启动应用程序时，一切都开始工作了。

作为其中的一部分，我发现了其他一些东西。您可以使用以下方法检查证书链：

```
openssl x509 -in cert2.pem -noout -text 
```

对于你所有的证书和研究输出，注意`X509v3 Authority Key Identifier:`和`X509v3 Authority Key Identifier:`行。`X509v3 Authority Key Identifier:`一个级别的 与下`X509v3 Subject Key Identifier:`一个更高级别的 相匹配。`Issuer:`当字符串与字符串匹配时，您找到了链的顶部`Subject:`。

我希望这可以为我节省一些时间。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2016-12-23T06:53:39.620

服务器

```
import java.net.*;
import java.io.*;
import java.util.*;
import javax.net.ssl.*;
import javax.net.*;
class Test{
  public static void main(String[] args){
    try{
      SSLContext context = SSLContext.getInstance("TLSv1.2");
      context.init(null,null,null);
      SSLServerSocketFactory serverSocketFactory = context.getServerSocketFactory();
      SSLServerSocket server = (SSLServerSocket)serverSocketFactory.createServerSocket(1024);
      server.setEnabledCipherSuites(server.getSupportedCipherSuites());
      SSLSocket socket = (SSLSocket)server.accept();
      DataInputStream in = new DataInputStream(socket.getInputStream());
      DataOutputStream out = new DataOutputStream(socket.getOutputStream());
      System.out.println(in.readInt());
    }catch(Exception e){e.printStackTrace();}
  }
} 
```

客户

```
import java.net.*;
import java.io.*;
import java.util.*;
import javax.net.ssl.*;
import javax.net.*;
class Test2{
  public static void main(String[] args){
    try{
      SSLContext context = SSLContext.getInstance("TLSv1.2");
      context.init(null,null,null);
      SSLSocketFactory socketFactory = context.getSocketFactory();
      SSLSocket socket = (SSLSocket)socketFactory.createSocket("localhost", 1024);
      socket.setEnabledCipherSuites(socket.getSupportedCipherSuites());
      DataInputStream in = new DataInputStream(socket.getInputStream());
      DataOutputStream out = new DataOutputStream(socket.getOutputStream());
      out.writeInt(1337);     
    }catch(Exception e){e.printStackTrace();}
  }
} 
```

server.setEnabledCipherSuites(server.getSupportedCipherSuites()); socket.setEnabledCipherSuites(socket.getSupportedCipherSuites());

# sql - SSRS 2005 报告的记录重复

> ID：15076828
> 
> 赞同：0
> 
> 时间：2013-02-25T21:28:54.860
> 
> 标签：sql, sql-server, reporting-services

当我为采购订单运行报表时，报表会重复产品代码的记录。

例如采购订单是：P000976，报表显示产品代码两次，而它应该只出现一次。45-5540 出现两次。

P000976 09-17-2012 15,040.00 15,040.00 0.00
45-5540 “Lordotic Cervical Spacer 10mm Lordotic Cervical Spacer 10mm” 20 20 0
45-5540 “Lordotic Cervical Spacer 10mm Lordotic Cervical Spacer 10mm” 20 20 0

当我将报告的 SQL 放入 SQL Server 并通过查看代码导致附加产品代码的位置来运行 sql 时，它是 SQL 中的这一行：

在 q.distpartno = p.distpartno 上加入 all_product_codes_VW p

```
select q.specialrequirement
, q.distpartno
, q.toproduce
, q.prodbegindate
, q.distributor
, rc.report_category_name
, s.productperpo
, r.ebi_released
, w.ebi_in_WIP
, p.distproductname
, tp.typeprefixdetail
, tp.cost
, '1' as ReportTotals

from all_required_vw q
left join all_shipped_grafts_new_VW s on (q.distpartno = s.distpartno and  q.specialrequirement = s.ponumber)
left join all_released_Grafts_VW r on q.distpartno = r.distpartno
left join all_in_WIP_VW w on q.distpartno = w.distpartno
join all_product_codes_VW p on q.distpartno = p.distpartno
join setup_tissue_prefix tp on q.typenumber = tp.typeprefix
join setup_report_category_1 rc on q.distributor = rc.report_category_id

where q.prodbegindate < @enddate
           and q.completed = '0'
            and rc.report_category_name  like  '%' + isnull(@tcustomer, '') + '%'
order by q.prodbegindate, p.distproductname 
```

这是连接为其创建副本的视图的 SQL。

```
SELECT COUNT_BIG(*) AS BIG, DistPartNo, DistProductName, Distributor, UMTBProductCode
FROM  dbo.Setup_Distributor_Product_info
WHERE (Distributor <> '7') OR (Distributor IS NULL)
GROUP BY DistPartNo, DistProductName, Distributor, USSAProductCode 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:32:33.557

可能的这个 GROUP BY 子句

```
GROUP BY DistPartNo, DistProductName, Distributor, USSAProductCode 
```

需要更换这个

```
GROUP BY DistPartNo, DistProductName, Distributor, UMTBProductCode 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T00:22:02.773

如果您注释掉这些行

```
--, p.distproductname

--join all_product_codes_VW p on q.distpartno = p.distpartno 
```

查询是否为每个 distpartno 返回单行？如果是，那么你是对的，all_products_code_VW 视图导致了多行。

运行这两个查询并查看每个查询中有多少行，它将为您提供有关原因的线索：

```
Select * from all_required_vw where distpartno = '45-5540'
Select * from all_product_codes_VW where distpartno = '45-5540' 
```

我的猜测是，仅加入 distpartno 不足以为您提供独特的结果。同一零件可能有多个分销商，或者同一零件编号可能有多个产品名称，例如，不同的分销商对不同的产品使用相同的零件编号。

# python - sip 文件语法错误

> ID：15076833
> 
> 赞同：0
> 
> 时间：2013-02-25T21:29:13.880
> 
> 标签：python, qt4, pyqt4, python-sip

我正在创建一个 SIP 文件来控制我一直在从事的项目的多个 .sip 文件的构建。我使用 PyQt 附带的文件之一作为示例，说明如何构建一个文件，该文件将导入其他 .sip 文件并在一次调用“sip”时构建它们。当我运行我的 configure.py 脚本时，我得到了输出：

```
sip: syntax error 
```

我尝试使用 sip 运行的主要 .sip 文件如下：

```
%Module(name=MyModule, keyword_arguments="All")

%Import QtGui/QtGuimod.sip

%ModuleHeaderCode
#include <MyModule_global.h>
%end

%Include mymodule.sip
%Include node.sip 
```

我似乎找不到任何明显的语法错误。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-24T02:17:55.957

在 %ModuleHeaderCode 之后尝试：%End 而不是 %end

# jqgrid - jqgrid：使用setselection就像用户点击了行一样？

> ID：15076835
> 
> 赞同：1
> 
> 时间：2013-02-25T21:29:18.653
> 
> 标签：jqgrid

我有一个绑定键的网格（主/详细信息）。我希望在页面开始时自动选择主网格中的第一行。

我在 GridComplete 事件中使用了 setSelection 并且可以选择行。但是，在用户实际使用鼠标单击一行之前，向上/向下箭头（和详细信息网格）不起作用。

有没有人对如何以编程方式选择行以使网格像用户单击该行一样运行有任何想法？

谢谢，

-账单

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:59:04.537

问题是网格没有焦点，所以当最初显示网格时，键盘命令不会路由到它。[`focus`](http://api.jquery.com/focus/)您可以通过在设置初始选择后显式调用来解决此问题：

```
jQuery("#myGrid").setSelection(myID).focus(); 
```

# windows-phone-7 - 如何根据 Windows Phone 7 中 ViewModel 页面上的属性更改 DataTemplate？

> ID：15076837
> 
> 赞同：1
> 
> 时间：2013-02-25T21:29:26.040
> 
> 标签：windows-phone-7, xaml, binding

我有一个 ViewModel，其中包含一个布尔属性，它告诉您用户是否已通过身份验证。

我有一个 WrapPanel，它绑定到一组配置文件。这些配置文件的 DataTemplate 有一个图标 - 用户未通过身份验证时的闭合挂锁和用户通过身份验证时打开的挂锁。理想情况下，这些将绑定到 ViewModel 上的布尔值，但模板的 DataContext 是单独的配置文件对象。

我努力了，

*   [按此处指定](https://stackoverflow.com/questions/11017014/binding-to-property-in-owning-windows-viewmodel-within-a-datatemplate-in-window)`Source`的方式在绑定中设置选择器，尽管 Windows Phone 7 似乎不支持`x:Reference`
*   我还尝试了[此处详述的控制反转（？）方法](https://stackoverflow.com/questions/6060099/how-to-bind-to-viewmodel-property-in-datatemplate-wp7)（但`containerLocator`在我的对象上找不到）
*   我尝试应用 a`Style.Trigger`但这些在 Windows Phone 7 中不受支持
*   我还尝试访问后面代码中的 XAML 元素并以编程方式更新事件触发器，但是我无法处理`Image`DataTemplate 中的元素

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:33:40.320

**评论后编辑**：WP7 不支持样式触发器。但是，如果有人在以下版本中寻找这个答案，我会在下面回复：

我会使用[这里](http://msdn.microsoft.com/en-us/library/system.windows.style.triggers.aspx)`Style Trigger`看到的来动态更新图标属性 - 作为你的风格的一部分，这样你就可以掌握你的.`Source``DataTemplate``Image`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T12:35:01.987

我发现的一种方法是基于[Damian Antonowicz 的回答，](https://stackoverflow.com/questions/6060099/how-to-bind-to-viewmodel-property-in-datatemplate-wp7)但没有实现他使用的完全反转控制方法，如下所示，

在您的视图模型命名空间下创建一个解析为您的视图模型实例的部分类，例如

```
public partial class ViewModelInstanceLocator
{
    public AppViewModel AppViewModel // Or whatever the type of your view-model is ...
    {
        get 
        { 
            return App.VM; // Or wherever your view model instance is ...
        }
    }
} 
```

在您的 XAML 页面中将类的另一半定义为资源，以便可以将其称为静态资源，我在我的文件中`App.xaml`这样做，以便可以在任何地方引用它，

```
<ResourceDictionary>
    <viewmodel:ViewModelInstanceLocator x:Key="ViewModelInstanceLocator" />
    ...
</ResourceDictionary> 
```

如果还没有对您的视图模型命名空间的引用，您可能需要包含相关的命名空间，例如在顶部，

```
 xmlns:viewmodel="clr-namespace:MyAppNamespace.ViewModel" 
```

最后绑定到视图模型如下，

```
{Binding AppViewModel.SomeProperty, Source={StaticResource ViewModelInstanceLocator}} 
```

绑定像往常一样更新，就像通过 DataContext 引用了视图模型实例一样。但是，**它不适用于设计时数据**。

# android - 如何捕捉用于启动应用程序的意图？

> ID：15076838
> 
> 赞同：0
> 
> 时间：2013-02-25T21:29:26.453
> 
> 标签：android

我正在尝试收集不同应用程序的启动时间，即用户点击某个应用程序图标的时间。

我猜可能有一个意图被发送来响应这个事件，如果是这样，如何捕捉这个意图，所以我会知道一个应用程序刚刚启动，并记录当前时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:34:16.227

> 我想可能有一个意图被发送来响应这个事件

不，对不起。`startActivity()`仅`Intent`与起始活动（可能还有选择器）一起使用。没有`Intent`关于活动开始的广播。

> 我正在尝试收集不同应用程序的启动时间，即用户点击某个应用程序图标的时间。

那是不可能的。

一个经典的解决方法是密切关注 LogCat。自 Android 4.2 起，此技术已被阻止。

`ActivityManager`除此之外，如果您不介意消耗大量电池并且不需要良好的准确性，欢迎您尝试投票或类似的脚本小子解决方案。

# android - 处理片段和视图寻呼机：无法将片段标签和递归条目更改为 executePendingTransactions

> ID：15076839
> 
> 赞同：5
> 
> 时间：2013-02-25T21:29:29.533
> 
> 标签：android, android-fragments, android-viewpager

首先，我知道这些主题已经在 stackoverflow 上创建了很多时间，但我还没有找到解决问题的方法。其次，我是法国人，所以我的英语不是很完美，如果你不明白的话，请提前向我道歉。为了结束这个介绍，我是第一次处理碎片，所以，如果有什么我不太了解的地方，请见谅！

我有三个按钮，允许在三个片段之间切换。在其中一个片段中，我有一个带有两个片段的视图寻呼机。目前，每个片段（有 5 个）仅包含一个 TextView。我正在使用最新版本的android-support-v4（我在stackoverflow中阅读了很多主题，说最新版本的支持解决了我遇到的“recursive entry to executePendingTransactions”错误）。

我的两个问题：

*   当我在一个按钮上单击两次时，我有一个 IllegaleStateException “无法更改片段标签”。我可以通过在 onButtonSelected 方法上创建一个新片段来解决这个问题，但是出于内存原因和功能原因，我不想每次都重新创建片段：片段必须保持她的状态。这个问题不是我的主要问题，确实，我知道当用户已经在片段上时禁用按钮是可能的，但是当这个管理没有完成时出现异常是很奇怪的，不是吗？

*   当我从带有视图寻呼机的片段中返回并返回到该片段时，我有一个 IllegalStateException“递归条目到 executePendingTransactions”。我可以通过在处理程序上设置我的适配器来解决这个问题，或者使用 FragmentStatePagerAdapter 而不是 FragmentPageAdapter （请参阅[在片段中显示片段](https://stackoverflow.com/questions/7700226/display-fragment-viewpager-within-a-fragment)视图分页器），但即使我的应用程序没有崩溃，当我使用视图寻呼机返回我的片段时，视图寻呼机消失了！

你能帮助我吗 ？

Java源代码如下，我认为布局源代码没用。

主要活动 ：

```
public class MainActivity extends SherlockFragmentActivity{

private SherlockFragment fragmentOne, fragmentTwo, fragmentThree;

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

//      this.fragmentOne = new fragmentOne();
//      this.fragmentTwo = new fragmentTwo();
//      this.fragmentThree = new fragmentThree();
// Call new or instanciate ? What's the correct way ?

    this.fragmentOne = (SherlockFragment) SherlockFragment.instantiate(this, FragmentOne.class.getName());
    this.fragmentTwo = (SherlockFragment) SherlockFragment.instantiate(this, FragmentTwo.class.getName());
    this.fragmentThree = (SherlockFragment) SherlockFragment.instantiate(this, FragmentThree.class.getName());

    // Add fragment
    FragmentTransaction transaction = (
        this.getSupportFragmentManager().beginTransaction()
    );      
    transaction.add(
        R.id.tab_fragment,
        this.fragmentOne,
        this.fragmentOne.toString()
    );
    transaction.commit();

}

public void onButtonSelected(View v){

    switch (v.getId()){

        case R.id.button_one_tab:{
            showFragment(this.fragmentThree);
            break;
        }
        case R.id.button_two_tab:{
            showFragment(this.fragmentOne);
            break;
        }
        case R.id.button_three_tab:{
            showFragment(this.fragmentTwo);
            break;
        }
        default:{
            break;
        }

    }

}

public void showFragment(SherlockFragment fragmentToShow){

    FragmentTransaction transaction = (
        this.getSupportFragmentManager().beginTransaction()
    );

    transaction.replace(R.id.tab_fragment, fragmentToShow, fragmentToShow.toString());
    transaction.commit();

}

} 
```

片段 2 和 3 仅膨胀仅包含 TextView 的布局。片段一（请注意，我使用的是 DirectionalViewPager - 一个库 - 而不是 ViewPager）：

```
public class FragmentOne extends SherlockFragment{

private FragmentOneAdapter fragmentOneAdapter;

@Override
public void onActivityCreated(Bundle savedInstanceState) {

    super.onActivityCreated(savedInstanceState);

    // Set up the pager
    final DirectionalViewPager pager = (DirectionalViewPager)getActivity().findViewById(R.id.pager);
    if (this.fragmentOneAdapter== null){
        this.fragmentOneAdapter= new FragmentOneAdapter (getActivity().getSupportFragmentManager());
    }
    pager.setAdapter(fragmentOneAdapter);

}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    return inflater.inflate(R.layout.fragment_landing_page, container, false);
} 
```

片段一个适配器：

```
public class FragmentOneAdapter extends FragmentPagerAdapter{

private ArrayList<SherlockFragment> fragmentsList;

public FragmentOneAdapter(FragmentManager fragmentManager) {

    super(fragmentManager);

    SherlockFragment fragmentFour = new FragmentFour();
    SherlockFragment fragmentFive = new FragmentFive();

    this.fragmentsList = new ArrayList<SherlockFragment>();
    this.fragmentsList.add(fragmentFour);
    this.fragmentsList.add(fragmentFive);

}

@Override
public Fragment getItem(int position) {
    return this.fragmentsList.get(position);
}

@Override
public int getCount() {
    return this.fragmentsList.size();
}

} 
```

感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-19T14:37:53.903

我已经解决了我的问题！

我已经简单地替换`getSupportFragmentManager()`到. 然后，我通过每次创建一个新的片段实例而不是使用我的三个不同实例来编辑我的方法（如果我不这样做，我有一个例外：）。`FragmentOne``getChildFragmentManager()``onButtonSelected``java.lang.IllegalStateException: Activity has been destroyed`

我对这个解决方案还有一个问题：每次在和之间切换时`fragmentOne`，我都会丢失每个片段的状态。你有解决方案吗？`fragmentTwo``fragmentThree`

# java - 带有 Maven 依赖项的 Google Plus Java Cli Starter 导出 jar

> ID：15076846
> 
> 赞同：0
> 
> 时间：2013-02-25T21:29:54.460
> 
> 标签：java, maven, google-plus

我用 java 编写了一个应用程序项目，现在我想将 google plus java starter 项目（[https://code.google.com/p/google-plus-java-starter/](https://code.google.com/p/google-plus-java-starter/)(slightly) ）（稍作修改）导入到这个项目中。如果我在 Eclipse 中运行它一切正常，但如果我将该项目作为可运行的 jar 文件导出，则有关此 google plus java starter 项目的所有方法都无法运行。我认为这与 Maven 依赖项有关，但我不知道如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T20:15:57.650

CLI 启动器很旧，您应该使用 GitHub 页面上最新的 Google+ API 示例：

[https://github.com/googleplus](https://github.com/googleplus)

可从 Google+ 开发者网站获取有关构建和运行示例的其他说明：

[https://developers.google.com/+/quickstart](https://developers.google.com/+/quickstart)

# mysql - SQL 限制组数

> ID：15076850
> 
> 赞同：5
> 
> 时间：2013-02-25T21:30:05.253
> 
> 标签：mysql, sql

我正在尝试创建一个简单的分页，但它似乎没有达到`limit`结果的数量。

```
SELECT * FROM visits GROUP by clientID ORDER BY 'date' LIMIT $from, $to 
```

我只想获得每个客户的第一次访问（按时间顺序）并对结果进行分页。

如果我使用 $from = 6, $to = 12 进行此查询，它将返回 8 行而不是 7 行。

我做错了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T21:39:47.953

来自 MySQL 的 docs on[`LIMIT`](http://dev.mysql.com/doc/refman/5.0/en/select.html)子句

> LIMIT 子句可用于限制 SELECT 语句返回的行数。LIMIT 接受一个或两个数字参数，它们都必须是非负整数常量（使用准备好的语句时除外）。
> 
> 有两个参数，第*一个参数指定*要返回的第一行的**偏移量，***第二个*参数指定要返回的**最大行数**。初始行的偏移量为 0（不是 1）。

当您选择`$from`6 和`$to`12 时；您没有从 6 到 12 进行选择；您将**选择**12 行，从`$from + 1`= 7 开始。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:35:36.357

LIMIT 子句的第一个参数是起始偏移量，第二个参数是要返回的行数。因此，您的查询应该是：

```
... LIMIT $from, ($to - $from) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T21:35:40.797

使用您使用的 dbms 和语法，限制表达式中的第二个数字是允许的结果数，而不是偏移端点。因此，您从 6 开始并允许接下来的 12 个结果，而不是获得 6-12 的结果。

如果要获得结果 6-12，请使用`limit 5,7`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-25T21:44:13.363

您的查询不会*按*日期返回第一次访问。为此，您需要实际加入以下信息：

```
select v.*
from visits v join
     (select clientid, MIN(date) as mindate
      from visits
      group by clientid
     ) vd
     on v.clientid = vd.clientid and v.date = vd.date
order by clientid
limit $from - 1, $to - $from 
```

您最初的查询返回关于给定客户端的任意列集。这些列甚至不能保证来自同一记录。这是因为您使用的是 MySQL (mis) 功能，您可以在`select`子句中包含不在`group by`子句中且不是聚合函数参数的列。

# javascript - 为什么 HighCharts 会颠倒我的系列顺序？

> ID：15076865
> 
> 赞同：6
> 
> 时间：2013-02-25T21:30:47.497
> 
> 标签：javascript, highcharts

我正在使用 HighCharts 来呈现堆叠百分比水平条形图，它工作得很好，除了 HighCharts 默认反转我的系列数据的顺序。

[http://jsfiddle.net/U8nZ6/](http://jsfiddle.net/U8nZ6/)

正如您在演示中看到的那样，尽管 20k 美元是 data1/data2 数组的第一行，但它是每个柱的最后一块（一直在右侧）。我希望这是有序的，所以我尝试了几件事：

`.reverse()`1) 使用数组d渲染图表。您可以在上面的演示中启用这些行，以查看结果是颜色不对齐，因为每个图表中有不同数量的记录，所以这不起作用（并且不应该是唯一的这样做的方法，我敢肯定）

2）使用`xAxis.reversed = true`。这使它与颜色匹配的顺序正确，但随后图例被反转（100% 到 0%）并且它从右到左动画。

还有其他方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-02T19:57:52.453

好吧，假设没有其他选择，如果有人通过谷歌偶然发现了这个，我会这样做：

使用上述选项 2（反转轴），我只是通过格式化程序将标签修改为相反的。

就我而言，因为它是百分比（0-100），所以我简单地说：

`labels: { formatter: function() { return Math.abs(this.value - 100) } }`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-23T13:44:01.277

看起来有一个名为 reverseStacks ( [http://api.highcharts.com/highcharts#yAxis.reversedStacks](http://api.highcharts.com/highcharts#yAxis.reversedStacks) ) 的选项默认为 true 堆叠图表。您可能希望在代码中将此设置为 false。

我注意到您的 JSFiddle 专门请求 Highcharts 版本 2.3.5，其中该选项可能不存在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-17T11:47:56.197

我有一个类似的问题。在尝试了不同的选项后，我最终在渲染图表之前设置了系列索引。通用代码：

```
if (options.chart.type === 'bar') {

    for (var i = 0; i < options.series.length; i++) {
        options.series[i].index = options.series.length - 1 - i;
        options.series[i].legendIndex = i;
    }
} 
```

为您的示例更新了 jsFiddle：http: [//jsfiddle.net/U8nZ6/23/](http://jsfiddle.net/U8nZ6/23/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-04-10T20:14:55.307

以防有人还在寻找这个。我在我的传说中使用**了 reversed:true 。**

```
legend: {
            align: 'right',
            x: -30,
            verticalAlign: 'top',
            y: 25,
            floating: true,
            backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
            borderColor: '#CCC',
            borderWidth: 1,
            shadow: false,
            reversed: true // right here!
        } 
```

# c# - 检测到 DisconnectedContext 检测到错误

> ID：15076868
> 
> 赞同：0
> 
> 时间：2013-02-25T21:30:53.223
> 
> 标签：c#, .net, wpf

我添加了这段代码：

```
if (arrSettimgs[0] == "1")
{
   if ((webBrowserMain.Document != null) && (webBrowserMain.Document.Domain != domain))
   {
      webBrowserMain.Navigate(blockPage);
   }
} 
```

执行卡住了，最终我收到以下错误：

```
DisconnectedContext was detected Message: Transition into COM context
0x2e07e2b0 for this RuntimeCallableWrapper failed with the following
error: System call failed. (Exception from HRESULT: 0x80010100
(RPC_E_SYS_CALL_FAILED)). This is typically because the COM context
0x2e07e2b0 where this RuntimeCallableWrapper was created has been
disconnected or it is busy doing something else. Releasing the
interfaces from the current COM context (COM context 0x2e07e188). This
may cause corruption or data loss. To avoid this problem, please
ensure that all COM contexts/apartments/threads stay alive and are
available for context transition, until the application is completely
done with the RuntimeCallableWrappers that represents COM components
that live inside them. 
```

我搜索了论坛并找到了建议取消选中某些属性的答案，我这样做了，但它没有用。

# python - 在正在运行的 Python 程序上访问存储在内存中的数据

> ID：15076869
> 
> 赞同：1
> 
> 时间：2013-02-25T21:30:58.620
> 
> 标签：python, memory

我有一个收集数据的 Python 程序。我之前测试过很多次，但是今天它决定它不会保存数据。此外，不幸的是，我决定使用 pythonw.exe 运行我的程序，因此没有终端可以查看错误是什么。

我可以看到它仍然将数据保存到内存中，因为它显示在绘图上，并且我仍然可以使用我的程序操作数据。

我想知道是否有一种方法可以访问我的程序从外部收集的数据或某种方式来读取它。

我知道我不太可能恢复我的数据，但值得一试。

（另外，我使用 Python 2.7 和 PyQT4 作为 GUI 界面。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:35:28.103

您应该能够附加到正在运行的进程并使用[http://winpdb.org/检查变量](http://winpdb.org/)

# algorithm - 查找使二进制表达式计算为真的值

> ID：15076870
> 
> 赞同：2
> 
> 时间：2013-02-25T21:31:05.877
> 
> 标签：algorithm, parsing, expression

给定一个像 'x < 10 and x >= 11 or x > 20' 这样的表达式，并且假设已经有一个可用的表达式解析树（例如 [or [ [and [< [var:x] [10] ] [>= [var:x] [11] ] ] [> [var:x] [20] ] ])，我怎样才能找到导致该表达式计算为真的 x 的范围/集合？

对语法的一些限制是：

1.  表达式中只有一个变量（示例中为 x），因此没有像 x + 2 < y 这样的表达式
2.  只有比较运算符，但可能是空的？[字符串表达式] 在表达式中
3.  没有算术表达式或函数调用 - 所以像 x + 2 < 3 或 x < someFunc() 这样的事情是不可能的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:48:56.840

SMT 求解器的一个简单替代方案是：

1.  提取表达式中使用的所有数字
2.  对数字列表进行排序
3.  对于列表 x 中的每个点，计算 x-eps、x 和 x+eps 处的表达式（其中 eps 是一个小数）

表达式的值只能在这些点发生变化，并且由于它们是按排序顺序排列的，因此您只需将结果连接在一起即可找到 x 允许值的完整列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:34:24.520

听起来像 Yices 或 Z3 这样的 SMT 求解器会为您提供帮助。对于您的问题，它们是一种“大枪”，但应该可以解决问题。SMT求解器就像类固醇上的SAT求解器，您所拥有的实际上是使用非布尔变量的可满足性问题。

# cordova - Phonegap 垂直滚动

> ID：15076873
> 
> 赞同：4
> 
> 时间：2013-02-25T21:31:15.750
> 
> 标签：cordova

我正在为 ios 构建一个 phonegap 应用程序并且有垂直滚动问题。即使没有任何内容，webview 中似乎也有一些像素滚动，这影响了我在 html 中构建的绝对定位的导航栏和标签栏

这是我拥有的 html 页面 - 没有内容，我仍然得到图像中显示的滚动量：

```
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>My App</title>
    </head>
    <body>

        <script src="scripts/vendor/cordova-2.4.0.js"></script>
    </body>
</html> 
```

[滚动截图 http://img20.imageshack.us/img20/5140/screenshot20130225at212.png](http://img20.imageshack.us/img20/5140/screenshot20130225at212.png)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-06-19T22:19:23.467

```
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
}

<meta name="viewport" content="user-scalable=no, initial-scale=1, minimum-scale=1, width=device-width" /> 
```

在 config.xml 中：

```
<preference name="DisallowOverscroll" value="true" /> 
```

以上是我发现在 iOS 上处理滚动的最佳开始设置。然后，只需将“溢出：自动”添加到您需要滚动的任何元素。使用 overthrow 或 iscroll 来帮助支持 iOS < 5、android < 3 等。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-06-19T22:05:21.000

这为我解决了（至少在 iOS 上 - 在其他平台上可能有其他兼容性）

尝试`width=device-width, height=device-height`从顶部的元数据中删除。

据我所知，这是设备没有考虑顶部状态栏的问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-07-11T05:48:14.673

对于最新的答案（截至 2016 年），这个解决方案对我来说是 Cordova iOS 中最有效的（平滑滚动）。

```
.element {
  overflow-y: scroll; /* has to be scroll, not auto */
  -webkit-overflow-scrolling: touch;
} 
```

来源： [https ://css-tricks.com/snippets/css/momentum-scrolling-on-ios-overflow-elements/](https://css-tricks.com/snippets/css/momentum-scrolling-on-ios-overflow-elements/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-22T19:05:53.640

尝试隐藏系统托盘，它对我有用。

在 MainPage.xaml 上，将“IsVisible”设置为 false。

```
shell:SystemTray.IsVisible="False" d:DesignHeight="768" d:DesignWidth="480" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-08T20:12:52.377

以上都没有解决我的问题，但下面的链接。在我的情况下，内容下方有一个无法解释的过度间隙，这个间隙导致滚动条。

这是链接： [https ://github.com/phonegap/phonegap/wiki/Prevent-Scrolling](https://github.com/phonegap/phonegap/wiki/Prevent-Scrolling)

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-02-25T21:44:31.627

这可能会有所帮助：

```
body {
    height: 100%;
    overflow: hidden;
} 
```

# c# - 除了使用 $_SESSION 还有什么选项

> ID：15076878
> 
> 赞同：0
> 
> 时间：2013-02-25T21:31:27.877
> 
> 标签：c#, asp.net, session, global, misuse

我正在开发一个 .net 项目，该项目依赖于在登录时从数据库中提取一些信息并在用户登录时保留这些信息。

该网站很复杂，但我觉得可能会出现过度使用 Session 变量的情况。我现在要说我正在使用 session 来存储大约 5 个 int 值和 3 或 4 个字符串值。我没有存储任何复杂的对象。我网站的每个页面都多次使用这些值，我觉得每次都发布它们是荒谬的。在这一点上，我也不认为 viewstate 比 session 更好，但我愿意接受建议。

会话变量的当前用法示例

```
this.Session["vendorCategoryId"]
this.Session["ftp_directory_name"]
this.Session["VendorCodeOptionRefId"] 
```

我考虑过在一个类中实现一个结构并在那里有一个我在 Global.asax.cs 中使用的 set 方法`Session_Start()`可能是一种解决方案......

（编辑：此解决方案旨在避免每次任何代码想要访问变量时都必须敲击数据库）。

在 VendorSessionData.cs 类中

```
 public struct VendorData
    {
        public int VendorCategoryId;

        public int NKIAccountingCode;

        public int OptionCodeRefId;

        public string FtpDirName;
    }

    /// <summary>
    ///   The set vendor session data.
    /// </summary>
    public class VendorSessionData
    {
        #region Public Methods

        public static VendorData GetVendorData(Guid vendorGuid)
        {
            VendorData retVal = new VendorData();

            using (NKIDBDataContext db = new NKIDBDataContext())
            {

                vendorInfo vendorRefs = (from vendorInfo in db.vendorInfos where vendorInfo.guid == vendorGuid.ToString() select vendorInfo).SingleOrDefault();
                if (vendorRefs != null)
                {
                    retVal.VendorCategoryId = vendorRefs.category_id;
                    retVal.NKIAccountingCode = vendorRefs.nki_vendor_id;
                    retVal.OptionCodeRefId = vendorRefs.option_ref_id;
                    retVal.FtpDirName = vendorRefs.ftp_directory_name;
                }

            }

            return retVal;
        } ...... 
```

在 global.asax.cs 中

```
 public class Global : HttpApplication
        {

            public static VendorData CurrentVendorData;

            public void Session_Start(object sender, EventArgs e)
            {
/////////////////FYI tmpVendorGuid is set in code above this point
                 Guid tmpVendorGuid;
                 if (Guid.TryParse(vendorGuid, out tmpVendorGuid))
                 {
                     CurrentVendorData = VendorSessionData.GetVendorData(tmpVendorGuid);
                 } 
```

尝试使用母版页上的隐藏字段来攻击它会更好吗？我所做的每一次搜索都说“不要使用会话，不要使用全局变量..”基本上我有任何想法，有一些页面说明它是有史以来最糟糕的想法:)

任何建议，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:42:25.133

数据量并不特别令人惊讶，但选择却是。

通常会话会存储用户信息（通常只是他们的 ID - 您从数据库中获取其余信息）。“ftp_directory_name”听起来像一个配置变量或每个用户的设置。

我很惊讶您没有使用唯一 ID 将 VendorData 存储在数据库中，然后只获取详细信息（您需要将供应商 ID 存储在会话中 - 如果这与用户不同）。

> *该解决方案旨在避免每次任何代码想要访问变量时都必须敲击数据库*

这似乎是一个不存在的问题的解决方案 - 您是否看到访问时间问题并且您确定这是正确的解决方案？无论如何，您将不得不为大多数页面访问数据库。每个页面加载一个额外的查询不太可能成为问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:48:15.920

我会说你可能已经做对了...... Session 旨在为用户的“会话”存储信息......我认为你不会像存储整个 DataSet 那样对它征税太多或其他什么...一些 int 变量和一个字符串占用不到 1K 的内存...如果您有 1,000 个用户同时登录，他们的集体“会话”占用空间仍然约为 1MB...piton on今天的服务器。

# javascript - Flowplayer加载栏不会消失

> ID：15076881
> 
> 赞同：0
> 
> 时间：2013-02-25T21:31:39.137
> 
> 标签：javascript, jquery, html, flowplayer

我一直在制作视频上传脚本，您可以上传视频（我还没有测试所有视频格式），它会将视频转换为 .mp4、.ogg 和 .webm 文件。

我正在使用 flowplayer 嵌入视频，您[可以看到一个测试视频正在运行](http://dev.wackywalr.us/videos/view.php?id=2)，但是加载栏没有消失，因此您无法访问控件。这是我的嵌入代码：

```
<link rel="stylesheet" type="text/css" href="<?=$url;?>javascript/flowplayer/skin/minimalist.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script src="<?=$url;?>javascript/flowplayer/flowplayer.min.js"></script> 
```

（我不认为那部分是问题）

和

```
<div class="flowplayer" data-swf="<?=$url;?>javscript/flowplayer/flowplayer.swf" data-ratio="0.417">
      <video autoplay>
         <source type="video/webm" src="<?=$video->file('webm');?>" />
         <source type="video/mp4" src="<?=$video->file('mp4');?>" />
         <source type="video/ogg" src="<?=$video->file('ogg');?>" />
      </video>
    </div> 
```

我尝试删除 data-swf 和 data-ratio 属性，尝试移动链接和脚本标签，但没有雪茄。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T19:54:22.000

我发现了问题，我会把它放在这里以防万一有人遇到同样的问题。

这可能与使用 Google 托管库中的最新 jQuery 版本有关，但 flowplayer.js 有这个：

```
on("mouseout.tip", function() 
```

他们应该在什么时候使用

```
bind("mouseout.tip", function() 
```

# wcf - Silverlight 与现有 WCF 安全服务的通信

> ID：15076882
> 
> 赞同：0
> 
> 时间：2013-02-25T21:31:39.897
> 
> 标签：wcf, silverlight, single-sign-on

我对 SL 非常陌生，并且来自 ASP.NET 和 WPF 背景。我想问几个对你们来说可能非常基本的问题......请随时考虑这个并用示例代码/链接回复。

让我定义一下我目前的情况。

我有一个财务领域的企业应用程序，它内置于 WPF、WCF 和 SQL 2008 中。我所有的智能客户端 WPF 通信都通过 WCF 通过分布式环境进行路由。它具有定制的行为、绑定、SSO 等。

现在我的问题是，我正在 Silverlight 中构建 POC，以通过相同的现有 WCF 服务连接到 SQL 服务器数据库。这可能吗？如果是这样，怎么做？

这是 WPF 智能客户端应用程序正在使用的服务端点示例

```
<endpoint address="http://my IP/Application/TestService" 
          binding="customBinding" 
          bindingConfiguration="httpCompressionBinding"             
          contract="ITestService" 
          name="WSAddress" 
          behaviorConfiguration="FullyAuthenticatedNonSsoBehavior" 
          /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T18:08:37.680

这是可能的。您（可能）需要调整 wcf 配置，以便 SL 可以毫无问题地使用它（可能为没有代码行的 SL 客户端创建单独的端点）。SL 作为 WCF 客户端有一些限制（不支持 WS HTTP 绑定，不支持具有安全性的 NetTcpBinding，还有一些响应模式......等等）。但我使用它（我创建了服务 SL 管理控制台）通过 TCP 访问 WPF 使用的 WCF。Silverlight 客户端中的 TCP 绑定是 CustomBinding。为什么不？WCF 的目标之一是互操作性。因此它可以处理异构网络中许多不同的客户端请求。

# c# - 您能否使用小型 .EXE 加载程序将 WPF 应用程序打包为 DLL

> ID：15076884
> 
> 赞同：0
> 
> 时间：2013-02-25T21:31:44.977
> 
> 标签：c#, wpf, dll

我要做的是制作一个WPF应用程序，然后将其全部打包成一个DLL，并在主exe上有一个轻量级的更新程序，这样您就可以更新应用程序而无需单独的更新程序进程。我可以这样做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:06:45.370

是的，您可以从 DLL 运行 WPF 应用程序。

# ruby - 构建gem原生扩展ruby 2.0升级fastthread失败

> ID：15076887
> 
> 赞同：12
> 
> 时间：2013-02-25T21:32:01.580
> 
> 标签：ruby, ruby-on-rails-3, ruby-2.0

我正在将我的系统升级到 ruby​​ 2.0，除了把我的电脑扔到墙上之外，我已经做了所有的事情。我很难相信 fastthread 是问题所在。运行“捆绑安装”时是否有其他人看到此错误。这是我的红宝石版本

ruby -v ruby​​ 2.0.0p0（2013-02-24 修订版 39474）[x86_64-darwin12.2.0]

当我尝试运行 rails -v 我得到这个

rails -v 在任何源中都找不到 fastthread-1.0.7 运行`bundle install`以安装缺少的 gem。

```
Fetching gem metadata from https://rubygems.org/.........
Fetching gem metadata from https://rubygems.org/..
Resolving dependencies...
Using rake (10.0.3) 
Using i18n (0.6.1) 
Using multi_json (1.6.1) 
Using activesupport (3.2.9) 
Using builder (3.0.4) 
Using activemodel (3.2.9) 
Using erubis (2.7.0) 
Using journey (1.0.4) 
Using rack (1.4.5) 
Using rack-cache (1.2) 
Using rack-test (0.6.2) 
Using hike (1.2.1) 
Using tilt (1.3.3) 
Using sprockets (2.2.2) 
Using actionpack (3.2.9) 
Using mime-types (1.21) 
Using polyglot (0.3.3) 
Using treetop (1.4.12) 
Using mail (2.4.4) 
Using actionmailer (3.2.9) 
Using arel (3.0.2) 
Using tzinfo (0.3.35) 
Using activerecord (3.2.9) 
Using activeresource (3.2.9) 
Using bundler (1.3.0) 
Using highline (1.6.15) 
Using net-ssh (2.6.5) 
Using net-scp (1.1.0) 
Using net-sftp (2.1.1) 
Using net-ssh-gateway (1.2.0) 
Using capistrano (2.14.2) 
Using chunky_png (1.2.7) 
Using coffee-script-source (1.5.0) 
Using execjs (1.4.0) 
Using coffee-script (2.2.0) 
Using rack-ssl (1.3.3) 
Using json (1.7.7) 
Using rdoc (3.12.2) 
Using thor (0.17.0) 
Using railties (3.2.9) 
Using coffee-rails (3.2.2) 
Using fssm (0.2.10) 
Using sass (3.2.6) 
Using compass (0.12.2) 
Using compass-rails (1.0.3) 
Using daemon_controller (1.1.1) 
Installing fastthread (1.0.7) 
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

/Users/ben/.rvm/rubies/ruby-2.0.0-p0/bin/ruby extconf.rb 
extconf.rb:13:in `block in <main>': Use RbConfig instead of obsolete and deprecated Config.
extconf.rb:13:in `block in <main>': Use RbConfig instead of obsolete and deprecated Config.

make
Makefile:104: *** missing separator.  Stop.

Gem files will remain installed in /Users/[me]/.rvm/gems/ruby-2.0.0-p0/gems/fastthread-1.0.7 for inspection.
Results logged to /Users/[me]/.rvm/gems/ruby-2.0.0-p0/gems/fastthread-1.0.7/ext/fastthread/gem_make.out

An error occurred while installing fastthread (1.0.7), and Bundler cannot
continue.
Make sure that `gem install fastthread -v '1.0.7'` succeeds before bundling. 
```

有没有其他人遇到过这个？

/Users/[me]/.rvm/gems/ruby-2.0.0-p0/gems/fastthread-1.0.7/ext/fastthread/gem_mak‌​e.out 的内容

```
/Users/[me]/.rvm/rubies/ruby-2.0.0-p0/bin/ruby extconf.rb

extconf.rb:13:in `block in <main>': Use RbConfig instead of obsolete and deprecated Config.
extconf.rb:13:in `block in <main>': Use RbConfig instead of obsolete and deprecated   Config.

make
Makefile:104: *** missing separator.  Stop. 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-07T12:12:23.360

Phusion Passenger 4 已经通过移除 fastthread 依赖解决了这个问题。4.0 beta 和 RC 在 Ruby 2.0 上安装得很好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T23:35:47.767

如果你使用Passenger 作为你的网络服务器，你*必须*有这个依赖。请参阅此修复请求： [https ://github.com/zoltankiss/fastthread/commit/a47a121990cf7d4f31147406c2d379dabc048479](https://github.com/zoltankiss/fastthread/commit/a47a121990cf7d4f31147406c2d379dabc048479)

gem 的作者尚未包含此修复程序。[如果需要，您可以从https://github.com/zoltankiss/fastthread](https://github.com/zoltankiss/fastthread)要求 fastthread 。那是提交拉取请求的人。

# ant - 在服务器上运行 HTML5 Ant 构建脚本

> ID：15076889
> 
> 赞同：1
> 
> 时间：2013-02-25T21:32:19.273
> 
> 标签：ant, build-automation, html5boilerplate

HTML5 Ant Build Script 似乎主要是一个前端工具 - [https://github.com/h5bp/ant-build-script](https://github.com/h5bp/ant-build-script)

但是有谁知道是否可以在服务器上运行构建脚本？这样做的原因是我们团队中有三个人，当有人通过 git 推送到服务器时自动运行脚本比我们三个人都在本地运行脚本更有意义。

我可能会为此差一百万英里，但是有人能够为我们提供一个很好的解决方案，而不必单独运行脚本吗？

# c# - Oracle：算术运算导致溢出

> ID：15076900
> 
> 赞同：6
> 
> 时间：2013-02-25T21:33:01.923
> 
> 标签：c#, .net, oracle

我的查询提取了两个字符串 - 根本没有数字类型，但 Oracle 客户端给了我上面的异常。有任何想法吗？

这是查询 - 所有字段都是字符串：

```
 SELECT project_name 
        , project_title
        , project_name as Job2   
        , project_name as Job1  
 FROM PROJ 
```

这是一个例外：

```
System.OverflowException: Arithmetic operation resulted in an overflow.
   at System.Data.Odbc.OdbcDataReader.FirstResult()
   at System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader, Object[] methodArguments, SQL_API odbcApiMethod)
   at System.Data.Odbc.OdbcCommand.ExecuteReaderObject(CommandBehavior behavior, String method, Boolean needReader)
   at System.Data.Odbc.OdbcCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.Odbc.OdbcCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, IDbCommand command, CommandBehavior behavior)
   at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet)
   at Partners.Core.Data.Database.FillDataSet(DataSet& dataSet, IDbCommand command, String[] tableNames) in c:\Dropbox\svn\partners\libraries\internal\Partners.Core\Data\Database.cs:line 999 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T21:49:04.533

现在拍我记得我以前看过这个。Oracle 客户端只有 32 位。所以我的 .NET 应用程序需要进行 x86 编译。很烦人！而且这个信息太具有欺骗性了。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-01T13:57:36.453

[http://blogs.msdn.com/b/mariae/archive/2012/07/05/quot-arithmetic-operation-resulted-in-an-overflow-quot-error-running-a-report-that-uses- a-connection-data-source-to-oracle-10.aspx](http://blogs.msdn.com/b/mariae/archive/2012/07/05/quot-arithmetic-operation-resulted-in-an-overflow-quot-error-running-a-report-that-uses-a-connection-data-source-to-oracle-10.aspx)

Oracle ODBC 驱动程序中的错误。它影响版本：Oracle 的 10.2.0.4 到 11.2.0.1，并且仅影响 64 位驱动程序（不是 32 位驱动程序）。

编辑（2022 年 1 月）：来自 MSDN 的链接失效。这是 Oracle 页面的链接：https: [//support.oracle.com/knowledge/Oracle%20Database%20Products/1181253_1.html](https://support.oracle.com/knowledge/Oracle%20Database%20Products/1181253_1.html)

# c# - 如何使内部控件不覆盖主控件的事件？

> ID：15076902
> 
> 赞同：3
> 
> 时间：2013-02-25T21:33:04.030
> 
> 标签：c#, vb.net, winforms, user-controls

我有一个`UserControl`里面包含一些内部控件。像这样的东西：

![在此处输入图像描述](../Images/6970e794cea6cb735db85604742c0f58.png)

现在，当我在我的项目中使用它时，我希望我的控件的**每个**点在单击时都会引发相同的单击事件，就像其他控件一样。

但问题是：我**在另一个项目**中的处理程序仅在我单击背景上的某个位置时处理单击事件，而不是在 button1 或 label1 上。

我可以通过设置内部控件中的每个事件为主控件引发另一个事件来解决它，但这有点奇怪。

**如何使内部控件不覆盖主控件的事件？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:40:49.243

我建议利用`UserControl`s Load 事件来遍历项目中的所有子控件，并以编程方式为每个 MouseMoved 事件添加一个处理程序。这将足够强大以处理添加的任何新子控件。例如;

```
 private void UserControl1_Load(object sender, EventArgs e)
    {
        foreach (Control c in Controls)
        {
            c.MouseMove += Control_Move;
        }
    }

    protected void Control_Move(object sender, MouseEventArgs e)
    {
        // do stuff here
    } 
```

并且不要忘记将 UserControl 的 MouseMove 事件与相同的`Control_Move`方法挂钩

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T23:18:02.877

我在德尔福做过这样的事情。诀窍是不添加标签，而是添加标签、按钮等的子类，以调用事件的父事件。

子类只是覆盖 Click、Move 等并调用父类。简单，如果你有很多这些，可以节省很多时间。

# ios - MonoTouch 中的弱事件模式

> ID：15076905
> 
> 赞同：4
> 
> 时间：2013-02-25T21:33:10.860
> 
> 标签：ios, events, weak-references, xamarin.ios

我曾经使用 Objective-C 语言开发 iOS 应用程序，并依靠该`dealloc`方法在我的应用程序中执行一些清理/注销任务。现在在 MonoTouch（垃圾收集）上，它不再是一个选项。

假设我有一个添加（子类）的实例`UIViewController`作为其属性的子视图。反过来注册自己以接收来自另一个管理器/全局对象的一些事件，以便它知道如何相应地更新自己（例如：）。`View``MyView``UIView``MyView``onlineProfilesManager.Refreshed += () => <update UI with the new state>;`

只要`MyView`在屏幕上，一切都很好。但是我必须知道它何时从屏幕上删除，以便我可以`MyView`从事件处理程序中注销。

在 Obj-C 中，这可以简单地在`dealloc`方法中完成，因为当屏幕更改时，它会`UIViewController`被释放 -->`MyView`从它的超级视图中删除，然后`MyView`调用 dealloc 方法。

在 Monotouch 中，我不再有这种“确定性”流程。我试图在`UIViewController`and`MyView`析构函数中放置一些打印语句，但它们从未被调用（原因是因为`MyView`仍然为事件处理程序注册，因为我不知道何时/如何取消注册它，它永远不会被释放）。

有谁知道在 MonoTouch 中处理这种情况的“模式”是什么？我认为我错过了一个基本概念并且在开发我的应用程序时遇到了麻烦。

提前致谢。

* * *

**编辑** 我正在编辑我的问题，因为看起来我的问题的解决方案是使用[弱事件模式](http://msdn.microsoft.com/en-us/library/aa970850.aspx)，但我没有找到 MonoTouch 平台的实现。

有谁知道如何在 MonoTouch 中使用[弱事件模式？](http://msdn.microsoft.com/en-us/library/aa970850.aspx)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T00:21:48.867

处理事件的最佳方法是在 ViewWillDisappear 中取消注册它们并在 ViewWillAppear 中注册它们。这意味着您不能使用匿名方法，因为您没有对该方法的引用来取消注册它。

如果这不适合您的需要，您可以执行类似于此[http://sgmunn.com/blog/2012/05/non-gcd-event-handlers/的操作](http://sgmunn.com/blog/2012/05/non-gcd-event-handlers/)

干杯。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T16:14:46.403

如果你正在寻找弱事件，你可以[在这里](https://github.com/jonathanpeppers/XPlatUtils/blob/master/XPlatUtils/Messenger.cs)尝试我的“Messenger”实现。

它的灵感来自[TinyIoC](https://github.com/grumpydev/TinyIoC/)中可用的内容，但我重新实现了它，因此它使用了更少的反射等。

# latex - 在横向模式下对齐长表标题

> ID：15076906
> 
> 赞同：2
> 
> 时间：2013-02-25T21:33:19.890
> 
> 标签：latex, landscape, longtable

我的乳胶文档中有一张很长很宽的桌子。我将景观与 longtable 环境一起使用，但标题未与表中的列对齐。

```
\begin{landscape}
\begin{longtable}{|l|c|c|c|c|c|c|c|c|c|}
    \caption{Long and wide table}\\
    \hline
    first & second & third} & fourth & fifth & sixth & 7th & 8th & 9th & 10th\\
\hline \hline
    \endhead
a & long & and & wide & table & very & long & and & very & wide \\
a & long & and & wide & table & very & long & and & very & wide \\
a & long & and & wide & table & very & long & and & very & wide \\
a & long & and & wide & table & very & long & and & very & wide \\
a & long & and & wide & table & very & long & and & very & wide \\
a & long & and & wide & table & very & long & and & very & wide \\
    \hline
    \label{tab:all_linreg}
\end{longtable}
\end{landscape} 
```

是否有可能将标题与列对齐？

# c++ - c++ 使用位操作在 unsigned int 中存储一个值

> ID：15076908
> 
> 赞同：-2
> 
> 时间：2013-02-25T21:33:37.190
> 
> 标签：c++, bit-manipulation

也许有一个答案，但我找不到我理解的答案，所以请原谅我。

假设您有一个带有 unsigned int（32 位）*foo*的变量，我想用它来存储值。例如，我想将值 1 和 4 存储在 unsigned int 中作为标志，这使得相应的二进制位置1\. *foo*然后看起来全为零，直到最后八位为 0001 0010（其中最右边的 0 表示值 0）。我如何使用位操作来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:35:57.573

像这样的东西：

```
unsigned int const flag_one  = 0x02;  // 0000 0010
unsigned int const flag_four = 0x10;  // 0001 0000

unsigned int myflag = flag_one | flag_four;

// to test:
if (myflag & flag_one) { /* flag one is set */ }

// to set:
your_flag |= flag_four;     //  ORs with 0001 0000

// to clear:
their_flag &= ~flag_four;   // ANDs with 1110 1111 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:38:55.133

如果要标记特定位置，只需使用位移位即可。这是一个小例子：

```
void setflag(int * flag, int place)
{
    // Or sets it to true if it's 0 or 1
    *flag |= (1 << place);
}
int main(int argc, char const *argv[])
{
    int flag = 0;

    setflag(&flag, 1);
    setflag(&flag, 4);

    printf("Flag is now %d\n", flag);
    return 0;
} 
```

输出：

```
Flag is now 18 
```

二进制中的 18 是 10010，因此符合您的标准。

# php - 从多个表、mssql、php、apache 中获取数据

> ID：15076911
> 
> 赞同：2
> 
> 时间：2013-02-25T21:33:46.063
> 
> 标签：php, sql, sql-server, apache

希望为我们的呼叫中心创建我自己的报告/统计页面...

```
Table 1 (agent)
CODE....NAME
AXA     apple bottom
AXB     apple pear

Table 2 (stat)
AGENT.....CAMPAIGN....CALLS....PITCHES.....TALKTIME......dialdate 
AXA       CCC         5        2           90(sec)       2-2-2013
AXA       DDD         5        2           20(sec)       2-2-2013 
AXB       DDD         1        1           20(Sec)       2-2-2013

Table 3 (result_CCC)
AGENTID.....lcdate......samount.....upamt......termcd
AXA         2-2-2013    $10         $5         SA

Table 4 (result_DDD)
AGENTID.....lcdate......samount.....upamt......termcd
AXA         2-2-2013    $0          $0         BN
AXB         2-2-2013    $0          $0         NI 
```

我想如下显示我的表格

```
Agent Name  ---  Calls ---- Pitches --- talktime --- samount --- upamt
Apple Bottom     10         4           110(sec)     $10         $5 
```

但是电话必须是当天进行的所有电话的总和（不仅是竞选活动，也不与 TERMCD 相关），但投球必须是当天所有投球的总和（不仅是竞选活动，也不与 TERMCD 相关）但是通话时间必须是当天所有通话时间的总和（不仅仅是通过活动，并且与 TERMCD 无关） samount 必须是所有 termcd = SA 的总和，仅适用于那天 upamt 必须是所有 termcd = 的总和仅限当天的 SA

这是我现在使用的字符串，它仍然缺少一些项目：

```
SELECT agent.name, stats.agent, SUM(stats.calls) AS sumcalls, SUM(stats.pitches) AS     sumpitches, SUM(stats.talktime) AS sumtalktime, SUM(stats.wrapuptime) as sumwrapuptime, SUM(stats.dialtime) as sumdialtime, (SUM(stats.wrapuptime) + SUM(stats.talktime) + sum(stats.dialtime)) as sumtotal
FROM dbo.stats 
     INNER JOIN dbo.agent ON agent.code = stats.agent
WHERE (stats.agent !='' and stats.dialdate = '".($_GET['datetime'])."') and (stats.campaign = '".($_GET['camp_select'])."' or stats.campaign = '')
GROUP BY agent.name, stats.agent
ORDER BY SUM(stats.talktime) ASC"; 
```

我对此的担心是，当我开始添加 WHERE termcd = 'SA' 时，我的通话、音调、通话时间等也会发生变化，但这些列不需要受 TERMCD = 'SA' 的影响功能。

任何人都可以解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:28:25.267

你需要一个条件求和：

```
select . . .
       sum(case when termcd = 'SA' then samount end) as sa,
       sum(case when termcd = 'SA' then upamount end) as up
. . . 
```

也就是说，不要按`where`子句中的条件进行过滤。只需将逻辑作为条件总和即可。

# asp.net - 基于不同的数据库表/实体验证字段

> ID：15076919
> 
> 赞同：0
> 
> 时间：2013-02-25T21:34:05.327
> 
> 标签：asp.net, asp.net-mvc, entity-framework, validation

我正在编写一个 MVC 4 应用程序，并使用 Entity Framework 4.1。我有一个验证问题，我似乎找不到答案。

本质上，我有一个名为“Product”的实体（对象），其中包含一个字段“Name”，该字段必须遵循在名为“NamingConvention”的单独实体中定义的严格命名约定。当用户输入一个值时，系统需要根据 NamingConvention 实体中建立的规则来检查它，如果需要返回一个错误。

应该在哪里进行验证，以及如何进行？在进行验证时，我需要检查 NamingConvention 实体，这意味着我需要一个数据库上下文，因为我引用的是不同的实体。有没有不需要我创建新上下文的验证方法？我正在考虑在 Controller 中进行验证，因为它已经创建了一个数据上下文，但这似乎不是正确的地方。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:33:21.947

我已经使用来自输入名称的网页的 JQuery post (ajax) 调用完成了类似的操作。然后，您将（名称的值）发布到控制器上的一个方法，该方法可以返回一个 JSON 值，其中包含一个表示验证是否通过的标志以及您想要返回给用户的消息。例如 ：

网页中的Javascript：

```
$("#name").change(function () {

var nameVal = $(this).val();

$.post(getRoot() + "/NameController/ValidateName", { name: nameVal },
function (data) {
    if (data.valid == "true") {
        alert("A valid name was chosen");
    } else
    {
        alert(data.message);
    }
}, "json");

}); 
```

控制器（NameController）代码：

```
 [HttpPost]
 public ActionResult ValidateName(string name)
 {
   // actual validation carried out in a static utility class (Utils.IsNameValid)
   // if you are loading the same validation rules from your table each time
   // consider caching the data in the application cache or a static List.

   bool nameIsValid = Utils.IsNameValid(name, out string ErrorMessage);

   JsonResult result = new JsonResult();

   result.Data = new { valid = (nameIsValid "true" : "false"), message = ErrorMessage };

   return result;

  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T23:25:46.107

我正在使用 EF 5，但相信您可以使用这种方法......如果我用这个答案误导您，请提前道歉。

您可以在您的上下文（或上下文装饰器）中进行验证

```
public override int SaveChanges()
{
    var products = this.GetChangedProducts();

    foreach (var product in products)
    {
        this.ValidateName(product);
    }

    return base.SaveChanges();
}

private IEnumerable<Product> GetChangedProducts()
{
    return (
        from entry in _context.ChangeTracker.Entries()
        where entry.State != EntityState.Unchanged
        select entry.Entity)
        .OfType<Product>();
}

private void ValidateName(Product product)
{
    //validate here
} 
```

# javascript - Bootstrap：文件输入字段在模式对话框中使用时忽略点击

> ID：15076927
> 
> 赞同：4
> 
> 时间：2013-02-25T21:34:32.563
> 
> 标签：javascript, events, file-upload, twitter-bootstrap

我对 Bootstrap 和文件字段有一点奇怪的问题：

对于一个项目，我正在实现一个简单的上传对话框。

[http://jsfiddle.net/RxxSv/4/](http://jsfiddle.net/RxxSv/4/)

一旦我添加`data-toggle="modal"`到模态容器中，文件输入字段就会停止对点击做出反应（并且浏览器不会显示文件选择对话框）。

我怀疑这是由 Bootstrap 的模式代码/事件处理引起的。点击事件在某处丢失，但我无法弄清楚。

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-25T23:38:52.650

我无法真正解释原因，但如果您将[文档](http://twitter.github.com/bootstrap/javascript.html#modals)中的所有属性（在 Live Demo 中）放入，则输入可以正常工作。

```
<div id="modal-upload" class="modal hide fade" tabindex="-1" 
role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> 
```

JSFiddle：http: [//jsfiddle.net/4TQvY/](http://jsfiddle.net/4TQvY/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-23T12:34:26.250

我的同志建议以另一种方式做到这一点：

```
<a class="btn btn-primary" href="#" style="margin-left: 100px" id="prefix">Choose file</a><input type="file" id="file_source" style="position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);opacity:0;background-color:transparent;color:transparent;"> 
```

进行单独的 & 输入，然后调用 click 事件

```
 jQuery("#prefix").click(function()
    {
        console.log("INSERT JSON");
        $("#file_source").click();
        return false;
    }); 
```

# ios - 在 UIImageView IOS 中绘制形状

> ID：15076929
> 
> 赞同：0
> 
> 时间：2013-02-25T21:34:36.567
> 
> 标签：ios, xcode

我正在使用以下代码画一个圆圈：

```
CGContextRef contextRef = UIGraphicsGetCurrentContext();
CGContextSetLineWidth(contextRef, 2.0);
CGContextSetStrokeColorWithColor(contextRef, [color CGColor]);
CGRect circlePoint = (CGRectMake(coordsFinal.x, coordsFinal.y, 50.0, 50.0));

CGContextStrokeEllipseInRect(contextRef, circlePoint); 
```

圆圈添加到我的 UIWindow 上，但我希望将它添加到 UIImageView 中，保持与 UIWindow 相同的坐标，因此如果坐标超出 UIImageView 的大小，则不会看到圆圈。在 UIImageView 中，在视图上暗淡地绘制圆圈。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:45:26.983

您实际上需要从画布（上下文）中获取图像并将该图像设置在 imageview 上。

```
UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext(); 
```

# java - 将群组页面与 Facebook SDK 3.0 集成

> ID：15076930
> 
> 赞同：0
> 
> 时间：2013-02-25T21:34:42.877
> 
> 标签：java, android, facebook, facebook-sdk-3.0, facebook-group

我需要在我的 android 应用程序中集成一个 facebook 组页面。现在，由于 facebook 开发人员网站上的教程，我可以登录/注销到 facebook，但我没有找到任何方法来显示组页面而不使用 webview。facebook SDK 是否提供任何方法来执行此操作，或者我应该使用 Facebook Graph API 并“重建”组页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:38:39.877

您可以深入研究*Facebook Graph API*，也可以调用官方 facebook 应用程序来查看您的群组。这样做很容易做到：

```
Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse("fb://profile/513783345316342"));
startActivity(i); 
```

请注意，您应该首先检查是否实际安装了官方 facebook 应用程序，否则它将崩溃。

# node.js - 如何在我自己的 Node.JS 可读 Stream 中实现 setEncoding？

> ID：15076935
> 
> 赞同：1
> 
> 时间：2013-02-25T21:35:02.780
> 
> 标签：node.js, stream

在我的程序中，我有一个可读的`Stream` `source`，它从共享的字节数据流中发出数据事件。然后我解释数据以提取`Buffer`对象，然后将它们传递给适当的函数。将 s传递给我的程序其余部分的最优雅的方法`Buffer`似乎是使用可读`Stream`对象。这样我的函数就可以像独立流一样读取流。

这是我当前的代码：

```
var stream = new stream.Stream()
stream.readable = true
stream.pause = function () {
    source.pause()
}
stream.resume = function () {
    source.resume()
}
stream.readable = true
// in a loop, read the data from source stream, dissect the parts we want,
// and emit Buffer objects to the stream's data event. 
```

我该如何实施`setEncoding`？

~~[编辑：我认为答案与stream.js源代码](https://github.com/joyent/node/blob/master/lib/stream.js#L28)中的这一行有关~~

 ~~```
Stream.Readable = require('_stream_readable'); 
```~~ 

此外，正确的答案可能是

*   替换`new stream.Stream`为`new stream.Readable`和
*   替换`stream.emit('data', buffer)`为
    或。`stream.onread(buffer)`_ `stream.push(buffer)`问题是，我不知道是哪一个。

 ~~编辑：`stream.Readable`在 0.8 版中不可用。它在 0.9 测试版中可用，并且将在 v0.10 稳定版中可用。这个问题的理想答案将描述 0.8- 解决方案和 0.9+ 解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-26T08:54:08.543

使用流 2。对于 0.8，有：[https ://github.com/isaacs/readable-stream](https://github.com/isaacs/readable-stream)~~

# c# - 如何在 C# 中使用 win32 API

> ID：15076937
> 
> 赞同：-4
> 
> 时间：2013-02-25T21:35:22.033
> 
> 标签：c#, multithreading, winapi, mutex, semaphore

如何将**win32**连接到**C#**并使用 win32 函数创建信号量、互斥量等。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T21:38:37.573

您无需使用 Win32 API 即可使用互斥锁或信号量。他们已经为此内置了 .NET 类，并且自 1.1 版以来用于 Mutex 和 2.0 版用于 Semaphore：

*   [.NET 互斥类](http://msdn.microsoft.com/en-us/library/system.threading.mutex.aspx)
*   [.NET 信号量类](http://msdn.microsoft.com/en-us/library/system.threading.semaphore.aspx)

一些 .NET 内部显示 Mutex 类实际上使用了 Win32 API： 作为一个快速示例，下面的代码是 .NET 中 Threading.Mutex 类的 OpenMutex 和 ReleaseMutex 方法的反编译源。它使用 DllImport 属性和 extern 关键字来访问 kernel32.dll 中的函数

```
[DllImport("kernel32.dll", CharSet=CharSet.Auto, SetLastError=true)]
internal static extern SafeWaitHandle OpenMutex(int desiredAccess, bool inheritHandle, string name);

[DllImport("kernel32.dll", CharSet=CharSet.None)]
[ReliabilityContract(Consistency.WillNotCorruptState, Cer.MayFail)]
internal static extern bool ReleaseMutex(SafeWaitHandle handle); 
```

我想您可以使用这些片段进行探索，并且可以在这个方便的网站上获得更多信息：[http ://www.pinvoke.net/index.aspx](http://www.pinvoke.net/index.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T21:39:49.850

C# 提供了自己的方法来做这些事情。您不必将 Win32 和 C# 混合使用，而且绝对不建议这样做，因为 .NET 旨在取代 Win32。

MSDN 有一个关于[如何在 .NET 中使用互斥锁](http://msdn.microsoft.com/en-AU/library/system.threading.mutex.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-1)的示例（[以及信号量](http://msdn.microsoft.com/en-us/library/system.threading.semaphore.aspx)）。

如果您仍希望使用 .NET 和 Win32，则必须使用启用 CLI 的 C++。

# find - 寻找 Applescript 来查找文件并将它们移动到不同的文件夹

> ID：15076940
> 
> 赞同：0
> 
> 时间：2013-02-25T21:35:32.657
> 
> 标签：find, applescript, move

我正在尝试找到一个脚本来查找文件并将其移动到不同的文件夹。

我有一个包含数百张这样的图片的文件夹：

```
PA-600-01.jpg, PA-600-02.jpg, PA-600-03.jpg, PA-600-04.jpg, PA-601-01.jpg, PA-601-02.jpg, PA-601-03.jpg, PA-602-01.jpg, PA-602-02.jpg, PA-602-03.jpg, PA-602-04.jpg, PA-602-05.jpg 
```

我想将所有带有`PA-600`( `so PA-600-01.jpg, PA-600-02.jpg, PA-600-03.jpg and PA-600-04.jpg`)的`PA-600`图片移到一个名为... 直到`PA-601``PA-601-01.jpg, PA-601-02.jpg and PA-601-03.jpg``PA-601``PA-602``PA-602-01.jpg, PA-602-02.jpg, PA-602-03.jpg, PA-602-04.jpg and PA-602-05.jpg``PA-602``PA-699`

我试图移动一个文件而不是一组文件：

```
tell application "Finder" make new folder at alias "Macintosh HD:Users:AirYoSo:Desktop:600-699" with properties {name:"PA-600"} copy file "Macintosh HD:Users:AirYoSo:Desktop:600-699:PA-600-01.jpg" to folder "Macintosh HD:Users:AirYoSo:Desktop:600-699:PA-600" end tell 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:50:17.133

尝试：

```
set myFolder to (choose folder)
set pFolder to POSIX path of myFolder
set folderNames to paragraphs of (do shell script "find " & quoted form of pFolder & " \\! -name \".*\" -type f -print0 | xargs -0 ls -t | grep -Eo PA-[0-9]{3} | uniq")

repeat with aFolder in folderNames
    (do shell script "mkdir -p " & quoted form of (pFolder & aFolder))
    tell application "System Events" to move (every file of myFolder whose name begins with aFolder) to (pFolder & aFolder)
end repeat 
```

编辑如果你想硬连线到你可以使用的文件夹的路径：

```
set myFolder to "Macintosh HD:Users:YoSo:Desktop:test"
set pFolder to myFolder's POSIX path & "/"
set folderNames to paragraphs of (do shell script "find " & quoted form of pFolder & " \\! -name \".*\" -type f -print0 | xargs -0 ls -t | grep -Eo PA-[0-9]{3} | uniq")

repeat with aFolder in folderNames
    (do shell script "mkdir -p " & quoted form of (pFolder & aFolder))
    tell application "System Events" to move (every file of folder myFolder whose name begins with aFolder) to (pFolder & aFolder)
end repeat 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:46:28.153

不知道如何在 applescript 中执行此操作，但在您已安装在 Mac 上的 bash 中执行此操作非常简单：

```
#!/bin/bash
for (( c=600; c<=699; c++ ))
do
  echo "Processing PA-$c"
  mkdir -p PA-$c
  mv PA-$c-*.jpg PA-$c/
done 
```

将此保存到文件中，例如`script.sh`，将文件复制到包含 jpg 文件的目录，然后在终端中像这样运行它（将 /Users/lionel/files 替换为文件的真实路径）：

```
$ cd /Users/lionel/files 
$ bash script.sh 
```

# sql-server - 更新到 Binary(128) 列导致的页面拆分

> ID：15076941
> 
> 赞同：0
> 
> 时间：2013-02-25T21:35:32.700
> 
> 标签：sql-server, indexing, sqldatatypes, fillfactor

我有一个带有 Binary(128) 列的表。我选择了 Binary(128) 而不是 Varbinary(128)，因此它会保留所有 128 个字节并在更新二进制值时防止页面拆分。出于测试目的，我的索引上的 FILLFACTOR 为 100。

我发现即使将列设置为 Binary(128) 值，在对该列执行更新时仍会导致页面拆分。

有人知道为什么吗？

这是一些要测试的代码...

```
--      Create working dataset
Create  Table   TestTable (tID Int Identity, TestBinary Binary(128));
Create  Clustered Index hmmmm On TestTable (TestBinary) With (FillFactor=100);

With    recur As
(   
        Select  Convert(Binary(128),0x01) As val, 1 As incr
        Union   All
        Select  Convert(Binary(128),incr + 0x01), incr + 1
        From    recur
        Where   incr < 100
)
Insert  TestTable (TestBinary)
Select  Convert(Binary(128),Convert(Int,r.val) + Convert(Int,r2.val) + Convert(Int,r3.val)) As TestBinary
From    recur r
Cross   Join    recur r2
Cross   Join    recur r3;

--      Rebuild Index as needed while testing
Alter   Index [hmmmm] On [dbo].[TestTable] Rebuild

--      Check index fragmentation
SELECT  Db_Name() As DatabaseName,
        o.id,
        s.name, 
        o.name, 
        page_count,
        record_count,
        index_type_desc,
        index_id,
        index_depth,
        index_level,
        avg_fragmentation_in_percent,
        fragment_count,
        avg_fragment_size_in_pages,
        avg_page_space_used_in_percent
From    sys.dm_db_index_physical_stats (DB_ID(), Object_ID('dbo.TestTable'), NULL , NULL, 'Detailed') n
Join    sysobjects o
        On  n.object_id = o.id
Join    sys.schemas s
        On  o.uid = s.schema_id;

--      Update the records
Update  t
Set     TestBinary = Convert(Binary(128),(Convert(Int,TestBinary) + 10000))
From    TestTable t 
```

如果您使用 100 的 FILLFACTOR 执行大型更新，则会导致严重的碎片，但如果我的 FILLFACTOR 为 90，一切都很好。我认为非 var 数据类型应该保留内存，所以你不会遇到这个问题。存储膨胀从何而来？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:40:39.753

它可能不是通货膨胀，而是移动。当您在 binary(128) 列上创建了一个聚集索引时，数据将根据该值进行排序。

当您更新值时，物理记录可能必须存储在另一个页面上，以保持顺序。如果其他页面已满，则必须拆分。

# mysql - MySQL - 在 CSV 列中搜索 CSV

> ID：15076942
> 
> 赞同：1
> 
> 时间：2013-02-25T21:35:33.550
> 
> 标签：mysql, sql, search, csv

我有一个包含 CSV 列的表。

```
TableA:

field_id  |  matches
---------------------
   1         1,2,4,6,8,11,14,56 
```

现在我需要得到`field_id`与给定 csv 的用户匹配的。因此，例如，用户字符串是`1,4,11`，那么它应该返回一些值，可能只是`true`。

1.)`Find_in_set`不起作用。因为它只需要一个元素并在 SET/CSV 列中搜索它。2.) 不能使用`like concat('%,', user_input , ',%')`。因为用户输入可能不按顺序。

还有其他想法吗？我想这是一个非常常见的场景。

注意：我不需要搜索所有记录。我需要搜索特定记录。所以在上表中，我只需要搜索一条有`field_id = 1`. 即（`where field_id = 1`）。（可能无关紧要，但只是一个信息）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T22:18:45.080

嗯，这是以适当的关系形式保存数据的一个很好的论据。但是，您可以尝试：

```
select t.*
from t
where (find_in_set($user_input, 1) = 0 or
       find_in_set(substring_index(substring_index($user_input, ',', find_in_set($user_input, 1)), ',', -1), matches) > 0) and
      (find_in_set($user_input, 2) = 0 or
       find_in_set(substring_index(substring_index($user_input, ',', find_in_set($user_input, 2)), ',', -1), matches) > 0) and
     . . . 
```

不管你在用户输入集中可能有多少值，都这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T23:25:30.173

我认为 MySQL 查询没有直接的解决方案，例如`Find_In_Set`. 所以我想我将不得不通过多个查询或循环来处理这个问题。

# java - 如何在 POJO 中保留大字符串？

> ID：15076946
> 
> 赞同：0
> 
> 时间：2013-02-25T21:35:43.247
> 
> 标签：java, string, pojo

如果我有一个对象的属性，它是一个大字符串（比如文件的内容 ~ 50KB 到 1 MB，可能更大），那么在 POJO 中声明这样一个属性的做法是什么？我需要做的就是能够从我的应用程序的一层设置一个值并将其传输到另一层，而不会使对象本身变得“沉重”。

我正在考虑关联 InputStream 或 OutputStream 以获取/设置值是否有意义，而不是引用 String 本身 - 这意味着当我尝试读取内容的值时，我将其作为字节流读取，而不是比加载到内存中的整个巨大字符串...想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T13:13:00.823

您可以拥有一个在每次访问时提供流或迭代器的对象。请注意，内容必须存在于某些存储中，例如文件。即，您的对象将存储指向存储的指针（例如文件路径），并且每次有人访问它时，您打开一个流或创建一个迭代器并让该方读取。另请注意，为了节省内存，使用它的人必须确保不要将整个内容存储在内存中。

但是，50KB 或 1MB 真的很小。除非你有千兆字节（或者可能是几百兆字节），否则我不会尝试做这样的事情。

此外，即使您拥有大量数据，通常只使用文件或您将使用的任何存储都更简单。

**tl;博士**：只需使用字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T20:31:30.223

您所描述的内容很大程度上取决于您对数据的预期用途。如果您以原始形式交付内容，那么可能有更有效的方法来管理它。

例如，如果您的应用程序有一个 Web 界面，您的应用程序可能只为 Web 服务器提供一个 URL，以将内容流式传输到请求者。如果它是一个基于 CLI 的应用程序，您也许可以通过简单的文件副本摆脱困境。但是，如果您的应用程序正在处理该文件，那么您的 POJO 可能只保留该处理的结果，而不是原始数据本身。

如果您希望按照使用 POJO 引用外部流的方式提供一般模式，我建议在您的 POJO 中存储类似于 URI 的内容，该 URI 告诉在哪里可以找到流（例如数据库中的行 ID 或文件名或 URI）而不是存储流本身的实例。这样做，您将减少打开文件句柄的数量，防止潜在的并发问题，并且能够在需要时在本地序列化这些对象，而无需复制保存在其他地方的原始数据。

# javascript - 使用 Javascript 隐藏然后显示图像

> ID：15076950
> 
> 赞同：0
> 
> 时间：2013-02-25T21:36:03.873
> 
> 标签：javascript, html

```
<script>  
function showhide() {  
document.getElementById('someimage').style.visibility="hidden";   
        }  
</script> 
```

目前我可以隐藏图像，但是我无法再次显示它。使用javascript单击按钮时，如何隐藏然后能够显示图像？

这是按钮：

```
<body>  
<input type="button" onclick="showhide()" />   
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:41:28.770

只需检查当前状态，然后采取相应措施。

```
function showhide() {
    var img = document.getElementById('someimage');
    if (img.style.visibility === 'hidden') {
        // Currently hidden, make it visible
        img.style.visibility = "visible";
    } else {
        // Currently visible, make it hidden
        img.style.visibility = "hidden";
    }
} 
```

* * *

并向所有建议它的人简要说明一下关于 jQuery 的信息。

对于像这样简单的事情，不需要包含一个大的 DOM 操作库。如果你在一个更复杂的应用程序中做很多这样的 DOM 操作，那么 jQuery 开始变得更有意义。

但是，当您使用 jQuery 时，了解 jQuery 在幕后为您做了什么也很重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:41:24.543

jQuery 的奇迹 - [http://jsfiddle.net/PbG3t/](http://jsfiddle.net/PbG3t/)

```
$(function() {
    $('#button').click(function() {
        $('#someimage').toggle();
    });
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T21:44:45.500

如果您使用的是 jQuery，则可以使用 ( [.toggle](http://api.jquery.com/toggle/) ) 方法来简化很多事情：

```
$('#someimage').toggle(); 
```

如果您想坚持使用手工制作的解决方案，我猜您的代码实际上缺少将元素的可见性设置回可见的决定性位。尝试：

```
<script>  
  function showhide() {
      var element = document.getElementById('someimage');
      element.style.visibility = element.style.visibility == 'visible' 
          ? 'hidden' 
          : 'visible';   
  }  
</script> 
```

干杯，亚历克斯

# perl - perl 模块之间的依赖关系

> ID：15076951
> 
> 赞同：1
> 
> 时间：2013-02-25T21:36:07.227
> 
> 标签：perl, perl-module

假设我有三个 perl 模块，如下所示：

测试.pm

```
package Test;
use strict;
use warnings;
use Check;  
our $data = Check->getX;
1; 
```

初始化.pm

```
package Initialize;
use Check;
use Test;

Check->setX(10);
our $t = $Test::data;
print $t;
1; 
```

检查.pm

```
 package Check; 
 my $x = 12;

 sub setX {    
       my ($self,$value) = @_;
       $x = $value; 
 }

 sub getX 
 {    
       return $x; 
 } 
 1; 
```

现在，当我运行 Initialize.pm 时，我将 Check.pm 中的 $x 初始化为 10，并将 $x 分配给 Test.pm 中的 $data。但是分配给 $data 的实际值是 12，这是 Check.pm 中给出的初始值。

**那么，perl 中的全局变量是什么时候初始化的呢？如何强制我在 Initialize.pm 到 x 中设置的新值是加载到 $data 中的值？**

现在，如果我将 Initalize.pm 中的语句 use Test 替换为 require Test；并将语句 Check->setX(10) 移到此 require 语句之前，然后 $data 被正确初始化为新值 10。**在这种情况下发生了什么不同？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:57:44.733

Perl 在执行文件中的任何其他内容之前执行 use 语句。所以执行顺序是：

1.  `use Check;`
    1.  `$x = 12;`
2.  `use Test;`
    1.  `use Check;`- 这仅在文件已执行时才会导入
    2.  `$data = Check->getX();`
3.  `Check->setX(10);`

如果您替换为指令，则`use`与`require`其余指令同时评估，并且如果您`Check->setX(10);`在要求之前移动，它将在进入测试之前进行评估

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T23:49:36.220

一般来说，模块很少或没有可执行代码。面向对象的模块只定义对象方法，有时还定义一些类数据。

当你编译并执行`use Test`整个 of时，此时设置的值。`Test.pm``$data`

调用`setX`之后直接发生，但为时已晚，无法影响`$data`.

正如我在评论中所说，您的代码结构非常奇怪，模块之间根本不应该有时间依赖性。您确实应该从模块中删除所有可执行语句，但是要强制您的代码执行您可以编写的操作

```
use strict;
use warnings;

use Check;
BEGIN {
  Check->setX(10);
}
use Test;

our $t = $Test::data;
print $t; 
```

但不要那样做！

# html5-canvas - 当光标悬停在 HTML5 画布上的图像上时，将脚本添加到网页以更改段落的内容

> ID：15076952
> 
> 赞同：1
> 
> 时间：2013-02-25T21:36:21.613
> 
> 标签：html5-canvas, javascript

我有一个 HTML5 画布，它显示了许多图像。我在画布下方的页面上也有一些简单的 HTML`<p></p>`标记。

`<p></p>`当光标悬停在这些图像上时，我想更新标签的内容，我在以下位置找到了一个快速教程： [http](http://www.quirksmode.org/js/newmouseover.html) ://www.quirksmode.org/js/newmouseover.html这似乎表明它可以教你如何做这个。

我已经按照教程进行了操作，但是，当我现在在浏览器中查看我的页面时，我收到一个控制台错误，上面写着

> getElementByTagName 不是函数

我以前没有见过这个函数，我只是想知道它是否实际上是一个预定义的函数，或者它是否是教程的作者自己定义的......？我在那个页面上看不到作者定义函数的任何内容，所以我认为它可能是预定义的，但我不确定。有人知道吗？

**编辑**

好的，因此更正错字已修复它，现在正在调用该函数。但是，我目前正在从我的`window.onload`函数中调用它，因此一旦页面加载，该段落就已经更新了——它实际上并不以`onmouseover`被调用的事件为条件。

我的`window.onload`功能如下所示：

```
window.onload = function () {
    var sources = [];
        sources[0] = document.getElementById("building").src,
        sources[1] = document.getElementById("chair").src,
        sources[2] = document.getElementById("drink").src,
        sources[3] = document.getElementById("food").src,
        /*There are roughly 30 lines like this adding images in the same way */

        if (document.getElementById) {
            var x = document.getElementById('mouseovers')
                            .getElementsByTagName('IMG');
        } else if (document.all) {
            var x = document.all['mouseovers'].all.tags('IMG');
        } else {
            return;
        }
        for (var i = 0; i < x.length; i++) {
            console.log("for loop adding onmouseovers is being called");
            x[i].onmouseover = displayAssetDescriptionTip();
        }

    loadImages(sources, drawImage);
    drawGameElements();
    drawDescriptionBoxes();

    stage.add(imagesLayer);

}; 
```

我尝试将这些`if`语句移动到一个名为 的函数`displayAssetDescriptionTip()`中，这个函数现在看起来像这样：

```
function displayAssetDescriptionTip() {
    if (document.getElementById) {
        var x = document.getElementById('mouseovers')
                        .getElementsByTagName('IMG');
    } else if(document.all) {
        var x = document.all['mouseovers'].all.tags('IMG');
    }else {
        return;
    }
    for (var i = 0; i < x.length; i++) {
        console.log("for loop adding onmouseovers is being called");
        x[i].onmouseover = displayAssetDescriptionTip();
    }
    document.getElementById('tipsParagraph').innerHTML = "Assets are items that"
        + " can be bought or sold for cash.";
    console.log("displayAssetDescriptionTip being called");
} 
```

但是，`onmouseover`当我将光标悬停在添加它的图像上时，该事件似乎没有被触发 - 任何想法为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:38:04.037

getElementByTagName 不是函数。getElementsByTagName 是虽然:)

它是复数，因为它返回与给定标签匹配的每个元素。

# java - 有没有办法在 SQLite 中标记表？

> ID：15076953
> 
> 赞同：0
> 
> 时间：2013-02-25T21:36:33.020
> 
> 标签：java, android, sqlite, flags

我正在为我的应用程序寻找一种智能、简单的方法来记住我的表是否被选中。

合乎逻辑的方法是创建一个表，其中包含所有表的名称和每个表的布尔值。另一种方法是使用`SharedPreferences`.

是否还有其他不涉及数据库的选项，比如标签或类似的东西？

最后，我想要的只是让应用程序记住一个表设置是否共享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:53:05.253

这个[答案](https://stackoverflow.com/questions/708012/android-how-to-declare-global-variables)解释了如何创建自己的 android.app.Application 子类，您可以在其中存储全局变量。同样的方法应该可以帮助您在不使用数据库或共享首选项的情况下实现您想要做的事情。

# jsf - 将 inputText 值作为 url 中的参数发送到下一页并最终恢复

> ID：15076954
> 
> 赞同：1
> 
> 时间：2013-02-25T21:36:35.653
> 
> 标签：jsf

我发现了很多类似的问题，但没有一个解决方案对我有用。

我有这个 inputText 字段，用户在其中键入文本，并且此文本保存在我的 bean 中：

```
<h:inputText value="#{searchBean.param}"/> 
```

然后是这个按钮，当点击它时，它会执行搜索算法，然后将用户重定向到结果页面，如下所示：

```
<h:commandButton value="Botao" action="#{searchBean.execute}"/> 
```

执行方法：

```
public String execute() {
      levenshtein(this.param);
      return "results";
} 
```

这会将用户转发到 ..../results.xhtml，我需要这个链接是这样的：

.../results.xhtml?equation="无论用户打算搜索什么"&pagenumber="当前页码"

当我单击此页面中的链接时，我被重定向到我的站点之外，例如维基百科，然后当我单击浏览器上的后退按钮时，我需要能够恢复我搜索的内容和我的页面曾是。

我花了很长时间试图找出如何做到这一点，但每次尝试都失败了，请帮助我，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:45:41.487

你想要一个 GET 表单。这很容易与`<f:viewParam>`.

看法：

```
<f:metadata>
    <f:viewParam id="query" name="query" value="#{searchBean.query}" />
    <f:event type="preRenderView" listener="#{searchBean.execute}" />
</f:metadata>
...
<form>
    <label for="query">Query</label>
    <input type="text" name="query" value="#{param.query}" />
    <input type="submit" value="Search" />
    <h:message for="query" />
</form>
...
<h:dataTable value="#{searchBean.results}" var="result" rendered="#{not empty searchBean.results}">
     ...
</h:dataTable> 
```

豆：

```
private String query;
private List<Result> results;

@EJB
private SearchService service;

public void execute() {
    results = service.search(query);
}

// ... 
```

注意：这将结果显示在同一页面中。另请注意，如果要添加分页链接/按钮，它们应该是普通的 GET 链接/按钮，而不是 POST（命令）链接/按钮。

### 也可以看看：

*   [<f:metadata>、<f:viewParam> 和 <f:viewAction> 可以用来做什么？](https://stackoverflow.com/questions/6377798/what-can-fmetadata-and-fviewparam-be-used-for/6377957#6377957)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T22:41:56.893

你想要[GET 参数](http://www.w3schools.com/tags/ref_httpmethods.asp)。Web 应用程序为了读取目的而检索数据的常规方法是使用 GET 参数。不幸的是，JSF 并不容易支持这一点。JSF2 有视图参数，而 JSF 有一个可行的等效 hack。devzone 上有一篇关于这个主题的长文：http: [//java.dzone.com/articles/bookmarkability-jsf-2](http://java.dzone.com/articles/bookmarkability-jsf-2)

# actionscript-3 - 调用和删除计时器实例

> ID：15076960
> 
> 赞同：1
> 
> 时间：2013-02-25T21:37:06.740
> 
> 标签：actionscript-3, flash, class

在我的代码中，我使用了两个计时器：

```
var timerScroll:Timer = new Timer();
var timerCollission:Timer = new Timer(); 
```

首先...我如何实际调用 timerScroll/timerCollission 来获取它的当前值...

以及以后...

如何从其中任何一个中重置或删除计时器实例，以便重新开始？

我尝试过类似 timerScroll.getTimer();... 和 timerScroll.flash.utils.getTimer();... 我认为这行不通但还是尝试了 =D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:43:34.503

使用这样的计时器：

```
var timerScroll:Timer = new Timer( 2000 ); //2000ms = 2 second interval
timerScroll.start();
timerScroll.stop();
timerScroll.reset(); 
```

然后，在单独的事件侦听器中，将回调函数应用于`TIMER`事件。

```
timerScroll.addEventListener(TimerEvent.TIMER, myCallback);
function myCallback(e:TimerEvent) {
  trace( timerScroll.currentCount() );
} 
```

在此处查看 API 文档：http: [//help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/Timer.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/utils/Timer.html)

# c++ - 公共基类打破了元组的空基类优化

> ID：15076961
> 
> 赞同：3
> 
> 时间：2013-02-25T21:37:10.070
> 
> 标签：c++, gcc, c++11, libstdc++, stdtuple

gcc 4.7.1 对元组进行空基类优化，我认为这是一个非常有用的特性。但是，这似乎有一个意想不到的限制：

```
#include <tuple>
#include <cstdint>
#include <type_traits>
class A { };
class B : public A { std::uint32_t v_; };
class C : public A { };
static_assert(sizeof(B) == 4,                "A has 32 bits.");
static_assert(std::is_empty<C>::value,       "B is empty.");
static_assert(sizeof(std::tuple<B, C>) == 4, "C should be 32 bits."); 
```

在这种情况下，最后一个断言失败，因为元组实际上大于 4 个字节。有没有办法在不破坏类层次结构的情况下避免这种情况？或者我是否必须实现我自己的配对实现，以其他方式针对这种情况进行优化？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-25T21:59:03.757

空对象必须占用一些空间的原因是两个不同的对象必须具有不同的地址。例外情况是派生类型的基子对象可以与派生的完整对象具有相同的地址（如果派生类型的第一个非静态成员与基^([*])的类型不同。空基础优化使用它来删除任意添加到空基础的额外空间，以确保`sizeof x!=0`对于任何完整对象。

在您的情况下，元组包含**两个** `A`子对象，一个是基础，`C`另一个是基础`B`，但它们**不同**，因此它们必须具有不同的地址。这两个对象都不是另一个对象的基本子对象，因此它们不能具有相同的地址。你甚至不需要使用`std::tuple`来看到这个效果，只需创建另一个类型：

```
struct D : B, C {}; 
```

的大小`D`将严格大于 和 的`B`大小`C`。要检查实际上是否有两个`A`子对象，您可以尝试向上转换为指向的指针，`A`编译器会很乐意向您的方向吐出一些歧义错误。

^([*])出于同样的原因，该标准也明确禁止这种情况：

```
struct A {};
struct B : A { A a; }; 
```

同样，在这种情况下，在 type 的每个完整对象中`B`，都有两个`A`对象，它们必须具有不同的地址。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T21:57:20.833

正如您在实验中很容易看到的那样，这种优化可能很难实现。当 是另一个类的数据成员时，我发现这种优化最有用`tuple`（特别是如果我希望将该类放入容器中）。是否有其他数据成员可以捆绑在`tuple`其中而不暴露该事实？例如：

```
class D
{
    std::tuple<B, int, C, int> data_;
public:
    B& get_B() {return std::get<0>(data_);}
    C& get_C() {return std::get<2>(data_);}
    int& get_size() {return std::get<1>(data_);}
    int& get_age() {return std::get<3>(data_);}
}; 
```

对我来说，这绝不是保证，`std::tuple<B, int, C, int>`只有 12 个字节，所以`C`正在优化。

# jquery - jQuery equal.Heights 插件 - “$.browser.msie 为空或不是对象”？

> ID：15076967
> 
> 赞同：3
> 
> 时间：2013-02-25T21:37:39.407
> 
> 标签：jquery

一般来说，我对 js 很陌生，但从我读过的教程来看，这似乎应该可行。我只是想使用这个插件来使 3 个盒子的高度相等......如果这很重要，盒子有边框半径和其他一些样式。

脚本代码：

```
$.fn.equalHeights = function(px) {
$(this).each(function(){
var currentTallest = 0;
$(this).children().each(function(i){
if ($(this).height() > currentTallest) { currentTallest = $(this).height(); }
});
    if (!px && Number.prototype.pxToEm) currentTallest = currentTallest.pxToEm(); //use ems unless px is specified
// for ie6, set height since min-height isn't supported
if ($.browser.msie && $.browser.version == 6.0) { $(this).children().css({'height': currentTallest}); }
$(this).children().css({'min-height': currentTallest});
});
return this;
};

// just in case you need it...
$.fn.equalWidths = function(px) {
$(this).each(function(){
var currentWidest = 0;
$(this).children().each(function(i){
if($(this).width() > currentWidest) { currentWidest = $(this).width(); }
});
if(!px && Number.prototype.pxToEm) currentWidest = currentWidest.pxToEm(); //use ems unless px is specified
// for ie6, set width since min-width isn't supported
if ($.browser.msie && $.browser.version == 6.0) { $(this).children().css({'width': currentWidest}); }
$(this).children().css({'min-width': currentWidest});
});
return this;
}; 
```

页面代码：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.0.min.js"><\/script>')</script>

<script src = "js/jQuery.equalHeights.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
     $(function(){ $('#equalize').equalHeights(); });
    });
</script> 
```

我已经将“equalize”的 id 应用于我的 div，其中包含我想要相等高度的三个框。好像没有效果，IE抛出脚本错误“$.browser.msie is null or not an object”。

如果适用，我正在使用 xampp 在 php 页面上本地运行它。

我很确定这只是我的一些愚蠢的新手错误，我认真地花了大约 2 个小时试图追赶它，然后我放弃了。如果有人能插话，我真的很感激！

谢谢，乔

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-25T21:53:02.760

对于旧代码，您需要[jQuery Migrate 。](http://blog.jquery.com/2013/02/16/jquery-migrate-1-1-1-released/)

# mysql - MYSQL UTF8 口音不敏感搜索

> ID：15076968
> 
> 赞同：1
> 
> 时间：2013-02-25T21:37:41.940
> 
> 标签：mysql, select, utf-8, collation

我需要在我的数据库中进行不区分重音的搜索。表排序规则是 UTF8。

在我的桌子上，我有这些数据。

**mysql> 从类别中选择 *；**

```
+------+
| name |
+------+
| EletrÃ´nicos   |
| InformÃ¡tica   |
| AcessÃ³rios    |
+------+ 
```

我想进行没有重音的搜索并能够返回数据。

我正在尝试进行此搜索：

**从名称类似于 '%eletronicos%' 的类别中选择名称**

但是查询没有返回任何行！

有人知道我该怎么做吗？

**解释得更好**

问题是数据存储在编码为 UTF8 的数据库中。

```
**Correct word with accent:** Eletrônicos
**Stored at database like:** EletrÃ´nicos
**Searched word without accents** Eletronicos 
```

最好的，弗拉维奥

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:49:17.890

尝试将排序规则切换[为不区分大小写和重音的 utf8_general_ci](http://forums.mysql.com/read.php?103,187048,188748)

# jquery - 如何从 Json 对象或数组中检索数据并使用 jquery 更新下拉列表

> ID：15076969
> 
> 赞同：0
> 
> 时间：2013-02-25T21:37:47.520
> 
> 标签：jquery, json

我正在尝试这个很长一段时间在这里搜索不同的帖子..但无法了解如何从 JSON 对象或数组获取数据/值的概念

我正在使用 Gson 将我的 ArrayList 转换为 JSON。

```
response.setContentType("application/json");
response.setCharacterEncoding("UTF-8");
Gson gson=new Gson();
JsonObject myobj=new JsonObject();
JsonElement element=gson.toJsonTree(owningOrgRecords);
    myobj.add("owningorg", element);
   out.print( myobj.toString());
 //i tried this too String teamJSON=gson.toJson(owningOrgRecords); and out.print(teamJSON). 
```

当我使用 myobj.toString() 时得到的输出

JSON 对象

```
{
"owningorg": [
    {
        "owning_org_id": 157,
        "owning_org_desc": "FirstOwning Org",
        "team": "SSSB Team",
        "created_on": "TodayDate",
        "created_by": "Adminuser"
    },
    {
        "owning_org_id": 158,
        "owning_org_desc": "SecondOwning Org",
        "team": "SSSB Team",
        "created_on": "TodayDate",
        "created_by": "Adminuser"
    },
    {
        "owning_org_id": 159,
        "owning_org_desc": "ThirdOwning Org",
        "team": "SSSB Team",
        "created_on": "TodayDate",
        "created_by": "Adminuser"
    }
] 
```

}

JSON 数组

```
[
{
    "owning_org_id": 157,
    "owning_org_desc": "FirstOwning Org",
    "team": "SSSB Team",
    "created_on": "TodayDate",
    "created_by": "Adminuser"
},
{
    "owning_org_id": 158,
    "owning_org_desc": "SecondOwning Org",
    "team": "SSSB Team",
    "created_on": "TodayDate",
    "created_by": "Adminuser"
},
{
    "owning_org_id": 159,
    "owning_org_desc": "ThirdOwning Org",
    "team": "SSSB Team",
    "created_on": "TodayDate",
    "created_by": "Adminuser"
} 
```

]

我目前拥有的 Java 脚本。

```
 $.ajax({
        type:"POST",
        dataType:"json",
        url:"myServlet",
        cache:false,
        data:a,
        success:function(html){
            console.debug(html);
            var jsonList=html.owningorg;
            alert(jsonList.owningorg.lenght);
            $("#owningorg").removeAttr("disabled");
            $("#owningorg").html("");
        for(var i=0;i<jsonList.lenght;i++){

            listItems+="<option value='" + jsonList.owningorg[i].owning_org_id + "'>" + jsonList.owningorg[i].owning_org_dec[i] + "</option>";

            } 

        }
    }); 
```

我的问题是如何使用 Jquery 将 owning_org_dec 和 Owning_org_id 填充到 Drop 的 Value 和 desc 中。我目前将空值放入下拉列表。请向我解释如何从 JSON 对象和 JSON 数组中检索数据到下拉列表或指向帖子或教程。感谢您的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:44:48.347

就像是：

```
var thisVal = jsonList.owningorg[i].owning_org_id;
var thisTxt = jsonList.owningorg[i].owning_org_dec[i];
$("<option />").attr("value", yourvalue).text(thisTxt).appendTo("#NAMEofSelect"); 
```

请记住，您必须传递要附加到的选择字段的名称。(#NameofSelect)

# design-patterns - 如何使用依赖注入和存储库处理工作单元

> ID：15076971
> 
> 赞同：4
> 
> 时间：2013-02-25T21:37:52.790
> 
> 标签：design-patterns, dependency-injection, mvp, unit-of-work

我继承了一些具有 UnitOfWorkFactory 的代码，它在每个存储库方法中创建一个工作单元。问题是单个存储库方法很少是完整的工作单元，因此如果 say 出现问题`OrderService.PlaceOrder`，它不能只是回滚/丢弃该工作单元，因为它不是一个单元。

查看代码，我认为应该将工作单元移到服务类或演示者中。然后我遇到的问题是如何将它传递给服务或存储库？演示者获得了一个服务的实例，而服务获得了一个存储库的实例。

我可以创建工作单元并让它注入服务、存储库和演示者的构造函数，但随后它将超越单个工作单元。这是一个桌面应用程序，因此演示者及其传递的任何服务都可以在多个工作单元中运行。

我认为可以传递工作单元的唯一方法是将其作为参数添加到所有服务/存储库方法。我不禁想到必须有比这更好的方法，我错过了什么吗？

代码看起来像这样：

存储库：

```
class OrderRepository
{
    public UnitOfWorkFactory UnitOfWorkFactory;

    public OrderRepository(UnitOfWorkFactory unitOfWorkFactory)
    {
        UnitOfWorkFactory = unitOfWorkFactory;
    }

    public void Save(Order order)
    {
        using(var uow = UnitOfWorkFactory.Create())
        {
            // save order
            uow.commit();
        }
    }
} 
```

服务：

```
class OrderService
{
    protected IOrderRepository OrderRepository;
    protected IProductService ProductService;

    public OrderService(IOrderRepository orderRepository, IProductRepository productService)
    {
        OrderRepository = orderRepository;
        ProductService = productService;
    }

    public void PlaceOrder(Order order)
    {
        foreach(var item in order.Items)
        {
            if(!ProductService.IsInstock(item.Product, item.Quantity))
                throw new ProductOutOfStockException(product);

            ProductService.MarkForDispatch(item.Product, item.Quantity);
        }

        OrderRepository.Save(order);
    }

    public void CancelOrder(Order order)
    {
        ProductService.UnmarkForDispatch(item.Product, item.Quantity);

        order.IsCanceled = true;
        OrderRepository.Save(order);
    }
} 
```

主持人：

```
class OrderPresenter
{
    protected IOrderView OrderView;
    protected IOrderService OrderService;

    public OrderPresenter(IOrderView orderView, IOrderService orderService)
    {
        OrderView = orderView;
        OrderService = orderService;
    }

    public void PlaceOrder()
    {
        OrderService.PlaceOrder(order);
    }

    public void CanelOrder()
    {
        OrderService.CancelOrder(order);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T23:19:56.990

我没有一个简短的答案。您可以在我之前写过的关于这个主题的这篇博文中查看完整的答案。[[另一个 UoW，存储库文章]](http://snifferjr.wordpress.com/2013/02/20/yet-another-uow-repository-article/)。
*（如果你读了这篇文章，请告诉我你的想法）*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-02T19:59:54.153

我最终决定使用工厂并将其传递给工作单元。然后，工厂使用传递的 UOW 创建其他所有内容。

如果最终这样做是这样的：

存储库：

```
public class Repository : IRepoository
{
    IUnitOfWork UnitOfWork;

    public Repository(IUnitOfWork uow)
    {
        UnitOfWork = uow;
    }

    public void SomeOtherMethod(int id)
    {
        // Do something
    }
} 
```

服务：

```
public class Service : IService
{
    IUnitOfWork UnitOfWork;
    IRepoository Repository;

    public Service(IUnitOfWork uow, IRepoository repository)
    {
        UnitOfWork = uow;
        Repository = repository;
    }

    public void SomeMethod(int id)
    {
        Repository.SomeOtherMethod(id);
        // do other stuff
    }
} 
```

工厂：

```
public class IUnitOfWorkFactory
{
    IUnitOfWork Create();
}

public class IServiceFactory
{
    IService Create(IUnitOfWork uow);
} 
```

该`IServiceFactory.Create`方法创建服务和服务所依赖的存储库，并为它们提供传递的工作单元。

预置器：

```
public class Presenter
{
    protected UnitOfWorkFactory UnitOfWorkFactory;
    protected IServiceFactory ServiceFactory;

    public Presenter(IUnitOfWorkFactory unitOfWorkFactory, IServiceFactory serviceFactory)
    {
        UnitOfWorkFactory = unitOfWorkFactory;
        ServiceFactory = serviceFactory;
    }

    public void DoSomething()
    {
        // Get a new UOW from the factory
        using(var uow = unitOfWorkFactory.Create())
        {
            // Then create the service and repository with the new UOW via the ServiceFactory
            var service = serviceFactory.Create(uow);
            service.SomeMethod(20);

            uow.Commit();
        }
    }
} 
```

# java - 通用子类型

> ID：15076974
> 
> 赞同：-1
> 
> 时间：2013-02-25T21:37:57.027
> 
> 标签：java, generics

```
public class Test<T extends Test.Mapper<?>> {
    SomeFactory<T> factory;

    public Test(SomeFactory<T> factory) {
        this.factory = factory;
    }

    public <V> V handle(T<V> request) { // fails how to get Class<V> of request.getCls() of a mapper or its subtype?
        HttpUriRequest httpUriRequest = factory.get(request); // does not work
        // decode response and return it as an object represented by request.getCls
        return null;
    }

    public interface Mapper<T> {
        Class<T> getCls();
    }

    public interface SomeMapper<T> extends Mapper<T> {
        void doSomeAdditional();
    }

    public interface SomeFactory<T extends Test.Mapper<?>> {
        HttpUriRequest get(T mapper);
    }
} 
```

handle 方法是一种通用方法，它执行 http 请求，然后将响应主体解码为由 Mapper 的 getCls() 方法表示的对象。我希望这个类能够处理 Mapper 的不同子类型，因为 SomeFactory 实现需要访问一些仅特定于该类型的方法

与此类似的东西

```
SomeFactory<SomeMapper<?>> somefactory = // factory implementation
Test<SomeMapper<?>> test = new Test<SomeMapper<?>>(someFactory);
test.handle(implementation of SomeMapper<Integer>); // should return an instance of Integer 
```

澄清：基本上Test的实例化应该只对应于Test的实际类型（SomeMapper或Mapper）的handle()类型。然后，handle 方法可以接受这种实际类型的任何请求。

IE 如果是`Test<SomeMapper<?>> test` ，我有类似的请求

```
ASomeMapper implements SomeMapper<Double> {}
BSomeMapper implements SomeMapper<Integer> {}

test.handle(new ASomeMapper()); // this should return Double
test.handle(new BSomeMapper()); // this shold return Integer 
```

也许我应该重新设计？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:55:33.343

我不确定这对于你想要做的事情是否可以接受，但你可以这样做：

```
public class Test<V, T extends Test.Mapper<V>> {
    SomeFactory<T> factory;

    public Test(SomeFactory<T> factory) {
        this.factory = factory;
    }

    public V handle(T request) {
        return null;
    }

    public static interface Mapper<A> {
        Class<A> getCls();
    }

    public interface SomeMapper<T> extends Mapper<T> {
        void doSomeAdditional();
    }

    public interface SomeFactory<T extends Test.Mapper<?>> {
        HttpUriRequest get(T mapper);
    }
} 
```

或者您可以这样做，但在调用具有超过 2 个参数的泛型方法时，您必须始终定义参数：

```
 public <V, Z extends T> V handle(Z request) {
        return null;
    } 
```

您无法像在示例中尝试做的那样进一步参数化参数。

另一种解决方案是返回一步并执行此操作：

```
 public <V> V handle(Test.Mapper<V> request) {
        return null;
    } 
```

所以你保证它是一个合适的 Mapper 类型，但不保证它的实现。

至于你如何尝试使用它，它根本不会那样工作。您要定义的是通用方法（不仅是类）。所以基本上必须为该方法提供另一个参数，该参数由赋值定义。

无论您如何实现此 ASomeMapper，您的行都不会编译：

```
test.handle(new ASomeMapper()); 
```

它会要求您执行以下操作：

```
Double value = test.handle(new ASomeMapper()); 
```

只有这样，它才知道您实际上想要返回 Double。如果 ASomeMapper 与 Double 参数不匹配，编译器会报错，但如果匹配，它将编译。或者，如果您这样定义它：

```
Object value = test.handle(new ASomeMapper()); 
```

您仍会看到一条警告，在您的情况下应将其视为错误。因为它并不真正知道您要返回什么，并且会返回 ASomeMapper 中编码的任何内容，而无需进行任何类型检查。如果您想将它分配给一个 Object 并且仍然需要进行类型检查，那么您必须显式地参数化方法调用。

```
new Test<SomeMapper<?>>(null).<Double>handle(null); 
```

# vb.net - 如何通过“字符串名称”获取控件属性？

> ID：15076975
> 
> 赞同：14
> 
> 时间：2013-02-25T21:37:57.817
> 
> 标签：vb.net, string, object, controls

我已经通过在下一个循环中**编码创建了按钮和文本框，结果**

```
'T(x).Name = "text_1"
'T(x).Name = "text_2"
'T(x).Name = "text_3"
'....

'B(x).Name = "button_1"
'B(x).Name = "button_2"
'B(x).Name = "button_3"
'... 
```

我想在单击按钮时获取文本框属性，单击时我可以获取按钮属性，`button_1.Name.ToString` 但我无法获取 text_1,2,3 .... 属性。

我通过拆分函数 button_1.Name.ToString 做了一些技巧并获取最后一个数字并将其添加到文本框名称中，`"text_" & button_1.Name.ToString`但我无法将此字符串转换为对象。

**更新**

这是我用来在循环中加载控件的代码：

```
C_A_TEXT(x) = New TextBox() 
C_A_TEXT(x).Dock = System.Windows.Forms.DockStyle.Fill 
C_A_TEXT(x).Location = New System.Drawing.Point(270, 5) 
C_A_TEXT(x).Margin = New System.Windows.Forms.Padding(0) 
C_A_TEXT(x).Size = New System.Drawing.Size(70, 27) 
C_A_TEXT(x).TabIndex = 5 
C_A_TEXT(x).Name = "NEW_RECHARGE_COUNT_TEXT_" & x 
```

**更新 2**

这里还有一些代码：

```
AddHandler C_A_BUTTONS(x).Click, AddressOf C_A_BUTTON 

Private Sub C_A_BUTTON(ByVal sender As System.Object, ByVal e As System.EventArgs) 
    Dim thisButton As Button = sender Dim A = CType(Me.Controls("NEW_RECHARGE_COUNT_TEXT_1"), TextBox) 
    MsgBox(A.Text.ToString)  'Error!
End Sub 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-25T21:47:09.050

您可以通过`Form.Controls`属性按名称访问控件，例如：

```
Dim text1 As TextBox = CType(Me.Controls("text_1"), TextBox) 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2015-08-13T06:29:40.307

作为一个快速有用的提示，您似乎不必为了访问表单上的控件而在 CType 语句中指定控件的类型。我在尝试访问多种类型的表单控件（例如按钮和文本框）时遇到了这种情况，它们都使用同一行代码。

```
CType(Controls("NAME_OF_CONTROL"), Control) 
```

请注意，您无需准确指定控件的类型，例如“TextBox”或“Button”，只需声明“Control”即可。这允许您普遍更改任何类型的控件，而无需指定其类型。

我在其他任何地方都找不到这个，所以我想我会分享它！

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-05-05T19:47:44.747

下面是代码。

```
Dim oObj As Object = Me.Controls.Find("control name", True).FirstOrDefault()
Obj.Property = Value 
```

我希望它有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-12-14T10:59:52.570

```
Dim sometext As TextBox = CType(Me.Controls("sometext "), TextBox) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T10:49:52.567

线程的标题和您对手头问题的描述似乎彼此有点不同。

要回答您的*标题*（按名称查找控件），请使用以下命令：

```
Dim myControlToFind = LayoutRoot.FindName("NAMEOFCONTROL") 
```

可以在[此处](http://msdn.microsoft.com/en-au/library/system.windows.frameworkelement.findname%28v=vs.95%29.aspx)找到有关此方法的更多信息。

要回答您的问题*描述*（在单击后访问代码生成的控件），请执行以下操作：

在创建控件的循环中添加以下处理程序

```
Addhandler YOURCONTROL.Clicked, AddressOf Textbox_Clicked 
```

...然后这将处理点击事件

```
Private Sub Textbox_Clicked(sender as object, e as RoutedEventArgs)

Dim tbClicked = Ctype(sender, TextBox)
'You can now access any of the properties of the textbox, for example

Dim txt as String = tbClicked.Text
Dim name as String = tbClicked.Name
Dim height as Double = tbClicked.Height

End Sub 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-08-05T02:22:42.943

以上都不适合我。这样做：

```
Dim selVal As String = CType(Form.FindControl(myListName), DropDownList).SelectedValue 
```

# c++ - Linux：ntohl 无法正常工作

> ID：15076977
> 
> 赞同：5
> 
> 时间：2013-02-25T21:38:05.030
> 
> 标签：c++, linux, endianness

我有一个项目需要在 Windows、Linux 和 VxWorks 上构建。该项目基于 Linux 和 Windows 构建，但针对 VxWorks 进行了交叉编译。为了跨多个平台处理字节序，它使用 ntoh.h。Linux 机器是小端的，但 ntohl 不会在我的程序中交换。

我写了一个直接包含in.h的测试程序。适当地交换。我编写了另一个仅包含 ntoh.h 的测试程序。适当地交换。两个测试程序都链接到 lib64/libc.so.6。

但是，当我编译我的项目时，ntohl 不会交换。我无法使用 gdb "break ntohl" 命令中断 ntohl。构建时，我看到**LITTLE ENDIAN**警告（见下文）并且没有看到**“应该在此处”**错误。

请帮忙。我不明白为什么会出现这个问题。

下面是ntoh.h：

```
#ifndef __ntoh__
#define __ntoh__

#include "basic_types.h"

#ifdef WIN32
    #include <winsock2.h>
#elif LINUX
    #include <netinet/in.h>

    //This is here to determine what __BYTE_ORDER is set to in netinet/in.h.
    // Not in original code 
    #if __BYTE_ORDER == __BIG_ENDIAN
    #warning BIG ENDIAN BYTE ORDER!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    #endif 

    //This is here to determine what __BYTE_ORDER is set to in netinet/in.h. 
    // Not in original code
    #if __BYTE_ORDER == __LITTLE_ENDIAN
    #warning YAY LITTLE ENDIAN!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    #endif 
#else

  #error SHOULDNT BE HERE     //added for debugging purposes
  #define ntohl(x)        (x)
  #define ntohs(x)        (x)
  #define htonl(x)        (x)
  #define htons(x)        (x)

#endif

#endif // __ntoh__ 
```

我的编译命令的一部分：

```
g++ -DDAU_PARSER -DNO_MT -DTEST_CLOCK -DLINUX  -g -Irelease/include -Irelease/include/Record_Data/ -Irelease/include/Utility -o dauParser DAU_Support_Tools/src/dau_parser.cpp DAU_Support_Tools/src/dau_parser_write_data_to_file.cpp Utility/src/Messaging/Communications/Message.cpp Utility/src/time_type.cpp Utility/src/collectable.cpp Utility/src/clist.cpp Utility/src/clock.cpp Utility/src/test_clock.cpp Utility/src/mutex.cpp Utility/src/ntoh.cpp ... 
```

错误是由以下几行产生的：

```
int deadbeef = 0xDEADBEEF; 
printf("TESTING DEADBEEF %x %x\n", deadbeef, ntohl(deadbeef) ); 
```

这两条线的输出产生相同的输出。测试死牛肉 deadbeef deadbeef

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T07:20:45.803

> 这两条线的输出产生相同的输出。测试死牛肉 deadbeef deadbeef

嗯，出了点问题，但我们不能告诉你是什么*。**您*必须调试此问题，因为您是唯一可以观察到它的人。

从最简单的例子开始：

```
cat t.c; gcc t.c && ./a.out
#include <netinet/in.h>
#include <stdio.h>

int main() {
  int deadbeef = 0xDEADBEEF; 
  printf("TESTING DEADBEEF %x %x\n", deadbeef, ntohl(deadbeef));
  return 0;
}

TESTING DEADBEEF deadbeef efbeadde 
```

这是否产生了预期的结果？

*   不：你的工具链和标题被破坏了。
*   是的：您的工具链没问题，但您的*实际*代码与示例不同。
    通过 preprocessor: 运行您的代码`gcc -dD -E -DLINUX ntoh.cpp`，并查看`ntohl`宏扩展为什么以及它来自何处。

我的猜测是你的一个标题中有一些愚蠢的东西*，*例如

```
#undef ntohl
#define ntohl(x) (x) 
```

# php - 除了作为 blob 之外，是否有更节省空间的方式将图像存储在数据库中？

> ID：15076978
> 
> 赞同：0
> 
> 时间：2013-02-25T21:38:14.990
> 
> 标签：php, mysql, sql, image

除了 blob 之外，图像还可以以哪些格式保存在数据库中？我知道我们可以将它保存为 blob 类型。最简单的方法。但是有没有其他可能的方法。因为在每种情况下都使用 php，我们将图像转换为字符串。比保存它。

所以有人有不同的答案？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T22:37:11.600

您可以将它们转换为 Base64 并将它们存储为字符串。但是，将图像存储在 DB 中的做法通常不是出于以下几个原因：

1.  将图片存储在服务器上然后将路径存储在数据库中更容易
2.  不能很好地索引这些图片
3.  数据库增长太快，无法有效复制或备份

希望这可以帮助。

# javascript - Google Maps InfoWindow with AJAX - “Uncaught TypeError: Object # 没有方法'O'”错误

> ID：15076980
> 
> 赞同：0
> 
> 时间：2013-02-25T21:38:19.203
> 
> 标签：javascript, ajax, google-maps

我正在尝试使用 InfoWindow 显示从 AJAX 调用中检索到的信息。信息窗口没有关闭，并在我单击标记后立即给我这个错误。

这是 Chrome 控制台中错误的屏幕截图。 ![Chrome 控制台中的错误消息](../Images/ceca1c48519feb38c33bd9389ae42a39.png)

这是我的代码：

```
var infowindow = new google.maps.InfoWindow();
function showBuildingInfo(map, building_code, marker) {
  google.maps.event.addListener(marker, 'click', function() {
    $.ajax({
      'url': '/maps/building/' + building_code,
      'dataType': 'html',
      'success': function(data) {
        infowindow.setContent(data);
        infowindow.open(map, marker);
      }
    });
  });
}

function initialize() {
  var campusCenter = new google.maps.LatLng(37.6753005, -113.0732455);
  var imageBounds = new google.maps.LatLngBounds(
    new google.maps.LatLng(37.663559,-113.08003),
    new google.maps.LatLng(37.677042,-113.066901)
  );

  var mapOptions = {
    zoom: 16,
    center: campusCenter,
    mapTypeId: google.maps.MapTypeId.SATELLITE
  };

  var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

  var newmap = new google.maps.GroundOverlay(
      'static/images/campus.png',
      imageBounds);
  newmap.setMap(map);

  var ADLatlng = new google.maps.LatLng(37.676189,-113.069555);

  var ADMarker = new google.maps.Marker({
      position: ADLatlng,
      map: map,
      title: "Bennion Administration Building",
  });

  showBuildingInfo(newmap, 'AD', ADMarker);
} 
```

**编辑**

我认为我的问题是范围问题。如果我将 ajax 调用从内部移动`showBuildingInfo`到`addListener`函数中，就像这样，它工作得很好。

```
var infowindow = new google.maps.InfoWindow();
function initialize() {
  var campusCenter = new google.maps.LatLng(37.6753005, -113.0732455);
  var imageBounds = new google.maps.LatLngBounds(
    new google.maps.LatLng(37.663559,-113.08003),
    new google.maps.LatLng(37.677042,-113.066901)
  );

  var mapOptions = {
    zoom: 16,
    center: campusCenter,
    mapTypeId: google.maps.MapTypeId.SATELLITE
  };

  var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

  var newmap = new google.maps.GroundOverlay(
      'static/images/campus.png',
      imageBounds);
  newmap.setMap(map);

  var ADLatlng = new google.maps.LatLng(37.676189,-113.069555);

  var ADMarker = new google.maps.Marker({
      position: ADLatlng,
      map: map,
      title: "Bennion Administration Building",
  });

  google.maps.event.addListener(ADMarker, 'click', function() {
    $.ajax({
      'url': '/maps/building/' + 'AD',
      'dataType': 'html',
      'success': function(data) {
        infowindow.setContent(data);
        infowindow.open(map, ADMarker);
       }
    });
  });

} 
```

我想删除对函数的 ajax 调用，所以我没有很多代码重复。我怎样才能做到这一点？

**解决方案**

我认为我的错误是在我的 AJAX函数中使用`newmap`（不是`Map`对象，而是对象）。传递对象似乎解决了我的问题。`GroundOverlay``success``map`

为了让事情更清楚，我将`newmap`变量重命名为`overlay`. 我还将 AJAX 设置函数定义移到了初始化函数中，因此我没有传递那么多变量。希望这个代码片段可以帮助其他人使用 AJAX 处理 Google Maps Infowindow 内容。

```
function initialize() {
  var campusCenter = new google.maps.LatLng(37.6753005, -113.0732455);
  var imageBounds = new google.maps.LatLngBounds(
    new google.maps.LatLng(37.663559,-113.08003),
    new google.maps.LatLng(37.677042,-113.066901)
  );

  var mapOptions = {
    zoom: 16,
    center: campusCenter,
    mapTypeId: google.maps.MapTypeId.SATELLITE
  };

  var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

  var overlay = new google.maps.GroundOverlay(
      'static/images/campus.png',
      imageBounds);
  overlay.setMap(map);

  var infowindow = new google.maps.InfoWindow();

  var ADLatlng = new google.maps.LatLng(37.676189,-113.069555);

  function setMarkerHandling(marker) {
    google.maps.event.addListener(marker, 'click', function() {
      $.ajax({
        'url': '/maps/building/' + marker.urlID,
        'dataType': 'text',
        'success': function(data) {
          infowindow.setContent(data);
          infowindow.open(map, marker);
        }
      });
    });
  }

  var ADMarker = new google.maps.Marker({
      position: ADLatlng,
      map: map,
      title: "Bennion Administration Building",
      urlID: "AD"
  });

  setMarkerHandling(ADMarker);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T00:11:54.650

尝试这个：

```
function setMarkerHandling(marker){

  //marker is trapped by closure in the function being defined as a handler

  google.maps.event.addListener(marker, 'click', function() {

    $.ajax({
      'url': '/maps/building/' + marker.urlID,
      'dataType': 'html',
      'success': function(data) {
        infowindow.setContent(data);
        infowindow.open(map, marker);
       }
    });
  });

} 
```

然后在现场展示在您编辑的版本中有效：

```
 //add the context property you need to the marker (in this case urlID)

  var ADMarker = new google.maps.Marker({
      position: ADLatlng,
      map: map,
      title: "Bennion Administration Building",
      //you had a comma after title that shouldn've broke it by the way
      urlID: "AD"
  });

  //and now to set things up generically:
  setMarkerHandling(ADMarker); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T23:29:17.937

您是否为 infoWindow 内容传递了有效数据？从文档：

```
content: This can be an HTML element, a plain-text string, or a string containing HTML. 
```

我看到预期的`data`dataType 是`text`，但可能会仔细检查它是否被正确处理。

# svn - 在 SVN 服务器端创建 SVN 项目文件夹（“分支”、“标签”和“主干”）是否提供任何额外功能？

> ID：15076981
> 
> 赞同：2
> 
> 时间：2013-02-25T21:38:20.333
> 
> 标签：svn, tortoisesvn, directory, visualsvn-server, svn-repository

Visual SVN Server 允许您创建 SVN 存储库和 SVN 项目。那些严格拥有客户端 SVN 访问权限（例如使用 Tortoise）的人不能创建项目。但是，他们确实能够根据需要创建文件夹。在服务器端创建 SVN 项目时，您可以为给定的 SVN 项目自动生成标签、分支和主干文件夹。另一方面，您可以手动创建一个项目文件夹，以及来自 Tortoise SVN 的这三个相同的子文件夹。两者在服务器端的架构上有什么不同吗？在服务器端创建是否会提供任何额外的功能（例如）？如果没有，我只是想避免我们的管理员在服务器端进行维护。

编辑：

对不起，他们使用术语“新建 > 项目结构...”

![在此处输入图像描述](../Images/4aca39dbcb1e64d34a953f65529e7ef4.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T21:41:30.617

不，没有区别。文件夹就是文件夹。无论您是在创建存储库时创建它还是稍后创建它都不会改变任何东西。但我会直接创建它们，因为您将需要它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-25T23:46:55.123

1.  没有**这样的对象**，如 Apache Subversion（和 VisualSVN 服务器）中的“SVN 项目”：只有
    *   存储库
    *   存储库中的文件夹
2.  repo 根目录中的 trunk/tags/branches 是常规布局，并且只有一组中的一个，请阅读[推荐的存储库布局](http://svnbook.red-bean.com/en/1.7/svn.tour.importing.html#svn.tour.importing.layout)和[存储库布局](http://svnbook.red-bean.com/en/1.7/svn.branchmerge.maint.html#svn.branchmerge.maint.layout)以获取更多详细信息。

> 两者在服务器端的架构上有什么不同吗？

不。它们在历史上是相同的（在 repo 中有一个带有新文件夹的提交），VisualSVN Server 的提交只有另一个提交者名称，并且不会触发挂钩脚本。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T21:41:37.333

简短回答：不。`/trunk`,`/tags`和`/branches`目录只是常规的 Subversion 文件夹。

# javascript - js，查找/匹配/搜索元素是否按数据名存储数据

> ID：15076984
> 
> 赞同：1
> 
> 时间：2013-02-25T21:38:34.163
> 
> 标签：javascript, jquery, search, match

我想知道一个元素是否存储了特定的数据。

例如，如果一个元素有一个数据和名为`DATA + etc`.

```
$el.data('DATA' + 'etc', value); 
```

如果我只知道名称将是 DATA + something 但我不知道是什么。

如果`find out / search / match`元素有数据并且其名称以`'DATA'`.

```
alert($el.data('DATA') ? 'Yes' : 'No') 
```

非常感谢您的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:40:27.170

[`.data()`不带参数](http://api.jquery.com/data/#data2)会为您提供附加数据的对象，因此您可以遍历键以查看其中是否有以`'DATA'`.

```
var hasMatchingData = false;
var allData = $el.data();
for (var key in allData) {
    if (allData.hasOwnProperty(key) && key.match(/^DATA/g)) {
        hasMatchingData = true;
        break;
    }
}
alert(hasMatchingData ? 'Yes' : 'No') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T21:41:25.570

为“DATA”键存储一个对象。然后将您的 etc 属性添加到该对象上。

检查可以通过写来完成

```
'propertyName' in object 
```

# android - Android上的SQLiteError：找不到列

> ID：15076988
> 
> 赞同：0
> 
> 时间：2013-02-25T21:38:53.697
> 
> 标签：android, sqlite, runtime-error

我正在尝试实现一个数据库来存储有关 Android 应用程序用户的信息。

这是一个字符串：

```
private static final String DATABASE_CREATE = 

                 "CREATE TABLE "

                  + DATABASE_TABLE_USERS 
                  + "(" + KEY_ROW_ID 
                  + " INTEGER PRIMARY KEY AUTOINCREMENT," 
                  + KEY_NAME

                  + " TEXT NOT NULL," 
                  + KEY_PASSWORD 
                  + " TEXT NOT NULL," 
                  + KEY_LOGIN_ATTEMPTS 
                  + " INTEGER NOT NULL," 
                  + KEY_ZIP + " TEXT," 
                  + KEY_STREET + " TEXT," + KEY_EMAIL + " TEXT NOT NULL);"; 
```

我使用这个字符串在 OnCreate 方法中调用 db.execSQL(DATABASE_CREATE)。

我认为这是发生错误的地方：

```
 public boolean findPerson(String uid, String password) {
                String [] columns = new String [] {DB_Helper.KEY_NAME, DB_Helper.KEY_PASSWORD};
                Cursor c = database.query(DB_Helper.DATABASE_TABLE_USERS, columns,"KEY_PASSWORD = ? AND KEY_NAME = ?",
                new String[] { password, uid },
                null,
                null,
                null);

                 if(!c.moveToFirst()){
                c.close();
               return false;
                  }
                 else c.close();

    return true;
} 
```

我立即得到一个异常，说我找不到列 KEY_PASSWORD。

这是日志文件：

> 02-25 21:20:56.426: D/MainActivity(2257): 点击保存按钮
> 
> 02-25 21:20:56.695: E/SQLiteLog(2257): (1) 没有这样的列：KEY_PASSWORD
> 
> 02-25 21:20:56.695: D/AndroidRuntime(2257): 关闭 VM
> 
> 02-25 21:20:56.705: W/dalvikvm(2257): threadid=1: 线程以未捕获的异常退出 (group=0x40a70930)
> 
> 02-25 21:20:56.775：E/AndroidRuntime（2257）：致命异常：主要
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): java.lang.IllegalStateException: 无法执行活动的方法
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.view.View$1.onClick(View.java:3597)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.view.View.performClick(View.java:4202)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.view.View$PerformClick.run(View.java:17340)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.os.Handler.handleCallback(Handler.java:725)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.os.Handler.dispatchMessage(Handler.java:92)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.os.Looper.loop(Looper.java:137)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.app.ActivityThread.main(ActivityThread.java:5039)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 java.lang.reflect.Method.invokeNative(Native Method)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 java.lang.reflect.Method.invoke(Method.java:511)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): at dalvik.system.NativeStart.main(Native Method)
> 
> 02-25 21:20:56.775：E/AndroidRuntime(2257)：由：java.lang.reflect.InvocationTargetException 引起
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 java.lang.reflect.Method.invokeNative(Native Method)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 java.lang.reflect.Method.invoke(Method.java:511)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.view.View$1.onClick(View.java:3592)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): ... 11 更多
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 由: android.database.sqlite.SQLiteException: 没有这样的列: KEY_PASSWORD (code 1): , 编译时: SELECT id_name, id_password FROM reg_users_table WHERE KEY_PASSWORD = ? 和 KEY_NAME = ?
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:58)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteQuery.(SQLiteQuery.java:37)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1314)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1161)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1032)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1200)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 com.example.wheresmystuff.Model.DB.findPerson(DB.java:57)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): at com.example.wheresmystuff.Presenter.Login_Presenter.validate(Login_Presenter.java:26)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): 在 com.example.wheresmystuff.View.MainActivity.save(MainActivity.java:48)
> 
> 02-25 21:20:56.775: E/AndroidRuntime(2257): ... 14 更多

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T21:41:21.887

KEY_PASSWORD 是一个 java 变量名，不一定是实际的 SQL 列名。仔细检查您拥有的实际 SQL 名称

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:46:31.970

该错误非常不言自明。您的选择正在查找表中不存在的列 (`KEY_NAME`和)。`KEY_PASSWORD`该错误甚至为您提供了已编译的 SQL，因此您可以看到您的错误：

```
SELECT id_name, id_password FROM reg_users_table WHERE KEY_PASSWORD = ? AND KEY_NAME = ? 
```

将您的选择更改为`KEY_PASSWORD + " = ? AND " + KEY_NAME + " = ?"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-15T09:54:06.200

这应该有帮助

```
Cursor c = database.query(DB_Helper.DATABASE_TABLE_USERS, columns,DB_Helper.KEY_PASSWORD + "= ? AND " DB_Helper.KEY_NAME + "= ?" 
```

# vba - vba将标准传递给变量中的countif

> ID：15076991
> 
> 赞同：2
> 
> 时间：2013-02-25T21:38:58.927
> 
> 标签：vba, variables, excel, countif

我正在尝试使用循环计算工作表中 K 列中出现特定字符串的行数。用于搜索的字符串位于记分卡 B2:B8 中。计数应放在下一列中，在这种情况下为 C。我正在尝试将“op_id”中的字符串传递给 countif。当我运行它时，C 列中的所有计数值都是 0。这是我到目前为止所拥有的：

```
Dim op_id As String

For i = 2 To 8
op_id = Sheets("Scorecards").Cells(i, 2)
Sheets("Scorecards").Cells(i, 3) = "=COUNTIF('Raw Data'!K:K, & op_id)"

Next i 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T22:41:29.170

除非您的示例过于简单，否则此处无需使用 VBA，因为您可以使用 SUMPRODUCT 达到相同的效果，例如：

```
=SUMPRODUCT(1*('Raw Data'!K:K=B2)) 
```

...并向下拖动以根据需要应用到尽可能多的行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T21:47:42.007

问题是 VBA 不支持字符串插值。您需要连接：

```
Dim op_id As String

For i = 2 To 8
    op_id = Sheets("Scorecards").Cells(i, 2)
    Sheets("Scorecards").Cells(i, 3) = _
        "=COUNTIF('Raw Data'!K:K, """ & op_id & """)"

Next i 
```

# sql-server - 从 SQL Server 读取的 Kendo UI 条形图

> ID：15076994
> 
> 赞同：1
> 
> 时间：2013-02-25T21:39:07.097
> 
> 标签：sql-server, kendo-ui

我想知道是否有人有任何关于 Kendo UI 条形图从 SQL Server 读取数据的示例或链接？我从 Kendo UI Demos 网站下载的示例没有这个功能，我需要看一些示例来开发自己的应用程序。我对此很陌生，非常感谢您的帮助。谢谢。