# StackOverflow 问答 16010000-16010999

# javascript - 一组 div 上的鼠标悬停无法正常工作

> ID：16010002
> 
> 赞同：0
> 
> 时间：2013-04-15T07:39:25.100
> 
> 标签：javascript, html, onmouseout

我正在实现一个代码，其中我有包含 n 个子 div 的父 div。我有一个用于主 div 的 mouseout 功能以及用于子 div 的不同 mouseout 功能。

我的代码结构将是这样的。

```
<div id="root" onmouseout="dohide('main');">
<div id="top">title</div>
<div id="main">
<div id="1" onmouseover="changecolor(this.id);" onmouseout="recolor(this.id);">1</div>
<div id="2" onmouseover="changecolor(this.id);" onmouseout="recolor(this.id);">2</div>
<div id="3" onmouseover="changecolor(this.id);" onmouseout="recolor(this.id);">3</div>
<div id="4" onmouseover="changecolor(this.id);" onmouseout="recolor(this.id);">4</div>
<div id="5" onmouseover="changecolor(this.id);" onmouseout="recolor(this.id);">5</div>
</div>
</div> 
```

当我鼠标进入时，代码工作起来很奇怪。当我将鼠标悬停在主 div 上时，它的可见性设置为隐藏。但我的代码是仅在鼠标悬停时更改可见性。是因为父 div 内的子 div 吗？如何纠正它？

```
function dohide(cb_hd_id)
{
if(document.getElementById(cb_hd_id).style.visibility=="visible")
{
document.getElementById(cb_hd_id).style.visibility="hidden";
}
else
{
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:44:49.967

你`div#root`只是一个包装器 div，它没有任何直接可视的文本节点或填充空白。所以它不会自己发出鼠标事件。

它通过[事件冒泡](http://www.quirksmode.org/js/events_order.html)`mouseout`从其可见的后代元素接收事件。因此，任何时候您的鼠标离开或( , , ... 实际上)，都会引发一个事件并冒泡到.`div#top``div#main``div#1``div#2``mouseout``div#root`

由于您没有解释您想要的详细效果，因此无法做出好的答案。

如果你正在编写一个带有`mouseover`/`mouseout`效果的下拉导航面板，你可以添加一个`mouseover`处理程序`div#root`来显示`div#main`。当您将鼠标从一个项目移动到另一个项目时`div#main`，将在处理程序执行之后和之前`mouseover`触发。`mouseout``mouseout`

检查[jsFiddle](http://jsfiddle.net/ArieShout/eq32B/)看看它是否是你想要的。请注意，悬停效果可以[纯粹在 CSS 中](http://jsfiddle.net/ArieShout/CbHnF/)实现。

# javascript - 显示更多信息（鼠标悬停）

> ID：16010010
> 
> 赞同：0
> 
> 时间：2013-04-15T07:39:39.217
> 
> 标签：javascript, html, css

我不确定它是如何用英语调用的，但我希望用户在将鼠标悬停在我的表格中的一个元素上时看到更多信息，如下所示：

![在此处输入图像描述](https://i.stack.imgur.com/wK8M3.png)

表看起来像这样的唯一区别：

[>>表<<](https://i.imgur.com/dG4fFqg.jpg)

它应该描述超过一行的内容，例如：

```
Molten Coin:
+17 Defenses
+11 Attacks 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:19:16.050

使用 jquery 工具提示它会正常工作看看下面的 url

[http://jqueryui.com/tooltip/](http://jqueryui.com/tooltip/) 或查看以下代码

```
 <html lang="en">
<head>
<meta charset="utf-8" />
<title>jQuery UI Tooltip - Default functionality</title>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
<link rel="stylesheet" href="/resources/demos/style.css" />
<script>
$(function() {
$( document ).tooltip();
});
</script>
<style>
label {
display: inline-block;
width: 5em;
}
</style>
</head>
<body>
<p><a href="#" title="That's what this widget is">Tooltips</a> can be attached to any element. When you hover
the element with your mouse, the title attribute is displayed in a little box next to the element, just like a native tooltip.</p>
<p>But as it's not a native tooltip, it can be styled. Any themes built with
<a href="http://themeroller.com" title="ThemeRoller: jQuery UI's theme builder application">ThemeRoller</a>
will also style tooltips accordingly.</p>
<p>Tooltips are also useful for form elements, to show some additional information in the context of each field.</p>
<p><label for="age">Your age:</label><input id="age" title="We ask for your age only for statistical purposes." /></p>
<p>Hover the field to see the tooltip.</p>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:23:48.523

您应该能够只使用 CSS 工具提示：

```
 body {
        background-color:black;
        color:white;
    }

    .tooltipDiv {
        position:relative;
    }

    .tooltipDiv span {
        display:none;
        position:absolute;
        top:25px;
        left:60px;
        background-color:white;
        font-size:1.2em;
        color:black;
        padding:5px;
    }

    .tooltipDiv:hover span {
        display:inline;
}

<div class="tooltipDiv">
    My Area Div
    <span>Molten Coin:<br />+17 Defenses<br />+11 Attacks</span>
</div> 
```

查看 JSFiddle 以了解它的实际效果。

[http://jsfiddle.net/ZMuvm/](http://jsfiddle.net/ZMuvm/)

但是请注意，如果您在锚元素以外的任何东西上使用 :hover peudo 类，则会失去与 IE6 的兼容性。不要从 MSDN 网站上摘录这一段：

> 从 Windows Internet Explorer 7 开始，当浏览器处于标准兼容模式（严格 !DOCTYPE）时，您可以将 :hover 伪类应用于任何元素，而不仅仅是链接。如果伪类未专门应用于选择器中的元素，例如 a 标记，则假定使用通用 (*) 选择器。不加选择地使用 :hover 伪类会对页面性能产生负面影响。

可以在此处的上下文中查看：http: [//msdn.microsoft.com/en-gb/library/ie/cc848866 (v=vs.85).aspx](http://msdn.microsoft.com/en-gb/library/ie/cc848866(v=vs.85).aspx)

解决这个问题的一种方法是在 DIV 中放置一个块锚元素。看看这个小提琴的例子：

[http://jsfiddle.net/uBF8J/](http://jsfiddle.net/uBF8J/)

```
<div class="tooltipDiv">
    <a>My Area Div
        <span>Molten Coin:<br />+17 Defenses<br />+11 Attacks</span>
    </a>
</div>

body {
    background-color:black;
    color:white;
}

.tooltipDiv a {
    position:relative;
    display:block;
}

.tooltipDiv a span {
    display:none;
    position:absolute;
    top:25px;
    left:60px;
    background-color:white;
    font-size:1.2em;
    color:black;
    padding:5px;
}

.tooltipDiv a:hover span {
    display:inline;
} 
```

# mysql - 如何在 php 中使用 cookie 的值进行搜索 - codeigniter

> ID：16010012
> 
> 赞同：0
> 
> 时间：2013-04-15T07:39:51.887
> 
> 标签：mysql, codeigniter, search, cookies

第一次访问时我有一个弹出对话框。您可以使用半径设置邮政编码。onsubmit cookie 被设置并显示在主网页上：

你可以在这里试试这个：http: [//kees.een-site-bouwen.nl](http://kees.een-site-bouwen.nl)

现在您会在我的数据库中看到一个用于搜索工厂的搜索表单。我的工厂表如下所示：

```
Factories
- - - - - 
idfactories
factoryname
postcode
place
telephonenumber
email
website
profile
adress 
```

请注意，我的表中有一个邮政编码字段。那么如何使用我使用 cookie 设置的邮政编码在该表中搜索？

我设置cookie的代码：

```
 <form method="post" action="">
        <input type="text" name="postcode" placeholder="postcode">
    <select name="radius">
        <option disabled selected>Afstand</option>
        <option>5km</option>
        <option>10km</option>
        <option>15km</option>
        <option>25km</option>
    </select>
    <br /><br />
        <input type="submit" value="Opslaan">
        <input type="hidden" name="submitted" value="true">
        <input type="hidden" name="afstand" value="true" />
    </form>

<?php
    if(isset($_POST['postcode']))
    {
        setcookie('postcode', $_POST['postcode'], time() + (20 * 365 * 24 * 60 * 60));
        setcookie('radius', $_POST['radius'], time() + (20 * 365 * 24 * 60 * 60));
        header("location: {$_SERVER['PHP_SELF']}");
    };

?>

<?php

if (isset($_POST["set_radius"])) {
}
?> 
```

我的模型中的搜索查询：

```
function get_search($match)
{
    $this->db->like('Bedrijfsnaam', $match);
    $this->db->or_like('Postcode', $match);
    $this->db->or_like('Plaats', $match);
    $this->db->or_like('Telefoonnummer', $match);
    $this->db->or_like('Email', $match);
    $this->db->or_like('Website', $match);
    $this->db->or_like('Profiel', $match);
    $this->db->or_like('Adres', $match);
    $this->db->or_like('Categorie', $match);

    $this->db->join('bedrijven', 'bedrijfcategorieen.idbedrijven = bedrijven.idbedrijven');
    $this->db->join('categorieen', 'bedrijfcategorieen.idcategorieen = categorieen.idcategorieen');
    $this->db->group_by('bedrijfcategorieen.idbedrijven', 'bedrijfcategorieen.idcategorieen');

    $query = $this->db->get('bedrijfcategorieen');

    return $query->result();
} 
```

我的控制器功能：

```
function searchresults()
{   
    $this->breadcrumbs->page = array('link'=> base_url().'home/search' ,'title' => 'Bedrijven Zoeken' );            
    $this->breadcrumbs->method = array('link'=> base_url().'home/searchresults' ,'title' => 'Zoekresultaten' );
    $data['breadcrumbs'] = $this->breadcrumbs->get();
    $match = $this->input->post('search');
    $data['query'] = $this->bedrijven_model->get_search($match);
    $this->load->view('views/header');
    $this->load->view('views/searchresults', $data);
    $this->load->view('views/footer');
    $data['query'] = $this->bedrijven_model->bedrijven_tags();
} 
```

我尝试使用`$this->input->cookie('search');`但没有用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:54:10.890

首先，我看不到您使用“swarch”键将 cookie 保存在哪里。我只看到邮政编码和半径。然后你必须像

```
$this->input->cookie('postcode') 
```

无论如何，如果您设置了正确的 cookie。您是否正在加载 cookie 助手？

```
$this->load->helper('cookie'); 
```

干杯!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:05:49.483

我通过简单地将以下代码添加到我的控制器函数来修复它

```
$match = $this->input->cookie('postcode'); 
```

Codeigniter 太棒了！

# ios - 当前版本的应用商店更改

> ID：16010018
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:40:18.500
> 
> 标签：ios, app-store

我在 appstore 上有一个 abc 应用程序，该应用程序已获得批准，它们的某些功能不完整，或者我们可以在应用程序中说它错误。

我想在不更改当前版本的应用程序版本的情况下重新上传应用程序。

可以做也可以不做。或者在更新版本中我必须这样做。

预先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:46:49.420

如果您上传的 App 版本尚未获得批准且仍在审核中，您可以前往`'Binary Details' page -> 'Reject the Binary'` 状态将更改为“开发者被拒绝”。在这种情况下，您可以重新上传具有相同版本号的新二进制文件。如果`version`获得批准，您需要创建新`Version number`的 . 并且您需要提交新的二进制文件以供审核。就像`you want Reupload the App without changing the App Version`在 App Store 上一样。

```
`First step` 
```

上传一个新版本，比如最新的 1.0，而不是新的 2.0 等。

```
Second Step 
```

您需要删除您的旧应用程序并上传您的旧应用程序

上传新版本是个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:41:35.680

您无法在不更改应用程序版本的情况下更新应用程序。通过 iTunes Connect，您只能在为应用提供**新版本号**的情况下上传应用。

因为如果你不更新版本号，用户怎么会知道应用程序发生了变化，他们需要升级呢？新版本，提示用户更新应用程序。

# vb.net - 无法搜索具有重复值的条目

> ID：16010022
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:40:38.137
> 
> 标签：vb.net, ms-access-2007, oledb

嗨，我有一个数据库，其中输入了我的重复数据（序列号）。喜欢

```
序列号 Chalan-no

Abcd1234 VS/12-13/TS/187

Abcd1234 VS/12-13/TS/187

xyz11234 VS/12-13/TS/130

xyz11234 VS/12-13/TS/174

```

如果我搜索 `abcd1234` 它，这两个条目都会给我 chalans-no `VS/12-13/T-S/187`。没关系，但是如果我搜索`xyz11234`它只会给我 chalans-no `VS/12-13/T-S/130`，而不是`xyz11234`& `VS/12-13/T-S/174`，因为它会检查序列号并给出它的第一次出现。但是如果我想要`xyz11234`&`VS/12-13/T-S/174`怎么办？

我正在使用以下代码搜索序列号并为此检索 chalan_no：---

```
 Private Sub cmbSn_no_SelectedIndexChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmbSn_no.SelectedIndexChanged
    'code to fill all details in text boxes when a Sr.No is selected in combobox

    Dim strSelVen As String = ("SELECT * FROM Duplicate_srno where sr_no= @srno")
    Dim comm_SelVen As OleDb.OleDbCommand = New OleDb.OleDbCommand(strSelVen, cnnOLEDB)
    comm_SelVen.Parameters.AddWithValue("@srno", cmbSn_no.Text)
    cnnOLEDB.Open()

    Dim dr As OleDb.OleDbDataReader = comm_SelVen.ExecuteReader

    If dr.Read = True Then

        cmbSn_no.Text = dr("Sr_no")
        cmbChal_no.Text = dr("chalan_no")

    End If
    cnnOLEDB.Close()
    strsrno = cmbSn_no.Text
    strchlno = cmbChal_no.Text
End Sub 
```

请建议我该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:01:31.797

您的代码`If dr.Read = True Then ... End If`只执行`.Read`一次，因此您只检索一行。尝试类似的东西`Do While dr.read ... Loop`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T18:07:53.717

我没有使用过 OleDBDataReader 但如果它看起来只有一个阅读器。尝试循环方法。

有没有办法一次读取整个表格？在 SQL 世界中，它将是 SqlDataAdapter.fill。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:16:47.043

我假设你有以下课程：

```
Public Class Data
    Public Property SerialNumber As String
    Public Property ChalanNumber As String
End Class 
```

显示您问题中的值的表使用的是`List(Of Data)`：

`Dim myList As New List(Of Data)()`

那么操作应该是：

`Dim selectedData = myList.Where(Function(e) e.SerialNumber = "xyz11234")`

# c# - winforms C#中的datagrid没有itemdatabound/rowdatabound

> ID：16010030
> 
> 赞同：0
> 
> 时间：2013-04-15T07:41:05.880
> 
> 标签：c#, winforms, events, event-handling

我用谷歌搜索并了解到winforms中没有itemdatabound或rowdatabound。我需要使用 RowAdded 和/或 CellFormatting...

Datagridview - Winforms - C#

我有以下两种情况，我不知道如何解决。我的数据源是一个 Genericlist.... 列表 “文档”列表包含 DocumentNumber、DocType、AccountNumber 和 Amount。例如

```
 DocumentNumber = 100         type-> int
 DocType        = F           type-> string
 AccountNumber  = 9873        type-> String
 Amount         = 12345.25    type-> Decimal 
```

我的数据网格应该看起来像

```
DocumentNumber  Dotype      AccountNumber    AccountDescription    Amount  
100              F             9873            VAT return           12.345,25
101              C             4341            VAT payable         - 3.326,63 
```

要求：

1) 检索每一行的 AccountDescription 并放在 Grid 上。因此，当为每一行获取帐号并调用检索 Accountdescription 并放在 Datagrid 列上的函数时。

2) 当 Doctype = "C" 并使金额字段为负数时（换句话说，在金额的前面加上一个减号）

3) 对输入的金额应用格式：12345.25 并将其设为 12.345,25

```
 //make the Credit amount negative
    void dataGridView_CellFormatting(object sender, DataGridViewCellFormattingEventArgs e)
    {
        DataGridViewRow row = dataGridView.Rows[e.RowIndex];
        if (dataGridView.Columns[e.ColumnIndex].Name == "TypeDoc" && e.Value != null && e.Value.ToString() == "C")
        {
            dataGridView.Rows[e.RowIndex].DefaultCellStyle.ForeColor = Color.Red;
            //make the amount fields negative and apply formatting.
            row.Cells[4].Value = Convert.ToDecimal(row.Cells[4].Value,  CultureInfo.GetCultureInfo("NL-be")) * -1;
        }
    } 
```

***问题：***

1）如何检索AccountDescription，CellFormatting循环遍历每个Cell？我的意思是我需要在哪个事件中调用一个函数并传递 AcountNumber 以便它返回描述并将描述放在 Datagrid 列中？？？？

2）我正在使用 Cellformatting 检查文档类型是否为 C，如果它是“C”，则应用颜色 RED 并将其设为负数并应用格式......但问题是红色工作正常......不是负数。 .. 当我点击行（红色）时，它显示负数登录金额。当我单击另一行时，负号（减号）又回来了，当我单击另一行并再次返回时，红色显示负号...

我也尝试使用 rowsAdded 事件，但在 2-3 次循环后它完成，甚至有时循环 2-3 次也不知道为什么.....

简而言之：如果我想遍历 datagridView 中的每一行（绑定后）以更改值，我需要做什么？

那么 Cellformatting 背后的原因是什么。如何实现上述2个步骤？

# ios - UITableView 是用于构建像 Facebook 应用程序这样的 UI 的合适控件吗？

> ID：16010031
> 
> 赞同：1
> 
> 时间：2013-04-15T07:41:07.530
> 
> 标签：ios, uitableview, ios6, uikit

我正在寻找一个类似于下面看到的 Facebook 应用程序的 UI。

![在此处输入图像描述](https://i.stack.imgur.com/iWquo.png)

UITableView 是否适合创建此布局？是否可以对其进行足够的定制以提供这种样式，或者是否有另一种布局（某种垂直堆栈面板）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:45:55.867

是的，一点没错。

Tableview 在大多数应用程序中不仅用于显示数据，还用于创建 UI 布局。

为了更容易查看创建 UITableViewCell 子类并在此子类中完成单元格的所有布局。

这样做可以使 UITableViewController 代码更小更易于管理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:00:23.643

**是的，你可以，看看这个是tableview** [http://www.cocoacontrols.com/controls/mgbox](http://www.cocoacontrols.com/controls/mgbox)，

对于所有这些[http://www.cocoacontrols.com/search?utf8=](http://www.cocoacontrols.com/search?utf8=) ✓&q=tableview 也是如此。

通过改变单元格高度动态：

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath      *)indexPath;
{
} 
```

# actionscript-3 - 使用 NetStream.seek() 的要求

> ID：16010034
> 
> 赞同：1
> 
> 时间：2013-04-15T07:41:20.233
> 
> 标签：actionscript-3, actionscript, seekbar, flex4.6, netstream

我正在使用 NetStream 类使用 Video 类或舞台视频播放视频，没有用于向后或向前视频的搜索栏，我在视频中添加了搜索栏但搜索功能无法正常工作，这给了我错误的搜索时间. `ns.seek(mySeekTime)` 我想知道是否可以通过精确搜索制作我自己的搜索栏，我从服务器获取视频，服务器是否影响搜索视频？

```
 private function onClick(event:MouseEvent):void
        {
             if (event.currentTarget is Group)
             {
                 var myGroup:Group = event.currentTarget as Group;
                 if ( myGroup.mouseX >= 100)
                  {
                     mouseClickedXPos = myGroup.mouseX;
                     ns.inBufferSeek = true;
                     var seekTime:Number = (mouseClickedXPos-100) * (totalTime/(controlBarControls.width-100));
                     ns.seek(seekTime);     
                     myRect.graphics.clear();
                     myRect.graphics.beginFill(0xFF0000);
                     myRect.graphics.drawRect(controlBarControls.x+100,controlBarControls.y,mouseClickedXPos-100, rect.height);
                 }  
             }
        } 
```

这里的搜索栏是我在 Event.ENTER_FRAME 之后绘制的 myRect 形状。

问题：时间`ns.time()`不会更改为我们通过 seek(seekTime) 更新的新时间

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-08T17:48:59.763

您是否尝试将关键帧添加到 ex. Adobe 媒体编码器？似乎搜索功能使用关键帧来定位时间。

# javascript - 从字符串 jquery 中删除字符串

> ID：16010035
> 
> 赞同：18
> 
> 时间：2013-04-15T07:41:20.887
> 
> 标签：javascript, jquery, string, replace

我正在尝试使用 jquery 在字符串中替换

```
var myString ="qwerty"

var avoid ="t" 
```

我想做一些类似的事情

```
myString.replace(avoid,''); 
```

我能够删除喜欢`myString.replace('t','');`但我希望它像`myString.replace(avoid,'');`

怎么做？

JsFiddle：http: [//jsfiddle.net/nKSZT/](http://jsfiddle.net/nKSZT/)

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-04-15T07:46:57.367

您的问题是它`replace`不会替换原始字符串中的字符，而是返回一个带有替换的新字符串。

```
myString = myString.replace(avoid,''); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-15T07:47:06.850

`replace`不修改字符串，它*返回修改后的*字符串。这样做：

```
 var avoided = myString.replace(avoid,''); 
```

**小提琴：http:**
[//jsfiddle.net/MBjy3/1/](http://jsfiddle.net/MBjy3/1/)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-15T07:47:52.300

试试这个

```
 var myString = "qwerty";
 alert(myString);
 var avoid = "t";
 var abc=myString.replace(avoid, '');
 alert(abc); 
```

[演示](http://jsfiddle.net/nKSZT/2/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-15T07:51:07.243

此外，还有另一种方法：

```
var myString ="qwerty",
    avoid = "t";

var result = myString.split(avoid).join('');

console.log(result); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-02-10T10:49:41.383

```
var str = "send_more_id4";
alert(str);
var res = str.replace("send_more_id", ""); 
alert(res); 
```

# django - Django 显示图像并使用外部 CSS 和 Javascript

> ID：16010045
> 
> 赞同：0
> 
> 时间：2013-04-15T07:41:42.610
> 
> 标签：django

我想在我的 html 页面中显示图像。我试图在模板中显示图像但没有显示。我在下面给出代码，检查它是否正确并给出一些想法。

```
userreg(project name)
|-- media
|-- images
|    |-- linkedin.png
|
|-- registration(APP)
|    |--TEMPLATES
|
|--URLS.PY
|--SETTINGS.PY

SETTINGS.PY

CURRENT_DIR = os.path.dirname(os.path.abspath(__file__))
STATIC_ROOT = os.path.join(CURRENT_DIR, 'static')
STATIC_URL = '/var/www/userreg/static/'

TEMPLATES

<img src="{{ MEDIA_URL }}images/linkedin.png" /> 
```

检查它是否正确并清除上面代码中的错误。举一些在 html 模板中添加外部 css 和 javascript 的例子

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:45:27.127

`MEDIA_URL`应该用于服务用户上传的内容和服务静态文件，`STATIC_URL`可以使用。尝试以下设置

```
STATICFILES_DIRS = (
    os.path.join(CURRENT_DIR, 'media'),
)

STATIC_ROOT = 'static/'

STATIC_URL = '/static/' 
```

在你的模板中

```
<img src="{{ STATIC_URL }}images/linkedin.png" />
<link type="text/css" href="{{ STATIC_URL }}css/style.css" />
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery-1.8.3.min.js"></script> 
```

# javascript - 更改html中的滚动条

> ID：16010056
> 
> 赞同：2
> 
> 时间：2013-04-15T07:42:13.547
> 
> 标签：javascript, jquery, css, html

嗨'我正在制作一个大屏幕触摸界面（ca 50“）。我做了用户测试，发现滚动条需要像移动应用程序中的滚动条，以便用户通过滚动“内容”来强制滚动而不是像在 wimp 界面中那样用手指按住并拖动滚动条，这是相当困难的。

现在我的问题是，是否可以在 html/css 应用程序中设置滚动条的样式，以便它们在移动应用程序中显示为滚动条（见图）![](https://i.stack.imgur.com/M8est.jpg)？

我计划在设置为 kiosk 模式的 chrome web 浏览器中在 windows 7 下运行我的触摸应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:48:13.187

您可以使用 nanobar fot 这是一个很好的插件，用于在浏览器上生成美容滚动条

[https://github.com/jamesflorentino/nanoScrollerJS](https://github.com/jamesflorentino/nanoScrollerJS)

或者

[http://www.mnking.net/2013/04/how-to-change-browser-scrollbar-in-html.html](http://www.mnking.net/2013/04/how-to-change-browser-scrollbar-in-html.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:28:08.933

由于您提到 Chrome，您可以使用 CSS 规则原生设置滚动条样式 - 请参阅[**WebKit 中的自定义滚动条**](http://css-tricks.com/custom-scrollbars-in-webkit/)

# sql - 单个变量 sql 中的多行

> ID：16010060
> 
> 赞同：0
> 
> 时间：2013-04-15T07:42:17.630
> 
> 标签：sql, variables, subquery

我有以下返回几行的sql：

```
declare @blabla
select id from table where @blabla = blabla and blabla is blabla 
```

它返回几个 id，如下所示：

![在此处输入图像描述](https://i.stack.imgur.com/ByLLn.jpg)

现在稍后介绍我的存储过程。我需要从该查询中获取结果。所以我有另一个这样的查询：

```
select column from table where blabla IN (that 1st query) 
```

所以我的解决方案是将上面的第一个查询放在一个变量中然后执行它。所以我做的是这样的：

```
declare @query nvarchar(max)
set @query=
'
declare @blabla
select @body = id from table where @blabla = blabla and blabla is blabla
'

declare @result as nvarchar(max)
exec sp_executesql @query, N'@body varchar(max) output', @body = @result output

select column from table where blabla IN (@result) 
```

但是上面的@result 只返回了一行。

![在此处输入图像描述](https://i.stack.imgur.com/FZ4cI.jpg)

这是执行我的第一个查询时的最后一行。

我希望我的@result 包含几个 id，而不仅仅是最后一个。我怎样才能做到这一点？我的脚本有什么问题？

您能提供的任何帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:00:27.467

问题是您在此处分配变量 @Body 的方式：

```
select @body = id 
from table 
where @blabla = blabla and blabla is blabla 
```

这只会为@body 提供最后遇到的 ID 的值（取决于结果的顺序）。

为了在您可以使用表变量之后执行您的操作：

```
DECLARE @Result TABLE (ID INT);
INSERT @Result (ID)
SELECT  ID
FROM    Table
WHERE   @Blabla = blabla;

SELECT  column 
FROM    table 
WHERE   ID IN (SELECT ID FROM @Result); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:01:00.137

您正在寻找的是一个临时表。

```
SELECT id INTO #TEMP FROM table WHERE ... 
```

然后你可以继续做

```
SELECT * FROM #TEMP 
```

# javascript - 在猫鼬中获取参考集合

> ID：16010064
> 
> 赞同：2
> 
> 时间：2013-04-15T07:42:27.833
> 
> 标签：javascript, node.js, mongodb, mongoose

我的应用程序在 MongoDB 中有三个集合用户、频道和提要

用户可以注册频道。所以 Channel 将有一堆已注册该 Channel 的用户的参考 ID。

频道有多个提要。Feed 文档具有对频道的参考 ID。

我想根据他订阅的频道检索用户供稿。我如何在猫鼬中实现这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T08:17:56.703

您可以使用`ObjectId`架构类型来引用其他集合中的文档。然后，您可以[`populate`](http://mongoosejs.com/docs/populate.html)在查询父文档时使用这些文档来填充这些文档。例如：

```
var UserSchema = new Schema({
    // Some fields
    channels: [{type: ObjectId, ref: 'Channel'}]
}); 
```

然后当你获取一个用户时，你可以[`populate`](http://mongoosejs.com/docs/populate.html)这样使用：

```
User.findById(user._id).populate('channels').exec(function(err, userWithChannels) {
    var channels = userWithChannels.channels;
    // Do your work
}); 
```

如果那是你想要的，你应该能够扭转这种关系。

# c# - 自定义 Intellisense Presenter 问题

> ID：16010067
> 
> 赞同：13
> 
> 时间：2013-04-15T07:42:44.737
> 
> 标签：c#, visual-studio, intellisense

这些天我正在创建自己的智能感知演示者，我已经发布了这个[线程](https://stackoverflow.com/questions/15736884/how-to-add-a-button-to-visual-studio-intellisense)并下载了这个[编辑器示例](http://editorsamples.codeplex.com/)。运行示例后，我发现了一些问题，但没有找到解决方法。

**1.**如果我输入一个字符，右侧推荐的API描述显示良好，但左侧的API列表列出了所有没有推荐API焦点的API。只有当我输入第二个字符时，列表才会集中在推荐的 API 上。

**2.**没有`scrollviewBar`，我`ScrollViewer.VerticalScrollBarVisibility`在*CompletionSessionView.xaml*文件的第**85**行将**隐藏**改为**自动**，出现滚动条。但是，当我单击滚动条的向下箭头时，它不能正常工作，某些 API 可能会输入到编辑器中。

 *****3.**当我使用`Backspace`删除输入时，Intellisense不会及时消失。比如我在编辑器中输入*a*，出现intellisense，然后我删除*a*，intellisense还在，只有再按`Backspace`一下，intellisense才会消失。

是否有文章介绍如何创建智能感知演示者？示例中的注释很少，几乎看不懂代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-22T18:19:38.320

一个非常新的东西被添加到 C# 中，它被称为 Roslyn。使用 Roslyn，您可以使用 C# 编写自己的智能感知，我不得不说它非常简单。

第一：下载[http://msdn.microsoft.com/en-us/vstudio/roslyn.aspx](http://msdn.microsoft.com/en-us/vstudio/roslyn.aspx)

第二：阅读并尝试[http://www.codeproject.com/Articles/302595/Roslyn-CTP-Three-Introductory-Projects](http://www.codeproject.com/Articles/302595/Roslyn-CTP-Three-Introductory-Projects)

老实说，这真的很容易。再见！***

# java - 启动它但在 s:iterator 标记中不显示

> ID：16010069
> 
> 赞同：2
> 
> 时间：2013-04-15T07:42:46.707
> 
> 标签：java, hibernate, jsp, struts2, actioncontext

我用

```
<class name="Topic" table="topic">     
         .......
  <set name="replies" inverse="true" lazy="false"  cascade="save-update">
        <key column="TOPIC_ID"/>
        <one-to-many class="Reply"/>
  </set>
</class> 
```

而且我看到回复不是空的，并且在`topic.replies`;中有元素

```
Topic topic = topicService.getTopicById(topicId);
ActionContext actionContext = getActionContext();
actionContext.put("topic", topic); 
```

在 JSP 中：

```
<s:iterator value="#topic.replies">
  <s:property value="title"/>
</s:iterator> 
```

没有标题显示。然后我改变我的代码

```
Topic topic = topicService.getTopicById(topicId);
ActionContext actionContext = getActionContext();
actionContext.put("replies", topic.getReplies); 
```

在 JSP 中

```
<s:iterator value="#replies">
  <s:property value="title"/>
</s:iterator> 
```

显示标题的值。

我不知道为什么标题没有以第一种方式显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:21:15.870

你为什么要这样使用 ActionContext ？

ActionContext 对于从其他地方访问数据（已经对 Action 可用）很有用，例如 Helper 类，而无需传递任何参数。

来自文档：[什么是 ActionContext](http://struts.apache.org/release/2.3.x/docs/what-is-the-actioncontext.html)

> 为了使签名简短且方法有用，该框架使用了两种技术：*依赖注入*和*线程本地*，这两种技术又依赖于*ActionContext*。
> 
> 从Struts 2 应用程序中的*任何地方*，您都可以通过调用获得对 [ActionContext] 的引用
> 
> ```
>  ActionContext context = ActionContext.getContext(); 
> ```
> 
> 例如，如果从一个Action调用了一个helper类，如果它恰好需要访问ServletContext（可能是在写一个文件，需要ServletContext来获取它的路径），那么helper可以直接获取ActionContext。不需要从 Action 传递任何内容。

JSP 属性通常是从 Action 中读取的，Action 必须通过访问器（或 getter）暴露这些属性；只需将 Hibernate 结果映射到 Action 中的某个 DTO。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T10:17:38.473

回复被配置为惰性，因此在您调用之前它们不可用`topic.getReplies`。这实际上是通过访问实体的代理来初始化惰性集合。另一方面，您尝试使用 OGNL 访问实体并以其他方式找到它，因此集合未初始化。

# ios - 动画 50png 的最佳方法是什么？

> ID：16010070
> 
> 赞同：0
> 
> 时间：2013-04-15T07:43:04.060
> 
> 标签：ios

我的动画中有一个 50.png 动画它的最佳方法是什么？循环为？NSTimer 调用一个 void，加上一个变量并更新我的 png？提前致谢

# c# - 无法将“System.Linq.GroupedEnumerable”类型的对象转换为“System.Collections.Generic.List”类型

> ID：16010076
> 
> 赞同：1
> 
> 时间：2013-04-15T07:43:15.787
> 
> 标签：c#, asp.net-mvc-2, casting

我有这样的课。

```
 public static SkillViewModel GetAllList(string ID)
{
    ListViewModel viewModel = new ListViewModel();
    DataTable dt = DAL.GetAllList(ID);

    List<Skill> skills = new List<Skill>();
    foreach (DataRow row in dt.Rows)
    {
        Skill skill = new Skill() { GroupName = row["GroupName"] != null ? row["GroupName"].ToString() : string.Empty, SubName = row["SubName"] != null ? row["SubName"].ToString() : string.Empty};
        skills.Add(skill);
    }
    viewModel.skills = skills;
    viewModel.skills = skills.GroupBy(x => x.GroupName);  //Showing error in this line
   return viewModel;

} 
```

还有一个是这样的：

```
 public class SkillViewModel
  {
    public List<Skill> skills { get; set; }
  }

  public class Skill
{
    [DisplayName("Sub Name")]
    [Required]
    public string SubName { get; set; }

    [DisplayName("Group Name")]
    [Required]
    public string GroupName { get; set; }
} 
```

但它通过说失败了

> *错误：无法将类型“System.Collections.Generic.IEnumerable>”隐式转换为“System.Collections.Generic.List”。存在显式转换（您是否缺少演员表？）*

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T07:45:54.503

只需在语句末尾添加`ToList`with即可：`SelectMany`

```
viewModel.skills = skills.GroupBy(x => x.GroupName).SelectMany(r => r).ToList(); 
```

using`SelectMany`会使组变平，不确定为什么要对数据进行分组，而您的属性是`List<Skill>`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:45:09.877

您的`Skills`财产是`List<T>`.

您需要`.ToList()`在分配财产时致电。

当你打电话时，`GroupBy`你将不再拥有，`T`而是你将拥有`IGrouping<T>`。这意味着您要么需要过滤您的小组并`List<T>`退出，要么将您的技能类型更改为：

```
public List<IGrouping<Skill>> skills { get; set; } 
```

# c++ - C++ 中全局对象销毁和 atexit 之间的顺序

> ID：16010083
> 
> 赞同：24
> 
> 时间：2013-04-15T07:43:39.810
> 
> 标签：c++, atexit, order-of-execution, global-object

`atexit`我想知道在销毁全局对象和在 C++中可以确定顺序

我有一个全局对象和注册`atexit`函数，如下所示：

```
static MyClass g_class;

void onExit()
{
    // do some destruction
}

int main()
{
    atexit(onExit);

    return 0;
} 
```

我发现`onExit()`之前`MyClass::~MyClass()`在 Visual Studio 2012 和 gcc4.7.2 中调用过。我确定`onExit`总是在全局对象（如`g_class`）销毁之前调用它吗？

我想知道全局对象注册顺序和`atexit`注册顺序使用相同的顺序表。还是全局对象顺序和顺序之间没有关系`atexit`？

编辑：对不起，我写错了。我在整理示例代码时很困惑。`onExit()`在 ~MyClass() 之前调用。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-15T07:49:52.170

**更新：** *OP 造成了一些混乱，看起来 VC11 确实按照 C++11 标准的规定行事。以下答案是在假设没有的情况下编写的。*

*因此，这个问题的答案：*

> 我确定`onExit`总是在全局对象（如`g_class`）销毁之前调用它吗？

*是**"Yes"**，只要您使用的是完全兼容的编译器。*

* * *

> 我发现之前在 Visual Studio 2012`MyClass::~MyClass()`中调用过。`onExit()`

如果是这种情况，那么它是 VC11 中的一个**错误**。根据 C++11 标准的第 3.6.3/1 段：

> 具有静态存储持续时间的已初始化对象（即其生命周期 (3.8) 已开始的对象）的析构函数 (12.4) 作为从 (18.5) 返回`main`的结果和调用`std::exit`(18.5) 的结果而被调用。[...]

此外，根据第 3.6.3/3 段：

> 如果具有静态存储持续时间的对象的初始化完成在调用之前排序`std::atexit`（参见`<cstdlib>`18.5），**则对传递给的函数`std::atexit`的调用在调用对象的析构函数之前排序。**

因此，在您的情况下，`onexit()`应该在`MyClass`.

据我所知，Clang 3.2 和 GCC 4.8.0 在这方面是合规的，如[现场示例](http://liveworkspace.org/code/3kW04t%24370)所示。

# ektron - 动态注入的 java 脚本在 Ektron 小部件中不起作用

> ID：16010087
> 
> 赞同：0
> 
> 时间：2013-04-15T07:43:54.777
> 
> 标签：ektron

我已经在按钮单击时将包含按钮和 javascript 的 html div 注入到 Ektron 小部件中。但是当我单击注入的按钮时，不会调用 javascript 函数。如果我在 Ektron 小部件的 Page_Load 中注入脚本，则 java 脚本函数正在完美调用。

请检查这个。

默认.ascx.cs

```
 public partial class Workarea_Widgets_test : WorkareaWidgetBaseControl, IWidget
      {
         protected void Page_Load(object sender, EventArgs e)
          {

          }
         protected void Button1_Click(object sender, EventArgs e)
          {
            HtmlDiv.InnerHtml = "<div id='divid'>Name :<input  type='button'  
            id='Name' name='Name' value='Injected Button' onclick='return   test();'/> 
            </div><script type='text/javascript' >function test()
            {alert('test  passed!');} </script>"; 

            HtmlDiv.Style.Add("display", "block");
           }
      } 
```

默认.ascx

```
 <div id="Div1"  runat="server" class="HtmlDiv" style="display:block" >
      <asp:Button ID="Button1" runat="server" Text="Button" onclick="Button1_Click"  />
    </div>
    <div id="HtmlDiv" runat="server">
    </div> 
```

如果我在小部件的页面加载中注入 html 和 javascript，则 javascript 功能正在运行。如果它在按钮中单击，则它不起作用。

我用 aspx 页面尝试了这段代码，它工作正常....

Ektron Widget 是否存在任何依赖项。

请任何人回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T16:38:42.553

您是否有理由不只做所有这些客户端（JavaScript）？

然而，要回答您的问题，Ektron 小部件只是一个 ASP.NET Web 用户控件。您必须管理 Web 用户控件的状态，这意味着当您在回发时设置 HtmlDiv 控件的属性时，您有责任保留这些值。

有关详细信息，请参阅 Microsoft 的[ASP.NET 状态管理建议](http://msdn.microsoft.com/en-us/library/z1hkazw7%28v=vs.100%29.aspx)，但是您的状态选项包括：

*   查看状态
*   控制状态
*   隐藏字段
*   饼干
*   查询字符串

在这种情况下，View State 或 Control State 最适合您。

不过，我再次质疑为什么你需要做这个服务器端。

# php - 如何使用 PHP 修复分页

> ID：16010088
> 
> 赞同：6
> 
> 时间：2013-04-15T07:43:58.063
> 
> 标签：php, wordpress, pagination

大家好，我正在尝试以以下格式创建我的分页

转到第 3 页 [文本框] 上一页 1 2 3 4 5 ....400 下一页

下面是我的代码

```
 if(isset($_REQUEST['limit_start']) && $_REQUEST['limit_start'] > 0) $limit_start = $_REQUEST['limit_start'];
        else  $limit_start = 0 ;
        if(isset($_REQUEST['results_to_show']) )  $results_to_show= $_REQUEST['results_to_show'];
        else $results_to_show = 100;

        if(($limit_start-$results_to_show)>=0)
        $pagination.='<a href="details-inventory.php?limit_start='.($limit_start-$results_to_show).'&&results_to_show='.$results_to_show.'" >Previous</a> | ';

          if (isset($_REQUEST['submit']) && $_REQUEST['submit'] != "")$search_limited = 1;
          else $search_limited = 0;

        global $wpdb;
        $sql='SELECT count(*) 
        FROM `inventory_location` ';

        $data= $wpdb->get_results($sql,ARRAY_A);
         $row_count= $data[0]['count(*)']; 

        for($number=(($limit_start/$results_to_show)+1);$number<($row_count/$results_to_show);$number++)//($row_count/$results_to_show);$number++)($limit_start/$results_to_show)+
        $pagination.= '<a href="details-inventory.php?limit_start='.($number*$results_to_show).'&&results_to_show='.$results_to_show.'" >'.$number.'</a> | ';

        $pagination.= ' <a href="details-inventory.php?limit_start='.($limit_start+$results_to_show).'&&results_to_show='.$results_to_show.'" >Next </a> <br />'; 
```

现在的问题是......它显示了从 1 到最后一页的所有数字......我想用下面的风格打破它

```
 1 2 3 4 5 ....400 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:53:38.083

如果您使用的是 WordPress，则有一个内置`paginate_links`的分页功能。

您可以在此处查看更多信息：http: [//codex.wordpress.org/Function_Reference/paginate_links](http://codex.wordpress.org/Function_Reference/paginate_links)。

与其创建自己的，不如使用内置函数来完成您需要的相同功能。

这将帮助您满足您的需求。您只需要传递正确的参数。`mid_size`是您需要指定在当前页面的任一侧应显示多少页码的参数，但不包括当前页面。

**更新 ：**

您的代码可以简化如下：

```
global $wpdb;

//get the total count
$total_count = $wpdb->get_var('SELECT count(*) FROM `inventory_location`');

//number of results to be shown per page
$results_to_show_per_page   = 100;

//specify the number of page numbers to be shown on each side of the current page
$mid_size = 3;

//check whether the query argument page is set and get the current page
if (isset($_GET['page']))
    $page = abs((int)$_GET['page']);
else
    $page = 1;

//generate page links
$pagination_links = paginate_links( array(
                            'base' => add_query_arg( 'page', '%#%' ),
                            'total' => ceil($total_count / $results_to_show_per_page),
                            'current' => $page,
                            'mid_size'=> $mid_size 
                    ));

echo $pagination_links; 
```

希望这可以帮助 ：）

# android - 双 ISO NFC 标签

> ID：16010089
> 
> 赞同：2
> 
> 时间：2013-04-15T07:44:00.510
> 
> 标签：android, tags, nfc, rfid, iso-15693

我正在为 Android 开发一个 nfc 应用程序，并且想处理一个可以支持 NFC-V 或 NFC-A 协议的标签。

问题是，当我用手机（Galaxy S2 plus，运行 android 4.1.2）接近标签时，它 90% 的时间检测到 NFC-V 协议，10% 的时间检测到 NFC-A 协议。

我想做的是强制我的手机只关注两种协议之一。这意味着我想在触摸标签之前将手机配置为仅收听 NFC-V 协议。

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:03:51.110

不幸的是，这是不可能的。

NFC 硬件对所有不同的协议进行时间复用。如果您将标签放在天线附近，并且 NFC 芯片当前正在感应 NFC-V，您将获得 NFC-V。与 NFC-A 相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-21T07:40:39.943

从 Android 4.4 开始，这可以使用 Android NFC [reader-mode API](http://developer.android.com/reference/android/nfc/NfcAdapter.html#enableReaderMode%28android.app.Activity,%20android.nfc.NfcAdapter.ReaderCallback,%20int,%20android.os.Bundle%29)：

```
NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);
nfcAdapter.enableReaderMode(this, this, NfcAdapter.FLAG_READER_NFC_V, null); 
```

然后，您可以`Tag`通过 reader-callback 检索对象：

```
public void onTagDiscovered (Tag tag) {
    ...
} 
```

# java - JAVA 中的 SQL 查询。喜欢命令

> ID：16010090
> 
> 赞同：0
> 
> 时间：2013-04-15T07:44:05.513
> 
> 标签：java, sql, sql-like

我有一个连接到 SQL 数据库的 Java 程序。我需要从具有以给定字符串开头的字段的表中检索记录。我启动了这个查询：

```
SELECT s.DATA
FROM TMT_SOLICITUD s, TMT_TRAMITES t
WHERE s.IDTRAMITE='723'
AND s.IDTRAMITE=t.IDTRAMITE
AND s.DATA LIKE '<?xml *' 
```

我知道没有使用 TMT_TRAMITES 表。我们仍在开发该程序，它将很快使用。忽略那部分。

问题是返回给我的结果集是空的。但是，如果我通过 Access 启动相同的查询，它会返回 4 条记录（这是正确的）。

任何人都知道如何正确使用命令 LIKE ，或者这不起作用的原因？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:47:30.770

尝试使用 '%' 而不是 '*': % 允许你匹配任何长度的任何字符串（包括零长度）

```
WHERE EMP_name like 'Hew%'; 
```

或者

```
WHERE EMP_name like '%Hew'; 
```

或者

```
WHERE EMP_name like '%Hew%'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T07:50:57.580

我已经遇到过这种问题。

Access SQL 对 Like 命令使用的通配符与标准 SQL 不同。

当您使用库通过 java 访问您的数据库时，请尝试替换您的

```
AND s.DATA LIKE '*' 
```

和

```
AND s.DATA LIKE '%' 
```

AS '%' 是获取任何字符串的标准通配符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:47:28.557

我会尝试使用 % 而不是 *。您可以将它放在查询字符串中的任何位置，并根据需要多次使用它。但是，我看不出只使用通配符而不使用任何其他数据来缩小范围有什么意义——它不会很有用。除非您想匹配实际的星号（我可能会误认为您的意图），然后使用`%*%`

# c# - 使用 PowerShell 中的 WinRM 连接到远程服务器失败

> ID：16010091
> 
> 赞同：26
> 
> 时间：2013-04-15T07:44:06.093
> 
> 标签：c#, powershell, winrm

我正在尝试将 powershell 代码从我的计算机运行到我计算机上的 vm，但我不断收到此错误：

> 连接到远程服务器失败并显示以下错误消息：WinRM 客户端无法处理请求。如果身份验证方案与 Kerberos 不同，或者客户端计算机未加入域，则必须使用 HTTPS 传输或将目标计算机添加到 TrustedHosts 配置设置。使用 winrm.cmd 配置 TrustedHosts。请注意，TrustedHosts 列表中的计算机可能未经过身份验证。您可以通过运行以下命令获得更多信息：winrm help config。有关详细信息，请参阅 about_Remote_Troubleshooting 帮助主题。

我的代码：

```
 string runasUsername = @"\aaa";
    string runasPassword = "aaa";
    SecureString ssRunasPassword = new SecureString();
    foreach (char x in runasPassword)
        ssRunasPassword.AppendChar(x);
    PSCredential credentials = new PSCredential(runasUsername, ssRunasPassword);

    var connInfo = new WSManConnectionInfo(new Uri("http://10.0.5.35/PowerShell"),
        "http://schemas.microsoft.com/powershell/Microsoft.Exchange",credentials);
    connInfo.AuthenticationMechanism = AuthenticationMechanism.Basic;

    var runspace = RunspaceFactory.CreateRunspace(connInfo);

    var domainName = "domainName.COM";
    var password = "ActiveDirectoryPassword1234";
    var ssPassword = new SecureString();
    foreach (char c in password)
        ssPassword.AppendChar(c);

    var command = new Command("New-Mailbox");

    command.Parameters.Add("FirstName", firstName);
    command.Parameters.Add("LastName", lastName);
    command.Parameters.Add("Password", ssPassword);
    command.Parameters.Add("ResetPasswordOnNextLogon", false);
    command.Parameters.Add("OrganizationalUnit", "NeumontStudents");

    runspace.Open(); <--//error here
    var pipeline = runspace.CreatePipeline();
    pipeline.Commands.Add(command);

    var results = pipeline.Invoke();

    runspace.Dispose(); 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-04-15T08:10:49.567

如果客户端和远程计算机不在*同一个域中*，您有以下两种选择之一：

*   使用 HTTPS 作为传输协议
*   将远程计算机添加到客户端上的受信任主机列表中

为了将[WinRM 配置为使用 HTTPS，请在两台机器上](http://msdn.microsoft.com/en-us/library/windows/desktop/aa384372%28v=vs.85%29.aspx)*以管理员身份*打开 PowerShell 控制台并运行：

```
winrm quickconfig -transport:https 
```

并在防火墙上打开端口 5986：

```
netsh firewall add portopening TCP 5986 "WinRM over HTTPS" 
```

*或者，您可以通过运行以下命令将远程计算机添加为客户端上的*受信任主机：

```
winrm set winrm/config/client @{TrustedHosts="10.0.5.35"} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:03:44.303

你在两台机器上都启用了winrm吗？尝试`winrm quickconfig`在每台机器上运行以确保启用远程连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-11T12:18:24.853

在新客户端上设置它，我必须：

1.  以管理员身份运行 PowerShell

2.  通过运行此命令并对提示回答“是”来启用 WinRM：

    ```
    winrm quickconfig 
    ```

3.  将主机添加到我信任的主机（`1.2.3.4`主机的 IP 地址在哪里）：

    ```
    Set-Item wsman:localhost\client\trustedhosts -value 1.2.3.4 
    ```

# c# - 使用 c# .net 设计文本文件？

> ID：16010098
> 
> 赞同：0
> 
> 时间：2013-04-15T07:44:20.830
> 
> 标签：c#, asp.net

我需要生成文本文件。为此，我使用“StreamWriter”，它创建得很好。现在我需要用文本设计那个文本文件。我需要商店名称字体大小为粗体和 16。其他文本字体正常。而且我想在文本文件中生成表格。这是我的示例代码。我用来创建文本文件。

```
using (StreamWriter sw = new StreamWriter(d:\sample1.txt))
{
     sw.Write("ShopName");    
     sw.Write("BillNo");                  
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-15T07:47:56.043

Windows 标准文本文件（也称为 .txt）不支持格式化文本。如果需要格式化，可以创建 RTF 文件。在此任务中有支持您的库：http: [//www.codeproject.com/Articles/98062/RTF-Document-Constructor-Library](http://www.codeproject.com/Articles/98062/RTF-Document-Constructor-Library)

根据您的需要，您还可以创建一个带有格式的 html 文件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T07:48:43.250

StreamWriter 用于以最简单的形式编写文本。要使文本变为粗体，您将不得不使用某种标记；例如 HTML、RTF

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:49:44.497

您不能在文本文件中以这种方式格式化文本，也不能制作正确的表格。您需要使用正确的程序集以另一种格式编写。例如，您可能正在编写 rtf 文件、doc 文件或 PDF...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T08:21:32.763

纯文本文件不能包含任何格式信息（如粗体）

所以你必须选择另一种格式。HTML 可以由 StreamWriter 创建，因为它非常“简单”。RTF 也可以，但有点复杂，所以最好寻找专门的解决方案。还有很多其他格式，例如 docx、pdf 等。

您选择哪一个应取决于该文件的用途。谁应该阅读它？在哪里？在浏览器中？选择 HTML。在 Windows 机器上？RTF 可以工作。命令行？也许 Ansi-Format 可以工作，但可能需要 DOS 上的特殊驱动程序。

但本质是：纯TXT不允许你想达到的

# asp.net - 如何区分服务器上更高版本的ie7和IE兼容性

> ID：16010099
> 
> 赞同：0
> 
> 时间：2013-04-15T07:44:27.510
> 
> 标签：asp.net, internet-explorer, ie-compatibility-mode

是否可以**区分来自 IE7**的**请求和来自以兼容模式运行的更高版本 IE 的请求？**

我更喜欢纯粹的服务器端解决方案，而不是涉及 JavaScript 的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:03:44.933

检查 IE 版本和 Trident 版本的用户代理，如[本文所示](http://www.toplinestrategies.com/dotneters/net/detecting-ie-compatibility-view-c/?lang=en)：

```
string userAgent = Request.UserAgent; //entire UA string
string browser = Request.Browser.Type; //Browser name and Major Version #

if (userAgent.Contains("Trident/5.0")) //IE9 has this token
{
    if (browser == "IE7")
    {
        mode = "IE9 Compatibility View";
    }
    else
    {
        mode = "IE9 Standard";
    }
} 
```

# json - Chrome Manifest.json 语法错误

> ID：16010100
> 
> 赞同：1
> 
> 时间：2013-04-15T07:44:36.730
> 
> 标签：json, google-chrome-app

我正在开发一个 chrome 应用程序，它基本上已经完成，但是我正在向我客户的网站添加代码，以确定该应用程序是否安装在 chrome 上。

为了做到这一点，我需要检查一个文件“manifest.json”是否可供应用程序使用，以确定它是否已安装。

我正在使用从此处发布的另一个问题中获得的以下代码：

```
function detectChromeExtension(extensionId, accesibleResource, callback){
            if (typeof(chrome) !== 'undefined'){
                var xmlHttp = new XMLHttpRequest(),
                    testUrl = 'chrome-extension://' +extensionId +'/' +accesibleResource;
                    xmlHttp.open('HEAD', testUrl, true);
                xmlHttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
                xmlHttp.timeout = 1000;

                xmlHttp.onreadystatechange = function() {
                if (xmlHttp.readyState == 4 && typeof(callback) == 'function') {
                    if (xmlHttp.status == 200) {
                        callback.call(this, true);
                    } else {
                        callback.call(this, false);
                    }
                }
            }        
            xmlHttp.ontimeout = function() {
                if (typeof(callback) == 'function')
                    callback.call(this, false);
                }        
                xmlHttp.send();
            } else {
                if (typeof(callback) == 'function')
                    callback.call(this, false);
            }    
        };

        detectChromeExtension('gcjbmhbihobfgpjmfbooldocijijdpig', 'manifest.json', myCallbackFunction);

        function myCallbackFunction(extensionExists) {
            if (extensionExists){
                console.log('Extension present');
            } else {
                console.log('Extension not present');
            }
        } 
```

通过检查 chrome 控制台，我得到以下输出：

拒绝加载 chrome-extension://gcjbmhbihobfgpjmfbooldocijijdpig/manifest.json。资源必须列在 web_accessible_resources 清单键中，才能被扩展之外的页面加载。

所以为了解决这个问题，我试图将 "web_accessible_resources": ["manifest.json"] 添加到我的 manifest.json 中，但它告诉我这一行不符合语法。

这是完整的 manifest.json：

```
{
"name": "Watch TBR",
"version": "1.0",
"manifest_version": 2,
"default_locale": "en",
"description": "Easy access to WatchTBR.com",
"icons": { "128": "icon_128.png", "16": "icon_16.png" },
"app": {
"urls": [
  "http://www.watchtbr.com/"
],
"launch": {
  "web_url": "http://www.watchtbr.com/"
}
},
"web_accessible_resources": ["manifest.json"],
"permissions":["http://www.watchtbr.com"]
} 
```

非常感谢您对此的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T18:05:22.593

与扩展不同，网站无法访问打包应用程序的资源。如果您同时拥有网站和应用程序，则可以使用 Chrome WebStore 的[内联安装](https://developers.google.com/chrome/web-store/docs/inline_installation)功能并测试应用程序是否安装了`chrome.app.isInstalled`.

目前，该`isInstalled`方法仅限于托管应用程序，但[此错误](https://code.google.com/p/chromium/issues/detail?id=227178)跟踪打包应用程序的支持。

如果您不拥有该应用程序或只是想共享指向该应用程序（如果已安装）或商店条目（如果未安装）的链接，您可以在[https://code上加注星标并跟踪进度.google.com/p/chromium/issues/detail?id=161054](https://code.google.com/p/chromium/issues/detail?id=161054)

# ios - 卸载导航控制器背面的视图

> ID：16010115
> 
> 赞同：1
> 
> 时间：2013-04-15T07:46:05.410
> 
> 标签：ios, uiwebview

在**非弧线中**，我通常会这样做

```
 [webView stopLoading]; 
```

在
viewDidUnload上

但是现在在**ARC**中，因为不会调用**viewDidUnload**方法，所以我可以在哪里停止加载 webview 移回（**由 NavigationController 推送的 ViewController**）。

我想这样做，因为我在加载 WebView 时遇到了一些问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:28:23.317

`viewDidUnload`不被调用与ARC无关。一个是框架中不推荐使用的方法，另一个是编译器功能。`viewDidUnload`在 iOS 6 中已被弃用，因为坦率地说，如果所有内容都正确编写，它并不是真正需要的。

不建议在其中实现`stopLoading`逻辑`viewDidDisappear:`，因为如果您将另一个视图控制器推到带有 Web 视图的视图控制器之上，它也会使其停止加载。相反，调用`stopLoading`视图控制器的`dealloc`方法。当视图控制器从导航堆栈中弹出时，它会被释放并`dealloc`调用该方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:50:04.843

```
- (void)dealloc
{
    [webView stopLoading];
} 
```

即使您使用的是`ARC`.

但是你不能调用`[super dealloc];`它。因为，这将由编译器本身生成。

# jquery - Ctrl 上的 Jquery 从上面的输入中粘贴单击的输入值

> ID：16010116
> 
> 赞同：0
> 
> 时间：2013-04-15T07:46:06.613
> 
> 标签：jquery

这是工作样本。

```
<tr>
  <td><input type="text" name="date_day1" id="date_day1" value=" size="1"></td>
</tr>
<tr>
  <td><input type="text" name="date_day2" id="date_day2" value=" size="1">
  <script type="text/javascript">
  $(document).ready(function(){
    $("#date_day2").on('click', function(e) {
      var name1 = $('#date_day1').val();
      if(e.ctrlKey) $("#date_day2").val(name1);
    });
  });
  </script>
</td>
</tr>
<tr>
  <td><input type="text" name="date_day3" id="date_day3" value=" size="1"></td>
</tr> 
```

我的意思是，如果我在 date_day1 中输入内容，然后按住 Ctrl 并单击 date_day2，然后将 date_day1 中的值“复制粘贴”到 date_day2。

要获得所有其他输入单元格的这种行为，我必须为每个输入单元格编写 javascript。

要对所有输入单元格仅使用一个 javascript，我尝试编写代码，但它不起作用。

```
<script type="text/javascript">
$(document).ready(function(){
  $("#input").on('click', function(e) {
    var name1 = $(this).closest('tr').prev().find('td:eq('+$(this).closest('td').index()+')').find('input').val();
    if(e.ctrlKey) $("#input").val(name1);
  });
});
</script> 
```

使用 $("#input").on('click', function(e) { 我的意思是如果我点击任何输入单元格

使用 var name1 = .... 从最接近的输入单元格设置/定义变量值

使用 if(e.ctrlKey) $("#input").val(name1); 我的意思是如果按 ctrlKey，那么当前输入的单元格值为 name1

代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:53:44.473

我猜，您使用了错误的选择器：

```
$('#input') 
```

这代表具有属性`id`=的元素`input`。你需要的是：

```
$('input') 
```

它代表带有`tagname`=的元素`input`。此外，赋值的行也应该改变：

```
$(this).val(name1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:53:57.487

这不是`#input`，而是`input`在事件内部，您应该使用`$(this)`：

```
<script type="text/javascript">
  $(document).ready(function(){
    $("input").on('click', function(e) {
      var name1 = $(this).closest('tr').prev().find('td:eq('+$(this).closest('td').index()+')').find('input').val();

      if(e.ctrlKey) $(this).val(name1);
    });
  });
</script> 
```

# java - 如何在 GWT Java 中获取当前工作目录

> ID：16010117
> 
> 赞同：1
> 
> 时间：2013-04-15T07:46:09.717
> 
> 标签：java, gwt, working-directory

我正在使用 Java 1.6 和 GWT 2.4。

我非常清楚我们可以使用以下代码获取 Java 中的当前工作目录：

```
System.getProperty("user.dir"); 
```

但是 GWT 不允许我在客户端使用 System 类。

所以我的问题是：有没有办法在 GWT 中获取当前工作目录路径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:54:30.280

您可以编写一个新服务（在您的 中`RemoteService/RemoteServiceImpl`），它基本上会使用`System.getProperty("user.dir");`?

它是一种解决方法，因为 GWT（客户端）代码没有`java.lang.System`类的 javascript 替换，或者我猜他们没有读取系统属性的权限（因为它们在浏览器上运行）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:33:08.317

1.  您需要使用[RPC](https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication#DevGuideRemoteProcedureCalls)调用或[RequestBuilder](https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication#DevGuideHttpRequests)调用。
2.  将图像名称参数传递给服务器
3.  在服务器端的服务类中计算系统路径并返回路径信息。

GWT 编译为 javascript 并在通过 http 与服务器通信的浏览器中执行，因此无法执行服务器端 java 代码，如`System.getProperty("user.dir");`.

***任何此类要求都应通过对服务器的[异步](https://developers.google.com/web-toolkit/doc/latest/DevGuideServerCommunication)调用来实现。***

**注意：**向用户显示文件系统路径仍然没有意义，除非您正在使用 Web GUI 编写系统资源管理器（可能会引发一些与安全相关的查询！！！）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-31T21:11:19.153

System.getProperty("user.dir") 在 GWT 2.6.1 中为我工作得很好，无论是在本地运行还是部署到 Google App Engine 时（它返回例如 /base/data/home/apps/s~rhezivt28/1.379778380561169345 ）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T09:16:10.873

```
Current Directory in GWT. 
```

你所有的java脚本都在客户端所以，没有问题`current directory`。

```
System.getProperty("user.dir"); 
```

由于安全原因`javascript`无法访问系统驱动器以避免**syber攻击**

[http://en.wikipedia.org/wiki/JavaScript#Security](http://en.wikipedia.org/wiki/JavaScript#Security)

请参阅[在 javascript 中打开本地文件系统中的文件](https://stackoverflow.com/questions/5534297/opening-a-file-in-local-file-system-in-javascript)

为了获取文件，您需要进行服务器调用。

# java - 在 DB2 中执行触发器时出错 SQLCODE -138

> ID：16010120
> 
> 赞同：0
> 
> 时间：2013-04-15T07:46:21.193
> 
> 标签：java, db2, substr

尝试在 DB2 中创建存储过程时出现以下错误

```
Error report:
DB2 SQL error: SQLCODE: -138, SQLSTATE: 22011, SQLERRMC: null 
```

我的触发器是以下一个：

```
CREATE TRIGGER INSERT_SERIALNUMBER
AFTER INSERT ON LASERM
REFERENCING NEW ROW AS NROW
FOR EACH ROW MODE DB2SQL
BEGIN
DECLARE ARTICLECODE CHAR(30); 
DECLARE POS INT;
SET POS = LOCATE('-', NROW.PROGRAMNAME);

IF POS > 0 THEN
  SET ARTICLECODE = SUBSTR(NROW.PROGRAMNAME, 0, POS);
ELSE
  SET ARTICLECODE = NROW.PROGRAMNAME;
END IF;
CALL SP_INSERT_SERIALNUMBER(ARTICLECODE, NROW.PCBCODE);
END 
```

根据 DB2 SQLCodes 列表，-138

```
-138 THE SECOND OR THIRD ARGUMENT OF THE SUBSTR OR SUBSTRING FUNCTION IS OUT OF RANGE 
```

我想做的是在找到“-”时从另一个字符串中减去一个字符串。例如，代码是“ART00001-A”，我只想得到“ART00001”。

我不是 DB2 SQL 语法方面的专家，所以如果您在该代码中发现问题，请提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:36:34.100

DB2 中的字符串位置是从 1 开始的，但您指示的是从位置 0 开始的子字符串。只需使用：

```
SET ARTICLECODE = SUBSTR(NROW.PROGRAMNAME, 1, POS); 
```

# c# - OleDb 与运行 MS Office 2007 的 Windows 7 冲突

> ID：16010121
> 
> 赞同：0
> 
> 时间：2013-04-15T07:46:21.863
> 
> 标签：c#, .net, oledb

该程序在运行 MS Office 2007 的 Windows XP 中完美运行，但在运行 MS Office 2007 的 Windows 7 中无法运行。所以我决定使用 Microsoft.Ace，所以我使用了这个连接字符串：

```
string connString = "Provider=Microsoft.ACE.OLEDB.12.0;"
    + "Data Source=\"" + strDir + "\\\";"
    + "Extended Properties=\"text;HDR=YES;IMEX=1\""; 
```

这是方法：

```
public DataTable Load(string path, int columnCount)
{
    CreateSchema(path, columnCount);
    DataTable dtData = new DataTable();

    string fullPath = Path.GetFullPath(path);
    string csvFile = Path.GetFileName(fullPath);
    string directoryName = Path.GetDirectoryName(fullPath);

    string query;

    string connString = "Provider=Microsoft.ACE.OLEDB.12.0;"
      + "Data Source=\"" + directoryName + "\\\";"
      + "Extended Properties=\"text;HDR=YES;IMEX=1\"";

    query = "SELECT * FROM " + csvFile;

    OleDbDataAdapter dtAdapter = new OleDbDataAdapter(query, connString);

    dtAdapter.Fill(dtData);

    dtAdapter.Dispose();

    return dtData;
} 
```

我的主要问题是，当我使用此连接字符串时，该程序在运行 MS Office 2007 的 Windows XP 中运行，但不在运行 MS Office 2007 的 Windows 7 中运行：

```
string connString = "Provider=Microsoft.Jet.OLEDB.4.0;"
    + "Data Source=\"" + strDir + "\\\";"
    + "Extended Properties=\"text;HDR=Yes;FMT=Delimited\""; 
```

我想出了我需要使用 ACE 的研究，所以我使用了这个 connectionString：

```
string connString = "Provider=Microsoft.ACE.OLEDB.12.0;"
    + "Data Source=\"" + strDir + "\\\";"
    + "Extended Properties=\"text;HDR=YES;IMEX=1\""; 
```

但仍然没有帮助。请帮我！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:55:31.963

这两个连接字符串用于不同类型的文件。
第一个用于文本文件，第二个用于 Excel 2007

第一个使用目录名称作为 DataSource，
第二个需要 Excel 文件的名称作为输入`strDir`

请参阅[Excel2007 的连接字符串](http://www.connectionstrings.com/excel-2007) 和[文本文件的连接字符串](http://www.connectionstrings.com/textfile)

这可能是您现在在 ACE 上遇到的错误的根源。
关于 XP 上的错误，我只能假设这与缺少 JET/ACE 驱动程序有关。在这种情况下，问题出在您为其编译应用程序的平台上。请看[这个问题和相关答案](https://stackoverflow.com/questions/11078675/the-microsoft-ace-oledb-12-0-provider-is-not-registered-on-the-local-machine-i)

# robots.txt - 使用模式阻止 robots.txt 中的一些动态 URL

> ID：16010122
> 
> 赞同：2
> 
> 时间：2013-04-15T07:46:24.113
> 
> 标签：robots.txt, googlebot

我试图从索引中排除一些页面。我有搜索表单，您可以在其中使用一些预定义的参数或用户键入的查询。我需要阻止具有用户提供的查询的搜索结果。

示例网址：

*   `example.com?adv=0&query=&r=0&woj=0&msc=&osk=&osb=&osn=`# 索引它！
*   `example.com?adv=0&query=&r=0&woj=0&msc=&osk=&osb=&osn=`# 也索引它！
*   `example.com?adv=0&query=**USER_QUERY**&r=0&woj=0&msc=&osk=&osb=&osn=`# 不要索引！

机器人.txt：

```
User-Agent: *

Disallow: /example.com?adv=0&query=*&r=0&woj=0&msc=&osk=&osb=&osn= 
```

星号符号会按我的预期工作吗？谷歌会知道星号仅与`&query`参数链接，如果此参数为空 URL 是否应编入索引？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-09T19:05:45.020

Bing 和 Google 允许使用通配符？*（来自[https://youtu.be/G29Zt-UH_Ko](https://youtu.be/G29Zt-UH_Ko)）

# jsp - Tomcat 5.5 和 JSTL 1.2 上的 ELException

> ID：16010123
> 
> 赞同：2
> 
> 时间：2013-04-15T07:46:24.730
> 
> 标签：jsp, tomcat, jstl, el

## 设置：

*   Apache Tomcat 5.5
*   Servlet/JSP：2.4/2.0 根据[http://tomcat.apache.org/whichversion.html](http://tomcat.apache.org/whichversion.html)
*   .WAR 中的 JSTL：1.2

但我仍然得到一个 `java.lang.NoClassDefFoundError: javax/el/ELException`

根据我在 SO 上阅读问题的理解，ELException 类已被移动，容器应包含它。以前在 JSTL 1.1 中，它是在 JSTL .jar 中提供的。由于容器是 JSP 2.0，我对此感到困惑。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:16:01.223

> 根据我在 SO 上阅读问题的理解，ELException 类已被移动，容器应包含它。以前在 JSTL 1.1 中，它是在 JSTL .jar 中提供的。由于容器是 JSP 2.0，我对此感到困惑。

您需要执行以下任一操作

将 Tomcat 容器升级到最新版本

或者

将 JSTL 库降级到 1.0/1.1，可以从 Apache Tag lib implementation 获得：http: [//tomcat.apache.org/taglibs/standard/](http://tomcat.apache.org/taglibs/standard/)

编辑：从 Apache 库下载中摘录到 JSTL 版本到 Tomcat 版本的兼容性

![在此处输入图像描述](https://i.stack.imgur.com/fQBCx.png)

如您所见，您使用的是不兼容的 JSP 2.0 和 JSTL 1.2。因此，某些课程可能会升级或降级

# eclipse - Eclipse - 在成员列表中搜索 Content Assist？

> ID：16010125
> 
> 赞同：1
> 
> 时间：2013-04-15T07:46:38.560
> 
> 标签：eclipse, search, member, content-assist

如何在类成员列表中查找特定方法。在 Eclipse 中使用 Content Assist按**Ctr+Space**后打开。

例如，类的成员列表`File`：

```
load
close
read
readLine
write
writeLine 
```

如果打开列表然后键入单词`"Line"`：MS VS - 仅显示方法（`readLine`和`writeLine`）。Eclipse - 将关闭成员列表。自找输入词的开头。

Eclispe 可以在成员列表中作为 MS VS 进行搜索吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:44:27.233

在[Java Content Assist 首选项](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/preferences/java/editor/ref-preferences-content-assist.htm)中输入“line”而不是“Line”或禁用*Camel 大小写匹配*。

Eclipse 允许高级用户通过将大写字符作为子词开始字符来缩短搜索，例如，搜索`NPE`将直接显示“NullPointerException”。您可能会触发该搜索，并且它不再搜索其他子词匹配。

# python - 这个 base64 对象的结果是否加密？

> ID：16010127
> 
> 赞同：2
> 
> 时间：2013-04-15T07:46:44.130
> 
> 标签：python, json, base64

我正在尝试编写自己的网络聊天服务界面。唯一的问题是，我无法理解来自服务器的返回。与服务器的通信很容易解码，但我想知道服务器响应是否以某种方式加密/压缩。包头将结果指定为“application/json”。

使用 fiddler2，我从服务器截获了以下 http 包：

```
vS1gN7zSnVkl7tP4+ygk4f0uJWxWH532dgLhMxYMh8dFCNfyHrkiPCtjS+TPzryHBECM3pVv90GgNI9xkLKNjR9pQ0PUpHAL2TAmRmxSbHCwmEwbDJ2WLLwMwIXdeaQWgbIxfZG5wkdH58JHqwf2FxCaGrVTidkeUDKdCBEZtnpXUoKUizpxzPB+r4KeTTc3vIMk/x/1LbIgumVWq0HEnHFGnYk2Dy1PjfiSJ+MdTus= 
```

查看代码的类型，我认为它是 base64 编码的。使用 python 我运行简单的命令：

```
import base64
print base64.decodestring("string above") 
```

但它只会返回乱码。将 repr() 添加到上述结果中，它会返回：

```
'\xbd-`7\xbc\xd2\x9dY%\xee\xd3\xf8\xfb($\xe1\xfd.%lV\x1f\x9d\xf6v\x02\xe13\x16\x0c\x87\xc7E\x08\xd7\xf2\x1e\xb9"<+cK\xe4\xcf\xce\xbc\x87\x04@\x8c\xde\x95o\xf7A\xa04\x8fq\x90\xb2\x8d\x8d\x1fiCC\xd4\xa4p\x0b\xd90&FlRlp\xb0\x98L\x1b\x0c\x9d\x96,\xbc\x0c\xc0\x85\xddy\xa4\x16\x81\xb21}\x91\xb9\xc2GG\xe7\xc2G\xab\x07\xf6\x17\x10\x9a\x1a\xb5S\x89\xd9\x1eP2\x9d\x08\x11\x19\xb6zWR\x82\x94\x8b:q\xcc\xf0~\xaf\x82\x9eM77\xbc\x83$\xff\x1f\xf5-\xb2 \xbaeV\xabA\xc4\x9cqF\x9d\x896\x0f-O\x8d\xf8\x92\'\xe3\x1dN\xeb' 
```

我已经尝试通过各种版本的 unicode 和其他编码方案来解析它，但我无法理解它。有人对我如何进行有任何想法吗？

* * *

编辑：更多示例：

```
vS1gN7zSnVkl7tP4+ygk4f0uJWxWH532dgLhMxYMh8ft9/EeuejyE/5QCnFgra+Htcua1fqEV5Es+k0PHkcDfqBVWsQJFs/AGPjAib0XMzxBMjuySwvEpSDw3KnMqq4JO23FcF7T+SmSRcsy0roPFu4LLFL8Sru4i9dr7aGGfANushnRnuiHjBvf6Dqma4wRw2VjfaPM45uKu5EHw8Kp/IyIX2FjwIdrV1s5CAN8CpEvDKsXJgQxfcsLhzlnyZENqe3SEyxnOsAmp1JB5kTgEAik9khQc3R9wMDspHAswUlDNQH3OTRvQyfQgcrQ7793wKXFQYzumH4mlxeruLyIgAju5WOeNihx8EAMhIjDqWEaSA6/fguXNi/iBaPBBoaBDHUor3tMj0H06zNoTa3UsbOuPCMVBJsZNUvA5Zn1UpuFSv08omxBM1cajkbDIMx9Bvqoeg38b43Icl7hx3deOT/Q2Fdbf9oMxpFoaJMKZeb6WYkndSDprn7wQX5wjBt2nnjONWhWtfzhJrsV/8g2x5N76g+0bxlB1SGoPIS6hMSg0bBl+FXFbuZWFZLx4f7Yfs3LpWI9TKiKwCTaATDq5cwOcuCz8nlNe76I6q7nm7r6rPTR5Nt3VUbUI6XVb3XV05O96hNzClx5CFq9jIkhAiD0bBpqAvcT/64l8bz3Ful/fy3cqNChvTszF9pRTFs+MNA5c/ak/6q1qg51Wf+N6JCmeiB1WTdCGfWwfD5h5OeGWAYffSiFNq2INn+e99mP4w/oe2he9XXgHWmRvMqvyQgnP6AA9+DoUHT8Y2v+t+gd5D0FgVXqP/TafiKZm2taPNJEi3tSqot8wXkWeqdrodkU5xP8xlnszAPVTA4FpzBAWfuC9CxSAF6uPkcuop97

vS1gN7zSnVkl7tP4+ygk4f0uJWxWH532dgLhMxYMh8e8M2NVwbz+GdH+VgmoGtgQJ8QEE4afjUTWunMiZ82nEWSmfxE8poUzIcYHYt6KDzSwY68OP3Cgjzoy1mjvw77STW1GSX2xv3hEp8ELucRj1RAikkHAImUELIOcW8e0lx5AS33Nv1v8PuIi6Kh+iRNjadBJ2Q2jLc0BabX2W5icJMcjtASlbVpZrtAqaAFNJ/Hr6sJfCeP5YKXpsgUrZURfcih2QXear3znFe4IKUtzbrIuvfXLAGYRrniOtnP0xcHtuQpKQD3dmPRbZJ0Od+2d4FcdUCoWCVh7xEJ1v2TnYBN1YYkDGpWRV3755H43Xg6rq2lwqo+J7E0h7beqjYaccZ4mU9BmjgQYOOhckEiQ1btrjkvt2epu5hvSXzHThuLi7ub9N10/7C6OPZ+qPFrWmRtoIeH6OMCMAUP7Vsk5m9WhSOAO+pcy+VfoHbzEI0mCVu42beNSBy3UWMUea5aBuBiWzZuVSKenTRvM4NzBKpicHBTSFwzk3zRQ32DKDwf2r9YNuKaB5eZb/VrevYFRQ3uw4MlQvZaeIplg5IR2pW0hjE9nOlgzpzYnd2MiypF3sFkLE+K69QTQcM5XhuYZg1j7Vnvjil26sB6TyABuYj9CKMj9ZK7nn2gPJekfCTU1aEAK8WMitKUrkgZJK60ezzVQqsxOpng5hPt5KhtY4wVn6GYvEUWeucbfOEq1yF5h9Y+auovEdsPVc3PJmqnifRUX+B5FjTLN05QNWGHRb1FgaydqTpA/w0jZ5LQJGcyghu6yYurYh6i+AfG00EpjgfLi9qpDD85S9u8btyS90LDj2RyVpim0f0w5bnDXnMAGAaPh9Q8O50XHbehGgGEzYS/m8iJ08c/5eyris+nPPDwv9na6jKoMoZTkauaKaKRnqLOf9ftNnGdwlyHCHjhGuuw90q5/E/fbWTWX1vzLrZJ+y3bXQcd5+m8DUoiD4tS+QS+MwbWfzeLu3PRLvA72/pI7PLOQheOccqUmvVIYKL3UVtlLdTD6lOP/mE1nKxr5DUkj43hX/9lIQC+A/4pS 
```

# java - 泛型类型类初始化

> ID：16010131
> 
> 赞同：2
> 
> 时间：2013-04-15T07:46:51.517
> 
> 标签：java, generics

我们编写了一个使用泛型的库，我不确定如何创建泛型类型的实例。很快怎么写create方法呢？

```
public class Lib<V extends Base> {

    private HashMap<Integer, V> map = new HashMap<Integer, V>();    

    public V get(int key) {
        return map.get(key);
    }

    public void add(int key, V value) {
        map.put(key, value);
    }

    public void create(int key) {
        // V v = new V();  // ?? How to implement this line
        // add(key++, v);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:15:30.197

从语言的角度来看，不能保证`V`具有不抛出、可访问、无参数的构造函数。处理这种情况的标准方法是引入抽象工厂，例如，[我在此处的回答](https://stackoverflow.com/a/3434505/4725)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:54:24.237

您不能将 new 与泛型类型一起使用；java中的泛型具有类型擦除。请参阅[http://docs.oracle.com/javase/tutorial/java/generics/erasure.html](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)

> 类型擦除确保不会为参数化类型创建新类；因此，泛型不会产生运行时开销。

不过，有几种肮脏的方法可以获取泛型类的实例；例如： -

```
void create(Class<V> foo)
{
    foo.newInstance(); // Create a new instance of generic type V
} 
```

或者，您可以将 foo 创建为私有成员并执行此操作，而无需将“type.class”传递给您在构造函数中传递类的方法：-

```
class bar<V>
{
    private Class<V> baz;

    private V qux;

    public bar(Class<V> foo)
    {
        baz = foo;
    }

    void create()
    {
        qux = baz.newInstance();
    }
}

bar<Integer> quxx = new bar<Integer>(Integer.class); 
```

正如其他人所说，您可以创建一个可以为您执行此操作的工厂。还有另一个堆栈溢出帖子，其中包含更多信息[Create instance of generic type in Java?](https://stackoverflow.com/questions/75175/create-instance-of-generic-type-in-java)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:58:32.620

你真的应该考虑@Tom Hawtin - 解决问题的答案。这是最好的，而且方法简直太美了！所需要的只是一直添加另一个工厂实现，但这是一笔不小的费用。

```
 public class InstanceOfGenericClass {
      public static void main(String[] args) {
          new GenericClass<VPassed>(new FactoryImpl()).createInstance();
      }
  } 
```

//------------------------------------------------ ------------

```
 class GenericClass<V>{

     private final Factory<V> factory;
     public GenericClass(Factory<V> factory){
         this.factory = factory;
     }

     V createInstance(){
         return factory.create();
     }
 } 
```

//------------------------------------------------ -------------

```
interface Factory<V>{
V create(); 
```

}

//------------------------------------------------ -------------

```
 class FactoryImpl implements Factory<VPassed>{
     @Override
     public VPassed create() {
         return new VPassed();
     }
 } 
```

//------------------------------------------------ --------------

```
class VPassed{} 
```

# bash - 在 bash 脚本中点源配置文件时的“空”变量

> ID：16010134
> 
> 赞同：0
> 
> 时间：2013-04-15T07:46:57.370
> 
> 标签：bash, sh

我正在尝试使用外部配置文件设置脚本，但没有运气让它工作：

我有一个配置文件，我想在其中声明我的变量：

```
#!/bin/bash
screenname=template 
```

还有我的脚本，我在其中点包这个文件。

```
#!/bin/bash
. config.sh
echo $screenname

screen -S $screenname -X stuff "Test\015"
screen -S template -X stuff "Test\015" 
```

输出：

```
template
No screen session found. 
```

有一个名为 >template< 的屏幕，您可以看到 $screenname 的值是 >template< 但第一个屏幕命令仍然返回 No screen session found...

希望有人可以帮助我解决这个愚蠢的事情..谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:51:13.997

将 a`set -x`放在执行“dotsourcing”的脚本顶部（在 shebang 行下方`#!/bin/bash`）：

```
#!/bin/bash
set -x
. config.sh
echo $screenname
:
rest of script 
```

* * *

这将在执行之前输出解释的每一行，并且应该帮助您尝试找出它不工作的原因。您可能还想添加：

```
echo "[$screenname]"
echo "${#screenname]" 
```

获得分隔版本和长度。

问题的一些可能性：

*   可能需要导出`screenname`变量（尽管在这种情况下我不这么认为，因为`bash`它本身应该解释环境变量）。
*   变量中的一些隐藏字符。

不过，我再次强调，您应该执行建议的步骤来缩小或定位问题，而不是依靠猜测。

# c# - 如何使用 SQL Server 审核 .net 应用程序中的所有更改

> ID：16010137
> 
> 赞同：1
> 
> 时间：2013-04-15T07:46:59.267
> 
> 标签：c#, sql-server, entity-framework, auditing

我有一个 .net 应用程序，它主要使用 EF 以及 SQL Server 2008，但有几个客户使用 2005。数据库中有几百个表。我需要审核这些表的选择以记录所有数据插入/更新/删除。我正在考虑拥有这些表的副本以记录所有更改以及日期时间和用户名，然后在实际表上设置触发器以将数据更改插入相关审计表。这是解决这个问题的最好方法吗？触发器是最好的方法还是我应该使用 EF？我本来想只拥有一张审计表，但我认为它很快就会失控。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:53:25.597

审核 SQL Server 并非易事，尤其是当您需要支持旧版本的 SQL Server 时。

*   使用您的 DbContext 跟踪更改。这将增加您的应用程序的开销，并且（正如您已经指出的）将很容易成为一场噩梦（键值无法扩展，需要调整历史表的结构更改（例如，您如何反映删除的列） )

*   CDC - 如果您的 SQL 服务器支持 CDC，这是一个不错的选择，并且对您的应用程序的影响较小

*   第三方选项，例如[Audit SQL Server](http://www.apexsql.com/sql_tools_audit.aspx)您需要调查他们是否满足您的需求

**编辑：** CDC 在 SQL 2005 中不可用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T18:14:20.227

还要检查这个：[http ://doddleaudit.codeplex.com/](http://doddleaudit.codeplex.com/)

我们正在使用它来审计我们产品中的数据库更改。您也可以轻松修改它以满足您的需求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T07:52:09.130

从 SQL Server 2008 开始，您可以执行[一些内置功能](http://msdn.microsoft.com/en-us/library/bb933994%28v=sql.100%29.aspx)，我认为，您想要什么。

# salesforce - 如何在 Salesforce 中创建 Web to Lead

> ID：16010139
> 
> 赞同：0
> 
> 时间：2013-04-15T07:47:03.403
> 
> 标签：salesforce, apex-code

我的网站上有一个表单主机（比如 www.mywebsite.com ），它获取客户要求的一般信息，它有文本框、下拉列表、复选框、单选按钮等。现在我也需要这些数据到我的销售人员中（作为联系人和潜在客户）...在此表格的表格提交事件中...完成此任务的最佳方法是什么..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T16:41:01.703

你有几个选择：

*   您可以使用 Salesforce.com 提供的[标准 Web To Lead 功能](http://na3.salesforce.com/help/doc/en/setting_up_web-to-lead.htm)并将其 HTML 嵌入您的表单中
*   您可以修改网站的后端，这样当它收到表单时，它还会使用 API 在 Salesforce.com 中创建潜在客户。您可以在[developer.force.com](http://developer.force.com)上找到几乎所有可以想到的语言的 API 集成信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-04T03:33:57.557

这有帮助，是的，您需要阅读一些但直截了当的内容

从您的网站生成潜在客户 [https://help.salesforce.com/articleView?id=setting_up_web-to-lead.htm&type=5](https://help.salesforce.com/articleView?id=setting_up_web-to-lead.htm&type=5)

# iphone - 在未注册的设备上运行 iOS 应用

> ID：16010142
> 
> 赞同：-2
> 
> 时间：2013-04-15T07:47:08.977
> 
> 标签：iphone, ios

我是这个领域的新手，所以请原谅我的无知。

我有一个已注册的 iOS 设备 (iPhone 4)，我正在使用 Xcode IDE 开发我的应用程序。我最近购买了一台新设备（iPhone 5），我也想在那里运行该应用程序。

我知道标准程序，即配置文件、UUID 等，但是我想知道是否存在“黑客”以便通过 Xcode 将应用程序运行到未注册的设备。

该应用程序已经在 AppStore 中，但是我想在更新我的补丁之前测试多个设备的开发版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:01:08.287

不幸的是，我知道你不能。 [根据苹果的文档](http://developer.apple.com/library/ios/#technotes/tn2250/_index.html#//apple_ref/doc/uid/DTS40009933-CH1-CODE_SIGNING_IN_A_NUTSHELL-IPHONE_CERTIFICATES)

或者如果没有[越狱您的 iOS 设备](https://stackoverflow.com/questions/2708444/how-do-i-build-and-install-applications-on-a-jailbroken-iphone-without-being-in)，您将无法在其上安装您的应用程序。

希望这个[问题](https://stackoverflow.com/questions/4952820/test-ios-app-on-device-without-apple-developer-program-or-jailbreak)对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:49:26.223

如果不在配置文件中添加 udid，我们就无法做到这一点，这肯定是不可能的

# java - 对象到 ImageIcon

> ID：16010145
> 
> 赞同：0
> 
> 时间：2013-04-15T07:47:26.747
> 
> 标签：java, object, imageicon

我有这段代码：

```
public ImageIcon getNextImage() {
    if (PhotoWalker.hasNext()) {
        return (ImageIcon) PhotoWalker.next();
    } else {
        return null;
    }
} 
```

并且`PhotoWalker`是 ArrayList 的迭代器。当我运行它时，我得到一个`java.util.ConcurrentModificationException`.

有谁知道如何解决这个问题？

# javascript - SetTimeOut 正在堆叠所有按下的按键并在超时完成后触发

> ID：16010154
> 
> 赞同：1
> 
> 时间：2013-04-15T07:48:10.513
> 
> 标签：javascript, jquery, settimeout

我已将 my 设置为在键入`setTimeout`最后一个后 1 秒运行。`keyup`我正在设置 ajax 服务器端验证。

**问题**

出于某种原因，这将等待 1 秒，然后触发我返回的多次点击，然后再进行第二次休息。我只希望最后一个按键触发 ajax 调用。

**代码**

```
 form.items = {
        init:function(){
            this.call();
        },
        call:function(){
            //Check all visible elements
            form.init.mainItems.each(function(){
                $(this).keyup(function(){
                    form.items.main($(this));
                });
            });
        },
        main:function(myself){
                    form.ajaxEvents.ajaxTimer = setTimeout(function(){form.ajaxEvents.call(myself);}, form.ajaxEvents.ajaxTimerSetting);
            }
        }
    };

  //Setting up the timer
 form.ajaxEvents.ajaxTimer = setTimeout(function(){
       form.ajaxEvents.call(myself);
 }, form.ajaxEvents.ajaxTimerSetting);

 form.ajaxEvents = {
     ajaxTimerSetting:1000,
     ajaxTimer:null,
     call:function(me){
         clearTimeout(form.ajaxEvents.ajaxTimer);
         //turn off so we wait for ajax to complete
            $.ajax({
                url:'registration/ajax/'+item,
                data:{"info":me.val()},
                type:'post',
                success:function (data) {
                    //data
                }
            });
        }
    }; 
```

**提琴手**

[JS Fiddle 完整的工作代码和描述的错误](http://jsfiddle.net/hutber/76Q9v/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-16T17:05:22.627

我希望这能帮到您。

```
var timer;

$("input").on('keyup', function() {
    clearInterval(timer);  //clear any interval on key up
    timer = setTimeout(function() { //then give it a second to see if the user is finished
        //do .post ajax request //then do the ajax call
    }, 1000);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:35:12.910

我认为，当事件`keyup`被触发时，你应该首先验证之前没有创建过现有的超时，否则会有很多 1 秒的超时被触发。如果已经有超时，您应该使用该`clearTimeout(id_timeout)`功能取消它。然后你只需要设置你的 1 秒超时。

使用您`form.ajaxEvents.ajaxTimer`存储有关现有超时的信息，这将给出如下内容：

```
main:function(myself){
    // verify if existing timeout
    if(form.ajaxEvents.ajaxTimer != null) {
        clearTimeout(form.ajaxEvents.ajaxTimer);
    }
    // finally
    form.ajaxEvents.ajaxTimer = setTimeout(function(){form.ajaxEvents.call(myself);}, form.ajaxEvents.ajaxTimerSetting);
} 
```

并且可能`form.ajaxEvents.ajaxTimer = null`在您的触发函数中添加一个。

# python - 在 openerp RML 中将销售订单信息添加到发票

> ID：16010158
> 
> 赞同：0
> 
> 时间：2013-04-15T07:48:35.203
> 
> 标签：python, openerp, rml

在我的销售订单中，我有一个需要在客户发票中引用的客户参考号，发票使用源文档搜索其相关的销售订单，然后搜索销售记录。我的 RML 中有以下内容：

```
[[o.getcustomerPO(origin) or 'No associated PO' ]] 
```

这在我的解析器中：

```
 def getcustomerPO(self,so_num):
context = {}
saleorder = self.pool.get('sale.order')
sale_oID = saleorder.search(self.cr, self.uid,[('name','=','so_num')],context=context)
customerPO = saleorder.browse(self.cr, self.uid, sale_oID, context=context)
return customerPO 
```

但没有骰子。

我不确定如何进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:24:33.107

我不知道您是否使用该功能更新本地上下文：

```
self.localcontext.update({
            'time': time,
            'getcustomerPO': self.getcustomerPO,
        }) 
```

在 rml 中应该是这样的：

```
[[ getcustomerPO(origin) or 'No associated PO' ]] 
```

还有一件事，在这份报告中，布尔值被勾选为“从附件重新加载”。这意味着当您第二次打印报告时，它将与之前的报告一起出现。因此，您还需要通过添加以下属性从 report.xml 文件中取消勾选该布尔值：

```
attachment_use="True" 
```

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T17:15:40.250

尝试

```
[[getcustomerPO(o.origin) or 'No associated PO' ]] 
```

# php - 在一个集合形式symfony2中显示许多字段

> ID：16010159
> 
> 赞同：0
> 
> 时间：2013-04-15T07:48:36.873
> 
> 标签：php, symfony

我在表单中添加了一个集合。

```
->add('numbers', 'collection', array('type'         => new NumberType(),
                                              'allow_add'    => true,
                                              'allow_delete' => true)) 
```

numberType 有两个字段：From 和 To。我想在表单中显示它们。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:30:51.863

我没有收到您的问题，但是使用其集合 Fields 呈现表单就像[文档中描述的一样简单](http://symfony.com/doc/2.0/reference/forms/types/collection.html)

```
->add('numbers', 'collection', array(
    'type' => new NumberType(),
    // ...
    )); 
```

**简单的渲染，**

```
 {{ form_row(yourForm.numbers) }} 
```

**自定义渲染，**

```
<ul>
{% for number in yourForm.numbers %}
    <li>
        {{ form_errors(number) }}
        {# form_label(number) #} {# If you want to render a label for earch given number #}
        {{ form_widget(number) }}
    </li>
{% endfor %}
</ul> 
```

# facebook - 如何在 Windows phone 7 中使用 Facebook C# sdk 5.4.1.0 获取 Facebook 好友电子邮件地址

> ID：16010163
> 
> 赞同：0
> 
> 时间：2013-04-15T07:48:45.953
> 
> 标签：facebook, windows-phone-7, facebook-c#-sdk

我想使用 Windows Phone 应用程序导入 Facebook 联系人（朋友电子邮件地址）并将这些联系人保存到本地手机。

我想使用 Facebook C# sdk，请告诉我如何在 Windows Phone 中完成此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:10:08.440

抱歉，Facebook 不允许导出好友的电子邮件地址。[电子邮件权限](http://developers.facebook.com/docs/reference/login/email-permissions/)文档的注释中也提到了这一点。

> 应用程序无法获取用户朋友的电子邮件地址。

如果您仍想获取用户朋友的这些电子邮件 ID，则需要向他们发送所有[应用程序请求](http://developers.facebook.com/docs/reference/dialogs/requests/)以尝试您的应用程序，以便您可以根据每个用户检索这些 ID。

# mozilla - 使用 Mozilla Persona Auth 进行单点登录

> ID：16010168
> 
> 赞同：1
> 
> 时间：2013-04-15T07:49:18.863
> 
> 标签：mozilla, browserid

任何人都知道是否可以将 Persona 用于 SSO 目的以进行跨站点登录，这是单个域的子域？我在文档中找不到这个有用的功能。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T22:59:40.257

如果所有服务都在一个域中（例如 service1.example.com、service2.example.com 等），您可以直接在顶级域（example.com）上设置一个 cookie，然后所有服务都可以使用相同的会话，因为他们都可以访问该会话 cookie。

因此，一种方法是在用户`login.example.com`单击任何其他站点（service*.example.com）上的登录按钮时将其重定向到。该登录服务将使用 Persona 要求用户登录，然后它会在 example.com 上设置一个 cookie。

这种策略当然不是特定于 Persona，它是例如在公司内部服务之间获取 SSO 的常用方法。

# jquery - .replace 通过使用 jQuery 添加跨度给出错误

> ID：16010169
> 
> 赞同：0
> 
> 时间：2013-04-15T07:49:19.690
> 
> 标签：jquery, replace, html

我用以下代码将洞网站上的“Holla”替换为突出显示的“Holla Hee”：

```
$("td").each(function () {
    if ($(this).children().length == 0) {
        $(this).html($(this).html().replace('Holla','<span class="txtWarn">Holla Hee</span>'));
    }
}); 
```

但[http://validator.w3.org](http://validator.w3.org)给出了错误：

> 错误第 205 行，第 79 列：文档类型在此处不允许元素“跨度”

```
…s).html().replace('Holla','<span class="txtWarn">Holla Hee</span>')); 
```

还有其他方法吗？（无法将脚本保存到外部 js. 文件中）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T07:58:08.140

您可以尝试`&lt; and &gt;`：

替换这个：

```
 $(this).html($(this).html()
        .replace('Holla','<span class="txtWarn">Holla Hee</span>')); 
```

有了这个：

```
$(this).html($(this).html()
       .replace('Holla','&lt;span class="txtWarn"&gt; Holla Hee &lt;/span&gt;')); 
```

* * *

### 更新：

您可以尝试使用变量：

```
var span = '<span class="txtWarn"> Holla Hee </span>';
$(this).html($(this).html().replace('Holla', span)); 
```

[**演示**](http://jsfiddle.net/8URRY/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T09:46:53.180

如果您的代码在`<head>`文档中，您可以尝试使用 CDATA

```
 <script type="text/javascript">
    //<![CDATA[
    $(function(){
       $("td").each(function () {
         if ($(this).children().length == 0) {
            $(this).html($(this).html().replace('Holla','<span class="txtWarn">Holla Hee</span>'));
         }
       });
    });
    //]]>
    </script> 
```

如果你只有`Holla`在`td`那么另一种方法可以`.html()`用来添加代码。

```
$(function () {
    $("td").each(function () {
        var td = $(this);
        if (td.children().length == 0 && td.text() === 'Holla') {
            td.html('<span class="txtWarn">Holla Hee</span>');
        }
    });
}); 
```

**请注意，要使其正常工作，`td`必须看起来完全一样`<td>Holla</td>`，并且不能有任何空格。**

# objective-c - 获取和比较文本文件中的字符串

> ID：16010175
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:49:32.067
> 
> 标签：objective-c, file

我有包含大量单词内容的文本文件，现在我想将字符串与该文本文件中的单词进行比较。有没有办法像这样比较。

```
NSString *path = [[NSBundle mainBundle]pathForResource:@"dictionary" ofType:@"txt"];
NSString *contents = [NSString path encoding:NSASCIIStringEncoding error:nil]; 
```

这是我的文本文件的路径，现在我有一个字符串

```
NSString *alertstring = [stringadd componentsJoinedByString:@""];
NSRange range = [alertstring rangeOfString:@"no"];
if (range.location == NSNotFound)
{
    NSLog(@"word is not there");
}
else
{
    NSLog(@"word is there");
} 
```

在`alertString`我有像“no”这样的词，它在文本文件中。当我将此单词与txt文件进行比较时，如果该单词存在于文件中，当我运行时它显示为不存在，当我第二次运行时它显示为存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:42:43.977

```
NSRange range = [alertstring rangeOfString:@"aaa"];
if (range.location == NSNotFound) {
    // the string "aaa" wasn't found
}
else {
    // the string WAS found
} 
```

# iphone - 需要 VFR 阅读器中的列表搜索功能

> ID：16010176
> 
> 赞同：4
> 
> 时间：2013-04-15T07:49:40.817
> 
> 标签：iphone, ios, objective-c, xcode, ipad

我已经实现了[本教程中的](http://mobile.tutsplus.com/tutorials/iphone/reading-displaying-pdf-documents/)**Pdf 阅读库**： . 它基于**[VFR Reader](https://github.com/vfr/Reader)**。

现在我想添加**列表搜索结果**功能。**[如果您对FastPdfKit](https://github.com/mobfarm/FastPdfKit)**有所了解，它提供了列表搜索功能。

我想要与附加图像相同的搜索功能。

如果有人在 VFR Reader 中实现了相同的搜索功能，我将非常感谢您的帮助。

提前致谢

![显示搜索功能的 iPhone 屏幕截图](https://i.stack.imgur.com/agwTC.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-20T07:54:03.333

您可以使用以下方法从 pdf 中查找单词。它可能会帮助你。

```
-(BOOL)page:(CGPDFPageRef)inPage containsString:(NSString *)inSearchString;
{
[self setCurrentData:[NSMutableString string]];
CGPDFContentStreamRef contentStream = CGPDFContentStreamCreateWithPage(inPage);
CGPDFScannerRef scanner = CGPDFScannerCreate(contentStream, table, self);
bool ret = CGPDFScannerScan(scanner);
CGPDFScannerRelease(scanner);
CGPDFContentStreamRelease(contentStream);
 NSLog(@"%@",[currentData uppercaseString]);
 NSLog(@"%d",[[currentData uppercaseString]rangeOfString:[inSearchString uppercaseString]].location != NSNotFound);
return ([[currentData uppercaseString]rangeOfString:[inSearchString uppercaseString]].location != NSNotFound);
} 
```

# django - Django——更新结果查询集中的特定值

> ID：16010177
> 
> 赞同：0
> 
> 时间：2013-04-15T07:49:41.183
> 
> 标签：django, django-models, django-queryset

这些行有什么问题：

```
for i in message_list:
    message_stream = Messages.objects.filter(OrderID = i.OrderID).order_by('-MessageLocalID')
    if message_stream[0].MessageTypeName != 'MessageAck':
        message_stream[0].status = message_stream[0].MessageTypeName
        message_stream[0].save() 
```

该`status`字段不会保存在数据库中。我在这里误解了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:19:03.697

问题出在数据库本身，状态字段，它应该用新值更新，不能接收超过 2 个字符的值。我使用了 Django DB 迁移并扩展了状态字段，解决了这个问题。

这个命令就像一个没有问题的魅力：

```
NpMessages.objects.filter(NPOrderID = i.NPOrderID, MessageTypeName = 'Request').update(status = message_stream[1].MessageTypeName) 
```

并摆脱保存语句，因为它无论如何都不起作用！！！

# wcf - 如何通过 WCF 服务从外部访问我的家用电脑

> ID：16010187
> 
> 赞同：1
> 
> 时间：2013-04-15T07:50:39.523
> 
> 标签：wcf

我如何创建从外部或办公室电脑在我的家用电脑上运行的 wcf 服务代理。当我将家用电脑连接到互联网时，ISP 会为该电脑分配一个动态 IP。我的家用电脑没有固定或静态 IP。

如果我知道我的家用电脑动态 IP，那么我可以从我的办公室电脑创建在我的家用电脑上运行的 wcf 服务代理。wcf 客户端将在我的办公室电脑上运行，而 wcf 服务将在我的家用电脑上运行。

所以情况就是这样。

如果有人因此可以访问我的 wcf 服务，我的家用电脑的动态 IP 就足够了。所以请告诉我，要访问在我的家用电脑上运行的 wcf 服务，必须获取哪些信息。

请告诉我如何在我的办公室运行 wcf 客户端，它可以连接到我家用电脑上运行的 wcf 服务并交换一些数据。请给我完整的说明，因为我的办公室电脑上的 wcf 客户端可以连接到我家用电脑上运行的 wcf 服务。

有人告诉我解决这个问题的常用方法是使用动态 DNS，例如 No-IP [http://www.noip.com/](http://www.noip.com/)。他说：“ **DDNS 服务允许您使用固定名称访问您的家庭计算机，例如 yoursite.no-ip.org。它需要您的家庭计算机运行一个小型客户端程序，该程序与提供商的服务器进行通信，以更新您的 DNS 记录。每当您的 IP 地址更改时命名。** ”

假设我对 No-IP [http://www.noip.com/](http://www.noip.com/)不感兴趣。

如果我知道我的 wcf 服务正在运行的机器的动态 IP，那么我如何将我的 wcf 客户端从办公室电脑连接到在我的家用电脑上运行的具有我知道的动态 IP 的 wcf 服务。寻找好的讨论。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:15:39.390

您需要正确设置 4 件事：

1.  **您的本地 WCF 服务应该已启动并正在运行**：从您的本地 pc 测试它并查看它是否正常工作。
2.  **您的本地 Windows 防火墙必须允许连接到您的端口**：为了测试这一点，您应该尝试从您家中的另一台计算机连接到您的 WCF 服务。
3.  **您的路由器必须将给定端口重定向到您的本地 PC**：可能是您路由器的端口 8080 到您本地 PC 的端口 80。它是通过路由器配置设置完成的。
4.  **动态 DNS 正确指向您的家庭 DSL**：您的 DSL 路由器可能在配置中有一个选项卡，允许它连接到动态 DNS 服务。为了测试此检查您的动态 DNS 名称是否解析为您的

**建议**：AWS（可能还有 Azure）中的小型虚拟服务器是免费的，也许是一个有趣的替代方案......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:11:41.263

您在家用电脑上运行的 wcf 代理在端口上运行。您需要将该端口从路由器映射到您的电脑，以便您可以从外部访问它。使用 No-Ip，您可以创建一个“静态”dns 记录，将您带到您的电脑

`Home.No-Ip.org:1234`

而不是使用它，您也可以只使用您的 ip 地址，该地址由您的 isp 提供。请注意，如果这可能会发生变化，则每次更改时都需要对其进行更新。

假设，您将端口 1234 映射到您的 PC，以及运行 wcf 服务的正确端口。

接下来你需要让客户端知道服务在哪里，所以你需要在那里设置服务的端点，端点由`Home.No-Ip.org:1234/someEndPointName`

根据您工作场所和家庭网络的防火墙设置，这应该可以工作，但是，我不知道在家或工作之间的连接之间会发生什么

# c++ - 将临时变量绑定到视觉上编译的非 const 引用

> ID：16010197
> 
> 赞同：1
> 
> 时间：2013-04-15T07:51:18.307
> 
> 标签：c++, rvalue

```
#include<iostream>

struct Foo
{

};

void func(Foo& f)
{
    std::cout << "foo" ;
}

int main()
{ 
    func(Foo());//ok compile
    std::cin.ignore();
    return 1;
} 
```

标准没有说这个王者不合法？这是一个错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T07:52:40.937

这不应该是合法的。但是一些旧版本的 Visual C++（例如 VC6）允许它，afaik。

# java - Json 数据分配给 java 类

> ID：16010199
> 
> 赞同：1
> 
> 时间：2013-04-15T07:51:24.060
> 
> 标签：java, android, json, gson

我在将 json 数据分配给 java 类时遇到问题。请帮助任何人，我的 java 类就像，

```
public class ListofGridRecords<T> {
    public int Totalrecords;
    public List<T> GridRecords;//using TraderTransaction class.
} 
```

和 TraderTransaction 类是，

```
public class TraderTransaction {

  public Date AddedTime;
  public String TransactId;
  public TransactStatus Status;
  public String OtherPartyAccountNo;
  public Double AmountPaid;
  public Double AmountRecieved;
  public Double ClosingBalance;
  public TransactionTypes TransType;
  public String Narration;

  public TraderTransaction() {
    super();
  }
} 
```

我的 json 转换函数看起来像，

```
JsonObject returndata = JsonObject.parse(responseString);
String operationresult = returndata.get("OperationResult").toString();

if (Result.values()[Integer.parseInt(operationresult)] == Result.Success) {
  Gson gson = new Gson();

  @SuppressWarnings("unchecked")
  ListofGridRecords<TraderTransaction> traderlist = 
        gson.fromJson(returndata.get("ResultData").toString(), ListofGridRecords.class);

  Log.i("LIST DATA:", "" + traderlist);
  for (TraderTransaction trader: traderlist.GridRecords) {
    HashMap<String, String> map = new HashMap<String, String>();
    map.put(TRANS_FIRST_COLUMN, currentformatter.format(trader.AddedTime));
    map.put(TRANS_SECOND_COLUMN, trader.TransactId);
    map.put(TRANS_THIRD_COLUMN, trader.OtherPartyAccountNo);
    map.put(TRANS_FOURTH_COLUMN, trader.AmountPaid.toString());
    map.put(TRANS_FIFTH_COLUMN, trader.AmountRecieved.toString());
    map.put(TRANS_SIXTH_COLUMN, OpenOrClosed.values()[Integer.parseInt(trader.TransType.toString())].toString());
    list.add(map);
  }
} 
```

我在 for (TraderTransaction trader : traderlist.GridRecords) 遇到转换错误。

我的 Json 数据看起来像，

```
{
   "Messages":"RESULTS_RETRIEVAL_SUCCESSFULL",
   "OperationResult":0,
   "ResultData":{
      "GridRecords":[
         {
            "AddedBy":"Distributor-9787457361-Rathinavel",
            "AddedTime":"2013-04-12T16:26:24.0140117",
            "AmountPaid":0.0,
            "AmountRecieved":10000.0,
            "ClosingBalance":10000.0,
            "Narration":null,
            "OtherPartyAccountNo":"0102849015327675",
            "Status":2,
            "TransType":2,
            "TransactId":"TDRF483679051236"
         },
         {
            "AddedBy":"Distributor-9787457361-Rathinavel",
            "AddedTime":"2013-04-12T16:20:54.8681857",
            "AmountPaid":0.0,
            "AmountRecieved":0.0,
            "ClosingBalance":0.0,
            "Narration":null,
            "OtherPartyAccountNo":"0102849015327675",
            "Status":0,
            "TransType":2,
            "TransactId":"TDRF706925413802"
         }
      ],
      "Totalrecords":2
   },
   "UpdateAvailable":"0"
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T12:34:57.843

为了解析您的 JSON，我将使用稍微不同的策略。由于您似乎只对解析“ResultData”感兴趣，我将创建类来*包装*响应，这与您已经创建的非常相似，即：

```
public class Response {
  @SerializedName("ResultData")
  public ResultData resultData;
} 
```

和，

```
public class ResultData {
  @SerializedName("GridRecords")
  public List<GridRecord> gridRecords;
  @SerializedName("Totalrecords")
  public int totalrecords;
} 
```

和，

```
public class GridRecord {
  @SerializedName("AddedTime")
  public String addedTime;
  @SerializedName("TransactId")
  public String transactId;
  //other fields...
} 
```

和其他课程，如有必要...

然后，为了解析您的 JSON 响应，您只需执行以下操作：

```
Gson gson = new Gson();
Response data = gson.fromJson(responseString, Response.class); 
```

您将能够访问任何字段，例如：

```
data.resultData.gridRecords.transactId; 
```

*注意 1*：如果您对 JSON 响应的更多字段感兴趣，您只需根据 JSON 响应向*包装*类添加更多字段...

*注意 2*：我已将类型更改`addedTime`为`String`，而不是`Date`因为它为无法解析的日期引发异常。无论如何，我通常将`Response`对象中的类型保留为简单`String`，然后在我检索响应的类中，我在创建对象时执行正确的格式设置，例如，当您将值放入`Map`...

*注意 3*：注释的使用`@SerializedName`很有趣，可以将 JSON 响应和您的应用程序中的字段名称分开，以遵循 Java 命名约定，您的属性不遵循这些约定......

*注意 4*：你不应该`public`在你的类中使用属​​性。更推荐使用`private/protected`属性及其对应`getters`的`setters`...

# php - 脚本没有获取会话变量

> ID：16010200
> 
> 赞同：0
> 
> 时间：2013-04-15T07:51:28.510
> 
> 标签：php, wordpress, session

我使用 WordPress 创建了一个网站，并在一个页面上包含了我自己的脚本来指导用户通过一系列步骤来计算结果。脚本包含在此顺序中

主页 -> 包含我的 Wizard.php -> Wizard.php 包含的 Wizard_Step_xx.php

向导每次从 Step_01 到 Step_10.php 都会重新加载新步骤，这是由 jQuery 脚本完成的。

现在我的问题是，每当用户完成这个“向导”时，他都可以选择登录并重定向到他自己的页面。现在，当用户单击链接进入“向导”时，我想向用户显示个人页面，而不是向他显示通常会发生的向导的第一步。

我制作了这个简单的脚本，`$_SESSION`在用户登录时设置一个变量：

```
//Validate Log In
if(isset($_POST['Validate'])) //submit login button
{
   $inlog_naam = ( $_POST['inlognaam'] );
   $wachtwoord = ( $_POST['wachtwoord'] );

   $try        = mysql_query("SELECT * FROM xxxx WHERE username = '$inlog_naam' AND password = '$wachtwoord'") or die (mysql_error() );
   $result     = mysql_num_rows($try);

   if($result == 0)
   {
      $page = ( 8 );
      $_SESSION['Invalid_Login_1']    = ( "true" );
   }

   else
   {
      $_SESSION['Invalid_Login_1']    = ( "false" );
      $user_info                      = mysql_query("SELECT * FROM xxxxx WHERE username = '$inlog_naam' AND password = '$wachtwoord'") or die ( mysql_error() );
      $user_info_result               = mysql_fetch_array($user_info, MYSQLI_BOTH);

      $user_lastname                  = ( $user_info_result['contact_Achternaam'] );
      $user_id                        = ( $user_info_result['user_id'] );
      $_SESSION['user_id_1']          = ( $user_id );
      $_SESSION['user_name']          = ( $inlog_naam );
      $_SESSION['user_lastname']      = ( $user_lastname );
      $session_id                     = ( session_id() );
      mysql_query("UPDATE xxxxx SET user_id = '$user_id', user_username = '$inlog_naam', user_lastname = '$user_lastname' WHERE session_id = '$session_id'") or die (mysql_error() );

      $page                           = ( 9 );

      $_SESSION['user_login']         = ( "true" );
      $_SESSION['user_main_screen']   = ( "true" );

  } 
```

现在脚本的这部分工作完美，并且`$_SESSION`设置了变量。但是当我再次单击链接转到向导时，我在 Wizard.php 文件中得到了这个脚本，以显示用户的个人页面，而不是通常会发生的 Wizard_Step_01.php。

```
if(isset($_SESSION['user_login']) && $_SESSION['user_login'] == 'true')
{
   $page = 9;
}

else
{
   echo $_SESSION['user_login'];
} 
```

该脚本似乎没有看到该`$_SESSION`变量，但是当我单击此页面上的下一步转到 Wizard_Step_02.php 时，它确实识别了它。

我还注意到，出于某种原因，我的网站正在运行 2 个**PHPSESSID**，我想我会通过这样做来防止这种情况：

```
<?php if(!isset( $_SESSION )) { session_start(); } ?> 
```

但由于某种原因，它仍然会创建第二个**PHPSESSID**。

如果有人对如何禁用/删除/取消设置 2 个**PHPSESSID**中的 1 个有任何想法，如果这是问题所在，或者知道为什么会发生这种情况......

`$_SESSION['user_login']`明确一点：我想知道为什么我的页面在加载页面时找不到设置。也感谢任何建议或任何形式的帮助。

谢谢阅读。

# javascript - 从 dom 元素获取 window 对象的引用

> ID：16010204
> 
> 赞同：50
> 
> 时间：2013-04-15T07:51:49.887
> 
> 标签：javascript, jquery

我有一个这样的javascript代码

```
var element = $("elementId"); 
```

我得到了对元素的引用（这是一个 div）。

现在我需要获取对这个 div 元素所在的窗口的引用。但问题是，这里的 $ 是从不同的窗口传递的。所以现在元素驻留在不同的窗口中。

如何获取对包含此 div 元素的窗口对象的引用？请帮忙。

* * *

## 回答 #1

> 赞同：101
> 
> 时间：2013-04-15T07:59:57.020

获取对 DOM 节点的引用，使用[`ownerDocument`](https://developer.mozilla.org/en-US/docs/DOM/Node.ownerDocument)属性获取对文档的引用，然后读取其[`defaultView`](https://developer.mozilla.org/en-US/docs/DOM/document.defaultView)属性（[`parentWindow`](http://msdn.microsoft.com/en-us/library/ie/ms534331%28v=vs.85%29.aspx)对于 IE8-）获取对窗口的引用：

```
var $element = $('#elementId');
var element = $element[0];
// Assume that element exists, otherwise an error will be thrown at the next line
var doc = element.ownerDocument;
var win = doc.defaultView || doc.parentWindow; 
```

# ruby-on-rails - 安装 wkhtmtopdf-heroku 时出错

> ID：16010206
> 
> 赞同：0
> 
> 时间：2013-04-15T07:51:51.343
> 
> 标签：ruby-on-rails, heroku

Heroku 不允许我将 airbrake 和 wkhtmlpdf-heroku gems 放在一起。我之前的推动工作正常，没有空气制动。如果我再次在我的 gemfile 中放置 airbrake，则会出现以下错误：

```
Bundler::GemspecError: Could not read gem at /tmp/build_li34yprz7arq/vendor/bundle/ruby/1.9.1/cache/wkhtmltopdf-heroku-1.0.0.gem. It may be corrupted.
   An error occurred while installing wkhtmltopdf-heroku (1.0.0), and Bundler
   cannot continue. 
```

你知道为什么会这样吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T20:43:59.470

wkhtmltopdf-heroku gem 只是在您的项目中删除了一个 wkhtmltopdf 二进制文件，并为常见的“客户端”gem 设置了配置。您可以自己手动完成。我这样说是因为我有一些与该宝石有关的其他奇怪问题，当我为自己进行设置时，这些问题神秘地消失了。

所以试着把 wkhtmltopdf-amd64 放到你的项目 bin 目录中，然后做你自己的配置。就我而言，对于 wicked_pdf，这意味着 /initializers 中的 wicked_pdf.rb 包含

```
WickedPdf.config = { :exe_path => (Rails.env.test? || Rails.env.development? ? 'c:\Program Files\wkhtmltopdf\wkhtmltopdf.exe' : Rails.root.join('bin', 'wkhtmltopdf-amd64').to_s),
                 :page_size => 'Letter',
                 :outline => {:outline => true, :outline_depth => 4}} 
```

澄清一下，这是指向我的 C 驱动器上用于测试和生产的 Windows 二进制文件，否则（意味着生产）指向我在项目的 bin 目录中拥有的 amd-64 二进制文件（用于 Heroku）。

# vba - 表单关闭时复制的文本未保存在剪贴板中 VB6

> ID：16010213
> 
> 赞同：1
> 
> 时间：2013-04-15T07:52:27.937
> 
> 标签：vba, windows-7, vb6, richtextbox

我正在维护一个旧的**VB6 应用程序**，该应用程序在 Windows 7 下运行时遇到一些复制/粘贴问题。一些表单有一个**RichTextBox**控件，您不能**再从该控件复制文本**(ctr-c)。

这是我学到的：

*   如果表单保持打开状态，则复制/粘贴工作正常，但一旦表单关闭，剪贴板似乎就被清除了。
*   它适用于普通文本框，只是 RichTextBox 有这个问题。
*   它在 IDE 中工作正常，但是当编译为 exe 时，这个问题就出现了。
*   我有另一台 Windows 7 机器（32 位），一切都按预期工作。

该应用程序使用 Microsoft 的 Richtx32.ocx (v6.1.97.82) 作为 rihtext 控件。我正在运行 Windows 7 64 位版本。

我真的很感谢在这方面的任何帮助，因为我现在有点绝望。

**编辑：** 如果我在打开表单之前复制了一些东西，然后关闭了同一个表单，那么文本仍然在剪贴板中，所以我的表单没有清除剪贴板，而是似乎是内存管理问题？如果未使用的对象（文本框）中有文本，它可能是清除剪贴板的“GC”吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:09:58.430

如果您确切地找出数据在什么时候被“清除”，那将是一个好主意。将代码放在 Me.Hide 或 Unload Me 语句之前、Form_Unload 语句中，以及在表单被清除执行后的某个时间点：

```
Clipboard.GetFormat(vbCFRTF) 
```

这将告诉您剪贴板在什么时候没有检测到文本。

*同时，您可以将数据保存在全局变量中，或者在剪贴板正常*的最后一点将其作为参数传回，然后如果需要，在表单关闭后的某个点执行：

```
Clipboard.Clear
Clipboard.SetText sRichText, vbCFRTF 
```

另一件事，您是否尝试过与 Windows XP SP3 兼容性运行？

# php - 连接 2 列以创建帐户流查询

> ID：16010215
> 
> 赞同：0
> 
> 时间：2013-04-15T07:52:31.200
> 
> 标签：php, mysql

我有两张表，一张用于客户信用（付款），它看起来像这样：

```
id     client     date              amount
1       ana       2012-01-01        5000  
2       ana       2012 02-01        10000
3       ana       2012-03-01        5000 
```

ETC ..

和另一个看起来像这样的借记（取款）表：

```
id    client      date             amount 
1       ana       2012-01-15        5000
2       ana       2012 02-15        8000
3       ana       2012-03-15        9000 
```

ETC ...

我想生成一个查询，按日期对每个客户的所有交易进行排序，将 2 个日期列合并为一个，然后按日期排序，它应该如下所示：

```
date           payment     withdrawal 
2012-01-01     5000           ----
2012-01-15     -----          5000
2012-02-01     10000          ----  
2012-02-15     -----          8000
2012-03-01      5000          ----
2012-03-15     -----          9000 
```

这是我尝试过的，但我知道它是错误的，并且它给出了重复的记录：

```
SELECT payments.amount, payments.date withdrawals.amount, withdrawals.date
FROM payments,withdrawals 
WHERE payments.client = withdrawals.client
ORDER BY date 
```

我尝试了 LEFT JOIN 但它给出了相同的结果：

```
 SELECT payments.amount, payments.date, withdrawals.amount, withdrawals.date
 FROM payments 
 LEFT JOIN withdrawals 
 ON payments.client= withdrawals.client
 ORDER BY date 
```

请帮忙，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:25:27.983

您需要执行两个简单的 SELECT 查询，分别在每个表上执行一个，然后使用 UNION 关键字组合结果，如下所示：

```
SELECT date, amount AS payment, NULL AS withdrawal FROM payments WHERE client = 'ana'
UNION ALL
SELECT date, NULL AS payment, amount AS withdrawal FROM withdrawals WHERE client = 'ana'
ORDER BY date 
```

您不想进行任何类型的连接，因为每一行的数据只从一个表中提取，而不是从另一个表中提取。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-15T07:54:46.790

你正在寻找的是一个完整的外部连接：

```
SELECT payments.amount, payments.date, withdrawals.amount, withdrawals.date
FROM payments FULL OUTER JOIN withdrawals
  ON payments.client= withdrawals.client
Order by date 
```

或者使用 UNION（根据 MySQL 的需要）：

```
SELECT payments.amount, payments.date, withdrawals.amount, withdrawals.date
FROM payments LEFT OUTER JOIN withdrawals
  ON payments.client= withdrawals.client
Order by date
UNION
SELECT payments.amount, payments.date, withdrawals.amount, withdrawals.date
FROM payments RIGHT OUTER JOIN withdrawals
  ON payments.client= withdrawals.client
Order by date 
```

# components - 视图上的多个模型 Joomla 2.5

> ID：16010218
> 
> 赞同：0
> 
> 时间：2013-04-15T07:52:41.520
> 
> 标签：components, joomla2.5

我在 joomla 2.5 中编写了一个组件。我想要一个视图在视图上使用多个模型。

我在[没有控制器的情况下看到了多个模型](https://stackoverflow.com/questions/15804408/multiple-models-for-a-view-without-controllers)。

我的代码：在类控制器（Controller.php）

```
public function display($cachable = false, $urlparams = false) 
{
        AppHelper::addSubmenu(JRequest::getCmd('view', 'apps'));
        JRequest::setVar('view', JRequest::getCmd('view', 'apps'));

        $model = $this->getModel('app'); // get first model
        $view = $this->getView('apps', 'html'); // get view we want to use
        $view->setModel($model, true);  //  true is for the default model  

        $vermodel = &$this->getModel('version'); // get second model   
        $this->assignRef('version', $vermodel);

        $view->setModel($vermodel);
        var_dump($this);

        parent::display($cachable);
        return $this;
} 
```

在类视图中 (view.html.php)

```
public function display($tpl = null) 
{
        // Initialiase variables.
        $this->form = $this->get('Form');

        $this->item = $this->get('Item');
        $this->state = $this->get('State');
        $this->form2 = $this->get('Form', 'version');
       // var_dump($this->form2);

    } 
```

但是，视图不能显示到窗体！！！

帮我！！谢谢你们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-25T17:04:49.013

代替： `$this->form2 = $this->get('Form', 'version');` 您应该使用： `$this->form2 = $this->getForm();`

对我来说它有效。我想只有一个默认模型，这就是为什么我们应该以其他方式调用模型的函数。

# matlab - 颜色栏没有显示我想要的颜色

> ID：16010221
> 
> 赞同：2
> 
> 时间：2013-04-15T07:52:57.300
> 
> 标签：matlab, plot, matlab-figure, colorbar

我有一个与[**这篇**](https://stackoverflow.com/questions/13803663/color-map-and-color-bar-of-the-overlaid-index-image-on-a-gray-scale-background-i)文章中的问题类似的问题。

我有一个灰度图像，并在其上绘制点。从绘制我使用的点，`colormap('jet')`但由于我希望图像是灰度的，在绘制点后我重置了颜色图，`colormap('gray')`.

但我想显示一个彩条！并且颜色条以灰度绘制，而不是“喷射”。我怎样才能做到这一点？

**编辑：** 我想要一个显示点颜色的颜色条！

![在此处输入图像描述](https://i.stack.imgur.com/jsZhH.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T08:00:41.227

您应该通过将相同的数据放入 R 通道、G 通道和 B 通道（这将是灰度 RGB 图像）来将图像转换为 RGB。MatLab 中的颜色图不适用于 RGB 图像，仅适用于索引图像。然后用你喜欢的颜色图在图像上绘制你的点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:11:47.487

[正如这里](http://blogs.mathworks.com/pick/2009/07/24/using-multiple-colormaps-in-a-single-figure/)所讨论的，有几种方法：

1.  如果您有图像处理工具箱，请使用`subimage`创建具有单独颜色图的独立图像。然后绘制图像、您的点，并使用`linkaxes`.

2.  使用文件交换中的[freezeColors](https://www.mathworks.com/matlabcentral/fileexchange/7943-freezecolors-unfreezecolors)（或[多个 colormaps](https://www.mathworks.com/matlabcentral/fileexchange/35354)，我从未亲自测试过）。这是一种创建更大颜色图并自动选择颜色图的正确部分以显示图像和颜色条的*非常简单的方法。*

3.  正如 anandr 所回答的，将您的灰度图像转换为 RGB；Matlab 不在 RGB 图像上使用颜色图，这使您可以自由地绘制点并显示独立于图像的颜色条。

(3) 的示例代码：

```
I = imread('cameraman.tif');
imshow(cat(3,I,I,I))

hold on

x = @() round(size(I,1) * rand(50,1));
y = @() round(size(I,2) * rand(50,1));

plot(x(), y(), 'r.')
plot(x(), y(), 'g.')
plot(x(), y(), 'b.')

colormap('jet')
colorbar 
```

结果：

![带有点和颜色条的图片](https://i.stack.imgur.com/NANvv.jpg)

# java - 根据arraylist d对arraylist a,b,c进行排序

> ID：16010222
> 
> 赞同：0
> 
> 时间：2013-04-15T07:53:02.100
> 
> 标签：java, android, arraylist, hashmap

我需要`arraylist`根据另一个数组对几个进行排序，但真的不知道如何去做。我有列表距离，我使用集合对其进行排序。这工作得很好，但我想根据排序列表对我的其他列表进行排序。这是我到目前为止所做的

```
private void sortList() {
    List<Float> tempDistance = new ArrayList<Float>();
    List<Float> tempmyLat = new ArrayList<Float>();
    List<Float> tempmyAlt = new ArrayList<Float>();
    List<Float> tempmyLng = new ArrayList<Float>();
    ArrayList<HashMap<String, String>> tempplacesListItems = new ArrayList<HashMap<String, String>>();

    tempDistance = Distance;
    tempmyLat = myLat;
    tempmyLng = myLng;
    tempmyAlt = myAlt;
    tempplacesListItems = placesListItems;

    Collections.sort(tempDistance);

    for (int i = 0; i < Distance.size(); i++) {
        Log.d("sorted distance", "" + tempDistance.get(i));
        for (int k = 0; k < tempDistance.size(); k++) {
            if (Distance.get(i) == tempDistance.get(k)) {
                tempplacesListItems.set(k, placesListItems.get(i));
                tempmyLat.set(k, myLat.get(i));
                tempmyLng.set(k, myLng.get(i));
                tempmyAlt.set(k, myAlt.get(i));
            }
        }
    }

    myLat = tempmyLat;
    myLng = tempmyLng;
    myAlt = tempmyAlt;
    placesListItems = tempplacesListItems;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T07:55:38.763

1.  将所有 4 个值放在自定义类中。
2.  实现`Comparable`该类的接口。
3.  根据您的输入列表制作该类的对象列表。
4.  对对象列表进行排序。

例如：

```
private void sortList() {
    List<MyTuple> tuples = new ArrayList<>();

    for (int i = 0; i < Distance.size(); i++) {
        tuples.add(new MyTuple(Distance.get(i), myLat.get(i), 
                                myAlt.get(i), myLon.get(i)));
    }

    Collections.sort(tuples);

    // do something with tuples
}

private class MyTuple implements Comparable<MyTuple> {
    private float distance;
    private float latitude;        
    private float longitude;
    private float altitude;

    public MyTuple(float distance, float altitude, 
                   float latitude, float longitude) {
        this.distance = distance;
        this.latitude = latitude;            
        this.longitude = longitude;
        this.altitude = altitude;
    }

    public int compareTo(MyTuple other) {
        return Float.compare(this.distance, other.distance);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:59:45.930

您可以创建一个使用您的距离列表的新 ComparatorClass

```
class DistanceBasedComparator<Float> implements Comparator {
    private List<Float> distances;

    public DistanceBastedComparator(List distances) {
        this.distances = distances;
    }

    public compare(Float f1, Float f2) {
        // implement your comparison here
    }
}
[...]
Comparator comp = new DistanceBaseComparator(tempDistance );

Arrays.sort(tempMyLat, comp); 
```

# iphone - iOS越狱开发无设备

> ID：16010223
> 
> 赞同：0
> 
> 时间：2013-04-15T07:53:13.517
> 
> 标签：iphone, ios, ios6, jailbreak

*是否可以开发一个与该应用程序沙箱*之外的文件交互的 iOS 应用程序，只在模拟器上运行？

（我没有设备）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:23:22.997

如果您想访问其他应用程序中的信息（文件），是的，这是可能的。在模拟器上运行时，您可以访问硬盘的全部内容，因此您所要做的就是写入文件的完整路径，例如使用以下几行我正在读取属于另一个文件的文件的内容应用程序。

```
NSString *str = [NSString stringWithContentsOfFile:@"~/Library/Application Support/iPhone Simulator/6.1/Applications/8ADF930D-576E-4163-ABD2-85A6D92AD676/Documents/test.txt" encoding:NSUTF8StringEncoding error:nil];
NSLog(@"%@", str); 
```

# android - 移除滚动发光效果/箭头

> ID：16010224
> 
> 赞同：2
> 
> 时间：2013-04-15T07:53:14.940
> 
> 标签：android, listview, scroll

当您尝试过度滚动 android 滚动视图时，会出现发光效果。ICS 及以上为蓝色。我需要把它变成绿色。我已经阅读了很多主题，并注意到没有简单的解决方案来更改这种发光效果颜色，所以我决定完全删除这种效果。这可以通过设置 overScrollMode=never 来完成。但是 minSdkVersion 必须是 9 而我有 8。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-06T09:12:34.740

我创建了一种方法来解决这个问题。它并不完美，但它确实有效。你可以试一试。这是我的代码：

```
private void removeViewPagerGlowEffect(final ViewPager viewpager, final Context context) {
    viewpager.setOnTouchListener(new OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent event) {
            viewpager.onTouchEvent(event);
            try {
                Field leftEdge = viewpager.getClass().getDeclaredField("mLeftEdge");
                leftEdge.setAccessible(true);
                EdgeEffectCompat effectObject = new EdgeEffectCompat(context);
                effectObject.setSize(0, 0);
                leftEdge.set(viewpager, effectObject);

                Field rightEdge = viewpager.getClass().getDeclaredField("mRightEdge");
                rightEdge.setAccessible(true);
                leftEdge.set(viewpager, effectObject);
                rightEdge.set(viewpager, effectObject);
            } catch (Exception e) {
                e.printStackTrace();
            }
            return false;
        }
    });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:56:28.837

为了从滚动视图中删除发光效果，我创建了我的自定义类（扩展了 ScrollView）f 并覆盖了两个方法：

```
@Override
protected float getTopFadingEdgeStrength() {
    return 0.0f;
}

@Override
protected float getBottomFadingEdgeStrength() {
    return 0.0f;
} 
```

# android - 如何在 android 的增强现实应用程序中使用 url 而不是资产文件夹视频文件播放视频

> ID：16010226
> 
> 赞同：0
> 
> 时间：2013-04-15T07:53:22.353
> 
> 标签：android, android-intent

我可以在这里使用示例应用程序“VideoPlay”在增强现实应用程序中播放视频我可以为不同的目标图像播放不同的视频，但在这里他们使用资产文件夹播放视频，但我需要播放 youtube 视频而不是资产文件夹视频.

```
 public class VideoPlayerHelper implements OnPreparedListener,
                                      OnBufferingUpdateListener,
                                      OnCompletionListener,
                                      OnErrorListener
    {
public static final int CURRENT_POSITION            = -1;
private MediaPlayer     mMediaPlayer                = null;
private MEDIA_TYPE      mVideoType                  = MEDIA_TYPE.UNKNOWN;
private SurfaceTexture  mSurfaceTexture             = null;
private int             mCurrentBufferingPercentage = 0;
private String          mMovieName                  = "";
private byte            mTextureID                  = 0;
Intent                  mPlayerHelperActivityIntent = null;
private Activity        mParentActivity             = null;
private MEDIA_STATE     mCurrentState               = MEDIA_STATE.NOT_READY;
private boolean         mShouldPlayImmediately      = false;
private int             mSeekPosition               = CURRENT_POSITION;
private ReentrantLock   mMediaPlayerLock            = null;
private ReentrantLock   mSurfaceTextureLock         = null;

// This enum declares the possible states a media can have:
public enum MEDIA_STATE
{
    REACHED_END     (0),
    PAUSED          (1),
    STOPPED         (2),
    PLAYING         (3),
    READY           (4),
    NOT_READY       (5),
    ERROR           (6);

    private int type;
    MEDIA_STATE (int i)
    {
        this.type = i;
    }
    public int getNumericType()
    {
        return type;
    }
}

// This enum declares what type of playback we can do, share with the team:
public enum MEDIA_TYPE
{
    ON_TEXTURE              (0),
    FULLSCREEN              (1),
    ON_TEXTURE_FULLSCREEN   (2),
    UNKNOWN                 (3);

    private int type;
    MEDIA_TYPE (int i)
    {
        this.type = i;
    }
    public int getNumericType()
    {
        return type;
    }
}

/** Initializes the VideoPlayerHelper object. */
public boolean init()
{
    mMediaPlayerLock = new ReentrantLock();
    mSurfaceTextureLock = new ReentrantLock();

    return true;
}

/** Deinitializes the VideoPlayerHelper object. */
public boolean deinit()
{
    unload();

    mSurfaceTextureLock.lock();
        mSurfaceTexture = null;
    mSurfaceTextureLock.unlock();

    return true;
}

/** Loads a movie from a file in the assets folder */
@SuppressLint("NewApi")
public boolean load(String filename, MEDIA_TYPE requestedType,
    boolean playOnTextureImmediately, int seekPosition)
{
    // If the client requests that we should be able to play ON_TEXTURE,
    // then we need to create a MediaPlayer:

    boolean canBeOnTexture = false;
    boolean canBeFullscreen = false;

    boolean result = false;
    mMediaPlayerLock.lock();
    mSurfaceTextureLock.lock();

        // If the media has already been loaded then exit.
        // The client must first call unload() before calling load again:
        if ((mCurrentState == MEDIA_STATE.READY) || (mMediaPlayer != null))
        {
            DebugLog.LOGD("Already loaded");
        }
        else
        {
            if (((requestedType == MEDIA_TYPE.ON_TEXTURE) ||                        // If the client requests on texture only
                (requestedType == MEDIA_TYPE.ON_TEXTURE_FULLSCREEN)) &&             // or on texture with full screen
                (Build.VERSION.SDK_INT >= Build.VERSION_CODES.ICE_CREAM_SANDWICH))  // and this is an ICS device
            {
                if (mSurfaceTexture == null)
                {
                    DebugLog.LOGD("Can't load file to ON_TEXTURE because the Surface Texture is not ready");
                }
                else
                {
                    try
                    {
                        mMediaPlayer = new MediaPlayer();

                        // This example shows how to load the movie from the assets folder of the app
                        // However, if you would like to load the movie from the sdcard or from a network location
                        // simply comment the three lines below
                     AssetFileDescriptor afd = mParentActivity.getAssets().openFd(filename);                            mMediaPlayer.setDataSource(afd.getFileDescriptor(),afd.getStartOffset(),afd.getLength());
                        afd.close();
                        mMediaPlayer.prepareAsync();
                        mMediaPlayer.setOnPreparedListener(this);
                        mMediaPlayer.setOnBufferingUpdateListener(this);
                        mMediaPlayer.setOnCompletionListener(this);
                        mMediaPlayer.setOnErrorListener(this);
                        mMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);
                        mMediaPlayer.setSurface(new Surface(mSurfaceTexture));
                        canBeOnTexture = true;
                        mShouldPlayImmediately = playOnTextureImmediately;
                    }
                    catch (Exception e)
                    {
                        DebugLog.LOGE("Error while creating the MediaPlayer: " + e.toString());

                        mCurrentState = MEDIA_STATE.ERROR;
                        mMediaPlayerLock.unlock();
                        mSurfaceTextureLock.unlock();
                        return false;
                    }
                }
            }
            else
            {
                try
                {
                    // We need to verify that the file exists
                    AssetFileDescriptor afd = mParentActivity.getAssets().openFd(filename);
                    afd.close();
                }
                catch (Exception e)
                {
                    DebugLog.LOGD("File does not exist");
                    mCurrentState = MEDIA_STATE.ERROR;
                    mMediaPlayerLock.unlock();
                    mSurfaceTextureLock.unlock();
                    return false;
                }
            }

            // If the client requests that we should be able to play FULLSCREEN
            // then we need to create a FullscreenPlaybackActivity
            if ((requestedType == MEDIA_TYPE.FULLSCREEN) || (requestedType == MEDIA_TYPE.ON_TEXTURE_FULLSCREEN))
            {
                mPlayerHelperActivityIntent = new Intent(mParentActivity, FullscreenPlayback.class);
                mPlayerHelperActivityIntent.setAction(android.content.Intent.ACTION_VIEW);
                canBeFullscreen = true;
            }

            // We store the parameters for further use
            mMovieName = filename;
            mSeekPosition = seekPosition;

            if (canBeFullscreen && canBeOnTexture)  mVideoType = MEDIA_TYPE.ON_TEXTURE_FULLSCREEN;
            else if (canBeFullscreen) {             mVideoType = MEDIA_TYPE.FULLSCREEN; mCurrentState = MEDIA_STATE.READY; } // If it is pure fullscreen then we're ready otherwise we let the MediaPlayer load first
            else if (canBeOnTexture)                mVideoType = MEDIA_TYPE.ON_TEXTURE;
            else                                    mVideoType = MEDIA_TYPE.UNKNOWN;

            result = true;
        }

    mSurfaceTextureLock.unlock();
    mMediaPlayerLock.unlock();

    return result;
}

/** Unloads the currently loaded movie
    After this is called a new load() has to be invoked */
public boolean unload()
{
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null) {
            try
            {
                mMediaPlayer.stop();
            }
            catch (Exception e)
            {
                mMediaPlayerLock.unlock();
                DebugLog.LOGE("Could not start playback");
            }

            mMediaPlayer.release();
            mMediaPlayer = null;
        }
    mMediaPlayerLock.unlock();

    mCurrentState = MEDIA_STATE.NOT_READY;
    mVideoType = MEDIA_TYPE.UNKNOWN;
    return true;
}

/** Indicates whether the movie can be played on a texture */
public boolean isPlayableOnTexture()
{
    if ((mVideoType == MEDIA_TYPE.ON_TEXTURE) || (mVideoType == MEDIA_TYPE.ON_TEXTURE_FULLSCREEN))
        return true;

    return false;
}

/** Indicates whether the movie can be played fullscreen */
public boolean isPlayableFullscreen()
{
    if ((mVideoType == MEDIA_TYPE.FULLSCREEN) || (mVideoType == MEDIA_TYPE.ON_TEXTURE_FULLSCREEN))
        return true;

    return false;
}

/** Return the current status of the movie such as Playing, Paused or Not Ready */
MEDIA_STATE getStatus()
{
    return mCurrentState;
}

/** Returns the width of the video frame */
public int getVideoWidth()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot get the video width if it is not playable on texture");
        return -1;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot get the video width if it is not ready");
        return -1;
    }

    int result=-1;
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
            result = mMediaPlayer.getVideoWidth();
    mMediaPlayerLock.unlock();

    return result;
}

/** Returns the height of the video frame */
public int getVideoHeight()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot get the video height if it is not playable on texture");
        return -1;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot get the video height if it is not ready");
        return -1;
    }

    int result=-1;
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
            result = mMediaPlayer.getVideoHeight();
    mMediaPlayerLock.unlock();

    return result;
}

/** Returns the length of the current movie */
public float getLength()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot get the video length if it is not playable on texture");
        return -1;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot get the video length if it is not ready");
        return -1;
    }

    int result=-1;
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
            result = mMediaPlayer.getDuration()/1000;
    mMediaPlayerLock.unlock();

    return result;
}

/** Request a movie to be played either full screen or on texture and at a given position */
public boolean play(boolean fullScreen, int seekPosition)
{
    if (fullScreen)
    {
        // If the play request was for fullscreen playback
        // We check first whether this was requested upon load time
        if (!isPlayableFullscreen())
        {
            DebugLog.LOGD("Cannot play this video fullscreen, it was not requested on load");
            return false;
        }

        if (isPlayableOnTexture())
        {
            // If it can also play on texture then we forward information such as whether
            // it is currently playing (shouldPlayImmediately) and in which position
            // it was being played previously (currentSeekPosition)

            mMediaPlayerLock.lock();

                if (mMediaPlayer == null)
                {
                    mMediaPlayerLock.unlock();
                    return false;
                }

                if (mMediaPlayer.isPlaying())
                    mPlayerHelperActivityIntent.putExtra("shouldPlayImmediately", true);
                else
                    mPlayerHelperActivityIntent.putExtra("shouldPlayImmediately", false);

                try
                {
                    mMediaPlayer.pause();
                }
                catch (Exception e)
                {
                    mMediaPlayerLock.unlock();
                    DebugLog.LOGE("Could not pause playback");
                }

                if (seekPosition != CURRENT_POSITION)
                    mPlayerHelperActivityIntent.putExtra("currentSeekPosition", seekPosition);
                else
                    mPlayerHelperActivityIntent.putExtra("currentSeekPosition", mMediaPlayer.getCurrentPosition());

            mMediaPlayerLock.unlock();
        }
        else
        {
            // If it cannot play on texture then we set these values to default
            mPlayerHelperActivityIntent.putExtra("currentSeekPosition", 0);
            mPlayerHelperActivityIntent.putExtra("shouldPlayImmediately", true);

            if (seekPosition != CURRENT_POSITION)
                mPlayerHelperActivityIntent.putExtra("currentSeekPosition", seekPosition);
            else
                mPlayerHelperActivityIntent.putExtra("currentSeekPosition", 0);
        }

        // We must pass the current playback orientation of the activity
        // and the name of the movie currently being played
        mPlayerHelperActivityIntent.putExtra("requestedOrientation", mParentActivity.getRequestedOrientation());
        mPlayerHelperActivityIntent.putExtra("movieName", mMovieName);
        mParentActivity.startActivityForResult(mPlayerHelperActivityIntent,1);
        return true;
    }
    else
    {
        // If the client requested playback on texture
        // we must first verify that it is possible
        if (!isPlayableOnTexture())
        {
            DebugLog.LOGD("Cannot play this video on texture, it was either not requested on load or is not supported on this plattform");
            return false;
        }

        if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
        {
            DebugLog.LOGD("Cannot play this video if it is not ready");
            return false;
        }

        mMediaPlayerLock.lock();
            // If the client requests a given position
            if (seekPosition != CURRENT_POSITION)
            {
                try
                {
                    mMediaPlayer.seekTo(seekPosition);
                }
                catch (Exception e)
                {
                    mMediaPlayerLock.unlock();
                    DebugLog.LOGE("Could not seek to position");
                }
            }
            else    // If it had reached the end loop it back
            {
                if (mCurrentState == MEDIA_STATE.REACHED_END)
                {
                    try
                    {
                        mMediaPlayer.seekTo(0);
                    }
                    catch (Exception e)
                    {
                        mMediaPlayerLock.unlock();
                        DebugLog.LOGE("Could not seek to position");
                    }
                }
            }

            // Then simply start playing
            try
            {
                mMediaPlayer.start();
            }
            catch (Exception e)
            {
                mMediaPlayerLock.unlock();
                DebugLog.LOGE("Could not start playback");
            }
            mCurrentState = MEDIA_STATE.PLAYING;

        mMediaPlayerLock.unlock();

        return true;
    }
}

/** Pauses the current movie being played */
public boolean pause()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot pause this video since it is not on texture");
        return false;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot pause this video if it is not ready");
        return false;
    }

    boolean result = false;

    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
        {
            if (mMediaPlayer.isPlaying())
            {
                try
                {
                    mMediaPlayer.pause();
                }
                catch (Exception e)
                {
                    mMediaPlayerLock.unlock();
                    DebugLog.LOGE("Could not pause playback");
                }
                mCurrentState = MEDIA_STATE.PAUSED;
                result = true;
            }
        }
    mMediaPlayerLock.unlock();

    return result;
}

/** Stops the current movie being played */
public boolean stop()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot stop this video since it is not on texture");
        return false;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot stop this video if it is not ready");
        return false;
    }

    boolean result = false;

    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
        {
            mCurrentState = MEDIA_STATE.STOPPED;
            try
            {
                mMediaPlayer.stop();
            }
            catch (Exception e)
            {
                mMediaPlayerLock.unlock();
                DebugLog.LOGE("Could not stop playback");
            }

            result = true;
        }
    mMediaPlayerLock.unlock();

    return result;
}

/** Tells the VideoPlayerHelper to update the data from the video feed */
@SuppressLint("NewApi")
public byte updateVideoData()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot update the data of this video since it is not on texture");
        return -1;
    }

    byte result = -1;

    mSurfaceTextureLock.lock();
        if (mSurfaceTexture != null)
        {
            // Only request an update if currently playing
            if (mCurrentState == MEDIA_STATE.PLAYING)
                mSurfaceTexture.updateTexImage();

            result = mTextureID;
        }
    mSurfaceTextureLock.unlock();

    return result;
}

/** Moves the movie to the requested seek position */
public boolean seekTo(int position)
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot seek-to on this video since it is not on texture");
        return false;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot seek-to on this video if it is not ready");
        return false;
    }

    boolean result = false;
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
        {
            try
            {
                mMediaPlayer.seekTo(position);
            }
            catch (Exception e)
            {
                mMediaPlayerLock.unlock();
                DebugLog.LOGE("Could not seek to position");
            }
            result = true;
        }
    mMediaPlayerLock.unlock();

    return result;
}

/** Gets the current seek position */
public int getCurrentPosition()
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot get the current playback position of this video since it is not on texture");
        return -1;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot get the current playback position of this video if it is not ready");
        return -1;
    }

    int result = -1;
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
            result = mMediaPlayer.getCurrentPosition();
    mMediaPlayerLock.unlock();

    return result;
}

/** Sets the volume of the movie to the desired value */
public boolean setVolume(float value)
{
    if (!isPlayableOnTexture())
    {
        // DebugLog.LOGD("Cannot set the volume of this video since it is not on texture");
        return false;
    }

    if ((mCurrentState == MEDIA_STATE.NOT_READY) || (mCurrentState == MEDIA_STATE.ERROR))
    {
        // DebugLog.LOGD("Cannot set the volume of this video if it is not ready");
        return false;
    }

    boolean result = false;
    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
        {
            mMediaPlayer.setVolume(value, value);
            result = true;
        }
    mMediaPlayerLock.unlock();

    return result;
}

/**
 *  The following functions are specific to Android
 *  and will likely not be implemented on other platforms
 */

/** Gets the buffering percentage in case the movie is loaded from network */
public int getCurrentBufferingPercentage()
{
    return mCurrentBufferingPercentage;
}

/** Listener call for buffering */
public void onBufferingUpdate(MediaPlayer arg0, int arg1) {
    //DebugLog.LOGD("onBufferingUpdate " + arg1);

    mMediaPlayerLock.lock();
        if (mMediaPlayer != null)
        {
            if (arg0 == mMediaPlayer)
                mCurrentBufferingPercentage = arg1;
        }
    mMediaPlayerLock.unlock();
}

/** With this we can set the parent activity */
public void setActivity(Activity newActivity)
{
    mParentActivity = newActivity;
}

/** To set a value upon completion */
public void onCompletion(MediaPlayer arg0) {
    // Signal that the video finished playing
    mCurrentState = MEDIA_STATE.REACHED_END;
}

/** Used to set up the surface texture*/
@SuppressLint("NewApi")
public boolean setupSurfaceTexture(int nativeTextureID)
{
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.ICE_CREAM_SANDWICH)
    {
        // We create a surface texture where the video can be played
        // We have to give it a texture id of an already created (in native) // OpenGL texture
        mSurfaceTextureLock.lock();
            mSurfaceTexture = new SurfaceTexture(nativeTextureID);
            mTextureID = (byte)nativeTextureID;
        mSurfaceTextureLock.unlock();

        return true;
    }
    else
        return false;
}

@SuppressLint("NewApi")
public void getSurfaceTextureTransformMatrix(float []mtx)
{
    mSurfaceTextureLock.lock();
        if (mSurfaceTexture != null)
            mSurfaceTexture.getTransformMatrix(mtx);
    mSurfaceTextureLock.unlock();
}

/** This is called when the movie is ready for playback */
public void onPrepared(MediaPlayer mediaplayer)
{
    mCurrentState = MEDIA_STATE.READY;

    // If requested an immediate play
    if (mShouldPlayImmediately)
        play(false, mSeekPosition);

    mSeekPosition = 0;
}

public boolean onError(MediaPlayer mp, int what, int extra) {

    if (mp == mMediaPlayer)
    {
        String errorDescription;

        switch (what)
        {
            case MediaPlayer.MEDIA_ERROR_NOT_VALID_FOR_PROGRESSIVE_PLAYBACK:
                errorDescription = "The video is streamed and its container is not valid for progressive playback";
                break;
            case MediaPlayer.MEDIA_ERROR_SERVER_DIED:
                errorDescription = "Media server died";
                break;
            case MediaPlayer.MEDIA_ERROR_UNKNOWN:
                errorDescription = "Unspecified media player error";
                break;
            default:
                errorDescription = "Unknown error " + what;
        }

        DebugLog.LOGE("Error while opening the file. Unloading the media player (" + errorDescription + ", " + extra + ")");

        unload();

        mCurrentState = MEDIA_STATE.ERROR;

        return true;
    }

    return false;
}
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-02-01T08:23:34.617

在 VideoPlayback.java 中给你的 Urls 像这样

```
mMovieName[STONES] = "Url";
mMovieName[CHIPS] = "Url"; 
```

并在 VideoPlayerHelper.java 中像这样评论这些资产文件夹

```
/*AssetFileDescriptor afd = mParentActivity.getAssets()
                                .openFd(filename);
                        mMediaPlayer.setDataSource(afd.getFileDescriptor(),
                                afd.getStartOffset(), afd.getLength());
                        afd.close();*/ 
```

并这样做

```
mMediaPlayer.setDataSource(filename); 
```

# shell - 意外标记“完成”附近的 unix 语法错误

> ID：16010232
> 
> 赞同：0
> 
> 时间：2013-04-15T07:53:51.750
> 
> 标签：shell, unix, while-loop

这个脚本

```
#!/bin/sh
once=true

while $once do
stop & PID=$!
sleep 10M

if [$!=0]; then
start
break
else
kill $PID
fi

done 
```

给

```
./restart.sh: line 18: syntax error near unexpected token `done'
./restart.sh: line 18: `done' 
```

我不明白，它以前在另一个 unix 系统上运行过。我错过了什么吗？

编辑

`stop`和是分别简单地运行和`start`的函数。`stop.sh``start.sh`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:00:31.857

您似乎在第 4 行缺少分号。将其修改为

```
while ${once}; do 
```

应该修复它。

# extjs - 如何在 extjs 4 中覆盖 GroupTabPanel 宽度

> ID：16010234
> 
> 赞同：0
> 
> 时间：2013-04-15T07:54:03.917
> 
> 标签：extjs

我想覆盖 extjs 4 中的 Ext.ux.GroupTabPanel 宽度。

请问有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T10:33:06.920

标签栏宽度确实被硬编码为 150，所以你是对的，你必须覆盖或扩展类。

以下覆盖将选项添加到 GroupTabPanel 以执行您想要的操作，而不更改默认行为：

```
/**
 * This override adds the {@link #tabBarWidth} config option.
 */
// The name of the class is only used by the loader to find the file
Ext.define('MyApp.Ext.ux.GroupTabPanelWidthOption', {

    override: 'Ext.ux.GroupTabPanel'

    /**
     * Width of the tab bar.
     * 
     * @cfg {Integer}
     */
    ,tabBarWidth: 150

    ,initComponent: function() {
        this.callParent(arguments);
        this.down('treepanel').setWidth(this.tabBarWidth);
    }
}); 
```

当然，代码必须位于 Ext 的类加载器能够找到的文件中。

或者，如果您真的想更改**默认**宽度，最好扩展类而不是覆盖它，以避免破坏遗留代码或外部代码的任何风险（如果您认为这对您来说不是问题，您可以更改上面代码中的默认选项值）。

你会这样做：

```
/**
 * A {@link Ext.ux.GroupTabPanel} with configurable tab bar width.
 *
 * @xtype largegrouptabpanel
 */
Ext.define('MyApp.tab.GroupTabPanel', {
    extend: 'Ext.ux.GroupTabPanel'

    ,alias: ['widget.largegrouptabpanel']

    /**
     * Width of the tab bar.
     * 
     * @cfg {Integer}
     */
    ,tabBarWidth: 300 // Notice the changed default

    ,initComponent: function() {
        this.callParent(arguments);
        this.down('treepanel').setWidth(this.tabBarWidth);
    }
}); 
```

# c# - 在 asp.net mvc 项目中 NeutralResourcesLanguageAttribute 和 uiCulture 有什么区别

> ID：16010238
> 
> 赞同：7
> 
> 时间：2013-04-15T07:54:22.737
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-4

我创建了一个 asp.net MVC4 web 项目，它必须以一种以上的语言提供。

我想为此 Web 项目设置默认语言。经过一番研究，似乎可以在两个地方设置默认语言。

**AssemblyInfo 中的 NeutralResourcesLanguageAttribute**

```
[assembly: NeutralResourcesLanguageAttribute("en")] 
```

来自 msdn：[通知资源管理器应用的默认区域性。这个类不能被继承。](http://msdn.microsoft.com/en-us/library/system.resources.neutralresourceslanguageattribute.aspx)

**web.config 中的全球化 uiCultur**

```
 <system.web>
    <globalization uiCulture="en"/> 
```

From mdsn：[指定用于处理与区域设置相关的资源搜索的默认区域性。有关有效的文化字符串，请参阅 System.Globalization.CultureInfo 类。](http://msdn.microsoft.com/en-us/library/hy4kkhe0%28v=VS.71%29.aspx)

现在我的问题：

在 Web 项目（NeutralResourcesLanguageAttribute 或全球化 uiCultur）中设置默认语言的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-23T14:04:02.613

示例资源文件

*   Stuff.resx（包含英文，是默认资源文件）
*   Stuff.de.resx（包含德语）
*   Stuff.fr.resx（包含法语）

现在在 web.config 中使用

```
<globalization 
    enableClientBasedCulture="true" 
    uiCulture="auto:en" 
    culture="auto:en" /> 
```

这（“自动”）将让浏览器设置决定（德国浏览器获取德国资源等）

**但是**（在上面的例子中）如果瑞典语浏览器出现，它将默认为**en**，因为没有**se**（瑞典语）资源文件，并且将使用后备英语（“auto: **en** ”）uiCulture。

所以......然后：

```
[assembly: NeutralResourcesLanguageAttribute("en")] 
```

现在让应用程序将英语请求直接转到 default.resx，而无需首先查找**en** resx。

此外**，如果英文**浏览器请求它应该直接转到默认资源文件，而无需先尝试其他内容。所以 NeutralResourcesLanguageAttribute 设置也在这里发挥作用。该应用程序知道直接转到默认 resx。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T04:29:51.927

`NeutralResourcesLanguageAttribute`是让应用程序的资源管理器了解应用程序的默认文化和资源位置的一种方法。此属性可用于任何类型的 .NET 应用程序：桌面、Web、win8、wcf 等。

该`globalization`属性是让您的 Web 应用程序了解您的应用程序的默认文化的另一种方式。

请注意，它们的主要区别在于该`globalization`属性仅适用于 Web 应用程序，并且不允许您为资源指定不同的位置。

建议：对于 Web 项目，我会使用 config 属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-23T13:23:31.197

NeutralResourcesLanguage 属性通知 ResourceManager 用于显示程序集的中性区域性资源的语言。当它在与中性资源语言相同的文化中查找资源时，ResourceManager 会自动使用位于主程序集中的资源。

它这样做而不是搜索具有当前线程的当前用户界面文化的附属程序集。**NeutralResourcesLanguage 属性提高了您加载的第一个资源的查找性能，并且可以减少您的工作集。**

来自[http://technet.microsoft.com/en-us/subscriptions/bb385967.aspx](http://technet.microsoft.com/en-us/subscriptions/bb385967.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-18T04:19:40.373

根据[这篇](http://msdn.microsoft.com/en-us/library/bz9tc508%28v=vs.100%29.aspx)文章，Asp.Net Web 应用程序的重要设置位于 web.config 的“全球化”元素中。文章建议将文化和 uiCulture 设置为最佳实践。例如：

```
<globalization uiCulture="es" culture="es-MX" /> 
```

# ios - iOS：确保手动旋转后图像没有空白区域

> ID：16010241
> 
> 赞同：1
> 
> 时间：2013-04-15T07:54:37.383
> 
> 标签：ios, uiimageview, rotation, area

我有一个 UIImageView，其中可以使用 UIRotationGestureRecognizer 旋转图像。

基于 UIImageView 从图像中提取屏幕中间的帧。

为了更好地理解，这里有一个小截图：

[http://d.pr/i/hzhA](http://d.pr/i/hzhA)

如您所见，目标框架内的右边缘有一个空白区域。

问题是：如何检查目标图像中是否有空白区域，例如在目标框架的右上方区域（如您在屏幕截图中所见）。

任何帮助将不胜感激。

问候，

基督教

# c# - 验证名称范围重叠。

> ID：16010244
> 
> 赞同：-1
> 
> 时间：2013-04-15T07:54:41.977
> 
> 标签：c#, javascript, regex

我有这个要求，我束手无策。知道如何让它工作吗？

该字段接受单个值或范围作为过滤器的一部分。范围示例：“AD”，所有名称以 A、B、C 或 D 开头的客户名称；“SA-SP”，所有以 SA、SB、...、SP 开头的名称；“MILG”，名称以Milg开头的所有客户名称；

添加帐户名称时，范围不应重叠。示例：AQ、PZ 无效，因为 PQ 范围重叠。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:07:48.557

不是纯正则表达式。正则表达式无法检查匹配的字符是否比之前匹配的字符“小”。

我建议匹配模式，在 c# 中是这样的

```
^\p{L}+(-\p{L}+)?(?:,\s*\p{L}+(-\p{L}+)?)?$: 
```

在 Javascript 中替换`\p{L}`为`[A-Za-z]`

然后用“，”分割并检查是否

1.  所有找到的范围模式都是有效范围==>第一个范围的结尾在开始之后（即开始字符比结束字符“小”）。

2.  范围不重叠 ==> 第一个范围的开始在其他范围之外，并且如果第一个范围的结束也不在另一个范围内。

# c# - 在 C# 中与外部应用程序交互

> ID：16010249
> 
> 赞同：3
> 
> 时间：2013-04-15T07:54:54.300
> 
> 标签：c#

我在玩 Microsoft Spy++ 并注意到它不仅可以找到打开的进程，还可以找到每个进程中运行的各个组件。例如，这个应用程序允许您打开一个窗口，其中有一个用于 IP 地址的文本框和一个用于端口的文本框。Spy++ 可以检测到这些组件。知道 Spy++ 可以检测到它们，是否有可能在单独的 c# 应用程序中找到它们并继续修改它们的内容并以其他方式与程序交互？（例如在按钮上触发点击事件）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T07:57:49.190

这是可行的。尝试使用[PInvoke](http://www.pinvoke.net/) (InterOp) 或[AutomationElement](http://msdn.microsoft.com/en-us/library/system.windows.automation.automationelement.aspx)或[AutomationPeer](http://msdn.microsoft.com/en-us/library/system.windows.automation.peers.automationpeer.aspx)（用于 WPF 应用程序）来自动化您想做的所有事情。

您也可能希望尝试[Inspect](http://msdn.microsoft.com/en-us/library/windows/desktop/dd318521%28v=vs.85%29.aspx)和[UISpy](http://msdn.microsoft.com/en-us/library/ms727247%28v=vs.85%29.aspx)应用程序。

![在此处输入图像描述](https://i.stack.imgur.com/m1vPe.png)

![在此处输入图像描述](https://i.stack.imgur.com/9blLC.gif)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:12:02.603

自动化元素/对等是一种使用可访问性框架控制 UI 的非侵入式机制。Windows 的弱点之一是它缺乏对代码注入的防御。简单地说：

作为**特权**用户， - 您可以打开和修改正在运行的进程映像 - 使其加载您的 OWN DLL
- 使其运行您的 OWN 线程（可能侦听来自您的进程的命令）并且 - 允许您读取任何内存位想。

查看 detours ( [http://research.microsoft.com/en-us/projects/detours/](http://research.microsoft.com/en-us/projects/detours/) ) 了解如何使用托管进程进行操作。不幸的是，Microsoft 删除了运行时注入功能。

另请查看[http://msdn.microsoft.com/en-us/magazine/cc163617.aspx](http://msdn.microsoft.com/en-us/magazine/cc163617.aspx)以了解在托管世界中的操作（像 Snoop 之类的应用程序利用它）

# javascript - 将事件处理程序绑定到动态生成的 div 的问题

> ID：16010251
> 
> 赞同：1
> 
> 时间：2013-04-15T07:54:57.807
> 
> 标签：javascript, jquery, ajax

我在警报窗口的屏幕上显示单击的 div 的 id 时遇到问题。我非常有信心这是因为添加到页面的控件和事件处理程序的顺序，但是在尝试了不同的方法之后，我无法让它工作。不幸的是，由于 div 是从 ajax 获取请求创建的，因此我无法发布可重现的代码。

```
$(document).ready(function () {
    $.getJSON('ClientPortal/GetSkills', function (data) {
        var test = 'poo';
        $.each(data, function (data) {
            $('#flipContainer').append("<div class=flip id='" + this.Value + "' value='" + this.Value + "'>" + this.Text + "<//div>");
        })
    })
})

$(document).ready(function () {
    $(".flip").on('click', function () {
        alert($(this).attr("id"));
     })
}) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T07:57:38.647

试试这个 ：

```
$(document).ready(function () {
    $("#flipContainer").on("click", ".flip", function () {
        alert($(this).attr("id"));
     })
}) 
```

当 DOM 就绪事件触发时，您实际上必须将单击绑定基于现有元素...但是使用此语法，您可以将绑定委托给现有元素，但它适用于第一个元素中包含的另一个元素...请参阅`on`（对于“选择器”行）的 jQuery 文档：http: [//api.jquery.com/on/#on-events-selector-data-handlereventObject](http://api.jquery.com/on/#on-events-selector-data-handlereventObject)。

# java - GCM 服务器推送失败并出现 SSLException (Java)

> ID：16010252
> 
> 赞同：2
> 
> 时间：2013-04-15T07:54:59.713
> 
> 标签：java, ssl, bouncycastle, google-cloud-messaging

当我向 Google Cloud Messaging center 发送新的推送通知时，有时会出现问题。我正在使用[此处](https://code.google.com/p/gcm/source/browse/gcm-server/)提供的 Google 库。我使用的是 Tomcat 7.0.35 和 bouncycastle 1.46。该错误仅在某些时候发生，我无法预测何时。这是堆栈跟踪：

```
09:05:24 [pool-18-thread-1] Sender - IOException posting to GCM
javax.net.ssl.SSLException: java.lang.RuntimeException: Could not generate secret
        at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)
        at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1868)
        at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1826)
        at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1809)
        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1328)
        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1305)
        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:515)
        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)
        at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1090)
        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)
        at com.google.android.gcm.server.Sender.post(Sender.java:582)
        at com.google.android.gcm.server.Sender.sendNoRetry(Sender.java:420)
        at com.test.push.service.impl.PushServiceImpl$2.call(PushServiceImpl.java:606)
        at com.test.push.service.impl.PushServiceImpl$2.call(PushServiceImpl.java:599)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
        at java.util.concurrent.FutureTask.run(FutureTask.java:166)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
        at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.RuntimeException: Could not generate secret
        at sun.security.ssl.ECDHCrypt.getAgreedSecret(ECDHCrypt.java:99)
        at sun.security.ssl.ClientHandshaker.serverHelloDone(ClientHandshaker.java:930)
        at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:282)
        at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)
        at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)
        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:998)
        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1294)
        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1321)
        ... 14 more
Caused by: java.security.InvalidKeyException: ECDH key agreement requires ECPublicKey for doPhase
        at org.bouncycastle.jce.provider.asymmetric.ec.KeyAgreement.engineDoPhase(Unknown Source)
        at javax.crypto.KeyAgreement.doPhase(KeyAgreement.java:551)
        at sun.security.ssl.ECDHCrypt.getAgreedSecret(ECDHCrypt.java:96)
        ... 21 more 
```

有没有人经历过类似的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T07:15:03.620

我让应用程序在 2 个带有 Java 1.7 的 tomcats 7.0.x 上运行。该问题仅发生在其中一个上，并通过更改为 Java 1.6 得到解决

# android - 使用动画时更改视图的物理位置

> ID：16010253
> 
> 赞同：0
> 
> 时间：2013-04-15T07:55:07.647
> 
> 标签：android, animation

我为我使用的视图设置动画，就像按钮一样，我向上滑动它并在此处停止使用`slideUpIn.setFillAfter(true);`但是视图的物理位置不会改变，只会改变外观。所以我必须点击旧位置才能点击。周围有什么锻炼吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-15T13:10:58.950

尝试实现 AnimationListener 并调用

```
view.clearAnimation() 
```

在视图中

```
onAnimationEnd(Animation animation) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T07:57:34.190

您需要设置新`LayoutParams`的视图以正确的位置。

只是`LayoutParams`在动画之前查看。然后动画。然后添加到`LayoutParams`由动画字段编辑的 ant set this new `LayoutParams`to view。

# java - 在 Oracle DB 上执行 PreparedStatement 以插入 Blob 时出现 NullPointerException

> ID：16010257
> 
> 赞同：6
> 
> 时间：2013-04-15T07:55:24.203
> 
> 标签：java, oracle, prepared-statement, blob, sql-insert

有谁知道我在这里做错了什么？我正在尝试将一个 blob（包含一个 pdf 以防万一）连同一些附加信息一起插入到 oracle 数据库中。我正在使用 PreparedStatement

代码：

```
public void saveReportErgebnis(int reportId, Date erzeugung, int archiv,
        Blob pdf, String kommentar) throws Exception {

    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    byte[] tmp = new byte[(int) pdf.length()];
    if(kommentar == null){
        kommentar = "";
    }

    SimpleDateFormat erstellungSdf = new SimpleDateFormat(
            "yyyy-MM-dd HH:mm:ss");

    try {
    pdf.getBinaryStream().read(tmp);

    oracle.sql.BLOB oracleBlob = new oracle.sql.BLOB((OracleConnection) getConnection(), tmp);
    PreparedStatement prepStmt = getRTTDBHandler()
            .createPreparedStatement(
                    "INSERT INTO reportergebnis(report_id, erzeugung, archiv, pdf, kommentar) VALUES (?,?,?,?,?)");
    System.out.println("debug 2 oracle");
        prepStmt.setInt(1, reportId);
        prepStmt.setString(2, formatDateString(erstellungSdf.format(erzeugung)));
        prepStmt.setInt(3, archiv);
        prepStmt.setBlob(4, oracleBlob);
        prepStmt.setString(5, kommentar);
        prepStmt.execute();
    } catch (Exception e) {
        e.printStackTrace();
        loghandler.error(e.toString());
        throw e;
    }

} 
```

（formatCode 将 Date 放入正确的形式，例如返回：
date to_date('2013-04-15 09:34:38','yyyy-mm-dd hh24:mi:ss')

执行 PrepStatement 时，出现以下异常：

```
{java.lang.ArrayIndexOutOfBoundsException
        at java.lang.System.arraycopy(Native Method)
        at oracle.jdbc.driver.DatumBinder.bind(OraclePreparedStatement.java:18279)
        at oracle.jdbc.driver.OraclePreparedStatement.setupBindBuffers(OraclePreparedStatement.java:3137)
        at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2355)
        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3579)
        at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3685)
        at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1088)
        at com.nundp.mc.modules.regressionsTest.db.OracleRTTDBHandler.saveReportErgebnis(OracleRTTDBHandler.java:963)
        at com.nundp.mc.modules.regressionsTest.report.ReportController.executeReport(ReportController.java:237)
        at org.apache.jsp.jsp.modules.Testszenario.ReportHandler_jsp._jspService(ReportHandler_jsp.java:156)
        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:630)
        at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:535)
        at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:472)
        at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)
        at org.apache.jsp.jsp.McFrame_jsp._jspService(McFrame_jsp.java:284)
        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342)
        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
        at java.lang.Thread.run(Thread.java:619)} 
```

我正在使用 Oracle 数据库 10g 版本 10.2.0.3.0。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T14:06:13.953

在我的应用程序中，我使用 a`File`而不是 a`Blob`作为方法输入，并以这种方式完成了 BLOB 插入：

```
public void insertBlob(String filedesc, File file) {
    Connection con = DriverManager.getConnection(url, username, password);

    InputStream input = new FileInputStream(file);

    PreparedStatement pstmt = con.prepareStatement(
        "insert into schema.table values(?,?)");
    pstmt.setString(1, filedesc);
    pstmt.setBinaryStream(2, input);

    pstmt.execute();
} 
```

也许你会需要一些`try-catch`，但我希望这会对你有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T16:18:45.357

尝试在 oracle.sql.BLOB 上使用 *createTemporary(yourConnection, false, oracle.sql.BLOB.DURATION_CALL)* 函数来创建您的实例。之后，只需使用 setBytes(...) 设置其内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T16:34:14.827

一句话：`prepStmt.setDate(2, erzeugung);`更简单。

我本来期望一个简单的：

```
InputStream blobIS = pdf.getBinaryStream();
prepStmt.setBlob(4, blobIS, pdf.length());

... pdf.free(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T07:15:18.407

对于未来的搜索者，这就是我解决 blob 问题的方法：

```
public void saveReportErgebnis(int reportId, Date erzeugung, int archiv,
        Blob pdf, String kommentar) throws Exception {

    byte[] tmp = new byte[(int) pdf.length()];
    if (kommentar == null) {
        kommentar = "";
    }

    try {
        pdf.getBinaryStream().read(tmp);
        PreparedStatement prepStmt = getRTTDBHandler()
                .createPreparedStatement(
                        "INSERT INTO reportergebnis(report_id, erzeugung, archiv, pdf, kommentar) VALUES (?,?,?,?,?)");
        prepStmt.setInt(1, reportId);
        Timestamp ts = new Timestamp(erzeugung.getTime());
        prepStmt.setTimestamp(2, ts);
        prepStmt.setInt(3, archiv);
        prepStmt.setBytes(4, tmp);
        prepStmt.setString(5, "'" + kommentar + "'");
        prepStmt.execute();
    } catch (Exception e) {
        e.printStackTrace();
        loghandler.error(e.toString());
        throw e;
    }
} 
```

非常感谢大家的帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-17T07:13:27.460

我认为您必须在使用**setBlob()之前进行一些卫生检查**

1.  检查数据库表中的参数数量
2.  检查 blob 的位置。

但是，我宁愿建议您仅将 URl 存储在数据库中，而不是存储文件的二进制数据。

# wcf - 手动 WCF 服务设计

> ID：16010261
> 
> 赞同：0
> 
> 时间：2013-04-15T07:55:28.640
> 
> 标签：wcf, manual

![这是我的服务和域层的解决方案结构](https://i.stack.imgur.com/sPkBo.png)

首先请告诉我，就架构而言，这种解决方案结构是否良好？我有XXXX。在中心的商业项目。XXXX。合同项目有参考。XXXX。服务项目有合同和商业项目的参考。

现在我希望我的服务托管在灵活的环境中。这就是为什么我想将自定义托管逻辑放在 Service > Host 文件夹中。该项目还将具有自定义实例提供工具，以便可以使用一些参数构造函数创建我的服务类。另外我需要有不同类型的端点，所以我还有一个 Bindings 文件夹

这 3 个自定义的东西目前足以满足我的要求。

现在请为我提供一些 Bindings/Host/Instance 的示例代码片段

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:13:32.950

我不知道你是什么意思

> 我希望我的服务托管在灵活的环境中

和

> 我想将自定义托管逻辑放在 Service > Host 文件夹中

使用的托管容器类型取决于服务实现所引用的项目类型（Web、控制台、Windows 服务等）。这不是您想要捆绑到一个项目中的东西，您应该有一个不同的项目（或甚至是不同的解决方案）针对每个不同的服务实例。

这导致了您的通用解决方案结构。通过将合同作为项目放置在您的解决方案中，您将合同程序集构建（以及可能的部署）耦合到解决方案的构建和部署。理想情况下，合同应该在自己的解决方案中，以便可以与您的服务实施分开构建和管理它们。如果有时您需要维护合约的多个版本怎么办？

我认为您创建对任何人都可以是任何东西的通用服务的方法太复杂了。您应该让 WCF 为您处理此类工作，至少为您的每个服务实现创建一个不同的项目，并将绑定管理推迟到部署时。

此外，除非您正在编写自己的自定义绑定代码，否则您不需要用于绑定的文件夹。

当您交付端点时，可以（并且应该）在配置中定义绑定，并且在某种程度上，关于使用哪个传输绑定的决定应该是管理或管理而不是开发问题。

# jquery - 将 jQuery POST 发送到 Django 视图

> ID：16010262
> 
> 赞同：3
> 
> 时间：2013-04-15T07:55:31.757
> 
> 标签：jquery, python, ajax, django, csrf

我正在通过 HTTP 上的页面向 Django 视图发送 POST 请求- 我使用了[此处](https://docs.djangoproject.com/en/dev/ref/contrib/csrf/#ajax)`$.ajax()`提供的 CSRF 的 AJAX 片段。我可以像在 Firebug中一样查看 csrftoken cookie ；我想这就是为什么POST 请求的标头被发送为.`Secure``X-Csrftoken``null`

有什么方法可以让我真正访问这个 cookie 的值吗？我目前`POST`正在通过添加到我的视图来绕过 403 错误（因为使用空 CSRF 令牌标头发送）`@csrf_exempt`- 但希望有适当的 CSRF 方法。

**更新澄清：**我*没有*通过表格提交这些数据。我只是在页面上加载 javascript 文件（包含 AJAX 调用）时发送 POST。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:06:56.203

我为获得适当的 csrf 解决方案所做的是：

把我`{% csrf_token %}`的放在一个有意义的地方。

```
var csrfToken = $('input[name="csrfmiddlewaretoken"]').val();
$.ajax({
    url: $form.attr('action'),
    type: 'POST',
    data: postData,
    csrfmiddlewaretoken: csrfToken,
    dataType: 'json',
    success: function(data) { }
}); 
```

我一直在努力让这个工作：

```
var csrftoken = $.cookie('csrftoken');
$.ajaxSetup({
    beforeSend: function(xhr, settings) {
        xhr.setRequestHeader("X-CSRFToken", csrftoken);
    }
}); 
```

但到目前为止，第一个解决方案已被证明是最有效的解决方案。

# java - Hibernate 将数据保存到数据库 SQLException

> ID：16010266
> 
> 赞同：0
> 
> 时间：2013-04-15T07:55:40.077
> 
> 标签：java, hibernate, spring-mvc, sqlexception

当我尝试将数据保存到使用 Hibernate 进行持久性机制的数据库时，会引发以下错误。

```
java.sql.SQLException: Field 'user_id' doesn't have a default value
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)
    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)
    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2734)
    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)
    at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
    at com.sun.proxy.$Proxy76.executeUpdate(Unknown Source)
    at org.hibernate.id.IdentityGenerator$GetGeneratedKeysDelegate.executeAndExtract(IdentityGenerator.java:96)
    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:58)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2936)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3447)
    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:362)
    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:203)
    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:183)
    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:167)
    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:320)
    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:126)
    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:204)
    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:55)
    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:189)
    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:49)
    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:90)
    at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:756)
    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:748)
    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:744)
    at com.csu.library.mvc.dao.generic.GenericHibernateDao.save(GenericHibernateDao.java:73)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
    at com.sun.proxy.$Proxy58.save(Unknown Source)
    at com.csu.library.mvc.service.impl.UserServiceImpl.saveUser(UserServiceImpl.java:146)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
    at com.sun.proxy.$Proxy62.saveUser(Unknown Source)
    at com.csu.library.mvc.controller.UserController.saveNewUser(UserController.java:66)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)
    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)
    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)
    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:920)
    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:827)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:801)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:947)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1009)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
    at java.lang.Thread.run(Thread.java:680) 
```

我的用户类如下。它是其他 3 个类的超类。我正在尝试保存一个 Student 对象，它是 User 的子类。

```
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "discriminator",
                    discriminatorType = DiscriminatorType.STRING)
@DiscriminatorValue(value = "U")
public class User implements Serializable {

    private static final long serialVersionUID = 1L;
    private Integer userID;
    private String username;
    private String firstName;
    private String lastName;
    private Date DOB;
    private Address address;
    private String emailAddress;
    private String password;
    private Integer securityQuestion;
    private String securityAnswer;
    private Object photo;
    private Collection<Feedback> feedbackList = new TreeSet<Feedback>();

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name = "user_id", nullable = false)
    public Integer getUserID() {
        return userID;
    }

    public void setUserID(Integer userID) {
        this.userID = userID;
    }

    @Column(name = "user_name", unique = true)
    @NotBlank
    @Size(min = 5, max = 20, message = "User ID must be 5 to 20 characters long.")
    @Pattern(regexp = "^[a-zA-Z0-9]+$", message = "User ID must be alphanumeric.")
    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    @Column(name = "first_name")
    @NotBlank
    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    @Column(name = "last_name")
    @NotBlank
    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    @Column(name = "date_of_birth")
    @NotNull
    @DateTimeFormat(pattern = "dd/MM/yyyy", iso = ISO.DATE)
    public Date getDOB() {
        return DOB;
    }

    @Temporal(TemporalType.DATE)
    public void setDOB(Date dOB) {
        DOB = dOB;
    }

    @NotNull
    @Embedded
    public Address getAddress() {
        return address;
    }

    public void setAddress(Address address) {
        this.address = address;
    }

    @Column(name = "email_address", unique = true)
    @NotBlank
    @Email
    public String getEmailAddress() {
        return emailAddress;
    }

    public void setEmailAddress(String emailAddress) {
        this.emailAddress = emailAddress;
    }

    @Column(unique = true)
    @NotBlank
    @Size(min = 6, max = 20, message = "The password must be between 6 to 20 characters long.")
    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @Column(name = "security_question", unique = true)
    @NotNull
    public Integer getSecurityQuestion() {
        return securityQuestion;
    }

    public void setSecurityQuestion(Integer securityQuestion) {
        this.securityQuestion = securityQuestion;
    }

    @Column(name = "security_password", unique = true)
    @NotBlank
    public String getSecurityAnswer() {
        return securityAnswer;
    }

    public void setSecurityAnswer(String securityAnswer) {
        this.securityAnswer = securityAnswer;
    }

    @Lob    //Saves a large object
    //@NotNull
    public Object getPhoto() {
        return photo;
    }

    public void setPhoto(Object photo) {
        this.photo = photo;
    }

    @OneToMany(cascade=CascadeType.PERSIST)
    @JoinTable(name = "user_feedback",
                joinColumns = @JoinColumn(name = "user_id"),
                inverseJoinColumns = @JoinColumn(name = "feedback_id"))
    public Collection<Feedback> getFeedbackList() {
        return feedbackList;
    }

    public void setFeedbackList(Collection<Feedback> feedbackList) {
        this.feedbackList = feedbackList;
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:09:22.120

该错误意味着您正在插入一个没有`user_id`. `auto_inc`您可以像在数据库中一样配置此列，并使用`GenerationType.IDENTITY`而不是`GenerationType.AUTO`让数据库处理它并避免此错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T14:47:27.940

尝试删除`@Column(name = "user_id", nullable = false)`。它与`@Id`

# mysql - 在 mysqldump 中限制每次插入的行数

> ID：16010267
> 
> 赞同：4
> 
> 时间：2013-04-15T07:55:43.747
> 
> 标签：mysql, import, insert, export, mysqldump

我正在管道`mysqldump`输出槽`perl -pane 's{(VALUES |\),)\(}{$1\n (}smg'`，所以每个插入行都在新行上，如下所示：

```
INSERT INTO (col1, col2, ...) VALUES
  (value1, value2, ...),
  (value1, value2, ...),
  ... 
```

但是当我尝试导入这个文件时，那些换行符和空格会产生`MySQL has gone away`错误，因为数据包太大。

**我可以告诉`mysqldump`每个插入要转储多少行（或字节）吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-22T15:18:28.980

您可能会喜欢这个，它为每一行添加了插入：

mysqldump --扩展插入=假

来源： [MySQLDump 为每个数据行创建一条 INSERT 语句](https://stackoverflow.com/questions/12439353/mysqldump-one-insert-statement-for-each-data-row)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-15T07:59:20.257

使用 where 选项：

```
mysqldump --opt --where="1 limit 100" myDb 
```

# html - html 在 chrome 中工作，但不是 ie

> ID：16010269
> 
> 赞同：0
> 
> 时间：2013-04-15T07:55:51.213
> 
> 标签：html, internet-explorer, google-chrome

我的迷你网站在 chrome 中运行良好，但在 IE 中运行良好。有人能告诉我为什么没有吗？

```
<!DOCTYPE html>

<html>

  <head>

   <title>Steves Homepage</title>

    <style>

#left {

    float:left;
    margin:0;

    padding:0;

    width:33%;

;

}

#right {

    float:right;

    margin:0;

    padding:0;

    width:33%;

}

#middle {

    float:left;
    width:33%;
}

#wrapper {

    width:100%;

}

li {

    list-style-type: none;

}

          </style>

    </head>

    <body>

<div id="wrapper">

    <div id="left">

        <ul>

            <li><b>Useful Docs</b></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Passwords.txt">Passwords</a>
</li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Server Naming Convention.txt">Server Naming Convention</a></li>

            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Numbers.txt">Common Phone Numbers</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/GPO.txt">GPO</a></li>

            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Useful Emails.txt">Useful Emails</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/F5 Notes.one">F5 Notes</a></li>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <b>Spreadsheets</b>
            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/DSL_details/EMEA_DSL_Details.xls">DSL Details</a></li>
            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/EMEA-IP_ADDR_ALLOCATION_LISTS/EMEA-WAN-&-Remote_Site_Subnets-Loopbacks.xls">IP Spreadsheet</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Telephone Numbers.xls">Phone Numbers</a></li>

        </ul>

    </div>

    <div id="middle">

        <ul>

            <li><b>Configurations</b></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/MRV Config/MRV Config.txt">MRV Config</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/MRV Config/MRV Lines.txt">MRV Lines</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/DMVPN Config.txt">DMVPN Config</a>
</li>

            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/Remote Office Standards/New-PDU-Setup.doc">PDU</a>
</li>

            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/Remote Office Standards/UPS-Setup.doc">UPS</a>
</li>

            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <b>Websites</b>
            <li><a href="http://emea-orion">Orion</a>
</li>

            <li><a href="http://rhitime/planview">Timesheets</a>
</li>

            <li><a href="http://itportal/sites/ProdSvcs/ChangeSvcs/default.aspx">Change Management</a>
</li>

            <li><a href="http://onyx/oep_win/powerpage/application_main.asp?profileid=1&profilename=OEP%20User&ucfsafemode=0">Onyx</a>
</li>

            <li><a href="https://ra.rhi.net/">Juniper VPN</a></li>

        </ul>

    </div>

    <div id="right">

        <ul>

            <li><b>How To Guides</b>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Meeting Rooms.txt">Meeting Rooms</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Activations/Masergy Activations.txt">Activations</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Engineer Dispatch Guide.txt">Engineer Dispatch Guide</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Temperature Issues.txt">Temperature Issues</a></li>
            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/Remote Office Standards/Comms standards/RHI_EMEA_Comms_Standards_V5.2_Type_1.pdf">Comms Standards Normal</a></li>
            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/Remote Office Standards/Comms standards/RHI_EMEA_Comms_Standards_V5.2_Type_2.pdf">Comms Standards Large</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Orion Back End.txt">Orion Back End</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/Orion Front End.txt">Orion Front End</a></li>
            <li><a href="file:///c:/Users/stegar06/Desktop/Useful Stuff/New Site Deployment Checklist.txt">New Site Deployment Checklist</a></li>

            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <b>Useful Links</b>
            <li><a href="file://///birmingham-nas/nsd">Birmingham NAS</a></li>
            <li><a href="file://///C:/Users/stegar06/AppData/Roaming/VanDyke/Config">Secure CRT Files</a></li>
            <li><a href="file://///birmingham-nas/nsd/Engineering/Official_Structure/Technical Content & Software/Software/Cisco IOS">IOS Images</a></li>
            <li><a href="http://emea-pac:8083/proxy.pac">Proxy Pac File</a></li>

        </ul>

    </div>

</div>

</body>

</html> 
```

在 IE 中显示很好，但是当您单击任何链接时，它不会将您定向到文件。我不明白为什么，因为必须正确引用它们，因为 chrome 会加载链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:25:34.457

您可以使用相对于当前文件夹的相对地址。喜欢

对于类似文件夹中的文件

```
<a href ="my_file.html">Link</a> 
```

和文件夹，这是一个上层

```
<a href="../another_folder/my_file.html"></a> 
```

对此的好处是，如果您更改项目，则给定的绝对文件地址不起作用，但相对文件地址可以正常工作

# php - 根据用户的 IP 地址查找日出和日落时间

> ID：16010271
> 
> 赞同：0
> 
> 时间：2013-04-15T07:56:00.783
> 
> 标签：php, geolocation, location, sun

我想知道是否可以根据他们的 IP 地址找到某人的日出和日落时间。

例如，如果我的 IP 是 192.168.0.9。我住在 X 市，我的日出时间是 Y

如果这是可能的，请指出我如何做到这一点的正确方向。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:00:17.260

[date_sunrise()](http://php.net/manual/en/function.date-sunrise.php)和[date_sunset](http://www.php.net/manual/en/function.date-sunset.php)：您需要使用 GeoIP（或类似的）从用户的 IP 获取纬度/经度

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:15:48.813

一种方法是从 IP 地址收集邮政编码。互联网上有邮政编码数据库的 ip，其中一些作为服务提供。在网上搜索“ip 到邮政编码数据库”

从 ip 确定邮政编码后，您就可以从[Sunrise / Sunset Times](http://www.calendar-updates.com/sun.asp)等网站确定日出和日落。

[ip2location.com/developers](http://www.ip2location.com/developers)

# python - 在 X 轴上针对时间绘制数据

> ID：16010274
> 
> 赞同：0
> 
> 时间：2013-04-15T07:56:17.083
> 
> 标签：python, matplotlib, plot

我有一组 python 列表，我想用 matplotlib 绘制一个图表，时间列表绘制在 x 轴上，数据列表绘制在 y 轴上。

我编写的代码类似于：

```
time =['16:40:48','16:45:48','16:50:48','16:55:48','17:00:48','17:05:48','17:10:48']

data1 = ['702','683','696','666','688','694','699']

fig = plt.figure(figsize=(20.0, 16.0))

ax = fig.add_subplot(1,1,1)

dates = matplotlib.dates.date2num(time)

ax.plot_time(dates,data1)

ax.xaxis.set_major_locator( mdates.MinuteLocator(interval=5) )
ax.xaxis.set_major_formatter( mdates.DateFormatter("%H:%M:%S") )
plt.grid(True)

plt.show() 
```

但这给了我一个错误说：

*AttributeError：“str”对象没有属性“toordinal”*

我已经查看了有关类似问题的 somne​​ 帖子，但找不到我的问题所需的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:09:01.047

从文档中：

```
matplotlib.dates.date2num(d):
d is either a datetime instance or a sequence of datetimes. 
```

您必须首先将您的时间**字符串**转换为日期时间对象。无论如何，您不需要将它们转换为“nums”，只需绘制它们就可以了。

要创建日期时间，只需使用列表推导：

```
datetimes = [datetime.datetime.strptime(t, "%H:%M:%S") for t in time] 
```

接着

```
ax.plot(datetimes, data1) 
```

# kineticjs - 如何使用 kineticjs 将文本沿 Kinetic.TextPath 居中

> ID：16010275
> 
> 赞同：2
> 
> 时间：2013-04-15T07:56:25.670
> 
> 标签：kineticjs

`Kinetic.TextPath`有没有办法在 Kineticjs 中使用沿路径居中文本。

如果没有，有人知道解决方法吗？我已经探索了 svg textpath 选项，但不确定如何将此 svg 放入 kineticjs。

我也尝试使用头发空间手动间隔文本，但 kineticjs 似乎将字符转换为正常空间，例如。`text.setText(String.fromCharCode(8202))`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T14:39:33.947

**标准文本路径没有沿路径的文本居中**

我在这里检查了源代码：github.com/ericdrowell/KineticJS/blob/master/src/plugins/... API 中没有任何内容允许文本沿路径居中。看到您尝试了添加前导空格的不令人满意的方法。KineticJS 有一些非常好的 getXY-at-length-on-path 函数，您可以使用它们自己来完成。路径上的文本变得更加复杂，因为您必须考虑字符的旋转——“K”将根据曲线要求“K”旋转的方式在路径上占据不同的宽度。

在此处查看现有文本路径中的操作方式：[https ://github.com/ericdrowell/KineticJS/blob/master/src/plugins/TextPath.js](https://github.com/ericdrowell/KineticJS/blob/master/src/plugins/TextPath.js)

findSegmentToFitCharacter 函数（从第 177 行开始）最具指导意义。

**这些相关函数可用于编写以自己为中心的文本路径**

```
Kinetic.Path.getLineLength
Kinetic.Path.getPointOnEllipticalArc
Kinetic.Path.getPointOnCubicBezier
Kinetic.Path.getPointOnQuadraticBezier 
```

所以你需要做的是：

*   确定路径的中心 XY。
*   确定文本的中心（通过宽度或字符数）
*   从路径的中心点向前绘制文本的后半部分。
*   从路径的中心点向后绘制文本的前半部分（以相反的顺序）。

findSegmentToFitCharacter 很好地展示了如何以适当的角度旋转每个字符。

好编码！…如果你愿意分享你完成的结果，我会很感兴趣。

顺便说一句，每当我深入研究 KineticJS 源代码时，我总是对他们的代码印象深刻。

# jquery - 如何在选择下拉列表时显示 flexigrid？

> ID：16010279
> 
> 赞同：0
> 
> 时间：2013-04-15T07:56:53.317
> 
> 标签：jquery, flexigrid

嗨，我需要在下拉列表中选择选项时显示一个 flexigrid，我有三个选项，根据我需要显示适当的 felxigrid 的选择，我该怎么做？

```
$(document).ready(function () {
$('.group').hide();
$('#option1').show();
$('#selectMe').change(function () {
$('.group').hide();
$('#'+$(this).val()).show();

});
});

<div id="Dialog1" class="group">
<table id="InfoFlexGrid1">  
            </table></div>
<div id=Dialog2" class="group"><table id="InfoFlexGrid2">  
            </table></div>
<div id="Dialog3" class="group"><table id="InfoFlexGrid3">  
            </table></div>
$(document).ready(function(){
$("#cardInfoFlexGrid1").flexigrid({
   dataType: 'json',
  //url: "verification_rep.json",
colModel : [
    {display: 'Name', name : 'Name', width : 120,align: 'center',sortable : false },
    {display: 'Roll No', name : 'RollNo',   width : 150, align: 'center' },
    {display: 'Description', name : 'description',   width : 150, align: 'center', hide: false},
    {display: 'Remarks', name : 'remarks',   width : 250,align: 'center', hide: false},
    {display: 'Date', name : 'date',    width : 100,sortable : false, align: 'center'}  
   ],
  searchitems : [
  {display: 'Name', name : 'Name'},
  {display: 'Roll No', name : 'RollNo', isdefault: true}
  ],
  buttons:[ 
       {name: 'Add', bclass: 'add', onpress : test},
    {name: 'Update', bclass: 'update', onpress : test},
    {name: 'Delete', bclass: 'delete', onpress : test},
    {separator: true} 
  ],
  sortname: "Name",
    sortorder: "asc",
   title: 'Statistical Data Report',
   usepager: true,
   useRp: true,
  rp: 15,
   showTableToggleBtn: true,
  width: 400,
  height: 100, 
   singleSelect: true,
  nowrap: true    
  });

    rows = new Array();
    rows.push({cell: ['Sample1','Sample','Sample','2','Y' ] },
        {cell: ['Sample2','Sample','Sample','2', 'Y' ] }
            );

data = {
 total: 2,    
 page:1,
 rows: rows
  }

 });

    function test(com, grid) {
      //alert("Hello"); 
       if(com=='Update'){
        $('#message-dialog').dialog().dialog("open");

    $('#InfoFlexGrid1').flexAddData(data); 
        }else if(com=='Delete'){
        confirm('Delete ' + $('.trSelected', grid).length + ' items?')
        $('.trSelected', grid).remove();
    }else if(com=='save'){
        alert("Hello");
    //  $("#manualDatEntryDialog").dialog("open");  
    }
}   
 function procMe(com, grid) {
 var gridRows = $("#InfoFlexGrid1 tbody tr");
  gridRows.click(function(event){
  displaySelectedItem($(this).attr('id').substr(3));
  return false;
  });
 } 
```

像这样，我的页面中还有两个 flexigrid，我想在下拉列表中选择的每个选项上显示一个 flexigrid。对此有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T20:53:06.393

我为所有网格表使用了具有唯一 ID 的 div。

```
 <h1>Flexigrid Example Page</h1>

<div id="f1" style="margin-bottom:10px;">
<table id="flex1" style="display:none"></table>

</div>
<div id="f2"  style="margin-bottom:10px;">
<table id="flex2" style="display:none"></table>

</div>
<div id="f3"  style="margin-bottom:10px;">
<table id="flex3" style="display:none"></table>

</div> 
```

放置我想在事件中看到的选项

```
 <select name="options" onchange="javascript:showflexi(this.value)">
        <option value="0" selected="selected">Choose one</option>
        <option value="1">1st Table</option>
        <option value="2">2nd Table</option>
        <option value="3">3rd Table</option>
    </select> 
```

现在，我在里面添加了两行代码

```
$(document).ready(function()

//add class hideBody to hide the body content of the table
    $('.flexigrid').attr('class','flexigrid hideBody');/*as all the grids table get flexigrid class*/

//add class vsble to mark the content is invisible
    $('div.ptogtitle').attr('class', ' ptogtitle vsble');   //as all the toggle button get ptogtitle class 
```

现在我添加了 showflexi() 函数来执行选择表号的操作

```
function showflexi(val){

        $('.flexigrid').attr('class','flexigrid hideBody');
        $('div.ptogtitle').attr('class', ' ptogtitle vsble');  
        if(val!=0){
            $('#f'+val+' .flexigrid').removeClass('hideBody');
            $('div.ptogtitle').removeClass('vsble'); 
        }
} 
```

# facebook - AS3 Facebook移动应用请求

> ID：16010280
> 
> 赞同：0
> 
> 时间：2013-04-15T07:56:53.340
> 
> 标签：facebook, actionscript-3, facebook-graph-api, facebook-app-requests

我有这个使用 Facebook 应用程序的 adobe air 项目，我曾经向共享此应用程序的朋友墙发送提要，然后 Facebook 禁用了通过 Facebook 图表在您朋友的墙上发帖的功能，所以我现在需要使用“FacebookMobile”发送应用程序请求图书馆。

任何帮助，非常感谢。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T11:17:03.907

我太急于解决这个问题，还没有找到任何关于 flex 的解决方案，所以我在 iOS 上创建了一个关于 Facebook 的原生扩展并在我的项目中使用它，所以现在我可以打开一个包含应用程序请求和定义的视图发送给的用户。

谢谢

# javascript - 从一个类的另一个类创建一个变量

> ID：16010281
> 
> 赞同：2
> 
> 时间：2013-04-15T07:57:00.427
> 
> 标签：javascript, jquery

试图从 .class 的第二个类创建一个变量。

```
var post_id = $('.divclass').hasClass('');

$(document).ready(function(){
    $(post_id).click(function() {
        $(this).fadeIn(1000);
    });
}); 
```

我知道这是错误的，但也许这里有人可以帮助理解我正在尝试做的事情。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:03:38.413

所以你需要做的是选择你正在做的不止一个类的项目：

```
var post_id = $('.divclass').attr('class');
//Now spilt the string by all of the spaces
post_id.split(" ");
//now refer to the string as an array
//lets get the second one.
post_id[1] 
```

所以对于你的情况

```
//Added selector in this case a class with '.' this can be changed to be appropriate i.e '#' for an ID
$('.'+post_id[1]).click(function() {
    $(this).fadeIn(1000);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:03:58.937

你`post_id`的是一个布尔值。您正在尝试将事件处理程序附加到布尔值，而应该将其附加到 DOM 元素。不要使用 has class，而是检索 class 属性：

```
var post_id = $('.divclass').attr('class');
post_id = post_id.replace('divclass', ''); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:05:26.027

如果您有 2 个如下课程：

```
<div id="trash" class="a b">
    <p>sample</p>
</div> 
```

然后你可以使用 jQuery 选择器如下：

```
$(document).ready(function(){
    $('.a.b').click(function() {
        $(this).fadeIn(1000);
    });
}); 
```

我希望这对你有帮助。

# jquery - 回声输入项

> ID：16010282
> 
> 赞同：1
> 
> 时间：2013-04-15T07:57:01.457
> 
> 标签：jquery, forms, input

我有一组用于下订单的相当直接的输入。

基本上，它会计算它们的数量 * 价格。

但是，在提交按钮附近的底部，我想显示总价以及他们订购的商品。有没有一种使用 JQuery 或类似方法的方法，我基本上可以回显出他们在数量字段中放置数字的项目的相关 h6 内容？

我的总成本已经很好了。

```
<tr>
    <td>
        <h6>Title</h6>Text.
    </td>
    <td id="price_item_1" class="menuprice">$PRICE</td>
    <td class="quantitynum">
        <input type="text" name="qty_item_1" id="qty_item_1" value="0" />
    </td>
    <td id="total_item_1" class="runningtl"></td>
</tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:07:17.503

假设您在每次数量值更改时计算总计，您可以在计算总计的函数内部检查数量值并采取相应措施：

```
if (quantity > 0)
   $("h6").show(); // assuming there is only one h6 in the page, otherwise you have to add ids to each h6
else
   $("h6").hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-17T04:14:36.810

我会提出一个建议，而不是为每个输入查看不同的元素，而是将标题文本存储为`input`自身的属性。该`title`属性非常适合此。

考虑到这一点，以下代码片段应该可以工作：

# HTML：

*为了清楚起见，略微简化。我在表单、输入和摘要元素中添加了类。*

```
<form class="order-form">
  <table>
    <tr>
      <td><input type="number" class="quantity" title="Product 1"/></td>
    </tr>
    <tr>
      <td><input type="number" class="quantity" title="Product 2"/></td>
    </tr>
    <tr>
      <td><input type="number" class="quantity" title="Product 3"/></td>
    </tr>
  </table>
  <div class="order-form-summary"></div>
</form> 
```

# Javascript：

```
$(function(){
  // Find all of the DOM elements we're interested in:
  var form = $('form.order-form'),
      output = form.find('.order-form-summary'),
      inputs = form.find('input.quantity');

  // Bind a custom event handler to the form, that collects the titles from the
  // inputs with a value > 0
  form.bind('updateSummary', function(){

    // Collect the titles into an array
    var summaries = $.map(inputs, function(e){
      var input = $(e);
      if (parseInt(input.val()) > 0){
        return input.attr('title');
      }
    });

    // Update the output element's HTML with the array, joined to a string with commas.
    output.html(summaries.join(', '));
  });

  // Fire the update event whenever chance, key-up or blur occurs on any input
  inputs.on('change keyup blur', function(){form.trigger('updateSummary')});

  // Fire it on load to get the correct starting values (in case any inputs are already filled)
  form.trigger('updateSummary');
}); 
```

这段代码可以压缩，但我的目标是让它可读。这是一个例子：[https ://jsfiddle.net/ejwLy5x8/](https://jsfiddle.net/ejwLy5x8/)

# php - 如何从 smarty 中的关联数组访问特定键？

> ID：16010286
> 
> 赞同：0
> 
> 时间：2013-04-15T07:57:06.730
> 
> 标签：php, smarty

我有一个关联数组，它分配给 smarty 模板。在那里，我不明白如何访问一个特定的密钥。我对此进行了研究，但无法获得具体的解决方案。场景如下：

我的 php 数组命名`$all_class_subjects`如下：

```
Array
(
    [0] => Array
        (
            [class_id] => 1
            [class_name] => I
            [I] => Array
                (
                    [cs_map_id] => 
                    [cs_class_id] => 
                    [cs_subject_id] => 
                    [subjects] => 
                )

        )

    [1] => Array
        (
            [class_id] => 2
            [class_name] => II
            [II] => Array
                (
                    [cs_map_id] => 
                    [cs_class_id] => 
                    [cs_subject_id] => 
                    [subjects] => 
                )

        )

    [2] => Array
        (
            [class_id] => 3
            [class_name] => III
            [III] => Array
                (
                    [cs_map_id] => 
                    [cs_class_id] => 
                    [cs_subject_id] => 
                    [subjects] => 
                )

        )

    [3] => Array
        (
            [class_id] => 4
            [class_name] => IV
            [IV] => Array
                (
                    [cs_map_id] => 
                    [cs_class_id] => 
                    [cs_subject_id] => 
                    [subjects] => 
                )

        )

    [4] => Array
        (
            [class_id] => 5
            [class_name] => V
            [V] => Array
                (
                    [cs_map_id] => 1
                    [cs_class_id] => 5
                    [cs_subject_id] => 3
                    [subjects] => Array
                        (
                            [subject_name] => Mathematics
                        )

                )

        )

    [5] => Array
        (
            [class_id] => 6
            [class_name] => VI
            [VI] => Array
                (
                    [cs_map_id] => 2
                    [cs_class_id] => 6
                    [cs_subject_id] => 4
                    [subjects] => Array
                        (
                            [subject_name] => Biology
                        )

                )

        )

) 
```

现在我想在 smarty 模板中打印这个数组的值。代码片段如下 它可能有一些 HTML 错误：

```
{if $all_class_subjects}
         {foreach from=$all_class_subjects item=class_subject_data}
       <tr>
           <td width="20%">{$class_subject_data.class_name|capitalize}</td>
           <td width="40%">
            {foreach from=class_subject_data item=subject}

            {if $subject.cls_sub_subject_name} 
             {$class_subject_data.cs_subject_id} 
```

我的问题是我想检查数组是否

```
[I] => Array
            (
                [cs_map_id] => 
                [cs_class_id] => 
                [cs_subject_id] => 
                [subjects] => 
            ) 
```

是否为空。您可以看到除了最后两个元素之外，所有数组元素的这些字段都为空。所以简而言之，我的问题是如何访问包含上述字段的内部数组作为数组的索引，即键（I、II、III、IV 等）正在改变？返回数组的 PHP 函数如下：

```
function GetAllClassSubjects( $cur_page, $sort_col_id, $desc_or_asc, $request) { 
        global $grid;

      $grid->mSqlArr['fields']  = " classes.class_id, classes.class_name" ;
          $grid->mSqlArr['tables']  =   TBL_CLASSES." AS classes ";
          $grid->mSqlArr['orderby'] = "classes.class_order";

          $grid->mSqlArr['where'] = "";

          $grid->mCurPage    = $cur_page;
          $grid->mRecPerPage = REC_PER_PAGE; //default is 20
          $grid->mSortColumns->mColsArr = array('class_id');
          $grid->mSortColumns->mDefaultOrderStr = "";
          $grid->mSortColumns->mCurColNo        = $sort_col_id;
          $grid->mSortColumns->mCurSortOrder    = "DESC";
          $class_data = $grid->GetData();

          //print_p($class_data);
      $grid->mSqlArr['fields']  = " class_subject_mapping.cs_map_id, class_subject_mapping.cs_class_id, class_subject_mapping.cs_subject_id" ;
          $grid->mSqlArr['tables']  =   TBL_CLASS_SUBJECT_MAPPING." AS class_subject_mapping ";
          $grid->mSqlArr['orderby'] = "";

          $grid->mSqlArr['where'] = "";

            $grid->mCurPage    = $cur_page;
            $grid->mRecPerPage = REC_PER_PAGE; //default is 20
            $grid->mSortColumns->mColsArr = array('cs_map_id');
            $grid->mSortColumns->mDefaultOrderStr = "";
            $grid->mSortColumns->mCurColNo        = $sort_col_id;
            $grid->mSortColumns->mCurSortOrder    = "DESC";
            $mapping_data = $grid->GetData();
            //print_p($mapping_data);   

      foreach($class_data as $class)
      {
        $flag = 0;
        $class_id = $class['class_id'];
        $class_name = $class['class_name'];

            foreach($mapping_data as $class_subject)
            {
                $cs_map_id = $class_subject['cs_map_id'];
                $cs_class_id = $class_subject['cs_class_id'];
                $cs_subject_id = $class_subject['cs_subject_id'];

                    if($class_id == $cs_class_id)
                    {
                            $flag = 1;
                            $class_data[$class_id-1][$class_name]['cs_map_id'] = $cs_map_id;
                            $class_data[$class_id-1][$class_name]['cs_class_id'] = $cs_class_id;
                            $class_data[$class_id-1][$class_name]['cs_subject_id'] = $cs_subject_id;

                            $sql  = " SELECT subject_name";
                                    $sql .= " FROM ".TBL_SUBJECTS." AS subjects";
                                    $sql .= " WHERE subjects.subject_id = ".$cs_subject_id;
                                    $sql .= " order by subject_order";

                                    $this->mDb->Query( $sql);
                                    $class_subjects_data = $this->mDb->FetchArray();
                                    //print_p($class_subjects_data);

                                    foreach($class_subjects_data as $sub)
                                    {
                                        $class_data[$class_id-1][$class_name]['subjects'] = $sub;
                                    }
                            }                           
                    }
                    if($flag == 0)
                    {
                        $class_data[$class_id-1][$class_name]['cs_map_id'] = "";
                $class_data[$class_id-1][$class_name]['cs_class_id'] = "";
                $class_data[$class_id-1][$class_name]['cs_subject_id'] = "";
                $class_data[$class_id-1][$class_name]['subjects'] = "";

                    }   
      }
      print_p($class_data);

        //ksort($cls_sub_data[$cs_map_id]); 

    //print_p($cls_sub_data);
    list( $sort_url_param, $sort_col_array, $pagination_array ) =
        $grid->GetUrlParam( PAGE_OFFSET, PHP_SELF."?op=".$query_string."&", "col", 'order', 'page' );

        return array($class_data, $sort_url_param, $sort_col_array, $pagination_array );
} 
```

请帮我解决这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:49:33.427

在你的外表里`{foreach}`，`{$class_subject_data[$class_subject_data.class_name]}`会给你想要的

```
Array(
    [cs_map_id] => 
    [cs_class_id] => 
    [cs_subject_id] => 
    [subjects] => 
) 
```

对于当前`item=class_subject_data`

试试这个代码，它*应该*打印所有你想要的数组。

```
{if $all_class_subjects}
    {foreach from=$all_class_subjects item=class_subject_data}
        <tr>
            <td width="20%">{$class_subject_data.class_name|capitalize}</td>
            <td width="40%">
                {assign var='desired_array' value=$class_subject_data[$class_subject_data.class_name]}

                <pre>{$desired_array|@print_r:1}</pre>
            </td>
        </tr>
    {/foreach}
 {/if} 
```

## 更新

假设上面的代码为您打印所需的数组，`{$desired_array}`则为

```
array(
    [cs_map_id] => 
    [cs_class_id] => 
    [cs_subject_id] => 
    [subjects] =>
) 
```

所以它包含键，例如`{desired_array.cs_map_id}`，`{desired_array.cs_class_id}`等

# ssl - 无法创建 SSL/TLS 安全通道：客户端证书、TomCat 和 .Net

> ID：16010288
> 
> 赞同：1
> 
> 时间：2013-04-15T07:57:17.740
> 
> 标签：ssl, .net-4.0, client-certificates

我遇到了许多人报告的客户端证书问题，但我见过的解决方案都没有为我工作。我有一个在 VB.Net 中编写的客户端（使用 VS 2010 和 .Net 框架 4.0），它需要连接到在 Apache Tomcat/5.0.27 上运行的 Web 服务。当不需要客户端证书时，它可以与 SSL 一起正常工作，但一旦需要客户端证书，它就会失败并显示“请求已中止：无法创建 SSL/TLS 安全通道”</p>

在启用 SSL 时使用 Internet Explorer（8、9 和 10，在 XP 和 Win7x32 上）进行测试（通过在 system.xml 文件中设置 sslProtocol="TLS" secure="true" scheme="https" 在 Tomcat 上进行配置） ，但是客户端证书被禁用（clientAuth="false"），在客户端PC上安装CA证书和服务器证书后，IE很高兴。（如果没有证书，IE 会报错，但你可以告诉它忽略警告。安装证书后，它会在没有任何警告的情况下连接。）当需要客户端证书时（clientAuth="true"），IE 将无法连接。在我导入客户端证书文件后，它仍然无法连接。IE 显示客户端文件已安装，并显示证书正常且信任 CA，但它显示在似乎是错误的商店：中间证书颁发机构，并且客户端身份验证未在用途下打勾。MMC 证书管理单元显示客户端证书位于个人 - 当前用户存储中。

该证书是由 Web 服务的所有者颁发给我们的，因此理论上它必须有效。属性看起来不错，目的显示“所有应用程序策略”。

我需要让它与我的 .Net 客户端一起使用。我使用 Web 引用来创建到 Web 服务的连接。我设置 PreaAuthenticate=True，并将证书文件附加到 Web 参考，并且可以在 IDE 中看到它附加。使用网络监视器，我可以看到服务器将证书发送给客户端（在两个大数据包中），但客户端似乎没有将任何证书发送回服务器。

我尝试了各种建议，例如设置 ServicePointManager.Expect100Continue = true 和 ServicePointManager.SecurityProtocol = SecurityProtocolType.Ssl3，但这并没有什么区别。

我已经禁用了防火墙和代理服务器，所以不应该阻止流量。

我会很感激任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:21:14.190

好的，事实证明他们提供的证书有问题，或者它与客户端不兼容。我找到了有关使用 OpenSsl 创建证书的说明，它适用于他们的服务器。他们使用 java 的 keytool 来制作证书，所以要么它创建了一个不兼容的证书，要么他们没有使用正确的程序，而我使用 OpenSsl 的程序是正确的。

OpenSsl 中的步骤是创建一个私钥文件（client.key），创建一个证书请求（client.req），签署密钥（client.pem）然后导出它（client.pfx）。

# android - 更快地运行 android 模拟器 - nexus 4 配置

> ID：16010295
> 
> 赞同：2
> 
> 时间：2013-04-15T07:57:41.300
> 
> 标签：android, eclipse, emulation

我发现了一些如何更快地运行 android 模拟器的想法，但对于 Nexus 4 配置，它仍然无法正常工作。

我的电脑：AMD Phenom II X4 955 (4 x 3,20Ghz) 4 GB 内存 ATI 5750 Windows 7 64bit

虚拟设备配置：名称：Nexus 4 ;) 设备：4.65" 720p (720 x 1280: xhdpi) 目标：Android 4.2.2 皮肤：显示带有硬件控制的皮肤 - 已检查 RAM：756 VM 堆：64 内部存储：200MiB

PC 更新速度非常快，但没有 SP1 - 因为在 SP1 之后，一些游戏和应用程序对我来说比 SP1 之前运行得更慢。

所以，主要问题是：模拟器一直在“滞后”工作。例如：我单击“菜单”按钮，然后等待 3 秒查看应用程序列表。模拟器上的一切都是这样工作的。做好的测试是很累的。

你有什么想法我该如何改进它？

最佳 Mob86。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:52:44.820

模拟器在高端机器上以可用的速度运行，但在较旧的机器上略有延迟。无需在虚拟机上运行 AVD。但这种方式似乎更快。模拟器需要很长时间才能启动，但您不必在测试后关闭它，原因是它正在启动 android 操作系统，就像启动 windows 一样。

你可以做什么？

*   禁用启动动画（加快启动时间）
*   使用主机 GPU（与 nvidia 卡一起使用，使用 GPU 进行渲染）
*   快照（从上次启动的快照启动）

更多信息可以在[这里](https://stackoverflow.com/questions/1968170/can-i-tweak-my-android-emulator-to-make-it-fast)找到。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-02T11:02:20.463

使用此 cmd 行启动模拟器

**模拟器 -no-boot-anim @your_emulator**

它减少了 50% 的启动时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-16T14:00:02.583

我正在使用：[http](http://www.genymotion.com/) ://www.genymotion.com/这是基于`VirtualBox`nexus 4 并且运行速度更快的虚拟 android 设备。

# html - Html 表单标签换行符

> ID：16010296
> 
> 赞同：2
> 
> 时间：2013-04-15T07:57:42.670
> 
> 标签：html, css, forms, twitter-bootstrap

我需要一个 twitter 引导表单，输入文本框在同一行，但它的标签必须在输入框的顶部。

到目前为止，我有：

```
<form action="#">
  <label for="city">City</label>
  <input type="text" id="city"/>
  <label for="street">Street</label>
  <input type="text" id="street"/>
</form> 
```

[http://jsfiddle.net/A8RaG/](http://jsfiddle.net/A8RaG/)

所以我需要在同一行输入，标签必须在每个输入的顶部。

我怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:03:22.830

另一种解决方案是在每个标签/输入组合周围放置一个 div 并将 css 设置为浮动左侧 HTML

```
<form action="#">
    <div>
        <label for="city">City</label>
        <input type="text" id="city"/>
    </div>
    <div>
        <label for="street">Street</label>
        <input type="text" id="street"/>
    </div>
</form> 
```

CSS

```
form div{
   float: left
} 
```

[jsFiddle](http://jsfiddle.net/A8RaG/6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T07:58:56.380

您可以在每个标签和块周围放置一个 div，并在 css 中将此 div 放入 inline-bloc

像 ：

```
<form action="#">
 <div class = "css">

 <label for="city">City</label>
  <input type="text" id="city"/>
   </div><div class="css">
  <label for="street">Street</label>
  <input type="text" id="street"/>
   </div>
</form> 
```

在 CSS 中：

```
.css{
    display : inline-block;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:13:28.510

你也可以只使用`<br />`. 它也适用于表单。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-27T17:48:28.940

如果你使用 Bootstrap 你需要使用 bootstrap 的 css ！采用`class="form-horizontal" or class="form-inline"`

您可以在不添加 css 的情况下尝试此操作：

```
<form action="#" class="form-horizontal">
        <label for="city">City</label>
        <input type="text" id="city"/>
        <label for="street">Street</label>
        <input type="text" id="street"/>
</form> 
```

简单不？

# java - 在两个类之间传递字符串数据的问题

> ID：16010299
> 
> 赞同：0
> 
> 时间：2013-04-15T07:58:07.020
> 
> 标签：java, android, string, arrays

我需要与我的服务类共享某些字符串，但是当我尝试这样做时，在尝试使用以下方法实现字符串数组时出现两个错误，指出“无法解析 myWifiInfo”（如下面的源代码所示 - 和下方链接）：

[在android应用程序中的两个类之间传递字符串数组](https://stackoverflow.com/questions/5217153/passing-string-array-between-two-class-in-android-application)

有什么建议么？（我一直在非常努力地将这些数据传递给我正在运行的服务器 - 我觉得我快到了 - 我只是无法弄清楚为什么服务类无法从 Main.java 中找到字符串）

主.java：

```
 Intent intent = new Intent(Main.this, Service_class.class);
        String[] myStrings = new String[] {"myWifiInfo.getRssi()", "myWifiInfo.getLinkSpeed()"};
        intent.putExtra("strings", myStrings);
        startActivity(intent); 
```

服务类.java：

```
 Intent intent = getIntent();
        String[] myStrings = intent.getStringArrayExtra("strings"); 
```

Main.java 完整源代码：

```
import java.util.Calendar;
import com.parse.ParseAnalytics;
import com.parse.ParseObject;
import android.app.Activity;
import android.app.AlarmManager;
import android.app.AlertDialog;
import android.app.PendingIntent;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.TrafficStats;
import android.net.wifi.WifiInfo;
import android.net.wifi.WifiManager;
import android.os.Bundle;
import android.os.Handler;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.Chronometer;
import android.widget.TextView;

public class Main extends Activity {    

TextView textSsid, textSpeed, textRssi;

public Handler mHandler = new Handler();
public long mStartRX = 0;
public long mStartTX = 0;
public long txBytes;
public static String TAG="TEST TAG";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Start service using AlarmManager

    Calendar cal = Calendar.getInstance();
    cal.add(Calendar.SECOND, 10);

    Intent intent = new Intent(Main.this, Service_class.class);
    String[] myStrings = new String[] {"myWifiInfo.getRssi()", "myWifiInfo.getLinkSpeed()"};
    intent.putExtra("strings", myStrings);
    startActivity(intent);

    PendingIntent pintent = PendingIntent.getService(Main.this, 0, intent,
            0);
    AlarmManager alarm = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
    alarm.setRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),
            12 * 1000, pintent);

    // click listener for the button to start service
    Button btnStart = (Button) findViewById(R.id.button1);
    btnStart.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            startService(new Intent(getBaseContext(), Service_class.class));

        }
    });

    // click listener for the button to stop service
    Button btnStop = (Button) findViewById(R.id.button2);
    btnStop.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            stopService(new Intent(getBaseContext(), Service_class.class));
        }
    });

        textSsid = (TextView) findViewById(R.id.Ssid);
        textSpeed = (TextView) findViewById(R.id.Speed);
        textRssi = (TextView) findViewById(R.id.Rssi);
        Long.toString(mStartTX);
        Long.toString(mStartRX);
        Long.toString(txBytes);

        ParseAnalytics.trackAppOpened(getIntent());

         mStartRX = TrafficStats.getTotalRxBytes();
            mStartTX = TrafficStats.getTotalTxBytes();
            if (mStartRX == TrafficStats.UNSUPPORTED || mStartTX == TrafficStats.UNSUPPORTED) {
                AlertDialog.Builder alert = new AlertDialog.Builder(this);
                alert.setTitle("Uh Oh!");
                alert.setMessage("Your device does not support traffic stat monitoring.");
                alert.show();
            } else {
                mHandler.postDelayed(mRunnable, 1000);
            }}

        private final Runnable mRunnable = new Runnable() {
            public void run() {

                TextView RX = (TextView)findViewById(R.id.RX);
                TextView TX = (TextView)findViewById(R.id.TX);
                long rxBytes = TrafficStats.getTotalRxBytes()- mStartRX;
                RX.setText(Long.toString(rxBytes));
                long txBytes = TrafficStats.getTotalTxBytes()- mStartTX;
                TX.setText(Long.toString(txBytes));
                mHandler.postDelayed(mRunnable, 1000);

                final Chronometer myChronometer = (Chronometer)findViewById(R.id.chronometer);
                myChronometer.start();

                DisplayWifiState();
                this.registerReceiver(this.myWifiReceiver, new IntentFilter(
                        ConnectivityManager.CONNECTIVITY_ACTION));

            }

            private void registerReceiver(BroadcastReceiver myWifiReceiver2,
                    IntentFilter intentFilter) {
                // TODO Auto-generated method stub

            }

            private BroadcastReceiver myWifiReceiver = new BroadcastReceiver() {

                @Override
                public void onReceive(Context arg0, Intent arg1) {
                    // TODO Auto-generated method stub
                    NetworkInfo networkInfo = (NetworkInfo) arg1
                            .getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO);
                    if (networkInfo.getType() == ConnectivityManager.TYPE_WIFI) {
                        DisplayWifiState();
                    }
                }
            };

            public void DisplayWifiState() {

                ConnectivityManager myConnManager = (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);
                NetworkInfo myNetworkInfo = myConnManager
                        .getNetworkInfo(ConnectivityManager.TYPE_WIFI);
                WifiManager myWifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);
                WifiInfo myWifiInfo = myWifiManager.getConnectionInfo();

                if (myNetworkInfo.isConnected()) {

                    textSsid.setText(myWifiInfo.getSSID());

                    textSpeed.setText(String.valueOf(myWifiInfo.getLinkSpeed()) + " "
                            + WifiInfo.LINK_SPEED_UNITS);
                    textRssi.setText(String.valueOf(myWifiInfo.getRssi()));

                } else {
                    textSsid.setText("---");

                    textSpeed.setText("---");
                    textRssi.setText("---");

                }
    };
};} 
```

服务类完整源代码：

```
import com.parse.ParseObject; 
import android.app.AlertDialog;
import android.app.Service;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.TrafficStats;
import android.net.wifi.WifiInfo;
import android.net.wifi.WifiManager;
import android.os.Bundle;
import android.os.Handler;
import android.os.IBinder;
import android.util.Log;
import android.widget.Chronometer;
import android.widget.TextView;
import android.widget.Toast;

public class Service_class extends Service {
    public static String TAG="TEST TAG";
  TextView textSsid, textSpeed, textRssi;

  public Handler mHandler = new Handler();
    public long mStartRX = 0;
  public long mStartTX = 0;
  public long txBytes;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate();

        Intent intent = getIntent();
        String[] myStrings = intent.getStringArrayExtra("strings");

  textSsid = (TextView) findViewById(R.id.Ssid);
  textSpeed = (TextView) findViewById(R.id.Speed);
  textRssi = (TextView) findViewById(R.id.Rssi);
  Long.toString(mStartTX);
  Long.toString(mStartRX);
  Long.toString(txBytes);

   mStartRX = TrafficStats.getTotalRxBytes();
     mStartTX = TrafficStats.getTotalTxBytes();
     if (mStartRX == TrafficStats.UNSUPPORTED || mStartTX == TrafficStats.UNSUPPORTED) {
      AlertDialog.Builder alert = new AlertDialog.Builder(this);
          alert.setTitle("Uh Oh!");
          alert.setMessage("Your device does not support traffic stat monitoring.");
          alert.show();
     } else {
      mHandler.postDelayed(mRunnable, 1000);
     }

  }

 private Intent getIntent() {
        // TODO Auto-generated method stub
        return null;
    }

private TextView findViewById(int speed) {
      //   TODO Auto-generated method stub
      return null;
  }

private final Runnable mRunnable = new Runnable() {
     public void run() {

         TextView RX = (TextView)findViewById(R.id.RX);
      TextView TX = (TextView)findViewById(R.id.TX);
      long rxBytes = TrafficStats.getTotalRxBytes()- mStartRX;
      RX.setText(Long.toString(rxBytes));
      long txBytes = TrafficStats.getTotalTxBytes()- mStartTX;
      TX.setText(Long.toString(txBytes));
      mHandler.postDelayed(mRunnable, 1000);
      ParseObject testObject = new ParseObject("TestObject");
      testObject.put("DataOut", Long.valueOf(myWifiInfo.getRssi()));
      testObject.put("DataIn", Long.valueOf(myWifiInfo.getLinkSpeed()));
      testObject.put("DataRSSI", String.valueOf(textRssi));
      testObject.put("DataSpeed", String.valueOf(textSpeed));
      testObject.saveInBackground();

      final Chronometer myChronometer = (Chronometer)findViewById(R.id.chronometer);
      myChronometer.start();

      DisplayWifiState();
      this.registerReceiver(this.myWifiReceiver, new IntentFilter(
              ConnectivityManager.CONNECTIVITY_ACTION));

  }

  private Chronometer findViewById(int chronometer) {
      //   TODO Auto-generated method stub
      return null;
  }

  private void registerReceiver(BroadcastReceiver myWifiReceiver2,
              IntentFilter intentFilter) {
         //    TODO Auto-generated method stub

      }

      private BroadcastReceiver myWifiReceiver = new BroadcastReceiver() {

      @Override
      public void onReceive(Context arg0, Intent arg1) {
         //    TODO Auto-generated method stub
          NetworkInfo networkInfo = (NetworkInfo) arg1
                  .getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO);
          if (networkInfo.getType() == ConnectivityManager.TYPE_WIFI) {
              DisplayWifiState();
          }
      }
  };

  public void DisplayWifiState() {

      ConnectivityManager myConnManager = (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);
      NetworkInfo myNetworkInfo = myConnManager
              .getNetworkInfo(ConnectivityManager.TYPE_WIFI);
      WifiManager myWifiManager = (WifiManager) getSystemService(Context.WIFI_SERVICE);
      WifiInfo myWifiInfo = myWifiManager.getConnectionInfo();

      if (myNetworkInfo.isConnected()) {

          textSsid.setText(myWifiInfo.getSSID());

          textSpeed.setText(String.valueOf(myWifiInfo.getLinkSpeed()) + " "
                  + WifiInfo.LINK_SPEED_UNITS);

          textRssi.setText(String.valueOf(myWifiInfo.getRssi()));

      } else {
          textSsid.setText("---");

          textSpeed.setText("---");
          textRssi.setText("---");
         }}};

    @Override
    public IBinder onBind(Intent arg0) {
        return null;
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        Toast.makeText(this, "Hello World", Toast.LENGTH_LONG).show();
     //   Log.d(TAG, "starting service");

        ParseObject testObject = new ParseObject("TestObject");

        testObject.put("DataOut", Long.valueOf(txBytes));
      testObject.put("DataIn", Long.valueOf(mStartRX));
      testObject.put("DataRSSI", String.valueOf(textRssi));
      testObject.put("DataSpeed", String.valueOf(textSpeed));
      testObject.saveInBackground();

        return START_STICKY;
    }

    @Override
    public void onDestroy() {

        super.onDestroy();
        Toast.makeText(this, "Service Stopped", Toast.LENGTH_LONG).show();

    }

    @Override
    public void onCreate() {
        super.onCreate();

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:22:43.750

`myWifiInfo`未在您使用它的地方声明/可见。`WifiInfo myWifiInfo = myWifiManager.getConnectionInfo();`像上面在 run() 方法中所做的那样实例化它 。仅仅因为您已经`myWifiInfo`在代码中的某处声明了并不意味着您可以在任何地方使用它。`myWifiInfo`从 run 方法中看不到的声明。它被称为“范围”。

所以改变这个：

```
 testObject.put("DataOut", Long.valueOf(myWifiInfo.getRssi()));
  testObject.put("DataIn", Long.valueOf(myWifiInfo.getLinkSpeed())); 
```

到

```
WifiInfo myWifiInfo = myWifiManager.getConnectionInfo(); 
testObject.put("DataOut", Long.valueOf(myWifiInfo.getRssi()));
testObject.put("DataIn", Long.valueOf(myWifiInfo.getLinkSpeed())); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:25:07.690

当您编写时，`new Runnable(){...}`您正在实例化一个内联类；insede 这个类`this`是指类本身。您指的是，`this.myWifiReceiver`但我看不到该`myWifiReceiver`对象的声明位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T10:27:17.273

```
btnStart.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
ntent intent = new Intent(Main.this, Service_class.class);

   intent.putExtra("strings", myStrings);
    startActivity(intent);
            startService(new Intent(getBaseContext(), Service_class.class));

        }
    });

    // click listener for the button to stop service
    Button btnStop = (Button) findViewById(R.id.button2);
    btnStop.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
ntent intent = new Intent(Main.this, Service_class.class);
           intent.putExtra("strings", myStrings);
    startActivity(intent);
            stopService(new Intent(getBaseContext(), Service_class.class));
        }
    }); 
```

试试这个...myStrings 全局声明并删除意图并将值行写入按钮单击事件。

# image - Twitter Bootstrap：图像定位

> ID：16010301
> 
> 赞同：1
> 
> 时间：2013-04-15T07:58:17.073
> 
> 标签：image, twitter-bootstrap, positioning

我正在使用 Twitter Bootstrap 自定义我的网站。我正在尝试插入一个位于顶层的图像，该图像略微位于“容器外部”，并且可以响应地调整大小，同时保持与其他元素成比例/相对于其他元素。我想使用位置：相对，但图像似乎被迫进入容器内的一个盒子。当我使用 position: absolute 时，图像首先在我的 Web 浏览器上正确显示，但在调整屏幕大小时它的行为不符合预期。

谁能帮我找出解决这个问题的好方法？

HTML：我没有包含在它自己的图像中，但仍然位于整体中。这是代码：

```
<img src="images/hero-babee.png" alt="Babee blowing bubbles." id="babee-bubbles"> 
```

CSS：这是我的自定义 CSS。

```
img#babee-bubbles {
z-index: 100;
position: relative;
top: 51%;
left: 7.5%;
} 
```

我将不胜感激找到解决方案和/或帮助我的代码/语法的任何帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:07:47.070

要使用引导程序设计响应式网站，您可以使用引导程序布局。流体布局具有“行流体”类，您可以在使用类作为跨度时指定宽度。这个结构将是响应式的。要对其进行测试，只需调整浏览器窗口的大小。

```
<div class="row-fluid">
  <div class="span2">
      <img>....</img>
        ......
   </div>
  <div class="span2">
  </div>
   ......

</div> 
```

Bootstrap 将屏幕大小分为 12 部分。我们可以通过给

```
class="span*" 
```

`*`不是一部分。

# windows - 对文件夹中的所有文件执行命令

> ID：16010310
> 
> 赞同：3
> 
> 时间：2013-04-15T07:59:10.867
> 
> 标签：windows, for-loop, batch-file, cmd, directory

我想对目录中的所有文件运行命令。对于 (c\conversion*.ajt) 中的 %%1 执行*转换命令*%%1 %%2 但是我需要有一个与输入相同但具有不同文件扩展名的输出文件名。

```
asciitojt.exe filename1.ajt filename1.jt 
asciitojt.exe filename2.ajt filename2.jt 
asciitojt.exe filename3.ajt filename3.jt 
```

是我想从系统中得到的。
如何替换最后 3 个字符？这是在批处理文件中运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:16:01.307

尝试这个：

```
for %%i in (*.ajt) do "asciitojt.exe" "%%~i" "%%~ni.jt" 
```

从包含 *.ajt 文件的文件夹开始。

# ios - 动画后重新加载 UITableView 重置帧

> ID：16010312
> 
> 赞同：2
> 
> 时间：2013-04-15T07:59:20.863
> 
> 标签：ios, objective-c, uitableview, uisearchbar

我一直被困在这个问题上，我真的很好奇为什么会这样。我使用下面显示的简单示例重新创建了我的问题。我在视图底部放置了一个带有自定义 UITableViewCell（在单元格中心包含一个 UILabel）的 UITableView，顶部是一个 UISearchBar。

当键盘弹出时，我为 UITableView 设置动画以更改其框架以适应 UISearchBar 下方和键盘上方的空间。现在，当我输入任何搜索文本并重新加载 UITableView 时，UITableView 会在动画之前更改其帧。

最初 -

```
UITableView Frame: {{0, 223}, {320, 237}} - {{x, y},{width, height}} 
```

动画后 -

```
UITableView Frame: {{0, 44}, {320, 436}} - {(x, y),(width, height)} 
```

当我输入任何搜索文本时 -`UITableView Frame: {{0, 223}, {320, 237}} - {{x, y},{width, height}}`

我注意到这只发生在自定义 UITableViewCell 上。我四处寻找答案，但一无所获。我尝试将 UILabel 作为子视图添加到自定义 UITableViewCell 中的 contentView ，但这没有用。所以我的问题是，如何防止 UITableView 将其框架恢复为原始值？

**编辑**：这是我在动画后更改 UITableView 框架的代码。

```
- (void)keyboardDisplayed:(NSNotification*)notification
{
    NSDictionary* keyboardInfo = [notification userInfo];
    NSValue* keyboardValue = [keyboardInfo valueForKey:UIKeyboardFrameBeginUserInfoKey];
    CGRect keyboardFrame = [keyboardValue CGRectValue];

    CGRect frame = self.testTabl.frame;
    frame.origin.y = self.testSearchBar.frame.origin.y + self.testSearchBar.frame.size.height;
    frame.size.height = keyboardFrame.origin.y - frame.origin.y;

    [UIView animateWithDuration:0.3 animations:^{
        [self.testTabl setFrame:frame];
    }];

    NSLog(@"TableView Frame: %@", NSStringFromCGRect(self.testTabl.frame));
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T15:44:50.950

我不确定它是否解释了您所看到的行为，但您的代码中的主要问题是您需要改用 UIKeyboardFrameEndUserInfoKey。像下面这样的东西应该可以工作：

```
- (void)keyboardDisplayed:(NSNotification*)notification
{
    NSDictionary* keyboardInfo = [notification userInfo];
    CGPoint endPoint = [[keyboardInfo objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue].origin;
    CGFloat duration = [[keyboardInfo objectForKey:UIKeyboardAnimationDurationUserInfoKey] floatValue];

    CGRect frame = self.testTabl.frame;
    frame.size.height = [self.testTabl convertPoint:endPoint fromView:nil].y;

    [UIView animateWithDuration:duration animations:^{
        [self.testTabl setFrame:frame];
    }];

    NSLog(@"TableView Frame: %@", NSStringFromCGRect(self.testTabl.frame));
} 
```

# android - 无法更改 Android 应用的默认图标？

> ID：16010313
> 
> 赞同：4
> 
> 时间：2013-04-15T07:59:21.090
> 
> 标签：android, eclipse, cordova, icons

我面临一个问题。我已经使用 phonegap、cordova 和 eclipse 将一个 javascript 应用程序转换为 Android 应用程序。该应用程序很酷。

但问题是，它总是将**cordova 图标显示为 app icon**。我替换了`"project/res"`文件夹中的所有图标。但它仍然只显示默认图标吗？

我用谷歌搜索并知道我必须在清单文件中进行更改。所以，我改变`AndroidManifest.XML`了代码，

```
android:icon="@drawable/icon" 
```

**“图标”**是我的图像名称。

这里有什么问题？为什么我没有自己的图标？我是这个 Android 环境的新手。

我关注了这篇文章[http://smartgap.wordpress.com/2012/08/11/customizing-launch-icon-on-eclipsephonegap-application/](http://smartgap.wordpress.com/2012/08/11/customizing-launch-icon-on-eclipsephonegap-application/)

我的清单文件：

```
<?xml version="1.0" encoding="utf-8"?>
<!--
       Licensed to the Apache Software Foundation (ASF) under one
       or more contributor license agreements.  See the NOTICE file
       distributed with this work for additional information
       regarding copyright ownership.  The ASF licenses this file
       to you under the Apache License, Version 2.0 (the
       "License"); you may not use this file except in compliance
       with the License.  You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

       Unless required by applicable law or agreed to in writing,
       software distributed under the License is distributed on an
       "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
       KIND, either express or implied.  See the License for the
       specific language governing permissions and limitations
       under the License.
-->
<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:windowSoftInputMode="adjustPan"
      package="com.mage.edunxt" android:versionName="1.0" android:versionCode="1" android:hardwareAccelerated="true">
    <supports-screens
        android:largeScreens="true"
        android:normalScreens="true"
        android:smallScreens="true"
        android:xlargeScreens="true"
        android:resizeable="true"
        android:anyDensity="true"
        />

    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.VIBRATE" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.RECEIVE_SMS" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    <uses-permission android:name="android.permission.RECORD_VIDEO"/>
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
    <uses-permission android:name="android.permission.READ_CONTACTS" />
    <uses-permission android:name="android.permission.WRITE_CONTACTS" />   
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />   
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.BROADCAST_STICKY" />

    <application android:icon="@drawable/icon" android:label="@string/app_name"
        android:hardwareAccelerated="true"
        android:debuggable="true">
        <activity android:name="EduNxtQTIPlayer" android:label="@string/app_name"
                android:theme="@android:style/Theme.Black.NoTitleBar"
                android:configChanges="orientation|keyboardHidden|keyboard|screenSize|locale">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

    <uses-sdk android:minSdkVersion="7" android:targetSdkVersion="15"/>
</manifest> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-09-23T20:07:09.890

我必须执行以下操作

1.  将所有文件添加到我的 res/Drawables 文件夹
2.  在 manifest.xml 中设置活动的图标属性。它让我可以选择浏览我的 Drawable 目录中设置的文件。
3.  我必须做一个清洁才能让它工作。

清洁非常重要，它似乎一直使用旧图标，直到您清洁为止。

在eclipse项目->清理

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-15T12:00:52.957

我做了这些工作。

我也只是把我的图标放在里面的所有文件夹中`"project/bin/res"`。

**然后我在config.xml**下添加了以下行`"project/res/xml"`。

```
<icon src="icon.png" /> 
```

现在它工作得很酷。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-03-09T05:09:09.307

我一直在使用 phonegap CLI 在本地构建。没有 Eclipse 并且在查看根文件夹时遇到了多个问题（对于本地构建无用.. Phonegap：在构建时喷一些笔记怎么样）。

我终于将不同大小的单个图标文件复制到 drawable* 文件夹中。

可绘制-hdpi 可绘制-ldpi 可绘制-mdpi 可绘制-xhdpi

这浪费*了*我的时间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-25T08:24:47.943

在 <project location>\platforms\android\ant-build\res 而不是 <project location>\platforms\android\res 中进行更改

对于某些在后一个位置进行更改的人可能已经奏效，但是注意到 Phonegap 从 \android\res 复制到 \android\ant-build\res，我决定在那里检查并找到一组单独的可绘制文件夹，其中包含默认电话间隙图标。

改变那些终于奏效了。

由于我在本地构建和运行而不使用 Adob​​e PhoneGap Build，因此更改 <project location>\www\res\icon\android 中的图标也不起作用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-02T07:52:16.043

我还想分享我对此的答案，以防他们无法使用以前用户提供的步骤使其正常工作。

我无法使用此处提供的步骤让我的工作，我可以通过使用 mipmap 来解决这个问题。我使用这个很棒的开源项目生成了图标大小：[Android Asset Studio](https://romannurik.github.io/AndroidAssetStudio/index.html)

我现在注意到生成的图标现在放置在 mipmap 文件夹中，而不是在可绘制对象上。我认为这是谷歌希望我们将可绘制对象与图标分开的方法。完成此操作后，我使用以下方法引用新导入的 mipmap 文件夹：

```
 android:icon="@mipmap/ic_launcher" 
```

这是文件夹结构：

```
res/
    mipmap-mdpi/ic_launcher.png (48x48 pixels)
    mipmap-hdpi/ic_launcher.png (72x72)
    mipmap-xhdpi/ic_launcher.png (96x96)
    mipmap-xxhdpi/ic_launcher.png (144x144)
    mipmap-xxxhdpi/ic_launcher.png (192x192) 
```

我清理并重建了项目，现在可以看到图标了！但有一个问题。它是在更高版本的 android 上添加的（如这里所说的 v4.3[链接](https://androidbycode.wordpress.com/2015/02/14/goodbye-launcher-drawables-hello-mipmaps/)）。如果这适用于旧版本的android，则没有太多关于此的文档。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-01-24T17:10:31.333

PhoneGap 网页上提供的信息解释了这一点，但乍一看可能不太清楚（链接：[http](http://docs.build.phonegap.com/en_US/configuring_icons_and_splash.md.html#_icons) ://docs.build.phonegap.com/en_US/configuring_icons_and_splash.md.html#_icons ）。

简单的解释：只需将您的图标复制到应用程序根目录并命名为icon.png。这就是你所需要的。

在我的情况下，我确定图标的大小为 96x96px（更大一些不起作用，但可能是我的错）。而且在上传和重建之后，应用程序内容没有更新 - 所以我需要重复上传+重建几次。

# actionscript-3 - actionscript3/flash 中的 UrlLoader 问题

> ID：16010315
> 
> 赞同：0
> 
> 时间：2013-04-15T07:59:32.207
> 
> 标签：actionscript-3, flash, http

我有一些代码使用谷歌的 UrlLoader 加载一些数据，此代码停止为 google.com 工作，但仍适用于 google.co.uk 等其他域，在 google.com 上 loader.data 为空，但如果我加载该 url在浏览器中，我可以看到数据，因此服务器似乎做出了响应。我的问题是如何配置 UrlLoader 以便它返回正确的数据。这是一些测试代码，您可以评论/取消评论网址以检查工作网址，欢迎任何提示或建议谢谢。编辑：此代码来自 Adob​​e AIR 应用程序，该应用程序在桌面上运行，而不是在 Web 浏览器内。

```
public static function testPrediction():void{
        var _loader:URLLoader=new URLLoader();
        _loader.addEventListener(Event.COMPLETE,onComplete);
        _loader.addEventListener(IOErrorEvent.IO_ERROR, err);
        _loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR, err);
        _loader.addEventListener(HTTPStatusEvent.HTTP_RESPONSE_STATUS,err);
        _loader.addEventListener(HTTPStatusEvent.HTTP_STATUS,err);
        _loader.dataFormat=URLLoaderDataFormat.TEXT;
        //this does not work
        var url:String="http://www.google.com/complete/search?js=true&output=toolbar&hl=en&q=ubuntu";

        //this link works
        //var url:String="http://www.google.co.uk/complete/search?js=true&output=toolbar&hl=en&q=ubuntu";

        var urlRequest:URLRequest=new URLRequest(url);
        urlRequest.followRedirects=true;
        urlRequest.userAgent="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:20.0) Gecko/20100101 Firefox/20.0";

        _loader.load(urlRequest);
        function onComplete(e:Event):void{
            var loader:URLLoader=e.target as URLLoader;
            trace(loader.data);
        }
        function err(e:Event):void{
            trace(e);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T15:30:09.443

onComplete 和 err 函数在 testPrediction 函数的主体内 - 这可能会导致意外行为。假设这不是您的错字，它们应该在 testPrediction 之外：

```
public static function testPrediction():void{
    var _loader:URLLoader=new URLLoader();
    _loader.addEventListener(Event.COMPLETE,onComplete);
    _loader.addEventListener(IOErrorEvent.IO_ERROR, err);
    _loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR, err);
    _loader.addEventListener(HTTPStatusEvent.HTTP_RESPONSE_STATUS,err);
    _loader.addEventListener(HTTPStatusEvent.HTTP_STATUS,err);
    _loader.dataFormat=URLLoaderDataFormat.TEXT;
    //this does not work
    var url:String="http://www.google.com/complete/search?js=true&output=toolbar&hl=en&q=ubuntu";
    //this link works
    //var url:String="http://www.google.co.uk/complete/search?js=true&output=toolbar&hl=en&q=ubuntu";
    var urlRequest:URLRequest=new URLRequest(url);
    urlRequest.followRedirects=true;
    urlRequest.userAgent="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:20.0) Gecko/20100101 Firefox/20.0";
    _loader.load(urlRequest);
}

static function onComplete(e:Event):void{
    var loader:URLLoader=e.target as URLLoader;
    trace(loader.data);
}
static function err(e:Event):void{
    trace(e);
} 
```

编辑：

此代码适用于我使用任一 URL。我删除了 HTTPStatusEvents（因为我正在测试 swf，而不是 AIR）并从 URLRequest 中删除了 followRedirects 和 userAgent 设置（因为它们不存在）：

```
function testPrediction():void
{
var _loader:URLLoader = new URLLoader();
_loader.addEventListener(Event.COMPLETE, onComplete);
_loader.addEventListener(IOErrorEvent.IO_ERROR, err);
_loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR, err);
_loader.dataFormat = URLLoaderDataFormat.TEXT;
//var url:String = "http://www.google.com/complete/search?js=true&output=toolbar&hl=en&q=ubuntu";
var url:String = "http://www.google.co.uk/complete/search?js=true&output=toolbar&hl=en&q=ubuntu";
var urlRequest:URLRequest = new URLRequest(url);
_loader.load(urlRequest);
}

function onComplete(e:Event):void
{
var loader:URLLoader = e.target as URLLoader;
trace(loader.data);
}
function err(e:Event):void 
{
trace(e);
} 
```

# jquery - 选择框组中的jQuery选择框最大值

> ID：16010318
> 
> 赞同：0
> 
> 时间：2013-04-15T07:59:43.020
> 
> 标签：jquery, jquery-ui, slider, drop-down-menu, jquery-ui-slider

早上好，

我需要一个 jQuery 的“范围”选择器。jQuery 或 jQuery-UI 中有一个吗？

例如：

![滑块愿望的例子](https://i.stack.imgur.com/uZWdp.png)

我有 3 个总和为 2 的选择框。在选择框组的一个选择框中，我选择数量 1。然后该组中的其他选择框只有一个值“1”。

第二个（右）示例：我有 4 个选择框，总和为 4。首先，我在该选择框组的一个选择框中选择金额“2”。然后其他框只有 1 和 2 作为选择。我选2？然后其他为空“0”或我选择1，然后我可以在其他处选择+1。

像这样：

```
<selectgroup maximum="2">
    <select name="first" />
    <select name"second" />
    <select name"third" />
</selectgroup> 
```

或者那个（正确的例子）：

```
<selectgroup maximum="4">
    <select name="first" />
    <select name"second" />
    <select name"third" />
    <select name"fourth" />
</selectgroup> 
```

他们自己生成选项。

**就像这样 => [http://www.humblebundle.com/weekly](http://www.humblebundle.com/weekly) <=，但有组和选择框。**

![谦逊的滑块](https://i.stack.imgur.com/y0GiN.jpg)

**先感谢您！**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:40:08.343

您可以使用 jQuery UI 滑块创建滑块，文档位于[http://jqueryui.com/slider/](http://jqueryui.com/slider/)。

然后，您可以绑定到`.change`事件，该事件的文档位于[http://api.jqueryui.com/slider/#event-change](http://api.jqueryui.com/slider/#event-change)。

在该回调中，您可以使用该`.value`方法动态调整其他滑块的值，文档位于[http://api.jqueryui.com/slider/#method-value](http://api.jqueryui.com/slider/#method-value)。

让我知道这是否有帮助，如果这有意义:)

# matlab - 错误：表达式或语句不正确——可能是不平衡的 (、{ 或 [

> ID：16010320
> 
> 赞同：-2
> 
> 时间：2013-04-15T07:59:47.880
> 
> 标签：matlab

我在

```
fw=D_w((IND(k,1),IND(k,2)); 
and W2(k)= ((D_w(IND(k,1),IND(k,2))/D(IND(k,1),IND(k,2))-1)*10) 
```

水印提取过程有问题，最后的代码有错误。任何建议。请在其中进行一些修改。

所以，我们必须保护它不被泄露，这样他们就不会接触到错误的人。我们必须找到负责数据泄露的人。如果在公共领域发现分发给第三方的数据，则可能对公司所有者造成非常严重的威胁。

```
I=imread('girl512.bmp');
subplot(2,3,1),imshow(I,[]),title('Original Image');
wmsz=1000;
I=I(:,:,1);
[r,c]=size(I);
D=dct2(I);
D_vec=reshape(D,1,r*c);
[D_vec_srt,Idx]=sort(abs(D_vec),'descend');  
W=randn(1,wmsz);
subplot(2,3,2),plot(W),title('Watermark');
Idx2=Idx(2:wmsz+1);%choosing 1000 biggest values other than the DC
%finding associated row-column order for vector values
IND=zeros(wmsz,2);
for k=1:wmsz
    x=floor(Idx2(k)/r)+1;%associated column in the image
    y=mod(Idx2(k),r);%associated row in the image
    IND(k,1)=y;
    IND(k,2)=x;
end
D_w=D;
%WATERMARK EMBEDDING
for k=1:wmsz
    fw=D_w((IND(k,1),IND(k,2));
    fw=fw+0.1*fw.*W(k);
end
I2=idct2(D_w);%inverse DCT to produce the watermarked asset
I2_int=uint8(I2);
imwrite(I2_int,'I2_watermarkedn.bmp','bmp');
subplot(2,3,3),imshow('I2_watermarkedn.bmp'),title('Watermarked Image');

%WATERMARK EXTRACTION 
W2=[];
for k=1:wmsz
    W2(k)=((D_w(IND(k,1),IND(k,2))/D(IND(k,1),IND(k,2))-1)*10);
end
subplot(2,3,4),plot(W2),title('Extracted Watermark'); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:10:23.560

让我们数一数：

```
 12   3        4        opens
fw=D_w((IND(k,1),IND(k,2));
               1        23   closes
      12   3   2     3  21   cumulative 
```

所以，是的，它们*是*不平衡的。你需要解决这个问题。我怀疑它可以通过删除两个初始`(`字符之一来解决。

* * *

```
 12   3   4        5       6   7        8               opens
W2(k)= ((D_w(IND(k,1),IND(k,2))/D(IND(k,1),IND(k,2))-1)*10)
                    1        23          4        56  7   8   closes
       12   3   4   3    4   32  3   4   3    4   32  1   0   cumulative 
```

就数量而言，这些*并不是不平衡的。*我不能保证这个*位置*，因为它相当复杂:-)

# php - Magento：如何在订单项目中获取特定产品的数量？

> ID：16010323
> 
> 赞同：7
> 
> 时间：2013-04-15T08:00:02.307
> 
> 标签：php, magento, foreach

我有这个脚本可以帮助我从 Magento 1.6 中的订单项中获取特定产品的数量。这应该在一个简单的表格中可视化。到目前为止，这是我的代码：

```
// Load the product collection
$collection = Mage::getModel('catalog/product')
 ->getCollection()
 ->addAttributeToSelect('*');

foreach ($collection as $product) {
    $id = $product->getId();
    $product_name = $product->getName();

    $order_output = '';
    $order_output .= '<table style="width: 500px">';
        $order_output .= '<tr><td colspan="3"><strong>'.$product_name.'</strong></td></tr>';
        $order_output .= '<tr><td><strong>Order id</strong></td><td><strong>Total price</strong></td><td><strong>Qty</strong></td><td><strong>Customer name</strong></td></tr>';

        // Get all unique order IDs for items with specifix product ID
        $time = time();
        $to = date('Y-m-d H:i:s', $time);
        $from = date('2012-07-01 08:00:00');
        $orderItems = Mage::getResourceModel('sales/order_item_collection')
        ->addAttributeToFilter('product_id', $id)
        ->addAttributeToFilter('created_at', array('from' => $from, 'to' => $to))
        ->addAttributeToSelect('order_id')
        ->load();

        foreach ($orderItems as $order) {
             $order_data = Mage::getModel('sales/order')->load($order['order_id']);
             $items = $order_data->getColletion();
             $order_id = $order['order_id'];
             $total = $order_data->getGrandTotal();
             $customer_name = $order_data->getCustomerName();

             foreach ($items as $item) {
                $product_id = $item->getProductId();
                if ($product_id == $id) {
                    $number_of_prod =  $item->getQtyOrdered();
                }       
             }

             $order_output .= '</tr>';
                $order_output .= '<td width="20%" align="left">'.$order_id.'</td>';
                $order_output .= '<td width="20%">'.number_format($total, 2, '.', '').' RMB</td>';
                $order_output .= '<td width="20%">'.$number_of_prod.'</td>';
                $order_output .= '<td width="40%">'.$customer_name.'</td>';
             $order_output .= '</tr>';     
        }
    $order_output .= '</table>';

    header ("Content-Type: text/html; charset=UTF-8");
    echo $order_output;
} 
```

一切都正确填充，唯一缺少的是数量。您可以看到输出的附加图像。

任何帮助是极大的赞赏。

![在此处输入图像描述](https://i.stack.imgur.com/wSlXA.png)

**更新**

当我使用：

```
$items = $order_data->getAllItems(); 
```

我得到了数量，但现在没有列出各个产品的所有订单。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-05-17T04:37:30.917

您是否尝试过其他方法来订购数量？

```
$item->getData('qty_ordered'); 
```

或者

```
$item['qty_ordered']; 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-09-03T08:42:56.760

还有另一个简单的功能：

```
$item->getQtyOrdered(); 
```

# javascript - 冻结整个网站的音乐播放器

> ID：16010325
> 
> 赞同：1
> 
> 时间：2013-04-15T08:00:14.237
> 
> 标签：javascript, ruby-on-rails, youtube-api, soundcloud

我有一个带有 youtube 和 soundcloud 嵌入歌曲的网站。在这些嵌入式媒体文件之一的流中，我希望这首歌继续播放，而不管移动到站点中的不同页面。我怎样才能做到这一点？如果音乐控制器出现在页脚中也会很棒。

我正在使用 auto_html gem 嵌入

```
<% if micropost.url.include? 'youtu' %>
  <%= auto_html(micropost.url) {youtube(:width => 540, :height => 190)} %>
<% end %>

<% if micropost.url.include? 'soundcloud' %>
  <%= auto_html(micropost.url) {soundcloud} %>
<% end %> 
```

我还没有为音乐播放器编写任何代码。我什至可以让两个嵌入都通过自定义音乐控制器播放吗？或者我可以使用 youtube 和 soundclouds。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:28:43.843

如果您使用的是html5音频标签，您可以将点击事件绑定到播放按钮，然后停止所有音频播放，但是`$(this)`

# android - 使用 Shared Preferences android 时要记住哪些事项？

> ID：16010334
> 
> 赞同：0
> 
> 时间：2013-04-15T08:00:51.880
> 
> 标签：android, sharedpreferences

我正在开发一个简单的 android 应用程序。

该应用程序具有连接到 php 的用户登录功能。

我成功地完成了登录功能。我现在想要的是`save the username`让我可以`use it anywhere and anytime in my application`。在经历了一些 SO 线程之后，我才知道使用 android sharedPreferences 是可行的。

但在实施它们之前，我想知道一些我在使用时应该记住的`sharedPreferences`东西

*   共享偏好的基本任务是什么？
*   实际使用时要记住什么？
*   在代码中以编程方式实现它们的正确方法是什么？
*   最后如何在使用后将它们删除？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:08:01.537

## 如何从 SharedPreferences 持久存储中保存/读取“用户名”

**基本任务**：

持久存储。

**请记住**：

是否有这么多数据，使用数据库或平面文件存储可能会更好？

**保存和读取“用户名”的正确方法**：

```
String key = "username";
String value = "John Doe";

// Save
SharedPreferences.Editor editor = context.getSharedPreferences(MY_PREFS_NAME, Context.MODE_PRIVATE).edit();
editor.putString(key, value);
editor.commit();

// Read
String def = "";
SharedPreferences settings = context.getSharedPreferences(MY_PREFS_NAME, Context.MODE_PRIVATE);
if(!settings.contains(key)) {
    // Warn user that there is nothing to read and/or return a default value: "def"
}
String value = settings.getString(key, def); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T09:02:09.400

> **共享偏好的基本任务是什么？**

当您需要应用程序存储持久数据时，本质上会使用[SharedPreferences 。](http://developer.android.com/reference/android/content/SharedPreferences.html)我考虑在不需要数据库时使用它（*纯粹出于要存储的大小/数据的目的）。*

> **实际使用时要记住什么？**

您可以保存应用程序执行其任务通常需要的任何内容*。*例如，在游戏应用程序中，您可以存储用户的分数。但是，由于[**root**](http://en.wikipedia.org/wiki/Android_rooting)`SharedPreferences`设备上的任何人都可以访问文件，因此您不希望存储密码。如果你**绝对必须**存储它们，你应该实现你自己的算法来加密它。在我的一个应用程序中，我将 URL 存储到 Facebook 和 Twitter 上用户的个人资料图片。那已经在公共领域了。[](http://en.wikipedia.org/wiki/Android_rooting)

 ****> **在代码中以编程方式实现它们的正确方法是什么？**

如果你打算使用`SharedPreference`一个或两个活动，你可以使用这样的东西来向 SharedPreference 文件添加值：

```
// THE SHAREDPREFERENCE INSTANCE
SharedPreferences sharedPrefs;

// THE EDITOR INSTANCE
Editor editor;

// A CONSTANT STRING TO PROVIDE A NAME TO THE SHAREDPREFERENCE FILE
private static final String PRIVATE_PREF = "some_file_name";

// INSTANTIATE THE SHAREDPREFERENCE INSTANCE
sharedPrefs = getApplicationContext().getSharedPreferences(PRIVATE_PREF, Context.MODE_PRIVATE);

// INSTANTIATE THE EDITOR INSTANCE
editor = sharedPrefs.edit();

// ADD VALUES TO THE PREFERENCES FILE
editor.putLong(UNIQUE_KEY_NAME, VALUE);
editor.putString(UNIQUE_KEY_NAME, VALUE);
editor.putString(UNIQUE_KEY_NAME, VALUE);
editor.putString(UNIQUE_KEY_NAME, VALUE);

// THIS STEP IS VERY IMPORTANT. THIS ENSURES THAT THE VALUES ADDED TO THE FILE WILL ACTUALLY PERSIST
// COMMIT THE ABOVE DATA TO THE PREFERENCE FILE
editor.commit(); 
```

要从文件中获取值：

```
String someString = sharedPrefs.getString(UNIQUE_KEY_NAME, null);
long someLong = sharedPrefs.getLong(UNIQUE_KEY_NAME, 0); 
```

如果您需要重用`SharedPreference`文件中的内容/值，这是一个很好的教程，关于创建一个帮助类，它可以让任意数量的`Activites`人访问这些值，而不是在其中的每一个中编码上面的内容：[http:// megasnippets.com/source-codes/java/sharedpreferences_helper_class_android](http://megasnippets.com/source-codes/java/sharedpreferences_helper_class_android)

> **最后如何在使用后将它们删除？**

```
// INSTANTIATE THE EDITOR INSTANCE
editor = sharedPrefs.edit();

// TO CLEAR A SELECT FEW OF THE VALUES:
editor.remove(KEY_FOR_THE_VALUE_TO_BE_REMOVED);

// ALTERNATIVELY, TO CLEAR ALL VALUES IN THE FILE:
editor.clear(); 
```

**注意：**`SharedPreferences`当用户从设备的设置中手动清除应用程序数据时，您可能创建的任何文件都将被删除。

*进一步阅读的链接：*

1.  [http://www.vogella.com/articles/AndroidFileBasedPersistence/article.html](http://www.vogella.com/articles/AndroidFileBasedPersistence/article.html)
2.  [http://saigeethamn.blogspot.in/2009/10/shared-preferences-android-developer.html](http://saigeethamn.blogspot.in/2009/10/shared-preferences-android-developer.html)
3.  [http://www.mybringback.com/tutorial-series/12260/android-sharedpreferences-example/](http://www.mybringback.com/tutorial-series/12260/android-sharedpreferences-example/)
4.  [http://www.androidhive.info/2012/08/android-session-management-using-shared-preferences/](http://www.androidhive.info/2012/08/android-session-management-using-shared-preferences/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:15:09.937

**关于基本任务**：
您可以[在 developer.android.com 上阅读存储选项](http://developer.android.com/guide/topics/data/data-storage.html#pref)。

**关于记住**：
尽量避免将敏感数据保存到共享首选项中的应用程序中，因为用户可以轻松访问数据。**您可以在/data/data/your_application.package.name/shared_prefs/shared_prefs_name.xml**
中找到您的共享首选项 xml 文件**实现**： 通常我使用这样的静态方法创建类：

 ****```
public class MySharedPreferences {

    private static final String APP_SHARED_PREFS = "my_prefs";
    private static final String KEY_LOGIN = "username";

    public static void setUsername(Context context, String username) {
        SharedPreferences sharedPreferences = context.getSharedPreferences(APP_SHARED_PREFS, Activity.MODE_PRIVATE);
        Editor editor = sharedPreferences.edit();
        editor.putString(KEY_USERNAME, login);
        editor.commit();
    }

    public static String getUsername(Context context) {
        SharedPreferences sharedPreferences = context.getSharedPreferences(APP_SHARED_PREFS, Activity.MODE_PRIVATE);
        return sharedPreferences.getString(KEY_USERNAME, null);
    }
} 
```********

# android - 插入字符串前后的自动空格

> ID：16010338
> 
> 赞同：1
> 
> 时间：2013-04-15T08:01:20.433
> 
> 标签：android, android-edittext

当我尝试从中复制文本`EditText`然后将其插入时`EditText`，它会自动在插入的字符串之前和之后添加空格。例如，`EditText`包含“ **TEST TEST TEST** ”，我复制**TEST**，然后插入它“ **TE** (here) **ST TEST TEST** ”我得到“ **TE TEST ST TEST TEST** ”。

这是我的编辑文本

```
<EditText
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:ems="10"
        android:inputType="textMultiLine" >
</EditText> 
```

我怎样才能防止这种情况？

# java - String.trim() 为相同的引用对象返回 false

> ID：16010339
> 
> 赞同：0
> 
> 时间：2013-04-15T08:01:21.123
> 
> 标签：java

为什么这是**假**的？

```
String str1 = new String("Java    ");
String str2 = str1;
System.out.println(str1.trim()==str2.trim());  //false 
```

最初`str2`是引用`str1`对象。因此，与 == 比较将返回 true`str1==str2`

那么为什么这个方法是**错误**的`.trim()`呢？

即使它为文字返回 false （没有 new 关键字）

```
String str1 = "Java    ";  //this is now without new keyword
String str2 = str1;
System.out.println(str1.trim()==str2.trim()); 
```

注意：我知道如何使用`.equals`方法。但是想知道`==`行为，特别是在 .trim() 的情况下，上面给出了两个例子。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:02:25.003

使用`equals()`or`equalsIgnoreCase()`方法比较字符串。`==`比较对象身份。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T08:02:37.297

使用等于而不是 ==

```
System.out.println(str1.equals(str2.trim())); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-15T08:09:21.220

字符串在 Java 中是不可变的。字符串文字也被实习，即java维护一个字符串文字池。

在前 2 行中，您正在创建一个对象和 2 个指向同一对象的 str1 和 str2 引用。

当 trim() 应用于字符串时，它会形成一个新的字符串对象并将当前引用分配给新对象。但是由于在对象创建 str1.trim() 和 str2.trim() 时使用了 new，所以最终都创建了 2 个单独的对象。

参考：[http ://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#trim%28%29](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#trim%28%29)

trim() 方法创建一个新对象。由于您在同一对象上单独应用了 trim()（尽管由多个引用 str1 和 str2 引用），因此创建了 2 个新对象。这就是引用相等不起作用的原因。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-15T08:02:26.677

字符串与等号比较，而不是 ==

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-15T08:02:46.780

如果你想比较一个字符串的内容，你需要`.equeals`.

您的（修改后的）示例

```
String str1 = new String("Java    ");
String str2 = str1;
System.out.println(str1.trim().equals(str2.trim()));  //is now true 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-15T08:03:05.297

对于字符串比较，您应该使用`str1.equals(str2)`or `str1.equalsIgnoreCase(str2)`。

有关更多要点，请检查此[问题](https://stackoverflow.com/questions/767372/java-string-equals-versus)。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-04-15T08:05:23.127

由于您正在使用`String str1=new String("Java ");` 您不能使用`==`运算符

如果你用过`String str1="Java ";`，你可以用`==`

所以这里要么将代码更改为`String str1="Java ";`

或改变

```
System.out.println(str1.trim().equals(str2.trim())); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-04-15T08:22:37.563

> “==”

使用 refrences 函数`trim`创建一个新对象，该对象将具有新的 refrence。这就是它总是返回 false 的原因

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-04-15T08:03:53.777

你有两个不同的字符串，所以有两个不同的引用。来比较内容使用`equals()`。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-04-15T08:05:46.043

== 将比较两个对象的 if 引用是否相同，因为它检查两个对象是否相同而不检查对象的内容。由于字符串是一个对象 == 仅适用于字符串类型的相同对象，而不检查字符串的内容。检查字符串使用的内容

```
 equals() or equalsIgnoreCase 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-04-15T08:06:56.727

您正在使用`==`符号进行比较。在java中this会比较实际对象，即两个变量是否指向内存中的同一个物理对象，同一个内存位置。

如果要比较字符串的实际内容，那么如果您不关心大小写，则需要使用类（或）`equals`的方法。`String``equalsIgnoreCase`

这同样适用于任何其他类型的对象。如果您使用 比较它们`==`，您将比较两个变量的物理内存位置。您将使用`equals`方法来比较对象的实际内容（假设该类实际实现了此方法）。

# java - 我的 Swing 应用程序中的一个常见变量

> ID：16010341
> 
> 赞同：0
> 
> 时间：2013-04-15T08:01:30.483
> 
> 标签：java, swing, applicationcontext

我想在整个应用程序生命周期中共享我的 Swing 应用程序中的一个公共变量。它应该与 Servlet 中的应用程序上下文相同。我可以通过哪些方式实现它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:24:04.500

你可以使用某种单例，尽管我*一般*不会推荐单例。

您还可以在 Swing 应用程序中使用 IOC 容器或根据需要自行*传递*引用。

就像@Guillaume 所说，它在设计方面看起来并不好，但你有选择。

**一旦**您对原始设计方法的含义有了更多了解，**并且在**代码库显着增长之前，您还可以使用静态变量**并重构**代码。

 ****当您开始快速引入许多全局对象而不重新考虑您的设计时，它可能会引入由于多种原因您无法解决的问题：

*   太多的代码和太多的紧耦合
*   奇怪的并发问题取决于你的代码做什么
*   如果有一天您需要这些全局对象的许多实例，则缺乏灵活性。****

# c# - 只需从 Microsoft Lifecam 捕获图像

> ID：16010345
> 
> 赞同：-1
> 
> 时间：2013-04-15T08:01:58.277
> 
> 标签：c#, webcam, video-capture

我已经搜索了很多，并[询问了一个](https://stackoverflow.com/q/16009821/1471381)关于从 LifeCam 捕获图像的问题，该问题总是以 OpenCV 或 DirectShow 结束。但是微软自己在 Lync 中做了什么？

我目前在我的 Windows 8 中安装了 Lync，并且 lync 与我的 LifeCam 配合良好，Windows 8 的摄像头也在检测 LifeCam 并轻松捕获图像。

我只需要知道应该导入哪个 dll 以及应该调用哪个函数。如果我使用外部 dll 或者解决方案不完全是 .net 并不重要。我只是想完成它。我需要通过单击按钮捕获图像。而已。

有什么简单的方法可以通过单击按钮来捕获图像？我不再需要任何功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:09:05.243

我曾经尝试过[ESCAPI](http://sol.gfxile.net/escapi/index.html)。它奏效了，但并不容易。不幸的是，我没有有用的样本。但这应该有效

# c++ - pthreads参数问题

> ID：16010354
> 
> 赞同：1
> 
> 时间：2013-04-15T08:02:28.517
> 
> 标签：c++, pthreads

我在我的应用程序中使用 pthread 进行多线程处理：

```
pthread_create(&id1, NULL, &RecvMessageManager::test, args); 
```

`args`基本上是一个结构，由另一个对象的实例和回调引用组成：

```
struct Args {

    Obj * msgObj;
    void (*callBack)(std::string& header, std::string& payload);
}; 
```

使用`msgObj`，我在一个 while 循环中连续调用它的方法之一。第一次方法被调用，但在下一个循环`msgObj`中变为空。

为什么是这样 ？

## 编辑

线程内实例的构造

```
 struct Args * args = (struct Args *)val;
    this -> msgObj = args -> msgObj;
    this -> callBack = args -> callBack;
    RecvMessageManager * thisObj = args -> thisObj; 
```

# php - 使用 file_get_contents PHP 函数时出错

> ID：16010357
> 
> 赞同：0
> 
> 时间：2013-04-15T08:02:35.713
> 
> 标签：php, javascript

我在用：

```
$myFile = SITE_URL.'/abc.html'; 
$template_msg = file_get_contents($myFile); 
```

此代码适用于我的本地计算机，但不适用于实时站点。它给了我一个 500 页未找到的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:19:20.643

使用这种类型的路径。

回声$我的文件；并检查它是否像' [http://www.example.com/abc.html](http://www.example.com/abc.html) '这种类型的路径然后它工作。

```
$myFile = SITE_URL.'/abc.html'; 
$template_msg = file_get_contents($myFile); 
```

希望对您有所帮助。

# iphone - iPhone App：NSKeyedArchiver 中的 EncodeObject 问题

> ID：16010359
> 
> 赞同：0
> 
> 时间：2013-04-15T08:02:36.297
> 
> 标签：iphone, ios, xcode

在 iPhone 应用程序中，我有一个`NSDictionary`对象，其键为`NSString`，值是自定义对象。我正在尝试将其转换`NSData`为 iCloud。我这样做了：

> ```
> NSMutableData *data = [NSMutableData data];
> NSKeyedArchiver *archiver = [[NSKeyedArchiver alloc]
>                               initForWritingWithMutableData:data];
> [archiver encodeObject:myDictionary forKey:@"mykey"];
> [archiver finishEncoding]; 
> ```

现在，encodeObject 行抛出了这个异常（`NSDictionary`对象'myDictionary'中有值。我检查了。）：

```
*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[ConnectionProfile encodeWithCoder:]: unrecognized selector sent to instance 0x1f849350' 
```

ConnectionProfile 是我作为值存储在`NSDictionary`. 它应该`NSCoding`明确实施吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:13:23.510

知道了。是的。正如我所怀疑的，ConnectionProfile 必须实现 NSCoding。现在，错误消失了。

# android - camera.takePicture 空指针异常

> ID：16010365
> 
> 赞同：0
> 
> 时间：2013-04-15T08:02:58.100
> 
> 标签：android, android-camera

当我尝试使用此代码拍照时，总是会收到 NullPointerException。它总是在 camera.takePicture 失败。

我试图用谷歌搜索这个问题并没有找到任何东西。任何帮助，将不胜感激。

这是代码

```
import android.annotation.TargetApi;
import android.app.Activity;
import android.content.pm.PackageManager;
import android.hardware.Camera;
import android.hardware.Camera.CameraInfo;
import android.os.Build;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Toast;

@TargetApi(Build.VERSION_CODES.GINGERBREAD)
public class CameraService extends Activity {

final static String DEBUG_TAG = "MakePhotoActivity";
  private Camera camera;
  private int cameraId = 0;

  @TargetApi(Build.VERSION_CODES.GINGERBREAD)
@Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // do we have a camera?
    if (!getPackageManager()
        .hasSystemFeature(PackageManager.FEATURE_CAMERA)) {
      Toast.makeText(this, "No camera on this device", Toast.LENGTH_LONG)
          .show();
    } else {
      cameraId = findFrontFacingCamera();
      if (cameraId < 0) {
        Toast.makeText(this, "No front facing camera found.",
            Toast.LENGTH_LONG).show();
      } else {
        camera = Camera.open(cameraId);
      }
    }
  }

  public void onClick(View view) {
    camera.takePicture(null, null,
        new PhotoHandler(getApplicationContext()));
  }

  private int findFrontFacingCamera() {
    int cameraId = -1;
    // Search for the front facing camera
    int numberOfCameras = Camera.getNumberOfCameras();
    for (int i = 0; i < numberOfCameras; i++) {
      CameraInfo info = new CameraInfo();
      Camera.getCameraInfo(i, info);
      if (info.facing == CameraInfo.CAMERA_FACING_FRONT) {
        Log.d(DEBUG_TAG, "Camera found");
        cameraId = i;
        break;
      }
    }
    return cameraId;
  }

  @Override
  protected void onPause() {
    if (camera != null) {
      camera.release();
      camera = null;
    }
    super.onPause();
  } 
```

}

PhotoHandler 的代码

```
import java.io.File;
import java.io.FileOutputStream;
import java.text.SimpleDateFormat;
import java.util.Date;

import android.content.Context;
import android.hardware.Camera;
import android.hardware.Camera.PictureCallback;
import android.os.Environment;
import android.util.Log;
import android.widget.Toast;

public class PhotoHandler implements PictureCallback{

private final Context context;

  public PhotoHandler(Context context) {
    this.context = context;
  }

  @Override
  public void onPictureTaken(byte[] data, Camera camera) {

    File pictureFileDir = getDir();

    if (!pictureFileDir.exists() && !pictureFileDir.mkdirs()) {

      Log.d(CameraService.DEBUG_TAG, "Can't create directory to save image.");
      Toast.makeText(context, "Can't create directory to save image.",
          Toast.LENGTH_LONG).show();
      return;

    }

    SimpleDateFormat dateFormat = new SimpleDateFormat("yyyymmddhhmmss");
    String date = dateFormat.format(new Date());
    String photoFile = "Picture_" + date + ".jpg";

    String filename = pictureFileDir.getPath() + File.separator + photoFile;

    File pictureFile = new File(filename);

    try {
      FileOutputStream fos = new FileOutputStream(pictureFile);
      fos.write(data);
      fos.close();
      Toast.makeText(context, "New Image saved:" + photoFile,
          Toast.LENGTH_LONG).show();
    } catch (Exception error) {
      Log.d(CameraService.DEBUG_TAG, "File" + filename + "not saved: "
          + error.getMessage());
      Toast.makeText(context, "Image could not be saved.",
          Toast.LENGTH_LONG).show();
    }
  }

  private File getDir() {
    File sdDir = Environment
      .getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);
    return new File(sdDir, "CameraAPIDemo");
  }
} 
```

logcat 输出

```
04-15 18:24:42.316: E/AndroidRuntime(23331): FATAL EXCEPTION: main
04-15 18:24:42.316: E/AndroidRuntime(23331): java.lang.IllegalStateException: Could not execute method of the activity
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.view.View$1.onClick(View.java:3599)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.view.View.performClick(View.java:4204)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.view.View$PerformClick.run(View.java:17355)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.os.Handler.handleCallback(Handler.java:725)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.os.Handler.dispatchMessage(Handler.java:92)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.os.Looper.loop(Looper.java:137)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.app.ActivityThread.main(ActivityThread.java:5041)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at java.lang.reflect.Method.invokeNative(Native Method)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at java.lang.reflect.Method.invoke(Method.java:511)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at dalvik.system.NativeStart.main(Native Method)
04-15 18:24:42.316: E/AndroidRuntime(23331): Caused by: java.lang.reflect.InvocationTargetException
04-15 18:24:42.316: E/AndroidRuntime(23331):    at java.lang.reflect.Method.invokeNative(Native Method)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at java.lang.reflect.Method.invoke(Method.java:511)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.view.View$1.onClick(View.java:3594)
04-15 18:24:42.316: E/AndroidRuntime(23331):    ... 11 more
04-15 18:24:42.316: E/AndroidRuntime(23331): Caused by: java.lang.RuntimeException: takePicture failed
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.hardware.Camera.native_takePicture(Native Method)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.hardware.Camera.takePicture(Camera.java:1095)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at android.hardware.Camera.takePicture(Camera.java:1040)
04-15 18:24:42.316: E/AndroidRuntime(23331):    at com.egnoita.ignoramus.CameraService.onClick(CameraService.java:50)
04-15 18:24:42.316: E/AndroidRuntime(23331):    ... 14 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:26:10.533

我认为`camera`您的函数中为 null ，`onClick()`因为没有保证`onCreate()`创建`camera`.

修改`onClick()`如下：

```
public void onClick(View view) {
    if(camera == null) {
        // Warn user that camera is not available via "Toast" or similar.
    } else {
        camera.takePicture(null, null,
            new PhotoHandler(getApplicationContext()));
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-27T14:27:38.657

我在 2.3 和 4.0 之间遇到了同样的兼容性问题。在这里，我假设您在打电话`startPreview()`之前打过电话`takePicture()`。

请在下面查看我的代码，它适用于我的 2.3 和 4.0 设备。

```
PictureCallback mJpegCallback;
SurfaceView surfaceViewDummy;
Camera mCamera;
mCamera = Camera.open();
try {

    // Important here!!! If use below line under 2.3 works,
    // but not work on 4.0! Will always got 
    // java.lang.RuntimeException: takePicture failed
    // Under 4.0 must create a real SurfaceView object on the screen!

    //surfaceViewDummy = new SurfaceView(this);
    surfaceViewDummy = (SurfaceView) findViewById(R.id.surfaceView1);

    mCamera.setPreviewDisplay(surfaceViewDummy.getHolder());
    mCamera.startPreview();
} catch (Exception e) {

    Log.d("", "Start preview error " + e.toString());
}

mJpegCallback = new PictureCallback() {

    public void onPictureTaken(byte[] data, Camera camera) {
        Log.d("", "Got picture data");
        // Save the picture data by yourself
        // ...
    }
};

mCamera.takePicture(null, null, mJpegCallback); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:16:04.537

您的应用程序是否允许使用相机？

```
<uses-permission android:name="android.permission.CAMERA"/> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-16T11:28:41.730

尝试将此添加到您的清单文件中

```
<uses-feature android:name="android.hardware.camera"/> 
```

这将告诉设备应用程序使用相机有关更多信息 [http://developer.android.com/guide/topics/media/camera.html](http://developer.android.com/guide/topics/media/camera.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-09T02:30:45.237

我在我的应用程序中使用与您相同的代码，而且我的应用程序也习惯于在行上抛出空指针异常：

camera.takePicture(null, null,new PhotoHandler(getApplicationContext()));

我认为这是由于相机获取空值引起的。为避​​免此异常，我在这行代码的顶部进行了检查。因此 onClick 函数如下所示：

```
public void onClick(View view) {
  if (camera != null) {
    Log.d("camera state","camera is NOT null");  
  }else{
    Log.d("camera state","camera is null");
    camera = android.hardware.Camera.open(cameraId);
  }
  camera.takePicture(null, null,new PhotoHandler(getApplicationContext()));
} 
```

希望能帮助到你 ！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-03-24T12:18:10.267

好久没有发布查询了，但问题是您必须在调用 takePicture API 之前启动预览，即

```
 public void onClick(View view) {
camera.startPreview(); //Add this line
camera.takePicture(null, null,
    new PhotoHandler(getApplicationContext()));
} 
```

我也使用相同的代码。另请注意，除非您有前置摄像头，否则这不会让您单击图片。如果您只想使用相机硬件拍照，请检查后置摄像头而不是前置摄像头。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-04-15T08:10:39.427

您`NullPointerException`在通话时说`takePicture`，所以我猜错误在通话本身而不是在`PhotoHandler`. 我们需要`LogCat`验证。

我认为罪魁祸首是：`new PhotoHandler(getApplicationContext()`. 您应该`PhotoHandler`在调用之前创建`takePicture`，并在函数中使用它的值`takePicture`。

```
PhotoHandler mPhotoHandler = null;
public void onClick (View view) {
    mPhotoHandler = new PhotoHandler(getApplicationContext());
    camera.takePicture(null, null, mPhotoHandler);
} 
```

# python - 排除tastepie post数据中的一些字段

> ID：16010366
> 
> 赞同：1
> 
> 时间：2013-04-15T08:02:59.640
> 
> 标签：python, django, tastypie

最近我为我的项目启动了一个 API `django-tastypie`。实际上我想在发布请求中排除一些字段要求。

假设我的模型有四个字段，并且它们都定义为`django`模型中的要求。但我想从 API 请求中接收其中两个，另外两个将由我的函数填充。

那么，我怎么能告诉`tastypie`只接收这两个字段并跳过其他字段呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-20T23:47:03.407

如果你想排除相同的字段，你可以通过在资源的元类中定义它来做到这一点，例如：

```
class MyResource(ModelResource):
     class Meta:
         excludes = (field1, field2) 
```

对于此资源，每次都将排除这些字段。

但是，如果您只想在帖子上获取不同的字段，我这样做的方式是通过覆盖脱水方法：

```
def dehydrate(self, bundle):
     if bundle.request.META['REQUEST_METHOD'] == 'POST':
         bundle.data = dict(my_field1=bundle.obj.my_func1(),
                            my_field2=bundle.obj.my_func2()
                            )
     return bundle 
```

# php - 比较 PHP 中的 URL 字符串

> ID：16010368
> 
> 赞同：0
> 
> 时间：2013-04-15T08:03:14.193
> 
> 标签：php, string, comparison

我正在尝试使用来自 GET url 的查询来确定页面的内容。这就是我所拥有的（为清楚起见，对句子进行了编辑）：

```
 <?php 
//decalre variables
$title ='';
$welcome = '';
$params = '';

$params = $_SERVER['QUERY_STRING'];
echo $_SERVER['QUERY_STRING'];
echo $params;

if ($params='') {
    header('start.html') ;
} else {
    if ($params === "selection=republic") {
        //echo $params;
        //echo 'Republic';
        $title = "Private";
        $welcome = "Our .";
        $signoff = "The Republic will strike back!";
    } 
    else if ($params === "selection=rebels")    {
        //echo $params;
        //echo 'Rebels';
        $title = "Comrade";
        $welcome = "Hey comrade, welcome to the Underground Network!";
        $declaration="You see,o's!";
        $signoff = "Rebel!!";
    } 
    else if ($params === "selection=robots"){
        //echo $params;
        //echo 'Robots';
        $title = "Bit";
        $welcome = "Our data ";
        $declaration="Knowledge w.";
        $signoff = "ed now.";
    }
    else {
        echo 'There was an error - please go back.';
    }
} 
```

第一个回显显示正确的 URL，但比较卡在第三个选项上。帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:16:23.413

解析查询字符串有比 更好的方法`$SERVER['QUERY_STRING']`，特别是您可以使用它`$_GET`来访问特定参数。示例： www.example.com?name=Dave&age=30... 要获取名称，您可以这样做`$_GET['name']`，它会返回`Dave`. 我认为更好的方法是：

```
$selection = $_GET['selection'];
if (empty($selection)) {
    header('start.html') ;
}

else {
     $vars = array(
          'republic'=>array('title'=>'Private', 'welcome'=> 'Our .', 'declaration'=>'', 'signoff' => 'The Replublic will strike back'),
          'rebels'=>array('title'=>'Comrade', 'welcome' => "Hey comrade, welcome to the Underground Network!", 'declaration'=>"You see,o's!",'signoff' => "Rebel!!"),
          'robots'=>array('title'=>'Bit', 'welcome'=>'Our data', 'declaration'=>'Knowlegge W', 'signoff'=>'Ed now')
      );

      list($title, $welcome, $declaration, $signoff) = $vars[$selection];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:17:53.457

这来自三重 `=` 符号，它比较值和类型。您应该[在这里看到不同之处](https://stackoverflow.com/questions/80646/how-do-the-equality-double-equals-and-identity-triple-equals-comparis)。

我建议你只使用两个等号，顺便说一下，你可以使用 $_GET['selection'] 变量来简化你的代码：

```
<?php 
//decalre variables
$title ='';
$welcome = '';
$params = '';

$params = $_SERVER['QUERY_STRING'];
echo $_SERVER['QUERY_STRING'];
echo $params;

if (!isset($_GET['selection']) { // Check whether selection is set 
    header('start.html') ;
} else {
    if ($_GET['selection'] == "republic") {
        //echo $params;
        //echo 'Republic';
        $title = "Private";
        $welcome = "Our .";
        $signoff = "The Republic will strike back!";
    } 
    else if ($_GET['selection'] == "rebels")    {
        //echo $params;
        //echo 'Rebels';
        $title = "Comrade";
        $welcome = "Hey comrade, welcome to the Underground Network!";
        $declaration="You see,o's!";
        $signoff = "Rebel!!";
    } 
    else if ($_GET['selection'] == "robots"){
        //echo $params;
        //echo 'Robots';
        $title = "Bit";
        $welcome = "Our data ";
        $declaration="Knowledge w.";
        $signoff = "ed now.";
    }
    else {
        echo 'There was an error - please go back.';
    }
} 
```

# iphone - how to keep same iPhone app dimension in iPad during debugging

> ID：16010384
> 
> 赞同：1
> 
> 时间：2013-04-15T08:04:26.503
> 
> 标签：iphone, ios, ipad, dimension

I only have an iPad, but I have developed a iPhone 5 app, and wanna to test it though iPad.

The issue is that frame and all objects are expanding to full screen in ipad.

I used IOS 5.1, iPad 1, Xcode 4.6.1, storyboard(iphone), set ipad use the same storyboard as iphone in "target".

So please help me how to run the same iphone size app in the ipad.

Thanks a lot!!!!!!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:11:51.537

I believe you need to change the app target from Universal to iPhone. (check sample image)

**Go to:** `[Project Targets] > Summary > iOS Application Target > Devices > iPhone`

![Sample Image](https://i.stack.imgur.com/a9XQl.png)

This way the iPad will open your app as a legacy iPhone app.

(This worked for me in a simple example, but there may also be more work involved in ensuring you are building for iPhone only and not using any iPad-only UI elements.)

# iphone - 在 iPhone 上发布新更新后如何保留旧应用版本

> ID：16010386
> 
> 赞同：-1
> 
> 时间：2013-04-15T08:04:39.007
> 
> 标签：iphone, distribution

购买应用程序的用户是否可以保留旧版本和新版本？

或者如果由于某种原因新版本恢复到旧版本有问题？

我想以某种方式使这成为可能，因为 - 即使新更新已经过彻底测试 - 该应用程序也会与特殊设备通信，并且如果新更新由于某种原因不再适用于我喜欢用户的一些旧设备能够回到以前的应用程序更新，更新后不会失望或生气。

在 iPhone 上轻松更新应用程序需要一周或更长时间，因此开发人员无法真正快速响应，并且在这种情况下只能在 iTunes 上恢复应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:11:18.900

回到旧应用程序的唯一方法是恢复适当的 iTunes 备份...

# java - 如何对java代码进行单元测试

> ID：16010387
> 
> 赞同：2
> 
> 时间：2013-04-15T08:05:00.403
> 
> 标签：java, junit

如何使用 Junit 对该代码进行单元测试

```
public class Diamond {

   public void DiamondShape(int num) {

       for(int ucount=num;ucount>0;ucount--) {
    //Loop to print blank space
        for(int count_sp=1;count_sp<ucount;count_sp++)
            System.out.printf(" ");
    //Loop to print *
        for(int count_ast=num;count_ast>=ucount;count_ast--)
            System.out.printf("* ");
        System.out.println();
       }
//Loop for lower half
  for(int lcount=1;lcount<num;lcount++) {
    //Loop to print blank space
    for(int count_sp=0;count_sp<lcount;count_sp++)
            System.out.printf(" ");
    //Loop to print *
        for(int count_ast=num-1;count_ast>=lcount;count_ast--)
            System.out.printf("* ");
    System.out.println();
    }
  } 
} 
```

我是单元测试的新手，想要一些关于单元测试的指导。

num=3 时输出

```
 *
  * *
 * * *
  * *
   * 
```

这就是输出应该是这样的，num表示中心线上的星号

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:10:47.150

而不是做 sysout 你应该重构并使你的方法返回输出。然后，您可以验证输出。

另一个选项是在您的 junit 测试中创建一个输出流并将其设置在

```
System.setOut(your output stream); 
```

然后，您可以验证输出流。

但这并不可靠，因为如果您的程序执行一些其他代码也写入 sysout，那么您的输出流也将包含该数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:24:28.920

为了测试一种方法，它必须执行以下操作之一：

*   返回一个可以与期望值进行比较的值
*   更改传递给它的对象的状态
*   抛出一个你可以捕获的异常
*   更改对象的某些状态，您可以通过调用另一个方法来验证这些状态

因此，通常应避免返回 void 并将其结果写入 System.out 的方法。

要解决此问题，您可以执行以下操作之一：

*   返回一个字符串而不是写入标准输出。
*   使该方法采用[PrintStream](http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html)对象并写入该对象。System.out 是一个 PrintStream 对象，因此您可以在生产代码中传递它。但是，在您的测试代码中，您可以传递自己的 PrintStream 对象，该对象不写入标准输出，而是允许检查写入的内容。这种技术称为[依赖注入](http://en.wikipedia.org/wiki/Dependency_Injection)。
*   使该方法写入私有 PrintStream 或 String，并向该类添加两个新方法。一种是获取该变量的内容，以便您可以测试它是否正确，另一种是将该变量写入 System.out。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:31:39.930

而不是直接打印您的形状，您可以将形状存储在`ArrayList<String>`

```
public class Diamond {
    private List<String> shape = null;

    public void createShape(int num) {
        shape = new ArrayList<String>();
        String shapeLine = "";
        for(int ucount=num;ucount>0;ucount--) {
            for(int count_sp=1;count_sp<ucount;count_sp++) {
                shapeLine += " ";
            }
            for(int count_ast=num;count_ast>=ucount;count_ast--) {
                shapeLine += "* ";
            }
            shape.add(shapeLine);
        }

        shapeLine = "";
        for(int lcount=1;lcount<num;lcount++) {
           for(int count_sp=0;count_sp<lcount;count_sp++) {
                shapeLine += " ";
           }
           for(int count_ast=num-1;count_ast>=lcount;count_ast--) {
               shapeLine += "* ";
           }
           shape.Add(shapeLine);
        }
    } 

    public void printShape(OutStream out) {
        if(shape != null) {
            for(String shapeLine : shape) {
                out.println(shapeLine);
            }
        }
    }

    public List<String> getShape() {
        return shape;
    } 
} 
```

现在您可以测试您的代码：

```
@Test
public void testShape() {
    Diamond diamond = new Diamond();
    diamond.createShape(3);
    List<String> shape = diamond.getShape();

    assertNotNull(shape);
    assertEquals(5, shape.size());
    assertEquals("  * ", shape.get(0));
    assertEquals(" * * ", shape.get(1));
    assertEquals("* * * ", shape.get(2));
    assertEquals(" * * ", shape.get(3));
    assertEquals("  * ", shape.get(4));
} 
```

打印你的形状只需调用

```
diamond.printShape(System.out); 
```

上半部分和下半部分循环的内部部分完全相同，可以重构为自己的方法。

# ios - 修改 StoryBoard UIbarbuttonitem 外观奇怪

> ID：16010389
> 
> 赞同：0
> 
> 时间：2013-04-15T08:05:12.100
> 
> 标签：ios, objective-c

我的“取消”和“下一步”按钮（从 StoryBoard 的对象库中拖放）共享相同的图形，但一个显示正确，而另一个明显出现故障。为什么？

我在下面配置我的按钮主题。图像“按钮”为 24x24 分辨率。

```
[[UIBarButtonItem appearance]
 setBackButtonBackgroundImage:[UIImage imageNamed:@"button.png"]
 forState:UIControlStateNormal barMetrics:UIBarMetricsDefault];

[[UIBarButtonItem appearance]
 setBackgroundImage:[UIImage imageNamed:@"button.png"]
 forState:UIControlStateNormal barMetrics:UIBarMetricsDefault]; 
```

显示问题的图像。

![http://i.stack.imgur.com/BBPd3.png](https://i.stack.imgur.com/qs5n5.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:18:57.083

添加图像`UIBarButtonItem`

```
UIBarButtonItem *btn1 = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"image.png"] style:UIBarButtonItemStylePlain target:self action:@selector(Action1:)]; 
```

以上是如何在`UIBarButtonItem`.

试试上面我的代码，它可能对你有帮助。

# proxy - EJB 3.1 的无接口视图

> ID：16010392
> 
> 赞同：0
> 
> 时间：2013-04-15T08:05:20.530
> 
> 标签：proxy, ejb, java, ejb-3.1

基本上我有2个问题。

1.  EJB 3.1 规范对无接口 EJB bean 有何规定？为什么这么晚才推出？
2.  什么是典型和/或参考实现？AFAIK，不可能用JDK动态代理来实现它，因为没有可用的接口。然而，可以使用 Javaassist 或 CGLIB 定义动态代理，但我怀疑这个实现是否可以参考。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:13:02.527

我认为您的第二个问题回答了您的第一个问题。因为 JDK 支持基于接口的动态代理，所以为接口完整的 bean 实现容器要容易得多。然而，应用程序开发人员每次必须创建 bean 时都创建接口是很烦人的。这就是引入无接口 bean 的原因。然而，支持此类 bean 的容器的实现需要您提到的字节码工程技术，考虑到多类加载环境、动态重新部署和其他问题，这要困难得多。这可能是早期没有引入无接口 EJB 的原因。

# symbols - ELF 中的符号地址

> ID：16010396
> 
> 赞同：0
> 
> 时间：2013-04-15T08:05:34.747
> 
> 标签：symbols, elf

我正在尝试阅读 ELF 符号表。

我在共享库中面临以下差异，无法理解其背后的原因。

对于 libc，使用`readelf`我得到以下输出。

```
Num:    Value          Size Type    Bind   Vis      Ndx Name
7: 00000033c32160b0   146 FUNC    WEAK   DEFAULT   11 realloc@@GLIBC_2.2.5
8: 00000033c3421000     4 OBJECT  WEAK   DEFAULT   21 _dl_starting_up@@GLIBC_PRIVATE
9: 00000033c32118f0   382 FUNC    GLOBAL DEFAULT   11 _dl_allocate_tls@@GLIBC_PRIVATE
10: 00000033c3421280    40 OBJECT  GLOBAL DEFAULT   21 _r_debug@@GLIBC_2.2.5
11: 00000033c341fdc8     8 OBJECT  GLOBAL DEFAULT   17 __libc_stack_end@@GLIBC_2.2.5
12: 00000033c3215f30   252 FUNC    WEAK   DEFAULT   11 __libc_memalign@@GLIBC_2.2.5
13: 00000033c3211a70   140 FUNC    GLOBAL DEFAULT   11 _dl_deallocate_tls@@GLIBC_PRIVATE
14: 00000033c3216040    52 FUNC    WEAK   DEFAULT   11 calloc@@GLIBC_2.2.5
15: 00000033c341fc88     8 OBJECT  GLOBAL DEFAULT   17 _dl_argv@@GLIBC_PRIVATE
16: 00000033c3211000   599 FUNC    GLOBAL DEFAULT   11 _dl_mcount@@GLIBC_2.2.5 
```

并使用以下命令构建我自己的共享库

```
gcc -rdynamic -Wint-to-pointer-cast -g -fPIC -lpthread -c probes.c -ldl -lelf  
gcc -shared -lpthread -Wl,--no-as-needed,-soname,libprobes.so.1 -o libprobes.so.1 mutrace.o -ldl -lelf 
```

输出是

```
Num:    Value          Size Type    Bind   Vis      Ndx Name
.
.
.
34: 00000000000040d0    66 FUNC    GLOBAL DEFAULT   11 pthread_create
35: 0000000000001d72   109 FUNC    GLOBAL DEFAULT   11 thread_local_init
36: 0000000000002b21   481 FUNC    GLOBAL DEFAULT   11 trylock_ret_event
37: 00000000000030c4   652 FUNC    GLOBAL DEFAULT   11 lock_init_event
38: 0000000000003e4d   130 FUNC    GLOBAL DEFAULT   11 pthread_mutex_init
39: 0000000000004668     0 FUNC    GLOBAL DEFAULT   12 _fini
40: 0000000000003dd0   125 FUNC    GLOBAL DEFAULT   11 pthread_cond_timedwait
41: 0000000000001b03    92 FUNC    GLOBAL DEFAULT   11 backtrace
42: 0000000000001b5f    94 FUNC    GLOBAL DEFAULT   11 backtrace_symbols
43: 0000000000002ee3   481 FUNC    GLOBAL DEFAULT   11 unlock_ret_event
44: 0000000000004026    95 FUNC    GLOBAL DEFAULT   11 pthread_mutex_trylock
45: 0000000000003531   476 FUNC    GLOBAL DEFAULT   11 lock_destroy_event
46: 0000000000004112  1012 FUNC    GLOBAL DEFAULT   11 print_symtable 
```

对于 libc，符号值是绝对的（虚拟地址），但在我的库中，这些值是相对的。**是什么决定了这种行为？**

我尝试按照[http://docs.oracle.com/cd/E19082-01/819-0690/chapter6-35166/index.html](http://docs.oracle.com/cd/E19082-01/819-0690/chapter6-35166/index.html)中的信息进行操作，但是当我检查 ELF 标头时，两个库的类型相同.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T02:33:47.590

> 使用以下命令构建我自己的共享库
> 
> gcc -rdynamic -Wint-to-pointer-cast -g -fPIC -lpthread -c probes.c -ldl -lelf
> gcc -shared -lpthread -Wl,--no-as-needed,-soname,libprobes.so.1 -o libprobes.so.1

这些命令*不正确*。第一个是编译命令（因为`-c`标志）。链接器选项（`-rdynamic`,`-lpthread`等）不属于它。

第二个命令是链接命令，并且有错误的库顺序。此外，您忘记实际使用`probes.o`您编译的内容。这会更好：

```
gcc -shared -o libprobes.so.1 -Wl,-soname=libprobes.so.1 probes.o -lpthread 
```

> 对于 libc，符号值是绝对的

不，他们不是。您的 libc 显然已预先链接在地址`0x33c3210000`（或类似地址）。这并不意味着符号是绝对的。您可以撤消预链接（读取`man prelink`），您会在`libc.so.6`.

# jboss5.x - 负载均衡 MySQL ndbcluster

> ID：16010401
> 
> 赞同：1
> 
> 时间：2013-04-15T08:05:49.840
> 
> 标签：jboss5.x, mysql, database-cluster

我已成功设置**ndbcluster 版本 7.1.26**。这包含**2 个数据节点 [NDBD]**、**2 个 mysql [MYSQLD]**节点和**一个管理 [MGMD]**节点。复制成功。我的**Web 应用程序部署在 JBoss-5.0.1 中**，并使用**JNDI 连接资源**，这些资源在应用程序特定的**ds.xml**文件中以负载平衡 url 形式指定，例如**jbdc:mysql:loadbalance:host1:port1,host2:port2/databaseName**。

**host1 ：指第一个 mysqld 节点，port1 指它正在运行的端口。host2 ：指第二个 mysqld 节点，而 port2 指的是它正在运行的端口。**

当两个 [MySQLD] 节点都启动并运行时，一切正常，集群响应良好，复制数据，数据检索操作也正常工作。

但是，当任何 [MySQLD] 节点出现故障时，就会出现问题。数据被插入/更新/复制，但应用程序无法从集群中检索数据，网页仍然忙于工作，这意味着忙于检索数据。一旦关闭的节点启动，它就会正确响应，应用程序继续前进并显示从集群检索到的数据。

**在 JBoss 5.0.1 启动时，它在类 LoadBalancingConnectionProxy.invoke(LoadBalancingConnectionProxy.java:439) 中显示 NullPointerException**。告诉我上述异常是否在上述问题中起任何作用。

如果有人遇到过上述问题，如果有任何关于这些问题的解决方案，请告诉我。

谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-19T07:56:40.060

我已经解决了这个问题，因为它是 connectorJ 版本中的一个错误。因为我正在处理的项目已经在使用错误的 jar **mysql-connector-java-5.0.8.jar**和问题已经解决的 jar 版本，即**mysql-connector-java-5.1.13-bin.jar** . 在我删除 jar **mysql-connector-java-5.0.8.jar**后进行所有搜索后，我的问题得到了解决。问题在于，ConnectorJ/Driver 是从有缺陷的 jar 中引用的。涉及此问题的错误 id 和 url 是： **[http://bugs.mysql.com/bug.php?id=31053](http://bugs.mysql.com/bug.php?id=31053)** 。

感谢您的考虑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T06:51:46.023

您是否为标签中指定的每个主机（主机 1、主机 2）使用不同的用户 ID 和密码？（直接或使用标签）？

# html - 使流体绝对定位部分居中

> ID：16010403
> 
> 赞同：1
> 
> 时间：2013-04-15T08:05:59.737
> 
> 标签：html, css, responsive-design, centering

所以我知道这是另一个中心问题，但我已经在谷歌和 SO 周围漫游了几天，没有解决方案，所以我现在就问。

我正在尝试做的是水平居中一个最大宽度的流体部分元素，其中包含绝对定位的元素。问题是，正如您在我的[jsFiddle](http://jsfiddle.net/7272T/5/)中看到的那样，边距占可用空间的 50%，而其他 50% 由该部分使用。我想做的是使该部分完全居中，但随着浏览器窗口的关闭使边距变小，同时保持该部分不重新调整大小，直到窗口边缘到达它为止。

我不想使用任何表格、表格单元格的解决方案，因为我在 CSS-Tricks 上读到，绝对定位表格单元格内的元素可能会很痛苦。

**编辑**基本上，目标是在不调整大小的情况下让内容占用尽可能多的空间，直到视口宽度强制内容响应。

感谢您朝着正确的方向前进。

**HTML：**

```
<section id="wrapper">
    <section id="content">
        <p>Absolutely positioned imgs, btns, etc. go in here</p>
    </section>
</section> 
```

**CSS：**

```
#wrapper {
position:absolute;
width:50%;
height:300px;
margin-left:25%;
margin-right:25%;
outline:1px solid red;
}
#content {
position:absolute;
width:100%;
height:100%;    
max-width:500px;
background:rgb(225, 112, 75);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:34:14.063

您可以使用

```
#content {
    display:inline-block;
    text-align:center;
} 
```

将您的元素居中，这些元素也将具有`display:inline-block;`属性。

**编辑：**现在我已经更好地阅读了你的问题，你也可以使用

```
#content {
        margin:0 25%;
    } 
```

使您的第二部分居中。

[这是你的小提琴更新。](http://jsfiddle.net/7272T/8/) 正如您在这个小提琴中看到的那样，现在一切都居中且响应迅速。

**EDIT-2：**也许你想添加一些媒体查询来达到你的目标。只需在 CSS 文件的末尾添加如下内容：

```
@media screen and (max-width:720px){
    #content{width:100%; margin:0px;} 
} 
```

这表示当屏幕达到 720 及以下的宽度时，#content（以及您放入其中的每个 ID/CLASS）将按照声明的方式运行。

请注意，`@media`查询不是跨浏览器的，您可能需要添加一个脚本以使它们在每个浏览器上都可以工作，我发现[**respond.js**](https://github.com/scottjehl/Respond)是一个很好的工具来完成这项工作。

另请注意，`@media`查询必须至少放置在您即将在屏幕调整大小时更改的默认属性下，这就是为什么建议将它们添加到您的 css 文件底部的原因。

[**这里是另一个**](http://jsfiddle.net/7272T/10/)应用媒体的小提琴（只需尝试调整框大小以查看效果）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:41:12.093

我想知道这是否是您要找的东西：[jsfiddle](http://jsfiddle.net/7272T/7/)

我将您的包装更改为：

```
#wrapper {
    position: fixed;
  top: 50%;
  left: 50%;
  margin-top: -150px;
  margin-left: -200px;
    width:400px;
    height:300px;
    outline:1px solid red;
} 
```

这样您的 div 现在就位于屏幕中间

# java - WebDriver 所需的功能

> ID：16010404
> 
> 赞同：0
> 
> 时间：2013-04-15T08:06:10.513
> 
> 标签：java, selenium-webdriver, httpbrowsercapabilities

我设置了具有以下功能的 webDriver：

```
DesiredCapabilities ffCapabilities = DesiredCapabilities.firefox();
ffCapabilities.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, UnexpectedAlertBehaviour.ACCEPT);
driver = new FirefoxBrowser(ffCapabilities); 
```

有一个页面应该解除警报。是否有可能通过这样的捕获来捕获 UNEXPECTED_ALERT_BEHAVIOUR：

```
 private void waitNoContainer(int timeout) {
    try {(new WebDriverWait(getDriver(), timeout)).
                        until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(CssSelectors.WAIT_CONTAINER)));
            } catch (UnhandledAlertException exc) {
                driver.switchTo().alert().dismiss();
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-17T11:59:19.593

您可以将 UNEXPECTED_ALERT_BEHAVIOUR 设置为“忽略”，并在警报被捕获后做任何您想做的事情。

# reference - DDD：引用另一个聚合子实体

> ID：16010405
> 
> 赞同：10
> 
> 时间：2013-04-15T08:06:16.797
> 
> 标签：reference, transactions, domain-driven-design, entity, aggregate

我目前正在研究**DDD**，需要一点启发。

我有两个实体

*   `Temple`
*   `TempleVariant`

`Temple`（耳机）包含**基本信息**（名称、描述……），并有 n 个具有**技术描述**（CAD 图纸、尺寸……）的**变体**

 **我的第一印象是： `Temple`形成`TempleVariant`一个聚合体——它们**属于一起**：它们看起来非常紧密耦合

*   如果我删除一个`Temple`all `TempleVariant`s 也应该**删除**
*   `TempleVariant`s**不能没有** `Temple`（至少没有意义）

但后来我读到聚合根**之外的任何内容都****不允许引用**另一个聚合内的实体。但实际上**不是`Temple`**被外部实体**引用****`TempleVariants`**，而是.

这是否意味着在（DDD）现实中`Temple`，***不同*****的聚合**似乎*只是*一个聚合？`TempleVariant`

 **但是，如果我删除`Temple`呢？正如我所说`TempleVariant`， s 也必须删除。但这将违反规则“一个聚合更改 - 一个事务”（或它所谓的:)），因为我的“感觉”是我必须在一个事务中删除它们......

## 所以我的问题是：

*   那是***两个***聚合体吗？
*   如果是这样：如何处理删除？

华拉巴

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T09:20:14.953

领域模型中的每个类都应该映射您从领域专家那里学习的通用语言。顺便说一句，这看起来是一个非常有趣的领域。

对我来说，有两条不同的路径可以解决您的担忧。

您应该记住，聚合是确保业务不变性所必需的。也就是说：他们收到改变状态的[命令](http://epic.tesio.it/doc/manual/command_query_separation.html)，他们有责任避免无效操作（通过适当的[异常](http://epic.tesio.it/2012/12/05/exceptions-are-the-norm.html)）。他们通常是实体，因为他们拥有一个身份。

**`TempleVariant`s 作为值对象**

如果（且仅当）TempleVariant 的实例需要处理业务规则，它们应该是聚合的一部分。也就是说，`Temple`包含它们。
但是它们应该是不可变的对象：只有它们`Temple`才能接收改变其状态的命令（总是作为一个整体）。

在这种情况下，当您删除一个 Temple 时，所有连接的 TempleVariants 都会消失。尽管如此，在我开发的大多数 DDD 应用程序中，没有实体被删除：它们只是被存档。但我习惯于金融应用程序和域，可能是在您的域中删除寺庙是正确的做法。

**`TempleVariant`s 作为 DTO**

如果没有任何命令`Temple`需要`TempleVariant`确保业务规则，则该字母可能只是有用的描述性数据，可以使用映射数据库模式的适当 DTO 来处理。在这种情况下，我将定义一个基础设施服务，它返回指定的所有变体`Temple`。

在这种情况下，您可以在 DTO 中公开相关的[共享标识符](http://epic.tesio.it/doc/manual/shared_identifiers.html)，`Temple`但这不是必需的。

有关聚合设计的更多信息，我强烈建议您阅读[Vernon 关于聚合设计的文章](https://vaughnvernon.co/?p=139)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T14:02:57.077

违反规则和 MikeSW 关于“现实世界”中行为的问题让我重新思考了我的方法。在与领域专家交谈后，我意识到我的方法*与 domain 不匹配*，因此违反了 ddd。我目前正在重新设计我的模型。

@Question：如果我将`TempleVariant`s 留在`Temple`模型中，我会采用“ **identity-relative-to-its-parent** ”方法来引用变体（正如 MattDavey 建议的那样）。**但设计中更重要的错误仍然存​​在。**

如果基本设计*是正确的*，我会创建两个**单独的聚合根**。它会起作用（从我的角度来看），但它会**再次****涵盖设计错误**（至少在我的情况下）。

**一般来说**，我认为，**如果违反了 ddd 规则**，最好**退后一步**，**查看**实际业务并检查您所拥有的是否与您的域真正匹配。

谢谢您的帮助！****

# python - 显示上传的文件 django

> ID：16010406
> 
> 赞同：0
> 
> 时间：2013-04-15T08:06:24.793
> 
> 标签：python, django

## 如何检索和显示上传的文件？

这是我上传文件的模型

## /models.py/

```
class resmodel(models.Model):
   file_header = models.CharField(max_length=100)
   upload_file = models.FileField(upload_to='documents') 
```

## /resume.html/

```
<form action="." method="post" >{% csrf_token %}
<table>
    <tr>
        <td>
            <label>File Header</label>
        </td>
        <td>:&nbsp;&nbsp;
            <label>{% for detail in profile_detail %}{{ detail.file_header }}{% endfor %}
        </td>
    </tr>

    <tr>
        <td>
            <label>FILE</label>
        </td>
        <td>:&nbsp;&nbsp;
            <label> {{ MEDIA_URL }}{% for detail in profile_detail %}{{ MEDIA_URL }}{{detail.upload_file}}{% endfor %}
        </td>
    </tr>
</table>
</form> 
```

## /urls.py/

```
urlpatterns = patterns('', (r'^profile/$', resview),) 
```

## /settings.py/ 在设置中我的媒体路径和网址是..

```
CURRENT_DIR = os.path.dirname(os.path.abspath(__file__))
MEDIA_ROOT = os.path.join(CURRENT_DIR, 'media')
MEDIA_URL = '/var/www/project/media/' 
```

## 何我可以在我的html页面中显示上传的文件..

## 建议我，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:27:48.743

您可以通过访问该`url`属性来访问上传文件的 URL。请参阅：[`FieldField.url`](https://docs.djangoproject.com/en/dev/ref/models/fields/#django.db.models.fields.files.FieldFile.url)在 Django 文档中。

在您的情况下，您可以执行以下操作：`<a href="{{ MEDIA_URL }}{{detail.upload_file.url}}">Uploaded File</a>`，这将创建一个指向文件的超链接，允许通过单击 resume.html 模板中的链接来下载它。

# scala - Scala 隐式上下文解析

> ID：16010408
> 
> 赞同：1
> 
> 时间：2013-04-15T08:06:30.223
> 
> 标签：scala, implicits

我在 SLS 中找到了隐含解析的规则：

1.  如果 T 是复合类型 T1 与 ... 与 Tn，T1、...、Tn 的各部分的并集，以及 T 本身

2.  如果 T 是参数化类型 S[T1, ..., Tn]，则 S 和 T1, ..., Tn 各部分的并集

3.  如果 T 是单例类型 p.type，则 p 的类型的部分

4.  如果 T 是类型投影 S#U，则 S 的部分以及 T 本身

5.  在所有其他情况下，只有 T 本身

下面的示例是基于规则 4 的隐式解析吗？

```
object Foo{
   trait Bar
   implicit def newBar = new Bar{
        override def toString = "Implicit Bar"
   }

}

implicitly[Foo.Bar] 
```

谢谢

兹拉亚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:27:57.927

是的，我相信这是正确的。我认为对于单例对象`Foo`，类型`Foo.Bar`与以下内容相同`Foo.type#Bar`：

```
implicitly[Foo.type#Bar] // ok 
```

还：

```
def a(f: Foo.type#Bar) {}
def b(f: Foo.Bar) { a(f) }       // accepted

def c(f: Foo.Bar) {}
def d(f: Foo.type#Bar) { c(f) }  // accepted 
```

# sql - 在表中插入当前日期时间

> ID：16010410
> 
> 赞同：0
> 
> 时间：2013-04-15T08:06:36.080
> 
> 标签：sql, oracle, oracle10g

此查询工作正常：

```
INSERT
INTO I#journal
  (
    Type_,
    Mndnr,
    Obj,
    Status,
    Reason,
    Date_
  )
  VALUES
  (
    'CHECK_TRX',
    '1047',
    '123123123',
    'NEW',
    '',
    To_Date('10-04-2013 14:35:07', 'dd-mm-yyyy hh24:mi:ss')
  ); 
```

但我想自动插入当前日期而不是`To_Date('10-04-2013 14:35:07', 'dd-mm-yyyy hh24:mi:ss')`

所以我尝试了`Now()`

```
INSERT
INTO I#journal
  (
    Type_,
    Mndnr,
    Obj,
    Status,
    Reason,
    Date_
  )
  VALUES
  (
    'CHECK_TRX',
    '1047',
    'werwerwer',
    'NEW',
    '',
    Now()
  ); 
```

但我得到一个错误：

```
Error at Command Line:18 Column:5
Error report:
SQL Error: ORA-00904: "NOW": недопустимый идентификатор
00904\. 00000 -  "%s: invalid identifier"
*Cause:    
*Action: 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:35:06.737

该文档列出了[Oracle 中可用的功能](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions.htm)；来自其他数据库的那些可能不起作用，尤其是非标准 (ANSI) 的。

阅读[`SYSDATE`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions191.htm#sthref1621)和[CURRENT_DATE](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions044.htm) ; 如果需要更高的精度，则[SYSTIMESTAMP](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions192.htm)和[CURRENT_TIMESTAMP](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions045.htm)。

`SYS`和版本之间的区别在于`CURRENT_`您使用的是服务器时间还是会话（客户端）时间，这对您来说可能是也可能不是显着的区别。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:08:05.887

尝试 current_date 或 current_timestamp

# c# - Windows 商店应用程序：更改 Appbar 的背景颜色

> ID：16010413
> 
> 赞同：0
> 
> 时间：2013-04-15T08:06:52.270
> 
> 标签：c#, xaml, windows-8, windows-runtime, windows-store-apps

我的应用程序上有一个 Appbar 并且背景是白色的，有什么想法可以改变它吗？这是我的代码：

```
 <AppBar>
     <Button       
    Style="{StaticResource HomeAppBarButtonStyle}" /> 
  </AppBar> 
```

这给出了： ![在此处输入图像描述](https://i.stack.imgur.com/D99Ps.jpg)

但我想把它改成这样：![在此处输入图像描述](https://i.stack.imgur.com/qcWUp.jpg)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:13:02.527

AppBar 有一个`Background`属性。使用该属性设置颜色，例如使用资源。

```
<AppBar  Background="{StaticResource AppBarBackground}"> 
```

AppBarBackground 可以是 SolidColorBrush

# android - PopupWindow 大纲路径

> ID：16010416
> 
> 赞同：0
> 
> 时间：2013-04-15T08:07:05.507
> 
> 标签：android, drawable, popupwindow

我搞砸了一些东西，最后一无所获。有人可以向我展示一个非常基本的示例，如何使用路径显示带有边框轮廓的弹出窗口。请不要发布 XML 形状。我需要使用路径，因为轮廓不会是矩形的。

我有一些 poc 工作，但后来我完全搞砸了一些东西，现在什么都没有。

基本上我所拥有的是（不完整的代码）：

```
public myPop extends PopupWindow {
  public myPop(Conext context) {
    super(context);

    setFocusable(true);
    setWindowLayoutMode(View.MeasureSpec.makeMeasureSpec(300, View.MeasureSpec.AT_MOST), ViewGroup.LayoutParams.WRAP_CONTENT);

    LayoutInflater inflater = LayoutInflater.from(context);
    layout = inflater.inflate(R.layout.settings2, null);

    //setBackgroundDrawable(new ColorDrawable(Color.BLUE));

    Path path = new Path();
    path.moveTo(0, 0);
    path.lineTo(100, 0);
    path.lineTo(100, 100);

    setBackgroundDrawable(new OutlineDrawable(path);

    setContentView(layout);
}

public void show() {
    showAtLocation(this.parent, Gravity.NO_GRAVITY, 100, 500);
}
} 
```

OutlineDrawable 只不过是在 draw() 中扩展 Drawable ，我用给定的路径调用 drawPath() 和一些带有描边样式的绘画。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:02:33.433

对不起。我发现了我的问题。Drawable Paint 有 alpha 0 - 错误。我知道这一定是我的一些愚蠢的错字。啊。

# java - 解析 XML 文件时如何忽略空格和换行符

> ID：16010419
> 
> 赞同：2
> 
> 时间：2013-04-15T08:07:09.533
> 
> 标签：java, xml, xml-parsing, whitespace, removing-whitespace

如何在解析 XML 文件时忽略空格。它总是`characters(...)`在结束元素 a 之后再次调用该方法`'\n'`，`'\r'`因此它会调用该方法两次，而不是只调用一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:31:15.113

`ignorableWhitespace()`当遇到*元素内容*中的空白时，一个 SAXParser 根据 DTD 调用解析文档。例如，如果这个 XML 片段

```
<ol>
   <li>one</li>
   <li>two</li>
</ol> 
```

针对此 DTD 片段进行解析：

```
<!ELEMENT ol (li+)>
<!ELEMENT li (#PCDATA)> 
```

SAXParser 将要求`characters(...)`and `"one"`, `"two"`and`ignorableWhitespace(...)`用于元素之间的所有空白。

另请注意，这仅适用于针对 DTD 进行解析。使用 Schema 时，`ignorableWhitespace(...)`不调用（即使相同类型的信息可用）。

# c# - 值类型的 ASP.Net MVC 选择列表

> ID：16010425
> 
> 赞同：5
> 
> 时间：2013-04-15T08:07:30.790
> 
> 标签：c#, asp.net-mvc-4

我正在尝试使用下拉菜单做最简单的事情，但它不起作用。我有一个名为的整数属性`SearchCriteria.Distance`。这是一个简单的整数属性。我正在尝试将该属性绑定到整数的下拉列表，但它不会绑定。该值始终为`0`。这是代码：

```
@Html.LabelFor(x => x.SearchCriteria.Distance, "Radius (miles)", new { @class="control-label" })
                            <div class="controls">
                                @Html.DropDownListFor(x => x.SearchCriteria.Distance, new SelectList(new int[] { 5, 15, 25, 50 }), new { @class="input-small", style="height:36px;"})
                            </div> 
```

因为它是一个简单的整数列表，所以没有`Text` `Value`关联。我在这里做错了什么？

**编辑**：原来这个问题是我的一个愚蠢错误的结果。我忘记了表单上有一个带有`SearchCriteria.Distance`id 的隐藏字段，这阻止了下拉值的设置。我将下面的解决方案标记为答案，因为它是正确的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T12:04:47.243

下面的例子应该足以让你得到一个想法......

控制器（本例中的“/Controllers/TestController.cs”）：

```
public class TestController : Controller
{
    public ActionResult MyForm()
    {
        SearchViewModel model =
            new SearchViewModel()
            {
                Distance = 5 // This is the item that will be selected.
            };

        return View(model);
    }
} 
```

查看模型（为您的视图模型创建一个“ViewModels”文件夹，该文件将位于“/ViewModels/SearchViewModel.cs”中）：

```
public class SearchViewModel()
{
    public int Distance { get; set; }

    public IEnumerable<SelectListItem> DistanceItems
    {
        get
        {
            List<int> distances = new List<int>() { 5, 15, 25, 50 };

            return distances.Select(d => new SelectListItem() { Text = i.ToString(), Value = i.ToString() });
        }
    }
} 
```

查看（'/Views/Test/MyForm.cshtml'）：

```
@model MvcApplication1.ViewModels.SearchViewModel

@Html.DropDownListFor(m => m.Distance, Model.DistanceItems) 
```

# c# - 异步与手动线程创建 HttpListener

> ID：16010426
> 
> 赞同：0
> 
> 时间：2013-04-15T08:07:38.040
> 
> 标签：c#, multithreading

我实现了 HttpListener 来处理请求。

现在我不确定使用 Async 实现是否比我的更好。

我的做法与此类似：

```
while (this.httpListener.IsListening)
{
    processRequest(this.httpListener.GetContext());
}

void processRequest(HttpListenerContext context)
{
    ...
    ThreadPool.QueueUserWorkItem(....
    ...
} 
```

所以简而言之，我首先在一个线程中处理所有请求，然后使用 ThreadPool 将它们拆分。

与 Async-Implementation 相比是否有任何缺点，或者甚至更糟糕？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:22:54.433

要意识到的一件重要事情是 using`async`不会创建新线程。当然，您调用的函数可能会这样做，但`async`单独不会这样做。

对于 IO，Async 方法的许多 Microsoft 实现有时会使用 IO 完成端口。这意味着它们会从操作系统管理的单个专用线程中回调，而不必创建一个新线程来等待一些 IO。

这是一种更好的方法，特别是对于可能有大量传入请求的服务器。每个线程都有巨大的开销。

因此，我建议您`async`尽可能使用该实现。

# asp.net - 将时间值绑定到 asp.net GridView

> ID：16010428
> 
> 赞同：0
> 
> 时间：2013-04-15T08:07:48.117
> 
> 标签：asp.net, gridview

我需要将时间值绑定到我的网格视图。例如，如果时间是 13:00，我需要在网格中显示为 13-00。但它显示为 01-00。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:11:25.650

您需要将值转换为 24 小时格式（例如，通过为您的应用程序选择不同的文化）或简单地创建一些转换器类来为您转换它。有多种资源可供学习。

像这样的东西应该工作：

```
DateTime localTime = DateTime.Now;
// 24 hour format -- use 'H' or 'HH'
string timeString24Hour = localTime.ToString("HH:mm", CultureInfo.CurrentCulture); 
```

取自 SO [Convert AM/PM time to 24 hours format 中的另一个答案？](https://stackoverflow.com/questions/8337625/convert-am-pm-time-to-24-hours-format)

如果您的文化使用 12 小时格式，请使用不同的文化信息进行支持 24 小时格式的解析。

当然，您可能希望将其包装在 getter 属性中，以便它可用于绑定

```
public string DateIn24HourFormat
{
    get
    {
        return MyConvertFunction(this.Time);
    }
} 
```

你明白了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:11:37.550

您可以使用[GridView.RowDataBound](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowdatabound.aspx)事件来实现它。根据需要格式化时间字符串并分配给网格视图单元格。

您可以使用日期格式将日期时间转换为 24 小时格式。

```
 void CustomersGridView_RowDataBound(Object sender, GridViewRowEventArgs e)
  {
    if(e.Row.RowType == DataControlRowType.DataRow)
    {
      e.Row.Cells[1].Text = DateTime.Now.ToString("MM/dd/yyyy HH:mm");
    }
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:20:43.090

`DataFormatString`在 中的属性中给出您的时间格式`BoundColumn`。应用格式为

```
{0:HH-mm} 
```

[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.boundfield.dataformatstring.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.boundfield.dataformatstring.aspx)

# delphi - Delphi Firemonkey：在运行时在 3D 视口上从不同的单元创建立方体

> ID：16010433
> 
> 赞同：1
> 
> 时间：2013-04-15T08:08:02.073
> 
> 标签：delphi, 3d, firemonkey

我正在设计 3D 扫雷。我想创建一个类来生成 3D 立方体（它将由多个 TCube 组成，呈立方体形状），它将位于一个单独的类中，并与 3D 视口相结合。我需要使多维数据集运行时。我正在使用多维数组（Array of Array of Array of TCube）。这是我目前尝试这样做的代码

主机：

```
unit mineMainForm;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Rtti, System.Classes,
  System.Variants, FMX.Types, FMX.Controls, FMX.Forms, FMX.Dialogs, FMX.Types3D,
  FMX.Objects3D, mineControl;

type
  TForm2 = class(TForm3D)
    procedure Form3DCreate(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form2: TForm2;
  Controller : TController;

implementation

{$R *.fmx}

procedure TForm2.Form3DCreate(Sender: TObject);
begin
Controller.create(Form2,10);
end;

end. 
```

问题所在单位：

```
unit mineControl;

interface

uses
 FMX.Forms, FMX.Objects3D, sysutils;

Type
 tController = class
   private
     cubeArray : Array[1..10,1..10,1..10]  of TCube;
   public
    constructor create(Form : TForm3D; cubeCount :integer);
 end;

implementation

{ tController }

constructor tController.create(Form: TForm3D; cubeCount: integer); //cubeCount Max 10, min 1
var
  x, y, z : Integer;
begin
for x := 1 to cubeCount do
 begin
  for y := 1 to cubeCount do
   begin
    for z := 1 to cubeCount do
     begin
       CubeArray[x,y,z] := TCube.Create(Form);
        With CubeArray[x,y,z] do
         begin
           Visible := True;
           Position.X := 0;
           Position.Y := 0;
           Position.Z := 0;
           Parent := Form;
         end;
        end;
    end;
   end;
 end;

end. 
```

我收到一个访问冲突错误，我尝试使用“mineField”作为 AOwner 运行创建。我怎样才能解决这个问题，让它工作，或者如果这不起作用，我该怎么做？

我对编码很陌生（高中 1 1/2 年），如果您认为我知之甚少，我将不胜感激。非常感谢。

错误：“模块'mine3D_p.exe'中地址00A0CFBB的访问冲突。写入地址00000008”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T12:58:53.600

问题是你在打电话

```
Controller.create(Form2,10); 
```

代替

```
Controller := TController.create(Form2,10); 
```

# html - 带有 html 表达式的 HTML img 工具提示

> ID：16010436
> 
> 赞同：0
> 
> 时间：2013-04-15T08:08:15.957
> 
> 标签：html, tooltip

我想在 img 中创建工具提示，这是 html 表达式

例子： `<img title="<b>My tooltip</b>" src="..."></img>`

但我得到的是文本`<b>My tooltip</b>`未处理的 html。

有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:12:57.927

不可以。无法使用 HTML 格式化工具提示中的文本。你必须使用类似[jQuery Tooltip Plugin](http://jquery.bassistance.de/tooltip/demo/)的东西。

# javascript - jQuery：为什么以下不重新分配美元'$'？

> ID：16010440
> 
> 赞同：1
> 
> 时间：2013-04-15T08:08:37.497
> 
> 标签：javascript, jquery, variable-assignment

在以下示例中，用户尝试`$`在加载了 jQuery 的开发人员控制台中重新分配美元函数。

```
[18:39:57.071] $ = function(){"hello"}
[18:39:57.072] (function (){"hello"})
[18:40:00.367] $
[18:40:00.381] (function ( selector, context ) {
        // The jQuery object is actually just the init constructor 'enhanced'
        return new jQuery.fn.init( selector, context, rootjQuery );
    }) 
```

为什么`$`没有重新定义美元函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:17:11.870

也许您正面临“范围”问题，并且您没有`$`在“全局”范围内重新定义。

你可以试试这个：`window.$ = function(){"hello";}`

# php - if else 在数组中循环

> ID：16010444
> 
> 赞同：1
> 
> 时间：2013-04-15T08:08:46.023
> 
> 标签：php, arrays, magento, if-statement

我有以下数组：

```
 return array(
        $order->getRealOrderId(),
        Mage::helper('core')->formatDate($order->getCreatedAt(), 'medium', true),
        $this->getPaymentMethod($order),
        $this->getShippingMethod($order),
        $this->formatPrice($order->getData('grand_total'), $order),
        $this->getTotalQtyItemsOrdered($order),
        $order->getCustomerName(),
        $order->getCustomerEmail(),
        $this->getStreet($billingAddress),
        $billingAddress->getData("postcode"),
        $billingAddress->getData("telephone"),
    ); 
```

我想编辑`getPaymentMethod($order)`and的返回值`getShippingMethod($order)`。

`$this->getPaymentMethod($order)`退货、现金交付或贝宝。如果返回值为 Cashondelivery，我希望将文本更改为“Cash on Collection”。

同样，`getShippingMethod($order)`退货、送货上门（这里有一些文字）或自取（这里有一些文字）。我想把它改成送货上门或自取，不用多说。如何在数组中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:17:27.023

```
$this->getPaymentMethod($order) == "cashondelivery" ? "Cash On Collection" : "paypal" 
```

也许这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:10:54.053

你可以使用`str_replace`功能

```
str_replace('cashondelivery', 'Cash on Collection', $this->getPaymentMethod($order)); 
```

和

```
str_replace('whatever you want to display', 'whatever you want to change', $this->getShippingMethod($order)); 
```

**文档** [在这里](http://php.net/manual/en/function.str-replace.php)

# ios - iOS中日期格式的正则表达式

> ID：16010446
> 
> 赞同：0
> 
> 时间：2013-04-15T08:08:55.420
> 
> 标签：ios, regex, nsdateformatter

在我的项目中，我需要检查一些来自服务器的格式，所以我想写一个正则表达式来检查格式。

这是格式“ **03/31/2013 08:00:00** ”，其他格式是“03/31/2003 08:00 AM/PM”

我如何检查此日期格式。谁能帮我。

问候基兰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:14:21.690

```
^(?:\d{2}\/){2}\d{4} \d{2}:\d{2}(?::\d{2}| (?:AM|PM))?$ 
```

请注意，它不会检查不正确的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:37:48.247

如果你想`NSDate`从这个字符串中获取，你应该使用`NSDateFormetter`：

```
NSString * date = @"03/31/2013 08:00:00"; // source string

NSDateFormatter * date_formatter = [[NSDateFormatter alloc] init];
[date_formatter setDateFormat: @"MM/dd/yyyy HH:mm:ss"]; // your date format

NSDate * result = [date_formatter dateFromString: date]; // converting
NSLog (@"%@", [result description]); // log your date result
[date_format release]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:38:43.190

不是您关于正则表达式的问题的真正答案，但是，如果您想从从服务器收到的 dateString 中获取日期，您可以尝试使用 dateFormat 的试错法`NSDateFormatter`。

```
NSString *dateFormat1 = @"MM/dd/yyyy HH:mm:ss";
NSString *dateFormat2 = @"MM/dd/yyyy hh:mm:ss a";

NSString *dateString = @"03/31/2013 08:00:00 AM";

NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];
NSLocale *enUSPOSIXLocale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_US_POSIX"];
[dateFormatter setLocale:enUSPOSIXLocale];
[dateFormatter setDateFormat:dateFormat1];

NSDate *date = [dateFormatter dateFromString:dateString];
if (!date) {
    [dateFormatter setDateFormat:dateFormat2];
    date = [dateFormatter dateFromString:dateString];
}

NSLog(@"Date : %@",date); 
```

# c# - 使用 MVC 实现搜索条件不返回任何记录

> ID：16010449
> 
> 赞同：0
> 
> 时间：2013-04-15T08:09:10.577
> 
> 标签：c#, asp.net-mvc, kendo-ui

我正在尝试实现绑定到 Kendo Ui 网格的搜索条件。但是它没有返回记录，也没有错误显示。在 SearchProduct 中它返回数据但它不会绑定到网格

有什么我想念的吗？

**控制器代码：**

```
[HttpPost]
public ActionResult SearchProduct(ProductSearchCriteria criteria)
{          
    string nameCriteria = string.Empty;
    string descCriteria = string.Empty;

    TTSEntities dc = new TTSEntities();
    if (!string.IsNullOrWhiteSpace(criteria.Name))
      nameCriteria = criteria.Name.ToLower().Trim();

    if (!string.IsNullOrWhiteSpace(criteria.Community))
      descCriteria = criteria.Desc.ToLower().Trim();

    var results = dc.Products.AsQueryable();
    if (criteria.Name!= null)
        results = results.Where(b => b.Name== criteria.Name);

    if (criteria.Desc!= null)
        results = results.Where(b => b.Desc== criteria.Desc);

    return PartialView("_ProductGrid", results.ToList());
} 
```

**索引.cshtml：**

```
@model HHIMS_Web_App.Models.ProductSearchCriteria

@using (Html.BeginForm())
{
    <div id="headerpanel">
      <fieldset>
        <legend style="font-size:14px">Search Criteria</legend>
        <div>
            <div class="editor-label">
                @Html.LabelFor(model => model.Name)
            </div>
            <div class="editor-field">
                 @Html.EditorFor(model => model.Name)
            </div>
        </div>
        <div>
            <div class="editor-label">
                @Html.LabelFor(model => model.Desc)
            </div>
            <div class="editor-field">
                   @Html.EditorFor(model => model.Desc)
            </div>
            <div class="smallBox">
                <input type="button" value="Search" id="btnProductSearch" style="height:33px; font-size:14px; background-color:#3399FF" class="k-button" />
            </div>
        </div>
    </fieldset>
  </div>
}

<script type="text/javascript">

    $(document).ready(function () {

        $('#btnProductSearch').click(function (e) {
            var searchParameters = GetSearchParameters();
            var jsonData = JSON.stringify(searchParameters, null, 2);

            $.ajax({
                url: '@Url.Content("~/ProductDetails/SearchProduct/")',
                type: 'POST',
                data: jsonData,
                datatype: 'html',
                contentType: 'application/json; charset=utf-8',
                success: function (data) {
                    $('#btnProductSearch').replaceWith(data);
                },
                error: function (request, status, err) {
                    alert(status);
                    alert(err);
                }
            });

        });

        function GetSearchParameters() {
            var hrn = $("#Name").val();
            var community = $("#Desc").val();

            return { Name: name,
                Desc: desc
            };
        }
    });

</script> 
```

**_ProductGrid 视图：**

```
<div>
    <fieldset class="searchResults">
        <legend style="font-size:14px">Search Result</legend>
        <br />
        <div>
          @(Html.Kendo().Grid<TTP.Models.ProductModel>()

                .Name("Product")
                .HtmlAttributes(new { @Style = "align:center; font-size:10px; width:500px" })
                .Columns(columns =>
                {

                    columns.Bound(p => p.Name);
                    columns.Bound(p => p.Desc);
                })
                .AutoBind(false)
                .Editable(editable => editable.Mode(GridEditMode.InLine))
                .Sortable()
                    //.Pageable()
                .Pageable(paging => paging
                    .Input(false)
                    .Numeric(true)

                    .PreviousNext(true)
                    .PageSizes(new int[] { 5, 10, 25, 50 })
                    .Refresh(false)
                )
                .Selectable()
                .Scrollable()
                .ColumnMenu(c => c.Columns(false))
                .DataSource(dataSource => dataSource
                    .Ajax()//bind with Ajax instead server bind
                    .PageSize(10)
                    .ServerOperation(true)
                    .Model(model =>
                      {
                        model.Id(p => p.Name);
                      }
                    )
                )
            )

        </div>
    </fieldset>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T08:23:18.667

您的`SearchProduct`操作应返回`JSON`网格的数据。

查看[*Kendo Grid 演示*](http://demos.kendoui.com/web/grid/index.html)- 选择`ASP.NET MVC`选项卡并查看`IndexController.Products_Read`代码。

你想要这样的东西：

```
public ActionResult SearchProduct(
  ProductSearchCriteria criteria,
  [DataSourceRequest] DataSourceRequest dsr
)
{
  IQueryable<Product> query = ...

  return Json( query.ToDataSourceResult( dsr ) );
} 
```

* * *

要将搜索参数作为读取 ajax 请求的额外数据传递，请使用[*Data*](http://docs.kendoui.com/api/wrappers/aspnet-mvc/Kendo.Mvc.UI.Fluent/CrudOperationBuilder)方法：

```
dataSource.Read( read => read.Data( "GetSearchParameters" ) ) 
```

请参阅[*Kendo：Ajax 绑定 - 将附加数据传递给操作方法*](http://docs.kendoui.com/getting-started/using-kendo-with/aspnet-mvc/helpers/grid/ajax-binding#pass-additional-data-to-action-method)

# iphone - Xcode Copy Bundle Resources 找不到文件

> ID：16010452
> 
> 赞同：3
> 
> 时间：2013-04-15T08:09:27.603
> 
> 标签：iphone, ios, xcode, storyboard, resourcebundle

**Xcode 在我的Copy Bundle Resources**中找不到我的 Storyboard 和我的 Info.plist ，所以我的应用程序无法运行。我尝试再次添加现有文件，但它们总是以红色突出显示。我很确定这一定是本地问题，因为当我从我的另一个 Mac 上的存储库中克隆最新更新时，它的运行没有任何问题。我已经尝试重新安装 Xcode，从**Xcode/DerivedData**中删除文件，并且我还删除了**com.apple.Xcode.plist**。有人有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:23:44.310

尝试重置您的模拟器，然后清理您的 App Build 文件夹

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-16T13:54:19.913

我的经验是建议的解决方案有效，但是每当资源发生变化时清理和重新编译整个应用程序是非常乏味的，尤其是对于大型项目。

因此，我想出了这个解决方案，它可以在**每个目录的**基础上强制应用程序中的新资源，而无需清理或重新编译：

1.  添加“运行脚本构建阶段”（编辑器 > 添加构建阶段 > 添加运行脚本构建阶段）
    1.  将以下脚本复制/粘贴到构建阶段（不要忘记在第 1 行设置实际路径）：

* * *

```
dirsToCopy=("path1/directory1","path2/directory2")

for INPATTERN in "${dirsToCopy[@]}"; do
    INDIR=$PROJECT_DIR/$INPATTERN/*
    OUTDIR=$TARGET_BUILD_DIR/$CONTENTS_FOLDER_PATH/$INPATTERN
    cp -R $INDIR $OUTDIR
done 
```

* * *

对于那些不习惯使用 shell 脚本的人：

*   脚本第 1 行的路径相对于项目目录（.xcodeproj 文件所在的位置）

*   `dirsToCopy`如果需要，您可以向数组添加更多（或更少）路径

*   您可以更改文件的模式以复制`INDIR`定义变量的位置

*   您可以通过将标志更改为 for 块内脚本的最后一行中`-R`的标志来更改复制的完成方式（当前，由于 递归） 。`cp`

# android - urlConnection 的 getContentLength() 失败，无法计算下载百分比

> ID：16010454
> 
> 赞同：0
> 
> 时间：2013-04-15T08:09:28.973
> 
> 标签：android, urlconnection

我正在一个 android 应用程序中进行下载，我需要获取 content_length 以显示下载的百分比。

这些文件位于我的客户设置的服务器上。在此服务器上，对 getContentLength() 的调用返回 -1。以下是标题：

```
THIS SERVERS HEADER DOESN'T WORK WITH urlConnection.getContentLength()

    $ curl --head "http://www.server0.com/ango/thefile.m4v"
    HTTP/1.1 200 OK
    Set-Cookie: JSESSIONID=A17762C6B65FD8D35840110F8628DE4B.V5; Path=/; HttpOnly
    X-ServedBy: web114
    Set-Cookie: SS_MID=7315b0cb-054c-4dd8-a013-c7163793becehfjcndg8; Domain=.tangoberretin.com; Expires=Thu, 13-Apr-2023 07:57:07 GMT; Path=/
    Pragma: cache
    Cache-Control: private,max-age=86400
    Last-Modified: Thu, 21 Feb 2013 06:28:24 GMT
    Content-Disposition: attachment; filename="thefile.m4v";
    Accept-Ranges: bytes
    Content-Range: bytes 0-6716578/6716579
    Content-Type: application/octet-stream;charset=UTF-8
    Content-Length: 6716579
    Date: Mon, 15 Apr 2013 07:57:07 GMT
    Server: SSWS
    Set-Cookie: WebPersCookie=Gn5lN9r2EIK+3eKz0tv/bEs4IJpcBzYg22jKvv/JD1eAA1N3D0pevaz3zuXOD3uTT950AQdstGRJgdE=; path=/ 
```

所以我做了一个测试并将文件放在我自己的服务器（apache）上，一切正常。以下是这些标题：

```
THIS SERVERS HEADER WORKS WITH urlConnection.getContentLength()

    $ curl --head "http://server1.net/wp-content/video/thefile.m4v"
    HTTP/1.1 200 OK
    Date: Mon, 15 Apr 2013 07:57:42 GMT
    Server: Apache
    Last-Modified: Sun, 14 Apr 2013 23:49:00 GMT
    Accept-Ranges: bytes
    Content-Length: 502365
    Content-Type: text/plain 
```

所以我的问题是第一种情况导致失败的原因是什么，我能做些什么。理想情况下，我会将文件留在原处。

*****更新* *******

 **我已经打印出 android 应用程序的标头，显然服务器没有为 android 代理发送 Content-Length。我不明白... ：（

```
HTTP/1.1 200 OK
Accept-Ranges : 
bytes
Cache-Control : 
private,max-age=86400
Content-Disposition : 
attachment; filename="04Left_Turning_Check_Step.m4v";
Content-Range : 
bytes 0-7019776/7019777
Content-Type : 
application/octet-stream;charset=UTF-8
Date : 
Mon, 15 Apr 2013 08:39:06 GMT
Last-Modified : 
Wed, 02 Jan 2013 18:40:09 GMT
Pragma : 
cache
Server : 
SSWS
Set-Cookie : 
JSESSIONID=0B1D0CFFD975ED2736BFF7BBC23ACD96.V5; Path=/; HttpOnly
SS_MID=5a7bd305-4ac1-4d4d-98a3-67fa26c0db56hfje5d3d; Domain=.tangoberretin.com; Expires=Thu, 13-Apr-2023 08:39:06 GMT; Path=/
WebPersCookie=WIo8mRMTANAAke3GEsDOsONkGZoRcVvqpC4Am/pl/3WFB9hSEGH5DfGiDSKJDLc2nbZBpWFy3/Yfb3s=; path=/
Transfer-Encoding : 
chunked
Vary : 
Accept-Encoding
X-Android-Received-Millis : 
1366015147201
X-Android-Sent-Millis : 
1366015146842
X-ServedBy : 
web115 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:51:55.460

这里的关键是：

```
Transfer-Encoding : 
chunked 
```

[此处](http://en.wikipedia.org/wiki/Chunked_transfer_encoding)描述了分块传输编码。

简而言之，分块传输编码允许服务器以块序列的形式发送大型内容，而无需在发送之前首先确定内容的大小。这允许服务器更有效地了解如何从存储中加载内容以便将其发送给客户端。

我认为您需要与您的客户交谈并告诉他，如果服务器在响应标头中提供了有效、准确的 Content-Length，那么您可以提供进度报告，否则您不能。或者，您是否能够发出初始请求以获取有关内容的信息（包括内容大小），然后再次请求内容本身？如果是这样，那么您可以提供进度报告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-06T11:35:23.410

旧帖子，但马克的解释帮助我找到了我的解决方案。

* * *

使用以下调用调用 url。这允许在服务器不进入“分块”模式的情况下返回内容长度。

```
DefaultHttpClient client = new DefaultHttpClient();
HttpGet httpGet = new HttpGet(url);
HttpResponse execute = client.execute(httpGet);
int contentLength = (int)execute.getEntity().getContentLength(); 
```

然后，您可以使用 URLConnection 重新发出请求，并使用已返回的内容长度进行计算**

# javascript - 在 select2 多选中加载值

> ID：16010455
> 
> 赞同：7
> 
> 时间：2013-04-15T08:09:40.423
> 
> 标签：javascript, jquery, jquery-select2

我正在使用`select2`代替搜索框。

在这里我用来加载这样的国家值

```
$("#countries").select2({
    multiple: true,
    tags:["India", "Japan", "Australia","Singapore"],
    tokenSeparators: [","]
}); 
```

当我按下保存按钮时，它们已正确提交到服务器，现在的问题是当我想在保存到服务器后修改国家/地区字段时，如何将保存的值加载到国家/地区字段。

这就是我从服务器检索数据的方式

```
$.getJSON('/dataprovider?data=fetchCountriesForm', function(opts) {

    //the opts here contains the json values of the countries.

    //what code should be written here to load the values in $('#countries).select2();

    //user can add some more countries or can remove the previously added countries. 

} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T08:20:54.150

请查看部分下的[文档](http://ivaynberg.github.io/select2/)`Loading Remote Data`。

你会发现像这样的例子：

```
$("#e6").select2({
    placeholder: "Search for a movie",
    minimumInputLength: 1,
    ajax: { 
           // instead of writing the function to execute the request we use Select2's convenient helper
          url: "http://api.rottentomatoes.com/api/public/v1.0/movies.json"
          // Other stuffs
          }
}); 
```

你也可以这样做：

```
$.getJSON('/dataprovider?data=fetchCountriesForm', function(opts){
    $("#countries").select2({
        data: opts
    });
}) 
```

您的`JSON`数据必须采用如下格式：

```
[{id:0,text:'enhancement'},
 {id:1,text:'bug'},
 {id:2,text:'duplicate'},
 {id:3,text:'invalid'},
 {id:4,text:'wontfix'}
] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T10:56:41.760

我只是使用这个[http://ivaynberg.github.io/select2/#event_ext_change](http://ivaynberg.github.io/select2/#event_ext_change)链接并使用触发函数来加载值

```
$.getJSON('/dataprovider?data=fetchCountriesForm', function(opts) {
        parent.parent.parent.showLoader();
        if (opts) {
            $("#countries").val(opts).trigger("change");
        } 
```

这个技巧在选择框中加载值。

# visual-studio - Nuget：将解决方案中的一个项目设置为不受 Nuget 管理？

> ID：16010463
> 
> 赞同：4
> 
> 时间：2013-04-15T08:10:21.523
> 
> 标签：visual-studio, visual-studio-2012, nuget

首先，让我首先说 Nuget 很棒。我喜欢它。话虽这么说，但我刚刚发现了一件真的很烦人的事情。

我们有一个用于几乎所有项目的内部框架。因此，我最近为它创建了一个 Visual Studio 项目模板，以及 VSIX .. 由于 Nuget.. 在此过程中遇到了一些问题。当模板引用框架时，它不会从模板创建新项目。 . 因为框架正在使用 Nuget，它在从模板创建的新项目中找不到 nuget 文件夹。因此，解决方案是从框架项目中删除 nuget，仅将 Nuget 用于其他项目（除框架之外的任何项目）。好的，太好了..这解决了问题！

但是，现在对于我打开的每个 Nuget 托管项目，它都会自动将这两行添加回框架的 .csproj 中：

```
<RestorePackages>true</RestorePackages> 
```

和

```
<Import Project="$(SolutionDir)\.nuget\nuget.targets" /> 
```

这很令人沮丧，因为我们现在需要完全停止使用 Nuget，或者每次我们想要重建模板时都从框架的 .csproj 文件中删除这些行。

有什么办法可以告诉 Nuget 忽略解决方案中的一个项目？就我而言，忽略框架项目......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T15:35:11.493

根据 Nailuj 的建议以及我在这里找到的建议：http://samritchie.net/2012/09/17/nuget-packages-in-vs2012-templates/ [，](http://samritchie.net/2012/09/17/nuget-packages-in-vs2012-templates/)我尝试了一些我认为可行的方法，但它没有不满足我的需要；该方法仅用于将包包含在新项目中，这对我来说没有帮助并且不能解决问题（有关丢失 .nuget 目标文件夹的错误）。所以，我玩了一下，想出了一些不理想但可以接受的东西：

1.  从用作模板的项目中删除与 Nuget 相关的所有内容。这会导致引用的框架出现问题，因为框架项目期望由 Nuget 管理，而从这个解决方案中它不是，所以会发生错误......所以：
2.  从解决方案中删除框架项目并仅引用 DLL 以便构建，但不会抱怨缺少 nuget 文件夹
3.  重建
4.  导出到模板
5.  使用导出的模板构建 VSIX
6.  安装模板
7.  从新安装的模板创建一个新项目
8.  在新项目的解决方案上启用 Nuget 包还原
9.  打开包管理器控制台
10.  关于缺少软件包的通知消息并同意下载并安装它们（约 1 分钟）
11.  删除框架 DLL 引用并替换为实际项目（右键单击，添加现有项目）
12.  重建并运行
13.  庆祝！

我希望这可以帮助其他可能陷入这种困境的人。如果有人有更好的想法，请告诉我。赏金仍然开放 6 天，所以我不会将此标记为答案。

# java - 在 Android 中以编程方式调用侦听器

> ID：16010468
> 
> 赞同：5
> 
> 时间：2013-04-15T08:10:34.307
> 
> 标签：java, android, listener, onclicklistener

我正在玩Android，我想知道是否有任何方法可以以编程方式调用侦听器，例如，在`onClick()`创建活动时有一个侦听器并调用对该侦听器的调用，而无需触摸屏幕。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T08:14:29.710

没有办法得到集合`OnClickListener`。所以你需要存储它并`OnClickListener`直接调用你的。

```
OnClickListener store = new OnClickListener() {/*...*/};
view.setOnClickListener(store);
store.onClick(view); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-15T08:18:39.017

从未尝试过，但是在将 a 分配`clickListener`给您的对象（例如 a `Button`）之后，调用您的`onCreate`方法`myButton.performClick()`。

安卓文档：

```
public boolean performClick ()

Added in API level 1
Call this view's OnClickListener, if it is defined. Performs 
all normal actions associated with clicking: reporting accessibility event, 
playing a sound, etc.

Returns
True there was an assigned OnClickListener that was called, 
false otherwise is returned. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:16:05.527

尽管这是可能的，但我实际上建议不要这样做。应该从 UI 调用侦听器，但实际上应该直接调用它背后的业务逻辑。这将在两层之间提供“关注点分离”。

您应该调用侦听器在其`onClick`方法中调用的代码，而不是`onClick`直接调用。

# php - 如何在 facebook canvas 应用程序授权期间获取用户名？

> ID：16010475
> 
> 赞同：0
> 
> 时间：2013-04-15T08:11:05.100
> 
> 标签：php, facebook-authentication, facebook-canvas

我可以使用此代码成功授权我的画布应用程序，但我只能获取用户 ID。我还需要用户名、年龄好友列表。请帮助我。

我使用了 Print_r 并得到了这个

```
Array ( [algorithm] => HMAC-SHA256 [expires] => 1366020000 [issued_at] => 1366012878 [oauth_token] => BAAFaFlrFWXYBADDEIui8rTtcEWldiZAGlHZB1mGSZoQ6E9fU9vkweYnx2jvj4SSDNRUd465YcAiz4hI3jlQlXLBmB0jVXZBeoAiSyO5P2TQoIQVt9SQRWVJEuTGtcyQzazZCi20MWhDqBsa1qgYWKloSRWOkKBdPDBZCI0exZA13Jygh73hsr9ldVvFy8ClgEb8jIZBblCArGT3lb7g [user] => Array ( [country] => pk [locale] => en_US [age] => Array ( [min] => 21 ) ) [user_id] => 100000 
```

php代码

```
 $app_id = "    xxxxxxxxx";

$canvas_page = "xxxxxxxx";

$auth_url = "http://www.facebook.com/dialog/oauth?client_id=" . $app_id . "&redirect_uri=" . urlencode($canvas_page);

$signed_request = $_REQUEST["signed_request"];

list($encoded_sig, $payload) = explode('.', $signed_request, 2);

$data = json_decode(base64_decode(strtr($payload, '-_', '+/')), TRUE);

if(empty($data["user_id"])) {

    echo("<script> top.location.href='" . $auth_url . "'</script>");

} else {

    print_r($data) ;
    echo ("Welcome User: " . $data["user_id"]);
    echo ("Welcome User: " . $data["age"]); //i tried this,but got undefined message?

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:34:27.287

您可以在发送签名请求的 Graph API 中访问用户端点，例如查询[https://graph.facebook.com/me?fields=id,name](https://graph.facebook.com/me?fields=id,name) 将为您提供经过身份验证的用户的用户名。请参阅 [http://developers.facebook.com/docs/reference/api/user/](http://developers.facebook.com/docs/reference/api/user/) 以供参考。

我建议你使用 Facebook PHP SDK

您可以从 github 获取它，它使事情变得更容易。我相信它有一个基本示例可以满足您的需求。

高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:35:04.013

您需要执行 API 请求或使用 FQL 以获取有关用户的更多信息。[http://developers.facebook.com/docs/reference/php/facebook-api/](http://developers.facebook.com/docs/reference/php/facebook-api/)中的示例向您展示了如何使用 API 方法获取用户名。然后[这里](http://developers.facebook.com/docs/reference/api/FriendList/)是 FriendsList 的 API 文档，[这里](http://developers.facebook.com/docs/reference/fql/friendlist)是 FQL 文档。确保您拥有 read_friendlists 权限。如果您有任何问题，请告诉我：）

**代码示例：**
按照[http://developers.facebook.com/docs/reference/php/中的说明从](http://developers.facebook.com/docs/reference/php/)[https://github.com/facebook/facebook-php-sdk/](https://github.com/facebook/facebook-php-sdk/)安装 PHP SDK 。

然后转到[http://developers.facebook.com/docs/reference/php/facebook-api/](http://developers.facebook.com/docs/reference/php/facebook-api/)并将第一个示例复制到文件中。确保更新 app id、app secret，并且你的 require_once 设置为正确的位置。

然后更换

```
 try {

    $user_profile = $facebook->api('/me','GET');
    echo "Name: " . $user_profile['name']; 
```

和

```
try {
        //Get User Name
        $user_profile = $facebook->api('/me','GET');
        //Get User's Friends
        $friends_list = $facebook->api('/me/friends', 'GET');
        echo "<h1>Name: " . $user_profile['name']."</h1>";
        echo "<h2>Friends:</h2>"; 
        foreach ($friends_list['data'] as $friend)
        {
            echo $friend['name']."<br>";
        } 
```

# python - 如何对 python unittest 发现测试进行排序？

> ID：16010476
> 
> 赞同：7
> 
> 时间：2013-04-15T08:11:07.617
> 
> 标签：python, unit-testing, multiplatform, python-unittest

`unittest`我使用 Python格式创建了一堆 Python 测试。

现在我可以运行它们了

```
python -m unittest discover -s TestDirectory -p '*.py' -v 
```

我找到了它们，然后运行它们。

现在，无论我是在 Windows 上还是在 Linux 上运行测试，都存在细微的差别。实际上，在 Windows 上，测试是按字母顺序运行的，而在 Linux 上，测试是按人类特定的可发现顺序运行的，即使总是相同的。

问题是我依靠测试文件的前两个字母来排序测试的执行顺序。并不是说它们必须按特定顺序运行，而是要进行某种*信息*测试，在其输出中显示版本数据，以便首先出现在测试运行日志中。

我可以做些什么来在 Linux 上按字母顺序运行测试吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T15:53:18.893

我还没有尝试过，但我想您可以做的一件事是覆盖 TestSuite 类以添加排序功能。然后你可以在调用 unittest run 函数之前调用 sort 函数。因此，在“AllTests.py”脚本中，您可以添加如下内容：

```
class SortableSuite(unittest.TestSuite):
    def sort(self):
        self._tests.sort(cmp=lambda x,y: x._testMethodName < y._testMethodName)
    def run(self,testResult):
        #or if you don't want to run a sort() function, you can override the run
        #function to automatically sort.
        self._tests.sort(cmp=lambda x,y: x._testMethodName < y._testMethodName)
        return unittest.TestSuite.run(self,testResult)

loader = unittest.TestLoader()
loader.suiteClass = SortableSuite
suite = loader.loadTestFromTestCases(collectedTests)
suite.sort()
suite.run(defaultTestResult()) 
```

# android - 来自 Edittext Android 的列表视图中的文本过滤

> ID：16010477
> 
> 赞同：0
> 
> 时间：2013-04-15T08:11:10.600
> 
> 标签：android, filter, android-listview, android-edittext, autosuggest

我有一个城市列表（其中大约 2500 个）。我希望用户在从该列表中输入编辑文本框时获得自动建议。这是如何实现的？我已经彻底搜索了谷歌，但找不到任何关于此的教程。非常感谢任何帮助。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:14:04.967

您应该使用[AutoCompleteTextView](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)来实现这一点。

下面的代码片段展示了如何创建一个文本视图，在用户输入时建议不同的国家名称：

```
public class CountriesActivity extends Activity {
     protected void onCreate(Bundle icicle) {
         super.onCreate(icicle);
         setContentView(R.layout.countries);

         ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                 android.R.layout.simple_dropdown_item_1line, COUNTRIES);
         AutoCompleteTextView textView = (AutoCompleteTextView)
                 findViewById(R.id.countries_list);
         textView.setAdapter(adapter);
     }

     private static final String[] COUNTRIES = new String[] {
         "Belgium", "France", "Italy", "Germany", "Spain"
     };
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:14:48.467

使用 AutoCompleteTextview，这是来自开发站点的教程（页面底部）。[http://developer.android.com/guide/topics/ui/controls/text.html](http://developer.android.com/guide/topics/ui/controls/text.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T09:23:29.820

您可以使用“[**过滤器**](http://developer.android.com/reference/android/widget/Filter.html)”从您的其他列表中进行搜索。实现您自己的过滤器 [MyFilter extends Filter] 并覆盖“FilterResults performFiltering(CharSequence prefix)”和“void publishResults(CharSequence constraint,FilterResults results)”方法以在您自己的数据（国家列表）上实现您自己的搜索逻辑。

在您的适配器中添加一个 getMyFilter() 方法，该方法将返回一个“新的 myFilter” 将“TextWatcher”添加到您的“EditText” 在 TextWatcher 的“onTextChanged()”方法中，通过调用 myAdapter.getMyFilter()”获取您的过滤器。在该过滤器上，调用“myFilter.filter(myTypedString)”。

过滤后“ **void publishResults(CharSequence constraint,FilterResults results)** ”方法将被调用。在其中，更改您的实际适配器数据以刷新您的 UI。

# spring - Spring 无法加载基于 java 的配置

> ID：16010479
> 
> 赞同：0
> 
> 时间：2013-04-15T08:11:19.070
> 
> 标签：spring, solr

我想创建一个使用 Spring 作为 Ioc 的 Solr 数据导入处理程序。当我尝试从 Solr 调用处理程序时，出现以下错误

```
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to load bean class: com.yoox.shanghai.AppConfig; nested exception is java.io.FileNotFoundException: class path resource **[com/my/app/AppConfig.class]** cannot be opened because it does not exist 
```

请注意消息中打印的路径。看起来它正在使用相对路径。我不知道是什么原因。

我正在使用[基于 Java 的容器配置](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-java)，并且编译通过了。我的代码适用于 JUnit4。

```
appCtx = new AnnotationConfigApplicationContext(AppConfig.class); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:17:26.290

您确定正确导入 AppConfig 吗？否则请确保该类已真正部署（检查部署目录）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T10:13:49.970

我google了很长时间，但找不到任何关于spring默认如何解析类路径的答案。但是我发现人们正在尝试显式设置类加载器，所以我尝试了。

```
appCtx = new AnnotationConfigApplicationContext();
appCtx.setClassLoader(this.getClass().getClassLoader());
appCtx.register(AppConfig.class);
appCtx.refresh(); 
```

它有效：D

但是我对这个答案并不满意。我希望有人能指出我的类加载逻辑有什么问题。

# ruby-on-rails - 如何在 Rails 控制器中的组内执行乘法运算？

> ID：16010481
> 
> 赞同：1
> 
> 时间：2013-04-15T08:11:25.617
> 
> 标签：ruby-on-rails, ruby

我有一个 Orders 模型，其中包含饮料 ID 以及数量和单价，它们相乘得到总订单价值。

在我的应用程序的另一部分，我需要按饮料 ID 对订单进行分组，然后将所有订单价值相加，以得出手头的总库存价值。

当我需要计算手头的总量时，我在控制器中这样做：

```
@delivery_total = Order.group(:beverage_id).sum(:quantity, :conditions => {:orderable_type => 'Delivery'}) 
```

（我按 orderable_type 过滤，因为也有回报）

所以我想，当我需要计算总订单价值时，应该是这样的：

```
@delivery_value = Order.group(:beverage_id).sum((:quantity * :price), :conditions => {:orderable_type => 'Delivery'}) 
```

但这不起作用，给出错误

> :quantity:Symbol 的未定义方法“*”

恐怕我仍然在这里学习......有人可以建议正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:19:00.590

的第一个参数`sum`应该是一个字符串，像这样：

```
@delivery_total = Order.group(:beverage_id).sum("quantity * price", :conditions => {:orderable_type => 'Delivery'}) 
```

# java - GSSAPI 中的 javax.naming.AuthenticationException

> ID：16010484
> 
> 赞同：5
> 
> 时间：2013-04-15T08:11:34.747
> 
> 标签：java, security, kerberos, ntlm, gssapi

我正在尝试使用 JAVA GSSAPI 执行 NTLM 绑定。

我收到此错误：

> javax.naming.AuthenticationException：GSSAPI [根异常是 javax.security.sasl.SaslException：GSS 启动失败 [由 GSSException 引起：未提供有效凭据（机制级别：票证请求中的选项设置无效。（101））]]

我认为（不确定）它在过去有效。为了解决其他问题，我尝试了“kinit”。从那时起停止工作。我什至删除了缓存文件（在 Windows 中找不到 kclear），但我仍然有这个问题。

我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:15:19.283

它可以帮助您[排除故障](http://docs.oracle.com/javase/6/docs/technotes/guides/security/jgss/tutorials/Troubleshooting.html)：

**原因：** Kerberos 要求 KDC 和客户端上的时间松散同步。（默认为 5 分钟内。）如果不是这种情况，您将收到此错误。

**解决方案：**同步时钟（或让系统管理员这样做）。

或者

**原因：**如果未获得有效的 Kerberos 凭据，则可能会发生这种情况。特别是，如果您希望底层机制获取凭据但您忘记通过将`javax.security.auth.useSubjectCredsOnly`系统属性值设置为 false 来指示这一点（例如，通过执行命令中的 -Djavax.security.auth.useSubjectCredsOnly=false），则会发生这种情况。

**解决方案：**`javax.security.auth.useSubjectCredsOnly`如果您希望底层机制获取凭证，而不是您的应用程序或包装程序（例如某些教程使用的登录实用程序）使用 JAAS 执行身份验证，请务必将系统属性值设置为 false。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T09:43:58.427

好的，解决了。

我有

可代理=真

在我的 krb5 文件中。

删除它，它的工作原理！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-09T03:08:07.960

对于未创建为 Forwardable 的 Kerberos 票证，我遇到了同样的问题（完全相同的 Java 错误堆栈）。

Kerbros 票据更新/监控过程是用 Perl 编写的，并使用 Authen::Krb5::Easy Perl 模块，忽略 /etc/krb5.conf “forwardable = true”设置。

# python - 升级 Python 后管理第三方模块

> ID：16010492
> 
> 赞同：0
> 
> 时间：2013-04-15T08:12:01.697
> 
> 标签：python, windows, python-2.7, pip

如果我们升级到更高版本的 Python 是否需要重新安装所有第三方模块，或者是否有更简单的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:20:22.353

许多模块开发人员为 Python 2.x 和 Python 3.x 提供不同版本的模块。

但是，是的，如果您从完全不同版本的 Python 调用它们，您将需要单独重新安装您正在使用的模块的不同版本。它有多容易取决于您使用的模块。

话虽如此，如果您要升级到新的子版本（例如 2.6 -> 2.7 或 3.2 -> 3.3），则无需担心重新安装模块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:21:26.373

例如，如果您使用 Python 2.6 并且想要迁移到 2.7，您可以轻松安装Python 2.7的[pip或 2.7 的](https://pypi.python.org/pypi/pip)[easy_install](http://peak.telecommunity.com/DevCenter/EasyInstall)并安装所需的包，我可以说 2.6 的几乎所有模块都支持 2.7，因为变化没有 python 3x 那么多。

如果你从 Python 2 升级到 Python 3，有一些模块不支持 Python 3，有时会有一些 hack。对于小型库，[2to3](http://docs.python.org/2/library/2to3.html)工作正常。

还要检查[3to2](http://wiki.python.org/moin/3to2)。

# c++ - 在c ++中将单个字体字符转换为位图像素数组

> ID：16010495
> 
> 赞同：1
> 
> 时间：2013-04-15T08:12:06.640
> 
> 标签：c++, fonts, bitmap, windows-ce

我在将字符转换为位图像素数组时遇到问题。

我使用 Windows CE 6，并用 C++ 编写了一个应用程序来通过串行接口管理 OLED。

要在 OLED 上显示图像，我使用位图格式，然后如果我想在 OLED 上显示文本，我必须先将字符转换为位图数组，但我不知道如何从 Windows CE 字体中获取单个字符并将其转换为位图像素数组（字节）以通过串行接口发送出去。

你知道如何解决这个问题（标准函数、自定义函数等）吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:25:03.597

[`CreateDC`](http://msdn.microsoft.com/en-us/library/ms959931.aspx)创建设备上下文。
[`CreateCompatibleBitmap`](http://msdn.microsoft.com/en-us/library/ms959927.aspx)创建正确大小的位图。
[`SelectObject`](http://msdn.microsoft.com/en-us/library/ms961438.aspx)将位图选择到 DC 中。
[`CreateFontIndirect`](http://msdn.microsoft.com/en-us/library/ms959955.aspx)创建字体。
[`SelectObject`](http://msdn.microsoft.com/en-us/library/ms961438.aspx)将字体选择到 DC 中。
[`DrawText`](http://msdn.microsoft.com/en-us/library/ms960231.aspx)在 DC 上绘制角色。
[`SelectObject`](http://msdn.microsoft.com/en-us/library/ms961438.aspx)将先前选择的位图选择回 DC。
[`SelectObject`](http://msdn.microsoft.com/en-us/library/ms961438.aspx)将先前选择的字体选择回 DC。
[`DeleteObject`](http://msdn.microsoft.com/en-us/library/ms960030.aspx)删除创建的字体。
[`DeleteDC`](http://msdn.microsoft.com/en-us/library/ms960023.aspx)删除 DC。

您现在有一个带有字母的位图。

# php - 如何以编程方式为图像的某些部分着色？

> ID：16010496
> 
> 赞同：0
> 
> 时间：2013-04-15T08:12:09.780
> 
> 标签：php, image, image-processing

我有一张意大利地图，我需要以编程方式为某些区域着色。

这是图像：

![在此处输入图像描述](https://i.stack.imgur.com/idjyy.jpg)

如您所见，很少有区域具有不同的颜色（橙色）。

我有一个页面需要突出显示用户区域，因此我需要对这些区域进行不同的着色。底座是灰色的，选择的必须是橙色的。

现在，我怎么能以编程方式做到这一点？

我想避免为每个用户创建一个图像。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:57:03.277

我仍然更喜欢创建“每个用户一个图像”。它实际上不是每个用户。使您的图像变体已经创建，并通过您的服务器端逻辑加载它们。我的意思是，像精灵之类的东西。让每个部分都上色和不上色。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:33:47.693

您是否考虑过像这样的 jQuery 驱动的交互式地图：

[链接 1](http://css.flepstudio.org/css-menu/css-mappa-italia-8.html)

或者，如果你真的被卡住了，你可以看看这样的东西（付费插件！）

[链接 2](http://winstonwolf.pl/clickable-maps/italia.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:21:43.997

我不认为 php 的 GD 或 imagick 库如此强大，如果是这样，它不会那么容易做到，并且生成的图像可能会失去相当多的质量，因为地图的边界甚至是抗锯齿的。

我建议你去谷歌搜索“交互式地图”，通常你有矢量图像并使用 Javascript 和 CSS 来实现你想要做的事情。也许意大利已经有了一些东西。

# php - 将 MySQL 中 blob 传递到 IOS NSData\UIImage

> ID：16010499
> 
> 赞同：0
> 
> 时间：2013-04-15T08:12:16.490
> 
> 标签：php, mysql, objective-c, blob

在我的 PHP 中，我想发送一个包含数据库数据的数组。所有值都应该作为 NSString 被接受，除了一个在数据库中存储为“中等 blob”的图像，我正在尝试传递它的 NSData\UIImage 值。

```
while ($row = mysql_fetch_array($result)) {

    $add = array(); 
    $add["Id"] = $row["Id"]; 
    $add["Mail"] = $row["Mail"];
    $add["Category"] = $row["Category"]; 
    $add["Phone"] = $row["Phone"]; 
    $add["Msgs"] = $row["Msgs"];
    //image from blob
    $add["Picture"] = $row["Picture"];

    // push single add into final response array 
    array_push($response["adds"], $add); 
} 
// success 
$response["success"] = 1; 
$response["message"] = "Adds loaded successfully";
// echoing JSON response 
echo json_encode($response); 
```

现在在 Xcode 中，除了为 NULL 的图像之外，所有值都可以正常接收。我尝试在 PHP 中使用 base64 对其进行编码并在 Objective-C 中进行解码，但 xcode 崩溃了，因为它仍然为 NULL。我试图定义：

```
header("Content-type: image/png"); 
```

或者

```
file_put_contents("image.png", $add["Picture"]); 
```

但它总是作为 NULL 接收。没有存储 blob 的行返回为 ' '，只有具有内容的行返回 NULL。我是 PHP 新手，我确信我犯了一些基本的愚​​蠢错误。

顺便说一句，我的 Objective-C 代码是：

```
const void *bytes = [[addPicture objectAtIndex:indexPath.row] bytes];
int length = [[addPicture objectAtIndex:indexPath.row] length];
NSData* imageData = [[NSData alloc] initWithBytes:bytes length:length];
aCell.cellBackImg.image = [UIImage imageWithData:imageData]; 
```

# perforce - 有没有办法从自定义工具脚本中调出常规的 P4V 提交窗口？

> ID：16010512
> 
> 赞同：3
> 
> 时间：2013-04-15T08:13:37.673
> 
> 标签：perforce, p4v

在提交选定的更改列表之前，我需要运行一个非常简短的批处理脚本 - 而不是然后通过*p4 submit 提交*更改列表，我只想调出通过 P4V 提交时使用的常规提交窗口。有没有办法从自定义工具批处理脚本中做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T17:29:31.580

在 p4v 客户端的更高版本中，Perforce 提供了一个命令行实用程序来执行您正在寻找的操作，p4vc

我认为它是在 2012.1 或之后添加的（不在工作中，所以无法检查）

在我的脑海中，命令行将是 p4vc submit -c changelist 以调出 p4v 提交对话框。

# android - 以编程方式向滚动视图添加元素给了我 Java.Lang.IllegalStateException

> ID：16010513
> 
> 赞同：2
> 
> 时间：2013-04-15T08:13:45.143
> 
> 标签：android, android-layout, xamarin.android

我正在尝试将文本视图和进度条添加到滚动视图中，但它给了我一个`Java.Lang.IllegalStateException:`

我正在使用 xamarin 所以这不是 java 而是 c# 但它是相同的原则

这是代码（摘要）：

```
 SetContentView(Resource.Layout.Usage);
    ScrollView scrollView = FindViewById<ScrollView>(Resource.Id.scrollView1);
    LinearLayout linearLayout = FindViewById<LinearLayout>(Resource.Id.linearLayout2);

while (...){
    TextView textView = new TextView(this);
    textView.Text = "Some text";
    textView.SetTextSize(Android.Util.ComplexUnitType.Sp, 18.0f);
    linearLayout.AddView(textView);

    ProgressBar progressBar = new ProgressBar(this, null, Android.Resource.Attribute.ProgressBarStyleHorizontal);
    progressBar.Progress = 25;
    linearLayout.AddView(progressBar);
}

scrollView.AddView(linearLayout); 
```

堆 ：

```
04-15 08:49:00.603 I/MonoDroid( 1389): UNHANDLED EXCEPTION: Java.Lang.IllegalStateException: Exception of type 'Java.Lang.IllegalStateException' was thrown.
04-15 08:49:00.603 I/MonoDroid( 1389): at Android.Runtime.JNIEnv.CallVoidMethod (intptr,intptr,Android.Runtime.JValue[]) [0x00023] in /Users/builder/data/lanes/monodroid-lion-bigsplash/0e0e51f9/source/monodroid/src/Mono.Android/src/Runtime/JNIEnv.g.cs:368
04-15 08:49:00.603 I/MonoDroid( 1389): at Android.Views.ViewGroup.AddView (Android.Views.View) [0x0003e] in /Users/builder/data/lanes/monodroid-lion-bigsplash/0e0e51f9/source/monodroid/src/Mono.Android/platforms/android-8/src/generated/Android.Views.ViewGroup.cs:1186
04-15 08:49:00.603 I/MonoDroid( 1389): at MyOrangeDroid.Usage.OnCreate (Android.OS.Bundle) [0x001be] in c:\Users\clement\Documents\Visual Studio 2012\Projects\MyOrangeAndroid\MyOrangeDroid\Usage.cs:70
04-15 08:49:00.603 I/MonoDroid( 1389): at Android.App.Activity.n_OnCreate_Landroid_os_Bundle_ (intptr,intptr,intptr) [0x00010] in /Users/builder/data/lanes/monodroid-lion-bigsplash/0e0e51f9/source/monodroid/src/Mono.Android/platforms/android-8/src/generated/Android.App.Activity.cs:1490
04-15 08:49:00.603 I/MonoDroid( 1389): at (wrapper dynamic-method) object.6c050c56-6d80-48bc-9425-e832938cdfa7 (intptr,intptr,intptr) <IL 0x00017, 0x00043>
04-15 08:49:00.603 I/MonoDroid( 1389): 
04-15 08:49:00.603 I/MonoDroid( 1389):   --- End of managed exception stack trace ---
04-15 08:49:00.603 I/MonoDroid( 1389): java.lang.IllegalStateException: ScrollView can host only one direct child
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.widget.ScrollView.addView(ScrollView.java:211)
04-15 08:49:00.603 I/MonoDroid( 1389):  at myorangedroid.Usage.n_onCreate(Native Method)
04-15 08:49:00.603 I/MonoDroid( 1389):  at myorangedroid.Usage.onCreate(Usage.java:28)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.os.Looper.loop(Looper.java:123)
04-15 08:49:00.603 I/MonoDroid( 1389):  at android.app.ActivityThread.main(ActivityThread.java:3683)
04-15 08:49:00.603 I/MonoDroid( 1389):  at java.lang.reflect.Method.invokeNative(Native Method)
04-15 08:49:00.603 I/MonoDroid( 1389):  at java.lang.reflect.Method.invoke(Method.java:507)
04-15 08:49:00.603 I/MonoDroid( 1389):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-15 08:49:00.603 I/MonoDroid( 1389):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-15 08:49:00.603 I/MonoDroid( 1389):  at dalvik.system.NativeStart.main(Native Method)
In mgmain JNI_OnLoad
04-15 08:49:01.503 W/dalvikvm( 1389): JNI WARNING: JNI method called with exception raised
04-15 08:49:01.503 W/dalvikvm( 1389):              in Lmyorangedroid/Usage;.n_onCreate (Landroid/os/Bundle;)V (CallObjectMethod)
04-15 08:49:01.503 W/dalvikvm( 1389): Pending exception is:
04-15 08:49:01.503 I/dalvikvm( 1389): Ljava/lang/IllegalStateException;: ScrollView can host only one direct child
04-15 08:49:01.513 I/dalvikvm( 1389):   (no stack trace data found)
04-15 08:49:01.513 I/dalvikvm( 1389): "main" prio=5 tid=1 NATIVE
04-15 08:49:01.513 I/dalvikvm( 1389):   | group="main" sCount=0 dsCount=0 obj=0x4001f1a8 self=0xce48
04-15 08:49:01.513 I/dalvikvm( 1389):   | sysTid=1389 nice=0 sched=0/0 cgrp=default handle=-1345006528
04-15 08:49:01.513 I/dalvikvm( 1389):   | schedstat=( 7098128094 1495743800 310 )
04-15 08:49:01.513 I/dalvikvm( 1389):   at myorangedroid.Usage.n_onCreate(Native Method)
04-15 08:49:01.523 I/dalvikvm( 1389):   at myorangedroid.Usage.onCreate(Usage.java:28)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.app.ActivityThread.access$1500(ActivityThread.java:117)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.os.Handler.dispatchMessage(Handler.java:99)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.os.Looper.loop(Looper.java:123)
04-15 08:49:01.523 I/dalvikvm( 1389):   at android.app.ActivityThread.main(ActivityThread.java:3683)
04-15 08:49:01.523 I/dalvikvm( 1389):   at java.lang.reflect.Method.invokeNative(Native Method)
04-15 08:49:01.523 I/dalvikvm( 1389):   at java.lang.reflect.Method.invoke(Method.java:507)
04-15 08:49:01.523 I/dalvikvm( 1389):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-15 08:49:01.523 I/dalvikvm( 1389):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-15 08:49:01.523 I/dalvikvm( 1389):   at dalvik.system.NativeStart.main(Native Method)
04-15 08:49:01.523 I/dalvikvm( 1389): 
04-15 08:49:01.523 E/dalvikvm( 1389): VM aborting
04-15 08:49:01.533 I/mono    ( 1389): Stacktrace:
04-15 08:49:01.533 I/mono    ( 1389): 
04-15 08:49:01.533 I/mono    ( 1389):   at Android.Runtime.JNIEnv.CallObjectMethod (intptr,intptr) [0x00000] in /Users/builder/data/lanes/monodroid-lion-bigsplash/0e0e51f9/source/monodroid/src/Mono.Android/src/Runtime/JNIEnv.g.cs:129
04-15 08:49:01.533 I/mono    ( 1389):   at Java.Lang.Throwable.get_Message () [0x0003e] in /Users/builder/data/lanes/monodroid-lion-bigsplash/0e0e51f9/source/monodroid/src/Mono.Android/platforms/android-8/src/generated/Java.Lang.Throwable.cs:195
04-15 08:49:01.533 I/mono    ( 1389):   at (wrapper runtime-invoke) <Module>.runtime_invoke_object__this__ (object,intptr,intptr,intptr) <IL 0x00050, 0xffffffff>
Unhandled Exception:

Java.Lang.IllegalStateException: 
```

感谢您的帮助/阅读:-)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:17:35.940

> ScrollView 必须只有一个 Direct 子级

如果您尝试添加如下

```
layout.AddView(textView);
layout.AddView(progressBar); 
```

它会抛出异常说 ScrollView 必须只有一个直接的孩子

**解决方案：**

取 LinearLayout 并向其添加 textView 和 progressbar，然后将 LinearLayout 添加到 ScrollView

> 而且在您的代码中，方法名称以大写字母给出，记住 java 区分大小写。我认为您只是为概述提供上述代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:57:14.650

你有没有机会在你的 xml 上的滚动视图中有任何东西？如果那里什么都没有，请在添加新视图之前尝试删除所有视图。这是 java 但你必须在 c# 中有一个等价物。

```
scrollView.removeAllViews(); 
```

如果您没有类似的东西，请删除第一个视图，反正只有一个。

```
scrollView.removeView(0); 
```

[删除所有视图](http://developer.android.com/reference/android/view/ViewGroup.html#removeAllViews)

# msmq - MassTransit 订阅和接收自己的消息

> ID：16010514
> 
> 赞同：2
> 
> 时间：2013-04-15T08:13:45.460
> 
> 标签：msmq, esb, masstransit

我正在尝试使用 MassTransit 实现概念验证服务总线。我有三个应用程序需要在彼此之间传达通用实体类型的更改。因此，当用户在一个应用程序中更新实体时，会通知其他两个应用程序。

每个应用程序都使用自己的队列配置如下：

```
bus = ServiceBusFactory.New(sbc =>
    {
        sbc.UseMsmq();
        sbc.VerifyMsmqConfiguration();
        sbc.ReceiveFrom("msmq://localhost/app1_queue");
        sbc.UseSubscriptionService("msmq://localhost/subscription");
        sbc.UseControlBus();

        sbc.Subscribe(subs =>
        {
            subs.Handler<IMessage1>(IMessage1_Received);
        });
    }); 
```

还有一个订阅服务应用配置如下：

```
subscriptionBus = ServiceBusFactory.New(sbc =>
    {
        sbc.UseMsmq();
        sbc.VerifyMsmqConfiguration();
        sbc.ReceiveFrom("msmq://localhost/subscription");
    });

var subscriptionSagas = new InMemorySagaRepository<SubscriptionSaga>();
var subscriptionClientSagas = new InMemorySagaRepository<SubscriptionClientSaga>();
subscriptionService = new SubscriptionService(subscriptionBus, subscriptionSagas, subscriptionClientSagas);

subscriptionService.Start(); 
```

问题是当其中一个应用程序发布消息时，所有三个应用程序都会收到它（包括原始发送者）。

有什么方法可以避免这种情况（无需将应用程序名称添加到消息中）？

谢谢，

G

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:10:32.357

所以 MassTransit 是一个发布/订阅系统。如果您发布一条消息，每个注册接收它的人都会。如果您只需要一些端点来接收它，那么您确实需要直接发送。这就是它的工作原理。

您可以在消息中包含来源并丢弃您不感兴趣的消息。如果您实现该`Consumes.Accept`接口，我认为该`Accept`方法可以让您轻松地做到这一点，而无需将其混入正常的消费代码中。

# jquery - asp.net 选择了主插件并在选项中使用超链接

> ID：16010519
> 
> 赞同：1
> 
> 时间：2013-04-15T08:14:09.110
> 
> 标签：jquery, asp.net, jquery-chosen

大家好，我在我的网页中使用选择的主插件[selected-master](https://github.com/harvesthq/chosen)

我想用它来选择用户或帖子。但是当我选择一个选项时，它只是将选定的值写入数据占位符。我将超链接放在选项中以提供导​​航 url，但没有任何改变。有可能吗？

```
 <select data-placeholder="#Post ara, @Kullanıcı ara" style="width:300px; margin-top:10px; margin-left:0px;" class="chzn-select" tabindex="5" >
                 <option value=""></option>
                 <optgroup label="Postlar">
                 <asp:Repeater ID="rpt_Post" runat="server" DataSourceID="ods_postlist">
                 <ItemTemplate>
                 <option><asp:HyperLink ID="hypPost" runat="server"  NavigateUrl='<%# "~/Post.aspx?post_id="+ Eval("post_id") %>' Text='<%# "# " + Eval("post_baslik") %>'></asp:HyperLink></option>
                 </ItemTemplate>
                </asp:Repeater>
                <asp:ObjectDataSource ID="ods_postlist" runat="server" SelectMethod="PostListesiGetir" TypeName="yonet"></asp:ObjectDataSource>
                   </optgroup>
                 <optgroup label="Kullanıcılar">
                 <asp:Repeater ID="rpt_kullanici" runat="server" DataSourceID="ods_kullanicilist">
                     <ItemTemplate>
                 <option><asp:HyperLink ID="hyp_Profillist" runat="server" Text='<%# "@ " + Eval("UserName") %>' NavigateUrl='<%# "~/profil.aspx?user_id=" + Eval("UserId") %>'></asp:HyperLink></option>
                    </ItemTemplate>
                  </asp:Repeater> 
                   <asp:ObjectDataSource ID="ods_kullanicilist" runat="server" SelectMethod="KullaniciListesiGetir" TypeName="yonet"></asp:ObjectDataSource>
                 </optgroup>
                 <optgroup label="Diğer">
                     <option>Ayrıntılı Ara</option>
                 </optgroup>

    </select> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:06:47.753

我用这种方式解决了我的问题。也许我可以帮助别人。我在[Marks answer 看到了这个解决方案。（感谢 Mark Eirich）](https://stackoverflow.com/questions/5150363/onchange-open-url-via-select-jquery)

```
<select data-placeholder="#Post ara, @Kullanıcı ara" style="width:300px; margin-top:10px; margin-left:0px;" class="chzn-select" tabindex="5" *onchange="if (this.value) window.location.href=this.value"* >
             <option value=""></option>
             <optgroup label="Postlar">
             <asp:Repeater ID="rpt_Post" runat="server" DataSourceID="ods_postlist">
             <ItemTemplate>
             <option value='<%# "Post.aspx?post_id="+ Eval("post_id") %>'><%# "# " + Eval("post_baslik") %>'></option>
             </ItemTemplate>
            </asp:Repeater>
            <asp:ObjectDataSource ID="ods_postlist" runat="server" SelectMethod="PostListesiGetir" TypeName="yonet"></asp:ObjectDataSource>
               </optgroup>
             <optgroup label="Kullanıcılar">
             <asp:Repeater ID="rpt_kullanici" runat="server" DataSourceID="ods_kullanicilist">
                 <ItemTemplate>
             <option value='<%# "profil.aspx?user_id=" + Eval("UserId") %>'><%# "@ " + Eval("UserName") %></option>
                </ItemTemplate>
              </asp:Repeater> 
               <asp:ObjectDataSource ID="ods_kullanicilist" runat="server" SelectMethod="KullaniciListesiGetir" TypeName="yonet"></asp:ObjectDataSource>
             </optgroup>
             <optgroup label="Diğer">
                 <option>Ayrıntılı Ara</option>
             </optgroup>

</select> 
```

# javascript - Javascript 处理错误

> ID：16010520
> 
> 赞同：0
> 
> 时间：2013-04-15T08:14:15.400
> 
> 标签：javascript, exception

我想知道 javascript 在遇到错误时在做什么（没有被 catch 块捕获）。假设我有一个简单的语法错误，我忘了用右括号关闭函数调用：javascript 是否会杀死脚本，尝试猜测我的意思并继续，或者这是否会从浏览器更改为浏览器？我从经验中知道，语句后缺少分号不一定会杀死你的脚本，这是因为 javascript 引擎仍然可以“理解”程序员的意思，尽管他犯了错误？

# c# - MOQ - 无论使用什么参数，都执行参数验证方法

> ID：16010529
> 
> 赞同：5
> 
> 时间：2013-04-15T08:14:54.517
> 
> 标签：c#, unit-testing, moq

我有一个内部调用另一个方法的方法。

此方法只有一个签名，例如：

```
 Koko(ComplexType isKoko) 
```

我想验证此方法是否在不检查参数实例并执行以下操作的情况下执行：

```
 It check_description = () => mockKoko.Verify(x => x.Koko(anything), Times.Once()); 
```

我搜索了论坛和谷歌，找不到答案。

我会很感激任何帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T08:23:52.117

您可以使用`It.IsAny<ComplexType>()`：

```
check_description = () => mockKoko.Verify(x => x.Koko(It.IsAny<ComplexType>()), Times.Once()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-11T20:15:57.040

```
mock.Verify(m => m.MethodToCheckIfCalled(It.Is<IUserDTO>(x =>  x.LastName == "3" & x.FirstName == "2"))); 
```

# ios - 不同 NSURLConnection 的单例

> ID：16010532
> 
> 赞同：0
> 
> 时间：2013-04-15T08:15:02.733
> 
> 标签：ios, objective-c, nsurlconnection

我一直用于连接服务器单例类。我没有检查服务器的响应并轻松获取数据。现在我需要使用 10 个不同的请求。我创建属性 NSURLConnection。那么如何确定我在委托方法中使用的连接，例如

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data 
```

因为从每个请求中我获取不同的数据

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:35:18.723

你可以做的是有一个自定义连接类来表示一个连接、它的数据，以及一些关于连接的可选信息。我用这个：

```
@interface MyConnection : NSObject

@property NSURLConnection *connection;
@property id info;
@property NSMutableData *data;

@end 
```

然后只需将连接放在一个数组中，并将实际的 NSURLConnection 对象相互比较，以找出哪个连接接收到数据/失败等。

创建连接：

```
 NSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:someRequest delegate:self];

    if (connection){
        MyConnection *con = [[MyConnection alloc] init];
        con.connection = connection;
        con.data = [NSMutableData data];
        [self.arrayWithConnections addObject:con];
    } 
```

方法：

```
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    MyConnection *con = [self getConnection:connection]
    [con.data appendData:data];
}

-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    MyConnection *con = [self getConnection:connection];
    [con.data setLength:0]; 
}

-(MyConnection *)getConnection:(NSURLConnection *)con
{
    for (MyConnection *myCon in self.arrayWithConnections)
        if ([con isEqual: myCon.connection])
            return myCon;
    return nil;
} 
```

# c# - 打开word文档损坏

> ID：16010535
> 
> 赞同：0
> 
> 时间：2013-04-15T08:15:10.087
> 
> 标签：c#, asp.net, office-interop

我正在尝试将 Word 文档（在 ASP .NET 服务器和 Microsoft.Office.Interop.Word 中生成）发送到客户端，但每次我尝试使用 IE9 在客户端打开时，它都说无法打开它因为它已损坏，但如果我尝试保存并打开它，它可以正常工作。那么问题出在哪里？

这是代码：

```
 string nombreDoc = @"C:\tempDocs\Test.doc";
        generateIndex(nombreDoc); //this is an internal operation using Interop.Word
        FileStream sourceFile = new FileStream(nombreDoc, FileMode.Open);
        float FileSize;
        FileSize = sourceFile.Length;
        byte[] getContent = new byte[(int)FileSize];
        sourceFile.Read(getContent, 0, (int)sourceFile.Length);
        sourceFile.Close();
        HttpContext.Current.Response.ClearContent();
        HttpContext.Current.Response.ClearHeaders();
        HttpContext.Current.Response.Clear();
        HttpContext.Current.Response.Cache.SetNoServerCaching();
        HttpContext.Current.Response.Buffer = true;
        HttpContext.Current.Response.ContentType = "application/vnd.ms-word.document";
        HttpContext.Current.Response.AddHeader("Content-Length", getContent.Length.ToString());
        HttpContext.Current.Response.AddHeader("Content-Disposition", "attachment; filename=Test.doc");
        HttpContext.Current.Response.BinaryWrite(getContent);
        HttpContext.Current.Response.Flush();
        HttpContext.Current.Response.End();
        File.Delete(nombreDoc); 
```

我尝试使用 WriteFile 而不是 BynaryWrite 并且问题仍然存在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:40:32.257

这通常是因为您的服务器启用了输出压缩。基本上，您的服务器会在写入输出流之前尝试 GZip 二进制文档。Google 将向您展示如何验证压缩是否已打开以及如何禁用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:34:42.580

尽管我的回复可能无法完全回答您的问题，但我遇到了 ASP.Net 和办公自动化的另一个问题。我学到了不推荐的艰难方法： [Microsoft 支持](http://support.microsoft.com/default.aspx?scid=kb;EN-US;q257757#kb2)

我所做的是我创建了一个 Windows 服务，它用于创建一个 Word 文档，就像您尝试做的那样并在服务器上创建一个文件。然后服务将在数据库中写入文件的路径，ASP.Net 页面将发送该文件以供下载。基本上，避免通过 ASP.Net 实现办公自动化

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:24:13.090

将内容类型更改为八位字节流，并恢复为使用 WriteFile 而不是 BinaryWrite

```
Response.ContentType = "application/octet-stream"; 
```

# c# - 将 CSV 对象从 Javascript 发送到 C#

> ID：16010536
> 
> 赞同：0
> 
> 时间：2013-04-15T08:15:13.567
> 
> 标签：c#, javascript, csv

我一直在寻找一种将 CSV 对象从 Javascript 发送到 C# 的方法，但我发现的结果恰恰相反。

```
$("#send").click(function () {
        var json = $.parseJSON($("#json").val());
        var csv = JSON2CSV(json);
    }); 
```

前面的代码是我的javascript。我需要将变量 csv 发送到我在 C# 后面的代码中。提前致谢

# matplotlib - 更改误差条大小

> ID：16010537
> 
> 赞同：7
> 
> 时间：2013-04-15T08:15:16.633
> 
> 标签：matplotlib

我必须改变我的情节中标记的大小（使它们更大）。怎么可能改变误差线的宽度呢？我正在使用`matplotlib`. 谢谢。

```
plot=ax.errorbar(x,y, yerr=[y1,y2], color='red', fmt='.', markersize='10', ecolor='red',capsize=4) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T08:43:37.177

`elinewidth`您可以通过在对 errorbar(x,y,...)[错误栏文档](http://matplotlib.org/api/pyplot_api.html?highlight=errorbar#matplotlib.pyplot.errorbar)的调用中设置属性来使错误栏变粗。但是错误栏的长度是您的数据：您无法在不更改它所代表的错误的情况下更改长度。

```
import matplotlib.pyplot as plt

# define x,y, y1,y2 here ...

plt.figure()
plt.errorbar(x,y, yerr=[y1,y2], color='red', fmt='.', markersize='10', ecolor='red',capsize=4, elinewidth=2) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-18T20:56:19.520

如果要将错误栏的上限的*线宽*更改为 2，请使用以下命令：

```
(_, caps, _) = errorbar(x, y, yerr=[y1,y2], elinewidth=2)
for cap in caps:
     cap.set_markeredgewidth(2) 
```

# java - 运行 .jar 时的 getResourceAsStream 文件路径

> ID：16010539
> 
> 赞同：13
> 
> 时间：2013-04-15T08:15:18.087
> 
> 标签：java, jar, inputstream, filepath

我的代码：

```
BufferedInputStream bis =
  new BufferedInputStream(getClass().getResourceAsStream("playerhit.mp3")); 
```

`playerhit.mp3`当文件与正在运行的文件位于同一包中时，此代码可以正常工作`MP3.class`。我将其作为 .jar 运行。如果我将文件路径更改为类似`/src/data/audio/playerhit.mp3`它不再起作用的东西。在以.jar 运行时，是否可以访问与包的根目录不同的文件路径？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-15T08:19:26.927

查看[用于`getResourceAsStream(...)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResourceAsStream%28java.lang.String%29).

如果参数以 a 开头`/`，则资源的绝对名称是名称中`/`. 否则，绝对名称采用以下形式： `modified_package_name/name` 其中`modified_package_name`是此对象的包名称，`/`替换为`.`。

因此，如果您`playerhit.mp3`位于包结构的根目录中，则应将其引用为`/playerhit.mp3`. 如果它在 中`/src/data/audio/`，您可能应该使用`/data/audio/playerhit.mp3`- 但请检查 JAR 文件的内容以确定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:20:51.040

首先检查文件是否确实在 jar 中。

检查罐子内的位置。

相对路径：当前包

绝对路径：jar 的根目录

# node.js - 使用 xpath 和cheerio 获取元素

> ID：16010551
> 
> 赞同：6
> 
> 时间：2013-04-15T08:16:09.463
> 
> 标签：node.js, cheerio

尝试在 node.js 中编写一个函数，该函数将通过 xpath 获取元素。

我有一个所需 dom 元素的 xpath，例如

```
xpath = '/html/body/div/div[2]/div/h1/span' 
```

我的 DOM 通过 fs 模块加载到**Cheerio**中（因为我有这个网页存储在本地）：

```
var file = fs.readFileSync( "aaa.html" )
var inDom    = cheerio.load( file ) 
```

然后我尝试遍历每个 xpath 部分，获取 dom 树的元素，检查名称和元素编号是否匹配的子元素，如果匹配，则将**rez**存储为此数学元素。然后我继续挖掘新的 xpath 部分。代码看起来像这样，但它无法得到我想要的，因为在我获得第一个 mach 并将**rez**设置为匹配元素之后，在下一个 for 循环循环中，这个新元素似乎没有任何子元素。

```
var rez = inDom('html');
var xpath = inXpath.split( "/" );
for( var i = iterateStart; i < xpath.length; i++ ) {
    var selector = xpath[ i ].split('[')[0];
    var matches = xpath[ i ].match(/\[(.*?)\]/);
    var child = 0;
    if( matches ) {
        child = matches[ 1 ];
    }

    for( var k = 0; k < rez.length; k++ ) {
        var found = false
        var curE = rez[ k ]

        for( var p = 0; p < curE.children.length; p++ ) {
            var curE_child = curE.children[ p ]

            if( curE_child.name = selector ) {
                if( child > 0 ) {
                    child--
                }
                else {
                    rez = curE_child
                    found = true
                    break
                }
            }               
        }
        if( found ) {
            break
        }
    }       
} 
```

任何人都可以使用提到的 node.js 模块帮助我编写代码吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T12:47:57.493

看起来您正在做更多的工作，然后您需要找到所需的元素。你能发布一个示例html页面吗？

Cheerio 提供了一个更高级别的 api，用于查找您应该使用的元素。

```
var html = fs.readFileSync('aaa.html')
var $ = cheerio.load(html)
var selector = 'div' // some selector here which I can tune to the example html page
var parent = $(selector)
var childSelector = 'p' // some other selector 
var children = parent.find(childSelector) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-03T16:58:45.940

是的，有 xpath 实现：

```
npm install xpath 
```

样本：

```
var xml = "<book><title>Harry Potter</title></book>"
var doc = new dom().parseFromString(xml)
var title = xpath.select("//title/text()", doc).toString()
console.log(title) 
```

来源： [https ://www.npmjs.org/package/xpath](https://www.npmjs.org/package/xpath)

# mysql - 查询时有什么方法可以替换列值吗？

> ID：16010552
> 
> 赞同：1
> 
> 时间：2013-04-15T08:16:10.987
> 
> 标签：mysql, sql

我有一张存储员工信息的表格：

```
mysql> select * from emp;

+-------+--------+-----------+------+------------+---------+---------+--------+
| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1982-09-12 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1983-01-12 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
+-------+--------+-----------+------+------------+---------+---------+--------+
14 rows in set (0.24 sec) 
```

有一个名为 MGR 的列显示谁是每个员工的老板（嗯，老板的 EMPNO）。
我想要的是做一个查询，它将显示我所有的员工和他们老板的名字，而不是 ID。
结果表如下所示：

```
+-------+----------+
| ENAME | BOSSNAME |
+-------+----------+
| SMITH |   FORD   |
| ALLEN |   BLAKE  |
|  etc. |    etc.  |
+-------+----------+ 
```

有什么方法可以完成任务吗？请注意，没有名为 BOSSES 或类似名称的第二个表。每个员工都存储在同一张表中。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T08:18:17.297

您需要使用 加入表本身`LEFT JOIN`，因此所有没有加入的员工`MGR`仍将显示在列表中

```
SELECT  a.Ename EmpName,
        b.Ename BossName
FROM    emp a
        LEFT JOIN emp b
            ON a.MGR = b.EmpNo 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!9/f22b3/2)

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

输出

```
╔═════════╦══════════╗
║ EMPNAME ║ BOSSNAME ║
╠═════════╬══════════╣
║ SCOTT   ║ JONES    ║
║ FORD    ║ JONES    ║
║ ALLEN   ║ BLAKE    ║
║ WARD    ║ BLAKE    ║
║ MARTIN  ║ BLAKE    ║
║ TURNER  ║ BLAKE    ║
║ JAMES   ║ BLAKE    ║
║ MILLER  ║ CLARK    ║
║ ADAMS   ║ SCOTT    ║
║ JONES   ║ KING     ║
║ BLAKE   ║ KING     ║
║ CLARK   ║ KING     ║
║ SMITH   ║ FORD     ║
║ KING    ║ (null)   ║
╚═════════╩══════════╝ 
```

# iphone - 删除 UITableView 中 2 部分之间的标题空间

> ID：16010553
> 
> 赞同：0
> 
> 时间：2013-04-15T08:16:16.353
> 
> 标签：iphone, ios, objective-c

我使用此代码为表格视图部分标题设置颜色等

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    // create the parent view that will hold header Label
    UIView* customView = [[UIView alloc] initWithFrame:CGRectMake(10.0, 0.0, 300.0, 44.0)];
    // create the button object
    UILabel * headerLabel = [[UILabel alloc] initWithFrame:CGRectZero];
    headerLabel.backgroundColor = [UIColor clearColor];
    headerLabel.opaque = NO;
    headerLabel.textColor = [UIColor whiteColor];
    headerLabel.highlightedTextColor = [UIColor whiteColor];
    headerLabel.font = [UIFont boldSystemFontOfSize:18];
    headerLabel.shadowColor = [UIColor blackColor];
    headerLabel.shadowOffset = CGSizeMake(0, 1.0);
    headerLabel.frame = CGRectMake(10.0, 0.0, 300.0, 44.0);

    if (section == 0) {

        headerLabel.text = @"Section 0 header";
        [customView addSubview:headerLabel];
    }
    if (section == 1) {

        //headerLabel.text = @"Section 1 header";
        //[customView addSubview:headerLabel];
        customView = nil;
        tableView.tableHeaderView = nil;
    }
    if (section == 2) {

        headerLabel.text = @"Section 2 header";
        [customView addSubview:headerLabel];
    }

    return customView;
} 
```

在第 1 节中，我不想要标题，但第 0 节和第 1 节之间仍然有更大的空间。

![在此处输入图像描述](https://i.stack.imgur.com/QG91g.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:18:55.817

实现 tableView:heightForHeaderInSection:

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html)

# android - 媒体播放器错误：错误（260，-2147483648）

> ID：16010556
> 
> 赞同：0
> 
> 时间：2013-04-15T08:16:27.957
> 
> 标签：android, media

当我用媒体播放器播放视频时，它可以正常工作，因为我改变了方向，我的媒体播放器抛出错误（260，-2147483648）。我已经搜索过这个错误但没有结果。那是什么？

这是我改变方向时的logcat：

```
04-15 15:23:04.371: E/androidEx2 = VideoSample(6358): surfaceDestroyed
04-15 15:23:04.391: E/androidEx2 = VideoSample(6358): onTrackPause
04-15 15:23:04.575: E/androidEx2 = VideoSample(6358): surfaceCreated
04-15 15:23:04.576: E/androidEx2 = VideoSample(6358): onTrackStart
04-15 15:23:04.576: E/androidEx2 = VideoSample(6358): VIDEO SIZES: W: 640 H: 360 PROP: 1.7777778
04-15 15:24:43.643: E/androidEx2 = VideoSample(6358): VIDEO SIZES: W: 800 H: 480 PROP: 1.6666666
04-15 15:24:43.678: E/MediaPlayer(6358): error (260, -2147483648)
04-15 15:24:43.801: E/MediaPlayer(6358): Error (260,-2147483648)
04-15 15:24:44.301: E/MediaPlayer(6358): stop called in state 0
04-15 15:24:44.301: E/MediaPlayer(6358): error (-38, 0)
04-15 15:24:44.341: E/androidEx2 = VideoSample(6358): onTrackStop 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:22:19.077

使用此属性注册您的活动

```
<activity
    android:configChange="orientation|screenSize"
/> 
```

在`AndroidManifest.xml`

如果您只想将屏幕设置为特定方向（例如横向），请在`<activity>`

```
<activity
    android:screenOrientation="landscape"
/> 
```

# django - TemplateResponse 不呈现？

> ID：16010557
> 
> 赞同：0
> 
> 时间：2013-04-15T08:16:38.340
> 
> 标签：django, pjax

我刚刚切换到 TemplateResponse 使用 pjax。它现在可以正确呈现布局，但根本不会呈现内容。即使禁用了 django-pjax。我的视图代码：

```
def product(request, slug):
  product = get_object_or_404(Product, slug=slug)
  return TemplateResponse(request, "layouts/base.html", ({ 'product':product, 'url':request.get_full_path })) 
```

在我的布局中，我有这个块：

```
{% block content %}{% endblock %} 
```

和我的模板：

```
{% extends "layouts/base.html" %}

{% block content %}
...
{% endblock %} 
```

使用普通的`render-shortcut`django 提供，它可以立即工作。有什么建议吗？提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T08:20:17.587

在您看来，您正在使用`base.html`模板...

```
return TemplateResponse(request, "layouts/base.html", .... 
```

正如预期的那样，它没有任何内容。

您可能希望将其更改为您的派生模板。

# java - 如何确定文件是否被另一个进程使用（Java）

> ID：16010564
> 
> 赞同：7
> 
> 时间：2013-04-15T08:17:04.133
> 
> 标签：java, linux, file-io

我尝试了很多例子，但没有一个有效。我试试这个，但不工作。

我也尝试使用`tryLock()`. 它总是返回假。为什么？

```
private boolean checkCompleteFile(File f)
{           
    RandomAccessFile file = null;
    FileLock fileLock = null;

    try
    {
        file = new RandomAccessFile(f, "rw");
        FileChannel fileChannel = file.getChannel();

        fileLock = fileChannel.lock();
        if (fileLock != null)
        {
            fileLock.release();
            file.close();
            return false;
        }

    }
    catch(Exception e)
    {
         return false;
    }

    return true;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:20:45.120

你捕捉到一个异常并返回假，这就是为什么你总是得到假，对异常做一些事情或不捕捉它，这样你就知道是否抛出了异常，如果你捕捉到一个一般的异常，一个假的返回值并没有真正的意义.

```
try {
  lock = channel.tryLock();
  // ...
} catch (OverlappingFileLockException e) {
  // File is already locked in this thread or virtual machine
}
lock.release();
channel.close(); 
```

您只需尝试访问文件并在失败时捕获异常：

```
boolean isLocked=false;
RandomAccessFile fos=null;
try {
      File file = new File(filename);
      if(file.exists())
        fos=new RandomAccessFile(file,"rw");        
}catch (FileNotFoundException e) {
    isLocked = true;
}catch (SecurityException e) {
    isLocked = true;
}catch (Exception e) {
    // handle exception
}finally {
    try {
        if(fos!=null) {
            fos.close();
        }
    }catch(Exception e) {
        //handle exception
    }
} 
```

请注意，[RandomAccessFile](http://docs.oracle.com/javase/6/docs/api/java/io/RandomAccessFile.html)类抛出：

> **FileNotFoundException** -
> 
> 如果模式为“r”但给定的字符串不表示现有的常规文件，或者**如果模式以“rw”开头但给定的字符串不表示现有的可写常规文件并且该名称的新常规文件不能被创建**，或者在打开或创建文件时出现其他错误。
> 
> **安全异常**-
> 
> 如果安全管理器存在且其 checkRead 方法拒绝对文件的读访问或模式为“rw”且安全管理器的 checkWrite 方法拒绝对文件的写访问

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-22T08:42:57.077

**尝试使用这个：**

```
try {
    @SuppressWarnings("resource")
    FileChannel channel = new RandomAccessFile(fileToRead, "rw").getChannel();
    //This method blocks until it can retrieve the lock. 
    FileLock lock = channel.lock(); // Try acquiring the lock without blocking. 
    try { 
        lock = channel.tryLock();
    } catch (OverlappingFileLockException e){

    }
    lock.release(); //close the file.
    channel.close();
} catch (Exception e) {             

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:30:41.460

使用linux命令怎么样？

```
lsof -p 
```

该命令将显示文件打开状态，您可以对其进行解析以检查谁使用它。

# http-headers - 如何防止 Gunicorn 返回“服务器”http 标头？

> ID：16010565
> 
> 赞同：24
> 
> 时间：2013-04-15T08:17:04.920
> 
> 标签：http-headers, gunicorn

我想屏蔽版本或完全删除标题。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2014-01-22T21:37:56.473

要更改 'Server:' http 标头，请在 conf.py 文件中：

```
 import gunicorn
 gunicorn.SERVER_SOFTWARE = 'Microsoft-IIS/6.0' 
```

并使用沿线的调用`gunicorn -c conf.py wsgi:app`

要完全删除标头，您可以通过将其 http 响应类替换为过滤掉标头的子类来对 gunicorn 进行猴子补丁。这可能是无害的，但可能不推荐。将以下内容放入 conf.py 中：

```
from gunicorn.http import wsgi

class Response(wsgi.Response):
    def default_headers(self, *args, **kwargs):
        headers = super(Response, self).default_headers(*args, **kwargs)
        return [h for h in headers if not h.startswith('Server:')]

wsgi.Response = Response 
```

用 gunicorn 18 测试

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2021-01-29T05:30:05.863

对于较新的版本 (20.0.4)：`gunicorn.conf.py`在运行`gunicorn`命令的目录中创建一个包含以下内容的文件：

```
import gunicorn
gunicorn.SERVER_SOFTWARE = 'My WebServer' 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2021-07-27T16:02:39.020

这里没有写清楚，所以我要确认最新版本的 Gunicorn (20.1.x) 最简单的方法是将以下行添加到配置文件中：

```
import gunicorn 
gunicorn.SERVER = 'undisclosed' 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-05-21T16:42:20.410

将其更改为独特的东西比将其删除要好。您不想冒险，例如，蜘蛛认为您不合规。将其更改为您不使用的软件的名称可能会导致类似的问题。使其独一无二将防止做出相同的假设。我推荐这样的东西：

```
import gunicorn
gunicorn.SERVER_SOFTWARE = 'intentionally-undisclosed-gensym384763' 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-07-26T20:05:57.533

您可以编辑 __init__.py 以将 SERVER_SOFTWARE 设置为您想要的任何内容。但是我真的很想用一个标志来禁用它，所以我升级时不需要重新应用补丁。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-07-24T18:14:20.770

我的模拟补丁免费解决方案涉及包装 default_headers 方法：

```
import gunicorn.http.wsgi
from six import wraps

def wrap_default_headers(func):
    @wraps(func)
    def default_headers(*args, **kwargs):
        return [header for header in func(*args, **kwargs) if not header.startswith('Server: ')]
    return default_headers

gunicorn.http.wsgi.Response.default_headers = wrap_default_headers(gunicorn.http.wsgi.Response.default_headers) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-03-22T10:10:54.843

这并不能直接回答这个问题，但也可以解决这个问题，而无需猴子修补 gunicorn。

如果您在反向代理后面使用 gunicorn，通常情况下，您可以在来自后端的下游响应标头中设置、添加、删除或执行替换。在我们的例子中，`Server`标题。

我想每个网络服务器都应该有一个等效的功能。

* * *

例如，在[Caddy 2](https://caddyserver.com/)（目前处于测试阶段）中，它会很简单：

```
https://localhost {
    reverse_proxy unix//tmp/foo.sock {
        header_down Server intentionally-undisclosed-12345678
    }
} 
```

为了完整起见，即使在手动 http-> https 重定向过程中，我仍然添加了一个最小（但完全有效）[`Caddyfile`](https://caddyserver.com/docs/caddyfile-tutorial)来处理服务器标头修改（如果您不覆盖它，Caddy 2 会自动执行它），这可能有点难以理解正确输出。

```
http://localhost {
    # Fact: the `header` directive has less priority than `redir` (which means
    # it's evaluated later), so the header wouldn't be changed (and Caddy would
    # shown instead of the faked value).
    #
    # To override the directive ordering only for this server, instead of
    # change the "order" option globally, put the configuration inside a
    # route directive.
    # ref.
    #   https://caddyserver.com/docs/caddyfile/options
    #   https://caddyserver.com/docs/caddyfile/directives/route
    #   https://caddyserver.com/docs/caddyfile/directives#directive-order
    route {
        header Server intentionally-undisclosed-12345678
        redir https://{host}{uri}
    }
}

https://localhost {
    reverse_proxy unix//tmp/foo.sock {
        header_down Server intentionally-undisclosed-12345678
    }
} 
```

要检查它是否有效，只需使用`curl`as`curl --insecure -I http://localhost`和`curl --insecure -I http://localhost`（--insecure，因为 localhost 证书会自动生成为自签名）。

它的设置非常简单，您也可以考虑在开发中使用它（使用`gunicorn --reload`），尤其是当它类似于您的登台/生产环境时。

# php - 简单的 php 代码不起作用

> ID：16010570
> 
> 赞同：0
> 
> 时间：2013-04-15T08:17:13.077
> 
> 标签：php

我有一个非常简单的 php 代码，我保存在 test.php 下

多么美好的一天！”; ?>

代码是

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Untitled Document</title>
    </head>
    <body>
    <?php
    $str = "Hello world!";
    echo $str;
    echo "<br>What a nice day!";
    ?>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:22:39.487

您的代码没有错误，但事实上您在没有网络服务器的情况下打开网页（显然）。如果您安装并运行了 Apache，您应该将该页面复制到该`htdocs`目录并进行测试`localhost/mycode.php`（假设您将文档保存为 .php 文件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:24:53.743

您试图在未安装 PHP 的情况下运行 php 脚本。PHP 是服务器端代码，这意味着如果没有在您的服务器上安装 PHP，它就不会运行。

在您的情况下，我建议使用 UsbWebserver（请参阅[http://www.usbwebserver.net/](http://www.usbwebserver.net/)）。它是一个小型网络服务器，您可以在本地 PC 上安装（大约需要 2 分钟），它包括 PHP、MySQL、Apache 和 PHPmyAdmin。将您的文件放在`/root`文件夹中（作为 .php）并从那里运行它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:26:11.347

正如您[在此处](http://codepad.viper-7.com/jzvD3I)看到的，代码工作正常，这意味着它是您的网络服务器。

将文件另存为`.php`并将其上传到您的网络服务器或安装为[xampp](http://www.apachefriends.org/en/xampp.html)。

Xampp 允许您在 Windows 机器上运行本地网络服务器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T08:27:22.387

请记住，PHP 不是客户端编程语言。该脚本必须在具有 Apache 或类似软件的服务器上解释和执行。

```
 Client (Browser)  →   requests example.php  →   Server executes script
           ↑                                          ↓
             ← sends the *output* back to the client ← 
```

PS：您也可以将本地计算机用作服务器（尝试例如*xampp*）。您可以使用 then 访问您自己的服务器`localhost`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T08:28:28.043

您需要安装[apache 服务器](http://httpd.apache.org/)和 php，或者两者都使用包。

*   下载[xampp](http://www.apachefriends.org/en/xampp.html)服务器（例如）并安装它
*   将您的`.php`文件放入`\Your\XAMPP\Path\`htdocs\ 文件夹
*   在浏览器中打开`http://localhost/test.php`

如果你看到正确的结果，那么一切都好。在其他情况下，您的`xampp`配置有问题。

# ios - NetStream http 视频不在 IOS 设备上播放

> ID：16010572
> 
> 赞同：0
> 
> 时间：2013-04-15T08:17:15.667
> 
> 标签：ios, actionscript-3, flash, flash-cs6

我正在尝试在 iPad 上播放视频，我的代码如下：

```
public function init_RTMP():void
    {
        videoURL = "http://rest************_iphone_high.mp4";           
        vid = new Video();

        nc = new NetConnection();
        nc.addEventListener(NetStatusEvent.NET_STATUS, onConnectionStatus);
        nc.connect(null);           
    }

    private function onConnectionStatus(e:NetStatusEvent):void
    {
        if (e.info.code == "NetConnection.Connect.Success")
        {
            trace("Creating NetStream");
            netStreamObj = new NetStream(nc);
            metaListener = new Object();
            metaListener.onMetaData = received_Meta;
            netStreamObj.client = metaListener;

            netStreamObj.play(videoURL);
            vid.attachNetStream(netStreamObj);
            addChild(vid);
        }
    } 
```

当我在我的系统上播放它时它工作正常，但是当我创建它的 IOS 应用程序并安装在设备上时，它显示白色空白屏幕。

如果有人有同样的问题或任何想法，请与我分享。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T17:49:31.247

正如 VC.One 所指出的，AIR for iOS 不会播放大多数（但不是全部，它偶尔会播放非常特定的编码类型）h.264 编码的视频。有三种解决方案：

1.  正如 VC.One 所说，您编码为 FLV。这样做不好，我不会推荐它。FLV 不是硬件加速的（除非最近发生了变化并且我没有看到更新），并且将完全脱离 CPU 运行，这意味着您的应用程序将运行缓慢并且应用程序将比正常情况下更快地消耗电池。
2.  使用[`StageWebView`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/StageWebView.html)，在这种情况下，您只需插入视频的 URL，它将使用本机视频播放器播放视频。这有不利的一面，因为您无法剥皮他的球员并且您无法控制它。一旦它开始播放，除了卸载页面之外，您无法控制它。然而，这工作得很好，并且相当容易实现，尽管视频将出现在舞台顶部（它**不在**中`Display List`）。
3.  最后一个选项是使用[`StageVideo`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/StageVideo.html). 这将使用本机框架播放视频，因此您可以轻松播放 h.264*并且*它将是硬件加速的。此外，这只是一个 NetStream 播放器，因此您可以完全控制它。最好的是，它没有 chrome，因此您可以围绕视频屏幕构建播放器。但是，与 StageWebView 一样，StageVideo**不在**. `Display List`但与 StageWebView 不同的是，它是直接在舞台上渲染的，*如下*其他一切。所以应用程序本身将覆盖视频。你可以通过创建一个类来围绕视频屏蔽你的应用程序来解决这个问题，但是要正确地完成它是非常困难的。我花了大约 12 个小时来创建我的 StageVideo 播放器和遮罩类，另外半天后修复了遮罩类的问题以及它如何处理 DPI 更改（提示：`applicationDPI`如果您使用的是 Flex，请不要设置）

与往常一样，请确保您的 AIR SDK 也是最新的。3.5-3.7 都为 iOS 应用程序添加了大量新功能和错误修复，因此更新到 AIR 3.7 可能会真正解决或减少您的问题（我认为不会，但总是值得一试，正确的？）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T09:18:30.630

请参阅此链接：

> [Netstream 视频无法在 iPad 上播放](https://stackoverflow.com/questions/11032141/netstream-video-not-playing-on-ipad)

基本上它是通过将视频文件编码为 FLV 而不是 MP4 来修复的。

# ios - PayPal 移动支付库 (iOS) 登录按钮禁用

> ID：16010573
> 
> 赞同：1
> 
> 时间：2013-04-15T08:17:22.587
> 
> 标签：ios, button, login, paypal-sandbox, disabled-control

我从paypal官网下载了PayPalMPL_1-6-5-iPhone_DevelopersPackage，然后打开demoApp项目，在iPad设备上运行，当我按下[Pay with PayPal]按钮时，显示一个视图，我可以输入我的电子邮件和密码，然后按下按钮[登录]，一切正常。但是有一天[登录]按钮被禁用，我无法登录，从此无法做任何事情。它在 iOS 模拟器中一直运行良好。我没有更改 demoApp 的任何代码。我的另一个应用程序中也出现了同样的问题。为什么？？？谁能帮我？非常感谢。

# c# - OData 和 WCF：无法执行 POST、PUT 和 DELETE

> ID：16010578
> 
> 赞同：1
> 
> 时间：2013-04-15T08:17:45.877
> 
> 标签：c#, wcf, visual-studio, wcf-data-services, odata

我已经使用[本](http://www.youtube.com/watch?v=m51wIoMk2XM)教程使用**Visual Studio 2012 配置和构建了 WCF 和 oData 。**

所以我使用了**Firefox REST Client 插件**来测试它是否工作正常。

这是我处理 json 的基本 URL，`192.168.1.4/TestdataService/TestDataService.svc/User?$format=json`

我可以成功地进行**GET**操作。但是我无法执行**POST、PUT 和 DELETE**操作。

**POST**操作说

> 状态码：415 不支持的媒体类型

它的**反应体**是

```
 {
  "odata.error": {
    "code": "",
    "message": {
      "lang": "en-US",
      "value": "Unsupported media type requested."
    }
  }
} 
```

**PUT & DELETE**操作说

> 状态码：405 方法
> 
> 不允许 允许：GET、POST

它的**反应体**是

```
{
  "odata.error": {
    "code": "",
    "message": {
      "lang": "en-US",
      "value": "The URI 'http://192.168.1.4/TestdataService/TestDataService.svc/User?$format=json' is not valid for DELETE operation. The URI must refer to a single resource from an entity set or from a property referring to a set of resources."
    }
  }
} 
```

我附上下面的截图。对此的任何帮助表示赞赏。

谢谢。

**得到** ![在此处输入图像描述](https://i.stack.imgur.com/n6yj4.png)

**邮政** ![在此处输入图像描述](https://i.stack.imgur.com/7E7cj.png)

![在此处输入图像描述](https://i.stack.imgur.com/PzTXQ.png)

![在此处输入图像描述](https://i.stack.imgur.com/8jMQk.png)

**放** ![在此处输入图像描述](https://i.stack.imgur.com/ycyP3.png)

![在此处输入图像描述](https://i.stack.imgur.com/4iuDi.png)

![在此处输入图像描述](https://i.stack.imgur.com/MuTT2.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T17:25:29.737

我认为您在这里有两个不相关的问题。`PUT`and`DELETE`动词必须指代一个特定的实体，而不是一个实体集。当您`PUT`-ting to`TestDataService.svc/User`时，这就像尝试更新整个实体集，这是不允许的。相反，您需要指定要更新的实体（例如，通过`PUT`-ting to `TestDataService.svc/User(0)`，或者键查找您的实体集）。

`POST`问题是不同的。在这种`POST`情况下，您*应该*针对实体集而不是单个实体。您收到的错误与请求的`Content-Type`or`Accept`标头有关。现在（为了简化调试），我将省略`$format=json`URI 中的参数，因为它会覆盖`Accept`标头。`POST`尝试在请求中包含以下标头值：

```
Accept: application/json
Content-Type: application/json
DataServiceVersion: 3.0;
MinDataServiceVersion: 3.0;
MaxDataServiceVersion: 3.0; 
```

如果您仍然遇到错误，请告诉我们。

同样，这个`POST`请求应该是`TestDataService.svc/User`，就像你原来的那样。`PUT`并且`DELETE`应该指向单个实体（例如，`TestDataService.svc/User(0)`）

此外，正如 qujck 在上面的评论中指出的那样，在您的屏幕截图中，PUT 和 POST 的请求正文是空的。POST 表示“插入此条目”，因此您需要提供要插入到请求正文中的条目。PUT 表示“替换/更新此条目”，因此在这种情况下您还需要向服务器提供数据。

# regex - Perl中的重叠模式匹配

> ID：16010585
> 
> 赞同：0
> 
> 时间：2013-04-15T08:18:08.543
> 
> 标签：regex, perl

一个初学者的问题。在代码中：

```
$a = 'aaagggaaa';

(@b) = ($a =~ /(a.+)(g.+)/);

print "$b[0]\n"; 
```

为什么`$b[0]`等于**`aaagg`**和不等于**`aaa`**？换句话说 - 为什么第二组 -`(g.+)`只从最后一个匹配`g`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:23:57.930

因为第一个`.+`是“贪婪”，这意味着它会尝试匹配尽可能多的字符。
如果你想改变这种“贪婪”的行为，你可以用 替换`.+`，`.+?`所以`/(a.+?)(g.+)/`会返回 ('aaa', 'gggaaa')。

也许，你想写`/(a+)(g+)/`（只有'a'在第一组，'g'在第二组）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T17:27:48.653

问题是第一个`.+`导致`g`尽可能向右匹配。
为了向您展示实际发生的情况，我修改了您的代码以输出更多说明性的[调试](http://perldoc.perl.org/re.html#%27debug%27-mode "perldoc re")信息。

```
$ perl -Mre=debug -e'q[aaagggaaa] =~ /a.+[g ]/' 
```

```
Compiling REx "a.+[g ]"
Final program:
   1: EXACT <a> (3)
   3: PLUS (5)
   4:   REG_ANY (0)
   5: ANYOF[ g][] (16)
  16: END (0)
anchored "a" at 0 (checking anchored) minlen 3 
```

```
Guessing start of match in sv for REx "a.+[g ]" against "aaagggaaa"
Found anchored substr "a" at offset 0...
Guessed: match at offset 0
Matching REx "a.+[g ]" against "aaagggaaa"
   0 <> <aaagggaaa>          |  1:EXACT <a>(3)
   1 <a> <aagggaaa>          |  3:PLUS(5)
                                  REG_ANY can match 8 times out of 2147483647...
   9 <aaagggaaa> <>          |  5:  ANYOF[ g][](16)
                                    failed...
   8 <aaagggaa> <a>          |  5:  ANYOF[ g][](16)
                                    failed...
   7 <aaaggga> <aa>          |  5:  ANYOF[ g][](16)
                                    failed...
   6 <aaaggg> <aaa>          |  5:  ANYOF[ g][](16)
                                    failed...
   5 <aaagg> <gaaa>          |  5:  ANYOF[ g][](16)
   6 <aaaggg> <aaa>          | 16:  END(0)
Match successful!
Freeing REx: "a.+[g ]" 
```

请注意，第一个`.+`是捕获它可以开始的所有内容。
然后它必须回溯，直到`g`可以匹配。

* * *

您可能想要的是以下之一：

```
/( a+     )( g+  )/x;
/( a.+?   )( g.+ )/x;
/( a+     )( g.+ )/x;
/( a[^g]+ )( g.+ )/x;
/( a[^g]+ )( g+  )/x;
# etc. 
```

如果没有您提供的更多信息，就不可能知道您想要什么正则表达式。

真正的正则表达式本身就是一种语言，它比 Perl 的其他部分更复杂。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:30:46.587

Perl 正则表达式通常匹配可能的最长字符串。

在您的代码中，它与最后一个匹配`g`并返回输出**aaagg**。如果您想将输出作为**aaa**，那么您需要使用非贪婪行为。使用此代码：

```
$a = 'aaagggaaa';
(@b) = ($a =~ /(a.+?)(g.+)/);
print "$b[0]\n"; 
```

它将输出：

```
aaa 
```

显然，使用`question mark`会使匹配变得不**贪婪**。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T08:31:58.337

你写的正则表达式：

```
($a =~ /(a.+)(g.+)/); 
```

尽可能捕捉`"a"`and 任何单词，**以一个`"g"`**结尾，然后是更多字符。所以第一个`(a.+)`匹配`"aaagg"`，直到你的正则表达式的第二部分匹配：`(g.+)`=>`"gaaa"`

该`@b`数组接收两个匹配项`"aaagg"`和`"gaaa"`。所以，`$b[0]`只打印`"aaagg"`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T11:46:16.387

通常一个正则表达式是贪婪的。`?`您可以使用字符将其关闭：

```
$a = 'aaagggaaa';
my @b = ($a =~ /(a.+)(g.+)/);
my @c = ($a =~ /(a.+?)(g.+)/);
print "@b\n";
print "@c\n"; 
```

输出：

```
aaagg gaaa
aaa gggaaa 
```

但我不确定这是你想要的！怎么样`abagggbb`？你需要`aba`吗？

# r - 从 R 和 gWidgets 中的文件浏览填充组合框

> ID：16010590
> 
> 赞同：1
> 
> 时间：2013-04-15T08:18:22.687
> 
> 标签：r, gwidgets, combobox

另一个初学者问题。我在网上浏览了很多示例，但找不到可以帮助我定制我自己的 GUI 的这一部分的示例。

作为 GUI 的一部分，我正在拼凑我的 R 脚本，我需要能够从用户使用 filebrowse 命令选择的 .csv 文件中填充组合框。我可以看到如何从脚本中创建的矢量数据框填充组合框，但我不知道如何将新导入的文件与组合框连接起来。

```
#structure the main window
win1 <- gwindow( visible = TRUE)
g1 <- ggroup(container=win1, horizontal=FALSE)
df <- gfilebrowse("Select a csv file", container = g1)
#add two comboboxes, but how do I write this code to relate it to the user selected file?
cb1 <- gcombobox("X", cont = g1)
cb2 <- gcombobox("Y", cont = g1) 
```

当用户选择 .csv 文件时，应使用 df 的列标题填充两个组合框。对于一个简单的关系，假设用户会选择 X 列和 Y 列。
接下来，这些选择的列变量 (X,Y) 应该可用于其他函数、方程、绘图等，可能通过按钮进行操作。我该怎么做？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T14:40:43.073

扩展这种模式的东西应该可以工作。

```
library(gWidgets)

w <- gwindow("Testing", visible=FALSE)
g <- ggroup(cont=w, horizontal=FALSE)
fb <- gfilebrowse("Choose a CSV file", quote=FALSE,
                  filter = list("CSV files"=list(patterns="*.csv")),
                  cont=g)
cb <- gcombobox("", cont=g)

addHandlerChanged(fb, handler=function(h,...) {
  x <- read.csv(svalue(fb))
  cb[] <- colnames(x)
})

visible(w) <- TRUE 
```

# r - 具有计数值的新数据框

> ID：16010591
> 
> 赞同：-2
> 
> 时间：2013-04-15T08:18:25.493
> 
> 标签：r, dataframe

我有一个基本上如下所示的数据框“论坛”：

```
post-id: 1, 2, 3, 4, 5, ...
user-id: 1, 1, 2, 3, 4, ...
subforum-id: 1, 1, 1, 2, 3, ... 
```

现在我正在尝试创建一个如下所示的新数据框：

```
subforum-id: 1, 2, 3, ...
number-of-users-that-posted-only-once-to-this-subforum: ...
number-of-users-that-posted-more-than-n-times-to-this-subforum: ... 
```

有没有办法在不预先制作所有计数的情况下做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:41:36.423

使用`plyr`和`summarise`：

```
# N = 1 here
ddply(DF, .(subforum.id), summarise, once = sum(table(user.id) == 1), 
                           n.times = sum(table(user.id) > N))

#   subforum.id once n.times
# 1           1    1       1
# 2           2    1       0
# 3           3    1       0 
```

* * *

这是`data.frame`DF：

```
DF <- structure(list(post.id = 1:5, user.id = c(1, 1, 2, 3, 4), 
                subforum.id = c(1, 1, 1, 2, 3)), 
                .Names = c("post.id", "user.id", "subforum.id"), 
                row.names = c(NA, -5L), class = "data.frame") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:43:38.540

*这是一个让您入门*的基本想法：用于`table`通过子论坛 id 获取用户 id 的计数并从那里开始工作：

```
> mydf <- structure(list(post.id = c(1, 2, 3, 4, 5), user.id = c(1, 1, 
2, 3, 4), subforum.id = c(1, 1, 1, 2, 3)), .Names = c("post.id", 
"user.id", "subforum.id"), row.names = c(NA, -5L), class = "data.frame")
> mytable <- with(mydf, table(subforum.id, user.id))
> mytable
           user.id
subforum.id 1 2 3 4
          1 2 1 0 0
          2 0 0 1 0
          3 0 0 0 1 
```

提示：从那里，看看`rowSums`函数，想想如果你对一个逻辑向量求和会发生什么。

# java - 删除字符串中引号之间的注释

> ID：16010594
> 
> 赞同：2
> 
> 时间：2013-04-15T08:18:42.233
> 
> 标签：java, string

我需要从字符串中删除注释。使用引号指定注释。例如：

```
removeComments("1+4 'sum'").equals("1+4 ");
removeComments("this 'is not a comment").equals("this 'is not a comment");
removeComments("1+4 'sum' 'unclosed comment").equals("1+4  'unclosed comment"); 
```

我可以遍历字符串的字符，跟踪引号的索引，但我想知道是否有更简单的解决方案（也许是正则表达式？）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T08:21:11.713

您可以使用[replaceAll](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)：

`str = str.replaceAll("\\'.*?\\'", "");`

这将替换第一个和第二个`'`以及它们之间的*所有内容*`""`（因此，将删除它们）。

* * *

*编辑*：如评论所述，无需反斜杠单引号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:24:20.167

如果您不需要能够在评论中包含引号，则可以这样做：

```
input.replaceAll("'[^']+'", ""); 
```

它匹配一个报价，至少一个不是报价的东西，然后是一个报价。

[工作示例](http://ideone.com/gHIXpI)

# php - 抽象静态上下文中的静态“构造函数”

> ID：16010605
> 
> 赞同：0
> 
> 时间：2013-04-15T08:19:14.673
> 
> 标签：php, static, abstract, extends

我有问题。基本上我想要di是使用静态构造函数返回一个实例化的对象，并将参数传递给这个静态函数（它就像一个构造函数）。

所以我想做的是：

```
$urls = Urls::st__construct("wp_","fk_arv_");
$main = ClassName::st__construct("wp_","fk_arv_"); 
```

和：

```
 abstract class Entity
{
...
    public static function st__construct($table_prefix,$key_prefix){
        return new self($table_prefix,$key_prefix);
    }

       function __construct($table_prefix,$key_prefix) {
        $this->table_prefix     = $table_prefix;
        $this->key_prefix       = $key_prefix;
       }
} 
```

类 Url 和 ClassName 都扩展了 Entity。我希望“self”返回 Url 或 ClassName，因为我通过扩展类调用静态方法（它应该从它的父类继承静态方法）。但是，它试图返回一个新的实体（当然失败了）。我怎样才能正确地做到这一点？

# android - 如何从分离的线程初始化处理程序？

> ID：16010607
> 
> 赞同：0
> 
> 时间：2013-04-15T08:19:20.567
> 
> 标签：android, handler

我正在编写一个应用程序，其中远程服务必须始终运行并执行这些任务：

*   创建并保持与另一台设备的蓝牙连接
*   定期向该设备询问信息（1 秒）
*   定期获取 GPS 位置（1 秒）
*   每 1 秒将以前的数据写入文本文件

为此，我从远程服务创建了 2 个线程：一个用于数据请求（loopThread），一个用于 GPS 位置（gpsThread）。loopThread 在从蓝牙设备获取数据后应该向 gpsThread 询问位置。它必须非常快，这就是我使用线程的原因，所以我可以将位置存储在可以发送的变量中。

远程服务和 2 个线程应该通过处理程序进行通信。

问题是：我可以让每个处理程序与远程服务通信，但不能相互通信。

我创建这样的线程：

```
myGPSThread = new GPSThread(mainServiceHandler,locationManager);
myLoopThread = new AcquisitionThread(mainServiceHandler, sockIn, sockOut); 
```

我尝试通过消息将一个处理程序发送给另一个处理程序，但处理程序似乎不可打包。

有没有人可以解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:22:51.160

如果你想坚持你的`Handler`基础方法，你可以设置你的两个`Thread`s 如下。

对于您`Thread`的 s，子类[HandlerThread](http://developer.android.com/reference/android/os/HandlerThread.html)而不是 Thread。另外，让他们实施`Handler.Callback`，不要`start()`马上实施。

```
final class GPSThread extends HandlerThread implements Handler.Callback {
    private Handler otherThreadHandler;
    public void setOtherThreadHandler(Handler otherThreadHandler) {
        this.otherThreadHandler = otherThreadHandler;
    }
    @Override
    public void handleMessage(Message msg) {
        // like in your comment
    }

}

myGPSThread  = new GPSThread(locationManager);
myLoopThread = new AcquisitionThread(sockIn, sockOut);
myGPSThreadHandler  = new Handler(myGPSThread.getLooper(), myGPSThread);
myLoopThreadHandler = new Handler(myLoopThread.getLooper(), myLoopThread);
myGPSThread.setOtherThreadHandler(myLoopThreadHandler);
myLoopThread.setOtherThreadHandler(myGPSThreadHanlder);
myGPSThread.start();
myLoopThread.start(); 
```

如果您想要低延迟并且您的事件驱动代码简短且友好，您可能希望创建`HandlerThread`具有优于默认优先级的 s；看[这里](https://stackoverflow.com/a/14217816/1856738)。

如前所述，您还可以设置两个`Thread`在两个[LinkedBlockingQueue](http://developer.android.com/reference/java/util/concurrent/LinkedBlockingQueue.html)上运行的“普通” ；`run()`这些线程会在等待来自另一个线程的消息（又名对象）时阻塞它们的方法。

# cocos2d-iphone - Cocos2d：ARC 发布 CCSprite 太快了？

> ID：16010611
> 
> 赞同：0
> 
> 时间：2013-04-15T08:19:26.093
> 
> 标签：cocos2d-iphone, automatic-ref-counting

我为我的 cocos2d 项目启用了 ARC。

现在我尝试执行以下操作：

```
 BuildTowerMenu *menu = [BuildTowerMenu menuAtLocation:tileScreenPos];

   [self addChild:menu]; 
```

在 BuildTowerMenu 类中：

```
+(id)menuAtLocation:(CGPoint)location {
   return [[self alloc] initMenuAt:location];
}

-(id) initMenuAt:(CGPoint)location {
    if (self = [super init]) {
      self.position = location;
      CCSprite *item1 = [CCSprite spriteWithFile:@"Icon.png"];
      item1.position = location;

      [self addChild:item1];
    }
    return self;
} 
```

但由于某种原因，Sprite 从未出现。经过一番调试，我看到当我从 menuAtLocation 返回时，CCSprite 仍在 BuildTowerMenu 的子项数组中，但为空（只有一个 id）。

如果我真的从外部添加精灵，它可以工作并显示精灵：

```
BuildTowerMenu *menu = [BuildTowerMenu menuAtLocation:tileScreenPos];

CCSprite *item1 = [CCSprite spriteWithFile:@"Icon.png"];
item1.position = location;
[menu addChild:item1];

[self addChild:menu]; 
```

关于我在这里做错了什么的任何提示？

PS：我在CCSprite的dealloc中添加了一个断点，它永远不会被调用（我想如果ARC正在释放它应该调用它）......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T10:06:47.563

正如对最初问题的评论_：好的，它与 ARC 无关；似乎已发布的 Sprite 在那里，它只是一个调试器 - 没有正确显示它的错误。问题实际上是行 self.position = location; 在 addChild 之后移动 setposition 后，一切正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T12:16:19.267

我认为问题在于您为菜单和精灵设置了相同的位置。我的意思是这部分代码

```
CGPoint location = ccp(200.f, 200.f);
[menu setPosition: location];
[sprite setPosition: location];
[menu addChild: sprite]; 
```

将添加您的精灵与位置位置（400.f，400.f），相对于菜单的父级。你在 BuildTowerMenu 的`initMenuAt:`方法中做几乎同样的事情/

# regex - 电子邮件本地部分的尾随点

> ID：16010617
> 
> 赞同：3
> 
> 时间：2013-04-15T08:20:12.713
> 
> 标签：regex, email, email-address

在我们的在线商店中，我们遇到了某个用户由于“无效的电子邮件地址”而无法购买的问题。它看起来像这样：

`her.email.address.@docomo.ne.jp`

我认为引发无效电子邮件错误的是电子邮件本地部分的尾随点。在代码中，我注释掉了第二个条件：

`if (isc_substr($local, 0, 1) == '.' || isc_substr($local, -1, 1) == '.')`

让它工作。这安全吗？还是我们应该建议客户更改她的电子邮件地址？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-11-13T19:26:24.523

该电子邮件地址确实违反了标准（RFC 5322），我建议用户更改她的地址。但是，当您允许本地部分以点结尾时，不*应该有任何安全隐患。*

该标准也不允许两个或多个连续的点，并且此限制可能与安全性更相关：想想类似`../../`. 是的，电子邮件地址中允许使用斜杠，并且没有为此准备的代码*可能会对*本地部分造成不良影响。机会很低，但是，你知道，我已经*看到*了……；）

由于该标准有点难以阅读，因此它是这样说的：

RFC 5322 允许在局部部分使用点，但是，有两个重要限制：它不允许两个或多个连续点，也**不允许**局部部分以点开始或结束。

[第 3.4.1 节](https://www.rfc-editor.org/rfc/rfc5322#section-3.4.1)描述了`local-part`, 以及它可能具有的三种语法。“通常”的语法是`dot-atom`语法，本质上在[第 3.2.3 节](https://www.rfc-editor.org/rfc/rfc5322#section-3.2.3)中定义为

```
dot-atom-text   =   1*atext *("." 1*atext) 
```

`atext`可打印的 US-ASCII 字符在哪里，但有一些例外：

```
atext           =   ALPHA / DIGIT /    ; Printable US-ASCII
                    "!" / "#" /        ;  characters not including
                    "$" / "%" /        ;  specials.  Used for atoms.
                    "&" / "'" /
                    "*" / "+" /
                    "-" / "/" /
                    "=" / "?" /
                    "^" / "_" /
                    "`" / "{" /
                    "|" / "}" /
                    "~" 
```

所以`dot-atom-text`基本上定义为“至少一个`atext`字符，后跟零个或多个[一个点后跟一个或多个`atext`字符]”。这意味着`abc`也可以`a.bc.d`，但`.abc`不是（因为它不以 开头`atext`），也不是`a..b`（因为没有`atext`跟随第一个点）或`abc.`（再次因为没有`atext`跟随）。

正如我上面所说，您可以选择忽略这些限制（尽管我建议不要允许连续的点），但基本上您的购物车软件完全正确地禁止该电子邮件地址。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T08:27:41.753

编辑：我的旧答案是错误的。

我认为这条规则绝对没有安全隐患，但是[RfC 5322](https://www.rfc-editor.org/rfc/rfc5322)明确地只允许在邮件地址的本地部分内使用点，而不是在开头和结尾。*话虽如此，如果在实践中*它仍然可以与许多邮件服务器一起使用，我不会感到惊讶。因此，虽然`.@example.com`根据[RfC 5322](https://www.rfc-editor.org/rfc/rfc5322)不是有效地址，但出于实际目的，它可能是工作地址​​，只有邮件服务器`example.com`才能知道。

正如我所说，相关规范是[RfC 5322](https://www.rfc-editor.org/rfc/rfc5322)，考虑到[RfC 5321](https://www.rfc-editor.org/rfc/rfc5321)添加了本地部分不超过 64 个字符的限制。而且，是的，该标准允许大量地址，这些地址根本不适用于很多网站或邮件程序，例如`"this is v@lid!"@example.com`. 使用这种地址是不明智的，但这是因为软件错误导致它们不被接受。

# c - C 套接字 sockaddr 和 sockaddr_storage 背后的推理

> ID：16010622
> 
> 赞同：59
> 
> 时间：2013-04-15T08:20:25.150
> 
> 标签：c, sockets, unix

我正在查看 C 套接字中的 和 等函数，`connect()`并`bind()`注意到它们采用指向结构的指针`sockaddr`。我一直在阅读并使您的应用程序独立于 AF，使用`sockaddr_storage`结构指针并将其转换为`sockaddr`指针很有用，因为它为更大的地址提供了所有额外空间。

我想知道的是函数`connect()`和`bind()`请求`sockaddr`指针如何从指向比预期结构更大的结构的指针访问数据。当然，您将提供的结构的大小传递给它，但是函数用于从指向您已转换为的更大结构的指针中获取 IP 地址的实际语法是什么`struct *sockaddr`？

这可能是因为我来自 OOP 语言，但这似乎有点像 hack 并且有点混乱。

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-04-15T08:23:21.907

期望指针的函数`struct sockaddr`可能会在您向它们`sockaddr`发送指向`struct sockaddr_storage`. 这样，他们就可以像访问它一样访问它`struct sockaddr`。

`struct sockaddr_storage`被设计成同时适合一个`struct sockaddr_in`和`struct sockaddr_in6`

您不会创建自己的`struct sockaddr`，通常会根据您使用的 IP 版本创建一个`struct sockaddr_in`或一个。`struct sockaddr_in6`为了避免试图知道您将使用哪个 IP 版本，您可以使用`struct sockaddr_storage`其中一个可以保存的。这将依次`struct sockaddr`由 connect()、bind() 等函数进行类型转换并以这种方式访问​​。

您可以在下面看到所有这些结构（填充是特定于实现的，用于对齐目的）：

```
struct sockaddr {
   unsigned short    sa_family;    // address family, AF_xxx
   char              sa_data[14];  // 14 bytes of protocol address
};

struct sockaddr_in {
    short            sin_family;   // e.g. AF_INET, AF_INET6
    unsigned short   sin_port;     // e.g. htons(3490)
    struct in_addr   sin_addr;     // see struct in_addr, below
    char             sin_zero[8];  // zero this if you want to
};

struct sockaddr_in6 {
    u_int16_t       sin6_family;   // address family, AF_INET6
    u_int16_t       sin6_port;     // port number, Network Byte Order
    u_int32_t       sin6_flowinfo; // IPv6 flow information
    struct in6_addr sin6_addr;     // IPv6 address
    u_int32_t       sin6_scope_id; // Scope ID
};

struct sockaddr_storage {
    sa_family_t  ss_family;     // address family

    // all this is padding, implementation specific, ignore it:
    char      __ss_pad1[_SS_PAD1SIZE];
    int64_t   __ss_align;
    char      __ss_pad2[_SS_PAD2SIZE];
}; 
```

如您所见，如果函数需要 IPv4 地址，它将只读取前 4 个字节（因为它假定结构的类型为`struct sockaddr`。否则它将读取 IPv6 的完整 16 个字节）。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2015-12-12T04:25:25.407

在 C++ 中，至少有一个虚函数的类被赋予一个 TAG。该标签允许您访问`dynamic_cast<>()`您的类派生自的任何类，反之亦然。TAG是允许`dynamic_cast<>()`工作的。或多或少，这可以是一个数字或一个字符串......

在 C 中，我们仅限于结构。但是，也可以为结构分配 TAG。实际上，如果您查看*prole*在他的答案中发布的所有结构，您会注意到它们都以 2 个字节（无符号短）开头，代表我们所说的地址族。这准确地定义了结构是什么，因此定义了它的大小、字段等。

因此，您可以执行以下操作：

```
int bind(int fd, struct sockaddr *in, socklen_t len)
{
  switch(in->sa_family)
  {
  case AF_INET:
    if(len < sizeof(struct sockaddr_in))
    {
      errno = EINVAL; // wrong size
      return -1;
    }
    {
      struct sockaddr_in *p = (struct sockaddr_in *) in;
      ...
    }
    break;

  case AF_INET6:
    if(len < sizeof(struct sockaddr_in6))
    {
      errno = EINVAL; // wrong size
      return -1;
    }
    {
      struct sockaddr_in6 *p = (struct sockaddr_in6 *) in;
      ...
    }
    break;

  [...other cases...]

  default:
    errno = EINVAL; // family not supported
    return -1;

  }
} 
```

如您所见，该函数可以检查`len`参数以确保长度足以适合预期的结构，因此它们可以`reinterpret_cast<>()`（就像在 C++ 中调用的那样）您的指针。结构中的数据是否正确取决于调用者。在这方面没有太多选择。这些函数应该在使用数据之前验证各种事情并返回 -1 以及`errno`发现问题时。

所以实际上，你有一个`struct sockaddr_in`or`struct sockaddr_in6`你（重新解释）转换为 a`struct sockaddr`并且`bind()`函数（和其他人）将该指针转换回 a`struct sockaddr_in`或`struct sockaddr_in6`在他们检查`sa_family`成员并验证大小之后。

# php - Parse for string in string php

> ID：16010625
> 
> 赞同：0
> 
> 时间：2013-04-15T08:20:44.340
> 
> 标签：php, regex, string, parsing

I have a problem with regular expressions in PHP.

I have a string: "NAPLAK ROSSO+S.ARG.+LACC.ARG.+NK", all of this words contain options like ROSSO,S.ARG, Are colors ROSSO = Red, s.arg = silver and so on.

Out of this string i need to generate a description like:

Material: Naplak, Color: Red, Silver.... ....

I thought, that there is going to be an array with laguage codes something like this:

```
$options = array(
    "ROSSO" => "COLOR_RED",
    "S.ARG" => "COLOR_SILVER"
); 
```

Could you please help me to write a regular expression for this purpose?

Best regargs, RussianRoot.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:27:01.677

If they all are delimited by + then why don't you use [explode](http://php.net/manual/en/function.explode.php)?

That will give you an array with each element and then you can do whatever you want with it.

A different way is to use [str_replace](http://php.net/manual/ro/function.str-replace.php) and replace "ROSSO" with "COLOR_RED" and so on.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:45:59.660

I don't think you need regex for this. Probably easier and faster to do something like:

```
$item = explode(' ', "NAPLAK ROSSO+S.ARG.+LACC.ARG.+NK");
$args = explode('+', $item[1]);
$item = $item[0];

echo $item; 
```

Gives us "NAPLAK"

```
print_r($args); 
```

Gives us:

```
array(4) [ 'ROSSO', 'S.ARG', 'LACC.ARG.', 'NK' ]; 
```

# ios - 下一个按钮图像数组 xcode

> ID：16010627
> 
> 赞同：1
> 
> 时间：2013-04-15T08:20:47.370
> 
> 标签：ios, objective-c, xcode, arrays, button

我正在尝试使用故事板在 Xcode 4 中编写应用程序。

我的项目是这样的：

1个表视图控制器

1 个带有 4 个按钮的细节视图控制器，

并说 6 张图片（**1-1.jpg** /1-2.jpg/1-3.jpg 和**2-1.jpg** /2-2.jpg/2-3.jpg。

单击单元格时，我的应用程序可以在数组中显示图像（**1-1.jpg 和 2-1.jpg**）。

![我的截图](https://i.stack.imgur.com/Kn5Py.jpg) 这是我的代码：

// TableViewController.m:

```
@synthesize myTitle = _myTitle;
@synthesize myScene = _myScene;
@synthesize myImages = _myImages;

- (void)viewDidLoad
{
    [super viewDidLoad];
    self.myTitle = [[NSArray alloc] initWithObjects:@"Chicken", @"Flower", nil];
    self.myScene = [[NSArray alloc] initWithObjects:@"1", @"2", nil];
    self.myImages = [[NSArray alloc] initWithObjects:@"1-1.jpg", @"2-1.jpg", nil];
} 
```

// DetailViewController.m

```
@synthesize titleLabel = _titleLabel;
@synthesize sceneLabel = _sceneLabel;
@synthesize imageView = _imageView;
@synthesize myDetailModel = _myDetailModel;

- (void)viewDidLoad
{
    [super viewDidLoad];
    self.navigationItem.title = self.titleLabel.text = [self.myDetailModel objectAtIndex:0];
    self.sceneLabel.text = [self.myDetailModel objectAtIndex:1];
    self.imageView.image = [UIImage imageNamed:
                            [self.myDetailModel objectAtIndex:2]]; 
```

我希望我的 DetailView 页面每次按下一个或上一个时显示下一个或上一个图像（1-2.jpg/1-3.jpg... / 2-2.jpg, 2-3.jpg...） （黑色）按钮，

并在我按下另一个（绿色）按钮时显示下一个或上一个场景（鸡场景和花卉场景），
例如[https://dl.dropboxusercontent.com/u/7493131/q3.jpg](https://dl.dropboxusercontent.com/u/7493131/q3.jpg)

我不知道如何排列 1-2.jpg、1-3.jpg、2-2.jpg 和 2-3.jpg 以及如何处理它们。

我很新，我想要一些示例代码来帮助研究它是如何工作的，以及如何在我的应用程序中实现类似的。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:55:43.127

您需要创建一个实例`int`变量 idx 来跟踪您正在处理的图像并将两个`IBAction`s 分配给这些按钮：

```
// This is for your fighter case 

- (IBAction)presentPreviousImage:(id)sender {
    idx --;
    if (idx == 2) {
        self.imageView.image = [UIImage imageNamed:@"1-3.jpg"];
    } else if (idx == 1) {
        self.imageView.image = [UIImage imageNamed:@"1-2.jpg"];
    } else if (idx == 0) {
        self.imageView.image = [UIImage imageNamed:@"1-1.jpg"];
        idx = 2;
    }        
}

- (IBAction)presentNextImage:(id)sender {
    idx ++;
    if (idx == 0) {
        self.imageView.image = [UIImage imageNamed:@"1-2.jpg"];
    } else if (idx == 1) {
        self.imageView.image = [UIImage imageNamed:@"1-3.jpg"];
    } else if (idx == 2) {
        self.imageView.image = [UIImage imageNamed:@"1-1.jpg"];
        idx = 0;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T09:49:39.850

```
-(IBAction)rightClick{
    if (imageArrayObj.count > 0) {
        currentIndex++;
        if (currentIndex > imageArrayObj.count - 1) {
            currentIndex = 0;
        }
    imageViewObj.image = [imageArrayObj objectAtIndex:currentIndex];
    }
} 
```

它工作正常.....使用这个并且currentIndex是整数声明“int currentIndex;” 并在视图中赋值确实加载了“currentIndex = 0;”

# c++ - 使用 unique_ptr 移动语义

> ID：16010630
> 
> 赞同：13
> 
> 时间：2013-04-15T08:20:55.307
> 
> 标签：c++, visual-c++, c++11, visual-studio-2012, move-semantics

我正在使用 Visual Studio 2012 Update 2，但无法理解 std::vector 为何尝试使用 unique_ptr 的复制构造函数。我看过类似的问题，大多数都与没有明确的移动构造函数和/或运算符有关。

如果我将成员变量更改为字符串，我可以验证是否调用了移动构造函数；但是，尝试使用 unique_ptr 会导致编译错误：

`error C2248: 'std::unique_ptr<_Ty>::unique_ptr' : cannot access private member declared in class 'std::unique_ptr<_Ty>'`.

我希望有人能指出我所缺少的，谢谢！

```
#include <vector>
#include <string>
#include <memory>

class MyObject
{
public:
    MyObject() : ptr(std::unique_ptr<int>(new int))
    {
    }

    MyObject(MyObject&& other) : ptr(std::move(other.ptr))
    {
    }

    MyObject& operator=(MyObject&& other)
    {
        ptr = std::move(other.ptr);
        return *this;
    }

private:
    std::unique_ptr<int> ptr;
};

int main(int argc, char* argv[])
{
    std::vector<MyObject> s;
    for (int i = 0; i < 5; ++i)
    {
        MyObject o;
        s.push_back(o);
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-15T08:24:22.013

该`push_back()`函数按值获取其参数。因此，尝试复制构造 的参数`push_back()`（如果您传递的是左值），或者移动构造它（如果您传递的是右值）。

在这种情况下，`o`是一个左值——因为**命名对象是**左值——并且右值引用不能绑定到左值。因此，编译器无法调用您的移动构造函数。

为了让你的对象*移动*，你必须写：

```
s.push_back(std::move(o));
//          ^^^^^^^^^ 
```

在这种情况下让我感到惊讶的是，似乎 VC11`MyObject`隐式生成了一个复制构造函数，而没有将其定义为*已删除*（从您发布的错误来看）。这不应该是这种情况，因为您的类声明了一个移动构造函数。实际上，根据 C++11 标准的第 12.8/7 段：

> 如果类定义没有显式声明复制构造函数，则隐式声明。**如果类定义声明了移动构造函数或移动赋值运算符，则隐式声明的复制构造函数定义为已删除**；否则，它被定义为默认（8.4）

我必须得出结论，虽然你得到的错误是正确的——因为你没有将右值传递给`push_back()`——VC11 在这里并不完全兼容。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T08:24:50.833

`MyObject o;`定义`o`为一个对象。这意味着它是一个左值。然后，这样做会调用（它别无选择）`s.push_back(o);`的左值重载，它会尝试创建一个副本。`push_back()`

由于您的类是不可复制的，因此您必须*将对象移动*到向量中：

```
for (int i = 0; i < 5; ++i)
{
    MyObject o;
    s.push_back(std::move(o));
} 
```

# model-view-controller - 有人可以为我非常简单地解释 MVC 吗？

> ID：16010631
> 
> 赞同：10
> 
> 时间：2013-04-15T08:20:57.837
> 
> 标签：model-view-controller

有人可以为我非常简单地解释 MVC 吗？我似乎无法绕过它。

大多数教程或冗长的解释让我迷失了方向。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-04-15T08:24:47.170

要理解 Layman 术语中的 MVC，请参阅[银行类比的变体](http://nuts-and-bolts-of-cakephp.com/2009/01/06/another-way-to-think-about-mvc/)

本质上，MVC 是：

*   模型是知道事情的代码的一部分
*   视图是代码的一部分，显示模型知道的事情
*   控制器是代码的一部分，它从用户那里获取命令并告诉视图要显示什么以及模型要知道什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:23:19.747

MVC 是一种将应用程序的核心与图形部分分开的方法。你有一个控制器，你完成所有的访问和工作，还有一些视图，它们只是显示结果并与用户交互，而不对数据进行任何处理

[http://en.wikipedia.org/wiki/Model–view–controller](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T08:25:45.110

它是数据（模型）、逻辑（控制器）和显示结果（视图）的分离。使用 MVC 的优点是应用程序中的不同角色是分开的，这使得它更加健壮。另一个优点是随着越来越多的开发人员习惯了这种编程方式，它更容易维护。

# java - 从 FXML 设置 TableView 泛型类型？

> ID：16010633
> 
> 赞同：6
> 
> 时间：2013-04-15T08:21:08.207
> 
> 标签：java, generics, javafx-2, tableview, fxml

JavaFX 2.2的[`TableView`](http://docs.oracle.com/javafx/2/api/javafx/scene/control/TableView.html)类有一个泛型类型`S`，我想知道如何从 FXML 设置它？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T13:12:03.217

FXML 在运行时动态加载。由于泛型类型在编译时被删除，因此在标记中定义它们是没有意义的。在控制器类中定义泛型是正确的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-15T08:44:51.807

ListView 或 ComboBox 也会发生同样的情况。但我认为在 FXML 文件中您正在定义控件，并且您正在定义通用 ListView 或 ComboBox 或 TableView 或其他任何东西。不管他们要展示什么。

所以对我来说，在 JavaFX 控制器类中而不是在 FXML 文件中设置泛型类型更有意义。

希望能帮助到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-24T15:24:26.683

通常我会同意这里的回复，但是当您使用 Scene Builder 开发您的 GUI，然后希望将骨架控制器部分导入您的代码中以进行更新时，必须记住返回并返回真的很烦人将所有 [?] 和 [?, ?] 替换为实际的类名。如果 FXML 规范或 Scene Builder 允许您指定模板类，那就太好了。

# php - 语法错误，意外的“某事”（T_VARIABLE）

> ID：16010635
> 
> 赞同：-7
> 
> 时间：2013-04-15T08:21:12.043
> 
> 标签：php

为什么我会收到此错误？

> > 语法错误，意外的 '$flag' (T_VARIABLE)

```
 while(odbc_fetch_row($result))
    {
        $name = odbc_result($result,"CharName");
        $lvl = odbc_result($result,"CharLevel");
        $class = odbc_result($result,"CharClass");
        $flag = 0;
        for($i=0;$i<count($gms);$i++)
        {
            if($name = $gms[$i]
                $flag = 1;
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:22:00.780

**你这里有语法错误**

 **```
if($name = $gms[$i] 
```** 

**改成**

```
if($name == $gms[$i]) 
```

这导致`T_VARIABLE`错误，只需关闭括号并添加`=`，您就可以开始了

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:22:30.347

如果条件之后您还没有关闭括号

```
if($name = $gms[$i] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:21:47.860

```
 for($i=0;$i<count($gms);$i++)
        {
            if($name == $gms[$i])//closing paranthesis and '==' to compare  
                $flag = 1;
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T08:22:39.437

你错过了一个`)`括号。将这一行从

```
if($name = $gms[$i]
        $flag = 1; 
```

至，

```
if($name = $gms[$i])
        $flag = 1; 
```

# c# - 仅验证传真号码？

> ID：16010637
> 
> 赞同：1
> 
> 时间：2013-04-15T08:21:24.467
> 
> 标签：c#, asp.net

我正在对传真号码使用以下验证：

```
[RegularExpression(@"^\+[0-9]{1,3}\([0-9]{3}\)[0-9]{7}$", ErrorMessage = "This is not a valid fax number.")] 
```

但传真号码表单条目不接受任何输入。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:24:28.553

尝试这个;

```
\+[0-9]{1,3}\([0-9]{3}\)[0-9]{7} 
```

样本输出；

```
+895(194)6165163
+09(155)2541778 
```

你不需要为此使用`^`。它的意思是“除了”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:32:05.330

```
^[01]?[- .]?\(?[2-9]\d{2}\)?[- .]?\d{3}[- .]?\d{4}$ 
```

尝试这个........

# php - CodeIgniter 将会话变量添加到已定义的“命名会话”

> ID：16010640
> 
> 赞同：4
> 
> 时间：2013-04-15T08:21:38.500
> 
> 标签：php, codeigniter, session, session-variables, session-cookies

我已经创建了名为“已验证”的会话，如下所示（在我的登录控制器中）：

```
foreach($result as $row)
{
  $sess_array = array(
       'id' => $row->memberid, //Session field: id.
       'username' => $row->member_userunique //Session field: username.
  );
  // Create a session with a name verified, with the content from the array above.
  $this->session->set_userdata('verified', $sess_array);
} 
```

现在，当用户打开一个名为 book 的页面（带有一个名为 book 的控制器）时，我想在我的“已验证”会话中再添加一个名为“book_id”的变量。

这就是我所做的

```
function index()
{
   //Add a new varible called book_id
   $this->session->set_userdata('book_id', $titleID);
} 
```

当我尝试使用以下方法检索“book_id”时：

```
 $session_data = $this->session->userdata('verified');
    $article_id = $session_data['book_id'];
    $user_id = $session_data['id']; 
```

它只能检索“id”，但未定义“book_id”。但是，如果在 $this->session->all_userdata() 上执行 var_dump()，我可以看到“book_id”会话变量已成功附加。

在阅读了有关会话的 CI 文档后，我意识到上面的代码将不起作用，因为我没有告诉它应该将变量添加到哪个会话。

谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T08:35:43.840

您在`index()`方法中执行以下操作：

```
$session_data = $this->session->userdata('verified');

$session_data['book_id'] = "something";

$this->session->set_userdata("verified", $session_data); 
```

通过这种方式，您可以检索变量的内容（即您之前保存的数组），向数组中添加另一个键（book_id），然后再次存储它。现在您将能够做到，正如我假设您想要的那样：

```
$sess = $this->session->userdata("verified");
echo $sess['book_id']; 
```

# asp-classic - asp classic 检索并显示单个记录集

> ID：16010656
> 
> 赞同：0
> 
> 时间：2013-04-15T08:22:42.567
> 
> 标签：asp-classic

我编写了一个代码，需要我从数据库中只找到一行记录集到变量中。

```
dim Connect,conn_,data,sql

Set Connect = Server.CreateObject("ADODB.Connection")
Connect.Open "toServer"
sql = "SELECT * from sppro where proj_name='pname'"
set Data = Connect.Execute(sql)

response.write data("proj_id") 
```

我只是找不到正确的方法来检索和查看单个记录集...我发现了一些关于光标的东西，但我根本不明白...谁能给我解释一下？

编辑：

我用这段代码得到的错误如下。

ADODB.Field 错误“80020009”

BOF 或 EOF 为 True，或者当前记录已被删除。请求的操作需要当前记录。

/bkpi-msn/Include/ServerSideAjax.asp，第 0 行

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:08:41.370

如果我理解正确，您已经知道如何显示数据库中的一条记录，但现在您想要显示多条记录。那正确吗？

通过对代码进行一些更改，您可以遍历所有记录：

```
dim Connect,conn_,data,sql

Set Connect = Server.CreateObject("ADODB.Connection")
Connect.Open "toServer"
sql = "SELECT * from sppro where proj_name='pname'"
set Data = Connect.Execute(sql)

Do Until Data.Eof

    response.write data("proj_id")

    Data.MoveNext
Loop 
```

编辑：要检索一行，您可以使用以下内容。基本上是一样的，只是有一个检查确保至少有一条记录，并且不需要循环遍历记录集。

```
dim Connect,conn_,data,sql

Set Connect = Server.CreateObject("ADODB.Connection")
Connect.Open "toServer"
sql = "SELECT * from sppro where proj_name='pname'"
set Data = Connect.Execute(sql)

If Not Data.Eof Then

    response.write data("proj_id")

End If 
```

# c++ - 如何在默认桌面和 Winlogon 桌面之间切换进程？

> ID：16010659
> 
> 赞同：10
> 
> 时间：2013-04-15T08:22:52.933
> 
> 标签：c++, windows, winlogon

我正在Windows 7 (x64) 和 Windows 8 (x64) 上用 C++编写一个远程桌面应用程序，例如**[TeamViewer 。](http://en.wikipedia.org/wiki/TeamViewer)**

**1.是什么让我卡住了**

我已经使用 SendInput() 实现了鼠标输入和键盘输入。我发现当进程在`winsta0\desktop`. 但是在用户锁定计算机或启动屏幕保护程序后，它就不起作用了。

如果我在 下运行该过程`winsta0\winlogon`，则在 下`SendInput()`不起作用`winsta0\default`。

**2.我尝试过的**

我曾尝试使用 SetThreadDesktop() 将进程从 切换`winsta0\desktop`到`winsta0\winlogon`，但出现错误 170：“请求的资源正在使用中”，我卡住了。

**3\. 我想知道的**

我注意到 TeamViewer 有一个名为的进程`TeamViewer_Desktop.exe`，可以在 Winlogon、Default 和 Screensaver 下控制鼠标和键盘。它是如何做到的？

你能提供代码来帮助我理解如何解决我的问题吗？

我想知道**如何让我的应用程序在默认桌面和 Winlogon 桌面之间切换。因此，我可以在安全桌面上控制鼠标和键盘，而无需创建另一个在`winlogon.exe`.

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T09:19:52.637

你做了正确的事：`SetThreadDesktop`是正确的。该错误告诉您，您在当前桌面上打开了一些资源，例如窗口，这会阻止您切换。如果您尝试生成一个最小的测试用例（正如您在这里提问时应该做的那样！）您会发现这一点。

删除程序的某些部分，直到找到阻止您切换桌面的块。一些 Windows API 很讨厌，会阻止您切换桌面，因此需要在专用线程中调用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-17T01:35:31.600

正如@NicholasWilson 所说，`SetThreadDesktop()`这是在默认桌面和winlogon 桌面之间切换进程的正确方法。

发生错误 170，“请求的资源正在使用中”，因为我在调用`MessageBox()`之前`SetThreadDesktop()`调用过。调用`CreateWindow()`也可能导致错误。

我认为在调用之前调用的与 GUI 创建相关的任何函数`SetThreadDesktop()`都可能导致错误。所以要想调用`SetThreadDesktop()`成功，一定要确保在调用之前不要调用任何GUI创建函数`SetThreadDesktop()`。

**代码**

这里的代码是如何将进程切换到指定的桌面。

*用法：* `SetWinSta0Desktop(TEXT("winlogon"))` ,`SetWinSta0Desktop(TEXT("default"))`

`SetWinSta0Desktop()`功能：

```
BOOL SetWinSta0Desktop(TCHAR *szDesktopName)
{
    BOOL bSuccess = FALSE;

    HWINSTA hWinSta0 = OpenWindowStation(TEXT("WinSta0"), FALSE, MAXIMUM_ALLOWED);
    if (NULL == hWinSta0) { ShowLastErrorMessage(GetLastError(), TEXT("OpenWindowStation")); }

    bSuccess = SetProcessWindowStation(hWinSta0);
    if (!bSuccess) { ShowLastErrorMessage(GetLastError(), TEXT("SetProcessWindowStation")); }

    HDESK hDesk = OpenDesktop(szDesktopName, 0, FALSE, MAXIMUM_ALLOWED);
    if (NULL == hDesk) { ShowLastErrorMessage(GetLastError(), TEXT("OpenDesktop")); }

    bSuccess = SetThreadDesktop(hDesk);
    if (!bSuccess) { ShowLastErrorMessage(GetLastError(), TEXT("SetThreadDesktop")); }

    if (hDesk != NULL) { CloseDesktop(hDesk); }
    if (hWinSta0 != NULL) { CloseWindowStation(hWinSta0); }

    return bSuccess;
} 
```

`ShowLastErrorMessage()`功能：

```
void ShowLastErrorMessage(DWORD errCode, LPTSTR errTitle)
{
    LPTSTR errorText = NULL;

    FormatMessage(
       FORMAT_MESSAGE_FROM_SYSTEM |
       FORMAT_MESSAGE_ALLOCATE_BUFFER |
       FORMAT_MESSAGE_IGNORE_INSERTS,  
       NULL,
       errCode,
       MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),
       (LPTSTR)&errorText,
       0,
       NULL);

    if ( NULL != errorText )
    {
        WCHAR msg[512] = {0};
        wsprintf(msg, TEXT("%s:\nError Code: %u\n%s\n"), errTitle, errCode, errorText);

        LocalFree(errorText);
        errorText = NULL;

        OutputDebugString(msg);
    }
} 
```

# qt - 如何隐藏 qtreeview 的边框？

> ID：16010663
> 
> 赞同：0
> 
> 时间：2013-04-15T08:23:10.127
> 
> 标签：qt, qt4, qtreeview, qtreewidget, qtstylesheets

我想隐藏我正在定制的 QTreeWidget 的边框。

当我在里面选择一个项目时，我希望它是一样的。但是这个特殊的大纲根本不起作用。我希望它与第一张图片相同。

![在此处输入图像描述](https://i.stack.imgur.com/rnlV0.png)

![在此处输入图像描述](https://i.stack.imgur.com/Jfq3h.png)

我使用这段 css 代码：

```
QTreeView  {
    show-decoration-selected: 0;
    background: transparent;
}

QTreeView::item:selected
{
    background-color: #00CDDF;
    font-weight: bold;
    outline: none;
}

QTreeView::branch:selected {
    background-color: #00CDDF;
    outline: none
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T09:30:06.203

边框和轮廓是不同的东西。看看[这个](http://www.w3schools.com/css/css_outline.asp)。`Outline`是单独的属性，`none`默认设置为。您周围的可见线`QTreeView`是`border`具有一些默认值的属性。

如果要删除边框，请尝试像[这样](http://qt-project.org/doc/qt-4.8/stylesheet-examples.html#customizing-qtreeview)设置边框属性。

```
QTreeView {
     border: none;
} 
```

要删除特定侧的边框，

```
QTreeView {
     border: 1px solid;
     border-top: none;
} 
```

对于所选项目，您可以使用此选择器 ,`QTreeView::item`用于活动项目`QTreeView::item:selected:active`和所选项目`QTreeView::item:selected`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T09:12:42.553

也许像这样？

```
QTreeView
{
  border: none;
} 
```

或者

```
QTreeView > QScrollArea
{
  border: none;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-29T00:51:57.787

对于选定的项目，以下对我来说效果更好：

```
 QString style = "QTreeWidget::item:!selected "
    "{ "
      "border: 1px solid gainsboro; "
      "border-left: none; "
      "border-top: none; "
    "}"
    "QTreeWidget::item:selected {}";
  treeWidget->setStyleSheet(style); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-29T00:55:37.617

对于选定的项目，这样的样式表对我来说效果更好：

```
 QString style = "QTreeWidget::item:!selected "
    "{ "
      "border: 1px solid gainsboro; "
      "border-left: none; "
      "border-top: none; "
    "}"
    "QTreeWidget::item:selected {}";
  allergiesListView->setStyleSheet(style); 
```

# php - 正则表达式，PHP

> ID：16010666
> 
> 赞同：0
> 
> 时间：2013-04-15T08:23:13.793
> 
> 标签：php, regex

我需要这样处理一个字符串：`"{data type="subject"}`在 PHP 中使用正则表达式。我有这个：

```
$template = '/{([\w]+)\s([\w]+)="([\w]+)"}/'; 
```

但什么也没发生。

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:31:21.727

一切看起来都很好。
你的模式：

```
<?php

$s = '{data type="subject"}';
$template = '/{([\w]+)\s([\w]+)="([\w]+)"}/';

preg_match($template, $s, $matches);
var_dump($matches); 
```

结果是：

```
array(4) {
  [0] =>
  string(21) "{data type="subject"}"
  [1] =>
  string(4) "data"
  [2] =>
  string(4) "type"
  [3] =>
  string(7) "subject"
} 
```

请展示您的完整示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:27:39.767

花括号必须被转义。尝试这样的事情：

```
'/\{(\w+)\s(\w+)="(\w+)"\}/' 
```

编辑：改了一个小错误。我试过了，效果很好。

# c++ - 如何避免将句柄返回到对象内部 - Item 28 Effective C++

> ID：16010667
> 
> 赞同：0
> 
> 时间：2013-04-15T08:23:15.537
> 
> 标签：c++, effective-c++, dangling-pointer

Effective C++ 的第 28 条说`avoid returning "handles" to object internals`。[这个问题](https://stackoverflow.com/questions/13176751/avoid-returning-handles-to-object-internals-so-whats-the-alternative)展示了如何通过考虑封装来设计你的代码来做到这一点，以避免意外暴露你的类的内部。

我的示例涉及一个数据数组，由于内存是我想避免使用的问题`std::vector`（和 Boost 库）。

在这里使用数组是我的代码的一个非常简化的版本：

```
class Foo {
public:
    Foo(int size) : data_(new int[size]) {
        // Populate with data just for the example
        for(int i = 0; i < size; i++) {
            data_[i] = i;
        }
    }

    // I know that this isn't good practice
    int* const get_data() const {
        return data_;
    }

    ~Foo() {
        delete[] data_;
    }

private:
    int* data_;
};

int main(void) {
    Foo* foo = new Foo(10);
    int* const data = foo->get_data();
    delete foo;
    // data now dangles which is bad!
    return 0;
} 
```

我知道使用`const`with`get_data()`并不安全。如果我使用的是向量，我可以像上面的示例问题一样复制它，但是由于我想避免这种情况，我想知道如何最好地设计我的类来避免这种潜在的危险情况？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:35:27.960

编程和软件设计是一个不变的“选择一件事而不是另一件事”。如果您真的负担不起使用`std::vector`，并且您需要使用您的类将数据公开给客户端代码，那么就这样吧。记录为什么会这样，并确保随着时间的推移对其进行审查 - 可能是当您的具有 8MB RAM 而不是 2MB 的新硬件模型将能够使用 a`vector`接管您的普通指针的额外 4 个字节。

或者写一个访问器函数：

```
int& Foo::operator[](int pos)
{
   // Add checks here to ensure `pos` is in range?
   return data[pos]; 
} 
```

现在您根本不必返回指针......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:29:06.070

在您的情况下，一种方法是使用智能指针。我更喜欢[shared_ptr](http://en.cppreference.com/w/cpp/memory/shared_ptr)。以下是您可以如何修改您的课程以避免您提出的问题：

```
class Foo {
public:
    Foo(int size) : data_(new int[size]) {
        // Populate with data just for the example
        for(int i = 0; i < size; i++) {
            data_[i] = i;
        }
    }

    // I know that this isn't good practice
    std::shared_ptr<int> const get_data() const {
        return data_;
    }

    ~Foo() {
        //delete[] data_;
    }

private:
    std::shared_ptr<int> data_;
};

int main(void) {
    Foo* foo = new Foo(10);
    std::shared_ptr<int> data = foo->get_data();
    delete foo;
    // data still good )) // --now dangles which is bad!--
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:41:14.260

如果您真的希望避免使用 std::vector，您可以实现类似于某些 winapi 函数使用的方法。

```
size_t get_data(int* data_ptr, size_t& buffer_size)
{
if(buffer_size < sizeof (data_)
{
buffer_size = sizeof(data);
return 0;
}
//You could you memcpy for ints here
        for(int i = 0; i < size; i++) {
            data_ptr[i] = i;
        }
return sizof(data_);
} 
```

因此要求调用者提供内存来存储数据并关心该内存的分配。
通过它应该重新发明 std::vector 已经可以做的事情，但安全性要低得多。此外，当您开始更广泛地使用您的课程时，您应该检查[规则三以避免出现问题。](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T09:29:30.320

在很多情况下，返回指针是完全可以接受的，即使数组实际上包含在`std::vector`; 例如，使用外部 API 和复制数据时不受欢迎。

我没有看到危险，因为您不是为猴子编程。类的用户应该知道。但是我添加了查询数据大小的功能。那是为了安全。

```
extern "C"{
void foobar( const int *data, unsigned int size );
}
class Foo {
public:
    Foo(unsigned int size) : size_(size), data_(new int[size]) {
        // Populate with data just for the example
        for(unsigned int i = 0; i < size; i++) {
            data_[i] = i;
        }
    }

    unsigned int get_size() const{return size_;}
    int* const get_data() const {
        return data_;
    }

    ~Foo() {
        delete[] data_;
    }

private:
    int* data_;
    unsigned int size_;
};

int main(void) {
    Foo* foo = new Foo(10);
    int* const data = foo->get_data();
    foobar( data, foo->get_size() );
    delete foo;
    return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T09:37:59.767

考虑到即使是标准库也有`get_native_handle()`类，`std::thread`我想知道标准库或 EC++ 之间谁错了！

有效的 C++ 是一组指导方针，您根本无法在任何上下文中应用它们。这是一本“道德”的书。不要将其视为“合法”。如果您需要公开数据，请执行此操作。

毕竟谁删除了指向您的内部数据的指针（在通过 getter 获取它之后）也是在做“坏事”，因为他正在对不属于他的东西采取破坏性行动。

# android - 通知也显示在其他应用程序中

> ID：16010668
> 
> 赞同：0
> 
> 时间：2013-04-15T08:23:19.643
> 
> 标签：android

我正在使用以下代码检查整个应用程序中的互联网连接。

```
public class UpdateReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {

        ConnectivityManager connectivityManager = (ConnectivityManager) context
                .getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo activeNetInfo = connectivityManager
                .getNetworkInfo(ConnectivityManager.TYPE_MOBILE);
        boolean isConnected = activeNetInfo != null
                && activeNetInfo.isConnectedOrConnecting();
        if (isConnected){
            Log.i("NET", "connecte" + isConnected);
        Toast.makeText(context, "net Connected", Toast.LENGTH_LONG)
        .show();
        }
        else{
            Log.i("NET", "not connecte" + isConnected);
        Toast.makeText(context, "No Internet Connection", Toast.LENGTH_LONG)
                .show();
        }
    }
} 
```

问题是当他们没有互联网连接/wi-fi 信号时，toast 消息也会显示在其他应用程序中。我该如何避免这种情况？

谢谢：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:06:42.087

很抱歉，没有一个答案实际上回答了最初的问题“...... toast 消息也显示在其他应用程序中......我该如何避免这种情况？”

无论哪个应用程序位于顶部，都会显示 Toast。它就是这样设计的。所以你不能'避免'。您必须避免使用 Tosat 来避免这种行为。接收器在后台运行并显示 Toast。它不会打扰当前正在向用户显示哪个应用程序。

也请检查此链接。 [http://developer.android.com/guide/topics/ui/notifiers/toasts.html](http://developer.android.com/guide/topics/ui/notifiers/toasts.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:38:10.987

使用 this 或 getBaseContext() 而不是 contex 。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:41:54.670

您正在使用 BroadcastReceiver 接收器来检查是否有互联网连接。无论应用程序如何，只要网络连接发生变化，就会执行此操作。既然你是新人，那我就解释一下。

我们可以将广播接收器与侦听特定类型广播的收音机联系起来，而广播是在事件发生时由 android 系统发送的东西。所以如果事件是你的广播接收器的类型，你会得到它。

因此，如果您只需要检查连接，则可以从您的应用程序中简单地创建一个方法并调用它。

```
 public boolean isNetworkAvailable(Context context) {

    ConnectivityManager connectivityManager = (ConnectivityManager) context
            .getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo activeNetInfo = connectivityManager
            .getNetworkInfo(ConnectivityManager.TYPE_MOBILE);
    boolean isConnected = activeNetInfo != null
            && activeNetInfo.isConnectedOrConnecting();
    if (isConnected){
        Log.i("NET", "connecte" + isConnected);
    Toast.makeText(context, "net Connected", Toast.LENGTH_LONG)
    .show();
    }
    else{
        Log.i("NET", "not connecte" + isConnected);
    Toast.makeText(context, "No Internet Connection", Toast.LENGTH_LONG)
            .show();
    }

return isConnected;
} 
```

每当您需要检查连接时调用此方法。

或者

如果您需要按照上述要求获得上述事件更改的通知，您可以使用相同的广播接收器，而不是在清单文件中注册广播接收器，而是在应用程序启动时从应用程序代码中注册它，并在应用程序时取消注册它结束。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T08:37:42.330

创建一个应用程序类：

```
public class MyApplication extends Application {
    private static MyApplication instance;

    // Returns the application instance 
    public static MyApplication getInstance() {
        if (instance == null)
            instance = this;
        return instance;
    }
} 
```

添加到清单：

```
<application
        android:name=".MyApplication"
        ... > 
```

在您的广播接收器中：

```
Toast.makeText(MyApplication.getInstance().getApplicationContext(), "No Internet Connection", Toast.LENGTH_LONG)
                .show(); 
```

# php - 循环数据库并返回相关数据

> ID：16010673
> 
> 赞同：0
> 
> 时间：2013-04-15T08:23:25.880
> 
> 标签：php, codeigniter

在我的控制器中，我有这段代码来循环数据库并返回数据

```
$faultgroup = $this->booking_model->Get_Fault_Group_Display($grouptype); 

$data['Get_Fault_Group_Display'] = $faultgroup; $getresults = array(); 
$data['get_fault_group_data'] = array(); 

foreach ($faultgroup as $key ) { 
$show = $key->Showgroup; 
$getresults = $this->booking_model->get_fault_group_data($grouptype,$show);
$data['get_fault_group_data'] = $getresults ; 
```

}

* * *

在我的视图中，我有此代码循环使用特定组类型的每条记录，并显示与该组类型匹配的数据库中的记录（to_do_item）

```
<?php if ( ! is_null($Get_Fault_Group_Display)): ?>
<?php if (count($Get_Fault_Group_Display)): ?>
<?php foreach ($Get_Fault_Group_Display as $result): ?>

<?php echo $result->Showgroup; ?>                                                                   
<?php foreach ($get_fault_group_data as $key) :?>

<?php echo $key->to_do_item; ?>

<?php endforeach ?>
<?php endforeach ?>

 <?php else: ?>

<?php endif ?> 
```

我的问题是所有组类型上只显示最后一行，因为循环不断用新的 $getresults 覆盖 $data['get_fault_group_data']

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:42:47.423

您不应该将 $data['get_fault_group_data'] 用作数组吗？

控制器：

```
$data['get_fault_group_data'][$key] = $getresults ; 
```

看法：

```
 <?php if ( ! is_null($Get_Fault_Group_Display)): ?>
<?php if (count($Get_Fault_Group_Display)): ?>
<?php foreach ($Get_Fault_Group_Display as $i => $result): ?>

<?php echo $result->Showgroup; ?>                                                                   
<?php foreach ($get_fault_group_data[$i] as $key) :?>

<?php echo $key->to_do_item; ?>

<?php endforeach ?>
<?php endforeach ?>

 <?php else: ?>

<?php endif ?> 
```

# xml - 在 perl 中使用 XML POST 请求

> ID：16010674
> 
> 赞同：2
> 
> 时间：2013-04-15T08:23:37.060
> 
> 标签：xml, perl, post

现在我得到那个内容类型不能被消费。这是工作流的实际摘要或场景，工作流需要更精确，以便准确地解释自己：

请建议我做错了什么。

```
use LWP::UserAgent;
use HTTP::Request::Common;
my $sendXML="INPUT.XML";
my $resultXML="RESULT.XML";
my $message = <<'XML';
<criteria>
<includeFilterSets>
        <filterSet>
            <filter>
                <filterName>PRODUCT_NAME</filterName>
                </filterSet>
    </excludeFilterSets>
    </entityToSearch>
<criteria>
XML

my $webpage="http://example.com/";
#my $webpage = HTTP::Request->new(GET => 'http/Testlocation');
my $ua = LWP::UserAgent->new; 
my $response = $ua->post($webpage, Content_Type => 'text/xml', Content => $message);
if ($response->is_success) {
    print $response->decoded_content;  # or whatever
}
else {
    #die $response->status_line;
    print $response->decoded_content;

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T09:15:54.333

你已经建立了一个无限循环。这就是您的内存不足警告的来源。

```
my $message="test"; 
open(XML,$sendXML); 
while ("
    <includeFilterSets>
        <filterSet>
            <filter>
                <filterName>VERSION_NAME</filterName>
                <operator>
                    <name>In</name>
                </operator>
                <value>10.0u</value>
                </filter>
        </filterSet>
    </includeFilterSets>") {
} 
close XML; 
```

我不知道你想用这个实现什么，但这不是你想做的。此代码段执行以下操作：

*   设置`$test`为“测试”
*   打开文件名的文件句柄`$sendXML`
*   只要 XML 片段为真，什么都不做（总是如此，因此是无限循环）
*   `close`永远都达不到。

您的其余代码都可以。

你想做的就是这个。我遗漏了文件句柄的东西。

```
my $message = <<'XML';
<includeFilterSets>
        <filterSet>
            <filter>
                <filterName>VERSION_NAME</filterName>
                <operator>
                    <name>In</name>
                </operator>
                <value>10.0u</value>
            </filter>
    </filterSet>
</includeFilterSets>
XML

my $webpage="http://example.com/";
my $ua = LWP::UserAgent->new; 
my $response = $ua->post($webpage, Content_Type => 'text/xml', Content => $message);
if ($response->is_success) {
    print $response->decoded_content;  # or whatever
}
else {
    die $response->status_line;
} 
```

* * *

一个忠告：总是`use strict`和`use warnings`，看看三个参数打开和词法文件句柄。这会让你的生活轻松很多。

# c - 使用 MPI_Send 和 Recv 发送 2D Int 数组

> ID：16010677
> 
> 赞同：1
> 
> 时间：2013-04-15T08:23:51.687
> 
> 标签：c, int, mpi, multidimensional-array, multiple-processes

我正在尝试从从进程向主进程发送一个任意长度的二维整数数组，但我不断收到分段错误。由于 MPI 很难调试，我不确定问题是否与发送/接收有关，但如果不是这样，那么它必须与我自己分配数组的方式有关。

我在这里关注了一个关于确保分配给数组的内存是连续的问题的问题，但这仍然没有解决分段错误。

以下是我的代码的一些部分：

创建数组：

```
int** create2DArray(int sizeX, int sizeY)
{
    int* data = (int *) malloc(sizeX * sizeY * sizeof(int));
    int** array= (int **) malloc(sizeX * sizeof(int*));

    int i;

    for (i=0; i<sizeX; i++)
    {
        array[i] = &(data[sizeY * i]);
    }

    return array;
} 
```

初始化数组：

```
if(rank==0)
{
    display = x11setup(&win, &gc, width, height);
    pixels = create2DArray(X_RESN, Y_RESN);
}
else
{
    xStart = xPixels * (rank - 1);
    xFinish = xStart + xPixels;
    pixels = create2DArray(xPixels, Y_RESN);
} 
```

发送：

```
MPI_Send(&pixels[0][0], xPixels * Y_RESN, MPI_INT, 0, type, MPI_COMM_WORLD); 
```

接收：

```
for(i = 1; i < processes; i++)
{
    int** pixelChunk = create2DArray(xPixels, Y_RESN);
    MPI_Recv(&pixelChunk[0][0], xPixels * Y_RESN, MPI_INT, i, type, MPI_COMM_WORLD, &status);

    int xStart = xPixels * (i - 1);
    int xFinish = xStart + xPixels;

    int k;

    for(j = xStart; j < xFinish; j++)
    {
        for(k = 0; k < Y_RESN; k++)
        {
            pixels[j][k] = pixelChunk[j - (xPixels * i - 1)][k];
        }               
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:50:21.557

这条线看起来很可疑：

```
pixels[j][k] = pixelChunk[j - (xPixels * i - 1)][k]; 
```

例如，假设我们有`np = 2`，所以我们只剩下一个块，然后

```
i = 1;
xStart = 0;
j = 0;
xPixels = 600;
pixelChunk[0 - (600 * 1 - 1)[k] == pixelChunk[-599][k] 
```

看起来不太对，是吗？

这个？

```
pixels[j][k] = pixelChunk[j - xPixels * (i - 1)][k]; 
```

发送/接收代码可能没问题。

# java - 使用 Redis 进行集成测试

> ID：16010680
> 
> 赞同：18
> 
> 时间：2013-04-15T08:23:59.957
> 
> 标签：java, redis, integration-testing, playframework-1.x, jedis

在 Jedis 库的帮助下，我开始在我的项目中使用 Redis。一切正常，但现在我有一个问题，我的功能测试需要 Redis 启动，我想在我的持续集成中避免这种情况。做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-08-13T15:36:55.620

我已经为 Java 实现了一个简单的 redis 嵌入式运行器： [https ://github.com/kstyrc/embedded-redis](https://github.com/kstyrc/embedded-redis)

目前，它使用 redis 2.6.14 for *nix 和[https://github.com/MSOpenTech/redis](https://github.com/MSOpenTech/redis) for Windows。但是，您可以利用 RedisServer 类来运行您自己的运行脚本。

我计划扩展实现以支持 RedisConf（绑定、slaveof、端口、dbfilename 等）。在此之后，我会将 jar 上传到 clojars 用于 mvn deps。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-04-24T09:42:44.927

以下是功能/集成测试的几个选项：

1.  只需在 CI 服务器上启动一个 redis 实例。所有测试都将负责在执行后进行适当的清理。
2.  尝试以某种方式控制 redis 进程，即在运行测试之前/之后在 CI 服务器上有一些 shell 脚本或作业来启动/停止它。至少从测试中消除了一些设置/清理的负担，因为对于每个独立的构建，您将拥有独立的 redis 设置。
3.  通过使用一些内存中的解决方案来进一步控制 redis，例如您为 cassandra 提到的解决方案（如果存在）。

需要提到的一件事是集成测试不应该取代单元测试。单元测试可能应该是首选，它们可以涵盖更多情况，而集成测试可以用于检查应用程序的所有部分是否可以很好地协同工作。我认为这就是为什么很多人选择选择第一的原因。

[这是关于 mongodb](https://stackoverflow.com/questions/6437226/embedded-mongodb-when-running-integration-tests)的类似问题答案有一个链接到适用于第二个选项的项目（控制 mongodb 进程）如果您按照项目页面上的一些相关链接进行操作，那么还有一个叫做[nosql-unit](https://github.com/lordofthejars/nosql-unit)的东西。我认为这个试图涵盖选项三。我没有使用它，但看起来它也适用于[redis](https://github.com/lordofthejars/nosql-unit/tree/master/nosqlunit-redis)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-24T13:35:41.583

您可以通过命令行在任意端口上启动 Redis 服务器：`redis-server --port 7777`. 因此，出于集成测试的目的，您可以在可用（或随机）端口上启动 Redis，确保 Jedis 配置为使用该端口。

这样，您就有了一个“新鲜”的 Redis 实例，您知道它不会与任何其他进程发生冲突，包括同时发生的其他测试运行。这与我能想到的运行内存/嵌入式数据库进行集成测试的类比非常接近。

要使用“预设数据”预加载 Redis，请使用以下`--dbfilename <file>`开关：`redis-server --port 7777 --dbfilename test.rdb`.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-06-28T13:37:18.057

尝试[nosql-unit](https://github.com/lordofthejars/nosql-unit)。它支持用java进行redis单元测试。

试过EmbeddedRedis，发现很多Jedis接口都不支持。因此，使用 EmbbededRedis 不是一个好主意，尤其是当您使用一些高级 redis 功能（如“管道”）时。

我建议使用 ManagedRedis 进行单元测试：

1.  [从redis.io](http://redis.io/)下载一个 redis 源代码到你的测试资源中
2.  在 $(your-redis-dir)/src 中构建一个 redis-server
3.  使用 ManagedRedis 编写单元测试，这是一个[示例](https://github.com/lordofthejars/nosql-unit/blob/master/nosqlunit-demo/src/test/java/com/lordofthejars/nosqlunit/demo/redis/WhenYouFindABook.java)。请注意，“REDIS_HOME”是您的 redis 代码下载的目录，ManagedRedis 将在 ${REDIS_HOME}/src 中找到 redis-server
4.  运行你的单元测试。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-20T22:01:04.227

正如@ksytrc 在[他的回答](https://stackoverflow.com/a/18213405/1577363)中提到的，我基本上使用了他的解决方案。它在[这个项目](https://github.com/iyzico/boot-mon/blob/master/boot-mon-server/src/test/java/com/iyzico/bootmon/server/registration/BootmonClientServiceIT.java)中工作。你只需要添加 Embedded-redis 依赖项。

```
 <dependency>
            <groupId>com.github.kstyrc</groupId>
            <artifactId>embedded-redis</artifactId>
            <version>0.6</version>
            <scope>test</scope>
        </dependency> 
```

然后在测试类中定义 redisServer

```
RedisServer redisServer;

    @Before
    public void setUp() throws IOException {
        redisServer = new RedisServer();
        redisServer.start();
    } 
```

还`application.yml`使用以下凭据进行定义。

```
spring:
  redis:
    host: localhost
    port: 6379 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-04-25T16:45:57.290

我可以处理同样问题的更好方法是创建一个 Spring 服务来处理`RedisTemplate`. 之后，我只是`@MockBean`用来模拟服务并抽象出在我的测试期间缺少运行的 Redis 实例。

每个例子：

```
@Service
class RedisService {

    @Autowired
    private RedisTemplate<String, SomeClass> redisTemplate;

    SomeClass get(String key) {
        return redisTemplate.opsForValue().get(key);
    }

} 
```

在集成测试中：

```
class IntegrationTest {

    @MockBean
    private RedisService redisService;

    @Before
    public void setup() {
        SomeClass someClass= new SomeClass();
        when(redisService.get(anyString())).thenReturn(someClass);
    }

} 
```

我对使用一些 redis 内存数据库解决方案持怀疑态度，因为我知道实际的替代方案并不是 Spring 团队“官方”推荐的。

# go - golang的“延迟”如何捕获闭包的参数？

> ID：16010694
> 
> 赞同：36
> 
> 时间：2013-04-15T08:24:24.863
> 
> 标签：go, closures

这是我的代码（[运行](http://play.golang.org/p/IBm_7sGGHt)）：

```
package main

import "fmt"

func main() {
    var whatever [5]struct{}

    for i := range whatever {
        fmt.Println(i)
    } // part 1

    for i := range whatever {
        defer func() { fmt.Println(i) }()
    } // part 2

    for i := range whatever {
        defer func(n int) { fmt.Println(n) }(i)
    } // part 3
} 
```

输出：

`0 1 2 3 4 4 3 2 1 0 4 4 4 4 4`

问题：第 2 部分和第 3 部分有什么区别？为什么第 2 部分输出“44444”而不是“43210”？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-04-15T08:32:15.763

“part 2”闭包捕获变量“i”。当闭包中的代码（稍后）执行时，变量“i”具有它在 range 语句的最后一次迭代中具有的值，即。'4'。因此

```
4 4 4 4 4 
```

输出的一部分。

“第 3 部分”在其闭包中不捕获任何外部变量。正如[规格](http://golang.org/ref/spec#Defer_statements)所说：

> 每次执行“defer”语句时，调用的函数值和参数都会像往常一样进行评估并重新保存，但不会调用实际函数。

因此，每个延迟函数调用都有不同的“n”参数值。它是执行 defer 语句时“i”变量的值。因此

```
4 3 2 1 0 
```

部分输出，因为：

> ...延迟调用在周围函数返回之前以 LIFO 顺序执行...

* * *

需要注意的关键点是defer语句执行时*'* defer f()'中的'f()'并没有被执行

**但**

'defer f(e)' 中的表达式 'e' 在defer 语句执行时*被计算。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-11-09T19:08:47.883

为了加深对 的理解，我想再举一个例子，`defer mechanish`先按原样运行这段代码，然后切换标记为 (A) 和 (B) 的语句的顺序，然后自己查看结果。

```
package main

import (
    "fmt"
)

type Component struct {
    val int
}

func (c Component) method() {
    fmt.Println(c.val)
}

func main() {
    c := Component{}
    defer c.method()  // statement (A)
    c.val = 2 // statement (B)
} 
```

我一直想知道在这里应用的正确关键字或概念是什么。看起来表达式`c.method`被评估，因此返回一个绑定到组件“c”的实际状态的函数（就像拍摄组件内部状态的快照）。我想答案不仅涉及`defer mechanish`如何`funtions with value or pointer receiver`工作。请注意，如果您将名为`method`a的 func 更改为`pointer receiver`defer 将 c.val 打印为 2，而不是 0，也会发生这种情况。

# iphone - iOS 上的 QuickBlox Facebook 聊天 - UDID 问题

> ID：16010695
> 
> 赞同：1
> 
> 时间：2013-04-15T08:24:25.277
> 
> 标签：iphone, ios, facebook, quickblox

我使用免费的 QuickBlox Chattar 应用程序作为我自己的聊天应用程序的基础：

[像这样。](https://github.com/QuickBlox/ChattAR-ios)

问题是，它编译得很好，但由于错误，聊天永远不会开始：

“UDID 已被占用”

使用此聊天 sdk 是否有人偶然发现此类错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T05:36:19.427

我有同样的问题，我删除了这两行，现在我不再收到那个错误了。

```
extendedAuthRequest.devicePlatorm = DevicePlatformiOS;
extendedAuthRequest.deviceUDID = [[UIDevice currentDevice] uniqueIdentifier]; 
```

# java - Dropdownlist 从 ddl 中获取价值并在上面使用它

> ID：16010696
> 
> 赞同：0
> 
> 时间：2013-04-15T08:24:26.337
> 
> 标签：java, servlets, drop-down-menu, onchange

我正在尝试制作月份的下拉列表。当用户选择一个月时，javascript 用所选值填充 setter。现在我想使用上面的那个值。因此，我使用“Onchange”操作围绕我的选择制作了一个表格，并使用 getMaand 来调用所选月份。

表格有问题吗？因为当我把它放在评论中时，我会得到带有月份的下拉列表，当我把它放在代码中时，他每个月都会打印一行。

我不是Java专家，在表单和选择中使用Onchange是否正确？

```
 int m = -1;
    HTMLCode += "<form onchange=\"window.open('availability.jsp?user=99&clickeddate="+dateFormat.format(today.getTime())+"&month=" + avail.getMaand() + "','_self')\"";
    HTMLCode += "<select onchange='javascript:setMonth(\"" + m + "\");'>";
    for (m=today.get(Calendar.MONTH); m<12; m++){    
    if(month == m)
    HTMLCode += "<option value='" + m + "' selected>" + maand_voluit[m]+ "</option>";
    else
    HTMLCode += "<option value='" + m + "'>" + maand_voluit[m] + "</option>";
    }
    HTMLCode += "</select>";
    HTMLCode += "</form>"; 
```

亲切的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T14:52:32.863

您没有指定月份的值

尝试这个：

```
int month = today.get(Calendar.MONTH);
HTMLCode += "<form onchange=\"window.open('availability.jsp?   user=99&clickeddate="+dateFormat.format(today.getTime())+"&month=" + avail.getMaand() + "','_self')\"";
HTMLCode += "<select onchange='javascript:setMonth(\"" + m + "\");'>";
for (int m=0; m<12; m++){    
if(month == m)
HTMLCode += "<option value='" + m + "' selected>" + maand_voluit[m]+ "</option>";
else
HTMLCode += "<option value='" + m + "'>" + maand_voluit[m] + "</option>";
}
HTMLCode += "</select>";
HTMLCode += "</form>"; 
```

# php - 联系表格 7 wordpress - 获取用户数据

> ID：16010700
> 
> 赞同：1
> 
> 时间：2013-04-15T08:24:30.593
> 
> 标签：php, wordpress, contact, contact-form

有人知道是否可以在 WordPress 插件中获取用户数据（浏览器类型、操作系统） - 联系表格 7？

每当用户发送电子邮件时，我都会尝试接收此信息。

谢谢，奥利

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:37:26.643

尝试使用`[_user_agent]`特殊的邮件标签。

有关更多信息，请查看[此页面](http://contactform7.com/special-mail-tags/)，其中列出了所有可用的邮件标签。

# java - Web 应用程序如何推送通知（java/servlet）？

> ID：16010701
> 
> 赞同：13
> 
> 时间：2013-04-15T08:24:37.100
> 
> 标签：java, servlets, web

在我的应用程序中，我必须显示发生的特定操作的通知？

然后我必须向登录用户显示通知。.

1-获取通知的一种方法是在一定时间间隔后继续轮询。那是拉通知。

但这会对服务器造成不必要的打击。

如何在操作时使用来自服务器的推送通知。.? （我将 java(servlet/jsp) 与 tomcat 一起使用）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-15T08:30:57.013

如今，一种很有前途的客户端-服务器通信方式是使用 Websockets。

请参阅[什么是长轮询、Websockets、服务器发送事件 (SSE) 和 Comet](https://stackoverflow.com/questions/11077857/what-are-long-polling-websockets-server-sent-events-sse-and-comet)，以了解与 Websockets 一起使用的其他方式，以及 Websockets 的优势及其简介，请参阅[WebSockets 简介](http://www.developerfusion.com/article/143158/an-introduction-to-websockets/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:34:11.803

看看[Comet](http://www.javaworld.com/javaworld/jw-03-2008/jw-03-asynchhttp.html)模型和[Servlet 3.0](http://jcp.org/aboutJava/communityprocess/final/jsr315/index.html)规范。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:30:44.760

您可以为此目的使用 WebSockets。有多种可用的实现，例如[jwebsocket](http://jwebsocket.org/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T08:43:15.357

你可以试试 Servlet3.0 Async 功能。

这是一个确实推送的聊天示例：[Servlet 3.0 Async Example](https://stackoverflow.com/questions/7960916/servlet-3-async-task-on-tomcat-7/7966989#7966989)

# c# - c# 以编程方式导出传输规则-exchange 2010

> ID：16010702
> 
> 赞同：1
> 
> 时间：2013-04-15T08:24:37.327
> 
> 标签：c#, powershell, cmdlets

我正在尝试以编程方式导出传输规则。

我的代码适用于 get-exchangeserver 和 get-TransportRule 等简单命令，但如果我尝试将命令导入规则赋予某个文件，则会给出错误，即给定命令无法识别为 cmdlet、脚本。

我的代码如下（我尝试同时提供 Windows 身份验证或交换管理员用户身份验证）：

```
WSManConnectionInfo connectionInfo = new WSManConnectionInfo(serverUri, SHELL_URI, creds);
try
{
    using (Runspace rs = RunspaceFactory.CreateRunspace(connectionInfo))
    {
        PowerShell psh = PowerShell.Create();
        psh.Runspace = rs;
        rs.Open();
        psh.AddCommand("$file = Export-TransportRuleCollection -ExportLegacyRules" +"Set-Content -Path " + @"C:\LegacyRules3.xml" + "-Value file.FileData -Encoding Byte");
        psh.Invoke(); 
```

我正在使用 C# 和 Exchange Server 2010，PowerShell 版本是 1.0。远程操作系统是 Winodws 7。

知道我应该做什么更正吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:31:47.753

从 Export-TransportRuleCollection 的文档中：

在 Exchange 2010 中，您必须将规则集合导出到变量，然后使用 Set-Content cmdlet 将数据写入 XML 文件。有关详细信息，请参阅设置内容。

[http://technet.microsoft.com/en-us/library/bb124410(v=exchg.141).aspx](http://technet.microsoft.com/en-us/library/bb124410(v=exchg.141).aspx)

# javascript - 如何在道场中制作不可编辑的组合框？

> ID：16010704
> 
> 赞同：4
> 
> 时间：2013-04-15T08:24:46.007
> 
> 标签：javascript, dojo

我想在以下代码中制作不可编辑的组合框。我正在使用 ESRI ArcGIS Java Script API 3.2。Dojo/dijit 紧密集成在此 API 中。

我尝试了什么：

1.我更改了只读值，但在设置为 true 后，我的组合框变灰且未激活。

2.我检查了 dojo/digit API 参考并尝试使用“禁用”，但它的禁用组合框无法选择任何值。

3.也在谷歌上搜索。

软件：ArcGIS Java Script API 3.2 & Dojo 1.6 版

所以任何帮助都会很棒！

提前致谢 ： ）

[JsFiddle](http://jsfiddle.net/5quYE/)上的完整代码

代码 ：

```
 dojotype="dijit.layout.ContentPane"
             region="top"
             style="height:25px;">
        <select id="mySelect" 
             dojotype="dijit.form.ComboBox"
             style="width:250px;font-size:18px;"
             autoComplete="true",
             forceValidOption="false",
             readOnly = "false",
             value="Select"
             fetchProperties="{sort:[{attribute:'name', descending:false}]}" 
             onchange="applyLayerDef(this)"> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:45:56.803

你需要的是[dijit/form/FilteringSelect](http://dojotoolkit.org/reference-guide/1.8/dijit/form/FilteringSelect.html)

# jquery - jquery ui按钮不起作用

> ID：16010708
> 
> 赞同：0
> 
> 时间：2013-04-15T08:24:51.293
> 
> 标签：jquery, jquery-ui, button

我已经关注了 jquery ui 演示并检查了关于 SO 的上一个问题，但看不到为什么我的代码不起作用。我正在尝试使用 jquery ui 按钮来布局按钮。在这个简单的示例中，我只想删除按钮标签：

```
<!DOCTYPE HTML>  

<html>  

<head>  
<script type="text/javascript" src="jquery-1.9.1.min.js"></script>  
<script type="text/javascript" src="jquery-ui.js"></script>  
</head>  

<body>  
<button type="button" id="b111">a</button>  
<script type="text/javascript">  
$(document).ready(function(){  
    $("#b111").button( {  
        text: false 
    } );  
});  
</script>  
</body>  

</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:33:44.390

来自[jQuery UI 文档](http://api.jqueryui.com/button/#option-text)：

> 当设置为 false 时，不会显示文本，但必须启用图标选项，否则将忽略文本选项。

因此，您只能说`text: false`是否设置了要显示的图标：

```
$("#b111").button( 
    { text: false, icons: { primary: "ui-icon-locked" } }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:34:22.867

要使用“文本”布尔值，您需要使用图标选项：

[http://api.jqueryui.com/button/#option-icons](http://api.jqueryui.com/button/#option-icons)

不过，这似乎是一件很奇怪的事情。

您可以从 HTML 本身中删除“a”，并且该按钮将没有文本。但是，如果您希望保持大小，而只是隐藏文本，那么只需在 CSS 中执行：

```
#b111 * {
    visibility:hidden;
} 
```

# automated-tests - TFS 2012 支持测试控制器 2010

> ID：16010710
> 
> 赞同：5
> 
> 时间：2013-04-15T08:24:54.017
> 
> 标签：automated-tests, microsoft-test-manager

将 TFS 2010 更新到 TFS 2012 后，我们无法运行自动化测试。我们使用 MTM 2010/2012 运行测试。（两者都有相同的问题）

我们遇到的严重错误是：“TFS 检测到以下测试控制器处于脱机状态：*TestControllerServerAddress* ”

测试控制器服务器在线并正确配置。测试服务也在运行。

我一直在寻找解决方案，但没有发现任何有用的东西。我知道我们可以使用第二次更新来更新 TFS 以支持**BUILD Controller 2010**，但没有提及**TEST Controller 2010**。

谢谢您的帮助。

标记。

编辑：

我刚刚将测试控制器升级到 2012。解决了这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T22:21:20.630

为了使用 TFS2012，您需要将测试控制器升级到 2012，以便它能够获取您的测试用例。在不升级周边技术的情况下将 TFS2010 升级到 TFS2012 有很多问题（其中很多是我个人遇到的）。您可能面临的另一个问题是任何具有富文本格式的测试用例（在 MTM11 或带有补丁的 MTM10 中制作）将在任何 MTM10 安装中显示为带有 HTML 标签，这是可以修复的，但进一步指出了不依赖补丁的好处。

# web-services - REST uri 从社区连接 (CJ) 获取数据失败

> ID：16010712
> 
> 赞同：1
> 
> 时间：2013-04-15T08:24:56.840
> 
> 标签：web-services, rest, affiliate, commission-junction, cj

我正在进行 REST 调用以从佣金连接点 (CJ) 下载报告，但无法获取数据。相反，我可以手动下载所需列为 `Account name`, `Campaign name`, `Ad group`, `Destination URL`, `Ad distribution`, `Impressions`, `Clicks`, `CTR`, `Average`, `CPC`, `Spend`, 的报告`Avg`。`position`. 我正在使用的 REST uri 是

```
https://commission-detail.api.cj.com/v3/commissions?date-type=posting&start-date=2013-03-14&end-date=2013-04-14&action-types=impression 
```

这是获取上述所需列的数据的正确 REST uri。请提出建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-04T16:58:17.847

我相信使用 v3 你只能得到昨天的数据。

[http://www.ericnagel.com/how-to-tips/commission-junction-web-services.html](http://www.ericnagel.com/how-to-tips/commission-junction-web-services.html)

# android - 将音乐切换到下一个

> ID：16010714
> 
> 赞同：0
> 
> 时间：2013-04-15T08:25:02.617
> 
> 标签：android

我想在按钮单击时将音乐从设备音乐播放器切换到下一个，我尝试了代码

```
 changeButton.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent i = new Intent(Intent.ACTION_MEDIA_BUTTON);
            synchronized (this) {
                        i.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_MEDIA_NEXT));
                        sendOrderedBroadcast(i, null);

                        i.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_UP, KeyEvent.KEYCODE_MEDIA_NEXT));
                        sendOrderedBroadcast(i, null);
             }

        }
    }) ; 
```

但它没有显示任何变化。我必须添加任何权限。有人请帮我整理一下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:01:02.877

you can pass song index directly on click method to change song.

```
 changeButton.setOnClickListener(new View.OnClickListener() {

         @Override
    public void onClick(View v) {
   playSong(currentSongIndex+1);

     }};

     //playSong(int songIndex) method definition here

  public String playSong(int songIndex){
        // Play song

        try {
          mp.reset();
             mp.setDataSource(songsList.get(songIndex).get("songPath"));

      mp.prepareAsync();
     } catch (IllegalArgumentException e) {
          e.printStackTrace();
   }

           } 
```

# rapidminer - 如何将多个excel文件导入Rapidminer

> ID：16010727
> 
> 赞同：-1
> 
> 时间：2013-04-15T08:25:46.673
> 
> 标签：rapidminer

我正在尝试一次将一个包含三个 excel 文件的文件夹上传到 Rapidminer。我需要使用什么运算符来执行此操作（无需选择每个运算符并使用`read excel`运算符）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T13:48:55.040

有一个 operator `Loop files`，您可以使用它来遍历文件目录。在此运算符的子进程内部使用`Read Excel`运算符。其结果是 ExampleSets 的集合。有多种方法可以处理 ExampleSet 的集合。对于连接（生成单个 ExampleSet），请使用`Append`运算符。

这是一个示例流程 xml：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<process version="5.3.007">
  <context>
    <input/>
    <output/>
    <macros/>
  </context>
  <operator activated="true" class="process" compatibility="5.3.007" expanded="true" name="Process">
    <process expanded="true">
      <operator activated="true" class="loop_files" compatibility="5.3.007" expanded="true" height="76" name="Loop Files" width="90" x="782" y="30">
        <parameter key="directory" value="D:\xls"/>
        <parameter key="filter" value="^.*\.xlsx?$"/>
        <process expanded="true">
          <operator activated="true" class="read_excel" compatibility="5.3.007" expanded="true" height="60" name="Read Excel" width="90" x="782" y="30">
            <parameter key="excel_file" value="%{file_path}"/>
            <list key="annotations"/>
            <list key="data_set_meta_data_information"/>
          </operator>
          <connect from_op="Read Excel" from_port="output" to_port="out 1"/>
          <portSpacing port="source_file object" spacing="0"/>
          <portSpacing port="source_in 1" spacing="0"/>
          <portSpacing port="sink_out 1" spacing="0"/>
          <portSpacing port="sink_out 2" spacing="0"/>
        </process>
      </operator>
      <operator activated="true" class="append" compatibility="5.3.007" expanded="true" height="76" name="Append" width="90" x="916" y="30"/>
      <connect from_op="Loop Files" from_port="out 1" to_op="Append" to_port="example set 1"/>
      <connect from_op="Append" from_port="merged set" to_port="result 1"/>
      <portSpacing port="source_input 1" spacing="0"/>
      <portSpacing port="sink_result 1" spacing="0"/>
      <portSpacing port="sink_result 2" spacing="0"/>
    </process>
  </operator>
</process> 
```

# session - 在会话中存储持久数据

> ID：16010732
> 
> 赞同：2
> 
> 时间：2013-04-15T08:26:19.800
> 
> 标签：session, web-applications, store, persistent

这可能是超级愚蠢的。拍我，不过昨天心情很奇怪，想到了以下几点：

如果我以持久的方式存储 webapp 数据，只需使用会话。所以我存储了一个带有哈希的 sessioncookie，时间更长，所以它不会被破坏。然后只需将所有存储的数据保存在会话中。我还将会话时间设置为无限制...

这有什么用吗？:D

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:45:12.780

并不真地。大多数会话状态实现将会话保存在内存中。在应用程序重新启动（或硬件故障等）时，内存被清除并且会话缓存丢失。

如果您将会话存储在数据库中而不是进程内，则可以这样做，但可能需要一些工作，具体取决于您使用的平台。它也比较慢。

通常你不想让会话保持很大，因为如果它们是进程内会话，你会很快耗尽你的服务器内存。即使您使用数据库方法进行会话，仍然经常这样做，但使用内存中的临时表进行会话，因此会占用数据库服务器的内存。

会话应该是轻量级的并且对应用程序功能来说不是必需的。对于必须持久化的任何重要内容，请将其保存在数据库中。

# ruby-on-rails - 在 PDF 中渲染 SVG 标签

> ID：16010733
> 
> 赞同：0
> 
> 时间：2013-04-15T08:26:20.660
> 
> 标签：ruby-on-rails, pdf, prawn

我想在 pdf 中呈现签名。

我的html代码：

```
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
  <path stroke="navy" stroke-width="2" fill="none" d="<%= @image %>"/>
</svg> 
```

> @image = "M96,8 L96,9 L96,11 L96,14 L98,18 L101,22 L115,32 L126,43 L142,50 L165,56 L189,56 L207,56 L219,50 L230,46 L233,43 L235 ,41 L236,40 L238,39 L239,39"

我怎样才能在pdf中呈现这个？

我正在使用 rails 3 + prawn。

或者我如何使用@image 创建一个 png？

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-18T19:00:17.827

您可以使用[https://github.com/mogest/prawn-svg](https://github.com/mogest/prawn-svg)

无法确认它是否有效，但我需要和你一样。

我发现经过简单的谷歌研究后，我找到了这个插件。

我会尽快测试它。

亲切的问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T12:51:46.037

您可以使用[wicked_pdf](https://github.com/mileszs/wicked_pdf) gem 将 HTML 和 JavaScript 呈现为 PDF 文件。它使用`wkhtmltopdf`库。

要转换为 PNG，我会推荐使用lib的[IMGKit gem。](https://github.com/csquared/IMGKit)`wkhtmltoimage`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T12:34:32.543

我不熟悉 ruby​​ on rails 或 prawn 但如果您查看 PDF 规范的 Graphics 部分，特别是在 path 部分中，它会显示命令的布局方式。

您可能会使用此信息将 SVG 绘制命令映射到 postscript/pdf 绘制命令。

一个可能有帮助的问题：[如何在 PDF 文档中插入 SVG 文件？](https://stackoverflow.com/questions/3360641/how-to-insert-a-svg-file-in-a-pdf-document)

# html-lists - 此时元素 li 上不允许属性 ddata-horizo ntalposition - w3c 验证器

> ID：16010735
> 
> 赞同：1
> 
> 时间：2013-04-15T08:26:31.477
> 
> 标签：html-lists, w3c-validation

w3c 验证器显示此错误：

```
Attribute ddata-horizontalposition not allowed on element li at this point.

<li data-text-id="#bannerscollection_kenburns_photoText4" ddata-horizontalPosition="center" data-verticalPosition="center" data-initialZoom="1" data-finalZoom="1"></li> 
```

有人请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T13:33:53.520

`ddata-horizontalPosition`HTML5 中不允许使用该属性。

应该是

```
data-horizontalPosition="center" 
```

请参阅[http://www.w3.org/TR/html5/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes](http://www.w3.org/TR/html5/dom.html#embedding-custom-non-visible-data-with-the-data-%2a-attributes)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-30T11:43:17.147

试试这个：

```
<li data-text-id="#bannerscollection_kenburns_photoText4" data-horizontalPosition="center" data-verticalPosition="center" data-initialZoom="1" data-finalZoom="1"></li> 
```

# image-processing - 从网络摄像头图像中识别对象

> ID：16010737
> 
> 赞同：0
> 
> 时间：2013-04-15T08:26:45.460
> 
> 标签：image-processing, language-agnostic, webcam, object-detection

我正在尝试制作一个穷人的 Kinect。为了做到这一点，我从网络摄像头获取帧，我需要识别像素数组是否已经移动，包括一些误差范围。为了做到这一点，在一个新图像上，我需要检查每个像素是否是对象的一部分，如果它是真实的，我检查它们的邻居（左、上、右、下）以及它们的 RGB 值是否从初始像素小于固定值，则该像素包含在该对象中。

这是一个好方法还是有更好的算法呢？

# umbraco - Umbraco 6.0.3 缺少内容和媒体节点

> ID：16010739
> 
> 赞同：0
> 
> 时间：2013-04-15T08:26:50.383
> 
> 标签：umbraco

我刚刚在 eHosting 上建立了一个 Umbraco 6.0.3 站点并设置了所有目录权限 iaw our.umbraco.org/.../permissions。这（[http://our.umbraco.org/wiki/reference/files-and-folders/permissions/perform-permissions-check](http://our.umbraco.org/wiki/reference/files-and-folders/permissions/perform-permissions-check)）将权限报告为“完美”。.NET 框架设置为 4.0，应用程序池已设置并回收。站点显示但没有加载宏，并且在 Umbraco UI 中只有一个内容节点和一个媒体节点，内容和媒体树都是空的。

我想不出还有什么可能。这是我上线的第一个 V6 站点。

还有什么我可以检查的吗？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T09:19:28.407

当 Umbraco 6.0.3 中的内容和媒体节点无法为我们加载时，这是由于 Courier 中的一个错误，如果您连接到 MySQL 数据库，该错误会导致后台出现故障（引发异常，抱怨“不支持关键字： '字符集'”）。

Courier 干扰了许多后台功能，在这种情况下，它错误地假设您必须连接到 MSSQL 服务器。

唯一的解决方案是卸载 Courier（这对我们来说没问题，因为我们已经确定它存在太多的显示停止错误，无法像宣传的那样发挥作用）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T22:40:53.667

检查您的用户登录是否有权查看这些节点。您没有看到任何其他部分（设置、开发人员等）的事实表明了这一点。

另外 - 您是否在 Umbraco 中为该站点使用任何主机名（右键单击并单击内容节点上的管理主机名）？如果是这样，请检查根节点是否添加了通配符主机名。

这是一个回顾你所做的步骤的例子。如果其他选项不起作用，那么您也可以进行数据库刷新（将 dev 数据库复制到 live）。您可以登录到管理 UI 的事实表明您的数据库正在运行。但是，您是否有可能在数据库中手动调整了任何内容？

您使用的是 MVC 还是 ASP.NET 渲染引擎？

如果一切都失败了，请检查您的日志文件并将它们粘贴到此处，我们将尽力帮助您。您可以在 App_Data/Logs/UmbracoLogs.txt 中找到它们

# python - 带有变量的python中的浮点除法错误

> ID：16010743
> 
> 赞同：1
> 
> 时间：2013-04-15T08:27:15.430
> 
> 标签：python, error-handling, floating-point, division

所以我正在做一些非常简单的事情：

```
shared = sum*2.0/(totalCNV(CNVs1,str(chrom))+totalCNV(CNVs2,str(chrom))) 
```

我明白了：

```
ZeroDivisionError: float division 
```

所以现在我只想让它成为一个浮点除法，但我不知道该怎么做。我可以将所有变量转换为浮点数吗？有什么建议么？干杯!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:34:18.047

你得到的错误意味着

```
(totalCNV(CNVs1,str(chrom))+totalCNV(CNVs2,str(chrom))) 
```

评估为零，因此当您尝试将其作为分母进行除法时，您将除以零。

如果该错误是意料之外的，那么您的代码中很可能早先存在问题。

# javascript - jQuery - 单击父级是从子级继承的

> ID：16010745
> 
> 赞同：1
> 
> 时间：2013-04-15T08:27:19.210
> 
> 标签：javascript, jquery, click, parent-child

我的情况是：

```
<div class="overlay">
<div class="modal"></div>
</div> 
```

现在我想要点击覆盖它隐藏div`.overlay`和`.modal`div，所以：

```
$('.overlay').on('click',function(){
$(this+',.modal').hide();
}); 
```

它可以工作，但是有一个问题，如果我点击`.modal`它会做同样的事情，而且我不想要，**我需要告诉 jquery 只有在我点击 .overlay 而不是点击 .overlay 时才隐藏 div。模态的**

我能怎么做？似乎附加到 .overlay 的事件是从孩子那里继承的。

感谢您的建议

这里[是 JSFIDDLE](http://jsfiddle.net/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:36:13.930

试试这个演示请：http: [//jsfiddle.net/bcGZ3/3/](http://jsfiddle.net/bcGZ3/3/)

接口：

*   `.stopPropagation`- [http://api.jquery.com/event.stopPropagation/](http://api.jquery.com/event.stopPropagation/)
*   `.preventDefault` [http://api.jquery.com/event.preventDefault/](http://api.jquery.com/event.preventDefault/)

您想要的只是停止对子 div 的点击弹出，而 Jquery apis abpve 将帮助您实现这一目标。顺便说一句，您的 jsfiddle 示例是空的。

希望能满足需求`:)`

**示例代码**

```
$('.overlay').on('click',function(){
        $(this).hide();
     alert("Parent div click function called.");
});

$(".modal").click(function(e) {
    // click on this link will cause ONLY child alert to fire
    e.stopPropagation();
    // stop default action of link
    e.preventDefault();
    alert("Well-behaved child link click ONLY.\n\nAnd, Enjoy.");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:30:03.973

尝试这个：

```
$('.overlay').on('click',function(evt){
    if(!$(evt.currentTarget).is('.modal')){
        $('.overlay, .modal').hide();
    }
}); 
```

# angularjs - AngularUI 集成 - 从脚本访问模块值

> ID：16010749
> 
> 赞同：0
> 
> 时间：2013-04-15T08:27:36.603
> 
> 标签：angularjs, angular-ui

[我已按照 stackoverflow 上的说明（如何将 AngularUI 集成到 AngularJS？](https://stackoverflow.com/questions/12472244/how-to-integrate-angularui-to-angularjs)）成功地将 AngularUI 集成到 AngularJS 应用程序中。

现在我正在尝试来自官方 AngularUI 页面的“jQuery Passthrough”示例。（[http://angular-ui.github.io/](http://angular-ui.github.io/)）。

```
<a title="Easiest. Binding. Ever!" ui-jq="tooltip">Hover over me for static Tooltip</a>

<a data-original-title="{{tooltip}}" ui-jq="tooltip">Fill the input for a dynamic Tooltip:</a>
<input type="text" ng-model="tooltip" placeholder="Tooltip Content">

<script>
    myModule.value('ui.config', {
    // The ui-jq directive namespace
    jq: {
       // The Tooltip namespace
       tooltip: {
           // Tooltip options. This object will be used as the defaults
           placement: 'right'
           }
       }
    });
</script> 
```

我遇到的问题是未定义“myModule”变量（或我在这里尝试的任何内容）。没有脚本，页面可以正常工作（至少是静态工具提示），所以我猜 AngularUI 配置正确。

我应该怎么做才能访问模块变量？这个脚本必须包含在控制器类中吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T11:19:28.380

在您介绍一些基础知识之前，您正在向前迈进。为了对您的应用程序进行编码，您需要声明一个模块。

通常这是通过执行以下操作来完成的：

```
var myModule = angular.module('myApp', ['ui']); 
```

然后`myApp`成为`ng-app`属性的内容。

或者，您可以执行以下操作：

```
angular.module('myApp').value('ui.config', { ... 
```

如果您不想将模块的引用存储在变量中。请记住，存储对变量的引用与将这些调用链接在一起一样：

```
angular.module('myApp', ['ui']).value('ui.config', { ... 
```

这些解决方案中的任何一个都应该适合您

# localization - 语言代码参考

> ID：16010754
> 
> 赞同：0
> 
> 时间：2013-04-15T08:27:48.153
> 
> 标签：localization

有人可以给我官方参考语言（国家/地区）代码。我正在为同一种语言（es_ES、esp_ESP 等）找到不同的代码，但我不知道哪一个是正确的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:33:04.593

有几种不同的标准指定语言代码，包括 ISO-639 及其子标准 1-3 和 IETF 语言标签，它们描述的可能代码系统比代码本身更多。

哪个标准是“正确的”标准取决于您的用例和上下文。请参阅[http://en.wikipedia.org/wiki/Language_codes](http://en.wikipedia.org/wiki/Language_codes)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:28:50.507

[您可以在此处的](http://msdn.microsoft.com/en-us/library/ms533052%28v=vs.85%29.aspx)**文档** 中找到所有区域代码

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:31:37.950

那是因为语言命名编码有不同的标准，使用不同数量的字母。您可能必须选择要使用的标准，并且可能需要检测您拥有的数据源正在使用的标准。

这是一个起点：[http ://en.wikipedia.org/wiki/List_of_ISO_639-1_codes](http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T08:35:29.743

这些代码是特定语言以及使用该语言的国家/地区的组合。所以例如意味着`es_ES` `spanish_Spain`。另一个`es_AR`意思是`spanish_Argentina`. 对于语言代码，有[Language Matrix](http://en.wikipedia.org/wiki/ISO_639-1_language_matrix)，至于本地化部分，您可以使用[ISO 3166-2](http://en.wikipedia.org/wiki/ISO_3166-2)国家/地区参考

# matlab - 如何设置颜色条标签

> ID：16010757
> 
> 赞同：1
> 
> 时间：2013-04-15T08:27:56.217
> 
> 标签：matlab, matlab-figure, colorbar

我在“喷气”颜色图中有一些要点。这些点的系数可以从 0 到 1，但通常它们不会覆盖所有范围，例如 0.75-0.9。

当我绘制这些点时，我为它们着色，因此 0.75 是颜色图中的较小颜色，而 0.9 是颜色图中的最大颜色，因此会显示所有颜色图。我想要做的就是在颜色栏中也显示出来。当我绘制颜色条时，它上面的标签变为 64，但我希望它们从 0.75 到 0.9。我怎样才能做到这一点？

**编辑** 我不认为代码本身有很大帮助，但它就在这里，以防万一。在`colors`变量中，我将 转换`ZNCC`为颜色图的范围。

**编辑2**

`caxis`我找到了不适合我的原因。这是代码：

```
%this is why it doesnt work
im=imread('someimageyouwanttotest_inRGB.png')
imshow(im)

points=[1, 2;1 , 2 ;0.3,0.7]
ZNCC=points(3,:)
cmap=colormap('jet');
colors=cmap(round(  ((1-min(ZNCC))+ZNCC-1).*(size(cmap,1)-1)/max((1-min(ZNCC))+ZNCC-1))+1,:  );
hold on
for i=1:length(ZNCC)

    plot(points(1,i),points(2,i),'.','Color',colors(i,:));  

end
colorbar()
hold off 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T11:18:11.820

如果`caxis`不适合您，您可以存储返回`colorbar`- 它是颜色栏对象的句柄。然后你可以设置它的属性，比如`'YTick'`和`'YLim'`。您可以设置的完整属性列表与[轴属性](http://www.mathworks.co.uk/help/matlab/ref/axes_props.html)相同（因为颜色栏毕竟只是一个轴对象）。

这是一个例子：

```
% Generate some random data
z = rand(10);
[x, y] = meshgrid(1:size(z, 1));

% Plot colour map
pcolor(x, y, z);
shading interp; % Comment out to disable colour interpolation
colormap jet;

% Setup colorbar
c = colorbar();
set(c, 'YTick', [0.75 0.875 1]); % In this example, just use three ticks for illustation
ylim(c, [0.75 1]); 
```

完成绘图后，只需执行一次。

**编辑：**如果您需要自动从数据中获取限制和刻度，那么您可以执行类似的操作

```
% Find the limits
lims = [min(z(:)) max(z(:))]; 

% Function for rounding to specified decimal places
dprnd = @(x, dps)round(x*(10.^dps))./(10.^dps);

% Generate ticks
nTicks = 5; 
nDps = 2;
ticks = dprnd(linspace(lims(1), lims(2), nTicks), nDps);

set(c, 'YTick', ticks); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T10:37:10.877

我认为这是您的代码正确显示所有颜色，而不是先在没有图像的情况下设置颜色条：

```
points=[1, 2;1 , 2 ;0.3,0.7]
ZNCC=points(3,:)

cmap=colormap('jet');
caxis([min(ZNCC) max(ZNCC)]); 
colorbar();

hold on

%this is why it doesnt work
im=imread('someimageyouwanttotest_inRGB.png')
imshow(im)

colors=cmap(round(  ((1-min(ZNCC))+ZNCC-1).*(size(cmap,1)-1)/max((1-min(ZNCC))+ZNCC-1))+1,:  );

for i=1:length(ZNCC)

    plot(points(1,i),points(2,i),'.','Color',colors(i,:));  

end

hold off 
```

我无法测试它，因为我没有`imshow`：/

# javascript - 页面重新加载时重置 Javascript 默认值

> ID：16010761
> 
> 赞同：-3
> 
> 时间：2013-04-15T08:28:18.840
> 
> 标签：javascript, post, default, reset

我是 javascript/aspx 世界的新手，我的大部分编程都是通过反复试验和大量互联网搜索完成的，但我遇到了一个我找不到解决方案的问题。

我有一个弹出页面，其中包含 2 个输入框，并且我设法为这两个输入框添加了默认值，用于日期，如下所示：

```
 $(window).load(function () {
    var now = new Date();
    var month = (now.getMonth() + 1);
    var day = now.getDate();
    if (month < 10)
        month = "0" + month;
    if (day < 10)
        day = "0" + day;

    $('#FNewDate').val('01/' + month + '/' + now.getFullYear());

    $('#TNewDate').val(day + '/' + month + '/' + now.getFullYear());
    } 
```

现在，如果用户输入了一个新日期并点击了提交按钮，页面会发布并重新加载计算结果并再次显示给用户和默认值，但不是用户输入的新日期，我需要它留在输入的信息。

我尝试过使用静态成员，但我无法让它工作。

这是按钮操作：

```
<asp:Button ID = "Calculate" runat = "server" 
                style="width:40% ; font:15px arial" Text = "Calculate" onclick="Calculate_Click" /> 
```

任何有关上述内容的帮助将不胜感激，请在您的回复中包含代码...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:41:49.703

您应该更改默认值设置器以添加

```
if ($('#FNewDate').val().length() != 0) 
```

仅在来自服务器的值为空的情况下设置值。

然后在你的输入

```
<input type="text" id="FNewDate" value="<%=someObject.getSomeDate()%>"/> 
```

# c# - 反复调用 CurrentThread.ManagedThreadId 或将值存储在线程本地存储中？

> ID：16010765
> 
> 赞同：1
> 
> 时间：2013-04-15T08:28:44.947
> 
> 标签：c#, multithreading, thread-local-storage

有没有人有任何见解的实施

```
SystemThreading.Thread.CurrentThread.ManagedThreadId 
```

就像它是否在进行内核往返一样？我特别想知道从多个线程重复调用它是否比读取一次值更好，将其存储在线程本地存储中，然后使用该值，例如

```
ThreadLocal<int> ThreadId = new ThreadLocal<int>(() =>
    Thread.CurrentThread.ManagedThreadId);
...
Tracer.Add("Thread:" + ThreadId.Value); 
```

我今天要测量这两种变体，但我认为事先听到任何想法（或偏见:)）会很有趣。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:34:07.573

CurrentThread 和 ManagedThreadId 都是内部调用属性，因此值检索由框架本身处理。由于它们是属性，而不是方法，因此可以合理地假设它们可以被快速访问并且没有必要存储它们，除非您将它们置于具有大量迭代的循环中。

```
public extern int ManagedThreadId
{
    [__DynamicallyInvokable, ReliabilityContract(Consistency.WillNotCorruptState, Cer.Success), SecuritySafeCritical]
    [MethodImpl(MethodImplOptions.InternalCall)]
    get;
} 
```

如果您关心使用此属性进行日志记录，我们可以看看流行的日志记录框架（如 NLog）如何使用它。原来，它并没有缓存它，而是直接使用它：

```
namespace NLog.LayoutRenderers
{
    public class ThreadIdLayoutRenderer : LayoutRenderer
    {
        protected override void Append(StringBuilder builder, LogEventInfo logEvent)
        {
            builder.Append(Thread.CurrentThread.ManagedThreadId.ToString(CultureInfo.InvariantCulture));
        }
    }
} 
```

# asp.net - 访问保存在列表视图之外的下拉列表值？

> ID：16010768
> 
> 赞同：0
> 
> 时间：2013-04-15T08:28:52.647
> 
> 标签：asp.net, c#-4.0, asp.net-4.0

我有一个列表视图和一个下拉列表（它保存在列表视图之外）和一个搜索按钮。

现在我需要从 listview 访问两个文字控件，它们保存在布局模板和 emptydatatemplate 中，并将下拉列表值分配给那些带有少量额外文本的文字控件。

我尝试的是布局模板：

```
protected void lvP_LayoutCreated(object sender, EventArgs e)
    {
        if (dlCategory.SelectedIndex != -1)
        {
            (lvP.FindControl("ltHeaderText") as Literal).Text = " Products in " + dlCategory.SelectedItem.Text.ToString();
        }
    } 
```

对于空数据，我在下面尝试

```
protected void lvPr_ItemCreated(object sender, ListViewItemEventArgs e)
    {
        if (e.Item.ItemType == ListViewItemType.EmptyItem)
        {
            (lvP.FindControl("ltEmptyData") as Literal).Text = "No products in " + dlCategory.SelectedItem.Text.ToString();
        }
    } 
```

aspx 标记

```
<asp:ListView ID="lvP" runat="server" OnLayoutCreated="lvP_LayoutCreated"
            OnItemCreated="lvP_ItemCreated">
            <LayoutTemplate>
                <table class="PWorld" cellpadding="0" cellspacing="0">
                    <thead>
                        <tr>
                            <th>
                                <span>
                                    <asp:Literal ID="ltHeaderText" runat="server"></asp:Literal>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr id="itemplaceHolder" runat="server">
                        </tr>
                    </tbody>
                </table>
            </LayoutTemplate>
            <ItemTemplate>
                <tr valign="top">
                    <td>
                        <table class="PWorldInner" cellpadding="0" cellspacing="0">
                            <tr>
                                <td>
                                    <img height="65px" width="175px" src='<%#Eval("ProductLogo")%>' alt="<%#Eval("pName")%>" />
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </ItemTemplate>
            <EmptyDataTemplate>
                <asp:Literal ID="ltEmptyData" runat="server"></asp:Literal>
            </EmptyDataTemplate>
        </asp:ListView> 
```

# r - 使用 R 下载推文

> ID：16010771
> 
> 赞同：1
> 
> 时间：2013-04-15T08:29:06.303
> 
> 标签：r, ssl-certificate, tweets

我一直在尝试在新 PC 上下载带有 twitteR 包的推文：

```
library(twitteR)
z<-searchTwitter("#gold",n=1500) 
```

我收到以下错误消息：

```
SSL certificate problem, verify that the CA cert is OK. 
Details:\nerror:14090086:SSL      
routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed" 
Error in twInterfaceObj$doAPICall(cmd, params, "GET", ...) :   
Error: SSL certificate problem, verify that the CA cert is OK. 
Details: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed 
```

你能帮我解决这个问题吗？

# iphone - 使用 ios sdk 从 .caf 生成波形

> ID：16010772
> 
> 赞同：2
> 
> 时间：2013-04-15T08:29:15.243
> 
> 标签：iphone, ios, objective-c, waveform, caf

实际上我正在尝试从 .caf 文件中生成波形。可能吗？如果是，那么谁能告诉我如何产生波浪？我搜索了它，但我得到了从 mp3 而非 .caf 生成波的演示。那么，现在有人可以建议我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-26T10:04:57.993

请查看此代码可能是您的问题解决方案

> `https://github.com/gyetvan-andras/cocoa-waveform`

# css - div底部的css文本/从下方剪切空白

> ID：16010774
> 
> 赞同：0
> 
> 时间：2013-04-15T08:29:25.097
> 
> 标签：css

![http://i.imgur.com/1LIf5oy.png](https://i.stack.imgur.com/o7Ifw.png)

修改行高无济于事，因为它会从文本顶部切除部分。

有什么方法可以垂直对齐底部的文本？（垂直对齐：文本底部；不起作用）

有没有办法摆脱 Discover 下方的空白。

html是：

```
<div class='leftSideNews'> <span class='t1'>Discover</span> <span class='t2'>s world !</span> </div>

.leftSideNews {
    font-size: 20pt;
    /*line-height: 100px;*/
    /*vertical-align: text-bottom;*/
}

.leftSideNews .t1 {
    font-size: 60pt;
    color: #368FD8;
   vertical-align: baseline;
}

.leftSideNews .t2 {
    font-size: 40pt;
    color: #EA3B3B;
} 
```

lefSideNews 涵盖了这两种文本。t1 代表选中的文字'Discover'，t2 代表其他红色文字

编辑 2：我导入的字体也用于该跨度是 .toff 文件，而不是 .woff 文件，我猜这是问题的根源，因为它没有正确重新缩放。谢谢你的回答。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:03:25.020

```
.leftSideNews .t1 {
   font-size: 60pt;
color: #368FD8;
vertical-align: baseline;
display: inline-block;
line-height: 55px;
background: gray;
} 
```

[http://jsfiddle.net/dolours/zvMKH/332/](http://jsfiddle.net/dolours/zvMKH/332/) 这是你在找我不确定。

# text - 读取文本文件并在 Jtable 中显示？

> ID：16010776
> 
> 赞同：0
> 
> 时间：2013-04-15T08:29:39.243
> 
> 标签：text, get, jtable

我需要逐行读取文本文件的内容并将其显示`Jtable`在表格上，用户应该可以根据需要编辑表格，感谢任何帮助。我是 Java 新手。谢谢你。

我的文本文件：文件名（people.txt）

```
COLUMN_NAME COLUMN_TYPE IS_NULLABLE COLUMN_KEY  COLUMN_DEFAULT  EXTRA   
Names   VARCHAR(500)    NO  
Address VARCHAR(500)    NO 
```

到目前为止我的代码：

```
import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.FileInputStream;
import java.io.InputStreamReader;
import java.util.Vector;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
public class readtext {
    static public void main(String[] arg){
        JScrollPane scroll;
        JTable table;
        DefaultTableModel model;
        String fname="people";
        try
        {
            FileInputStream fstream = new FileInputStream("D:/joy/text/"+fname+".txt");

            BufferedReader br = new BufferedReader(new InputStreamReader(fstream));
            String strLine,str = null;
            //Read File Line By Line
            String text = "";
            Vector myVector = new Vector();
            while ((strLine = br.readLine()) != null) //loop through each line
            {
                myVector.add(strLine );
                // Print the content on the console
                text +=(strLine+"\n");  // Store the text file in the string
            }
            in.close();//Close the input stream
            int i=0;
            String fline=myVector.elementAt(0).toString();
            String[] sp=fline.split("\\s+");
            for(String spt:sp){
                System.out.println(spt);
                //model = new DefaultTableModel(spt, );   // I dont know how to put the strings
                into Jtable here
                table = new JTable(){
                    public boolean isCellEditable(int row, int column){
                        return false;
                    }
                };
                int a=0;// for text box name
                for(i=1;i&lt;myVector.size();i++){
                    str=myVector.elementAt(i).toString();
                    String[] res =str.split("\\s+");
                    int k=0;
                    for(String st:res)
                    System.out.println(st);
                k++;a++; }
        } }
        catch(Exception e)
        {
            e.printStackTrace();
        }
    }
} 
```

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-17T06:00:30.603

文件内容：（每个属性用分号隔开，每一行是一条记录。）

> 你好1；123
> 
> 世界1;234

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.AbstractTableModel;

public class FileToJTable {

    public static void main(String[] args) {
        Runnable r = new Runnable() {

            public void run() {
                new FileToJTable().createUI();
            }
        };

        EventQueue.invokeLater(r);
    }

    private void createUI() {

        try {
            JFrame frame = new JFrame();
            frame.setLayout(new BorderLayout());
            JTable table = new JTable();

            String readLine = null;

            StudentTableModel tableModel = new StudentTableModel();
            File file = new File(""/*Give your File Path here*/);

            FileReader reader = new FileReader(file);
            BufferedReader bufReader = new BufferedReader(reader);

            List<Student> studentList = new ArrayList<Student>();
            while((readLine = bufReader.readLine()) != null) {
                String[] splitData = readLine.split(";");

                Student student = new Student();
                student.setName(splitData[0]);
                student.setNumber(splitData[1]);

                studentList.add(student);
            }

            tableModel.setList(studentList);
            table.setModel(tableModel);

            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            frame.add(new JScrollPane(table));
            frame.setTitle("File to JTable");
            frame.pack();
            frame.setVisible(true);

        } catch(IOException ex) {}
    }

    class Student {

        private String name;
        private String number;

        public String getName() {
            return name;
        }
        public void setName(String name) {
            this.name = name;
        }
        public String getNumber() {
            return number;
        }
        public void setNumber(String number) {
            this.number = number;
        }
    }

    class StudentTableModel extends AbstractTableModel {

        private List<Student> list = new ArrayList<Student>();
        private String[] columnNames = {"Name", "Number"};

        public void setList(List<Student> list) {
            this.list = list;
            fireTableDataChanged();
        }

        @Override
        public String getColumnName(int column) {
            return columnNames[column];
        }

        public int getRowCount() {
            return list.size();
        }

        public int getColumnCount() {
            return columnNames.length;
        }

        public Object getValueAt(int rowIndex, int columnIndex) {
            switch (columnIndex) {
            case 0:
                return list.get(rowIndex).getName();
            case 1:
                return list.get(rowIndex).getNumber();
            default:
                return null;
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:40:25.507

好吧，我没有阅读您的代码...但是我告诉您一种最简单的方法...希望这会有所帮助

定义一个 DefaultTableModel：

```
String columns[] =  {  //Column Names// };
    JTable contactTable = new JTable();
    DefaultTableModel tableModel;
    // specify number of columns
    tableModel = new DefaultTableModel(0,2); 
    tableModel.setColumnIdentifiers(columns);
    contactTable.setModel(tableModel); 
```

从文本文件中读取：

```
String line;
BufferedReader reader;
    try{       
        reader = new BufferedReader(new FileReader(file));
        while((line = reader.readLine()) != null) 
        {
           tableModel.addRow(line.split(", ")); 
        }
        reader.close();
     }
    catch(IOException e){
        JOptionPane.showMessageDialog(null, "Error");
e.printStackTrace();

    } 
```

此外，如果您想允许用户编辑数据，那么您需要在您希望人们编辑的单元格上设置一个 TableCellEditor。您可能还想开始使用 TableModel 而不是在 JTable 本身中对数据进行硬编码。

请参阅[http://docs.oracle.com/javase/tutorial/uiswing/components/table.html](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)

# scala - 如何简洁地表达函数迭代？

> ID：16010778
> 
> 赞同：22
> 
> 时间：2013-04-15T08:29:50.963
> 
> 标签：scala, haskell, functional-programming, iteration

是否有一种简洁、惯用的方式来表达[函数迭代](https://en.wikipedia.org/wiki/Iterated_function)？也就是说，给定一个数字`n`和一个函数`f :: a -> a`，我想表达应用时间的`\x -> f(...(f(x))...)`位置。`f``n`

**当然，我可以为此创建自己的递归函数，但如果有一种方法可以使用现有工具或库快速表达它，我会很感兴趣。**

到目前为止，我有这些想法：

*   `\n f x -> foldr (const f) x [1..n]`
*   `\n -> appEndo . mconcat . replicate n . Endo`

但是它们都使用中间列表，并且不是很简洁。

到目前为止我发现的最短的一个使用半群：

*   `\n f -> appEndo . times1p (n - 1) . Endo`,

但它仅适用于正数（不适用于 0）。

我主要关注 Haskell 中的解决方案，但我也对 Scala 解决方案甚至其他函数式语言感兴趣。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-15T11:28:48.403

由于 Haskell 深受数学的影响，您链接到的 Wikipedia 页面上[的定义几乎直接翻译成该语言。](https://en.wikipedia.org/wiki/Iterated_function#Definition)

看看这个：

![](https://i.stack.imgur.com/UgXtr.png)

![](https://i.stack.imgur.com/QsWPc.png)

现在在 Haskell 中：

```
iterateF 0 _ = id
iterateF n f = f . iterateF (n - 1) f 
```

很整洁吧？

那么这是什么？这是一个典型的递归模式。Haskellers 通常如何对待它？我们用折叠来处理它！所以在重构之后，我们最终得到以下翻译：

```
iterateF :: Int -> (a -> a) -> (a -> a)
iterateF n f = foldr (.) id (replicate n f) 
```

或无积分，如果您愿意：

```
iterateF :: Int -> (a -> a) -> (a -> a)
iterateF n = foldr (.) id . replicate n 
```

如您所见，在 Wikipedia 定义和此处提供的解决方案中都没有主题函数参数的概念。它是另一个函数上的函数，即主题函数被视为一个值。这是比涉及主题函数的参数的实现更高级别的问题方法。

现在，关于您对中间列表的担忧。从源代码的角度来看，这个解决方案与@jmcejuela 发布的 Scala 解决方案非常相似，但有一个关键区别是 GHC 优化器完全抛弃了中间列表，将函数变成了主题函数的简单递归循环。我不认为它可以更好地优化。

为了自己方便地检查中间编译器结果，我建议使用[**ghc-core**](http://hackage.haskell.org/package/ghc-core)。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-04-15T09:29:47.720

在斯卡拉：

```
Function chain Seq.fill(n)(f) 
```

请参阅[scaladoc 了解 Function](http://www.scala-lang.org/api/current/index.html#scala.Function$)。懒人版：`Function chain Stream.fill(n)(f)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T12:06:09.523

虽然这不像 jmcejuela 的回答（我更喜欢）那么简洁，但 scala 中还有另一种方法可以在没有`Function`模块的情况下表达这样的功能。当 n = 0 时它也有效。

```
def iterate[T](f: T=>T, n: Int) = (x: T) => (1 to n).foldLeft(x)((res, n) => f(res)) 
```

为了克服创建列表的问题，可以使用显式递归，这反过来需要更多的静态类型。

```
def iterate[T](f: T=>T, n: Int): T=>T = (x: T) => (if(n == 0) x else iterate(f, n-1)(f(x))) 
```

有一个使用模式匹配的等效解决方案，如 Haskell 中的解决方案：

```
def iterate[T](f: T=>T, n: Int): T=>T = (x: T) => n match {
  case 0 => x
  case _ => iterate(f, n-1)(f(x))
} 
```

最后，我更喜欢用 Caml 编写它的简短方式，根本不需要定义变量的类型。

```
let iterate f n x = match n with 0->x | n->iterate f (n-1) x;;
let f5 = iterate f 5 in ... 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-02T09:12:45.867

*我最喜欢 pigworker/tauli 的想法，但由于他们只是将其作为评论给出，因此我正在从中做出 CW 答案。*

```
\n f x -> iterate f x !! n 
```

或者

```
\n f -> (!! n) . iterate f 
```

甚至可能：

```
\n -> ((!! n) .) . iterate 
```

# asp.net - 剃刀中的 TryGetValue()

> ID：16010781
> 
> 赞同：0
> 
> 时间：2013-04-15T08:29:58.097
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

我想`TryGetValue`在我的 ASP.NET MVC3 Razor 视图中创建一个，代码如下所示：

```
@var out;
@Model.Dic.TryGetValue(1, out);
<script type="text/javascript">alert(@out);</script> 
```

我收到一个错误`CS0839: Missing Argument.`，我不知道为什么

**编辑** 现在我将其更改为：

```
@var myOut;
@Model.Dic.TryGetValue(1, out myOut);
<script type="text/javascript">alert(@myOut);</script> 
```

现在我得到：`"var" is not available in this context.`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:03:27.927

试试这个，基于理解。我没有执行它。

```
@{
  var myOut;
  Model.Dic.TryGetValue(1, out myOut);
}
<script type="text/javascript">alert(@myOut);</script> 
```

# javascript - 如何根据页码点击移动到Datatable的特定页面详细信息

> ID：16010784
> 
> 赞同：0
> 
> 时间：2013-04-15T08:30:27.637
> 
> 标签：javascript, jquery, datatable

我在页面上有一个数据表，表条目的操作是通过选择“每页条目数”完成的，并且下一个、上一个按钮也可用。

以防万一，表格中有 100 个条目可用，我选择每页条目为 10。然后下一个和上一个将是 +1 和 -1 以查看页面详细信息。

我可以根据点击数字查看页面详细信息吗？

喜欢<（上一个）页面：1 2 3 4 ....（下一个）>

数字，通过单击我想查看的数字本身..

有人可以帮忙吗...？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:07:44.340

使用网格视图并使分页成为真的它会自动使页面成为你喜欢的页面

# iphone - 制作委托本身时的程序故障

> ID：16010785
> 
> 赞同：0
> 
> 时间：2013-04-15T08:30:28.920
> 
> 标签：iphone, ios, objective-c

我想添加 UITextView 占位符的功能，所以我这样做：

```
@interface UIPlaceholderTextView : UITextView <UITextViewDelegate>
{
    UILabel *placeholderLabel;
} 
```

并且当 UITextView 中的文本发生变化时，调用该方法：

```
#pragma UITextViewDelegate
-(void)textViewDidChange:(UITextView *)textView
{
    if (textView.text.length==0)
    {
        placeholderLabel.hidden=false;
    }
    else
    {
        placeholderLabel.hidden=true;
    }

} 
```

在 IOS 模拟器 6.1 中一切正常。但是当我在 IOS 模拟器 5.1 中运行时程序崩溃，我发现问题发生在这里：

```
self.delegate = self; 
```

似乎不适合自己委托。但我不知道确切的原因，正确的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T20:35:06.587

您在哪里将委托分配给自己？我把它放在 initWithFrame 中，它工作得很好（即使是 iOS 5.1 部署目标）

# javascript - 图像的可选区域

> ID：16010787
> 
> 赞同：1
> 
> 时间：2013-04-15T08:30:31.783
> 
> 标签：javascript, jquery, html, css

我不确定我应该在这方面寻找什么，所以如果我问一个重复的问题，请立即提出建议，我会删除。

说我有这张图片

![蓝色汽车](https://i.stack.imgur.com/7o2sJ.jpg)

我想让它的部分可选，所以当我选择说屋顶时，如果我选择右侧、左侧、后部等，它现在会有一个警报或 console.log 说 ROOF 相同

我希望它把我选择的区域变成灰色，这样我们就知道我选择了那个区域。

我知道这可以用 javascript/jquery 完成，但我不确定如何。

有没有人有任何建议？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:36:04.357

您可以为此使用图像映射

### HTML

```
<img src="http://i.stack.imgur.com/7o2sJ.jpg?1366014978754" alt="" usemap="#map1">
<map id="map1" name="map1">
    <area shape="rect" alt="" title="" coords="69,25,243,128" href="#" target="" />
    <area shape="rect" alt="" title="" coords="81,255,248,426" href="#" target="" />
</map> 
```

### JS

```
$('#map1 area:eq(0)').click(function () {
    alert('hood');
});

$('#map1 area:eq(1)').click(function () {
    alert('roof');
}); 
```

小提琴 - [http://jsfiddle.net/fxZsd/](http://jsfiddle.net/fxZsd/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:37:23.593

您可以使用 html 地图标签来使用坐标系声明这些部分，并使用 javascript/jquery 来创建警报/弹出窗口/工具提示等。

来自 w3schools 的示例：

```
<img src="planets.gif" width="145" height="126" alt="Planets" usemap="#planetmap">

<map name="planetmap">
  <area shape="rect" coords="0,0,82,126" href="sun.htm" alt="Sun">
  <area shape="circle" coords="90,58,3" href="mercur.htm" alt="Mercury">
  <area shape="circle" coords="124,58,8" href="venus.htm" alt="Venus">
</map> 
```

有关它的更多信息，请查看[http://www.w3schools.com/tags/tag_map.asp](http://www.w3schools.com/tags/tag_map.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:44:20.333

对的，这是可能的。但不确定您是否会喜欢这种方法。以 SVG 格式设计您的汽车或任何图像。SVG 支持鼠标事件。将事件绑定到这些区域并单击更改颜色。这是关于使用 javascript 更改颜色的问题 使用 javascript[更改 SVG 图像颜色](https://stackoverflow.com/questions/9872947/changing-svg-image-color-with-javascript)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T09:04:11.573

使用 html 地图标签并为地图提供 id 并为地图的点击事件编写 jquery 代码并完成您的任务

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-15T08:39:47.577

您可以在画布对象（html5）上绘制图像，所有这些部分都可以矢量绘制

# html - 主表中的 CSS 选择器最后一行

> ID：16010791
> 
> 赞同：38
> 
> 时间：2013-04-15T08:30:45.763
> 
> 标签：html, css, css-selectors

我在一个表中有一个表，我只想填充表 1 的最后一行的背景，而不是表 2。

```
<style> 
#test tr:last-child
{
  background:#ff0000;
}
</style>

<table border="1" width="100%" id="test">
<tr>
 <td>
  <table border="1" width="100%">
   <tr>
    <td>table 2</td>
   </tr>
  </table>
 </td>
</tr> 

<tr><td>table 1</td></tr>
<tr><td>table 1</td></tr>
<tr><td>table 1</td></tr>

</table> 
```

使用我的 CSS，我正在为 table1 和 table2 的最后一行着色。

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2013-04-15T08:35:40.977

你的表应该有直接的子元素`tbody`和`thead`元素，行在 *. 因此，将 HTML 修改为：

```
<table border="1" width="100%" id="test">
  <tbody>
    <tr>
     <td>
      <table border="1" width="100%">
        <tbody>
          <tr>
            <td>table 2</td>
          </tr>
        </tbody>
      </table>
     </td>
    </tr> 
    <tr><td>table 1</td></tr>
    <tr><td>table 1</td></tr>
    <tr><td>table 1</td></tr>
  </tbody>
</table> 
```

然后稍微修改你的选择器：

```
#test > tbody > tr:last-child { background:#ff0000; } 
```

[在这里](http://jsfiddle.net/cherryflavourpez/dQJRS/)查看它的实际应用。这利用了[子选择器](https://developer.mozilla.org/en-US/docs/CSS/Child_selectors)，它：

> ...分隔两个选择器并仅匹配与第二个选择器匹配的那些元素，这些元素是与第一个选择器匹配的元素的直接子元素。

因此，您只针对元素的直接子`tbody`元素，这些元素本身就是`#test`表的直接子元素。

# 替代解决方案

以上是最简洁的解决方案，因为您不需要覆盖任何样式。[另一种](http://jsfiddle.net/cherryflavourpez/vA36V/)方法是坚持您当前的设置，并覆盖内表的背景样式，如下所示：

```
#test tr:last-child { background:#ff0000; }
#test table tr:last-child { background:transparent; } 
```

* 这不是强制性的，但大多数（所有？）浏览器都会添加这些，因此最好明确说明。正如@BoltClock 在评论中所说：

> ...它现在已经在 HTML5 中一成不变，因此要使浏览器兼容，它基本上必须以这种方式运行。

# sql - 如何按特定顺序显示记录

> ID：16010793
> 
> 赞同：0
> 
> 时间：2013-04-15T08:30:46.923
> 
> 标签：sql, sql-server, sql-server-2008

我想从单个列表中按顺序在顶部显示特定记录。以下是示例查询

```
create table empp(ename varchar(100))

insert into empp values('Name3')
insert into empp values('Name4')
insert into empp values('Name2')
insert into empp values('Name1') 
```

正如我想在第一行和第二行的“Name2”和“Name3”中显示的那样，其他可能以任何顺序显示。我尝试了以下查询，但没有得到想要的结果

```
 select * from empp where ename in ('Name2','Name3') 
 union 
 select * from empp 
```

预期 O/P

名称 2 名称 3 名称 1 名称 4

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:34:44.097

尝试这个 ：-

```
 Select * from empp
 ORDER BY CASE WHEN ename = 'Name2' THEN 0 
          WHEN ename='Name3' THEN 1 
          else 2
          END 
```

[Sql 小提琴](http://sqlfiddle.com/#!3/13035/6)演示

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:34:24.853

用于`CASE()`记录的自定义重新排序。

```
SELECT  *
FROM    TableName
ORDER BY    CASE WHEN ENAME = 'Name2' THEN 0
             WHEN ENAME = 'Name3' THEN 1
             ELSE 2
        END ASC 
```

但是，如果您不介意排序，`name2`只要`name3`它们在首位，`IN`就足够了。

```
SELECT  *
FROM    TableName
ORDER BY    CASE WHEN ENAME IN ('Name2','Name3') 
             THEN 1
             ELSE 2
        END ASC 
```

# java - java中的双变量和多变量统计

> ID：16010794
> 
> 赞同：2
> 
> 时间：2013-04-15T08:30:49.217
> 
> 标签：java, statistics

我正在寻找一个通用包来在 java 中进行双变量和多变量统计。有什么想法或建议吗？

谢谢

# oop - 服务层中服务的交互

> ID：16010800
> 
> 赞同：1
> 
> 时间：2013-04-15T08:31:18.487
> 
> 标签：oop, architecture, domain-driven-design, service-layer

在服务层中组织服务之间交互的最佳方式是什么？例如，我有文件服务和产品服务。在我的情况下，产品可以有自己的文档，并且为了管理产品的文档，我从产品服务中的文档服务调用适当的方法。所以，我需要在产品服务中创建文档服务的实例。而且我还需要在文档服务中调用产品服务中的一些方法。因此，这些服务中的每一个都引用了其他服务，我分别得到了 stackoverflowexception。我应该使用哪些设计解决方案来消除这些问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:29:01.863

显然，**循环依赖是错误的**。

您可以使用[共享标识符](http://epic.tesio.it/doc/manual/shared_identifiers.html)来解耦`Product`s 和`Document`s。

此外，您可以在应用程序中从外部编排服务交互：在 ProductService 中，您可以`LoadProducts(ProductIdentifiers[] identifiers)`返回一个不可变的产品集合，在 DocumentService 中，您可以`LoadDocuments(DocumentIdentifiers[] identifiers)`返回一个不可变的文档集合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T12:03:35.853

应用程序服务应该为外部客户端提供一个 API 来执行内聚的业务操作。应用程序服务方法通常与您的应用程序的用例相匹配。

虽然应用程序服务操作可能需要调用另一个服务（例如，`Create Product`用例包括`Create Document`用例，也可以单独调用），但这不是常态，您应该尽可能使应用程序服务具有内聚性。特别是，仅仅因为在您的业务案例中的某个时刻您开始操作另一种实体并不意味着您应该将该部分委托给另一个应用程序服务 - 换句话说，*每个实体一个应用程序服务*不一定是正确的。

无论如何，从您的域中，它应该清楚地显示 2 个应用程序服务点之间的依赖关系的方向。在您的示例中，产品服务似乎依赖于文档服务 - 很难想象为什么会反过来。

如果您确实需要服务 A 和服务 B 之间的往返行程（除非我别无选择，否则我不会这样做），您可以尝试让 A 的实例将自身注入 B 而不是依赖 DI 容器用新实例解决依赖关系，解决堆栈溢出问题 - 如果这就是你首先得到堆栈溢出的原因。

# c# - 仅获取日期时间对象的时间

> ID：16010804
> 
> 赞同：7
> 
> 时间：2013-04-15T08:31:31.120
> 
> 标签：c#, datetime

我试图只获得一个`DateTime`对象的时间。

假设我有这个对象：

```
 Nullable<DateTime> data = new DateTime(2007,6,15,5 ,23,45); 
```

我尝试使用：

```
data.Value.ToShortTimeString() 
```

我收到：

```
5:23 AM 
```

我希望能够只显示`5:23`

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-15T08:32:58.067

您可以使用[`ToString`](http://msdn.microsoft.com/en-gb/library/zdtaw1bw.aspx)具有适当[格式字符串](http://msdn.microsoft.com/en-gb/library/8kb3ddd4.aspx)的方法：

```
var time = date.ToString("H:mm"); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-15T08:34:29.023

您可以使用 *“H”自定义格式说明符*。

> “H”自定义格式说明符将小时表示为从 0 到 23 的数字；也就是说，小时由一个从零开始的 24 小时制表示，该时钟从午夜开始计算小时数。单位数小时的格式不带前导零。

```
Nullable<DateTime> data = new DateTime(2007, 6, 15, 5, 23, 45);
Console.WriteLine(data.Value.ToString("H:mm")); 
```

输出将是；

```
5:23 
```

这是一个[`DEMO`](http://ideone.com/gDNjqg).

欲了解更多信息，请查看[`Custom Date and Time Format Strings`](http://msdn.microsoft.com/en-gb/library/8kb3ddd4.aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-15T08:35:12.187

```
 Nullable<DateTime> data = new DateTime(2007, 6, 15, 5, 23, 45);
        var timeofDay   = data.Value.TimeOfDay; // 05:23:45 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-15T08:37:29.327

如果需要获取`TimeSpan`类型，请使用 DateTime 类中名为 的属性`TimeOfDay`。它只返回“时间”部分。

如果您需要获取该格式的字符串，则使用 TimeOfDay 是一种矫枉过正的做法，只需使用它`ToString("hh:mm")`来格式化您的输出。如果您不想要类似的结果`05:40`，请使用`ToString("H:mm")`.

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-15T08:36:25.960

```
var time = date.ToString("H:mm"); 
```

`H`这里代表 24 小时制。即0-23

查看更多格式[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-15T08:40:27.053

奇怪，对我来说效果很好，可能是视觉工作室中的设置？

你可以试试这个

```
Nullable<DateTime> data = new DateTime(2007, 6, 15, 5, 23, 45);
Debug.Write(data.Value.Hour + ":" + data.Value.Minute); 
```

# c++ - 为什么 boost::asio::ip::tcp::iostream 解析输入？

> ID：16010809
> 
> 赞同：0
> 
> 时间：2013-04-15T08:31:48.043
> 
> 标签：c++, boost-asio

我尝试使用 boost ASIO 的 iostream 类从 TCP 套接字读取二进制数据。我使用标准提取运算符（运算符>>）从流中读取数据。我使用的环境是 Visual Studio 2010。问题是当我读取流时，流似乎试图将二进制数据解析为字符串。至少这是我在调试代码时所看到的。

有没有办法可以使用 iostream 将其作为二进制流而不是字符串流读取？

```
boost::asio::io_service dataServer;

boost::asio::ip::tcp::endpoint dataServerEndpoint(boost::asio::ip::tcp::v4(), dataServerPort);
boost::asio::ip::tcp::acceptor acceptor(dataServer, dataServerEndpoint);

boost::asio::ip::tcp::iostream dataServerStream;
acceptor.accept(*dataServerStream.rdbuf());

try
{
    vector<char> lineBuffer;

    while (!dataServerStream.eof())
    {

        bool eof = dataServerStream.eof();
        bool bad = dataServerStream.bad();
        bool fail = dataServerStream.fail();
        bool good = dataServerStream.good();

        uint64_t magic;
        dataServerStream >> magic; 
```

因此，它不只是从流中获取 8 个字节并将其移动到“魔术”变量中，而是尝试解析流以获取有效的字符串化数字。这当然会失败，并且会设置失败位。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:54:52.403

输入运算符`>>`期望输入是文本，然后将其转换为正确的数据类型。正如您所料，这不适用于二进制数据。

您应该[`read`](http://en.cppreference.com/w/cpp/io/basic_istream/read)改用：

```
uint64_t magic;
dataServerStream.read(reinterpret_cast<char*>(&magic), sizeof(magic)); 
```

* * *

您还犯了一个非常常见的初学者错误，即循环`while (!eof)`. 这将不起作用，因为在您尝试输入操作*之后*`eof`才会设置标志。这意味着您将迭代一次到多次。

 *相反，例如

```
uint64_t magic;
while (dataServerStream.read(reinterpret_cast<char*>(&magic), sizeof(magic)))
{
    // Read the rest
} 
```*

# php - PHP DOMDocument，只检索 div 的内容，没有 div 标签

> ID：16010811
> 
> 赞同：1
> 
> 时间：2013-04-15T08:32:03.430
> 
> 标签：php, domdocument

我正在使用 DOMDocument 在 HTML 页面上检索一个特殊的 div。

我只想检索这个 div 的内容，没有 div 标签。

例如 ：

```
$dom = new DOMDocument;
$dom->loadHTML($webtext['content']);
$main = $dom->getElementById('inter');
$dom->saveHTML() 
```

在这里，我有结果：

```
<div id="inter">
//SOME THINGS IN MY DIV
</div> 
```

我只想拥有：

```
//SOME THINGS IN MY DIV 
```

想法？谢谢 ！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T09:38:45.517

我将使用简单的方法。你已经有了：

```
$dom = new DOMDocument;
$dom->loadHTML($webtext['content']);
$main = $dom->getElementById('inter');
$dom->saveHTML(); 
```

现在，[`DOMDocument::getElementById()`](http://us2.php.net/manual/en/domdocument.getelementbyid.php)返回**一个** [`DOMElement`](http://us2.php.net/manual/en/class.domelement.php)extends[`DOMNode`](http://us2.php.net/manual/en/class.domnode.php)具有`public string`*`nodeValue`*. 由于您没有指定除文本之外的任何内容`div`，因此我假设您想要任何可能以纯文本形式存储在其中的内容。为此，我们将删除`$dom->saveHTML();`，并将其替换为：

```
$divString = $main->nodeValue; 
```

这样，`$divString`将包含`//SOME THINGS IN MY DIV`，根据您的示例，它是所需的输出。

但是，如果您想要其中的 HTML 而不仅仅是字符串表示形式 - 将其替换为以下内容：

```
$divString = "";
foreach($main->childNodes as $c) 
    $divString .= $c->ownerDocument->saveXML($c); 
```

这样做是利用继承的[`DOMNode::childNodes`](http://us2.php.net/manual/en/class.domnode.php)，其中包含一个[`DOMNodeList`](http://us2.php.net/manual/en/class.domnodelist.php)每个包含其自己的 DOMNode（供参考，见上文），我们遍历每个获取`ownerDocument`which is a[`DOMDocument`](http://us2.php.net/manual/en/class.domdocument.php)并调用该[`DOMDocument::saveXML()`](http://us2.php.net/manual/en/domdocument.savexml.php)函数。我们将当前`$c`节点传递给函数的原因是为了防止输出整个有效文档，并且因为这`ownerDocument`是我们正在循环的内容 - 我们需要一次获取一个子节点，并且不留下任何子节点。*（抱歉，来晚了，忍不住了。）*

现在，在任何一种选择之后，您都可以随心所欲`$divString`。我希望这有助于向您解释该过程，并希望您能够更好地理解正在发生的事情，而不是仅仅因为代码有效而死记硬背。^^

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:37:47.253

你可以使用[xpath](http://php.net/manual/en/class.domxpath.php)

```
 $xpath = new DOMXPath($xml);

foreach($xpath->query('//div[@id="inter"]/*') as $node)
{
  $node->nodeValue
} 
```

或者简单地说，您可以编辑您的代码。[看这里](http://php.net/manual/en/book.dom.php)

```
$main = $dom->getElementById('inter');

echo  $main->nodeValue 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:49:02.740

您可以使用我的自定义函数从内容中删除额外的 div

```
 $html_string = '<div id="inter">
        SOME THINGS IN MY DIV
    </div>'; 
```

// 自定义函数

```
function DOMgetinnerHTML($element) 
{ 
   $innerHTML = ""; 
   $children = $element->childNodes; 
   foreach ($children as $child) 
   { 
      $tmp_dom = new DOMDocument(); 
      $tmp_dom->appendChild($tmp_dom->importNode($child, true)); 
      $innerHTML.=trim($tmp_dom->saveHTML()); 
   } 
   return $innerHTML; 
} 
```

你的代码会喜欢

```
$dom = new DOMDocument;
$dom->loadHTML($html_string);
$divs = $dom->getElementsByTagName('div');
$innerHTML_contents = DOMgetinnerHTML($divs->item(0));
echo $innerHTML_contents 
```

**你的输出将是**

```
SOME THINGS IN MY DIV 
```

# java - 休眠父子查询，不按子FK过滤

> ID：16010812
> 
> 赞同：0
> 
> 时间：2013-04-15T08:32:04.107
> 
> 标签：java, hibernate

我有一个休眠查询的问题，它按从共同父级继承的多个实体的列进行过滤。

这是示例：

抽象父：

```
@Entity
@Inheritance (strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class AItem 
{
        /** The id. */
        @Id
        @Column (name = "pk_id")
        private Long id;

        /** The date of creational. */
        @Column (name = "c_date_created", nullable = true, columnDefinition = "timestamp with time zone")
        private Calendar dateCreated;

        /** The date of change. */
        @Column (name = "c_date_changed", nullable = true, columnDefinition = "timestamp with time zone")
        private Calendar dateChanged;

        /** Name of item. */
        @Column (name = "c_name", nullable = false)
        private String name;

        /** type of item. */
        @Column (name = "c_type", nullable = false)
        @Enumerated (EnumType.STRING)
        EItemType type;
} 
```

孩子们：

```
@Entity
@Table (name = "t_product", schema = "am")
public class CProduct extends AItem
{

        @ManyToMany (fetch = FetchType.LAZY, mappedBy = "products")
        private Set<CCampaign> campaigns;

    ...some more attributes...
}
@Entity
@Table (name = "t_service", schema = "am")
public class CService extends AItem
{

        @ManyToMany (fetch = FetchType.LAZY, mappedBy = "services")
        private Set<CCampaign> campaigns;

    ...some more attributes...
} 
```

活动：

```
@Entity
@Table (name = "t_campaign", schema = "am")
public class CCampaign
{
        /** The id. */
        @Id
        @SequenceGenerator (name = "T_CAMPAIGN_PKID_GENERATOR", sequenceName = "AM.T_CAMPAIGN_PK_ID_SEQ")
        @GeneratedValue (strategy = GenerationType.AUTO, generator = "T_CAMPAIGN_PKID_GENERATOR")
        @Column (name = "pk_id")
        private Long id;

        /**
        * Products available in the campaign.
        */
        @ManyToMany (fetch = FetchType.EAGER, cascade = {CascadeType.REFRESH, CascadeType.MERGE})
        @JoinTable (name = "t_x_campaign_product", schema = "am", joinColumns = {@JoinColumn (name = "pk_campaign", nullable = false, updatable = false)}, inverseJoinColumns = {@JoinColumn (name = "pk_item", nullable = false, updatable = false)})
        private Set<CProduct> products;

        /**
        * services available in the campaign.
        */
        @ManyToMany (fetch = FetchType.EAGER, cascade = {CascadeType.REFRESH, CascadeType.MERGE})
        @JoinTable (name = "t_x_campaign_service", schema = "am", joinColumns = {@JoinColumn (name = "pk_campaign", nullable = false, updatable = false)}, inverseJoinColumns = {@JoinColumn (name = "pk_item", nullable = false, updatable = false)})
        private Set<CService> services;
} 
```

我希望为该活动返回所有项目（服务+产品）。

我有疑问

`select distinct item from AItem item left join item.campaigns camp where camp.id = 5`

现在hibernate所做的是它返回所有相关的产品，而不是单一的服务。

有为活动分配的服务。

当我在没有指定 camp.id 的情况下运行查询时，查询将返回服务。

有人可以帮助解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:37:48.867

使用 Hibernate 过滤器将解决您的问题，请参见[此处](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/filters.html)查看此 [注释的问题答案以过滤 @OneToMany 关联的结果](https://stackoverflow.com/questions/6919686/annotation-to-filter-results-of-a-onetomany-association)

# c# - C# svnadmin 转储，奇怪的行为

> ID：16010813
> 
> 赞同：2
> 
> 时间：2013-04-15T08:32:04.893
> 
> 标签：c#, svn, dump, behavior, svnadmin

我已经编写了 ac# 应用程序来检查存储库是否应该是转储程序（使用一些参数）

我已经在我的计算机（Winsows 8）上编译了这个应用程序，它可以按预期工作。当我尝试在安装了 .net 4.5 的两个不同的 Windows 服务器（2003 和 2008）上使用它时，出现了问题..

在此之前，我将讨论我遇到的问题，我将向您展示我为使该应用程序工作而编写的部分代码：

```
output[2] = exec("svnadmin dump " + dir + " > " + dir + ".dump"); 
```

其中**dir**是存储库的实际名称，**exec**函数如下：

```
public string exec(object command)
{
    try
    {
        System.Diagnostics.ProcessStartInfo procStartInfo =
        new System.Diagnostics.ProcessStartInfo("cmd", "/c " + command);

        procStartInfo.RedirectStandardOutput = true;
        procStartInfo.UseShellExecute = false;
        procStartInfo.CreateNoWindow = true;
        System.Diagnostics.Process proc = new System.Diagnostics.Process();
        proc.StartInfo = procStartInfo;
        proc.Start();
        return proc.StandardOutput.ReadToEnd();
    }
    catch (Exception objException)
    {
        return "Error: " + objException;
    }
} 
```

我得到的是，当我在 Windows 8 上运行它时，当我在 Server 2003 上运行它时它按预期工作，当我在 Server 2008 上运行它时它只转储修订版 0 它返回错误（它不是存储库！）

Windows 8 svn 版本：1.7.8 (sliksvn) Windows server 2003 svn 版本：1.5.8 Windows server 2008 svn 版本：1.7.9

任何帮助都会得到帮助，在此先感谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2016-08-05T16:59:32.227

我对“它不是存储库！”也有类似的问题。问题。为了解决这个问题，我使用了 svnserve。

```
svnserve -r .\ -d 
```

这解决了我的问题。

# javascript - 添加DIV动态变化事件

> ID：16010818
> 
> 赞同：-1
> 
> 时间：2013-04-15T08:32:18.843
> 
> 标签：javascript, facebook, greasemonkey

我有一个内容动态变化的页面（Facebook 页面）。我正在编写一个 GM 脚本，但它仅在页面刷新时加载，而事实并非如此。我试图做类似的事情：

`mydiv.addEventListener('load', myfunc() ,false );`

正如我在另一个线程中看到的那样，但它没有用。我究竟做错了什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:37:27.370

使用`setInterval()`或[waitForKeyElements 实用程序](https://stackoverflow.com/q/11195658/331508)。

除非您提供以下详细信息，否则无法提供更多详细信息：您正在尝试做***什么***；前后 HTML；甚至是指向页面和/或屏幕截图的链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T14:30:58.593

Change `myfunc()` to `myfunc`.

Using `myfunc()`, you are calling the function.
While `myfunc` is just passing the reference to your function.

# php - wp_localize_script 不工作

> ID：16010820
> 
> 赞同：11
> 
> 时间：2013-04-15T08:32:31.720
> 
> 标签：php, jquery, wordpress, wordpress-theming

我的主题中有以下代码，`functions.php`但是当我调用`console.log(pw_script_vars);`变量时是`undefined`. 我错过了什么？

```
function mytheme_enqueue_scripts(){
    wp_enqueue_script( 'jquery' );

}
add_action( 'wp_enqueue_scripts', 'mytheme_enqueue_scripts');

function pw_load_scripts() {

    wp_enqueue_script('pw-script');
    wp_localize_script('pw-script', 'pw_script_vars', array(
            'alert' => __('Hey! You have clicked the button!', 'pippin'),
            'message' => __('You have clicked the other button. Good job!', 'pippin')
        )
    );

}
add_action('wp_enqueue_scripts', 'pw_load_scripts'); 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-15T09:41:32.067

您的`wp_enqueue_script`.

```
function pw_load_scripts() {

    wp_enqueue_script('pw-script', get_template_directory_uri() . '/test.js');
     wp_localize_script('pw-script', 'pw_script_vars', array(
            'alert' => __('Hey! You have clicked the button!', 'pippin'),
            'message' => __('You have clicked the other button. Good job!', 'pippin')
        )
    );

}
add_action('wp_enqueue_scripts', 'pw_load_scripts'); 
```

在您的主题目录中创建一个名为的空文件`test.js`，它将起作用。

然后，如果您查看源代码，您会看到：

```
<script type='text/javascript'>
/* <![CDATA[ */
var pw_script_vars = {"alert":"Hey! You have clicked the button!","message":"You have clicked the other button. Good job!"};
/* ]]> */
</script> 
```

然后，您可以在控制台中键入`pw_script_vars.alert`以获取`"Hey! You have clicked the button!"`消息。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-05-07T08:28:37.820

您也可以尝试本地化 jQuery 而无需创建额外的空 JS 文件。

```
 wp_localize_script('jquery', 'pw_script_vars', array(
        'alert' => __('Hey! You have clicked the button!', 'pippin'),
        'message' => __('You have clicked the other button. Good job!', 'pippin')
    )
); 
```

它对我来说就像一个魅力。希望能帮助到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-04-05T03:38:18.560

```
Place the code block below the wp_enqueue_script 
```

```
Then Add it as a variable on your custom script. Here is called "custom-js"

```
 var dir_url = adact_img.dir_url;
       $('hello') .owlCarousel({
                items: 1,
                loop: true,
                margin: 0,
                dots: false,
                nav: true,
                navText: ["<img src='"+ dir_url +" /assets/images/icons/angle-right.png' />", "<img src='"+ dir_url +" /assets/images/icons/angle-left.png' />"],
            }); 
``` 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-04-05T03:39:23.850

```
Place the code block below the wp_enqueue_script    

     $dir_url = array( 'dir_url' => get_stylesheet_directory_uri() );
        wp_localize_script( 'custom-js', 'adact_img', $dir_url );

Then Add it as a variable on your custom script. Here is called "custom-js"

```
 var dir_url = adact_img.dir_url;
       $('hello') .owlCarousel({
                items: 1,
                loop: true,
                margin: 0,
                dots: false,
                nav: true,
                navText: ["<img src='"+ dir_url +" /assets/images/icons/angle-right.png' />", "<img src='"+ dir_url +" /assets/images/icons/angle-left.png' />"],
            }); 
``` 
```

# html - 使用用户输入创建自定义 HTML 模板

> ID：16010822
> 
> 赞同：0
> 
> 时间：2013-04-15T08:32:43.597
> 
> 标签：html, templates, input

我目前正在开发一个项目，用户需要填写一个将转换为 HTML 的表单。

例如，用户填写下一个表格：

```
 <form method="POST" action="">
      Edit title: <input type="text" name="title"><br />
      Edit subtitle: <input type="text" name="subtitle"><br />
      Edit image: <input type="file" />
      <input type="submit" value="OK" />
    </form> 
```

并且输出必须是 HTML 格式，如下所示：

```
 <div class='container'>
      <div class='leftBLock'>
       <h2>*Title*</h2>
       <p>*Subtitle*</p>
       <img src='path/to/img/image.jpg' />       
      </div>
    </div> 
```

各位大佬知道有什么方法可以轻松搞定吗？

提前致谢！

编辑：我忘了提到我更喜欢客户端解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:45:02.447

简单的方法是..

在 MySQL 表中存储数据并在 php 文件中获取数据

```
<?php
    //connection to database
    //database query
?>
<div class='container'>
      <div class='leftBLock'>
       <h2><?php echo $rs['title']; ?></h2>
       <p><?php echo $rs['subtitle']; ?></p>
       <img src='<?php echo $rs['image']; ?>' />       
      </div>
    </div> 
```

# c# - 对象比较（多级）

> ID：16010823
> 
> 赞同：0
> 
> 时间：2013-04-15T08:32:50.630
> 
> 标签：c#, iequatable

我想创建具有 5 个属性的对象，每个属性都有 2 个属性。之后，我比较对象是否相同，它们将被归为同一类别。

这是代码：

**物品.cs**

```
public class Item
{
    public Item()
    {
    }

    public SortProperty SortPropA { get; set; }
    public SortProperty SortPropB { get; set; }
    public SortProperty SortPropC { get; set; }
    public SortProperty SortPropD { get; set; }
    public SortProperty SortPropE { get; set; }

    public string Name { get; set; }
    public string Desc { get; set; }
} 
```

**排序属性.cs**

```
public class SortProperty : IEquatable<SortProperty>
{
    public string PartName { get; set; }
    public string GroupabilityID { get; set; }

    public SortProperty()
    {
    }

    public override int GetHashCode()
    {
        int hash = 19;
        hash = hash * 31 + (GroupabilityID == null ? 0 : GroupabilityID.GetHashCode());
        hash = hash * 31 + (PartName == null ? 0 : PartName.GetHashCode());
        return hash;
    }

    public bool Equals(SortProperty obj)
    {
        return (obj == null) ?
           false : (GroupabilityID == obj.GroupabilityID) || (PartName == obj.PartName);
    }

    public override bool Equals(Object obj)
    {
        SortProperty itemobj = obj as SortProperty;
        return itemobj == null ? false : Equals(itemobj);
    }

} 
```

**Program.cs（测试编码的主类）**

```
class Program
{
    static void Main(string[] args)
    {
        Item objA = new Item();
        Item objB = new Item();

        // ------ Object A
        objA.Name = "Card1";
        objA.Desc = "Product Test A";
        //Property A
        objA.SortPropA = new SortProperty();
        objA.SortPropA.PartName = "Plastic A";
        objA.SortPropA.GroupabilityID = "A1";
        //Property B
        objA.SortPropB = new SortProperty();
        objA.SortPropB.PartName = "Color Green";
        objA.SortPropB.GroupabilityID = "B2";
        //Property C
        objA.SortPropC = new SortProperty();
        objA.SortPropC.PartName = "Visa";
        objA.SortPropC.GroupabilityID = "C1";

        // ------ Object B
        objB.Name = "Card2";
        objB.Desc = "Product Test B";
        //Property A
        objB.SortPropA = new SortProperty();
        objB.SortPropA.PartName = "Plastic B";
        objB.SortPropA.GroupabilityID = "A2";
        //Property B
        objB.SortPropB = new SortProperty();
        objB.SortPropB.PartName = "Color Lime";
        objB.SortPropB.GroupabilityID = "B1";
        //Property C
        objB.SortPropC = new SortProperty();
        objB.SortPropC.PartName = "Visa";
        objB.SortPropC.GroupabilityID = "C1";

        bool isEqual = objA.Equals(objB);

        if (isEqual == true)
            Console.WriteLine("Is same");
        else
            Console.WriteLine("Is different");

        Console.ReadKey();
    }
    } 
```

结果应该返回，因为和(SortPropc)`true`之间有相同的属性，但它返回。`objA``objB``false`

我相信我错过了一些逻辑部分，我已经坐在椅子上 4 个小时但无法修复它。任何人都可以解决它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:25:43.877

> 结果应该返回 true，因为 objA 和 objB (SortPropc) 之间存在相同的属性，但它返回 false。

你只是没有实现它。再次阅读您的代码并尝试找到您实际比较两个`Item`实例的部分。没有。

您应该在您的类上实现一个`Equals`and`GetHashCode`方法，如下所示：`Item`

```
public override bool Equals(Object obj)
{
    var o = (Item)obj;
    // Note: not error checking :-)
    return SortPropA.Equals(o.SortPropA) || 
           SortPropB.Equals(o.SortPropB) || 
           SortPropC.Equals(o.SortPropC) || 
           SortPropD.Equals(o.SortPropD) || 
           SortPropE.Equals(o.SortPropE);
} 
```

或创建一个实现`IEqualityComparer<Item>`处理此要求的类。

# javascript - HTML5 LocalStorage：检查密钥是否存在

> ID：16010827
> 
> 赞同：173
> 
> 时间：2013-04-15T08:32:54.610
> 
> 标签：javascript, html, cordova, local-storage

为什么这不起作用？

```
if(typeof(localStorage.getItem("username"))=='undefined'){
    alert('no');
}; 
```

目标是将用户从索引页面重定向到登录页面（如果尚未登录）。这里的`localStorage.getItem("username"))`变量暂时没有定义。

这是一个 ios phonegap 应用程序。

* * *

## 回答 #1

> 赞同：381
> 
> 时间：2013-04-15T08:35:27.623

引用[规范](http://www.w3.org/TR/webstorage/#dom-storage-getitem)：

> getItem(key) 方法必须返回与给定键关联的当前值。如果与对象关联的列表中不存在给定键，则此方法必须**返回 null。**

您实际上应该检查`null`.

```
if (localStorage.getItem("username") === null) {
  //...
} 
```

* * *

## 回答 #2

> 赞同：64
> 
> 时间：2014-02-20T10:51:24.237

这种方法对我有用：

```
if ("username" in localStorage) {
    alert('yes');
} else {
    alert('no');
} 
```

* * *

## 回答 #3

> 赞同：32
> 
> 时间：2014-08-22T04:24:28.260

**更新：**

```
if (localStorage.hasOwnProperty("username")) {
    //
} 
```

另一种方式，当值不期望为空字符串、null 或任何其他虚假值时相关：

```
if (localStorage["username"]) {
    //
} 
```

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2013-04-15T08:35:24.340

[MDN 文档](https://developer.mozilla.org/en-US/docs/DOM/Storage)显示了该方法`getItem`是如何实现的：

```
Object.defineProperty(oStorage, "getItem", {
      value: function (sKey) { return sKey ? this[sKey] : null; },
      writable: false,
      configurable: false,
      enumerable: false
    }); 
```

如果未设置该值，则返回`null`. 您正在测试是否是`undefined`. 检查它是否是`null`相反的。

```
if(localStorage.getItem("username") === null){ 
```

# html - div的中间垂直对齐

> ID：16010833
> 
> 赞同：1
> 
> 时间：2013-04-15T08:33:14.007
> 
> 标签：html, css

我有一个具有其他三个内联 div 的 div。我想将这三个 div 垂直对齐在中间。花几个小时试图理解为什么垂直对齐：中间；不工作以及如何解决问题。任何建议如何解决这个问题？

[例子](http://jsfiddle.net/tomasr/Vwuam/)

```
<div id="result-table">
            <div class="row-item">
                <div class="cell1">do not align vertically at middle</div>
                <div class="cell2">this one too</div>
                <div class="cell3">                    
                    test test test test test test test test test test test test test test test test test test test test test test test test test test test test test test test test 
            </div>
        </div>

#result-table {
    display: block;
}

.row-item {
    display: block;
    vertical-align: middle;
    width: 100%;
    background-color: rgb(245, 245, 245);
    border: 1px solid rgb(204, 204, 204);
    border-radius: 4px 4px 4px 4px;
    margin-bottom: 5px;
}

.cell1 {
    display: inline-block;
    padding-left: 20px;
    width: 150px;
}

.cell2 {
    display: inline-block;
    width: 150px;
}

.cell3 {
    display: inline-block;
    width: 150px;
    padding-right: 20px;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:38:43.297

将这两个属性与您的单元格一起使用

```
.cell1 
{
    display: table-cell;
    vertical-align: middle;
    // other properties
} 
```

[JS小提琴](http://jsfiddle.net/Vwuam/2/)

更新：没有`display:table-cell`

`vertical-align: middle;`与您的细胞一起使用

```
.cell2 {
    display: inline-block;
    vertical-align: middle;
    width: 150px;
} 
```

[JS 小提琴 2](http://jsfiddle.net/Vwuam/6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:59:26.787

我刚刚遇到这个[什么是垂直对齐？](http://css-tricks.com/what-is-vertical-align/)关于你的问题**为什么垂直对齐：中间；不工作**

```
The confusion, in my opinion, sets in when people try to use vertical-align on 
block level elements and get no results. If you have a small div inside a larger
div and  want to vertically center the smaller one within, vertical-align will
not help you. Douglas Heriot has a good roundup of methods on 
In The Woods of ways to do this. 
```

如果对解决您的问题有用，您还可以查看此链接[http://www.jakpsatweb.cz/css/css-vertical-center-solution.html](http://www.jakpsatweb.cz/css/css-vertical-center-solution.html)

# regex - 我需要一个正则表达式名字必须以至少 2 个字符开头

> ID：16010837
> 
> 赞同：0
> 
> 时间：2013-04-15T08:33:28.127
> 
> 标签：regex

我需要一个`regular expression`名字必须以至少 2 个字符开头。

我正在使用以下

```
/^[A-Z a-z]{2,25}$/ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:39:23.767

您的正则表达式似乎允许空格，所以我不确定这是否有效。

如果您想要一个在开头至少指定两个字母字符的正则表达式，您可以使用：

```
/^[A-Za-z]{2}/ 
```

这将强制前两个字符为 alpha，对字符串的其余部分没有任何限制。如果您想（看起来）允许这些相同的字符加上空格，之后最多*再*添加23 个字符，请使用：

```
/^[A-Za-z]{2}[A-Za-z ]{0,23}$/ 
```

否则，如果您对字符的定义包括前两个字符的空格，那么您当前的正则表达式应该没问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:58:40.553

问题是您使用的是哪个正则表达式？我假设 POSIX RE。

你的解决方案还算不错，但是如果你检查一个真实的名字，空间是没有用的。（也许你也在检查心灵名称？？？）而且（我想）第一个字符应该是大写字母，其余小写，不是吗？如果是这样，我建议：

```
/^[[:upper:]][[:lower:]]{1,24}$/ 
```

使用内置字符类的优势在于它也可以在其他语言中工作。

例子：

```
$ echo -e "Alpha\nalpha\naLpha\nThisisaverylongfirstname\nThisfirstnameismuchlongertobesure"\
|egrep '^[[:upper:]][[:lower:]]{1,24}$'
Alpha
Thisisaverylongfirstname 
```

# c - 从 DLL 调用后，静态库全局值被重置

> ID：16010860
> 
> 赞同：0
> 
> 时间：2013-04-15T08:34:29.893
> 
> 标签：c, visual-c++, windows-ce

我在 wince 6.0 中有 c++ 库，有一些全局变量。该库已与 C++ 的 DLL 链接。当我执行应用程序并调用 DLL 时。首先它集成了静态库的所有全局变量，但是当控制权回到 DLL 到静态库时。它重置所有全局值。有没有人对此有想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:53:45.170

如果您已将两个 DLL 与静态库链接，这意味着您拥有库中所有代码和变量的两个副本。

要解决此问题，您应该将静态库转换为 DLL。这可以通过一个由`module.def`文件和链接器调用组成的简单项目来完成。

然后，不要将您的 DLL 与静态库链接，而是将它们与您的 DLL 链接。

或者，不是有两个 dll，而是将项目组合成一个 DLL。

请注意，可以将两个模块链接到同一个静态库，前提是您理解并接受数据不会被共享。

# typo3 - tt_news 模板不显示图像

> ID：16010861
> 
> 赞同：1
> 
> 时间：2013-04-15T08:34:34.440
> 
> 标签：typo3, tt-news

我正在开发一个带有typo3和tt_news的网页，我编辑了tt_news_template_v3，所以新闻以我想要的方式出现。我以这种方式编辑了 TEMPLATE_LIST3：

```
<!-- ###TEMPLATE_LIST3### begin
    This is the template for the list of news in the archive or news page or search
-->

###NEWS_CATEGORY_ROOTLINE###
    <!-- ###CONTENT### begin
          This is the part of the template substituted with the list of news:
    -->
        <!-- ###NEWS### begin -->
        <article class="box">
    <span class="news-list-date" style="margin-left:80%">###NEWS_DATE###</span>

        <div class="image-border">
            <a href="#" class="image image-left">

                <!--###LINK_ITEM###-->###NEWS_IMAGE###<!--###LINK_ITEM###-->

            </a>
        </div>
        <h2><!--###LINK_ITEM###-->###NEWS_TITLE###<!--###LINK_ITEM###--></h2>
        <h3 class="subtitulos">###NEWS_SUBHEADER###</h3>

        <p>###NEWS_CONTENT###</p>
        <!--<p>###CATWRAP_B### ###TEXT_CAT### ###NEWS_CATEGORY### ###NEWS_CATEGORY_IMAGE### ###CATWRAP_E###</p>-->
        <p class="button">
        <!--###LINK_ITEM###-->  Ver M&aacute;s  <!--###LINK_ITEM###-->
        </p>
    </article>

    <!-- ###NEWS### end-->
    <!-- ###NEWS_1### begin -->

    <div class="row" style="margin-top:15px; display: inline-block; width:100%">

        <div class="6u">
            <section class="box tbox">
                <h2><!--###LINK_ITEM###-->###NEWS_TITLE###<!--###LINK_ITEM###--></h2>
                <h3 class="subtitulos">###NEWS_SUBHEADER###</h3>
                <div class="image-border">
                    <a href="#" class="image image-full">
                        <!--###LINK_ITEM###-->###NEWS_IMAGE###<!--###LINK_ITEM###-->
                    </a>
                </div>
                <p>###NEWS_CONTENT###</p>
                <!--<p>###CATWRAP_B### ###TEXT_CAT### ###NEWS_CATEGORY### ###NEWS_CATEGORY_IMAGE### ###CATWRAP_E###</p>-->
                <p class="button">
                <!--###LINK_ITEM###-->  Ver M&aacute;s  <!--###LINK_ITEM###-->
                </p>    
            </section>
        </div>
    <!-- ###NEWS_1### end-->
    <!-- ###NEWS_2### begin -->
        <div class="6u">
            <section class="box tbox">
                <h2><!--###LINK_ITEM###-->###NEWS_TITLE###<!--###LINK_ITEM###--></h2>
                <h3 class="subtitulos">###NEWS_SUBHEADER###</h3>
                <div class="image-border">
                            <hr class="cl-right" />

                    ###NEWS_IMAGE###
                </div>
                <p>###NEWS_CONTENT###</p>
                <!--<p>###CATWRAP_B### ###TEXT_CAT### ###NEWS_CATEGORY### ###NEWS_CATEGORY_IMAGE### ###CATWRAP_E###</p>-->
                <p class="button">
                <!--###LINK_ITEM###-->  Ver M&aacute;s  <!--###LINK_ITEM###-->
                </p>    
            </section>
        </div>
    <!-- ###NEWS_2### end-->
<!-- ###CONTENT### end -->
    </div> 
```

这是我的打字稿：

```
###tt_news
plugin.tt_news.pageBrowser { 
  maxPages = 10 
  showPBrowserText = 0 
  showResultCount = 0 
  showFirstLast = 0 
  browseBoxWrap.wrap = ds|end 
  dontLinkActivePage = 1
  pagefloat = right
  showRange = 0
  disabledLinkWrap = <li>|</li>
  inactiveLinkWrap = <li>|</li>
  activeLinkWrap = <li style="margin-right:5px;">|<li>
  LinksWrap = 
  showResultsWrap = |
  showResultsNumbersWrap =<li>|</li>
  browseBoxWrap = <div style="text-align:center">
  browseLinksWrap = |
}
plugin.tt_news.usePiBasePagebrowser = 1

#-----------------------------------# idioma e imagenes tt_news#-----------------------------------
plugin.tt_news {  

  displayList {
    content_stdWrap.crop = 300 | ...

  image.file.maxW = 87
  image.file.maxH = 59 
  image.file.width  = 87c
  image.file.height = 59c
  image.altText.field = imagecaption

  image >  
  image.stdWrap.cObject = IMAGE  
  image.stdWrap.cObject.file = GIFBUILDER  
  image.stdWrap.cObject.file {  
  XY = 87,59  
  10 = IMAGE  
  10 {  
    offset = 0,0  
    file {  
      import=uploads/pics/  
      import.data = field:image  
      import.listNum = 0  
      import.override.field = image  
      maxW = 87  
      maxH = 59  
      width = 87c  
      height = 59c-0  
    }  
  }  
 }     

    }

  _LOCAL_LANG.default {          
    pi_list_browseresults_first = Primera página    
    pi_list_browseresults_last = Última página    
    pi_list_browseresults_page = Página    
    pi_list_browseresults_prev = < Anterior    
    pi_list_browseresults_next = Siguiente >  
  }
}

plugin.tt_news.newsFiles.stdWrap.HTMLparser.tags.img.fixAttrib.width.set = 16
plugin.tt_news.newsFiles.stdWrap.HTMLparser.tags.img.fixAttrib.height.set = 18 

#page.includeCSS {
#file1 = fileadmin/templates/webuax/css/uax.css
#file1.media = screen
#}

plugin.tt_news.enableConfigValidation = 0

## Hide the "no news id given" & "no news in this list
## messages, they might scare people
plugin.tt_news._LOCAL_LANG.es.noNewsIdMsg =  &nbsp
plugin.tt_news._LOCAL_LANG.es.noNewsToListMsg = &nbsp 
##para que coja los 3 layouts de noticias de la portada
plugin.tt_news.alternatingLayouts = 3

plugin.tt_news._LOCAL_LANG.es {
     more = 
 }

plugin.tt_news._LOCAL_LANG.en {
     more = 
 } 
```

但 ###NEWS_IMAGE### 不起作用，它呈现如下：

```
<img src="" width="" height="" border="0" alt=""> 
```

如果我使用单视图新闻，它的作品，呈现这个

```
<img src="uploads/pics/imagenew.png" width="120" height="120" border="0" alt=""> 
```

有人知道如何解决吗？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T09:08:22.057

我回答我自己的问题：

问题在于图像的大小调整，所以我安装了 JB GD Resize 扩展，现在它就像一个魅力

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T10:24:16.927

我猜`image.stdWrap.cObject = IMAGE` 这不起作用 - 或者 `import=uploads/pics/`是错误的。那么，为什么要使用 GIBUILDER？没有必要（我猜）。

您的第一个配置

```
 image.file.maxW = 87
  image.file.maxH = 59 
  image.file.width  = 87c
  image.file.height = 59c 
```

看起来正确 - 它应该工作。所以只需删除`GIFBUILDER`-stuff。我不希望`image.stdWrap`工作。这取决于扩展名，如果是“图像”。是一个真实的`IMAGE`对象。通常不是！

# highcharts - 如何说服 Highcharts 在 yaxis 上显示正确的（我的）步骤？

> ID：16010865
> 
> 赞同：0
> 
> 时间：2013-04-15T08:34:44.033
> 
> 标签：highcharts, label, axis

我想将 yaxis 显示为排名，即它应该显示 1、2、3、...。它的作用是显示 2、4、6。我输入了“step: 1”，但这没有帮助。我没有成功说服 Highcharts 以不同的方式做这件事……这是[小提琴](http://fiddle.jshell.net/luftikus143/8GbL3/)。

感谢您的任何提示！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:45:53.650

代替

```
allowDecimals:false,
labels:
{
    step: 0.5
} 
```

和

```
tickInterval: 1 
```

谢谢

保罗。

# testing - 从 STAX Job 中的不同程序导入多个 python 函数

> ID：16010867
> 
> 赞同：1
> 
> 时间：2013-04-15T08:34:46.060
> 
> 标签：testing, automation, stax, python-2.5, staf

我一直在研究 STAF 和 STAX。我使用 python 的一些模块和多个函数创建了一个 STAX 作业，但它们都在同一个文件中。

现在我想使用多个 python 程序和每个程序的不同函数创建一个大的 STAX 作业。

如何在单个 STAX JOB 中从存储在不同文件中的不同程序*导入或包含多个功能？*

**前任：**

```
<stax>
<script> function5_add from file1.py </script>
.
.
.
<script> function2_sub from file2.py </script>
.
.
.
<script> function1_mul from file5.py </script>
.
.
.
<script> all n function from file6.py </script>

<stax> 
```

有什么帮助吗？？

如何在 STAX 作业中使用函数的条件导入？

# python - 使用字典使用 matplotlib 绘制条形图

> ID：16010869
> 
> 赞同：120
> 
> 时间：2013-04-15T08:34:47.930
> 
> 标签：python, matplotlib, plot

`matplotlib`有没有办法使用直接来自字典的数据来绘制条形图？

我的字典看起来像这样：

```
D = {u'Label1':26, u'Label2': 17, u'Label3':30} 
```

我期待

```
fig = plt.figure(figsize=(5.5,3),dpi=300)
ax = fig.add_subplot(111)
bar = ax.bar(D,range(1,len(D)+1,1),0.5) 
```

工作，但事实并非如此。

这是错误：

```
>>> ax.bar(D,range(1,len(D)+1,1),0.5)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/lib/python2.7/site-packages/matplotlib/axes.py", line 4904, in bar
    self.add_patch(r)
  File "/usr/local/lib/python2.7/site-packages/matplotlib/axes.py", line 1570, in add_patch
    self._update_patch_limits(p)
  File "/usr/local/lib/python2.7/site-packages/matplotlib/axes.py", line 1588, in _update_patch_limits
    xys = patch.get_patch_transform().transform(vertices)
  File "/usr/local/lib/python2.7/site-packages/matplotlib/patches.py", line 580, in get_patch_transform
    self._update_patch_transform()
  File "/usr/local/lib/python2.7/site-packages/matplotlib/patches.py", line 576, in _update_patch_transform
    bbox = transforms.Bbox.from_bounds(x, y, width, height)
  File "/usr/local/lib/python2.7/site-packages/matplotlib/transforms.py", line 786, in from_bounds
    return Bbox.from_extents(x0, y0, x0 + width, y0 + height)
TypeError: coercing to Unicode: need string or buffer, float found 
```

* * *

## 回答 #1

> 赞同：192
> 
> 时间：2013-04-15T12:13:32.413

您可以通过首先绘制条形图然后设置适当的刻度来分两行执行此操作：

```
import matplotlib.pyplot as plt

D = {u'Label1':26, u'Label2': 17, u'Label3':30}

plt.bar(range(len(D)), list(D.values()), align='center')
plt.xticks(range(len(D)), list(D.keys()))
# # for python 2.x:
# plt.bar(range(len(D)), D.values(), align='center')  # python 2.x
# plt.xticks(range(len(D)), D.keys())  # in python 2.x

plt.show() 
```

请注意，倒数第二行应该`plt.xticks(range(len(D)), list(D.keys()))`在 python3 中读取，因为`D.keys()`返回一个生成器，matplotlib 不能直接使用。

* * *

## 回答 #2

> 赞同：85
> 
> 时间：2018-11-22T13:35:52.927

它比这里的大多数答案建议的要简单一些：

```
import matplotlib.pyplot as plt

D = {u'Label1':26, u'Label2': 17, u'Label3':30}
plt.bar(*zip(*D.items()))
plt.show() 
```

[![在此处输入图像描述](https://i.stack.imgur.com/8aJwj.png)](https://i.stack.imgur.com/8aJwj.png)

* * *

## 回答 #3

> 赞同：41
> 
> 时间：2015-03-18T05:25:27.543

为了将来参考，上述代码不适用于 Python 3。对于 Python 3，`D.keys()`需要将其转换为列表。

```
import matplotlib.pyplot as plt

D = {u'Label1':26, u'Label2': 17, u'Label3':30}

plt.bar(range(len(D)), D.values(), align='center')
plt.xticks(range(len(D)), list(D.keys()))

plt.show() 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2018-01-26T03:56:22.967

`matplotlib.pyplot.bar(range, height, tick_label)`使用范围提供标量值以在图表中定位相应条形的最佳方式来实现它。`tick_label`做同样的工作`xticks()`。也可以用整数替换它并使用多个`plt.bar(integer, height, tick_label)`. 有关详细信息，请参阅[文档](https://matplotlib.org/devdocs/api/_as_gen/matplotlib.pyplot.bar.html)。

```
import matplotlib.pyplot as plt

data = {'apple': 67, 'mango': 60, 'lichi': 58}
names = list(data.keys())
values = list(data.values())

#tick_label does the some work as plt.xticks()
plt.bar(range(len(data)),values,tick_label=names)
plt.savefig('bar.png')
plt.show() 
```

[![在此处输入图像描述](https://i.stack.imgur.com/A4HdK.png)](https://i.stack.imgur.com/A4HdK.png)

此外，无需使用`range()`. 但遇到的问题是`tick_label`它只适用于最后一次`plt.bar()`通话。因此`xticks()`用于标记：

```
data = {'apple': 67, 'mango': 60, 'lichi': 58}
names = list(data.keys())
values = list(data.values())
plt.bar(0,values[0],tick_label=names[0])
plt.bar(1,values[1],tick_label=names[1])
plt.bar(2,values[2],tick_label=names[2])
plt.xticks(range(0,3),names)
plt.savefig('fruit.png')
plt.show() 
```

[![在此处输入图像描述](https://i.stack.imgur.com/mo9el.png)](https://i.stack.imgur.com/mo9el.png)

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2021-01-16T23:00:51.857

为什么不只是：

```
names, counts = zip(*D.items())
plt.bar(names, counts) 
```

[![在此处输入图像描述](https://i.stack.imgur.com/5yatm.png)](https://i.stack.imgur.com/5yatm.png)

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2019-08-14T18:02:35.347

为什么不只是：

```
import seaborn as sns

sns.barplot(list(D.keys()), list(D.values())) 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2018-03-01T17:07:10.143

我经常将 dict 加载到 pandas DataFrame 中，然后使用 DataFrame 的绘图功能。
这是单线：

```
pandas.DataFrame(D, index=['quantity']).plot(kind='bar') 
```

[![结果图](https://i.stack.imgur.com/EApgV.png)](https://i.stack.imgur.com/EApgV.png)

# java - 带有外部库的 Java 字节码检测

> ID：16010870
> 
> 赞同：0
> 
> 时间：2013-04-15T08:34:59.213
> 
> 标签：java, java-bytecode-asm

我将 ASM 与 java 代理一起使用。我有以下问题。每当我在方法调用中看到“PUFIELD”指令时，我想从我的代理库中调用一个方法。

```
if (opcode == PUTFIELD) {       
    super.visitMethodInsn(Opcodes.INVOKESTATIC, "instrumenter/Util", "debug", "()V"); 
```

`Util`是我用静态`debug`方法定义的一个类。它留在我的 agent.jar

`java -javagent:agent.jar -jar test.Test`按我的预期工作。

但是，当我用其他一些 jar 文件测试这个代理时，我得到了以下错误。 `Exception in thread "main" java.lang.NoClassDefFoundError: instrumenter/Util`

我怀疑这是由于并发而发生的。由于产生此错误的程序大多是多线程的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:17:47.580

您可以尝试使用`-bootclasspath/p`而不是`-jar`，对于您的 util-class 或某些类加载器问题（例如，无法访问您的 jar 的不同（自定义）类加载器）而言，某些东西加载得太早了。如果你把你的 jar 放到 bootclasspath 中，至少这个缺陷源被消除了

# mysql - MySQL中查询两张表并拼接表值

> ID：16010880
> 
> 赞同：0
> 
> 时间：2013-04-15T08:35:25.743
> 
> 标签：mysql, concat

请参阅下表`article`和`article_image`

表文章

```
id a_id title
1  1    abc
2  2    def
3  3    ghi
4  4    jkl
5  5    mno 
```

表 article_image

```
id a_id image
1  1    a.jpg
2  1    b.jpg
3  1    c.jpg
4  3    d.jpg
5  3    e.jpg
6  3    f.jpg
7  4    g.jpg
8  4    h.jpg 
```

我试过查询

`SELECT article.a_id, article.title, article_image.image FROM article JOIN article_image ON (article.a_id = article_image.a_id) GROUP BY article_image.thumbnail`

但结果不是我想要的，**预期的结果**应该是：

```
a_id tilte image
1    abc   a.jpg, b.jpg, c.jpg
2    def
3    ghi   d.jpg, e.jpg, f.jpg
4    jkl   g.jpg, h.jpg
5    mno 
```

有人可以建议如何查询这两个表以得到上述结果吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:37:39.893

使用 MySQL 内置函数[`GROUP_CONCAT`](http://dev.mysql.com/doc/refman/5.0/en/group-by-functions.html#function_group-concat), with`LEFT JOIN`将那些没有图像的文章包含在另一个表中：

```
SELECT 
  article.a_id, 
  article.title, 
  GROUP_CONCAT(article_image.image  SEPARATOR ',') AS images
FROM article 
LEFT JOIN article_image ON article.a_id = article_image.a_id
GROUP BY article.a_id, 
         article.title; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:39:45.517

```
"SELECT article.a_id, article.title, article_image.image FROM article
INNER JOIN article_iamge ON article.a_id = article_image.a_id 
```

# ruby-on-rails - 在开源 Rails 应用程序中创建全局设置文件

> ID：16010890
> 
> 赞同：1
> 
> 时间：2013-04-15T08:35:54.593
> 
> 标签：ruby-on-rails

我正在尝试创建一个 rails 应用程序并将其放在 github 上，但是在将个人设置与我签入到 git 的内容中分离出来时遇到了一些麻烦。就像您通常签入 database.yml.example 并让人们创建自己的 database.yml 一样，我想用一堆其他文件（虽然都是 rb 文件）来做到这一点，比如 secret_token 和 production.rb，但我不想让设置过程涉及将 15 个示例文件复制到实际使用的文件中。

我最终做的是在我的配置目录中创建一个 settings.yml.example 文件，并将其他文件中的所有这些设置放在那里。然后设置过程只有 2 个副本（database.yml 和 settings.yml）。然后我将它添加到 environment.rb 的开头

```
#allow files to read their private settings from settings.yml using SETTINGS
require 'yaml'
SETTINGS = YAML.load(IO.read(Rails.root.join("config", "settings.yml"))) 
```

当我需要文件中的某些内容时，我会说类似

```
Foo::Application.config.secret_token = SETTINGS["secret_token"] 
```

这工作正常，直到我尝试运行 rake 测试，当它从 Rails.root.join 调用中给我未初始化的常量 Rails (NameError)

我的问题是这是完成我想要完成的事情的好方法吗？如果是这样，是否有更好的地方放置加载设置文件的代码？似乎我可以在每次单独调用之前加载它，并在加载之后添加类似“除非定义了设置”之类的内容，但是在任何地方都必须这样做会很烦人

注意：对于任何好奇的人，我必须复制的文件是

*   secret_token.rb
*   production.rb（用于 config.action_mailer.default_url_options）
*   devise.rb（用于 config.pepper）
*   随着我开始使用更多的库（对此仍然很陌生），我期待更多的未来

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T21:04:44.483

这是在评论中回答的，所以我将在这里复制托马斯的答案以使其更清楚。

figaro和[econfig](http://www.plugingeek.com/repos/elabs/econfig)（由 carrierwave 和 capybara 的创建者提供）都是为此目的的绝佳选择[。](http://www.plugingeek.com/repos/laserlemon/figaro)我个人将 figaro 与它的 config/application.yml 文件一起使用，该文件被排除在版本控制之外，因为几个月以来在开源项目中取得了巨大成功。

# matlab - 创建可以循环输入的函数

> ID：16010891
> 
> 赞同：0
> 
> 时间：2013-04-15T08:36:02.797
> 
> 标签：matlab

我创建了一个 MATLAB 函数，该函数根据您的数据和所需的样本量运行引导回归。唯一需要的输入是 Y 数据、X 数据和“n”所需的引导样本大小，例如 boot(Y,X,10)。

我怎样才能创建一个循环用于大量样本大小的输入？即类似 boot(Y,X,[10,30,100]) 的东西。

这很重要，因为引导程序可能需要很长时间才能运行，因此如果您可以输入所需的样本大小并在运行时离开计算机而不是输入相同的命令三次，这是理想的选择。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T08:41:36.323

这可以很容易地完成，如下所示：

```
bootstrapSampleSize = [10 30 100];
for i=1:length(bootstrapSampleSize)
    yourResult{i}=boot(Y,X,bootstrapSampleSize(i)); %stores the results in a cell array
end 
```

这可以通过使用`input`命令完全交互，但我将把它留给你。

# javascript - 将纬度、经度转换为字符串形式的地址

> ID：16010894
> 
> 赞同：-1
> 
> 时间：2013-04-15T08:36:22.907
> 
> 标签：javascript, google-maps, google-geocoder

请帮我解决这个问题。
我想从谷歌地图中的纬度、经度获取地址。这是我的功能：

```
function codeLatLng() {
var geocoder = new google.maps.Geocoder();
var lati = document.getElementById("latitude_value").value;
var lngi = document.getElementById("longitude_value").value;
var latlng = new google.maps.LatLng(lati, lngi);
var infowindow = new google.maps.InfoWindow();
var ngo;
geocoder.geocode({'latLng': latlng}, function(results, status) {
  if (status == google.maps.GeocoderStatus.OK) {
    if (results[1]) {
      map.setZoom(11);
      marker = new google.maps.Marker({
        position: latlng,
        map: map
      });
      ngo = results[1].formatted_address;
      infowindow.setContent(results[1].formatted_address);
      infowindow.open(map, marker);
    }
  } else {
    alert("Geocoder failed due to: " + status);
  }
});
return ngo;
 } 
```

执行此功能时。地址显示在地图中。
**然而，这不是我需要的。我只想将此地址作为字符串分配给变量“ngo”。**
此函数返回“ngo”，它在文本字段中显示为“未定义”。
我需要一些帮助来解决这个问题。
谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:58:35.090

> 我只想将此地址作为字符串分配给变量“ngo”。

这就是问题所在。你不能那样做。JavaScript 不能那样工作。地理编码器调用是*异步*的。它在从服务器接收到数据之前返回。在调用地理编码器回调函数之前，数据还没有准备好。

您需要做的是`ngo`在回调函数本身中使用该数据，或者调用另一个函数并将数据传递给它，然后在那里使用数据。

例如，你有这条线：

```
ngo = results[1].formatted_address; 
```

您可以将其替换为：

```
useNGO( results[1].formatted_address ); 
```

你在哪里`useNGO`定义的函数（在任何地方）是这样的：

```
function useNGO( ngo ) {
    // Do stuff with ngo here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T09:06:36.877

我相信您的问题是`var`在声明时使用关键字`var ngo`会`ngo`生成一个局部变量，因此它不存在于`codeLatLng()`. 尝试删除`var ngo`，放置`ngo = "";`在任何函数声明之外的某个地方（就像之前一样`function codeLatLng() {`），让我知道这是否有效:)

# java - Build.xml 无法发送电子邮件，给出“java.lang.ClassNotFoundException: javax.mail.internet.MimeMessage”错误

> ID：16010897
> 
> 赞同：1
> 
> 时间：2013-04-15T08:36:27.363
> 
> 标签：java, ant, build.xml, jakarta-mail

下面是测试完成后运行的目标之一，buil.xml（通过或失败）。此目标失败并给出错误“java.lang.ClassNotFoundException：javax.mail.internet.MimeMessage”。所以我展开了mail.1.4.jar 文件并看到了这个类。所以接下来我检查了这个 jar 是否在我的 setclasspath 目标中，它就在那里。第三件事我检查了 mail.1.4.jar 是否包含在 ant 的路径中并且它在那里。现在我无法理解为什么会收到此错误。

```
<target name="sendmail">
    <mail from="[myname@company.com]"
    subject="Test Email" mailhost="smpt.gmail.com" 
    user="myusername" password="mypassword" message="This is a test email">
        <to name="receivers name" address="[receiver@gmail.com]" />
    </mail>
</target> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-16T10:15:47.873

如果 Ant 给出“java.lang.ClassNotFoundException: javax.mail.internet.MimeMessage”错误，则表示缺少 jar。

进入findjar网站：[http](http://www.findjar.com/) ://www.findjar.com/ ，通过搜索“javax.mail.internet.MimeMessage”找到对应的jar。你会发现它是mail.jar。

然后从中央 Maven 存储库下载 jar 文件：[https](https://mvnrepository.com/artifact/javax.mail/mail) : //mvnrepository.com/artifact/javax.mail/mail，例如版本 mail-1.4.7.jar，并将其放在您的 Ant lib 目录中：${ ANT_HOME}/lib

那应该行得通。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T12:44:33.420

在类路径和相关的传递依赖项中添加 mail.jar。

好的，请尝试以下操作，首先在您的 ant 安装中，${ANT_HOME}/lib 检查以下 jar 是否存在，ant-javamail，如果不存在：

您可以在这里找到以下内容：http: [//mvnrepository.com/artifact/org.apache.ant/ant-javamail](http://mvnrepository.com/artifact/org.apache.ant/ant-javamail)

根据您的 ant 版本选择正确的。

把这个jar复制到ant的lib目录下。并尝试重新运行任务。

让知道它是否解决。

命令运行

```
ant -f %ANT_HOME%/fetch.xml -Ddest=user -Dm2.url=repo1.maven.org/maven2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-26T20:09:16.700

我之前从第一个线程中得到了类似的错误。您可能希望将 mail.jar 和 activation.jar 都下载到您的 ant 库文件夹下，并且在执行构建时，请确保使用“ant -lib”和 lib 文件夹的路径。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-13T21:17:53.153

如果您通过 Groovy 使用 Ant，那么您可以通过以下方式添加必要的库`@Grab`：

```
@GrabConfig(systemClassLoader=true)
@Grapes([
    @Grab(group='org.apache.ant', module='ant-javamail', version='1.10.7'),
    @Grab(group='com.sun.mail', module='javax.mail', version='1.6.2')
]) 
```

# python - Python 代码在 Mac OS X (10.8) 上无法正常运行，但在 Windows 7 上运行，为什么？

> ID：16010898
> 
> 赞同：4
> 
> 时间：2013-04-15T08:36:28.200
> 
> 标签：python, tkinter, popupmenu

我正在使用“Python 编程简介（Pearson 2013）”一书学习 Python。我在我的 Mac OS X (10.8) 上使用 PyCharm 2.7 来编写 Pyhon 3 代码。

以下代码（使用 tkinter 创建 GUI 并添加弹出菜单）在我的 Mac OS X 上无法正常运行。问题是按下鼠标右键时弹出菜单不显示。我在我的 Windows 7 VM 上测试了代码，在 Windows 7 中它运行良好。

所以我的问题是：为什么代码可以在 Windows 7 上运行，但不能在 Mac OS X 上运行？

这是代码：

```
from tkinter import *

class PopupMenuDemo:
    def __init__(self):
        window = Tk()
        window.title("Popup Menu Demo")

        # Create a popup menu
        self.menu = Menu(window, tearoff = 0)
        self.menu.add_command(label = "Draw a line", command = self.displayLine)
        self.menu.add_command(label = "Draw an oval", command = self.displayOval)
        self.menu.add_command(label = "Draw a rectangle", command = self.displayRectangle)
        self.menu.add_command(label = "Clear", command = self.clearCanvas)

        # Place canvas in window
        self.canvas = Canvas(window, width = 200, height = 100, bg = "white")
        self.canvas.pack()

        # Bind popup to canvas
        self.canvas.bind("<Button-3>", self.popup)

        window.mainloop()

    # Display a rectangle
    def displayRectangle(self):
        self.canvas.create_rectangle(10, 10, 190, 90, tags = "rectangle")

    def displayOval(self):
        self.canvas.create_oval(10, 10, 190, 90, tags = "oval")

    def displayLine(self):
        self.canvas.create_line(10, 10, 190, 90, tags = "line")
        self.canvas.create_line(10, 90, 190, 10, tags = "line")

    def clearCanvas(self):
        self.canvas.delete("rectangle", "oval", "line")

    def popup(self, event):
        self.menu.post(event.x_root, event.y_root)

PopupMenuDemo() 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T08:54:12.340

**解决方案**

要使代码在 Mac OS X 中正常工作，必须执行以下操作。

改变：

```
self.canvas.bind("<Button-3>", self.popup) 
```

至：

```
self.canvas.bind("<Button-2>", self.popup) 
```

Button-3 是中间单击按钮，而 Button-2 是辅助单击按钮。

要使其在 Windows 中工作，请使用 Button-3。

# java - 在不使用比较器的情况下按不同属性比较对象

> ID：16010901
> 
> 赞同：2
> 
> 时间：2013-04-15T08:36:32.387
> 
> 标签：java, oop, compare, design-patterns

通常，当您想使用不同的属性比较对象时，比较器是最佳选择（例如，请参见[如何通过多个字段比较对象](https://stackoverflow.com/questions/369512/best-way-to-compare-objects-by-multiple-fields)）。但是，在我的特殊情况下，我不确定是否使用比较器。

问题如下：我定义了一个通用接口，称为`Node<S>`，它由不同的组件共享。还有一个`CostNode<S>`which extends the`Node<S>`和一个`ScoreNode<S>` which extends `CostNode<S>`：

```
public interface Node<S> {
    S getS();
    // more methods...
}

public interface CostNode<S> extends Node<S> {
    // This method smells really bad
    int compareByCost(ComparableNode<S> node);
}

public interface ScoreNode<S> extends CostNode<S> {
    // int compareByCost(CostNode<S> node) (from CostNode<S>)
    int compareByScore(ScoreNode<S> node);
} 
```

此时，有人会争辩说：你不需要 CostNode 和 ScoreNode，你可以使用不同的比较器来比较节点。没关系。但是现在“问题”来了：

我有一个名为 Client 的组件，它使用 ScoreNodes。客户端需要一个节点工厂，由用户提供，负责创建 ScoreNode：

```
public class Client {
    // ...

    public Client(NodeFactory<S, ScoreNode<S>> nodeFactory){...}

    public void process() {

        while(...){
            S current = get();
            S old = getOld();
            // ...
            ScoreNode<S> next = this.nodeFactory.create(current,...));
            // Comparisons performed
            if (next.compareByCost(old) <=0){
                //...
            }
            if (next.compareByScore(old) > 0){
               // ...
            }
        }

    }   
} 
```

如您所见，比较节点的行为嵌入到节点中，并且与使用的工厂密切相关（不同的节点需要不同的工厂和不同的比较器）。

另一方面，如果我使用比较器，我必须向客户端提供三个组件：CostComparator、ScoreComparator 和 NodeFactory。在这种情况下，我只能使用`Node<S>` 并忘记`CostNode<S>`and `ScoreNode<S>`：

```
public class ConcreteNodeCostComparator implements Comparator<Node<S>> {
    public int compare(Node<S> a, Node<S> b){
        return Double.compare(((ConcreteNode<S>)a).getCost(), ((ConcreteNode<S>)b).getCost()); 
    }
}

public class ConcreteNodeScoreComparator implements Comparator<Node<S>> {
    public int compare(Node<S> a, Node<S> b){
        return Double.compare(((ConcreteNode<S>)a).getScore(), ((ConcreteNode<S>)b).getScore()); 
    }
} 
```

但是，我不太喜欢这种替代方案，因为在这种情况下，当比较方法强烈依赖于节点时，我必须向 Client 提供另外两个组件。

我想我在这个设计中遗漏了一些东西。你有什么想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T10:51:46.093

您应该在链接的线程中查看 Boune 的答案。( [http://tobega.blogspot.fr/2008/05/beautiful-enums.html](http://tobega.blogspot.fr/2008/05/beautiful-enums.html) )

您可以在 ScoreNode 界面（或其他地方）中使用这种枚举并使用：

```
ScoreNode.Order.ByCost.compare(node1, node2);
ScoreNode.Order.ByScore.compare(node1, node2); 
```

您不必再向您的客户提供任何组件。

# java - Tomcat Web 应用程序自动停止

> ID：16010902
> 
> 赞同：0
> 
> 时间：2013-04-15T08:36:38.453
> 
> 标签：java, tomcat, web-applications

我有一台运行 CentOS 5.9、Apache-Tomcat 5.5.36 的专用服务器。我编写了一个 JAVA Web 应用程序，它每分钟运行一次以从多个传感器收集数据。我正在使用 ScheduledExecutorService 来执行线程。（每个传感器每分钟一个线程，可以有一百多个传感器）线程的流量是

1.  从数据库中收集传感器信息。
2.  向仪器发送命令以收集数据。
3.  使用数据值更新数据库。

还有另一个应用程序每分钟检查一次数据库并将警报发送给用户（如果需要）。我已经使用 jvisualVM 监控了应用程序，我找不到任何内存泄漏。对于每个线程。应用程序工作正常，但一段时间后（24 小时 - 48 小时），应用程序停止工作。我无法找出问题可能是什么，是服务器配置问题，线程太多还是什么？

有谁知道可能出了什么问题，或者有没有人做过思考类的工作？请帮忙，谢谢

更新：包括代码

```
public class Scheduler {
       private final ScheduledExecutorService scheduler = 
          Executors.newScheduledThreadPool(1);
       public void startProcess(int start) {
           final Runnable uploader = new Runnable() {
            @SuppressWarnings("rawtypes")
            public void run() 
            { 
                //Select data from the database
                ArrayList dataList = getData();
                for(int i=0;i<dataList.size();i++)
                {
                    String args = dataList.get(i).toString();
                    ExecutorThread comThread = new ExecutorThread(args...);
                    comThread.start();
                }
            }
        };
        scheduler.scheduleAtFixedRate(uploader, 0, 60 , TimeUnit.SECONDS);
       }
    }

public class ExecutorThread extends Thread {

    private variables...
    public CommunicationThread(args..)
    {
        //Initialise private variable
    }

    public void run()
    {
        //Collect data from sensor
        //Update Database
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:09:32.553

[注意Javadoc](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html)中这句无害的语句`ScheduledExecutorService.schedule...`

*如果任务的任何执行遇到异常，则后续执行将被抑制。*

这意味着，如果您`Exception`在某个时候遇到 a 并且不处理它，`Exception`则会传播到该中`ScheduledExecutorService`并且它将杀死您的任务。

为了避免这个问题，你需要确保*整个* `Runnable`包裹在 a`try...catch`和`Exception`s*保证*永远不会被处理。

您还可以扩展`ScheduledExecutorService`（也在[javadoc](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#afterExecute%28java.lang.Runnable,%20java.lang.Throwable%29)中提到）来处理未捕获的异常：-

```
final ScheduledExecutorService ses = new ScheduledThreadPoolExecutor(10){

    @Override
    protected void afterExecute(Runnable r, Throwable t) {
        super.afterExecute(r, t);
        if (t == null && r instanceof Future<?>) {
            try {
                Object result = ((Future<?>) r).get();
            } catch (CancellationException ce) {
                t = ce;
            } catch (ExecutionException ee) {
                t = ee.getCause();
            } catch (InterruptedException ie) {
                Thread.currentThread().interrupt(); // ignore/reset
            }
        }
        if (t != null) {
            System.out.println(t);
        }
    }
}; 
```

这里的`afterExecute`方法很简单`System.out.println`，`Throwable`但它可以做其他事情。提醒用户、重启任务等...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:54:25.147

没有代码不能说太多，但您需要确保您的线程始终正确退出 - 不会在任何异常时挂在内存中，关闭与数据库的连接等。

此外，为了监视您的应用程序，您可以每隔一段时间进行一次线程转储，以查看应用程序生成了多少线程。

另一个建议是[将 Tomcat 配置为在 OutOfMemoryError 上进行堆转储](https://stackoverflow.com/questions/5554341/set-a-jvm-to-dump-heap-when-outofmemoryerror-is-thrown)。如果这是一个问题，您将能够分析是什么填满了内存

# linux - 使用 i2c 读取 Edid - “ioctl” 与 “read”

> ID：16010906
> 
> 赞同：2
> 
> 时间：2013-04-15T08:36:49.670
> 
> 标签：linux, ubuntu, edid

伙计们，

我正在研究阅读 edid 代码的各种实现。

在一种实现中，我看到以下内容：

```
 err = ioctl(fd, I2C_SLAVE, 0x50);
 if (err == 0) {
     // ok to read.
     for(int i=0;i<128;i++) {
        buf[i] = i2c_smbus_read_byte_data(fd); // use ioctl to read 1 byte at a time
     }
 } 
```

在另一个实现中，我看到：

```
 err = ioctl(fd, I2C_SLAVE, 0x50);
 if (err == 0) {
     usleep(TIMEOUT); // sleep for a brief interval
     write(fd, &command, 1); // here, command[0] is 0
     usleep(TIMEOUT); // sleep for a brief interval
     read(fd, buf, 128);
 } 
```

第一个实现来自[http://www.polypux.org/projects/read-edid/](http://www.polypux.org/projects/read-edid/)，第二个来自 libXcm 实现。

我使用了第一个实现。我想知道第二种实现是否可以接受。

预先感谢您的帮助。

问候，
彼得

# c# - DataGrid 排序不起作用

> ID：16010907
> 
> 赞同：0
> 
> 时间：2013-04-15T08:36:51.593
> 
> 标签：c#, wpf, events, datagrid, styles

我有带有 DataGrid 的 MainWindow.xaml

```
<Grid>
    <DataGrid x:Name="dataGrid" Style="{StaticResource superDataGrid}" Sorting="DataGrid_Sorting_1"/>
</Grid> 
```

带有处理程序的 MainWindow.cs

```
 private void DataGrid_Sorting_1(object sender, DataGridSortingEventArgs e)
    {
        //handle stuff......
    } 
```

和 Style.xaml

```
<Style TargetType="DataGrid" x:Key="superDataGrid">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type DataGrid}">
                <DataGrid ItemsSource="{TemplateBinding DataGrid.ItemsSource}"/>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

因此，在应用“superDataGrid”样式事件处理程序后，DataGrid_Sorting_1 不再起作用（调用）。我认为 ControlTemplate 会覆盖父事件处理程序。

如何将父排序事件处理程序设置为 Style.ControlTemplate ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T10:46:57.310

“排序”事件由包含在您的 Style 中的 DataGrid 引发，但不是由应用 Style 的 DataGrid 引发。只需将“排序”事件处理程序添加到您的样式中的 DataGrid，它应该可以工作。

# opencv - OpenCV Exposure Compensator类的意义

> ID：16010908
> 
> 赞同：2
> 
> 时间：2013-04-15T08:36:54.753
> 
> 标签：opencv, image-processing

嗨，我想独立使用曝光补偿器类。有谁知道输入参数后的含义？

```
compensator->feed(corners, images, masks); 
```

例如，当我拼接两个图像时，我得到了两个角：

角球 #0 : [-270, 325]

角球 #1 : [-86, 327]

左上角怎么可能是负值？什么意思？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-14T15:59:52.180

最后我说清楚。它只是 BIG 地图中图像的左上角。由于这个类是专门针对图像[拼接](http://docs.opencv.org/modules/stitching/doc/stitching.html)的，所以在配准后，扭曲的图像可以有不同的位置。

只需用于两个准备好的（扭曲的）图像，给两个角 [0, 0] 就可以了。

# c# - 上下按箭头键时将焦点设置在 DataGridViewCombobox 上

> ID：16010909
> 
> 赞同：0
> 
> 时间：2013-04-15T08:36:56.007
> 
> 标签：c#, asp.net, winforms, datagridviewcombobox

我有一个datagridview，其中有三列。实际上这是一个数据处理应用程序，这就是为什么我要使用键盘（最少使用鼠标）代码如下[code languge="csharp"]

```
 private void Form2_Load(object sender, EventArgs e)
        {
            DataTable odt = new DataTable();
            DataColumn odc = new DataColumn();
            DataColumn odcSec = new DataColumn();
            DataColumn odcThird = new DataColumn();
            DataColumn odcForth = new DataColumn();
            odc.ColumnName = "Class";
            odt.Columns.Add(odc);
            odcSec.ColumnName = "Subject Name";
            odt.Columns.Add(odcSec);
            odcThird.ColumnName = "Grade";
            odt.Columns.Add(odcThird);
            odcForth.ColumnName = "GradeCollection";
            odt.Columns.Add(odcForth);
            DataRow odr = odt.NewRow();
            odr["Class"] = "FYBA";
            odr["Subject Name"] = "Hindi";
            odr["Grade"] = "A";
            odr["GradeCollection"] = "A,B,C,D,E";
            odt.Rows.Add(odr);
            DataRow odrFirst = odt.NewRow();
            odrFirst["Class"] = "SYBA";
            odrFirst["Subject Name"] = "English";
            odrFirst["Grade"] = "B";
            odrFirst["GradeCollection"] = "A,B,C,D,E";
            odt.Rows.Add(odrFirst);
            DataRow odrSecond = odt.NewRow();
            odrSecond["Class"] = "SYBA";
            odrSecond["Subject Name"] = "English";
            odrSecond["Grade"] = "C";
            odrSecond["GradeCollection"] = "A,B,C,D,E";
            odt.Rows.Add(odrSecond);
            DataRow odrThird = odt.NewRow();
            odrThird["Class"] = "TYBA";
            odrThird["Subject Name"] = "Marathi";
            odrThird["Grade"] = "D";
            odrThird["GradeCollection"] = "A,B,C,D,E";
            odt.Rows.Add(odrThird);
            DataRow odrForth = odt.NewRow();
            odrForth["Class"] = "FYBA";
            odrForth["Subject Name"] = "Telagu";
            odrForth["Grade"] = "E";
            odrForth["GradeCollection"] = "A,B,C,D,E";
            odt.Rows.Add(odrForth);
            if (odt != null && odt.Rows.Count > 0)
            {
            DataGridViewTextBoxColumn txtClass = new DataGridViewTextBoxColumn();
            txtClass.HeaderText = "Class";
            txtClass.MaxInputLength = 20;
            txtClass.Width = 70;
            txtClass.Name = "Class";
            kryptonDataGridView1.Columns.Add(txtClass);

            DataGridViewTextBoxColumn txtSubjectName = new DataGridViewTextBoxColumn();
            txtSubjectName.HeaderText = "SubjectName";
            txtSubjectName.MaxInputLength = 20;
            txtSubjectName.Width = 70;
            txtSubjectName.Name = "SubjectName";           
            kryptonDataGridView1.Columns.Add(txtSubjectName);

            DataGridViewComboBoxColumn comboboxColumn = new DataGridViewComboBoxColumn();
            comboboxColumn.HeaderText = "Grade";
            comboboxColumn.DropDownWidth = 160;
            comboboxColumn.Width = 90;
            comboboxColumn.MaxDropDownItems = 3;
            comboboxColumn.FlatStyle = FlatStyle.Flat;              
            kryptonDataGridView1.TabStop = true;
            kryptonDataGridView1.Focus();
            kryptonDataGridView1.Columns.Insert(2, comboboxColumn);
            for (int i = 0; i < odt.Rows.Count; ++i)
            {
                string[] row1 = new string[] { odt.Rows[i]["Class"].ToString(), odt.Rows[i]["Subject Name"].ToString() };
                kryptonDataGridView1.Rows.Add(row1);
                string sItemNames = odt.Rows[i]["GradeCollection"].ToString();                  
                char[] charArray = new char[] { ',' };
                string[] sItemNameArray = sItemNames.Split(charArray, StringSplitOptions.RemoveEmptyEntries);                  
                DataTable dt = new DataTable();
                DataColumn dc1 = new DataColumn("Name");               
                dt.Columns.Add(dc1);              
                DataRow odrinner = dt.NewRow();
                odrinner["Name"] = "--Select--";
                dt.Rows.Add(odrinner);
                foreach (string item in sItemNameArray)
                {
                    dt.Rows.Add(item);
                }
                comboboxColumn.DataSource = dt;
                comboboxColumn.DisplayMember = "Name";                    
                if (!string.IsNullOrEmpty(odt.Rows[i]["Grade"].ToString()))
                {
                    kryptonDataGridView1.Rows[i].Cells[2].Value = odt.Rows[i]["Grade"].ToString();
                }
                else
                {
                    comboboxColumn.DefaultCellStyle.NullValue = "--Select--";
                }
            }
        }                       
    } 
```

[/代码]

现在我想使用箭头键和输入键来选择组合框但是当我按下箭头键然后焦点转到下一行组合框列时，它没有选择那个特定的组合框。同样当我使用输入键然后焦点转到下一列。我希望当我按下回车键或箭头键时，它会选择组合框（意味着焦点应该在组合框上），这样我就可以从该组合框中选择项目而无需空格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T23:27:45.923

您可以使用以下代码：

```
 private void kryptonDataGridView1_CellEnter(object sender, 
                                                DataGridViewCellEventArgs e)
    {
        if (e.ColumnIndex == 2)
        {
            kryptonDataGridView1.BeginEdit(true);
        }
    } 
```

# android - 在 Android 相机中拍摄的照片比预期的要小

> ID：16010911
> 
> 赞同：2
> 
> 时间：2013-04-15T08:37:10.157
> 
> 标签：android

我创建了自己的控制器来使用 android 相机拍照。我的问题是输出显示的图像比预期的要小。我检查了我的位图的宽度和高度，如下所示：

```
int w = bmp.getWidth();
int h = bmp.getHeight(); 
```

这个输出`w = 480`，`h = 640`我假设是像素大小。这是我的拍照方法

```
public void takePicture() {
        Log.i("Camera View: ", "Take Picture");
        camera.takePicture(null, null, new PictureCallback() {
            @Override
            public void onPictureTaken(byte[] data, Camera camera) {
                if (null != callback) {
                    callback.onJpegPictureTaken(data, camera);

                }
            }
        });
 } 
```

我`Activity`订阅此活动的地方`onJpegPictureTaken`

```
 @Override
    public void onJpegPictureTaken(byte[] data, Camera camera) {
        Intent i = new Intent(this, ImageEditing.class);
        i.putExtra("image", data);
        startActivity(i);
    } 
```

这样做的目的是启动一个新`Activity`的以编辑图像，如缩放和拖动。这个 ImageEditing.class 得到这样的图片：

```
flipped = flipByteArrayNintyDegress(getIntent().getExtras()
                .getByteArray("image"));

        Bitmap bmp = BitmapFactory.decodeByteArray(flipped, 0, flipped.length);
        image = (ImageView) findViewById(R.id.imageView1);
        image.setImageBitmap(bmp);
        image.setOnTouchListener(this); 
```

我首先认为`ImageView`由于 的高度和宽度，我有一些限制`ImageView`，但事实并非如此。这是布局 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scaleType="matrix"/>

</FrameLayout> 
```

这是我捕获图像时的结果

![在此处输入图像描述](https://i.stack.imgur.com/VE78O.png) 有人知道这里发生了什么吗？为什么要缩放图像？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T08:43:12.780

`data`返回的 to旨在`onJpegPictureTaken()`作为缩略图表示。您收到[Camera.Parameters](http://developer.android.com/reference/android/hardware/Camera.Parameters.html)`getSupportedJpegThumbnailSizes()`报告的尺寸之一。您的相机中没有足够的堆内存来通过数组发送整个全分辨率图像，甚至压缩/编码为 Jpeg 图像。因此，发送缩略图是一种快速预览结果的方式。您必须找到图像的存储位置才能以全分辨率访问它。`byte[]`

此外，即使那样，您也必须使用比例因子打开它，`BitmapFactory.Options`以便将其记忆为`Bitmap`.

还要检查`setPictureSize()`Camera.Parameters[并](http://developer.android.com/reference/android/hardware/Camera.Parameters.html)检查可用的支持尺寸`getSupportedPictureSizes()`。

* * *

**让 Android 为您拍照**：

`Activity`您可以使用以下示例使 Android 系统相机应用程序拍摄全分辨率照片并返回给您：[允许用户为图像选择相机或图库](https://stackoverflow.com/questions/4455558/allow-user-to-select-camera-or-gallery-for-image/12347567#12347567)。您`Activity`将可以访问相机捕获的全分辨率保存的图像文件。

为了以全分辨率翻转或旋转此图像（无法以该大小打开为 a `Bitmap`），您可以修改描述 AFine 转换的 EXIF 数据。这不会修改实际的像素数据，但会改变它在大多数系统上的显示方式。在这个站点上有几个如何读写 EXIF 数据的示例，但我目前没有可用的代码示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T08:45:27.107

那么flipByteArrayNintyDegress的实现呢？

/亚龙

# java - @FormDataParam 抛出严重：缺少依赖项并且不允许部署

> ID：16010913
> 
> 赞同：1
> 
> 时间：2013-04-15T08:37:11.907
> 
> 标签：java, deployment, upload, dependencies

我正在尝试上传文件，但使用`@FormDataParam`不允许应用程序部署。感兴趣的代码如下：

```
@POST
@Path("sync")
public String callServletSyncPost (
        @PathParam("tapschema") String tapschema,
        @FormParam("REQUEST") String request,
        @FormParam("LANG") String lang,
        @FormParam("QUERY") String query,
        @FormParam("UPLOAD") String upload,
        //@FormDataParam("file") File fileUpload
        @FormDataParam("file") InputStream fileUpload,
        @FormDataParam("file") FormDataContentDisposition fileDetail
        )
        throws Exception { 
```

我在项目中添加了以下库：

*   asm-3.1.jar

*   杰克逊核心asl-1.1.1.jar

*   jersey-client-1.2.jar

*   jersey-core-1.2.jar

*   jersey-json-1.2.jar

*   jersey-server-1.2.jar

*   抛弃-1.1.jar

*   jsr311-api-1.1.1.jar

*   mimepull.jar

*   jersey-multipart.jar

我也尝试添加`jersey-bundle-1.2.jar`库，但应用程序未部署。

在 Glassfish 3.1 日志页面中有以下日志：

`The following errors and warnings have been detected with resource and/or provider classes: SEVERE: Missing dependency for method public java.lang.String it.inaf.oats.ia2.tap.implementation.TapRestImpl.callServletSyncPost(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.io.File) throws java.lang.Exception at parameter at index 5 SEVERE: Missing dependency for method public java.lang.String it.inaf.oats.ia2.tap.implementation.TapRestImpl.callServletSyncPost(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.io.File) throws java.lang.Exception at parameter at index 5 SEVERE: Method, public java.lang.String it.inaf.oats.ia2.tap.implementation.TapRestImpl.callServletSyncPost(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.io.File) throws java.lang.Exception, annotated with POST of resource, class it.inaf.oats.ia2.tap.implementation.TapRestImpl, is not recognized as valid resource method.`

有人能告诉我为什么应用程序没有部署以及如何解决这个问题吗？提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-14T10:48:51.870

如果你的函数返回 smth(fe json) 你应该添加

```
@Produces(MediaType.APPLICATION_JSON) 
```

和参数

```
@Consumes(MediaType.MULTIPART_FORM_DATA) 
```

# php - PhpStorm 和 EasyPhp

> ID：16010914
> 
> 赞同：3
> 
> 时间：2013-04-15T08:37:15.533
> 
> 标签：php, phpstorm, easyphp

我刚开始使用 StormPhp，我想使用 EasyPhp，每当我想运行应用程序时，它都会要求我编辑配置，然后我得到一个

> 错误：“未安装 PHP 解释器。按“修复”编辑您的项目配置”。

我试着自己配置它，我把：

```
PHP Home : C:\Program Files (x86)\EasyPHP-12.1\apache\bin 
Include path : C:\Program Files (x86)\EasyPHP-12.1\ 
```

但我仍然得到“PHP版本：未安装”

![在此处输入图像描述](https://i.stack.imgur.com/bM37F.png)

# node.js - 在 Node.js 中解析巨大的日志文件 - 逐行读取

> ID：16010915
> 
> 赞同：141
> 
> 时间：2013-04-15T08:37:20.973
> 
> 标签：node.js, parsing, logfile-analysis

我需要对 Javascript/Node.js 中的大型（5-10 Gb）日志文件进行一些解析（我正在使用 Cube）。

日志线看起来像：

```
10:00:43.343423 I'm a friendly log message. There are 5 cats, and 7 dogs. We are in state "SUCCESS". 
```

我们需要读取每一行，进行一些解析（例如`5`，剥离`7`和），然后使用他们的 JS 客户端`SUCCESS`将这些数据泵入 Cube（[https://github.com/square/cube ）。](https://github.com/square/cube)

首先，Node 中逐行读取文件的规范方式是什么？

这似乎是网上相当普遍的问题：

*   [http://www.quora.com/What-is-the-best-way-to-read-a-file-line-by-line-in-node-js](http://www.quora.com/What-is-the-best-way-to-read-a-file-line-by-line-in-node-js)
*   [在node.js中一次读取一行文件？](https://stackoverflow.com/questions/6156501/read-a-file-one-line-at-a-time-in-node-js)

很多答案似乎都指向一堆第三方模块：

*   [https://github.com/nickewing/line-reader](https://github.com/nickewing/line-reader)
*   [https://github.com/jahewson/node-byline](https://github.com/jahewson/node-byline)
*   [https://github.com/pkrumins/node-lazy](https://github.com/pkrumins/node-lazy)
*   [https://github.com/Gagle/Node-BufferedReader](https://github.com/Gagle/Node-BufferedReader)

然而，这似乎是一项相当基本的任务——当然，在标准库中有一种简单的方法可以逐行读取文本文件？

其次，我需要处理每一行（例如将时间戳转换为日期对象，并提取有用的字段）。

做到这一点的最佳方法是什么，最大限度地提高吞吐量？是否有某种方式不会阻止读取每一行或将其发送到 Cube？

第三 - 我猜测使用字符串拆分，JS 等价于 contains (IndexOf != -1?) 会比正则表达式快很多？有没有人在解析 Node.js 中的大量文本数据方面有丰富的经验？

干杯，维克多

* * *

## 回答 #1

> 赞同：236
> 
> 时间：2014-05-16T13:12:54.073

我搜索了一种使用流逐行解析非常大文件 (gbs) 的解决方案。所有第三方库和示例都不适合我的需要，因为它们不是逐行处理文件（如 1 、 2 、 3 、 4 ..）或将整个文件读入内存

以下解决方案可以使用流和管道逐行解析非常大的文件。为了测试，我使用了一个包含 17.000.000 条记录的 2.1 gb 文件。Ram 使用量不超过 60 mb。

首先，安装[event-stream](https://www.npmjs.com/package/event-stream)包：

```
npm install event-stream 
```

然后：

```
var fs = require('fs')
    , es = require('event-stream');

var lineNr = 0;

var s = fs.createReadStream('very-large-file.csv')
    .pipe(es.split())
    .pipe(es.mapSync(function(line){

        // pause the readstream
        s.pause();

        lineNr += 1;

        // process line here and call s.resume() when rdy
        // function below was for logging memory usage
        logMemoryUsage(lineNr);

        // resume the readstream, possibly from a callback
        s.resume();
    })
    .on('error', function(err){
        console.log('Error while reading file.', err);
    })
    .on('end', function(){
        console.log('Read entire file.')
    })
); 
```

![在此处输入图像描述](https://i.stack.imgur.com/5IBKS.png)

请告诉我进展如何！

* * *

## 回答 #2

> 赞同：82
> 
> 时间：2013-04-15T10:44:50.143

您可以使用内置包，请参阅[此处](http://nodejs.org/api/readline.html)`readline`的文档。我使用[流](http://nodejs.org/api/stream.html)创建一个新的输出流。

```
var fs = require('fs'),
    readline = require('readline'),
    stream = require('stream');

var instream = fs.createReadStream('/path/to/file');
var outstream = new stream;
outstream.readable = true;
outstream.writable = true;

var rl = readline.createInterface({
    input: instream,
    output: outstream,
    terminal: false
});

rl.on('line', function(line) {
    console.log(line);
    //Do your stuff ...
    //Then write to outstream
    rl.write(cubestuff);
}); 
```

大文件需要一些时间来处理。告诉它是否有效。

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2016-03-11T10:47:05.997

我真的很喜欢[@gerard 的](https://stackoverflow.com/users/494601/gerard)答案，这实际上应该是这里的正确答案。我做了一些改进：

*   代码在一个类中（模块化）
*   包括解析
*   如果有异步作业被链接到读取 CSV（如插入 DB 或 HTTP 请求），则可以向外部提供恢复功能
*   读取用户可以声明的块/批量大小。我也处理了流中的编码，以防您有不同编码的文件。

这是代码：

```
'use strict'

const fs = require('fs'),
    util = require('util'),
    stream = require('stream'),
    es = require('event-stream'),
    parse = require("csv-parse"),
    iconv = require('iconv-lite');

class CSVReader {
  constructor(filename, batchSize, columns) {
    this.reader = fs.createReadStream(filename).pipe(iconv.decodeStream('utf8'))
    this.batchSize = batchSize || 1000
    this.lineNumber = 0
    this.data = []
    this.parseOptions = {delimiter: '\t', columns: true, escape: '/', relax: true}
  }

  read(callback) {
    this.reader
      .pipe(es.split())
      .pipe(es.mapSync(line => {
        ++this.lineNumber

        parse(line, this.parseOptions, (err, d) => {
          this.data.push(d[0])
        })

        if (this.lineNumber % this.batchSize === 0) {
          callback(this.data)
        }
      })
      .on('error', function(){
          console.log('Error while reading file.')
      })
      .on('end', function(){
          console.log('Read entirefile.')
      }))
  }

  continue () {
    this.data = []
    this.reader.resume()
  }
}

module.exports = CSVReader 
```

所以基本上，这里是你将如何使用它：

```
let reader = CSVReader('path_to_file.csv')
reader.read(() => reader.continue()) 
```

我用一个 35GB 的 CSV 文件对此进行了测试，它对我有用，这就是为什么我选择在 [@gerard](https://stackoverflow.com/users/494601/gerard)的答案上构建它，欢迎提供反馈。

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2016-07-11T10:58:28.657

我使用[https://www.npmjs.com/package/line-by-line](https://www.npmjs.com/package/line-by-line)从文本文件中读取超过 1 000 000 行。在这种情况下，RAM 的占用容量约为 50-60 兆字节。

```
 const LineByLineReader = require('line-by-line'),
    lr = new LineByLineReader('big_file.txt');

    lr.on('error', function (err) {
         // 'err' contains error object
    });

    lr.on('line', function (line) {
        // pause emitting of lines...
        lr.pause();

        // ...do your asynchronous line processing..
        setTimeout(function () {
            // ...and continue emitting lines.
            lr.resume();
        }, 100);
    });

    lr.on('end', function () {
         // All lines are read, file is closed now.
    }); 
```

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2019-08-29T04:19:26.510

Node.js 文档提供了一个非常优雅的使用 Readline 模块的示例。

[示例：逐行读取文件流](https://nodejs.org/api/readline.html#readline_example_read_file_stream_line_by_line)

```
const fs = require('fs');
const readline = require('readline');

const rl = readline.createInterface({
    input: fs.createReadStream('sample.txt'),
    crlfDelay: Infinity
});

rl.on('line', (line) => {
    console.log(`Line from file: ${line}`);
}); 
```

> 注意：我们使用 crlfDelay 选项将 CR LF ('\r\n') 的所有实例识别为单个换行符。

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2017-09-28T08:42:11.080

除了逐行读取大文件外，您还可以逐块读取它。更多参考[这篇文章](http://www.scriptol.com/javascript/node-readline.php)

```
var offset = 0;
var chunkSize = 2048;
var chunkBuffer = new Buffer(chunkSize);
var fp = fs.openSync('filepath', 'r');
var bytesRead = 0;
while(bytesRead = fs.readSync(fp, chunkBuffer, 0, chunkSize, offset)) {
    offset += bytesRead;
    var str = chunkBuffer.slice(0, bytesRead).toString();
    var arr = str.split('\n');

    if(bytesRead = chunkSize) {
        // the last item of the arr may be not a full line, leave it to the next chunk
        offset -= arr.pop().length;
    }
    lines.push(arr);
}
console.log(lines); 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2014-01-06T08:02:27.100

我有同样的问题。对比了几个貌似有这个功能的模块后，我决定自己做，比我想象的要简单。

要点：[https ://gist.github.com/deemstone/8279565](https://gist.github.com/deemstone/8279565)

```
var fetchBlock = lineByline(filepath, onEnd);
fetchBlock(function(lines, start){ ... });  //lines{array} start{int} lines[0] No. 
```

它覆盖了在闭包中打开的文件，`fetchBlock()`返回的文件将从文件中获取一个块，结束拆分为数组（将处理上次获取的段）。

我已将每个读取操作的块大小设置为 1024。这个可能有bug，但是代码逻辑很明显，你自己试试。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-04-15T10:49:06.723

node-byline 使用流，所以我更喜欢你的大文件。

对于您的日期转换，我会使用[moment.js](http://momentjs.com/)。

为了最大化您的吞吐量，您可以考虑使用软件集群。有一些不错的模块很好地包装了节点原生集群模块。我喜欢isaacs[的cluster-master](https://npmjs.org/package/cluster-master)。例如，您可以创建一个由 x 个工作人员组成的集群，它们都计算一个文件。

对于基准拆分与正则表达式，请使用[benchmark.js](http://benchmarkjs.com)。直到现在我还没有测试过它。benchmark.js 可作为节点模块使用

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-02-03T10:24:10.710

基于[这个](https://stackoverflow.com/questions/7545147/nodejs-synchronization-read-large-file-line-by-line)问题的答案，我实现了一个类，您可以使用它来逐行同步读取文件`fs.readSync()`。您可以通过使用`Q`承诺来进行此“暂停”和“恢复”（`jQuery`似乎需要一个 DOM，因此无法运行它`nodejs`）：

```
var fs = require('fs');
var Q = require('q');

var lr = new LineReader(filenameToLoad);
lr.open();

var promise;
workOnLine = function () {
    var line = lr.readNextLine();
    promise = complexLineTransformation(line).then(
        function() {console.log('ok');workOnLine();},
        function() {console.log('error');}
    );
}
workOnLine();

complexLineTransformation = function (line) {
    var deferred = Q.defer();
    // ... async call goes here, in callback: deferred.resolve('done ok'); or deferred.reject(new Error(error));
    return deferred.promise;
}

function LineReader (filename) {      
  this.moreLinesAvailable = true;
  this.fd = undefined;
  this.bufferSize = 1024*1024;
  this.buffer = new Buffer(this.bufferSize);
  this.leftOver = '';

  this.read = undefined;
  this.idxStart = undefined;
  this.idx = undefined;

  this.lineNumber = 0;

  this._bundleOfLines = [];

  this.open = function() {
    this.fd = fs.openSync(filename, 'r');
  };

  this.readNextLine = function () {
    if (this._bundleOfLines.length === 0) {
      this._readNextBundleOfLines();
    }
    this.lineNumber++;
    var lineToReturn = this._bundleOfLines[0];
    this._bundleOfLines.splice(0, 1); // remove first element (pos, howmany)
    return lineToReturn;
  };

  this.getLineNumber = function() {
    return this.lineNumber;
  };

  this._readNextBundleOfLines = function() {
    var line = "";
    while ((this.read = fs.readSync(this.fd, this.buffer, 0, this.bufferSize, null)) !== 0) { // read next bytes until end of file
      this.leftOver += this.buffer.toString('utf8', 0, this.read); // append to leftOver
      this.idxStart = 0
      while ((this.idx = this.leftOver.indexOf("\n", this.idxStart)) !== -1) { // as long as there is a newline-char in leftOver
        line = this.leftOver.substring(this.idxStart, this.idx);
        this._bundleOfLines.push(line);        
        this.idxStart = this.idx + 1;
      }
      this.leftOver = this.leftOver.substring(this.idxStart);
      if (line !== "") {
        break;
      }
    }
  }; 
} 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-10-28T06:22:11.383

**使用带有本机 nodejs 模块 ( **fs, readline ) 的流****读取/写入文件**：**

 **```
const fs = require('fs');
const readline = require('readline');

const rl = readline.createInterface({
                                       input:  fs.createReadStream('input.json'),
                                       output: fs.createWriteStream('output.json')
                                    });

rl.on('line', function(line) {
    console.log(line);

    // Do any 'line' processing if you want and then write to the output file
    this.output.write(`${line}\n`);
});

rl.on('close', function() {
    console.log(`Created "${this.output.path}"`);
}); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-04-30T13:12:43.493

```
import * as csv from 'fast-csv';
import * as fs from 'fs';
interface Row {
  [s: string]: string;
}
type RowCallBack = (data: Row, index: number) => object;
export class CSVReader {
  protected file: string;
  protected csvOptions = {
    delimiter: ',',
    headers: true,
    ignoreEmpty: true,
    trim: true
  };
  constructor(file: string, csvOptions = {}) {
    if (!fs.existsSync(file)) {
      throw new Error(`File ${file} not found.`);
    }
    this.file = file;
    this.csvOptions = Object.assign({}, this.csvOptions, csvOptions);
  }
  public read(callback: RowCallBack): Promise < Array < object >> {
    return new Promise < Array < object >> (resolve => {
      const readStream = fs.createReadStream(this.file);
      const results: Array < any > = [];
      let index = 0;
      const csvStream = csv.parse(this.csvOptions).on('data', async (data: Row) => {
        index++;
        results.push(await callback(data, index));
      }).on('error', (err: Error) => {
        console.error(err.message);
        throw err;
      }).on('end', () => {
        resolve(results);
      });
      readStream.pipe(csvStream);
    });
  }
} 
```

```
import { CSVReader } from '../src/helpers/CSVReader';
(async () => {
  const reader = new CSVReader('./database/migrations/csv/users.csv');
  const users = await reader.read(async data => {
    return {
      username: data.username,
      name: data.name,
      email: data.email,
      cellPhone: data.cell_phone,
      homePhone: data.home_phone,
      roleId: data.role_id,
      description: data.description,
      state: data.state,
    };
  });
  console.log(users);
})(); 
```

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2016-06-25T08:35:02.913

我制作了一个节点模块来异步读取大文件文本或 JSON。在大文件上测试。

```
var fs = require('fs')
, util = require('util')
, stream = require('stream')
, es = require('event-stream');

module.exports = FileReader;

function FileReader(){

}

FileReader.prototype.read = function(pathToFile, callback){
    var returnTxt = '';
    var s = fs.createReadStream(pathToFile)
    .pipe(es.split())
    .pipe(es.mapSync(function(line){

        // pause the readstream
        s.pause();

        //console.log('reading line: '+line);
        returnTxt += line;        

        // resume the readstream, possibly from a callback
        s.resume();
    })
    .on('error', function(){
        console.log('Error while reading file.');
    })
    .on('end', function(){
        console.log('Read entire file.');
        callback(returnTxt);
    })
);
};

FileReader.prototype.readJSON = function(pathToFile, callback){
    try{
        this.read(pathToFile, function(txt){callback(JSON.parse(txt));});
    }
    catch(err){
        throw new Error('json file is not valid! '+err.stack);
    }
}; 
```

只需将文件保存为 file-reader.js，然后像这样使用它：

```
var FileReader = require('./file-reader');
var fileReader = new FileReader();
fileReader.readJSON(__dirname + '/largeFile.json', function(jsonObj){/*callback logic here*/}); 
```**

# jquery - jQuery ajax post 什么都不返回

> ID：16010916
> 
> 赞同：0
> 
> 时间：2013-04-15T08:37:21.877
> 
> 标签：jquery, ajax, post

我正在进行以下 AJAX 调用，试图通过 AWeber 向客户的时事通讯添加新的潜在客户。即使没有任何 POST 数据，您也可以导航到`http://www.aweber.com/scripts/addlead.pl`HTML 错误消息，但我发现它`responseText`完全是空白的。任何想法为什么会这样？

```
 $.ajax({
    type: 'POST',
    url: 'http://www.aweber.com/scripts/addlead.pl',
    dataType: 'html',
    data: {
      meta_web_form_id: '123456',
      meta_split_id: '',
      listname: 'newsletter',
      redirect: '',
      meta_adtracking: 'custom',
      meta_message: '1',
      meta_required: 'name,email',
      meta_tooltip: '',
      name: $('#name').val(),
      email: $('#email').val(),
    },
    success: function(data) {
      alert(data.responseText);
    },
    error: function(data) {
      alert(JSON.stringify(data, ));
    }
  }); 
```

错误警报产生以下内容：

```
{"readyState":0,"responseText":"","status":0,"statusText":"error"} 
```

**更新**

如果我将 更新`dataType`为`jsonp`，则 {readyState:4,status:200,"statusText:"success"}"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:05:59.087

您遇到了跨域 AJAX 问题。JSONP 可以是 HTTP/GET 的解决方法（前提是服务器支持它），但不适用于 HTTP/POST ——这是您正在尝试做的。

您会让您自己的服务器执行该请求（到 www.aweber.com），然后通过 AJAX 将响应交给您。

# java - 从单词中读取字符？爪哇

> ID：16010920
> 
> 赞同：7
> 
> 时间：2013-04-15T08:37:29.823
> 
> 标签：java, character, bufferedreader

我正在尝试从单词中获取字符或字母。

例如：

```
input = "apple"
output = "a", "p", "p", "l", "e" 
```

但是，我正在使用该`BufferedReader`课程。有什么方法可以读取字符`BufferedReader`吗？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-15T08:45:00.223

```
String input = "apple";
char[] arr = input.toCharArray();
System.out.println(Arrays.toString(arr)); 
```

输出：

```
[a, p, p, l, e] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T08:38:52.667

的`read()`方法`BufferedReader`给你一个单一的字符。

看看[这个](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28%29)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:39:19.510

您可以将 a 传递给`char[]`该`read`方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-15T08:41:46.300

您可以使用每次返回单个字符的[int read()](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html#read%28%29)方法。`BufferedReader`如下：

```
BufferedReader  br =  ... 
int value=0;

// reads to the end of the stream 
while((value = br.read()) != -1)
   {
     // converts int to character
     char c = (char)value;

     // prints character
     System.out.println(c);
   } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-15T08:42:52.153

最简单的方法是将输入转换为 char 数组。您的缓冲阅读器读取一行，将其拆分为单词，`.split("delim")`然后转换每个单词。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-15T09:02:44.250

您可以`read()`在`BufferedReader`课堂上使用或使用`toCharArray()`方法。两者都可以使用。

```
String input="Apple";
BufferedReader br=BufferedReader.read(input);

or
char in=input.toCharArray(); 
```

# google-apps-script - Google-apps 脚本：在 getValues 中删除带有字符串的行

> ID：16010921
> 
> 赞同：0
> 
> 时间：2013-04-15T08:37:38.550
> 
> 标签：google-apps-script

我使用一个函数来检查列的长度并在每个单元格中插入唯一 ID。

```
var sh = SpreadsheetApp.getActiveSheet();
var dataincol = sh.getRange(1,8,sh.getMaxRows(),1).getValues(); //getRange row, column, numRows, numColumns
//thanks to Serge insas 
```

我的问题是 getValues() 也接受字符串，我不打算这样做，而且我不知道如何从我的 Range 中过滤字符串。dataincol 应该只使用空闲单元格，忽略字符串并继续增加数字。

在这里你可以看到完整的功能：

```
function fillRowNumber(){
  var col = 1 ; // this for column A ! change to your needs
  var sh = SpreadsheetApp.getActiveSheet();
  var dataincol = sh.getRange(1,col,sh.getMaxRows(),1).getValues();
  var maxval =0
  for(n=0;n<dataincol.length;++n){
    if(Number(dataincol[n][0])>maxval){ maxval=Number(dataincol[n][0])}
    }
  for(n=1;n<sh.getLastRow();++n){
    if(dataincol[n-1][0] == ''){ dataincol[n-1][0]=maxval+1;++maxval}
    }
  sh.getRange(1,col,sh.getMaxRows(),1).setValues(dataincol);
} 
```

感谢您的任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T09:45:47.117

我经常使用的两个数字验证是​​：`parseInt(val) == val`哪个是值检查，`val.toString().match(/[0-9\-\.]/i) > -1)`哪个是字符串检查。

在下面的代码中，我使用了数组函数，而不是双 for{} 循环。For 循环也可以，我只是更喜欢 EC5 中的数组函数。

首先在列中构建一个仅包含数值的数组（保留索引以防您想将其用于其他任何内容 - 替代方法是过滤掉非数值）

其次修改 dataincol 以用递增的 maxval 填充空白。

```
function fillRowNumber(){
  var col = 1;
  var sh = SpreadsheetApp.getActiveSheet();
  var dataincol = sh.getRange(1, col, sh.getMaxRows(), 1).getValues();
  var maxval = 0;

  var map = dataincol.map(function(row) { 
    // fill an array with numbers where numbers exist in data otherwise 0
    return (parseInt(row[0],10) == row[0]) ? row[0] * (row[0].toString().match(/[0-9\-\.]/i) > -1) : 0;
  });

  maxval = Math.max.apply(Math, map); // Mathmatical maximum

  dataincol = dataincol.map(function(row, index) { 
    if (row[0] == '') {
      maxval += 1; // increment maximum value
      // if blank cell then add new maximum value
      return (row[0] == '') ? [maxval] : [row[0]]; // if you add [&& index < sh.getLastRow()] to the conditional it restricts it to the original range of used cells not the maximum
    } else {
      // leave cell intact
      return [row[0]];
    }
  });

  sh.getRange(1, col, sh.getMaxRows(), 1).setValues(dataincol);
} 
```

我不清楚您是想继续为整个工作表添加最大值还是仅在原始输入数据的范围内添加最大值。尝试我在代码注释中记下的替代方案`line 18`

# javascript - 第一次实现模块模式变量未定义

> ID：16010922
> 
> 赞同：0
> 
> 时间：2013-04-15T08:37:39.083
> 
> 标签：javascript, module-pattern

这是我的代码

```
 var s;
var AddEvent =  {
    settings : {
        saveButton : $('#uploadfiles1'),
        cancelSpeech :  $('.cancelSpeech'),
        datePicker : $(".datepicker"),
        eventName : $('input[name=eventname]'),
        eventDate : $('input[name=eventdate]')
    },
    init:function(s){
        s = this.settings;
        this.BindEvents();
        $('.Wallpapers').addClass('active');
        $('input, textarea').placeholder();
    },
    BindEvents:function(){
        this.CancelButton();
        this.DatePicker();
       // this.SaveButton();
        $('input[type=text],textarea').on('keyup change',function(){
            AddEvent.FieldsCheck(); 
        });
    },
    CancelButton: function()
    {
        s.cancelSpeech.on('click',function(){
            var referrer =  document.referrer;
            window.location = referrer;
        });
    },
    DatePicker :function()
    {
        s.datePicker.datepicker({
            //defaultDate: +7,
            showOtherMonths: true,
            autoSize: true,
            //appendText: '(dd-mm-yyyy)',
            dateFormat: 'dd/mm/yy'
        });
    },
    SaveButton: function()
    {
        this.ClearFields();
    },
    FieldsCheck: function()
    {
        alert(s.eventName.attr('name'));
        if(s.eventName.val()!='' && s.eventDate.val() !='' && $('textarea').val()!='')
        {
            s.saveButton.removeAttr('disabled').removeClass('disabled');
        }
        else
            s.saveButton.attr('disabled','disabled').addClass('disabled');
    },
    ClearFields:function()
    {
        $('input,textarea').val('');
        this.FieldsCheck();
    }
};
$(function(){
    AddEvent.init(s);
}); 
```

我正在实现这个例子[http://css-tricks.com/how-do-you-structure-javascript-the-module-pattern-edition/](http://css-tricks.com/how-do-you-structure-javascript-the-module-pattern-edition/)

但是每次当我在这一行输入我的输入字段时，我都会在警报中得到未定义

```
alert(s.eventName.attr('name')); 
```

请告诉我我做错了什么我试图搜索但找不到任何有用的东西。

编辑：我在这里创建了一个小[jsfiddle](http://jsfiddle.net/Lp6rE/9/)

```
TypeError: this.settings is undefined
[Break On This Error]   

console.log(this.settings.eventName.attr('id')); 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T08:41:31.290

你的问题在这里：

```
var s;
AddEvent.init(s); 
```

这之后就没有办法了`s`定义。

一个解决方案是简单地不通过`s`（并且不在函数的参数中声明它）：

```
init:function(s){
    s = this.settings;
...
AddEvent.init(); 
```

但这会让变量污染全局命名空间。

如果您希望您`settings`的所有功能都可以访问，您可以嵌入到一个闭包中：

```
var AddEvent =  (function(){
    var settings;
    return {
        init:function(){
                settings = {
                        saveButton : $('#uploadfiles1'),
                        cancelSpeech :  $('.cancelSpeech'),
                        datePicker : $(".datepicker"),
                        eventName : $('input[name=eventname]'),
                        eventDate : $('input[name=eventdate]')
                };
            this.BindEvents();
            $('.Wallpapers').addClass('active');
            $('input, textarea').placeholder();
        },
        BindEvents:function(){
            this.CancelButton();
            this.DatePicker();
           // this.SaveButton();
            $('input[type=text],textarea').on('keyup change',function(){
                AddEvent.FieldsCheck(); 
            });
        },
        CancelButton: function()
        {
            settings.cancelSpeech.on('click',function(){
                var referrer =  document.referrer;
                window.location = referrer;
            });
        },
        DatePicker :function()
        {
            settings.datePicker.datepicker({
                //defaultDate: +7,
                showOtherMonths: true,
                autoSize: true,
                //appendText: '(dd-mm-yyyy)',
                dateFormat: 'dd/mm/yy'
            });
        },
        SaveButton: function()
        {
            this.ClearFields();
        },
        FieldsCheck: function()
        {
            alert(settings.eventName.attr('name'));
            if(settings.eventName.val()!='' && settings.eventDate.val() !='' && $('textarea').val()!='')
            {
                settings.saveButton.removeAttr('disabled').removeClass('disabled');
            }
            else
                settings.saveButton.attr('disabled','disabled').addClass('disabled');
        },
        ClearFields:function()
        {
            $('input,textarea').val('');
            this.FieldsCheck();
        }
    }
})();

$(function(){
    AddEvent.init();
}); 
```

# mysql - 什么是“mysql 客户端”？

> ID：16010931
> 
> 赞同：0
> 
> 时间：2013-04-15T08:37:52.223
> 
> 标签：mysql

好的，这可能是一个非常愚蠢的问题，但是请解释一下是什么`mysql client`意思？

例如一个连接到 MySQL 数据库的 PHP 文件，这是一个`mysql client`?

或 PHPMyAdmin，这也是一个`mysql client`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T08:40:17.083

MySQL客户端是连接到数据库并对其进行处理的东西。例如，您有一个连接到数据库并检索有关用户的信息的 php 代码。所以从技术上讲，这段代码是一个客户端，因为它创建了 mysql 查询。

# linux - 如果那时如何使用多个

> ID：16010932
> 
> 赞同：-4
> 
> 时间：2013-04-15T08:37:58.507
> 
> 标签：linux, scripting

如何使用 multipal if then elif and else，当脚本运行时它应该询问您要下载哪个版本。用户将输入所需的版本，然后下一个命令将根据参数。

```
echo "n Latrest version"

echo "p Previous version N-1"

echo -n "Which version you want to BackUP [n or p]? "

read Ver

if [ $Ver = n ]; then

echo `$n`

if [ $Ver = per ]; then

echo `$p`

echo "Coping BackUP File"

fi

fi 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:53:29.433

```
If [ conditional expression1 ]
then
statement1
statement2
.
elif [ conditional expression2 ]
then
statement3
statement4
.
.
.
else
statement5
fi 
```

# c# - c 中的 int** 和 c# 中的 int[][] 是一样的吗？

> ID：16010944
> 
> 赞同：2
> 
> 时间：2013-04-15T08:39:16.527
> 
> 标签：c#, c

我有一个用 C 编写的 DLL 文件。我尝试在我的 c# 代码中使用 C DLL。C 程序方法返回 int** 。c 中的 int** 和 c# 中的 int[][] 是一样的吗？

从 c 程序返回值时出现错误。

方法

```
__declspec(dllexport) int someMethod
    (
        size_t *foo, 
        int **bar
    ) 
    { 
        *foo = 10; 
        **bar = 10; 
    } 
```

我的 C# 代码

```
[DllImport(@"my.dll", CallingConvention = CallingConvention.Cdecl, SetLastError = true, BestFitMapping = true, EntryPoint = "someMethod")]
    public unsafe static extern int someMethod
    (
        out Int16 foo, 
        [MarshalAs(UnmanagedType.CustomMarshaler, MarshalTypeRef = typeof(JaggedArrayMarshaler))] 
        out int[][] bar
    ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:46:23.747

C`int**`和 C#`int[][]`在概念上相似，但在二进制级别上有所不同：

*   `int**`是一个指针，指向非托管堆内存中的原始数据。
*   `int[][]`是对托管数组的托管引用的托管引用；每个指向数组的标题（包含其长度）而不是其原始数据。

我不知道 C# 最容易编组什么。可以`SAFEARRAY`嵌套吗？如果是这样，它可能很容易映射到 C# 数组。

肯定有效的解决方案是使用 C++/CLI DLL 作为两个代码之间的粘合剂，在返回 C# 之前将其转换`int**`为 a （这涉及复制指向的数据）。`cli::array<cli::array<int>^>^`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T11:59:14.533

假设 C 函数原型是正确的，我认为您应该在 C# 端声明它：

```
public unsafe static extern int someMethod
(
    out Int16 foo, 
    [MarshalAs(UnmanagedType.LPArray, SizeParamIndex=0, ArraySubType=UnmanagedType.I2)] 
    out int[] bar
); 
```

但是，我担心内存泄漏。我不确定如何释放非托管数组。

# c++ - 来自 1 的数组，常见？

> ID：16010951
> 
> 赞同：0
> 
> 时间：2013-04-15T08:39:58.983
> 
> 标签：c++, arrays

`myarray[n+1]`我的老师通过使用 ( ) 开始数组并从上往下输入，从而不断从 1 开始数组`i=1`。

这是现实世界中的普遍做法吗？他一直在做一些其他奇怪的事情，但这是让我摸索的事情。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-15T08:41:37.610

不，这不是常见的做法。这通常被认为是不好的做法。

以语言设计的方式索引数组。如果您真的想从 1 开始索引，请使用 Matlab。询问老师他们为什么这样做（然后告诉他们不要这样做）可能对您有用。

数组元素总是以某种方式初始化。即使您只是忽略第 0 个元素，它仍然存在，并且会不必要地浪费内存。它的构造函数甚至可能会产生一些不需要的副作用。

当您希望它与标准库很好地配合时，您也会遇到很多麻烦。`std::vector<int> v(array, array+N)`突然之间，当您使用或创建向量时，您必须仔细考虑`std::vector<int> v(std::begin(array), std::end(array))`。与标准算法等类似。

如果您想要一个从 0 开始索引感到舒服的理由，请记住它只是一个偏移量。数组下标运算符`a[i]`等价于`*(a + i)`. 它基本上只是将指针`a`（可能通过一些转换检索）偏移`i`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T08:40:36.517

当然没有。C++ 中的数组从 0 开始，这很常见。而且，您还要为另一个不需要的元素付费，这在现实世界中并不好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:41:47.893

不是在 C++ 中，因为在 C++ 中，索引表示从为数组分配的内存块开始的偏移量。所以事实上，你的老师正在浪费一定数量的字节（取决于数组包含的内容）。

例如，它在 Lua 中使用，其中数组通常从 1 开始。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T08:50:31.093

在过去 20 年左右的时间里，我一直以 C 和 C++ 编程为生，但从未在我编写的任何代码中看到过这种情况。所以，不，这绝对不是常见的，甚至不是推荐的。这和其他人说的一样...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-15T12:10:27.117

C/C++ 方法是使用从 0 开始的数组索引。要深入讨论，请查看 Andrew Koenigs 关于不对称边界的优秀系列。[第1 部分](http://www.drdobbs.com/cpp/asymmetric-bounds-part-1-what-are-they/240001666)、第 2[部分](http://www.drdobbs.com/cpp/asymmetric-bounds-part-2-overrun-is-hard/240002031)、第 3[部分](http://www.drdobbs.com/cpp/asymmetric-bounds-part-3-generic-program/240002410)、[第 4 部分](http://www.drdobbs.com/cpp/asymmetric-bounds-part-4-pragmatic-advan/240002879)和第[5 部分](http://www.drdobbs.com/cpp/asymmetric-bounds-part-5-rules-of-thumb/240003169)。但是当数组以 0 开头时，有一些算法更容易描述。一种是[heapsort](https://stackoverflow.com/questions/13012291/array-index-in-heapsort)。

# c - 编写在服务器上运行的程序，请求有经验的建议

> ID：16010961
> 
> 赞同：7
> 
> 时间：2013-04-15T08:40:33.617
> 
> 标签：c

我正在开发一个需要在 Internet 服务器上运行的程序（一个供多个跨平台程序使用的后端组件）。我熟悉要采取的安全预防措施（例如，防止缓冲区溢出和 SQL 注入攻击），但以前从未编写过服务器程序，或任何将在这种规模上使用的程序。

该程序需要能够同时为成百上千的客户提供服务。这些协议旨在提高处理速度并最大限度地减少必须交换的数据量，并且服务器端将用 C 语言编写。Windows 和 Linux 版本都将使用相同的代码。

问题：

*   程序应该如何处理通信——多个线程，一个线程依次处理所有套接字，或者为每这么多传入连接（或每个连接）生成一个新进程？
*   我是否需要担心诸如内存碎片之类的事情，因为这个程序一次需要运行几个月？
*   对于此类编程，有哪些经验丰富的桌面和移动系统跨平台程序开发人员可能不知道其他设计问题？

请不要建议使用其他语言。那个决定已经做出了，因为我不能自由地说。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-15T08:57:55.777

因为我会使用[libevent](http://libevent.org/)或[libev](http://software.schmorp.de/pkg/libev.html)和非阻塞 I/O。这样，操作系统将处理您的大多数调度问题。我还会使用线程池来处理任务，这些任务本质上是阻塞的，所以它们不会阻塞主循环。如果您需要从磁盘读取或写入大量数据，请再次使用 mmap，让操作系统尽可能多地处理。

基本建议是尽可能使用操作系统。如果您想要一个很好的程序示例，请查看[Varnish](https://www.varnish-cache.org/)，它编写得非常好，并且性能出色。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-15T09:02:24.877

以我运行多台服务器超过 3 年的正常运行时间以及运行时间超过一年的程序的经验，我仍然可以建议进行设置，以便系统从程序错误和服务器重新启动中正常恢复。

即使重新启动程序时性能会受到影响，您也需要能够处理它，因为外部环境可能会强制程序重新启动。

不要在不需要时尝试重新发明轮子，并查看[zeromq](http://www.zeromq.org/)或类似的东西来处理传入通信的分配。（如果允许，使用比 C 语言（如 Python）更宽容的语言对后端进行原型设计，然后重新实现`C`但保留通信协议）

# gwt - 使用 GWT 链接 DOM 元素

> ID：16010966
> 
> 赞同：1
> 
> 时间：2013-04-15T08:40:47.847
> 
> 标签：gwt

我是 GWT 的相对新手。

我正在开发一个 GWT 应用程序，其中我有很多要显示在页面上的表格数据，并且当我单击每个单元格的数据时会重定向到不同的服务。目前正在发生的事情是整个 HTML（以及所有单元格的超链接）正在服务器端创建并作为一个大字符串返回，该字符串在客户端呈现。正如你可以想象的那样，它不能很好地扩展。我需要使这个重定向更加动态。谁能建议我如何将 DOM 元素与 GWT 代码链接以实现这一点？

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T09:06:17.527

在 GWT 中有**[Ui Binder](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiBinder)**

在客户端声明您的所有 ui 并仅针对`valuable` `data`.

> 浏览器通过将大的 HTML 字符串塞入 innerHTML 属性而不是一堆 API 调用来构建 DOM 结构。UiBinder 很自然地利用了这一点，结果是构建应用程序最愉快的方式也是构建它的最佳方式。

所以避免通过**电线**传递 html 。

# java - 使用 Spring Environment 从类路径注入文件

> ID：16010972
> 
> 赞同：0
> 
> 时间：2013-04-15T08:41:15.557
> 
> 标签：java, spring, dependency-injection, spring-3

**我的问题：如何使用变量`File`在我的班级中注入 a ？`Environment`**

我在`properties`需要读取的文件的路径中指定：

```
myFile.path=classpath:myFile.json 
```

我曾经有一个 XML 应用程序上下文为此定义一个`property-placeholder`，`properties.file`然后我可以简单地使用注入我的文件`@Value`：

```
@Value("${myFile.path}")
private File myFile; 
```

然而，现在我想做类似的事情：

```
@Inject
private Environment environment;

private File myFile;

@PostConstruct
private void init() {
    myFile = environment.getProperty("myFile.path", File.class);
} 
```

但是抛出异常：

```
Caused by: java.io.FileNotFoundException: 
    classpath:myFile.json (No such file or directory) 
```

我也尝试过类似`myFile = environment.getProperty("myFile.path", Resource.class).getFile();`的方法，但抛出了另一个异常。

**知道属性中定义的路径可以是绝对路径或类路径相对路径，如何实现注入文件？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:01:29.107

您可以尝试注入`ResourceLoader`，并使用它来加载引用的类路径资源：

```
@Autowired
private ResourceLoader resourceLoader;

...

@PostConstruct
private void init() {
    String resourceReference = environment.getProperty("myFile.path");
    Resource resource = resourceLoader.getResource(resourceReference);
    if (resource != null) {
        myFile = resource.getFile();
    }
} 
```

# wpf - 无法通过 WPF 设置表格宽度

> ID：16010980
> 
> 赞同：1
> 
> 时间：2013-04-15T08:41:40.017
> 
> 标签：wpf, mvvm

我正在制作 WPF 应用程序。我有一个数据网格，所有列的宽度都设置为“自动”。当我开始滚动表格时，一些列开始扩展。我的问题是：我可以设置列宽以适应开头列中最长的数据（滚动时不扩展列）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T10:24:01.690

当显示的数据设置为时需要更多空间时，wpf 的列宽会扩展，`Auto`然后这项工作将自动完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T11:37:35.730

嗯，这是由于`DataGrid`. 只有可见的项目才会被渲染，并且控件在滚动的情况下被重用（如果你正在激活它）。因此宽度将不正确，因为最长的元素尚未渲染。列表控件的性能非常好，尽管您可以将许多项目绑定到它。

我认为你有两个选择

1.  如果您没有太多要显示的项目，请关闭虚拟化，这可能是一个合适的解决方案。我不得不承认，我没有尝试过，所以没有保修。您可以通过 将其关闭`<DataGrid VirtualizingStackPanel.IsVirtualizing="False"/>`。有关更多信息，`VirtualizationStackPanel`请查看[此处](http://msdn.microsoft.com/en-us/library/system.windows.controls.virtualizingstackpanel%28v=vs.100%29.aspx)。

2.  另一种解决方案可能是`TextTrimming`. `TextBlocks`可以显示`Ellipses`文本是否太长。因此，您必须为列分配一个自定义数据模板，将以下内容作为内容，例如`<TextBlock Text="{Binding}" TextTrimming="WordEllipsis"/>`。`CellEditingTemplate`请注意，如果用户能够编辑值，您还必须提供客户。有关更多信息，`TextTrimming`请查看[此处](http://msdn.microsoft.com/en-us/library/system.windows.controls.textblock.texttrimming%28v=vs.95%29.aspx)。要了解整个`DataTemplate`事情`DataGrids`将如何运作，您可以在[这里查看](http://wpftutorial.net/DataGrid.html)。

# git - 从 Cygwin 运行时，通过 gitosys 安装的 Git 不（可能）尊重 HOME 环境变量

> ID：16010987
> 
> 赞同：1
> 
> 时间：2013-04-15T08:41:56.553
> 
> 标签：git, cygwin

我正在尝试使用 Cygwin 的 git，但这是我看到的：

```
$ git clone ssh://git-repo/some/repository
Cloning into 'repository'...
ssh: git-repo-actual-host-name.com: no address associated with name
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists. 
```

该消息显然是错误的，因为：

```
$ echo "$HOME"
/home/wvxvw
$ cat $HOME/.ssh/config
Host git-repo
 HostName git-repo-actual-host-name.com
 User wvxvw
 IdentityFile ~/.ssh/id_rsa
$ ls $HOME/.ssh
config  id_rsa  id_rsa.pub  known_hosts 
```

任何想法出了什么问题/如何帮助它？

**编辑**：

相同的信息，但较少“混淆”：

`~/.ssh/config`

```
Host tlv-git
 HostName tlv-git.host.com
 User WINDOMAIN\\wvxvw
 IdentityFile ~/.ssh/id_rsa

$ ssh tlv-git
ssh: Could not resolve hostname tlv-git: hostname nor servname provided, or not known

$ ssh tlv-git.host.com
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,keyboard-interactive). 
```

如果我尝试克隆一些存储库，就会发生这种情况：

```
$ git clone ssh://tlv-git/repo
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,keyboard-interactive). 
```

但是我已经`ssh-agent`安装了，所以如果我这样做：

```
$ eval $( ssh-agent )
$ ssh-add
$ git clone ssh://tlv-git/repo
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,keyboard-interactive). 
```

但是如果我提供用户名，那么它就可以工作......

```
$ git clone ssh://WINDOMAIN\\wvxvw@tlv-git/repo 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-07-14T07:01:51.960

该 URL 应该是`git-repo:/some/repository`，并且 ~/.ssh/config 的用户通常是一个专用于 gitosis 安装的用户（`git`，不是`wvxvw`）

这些天（2018 年，5 年后），如果需要重复相同的设置，它将使用：

*   [gitolite](http://gitolite.com/gitolite/index.html)，不是 gitosis 。
*   [OpenSSH 直接在 Windows 10](https://blogs.msdn.microsoft.com/commandline/2018/01/22/openssh-in-windows-10/)中，而不是 Cygwin。

# java - 在迭代或循环内更改 JTextField 的文本

> ID：16010990
> 
> 赞同：1
> 
> 时间：2013-04-15T08:42:08.490
> 
> 标签：java, swing, jtextfield, event-dispatch-thread

假设我有一个 JTextField “状态”，并且正在运行以下代码：

```
status = new JTextField(50);
add(status);

for (int i=0; i<10000; i++) {
     status.setText("bla bla - "+ i);
     System.out.println("bla bla - "+ i);
} 
```

我的问题是，现在当循环运行时，JTextField 的文本中没有发生任何事情，只有当循环结束时，标签是“bla bla - 10000”。

我想做一个状态栏之类的东西，但不能“在线”更新这个状态栏。我也尝试在线程中进行更新，但结果相同。

有人可以告诉我如何在迭代或循环时在 GUI 中呈现文本吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-15T08:56:20.803

使用 a[`SwingWorker`](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html)拆分 UI 更新和长时间运行的任务。

花几分钟时间阅读[Swing 标签 wiki](https://stackoverflow.com/tags/swing/info)的结尾，并点击提供的链接。

这是此类代码的一个小示例：

```
import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.List;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;
import javax.swing.SwingWorker;

public class TestSwingWorker {

    private JTextField progressTextField;

    protected void initUI() {
        final JFrame frame = new JFrame();
        frame.setTitle(TestSwingWorker.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JButton button = new JButton("Clik me to start work");
        button.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                doWork();
            }
        });
        progressTextField = new JTextField(25);
        progressTextField.setEditable(false);
        frame.add(progressTextField, BorderLayout.NORTH);
        frame.add(button, BorderLayout.SOUTH);
        frame.pack();
        frame.setVisible(true);
    }

    protected void doWork() {
        SwingWorker<Void, Integer> worker = new SwingWorker<Void, Integer>() {
            @Override
            protected Void doInBackground() throws Exception {
                for (int i = 0; i < 100; i++) {
                    // Simulates work
                    Thread.sleep(10);
                    publish(i);
                }
                return null;
            }

            @Override
            protected void process(List<Integer> chunks) {
                progressTextField.setText(chunks.get(chunks.size() - 1).toString());
            }

            @Override
            protected void done() {
                progressTextField.setText("Done");
            }
        };
        worker.execute();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new TestSwingWorker().initUI();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-15T08:57:41.203

使用[javax.swing.Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)。这是一个示例，向您展示如何：

```
private void refreshMyTextField() {       
    Timer timer1 = new Timer(100, new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            jTextField1.setText("bla bla - "+(j++));
        }
    });
    timer1.start();  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T08:52:36.477

使用间隔执行任务的 Timer 类。因为你不使用区间，所以你得到的是最后一个值 10000。由于没有区间，你看不到以前的值。

问候，

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T09:02:41.247

尝试使用`status.setText("");`之前`status.setText("bla bla - "+ i);`

# python - 如何在 Python 中的 Linux 和 Windows 中使用“/”（目录分隔符）？

> ID：16010992
> 
> 赞同：227
> 
> 时间：2013-04-15T08:42:12.850
> 
> 标签：python, linux, windows, unix

我在 python 中编写了一个代码，它使用 / 在文件夹中创建特定文件，如果我想在 Windows 中使用该代码，它将无法工作，有没有办法可以在 Windows 和 Linux 中使用该代码。

在 python 中，我使用以下代码：

```
pathfile=os.path.dirname(templateFile)
rootTree.write(''+pathfile+'/output/log.txt') 
```

当我将在假设 Windows 机器中使用我的代码时，我的代码将不起作用。

如何在 Linux 和 Windows 中使用“/”（目录分隔符）？

* * *

## 回答 #1

> 赞同：307
> 
> 时间：2013-04-15T08:48:03.970

使用`os.path.join()`. 示例：`os.path.join(pathfile,"output","log.txt")`。

在您的代码中，这将是：`rootTree.write(os.path.join(pathfile,"output","log.txt"))`

* * *

## 回答 #2

> 赞同：134
> 
> 时间：2013-04-15T08:47:19.867

采用：

```
import os
print os.sep 
```

查看分隔符在当前操作系统上的外观。
在您的代码中，您可以使用：

```
import os
path = os.path.join('folder_name', 'file_name') 
```

* * *

## 回答 #3

> 赞同：74
> 
> 时间：2013-04-15T08:45:32.450

您可以使用[os.sep](http://docs.python.org/3.3/library/os.html?highlight=os.sep#os.sep)：

```
>>> import os
>>> os.sep
'/' 
```

* * *

## 回答 #4

> 赞同：58
> 
> 时间：2016-08-12T17:41:23.617

[`os.path.normpath(pathname)`](https://docs.python.org/3/library/os.path.html#os.path.normpath)还应该提到它，因为它将`/`路径分隔符转换为`\`Windows 上的分隔符。它还折叠了多余的上层引用......即，并且`A/B`全部变为. 如果你是 Windows，这些都变成.`A/foo/../B``A/./B``A/B``A\B`

* * *

## 回答 #5

> 赞同：24
> 
> 时间：2017-05-25T20:52:38.463

如果你有幸运行 Python 3.4+，你可以使用[`pathlib`](https://docs.python.org/3/library/pathlib.html)：

```
from pathlib import Path

path = Path(dir, subdir, filename)  # returns a path of the system's path flavour 
```

或者，等效地，

```
path = Path(dir) / subdir / filename 
```

* * *

## 回答 #6

> 赞同：18
> 
> 时间：2013-04-15T08:44:53.890

一些有用的链接可以帮助您：

*   [os.sep](http://docs.python.org/2/library/os.html#os.sep)
*   [操作系统路径](http://docs.python.org/2/library/os.path.html)
*   [os.pathsep](http://docs.python.org/2/library/os.html#os.pathsep)

* * *

## 回答 #7

> 赞同：12
> 
> 时间：2013-04-15T08:44:37.567

做一个`import os`然后使用`os.sep`

* * *

## 回答 #8

> 赞同：9
> 
> 时间：2018-05-25T06:40:21.473

> > 您可以使用“ *os.sep* ”

```
 import os
 pathfile=os.path.dirname(templateFile)
 directory = str(pathfile)+os.sep+'output'+os.sep+'log.txt'
 rootTree.write(directory) 
```

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2013-04-15T08:49:49.550

不要自己构建目录和文件名，使用 python 包含的库。

在这种情况下，相关的是[os.path](http://docs.python.org/3/library/os.path.html)。特别是 join 它从目录和文件名或目录创建新路径名，并 split 从完整路径中获取文件名。

你的例子是

```
pathfile=os.path.dirname(templateFile)
p = os.path.join(pathfile, 'output')
p = os.path.join( p, 'log.txt')
rootTree.write(p) 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2021-05-29T11:48:04.943

如果有人正在寻找这样的东西::

他/她想知道父目录，然后转到子文件夹，然后可能转到特定文件。如果是这样，我使用以下方法。

1.  到目前为止，我正在使用 python 3.9。所以在那个版本中，我们有**os**模块来处理这些任务。所以，为了获取父目录::

> ```
> parent_dir = os.path.pardir 
> ```

2.  不对文件路径分隔符（/ 或 \）进行硬编码是一种很好的编码习惯。而是使用上述**os**模块提供的操作系统依赖机制。它使您的代码非常可重用于其他目的/人。它是这样的（只是一个例子）::

> `path = os.path.pardir + os.sep + 'utils' + os.sep + 'properties.ini'`
> 
> `print(f'The path to my global properties file is :: {path}')`

输出 ：：

> ..\utils\properties.ini

*您肯定可以在这里查看整个文档：* [https ://docs.python.org/3/library/os.html](https://docs.python.org/3/library/os.html)

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-05-18T11:55:00.670

我`pathlib`用于大多数事情，所以我喜欢：**`pathlib.os.sep`**.

`pathlib`如果您不需要，通常是更好的选择`os`！

# c - 检查应用程序是否对进程句柄具有给定的访问权限

> ID：16010995
> 
> 赞同：0
> 
> 时间：2013-04-15T08:42:25.470
> 
> 标签：c, windows, handle, access-rights

假设我收到了用户模式应用程序中进程的句柄。我不知道它是从 CrateProcess 还是从 OpenProcess 调用返回的。要使用此句柄调用 GetProcessTimes，我需要 PROCESS_QUERY_INFORMATION 或 PROCESS_QUERY_LIMITED_INFORMATION 访问权限。最简单的方法是调用 DuplicateHandle（使用 PROCESS_QUERY_INFORMATION 或 PROCESS_QUERY_LIMITED_INFORMATION），但它又需要 PROCESS_DUP_HANDLE 访问权限。因此，为了减少失败的机会，我可以在句柄上调用 GetProcessTimes，如果成功则一切正常，否则我使用所需的访问权限复制句柄并再次调用 GetProcessTimes。

我想知道在我第一次调用 GetProcessTimes 以进一步减少开销之前，是否可以检查给定进程是否具有 ROCESS_QUERY_INFORMATION 或 PROCESS_QUERY_LIMITED_INFORMATION 访问权限。在 msdn 上环顾四周，我想我应该使用 GetSecurityInfo？但我没有找到可以使用的示例。

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T09:00:39.780

这种类型的“检查我是否可以访问某些东西”总是最容易通过实际尝试做你真正想做的事情来解决，仔细检查每个阶段的错误。

无论如何，其他任何事情都受[TOCTOU 约束](http://en.wikipedia.org/wiki/Time_of_check_to_time_of_use)，因此它不会真正帮助“预先检查”事物 - 您仍然需要大量检查执行实际工作的代码。

# android - 在 google play 中使用 v1 地图更新了一个应用程序，现在显示空白图块

> ID：16010997
> 
> 赞同：9
> 
> 时间：2013-04-15T08:42:30.243
> 
> 标签：android, google-maps

我的应用程序已经在 google play 中使用 map v1。现在我修复了一个与地图无关的错误，并尝试在 google play 中更新版本。从 google play 下载新版本，发现地图显示空白图块。

我使用了正确的证书，因为我的版本更新在 google play 上是成功的。我使用了相同的地图 api 密钥，因为我解压缩了 apk 并比较了以前版本和新版本之间布局文件夹中的几个 xml 中找到的密钥。

谷歌表示，现有的 v1 密钥将继续有效。

可能是什么问题呢？有人可以帮忙吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T14:19:46.853

我最近（2 周前）更新了一个使用 android maps v1 api 并且没有问题的应用程序。可能你在代码中搞砸了一些东西。

1.  在开发您的应用程序时，它是否与开发人员的地图键一起使用？
2.  您是否在 google api 控制台中进行了任何更改？
3.  您是否尝试切换到旧的 apk？
4.  您是否尝试回滚更改并重新部署？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T11:32:08.553

兄弟，自 2013 年 3 月 18 日起，Google Maps api v1 已被弃用。因此，您必须使用新的 Google api v2 版本更新您的应用程序。对于 Google Map Api v2，请访问以下链接 [https://developers.google.com/maps/documentation/android/](https://developers.google.com/maps/documentation/android/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T01:33:30.957

我会给你一个不同的清单：

1.  确保上传到 Google Play 的 apk 使用与以前相同的密钥进行签名（未签名的应用程序将阻止地图工作）
2.  确保 API 密钥设置为实时密钥而不是开发密钥。就我个人而言，我通常在我的 layout.xml 文件中都有两个，然后只注释掉我不需要的那个

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T00:20:32.063

我已经处理了谷歌地图 API v1，最近我改用了 API V2。我怀疑你的 SDK 可能已经更新并在某个地方搞砸了。你的文件是否有包导入看起来像

“com.google.amdroid.gms.maps.*”还是“com.google.android.maps.*”？我想你可能想确定这一点。前者是V2，后者是V1。

也试试 No.3 ，从上面的答案你会知道你的 API 密钥在发布版本中是否仍然有效。

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2013-04-18T17:21:29.750

**制作 Google Map API 版本 2 的步骤**

1）为您的签名密钥创建 SHA-1。

用于签署应用程序的 Eclipse 调试密钥可以在 userhome/.android/debug.keystore 文件中找到。例如）C:\Users\nil pc43.android\debug.keystore

```
 ----->  C:\Program Files\Java\jdk1.7.0_01\bin\keytool.exe -v -list -alias androiddebugkey -keystore "C:\Users\Info 1234\.android\debug.keystore" -storepass     
android -keypass android

    Example)
        C:\Program Files\Java\jdk1.7.0_01\bin>keytool.exe -v -list -alias androiddebugkey -keystore "c:\Users\nil pc43\.android\deb
        ug.keystore" -storepass android -keypass android
        Alias name: androiddebugkey
        Creation date: Apr 4, 2013
        Entry type: PrivateKeyEntry
        Certificate chain length: 1
        Certificate[1]:
        Owner: CN=Android Debug, O=Android, C=US
        Issuer: CN=Android Debug, O=Android, C=US
        Serial number: 4a5b5c6d
                Valid from: Thu Apr 04 18:33:13 IST 2013 until: Sat Mar 28 18:33:13 IST 2043
        Certificate fingerprints:
                 MD5:  51:CE:5C:07:05:31:98:6A:D5:7C:24:B1:B3:EC:22:A3
                 SHA1: B2:68:A7:D6:3A:FC:8F:15:8D:3E:1F:4A:E8:99:CE:8D:F5:28:07:4D
                 SHA256: 5B:5B:FE:7B:92:7F:06:53:1E:28:BB:D0:E5:CB:05:46:B0:81:76:CC:61:87:97:FA:19:68:B6:C1:08:E8:D6:D9
                 Signature algorithm name: SHA256withRSA
                 Version: 3 
```

**2)在 Google APIs 控制台注册**

```
-----> https://code.google.com/apis/console/
     ----> Go to Services 
Then Activate(ON) the Google Maps Android API v2\. 
```

**3）为您的应用程序创建密钥**

```
-----> sELECT  API ACCESS
    **You need later to register your application via its package in this console together
    with the SHA-1 fingerprint of your signature key. For this you  select the entry and
    click on the API Access entry. Afterwards click on the Create new Android key...entry.**

-----> Click on "Create New Android KEY"
-----> Enter your SHA-1 fingerprint and the package of your application separated by a semicolon. 

       For example you can use the com.example.mymaps package. (your SHA-1 key;package Name) 
```

**4）根据以下链接更改您的 Manifist.xml 和 JAVA 文件**

```
-----> please Reffer this Link
http://www.vogella.com/articles/AndroidGoogleMaps/article.html 
```

**5) 现在为您的项目创建新的 KeyStore 文件和 APK 文件。**

```
----->C:\Program Files\Java\jdk1.7.0_01\bin>keytool -list -alias "your alias name" -keystore  "path that have keystor file of yor application"
    Enter keystore password: <pasword of your keystore>
    mapExample, Apr 18, 2013, PrivateKeyEntry,
    Certificate fingerprint (SHA1): 71:EF:B0:6A:A8:BG:E5:61:E9:23:D0:F2:1E:9D:D0:6F:A4:70:0F:A9

-----> Now you have new SHA-1 KEY 
-----> With this SHA-1 KEY, Follow the Step no 4 
```

**6）现在您将获得新的谷歌地图 API KEY**

```
Now use this key in to Manifeast.xml file (AS SHOWN IN STEM NO 4)

<meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="NEW GOOGLE MAP API KEY" /> 
```

**7）现在使用现有的密钥库创建您应用程序的新 APK 文件。**

直接从调试中运行时它不会运行..您必须每次都签署apk ...然后在它工作之后

# ios - 如何在设备上的指定文件夹中构建和运行 ios 应用程序？

> ID：16010998
> 
> 赞同：2
> 
> 时间：2013-04-15T08:42:31.753
> 
> 标签：ios, xcode

在 XCode 中按下构建和运行按钮后，我想将我的应用程序安装到我设备上的指定文件夹中。例如，在目录“/DebugApps”中。我可以做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T08:59:32.783

我不确定您为什么要这样做，但不，这是一个自动化过程，相应的文件夹是由系统创建的。

# database - 搜索字符串的最佳查询出现在 1 个表的许多列中？

> ID：16010999
> 
> 赞同：0
> 
> 时间：2013-04-15T08:42:33.350
> 
> 标签：database, search, query-optimization

好的，说，我有一个有 3 列的表：c1、c2、c3

**C1 - C2 - C3**
A2 - B2 - N2
K1 - B2 - N1
K1 - B3 - N1
L1 - A2 - C1

好的，当用户搜索 A1, A2, A3, B1, B2, ... 的任意组合时，系统可以选择最匹配的行（**这意味着只要单词出现在 1 列中，系统会选择它，出现在更多列中的单词越多，匹配越接近**）并根据最接近的匹配对它们进行排序

Ex1：用户搜索“K1 A2 C1 N1”，系统会显示：
K1 - B2 - N1
K1 - B3 - N1
A2 - B2 - N2
L1 - A2 - C1

Ex2：用户搜索“K1 A2 C1 N2 B2”，系统会显示：
A2 - B2 - N2
L1 - A2 - C1
K1 - B2 - N1
K1 - B3 - N1

我的解决方案是将搜索字符串拆分为单独的单词，然后根据表中的列搜索每个单词。但我不确定这是最佳查询，因为数据库必须在许多循环中进行搜索。

因此，如果您是数据库专家，那么在这种情况下最好的查询是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T02:02:11.263

```
select c1
  ,c2
  ,c3
  ,case when c1 in ('K1','A2','C1','N1') then 1 else 0 end
  +case when c2 in ('K1','A2','C1','N1') then 1 else 0 end
  +case when c3 in ('K1','A2','C1','N1') then 1 else 0 end as sortweight
from theTable
where c1 in ('K1','A2','C1','N1')
or c2 in ('K1','A2','C1','N1')
or c3 in ('K1','A2','C1','N1')  order by sortweight desc
     ,c1
     ,c2
     ,c3 
```

其他论坛的人提出了上述查询