# StackOverflow 问答 14996000-14996999

# asp.net - 触发器内的case语句

> ID：14996001
> 
> 赞同：0
> 
> 时间：2013-02-21T06:34:11.913
> 
> 标签：asp.net, sql, sql-server-2005

```
create trigger Insert_emp on dbo.emp
after insert
as
begin

declare @tablename varchar(50)
declare @rdatetime varchar(20)
declare @month int

set @rdatetime = (select Bdate from inserted)
set @month = (select datepart(mm,@rdatetime))
case when @month = 2 then set @tablename = 'FEP_EMP' end
print @tablename 
end 
```

触发器将在 emp 表中插入记录之后执行。它将选择插入的日期。从该日期开始计算月份。我想要设置表名的值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T06:46:42.767

SQL Server 中的 CASE 只能用于获取标量值 - 它**不能**用于决定执行哪个代码块或语句。要处理条件代码执行，请使用常规`IF`/`ELSE`语句。

将触发器更改为：

```
create trigger Insert_emp on dbo.emp
after insert
as
begin

   declare @tablename varchar(50)
   declare @rdatetime varchar(20)
   declare @month int

   set @rdatetime = (select Bdate from inserted)
   set @month = (select datepart(mm,@rdatetime))

   IF @month = 2 
      set @tablename = 'FEP_EMP' 

   print @tablename 
end 
```

# javascript - 如何在 jquery 中使用“on”方法绑定 iframe？

> ID：14996003
> 
> 赞同：0
> 
> 时间：2013-02-21T06:34:14.553
> 
> 标签：javascript, jquery, jquery-mobile, iframe, jquery-on

在 jquery 中使用**on**方法绑定 iframe 。

我在页面中使用带有 iframe 的 jquery 移动库。

```
$(frame).contents().on('tap', 'div', function() { console.info('sucess')} )} 
```

如何使用**on**方法绑定 iframe？

在这里，我尝试使用**on**方法将**tap**函数绑定到 iframe 内容。

 **```
//Structure of HTML page

<div  data-role="page" id="test" tabindex="0" class="ui-page ui-body-c" style="min-height: 491px;">
    <iframe height="491" frameborder="0" width="100%" src="about:blank" name="test">
        // ...
        <div id="one" data-role="page">
            <div data-role="content">
                // Contents
            </div>
        </div>
        // ...
    </iframe>
</div> 
```

**点击** 方法 将`$(frame).contents().click(function(e) { alert('sucess'); })`起作用。但是当它带有移动设备时，**点击**方法不起作用......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:46:50.537

我会尝试为 iFrame 设置一个 ID 并像这样绑定它：

`$('#iFrameId).on('tap', 'div', function() { console.info('sucess'); });`

请记住，您需要在JQuery mobile 加载的**第一页中包含的脚本中创建事件绑定。**按照设计，稍后加载的其他文件中包含的所有 JS 脚本都将被忽略。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:32:48.040

[jsbin](http://jsbin.com/ugufoh/9)

您需要将处理程序附加到 iframe 的 contentDocument：

```
$($frame[0].contentDocument).on('click', '#tap', function(){
    alert('success');
}); 
```**

# javascript - 在 iOS 中使用 PhoneGap HTML 自定义 JavaScript 提示

> ID：14996006
> 
> 赞同：2
> 
> 时间：2013-02-21T06:34:28.183
> 
> 标签：javascript, html, ios, cordova

我的应用程序有几个 JS 提示，它似乎总是显示页面名称。

索引.html

有没有办法将 index.html 更改为我的应用程序名称或自定义文本。

例子：

我的应用程序 // 替换 .index.html var name=prompt("I am an prompt box!");

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T06:55:23.237

您可以使用以下代码

```
navigator.notification.confirm(
                'My custom message',    // message
                myCallbackFunc,         // callback with index of button pressed
                'Header - App Name',    // title
                'btn1, btn2'            // buttonLabels
   ); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:58:23.700

Phonegap/Cordova 应用程序与用户界面一样多，主要是 Html 和 Javascript。您所指的应用程序名称实际上是您的主要 Html 文件 (index.html) 的标题。

要更改它，您可以：

A) 更改 index.html 文件的 Html 并设置元素

B) 或从您的带有 document.title="new title" 的 Javascript 代码。

# c# - C# - 返回一个唯一的随机数

> ID：14996007
> 
> 赞同：0
> 
> 时间：2013-02-21T06:34:30.523
> 
> 标签：c#

我已经搜索了几个小时，但我没有得到它。我似乎不知道如何使用 Fisher-Yates 和列出的许多方法返回值。我要死在这里了。

我可以得到一个 RandomNumber，但它会一遍又一遍地重复使用。每次返回时我都需要它是唯一的（或者我倾向于认为是可能的）。

我需要帮助来理解我应该做什么，为什么每个部分都这样做，以及傻瓜的东西。这是有效的：

```
 private int RandomNumber(int min, int max)
    {
        Random random = new Random();
        return random.Next(min, max);
    } 
```

这就是我将其放入并且可以正常工作的内容（但不使用唯一的随机数）......我只包括了我认为需要查看的内容以及它的位置：

```
 private void ComputersTurn()
    {
        Control.ControlCollection coll = this.Controls;
        foreach (Control c in coll)
        {
            if (...)
            {
                if (...)
                {

                    if (...)
                    {
                        if ((c.Name == "btn" + Convert.ToString(RandomNumber(1,9)) && (c.Enabled != false) )) 
                        {
                            if (...)
                            {
                                //code here
                            }
                        }

                    }
                }
            }
        }
    } 
```

同样， RandomNumber 有效……但它不是唯一的。我想学习如何返回一个唯一的数字（如果可能的话）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T06:38:58.927

您是否只是试图以排列顺序返回从 min 到 max 的所有整数？这是我想要在给定范围内的随机整数序列以保证每个随机数都是唯一的唯一方法......

假设我是正确的，您应该能够轻松找到数组随机排列的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T06:37:38.933

生成唯一数字的唯一方法`Random`是在您的类中定义它，如下所示：

```
public static class RandomGenerator
{
    private static readonly Random _random = new Random();

    public static int GenRand(int x, int y)
    {
        return _random.Next(x, y);
    }
} 
```

在您的情况下，尝试以这种方式使用此代码：

```
private void ComputersTurn()
    {
        Control.ControlCollection coll = this.Controls;
        foreach (Control c in coll)
        {
            if (...)
            {
                if (...)
                {

                    if (...)
                    {
                        if ((c.Name == "btn" + Convert.ToString(RandomGenerator.GenRand(1, 9)) && (c.Enabled != false) )) 
                        {
                            if (...)
                            {
                                // code here
                            }
                        }

                    }
                }
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:51:43.690

仅将 Random 类实例化一次。

> ```
> private Random random = new Random();
> 
> private int RandomNumber(int min, int max)
> {
>     var result = this.random.Next(min, max);
>     return result;
> } 
> ```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-21T06:43:08.977

尝试将 Random 类实例的声明放在函数之外，以便每次都可以获得不同的数字，如果你想确保随机数不会被重复，你可以使用 List 来存储每个生成的数字

```
class Classname
{
private Random random = new Random();
//your code
} 
```

# iphone - 如何将 Core Data 与引用的文件同步？

> ID：14996008
> 
> 赞同：2
> 
> 时间：2013-02-21T06:34:42.560
> 
> 标签：iphone, objective-c, core-data, icloud

刚开始阅读各种帖子如何使用 iCloud 同步文件或核心数据。我目前正在开发的应用程序将数据存储在核心数据和文件名中，作为对存储在文档应用程序沙箱中的图像文件的引用。因此，每次用户在数据库中进行记录时，也会在文档目录中创建一个相关文件（照片）。

如果我们需要同步文件或核心数据，一切看起来都很好，但是我正在寻找一种如何同步核心数据和文件的方法。所以，我担心新的核心数据记录是否会比这些记录的图像文件更早到达。在这种情况下，数据完整性将被破坏。实际上，我希望所有新的相关文件首先出现，然后是所有核心数据更新。有可能这样做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T17:51:54.947

不是真的，不。您将数据发送到云端，但您无法控制它何时出现在其他设备上。无论外部文件的状态如何，iCloud 都会在需要时将您的托管对象带入。实现这一点的唯一方法是查找并下载任何外部文件，等待下载完成，然后才调出您的 Core Data 堆栈。但这意味着在下载完成之前将用户锁定在数据存储之外，这不是一个好主意。

当我遇到类似的情况时，我是这样处理的：

*   启动所有外部文件的下载并启动 Core Data 堆栈。
*   修改图片的getter方法，检查文件是否存在，是否已经下载。
    *   如果两者都是，则正常进行
    *   如果不是，则显示“正在加载...” UI 元素。这可以是微调器或进度指示器。收听自定义“下载完成”通知。
*   每当外部文件完成下载时，发布“下载完成”通知。重新检查文件，如果它准备好了，用图像替换“正在加载...” UI。

# c# - 在 TextBox 中追加和删除文本

> ID：14996014
> 
> 赞同：0
> 
> 时间：2013-02-21T06:35:07.423
> 
> 标签：c#, winforms

我目前正在将文本附加到文本框。在 winform 中，我有两个复选框和一个文本框。每次选中复选框时，文本框内都会出现一个文本。但是当复选框未选中时，我很难取出文本。选中复选框时如何附加文本并在未选中时取出文本？

```
 private void checkBox1_CheckedChanged(object sender, EventArgs e)
 {
     ck = sender as CheckBox;
     if (ck != null && ck.Checked)
     {
         textBox1.AppendText(" Example1 ");
     }
     else
     {
         textBox1.AppendText("  ");
     }
 }

 private void checkBox2_CheckedChanged(object sender, EventArgs e)
 {
     ck = sender as CheckBox;
     if (ck != null && ck.Checked)
     {
         textBox1.AppendText(" Example2 ");
     }
     else
     {
         textBox1.AppendText("  ");
     }
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T06:39:42.920

要仅取出您添加的文本，您可以使用[`String.Replace`](http://msdn.microsoft.com/en-us/library/system.string.replace.aspx)：

```
textBox1.Text = textBox1.Text.Replace(" Example1 ", ""); 
```

请注意，如果用户更改了该值，则此文本可能仍会或可能不会位于`TextBox`. 我假设您已经意识到这一点，或者这只是一个练习。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T06:40:44.653

假设您要显示：

*   示例 1 选中第一个复选框时
*   示例 2 选中第二个时
*   示例 1 和示例 2 如果两者都被选中
*   如果两者都未选中，则为空

最好的办法是将 UI 逻辑集中在一个反映您的规则的方法中：

该方法与删除我不需要的文本不同。我从一个空列表开始，然后填写是否选中复选框。然后我显示它。通过这种方式，我不必处理尾随分隔符。

```
private void checkBox1_CheckedChanged(object sender, EventArgs e)
{
    UpdateTextBox();
}

private void checkBox2_CheckedChanged(object sender, EventArgs e)
{
    UpdateTextBox();
}

void UpdateTextBox()
{
    var words = new List<string>();

    if (checkbox1.Checked)
        words.Add("Example 1");

    if (checkbox2.Checked)
        words.Add("Example 2");

    textBox1.Text = string.Join(" ", words);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T06:39:18.207

```
if (ck != null && ck.Checked)
   textBox1.Text = "Example";
else
   textBox1.Text = ""; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-21T06:39:35.937

你的意思是

```
textBox1.Text = string.Empty 
```

还是我错过了什么？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T06:43:25.683

试试这个

```
 private void checkBox1_CheckedChanged(object sender, EventArgs e)
  {
        ck = sender as CheckBox;

        if (ck != null && ck.Checked)
        {
            textBox1.AppendText(" Example1 ");
        }
        else
        {
            textBox1.Text = textBox1.Text.Replace(" Example1 ", "");
        }
    }

    private void checkBox2_CheckedChanged(object sender, EventArgs e)
    {

        ck = sender as CheckBox;

        if (ck != null && ck.Checked)
        {
            textBox1.AppendText(" Example2 ");
        }
        else
        {
            textBox1.Text = textBox1.Text.Replace(" Example2 ", "");
        }
} 
```

# python - Python中的Unicode解码错误

> ID：14996015
> 
> 赞同：0
> 
> 时间：2013-02-21T06:35:15.160
> 
> 标签：python, mongodb, utf-8

```
TDB = csv.reader(codecs.open('data/TDS.csv', 'rb', encoding='utf-8'), delimiter=',', quotechar='"')

ts = db.testCol

for row in TDB:
    print row[1]
    T = {"t":row[1],
             "s": row[0]}
    post_id = ts.insert(T) 
```

我不知道为什么我不能将它编码为 utf-8 而我想将数据插入数据库中，我必须将其设为 utf8 格式。

```
UnicodeDecodeError: 'utf8' codec can't decode byte 0xf3 in position 36: invalid continuation byte 
```

在我输入编码函数之前，我从 pymongo 得到了这个。

```
bson.errors.InvalidStringData: strings in documents must be valid UTF-8 
```

我猜，这是它无法编码的数据

```
'compleja e intelectualmente retadora , el ladrÛn de orquÌdeas es uno de esos filmes que vale la pena ver precisamente por su originalidad . ' 
```

有谁知道我该怎么做？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T22:52:09.747

好的，这可能会有所帮助..

这里有一个编码列表：

[http://docs.python.org/2/library/codecs.html#standard-encodings](http://docs.python.org/2/library/codecs.html#standard-encodings)

`latin-1`是用于欧洲语言的通用编码。

处理编码的基本流程是：

1.  读入编码内容
2.  content.decode("源编码") 到 unicode
3.  从 unicode 编码到所需的编码，unicode_content.encode("desired encoding")

您可以尝试通过看起来正确的编码，看看哪些不会导致错误：

```
enc = "latin-1"
f = open("TSD.csv", "r")
content = f.read() # raw encoded content
u_content = content.decode(enc) # decodes from enc to unicode
utf8_content = u_content.encode("utf8") 
```

# animation - jqplot 动画不适用于甜甜圈图

> ID：14996026
> 
> 赞同：0
> 
> 时间：2013-02-21T06:36:12.367
> 
> 标签：animation, charts, jqplot, donut-chart

我能够显示条形图和折线图的动画。使用：

```
animate: true,
animateReplot: true 
```

但是动画似乎不适用于甜甜圈图。谁能解释我为什么？

任何帮助，将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:35:50.570

据我所知，目前 jqplot 不支持饼图和圆环图动画。如果 jqplot 支持饼图和圆环图动画会很好。

**我们可以通过seriesStyles**属性使用 JqPlot 更改圆环图的主题

```
seriesStyles: {
            seriesColors: ['red', 'orange', 'yellow', 'green', 'blue', 'indigo'],
            highlightColors: ['lightpink', 'lightsalmon', 'lightyellow', 'lightgreen', 'lightblue', 'mediumslateblue']
        } 
```

[](http://jsfiddle.net/Boro/NYewy/42/)**来自[堆栈溢出的](https://stackoverflow.com/questions/11228308/change-the-theme-of-donut-chart-using-jqplot)[**示例**](http://jsfiddle.net/Boro/NYewy/42/)**

# android - 应用程序未显示在设备上的默认应用程序列表中

> ID：14996038
> 
> 赞同：0
> 
> 时间：2013-02-21T06:36:56.813
> 
> 标签：android, intentfilter

我正在尝试编写照片查看器应用程序并将以下内容放入我的清单文件中

```
<activity
        android:name="com.example.testimageintent.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
        <intent-filter>  
            <action android:name="android.intent.action.VIEW">  
                <category android:name="android.intent.category.DEFAULT">
                    <data android:mimeType="image/*"/>
                </category>
            </action>
        </intent-filter>
    </activity> 
```

这个想法是当用户尝试从文件浏览器打开图像时，将此应用程序列在可用应用程序列表中。不知何故，我的应用程序从未在该列表中列出。我仍然可以在列表中看到图库和其他应用程序，但我的应用程序从未出现。任何指向我可能做错了什么的指针？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:42:28.710

我想你不见了

```
<action android:name="android.intent.action.SEND" /> 
```

在你的`<intent-filter>`

将其定义为如下所示：

```
<intent-filter>
    <action android:name="android.intent.action.SEND" />

    <category android:name="android.intent.category.DEFAULT" />

    <data android:mimeType="image/*"/>
</intent-filter> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:14:11.087

对不起，伙计们，这是我的错误。我已经嵌套了 Action、Category 和 Data 块。它们应该相互独立。一旦我将它们作为单独的标签，它就可以正常工作，如下所示：

```
<action android:name="android.intent.action.VIEW"/>  
<category android:name="android.intent.category.DEFAULT"/>
<data android:mimeType="image/*"/> 
```

# mysql - 使用 WHERE 和 OR 在 MySQL PDO 语句中执行数组值

> ID：14996039
> 
> 赞同：1
> 
> 时间：2013-02-21T06:37:05.460
> 
> 标签：mysql, arrays, pdo, prepared-statement

我一直在尝试寻找一种解决方案，您可以使用一个准备好的语句获取数据库并使用数组值执行它

通常我会用我的陈述来做到这一点：

```
$search = $db->prepare("SELECT * FROM table WHERE name = ?");
$search->execute(array($name)); 
```

但是如果我有一个这样的数组怎么办：

```
Array ( 
  [0] => Array 
  ( 
    [name] => Burger Joint 
  ) 
  [1] => Array 
  ( 
    [name] => Burger Joint 
  ) 
  [2] => Array 
  ( 
    [name] => Burgers 
  ) 
  [3] => Array 
  ( 
   [name] => Meats 
  )
) 
```

我想以某种方式使用`WHERE name=?`语句中数组中的任何一个值来浏览我的数据库。但是，有时会有多个相似的名称，有没有办法事先压缩数组，或者在这种情况下最好的做法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-03T13:51:37.770

您可以通过多种方式执行此操作，但既然您提到了`OR`，让我们使用它：

首先，您的可能值数组。让我们把你的数组塑造成一个唯一值的数组：

```
$values_array = array_unique(
    array_map(
        function($element) { 
            return $element['name']; 
        },
        $original_array
    )
);
// $values_array now contains array('Burger Joint', 'Burgers', 'Meats') 
```

现在，我们通过引入尽可能多的占位符来构建准备好的查询：

```
$query = sprintf('SELECT * FROM table WHERE %s',
    implode(
        ' OR ',
        array_fill(
            'name = ?', 
            count($values_array)
        )
    )
);
// $query now contains 'SELECT * FROM table WHERE name = ? OR name = ? OR name = ?' 
```

并执行它：

```
$search = $db->prepare($query);
$search->execute($values_array); 
```

或者，您可以`IN`改用，像这样构建您的查询：

```
$query = sprintf('SELECT * FROM table WHERE name in (%s)',
    implode(
        ', ',
        array_fill(
            '?', 
            count($values_array)
        )
    )
);
// $query now contains 'SELECT * FROM table WHERE name in (?, ?, ?)'

$search = $db->prepare($query);
$search->execute($values_array); 
```

这将具有相同的效果，并且通过查看代码可以更清楚地了解发生了什么。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-21T07:08:55.850

尝试`name IN`代替`name =`.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-21T07:31:28.833

首先，你需要IN。`field IN (1,2)`等于`field=1 OR field=2`。
接下来，您需要某种辅助函数，将创建正确 SQL 语句的所有技术细节**从**应用程序业务代码中移除。让它在一行中，而不是 50 行。

```
$data = $db->getAll("SELECT * FROM table WHERE name IN (?a)",$names); 
```

最后，您似乎从另一个查询中获取了您的姓名。
在这种情况下，您只需使用 JOIN 运行单个查询。您可以在标签下提出另一个问题，`[mysql]`提供您的两个查询。

要仅将名称放入数组中，您必须使用另一个辅助函数（尽管您必须自己创建它或先获取某个位置）：

```
$names = $db->getCol("here goes your query to get names"); 
```

# java - 有没有办法将会话密钥保存到 mysql 5.5 中？

> ID：14996041
> 
> 赞同：0
> 
> 时间：2013-02-21T06:37:13.620
> 
> 标签：java, php, mysql, spring, session

我现在工作的一家公司将使用数据库会话来组织他们的服务器。我没有选择拒绝它:(

他们将使用的示例 php 代码是

sessioninit.php

```
<?
/* ------------------------------------------------------------------------
* Create a new database in MySQL called "sessions" like so:
*
* CREATE TABLE ucnovel_session (
*      sesskey char(32) not null,
*      expiry int(11) unsigned not null,
*      value text not null,
*      PRIMARY KEY (sesskey)
* );
*/

$SESS_DBH = "";
$SESS_LIFE = get_cfg_var("session.gc_maxlifetime");

function sess_open($save_path, $session_name)
{
    global $SESS_DBH;

    $sv = "192.168.0.3";    
    $SESS_DBH = mysql_pconnect($sv, "ucnovel", "비번") or die("Can't connect to SQL Server");
    mysql_select_db("hotdog", $SESS_DBH) or die("Can't connect to SQL Server");

    return true;
}

function sess_close()
{
    return true;
}

function sess_read($key)
{
    global $SESS_DBH, $SESS_LIFE;

    //echo $key;

    $qry = "SELECT value FROM ucnovel_session WHERE sesskey = '$key' AND expiry > " . time();
    $qid = mysql_query($qry, $SESS_DBH);

    if (list($value) = mysql_fetch_row($qid)) {
        return $value;
    }

    return false;
}

function sess_write($key, $val)
{
    global $SESS_DBH, $SESS_LIFE;

    $expiry = time() + $SESS_LIFE;
    $value = addslashes($val);

    $qry = "SELECT COUNT(*) FROM ucnovel_session WHERE sesskey='$key'";
    $qid = mysql_fetch_array(mysql_query($qry, $SESS_DBH));
    if($qid[0]>0) {
        $qry = "UPDATE ucnovel_session SET expiry = $expiry, value = '$value' WHERE sesskey = '$key'"; // AND expiry > " . time();
        $qid = mysql_query($qry, $SESS_DBH);
    } else {
        $qry = "INSERT INTO ucnovel_session SET expiry = $expiry, value = '$value', sesskey = '$key'";
        $qid = mysql_query($qry, $SESS_DBH);
    }

    return $qid;
}

function sess_destroy($key)
{
    global $SESS_DBH;

    $qry = "DELETE FROM ucnovel_session WHERE sesskey = '$key'";
    $qid = mysql_query($qry, $SESS_DBH);

    return $qid;
}

function sess_gc($maxlifetime)
{
    global $SESS_DBH;

    $qry = "DELETE FROM ucnovel_session WHERE expiry < " . time();
    $qid = mysql_query($qry, $SESS_DBH);

    return mysql_affected_rows($SESS_DBH);
}

session_set_save_handler("sess_open", "sess_close", "sess_read", "sess_write", "sess_destroy", "sess_gc");
session_set_cookie_params(0, "/", "ucnovel.com", false, false);

session_start();

?> 
```

会话测试.php

```
<?
include "sessioninit.php";

$old = $_COOKIE[test_sess2];
$new = rand()%10000;
$_COOKIE[test_sess2] = $new;
setcookie("test_sess2", $new);

echo "OLD ".$old."<br>"."NEW ".$new;

$old = $_SESSION[test_sess];
$new = rand()%10000;
$_SESSION[test_sess] = $new;
$_SESSION[test_ip] = $REMOTE_ADDR;

echo "<br><br>OLD ".$old."<br>"."NEW ".$new;

?> 
```

我知道他们会覆盖会话处理程序并对其进行自定义。但我找不到任何关于如何在 Java 中做到这一点的参考资料。

有人说覆盖 HttpSession 是一种方式。但我仍然无法理解如何做到这一点。另外，我不知道 DTO 是否会保存在数据库中：S

我现在用的是Spring 3.1，服务器是MySQL 5.5

有没有我能理解如何做的样本？或者也许是一个可以帮助它的插件？

# html - ie-8 在图像上出现黑色轮廓

> ID：14996057
> 
> 赞同：1
> 
> 时间：2013-02-21T06:38:28.387
> 
> 标签：html, css, internet-explorer

我正在开发一个网站并在 ie8 中获得黑色轮廓，它在所有其他主要浏览器中看起来都很棒，但在 ie-8 中却没有，请帮助我这是我的实时链接 [http://www.cadellfoods.com.au/food-service-products .html](http://www.cadellfoods.com.au/food-service-products.html) （圆形部分）

请帮助我所有图像的代码如下

```
#Section1
{
    background:transparent url('Images/Chilled.png') no-repeat;
    background-repeat:no-repeat;
    border:none; outline:none; outline:0;
    border-width: 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:02:37.983

在 IE 8 中似乎也可以。也许您在 Windows XP 上的 IE 8 中遇到问题

作为一个好的做法，你不应该用大写字母开始你的 ID 或类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:02:44.783

可能不是，但我注意到 IE 在*链接*图像上设置了边框。您需要撤消这些默认设置。

```
#Section1 a:link img {
   border:none;
} 
```

不要忘记 :hover 和 :visited 伪类。

以防万一也试试这些

```
#Section1 img {
   border:none;
}
#Section1 a:link {
   border:none;
} 
```

# iphone - FBLoginView 没有响应

> ID：14996058
> 
> 赞同：1
> 
> 时间：2013-02-21T06:38:33.490
> 
> 标签：iphone, facebook, ios6

虽然我正在尝试 FBLoginView 不工作。单击该按钮时甚至没有显示任何响应。这是我使用的代码：

```
#import <FacebookSDK/FacebookSDK.h>
@interface myaccount ()<FBLoginViewDelegate>

- (void)viewDidLoad
{
FBLoginView *loginview =[[FBLoginView alloc] init];
loginview.frame = btn1.frame;
for (id obj in loginview.subviews)
{
    if ([obj isKindOfClass:[UIButton class]])
    {
        btn1 =  obj;
        [btn1 setBackgroundColor:UIColorFromRGB(0x3b5999)];
        [btn1 sizeToFit];
    }

}
loginview.delegate = self;
[scrol addSubview:loginview];
- (void)loginViewFetchedUserInfo:(FBLoginView *)loginView
                        user:(id<FBGraphUser>)user 
{
logu.name = [NSString stringWithFormat:@"%@!", user.first_name];
logu.profilePic.profileID = user.id;
profilePicker.profileID = user.id;
self.loggedInUser = user;
}
} 
```

请帮我整理一下？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:17:55.260

*   您可以通过使用 Graph Api 在您的应用程序中实现 facebook。

*   创建 Graph api 对象并设置权限，如 NSString *client_id = @"124262614407976";

    如果（可达性标志==真）{

    ```
    @try {
        self.fbGraph = [[FbGraph alloc] initWithFbClientID:client_id];

      [self.fbGraph authenticateUserWithCallbackObject:self 
         andSelector:@selector(fbGraphCallback:)   andExtendedPermissions:@"user_photos,user_videos, 
    ```

    publish_stream,offline_access,user_checkins,friends_checkins" and SuperView:self.window];

    ```
    } 
    ```

    @catch (NSException *异常) {

    // NSLog(@"网络不可用 %@",exception.userInfo); } @最后 {

    }

    }

-- 检查后回调。- (void)fbGraphCallback:(id)sender {

```
if ( (fbGraph.accessToken == nil) || ([fbGraph.accessToken length] == 0) ) {

NSLog(@"You pressed the 'cancel' or 'Dont Allow' button, you are NOT logged  into   Facebook...I require you to be logged in & approve access before you can do anything useful....");

    //restart the authentication process.....
    [fbGraph authenticateUserWithCallbackObject:self andSelector:@selector(fbGraphCallback:)
                         andExtendedPermissions:@"user_photos,user_videos,publish_stream,offline_access,user_checkins,friends_checkins"];

} else
{

   // NSLog(@"------------>CONGRATULATIONS<------------, You're logged into Facebook...  Your oAuth token is:  %@", fbGraph.accessToken);

} 
```

}

//////// 你可以找到朋友提要..

```
-(void)getMeFeedButtonPressed{

if(delegate.fbGraph.accessToken!=nil)
{
    NSString *customString=[NSString stringWithFormat:@"me"];
    NSLog(@"here responce is for %@",customString);

    FbGraphResponse *fb_graph_response = [delegate.fbGraph doGraphGet:customString withGetVars:nil];
    NSLog(@"getMeFeedButtonPressed:  %@", fb_graph_response.htmlResponse);

    //parse our json
    SBJSON *parser = [[SBJSON alloc] init];
    NSDictionary *facebook_response = [parser objectWithString:fb_graph_response.htmlResponse error:nil];
    //  [facebook_response ]
    [parser release];
   // MyID=[facebook_response objectForKey:@"id"] ;
    [MyID appendString:[facebook_response objectForKey:@"id"]];
    NSLog(@"name  %@",[facebook_response objectForKey:@"name"]);

    NSString * url = [NSString stringWithFormat:@"https://graph.facebook.com/%@/picture",MyID];

    NSData * data = [NSData dataWithContentsOfURL:[NSURL URLWithString:url]];

    UIImage *downloadedImage = [UIImage imageWithData:data];
    NSData *myEncodedImages = [NSKeyedArchiver archivedDataWithRootObject:downloadedImage];
    [[NSUserDefaults standardUserDefaults ] setObject:myEncodedImages forKey:@"MYFBIMAGE"];

    [self postData];

}else
{

    @try {

            [delegate.fbGraph authenticateUserWithCallbackObject:self andSelector:@selector(fbGraphCallback:)
                                 andExtendedPermissions:@"user_photos,user_videos,publish_stream,offline_access,user_checkins,friends_checkins,email"];

        }
        @catch (NSException *exception) {

            NSLog(@"Net not available");
        }
        @finally {

        }
}

} 
```

# java - 在android中创建pdf文档并将其保存到外部存储中

> ID：14996070
> 
> 赞同：1
> 
> 时间：2013-02-21T06:39:30.117
> 
> 标签：java, android, pdf

我正在尝试创建一个 pdf 文件并将其保存到 sd 卡。我搜索了我的问题的解决方案，但我在网上找到的是关于创建和保存文件或图像的。但两者都不能解决我的问题。这是我的示例代码：

```
 public void createPdf(){
     Document document = new Document();  
     try {           
             PdfWriter.getInstance(document, new FileOutputStream(android.os.Environment.getExternalStoragePublicDirectory("DIRECTORY_PDF") + java.io.File.separator + "droidtext" + java.io.File.separator + "HelloWorld"));
             document.open();
             document.add(new Paragraph("Hello World"));
     } catch (DocumentException de) {
             System.err.println(de.getMessage());
     } catch (IOException ioe) {
             System.err.println(ioe.getMessage());
     }
     document.close(); 
```

这是logcat所说的：

`02-21 06:28:08.001: W/System.err(859): /mnt/sdcard/DIRECTORY_PDF/droidtext/HelloWorld: open failed: ENOENT (No such file or directory)`

# sql - 在其他表中查找名称（SQL）

> ID：14996075
> 
> 赞同：-1
> 
> 时间：2013-02-21T06:39:47.807
> 
> 标签：sql

我有两张桌子

Applied_Uni

```
 StudentID University1Code University2Code University3Code
   1          U1              U2              U3
   2          U1              U2              U4 
```

大学

```
UniversityCode UniversityName
U1             School1
U2             School2
U3             School3
U4             School4 
```

我遇到的问题是我不知道如何编写 sql 来选择他们申请的大学名称的学生。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T06:48:46.160

你只需要加入自己：

```
SELECT AU.StudentId, 
    U.UniversityName Name1,
    U2.UniversityName Name2,
    U3.UniversityName Name3
FROM Applied_Uni AU
    LEFT JOIN University U ON AU.University1Code = U.UniversityCode
    LEFT JOIN University U2 ON AU.University2Code = U2.UniversityCode
    LEFT JOIN University U3 ON AU.University3Code = U3.UniversityCode 
```

或者，这应该有效：

```
SELECT AU.StudentId, 
    U.UniversityName 
FROM Applied_Uni AU
    LEFT JOIN University U ON 
         AU.University1Code = U.UniversityCode
         OR AU.University2Code = U.UniversityCode
         OR AU.University3Code = U.UniversityCode 
```

# delphi - 如何使用接口的安全调用函数方法进行 RTTI 调用？

> ID：14996078
> 
> 赞同：15
> 
> 时间：2013-02-21T06:40:02.153
> 
> 标签：delphi, delphi-xe2, rtti, delphi-xe3

我有这个测试程序[https://gist.github.com/real-mielofon/5002732](https://gist.github.com/real-mielofon/5002732)

```
 RttiValue := RttiMethod.Invoke(RttiInstance, [10]); 
```

和带有接口的简单单元：

```
unit Unit163;

interface

type
{$M+}
  ISafeIntf = interface
    function TestMethod(aI: integer): integer; safecall;
  end;
{$M-}
 type
   TSafeClass = class(TInterfacedObject, ISafeIntf)
   public
     function TestMethod(aI: integer): integer; safecall;
   end;

implementation

function TSafeClass.TestMethod(aI: integer): integer;
begin
  result := aI+1; // Exception !!
end;

end. 
```

我开了kaboom

```
result := aI+1; 
```

如果它是过程或不是安全调用，那么没关系:-(

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T07:32:44.600

现在我自己尝试了这个，并查看了代码，我的结论是有一个错误。RTTI 单元确实尝试执行`safecall`方法重写。它似乎弄错了。我建议您将项目作为 QC 报告提交，并通过使用返回值来解决`stdcall`问题`HRESULT`。

# iphone - 如何降低 UIScroll 视图的滚动速度

> ID：14996086
> 
> 赞同：5
> 
> 时间：2013-02-21T06:40:18.383
> 
> 标签：iphone, uiscrollview

我的 iphone 应用程序中有一个滚动视图。在运行时，我添加了多个内容页面，用户可以水平滚动内容。

我在这里遇到一个问题。考虑如果用户快速滚动它，那么有时 thr 会延迟加载页面内容。

无论用户是否尝试滚动视图，我是否可以降低滚动速度。我想延迟滚动的速度

希望每个人都理解我的问题谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T06:49:23.110

你有没有勾选这个选项

```
scrollView.decelerationRate = UIScrollViewDecelerationRateFast; 
```

不要与“RateFast”混淆，它是 decelerationRate，意思是减速。

# android - 将组合的日期和时间字符串转换为长值？

> ID：14996089
> 
> 赞同：0
> 
> 时间：2013-02-21T06:40:26.947
> 
> 标签：android, datetime, datetimepicker

我正在尝试获取字符串的长值（日期和时间字符串），但它不起作用。我想做的是：

*   选择日期形式*datepicker*并将其存储在字符串中

*   从时间选择器中选择时间*并将*其存储在字符串中

然后我连接这两个字符串并从该字符串中获取长值。

我已经尝试了一些日期格式化程序，但我无法完成这项工作。我的字符串的格式是`dd-MM-yyy h:mm a`. 请帮我解决这个问题。提供任何可用的实用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T06:44:36.110

试试这个：-

```
SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyy h:mm a");
Date myDate = new Date(); // Default Value.
try {
        myDate = sdf.parse(dateString);
} catch (ParseException e) {
        // Do Something on Error.
}
Long dateTimeinLong = myDate.getTime(); 
```

`dateString`您连接的日期和时间字符串在哪里。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:00:14.267

忘记字符串，直接使用值：

```
DatePicker dp = (DatePicker) findViewById...
TimePicker tp = (TimePicker) findViewById...

Date timeStamp = new Date( dp.getYear(), dp.getMonth(), dp.getDay(), tp.getHour(), tp.getMinute(), 0 );

long longTime = timeStamp.getTime(); 
```

# mysql - 如何使用 shell 脚本从数据库中的同一变量中获取带有空格的数据

> ID：14996096
> 
> 赞同：2
> 
> 时间：2013-02-21T06:41:01.787
> 
> 标签：mysql, shell

当我运行以下代码时，当数据中有空间时，存储在变量部门、testDate 和 testTime 中的数据会相互混合，例如，如果“计算机科学”是部门名称，则“计算机”存储在变量 `department`和“科学”存储在`testDate`变量中，但显然我想将整个“计算机科学”存储在变量中`department`以及变量的数据中
`testDate`，`testTime`因为您还可以在输出中观察到问题。我该如何解决这个问题？

```
mysql -uroot -proot -Dproject_ivr_db -rN --execute "SELECT Dpartment,TestDate,
TestTime FROM entrytests_datetime WHERE Discipline='msc'" |
while read department testDate testTime 
do

    echo "V,department=$department"
    echo "V,testDate=$testDate"
    echo "V,testTime=$testTime"

done

echo "E,resume" 
```

输出：

```
 V,department=computer
  V,testDate=science
  V,testTime=first february 2013    nine thirty a m
  V,department=electronics
  V,testDate=first
  V,testTime=february 2013  ten thirty a m
  E,resume 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:13:24.473

基本上，您必须确保输出中的字段与`mysql`空格以外的某个字符分开，并且您必须告诉外壳程序是哪个字符。

告诉 shell 是用 IFS 变量完成的。

使用or选项来告诉[`mysql`](http://dev.mysql.com/doc/refman/5.6/en/mysql-command-options.html)命令：`--batch``-B`

> `--batch`,`-B`
> 
> 使用制表符作为列分隔符打印结果，每行换行。使用此选项，`mysql`不使用历史文件。
> 
> 批处理模式导致非表格输出格式和特殊字符转义。使用 raw 模式可以禁用转义；请参阅该`--raw`选项的说明。

所以：

```
IFS="   "   # Tab (only) in quotes
mysql -B -uroot -proot -Dproject_ivr_db -rN --execute "SELECT Dpartment,TestDate,
TestTime FROM entrytests_datetime WHERE Discipline='msc'" |
while read department testDate testTime 
do

    echo "V,department=$department"
    echo "V,testDate=$testDate"
    echo "V,testTime=$testTime"

done

echo "E,resume" 
```

# apache - 配置错误：“void*”的大小小于“long”

> ID：14996097
> 
> 赞同：1
> 
> 时间：2013-02-21T06:41:06.333
> 
> 标签：apache, arm, cross-compiling, powerpc

> 配置错误：“void*”的大小小于“long”

这是我在为 powerpc 交叉编译 apache 时遇到的错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-17T14:49:27.480

我在构建配置选项中添加了“ap_cv_void_ptr_lt_long=4”。然后配置脚本运行。

运行 ./configure 时查找以下行以找到正确的大小：

```
checking for inline... inline
checking for an ANSI C-conforming const... yes
checking whether setpgrp takes no argument... (cached) no
checking for socklen_t... yes
checking size of void*... 4
checking size of char... 1
checking size of int... 4
checking size of long... 4
checking size of short... 2
checking size of long long... 8
checking for INT64_C... yes
checking size of pid_t... 8
checking whether ssize_t and int are the same... yes 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-04-03T11:12:42.247

/etc/ld.so.conf 文件中似乎没有 /usr/local/lib 。

这样做后再试一次-

```
echo "/usr/local/lib" >> /etc/ld.so.conf

ldconfig 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-01T07:30:28.920

你为powerpc 64编译了apache？

也许您必须在编译之前检查配置，以设置正确的配置选项。

# macos - 点击事件被路由到错误的视图

> ID：14996098
> 
> 赞同：0
> 
> 时间：2013-02-21T06:41:14.420
> 
> 标签：macos, cocoa, nsview

我有一个窗口，里面有两个视图：

![大部分窗口被 PRH Movie View 占据，而窗口底部的 20 个点属于 PRH Controller View。](../Images/664d785f8c12c1df4e629925bd074370.png)

电影视图和控制器视图都覆盖`mouseDown:`and `mouseUp:`，用于不同的目的（电影视图有一个目标和动作，并作为一个按钮做出反应，而控制器寻求并支持拖动）。

扭曲的是，当我在电影视图中单击时（如屏幕截图所示，它通常足够大，以至于错过它并击中控制器视图而不是极不可能）`mouseDown:`和`mouseUp:`消息被发送到控制器视图！电影视图永远不会收到任何消息。

我没有`hitTest:`在电影视图或其父视图（这是一个普通的 NSView）中覆盖，仅在控制器视图中（原因与我在该视图上的跟踪区域有关 - 我的实现只是返回`self`，即控制器视图）。

那么，什么给了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:41:14.420

好吧，你可能猜到了：这是我`hitTest:`在控制器视图中的实现。

事实证明，它`hitTest:`不仅发送到鼠标位置所在帧的视图；它被发送到窗口中的*每个*视图，甚至在单击的任一端都不靠近鼠标的视图。

因此，在覆盖 时`hitTest:`，请确保您验证该点实际上在您自己内部。最简单的方法是发送`[super hitTest:thePoint]`并且仅在结果不是时才进行自定义命中测试`nil`。（除非您*想*窃取窗口中其他视图的点击次数。）

# angularjs - 一个指令用于多个元素

> ID：14996101
> 
> 赞同：0
> 
> 时间：2013-02-21T06:41:25.277
> 
> 标签：angularjs, angularjs-directive, angularjs-scope

例如我有这样的 HTML 页面：

```
<body  ng-app="MyApp">
<standart-slider class="slider-app" controls-value="{previous: '#previous', next: '#next', sliderWrap: '.wrapper', slidesName: '.slide', minSlides: '4', controls: '.control'}">
        <div class="control" id="previous">Prev</div>
        <div class="slide-add">Add</div>
        <div class="control" id="next">Next</div>
        <div class="wrapper">
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
        </div>
 </standart-slider>
 <standart-slider class="slider-app" controls-value="{previous: '#previous', next: '#next', sliderWrap: '.wrapper', slidesName: '.slide', minSlides: '4', controls: '.control'}">
        <div class="control" id="previous">Prev</div>
        <div class="slide-add">Add</div>
        <div class="control" id="next">Next</div>
        <div class="wrapper" data-my-attr="">
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
            <div class="slide"></div>
        </div>
 </standart-slider>
</body> 
```

还有这样的指令：

```
var MyApp = angular.module('MyApp', []);

MyApp.directive('standartSlider', function () {
var linkFn = function (scope, element, attrs) {
    console.log('Hello!');
    var controls = scope.contorls();
    console.log(controls.previous);
    var currentPosition = 0;
    var slideWidth = 70;
    var slides = angular.element(controls.slidesName);
    var wrapper = angular.element(controls.sliderWrap);
    var previous = angular.element(controls.previous);
    var next = angular.element(controls.next);
    var numberOfSlides = slides.length;
    console.log(numberOfSlides, slides, wrapper, previous, next);

    wrapper.css('overflow', 'hidden');
    slides.wrapAll('<div id="slideInner"></div>')
    $('#slideInner').css('width', slideWidth * numberOfSlides);

    angular.element(controls.controls).click(function () {
        currentPosition = ($(this).attr('id') == 'next') ? currentPosition + 1 : currentPosition - 1;
        console.log(currentPosition);
        attrs.myAttr = "100";

        $('#slideInner').animate({
            'marginLeft': slideWidth * (-currentPosition)
        });
        console.log($('#slideInner').css("marginLeft"))
    });

    }

    return {
        restrict: 'E',
        scope: {
            contorls: '&controlsValue'
        },
        link: linkFn
    }
}); 
```

问题是然后我单击“下一步”按钮，滑动第一个滑块而不是第二个。我如何看待它，范围不隔离 DOM 元素。如何隔离指令副本与 DOM 元素？小提琴示例：[jsFiddle](http://jsfiddle.net/falloff/u2Hbd/6/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:22:39.323

如我所见，您的指令使用 Ids 而不是类。不要忘记，在 DOM 文档中，即使有不同的父级，也不可能有两个具有相同 id 的元素。

因此，您需要重写指令以使用类并仅在链接元素的子元素处搜索。

# python - 创建一个继承模型的类

> ID：14996103
> 
> 赞同：0
> 
> 时间：2013-02-21T06:41:28.367
> 
> 标签：python, django

我计划实现一个继承模型的类，然后简单地显示它的内容。我发现 Django Form Class 正在实现它。

```
article = Article.objects.get(pk=1)
form = ArticleForm(instance=article) 
```

我怎样才能实现这种技术？我想做这样的：

```
article = Article.objects.get(pk=1)
class_var = MyClass(instance=article)
class_var.show_content()
//then all of the Article details will be displayed

book = Books.objects.get(pk=1)
class_var2 = MyClass(instance=book)
class_var2.show_content()
//then all of the Book details will be displayed 
```

请帮忙！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:46:45.020

您可以创建一个`MyClass`类，该类具有一个构造函数来接受不同类型的实例和`show_content()`方法来根据实例类型显示字符串。

[http://www.diveintopython.net/object_oriented_framework/defining_classes.html](http://www.diveintopython.net/object_oriented_framework/defining_classes.html)

# php - 用于 javascript ajax 的 php 变量

> ID：14996106
> 
> 赞同：0
> 
> 时间：2013-02-21T06:41:34.470
> 
> 标签：php, javascript, jquery, ajax, json

我有一个从经常更新的数据库中查询的表，以及在哪里

```
<span id="totalvotes1"></span> 
```

和在哪里

```
<span id="totalvotes2"></span> 
```

我需要能够识别排队的人

```
success: function(data) { $('#totalvotes1').text(data); } }); 
```

在我的 ajax 中为每个查询的相应行...现在设置的方式，我的 ajax 只会将信息显示回

```
<span id="totalvotes1"></span> 
```

在查询的最后一行....

```
<?php

$sql = mysql_query("SELECT * FROM blogData ORDER BY id DESC");
$sql2=mysql_query("SELECT * FROM messages WHERE mod(mes_id,2) = 0 ORDER BY mes_id DESC");
$sql3=mysql_query("SELECT * FROM messages WHERE mod(mes_id,2) = 1 ORDER BY mes_id DESC");

$count_variable = 0;

while(($row = mysql_fetch_array($sql))AND($row2 = mysql_fetch_array($sql2))AND($row3 = mysql_fetch_array($sql3)) ){
    $id = $row['id'];
    $title = $row['title'];
    $content = $row['content'];
    $category = $row['category'];
    $podcast = $row['podcast'];
    $datetime = $row['datetime'];

    $message1=$row2['msg'];
    $mes_id1=$row2['mes_id'];
    $totalvotes1=$row2['totalvotes'];

    $message2=$row3['msg'];
    $mes_id2=$row3['mes_id'];
    $totalvotes2=$row3['totalvotes'];

?>

<table class="content">
<tr>
<td>

<div id="main">
<div id="left">
<span class='up'><a href="" class="vote" name="up" data-options="key1=<?php echo $mes_id1;?>&key2=<?php echo $mes_id2;?>"><img src="up.png" alt="Down" /></a></span><br />
<span id="totalvotes1"><?php echo $totalvotes1; ?></span><br />
</div>
<div id="message">
<?php echo $message1; ?>
</div>
<div class="clearfix"></div>
</div>
<div id="main">
<div id="right">
<br />
<span id="totalvotes2"><?php echo $totalvotes2; ?></span><br />
<span class='down'><a href="" class="vote" name="down" data-options="key1=<?php echo $mes_id1;?>&key2=<?php echo $mes_id2;?>"><img src="down.png" alt="Down" /></a></span>
</div>
<div id="message">
<?php echo $message2; ?>
</div>
<div class="clearfix"></div>
</div>
</td>
</tr>
</table>

<?php
}
?> 
```

这是我的 general.js 文件

```
$(".vote").click(function()  
{
    var id = $(this).attr("id");
    var name = $(this).attr("name");
    var eData = $(this).attr("data-options");
    var dataString = 'id='+ id + '&' + eData ;
    var parent = $(this); 

    if(name=='up')
    {
        $(this).fadeIn(200).html('');
        $.ajax({
            type: "POST",
            url: "up.php",
            data: dataString,
            cache: false,
            success: function(data) { $('#totalvotes1').text(data); }
    });

}
else
{
    $(this).fadeIn(200).html('');
    $.ajax({
        type: "POST",
        url: "down.php",
        data: dataString,
        cache: false,
        success: function(data) { $('#totalvotes2').text(data); }

    });
}
});
});
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:24:45.627

可能是您最新问题的早期版本、 [JSON 编码、ajax 并以 html 显示](https://stackoverflow.com/questions/15017067/json-encode-ajax-and-display-back-in-html)

在我对您关于此问题的最新问题的回答中，我给出了如何在 PHP 和 jQuery 之间使用 JSON 数据的详细示例。

# c - 使用 Maclaurin 级数近似计算 cos(x)

> ID：14996107
> 
> 赞同：3
> 
> 时间：2013-02-21T06:41:50.333
> 
> 标签：c

因此，我正在尝试创建一个使用泰勒近似计算 cos(x) 的程序。

该程序非常简单：用户输入一个参数 x（x 是一个以弧度为单位的角度）和一个浮点 ε，它是 cos(x) 值的精度。

基本上，程序唯一要做的就是计算这个总和：x^0/0！- x^2/2！+ x^4/4！- x^6！+ x^8/8！- ...，直到项小于 ε，即 cos(x) 的值，它将在我们的精度范围内。

所以，这里是代码：

```
#include <stdio.h>

/* Calculates cos(x) by using a Taylor approximation:
   cos(x) = x^0/(0!) - x^2/(2!) + x^4/(4!) - x^6/(6!) + x^8/(8!) - ... */

int main(void)
{    
    int   k;         // dummy variable k

    float x,         // parameter of cos(x), in radians
          epsilon;   // precision of cos(x) (cos = sum ± epsilon)
          sum,       // sum of the terms of the polynomial series
          term;      // variable that stores each term of the summation

    scanf("%f %f", &x, &epsilon);

    sum = term = 1, k = 0;

    while (term >= epsilon && -term <= epsilon) 
    // while abs(term) is smaller than epsilon
    {
        k += 2;
        term *= -(x*x)/(k*(k-1));
        sum += term;
    }

    printf("cos(%f) = %f\n", x, sum);

    return 0;
} 
```

起初，我试图通过计算单独变量“fact”的阶乘来解决它，尽管即使 ε 具有合理的大值也会导致溢出。

为了解决这个问题，我注意到我可以将前一项乘以 -x² / (k(k-1))，在每次迭代中将 k 增加 2，以获得下一项。我以为这会解决我的问题，但话又说回来，它不起作用。

该程序编译得很好，但是例如，如果我输入：

> 3.141593 0.001

输出是：

> cos(3.141593) = -3.934803

……这显然是错误的。有人能帮我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T07:02:25.163

该错误在于您的 while 循环条件：

```
while (term >= epsilon && -term <= epsilon) 
```

这不是正确的条件。虽然可以通过修复逻辑来修复它：

```
while (term >= epsilon || -term >= epsilon) 
```

您应该只使用标准浮点 abs 函数，`fabs`因为它使您的代码的功能更加明显：

```
while (fabs(term) >= epsilon) 
```

在应用该更改并编译您的程序后，我用它来计算`cos(3.141593) = -1.000004`，这是正确的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-21T09:15:01.967

只是添加到 Charliehorse55 的答案。

通常使用简单的三角函数来减少参数

```
cos(x + y) = cos(x)cos(y) - sin(x)sin(y)
sin(x + y) = cos(x)sin(y) + sin(x)cos(y) 
```

将参数减少到 [0..SmallAngle] 范围，然后才计算泰勒展开。

# ios - UIScrollview 滚动时的位移

> ID：14996108
> 
> 赞同：1
> 
> 时间：2013-02-21T06:41:52.970
> 
> 标签：ios, uiscrollview

我希望在用户滚动时获得 UIScrollView 的位移，每次滚动时只需要位移。使用这种方法

```
-(void)scrollViewWillEndDragging:(UIScrollView *)scrollView
                    withVelocity:(CGPoint)velocity
             targetContentOffset:(inout CGPoint *)targetContentOffset{
    NSLog(@"VELOCITY :- %f , %f",velocity.x,velocity.y);
    NSLog(@"inout offset: %@ ",targetContentOffset);
} 
```

我可以得到速度，但仍然需要知道一个方向的实际距离，以便正确计算位移。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T06:50:54.863

`contentOffset`物业会给你这个。在上面的方法`targetContentOffset`中会给你减速和停止后的结束偏移量。通常上述方法用于将结束偏移更改为您的愿望。其他拖动或滚动委托方法也可以仅`scrollView.contentOffset`用于计算位移。

`contentOffset.x & contentOffset.y`将分别为您提供 x 和 y 方向的位移。

# unix - 如何在文件的每三行之前附加字符串

> ID：14996109
> 
> 赞同：2
> 
> 时间：2013-02-21T06:41:57.197
> 
> 标签：unix, sed, awk

文件是

```
a@gmail.com,b@yahoo.com
xyz@gmail.com
abc@gmail.com 
ff@yahoo.co.in
jf@rediff.com
oop@hotmail.com 
```

输出应该是：

```
U|a@gmail.com,b@yahoo.com
D|xyz@gmail.com
R|abc@gmail.com 
U|ff@yahoo.co.in
D|jf@rediff.com
R|oop@hotmail.com 
```

我想在每个第三个字符之后附加特定的字符串。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T06:55:03.957

```
#!/usr/bin/sed -f
s/^/U|/
n
s/^/D|/
n
s/^/R|/ 
```

[sed 有用的单行脚本](http://catonmat.net/blog/wp-content/uploads/2008/09/sed1line.txt)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-21T07:16:55.730

```
$ awk 'BEGIN {split("UDR",p,"")} {print p[((NR-1)%3)+1] "|" $0}' a.txt
U|a@gmail.com,b@yahoo.com
D|xyz@gmail.com
R|abc@gmail.com 
U|ff@yahoo.co.in
D|jf@rediff.com
R|oop@hotmail.com 
```

# javascript - 仅在 Safari 浏览器上出现 AJAX 响应错误

> ID：14996110
> 
> 赞同：1
> 
> 时间：2013-02-21T06:42:01.833
> 
> 标签：javascript, jquery, httpwebresponse

我面临着非常奇怪的问题。我正在使用以下代码从 API 中获取价值：

```
 var getId = function () {
    var url: "Proxy:url=https_URL"
     var result;
        $.ajax({
            type: 'GET',
            url: url,
            dataType: 'json',
            contentType: "application/json",
            success: function (res) {
                objLen = res.length;
                var arrElems = [];
                for (i = 0; i < objLen; i++) {

                    arrElems[i] = res[i].ids;

                }
                result = arrElems;

            },
            error: function (e) {
                result = e;
            }
        })
       return result;
    } 
```

它响应成功，但是当我在 Safari 上运行此代码时，它给出了错误。谁能帮我找出问题所在并解决它？

# c# - c#文本框到数据库

> ID：14996111
> 
> 赞同：2
> 
> 时间：2013-02-21T06:42:01.737
> 
> 标签：c#, winforms

我在 C# WinForm 上有一个 dataGridView、textBoxFirstName、buttonSelect 和 buttonUpdate。我的问题末尾有代码。

当我单击 buttonSelect 按钮时，选择结果会毫无问题地出现在 dataGridView 和 textBoxFirstName 中。当我从 dataGridView 中选择不同的记录时，textBoxFirstName 也会自动更新。

当我从 dataGridView 更改“FirstName”字段并单击 buttonUpdate 时，FirstName 字段将毫无问题地保存到数据库中。

但是，当我从 textBoxFirstName 更改“FirstName”时，单击 buttonUpdate 时数据不会保存到数据库中。

当从 textBoxFirstName 进行更改并单击 buttonUpdate 时，如何将 FirstName 字段保存到数据库中？

谢谢你。

```
public partial class Form1 : Form
{

    private const string connectionString = "Server=localhost;Database=AdventureWorks2008R2;Trusted_Connection=True";
    private SqlConnection con;
    private SqlDataAdapter dataAdapter;

    public Form1()
    {
        InitializeComponent();
        con = new SqlConnection(connectionString);
    }

    private void FillGrid(string sqlCommand)
    {
        dataAdapter = new SqlDataAdapter(sqlCommand, con);
        SqlCommandBuilder commandBuilder = new SqlCommandBuilder(dataAdapter);

        DataTable dataTable = new DataTable();
        dataAdapter.Fill(dataTable);

        dataGridView.DataSource = dataTable;
        textBoxFirstName.DataBindings.Clear();
        textBoxFirstName.DataBindings.Add("Text", dataTable, "FirstName");
    }

    private void buttonSelect_Click(object sender, EventArgs e)
    {
        FillGrid("SELECT TOP 100 * FROM Person.Person");
    }

    private void buttonUpdate_Click(object sender, EventArgs e)
    {
        dataAdapter.Update((DataTable)dataGridView.DataSource);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:56:02.337

那是因为`buttonUpdate_Click`您在内部`dataAdapter`使用网格的数据源进行更新。因此，网格中的任何内容都会存储在数据库中，但是，文本框中的文本不会。您还需要使用`textBoxFirstName`的数据源更新数据适配器。希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T06:59:25.623

正如有人告诉您，当您单击按钮更新时，您没有更新文本框的数据，您只是在更新 gridviews 数据..现在试试这个。

```
private void buttonUpdate_Click(object sender, EventArgs e)
{
    dataAdapter.Update((DataTable)dataGridView.DataSource);
    textBoxFirstName.DataBindings.Add("Text", dataTable, "FirstName");
} 
```

# rest - 如何从 Youtube Education API 获取超过 50 个类别的 Lectures？

> ID：14996112
> 
> 赞同：0
> 
> 时间：2013-02-21T06:42:03.297
> 
> 标签：rest, youtube, youtube-api

我正在查看 Youtube Education API V2 并尝试获取少数类别的 Lecture 提要。但是，我能够获得的最大值是 50。我做错了什么吗？

[提要请求 1](https://gdata.youtube.com/feeds/api/edu/lectures?alt=json&category=407&max-results=50&orderby=viewCount&start-index=51&v=2)

[提要请求 2](https://gdata.youtube.com/feeds/api/edu/lectures?alt=json&category=340&max-results=50&orderby=viewCount&start-index=51&v=2)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T19:25:06.867

这看起来正在按预期工作。这些提要中只有 50 个条目。

如果您查询[https://gdata.youtube.com/feeds/api/edu/lectures?category=340&v=2](https://gdata.youtube.com/feeds/api/edu/lectures?category=340&v=2)，您将`<openSearch:totalResults>50</openSearch:totalResults>`在响应中看到指示 Feed 大小的信息。

# ruby-on-rails - 在控制器中创建一个 link_to

> ID：14996113
> 
> 赞同：13
> 
> 时间：2013-02-21T06:42:03.157
> 
> 标签：ruby-on-rails, link-to

我需要从控制器向视图传递通知，如果可以的话，我还想创建一些指向通知的链接。

我的控制器：

```
format.html { redirect_to purchase_order_headers_path, notice: 'PO already has RR with RR ID: ' + rr.rr_id + ', void RR first.' } 
```

有什么办法可以让我`[rr.rr_id]`成为一个链接，所以当用户点击它时会转到它的页面？因为如果放在控制器上`link_to`会返回错误。`"undefined method"`

谢谢。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-21T06:45:52.870

如果您使用的是 rails 3，则可以`view_context.link_to(...)`在控制器中使用。

更新：使用 format.html 代码

```
format.html do
  redirect_to purchase_order_headers_path, notice: "PO already has RR with RR ID: #{view_context.link_to(rr.rr_id, receiving_record_header_path(rr.id))} void RR first.".html_safe
end 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-21T06:48:07.307

采用`#{ActionController::Base.helpers.link_to 'rr.rr_id', '/url'}.html_safe`

在您的控制器中建立链接。要将字符串显示为 html（而不是转义），请在字符串上调用 html_safe 方法

# jquery - 实现全局下拉列表

> ID：14996117
> 
> 赞同：0
> 
> 时间：2013-02-21T06:42:28.377
> 
> 标签：jquery, asp.net-mvc-3

在我目前正在处理的应用程序中，我需要显示由下拉列表过滤的数据，该下拉列表应该在每个页面中都可用。

对于熟悉 Amazon Web Services 管理控制台的人来说，这个想法与 Regions 下拉列表几乎相同。因此，一旦您更改了区域，您就会看到该区域中可用的资源（例如实例、卷、快照）。所选区域应与所有后续请求一起保留，直到您选择不同的区域。

因此，我首先在母版页中设置下拉列表，并创建一个全局过滤器来设置 ViewBag 中的所有可能值。

我想在查询字符串中看到选定的值，所以我还在下拉列表周围放置了一个表单，其中 FormMethod 设置为使用 GET。

但这就是全部，我没有关于如何继续这个的想法。

欢迎任何想法。

谢谢！

# python - selenium：通过 python 选择一个 div 标签和文本

> ID：14996120
> 
> 赞同：0
> 
> 时间：2013-02-21T06:42:34.640
> 
> 标签：python, web-applications, selenium

我开始学习硒几个小时。我有这样的 div 标签

```
 <div id="first">
 <iframe src="/emulator/" scrolling="no" frameborder="0"></iframe>
 </div>
 <div id="second">
 //some more html tags
  </div> 
```

如何选择上面的 div 标签并通过 selenium py 代码发送一些文本？（尝试谷歌搜索超过一个小时 - 仍然没有找到方法）这是导致所需 div 标签页面的 python 代码片段。

```
 class Wm2(unittest.TestCase):
   def setUp(self):
      self.driver = webdriver.Firefox()
      self.driver.implicitly_wait(30)
      self.base_url = "http://localhost/"
      self.verificationErrors = [] 
      self.accept_next_alert = True

  def test_wm2(self):
    driver = self.driver
    driver.get(self.base_url + "/")
    driver.find_element_by_link_text("Log In").click()
    driver.find_element_by_id("username").clear()
    driver.find_element_by_id("username").send_keys("NAME")
    driver.find_element_by_id("password").clear()
    driver.find_element_by_id("password").send_keys("PWD123")
    driver.find_element_by_name("submit").click()
    #how to choose div tag  and send_some text ? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T06:55:39.400

在您的情况下，`div`标签内有一个`iframe`. 在 Web Driver 中，如果您想在框架内执行任何操作，则意味着您首先必须进入框架内。

**进入框架的代码：**

```
 driver.switch_to_frame("Frame Name");
 //Do some actions on the frame 
```

完成框架中的操作后，您必须离开框架以执行任何其他操作

**离开框架的代码：**

```
driver.switch_to_default_content(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:11:56.180

试试这个

```
driver.find_element_by_xpath("//div[@id='second']//input").send_keys("your Text here"); 
```

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-02-21T06:44:33.513

```
def test_wm2(self):
driver = self.driver
driver.get(self.base_url + "/")
driver.find_element_by_link_text("Log In").click()
driver.find_element_by_id("username").clear()
driver.find_element_by_id("username").send_keys("NAME")
driver.find_element_by_id("password").clear()
driver.find_element_by_id("password").send_keys("PWD123")
driver.find_element_by_name("submit").click() 
```

# java - 未创建输出文件

> ID：14996128
> 
> 赞同：0
> 
> 时间：2013-02-21T06:43:27.207
> 
> 标签：java

我正在尝试创建一个 output.txt 文件，代码正在编译且没有错误，但没有创建 o/p 文件。请问有什么帮助吗？

```
 import java.io.*;

public class StudentPoll_dasariHaritha {

public static void main( String args[] )
 {
int frequency[] = new int[ 6 ];

  try {
 BufferedInputStream pollNumbers =
 new BufferedInputStream( new FileInputStream( "numbers.txt" ) );

try {
 // for each answer, use that value as subscript to
 // determine element to increment
while( true ) {
        ++frequency[ pollNumbers.read() ];
     }
 }

 catch( EOFException eof ) {
  }

 String output = "Rating\tFrequency\r\n";

 // append frequencies to String output
 for ( int rating = 1; rating < frequency.length; rating++ ) {
        output += rating + "\t" + frequency[ rating ] + "\r\n";
     }

 BufferedWriter writer =
 new BufferedWriter( new FileWriter( "output.txt" ) );
 writer.write( output );
 writer.close();

 pollNumbers.close();

 System.exit( 0 );

 }

 catch( IOException io ) {

   System.exit( 1 );
   } 
```

有人可以解释一下这段代码没有创建输出文本文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:31:19.670

代码抛出异常，您没有查看命令行输出。

1.  您需要将您的阅读更改为：

    ```
    int i = pollNumbers.read();
    while (i != -1) {
        ++frequency[i];
        i = pollNumbers.read();
    } 
    ```

2.  `frequency`可能还不够大。如果文件中只能出现数字 0-5，请将您的读取更改为：（您还需要忽略不在此范围内的任何内容，因为还有换行符等）

    ```
    ++frequency[i-'0']; 
    ```

    之所以需要这样做，是因为根据[this](http://en.wikipedia.org/wiki/List_of_Unicode_characters)，“0”的整数值是十六进制 30 = 48，而您希望它的整数值是 0。

3.  消除：

    ```
    catch( EOFException eof ) { } 
    ```

    它似乎没有做任何事情。

4.  将您的最后一个更改`catch`为：

    ```
    catch( IOException io ) {
      io.printStackTrace();
      System.exit( 1 );
    } 
    ```

    否则你只是忽略错误。

# php - baseUrl 到底是什么

> ID：14996129
> 
> 赞同：13
> 
> 时间：2013-02-21T06:43:27.800
> 
> 标签：php, zend-framework, base-url

我花了一些时间试图理解什么是 baseUrl（通过学习 Zend 框架），但令人惊讶的是，对于这样一个无处不在的实用程序，甚至没有一个“专家”或博主尝试定义 baseUrl 以便学习者知道什么是它是关于。他们都假设您知道它是什么，然后继续推导它，每个人都使用自己的方法来得出自己的结果。从我到目前为止所读到的：

有些人认为它是一个主页-Url，这就是我自然认为的（正如名称所暗示的那样），可供访问，`$_SERVER["HTTP_HOST"]`或者`$_SERVER["SERVER_NAME"]`但令人惊讶的是，这些似乎是少数。

有些人认为它是当前页面，由服务器名称访问`$_SERVER["REQUEST_URI"]`或`$_SERVER["PHP_SELF"]`附加到服务器名称

而其他人认为它可以是上述任何一个或任何 url （嗯，至少这是我得到的印象），这取决于用户想要如何使用它。

所以有人可以准确解释什么是baseUrl，而不是假设我也是“专家”以及为什么我可能需要它。谢谢你。

**编辑：** baseUrl 应该在大多数 Zend 项目中自动设置，但显然不是我的情况。即使我做`echo $this->baseUrl()`or `var_dump($this->baseUrl())`，我什么也得不到。所以我真的不知道这个实用程序是关于什么的。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-21T08:19:22.503

为什么你需要一个`baseUrl()`设施的简短答案是这样的：

**应用程序的部署位置应该是配置问题，而不是核心应用程序功能问题**

在许多（甚至可能是大多数）情况下，应用程序的 base-url 将只是`$_SERVER['HTTP_HOST']`or `$_SERVER['SERVER_NAME']`。

但情况并非总是如此。

最容易考虑的例子是一个标准的网站，它有通常的页面：

*   `http://example.com/`
*   `http://example.com/contact`
*   `http://example.com/about`
*   `// etc`

现在您编写（或购买或下载为 OSS 包）一个您想在 url 下部署的博客应用程序：

`http://example.com/blog`

该博客可能有如下链接：

*   `http://example.com/blog/post/my-post-slug`
*   `http://example.com/blog/categories/some-category`
*   `//etc`

所有这些链接都位于`/blog`.

博客应用程序本身应该只关心**博客**内的链接/页面/路由。尽管您的博客模板很可能包含返回站点其余部分的页眉/页脚链接，但核心博客应用程序功能的其余部分不必了解您站点的其余部分。不知何故，博客应用程序需要知道，当他生成指向博客文章和博客类别以及所有其他博客相关页面的链接时，它们都必须以`http://example.com/blog`.

值`$_SERVER['HTTP_HOST']`或`$_SERVER['SERVER_NAME']`不反映此环境/部署信息。使用 base-url 值配置（！）应用程序，并在生成链接时始终使用某种`baseUrl()`功能（使用此配置）是保持核心应用程序功能专注于其自身业务而不是外部部署因素的好方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-21T07:00:36.497

您的网站由一系列网页组成。每个网页都有一个完整的统一资源定位器 (URL)，例如[http://www.your.com/intro.htm](http://www.your.com/intro.htm)。您的网页 URL 通常以相同的一组字母开头，例如[http://www.your.com/](http://www.your.com/)在这种情况下。这个通用前缀就是我们所说的基本 URL。

使用基本 URL 可以简化您的工作，因为您无需查看或输入要引用的每个页面的完整 URL。

或者

分配给页面的 URL，通过添加文档名称或尾部斜杠 / 将“相对 URL”转换为“绝对 URL”

要了解 zend url，请参考此[链接](http://blog.motane.lu/2009/01/31/zend-framework-base-url/)

# titanium - 图像视图内的视图隐藏在图像视图后面

> ID：14996135
> 
> 赞同：1
> 
> 时间：2013-02-21T06:43:58.850
> 
> 标签：titanium

下面是我的代码......我遇到的问题是，当相机从iphone设备拍摄照片时，labelview可能隐藏在imageview后面......

```
var win = Titanium.UI.createWindow({
        title : 'Photoshare',
        fullscreen : false,
        barColor : '#000000',
        backgroundColor : '#fff'
    });
    // creating scroll view
    var scrollView = Titanium.UI.createScrollView({
        contentWidth : 'auto',
        contentHeight : 'auto',
        width : Titanium.Platform.displayCaps.platformWidth,
        height : Titanium.Platform.displayCaps.platformHeight,
        top : 0,
        showVerticalScrollIndicator : false,
        showHorizontalScrollIndicator : false,
        minZoomScale : 0.1,
        maxZoomScale : 100
    });
    // creating parent view to contain imageview
    var parentView = Titanium.UI.createView({
        width : Titanium.Platform.displayCaps.platformWidth,
        height : Titanium.Platform.displayCaps.platformHeight,
        top : 0
    });
    scrollView.add(parentView);
    // adding parent view to window
    //  win.add(parentView);

    // creating image view
    var imgView = Titanium.UI.createImageView({
        width : Titanium.Platform.displayCaps.platformWidth,
        height : Titanium.Platform.displayCaps.platformHeight,
        top : 0
    });
    // adding imageview to parent view
    parentView.add(imgView);
    var labelView = Titanium.UI.createView({
        top : 280,
        right : 0,
        width : 200,
        height : 100,
        backgroundColor : '#000',
        opacity : 0.5
    });
    imgView.add(labelView);
    // opening the camera at the start of the app
    Titanium.Media.showCamera({
        saveToPhotoGallery : false,
        allowEditing : false,
        mediaTypes : [Ti.Media.MEDIA_TYPE_PHOTO],
        success : function(event) {
            var capturedImage = event.media;
            imgView.image = capturedImage;
        },
        cancel : function() {
            scrollView.hide();
        },
        error : function(error) {
            if (error.code == Titanium.Media.NO_CAMERA) {
                alert('Please Run it on device');
            }

        },
    });
    var currentLocationLabel = Titanium.UI.createLabel({
        left : 5,
        //  top : 2,
        width : 'auto',
        height : 15,
        color : '#fff',
        font : {
            fontSize : 12
        },
    });
    //  labelView.add(currentLocationLabel);
    var previousLocationLabel = Titanium.UI.createLabel({
        left : 5,
        //  top : 66,
        width : 'auto',
        height : 15,
        color : '#fff',
        font : {
            fontSize : 12
        },
    });

    var distanceLabel = Titanium.UI.createLabel({
        left : 5,
        //  top : 50,
        width : 'auto',
        height : 15,
        color : '#fff',
        font : {
            fontSize : 12
        },
    });
    var timeLabel = Titanium.UI.createLabel({
        left : 5,
        //  top : 18,
        width : 'auto',
        height : 15,
        color : '#fff',
        font : {
            fontSize : 12
        },
    });
    var weatherLabel = Titanium.UI.createLabel({
        left : 5,
        //  top : 34,
        width : 'auto',
        height : 15,
        color : '#fff',
        font : {
            fontSize : 12
        },
    });
    win.addEventListener('focus', function(e) {
        var setTop = 2;
    /*  if (Ti.App.DataStorage.GetPreviousLocationVisibility() == 0) {
            labelView.remove(previousLocationLabel);
        } else {
            labelView.add(previousLocationLabel);
        }*/
        if (Ti.App.DataStorage.GetCurrentLocationVisibility() == 0) {
            labelView.remove(currentLocationLabel);
        } else {
            currentLocationLabel.setTop(setTop);
            labelView.add(currentLocationLabel);
            setTop = setTop + 15;
        }

        if (Ti.App.DataStorage.GetTimeVisibility() == 0) {
            labelView.remove(timeLabel);
        } else {
            timeLabel.setTop(setTop);
            labelView.add(timeLabel);
            setTop = setTop + 15;
        }
        if (Ti.App.DataStorage.GetWeatherVisibility() == 0) {
            labelView.remove(weatherLabel);
        } else {
            weatherLabel.setTop(setTop);
            labelView.add(weatherLabel);
            setTop = setTop + 15;
        }
        if (Ti.App.DataStorage.GetDistanceVisibility() == 0) {
            labelView.remove(distanceLabel);
        } else {
            distanceLabel.setTop(setTop);
            labelView.add(distanceLabel);
            setTop = setTop + 15;
        }
    }); 
```

任何人都可以告诉我我做错了什么......需要帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:18:34.017

一个潜在的问题可能是这样的：

```
 imgView.add(labelView); 
```

将视图添加到 ImageView 具有未定义的行为，它被视为非容器视图。对我来说，这导致我的视​​图随机不显示，或者被放置在一个奇怪的位置。解决方案是创建一个容器视图，将 imgView 放在其中，然后将 labelView 放在它上面。

[文档对此进行了晦涩的提及](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.View-method-add)，但它让我很长时间没有想到并引起了很多头痛，指的是 ImageViews 和其他非容器视图：

```
Adding children to the these views may be supported on some platforms, 
but is not guaranteed to work across platforms. Where it is supported, 
it may not work as expected. 
```

一般规则是始终检查并确保您调用的组件`add`支持它。

# asp-classic - 索引服务pdf文档的表征

> ID：14996137
> 
> 赞同：0
> 
> 时间：2013-02-21T06:44:09.553
> 
> 标签：asp-classic, indexing-service

任何人都知道搜索pdf文档是/不支持文档的属性“特征”？

代码是

```
q.columns="doctitle, filename, size, write, rank, directory, path, characterization" 
```

表征搜索结果为空白。我正在寻找一种方法来打印 pdf 文档的简短摘要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-10T21:02:38.113

是的，我认为搜索 PDF 文档确实支持“特征化”字段。[该线程](http://forums.adobe.com/thread/599264)描述了相同的问题。用户必须卸载 iFilter，安装早期版本，并进行注册表编辑才能使搜索正常运行。

# java - 用于 URL 的 commons io 403 但 httpclient 没问题

> ID：14996140
> 
> 赞同：4
> 
> 时间：2013-02-21T06:44:22.093
> 
> 标签：java, http, httpclient, http-status-code-403, apache-commons-io

公共 io 代码：

```
String resultURL = String.format(GOOGLE_RECOGNIZER_URL, URLEncoder.encode("hello", "UTF-8"), "en-US");
URI uri = new URI(resultURL);
byte[] resultIO = IOUtils.toByteArray(uri); 
```

我得到了这个例外：

```
Exception in thread "main" java.io.IOException: Server returned HTTP response code: 403 for URL: http://translate.google.cn/translate_tts?ie=UTF-8&q=hello&tl=en-US&total=1&idx=0&textlen=3
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1436)
    at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:654)
    at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:635)
    at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:617)
    at com.renren.intl.soundsns.simsimi.speech.ttsclient.impl.GoogleTTSClient.main(GoogleTTSClient.java:70) 
```

但是当我使用httpclient时，结果还可以。

```
String resultURL = String.format(GOOGLE_RECOGNIZER_URL, URLEncoder.encode(text, "UTF-8"), "en-US");

HttpClient client = new HttpClient();

GetMethod g = new GetMethod(resultURL);

client.executeMethod(g);

byte[] resultByte = g.getResponseBody(); 
```

这是怎么发生的？

提前致谢 ：）

maven依赖：

```
<dependency>
        <groupId>commons-io</groupId>
        <artifactId>commons-io</artifactId>
        <version>2.4</version>
</dependency>
<dependency>
        <groupId>commons-httpclient</groupId>
        <artifactId>commons-httpclient</artifactId>
        <version>3.1</version>
</dependency> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T07:07:13.617

乔恩斯基特是对的！

对我来说，如果 java.net.URL JVM 传递下一个标头：

```
User-Agent: Java/1.7.0_10
Host: translate.google.cn
Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
Connection: keep-alive 
```

在 Apache HttpClient 的情况下：

```
User-Agent: Jakarta Commons-HttpClient/3.1
Host: translate.google.cn 
```

如果您更改，java.net.URL 的用户代理：

```
System.setProperty("http.agent", "Jakarta Commons-HttpClient/3.1"); 
```

请求成功，没有 HTTP 403。

如果您的用户代理以： 开头，看起来您会收到 403 错误`Java`。任何具有模式的用户代理都会`Java.*`引发 403 错误。但是，如果您使用这种模式，`.+Java.*`一切都可以。

# java - 根据标识符读取文本文件并创建另一组文本文件

> ID：14996141
> 
> 赞同：0
> 
> 时间：2013-02-21T06:44:26.143
> 
> 标签：java

我有一个文本文件，我需要根据标识符读取它并将其分组并创建多个文本文件。我在早期的项目中使用了 RandomAccessFile、Filereader，但我需要您提供线索来实现以下要求。如果我获得基于一般详细信息对记录行进行分组的逻辑，我将能够编写代码。

## Collat​​eral.txt

```
General Details|S|!|!|66T4049|N|
Charge Details|S|!|!|66T4049| 3825|
Charge Details|S|!|!|66T4049| 3826|
Machinery Details|S|!|!|66T4049|N|
General Details|S|!|!|66T4050|N|
Immovable Property Details|S|!|!|66T4050|N|
US_CIPD|66T4050|N|S156284|02-01-2013 00:58:50|
General Details|S|!|!|66T4050|N|IMUSD|I||| | |
Immovable Property Details|S|!|!|66T4050|N|IMUSD|
US locale Immovable Property Details|66T4050|N|
General Details|S|!|!|66T4051|N|MACH|M||| | |
General Details|S|!|!|66T4051|N|MACH|M||| | |
Charge Details|S|!|!|66T4051| 3827|N|        
Charge Details|S|!|!|66T4051| 3828|N| 
Insurance Details|S|!|!|66T4051|   1|Y|
Insurance Details|S|!|!|66T4051|   2|Y|
Inspection Details|S|!|!|66T4051| 1846|N|
Inspection Details|S|!|!|66T4051| 1845|N|
Ownership and Tenancy Details|66T4051|  329|0
Ownership and Tenancy Details|66T4051|  328|0 
```

机械详情|S|!|!|66T4051|N|MACH|123|55| 附加抵押品详情|66T4051|N|01|__14P|

General Details 是父键。在一般细节下，根据条件收费细节，机械细节，保险细节和其他细节将被包括在内。

我需要将一个一般详细信息部分分组并创建新文件。让我们说。

```
Collateral1.txt
General Details|S|!|!|66T4049|N|
Charge Details|S|!|!|66T4049| 3825|
Charge Details|S|!|!|66T4049| 3826|
Machinery Details|S|!|!|66T4049|N|

Collateral2.txt
General Details|S|!|!|66T4050|N|
Immovable Property Details|S|!|!|66T4050|N|
US_CIPD|66T4050|N|S156284|02-01-2013 00:58:50|

Collateral3.txt
General Details|S|!|!|66T4050|N|IMUSD|I||| | |
Immovable Property Details|S|!|!|66T4050|N|IMUSD|
US locale Immovable Property Details|66T4050|N|

Collateral4.txt
General Details|S|!|!|66T4051|N|MACH|M||| | | 
```

等等...

请帮我找出我需要使用哪个文件阅读器以及如何实现逻辑。分隔符将是每一列的管道，分隔符将是每一行的结束行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:06:29.857

这样做的一个想法可以是：

1）逐行读取源文件。
2) 从此行中提取键
3) 使用映射来存储键（如上提取）和值作为对该键的文件的引用。
4）在地图中搜索键并获取文件引用
，如果找到匹配，则将上述行添加到该文件中。
否则创建一个新文件，将此行添加到这个新创建的文件中，将密钥和此文件引用放入映射中以供下次使用。
5) 继续上面的操作，直到到达文件末尾。
6）关闭所有创建的文件

希望这可以帮助 ！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:22:51.733

好的，所以当您看到以特定字符串开头的行时，您似乎只需要启动一个新文件。这听起来很容易：

```
String prefix = "GeneralDetails|"; // Or whatever you want it to be
BufferedReader reader = new BufferedReader(new InputStreamReader(
    new FileInputStream("input.txt"), "UTF-8")); // Specify the charset here
try {
    int outputIndex = 0;
    BufferedWriter writer = null;
    try {
        String line;
        while ((line = reader.readLine() != null) {
            // Check whether we need to start a new file, closing the old one.
            if (writer == null || line.startsWith(prefix)) {
                if (writer != null) {
                    writer.close();
                }
                outputIndex++;
                string path = "Collateral " + outputIndex + ".txt";
                // Specify the output encoding here
                writer = new BufferedWriter(new OutputStreamWriter(
                    new FileOutputStream(path), "UTF-8")); 
            }
            writer.write(line);
            writer.newLine();
        } else {
        }
    } finally {
        if (writer != null) {
            writer.close();
        }
    }
} finally {
    reader.close();
} 
```

# mysql - 我应该添加新表以在 zencart db 中存储新字段吗？

> ID：14996142
> 
> 赞同：0
> 
> 时间：2013-02-21T06:44:27.860
> 
> 标签：mysql, zen-cart

我应该添加新表以在 zencart db 中存储新字段吗？zencart 原始表

```
table : customers
customers_id | ...
1 | ...
2 | ... 
```

现在我需要为客户添加一个新字段我创建一个新表

```
table : customers_extra
customers_id | is_blogger
1 | 0
2 | 1 
```

或直接在客户表中创建

```
table: customers
customers_id | ... | is_blogger
1 | ... | 0
2 | ... | 1 
```

我应该使用哪种方法？添加新表值得吗？它会减慢查询速度吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T13:57:20.350

我只是将它添加到客户表中。那样做的工作少了很多。不，您不会因为将一个字符字段添加到这样的表格而减慢速度。

# c++ - 从 C++ 文件自动创建 CSV

> ID：14996143
> 
> 赞同：0
> 
> 时间：2013-02-21T06:44:31.143
> 
> 标签：c++, powershell, csv, notepad++

我有一个 GIS 应用程序，它要求 CSV 作为输入，而该 CSV 的值是由另一个 GIS 应用程序以以下 C++ 格式生成的：

```
class _shape_0
{
objectType="waterbody";
class Arguments
{
    POSITION="[946.58899, 1087.7439, 0]";
    TYPE="01_SaltLake";
    ORIENTATION="45";
};
 };
class _shape_1
{
objectType="vegetation";
class Arguments
{
    POSITION="[962.88275, 1087.9946, 0]";
    TYPE="02_PineWoods";
    ORIENTATION="270";
};
  };
    class _shape_2
 {
objectType="vegetation";
class Arguments
{
    POSITION="[941.5755, 1068.6926, 0]";
    TYPE="03_Wheatcrop";
    ORIENTATION="135";
};

    and so on... 
```

因为输出文件包含数百个项目，所以我想使用一个自动脚本，将**POSITION、TYPE 和 ORIENTATION**从输出 c++ 文件转换为 CSV，如下所示：

```
TYPE, POSITION [X, Y, Z], ORIENTATION
03_Wheatcrop, 941.5755, 1068.6926, 0, 135
02_PineWoods, 962.88275, 1087.9946, 0, 270
01_SaltLake, 946.58899, 1087.7439, 0, 45 
```

有没有办法通过powerscript或类似的东西来做到这一点？使用 notepad++ 及其正则表达式对我来说也是一种选择，尽管我更喜欢自动化脚本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:27:28.713

一个依赖于固定行顺序的非常快速和肮脏的解决方案很容易。如果记录内部顺序不同，则需要更复杂的方法。

如果记录的顺序发生变化，例如有时`TYPE`在以前`POSITION`，有时不是，则必须重新实现解析器。跟踪关键字和一些正则表达式的状态机应该在这种情况下工作。

简单解决方案的想法是读取文件并遍历所有行。如果找到包含的行`POSITION`，让我们选择它和接下来的两行。删除多余的字符并创建一个格式化的字符串。最后，将所有内容保存在一个文件中。这不使用正确的 CSV 输出，因此如果字段包含需要转义的值，则脚本会中断。如果是这种情况，则需要一种基于自定义对象的更复杂的方法`export-csv`。

```
$d = get-content  c:\temp\infile.dat # Read the incoming C++ish file
$rows = @() # Empty array for results
$rows += "TYPE, POSITION [X, Y, Z], ORIENTATION" #Header row
for ($i=0; $i -le $d.count -2; ++$i) { # Loop through the data
  if( $d[$i] -match "POSITION" ) { # POSITION element, let's pick it and two next lines
     $pos = $d[$i].Replace('POSITION="[', '').Replace(']";', '').Replace(' ', '') # Remove extra chars
     $typ = $d[$i+1].Replace('TYPE="', '').Replace('";', '').Replace(' ', '')
     $ori = $d[$i+2].Replace('ORIENTATION="', '').Replace('";', '').Replace(' ', '')
     $rows += $("{0}, {1}, {2}" -f $typ, $pos, $ori ) # Add formatted string to array
  } 
}

set-content -path c:\temp\out.csv -value $rows # Write output to a file. 
```

# android - 如何将sqlite中的数据显示到alertDialog

> ID：14996150
> 
> 赞同：-1
> 
> 时间：2013-02-21T06:44:55.667
> 
> 标签：android, android-sqlite, android-alertdialog

[我尝试关于常量教程](https://github.com/commonsguy/cw-advandroid)的 Commonsware教程

我修改活动

```
public class ConstantsBrowser extends ListActivity {
  private LocationManager lm;
  private LocationListener locListener;
  private TextView latTxt, lonTxt;

  Intent intent = null;
  private static final int ADD_ID = Menu.FIRST+1;
  private static final int DELETE_ID = Menu.FIRST+3;
  private static final int UPDATE_ID = Menu.FIRST+4;
  private static final int DETAIL_ID = Menu.FIRST+5;
  public static final int SHOW_SUB_ACTIVITY_VIEW=3;
  private DatabaseHelper db=null;
  private Cursor constantsCursor=null;

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.banner);

    db=new DatabaseHelper(this);
    constantsCursor=db
                      .getReadableDatabase()
                      .rawQuery("SELECT _ID, alamat, tglb "+
                                "FROM constants ORDER BY _ID",
                                null);

    ListAdapter adapter=new SimpleCursorAdapter(this,
                          R.layout.row, constantsCursor,
                          new String[] {
                                        DatabaseHelper.ID,
                                        DatabaseHelper.ALAMAT,
                                        DatabaseHelper.TANGGAL_AKHIR},
                          new int[] {R.id.id, R.id.alamat, R.id.tglakhir});

    setListAdapter(adapter);
    registerForContextMenu(getListView());
  }

  @Override
  public void onDestroy() {
    super.onDestroy();

    constantsCursor.close();
    db.close();
  }

  @Override
  public boolean onCreateOptionsMenu(Menu menu) {
    menu.add(Menu.NONE, ADD_ID, Menu.NONE, "Data Baru")
        .setIcon(R.drawable.add)
        .setAlphabeticShortcut('a');

    return(super.onCreateOptionsMenu(menu));
  }

  @Override
  public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
      case ADD_ID:
        add();
        return(true);
    }

    return(super.onOptionsItemSelected(item));
  }

  @Override
  public void onCreateContextMenu(ContextMenu menu, View v,
                                    ContextMenu.ContextMenuInfo menuInfo) {
    menu.add(Menu.NONE, DETAIL_ID, Menu.NONE, "Detail");
    menu.add(Menu.NONE, DELETE_ID, Menu.NONE, "Delete");
    menu.add(Menu.NONE, UPDATE_ID, Menu.NONE, "Update")
        .setAlphabeticShortcut('d');
  }

  @Override
  public boolean onContextItemSelected(MenuItem item) {
    switch (item.getItemId()) {

    case DETAIL_ID:
        AdapterView.AdapterContextMenuInfo info=
          (AdapterView.AdapterContextMenuInfo)item.getMenuInfo();

        detail(info.id);
        return(true);

    case DELETE_ID:
        AdapterView.AdapterContextMenuInfo infoDetail=
          (AdapterView.AdapterContextMenuInfo)item.getMenuInfo();

        delete(infoDetail.id);
        return(true);

      case UPDATE_ID:
          intent = new Intent(ConstantsBrowser.this, MainActivity.class);
            startActivityForResult(intent, SHOW_SUB_ACTIVITY_VIEW);
          return(true);
    }

    return(super.onOptionsItemSelected(item));
  }

  private LocationManager lman;
  private LocationListener locaListener;
  private TextView latTxtt, lonTxtt;

    private void add() {
    LayoutInflater inflater=LayoutInflater.from(this);
    View addView=inflater.inflate(R.layout.add_edit, null);
    latTxtt = (TextView) addView.findViewById(R.id.latitudeTxtt);
    lonTxtt = (TextView) addView.findViewById(R.id.longitudeTxtt);

    lman = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    locaListener = new MyLocationListenerDialog();
    lman.requestLocationUpdates(LocationManager.GPS_PROVIDER, 10, 10,locaListener);
    final DialogWrapper wrapper=new DialogWrapper(addView);

    new AlertDialog.Builder(this)
      .setTitle(R.string.add_title)
      .setView(addView)
      .setPositiveButton(R.string.ok,
                          new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,
                              int whichButton) {
          processAdd(wrapper);
        }
      })
      .setNegativeButton(R.string.cancel,
                          new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,
                              int whichButton) {
          // ignore, just dismiss
        }
      })
      .show();
  }

  private class MyLocationListenerDialog implements LocationListener {
        @Override
        public void onLocationChanged(Location loc) {
            // TODO Auto-generated method stub
            if (loc != null) {
                latTxtt.setText(String.valueOf(loc.getLatitude()));
                lonTxtt.setText(String.valueOf(loc.getLongitude()));
            }
        }

        @Override
        public void onProviderDisabled(String provider) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onProviderEnabled(String provider) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
            // TODO Auto-generated method stub

        }

    }

  private void loadUser() {
        EditText id = (EditText) findViewById(R.id.idDetail);
        //View editTextHidden = (EditText) findViewById(R.id.txtHidden);
        // database handler
        DatabaseHelper db = new DatabaseHelper(getApplicationContext()); 
        // Spinner Drop down elements
        SQLiteDatabase dbs = db.getReadableDatabase();

        Cursor cursor = dbs.rawQuery("SELECT * FROM constants", null);
      if (cursor.moveToFirst()) {
         do {
            String username=cursor.getString(0); // Here you can get data from table and stored in string if it has only one string.

            id.setText(username);

         } while (cursor.moveToNext());
      }
      if (cursor != null && !cursor.isClosed()) {
         cursor.close();
      }
      if(db!=null)
      {
          db.close();
      }
        // Creating adapter for spinner

    }

  private void detail(final long rowId) {
        if (rowId>0) {

            LayoutInflater inflater=LayoutInflater.from(this);
            View addView=inflater.inflate(R.layout.detail_tetap, null);
            loadUser();
            final DialogWrapper wrapper=new DialogWrapper(addView);

          new AlertDialog.Builder(this)
            .setTitle(R.string.detail_title)

            .setView(addView)
            .setNegativeButton(R.string.cancel,
                                new DialogInterface.OnClickListener() {
              public void onClick(DialogInterface dialog,
                                    int whichButton) {
              // ignore, just dismiss
              }
            })
            .show();
        }
      }

  private void delete(final long rowId) {
    if (rowId>0) {
      new AlertDialog.Builder(this)
        .setTitle(R.string.delete_title)
        .setPositiveButton(R.string.ok,
                            new DialogInterface.OnClickListener() {
          public void onClick(DialogInterface dialog,
                                int whichButton) {
            processDelete(rowId);
          }
        })
        .setNegativeButton(R.string.cancel,
                            new DialogInterface.OnClickListener() {
          public void onClick(DialogInterface dialog,
                                int whichButton) {
          // ignore, just dismiss
          }
        })
        .show();
    }
  }

  private void processAdd(DialogWrapper wrapper) {
    ContentValues values=new ContentValues(2);

    values.put(DatabaseHelper.CODE, wrapper.getCode());
    values.put(DatabaseHelper.ALAMAT, wrapper.getAlamat());
    values.put(DatabaseHelper.BATAS, wrapper.getBatas());
    values.put(DatabaseHelper.LAT, wrapper.getLat());
    values.put(DatabaseHelper.LON, wrapper.getLon());
    values.put(DatabaseHelper.LUAS, wrapper.getLuas());
    values.put(DatabaseHelper.TANGGAL_AWAL, wrapper.getTglA());
    values.put(DatabaseHelper.TANGGAL_AKHIR, wrapper.getTglB());

    db.getWritableDatabase().insert("constants", DatabaseHelper.ALAMAT, values);
    constantsCursor.requery();
  }

  private void processDelete(long rowId) {
    String[] args={String.valueOf(rowId)};

    db.getWritableDatabase().delete("constants", "_ID=?", args);
    constantsCursor.requery();
  }

  class DialogWrapper {
    EditText codeField=null;
    EditText alamatField=null;
    EditText batasField=null;
    EditText luasField=null;
    EditText tglAField=null;
    EditText tglBField=null;
    TextView latField=null;
    TextView lonField=null;
    View base=null;

    DialogWrapper(View base) {
      this.base=base;
      tglBField=(EditText)base.findViewById(R.id.tglakhir);
    }

    String getCode() {
        return(getCodeField().getText().toString());
      }

    String getAlamat() {
      return(getAlamatField().getText().toString());
    }

    String getBatas() {
        return(getBatasField().getText().toString());
      }

    String getLuas() {
        return(getLuasField().getText().toString());
      }

    String getTglA() {
        return(getTglAField().getText().toString());
      }

    String getTglB() {
      return(getTglBField().getText().toString());
    }

    String getLat() {
        return(getLatField().getText().toString());
      }

    String getLon() {
        return(getLonField().getText().toString());
      }

    private EditText getCodeField() {
        if (codeField==null) {
          codeField=(EditText)base.findViewById(R.id.code);
        }
        return(codeField);
      }

    private EditText getAlamatField() {
      if (alamatField==null) {
          alamatField=(EditText)base.findViewById(R.id.alamat);
      }

      return(alamatField);
    }

    private EditText getBatasField() {
        if (batasField==null) {
          batasField=(EditText)base.findViewById(R.id.batas);
        }

        return(batasField);
      }

    private TextView getLatField() {
        if (latField==null) {
          latField=(TextView)base.findViewById(R.id.latitudeTxtt);
        }

        return(latField);
      }

    private TextView getLonField() {
        if (lonField==null) {
         lonField=(TextView)base.findViewById(R.id.longitudeTxtt);
        }

        return(lonField);
      }

    private EditText getLuasField() {
        if (luasField==null) {
          luasField=(EditText)base.findViewById(R.id.luas);
        }

        return(luasField);
      }

    private EditText getTglAField() {
        if (tglAField==null) {
            tglAField=(EditText)base.findViewById(R.id.tglawal);
        }

        return(tglAField);
      }

    private EditText getTglBField() {
      if (tglBField==null) {
          tglBField=(EditText)base.findViewById(R.id.tglakhir);
      }

      return(tglBField);
    }
  }
} 
```

当我尝试显示细节时，我使用此代码

```
private void loadUser() {
        EditText id = (EditText) findViewById(R.id.idDetail);
        //View editTextHidden = (EditText) findViewById(R.id.txtHidden);
        // database handler
        DatabaseHelper db = new DatabaseHelper(getApplicationContext()); 
        // Spinner Drop down elements
        SQLiteDatabase dbs = db.getReadableDatabase();

        Cursor cursor = dbs.rawQuery("SELECT * FROM constants", null);
      if (cursor.moveToFirst()) {
         do {
            String username=cursor.getString(0); // Here you can get data from table and stored in string if it has only one string.

            id.setText(username);

         } while (cursor.moveToNext());
      }
      if (cursor != null && !cursor.isClosed()) {
         cursor.close();
      }
      if(db!=null)
      {
          db.close();
      }
        // Creating adapter for spinner

    }

  private void detail(final long rowId) {
        if (rowId>0) {

            LayoutInflater inflater=LayoutInflater.from(this);
            View addView=inflater.inflate(R.layout.detail_tetap, null);
            loadUser();
            final DialogWrapper wrapper=new DialogWrapper(addView);

          new AlertDialog.Builder(this)
            .setTitle(R.string.detail_title)

            .setView(addView)
            .setNegativeButton(R.string.cancel,
                                new DialogInterface.OnClickListener() {
              public void onClick(DialogInterface dialog,
                                    int whichButton) {
              // ignore, just dismiss
              }
            })
            .show();
        }
      } 
```

我用一个编辑文本进行测试，但是当我启动应用程序时强制关闭。排队`id.setText(username);`

如何在sqlite中显示一些数据到alertDialog？

所以当我选择菜单`detail()`时对话框显示数据？

BR

亚历克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T06:50:22.267

如果`idDetail`EditText 在`AlertDialog`布局内，那么您将需要使用`addView`它来访问它：

```
EditText id = (EditText)addView. findViewById(R.id.idDetail); 
```

# asp.net - 如何访问不同网络表单的 div？

> ID：14996154
> 
> 赞同：1
> 
> 时间：2013-02-21T06:45:22.383
> 
> 标签：asp.net, vb.net, html

[如何使用vb代码在asp.net中设置div的大小](https://stackoverflow.com/questions/14995861/how-to-set-the-size-of-div-in-asp-net-using-vb-code/14995939#comment21063308_14995939)

这个问题是关于访问 div 并设置它的高度。这个问题的答案是正确的。

现在我想问我如何访问不同webform的div？

有两个webforms，例如Default1.aspx和Default2.aspx，webform Default1.aspx在一个Iframe里面，然后Iframe在Default2.aspx的div里面。在我的 webform Default1.aspx 中，我有一个按钮，按钮事件后面的代码是设置 Default2.aspx 的 div 的大小。希望你能理解

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T06:53:51.130

我认为您不能直接访问该 div，但您可以通过存储会话变量来产生类似的效果。在具有要更改的 div 的 Web 表单中，您将使用 Page_Load 事件处理程序来检查该会话变量是否存在，然后使用该变量的值设置 div 的高度。

**编辑**

我创建了一个测试页面，以查看此方法是否适用于 iframe，并且似乎确实如此。我使用的代码是：

在主页

```
Protected Sub Button1_Click(ByVal sender As Object, ByVal e As System.EventArgs) Handles Button1.Click
    Session("divHeight") = "100px"
End Sub 
```

在二级页面

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    If Session("divHeight") Is Nothing Then
        divTest.Style.Add("height", "50px")
    Else
        divTest.Style.Add("height", Session("divHeight"))
    End If
End Sub 
```

这导致按下按钮时有问题的 div 的高度增加了一倍。

只是为了另一种方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:10:56.370

这就是我让它工作的方式，你只需要一些javascript：

表格1：

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
<script>
    function changeDiv() {
        frames["myiFrame"].document.getElementById("divInFrame").setAttribute("style", "height:1000px");
    }
    </script>
    <title></title>

</head>
<body>
    <form id="form1" runat="server">
    <input id="Button1" type="button" value="button" onclick="changeDiv();" />
    <iframe src="Default2.aspx" style="border: 0px #FFFFFF none;" name="myiFrame" id="myiFrame"
        scrolling="no" frameborder="1" marginheight="0px" marginwidth="0px" height="60px"
        width="468px"></iframe>
    </form>
</body>
</html> 
```

表格2：

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div id="divInFrame">
      I am the second form!
    </div>
    </form>
</body>
</html> 
```

所以基本上这条线负责做所有事情：

```
frames["myiFrame"].document.getElementById("divInFrame").setAttribute("style", "height:1000px"); 
```

请注意，使用这种方法，您不一定需要从 Vb 设置高度，就像在上一个问题中一样，您只需要一个普通的 HTML div。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T06:49:52.533

您可以在加载 Web 表单时访问 div，但无法从其他 Web 表单访问它，因为当加载 Web 表单时，它会将所有内容下载到您的浏览器（客户端），而另一个 Web 表单将位于服务器端。

# html - 两个选择框重叠

> ID：14996157
> 
> 赞同：4
> 
> 时间：2013-02-21T06:45:35.217
> 
> 标签：html, css

我有两个选择框`HTML`，一个在另一个下方。

*   第一个选择框正常
*   第二个选择框默认打开（意味着选项显示不点击）

现在，当我单击第一个时`select box`，它的内容会移到另一个后面`select box`。

**HTML**

```
<form>
    <li>
        <label class="labelwid" for="partner">Select partner*</label>
            <select name="partner" id="partner" class="validate[required] text-input selectbox customselect" style="width:275px !important">
                <option value="{partnerno}">{partnername}</option>
            </select>
    </li>
    <li>
        <div class="fl"><b>Market Application</b><br />
            <select name="markappcategory[]" id="category" multiple="multiple" class="validate[required] text-input  selectbox" style="width:230px !important">
                {categoryname_html_m}
            </select>
        </div>
    </li>
</form> 
```

自定义选择是`jquery`自定义输入的插件。

**CSS`first select box`**

```
position:absolute; top:40px; padding:2px 0 5px 0; left:0; overflow-x:hidden; overflow-y:auto; z-index:1000; background:#fff; border:1px solid #d1cdcd; border-top:none; font-size:15px; width:265px; left:4px; height:100px; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:37:44.303

`z-indexes`在同一级别上进行比较，这意味着具有不同父级的两个元素将根据其父级的 z-indexes 进行 z-index，这是一个示例[http://jsfiddle.net/pavloschris/5tLrz/](http://jsfiddle.net/pavloschris/5tLrz/)。当我遇到这种问题时，通常是因为这个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:13:02.203

您没有`position`在样式标签中指定。你是在你的 CSS 中做的吗？如果是这样，发布CSS代码。更多信息请参考：[http](http://www.w3schools.com/cssref/pr_class_position.asp) ://www.w3schools.com/cssref/pr_class_position.asp 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T07:24:09.737

```
<form> 
    <li> 
        <label class="labelwid" for="partner" style="position: absolute; top: 10; left:10;" >Select partner*</label> 
        <select name="partner" id="partner" class="validate[required] text-input selectbox customselect" style="position: absolute; top: 10; left:200; width:275px !important"> 
            <option value="{partnerno}">{partnername}</option> 
        </select> 
    </li>   
    <li> 
        <div class="fl">
            <label style="position: absolute; top: 200; left:10;"><b>Market Application</b></label><br /> <select name="markappcategory[]" id="category" multiple="multiple" class="validate[required] text-input selectbox" style="position: absolute; top: 200; left:200; width:230px !important"> {categoryname_html_m} </select> 
        </div> 
    </li> 
```

仅尝试此代码。这对我来说可以。根据你的需要改变你的位置。

# ios - 如何使 NSOperationQueue 串行？

> ID：14996164
> 
> 赞同：23
> 
> 时间：2013-02-21T06:46:18.023
> 
> 标签：ios, objective-c, nsoperationqueue

我打算使 NSOperationQueue 串行而不是并发。

我知道的一种方法是：

```
NSOperationQueue *globalQueue;
globalQueue.maxConcurrentOperationCount =1; 
```

还有其他方法吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-21T06:56:19.730

如果您想要一个串行队列，您可以将 maxConcurrentOperation 设置为 1。您也可以使用 [NSOperationQueue mainQueue] 而不是创建一个新队列，从而在主线程上进行队列操作。但这仅在添加非常短的操作并且不会阻止用户界面时才有用。另一方面，您不必担心线程 n 同步。

您可以使用 addOperations:waitUntilFinished:YES 向任何队列添加操作，或者在每次添加操作时发送消息 waitUntilAllOperationsAreFinished。这样您就可以序列化操作，而不是将队列定义为串行。

# cakephp - 从元素向表中插入记录

> ID：14996169
> 
> 赞同：0
> 
> 时间：2013-02-21T06:46:38.113
> 
> 标签：cakephp

我有一个使用视图文件调用的元素。该元素是一个添加视图，即 add.ctp，我现在面临的挑战是该元素没有将表单输入插入到表中（it_query_responses）。

这是我在视图中调用我的元素的方式 -

```
<?php echo $this->Element('ItQueryResponses/add'); ?> 
```

这是元素的代码

```
<?php echo $this->Form->create('ItQueryResponse'); ?>
<legend><?php echo __('Add It Query Response'); ?></legend>
<?php
echo $this->Form->input('it_query_id');
echo $this->Form->input('hr_employee_id');
echo $this->Form->input('response');
echo $this->Form->input('it_query_status_id');
?>
<?php echo $this->Form->end(__('Submit')); ?> 
```

这是ItQueryResponsesController中的添加功能

```
public function add() {
if ($this->request->is('post')) {
$this->ItQueryResponse->create();
if ($this->ItQueryResponse->save($this->request->data)) {
$this->Session->setFlash(__('The it query response has been saved'));
$this->redirect(array('action' => 'index'));
} else {
$this->Session->setFlash(__('The it query response could not be saved. Please, try again.'));
}
}
$itQueries = $this->ItQueryResponse->ItQuery->find('list');
$hrEmployees = $this->ItQueryResponse->HrEmployee->find('list');
$itQueryStatuses = $this->ItQueryResponse->ItQueryStatus->find('list');
$this->set(compact('itQueries', 'hrEmployees', 'itQueryStatuses'));
} 
```

# msmq - MSMQ 专用队列限制

> ID：14996172
> 
> 赞同：0
> 
> 时间：2013-02-21T06:46:46.520
> 
> 标签：msmq

在我的应用程序中，我们正在考虑创建多个私有队列来处理不同的任务，所以请任何人告诉我我是否有 1000 个私有队列来处理不同的消息如果我创建多个私有队列对 msmsq 处理有任何影响吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:37:37.420

据我了解，问题是 - 如果我使用多个私有队列而不是一个，我的应用程序会受到影响。

如果您有多个消息队列，这不是技术问题，而不是一个通常会这样做以分离“目的”并可能对整个传输/接收获得更多控制的事实。

就个人而言，我不会创建多个队列，除非你陷入这样一种情况，如果没有很多队列，你根本无法解决你的问题——我认为 1000 是多余的，你可能有一个设计问题，并且你正在使用多个队列为了规避设计缺陷。

或者，您正在构建一个庞大的系统（就像我们在这里所做的那样，我们这里有 1000 多个队列，我们​​有一个非常好的设计并且知道我们的东西）。

我在这里看到的主要问题是，我感觉这些队列中的大多数（如果不是全部）将由可能在非（或很少）分布式系统上的单个应用程序使用。

考虑一下：如果您有多个邮箱用于接收普通邮件，那么您必须在需要处理自己的邮件（支付账单等）时手动检查每一个邮箱。在计算机世界中也是同样的问题，你必须想出一个策略来检查所有这些队列。如果它是分布式的，那没关系（整个目的通常是每台计算机有 1 个队列，以防您出于任何原因需要使用直接消息传递）但是如果它们都在同一台机器上，那么您实际上需要编写一个巨大的循环，它将最终会变慢，并且如果您使用单个队列，您将无法获得您将获得的性能。

希望这可以帮助，

# pointers - 将数据从 lParam 值复制到 VB6 中的 RECT 结构

> ID：14996180
> 
> 赞同：1
> 
> 时间：2013-02-21T06:47:39.653
> 
> 标签：pointers, vb6, subclassing, copymemory

我正在尝试从`lParam`子类化中获取 rect `WM_MOVING`。

我的代码目前是

```
Public Declare Function CopyMemory Lib "kernel32" Alias "RtlMoveMemory" (pDest As Any, pSource As Any, ByVal dwLength As Long) As Long

Public Type RECT
    Left As Long
    Top As Long
    Right As Long
    Bottom As Long
End Type

Dim r As RECT
CopyMemory r, lParam, Len(r) 
```

但值`r`是如此荒谬（如左：1633872，右：219218039，下：1），我认为我做错了什么。

有人看到我的错误吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T06:55:47.827

我现在正在使用傻瓜安全

```
Private Declare Function CopyFromLParamToRect Lib "user32" Alias "CopyRect" (lpDestRect As RECT, ByVal lpSourceRect As Long) As Long 
```

它工作正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T13:39:22.630

您的声明和代码正在传递一个指针，`lParam`该指针本身就是指向该结构的指针。

`lParam`您应该调整调用代码以“按值”传递值，以便`CopyMemory`获取实际的数据指针：

```
CopyMemory r, ByVal lParam, Len(r) 
```

使用您最初的泛型声明`CopyMemory`意味着您可以传递一个指向任何东西的指针，或者一个带有`ByVal`关键字的指针值本身。

```
'Copy data out
CopyMemory r, ByVal lParam, Len(r)

'Modify r

'Copy data back in
CopyMemory ByVal lParam, r, Len(r) 
```

或者，您可以根据其他答案创建强类型别名。

# servicestack - 如何从 ServiceStack API 中删除 AssignRoles 和 UnAssignRoles

> ID：14996181
> 
> 赞同：7
> 
> 时间：2013-02-21T06:47:40.953
> 
> 标签：servicestack

我正在使用 ServiceStack 中的身份验证功能并将身份验证插件配置为使用 CredentialsAuthProvider。在生成的元数据页面上，ServiceStack 显示以下操作：

*   认证
*   分配角色
*   取消分配角色

我只是使用 Auth 操作，为什么我想删除角色操作以避免本页的读者对如何使用 API 感到困惑。这可能吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-28T01:00:27.397

您可以执行以下操作，仅删除 AssignRoles 和 UnAssignRoles

```
AuthFeature authFeature = new AuthFeature(() => new AuthUserSession(), new IAuthProvider[] { new BasicAuthProvider() });

authFeature.IncludeAssignRoleServices = false; 

Plugins.Add(authFeature); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-21T08:13:04.593

[如有疑问，请查看Plugins wiki](https://github.com/ServiceStack/ServiceStack/wiki/Plugins)中是否有描述，或者查看专用的[Authentication page](https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization)中是否有描述。

每个插件都有覆盖其行为的属性，在这种情况下，只需使用可用的路由覆盖它：

```
Plugins.Add(new AuthFeature(() => new AuthUserSession()) {
    IncludeAssignRoleServices = false
}); 
```

这是以下内容的简写：

```
Plugins.Add(new AuthFeature(() => new AuthUserSession(),
    new IAuthProvider[] { ... },
    ServiceRoutes = new Dictionary<Type, string[]> {
      { typeof(AuthService), new[]{"/auth", "/auth/{provider}"} },
      //Omit the Un/AssignRoles service definitions here.
    }    
)); 
```

[AuthFeature](https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/AuthFeature.cs#L44)的源代码对于查看每个属性的默认值也很有用。

# iphone - 暂停后管理 ios voip 应用程序重新启动

> ID：14996186
> 
> 赞同：1
> 
> 时间：2013-02-21T06:47:52.563
> 
> 标签：iphone, objective-c, voip

我正在为 ios 开发一个 voip 应用程序。

在应用程序重新启动一段时间后应用程序暂停。我希望应用程序保持其状态，并在重新启动时希望它恢复其旧状态。

任何人都可以指导我这样做时要小心。

# java - JAVA - do..的错误变量..而

> ID：14996187
> 
> 赞同：-3
> 
> 时间：2013-02-21T06:47:57.370
> 
> 标签：java

编译分配代码时遇到问题。

当我将开关菜单的扫描仪输入用作整数值时，`do-while`工作正常，但由于分配要求，菜单输入需要是字符，所以我将其更改如下，但它一直给我错误说明变量`m`没有找到。

```
do {
  System.out.println(displayMenu(""));
  option = scn.nextLine();
  char m = option.charAt(0);

  switch (m) {    
    case 'A': TMA_Q3.enterInput(0); break;
    case 'B': System.out.println(" "); break;
    case 'C': System.out.println(""); break;  
    case 'D': System.out.println(""); break;
    case 'E': System.out.println(""); break;
    case 'F': System.out.println(""); break;

  }
} while(m != 'F'); // error occurs on this line stating m is not found 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-21T06:49:45.627

`m`超出范围`do {`，因为您在`do {`.

尝试像这样重构：

```
char m;
do {
    System.out.println(displayMenu(""));
    option= scn.nextLine();
    m = option.charAt(0);
    ... 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T06:50:57.627

您必须声明`m`：`do`

```
char m='';

do {
    //...
} while(m!='F'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T06:51:43.953

变量`m`超出范围。您需要在`do ... while`循环之外定义它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T06:54:20.367

```
System.out.println(displayMenu(""));
option= scn.nextLine();
char m=''; 
```

> 必须在 do 语句之外。尝试将您的代码反转为以下代码：

```
System.out.println(displayMenu(""));
option= scn.nextLine();
char m =option.charAt(0);
do{
   m =option.charAt(0);
switch (m) {    case 'A': TMA_Q3.enterInput(0);break;
                 case 'B': System.out.println(" "); break;
                 case 'C': System.out.println(""); break;  
                 case 'D': System.out.println(""); break;
                 case 'E': System.out.println(""); break;
                 case 'F': System.out.println(""); break;

               }
} 
 while( m!='F'); 
```

# sas - 如何访问存储在 SAS proc 输出中的数据

> ID：14996190
> 
> 赞同：1
> 
> 时间：2013-02-21T06:48:02.237
> 
> 标签：sas

有几次，我需要在 SAS 中运行一个过程，然后保存输出变量以供另一个程序 (MATLAB) 访问。这很容易，例如：

```
proc genmod order=data;
    class X Y Z;
    output out= gmout1 prob = PRED;
    model count=X Y Z /dist=poi pred;
run; *mutual independence;
proc export data = work.gmout1
    outfile = "...\genmodout1.txt"
    dbms = csv replace;
run; 
```

第`output out= gmout1`3 行中的将 proc genmod 导出的所有变量保存到名为 gmout1 的库表中。

我目前的需要是能够访问存储在 SAS 本身的 gmout1 中的一些数据。应该很容易，但我的搜索没有发现任何有用的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:10:29.153

`data`使用该选项，您的数据集 gmout1 可以用作其他 procs 的输入。例如，如果您想打印这些：

```
proc print data=gmout1;
var _all_;
run; 
```

您还可以使用`set`语句通过数据步骤（SAS 中的大多数编程发生在这里）对数据进行修改。例如，如果您有一个变量“fit”并且您需要将其重新编码为 x100，您可以这样做：

```
data gmout2; *creates new dataset gmout2;
set gmout1; *use the dataset gmout1;
new_fit = fit * 100;*creates new variable new_fit as 100 times fit;
run; 
```

要将特定变量（或多个变量）导出到文本文件，您有多种选择。最简单的：

```
data _null_;
set gmout1;
file "c:\temp\myfile.csv" dlm=',' lrecl=32767 dsd;
if dimension="Value" and dimension2="Value";
put
variable1_numeric
variable2_character $
variable3_numeric
;
run; 
```

我注意到您提到了矩阵 - 从技术上讲，基本 SAS 不使用矩阵，只有数据集（基本上是数据行）。SAS/IML 是矩阵语言；它的用法类似于 R，并允许使用通用的矩阵语法。

# ios - 在 UIView 的子类中添加按钮和操作

> ID：14996195
> 
> 赞同：2
> 
> 时间：2013-02-21T06:48:36.037
> 
> 标签：ios, objective-c, ios5

我有一个类`CustomView`（`UIView`没有 xib 文件的子类），我正在其中创建一些标签和按钮。我想在另一个类中使用这个类`UIViewController`来添加这些标签和按钮。我可以使用自定义视图将标签和按钮添加到我的 viewController，但是如果我向按钮（在自定义视图中）添加一些操作或事件，它就不起作用。请建议我应该怎么做才能为按钮添加操作。

```
//ViewController code

CustomView *slider=[[CustomView alloc]init];
[self.view addSubview:slider];

//CustomView code

toggleButton = [UIButton buttonWithType:UIButtonTypeCustom];
[toggleButton setTitle:@"" forState:UIControlStateNormal];
toggleButton.userInteractionEnabled=YES;

// add drag listener
[toggleButton addTarget:self action:@selector(wasDragged:withEvent:)
       forControlEvents:UIControlEventTouchDragInside];

// center and size
toggleButton.frame = CGRectMake(frame.origin.x, frame.origin.y, width, frame.size.height);

toggleButton.backgroundColor=[UIColor colorWithRed:0.1 green:0.1 blue:0.0 alpha:0.1];
[toggleButton.layer setBorderWidth:4.0];
[toggleButton.layer setBorderColor:[[UIColor lightGrayColor] CGColor]];
toggleButton.layer.cornerRadius=4.0;
[toggleButton setTitleColor:[UIColor colorWithRed:0.3 green:0.1 blue:0.4 alpha:1.0] forState:UIControlStateNormal];

// add it, centered
[self addSubview:toggleButton];

  - (void)wasDragged:(UIButton *)button withEvent:(UIEvent *)event 
  {
   NSLog(@"inside drag");
  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T14:03:14.623

用以下代码替换您的代码：

自定义视图.h：

```
#import <UIKit/UIKit.h>
#import <QuartzCore/QuartzCore.h>

@interface CustomView : UIView

@property (nonatomic, strong) UIButton *toggleButton;

@end 
```

自定义视图.m：

```
#import "CustomView.h"

@implementation CustomView

@synthesize toggleButton;

- (id)initWithFrame:(CGRect)frame
{
      self = [super initWithFrame:frame];
      if (self) {
            // Initialization code
            toggleButton = [UIButton buttonWithType:UIButtonTypeCustom];
            [toggleButton setTitle:@"" forState:UIControlStateNormal];
            toggleButton.userInteractionEnabled=YES;

            // add drag listener
            [toggleButton addTarget:self action:@selector(wasDragged:withEvent:)
                       forControlEvents:UIControlEventTouchDragInside];

            // center and size
            toggleButton.frame = CGRectMake(frame.origin.x, frame.origin.y, width, frame.size.height);

           toggleButton.backgroundColor=[UIColor colorWithRed:0.1 green:0.1 blue:0.0 alpha:0.1];
           [toggleButton.layer setBorderWidth:4.0];
           [toggleButton.layer setBorderColor:[[UIColor lightGrayColor] CGColor]];
           toggleButton.layer.cornerRadius=4.0;
           [toggleButton setTitleColor:[UIColor colorWithRed:0.3 green:0.1 blue:0.4 alpha:1.0] forState:UIControlStateNormal];

           // add it, centered
           [self addSubview:toggleButton];
    }
    return self;
}

- (void)wasDragged:(UIButton *)button withEvent:(UIEvent *)event
{
      NSLog(@"inside drag");
} 
```

将 CustomView 添加到 ViewController 中，例如：

```
CustomView *slider=[[CustomView alloc]initWithFrame:CGRectMake(x, y, width, height)];
[self.view addSubview:slider]; 
```

我测试了这段代码，它可以工作:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T06:51:49.103

替换此行

```
[toggleButton addTarget:self action:@selector(wasDragged:withEvent:)
       forControlEvents:UIControlEventTouchDragInside]; 
```

有了这个

```
[toggleButton addTarget:self action:@selector(wasDragged:withEvent:)
       forControlEvents:UIControlEventTouchUpInside]; 
```

希望这会奏效

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T06:53:24.973

你把方法 wasDragged:withEvent 放在哪里了？因为在CustomView代码中，你将按钮目标设置为self，也就是customview。所以按钮 TouchDragInside 事件将被发送到 customview 而不是 viewController。如果你将 wasDragged:withEvent 放在 ViewController 中，它不会工作

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:21:26.757

您添加了 target 作为`self`action `wasDragged:withEvent`。为此（假设`wasDragged:withEvent`在您的自定义视图中声明），您必须将代码重写为

```
[toggleButton addTarget:slider action:@selector(wasDragged:withEvent:)
       forControlEvents:UIControlEventTouchDragInside]; 
```

# codeigniter - Codeigniter 购物车：如何使用 ajax 和 jquery 添加多个项目

> ID：14996196
> 
> 赞同：0
> 
> 时间：2013-02-21T06:48:36.647
> 
> 标签：codeigniter, jquery, shopping-cart

我正在使用 Codeigniter 构建一个基于 ajax 的购物车，并且添加/删除功能完美运行。我现在正在尝试添加用于添加多个项目的选项，但无法使其正常工作。

这是我正在使用的标记。我不确定它是否是最好的设计，但它与非 ajax 功能一起使用，所以我想应该没问题。

```
<form action="cart/add_multiple" method="post" accept-charset="utf-8">
<input type="hidden" name="items[0][id]" value="3571310" />
<input type="hidden" name="items[0][qty]" value="1" />
<input type="hidden" name="items[0][price]" value="59.00" />
<input type="hidden" name="items[0][name]" value="London" />
<input type="hidden" name="items[0][heb_name]" value="לונדון" />
<input type="hidden" name="items[0][full_price]" value="59.00" />
<input type="hidden" name="items[0][discount_price]" value="59.00" />

<input type="hidden" name="items[1][id]" value="7397903" />
<input type="hidden" name="items[1][qty]" value="1" />
<input type="hidden" name="items[1][price]" value="29.00" />
<input type="hidden" name="items[1][name]" value="London Triple" />
<input type="hidden" name="items[1][heb_name]" value="לונדון טריפל" />
<input type="hidden" name="items[1][full_price]" value="29.00" />
<input type="hidden" name="items[1][discount_price]" value="29.00" />
<input type="submit" name="add_multi" value="add to cart"  /></form> 
```

ajax脚本如下：

```
$(document).ready(function() {
$(document).on("submit", "div#winning_combo_small form", function () { //catches every click on the submit button of the "add to cart" form
    var items = $(this).serialize();

    alert(items);
    $.post(base_url + "cart/add_multiple", {items: items, ajax: '1' },
            function(data){
                if (data =='true')
                    { // Interact with returned data
                        $.get(base_url + "cart", function(cart){ // Get the contents of the url cart/show_cart
                        $("#cart_sidebar").html(cart);
                        })

                        $.get(base_url + "cart/count_items", function(items){
                            $("#cart_items").html(items);
                        })
                    }
                });
  return false;
})
}); 
```

但它不起作用，因为`add_multiple`函数接收数据作为字符串，而不是数组。我是否必须以某种方式解码数据才能将其转换为数组？希伯来语字符是否会妨碍您并把事情搞砸？

我应该说，当以常规方式发布表单时，没有 ajax，项目被添加到购物车并且一切正常。那么普通帖子和ajax帖子有什么区别呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T14:28:36.663

好吧，我让它工作了，虽然我不确定这是否是最优雅的方式。

这是我所做的：

在 ajax 脚本中，我更改`var items = $(this).serialize();`为`var items = $(this).serializeArray();`. 我现在得到一个数组而不是字符串，但这不是我需要插入购物车的格式。所以我循环这个数组以创建一个所需格式的数组，并使用这个新数组插入购物车。

这是我在购物车控制器下的 add_multiple 函数：

```
 function add_multiple()
{
    $items = $this->input->post('items');
    $ajax = $this->input->post('ajax');

    // Check if user has javascript enabled
    if($ajax != '1'){
        $this->cart->insert($items); //if posted the regular non-ajax way, the fields will be in an array in the correct format
        echo 'false';
        redirect('cart'); // If javascript is not enabled, reload the page with new data
    }else{

        $i = 0;
        foreach($items as $key=>$form_field)
        {
            $field_name = $form_field['name'];
            $from_char = strrpos($field_name, '[') +1 ;
            $length = strlen($field_name)-$from_char-1;
            $field = substr($field_name,$from_char,$length);

            $data[$i][$field] = $form_field['value'];
            if ($field == "discount_price") $i+=1; // I know 'discount price' is always the last field
        }

        $this->cart->insert($data);

        echo 'true'; // If javascript is enabled, return true, so the cart gets updated
    }
} 
```

# video-streaming - 通过 rtsp 使用 h.263/mpeg-4 编码流式传输视频

> ID：14996197
> 
> 赞同：2
> 
> 时间：2013-02-21T06:48:37.887
> 
> 标签：video-streaming, rtsp

我正在开发需要将视频流式传输到移动设备的产品，其中大多数是功能手机。这些设备上支持最广泛的视频/音频编解码器是 mpeg-4/aac 和 h.263/aar。因此，我正在寻找一种能够通过 rtsp 流式传输具有这些编码格式的视频的解决方案。

到目前为止，我已经看过 Adob​​e Flash Media Server 和 Wowza。FMS 不支持 rtsp，Wowza 似乎只适用于 h.264 编码的视频。

如果有人可以向我指出通过 rtsp 流式传输 h.263/mpeg-4 编码视频的解决方案，我将非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:15:23.707

[达尔文流媒体服务器](http://en.wikipedia.org/wiki/Darwin_Streaming_Server)似乎可以完成这项工作。唯一的问题是，对于流媒体视频，需要先提示文件。这可以使用[MP4Box](http://gpac.wp.mines-telecom.fr/mp4box/)轻松实现。

# mysql - 我可以做一个mysql命令来过滤和删除重复的条目吗

> ID：14996202
> 
> 赞同：1
> 
> 时间：2013-02-21T06:49:03.453
> 
> 标签：mysql, count

我有`linkage`以下值的表格

```
++++++++++++++++++++++++++
+ company_id +  industry +
++++++++++++++++++++++++++
+     1      +    a      +
+     1      +    b      +
+     2      +    a      +
+     2      +    c      +
+     3      +    a      +
+     4      +    c      +
+     5      +    a      +
++++++++++++++++++++++++++ 
```

有没有一种方法可以将我的行业分组以通过 desc 顺序示例获得最高计数排序。

```
a = count 4
c = count 2
b = count 1 
```

然后删除重复的行业，只留下每个行业计数较高的行业`company_id`。

* * *

## 编辑 1

此编辑基于 OP 评论`I wish to only have the industry with the highest count, and deleting the rest of the entry for the same company_id. say for company_id 1, we will delete the second row, for company_id 2 we will delete the forth row.`

下面是我所拥有的。

```
++++++++++++++++++++++++++
+ company_id +  industry +
++++++++++++++++++++++++++
+     1      +    a      +
+     1      +    b      +
+     1      +    c      +
+     2      +    a      +
+     2      +    c      +
+     3      +    a      +
+     4      +    c      +
+     5      +    a      +
++++++++++++++++++++++++++ 
```

正如我们在列行业中看到的那样，a 具有最大计数，我想保留每个重复的 company_id 的条目并删除其余的所有条目。

考虑 company_id=1。我需要删除第二行和第三行。考虑 company_id=2。我需要删除第五行。对于 id=3,4,5 什么都不会发生，因为它们没有重复。

所以应该在我的表中的最终数据是

```
++++++++++++++++++++++++++
+ company_id +  industry +
++++++++++++++++++++++++++
+     1      +    a      +
+     2      +    a      +
+     3      +    a      +
+     4      +    c      +
+     5      +    a      +
++++++++++++++++++++++++++ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T06:54:01.693

这个怎么样？

```
SELECT industry, count(industry) as "total" 
FROM linkage 
GROUP BY industry 
ORDER BY total DESC 
```

## [在 sqlfiddle 演示](http://sqlfiddle.com/#!2/4f3fc/2)

* * *

## 编辑 1

你能看看下面的问题。

[**如何从我的数据库中删除重复记录**](https://stackoverflow.com/a/9637749/1066828)

我认为这就是你要找的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:35:18.837

```
select n.industry,count(n.industry) count from linkage n
group by n.industry
order by count desc 
```

* * *

```
select t3.company_id,t4.industry from
(select t2.company_id,max(t2.count) count from(
select m.company_id,m.industry,t1.count from linkage m
join
(select n.industry,count(n.industry) count from linkage n
group by n.industry
order by count desc)t1
on m.industry = t1.industry
order by m.company_id)t2
group by t2.company_id
order by t2.company_id)t3
join
(
select m.company_id,m.industry,t1.count from linkage m
join
(select n.industry,count(n.industry) count from linkage n
group by n.industry
order by count desc)t1
on m.industry = t1.industry
order by m.company_id)t4
on t3.company_id = t4.company_id 
and t3.count = t4.count 
```

## [在 sqlfiddle 演示](http://sqlfiddle.com/#!2/d13f56/1)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T08:34:21.687

```
select t6.company_id,t6.industry from
(select t5.company_id,t5.industry,
row_number() over (partition by t5.company_id order by t5.company_id) rn
from 
(select t3.company_id,t4.industry from
(select t2.company_id,max(t2.count) count from(
select m.company_id,m.industry,t1.count from linkage m
join
(select n.industry,count(n.industry) count from linkage n
group by n.industry
order by count desc)t1
on m.industry = t1.industry
order by m.company_id)t2
group by t2.company_id
order by t2.company_id)t3
join
(
select m.company_id,m.industry,t1.count from linkage m
join
(select n.industry,count(n.industry) count from linkage n
group by n.industry
order by count desc)t1
on m.industry = t1.industry
order by m.company_id)t4
on t3.company_id = t4.company_id 
and t3.count = t4.count)t5
)t6
where t6.rn = '1' 
```

# java - Android-模拟鼠标悬停/悬停

> ID：14996206
> 
> 赞同：4
> 
> 时间：2013-02-21T06:49:24.577
> 
> 标签：java, android

如何在 Android 应用程序中模拟鼠标悬停事件？我必须检测用户是否在屏幕的特定部分上触摸/悬停超过 2 秒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T16:04:18.533

你不能没有光标悬停。

但是对于 ipad，有一个用于 css 的模拟悬停命令。不幸的是我找不到它，如果有人找到它，请告诉我！

我曾经在一些代码中使用过它，我正在为它搜索那个代码，我希望我没有想象到它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:11:04.740

[如何将鼠标悬停在链接上？](http://www.droidforums.net/forum/droid-2-general-discussions/110239-how-hover-over-link.html)

我希望这个链接对你有帮助。

但是一个人怎么能悬停在触摸设备上呢？好吧，我总是把手指放在上面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-21T07:27:49.780

案例：我想要一个指针通过手表在手机屏幕上移动鼠标。如果将来有人发现这个：

指针图像：Tasker 允许创建场景。使用与您希望指针一样大的画布创建一个场景，将您想要的图像作为指针添加为场景唯一元素，填充场景。

坐标静态：为“X”和“Y”创建变量（这些仍然不是像素）。您想在演出场景位置上应用您的变​​量来调整值。0,0 是左上角，200,200 是右下角。

坐标运动：我的方法是使用 2 个变量“现在”和“最终”（或其他名称）。所以你可以告诉tasker：在Xnow,Ynow中隐藏场景；在 Xfinal,Yfinal 中显示场景；将变量 Xnow 设置为 Xfinal，将 Ynow 设置为 Yfinal。

考虑到这一点：您可能想要检测“鼠标叠加图像是否位于所需元素的顶部。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-21T06:53:33.970

有了触摸屏，用户只能触摸或不触摸，而不能悬停，所以这部分问题可能就出来了。

长触摸行为在各种`onXXXLongClick()`处理程序中实现。

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2013-03-30T16:10:42.603

尝试在链接中添加 onClick="return true" 一个 href 标记

关于我们

onClick="return true" 应该模拟光标悬停然后离开悬停区域。有效地为您提供悬停效果。

请记住，您的手指必须触摸按钮才能发生悬停效果，这意味着用户只会在链接加载页面之前看到一两秒钟的变化。

# php - md5 排除 php

> ID：14996207
> 
> 赞同：-3
> 
> 时间：2013-02-21T06:49:33.533
> 
> 标签：php, md5

我写的这个 php 在第 9 行有一个语法错误，由 dreamweaver 报告，但我无法弄清楚。有人能帮助我吗？该脚本的目的是获取一个包含电子邮件地址的 md5 文件来与我们的数据进行比较，并从输出文件中排除这些行。

```
<?php
$suppressions = file_get_contents("suppressions.txt");
$emails = file_get_contents("emails.txt");
$email_check = explode($emails,"\r\n");
$suppression_check = explode($suppressions,"\r\n");
foreach($email_check as $email)
{
$email_md5 = md5($email)
foreach($suppression_check as $suppression)
{
if($email_md5 == $suppression)
{
file_put_contents("emails_suppressed.txt",$email);
}
}
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T06:51:29.370

分号：

```
Line 8: $email_md5 = md5($email); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T06:53:05.130

错误将是第 9 行的 Unexpected foreach，您需要先用分号“;”结束第 8 行

```
Line 8: $email_md5 = md5($email); 
```

# ios - MFMailComposeViewController 强制图像附件的实际大小

> ID：14996209
> 
> 赞同：6
> 
> 时间：2013-02-21T06:49:48.580
> 
> 标签：ios, cocoa-touch, mfmailcomposeviewcontroller

我正在开发一个允许用户使用 MFMailComposeViewController 通过电子邮件发送图像的应用程序。所附图像为 1200 x 1800，图像大小不得更改。

对于大图像，MFMailComposeViewController 会向用户显示一个操作表，让他们可以选择在按下“发送”时缩小图像（见屏幕截图）。我希望不显示此操作表并强制附加图像的实际大小。

任何建议表示赞赏！

![截屏](../Images/995baf4ecb639b51a0f5857d5640503c.png)

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-05-05T12:29:39.593

根据 Apple 的指导方针，MFMailComposeViewController 是一个我们不应该改变其行为的类。因此，最好坚持默认行为，以免在提交 App 进行审核时遇到问题。但是，您可以做一个 hack：当用户选择除您想要的以外的任何其他选项时，显示一条消息，说明实际大小是附加的大小，因为这是应用程序的行为，他/她的选择将是忽略。

# c# - Windows Phone中的Admob实现错误

> ID：14996213
> 
> 赞同：1
> 
> 时间：2013-02-21T06:49:56.893
> 
> 标签：c#, silverlight, windows-phone-7, admob

我曾尝试在 Windows 应用程序中使用 Admob。我已按照 [http://admobwp7.codeplex.com/](http://admobwp7.codeplex.com/)视频在我的应用中实现 Admob

我的 XAML 代码如下：

```
<adMob7:adMobRenderer HorizontalAlignment="Left" Margin="29,308,0,0" VerticalAlignment="Top"
                              Width="480" Height="55"
                              PublisherID="mypublisherID" TestMode="True"/> 
```

当我尝试构建应用程序时，出现这样的错误

> XML 命名空间“clr-namespace:adMob7”中不存在标记“adMobRenderer”。如何解决这个问题呢 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:00:17.933

每件事情看起来都很好尝试创建新的示例应用程序可能会起作用（我认为你添加了这个 dll 而不解锁它，解锁后它也显示错误我认为这是 Visual Studio 中的错误这也发生在我身上）

# c# - 如何防止暴露任何其他接口方法？

> ID：14996215
> 
> 赞同：2
> 
> 时间：2013-02-21T06:50:01.783
> 
> 标签：c#, asp.net, .net, interface

我有一个如下界面

```
public interface I1 
{
public int add(int a , int b);

public int subtract (int a, int b);

}

public class Myclass : I1
{
//here I can access both the methods of interface I1
//add and subtract but i want to expose only add not subtract method
//How can I achieve this? 

} 
```

我怎样才能只公开特定的方法并防止其他方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T06:51:54.047

对于这种要求，请选择抽象类而不是接口，因为在接口中所有方法默认情况下都是公共的。这是抽象类和接口之间的区别之一。

在接口中你不能像 private 和 public 这样的修改器，默认情况下所有方法都是公共的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:06:33.833

您可以通过显式实现隐藏该方法。我会说这是个坏主意，您可能应该将界面分成两部分，但这是可能的

```
public class MyClass {
    public int I1.subtract(int a, int b) {
        throw new NotImplementedException();
    }
} 
```

当像这样完成时，减法只有在`object`被**转换为 I1时才可见**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T06:52:23.577

接口的概念说你`if you implement an interface you need to implement all the methods`所以我认为它做不到

更进一步的默认方法`interface`是`public`
所以当你要定义它时，它应该是`public`唯一的。
这是一个链接，可以更好地理解`Interfaces`
[http://www.codeproject.com/Articles/18743/Interfaces-in-C-For-Beginners](http://www.codeproject.com/Articles/18743/Interfaces-in-C-For-Beginners) 这是一个描述和[http://www.codeproject.com](http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface)
之间区别的链接[/Articles/11155/抽象类与接口](http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface)`Interface``abstract class`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-21T07:05:54.090

不知道为什么你需要这种行为。如果您只希望 MyClass 对象可以使用其中一种方法，则可以对该特定方法使用显式接口实现

```
public class Myclass : I1
    {
        public int add(int a, int b)
        {
            return 1;
        }

        public int I1.subtract(int a, int b)
        {
            return 2;
        }
    } 
```

在这种情况下，当您创建 MyClass 的对象时，您将只有 add 方法，而不是减去方法。要访问减法，您必须使用 I1 的引用类型

# .net - Oracle pl/sql 中的多线程概念

> ID：14996216
> 
> 赞同：1
> 
> 时间：2013-02-21T06:50:02.757
> 
> 标签：.net, multithreading, oracle, stored-procedures, plsql

我创建了一个过程，它以数组的形式接受一些输入，这些输入是从 .NET Web 应用程序传递的。

在过程中：我打开一个包含表中所有数据的游标，然后逐行从游标中获取数据并对其应用验证规则。

对于每一行，我需要多次点击 DB（几乎包含嵌套查询）；如果数据验证失败，那么我更新`remarks`同一个表中的字段（通过立即使用更新查询），如果验证成功，则在其他表中插入/更新数据。

我对 25 万条记录进行了尝试，发现处理它需要一个多小时。

我需要提高这个存储过程的性能。请让我知道如何实现这一目标。

我对此有一个想法。

**制作多组记录（每组 10 k），然后像我们使用多线程的方式一样处理每组。**

这可能吗？如果是，那怎么办？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T11:46:12.027

在 Oracle 中有类似多线程的注意事项。如果你真的需要在后台（并行）运行某些东西，你需要 JOB 或 SCHEDULER_JOB。您可以“理论上”通过使用以下方法加速您的顺序（批处理）处理：

*   整体/整体结构
*   UPDATE 语句中的“WHERE OF CURRENT”条件
*   用 MERGE 语句替换 INSERT/UPDATE
*   在连接中使用“内存中”表 - SQL 类型“TABLE OF <something>”
*   使用 PARALLEL 提示 - 在一些复杂的 SQL 查询中

请记住，“PL”和“SQL”是两个不同的“虚拟”机器，它们之间的上下文切换（可能）很慢。

使用并行/多线程是 Java/.NET 世界中的常见解决方案。在 Oracle 中，这种方法并不经常使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:27:14.550

很可能，您的过程可以通过使用 PL/SQL 批处理功能变得更快。要并行运行代码，请查看 DBMS_JOB 和 DBMS_SCHEDULER 包。此外，检查您的部分代码是否可以通过并行查询和/或并行 DML 加速。
逐行是最慢的，特别是如果您使用显式光标。

# yui - 如何在 YUI3 中覆盖面板按钮的事件处理程序

> ID：14996223
> 
> 赞同：1
> 
> 时间：2013-02-21T06:50:15.680
> 
> 标签：yui

我使用 panel.addButton({value:"XXX",section:...,action:function(){ ***** }}) 在面板上添加按钮，现在我想覆盖按钮的操作，怎么做这个！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T19:30:36.650

您不能“更改”`action`功能本身。`action`是将某些事件的事件侦听器添加到您创建的按钮节点的快捷方式。您可以做的是删除该事件侦听器并添加另一个。

由于`action`只添加了一个事件侦听器，因此您可以通过移除所有事件侦听器来安全地移除它。只需使用 获取按钮节点`getButton`，调用`detachAll`并附加一个新的事件侦听器：

```
var panel = new Y.Panel({ /* panel config with some buttons */  });
// later on...
var button = panel.getButton(1);
button.detachAll();
button.on('click', newAction); 
```

# iphone - 错误：“cv”之前的预期说明符限定符列表

> ID：14996224
> 
> 赞同：5
> 
> 时间：2013-02-21T06:50:20.753
> 
> 标签：iphone, ios, xcode, opencv, cocos2d-iphone

我正在使用 OpenCV 框架进行图像处理，我正在为普通 iOS 项目识别照片中的边缘，现在我在 cocos2d 项目中转换此代码，我已导入所有必需的标头，但在编译时出现此错误：预期的说明符-限定符- 'cv' 之前的列表。这是我的代码

```
 #import "cocos2d.h"
     #import "CameraController.h"
     #import "Globals.h"

     @interface BotoxEffectController : CCLayer 
     { cv::VideoCapture *_videoCapture; cv::Mat _lastFrame;}//this is line where i am
       getting error

     @property (nonatomic, retain) CCSprite *sprite2D;
     +(CCScene *) scene;
     @end

     here is code in .pch file.

     #import <Availability.h>

     #ifndef __IPHONE_3_0
     #warning "This project uses features only available in iPhone SDK 3.0 and later."
     #endif

     #ifdef __cplusplus
     #import <OpenCV/opencv2/opencv.hpp>
     #endif

     #ifdef __OBJC__
     #import <UIKit/UIKit.h>
     #import <Foundation/Foundation.h>
     #endif 
```

请参考下面的屏幕截图 BotoxEffectController 类接口，其中错误是 & 实现文件扩展名为 .mm。 ![肉毒杆菌毒素控制器](../Images/d6d2ada8b2e7ec95d971c4eba8d6c721.png)

这是我要导入 opencv.hpp 的 .pch 文件

![.pch](../Images/a4919eafb73120e311116f9355a8e5ab.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T11:29:01.013

我想我知道这里发生了什么。尝试将 OpenCV 头文件添加到您的 BotoxEffectController 头文件中：

```
#import <OpenCV/opencv2/opencv.hpp> 
```

如果这修复了编译错误，则问题出在 prefix.pch 上。由于某种原因，它不解析该`#if __cplusplus`部分。您可以通过向其添加警告来验证它，看看它是否触发：

```
#ifdef __cplusplus
#warning "ok so it DID import the OpenCV header"
#import <OpenCV/opencv2/opencv.hpp>
#endif 
```

如果这是问题所在，我无法告诉您为什么 prefix.pch 中的 opencv 标头不起作用。我只记得以前遇到过一两次这个问题，但不记得我是如何解决的。您应该检查的一件事：BotoxEffectController.h 应该将其文件类型设置为“默认 - C 标头”而不是 C++ 标头。

# javascript - 使用 CasperJS 的网站无法按预期工作

> ID：14996235
> 
> 赞同：0
> 
> 时间：2013-02-21T06:51:05.030
> 
> 标签：javascript, phantomjs, casperjs

我在 Windows 8 上的 PhantomJS 1.8.1 下使用 CasperJS 1.0.2。

尝试为网站编写测试。该站点严重依赖 JS，并且编码主体非常不寻常，这可能会造成一些问题，但我不确定。

这是我用来测试登录和搜索功能的代码：

```
var url = 'http://www.testsite.com/';

var casper = require('casper').create();

casper.start();

casper.start(url, function() {
    this.echo('Page: ' + this.getTitle());
    this.capture('start.png');

    if (this.exists('input#TxtUserName')) {
        this.sendKeys('input#TxtUserName', 'testlogin');
        this.sendKeys('input#TxtPassword', 'testpass');
        this.click('input#BtnLogin');
        this.capture('loggedin.png');
    }
});

casper.then(function() {
    this.capture('beforesearch.png');
    this.sendKeys("input#txtSearch", '1002');
    this.click("input#cmdSubmit");
    this.echo('Searching');
    this.capture('aftersearch.png');
});

casper.run(); 
```

当我运行此代码时，屏幕截图上的每个页面都是相同的，但登录信息是在 login.png 中填写的。在单击事件之后，它绝不会实际登录（使用我的真实登录凭据）。触发该点击后，搜索结果也不会显示。

任何线索可能导致这种情况？

这是我提交搜索后的 waitFor 代码：

```
casper.waitForText("Part:", function() {
    this.capture('searchresults.png');
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:31:52.017

您应该使用`casper.waitFor`以确保已加载下一页。否则 phantom 将在表单提交得到答复之前截取屏幕截图。

# scala - 构造函数无法实例化为预期类型；p@人

> ID：14996237
> 
> 赞同：7
> 
> 时间：2013-02-21T06:51:15.117
> 
> 标签：scala, scala-2.9

我正在使用 scala 版本：`Scala code runner version 2.9.2-unknown-unknown -- Copyright 2002-2011, LAMP/EPFL`

我从这里尝试了深度大小写匹配结构：http: [//ofps.oreilly.com/titles/9780596155957/RoundingOutTheEssentials.html](http://ofps.oreilly.com/titles/9780596155957/RoundingOutTheEssentials.html)，代码如下`match-deep.scala`：

```
class Role
case object Manager extends Role
case object Developer extends Role

case class Person(name:String, age: Int, role: Role)

val alice = new Person("Alice", 25, Developer)
val bob = new Person("Bob", 32, Manager)
val charlie = new Person("Charlie", 32, Developer)

for( person <- List(alice, bob, charlie) ) {
  person match {
    case (id, p @ Person(_, _, Manager)) => println("%s is overpaid".format(p))
    case (id, p @ Person(_, _, _)) => println("%s is underpaid".format(p))
  }
} 
```

我收到以下错误：

```
match-deep.scala:13: error: constructor cannot be instantiated to expected type;
 found   : (T1, T2)
 required: this.Person
    case (id, p @ Person(_, _, Manager)) => println("%s is overpaid".format(p))
         ^
match-deep.scala:13: error: not found: value p
    case (id, p @ Person(_, _, Manager)) => println("%s is overpaid".format(p))
                                                                            ^
match-deep.scala:14: error: constructor cannot be instantiated to expected type;
 found   : (T1, T2)
 required: this.Person
    case (id, p @ Person(_, _, _)) => println("%s is underpaid".format(p))
         ^
match-deep.scala:14: error: not found: value p
    case (id, p @ Person(_, _, _)) => println("%s is underpaid".format(p)) 
```

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T06:58:41.893

错误信息一目了然

```
for( person <- List(alice, bob, charlie) ) {
  person match {
    case p @ Person(_, _, Manager) => println("%s is overpaid".format(p.toString))
    case p @ Person(_, _, _) => println("%s is underpaid".format(p.toString))
  }
} 
```

这是做同样事情的一个简短方法：

```
for(p @ Person(_, _, role) <- List(alice, bob, charlie) ) {
  if(role == Manager) println("%s is overpaid".format(p.toString))
  else println("%s is underpaid".format(p.toString))
} 
```

**编辑** 我不确定你真正`id`想要的是什么，我想这是`index`列表中的人的意思。开始了：

```
scala> for((p@Person(_,_,role), id) <- List(alice, bob, charlie).zipWithIndex ) {
     |   if(role == Manager) printf("%dth person is overpaid\n", id)
     |   else printf("Something else\n")
     | }
Something else
1th person is overpaid
Something else 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T07:35:10.030

错误是因为您匹配的`person`不是一个元组`(id,person)`

```
person match{
  case p @ Person(_, _, Manager)) => println("%s is overpaid".format(p)
  case p : Person => println("%s is underpaid".format(p.toString))
} 
```

这应该足够了。

**编辑**

您可以调整它以`foreach`轻松使用

```
List(alice, bob, charlie) foreach {
    case p@Person(_,_,Manager)=>println("%s is overpaid".format(p);
    case p:Person =>println("%s is underpaid".format(p.toString)) 
} 
```

# iphone - 在 UIDatePicker 中禁用突出显示的日期

> ID：14996239
> 
> 赞同：1
> 
> 时间：2013-02-21T06:51:28.243
> 
> 标签：iphone, uidatepicker, uipicker

是否可以完全禁用 UIDatePicker 中突出显示的日期。不想为任何日期显示蓝色

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:00:32.943

我认为这是 UIDatePicker 的默认行为。所以这是不可能的。所以更好的选择是

您可以使用自定义日期选择器。

# javascript - 如何使用鼠标悬停仅在博客文章中突出显示链接？

> ID：14996241
> 
> 赞同：0
> 
> 时间：2013-02-21T06:51:41.790
> 
> 标签：javascript, html, css, blogger

我想突出显示在我的博客中的帖子文章中出现的所有链接。我尝试了一些 CSS 代码，但它们在整个博客中都有效。

我只需要在博客的帖子链接上应用它，而不是在整个页面上应用它。我应该怎么做？

我对 CSS 了解不多，我的博客托管在 Blogger 上。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:57:22.343

您应该在 .post-content a 上添加 css。很大程度上取决于您使用的主题。指向您博客的链接会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:03:25.517

在 Blogger 中，帖子标题有一个类名`title`。因此，您可以执行以下操作以仅提及帖子标题的突出显示。

*请使用您喜欢的浏览器的开发工具检查帖子标题的类名。*

```
.title a
{
   //css style for highlighting
} 
```

# java - 如果参数值为空/空，则使用 struts 2 参数标记构造 URL？

> ID：14996244
> 
> 赞同：-1
> 
> 时间：2013-02-21T06:51:48.353
> 
> 标签：java, struts2

我正在通过 Struts 2 标签制作以下网址。问题是如果请求中没有属性“cust_key”，则 url 不会将**?custKey_key=**附加到 url。

```
 var custUrl= '<s:url  namespace="/customer" action="view-customer" method="viewCustomer" escapeAmp="false"/> <s:param name="custKey_key" value="#request['cust_key']" /> </s:url>'; 
```

标签中是否有一个属性`s:param`总是附加指定的参数，即使值为空或`null`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:14:12.950

来自此自定义标签的[JavaDocs](http://struts.apache.org/release/2.1.x/struts2-core/apidocs/org/apache/struts2/components/URL.html)（请参阅继承`addParameter`方法）：

> ...如果提供的值为 null，则删除具有给定键名的任何现有参数...

所以你需要传递一些值，你至少可以尝试空字符串。

# ruby-on-rails-3 - Rails：在循环中调用函数为每次迭代返回相同的值

> ID：14996247
> 
> 赞同：0
> 
> 时间：2013-02-21T06:51:53.320
> 
> 标签：ruby-on-rails-3, loops, methods, ruby-on-rails-3.2

我正在尝试从 mysql 数据库中的离开表中计算特定学生“UG10001”在特定月份所采取的休假。我正在使用以下代码片段-

```
def calculate(student_id)

 leave = Leave.find_by_sql("SELECT leave_duration FROM leaves WHERE MONTH(leave_from) = 2
  AND YEAR(leave_from) = 2013 AND MONTH(leave_to) = 2 AND YEAR(leave_to) = 2013 AND
  academic_status = 'APPROVED' AND warden_status = 'APPROVED' AND student_id = student_id 
  AND status = 'ACTIVE'")

 sum = leave.sum(&:leave_duration)
 return sum

end 
```

- - - - - 更新 - - - - -

```
 def calculate(student_id)

 sum = Leave.find_by_sql("SELECT leave_duration FROM leaves WHERE MONTH(leave_from) = 2
  AND YEAR(leave_from) = 2013 AND MONTH(leave_to) = 2 AND YEAR(leave_to) = 2013 AND
  academic_status = 'APPROVED' AND warden_status = 'APPROVED' AND student_id = student_id 
  AND status = 'ACTIVE'").sum(&:leave_duration)

 return sum
#it did the trick for me.
end 
```

上述方法将计算特定学生在 2013 年 2 月的休假，并将休假总和返回给调用函数。

```
def calcuateLeaveForEachStudent
  array = Leave.find_by_sql("select student_id from students")
  c = Array.new
  for i in 0...array.length
     student_id = array[i].student_id
     c[i] = calculate(student_id) 
  end
end 
```

但是当我调用上述方法时，'calculate' 方法在每次迭代中返回相同的值。可能的解决方案是什么..？提前致谢..！

PS -
代码在 Rails 控制台上完美运行，没有任何语法错误，但是有一些我无法弄清楚的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:59:09.087

```
 calculate(operation, column_name, options = {}). 
```

或者你可以参考[链接](http://api.rubyonrails.org/classes/ActiveRecord/Calculations.html#method-i-calculate)

# ios - 如何在目标c中访问touchEnded中的数组元素

> ID：14996250
> 
> 赞同：0
> 
> 时间：2013-02-21T06:52:02.027
> 
> 标签：ios, objective-c, nsarray, touchesbegan

我对 TouchesEnded 方法有一个非常奇怪的行为

我正在使用这种语法来访问数组元素

```
int cal=((b * (b-a-1))+4);
printf("cal is %d",cal);
c=[file_contents objectAtIndex:cal];          
printf("message2------%d",c); 
```

并且它在程序中的任何地方都可以正常工作，但是当我在函数中调用上面的这段代码时， `touchesEnded`它会使应用程序崩溃>>

实际上这是我的函数，我`viewdidload`在`touchesEnded`

```
int values_retrieval(int a,int b)
{
//NSLog(@"for loop variable i=%i--> the retrieve coordinates are::%@", a,[file_contents objectAtIndex:(b * (b-a-1))+4]);
printf("message111111111");
int cal=((b * (b-a-1))+4);
printf("cal is %d",cal);
NSString *c=[file_contents objectAtIndex:cal];
int val=[c intValue];
printf("message222222222------%d",val);
return val;
} 
```

当它被调用时`viewdidload`一切顺利，当它被`touchesEnded`方法调用时，应用程序崩溃了

我不知道出了什么问题

这是我的 TouchedEnded 方法

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
    CGPoint     touchedEnd;

    int index=5;
    int i=3;
    printf("value of i is %d",i);
    NSString *test=values_retrieval(i, index);
    printf("val issssssssssssssssssss %d",test);

    touchedEnd = [[touches anyObject] locationInView:touch.view];
} 
```

任何想法或帮助表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:01:20.020

c 被视为一个 int 并且您在 printf() 中为其分配了一个对象。

可能 cal 超出了数组的范围，或者您的数组超出了范围并且不再存在，因为您正在使用 ARC，或者您以其他方式释放了它。

试试这个：

```
int cal=((b * (b-a-1))+4);
printf("cal is %d",cal);
if(cal > file_contents.count-1) 
{
printf("Cal is too big"); 
}
else 
{
c=[file_contents objectAtIndex:cal];    
}      
NSLog(@"message2------%@", c); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:28:02.813

根据您的评论：

> NSString *c=[file_contents objectAtIndex:cal]; 这是我收到 EXC_BAD_ACESS 错误的行，任何帮助@AKV

`EXC_BAD_ACESS`当您不保留对象并将其释放并尝试访问它时，将显示错误。

如果您使用的是 ARC，请确保`file_contents`是`strong`类型。

如果您使用的是非 ARC，请使用`retain`.

# jquery - 使 underscore.js 中的未定义变量错误保持沉默

> ID：14996251
> 
> 赞同：0
> 
> 时间：2013-02-21T06:52:06.400
> 
> 标签：jquery, backbone.js, underscore.js

我有一个backbonejs 应用程序，其中有非常相似的添加和编辑表单。我对添加和编辑操作使用相同的模板。所以在模板中我有类似的东西

```
<input type="name" value=<%= name %> 
```

当提供值名称时（在编辑的情况下），这将正常工作，但在没有提供值的情况下（在添加的情况下）。所以我需要抑制在这种情况下产生的错误，这样我就可以使用模板来“添加”目的。

试过这个：

```
<input  <% if(item.name)%> value="<%= item.name %>" <% else %> value="" <% end %>  type="text"> 
```

但给出了错误

```
Uncaught ReferenceError: end is not defined 
```

有什么办法可以解决。如果它已经可用，我看不出再次生成大模板有什么意义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T13:54:58.603

```
<input type="text" value="<%= item.name ? item.name : '' %>"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:14:40.590

```
<% if (name) { %>
    <input type="name" value=<%= name %> >
<% } else { %>
    <input type="name" value=''>  
<% } %> 
```

# python - Flask-Restless 从 Flask-Sqlalchemy 转储十进制值

> ID：14996264
> 
> 赞同：6
> 
> 时间：2013-02-21T06:53:31.790
> 
> 标签：python, json, flask, flask-sqlalchemy

我有这个使用 Flask-SQLAlchemy 的模型：

```
class Menu(Document, db.Model):
    id = db.Column(db.Integer, primary_key=True, autoincrement=True)
    name = db.Column(db.String(80), unique=True, index=True)
    price = db.Column(db.Numeric) 
```

我可以使用 Flask-Restless 为这个模型创建 api。问题是当我从 api url 进行 HTTP GET 时：

```
 File "/usr/lib/python2.6/json/encoder.py", line 344, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: Decimal('10000.0000000000') is not JSON serializable 
```

问题很明显，JSON 编码器无法编码映射到价格（数字列类型）的十进制值。是否有任何方法可以使用自定义 JSON 编码器启用 Flask-Restless？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T12:46:31.973

这是我所做的：

```
import simplejson as json

def postprocessor(data):
    json.dumps(data, use_decimal=True)
    return data

manager.create_api(Menu, methods=['GET', 'POST', 'PATCH'], allow_patch_many=True, postprocessors={
'PATCH_MANY': [postprocessor],
'GET_MANY': [postprocessor],
'POST': [postprocessor]
}) 
```

所以想法是使用 Flask-Restless 的后处理器用 simplejson 而不是 json 对数据进行编码，因为 simplejson 通过指定 use_decimal=True 来支持 Decimal() 类型。

**编辑：**实际上似乎安装 simplejson 可能就足够了。您的代码无需更改。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-09-03T00:25:43.660

如 mickael 的回答所示，安装 simpejson 就足够了。后处理器的正确语法如下：

```
#first argument must be named as 'result', not 'data'
def postprocessor(result):
    json.dumps(result, use_decimal=True)
    #return data - postprocessors/preprocessors should not return values! 
```

# c++ - 我正在尝试使用 g++ 进行编译，但出现以下错误

> ID：14996265
> 
> 赞同：-1
> 
> 时间：2013-02-21T06:53:32.633
> 
> 标签：c++, operator-keyword

我正在尝试使用 g++ 进行编译，但出现以下错误

```
if(nmFunctions && nmFunctions->updateAddressResponseHandler) 
```

> 错误：'operator&&' 不匹配</p>

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:40:34.887

我猜这`updateAddressResponseHandler`是一个函数，你想调用它并检查它的返回值。在这种情况下，您需要调用它：

```
if(nmFunctions && nmFunctions->updateAddressResponseHandler())
//                                                         ^^ 
```

如果不是这种情况，请发布 的定义`updateAddressResponseHandler`，并描述您尝试使用它做什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:20:20.983

问题是对象`nmFunctions`不能被隐式转换为布尔值或者不知道如何处理`&&`操作符。

从`->`我猜它可能是 a `shared_ptr`，在这种情况下，您需要将其显式转换为`bool`- `(bool)nmFunctions && ...`。

请注意，如果该类`nmFunctions`具有以下任一功能，那应该可以解决您的问题。`shared_ptr`使用另一个强制显式转换的版本。

为什么首选第一种方式应该很明显。

```
// allow for "(bool)nmFunctions" or implicit casting
operator bool() { return someBoolean; }

// allow for "nmFunctions && (boolean)"
bool operator&&(bool b) { return b && someBoolean; } 
```

此外，`updateAddressResponseHandler`听起来像一个函数名。如果是，则需要将其更改为`updateAddressResponseHandler()`，否则将无法编译。

# ios - uilabel 在从右到左语言的属性文本中截断文本

> ID：14996268
> 
> 赞同：2
> 
> 时间：2013-02-21T06:53:35.383
> 
> 标签：ios, objective-c, uilabel

我正在开发一个聊天应用程序，其中我在气泡中显示文本，有时文本很小，有时文本很大，我必须计算文本宽度和高度来绘制我的标签，直到这里一切正常，没有问题。

现在我必须支持 url 链接、电子邮件检测等，为此我必须使用属性文本（我正在使用[http://nimbuskit.info](http://nimbuskit.info)）。对于英语没有问题，但对于从右到左的语言会产生标签高度计算不正确的问题。

我在代码中尝试了很多东西并在互联网上搜索，但没有找到任何解决方案，因此为了追踪根本原因，我在 Xcode 中创建了一个单一视图项目，并在其界面构建器中创建了两个标签，第一个是属性标签，另一个是纯文本，请查看屏幕截图，属性文本的格式与纯文本不同。

它自己的 xcode 界面生成器正在创建此问题。

这些标签的宽度（220）和高度（608）是通过运行我的实际代码设置的，请查看代码。

```
-(NIAttributedLabel*)lbl
{
    NSString *text = @"وأضاف لافروف نبذل ما في وسعنا لتهيئة الظروف لبدء هذا الحوار في أسرع وقت بدون شروط مسبقة طبقا للاتفاقات المنصوص عليها في بيان جنيف التي يعمل مبعوث جامعتكم والأمم المتحدة الأخضر الإبراهيمي على تحقيقها. وحول الوضع في الشرق الأوسط قال لافروف إن موسكو ليست راضية عن الوضع القائم في المنطقة، نظرا إلى عدد من الأمور التي تثير قلقنا وقلقكم. وأوضح أنه يقصد ظهور بؤر للنزاعات المسلحة في المنطقة، وتنامي ظاهرة التطرف والإرهاب، وانتشار الأسلحة دون حسيب أو رقيب. وحث لافروف الجامعة على أن تؤدي دورا رئيسيا في حل النزاعات الدائرة في العالم العربي بعيدا عن أي تدخل خارجي لا يوافق عليه مجلس الأمن الدولي. وحول النزاع الفلسطيني الإسرائيلي شدد لافروف على ضرورة تكثيف جهود الوسطاء الدوليين والجامعة العربية لإنهائه. وأكد لافروف على أن روسيا تؤيد قرار الجامعة العربية بشأن عقد مؤتمر يتبنى إعلان إقامة منطقة خالية من أسلحة الدمار الشامل في الشرق الأوسط، مشيرا إلى أن روسيا ستعمل على تنفيذ هذا القرار. وكان منتدى التعاون الروسي العربي قد أسس في ديسمبر/كانون الأول من عام 2009\. وحُددت مهمته في الارتقاء بمستوى التعاون بين روسيا وأعضاء جامعة الدول العربية. ولم يتمكن المنتدى من عقد أي اجتماع حتى الآن بسبب أحداث العالم العربي التي أعقبت صدور إعلان تأسيسه......";

    UIFont *font = [UIFont fontWithName:@"Helvetica" size:15.0];

    NIAttributedLabel* label = [[NIAttributedLabel alloc] initWithFrame:CGRectZero];

    label.text = text;

    label.numberOfLines = 0;

    label.lineBreakMode = NSLineBreakByWordWrapping;

    label.attributesForHighlightedLink = [NSDictionary dictionaryWithObject:(id)RGBCOLOR(255, 0, 0).CGColor forKey:(NSString *)kCTForegroundColorAttributeName];

    label.delegate = self;

    label.autoDetectLinks = YES;

    label.linksHaveUnderlines = YES;

    label.font = font;

    label.backgroundColor = [UIColor orangeColor];

    [label sizeToFit];

    [label setTextAlignment:NSTextAlignmentRight];

    NSMutableAttributedString *aStr = [[NSMutableAttributedString alloc]initWithAttributedString:[label attributedText]]; // trying to get width height of attributed text

    CGSize size = [aStr.string sizeWithFont:font constrainedToSize:CGSizeMake(220, FLT_MAX) lineBreakMode:NSLineBreakByWordWrapping];

    label.frame = CGRectMake(0, 0, size.width, size.height);

    NSLog(@"SIZE=> %0.f-%0.f | %0.f-%0.f",size.width, size.height, label.frame.size.width, label.frame.size.height);

    return label;
} 
```

如何解决这个问题？必须计算属性文本的宽度和高度吗？NSMutableAttributedString 没有 sizeWithFont:constrainedToSize:lineBreakMode ...

请帮忙。

发布此问题 5 小时后，我仍在寻找解决方案..我找到[了这个](http://haddadissa.blogspot.com/2010/09/compute-needed-heigh-for-fixed-width-of.html)，但这并没有完全解决问题。请查看链接。

6 小时后，我忘记提及`aStr.size.width`或`aStr.size.height`导致应用程序崩溃的另一个问题出现此错误：

> -[__NSCFType lineBreakMode]：无法识别的选择器发送到实例 0x71bc3d0 *** 由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[__NSCFType lineBreakMode]：无法识别的选择器发送到实例 0x71bc3d0”

![在此处输入图像描述](../Images/a3cdc4d8b3244b771630be81a24657dd.png)

# c# - 如何在 asp.net 3.5 中使用 c# 编写 pdf 文件？

> ID：14996269
> 
> 赞同：0
> 
> 时间：2013-02-21T06:53:39.723
> 
> 标签：c#, asp.net, pdf, pdf-generation

我正在尝试找到一种将采购订单数据写入 PDF 文件的方法。有人可以建议我吗？

我买不起第 3 方 DLL，所以想要一个免费 DLL 或任何其他方式的建议。

我试过这个：（[http://www.codeproject.com/Articles/7627/PDF-Library-for-creating-PDF-with-tables-and-text](http://www.codeproject.com/Articles/7627/PDF-Library-for-creating-PDF-with-tables-and-text)）但它没有帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T06:55:05.840

使用[**iTextSharp**](http://sourceforge.net/projects/itextsharp/)是 iText 的 C# 端口，以及用于 PDF 生成和操作的开源 Java 库。它可用于从头开始创建 PDF 文档、将 XML 转换为 PDF（使用额外的 XFA Worker DLL）、填写交互式 PDF 表单、在现有 PDF 文档上标记新内容、拆分和合并现有 PDF 文档，以及多得多。

**特征**

*   PDF 生成
*   PDF 操作（加盖水印，合并/拆分 PDF，...）
*   PDF表格填写
*   XML 功能
*   数字签名

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-09T11:03:59.603

明智地创建它会起作用

string Filepath = Server.MapPath("/AOF.pdf"); var pdfpath = Path.Combine(Filepath, "");

```
 var Formcontent = ListFieldNames(Filepath);
    Formcontent["Name_txt"] = "T.Test";
    FillForm(Formcontent);
  //  var pdfContents = FillForm(pdfpath, Formcontent);

}
public Dictionary<string, string> ListFieldNames(string Filepath)
{

    //PdfReader pdfReader = new PdfReader(pdfTemplate);

    //StringBuilder sb = new StringBuilder();

    //foreach(DictionaryEntry de in pdfReader.AcroFields.Fields)
    //{

    //    sb.Append(de.Key.ToString() + Environment.NewLine);

    //}

    var Fileds = new Dictionary<string, string>();
    PdfReader pdfReader = new PdfReader(Filepath);
    var reader = new PdfReader(pdfReader);
    foreach (var entry in reader.AcroFields.Fields)
        Fileds.Add(entry.Key.ToString(), string.Empty);
    reader.Close();

    return Fileds;

}
public byte[] FillForm(string pdfPath, Dictionary<string, string> formFieldMap)
{

    var output = new MemoryStream();
    var reader = new PdfReader(pdfPath);
    var stamper = new PdfStamper(reader, output);
    var formFields = stamper.AcroFields;

    foreach (var fieldName in formFieldMap.Keys)
        formFields.SetField(fieldName, formFieldMap[fieldName]);

    stamper.FormFlattening = true;
    stamper.Close();
    reader.Close();

    return output.ToArray();

}
public void FillForm(Dictionary<string, string> Formfiledmap)
{

    string pdfTemplate =Server.MapPath("/AOF.pdf");

    string newFile = @"C:\Users\USer\Desktop\completed_fw4.pdf";

    PdfReader pdfReader = new PdfReader(pdfTemplate);

    PdfStamper pdfStamper = new PdfStamper(pdfReader, new FileStream(newFile, FileMode.Create));

    AcroFields pdfFormFields = pdfStamper.AcroFields;

    foreach(var fieldName in Formfiledmap.Keys)
        pdfFormFields.SetField(fieldName,Formfiledmap[fieldName]);

    pdfStamper.FormFlattening = true;

    pdfStamper.Close();

} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-21T06:56:16.297

您可以将 iText 库用于 .NET，您可以在此处找到一些有用的信息 [http://www.ujihara.jp/iTextdotNET/en/examples.html从](http://www.ujihara.jp/iTextdotNET/en/examples.html)[http://itextpdf.com/](http://itextpdf.com/) 下载 iText 库

# asp.net - VB.NET 中的简单 ASP.NET 4.5 异步和等待

> ID：14996270
> 
> 赞同：1
> 
> 时间：2013-02-21T06:53:42.320
> 
> 标签：asp.net, vb.net, asynchronous, async-await

我试图获得一个与等待工作的异步的简单示例，但我认为不是。我认为这段代码应该需要 10 秒（或超过 10 秒）才能运行，因为 for each 循环中的每个函数都应该异步运行。

这是一个 asp.net 网络表单，页面声明中存在 Async="true"。

```
Inherits System.Web.UI.Page

Protected Async Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click

    'This needs to execute different asynchronous processes based on the array value
    Dim ItemList(2) As String

    ItemList(0) = "A"
    ItemList(1) = "B"
    ItemList(2) = "C"

    Dim time_start As DateTime
    Dim time_end As DateTime

    Dim r1 As String
    Dim r2 As String
    Dim r3 As String

    'capture start time
    time_start = DateTime.Now

    'run async processes for each item in array
    For Each element As String In ItemList
        Select Case element
            Case "A"
                r1 = Await processAsyncA(10) & "  "
            Case "B"
                r2 = Await processAsyncB(10) & "  "
            Case "C"
                r3 = Await processAsyncC(10) & "  "
        End Select
    Next

    'capture end time
    time_end = DateTime.Now

    'display total duration in seconds
    Label1.Text = DateDiff(DateInterval.Second, time_start, time_end)

End Sub

Protected Async Function processAsyncA(ByVal waittime As Integer) As Task(Of String)
    Await Task.Delay(waittime * 1000)
    Return waittime.ToString
End Function

Protected Async Function processAsyncB(ByVal waittime As Integer) As Task(Of String)
    Await Task.Delay(waittime * 1000)
    Return waittime.ToString
End Function

Protected Async Function processAsyncC(ByVal waittime As Integer) As Task(Of String)
    Await Task.Delay(waittime * 1000)
    Return waittime.ToString
End Function 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:06:41.607

不，它们不会异步运行，因为您在这里说过“在得到结果之前不要继续”：

```
r1 = Await processAsyncA(10) 
```

您应该做的是启动所有`processXXX`功能，*然后*等待所有功能。就像是：

```
Dim l as New List(Of Task(Of String))

'run async processes for each item in array
For Each element As String In ItemList
    Select Case element
        Case "A"
            l.Add(processAsyncA(10))
        Case "B"
            l.Add(processAsyncB(10))
        Case "C"
            l.Add(processAsyncC(10))
    End Select
Next

r1 = Await l(0) & "  "
r2 = Await l(1) & "  "
r3 = Await l(2) & "  " 
```

（不是最干净的代码，但希望你能明白要点）

# eclipse - 错误“EGit 无法检测到 Git 的安装位置”是什么意思？

> ID：14996278
> 
> 赞同：2
> 
> 时间：2013-02-21T06:54:10.590
> 
> 标签：eclipse, github, egit

这个错误是什么意思以及如何解决它？我是 eclipse 的新手，我从日本的 ftp 下载了 eclipse，但我不知道我是否下载了所有必要的文件。

我错过了什么吗？

![图片在这里](../Images/70a5100e91778b5c4c4cc759cd602b14.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:37:59.397

这不是错误。不要恐慌。

这只是一个警告，如果您也使用命令行 Git，eGit 无法确定该设置的默认值，以便它可以自动匹配它们。如果您不使用命令行 Git，只需选中复选框并继续。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:30:12.337

请注意，对于 Eclipse4.2 和 EGit2.3，此警告将更加离散，并且更少“在您的脸上”：请参阅[错误 391377](https://bugs.eclipse.org/bugs/show_bug.cgi?id=391377)。

否则，此警告会提醒您设置当 Egit 检出计算机上的文件时应如何处理 eol（行尾）。
目标是避免“**[粉红之墙](http://www.hanselman.com/blog/YoureJustAnotherCarriageReturnLineFeedInTheWall.aspx)**”。

（我个人更喜欢设置[`core.autocrl`为 false](https://stackoverflow.com/questions/2333424/distributing-git-configuration-with-the-code/2354278#2354278)）

* * *

[OP elle](https://stackoverflow.com/users/1983088/elle) [提到](https://stackoverflow.com/questions/14996278/eclipse-git-error/14996788#comment21064707_14996788)了在设置中消除这些警告的可能性：

```
window>preferences>team>git>confirmation dialogues 
```

# twitter - 使用 twitter API 转发和销毁推文

> ID：14996285
> 
> 赞同：0
> 
> 时间：2013-02-21T06:54:45.327
> 
> 标签：twitter, twitter-oauth

我正在开发一个可以将推文发送到我的推特个人资料的应用程序。现在我需要实现转推和删除推文功能。我实施了类似以下但没有成功的方法。谁能帮我！！

/* 删除推文函数 */

```
$twitteroauthPost = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET);
$token = $twitteroauthPost->getRequestToken();    

$connection = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET,$token['oauth_token'], $token['oauth_token_secret']);
$result = $connection->post('statuses/destroy', array('id' => $postId)); 
```

/* 转发功能 */

```
$twitteroauthPost = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET);
$token = $twitteroauthPost->getRequestToken();    

$connection = new TwitterOAuth(CONSUMER_KEY, CONSUMER_SECRET,$token['oauth_token'], $token['oauth_token_secret']);
$result = $connection->post('statuses/retweet', array('id' => $postId)); 
```

然后它返回这个

```
(
    [request] => /1/statuses/retweet.json
    [error] => Could not authenticate you.
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T12:03:45.073

此错误意味着发送到 twitter 的授权标头不正确。由于您使用的是经过测试并被广泛使用的库，我猜您的 CONSUMER_KEY 或 CONSUMER_SECRET 错误。我只是仔细检查这些。

# c# - 执行threadloop中的最后一个线程

> ID：14996297
> 
> 赞同：0
> 
> 时间：2013-02-21T06:55:40.807
> 
> 标签：c#, multithreading

我在 C# 4.0 中实现了一个漫画阅读器，由于我实现了一些过程，从一个图像浏览到下一个图像需要一些时间。

因此，我以这样一种方式实现它，即 UI 线程将首先显示未处理的图像，而后台线程正在处理图像，然后替换未处理的图像。

一切正常，但现在，一些用户会疯狂地喜欢连续点击下一张图片，这会导致后台工作人员处理所有这些点击并显示所有图片。

我想要什么：如果用户点击多次，我希望后台工作人员只处理最后一个线程。

我做了什么：现在，我实现了一个检查活动线程数的函数，如果活动线程大于 1，后台线程将不会处理但返回之前的图像（这不好，因为未处理的图像会领先一个指数）

如果您有想法，请像初学者一样向我解释！

```
private void button4_Click(object sender, EventArgs e)
{

    Bitmap b = new Bitmap(this.CurrImage);

           if (!shutdown)
          {
            process_updateThread = new Thread(new ThreadStart(process_update));
            process_updateThread.Start();
          }

    pictureBox1.Image = b; //image will be replaced by worker thread image 
    pictureBox1.Location = ImageEdit.CalculateLocationImage(b);
    SetBackColor(b);
    ShowPageCount();
    updateNavButtons(); 
}

void StopThread()
{
    if(((IEnumerable)System.Diagnostics.Process.GetCurrentProcess().Threads).OfType<System.Diagnostics.ProcessThread>()
        .Where(t => t.ThreadState == System.Diagnostics.ThreadState.Running).Count() > 1) 
    shutdown = true;
    else shutdown = false;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:16:43.990

我假设您长期运行的进程是 process_update。

在运行下一个之前，您必须停止所有正在运行的 process_updates。但**不要使用布尔变量来做到这一点**！！！您必须使用同步对象。很可能它应该是 ManualResetEvent。

**更新：**

这个非常简单的例子可以让你了解多线程和线程管理

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Threading;

namespace WindowsFormsExamples
{
    public partial class OnlyOneThread : Form
    {
        List<ManualResetEvent> threadStopEvents;    //This will hold stop events for running threads

        public OnlyOneThread()
        {
            InitializeComponent();
            threadStopEvents = new List<ManualResetEvent>();
        }

        private void runThreadBtn_Click(object sender, EventArgs e)
        {
            ManualResetEvent evt = new ManualResetEvent(false);
            ParameterizedThreadStart ts = new ParameterizedThreadStart(this.ThreadFunc);
            Thread t = new Thread(ts);
            t.Start(evt);
        }

        private delegate void UptadeThreadCountDelegate();   //This delegate is used by Invoke method
        private void UpdateThreadCount()
        {
            threadcountLbl.Text = threadStopEvents.Count.ToString();
        }

        protected override void OnClosed(EventArgs e)
        {
            base.OnClosed(e);
            //We must stop threads if they are still running

            lock (threadStopEvents)  // locking prevents simultaneous list access
            {
                foreach (ManualResetEvent evt in threadStopEvents)
                {
                    evt.Set(); //signal all events
                }
            }
        }

        //This is thread function
        private void ThreadFunc(Object obj)
        {
            ManualResetEvent stopEvent = obj as ManualResetEvent; //cast an object that was passed by Thread.Start()

            lock (threadStopEvents) // locking prevents simultaneous list access
            {
                foreach (ManualResetEvent evt in threadStopEvents)
                {
                    evt.Set(); //signal all events for all other threads to stop
                }

                threadStopEvents.Add(stopEvent);  //Put our event on list
            }

            if (this.IsHandleCreated) // This is necessary for invocation
                this.Invoke(new UptadeThreadCountDelegate(this.UpdateThreadCount));  //Invoke counter update

            for (int i = 0; i < 60; i++) // this will run about 1 minute
            {
                if (stopEvent.WaitOne(0)) // Tests stopEvent and continues
                {
                    //Stop signaled!!! exit!
                    break;
                }

                Thread.Sleep(1000); //Sleep 1 second
            }
            lock (threadStopEvents) // locking prevents simultaneous list access
            {
                threadStopEvents.Remove(stopEvent); //remove stop event from list
            }
            if (this.IsHandleCreated) // This is necessary for invocation
                this.Invoke(new UptadeThreadCountDelegate(this.UpdateThreadCount));  //Invoke counter update
        }
    }
} 
```

如果要运行此示例，您必须创建 WindowsForms 项目并在窗体上添加 Button 和标签，然后使用此代码绑定到这些控件。注意表单方法的调用。当从非 GUI 线程执行时，这是必要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:18:17.877

我看不到这个问题的简单解决方案……多线程从来都不是一件容易的事。就个人而言，我会提出以下建议（生产者/消费者情况的一种偏差）：

*   首先有一个通用计数器，它表示当前要渲染的图像（可以是一个简单的 int，每按下一个按钮就会递增）

一个被很好地锁定并具有以下方法的 ImageMonitor：

*   添加要渲染的图像（使用当前计数器）->每次按下按钮都会发生这种情况
*   检索应该渲染的图像（包括图像的计数器）
*   处理渲染图像

现在我们需要一个持续工作的后台线程，它循环并在每次迭代中检查 ImageMonitor 是否有要处理的最新图像，处理图像并将其返回给 ImageMonitor（包括计数器）

当 ImageMonitor 从后台渲染器获取渲染图像时，它可以检查图像是否具有正确的计数器值，如果是，则可以将当前图像与渲染图像交换

这个解决方案显然有点复杂。但是，它应该可以工作。我对其他（更简单的）解决方案感兴趣。

祝你好运

# ruby-on-rails-3.2 - 查看来自 Linkedin Api 的通知

> ID：14996303
> 
> 赞同：3
> 
> 时间：2013-02-21T06:56:20.600
> 
> 标签：ruby-on-rails-3.2, linkedin

我在我的 Rails 应用程序中集成了linkedin api。我已经实现了除查看通知之外的所有功能。

任何人都可以给我任何方式或链接来实现。

提前致谢

奥里克

# windows-8 - 用于旁加载的代码签名 Windows 商店应用程序（使用 GoDaddy 证书）

> ID：14996305
> 
> 赞同：3
> 
> 时间：2013-02-21T06:56:30.133
> 
> 标签：windows-8, code-signing, code-signing-certificate, sideloading

我需要签署我开发的企业 Windows 应用商店应用程序，以便用户可以将其[旁加载](http://www.zdnet.com/the-enterprise-sideloading-story-on-windows-8-its-complicated-7000006742/)到他们的设备中。

我正在从 GoDaddy 获取代码签名证书。很多后续步骤对我来说仍然是模糊的 - 任何额外的细节将不胜感激。

**到目前为止我所做的**

*   该应用程序经过测试，我能够[将其部署在具有开发人员许可证的机器上](http://blogs.msdn.com/b/patricka/archive/2012/11/05/how-do-i-deploy-a-windows-8-app-to-another-device-for-testing.aspx)。
*   从爸爸那里购买了一个代码签名证书，但不知道下一步该做什么（根据过去的经验，我认为我需要在我的开发人员机器上生成一个密钥对和一个证书签名请求）
*   打电话给 GoDaddy 支持，他说我实际上需要驱动程序签名证书而不是代码签名证书。成本是一样的，所以他们立即改变了我的购买。
*   事实证明，在 Windows 上有一个自动生成 CSR 的过程，但您必须使用 Internet Explorer。显然，Internet Explorer 和 GoDaddy 网站以某种方式透明地处理了加密内容。我很想知道更多关于那里实际发生的事情。
*   作为流程的一部分，您需要提供软件发布者（在这种情况下是我的客户）的法定名称和官方地址/电话。
*   一旦你提交了请求，它必须得到 GoDaddy 的批准（他应该以某种方式验证我是否被发布者授权代表它签署代码）。

**下一步**

*   我认为 GoDaddy 需要从发布者那里接收一些文件。我很想知道这个过程是如何运作的以及需要多长时间。
*   颁发证书后，我希望再次有一些简单的方法可以在我的开发机器上安装它。问题：有没有办法将密钥和证书移动到另一台机器上？
*   我还希望 Visual Studio（我使用 Windows 8 的 2012 Express 版）能够在创建应用程序包时使用证书。我是否需要为此做一些特殊的设置，还是很简单（“创建应用程序包”向导的一部分）？
*   我在证书签名请求中添加的一些细节最终将在实际证书上可见（对安装应用程序的人可见）。哪个？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-21T20:03:32.743

完成此过程后，这是我自己的答案：

*   事实证明，GoDaddy 支持代表在建议我使用驱动程序签名证书时是错误的。我需要一个代码签名证书。
*   证书不显示联系人的详细信息（包括在证书签名请求中）。您可以在提交请求之前查看证书详细信息（我最初错过了它）。在我的例子中，显示的详细信息是公司名称、城市、州和国家。
*   文件要求取决于申请证书的公司（在某些情况下，他们可能根本不需要任何文件）。GoDaddy 有非常友好的支持，所以你应该可以从他们那里得到要求。该过程可能需要几天时间才能完成（但他们可能会帮助您更快地完成）。
*   在证书申请阶段和安装阶段都使用 Internet Explorer 时，该过程是无缝的。我相信它使用[Microsoft 的证书注册 API （在](http://msdn.microsoft.com/en-us/library/windows/desktop/aa374863%28v=vs.85%29.aspx)[此 MSDN 博客文章](http://blogs.msdn.com/b/ieinternals/archive/2010/05/14/certificate-enrollment-xenroll-vs-certenroll-activex-object.aspx)中也有描述）
*   正如 JP Alioto 所说，使用证书的过程在文章“[签署应用程序包（Windows Store 应用程序）](http://msdn.microsoft.com/en-us/library/windows/apps/br230260%28v=vs.85%29.aspx) ”中进行了描述。要在特定项目中使用新证书：
    *   打开项目 .appxmanifest 文件
    *   转到“包装”选项卡
    *   在发布者字段旁边，单击“选择证书”
    *   在弹出的对话框中单击“配置证书”并选择下拉选项“从证书存储中选择......”。证书应作为选项之一提供。
*   要导出证书，您可以使用以下过程：
    *   运行**certmgr.msc**
    *   找到证书
    *   **右键单击**>**所有任务**>**导出**以启动证书导出向导，其中包含导出私钥的选项
        *   **警告：**私钥应该是个人的，你应该保护它。如果您将它复制到您控制的另一台机器上可能没问题（假设没有人可以在传输过程中抢夺它）。与其他人分享可能会有风险。我无法找到有关 Windows 究竟如何使用私钥的信息，但让几个人共享一个私钥可能是个坏主意。
*   要从 PFX 文件导入证书和私钥，请在 Windows 资源管理器中右键单击该文件，然后选择“安装 PFX”。这将启动一个直接的“证书导入向导”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:17:34.237

那里有很多东西。:) 您需要阅读的文件很少：

*   [将 Metro 风格应用部署到企业](http://blogs.msdn.com/b/windowsstore/archive/2012/04/25/deploying-metro-style-apps-to-businesses.aspx)
*   [如何添加和删除应用程序](http://technet.microsoft.com/en-us/library/hh852635.aspx)
*   [签署应用程序包（Windows 应用商店应用）](http://msdn.microsoft.com/en-us/library/windows/apps/br230260%28v=vs.85%29.aspx)

阅读和理解这些文档将使您更好地了解正在发生的事情。您确定要为其部署的企业还没有部署到其桌面映像的受信任根证书吗？如果他们这样做了，使用该私钥对应用程序进行签名可能会更容易。（建议使用公共证书颁发机构的唯一原因是您不必将证书部署到目标机器。）

[您可以以邪恶的 PFX 格式](http://static.usenix.org/events/sec02/full_papers/gutmann/gutmann.pdf)移动证书（不幸的是，私钥），这基本上是一个[PKCS #12 可移植密钥文件](http://msdn.microsoft.com/en-us/library/ms867088.aspx)。但是，要非常小心如何移动该文件。它包含您的公钥和加密的私钥。

# sql - GETUTCDATE 函数

> ID：14996306
> 
> 赞同：32
> 
> 时间：2013-02-21T06:56:32.767
> 
> 标签：sql, sql-server

为什么我们应该使用`GETUTCDATE()`函数而不是`getdate()`反之亦然？

两者的目的是什么？请帮我举个例子。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-02-21T07:02:19.537

[GETUTCDATE()](https://docs.microsoft.com/en-us/sql/t-sql/functions/getutcdate-transact-sql)表示当前`UTC`时间*（通用时间坐标或格林威治标准时间）*

*   它是一个`nondeterministic`函数，引用该列的视图和表达式不能被索引。

*当前 UTC 时间派生自当前本地时间和运行 SQL Server 的计算机的操作系统中的时区设置。*

`GETDATE()`和之间的区别`GETUTCDATE()`是 SQL Server 机器的时***区编号***。

为了更好地理解，请参见示例：

```
DECLARE @local_time DATETIME;
DECLARE @gmt_time DATETIME;
SET @local_time = GETDATE();
SET @gmt_time = GETUTCDATE();
SELECT 'Server local time: '
   + CONVERT(VARCHAR(40),@local_time);
SELECT 'Server GMT time: '
   + CONVERT(VARCHAR(40),@gmt_time);
SELECT 'Server time zone: '
   + CONVERT(VARCHAR(40),
      DATEDIFF(hour,@gmt_time,@local_time));
GO 
```

输出：

```
Server local time: Jun  2 2007 10:06PM
Server GMT time: Jun  2 2007  4:21PM
Server time zone: 6 
```

获取日期 ()

*   它将返回带有您所在地区时间的日期，或者我们可以说，它返回当前系统日期和时间。
*   如果您远程连接到 SQL 服务器，则显示的时间戳将是远程计算机的时间戳，而不是您的本地计算机的时间戳。
*   它是一个非确定性函数。
*   无法索引引用此列的视图和表达式。

获取UTC日期（）

*   它将返回日期和 GMT 时间（格林威治标准时间）。
*   GETUTCDATE() 可用于存储独立于时区的时间戳。
*   当前 UTC 时间源自当前本地时间和运行 Microsoft SQL Server 实例的计算机的操作系统中的时区设置。
*   GETUTCDATE 是一个非确定性函数。
*   无法索引引用此列的视图和表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-15T23:05:19.497

getdate() 将返回本地系统上的日期。假设您正在提取一些数据，并且数据库服务器位于 UTC 位置。您的日期时间列将返回 UTC 时间戳，您将无法匹配时间戳。

因此，您可以通过在 UTC 日期和 getdate 上使用 datediff 函数来调整日期时间。

# php - 如何使用 PHP 处理双向多对多关系

> ID：14996317
> 
> 赞同：1
> 
> 时间：2013-02-21T06:57:22.910
> 
> 标签：php, mysql

我正在尝试使用相同的表数据（即用户）设置双向多对多关系，我还有一个名为 Userusers 的链接表，它将一个用户与另一个用户连接起来，但我不确定如何处理双向端，因为我的代码的结果只显示了一个方向。

```
--Table User:

create table User (
    UserID          int auto_increment not null,
    UserFirstName   varchar(30) not null,
    UserSurname     varchar(30) not null,
    UserTel         char(10),
    UserCell        char(10),
    UserEmail       varchar(50) not null,
    UserPassword    varchar(50) not null,
    UserImage       varchar(50),
    UserAddress1    varchar(50),
    UserAddress2    varchar(50),
    UserTown/City   varchar(50),
    UserProvince    varchar(50),
    UserCountry     varchar(50),
    UserPostalCode  varchar(50),
    Primary key(UserID)
)

--Table Userusers:

create table UserUsers  (
    UserID          int not null,
    FriendID        int not null,
    primary key(UserID, FriendID),
    foreign key(UserID) references User(UserID),
    foreign key(FriendID) references User(UserID)
) 
```

PHP代码：

```
$sql="SELECT * FROM User u INNER JOIN UserUsers uu ON uu.UserID = u.UserID INNER JOIN User f ON f.UserID = uu.FriendID WHERE uu.UserID = " . $_SESSION['userID']; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:12:21.003

实际上，不，您的表确实显示了双向关系。

考虑您的表 UsersUsers

userID 列表示与friendID 成为朋友的人。

假设用户 1 想和用户 2 成为朋友

我们的 UsersUsers 表如下所示：

```
UserID   |   FriendID
  1              2 
```

当然，我们看到现在 User 1 和 2 之间有了关系，但我们也看到 User1 已经发起了友谊，显示了从 1 -> 2 的方向

现在当 User2 想要接受友谊时，我们可以在表中插入另一条记录，使其：

```
UserID   |   FriendID
  1              2
  2              1 
```

肯定有一些更好的元数据可以添加到关系表中，以了解有关创建的关系的更多信息，但 UserID 字段应视为`owner`, 或`sender`，而 FriendID 应视为`receiver`.

所以 - 您已经为您完成了大部分工作，现在您所要做的就是创建查询以对这种双向关系采取行动。

获取 User1 的所有已确认好友：

我们将假设 $the_logged_in_user_id = 1

`SELECT * from Users U JOIN UsersUsers F ON U.UserID = F.UserID WHERE F.FriendID = '$the_logged_in_user_id'`

这将显示所有已确认的友谊`$the_logged_in_user_id`，假设这就是你想要的。

# iphone - iPad照片应用程序在哪里存储100张图片

> ID：14996323
> 
> 赞同：1
> 
> 时间：2013-02-21T06:58:02.333
> 
> 标签：iphone, ios, objective-c, ipad, nsdocumentdirectory

我正在开发一个 iPad 照片应用程序，我必须从网上下载 100 张图像，并且必须将其存储在本地应用程序中，这样即使没有互联网连接我也可以访问它。所以现在我已经将它存储到 App 的文档目录中。可以在 App 的 Document 目录中存储 100 张图像还是有任何其他方式来存储它。请对此作出答复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:01:04.263

是的，您可以将其存储在 Document 目录中。

还要考虑它的大小，如果这些是大文件，你可以去压缩并保存。

# iphone - 订阅/应用内购买 - 一些新的变化？

> ID：14996325
> 
> 赞同：1
> 
> 时间：2013-02-21T06:58:11.300
> 
> 标签：iphone, ios5, in-app-purchase, subscriptions

iOS 上是否有一些新的订阅机制要求？到目前为止，我们在没有涉及 Apple 的情况下处理了订阅，但是这个（[https://developer.apple.com/appstore/in-app-purchase/subscriptions.html](https://developer.apple.com/appstore/in-app-purchase/subscriptions.html)）说的是不同的：

> 如果您提供自动续订订阅，您还可以使用其他方法在您的应用程序之外获取数字订阅者。您可以在您的网站上出售数字订阅，或为现有订阅者提供对内容的免费访问。在这些情况下，由于苹果没有参与交易，因此没有收益分享。开发商保留 100% 的收入。**如果您想在应用外提供订阅优惠，则必须在应用内为希望从应用内订阅的用户提供相同（或更好）的订阅价格。**此外，您不得在您的应用程序中提供允许客户在应用程序之外购买内容或订阅的链接。

我了解一次性付款必须进行应用内购买，但到目前为止，我们还没有被迫通过应用内购买机制提供订阅......

BR 斯坦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:25:25.280

我的历史理解以及我对特定文本的理解是，是的，它们要求您在应用程序内部提供 IAP 订阅，因为您也在外部提供它。我认为到目前为止，您还很幸运，以至于他们没有注意到。

# jquery - 数据表与 require-jquery.js 冲突

> ID：14996326
> 
> 赞同：5
> 
> 时间：2013-02-21T06:58:14.203
> 
> 标签：jquery, datatable, requirejs

当前应用程序有人使用了require-jquery.js。现在我已经实现了 jQuery 数据表。删除“require-jquery.js”时它工作正常。但是当我包含 require-jquery.js 时，我收到以下错误：

> 错误：不匹配的匿名定义（）模块：函数（$）{

看结构：

1.  jquery.min.js
2.  需要 jquery.js
3.  jquery.dataTables.js

和这个：

```
tickerdashboardtable = $('#tickerdashboardtable').dataTable( {} ); 
```

我不知道如何使用 require-jquery.js。如何解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-04T23:17:04.750

```
<script data-main="scripts/main.js" src="scripts/jquery.js"></script> 
```

创建一个包含类似于以下内容的 main.js：

```
require(["jquery", "jquery.alpha", "jquery.beta"], function($) {
    //the jquery.alpha.js and jquery.beta.js plugins have been loaded.
    $(function() {
        $('body').alpha().beta();
    });
}); 
```

您必须从 require-jquery API 调用任何使用“define()”的脚本。

[http://requirejs.org/docs/jquery.html](http://requirejs.org/docs/jquery.html)

# authentication - 我在手机上执行命令时出错（nfc 卡仿真模式），“6E00”：“不支持类”

> ID：14996327
> 
> 赞同：1
> 
> 时间：2013-02-21T06:58:19.570
> 
> 标签：authentication, command, nfc, mifare

我有完全适用于 mifare 1k 卡的 pc/sc 读卡器我已经执行了“获取数据”、“加载密钥”、“验证”、“读取”命令，它们都正常工作。现在我想使用 nfc手机，但是当我在上面尝试这些命令时（我有嵌入元素（smartMX）的手机，据我所知它必须支持 mifare 1k 命令）我只能执行“获取数据”命令，但对于其余的我看到此错误“6E00”：“不支持类”

```
Card ATR: 3B8A80010031C173C8400000900090 
```

这是我用于 mifare 1k 卡的命令列表

```
GetData <FF CA 00 00 00>
LoadkeyN<FF 82 20 00 06 FF FF FF FF FF FF>
Authentication<FF 88  00 60 00> 
```

有人知道我必须使用哪些类或命令吗？我将不胜感激任何建议或信息。

# python - 增加字符串的字体大小和样式

> ID：14996330
> 
> 赞同：0
> 
> 时间：2013-02-21T06:58:40.600
> 
> 标签：python, font-size

我想通过python代码将字符串的字体大小增加到36并设置斜体样式。每当我在命令行中运行代码时，它应该以 36 号字体和斜体显示字符串。

价值=“你好世界！！！！”

有没有办法做到这一点？

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:45:00.027

[http://en.wikipedia.org/wiki/ANSI_escape_code](http://en.wikipedia.org/wiki/ANSI_escape_code)是一种在多种终端中控制输出格式的机制，但它不提供对字体或大小的控制。如果您针对特定类型的终端，您可能会找到一个可以做到的终端，但它可能不会是您非常满意的解决方案。因此，根据您提供的信息，简短的回答是“不，一般来说，这是不可能的”。如果您想控制 GUI 演示的各个方面，则以 GUI 而不是终端为目标。

# asp.net - 如果我在 Application_Error() 中也有日志记录，那么在 MVC 控制器 OnException() 中添加日志记录是否有意义？

> ID：14996334
> 
> 赞同：1
> 
> 时间：2013-02-21T06:58:58.667
> 
> 标签：asp.net, .net, asp.net-mvc, iis

在我的 ASP.NET MVC3 应用程序中，我希望记录所有意外问题。所以我有登录里面`Application_Error()`。我还发现有`Controller.OnException()`方法，所以我为记录错误的控制器进行了覆盖，然后调用`base.OnException()`.

看起来每次在控制器操作中发生异常时，`OnException()`都会调用我的覆盖，然后`Application_Error()`调用，因此记录会执行两次。

如果我取消我的`OnException()`覆盖并且只保留登录状态，`Application_Error()`我仍然会记录所有问题还是会错过任何类型的事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T22:49:23.823

Controller.OnException() 是特定于 MVC 的。Application_Error() 是特定于 ASP.NET 的。MVC 位于 ASP.NET 之上，因此如果您在 Controller.OnException() 中处理异常，您可能希望将 ExceptionContext 的 ExceptionHandled 设置为 true，以便它不会沿着管道传播到 Application_Error()。

你是对的，每个错误都可以被允许传播到 Application_Error() 级别并在那里处理。我认为这真的取决于选择和偏好。我是双向的。当请求甚至没有到达 Application_Error 中的控制器（例如启动错误、404）时，我看到了在控制器的 OnException 中处理特定于操作方法的错误和其他错误的好处。如果您有一个同时使用 MVC 和 Web 表单的混合应用程序，则 Application_Error 必须用于 Web 表单错误。

因此，虽然在 Application_Error() 中处理异常是确保您的应用程序没有未捕获的异常的必备条件，但使用 Controller.OnException() 是处理特定错误子集的首选问题。

# apache - 无法通过浏览器（iptables）连接到云服务器

> ID：14996340
> 
> 赞同：0
> 
> 时间：2013-02-21T06:59:30.693
> 
> 标签：apache, centos, iptables

我不确定stackoverflow是否也允许服务器配置问题，但由于这可能与apache有关，我希望有人能提供帮助。我正在尝试设置我的云服务器以允许端口 80 上的传入连接，以便当我在浏览器中输入[http://domain.com时可以看到我的服务器文件。](http://domain.com)Apache 已安装，我目前正忙于设置我的 iptables（我怀疑这可能是问题所在）。

我目前的iptables如下：

```
 Chain INPUT (policy ACCEPT)
 target     prot opt source               destination
 ACCEPT     all  --  anywhere             anywhere            state RELATED,ESTABLISHED
 ACCEPT     icmp --  anywhere             anywhere
 ACCEPT     all  --  anywhere             anywhere
 ACCEPT     tcp  --  anywhere             anywhere            state NEW tcp dpt:ssh
 REJECT     all  --  anywhere             anywhere            reject-with icmp-host-     prohibited

 Chain FORWARD (policy ACCEPT)
 target     prot opt source               destination
 REJECT     all  --  anywhere             anywhere            reject-with icmp-host-     prohibited

 Chain OUTPUT (policy ACCEPT)
 target     prot opt source               destination 
```

因为这是我第一次尝试（而且我的网络体验与 MS 机器上的 GUI 提供的内容一致），所以我不确定我是否做得正确。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T20:59:28.193

设法让它工作，apache没有启动:)

# centos - 使用 SendGrid/Gmail 时 SMTP 身份验证失败

> ID：14996341
> 
> 赞同：3
> 
> 时间：2013-02-21T06:59:33.343
> 
> 标签：centos, cpanel, sendgrid, exim

我在服务器上收到 SMTP 身份验证失败，并且邮件仅通过服务器 SMTP 发送...

这似乎是服务器配置或相关问题，但我不确定。

这是调试详细信息：

```
250-SIZE 52428800
250-8BITMIME
250-PIPELINING
250-AUTH PLAIN LOGIN
250-STARTTLS
250 HELP

Failed to authenticate password. Error: 535 Incorrect authentication data

from: 250 OK

to: 250 Accepted

data: 354 Enter message, ending with "." on a line by itself

250 OK id=1U8Pjp-0002As-FB

quit: 221 ************** closing connection

Your message has been successfully sent using the following protocol: smtp 
```

从我的本地系统进行测试时，这是可行的，并且电子邮件正在通过 sendgrid.me 发送

同样，这可能不是 SendGrid 问题，但如果您遇到类似问题，您能告诉我这里有什么问题吗？

我正在使用 CentO，并且我在服务器中有 cPanel。我相信我们正在将 EXIM 用于邮件服务器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-05-04T13:40:20.303

对于将来遇到此问题并使用 cpanel/whm 的任何人，您需要在 WHM 的“SMTP 限制”下“禁用”此选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T03:30:08.237

我能够解决这个问题。

问题是我的服务器不允许使用外部 SMTP 并使用自己的 SMTP 服务器。我更改了设置，现在它工作正常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-14T16:48:10.303

我正在使用centos 7 终于可以了！

我遇到了这个问题（`tail -f /var/log/mailog`）：

```
to=<usmanali@example.com>, relay=smtp.sendgrid.net[169.45.113.201]:587, delay=0.3, delays=0.05/0.07/0.16/0.02, dsn=5.0.0, status=bounced (host smtp.sendgrid.net[169.45.113.201] said: 550 Unauthenticated senders not allowed (in reply to MAIL FROM command)) 
```

`/etc/postfix/main.cf`然后我以这种方式更改文件，将以下行添加到文件末尾

```
mtpd_sasl_local_domain = $myhostname
smtpd_recipient_restrictions = permit_sasl_authenticated, permit_mynetworks, reject_unauth_destination
mailbox_size_limit = 256000000

# Sendgrid Settings
smtp_sasl_auth_enable = yes
smtp_sasl_password_maps = static:apikey:SG.YOUR_SENDGRID_KEY
smtp_sasl_security_options = noanonymous
smtp_tls_security_level = may
header_size_limit = 4096000
relayhost = [smtp.sendgrid.net]:587 
```

然后使用以下方法安装缺少模块依赖的后缀：

```
sudo yum install cyrus-sasl cyrus-sasl-lib cyrus-sasl-plain 
```

然后重启postfix

```
sudo systemctl restart  postfix.service 
```

# mysql - 获取全名查询

> ID：14996343
> 
> 赞同：1
> 
> 时间：2013-02-21T06:59:48.417
> 
> 标签：mysql

我正在尝试获取员工的全名并使用 MySQL 函数“Concat”将它们组合起来。我们的一些员工没有中间名，在这种情况下 SQL 会引发错误。即使员工没有中间名首字母，我如何获得员工的全名。

```
 SELECT CONCAT(`Employee`.`F_NAME`,
                 ' ', 
                 LEFT(`Employee`.`M_NAME`, 1),
                 '. ', 
                `Employee`.`L_NAME`) 
  FROM `Employee` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:16:39.587

尝试使用[IFNULL](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_ifnull)

```
 SELECT CONCAT(`Employee`.`F_NAME`,
                 ' ', 
                 IFNULL(CONCAT(LEFT(`Employee`.`M_NAME`, 1),'. '),''), 
                `Employee`.`L_NAME`) 
  FROM `Employee` 
```

# vbscript - 替换子文件夹内每个单个文件中的一些文本

> ID：14996344
> 
> 赞同：1
> 
> 时间：2013-02-21T06:59:52.363
> 
> 标签：vbscript, replace, text-files

我在一个文件夹中有大约 30 个子文件夹（每个文件夹包含许多子文件夹）。我正在尝试替换每个 sql 文件中的一些文本。我已经在 vbscript 中为此编写了一些代码并用 3-4 个子文件夹对其进行了测试，它运行良好.但是当我尝试使用所有文件夹运行它时，文件没有被写入。

```
'Root path where all folders and files are present
'Change according to your requirement

strPath="W:\New Folder\Test1"

Set objFso = CreateObject("Scripting.FileSystemObject")

'To access folders
Set objFolder = objFso.GetFolder (strPath)

TraverseFolder (objFso.GetFolder(strPath))

Function TraverseFolder(FolderName)
    For Each fld in FolderName.SubFolders
        TraverseFolder(fld) 
        For Each flname in fld.Files 
            if objFso.GetExtensionName(flname.Path)="sql" then
                'msgbox fld.Path & "\" & objFso.GetFileName(flname.Path)

'After commenting whole below section,and running rest of code with
'the above mentioned msgbox every single folder and files are getting
'fetched but when i  uncomment below section, only some folders and
'files are getting displayed in msgbox'

                Const ForReading = 1
                Const ForWriting = 2

                Set objFile = objFso.OpenTextFile(fld.Path & "\" & objFso.GetFileName(flname.Path), 1)

                strText = objFile.ReadAll
                objFile.Close

                strText= Replace(strText, "A_", "L_")
                strText= Replace(strText, "A", "D")
                strText= Replace(strText, "Database\Sy", "Database\SQ")

                Set objFile = objFso.OpenTextFile(fld.Path & "\" & objFso.GetFileName(flname.Path), 2)

                objFile.WriteLine strText
                objFile.Close
            End If
        Next
    Next
End Function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T14:15:34.397

在我看来，您无论如何都没有使用 ForReading 和 ForWriting 常量（在您发布的代码中）。只需删除它们。

# errai - 事件处理程序不起作用

> ID：14996346
> 
> 赞同：-2
> 
> 时间：2013-02-21T06:59:55.213
> 
> 标签：errai

我是 erai 的新手，正在尝试制作示例应用程序。在 html 页面中添加了按钮，在 java 文件中添加了事件处理程序。

任何人都可以提供相同的工作代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:21:48.470

您可以关注 errai 的 github repo，在此链接中[https://github.com/errai/archetypes](https://github.com/errai/archetypes) 是 errai 应用示例的不同原型。您可以克隆 repo，使用 maven 构建示例，将它们导出到 eclipse，检查源代码并学习 ;-) 我个人推荐 jboss-errai-kitchensink-archetype 非常完整。

# php - xamp 代码不工作 wamp 服务器不工作

> ID：14996353
> 
> 赞同：-2
> 
> 时间：2013-02-21T07:00:17.853
> 
> 标签：php

php 代码在 xamp 服务器上工作，但相同的代码在 wamp server.configfile 中不起作用，显示错误这是我的编码

```
<?php
if (strtoupper(substr(PHP_OS, 0, 3)) === 'WIN'){
    define("PATH_SEPARATOR", ";");
}else{
    define("PATH_SEPARATOR", ":");
}   
import_request_variables("gP");

define("WELCOME_ADMIN","<span class='adminwelcome'>Welcome to the <br>
    Administrative Console of </span><br><span class='adminlargetitle'>Recipe</span>");
define("SITE_NAME", "www.fff.com");//i am using xamp for php coding.its works  perfectly. but i am put that code to wamp server its showing error

define("SITE_HEADING", "fff");
define("TITLE", "food");
define('SITE_ROOT',  'http://localhost/fff/');
define('DIR_ROOT',   'C:/xampp/htdocs/fff/');   
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:06:49.390

使用此代码，`PATH_SEPARATOR`是保留变量，您不能将其重用于赋值。

```
if (strtoupper(substr(PHP_OS, 0, 3)) === 'WIN'){
   define("PATH_SEPARATOR1", ";");  //you can't use `PATH_SEPARATOR`
}else{
   define("PATH_SEPARATOR1", ":");
} 
```

# cmd - 杀死 CMD 的脚本/代码是什么？

> ID：14996354
> 
> 赞同：-1
> 
> 时间：2013-02-21T07:00:30.833
> 
> 标签：cmd

好吧，标题几乎说明了一切。我正在尝试用代码杀死 cmd，请帮忙？非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:18:49.213

从“示例”部分`taskkill /?`：

```
TASKKILL /F /IM cmd.exe /T 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:13:20.897

```
 Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        p1 = Process.Start("C:\Windows\System32\cmd.exe")
    End Sub

    Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
        p1.Kill()
    End Sub 
```

# image - 为什么 OpenGL 不能正确显示我加载的图像？

> ID：14996357
> 
> 赞同：3
> 
> 时间：2013-02-21T07:00:34.967
> 
> 标签：image, delphi, opengl

我有两张图片，都是 24 色 .bmp 32x32 像素。如果我用 OpenGL 加载一个，它可以工作，如果我用 OpenGL 加载另一个，它只会显示黑白线。

是否还有其他可能不同的东西，因此不让其中一张图像显示？

这在代码中不起作用：

[![草1.bmp](../Images/c2131d4f11d872641b2cdc8418de1abc.png)](https://web.archive.org/web/20130221172152/http://turboimg.com/p/aur1361433642q.bmp)

这确实在代码中工作：

[![草.bmp](../Images/91958fca7ceadedc92270efb7f99d661.png)](https://web.archive.org/web/20130221172153/http://turboimg.com/p/udj1361433715c.bmp)

还检查了信息大小和文件头大小。两张图片的信息为 40，文件大小为 14。图像 biWidth 和 BiHeight 仍然是 32x32。

这显示了我如何使用图像草纹理十六进制

```
//GRASS
glTexImage2d(GL_TEXTURE_2D,Level,Colorcomps,sGrass,tGrass,Border,GL_RGB,GL_UNSIGNED_BYTE,grass);
glLoadName(1);
glBegin(GL_POLYGON);
    for I := 0 to 6 do
    begin
      glTexCoord2f(COS(i/6.0*2*PI),SIN(i/6.0*2*pi));
      glVertex3f((((COS(i/6.0*2*PI)/12)+offsetx)+0.2),((SIN(i/6.0*2*pi)/12)+offsety),-2);
    end;
glEnd; 
```

`grass`是一个指针，像这样填充：

```
grass := Readbitmap('Grass.bmp',sGrass,tGrass); 
```

以及如何获取图像数据（这应该没问题，因为它可以与其他图像一起使用，我真的认为它与图像有关的其他东西会使两者不同）？

```
Function TFCreateMap.ReadBitmap(const FilePath:String;var sWidth,tHeight:GLsizei):pointer;
const
  szh=SizeOf(TBitmapFileHeader);
  szi=SizeOf(TBitmapInfoHeader);
var
  bmpfile: file;
  bfh:TBitmapFileHeader;
  bmi:TBitmapInfoHeader;
  t:byte;
  x,
  fpos,
  size: integer;
begin
  assignfile(bmpfile,FilePath);
  reset(bmpfile,1);
  size := FileSize(bmpfile)-szh-szi;
  blockread(bmpfile,bfh,szh);
  if bfh.bfType<>$4D42  then
    raise EinvalidGraphic.Create('Invalid Bitmap');
  blockread(bmpfile,bmi,szi);
  with bmi do
  begin
    sWidth := biWidth;
    tHeight := biHeight;
  end;
  getmem(result,size);
  blockread(bmpfile,result^,size);
  for x  := 0 to sWidth*tHeight-1 do
  with TWrap(result^)[x] do
  begin
    t := r;
    r := b;
    b := t;
  end;
end; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T19:41:30.157

您的位图至少在位深度上有所不同。加载失败的是 8 位，而工作的是 24 位。您需要将 8 位位图转换为 24 位（因为函数调用`format`中使用了参数值）。[`glTexImage2D`](http://www.opengl.org/sdk/docs/man/xhtml/glTexImage2D.xml)

***代码审查：***

我已经审查了您的代码，结果如下；以下代码使用文件流来读取文件（因为我不是旧式 I/O 例程的粉丝；无论如何你忘记了文件关闭），删除了颜色通道旋转部分，正如@Rob 指出的错误（原因如下）。我添加了对必要位深度值的检查（必须是 24 位，带有`format`您将用于[`glTexImage2D`](http://www.opengl.org/sdk/docs/man/xhtml/glTexImage2D.xml)函数调用的标志）：

```
function TFCreateMap.ReadBitmap(const AFilePath: string; var AWidth, 
  AHeight: GLsizei): Pointer;
var
  DataSize: Integer;
  FileStream: TFileStream;
  FileHeader: TBitmapFileHeader;
  InfoHeader: TBitmapInfoHeader;
const
  FileTypeBitmap = $4D42;
  FileHeaderSize = SizeOf(TBitmapFileHeader);
  InfoHeaderSize = SizeOf(TBitmapInfoHeader);
begin 
  Result := nil;                              

  FileStream := TFileStream.Create(AFilePath, fmOpenRead);
  try
    FileStream.ReadBuffer(FileHeader, FileHeaderSize);
    if (FileHeader.bfType <> FileTypeBitmap) then
      raise EinvalidGraphic.Create('Invalid file type!');

    FileStream.ReadBuffer(InfoHeader, InfoHeaderSize);
    if (InfoHeader.biBitCount <> 24) then
      raise EinvalidGraphic.Create('Invalid bit depth!');

    DataSize := FileStream.Size - FileHeaderSize - InfoHeaderSize;
    GetMem(Result, DataSize);
    FileStream.ReadBuffer(Result^, DataSize);

    AWidth := InfoHeader.biWidth;
    AHeight := InfoHeader.biHeight;    
  finally
    FileStream.Free;
  end;    
end; 
```

现在来谈谈为什么我删除了颜色通道旋转；我几乎没有使用 OpenGL 的经验，但有件事告诉我，函数参数的`GL_BGR`值可能会简化这部分，因为我会说该函数需要 BGR 像素数组作为其参数，这就是您的位图的存储方式. 所以我的猜测是你可以离开颜色通道旋转并使用参数值调用函数：`format`[`glTexImage2D`](http://www.opengl.org/sdk/docs/man/xhtml/glTexImage2D.xml)`data`[`glTexImage2D`](http://www.opengl.org/sdk/docs/man/xhtml/glTexImage2D.xml)`GL_BGR``format`

```
glTexImage2D(GL_TEXTURE_2D, Level, Colorcomps, sGrass, tGrass, Border, GL_BGR,
  GL_UNSIGNED_BYTE, grass);
... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T12:50:25.713

第一个图像具有索引颜色格式，但第二个图像具有 RGB。您可以尝试使用 GIMP 或其他编辑器更改颜色格式。

# php - 如何在 Magento 中使用外部数据库连接？

> ID：14996367
> 
> 赞同：2
> 
> 时间：2013-02-21T07:01:27.297
> 
> 标签：php, mysql, magento-1.7, moodle

这是我在 Magento 中使用的核心 PHP 代码。

```
 $model_moodle = mysql_connect("localhost","root","123456")  
            or die("Unable to connect to MySQL");       
        //select a database to work with
        $selected = mysql_select_db("moodle",$model_moodle) 
          or die("Could not select moodle");
        //execute the SQL query and return records
        $result = mysql_query("SELECT id FROM mdl_course where shortname ='".$data."'");        
        //fetch tha data from the database 
        while ($row = mysql_fetch_array($result)) {        
           $course_id = $row['id'];//display the results          
        }
        //echo "Cource id is=".$course_id;
        //close the connection
        mysql_close($model_moodle); 
```

我需要使用此代码，但使用 Magento 外部数据库连接。
我在 Magento 中使用“Moodle”数据库。但我需要 Magento 方式的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-05T05:00:42.383

使用这个 mysql 命令连接到外部数据库：

mysql -h clouddb.com -u root -p 数据库名；

它询问root密码，然后输入密码，然后您可以登录到您的外部数据库！

# java - 从网络上的远程数据库获取连接的延迟将近 12 秒

> ID：14996369
> 
> 赞同：2
> 
> 时间：2013-02-21T07:01:35.247
> 
> 标签：java, database, jdbc, database-connection, derby

我有一个 Java Swing 应用程序，它访问本地网络上的远程数据库。我使用的代码如下：

```
Class.forName("org.apache.derby.jdbc.ClientDriver");
conn=java.sql.DriverManager.getConnection("jdbc:derby://10.137.242.182:1527/C:/Users/545404/.netbeans-derby/deviceapp");
return conn; 
```

当我从运行 Derby 服务器的同一台机器上访问数据库时，它工作正常。

但是当我在本地网络上的其他系统中使用它时。获得连接有大约 10-12 秒的延迟。

请建议一种在本地网络上更快地访问数据库的正确方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T14:59:49.280

我的 Derby 客户端在几毫秒内通过我的本地网络连接到我的服务器。

一定有一些奇怪的网络问题导致了这种延迟。像这样长的多秒延迟通常是由 DNS 配置、防火墙等网络问题引起的。

您是否采纳了 Jon Skeet 的建议来使用 WireShark 检查您的网络活动？WireShark 显示关于网络访问的哪些内容？

# c++ - 如何编程所有可能的答案 [][]/[] = [][]/[] = [][]/[] 没有从 1 到 9 的重复数字？

> ID：14996374
> 
> 赞同：-3
> 
> 时间：2013-02-21T07:02:05.657
> 
> 标签：c++, algorithm, math

这是一个用C++编写的程序语言，在方程[][]/[] = [][]/[] = [][]/[]中填入1到9的所有数字，不重复。我做了一些测试，但似乎答案并不完全，例如 57/6 = 19/2 = 38/4，有人可以帮忙吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:20:27.160

```
#include <iostream>
#include <cmath>
#include <vector>

using namespace std;

/* [][]/[]=[][]/[]=[][]/[] */
bool equal(vector<double> a)
{
    double exc = 0.001;
    if (fabs((a[0]*10+a[1])/a[2] - (a[3]*10+a[4])/a[5]) > exc)
        return false;
    if (fabs((a[0]*10+a[1])/a[2] - (a[6]*10+a[7])/a[8]) > exc)
        return false;
    return true;
}
int main()
{
    vector<double> a;
    double data=1.0;
    for (int i=1; i<=9; ++i)
    {
        data = i*1.0;
        a.push_back(data);
    }
    while (next_permutation(a.begin(), a.end()))
    {
        if (equal(a))
        {
            for (vector<double>::iterator it=a.begin(); it!=a.end(); ++it)
                cout << *it << " ";
            cout << endl;
        }
    }
    return 0;
} 
```

输出：

```
1 9 2 3 8 4 5 7 6
1 9 2 5 7 6 3 8 4
2 1 3 4 9 7 5 6 8
2 1 3 5 6 8 4 9 7
2 7 3 5 4 6 8 1 9
2 7 3 8 1 9 5 4 6
3 8 4 1 9 2 5 7 6
3 8 4 5 7 6 1 9 2
4 9 7 2 1 3 5 6 8
4 9 7 5 6 8 2 1 3
5 4 6 2 7 3 8 1 9
5 4 6 8 1 9 2 7 3
5 6 8 2 1 3 4 9 7
5 6 8 4 9 7 2 1 3
5 7 6 1 9 2 3 8 4
5 7 6 3 8 4 1 9 2
8 1 9 2 7 3 5 4 6
8 1 9 5 4 6 2 7 3 
```

也许有不同顺序的多个答案，您可以根据需要进行过滤。

# jquery - Ember.js：操作完成后outlet不会替换视图

> ID：14996376
> 
> 赞同：0
> 
> 时间：2013-02-21T07:02:08.687
> 
> 标签：jquery, ember.js, ember-data

这是我的应用程序结构。[http://jsfiddle.net/cc7fC/](http://jsfiddle.net/cc7fC/)

*   联系人
*   联系人/新
*   联系人/<id> //联系人
*   联系人/<id>/edit

我正在尝试将“new”、“contact”和“contact.edit”加载到同一个 {{outlet}} 中。在我完成编辑并点击保存后。在我手动单击联系人之前，视图不会刷新。

```
...
submit: function(post) {
      post.get('store').commit();
      if (post.didCreate) {
        //debugger;
        return this.transitionTo('contact');
      }
... 
```

编辑：修正错别字和格式

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T10:24:40.277

你在这里有几个问题。

你不能把`contact`和`contact.edit`放在同一个里面`{{outlet}}`，因为`contact.edit`是嵌套在里面`contact`的。此外，您不能从`contact.edit`to过渡，`contact`因为`contact.edit`它嵌套在`contact`.

但是，您可以做的是将它们放在同一位置，`contact.index`并且可以在它们之间进行转换。因此，您需要将模板替换为模板，并为.`contact.edit``outlet``contact``contact.index``App.ContactIndexRoute`

第二个问题是当您转换到`model`诸如`contact`now之类的路由时`contact.index`，您需要传递您希望它转换到的模型。所以过渡应该是这样的：

```
this.transitionTo('contact.index', contact); 
```

还有一件事，我不确定你为什么使用：

```
if (post.didCreate) {
} 
```

我认为这行不通... didCreate 是您需要收听的事件。看看[这个答案](https://stackoverflow.com/questions/14981500/transition-after-saving-model-of-ember-data/14982675#14982675)。

最后是[工作小提琴](http://jsfiddle.net/teddyzeenny/cc7fC/3/):)

# javascript - 使用 javascript 进行第二次匹配的正则表达式

> ID：14996387
> 
> 赞同：0
> 
> 时间：2013-02-21T07:02:51.323
> 
> 标签：javascript, regex

我有一个复杂的字符串。从这个字符串我想只得到以下标记的部分：（第二场比赛）

**示例**：

> 1;#FirstName,, Surname,#Domain\Account,#email.@company.com,#email@company.com,#FirstName,, Surname25;#FirstName **,, Surname** ,#Domain\Account,#email.@company .com,#email@company.com,#FirstName,, Surname26;#Helpdesk,#DE\helpdesk,#helpdesk@vega.com,#,#Helpdesk30;#...

我只想获得第二个“名字，姓氏”组合......有什么想法可以做到这一点吗？

在上面的示例中，我需要忽略从 1;# 到 25;# 的完整第一部分，然后我需要“FirstName,,Surname”，然后应该忽略字符串的其余部分。

数字可以不同，字符串的长度也可以不同......

我从这个开始，但它不起作用：

```
((.*?[0-9]+.*?){2})[0-9]+ 
```

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:08:08.610

您可以使用字符串拆分功能并通过 var arry = yourstring.split(',') arry[9],arry[11] 拆分将包含您的字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:18:12.463

尝试以下正则表达式：

```
(?:.+?;){2}#(.+?),# 
```

*（顺便说一句很奇怪的字符串）*

你可以看到它在这里工作：[http](http://regex101.com/r/dV1lW5) ://regex101.com/r/dV1lW5和这里：[http ://regexr.com?33rn5](http://regexr.com?33rn5) ![在此处输入图像描述](../Images/8a61be36d8e01bb909a6f24e888d18b8.png)

# ios - 如何在 iOS iPad app 中实现 Rate App 功能

> ID：14996389
> 
> 赞同：2
> 
> 时间：2013-02-21T07:02:56.040
> 
> 标签：ios, objective-c, rate, appirater

我正在使用 Appirater 在我的 iPad 应用程序中实现 Rate 应用程序功能。Appirater 中有以下链接用于此目的。

itms-apps://ax.itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&id=APP_ID

但是当我点击 Rat App 按钮时，它给了我一个错误“无法连接到 iTunes 商店”。让我明确一点，在测试之前我已经用我的 Apple ID 替换了 APP_ID。我在一些论坛上读到此链接不适用于 iPad 应用程序。

有人可以帮忙吗？此致

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T09:04:56.903

以下适用于 iPhone（不适用于 iPad）：

```
itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=APP_ID&onlyLatestVersion=true&pageNumber=0&sortOrdering=1&type=Purple+Software 
```

只需将 APP_ID 替换为您的即可。如果您通过 http 更改 itms-apps，也适用于 Safari。

此处的原始答案：[“评价/评论此应用”的应用商店链接](https://stackoverflow.com/questions/3124080/app-store-link-for-rate-review-this-app)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T09:09:28.050

我认为你已经完成了 Rate 功能。Appirater 在苹果批准相同的应用程序 ID 后工作。所以你在沙盒模式下看不到评论页面。尝试将 APP_ID 替换为任何已发布的应用程序。

# linux - ubuntu 12.04 的 bash 选项卡完成问题

> ID：14996391
> 
> 赞同：8
> 
> 时间：2013-02-21T07:03:18.970
> 
> 标签：linux, bash, tab-completion

我遇到了无法解决的制表符补全问题。具体来说，每当我尝试使用制表符完成一个目录时，完成的目录名称会出现一个空格，而不是正斜杠来完成其余部分。例如

```
~$ python ~/sof 
```

制表符完成到

```
~$ python ~/software<space> 
```

代替

```
~$ python ~/software/ 
```

有趣的是，这不会发生在`cd`它所做的所有其他事情上。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-21T08:24:20.693

显然这是一个已知的错误。删除`/etc/bash_completion.d/acroread.sh`解决了这个问题。

# jquery - 通过深度链接 块和属性 title=''，以及 toggleClass 'selected'

> ID：14996395
> 
> 赞同：0
> 
> 时间：2013-02-21T07:03:41.637
> 
> 标签：jquery, deep-linking

[请参阅我在此处](http://jsfiddle.net/m9tz7/)创建的 jsfiddle 演示，我正在尝试为我当前客户的网站添加深度链接功能。

我需要有关以下要求的帮助：

我的简单点击 toggleClass 代码：

```
$("div.contentBox").click(function () {

    var $this = $(this);
    // don't proceed if already selected
    var $previousSelected = $('.selected');
    if ( !$this.hasClass('selected') ) {
        $this.addClass('selected');
    }

    $previousSelected.removeClass('selected');  
}); 
```

(1) 会有很多重复`<div class='contentBox'>`，每一个都有不同的属性值`title=''`

`$("div.contentBox").click()`(2) 通过从 中添加值触发事件`title=''`，将产生类似*[http://site.com/index.html#content01-about-us](http://site.com/index.html#content01-about-us)*的内容。注意：请提供示例编码如何实现这一点。

（3）通过`<div>`block而不是触发事件的原因是容器内部有`<a>`额外的标签，最终会形成嵌套链接，这是不允许的。`<a>``class='contentBox'``<a>`

(4)`$("div.contentBox").click()`也将 toggleClass 'selected'

(5) 从链接返回，例如*[http://site.com/index.html#content01-about-us](http://site.com/index.html#content01-about-us)*，页面加载将足够智能以获取`<div class='contentBox' title='content01-about-us>`addClass/toggle 类`'selected'`

我花了数周时间解决这个问题，但无济于事，在这里迫切需要帮助。如果这里有人能按照要求更新上述 jsfiddle[演示](http://jsfiddle.net/m9tz7/)，那将是最好的。

我自己进行了一些研究，遇到了[history.js](https://github.com/balupton/History.js/)，[address.js](http://www.asual.com/jquery/address/)和[BBQ 插件](http://benalman.com/projects/jquery-bbq-plugin/)，但无法让它工作

提前感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:24:38.993

你需要这样的东西：

```
$("div.contentBox").click(function () {

var $this = $(this);
// don't proceed if already selected
var $previousSelected = $('.selected');
if ( !$this.hasClass('selected') ) {
    $this.addClass('selected');
}
$previousSelected.removeClass('selected');  

if(location.href.indexOf('#') == -1)
  location.href += "#" + $(this).prop("title");
else
  location.href = location.href.split('#')[0] + "#" + $(this).prop("title");
alert(location.href);
}); 
```

对于第二个要求：

```
$(document).ready(function() {
  if(location.href.indexOf('#') != -1){
    var page = location.href.split('#')[1];
    $("div[title*=" + page + "]").addClass('selected');
  }
}); 
```

# html - CSS Border-Radius 显示父母的样式

> ID：14996397
> 
> 赞同：1
> 
> 时间：2013-02-21T07:03:50.807
> 
> 标签：html, css, liferay

我在带有背景颜色、框阴影和边框的 div 顶部有一个按钮。该按钮具有边框半径角，顶部 div 的背景颜色和其他样式显示出来。

最简单的解释方法是这个 jsfiddle：

[http://jsfiddle.net/wCppN/1/](http://jsfiddle.net/wCppN/1/)

## HTML：

```
<div class="journal-content-article">
    <div class="button">
        Hello Button
    </div>
</div>

<div class="journal-content-article">
    Normal article with white background.
</div> 
```

## CSS：

```
.journal-content-article {
    background-color: white;
    border: 1px solid black;
    box-shadow: 5px 5px 5px darkgrey;
}

.button {
    border-radius: 20px;
    background-color: green;
} 
```

我希望能够保持“普通文章”div 原样，但能够从“按钮”中删除白色背景、黑色边框和框阴影。

这是通过 Liferay 网络内容完成的，所以我仅限于可以进行哪些 HTML 更改。只能更改 div 'journal-content-article' 中的任何 HTML，并且不能向该 div 或任何父 div 添加其他类。

我也无法更改“普通文章”的 div 内容，因为用户（没有 CSS/HTML 经验）必须输入。

关于如何实现这一点的任何想法，还是我被迫使用 Javascript？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:18:23.400

也许是这样：

[http://jsfiddle.net/wCppN/7/](http://jsfiddle.net/wCppN/7/)

```
<div class="journal-content-article">
    <div class="button">Hello Button</div>
</div>
<div class="journal-content-article">
    <div class="myClass">Normal article with white background.</div>
</div>

.journal-content-article {
    margin: 20px 20px;
    width: 150px;
}
.myClass {
    background-color: white;
    border: 1px solid black;
    box-shadow: 5px 5px 5px darkgrey;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:22:52.110

我不认为你可以覆盖 .journal-content-article 的样式，而不是像 fredsbend 建议的那样做一些事情，或者能够编辑 div 本身。您可以有效地覆盖白色背景，如下所示：

```
div class="journal-content-article">
   <div class="journal-content-inside">
    <div class="button">
        Hello Button
    </div>
    </div>
</div>

.journal-content-inside {
    background-color: black;
    margin: 0 auto;
    padding: 0;
    width: 150px;
    overflow: hidden;
    border: none;
 } 
```

但是，这并不能解决边框和框阴影问题。我不知道如果没有 javascript 或 div 之外的其他编辑方式，这些真的可以修复。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:14:03.700

一种可能对其他人有所帮助的方法是在按钮上设置负边距：

```
.button {
    margin: -10px;
} 
```

[http://jsfiddle.net/wCppN/11/](http://jsfiddle.net/wCppN/11/)

这使得按钮大于边框和阴影，而`overflow: hidden`关闭，掩盖了问题。

但是它的缺点是按钮变得比您想要的大。在某些设计中可能很好，但我们有一个框/列结构，只有 -2px 的边距看起来太糟糕了，我无法使用它（我是一个完美主义者）！

虽然它可能会帮助其他人！

# android - Android 下载图片随机失败

> ID：14996406
> 
> 赞同：0
> 
> 时间：2013-02-21T07:04:39.500
> 
> 标签：android, bitmap, android-asynctask

我认为我的错误日志会清楚地描述我的问题。

我正在使用 Async 在产品展示中进行少量图像下载。但是当下载（可能更大）图像时应用程序强制关闭，**注意：其他一些产品正确下载并显示没有问题。**

这是我在 asynctask 中的一些代码，我在 doInBackground 中执行了**DownloadImage(URL)****并将**其存储在**bitmapArray**

 **```
private Bitmap DownloadImage(String URL) {
Bitmap bitmap = null;
InputStream in = null;
try {
    in = OpenHttpConnection(URL);
    BufferedInputStream bis = new BufferedInputStream(in, 32 * 4096);

    ByteArrayBuffer baf = new ByteArrayBuffer(50);
    int current = 0;
    while ((current = bis.read()) != -1) {
    baf.append((byte) current);
    }
    byte[] imageData = baf.toByteArray();
    bitmap = BitmapFactory.decodeByteArray(imageData,0,imageData.length);

    in.close();
    } catch (IOException e1) {
    e1.printStackTrace();
    }
    return bitmap;
} 
```

日志.txt

```
02-21 06:54:35.982: E/AndroidRuntime(2026): FATAL EXCEPTION: AsyncTask #3
02-21 06:54:35.982: E/AndroidRuntime(2026): java.lang.RuntimeException: An error occured while executing doInBackground()
02-21 06:54:35.982: E/AndroidRuntime(2026):     at android.os.AsyncTask$3.done(AsyncTask.java:299)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.lang.Thread.run(Thread.java:856)
02-21 06:54:35.982: E/AndroidRuntime(2026): Caused by: java.lang.OutOfMemoryError
02-21 06:54:35.982: E/AndroidRuntime(2026):     at android.graphics.BitmapFactory.nativeDecodeByteArray(Native Method)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at android.graphics.BitmapFactory.decodeByteArray(BitmapFactory.java:426)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at android.graphics.BitmapFactory.decodeByteArray(BitmapFactory.java:444)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at com.nazartt.angtrading.ShowCase$task.DownloadImage(ShowCase.java:201)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at com.nazartt.angtrading.ShowCase$task.doInBackground(ShowCase.java:129)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at com.nazartt.angtrading.ShowCase$task.doInBackground(ShowCase.java:1)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at android.os.AsyncTask$2.call(AsyncTask.java:287)
02-21 06:54:35.982: E/AndroidRuntime(2026):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:10:47.667

如果您正在下载多个图像，那么您应该使用如下所示的一些**缓存**算法，这样您就可以缓存图像并轻松地从缓存中加载它。

1.  [Fedor 的懒惰列表](https://stackoverflow.com/a/3068012/379693)
2.  [通用图像加载器](https://github.com/nostra13/Android-Universal-Image-Loader)
3.  [诺沃达的 ImageLoader](https://github.com/novoda/ImageLoader)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:15:03.440

you have to recycle bitmap. The bitmap implementation is native, so the java object is small and a poor candidate for java garbage collection but the memory is still allocated. Take a look to Bitmap.recycle()**

# ios - 向 NSUserDefaults 添加新设置

> ID：14996407
> 
> 赞同：2
> 
> 时间：2013-02-21T07:05:08.903
> 
> 标签：ios, objective-c, nsuserdefaults

我`NSUserDefaults`用来存储一些应用程序设置。

我需要为我的设置设置一些默认值。

因此`isAppFirstLaunch`，我在应用程序首次启动时为默认值添加了值并将所有需要的默认（初始）值设置为我的设置。

但我经常添加一些新设置。在这种情况下`isAppFirstLaunch is FALSE`，我无法为其设置任何默认值，因此我必须删除我的应用程序并重新安装它。

所以问题是：*如何设置新的设置默认值？*.

* * *

我不知道我的应用是否在应用商店中

```
[[[NSBundle mainBundle] infoDictionary]objectForKey:@"CFBundleVersion"]]; 
```

比我可以将应用程序版本存储在我的默认值中并检查版本是否更改设置了新的默认值。

但是调试怎么办？我应该总是删除应用程序以清除默认值吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:13:49.793

您可以检查设置是否已经存在（如果不同于 NULL），如果不存在，请将其设置为默认值。

您可以将代码添加到您的应用程序委托的`applicationDidFinishLaunching`方法中，以检查设置是否为 NULL，而不是设置它。对应用程序中的每个设置执行此操作。

# iphone - 如何获取 YouTube 视频 URL

> ID：14996409
> 
> 赞同：1
> 
> 时间：2013-02-21T07:05:23.373
> 
> 标签：iphone, ios, ios6, youtube

我正在寻找 Youtube Downloader 应用程序。并下载视频首先我需要获取正在运行的视频的 URL。如何获取我播放的视频的 URL。

但是当我在模拟器中播放任何视频时，它会自动给我一些 url 的信息。

```
2013-02-21 12:25:26.518 MyTube[682:14003] [MPAVController] Autoplay: Enabling autoplay
2013-02-21 12:25:26.518 MyTube[682:14003] [MPAVController] Autoplay: Skipping autoplay, disabled (for current item: 0, on player: 1)
2013-02-21 12:25:26.518 MyTube[682:14003] setting movie path: http://r19---sn-a5m7lner.c.youtube.com/videoplayback?mt=1361429411&ipbits=8&fexp=919113%2C927902%2C916716%2C916612%2C901447%2C902545%2C920704%2C912806%2C902000%2C922403%2C922405%2C929901%2C913605%2C925006%2C906938%2C931202%2C908529%2C920201%2C930101%2C926403%2C901451&newshard=yes&key=yt1&signature=2AB1FC44B4EDA0C5DDF4E715FDCA19FFB16E0FF7.732382C58B3C8CBC4840D462940DFE2FEC9FBE53&source=youtube&sver=3&mv=m&expire=1361452937&ms=au&itag=36&el=watch&dnc=1&cp=U0hVRlRQUF9IUUNONV9MSlRKOjVNc1BwWTUxSVR2&upn=r3oQUqMCths&sparams=cp%2Cid%2Cip%2Cipbits%2Citag%2Cratebypass%2Csource%2Cupn%2Cexpire&ip=117.215.128.101&app=youtube_mobile&ratebypass=yes&yms=0PtNsY21DUs&id=2a147a30c3da7601 
```

这意味着`setting movie path`我需要的网址..但它会自动出现在输出中..我可以获取这个网址吗...以便我可以下载

我只是在 Webview 中播放 youtube 视频

```
[webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@"http://m.youtube.com"]]]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T09:00:47.000

您可以使用 YouTube API 来获取 URL。看看[这里](https://developers.google.com/youtube/2.0/reference?hl=de)和[这里](http://apiblog.youtube.com/2009/02/youtube-apis-iphone-cool-mobile-apps.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T08:57:35.117

Youtube 在 iOS 中有点棘手，因为它没有提供明显的真实视频链接。有一个名为[LBYoutubeView](https://github.com/larcus94/LBYouTubeView)的好插件，它可以为您提取真实的 url。如果您只想下载视频，可以查看链接提取器...

另一个机会是使用[gdata 目标 c](http://code.google.com/p/gdata-objectivec-client/)客户端并将提取的链接导入 UIWebView。但请记住，`gdata`客户端不会像上面的框架那样为您提供真正的链接。

请注意，模拟器中的 UIWebivews <`6.0`可能`do not`支持在 UIWebview 中播放 youtube 视频。

至少这里有一个如何将 youtube 视频直接嵌入 UIWebView 的示例：

```
[self.webView loadRequest:[NSURLRequest requestWithURL:
                           [NSURL URLWithString:
                            [NSString stringWithFormat:@"%@%@", @"http://www.youtube.com/embed/", @"THEYOUTUBEID"]]]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-22T01:32:30.523

您可以使用 HCYoutubeParser： [https ://github.com/hellozimi/HCYoutubeParser](https://github.com/hellozimi/HCYoutubeParser)

```
NSString *videoUrl = [NSString stringWithFormat:@"https://www.youtube.com/watch?v=%@", videoId];
NSDictionary *videos = [HCYoutubeParser h264videosWithYoutubeURL:[NSURL URLWithString:videoUrl]];
videoUrl = videos[@"small"]; 
```

# wordpress - Wordpress 中的两列布局？

> ID：14996411
> 
> 赞同：0
> 
> 时间：2013-02-21T07:05:28.037
> 
> 标签：wordpress

我不确定这是一般的网页设计还是 Wordpress 问题。

我在这里有一个简单的演示来说明我的问题。

[http://www.ttmt.org.uk/forum/wp/](http://www.ttmt.org.uk/forum/wp/)

这只是一个简单的 2 列响应式布局。

我的简单问题是如何在两列之间溢出内容。

该页面将是 Wordpress 中的页面，而不是帖子（我认为）。

我想在 Wordpress 中创建一个页面并将文本放在内容区域

Wordpress 中有一个内容区域，有没有办法拆分这些内容，所以我可以说这是左列，这是右列。

文本都在同一个主题上，但我需要将它分成两列。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:20:04.850

如果您要询问如何从现有的两列中制作三列，请查看[此处](http://css-tricks.com/fluid-width-equal-height-columns/)。如果您正在寻找一种方法来输入内容，以便能够在主题的不同位置输出不同的列，那么有很多方法。

一般来说，每列都需要某种 »container«，因此您可以在创建帖子或页面时使用纯文本编辑器添加 div-container。您还可以使用自定义字段输入更多列。还有可用的[插件](http://wordpress.org/extend/plugins/multi-column-tag-map/)（我从未为此使用过），最后但并非最不重要的一点是：您可以创建插件并挂钩到页面/后期编辑页面，并在输入字段中添加其他字段。使用这样的插件，您还可以创建自定义帖子类型并仅挂钩到其编辑表单。

解决方案的范围从“便宜且快速”到“相当复杂”，这取决于编辑应该或必须达到的舒适程度。如果它只适合您，而不是编辑器中的简单 hack 可能会满足您的需求，但如果它是针对不擅长 html 的客户，您应该考虑一些“更强”的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:17:47.527

我认为这是设计问题而不是 Wordpress。Wordpress 将内容作为单个项目获取并显示。如果要在多列中显示内容，则可以使用 jQuery 插件，例如[http://www.vanderlee.com/martijn/?page_id=229](http://www.vanderlee.com/martijn/?page_id=229)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-23T11:32:39.280

您可以使用wordpress.org的[列简码](https://wordpress.org/plugins/column-shortcodes/)插件将您的内容分成列

# jquery - 从 Javascript 和 JQuery Mobile UI 运行 Python CGI 脚本

> ID：14996414
> 
> 赞同：0
> 
> 时间：2013-02-21T07:05:32.840
> 
> 标签：jquery, python, ajax, cgi, raspberry-pi

我试图完成的工作流程如下。

*   有一个带有一堆范围滑块元素的 jQuery Mobile UI。每个都用于控制不同的功能。
*   当用户移动并释放这些滑块中的任何一个时，应该触发一个进行 AJAX 调用的 jQuery 事件（我不在乎它是否使用 JSON、XML、POST 等 - 最快最好）
*   Ajax 调用包含有关移动了哪个滑块以及它的新值是什么的信息（例如：id=slider1, value=215）
*   Ajax 在 CGI bin 中执行一个 python 脚本，该脚本读取 ID 和值并控制一些通过串行连接到我的 Raspberry Pi 的硬件（Raspberry pi 也运行网络服务器）。

我有一个带有一堆滑块的 JQuery UI。每个滑块代码如下所示：

```
<div data-role="fieldcontain">
    <fieldset data-role="controlgroup">
        <div class="rgbw_label"><label for="red_slider">
            Red:
        </label></div>
        <input type="range" id="red_slider" name="red_slider" value="0" min="0" max="255" data-highlight="true" />
    </fieldset>
</div> 
```

需要有一些伴随的 JQuery 来做这样的事情：

```
 $(document).ready(function () {
$.ajax({
    type: "POST",
    url: "cgi-bin/command.py",
    success: function (msg)
    {
        alert("Data Saved: " + msg);
    }

    });

}); 
```

显然，关于 JS 有两个主要的事情需要改变。首先，它需要在释放滑块时执行（而不是在页面加载时），其次它需要以某种方式将滑块的值实际传递给 Python 脚本。我这样设置只是为了测试。当我加载页面时，这个测试器 python 脚本被正确执行，并且连接到树莓派的一些硬件被正确控制。我知道我应该使用[slidestop 事件](http://jquerymobile.com/demos/1.2.0/docs/forms/slider/events.html)，但我无法让它工作。我也不确定将一些变量发送到 python 脚本的最佳方法是什么。

我的 python 脚本现在看起来像这样：#!/usr/bin/python

```
import cgi

import serial
ser = serial.Serial('/dev/ttyUSB0', 57600)
ser.write("Hello, this is a command!\n")      # write a string
ser.close() 
```

因此，它不寻找任何类型的传入数据，它只是被调用并写入一些串行数据。它应该能够接收来自 AJAX 调用的数据，并根据接收到的信息调整串行写入命令。我需要帮助将这些信息转化为我可以使用的变量。我假设我还应该将某种“我完成了”的消息传回给 JavaScript 调用函数。

我期待人们对高级问题或解决我在此处列出的更具体问题的方法的任何见解。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T23:35:36.693

以下情况如何：

```
...
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css">
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
...
<div data-role="fieldcontain">
    <fieldset data-role="controlgroup">
        <div class="rgbw_label"><label for="red_slider">
            Red:
        </label></div>
        <input type="range" id="red_slider" name="red_slider" class="posting-slider" data-slider-id="1" value="0" min="0" max="255" data-highlight="true" />
    </fieldset>
</div> 
```

使用以下 Javascript：

```
$(document).ready(function() {
    $('.posting-slider').on('slidestop', function(e) {
        $.post('/server/script.py', { id: $(this).data('slider-id'), value: e.target.value }, function(data, textStatus, jqXHR) {
            console.log('POSTed: ' + textStatus);
        });
    });
}); 
```

最后，蟒蛇：

```
import cgi
form = cgi.FieldStorage()

import json

import serial
ser = serial.Serial('/dev/ttyUSB0', 57600)
ser.write("Hello, this is a command for value %s from slider id %s!\n" % (form["id"], form["value"]))      # write a string
ser.close()

print "Content-type: application/json"
print
print(json.JSONEncoder().encode({"status":"ok"})) 
```

# jquery - 当负载在其中时如何停止“setInterval”

> ID：14996415
> 
> 赞同：0
> 
> 时间：2013-02-21T07:05:36.843
> 
> 标签：jquery, load, setinterval

我有同样的问题： [如何停止“setInterval”](https://stackoverflow.com/questions/1831152/how-to-stop-setinterval)

但是当我在 setInterval 中有负载时它不起作用，这就是 test.php 里面的内容：

```
<div id="refresh">
<textarea></textarea>
</div>

<script src="jquery.js"></script>
<script>
$(function () {
  var timerId = 0;

  $('textarea').focus(function () {
    clearInterval(timerId);
  });

  $('textarea').blur(function () {
    timerId = setInterval(function () {
     $('#refresh').load('test.php #refresh');
    }, 1000);
  });
});
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:10:21.430

问题是您的`load`调用破坏并重新创建了`textarea`，并且没有将事件处理程序附加到新的`textarea`. 您附加的处理程序只会附加到原始处理程序，而不是新的替换。

你可以通过事件委托来解决这个问题，因为 jQuery 确保`blur`并`focus`冒泡（即使它们并非在所有浏览器上都原生冒泡）；

```
$(function () {
  var timerId = 0;

  $('#refresh').on('focus', 'textarea', function () {
    clearInterval(timerId);
  });

  $('#refresh').on('blur', 'textarea', function () {
    timerId = setInterval(function () {
     $('#refresh').load('test.php #refresh');
    }, 1000);
  });
}); 
```

这会钩住`#refresh`元素上的事件，但仅当事件源自它的后代`textarea`时才会触发处理程序。

`refresh`或者因为没有理由反复查找：

```
$(function () {
  var timerId = 0,
      refresh = $("#refresh");

  refresh.on('focus', 'textarea', function () {
    clearInterval(timerId);
  });

  refresh.on('blur', 'textarea', function () {
    timerId = setInterval(function () {
     refresh.load('test.php #refresh');
    }, 1000);
  });
}); 
```

请注意，更改还意味着仅获取事件*中*的`textarea`元素，而使用您的原始代码，页面上的*所有*元素都得到了它。*`#refresh` `div` *`textarea`**

# amazon-cloudfront - S3、云端和到期日期

> ID：14996416
> 
> 赞同：4
> 
> 时间：2013-02-21T07:05:40.353
> 
> 标签：amazon-cloudfront

我正在使用 s3 托管静态网站。该网站放置在 s3 存储桶中，由 cloudfront 分发。这一切都很好，但是当我们需要更改特定文件时我们会遇到问题。如果我们更改 s3 存储桶中的 index.html 文件，我们不会从云端获取最新文件。我是否应该在 s3 上为这些静态文件设置到期时间，只有在到期时间之后，cloudfront 才会查找新版本的文件并分发新文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T13:08:22.067

CloudFront uses the `Cache-Control` and `Expires` header sent by the origin server to decide if a resource is to be stored in cache and how long a it is considered fresh. If you don't control caching via response headers, CF will consider each resource as stale after 24 hours it was fetched from the origin. Optionally, you can configure a distribution to ignore cache control headers and use an expiry time for each resource that you specify.

When you update a file at the origin, CF will not attempt to refresh its copy until it expires. You can follow different strategies to have CF update cached copies.

1) The least efficient and not recommended is use [invalidation](http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html). You can do it via AWS console or API.

2) Tell CF when to look for updated content by sending `Expires` headers. For example, if you have a strict policy for deploying new content/version to your website and you know that say you roll out a deployment almost every Thursday, you may send an `Expires` header with each resource from your origin set to next planned deployment date. (This will probably not work with S3 origins.)

3) The most efficient and recommended way is to use [versioned URLs](http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/ReplacingObjects.html). A good practice could be to include the last modified time of the resource in its access URI. With EC2 or other origins able to serve dynamic content it is fairly easy, with an S3 origin, it's not that straight forward if possible at all.

Therefore I'd recommend invalidating the updated resources.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-19T18:35:05.880

看起来您必须在 s3 端设置元数据：

[http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html)

我发现做到这一点的最佳方法是使用 BucketExplorer 并执行“批量操作”、“更新元数据”、“添加元数据”，然后添加“Cache-Control:max-age=604800, public” 1 周缓存期。

# blackberry-webworks - 如何通过BB10网络在BB10中使用短信服务？

> ID：14996417
> 
> 赞同：1
> 
> 时间：2013-02-21T07:05:45.213
> 
> 标签：blackberry-webworks

我正在尝试通过 webworks 在 BB10 中使用 SMS 服务。但我总是收到错误“无法读取未定义的属性 'sms'”。我使用的代码是：

Javascript：

```
blackberry.message.sms.send('hello world', '9999999999'); 
```

配置文件：

```
<feature id="blackberry.message.sms" /> 
```

有什么方法可以使用短信服务吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T19:31:50.007

编辑：我的坏..SMS API 上还有。通常，如果您收到一个错误，指出未定义黑莓，并且它是一个可用的 API，这将帮助您进行故障排除.. :)

--

看起来“黑莓”命名空间是未定义的？您是否正确加载了 webworks.js 文件，并在尝试访问 API 之前等待它初始化？

您在应用程序的索引 html 文件中包含 webworks.js 文件。

```
<script src="local:///chrome/webworks.js" type="text/javascript"></script> 
```

此外，您需要在“webworksready”事件触发后触发类似的内容（也在索引中）

```
<script type="text/javascript">
   document.addEventListener("webworksready", function(){

   // webworks is now ready, do cool stuff here

});
</script> 
```

此外，如果您愿意，请查看我们的入门资料：http: [//developer.blackberry.com/html5/documentation/getting_started_with_bb10_ww_sdk_2007056_11.html](http://developer.blackberry.com/html5/documentation/getting_started_with_bb10_ww_sdk_2007056_11.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-26T16:44:09.980

在您的 config.xml 文件中添加以下内容：

```
<feature id="blackberry.invoke" required="true" version="1.0.0.0"/>
<feature id="blackberry.invoke.card" /> 
```

然后在你的脚本文件中使用这个调用函数：

```
 doSMSinvokation = function(ppsEncode) {
    blackberry.invoke.invoke({
        target: "sys.pim.text_messaging.composer",
        action: "bb.action.COMPOSE",
        data: ppsEncode({"to":["55555"], "body":"body of SMS", "send":"false"})},
    function(successEvt) {
        alert("Success");
    },
            function(errorEvt) {
                alert("error");
            }
    );
    var ppsEncode = function(obj) {
            var data = '', name, value;
            for (name in obj) {
                data += name + ':';
                value = obj[name];
                if (typeof value === 'string') {
                    data += ':' + value;
                }
                else if (typeof value === 'number') {
                    data += 'n:' + value;
                }
                else if (typeof value === 'boolean') {
                    data += 'b:' + value;
                }
                else if (typeof value === 'object') {
                    data += 'json:' + JSON.stringify(value);
                }
                data += '\n';
            }
            return data;
        }
        doSMSinvokation(ppsEncode); 
```

我对[黑莓](https://developer.blackberry.com/html5/documentation/text_messages.html)本身的引用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T15:12:43.537

目前BB10上没有webworks的短信扩展

# xslt-1.0 - 需要替换特殊字符

> ID：14996418
> 
> 赞同：0
> 
> 时间：2013-02-21T07:05:46.087
> 
> 标签：xslt-1.0

嗨，我的 xml 文档的一部分如下。在这个 xsm 文档中，我有一个特殊字符“和 ”。我希望使用 XSL 在我的 HTML 输出中将它们替换为“和”。

我正在寻找一个模板或任何其他替代方法来扫描我的整个 XML 文档并替换找到特殊字符的位置。现在它正在被一些白盒子取代。请让我知道我该怎么做。

```
<para>
            <phrase>2.081</phrase> In creating a vehicle like a restricted purpose company, the British Virgin Islands legislature was clearly concerned that, if such vehicles became widely used, there might be a risk that persons dealing with British Virgin Islands companies generally may have become concerned about the ability of companies to engage in day-to-day transactions. Accordingly, it sought to address these concerns by two slightly different mechanisms. Firstly, all restricted purpose companies were required to include the designation &#x201C;(SPV) Limited&#x201D; in their name, to make sure they were readily identifiable (even without reviewing their constitutional documents). Secondly, restricted purpose companies were made subject to licence fees significantly higher than regular companies to limit their use to appropriate cases.</para>
        <table frame="all" width="100%">
            <title>Comparing restricted purpose companies</title>
            <tgroup cols="3">
                <colspec colnum="1" colname="col1" colwidth="33%"/>
                <colspec colnum="2" colname="col2" colwidth="33%"/>
                <colspec colnum="3" colname="col3" colwidth="33%"/>
                <thead> 
```

我还想要一种方法来获取`<colspec>`下面的元素数量`<tgroup cols="">`（属性 cols 应该在那里）。也有没有属性的`<tgroup>`元素。`cols`

**这是我当前的 XSLT：**

```
 <?xml version="1.0" encoding="utf-8"?>
    <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ntw="Number2Word.uri" exclude-result-prefixes="ntw">

    <xsl:variable name="ThisDocument" select="document('')"/>
    <xsl:template match="/">

        <html>
            <head>
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                <title>
                    <xsl:value-of select="chapter/title"/>
                </title>
                <link rel="stylesheet" href="er:#css" type="text/css" />
            </head>

            <body>

                <xsl:apply-templates/>

                <hr />
                <section class="tr_footnotes">
                    <xsl:apply-templates select="//footnote" mode="footnote"/>
                </section>

            </body>
        </html>
    </xsl:template>

    <xsl:template match="chapter">
        <section>
            <div class="chapter">
                <a name="BVI-CH-{@num}" />
                <xsl:variable name="cnum">
                    <xsl:choose>
                        <xsl:when test="starts-with(@num,'0')">
                            <xsl:value-of select="substring-after(@num,'0')"/>
                        </xsl:when>
                        <xsl:otherwise>
                            <xsl:value-of select="@num"/>
                        </xsl:otherwise>
                    </xsl:choose>
                </xsl:variable><div class="chapter-title"><span class="chapter-num">
                <xsl:value-of select="concat('Chapter ',$cnum,' ')"/>
</span>
                <xsl:apply-templates/>
            </div></div>
        </section>
    </xsl:template>

    <xsl:template match="chapter/para">
        <div class="para align-right">
            <span class="format-smallcaps">Para</span>.
        </div>
    </xsl:template>

    <!-- Index templates -->
    <xsl:template name="toc" match="chapter/toc">
        <div class="toc">
            <xsl:call-template name="toc-part"></xsl:call-template>
        </div>
    </xsl:template>
    <xsl:template name="toc-part" match="chapter/toc/toc-part">
        <div class="toc-part">
            <xsl:call-template name="toc-div"></xsl:call-template>
        </div>
    </xsl:template>
    <xsl:template name="toc-div" match="chapter/toc/toc-part/toc-div">
        <table class="toc-div">
            <tbody>
                <xsl:for-each select="current()/toc-part/toc-div/*">
                    <xsl:call-template name="toc-item"></xsl:call-template>
                </xsl:for-each>
            </tbody>
        </table>
    </xsl:template>
    <xsl:template name="toc-item" match="chapter/toc/toc-part/toc-div/toc-item">

        <xsl:variable name="tocpg" >
            <xsl:value-of select="concat('#P',current()/toc-pg/text())"/>
        </xsl:variable>
        <xsl:variable name="tocpgtag" select="translate($tocpg,'.', '-')" />
        <xsl:variable name="chapternumber">
            <!-- Get num attribute of parent node -->
            <xsl:value-of select="ancestor::chapter[1]/@num"/>
        </xsl:variable>
        <xsl:variable name="itemlevel">
            <xsl:value-of select="$ThisDocument//ntw:nums[@num=$chapternumber]/@word"></xsl:value-of>
        </xsl:variable>
        <xsl:variable name="tocitemlevel">
            <xsl:value-of select="concat('toc-item-', $itemlevel,'-level')"></xsl:value-of>
        </xsl:variable>

        <table class="{$tocitemlevel}">
            <tbody>
                <tr>
                    <td class="toc-item-num">
                        <xsl:value-of select="current()/@num"/>
                    </td>
                    <td class="toc-title">
                        <xsl:value-of select="current()/toc-title"/>
                    </td>
                    <td class="toc-pg">
                        <a href="{$tocpgtag}">
                            <xsl:value-of select="current()/toc-pg"/>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </xsl:template>
    <!-- Index Templates Complete -->

    <!-- Paragraph templates -->
    <xsl:template name="section" match="section">
        <!-- Variables-->
        <xsl:variable name ="classname" >
            <!--Get name attribute of current node -->
            <xsl:value-of select="concat('section-',@level)"/>
        </xsl:variable>
        <xsl:variable name="chapternumber">
            <!-- Get num attribute of parent node -->
            <xsl:value-of select="ancestor::chapter[1]/@num"/>
        </xsl:variable>
        <xsl:variable name="sectnum">
            <xsl:number level="any" count="section" format="1"/>
        </xsl:variable>

        <!--Create a string variable by concat string method  -->
        <xsl:variable name="sectionname">

            <xsl:value-of select="concat('CH-',$chapternumber,'-SEC-0', $sectnum)"/>
        </xsl:variable>
        <!-- Template Content  -->
        <div class="{$classname}">
            <a name="{$sectionname}"> </a>
            <div class="section-title">
                <span class="section-num">
                    <xsl:value-of select="@num"/>
                </span>
                <xsl:apply-templates/>
            </div>

        </div>
    </xsl:template>

    <!--<xsl:template name="para"  match="section/para">
    <xsl:variable name="count2">
    <xsl:value-of select="count[child::node()]"></xsl:value-of>
    </xsl:variable>    
    <xsl:choose>
                    <xsl:when test="$count2 &gt;=1">
                       <div class="para">
            <span class="phrase">
                <xsl:value-of select="current()/phrase"/>
            </span>

            <xsl:apply-templates/>
        </div>              
                    </xsl:when>
                    <xsl:when test="$count2 &lt; 1">
                     <span class="phrase">
                <xsl:value-of select="current()/phrase"/>
            </span>
                    <xsl:apply-templates mode="nr"/>
                    </xsl:when>
                </xsl:choose>

    </xsl:template>    -->

    <xsl:template name="para" match="section/para">
    <xsl:choose>
                    <xsl:when test="contains()">
                        <div class="para">
            <span class="phrase">
                <xsl:value-of select="current()/phrase"/>
            </span>

            <xsl:apply-templates/>
        </div>
                    </xsl:when>
                </xsl:choose>

    </xsl:template>

    <xsl:template name="phrase" match="phrase">
        <xsl:variable name="phrase">
            <xsl:value-of select="concat('P',text())"/>
        </xsl:variable>
        <xsl:variable name="newphrase" select="translate($phrase,'.','-')"/>

        <a>
            <xsl:attribute name="name">
                <xsl:value-of select="$newphrase"></xsl:value-of>
            </xsl:attribute>
        </a>

    </xsl:template>

    <!-- Table Templates  -->
    <xsl:template name ="table" match="table">

        <table style="frame-{current()/@frame} width-{translate(current()/@width,'%','')}"><colgroup></colgroup>

            <xsl:apply-templates/>

        </table>
    </xsl:template>
    <xsl:template name="tbody" match="tgroup/tbody">
        <tbody>
            <xsl:for-each select="current()/row">
                <xsl:call-template name="row"></xsl:call-template>
            </xsl:for-each>
        </tbody>
    </xsl:template>
    <xsl:template name="thead" match="tgroup/thead">
        <xsl:value-of select="name()"></xsl:value-of>
        <xsl:for-each select="current()/row">
            <xsl:value-of select="name()"></xsl:value-of>
            <tr>
                <xsl:for-each select="current()/entry">
                    <xsl:call-template name="headentry"></xsl:call-template>
                </xsl:for-each>
            </tr>
        </xsl:for-each>

    </xsl:template>
    <xsl:template name="colspec" match="colspec" >
        <col class="colnum-{current()/@colnum} colname-{current()/@colname} colwidth-{translate(current()/@colwidth,'%','')}"/>
    </xsl:template>
    <xsl:template name="row" match="tbody/row">
        <tr>
            <xsl:for-each select="current()/entry">
                <xsl:call-template name="entry" ></xsl:call-template>
            </xsl:for-each>
        </tr>
    </xsl:template>

    <xsl:template name="entry" match="entry">

    <xsl:variable name="count">
    <xsl:value-of select="count(preceding-sibling::* | following-sibling::*)"></xsl:value-of>
    </xsl:variable>
<xsl:choose>
    <xsl:when test="$count &lt; 2">
        <xsl:if test="position()=1">
        <td>
            <div class="para align-center">
                <xsl:value-of select="para[position()=1]"/>
            </div>
        </td>
        <td>
            <div class="para">
               <xsl:value-of select="following-sibling::node()"></xsl:value-of>
            </div>
        </td>
        </xsl:if>
    </xsl:when>
    <xsl:when test="$count &gt; 1">

        <td>
            <div class="para">

                <!--xsl:value-of select="current()"/-->  
               <xsl:apply-templates/>
            </div>
        </td>
    </xsl:when>
</xsl:choose>

    </xsl:template>

    <xsl:template name="headentry" >
        <th>
            <xsl:if test="translate(current()/@namest,'col','') != translate(current()/@nameend,'col','')">
                <xsl:variable name="colspan">
                    <xsl:value-of select="translate(current()/@nameend,'col','') - translate(current()/@namest,'col','') + 1" />
                </xsl:variable>
                <xsl:attribute name="colspan">
                    <xsl:value-of select="$colspan"></xsl:value-of>
                </xsl:attribute>
            </xsl:if>
            <div class="para">
                <xsl:value-of select="current()/para/text()"/>
            </div>
        </th>
    </xsl:template>
    <!-- Table Templates complete  -->

    <!--List templates -->
    <xsl:template name="orderedlist" match="orderedlist">
        <ol class="orderedlist">

            <xsl:apply-templates/>

        </ol>
    </xsl:template>
    <xsl:template name="orderitem" match="orderlist/item">
        <li class="item">
            <xsl:apply-templates/>
        </li>
    </xsl:template>
    <xsl:template name="orderitempara" match="item/para">
        <xsl:variable name="itemnumber">
            <xsl:value-of select="parent::item[1]/@num"/>
        </xsl:variable><li class="item">
        <div class="para">
            <span class="item-num">
                <xsl:value-of select="parent::item[1]/@num"/>
            </span>

            <xsl:apply-templates></xsl:apply-templates>
        </div></li>
    </xsl:template>
    <!--List templates Complete -->

    <!-- Paragraph templates Complete -->

    <!-- Footnote Templates-->
    <xsl:template match="footnote"><sup>
        <a>
            <xsl:attribute name="name"><xsl:text>footnoteref</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
            <xsl:attribute name="href"><xsl:text>#footnote</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
            <xsl:attribute name="class">
                <xsl:text>tr_ftn</xsl:text><xsl:number level="any" count="footnote" format="1"/>
                </xsl:attribute>
                <xsl:number level="any" count="footnote" format="1"/>

        </a></sup>
    </xsl:template>
    <xsl:template match="footnote" mode="footnote"><sup>
        <li style="list-style-type:none;indent:0">
            <a>
                <xsl:attribute name="name"><xsl:text>footnote</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
                <xsl:attribute name="href"><xsl:text>#footnoteref</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
                <xsl:attribute name="class">
                <xsl:text>tr_ftn</xsl:text><xsl:number level="any" count="footnote" format="1"/>
                </xsl:attribute>
                    <xsl:number level="any" count="footnote" format="1"/>

            </a>
            <xsl:text> </xsl:text>
            <xsl:apply-templates/>
        </li></sup>
    </xsl:template>
    <xsl:template match="footnote/para/uri">
        <a>

        </a>
    </xsl:template>
    <!-- Footnote Templates Complete -->

    <xsl:template match="content-style">
        <xsl:choose>
            <xsl:when test="@format='smallcaps'">
                <xsl:value-of select="translate(normalize-space(.),'ABCDEFGHIJKLMNOPQRSTUVWXZ','abcdefghijklmnopqrstuvwxyz')"/>
            </xsl:when>
            <xsl:when test="@format='superscript'">
            </xsl:when>
            <xsl:otherwise>
                <xsl:apply-templates/>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Namespace ntw-->
    <ntw:nums num="01" word="first"></ntw:nums>
    <ntw:nums num="02" word="second"></ntw:nums>
    <ntw:nums num="03" word="third"></ntw:nums>
    <ntw:nums num="04" word="forth"></ntw:nums>
    <ntw:nums num="05" word="fifth"></ntw:nums>
    <ntw:nums num="06" word="sixth"></ntw:nums>
    <ntw:nums num="07" word="seventh"></ntw:nums>
    <ntw:nums num="08" word="eighth"></ntw:nums>
    <ntw:nums num="09" word="nighth"></ntw:nums>
    <ntw:nums num="10" word="tenth"></ntw:nums>
    <!-- Namespace ntw ends -->

</xsl:stylesheet> 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:07:42.443

因为我不确定你想在哪个地方计算所有`<colspec>`元素，所以这里解释一下`count()`：

您可以使用`count(node-set)`（将节点集替换为所需的节点集以进行计数）来计算您启动它的所有节点。例如：

**计算 XML 中的所有`<colspec>`元素：**

```
<xsl:value-of select="count(//colspec)" /> 
```

**`<colspec>`计算您现在所在路径中的所有元素：**

```
<xsl:value-of select="count(colspec)" /> 
```

**从您现在位于 element 下方的路径中计算所有`<colspec>`元素`<tgroup>`：**

```
<xsl:value-of select="count(tgroup/colspec)" /> 
```

我不清楚您关于 " 的问题。请记住，HTML 和 XML 有一些特殊字符，您永远无法在源代码中按原样显示。请参阅下一个：

HTML 特殊字符：[http](http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML) ://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML XML 特殊字符：[http ://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML](http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML)

希望它可以帮助你！

# oracle - 如何处理文本框验证？

> ID：14996423
> 
> 赞同：1
> 
> 时间：2013-02-21T07:06:04.263
> 
> 标签：oracle, vb6

```
Private Sub txtUserCode_Validate(Cancel As Boolean)
    If RS!ID = txtUserCode.Text Then
        SQL = "SELECT NAME,PRIVILEDGE FROM ADMIN WHERE CODE=" & txtUserCode.Text
        Set RS = CN.Execute(SQL)
        txtUserName.Text = RS!NAME
    Else
        MsgBox "ENTER VALID NO"
        txtUserCode.Text = ""
        Cancel = True
    End If
End Sub 
```

在这段代码中，我想执行如下：

1.  如果我输入表中存在的 ID，那么它会显示信息，但它只考虑第一条记录（`RS!ID(0)`）而不是下一条

2.  如果我输入了表中不存在的 ID，那么它不应该抛出错误 `3021- Requested operation requires current record`，而是转到其他部分。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T16:36:38.137

我假设`RS`是一个记录集。

根据`RS`类型，您可以尝试`Find`这样的记录：

```
RS.MoveFirst
RS.Find("[CODE]=" &  txtUserCode.Text)
If Not RS.EOF Then
    ' found!
End If 
```

[链接](http://msdn.microsoft.com/en-us/library/windows/desktop/ms676117%28v=vs.85%29.aspx)到 ADO`Find`函数。

# java - 将 CORBA 与 C++ 和 Java 结合使用的 IPC

> ID：14996429
> 
> 赞同：1
> 
> 时间：2013-02-21T07:06:34.070
> 
> 标签：java, c++, corba, inter-process-communicat

我决定使用 CORBA 在 C++ 服务和 java 服务之间进行通信。我想知道是否可以使用 CORBA 来调用 C++ 库和 java 库，就像我们在应用程序中调用 dll 一样。如果有人帮助我做出正确的决定，那将非常有帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-09T06:49:31.050

（在我之前的回答中似乎有些混乱。我认为我最好给出另一个答案，以更清楚地说明我的观点）

CORBA 用于“远程”组件之间的交互。虽然我在这里使用了“远程”一词，但这并不意味着组件需要位于远程机器中。它们可以在同一台机器中，甚至可以在同一进程中。

答案主要取决于您的目标：

如果您正在用 C++ 和 Java 编写新的库/组件，并且您想在同一个应用程序中使用它们并且让这两种语言的组件能够相互交互，那么是的，CORBA 可以在一定程度上帮助您。然而 CORBA 在组件通信部分为您提供帮助。您仍然需要使用 JNI（或其他类似解决方案）在 Java/C++ 应用程序中调用/启动 C++/Java 组件。CORBA 不会在这方面为您提供帮助。您可能需要做额外的 POC 以查看在同一个应用程序中有两个 ORB（一个用于 C++，一个用于 Java）是否会给您带来任何问题。

如果您正在谈论：您已经有一些用 Java 和 C++ 编写的现有库（当然，不是以 CORBA 感知的方式），并且您正在寻找在新应用程序中使用这些库的方法（在 Java /C++）。那么不，CORBA 在这方面帮不了你太多。当然，您仍然可以编写一个额外的层来在 CORBA 中公开您的组件并使用它们，但是在这里使用 CORBA 并不会使“调用 C++ 库或 Java 库”变得更容易。

然而，恕我直言，以上两种情况似乎都不是使用 CORBA 的有力理由。如果您只是在寻找 Java 和 C++ 库的互操作性，那么[JNI](http://docs.oracle.com/javase/7/docs/technotes/guides/jni/)或[JNA](https://github.com/twall/jna/)可能是您想要研究的东西。

# git - 已创建 Git 新分支——其他用户能否访问相同的分支？

> ID：14996431
> 
> 赞同：2
> 
> 时间：2013-02-21T07:06:36.670
> 
> 标签：git, git-branch

我使用以下命令从本地系统在 git 中创建了一个新分支：

```
git checkout -b branchname 
```

我怀疑他们系统中的其他用户是否能够切换到这个新分支？还是我需要将更改推送到服务器，然后只有他们也可以访问它？

- 谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T07:14:17.873

您需要推送分支以便他们能够获取它。

即使这些用户可以直接访问您的存储库并将其添加为远程，他们仍然需要获取您的存储库才能意识到您已经创建了一个分支。

因此，仅创建分支的行为不足以通知任何人。
他们需要获取，或者您至少需要推送到他们可以从中获取的存储库。

* * *

[OP 鹅](https://stackoverflow.com/users/974680/goose)在评论中问道：

> 假设有人使用命令：git checkout my-new-branch，他们会得到一组更改吗？

不会。他们只会在自己的*本地*git 存储库中创建一个分支。

[Git 分支](http://git-scm.com/book/en/Git-Branching-Remote-Branches)上的文档在左上角有一个有趣的表达：

```
Git --everything-is-local 
```

**一切都是本地的。**

> 它应该如下：`git checkout -b new-branch`是`git push`吗？

在你准备好之前，你不必推动。
单独创建分支对其他人来说不会很有趣。
等到已经做出一些提交后再推送它。

但是第一次推送新分支时，请立即设置其**[上游](https://stackoverflow.com/questions/2739376/definition-of-downstream-and-upstream/2749166#2749166)**分支：

```
git push -u origin myNewBranch 
```

请参阅“ [Git：为什么我需要一直这样做`--set-upstream`？](https://stackoverflow.com/questions/6089294/git-why-do-i-need-to-do-set-upstream-all-the-time) ”。

你只需要做一次。
之后，当你想再次推送时（因为你已经做了*额外*的提交，你想被看到，一个简单的`git push`就足够了。

# jsf - Java EE PDF 查看器

> ID：14996436
> 
> 赞同：1
> 
> 时间：2013-02-21T07:06:48.830
> 
> 标签：jsf, pdf, icefaces, pdf-viewer, icepdf

我有一个`JSF/Icefaces`项目，目前我正在寻找一个 pdf 查看器。有一个图书馆`icepdf`，它似乎是一个`Swing`图书馆。

是否有任何其他基于 Java 的库可用于在 Web 浏览器中查看 pdf 文件？

我们可以`icepdf`在我的应用程序中将该解决方案用作小程序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T19:31:22.233

您还可以查看 PDF.js 等解决方案

# vim - vim 语法文件中的“he=e-1”是什么意思？

> ID：14996450
> 
> 赞同：1
> 
> 时间：2013-02-21T07:07:43.760
> 
> 标签：vim, syntax

我正在研究 asm68k.vim 并找到`he=e-1`一些语法定义。当我阅读时，我猜它使匹配的单词比模式实际匹配的字符短一个字符，但我不确定。以下面的定义为例，我认为它`:`在模式匹配的末尾跳过了，

```
syn match asm68kLabel           "^\s*[a-z_?.][a-z0-9_?.$]*:"he=e-1 
```

任何人都可以帮助解释它是什么意思以及在哪里可以找到解释`he`和的手册`e`？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:26:02.403

这定义了指定匹配模式的字符偏移量。您可以在此处了解模式偏移：

```
:help syn-pattern-offset 
```

在您的情况下，`he=e-1`将突出显示的结尾从匹配的结尾偏移 -1 个字符。有几个类似的语法项用于偏移匹配或区域的开始和结束。

# python - Python库从字节计算人类可读文件大小？

> ID：14996453
> 
> 赞同：18
> 
> 时间：2013-02-21T07:08:06.440
> 
> 标签：python, python-module

我觉得`hurry.filesize`非常有用，但它没有以十进制输出？

例如：

```
print size(4026, system=alternative) gives 3 KB. 
```

但是后来当我添加所有值时，我没有得到确切的总和。例如，如果输出`hurry.filesize`是 4 个变量，每个值是 3。如果我把它们全部加起来，我得到的输出是 15。

我也在寻找 hurry.filesize 的替代方法来获得小数输出。

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-02-21T07:31:45.660

这并不难实现自己：

```
suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB']
def humansize(nbytes):
    i = 0
    while nbytes >= 1024 and i < len(suffixes)-1:
        nbytes /= 1024.
        i += 1
    f = ('%.2f' % nbytes).rstrip('0').rstrip('.')
    return '%s %s' % (f, suffixes[i]) 
```

例子：

```
>>> humansize(131)
'131 B'
>>> humansize(1049)
'1.02 KB'
>>> humansize(58812)
'57.43 KB'
>>> humansize(68819826)
'65.63 MB'
>>> humansize(39756861649)
'37.03 GB'
>>> humansize(18754875155724)
'17.06 TB' 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-07-14T01:42:12.990

**免责声明：我写了我要描述的包**

模块[bitmath](https://pypi.python.org/pypi/bitmath)支持您描述的功能。它还解决了@filmore 的评论，即语义上我们*应该*使用 NIST 单位前缀（而不是 SI），也就是说，MiB 而不是 MB。现在也支持**舍入。**

您最初询问的是：

```
print size(4026, system=alternative) 
```

在*bitmath*中，默认前缀单位系统是 NIST（基于 1024），因此，假设您指的是 4026 **bytes**，*bitmath*中的等效解决方案将如下所示：

```
In [1]: import bitmath

In [2]: print bitmath.Byte(bytes=4026).best_prefix()
3.931640625KiB

In [3]: human_prefix = bitmath.Byte(bytes=4026).best_prefix()

In [4]: print human_prefix.format("{value:.2f} {unit}")
3.93 KiB 
```

我目前有一个[开放的任务](https://github.com/tbielawa/bitmath/issues/12)，允许用户在使用该`best_prefix`方法时选择首选的前缀单位系统。

**更新：2014-07-16**最新的包**已经**上传到[PyPi](https://pypi.python.org/pypi/bitmath)，它包含了几个新特性（完整的特性列表在[GitHub 页面上](https://github.com/tbielawa/bitmath)）

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-21T09:39:59.347

这不需要比*@nneonneo*[解决](https://stackoverflow.com/a/14996816/8418)方案更快，它只是有点酷，如果我可以这么说的话:)

 *```
import math

suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB']

def human_size(nbytes):
  human = nbytes
  rank = 0
  if nbytes != 0:
    rank = int((math.log10(nbytes)) / 3)
    rank = min(rank, len(suffixes) - 1)
    human = nbytes / (1024.0 ** rank)
  f = ('%.2f' % human).rstrip('0').rstrip('.')
  return '%s %s' % (f, suffixes[rank]) 
```

这是基于这样一个事实，即任何以 10 为底的对数的整数部分比实际位数少一。其余的几乎都是直截了当的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-11-30T02:05:24.840

每次我写一个小脚本或 ipynb 或其他什么时，我都会重新发明轮子。它变得陈腐，所以我编写了[datasize](https://pypi.org/project/datasize/) python 模块。我在这里发布这个是因为我刚刚更新了它，哇，Python 版本已经升级了！

它是一个 DataSize 类，它是 int 的子类，因此算术可以正常工作，但是它会从算术返回 int，因为我将它与 Pandas 和一些 numpy 一起使用，并且我不想在有 python<-->C++ 时放慢速度矩阵数学库的翻译。

您可以使用带有位或字节的 SI 或 NIST 后缀的字符串来构造 DataSize 对象，如果您需要处理使用这些数据的嵌入式技术的数据，甚至可以使用奇怪的字长。DataSize 对象具有直观的 format() 代码语法，用于人类可读的表示。在内部，该值只是 8 位字节的整数计数。

例如。

```
>>> from datasize import DataSize
>>> 'My new {:GB} SSD really only stores {:.2GiB} of data.'.format(DataSize('750GB'),DataSize(DataSize('750GB') * 0.8))
'My new 750GB SSD really only stores 558.79GiB of data.' 
```*

# php - 如何以解密格式在文本框中显示密码？

> ID：14996457
> 
> 赞同：1
> 
> 时间：2013-02-21T07:08:18.750
> 
> 标签：php, cookies, encryption

当用户访问网站的登录页面时，我正在检查 cookie，如果 cookie 可用，则在登录控件中，即用户名和密码文本框将填充从 cookie 获取的值。

现在在这种情况下，密码值正在以加密方式显示。

我想以解密的方式显示密码值。

```
For example:  

**Value of username and password in DATABASE:**
username = 'kalpana';
password = '9ee10d53349b49fda27aec3da519b912'   //actual value=kalpana 
```

现在在登录页面中，如果 cookie 可用，则用户名和密码控件的值如下指定：

```
username = kalpana
password = 9ee10d53349b49fda27aec3da519b912  (in dots format) 
```

但在这里我想显示密码

```
password = kalpana (in dots format) 
```

谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:13:18.813

你不能，无论如何都不能使用散列字符串。即使可以，这也将是一个非常糟糕的主意。

大多数具有持久登录的站点都使用 cookie 来识别以前登录的用户并允许他们跳过登录过程。你为什么不这样做？

# python - 如何使项目符号直接出现在python的reportlab包中缩进列表的文本旁边？

> ID：14996458
> 
> 赞同：5
> 
> 时间：2013-02-21T07:08:21.803
> 
> 标签：python, reportlab, bulletedlist

我正在使用 reportlab 2.6 的 ListFlowable 制作带有彩色圆圈项目符号的项目符号列表。但是，我希望项目符号出现在文本旁边，而不是与前面的非缩进文本对齐。我试图打开 ListFlowable 源，但在那里找不到太多。这是我所拥有的：

```
from reportlab.platypus import Paragraph, ListFlowable, ListItem, SimpleDocTemplate, Frame
from reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle
from reportlab.lib.colors import CMYKColor

doc = SimpleDocTemplate("SOtest.pdf")
styles = getSampleStyleSheet()
Story = []
Story.append(Paragraph("Header Text, I dont want the bullets directly below the H"
                       ,styles['Normal']))
my_list = ListFlowable(
    [
        ListItem(Paragraph("Line 1",styles['Normal'])
                 ,bulletColor = CMYKColor(0.81, 0.45, 0.53, 0.23)
                 ,value = 'circle'
                 ),
        ListItem(Paragraph("Line 2",styles['Normal'])
                 ,bulletColor = CMYKColor(0.81, 0.45, 0.53, 0.23)
                 ,value = 'circle'
                 )
        ],
    bulletType='bullet',
    start='circle'
    )

Story.append(my_list)
doc.build(Story) 
```

此代码导致： ![不想要](../Images/715a5ffacf3666e9570f44f6523c51ae.png)

但我希望它看起来像： ![期望的](../Images/2155fb8b515da3dac4711e83f8e027ad.png)

我手动编辑了第二张图像以获得所需的效果。

我想在列表中创建一个列表，以获得缩进的项目符号，但我不知道如何使文本更接近项目符号。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T07:28:22.430

只需将`leftIndent`参数传递到`ListItem`.

```
my_list = ListFlowable([
    ListItem(Paragraph("Line 1", styles['Normal']),
         leftIndent=35, value='circle',
         bulletColor=CMYKColor(0.81, 0.45, 0.53, 0.23)
    ),
    ListItem(Paragraph("Line 2", styles['Normal']),
         leftIndent=35, value='circle',
         bulletColor=CMYKColor(0.81, 0.45, 0.53, 0.23))
],
bulletType='bullet',
start='circle',
leftIndent=10
) 
```

**编辑：** 您必须设置用于定义项目符号和文本之间的空间`leftIndent`。`ListFlowable`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-30T16:44:08.897

# c++ - 我将如何封装一个合并排序程序以供 C++ 中的一般客户使用？

> ID：14996461
> 
> 赞同：1
> 
> 时间：2013-02-21T07:08:38.967
> 
> 标签：c++, encapsulation, mergesort

我目前有一个合并排序，它接受一个整数列表并从中创建一个数组，然后对它们进行排序，并打印出排序后的数组。目前所有代码都在一个 .cpp 文件中。

向想要对用户定义对象数组进行排序的人提供代码的好方法是什么？

我的直觉是提供一个仅虚拟方法的文件（接口），并要求我的用户覆盖比较运算符和读/写方法。

最好远离数组并使用链表吗？

如果这太模糊/主观，那么只需拍打我并关闭它。我只是想要一些超出我自己的想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:38:17.227

使用模板来实现排序并使用指针数组而不是对象数组请求实现比较的函子，并提供使用`<`运算符进行比较的默认函子。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T08:10:48.760

这是使用标准库的方法。

如果客户有自己的类型，他们需要定义`operator<`排序和`operator<<`打印到`ostream`：

```
class Type {
    //...
};

bool operator<(const Type& lhs, const Type& rhs) {
    //...
}

ostream& operator<<(ostream& os, const Type& object) {
    //...
}

vector<Type> originals;
vector<Type> values = originals;

stable_sort(values.begin(), values.end());
copy(values.begin(), values.end(),
     ostream_iterator<Type>(cout, "\n")); 
```

您的客户必须有充分的理由不这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:50:54.130

不，您不需要链表。

无需过多挖掘仿函数的最简单解决方案：

```
template <class T, int size>
class MergeSort
{
   T* arr[size];

   MergeSort(T* array[size])
   {
     // ...
   }

   void Sort()
   {
      // The rest is simple...
   }
}; 
```

# vim - 在 VIM 中运行 conque 时警告不断弹出

> ID：14996462
> 
> 赞同：9
> 
> 时间：2013-02-21T07:08:45.660
> 
> 标签：vim, plugins

在运行`conque`时`VIM`，每次都会提示出警告信息：

```
Warning: 
Global CursorHoldI and CursorMovedI autocommands may cause ConqueTerm to run slowly 
```

我发现删除警告的一种方法是注释掉 中的警告功能`conque_term.vim`，但我认为这不是解决问题的一种体面且安全的方法。

我是 VIM 新手，所以我找不到自己确定问题根源的方法。有人可以帮忙吗？非常感谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T07:57:53.413

Vim 的一个集成点是通过事件，它可以触发自动命令；Conque*插件*本身使用这些来实现其功能。`CursorMovedI`每当您键入内容或在插入模式下移动光标时都会触发类似的事件；这可能会对性能产生影响，这就是警告的含义。

您可以通过以下方式列出所有此类自动命令：

```
:verbose autocmd CursorHoldI,CursorMovedI 
```

只要*Conque*对您有效，就可以忽略（并抑制）警告。但是，如果您确实遇到了问题，则需要检查其他 autocmd 源，并可能禁用一个或另一个插件（至少对于*Conque*缓冲区）。（请参阅`:help autocmd-remove`如何执行此操作。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T12:07:27.693

题外话，但使用 Ctrl+Z 回到 shell 和 fg 回到 vim 似乎比 Conque 更好。也就是说，如果您从终端使用 vim，您应该这样做。

一些灵感：[http ://statico.github.com/vim.html](http://statico.github.com/vim.html)

# iphone - Xcode 中未找到有效的签名身份

> ID：14996463
> 
> 赞同：4
> 
> 时间：2013-02-21T07:08:48.137
> 
> 标签：iphone, ios, xcode

实际上，我使用自己的开发人员证书和配置文件开发了一个应用程序。现在我需要在我的客户开发人员帐户上发布它，我的客户将他的分发证书与配置一起发送。我已经安装了证书，然后我将配置文件拖到 xcode，我收到了错误消息，例如“有效的签名身份不是成立”

请协助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:56:02.890

更改项目设置中的代码登录。![在此处输入图像描述](../Images/848ab4c88e1a335c8a61dc00f589f079.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:52:03.077

有几种方法可以解决这个问题。

第一个是导出您的开发人员证书，包括从您的钥匙串中关联的密钥，并将其导入您的客户端计算机上。

另一种方法是（如果您的客户端计算机将使用另一个苹果开发帐户）通过此处列出的步骤[Apple Certification & Provisioning](https://developer.apple.com/library/mac/#documentation/ToolsLanguages/Conceptual/OSXWorkflowGuide/CodeSigning/CodeSigning.html#//apple_ref/doc/uid/TP40011201-CH7-SW1/)

我建议从 xcode 中删除旧证书，否则有时 xcode 可能会滞后

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:10:16.783

您需要客户端提供的 p12 文件才能使用其开发人员证书和配置文件。当您的客户端为您提供该 p12 文件时，请双击该文件并完美运行。

要获取 p12 文件，请选择证书，然后打开箭头以选择私钥并将它们一起导出为 .p12 文件从 Keychain Access。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:11:19.280

您需要用于签署证书的私钥。如果你没有它们

不再可以生成新的签名请求。

# jquery - 如何在 JQGrid 中格式化文化日期？

> ID：14996464
> 
> 赞同：1
> 
> 时间：2013-02-21T07:08:48.737
> 
> 标签：jquery, jqgrid

JQGrid 支持多语言。这也包括日期。我已经格式化了大部分日期，但在保加利亚日期中遇到了问题。因为他们有日期和时间，比如 21.12.2001 r 18:12:30 u。现在，我面临的问题是在显示的日期中获取 r 和 u。韩国也有同样的情况。

输入格式是“ISO8601Long”，所以我需要 JQGrid 中的新格式，它允许额外的 r 和 u。否则我会得到格式。

我在显示网格数据时遇到问题。它不是编辑模式。

如果需要任何进一步的细节，请告诉我。[您可以在此处](http://www.google.co.in/url?sa=t&rct=j&q=bulgarian%20style%20guide&source=web&cd=1&cad=rja&ved=0CC4QFjAA&url=http://download.microsoft.com/download/a/2/9/a29902cc-41c0-4ceb-a6ed-ba16bc511e15/bul-bgr-StyleGuide.pdf&ei=UMYlUdWTIIj_qwHi6IBo&usg=AFQjCNEW35ruYYXVGl6GKFHy0xko1YDUWQ&bvm=bv.42661473,d.aWc)查看有关保加利亚文化的详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T16:40:42.857

你可以做的是使用[Globalize jQuery 插件](https://github.com/jquery/globalize)。[我从答案](https://stackoverflow.com/a/10245286/315935)修改了演示。[该演示](http://www.ok-soft-gmbh.com/jqGrid/DateWithGlobalize.htm)演示了您的要求的一种可能实现。

![在此处输入图像描述](../Images/a4cf5102581f4f3242f7e295bc7656da.png)

我使用了以下

```
formatter: function (cellvalue) {
    // we don't use time zones information in the code below
    var dMatch = cellvalue.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})" +
            "(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?" +
            "(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),
        date = new Date(
            Number(dMatch[1] || 0),   // year
            Number(dMatch[3] || 0)-1, // month
            Number(dMatch[5] || 0),   // day
            Number(dMatch[7] || 0),   // hours
            Number(dMatch[8] || 0),   // minutes
            Number(dMatch[10] || 0),  // seconds
            Number(dMatch[12] || 0)
        ); // milliseconds

    return Globalize.format(date, "F");
},
unformat: function (v) {
    return Globalize.parseDate(v);
} 
```

# android - Intent(getApplicationContext(), class) 和 Intent(class) 有什么区别

> ID：14996466
> 
> 赞同：1
> 
> 时间：2013-02-21T07:08:50.950
> 
> 标签：android, android-intent

我正在编写一个代码作为参考，并遇到了这个 Intent 调用：`Intent(getApplicationContext(), secondActivity.class)`

我感到困惑，因为在我的项目中我只使用：`Intent(".mYSecondActivity")`
我尝试删除`getApplicationContext()`并将其更改为`Intent(".secondActivity")'`在清单中注册名称的位置。我运行应用程序并强制关闭。有什么意义`getApplicationContext()`？

`secondActivity.class`被编码为从 PHP MYSQL 数据库中检索数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:11:30.447

**getApplicationContext() ：**返回整个应用程序的上下文（所有活动都在其中运行的进程）。如果您需要与整个应用程序的生命周期相关联的上下文，而不仅仅是当前的 Activity，请使用它而不是当前的 Activity 上下文。

**第一个答案中有一篇出色的文章：**

[获取上下文的各种方法有什么区别？](https://stackoverflow.com/questions/1026973/android-whats-the-difference-between-the-various-methods-to-get-a-context)

**上下文到底是什么？**根据 Android 参考文档，它是一个代表各种环境数据的实体。它提供对本地文件、数据库、与环境关联的类加载器、包括系统级服务在内的服务等的访问。在本书中，以及在您使用 Android 进行的日常编码中，您会看到上下文频繁地传递。出自：《Android in Practice》一书。

![在此处输入图像描述](../Images/fc6328cc0ed902933c8dbe4e09d8891d.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:13:09.707

“这提供了一种方便的方法来创建旨在执行硬编码类名的意图，而不是依赖系统为您找到合适的类。” 来源： http: [//developer.android.com/reference/android/content/Intent.html#Intent%28android.content.Context,%20java.lang.Class%3C ?%3E%29](http://developer.android.com/reference/android/content/Intent.html#Intent%28android.content.Context,%20java.lang.Class%3C?%3E%29)

# eclipse - 从 SWT / JFace TableViewer 仅刷新一列/单元格

> ID：14996469
> 
> 赞同：2
> 
> 时间：2013-02-21T07:08:54.757
> 
> 标签：eclipse, jface, tableviewer

我目前有一张大桌子（大约 1000 行）和大约 20 列。在 20 列中，我需要每 2-3 秒刷新一次（保存对象创建后经过的时间），我尝试过每 3 秒刷新一次整个表，但由于行数太多，这是一个很大的性能惩罚整个表刷新。

有人见过在 JFace tableviewer 中只刷新一个单元格/一列的方法吗？我需要一个经过时间的列刷新，就是这样。

任何帮助是极大的赞赏。

谢谢米尔恰

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T20:42:58.557

我看到 TableViewer 没想到会连续刷新一个单元格。

```
AbstractTableViewer
protected void doUpdateItem(Widget widget, Object element, boolean fullMap) 
```

您需要覆盖上述方法。当前实现刷新整行（基本上`LabelProvider`在每个单元格上调用）

您可以遵循相同的实现，但调用特定的更新`ViewerCell`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T16:37:16.650

TableViewer 的 refresh() 方法应在代表表行模型的对象列表发生更改时触发。如果您只需要更新特定行或单元格中显示的文本或图像，则应使用 update() 方法。该方法有多种变体，可让您尽可能少地更新或尽可能多地更新。

# ruby-on-rails - Rails：使用 CanCan 为用户所属的每个组织分配多个角色？

> ID：14996479
> 
> 赞同：6
> 
> 时间：2013-02-21T07:10:18.773
> 
> 标签：ruby-on-rails, ruby-on-rails-3, gem, authorization, cancan

一个用户可以属于许多组织。我希望用户能够为其所属的每个组织分配不同的角色/授权。

例如，用户“kevin”可能属于组织“stackoverflow”和“facebook”。kevin 应该能够成为 stackoverflow 的管理员和 facebook 的普通成员（读+写）。

但是，CanCan gem 似乎只针对单个组织的用户角色。我仍然是初学者，但据我所知，CanCan gem 假定用户角色仅与主应用程序相关联。

我如何能够为不同的组织分配不同的角色，最好使用 CanCan gem？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-21T08:00:37.487

您认为您必须将角色保存为 User 模型中的字符串字段。您根本不必：

```
class User
  has_many :roles
end

class Role
  belongs_to :user
  belongs_to :organization
  attr_accessible :level
end

class Ability
  def initialize(user)
    can :read, Organization
    can :manage, Organization do |organization|
      user.roles.where(organization_id:organization.id,level:'admin').length > 0
    end
    can :write, Organization do |organization|
      user.roles.where(organization_id:organization.id,level:'member').length > 0
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T07:21:58.490

我们有这样的东西。解决方案是覆盖 current_ability 方法。在您的情况下，您可能有一个用户和组织的连接表。让我们称之为`user_organizations`。在这个连接表中，您可能还存储了特定组织的用户角色，对吧？因此，让我们使用该表来定义当前的能力。在您的应用程序控制器中

```
def current_ability
  # assuming you have a current_user and current_organization method
  Ability.new UserOrganization.where(user_id: current_user.id, organization_id: current_organization.id).first
end

# ability.rb
class Ability
  include CanCan::Ability
  def initialize(user_organization)
    user_organization ||= UserOrganization.new

    case user_organization.role
    when 'admin'
    when '...'
    when nil
      # for users not a member of the organization
    end
  end
end 
```

希望这能给你一些想法

# ios - 它是什么编解码器

> ID：14996483
> 
> 赞同：13
> 
> 时间：2013-02-21T07:10:24.743
> 
> 标签：ios, file, audio, codec

我有一个压缩文件，它的大小是 728，不知何故我知道这是一个音频文件，它持续 1040 毫秒

压缩文件结构很简单：

它由 14 字节块组成，每个块以 0x0C 开头：

0c xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx 0c xx xx xx xx xx xx xx xx xx xx xx xx xx

(xx) 可以是任何十六进制数

您可以在此处下载压缩的二进制文件：

[http://dusijun.files.wordpress.com/2013/02/29-aud-bin.doc](http://dusijun.files.wordpress.com/2013/02/29-aud-bin.doc) （请重命名为 *.aud ）

或文档格式的文本视图

[http://dusijun.files.wordpress.com/2013/02/29-aud.doc](http://dusijun.files.wordpress.com/2013/02/29-aud.doc)

没有标头或元信息。块的数量取决于实际音频的长度。文件大小的音频持续时间约为 1.42

例如

如果文件大小 = 9506，那么音频可以持续 9506*1.42 = 13580 毫秒，大约 13 秒

**有谁知道它可能是什么编解码器？**

PS：

二进制文件为微信（ios）音频文件。

参考

1)如何提取/播放 .aud 文件？

[http://www.boards.ie/vbulletin/showthread.php?t=2055891600](http://www.boards.ie/vbulletin/showthread.php?t=2055891600)

2）微信ios

[https://itunes.apple.com/us/app/wechat/id414478124?mt=8](https://itunes.apple.com/us/app/wechat/id414478124?mt=8)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-03T00:42:18.177

我怀疑它是一个语音编解码器。例如[RFC6716](https://www.rfc-editor.org/rfc/rfc6716)和[OPUS](http://www.opus-codec.org/)。对于 NB 语音，此编解码器的比特率为**8-12 kbit/s**。`0x0c`适合`SILK`20ms 帧大小的配置。

> | 0...3 | 仅限丝绸 | 注意 | 10、20、40、60 毫秒 |

20 毫秒的帧大小提供大约 14 字节。我尝试将示例保存为*29-aud-bin.opus*并在 Firefox 中打开它，但它缺少其他**opus**文件所具有的标头。`SILK`Skype 还使用了一个版本的编解码器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-02T23:23:29.220

**它是什么编解码器？不知怎的，我知道这是一个音频文件。二进制文件为微信（ios）音频文件。**

为可下载的示例文件提供 AUD 扩展名是没有意义的。

> 您最有可能在 Westwood 视频游戏的程序文件夹中找到 AUD 文件。具有 AUD 文件扩展名的文件是视频游戏压缩音频文件。

* * *

[如何找到编解码器？](http://windows.microsoft.com/en-us/windows7/codecs-frequently-asked-questions)

如果您知道编解码器的名称或其 ID（视频编解码器的 FourCC 标识符或**音频编解码器的 WaveFormat 标识符**），请尝试搜索 Internet。您通常可以访问编解码器制造商的网站下载最新版本的编解码器。

由于您的文件没有标题或元信息（文件魔术），您只能依赖文件扩展名，例如：

[http://www-mmsp.ece.mcgill.ca/documents/AudioFormats/AU/AU.html](http://www-mmsp.ece.mcgill.ca/documents/AudioFormats/AU/AU.html)

![在此处输入图像描述](../Images/c4cc3c94c2ff7569cee84c3835cf709f.png)

如果我得到一个带有 .EXE 扩展名的文件并且 *不知何故我知道这确实是一个音频文件`，我可以使用[Winista](http://www.netomatix.com/Products/DocumentManagement/MimeDetector.aspx)检查文件魔法。

```
public MimeType GetMimeTypeFromFile(string filePath)
{
    sbyte[] fileData = null;
    using (FileStream srcFile = new FileStream(filePath, FileMode.Open, FileAccess.Read))
    {
        byte[] data = new byte[srcFile.Length];
        srcFile.Read(data, 0, (Int32)srcFile.Length);
        fileData = Winista.Mime.SupportUtil.ToSByteArray(data);
    }

    MimeType oMimeType = GetMimeType(fileData);
    if (oMimeType != null) return oMimeType;

    //We haven't found the file using Magic (eg a text/plain file)
    //so instead use URLMon to try and get the files format
    Winista.MimeDetect.URLMONMimeDetect.urlmonMimeDetect urlmonMimeDetect = new Winista.MimeDetect.URLMONMimeDetect.urlmonMimeDetect();
    string urlmonMimeType = urlmonMimeDetect.GetMimeFromFile(filePath);
    if (!string.IsNullOrEmpty(urlmonMimeType))
    {
        foreach (MimeType mimeType in types)
        {
            if (mimeType.Name == urlmonMimeType)
            {
                return mimeType;
            }
        }
    }

    return oMimeType;
} 
```

**注意**使用 URLMon 来查找 MIME 类型的代码可以在[msdn 上找到 - 检测文件类型](http://social.msdn.microsoft.com/Forums/en-US/Vsexpressvcs/thread/d79e76e3-b8c9-4fce-a97d-94ded18ea4dd)

上述方法将打开文件并检测其真正的 MIME 类型以了解使用哪个程序打开它。它使用 XML 格式的视频/音频 MIME 类型映射文件进行匹配：

```
<!--
 !   Audio primary type
 ! -->

<mime-type name="audio/basic"
           description="uLaw/AU Audio File">
    <ext>au</ext><ext>snd</ext>
    <magic offset="0" type="byte" value="2e736e64000000"/>
</mime-type>

<mime-type name="audio/midi"
           description="Musical Instrument Digital Interface MIDI-sequention Sound">
    <ext>mid</ext><ext>midi</ext><ext>kar</ext>
    <magic offset="0" value="MThd"/>
</mime-type>

<mime-type name="audio/mpeg"
           description="MPEG Audio Stream, Layer III">
    <ext>mp3</ext><ext>mp2</ext><ext>mpga</ext>
    <magic offset="0" value="ID3"/>
</mime-type> 
```

我尝试了 winamp 和 Windows Media Classic，但都无法打开文件。

由于您不知道文件的 MIME 类型和文件扩展名 AUD 显然是错误的，我认为无法检测到播放此文件所需的编解码器/程序。

# c# - 在不重新加载页面的情况下更新状态文本

> ID：14996485
> 
> 赞同：0
> 
> 时间：2013-02-21T07:10:37.140
> 
> 标签：c#, asp.net, visual-studio-2010, sql-server-2008

我有一个网络应用程序！我为用户设置了一个状态文本，显示在用户的个人资料图片下方。每当用户更新状态文本时，页面会在按钮单击时重新加载，然后新状态会出现在图片下方。有没有办法阻止此页面重新加载并仍然更改状态文本？

在提交时，新的状态文本被插入/更新到数据库表中，然后在页面加载时被提取。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:40:14.030

您可以使用 Ajax，

*   将**更新按钮**和**状态文本框**放在一个`AjaxUpdatePanel`
*   如果无法将（**更新按钮**和**状态文本框**）都添加到单个`AjaxUpdatePanel`（作为您的 HTML 设计），添加两个不同的 Ajax 更新面板（**更新按钮**和**状态文本框**）并`yourstatusupdatepanelname.Update();`从**更新按钮调用** `Click event`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:16:39.297

您可以使用 jquery ajax 来做到这一点，这很容易，并且每次单击按钮时都不会加载您的页面：
[Asp.net Jquery ajax example](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:17:13.720

您只需在按钮中再次分配状态单击sql语句的成功执行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:17:21.160

我认为您需要了解使用 about ajax ，回发这种情况。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T07:21:32.407

您可以尝试使用**Timer_Tick**事件

# javascript - .blur() 和 .keypress() 在 jQuery 中不起作用

> ID：14996488
> 
> 赞同：2
> 
> 时间：2013-02-21T07:10:55.860
> 
> 标签：javascript, jquery, keypress, blur, keydown

当文本字段聚焦、模糊以及按下某个键时，我试图调用一些函数；但是，只有焦点功能有效。这是我所拥有的：

HTML：

```
<form id="loginForm" method="post" action="login.php" style="float: right; width: 90%; margin: 0 -1px 5px 0;">
    <input type="text" id="loginPass" value="password" /><input type="text" id="loginName" value="email" />
    <input type="submit" id="loginSubmit" value="Log In" />
</form> 
```

JS：

```
$('#loginPass').keypress(function() {
    alert('hey');
});
$('#loginPass').blur(function() {
    var lp = $('#loginPass');
    alert('val:'+lp.val());
});
$('#loginPass').focus(function() {
    var lp = $('#loginPass');
    if ( lp.val() == 'password' ) {
        $('#loginForm').html('\n        <input type="password" id="loginPass" value="" />' +
            '<input type="text" id="loginName" value="email" />' +
            '<input type="submit" id="loginSubmit" value="Log In" />');
        //setTimeout(function() { lp.focus(); }, 10);
        setCaretPos(document.getElementById("loginPass"), 0);
    }
}); 
```

就像我说的那样，焦点按预期工作，但我什至无法从其他焦点中得到警报。知道问题是什么吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T07:17:41.457

你需要`event delegation`：

```
$('#loginForm').on('keypress', '#loginPass', function() {
   alert('hey');
});
$('#loginForm').on('blur', '#loginPass', function() {
  var lp = $('#loginPass');
  alert('val:'+lp.val());
}); 
```

甚至`focus`还应该`has to get the delegation`：

```
$('#loginForm').on('focus', '#loginPass', function() {
var lp = $('#loginPass');
if ( lp.val() == 'password' ) {
    $('#loginForm').html('\n        <input type="password" id="loginPass" value="" />' +
        '<input type="text" id="loginName" value="email" />' +
        '<input type="submit" id="loginSubmit" value="Log In" />');
    //setTimeout(function() { lp.focus(); }, 10);
    setCaretPos(document.getElementById("loginPass"), 0);
}
}); 
```

`because every time you focus the input it replaces the current html markup with the new one.`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:31:54.403

您的代码很好，它是委派事件的简写，这是[.keypress](http://api.jquery.com/keypress/)的代码。问题是他们没有被调用，所以听众被委派了。

```
$(document).ready(function(){
    $('#loginPass').keypress(function() {
        alert('hey');
    });
    $('#loginPass').blur(function() {
        var lp = $('#loginPass');
        //alert('val:'+lp.val());
    });
}); 
```

我用你的代码设置了一个[jsfiddle](http://jsfiddle.net/bG4q8/)，很好。只需在您的听众周围放一个 document.ready，您就会很开心。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:39:36.137

您必须了解有关 javascript 的一些基本知识。通常，javascript 引擎仅在页面加载时找到 dom 元素并将相应的事件处理程序附加到那些元素上。如果您稍后添加任何 dom 元素（在读取 javascript 或页面加载后），javascript 引擎将不会针对这些动态添加的 dom 执行脚本。为避免您必须强制 javascript 引擎再次读取您的脚本。

```
function shouldApplyDynamicDOM(){
$('#loginPass').keypress(function() {
    alert('hey');
});
$('#loginPass').blur(function() {
    var lp = $('#loginPass');
    alert('val:'+lp.val());
});
}

shouldApplyDynamicDOM();//Attach event handler on page load.

$('#loginPass').focus(function() {
    var lp = $('#loginPass');
    if ( lp.val() == 'password' ) {
       //These DOM will be added dynamically. 
        $('#loginForm').html('\n        <input type="password" id="loginPass" value="" />' +
            '<input type="text" id="loginName" value="email" />' +
            '<input type="submit" id="loginSubmit" value="Log In" />');
        //setTimeout(function() { lp.focus(); }, 10);
        shouldApplyDynamicDOM(); //Here Forcing to add event handler for dynamic added DOM
        setCaretPos(document.getElementById("loginPass"), 0);
    }
}); 
```

注意：此代码未经测试。如果有任何语法错误，请见谅。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:27:37.333

这可能是在元素加载到 DOM 之前尝试绑定事件。尝试将整个内容包装在：

```
$(function(){
  //events go here
}); 
```

# c# - 多个 Powerpoint 实例

> ID：14996491
> 
> 赞同：0
> 
> 时间：2013-02-21T07:11:04.593
> 
> 标签：c#, vsto, add-in

我想为 Powerpoint 应用程序的每个实例维护不同的 exe。在网络上，有一个著名的解决方案是使用“运行方式”命令调用电源点，该命令在 Windows 7 上打开 UAC 对话框，在 XP 机器上打开 RunAs 对话框。

有没有一种方法可以抑制 XP 中的登录对话框，并让 Windows 像在 Windows 7 中一样在后台工作，这样用户在使用“运行方式”命令时就不必输入密码。

我有一个电源点加载项。我正在从 ac# 应用程序打开 Powerpoint 应用程序。我希望我的加载项仅可用于此电源点实例。不幸的是，power point 没有注册表黑客，因为 word 和 excel 可以实例化多个 exe。

# mysql - 禁用数据核中的自动增量？

> ID：14996495
> 
> 赞同：1
> 
> 时间：2013-02-21T07:11:32.840
> 
> 标签：mysql, jdo, datanucleus

我有 2 个 mysql 数据库（live-db、test-db）。我需要在 datanucleus jdo 实现中将一些表从 live-db 传输到 test-db。

问题是，如果主键是自动增量，那么它不会传输相同的值，而是生成新值。

是否有任何方法以编程方式禁用 datanucleus 中的自动增量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:15:14.113

花了 5 分钟，找不到答案，所以我认为最简单的方法是执行以下操作：1）添加没有 AUTO_INCREMENT 的新 INT 列 2）复制列值 3）删除 AUTO_INCREMENT 列

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:23:07.533

因此，您可以将一组元数据用于一个数据存储（具有自动增量），而将一组元数据用于另一个（不具有）。JDO 持久性只是按照您的指示进行自动增量

# ruby-on-rails - lvh.me 不工作 - 跟随 railscasts 修订的 Ep。123

> ID：14996497
> 
> 赞同：3
> 
> 时间：2013-02-21T07:11:38.440
> 
> 标签：ruby-on-rails

所有，还有其他人在使用 lvh.me 时遇到问题吗？试图遵循 railscasts 123（修改后的）但 firefox（和 iceweasel ）没有解决，错误消息是“找不到服务器”。

已关闭域猜测（通过 about:config），并尝试了几个域：`www.lvh.me:3000`, `lvh.me:3000`, 带/不带 http://.. 等。

注意`http://localhost:3000`工作正常，rails 服务器/应用程序正在运行 - 其他一切看起来都很健康。lvh.me 是否还活着并解析为 127.0.0.1？

想法？

# android - 成员访问时的 SurfaceView NullPointerException

> ID：14996499
> 
> 赞同：0
> 
> 时间：2013-02-21T07:11:51.153
> 
> 标签：android, nullpointerexception, surfaceview

我正在尝试创建一个程序，该程序接受太阳和行星的某些参数，并在扩展的 SurfaceView 类 Surface 中呈现可居住区。只要我不尝试从主活动类访问 Surface 的任何成员，我就可以让它运行，但是 Surface 没有出现。当我尝试访问成员时，程序崩溃并出现 NullPointerException。

这是 HabitableActivity.java 的相关部分（主要活动）：

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // Initialize variables
    surface = (Surface) findViewById(R.id.surface);
    A = 0.4;
    liveMin = 1.0;
    liveMax = 5.0;
    planet = BitmapFactory
            .decodeResource(getResources(), R.drawable.planet);
    sun = BitmapFactory.decodeResource(getResources(), R.drawable.sun);

    setContentView(R.layout.activity_habitable);
    //surface.resetSurface();  // uncomment this and it crashes
} 
```

和 Surface.java：

```
public class Surface extends SurfaceView implements Runnable, OnTouchListener {
    float x, y;
    double scale;
    Bitmap planet, sun;
    Paint paint = new Paint();
    SurfaceHolder holder;
    Thread thread = null;
    boolean isRunning = false;

    // TODO: delete these temp vars
    double liveMin = 1.0;
    double liveMax = 5.0;

    public Surface(Context context, AttributeSet attrs) {
        super(context, attrs);

        holder = getHolder();
        x = (float) 0.0;
        y = (float) 0.0;
        scale = 1.0;
        planet = BitmapFactory
                .decodeResource(getResources(), R.drawable.planet);
        sun = BitmapFactory.decodeResource(getResources(), R.drawable.sun);
    }

    // Functions
    protected void setScale(int canvasWidth) {
        // set liveMin and liveMax equal dist from edges
        scale = (canvasWidth + sun.getWidth() / 2.0) / (liveMin + liveMax);
    }

    public void resetSurface() {
        /*
         * TODO: set up process for resetting the surface (recalc habitable
         * zone, etc.)
         */
    }

    @Override
    public boolean onTouch(View view, MotionEvent event) {
        x = event.getX();
        y = event.getY();

        return true; // Allows dragging
    }

    public void pause() {
        isRunning = false;
        while (true) {
            try {
                thread.join();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            break;
        }
        thread = null;
    }

    public void resume() {
        isRunning = true;
        thread = new Thread(this);
        thread.start();
    }

    @Override
    public void run() {

        while (isRunning) {
            if (!holder.getSurface().isValid())
                continue;
            Canvas canvas = holder.lockCanvas();

            // Calculate
            setScale(canvas.getWidth());

            // Draw
            canvas.drawRGB(0, 0, 255);
            paint.setColor(Color.rgb(50, 200, 0));
            canvas.drawCircle(0, canvas.getHeight() / 2,
                    (float) (liveMax * scale), paint);
            paint.setColor(Color.rgb(255, 50, 0));
            canvas.drawCircle(0, canvas.getHeight() / 2,
                    (float) (liveMin * scale), paint);
            // TODO: draw text for liveMin and liveMax
            canvas.drawBitmap(sun, -sun.getWidth() / 2, canvas.getHeight() / 2
                    - sun.getHeight() / 2, null);
            canvas.drawBitmap(planet, x - planet.getWidth() / 2,
                    y - planet.getHeight() / 2, null);
            // TODO: draw text for T and r

            // Display
            holder.unlockCanvasAndPost(canvas);
        }
    }

} 
```

如果有帮助，这里是布局 XML：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".HabitableActivity" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Phase" />

        <Spinner
            android:id="@+id/spinner1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Albedo:" />

        <SeekBar
            android:id="@+id/seekBar2"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="tau" />

        <SeekBar
            android:id="@+id/seekBar1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1" />

    </LinearLayout>

    <com.example.habitable.Surface
        android:id="@+id/surface"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" />

</LinearLayout> 
```

**编辑：**

这是堆栈跟踪：

```
02-21 00:20:09.425: D/dalvikvm(6782): GC_FOR_ALLOC freed 165K, 5% free 7514K/7832K, paused 14ms, total 14ms
02-21 00:20:09.475: D/dalvikvm(6782): GC_FOR_ALLOC freed 1K, 4% free 7766K/8088K, paused 17ms, total 18ms
02-21 00:20:09.555: D/dalvikvm(6782): GC_CONCURRENT freed 296K, 7% free 7885K/8408K, paused 4ms+3ms, total 25ms
02-21 00:20:09.555: D/dalvikvm(6782): WAIT_FOR_CONCURRENT_GC blocked 15ms
02-21 00:20:09.625: D/dalvikvm(6782): GC_FOR_ALLOC freed 65K, 4% free 8073K/8408K, paused 26ms, total 26ms
02-21 00:20:09.625: D/AndroidRuntime(6782): Shutting down VM
02-21 00:20:09.625: W/dalvikvm(6782): threadid=1: thread exiting with uncaught exception (group=0x4173e930)
02-21 00:20:09.635: E/AndroidRuntime(6782): FATAL EXCEPTION: main
02-21 00:20:09.635: E/AndroidRuntime(6782): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.habitable/com.example.habitable.HabitableActivity}: java.lang.NullPointerException
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.os.Handler.dispatchMessage(Handler.java:99)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.os.Looper.loop(Looper.java:137)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.ActivityThread.main(ActivityThread.java:5039)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at java.lang.reflect.Method.invokeNative(Native Method)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at java.lang.reflect.Method.invoke(Method.java:511)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at dalvik.system.NativeStart.main(Native Method)
02-21 00:20:09.635: E/AndroidRuntime(6782): Caused by: java.lang.NullPointerException
02-21 00:20:09.635: E/AndroidRuntime(6782):     at com.example.habitable.HabitableActivity.onCreate(HabitableActivity.java:47)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.Activity.performCreate(Activity.java:5104)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
02-21 00:20:09.635: E/AndroidRuntime(6782):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
02-21 00:20:09.635: E/AndroidRuntime(6782):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:17:46.017

我认为你应该`setContentView(R.layout.activity_habitable);`在你打电话后立即移动，`super.onCreate(savedInstanceState);`因为现在这条线：

```
surface = (Surface) findViewById(R.id.surface); 
```

导致该表面为空。它找不到 R.id.surface 因为您还没有设置内容视图并且您的布局没有膨胀。

# linux - Unix中基于列值的切割元素

> ID：14996508
> 
> 赞同：-1
> 
> 时间：2013-02-21T07:12:22.390
> 
> 标签：linux, shell, unix

没有 shell 脚本，在一行中。什么命令可以帮助您根据列值从行中剪切

例如：

在

```
118 Balboni,Steve 23
11 Baker,Doug 0
120 Armas,Tony 13
133 Allanson,Andy 5
158 Baines,Harold 13
33 Bando,Chris 1
44 Adduci,James 1
50 Aguayo,Luis 3
5 Allen,Rod 0
94 Anderson,Brady 1 
```

如果第三行不为零，如何在一个语句中完全删除该行？这在unix中可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:20:49.593

假设问题实际上是在询问“如果第三列为非零，则不要打印它”或（等效地）“仅在第三列为 0 时打印该行”：

使用`awk`：

```
awk '$3 == 0' data 
```

（如果第三列为零，则打印输入；否则，忽略它。您可以在`{ print }`之后添加`0`以使操作显式。）

使用`perl`：

```
perl -nae 'print if $F[2] == 0' data 
```

使用`sed`：

```
sed -n '/ 0$/p' data 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:30:30.430

使用 grep：

```
grep '[^0-9]0$' input 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:40:00.300

如果您希望打印没有第三列的行以及明确显示第三列的行`0`（即，如果您认为空白字段为零），请尝试：

```
awk '!$3' 
```

如果您不想打印只有 2 列的行，请尝试：

```
awk 'NF>2 && !$3' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:36:09.793

这会进行就地替换。

```
perl -i -F -pane 'undef $_ if($F[2]!=0)' your_file 
```

测试：

```
> cat temp
118 Balboni,Steve 23
11 Baker,Doug 0
120 Armas,Tony 13
133 Allanson,Andy 5
158 Baines,Harold 13
33 Bando,Chris 1
44 Adduci,James 1
50 Aguayo,Luis 3
5 Allen,Rod 0
94 Anderson,Brady 1
>
>
> perl -i -F -pane 'undef $_ if($F[2]!=0)' temp
> cat temp
11 Baker,Doug 0
5 Allen,Rod 0
> 
```

# php - 当我们在 drupal 7 中更改区域时，Blocks 隐藏了社交链接的内容

> ID：14996514
> 
> 赞同：0
> 
> 时间：2013-02-21T07:12:52.233
> 
> 标签：php, drupal, drupal-7

我正在使用 omega 主题在 drupal 7 中制作[http://softprodigy.in/kalani网站。](http://softprodigy.in/kalani)我在某些页面上面临一个主要问题，例如在此页面[http://softprodigy.in/kalani/guest-information](http://softprodigy.in/kalani/guest-information)上，在内容区域下有块显示在块中的社交共享链接，我想更改区域，但每当我更改区域内容时，div 显示为空，没有内容。我不知道是什么问题。如果有人知道任何解决方案，请与我分享。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:29:20.517

包含隐藏图像的块看起来像是手动添加的。因此，您需要更改块内容的输入模式。

最好的方法是使用 PHP 代码；转到您的模块页面并启用`PHP filter module`.

在块配置页面中键入类似于块内容文本区域内的内容：

```
 global $base_path;
 print "<img src='<?php print $base_path ?>sites/default/files/image.jpg' />"; 
```

或者

```
 print theme("image", array("path" => "sites/default/files/image.jpg")); 
```

希望这可以帮助。

# flash - macromedia mx 2004 显示 Flash 文档 v4.0 的“不支持的格式文件”

> ID：14996516
> 
> 赞同：1
> 
> 时间：2013-02-21T07:12:56.413
> 
> 标签：flash, flash-builder, flash-cs5, fla

我是 Flash 编码的新手。我有 4.0 版的 .fla 文件。它包含链接。我需要打开并更改链接。我安装了**MacroMedia MX 2004**。我无法打开我的 .fla 文件。它显示一条消息 **“不支持的格式文件”**。任何人都可以建议我如何编辑这个文件。

# c++ - 在 C++ 中复制类似的类

> ID：14996520
> 
> 赞同：0
> 
> 时间：2013-02-21T07:13:13.317
> 
> 标签：c++, reference, casting, constructor, copy

我有两个结构相似的课程。

```
class A{
    int a;
    char *b;
    float c;
    A(char *str) { //allocate mem and assign to b }
};

class B{
    int a;
    char *b;
    float c;
    B(char *str) { //allocate mem and assign to b }
    B(B & bref) { //properly copies all the data }
}; 
```

我想将 的对象复制`B`到 的对象`A`。以下转换是否正常？

```
A aobj("aobjstr");
B bobj("bobjstr");
bobj = aobj;    //case 1
bobj = B(aobj); //case 2 
```

案例2会起作用吗？将`aobj`被正确转换并解释`B &`为何时调用 B 的复制构造函数？

**编辑**：怎么样？

```
B bobj(aobj) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:30:19.623

不，如果不编写转换构造函数或转换运算符，就不能在不相关的类型之间进行隐式转换。大概，你的编译器告诉你这个；我的错误如下：

```
error: no match for ‘operator=’ in ‘bobj = aobj’
note:  no known conversion for argument 1 from ‘A’ to ‘const B&’
error: no matching function for call to ‘B::B(A&)’ 
```

您可以通过提供`B`转换构造函数来允许转换：

```
class B {
    // ...
    B(A const & a) { /* properly copy the data */ }
}; 
```

如果您不能更改类，那么您将需要一个非成员函数来进行转换；但这可能只有在班级成员是公开的情况下才有可能。在您的示例中，包括构造函数在内的所有成员都是私有的，因此根本无法使用这些类。据推测，在您的真实代码中并非如此。

`A`如果您想危险地生活，您可能可以通过将对象显式重新解释为 a 来摆脱困境`B`，因为它们都是具有相同数据成员的标准布局类型：

```
// DANGER: this will break if the layout of either class changes
bobj = reinterpret_cast<B const &>(a); 
```

请注意，由于您的类分配内存，因此它可能需要在其析构函数中释放它；并且为了避免双重删除，您还必须按照[三规则](https://stackoverflow.com/questions/4172722)正确实现复制构造函数和复制赋值运算符。

如果这一切听起来工作量太大，为什么不使用`std::string`它来为您处理内存管理？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:41:19.367

如果您尝试编译它，您会发现这些都不起作用。一方面，您的构造函数是`private`.

```
bobj = aobj;    //case 1 
```

这会尝试使用签名调用赋值运算符：

```
B& B::operator =(A const&) 
```

这不存在，编译将失败。

```
bobj = B(aobj); //case 2 
```

这会尝试调用`A::operator B()`，它不存在并且编译将失败。

最后：

```
B bobj(aobj) 
```

这会尝试使用`B::B(A const&)`不存在的签名调用构造函数，并且编译将失败。

你说，

> 我无法更改/修改 A 类和 B 类，它们是生成的。

然后要么需要修复生成器，要么您将不得不编写自己的适配器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:37:51.410

您可以通过考虑以下注意事项来做到这一点：

**1)** `char* b`产生问题。当您将 aobj 复制到 bobj 时，指针的值`aobj.b`将被复制到`bobj.b`这意味着它们都引用相同的内存位置并且像这样更改一个：`aobj.b[0] = 'Z'`将导致`bobj.b`更改。

您可以通过将`b`指针更改为平面数组来解决此问题：

```
//...
char b[MAXLEN];
//... 
```

更好的解决方案是定义一个构造函数（接受其他类型）并重载赋值（=）运算符，至少对于 B 类，并处理指针赋值（为新指针分配缓冲区并将内容复制到它）。

**2）更新：**示例语法如下：

```
 bobj = B(reinterpret_cast<B&> (aobj));

   // or simply:
   bobj = reinterpret_cast<B&> (aobj); 
```

**3）**请注意，这是危险的，不安全的，不推荐。这意味着您的解决方案的设计可能应该改变。例如，A 和 B 可能都继承自一个公共基类；B 继承自 A；或 B 为类 A 显式定义构造函数和赋值运算符。这些是更推荐的。

# winapi - 获取窗口设置值

> ID：14996524
> 
> 赞同：1
> 
> 时间：2013-02-21T07:13:20.837
> 
> 标签：winapi, windows-8, winjs

如何`Measurement System`在 javascript 中获取设置值？

我猜它会抛出一些 WinJS 调用。

![在此处输入图像描述](../Images/3963bdac28287283b64bc1cec21c27f5.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:02:59.237

合乎逻辑的地方是[Windows.Globalization](http://msdn.microsoft.com/en-us/library/windows/apps/windows.globalization.aspx)，但看不到那里是否提供。一个非常简单的解决方法 - 编写比研究设置更快:) 是在 C# 中创建一个调用[System.Globalization](http://msdn.microsoft.com/en-us/library/system.globalization.aspx)的 Windows 运行时组件：

```
namespace WindowsRuntimeComponent
{
    public sealed class RegionalSettings
    {
        public bool isMetric()
        {
            return System.Globalization.RegionInfo.CurrentRegion.IsMetric;
        }
    }
} 
```

然后添加作为对您的 JavaScript 应用程序的引用并在那里调用：

```
var r = new WindowsRuntimeComponent.RegionalSettings;
var isMetric = r.isMetric(); 
```

# php - PHP 将 Word 文件转换为 HTML 而不会丢失样式和图像

> ID：14996527
> 
> 赞同：21
> 
> 时间：2013-02-21T07:13:25.987
> 
> 标签：php, ms-word, docx, doc

是否有用于将 word 文件转换为 HTML 而不会丢失格式的 API？

谷歌文档 API 可以用于此目的吗？

我尝试了 saaspose 但返回的结果始终是服务器错误。

对我不起作用的解决方案：

*   [在 php 中将 MS Word 文档转换为 html](https://stackoverflow.com/questions/4680383/converting-ms-word-document-to-html-in-php)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-11-01T02:20:43.867

我花了一些时间研究这个问题，我发现最好的解决方案是在服务器上安装[unoconv](http://dag.wieers.com/home-made/unoconv/)，并使用 PHP 通过系统调用与其交互。

我很想为此找到一个好的原生 PHP 解决方案，但不幸的是我找不到。

**编辑** 自从最初回答这个问题以来，我遇到了一个 Web 服务，它提供了一个用于转换文档的 API。我没有对它进行过彻底的测试，但它似乎在将 Word 转换为 HTML 时产生了不错的结果：[CloudConvert](https://cloudconvert.org/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-27T12:35:30.233

[PHPDocx](http://www.phpdocx.com/)有一个解决方案。根据站点，您可以在转换插件的帮助下直接从任何数据库或电子表格中提取数据并将其导出为其他流行格式（PDF、DOC、HTML、ODT...）。这些报告可能包括可编辑的图表（仅限 docx）、图像、表格、页眉、页脚等。

我不确定它将 word 转换为 html 有多好

# c# - 为什么我的异步 ASP.NET Web API 控制器阻塞了主线程？

> ID：14996529
> 
> 赞同：6
> 
> 时间：2013-02-21T07:13:30.647
> 
> 标签：c#, asp.net-web-api, async-await

我有一个 ASP.NET Web API 控制器，我*认为*它会异步操作。控制器设计为第一个请求休眠 20 秒，但立即为任何后续请求提供服务。所以我预期的时间表是这样的：

1.  提出请求 1。
2.  提出请求 2。
3.  提出要求 3。
4.  请求 2 返回。
5.  请求 3 返回。
6.  等待约 20 秒。
7.  请求 1 返回。

相反，在请求 1 完成之前**没有**请求返回。

我可以确认（基于调试输出），入口线程和休眠线程 id 是不同的。我故意`TaskCreationOptions.LongRunning`将睡眠强制到一个单独的线程上，但应用程序仍然拒绝为任何新请求提供服务，直到睡眠完成。

我是否遗漏了有关异步 Web API 控制器如何真正工作的基本知识？

* * *

```
public class ValuesController : ApiController
{
    private static bool _firstTime = true;

    public async Task<string> Get()
    {
        Debug.WriteLine("Entry thread id: {0}. Sync: {1}",
            Thread.CurrentThread.ManagedThreadId,
            SynchronizationContext.Current);
        await LongWaitAsync();
        return "FOOBAR";
    }

    private Task LongWaitAsync()
    {
        return Task.Factory.StartNew(() =>
            {
                if (_firstTime)
                {
                    _firstTime = false;
                    Debug.WriteLine("Sleepy thread id: {0}. Sync: {1}",
                        Thread.CurrentThread.ManagedThreadId,
                        SynchronizationContext.Current);
                    Thread.Sleep(20000);
                    Debug.WriteLine("Finished sleeping");
                }
            },
            CancellationToken.None,
            TaskCreationOptions.LongRunning,
            TaskScheduler.Default);
    }
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-21T08:22:06.003

这实际上与服务器无关，与客户端有关。Chrome 和 Firefox 似乎都不想发送他们认为是“重复”的请求，直到第一个请求得到响应。任一浏览器的单独“私人”会话将立即从第二个请求返回。Internet Explorer 9 似乎没有表现出这种行为。

为了与客户端实现隔离，我将以下客户端放在一起。

```
class Program
{
    static void Main(string[] args)
    {
        var t1 = Task.Run(() => FetchData(1));
        var t2 = Task.Run(() => FetchData(2));
        var t3 = Task.Run(() => FetchData(3));

        var index = Task.WaitAny(t1, t2, t3);
        Console.WriteLine("Task {0} finished first", index + 1);

        Task.WaitAll(t1, t2, t3);
        Console.WriteLine("All tasks have finished");

        Console.WriteLine("Press any key");
        Console.ReadKey(true);
    }

    static void FetchData(int clientNumber)
    {
        var client = new WebClient();
        string data = client.DownloadString("http://localhost:61852/api/values");
        Console.WriteLine("Client {0} got data: {1}", clientNumber, data);
    }
} 
```

它的输出是：

1.  客户端 2 获得数据：“FOOBAR”（在启动的毫秒内）
2.  客户 3 获得数据：“FOOBAR”
3.  任务 2 先完成
4.  （这里久等了）
5.  客户 1 获得数据：“FOOBAR”
6.  所有任务都已完成

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T10:26:11.140

就我而言，这里是输出（它从 5**切换**到另一个线程到 10）：

```
Entry thread id: 5\. Sync: System.Web.LegacyAspNetSynchronizationContext
Sleepy thread id: 10\. Sync: 
Finished sleeping
The thread '<No Name>' (0x2c84) has exited with code 0 (0x0).
Entry thread id: 7\. Sync: System.Web.LegacyAspNetSynchronizationContext
The thread '<No Name>' (0x1818) has exited with code 0 (0x0).
Entry thread id: 5\. Sync: System.Web.LegacyAspNetSynchronizationContext
The thread '<No Name>' (0xd4c) has exited with code 0 (0x0).
The thread '<No Name>' (0x2c30) has exited with code 0 (0x0). 
```

这可能是由于环境和机器运行（单核）使运行时决定如何运行它。

# pydev - Pydev Nodebox：“AttributeError：'NoneType'对象没有属性'WIDTH'”

> ID：14996530
> 
> 赞同：1
> 
> 时间：2013-02-21T07:13:32.563
> 
> 标签：pydev, nodebox

我正在尝试使用 nodebox（ubuntu 12.04，python 2.7，django 1.3）创建数据库中用户之间的连接图，但是当我输入以下说明时，我在它下面收到错误消息：

```
"""    
g.draw(weighted=False, directed=False, highlight=[], traffic=None)  
Traceback (most recent call last):  
  File "/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py", line 2721, in run_code  
    exec code_obj in self.user_global_ns, self.user_ns  
  File "<ipython-input-1-0a219395b690>", line 1, in <module>  
    g.draw(weighted=False, directed=False, highlight=[], traffic=None)  
  File "/home/raymond/Documents/exchange/cet/cet/graph/__init__.py", line 453, in draw
    self.update()  
  File "/path/to/myproject//graph/__init__.py", line 416, in update  
    self.x = _ctx.WIDTH - max.x*self.d - min_.x*self.d  
AttributeError: 'NoneType' object has no attribute 'WIDTH'  

""" 
```

如何让 nodebox 绘制我的图表？**我应该向 graph/ init** .py添加一个 try/catch 或 if 语句，以防止写入 none 类型的对象吗？我知道显示更多代码将有助于更快地解决问题；我遇到了格式问题，但我会尽快在问题中添加代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-02T23:09:16.023

Nodebox 有一个图形网页，它简洁、信息丰富，似乎是我需要的。由于要下载的文件在同一页面上，它看起来很理想，但它没有提到它是适用于 Mac 的 Nodebox 1 ...仅！

然后进一步翻找发现 NodeBox OpenGL 它有一种新的方法并且是跨平台的，但它只列出了与 python 2.5-2.6 的兼容性（所以 2.7 应该值得一试？）但安装图形工具 Pyglet 第一次失败.. ..所以需要更多的调查。

可悲的是 Nodebox 3 似乎完全不同，还没有看到类似的图形命令

**回顾结果**

完成安装后，我使用鼠标可选属性查看器、低帧速率和恒定数据集制作了网络查看器原型。这个网站展示了一种交互性的味道

[http://www.visualthesaurus.com/app/view?word=link](http://www.visualthesaurus.com/app/view?word=link) （尝试单击并拖动中心词）

但我需要解决的问题是如何

*   始终如一地显示实时数据集，即处理孤儿，作为您可能正在查看的分支的转换可能会从数据中消失
*   对大量数据的查看进行分区，即从数百个项目中查看 2 到 20 个节点
*   显示数据而不重叠/遮挡或超出显示区域
*   不在当前级别时显示差异
*   可移植性
*   ...

在我的情况下，一个定期更新的、带有颜色和缩放级别的结构化 html 表格是最好的解决方案

# c# - 如何在应用程序执行时更新 Windows 窗体上的计时器

> ID：14996531
> 
> 赞同：0
> 
> 时间：2013-02-21T07:13:47.733
> 
> 标签：c#, winforms

我想在 UI 上显示计时器，以便当应用程序星执行计时器从 00:00:00 开始并且当它完成时它的执行计时器停止。计时器应在运行时显示每秒计时。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:37:32.343

您可以使用 System.Windows.Forms.Timer，它是为像您这样的场景创建的。您可以在[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.timer.aspx)中了解更多信息。

您应该使用以下代码片段作为示例：

```
Timer timer = new Timer();
timer.Interval = 1000;
timer.Tick += new System.EventHandler(timer_Tick);
timer.Start();

private void timer_Tick(object sender, System.EventArgs e)
{
    this.Text = string.Format("{0:hh:MM:ss}", DateTime.Now);
} 
```

请注意，您应该在不需要时丢弃 Timer。

# java - 如何保护从其他语言调用的java中的方法签名（javascript）

> ID：14996533
> 
> 赞同：2
> 
> 时间：2013-02-21T07:13:51.713
> 
> 标签：java, javascript, communication

我有一个关于将 java 与 javascript 结合起来的问题。在我们的应用程序中，我们在 javascript 中构建了 gui，在 java 中构建了服务器端。在 javascript 中，我们写道，我们想从 java 中的 classY 调用 methodX。问题是java对javascript一无所知，所以当我们在java中改变一些东西时，我们可能会破坏javascript代码。即使是 Eclipse 中的简单重构选项也可以在不知情的情况下破坏我们的 javascript（更改方法名称、删除参数、重命名 DTO 对象中的 setter 和 getter）。问题是如何对抗它。我正在考虑在java中编写一些注释，所以在更改方法签名后你会得到编译错误（甚至可以写这种注释）但是如果有某种工具，我不想再次重新发明轮子会为我做的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:50:56.497

> 问题是如何对抗它。

可能最实用的解决方案是开发一组自动化测试（例如单元或系统测试），专门设计用于“练习”所有从 Javascript 调用 Java API 的情况（*反之亦然*）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T19:14:59.683

我认为您的问题有几个解决方案（解决方法）。

1）用方法映射某些字符串。

```
public class JavascriptCallable {

private static final String jsIdentifierMethod1 = "method1";

private static final String jsIdentifierMethod2 = "method2";

/**
 * All requests from JS should be redirected to this method.
 * 
 * @param methodName Name of the method
 */
public void requestFromJavascript (String methodName) throws Exception {

    if (methodName.equals(jsIdentifierMethod1)){
        method1();
    } else if (methodName.equals(jsIdentifierMethod2)){
        method2();
    } else{
        throw new Exception("Method not supported");
    }

}

public void method1(){
    // Do something
}

public void method2() {
    // Do something
} 
```

}

2）有单独的方法可以进行 js 调用。如果您使用反射来调用方法，这将有所帮助

```
public class JavascriptCallable {

/*----------------Methods to be called by js. Never refractor------------------*/

public void noRefractorMethod1() {
    method1();
}

public void noRefractorMethod2() {
    method2();
}

/*-------------------------------------------------------------------------------*/

/*---------Methods with business logic. Refractoring these will not mess your js-----------*/

public void method1() {
    // Business logic
}

public void method2() {
    // Business logic
}

/*-------------------------------------------------------------------------------*/ 
```

}

请让我知道这可不可以帮你。

# logging - jboss日志轮换

> ID：14996534
> 
> 赞同：0
> 
> 时间：2013-02-21T07:14:00.807
> 
> 标签：logging, jboss, rotation

我是部署工程师，我们公司使用 jboss 作为应用服务器，所以我们有很多开发团队环境。检查 jboss 日志文件并删除不必要的日志是一项耗时的任务。有什么方法可以记录文件轮换吗？我们将窗口作为操作系统。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T09:04:26.930

只需用谷歌搜索一下，您就可以自己找到答案。不管怎样，JBoss 中包含的本机日志库允许您配置轮换日志文件（您可以定义要保留的日志文件数量以及文件的最大大小），因此您的要求非常简单。

如果你使用 Jboss 3.x/4.x/5.x 寻找 log4j appender（在 conf/jboss-log4j.xml 中配置）：

*   [org.jboss.logging.appender.RollingFileAppender](http://java.dzone.com/articles/configuring-logging-jboss)。

另一方面，如果您使用 JBoss 7.x，因为它不再使用 log4j，您可以使用[size-rotating-file-handler](https://community.jboss.org/message/759283)（在 configuration/standalone.xml 或 configuration/domain.xml 中配置）

# hadoop - 用户登录时从 Ubuntu 中删除用户

> ID：14996541
> 
> 赞同：1
> 
> 时间：2013-02-21T07:14:22.597
> 
> 标签：hadoop, ubuntu-12.04

我正在使用 Ubuntu 12.04。最近我下载了 Hadoop 2.0.3 并创建了一个名为`Hduser`我添加的用户并授予特权。现在我想删除用户。

我用了

```
sudo deluser hduser 
```

但它给了我以下错误：

> 警告：组`hadoop' has no more members. userdel: user hduser is currently logged in /usr/sbin/deluser:`/usr/sbin/userdel hduser'
> 
> 返回错误代码 8\. 退出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:17:35.503

在执行上述操作之前，请尝试以 root 或任何其他用户身份登录。并确保 HDFS 已关闭。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-11T04:14:40.920

我在 Ubuntu 12.04 上也遇到了这些错误，但我在 WEBMIN 上尝试过并成功删除了用户。

# c# - 从嵌套数组中获取字段

> ID：14996544
> 
> 赞同：1
> 
> 时间：2013-02-21T07:14:32.660
> 
> 标签：c#, asp.net, web-services

我`webservice`在这个变量`BookingDetailsEmailRS[]`bookingDetailsEmailRS 中收到航空公司的回复。

我想在嵌套数组中获取 Travelers 字段。
在我的网格视图旅行者姓名列中填写此字段。

```
protected void Button1_Click(object sender, EventArgs e)
{
    GatewayBookingClient b = new GatewayBookingClient();

    string emailid = "mshrivastava@fareportal.com";

    string errorCode = string.Empty;
    string errorAtNode = string.Empty;

    SoapAuthentication soap = new SoapAuthentication();
    soap.UserName = "peter@mobissimo.com";
    soap.Password = "mob1ss1mo1947";
    BookingDetailsEmailRS[] bookingDetailsEmailRS = b.GetBookingDetails(soap, emailid, out  errorCode, out  errorAtNode);

    for (int i = 0; i < bookingDetailsEmailRS.Length - 1; i++)
    {
        GridView1.DataSource = bookingDetailsEmailRS;
        GridView1.DataBind();
    }  
} 
```

我成功地从数组中获取了值，但另一个问题是我想在网格的“TravellerName”列中绑定名称变量的每个值。“TravellerName”列在网格中创建了我自己的列。

```
 string name = bookingDetailsEmailRS[i].Travelers[0].FirstName +  
    bookingDetailsEmailRS[i].Travelers[0].MiddleName +  
    bookingDetailsEmailRS[i].Travelers[0].LastName; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T09:42:41.567

用于`Linq IEnumerable`将这些值分配`object array`给 GridView，如下所示.....

```
GridView1.DataSource = bookingDetailsEmailRS.Select(obj=>obj.Travelers).Select(x=>x.FirstName+x.MiddleName+x.LastName).ToList(); 
```

如果您`Travelers`在 bookingDetailsEmailRS 中只收到一个，那么您可以直接写如下...

```
GridView1.DataSource = bookingDetailsEmailRS.Select(obj=>obj.Travelers[0].FirstName+obj.Travelers[0].MiddleName+obj.Travelers[0].LastName)).ToList(); 
```

编辑：-如果您想要所有列以及上面连接的列，请尝试以下...

```
GridView1.DataSource = bookingDetailsEmailRS.Select(obj=>new {
    Username =obj.Travelers[0].FirstName+obj.Travelers[0].MiddleName+obj.Travelers[0].LastName,
    obj.property1,
    obj.property2
}).TolIst(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T09:14:18.520

可以实现代码

```
string name = bookingDetailsEmailRS[i].Travelers[0].FirstName + bookingDetailsEmailRS[i].Travelers[0].MiddleName + bookingDetailsEmailRS[i].Travelers[0].LastName; 
```

通过从服务返回数据集。在这种情况下，您希望返回数据集而不是列表、数组。

**如果您要返回一个列表，您可以通过以下方式获取代码**

```
string name = bookingDetailsEmailRS[i].FirstName + bookingDetailsEmailRS[i].MiddleName + bookingDetailsEmailRS[i].LastName; 
```

因为 bookingDetailsEmailRS[] 是 BookingDetailsEmailRS 类的列表/数组。

谢谢

# java - 生成 PDF 报告：jFreeChart 和 DynamicReports

> ID：14996546
> 
> 赞同：2
> 
> 时间：2013-02-21T07:14:45.620
> 
> 标签：java, jfreechart, dynamic-reports

我需要生成如下所示的报告：

![在此处输入图像描述](../Images/b1745d93da1025964ea28277e34385c2.png)

我在 NetBeans 中使用 swing 设计了一个 GUI 来输入详细信息：

![在此处输入图像描述](../Images/6ea075391f8a9b6536125c92b58a304d.png)

我使用 jFreeChart 生成的绘图：

```
 JFreeChart chart = ChartFactory.createXYLineChart(
"Hysteresis Plot", // chart title
"Pounds(lb)", // domain axis label
"Movement(inch)", // range axis label
dataset, // data
PlotOrientation.VERTICAL, // orientation
false, // include legend
true, // tooltips
false // urls
); 
```

输出：

![在此处输入图像描述](../Images/889e934471259e7842e33cfcccb3caa4.png)

我在网上搜索并读到我可以使用 iText 或 JasperReports 或 DynamicReports（基于 Jasper Report）

[http://www.dynamicreports.org/getting_started.html#step9](http://www.dynamicreports.org/getting_started.html#step9)

我发现使用动态报告更容易。我的问题是——我可以将 DynamicReports 用于我的目的吗（我想——是的，看看示例报告）如果是，那么我如何将我的 jFreeChart 导出到报告中。

请帮忙，因为我没有太多时间来完成这个项目。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T09:21:16.437

您可以直接在 DynamicReports 而不是 JFreeChart 中创建图表。使用 DynamicReports XYLineChartReport 组件来执行此操作。[请参阅http://www.dynamicreports.org/examples/xylinechartreport.html](http://www.dynamicreports.org/examples/xylinechartreport.html)上的示例代码。

如果要使用 JFreeChart 输出，请将图表导出为图像，然后使用以下命令将该图像包含在报告中`cmp.image()`：

```
// Create the chart.
JFreeChart chart = ChartFactory.createXYLineChart(
    "Hysteresis Plot", // chart title
    "Pounds(lb)", // domain axis label
    "Movement(inch)", // range axis label
    dataset, // data
    PlotOrientation.VERTICAL, // orientation
    false, // include legend
    true, // tooltips
    false // urls
);

// Export the chart to an image.
BufferedImage image = chart.createBufferedImage( 300, 300);

report()
    .title(cmp.text("XYZ HOSPITAL"))
    .columns(fieldNameColumn, fieldValueColumn)
    .summary(
        cmp.verticalList()
            .add(cmp.text("HYSTERISIS PLOT"))
            .add(cmp.text("A brief description of what this plot signifies"))
            .add(cmp.image(image))  // Add the exported chart image to the report.
            .add(cmp.text("REMARKS"))
    )
    .setDataSource(createDataSource())
    .toPDF(outputStream); 
```

# facebook - Laravel 中的会话在 Facebook 应用程序 Iframe 中不起作用

> ID：14996558
> 
> 赞同：1
> 
> 时间：2013-02-21T07:15:36.203
> 
> 标签：facebook, session, session-cookies, laravel, facebook-iframe

我有一个在 iframe 中运行的 facebook 应用程序。在用户允许来自应用程序的权限后，我希望 facebook 向我发送 $_REQUEST 变量，我使用这些变量来检索用户数据并且它运​​行良好。`Session::put()`问题是在我使用然后将用户数据放入 Laravel Session 之后`Session::save()`，在下一个请求时，会话消失了。所以我的应用程序无法再检索会话。我真的不知道为什么在测试期间我所有的浏览器都能正常工作，`(Safari, Firefox, Chrome)`. 因此，每次出现会话错误时，我都会对我进行一些错误检查，但我仍然每天收到 30 多封电子邮件，告诉我`Chrome`没有会话，并且一些用户发布了有关应用程序返回错误的帖子。我真的为这个问题苦苦挣扎了好几天。我已经实现了一些修复添加`P3P headers`和添加`favicon`在我的网站上，仍然无济于事。

这是我的代码：

```
Route::filter('before', function() 
{
    // Do stuff before every request to your application...
    header('P3P:CP="NOI DEV PSAi COM NAV OTR STP DEM HONK IDC DSP COR ADM DEVi TAIi CAO PSA PSD IVAi IVDi CONi HIS OUR IND CNT"');

//safari 3rd party fix cookie fix
if(isset($_SERVER['HTTP_USER_AGENT'])) {
    if (! count($_COOKIE) > 0 && strpos($_SERVER['HTTP_USER_AGENT'], 'Safari')) {
        if(strpos($_SERVER['HTTP_USER_AGENT'], 'Chrome') == false) {
            session_start();
            $page_url = Config::get('custom.fb_page');
            if (isset($_GET["start_session"]))
                die(header("Location:" . $page_url));
            $sid = session_id();
            if (!isset($_GET["sid"]))
            {
                if(isset($_POST["signed_request"]))
                    $_SESSION["signed_request"] = $_POST["signed_request"];
                die(header("Location:?sid=" . $sid));
            }
            if (empty($sid) || $_GET["sid"] != $sid)
                die('<script>top.window.location="?start_session=true";</script>');
        }
      }
    }
  }
} 
```

//以及设置 Laravel Session 的代码

```
Route::any('tab/(:any?)', function ($res = null)
{
    //$response = some_function_to_get_token($_REQUEST['signed_request']);
    if($response && isset($response['oauth_token']))
    {
        Session::put('my_session_for_token', $response['oauth_token']);
        Session::save();

        $redirect = Redirect::to('my_awesome_page');
    }
    else
        $redirect = Redirect::to('permission');
} 
```

**编辑**

我已经尝试设置 $_SESSION 并注释掉 Session::put() 但它根本没有设置我的 $_SESSION。接下来我尝试上传 sessionchecker.php 脚本并使用浏览器进行尝试。

这是会话检查的代码：

```
 <?php
    error_reporting(E_ALL);
    ini_set('display_errors', '1');
    session_start();

    if (isset($_SESSION['views']))
       $_SESSION['views'] = $_SESSION['views'] + 1;
    else
       $_SESSION['views'] = 0;

   echo '<pre>';
   var_dump(session_id()); // I should stay the same
   var_dump($_SESSION); // I should start at 0 and increase
   echo '</pre>'; 
```

它按预期工作，我怀疑它与 Redirect::to() 有关。PS 我已经尝试将 Laravel 配置为使用 Cookie 和 File，但仍然出现错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-27T09:04:34.547

这不是 Laravel 的问题。这是一个经典的 Safari/Internet Explorer 3rd 方 cookie 问题。

尝试在谷歌上搜索“safari cookie fix”或在此处查看其中一些问题，例如： [Facebook Iframe App with multiple pages in Safari Session Variables not persisting](https://stackoverflow.com/questions/2691864/facebook-iframe-app-with-multiple-pages-in-safari-session-variables-not-persisti)

# java - 直接返回评估结果或在返回前应用三元运算符以增强可读性

> ID：14996559
> 
> 赞同：0
> 
> 时间：2013-02-21T07:15:43.537
> 
> 标签：java, coding-style

我问这个问题只是想看看有多少人同意我的观点。情况是：我们有一段代码，其中 API 返回一个布尔值。return 语句写为

```
return (evaluator.isSuccess()?true:false); 
```

现在我的建议是有这样的代码

```
return evaluator.isSuccess() 
```

为什么你认为语句更具可读性？第一个还是第二个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:18:03.380

我会去`return evaluator.isSuccess()`。它清晰易读的成功是一个布尔值。因为它遵循**java bean 标准**来声明布尔变量的 getter。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:17:00.727

当然第二个是可读和清洁的

第一个就像

```
int i = someIntVal;
if(i == 10){
return 10;
}
return someIntVal; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T07:18:00.210

第二个更短，更好，并减少了条件检查。

应该优先于第一个。

# android - 如何使用 runOnUiThread 而不会出现“无法对非静态方法进行静态引用”编译器错误

> ID：14996560
> 
> 赞同：13
> 
> 时间：2013-02-21T07:15:43.653
> 
> 标签：android, multithreading

我有一个主要课程；

```
 ClientPlayer extends Activity { 
```

和服务

```
 LotteryServer extends Service implements Runnable { 
```

尝试在此服务的运行方法中使用 RunOnUiThread 时出现编译器错误，“无法对非静态方法进行静态引用”

如何解决这个问题？，这里显示了我如何使用代码；

```
 @Override
public void run() {
   // I tried both ClientPlayer.runOnUiThread and LotteryServer.runOnUiThread
   // both don't work   
    ClientPlayer.runOnUiThread(new Runnable() {
        public void run() {
           Toast.makeText(getApplicationContext(), "from inside thread", Toast.LENGTH_SHORT).show();
        }
    });
} // end run method 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-21T07:37:18.387

runOnUiThread 不是静态方法。

如果你想在 UIThread 上运行你的 runnable 你可以使用这个

处理程序 handler = new Handler(Looper.getMainLooper());

这将为 UI 线程创建一个处理程序。

```
ClientPlayer extends Activity {
.
.
public static Handler UIHandler;

static 
{
    UIHandler = new Handler(Looper.getMainLooper());
}
public static void runOnUI(Runnable runnable) {
    UIHandler.post(runnable);
}
.
.
.
} 
```

现在你可以在任何地方使用它。

```
@Override
public void run() {
   // I tried both ClientPlayer.runOnUiThread and LotteryServer.runOnUiThread
   // both don't work   
    ClientPlayer.runOnUI(new Runnable() {
        public void run() {
           Toast.makeText(getApplicationContext(), "from inside thread", Toast.LENGTH_SHORT).show();
        }
    });
} // end run method 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2015-06-05T09:59:55.710

`onCreat()`对上述问题有一个非常简单的解决方案，只需在您的方法之前对您的 Activity 进行静态引用

```
MainActivity mn; 
```

`onCreat()`然后像这样在你的方法中初始化它

```
mn=MainActivity.this; 
```

然后你只需要用它来调用你的`runOnUiThread`

```
mn.runOnUiThread(new Runnable() {
                    public void run() {
                        tv.setText(fns);///do what
                                    }
                                }); 
```

希望它有效。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-21T07:27:48.127

您可以获取 Activity 的实例，将其传递给服务，然后使用它代替类名。

那么你可以使用：

```
yourActivity.runOnUiThread( ... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:27:37.047

通常，当我们尝试从工作线程更新我们的 UI 时，我们会使用此方法（RunOnUiThread）。但是当您在这里使用服务时，`runOnMainThread`根据您的情况似乎不合适。

最好在这里使用**[处理](http://developer.android.com/reference/android/os/Handler.html)**程序。Handler 是与创建的线程相关联的元素，您可以将带有代码的 runnable 发布到 Handler，并且该 runnable 将在创建 Handler 的线程中执行。

> 在他的 MainThread 中在您的服务上创建一个处理程序并在其上发布 Runnables / 向其发送消息。

# highcharts - 在堆积条形图中的特定条形之间添加间隙

> ID：14996563
> 
> 赞同：3
> 
> 时间：2013-02-21T07:15:56.543
> 
> 标签：highcharts

我在图表中有两组堆积条形图，我想对它们进行可视化分组

那么如何在堆叠条形图中的特定条形之间添加额外的垂直间隙或以其他方式分隔组？

示例：http: [//jsfiddle.net/KrTbz/41/](http://jsfiddle.net/KrTbz/41/)

我想在条 4 和 A 之间添加额外的垂直空间

```
 new Highcharts.Chart({
        chart: {
            renderTo: 'container',
            type: 'bar',
        },
        title: {
            text: 'Grouping test',
        },
        xAxis: {
            categories: ['1', '2', '3', '4', 'A', 'B', 'C', ]
        },
        plotOptions: {
            series: {
                stacking: 'percent'
            }
        },
        series: [{
            name: 'Alpha',
            data: [31, 27, 23, 22, 22, 20, 21]
        }, {
            name: 'Omega',
            data: [5, 6, 7, 5, 6, 6, 5, ]
        }, {
            name: 'Gamma',
            data: [60, 62, 67, 69, 68, 70, 71]
        }]
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T11:51:24.857

以简单的方式不可能，但只有我想到的是相当肮脏的解决方案，但也许就足够了。因此，您可以按系列和类别设置空值。

[http://jsfiddle.net/KrTbz/42/](http://jsfiddle.net/KrTbz/42/)

```
xAxis: {
        categories: [ '1','2','3','4','','A', 'B', 'C', ]     
    },

series: [
{
    name: 'Alpha',
    data: [31,27,23,22,null,22,20,21]

}, {
    name: 'Omega',
    data: [5,6,7,5,null,6,6,5,]

} ,{
    name: 'Gamma',
    data: [60,62,67,69,null,68,70,71] 
}
 ] 
```

# javascript - RegEx 用于字母数字的有限重复

> ID：14996564
> 
> 赞同：2
> 
> 时间：2013-02-21T07:15:59.800
> 
> 标签：javascript, regex

我有一个正则表达式来检查字母的有限重复以及两个单独的正则表达式中的数字，但我试图结合一个正则表达式，但它总是返回 true。

```
// Alphabetes testing:
/([a-z])\1{4,}/.test("sd0") => false
/([a-z])\1{4,}/.test("adsssssd0") => true
// Numeric testing:
/([0-9])\1{3,}/.test("sd00000ds") => true
/([0-9])\1{3,}/.test("sd00s00ds") => false
/(([a-z])\1{4,})|(([0-9])\1{3,})/.test("sd0sds0sds") => true // always true 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:31:38.543

只需使用

```
([a-z0-9])\1{3,} 
```

[在 Regexr 上](http://regexr.com?33rmj)查看

您表达的问题是捕获组的编号。它们按左括号的顺序编号

```
(([a-z])\1{3,})|(([0-9])\1{3,})
12              34 
```

因此，通过您的反向引用，您总是在引用`(([a-z])\1{3,})`. 如果您在组本身（递归）中引用组，我不确定会发生什么。看起来它匹配每个字符（[Regexr](http://regexr.com?33rmp)）

**更新：**

如果有不同的长度要求，那么您需要使用替代，但您需要在替代中引用不同的组！

```
(?:([a-z])\1{4,}|([0-9])\2{3,}) 
```

`(?:`是一个非捕获组 ==> 它不计入反向引用

[在 Regexr 上](http://regexr.com?33rnh)查看

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:29:54.347

下面的正则表达式呢？

```
([a-z0-9])\1{3,} 
```

如果连续重复 3 个或更多数字/字母时您需要匹配，那将起作用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T07:30:54.660

您正在检查字母或数字字符集。由于中间和末尾的`sd0sds0sds`返回。`true``sds`

如果您希望字符串匹配两个条件 - 应该有一个三个字符的字母集和一个三个字符的数字集，我认为这不能使用单个正则表达式来完成。

如果您希望字符串允许由字母或数字组成的三个字符集，那么其他答案是合适的（没有反向引用）：

```
[a-z0-9]{3} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-21T08:20:55.303

您的最后一个正则表达式有一个错误：

```
(([a-z])\1{4,})|(([0-9])\1{3,}) 
```

两次使用 \1 引用，但 \1 指的是括号中的第一个块，实际上是

```
([a-z])\1{4,})|(([0-9])\1{3,} 
```

当您更正参考编号时，您的正则表达式实际上有效

```
(([a-z])\2{4,})|(([0-9])\4{3,}) 
```

在行动中看到它：[http ://regexr.com?33rnk](http://regexr.com?33rnk)

# java - 如何以不同的用户身份启动进程？

> ID：14996567
> 
> 赞同：1
> 
> 时间：2013-02-21T07:16:12.503
> 
> 标签：java, android, process

我想使用 RuntimeInstance.exec 从 Java 代码启动本机进程。但问题是，新的本机进程在用户“我”下启动。

我希望新进程以用户“shell”的身份运行。

我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T15:48:48.387

不确定您要在此处调用什么本机进程，但 Android 会根据包名称为应用程序分配唯一的用户 ID。您可以通过在清单中指定它来使两个应用程序共享相同的用户 ID。检查此链接 [http://developer.android.com/guide/topics/manifest/manifest-element.html](http://developer.android.com/guide/topics/manifest/manifest-element.html)

# html - 水平菜单下拉菜单

> ID：14996569
> 
> 赞同：0
> 
> 时间：2013-02-21T07:16:26.637
> 
> 标签：html, css

我想创建一个水平菜单下拉菜单，如下所示：

```
Home   Menu 1   Menu 2   Menu 3   Menu 4
       Sub Menu 11
       Sub Menu 12
       Sub Menu 13ssssssssssssssssssssssssssssssssssssss
       Sub Menu 14 
```

并且每个子菜单都会显示在一行中，即使子菜单太长

这是[我的代码](http://jsfiddle.net/VUScp/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:40:56.887

**编辑**

明白了[http://jsfiddle.net/VUScp/61/](http://jsfiddle.net/VUScp/61/)

```
#menu {
    background: #333;
    height:30px;
}
#menu ul {
    margin:0;
    padding:0;
}
#menu ul a {
    text-decoration: none;
    margin-right:150px; /* Use to adjust top menu width */
}
#menu ul li {
    list-style: none;
    float: left;
    position: relative;
}
#menu ul li a {
    background: #333;
    color: #fff;
    border: 1px solid #333;
    display: block;
    padding: 4px 12px;
}
#menu ul ul {
    padding:0;
    position:absolute;
}
#menu ul ul li {
    float:none;
    display: none;
    border-bottom: 1px solid #ccc;
    border-left: 1px solid #ccc;
    border-right: 1px solid #ccc;
    white-space:nowrap;
}
#menu ul ul li a {
    background: #f0f0f0;
    color: #333;
    border:none;
    margin-right:0; /* Undo top menu width for sub menu */
    min-width:160px; /* use to adjust sub menu minimum width */
}
#menu ul ul li a:hover {
    background: #ccc;
}
#menu ul li a:hover, #menu ul li:hover ul li {
    display:block !important;
} 
```

更接近但并不完美：

[http://jsfiddle.net/VUScp/14/](http://jsfiddle.net/VUScp/14/)

```
#menu {
  background: #333;
  height: 30px;
}
#menu ul {
  margin:0;padding:0;
}
#menu ul a {
  text-decoration: none;
}
#menu ul li {
  list-style: none;
  float: left;
  position: relative;
}
#menu ul li a {
  background: #333;
  color: #fff;
  border: 1px solid #333;
  display: block;
  padding: 4px;
  padding-right: 154px;
}
#menu ul ul {
  padding:0;
}
#menu ul ul li {
  float:none;
  display: none;
  border-bottom: 1px solid #ccc;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;  
  white-space:nowrap;
}
#menu ul ul li a {
  background: #f0f0f0;
  color: #333;
  border:none;
}
#menu ul ul li a:hover {
  background: #ccc;
}
#menu ul li a:hover, 
#menu ul li:hover ul li {
  display:block !important;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:46:45.117

这可能是你的答案 - [http://jsfiddle.net/VUScp/22/](http://jsfiddle.net/VUScp/22/)

使用`height` 和`width`自动。

**我在你的小提琴中编辑的代码-**

```
/* CSS code */
#menu {
  background: #333;
  height: auto;
}
#menu ul {
  margin:0;padding:0;
}
#menu ul a {
  text-decoration: none;
}
#menu ul li {
  list-style: none;
  float: left;
  position: relative;
}
#menu ul li a {
  background: #333;
  color: #fff;
  border: 1px solid #333;
  display: block;
  padding: 4px;
  width: auto;
}
#menu ul ul {
  padding:0;
}
#menu ul ul li {
  float:none;
  display: none;
  border-bottom: 1px solid #ccc;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;  
  white-space:nowrap;
}
#menu ul ul li a {
  background: #f0f0f0;
  color: #333;
  border:none;
}
#menu ul ul li a:hover {
  background: #ccc;
}
#menu ul li a:hover, 
#menu ul li:hover ul li {
  display:block!important;

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T08:13:49.383

这就是你要找的吗？ [http://jsfiddle.net/VUScp/44/](http://jsfiddle.net/VUScp/44/) 我只是添加了一些CSS，HTML是完整的......

```
/* CSS code */
#menu {
  background: #333;
  height: 30px;
}
#menu ul {
  margin:0;padding:0;
}
#menu ul a {
  text-decoration: none;
}
#menu ul li {
  list-style: none;
  float: left;
  position: relative;
}
#menu > ul > li > a {
  background: #333;
  color: #fff;
  border: 1px solid #333;
  display: block;
  padding: 4px;
  width: 154px;
}
#menu ul ul {
  padding:0;
    position: absolute;
    top:100%;
    left:0;
}
#menu ul ul li {
  float:none;
  display: none;
  border-bottom: 1px solid #ccc;
  border-left: 1px solid #ccc;
  border-right: 1px solid #ccc;  
  white-space:nowrap;
}
#menu ul ul li a{
  background: #f0f0f0;
  color: #333;
  border:none;
  width:100%;
}
#menu ul ul li a{
    display:inline-block;
    white-space:nowrap;
}
#menu ul ul li a:hover {
  background: #ccc;
}
#menu ul li a:hover, 
#menu ul li:hover ul li {
  display:block !important;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:24:39.297

使用此代码

html代码

```
<div id='cssmenu'>
<ul>
   <li class='active'><a href='index.html'><span>Home</span></a></li>
   <li class='has-sub'><a href='#'><span>Products</span></a>
      <ul>
         <li class='has-sub'><a href='#'><span>Product 1</span></a>
            <ul>
               <li><a href='#'><span>Sub Item</span></a></li>
               <li class='last'><a href='#'><span>Sub Item</span></a></li>
            </ul>
         </li>
         <li class='has-sub'><a href='#'><span>Product 2</span></a>
            <ul>
               <li><a href='#'><span>Sub Item</span></a></li>
               <li class='last'><a href='#'><span>Sub Item</span></a></li>
            </ul>
         </li>
      </ul>
   </li>
   <li><a href='#'><span>About</span></a></li>
   <li class='last'><a href='#'><span>Contact</span></a></li>
</ul>
</div> 
```

CSS代码

```
#cssmenu ul,
#cssmenu li,
#cssmenu span,
#cssmenu a {
  margin: 0;
  padding: 0;
  position: relative;
}
#cssmenu {
  height: 49px;
  border-radius: 5px 5px 0 0;
  -moz-border-radius: 5px 5px 0 0;
  -webkit-border-radius: 5px 5px 0 0;
  background: #141414;
  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAxCAIAAACUDVRzAAAAA3NCSVQICAjb4U/gAAAALElEQVQImWMwMrJi+v//PxMDw3+m//8ZoPR/qBgDEhuXGLoeYswhXg8R5gAAdVpfoJ3dB5oAAAAASUVORK5CYII=) 100% 100%; 
  background: -moz-linear-gradient(top, #32323a 0%, #141414 100%);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #32323a), color-stop(100%, #141414));
  background: -webkit-linear-gradient(top, #32323a 0%, #141414 100%);
  background: -o-linear-gradient(top, #32323a 0%, #141414 100%);
  background: -ms-linear-gradient(top, #32323a 0%, #141414 100%);
  background: linear-gradient(to bottom, #32323a 0%, #141414 100%);
  border-bottom: 2px solid #0fa1e0;
}
#cssmenu:after,
#cssmenu ul:after {
  content: '';
  display: block;
  clear: both;
}
#cssmenu a {
  background: #141414;
  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAxCAIAAACUDVRzAAAAA3NCSVQICAjb4U/gAAAALElEQVQImWMwMrJi+v//PxMDw3+m//8ZoPR/qBgDEhuXGLoeYswhXg8R5gAAdVpfoJ3dB5oAAAAASUVORK5CYII=) 100% 100%; 
  background: -moz-linear-gradient(top, #32323a 0%, #141414 100%);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #32323a), color-stop(100%, #141414));
  background: -webkit-linear-gradient(top, #32323a 0%, #141414 100%);
  background: -o-linear-gradient(top, #32323a 0%, #141414 100%);
  background: -ms-linear-gradient(top, #32323a 0%, #141414 100%);
  background: linear-gradient(to bottom, #32323a 0%, #141414 100%);
  color: #ffffff;
  display: inline-block;
  font-family: Helvetica, Arial, Verdana, sans-serif;
  font-size: 12px;
  line-height: 49px;
  padding: 0 20px;
  text-decoration: none;
}
#cssmenu ul {
  list-style: none;
}
#cssmenu > ul {
  float: left;
}
#cssmenu > ul > li {
  float: left;
}
#cssmenu > ul > li:hover:after {
  content: '';
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  left: 50%;
  bottom: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 10px solid #0fa1e0;
  margin-left: -10px;
}
#cssmenu > ul > li:first-child > a {
  border-radius: 5px 0 0 0;
  -moz-border-radius: 5px 0 0 0;
  -webkit-border-radius: 5px 0 0 0;
}
#cssmenu > ul > li:last-child > a {
  border-radius: 0 5px 0 0;
  -moz-border-radius: 0 5px 0 0;
  -webkit-border-radius: 0 5px 0 0;
}
#cssmenu > ul > li.active > a {
  box-shadow: inset 0 0 3px #000000;
  -moz-box-shadow: inset 0 0 3px #000000;
  -webkit-box-shadow: inset 0 0 3px #000000;
  background: #070707;
  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAxCAIAAACUDVRzAAAAA3NCSVQICAjb4U/gAAAALklEQVQImWNQU9Nh+v//PxMDw3+m//8ZkNj/mRgYIHxy5f//Z0BSi18e2TwS5QG4MGB54HL+mAAAAABJRU5ErkJggg==) 100% 100%; 
  background: -moz-linear-gradient(top, #26262c 0%, #070707 100%);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #26262c), color-stop(100%, #070707));
  background: -webkit-linear-gradient(top, #26262c 0%, #070707 100%);
  background: -o-linear-gradient(top, #26262c 0%, #070707 100%);
  background: -ms-linear-gradient(top, #26262c 0%, #070707 100%);
  background: linear-gradient(to bottom, #26262c 0%, #070707 100%);
}
#cssmenu > ul > li:hover > a {
  background: #070707;
  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAxCAIAAACUDVRzAAAAA3NCSVQICAjb4U/gAAAALklEQVQImWNQU9Nh+v//PxMDw3+m//8ZkNj/mRgYIHxy5f//Z0BSi18e2TwS5QG4MGB54HL+mAAAAABJRU5ErkJggg==) 100% 100%; 
  background: -moz-linear-gradient(top, #26262c 0%, #070707 100%);
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #26262c), color-stop(100%, #070707));
  background: -webkit-linear-gradient(top, #26262c 0%, #070707 100%);
  background: -o-linear-gradient(top, #26262c 0%, #070707 100%);
  background: -ms-linear-gradient(top, #26262c 0%, #070707 100%);
  background: linear-gradient(to bottom, #26262c 0%, #070707 100%);
  box-shadow: inset 0 0 3px #000000;
  -moz-box-shadow: inset 0 0 3px #000000;
  -webkit-box-shadow: inset 0 0 3px #000000;
}
#cssmenu .has-sub {
  z-index: 1;
}
#cssmenu .has-sub:hover > ul {
  display: block;
}
#cssmenu .has-sub ul {
  display: none;
  position: absolute;
  width: 200px;
  top: 100%;
  left: 0;
}
#cssmenu .has-sub ul li {
  *margin-bottom: -1px;
}
#cssmenu .has-sub ul li a {
  background: #0fa1e0;
  border-bottom: 1px dotted #6fc7ec;
  filter: none;
  font-size: 11px;
  display: block;
  line-height: 120%;
  padding: 10px;
}
#cssmenu .has-sub ul li:hover a {
  background: #0c7fb0;
}
#cssmenu .has-sub .has-sub:hover > ul {
  display: block;
}
#cssmenu .has-sub .has-sub ul {
  display: none;
  position: absolute;
  left: 100%;
  top: 0;
}
#cssmenu .has-sub .has-sub ul li a {
  background: #0c7fb0;
  border-bottom: 1px dotted #6db2d0;
}
#cssmenu .has-sub .has-sub ul li a:hover {
  background: #095c80;
} 
```

# mysql - 或在左连接

> ID：14996571
> 
> 赞同：0
> 
> 时间：2013-02-21T07:16:35.763
> 
> 标签：mysql, performance, query-optimization, left-join

广告牌表 140000 行，区域 1000 行。

```
SELECT 
    r.id,
    SUM(IF(bb.r1_id = r.id, 1, 0)) AS count,
    SUM(IF(bb.r2_id = r.id, 1, 0)) AS count2
FROM
    tmp_regions AS r
LEFT JOIN
    tmp_billboards AS bb
    ON (r.id = bb.r1_id OR r.id = bb.r2_id) 
WHERE
    bb.deleted = 0 
    AND
    bb.x != 0 
    AND
    bb.y != 0
GROUP BY r.id
ORDER BY r.capital DESC , r.other , r.name 
```

执行时间为 8 秒

解释

```
id  select_type table   type    possible_keys   key key_len ref rows    Extra
1   SIMPLE  bb  ref bb_r,bb_deleted,bb_x,bb_y,deleted_x_y,bb_r2 bb_deleted  1   const   66396   Using where; Using temporary; Using filesort
1   SIMPLE  r   ALL PRIMARY NULL    NULL    NULL    1000    Using where; Using join buffer 
```

我如何更改 OR in join 以提高性能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:38:13.720

添加索引。的输出`explain`显示哪些字段需要它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:41:22.410

假设这`tmp_regions (id)`是主键，您可以重写查询并将其`OR`转换为 2 个连接：

```
SELECT 
    r.id,
    COALESCE(bb1.cnt, 0) AS count,
    COALESCE(bb2.cnt, 0) AS count2
FROM
    tmp_regions AS r
  LEFT JOIN
    ( SELECT r1_id, COUNT(*) AS cnt
      FROM tmp_billboards
      WHERE deleted = 0 
        AND x <> 0 
        AND y <> 0
      GROUP BY r1_id
    ) AS bb1
    ON r.id = bb1.r1_id
  LEFT JOIN
    ( SELECT r2_id, COUNT(*) AS cnt
      FROM tmp_billboards
      WHERE deleted = 0 
        AND x <> 0 
        AND y <> 0
      GROUP BY r2_id
    ) AS bb2
    ON r.id = bb2.r2_id
ORDER BY r.capital DESC , r.other , r.name ; 
```

为了提高效率，索引`(deleted, r1_id, x, y)`和 `(deleted, r2_id, x, y)`将有助于避免对`tmp_billboards`.

# android - 列表视图中的分页

> ID：14996574
> 
> 赞同：1
> 
> 时间：2013-02-21T07:16:40.890
> 
> 标签：android, listview, pagination, android-sqlite

提前致谢。

我正在开发一个汽车评论应用程序，用户可以在其中登录并显示数据库中的所有评论。所有数据首先存储在 MYSQL 数据库中。我正在使用 json 连接到 MYSQLdatabase 和 SQLiteDatabase。但问题是，登录后应用程序屏幕巨大没有。数据来自服务器，并被插入到我们的 SQLite 数据库中。

之后，它从数据库中检索并以列表视图显示在应用程序屏幕中，在列表视图中显示所有数据需要更长的时间。在这种情况下，我使用 SimpleCursorAdapter 从数据库中检索所有数据。

那么有没有像分页或类似的方法来使数据检索更快。请提供一些源代码来帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:25:57.567

你可以使用类似的东西：

*   第 1 页：

    ```
    SELECT * FROM YOUR_TABLE LIMIT 20 OFFSET 0 
    ```

*   第2页：

    ```
    SELECT * FROM YOUR_TABLE LIMIT 20 OFFSET 20 
    ```

参考：[http ://sqlite.org/lang_select.html](http://sqlite.org/lang_select.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T07:26:38.920

您可以将异步任务的概念与 SimpleCursorAdapters 一起使用。

“AsyncTask 可以正确和轻松地使用 UI 线程。此类允许在 UI 线程上执行后台操作和发布结果，而无需操作线程和/或处理程序。”

以下是您可以执行的操作：

1) 在第一个查询中仅检索第一个 10/15 项。2) 在用户签出前 10/15 个项目时，触发另一个查询作为后台任务。

这肯定会让用户体验更快

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T07:25:27.407

使用`LIMIT`关键字 from `MYSQL`you 可以实现分页。

`LIMIT`允许您控制查询返回的行数：

**例子：**

显示前 10 条记录

```
SELECT * FROM Student LIMIT 10    //for first time 
```

显示 10 到 20 之间的行

```
SELECT *FROM Student LIMIT 9, 10 //after showing the records first time 
```

`LIMIT``SQLiteDatabase`也适用于

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-21T07:28:04.973

> Kindly provide the logic/sample source code on how to implement the pagination if anyone has already implemented.

See CommonsWare [`EndlessAdapter`](https://github.com/commonsguy/cwac-endless).

# c# - 没有数据返回时隐藏 JQGRID 的问题

> ID：14996576
> 
> 赞同：0
> 
> 时间：2013-02-21T07:16:52.450
> 
> 标签：c#, jquery, jqgrid

我正在关注此链接以在没有返回数据时隐藏 JQGRID 没有返回数据时[如何完全隐藏 jqgrid？](https://stackoverflow.com/questions/1167477/how-can-i-hide-the-jqgrid-completely-when-no-data-returned/1167902#1167902)

我在 .cshtml 中使用以下代码

```
<div id="gridWrapper">
    <table id="list1">
    </table>
    <div id="pager">
    </div>
</div>

<div id="noSearchResults">
    No records Found!
</div> 
```

并在 GridComplete

```
gridComplete: function () {
    var recs = parseInt($("#list1").getGridParam("records"), 10);
    if (isNaN(recs) || recs == 0) {
        $("#gridWrapper").hide();
        $("#noSearchResults").Show();
    }
    else {
        $('#gridWrapper').show();
        $("#noSearchResults").Hide();
    }
} 
```

但是当 $("#noSearchResults") 被执行时，结果并不像预期的那样在 Jqgrid 文件中得到错误捕获。我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:28:46.100

您的代码中没有错误，除了**Hide**应该是**hide**并且**Show**应该是**show**改变这一点，如果你得到错误然后提供你的网格定义。

# android - 为非 Maven Android 库项目创建 apklib 失败

> ID：14996586
> 
> 赞同：2
> 
> 时间：2013-02-21T07:17:25.447
> 
> 标签：android, maven, apklib

我有一个不是用 maven 构建的 android 库（定制的、集成的 zxing 条码扫描器库）。所以我尝试使用 mvn install:install-file 将 apklib 创建到我的本地 maven 存储库。

因此我运行：

```
mvn install:install-file -Dfile=zxing-integrated-1.0.apklib \
                         -DgroupId=com.google.zxing \
                         -DartifactId=zxing-integrated \
                         -Dversion=1.0 \
                         -Dpackaging=apklib \
                         -DgeneratePom=true \
                         -DcreateChecksum=true 
```

在命令行上返回以下内容：

```
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-install-plugin:2.3.1:install-file (default-cli) @ standalone-pom ---
[INFO] Installing /Users/myuser/Projects/myproject/zxing/zxing-integrated-1.0.apklib to /Users/myuser/.m2/repository/com/google/zxing/zxing-integrated/1.0/zxing-integrated-1.0.apklib
[INFO] Installing /var/folders/s0/0qcqwh696150dhq_lb0l3pd80000gn/T/mvninstall735817733736670848.pom to /Users/myuser/.m2/repository/com/google/zxing/zxing-integrated/1.0/zxing-integrated-1.0.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.488s
[INFO] Finished at: Thu Feb 21 11:27:23 CST 2013
[INFO] Final Memory: 7M/94M
[INFO] ------------------------------------------------------------------------ 
```

但是在 maven repo 中**没有创建 apklib 文件。**我得到的只是：

![在此处输入图像描述](../Images/39f0000ce33cea5469e109ed6584bc36.png)

所以我想知道，上面的 install-file 命令有什么问题。这是 lib 项目的项目结构，我正在尝试为其构建 apklib。它遵循常规的 Android 项目结构（不是 Android Maven 项目结构，我认为这是正确的做法？）

![在此处输入图像描述](../Images/cdc0faffb10c3c1d3b42635cd8b12ee8.png)

当我运行我的主项目的 mvn install 时， pom.xml 包括：

```
 <dependency>
        <groupId>com.google.zxing</groupId>
        <artifactId>zxing-integrated</artifactId>
        <version>1.0</version>
        <type>apklib</type>
    </dependency> 
```

我正进入（状态：

```
> mvn install
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building com.myproject.subname.android 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
Downloading: https://oss.sonatype.org/content/repositories/snapshots/com/google/zxing/zxing-integrated/1.0/zxing-integrated-1.0.jar
Downloading: http://repo1.maven.org/maven2/com/google/zxing/zxing-integrated/1.0/zxing-integrated-1.0.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 10.128s
[INFO] Finished at: Thu Feb 21 11:13:20 CST 2013
[INFO] Final Memory: 11M/137M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project com.myproject.subname.android: Could not resolve dependencies for project com.myproject:com.myproject.subname.android:apk:1.0-SNAPSHOT: Could not find artifact com.google.zxing:zxing-integrated:jar:1.0 in snapshots-repository (https://oss.sonatype.org/content/repositories/snapshots) -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:34:41.307

maven install-file 目标只是将现有文件上传到本地存储库。它不创建文件。您必须有一个现有文件`zxing-integrated-1.0.apklib`，以便您可以使用该命令上传它。

# php - 使用 32 位系统取反数（1099511627520）时如何得到正确的结果

> ID：14996588
> 
> 赞同：3
> 
> 时间：2013-02-21T07:17:32.247
> 
> 标签：php, computer-science

当我尝试这个

```
~1099511627520 
```

在 32bit OS 上，结果是否定的，但是 64bit 是可以的~ 那么如何让它在 32bit OS 上工作呢？</p>

任何人都可以帮助我吗？谢谢~

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T08:01:20.697

使用 BC 数学函数，您可以在 32 位机器上获得 64 位数字的按位否定，例如：

```
<?php

define('MAX_UINT_64', '18446744073709551615');

$number_64bit = '1099511627520';

$negate_64bit = bcsub(MAX_UINT_64, $number_64bit, 0);

var_dump($negate_64bit);

?> 
```

它输出：

`18446742974197924095`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:35:46.387

您可以尝试使用[bcmath 函数](http://php.net/manual/en/ref.bc.php)。

```
function neg($number)
    {
    return bcsub(0, bcadd($number, 1));
    }

echo neg('1099511627520') . PHP_EOL; // -1099511627521
echo ~1099511627520 . PHP_EOL; // -1099511627521

echo neg('1') . PHP_EOL; // -2
echo ~1 . PHP_EOL; // -2

echo neg('-1099511627520') . PHP_EOL; // 1099511627519
echo ~-1099511627520 . PHP_EOL; // 1099511627519

echo neg('-1') . PHP_EOL; // 0
echo ~-1 . PHP_EOL; // 0 
```

# facebook - Facebook iOS 应用设置中没有 SSO 配置选项

> ID：14996596
> 
> 赞同：1
> 
> 时间：2013-02-21T07:17:49.910
> 
> 标签：facebook, single-sign-on, facebook-ios-sdk

我们正在尝试为我们的 iOS APP 创建一个 Facebook 页面。但我们收到以下错误 - “您的 iOS 应用似乎没有使用单点登录 (SSO)”。

在 Facebook iOS 应用设置页面中，我们启用了 Facebook 登录，但我们找不到任何启用 SSO 的选项，如下所示 - [https://developers.facebook.com/blog/post/640/](https://developers.facebook.com/blog/post/640/)

请帮助我们在 Facebook 设置页面设​​置 SSO。

# android - 在android中将价值从一个活动传递到另一个活动

> ID：14996597
> 
> 赞同：5
> 
> 时间：2013-02-21T07:17:53.513
> 
> 标签：android, android-activity

嗨，我开发了一个应用程序，它有一个文本框和一个搜索按钮，当我在文本框中输入一个数字并单击搜索按钮时，它需要将输入的值传递给下一个使用该值获取值的活动从数据库。

我正在使用以下代码来传递值。

```
search_button.setClickable(true);
      search_button.setOnClickListener(new View.OnClickListener() {

      @Override
      public void onClick(View v) {
        // TODO Auto-generated method stub
        String outlet_no = outlet_id.getText().toString();
        System.out.println(outlet_no);
        if(!outlet_no.isEmpty()){
        @SuppressWarnings("deprecation")
        SharedPreferences myPrefs = getApplicationContext().getSharedPreferences("myPrefs", MODE_WORLD_READABLE);
        SharedPreferences.Editor prefsEditor = myPrefs.edit();

        prefsEditor.putString("outlet_id", outlet_no);
        prefsEditor.commit();

        Intent myIntent = new Intent(HomeActivity.this, StoreActivity.class);       
        startActivity(myIntent);
        HomeActivity.this.startActivity(myIntent);
        }
        else{
          Toast.makeText(getApplicationContext(), "Please enter an outlet id", Toast.LENGTH_SHORT);
        }  
      }
    }); 
```

我的问题是它没有传递价值。任何人都可以帮我解决这个问题，也可以解释一下上面的代码，因为我没有写它，我发现它很难理解。

StoreActivity 端

```
public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.store);      
        myPrefs = this.getSharedPreferences("myPrefs", MODE_WORLD_READABLE);             
        mOutletID = myPrefs.getString("outlet_id", "0");
        mOutletDetails = myPrefs.getString("outlet_details","{}");
        Log.v("outlet_details",myPrefs.getString("outlet_details","{}"));
        if(mOutletDetails != "{}"){
            setOutletData(mOutletDetails);
        }
        else{
            executeAjaxRequest();
        }
    } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-21T07:20:13.970

你犯的错误：

**1）你为什么要尝试两次开始活动？**

```
startActivity(myIntent);   // this is OK
HomeActivity.this.startActivity(myIntent); 
```

**2) 要将输入的文本从一个活动传递到另一个活动，您可以使用`putExtra()`Intent 方法，例如：**

```
myIntent.putExtra("SearchText", outlet_no); 
```

所以你的完整代码是：

```
 Intent myIntent = new Intent(HomeActivity.this, StoreActivity.class);   
 myIntent.putExtra("SearchText", outlet_no);    
 startActivity(myIntent); 
```

**3）接收您从第一个活动传递的价值：**

```
Intent intent = getIntent();
Bundle bundle = intent.getExtras();
String outlet_no= bundle.getString("SearchText"); 
```

**4）共享偏好：**

仅供参考，`SharedPreference`用于保存少量数据，以便以后在应用程序中引用和使用。

您应该参考以下链接：

1.  [共享首选项](http://developer.android.com/reference/android/content/SharedPreferences.html)
2.  [意图](http://developer.android.com/reference/android/content/Intent.html)
3.  [意图和意图过滤器](http://developer.android.com/guide/components/intents-filters.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T07:21:38.630

```
Intent myIntent = new Intent(HomeActivity.this, StoreActivity.class);
myIntent.putExtra("searchString", outlet_no);       
startActivity(myIntent); 
```

这将发送`searchString`到`StoreActivity`

并且`StoreActivity`您可以使用以下方法检索值：

```
String s = getIntent.getStringExtra("searchString"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-21T07:30:01.820

在您的 onClick 方法中，具有以下代码：

```
 String outlet_no = outlet_id.getText().toString();
    if(!outlet_no.isEmpty()){
        Intent myIntent = new Intent(HomeActivity.this, StoreActivity.class);  
        myIntent.putExtra("outlet_id",outlet_no);
        startActivity(myIntent);
    }
    else{
        Toast.makeText(getApplicationContext(), "Please enter an outlet id", Toast.LENGTH_SHORT);
    } 
```

现在在 StoreActivity 中，在 onCreate() 方法中有如下内容：

```
String outlet_no = getIntent().getStringExtra("outlet_id");  
if (outlet_no != null) //Just a defensive check
   //Start your processing 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-09T16:15:54.227

您也可以使用 Intents 执行此操作。

假设我们有 2 个活动：SourceActivity 和 DestinationActivity，我们想将 SourceActivity 的值传递给 DestinationActivity

在您的按钮 OnClickListener 中：

```
String str_outlet_no = outlet_no.getText().toString();
Intent intent = new Intent(SourceActivity.this, DestinationActivity.class);
intent.putExtra("outlet_no_key", outlet_no);
startActivity(intent); 
```

在 DestinationActivity 的另一边：

```
Intent intent = getIntent();
String desi = intent.getStringExtra("outlet_no"); 
```

并从数据库中搜索**desi**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T07:24:32.077

最简单的方法是将会话 ID 传递给您用于启动活动的意图中的注销活动：

```
Intent intent = new Intent(getBaseContext(), SignoutActivity.class);
intent.putExtra("EXTRA_SESSION_ID", sessionId);
startActivity(intent) 
```

Intents的[文档](http://developer.android.com/guide/topics/intents/intents-filters.html)有更多信息（查看标题为“Extras”的部分）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-21T07:22:48.803

你可以尝试这样的事情： -

**活动一**

```
myIntent.putExtra(var, value); // Putting the value
startActivity(myIntent); 
```

**活动 B**

```
String value = getIntent().getStringExtra(var); // Getting the value 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-02-21T07:49:51.333

活动一

```
myIntent.putExtra(var, value); // Putting the value
startActivity(myIntent); 
```

活动 B

```
String value = getIntent().getStringExtra(var); // Getting the value 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-02-21T07:23:17.257

你可以简单地把它写成

```
Intent myIntent = new Intent(HomeActivity.this, StoreActivity.class);
      myIntent.putExtra("outlet_no",outlet_no);
        startActivity(myIntent); 
```

让我知道这是否有效。

# iphone - 如何在ios中删除字符串前面的空白

> ID：14996599
> 
> 赞同：1
> 
> 时间：2013-02-21T07:17:58.863
> 
> 标签：iphone, ios, nsstring

```
 NSString *myString = @"     New Profile     " 
```

我想删除我的字符串中空白的前面和结尾。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:27:53.897

试试这个它也会删除空白的新行：

```
NSString *temp = @" untrimmed string ";
NSString *newString = [temp stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]]; 
```

# java - 转换器类抛出异常 java.lang.IllegalArgumentException

> ID：14996601
> 
> 赞同：1
> 
> 时间：2013-02-21T07:18:00.537
> 
> 标签：java, jsf, jsf-2, primefaces

我的 JSF 页面中有 p:selectOneMenu，当我运行我的 JSF 页面时，我从 Converter 类中得到以下异常。

```
java.lang.IllegalArgumentException: object 5634 is of type java.lang.String; 
expected type: test.entity.Employee 
```

我该如何解决这个问题？

我在实体类中有以下内容

```
@Entity
public class Employee implements Serializable {

private String employeeNumber;
private String employeeName;

/* getters and setters */ 
```

EmployeeConverter 类

```
@Component("employeeConverter")
@FacesConverter(forClass = Employee.class)

@Inject
EmployeeService employeeService;

@Override
public Object getAsObject(FacesContext facesContext, UIComponent component, String value) {

    if (value == null || value.length() == 0) {
        return null;
    }
    EmployeeService employeeService= (EmployeeService ) facesContext.getApplication().getELResolver().
            getValue(facesContext.getELContext(), null, "employeeService");
    return employeeService.getEmployees();
}

@Override   
public String getAsString(FacesContext facesContext, UIComponent component, Object object) {

            if (object == null) {
                return null;
            }
            if (object instanceof Employee) {
                Employee emp = (Employee) object;
                String val = emp.getEmployeeNumber();
                return val;
            } else {
throw new IllegalArgumentException("object " + 
object + " is of type " + object.getClass().getName() + "; expected type: " +
Employee.class.getName());
            }
} 
```

并在 jsf 页面中

```
 <p:selectOneMenu value="#{mb.employee}" converter="#{employeeConverter}">
 <f:selectItems value="#{cmb.employeeList}" var="emp"
 itemLabel="#{emp.employeeName}" itemValue="#{emp.employeeNumber}"/>
 <p:ajax  listener="#{mb.handleChange}"  process="@this"/>
 </p:selectOneMenu> 
```

**更新 1**

修改转换器方法`getAsObject`

```
private List<Employee> employee;

@Override
    public Object getAsObject(FacesContext facesContext, UIComponent component,
            String value) {
        System.out.println("reached in converter");
        try {
            if (value == null || value.length() == 0) {
                return null;
            } else {
                employee = getEmployeeService().getEmployees();
                for (Employee emp : employee) {
                    if (emp.getEmployeeNUmber() == value) {
                        return emp;
                    }
                }
            }

        } catch (Exception e) {
            System.out.println("exception from getAsObject  " + e.getMessage());            
        }
        return null;
    } 
```

**更新 2**

```
ManagedBean

@PostConstruct
    public void loadEmployees(){

        try {           
            List<Employee> emp = getEmployeeService().getEmployees();           
            employeeList = emp; 

        }
        catch(Exception e){
            e.printStackTrace();
            System.out.println("exception from loadEmployees "+e.getMessage());
        }

    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:27:11.823

不要将字符串分配给项目值，您需要分配转换后的对象（Employee）本身。

改成`itemValue="#{emp}"`

请参阅 BalusC 对此[问题](https://stackoverflow.com/questions/14952103/two-different-selectitems-return-single-selected-value/14978360#14978360)的回答。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:31:48.810

在您的`getAsObject`方法中，您没有对达到的价值做任何事情。在这里您将收到您的`#{emp.employeeNumber}`，因此您必须将其转换为`Employee`（可能您必须实现一个`Employee`使用服务定位器加载按 id 的方法）并返回对象本身。

您还使用 EL ( `#{employeeConverter}`) 引用转换器，您必须以直接方式进行。最后，元素列表必须由`SelectItem`, 组成，才能使[`f:selectItems`](http://docs.oracle.com/javaee/6/javaserverfaces/2.0/docs/pdldocs/facelets/f/selectItems.html)标签起作用。

# android - VideoView vs MediaPlayer？

> ID：14996603
> 
> 赞同：4
> 
> 时间：2013-02-21T07:18:06.537
> 
> 标签：android, android-mediaplayer, android-video-player

请告诉我为什么这适用于 MediaPLayer 而不是 videoView？以及如何使其与视频视图一起使用？

视频从 API 下载并保存在我创建的这个文件夹中：

```
File mediadir = cw.getDir("tvr", Context.MODE_PRIVATE); 
```

**视频视图**

```
final Uri uri = Uri.parse(path);
// path = /data/data/com.foo.app/tvr/video.mp4
videoView = (VideoView) findViewById(R.id.videoView);
videoView.setVisibility(View.VISIBLE);
videoView.setOnCompletionListener(this);
videoView.setVideoURI(Uri.parse(path));
videoView.start(); 
```

错误 VideoView**抱歉，此视频不能播放**并且错误 (1, -2...)

**媒体播放器---这个工作**

```
FileInputStream fileInputStream = new FileInputStream(path);

 MediaPlayer pl = new MediaPlayer();
 pl.setDataSource(fileInputStream.getFD());
 pl.prepare();
 pl.start(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-11T17:27:11.887

基本原因是 MODE_PRIVATE，它不允许 VideoView 和 MediaPlayer 播放非 World Readable 文件，*除非您按*原样传递 FD。

[这里有更详细的解释](https://stackoverflow.com/questions/3038474/can-a-videoview-play-a-video-stored-on-internal-storage)

# azure-mobile-services - 使用 Azure 移动服务进行开发？

> ID：14996608
> 
> 赞同：12
> 
> 时间：2013-02-21T07:18:15.350
> 
> 标签：azure-mobile-services, azure-acs

目前在 Azure 移动服务中开发后端系统的“最佳”方式是什么？

具体来说，有哪些工具可用？据我所见，大多数示例只是转到管理门户并手动将几行添加到脚本窗口中。这比只使用记事本更糟糕，并且没有任何版本控制的概念......

有没有办法在 VS 2012 中创建一个项目，其中包含将在 Azure 移动服务中运行的所有 Node.js 代码？有没有办法在模仿移动服务的本地开发环境中完全运行该代码？

我需要的服务器端代码比我能找到的大多数移动服务示例或文档中显示的复杂得多。

我有一个网站和一个 Win 8 商店应用程序，需要对其进行身份验证，并从后端数据库访问相对复杂的数据结构。现在推出的解决方案似乎都以移动服务为核心，对原始表使用简单的 REST，但所有示例都过于简单而无用。

有人可以指出使用移动服务的“现实生活”示例，以及使用 Visual Studio 中的工具开发和测试此类系统的“成熟”方式吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T04:23:33.573

为什么除了管理门户之外别无选择，我真的无法理解。对于 C#/.NET 开发人员来说，使用 console.log() 调试回到记事本风格的编程似乎很尴尬。

我希望看到一些 Node.js 入口点，您可以将它们连接到常规 C# 程序集，该程序集可以满足您使用完整 .NET 框架的请求（如在 ASP.NET MVC 或 Web API 中）。

我认为可能的架构是：

托管在 Azure 上的 ASP.NET MVC --- 将处理后的数据与逻辑写入 ---> Azure SQL DB <--- 从 --- Azure 移动服务 ---- 桥接至 ---> 移动设备

或者

Azure 上的云工作者角色 ---- 处理/处理 ----> Azure SQL DB <---- 读取/写入原始数据 ---- Azure 移动服务 ---- 桥接 ---> 移动设备

您可以将移动服务设施用于移动设备设施、调度和推送通知，并使用有限的代码，并在托管的 .NET 环境中完成大部分编码。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-11T23:19:05.397

自从写完这篇文章和回复了答案以来，AMS（Azure 移动服务）和 Azure 已经有了很大的进步。

有些东西仍然适用。如果您有大量 node.js 不是在 Azure 云门户中编写的，您将需要复制并粘贴到在线门户、自定义 api 调用部分，甚至可能是用于 CRUD 操作的 sql 后端表。

C# 开发人员的希望是它现在处于预览模式，您可以在其中跳过 node.js 并在没有 node.js 的情况下很快构建所有东西......一些错误需要解决，但在 6 个月内这将是相当可靠的。

我有问题和问题，一个名叫 Carlos carlosfigueira 的人非常有帮助。 [Azure 移动服务 - 获取更多用户信息](https://stackoverflow.com/questions/23160940/azure-mobile-services-getting-more-user-information)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-21T16:34:54.780

Josh 在这里介绍单元测试服务器脚本：[http ://www.thejoyofcode.com/Unit_testing_Mobile_Services_scripts_Day_7_.aspx](http://www.thejoyofcode.com/Unit_testing_Mobile_Services_scripts_Day_7_.aspx)

在本教程中，他使用 JS 的[Mocha 测试框架](http://visionmedia.github.com/mocha/)（id TDD 模式）并演示了一个示例，用于测试加密特定属性（文本）值的 INSERT 脚本和解密它的读取脚本（值加密在在 SQL 数据库中休息）。

您还可以[在此处](http://aka.ms/CommonWAMS)找到链接和教程的聚合。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-25T23:42:37.457

我建议您使用 Windows Azure Mobile 解决方案构建此解决方案，尤其是它现在支持 Node JS NPM，这意味着您可以使用 Node JS NPM 在 Windows Azure 上创建您想要的 API，并且可以使用 WAMS 轻松使用它。看看下面的链接，它会帮助你理解我想说的更多。

[http://weblogs.asp.net/scottgu/archive/2013/06/14/windows-azure-major-updates-for-mobile-backend-development.aspx](http://weblogs.asp.net/scottgu/archive/2013/06/14/windows-azure-major-updates-for-mobile-backend-development.aspx)

对于客户端，我还建议您使用 SignalR 构建它，它专为实时应用程序需要来自服务器端的大量事务的情况而设计。

[http://www.asp.net/signalr](http://www.asp.net/signalr)

您还可以在以下链接中找到有关如何集成它们的更多详细信息：http: [//hhaggan.wordpress.com/2013/07/12/signalr-node-js/](http://hhaggan.wordpress.com/2013/07/12/signalr-node-js/)

我希望这些对你有帮助，如果你还需要什么，请告诉我。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-07-26T00:48:58.800

对于本地运行，移动服务具有与 azure 网站相同的 Kudu 环境，因此您可以浏览到[https://your_service_name.scm.azure-mobile.net](https://your_service_name.scm.azure-mobile.net)如果您从顶部导航导航到调试控制台，您可以下载在 site/wwwroot 文件夹中运行的所有内容。

您可以在本地运行此 nodejs 项目（仅当您需要 SQL Server npm 包时才在 Windows 上运行）。您的代码位于 App_Data/config/scripts 中。如果将下载的内容替换为当前本地的 git 工作副本，则可以在本地开发和调试，然后像往常一样推送更改。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-08-22T14:43:39.510

我使用的工具：

1.  带有 JS 环境的 Eclipse（或任何 nodejs IDE）。
2.  吉特
3.  邮差

脚步：

1.  为您的 Azure 移动服务启用源代码控制。
2.  拉到您的本地并使用源创建一个 Eclipse 项目。
3.  做出改变并推动。
4.  用 POSTman 测试

这个过程让我可以非常快速地开发并且 eclipse 告诉我常见的 JS 错误。但它有明显的缺点：

1.  没有调试（我使用console.log）
2.  该项目最终有很多提交（很难使用 git 进行适当的源代码控制）

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-09-09T22:05:03.530

我刚刚写了一篇关于在本地运行 Azure 移动服务的博文：http: [//www.mikelanzetta.com/2014/09/running-azure-mobile-services-locally/](http://www.mikelanzetta.com/2014/09/running-azure-mobile-services-locally/) - 基本上它会询问 API 并启动 express，并允许你自己在本地运行 mocha。它比从 scm 链接拉下完整的 wwwroot 更干净，而且我发现使用我的本地运行器作为 git 子模块使其易于使用（并且我很容易使用 VSO 来管理我的测试）。

无论如何，对于实际开发，我使用 Git 集成和 WebStorm - 它会自动计算出我本地 Gruntfile 中的任务，并使其易于运行和测试。部署后，Postman 很有帮助。

# image-processing - 如何在 Redhat Linux 中一次为整个数据库（一组 100 个图像）运行 mindtct 包（NBIS 软件）

> ID：14996610
> 
> 赞同：1
> 
> 时间：2013-02-21T07:18:23.143
> 
> 标签：image-processing, fingerprint, biometrics

我已经在 VMware 的 Redhat Linux 中安装了 NBIS 软件，并在我的 windows 7 系统中作为主机操作系统运行。到目前为止，我只执行了一张图像，但现在我需要一次运行 100 张图像的整个数据库，我应该得到提取的细节。

我使用以下命令：

```
/NBIS/src/bin/mindtct /NBIS/Test_4.1.0/mindtct/data/5_2.jpg 
/NBIS/output/5_2.xyt 
```

谁能解决我的问题？我应该使用什么cmd？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T18:10:54.740

您可以编写一个脚本来遍历集合中的所有图像，或者更好的是，编写一个 C 程序来包装`mindtct`函数，在您的新应用程序中执行您想做的任何事情。`mindtct`查看NBIS中二进制文件的源代码，尤其是`get_minutiae()`函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-11T16:29:59.820

在包含图像的文件夹中，您可以使用 bash 脚本。这是我的相关部分。一个简单的 for 循环，它将所有扩展名为 jp2 的图像转换为 xyt 图像。

```
PHOTOTYPE="*.jp2"
SAVEPATH="path/to/save/folder/"

for PIC in $PHOTOTYPE
do
    echo "Processing mindtct -m1 $PIC $SAVEPATH/$PIC"
    mindtct -m1 "$PIC" "$SAVEPATH/$PIC"
done 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-29T22:35:33.053

我在 Raspbian 到 Raspberry Pi ./mindtct path/file.jpg path/output 上进行了尝试，它产生了 8 个文件：.brw、.dm、.hcm、.lcm、.lfm、.min、.qm、.xyt

据我了解，您应该使用 mindtct 函数来比较两个手指图像。

# asp.net - 自动完成扩展器或 Ajax 控件工具包中的组合框

> ID：14996612
> 
> 赞同：0
> 
> 时间：2013-02-21T07:18:27.460
> 
> 标签：asp.net, drop-down-menu

*早些时候，当我对“取决于下拉列表的来源”*有疑问时，有人建议我这个链接：[http ://www.aspdotnet-suresh.com/2011/03/how-to-implement-auto-complete-textbox.html](http://www.aspdotnet-suresh.com/2011/03/how-to-implement-auto-complete-textbox.html)

但是在这篇文章中没有箭头栏和一些在文本框中没有输入时像下拉列表一样工作的东西。

我喜欢一些像下图一样的东西。

![在此处输入图像描述](../Images/4a7ad57ea046781fe3db4b890ab8044f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:52:13.843

看一下这个。但这不是 jQuery

[http://dhtmlx.com/docs/products/dhtmlxCombo/index.shtml](http://dhtmlx.com/docs/products/dhtmlxCombo/index.shtml)

# performance - Magento 如何加快网站速度

> ID：14996614
> 
> 赞同：1
> 
> 时间：2013-02-21T07:18:53.893
> 
> 标签：performance, magento

我在加载我的 magento 网站时遇到了一个问题。刷新我的网站时，加载网站需要一些时间，所以我只想减少我的 magento 网站的加载时间，所以请大家知道如何提高网站的加载速度并加快我的网站速度。

我的网站内容很多图片，所以我认为加载网站需要一些时间。

我已经尝试按照此链接 [ [http://imwill.com/magento-image-compression-solution/#.USXC1B1HJyw](http://imwill.com/magento-image-compression-solution/#.USXC1B1HJyw) ] 中的建议压缩图像，但仍然面临同样的问题。

所以我希望有人在这里帮助加快我的网站。

等待你的亲切回应

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-22T09:56:06.673

## 在您的 .htaccess 文件中添加以下代码

```
<IfModule mod_expires.c>
 ExpiresActive on
 ExpiresDefault "access plus 1 year"

 ExpiresByType image/jpg "access 1 year"
 ExpiresByType image/jpeg "access 1 year"
 ExpiresByType image/gif "access 1 year"
 ExpiresByType image/png "access 1 year"
 ExpiresByType image/svg+xml "access plus 1 month"
 ExpiresByType text/css "access 1 month"
 ExpiresByType application/pdf "access 1 month"
 ExpiresByType application/x-javascript "access 1 month"
 ExpiresByType application/x-shockwave-flash "access 1 month"
 ExpiresByType image/x-icon "access 1 year"    
 ExpiresByType application/javascript "access plus 1 year"
 ExpiresByType font/truetype "access plus 1 month"
 ExpiresByType font/opentype "access plus 1 month"
 ExpiresByType application/x-font-woff   "access plus 1 month"   
 ExpiresByType application/vnd.ms-fontobject "access plus 1 month"
</IfModule>

<ifModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file \.(html?|txt|css|js|php|pl|asp|html|woff)$
  mod_gzip_item_include handler ^cgi-script$
  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>

<IfModule mod_headers.c>
  Header set Connection keep-alive     
  <FilesMatch ".(js|css|xml|gz|html)$">
    Header append Vary: Accept-Encoding
  </FilesMatch>
  <FilesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)(\.gz)?$">        
    Header unset ETag
    FileETag None
  </FilesMatch>
</IfModule>

<IfModule mod_deflate.c>
  # Compress HTML, CSS, JavaScript, Text, XML and fonts
  AddOutputFilterByType DEFLATE application/javascript
  AddOutputFilterByType DEFLATE application/rss+xml
  AddOutputFilterByType DEFLATE application/vnd.ms-fontobject
  AddOutputFilterByType DEFLATE application/x-font
  AddOutputFilterByType DEFLATE application/x-font-opentype
  AddOutputFilterByType DEFLATE application/x-font-otf
  AddOutputFilterByType DEFLATE application/x-font-truetype
  AddOutputFilterByType DEFLATE application/x-font-ttf
  AddOutputFilterByType DEFLATE application/x-javascript
  AddOutputFilterByType DEFLATE application/xhtml+xml
  AddOutputFilterByType DEFLATE application/xml
  AddOutputFilterByType DEFLATE font/opentype
  AddOutputFilterByType DEFLATE font/otf
  AddOutputFilterByType DEFLATE font/ttf
  AddOutputFilterByType DEFLATE image/svg+xml
  AddOutputFilterByType DEFLATE image/x-icon
  AddOutputFilterByType DEFLATE text/css
  AddOutputFilterByType DEFLATE text/html
  AddOutputFilterByType DEFLATE text/javascript
  AddOutputFilterByType DEFLATE text/plain
  AddOutputFilterByType DEFLATE text/xml

  # Remove browser bugs (only needed for really old browsers)
  BrowserMatch ^Mozilla/4 gzip-only-text/html
  BrowserMatch ^Mozilla/4\.0[678] no-gzip
  BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
  Header append Vary User-Agent
</IfModule> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:55:39.887

网上已经有很多关于这个的文章了。。

### 对于图像和静态文件

*   使用 CDN（图片、js、css）

### 用于缓存

*   实现内存缓存

### 用于编译 PHP 文件

*   启用 PHP 的 APC 扩展或启用 Magento 的编译（Admin > System > Tools > Compilation）

### Mysql 性能

*   调整 Mysql 以获得最佳性能（根据使用情况增加 mysql 的 query_cache_size 等）
*   如果您有大量数据库请求，请使用 Mysql 主从复制

### Magento 优化

*   禁用您不使用的模块
*   检查代码，优化它

这是一个开始..你需要做很多事情..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-10T05:37:16.620

我们必须使用网页速度优化技术来提高我们的加载速度。我通过[这里](http://www.internetbillboards.net/2016/04/05/magento-website-speed-optimization-techniques/)的帖子了解了这些信息，这帮助我加快了我的 magento 商店的速度。它对我有用。当然，遵循这些方法将帮助您纠正问题。

# mysql - 基于 2 个值连接一个表中的数据

> ID：14996617
> 
> 赞同：0
> 
> 时间：2013-02-21T07:19:06.367
> 
> 标签：mysql, sql

我有以下 SQL 语句：

```
SELECT   user_accounts.uacc_id,
         user_accounts.uacc_username,
         ride_rides.ride_type,
         ride_rides.ride_num_seats,
         ride_rides.ride_price_seat,
         ride_rides.ride_accept_nm,
         ride_rides.ride_split_cost,
         ride_rides.ride_from,
         ride_rides.ride_from_lat,
         ride_rides.ride_from_lng,
         ride_rides.ride_to,
         ride_rides.ride_to_lat,
         ride_rides.ride_to_lng,
         user_profiles.upro_image_name,
         ride_times.ridetms_id,
         ride_times.ridetms_return,
         ride_times.ridetms_depart_date,
         ride_times.ridetms_depart_time,
         ride_times.ridetms_return_date,
         ride_times.ridetms_return_time,
         depart_times.dpttme_text
FROM ride_times 
    LEFT JOIN ride_rides 
        ON ride_rides.ride_id = ride_times.ridetms_ride_fk 
    LEFT JOIN user_accounts 
        ON ride_rides.ride_uacc_fk = user_accounts.uacc_id
    LEFT JOIN user_profiles 
        ON user_profiles.upro_uacc_fk = user_accounts.uacc_id
    LEFT JOIN depart_times 
        ON depart_times.dpttme_id = ride_times.ridetms_depart_time
WHERE ride_times.ridetms_id = ?" 
```

现在，我有查询从最后一个连接中的ride_times.ridetms_depart_time 中提取数据的文本表示，并且它工作正常。但是，我需要对ride_times 表中的另一列执行相同的操作。我想我需要使用别名，但是在阅读了有关别名的几个来源之后，我无法理解如何更改调用。

此外，对于本次通话中任何明显错误的反馈，可获得 100 分。这是我第一次尝试使用 JOIN。

保重，李

感谢我到目前为止收到的回复。以下是所涉及的表的结构：

```
CREATE TABLE `depart_times` (
`dpttme_id` int(11) NOT NULL,
  `dpttme_text` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`dpttme_id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;

CREATE TABLE `ride_rides` (
  `ride_id` int(11) NOT NULL AUTO_INCREMENT,
  `ride_uacc_fk` int(11) NOT NULL,
  `ride_date_added` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `ride_type` tinyint(4) DEFAULT NULL,
  `ride_from` varchar(200) DEFAULT NULL,
  `ride_from_lat` float(10,6) DEFAULT NULL,
  `ride_from_lng` float(10,6) DEFAULT NULL,
  `ride_to` varchar(200) DEFAULT NULL,
  `ride_to_lat` float(10,6) DEFAULT NULL,
  `ride_to_lng` float(10,6) DEFAULT NULL,
  `ride_num_seats` tinyint(4) DEFAULT NULL,
  `ride_price_seat` float DEFAULT NULL,
  `ride_accept_nm` tinyint(1) DEFAULT '0' COMMENT 'accept non-monetary items',
  `ride_split_cost` tinyint(1) DEFAULT '0',
  `ride_notes` longtext,
  PRIMARY KEY (`ride_id`)
) ENGINE=MyISAM AUTO_INCREMENT=34 DEFAULT CHARSET=latin1;

CREATE TABLE `ride_times` (
  `ridetms_id` int(11) NOT NULL AUTO_INCREMENT,
  `ridetms_ride_fk` int(11) DEFAULT NULL,
  `ridetms_date_added` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `ridetms_depart_date` date NOT NULL DEFAULT '0000-00-00',
  `ridetms_depart_time` tinyint(4) DEFAULT '0',
  `ridetms_return` tinyint(1) DEFAULT '0',
  `ridetms_return_date` date NOT NULL DEFAULT '0000-00-00',
  `ridetms_return_time` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`ridetms_id`)
) ENGINE=MyISAM AUTO_INCREMENT=8 DEFAULT CHARSET=latin1;

CREATE TABLE `user_accounts` (
  `uacc_id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `uacc_group_fk` smallint(5) unsigned NOT NULL,
  `uacc_email` varchar(100) NOT NULL,
  `uacc_username` varchar(15) NOT NULL,
  `uacc_password` varchar(60) NOT NULL,
  `uacc_ip_address` varchar(40) NOT NULL,
  `uacc_salt` varchar(40) NOT NULL,
  `uacc_activation_token` varchar(40) NOT NULL,
  `uacc_forgotten_password_token` varchar(40) NOT NULL,
  `uacc_forgotten_password_expire` datetime NOT NULL,
  `uacc_update_email_token` varchar(40) NOT NULL,
  `uacc_update_email` varchar(100) NOT NULL,
  `uacc_active` tinyint(1) unsigned NOT NULL,
  `uacc_suspend` tinyint(1) unsigned NOT NULL,
  `uacc_fail_login_attempts` smallint(5) NOT NULL,
  `uacc_fail_login_ip_address` varchar(40) NOT NULL,
  `uacc_date_fail_login_ban` datetime NOT NULL COMMENT 'Time user is banned until due to repeated failed logins',
  `uacc_date_last_login` datetime NOT NULL,
  `uacc_date_added` datetime NOT NULL,
  PRIMARY KEY (`uacc_id`),
  UNIQUE KEY `uacc_id` (`uacc_id`),
  KEY `uacc_group_fk` (`uacc_group_fk`),
  KEY `uacc_email` (`uacc_email`),
  KEY `uacc_username` (`uacc_username`),
  KEY `uacc_fail_login_ip_address` (`uacc_fail_login_ip_address`)
) ENGINE=InnoDB AUTO_INCREMENT=56 DEFAULT CHARSET=latin1;

CREATE TABLE `user_profiles` (
  `upro_id` int(11) NOT NULL AUTO_INCREMENT,
  `upro_uacc_fk` int(11) NOT NULL,
  `upro_name` varchar(100) DEFAULT NULL,
  `upro_blackberry_id` varchar(200) DEFAULT NULL,
  `upro_yahoo_id` varchar(200) DEFAULT NULL,
  `upro_skype_id` varchar(200) DEFAULT NULL,
  `upro_gmail_id` varchar(200) DEFAULT NULL,
  `upro_image_name` varchar(200) DEFAULT 'default.jpg',
  PRIMARY KEY (`upro_id`),
  UNIQUE KEY `upro_id` (`upro_id`),
  KEY `upro_uacc_fk` (`upro_uacc_fk`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=25 DEFAULT CHARSET=latin1; 
```

所以，澄清一下：

现在我正在根据ride_times.ridetms_depart_time 从depart_times 中提取一些文本。我还需要根据ride_times.ridetms_return_time 提取一些文本形式的depart_times。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:31:46.360

我想如果你已经加入了所有的表，只需将条件放在 WHERE 子句中就好了：

```
WHERE
ride_times.ridetms_id = ?
AND 
depart_times.column_name1 = ride_times.return_time 
```

这回答了你的问题了吗？

好吧，我必须指出这一行：

```
LEFT JOIN depart_times ON depart_times.dpttme_id = ride_times.ridetms_depart_time 
```

只是感觉架构有问题。但是，这也是我看到命名的猜测..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T09:02:38.597

行，

经过大量搜索，我找到了这篇文章：

[SELECT * 列的 MySQL 别名](https://stackoverflow.com/questions/8341136/mysql-alias-for-select-columns)

我已将我的声明修改为以下内容，并且工作正常：

```
SELECT user_accounts.uacc_id,
                        user_accounts.uacc_username,
                        ride_rides.*,
                        user_profiles.upro_image_name,
                        ride_times.*,
                        dpt1.dpttme_text AS dep_text,
                        dpt2.dpttme_text AS ret_text
                FROM ride_times
                    LEFT JOIN ride_rides 
                        ON ride_rides.ride_id = ride_times.ridetms_ride_fk 
                    LEFT JOIN user_accounts 
                        ON ride_rides.ride_uacc_fk = user_accounts.uacc_id
                    LEFT JOIN user_profiles 
                        ON user_profiles.upro_uacc_fk = user_accounts.uacc_id
                    LEFT JOIN depart_times AS dpt1
                        ON dpt1.dpttme_id = ride_times.ridetms_depart_time
                    LEFT JOIN depart_times AS dpt2
                        ON dpt2.dpttme_id = ride_times.ridetms_return_time  
                WHERE ride_times.ridetms_id = ? 
```

非常感谢所有试图帮助我的人。

保重，李

# r - 随机森林输出解释

> ID：14996619
> 
> 赞同：32
> 
> 时间：2013-02-21T07:19:10.200
> 
> 标签：r, profiling, output, random-forest

我为我的数据运行了一个随机森林，并以矩阵的形式获得了输出。它适用于分类的规则是什么？

PS我想要一个客户的个人资料作为输出，例如来自纽约的人，在技术行业工作等。

如何解释随机森林的结果？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2014-07-21T20:48:35.567

“ [inTrees](http://cran.r-project.org/web/packages/inTrees/index.html) ” R 包可能很有用。

这是一个例子。

从随机森林中提取原始规则：

```
library(inTrees)
library(randomForest) 
data(iris)
X <- iris[, 1:(ncol(iris) - 1)]  # X: predictors
target <- iris[,"Species"]  # target: class
rf <- randomForest(X, as.factor(target))
treeList <- RF2List(rf)  # transform rf object to an inTrees' format
exec <- extractRules(treeList, X)  # R-executable conditions
exec[1:2,]
#       condition                 
# [1,] "X[,1]<=5.45 & X[,4]<=0.8"
# [2,] "X[,1]<=5.45 & X[,4]>0.8" 
```

测量规则。`len`是条件中的变量值对的数量，`freq`是满足条件的数据的百分比，`pred`是规则的结果，即`condition`=> `pred`，`err`是规则的错误率。

```
ruleMetric <- getRuleMetric(exec,X,target)  # get rule metrics
ruleMetric[1:2,]
#      len  freq    err     condition                  pred        
# [1,] "2" "0.3"   "0"     "X[,1]<=5.45 & X[,4]<=0.8" "setosa"    
# [2,] "2" "0.047" "0.143" "X[,1]<=5.45 & X[,4]>0.8"  "versicolor" 
```

修剪每条规则：

```
ruleMetric <- pruneRule(ruleMetric, X, target)
ruleMetric[1:2,]
#      len  freq    err     condition                 pred        
# [1,] "1" "0.333" "0"     "X[,4]<=0.8"              "setosa"    
# [2,] "2" "0.047" "0.143" "X[,1]<=5.45 & X[,4]>0.8" "versicolor" 
```

选择一个紧凑的规则集：

```
(ruleMetric <- selectRuleRRF(ruleMetric, X, target))
#          len freq    err     condition                                             pred         impRRF              
# [1,] "1" "0.333" "0"     "X[,4]<=0.8"                                          "setosa"     "1"                 
# [2,] "3" "0.313" "0"     "X[,3]<=4.95 & X[,3]>2.6 & X[,4]<=1.65"               "versicolor" "0.806787615686919" 
# [3,] "4" "0.333" "0.04"  "X[,1]>4.95 & X[,3]<=5.35 & X[,4]>0.8 & X[,4]<=1.75"  "versicolor" "0.0746284932951366"
# [4,] "2" "0.287" "0.023" "X[,1]<=5.9 & X[,2]>3.05"                             "setosa"     "0.0355855756152103"
# [5,] "1" "0.307" "0.022" "X[,4]>1.75"                                          "virginica"  "0.0329176860493297"
# [6,] "4" "0.027" "0"     "X[,1]>5.45 & X[,3]<=5.45 & X[,4]<=1.75 & X[,4]>1.55" "versicolor" "0.0234818254947883"
# [7,] "3" "0.007" "0"     "X[,1]<=6.05 & X[,3]>5.05 & X[,4]<=1.7"               "versicolor" "0.0132907201116241" 
```

构建一个有序规则列表作为分类器：

```
(learner <- buildLearner(ruleMetric, X, target))
#      len freq                 err                  condition                                             pred        
# [1,] "1" "0.333333333333333"  "0"                  "X[,4]<=0.8"                                          "setosa"    
# [2,] "3" "0.313333333333333"  "0"                  "X[,3]<=4.95 & X[,3]>2.6 & X[,4]<=1.65"               "versicolor"
# [3,] "4" "0.0133333333333333" "0"                  "X[,1]>5.45 & X[,3]<=5.45 & X[,4]<=1.75 & X[,4]>1.55" "versicolor"
# [4,] "1" "0.34"               "0.0196078431372549" "X[,1]==X[,1]"                                        "virginica" 
```

使规则更具可读性：

```
readableRules <- presentRules(ruleMetric, colnames(X))
readableRules[1:2, ]
#      len  freq    err     condition                                                                       pred        
# [1,] "1" "0.333" "0"     "Petal.Width<=0.8"                                                              "setosa"    
# [2,] "3" "0.313" "0"     "Petal.Length<=4.95 & Petal.Length>2.6 & Petal.Width<=1.65"                     "versicolor" 
```

提取频繁的变量交互（注意没有修剪或选择规则）：

```
rf <- randomForest(X, as.factor(target))
treeList <- RF2List(rf)  # transform rf object to an inTrees' format
exec <- extractRules(treeList, X)  # R-executable conditions
ruleMetric <- getRuleMetric(exec, X, target)  # get rule metrics
freqPattern <- getFreqPattern(ruleMetric)
# interactions of at least two predictor variables
freqPattern[which(as.numeric(freqPattern[, "len"]) >= 2), ][1:4, ]
#      len sup     conf    condition                  pred        
# [1,] "2" "0.045" "0.587" "X[,3]>2.45 & X[,4]<=1.75" "versicolor"
# [2,] "2" "0.041" "0.63"  "X[,3]>4.75 & X[,4]>0.8"   "virginica" 
# [3,] "2" "0.039" "0.604" "X[,4]<=1.75 & X[,4]>0.8"  "versicolor"
# [4,] "2" "0.033" "0.675" "X[,4]<=1.65 & X[,4]>0.8"  "versicolor" 
```

还可以使用函数 presentRules 以可读的形式呈现这些频繁模式。

此外，可以在 LaTex 中格式化规则或频繁模式。

```
library(xtable)
print(xtable(freqPatternSelect), include.rownames=FALSE)
# \begin{table}[ht]
# \centering
# \begin{tabular}{lllll}
#   \hline
#   len & sup & conf & condition & pred \\ 
#   \hline
#   2 & 0.045 & 0.587 & X[,3]$>$2.45 \& X[,4]$<$=1.75 & versicolor \\ 
#   2 & 0.041 & 0.63 & X[,3]$>$4.75 \& X[,4]$>$0.8 & virginica \\ 
#   2 & 0.039 & 0.604 & X[,4]$<$=1.75 \& X[,4]$>$0.8 & versicolor \\ 
#   2 & 0.033 & 0.675 & X[,4]$<$=1.65 \& X[,4]$>$0.8 & versicolor \\ 
#   \hline
# \end{tabular}
# \end{table} 
```

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2013-02-21T08:52:27.140

### 查看每棵树应用的规则

假设您使用该`randomForest`软件包，这就是您访问森林中适合的树木的方式。

```
library(randomForest)
data(iris)
rf <- randomForest(Species ~ ., iris)
getTree(rf, 1) 
```

这显示了 500 棵树 #1 的输出：

```
 left daughter right daughter split var split point status prediction
1              2              3         3        2.50      1          0
2              0              0         0        0.00     -1          1
3              4              5         4        1.65      1          0
4              6              7         4        1.35      1          0
5              8              9         3        4.85      1          0
6              0              0         0        0.00     -1          2
... 
```

您从描述根拆分的第一行开始阅读。根分裂基于变量 3，*即*如果`Petal.Length <= 2.50`继续到左子节点（第 2 行），如果`Petal.Length > 2.50`继续到右子节点（第 3 行）。如果一行的状态是`-1`，因为它在第 2 行，这意味着我们已经到达一个叶子并且将进行预测，在这种情况下是 class `1`，*即* `setosa`。

它实际上都写在手册中，因此请查看`?randomForest`并`?getTree`了解更多详细信息。

### 查看整个森林的可变重要性

看看`?importance`和`?varImpPlot`。这为您在整个森林中聚合的每个变量提供了一个分数。

```
> importance(rf)
             MeanDecreaseGini
Sepal.Length         10.03537
Sepal.Width           2.31812
Petal.Length         43.82057
Petal.Width          43.10046 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-10-26T13:02:19.007

除了上面的好答案之外，我还发现了另一种有趣的工具，旨在探索随机森林的一般输出：function `explain_forest`the package `randomForestExplainer`。有关详细信息，请参见[此处](https://cran.rstudio.com/web/packages/randomForestExplainer/vignettes/randomForestExplainer.html)。

示例代码：

```
library(randomForest)
data(Boston, package = "MASS")
Boston$chas <- as.logical(Boston$chas)
set.seed(123)
rf <- randomForest(medv ~ ., data = Boston, localImp = TRUE) 
```

请注意：`localImp`必须设置为`TRUE`，否则`explain_forest`将退出并出现错误

```
library(randomForestExplainer)
setwd(my/destination/path)
explain_forest(rf, interactions = TRUE, data = Boston) 
```

这将在您的文件中生成一个名为`.html`的文件，您可以在 Web 浏览器中轻松打开该文件。`Your_forest_explained.html``my/destination/path`

在本报告中，您将找到有关树木和森林结构的有用信息以及有关变量的一些有用统计信息。

例如，请参见下面的生长森林树木之间的最小深度分布图

[![在此处输入图像描述](../Images/1e7a3375e80f86282c5322f0bbeb0c0b.png)](https://i.stack.imgur.com/mdX14.jpg)

或多向重要性图之一

[![在此处输入图像描述](../Images/cc0a847f89ba2cb1a0f544f5e9c816cd.png)](https://i.stack.imgur.com/8nW4Y.jpg)

报告的解读可以参考[这里。](https://cran.rstudio.com/web/packages/randomForestExplainer/vignettes/randomForestExplainer.html)

# c# - .Net Remoting 只使用一个连接？

> ID：14996623
> 
> 赞同：6
> 
> 时间：2013-02-21T07:19:22.323
> 
> 标签：c#, .net, remoting, connection

.Net Remoting 是打开多个连接还是只打开一个？假设我有一个服务器和一个客户端。如果客户端创建多个 SingleCall 对象。那么对于每个对象，是否会有一个新的连接，或者每个对象都有一个单独的连接？

我在任何地方都找不到答案。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-23T20:11:48.917

长答案是：这取决于很多事情。简短的回答是肯定的。是的是的。

让我们做一个实验，看看最常见的默认情况。我们有 2 个控制台应用程序和 1 个由两个控制台应用程序引用的通用类库。第一个控制台应用程序具有客户端的角色，第二个具有服务器的角色。

首先，这是通常依赖的类库包含的内容：

```
public interface IFactory {

    string Hello(string name);

} 
```

现在是一些服务器代码。这是启动：

```
private static TcpChannel channel;

static void Main(string[] args) {

  BinaryClientFormatterSinkProvider clientProv = new BinaryClientFormatterSinkProvider();
  BinaryServerFormatterSinkProvider serverProv = new BinaryServerFormatterSinkProvider();
  serverProv.TypeFilterLevel = TypeFilterLevel.Full;

  channel = new TcpChannel(
    properties: new Hashtable {
      { @"port", 2013 }
    },
    clientSinkProvider: clientProv,
    serverSinkProvider: serverProv
  );
  ChannelServices.RegisterChannel(channel, false);
  RemotingConfiguration.RegisterWellKnownServiceType(typeof(Factory), "Factory.rem", WellKnownObjectMode.SingleCall);

  Console.WriteLine("Server started...");
  Console.WriteLine("Press any key to stop...");
  Console.ReadKey(intercept: true);

} 
```

我们刚刚提到了一个名为**Factory**的类。

```
RemotingConfiguration.RegisterWellKnownServiceType(typeof(Factory), "Factory.rem", WellKnownObjectMode.SingleCall); 
```

你猜到了。这是**IFactory**实现：

```
private sealed class Factory : MarshalByRefObject, IFactory {

  #region IFactory Members

  string IFactory.Hello(string name) {
    return @"Hello " + name + @" !";
  }

  #endregion

} 
```

现在对于一些客户：

```
static void Main(string[] args) {

  Console.WriteLine("Press any key to connect...");
  Console.ReadKey(intercept: true);

  IFactory factory = Activator.GetObject(typeof(IFactory), @"tcp://127.0.0.1:2013/Factory.rem") as IFactory;

  EventWaitHandle signal = new EventWaitHandle(initialState: false, mode: EventResetMode.ManualReset);

  ThreadStart action = () => {

    signal.WaitOne();
    var result = factory.Hello("Eduard");
    Console.WriteLine(result);

  };

  foreach (var i in Enumerable.Range(0, 99))
    new Thread(action) { IsBackground = true }.Start();

  Console.WriteLine("Press any key to bombard server...");
  Console.ReadKey(intercept: true);

  signal.Set();

  Console.ReadKey(intercept: true);
} 
```

你已经知道所有这些事情了，我敢肯定。我们在另一端获得了 SingleCall 服务的透明代理（它们都在同一台机器上，我们使用 TCP 端口 2013）：

```
IFactory factory = Activator.GetObject(typeof(IFactory), @"tcp://127.0.0.1:2013/Factory.rem") as IFactory; 
```

然后，出于“同时性”的原因，我们创建了 100 个线程，启动它们（这可能需要一些时间），但是“将它们束缚住”（信号是操作系统同步的重要手段），直到我们“拉动扳机”：

```
EventWaitHandle signal = new EventWaitHandle(initialState: false, mode: EventResetMode.ManualReset);

ThreadStart action = () => {

  signal.WaitOne();
  var result = factory.Hello("Eduard");
  Console.WriteLine(result);

};

foreach (var i in Enumerable.Range(0, 99))
  new Thread(action) { IsBackground = true }.Start(); 
```

因此，尽管所有 100 个线程都已创建**并**启动，但它们都在等待以下调用：

```
signal.WaitOne(); 
```

这样我们可以**更好地**同时启动线程，否则线程本身的创建和启动会使它们的实际执行或多或少是连续的。

我们要求用户决定何时用 100 次 Hello 调用“轰炸服务器”：

```
Console.WriteLine("Press any key to bombard server...");
Console.ReadKey(intercept: true);

signal.Set(); 
```

这就是发生的事情：

1）我们启动**服务器**控制台应用程序，让它安静地运行：

![在此处输入图像描述](../Images/ccbfd65e6a1c56a8515ae500aec6d80c.png)

2）我们启动**客户端**控制台应用程序，通过按任意键“建立连接”（这只是一个逻辑连接，因为它只是创建了一个透明代理）但我们推迟了“轰炸”：

![在此处输入图像描述](../Images/b21c8ef33c329e4bd89e28e5f5cd7ac8.png)

3) 我们启动 Mark Russinovich 的[Process Explorer](http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx)并使用它来发现进程列表中的**客户端**进程，同时我们打开它的属性窗口并选择 TCP/IP 选项卡：

![在此处输入图像描述](../Images/00c9f823ba079bee185c255af84ba154.png)

**4）我们在客户端**控制台应用程序中按下任何键，然后.. **TA DAA !!** 您在[Process Explorer中获得](http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx)**了很多**连接。他们有一百个吗？有时是，有时不是。这是一个连接池，这是肯定的。在短暂的空闲时间（5 到 10 秒）之后，它们关闭，这是一件非常好的事情（因为 .NET Remoting 堆栈是以这种方式实现的）。

![在此处输入图像描述](../Images/6443b40ffca6a547435ece2c29619796.png)

我希望这个实验能大致回答你的问题。

在更具体的情况下和更严格的意义上，您应该查看文档并阅读您可能在 .NET Remoting 应用程序中使用的各种渠道（那里有很多渠道，您在这里看到的只是Microsoft 官方提供的常规 TcpChannel，这取决于您的 .NET Remoting 配置的内容，取决于您是否在 IIS 中托管服务器等）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T20:20:42.700

网络连接数取决于您使用的远程处理通道。默认的 TcpChannel 打开与程序中的多个线程在某一时间点尝试访问服务器一样多的网络连接。

*对于单线程应用程序，TcpChannel 使用一个网络连接。*

作为一个相反的例子，第三方远程处理通道[IiopChannel](http://iiop-net.sourceforge.net/)使用多路复用，因此允许为数百个活动线程提供几个网络连接。

# android - 无法播放 mp4 视频

> ID：14996625
> 
> 赞同：1
> 
> 时间：2013-02-21T07:19:45.450
> 
> 标签：android, mp4

我正在尝试在 android 中制作视频播放器。它播放 3GP 格式的视频。但它不支持mp4视频。下面是我在android中的代码。为什么它不支持设备和模拟器上的mp4格式？

```
package com.example.videoplayer;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.net.URLConnection;
import java.util.ArrayList;
import org.json.JSONObject;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.ProgressDialog;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.StrictMode;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.webkit.URLUtil;
import android.widget.EditText;
import android.widget.ImageButton;
import android.widget.Toast;
import android.widget.VideoView;

public class VideoViewDemo extends Activity {
    private static final String TAG = "VideoViewDemo";

    private VideoView mVideoView;
    private EditText mPath;
    private ImageButton mPlay;
    private ImageButton mPause;
    private ImageButton mReset;
    private ImageButton mStop;
    private String current;

    @SuppressLint({ "NewApi", "NewApi", "NewApi" })
    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.activity_main);
        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();

        StrictMode.setThreadPolicy(policy); 
        mVideoView = (VideoView) findViewById(R.id.surface_view);

        mPath = (EditText) findViewById(R.id.path);
        mPath.setText("ooklnet.com/files/368/368007/video.mp4");

        mPlay = (ImageButton) findViewById(R.id.play);
        mPause = (ImageButton) findViewById(R.id.pause);
        mReset = (ImageButton) findViewById(R.id.reset);
        mStop = (ImageButton) findViewById(R.id.stop);

        mPlay.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                playVideo();
            }
        });
        mPause.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                if (mVideoView != null) {
                    mVideoView.pause();
                }
            }
        });
        mReset.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                if (mVideoView != null) {
                    mVideoView.seekTo(0);
                }
            }
        });
        mStop.setOnClickListener(new OnClickListener() {
            public void onClick(View view) {
                if (mVideoView != null) {
                    current = null;
                    mVideoView.stopPlayback();
                }
            }
        });
        /*runOnUiThread(new Runnable(){
            public void run() {
                sleep(2000);
                playVideo();

            }

        });*/
        Thread _trd1 = new Thread() {
            public void run() {
                try {
                    sleep(2000);
                    runOnUiThread(new Runnable() {

                    public void run() {
                        playVideo();
                    }
                });

                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }
        };
        _trd1.start();
    //  new DoBackgroundTask().execute();
    }

    public class DoBackgroundTask extends AsyncTask
    <String, Void, String> {
        @Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub

        }
        protected String doInBackground(String... locationNames) {
            playVideo();
            return null;    
        }

        protected void onPostExecute(String addresses){

            }
        }
    private void playVideo() {
        try {
            final String path = mPath.getText().toString();
            Log.v(TAG, "path: " + path);
            if (path == null || path.length() == 0) {
                Toast.makeText(VideoViewDemo.this, "File URL/path is empty",
                        Toast.LENGTH_LONG).show();

            } else {
                // If the path has not changed, just start the media player
                if (path.equals(current) && mVideoView != null) {
                    mVideoView.start();
                    mVideoView.requestFocus();
                    return;
                }
                current = path;
                mVideoView.setVideoPath(getDataSource("ooklnet.com/files/368/368007/video.mp4"));
                mVideoView.start();
                mVideoView.requestFocus();

            }
        } catch (Exception e) {
            Log.e(TAG, "error: " + e.getMessage(), e);
            if (mVideoView != null) {
                mVideoView.stopPlayback();
            }
        }
    }

    private String getDataSource(String path) throws IOException {
        if (!URLUtil.isNetworkUrl(path)) {
            return path;
        } else {
            URL url = new URL(path);
            URLConnection cn = url.openConnection();
            cn.connect();
            InputStream stream = cn.getInputStream();
            if (stream == null)
                throw new RuntimeException("stream is null");
            File temp = File.createTempFile("mediaplayertmp", "dat");
            temp.deleteOnExit();
            String tempPath = temp.getAbsolutePath(); 
            FileOutputStream out = new FileOutputStream(temp);
            byte buf[] = new byte[128];
            do {
                int numread = stream.read(buf);
                if (numread <= 0)
                    break;
                out.write(buf, 0, numread);
            } while (true);
            try {
                stream.close();
            } catch (IOException ex) {
                Log.e(TAG, "error: " + ex.getMessage(), ex);
            }
            return tempPath;
        }
    }

}

Please advise as soon as possible.
Thanks. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T06:12:38.677

问题可能出在视频编码上。Android Froyo 和 Gingerbread 不支持“基线”H264 以外的 H264 格式。因此，如果您的视频是 Mp4 和 H264 编码，请确保其 **“AVC 基线”**编码。在 windows/Linux 中使用“媒体信息”等工具并检查您的视频编码。如果可能，将视频转换为基线。

另一种解决方法是跳过 Videoview 并使用**视频播放意图**并将播放重​​定向到应用程序。系统将提示用户选择一个播放器来处理播放。显然，如果视频视图无法播放文件，默认播放器也无法处理该文件。您可以选择其他一些已安装的播放器，例如 Mx-Player，它将完美地流式传输文件。希望能解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:43:47.020

尝试使用协议的正确视频网址：`http://www.ooklnet.com/files/368/368007/video.mp4`

# ios - 视频播放器未加载文件

> ID：14996627
> 
> 赞同：1
> 
> 时间：2013-02-21T07:19:59.203
> 
> 标签：ios, objective-c

我正在尝试从项目目录加载视频，任何人都可以建议，我到底缺少什么。

```
NSURL *myURL =[[NSBundle mainBundle] URLForResource:@"US_Very_High_Dive_Boudia_US_44_x264"   
withExtension:@"mp4"];

MPMoviePlayerController *player =
[[MPMoviePlayerController alloc] initWithContentURL: myURL];

[[NSNotificationCenter defaultCenter] addObserver:self    
selector:@selector(moviePlayBackDidFinish:)    
name:MPMoviePlayerPlaybackDidFinishNotification object:player];

[player prepareToPlay];
[player shouldAutoplay];
[player allowsAirPlay];
[self.view addSubview:player.view];
[player setFullscreen:YES animated:YES];

player.controlStyle=MPMovieControlStyleEmbedded; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:28:11.063

试试这个代码

在 .h 文件中添加以下内容

```
@property (nonatomic, strong) MPMoviePlayerController *controller; 
```

在 .m 文件中

```
 -(IBAction)playMovie:(id)sender

           {
                NSString *filepath = [[NSBundle mainBundle] pathForResource:@"buyTutorial" ofType:@"mov"];
                NSURL *fileURL = [NSURL fileURLWithPath:filepath];
                MPMoviePlayerController *moviePlayerController = [[MPMoviePlayerController alloc] initWithContentURL:fileURL];
                [self.view addSubview:moviePlayerController.view];
                moviePlayerController.fullscreen = YES;
            [moviePlayerController prepareToPlay];
                [moviePlayerController play];
        [self setController:moviePlayerController];
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:32:07.517

好像您没有正确设置 URL - 试试这个：

```
NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle]
pathForResource:@"filename" ofType:@"mp4"]]; 
```

# javascript - jQuery链式选择不起作用

> ID：14996628
> 
> 赞同：0
> 
> 时间：2013-02-21T07:20:00.987
> 
> 标签：javascript, jquery, html

我正在尝试在此链接上进行简单的使用

[http://www.appelsiini.net/projects/chained](http://www.appelsiini.net/projects/chained)

但第二个下拉菜单仍然显示所有选项。这是我的代码

```
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script language="JavaScript" type="text/javascript" src="jquery.js"></script>
<script language="JavaScript" type="text/javascript" src="jquery.chained.js"      charset="utf-8"></script>
<script>
if (jQuery().chained) {  
alert('jQuery is loaded!');  
}
else{  
alert('jQuery is not loaded!');  
}
</script>

<select id="mark" name="mark">
<option value="">--</option>
<option value="bmw">BMW</option>
<option value="audi">Audi</option>
</select>
<select id="series" name="series">
<option value="">--</option>
<option value="series-3" class="bmw">3 series</option>
<option value="series-5" class="bmw">5 series</option>
<option value="series-6" class="bmw">6 series</option>
<option value="a3" class="audi">A3</option>
<option value="a4" class="audi">A4</option>
<option value="a5" class="audi">A5</option>
</select>

<script language="JavaScript" type="text/javascript">
$("#series").chained("#mark");
</script>

</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:21:46.003

Document.ready 将在 DOM 完成加载时调用方法。

将代码包装在 document.ready 函数中

```
$(function(){
if (jQuery().chained) {  
alert('jQuery is loaded!');  
}
else{  
alert('jQuery is not loaded!');  
}
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:40:53.577

我建议您查看是否加载了 jquery，或者尝试使用 cdn 托管的 jquery，如下所示：

```
 <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> 
```

这应该有效：

```
<!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8">
      <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js">
      </script>
      <script type="text/javascript" src="jquery.chained.js" charset="utf-8"></script>
      <script>
         if (jQuery().chained) {  
              alert('jQuery is loaded!');  
         }
          else{   
             alert('jQuery is not loaded!');  
         }
      </script>
   </head>
   <body>
      <select id="mark" name="mark">
           <option value="">--</option>
           <option value="bmw">BMW</option>
           <option value="audi">Audi</option>
      </select>
      <select id="series" name="series">
           <option value="">--</option>
           <option value="series-3" class="bmw">3 series</option>
           <option value="series-5" class="bmw">5 series</option>
           <option value="series-6" class="bmw">6 series</option>
           <option value="a3" class="audi">A3</option>
           <option value="a4" class="audi">A4</option>
           <option value="a5" class="audi">A5</option>
      </select>

      <script language="JavaScript" type="text/javascript">
          $("#series").chained("#mark");
      </script>

  </body>
  </html> 
```

您在文档中遗漏了什么`</head> <body></body>`，试试这个或添加这些标签并查看。

# codeigniter - 使用 https 时获取 sec_error_pkcs11_device_error

> ID：14996630
> 
> 赞同：2
> 
> 时间：2013-02-21T07:20:08.290
> 
> 标签：codeigniter, https

有没有人偶然发现此错误：错误代码：sec_error_pkcs11_device_error 我在尝试访问应使用数字证书 (SSL) 进行身份验证的网页时得到它。我的证书尚未过期，现在我收到此错误。请任何人帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-14T10:05:57.173

在尝试使用不受服务器（IIS 7.5）信任的证书时，我在 Firefox 浏览器中遇到了这个错误，不得不使用它。在服务器端使用受信任的证书为我解决了这个问题。

如果您需要有关如何处理证书的更详细说明，我发现以下资源非常有价值： [https ://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7 .html](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) [https://www.sslshopper.com/move-or-copy-an-ssl-certificate-from-a-windows-server-to-another-windows-server.html](https://www.sslshopper.com/move-or-copy-an-ssl-certificate-from-a-windows-server-to-another-windows-server.html)

# c# - C# 控制台应用程序和 ASP.NET WebForms 应用程序之间的共享存储

> ID：14996632
> 
> 赞同：3
> 
> 时间：2013-02-21T07:20:14.980
> 
> 标签：c#, asp.net, .net, webforms, console

有一些由**Windows 调度**`C#`程序启动的控制台应用程序。 我如何从其中任何一个收集工作进度（使用仅在具体控制台应用程序中可用的内部数据）？ 换句话说，我想在我的 asp.net webforms 网站上显示一些来自运行控制台应用程序的数据。我怎样才能做到这一点？

 *** * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:26:20.370

在控制台应用程序中托管一个网站可以与之通信的 http 服务器。我已经在托盘应用程序中使用自主机信号 r 来做到这一点，它很有效。

[https://github.com/SignalR/SignalR/wiki/Self-host](https://github.com/SignalR/SignalR/wiki/Self-host)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T10:28:51.217

我更愿意为此使用旧的良好[.NET Remouting](http://msdn.microsoft.com/en-us/library/kwdt6w2k%28v=vs.100%29.aspx)（查看[简单示例](http://www.codeproject.com/Articles/10045/NET-Remoting-Sample)）。但是您可以将 WCF 与 NetNamedPipesBinding 或 NetTcpBinding 绑定一起使用。**

# android - 列表视图在适配器中的位置

> ID：14996634
> 
> 赞同：0
> 
> 时间：2013-02-21T07:20:18.937
> 
> 标签：android

我想用唯一的背景图像识别在我的列表视图中添加的新行，并且旧记录采用默认背景。我正在使用 listadaper，我怎样才能做到这一点？

我的部分代码如下：

```
if(position==0){
    holder.row.setBackgroundResource(R.drawable.layer_selected);
    holder.text.setTextColor(Color.BLACK);
} else if(position>0){
    holder.row.setBackgroundResource(R.drawable.layer_unselected);
    holder.text.setTextColor(Color.WHITE);
}

 public View getView(final int position, View convertView, ViewGroup parent) {[

        final ViewHolder holder;[

        if (convertView==null) {

            convertView=newView(position, parent);

            holder = new ViewHolder();

            holder.remove=(ImageView)convertView.findViewById(R.id.remove);

            holder.row=(ImageView)convertView.findViewById(R.id.row);

            holder.text=(TextView)convertView.findViewById(R.id.text);

            holder.layer=
(RelativeLayout)convertView.findViewById(R.id.layer);

            convertView.setTag(holder);

        } else {

            holder = (ViewHolder) convertView.getTag();
        }

        holder.text.setText(String.valueOf(position+1));

        holder.remove.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                System.out.println("position remove: "+ position+1);

                main.removeItem(position+1);

            }

        });

        if(position+1>main.items.size()-1)
        {
           holder.row.setBackgroundResource(R.drawable.layer_unselected);

           holder.text.setTextColor(Color.WHITE);
        }

        pos = position+1;

        holder.row.setOnClickListener(new OnClickListener() {

            @Override

            public void onClick(View v) {

                main.selectItem(position+1);

                   holder.row.setBackgroundResource(R.drawable.layer_selected);

holder.text.setTextColor(Color.BLACK);

            }
        });

        return(convertView);
    }

    private View newView(int position, ViewGroup parent) {
        return(main.getLayoutInflater().inflate(R.layout.layer_row, parent, false));
    }

    class ViewHolder {
        ImageView remove, row;
        TextView text;
        RelativeLayout layer;
    } 
```

其中“row”是我的 ImageView，“text”是以 imageview 为中心的文本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:32:31.657

最有可能最新的项目将添加到您方案的最后一个项目中。

因此，您可以使用一个变量来获取列表视图的长度（项目数）并检查

```
if(position+1>numberOfItems)
 {
    holder.row.setBackgroundResource(R.drawable.layer_unselected);
    holder.text.setTextColor(Color.WHITE);
 } 
```

`NotifyDataSetChanged()`并记得在添加新项目时调用。

# wpf - 从字符串绑定 IsEnabled 值

> ID：14996637
> 
> 赞同：0
> 
> 时间：2013-02-21T07:20:45.837
> 
> 标签：wpf, binding, textbox, wpf-controls, isenabled

如何绑定字符串值`Y`或`N`isEnabled 值？

```
<TextBox IsEnabled="{Binding Path=StringValueFromSomeEntity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" /> 
```

StringValueFromSomeEntity 可以是一个`Y`或`N`值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T07:26:41.293

使用转换器将字符串转换为布尔值：

```
public class StringToBoolConverter:IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        if (value.ToString().ToLower() == "y")
           return true;
        return false;
    }
    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        if ((bool)value)
           return "Y";
        return "N";
    }
} 
```

在资源中参考它：

```
<Window.Resources>
    <conv:StringToBoolConverter x:Key="StringToBool"/>
</Window.Resources> 
```

将其应用于您的绑定（如果您只想根据您的字符串更改 IsEnabled 属性，请使用 Mode=OneWay，但如果您真的想绑定 TwoWay，则需要 ConvertBack 方法）：

```
<TextBox IsEnabled="{Binding Path=StringValueFromSomeEntity, Mode=OneWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource ResourceKey=StringToBool}"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:28:46.393

您可以像这样创建 IValueConverter 子类：

```
public class YNBoolConverter : IValueConverter
{

    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        return (value as string) == 'Y';
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        return value ? 'Y' : 'N';
    }
} 
```

如果您希望绑定 TwoWay，则需要 ConvertBack。然后将其添加到页面的资源中。并将其添加到绑定中

```
{Binding Path=StringValueFromSomeEntity, Mode=TwoWay, 
 UpdateSourceTrigger=PropertyChanged, Converter={StaticResource YNBoolConverter}} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T08:02:28.220

默认情况下，字符串不能转换为 Boolen 类型，因此您必须告诉 WPF 如何转换并将值放在您想要的位置。

这里有两种实现方式。

使用 ValueConverter（首选方式）

将转换器添加到您的项目中，如下所示。

```
 public class StringToBoolConverter : IValueConverter
        {
            public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
            {
                string val = System.Convert.ToString(value).ToUpper();
                if (string.IsNullOrWhiteSpace(val))
                    return false;

                return val == "Y" ? true : false;

            }

            public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
            {
                throw new NotImplementedException();
            }
        } 
```

将命名空间添加到您的窗口中并添加资源

```
<Window.Resources>
        <convrter:StringToBoolConverter x:Key="stringtoboolConverter"/>
    </Window.Resources> 
```

现在将此转换为复选框的 IsEnabled 属性。

```
 <GroupBox Header="With Converter" >
                <StackPanel>
                    <TextBox x:Name="txt1" Text="Y"  />
                    <CheckBox  IsEnabled="{Binding ElementName=txt1,Path=Text,Converter={StaticResource stringtoboolConverter}}" />

                </StackPanel>
            </GroupBox> 
```

使用样式/触发器（替代方式）

```
<TextBox x:Name="txt" Text="Y"  />
                <CheckBox  Content="IsEnabled" Tag="{Binding ElementName=txt,Path=Text}" >
                    <CheckBox.Style>
                        <Style TargetType="{x:Type CheckBox}">
                            <Style.Triggers>
                                <Trigger  Property="Tag" Value="Y"  >
                                    <Setter Property="IsEnabled"  Value="true"/>
                                </Trigger>
                                <Trigger  Property="Tag" Value="N"  >
                                    <Setter Property="IsEnabled"  Value="false"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </CheckBox.Style>
                </CheckBox> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:24:34.443

使用值转换器。

创建一个实现[IValueConverter的类](http://msdn.microsoft.com/de-de/library/system.windows.data.ivalueconverter.aspx)

例如

```
public class StringToBoolConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        string value = (string)value;
        return value.Trim().ToLower() == "y";
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();

    }
} 
```

之后，您可以将其应用于您的绑定

# javascript - AspTokenInput 启用和禁用

> ID：14996639
> 
> 赞同：3
> 
> 时间：2013-02-21T07:20:56.523
> 
> 标签：javascript, jquery, asp.net, jquery-plugins

我使用`AspTokenInput`了它`AutoComplete TextBox`来创建标签。

我使用**[此](https://github.com/harindaka/ASPTokenInput/wiki)**链接来了解如何使用它。

它对我来说很好，并给出我想要的结果。

现在我想根据条件在按钮单击时启用或禁用此控件。

我在按钮单击上使用它

```
AspTokenInput.Enabled = "False" 
```

但它不工作...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T19:36:28.490

您的问题是无法在服务器端禁用 jQuery Tokeninput 字段。

如果您想尝试打开和关闭 js，请参阅 ( [http://loopj.com/jquery-tokeninput/ ) 以获取有关此库的文档。](http://loopj.com/jquery-tokeninput/)乍一看，我没有看到启用/禁用标志或方法。您可能需要深入研究 ASPTokenInput 库以查看它如何提取其数据源，然后使用以下命令启用/禁用插件：

```
$("#my-text-input").tokenInput("clear"); //disable
$("#my-text-input").tokenInput("/url/to/ASPTokenInput/Datasource/");//reenable 
```

这种方法的问题在于它基本上绕过了 ASPTokenInput 层，这有点不合时宜。

我的第二种方法是尝试破解，但隐藏下拉菜单并不是最好的解决方案（在这种情况下甚至很简单），也不是让复选框将自动完成输入交换为另一个。交换文本框可能是最简单的解决方案。

# mysql - 使用 IN() 子句导致 Filesort

> ID：14996640
> 
> 赞同：5
> 
> 时间：2013-02-21T07:21:16.707
> 
> 标签：mysql, explain, filesort

我有一张简单的桌子->

```
id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY
by_id INT UNSIGNED NOT NULL
posted_on INT UNSIGNED NOT NULL 
```

我的表引擎是`MyISAM`.

我有一个多列索引`combo1`调用`by_id,posted_on,id`

我运行这个查询->

```
EXPLAIN SELECT * FROM books 
        WHERE by_id = '1' AND posted_on = '0' 
        ORDER BY id DESC LIMIT 7; 
```

列`Extra`说`Using where`和关键列说`combo1`

但是，当我运行这个查询时->

```
EXPLAIN SELECT * FROM books 
        WHERE by_id IN(1,7,10) AND posted_on = '0' 
        ORDER BY id DESC LIMIT 7; 
```

列`Extra`说`Using where; Using filesort`和关键列说`combo1`。

为什么`filesort`即使 QEP 显示优化器正在使用索引组合 1，它在其中索引了“id”，也会在第二种情况下发生。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T07:36:10.493

索引是 B+ 树。这意味着在 by_id 1 下有所有的记录都以 posted_on 0 和 by_id 1，然后你就有了这些记录的所有 id。但是，在 by_id 7 下，您还有另一个树枝，其中包含带有 posted_on 0 的记录，并且它们包含带有其 id 的记录。

当您有 in 子句时，您正在检索树的 3 个不同分支，您必须合并它们并重新使用它们，因为 1,2,4 的 id 可能在 by_id 1 下，但 3,5 在 by_id 10 下；MySQL 检索 1,2,4,3,5 并且必须使用它们。

在第一种情况下，只有一个分支，并且每个分支都已经排序

# php - 如何使用zend表单比较两个文本字段之间的值？

> ID：14996651
> 
> 赞同：0
> 
> 时间：2013-02-21T07:21:47.847
> 
> 标签：php, zend-framework, zend-form, zend-form-element

我有一个带有 2 个文本字段的表单，即最小金额和最大金额。我想知道我是否可以使用 Zendform 中的验证器将文本字段“**最小数量**”中的值与文本字段“**最大数量**”中的值进行比较，反之亦然。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:35:26.493

您需要为此创建自定义验证。

我认为这篇文章中的函数会帮助你[My_Validate_FieldCompare](http://www.oplabo.com/article/22)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:35:42.070

只需创建自己的验证器，验证器的 isValid 方法将获取验证器附加到的字段的值加上表单的整个上下文，这是所有其他表单字段的值的数组。此外，您可以向验证器添加函数以设置上下文字段，以及它是否应该小于、等于、大于甚至传递函数进行比较...

这里有一些示例代码（未测试）

```
<?php

namespace My\Validator;

class MinMaxComp extends AbstractValidator
{
    const ERROR_NOT_SMALLER = 'not_smaller';
    const ERROR_NOT_GREATER = 'not_greater';
    const ERROR_CONFIG = 'wrong_config';

    const TYPE_SMALLER = 0;
    const TYPE_GREATER = 1;

    protected $messageTemplates = array(
        self::ERROR_NOT_SMALLER => "Blah",
        self::ERROR_NOT_GREATER => "Blah",
        self::WRONG_CONFIG => "Blah",
    );

    protected $type;
    protected $contextField;

    public function setType($type)
    {
        $this->type = $type;
    }

    public function setContextField($fieldName)
    {
        $this->contextField = $fieldName;
    }

    public function isValid($value, $context = null)
    {
        $this->setValue($value);

        if (!is_array($context) || !isset($context[$this->contextField])) {

            return false;
        }

        if ($this->type === self::TYPE_SMALLER) {

            if (!$result = ($value < $context[$this->contextField])) {

                $this->error(self::ERROR_NOT_SMALLER);
            }

        } else if ($this->type === self::TYPE_GREATER) {

            if (!$result = ($value > $context[$this->contextField])) {

                $this->error(self::ERROR_NOT_GREATER);
            }

        } else {

            $result = false;
            $this->error(self::ERROR_CONFIG);
        }

        return $result;
    }
} 
```

# html - valign="top" 在 td 中不起作用

> ID：14996652
> 
> 赞同：3
> 
> 时间：2013-02-21T07:21:52.637
> 
> 标签：html, css

我的 td 中有图像。我必须将它们对齐顶部，但它们显示在中间。我正在使用以下html。

```
<table> 
    <tr>
        <td valign="top">                       
            <img src="./images/facebook.jpg" name="facebook" border=0 width=40 height=40>
            <img src="./images/twitter.jpg" name="twitter" border=0 width=40 height=40>
            <img src="./images/linkedin.jpg" name="linkedin" border=0 width=40 height=40>
            <img src="./images/youtube.jpg" name="youtube" border=0 width=40 height=40>
        </td>
    </tr>
</table> 
```

请建议这里出了什么问题...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T07:24:25.007

它已经过时了。请改用 style="vertical-align:top"。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T08:38:30.043

我得到了我的错误。我没有关闭 img 标签。当我关闭每个 img 标签时，它起作用了:)

```
<table> 
   <tr>
      <td valign="top">                       
         <img src="./images/facebook.jpg" name="facebook" border=0 width=40 height=40 />
         <img src="./images/twitter.jpg" name="twitter" border=0 width=40 height=40 />
         <img src="./images/linkedin.jpg" name="linkedin" border=0 width=40 height=40 />
         <img src="./images/youtube.jpg" name="youtube" border=0 width=40 height=40 />
      </td>
   </tr>
</table> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T08:09:47.810

不清楚您所说的“不起作用”是什么意思，但可能您的意思是即使您将单元格中的填充设置为零，单元格中的图像下方也有一些空白空间。原因是`img`元素默认对齐到文本基线，正如您在浏览器的开发模式中检查它们所看到的（计算样式显示`vertical-align: baseline`）。一个解决方案是在 CSS 中设置它们的对齐方式：

```
img { vertical-align: top; } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:25:44.620

你已经用[css](/questions/tagged/css "显示标记为“css”的问题")标签标记了这个问题，所以我猜 CSS 对你来说没问题。

您可以尝试以下方法：

```
<td style="vertical-align: top;"> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T07:27:24.740

```
<table> 
  <tr>
    <td style="vertical-align:top">                       
      <img src="./images/facebook.jpg" name="facebook" style="border:0;width:40; height:40">
      <img src="./images/twitter.jpg" name="twitter" style="border:0;width:40; height:40">
      <img src="./images/linkedin.jpg" name="linkedin" style="border:0;width:40; height:40">
      <img src="./images/youtube.jpg" name="youtube" style="border:0;width:40; height:40">
    </td>
  </tr>
</table> 
```

# iphone - 填充 tableView 不更新

> ID：14996653
> 
> 赞同：1
> 
> 时间：2013-02-21T07:21:57.347
> 
> 标签：iphone, ios, xcode, ipad

这是我的问题。我有一个根据数组内容填充的表格视图。到目前为止，一切都很好。该数组用于存储来自服务器的一些地图名称。我有一个刷新按钮，因此当我单击它时，它将使用新的地图名称（`refresh`方法）更新数组。

当我单击刷新按钮时，地图数组被修改。添加或删除某些地图（例如，如果用户删除了地图或创建了新地图）。但是，这种情况并没有反映在屏幕上。

假设我有 5 张地图（名为 1、2、3、4、5）。如果我删除一个（比如说地图 3）并调用刷新，地图数组 ( `mapsModel->mapsNameList`) 将包含 4 个地图，并且该数组的内容是正确的。但是，在 iphone 屏幕上，我会在表格视图中看到 (1,2,4,5,5)。我不知道为什么如果它不在 maps 数组中它不会删除一行。

如果我尝试添加地图（比如说地图 0），我会遇到同样的问题，我会得到 (0,1,2,3,4) 并且数字 5 不存在。

**如果我重新启动应用程序，那么所有地图都会正确显示...**

这是我的代码，如果某些变量名称不清楚，请告诉我！

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    // Return the number of sections.
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    int numberOfRows = [[MapsModel sharedMapsModel] numberOfMapsInSection:((UITabBarController*) self.parentViewController).tabBar.selectedItem.tag];

    // Return the number of rows in the section. THIS FUNCTION WORKS
    return numberOfRows;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    MapsModel* mapsModel = [MapsModel sharedMapsModel];

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];

    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    [[cell textLabel] setText:[[mapsModel->mapsNameList objectAtIndex:((UITabBarController*) self.parentViewController).tabBar.selectedItem.tag] objectAtIndex:indexPath.row]];

    return cell;
}

-(void) refresh {
   [[MapsModel sharedMapsModel] populateMapsNameListWithMapState:MAP_STATE_ALL];

    [self updateView];
}

-(void) updateView {
    //Reorder the maps by alphabetical order
    NSSortDescriptor *sortDescriptor;
    MapsModel* mapsModel = [MapsModel sharedMapsModel];

    sortDescriptor = [[NSSortDescriptor alloc] initWithKey:nil ascending:YES];

    NSArray *sortDescriptors = [NSArray arrayWithObject:sortDescriptor];
    [[mapsModel->mapsNameList objectAtIndex:self.tabBarItem.tag] sortUsingDescriptors:sortDescriptors];

    //Update the table view
    [self.tableView reloadData];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:44:13.790

您确定`[[MapsModel sharedMapsModel] numberOfMapsInSection:`更新后返回正确的值吗？您的表格代码没有问题，看来您应该检查您的`MapsModel`. 可能您的 mapsModel 在`cellForRowAtIndexPath:`和`numberOfRowsInSection:`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:55:11.267

我知道问题所在，我有一个标签栏控制器和三个表格视图。但是，我尝试对所有三个表视图只使用一个视图控制器......每个表视图一个视图控制器解决了我的问题！

# excel - 更改 VBA 宏代码以更改数字第 2 部分

> ID：14996655
> 
> 赞同：0
> 
> 时间：2013-02-21T07:22:00.393
> 
> 标签：excel, vba

在上一个问题之后，我不得不打开一个新问题，我必须减少和增加一个数字，该数字位于下面的链接中

[更改 VBA 宏代码以更改数字](https://stackoverflow.com/questions/14992093/changing-vba-macro-code-to-change-number)

这是我正在尝试使用的代码，我几乎可以使用它，但是在某个地方出了问题。

`Bulkwks.[B5]`是`M20`

`historywks.[a2]`是时候

`historywks.[b2]`是名字

`historywks.[C2]`是`m201001`

```
Sub bulkON_Click()

    Dim trnwkbk As Workbook
    Dim Bulkwks As Worksheet
    Dim Deswkbk As Workbook
    Dim LogNum As Range, LastNum, NewNum, 
    Dim historywks As Worksheet

    Dim nextRow As Long
    Dim lOR As Long
    Dim myIn As String
    Dim myLeft As String
    Dim myMid As Integer, myRight As Integer, i As Integer
    Dim myOut As String

    Set trnwkbk = Workbooks("Transport.xls")
    Set Bulkwks = trnwkbk.Worksheets("Bulk")

    lOR = MsgBox("Have you selected the right MIS or HUB or PSA number?", vbQuestion + vbYesNo, "Number Order")
    If lOR = vbNo Then
    MsgBox "Please select right Order Number"
    Else
    Application.ScreenUpdating = False
    ' for testing i just made it post in test sheet in same workbook 
    'Set Deswkbk = Workbooks.Open("\\dunton01\Inspections\TRANSPORT\New_transport\data\Febuary_2013.xls")
    'Set historywks = Deswkbk.Worksheets("Data")
    Set historywks = Worksheets("test")

    Set LogNum = historywks.[C2]

    With historywks
          nextRow = .Cells(.Rows.Count, "A").End(xlUp).Offset(1, 0).Row
    End With

    If LogNum(2, 1) = "" Then
        LastNum = LogNum
    Else
        LastNum = LogNum(LogNum.End(xlDown).Row - 1, 1)
    End If

    NewNum = Bulkwks.[B5] & Val(Mid(LastNum, 2)) + 1

    If LogNum(2, 1) = "" Then
       LogNum(2, 1) = NewNum

    Else

    myIn = LogNum
    myLeft = Left(myIn, 1)
    myMid = CInt(Mid(myIn, 2, 2))
    myRight = CInt(Right(myIn, 4))
    myOut = myLeft & Format(myMid, "00") & Format(myRight, "0000")
    i = 0

    Debug.Print "IN:        " & myIn
    Debug.Print "BROKEN UP: " & myOut

    Do Until myMid = -1
        Debug.Print "ITERATION " & Format(i, "00") & ": " & myLeft & Format(myMid, "00") & Format(myRight, "0000")

        myMid = myMid - 1
        myRight = myRight + 1
        myOut = myLeft & Format(myMid, "00") & Format(myRight, "0000")
        i = i + 1

     With historywks
          'enter date and time stamp in record
          With .Cells(nextRow, "A")
              .Value = Now
              .NumberFormat = "mm/dd/yyyy hh:mm:ss"
            End With

          'enter user name in column B
          .Cells(nextRow, "B").Value = Application.UserName
          .Cells(nextRow, "C").Value = myIn
   End With ' for testing i just disabled this Deswkbk.save
    Loop
    ' for testing i just disabled this 
    'Deswkbk.Close savechanges:=True
    Application.ScreenUpdating = True

    Bulkwks.[E3] = NewNum

    End If

    ' for testing i just disabled this  
    'Call File_In_Network_Folder

   End If
  End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:26:42.847

您需要使用该`myOut`变量。

```
.Cells(nextRow, "C").Value = myOut 
```

# windows-phone-7.1 - 使用 TCP 套接字客户端的 WP 应用程序无法连接到套接字服务器

> ID：14996657
> 
> 赞同：0
> 
> 时间：2013-02-21T07:22:12.000
> 
> 标签：windows-phone-7.1, windows-phone-8

我正在测试一个 TCP 套接字客户端应用程序与 WiFi 环境中的 Socket-Server 通信。

1.) 我正在使用 VS2005 为 Socket-Server (Netframework v2.0) 创建控制台应用程序

1.1) : 在 PC 中使用 IPAddress 启动控制台应用程序：192.168.1.100 和端口号 3456

1.  使用 Windows phone 作为 Client 连接 Socket-server 。

2.0 ) 在手机中设置 wifi 连接。

2.1) 启动App连接Wifi中的服务器

连接服务器的客户端代码（无编译错误）

```
//-- 从 :creating a TCP Socket 客户端中获取想法

http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202858(v=vs.105).aspx

            // 创建端点

            var ipAddress = IPAddress.Parse(hostName);
            var endpoint = new IPEndPoint(ipAddress, portNumber); // ( 192.168.1.100 , 3456)

            // 使用 InterNetwork Address Family 创建一个基于流的 TCP 套接字。
            _socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);       

            SocketAsyncEventArgs socketEventArg = new SocketAsyncEventArgs();            
            socketEventArg.RemoteEndPoint = 端点；

           ......在这里做任务

```

1.  结果显示：未连接或连接重置

一个。Socket 可以以这种方式为 windows phone 工作吗？有什么我想念的吗？

但是，它可以在 WP 模拟器中运行。

湾。WP 的 Netframework v4 中的套接字版本与 WinForm 的套接字版本 2.0 或 VS25/VS2008 中的 Netframework v3.5 中的控制台应用程序之间的通信有任何问题吗？

感谢你的帮助。

# u-boot - 调试uboot

> ID：14996662
> 
> 赞同：0
> 
> 时间：2013-02-21T07:22:50.517
> 
> 标签：u-boot

在调试 uboot 时，步骤顺序不连续。当我在 gdb 提示符下执行 next(n) 时，它会转到其他一些意想不到的行。我正在目标上进行 NFS 挂载并进行调试。请说清楚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-07T12:48:31.563

发生这种情况是因为通常 GCC 生成的 U-Boot 二进制文件已针对大小进行了优化（以消耗更少的存储空间）。您可以在不优化的情况下构建 U-Boot 二进制文件，以便于调试。查看 U-Boot 的 Makefile 并删除任何优化标志。可以在[此处](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)找到有关优化标志的信息。

步进调试也不能很好地与宏和内联函数一起工作，因为代码实际上并没有放在定义它们的地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-21T03:04:23.640

@microMolvi的回答是对的，你可以`vim Makefile`在uboot源码的顶层目录，找到`CFLAGS`replace `-O2`(不是0) by `-O0`，然后一步一步就可以了。

顺便说一句，也许在 GDB 中使用 s(step) 会更好。

# java - GSON Joda 时间序列化器是否有标准实现？

> ID：14996663
> 
> 赞同：38
> 
> 时间：2013-02-21T07:22:50.597
> 
> 标签：java, gson, jodatime

我正在使用 GSON 将一些对象图序列化为 JSON。这些对象图使用[Joda Time](http://www.joda.org/joda-time/)实体（`DateTime`等`LocalTime`）。

“gson joda”在谷歌上的热门搜索是这个页面：

*   [https://sites.google.com/site/gson/gson-type-adapters-for-common-classes](https://sites.google.com/site/gson/gson-type-adapters-for-common-classes)

它为`org.joda.time.DateTime`. 此链接也是[GSON 用户指南](https://sites.google.com/site/gson/gson-user-guide)中引用的内容。

我希望找到一个包含 joda-time 序列化程序的预卷库，我可以将其作为 Maven 依赖项引用 - 但我找不到。

有吗？还是我被迫在自己的项目中复制该片段？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2014-03-21T09:02:14.570

我决定推出自己的开源软件——你可以在这里找到它：

> [https://github.com/gkopff/gson-jodatime-serialisers](https://github.com/gkopff/gson-jodatime-serialisers)

这是 Maven 详细信息（查看中心以获取最新版本）：

```
<dependency>
  <groupId>com.fatboyindustrial.gson-jodatime-serialisers</groupId>
  <artifactId>gson-jodatime-serialisers</artifactId>
  <version>1.6.0</version>
</dependency> 
```

下面是一个关于如何驾驶它的简单示例：

```
Gson gson = Converters.registerDateTime(new GsonBuilder()).create();
SomeContainerObject original = new SomeContainerObject(new DateTime());

String json = gson.toJson(original);
SomeContainerObject reconstituted = gson.fromJson(json, SomeContainerObject.class); 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-02-21T10:21:54.927

我在我的项目中使用下一个

```
public final class DateTimeDeserializer implements JsonDeserializer<DateTime>, JsonSerializer<DateTime>
{
   static final org.joda.time.format.DateTimeFormatter DATE_TIME_FORMATTER =
      ISODateTimeFormat.dateTime().withZone(DateTimeZone.UTC);

   @Override
   public DateTime deserialize(final JsonElement je, final Type type,
                           final JsonDeserializationContext jdc) throws JsonParseException
   {
      return je.getAsString().length() == 0 ? null : DATE_TIME_FORMATTER.parseDateTime(dateAsString);
   }

   @Override
   public JsonElement serialize(final DateTime src, final Type typeOfSrc,
                                final JsonSerializationContext context)
   {
      return new JsonPrimitive(src == null ? StringUtils.EMPTY :DATE_TIME_FORMATTER.print(src)); 
   }
} 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2017-09-12T17:28:54.287

我使用上面的答案做了一个小助手，它将处理包含 DateTime 变量的模型对象的序列化和反序列化。

```
 public static Gson gsonDateTime() {
    Gson gson = new GsonBuilder()
            .registerTypeAdapter(DateTime.class, new JsonSerializer<DateTime>() {
                @Override
                public JsonElement serialize(DateTime json, Type typeOfSrc, JsonSerializationContext context) {
                    return new JsonPrimitive(ISODateTimeFormat.dateTime().print(json));
                }
            })
            .registerTypeAdapter(DateTime.class, new JsonDeserializer<DateTime>() {
                @Override
                public DateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {
                    DateTime dt = ISODateTimeFormat.dateTime().parseDateTime(json.getAsString());
                    return dt;
                }
            })
            .create();
    return gson;
} 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2016-02-22T16:03:35.343

向 GSON 注册一个 TypeAdapter 以包装 Joda 预配置格式化程序的使用，请参阅[http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html](http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html)

```
import java.lang.reflect.Type;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.JsonElement;
import com.google.gson.JsonPrimitive;
import com.google.gson.JsonSerializationContext;
import com.google.gson.JsonSerializer;
import java.lang.reflect.Type;
import org.joda.time.DateTime;
import org.joda.time.format.ISODateTimeFormat;

public class JodaDateTimeWithGson {

    public static void main(String[] args) {
        Gson gson = new GsonBuilder()
            .registerTypeAdapter(DateTime.class, new JsonSerializer<DateTime>(){
                @Override
                public JsonElement serialize(DateTime json, Type typeOfSrc, JsonSerializationContext context) {
                    return new JsonPrimitive(ISODateTimeFormat.dateTime().print(json));
                }
            })
            .create()
            ;

        // Outputs ["20160222T15:58:33.218Z",42,"String"]
        System.out.println(gson.toJson(new Object[] {DateTime.now(), 42, "String"}));
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T09:13:52.160

在我看来，您没有这种类型的库可用是很正常的。

乍一看可能看起来很简单，但风险在于您最终会产生很多依赖项（一些在编译时，一些在运行时），并且要确保不创建不需要的依赖项并不容易。

对于您的情况，这应该没问题，因为我认为这只是一个运行时依赖项（如果不使用 JODA，那么使用 serializerLib 的项目应该不需要 JODA lib）。但对于其他一些情况，这可能会变得丑陋。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-21T09:16:02.707

复制那个片段，很多人使用不同的日期字符串格式，从而混淆了任何库的创建。

# mysql - 当没有插入发生时，PDO::execute 如何返回 true？

> ID：14996668
> 
> 赞同：1
> 
> 时间：2013-02-21T07:23:14.107
> 
> 标签：mysql, pdo

我正在使用 PDO::prepare() 来准备 INSERT 语句。PDO::execute() 返回 true，$dbh->lastInsertId() 总是有下一个 id，但实际上没有插入任何行！

这可能是什么原因造成的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:25:40.737

如果`$dbh->lastInsertId()`从该插入返回 id（即没有触发其他插入），则该行显然已插入。**仔细检查**你的桌子。我是认真的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:25:47.380

我要在这里暗中刺伤，打赌你后来没有逃跑`$dbh->commit()`。如果没有提交，一旦脚本结束或连接关闭，它将回滚更改。

另请参阅：[事务和自动提交](http://php.net/manual/en/pdo.transactions.php)

# c# - REST 服务认证

> ID：14996673
> 
> 赞同：19
> 
> 时间：2013-02-21T07:23:23.667
> 
> 标签：c#, asp.net-web-api

为 REST API 实施身份验证的最佳实践是什么？

使用 BASIC auth + SSL 或类似[https://datatracker.ietf.org/doc/html/draft-hammer-http-token-auth-01](https://datatracker.ietf.org/doc/html/draft-hammer-http-token-auth-01)的东西？

是否有可用的现有解决方案（用于 .NET / WebApi）？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-02-21T13:42:11.353

对此的答案取决于您的 Web API 的受众以及您想要准确验证的内容。

*   您想对使用您的 Api 的客户端应用程序进行身份验证吗？
*   您想从您的应用程序中对用户进行身份验证以在客户端应用程序中检索他们的数据（使用您的 Api）吗？
*   或者您是否要同时验证客户端应用程序和使用客户端应用程序的用户。

*根据您要验证的内容，您有多种选择。但请始终牢记，最好采用可靠的解决方案，其中有许多客户端库可用，而不是重新发明您自己的库。永远不要做这件事，但以你自己的方式，选择一种身份验证方式，坚持下去，不要破坏客户端库。*

**基本身份验证：**很容易实现，但是您使用它来验证客户端应用程序，而不是用户。当需要业务信任关系并且身份验证和安全不是您最关心的问题时，这种身份验证很好。但是没有办法在您的 API 中跟踪对某个用户的调用，而只是一个客户端应用程序。当然，您可以将用户的用户名和密码保存在客户端应用程序中，但这种做法不止一种方式是不好的做法。

**基于令牌的身份验证：**它们有多种令牌身份验证方式，但我在这里谈论的是用户的单个令牌，用户将其复制到客户端应用程序以访问您的 Api。通过这种方式，您可以验证用户（谁在我的 Api 中进行了此调用？）而且它相当容易制作和使用。撤回是因为它不是最安全的方式，需要用户交互，并且用户可能在多个应用程序中使用他的 Api 令牌。您可以使用基本身份验证扩展这种身份验证方式来对客户端进行身份验证。所以一个clientid + clientsecret + token 来识别用户。但我认为如果你想实现这一点，最好看看 Oauth2。

**OAuth2：**如果您想完全访问您的身份验证，您可以采用这种方式。这可能是最面向未来的方式，但也需要最多的工作（至少在身份提供者/资源提供者方面。客户端应用程序很容易使用大量可用的客户端库来实现这一点。如果你选择这种身份验证方式（也基于令牌）您可以对客户端和用户进行身份验证，而无需共享您的用户用户名和密码。

**我的建议：**如果这适合您的情况，将使用基本身份验证，这很容易并且与 HTTPS 一起相当安全。如果它不适合，我会选择 Oauth2，因为它是最可靠和最常用的标准（[Instagram](http://instagram.com/developer/authentication/) / [Google](https://developers.google.com/accounts/docs/OAuth2) / [Facebook](https://developers.facebook.com/docs/concepts/login/)），给你很多自由，并且随着[生态系统](http://oauth.net/2/)的发展变得越来越容易实施。毕竟对于实现你的 API 的人来说，学习一些东西会更有趣`Oauth 2.0`，然后学习`jgauffin`做事的方式。

**参考：**我也想邀请你看看 Apigee 的网站。Api 是他们的业务，他们有很多有趣的读物。其中之一是免费的电子书 - [Oauth 大图](http://info.apigee.com/Portals/62317/docs/oauth_big_picture.pdf)，其中还有一段有趣的段落，他们询问您是否真的需要 Oauth。（从第 16 页开始 - OAuth 是 API 安全所需要的全部吗？）

> **对于服务器到服务器的**API——设计为仅由少数服务器使用的 API——OAuth 是多余的。为每个应用程序拥有一组单独的身份验证凭据是 OAuth 的一个很好的功能，但是对于服务器到服务器的使用，需要使用浏览器安全登录，或者在 OAuth “舞蹈”中实现其他步骤，进入道路。相反，使用简单的安全标准（如 HTTP Basic 身份验证）并为每个应用程序分配唯一密码就足够了。双向 SSL 是另一种很好的方法，虽然很麻烦，但具有更强、更可追溯的身份验证的优势。但是，请三思而后行！这些 API 真的只会被服务器永远使用吗？

**现有解决方案：**无论您采用哪种方式，特权最少 - Dominick Baier 和他的 nuget 软件包可以为您提供一个很好的开端。`basic authentication`使用他的[Identitymodel](http://nuget.org/packages/Thinktecture.IdentityModel)实现非常容易。此外，如果您想要一个现成的[身份](http://thinktecture.github.com/Thinktecture.IdentityServer.v2/)服务器为您提供令牌，请查看他的身份服务器，它可以满足您的所有想法。但是，如果您决定去，`Oauth2`我也会看看[DotnetOpenAuth](http://www.dotnetopenauth.net/)，因为它（恕我直言）更具可配置性并且更容易调整到您自己的喜好，但它也需要更多的工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:27:45.633

您应该查看`Security Token Service`或 STS。

查看这些链接以获取更多信息：

[使用 ASP.NET 成员资格提供程序的现成安全令牌服务 (STS)？](https://stackoverflow.com/questions/7834603/off-the-shelf-security-token-service-sts-that-uses-asp-net-membership-provider)

[http://msdn.microsoft.com/en-us/library/ee517259.aspx](http://msdn.microsoft.com/en-us/library/ee517259.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T12:35:33.297

你可以看看这里，IdentityModel 有 Web API 支持：

[http://thinktecture.github.com/Thinktecture.IdentityModel.45/](http://thinktecture.github.com/Thinktecture.IdentityModel.45/)

# twitter-bootstrap - 单击引导下拉菜单链接不会触发 html 请求

> ID：14996675
> 
> 赞同：1
> 
> 时间：2013-02-21T07:23:42.700
> 
> 标签：twitter-bootstrap

所以，我有通常的引导下拉菜单

```
<div class="btn-group dropdown">
  <button class="btn">25</button>
  <button class="btn dropdown-toggle" data-toggle="dropdown">
    <span class="caret"></span>
  </button>
  <ul aria-labelledby="dropdownMenu" class="dropdown-menu" role="menu">
    <li><a href="/dashboard/alerts_paginate/5">5</a></li>
    <li><a href="/dashboard/alerts_paginate/15">15</a></li>
    <li><a href="/dashboard/alerts_paginate/25">25</a></li>
    <li><a href="/dashboard/alerts_paginate/50">50</a></li>
  </ul>
</div> 
```

我希望它在单击链接时触发对我的 Rails 应用程序的 HTML 请求。现在它只是在单击时隐藏下拉菜单。我做错了什么还是这是标准行为？

# wordpress - 如何使博客页面仅显示某些帖子

> ID：14996676
> 
> 赞同：0
> 
> 时间：2013-02-21T07:23:45.243
> 
> 标签：wordpress

我在 Wordpress 中有一个页面，它是一个博客页面模板。现在我的问题是它显示所有帖子。我只希望它显示分配给某个类别的帖子

我怎么做？

这是我的 blog.php 页面：我猜你必须在这里编辑它，对吧？

```
<?php
/*
Template Name: Blog page
*/
?>
<?php get_header(); ?>

<div class="blog">

<?php 
$gogo_select_blog_sidebar_position = get_post_meta($post->ID, 'gogo_select_blog_sidebar_position', true);
$gogo_blog_link_text = get_post_meta($post->ID, 'gogo_blog_link_text', true);
$gogo_blog_link_url = get_post_meta($post->ID, 'gogo_blog_link_url', true);
$gogo_blog_text_no_posts = get_post_meta($post->ID, 'gogo_blog_text_no_posts', true);
?>

<header class="box-headline">
    <h4 class="main-headline"><?php the_title(); ?></h4>
</header>

<?php if($gogo_select_blog_sidebar_position=='right-sidebar-blog-template') { ?>
<!--Left content area-->
<div class="blog-holder">
<?php } else { ?>
<div class="blog-holder right">
<?php } ?>

<?php 
$temp = $wp_query;
$wp_query= null;
$wp_query = new WP_Query();
$wp_query->query('posts_per_page='.$gogo_blog_text_no_posts.'&paged='.$paged); 
$postcount = 0;
while ($wp_query->have_posts()) : $wp_query->the_post(); $postcount++;
?>

<!--Begin post content-->
<?php
    // The following determines what the post format is and shows the correct file accordingly
    $format = get_post_format();
    get_template_part( '/lib/includes/post-formats/'.$format );

    if($format == '')
    get_template_part( '/lib/includes/post-formats/standard' );
?>
<?php if($postcount % 2 == 0) echo "<div class='clearfix'></div>"; ?> 
<!--End post content-->
<?php endwhile; ?> 
<!--Pagination -->
<?php if (function_exists("pagination")) {pagination();} ?>
<!--End pagination -->
<?php $wp_query = null; $wp_query = $temp;?>
</div>
<!--End left content area-->

<?php if($gogo_select_blog_sidebar_position=='right-sidebar-blog-template') { ?>
<!-- Right content -->
<aside class="sidebar right">
<?php } else { ?>
<aside class="sidebar left">
<?php } ?>
<?php get_sidebar('blog'); ?>
</aside>
<!-- End Right content -->
</div><!-- End .block -->
<?php get_footer();?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:28:52.550

将您的类别添加到 WP_Query 字符串：

```
$wp_query->query('posts_per_page='.$gogo_blog_text_no_posts.'&paged='.$paged . '&category_name=***yourcategory***'); 
```

# iphone - 纯c语言的iphone应用

> ID：14996677
> 
> 赞同：2
> 
> 时间：2013-02-21T07:23:50.727
> 
> 标签：iphone, ios, objective-c-blocks

我想知道我们是否可以在 Xcode 中使用纯 c 语言为 ios 6 开发一个 iphone 应用程序。

或者是否有任何从 c 到目标 c 的交叉编译器。

请给我建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:27:10.060

GCC 可以编译 Objective-C 代码。看[这里](http://gcc.gnu.org/)

Objective-C 是 C 的扩展。如果您需要从 C 编译到 Objective-C，请查看标准[llvm 编译器](http://llvm.org/)并使用`msg_send`而不是块

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:32:20.687

重新发明轮子！！！

是的，您可以用纯 C 语言开发 iphone 应用程序，但是提供给您的所有大型 API 集会如何节省数百小时的编码、测试和性能测试？

检查[这里](https://stackoverflow.com/questions/10289890/how-to-write-ios-app-purely-in-c)和[这里](https://softwareengineering.stackexchange.com/questions/136174/going-further-with-c-for-ios-development)。

很少有应用程序可以用作[钛](http://www.appcelerator.com/platform/titanium-sdk/)。

# android - 如何在列表视图中显示预填充数据库中的多个列？

> ID：14996683
> 
> 赞同：1
> 
> 时间：2013-02-21T07:24:09.487
> 
> 标签：android, listview, android-sqlite

这是我使用预填充数据库的主要活动。我正在尝试在列表视图中显示行。我的数据库中有五列我想显示除 id 之外的所有列。

```
public class MainActivity extends Activity implements OnClickListener{

private IngHelper dbIngHelper = null;
private Cursor curname=null;
private SimpleCursorAdapter adapter = null;

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    ListView myList; 
    myList = (ListView)findViewById(R.id.listView1);

    dbIngHelper = new IngHelper(this);
    dbIngHelper.createDB();
    dbIngHelper.openDB();

    fillData();
}

public void fillData(){

    //ListView myList; 
    ListView myList; 
    myList = (ListView)findViewById(R.id.listView1);
    curname=dbIngHelper.getCursor();
    startManagingCursor(curname);
    String[] columns = new String[] {
            IngHelper.COLUMN_ID,
            IngHelper.COLUMN_NAME,
            IngHelper.COLUMN_NATURE,
            IngHelper.COLUMN_SECTION,
            IngHelper.COLUMN_PENALTY
      };

    int[] to = new int[] { 
            R.id.id,
            R.id.name,
            R.id.nature,
            R.id.penalty,
            R.id.section
          };

    adapter = new SimpleCursorAdapter(
            this, R.layout.activity_main, 
            curname, 
            columns, 
            to);

    myList.setAdapter(adapter);

myList.setOnItemClickListener(new OnItemClickListener() {
   public void onItemClick(AdapterView<?> listView, View view,int position, long   id) {
   //Get the cursor, positioned to the corresponding row in the result set
   // Cursor cursor = (Cursor) listView.getItemAtPosition(position);

   }
});
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

class IngAdapter extends CursorAdapter{
    @SuppressWarnings("deprecation")
    IngAdapter(Cursor c){
        super(MainActivity.this,c);
    }

    @Override
    public void bindView(View row, Context ctxt, Cursor c) {
        // TODO Auto-generated method stub

        IngHolder holder=(IngHolder)row.getTag();
        holder.populateFrom(c,dbIngHelper);

    }

    @Override
    public View newView(Context cxtx, Cursor c, ViewGroup parent) {
        // TODO Auto-generated method stub
        LayoutInflater inf = getLayoutInflater();
        View row=inf.inflate(R.layout.row, parent, false);
        IngHolder holder = new IngHolder(row);
        row.setTag(holder);
        return(row);
    }

}

static class IngHolder{
    private TextView name=null;
   //   private TextView nature=null;
    //private TextView section=null;
    //private TextView penalty=null;

    IngHolder(View row){

        name=(TextView)row.findViewById(R.id.name);

    }

    void populateFrom(Cursor c,IngHelper r){

        name.setText(r.getName(c));

    }

}

@Override
public void onClick(View arg0) {
    // TODO Auto-generated method stub

}
} 
```

这是数据库类 IngHelper.java

```
 public class IngHelper extends SQLiteOpenHelper{

private static final String DATABASE_PATH =        "//data//data//com.example.db//databases//";
private static final String DATABASE_NAME = "traffic.sqlite";
private static final int SCHEMA_VERSION = 1;
public static final String TABLE_NAME="mumbai";
public static final String COLUMN_ID="_id";
public static final String COLUMN_NAME="name";
public static final String COLUMN_NATURE="nature";
public static final String COLUMN_SECTION="section";
public static final String COLUMN_PENALTY="penalty";

public SQLiteDatabase dbSqlite;

private final Context myCnt;

public IngHelper (Context context)
{
    super(context, DATABASE_NAME, null, SCHEMA_VERSION);
    this.myCnt=context;
}

@Override
public void onCreate(SQLiteDatabase db) {
    // TODO Auto-generated method stub

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // TODO Auto-generated method stub

}

public void createDB(){

    boolean dbExist = DBExist();

    if(!dbExist){

        this.getReadableDatabase();

        copyDBFromResource();
    }
}

private boolean DBExist(){
    SQLiteDatabase db = null;

    try{
        String dbPath = DATABASE_PATH + DATABASE_NAME;
        db = SQLiteDatabase.openDatabase(dbPath, null,     SQLiteDatabase.OPEN_READWRITE);
        db.setLocale(Locale.getDefault());
        db.setLockingEnabled(true);
        db.setVersion(1);
    }catch(SQLiteException e){
        Log.e("SqlHelper", "db nt found");
        }

    return db != null ? true : false;
}

private void copyDBFromResource(){
    InputStream iS =null;
    OutputStream oS = null;
    String dbFilePath = DATABASE_PATH + DATABASE_NAME;

    try{
         iS = myCnt.getAssets().open(DATABASE_NAME);

         oS = new FileOutputStream(dbFilePath);

         byte[] buffer = new byte[1024];
         int length;
         while((length=iS.read(buffer))>0){
             oS.write(buffer, 0, length);
         }

         oS.flush();
         oS.close();
         iS.close();
    }catch(IOException e){
        throw new Error("Prob copyin db from resource file.");
    }

}

public void openDB()throws SQLException {
    String myPath = DATABASE_PATH + DATABASE_NAME;
    dbSqlite = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);
}

@Override
public synchronized void close() {
    // TODO Auto-generated method stub
    if(dbSqlite != null)
    {
        dbSqlite.close();
    }
    super.close();
}

public Cursor getCursor(){
    SQLiteQueryBuilder qBuilder = new SQLiteQueryBuilder();
    qBuilder.setTables(TABLE_NAME);
    String[] asColmToRetrn = new String[] {COLUMN_ID, COLUMN_NAME, COLUMN_NATURE, COLUMN_SECTION, COLUMN_PENALTY};

    Cursor mCur = qBuilder.query(dbSqlite, asColmToRetrn, null, null, null, null, null);

    if (mCur != null) {
       mCur.moveToFirst();
      }
      return mCur;

     }

public String getName(Cursor c){
    return(c.getString(1));

}

} 
```

有两个xml文件。这是activity_main.xml... 它有一个列表视图。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<ListView
    android:id="@+id/listView1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true" >

</ListView>

</RelativeLayout> 
```

另一个布局是 row.xml 文件。在这里，我为数据库中的每一列创建一个文本视图。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

<TextView
    android:id="@+id/id"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textColor="#000000"
    android:text="TextView" />

<TextView
    android:id="@+id/name"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textColor="#000000"
    android:text="TextView" />

<TextView
    android:id="@+id/nature"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textColor="#000000"
    android:text="TextView" />

<TextView
    android:id="@+id/section"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textColor="#000000"
    android:text="TextView" />

<TextView
    android:id="@+id/penalty"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textColor="#000000"

    android:text="TextView" />

</LinearLayout> 
```

我得到一个空白列表作为输出，每行都有一个列表条目，但看不到数据。请给出一些解决问题的建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:26:34.507

如果要显示所有列值，则必须创建自定义适配器。请参阅[此处](https://stackoverflow.com/questions/8166497/custom-adapter-for-list-view)和[Vogella 教程](http://www.vogella.com/articles/AndroidListView/article.html)。

# php - PHP OSX ODBC + MS SQL

> ID：14996687
> 
> 赞同：1
> 
> 时间：2013-02-21T07:24:26.927
> 
> 标签：php, sql-server, macos

嗨 2 天我尝试在 OS X 10.8.2 服务器下设置 PHP + MSSQL，但还没有成功。

我试过安装 FreeTDS，编译 mssql.so，用 PHP 成功加载它，但是函数 mssql_connect(server,user,pass); 总是返回假。

我还尝试使用标准 ODBC 管理器来配置驱动程序设置，

我的 odbc.ini 看起来像这样：

```
[ODBC]
Trace = 1

[ODBC Data Sources]
MSSQL = MSSQL

[MSSQL]
Driver      = /usr/local/lib/libodbc.2.dylib
Description = MSSQL
username    = su
password    = 1234 
```

但 odbc_connect() 没有成功；

也尝试过少DSN的方法

```
<?php
$connection = odbc_connect( 'DRIVER={MSSQL};SERVER=192.168.1.94\SQLEXPRESS;DATABASE=NMSDb', 'sa', '1234' ) or die('Error')
?> 
```

我可以使用主机 192.168.1.94\SQLEXPRESS、用户 sa 和密码 1234 从 Navicat 成功连接到 SQL

但是如何从 php 中做到这一点？通常我使用 MySQL 没有问题，但 MS SQL 是噩梦

# android - 我正在使用的模拟器的名称？

> ID：14996692
> 
> 赞同：0
> 
> 时间：2013-02-21T07:24:43.547
> 
> 标签：android

我正在用 Android 开发一个项目。我知道每个模拟器都有一些特定的名称，例如 Gameboid、Frodo、Gearoid 等。我怎样才能知道我正在使用的模拟器的名称？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:41:21.343

这应该有效：

模拟器 -avd 系统版本

我建议从[这里](http://developer.android.com/tools/help/emulator.html#KeyMapping)阅读更多内容！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:30:48.047

在 Eclipse 中：

打开`Android Virtual Device Manager`并检查`Platform`您的 AVD（Android 虚拟设备）。

以编程方式：

```
String sdkVersion = android.os.Build.VERSION.SDK; 
```

# codenameone - 在代码名称中的java代码中添加图像

> ID：14996693
> 
> 赞同：4
> 
> 时间：2013-02-21T07:24:46.583
> 
> 标签：codenameone

我是代号一的新手。我必须在具有特定宽度和高度的容器（流布局）中添加图像。

1：代号指南说我们必须在资源文件夹中添加图像。那个资源文件夹在哪里？

2：要创建图像，我正在使用图像类的 createImage(path)。如果我们将图像文件放在资源文件夹中，那么该图像的路径是什么。

3：这里有没有图片文件的类型限制。

请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-03-09T16:48:12.793

当您将要添加的图像放入 src 文件夹时，代码应如下所示：

`Label i = new Label(); Image img = Image.createImage("/imageToAdd.png"); i.setIcon(img);`

您可以将标签更改为您想用来显示图像的任何对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T15:08:19.353

资源文件不是文件夹，SRC 目录根目录中的“.res”文件包含您的主题以及您可能需要的其他图像。这里的价值在于您可以添加多图像（参见[教程](http://www.codenameone.com/how-do-i.html)）以及编写非常便携的代码。

`fetchResourceFile()`您可以通过使用或在非 GUI 构建器应用程序中访问 GUI 构建器中的资源文件`Resources.open`（如 init 方法中所示）。

您还可以将任意 JPG/PNG 文件放在 res 文件旁边的 src 根目录中。虽然 Codename One 没有限制，但设备倾向于很好地支持 PNG/JPG，并且可能无法使用其他格式。

# multithreading - 使用 mkl 编译 r（支持多线程）

> ID：14996697
> 
> 赞同：5
> 
> 时间：2013-02-21T07:24:55.943
> 
> 标签：multithreading, r, compilation, intel-mkl

我根据这些指南编译了 R：

[http://www.r-bloggers.com/compiling-64-bit-r-2-10-1-with-mkl-in-linux/](http://www.r-bloggers.com/compiling-64-bit-r-2-10-1-with-mkl-in-linux/)

[http://cran.r-project.org/doc/manuals/R-admin.html#MKL](http://cran.r-project.org/doc/manuals/R-admin.html#MKL)

但是对于矩阵代数，R 并不使用所有可用的 CPU。

我都试过了：

```
MKL="-L${MKL_LIB_PATH} -lmkl_gf_lp64 -lmkl_gnu_thread \
      -lmkl_core -fopenmp -lpthread" 
```

和

```
MKL="   -L${MKL_LIB_PATH}                               \
-Wl,--start-group                               \
            ${MKL_LIB_PATH}/libmkl_gf_lp64.a        \
            ${MKL_LIB_PATH}/libmkl_gnu_thread.a     \
            ${MKL_LIB_PATH}/libmkl_core.a           \
 -Wl,--end-group                                 \
 -lgomp -lpthread" 
```

选项。

如何强制 R 使用所有可用的 CPU？

如何检查 R 是否使用 MKL？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-19T01:54:12.337

我想添加我的程序来使用 MKL 库编译**R 3.0.1 。**我在核心 i7 英特尔处理器、8G RAM 上使用 Debian 7.0。首先我安装了 MKL 库，在我用这个命令设置了 MKL 相关的环境变量（MKLROOT 和 LD_LIBRARY_PATH）之后：

```
>source /opt/intel/mkl/bin/mklvars.sh intel64 
```

所以我使用以下参数来./configure：

```
>./configure --enable-R-shlib --enable-threads=posix --with-lapack --with-blas="-fopenmp -m64 -I$MKLROOT/include -L$MKLROOT/lib/intel64 -lmkl_gf_lp64 -lmkl_gnu_thread -lmkl_core -lpthread -lm" 
```

并使用 make 和 make install 完成安装。

作为基准，我在没有 MKL 的两个 5000 x 5000 矩阵产品之间做了一个产品，得到：

用户系统已用 57.455 0.104 29.033

并在编译后：

用户系统已用 15.993 0.176 4.333

真正的收获！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-04-15T14:18:27.803

现在所有这一切都变得容易多了——这里有一篇简短的[博客文章](http://dirk.eddelbuettel.com/blog/2018/04/15#018_mkl_for_debian_ubuntu)详细讨论了以下步骤。

但简而言之，您所需要的只是：

```
## get archive key
cd /tmp
wget https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB
apt-key add GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB

## add MKL to apt's repo list
sh -c 'echo deb https://apt.repos.intel.com/mkl all main > /etc/apt/sources.list.d/intel-mkl.list'

## update and install (500+ mb download, 1.9gb installed)    
apt-get update
apt-get install intel-mkl-64bit-2018.2-046 

## make it system default via update alternatives
update-alternatives --install /usr/lib/x86_64-linux-gnu/libblas.so     libblas.so-x86_64-linux-gnu      /opt/intel/mkl/lib/intel64/libmkl_rt.so 50
update-alternatives --install /usr/lib/x86_64-linux-gnu/libblas.so.3   libblas.so.3-x86_64-linux-gnu    /opt/intel/mkl/lib/intel64/libmkl_rt.so 50
update-alternatives --install /usr/lib/x86_64-linux-gnu/liblapack.so   liblapack.so-x86_64-linux-gnu    /opt/intel/mkl/lib/intel64/libmkl_rt.so 50
update-alternatives --install /usr/lib/x86_64-linux-gnu/liblapack.so.3 liblapack.so.3-x86_64-linux-gnu  /opt/intel/mkl/lib/intel64/libmkl_rt.so 50

## tell ldconfig
echo "/opt/intel/lib/intel64"     >  /etc/ld.so.conf.d/mkl.conf
echo "/opt/intel/mkl/lib/intel64" >> /etc/ld.so.conf.d/mkl.conf
ldconfig 
```

就是这样。没有其他的。不重新编译或链接。例如 R 现在显示在`sessionInfo()`：

```
Matrix products: default
BLAS/LAPACK: /opt/intel/compilers_and_libraries_2018.2.199/linux/mkl/lib/intel64_lin/libmkl_rt.so 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T08:36:32.647

（不是一个真正的答案：我不使用 MKL，我使用 OpenBlas 作为[共享 BLAS，如 R-admin 手册中所述](http://cran.r-project.org/doc/manuals/R-admin.html#Shared-BLAS)。）

*   作为快速检查是否使用了优化的 BLAS，我进行了矩阵乘法。即使只使用 1 个内核，优化的 BLAS 也应该比标准的 BLAS R 更快。

*   为了检查正在使用的内核数量，我在`top`矩阵乘法期间查看（或 CPU 使用情况图/监视器）。

*   过去在 CPU 亲和力方面存在问题，因此 BLAS 会启动 $n$ 个线程，但它们都运行在同一个内核上，请参阅[R 中的并行处理受限](https://stackoverflow.com/questions/12924698/parallel-processing-in-r-limited)。
    r-devel (3.0.0-to-be) 具有设置 CPU 亲和性的功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-14T14:21:21.787

此处提供了完整的教程：

[https://software.intel.com/en-us/articles/build-r-301-with-intel-c-compiler-and-intel-mkl-on-linux](https://software.intel.com/en-us/articles/build-r-301-with-intel-c-compiler-and-intel-mkl-on-linux)

或简单地使用：

[http://mran.revolutionanalytics.com/download/](http://mran.revolutionanalytics.com/download/)

# java - 以编程方式更改 Android 中的启动徽标

> ID：14996698
> 
> 赞同：2
> 
> 时间：2013-02-21T07:25:01.043
> 
> 标签：java, android

据我所知，Android 启动过程中有 3 种类型的徽标。
如何从我的应用程序中更改它们？
我尝试更改 bootanimation.zip，但没有成功。

我已经扎根了 Ross&Moor rmd-713 平板电脑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-29T03:09:28.007

Its better to install a bootanimation from your Sdcard opposed to from inside the system directory, so like this.

```
Runtime.getRuntime().exec(new String[]{
    "/system/xbin/su","-c", "cp",
    "/mnt/sdcard/(your folder)/customBootAnimation.zip", 
    "/system/media/bootanimation.zip"}); 
```

change the (your folder) to the folder on the sdcard containing the zip you want to install. Hope this helped.

# symfony - Sonata Admin 与 FOSuser 的集成

> ID：14996699
> 
> 赞同：3
> 
> 时间：2013-02-21T07:25:01.847
> 
> 标签：symfony, symfony-2.1, fosuserbundle, sonata-admin, sonata-user-bundle

我正在`Symfony 2.1`用于一个项目。我`FOSUser Bundle`用于管理用户并为我的应用程序定制它。现在我想`SonataAdmin Bundle`用于管理用途。它适用于普通实体（我可以做通常的 CRUD 事情），但对于用户，我在仪表板中获得用户列表和链接，但是当我关注创建新或单击编辑时，我收到 500 服务器错误说

```
"Class does not exist" 
```

我不想使用`SonataUser Bundle`，因为我在我的 userBundle 上做了很多自定义，我不想松开它们..

任何想法？任何例子？感谢您的帮助:)

相关代码：

在 config.yml 中：

```
services:
    sonata.admin.user:
        class: Acme\AdminBundle\Admin\UserAdmin
        arguments: [null, Acme\GeneralModelBundle\Entity\User, SonataAdminBundle:CRUD]
        calls:
          - [setUserManager, ["@fos_user.user_manager"]]
        tags:
          - {name: sonata.admin , manager_type: orm, group: Users, label: User} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-24T07:16:53.283

终于找到问题了！！在 Sonata Admin 文档中，它有一个我使用的 UserAdmin 示例，在此示例中，它在 configureFormFields 函数中添加了组，该函数在 FOSUser Bundle 中默认未启用。所以当我评论该行时，一切顺利！:))

```
protected function configureFormFields(FormMapper $formMapper)
{
    $formMapper
        ->with('General')
            ->add('username')
            ->add('email')
            ->add('plainPassword', 'text')
        ->end()
      /******************************************************************* 
          ->with('Groups')
          ->add('groups', 'sonata_type_model', array('required' => false))
        ->end() 
       ******************************************************************/
        ->with('Management')
            ->add('roles', 'sonata_security_roles', array( 'multiple' => true))
            ->add('locked', null, array('required' => false))
            ->add('expired', null, array('required' => false))
            ->add('enabled', null, array('required' => false))
            ->add('credentialsExpired', null, array('required' => false))
        ->end()
    ;
} 
```

# php - php 无法在 Windows 7 64 位中加载 CURL

> ID：14996701
> 
> 赞同：1
> 
> 时间：2013-02-21T07:25:13.370
> 
> 标签：php, facebook, apache, curl

因此，我尝试了所有可以在网上找到的解决方案，但似乎没有任何效果。我正在尝试启动我的第一个 Facebook 应用程序。我正在运行 Apache 2.4。我手动将 PHP 5.4.11 安装到 C:\php。我更新了 C:\php\php.ini 将 extension_dir 更改为

```
extension_dir = "c:\php\ext" 
```

并删除前面的分号

```
extension=php_curl.dll 
```

我还在 C:\Windows `libeay32.dll`、`ssleay32.dll`C:\Windows\System32、C:\php、C:\php\ext、C:\Apache24 和 C:\Apache24\bin 中添加了和。所有这些目录都在 PATH 中。当我运行 phpinfo() 时，那里根本没有列出 CURL。在所有更改之后，我已经停止并重新启动了 Apache。没运气。我仍然收到错误

```
Fatal error:
Uncaught exception 'Exception' with message 
'Facebook needs the CURL PHP extension.' in C:\Users\...\sdk\src\base_facebook.php:19 
Stack trace: 
#0 C:\Users\...\sdk\src\facebook.php(18): require_once() 
#1 C:\Users\...\index.php(46): require_once('C:\Users\Jew\Do...') 
#2 {main} thrown in C:\Users\...\sdk\src\base_facebook.php on line 19 
```

**编辑#1：**
另外，我没有使用 WAMP 服务器。

**编辑#2：**
我添加了 mod_ssl`httpd.conf`像这样：LoadModule ssl_module modules/mod_ssl.so

现在`phpinfo()`显示

`SSL: Supported`

和

`OpenSSL support: disabled (install ext/openssl)`

**编辑#3：** 我刚刚在我的 Apache 中发现了以下错误`error.log`。

```
PHP Warning:  PHP Startup: Unable to load dynamic library 'c:\\php\\ext\\php_curl.dll' - %1 is not a valid Win32 application.\r\n in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library 'c:\\php\\ext\\php_openssl.dll' - %1 is not a valid Win32 application.\r\n in Unknown on line 0 
```

**编辑#4：** 我尝试过使用 mod_ssl，但是 apache 日志给出了与加载 curl 相同的错误。我已经把所有的东西都拿出来了。

我还尝试使用 anindya.com/php-5-4-3-and-php-5-3-13-x64-64-bit-for-windows 的`php_curl.dll`5.4.13 版本以及PHP 5.4.11 线程安全版本附带的原始版本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:41:20.040

总而言之（如果我没有错过任何细节）你有这个：

*   PHP 版本 5.4.11，32 位
*   php_curl.dll 版本 5.4.13，64 位

那是行不通的。鉴于您有一台 64 位机器，我建议您也使用 anindya.com 的 PHP 版本，以便 PHP 和 curl 匹配。在此类站点上，您还可以找到 64 位 Apache 版本。

或者，使用所有内容的 32 位版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-31T21:06:38.700

对于 64 位 W7 使用 Apache 安装 32 位 PHP Curl，您可以尝试将 php_curl.dll、libeay32.dll 和 ssleay32.dll 复制到 C:\Windows\SysWOW64。

# c# - 如何导出大型数据集（大约 40k 行和 26 列），以写入 Excel 表

> ID：14996702
> 
> 赞同：3
> 
> 时间：2013-02-21T07:25:20.250
> 
> 标签：c#, excel, dataset

我们有一个非常大的数据集（大约 40k 行）。我想写入excel文件。

我已经尝试逐个单元格地写入excel文件写入数据并且它可以工作。

我面临的问题是，写excel需要很多时间。

有没有有效的方法来做同样的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:32:12.100

无需循环遍历每一行/列，而是将完整数据集分配给内存中的一个数组 - 然后将此数组分配给相同维度的 Range 对象。在 VBA 中，这看起来像：

```
Dim arr as Variant
arr = ... ' Your code to fill the array here
Set Workbook("YourWorkbook").Worksheets("Worksheetname"). _ 
    Range(1,1).Resize(40000, 20).Value = arr 
```

希望你能把它翻译成c#...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:57:16.880

如果你直接写到 excel，Albert 的想法是可行的——但它仍然会很慢。我会使用像 EPPLUS 这样的库将大量数据写入 excel - 它更快、更可靠。

# ios - 如何在 iOS 设备中检查 vpn 是否设置和 vpn 状态

> ID：14996707
> 
> 赞同：1
> 
> 时间：2013-02-21T07:25:38.487
> 
> 标签：ios, vpn

在我的应用项目中，我需要检测 iOS 设备上的 VPN 是否设置，并将 VPN 信息放入日志文件中。这样可以得到更多的信息来解决用户反馈的烦恼。

# r - R vs Pentaho Spoon 作为 ETL 工具

> ID：14996712
> 
> 赞同：6
> 
> 时间：2013-02-21T07:25:47.800
> 
> 标签：r, pentaho

背景（抱歉，太长了）：

我的任务是维护一个 ETL，它收集各种在线广告数据，每天大约 20-30 MB，并将其附加到 MySQL 中的表中。外部承包商用 Pentaho Spoon（厨房、水壶？）建造了 ETL。ETL 由大约 250 个作业和转换 (.ktr,.kjb) 组成，每个都有大约 5 到 25 个步骤。在这个大过程中出现问题是很常见的。我发现编写 R 脚本来进行转换和加载效率更高。事实上，我认为除了使用 RMySQL 调用（即 plyr！）之外，ETL 可以减少到 1000 行以下的代码。也许 Python 将用于从网络中提取数据。

我对 R 的使用导致了一些阻力。设计 ETL 的计算机程序员不懂 R，所以如果我离开，就不能叫，而且很多时间都投入在 Spoon ETL 上。此外，与 R 脚本相比，外行可以更轻松地在 Spoon 中直观地遵循这些步骤。就我而言，我认为我们被 ETL 所困。但是，由于我没有计算机科学背景，因此我对此事没有太大的发言权。

如果您对以下内容有任何见解，请发表评论。请知道我已经研究了几个月并阅读了很多意见，但没有像 SO 通常提供的那样简洁或可靠：

1.  公司的一些人称 R 的可扩展性不高。我认为相反的主要原因是日志记录功能。Spoon 的纯日志输出有限，而所有 R 脚本都可以放入每日日志中。修复和避免 .ktrs 中的错误非常乏味，但通过设置标志和/或搜索 R 日志很容易。对此有什么想法吗？

2.  这就引出了一个大问题。像 Pentaho 这样的 ETL 有什么意义？这篇文章[我需要 ETL 吗？](https://stackoverflow.com/questions/5099974/do-i-need-a-etl?rq=1)，让我相信，如果你使用 R 或其他所谓的 OOL，没有理由拥有像 Pentaho 这样的工具。如果是这样，有人可以确认吗？我在这里真的需要第二个意见。如果是这样，谁使用像 Pentaho 这样的工具？只是没有编程背景的人，还是其他人？我确实看到了很多关于 SO 的 Pentaho 问题。

3.  确实有更多的人使用 R 和 Pentaho，对吧？这个[http://www.kdnuggets.com/2012/05/top-analytics-data-mining-big-data-software.html](http://www.kdnuggets.com/2012/05/top-analytics-data-mining-big-data-software.html)让它看起来如此。老实说，我很惊讶 Pentaho 排在第 5 位，这让我倍加怀疑谁在使用 Pentaho，以及我对它在我的工作环境中的使用的怀疑是否是错误的。

感谢您的任何回复。我并不是要对 Spoon 或 Spoon 用户有任何屈尊俯就；我真的很困惑，需要外界的意见。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T10:16:42.017

R 作为 ETL 工具？那是一个新的，但不管你的船是什么。

不过我想说的是，如果你能得到 250 个工作并将转换减少到 1000 行以下 RI，你会说你的 ETL 写得不好。

除此之外，您还必须考虑可支持性和可扩展性。我认为使用 Spoon 这样的图形工具而不是 R 代码会容易得多。

我个人认为你被误导了，你问的问题写得不好，但那是一个不同的论点。

关于您的观点，PDI 的日志记录非常好，如果您喜欢合并日志，您可以随意记录任何内容，全部记录到一个大型数据库表中。

ETL 不会消失，即使随着对 HDFS 等非结构化数据存储池的喜爱出现，也要考虑在 R 之外进行的数据分析，如果您想要在数据之上进行报告或 OLAP，无论如何它仍然需要转换。

是真的，更多的人使用 R 和 Pentaho 吗？那是个什么样的问题？通过 Pentaho，我假设您的意思是 PDI？这怎么能比得上？数据分析工具 vs ETL 工具，你想统计用户？嗯？另一方面，如果您的意思是整个 R 与 Pentaho，那么我猜不是。您正在查看有关 R 与 Weka 的报告，并使其符合您的 ETL 论点。这不会在一个月的星期天洗。

==EDIT== 好的，你目前有大约 1000 行 R & Python 代码。随着您的老板需求的扩大，随着时间的推移，这会慢慢增长，并且因为您正在努力赶上最后期限，所以新代码的编写与您当前拥有的代码一样干净或有良好的文档记录。所以随着时间的推移，它会增长到 5000 行，加上一些 python 脚本。然后有一天你被公共汽车撞了，一些新人必须进来管理你的代码......他们从哪里开始，他们如何进行更改？

如果需要，几乎任何具有少量数据经验的人都可以对 PDI ETL 进行更改。哪里需要一些具有足够深入的 R 知识才能对您所做的事情进行更改。

ETL 工具被设计为快速且易于使用，它们在与不同系统（例如非数据库或文件）的数据连接方面提供的功能远远超过 R 所能提供的，尽管我想这就是人们求助于 python 的原因等等。也就是说，两者都有空间，我见过的社区中有一个用于 PDI 的 R 插件正在运行。

最重要的是，多年来我已经看到了足够多的 TSQL 到 ETL 迁移，从经验中知道，即使在代码中维护 ETL 在短期内看起来很实用，但从长远来看，它只会带来更多的痛苦。

另一方面，如果您可以将 250 个 PDI 转换编码到 1000 行 R，那么您的 ETL 可能会因您的前任的糟糕设计而变得臃肿。

如果您希望我对您现有的 PDI ETL 结构发表意见，也可以安排。

汤姆

# c# - 两者参数赋值的区别

> ID：14996714
> 
> 赞同：2
> 
> 时间：2013-02-21T07:25:50.527
> 
> 标签：c#, sqlparameter, sql-parametrized-query

其实我有一个疑问，所以请清除它。我有 2 行做同样的工作，见下文

```
1\. cmd.Parameters.AddWithValue("@UserName",objBELUserDetails.UserName);

2\. cmd.Parameters.Add("@UserName",SqlDbType.Nvarchar,50).
                                      Value=objBELUserDetails.UserName; 
```

两条线的工作原理相同。

如果不提供大小，则大小默认为作为参数值的字符串的长度，如果省略类型，则它会查看参数值的类型并使用大 case 语句来映射对象的类型到相关的 Sql 类型。如果您自己提供类型，显然有助于您的代码的性能，这样它就不必解决它。

所以你不认为第二行代码会比第一行花费更多时间并影响代码的性能，因为第一行有特定的类型和大小，这样编译器就不会花时间找出类型和参数的大小。不是吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:33:34.987

> 所以你不认为第二行代码会比第一行花费更多的时间并影响代码的性能，因为第一行有特定的类型和大小，这样编译器就不会花时间找出类型和参数的大小。不是吗？

首先，我认为你在这里的“第一”和“第二”是错误的。这是具有特定类型和大小的*第二个版本。*

其次，*如果*隐式类型与您明确指定的类型相同，则*性能*根本不会受到显着影响。你正在做一个*数据库查询*——你真的认为找到对象的类型和字符串的长度与调用的其余部分相比甚至可以测量，这几乎肯定涉及网络活动？如果类型推断*不正确*，您最终可能会在其他地方导致额外的转换，这是可以避免的。

 ***指定参数的类型和大小还有一个更重要的原因：它使有关参数的信息显式化，然后任何人都可以检查它是否与数据库的期望相匹配。*字符串可以*转换为多种类型- 数字也是如此。通过明确说明类型，您可以消除任何歧义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:30:47.780

`command.Parameters.Add`如果不显式提供 in 中的类型，它将尝试将输入隐式转换为预期的类型。

而且这种隐式转换可能不是最佳的转换，因此可能会导致性能下降。

在这里检查：[Parameters.AddWithValue vs.Parameters.Add](http://forums.asp.net/t/1200255.aspx/1)***

# c++ - QGLWidget：使用 QPainter 进行重绘

> ID：14996717
> 
> 赞同：1
> 
> 时间：2013-02-21T07:26:13.273
> 
> 标签：c++, qt, opengl, qpainter

我想在我的图像查看器上绘制一些叠加层：图像周围的虚线矩形，表示边界框。这是我在`paintEvent`函数中所做的：

```
void ViewerGL::paintEvent(QPaintEvent* event){
    makeCurrent();
    QPainter p(this);
    glClearColor(0.0,0.0,0.0,0.0);
    glClear(GL_COLOR_BUFFER_BIT); // << If I don't do this it clears out my viewer white
// and I want it black

    p.setBackgroundMode(Qt::TransparentMode); // < was a test, doesn't seem to do anything
    p.setBackground(QColor(0,0,0,0));

     //loading the appropriate shader before texture mapping
    if(rgbMode() && _shaderLoaded){
        shaderRGB->bind();
    }else if(!rgbMode() && _shaderLoaded){
        shaderLC->bind();
    }
    paintGL(); // render function (texture mapping)
    //drawing a rect around the texture on the viewer
    QPen pen(Qt::DashLine); 
    pen.setColor(QColor(233,233,233));
    p.setPen(pen);
    QPoint btmRight=mousePosFromOpenGL(dataWindow().w(),dataWindow().h() +transY*2 + ( zoomY-dataWindow().h()/2)*2);
    QPoint btmLeft=mousePosFromOpenGL(0,dataWindow().h() +transY*2 + ( zoomY-dataWindow().h()/2)*2);
    QPoint topLeft=mousePosFromOpenGL(0,0 +transY*2 + ( zoomY-dataWindow().h()/2)*2);
    QPoint topRight=mousePosFromOpenGL(dataWindow().w(), 0+ +transY*2 + ( zoomY-dataWindow().h()/2)*2);
    p.drawLine(topLeft,topRight);
    p.drawLine(topRight,btmRight);
    p.drawLine(btmRight,btmLeft);
    p.drawLine(btmLeft,topLeft);
    QPoint pos = mousePosFromOpenGL( (dataWindow().w()) + 10  ,
                                    (dataWindow().h()) +transY*2 + ( zoomY-dataWindow().h()/2)*2  +10); // bottom right of the texture +10
    p.drawText(pos, _resolutionOverlay);

    p.end();

} 
```

这是我在`paintGL`函数中所做的：

```
 glPushAttrib(GL_ALL_ATTRIB_BITS);
    glMatrixMode(GL_PROJECTION);
    glPushMatrix();
    glMatrixMode(GL_MODELVIEW);
    glPushMatrix();

... my drawing code

    glMatrixMode(GL_MODELVIEW);
    glPopMatrix();

    glMatrixMode(GL_PROJECTION);
    glPopMatrix();

    glPopAttrib(); 
```

和`initializeGL`功能：

```
 initAndCheckGlExtensions();
    glClearColor(0.0,0.0,0.0,0.0);
    glClear(GL_COLOR_BUFFER_BIT);

    glGenTextures (1, texId);
    glGenTextures (1, texBlack);

    glGenBuffersARB(1, &texBuffer);

    shaderBlack=new QGLShaderProgram(context());
    shaderBlack=new QGLShaderProgram(context());
    if(!shaderBlack->addShaderFromSourceCode(QGLShader::Vertex,vertRGB))
        cout << shaderBlack->log().toStdString().c_str() << endl;
    if(!shaderBlack->addShaderFromSourceCode(QGLShader::Fragment,blackFrag))
        cout << shaderBlack->log().toStdString().c_str() << endl;
    if(!shaderBlack->link()){
        cout << shaderBlack->log().toStdString().c_str() << endl;
    } 
```

到目前为止它可以工作，我有我想要的，但是我的程序在退出时用： **'QGLContext::makeCurrent: 无法使无效的上下文成为当前的'来淹没 stderr。** 我知道这是来自 QPainter 而不是来自我程序中的其他东西。

我试图将paintGL函数中的代码移动到另一个不是虚拟但没有改变任何东西的函数。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:06:24.550

您应该首先执行 OpenGL 调用，清除 OpenGL 状态，然后在`QPainter::begin(QGLWidget *)`和之间包装所有 QPainter 绘制调用`QPainter::end(QGLWidget *)`。

您的程序很可能会导致问题，因为您交错了 QPainter 和 OpenGL 绘图调用。当您实例化 QPainter 对象时，`QPainter(QPaintDevice *)`您告诉 QPainter 使用 QGLWidget 的本机绘图工具来执行 QPainter 操作。所以... QPainter 使用 OpenGL 固定函数调用来执行 2D 绘图，当您的状态尚未清除时，它可能会干扰您的 OpenGL 渲染调用。

我建议遵循本指南：

[https://doc.qt.io/archives/qt-4.8/qt-opengl-overpainting-example.html](https://doc.qt.io/archives/qt-4.8/qt-opengl-overpainting-example.html)

# jquery - 在 jquery 代码中无法识别 Codeigniter 会话

> ID：14996719
> 
> 赞同：0
> 
> 时间：2013-02-21T07:26:20.323
> 
> 标签：jquery, codeigniter

我有 CI(PHP) 登录表单，在 3 次登录尝试失败并禁用登录表单后将用户锁定 n 分钟。为了检查锁定时间是否结束，我将尝试时间设置为会话（在模型中）并将当前时间与会话进行比较。在某些 jquery 代码中的登录页面中检查了尝试时间。但在 jquery 脚本中无法识别会话。

CI 模型 (PHP)

```
if($this->lockIP($ip_address)){
    $this->session->set_userdata('lockout',time());
    return true;
} 
```

CI 视图(jQuery)

```
var now = "<?php echo time();?>";
var attempt = "<?php echo $this->session->userdata('lockout');?>";
alert(now - attempt); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:42:01.153

这是由于 config.php 中的 sess_time_to_update 参数。CI 使用它来将会话 ID 更新为新的。如果更改发生在 ajax 调用中，CI 会发送一个新的 cookie 来告诉浏览器新的会话 ID。不幸的是，浏览器似乎忽略了这个 cookie 并保留了旧的会话 ID。

这就是为什么我们设置 $config['sess_time_to_update'] = $config['sess_expiration'];

这是我们为使其发挥作用而采取的一种技巧。

# objective-c - 如何使用 Storyboard 继承 UICollectionViewFlowLayout

> ID：14996728
> 
> 赞同：8
> 
> 时间：2013-02-21T07:26:59.360
> 
> 标签：objective-c, xcode, uistoryboard, uicollectionview, uicollectionviewlayout

我正在使用带有 Storyboard 的 UICollectionView 并尝试将 UICollectionViewFlowLayout 子类化，但它似乎不起作用。

我创建了子类`CollectionViewFlowLayout`：

```
#import "CollectionViewFlowLayout.h"

@implementation CollectionViewFlowLayout

-(id)init
{
    NSLog(@"Init of CollectionViewFlowLayout");

    if (!(self = [super init])) return nil;
    self.itemSize = CGSizeMake(250, 250);
    return self;
}

@end 
```

在 Storyboard 的 Identity Inspector 中，我更改了流布局的类：

![Storyboard 的身份检查器](../Images/d91e2daea4334fd3abac0e95b342c087.png)

但是当我保存/构建/运行时，itemSize 没有设置为 250，并且我的 NSLog 没有被输出。

我已经在[诸如此类的示例中](https://github.com/AshFurrow/UICollectionViewFlowLayoutExample/blob/master/UICollectionViewFlowLayoutExample/AFViewController.m)看到您可以在 collectionView 控制器中设置布局，但我有点假设如果您在情节提要中设置它就没有必要。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-21T07:49:22.820

从情节提要加载的对象使用`initWithCoder:`，而不是`init`. 将您的设置代码移到那里，或者有一个从每个初始化程序调用的通用方法。

# wmi - WMI：“RPC 服务器不可用”错误仅适用于域用户

> ID：14996739
> 
> 赞同：0
> 
> 时间：2013-02-21T07:27:37.767
> 
> 标签：wmi, rpc

我正在尝试从机器 A（不是域的一部分）执行机器 B（域的一部分）上的程序。当我尝试使用属于机器 B 的管理员组的域用户时，我有以下代码并抛出“RPC 服务器不可用”。当我使用本地用户“管理员”时，它也是机器 B 的管理员组的一部分，代码工作正常。

两台机器上的防火墙都被禁用。我可以使用这两个用户从机器 A 登录到机器 B。

你能帮我吗？

```
ConnectionOptions connectionOptions = new ConnectionOptions();
connectionOptions.Authority = "kerberos:" + domain + @"\" + machine;
connectionOptions.Impersonation = ImpersonationLevel.Impersonate;
connectionOptions.Authentication = AuthenticationLevel.PacketPrivacy;
connectionOptions.Username = username;
connectionOptions.Password = password;

ManagementScope scope = new ManagementScope(@"\\" + machine + "." + domain + @"\root\CIMV2", connectionOptions);

ManagementPath p = new ManagementPath("Win32_Process");

ManagementClass classInstance = new ManagementClass(scope, p, null);

ManagementClass startupSettings = new ManagementClass("Win32_ProcessStartup");
startupSettings.Scope = scope;
startupSettings["CreateFlags"] = 16777216; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T13:16:55.693

我可以解决问题。无法访问域控制器。此外，我的机器上配置了公共和私有 IP。私有 IP 是主要的，公共 IP 是次要的。我需要在需要时相应地使用它们。

# apache - 如何在 ftp 任务的构建文件中指定类路径

> ID：14996741
> 
> 赞同：3
> 
> 时间：2013-02-21T07:27:40.093
> 
> 标签：apache, ant, build, ftp

我想直接在我的 Ant Build 脚本中为 fpt 任务指定类路径。我尝试了以下方法：

```
<target name="ftp-upload" depends="build-html">     
   <echo message="Ftp upload started with user ${user}" />
<ftp verbose="yes" 
            remotedir="${ftp.dir}" 
    server="${server}"
            userid="${user}" 
    password="${password}" 
    depends="yes">
      <fileset dir="${mystuff.dir}/.." />
     <classpath refid="build.classpath" />
</ftp>
</target> 
```

和

```
<target name="ftp-upload" depends="build-html">     
 <echo message="Ftp upload started with user ${user}" />
<ftp verbose="yes" 
            remotedir="${ftp.dir}" 
    server="${server}"
            userid="${user}" 
    password="${password}" 
    depends="yes"
            classpathref="build.classpath"
     >
      <fileset dir="${mystuff.dir}/.." />
</ftp>
</target> 
```

第一种方法给了我以下错误信息：

```
Could not create type ftp due to java.lang.NoClassDefFoundError:      org/apache/commons/net/ftp/FTPClientConfig 
```

第二种方法给了我以下错误信息：

```
ftp doesn't support the "classpathref" attribute 
```

是否可以在构建脚本中为 ftp 任务设置类路径，还是必须在服务器上的构建脚本之外进行设置？让构建脚本自包含会很好。

**解决方案：**

只需使用您的类路径引用重新定义 ftp 任务：

```
<taskdef name="ftp" classname="org.apache.tools.ant.taskdefs.optional.net.FTP">
 <classpath>
    <pathelement location="\lib\commons-net-1.4.0.jar"/>
 </classpath>
</taskdef> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:17:25.273

您是否尝试过[如何在没有 -lib 或全局安装的情况下将可选任务加载到 ant 中评论的解决方案？](https://stackoverflow.com/questions/472559/how-to-load-an-optional-task-into-ant-without-lib-or-global-installation)?

前段时间我遇到了类似的问题，我通过添加一个新的类加载器解决了它。

问候

# java - 数据 URI - 如何在 Java 中创建它们？

> ID：14996746
> 
> 赞同：18
> 
> 时间：2013-02-21T07:28:01.240
> 
> 标签：java, image, data-uri

我刚刚被告知使用数据 URI 发送图像的缩略图。我一直在搜索它，但我发现它基本上是文件的文本表示，可以直接在 HTML 中使用。我真的找不到如何在 Java 中创建数据 URI。我有一个文件的输入流。有人可以解释一下并指出一种生成方法吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-21T07:33:09.370

图像的 EG：

```
ByteArrayOutputStream baos = new ByteArrayOutputStream();
try {
    ImageIO.write(image, "png", baos);
} catch (IOException e) {
    e.printStackTrace();
}
String imageString = "data:image/png;base64," +
    Base64.getEncoder().encodeToString(bytes); 
```

**例子**

运行下面的代码。如果 FF 是默认浏览器，您可能会看到如下内容：

![FF 中的数据 URI 图像](../Images/ba9bf25b74c4fa043e4aaf4339850ad4.png)

```
import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.*;
import javax.imageio.ImageIO;
import java.util.Base64;

public class DataUriConverter {

    static String getImageAsString(BufferedImage image) throws Exception {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        // serialize the image
        ImageIO.write(image, "png", baos);
        // convert the written image to a byte[]
        byte[] bytes = baos.toByteArray();
        System.out.println("bytes.length " + bytes.length);
        // THIS IS IT! Change the bytes to Base 64 Binary
        String data = Base64.getEncoder().encodeToString(bytes);
        // add the 'data URI prefix' before returning the image as string
        return "data:image/png;base64," + data;
    }

    static BufferedImage getImage() {
        int sz = 500;
        BufferedImage image = new BufferedImage(
                sz, sz, BufferedImage.TYPE_INT_ARGB);

        // paint the image..
        Graphics2D g = image.createGraphics();
        g.setRenderingHint(
                RenderingHints.KEY_ANTIALIASING,
                RenderingHints.VALUE_ANTIALIAS_ON);
        g.setColor(new Color(0,0,255,63));
        g.setStroke(new BasicStroke(1.5f));
        for (int ii = 0; ii < sz; ii += 5) {
            g.drawOval(ii, ii, sz - ii, sz - ii);
        }
        g.dispose();

        return image;
    }

    public static void main(String[] args) throws Exception {
        String imageString = getImageAsString(getImage());
        String htmlFrag = "<html><body><img src='%1s'></body></html>";
        String html = String.format(htmlFrag, imageString);

        // write the HTML
        File f = new File("image.html");
        FileWriter fw = new FileWriter(f);
        fw.write(html);
        fw.flush();
        fw.close();

        // display the HTML
        Desktop.getDesktop().open(f);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-11-22T05:40:51.467

这是我的例子。

```
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;

import javax.xml.bind.DatatypeConverter;

public class ToDataURI {

    public static void main(String[] args) throws IOException {

        // source file
        File file = new File("movie.mp4");

        // check content type of the file
        String contentType = Files.probeContentType(file.toPath());

        // read data as byte[]
        byte[] data = Files.readAllBytes(file.toPath());

        // convert byte[] to base64(java7)
        String base64str = DatatypeConverter.printBase64Binary(data);

        // convert byte[] to base64(java8)
        // String base64str = Base64.getEncoder().encodeToString(data);

        // cretate "data URI"
        StringBuilder sb = new StringBuilder();
        sb.append("data:");
        sb.append(contentType);
        sb.append(";base64,");
        sb.append(base64str);

        System.out.println(sb.toString());

    }
} 
```

加工流程

1.  检查文件内容类型
2.  将文件数据读入 byte[]
3.  将 byte[] 数据转换为 base64
4.  创建“数据URI”格式

你可以得到喜欢

```
data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21p.... 
```

# playframework-2.1 - Play 2.1 - WS API - 缺少类型参数编译错误 - WS.url(...).get().map { r => ... }

> ID：14996754
> 
> 赞同：1
> 
> 时间：2013-02-21T07:28:13.783
> 
> 标签：playframework-2.1

当我尝试编译（几乎）直接来自[Play 2.1 Docs](http://www.playframework.com/documentation/2.1.0/ScalaWS)`missing parameter type`的代码时，给出了错误`response`

```
def feedTitle(feedUrl: String) = Action {
  Async {
    WS.url(feedUrl).get().map { response =>
      Ok("test")
    }
  }
} 
```

所以我给它一个这样的类型，`{response: WS.Response => ...}`但后来我得到了这个错误：

```
type mismatch;
found : play.libs.WS.Response => play.api.mvc.SimpleResult[String]
required: play.libs.F.Function[play.libs.WS.Response,?] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T11:19:55.477

我认为你的进口是错误的。它应该`play.api.libs.ws.WS`代替`play.libs.WS.Response`.

见[http://www.playframework.com/documentation/api/2.1.0/scala/index.html#play.api.libs.ws.Response](http://www.playframework.com/documentation/api/2.1.0/scala/index.html#play.api.libs.ws.Response)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T01:34:06.967

我的问题是我导入`play.libs.WS`而不是`play.api.libs.ws.WS`（注意*api*包）。我还必须导入`scala.concurrent.ExecutionContext.Implicits.global`，但错误消息告诉我这样做，所以这很简单。

# python - 将字符串在 64 个字符后换行

> ID：14996756
> 
> 赞同：3
> 
> 时间：2013-02-21T07:28:21.697
> 
> 标签：python, string

我想在每 20 个字符后加上 \n ....

```
My_string = "aaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbccccccccccccccccccccddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeffffffffffffffffffff" 
```

我试过这个：`a = "\n".join(re.findall("(?s).{,20}", My_string))[0:-1]`

每当我打印时：

```
print '''
              ---------------------------------------------------------------
               Value of a is 
            %s
              ---------------------------------------------------------------
        ''' % a 
```

输出：

```
 ---------------------------------------------------------------
                          Value of a is
                          aaaaaaaaaaaaaaaaaaab
bbbbbbbbbbbbbbbbbbbc
cccccccccccccccccccd
ddddddddddddddddddde
eeeeeeeeeeeeeeeeeeef
fffffffffffffffffff
                          --------------------------------------------------------------- 
```

我想要像这样的输出：

```
 ---------------------------------------------------------------
           Value of a is 
           aaaaaaaaaaaaaaaaaaab
           bbbbbbbbbbbbbbbbbbbc
           cccccccccccccccccccd
           ddddddddddddddddddde
           eeeeeeeeeeeeeeeeeeef
           fffffffffffffffffff
           --------------------------------------------------------------- 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:37:09.803

您想要创建所有行的列表，包括预定义的和包装的，然后在每行前面添加空格标识（最好在一个步骤中以避免重复代码），然后将所有内容连接到一个字符串中。

虽然正则表达式可以解决问题，但请看一个不错的标准模块`textwrap`，它允许您换行：

```
import textwrap

My_string = "aaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbccccccccccccccccccccddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeffffffffffffffffffff"

print '\n'.join('              {0}'.format(line) for line in [
                '---------------------------------------------------------------',
                'Value of a is'] + textwrap.fill(My_string, 20).split('\n') +
                ['---------------------------------------------------------------']) 
```

印刷

```
 ---------------------------------------------------------------
              Value of a is
              aaaaaaaaaaaaaaaaaaab
              bbbbbbbbbbbbbbbbbbbc
              cccccccccccccccccccd
              ddddddddddddddddddde
              eeeeeeeeeeeeeeeeeeef
              fffffffffffffffffff
              --------------------------------------------------------------- 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:06:37.163

试试这个：

```
# -*- encoding: utf-8 -*-
import re

My_string = "aaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbccccccccccccccccccccddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeffffffffffffffffffff"
split="\n     "
a = split.join(re.findall("(?s).{,20}", My_string))[0:-1]

print '''     ---------------------------------------------------------------
     Value of a is 
     %s ---------------------------------------------------------------''' % a 
```

看起来可以满足你的要求

# joomla2.5 - 浏览器窗口最小化时位置重叠

> ID：14996759
> 
> 赞同：1
> 
> 时间：2013-02-21T07:28:23.653
> 
> 标签：joomla2.5

我希望有人能帮帮忙。

我已经开始使用 JA Brisk 模板为客户构建网站。我注意到当浏览器窗口的宽度减小时，位置中的内容开始重叠（而不是保持相同的尺寸并引入水平滚动条，这就是我在 2.5.9 中开发的网站所发生的情况）。我想知道这是否与 BJA Brisk 中的包装器设置有关？

我的网站可以在这里查看 - [http://edrivenmedic.com/](http://edrivenmedic.com/) 在此先感谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T11:32:27.563

您正在使用响应式模板。我不熟悉您的 JA Brisk 模板或 T3 框架，但通常对于响应式站点，您需要避免的一件事是设置图像大小。相反，您依靠框架 CSS 来调整相对于其容器的图像大小。

如果您提到的重叠问题是主页上轮播下的四个块，请尝试删除智能手机/iPhone/iPad 图像的图像尺寸。

祝你好运！

# javascript - 试图理解 javascript 代码

> ID：14996761
> 
> 赞同：1
> 
> 时间：2013-02-21T07:28:40.600
> 
> 标签：javascript, d3.js, force-layout

我试图通过弄脏自己的手来理解 javascript 代码。我的背景主要是 python 和 C++。

所以我在这里通过这段代码

[http://bl.ocks.org/mbostock/1021841](http://bl.ocks.org/mbostock/1021841)

```
var force = d3.layout.force()
.nodes(nodes)
.links([])
.size([w, h])
.start(); 
```

我猜是“。” 代表一个方法..但到哪个对象？我很难理解这个复杂的函数（方法？？）

```
force.on("tick", function(e) {

  // Push different nodes in different directions for clustering.
  var k = 6 * e.alpha;
  nodes.forEach(function(o, i) {
    o.y += i & 1 ? k : -k;
    o.x += i & 2 ? k : -k;
  }); 
```

有人能用更简单的语言把它分解给我吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T08:24:07.157

这段代码：

```
var force = d3.layout.force()
.nodes(nodes)
.links([])
.size([w, h])
.start(); 
```

`var`如果它是 C++（关键字除外；在 C++ 中，您必须为 声明一个特定的类型） ，您应该阅读它的基本相同的内容`force`。像 C++ 一样，空白（大部分）是微不足道的。每个都`.`表示一个属性访问。（与 C++ 不同，JavaScript 对象不区分字段和方法；一切都是属性。如果它是函数属性，则可以通过在名称后面加上括号来调用它——如果合适的话，在括号中加上函数参数。）这里是：

*   `d3.layout`- 访问 的`layout`属性`d3`。
*   `.force()`- 调用`force`作为属性的函数`d3.layout`。在里面`force`，`d3.layout`可以作为关键字使用`this`。
*   `.nodes(nodes)`- 调用作为调用`nodes`返回的任何对象的属性的函数`force()`（也许`d3.layout`，也许是别的东西）。
*   等等

最后分配给`force`由返回的值`start()`。

关于第二段代码：

```
force.on("tick", function(e) {

  // Push different nodes in different directions for clustering.
  var k = 6 * e.alpha;
  nodes.forEach(function(o, i) {
    o.y += i & 1 ? k : -k;
    o.x += i & 2 ? k : -k;
  }); 
```

在这里，我们看到一个示例（实际上是两个）`anonymous function`。根据通常的 JavaScript 约定，`on`函数`force`可能用于注册事件处理程序——在本例中是`"tick"`事件处理程序。事件处理程序是匿名函数：

```
function(e) {
  // Push different nodes in different directions for clustering.
  var k = 6 * e.alpha;
  nodes.forEach(function(o, i) {
    o.y += i & 1 ? k : -k;
    o.x += i & 2 ? k : -k;
} 
```

为了便于解释，我们称这个函数为“外部”。它需要一个参数，我猜它是一个包含刻度事件属性的对象。在 external 的主体中，我们看到了另一个匿名函数： 的参数`nodes.forEach`。让我们称这第二个匿名函数为“内部”。这里的`forEach`函数很可能是标准[`forEach`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach)迭代器函数，它是所有 JavaScript 数组的属性；它接受一个函数作为参数，并按顺序在数组的每个元素上调用该函数，传递数组元素和元素索引。Inner 实际上是一个*闭包*的例子：函数体引用变量`k`，该变量被定义为外部的局部变量。

JavaScript 在某些方面与 C++ 类似，但在某些方面却有着根本的不同。除非您知道相似之处和不同之处的起点，否则您的 C++ 背景可能会导致您在编码（和代码阅读）工作中严重误入歧途。我强烈推荐介绍性论文[“A re-introduction to JavaScript”](https://developer.mozilla.org/en-US/docs/JavaScript/A_re-introduction_to_JavaScript)。它涵盖了该语言的所有主要特性，并有助于阐明 C++ 和 JavaScript 的相似之处和不同之处。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:31:30.377

这个：

```
var force = d3.layout.force()
.nodes(nodes)
.links([])
.size([w, h])
.start(); 
```

与此相同：

```
var force = d3.layout.force().nodes(nodes).links([]).size([w, h]).start(); 
```

变量的值`force`将是链中最后一个方法的返回值（在这种情况下`.start()`）。

这称为方法链。每个连续的函数都作为一个方法调用它之前函数的返回值。

因此，在`.nodes(nodes)`返回的对象上调用方法，在返回的对象上调用`d3.layout.force()`方法，依此类推。`.links([])``.nodes(nodes)`

# visual-c++ - dll和应用程序之间的VC++结构比较

> ID：14996767
> 
> 赞同：2
> 
> 时间：2013-02-21T07:28:53.697
> 
> 标签：visual-c++, dll, structure

我的应用程序调用 dll 并使用 dll 结构更新应用程序结构。但是应用程序结构中有一个额外的字段（bool enable）。

当我尝试分配我的应用程序 struture.enable 时，我会用垃圾值更新相同的内容。

如何检查 dll 中定义的结构和应用程序中定义的结构的大小是否具有相同的语法。

我无法更改 dll 中的任何内容。

如果 dll 结构中不存在该字段，我希望应用程序结构始终初始化为零。

我提供下面的代码，

```
///// ** structure definition in the dll called application ** //////
typedef struct
{
    DWORD   Size;   
    bool    mode;   
    BYTE    check;  
    DWORD   time_1; 
    DWORD   time_2; 

} STR_INTERFACE;

///// ** structure definition in the application ** //////

typedef struct
{
    DWORD   Size;  
    bool    mode;  
    BYTE    check; 
    DWORD   time_1;
    DWORD   time_2;

    bool enable; 

} STR_INTERFACE;

///
///mypassedstr will conatin the updated structure pointer with the 
///structure members updated by the dll

int MY_Appli_function::Interface_1_func ( LPCTSTR name_1,  LPVOID mypassedstr )
{

    STR_INTERFACE mycodestr;
        STR_INTERFACE* mynewstr = (STR_INTERFACE*)mypassedstr;

        mycodestr.Size    = mynewstr->.Size   ;
        mycodestr.mode    = mynewstr->.mode   ;
        mycodestr.check   = mynewstr->.check  ;
        mycodestr.time_1  = mynewstr->.time_1 ;
        mycodestr.time_2  = mynewstr->.time_2 ;
        mycodestr.enable  = mynewstr->.enable ;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-20T09:37:48.923

用#pragma pack(1) 打包你的结构

# extjs - Sencha 嵌套列表不显示任何项目

> ID：14996770
> 
> 赞同：0
> 
> 时间：2013-02-21T07:29:04.460
> 
> 标签：extjs, sencha-touch-2, nested-lists

哎呀，

我正在尝试通过浏览 sencha 文档和互联网上提供的其他示例来开发嵌套列表演示。到目前为止，这是我所取得的成就：

**Sencha App 模型文件夹**

*文件名：item.js*

```
Ext.define('firstApp.model.item', {
     extend: 'Ext.data.Model',
        config: {
            fields: [{
                name: 'text',
                type: 'string'
            }]
        }
}); 
```

**Sencha App Store 文件夹**

*文件名：nList.js（列出的项目来自 sencha 文档）*

```
var treeStore = Ext.create('Ext.data.TreeStore', {
model: 'item',
defaultRootProperty: 'items',
root: {
    items: [
        {
            text: 'Heavy Metal',
            items: [
                {
                    text: 'NWOBHM',
                    items: [
                        { text: 'Iron Maiden', leaf: true },
                         ]
                },
                { text: 'MetalCore', leaf: true }
            ]
        },
        {
            text: 'Extreme Metal',
            items: [
                { text: 'Children Of Bodom', leaf: true },
                { text: 'Cannibal Corpse', leaf: true },
                { text: 'Cradle Of Filth', leaf: true  }
            ]
        }
    ]
 }
});

Ext.create('firstApp.store.nList',{
  extend:'Ext.NestedList',
  requires: {'Ext.dataview.NestedList'},
  config:{
     fullscreen: false,
     store: treeStore
    }
 }); 
```

**Sencha App Views 文件夹**

*文件名：Main.js*

```
Ext.define('firstApp.view.Main', {
extend: 'Ext.Container',
xtype: 'main',
requires: [
   'Ext.TitleBar',
   'Ext.Button',
   //'firstApp.model.item',
  // 'firstApp.store.nList',
   //'Ext.dataview.NestedList',
   //'Ext.data.TreeStore'
   //'Ext.ToolBar'
] ,
config: {
//store: 'firstApp.store.Main',
    items: [

            {

            xtype: "toolbar",
            docked: "top",
            title: "List View",
            items: [
                    {
                        xtype: "spacer"
                    }, 
                    {
                        xtype: "button",
                        text: "Tab View",
                        ui: "action",
                        handler: function(){                    
                              Ext.Viewport.animateActiveItem((
                                          Ext.create('firstApp.view.view2')),
                                          {type: 'slide', direction:'left'}).show();
                            }                           
                    }
                    ]
            },
            {
                xtype: 'nestedlist',
                displayField: 'text',
                model: 'item',
                store: 'nList'
                }

            ]

            }

}); 
```

**控制台日志**

*这些是我收到的警告*

1.[WARN][Ext.dataview.NestedList#applyStore] 找不到指定的Store。

2.[WARN][Anonymous][Ext.Loader]同步加载'Ext.dataview.NestedList'；考虑明确添加 'Ext.dataview.NestedList' 作为相应类的要求。

**这是快照**

![Sencha View 没有嵌套列表](../Images/f04c7323d27fd9a769d41a83a67d9eb8.png)

**可能出了什么问题？**

1.  我知道嵌套列表带有一个标题栏，但是如果我想将嵌套列表添加为一个项目怎么办。

2.  当我按照[嵌套列表的 GitHub Demo](https://github.com/senchalearn/Nested-list-demo)复制并粘贴我的应用程序的 Main.js 中的内容并相应地注释掉其余代码时，该示例有效。但是这个例子和我的例子的一个主要区别是商店、模型和视图在一个 js 中，而在我的例子中，它们在单独的 js 和单独的文件夹中。

请指导我/帮助我。

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:10:53.700

首先将该`layout: 'fit'`属性添加到您的nestedList。

主.js

```
Ext.define('firstApp.view.Main', {
    extend : 'Ext.Container',
    xtype : 'main',
    config : {
        fullscreen : true,
        layout : 'fit',
        items : [{
            xtype : "toolbar",
... 
```

然后将您的商店更改为以下内容：

nList.js

```
Ext.define('firstApp.store.nList', {
    extend : 'Ext.data.TreeStore',
    config : {
        model : 'firstApp.model.Item',
        defaultRootProperty : 'items',
        data : {
            items : [{
                text : 'Heavy Metal',
                items : [{
                    text : 'NWOBHM',
                    items : [{
                        text : 'Iron Maiden',
                        leaf : true
                    }]
                }, {
                    text : 'MetalCore',
                    leaf : true
                }]
            }, {
                text : 'Extreme Metal',
                items : [{
                    text : 'Children Of Bodom',
                    leaf : true
                }, {
                    text : 'Cannibal Corpse',
                    leaf : true
                }, {
                    text : 'Cradle Of Filth',
                    leaf : true
                }]
            }]
        }
    }
}); 
```

问题是，您在商店中定义了一个嵌套列表，而不仅仅是商店，它应该添加到您的“主”视图中的列表中。那么store中的数据不需要`data`tag`root`

查看一个工作示例：[http ://www.senchafiddle.com/#ERFUC](http://www.senchafiddle.com/#ERFUC)

**编辑**

在您的 app.js 中添加以下部分

```
Ext.application({
    name: 'firstApp',
    views:['Main'],
    stores:['nList'],
    models:['Item'], 
```

您可以在上面的小提琴中找到整个 app.js。

# android - TextView 不扩展以匹配 TableRow 高度

> ID：14996773
> 
> 赞同：4
> 
> 时间：2013-02-21T07:29:07.040
> 
> 标签：android, android-linearlayout

如何拉伸它`TextView`以使其填充整个`TableRow`高度？这是我现在得到的截图，

![](../Images/cc693cbf82a01de328cd4085cb1b0098.png)

我想`TextView`用`TableRow`.

这是我创建行的方式：

```
row = new TableRow(this);

desc = new TextView(this);

desc.setBackgroundResource(R.drawable.borders);
desc.setTypeface(Typeface.SERIF, Typeface.BOLD);  
desc.setText("Production Date");
desc.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT));

String date = gendataObj.getString("date");
text = new TextView(this);
text.setBackgroundResource(R.drawable.borders);
text.setText(date);
text.setGravity(Gravity.LEFT);
text.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT));

row.addView(desc);
row.addView(text);

table.addView(row, new TableLayout.LayoutParams(
        TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT)); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T07:36:54.263

改变：

```
text.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT)); 
```

至：

```
text.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT, TableRow.LayoutParams.MATCH_PARENT)); 
```

因为否则，您不指定高度（仅宽度），默认情况下将保持不变，`WRAP_CONTENT`这会导致您`TextView`的高度与其内容（文本）一样高。

# c - 尽管字符串独立打印，但 fprintf 段错误错误

> ID：14996774
> 
> 赞同：2
> 
> 时间：2013-02-21T07:29:08.420
> 
> 标签：c, printf

我在最后一个案例中遇到了一个奇怪的段错误。Valgring 声明非法内存访问

```
 fprintf(stderr, "Print %s \n", primary_key->name);
    fprintf(stderr, "Print %s \n", table->table);
    fprintf(stderr, "Print %s \n ", db->table); 

    fprintf(stderr, "Print %s\\%s \n", db->table, table->table); 
```

前 3 个语句工作得非常好，但是当我尝试同时访问这两个语句时，我得到了一个段错误。有什么想法吗？（这是实际代码，中间没有任何内容）我是 C 新手，所以不一定详细了解 fprintf 的工作原理。

valgrind 错误是：

打印 345 打印 foo 打印测试

==19994== 大小为 1 的读取无效

==19994== 在 0x5EF53B1: vfprintf (vfprintf.c:1630)

==19994== by 0x5EF81A3: buffered_vfprintf (vfprintf.c:2313)

==19994== 由 0x5EF2BDD: vfprintf (vfprintf.c:1316)

==19994== 由 0x5EFD836: fprintf (fprintf.c:33)

==19994== 由 0x5E95E9: ...

==19994== 地址 0x4 没有被堆栈、malloc 或（最近）释放

==19994==

# mysql - Mysql在插入数据库时 一直报错

> ID：14996775
> 
> 赞同：-3
> 
> 时间：2013-02-21T07:29:13.243
> 
> 标签：mysql, php

我尝试从表单输入向 MySQL 数据库添加值，它曾经工作正常，最近它开始给我这个错误：

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 'group) VALUES('כיריים על השיש','1','9')' 附近使用正确的语法。

我的代码是：

```
if (isset($_POST['cat_name']))
{       
    $cat_name = mysql_real_escape_string($_POST['cat_name']);
    $parent   = mysql_real_escape_string($_POST['parent']);
    $grp      = mysql_real_escape_string($_POST['grp']);

    // See if that product name is an identical match to another product in the system
    $sql          = mysql_query("SELECT id FROM categories WHERE cat_name='$cat_name' LIMIT 1");
    $productMatch = mysql_num_rows($sql); // count the output amount

    if ($productMatch > 0) 
    {
        echo 'Sorry you tried to place a duplicate "Category" into the system, <a href="category_add.php">click here</a>';
        exit();
    }

    // Add this product into the database now
    $sql2    = mysql_query("INSERT INTO categories (cat_name,parent,group) VALUES('$cat_name','$parent','$grp')") or die (mysql_error());
    $cid     = mysql_insert_id();
    $newname = "$cid.jpg";
    move_uploaded_file( $_FILES['fileField']['tmp_name'], "../cat_images/$newname");
    header("location: category_add.php"); 
    exit(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:31:01.723

使用这个查询，`group`是mysql中的保留字。您必须附加```列名。

```
$sql2 = mysql_query("INSERT INTO categories (`cat_name`,`parent`,`group`) VALUES('$cat_name','$parent','$grp')") or die (mysql_error()); 
```

# aspectj - 使用 aspectJ 获取和设置类的属性值

> ID：14996778
> 
> 赞同：0
> 
> 时间：2013-02-21T07:29:30.147
> 
> 标签：aspectj

我正在使用 aspectj 向现有类添加一些字段并对其进行注释。我正在使用加载时间编织。

示例：- 我有一个 Class 客户，我在其中添加 3 个字符串属性。但我的问题是我必须设置一些值并在我的业务调用之前得到它。

我正在尝试以下方法。在我的 aj 文件中，我添加了以下内容，我的问题是在周围切入点，我如何获取属性并设置属性。

```
public String net.customers.PersonCustomer.getOfflineRiskCategory() {
        return OfflineRiskCategory;
}

public void net.customers.PersonCustomer.setOfflineRiskCategory(String offlineRiskCategory) {
        OfflineRiskCategory = offlineRiskCategory;
    }

    public String net.customers.PersonCustomer.getOnlineRiskCategory() {
        return OnlineRiskCategory;
    }

    public void net.customers.PersonCustomer.setOnlineRiskCategory(String onlineRiskCategory) {
        OnlineRiskCategory = onlineRiskCategory;
    }

    public String net.customers.PersonCustomer.getPersonCommercialStatus() {
        return PersonCommercialStatus;
    }

    public void net.customers.PersonCustomer.setPersonCommercialStatus(String personCommercialStatus) {
        PersonCommercialStatus = personCommercialStatus;
    }

    @Around("execution(* net.xxx.xxx.xxx.DataMigration.populateMap(..))")
 public Object invoke(ProceedingJoinPoint joinPoint) throws Throwable {
  Object arguments[] = joinPoint.getArgs();

  if (arguments != null) {
      HashMap<String, String> hMap = (HashMap) arguments[0]; 
      PersonCustomer cus = (PersonCustomer) arguments[1];

  return joinPoint.proceed();
 } 
```

如果有人有想法，请告诉我。

问候，金融时报

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T23:25:18.177

第一个建议，我会避免将代码风格的aspectj与注释风格混合。即-而不是`@Around`，使用`around`。

其次，您应该将它们绑定在切入点中，而不是从 joinPoint 获取参数：

```
Object around(Map map, PersonCustomer cust) : 
    execution(* net.xxx.xxx.xxx.DataMigration.populateMap(Map, PersonCustomer) && args(map, cust) {
  ...
  return proceed(map, cust);
} 
```

现在，回答您的问题：您还需要使用类型间声明向您的类添加新字段，因此请执行以下操作：

```
private String net.customers.PersonCustomer.OfflineRiskCategory;
private String net.customers.PersonCustomer.OnlineRiskCategory;
private String net.customers.PersonCustomer.PersonCommercialStatus; 
```

请注意，`private`这里的关键字意味着对方面而言是私有的，而不是对您声明它的类而言。

# cron - glassfish 启动脚本通过 crontab 失败

> ID：14996781
> 
> 赞同：1
> 
> 时间：2013-02-21T07:29:50.223
> 
> 标签：cron, glassfish, crontab

我创建了一个脚本来检查我的 glassfish 服务器是否正在运行（安装在 freebsd 系统上），如果没有，脚本会尝试终止 java 进程以确保它没有挂起，然后发出**asadmin start -域**命令

如果此脚本从命令行运行，则**100% 的时间**是成功的。当它从 cron 选项卡运行时，除了**asadmin start-domain**行之外的每一行都运行 - 它似乎没有执行或至少没有完成，即该脚本运行后服务器没有运行。

对于不熟悉 glassfish 或用于启动服务器的 asadmin 实用程序的任何人，我的理解是使用了分叉进程。这会通过cron引起问题吗？

同样，在我今天的所有测试中，脚本在从命令行运行时会运行到完成。一旦它通过 cron 执行，它就不会完成......从 crontab 运行它会有什么不同？？？

提前感谢您的帮助...我正在努力完成这项工作！

```
#!/bin/bash

JAVA_HOME=/usr/local/diablo-jdk1.6.0/; export JAVA_HOME

timevar=`date +%d-%m-%Y_%H.%M.%S` 
process_name='java'
get_contents=`cat urls.txt`  

for i in $get_contents
do
echo checking $i
statuscode=$(curl --connect-timeout 10  --write-out %{http_code} --silent --output /dev/null $i)
case $statuscode in
    200)
        echo "$timevar $i $statuscode okay" >> /usr/home/user1/logfile.txt
        ;;
    *)
        echo "$timevar $i $statuscode bad" >> /usr/home/user1/logfile.txt
        echo "Status $statuscode found" | mail -s "Check of $i failed" some.address@gmail.com
        process_id=`ps acx | grep -i $process_name | awk {'print $1'}`
        if [ -z "$process_id" ]
        then
            echo "java wasn't found in the process list"
        else
            echo "Killing java, currently process $process_id"
            kill -9 $process_id
        fi
        /usr/home/user1/glassfish3/bin/asadmin start-domain domain1
        ;;
esac
done 
```

此外，为了完整起见，这里是 cron 选项卡中的条目：

```
*/2 * * * *  /usr/home/user1/server.check.sh >> /usr/home/user1/cron.log 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T16:43:34.713

好的......在另一个网站上找到了这个答案，但我想我会在这里添加答案以供将来参考。

问题是路径！即使设置了 java_home，java 本身也不在 cron 守护进程的路径中。

快速测试以查看您的 cron 可用的路径，添加以下行：

```
*/2 * * * * env > /usr/home/user1/env.output 
```

据我所知，cron 最初可用的 PATH 非常少。由于 java 在 /usr/local/bin 中，我将它添加到 crontab 和 kaboom 中的路径中！有效！

```
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

*/2 * * * * /usr/home/user1/server.check.sh >> /usr/home/user1/cron.log 
```

# android - Android：PullToRefresh ListView 未显示

> ID：14996785
> 
> 赞同：2
> 
> 时间：2013-02-21T07:30:04.653
> 
> 标签：android, android-listview

我已经使用[Chris Banes 的 pull 实现来刷新](https://github.com/chrisbanes/Android-PullToRefresh)我的应用程序的列表视图。问题是如果我将列表视图的可见性设置为消失或不可见并使其在 java 代码中可见，则列表不会显示。另一方面，如果我将其可见性设置为可见或不设置其可见性，则一切正常。我的要求是我在同一个活动中有两个列表视图。我必须设置可见性，因为一旦它从服务器获取数据，它就会首先出现。另一个将出现在搜索功能上。我已将搜索结果的列表视图的可见性设置为在 xml 代码中消失，并使其仅在获得搜索结果后可见。尽管使用了**setVisibility()**对于此列表视图，它永远不会显示屏幕。我也检查了服务器响应。它在 logcat 上显示搜索结果。

我在下面发布我的代码：

**活动中的代码片段**

```
//The result from this async task will populate the first list view

if(NetworkConnection.isOnline(MainCategory.this))
{
    new MainMenuAsyncTask(dataUrl, MainCategory.this, listMainMenu, false).execute();
}
else
{
    Log.v(TAG, "no network available");
    SeattleNightLifeUtility.OpenWiFiDialog(MainCategory.this, getResources().getString(R.string.no_internet_msg));
}

loadListView();

//This will populate the list view that I have created for search results

_txtAutoSearch.setOnEditorActionListener(new TextView.OnEditorActionListener() 
{
    @Override
    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) 
    {
        String term = _txtAutoSearch.getText().toString().trim();
        if(! term.equals(""))
        {
            SeattleNightLifeUtility.hideSoftKeyboard(MainCategory.this, _txtAutoSearch);
            if(NetworkConnection.isOnline(MainCategory.this))
            {
                search(term, false);
            }
            else
            {
                SeattleNightLifeUtility.OpenWiFiDialog(MainCategory.this, getResources().getString(R.string.no_internet_msg));
            }
        }
        return true;
        }//onEditorAction
    });

    listMainMenu.setOnRefreshListener(new PullToRefreshListView.OnRefreshListener() 
    {
        @Override
        public void onRefresh() 
        {
            if(NetworkConnection.isOnline(MainCategory.this))
            {
                new MainMenuAsyncTask(dataUrl, MainCategory.this, listMainMenu, true).execute();
            }
            else
            {
                SeattleNightLifeUtility.OpenWiFiDialog(MainCategory.this, getResources().getString(R.string.no_internet_msg));
            }
        }
    });

    listViewSearch.setOnRefreshListener(new PullToRefreshListView.OnRefreshListener() 
    {
        public void onRefresh() 
        {
            if(NetworkConnection.isOnline(MainCategory.this))
            {
                search(_txtAutoSearch.getText().toString().trim(), true);
            }
            else
            {
                SeattleNightLifeUtility.OpenWiFiDialog(MainCategory.this, getResources().getString(R.string.no_internet_msg));
            }
        }
    }); 
```

**搜索结果异步任务**

```
public class GetSearchAsyncTask extends AsyncTask<Void, Void, String> 
{
Context ctx;
ProgressDialog pd;
PullToRefreshListView listViewSearch;
public static final String TAG = "GetSearchAsyncTask";
public static ArrayList<SearchDAO> searchArrayList;

private String term, callingclass;
private TextView txtNoData;
boolean flag;

public GetSearchAsyncTask(String term, Context ctx, 
        PullToRefreshListView listViewSearch, TextView txtNoData, 
        String callingclass, boolean flag) 
{
    this.term = term;
    this.ctx = ctx;
    this.listViewSearch = listViewSearch;
    this.txtNoData = txtNoData;
    this.callingclass = callingclass;
    this.flag = flag;
}//Constructor 

@Override
protected void onPreExecute() 
{
    if(flag == false)
    {
        pd = new ProgressDialog(ctx);
        pd.setMessage(ctx.getResources().getString(R.string.please_wait));
        pd.show();
    }
}//onPreExecute

protected String doInBackground(Void... params) 
{
    String parsed = ServerConnection.getSearchedData(term);
    try
    {
        if(flag == true)
        {
            Log.v(TAG, "doInBackground isListRefreshed is true");
            Thread.sleep(2000);
        }
    }
    catch(Exception e){}
    return parsed;
}//doInBackground

@Override
protected void onPostExecute(String result) 
{
    searchArrayList = ParsedSearchData.getSearchedData(result);
    listViewSearch.setVisibility(View.VISIBLE);

    if(searchArrayList != null && searchArrayList.size() > 0)
    {
        Log.v(TAG, "searcharraylist not null");
        for(int i = 0; i < searchArrayList.size(); i++)
        {
            Log.v(TAG, "Name: "+searchArrayList.get(i).getMerchant());
        }
        SearchAdapter mSearchAdapter = new SearchAdapter(ctx, searchArrayList);
        mSearchAdapter.notifyDataSetChanged();
        listViewSearch.setAdapter(mSearchAdapter);

        if(callingclass.equals("EventActivity"))
        {
            Log.v(TAG, "callingclass EventActivity");
            if(txtNoData.getVisibility() == View.VISIBLE)
            {
                Log.v(TAG, "txtNoData VISIBLE");
                txtNoData.setVisibility(View.GONE);
            }
            if(((EventsActivity)ctx).txtNoEvent.getVisibility() == View.VISIBLE)
            {
                Log.v(TAG, "txtNoEvent VISIBLE");
                ((EventsActivity)ctx).txtNoEvent.setVisibility(View.GONE);
            }
        }
        else
        {
            Log.v(TAG, "callingclass not EventActivity");
            if(txtNoData.getVisibility() == View.VISIBLE)
            {
                Log.v(TAG, "else loop txtNoData VISIBLE");
                txtNoData.setVisibility(View.GONE);
            }
            if(listViewSearch.getVisibility() == View.VISIBLE)
            {
                Log.v(TAG, "listViewSearch VISIBLE");

            }
            else
            {
                Log.v(TAG, "listViewSearch INVISIBLE");
            }
        }
    }
    else
    {
        Log.v(TAG, "searcharraylist null");
        if(callingclass.equals("EventActivity"))
        {
            Log.v(TAG, "callingclass EventActivity");
            txtNoData.setVisibility(View.VISIBLE);
            listViewSearch.setVisibility(View.GONE);

            if(((EventsActivity)ctx).txtNoEvent.getVisibility() == View.VISIBLE)
            {
                Log.v(TAG, "searcharraylist null else txtNoEvent VISIBLE");
                ((EventsActivity)ctx).txtNoEvent.setVisibility(View.GONE);
            }
        }
        else
        {
            Log.v(TAG, "callingclass not EventActivitysearcharraylist null else txtNoEvent VISIBLE");
            txtNoData.setVisibility(View.VISIBLE);
            listViewSearch.setVisibility(View.GONE);
        }
    }

    if(flag == false)
    {
        if(pd != null)
        {
            Log.v(TAG, "onPostExecute pd not null");
            if(pd.isShowing())
            {
                Log.v(TAG, "onPostExecute pd is showing");
                pd.dismiss();
            }
        }
    }
    else
    {
        listViewSearch.onRefreshComplete();
    }
}//onPostExecute
} 
```

**搜索方法**

```
protected void search(String term, boolean result) 
{
    listMainMenu.setVisibility(View.GONE);
    //listViewSearch.setVisibility(View.VISIBLE);
    new GetSearchAsyncTask(term, MainCategory.this, listViewSearch , txtNoData, "MainCategory", result).execute();
}//search 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-21T17:24:35.723

早些时候，我在 XML as`gone`和 java 代码中设置了可见性，我正在制作`VISIBLE`. 那个时候，名单还没有出现。当我从 XML 布局文件中删除了可见性属性，并且只在 java 代码中使用**setVisibility()**设置它时，它工作得很好。我无法弄清楚这背后的原因。可能是，我需要看一下库的实现，以便找到我哪里出错了。但是，就目前而言，这对我有用。

# java - 使用 Java 从 Mongo 中的文档中获取 dbref

> ID：14996789
> 
> 赞同：2
> 
> 时间：2013-02-21T07:30:17.737
> 
> 标签：java, mongodb, dbref

我无法从 Mongo 获取 dbRef 对象。在我的实体包中，我有一个类继承`User`了一个类。`Parent`这是`User`课程：

```
public class User {

@Id
private ObjectId id;

@DBRef
private Account account;

private String name;

public String getId() {
    if (id != null) {
        return id.toStringMongod();
    }           

    return null;//no id
}

public void setId(ObjectId objectId) {
    this.id = objectId;
}

public Account getAccount() {
    return account;
}

public void setAccount(Account account) {
    this.account = account;
}
public String getLogin() {
    return login;
}

public void setLogin(String login) {
    this.login = login;
}
} 
```

正如你在上面看到的，我把一个对象放在`Account`这里。我的`Parent`课只是扩展`User`：

```
@Document
public class Parent extends User {

@JsonProperty("is_activated")
private boolean isActivated;

public boolean isActivated() {
    return isActivated;
}

public void setActivated(boolean isActivated) {
    this.isActivated = isActivated;
}
} 
```

注意：没有什么神奇的`isActivated`。

在我的`ParentDaoImpl`课堂上：

```
@Service
public class ParentDaoImpl extends AbstractDaoImpl implements ParentDao {

@Override
public Parent getParentByLogin(String login) {
    Query query = new Query(Criteria.where("login").is(login));
    return mongoOperations.findOne(query, Parent.class, "parents");
}
} 
```

问题是，如果我调用`getParentByLogin`方法，它会返回 evertyning 但`Account`字段为空。也许`findOne`里面没有给 dbRef。我认为在关系数据库中，会有类似`join`. 我希望我的方法也能给我带来`account`领域。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:12:37.327

Can you try something like this.

```
....
@Field("fieldName")
@DBRef(collection = "mongoCollectionName")
private Account account;
.... 
```

# python - 如何在 python 2.7 中将 unicode 编码为 urlenconing？

> ID：14996790
> 
> 赞同：0
> 
> 时间：2013-02-21T07:30:19.673
> 
> 标签：python, python-2.7, python-2.x

如何在 python 2.7 中将 unicode 编码为 urlenconing

我想编码像'€'这样的unicode。

但是我不知道我该怎么办...

```
>>> u='€'
>>> _u=u'€'
>>> u
'\xa2\xe6'
>>> _u
u'\u20ac'
>>> urllib.quote(u)
'%A2%E6'
>>> urllib.quote(_u)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "C:\Python27\lib\urllib.py", line 1268, in quote
    return ''.join(map(quoter, s))
KeyError: u'\u20ac'
>>> print urllib.unquote(urllib.quote(u))
€
>>> 
```

只是我需要 '%A2%E6' 通过 unicode '€'。

我应该怎么办？

```
>>> print urllib.unquote(urllib.quote(u'€'.encode('utf8')))
? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:28:30.287

您应该`encode`使用 unicode 字符串，然后使用`urllib.quote`. 你自己写了你问题的答案

```
urllib.quote(u'€'.encode('utf8')) 
```

# r - 如何动态地将数据存储在数据框中？

> ID：14996797
> 
> 赞同：0
> 
> 时间：2013-02-21T07:30:47.023
> 
> 标签：r, dataframe

我有一个输入文件。

猫文件

```
 ABC   2 3 4
 DEF   3 4 5 
 FRD   3 5 6

 input<-read.table(file) 
```

我想将它加载到数据框中，其中名称是键，值是连续数字的向量，以便我可以获得值。

如何动态地将数据存储在数据框中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:34:23.223

你正在寻找一个`list`我猜：

```
df <- structure(list(V1 = structure(1:3, 
      .Label = c("ABC", "DEF", "FRD"), class = "factor"), 
      V2 = c(2L, 3L, 3L), V3 = 3:5, V4 = 4:6), 
      .Names = c("V1", "V2", "V3", "V4"), class = "data.frame", 
      row.names = c(NA, -3L))

df.l <- as.list(df[,2:4])
names(df.l) <- df[,1]

# $ABC
# [1] 2 3 3

# $DEF
# [1] 3 4 5

# $FRD
# [1] 4 5 6 
```

现在，您可以通过以下方式访问这些向量：`df.l[["ABC"]]`

或者，如果您想将其保留为`data.frame`，则应将您的第一列`data.frame`设为列名：

```
df.o <- df[,2:4]
names(df.o) <- df[,1]

#   ABC DEF FRD
# 1   2   3   4
# 2   3   4   5
# 3   3   5   6 
```

现在，您可以像访问 a 一样访问它`list`（a`data.frame`在内部也是 a `list`）。

```
> df.o[["ABC"]] # or equivalently as df$ABC
# [1] 2 3 3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:35:15.043

如果您将这些值与第一列一起存储为行名，您可以使用以下形式访问：

```
 dfrm["ABC", ]   # result  c(2,3,4)

 dfrm <- read.table(text="V1 V2 V3
  ABC   2 3 4
  DEF   3 4 5 
  FRD   3 5 6",  header=TRUE )
dfrm["ABC" , ]
#     V1 V2 V3
# ABC  2  3  4 
```

# iphone - 不同sdk的奇怪UI问题

> ID：14996800
> 
> 赞同：1
> 
> 时间：2013-02-21T07:30:50.753
> 
> 标签：iphone, ios, ios5, ios6

我有两台机器分别运行 xcode 4.3.1 和 xcode 4.6。这是上面 Xcode 的 sdk ----

```
 xcode 4.3.1  --> iOS sdk 5.1
 xcode 4.6    --> iOS sdk 6.1 
```

因此，当我针对 iOS sdk 5.1 构建源代码时，一切都很好，没有问题，但是当我使用 iOS sdk 6.1 构建相同的代码时，会出现 UI 失真问题。所以我的问题是....是 iOS sdk 问题还是 xcode 或 iOS 问题。

**编辑** @shivan 这是我们扭曲的 UI 的屏幕截图

Thnx Ilya Ilin，但是如果 UI 是使用 Interface builder 3.2 设计的，现在我们正在使用 Xcode 4.6 为 iOS 6.x 升级应用程序

![在此处输入图像描述](../Images/064932bd64f2ee1a33004e90b9197436.png)

问候， 帕吉伊

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:37:44.900

尝试关闭自动布局
![在此处输入图像描述](../Images/a3664628052f6c9a6a7a1c2ef04e2ef4.png)

...或给出问题信息。

# sqlite - WebSQL 检查值为整数

> ID：14996803
> 
> 赞同：0
> 
> 时间：2013-02-21T07:30:58.153
> 
> 标签：sqlite, web-sql

我通过 PhoneGap 在 Android 设备上有一个 WebSQL Sqlite 数据库。我想运行一个查询来删除 Id 不是整数的所有行。所以我想运行类似的东西

```
DELETE FROM Client WHERE NOT IsInt(Id) 
```

是否有捷径可寻？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:06:35.770

使用[typeof](http://www.sqlite.org/lang_corefunc.html#typeof)：

```
DELETE FROM Client WHERE typeof(Id) <> 'integer' 
```

# jquery - 将 jquery mobile 复选框放在可折叠标题上

> ID：14996805
> 
> 赞同：2
> 
> 时间：2013-02-21T07:31:08.963
> 
> 标签：jquery, jquery-mobile, checkbox, collapsable

如果有人可以帮助我，我将不胜感激。我正在尝试使用 jQuery mobile 1.2 放置一个可折叠块

现在我有一个问题，我想在可折叠标题中放置一个复选框，但是当我单击复选框时，不会触发单击事件，而是块未折叠或折叠。复选框勾选和取消勾选也不会被触发。

我想要的是，当我点击复选框时，只有取消勾选和勾选应该工作并且可折叠事件不应该工作，当我点击加号图标或复选框外部时，只有可折叠甚至不应该工作而不是复选框事件。

谷歌浏览器和火狐出现问题。

```
 [http://jsfiddle.net/Ae5CU/5/][1] 
```

问题2）

复选框样式应该与当前没有标签的样式相同，这可能吗？

```
 [http://jsfiddle.net/Ae5CU/6/][2] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T05:15:59.630

我找到了答案。这是解决问题的链接。

```
{http://jsfiddle.net/sunwebsite/493e5/1/} 
```

# java - 如果找到字符，则跳过字符串的其余部分

> ID：14996806
> 
> 赞同：-1
> 
> 时间：2013-02-21T07:31:12.577
> 
> 标签：java, string, trim

嗨，我有以下字符串作为服务器的输出。

```
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzY29wZSI6InNjb3BlOmNsaWVudDppbmNvbWluZz9jbGllbnROYW1lPWplbm55IHNjb3BlOmNsaWVudDpvdXRnb2luZz9hcHBTaWQ9QVA2YmI2NDI1ZmE3MTU3MzdmYjFmYTllMjI1MDk4NjdlMSZhcHBQYXJhbXM9JmNsaWVudE5hbWU9amVubnkiLCJpc3MiOiJBQzI4YmNjYzc0NzQ4ZDAzNzRmNzg5ZjgyN2U0OGMzODNjIiwiZXhwIjoxMzYxNDM0ODY1fQ.q17gvt8ItDmximK2rpS5bHwtsfbk3l-suSx2jXju3Wk
<!-- Hosting24 Analytics Code -->
<script type="text/javascript" src="http://stats.hosting24.com/count.php"></script>
<!-- End Of Analytics Code --> 
```

我想跳过字符串的 html 部分，即我只想要

```
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzY29wZSI6InNjb3BlOmNsaWVudDppbmNvbWluZz9jbGllbnROYW1lPWplbm55IHNjb3BlOmNsaWVudDpvdXRnb2luZz9hcHBTaWQ9QVA2YmI2NDI1ZmE3MTU3MzdmYjFmYTllMjI1MDk4NjdlMSZhcHBQYXJhbXM9JmNsaWVudE5hbWU9amVubnkiLCJpc3MiOiJBQzI4YmNjYzc0NzQ4ZDAzNzRmNzg5ZjgyN2U0OGMzODNjIiwiZXhwIjoxMzYxNDM0ODY1fQ.q17gvt8ItDmximK2rpS5bHwtsfbk3l-suSx2jXju3Wk 
```

我想从字符串中删除以下内容

```
<!-- Hosting24 Analytics Code -->
<script type="text/javascript" src="http://stats.hosting24.com/count.php"></script>
<!-- End Of Analytics Code --> 
```

我应该使用什么方法来检测`<!--`和跳过字符串的其余部分？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T07:34:58.480

如果您尝试删除的分析评论始终位于字符串的末尾，您可以执行以下操作：

```
String s = "...";
int pos = s.indexOf("<!-- Hosting24 Analytics Code -->");
if (pos >= 0) { s = s.substring(0, pos); }
// continue working with s 
```

如果它位于字符串中间的某个位置，您可能需要额外的 indexOf() 调用来查找要删除的内容的开始和结束。请注意，当未找到子字符串时，此方法返回 -1。

```
s.substring(a, b); 
```

将返回 s 中从位置 a 开始到位置 b - 1 结束的字符子序列（如果 a==b 则结果字符串为空）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:37:48.993

```
String s = "inputString";

StringBuilder sb = new StringBuilder();
char ch;
boolean check=false;
for(int i=0; i<s.length(); i++)
{
    ch = s.charAt(i);
    if(ch == '<')
    {
        check = false;
    }
    if(ch == '>')
    {
        check = true;
        ch = s.charAt(i);
    }
    if(check)
        sb.append(ch);
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-21T08:57:46.947

尝试这个：

```
str = str.replaceAll("<.*", ""); 
```

# android - 打开/关闭 gps，状态栏中不显示图标

> ID：14996810
> 
> 赞同：1
> 
> 时间：2013-02-21T07:31:29.753
> 
> 标签：android

在我的 android 应用程序中，我成功地在需要时动态地打开/关闭 gps。但是当打开 gps 时，我正在努力隐藏状态栏中的 gps 图标。我该怎么做？

注意：我也成功通过全屏隐藏整个状态栏。但我只想隐藏 gps 图标。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:35:09.537

你不能做这个。状态栏图标由系统控制，在 GPS 开启时不允许第三方应用隐藏。这也是出于安全原因。如果她/他没有 GPS 处于活动状态的迹象，任何流氓应用程序都可以在用户不知道的情况下使用用户的位置秘密执行恶意操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:36:35.500

为什么要隐藏 GPS 图标？

我认为这是一个坏主意，因为用户想知道他们的 GPS 是否处于活动状态。

这将允许应用程序在用户不知道这一事实的情况下窥探用户的位置，这不是一个好的做法。这就是为什么您的应用需要访问手机位置的权限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:41:13.387

如果你有 sdk 源文件，这很容易：

修改方法enqueueNotificationInternal中的NotificationManagerService.java，添加一个标志（db文件或在/data/中创建文件），当gps应用程序尝试发送通知时，阻止它（参考包名）。

但如果你没有一个....

对不起，我不知道。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-15T05:14:04.677

我也遇到了同样的问题，这意味着当我要求 gps 提供位置更新时，它将显示该 gps 图标，因此如果您删除那些调用类似**locationmanager.removeupdates(locationListener)**的更新，那么它将删除状态栏中的该 gps 图标

# ruby-on-rails - 仅在集成测试中使用 rspec

> ID：14996813
> 
> 赞同：3
> 
> 时间：2013-02-21T07:31:34.580
> 
> 标签：ruby-on-rails, ruby, testing, rspec

我有一个与 Rails 默认测试套件 Test::Unit 配合使用的项目，我没有理由更改我编写的测试。但是当我用 capybara 编写集成测试时，我发现 capybara 总是与 rspec 一起工作，并且在将 capybara 与 Test::Unit 一起使用时遇到了一些问题。所以我决定在集成测试中使用 rspec。

但问题就在这里。运行`rails g rspec:install`cmd`rails g model`后将在规范中创建测试，我如何仅将 rspec 用于集成测试并在其他测试中使用 Test::Unit。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T13:35:10.283

我假设你安装了`rspec-rails`gem。gem[将 Rails 配置为使用 RSpec 进行测试](https://github.com/rspec/rspec-rails/blob/v2.13.0/lib/rspec-rails.rb)。生成器通常在开发中运行，因此通过限定[Gemfile 中](http://gembundler.com/v1.2/groups.html)`rspec-rails`的组，Rails 不应在开发中加载 gem。`:test`

```
group :test do
  gem 'rspec-rails'
end 
```

`rspec-rails`您还可以在 gem 加载后覆盖设置的设置。

# scala - 如何在 Play 控制台中使用 ANORM？

> ID：14996820
> 
> 赞同：3
> 
> 时间：2013-02-21T07:31:51.897
> 
> 标签：scala, playframework, playframework-2.0, anorm

我想使用 ANORM 连接到游戏控制台中的 db，只是简单地测试一些东西。但是当我创建一个数据源时出现了一些错误

```
val ds=DB.getDataSource()
java.lang.RuntimeException: There is no started application 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T08:32:53.287

您可以从 Play 控制台中启动应用程序：

```
[My application] $ console
scala> import play.core.StaticApplication
import play.core.StaticApplication

scala> new StaticApplication(new java.io.File("."))
[info] play - Application started (Prod)
res0: play.core.StaticApplication = play.core.StaticApplication@... 
```

# io - 解压缩后如何压缩整个目录并保持其结构？

> ID：14996827
> 
> 赞同：0
> 
> 时间：2013-02-21T07:32:16.190
> 
> 标签：io, compression, archive, zipfile

我了解如何从指定的整个目录中获取所有文件，但我不明白如何压缩整个目录以保持其内部结构（我的意思是内部文件夹）。

我使用 ZipStorer，但我很乐意看到任何示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T07:52:21.593

目录结构是一个单独的实体。因此，您必须获取目录树结构并单独存储/压缩它。解压缩后，您必须重新创建此目录树并明确放置与原始位置相对应的文件。

# python - Python3.3：平方根优化

> ID：14996844
> 
> 赞同：2
> 
> 时间：2013-02-21T07:33:08.997
> 
> 标签：python, optimization, python-3.x, square-root

这里是 Python3.3 上的代码：

```
import sys, re, math
str1 = str(sys.stdin.readlines())
Data = re.findall('\\b\\d+\\b', str1)

for i in reversed (Data):
    print('%.4f' % math.sqrt(float(i))) 
```

如您所见，该程序从输入中获取数据（多行随机字符串），并搜索该字符串包含的每个数字。之后只返回它找到的每个数字的平方根。

好吧，算法有效，但不够快，我不知道如何优化它。请帮帮我。我需要做什么来优化上面的代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:11:41.333

这是一个负面的结果。我尝试使用一些技巧使其更快，但它只是快一点。

```
import sys, re, math

def find_numbers(f):
    for line in f:
        for word in line.split():
            if word.isdigit():
                yield float(word)

lst = list(find_numbers(sys.stdin))
lst.reverse()
for x in lst:
    print('%.4f' % math.sqrt(x)) 
```

我认为反转列表可能会使其变慢，但是当我只打印数字而不反转时，它并没有太大的区别。

Python 最快的解决方案是在 PyPy 中运行上述代码。

这不是一个非常困难的问题，如果您需要速度，您可能想用 C 代码编写解决方案。C 代码将尽可能快地解决这个问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T08:17:23.763

您可以尝试使用 Numpy 加载和处理文件：

```
import numpy as np
for i in reversed(np.fromfile(sys.stdin, sep=' ')**0.5):
    print i 
```

作为 Python 的高性能数值库，我希望它是您可用的最快的解决方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T09:09:27.023

您要求使用 Python，但这可以在 C 中很好地完成。这个 C 程序不反转数字，但您可以简单地通过`tac`程序通过管道输出输出，这类似于`cat`但反转了行。

在我的测试中，这大约是 NumPy 解决方案速度的 3 倍，大约是我的 Python 解决方案或原始解决方案速度的 6 倍。

```
#include <ctype.h>
#include <math.h>
#include <stdio.h>

int
main()
{
    char buf[1024];
    char ch;
    float f;
    int i, n;

    for (i = 0;;)
    {
        ch = getchar();

        if (i > sizeof(buf))
        {
            fprintf(stderr, "number too long!\n");
            return 1;
        }

        if (isspace(ch) || EOF == ch)
        {
            if (i > 0)
            {
                buf[i] = '\0';
                n = atoi(buf);
                f = sqrtf(n);
                printf("%0.4f\n", f);
                i = 0;
            }

            if (EOF == ch)
                return 0;

            continue;
        }

        buf[i++] = ch;
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T13:32:35.787

**更新：**为发布[steveha 更早的答案](https://stackoverflow.com/a/14997388/923794)的副本而道歉。大量谈论我的阅读技巧。现在仍然将这个答案留在网上，只是因为我对 i/o/buffering/runtime 效果的思考。

**原帖：**

我无法相信 Python 应用一个正则表达式并计算一个平方根所需的时间比从标准输入读取一行并在标准输出（或任何 I/O 上）输出结果所需的时间更长。

由于某个时间点的 I/O 将来自一个硬盘驱动器，并且会转到另一个硬盘驱动器或用户的眼睛，这应该是限制因素。

I/O 通常被缓冲以提高速度。通常一个缓冲区被突发填充，然后 cpu 在等待设备提供更多数据时空闲。

这会为您的应用程序生成一个生成器。编写一个生成器，逐行读取输入，并立即按需提供一个 sqrt 数。我怀疑这会比任何合理的现代硬件上的整体 I/O 速度慢。如果您使用的是特殊设备（如嵌入式、uController、Raspberry Pi 等，请告诉我们）

您可以做的一项优化是预编译正则表达式。当您对每个测试使用相同的正则表达式时，让我们只解析一次正则表达式。您在问题中的示例很好，因为您正在执行`re.findall()`. 我只是为其他读者详细说明。

```
import sys, re, math

pattern = re.compile(r'\b\d+\b')

def fh_numbers_to_sqrt(fh):
    for line in fh:
        for i in re.findall(pattern, line):
            yield math.sqrt(float(i))

numbers_g = fh_numbers_to_sqrt(sys.stdin)
for num in numbers_g:
    print('%.4f' % num) 
```

这允许所有正则表达式和数学运算与 I/O 时间交错。

现在，我们根本无法真正优化和集成的一件事是`reverse`. 该算法必须等到最后一个元素才能反转。

所以我们可以把调用代码改成：

```
numbers_g = fh_numbers_to_sqrt(sys.stdin)
for num in reverse(list(numbers_g)):
    print('%.4f' % num) 
```

并希望这比你原来拥有的更快。同样，这应该更快的唯一原因是因为我们已经将正则表达式解析和计算的运行时间隐藏在从标准输入读取数据所需的挂钟时间内。这仍应受 I/O 限制。实际上，这`reverse`可能不会真正增加整体运行时间，因为它可能会与标准输出上发生的 I/O 交错。看看挂钟，这个算法可能根本不会用完任何时间。:-)

To prove or negate my whole post, you could measure with `time.time()` how long it takes from the start of your script to just before the line `Data = re.findall`, and from then on to the end. If I'm correct then the data reading will take most of the time. If not, it's worthwhile to measure also the time required for all the regular expression searches. Let us know. I'm curious...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T08:23:50.230

```
import sys, re, math
str1 = str(sys.stdin.readlines())
Data = re.findall('\\b\\d+\\b', str1)

d2 = [round(math.sqrt(float(i)),4) for i in reversed (Data)]

for i in d2:
    print(i) 
```

# php - SQLite 不保存主键

> ID：14996849
> 
> 赞同：1
> 
> 时间：2013-02-21T07:33:42.800
> 
> 标签：php, sql, sqlite, pdo, auto-increment

默认情况下，以下代码不会在 sqlite db 中保存“eventid”。我可以看到所有带有 echo 的行，但事件 ID 是 emply ......有什么想法吗？非常感谢。

```
$now = time();
try{
if (!file_exists("testgb")){
    $db = new PDO('sqlite:testgb');
    $db->exec("CREATE TABLE guestbook (eventid INTEGER PRIVATE KEY,name VARCHAR(55), message TEXT, date DATETIME)");
}
$db = new PDO('sqlite:testgb');
$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$db->exec("INSERT INTO guestbook (name, message, date) VALUES ('KIRILL', 'Hello!!', datetime($now, 'unixepoch'))"); 
$res = $db->query("SELECT * FROM guestbook");
foreach ($res as $row){
    echo $row['eventid']."<br>";
    echo $row['name']."<br>";
    echo $row['message']."<br>";
    echo $row['date']."<br>";
    echo "<hr>";
}
}catch (PDOException $e){
    echo $e->getMessage();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T07:46:01.277

是否要添加 AUTOINCREMENT 事件 ID？和主键？

```
$db->exec("CREATE TABLE guestbook (eventid INTEGER PRIMARY KEY AUTOINCREMENT,name VARCHAR(55), message TEXT, date DATETIME)"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:45:32.730

EventID 不是作为 AutoInc 字段创建的。我不确定语法是什么，但是如果您查找 SQLite 的 CREATE TABLE ，您会发现如何将其设置为自动增量字段。

# windows - 无法加载像素图

> ID：14996850
> 
> 赞同：0
> 
> 时间：2013-02-21T07:33:49.037
> 
> 标签：windows, qt, windows-7, qpixmap

我正在尝试将图像加载到像素图。图像本身被添加到资源中。所以这就是我想要做的：

```
result = pixmap.load("Field/foreground.png"); 
```

结果总是假的。图像存在，我可以得到它的绝对路径，如下所示：

```
 QFile qfile("Field/foreground.png");
    QFileInfo qfileinfo(qfile);
    qDebug() << qfileinfo.absolutePath(); 
```

所以路径似乎是正确的。qt 以管理员身份运行。有任何想法吗？

PS我在Windows 7下。smae代码在linux上测试成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T08:05:01.133

使用 QFile::exists() 检查文件是否真的存在，而不是仅仅查看路径。- @Roku

# asp.net - ASP.NET Razor 站点中的最大文件上传大小错误

> ID：14996852
> 
> 赞同：0
> 
> 时间：2013-02-21T07:33:51.180
> 
> 标签：asp.net, webmatrix-2

我已经使用 Webmatrix 2 构建了一个视频站点，但是当我尝试上传两个视频 .webm 和 .mp4 （在这种情况下，两个文件加起来约为 34mb）时，我收到此错误...“请求过滤模块是配置为拒绝超过请求内容长度的请求。”

该站点使用 IIS 8 实例在我的机器上本地运行。我尝试添加 Maxrequest 和 executeTimeout 没有任何运气。

```
 web.config <httpRuntime maxRequestLength="2000000" executionTimeout="600" /> 
```

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T10:59:09.993

对于任何有兴趣的人，我都应用了以下对其进行整理的方法。

[阅读这篇解释得很好的文章：](http://www.webtrenches.com/post.cfm/iis7-file-upload-size-limits)

```
<system.webServer>
    <security>
        <requestFiltering>
            <requestLimits maxAllowedContentLength="524288000"/>
        </requestFiltering>
    </security>
 </system.webServer> 
```

# regex - .net 正则表达式指定字符串中的位数

> ID：14996856
> 
> 赞同：-1
> 
> 时间：2013-02-21T07:34:17.620
> 
> 标签：regex, vb.net

您好，我正在尝试使用正则表达式在文本文件中查找以下格式的匹配项，并将数字保存到变量中。

```
id='12341234321234131313' 
```

现在我的问题我想仅当整数的数字在 16 到 22 之间时才考虑字符串匹配，是否可以直接使用正则表达式来执行此操作，或者我是否必须检查长度？

当位数为 20 时，我将使用以下 if 来匹配

```
Dim rex = New Regex("id='(\d{20})'") 
```

但是两个数字之间呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:35:17.607

要检查一系列重复长度，请使用`{min,max}`：

```
"cid='(\d{16,22})'" 
```

# iphone - NSOperationQueue 并发操作，新线程在操作内部开始

> ID：14996860
> 
> 赞同：4
> 
> 时间：2013-02-21T07:34:27.093
> 
> 标签：iphone, ios, dependencies, nsoperation, nsoperationqueue

我刚刚开始使用 NSOperation/NSOperationQueue，所以请原谅我提出这个问题。:P

在我的应用程序开始时，我希望在队列中执行一组功能，以便当一个结束时，另一个开始（我设置`setMaxConcurrentOperationCount`为 1 以便一次只发生一个操作）。一切都应该在后台发生，因为它是一种下载/上传到信息服务器的方式。

我将第一个操作放在队列中，它调用另一个方法，该方法可能会调用一些新线程来执行一些其他操作。

我的问题是，操作队列会等待第一个操作中启动的所有方法/线程完成，然后再开始第二个操作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:46:27.967

s有两种`NSOperation`，并发的和非并发的。

非并发操作在他们的`-main`方法中实现，当这个方法返回时，认为操作完成。如果您在内部生成一个线程`-main`并希望操作一直运行到线程完成，您应该阻止执行`-main`直到线程完成（例如使用信号量）。

并发操作有一组谓词，例如`-isExecuting`and `-isFinished`，并且有一个`-start`启动操作的方法。这个方法可能只是产生一些后台处理并立即返回，整个操作直到`-isFinished`这样才被认为完成。

现在我们有了 GCD，考虑块和调度队列作为一个更轻量级的替代方案通常是一个好主意`NSOperation`，另请参阅 上的`–addOperationWithBlock:`方法`NSOperationQueue`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:48:25.310

如果 NSOperation 正在执行类似 [NSURLConnection sendAsynchronousRequest:.....] 之类的异步任务，那么运行操作的线程不会等待响应，也不会等待。一旦 main 方法最后一条语句或块最后一条语句被执行，操作将从队列中删除，下一个操作将开始。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-30T06:22:29.150

你可以使用这样的东西

```
NSOperationQueue *queue=[NSOperationQueue new];
[queue setMaxConcurrentOperationCount:1];
NSBlockOperation *blockOperation1 = [NSBlockOperation blockOperationWithBlock:^{
    //operation first
}];
NSBlockOperation *blockOperation2 = [NSBlockOperation blockOperationWithBlock:^{
    //operation second
}];
[blockOperation2 addDependency:blockOperation1];
[queue addOperation:blockOperation1];
[queue addOperation:blockOperation2]; 
```

# android - 我在开发安卓应用时，如何检测杜比是开启还是关闭？

> ID：14996862
> 
> 赞同：1
> 
> 时间：2013-02-21T07:34:33.317
> 
> 标签：android, audio, dolby, dolby-audio-api

我在开发安卓应用时，如何检测杜比是开启还是关闭？

我想知道手机是否通过程序代码开启杜比，Android是否提供此应用接口？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-21T22:20:09.903

有一个来自 Dolby Developer 的 Android API，可以在他们的网站[http://developer.dolby.com上找到](http://developer.dolby.com)

您可以进行以下调用 DolbyAudioProcessing.getDolbyAudioProcessing() ，它将通知您杜比是否可用。如果返回“null”，则杜比音频处理不可用。

# paypal - 如何使用贝宝 api 编辑贝宝托管按钮

> ID：14996866
> 
> 赞同：0
> 
> 时间：2013-02-21T07:34:50.163
> 
> 标签：paypal

有没有办法使用 paypal api 从我自己的网站编辑托管的 paypal 按钮？如果是，那么我在哪里可以找到 api 嵌入链接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T18:20:27.400

您可以使用 PayPal 的按钮管理器 API 来执行此操作。您可以在此处找到所有详细信息：

[https://www.x.com/developers/paypal/documentation-tools/quick-start-guides/paypal-payments-standard-and-button-manager](https://www.x.com/developers/paypal/documentation-tools/quick-start-guides/paypal-payments-standard-and-button-manager)

# android - Android：Facebook 获得“用户访问令牌”，成功登录

> ID：14996868
> 
> 赞同：17
> 
> 时间：2013-02-21T07:34:55.437
> 
> 标签：android, facebook-android-sdk, android-facebook

我一直在通过 Facebook 最新的 SDK 即 3.0 做一些登录项目。我很难获得用户访问令牌。我在互联网上搜索过，所有最大的结果都是使用旧的 SDK。这是我从[Facebook Android SDK 教程](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)中获取的一些代码：

```
public class LoginActivity extends Activity implements OnClickListener {

Button login;
TextView accessToken;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_login);

    login = (Button) findViewById(R.id.login);
    accessToken = (TextView) findViewById(R.id.accessToken);

    login.setOnClickListener(this);

}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    Session.getActiveSession().onActivityResult(this, requestCode,
            resultCode, data);
}

@Override
public void onClick(View v) {
    // start Facebook Login
    Session.openActiveSession(this, true, new Session.StatusCallback() {

        // callback when session changes state
        @Override
        public void call(Session session, SessionState state,
                Exception exception) {
            if (session.isOpened()) {

                // make request to the /me API
                Request.executeMeRequestAsync(session,
                        new Request.GraphUserCallback() {

                            // callback after Graph API response with user
                            // object
                            @Override
                            public void onCompleted(GraphUser user,
                                    Response response) {
                                if (user != null) {
                                    TextView welcome = (TextView) findViewById(R.id.welcome);
                                    welcome.setText("Hello "
                                            + user.getName() + "!");
                                }
                            }
                        });
            }
        }
    });

}

} 
```

登录成功，我可以在应用程序中看到用户名，正如 Facbeook 教程所建议的那样。

我尝试过旧方法，但现在都已弃用。请指导我获取用户访问令牌。帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-02-21T18:52:39.413

在 onResume() 方法中添加以下代码（在这种情况下，我使用 Toast.makeText 来查看登录后的令牌访问）：

```
 Session session = Session.getActiveSession();
    if (session.isOpened()) {
        Toast.makeText(getActivity(), session.getAccessToken(), Toast.LENGTH_LONG).show();
    } 
```

我使用 getActivity 是因为它在我的情况下位于 Fragment 中，如果您在 Activity 中有登录按钮，请使用“this”而不是“getActivity()”

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2015-05-26T07:44:56.037

**注意：新的 Facebook sdk 中删除了 Session 类**

之后`Facebook SDK version 4.X`，您应该使用以下内容：

```
AccessToken token = AccessToken.getCurrentAccessToken();
if (token != null) {
    Toast.makeText(getActivity(), token, Toast.LENGTH_LONG).show();
} 
```

[更改日志参考在这里。](https://developers.facebook.com/docs/android/change-log-4.x)

[将参考从 Sdk 3.x 迁移到 4.x](https://developers.facebook.com/docs/android/upgrading-4.x)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-04-08T10:57:29.313

**我是 Android 新手 ..
我使用上面的代码只获取令牌。**

> > 对于 Facebook SDK 4.21.0
> > 编译 'com.facebook.android:facebook-android-sdk:4.21.0'

```
FacebookSdk.setIsDebugEnabled(true);              
FacebookSdk.addLoggingBehavior(LoggingBehavior.INCLUDE_ACCESS_TOKENS);

AccessToken token = AccessToken.getCurrentAccessToken();
Log.d("access only Token is", String.valueOf(token.getToken()));
String facebook_id_token = String.valueOf(token.getToken()); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-09-09T05:28:01.810

获取 facebook-sdk 4.* 或更高版本的 accessToken。在 facebookSDKInitialize() 之后添加此行

```
FacebookSdk.setIsDebugEnabled(true);
FacebookSdk.addLoggingBehavior(LoggingBehavior.INCLUDE_ACCESS_TOKEN); 
```

之后使用这些代码行，

```
AccessToken token = AccessToken.getCurrentAccessToken();
Log.d("Access Token is",token); 
```

样本：

```
 GraphRequestAsyncTask graphRequestAsyncTask = new GraphRequest(
    login_result.getAccessToken(),
    //AccessToken.getCurrentAccessToken(),
    "/me/friends",
    bundle,
    HttpMethod.GET,
    new GraphRequest.Callback() {
    public void onCompleted(GraphResponse response) {
    try {
    JSONArray rawName = response.getJSONObject().getJSONArray("data");
    Log.d("rawName friendList",String.valueOf(rawName));
    AccessToken token = AccessToken.getCurrentAccessToken();
    Log.d("access token is: ",String.valueOf(token));
    } catch (JSONException e) {
    e.printStackTrace();
    }
    }
    }
).executeAsync(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-13T13:54:58.777

以下代码已更新：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    callbackManager.onActivityResult(requestCode, resultCode, data);

    /** This block obtains Facebook UserID and Token */
    AccessToken token = AccessToken.getCurrentAccessToken();
    if (token != null) {
        Toast.makeText(this, token.toString(), Toast.LENGTH_SHORT).show();
        Log.e(TAG, "Token: " + token.getToken());
        Log.e(TAG, "UserID: " + token.getUserId());
    }
    /***/
} 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2013-02-21T07:44:16.270

在以下代码的帮助下，我成功地将 Facebook sdk 集成到我的我的中：

```
public class MainActivity extends Activity implements OnClickListener {
    Facebook fb;
    Button button;
    SharedPreferences sp;
    //TextView welcome;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        String APP_ID = getString(R.string.APP_ID);
        fb=new Facebook(APP_ID);

        sp=getPreferences(MODE_PRIVATE);
        String access_token=sp.getString("access token",null);
        long expires=sp.getLong("access expires",0);

        if(access_token!=null){
            fb.setAccessToken(access_token);
        }
        if(expires!=0){
            fb.setAccessExpires(expires);
        }

        button=(Button)findViewById(R.id.login);
        //pic=(ImageView)findViewById(R.id.picture_pic);
        button.setOnClickListener(this);
        updateButtonImage();
    }

    private void updateButtonImage() {
        // TODO Auto-generated method stub
        if(fb.isSessionValid()){
            try{
                //post.setVisibility(Button.VISIBLE);
                button.setBackgroundResource(R.drawable.logout_button);
                /*pic.setVisibility(ImageView.VISIBLE);

                JSONObject obj=null;
                URL img_url = null;
                String jsonuser=fb.request("me");
                obj=Util.parseJson(jsonuser);

                String id = obj.optString("id");
                String name = obj.optString("name");
                welcome.setText("Welcome  "+name);
                img_url=new URL("http://graph.facebook.com/"+id+"/picture?type=large");
                Bitmap bmp =  BitmapFactory.decodeStream(img_url.openConnection().getInputStream());
                pic.setImageBitmap(bmp);*/
                buttonClicks();
                }catch(Exception e){
                    e.printStackTrace();
                }

        }else{
            //post.setVisibility(Button.INVISIBLE);
            button.setBackgroundResource(R.drawable.login_button);
            //pic.setVisibility(ImageView.INVISIBLE);
        }
    }

    public void buttonClicks()
    {
            Bundle params = new Bundle();
            params.putString("image", "your string");

            fb.dialog(MainActivity.this, "feed", params, new DialogListener(){

                @Override
                public void onComplete(Bundle values) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void onFacebookError(FacebookError e) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void onError(DialogError e) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void onCancel() {
                    // TODO Auto-generated method stub

                }

            });
    }

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        if(fb.isSessionValid()){
            //button close our session - log out facebook
            try {
                fb.logout(getApplicationContext());
                updateButtonImage();
            } catch (MalformedURLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }else{
            //login to fb
            fb.authorize(MainActivity.this, new String[] {"email"}, new DialogListener(){

                @Override
                public void onComplete(Bundle values) {
                    // TODO Auto-generated method stub
                    Editor editor=sp.edit();
                    editor.putString("access_token", fb.getAccessToken());
                    editor.putLong("access expires", fb.getAccessExpires());
                    editor.commit();
                    updateButtonImage();
                }

                @Override
                public void onFacebookError(FacebookError e) {
                    // TODO Auto-generated method stub
                    Toast.makeText(MainActivity.this, "onFacebookError", Toast.LENGTH_SHORT).show();
                }

                @Override
                public void onError(DialogError e) {
                    // TODO Auto-generated method stub
                    Toast.makeText(MainActivity.this, "onError", Toast.LENGTH_SHORT).show();
                }

                @Override
                public void onCancel() {
                    // TODO Auto-generated method stub
                    Toast.makeText(MainActivity.this, "onCancel", Toast.LENGTH_SHORT).show();
                }

            });
        }
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);
        fb.authorizeCallback(requestCode, resultCode, data);
    }
} 
```

我希望，你会得到一些帮助。

# jquery - Django 管理表单集：如何使用 jQuery 添加新的表单集行？

> ID：14996873
> 
> 赞同：0
> 
> 时间：2013-02-21T07:35:08.500
> 
> 标签：jquery, django, django-forms, django-admin

在 django 管理员添加页面中，使用`TabularInline`它时有一个锚点`Add another Poll`，它的 html 看起来像

```
<a href="javascript:void(0)">Add another Poll</a> 
```

现在我想添加一个新行，就像在触发文件输入更改事件时使用鼠标单击锚一样：

```
$('input:file').change(function(e){
    //... do something ...
    var rows = "#poll_set-group .tabular.inline-related tbody tr";
    var addbtn = $(rows).parent().find("tr:last a")
    addbtn.click(); // try to add a new row but doesn't work
}); 
```

元素选择是正确的，但 click() 不起作用。我也试过`addbtn.trigger('click')`，虽然它几乎做同样的事情，但仍然不起作用。

当我追踪到 Django 的 inline.js 可以看到绑定的函数

内联.js

```
(function($) {
    $.fn.formset = function(opts) {
        ///...
        if ($(this).length && showAddButton) {
            var addButton;
            if ($(this).attr("tagName") == "TR") {
                //...
                addButton = $(this).parent().find("tr:last a");
            } else {
                //...
                addButton = $(this).filter(":last").next().find("a");
            }
            addButton.click(function() {
            //...
            });
        } 
    }
})(django.jQuery); 
```

谁能告诉我为什么`.click()`不起作用？或任何其他建议做同样的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-02T06:18:44.990

尝试了几个小时后，我发现了如何做到这一点，并在此过程中学到了一些关键点。

1.`.data`用于在插件中存储本地对象。（不确定是否会导致内存泄漏或任何其他问题）

内联.js

```
(function($) {
    $.fn.formset = function(opts) {
        ///...
        if ($(this).length && showAddButton) {
            var addButton;
            if ($(this).attr("tagName") == "TR") {
                //...
                addButton = $(this).parent().find("tr:last a");
            } else {
                //...
                addButton = $(this).filter(":last").next().find("a");
            }

            // store local object 'addButton' into data()
            var $this = $(this), data = $this.data('addButton')
            if( !data ){
                $this.data('addButton', {
                    target : addButton,
                });
            }

            addButton.click(function() {
            //...
            });
        } 
    }
})(django.jQuery); 
```

2.jQuery对象实例存在于自己的命名空间中（本例为django.jQuery）

```
<script type="text/javascript">
$(document).ready(function(){
    (function($) {
        var rows1 = "#poll_set-group .tabular.inline-related tbody tr";
        $(rows1).formest({...});
    })(django.jQuery);

    var rows2 = "#poll_set-group .tabular.inline-related tbody tr";
    $(rows2).data('addButton')
    // Error, rows2's data is empty
    // cause of although rows1 & rows2 have same selector, but they are different objects in the different namespaces

    // use django.jQuery(rows2) to get the same object instance of rows1
    // this can trigger the same event handler being bound in the plugin inline.js
    django.jQuery(rows2).data('addButton').target.click(); 
});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T12:43:35.697

`addbtn`并且`addButton`是不同的对象，因此具有不同的点击事件处理程序。您必须扩展`addButton`以添加其他事件处理程序。此外，绑定在 DOM 上的事件已准备就绪，例如：

```
$('input:file).change(); 
```

仅适用于加载 DOM 时存在的元素，不会应用于该选择器的未来元素。为此，您需要使用[.live()](http://docs.jquery.com/Events/live)

# php - 如何比较php中的日期格式？或者如何检查日期是什么格式？

> ID：14996886
> 
> 赞同：3
> 
> 时间：2013-02-21T07:35:42.447
> 
> 标签：php, date-format

如何比较php中的日期格式？例如，我必须检查日期是这种格式`(21-02-2013)`还是`(21/2/13)`. 请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:45:28.750

为（21/2/13）

```
 function testDate( $value )   
 {   
  return preg_match( ''^\d{1,2}/\d{1,2}/\d{4}$'', $value ) )   
 }   

 testDate( '21/11/1999' ); // -> true   
 testDate( '3/9/2008' ); // -> true 
```

(21-02-2013)

```
$d = explode("-"  , $date);
if( !checkdate($d[1], $d[0], $d[2]) )
echo 'Not a recognised date' ; 
```

# android - 在Android中以圆形布局动态添加imageViews

> ID：14996891
> 
> 赞同：1
> 
> 时间：2013-02-21T07:35:49.413
> 
> 标签：android

我想像圆盘一样在一个圆圈中动态添加 imageViews。Android 不提供圆形布局，所以请帮我创建一个圆形布局。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:41:11.113

您不需要特殊的布局。您可以使用相对布局或框架布局。

只需以正常方式动态添加视图，但使用边距、填充等定位它们，使它们看起来像一个圆圈。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T07:54:29.220

只需检查一下，此链接显示如何制作圆形视图...只需在其中实现您的图像视图...

[http://developer.samsung.com/android/samples-4](http://developer.samsung.com/android/samples-4)

或者您可以通过 xml 执行此操作：

```
<LinearLayout orientation=vertical for whole screen>
    <LinearLayout weight=1 gravity=center> <!--- Top --->
    </LinearLayout>
    <LinearLayout weight=1 orientation=horizontal> <!-- middle -->
        <LinearLayout weight=1 gravity=left/>
        <LinearLayout weight=1 gravity=right/>
    </LinearLayout>
    <LinearLayout weight=1> <!-- botton -->
        <LinearLayout weight=1 gravity=center/>
        <LinearLayout weight=1 gravity=center/>
    </LinearLayout>
</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-03-14T09:57:03.190

从您的问题中，我可以看到您需要在 Android 上使用圆形布局来排列图像。我认为这个[库](https://github.com/xresco/CircularLayout)会帮助你做到这一点。这个库让你能够添加项目，用动画旋转它们。看看这个！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T07:52:02.577

您可以使用 Horizo​​ntalScrollView。

# jquery - 如何在 Google Analytics 中跟踪移动网站视频事件？

> ID：14996893
> 
> 赞同：2
> 
> 时间：2013-02-21T07:36:02.297
> 
> 标签：jquery, jquery-mobile, video, google-analytics

在我们的桌面站点中，我们包含了带有 mediaelement js 播放器的 MP4 视频。我们目前正在使用 Google Analytics 插件跟踪视频事件，但我们很困惑这将如何与我们的 jQuery 移动网站一起工作，因为在移动设备中，当我们点击视频时，它将加载到本机视频播放器应用程序上，而不是通过 mediaelement js 播放玩家？

如果我们的视频在本机应用程序上播放，我们是否无法跟踪视频上的 Google Analytics 事件？

谁能让我知道我们如何克服这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T22:10:09.873

虽然我没有专门使用它来跟踪视频，但这个脚本 - [https://code.google.com/p/google-analytics-js/](https://code.google.com/p/google-analytics-js/) - 在跟踪 JS 库的第三方使用方面非常有帮助。

就像我在 JS 库中调用它一样，您可以将调用挂钩`gaTrack('UA-123456', 'yoursite.com', '/assets/videoname.mp4');`到您在 jQuery 中启动视频的位置。

请注意，这只会让您跟踪启动，当它在本机播放器中运行时，您将受到限制可以跟踪哪些事件（在将暂停/搜索等事件反馈给播放器时，有些事件比其他事件更好，但您会需要测试类似[https://gist.github.com/Offbeatmammal/3718414](https://gist.github.com/Offbeatmammal/3718414)的东西）

本质上，该脚本所做的是手动构造一个对具有正确参数的 GA 跟踪 gif 的调用。您还可以为虚拟浏览量构建自己的虚拟推送，但这需要更多工作[https://developers.google.com/analytics/devguides/collection/gajs/asyncMigrationExamples#VirtualPageviews](https://developers.google.com/analytics/devguides/collection/gajs/asyncMigrationExamples#VirtualPageviews)

# drupal-7 - Drupal 7：将现有用户注册字段添加到用户配置文件

> ID：14996898
> 
> 赞同：0
> 
> 时间：2013-02-21T07:36:20.087
> 
> 标签：drupal-7

我正在使用 Profile2 的多页组功能构建一个多步骤用户注册表单。它工作正常。但是我想在多页组的第一步中添加内置的用户注册字段，例如“用户名”、“电子邮件地址”、“密码”、“确认密码”，并且不希望这些字段保持在顶部默认行为。我是 Drupal 7 的新手。我检查了设置，但无法获得此类设置。任何人都可以在这方面指导我吗？请帮忙

TIA

杜什安特·乔希

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T16:09:32.863

检查帖子编号 3 [http://drupal.org/node/1426288](http://drupal.org/node/1426288)或帖子编号 7 [http://drupal.org/node/1068446](http://drupal.org/node/1068446(custom) （自定义模块）。您应该首先检查 drupal.org 的任何功能。

# mobile - 微软楔形手机键盘

> ID：14996902
> 
> 赞同：3
> 
> 时间：2013-02-21T07:36:53.503
> 
> 标签：mobile, keyboard, wedge

我有一个“微软楔形移动键盘”。它将功能键更改为播放、静音、搜索、共享等...我找不到此键盘的任何驱动程序或程序。
我可以把它改回正常的功能键吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-18T13:03:30.387

[http://www.autohotkey.com/](http://www.autohotkey.com/)

有了这个脚本，为我工作！

```
Media_Play_Pause::F1
Volume_Mute::F2
Volume_Down::F3
Volume_Up::F4
<+#F21::F5
<!<#F21::F6
<^<#F21::F7
<#F21::F8
PrintScreen::F9
Home::F10
End::F11
PgUp::F12
F1::Media_Play_Pause
F2::Volume_Mute
F3::Volume_Down
F4::Volume_Up
F5::<+#F21
F6::<!<#F21
F7::<^<#F21
F8::<#F21
F9::PrintScreen
F10::Home
F11::End
F12::PgUp 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T07:46:35.227

MVP回复，他们说是硬件功能，也就是说不能改。程序员不可以使用它。:(

# ruby-on-rails - 有一个 jquery-rails 有什么意义

> ID：14996908
> 
> 赞同：2
> 
> 时间：2013-02-21T07:37:14.047
> 
> 标签：ruby-on-rails, ruby

所以我安装了 Ruby on Rails（第一次）并着手开始一个新项目和一个服务器。因此，正如预期的那样，运行 Rails 服务器命令时出错。显然，需要安装一些宝石。bundle install 命令不适用于一些奇怪的 ssl 问题。所以我决定手动完成。

让我感到奇怪的是 jQuery 有一个宝石：jquery-rails。我不明白这个的意义，真的。为什么不简单地下载 jquery 文件并将其公开。这里有宝石有什么意义。是为了方便还是有其他重要原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:41:48.510

我认为这是一个好主意，因为它使 JQuery 作为版本依赖项可用。

如果您需要更新 JQuery，您只需在应用程序中的某个位置更改版本，每个需要它的页面都将使用新版本。

并且基于它的[主页](https://github.com/rails/jquery-rails)，还有一个可以在测试中使用的测试助手。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T08:24:02.443

Jquery-rails 做了两件事。首先，它捆绑了适当版本的 jquery。我认为这只是对 jquery 本身的一种方便。对于 jquery-ui 之类的东西，jquery-ui-rails 可以做更多的事情：因为 jquery-ui 是模块化的，所以 gem 将只为客户端提供您正在使用的 jquery-ui 的部分。

jquery-rails 中的另一件事是 jquery-ujs。这是 javascript，它使诸如传递 :remote => true 选项到 form_for 工作。过去，rails 本身包含一个用于原型的版本，但在 rails 3 中，这是从 rails 中提取的，以便更容易使用其他 javascript 库，而不是 rails 以前默认的原型

# mysql - 多列索引与多索引/索引合并

> ID：14996911
> 
> 赞同：1
> 
> 时间：2013-02-21T07:37:21.053
> 
> 标签：mysql, database, optimization

假设我们有一个包含 4 列的表：A、B、C 和 D

假设我们有一些查询将加入或针对这些列执行子句：

```
Q1: Where A = ?
Q2: Where A = ?, B = ?
Q3: Where A = ?, B = ?, C = ? 
```

既然我们知道我们将在三个不同的上下文中使用这些列，那么最好创建三个不同的索引吗？还是三个不同的多重索引？

索引合并：

```
Idx1: Create index A_idx ON table (A)
Idx2: Create index B_idx ON table (B)
Idx3: Create index C_idx ON table (C) 
```

多重索引

```
Idx1: Create index A_idx ON table(A)
Idx2: Create index AB_idx ON table(A,B)
Idx3: Create index ABC_idx ON table(A,B,C) 
```

这是一个简化的案例。假设我们有 10-15 列，它们将以不同的方式和组合进行连接或连接。是否最好为他们将收到的这些组合创建多个列索引？或者只是找到最常用的多列的最小集合，在这些列上构建多列索引，然后为其余的创建单独的索引？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T07:44:15.330

(A,B,C) 上的复合索引将涵盖 3 个查询，因此您不需要 (A) 和 ON (A,B) 上的索引。它也比 index_merge 快。

拥有多个索引的唯一原因是某些查询不会被索引覆盖（例如，它们包括 B 和 C，但不包括 A）

还要记住，列的最重要特征之一，即决定它是否应该包含在索引中，不是它是否在查询中使用，而是它的基数。如果对该列的查询不会排除很多行，则不应将其包含在索引中。

假设您有 A,B,C 对于给定的 A 值，您有 20% 的行。从这些行中，对于给定的 B 值，您有 1% 的行。假设这些条件 (A,B) 从表中过滤 1000 行。应用 C 后，您会收到 850 行。C 上的索引无效，并且 (A,B) 是此查询的最佳索引

# combobox - 剑道组合框下拉边框颜色

> ID：14996912
> 
> 赞同：1
> 
> 时间：2013-02-21T07:37:23.270
> 
> 标签：combobox, border, kendo-ui

根据我的要求，我更改了剑道组合框的背景颜色，但边框（旧颜色）仍然存在。如何在剑道组合框中删除/更改下拉菜单的边框颜色（完整的下拉菜单不是单个列表项）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T08:27:21.967

以下 CSS 将设置组合框及其下拉菜单边框：

```
.k-combobox {
  border: 1px solid red;
}

.k-list-container {
  border: 1px solid red;
} 
```

这是一个现场演示：http: [//jsbin.com/igocak/1/edit](http://jsbin.com/igocak/1/edit)

# c++ - WinAPI - 显示按下的键

> ID：14996915
> 
> 赞同：0
> 
> 时间：2013-02-21T07:37:40.457
> 
> 标签：c++, winapi, keypress

我正在尝试学习 WinAPI 编程，但现在我遇到了这个问题 - 我想按下键并显示它。我有这段代码

```
LRESULT CALLBACK WndProc(HWND hwnd, UINT Msg, WPARAM wParam, LPARAM lParam){
    switch(Msg){
    case WM_CREATE:
        break;

    case WM_CHAR:
        char ascii_code = wParam;
        unsigned int key_state = lParam;
        SetWindowText(hwndStatic, TEXT("You pressed key "+ascii_code));

        break;

    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    }
    return DefWindowProc(hwnd, Msg, wParam, lParam);
} 
```

但输出很奇怪......它显示随机消息（每个键不同）。我究竟做错了什么？

我尝试调试它（一步一步）并且 ascii_code 包含按下的键，但 TEXT() 没有显示它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:20:53.620

您不能像这样将字符添加在一起：

```
"You pressed key "+ascii_code; 
```

这将获取 的地址`"You pressed key "`，例如`1000`并向其添加 ascii 代码值，例如 95。

该函数将尝试在内存地址打印字符串`1095`。它将打印所有内存，直到遇到空字符（零）。这可以是任何东西。

您需要使用`C`函数来构建您的字符串，或者，因为它被标记为`C++`use `std::string`。

```
std::string message = "You pressed key ";
message += ascii_code;

SetWindowText(hwndStatic, TEXT(message.c_str())) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-21T08:25:08.827

```
"You pressed key "+ascii_code 
```

你不能像这样连接字符串。真正的类型`"foo bar"`是`const char[8]`- 一个原始的类似 C 的字符数组。当您对其应用 + 时，它会衰减为指向其第一个元素的指针，并且操作在指针上进行。这意味着您最终会根据该指针最终指向的位置打印一些随机数据。

如果要将字符连接到字符串，则必须使用更智能的字符串表示，例如`std::string`：

```
(std::string("you pressed key ") + ascii_code).c_str(); 
```

# sql - Sqlserver 内存大小

> ID：14996919
> 
> 赞同：0
> 
> 时间：2013-02-21T07:37:56.103
> 
> 标签：sql, sql-server, sql-server-2005

我有 SQLServer 2005 数据库。我增加了数据库缓冲区大小。执行一个查询，然后sqlserver.exe mem使用量增加，这是正常的。在此查询之后，DB 处于睡眠模式，但 RAM PF Usage 并没有减少。我想在查询后，删除 mssql 缓存。

查询后，我执行这些： `DBCC FREESYSTEMCACHE('SQL Plans'); `DBCC 自由会话缓存； `DBCC FREEPROCCACHE；```

 ```但不会减少 RAM PF Usage。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:34:32.507

您正在执行的 dbcc 语句释放计划缓存，而不是缓冲区缓存。

尝试使用：

```
checkpoint
GO

dbcc dropcleanbuffers 
```

即使在运行后，SQL Server 也可能不会归还内存。如果您正在使用动态内存管理（最小服务器内存 < 最大服务器内存），那么通常只有在存在内存压力时才会回馈。

如果您使用的是静态分配（最小服务器内存 = 最大服务器内存），它永远不会归还它。

此外，如果您只是在测试东西，这些东西也很好。我不建议在重要的系统上这样做。```

# regex - 正则表达式负前瞻问题

> ID：14996927
> 
> 赞同：-1
> 
> 时间：2013-02-21T07:38:26.297
> 
> 标签：regex, regex-negation

我无法让消极的前瞻性工作。

我想捕获文件中所有提到“警告”或“错误”的行，但如果该行也提到“clearmake”则不会。

所以它应该抓住这个：

```
This is a warning : bla bla 
```

但不是这个：

```
clearmake.exe: This is a warning : bla bla 
```

我玩过负前瞻，但我无法让它工作

```
(?!clearmake).*$ 
```

有什么想法吗？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T08:07:59.600

您可以在正则表达式中执行此操作，但您需要对正则表达式进行高级理解。`if()`如果您使用 2 个或逻辑运算符和正常的字符串搜索来执行此任务，可能会更容易阅读/理解。

您应该始终为此类问题提供**语言标签**，以便有机会获得替代答案。

我解释了一个正则表达式解决方案，我假设您正在逐行读取该文件。

1.  您想匹配`warning` **OR** `error` ==> 使用替代`\b(?:error|warning)\b`。

2.  但不是在包含`clearmake`==>的行中`^(?!.*\bclearmake\b)`

所以你的正则表达式看起来像这样：

```
^(?!.*\bclearmake\b).*\b(?:error|warning)\b 
```

[在 Regexr 上](http://regexr.com?33rn8)查看

*   `\b`是避免部分匹配的[词边界](http://www.regular-expressions.info/wordboundaries.html)

*   `^`是字符串开头的[锚点](http://www.regular-expressions.info/anchors.html)

*   `(?!.*\bclearmake\b)` [否定前瞻断言](http://www.regular-expressions.info/lookaround.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:07:16.933

你可以试试这个

```
^(?!.*\bclearmake\b).*(warning|error).*$
    ---------------
        |
        |->match further only if the string doesn't have clearmake 
```

# android - Android在Andengine中为不同类型的实体实现对象池

> ID：14996928
> 
> 赞同：1
> 
> 时间：2013-02-21T07:38:33.953
> 
> 标签：android, sprite, andengine, object-pooling

我正在为 Android 开发 AndEngine 游戏。在我的游戏中，我必须每秒钟创建不同类型的 Tiles (AnimatedSprite)。我已经做到了。但我在比赛中感到抽搐和滞后。我认为这是由于频繁地分配和取消分配对象。所以我想在我的游戏中实现对象池模式。我当前用于创建 Tile 的代码：

```
public class TileFactory implements EntityFactory {

private static TileFactory tileFactory;

@Override
public AnimatedEntity createEntity(PlayLevelActivity mGameWorld, ResourceType type) {
    // TODO Auto-generated method stub
    ITiledTextureRegion textureRegion = ResourceManager.getTextureRegion(mGameWorld, type);;
    switch (type) {
        case STATIC_TILE:
            return new StaticTile(mGameWorld, 0, 0, textureRegion.getWidth(), textureRegion.getHeight(), 
                    BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
        case DYNAMIC_TILE :
            return new DynamicTile(mGameWorld, 0, 0, textureRegion.getWidth(), textureRegion.getHeight(), 
                    BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
        case DANGER_TILE:
            return new DangerTile(mGameWorld, 0, 0, textureRegion.getWidth(), textureRegion.getHeight(), 
                    BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
        case FIRE_TILE:
            return new FireTile(mGameWorld, 0, 0, textureRegion.getWidth(), textureRegion.getHeight(), 
                    BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
        case HIGH_JUMP_TILE:
            return new HighJumpTile(mGameWorld, 0, 0, textureRegion.getWidth(), textureRegion.getHeight(), 
                    BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
        case RISK_TILE:
            return new RiskyTile(mGameWorld, 0, 0, textureRegion.getWidth(), textureRegion.getHeight(), 
                    BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
        default :
            return null;
    }
}

    public static TileFactory getIntance() {
        if(tileFactory == null) {
            tileFactory = new TileFactory();
        }
        return tileFactory;
    }
} 
```

我已经看到了一些在 AndEngine 中使用 ObjectPool 的示例，但它们仅适用于单一类型的实体。我有几种类型的实体要创建。任何指南如何将我当前的场景转换为 ObjecPool 之一？

**静态瓷砖池类：**

```
public class StaticTilePool extends GenericPool<StaticTile> {

PlayLevelActivity mGameWorld;
ITiledTextureRegion textureRegion;

public StaticTilePool(PlayLevelActivity mGameWorld) {
    this.mGameWorld = mGameWorld;
    textureRegion = ResourceManager.getTextureRegion(mGameWorld, ResourceType.STATIC_TILE);
}

/**
 * Called when a Tile is required but there isn't one in the pool
 */
@Override
protected StaticTile onAllocatePoolItem() {
    Log.d("count:", "count: " + getAvailableItemCount() + " ,    maximum count: " + getAvailableItemCountMaximum() + " ,    unrecycled count: " + getUnrecycledItemCount());

    return new StaticTile(mGameWorld, -100, -100, textureRegion.getWidth(), textureRegion.getHeight(), 
            BodyType.StaticBody, textureRegion, mGameWorld.getVertexBufferObjectManager());
}

/**
 * Called just before a Tile is returned to the caller, this is where you write your initialize code
 * i.e. set location, rotation, etc.
*/
@Override
protected void onHandleObtainItem(final StaticTile pItem) {
    pItem.reset();
    pItem.mBody.setAwake(false);
}

/**
 * Called when a Tile is sent to the pool
*/
@Override
protected void onHandleRecycleItem(final StaticTile pItem) {
    Log.d("onHandle recycle", "onhandle recycle oitem");
    pItem.mBody.setAwake(true);
    pItem.setVisible(false);
    pItem.setIgnoreUpdate(true);
} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T01:41:48.140

查看....

> org.andengine.util.adt.pool.MultiPool

这正是你想要的。一个池子。您需要使用自己的自定义实现来扩展 MultiPool。这是我在项目中使用的示例。（我已经减少了多池中的池数量，但留得足够多，这样你就知道了。）

```
public class CritterPool extends MultiPool {
    private WorldActivity   mContext;

    public static enum TYPE {
        PROTOGUY, COW, MALE, SKELETON
    }

    public CritterPool(WorldActivity mContext) {
        super();
        this.mContext = mContext;
        this.registerPool(TYPE.PROTOGUY.ordinal(), new ProtoGuyPool(mContext));
        this.registerPool(TYPE.COW.ordinal(), new CowPool(mContext));
        this.registerPool(TYPE.MALE.ordinal(), new MalePool(mContext));
        this.registerPool(TYPE.SKELETON.ordinal(), new SkeletonPool(mContext));
    }

    public BaseCritter get(TYPE type) {
        return (BaseCritter) this.obtainPoolItem(type.ordinal());
    }

    public void recycle(BaseCritter critter) {
        this.recyclePoolItem(critter.getType().ordinal(), critter);
    }

} 
```

所以现在，从外部，我创建了多池，然后我可以用我想要的任何类型的（在本例中为“小动物”）从池中调用 get()，无论是牛、骷髅等。

# shell - 在 shell 脚本中以 sudo 运行命令集

> ID：14996931
> 
> 赞同：0
> 
> 时间：2013-02-21T07:38:57.433
> 
> 标签：shell, sudo

我希望在我的 shell 脚本中间有以下内容。

```
---
sudo -u user1
cp /files ./  (as these files are only accessbile to user1)
exit 
----
continue as me . 
```

问题是直到 sudo 它运行良好，sudo 之后的其余命令都没有执行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:42:58.923

您使用`sudo`不正确。尝试：

```
sudo -u user1 cp /files ./ 
```

没有必要将它分成两行（确实这样做是错误的）。“退出”退出你的脚本，所以它执行后什么都没有。

# php - 挂钩到脚本的运行时

> ID：14996938
> 
> 赞同：1
> 
> 时间：2013-02-21T07:39:41.333
> 
> 标签：php, c++, c, php-extension

我正在用 PHP 编写一个非常简单的计时器扩展，我想知道如何：

*   挂接到运行时/获取我的扩展的函数，以便在脚本执行开始/结束时调用
*   在开始和结束时挂钩特定函数，例如 Pdo::query()。

目的是给给定的函数或脚本计时，以便我们可以轻松计算执行时间等。我知道我可以在纯 PHP 中实现这一点：

1.  auto_prepend_file / auto_append_file
2.  使用可以让我挂钩（开始）功能的[扩展。](http://pecl.php.net/package/AOP)

但我最感兴趣的是 C/C++ 解决方案（在 PHP/Zend API 中）。也许有更好的方法来做我想做的事？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T14:55:23.817

我很确定 php 在扩展中没有函数挂钩！您可以在扩展中设置的唯一挂钩是在 apache (MINIT) 中首次加载扩展时以及每次服务器收到请求时 (RINIT)。

以某种方式可以用您自己的函数替换一个函数（我前段时间在某处读过，您可以替换 zend 引擎的函数以进行解析、编译等）。

ps：你可能还想看看xdebug，我很确定扩展做了一些计时/分析，你可以看看它是如何完成的！

# c - 以下代码输出的原因：

> ID：14996939
> 
> 赞同：2
> 
> 时间：2013-02-21T06:38:27.857
> 
> 标签：c

我有几行代码我无法理解这个输出的原因..

```
int main()
{
int a=5;
float b=10.5,c=11.0;
printf("%d",b);
printf("\n%d",c);
printf("\n%f",a);
return 0; 
} 
```

Visual C++ 中的 O/p :- 0 ,0 ,0.000000

gcc 编译器：- 0,0, 11.000000

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-21T07:44:31.577

当您调用可变参数函数`printf`时，`float`s 会升级为`double`. `int`s 按原样传递。`printf`因此期望 a `double`when you write`%f`和 an `int`when you write `%d`。

不给它一个`double`，而是一个`int`，因此是**未定义的行为**。`double`同样，当函数需要 an 时传递 a`int`也是未定义的。

像往常一样，未定义的行为意味着“任何事情都可能发生”。永远不要依赖未定义的行为。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-21T07:17:44.250

您正在玩未定义或未指定的行为。不确定是哪一个。在我的带有 gcc 4.7.2 的 Debian 上，我得到 -780714744, 4195886, 11.000000 的输出。

# download - 将文件从 ftp 服务器下载到本地机器

> ID：14996941
> 
> 赞同：0
> 
> 时间：2013-02-21T02:40:26.643
> 
> 标签：download, ftp

我应该如何使用 php 从 ftp 服务器下载文件到我的本地机器？`curl`对这个有好处吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T04:50:10.557

您可以使用 PHP 中的 wget 或 curl。请注意，PHP 脚本将等待下载完成。因此，如果下载时间超过您的 PHP 的 max_execution_time，您的 PHP 脚本将在运行时被终止。

实现这样的事情的最好方法是异步执行，这样您就不会减慢 PHP 脚本的执行速度，该脚本可能应该稍后提供一个页面。

有很多方法可以异步实现它。最干净的一种可能是在 AMQP 上使用 RabbitMQ 或 ZeroMQ 等队列。一个不太干净的方法也可以，将下载的 url 写入文件，然后实现一个 cronjob，它会仔细检查该文件是否有新的 url 下载并执行下载。

只是一些想法...

# c++ - 具有可变函数参数的 C++ 多态性

> ID：14996945
> 
> 赞同：3
> 
> 时间：2013-02-21T07:40:04.233
> 
> 标签：c++, polymorphism, variadic-templates, polyvariadic

我正在与您分享一个使用可变参数函数参数的类所遇到的问题。它是下面代码中显示的类 Thread。它是 std::thread 的包装器，以便使用函数模式。

我想在这个函数中使用多态性将类 Thread 继承到一个新类 Functor 中，但是 gcc 返回以下错误：

```
#include <thread>
#include <iostream>

using namespace std;

template<class... Args>
class Thread
{
public:
    virtual void operator()(Args...) = 0;

    void run(Args... args)
    {
    std::thread t(std::forward< Thread<Args...> >(*this), std::forward<Args>(args)...);
    t.join();
    }
};

template<class... Args>
class Functor : public Thread<Args...>
{
public:
    // generates the errors bellow
    virtual void operator()(Args... /*args*/)
    {
    }

    // doesnot work since the pure virtual function wants another prototype of function.
    // void operator()(int)
    // {
    // }
};

int main()
{
    int a = 12;
    Functor<int> f;
    f.run(ref(a));

    return 0;
} 
```

```
从 t-Thread-args2.cpp:1:
/usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../include/c++/4.7.2/tuple：在'struct std::_Head_base的实例化中, 假>':
/usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../include/c++/4.7.2/tuple:215:12：来自'struct std ::_Tuple_impl, int>'
/usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../include/c++/4.7.2/tuple:507:11：来自'class std ::元组，整数>'
/usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../include/c++/4.7.2/functional:1601:39：来自'struct std ::_Bind_simple(int)>'
/usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../include/c++/4.7.2/thread:133:9: 来自'std: :thread::thread(_Callable&&, _Args&& ...) [with _Callable = Thread; _Args = {int}]'
t-Thread-args2.cpp:14:83: 需要来自 'void Thread::run(Args ...) [with Args = {int}]'
t-Thread-args2.cpp:42:17：从这里需要
/usr/lib/gcc/x86_64-unknown-linux-gnu/4.7.2/../../../../include/c++/4.7.2/tuple:166:13：错误：无法声明字段'std::_Head_base, false>::_M_head_impl' 为抽象类型'Thread'
t-Thread-args2.cpp:7:7: 注意：因为以下虚函数在“线程”中是纯的：
t-Thread-args2.cpp:10:18: 注意: void Thread::operator()(Args ...) [with Args = {int}]

```

我真的不明白这个错误，因为纯虚函数在派生类中定义得很好。但是，将函数 run() 移动到派生类 (Functor) 中，它可以工作。

在此先感谢， Caner

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:48:56.697

根据 [thread.thread.constr]§3，`std::thread`构造函数的第一个参数的类型是`F&&`，要求`F`是`MoveConstructible`。在您的情况下，`F`是`Thread`，不是`MoveConstructible`。

换句话说，`std::thread`需要按值存储函子，并且您将函子转发为`Thread`，这是抽象的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T07:53:03.613

问题是：

```
std::forward< Thread<Args...> >(*this) 
```

它试图复制`Thread`子对象。幸运的是它是抽象的，所以你会得到一个编译错误而不是意外的运行时行为。

您需要一个参考包装器：

```
std::ref(*this) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-21T09:39:05.317

我考虑了参与者对此主题提供的多种建议，包括使用`std::ref`并希望与您分享解决我在以前的代码中遇到的问题的工作代码版本。

```
#include <thread>
#include <iostream>

using namespace std;

template<class... Args>
class Thread
{
public:
    virtual void operator()(Args...) = 0;

    void run(Args... args)
    {
    std::thread t(std::ref(*this), args...);
    t.join();
    }
};

template<class... Args>
class Functor : public Thread<Args...>
{
public:
    void operator()(int)
    {
        while (1)
            {
            cout << "42 "; cout.flush();
            }
    }
};

int main()
{
    int a = 12;
    Functor<int> f;
    f.run(ref(a));

    return 0;
} 
```

再次感谢。

# java - struts2中使用.action后缀访问jsp路径

> ID：14996946
> 
> 赞同：0
> 
> 时间：2013-02-21T07:40:08.023
> 
> 标签：java, struts2, namespaces

我有一个项目使用`struts 2.1.8`. 该项目是通过使用注释配置的`struts2-convention-plugin`。这是我在 web.xml 中的 struts 配置：

```
<filter>
  <filter-name>struts2Filter</filter-name>
  <filter-class>
    org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
</filter>
<filter-mapping>  
    <filter-name>struts2Filter</filter-name>  
    <url-pattern>*.jsp</url-pattern>  
</filter-mapping>
<filter-mapping>   
    <filter-name>struts2Filter</filter-name>   
    <url-pattern>/struts/*</url-pattern>   
</filter-mapping> 
```

struts.xml：

```
<constant name="struts.convention.default.parent.package" value="borrow-default" />
<constant name="struts.convention.package.locators" value="action" />
<constant name="struts.convention.package.locators.basePackage" value="com.abc.action" />
<constant name="struts.convention.result.path" value="/" /> 
```

A.java：

```
@Namespace("/regist")
public class A extends ActionSupport{
    @Action(value="/a", results = {@Result(location = "/a/test.jsp")})
    public String execute(){
        return SUCCESS;
    }
} 
```

这是问题所在，我可以访问 url`http://localhost:8080/a/test.jsp`和中的 test.jsp `http://localhost:8080/regist/a.action`，但我仍然可以访问 url 中的同一页面`http://localhost:8080/a/test.action`。我不知道为什么会发生这种情况，我的配置或代码有什么问题？

* * *

我还尝试了其他一些网址，似乎命名空间没有生效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T07:47:01.963

在 web.xml 你的 url 模式是这样的：

```
<url-pattern>/struts/*</url-pattern> 
```

但是你被放置 jsp 并从 /a/test.jsp 中获取它，一旦检查它......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-18T01:39:02.333

我将struts升级到2.3.15.1，这个问题就消失了

# mysql - MySQL 5.5：以下哪一项是 innodb 中 text/varchar 字段的更好存储？

> ID：14996949
> 
> 赞同：7
> 
> 时间：2013-02-21T07:40:16.670
> 
> 标签：mysql, innodb

要求 ：

> Page#1 -> 显示用户和他们最近 10 篇博文的 1-2 行预览
> 
> Page#2 -> 显示带有全文的单个博文。

# 方法一：

```
MySQL table ->   userid -> varchar 50
                 post_id -> integer
                 post_title -> varchar 100
                 post_description -> varchar 10000 
```

**对于 page#1**，从 blog_table 中选择 user_id、post_title 和 post_description。post_description 的子字符串用于在列表中显示预览。

**对于 page#2**，选择 user_id 、 post_title 、 post_description 其中 post_id = N

# 方法二：

```
 MySQL table ->   userid -> varchar 50
                  post_id -> integer
                  post_title -> varchar 100
                  post_brief -> varchar 250
                  post_description -> text 
```

**对于 page#1**，从 blog_table 中选择 user_id、post_title 和 post_brief。

**对于 page#2**，选择 user_id 、 post_title 、 post_description 其中 post_id = N

是否存储两列，一列作为 varchar，一列作为文本（因为它访问文件系统，并且只在需要时才应该查询），是否值得性能优势？

因为，方法 2 将仅存储指向行中文本的指针，而方法 1 将在行中存储完整的 varchar 10K 字符串。它是否会影响可以驻留在 RAM 中的表数据量，从而影响查询的读取性能？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-08T21:36:23.420

SQL 查询的性能主要取决于 JOIN、WHERE 子句、GROUP BY 和 ORDER BY，而不是检索到的列。如果检索到的数据明显更多，这些数据可能必须通过网络才能由您的编程语言处理，这些列才会对查询的速度产生显着影响。这里情况不同。

**简短回答：两种提议的设置之间的性能差异可能非常小。**

为了获得良好的速度，您的`post_id`列应该有一个（唯一的）索引。您没有按任何其他列进行选择、排序或分组，因此数据可以直接来自表格，这是一个非常快速的过程。

您在这里谈论“页面”，所以我猜这些将呈现给用户 - 您似乎不太可能希望在同一页面上向人类显示数千篇博客文章的表格，因此您可能会这样做实际上，您的陈述中有 ORDER BY 和/或 LIMIT 子句，而您没有包含在您的问题中。

但是，让我们更深入地了解一下整个事情。假设我们实际上是直接从硬盘读取大量 TEXT 列，我们不会达到驱动器的最大读取速度吗？只检索一个 VARCHAR(250) 不会更快，特别是因为它为您节省了额外的 LEFT() 调用？

我们可以真正快速地取消 LEFT() 调用。字符串函数非常快——毕竟只是 CPU 切断了一些数据，这是一个非常快的过程。它们产生明显延迟的唯一时间是在 WHERE 子句、JOIN 等中使用它们时，但这并不是因为这些函数很慢，而是因为它们必须运行很多次（可能是数百万次）才能甚至会产生单行结果，甚至更多，因为这些使用通常会阻止数据库正确使用其索引。

所以最后归结为：MySQL 从数据库中读取表内容的速度有多快。而这又取决于您使用的存储引擎及其设置。MySQL 可以使用许多存储引擎，包括（但不限于）InnoDB 和 MyISAM。这两个引擎都为大对象（如 TEXT 或 BLOB 列）提供不同的文件布局（但有趣的是，还有 VARCHAR）。如果 TEXT 列存储在与行的其余部分不同的页面中，则存储引擎必须为每一行检索两个页面。如果它与其余部分一起存储，它将只是一页。对于顺序处理，这可能是性能的重大变化。

这里有一些背景阅读：

*   [InnoDB 中的 Blob 存储](http://www.mysqlperformanceblog.com/2010/02/09/blob-storage-in-innodb/)
*   [MyISAM 动态与压缩数据文件布局](http://dev.mysql.com/doc/internals/en/myisam.html)

**长答案：这取决于:)**

您必须在自己的硬件上进行许多基准测试才能真正确定哪种布局实际上更快。鉴于第二种设置在其附加列中引入了冗余，因此在大多数情况下它的性能可能会更差。当且仅当表结构允许较短的 VARCHAR 列适合磁盘上的同一页面而长 TEXT 列将在另一个页面上时，它将执行得更好。

**编辑：有关 TEXT 列和性能的更多信息**

关于 BLOB 和内存处理似乎存在一个常见的误解。相当多的页面（包括 StackOverflow 上的一些答案 - 我会尝试找到它们，并给出额外的评论）指出 MySQL 无法在内存中处理 TEXT 列（和所有其他 BLOB），因此总是性能猪。那不是真的。真正发生的是这样的：

如果您运行一个涉及 TEXT 列的查询*并且*该查询需要处理一个临时表，*那么*MySQL 将不得不在磁盘上而不是在内存中创建该临时表，因为 MySQL 的`MEMORY`存储引擎无法处理 TEXT 列。请参阅[此相关问题](https://stackoverflow.com/questions/2883867/mysql-text-field-performance)。

[MySQL 文档](http://dev.mysql.com/doc/refman/5.5/en/blob.html)说明了这一点（该段落对于 3.2 到 5.6 的所有版本都是相同的）：

> 使用临时表处理的查询结果中的 BLOB 或 TEXT 列的实例导致服务器使用磁盘上的表而不是内存中的表，因为 MEMORY 存储引擎不支持这些数据类型（参见第 8.4.3.3 节， “MySQL 如何使用内部临时表”）。使用磁盘会导致性能损失，因此只有在真正需要时才在查询结果中包含 BLOB 或 TEXT 列。例如，避免使用选择所有列的 SELECT *。

让人们感到困惑的是最后一句话——因为那只是一个坏例子。一个简单的`SELECT *`不会受到这个性能问题的影响，因为它*不会**使用临时表*。例如，如果相同的选择是由非索引列排序的，则它*必须*使用临时表并且*会受到*此问题的影响。使用`EXPLAIN`MySQL 中的命令来确定查询是否需要临时表。

顺便说一句：这些都不会影响缓存。TEXT 列可以像其他任何内容一样被缓存。即使查询需要一个临时表并且必须存储在磁盘上，如果系统有资源这样做，结果仍然可以被缓存，并且缓存不会失效。在这方面，TEXT 列就像其他任何东西一样。

**编辑 2：有关 TEXT 列和内存要求的更多信息...**

MySQL 使用存储引擎从磁盘检索记录。然后它将缓冲结果并按顺序将它们交给客户端。以下假设此缓冲区最终在内存中而不是在磁盘上（请参阅上面的原因）

对于 TEXT 列（和其他 BLOB），MySQL 将缓冲一个指向实际 BLOB 的指针。这样的指针仅使用几个字节的内存，但需要在将行交给客户端时从磁盘中检索实际的 TEXT 内容。对于 VARCHAR 列（以及除 BLOB 之外的所有其他列），MySQL 将缓冲实际数据。这通常会使用更多内存，因为您的大部分文本将不仅仅是几个字节。对于计算列，MySQL 也会缓冲实际数据，就像使用 VARCHAR 一样。

关于这一点的几点说明：从技术上讲，当 BLOB 移交给客户端时，它们也会被缓冲，但一次只能缓冲一个 - 对于大型 BLOB，可能不是全部。由于此缓冲区在每一行之后被释放，因此不会产生任何重大影响。此外，如果 BLOB 实际上与行的其余部分存储在同一页中，则它可能最终被视为 VARCHAR。老实说，我从来*没有*要求在单个查询中返回*大量BLOB，所以我从未尝试过。*

现在让我们实际回答（现已编辑）的问题：

**第 1 页。用户概述和简短的博客文章片段。**

您的选择几乎就是这些查询

```
SELECT userid, post_title, LEFT(post_description, 250) FROM `table_method_1`  <-- calculated based on a VARCHAR column
SELECT userid, post_title, LEFT(post_description, 250) FROM `table_method_2`  <-- calculated based on the TEXT column
SELECT userid, post_title, post_brief FROM `table_method_2`                   <-- precalculated VARCHAR column
SELECT userid, post_title, post_description FROM `table_method_2`             <-- return the full text, let the client produce the snippet 
```

前三个的内存要求是*相同*的。第四个查询将需要*更少*的内存（TEXT 列将作为指针缓冲），但客户端的流量*更多。*由于流量通常通过网络传输（在性能方面很昂贵），这往往比其他查询慢 - 但您的里程可能会有所不同。TEXT 列上的 LEFT() 函数可以通过告诉存储引擎使用内联表格布局来加速，但这将取决于所存储文本的平均长度。

**第2页。一篇博文**

```
SELECT userid, post_title, post_description FROM `table_method_1` WHERE post_id=... <-- returns a VARCHAR
SELECT userid, post_title, post_description FROM `table_method_2` WHERE post_id=... <-- returns a TEXT 
```

开始时内存要求很低，因为只会缓冲一行。由于上述原因，第二个将需要更少的内存来缓冲行，但需要一些额外的内存来缓冲单个 BLOB。

无论哪种情况，我很确定您不关心仅返回单行的选择的内存要求，因此这并不重要。

**概括**

如果您有任意长度的文本（或任何需要超过几千字节的文本），您应该使用 TEXT 列。这就是他们的目的。MySQL 处理这些列的方式在*大多数情况下是有益的*。

日常使用只有两件事要记住：

*   如果您实际上不需要它们，请避免选择 TEXT 列、BLOB 列和所有其他可能包含大量数据的列（是的，包括 VARCHAR(10000)）。当您只需要几个值时，“SELECT * FROM whatever”的习惯会给数据库带来很多不必要的压力。
*   当您*选择*TEXT 列或其他 BLOB 时，请确保选择不使用临时表。有疑问时使用`EXPLAIN`语法。

当您遵守这些规则时，您应该从 MySQL 获得相当不错的性能。如果您需要进一步优化，则必须查看更精细的细节。这将包括存储引擎和相应的表格布局、有关实际数据的统计信息以及有关所涉及硬件的知识。根据我的经验，我通常可以摆脱性能狂，而无需深入挖掘。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T09:58:39.543

方法 2 看起来更好，但如果您在其中存储 HTML，post_brief 也可以是 TEXT 列，如果它是纯文本，您可以将所有内容存储在一列中并使用

```
SELECT user_id, post_title, LEFT(post_description,255) AS post_brief FROM blog_table. 
```

考虑 MySQL 5.6，它要快得多，您可以在 InnoDB 中使用 FULLTEXT 索引，因此在搜索帖子时会有很大帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T17:11:05.290

选项 2 对我来说也不错。由于博文会很大，在这些列上应用函数也需要时间。

如果你问我， post_description 的数据类型应该是[blob/text](http://dev.mysql.com/doc/refman/5.0/en/blob.html)。尽管 blob 列不支持搜索，但这将是更好的选择。

拥有两列的唯一缺点是，您必须确保 desc 和 Brief 同步（也许您也可以将其作为一个功能）

# php - 内存缓存和数据库之间的选择，任何其他内存选项 php

> ID：14996954
> 
> 赞同：0
> 
> 时间：2013-02-21T07:40:37.590
> 
> 标签：php, memcached

我必须对大约 160K 条记录进行查找，其中数据的形式是 id，我们需要获取给定值在 range1 和 range2 范围内的行，到目前为止，它是我们使用的一个 between 查询.

我昨天开始使用 memcache，它会找出针对给定值的特定行是否在 memcache 中，如果不是，则通过从数据库中获取它来将其放入 memcache 中。

我不确定 memcache 本身的查找顺序是 o(1) 还是 o(n)，我知道 dbsearch 最多可以让我 o(log n) ，我正在考虑在中间保留另一层其他一些内存对象的[我现在想不出来，但我当然不想使用会话将表保留在内存中]，而是从这个内存对象中获取数据，并且如果在其中找不到，则转到数据库。

PS - 我的数据库表几乎没有经过任何更改。

所以我想的顺序是如果找不到则在内存缓存中查找（在内存中查找 - 对数组进行二进制搜索），如果在数据库中找不到查找，则添加到内存缓存，添加到内存并添加到内存缓存.

我在想正确的方向吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T19:19:01.337

Memcached 非常快，查找时间是 o(1)，而不是 o(n)，所以最好只使用 memcached 和一些后端数据库。考虑您在上面提出的方案。在中间使用比 memcached 慢的二级缓存只会增加请求的延迟，因为您现在可能需要向 3 个位置询问某些数据，而不仅仅是两个。此外，由于 memcached 将比内存数据库解决方案更快，因此最好将所有额外内存提供给 memcached。还要考虑的另一件事是为您的应用程序添加额外层的管理开销。

# soapui - 如何断言来自 SOAP UI 的 JSON 响应中的字段是否为 NULL

> ID：14996964
> 
> 赞同：2
> 
> 时间：2013-02-21T07:41:27.730
> 
> 标签：soapui

如何断言来自 SOAP UI 的 JSON 响应中的字段是否为 NULL

示例：数据看起来像这样我需要使用 Soap UI 中的 Assert 选项断言 Children 是否为空。

```
 {
  "request":    {
  "parameters": {"SOURCE_NAME":       {
     "name": "Members_Sheet1",
     "caseSensitivity": "CASE_SENSITIVE",
     "inputMatchingOperator": "EXACT"
  }},
  "metadata": {}
                },
        "data":    {
  "results": [{"data": {"Members_Sheet1":       [
              {
        "Sl No": 1,
        "Member ID": 70000001,
        "Member Name": "Fly Dorami",
        "Location": "New York",
        "DOB": "4/12/2008",
        "Gender": "M",
        "Marital Status": "Single",
        "Children": "",
        "Ethnicity": "Asian",
        "Insurance Plan ID": 2002,
        "Annual Income ($)": 0,
        "Twitter User ID": 548900028 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-16T09:07:05.877

您引用的 JSON 在 Children 中有空字符串，它不是 NULL。为此，您可能需要使用启用的 ResponseAsXML 属性将 JSON 转换为 XML。

另一种方法是使用**groovy 脚本断言**；

```
import groovy.json.JsonSlurper 
def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText response

// json variable has all your data
assert // statement 
```

# c# - 子查询中涉及计数的高效查询

> ID：14996966
> 
> 赞同：3
> 
> 时间：2013-02-21T07:41:38.223
> 
> 标签：c#, linq, entity-framework-5

假设我有这种假设的多对多关系：

```
public class Paper
{
  public int Id { get; set; }
  public string Title { get; set; }
  public virtual ICollection<Author> Authors { get; set; }
}

public class Author
{
  public int Id { get; set; }
  public string Name { get; set; }
  public virtual ICollection<Paper> Papers { get; set; }
} 
```

我想使用 LINQ 构建一个查询，该查询将为我提供每位作者与其他作者相比的“受欢迎程度”，即作者贡献的论文数量除以所有论文中作者贡献的总数。我想出了几个查询来实现这一点。

选项1：

```
var query1 = from author in db.Authors
             let sum = (double)db.Authors.Sum(a => a.Papers.Count)
             select new
             {
               Author = author,
               Popularity = author.Papers.Count / sum
             }; 
```

选项 2：

```
var temp = db.Authors.Select(a => new
           {
             Auth = a,
             Contribs = a.Papers.Count
           });
var query2 = temp.Select(a => new
             {
               Author = a,
               Popularity = a.Contribs / (double)temp.Sum(a2 => a2.Contribs)
             }); 
```

基本上，我的问题是：其中哪个更有效，还有其他更有效的单个查询吗？其中任何一个如何与两个单独的查询进行比较，如下所示：

```
double sum = db.Authors.Sum(a => a.Papers.Count);
var query3 = from author in db.Authors
             select new
             {
               Author = author,
               Popularity = author.Papers.Count / sum
             }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:43:26.523

选项 1 和 2 应该生成相同的 SQL 代码。为了可读性，我会**选择选项 1**。
选项 3 会生成两条 SQL 语句，速度会慢一些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T07:54:24.970

好吧，首先，您可以自己尝试一下，看看哪个耗时最长。

您应该寻找的第一件事是它们完美地转换为 SQL 或尽可能接近，以便数据不会全部加载到内存中只是为了应用这些计算。

但我觉得选项 2 可能是你最好的选择，还有一个优化来缓存贡献的页面总数。这样，您只需对数据库进行一次调用即可获取您无论如何需要的作者，其余的将在您的代码中运行，您可以在那里并行化并执行您需要的任何操作以使其快速运行。

所以是这样的（对不起，我更喜欢 Fluent 的 Linq 写作风格）：

```
//here you can even load only the needed info if you don't need the whole entity.
//I imagine you might only need the name and the Pages.Count which you can use below, this would be another optimization.
var allAuthors = db.Authors.All(); 

var totalPageCount = allAuthors.Sum(x => x.Pages.Count);

var theEndResult = allAuthors .Select(a => new
         {
           Author = a,
           Popularity = a.Pages.Count/ (double)totalPageCount
         }); 
```

# c# - 来自 HTTPS 和 HTTP Web 服务的响应时间

> ID：14996974
> 
> 赞同：0
> 
> 时间：2013-02-21T07:42:02.283
> 
> 标签：c#, web-services, http, https, http-headers

我在 WPF 中有一个使用 Java Web 服务的应用程序。用户可以通过应用程序搜索一些文档。两天前，他们（创建了网络服务）告诉我必须更改服务的 url。所以，我做到了。但在那之后，应用程序开始获取数据比以前慢。说实话，我在一次搜索中向 Web 服务发出了大约 12 个请求。但是使用 HTTPS 的 previuos Web 服务在大约 0.52 秒内获取所有数据。但是当前的 Web 服务使用的是 HTTP，大约需要 8 秒才能获取所有数据。在我看来，问题可能出在协议上。但实际上，HTTP 中的处理时间必须大于 HTTPS。那么，可能是什么问题？另外，我正在使用该代码连接到 Web 服务：

```
HQRTXServiceWSService service = new HQRTXServiceWSService();
service.Url = " a url of the web service";
service.Credentials = new System.Net.NetworkCredential("user", "password");
service.PreAuthenticate = true; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:46:29.813

也许 Web 服务的实现已经更新并且他们的性能搞砸了？

它也可能是他们的基础设施，或者如果有更多的人使用他们的网络服务......可能是很多东西，但你的代码;）

我不认为 HTTP 应该比 HTTPS 慢，通常情况恰恰相反，因为 HTTPS 上的加密开销很小。

# c# - 网络安全未使用正确的数据库

> ID：14996975
> 
> 赞同：0
> 
> 时间：2013-02-21T07:42:16.187
> 
> 标签：c#, asp.net-mvc-4, simplemembership

我正在使用 VS2012、SQLExplress、最新的 .net 版本、代码优先实体框架和迁移构建一个简单的 webb 应用程序。我从 VS2012 中的标准 MVC4 模板构建，默认使用新的简单成员资格。

我的问题是我无法让 Websecurity 类使用我创建的数据库。我在 Glabal.asax.cs 中使用此代码：

```
WebMatrix.WebData.WebSecurity.InitializeDatabaseConnection(
"DefaultConnection",
"UserProfile",
"UserId",
"UserName",
autoCreateTables: true); 
```

我也尝试在迁移种子方法中运行此代码段，但结果相同。

我的连接字符串看起来像这样

```
<add name="DefaultConnection" connectionString="Data Source=localhost\SQLEXPRESS;Integrated Security=True;Connect Timeout=15;Encrypt=False;TrustServerCertificate=False" providerName="System.Data.SqlClient" /> 
```

当我使用`autoCreateTables: true`参数运行初始化程序时，初始化程序会创建一个仅在 VS2012 中可见的新连接，如下所示。

![](../Images/a7e6db1874d72b8b9c1fd11844634167.png)

这张图片显示了一个名为 SecurityConnection2 的连接，因为我试图强制 websecurity 使用另一个连接字符串，但行为与使用 DefaultConnection 的行为相同。如您所见，它在这个新连接中创建了所有表，我无法在数据库中的任何位置找到这些表。

如果我改为使用`autoCreateTables: false`初始化程序，则会抛出一个错误，指出 UserProfile 表不存在。

在我读过的所有示例和教程中，这只是开箱即用，但我无法让它工作。

可能有一个简单的解决方案，但我看不到它，我将不胜感激这里的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:05:59.603

问题的答案是连接字符串不包含“初始目录”。

# c# - TextBlock 自动识别链接 WinRT

> ID：14996980
> 
> 赞同：2
> 
> 时间：2013-02-21T07:42:49.843
> 
> 标签：c#, wpf, winrt-xaml

我们是否有任何属性可以自动突出显示 TextBlock 或 TextBox 的链接，从而自动突出显示 Text 中的链接？

我可以使用 RichTextBlock 但不知道如何绑定它或如何仅突出显示其中的链接。在我的应用程序服务器中给了我一个包含 1 或 2 个链接的长段落，我们希望像在 iO 中使用 UITextView 一样突出它们。

谢谢，卡维特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-18T20:26:32.800

这对你有帮助吗？它适用于 Windows Phone，但都非常相似。

[如何替换 RichTextBox 中超链接的链接（Windows 手机）](https://stackoverflow.com/questions/10516140/how-to-replace-link-to-hyperlink-in-richtextbox-windows-phone)

您可以编写附加属性以绑定到应用此技巧的源文本。

# r - 如何在R中使用从-X到X的X轴绘图

> ID：14996989
> 
> 赞同：1
> 
> 时间：2013-02-21T07:43:37.323
> 
> 标签：r, plot

我有一个看起来像这样的数据框：

```
> dataf
      gene_name          log.pval             log.fc
1         TNIP3 0.631094308480128    1.1506542453426
2   NP_808217.1 0.772551410812959 -0.808513121902601
3  Q6ZQS7_HUMAN 0.120675567248996   1.20907596997608
4  Q8TA88_HUMAN  1.44494939509263   2.06552619626619
5         THAP5 0.766534371246673   1.13887517622511
6        BHLHB5 0.596510549476608 -0.890552737707591
7   XP_372337.2 0.495557665215951 -0.896828380212937
8  Q7Z2R7_HUMAN 0.448309045489994  -1.81608512967947
9        IFITM2 0.453896048090579   1.63881366592662
10            -  1.28765417650748  -0.95944121604072 
```

我想要做的是使用`log.fc`列和 y 轴使用`log.pval`列绘制 x 轴图。

但是为什么这个命令失败了？

```
plot(dataf$log.fc,dataf$log.pval,xlim=c(-2,2),ylim=c(0,5)); 
```

它给了我以下错误消息：

```
Error in if (equidist) seq.int(1/(2 * ny), 1 - 1/(2 * ny), by = 1/ny) else (yat[-1L] +  : 
  missing value where TRUE/FALSE needed
Calls: plot -> plot.factor -> spineplot -> spineplot.default
In addition: Warning messages:
1: In spineplot.default(x, y, ...) :
  x axis is on a cumulative probability scale, 'xlim' must be in [0,1]
2: In spineplot.default(x, y, ...) :
  y axis is on a cumulative probability scale, 'ylim' must be in [0,1]
Execution halted 
```

**更新：**输入数据和完整代码。

输入文件`mydata.csv`：

```
Name|ID_REF|xN|xK|xD|yN|yK|yD
NP_542387.1|H200009573|116.344280521|157.34028943|165.521765927|129.382514146|146.734212992|111.564081171
TRIM65|H200014442|139.28243473|142.8535596|183.543914333|151.18230485|126.012002369|117.926240275
Q96JT4_HUMAN|H200011360|6.30624488407|6.23249632016|8.84048629421|3.67264474301|1.78051470938|3.00185438056
MTCH1|H200017563|962.796774907|984.466886282|1225.05018099|1006.35251622|959.451292287|1004.59648311
RPL35|H200008624|13462.3246704|16392.4312316|16124.489617|15544.2347278|16130.3829312|12319.5940351 
```

代码：

```
data<-read.delim("~/Desktop/mydata.csv",sep="|",na.strings="",header=TRUE,blank.lines.skip=TRUE,fill=FALSE)
data<- data[complete.cases(data),]

gname <- as.matrix(data$Name);
idref <- as.matrix(data$ID_REF);
xN <- data$xN;
xK <- data$xK;
xD <- data$xD;
yN <- data$yN;
yK <- data$yK;
yD <- data$yD;

xK_yK <- as.matrix(cbind(xK,yK));
xD_yD <- as.matrix(cbind(xD,yD));
xN_yN <- as.matrix(cbind(xN,yN));

#--------------------------------------------------
# Functions 
#-------------------------------------------------- 
foldchange_geom_avg <- function(r,g) {
     # r and g is vector with value >=1
     # Essentially the same with M value
     # >0 if r is upregulated
     # <0 if r is downregulated
     return (sum(log2(r/g))/length(r));
}

ranked.ttest <- function(gn,v1,v2,test.type="t") {
        # By default t.test assume unequal variance
        # and applies Welsh modification
        # These samples are assumed also to be independent
        # and the distributions are strictly normal

        # Mann-Whitney (Wilcoxon) assume no-normality
        # and with arbitrary sample

        out <- c();

        for (i in 1:nrow(v1)) {

            test <- t.test(v1[i,],v2[i,],paired=FALSE)

            if (test.type == "mw") {
                test <- wilcox.test(v1[i,],v2[i,],alternative="two.sided",paired=FALSE)
            }

            pval <- test$p.value;
            log.pval <- -log10(pval);
            gene_name <- gn[i];
            log.fc <- foldchange_geom_avg(v1[i,],v2[i,]);

            abs.fc <- abs(log.fc)

            if (is.numeric(pval) ){
                out <- rbind(out,cbind(gene_name,log.pval,pval,log.fc));
            }
        }
     #out <- out[with(out,order(pvalue,genename))]
     return (data.frame(out));
}

test <- ranked.ttest(gname,xK_yK,xN_yN)
plot(test$log.fc,test$log.pval,xlim=c(-2,2),ylim=c(0,5)); 
```

这是会话信息：

```
> sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base 
```

情节是这样的： ![在此处输入图像描述](../Images/4ca981ee2f2ebea7125517c853c80857.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:40:10.917

你能包括你的会话信息吗？当我运行代码时，我得到了一些不同的东西。

```
dataset<- textConnection("gene_name log.pval log.fc
TNIP3 0.631094308480128 1.1506542453426
NP_808217.1 0.772551410812959 -0.808513121902601
Q6ZQS7_HUMAN 0.120675567248996 1.20907596997608
Q8TA88_HUMAN  1.44494939509263 2.06552619626619
THAP5 0.766534371246673 1.13887517622511
BHLHB5 0.596510549476608 -0.890552737707591
XP_372337.2 0.495557665215951 -0.896828380212937
Q7Z2R7_HUMAN 0.448309045489994 -1.81608512967947
IFITM2 0.453896048090579 1.63881366592662
NA 1.28765417650748 -0.95944121604072")

dataf <- read.table(dataset,header=TRUE) 

plot(dataf$log.fc,dataf$log.pval,xlim=c(-2,2),ylim=c(0,5)) 
```

![在此处输入图像描述](../Images/9ae5acf01bfd7f9c527b582e8ffe8820.png)

# java - Java 代码中的 Inifite 循环

> ID：14996990
> 
> 赞同：0
> 
> 时间：2013-02-21T07:43:45.287
> 
> 标签：java

我的程序中有一个关于无限循环和不正确响应的问题。在我的程序中，我试图为战舰游戏随机设置船只，但在放置船只部件时遇到问题。我已经对其进行了编码，但我遇到了 2 个问题，一个是我在某处有一个无限循环，但我不知道在哪里，下一个是这些碎片没有正确设置在网格上。我已经查看了这段代码很长时间，但我还没有找到解决方法。这里是 ：

```
 public void placeAllShips() {
  int direction = (int) Math.random()*2 ; 
  int p1 = 0 ; 
  int p2 = 0 ; 
  for(int ships = 1 ; ships < 6 ; ships ++ ) { 
   p1 = (int)(Math.random()*10); 
   p2 = (int)(Math.random()*10);  
   if ( p1 !=0 && p2!= 0 && direction == 0 /* Horizontal Direction*/ ){ 
    for(int i= 0; i < ships ; i ++ ){ 
     while(board[p1][p2+i].hasShip() == true || p2 + i > 10 && p2 - i < 0 ){  
      randomize(p1,p2) ;
     }
    }
    for(int j = 0 ; j < ships ; j ++ ) {
     board[p1][p2+j].setHasShip(true) ; 
    }

   } 
   else if ( p1 !=0 && p2!= 0 && direction == 1 /*Vertical Direction*/ ){ 
    for(int i= 0; i < ships ; i ++ ){ 
     while(board[p1+i][p2].hasShip() == true || p1 + i > 10 && p1 - i < 0 ){  
      randomize(p1,p2) ;
     }
    }
    for(int j = 0 ; j < ships ; j ++ ) {
     board[p1+j][p2].setHasShip(true) ; 
    }

   }
  }
 } 

 public void randomize( int x , int y ) { 
  //Generates random numbers.
  x = (int)Math.random()*10 ;
  y = (int)Math.random()*10 ;
 } 
```

谢谢您的帮助 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T07:50:01.197

我怀疑无限循环是由于不了解参数传递在 Java 中的工作原理引起的。看看这段代码：

```
// You're calling this if you're trying to use a point which is already taken
randomize(p1,p2) ;

public void randomize( int x , int y ) {
    //Generates random numbers.
    x = (int)Math.random()*10 ;
    y = (int)Math.random()*10 ;
} 
```

除了使用单个实例`Random`代替而不是更清洁之外`Math.random()`，您的`randomize()`方法基本上没有按照您的期望进行。

当您调用它时，会将*值*`randomize(p1, p2)`复制到参数中并作为初始值。更改和不更改并且...因此，如果您*完全*进入该循环，它将是无限的，并且在每次迭代中都是相同的。*`p1``p2``x``y``x``y`*`p1``p2``p1``p2`**

 **首先，您可能应该将循环更改为：

```
// Put this *outside* the top level loop so you only create a single instance
Random random = new Random();

...

while(p2 + i > 10 || p2 - i < 0 || board[p1][p2+i].hasShip()) {
    p1 = random.nextInt(10);
    p2 = random.nextInt(10);
} 
```

无论如何，这不会是*完整*的解决方案（您的代码还有其他问题），但尝试一次理解一个问题很重要。

（接下来要考虑的是，您需要在一个点检查一艘船的所有值*-*您需要选择一个点，然后尝试一艘船在该点占据的所有方格，如果您失败，您需要重新开始，而不是仅仅为 的值尝试不同的点`i`。）**

# c - 在arduino中同时发送和接收到xbee

> ID：14996993
> 
> 赞同：2
> 
> 时间：2013-02-21T07:43:58.547
> 
> 标签：c, arduino, xbee

我试图从 arduino-xbee 库中运行示例程序。我需要从节点向节点发送一些数据，同时需要准备好读取发送节点本身可用的数据。假设 X 向 Y 发送数据。当 Y 接收到数据时，它会向 X 发送回确认。但是如果 Z 向 X 发送数据或 Z 发送广播，我将能够在 X 处从 Z 读取数据并从Y 到 X。因此，使用 arduino-xbee 同时发送和接收的任何指针都会非常有帮助。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T16:42:58.990

如果 arduino-xbee 对 XBee 模块使用“API 模式”，您将收到单独的数据帧。每个帧都有标头来识别数据源，并匹配对请求的响应（对于 AT 命令）。

处于“AT 模式”或“透明模式”的 XBee 模块只会从特定端点和集群上通过网络接收的串行端口流出数据。你不会知道是谁发的，你需要进入“命令模式”才能使用AT命令读取或写入参数。

# ruby - 更改数组的每个元素

> ID：14996997
> 
> 赞同：0
> 
> 时间：2013-02-21T07:44:05.943
> 
> 标签：ruby

这似乎是一个非常简单的问题，但我坚持下去。我想改变每个元素的属性：

```
item_list = get_items()
item_list.map! do |item|
  item.date = "my super date or whatever...."
  item
end 
```

但是`item_list[0].date`给了我与之前`map!`方法完全相同的值。错误在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:01:05.633

不确定我是否应该将其写为“答案”，因为它可能无法满足您的要求，但事实是您的代码应该可以工作。这是我为证明这一点所做的测试：

```
$ cat test.rb
#!/usr/bin/env ruby

item0 = Struct.new( :date, :name ).new( '0', 'zero' )
item1 = Struct.new( :date, :name ).new( '1', 'one'  )
item_list = [ item0, item1 ]

puts "BEFORE #map!:"
puts item_list

item_list.map! do |item|
    item.date = 'super date'
    item
end

puts
puts "AFTER #map!:"
puts item_list

item_list.each do |item|
    item.date = 'each date'
    item
end

puts
puts "AFTER #each:"
puts item_list

$ ./test.rb
BEFORE #map!:
#<struct #<Class:0x1002b15f0> date="0", name="zero">
#<struct #<Class:0x1002b1258> date="1", name="one">

AFTER #map!:
#<struct #<Class:0x1002b15f0> date="super date", name="zero">
#<struct #<Class:0x1002b1258> date="super date", name="one">

AFTER #each:
#<struct #<Class:0x1002b15f0> date="each date", name="zero">
#<struct #<Class:0x1002b1258> date="each date", name="one"> 
```

您能否扩展您的代码清单以显示 get_items() 的定义以及用于测试或显示 item_list 的代码，最后是该显示或测试的输出？

在我的代码示例中，我包含了 oldgod 的建议，以表明它也有效。为了清楚和安全起见，您可能想坚持使用#map！但是，因为使用感叹号来命名 mutator 方法是 Ruby 的惯例，以警告参数或调用对象的副作用。在这种情况下，item_list 的元素正在更改，所以#map！按照惯例，将是更可取的选择。如果您只是打印出项目或进行一些其他操作，那么 #each 将是一个不错的选择。应该添加这在很大程度上可能是一个口味问题。这是我习惯的约定，但在其他开发者社区中，它们可以被认为更具可互换性。

# java - Eclipse 编辑器显示一些不同的字符作为背景图案。如何禁用？

> ID：14996999
> 
> 赞同：3
> 
> 时间：2013-02-21T07:44:11.030
> 
> 标签：java, eclipse, editor

Eclipse 编辑器显示一些奇怪的字符作为背景图案。发现很难编辑代码。请提出一种禁用它的方法。谢谢您的帮助。

![Eclipse 编辑器 - 图案图像作为背景](../Images/7fbda47c96c7c548bf21dda1ef69bcab.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T07:46:16.047

您已将 Eclipse 设置为显示选项卡。在首选项 > 常规 > 编辑器 > 文本编辑器下。应该有一个“显示空白字符”选项

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-21T08:05:17.830

只需从 Eclipse 工具栏**打开 - 关闭**
![在此处输入图像描述](../Images/f16fff226224ed02ec71fc281b894955.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-21T07:46:08.017

下`Preferences > General > Editors > Text Editors`。有一个名为“显示空白字符”的复选框。取消选中该选项。现在它正在向您显示带有该符号的标签。