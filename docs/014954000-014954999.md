# StackOverflow 问答 14954000-14954999

# jquery - 嵌入在超链接中的输入按钮在 ie8 中不起作用

> ID：14954002
> 
> 赞同：0
> 
> 时间：2013-02-19T09:27:07.010
> 
> 标签：jquery, html, internet-explorer

在 ie9 中，此代码有效；

```
 <span id="ForwardNavigationEnabled" style="display:inline;">
        <a class="imagelink" href="@Url.Action("Details", "Subcontractor", new { id = Model.Navigator.NextPageId })">
            <input id="btnNext" type="button" value="Next >|" />
        </a>
        <a class="imagelink" href="@Url.Action("Details", "Subcontractor", new { id = Model.Navigator.LastPageId })">
            <input id="btnLast" type="button" value="Last >>|" />
        </a>
    </span> 
```

也就是说，当您单击按钮时，将触发超链接中的 href 事件。在 ie8 中，超链接被忽略，而是触发按钮的单击事件，这不会去任何地方。

ie8 的一种解决方法是给按钮一个点击事件并以这种方式导航。另一种解决方案是用按钮的图像替换按钮。

但是有没有更简洁的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:31:11.393

在元素`<input>`内嵌套（或任何表单控件）是无效的 HTML 。`<a>`

如果你想要一个链接。使用链接并且仅使用链接。如果您希望它看起来像一个按钮，请使用 CSS。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T09:36:37.897

### 使用 jQuery 的快速解决方案：

```
$("a > button").on('click', function() { 
    location.href = $(this).closest("a").attr("href");
}); // fixed 
```

### 更多关于这个主题

w3c 对链接标签内的按钮没有问题，所以它只是另一个 MS 子标准。

要获得您正在寻找的效果，您可以放弃`<a>`标签并为每个按钮添加一个简单的事件处理程序，以将浏览器导航到所需位置。

然而; 常规链接可以正常工作是有原因的：

*   用户可以立即识别链接，并了解他们导航到其他页面
*   搜索引擎可以将它们识别为链接并关注它们
*   屏幕阅读器可以将它们识别为链接并适当地建议用户
*   您还添加了一个完全不必要的要求，即启用 JavaScript 只是为了执行基本导航；这是网络的一个基本方面，我认为这种依赖是不可接受的。

如果需要，您可以使用背景图像或背景颜色、边框和其他 css 技术来设置链接的样式，使它们看起来像按钮，但实际上它们应该是普通链接。

### 更多的？

[锚链接内的按钮在 Firefox 中有效，但在 Internet Explorer 中无效？](https://stackoverflow.com/questions/802839/button-inside-of-anchor-link-works-in-firefox-but-not-in-internet-explorer)

# c++ - g ++链接中的未定义引用

> ID：14954006
> 
> 赞同：0
> 
> 时间：2013-02-19T09:27:15.263
> 
> 标签：c++, linker, g++, undefined-reference

每次我创建一个新模块并尝试`(Estudiant.o)`使用此行将其链接到我的主类时：

`g++ -o red1.exe red1.o %OBJETOS_CPP%\Estudiant.o`

我收到此错误：

> red1.o:red1.cpp:(.text+0xd): 未定义对 `Estudiant::consultar_DNI() const' red1.o:red1.cpp:(.text+0x18): undefined reference to`Estudiant::Estudiant(int)' 的引用 red1.o:red1.cpp:(.text+0x25): 未定义对 `Estudiant::consultar_nota() const' red1.o:red1.cpp:(.text+0x74): undefined reference to`Estudiant::afegir_nota(double ) 的引用)' red1.o:red1.cpp:(.text+0x83): 未定义对 `Estudiant::~Estudiant()' red1.o:red1.cpp:(.text+0xa3): undefined reference to`Estudiant::consultar_nota() 的引用 const' red1.o:red1.cpp:(.text+0xe5): 未定义对 `Estudiant::modificar_nota(double)' red1.o:red1.cpp:(.text+0x10b): undefined reference to`Estudiant::Estudiant的引用()' red1.o:red1.cpp:(.text+0x13a): 未定义对 `Estudiant::llegir_estudiant()' red1.o:red1.cpp:(.text+0x144): undefined reference to`Estudiant::te_nota() 的引用 const' red1.o:red1.cpp:(.text+0x182): 未定义对 `Estudiant::escriure_estudiant() const' red1.o:red1.cpp:(.text+0x18c): undefined reference to`Estudiant::的引用~Estudiant()' red1.o:red1.cpp:(.text+0x19f): undefined reference to `Estudiant::~Estudiant()' c:/mingw/bin/../lib/gcc/mingw32/4.7.2/../../../../mingw32/bin/ld.exe: red1.o: bad reloc address 0x0 in section`.ctors' collect2.exe: error: ld returned 1 exit status

而且我没有原始的 Estudiant.cpp，所以我认为这可能是因为编译和链接使用了不同的编译器，但我重新安装了 MinGW，但仍然出现此错误。我也尝试替换所有文件，但没有奏效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:36:12.953

我设法获得了 Estudiant.o 的源代码，并使用该代码编译了它的另一个版本，并且它工作正常。我不知道为什么相同的代码在两台不同的机器上编译，一台工作，另一台没有。

# protected-mode - GDT中DC位的作用是什么？

> ID：14954008
> 
> 赞同：0
> 
> 时间：2013-02-19T09:27:29.693
> 
> 标签：protected-mode, gdt

这是我的代码：

```
...
data_seg equ os_data-gdt_start
code_seg equ os_code-gdt_start
...
jmp code_seg:pm_start
[BITS 32]
pm_start:        
mov ax,data_seg
mov ds,ax
mov word [ds:0xb8000],0xC341 
```

当 gdt 中的 dc 位（访问字节的第三位）为零时，它可以正常工作。我想知道为什么当它是 1 时不工作？

我知道 dc 位是数据选择器的 Direction 位，当它为 0 时，该段长大，当它为 1 时，该段长大。但不知道长大和长大到底是什么意思。当我想使用堆栈时，成长和成长对我来说意味着。（ESP++和ESP--）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-18T08:39:42.880

DC 位是 osdev.org 的名称，在英特尔的手册中是扩展方向。数字只能有两个方向：它可以增加或减少。直流位是与之一起玩的东西。

> 如果堆栈段的大小需要动态变化，则堆栈段可以是向下扩展的数据段（设置了**扩展方向**标志）。*动态改变段限制会导致堆栈空间被添加到堆栈底部*。

# c++ - 在 OpenCV Mat 中访问多个通道

> ID：14954016
> 
> 赞同：1
> 
> 时间：2013-02-19T09:27:51.283
> 
> 标签：c++, opencv, matrix, mat

访问多通道矩阵的第 i 行 channel::n 的语法是什么。我可以访问 channel::n 的 (i,j) 元素，但是使用 row、rowRange 等函数的语法是什么......

示例代码：

```
Mat M(10, 3, CV_32SC3);
cout << M.at<Vec3d>(0,0)[1] << endl;  // This works
cout << M.row(0)[1] << endl;    // Syntax of this 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:33:18.617

```
Mat.row(0) returns a Mat, so it's the same game as before:

// if it's really INT 3channels(like your ex. above), you have to use m.at<Vec3i> !!
Mat M(10, 3, CV_32SC3);   

// 3rd row
Mat r = m.row(3);         

// r has only 1 row (3 elems), last pixel there
cout<< r.at<Vec3i>(0,2)[0]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T14:20:18.140

我认为您正在搜索以下内容：

```
 cv::Mat M(10, 3, CV_32SC3);
 cv::Mat_<cv::Vec3d> helpimg = M;
 helpimg .row(0).begin()[0][0] = 2.5; 
```

我可以编译它，但我没有测试它。告诉它是否有效。您也可以使用它来获取 cols 值：

```
 helpimg .col(0).begin()[0][0] = 4.5; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T09:45:48.000

这样做怎么办：

```
 cout << M.row(0).col(1) << endl; 
```

该`Mat::row`函数返回 a `Mat`，因此您可以再次调用`row`或调用`col`结果以从中获取所需的行或列。

# java - 通过访问 Class 对象中的静态变量来确定选择哪个子类

> ID：14954017
> 
> 赞同：2
> 
> 时间：2013-02-19T09:27:55.880
> 
> 标签：java, selection, abstract-class, subclass, static-variables

我正在尝试在 Java 中实现一个接口，以便为一个应用程序使用不同类型的数据库。我的想法是创建一个具有公共接口和两个静态变量的抽象类，然后被子类覆盖。然后我想添加一个 Class[] 列表，其中包含所有可用子类的类到抽象类以及允许确定要使用的正确类的几个函数。

目标是首先获取所有可用数据库类型的列表并让用户选择一个。之后，另一个函数应该将名称（可以本地化）转换为`IDENTIFIER`子类中指定的名称。最后，第三个函数允许通过给出这样的`IDENTIFIER`.

我的抽象类看起来像这样：

```
public abstract class DataBase {
    public static final IDENTIFIER = "";
    public static final NAME = "";
    private static final Class[] dbTypes = new Class[]{PostgreSQL.class, MySQL.class};

    public static String[] getNameList() {
        String[] names = new String[dbTypes.length];
        for(int i = 0; i < dbTypes.length; i++){
            names[i] = dbTypes[i].NAME;       //Cannot access the static variable this way.
        }
        return names;
    }
    public static String getIdentifierForName(String name) {
        for(int i = 0; i < dbTypes.length; i++){
            if(name.equals(dbTypes[i].NAME){       
                return dbTypes[i].IDENTIFIER;
            }
        }
        return "";
    }
    public static DataBase getInstanceOf(String identifier) {
        for(int i = 0; i < dbTypes.length; i++){
            if(identifier.equals(dbTypes[i].IDENTIFIER) {       
                return dbTypes[i].newInstance();
            }
        }
        return null;
    }
} 
```

Child 类看起来像这样：

```
public class MySQL extends DataBase {
    public static final IDENTIFIER = "ab.cde.MySQL";
    public static final NAME = "MySQL";
    ...
}
public class PostgreSQL extends DataBase{
    public static final IDENTIFIER = "ab.cde.PostgreSQL";
    public static final NAME = "PostgreSQL";
    ...
} 
```

我现在的问题是，我无法从 Class 对象访问静态变量。显然 dbTypes 列表不包含任何类型化的类。我尝试将 Array 的类型更改为`Class<? extends DataBase>`，但出现错误`Cannot create a generic array of Class<? extends DataBase>`我还尝试使用检查类`isAssignableFrom()`然后强制转换类，但我仍然无法访问静态变量。

现在我有两个有效的解决方案：

1.  将所有现有的子类硬编码到每个函数`if(PostgreSQL.NAME.equals(name)){...}`等中。但是，如果我添加新的子类，我只想在我的实现中添加它们。

2.  除了使用 Class[] 数组，我可以使用 DataBase[] 数组和每个类的实例。但是，我认为实例化每个可用的 DataBase 子类是一种不好的做法，即使我最终只需要一个。

因为我之前从未做过这样的事情，所以我也可能完全错误地处理这个问题。也许我错过了通常完成此类事情的正确方法？

感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:30:01.087

Java 中没有“抽象属性”。您必须在`DataBase`类中创建两个抽象方法，如下所示：

```
public abstract class DataBase {

    // No "abstract propeties"

    public abstract String getDBName();
    public abstract String getDBIdentifier();

    // etc etc...

} 
```

然后，在每个子类中：

```
public class MySQL extends DataBase {

    public static final IDENTIFIER = "ab.cde.MySQL";
    public static final NAME = "MySQL";

    @Override
    public String getDBName() {
       return NAME;
    }

    @Override
    public String getDBIdentifier() {
       return IDENTIFIER;
    }

    // etc etc...

} 
```

使用类时，您只需转换为`DataBase`(not `MySQL`or `PostgreSQL`) 并调用两个抽象方法。

因此，为了解决您的“选择数据库类”问题，我将创建一个包含数据库名称和相应类的配置文件，并根据需要使用反射（`newInstance()`）对其进行实例化。

作为替代方案，您可以使用反射来访问静态变量，如 Nikita 建议的答案，或者您可以只**使用类的名称作为它支持的数据库的标识符**，如下所示（未测试）：

```
public abstract class DataBase {

    private static final Class[] dbTypes = new Class[]{PostgreSQL.class, MySQL.class};

    public static Class getDBClass(String type) {
       for (Class c : dbTypes) {
           if (c.getSimpleName().toLowerCase().equals(type.toLowerCase())) {
               return c;
           }
       }
       return null;
    }

    public static Set<String> getSupportedDB() { // <-- you populate a dropdown menu with this
       Set<String> supported = new HashSet<String>();
       for (Class c : dbTypes) {
           supported.add(c.getSimpleName());
       }
       return supported;
    }

    // etc etc...

} 
```

但是，我不喜欢这个解决方案，也不会使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:35:30.420

您可以使用反射来获取每个类的值：

```
public static String[] getNameList(){
    String[] names = new String[dbTypes.length];
    for(int i=0; i<dbTypes.length; i++){
        Field f = dbTypes[i].getField("NAME");
        names[i] = f.get(null);
    }
    return names;
} 
```

但它可能会很慢。

我还建议创建单独的枚举`DBRegistry`，其中包含名称、标识符和类：

```
public enum DBRegistry {
   MYSQL("ab.cde.MySQL", "MySQL", MySQL.class),
   POSTGRESQL("ab.cde.PostgreSQL", "PostgreSQL", PostgreSQL.class);

   private String name;
   private String identifier;
   private Class<?> dbClass;

   private DBRegistry(String identifier, String name, Class<?> dbClass) {
       this.identifier = identifier;
       this.name = name;
       this.dbClass = dbClass;
   }
   // Getters...
} 
```

您可以使用迭代注册表中的所有项目`DBRegistry.values`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:13:12.800

未经测试，但我会建议这样的事情。您可以通过调用 DataBase.registerDataBase(new DataBase(...))); 来注册数据库。可以从主文件调用。

```
 public class DataBase {
          private final static List<DataBase> INSTANCES = new ArrayList<DataBase>();
          private final String identifier;
          private final String name;
          private final Class<?> dbType;
          public DataBase(String identifier, String name, Class<?> dbType) {
           this.identifier=identifier.toString();
           this.name=name.toString();
           this.dbType=dbType;         
          }

          String getIdentifier() {return identifier;}
          String getName()       {return identifier;}
          Class<?> getDbType()   {return dbtype;}

          public synchronized static void registerDatabase(DataBase database) {
            database.getClass();
            INSTANCES.add(database);
            //may check if already registered and either fail or replace it
          }

          public synchronized static List<DataBase> getNameList() {
            return new ArrayList<DataBase>(INSTANCES);
          }

          public synchronized static List<String> getNameList() {
            List<String> names = new ArrayList<String>(INSTANCES.size());
            for (Database db:INSTANCES) names.add(db.getName());
            return names;
          }

          public synchronized static String getIdentifierForName(String name) {       
                for(DataBase db:INSTANCES){
                    if(name.equals(db.getName())) return db;
                }           
            return null;
          }

          public synchronized static DataBase getInstanceOf(String identifier) {
            for(DataBase db:INSTANCES){
                    if(identifier.equals(db.getIdentifier())) return db;
                }           
            return null;
          }
        }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T17:36:02.120

我建议保持简单，不要超过在实际应用程序中使用的必要条件。扩展事物比重构代码以适应额外的复杂性更容易。您提到的大多数内容只是您解决问题的人工制品，而不是您的应用程序本身的实际需求。碰巧的是，现代的面向对象语言拥有你需要的一切，你可以实现一个好的设计而无需反射，也无需求助于静态属性和字符串标识符。

记住要依赖编译器而不是运行时来处理您事先知道的任何事情 - 任何已知**不会**从一个应用程序运行到另一个应用程序的东西都不需要反射，因为它不涉及运行时变量！我会选择接口、实现它们的类，更重要的是使用工厂模式来抽象使用这些类：

```
interface Database
{
    void query(String sqlString);
}

class MySQLDatabase implements Database
{
    public void query(String sqlString)
    {

    }
}

class PostgreSQLDatabase implements Database
{
    public void query(String sqlString)
    {

    }
}

class DatabaseFactory
{
    Database connectDatabase()
    {
        /// F.e. return new MySQLDatabase();
    }
} 
```

The whole "database abstraction layer" has been done to death already anyway, giving birth to `DBA`, `ODBC` and other software stacks that solve your problem. You should let yourself be inspired by these, unless you are sure your particular way of solving this yields advantages that can be proven. If you want to go about this in a professional way, of course. If you want to educate yourself, by all means, use reflection, strings in place of more specific objects, and tight-coupling instead of aggressive modularity.

# android - 将语音转换为文本

> ID：14954018
> 
> 赞同：1
> 
> 时间：2013-02-19T09:28:08.223
> 
> 标签：android, speech-recognition

我想将语音转换为文本两次；第一个用于消息，第二个用于数字。

当我说话时，会显示短信，但我怎么能用数字做到这一点。

这是我的代码：

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);

    switch (requestCode) {
    case RESULT_SPEECH: {
        if (resultCode == RESULT_OK && null != data) {

            ArrayList<String> text = data
                    .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);

            txtText.setText(text.get(0));
            Message_Speak = txtText.getText().toString();
            speaknum.setText(text.get(1));

        }
        break;
    }

    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:37:23.097

API 不允许您指定如何读取文本，因此您的代码必须修改文本输入，以便读取各个数字。

[Android Text To Speech And Numbers](https://stackoverflow.com/questions/11238517/android-text-to-speech-and-numbers)给出了答案

# amazon-web-services - 使用 fuse-s3fs 了解 amazon s3 的存储要求

> ID：14954026
> 
> 赞同：0
> 
> 时间：2013-02-19T09:28:28.133
> 
> 标签：amazon-web-services, amazon-ec2, fuse, s3fs

我有一个问题要了解使用 fuse-s3fs 的 Amazon s3 服务的挂载过程，当我挂载 amazon s3 服务存储桶时，它会将整个数据复制到我的本地系统还是仅充当 amazon s3 存储桶的视图？

我想知道的原因是，假设我有一个具有 500 MB 存储空间的系统，我可以安装一个存储大约 200 GB 数据的存储桶吗？如果它只是作为视图，那么我应该，但如果整个数据在本地复制，那么肯定不会。

我需要这方面的指导。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T19:02:07.810

默认情况下（即不使用缓存选项），s3fs 只是为您的 S3 存储桶提供挂载点。不会保留任何本地数据副本。然而，s3fs 确实提供了一个将本地驱动器用作缓存的选项，这可以在需要时提供一些 i/o 性能改进（因为通过挂载直接读取/写入 S3 存储桶并不是最快的过程）。

# mmap - mmap 在堆中分配内存？

> ID：14954027
> 
> 赞同：10
> 
> 时间：2013-02-19T09:28:28.243
> 
> 标签：mmap

我正在阅读维基百科中的 mmap 并尝试这个例子[http://en.wikipedia.org/wiki/Mmap#Example_of_usage](http://en.wikipedia.org/wiki/Mmap#Example_of_usage)。我已经用 gcc 编译了这个程序并运行了 valgrind overit。

这是 valgrind 的输出：

```
# valgrind a.out 
==7018== Memcheck, a memory error detector
==7018== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==7018== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==7018== Command: a.out
==7018== 
PID 7018:   anonymous string 1, zero-backed string 1
PID 7019:   anonymous string 1, zero-backed string 1
PID 7018:   anonymous string 2, zero-backed string 2
==7018== 
==7018== HEAP SUMMARY:
==7018==     in use at exit: 0 bytes in 0 blocks
==7018==   total heap usage: 0 allocs, 0 frees, 0 bytes allocated
==7018== 
==7018== All heap blocks were freed -- no leaks are possible
==7018== 
==7018== For counts of detected and suppressed errors, rerun with: -v
==7018== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 2 from 2)
PID 7019:   anonymous string 2, zero-backed string 2
==7019== 
==7019== HEAP SUMMARY:
==7019==     in use at exit: 0 bytes in 0 blocks
==7019==   total heap usage: 0 allocs, 0 frees, 0 bytes allocated
==7019== 
==7019== All heap blocks were freed -- no leaks are possible
==7019== 
==7019== For counts of detected and suppressed errors, rerun with: -v
==7019== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 2 from 2) 
```

我的问题是

mmap 是否在堆上分配内存？如果不是， munmap 会做什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-19T09:34:32.250

在类 Unix 系统上，程序的地址空间由一个或多个*虚拟内存区域*组成，每个虚拟内存区域都由操作系统映射到物理内存、文件或什么都没有。

一般来说，堆是由 C 运行时创建并由 C 运行时管理的一个特定内存区域`malloc`（它反过来使用`brk`和`sbrk`系统调用来增长和缩小）。

`mmap`是一种创建新内存区域的方法，独立于`malloc`（因此独立于堆）。 `munmap`只是它的逆，它释放了这些区域。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-19T09:35:02.137

mmapped 内存既不是堆也不是栈。它被映射到调用进程的虚拟地址空间，但它不是在堆上分配的。

# objective-c - 模型对象与。查看对象

> ID：14954030
> 
> 赞同：2
> 
> 时间：2013-02-19T09:28:32.593
> 
> 标签：objective-c, ios6

我目前是一名拥有近 2 年 C++ 编程经验的大学生，并且有一个关于 Objective-c 的一般性问题。我对 Objective-C 和 Xcode 提供的用户界面相当陌生。我目前正在阅读《iOS 编程：大书呆子牧场指南》一书。我的问题是……

Objective-c 中的视图对象和模型对象有什么区别？- 实施方面，以及其他任何事情。

任何意见都很棒！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:33:55.500

视图和模型对象是模型-视图-控制器模式的一部分：

```
- View objects provide methods for displaying data and expose some generic interfaces. 
- Model objects represent the data and provide some model-specific interfaces. 
- Controllers join the two together. 
```

看看这篇文章：[http ://www.informit.com/articles/article.aspx?p=1566875&seqNum=4](http://www.informit.com/articles/article.aspx?p=1566875&seqNum=4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:38:19.373

互联网上有很多教程可供您学习。我将为您提供一些链接和教程视频，如下所示：

1：[苹果的视图控制器指南](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/ModalViewControllers/ModalViewControllers.html)

2：[http ://timneill.net/2010/09/modal-view-controller-example-part-1/](http://timneill.net/2010/09/modal-view-controller-example-part-1/)

3：[http ://conecode.com/news/2011/09/ios-tutorial-switch-views/](http://conecode.com/news/2011/09/ios-tutorial-switch-views/)

还有一些视频教程-：

1：[http ://www.youtube.com/watch?v=m4KkjaHkv-s](http://www.youtube.com/watch?v=m4KkjaHkv-s)

2：[http ://www.youtube.com/watch?v=hiMcmmg7PQY](http://www.youtube.com/watch?v=hiMcmmg7PQY)

3：[http ://www.youtube.com/watch?v=Y09RvzZ1mY8](http://www.youtube.com/watch?v=Y09RvzZ1mY8)

干杯....

# apache - 在 Apache 中重写默认 / (index.php)

> ID：14954031
> 
> 赞同：1
> 
> 时间：2013-02-19T09:28:35.113
> 
> 标签：apache, mod-rewrite, redirect

目前，服务器将任何 HTTP 请求重定向到[http://www.example.com/index.php](http://www.example.com/index.php)到 HTTPS。

```
RewriteEngine on

RewriteCond %{SERVER_PORT} !^443$
RewriteCond %{HTTPS} !on
RewriteCond %{REQUEST_URI} index.php$ [NC]
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
```

但是，问题是当向[http://www.example.com](http://www.example.com)发出请求时，没有进行重定向。

在 {REQUEST_URI} 为空的情况下，如何使服务器重定向到 HTTPS。（我假设它是空的）

**编辑：**
在 akostadinov 的回答之后，我修改了 .htaccess 以包含它，并且重写工作。我会在这里发布，以防以后有人遇到同样的问题！

```
RewriteCond %{SERVER_PORT} !^443$
RewriteCond %{HTTPS} !on
RewriteCond %{REQUEST_URI} /$ [NC]
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:36:52.157

请求是`/`。请参阅`curl -v`下面的输出（截断）。顺便说一句，如果您真的不需要匹配特定条件，则可以省略 URI 条件。

```
$ curl -v example.com
* About to connect() to example.com port 80 (#0)
*   Trying 192.0.43.10...
* connected
* Connected to example.com (192.0.43.10) port 80 (#0)
> GET / HTTP/1.1
> User-Agent: curl/7.27.0
> Host: example.com
> Accept: */*
... 
```

# android - ListActivity ListView 完成加载

> ID：14954037
> 
> 赞同：0
> 
> 时间：2013-02-19T09:29:00.090
> 
> 标签：android, android-listview, listactivity

我想根据 ListView 行的数据设置背景颜色。我实现了一个 ListActivity，但我不知道如何通知加载完成，以便我可以访问 ListView 的行。

```
public class RouteList extends ListActivity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.route_list);

    CommuteDb db = new CommuteDb(this);
    Cursor cursor = db.getRouteList();
    ListAdapter adapter = new SimpleCursorAdapter(this, // Context.
        R.layout.route_row, //row template
        cursor, // Pass in the cursor to bind to.
        new String[] { BaseColumns._ID, "Name" }, //Columns from table
        new int[] { R.id.id, R.id.name }, //View to display data
        0); //FLAG_REGISTER_CONTENT_OBSERVER

    setListAdapter(adapter);

    ListView listView = (ListView) findViewById(android.R.id.list);
    Log.i("RouteList","listView.getChildCount()=" + listView.getChildCount()); //returns always 0
//Loop will not execute because no row yet
    for (int i=0; i < listView.getChildCount(); i++) {
        View rowView = listView.getChildAt(i);
        Log.i("RouteList",rowView.getClass().getName());
        rowView.setBackgroundColor(0x88ff0000);
    } 
```

如果我稍后执行此循环（例如根据用户的请求），我可以获取每一行并分配我想要的颜色。但是，在 ListView 中加载数据后，我需要自动执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T05:46:33.213

谢谢你的提示。
以这种方式修改代码后它可以工作：我添加了一个从 SimpleCursorAdapter 派生的自定义适配器（RouteAdapter）：

```
private class RouteAdapter extends SimpleCursorAdapter {

    public RouteAdapter(Context context, int layout, Cursor c,
            String[] from, int[] to, int flags) {
        super(context, layout, c, from, to, flags);
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        //Let the default getView do the job (inflate the row layout and set views to their values from database  
        View view = super.getView(position, convertView, parent);
        //Get the resulting view (route_row) and do custom loading
        TextView isOffer = (TextView) view.findViewById(R.id.isOffer);
        if (isOffer.getText().equals("0"))
                view.setBackgroundColor(0x8800ff00); //seek=green
            else
                view.setBackgroundColor(0x88ff0000); //offer=red

        return view;
    }
} 
```

然后在我的原始代码中，我刚刚用 RouteAdapter 替换了 SimpleCursorAdapter：

```
ListAdapter adapter = new RouteAdapter(this, // Context. 
```

# c# - 如何使用 mvvcross/monodroid 在位图中插入文本？

> ID：14954038
> 
> 赞同：2
> 
> 时间：2013-02-19T09:29:03.193
> 
> 标签：c#, xamarin.android, image, mvvmcross

我想在位图图片中插入一个字符串文本。我必须使用 mvvmcross/monodroid 来创建应用程序，所以我不能使用[Graphics 对象](http://msdn.microsoft.com/en-us/library/system.drawing.graphics.aspx)或 monodroid 特定语言（代码必须在 android/wp8/winRT 上运行......）。你知道任何可以帮助我的图书馆吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:10:27.710

操作图形不是可移植的功能——通常最好使用平台特定的代码来执行此操作，该代码通常得到硬件加速的支持。

我相信处理这个问题的正确方法是在每个平台上注入一个特定的实现。我自己在一个客户项目中完成了这项工作——但那是他们的 IP——而不是开源代码。

CrossGraphics 是一个可以帮助您统一代码的库 - [https://github.com/praeclarum/CrossGraphics](https://github.com/praeclarum/CrossGraphics) - 但这仍然是每个平台上的本机代码。

# actionscript-3 - 如何在 flex 4 中更改 StageWebview 字体大小

> ID：14954039
> 
> 赞同：2
> 
> 时间：2013-02-19T09:29:05.647
> 
> 标签：actionscript-3, apache-flex, flex4.5, stagewebview

我正在 flex 4.6 中开发阅读器应用程序。我正在使用 StageWebview 来显示我的内容。我想在用户单击我的自定义缩放按钮时更改 stagewebview 字体大小。我怎样才能做到这一点..

我的代码： `webview.loadUrl("file:///mnt/sdcard/file.html");`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-16T15:38:18.323

您可以使用 javascipt 设置放大/缩小。在脚本标记的 file.html 文件中添加以下行。或简单地复制并粘贴以下代码到您的标签中。并通过按钮调用此方法。

```
 <script type="text/javascript">
   var fontSize = 1;
   function zoomIn() 
   {
      fontSize += 0.1;
      document.body.style.fontSize = fontSize + "em";
   }
   function zoomOut() 
   {
      fontSize -= 0.1;
      document.body.style.fontSize = fontSize + "em";
   }
   </script> 
```

# nginx - 关闭浏览器时停止执行 php 脚本

> ID：14954044
> 
> 赞同：4
> 
> 时间：2013-02-19T09:29:29.610
> 
> 标签：nginx, fastcgi, php

我的 PHP 应用程序在 Nginx 和 PHP-FPM 上运行。

当我使用 Apache 时，请求中止（浏览器关闭）终止了 php 进程，但现在脚本继续执行直到结束。Nginx`fastcgi_ignore_client_abort`选项是`Off`，我不使用`fastcgi_finish_request`函数。

这种行为的原因是什么？或者我怎么能告诉 php 请求被中止了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T23:32:53.350

这就是`fast-cgi`通常提供比`mod_php`. 与分叉相反的线程方法意味着没有为每个请求启动 apache 进程（或关闭它）的开销。

[您可以配置运行的子进程数量来调整进程管理器文档](http://www.php.net/manual/en/install.fpm.configuration.php#pm)所消耗的资源量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T23:04:14.090

fastcgi 使进程保持打开状态，并在特定文件的进程中关闭句柄。这是 fastcgi 和常规 cgi 之间的主要区别之一。此外，php 根本不了解浏览器。

# android - 为包含其他 jar 文件的 Android 项目创建一个可分发的 jar 文件

> ID：14954060
> 
> 赞同：0
> 
> 时间：2013-02-19T09:30:10.200
> 
> 标签：android, jar, onejar

我的目标是为 Android 项目创建一个可分发的 jar 文件，其中包括一些其他 jar 文件。据我了解，“标准” jar 文件中不允许包含其他 jar 文件，所以我想我需要在这里学习一个技巧。

*   我一直在尝试为此设置[One-Jar](http://one-jar.sourceforge.net/)，但我一直遇到问题。是否有任何将 One-jar 用于 Android 项目（使用 Eclipse）的开发指南？

*   我应该看看还有其他好的选择吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:40:06.133

[jarjar](https://code.google.com/p/jarjar/)非常擅长这一点。当您将它与[Maven](https://maven.apache.org/)[一起](http://sonatype.github.com/jarjar-maven-plugin/)使用时，它非常容易将大量依赖项集合制作成一个 jar。

虽然，没有什么能阻止您在 Android 项目中包含多个 jar 作为依赖项。

# android - 从已安装的 Facebook Android 应用程序获取访问令牌的问题

> ID：14954062
> 
> 赞同：2
> 
> 时间：2013-02-19T09:30:11.410
> 
> 标签：android, facebook-android-sdk, facebook-access-token, android-facebook

我正在使用 Facebook SDK 3.0 进行身份验证。当设备上未安装 facebook 应用程序时，它可以正常工作。如果设备上已安装 facebook 应用程序，我将无法获取访问令牌值。

我在本教程中使用 helloFacebookSampleActivity.java 中给出的相同代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:11:06.730

这是由于facebook 提供的[单点登录功能。](https://developers.facebook.com/blog/post/640/)如果他/她已经在本机 facebook 应用程序中登录，它允许用户登录到您的应用程序，而无需重新输入用户名和密码。

要使其正常工作，您必须将您的 Android 密钥哈希提交到您的 Facebook 个人资料。有关这方面的更多信息，请阅读[此处](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)`Step 4`给出的信息。

# c++ - C++ 标准库是否定义了 pi？

> ID：14954066
> 
> 赞同：4
> 
> 时间：2013-02-19T09:30:21.340
> 
> 标签：c++, std, c++-standard-library, pi

STL 是否包含 pi (=3.14...) 的定义？当然，我可以使用 old good `M_PI`，但它是非标准的并且不兼容交叉编译器。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T16:31:37.243

Boost.Math 将 pi（和许多其他）数学常数定义为非常高精度

```
#include <boost/math/constants.hpp>
long double pi = boost::math::constants::pi<long double>(); 
```

完整列表可[在此处](http://www.boost.org/doc/libs/1_53_0/libs/math/doc/sf_and_dist/html/math_toolkit/constants/constants.html)获得。

# html - HTML 交换图像以适应框

> ID：14954068
> 
> 赞同：0
> 
> 时间：2013-02-19T09:30:25.493
> 
> 标签：html, css, image, dreamweaver, swap

我正在使用 Adob​​e Dreamweaver CS5，并在 html 文档中的图像中添加了交换行为。基本上，交换属性应该以其原始大小弹出并在鼠标移出时恢复。我面临的问题是交换的图像填满了屏幕。我尝试将 width: px 和 height: px 属性添加到 img src 字符串，但这也不起作用。这是片段：

```
<div class="caption lft glow2" data-x="600" data-y="615" data-speed="600" data-start="200" data-easing="easeOutExpo"><img src="img/glow.png" onMouseOver="MM_swapImage('Image1','','img/intro-1.jpg',1)"  width="131" height="124" onMouseOut="MM_swapImgRestore()"></div> 
```

这是CSS：

```
.caption.glow2 {
position: absolute;
padding: 6px 10px;
margin: 0px;
border-width: 0px;
border-style: none;
background: transparent;
opacity: 5; 
```

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:15:47.293

解决了！我做了一个翻转。谢谢！

# mysql - 询问MySQL中的查询

> ID：14954069
> 
> 赞同：1
> 
> 时间：2013-02-19T09:30:28.717
> 
> 标签：mysql, sql, select

我有这样的表：

```
CreateDate  |  UserID
2012-01-1   |     1
2012-01-10  |     2
2012-01-20  |     3
2012-02-2   |     4
2012-02-11  |     1
2012-02-22  |     2
2012-03-5   |     3
2012-03-13  |     4
2012-03-17  |     5 
```

我需要查询来显示在 2013 年 2 月 1 日之后创建并且在 2013 年 2 月 1 日之前在数据库中不存在的 UserID

从上面的例子中，结果必须是：

```
CreateDate  |  UserID
2012-02-2   |     4
2012-03-13  |     4
2012-03-17  |     5 
```

它只能在没有存储过程的单个查询中解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:37:48.817

您可以使用子查询单独获取`UserID`之前存在`Feb. 2, 2013`的子查询，然后使用`LEFT JOIN`.

```
SELECT  a.*
FROM    tableName a
        LEFT JOIN 
        (
            SELECT  UserID
            FROM    tableName
            WHERE   CreateDate < '2013-02-01'
        ) b ON a.userID = b.userID
WHERE   a.CreateDate > '2013-02-01' AND
        b.userID IS NULL 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/e51df/6)

为了获得更快的性能，请添加一个`INDEX`on 列`userID`。

*   [SQL JOIN 与 IN 性能？](https://stackoverflow.com/questions/1200295/sql-join-vs-in-performance)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:34:35.040

这是一种方法：

```
select 
  CreateDate,
  UserID
from Users
where CreateDate >= '2012-02-01'
and UserId not in (
  select UserId
  from Users
  where CreateDate < '2012-02-01'
) 
```

SqlFiddle 链接：[http ://www.sqlfiddle.com/#!2/7efae/2](http://www.sqlfiddle.com/#!2/7efae/2)

# ios - 出口开发证书为p12

> ID：14954074
> 
> 赞同：17
> 
> 时间：2013-02-19T09:30:45.720
> 
> 标签：ios, certificate, export

我从 Apple 开发者中心下载了个人开发证书并将其导入到我的钥匙串中。现在，我想将其导出为 .p12 文件并使用密码对其进行加密。当我右键单击“钥匙串”选项卡“证书”中的证书并按“导出”按钮时，.p12 选项未突出显示/可用。而不是可用的其他 3 个选项（.cer、.pem、.p7b）。

我尝试了几件事，比如将用于创建证书的 Apple ID 添加到系统偏好设置->用户和组->我的帐户，但这并没有解决问题。该证书是在与我现在使用的不同的 Macbook 上创建的。

是否可以以任何方式将其导出为 .p12？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2016-01-12T13:37:19.557

兴趣点：钥匙串助手窗口在左侧面板的下部有一个“类别”列表。**您只能从“证书”视图中导出 p12。**

在“全部”视图中，您可以在旁边看到证书和密钥，因此它们是不同的项目，不可能多选；在证书视图中，有一个树结构，其中密钥作为证书的子项，因此选择证书也会隐式选择相应的私钥。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-02-19T09:35:05.620

缺少的`.p12`选项意味着您的机器上只有私钥或证书。您需要这两者来生成一个`.p12`（顺便说一句，您需要私钥和证书来签署您的应用程序）。

因此，找出您缺少哪些，将缺少的部分添加到钥匙串，该`.p12`选项将可用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-08T11:18:07.983

您可以在您的钥匙串中检查私钥是否与开发证书相关联。只有存在时，您才能将私钥和证书导出为 .p12。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-08-20T09:22:34.530

我在同一个问题上苦苦挣扎 - 我能够使用我的“开发人员 ID 证书”在本地签署 macOS 应用程序，但无法将该证书导出为 .p12 文件（Azure Pipelines 需要）。经过一个小时的尝试，我发现您需要将开发人员 ID 证书存储在“登录”钥匙串中（只有在那里您还可以看到您的私钥和“导出为 .p12”选项），而不是在我使用多年的“系统”钥匙扣......

因此，尽管存储在系统钥匙串中的开发者 ID 证书可以在 Xcode 中正常工作，但它不允许您将其导出为 .p12 文件，直到您将其重新导入“登录”钥匙串...

[![系统钥匙串](../Images/461fd61d6589e14cb0040e1c93955765.png)](https://i.stack.imgur.com/f3Plv.png) [![登录钥匙串](../Images/4003bdd004c44be5d551d5e70c8c6e69.png)](https://i.stack.imgur.com/lyQUT.png)

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2016-02-24T13:25:22.803

[![只需从左侧面板中选择证书即可将其导出为 .p12](../Images/77a9c20b97b4727be91e752bbc945cf7.png)](https://i.stack.imgur.com/TZYni.png) 只需从左侧面板中选择证书即可将其导出为 .p12

# php - jQuery 和会话 PHP

> ID：14954079
> 
> 赞同：0
> 
> 时间：2013-02-19T09:31:00.617
> 
> 标签：php, jquery, session

我有一个用 php 和 jQuery 开发的网站。当我单击一个单选按钮时，我想对我的数组 $_SESSION 进行一些控制。如果我第一次为会话的每个键创建一个循环，则循环忽略许多值。这是我的脚本 jQuery

```
$('#livraison').click(function(){
  <?php
  foreach( $_SESSION as $key => $value){
  ?>
  alert("here <?php echo($key); ?>");
  <?php
  }
  ?>
}); 
```

如果我打印数组，我有这个：

```
array(15) { ["order_by"]=> string(13) "titolo_fr ASC" ["iva_1899"]=> string(5) "19,60" ["id_"]=> NULL ["qta_"]=> NULL ["iva_"]=> NULL ["iva_1891"]=> string(5) "19,60" ["iva_2191"]=> string(5) "19,60" ["id_2191"]=> string(4) "2191" ["qta_2191"]=> string(1) "4" ["idcarrello_2191"]=> string(4) "2191" ["nomecarrello_2191"]=> string(23) "Irpinia Rosato Ros'Aura" ["qtacarrello_2191"]=> string(1) "4" ["totalecarrello_2191"]=> string(5) "34,00" ["ivacarrello_2191"]=> string(5) "19,60" ["familles_2191"]=> string(1) "1" } 
```

并且循环qta_2191之后的第一次block。但是，如果我重新加载同一页面并单击单选按钮，则循环一直到结束。打印出来的数组是一样的。为什么第一次循环foreach块在数组中间？我不明白，因为我很好地打印了数组，如果我重新加载页面就可以了。为什么？

# grails-2.0 - 用于以 PDF 和 EXCEL 而非 Jasper 导出图形的 Grails 插件

> ID：14954083
> 
> 赞同：0
> 
> 时间：2013-02-19T09:31:13.280
> 
> 标签：grails-2.0

> 我需要一个 grails 插件来导出 PDF 和 EXCEL 中的图形，而不是 Jasper 插件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T04:35:28.257

你可以使用这个插件 [http://www.grails.org/plugin/export](http://www.grails.org/plugin/export)

它可以导出 CSV、Excel、打开文档电子表格、PDF 和 XML

# c - 在 C 中读取/写入浮点类型时如何处理字节顺序差异？

> ID：14954088
> 
> 赞同：9
> 
> 时间：2013-02-19T09:31:36.490
> 
> 标签：c, floating-point, endianness

我正在为我的应用程序设计一种文件格式，我显然希望它能够在大端和小端系统上工作。我已经找到了使用`htonl`and管理整数类型的有效解决方案，但是在尝试对and值`ntohl`做同样的事情时我有点卡住了。`float``double`

鉴于浮点表示如何工作的性质，我假设标准字节顺序函数不适用于这些值。同样，我什至不完全确定传统意义上的字节序是否决定了这些类型的字节顺序。

我需要的只是一致性。一种写出的方法`double`，并确保我在读回它时得到相同的值。我怎样才能在 C 中做到这一点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-19T10:20:09.030

另一种选择是使用`double frexp(double value, int *exp);`from `<math.h>`(C99) 将浮点值分解为归一化分数（在 [0.5, 1) 范围内）和 2 的整数幂。然后您可以将分数乘以`FLT_RADIX`^(`DBL_MANT_DIG`)得到整数在 [ `FLT_RADIX`^(`DBL_MANT_DIG`)/2, `FLT_RADIX`^(`DBL_MANT_DIG`)) 范围内。然后你保存两个整数 big-endian 或 little-endian，无论你选择哪种格式。

当您加载保存的数字时，您执行相反的操作并使用`double ldexp(double x, int exp);`将重构的分数乘以 2 的幂。

`FLT_RADIX`当=2（我想几乎所有系统？）和`DBL_MANT_DIG`<=64时，这将最有效。

必须小心避免溢出。

示例代码`doubles`：

```
#include <limits.h>
#include <float.h>
#include <math.h>
#include <string.h>
#include <stdio.h>

#if CHAR_BIT != 8
#error currently supported only CHAR_BIT = 8
#endif

#if FLT_RADIX != 2
#error currently supported only FLT_RADIX = 2
#endif

#ifndef M_PI
#define M_PI 3.14159265358979324
#endif

typedef unsigned char uint8;

/*
  10-byte little-endian serialized format for double:
  - normalized mantissa stored as 64-bit (8-byte) signed integer:
      negative range: (-2^53, -2^52]
      zero: 0
      positive range: [+2^52, +2^53)
  - 16-bit (2-byte) signed exponent:
      range: [-0x7FFE, +0x7FFE]

  Represented value = mantissa * 2^(exponent - 53)

  Special cases:
  - +infinity: mantissa = 0x7FFFFFFFFFFFFFFF, exp = 0x7FFF
  - -infinity: mantissa = 0x8000000000000000, exp = 0x7FFF
  - NaN:       mantissa = 0x0000000000000000, exp = 0x7FFF
  - +/-0:      only one zero supported
*/

void Double2Bytes(uint8 buf[10], double x)
{
  double m;
  long long im; // at least 64 bits
  int ie;
  int i;

  if (isnan(x))
  {
    // NaN
    memcpy(buf, "\x00\x00\x00\x00\x00\x00\x00\x00" "\xFF\x7F", 10);
    return;
  }
  else if (isinf(x))
  {
    if (signbit(x))
      // -inf
      memcpy(buf, "\x00\x00\x00\x00\x00\x00\x00\x80" "\xFF\x7F", 10);
    else
      // +inf
      memcpy(buf, "\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x7F" "\xFF\x7F", 10);
    return;
  }

  // Split double into normalized mantissa (range: (-1, -0.5], 0, [+0.5, +1))
  // and base-2 exponent
  m = frexp(x, &ie); // x = m * 2^ie exactly for FLT_RADIX=2
                     // frexp() can't fail
  // Extract most significant 53 bits of mantissa as integer
  m = ldexp(m, 53); // can't overflow because
                    // DBL_MAX_10_EXP >= 37 equivalent to DBL_MAX_2_EXP >= 122
  im = trunc(m); // exact unless DBL_MANT_DIG > 53

  // If the exponent is too small or too big, reduce the number to 0 or
  // +/- infinity
  if (ie > 0x7FFE)
  {
    if (im < 0)
      // -inf
      memcpy(buf, "\x00\x00\x00\x00\x00\x00\x00\x80" "\xFF\x7F", 10);
    else
      // +inf
      memcpy(buf, "\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x7F" "\xFF\x7F", 10);
    return;
  }
  else if (ie < -0x7FFE)
  {
    // 0
    memcpy(buf, "\x00\x00\x00\x00\x00\x00\x00\x00" "\x00\x00", 10);
    return;
  }

  // Store im as signed 64-bit little-endian integer
  for (i = 0; i < 8; i++, im >>= 8)
    buf[i] = (uint8)im;

  // Store ie as signed 16-bit little-endian integer
  for (i = 8; i < 10; i++, ie >>= 8)
    buf[i] = (uint8)ie;
}

void Bytes2Double(double* x, const uint8 buf[10])
{
  unsigned long long uim; // at least 64 bits
  long long im; // ditto
  unsigned uie;
  int ie;
  double m;
  int i;
  int negative = 0;
  int maxe;

  if (!memcmp(buf, "\x00\x00\x00\x00\x00\x00\x00\x00" "\xFF\x7F", 10))
  {
#ifdef NAN
    *x = NAN;
#else
    *x = 0; // NaN is not supported, use 0 instead (we could return an error)
#endif
    return;
  }

  if (!memcmp(buf, "\x00\x00\x00\x00\x00\x00\x00\x80" "\xFF\x7F", 10))
  {
    *x = -INFINITY;
    return;
  }
  else if (!memcmp(buf, "\xFF\xFF\xFF\xFF\xFF\xFF\xFF\x7F" "\xFF\x7F", 10))
  {
    *x = INFINITY;
    return;
  }

  // Load im as signed 64-bit little-endian integer
  uim = 0;
  for (i = 0; i < 8; i++)
  {
    uim >>= 8;
    uim |= (unsigned long long)buf[i] << (64 - 8);
  }
  if (uim <= 0x7FFFFFFFFFFFFFFFLL)
    im = uim;
  else
    im = (long long)(uim - 0x7FFFFFFFFFFFFFFFLL - 1) - 0x7FFFFFFFFFFFFFFFLL - 1;

  // Obtain the absolute value of the mantissa, make sure it's
  // normalized and fits into 53 bits, else the input is invalid
  if (im > 0)
  {
    if (im < (1LL << 52) || im >= (1LL << 53))
    {
#ifdef NAN
      *x = NAN;
#else
      *x = 0; // NaN is not supported, use 0 instead (we could return an error)
#endif
      return;
    }
  }
  else if (im < 0)
  {
    if (im > -(1LL << 52) || im <= -(1LL << 53))
    {
#ifdef NAN
      *x = NAN;
#else
      *x = 0; // NaN is not supported, use 0 instead (we could return an error)
#endif
      return;
    }
    negative = 1;
    im = -im;
  }

  // Load ie as signed 16-bit little-endian integer
  uie = 0;
  for (i = 8; i < 10; i++)
  {
    uie >>= 8;
    uie |= (unsigned)buf[i] << (16 - 8);
  }
  if (uie <= 0x7FFF)
    ie = uie;
  else
    ie = (int)(uie - 0x7FFF - 1) - 0x7FFF - 1;

  // If DBL_MANT_DIG < 53, truncate the mantissa
  im >>= (53 > DBL_MANT_DIG) ? (53 - DBL_MANT_DIG) : 0;

  m = im;
  m = ldexp(m, (53 > DBL_MANT_DIG) ? -DBL_MANT_DIG : -53); // can't overflow
           // because DBL_MAX_10_EXP >= 37 equivalent to DBL_MAX_2_EXP >= 122

  // Find out the maximum base-2 exponent and
  // if ours is greater, return +/- infinity
  frexp(DBL_MAX, &maxe);
  if (ie > maxe)
    m = INFINITY;
  else
    m = ldexp(m, ie); // underflow may cause a floating-point exception

  *x = negative ? -m : m;
}

int test(double x, const char* name)
{
  uint8 buf[10], buf2[10];
  double x2;
  int error1, error2;

  Double2Bytes(buf, x);
  Bytes2Double(&x2, buf);
  Double2Bytes(buf2, x2);

  printf("%+.15E '%s' -> %02X %02X %02X %02X %02X %02X %02X %02X  %02X %02X\n",
         x,
         name,
         buf[0],buf[1],buf[2],buf[3],buf[4],buf[5],buf[6],buf[7],buf[8],buf[9]);

  if ((error1 = memcmp(&x, &x2, sizeof(x))) != 0)
    puts("Bytes2Double(Double2Bytes(x)) != x");

  if ((error2 = memcmp(buf, buf2, sizeof(buf))) != 0)
    puts("Double2Bytes(Bytes2Double(Double2Bytes(x))) != Double2Bytes(x)");

  puts("");

  return error1 || error2;
}

int testInf(void)
{
  uint8 buf[10];
  double x, x2;
  int error;

  x = DBL_MAX;
  Double2Bytes(buf, x);
  if (!++buf[8])
    ++buf[9]; // increment the exponent beyond the maximum
  Bytes2Double(&x2, buf);

  printf("%02X %02X %02X %02X %02X %02X %02X %02X  %02X %02X -> %+.15E\n",
         buf[0],buf[1],buf[2],buf[3],buf[4],buf[5],buf[6],buf[7],buf[8],buf[9],
         x2);

  if ((error = !isinf(x2)) != 0)
    puts("Bytes2Double(Double2Bytes(DBL_MAX) * 2) != INF");

  puts("");

  return error;
}

#define VALUE_AND_NAME(V) { V, #V }

const struct
{
  double value;
  const char* name;
} testData[] =
{
#ifdef NAN
  VALUE_AND_NAME(NAN),
#endif
  VALUE_AND_NAME(0.0),
  VALUE_AND_NAME(+DBL_MIN),
  VALUE_AND_NAME(-DBL_MIN),
  VALUE_AND_NAME(+1.0),
  VALUE_AND_NAME(-1.0),
  VALUE_AND_NAME(+M_PI),
  VALUE_AND_NAME(-M_PI),
  VALUE_AND_NAME(+DBL_MAX),
  VALUE_AND_NAME(-DBL_MAX),
  VALUE_AND_NAME(+INFINITY),
  VALUE_AND_NAME(-INFINITY),
};

int main(void)
{
  unsigned i;
  int errors = 0;

  for (i = 0; i < sizeof(testData) / sizeof(testData[0]); i++)
    errors += test(testData[i].value, testData[i].name);

  errors += testInf();

  // Test subnormal values. A floating-point exception may be raised.
  errors += test(+DBL_MIN / 2, "+DBL_MIN / 2");
  errors += test(-DBL_MIN / 2, "-DBL_MIN / 2");

  printf("%d error(s)\n", errors);

  return 0;
} 
```

输出（[ideone](http://ideone.com/9mqLzv)）：

```
+NAN 'NAN' -> 00 00 00 00 00 00 00 00  FF 7F

+0.000000000000000E+00 '0.0' -> 00 00 00 00 00 00 00 00  00 00

+2.225073858507201E-308 '+DBL_MIN' -> 00 00 00 00 00 00 10 00  03 FC

-2.225073858507201E-308 '-DBL_MIN' -> 00 00 00 00 00 00 F0 FF  03 FC

+1.000000000000000E+00 '+1.0' -> 00 00 00 00 00 00 10 00  01 00

-1.000000000000000E+00 '-1.0' -> 00 00 00 00 00 00 F0 FF  01 00

+3.141592653589793E+00 '+M_PI' -> 18 2D 44 54 FB 21 19 00  02 00

-3.141592653589793E+00 '-M_PI' -> E8 D2 BB AB 04 DE E6 FF  02 00

+1.797693134862316E+308 '+DBL_MAX' -> FF FF FF FF FF FF 1F 00  00 04

-1.797693134862316E+308 '-DBL_MAX' -> 01 00 00 00 00 00 E0 FF  00 04

+INF '+INFINITY' -> FF FF FF FF FF FF FF 7F  FF 7F

-INF '-INFINITY' -> 00 00 00 00 00 00 00 80  FF 7F

FF FF FF FF FF FF 1F 00  01 04 -> +INF

+1.112536929253601E-308 '+DBL_MIN / 2' -> 00 00 00 00 00 00 10 00  02 FC

-1.112536929253601E-308 '-DBL_MIN / 2' -> 00 00 00 00 00 00 F0 FF  02 FC

0 error(s) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T09:45:23.967

浮点值使用与整数值相同的字节顺序恕我直言。使用联合将它们与相应的积分对应物重叠并使用常见的 hton 函数：

```
float htonf(float x) {
   union foo {
     float f;
     uint32_t i;
   } foo = { .f = x };

   foo.i = htonl(foo.i);
   return foo.f;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T09:34:52.190

根据应用程序，使用纯文本数据格式（可能是 XML）可能是个好主意。如果你不想浪费磁盘空间，你可以压缩它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T09:45:43.690

XML 可能是最可移植的方式。

但是，您似乎已经构建了大部分解析器，但仍停留在浮点/双精度问题上。我建议把它写成一个字符串（达到你想要的任何精度），然后再读回来。

除非您的所有目标平台都使用 IEEE-754 浮点数（和双精度数），否则任何字节交换技巧都不适合您。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-19T09:47:04.913

如果您保证您的实现始终以指定格式处理序列化浮点表示，那么您会没事的（IEEE 754 很常见）。

是的，架构可能会以不同的方式对浮点数进行排序（例如大端或小端）。因此，您将希望以某种方式指定字节顺序。这可以是格式的规范或变量，并记录在文件的数据中。

最后一个主要缺陷是内置函数的对齐方式可能会有所不同。您的硬件/处理器如何处理未对齐的数据是实现定义的。因此，您可能需要交换数据/字节，然后将其移动到目标`float`/ `double`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-19T10:31:20.037

正如高性能标记所说，像 HDF5 甚至 NetCDF 这样的库可能有点重量级，除非您还需要这些库中可用的其他功能。

仅处理序列化的轻量级替代方案是例如[XDR](https://www.rfc-editor.org/rfc/rfc4506)（另请参见[wikipedia description](https://en.wikipedia.org/wiki/External_Data_Representation)）。许多操作系统提供开箱即用的 XDR 例程，如果这还不够的话，还存在独立的 XDR 库。

# vim - 添加 vim 片段

> ID：14954095
> 
> 赞同：6
> 
> 时间：2013-02-19T09:32:05.797
> 
> 标签：vim, code-snippets, snipmate

我找到了[Ruby/Rails 片段](https://github.com/scrooloose/snipmate-snippets)的这个资源，看起来它有很多很酷的片段，我可以在 vim 中使用。

但由于我是 vim 新手，我不知道如何在我的 vim 编辑器中启用这些片段。没有这样的使用说明书。

如何在 vim 编辑器中启用这些片段？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-19T11:27:24.097

这些片段用于[snipMate - Vim](http://www.vim.org/scripts/script.php?script_id=2540)插件的 TextMate 样式片段。您需要先安装它。

请注意，虽然这个插件不再维护，但它仍然可以正常工作（并且可能会继续这样做，因为 Vim 在向后兼容性方面有着出色的记录），并且仍然被很多人使用（包括我在内）。不过，有一个更新的 fork 可用：[garbas/vim-snipmate](https://github.com/garbas/vim-snipmate)。一个更新、更强大的插件是[UltiSnips - 支持 python 的 Vim 的终极片段解决方案](http://www.vim.org/scripts/script.php?script_id=2715)，它可以将旧的 snipMate 片段转换为其格式。所以，有很多选择。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-19T09:55:48.510

### 关于 Vim 中的片段插件

我推荐插件 Neosnippets：[https](https://github.com/Shougo/neosnippet) ://github.com/Shougo/neosnippet这是我认为最好的。

第一步：安装插件。推荐使用 Pathogen 安装

第 2 步：将您喜欢的代码片段下载/克隆到本地机器，或创建自己的（推荐）

第三步：将上述repo的路径设置为vimrc中Neosnippets的snippets文件夹

```
let g:neosnippet#snippets_directory='~/path/to/above/snippets/' 
```

第 4 步：如果您愿意，可以根据帮助文件进行更多自定义。

### 对于你提到的回购

我检查了它。

一个问题是它已经过时了，许多 Rails 代码都是几年前的。它们现在用处不大。

另一个问题是格式与 NeoSnippet 不兼容。您可以查看`:help neosnippet-snippet-syntax`如何为 NeoSnippets 编写代码片段。它既简单又易于使用。

# java - 电子邮件响应，即打开和接收电子邮件的时间

> ID：14954098
> 
> 赞同：0
> 
> 时间：2013-02-19T09:32:09.300
> 
> 标签：java, email

如何跟踪电子邮件？

我在服务器端使用 java 来发送电子邮件。我想跟踪它是否已交付、打开等。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:30:43.150

嗯，电子邮件没那么简单。

例如，您可以使用一些技术来更好地了解打开电子邮件的时间，但这并不能保证。

一种常用的方法是包含一个图像，例如（一个信标），它在加载时向您的服务器发出请求。

当然，一些邮件客户端会询问用户是否允许加载外部内容。如果他说不，你也无能为力。

就像在评论中发布的一样，您可以在此处查找更多信息：[http](http://en.wikipedia.org/wiki/Email_tracking) ://en.wikipedia.org/wiki/Email_tracking并通过谷歌搜索主题，已经写了很多关于它的文章。

# java - 在 JSP 中的会话与同一页面上显示错误消息？

> ID：14954099
> 
> 赞同：0
> 
> 时间：2013-02-19T09:32:10.127
> 
> 标签：java, jsp, session, servlets

我有这种情况，如果用户没有输入正确的密码，我需要显示在哪里，程序将在会话中放置一条适当的消息，并将调度回登录 jsp 页面并显示该消息。

我也检查了这个，[重定向到同一页面，但其中有一条消息](https://stackoverflow.com/questions/11450944/redirect-to-the-same-page-but-with-a-message-in-it)

但是当我尝试实现答案时，日食在代码上给了我一条红线。

这是我的代码，

```
String message = "Wrong Password!";

HttpSession session = session.setAttribute("message", message); 
```

显示的错误是**Type Mismatch: Cannot Convert to from void to HttpSession**

有什么想法我错了，或者我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:35:50.177

`session.setAttribute()`返回“ `void`”而不是“ `HttpSession`”。

您需要从中获取`session`，`request`然后`setAttribute()`在`session`属性上使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:36:17.270

只是该`setAttribute()`方法不会返回会话对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:36:34.590

```
session.setAttribute("message", message); 
```

这个返回类型是无效的，因此你对 Object 的 pionting `HttpSessoin`，所以它给出了显示编译器错误。

**用这个**

```
HttpSession session = request.getSession(true);
session.setAttribute("message", message); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T09:40:08.903

> HttpSession session = session.setAttribute("message", message);

上一行是错误的。你只需要做一个...

```
session.setAttribute("message", message); 
```

就是这样。并在获取会话值的同时在 jsp 页面上。

```
out.println(session.getAttribute("message")); 
```

或者

```
<%=session.getAttribute("message")%> 
```

# jquery - 为什么 jQuery UI 1.10 删除 jquery 对话框 zIndex 选项？

> ID：14954104
> 
> 赞同：18
> 
> 时间：2013-02-19T09:32:38.420
> 
> 标签：jquery, dialog, z-index

我发现最新版本的 jQuery UI(1.10) 删除了该`zIndex`选项。并且在 jQuery 网站上得到了证实。

真的让我很震惊。请考虑一下：

当我们有一个jqgrid，用`editrow()`or`addrow()`打开一个编辑对话框来编辑一些东西，里面有很多字段，其中一些有自定义事件，比如，当你点击它时，它会显示另一个jQuery对话框来显示一些树视图项目可供选择。

在 jQuery UI 1.9（包含）下，您可以将 jQuery 对话框的`zIndex`选项设置为大于 jqgrid 编辑对话框的选项（jqgrid 编辑对话框支持集`zIndex`），因此 jQuery 对话框始终处于打开状态并且可以看到和使用。

在 jQuery UI 1.10 下，你不能设置`zIndex`，所以 jQuery 对话框总是在 jqgrid 编辑对话框后面。

我觉得这样的场景很常见。

为什么 jQuery UI 1.10 移除 jQuery 对话框`zIndex`选项？`z-index`有多个对话框时如何控制顺序？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-13T15:32:06.687

我想我理解你的问题。jQuery UI 对话框的 CSS z-index 不够高，无法始终显示在您的内容上方。这是一个快速修复：

```
/* A class used by the jQuery UI CSS framework for their dialogs. */
.ui-front {
    z-index:1000000 !important; /* The default is 100\. !important overrides the default. */
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-19T09:36:18.380

[只需阅读jQuery UI 1.10](http://jqueryui.com/upgrade-guide/1.10/#removed-zindex-option)中的更改日志（连同已提交[的错误）：](http://bugs.jqueryui.com/ticket/8729)

> **删除了 zIndex 选项**
> 
> 与 stack 选项类似，zIndex 选项对于适当的堆叠实现是不必要的。z-index 在 CSS 中定义，现在通过确保焦点对话框是其父级中的最后一个“堆叠”元素来控制堆叠。

换句话说：您应该对元素进行属性堆叠，而不是使用 zIndex 选项“破解”您的堆叠方式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-09-19T01:27:52.823

如果您想在实例化对话框后立即使用 jQuery 应用 zIndex，您可以执行以下操作：

```
$('#element').dialog({ your options... }).parent('.ui-dialog').css('zIndex',9999); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-25T15:50:49.373

您是否尝试过使用“appendTo”选项？只需动态添加一个带有您需要的 z-index 的包装器，然后使用该元素的 id 作为“appendTo”参数中的选择器。

[http://api.jqueryui.com/dialog/#option-appendTo](http://api.jqueryui.com/dialog/#option-appendTo)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-05-30T17:03:47.120

你有没有尝试过？

```
$( ".selector" ).dialog( "moveToTop" ); 
```

参考：[http ://api.jqueryui.com/dialog/#method-moveToTop](http://api.jqueryui.com/dialog/#method-moveToTop)

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2014-07-17T09:35:51.103

```
 $('#element').dialog({     modal: true,
                            stack: false,
                            zIndex: 9999,
... 
```

为我工作

# sql-server - 插入语句错误消息

> ID：14954109
> 
> 赞同：1
> 
> 时间：2013-02-19T09:32:51.050
> 
> 标签：sql-server, tsql, insert-update

大家早上好

我的老板帮助我设计了一个查询，其中填充了 137 万行随机数据，他现在要求我将结果插入/更新到空白表中。但由于某种原因，我无法让它工作。

三列是 ArrivalDate、PitchType_Skey 和 Site_Skey。但是当我运行我的查询（见下文）时，我收到一条错误消息，我不知道为什么。你能帮我吗？

> *消息 121，级别 15，状态 1，第 2 行
> INSERT 语句的选择列表包含的项目多于插入列表。SELECT 值的数量必须与 INSERT 列的数量相匹配。*

询问：

```
USE Occupancy

INSERT INTO Bookings (ArrivalDate, Site_Skey, PitchType_Skey)
    SELECT        
       Time.Date, Site.Site_Skey, Site.SiteWeighting, PitchType.PitchType_Skey, 
       PitchType.PitchTypeWeighting, 
       RAND(checksum(NEWID())) * Site.SiteWeighting * PitchType.PitchTypeWeighting AS Expr1
    FROM            
       Capacity 
    INNER JOIN
       Site ON Capacity.Site_Skey = Site.Site_Skey 
    INNER JOIN
       PitchType ON Capacity.PitchType_Skey = PitchType.PitchType_Skey 
    INNER JOIN
       Time 
    INNER JOIN
       AGKey ON Time.ArrivalDayWeighting = AGKey.[Key] ON Capacity.StartDate <= Time.Date AND Capacity.EndDate >= Time.Date 
    CROSS JOIN
        (SELECT 0 AS col1
         UNION ALL
         SELECT 1 AS col1) AS aaav
    WHERE        
       (Time.CalendarYear = 2010) 
       AND (RAND(checksum(NEWID())) * Site.SiteWeighting * PitchType.PitchTypeWeighting >= 1.22) 
```

谢谢

韦恩

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:36:39.550

错误信息给你答案。您的`SELECT`列表中有更多项目 (6)

```
Time.Date
Site.Site_Skey
Site.SiteWeighting
PitchType.PitchType_Skey
PitchType.PitchTypeWeighting
RAND(checksum(NEWID())) * Site.SiteWeighting * PitchType.PitchTypeWeighting AS Expr1 
```

比您在`INSERT`列表中所做的 (3)

```
ArrivalDate
Site_Skey
PitchType_Skey 
```

从您的`SELECT`列表中删除一些列或将一些列添加到您的`INSERT`列表中。

由于您没有给出`Bookings`表格的完整结构，我只能猜测您需要这样做

```
USE Occupancy
INSERT INTO Bookings
(
    ArrivalDate,
    Site_Skey,
    PitchType_Skey
)
SELECT
    Time.Date,
    Site.Site_Skey,
    PitchType.PitchType_Skey
FROM
    Capacity
    INNER JOIN Site ON Capacity.Site_Skey = Site.Site_Skey
    INNER JOIN PitchType ON Capacity.PitchType_Skey = PitchType.PitchType_Skey
    INNER JOIN Time
    INNER JOIN AGKey ON Time.ArrivalDayWeighting = AGKey.[Key] ON Capacity.StartDate <= Time.Date AND Capacity.EndDate >= Time.Date
    CROSS JOIN
    (
        SELECT 0 AS col1
        UNION ALL
        SELECT 1 AS col1
    ) AS aaav
WHERE
    Time.CalendarYear = 2010
    AND (RAND(checksum(NEWID())) * Site.SiteWeighting * PitchType.PitchTypeWeighting >= 1.22) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T12:51:20.953

我找到了解决方案，我不敢相信它是多么容易，我只是在查询设计器上取消了我不想要的框。

# linq - 编写自定义 NHibernate HQL 生成器时如何访问参数属性

> ID：14954110
> 
> 赞同：3
> 
> 时间：2013-02-19T09:32:55.743
> 
> 标签：linq, nhibernate, hql, expression, linq-expressions

我有以下自定义类型，上面有一个方法来确定一个时间跨度是否与另一个时间重叠

```
public struct DateTimeSpan
{
    public DateTime? Start { get; set; }
    public DateTime? End { get; set; }

    public bool Overlaps(DateTimeSpan overlap)
    {
        //....
    }
} 
```

我正在尝试编写一个自定义 HQL 生成器，以便在我的数据访问 LINQ 查询中使用此方法时，它会在查询数据库时生成适当的 SQL。

这是我`BaseHqlGeneratorForMethod`尝试将一个与另一个的`End`属性进行比较的开始`DateTimeSpan`

```
public class DateSpanOverlapsDateTimeSpanHqlGenerator : BaseHqlGeneratorForMethod
{
    public DateSpanOverlapsDateTimeSpanHqlGenerator()
    {
        SupportedMethods = new[]
            {
                ReflectionHelper.GetMethodDefinition<DateTimeSpan>(x => x.Overlaps(new DateTimeSpan()))
            };
    }

    public override HqlTreeNode BuildHql(MethodInfo method, Expression targetObject, ReadOnlyCollection<Expression> arguments, HqlTreeBuilder builder, IHqlExpressionVisitor visitor)
    {
        var endTargetProperty = ReflectionHelper.GetProperty<DateTimeSpan, DateTime?>(x => x.End);
        Expression endTargetExpression = Expression.MakeMemberAccess(targetObject, endTargetProperty);

        var endArgumentProperty = ReflectionHelper.GetProperty<DateTimeSpan, DateTime?>(x => x.End);
        Expression endArgumentExpression = Expression.MakeMemberAccess(arguments[0], endArgumentProperty);

       return builder.GreaterThanOrEqual(visitor.Visit(endTargetExpression).AsExpression(), visitor.Visit(endArgumentExpression).AsExpression());
    }
} 
```

我已经证明正在评估中的`End`财产，`targetObject`但无论我做什么，我都无法得到它来评估`End`财产`arguments[0]`。上面的代码只是我尝试过的一个例子（并且似乎是最明显的，因为它适用于`targetObject`），我尝试的大多数事情都以异常结束`Antlr.Runtime.NoViableAltException`

`targetObject`和之间的一个明显区别`arguments[0]`是它`targetObject`是类型`PropertyExpression`和`arguments[0]`是类型`ConstantExpression`。我认为这意味着需要有不同的方法来访问它们，但我无法弄清楚它是什么！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-06T11:28:06.713

treeBuilder.Constant(arg.SubProperty); 将缓存您的对象，因此您在运行查询时最终会遇到问题。

你应该在你的 DateTimeSpan 中添加一个重载

```
public bool Overlaps(DateTime? start, DateTime? end) 
```

将签名匹配到您的 DateSpanOverlapsDateTimeSpanHqlGenerator

```
SupportedMethods = new[]
{
ReflectionHelper.GetMethodDefinition<DateTimeSpan>(span => span.Overlaps(default(DateTime?), default(DateTime?)))
}; 
```

并以这种方式获取值：

```
public override HqlTreeNode BuildHql(MethodInfo method, Expression targetObject, ReadOnlyCollection<Expression> arguments, HqlTreeBuilder builder, IHqlExpressionVisitor visitor)
{
    var startProperty = ReflectionHelper.GetProperty<DateTimeSpan, DateTime?>(x => x.Start);
    var endProperty = ReflectionHelper.GetProperty<DateTimeSpan, DateTime?>(x => x.End);

    MemberExpression targetStartExpression = Expression.MakeMemberAccess(targetObject, startProperty);
    MemberExpression targetEndExpression = Expression.MakeMemberAccess(targetObject, endProperty);

    HqlExpression startDateExpression = visitor.Visit(arguments[0]).AsExpression();
    HqlExpression endDateExpression = visitor.Visit(arguments[1]).AsExpression();
    ....
} 
```

照常营业之后：

```
builder.LessThanOrEqual(visitor.Visit(targetStartExpression).AsExpression(), endDateExpression) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T12:39:41.587

我不知道您是否解决了这个问题或者仍然对答案感兴趣，但是我自己在寻找这个确切问题的解决方案时偶然发现了这个问题，所以我想我会为其他人添加我的解决方案。

在调试时，我注意到目标对象参数作为类型的表达式传入`PropertyExpression`，而我的参数作为类型传入`ConstantExpression`，所以虽然添加到`PropertyExpression`using是完全有效的，但它`Expression.Property`不适用于常量值。

相反，我提取常量的值并直接访问子属性的值，创建新的常量表达式，然后我可以使用它来构建查询表达式。

我不知道这是否是最好的，或者最优雅的方式，但它对我有用。我希望它有所帮助。

```
 public class MyObject
 {
    public double SubProperty { get; set; }
 }

 private HqlTreeNode GenerateHQL(
    MethodInfo method,
    Expression targetObject,
    ReadOnlyCollection<Expression> arguments,
    HqlTreeBuilder treeBuilder,
    IHqlExpressionVisitor visitor)
{
    MyObject arg = (MyObject)((ConstantExpression)arguments[0]).Value;
    HqlConstant argExpression = treeBuilder.Constant(arg.SubProperty);

    ...
    ...
} 
```

# php - 如何获得 vurtuemart 运输方式的税率？

> ID：14954112
> 
> 赞同：0
> 
> 时间：2013-02-19T09:32:59.917
> 
> 标签：php, joomla, virtuemart

我正在使用 Joomla 2.5.4 和 Virtuemart 2.0.6。我想在 Virtuemart 购物车中显示运输方式 TAX rate(calc_value)。如何在美德购物车中获取装运方式税率？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:44:40.980

尝试这个。

```
 $cart = VirtueMartCart::getCart();
    $cart->prices['shipmentTax']; 
```

这可能会有所帮助..

# java - Java Swing：单击时移动JButton

> ID：14954113
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:00.183
> 
> 标签：java, swing, jframe, jbutton, absolutelayout

我正在学习使用从按钮开始的摆动组件。单击其中一个按钮后，我试图让一些按钮移动。要设置按钮的初始位置，我在主类的构造函数中有这样的代码：

```
 setLayout(null);
    b1 = new JButton("Host");
    b1.setActionCommand("openServer");
    b1.addActionListener(this);
    b1.setBounds(300,10,200,30);
    add(b1); 
```

还有两个按钮。在主要方法中我

```
frame.setContentPane(newContentPane); 
```

其中 NewContentPane 被设置为主类的新对象。这一切都很好，很漂亮。但是然后我单击按钮，动作侦听器开始工作。在它的美好追求中，它再次使用

```
b1.setBounds(-1,-1,0,0);
b3.setBounds(30,30,50,30); 
```

或者其他什么，隐藏 b1 并使 b3 出现之前隐藏的。正如我所料，仅此一项没有任何作用。所以我尝试重新粉刷框架或面板，但什么也没做。所以我想，为什么不尝试同样的旧方法：setContentPane。它工作正常，按钮移动正常。但我得到一堆错误如下：

```
Exception in thread "AWT-EventQueue-0" java.awt.IllegalComponentStateException: contentPane cannot be set to null.
at javax.swing.JRootPane.setContentPane(JRootPane.java:620)
at javax.swing.JFrame.setContentPane(JFrame.java:693)
at packtion.ButtStallion.actionPerformed(ButtStallion.java:86)
at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)
at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)
at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
at java.awt.Component.processMouseEvent(Component.java:6505)
at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
at java.awt.Component.processEvent(Component.java:6270)
at java.awt.Container.processEvent(Container.java:2229)
at java.awt.Component.dispatchEventImpl(Component.java:4861)
at java.awt.Container.dispatchEventImpl(Container.java:2287)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
at java.awt.Container.dispatchEventImpl(Container.java:2273)
at java.awt.Window.dispatchEventImpl(Window.java:2719)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:723)
at java.awt.EventQueue.access$200(EventQueue.java:103)
at java.awt.EventQueue$3.run(EventQueue.java:682)
at java.awt.EventQueue$3.run(EventQueue.java:680)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
at java.awt.EventQueue$4.run(EventQueue.java:696)
at java.awt.EventQueue$4.run(EventQueue.java:694)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:693)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:91) 
```

我尝试了所有我能想到的方法，包括谷歌搜索。谷歌只是提供了如何设置按钮初始位置的链接，在程序运行时找不到任何关于如何更改其位置的信息。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:41:16.843

您正在尝试将 null 分配给内容窗格。

但实际上这种方法并不好。您不应该调用 setBounds() 而是使用 LayoutManager 来更改按钮的约束。变更电话后

```
container.revalidate();
container.repaint(); 
```

# objective-c - 如何将此 sql 查询转换为 Core Data

> ID：14954119
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:17.607
> 
> 标签：objective-c, cocoa, core-data, nspredicate

如何将 sql 查询转换为谓词或获取请求，

> ```
> select a.name 
> from a 
> group by a.name; 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:57:04.260

这是一个可能的解决方案：

```
NSFetchRequest* request = [NSFetchRequest fetchRequestWithEntityName:@"a"];
[request setPropertiesToFetch:@[@"name"]];
[request setPropertiesToGroupBy:@[@"name"]];
[request setResultType:NSDictionaryResultType]; 
```

# node.js - 如何在 nodejs child_process.exec 中使用通配符

> ID：14954120
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:19.570
> 
> 标签：node.js

为什么这不起作用？怎么做才对？

```
var exec = require("child_process").exec;

exec("ls data/tile_0_{0..63}.jpg", function(error, stdout, stderr){
    console.log('stdout: ' + stdout); 
    console.log('stderr: ' + stderr)}
);

// stdout: 
// stderr: ls: cannot access data/tile_0_{0..63}.jpg: No such file or directory 
```

在 bash 终端中，这列出了所有文件，例如`tile_0_0.jpg, tile_0_1.jpg, etc.`

从节点执行的这个按预期工作，但没有做我想要的事情。

```
ls data/tile_61_[0-9].jpg 
```

请帮我 ...

我正在使用 Linux Mint 14。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:25:30.357

为什么不做

```
var _ = require('underscore'),
  fs = require('fs'),
  files = fs.readdirSync('data');

var filtered = _.filter(files, function(filename){
  return filename.indexOf('tile_0_') == 0;
}); 
```

# javascript - 下载文件后如何执行一些javascript？

> ID：14954121
> 
> 赞同：1
> 
> 时间：2013-02-19T09:33:19.993
> 
> 标签：javascript, jquery, html, loading, pageload

我有一个带有文件链接的页面。单击链接时，我使用下面的代码显示加载消息：

```
$('#TerritoriesToExcelLink').click(function() {
    $('#TerritoriesToExcelLoading').show();
    window.location.href = $(this).attr('href');
}); 
```

下载文件并在浏览器中弹出保存对话框后，我想隐藏该消息。

我尝试添加一些会触发的代码，`ready()`但这似乎只是立即运行（可能是因为即使文件没有加载页面也已经加载），因此加载消息永远不会显示。

**文件完全下载后如何隐藏加载消息？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:46:35.303

让您的服务器发送您从客户端代码中指定的随机 cookie，并在 HTTP 标头中下载。轮询您的 Javascript 以检查 cookie 的存在。这应该会告诉您浏览器何时拥有您的文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T09:48:47.957

如果你不反对使用闪光灯......

您可以在页面上创建一个不可见的 flash 对象，然后当您单击下载链接时，您可以触发 flash 下载文件，然后处理 flash 下载完成事件并使用 ExternalInterface API 在 javascript 中引发事件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T09:40:03.847

这对于前端 javascript 是不可能的，它无法检索下载进度，并且它没有任何与下载相关的事件。

我认为跟踪进度也不能用服务器端语言来完成。

# jquery - 隐藏 jQuery 移动页面第一次加载直到完全加载

> ID：14954122
> 
> 赞同：4
> 
> 时间：2013-02-19T09:33:19.837
> 
> 标签：jquery, mobile, load, hide, blink

在我的基于 jQuery Mobile 的网站的主页第一次加载时，它在被 jQuery Mobile 处理之前显示为 1 秒，然后页面变为空白 1 秒然后，页面的最终渲染完成，让最终页面出现。它提供了一种我想避免的闪烁效果，特别是因为例如 jQuery Mobile 需要解析的所有元素在第一秒内都是可见的（例如，弹出窗口不隐藏等）。

我尝试了其他基于 jQuery Mobile 的网站，他们似乎没有这个问题。有没有配置什么的？如果不是这种情况，我想隐藏页面直到它完全加载。

预先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T09:50:13.570

您可以在正文上使用 display none，然后在第一页上为 pageinit 绑定事件侦听器。

例子：

HTML：

```
<body style="display:none">
<div id="#start" data-role="page"></div>
</body> 
```

JS：

```
$("#start").one("pageinit",function(){
    $("body").show();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T07:55:48.780

这就是我所做的，但这对禁用 JS 的人来说并不好。所以我做同样的事情，但我通过 javascript 在开始的正文标记之后隐藏正文。

```
<body>
    <script type="text/javascript">
document.body.style.display = 'none';
</script>
...
</body> 
```

# c++ - Qt 安装

> ID：14954125
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:30.460
> 
> 标签：c++, visual-studio-2010, qt, qt4, codeblocks

我在安装时完全感到困惑`Qt`。

我需要同时下载`Qt creator`and`Qt SDK`或`Qt.exe`吗？

我有`Visual Studio 2010`和`Code::Blocks`在我的电脑。`Qt XXXX`那么，如果上面列出的任何一个与`VS-2010`或链接，我该如何链接`Code::Blocks`？

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:57:42.667

要使用 Visual Studio 2010，您可以下载安装程序“Qt 5.0.1 for Windows 32-bit (VS 2010, 481 MB)”，或者只需下载源代码并自行构建（如果您想要 64 位版本的库）。

“Qt Creator”是 Qt 的 IDE，所以你不需要它。您只需要“Qt 库”即可将 Qt 与其他 IDE 一起使用。对于 Visual Studio，您还需要下载“Visual Studio Add-in”，它允许您在调试器中查看 Qt 数据结构。

[qt-project](http://qt-project.org/downloads)提供免费下载。商业下载在[digia](http://qt.digia.com/Try-Qt-Now/)上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:07:21.090

[你可以从http://qt-project.org/downloads](http://qt-project.org/downloads)下载 QT creator for windows 你会得到一个 .exe（你会发现 VS Studio 和 mingw 不同的 .exe，所以你可以使用你喜欢的），一旦你安装你得到了

*   Qt 库，为特定开发平台（操作系统和编译器）预构建
*   Qt Creator 集成开发环境（IDE）
*   为特定开发平台预构建的基本开发工具
*   文档

还有一些帮助。

您可以在安装后通过选择安装程序最后一页上的选项直接启动 Qt Creator。您可以直接从 Qt Creator 启动大多数开发工具，例如 GUI 设计器、编译器和调试器。您还可以从 Qt Creator 访问已安装的文档和示例应用程序。

您可以在 Qt Creator 欢迎模式下打开大多数示例应用程序来构建和运行它们。可以通过浏览 (install_dir)/(version)/(compiler)/examples 打开其他示例。

要开发 Qt 应用程序，您需要设置一个项目。Qt Creator 包含指导您逐步完成项目创建过程的向导。向导会提示您输入特定类型项目所需的设置并为您创建必要的文件。首先，选择文件 > 新文件或项目。

向导创建使用 Qt 构建工具 qmake 的项目。它是一个用于构建自动化的跨平台系统，有助于简化跨平台开发项目的构建过程。您可以在 Qt Creator Projects 模式下修改 qmake 项目的构建和运行设置。

Qt Creator 支持为不同的目标平台构建、运行和部署 Qt 应用程序，或者使用不同的编译器、调试器或 Qt 版本。套件定义了构建和运行项目时要使用的工具、设备类型和其他设置。

Qt安装程序将安装的Qt版本((install_dir)/(version)/(compiler)/bin/qmake)添加到Qt Creator，并创建一个工具包，指定安装的Qt版本和编译器。要使用该套件，请在 Qt Creator Projects 模式下将其添加到您的项目中。然后在构建或运行项目之前在 Kit 选择器中选择套件。

要通过其他方式编译 C++ Qt 应用程序，请将 (install_dir)/(version)/(compiler)/include 添加到构建工具的包含文件搜索路径，并将 (install_dir)/(version)/(compiler)/lib 添加到库的搜索路径。

# payment-gateway - 实施 Google Checkout -（类似于 paypal express checkout）

> ID：14954126
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:33.323
> 
> 标签：payment-gateway, google-checkout

我正在尝试将 Google Checkout 集成到我的 asp.net MVC(C#) 应用程序中。我正在尝试实现类似于 PayPal Express Checkout 的 Google Checkout。IE

1.  选购产品
2.  获取授权令牌（通过登录 Google Checkout）并重定向到我的网站
3.  使用从上一步获得的令牌从我的站点处理（收费）客户的帐户。

这将避免使用通知过程。是否可以使用 Google Checkout 实现相同的功能？请建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T14:26:50.443

就像任何 API 一样，您必须相应地实现。

*   Google Checkout/钱包中没有（自动）重定向会以某种方式为您提供订单数据
*   与 Google Checkout API 的数据交换实际上是通过通知，它不是（浏览器/客户端）结帐流程的一部分（单独的过程 - 在 Paypal 中，这类似于`IPN`）

从技术上讲，您可以使用[Notification History API](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Notification_History_API)和[`charge`](https://developers.google.com/checkout/developer/Google_Checkout_XML_API_Financial_Commands#Charge_And_Ship_Order)那些`Chargeable`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T12:24:12.563

我终于通过使用 Google CheckOut 的 ParameterizedUrl 解决了这个问题。我这样做如下：

```
GCheckout.Checkout.ShoppingCartItem shoppingCartItem = new GCheckout.Checkout.ShoppingCartItem();
    shoppingCartItem.Description = "Google Checkout Item";
    shoppingCartItem.Name = "Google Checkout Item";
    decimal _price = 0M;
    decimal.TryParse(amt, out _price);
    shoppingCartItem.Price = _price;
    shoppingCartItem.Quantity = 1;
    shoppingCartItem.MerchantItemID = "1";

    string returnURL = "http://localhost:50241/GCheckout/Success";
    string trackURL = "http://localhost:50241/GCheckout/Track";

    GCheckout.Checkout.CheckoutShoppingCartRequest checkoutShoppingCartRequest = new GCheckout.Checkout.CheckoutShoppingCartRequest(ConfigurationManager.AppSettings["GoogleMerchantID"], ConfigurationManager.AppSettings["GoogleMerchantKey"], EnvironmentType.Sandbox, "USD", 30, false);
    checkoutShoppingCartRequest.ContinueShoppingUrl = returnURL;
    ParameterizedUrl trackingUrl = new ParameterizedUrl(trackURL + "?mid=123");
    trackingUrl.AddParameter("oid", UrlParameterType.OrderID);
    trackingUrl.AddParameter("ot", UrlParameterType.OrderTotal);
    trackingUrl.AddParameter("zp", UrlParameterType.ShippingPostalCode);
    checkoutShoppingCartRequest.ParameterizedUrls.AddUrl(trackingUrl);

    checkoutShoppingCartRequest.AddItem(shoppingCartItem);

    GCheckout.Checkout.MerchantCode merchantCode = new GCheckout.Checkout.MerchantCode();

    GCheckoutResponse response = checkoutShoppingCartRequest.Send();
    if (response != null)
    {
          Response.Redirect(response.RedirectUrl, true);
    } 
```

# asp.net-mvc-3 - 实体框架：M-to-n：从列表中读取链接实体

> ID：14954127
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:34.640
> 
> 标签：asp.net-mvc-3, linq, entity-framework

我知道我的标题不是很具体，而且我确定我的问题已经在某个地方被问过，但我不知道如何搜索它。

我正在使用带有实体框架的 asp.net MVC，并且我有以下模型：

```
public class Receipt 
{        
    public int ReceiptId { get; set; }

    public bool Deleted { get; set; }

    public int UseraccountId { get; set; }

    public int MessageId { get; set; }

    public virtual Useraccount Useraccount { get; set; }

    public virtual Message Message { get; set; }

}//end Receipt 
```

一个用户有多个收据。我想从特定用户那里获取所有消息。

到目前为止，这就是我的做法：

```
//Get receipts of the logged in user
List<Receipt> receipts = UnitOfWork.ReceiptRepository.Get(
    u => u.UseraccountId == loggedInUser.UseraccountId).ToList<Receipt>();

//Get all messages of the receipts
List<Message> messages = new List<Message>();
foreach (Receipt receipt in receipts)
{
    messages.Add(receipt.Message);
} 
```

有没有更好的办法？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T13:38:43.313

你有从消息到收据的链接吗？我从您的 Receipt 类中假设它与您的 Message 类具有一对一的关系。为了能够执行此方法，您的 Message 类应如下所示：

```
public class Message
{
    public int MessageId {get; set;}
    //other properties here

    //these provide the backward link to the Receipt that "owns" the message
    public int ReceiptId {get; set;} 
    public virtual Receipt Receipt {get; set;} 
 } 
```

你的模型应该通过类似这样的东西来识别这个链接（如果你使用的是 Code First）

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    modelBuilder.Entity<Receipt>()
        .HasOptional(r => r.Message)
        .WithRequired(m => m.Receipt);
} 
```

您的查询应该在存储库级别完成，特别是**消息**存储库，因为它将是有权访问您的数据库上下文的层。您的查询可能如下所示：

```
public IEnumerable<Message> GetAllMessagesByUserId (int userId)
{
    return context.Set<Message>().Include(x => x.Receipt)
                          .Include (x => x.Receipt.Useraccount)
                          .Where (x => x.Receipt.Useraccount.UseraccountId == userId)
                          .ToList();
} 
```

当您调用 UnitOfWork.MessageRepository.GetAllMessagesByUserId (loggedInUser.UseraccountId) 时，它应该返回链接到您感兴趣的用户的所有消息。

# jprofiler - JProfiler：试图找到内存泄漏

> ID：14954131
> 
> 赞同：3
> 
> 时间：2013-02-19T09:33:43.480
> 
> 标签：jprofiler

我的应用程序需要大约 10 GB 的 RAM 用于特定输入，而对于常规输入，大约 1 GB 就足够了。使用 JProfiler 进行更仔细的分析表明（在 GC 之后）标准类使用了相当多的内存`java.util.*`：

`LinkedHashMap$Entry`, `HashMap$Entry[]`, `LinkedHashMap`, `HashMap$KeySet`, `HashMap$EntrySet`, `LinkedHashSet`, `TreeMap$Entry`, 和`TreeMap`（按此顺序）和相关类。以下条目是我自己代码中的一个类，其中实例的数量和使用的内存量似乎非常合理。

在总堆使用量约为 900 MB 的情况下，我`Size`在视图中看到以下条目`All Objects`：

*   `LinkedHashMap$Entry`: 418 兆字节
*   `HashMap$Entry[]`: 178 兆字节
*   `LinkedHashMap`：124兆字节
*   `HashMap$KeySet`: 15 兆字节

使用的内存`LinkedHashMap`似乎太高了，即使考虑到`LinkedHashSet`each 由`LinkedHashMap`.

我在 JProfiler 中记录了对象分配并观察了`Allocation Hot Spots`for `LinkedHashMap`. 在那里，我看到了我不理解的条目：

*   第三个条目显示了一个热点（分配内存的 6.5%），名为`X.<init>`where`X`是我自己代码中的一个类。该方法的构造函数与 . 没有任何关系`LinkedHashMap`。在此进入到`Thread.run`最后显示从 6.5% 到 5.8% 的缓慢下降`Thread.run`。我的代码可能有什么问题`X`？为什么显示在这里？
*   大约 8% 的已分配内存显示在名为 的热点中`java.util.HashSet.iterator`。沿着百分比最高的路径（第一个条目：2.8%）跟随这个条目，我在代码中得到了几个方法，直到最后`java.lang.Thread.run`显示（2.8%）。这是什么意思？据我所知，该`Thread.run`方法不会创建`LinkedHashMap`. 与`iterator`方法有什么关系？

一般来说，我如何找到保留对（很多）`LinkedHashMap`对象的引用的代码？使用 Heap Walker，我只能看到*很多*这样的实例，但看不到任何模式（即使在观察到 GC 根的路径时）。在我的实验中，所有实例似乎都井然有序。

可能重要的事情：

*   我的应用程序构造了一个结果（用于进一步处理），并且对于这种构造，观察到了高内存使用情况。`LinkedHashMap`构造不断创建对象，因此不可能等待一个稳定点然后观察每个创建的对象。
*   我有很好的计算机可供调试（最多 48 个内核和 192 GB 的 RAM，甚至可能更多）。
*   java 版本“1.7.0_13”（Java(TM) SE 运行时环境（构建 1.7.0_13-b20），Java HotSpot(TM) 64 位服务器 VM（构建 23.7-b01，混合模式））
*   JProfiler 7.2.2（内部版本 7157），许可

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T09:59:14.760

> 一般来说，我如何找到保留对（很多）LinkedHashMap 对象的引用的代码？

在 heap walker 中，选择“LinkedHashMap”并创建一个新的对象集。然后切换到“参考”视图并显示**“累积传入参考”**。在那里，您可以分析整个对象集的引用。

![在此处输入图像描述](../Images/44b8dddfa6261b718580c6f08dbe0a7c.png)

至于您关于分配热点的问题以及为什么显示 Thread.run 方法：这些是**回溯**，它们显示了热点是如何被调用的，节点上的所有数字都是对顶部热点的贡献。最深的节点将始终是一个入口点，通常是 Thread.run 方法或 main 方法。

# php - 在“PHP CodeSniffer”期间发生内部错误。在 Zend Studio 10.0 中

> ID：14954132
> 
> 赞同：0
> 
> 时间：2013-02-19T09:33:44.393
> 
> 标签：php

在“PHP CodeSniffer”期间发生内部错误。org.eclipse.php.internal.debug.core.launching.PHPLaunchUtilities.getCommandLine(Lorg/eclipse/debug/core/ILaunchConfiguration;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[Ljava/lang /String;)[Ljava/lang/String;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T18:58:17.157

Eclipse PDT 的 3.1.2 版本似乎引入了一个需要更新 PTI 工具的更改。修复在这里讨论：[https ://github.com/pdt-eg/Core-Plugin/issues/22](https://github.com/pdt-eg/Core-Plugin/issues/22)

不幸的是，目前还没有 PTI 更新，所以除非你自己修改插件很舒服，否则你应该安装以前版本的 PDT。

# ios - 如何为我的 App 提供多语言支持？

> ID：14954136
> 
> 赞同：-3
> 
> 时间：2013-02-19T09:33:57.170
> 
> 标签：ios, objective-c, nslocalizedstring

如何让我的应用程序支持多语言？

我知道这是可能的`NSLocalizedString`，但我不知道该怎么做。我是 iPhone 开发的新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:36:57.040

![在此处输入图像描述](../Images/7213da5e8fc55cc7009cc4ae1ba2ee0e.png)Ray 提供的最简单的教程之一可以为您提供很多帮助。你可以点击这个链接[http://www.raywenderlich.com/2876/how-to-localize-an-iphone-app-tutorial](http://www.raywenderlich.com/2876/how-to-localize-an-iphone-app-tutorial)

它非常简单易懂。希望这对您有用 \m/ 编辑：您可以参考此屏幕截图以克服在最新 xcode 中已更改的“+”问题。

# c# - 多服务日志记录 - 最佳实践

> ID：14954140
> 
> 赞同：2
> 
> 时间：2013-02-19T09:34:01.803
> 
> 标签：c#, logging

我的系统包含很多组件：Windows 服务、Web 服务和网站，它们都是用 C# 编写的。目前，所有组件都使用包装 DLL 通过 NLog 记录到数据库，并且每个组件都为其保存一个单独的配置文件（几乎相同）。

我想将所有配置文件合并到 NLog 的单个全局配置中。从每个组件获取全局配置的最佳方式是什么？一个全局文件？配置提供者服务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T00:39:22.780

我有类似的要求（虽然不是专门针对 NLog）。我有一个运行 7 个不同服务的系统，每个服务都需要记录活动以供以后报告。

我的解决方案：我创建了第 8 个组件……一个监视器。除此之外，我在其他 7 个服务中使用了 XML 序列化。他们会将 XML“数据包”序列化到磁盘上的一个已知位置，监视器会定期扫描这些位置。在扫描时，它会收集数据包，反序列化它们，并按照日期时间的顺序生成官方日志文件。

我正在研究的另一个选择是使用命名管道直接与监视器通信，避免文件 I/O 以及与之相关的所有伴随问题。

# java - 在 JBOSS 7 中部署 Struts 2 项目

> ID：14954145
> 
> 赞同：2
> 
> 时间：2013-02-19T09:34:22.393
> 
> 标签：java, spring, struts2, nullpointerexception, jboss7.x

在 Jboss 7.1.1 final 中部署我的 Web 应用程序时遇到问题。在部署它时给了我很多警告，如下所示：

```
12:41:29,961 INFO  [org.springframework.web.context.ContextLoader] (MSC service thread 1-6) Root WebApplicationContext: initialization completed in 132 ms
12:41:30,169 WARN  [com.opensymphony.xwork2.util.FileManager] (MSC service thread 1-6) Could not create JarEntryRevision for [vfs:/content/Gurukul.war/WEB-INF/lib/struts2-core-2.2.1.1]!: java.util.zip.ZipException: error in opening zip file
    at java.util.zip.ZipFile.open(Native Method) [rt.jar:1.6.0_24]
    at java.util.zip.ZipFile.<init>(ZipFile.java:131) [rt.jar:1.6.0_24]
    at java.util.jar.JarFile.<init>(JarFile.java:150) [rt.jar:1.6.0_24]
    at java.util.jar.JarFile.<init>(JarFile.java:114) [rt.jar:1.6.0_24]
    at com.opensymphony.xwork2.util.FileManager$JarEntryRevision.build(FileManager.java:307) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.util.FileManager.loadFile(FileManager.java:145) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.util.FileManager.loadFile(FileManager.java:105) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:898) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java:154) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:121) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:179) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:66) [xwork-core-2.2.1.1.jar:2.2.1.1]
    at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:371) [struts2-core-2.2.1.1.jar:2.2.1.1]
    at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:415) [struts2-core-2.2.1.1.jar:2.2.1.1]
    at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:69) [struts2-core-2.2.1.1.jar:2.2.1.1]
    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:51) [struts2-core-2.2.1.1.jar:2.2.1.1]
    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:447) [jbossweb-7.0.13.Final.jar:]
    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:3269) [jbossweb-7.0.13.Final.jar:]
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:3865) [jbossweb-7.0.13.Final.jar:]
    at org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]
    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)
    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) [rt.jar:1.6.0_24]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) [rt.jar:1.6.0_24]
    at java.lang.Thread.run(Thread.java:679) [rt.jar:1.6.0_24] 
```

但最终战争被部署了，我能够在 Jboss 7.1.1 final 中打开 url。但是当我尝试登录应用程序时，它给了我以下错误。

**控制台输出：**

```
12:42:08,199 INFO  [com.ericsson.tni.action.AuthorizationAction]  Entered login
12:42:08,201 INFO  [com.ericsson.tni.action.AuthorizationAction]  Authentication Started For User : etapguh
12:42:08,201 INFO  [com.ericsson.tni.action.AuthorizationAction]  Authentication Result : success
12:42:08,202 INFO  [com.ericsson.tni.action.AuthorizationAction]  Initiating authorisation : 
12:42:08,202 ERROR [stderr]  java.lang.NullPointerException
12:42:08,203 ERROR [stderr]     at com.ericsson.tni.action.AuthorizationAction.login(AuthorizationAction.java:92)
12:42:08,203 ERROR [stderr]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
12:42:08,203 ERROR [stderr]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
12:42:08,204 ERROR [stderr]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
12:42:08,204 ERROR [stderr]     at java.lang.reflect.Method.invoke(Method.java:616)
12:42:08,204 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:452)
12:42:08,205 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)
12:42:08,205 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:254)
12:42:08,205 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
12:42:08,206 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
12:42:08,206 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,206 ERROR [stderr]     at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263)
12:42:08,207 ERROR [stderr]     at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
12:42:08,207 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
12:42:08,208 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,208 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:133)
12:42:08,208 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,209 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:207)
12:42:08,209 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
12:42:08,209 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,210 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:207)
12:42:08,210 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
12:42:08,210 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,211 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)
12:42:08,211 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,212 ERROR [stderr]     at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)
12:42:08,212 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,212 ERROR [stderr]     at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:94)
12:42:08,213 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,213 ERROR [stderr]     at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)
12:42:08,213 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,214 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
12:42:08,214 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,215 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
12:42:08,215 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,216 ERROR [stderr]     at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:267)
12:42:08,216 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,217 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:142)
12:42:08,217 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,218 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:166)
12:42:08,218 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
12:42:08,219 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,219 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
12:42:08,219 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,219 ERROR [stderr]     at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
12:42:08,220 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,220 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:190)
12:42:08,220 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,221 ERROR [stderr]     at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
12:42:08,221 ERROR [stderr]     at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
12:42:08,222 ERROR [stderr]     at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:52)
12:42:08,222 ERROR [stderr]     at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:485)
12:42:08,222 ERROR [stderr]     at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)
12:42:08,222 ERROR [stderr]     at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)
12:42:08,223 ERROR [stderr]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)
12:42:08,223 ERROR [stderr]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)
12:42:08,224 ERROR [stderr]     at com.ericsson.tni.web.interceptor.LoginFilter.doFilter(LoginFilter.java:47)
12:42:08,224 ERROR [stderr]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)
12:42:08,224 ERROR [stderr]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)
12:42:08,224 ERROR [stderr]     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)
12:42:08,225 ERROR [stderr]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
12:42:08,225 ERROR [stderr]     at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153)
12:42:08,225 ERROR [stderr]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)
12:42:08,226 ERROR [stderr]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
12:42:08,226 ERROR [stderr]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
12:42:08,226 ERROR [stderr]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368)
12:42:08,227 ERROR [stderr]     at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)
12:42:08,227 ERROR [stderr]     at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671)
12:42:08,227 ERROR [stderr]     at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930)
12:42:08,227 ERROR [stderr]     at java.lang.Thread.run(Thread.java:679)
12:42:08,228 ERROR [com.ericsson.tni.action.AuthorizationAction]  null 
```

相同的项目在 Tomcat 7 中运行良好。

**代码片段：**

```
@Action(TNIBeans.AUTHORIZATION_ACTION)
@Scope(TNIBeans.BEAN_SCOPE)
public class AuthorizationAction extends ActionSupport implements SessionAware,ServletRequestAware {

    private InputStream inputStream;
    /**
     * Logger for this class
     */
    private static final Logger logger = Logger
            .getLogger(AuthorizationAction.class);
    @Autowired
    private XStream xstream;

    public void logException(String message) {
        logger.error(message);
    }

    public void log(String msg) {
        logger.info(msg);
    }

    HttpServletRequest request = null;

    @Autowired
    @Qualifier(TNIBeans.EMPLOYEE_SERVICE_IMPL)
    private EmployeeService employeeServiceImpl;
    @Autowired
    @Qualifier(TNIBeans.CODE_SERVICE_IMPL)
    private CodeMasterService codeMasterService;

    Map<String,Map<String,String>> codeMaster = null;
    private String strResult = null;

    private static final long serialVersionUID = -8517227229292215672L;

    private Map<String, Object> session = null;
    private Employee emp = null;

    private String userName;
    private String password;
    private String roles;
    private String responseMsg;

    public String login () throws Exception {
        log("Entered login");
        if (logger.isDebugEnabled()) {
            logger.debug("execute() - start.....");
        }
        try {
            log("Authentication Started For User : "+userName);
        //  employeeServiceImpl.authenticate(userName, password);
            inputStream = new ByteArrayInputStream("success".getBytes("UTF-8"));
            log("Authentication Result : success");
            log("Initiating authorisation : ");  // This is printed in Console output if u observe (ie, till here the code                                  executed properly)

    // It couldn't create instance of "employeeServiceImpl" interface defined above..... 

            emp = employeeServiceImpl.authorize(userName); 
```

**另一个授权函数的代码片段：**

```
@Override
    public Employee authorize(String signum) throws BusinessException {
        System.out.println("Hi Tapo..."+signum); // this is not printed in console output if u observe (ie, controller doesn't                                  enter authorize function) 
        logger.info("authorize : "+signum);
        Employee emp = null;
        try{
            emp = findRoles(signum);
            if (WebConstants.adminSignum.equalsIgnoreCase(signum)) {
                emp.setSignum(signum);
                emp.setName("System Administrator");
                emp.setRoles(Role.LnCD_ADMIN);
                emp.setRoles(Role.LnCD_DELEGATE);
                emp.setRoles(Role.SYS_ADMIN);
            }
            return emp;
        }catch(BusinessException e){
            throw new BusinessException(e.getMessage());
        }catch(Exception e){
            throw new BusinessException(e.getMessage());
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T10:20:00.043

这些警告仅在 devMode(=true) 期间可用，如果您不使用 Convention 插件，一切都应该没问题。

从 Struts 2 的 2.3.1 版本开始添加了对 JBoss 7 的适当支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T18:12:19.953

根据与部署文件夹中的 jboss 文件相关的控制台输出，`server.log`您`java.lang.NullPointerException`在. 异常发生在声明中`login``AuthorizationAction`

```
emp = employeeServiceImpl.authorize(userName); 
```

那`employeeServiceImpl`就是`null`。如果不是，`null`那么我们已经`"Hi Tapo..."`在日志中看到了。没有发生类似的事情。

然后`employeeServiceImpl`是一个通过 Spring 应用程序上下文初始化的属性。即使您没有在`aplicationContext.xml`此处发布，我也认为其中包含 bean 定义。然后它应该被注入，再次假设这也有效，因为你说它在 Tomcat 服务器上运行良好。

因此，只有在 bean 创建失败时才会发生这种情况。这正是`NullPointerException`你不应该阻止的情况。

在那一刻，我们只知道`employeeService`bean 失败了。我们没有消息来源。你没发。然后，我们需要从日志文件中获取额外的异常，以查找未创建 bean 的原因。也没明白。

因此，找出在 JBoss 7 上的 Tomcat 7 中部署工作应用程序的唯一方法。发生的情况是，一些集成框架的行为与预期的略有不同。并且它们成为加载 Tomcat 下未使用的附加库。这是因为 JBoss 的功能在 Tomcat 中不可用。最后我发现我的资源停止加载，因为 JBoss 返回带有`vsf`协议的 URL。甚至我的应用程序也理解`vsfzip`协议，我需要添加这些协议才能使其正常工作。

# mysql - char 或 varchar

> ID：14954148
> 
> 赞同：1
> 
> 时间：2013-02-19T09:34:34.270
> 
> 标签：mysql, varchar

这可能是一个愚蠢的问题，但我需要问......

我创建了一个 MySQL 表来处理名为`images`. 在其中，我有一个属性可以保持图像的扩展名为`extension`.

大多数接受的图像扩展名要么是要么`jpg`或`png`要么`gif`或`bmp`或`jpeg`，`tiff`换句话说，最多`4`字符长。

现在，是否应该在 MySQL 表中声明该属性，如：

```
extension char(4) 
```

或者

```
extension varchar(4) 
```

可能对性能没有任何影响，但我确实希望从一开始就优化模型......

任何人？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:46:28.640

依靠....

如果您从 MySQL 文档中查看此内容

```
Value      CHAR(4)  Storage Required    VARCHAR(4)  Storage Required
''         '    '   4 bytes             ''          1 byte
'ab'       'ab  '   4 bytes             'ab'        3 bytes
'abcd'     'abcd'   4 bytes             'abcd'      5 bytes
'abcdefgh' 'abcd'   4 bytes             'abcd'      5 bytes 
```

如您所见，CHAR 的 4 个字符占用 4 个字节，而 VARCHAR 占用 5 个字节。如果绝大多数扩展都是 4 个字符，那么 CHAR 会更节省空间。

在你的情况下，我猜 3 将是多数，所以 VARCHAR 是更好的选择。

詹姆士 ：-）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T09:37:29.193

编辑后，我对之前的答案做出了错误的假设。[我将向您粘贴http://dev.mysql.com/doc/refman/5.0/en/char.html](http://dev.mysql.com/doc/refman/5.0/en/char.html)的摘录（已添加重点）

CHAR 和 VARCHAR 类型相似，但它们的存储和检索方式不同。从 MySQL 5.0.3 开始，它们在最大长度和是否保留尾随空格方面也有所不同。

CHAR 和 VARCHAR 类型的声明长度表示要存储的最大字符数。例如，CHAR(30) 最多可容纳 30 个字符。

**CHAR 列的长度固定为您在创建表时声明的长度。长度可以是 0 到 255 之间的任何值。存储 CHAR 值时，它们会用空格右填充到指定长度。检索 CHAR 值时，将删除尾随空格。**

**VARCHAR 列中的值是可变长度字符串。在 MySQL 5.0.3 之前，长度可以指定为 0 到 255 之间的值，在 5.0.3 和更高版本中可以指定为 0 到 65,535 之间的值。MySQL 5.0.3 及更高版本中 VARCHAR 的有效最大长度取决于最大行大小（65,535 字节，在所有列之间共享）和使用的字符集。**

与 CHAR 相比，VARCHAR 值存储为一个字节或两个字节长度的前缀加上数据。长度前缀表示值中的字节数。如果值需要不超过 255 个字节，则一列使用一个长度字节，如果值可能需要超过 255 个字节，则使用两个长度字节。

# visual-studio-2010 - Resharper 7.1 的任何灯光配置？

> ID：14954151
> 
> 赞同：1
> 
> 时间：2013-02-19T09:34:37.127
> 
> 标签：visual-studio-2010, resharper, stylecop

我使用 Resharper 7.1 只是因为具有 StyleCop 设置的一项功能“清洁代码...”。

我不需要其他东西，比如智能感知或新菜单（实际上工作非常缓慢）。

是否可以使用一些外部工具来清理代码并在 Visual Studio 中禁用 Resharper？是否可以配置 Resharper 以禁用他所有的“酷”插件和菜单，如自定义“重命名”并使用 VisualStudio 默认值？任何其他可以使用样式警察设置重新格式化代码而不会对性能产生这种影响的工具？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T13:05:55.970

您无法完全关闭所有 ReSharper 功能，但如果您转到 ReSharper | 您可以关闭以下选项的选项：

1.  环境-> 编辑器。您可以关闭所有复选框。他们负责打字辅助，可能会导致非常慢的计算机上的打字延迟。

2.  环境 -> 智能感知 -> 常规。您可以选择“Visual Studio”来关闭 ReSharper 的高级智能感知功能。

3.  代码检查 -> 设置。您可以关闭“启用代码分析”。它负责查找代码中的错误并为它们提供快速修复。

4.  代码编辑 -> 上下文操作和代码编辑 -> C# -> 上下文操作。您可以关闭所有复选框。他们负责通过 Alt-Enter 为您提供一些代码编辑助手。

5.  工具 -> 单元测试。如果您不使用 ReSharper 单元测试运行程序，您可以关闭“启用单元测试”复选框。

6.  也许您还应该从工具 -> 待办事项中删除所有待办事项模式。

但是你能做的最好的事情是让你的老板给你买一个有足够内存和 SDD 的好的开发工作站——即使没有 ReSharper，这也会很有用，因为你的时间要贵很多倍。并学习使用高级 ReSharper 功能。他们真的很值得。

# jquery - Jquery分配gridview中的标签文本

> ID：14954152
> 
> 赞同：0
> 
> 时间：2013-02-19T09:34:42.973
> 
> 标签：jquery, asp.net, gridview

如何获取 gridview 内部的标签并使用 jquery 为该标签分配文本。一般来说，我们使用以下内容在 jquery 中分配文本

`("[id$='label1']").val('Value')`或者`$('#<%=label1.ClientID%>').val('Value')`

但是由于控件在gridview中，我如何分配文本

这是我的列表视图

```
 <tr>
<td style="width: 50px; text-align: center;" rowspan="2">
<asp:Label ID="lblID" runat="server" Text=""></asp:Label>
</td>
 <td style="width: 50px; text-align: center;" rowspan="2">
<asp:Label ID="lblFirstname1" runat="server" Text='<%# Bind("firstname") %>'></asp:Label>
</td>
</tr> 
```

在我的脚本文件中，我按照以下方式编写

`$("[id$='lblID']").text('Value');`哪个没用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:36:19.090

使用`text()`or `html()`...`val()`是为了`input` 试试这个

```
$("[id$='label1']").text('Value') 
```

**更新**

```
$('#<%= lblID.ClientID %>').html('Value'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:41:59.777

```
$('<%="#"+GridViewData.ClientID %>').find('span[id*="Label1"]').text("yourdata"); 
```

& 正如@bipen 所说，您可以使用任何三个函数`text(), html(), or val()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:14:44.663

我会建议你打开 html view-source 并找到它生成的 ID 属性值。它可能类似于

```
<span id="MainContent_GridView1_Label1">abc</span> 
```

然后使用

```
<script type="text/javascript">
    $("[id$='MainContent_GridView1_Lable1']").text('Hello Folk');
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T12:55:29.797

您将需要行索引。

gridview 控件创建标签名称，如：GridViewName_LabelName_RowIndex

如果要为所有标签设置相同的值，则必须使用该类：

```
$(".ClassName").text('Value'); 
```

或将行号提供给选择器：

```
$("[id$='YOURGRIDVIEWNAME_lblID_ROWINDEX']").text('Value'); 
```

# android - 7 英寸平板电脑和手机的实际图像尺寸

> ID：14954156
> 
> 赞同：1
> 
> 时间：2013-02-19T09:34:54.540
> 
> 标签：android, android-image, android-gridview

我有一个带有 4 张图像的网格视图活动。我的应用程序专注于 Android 版本 3 以上以及平板电脑和移动设备。我想知道我想要设计以适合所有屏幕的实际图像尺寸是多少。例如，7 英寸平板电脑的最佳图像尺寸是多少？在开发人员文档中说，基于 dip ，但我需要实际的每个图像尺寸以适合 7 英寸平板电脑的网格视图（4 个图像）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T12:08:28.587

在这种情况下，您必须创建 mainlayout 的不同布局。举个例子。对于 5.1 手机（例如 Galaxy Note），您必须创建新文件夹，将其命名为 layout-large，对于 7.0 到 10.1 平板电脑，您必须在创建这两个文件夹后创建名为 layout-xlarge 的新文件夹，然后将主 xml 粘贴到其中，然后您会看到你的布局将如何看待 5.1 和平板电脑。这是我制作图像的最佳方式，布局适合所有屏幕。希望对你有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-19T09:46:21.793

Dip x 屏幕密度 = 像素（实际图像尺寸）

dp 到 px 公式

```
displayMetrics = context.getResources().getDisplayMetrics();
return (int)((dp * displayMetrics.density) + 0.5); 
```

正如布拉姆回答的那样。

# iphone - iCarousel 从 NSMutableArray 加载 UIViews

> ID：14954158
> 
> 赞同：1
> 
> 时间：2013-02-19T09:34:58.243
> 
> 标签：iphone, ios, objective-c, xcode, icarousel

嗨，我在我的应用程序中包含了 iCarousel 以显示视图列表。我现在面临一个问题。

1.  如果我将可见项目数设置为 3，则显示 3 索引视图的倍数
2.  如果我没有设置显示 icarousel 视图的第一个和最后一个索引。

我对 iCarousel 中重用视图的概念感到非常困惑。

这是我的代码

```
-(void)viewWillAppear:(BOOL)animated
{

ViewArray=[[NSMutableArray alloc]init];
for (int i=0; i<26; i++) {
 [ViewArray addObject:views];
    [carousel1 reloadData];

}
NSLog(@"%@",ViewArray);
}

- (NSUInteger)numberOfItemsInCarousel:(iCarousel *)carousel
{
//return the total number of items in the carousel
return 26;
}

- (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
{
 UIView *sub=nil;
 if (view==nil) {

view=[[UIView alloc]initWithFrame:CGRectMake(0, 0, 900, 387)];

    capitalBG.frame=CGRectMake(28, 29, 221, 329);
    capitalBG.tag=11;
    [view addSubview:capitalBG];

    capitalImage.frame=CGRectMake(28, 29, 221, 329);
           [view addSubview:capitalImage];
    capitalImage.tag=12;
    smallBG.frame=CGRectMake(678, 111, 198, 166);
           [view addSubview:smallBG];
    smallBG.tag=21;
    smallImage.frame=CGRectMake(678, 111, 198, 166);
           [view addSubview:smallImage];
    smallImage.tag=22;

}

else
{

}

capitalBG.frame=CGRectMake(28, 29, 221, 329);
[capitalBG setImage:[UIImage imageNamed:@""]];
[view addSubview:capitalBG];

capitalImage.frame=CGRectMake(28, 29, 221, 329);
[capitalImage setImage:[[[Global ImageCollection]objectForKey:@"CapitalWrite"]objectAtIndex:index]];
[view addSubview:capitalImage];

smallBG.frame=CGRectMake(678, 111, 198, 166);
[smallBG setImage:[UIImage imageNamed:@""]];
[view addSubview:smallBG];

smallImage.frame=CGRectMake(678, 111, 198, 166);
[smallImage setImage:[[[Global ImageCollection]objectForKey:@"SmallWrite"]objectAtIndex:index]];
[view addSubview:smallImage];
 return view;
}

- (CGFloat)carousel:(iCarousel *)carousel valueForOption:(iCarouselOption)option withDefault:(CGFloat)value
{
if (option == iCarouselOptionSpacing)
{
    return value * 1.1f;
}

if (option==iCarouselOptionVisibleItems) {
    return 3;
}
return value;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:11:30.783

我没有清楚地得到你要求的东西。检查 I-carousal 的实现代码以显示图像。

```
 - (NSUInteger)numberOfItemsInCarousel:(iCarousel *)carousel
  {
//add all your images to an array,and use that array for count. 

return [items count];
 }

     - (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index     reusingView:(UIView *)view
  {
    //create new view if no view is available for recycling
if (view == nil)
{
    view = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 215.0f, 155.0f)];
    ((UIImageView *)view).image = [UIImage imageNamed:[self.items objectAtIndex:index ]];

    view.contentMode = UIViewContentModeCenter;
}

return view; 
```

}

```
 - (CGFloat)carousel:(iCarousel *)carousel valueForOption:(iCarouselOption)option          withDefault:(CGFloat)value
   {
//customize carousel display

        return value+0.1;
     } 
```

# php - 将动态数据添加到 html 标签属性和 ajax

> ID：14954159
> 
> 赞同：0
> 
> 时间：2013-02-19T09:35:00.847
> 
> 标签：php, html, ajax

我正在为我的网站使用 PHP 和 Jquery。有时我应该用 jquery 发出 ajax 请求。例如，我有产品列表和删除单个产品的按钮。这意味着我希望产品 ID 用 ajax 删除它。因此，要获取产品 ID，我会将其存储到 html 标签属性中。但我认为“将数据添加到 html 标记属性中是不安全的。你认为有什么好方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:42:21.310

没有理由不能只使用 html 属性标签，例如 id 或 data-id（或您选择的任何数据标签名称）。安全性在于您如何提交和处理 ajax 请求。只要确保你清理了你正在使用的任何类型的数据库的 sql 查询或任何命令，你应该避免任何安全问题。

用户将无法从他们的浏览器进行成功的 ajax 调用，因为 ajax 调用必须来自您的服务器才能成功。换句话说，使用 html 标签属性一点也不安全，而且可能是处理这个问题的好方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:06:14.620

没有任何好感的理由。您可以使用 html`id`属性。在发送 ajax 请求时，它已经使用您的站点 url 进行了加密。还有如何管理您的 ajax 请求。

我建议使用[jquery ajax](http://api.jquery.com/jQuery.ajax/)

这是进行干净的 ajax 调用的最简单方法。在后端，您可以清理您的变量。例子 ：-

```
$firstName = $_POST['fname'];
$new_string = filter_var($firstName,FILTER_SANITIZE_STRING); 
```

希望这能解决您的问题。

# java - Java中同步语句的静态锁对象

> ID：14954168
> 
> 赞同：1
> 
> 时间：2013-02-19T09:35:13.567
> 
> 标签：java, multithreading, synchronization

> 并且请不要陷入认为您可以锁定 A 类的任意实例并且会以某种方式锁定 A 类的另一个实例的陷阱。这是一个经典的初学者错误。

在我理解它之前，我犯了几次错误。但是静态锁对象可以正常工作。

**我的线程**

```
package com.replanet;

public class MyThread extends Thread {

    private int x, y;
    private static Object lock3 = new Object();

    public MyThread(int x, int y) {
        this.x = x;
        this.y = y;
    }

    @Override
    public void run() {
        super.run();
        try {
            test_Method();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

    }

    private void test_Method() throws InterruptedException {
        synchronized (lock3) {
            System.out.println("test_Method " + Thread.currentThread().getName());
            for (int i = 0; i < Integer.MAX_VALUE; i++) {
                if (i == Integer.MAX_VALUE / 2) {
                    Thread.sleep(2000);
                    System.out
                            .println("Leaving test_Method on " + Thread.currentThread().getName());
                    return;
                }
            }
        }
    }

} 
```

**用法**

```
package com.replanet;

public class Main {

    public static void main(String[] args) {

        MyThread myThread1 = new MyThread(1, 2);
        MyThread myThread2 = new MyThread(1, 2);
        myThread1.start();
        myThread2.start();
    }
} 
```

**输出**

```
test_Method Thread-0
Leaving test_Method on Thread-0
test_Method Thread-1
Leaving test_Method on Thread-1 
```

**带有非静态锁定对象的输出（不适合我）**

```
test_Method Thread-0
test_Method Thread-1
Leaving test_Method on Thread-1
Leaving test_Method on Thread-0 
```

`static`使用锁定对象是个好主意吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:40:51.850

您可以锁定`Class`自身 - 这更有意义且更易于阅读：

```
private void test_Method() throws InterruptedException {
        synchronized (MyThread.class) {
            System.out.println("test_Method " + Thread.currentThread().getName());
            for (int i = 0; i < Integer.MAX_VALUE; i++) {
                if (i == Integer.MAX_VALUE / 2) {
                    Thread.sleep(2000);
                    System.out
                            .println("Leaving test_Method in " + Thread.currentThread().getName());
                    return;
                }
            }
        }
    } 
```

或者，如果您不需要将该方法作为实例方法：

```
private static synchronized void test_Method() throws InterruptedException {
            System.out.println("test_Method " + Thread.currentThread().getName());
            for (int i = 0; i < Integer.MAX_VALUE; i++) {
                if (i == Integer.MAX_VALUE / 2) {
                    Thread.sleep(2000);
                    System.out
                            .println("Leaving test_Method in " +  Thread.currentThread().getName());
                    return;
                }
            }
    } 
```

您可能还想阅读 new(ish) [Lock](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/Lock.html)类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:40:13.590

与**静态**相比，让 MyThread 共享一个锁对象会更好。更面向对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:45:05.827

它是静态成员还是实例成员取决于您希望它拥有的范围，但绝对**是**一个好的做法是拥有一个**私有**对象来锁定。这是锁定（显然是公共的）类对象的主要优势。

# php - PHP kerberos 委托

> ID：14954170
> 
> 赞同：2
> 
> 时间：2013-02-19T09:35:17.723
> 
> 标签：php, curl, kerberos

如何使用 php.ini 将 kerberos 身份验证转发到另一台服务器（使用 CURL）。我有`$_SERVER['KRB5CCNAME']`我的请求，我需要使用 curl 将此委托给另一台服务器。

如何才能做到这一点？

代码：

```
$ch = curl_init();

$url = 'http://www.somesite.com/info.php';

@curl_setopt($ch, CURLOPT_HTTPGET, 1);

@curl_setopt($ch, CURLOPT_GSSAPI_DELEGATION, CURLGSSAPI_DELEGATION_FLAG);
@curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_GSSNEGOTIATE);
@curl_setopt($ch, CURLOPT_USERPWD, ":");

@curl_setopt($ch, CURLOPT_URL, $url);
@curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$resultContent = @curl_exec($ch);

$httpCode = @curl_getinfo($ch, CURLINFO_HTTP_CODE);

if(@curl_errno($ch))
{
    $msg = @curl_error($ch);
    curl_close($ch);
    die('Curl error: content: '.$this->resultContent.' code: '.$this->httpCode);
}

curl_close($ch);

die('R: code: '.$httpCode.' content: '. htmlspecialchars($resultContent)); 
```

编辑：

我刚刚发现 php 5.3 没有 CURLOPT_GSSAPI_DELEGATION，它已添加到 5.5.0 alpha 3 中。处理一个问题以查看是否是问题所在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:24:07.447

如[http://curl.haxx.se/libcurl/c/curl_easy_setopt.html](http://curl.haxx.se/libcurl/c/curl_easy_setopt.html) **CURLOPT_GSSAPI_DELEGATION**

> 将参数设置为 CURLGSSAPI_DELEGATION_FLAG 以允许无条件的 GSSAPI 凭证委托。自 7.21.7 起，默认情况下禁用委派。将参数设置为 CURLGSSAPI_DELEGATION_POLICY_FLAG 以仅在服务票证中设置了 OK-AS-DELEGATE 标志时进行委托，以防 GSSAPI 实现支持此功能并且 GSS_C_DELEG_POLICY_FLAG 的定义在编译时可用。

应在 Kerberos 服务票证（领域策略）中设置 OK-AS-DELEGATE 标志。

# android - 存储临时值

> ID：14954176
> 
> 赞同：1
> 
> 时间：2013-02-19T09:35:46.770
> 
> 标签：android, sharedpreferences

我必须存储价值以供临时使用，所以我使用它，但在这种情况下，当`SharedPrefences`用户转到`Setting`-> `Application`->`Application`然后单击`Force stop`然后丢失。那么有什么建议可以解决这个问题吗？`Clear data``SharedPrefences`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:48:48.747

你可以[`android:manageSpaceActivity`](http://developer.android.com/guide/topics/manifest/application-element.html#space)在你的元素中使用`AndroidManifest.xml`指向一个活动。因此，当用户在设置中进入您应用的详细信息页面时，会出现一个按钮`Manage space`而不是`Clear data`. 单击该按钮将启动您指定的活动。然后您可以显示管理数据的用户选项（数据库、首选项……）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:43:55.500

解决此问题的唯一解决方法是使用 Web 服务并将数据存储在服务器上。您可以将设备 IMEI 作为主键以避免重复。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:01:25.720

如上所述，防止用户删除您的应用数据的唯一正确方法是将数据存储在网络上并在需要时下载。您可以同时执行这两项操作，然后在运行时执行检查。如果缺少所需的数据，则将其下载

# dynamics-crm-2011 - 动态 CRM 2011

> ID：14954179
> 
> 赞同：0
> 
> 时间：2013-02-19T09:35:47.933
> 
> 标签：dynamics-crm-2011, dynamics-crm-online

我是 Dynamics CRM 2011 Online 的新手。我正在尝试使用 CrmSvcUtil.exe 生成数据上下文类

这是我的命令：

```
CrmSvcUtil.exe /out:E:\OrgXrm.cs
/url:https://mdtestuser.api.crm5.dynamics.com/XRMServices/2011/Organization.svc
/username:MDTest@MDTestUser.onmicrosoft.com /password:Password 
```

但它给出了一个错误：

> Exiting program with exception: 验证消息的安全性时发生错误。启用跟踪并查看跟踪文件以获取更多信息。CrmSvcUtil.exe 错误：0：由于异常退出程序，退出代码为 2：Sy stem.ServiceModel.FaultException：验证消息的安全性时出错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-18T18:09:12.197

当我在 Microsoft 论坛中遇到可能有帮助的帖子时，我正在研究另一个问题。我记得这个问题，所以我想我会发布另一个答案，因为这个问题有一个积极的解决方案。

引用：

> 我以前处理过这个。验证服务器和客户端计算机上的时间和日期设置（包括时区）是否正确设置。 **似乎如果两台机器不同步超过一两分钟就会导致这个问题**。
> 
> 在我的客户端计算机上，在设置服务器时钟以使其正确连接后，出于某种原因，我还必须重新启动 Visual Studio。

[http://social.microsoft.com/Forums/en-US/0ad9a5ee-dcce-4146-a1e6-20eafdccff46/crmsvcutil-error-an-error-occurred-when-verifying-security-for-the-message?forum= CRM开发](http://social.microsoft.com/Forums/en-US/0ad9a5ee-dcce-4146-a1e6-20eafdccff46/crmsvcutil-error-an-error-occurred-when-verifying-security-for-the-message?forum=crmdevelopment)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-16T16:48:11.617

JIC有人得到同样的错误。

我建立了联系，并且能够从 CRM 在线生成上下文。唯一的区别在于 URL，我有下一个：

[https://architecture2.api.crm.dynamics.com/XRMServices/2011/Organization.svc](https://architecture2.api.crm.dynamics.com/XRMServices/2011/Organization.svc)

你看到这说**crm**不是**crm5**但这取决于你的组织，以获得正确的：打开你的组织，然后**设置**->**自定义**->**开发人员资源**->**组织数据服务**

**我执行CrmSvcUtil.exe**的命令行是：

```
CrmSvcUtil.exe    
/url:"https://architecture2.api.crm.dynamics.com/XRMServices/2011/Organization.svc"
/out:"E:\Context.cs"
/username:MyUser@architecture2.onmicrosoft.com
/password:Password 
```

其他帐户应该具有所需的权限，我的帐户具有*系统管理员*角色。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T12:01:57.467

要完全理解您的错误，您应该使用启用跟踪的配置文件，这是配置文件的示例：

```
<?xml version="1.0"?>
<configuration>
  <appSettings>
    <add key="servicecontextname" value="XrmServiceContext"/>
    <add key="codecustomization" value="Microsoft.Xrm.Client.CodeGeneration.CodeCustomization, Microsoft.Xrm.Client.CodeGeneration"/>
    <add key="username" value="domain\user"/>
    <add key="password" value="password"/>
    <add key="out" value="XrmEntitiesReference.cs" />
  </appSettings>
  <system.diagnostics>
    <trace autoflush="false" indentsize="4">
      <listeners>
        <add name="configConsoleListener" type="System.Diagnostics.ConsoleTraceListener">
          <filter type="System.Diagnostics.EventTypeFilter" initializeData="Error" />
        </add>
      </listeners>
    </trace>
  </system.diagnostics>
</configuration> 
```

从这里查看示例：

[http://www.resultondemand.nl/support/sdk/06abab26-40fc-4b85-9a2a-5e68903ea138.htm](http://www.resultondemand.nl/support/sdk/06abab26-40fc-4b85-9a2a-5e68903ea138.htm)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-12T17:05:51.740

我知道这是一个远射，但是您的密码最近更改了吗？

使用这样的命令字符串，很多人使用 .bat 文件来自动执行该过程。

我不喜欢在 .bat 文件中使用密码，因为：

1.  它们不安全（很明显，我知道）
2.  维护。每次更新密码时，您都必须记住更新每个脚本。或者痛苦地排除每一个故障，最后记住密码是嵌入的。

为了缓解这种情况，我使用带有 /P 参数的 SET 在 .bat 文件执行期间提示输入密码。

不完美，但比硬编码密码要好得多。

这是使用您提供的命令字符串的示例：

rem ----- 开始脚本 -----

**SET /P pwd=密码：**

CrmSvcUtil.exe /out:E:\OrgXrm.cs /url: [https://mdtestuser.api.crm5.dynamics.com/XRMServices/2011/Organization.svc](https://mdtestuser.api.crm5.dynamics.com/XRMServices/2011/Organization.svc) /username:MDTest@MDTestUser.onmicrosoft.com /password: **%密码%**

**CLS**

**设置密码=。**

rem ----- 结束脚本 -----

在此示例中，SET /P 告诉命令处理器设置环境变量并提示输入。
“pwd”是正在设置的环境变量。
“%pwd%”是环境变量的实际使用。
“密码：”是运行.bat文件时将显示的提示字符串。
“CLS”清除屏幕。
“密码=。” 将环境变量设置为“.” 所以密码不会留在环境中。
您可以忽略以“rem”开头的行，因为它们只是备注。

该解决方案的“不完美”部分是您的密码在您键入时可见。但是，通过在提示后立即清除屏幕，它会立即从屏幕上清除。还有其他方法可以防止在您键入时显示密码，但是我认为它们过于复杂或需要下载一些额外的位。使用 .bat 文件的想法是它可以快速轻松地更新，因此维护成本低。

SET /P 在我的情况下运行良好，因为每当我需要刷新我的文件时，没有人会看着我的肩膀，并且一旦写入 .bat 文件就几乎没有维护。

# java - Java - String.split 不会用分号分隔

> ID：14954181
> 
> 赞同：0
> 
> 时间：2013-02-19T09:35:49.367
> 
> 标签：java, android, regex, string

我的代码之前用逗号分隔时运行良好，现在它不适用于分号！

用逗号：

```
public void loadXXXData() {
    InputStream is = getResources().openRawResource(R.raw.xxxdata);

    try
    {

        BufferedReader reader = new BufferedReader(new InputStreamReader(is));

        try { 
            String line; 
            String[] RowData;
            RowData = new String[XXXVARNUM];
            for(int i=0;i<NUMBEROFXXX;i++){
                //Read the line.
                line = reader.readLine();
                //Cut the line up.
                RowData = line.split(",",XXXVARNUM);
                for(int j=0;j<XXXVARNUM;j++){
                    //Distribute the line into a 2D array.
                    XXX[i][j] = RowData[j];
                }
            }
            //Populate forms
            setCurrentXXX(XXX);
        } 
        catch (IOException ex) { 
            Log.v("XXXdex", "I/O Exception: Could not read from the I/O stream.");
        }
        finally { 

            try { 
                //Close the stream
                is.close(); 
            } 
            catch (IOException e) {
                Log.v("XXXdex", "I/O Exception: Could not close the I/O stream.");
            }
            finally {

            }
        } 

    }
    finally {

    }
} 
```

按分号：

```
public void loadItemData() {
    InputStream is = getResources().openRawResource(R.raw.items);

    try
    {

        BufferedReader reader = new BufferedReader(new InputStreamReader(is));

        try { 
            String line; 
            String[] RowData;
            RowData = new String[ITEMVARNUM];
            for(int i=0;i<NUMBEROFITEMS;i++){
                //Read the line.
                line = reader.readLine();
                //Cut the line up.
                RowData = line.split(";",ITEMVARNUM);
                for(int j=0;j<ITEMVARNUM;j++){
                    //Distribute the line into a 2D array.
                    ITEM[i][j] = RowData[j];
                }
            }
            //Populate forms
            setCurrentItem(item);
        } 
        catch (IOException ex) { 
            Log.v("XXXdex", "I/O Exception: Could not read from the I/O stream.");
        }
        finally { 

            try { 
                //Close the stream
                is.close(); 
            } 
            catch (IOException e) {
                Log.v("XXXdex", "I/O Exception: Could not close the I/O stream.");
            }
            finally {

            }
        } 

    }
    finally {

    }
} 
```

来自 xxxData 的样本：

```
 1,dinosaur,Grass,Poison,45,49,49,65,65,45,Supergrow,,DrPhyll,64,0,0,0,1,0,0,45,0.7 m,6.9 kg,Seed 
```

...完美加载。

itemData 的示例：

```
 Antidote;A spray-type medicine. It lifts the effect of poison from one XXX.;Route 3, Pinwheel Forest, Pinwheel Forest, Pinwheel Forest (With Dowsing Machine), Icirrus City Shop Route 9, Accumula Town, Striaton City, Nacrene City, Castelia City, Nimbasa City, Driftveil City, Mistralton City, Icirrus City, Opelucid City, XXX League, Lacunosa Town, Undella Town, Black City, White Forest 
```

...不会正确拆分。那是怎么回事？我搜索了论坛寻找代表“;”的正则表达式，但没有任何效果。我不断收到 arrayIndexOutOfBounds 异常，因为 String.split 没有将我的字符串分成正确数量的字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:47:45.030

您的问题可能是您正在以常量作为上限循环遍历数组：

```
RowData = line.split(";",ITEMVARNUM);
            for(int j=0;j<ITEMVARNUM;j++){
                //Distribute the line into a 2D array.
                ITEM[i][j] = RowData[j];
            } 
```

尝试使用

```
for(int j=0;j<RowData.length;j++){ 
```

反而。

但是要回答您的问题，是的，您可以按照一些评论的建议拆分分号，尝试一下，看看它是否有效。

编辑：而且，我认为您误解了 split 方法的第二个参数的作用。这只是一个上限，它不会使数组具有您指定的空位置，它只会限制结果数组不大于该值。

Edit2：这一行完全是多余的，应该删除，它只会阻塞代码并造成混淆。

```
RowData = new String[ITEMVARNUM]; 
```

Edit3：好的，我看到的基本问题是您使用一些未知变量作为界限。如果您正确跟踪 indata 并相应地更改这些变量，它可能会起作用。但一种更好的方法是对实际的数据进行操作。没有尝试过这段代码，但它应该可以工作（可能有一些小的调整）

```
 BufferedReader reader = new BufferedReader(new InputStreamReader(is));

        try { 
            String line=""; 
            String[] RowData;
            List<String[]> itemList = new ArrayList<String[]>();

            while(line!=null){
                //Read the line.
                line = reader.readLine();
                //Cut the line up.
                RowData = line.split(";");
                itemList.add(RowData);
            }
            String[][] item = new String[itemList.size()][];
            for(int i=0; i<itemList.size(); i++){
                item[i] = itemList.get(i);
            }
            //Populate forms
            setCurrentItem(item); 
```

给它一个漩涡，看看它是否有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:49:56.553

也许有些行包含的列少于预期。尝试捕获异常，并记录额外的数据，例如行的内容、您拥有的部分等。

您也可以尝试调试，在 Eclipse 中设置异常断点。

* * *

你的测试数据有问题。尝试这个：

```
Antidote;A spray-type medicine. It lifts the effect of poison from one XXX.;Route 3; Pinwheel Forest; Pinwheel Forest; Pinwheel Forest (With Dowsing Machine); Icirrus City Shop Route 9; Accumula Town; Striaton City; Nacrene City; Castelia City; Nimbasa City; Driftveil City; Mistralton City; Icirrus City; Opelucid City; XXX League; Lacunosa Town; Undella Town; Black City; White Forest 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T03:56:58.013

想通了...当我从网站复制并粘贴数据时，在“Shop”之前和之后的 .txt 文件中以某种方式存储了行尾字符。我不明白我怎么在记事本中看不到它，但是我用分号替换了每个单词“Shop”，以创建四个单独的字段，瞧。没有更多的混乱。谢谢大家的想法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T10:06:39.363

```
public static void main(String[] args) {
    String str = "Antidote;A spray-type medicine. It lifts the effect of poison from one XXX.;Route 3, Pinwheel Forest, Pinwheel Forest, Pinwheel Forest (With Dowsing Machine), Icirrus City Shop Route 9, Accumula Town, Striaton City, Nacrene City, Castelia City, Nimbasa City, Driftveil City, Mistralton City, Icirrus City, Opelucid City, XXX League, Lacunosa Town, Undella Town, Black City, White Forest";
    String[] s = str.split(";");
    System.out.println(s.length);
    for(String string: s)
        System.out.println(string);
} 
```

当您给出示例输入时，字符串将被拆分为 3 部分，RowData 的大小将为 3。因此，如果 ITEMVARNUM 大于 3，您将收到 arrayIndexOutOfBounds 异常。

```
RowData = line.split(";",ITEMVARNUM);
for(int j=0;j<ITEMVARNUM;j++){
  //Distribute the line into a 2D array.
   ITEM[i][j] = RowData[j];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-19T09:46:40.717

试试这个简单的分割方法，这里我用逗号和空格分割。

```
temp=”10054, 10055, 10056, 10035, 10052, 10036, 10037, 10038″;
String[] url = temp.split(",\\s+"); 
```

这是你得到的结果
url = [ 10054, 10055, 10056, 10035, 10052, 10036, 10037, 10038]

希望你明白

有关更多描述，请参阅此博客[Amalan 的博客](https://stackoverflow.com/questions/8926207/split-method-of-class-string-ignores-semicolon-separators)

我还在另一个问题中发现了这一点，这可能会帮助你 [一个类似的问题](https://stackoverflow.com/questions/8926207/split-method-of-class-string-ignores-semicolon-separators)

# security - J2ME Sms 为 n85 发送权限以抑制安全警告

> ID：14954185
> 
> 赞同：1
> 
> 时间：2013-02-19T09:35:54.833
> 
> 标签：security, java-me, sms, midp, wma

下面的代码有效：

```
import javax.microedition.io.*;
import javax.microedition.lcdui.*;
import javax.microedition.midlet.MIDlet;
import javax.wireless.messaging.*;
/**
 * @author Panda
 */
public class Midlet extends MIDlet implements CommandListener {
      Display display;
      private TextField toWhom;
      private TextField message;
      private Alert alert;
      private Command send,exit;
      MessageConnection clientConn;
      private Form compose;
      TextMessage textmessage;

      public void startApp() {
            display=Display.getDisplay(this);
            compose=new Form("Compose Message");
            toWhom=new TextField("To","",10,TextField.PHONENUMBER);
            message=new TextField("Message","",600,TextField.ANY);
            send=new Command("Send",Command.BACK,0);
            exit=new Command("Exit",Command.SCREEN,5);
            compose.append(toWhom);
            compose.append(message);
            compose.addCommand(send);
            compose.addCommand(exit);
            compose.setCommandListener(this);
            display.setCurrent(compose);
      }
      public void pauseApp() {
      }
      public void destroyApp(boolean unconditional) {
            notifyDestroyed();
      }
      public void commandAction(Command cmd,Displayable disp) {
            if(cmd==exit) {
                  destroyApp(false);
            }
            if(cmd==send) {
                  String mno=toWhom.getString();
                  String msg=message.getString();
                  if(mno.equals("")) {
                        alert = new Alert("Alert");
                        alert.setString("Enter Mobile Number!!!");
                        alert.setTimeout(2000);
                        display.setCurrent(alert);
                  }
                  else {
                        try {
                              clientConn=(MessageConnection)Connector.open("sms://"+mno);
                        }
                        catch(Exception e) {
                              alert = new Alert("Alert");
                              alert.setString("Unable to connect to Station because of network problem");
                              alert.setTimeout(2000);
                              display.setCurrent(alert);
                        }
                        try {
                              textmessage = (TextMessage) clientConn.newMessage(MessageConnection.TEXT_MESSAGE);
                              textmessage.setAddress("sms://"+mno);
                              textmessage.setPayloadText(msg);
                              clientConn.send(textmessage);                              
                        }
                        catch(Exception e)
                        {
                              alert=new Alert("Alert","",null,AlertType.INFO);
                              alert.setTimeout(Alert.FOREVER);
                              alert.setString(e.getMessage());
                              display.setCurrent(alert);
                        }
                  }
            }
      }
} 
```

我可以使用这个 midlet 发送短信，但唯一的问题是我的手机诺基亚 n85 不会让我在没有我在短信发送安全警告上按 OK 的情况下发送信息。我想要实现的是能够通过赋予应用程序更高的权限以编程方式绕过此安全措施？我怎么做？我只是不希望下次按下发送按钮时弹出此安全通知。我试图在 Netbeans 中为 JAD 设置 API 权限并添加了这些：

```
javax.microedition.io.Connector.sms
javax.wireless.messaging.sms.send 
```

但这还不足以绕过它。任何想法任何人？而且我不想使用QT，所以请不要在这里建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T06:11:21.107

摆脱安全弹出窗口的唯一官方方法是使用来自 Thawte 或 Verisign 的证书对您的 midlet 进行签名。这样的证书每年将花费您 299 美元。当然，任何独立开发者都无法支付这么多钱，尤其是当他的应用主要是为自己开发的时候。

因此，人们发明了非官方的方法来摆脱它们。

对于索尼爱立信的功能手机，您可以在个别手机上应用补丁以删除所有安全弹出窗口。我已经做过几次了，太棒了！最后，我可以创建有用的应用程序，因为没有什么能阻止它们运行。

缺点是它显然不会帮助您的所有客户。如果您有一堆客户，您将无法逃脱签名部分。

但是，如果您主要为自己编写小型应用程序，那么打补丁可以非常缓解压力。:-)

我不知道如何修补其他品牌的手机。因此，我最近在 stackoverflow.com 上问了这个问题。但我的问题已经结束。显然管理员认为这无关紧要。我试图解释为什么我认为它与“开发人员使用的工具”相关，但随后他们删除了该帖子。

# extjs - Extjs 将 idproperty 添加到商店中定义的字段

> ID：14954187
> 
> 赞同：5
> 
> 时间：2013-02-19T09:35:55.590
> 
> 标签：extjs

我直接在商店配置中设置我的字段。

```
Ext.define('T.store.Users', {
    extend: 'Ext.data.Store',

    autoLoad: false,

    fields: [
        { name: 'Id', type: 'int' },
        { name: 'Name', type: 'string' }
    ]
}); 
```

是否可以直接在商店中以某种方式为这些字段设置 idProperty ？我看到的唯一选择是创建一个包含 idProperty 的单独模型类。但我想避免这种情况。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-19T09:56:16.827

默认的 id 属性是`id`. 您可以在模型或代理的阅读器上更改它。

***注意：**商店可以使用模型的代理（本例未做）。*

示例（两者都有）

```
// Set up a model to use in our Store
 Ext.define('User', {
     extend: 'Ext.data.Model',
     idProperty: 'Id',
     fields: [
         {name: 'firstName', type: 'string'},
         {name: 'lastName',  type: 'string'},
         {name: 'age',       type: 'int'},
         {name: 'eyeColor',  type: 'string'}
     ]
 });

 var myStore = Ext.create('Ext.data.Store', {
     model: 'User',
     proxy: {
         type: 'ajax',
         url: '/users.json',
         reader: {
             type: 'json',
             root: 'users',
             idProperty: 'Id'
         }
     },
     autoLoad: true
 }); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T10:03:46.593

理论上，您可以通过`idProperty`这种方式在构造函数中更改 from：

```
Ext.define('T.store.Users', {
    extend: 'Ext.data.Store',

    autoLoad: false,

    constructor: function(){
        this.callParent(arguments);
        this.model.prototype.idProperty = 'Id';
    },

    fields: [
        { name: 'Id', type: 'int' },
        { name: 'Name', type: 'string' }
    ]
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-09-14T00:38:52.393

对于 ExtJS 6

```
Ext.define(null, {
    override: 'Ext.data.ProxyStore',

    /**
     * @cfg {String} idProperty
     */
    // idProperty: null,

    privates: {
        createImplicitModel: function(fields) {
            var me = this,
                modelCfg = {
                    extend: me.implicitModel,
                    statics: {
                        defaultProxy: 'memory'
                    }
                },
                proxy, model;
            if (fields) {
                modelCfg.fields = fields;
            }
            // add
            if(me.idProperty) {
                modelCfg.idProperty = me.idProperty;
            }

            model = Ext.define(null, modelCfg);
            me.setModel(model);
            proxy = me.getProxy();
            if (proxy) {
                model.setProxy(proxy);
            } else {
                me.setProxy(model.getProxy());
            }
        }
    }
}); 
```

例子

```
Ext.define('T.store.Users', {
    extend: 'Ext.data.Store',

    autoLoad: false,
    idProperty: 'Id',

    fields: [
        { name: 'Id', type: 'int' },
        { name: 'Name', type: 'string' }
    ]
}); 
```

测试

```
var store = Ext.create('T.store.Users');
console.log(store.model.idProperty); // "Id"
console.log(store.model.idField); // constructor {name: "Id", type: "int"..}
store.add({Id: '11', Name: 'XXX'}) 
```

# playframework - 使用 url 片段播放框架 1.x 渲染

> ID：14954188
> 
> 赞同：0
> 
> 时间：2013-02-19T09:35:56.830
> 
> 标签：playframework

是否可以呈现视图并将片段附加到 url？

我想到了类似的东西：

```
http://controller/action#tab1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T04:50:58.530

您可以为此使用 javascript：

window.location.href=@{action}/tab1

# asp.net - 如何从登录页面获取受保护的页面节点 ID？

> ID：14954192
> 
> 赞同：0
> 
> 时间：2013-02-19T09:35:59.047
> 
> 标签：asp.net, umbraco

我的 umbraco 中有一些基于角色的受保护页面。这是其中一个页面的示例 URL

```
http://aksphases:201/xmas-shop/phases-shop.aspx 
```

当有人在浏览器中输入此内容时，这将进入登录页面而不更改 URL，当他输入正确的登录凭据时，他将看到正确的页面内容而 URL 没有任何更改（是的，这就是 umbraco 的工作方式）。现在我需要的是当他在登录页面时，我想获取受保护页面的节点 ID。当我尝试

```
 @CurrentModel.Id 
```

它显示登录页面的节点 ID。因为 URL 是受保护页面的，所以我确信我可以从这里获得受保护页面的 ID。任何人都可以给我任何线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T17:45:57.923

[uQuery](http://our.umbraco.org/documentation/master/Reference/Querying/uQuery/)有一种[`GetNodeByUrl`](http://our.umbraco.org/documentation/master/Reference/Querying/uQuery/Content/Nodes#GetNodeByUrl%28string%29)方法可以帮助您。从 Umbraco v4.8 开始，uQuery 内置于 Umbraco。

使用剃刀，你应该能够做这样的事情：

```
@{
    string url = HttpContext.Current.Request.Url.AbsolutePath;
    var node = Library.NodeById(umbraco.uQuery.GetNodeByUrl(url).Id);

    @node.Name
} 
```

# caching - Redis mget 与 get

> ID：14954193
> 
> 赞同：4
> 
> 时间：2013-02-19T09:36:07.210
> 
> 标签：caching, redis

**设置**：我们有一个 redis 设置，其中我们有一个主服务器和 4 个从服务器运行在同一台机器上。使用多个实例的原因是 -

*   避免热键
*   内存不是限制，因为键的数量很小~10k（我们有一台超大的 EC2 机器）

**请求**：每个客户端请求我们大约从 redis 发出 60 个获取请求。我们将 60 件商品合并为 4 件商品。我们为所有请求建立一个单一的连接（到随机挑选的一个奴隶）。

**问题**

*   在从属服务器中使用复制数据运行多个 redis 实例是否有意义？
*   在我们的案例中使用 mgets 而不是 get 是否有助于我们在同一台机器上拥有所有实例？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T16:52:20.887

*   在同一台机器上运行多个 redis 实例很有用。Redis 是单线程的，所以如果你的机器有多个核心，你可以通过使用多个实例来获得更多的 CPU 能力。Craigslist 在此配置中运行，如下所述：http: [//blog.zawodny.com/2011/02/26/redis-sharding-at-craigslist/](http://blog.zawodny.com/2011/02/26/redis-sharding-at-craigslist/)。

*   mget 与 get 应该会有所帮助，因为您只需要对 redis 服务器进行 4 次往返而不是 60 次，从而提高吞吐量 - 在同一台机器上运行多个实例不应该改变这一点。

# wcf - 使用相同的 UriTemplate 属性进行 POST 和 GET 操作 WCF REST C#

> ID：14954194
> 
> 赞同：0
> 
> 时间：2013-02-19T09:36:09.873
> 
> 标签：wcf, rest, post, .net-3.5, get

我收到“不允许的方法”。调用 GET 操作时来自我的 WCF 服务的错​​误。我知道为什么会这样，但不明白为什么不允许这样做。我想我可能做错了什么。我正在尝试对 GET 和 POST 使用相同的 UriTemplate（属性）结构。我遵循标准的 REST 服务约定：

```
GET - /api/v1/{entityType} - to get a list of {entityType} e.g. /api/v1/cars
POST - /api/v1/{entityType} - to insert an entity e.g /api/v1/car 
```

```
[OperationContract]
[WebGet(BodyStyle = WebMessageBodyStyle.Bare, 
        ResponseFormat = WebMessageFormat.Json, 
        UriTemplate = "api/v1/{entityType}?skip={skip}&take={take}")]
List<Entity> GetEntityList(string entityType, int skip, int take);

[OperationContract]
[WebInvoke(Method = "POST", 
            BodyStyle = WebMessageBodyStyle.Bare, 
            ResponseFormat = WebMessageFormat.Json, 
            RequestFormat = WebMessageFormat.Json, 
            UriTemplate = "api/v1/{entityType}")]
Entity InsertEntity(string entityType, Entity entity); 
```

我知道我的 UriTemplates 是相同的，但为什么不允许这样做？服务器没有检测到我要执行的操作吗？

# android - 带有 Jsp 的 Android

> ID：14954208
> 
> 赞同：0
> 
> 时间：2013-02-19T09:36:52.233
> 
> 标签：android, jsp

我尝试将android应用程序连接到Jsp页面。它需要我的服务器的IP地址。目前我热核心IP地址，但现在我想动态地这样做，因为我在我的android代码中做了什么？请帮助我。

```
 URL url = new URL("http://xxx.xx.xx.xx:8080/Iplogin.jsp?ip="+et.getText().toString()); 
```

而不是 xxx.xx.xx.xx:8080 我需要从设置文件中让步。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:47:57.470

最简单的方法是将您的 IP 地址放在字符串 xml 文件中，然后使用 getString(id) 检索它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:09:02.977

我会用`SharedPreferences`. 获取偏好值很容易，也很容易进行偏好活动。

您的代码如下所示：

```
SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(context);
String host = prefs.getString("KEY_PREF_IPADR", "127.0.0.1");
int port = prefs.getInt("KEY_PREF_PORT", 8080);
URL url = new URL("http://"+host+":"+port+"/Iplogin.jsp?ip="+et.getText().toString()); 
```

# c# - 创建 CollectionViewSource

> ID：14954214
> 
> 赞同：1
> 
> 时间：2013-02-19T09:37:09.440
> 
> 标签：c#, mvvm, winrt-xaml

大家好，我是 XAML MVVM 概念的新手，我知道需要我很少有 CollectionViewSource 的概念我有一个带有 GridView 的 WinRT 应用程序我想按专业对每个项目进行分组我创建了一个 ModelView 如何翻译为 collectionView 源我在 Google 中搜索但这里没有解决方案有几部分代码：

```
 <Page.Resources>
            <DataTemplate x:Key="MyDataTemplate">
                <Border  >

                    <Grid Background="DodgerBlue" Height="150" Width="200" Margin="0,-7,-7,0" RenderTransformOrigin="0.5,0.5" UseLayoutRounding="False">
                        <StackPanel VerticalAlignment="Bottom">
                            <StackPanel.Background>
                                <SolidColorBrush Color="Black" Opacity=".25"/>
                            </StackPanel.Background>
                            <TextBlock Text="{Binding Name}"/>
                            <TextBlock Text="{Binding Profession}"/>
                            <TextBlock Text="{Binding Age}"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </DataTemplate>
            <ItemsPanelTemplate x:Key="ItemsPanelTemplate1">
                <VariableSizedWrapGrid x:Name="gridviewVariableSized" MaximumRowsOrColumns="4" Orientation="Vertical" />
            </ItemsPanelTemplate>

        </Page.Resources>
 <Page.DataContext>
        <ModelView:PeopleCollection/>
    </Page.DataContext> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:52:20.700

要获取 CollectionViewSource，请在您的 ViewModel 调用中

```
var groupable = CollectionViewSource.GetDefaultView(this.PeopleCollection); 
```

（假设 Peoplecollection 是 ObservableCollection 或类似的东西。一旦你有了这个，你可以使用分组

```
groupable.GroupDescriptions.Add(new PropertyGroupDescription("Country")); 
```

# perl - 如何在 Mojolicious 中做到这一点？=> 用户名、密码、加盐、加密、哈希 - 这一切是如何工作的

> ID：14954215
> 
> 赞同：1
> 
> 时间：2013-02-19T09:37:11.537
> 
> 标签：perl, mojolicious

我正在使用 Mojolicious Web 框架来构建一个小型站点。我的目标是强大的安全性。第一步是保护登录信息，主要是用户名和密码。我想实现这篇文章[用户名、密码、加盐、加密、哈希的提问者给出的逻辑 - 它是如何工作的？](https://stackoverflow.com/questions/14432733/username-password-salting-encrypting-hash-how-does-it-all-work). 用户名和密码在通过互联网发送到 Mojolicious 网络服务器之前，必须至少在用户的浏览器中进行加盐和散列处理。我认为最好的方法是使用嵌入式 perl 来操作表单值，然后重新分配它们，这样当按下“提交”按钮时，只有加盐和散列的用户名，在控制器内部接收密码：mojolicious 中的逻辑就像（复制来自 Mojolicious 网站。MyUsers.pm 处理服务器上的登录验证，我将对其进行调整以处理加盐和散列字符串。）

```
#!/usr/bin/env perl

use Mojolicious::Lite;
use lib 'lib';
use MyUsers;

# Helper to lazy initialize and store our model object
helper users => sub { state $users = MyUsers->new };

# /?user=sri&pass=secr3t
any '/' => sub {
my $self = shift;
$self->render('login');
};

any '/' => sub {
 my $self = shift;
 $self->render('login');
 };

any 'check_login' => sub {
my $self = shift;
# Query parameters
my $user = $self->param('user') || '';
my $pass = $self->param('pass') || '';

# Check password
return $self->render(text => "Welcome $user.")
 if $self->users->check($user, $pass);

# Failed
$self->render(text => 'Wrong username or password.');
 }; 

app->start;

__DATA__
@@ login.html.ep
% title 'Login Page.';
<form name="input" action="check_login" method="post">
User: <input type="text" name="user"><div>
Pass: <input type="password" name="pass"><div>

<!-- DO SOMETHING HERE to salt and hash $user and $pass before post -->

<input type="submit" value="Submit">
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:12:48.107

终于在这个优秀的文章[链接](http://blog.rednael.com/CommentView,guid,de3bf162-a075-47ee-b53f-c306e225d11c.aspx)中得到了解决方案。但是请注意，有许多 javascript md5 库。我错误地下载了与文章中提到的不同的 md5 库。我浪费了很多时间来弄清楚哈希函数不起作用，因为我有一个不同的 md5 库。[该文章使用来自此链接](http://pajhome.org.uk/crypt/md5/)的 md5 lib

# jquery - 后退按钮样式 jQuery Mobile

> ID：14954218
> 
> 赞同：1
> 
> 时间：2013-02-19T09:37:18.343
> 
> 标签：jquery, jquery-mobile

我的后退按钮样式有问题。

我包含了来自 jquery mobile 的标准 css，并在我的身边包含了 iPhone 样式。

```
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<link rel="stylesheet" href="style.css" />  //from http://taitems.tumblr.com/post/7240874402/ios-inspired-jquery-mobile-theme-jquery-mobile 
```

我创建一个标题：

```
 <div data-role="header">
      <h1>Meine Dokumente</h1>
      <a data-role="button" data-direction="reverse" data-rel="back" data-icon="arrow-l" data-iconpos="left">Back
      </a>
 </div> 
```

但是后退按钮的样式如下，而不是典型的 iPhone 样式。

![在此处输入图像描述](../Images/f972f30d5f4389a54bd482ab556ee42b.png)

# opencv - 如何检查获得的单应矩阵是否良好？

> ID：14954220
> 
> 赞同：27
> 
> 时间：2013-02-19T09:37:27.510
> 
> 标签：opencv, image-processing, computer-vision, homography, ransac

这个问题已经被[问过](https://stackoverflow.com/questions/11053099/how-can-you-tell-if-a-homography-matrix-is-acceptable-or-not)了，但我还是不明白。我通过调用`cv::findHomography`一组点来获得一个单应矩阵。我需要检查它是否相关。
所提出的方法是计算内点的最大重投影误差并将其与阈值进行比较。但是经过这样的过滤后，我不断得到疯狂的变换，对象边界框几乎变成一条直线或一些奇怪的非凸四边形，带有自相交等。
可以使用哪些约束来检查单应矩阵本身是否足够？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-19T19:02:40.347

你的问题是数学问题。给定一个 3x3 的矩阵，决定它是否代表一个好的刚性变换。很难定义什么是“好”，但这里有一些线索可以帮助你

1.  单应性应保持多边形点的方向。设计一个简单的测试。点 (0,0), (imwidth,0), (width,height), (0,height) 表示具有顺时针排列点的四边形。在这些点上应用单应性，看看它们是否仍然是顺时针排列的，如果它们变成逆时针方向，你的单应性正在翻转（镜像）有时仍然可以的图像。但是，如果你的点是乱序的，那么你就有一个“糟糕的单应性”
2.  单应性不会过多地改变对象的比例。例如，如果您希望它将图像缩小或放大 X 倍，只需检查此规则。用单应性变换4个点（0,0），（imwidth，0），（width-1，height），（0，height）并计算四边形的面积（opencv计算多边形面积的方法）如果比率面积太大（或太小），您可能有错误。
3.  良好的单应性通常使用较低的透视值。通常，如果图像的大小为 ~1000x1000 像素，则这些值应为 ~0.005-0.001。高透视会导致巨大的失真，这可能是一个错误。如果您不知道这些值的位置，请阅读我的帖子： [尝试理解仿射变换](https://stackoverflow.com/questions/10667834/trying-to-understand-the-affine-transform/) 。它解释了仿射变换数学，其他 2 个值是透视参数。

我认为如果您检查上述 3 个条件（条件 2 是最重要的），您将能够检测到大部分问题。祝你好运

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-24T12:27:30.547

编辑：这个答案与问题无关，但讨论可能对像我一样尝试使用匹配结果进行识别的人有所帮助！

这可能会帮助某人：

```
Point2f[] objCorners = { new Point2f(0, 0),
    new Point2f(img1.Cols, 0),
    new Point2f(img1.Cols, img1.Rows),
    new Point2f(0, img1.Rows) };

Point2d[] sceneCorners = MyPerspectiveTransform3(objCorners, homography);
double marginH = img2.Width * 0.1d;
double marginV = img2.Height * 0.1d;
bool homographyOK = isInside(-marginH, -marginV, img2.Width + marginH, img2.Height + marginV, sceneCorners);
if (homographyOK)
    for (int i = 1; i < sceneCorners.Length; i++)
        if (sceneCorners[i - 1].DistanceTo(sceneCorners[i]) < 1)
        {
            homographyOK = false;
            break;
        }
if (homographyOK)
    homographyOK = isConvex(sceneCorners);
if (homographyOK)
    homographyOK = minAngleCheck(sceneCorners, 20d);

     private static bool isInside(dynamic minX, dynamic minY, dynamic maxX, dynamic maxY, dynamic coors)
        {
            foreach (var c in coors)
                if ((c.X < minX) || (c.Y < minY) || (c.X > maxX) || (c.Y > maxY))
                    return false;
            return true;
        }      
        private static bool isLeft(dynamic a, dynamic b, dynamic c)
        {
            return ((b.X - a.X) * (c.Y - a.Y) - (b.Y - a.Y) * (c.X - a.X)) > 0;
        }
        private static bool isConvex<T>(IEnumerable<T> points)
        {
            var lst = points.ToList();
            if (lst.Count > 2)
            {
                bool left = isLeft(lst[0], lst[1], lst[2]);
                lst.Add(lst.First());
                for (int i = 3; i < lst.Count; i++)
                    if (isLeft(lst[i - 2], lst[i - 1], lst[i]) != left)
                        return false;
                return true;
            }
            else
                return false;
        }
        private static bool minAngleCheck<T>(IEnumerable<T> points, double angle_InDegrees)
        {
            //20d * Math.PI / 180d
            var lst = points.ToList();
            if (lst.Count > 2)
            {                
                lst.Add(lst.First());
                for (int i = 2; i < lst.Count; i++)
                {
                    double a1 = angleInDegrees(lst[i - 2], lst[i-1]);
                    double a2 = angleInDegrees(lst[i], lst[i - 1]);
                    double d = Math.Abs(a1 - a2) % 180d;

                    if ((d < angle_InDegrees) || ((180d - d) < angle_InDegrees))
                        return false;
                }
                return true;
            }
            else
                return false;
        }
        private static double angleInDegrees(dynamic v1, dynamic v2)
        {
            return (radianToDegree(Math.Atan2(v1.Y - v2.Y, v1.X - v2.X))) % 360d;
        }
        private static double radianToDegree(double radian)
        {
            var degree = radian * (180d / Math.PI);
            if (degree < 0d)
                degree = 360d + degree;

            return degree;
        }
        static Point2d[] MyPerspectiveTransform3(Point2f[] yourData, Mat transformationMatrix)
        {
            Point2f[] ret = Cv2.PerspectiveTransform(yourData, transformationMatrix);
            return ret.Select(point2fToPoint2d).ToArray();
        } 
```

[![在此处输入图像描述](../Images/3d4f61e1f022571cce808e2ddb5b038b.png)](https://i.stack.imgur.com/31Ydq.jpg)

# java - jersey/jaxb 解组 java 对象，但未填充字段

> ID：14954229
> 
> 赞同：0
> 
> 时间：2013-02-19T09:37:45.407
> 
> 标签：java, json, jaxb, jersey

我有一个 Jersey 服务器端代码，它将 Java 对象作为主体参数。这个Java对象可以说`Preferences`定义如下。

```
 @XmlRootElement(name = "preferences", namespace = "http://arjun.test.com/tests/1.0")
 public class Preferences {

    String field1;
    String field2;

    public Preferences() {
    }

    @XmlElement(name = "field-1", namespace = "http://arjun.test.com/tests/1.0")
    public String getField1() {
        return field1;
    }

    public void setField1(String field1) {
       this.field1 = field1;
    }

    @XmlElement
    public String getField2() {
        return field2;
    }

    public void setField2(String field2) {
        this.field2 = field2;
    }
} 
```

我的问题是：从客户端发送数据时，我填充了两个字段，但不知何故，在服务器中，第一个字段值始终为空，如果我将 field1 XML 注释更改为与 field2 相同，那么它工作正常。

有人可以让我知道我在做什么错误。

Jersey 服务器方法正在生成和使用 JSON 对象。

# xml - 为什么 XML::LibXML::Document 的 toString() 给我“SCALAR(...)”而不是 XML 字符串？

> ID：14954242
> 
> 赞同：0
> 
> 时间：2013-02-19T09:38:16.677
> 
> 标签：xml, perl, xml-libxml

这是一个重现我想知道的行为的代码示例：

```
#!/usr/bin/perl
use strict;
use warnings;

use XML::LibXML;

my $myXMLdocument = XML::LibXML::Document->new();

my $myXML = $myXMLdocument->createElement("myXML");
$myXMLdocument->addChild($myXML);

my $element = $myXMLdocument->createElement("element");
$myXML->addChild($element);

my $node = $myXMLdocument->createElement("node");
$element->addNewChild('', $node);
$node->addNewChild('', $myXMLdocument->createAttribute( "key" => "value"));

print "$myXMLdocument->toString(2)\n"; 
```

输出 ：

```
XML::LibXML::Document=SCALAR(0x8f5a6f8)->toString(2) 
```

我知道这是对传递的文档结构的某种句柄[`XML::LibXML`](https://metacpan.org/module/XML%3a%3aLibXML)。

现在为什么不`toString`将其序列化为人类可读的 XML？

我可能非常天真`XML::LibXML`；这是我第一次使用它，而不是使用 Bash 的回声随机生成 XML。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:30:18.767

这是一个基本的 Perl 问题，与`XML::LibXML`. Perl 在带引号的字符串中扩展简单变量，但不扩展函数调用。如果您将代码更改为

```
print $myXMLdocument->toString(2), "\n"; 
```

然后你会得到你需要的结果。

* * *

**更新**

您使用该模块略有错误。这些线

```
my $node = $myXMLdocument->createElement("node");
$element->addNewChild('', $node);
$node->addNewChild('', $myXMLdocument->createAttribute( "key" => "value")); 
```

创建一个新元素`$node`，然后调用`addNewChild`将其添加到`$element`. 但是`addNewChild`将标签名称作为其第二个参数，因此 Perl 将`$node`对象字符串化以给出您所看到的奇怪标签名称。相反，你需要

```
my $node = $myXMLdocument->createElement('node');
$element->addChild($node);
$node->addChild($myXMLdocument->createAttribute(key => 'value')); 
```

或者你可以坚持`addNewChild`写

```
my $node = $element->addNewChild('', 'node');
$node->setAttribute(key => 'value'); 
```

* * *

**更新**

您可能想考虑哪个是我*编写*XML[`XML::API`](https://metacpan.org/module/XML%3a%3aAPI)的首选模块。它允许简洁的代码，并且因为它构建了一个适当的 XML 数据树而不是仅仅将文本附加到缓冲区，所以它比看起来要微妙得多。对于更复杂的结构，有一种方法可以让您返回树中的节点并添加更多数据。*`_goto`*

 *```
use strict;
use warnings;

use XML::API;

my $xml = XML::API->new;
$xml->myXML_open;
$xml->element_open;
$xml->node({ key => 'value' });
$xml->element_close;
$xml->myXML_close;

print $xml; 
```

**输出**

```
<?xml version="1.0" encoding="UTF-8" ?>
<myXML>
  <element>
    <node key="value" />
  </element>
</myXML> 
```*

# azure - 使用本地模拟 blob 存储的 Azure 驱动器寻址

> ID：14954245
> 
> 赞同：0
> 
> 时间：2013-02-19T09:38:20.730
> 
> 标签：azure

我无法使用运行存储/计算模拟器的本地托管服务获得适用于 Azure Drive 的简单技术演示。这不是我的第一个 azure 项目，只是我第一次使用 Azure Drive 功能。

编码：

```
var localCache = RoleEnvironment.GetLocalResource("MyAzureDriveCache"); 
CloudDrive.InitializeCache(localCache.RootPath, localCache.MaximumSizeInMegabytes);
var creds = new StorageCredentialsAccountAndKey("devstoreaccount1", "Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==");
drive = new CloudDrive(new Uri("http://127.0.0.1:10000/devstoreaccount1/drive"), creds);
drive.CreateIfNotExist(16);
drive.Mount(0, DriveMountOptions.None); 
```

使用本地资源配置：

```
LocalStorage name="MyAzureDriveCache" cleanOnRoleRecycle="false" sizeInMB="220000" 
```

例外：

```
Uri http://127.0.0.1:10000/devstoreaccount1/drive is Invalid 
```

可以在此处找到有关如何解决本地存储的信息：[https ://azure.microsoft.com/en-us/documentation/articles/storage-use-emulator/](https://azure.microsoft.com/en-us/documentation/articles/storage-use-emulator/)

我已经使用存储模拟器 UI 创建了 C:\Users...\AppData\Local\dftmp\wadd\devstoreaccount1 文件夹，我希望在这种情况下充当容器。

但是，我遵循这些准则（据我所知），但我仍然收到例外。在这种情况下，有没有人能够确定我做错了什么？我曾希望能够使用一个工作示例轻松解决此问题，其中其他人使用 CloudDrive 和 127.0.0.1 或 localhost 但无法在 Google 上找到此类。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T21:47:06.647

我认为您在安装之前已经通过了几个必需的步骤。

在挂载之前，您必须初始化驱动器的本地缓存以及包含云驱动器的页面 blob 的 URI。

**初始化缓存：**

```
// Initialize the local cache for the Azure drive
LocalResource cache = RoleEnvironment.GetLocalResource("LocalDriveCache");
CloudDrive.InitializeCache(cache.RootPath + "cache", cache.MaximumSizeInMegabytes); 
```

**定义页面 blob 的 URI，通常在配置文件中进行：**

```
// Retrieve URI for the page blob that contains the cloud drive from configuration settings
string imageStoreBlobUri = RoleEnvironment.GetConfigurationSettingValue("< Configuration name>"); 
```

# c# - 如何使用 FromBase64String 创建长度为 16 的字节 []

> ID：14954248
> 
> 赞同：3
> 
> 时间：2013-02-19T09:38:28.883
> 
> 标签：c#, .net, encryption, cryptography, base64

我需要创建一个`byte[]`长度为 16 的字节数组。（在 AES 加密中用作密钥的 128 位字节数组）。

以下是一个有效的字符串

```
"AAECAwQFBgcICQoLDA0ODw==" 
```

确定字符串是否为 128 位的算法是什么？还是反复试验是创建这种 128 位字符串的唯一方法？

**代码**

```
 static void Main(string[] args)
    {
        string firstString = "AAECAwQFBgcICQoLDA0ODw=="; //String Length = 24
        string secondString = "ABCDEFGHIJKLMNOPQRSTUVWX"; //String Length = 24
        int test = secondString.Length;

        byte[] firstByteArray = Convert.FromBase64String((firstString));
        byte[] secondByteArray = Convert.FromBase64String((secondString));

        int firstLength = firstByteArray.Length;
        int secondLength = secondByteArray.Length;

        Console.WriteLine("First Length: " + firstLength.ToString());
        Console.WriteLine("Second Length: " + secondLength.ToString());

        Console.ReadLine();
    } 
```

**调查结果**：

对于 256 位，我们需要 256/6 = 42.66 个字符。这是四舍五入到 43 个字符。[使它可以被 4 整除`=`]

对于 512 位，我们需要 512/6 = 85.33 个字符。这是四舍五入到 86 个字符。[使它可以被 4 整除`==`]

对于 128 位，我们需要 128/6 = 21.33 个字符。这是四舍五入到 22 个字符。[使它可以被 4 整除`==`]

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T09:43:24.143

16 个字节的 base64 字符串将始终为 24 个字符，并`==`在结尾处作为填充。

（至少当它可以使用 .NET 方法解码时。填充并不总是包含在 base64 字符串的所有使用中，但 .NET 实现需要它。）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T09:47:44.887

在 Base64 编码中，'=' 是一个特殊符号，添加到 Base64 字符串的末尾，表示这些字符在原始值中没有数据。

每个 char 等于 6 个原始数据位，因此要生成 8 位值，字符串长度必须可被 4 整除而没有余数。（6 位 * 4 = 8 位 * 3）。当生成的 BASE64 字符串短于 4n 时，在末尾添加 '=' 以使其有效。

**更新**

'==' 之前的最后一个字符仅编码 2 位信息，因此通过将其替换为所有可能的 Base64 字符将只为您提供 64 种可能组合中的 4 个不同键。换句话说，通过生成格式为 "bbbbbbbbbbbbbbbbbbbbbb==" 的字符串（其中 'b' 是有效的 Base64 字符），每个唯一键将获得 15 个重复键。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:41:02.807

您可以使用 PadRight() 使用 char 将字符串填充到其末尾，稍后您将在解密后将其删除。

# java - Primefaces 3.5 selectCheckBoxMenu调用事件onShow

> ID：14954253
> 
> 赞同：1
> 
> 时间：2013-02-19T09:38:34.177
> 
> 标签：java, jsf, jsf-2, primefaces

我有一个包含多个条件的页面，当我尝试打开 selectCheckBoxMenu 时，我希望从服务器调用该方法，但我得到了一些奇怪的东西。包含我的项目的列表不显示并且一直在抽搐。

```
<p:selectCheckboxMenu id="scroll"
                                              value="#{adminManageTournamentController.teamListSelected}"
                                              label="#{msg.teams}" filter="true" filterText="Filter"
                                              filterMatchMode="startsWith" panelStyle="width:auto"
                                             onShow="sourceFilterCommand();">
                            <f:selectItems value="#{adminManageTournamentController.teamList}"
                                           var="team" itemLabel="#{team.name}"
                                           itemValue="#{team.id}"/>
                            <p:column>
                                #{team.name}
                            </p:column>
                            <p:remoteCommand name="sourceFilterCommand" update="scroll"
                                             actionListener="#{adminManageTournamentController.selectTeamsByConditions}"/>
                        </p:selectCheckboxMenu> 
```

我是否选择了正确的决策方式？如何摆脱抽搐列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:53:08.673

这些抽搐的原因可能是无限循环。当你`p:selectCheckboxMenu`显示远程命令被调用，并被`p:selectCheckboxMenu`更新并再次显示并再次调用远程命令......这永远不会结束。奇怪的是，您正在更新`onShow`. 您可能应该在更新条件发生更改时执行此操作，这不是您应该更新组件的地方。例如，如果这`p:selectCheckboxMenu`取决于更改`p:selectOneMenu`值时的某些更新。`p:selectOneMenu`

# ms-access - 访问验证规则的最大长度？

> ID：14954259
> 
> 赞同：1
> 
> 时间：2013-02-19T09:38:50.853
> 
> 标签：ms-access

我正在尝试在访问中创建验证规则。我想将输入的字符组合限制为现有的 ISO 2 位国家代码：

“AF”或“AX”或“AL”或“DZ”或“AS”或“AD”或“AO”或“AI”或“AQ”或“AG”或“AR”或“AM”或“AW” ”或“AU”或“AT”或“AZ”或“BS”或“BH”或“BD”或“BB”或“BY”或“BE”或“BZ”或“BJ”或“BM”或“BT”或“BO”或“BQ”

它工作正常，直到我达到字符号 798，而不是超过它，它失败并显示错误消息：

> 验证规则中的错误：检查中的错误...（某事，我使用的是非英语办公室（2007），所以我无法真正翻译它。）

任何的想法？我认为是因为长度，但它应该容纳 2000 个字符。我在验证规则中找不到关于最大表达式数的任何信息。

我将不胜感激任何解决方案。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:34:07.357

我建议您使用可接受代码表，建立关系并强制参照完整性。这种类型的语句不是验证的用途。然后，您可以在表单的组合框中使用表格，让用户轻松选择代码。

请参阅[http://office.microsoft.com/en-ie/access-help/create-edit-or-delete-a-relationship-HA010072597.aspx](http://office.microsoft.com/en-ie/access-help/create-edit-or-delete-a-relationship-HA010072597.aspx)

这在 Access 2010 中作为验证规则进行了测试，但太可怕了！

> IN("AX","AF","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM", "AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM ","BT","BO","BA","BW","BV","BR","IO","BN","BG","BF","BI","KH", "CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CD ","CG","CK","CR","CI","HR","CU","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FK ","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH", "GI","GR","GL","GD","GP","GU","GT","GN","GW","GY","HT","HM","HN ","HK","HU","IS","IN","ID","IR","IQ","IE","IL","IT","JM","JP", "JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK",​​"MG ","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM", "MD","MC","MN","MS","MA","MZ","MM","NA","NR","NP","NL","AN","NC ","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS", "PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","SH","KN","LC","PM","VC","WS ","SM","ST","SA","SN","CS","SC","SL","SG","SK","SI","SB","SO", "ZA","GS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV", "UG","UA","AE","GB","US","UM","UY","UZ","VU","VA","VE","VN","VG","VI","WF","EH","YE","ZM","ZW")

# c# - 我可以在 Resharper 中添加“创建常量”选项吗？

> ID：14954260
> 
> 赞同：1
> 
> 时间：2013-02-19T09:38:51.190
> 
> 标签：c#, resharper, constants

在 resharper 中，每当我在代码中使用未声明的符号时，我都可以使用红色灯泡自动创建它，例如这样的[东西](http://www.jetbrains.com/resharper/webhelp/Code_Generation__Generating_Code_from_Usage.html)。我经常需要一个创建常量选项，它会创建一个常量字段，但是这个选项在普通的 resharper 中不存在。是否可以将其配置为具有此选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:51:51.427

好吧，不知道您的 Resharper 版本，但至少在 6.1 中，如果以这种方式使用，它已经建议将变量或字段转换为等效常量。

![例子](../Images/9a6c54156f5226445da1b73758bca146.png)

啊，我明白了，我的答案并不完整。好吧，您可以分两步创建一个 const 变量或字段。首先你必须声明它，然后你必须将它转换为 const。我认为原因很简单，Jet Brains 没有将“创建 const 变量或字段”选项视为正常用例。

# javascript - 在javascript中更改下拉列表的突出显示颜色

> ID：14954266
> 
> 赞同：0
> 
> 时间：2013-02-19T09:39:16.937
> 
> 标签：javascript, jquery, html

我有一个下拉列表，里面有 4 个项目。当我从中选择一项时，会出现蓝色突出显示。我想改变那个颜色..有可能吗？

我试过以下：

我在选项项目的 ommouseover 上执行此代码（我也尝试点击）

```
option = document.getElementById("option1");   
option.style.backgroundColor = "#ff0000"; 
```

代码已执行，但未应用颜色。

我在这个网站上阅读了许多类似的帖子，但没有帖子可以更改此蓝色（默认）突出显示颜色。有什么办法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:44:31.023

您不应该尝试调整内置控件的样式，例如选择框。相反，如果您需要自定义外观，请使用[jQuery UI](http://jqueryui.com/)或[YUI 之](http://yuilibrary.com/)类的 GUI 工具包。它们用 div 和 CSS 样式构建的自制控件替换您的控件，因此它们是完全可样式化和可修改的。

# javascript - 在 JavaScript 中检查日期是否在给定年份的 1 月 1 日之前

> ID：14954268
> 
> 赞同：0
> 
> 时间：2013-02-19T09:39:22.347
> 
> 标签：javascript, jquery, validation, date, datetime

我需要验证输入表单的数据是否在 1940 年 1 月 1 日之前。我分别拥有用户的日、月和年值，但我不知道如何使用智能将它们全部滚动并检查它们是否是在该特定日期之前。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T09:42:46.643

我认为您可以只创建一个 Date 对象

```
new Date(year, month, day [, hour, minute, second, millisecond]); 
```

比另一个日期为 1940 年 1 月 1 日，您可以比较它们：date1 < date2

# windows - 批处理文件中的字符串比较

> ID：14954271
> 
> 赞同：88
> 
> 时间：2013-02-19T09:39:39.390
> 
> 标签：windows, batch-file

我们如何比较批处理文件中包含空格和特殊字符的字符串？

我在尝试：

```
if %DevEnvDir% == "C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\"(
echo VS2010
) 
```

但它给出了一个错误“此时文件意外。”

我试过：

```
if "%DevEnvDir%" == "C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\"(
echo VS2010
) 
```

但它给出了一个错误“命令的语法不正确”。

有任何想法吗？

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2013-02-19T10:49:08.050

只需在 Environment 变量周围加上引号（就像您所做的那样）：
`if "%DevEnvDir%" == "C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\"`
但这是您放置左括号的方式，没有空格会混淆它。

为我工作...

```
C:\if "%gtk_basepath%" == "C:\Program Files\GtkSharp\2.12\" (echo yes)
yes 
```

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2014-09-27T21:26:27.113

虽然@ajv-jsy 的答案大部分时间都有效，但我遇到了与@MarioVilas 相同的问题。如果要比较的字符串之一包含双引号 (")，则变量扩展会引发错误。

**例子：**

```
@echo off
SetLocal

set Lhs="
set Rhs="

if "%Lhs%" == "%Rhs%" echo Equal 
```

**错误：**

```
echo was unexpected at this time. 
```

* * *

## 解决方案：

启用延迟扩展和使用！代替 ％。

```
@echo off
SetLocal EnableDelayedExpansion

set Lhs="
set Rhs="

if !Lhs! == !Rhs! echo Equal

:: Surrounding with double quotes also works but appears (is?) unnecessary.
if "!Lhs!" == "!Rhs!" echo Equal 
```

* * *

到目前为止，我还无法使用这种技术打破它。它适用于空字符串和我扔给它的所有符号。

**测试：**

```
@echo off
SetLocal EnableDelayedExpansion

:: Test empty string
set Lhs=
set Rhs=
echo Lhs: !Lhs! & echo Rhs: !Rhs!
if !Lhs! == !Rhs! (echo Equal) else (echo Not Equal)
echo.

:: Test symbols
set Lhs= \ / : * ? " ' < > | %% ^^ ` ~ @ # $ [ ] & ( ) + - _ =
set Rhs= \ / : * ? " ' < > | %% ^^ ` ~ @ # $ [ ] & ( ) + - _ =
echo Lhs: !Lhs! & echo Rhs: !Rhs!
if !Lhs! == !Rhs! (echo Equal) else (echo Not Equal)
echo. 
```

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2016-11-04T09:13:43.460

解决方案是不要使用空格！

```
IF "%DevEnvDir%"=="C:\" ( 
```

# mysql - 如何使用 SSIS 中的 32/64 位 ODBC 驱动程序连接到 MySQL？

> ID：14954272
> 
> 赞同：0
> 
> 时间：2013-02-19T09:39:39.270
> 
> 标签：mysql, ssis, odbc, driver

我编写了一个 SSIS 包，但无法连接到 MySQL 服务器。我已经尝试了 .NET 连接器和 ODBC，但我都遇到了问题。

.NET 连接器存在动态查询的已知问题，并给出关于未找到列*`P1`*（这是一个变量）的错误。

解决此问题的推荐途径是使用 ODBC 进行连接。当我使用 ODBC 连接器时，我收到有关连接到 MySQL 的内存问题的错误。

我已经安装了 64 位和 32 位 ODBC MySQL 驱动程序并设置了我的 ODBC 连接，但它不能解决我的问题。

我试过只输入一个连接字符串，但这让我回到了内存错误。在阅读一些在线指南时，它提到需要设置两个不同的数据源，一个用于 32 位，一个用于 64 位，但在 Windows 7 中我看不到 64 位数据源程序？

我还发现有人提到使用特定*`mysql.data.dll`*文件，但我找不到该文件，也找不到放置或引用它的位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T13:16:33.140

阅读以下 Microsoft KB 以查找可执行文件位置以配置`32-bit`ODBC`64-bit`数据源。您需要配置适当的 ODBC 源，以便可以在 BIDS 中查看它或使 SSIS 包在 SQL Server 代理作业中运行。

[*微软知识库 942976*](http://support.microsoft.com/kb/942976)

*   **`32-bit`****`Odbcad32.exe`**文件的版本在*`%systemdrive%\Windows\SysWoW64`*文件夹中。

*   **`64-bit`****`Odbcad32.exe`**文件的版本在*`%systemdrive%\Windows\System32`*文件夹中。

系统驱动器将是您安装操作系统的驱动器。

# php - 是否可以解密 MD5 密码？

> ID：14954274
> 
> 赞同：-1
> 
> 时间：2013-02-19T09:39:45.163
> 
> 标签：php, mysql

我想知道是否可以解密 MD5 密码

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:42:40.477

> 我使用 md5 自动为用户生成密码

不。[MD5 不安全](http://www.php.net/manual/en/faq.passwords.php#faq.passwords.fasthash)。

> 如何加密这些密码并将它们视为真实密码

我认为您的意思是“解密”。你不能。MD5 是一种散列算法，它被设计为不可逆的。

不要为您的用户生成密码。您的流程应该是：

1.  用户生成密码
2.  用户通过 SSL 向您发送密码
3.  您对密码进行哈希处理（不使用 MD5）
4.  您存储散列密码

当用户登录时：

1.  用户通过 SSL 向您发送密码
2.  你散列密码
3.  您将哈希密码与数据库中的哈希值进行比较

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:49:11.090

只需将它们存储在加密的数据库中 - 这就是它的用途。

生成密码：

```
$characters = 'abcdefghijklmnopqrstuvwxyz0123456789';
$your_password_length = 8;
$password_unencrypted = '';
for ($i = 0; $i < $your_password_length; $i++) {
  $password_unencrypted .= $characters[rand(0, strlen($characters) - 1)];
} 
```

现在加密它

```
$password_encrypted = md5($password_unencrypted); 
```

现在您有两个变量 - password_unencrypted 和 password_encrypted。例如，您可以通过邮件将 password_unencrypted 发送给用户，但 DB 应包含加密密码。当用户登录时，您应该将他的加密输入与数据库中的加密密码进行比较：

```
//..get the md5 from DB to $password_encrypted and then
if (md5($_POST['users_password_in_form']) == $password_encrypted){
// ...log in...
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T16:08:24.057

`s is if he somehow acess the database itself (probably he got the password), so does it really make`关于密码和数据库安全，如果密码被散列或加密，那么用户可以访问密码差异的唯一方法是什么？我`m asking cause we are trying to protect the user password, but if someone has acess to the database, he dont need the user password, he can make the changes on the database itself, and about the encrypting, i find on php manual that blowfish is the most indicated, but i`在谷歌的第一个结果搜索中找到了一个在线解密器。你怎么看？先感谢您。

# c# - 从 CodeBehind 获取字符串

> ID：14954284
> 
> 赞同：1
> 
> 时间：2013-02-19T09:40:21.803
> 
> 标签：c#, asp.net

和有什么区别`<%#...%> and <%=...%>`？例如，我想获取登录用户的用户名并尝试使用，`"<%# Membership.GetUser().UserName %>"`但这不起作用。然后我尝试`<%= Membership.GetUser().UserName %>`了这个作品。为什么第一次尝试 ( `"<%# Membership.GetUser().UserName %>"`) 没有工作，但第二次工作正常 ( `<%= Membership.GetUser().UserName %>`) ？

使用此代码不起作用，我无法从“ `Membership.GetUser().UserName`”获取该字段：

```
<div id="profileHeader">
    <h1><%# Membership.GetUser().UserName %></h1>
</div> 
```

通过此代码工作，我可以从“ `Membership.GetUser().UserName`”获取字段：

```
<div id="profileHeader">
    <h1><%= Membership.GetUser().UserName %></h1>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:44:10.243

**<% %>** : 标准代码块

**<%# %>**：这些服务器标签用于数据绑定表达式。

**<%= %>**：用于显示变量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T09:51:42.593

阿巴斯是正确的，这是有关该主题的官方 wiki

[代码渲染块](http://msdn.microsoft.com/en-us/library/k6xeyd4z%28v=vs.71%29.aspx)、[数据绑定表达式](http://msdn.microsoft.com/en-us/library/bda9bbfx%28v=vs.71%29.aspx)和一般的[Web 窗体语法](http://msdn.microsoft.com/en-us/library/fy30at8h%28v=vs.71%29.aspx)。

# post - ServiceStack - 通过一个 POST 请求发布多个文件

> ID：14954285
> 
> 赞同：3
> 
> 时间：2013-02-19T09:40:27.143
> 
> 标签：post, servicestack, multifile-uploader

我在这个问题上苦苦挣扎了几个小时，但找不到任何解决方案。有人使用 ServiceStack 通过一个 POST 请求上传多个文件吗？

我试图使用 PostFile：

```
 FileInfo fi = new FileInfo("ExampleData\\XmlAPI.xml");
  var client = new XmlServiceClient("http://localhost:1337");
  client.PostFile<DefaultResponse>("/test", fi, "application/xml"); 
```

但是在这里我只能向请求中添加一个文件。我的第二个镜头是使用 LocalHttpWebRequestFilter 但里面只有一个扩展方法，它也允许只发布一个文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T15:59:54.343

多个文件上传 API 已[添加到 v4.0.54](http://docs.servicestack.net/releases/v4.0.54#multiple-file-uploads)中的所有 .NET 服务客户端，允许您在单个 HTTP 请求中轻松上传多个流。除了多个文件上传数据流之外，它还支持使用 QueryString 和 POST'ed FormData 的任意组合填充 Request DTO：

```
using (var stream1 = uploadFile1.OpenRead())
using (var stream2 = uploadFile2.OpenRead())
{
    var client = new JsonServiceClient(baseUrl);
    var response = client.PostFilesWithRequest<MultipleFileUploadResponse>(
        "/multi-fileuploads?CustomerId=123",
        new MultipleFileUpload { CustomerName = "Foo,Bar" },
        new[] {
            new UploadFile("upload1.png", stream1),
            new UploadFile("upload2.png", stream2),
        });
} 
```

或者仅使用 Typed Request DTO。`JsonHttpClient`还包括每个新 `PostFilesWithRequest`API的异步等效项：

```
using (var stream1 = uploadFile1.OpenRead())
using (var stream2 = uploadFile2.OpenRead())
{
    var client = new JsonHttpClient(baseUrl);
    var response = await client.PostFilesWithRequestAsync<MultipleFileUploadResponse>(
        new MultipleFileUpload { CustomerId = 123, CustomerName = "Foo,Bar" },
        new[] {
            new UploadFile("upload1.png", stream1),
            new UploadFile("upload2.png", stream2),
        });
} 
```

# ios - 隐式依赖项不适用于 xcodebuild

> ID：14954287
> 
> 赞同：5
> 
> 时间：2013-02-19T09:40:30.433
> 
> 标签：ios, xcode, xcodebuild

我的一个项目有一点问题。在我的工作区中，我有我的主要项目和很多静态库项目。当我从 Xcode 构建时，一切正常，但是使用 xcodebuild，我的一个项目没有构建，似乎隐式依赖项不起作用.k。也许我的配置有问题。就这样。

我的方案配置： ![在此处输入图像描述](../Images/fe4637326592709e18d228f60a8f2895.png)

我的 QAPreferences.a 信息： ![在此处输入图像描述](../Images/1301da2013ed595c292f513b0d402a4c.png)

我的目标设置： ![在此处输入图像描述](../Images/2a599e20db2e12f5939df66790c8e232.png)

在 Xcode 中，如果我在 iphoneos 的调试中使用 buildAppTarget 构建，它可以工作。

从 xcodebuild，使用下面的命令，QAPreferences 项目没有被构建。

```
xcodebuild -workspace myProject.xcworkspace -scheme buildApp -configuration Debug -sdk iphoneos 
```

它以前有效，但我最近添加了 QAPreferences，从那一刻起它确实有效。也许问题来自 QAPreferences 项目......

问候，昆汀

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-11-26T22:55:25.747

我遇到了类似的问题，但忘记指定 的`-workspace`参数`xcodebuild`，这导致隐式依赖项似乎无法正常工作。我意识到这不是原始问题的问题，但对于存在隐式依赖问题的人来说，这可能会有所帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T08:39:17.297

所以我终于找到了为什么没有通过 xcodebuild 构建 QAPreferences 但我仍然不明白原因。事实上，QAPreferences 'Build Archive Architecture Only' 设置为 YES，我只是将其设置为 NO，现在它可以工作了！

# c++ - 监控文件更改 c++ linux

> ID：14954290
> 
> 赞同：17
> 
> 时间：2013-02-19T09:40:36.490
> 
> 标签：c++, linux, file-monitoring

我正在使用 linux，我有一个包含子目录的目录，并且子目录中有文件。我必须监视文件中的更改。在 C++ 中，我使用的是 boost。我每 30 秒浏览一次所有目录并检查 last_write_time。主要是，它有效。但是每次执行此操作时，我的 CPU 都会发疯，我看到仅在顶部的该程序的 CPU 使用率为 15%-25%。我已经阅读了有关 inotify 的信息。如果我使用 inotify，我的 CPU 使用率会或多或少相同，还是会得到改善？我正在做的事情有什么好的选择吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-19T09:46:06.197

当您使用 inotify 时，您不需要轮询所有文件以检查是否有更改。当监视的文件或目录发生更改时，您将获得一个回调系统通知您。

内核/文件系统已经拥有这些信息，因此资源/CPU 的使用不仅被转移到另一个应用程序中，而且实际上被减少了。

[使用 inotify 监控文件系统活动](https://developer.ibm.com/tutorials/l-ubuntu-inotify/)提供了使用 inotify 的更多详细信息，显示其基本用法并帮助您进行设置。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T10:11:21.663

[http://linux.die.net/man/7/inotify](http://linux.die.net/man/7/inotify)这应该可以帮助您摆脱您面临的问题！

# event-handling - 条件渲染元素（即面板）内的按钮（更好的事件处理程序）的不可预测的结果

> ID：14954293
> 
> 赞同：0
> 
> 时间：2013-02-19T09:40:49.857
> 
> 标签：event-handling, xpages, renderer

我正在尝试根据这样的条件隐藏/显示面板

```
<xp:panel id="panelUsersInput">
 <!--<xp:this.rendered><![CDATA[#{javascript:return ((getComponent("optAttendees").getAttributes().get("value")=="defined"));}]]></xp:this.rendered>-->
 <xp:inputText id="namUsersInput">
  <xp:typeAhead mode="partial" minChars="3" ignoreCase="true" var="lupUsersInput">
   <xp:this.valueList><![CDATA[#{javascript:@DbLookup( [ database.getServer(), 'names.nsf' ], '($VIMPeople)', lupUsersInput, 1, '[PARTIALMATCH]' );}]]></xp:this.valueList>
  </xp:typeAhead>
 </xp:inputText>
 <xp:button value="" id="btnAddUser" styleClass="button add clear" title="add attendant">
  <xp:span/>
  <xp:eventHandler event="onclick" submit="true" refreshMode="partial" refreshId="panelUsersList" execMode="partial" execId="panelSelectionAttendees">
   <xp:this.onStart><![CDATA[(dojo.byId("#{id:namUsersInput}").value!="");]]></xp:this.onStart>
   <xp:this.action>
    <![CDATA[#{javascript:
     var lstUsers = getComponent("namUsers").getAttributes().get("value");
     if(typeof(lstUsers)==typeof(java.util.Vector)) {
      lstUsers.push(getComponent("namUsersInput").getAttributes().get("value"));
      lstUsers.sort();
     } else {
      lstUsers = @Trim(@List(lstUsers, getComponent("namUsersInput").getAttributes().get("value")));
     }

     getComponent("namUsersInput").getAttributes().put("value", "");
     getComponent("namUsers").getAttributes().put("value", lstUsers);
    }]]>
   </xp:this.action>
   <xp:this.onComplete><![CDATA[if(dojo.byId("#{id:rpUsersSelection}")) { highlightSection("#{id:rpUsersSelection}"); }]]></xp:this.onComplete>
  </xp:eventHandler>
 </xp:button>
 <div class="clearAll"/>
</xp:panel> 
```

如您所见，我已禁用面板的渲染选项。使用此设置，此面板内的按钮将按指示工作。

当为面板启用渲染选项时，该面板内的按钮正在做某事，但部分刷新返回的结果就像重新加载指定的部分（带有部分id）。

更有趣的是这个事实：当面板渲染条件为假时，按钮触发的事件仍然被渲染。但是事件处理程序找不到要绑定的父元素。结果是将此事件全局绑定到整个页面（body-element）。

```
XSP.addOnLoad(function() {
...
XSP.attachPartial("view:_id1:_id11:_id47", "view:_id1:_id11:btnAddUser", "view:_id1:_id11:panelSelectionAttendees", "onclick", view__id1__id11__id47_clientSide_onclick, 2, "view:_id1:_id11:panelUsersList", null, "if(dojo.byId(\"view:_id1:_id11:namUsers\").value!=\"\") { dojo.byId(\"view:_id1:_id11:namUsersInput\").value=\"\"; highlightSection(\"view:_id1:_id11:panelUsersList\"); }", null);
...
}); 
```

有没有其他人注意到这种行为？我认为隐藏面板也会隐藏该面板内的所有底层元素。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:42:22.917

似乎是一个已知的错误

LO73179：XPAGES 事件处理程序渲染与父组件的渲染不匹配

[http://www-01.ibm.com/support/docview.wss?uid=swg1LO73179](http://www-01.ibm.com/support/docview.wss?uid=swg1LO73179)。

# bash - Bash：路径访问中的空间

> ID：14954304
> 
> 赞同：3
> 
> 时间：2013-02-19T09:41:21.640
> 
> 标签：bash, shell, path, terminal, escaping

我尝试使用 bash 脚本访问特定路径，但我的终端无法访问它。这是我非常简单的脚本：

```
#!/bin/bash
init()
{
    cd $PATH
    ls -l
}
PATH="/Volumes/Macintosh HD/Users"
init 
```

我试图写“/Macintosh\ HD”但没有成功。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:43:22.753

尝试

```
cd "$PATH" 
```

注意引号。

# xpages - 有没有办法从文档富文本字段调整 xPage 生成的 HTML？

> ID：14954310
> 
> 赞同：1
> 
> 时间：2013-02-19T09:41:32.537
> 
> 标签：xpages

有没有办法从文档富文本字段调整 xPage 生成的 HTML？我有 q 文档，其中富文本字段内容使用计算文本控件显示在 xPage 上。解决方案效果很好，除了 xPages 引擎从富文本字段生成奇怪的 HTML。使用标准格式在 Web 上显示页面时，所有以默认字体和默认大小编写的文本不包含标记 arround，因此可以使用 CSS 对其进行样式设置。在 xPages 中不是这种方式。一切都有标签，看到 div 标签周围生成的字体标签并不好笑:-(

```
<div class="tcl-columns3-in">
  <font size="2" face="sans-serif"></font>
  <font size="2" face="sans-serif">
      <b>Header text ...</b>
  </font>
  <font size="2" face="sans-serif">
     <div class="tcl-box-outlined">
        text ...<br>
     </div>
  </font>
</div> 
```

有没有办法摆脱生成的 HTML？我查看了带有 ASF 过滤器的 html 过滤选项，但它需要调整文件系统上的设置，这对我来说不是选项...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T06:07:55.327

有许多步骤可以缩小问题的范围。RichText -> MIME -> RichText 不是无问题的关系。正如[Carl 指出的那样](http://www.iminstant.com/iminstant/iminstant.nsf/d6plinks/ctyr-7h6s6r)，您可以查看原始 RichText -> Mime 转换结果。这看起来好吗？然后，您可以使用[Dijit ContentPane](http://dojotoolkit.org/api/1.6/dijit/layout/ContentPane)来拉入该内容。

它还取决于您用于显示内容的控件。使用文本框和 RichText 编辑器可能会取得不同的成功。如果您寻求非常高的保真度，您可以将 RT 存储为 mime（RT 字段的属性）或使用[Coex Edit](http://www.geniisoft.com/showcase.nsf/CoexEdit)商业服务器插件

# css - 如何在 html 中创建特定的布局？

> ID：14954311
> 
> 赞同：1
> 
> 时间：2013-02-19T09:41:35.100
> 
> 标签：css, layout, html

我想在 html 中创建一个特定的布局，但有一些困难。

图像比文字更容易理解，所以这就是我所拥有的：

![在此处输入图像描述](../Images/dc74d512ae67c1ebce8008e2a203da57.png)

这很好，但是一旦 div1 变高，我就会有这个：

![在此处输入图像描述](../Images/76cbb9cf7283891ccfbe6ce247500210.png)

我的目标是拥有这样的东西：

![在此处输入图像描述](../Images/82249923d249edf39d5e941db3ee350b.png)

目前，我正在使用 div，这可能不是一个好主意。欢迎任何帮助。非常感谢您提前。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:56:42.417

Divs 是一个很好的方法。您可以在两个右侧 div 周围使用包含 div 的浮动布局。这里有一些代码可以告诉你我的意思：

**HTML**

```
<div id="wrapper" class="clearfix">
    <div id="sidebar"></div>
    <div id="main_content">
        <div id="top_right"></div>
        <div id="bottom_right"></div>
    </div>
</div> 
```

**CSS**

```
#wrapper { background: #44BBF0; }
#sidebar { float: left; width: 100px; height: 500px; background: #485F40; }
#main_content { float: right; }
#top_right { width: 200px; height: 200px; background: #FF553F; }
#botom_right { width: 200px; height: 300px; background: #B0DE91; }

.clearfix:before,
.clearfix:after {
  content: ".";
  display: block;
  height: 0;
  overflow: hidden;
}

.clearfix:after {
    clear: both;
}

.clearfix {
    zoom: 1; /* IE < 8 */
} 
```

这是一个 JS fiddle 链接，向您展示它的外观：http: [//jsfiddle.net/ddxYB/](http://jsfiddle.net/ddxYB/)

确保清除包装器 div。因为它只包含浮动元素，所以如果你不这样做，它将没有高度。在我使用的示例中，我设置了高度以节省时间，但是如果您使用自动高度并让 div 占据内容的高度，这也一样。

这是 JSFiddle 代码的屏幕截图：

![这是 JSFiddle 代码的截图](../Images/1ec0dec9c26b91068f2829a7801a1050.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:03:55.673

首先，您必须了解**容器**的概念。

创建 2 个容器作为列：

*   包含 div1 的左列

*   包含 div2 和 div3 的右列

所以为 HTML 创建一个这样的**结构**：

```
<div class="col1">
    <div>div 1</div>
</div>

<div class="col2">
    <div>div 2</div>
    <div>div 3</div>
</div> 
```

并使用 CSS 定位列：

```
div.col1 {
    float: left;
    width: 200px;
}

div.col2 {
    float: left;
    width: 400px;
} 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-02-19T09:47:12.740

将每个 div 的 CSS 位置设置为绝对位置并使用边距定位它们。

```
#divName {
position: absolute;
margin: 10px 10px 10px 10px; //position them wherever you want.
} 
```

# oracle - 无法在实体框架中映射 SYS_REFCURSOR

> ID：14954312
> 
> 赞同：7
> 
> 时间：2013-02-19T09:41:37.277
> 
> 标签：oracle, entity-framework, ado.net, oracle11g, odp.net

我正在尝试通过实体框架访问 Oracle 11g 上的存储过程。我可以访问返回标量和返回正确值的存储过程。但是，当使用**SYS_REFCURSOR 返回结果集时，函数 import 上未检测到 OUT 参数**。

我的存储过程如下

```
create or replace PROCEDURE "GetAllClientNames" (
  "ID" IN NUMBER, 
  "SAL" IN NUMBER, 
  "EMP_CURSOR" OUT SYS_REFCURSOR) IS

BEGIN 

    OPEN EMP_CURSOR FOR SELECT FIRSTNAME FROM CLIENTS;

END; 
```

但是在更新实体并进行函数导入时，在导入的函数中未检测到 SYS_REFCURSOR OUT 参数以检索结果集。

![这是导入函数的图像](../Images/21c6039c18c3bc76283c15a41bb9eb0b.png)

请帮我解决这个问题。如果没有 OUT 参数，我无法访问存储过程检索到的结果集

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-10-30T15:30:16.813

可以使用实体框架从 Oracle 存储过程返回复杂类型，例如引用游标；它只需要一些额外的配置。您必须将正确的 XML 添加到配置文件中，以识别返回的 refcursor 和列的数据类型。

例子：

```
<oracle.dataaccess.client>
<settings>
  <add name="schema.storedproc.RefCursor.ref_cursor_param_name" value="implicitRefCursor bindinfo='mode=Output'" />
  <add name="schema.storedproc.RefCursorMetaData.OUT_REF_CUR.Column.0" value="implicitRefCursor metadata='ColumnName=<column_name_here>;BaseColumnName=<column_name_here>;NATIVEDATATYPE=Varchar2;ProviderType=Varchar2'" />
  <add name="schema.storedproc.RefCursorMetaData.OUT_REF_CUR.Column.1" value="implicitRefCursor metadata='ColumnName=<column_name_here>;NATIVEDATATYPE=Date;ProviderType=Date'" />
  <add name="schema.storedproc.RefCursorMetaData.OUT_REF_CUR.Column.2" value="implicitRefCursor metadata='ColumnName=<column_name_here>;NATIVEDATATYPE=Number;ProviderType=Int32'" />
</settings>
</oracle.dataaccess.client> 
```

只需将**schema.storedproc**值替换为您的值。比如 ACCOUNTING.GET_EMPLOYEES。**并将column_name_here**替换为您的列。如 EMP_ID。也去掉尖括号。

这是一篇完整的文章供参考： [http ://www.oracle.com/webfolder/technetwork/tutorials/obe/db/dotnet/EntityFrameworkOBE/EntityFrameworkOBE.htm#t3](http://www.oracle.com/webfolder/technetwork/tutorials/obe/db/dotnet/EntityFrameworkOBE/EntityFrameworkOBE.htm#t3)

XML 条目的文档：http: [//docs.oracle.com/cd/E11882_01/win.112/e18754/featImplRefCursor.htm#ODPNT319](http://docs.oracle.com/cd/E11882_01/win.112/e18754/featImplRefCursor.htm#ODPNT319)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-10-15T12:40:25.143

现在 oracle 数据提供者允许这种操作没有太多麻烦。它太复杂了，无法在这里回答。添加了快速阅读。请点击以下链接了解详细信息。

> ODP.NET 11g 第 2 版 (11.2.0.3.0) 及更高版本使应用程序能够使用 REF CURSOR 参数运行存储过程，而无需在 .NET 代码中对这些参数使用显式绑定。
> 
> 对于只读结果集，例如使用 OracleDataReader 的 REF CURSOR，会自动检索 REF CURSOR 模式信息。
> 
> 对于某些场景，例如使用可更新的 REF CURSOR 或实体框架时，开发人员需要定义 REF CURSOR 架构信息，以便应用程序可以绑定隐式 REF CURSOR。实体框架应用程序使用隐式 REF CURSOR 绑定从 REF CURSOR 数据实例化复杂类型。应用程序必须在 app.config、web.config 或 machine.config .NET 配置文件中指定 REF CURSOR 绑定和元数据信息。
> 
> 当应用程序从代表 REF CURSOR 的 OracleDataReader 对象请求模式信息时，也会使用 .NET 配置文件中提供的属性。这意味着对于使用 SELECT 从单个表中创建的 REF CURSOR，应用程序可以通过使用 OracleDataAdapter 和 OracleCommandBuilder 更新该表。
> 
> 使用实体框架时，函数导入可以返回隐式绑定的 REF CURSOR。REF CURSOR 可以作为复杂类型或实体类型的集合返回。要返回复杂类型集合，.NET 配置文件需要定义 REF CURSOR 绑定和元数据信息。要返回实体类型集合，只需在 .NET 配置文件中定义绑定信息。

[**在此处**](http://docs.oracle.com/html/E41125_02/featImplRefCursor.htm#CJADEIEH)查找完整信息[](http://docs.oracle.com/html/E41125_02/featImplRefCursor.htm#CJADEIEH)

 *** * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-10-23T19:24:28.177

要将导入功能与 EF 一起使用，您需要执行以下操作：

1) 在你的参数列表中遇到的第一个 OUT SYS_REFCURSOR 将成为实体函数的输出。因此，您可能需要使用包含此 OUT SYS_REFCURSOR 的新 SP 包装您的 SP 或函数

2) 您需要在您的 app.config 或 web.config 中设置有关此光标的一些元数据。这是由服务器资源管理器中的“运行存储过程”对话框自动完成的。

您可以在此处查看逐步演练： [https ://apex.oracle.com/pls/apex/f?p=44785:24:6479673193812:::24:P24_CONTENT_ID,P24_PROD_SECTION_GRP_ID,P24_PREV_PAGE:10068,,24](https://apex.oracle.com/pls/apex/f?p=44785:24:6479673193812:::24:P24_CONTENT_ID,P24_PROD_SECTION_GRP_ID,P24_PREV_PAGE:10068,,24)

有关此主题的更多文档，请参阅 Oracle Developer Tools for Visual Studio 在线帮助的实体框架部分。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-08-21T09:43:00.473

我有一个类似的问题。

经过长时间的研究，我发现 Oracle 对实体框架的支持尚未演变为使用复杂数据类型作为存储过程的返回类型。可以办到; 但这就像在你的头上摸鼻子。因此，如果您为了方便而使用 EF，那么最好避免使用它并直接使用存储过程。

最后我决定使用 EF 创建、更新和删除（因为我必须实现审计跟踪）和返回结果集的存储过程。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-08-21T10:14:33.443

如果您想执行具有复杂返回类型和二进制字段的存储过程和函数，我认为使用 Entity 框架采用 oracle 方式并不是一个好方法。**

# actionscript-3 - 限制 tweenmax 中的最大速度

> ID：14954315
> 
> 赞同：2
> 
> 时间：2013-02-19T09:41:42.920
> 
> 标签：actionscript-3, gsap

我正在用 Flash 开发游戏，我需要在屏幕上以环绕的方式移动我的电影剪辑。为此，我正在使用`Tweenmax.to()`greensock 提供的功能。该函数将“时间”和“距离”作为参数，并对运动本身应用加速和减速。

然而，这需要超出我想要的运动的最大速度。有没有办法也可以设置运动的最大速度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:58:41.947

我认为您不能手动控制加速度，但是要减慢速度，您可以设置更高的时间值：例如，从

```
TweenMax.to(mc, 2, {x:65, y:117}); 
```

到

```
TweenMax.to(mc, 4, {x:65, y:117}); 
```

或者使用另一种类型的缓动——它们中的每一个都包含自己的一组加速。有很多，你可以试着找到一个合适的。

有一个[交互式演示](http://www.greensock.com/tweenmax/)，尝试使用不同的缓动功能。

# javascript - Contenteditable：将光标移到插入的 html 节点外（webkit / ie）

> ID：14954316
> 
> 赞同：5
> 
> 时间：2013-02-19T09:41:45.830
> 
> 标签：javascript, contenteditable

当我在 contenteditable div 中插入 html 标记时，我需要将光标移到新插入的元素之外（向右），因此如果我继续键入，新文本将被取消格式化。

使用 Firefox，我发现这个解决方案运行良好：

```
node = document.createElement("strong");
node.innerHTML = "test";

range.deleteContents();
range.insertNode(node);
range.collapse(false); 
```

变量范围是这样设置的：

```
if (window.getSelection) {
    var sel = window.getSelection();
    if (sel.getRangeAt && sel.rangeCount) {
        range = sel.getRangeAt(0);
    }
} 
```

在 webkit 浏览器（Chrome / Safari）中使用上面的代码将光标放在新标签之外，但在左边。

是否有解决方案（Chrome / Safari）和 IE 支持（主要是 9，可选 8）？

谢谢

==============================================

感谢蒂姆的建议，这是工作代码：

```
var node = document.createElement("strong");
node.innerHTML = "test";

var space = document.createElement("span");
space.innerHTML = "\u200B";

range.insertNode(space);
range.insertNode(node);
range.collapse(false);

var sel = window.getSelection();
sel.removeAllRanges();
sel.addRange(range); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T12:18:35.820

您需要在非 Mozilla 浏览器中重新选择范围。这将适用于除 IE <= 8 之外的所有主要浏览器：

```
var sel = window.getSelection();
sel.removeAllRanges();
sel.addRange(range); 
```

对于 IE <= 8，您可以使用不同的方法。这是我的另一个完整示例的答案：

[https://stackoverflow.com/a/4836809/96100](https://stackoverflow.com/a/4836809/96100)

# math - 从 XY 值和角度知道 Z 的坐标

> ID：14954317
> 
> 赞同：0
> 
> 时间：2013-02-19T09:41:46.750
> 
> 标签：math, geometry, 2d

我正在使用绘图的 XY 坐标来使用 Ink 绘制对象。现在我有一个要求。我有一个对象，它是 30 度的坡度，我需要在坡度上写一些文字，例如“ABC”。我拥有的是 XY 坐标和角度，我想从这些信息中找到 Z。您能否建议我一些从给定信息中找到 Z 的正确方法？

在坡度上标记时，我需要沿 Z 轴向下以保持专注于坡度，同样，我需要每个点的 Z 值。到目前为止，我有 XY 坐标和角度，我想找到 Z 坐标。

期待听到专家的建议/指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:57:23.643

所以，我想它看起来有点像这样：

```
 /|
     / |
  x /  |
   /   | z
  /    |
 /     |
/γ)____|
     y 
```

你可能想用[这个](http://en.wikipedia.org/wiki/Law_of_cosines)：

```
z = sqrt(x² + y² - 2 * x * y * cos(γ)) 
```

...或者[这个](http://en.wikipedia.org/wiki/Law_of_sines)（在任何偏移量***s***）：

```
z = ((y - s) / sin(90 - γ) * sin(γ) 
```

* * *

*更新：*

所以，假设点`P1`是三角形的起点（左下角），点`P2`是斜坡上的任何点：

```
 /
    P2 .< P2.y
      /|
     / |
    /  |
   /   |
  .γ)__|___ 
P1     ^
       P2.x 
```

`P2.x`从`P1.x`到`P1.x + <the width of your triangle>`。现在，您唯一需要的是 的坐标`y`。`P2`并且（知道斜率/角度`γ`）你可以用上面的公式得到它：

```
P2.y = ((P2.x - P1.x) / sin(90 - γ) * sin(γ) + P1.y 
```

# php - 在 Zend Framework 中获取选定的行

> ID：14954320
> 
> 赞同：2
> 
> 时间：2013-02-19T09:41:52.647
> 
> 标签：php, database, zend-framework, fetch

我知道如何从数据库中获取所有结果我想要做的是获取选定的行。谁能给我一个示例代码。

```
public function getAllAddresses()
    {
        $dbTable = new Application_Model_DbTable_User();
        $result = $dbTable->fetchAll();

        $addresses = array();
        foreach ($result as $row) {

        $address = new Application_Model_User();
        $address->setuserId($row->userId)
            ->setuserName($row->userName)
            ->setaddressLine1($row->addressLine1)
            ->setaddressLine2($row->addressLine2)
            ->setaddressLine3($row->addressLine3)
            ->settelephone($row->telephone);

        $addresses[$row->userId] = $address;
    }

    return $addresses;
} 
```

我该怎么做。。

这是我对 fetchAll 的控制器调用

```
public function indexAction()
    {
        // action body
        $addressMap = new Application_Model_UserMapper();
        $addresses = $addressMap->getAllAddresses();

        $this->view->addresses = $addresses;
    } 
```

如何调用 fetch 方法？

这是我的看法

```
<?php if (isset($this->addresses)) : ?>
    <table>
        <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Street</th>
            <th>City</th>
            <th>Town</th>
            <th>Telephone</th>
        </tr>
        </thead>
        <tbody>
        <?php 
        foreach ($this->addresses as $userId => $address) {
            $trow = '<tr>';
            $s = $address->getuserId();
            $trow .= '<td>'. $address->getuserId() .'</td>';
            $trow .= '<td>'. $address->getuserName() .'</td>';
            $trow .= '<td>'. $address->getaddressLine1() .'</td>';
            $trow .= '<td>'. $address->getaddressLine2() .'</td>';
            $trow .= '<td>'. $address->getaddressLine3() .'</td>';
            $trow .= '<td>'. $address->gettelephone() .'</td>';
            $trow .= '<td><a href="Index?id='. $s .'">Edit</a></td>';
            $trow .= '</tr>';

            print $trow;
        }
        ?>
        </tbody>
    </table>
<?php else : ?>
    <p>Address not found</p>
<?php endif; ?> 
```

我对 Zend 和 MVC 架构非常陌生。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:08:37.503

[在这里，您可以在http://framework.zend.com/manual/1.12/en/zend.db.table.row.html](http://framework.zend.com/manual/1.12/en/zend.db.table.row.html)获得完整的文档

你需要调用：`fetchRow()`方法而不是`fetchAll()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-21T13:55:43.717

假设您想`id = 5`从用户表中获取列名为“id”的行。`$id = 5`

```
$userObj = new Application_Model_DbTable_User();
$userRow = $userObj->fetchRow('id = '.$id); 
```

现在您可以访问用户列

```
 echo $userRow->columnName; 
```

# java - Powermock/mockito 在被告知时不会抛出异常

> ID：14954322
> 
> 赞同：5
> 
> 时间：2013-02-19T09:41:57.593
> 
> 标签：java, mockito, powermock

我会假设以下测试应该通过，但永远不会抛出异常。有什么线索吗？

```
@RunWith(PowerMockRunner.class)
@PrepareForTest(StaticService.class)
public class TestStuff {

    @Test(expected = IllegalArgumentException.class)
    public void testMockStatic() throws Exception {
        mockStatic(StaticService.class);
        doThrow(new IllegalArgumentException("Mockerror")).when(StaticService.say("hello"));
        verifyStatic();
        StaticService.say("hello");
} 
```

}

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T14:03:22.427

这是因为您对静态方法使用了 doThrow...when 语法不正确。有几种不同的方法可以解决这个问题，我在下面的两种单独的测试方法中进行了概述。

```
@RunWith(PowerMockRunner.class)
@PrepareForTest({StaticService.class})
public class StaticServiceTest {

    @Test (expected = IllegalArgumentException.class)
    public void testMockStatic1() throws Exception {
        String sayString = "hello";
        mockStatic(StaticService.class);
        doThrow(new IllegalArgumentException("Mockerror")).when(
            StaticService.class, "say", Matchers.eq(sayString));
        StaticService.say(sayString);
        fail("Expected exception not thrown.");
    }

    @Test (expected = IllegalArgumentException.class)
    public void testMockStatic2() throws Exception {
        String sayString = "hello";
        mockStatic(StaticService.class);
        doThrow(new IllegalArgumentException("Mockerror")).when(
            StaticService.class);
        StaticService.say(Matchers.eq(sayString)); //Using the Matchers.eq() is
                                                   //optional in this case.

        //Do NOT use verifyStatic() here. The method hasn't actually been
        //invoked yet; you've only established the mock behavior. You shouldn't
        //need to "verify" in this case anyway.

        StaticService.say(sayString);
        fail("Expected exception not thrown.");
    }

} 
```

作为参考，这是我创建的 StaticService 实现。我不知道它是否与您的匹配，但我确实验证了测试通过。

```
public class StaticService {
    public static void say(String arg) {
        System.out.println("Say: " + arg);
    }
} 
```

## 也可以看看

*   [http://static.javadoc.io/org.powermock/powermock-api-mockito/1.6.5/org/powermock/api/mockito/expectation/PowerMockitoStubber.html](http://static.javadoc.io/org.powermock/powermock-api-mockito/1.6.5/org/powermock/api/mockito/expectation/PowerMockitoStubber.html)
*   [https://github.com/jayway/powermock/wiki/MockitoUsage#how-to-stub-void-static-method-to-throw-exception](https://github.com/jayway/powermock/wiki/MockitoUsage#how-to-stub-void-static-method-to-throw-exception)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-11T14:48:53.360

**带导入的StaticServiceTest.java**：

```
import static org.junit.Assert.fail;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.Matchers;
import org.powermock.api.mockito.PowerMockito;
import org.powermock.core.classloader.annotations.PrepareForTest;
import org.powermock.modules.junit4.PowerMockRunner;

@RunWith(PowerMockRunner.class)
@PrepareForTest({ StaticService.class })
public class StaticServiceTest {

    @Test(expected = IllegalArgumentException.class)
    public void testMockStatic1() throws Exception {
        /* Setup */
        String sayString = "hello";
        PowerMockito.mockStatic(StaticService.class);

        /* Mocks */
        PowerMockito.doThrow(new IllegalArgumentException("Mockerror")).when(
                StaticService.class, "say", Matchers.eq(sayString));

        /* Test */
        StaticService.say(sayString);

        /* Asserts */
        fail("Expected exception not thrown.");
    }

    @Test(expected = IllegalArgumentException.class)
    public void testMockStatic2() throws Exception {
        /* Setup */
        String sayString = "hello";
        PowerMockito.mockStatic(StaticService.class);

        /* Mocks */
        PowerMockito.doThrow(new IllegalArgumentException("Mockerror")).when(
                StaticService.class);
        StaticService.say(Matchers.eq(sayString));

        /* Test */
        StaticService.say(sayString);

        /* Asserts */
        fail("Expected exception not thrown.");
    }

} 
```

**静态服务.java**

```
public class StaticService {
    public static void say(String arg) {
        System.out.println("Say: " + arg);
    }
} 
```

**测试通过：**

![在此处输入图像描述](../Images/d43ac7c2b1c1d8599d79df6963cc0f94.png)

# html - 如何在 IE8 中保留链接颜色

> ID：14954325
> 
> 赞同：0
> 
> 时间：2013-02-19T09:42:01.583
> 
> 标签：html, css, internet-explorer-8

在使用 IE6 访问我们的应用程序中的 href 链接时，颜色发生了变化。即使在访问了其他菜单/页面并返回到旧页面后，访问过的链接更改颜色仍会保留。

例子：

一世。访问了具有链接 1、2、3、4、5 的页面 A。

ii. 单击链接 1、2、3 并更改其颜色。

iii. 访问页面 B 并再次访问页面 A。

IE6：四。已访问的链接 1、2、3 颜色被保留。即链接1、2、3的颜色与链接4、5不同。

IE8：四。已访问的链接 1、2、3 颜色不保留。即链接1、2、3的颜色与链接4、5相同。

我们希望在 IE8 中保留颜色。请建议如何处理。

更多信息：需要具有类似于 Google 网站的行为。请建议。

*   在谷歌中：
    1.  搜索一些东西并点击几个链接
    2.  关闭窗口/选项卡或访问其他页面
    3.  再次打开新窗口/标签并搜索相同，已访问的页面将显示为紫色。

# ios - performSegueWithIdentifier：发件人不在设备上工作

> ID：14954328
> 
> 赞同：0
> 
> 时间：2013-02-19T09:42:26.797
> 
> 标签：ios, objective-c, storyboard, segue

我有一个情节提要，它的 ViewController`DefaultViewController`既不是`UITabBarController`也不是“UINavigationController”。它决定即将到来的控制器应该是注册屏幕还是主屏幕。

我有两个源自它的 segues，一个指向`UINavigationController' that does registration while other moves to 'UITabBarController`它是默认的主屏幕。

`DefaultViewController`调用在`ViewDidAppear:`方法中执行以下操作

```
NSString *theController = nil;
if ([AppState sharedAppState].currentUserState == Registered) {
    theController = @"HomeSegue";
} else {
    theController = @"RegSegue";
}

[self performSegueWithIdentifier:theController sender:self]; 
```

segue 在 iOS Simulator 5.1.1 和 6.0 上表现良好。但是，当我在装有 iOS 5.1.1 的 iPhone 或装有 iOS 6.0 的 iPhone 上运行代码时，什么也没有发生。该视图与`DefaultViewController`s 视图保持一致。

**编辑** 我创建了全新的项目并且在那里工作正常但是当我复制旧的故事板内容和类时，问题重新出现.. !!

** 编辑 2 ** 我删除了与 UINavigationController 关联的 RootViewController 并添加了一个带有标签的简单 UIViewController ，它工作正常。如果我将我的 Custom RegistrationController 添加为根控制器，则不会执行 segue。

PS 我的自定义`RegistrationController`在其中添加了另一个控制器作为 childViewController。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:22:03.247

奇怪..非常非常奇怪..但这就是我让它工作的方式。

那`RegistrationController`是 navigationController 的一部分，创建了一个实例，`RegInfoController`作为它的子视图和子控制器添加。

我只是覆盖了`awakeFromNib`那个 childController 的方法，它就开始工作了。

为了确认这种情况，我删除了该方法并且它停止了工作..

# php - 将 OAUTH 访问令牌从移动客户端传递到服务器

> ID：14954332
> 
> 赞同：1
> 
> 时间：2013-02-19T09:42:38.750
> 
> 标签：php, security, rest, mobile, oauth-2.0

我为多个移动应用程序的 REST API 启用了 PHP 中的 Oauth 协议。

一旦我将访问令牌从服务器传递到客户端，客户端就可以将其存储在任何地方以供进一步的服务器调用。这些令牌值有多安全，因为任何人都可以轻松破解令牌或客户端上的任何存储值。

此外，使用访问令牌从客户端到服务器进行 REST 调用的最佳方法是什么？它应该始终是 POST 还是即使使用 GET 也可以保护访问令牌？我只是想知道避免安全攻击的最佳方法是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:52:20.247

OAut 本身是安全的，如果您仍然担心，您可以执行以下操作。使用 SSL 并使其成为安全套接字。您还可以加密将在客户端解密的令牌。

服务器和客户端需要遵循相同的加密和解密算法。

我想这会减少你的噩梦。

# jquery - 浏览器调整大小后如何使JQuery对话框居中

> ID：14954339
> 
> 赞同：1
> 
> 时间：2013-02-19T09:42:51.413
> 
> 标签：jquery, jquery-ui, jquery-ui-dialog

**我正在尝试做的事情：** 当我的浏览器最大化并打开 JQuery 对话框时，它会按预期在中心打开它。但是，当我将浏览器的大小调整为略小于对话框的宽度然后打开对话框时，它总是左对齐打开。右边有一大块空间。

**代码**

```
$(document).ready(function() { 
     var dlg = '';

     dlg=$('#ticketDetails').dialog({
        title: 'TICKET DETAILS',
        resizable: true,
        autoOpen:false,
        modal: true,
        show:'fast',
        hide: 'fade',
        buttons:{ "Close": function() { dlg.dialog("close"); } },
        close: function(e, i) { dlg.hide(); },
        width:1250

     }); 
```

**我试过的：**

```
$(window).resize(function() {
    $('#ticketDetails').dialog({position: ['center', 'center']});
}); 
```

我已经阅读了一些答案并尝试了一些变化，但似乎没有任何效果..

**更多的信息：**

[http://jsfiddle.net/39GqM/479/](http://jsfiddle.net/39GqM/479/)

如果您将中间的栏一直滚动到左侧然后运行它，您会注意到要查看右侧的对话框内容，您需要将其拖动到标题栏的左侧，然后滚动条才会出现。

**以下屏幕是浏览器全屏时。如您所见，内容非常适合：** ![在此处输入图像描述](../Images/61075d1ae8f3c2dfc62323be5d99af4f.png)

**现在页面已调整大小，然后我打开了对话框。如您所见，它是左对齐的。没有滚动条，获得滚动条的唯一方法是向左拖动对话框（通过出现在标题上的光标）以显示滚动条。这是查看右侧内容（段落/标题开头）的唯一方法。** ![在此处输入图像描述](../Images/4d37d0825ef65f8653c067a598fa9492.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T19:12:41.590

如果您支持 IE8 及更低版本，我强烈建议使用 css 媒体查询来实现这一点，并使用 polyfill 作为后备。

这是我在 jsfiddle 上的解决方案：

[http://jsfiddle.net/39GqM/505/](http://jsfiddle.net/39GqM/505/)

```
 .ui-dialog {
      min-width: 80%;  
      width: 80% !important;
   } 
   @media only screen and (min-width: 1200px) {
     .ui-dialog {
        width: 1000px !important;
    } 
   }

   @media only screen and (max-width: 1000px) {
    .ui-dialog {
        min-width: 80%;  
        width: 80% !important;
    }
  } 
```

因此，您将定位**.ui-dialog**类，因为 jQuery-UI 向 DOM 添加了一堆标记，并且我将 !important 规则强制覆盖。调用小部件时不要添加对话框宽度，让 CSS 处理。

```
$("#dialog").dialog();

$(window).resize(function() {
    $("#dialog").dialog("option", "position", "center");
}); 
```

对于较旧的浏览器后备，请检查 github 上的此 repo 并在窗口中搜索媒体查询： [https ://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-browser-Polyfills](https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-browser-Polyfills)

实现 polyfill 通常非常简单，但我认为这应该是一个不同的问题。希望能帮助到你。

干杯

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T02:19:39.840

我在对话框选项内的创建语句中做到了这一点。它把我的对话框放在屏幕中间。

```
create : function() {
             $(window).resize(function() {
                $("#myDialog").parent().position({ 
                                    my : "center",
                                    at : "center",
                                    of : window
                                    });
             });
             $(window).scroll(function() {
                $("#myDialog").parent().position({
                                   my : "center",
                                   at : "center",
                                   of : window
                                   });
             });
}, 
```

在对话结束时，我链接了定位功能。

```
$("#myDialog").dialog({

 // do stuff
 // also add the positioning with "create"

}).parent().position({
     my : "center center",
     at : "center center+20",
     of : window
 }); 
```

小提琴：http: [//jsfiddle.net/djwave28/yf8fR/4/](http://jsfiddle.net/djwave28/yf8fR/4/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:59:15.173

你有没有尝试过 ：

```
$(window).resize(function() {
    $("#ticketDetails").dialog("option", "position", "center");
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T09:59:38.877

**编辑**

解决方案是将[jQuery](http://jquery.com/)升级到 1.8.6 或更高版本 + [jQuery UI](http://jqueryui.com/)到 1.9.2 版本。显然它是一个错误，并在较新的版本中得到修复。

升级 jQuery 的相同示例：http: [//jsfiddle.net/39GqM/490/](http://jsfiddle.net/39GqM/490/)

你应该试试这个

```
$(window).resize(function() {
    $("#dialog").dialog("option", "position", "center");
}); 
```

[-> 示例 <--](http://jsfiddle.net/39GqM/)

相关问题 [如何在调整浏览器大小时自动居中 jQuery UI 对话框？](https://stackoverflow.com/questions/3060146/how-to-auto-center-jquery-ui-dialog-when-resizing-browser)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-19T09:30:57.697

问题是由 jQueryUI在没有足够的可用空间时试图用对话框[定位yourfixed 引起的 -](http://api.jqueryui.com/dialog/#option-position)[碰撞逻辑](http://api.jqueryui.com/position/)。a的`collision`默认`.dialog()`值为 = *fit*。

> “fit”：将元素从窗口边缘移开。

我尝试了其他碰撞选项：*flip、flipfit、none*但是因为`width="1000px"`jQueryUI 找不到对话框的好位置。

通过为对话框提供动态宽度并绑定[`window.resize()`](http://api.jquery.com/resize/)事件，对话框将始终为文档宽度的 80%，并始终重新定位到中心。[**看演示**](http://jsfiddle.net/WW8Px/1/)

**CSS**

```
.width-80 {
  width:80% !important;
} 
```

**JavaScript**

```
var $dialog = $('#dialog');
$dialog.dialog({ dialogClass: 'width-80' });

$(window).resize(function() {
    $dialog.dialog('option', 'position', 'center');
}); 
```

**HTML**

```
<div id="dialog" title="Basic dialog">
    <p>This is the default dialog which is useful for displaying information. The dialog window can be moved, resized and closed with the 'x' icon.</p>
</div> 
```

# magento-1.7 - Magento 1.7 中的多个商店。不指向新网站

> ID：14954340
> 
> 赞同：0
> 
> 时间：2013-02-19T09:42:51.877
> 
> 标签：magento-1.7

Magento 1.7 中的多个商店。我在设置时遇到问题。我已经通过配置设置了两个网站、商店、商店视图等以及 web 配置中的 url。我已将域上的 A 记录更改为指向 magento 网站，并且按照指示更改了 index.php，但是当我输入我的第二个网站地址时，如果我更改Magento中的默认网站可以正常工作！我离得不远，但我现在很挣扎，有什么建议吗？有人告诉我，在 1.7 中，我只需要更改 index.php 即可使其正常工作 Andrew

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T16:14:54.400

您必须将商店代码或网站代码提供给服务器变量 $_SERVER['MAGE_RUN_CODE'] 或作为 index.php 文件中 Mage::run() 函数的第一个参数，例如，如果站点的每个子域都有一个商店，您可以通过以下方式完成此操作：

```
$storeOrWebsiteCode = strtok($_SERVER['HTTP_HOST'],'.');
$_SERVER['MAGE_RUN_CODE'] = $storeOrWebsiteCode; 
```

或者

```
$storeOrWebsiteCode = strtok($_SERVER['HTTP_HOST'],'.');
Mage::run($storeOrWebsiteCode, 'website');
or
Mage::run($storeOrWebsiteCode, 'store'); 
```

# regex - Perl：编写正则表达式

> ID：14954343
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:07.710
> 
> 标签：regex, perl

我在创建正则表达式时遇到问题。

我有一个看起来像这样的大列表：

```
4912345671;Test1;489
4912345686;Test2;953
4912345699;Test3;89 
```

现在让我们说这是一个被拆分的列表数组，所以它就像

```
$line[0] = Number
$line[1] = Text
$line[2] = Length 
```

现在问题是我有另一个列表，如下所示：

```
49123456-0;0-99;Company 1;Street;Number 1;Post Code;City 
```

不，我想做的是查看第一个列表，如果它以数字开头，直到 - 所以在这种情况下：49123456

现在，如果它以该数字开头，它应该检查下一个数字是否在区域 0-99 之间（在这种情况下），因此所有数字从：49123456-0 到 99（不包括 01 - 09）：

```
491234560
4912345610
4912345611
...
4912345620
4912345621
and so on... 
```

同样重要的是它不是从 01 开始的。如果数字在 0 - 99 范围内

它包括 0，但不包括 01、02、03、04、05、06、07、08、09，所以它从 10 开始，然后一直到 99。如果它的 0 - 999 也是一样，那么它包括 0，但从100。

我想要做的是稍后有一个列表，它看起来像第一个列表，并包含一个带有电话区号的列，所以在这种情况下它看起来像这样：

```
4912345671;Test1;489;49123456
4912345686;Test2;953;49123456
4912345699;Test3;89;49123456 
```

我希望有人能帮助我。非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:11:47.297

您不需要正则表达式。用于`substr`删除这样的字符串的最后两个字符

```
use strict;
use warnings;

while (<DATA>) {
  chomp;
  my @fields = split /;/;
  push @fields, $fields[0];
  substr $fields[-1], -2, 2, '';
  print join(';', @fields), "\n";
}

__DATA__
4912345671;Test1;489
4912345686;Test2;953
4912345699;Test3;89 
```

**输出**

```
4912345671;Test1;489;49123456
4912345686;Test2;953;49123456
4912345699;Test3;89;49123456 
```

# jquery - 加载资源失败 - 未捕获类型错误：对象 [object Object] 没有方法“adGallery”

> ID：14954345
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:16.260
> 
> 标签：jquery, css, gallery

两天后，我试图在我的网站上运行 jquery 插件“ [ad-gallery](http://coffeescripter.com/code/ad-gallery/) ”，但无济于事。我声明我是 javascript 和 css 语言的新手，所以错误也可能很愚蠢。

有趣的是该插件在本地运行良好，但是一旦在线上传（我在不同的主机上尝试过）就会出现以下错误：

```
Failed to load resource http://sp1der.altervista.org/examples/js/ad-gallery.min.js
Uncaught TypeError: Object [object Object] has no method 'adGallery' index2.html:41 
```

我检查了项目网站以寻找相同的错误，但这似乎只是我的问题。

这是我的索引页：[http ://sp1der.altervista.org/examples/index2.html](http://sp1der.altervista.org/examples/index2.html)

你有什么主意吗？感谢您的回答

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:45:14.140

我在日志中的所有错误都与`jQuery`未加载有关。

至少这一行必须取消注释：

```
<!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>--> 
```

# spring - 如何在春季安全中删除记住我的cookie

> ID：14954346
> 
> 赞同：2
> 
> 时间：2013-02-19T09:43:21.303
> 
> 标签：spring, spring-security, remember-me

我想知道在使用 spring 记住我服务时如何删除记住我的 cookie。我正在使用默认的记住我的 cookie 名称我在春季遇到以下文档来删除 JSESSION。

```
 <http>
      <logout delete-cookies="JSESSIONID" />
    </http> 
```

但是是否有可能做类似下面的事情来删除记住我的cookie

我没有注销控制器，并且在 spring xml 中有以下配置。

```
 <http use-expressions="true">
    <!-- Authentication policy -->
    <form-login login-page="/signin" login-processing-url="/signin/authenticate" authentication-failure-url="/signin?param.error=bad_credentials" />
    <logout logout-url="/signout" delete-cookies="JSESSIONID" />
            .................... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:01:23.927

我认为您不必手动删除记住我的 cookie。`AbstractRememberMeServices`实现了接口，因此`LogoutHandler`它将接收来自 的回调`LogoutFilter`，并确保在注销时取消记住我的 cookie。

# oracle - 如何处理DBGrid控件？

> ID：14954350
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:27.907
> 
> 标签：oracle, vb6

```
 SQL> desc admin
                 Name Null? Type
           -------------------------------------
                NAME VARCHAR2(20)
                PRIVILEDGE VARCHAR2(20)
                CODE NUMBER(38)
                PASS VARCHAR2(20)

              Private Sub Form_Load()
              Set RS = New ADODB.Recordset
              If RS.State = 1 Then RS.Close
              opencn
              RS.Open "ADMIN", CN, adOpenDynamic, adLockOptimistic, adCmdTable
              Set DBGrid1.DataSource = RS
RS.Close
End Sub 
```

我得到的错误

```
*Error 430 at line : Set DBGrid1.DataSource = RS
Class does not support automation or does not support expected interface* 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T14:49:31.023

数据绑定网格 (DBGrid) 用于 DAO，而 DataGrid 用于 ADO。

在工具箱中：右击，选择'Components...'，并确保`'Microsoft DataGrid Control 6.0 (SP6) (OLEDB)'`被选中，**而不是** `'Microsoft Data Bound Grid Control 5.0 (SP3)'`.

# ios - 如何正确设置 UITableViewCell 的背景？

> ID：14954353
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:33.233
> 
> 标签：ios, uitableview

我将 UITableViewCell 的颜色设置如下：

```
UIColor *RedCell = [UIColor colorWithRed:(199/255.0)  green:(0/255.0)  blue:(39/255.0)  alpha:0.2];
cell.textLabel.backgroundColor = [UIColor clearColor];
cell.contentView.backgroundColor = RedCell; 
```

但是，您可以在屏幕截图中看到它正在蔓延到单元格的边界之外。设置背景的适当方法是什么，这样就不会发生这种情况？

![UITableViewCell](../Images/16055c1992136a4d5921b90e95bfb7a2.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:54:20.047

对于分组的表格视图单元格，您应该在背景视图上设置背景颜色，而不是内容视图（我假设它是清晰的背景）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:02:11.953

根据文档尝试 cell.backgroundColor

[http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/TableViewCells/TableViewCells.html#//apple_ref/doc/uid/TP40007451-CH7-SW1](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/TableViewCells/TableViewCells.html#//apple_ref/doc/uid/TP40007451-CH7-SW1)

你不应该修改 contentView, exceptz 来添加子视图。要全面了解 TableViews 的工作原理，请阅读提供的链接。相信我，值得你花时间。

# python - numpy相关系数

> ID：14954354
> 
> 赞同：-1
> 
> 时间：2013-02-19T09:43:32.097
> 
> 标签：python, numpy

1）如何使用python代码找到以下数据集的相关性？

```
T = [1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1]
P = [ 3480\. 7080\. 10440\. 13200\. 16800\. 20400\. 23880\. 27480\. 30840\. 38040\. 41520\. 44880\. 48480\. 52080\. 55680\. 59280\. 62520\. 66120\. 67580\. 69620\. 69621.] 
```

2）**输入是一个csv文件：

2,M,17748,60,60,21768,1460.0,7,2011-04-02 00:00:00,0,B,5,2011-07-22 03:03:00,52.0,1,1992, 2011,2011,22,2,7,0,3,4,21768,1992-07-05 00:00:00,26,21768,W,50f38a469cf9c253d600000c,21768 1,M,18002,3,3,1746, 3480.0,2,2011-04-07 00:00:00,0,B,5,2011-07-25 01:03:00,123.0,1,1985,2011,2011,25,7,7,0,1, 4,1746,1985-02-05 00:00:00,3,1746,D,50f38a469cf9c253d600000d,1746 1,M,18003,3,3,2239,3600.0,1,2011-04-06 00:00:00 ,0,B,29,2011-07-25 01:03:00,89.0,1,1972,2011,2011,25,6,7,0,1,4,2239,1972-01-29 00:00 :00,3,2239,D,50f38a469cf9c253d600000e,2239 1,F,18004,3,3,1965,3360.0,1,2011-04-06 00:00:00,0,B,28,2011-07-25 01:03:00,76.0,1,1955,2011,2011,25,6,7,0,1,4,1965,1955-01-28 00:00:00,3,1965,D,50f38a469cf9c253d600000f,1965 **

我写：

```
counts_W=defaultdict(int) 
counts_D=defaultdict(int) 
for row in reader: 
if(row[28]=='W'):
counts_W[row[5]] += 1
Amt_Wtotal += float(row[6]) 
dataW.append(Amt_Wtotal) 
else: 
counts_D[row[5]] += 1
Amt_Dtotal += float(row[6])
dataD.append(Amt_Dtotal) 
Withdraw_amount = array(counts_W.values())
Withdraw_frequency = array(dataW)
Deposit_amount = array(counts_D.values())
Deposit_frequency = array(dataD) 
```

这给出了一个输出：

取款==== defaultdict(, {'21768': 1}) [1460.0] count== 1 存款===== defaultdict(, {'2239': 1, '1700': 1, '2458': 1 , '2056': 1, '2376': 1, '1965': 1, '1974': 1, '2425': 1, '21768': 1, '2069': 1, '2404': 1, ' 2402': 1, '1763': 1, '1762': 1, '1910': 1, '1746': 1, '10036': 1, '1903': 1, '2445': 1, '1770' : 1}) [3480.0, 7080.0, 10440.0, 13200.0, 16800.0, 20400.0, 23880.0, 27480.0, 30840.0, 38040.0, 41520.0, 44880.0, 48480.0, 52080.0, 55680.0, 59280.0, 62520.0, 66120.0, 67580.0, 69620.0] count== 20

如何将偶数追加到字典中并访问它以查找相关性

3）我怎样才能找到一年中每个月的频率和金额

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:06:16.647

为了计算两个系列数据之间的相关性，我使用`scipy.stats`. 我建议你调查这个包。

从[文档](http://docs.scipy.org/doc/scipy/reference/stats.html)：

```
pearsonr(x, y) #Pearson correlation coefficient and the p-value for testing
spearmanr(a[, b, axis]) #Spearman rank-order correlation coefficient and the p-value
pointbiserialr(x, y) #Point biserial correlation coefficient and the associated p-value.
kendalltau(x, y[, initial_lexsort]) #Calculates Kendall’s tau, a correlation measure for ordinal data. 
```

还有频率相关的方法：

```
cumfreq(a[, numbins, defaultreallimits, weights])   #cumulative frequency histogram
relfreq(a[, numbins, defaultreallimits, weights])   #relative frequency histogram 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-27T06:06:36.227

```
T = np.array([1 ,1 ,1 ,1 ,1, 1, 1 ,1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,1, 1, 1])
P = np.array([ 3480, 7080, 10440, 13200, 16800, 20400, 23880, 27480, 30840, 38040, 
    41520, 44880, 48480, 52080, 55680, 59280, 62520, 66120, 67580, 69620, 69621])
print (T.shape)
print (P.shape)
t_p = np.stack((T,P))
print (np.corrcoef(t_p)) 
```

# batch-file - 为什么我的 CMD 批处理 IF 条件不起作用？

> ID：14954356
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:35.907
> 
> 标签：batch-file, cmd

在我的批处理脚本中，我有一个变量

```
SET VAR=SVI 
```

和一个 IF 条件

```
IF "%VAR%"=="SVI" (
   ECHO HELLO
) 
```

那行不通！

如果我`ECHO IF "%VAR%"=="SVI"`在语句之前`IF`说它会输出`"SVI"=="SVI"`，但它仍然拒绝进入语句和输出`HELLO`。

会是什么呢？我真的不知道！

问候，

安德鲁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T11:53:25.873

也许你的括号不匹配？？？尝试删除它们，因为您的示例不需要它们。IF "%VAR%"=="SVI" ECHO HELLO 或做不区分大小写的检查 IF /I "%VAR%"=="SVI" ECHO HELLO

# cgi - 带有 lighttpd 的 CGI-LUA：500 内部服务器错误

> ID：14954358
> 
> 赞同：1
> 
> 时间：2013-02-19T09:43:41.850
> 
> 标签：cgi, embedded-linux, lighttpd

我在嵌入式设备上使用 lighttpd 运行 CGI-LUA 脚本。Web 客户端每 3 秒尝试通过 POST 三个脚本运行。
大多数情况下它都可以工作，但问题是我有时会收到 500 个内部服务器错误，比如服务器无法运行脚本，尽管没有任何改变，在“顶部”我看到 CPU 大部分时间都是空闲的时间。
我是网络新手，有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-30T21:18:18.150

如果我试图解决这个问题，我将从： 1) 查看 /var/log/lighttpd/error.log 以查看发生故障时 lighttpd 报告的内容。2) 编写一个非常简单的 CGI-LUA 脚本，它可以做一些可追踪的事情，比如触摸一个以当前 unixtime 为名称的文件，然后每 3 秒点击一次，而不是你的脚本。这将帮助您确定问题出在 CGI-LUA 中还是在您的脚本中。3) 在循环中重复在 CGI-LUA 之外运行你的脚本，看看它是否会失败。

# android - 如何在android中显示.jpg图像？

> ID：14954360
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:49.933
> 
> 标签：android, web-services, ksoap2, file-format, android-file

我正在使用 .net Web 服务，并且我有文件夹和文件的列表。我成功检索了文件列表（.jpg 图像、.pdf、.TIF），但任何人都可以告诉我如何打开 .jpg、.pdf、.tif 或我从 Web 服务获得的其他文件格式。是否有任何特定代码可以打开特定格式，或者我们可以使用路径 (/) 打开该特定文件？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:51:45.050

如果您需要下载并显示图像，请查看我在[这篇](https://stackoverflow.com/questions/14945948/downloaded-image-appears-very-blurry/14946081#14946081)文章中的回答，这可能就是您要查找的内容。在 Android 中显示图像的常见扩展名是 .png 和 .jpeg，您将无法使用 .pdf 文件显示 .pdf 文件`ImageView`。您还可以使用我在答案中提到的方法`AsyncTask`在后台执行下载，然后更新您的 UI 线程

# excel - 如何在 Excel 中迭代选定的行？

> ID：14954364
> 
> 赞同：0
> 
> 时间：2013-02-19T09:43:59.593
> 
> 标签：excel, vba

```
 For Each r In Selection.Rows
        For Each c In r
            sum = sum + 1
        Next c
    Next r 
```

计算行数但不计算单元格

```
 For Each r In Selection.Rows
        For Each c In r
            msgbox "val = " & c.Value
        Next c
    Next r 
```

因“类型不匹配”而失败。摔了什么？选择对象手册在哪里？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:53:02.333

因为您没有明确说明要迭代的内容，`For Each c in r`所以返回了多个单元格范围。

如果您打破`Sum = ...`并查看`c.Address`监视窗口，您可以看到这一点。

要修复，试试这个

```
Dim c As Range, r As Range
Dim Sum As Long
For Each r In Selection.Rows
    For Each c In r.Cells
        Sum = Sum + 1
    Next c
Next r 
```

甚至这个

```
Dim c As Range
Dim Sum As Long
For Each c In Selection.Cells
    Sum = Sum + 1
Next c 
```

# java - 在 Web 应用程序中使用全局 Service 和 *PortType 类？

> ID：14954368
> 
> 赞同：2
> 
> 时间：2013-02-19T09:44:25.780
> 
> 标签：java, web-services, jakarta-ee, jax-ws

我使用 JAXWS 生成了一个 Web 服务客户端。我注意到在使用 JAXWS 客户端时，实例化`Service`和`*PortType`类需要一些时间。因此，每次需要发出请求时都实例化`Service`和类并不是一个好主意。`*PortType`

*   `Service`将和`*PortType`类设置为对整个 Web 应用程序来说是全局的是否安全？它的优点和缺点是什么？
*   请求/响应是否有可能切换到不同的请求/响应？
*   当你在服务中调用一个方法时，它会创建一个新的连接吗？还是只是重用旧连接？
*   如果它只是重​​用旧连接，那么可能存在一些线程问题，对吗？

同样给出代码，`port.calculate(requestParam)`其中端口是全局变量，如果多个线程同时调用该`calculate()`方法会发生什么？每个线程会为每个计算调用创建一个新线程吗？还是会等待每个呼叫完成后再进行下一个呼叫？来电将如何处理？我只是担心我可能会混淆一些请求和响应。

先谢谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:32:14.800

你担心是对的。端口不是线程安全的，但是创建时间最长的服务是线程安全的。没有这方面的官方文档，但这里有说明[，](https://cwiki.apache.org/CXF/faq.html#FAQ-AreJAXWSclientproxiesthreadsafe%253F)在这个[论坛帖子](http://www.java.net/node/677162)中，一个实验已经完成，显示同一端口上的多个请求会导致乱码请求。推荐的方法是创建一个服务和一个端口对象池，您可以从中签出以发出请求。另一种选择是使用 CXF，它确实使他们的客户端对象线程安全，并且在他们的文档中更明确地说明了如何跨线程共享。

# java - 用于 Java 的 UML 绘图 API

> ID：14954373
> 
> 赞同：4
> 
> 时间：2013-02-19T09:44:42.397
> 
> 标签：java, drawing, uml, plantuml

我正在寻找可以绘制 UML 类图并将它们呈现在 JPanel（或任何其他合适的 UI 实体）中以用于窗口应用程序的 API。它必须嵌入到应用程序中，所以我不是在寻找可以基于 java 文件或某些插件生成 UML 的独立工具。我需要可以用于创建类图的实际 jar，以便我可以在窗口应用程序中使用它们。我研究了几个，但我发现的所有来源要么是独立程序，要么不能在应用程序中实现，需要将用户的注意力从应用程序上移开。我正在使用 NetBeans IDE，但我也安装了 Eclipse。

解决了：

我使用了 PlantUML API。我根据 PlantUML 输入语言语法手动输入字符串，然后使用简单直接的 generateImage 方法填充字节数组，然后将其转换为图像并将其保存到我的桌面。这符合我的要求，因为它让用户专注于我的应用程序和我的应用程序。或者，可以在窗口或其他东西上生成缓冲图像。PlantUML API 需要导入到应用程序包中。这段代码在我的桌面上创建了一个图像（不要忘记更改目录路径），其中包含一个用于 Person 类的 UML 类图像：

```
public class PaintUML {

/**
 * @param args the command line arguments
 */
public static void main(String[] args) throws IOException, InterruptedException {
    // TODO code application logic here
    ByteArrayOutputStream bous = new ByteArrayOutputStream();
    String source = "@startuml\n";
    source += "class Person {\n";
    source += "String name\n";
    source += "int age\n";
    source += "int money\n";
    source += "String getName()\n";
    source += "void setName(String name)\n";
    source += "}\n";
    source += "@enduml\n";

    SourceStringReader reader = new SourceStringReader(source);
    // Write the first image to "png"
    String desc = reader.generateImage(bous);
    // Return a null string if no generation
    byte [] data = bous.toByteArray();

    InputStream in = new ByteArrayInputStream(data);
    BufferedImage convImg = ImageIO.read(in);

    ImageIO.write(convImg, "png", new File("C:\\Users\\Aaron\\Desktop\\image.png"));

    System.out.print(desc);
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T10:34:04.520

你见过PlantUML吗？

[http://plantuml.sourceforge.net](http://plantuml.sourceforge.net)

它是开源的，所以你可以选择一些适合的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:33:23.133

看看[Eclipse UML2 API](http://wiki.eclipse.org/MDT-UML2)和[Eclipse Papyrus](http://eclipse.org/papyrus/)。他们应该提供您正在搜索的功能。对于 JPanel 中的绘图支持，您可能需要做一些额外的工作。

Eclipse UML2 API 为 UML2 元模型提供了一个 Java 接口。Papyrus 是一组允许为 UML 模型构建图表和图形编辑器的组件。

# c# - 忽略“targeting 'xxx' is not compatible with the project's target”警告

> ID：14954375
> 
> 赞同：0
> 
> 时间：2013-02-19T09:44:54.790
> 
> 标签：c#, .net, visual-studio-2010

我为我的项目创建了一个安装程序，并包含了一个特殊的 .dll 文件，该文件需要复制到目标机器上。编译器显示以下警告：

以“未知”为目标的文件“[文件名]”与项目的目标平台“x86”不兼容

我不关心该 dll 的目标平台，因为我需要该文件用于其他目的。另外，我需要让这个文件“保持不变”，这样我就不能改变它的目标平台。所以我需要一种方法来忽略这个警告。我尝试使用#pragma 来完成此操作，但找不到此警告的警告编号。我尝试使用“输出”窗口（构建）并使用“显示错误帮助”按钮找到它，但没有运气。

有什么建议么？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:57:29.170

您可以编辑项目文件并添加此属性组和设置以禁用警告：

```
<PropertyGroup>
    <ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>None</ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>
</PropertyGroup> 
```

# linux - 解析 iostat 输出

> ID：14954376
> 
> 赞同：1
> 
> 时间：2013-02-19T09:44:55.563
> 
> 标签：linux, parsing, sed, iostat

iostat 的输出是这样的：

```
Device:         rrqm/s   wrqm/s   r/s   w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await  svctm  %util
sda               0.00     2.40  0.01  3.92     0.16    25.28    12.95     0.05   12.81   6.58   2.58
sda1              0.00     0.00  0.00  0.00     0.00     0.00    25.86     0.00    6.57   5.38   0.00
sda2              0.00     2.40  0.01  3.92     0.16    25.28    12.95     0.05   12.81   6.58   2.58
sdb               0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00   30.37  20.16   0.00
VG00-LogVol00
               0.00     0.00  0.00  0.70     0.02     2.79     8.04     0.02   23.72   3.71   0.26
VG00-LogVol04
               0.00     0.00  0.00  4.31     0.03    17.26     8.01     0.07   16.74   4.32   1.87
VG00-LogVol03
               0.00     0.00  0.00  0.24     0.00     0.98     8.01     0.01   21.37   8.52   0.21
VG00-LogVol08
               0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00   14.03   2.31   0.00
VG00-LogVol01
               0.00     0.00  0.00  0.00     0.00     0.00     8.03     0.00  127.25   1.17   0.00
VG00-LogVol07
               0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00    2.42   1.72   0.00
VG00-LogVol06
               0.00     0.00  0.00  0.80     0.01     3.21     8.02     0.01   10.28   4.89   0.39
VG00-LogVol02
               0.00     0.00  0.01  0.26     0.10     1.04     8.52     0.01   52.88   6.01   0.16
VG00-LogVol05
               0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00    3.73   0.33   0.00 
```

我尝试解析输出，但是当我到达“VG00-LogVol00”、“VG00-LogVol04”时，我在解析文本时遇到了问题。有没有办法使用 sed 删除多余的行？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:54:10.763

如果 VG00 总是出现在分割线上，你可以这样做：

```
sed '/VG00/ { N; s/\n// }' 
```

使用复制/粘贴的文本，我有以下对齐列（GNU sed 和 BSD sed）：

```
sed '/VG00/ { N; s/\n//; s/ \{5,\}/     /; }' 
```

输出：

```
Device:         rrqm/s   wrqm/s   r/s   w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await  svctm  %util
sda               0.00     2.40  0.01  3.92     0.16    25.28    12.95     0.05   12.81   6.58   2.58
sda1              0.00     0.00  0.00  0.00     0.00     0.00    25.86     0.00    6.57   5.38   0.00
sda2              0.00     2.40  0.01  3.92     0.16    25.28    12.95     0.05   12.81   6.58   2.58
sdb               0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00   30.37  20.16   0.00
VG00-LogVol00     0.00     0.00  0.00  0.70     0.02     2.79     8.04     0.02   23.72   3.71   0.26
VG00-LogVol04     0.00     0.00  0.00  4.31     0.03    17.26     8.01     0.07   16.74   4.32   1.87
VG00-LogVol03     0.00     0.00  0.00  0.24     0.00     0.98     8.01     0.01   21.37   8.52   0.21
VG00-LogVol08     0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00   14.03   2.31   0.00
VG00-LogVol01     0.00     0.00  0.00  0.00     0.00     0.00     8.03     0.00  127.25   1.17   0.00
VG00-LogVol07     0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00    2.42   1.72   0.00
VG00-LogVol06     0.00     0.00  0.00  0.80     0.01     3.21     8.02     0.01   10.28   4.89   0.39
VG00-LogVol02     0.00     0.00  0.01  0.26     0.10     1.04     8.52     0.01   52.88   6.01   0.16
VG00-LogVol05     0.00     0.00  0.00  0.00     0.00     0.00     8.00     0.00    3.73   0.33   0.00 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:59:38.187

我会去

```
sed -e '/^\([^[:space:]]\+\)$/{N;s/\n//;}' 
```

假设设备行没有空格。

但我也会研究影响 iostat 并使其产生不同输出的可能性。不过，我不知道那里的选项。

# c# - 如何在.net中处理异常

> ID：14954378
> 
> 赞同：0
> 
> 时间：2013-02-19T09:45:00.147
> 
> 标签：c#

我正在尝试处理异常并将该异常保存在数据库中

```
Function1()  
{  
    try  
    {  
        for(int i=0;i<dt.rows.count;i++)  
        {  
            Function2();  
        }  
    }  
    catch(exception ex)  
    {  
        saveInDB(ex.message.tostring(),id);  
    }  

}  

Function2()  
{  
    try  
    {  
        function3()  
    }  
    catch(exception ex)  
    {  
        throw ex;  
    }  
}  

Function3()  
{  
    try  
    {  
        function4()  
    }  
    catch(exception ex)  
    {  
        throw ex;  
    }  
}  

Function4()  
{  
    try  
    {  
        code;  
    }  
    catch(exception ex)  
    {  
        throw ex;  
    }  
} 
```

假设我在方法 4 中遇到异常，那么它将把它扔给 function3->Function2->function1，然后 function1 将在数据库中写入异常。

但在数据库中写入异常后，我想继续循环。

那我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:48:03.607

> 但是在数据库中写入异常后，我想继续循环

这只能通过在 for 循环中放置一个（额外的）try/catch 来实现。只有在下一轮循环是独立的并且您确定不会对您的系统造成损害时，您才应该这样做。

扪心自问：出现未知错误后，我还敢将业务数据写入数据库吗？

请注意，您的代码违反了一些最佳实践：

*   `throw ex;`重置堆栈跟踪。将其替换为`throw;`
*   当 function2 - function4 中的 catch 块对异常不做任何事情时，完全删除 try/catch。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:49:23.890

您可以将`try`-`catch`放入`for`循环的主体中：

```
Function1()  
{  
    for(int i=0;i<dt.rows.count;i++)  
    {  
        try  
        {  
            Function2();  
        }  
        catch(Exception ex)  
        {  
            saveInDB(ex.message.tostring(),id);  
        }  
    }
} 
```

但是请记住，诸如保存到数据库之类的 IO 可能非常不可靠（而且速度很慢）。这反过来可能会导致在您的 中引发进一步的异常`catch`，这将破坏您的循环。

因此，最好将所有抛出的异常存储在数据结构中并立即将它们转储到数据库中。这样循环就为*每一*行运行。

```
Function1()  
{
    var errors = new LinkedList<Exception>();
    for(int i=0;i<dt.rows.count;i++)  
    {  
        try  
        {  
            Function2();  
        }  
        catch(Exception ex)  
        {  
            errors.AddLast(ex);
        }  
    }
    if(errors.Count > 0)
    {        
        // now you got all exception in errors and can dump
        // them in one block
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:51:06.460

如果您需要在循环内出现异常后继续循环，您需要添加一个`try/catch`块`within the loop`，如下所示；

```
try{

    for(int i=0; i<10; i++){
       try{
         //do your work here
       }
       catch (Exception e){
         //write to db here and then it will continue in the for loop
       }
    }

    //rest of the code
}
catch (Exception ex){
  //write to db
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T09:49:17.317

只要任何 try-catch 块抛出异常，程序就无法继续。如果您希望您的程序在异常处理后继续，我的建议是不要使用：

```
throw ex; 
```

# c# - 多编辑MVC3

> ID：14954384
> 
> 赞同：1
> 
> 时间：2013-02-19T09:45:14.607
> 
> 标签：c#, asp.net-mvc-3

我写了一个小的 MVC3 站点，让某些用户查看 Active Directory 帐户。对于审计，我们需要跟踪我们的“用户评论”。因此，我每月一次将所有内容放入 SQL 数据库中。状态为“待检查”。

这看起来像这样： ![在此处输入图像描述](../Images/a078a527d57f88fbbe956c9a3d3b601d.png)

我想有一种方法，人们可以通过检查文本框并保存它来快速批准它们。

![在此处输入图像描述](../Images/309b1cedb0d5c80260b88389d9a41dbb.png)

我该怎么办？

“ReviewState”是一个单独的对象（StateID、StateText、Description、Active）。可能性有：未检查、已批准、已拒绝、默默批准、...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:02:15.323

创建一个 ReviewState 模型和一个包含 StateId、StateText、Description 等的强类型部分视图。

您的父模型应包含 ReviewStateModel 的列表。在主视图中，循环遍历并为列表中的每个模型渲染一个部分。

您可能需要添加一个 Id，以便您可以在服务器端识别每个评论模型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:03:19.990

创建要在视图中使用的 ViewModel：

```
 public class AccountViewModel
{
    public AccountInfo Account { get; set; }
    public ReviewState Review { get; set; }
} 
```

这样你就可以`Approve`像这样添加一个复选框：

```
@Html.CheckboxFor(x => x.Active); 
```

您将让这个模型回到您的后期操作。唯一剩下的就是提取数据和更新数据库。

我在这里的属性名称可能不准确，代码是从我的脑海中编写的，但我认为你明白了

# .net - .Net 4 在 StrongNameSignatureVerification 上不断浪费一个 CPU 内核

> ID：14954387
> 
> 赞同：15
> 
> 时间：2013-02-19T09:45:21.990
> 
> 标签：.net, cpu-usage, strongname

我们有一个在 .Net 4、Windows 2008 R2 上运行的混合模式汇编应用程序 (MFC+WinForms)，它在一个线程上持续使用 100% cpu。

使用 ProcessExplorer，我们在繁忙的线程上看到以下堆栈。我们还可以看到另外 10 个线程仅使用 0.01% 的 CPU 运行 clr.dll!StrongNameSignatureVerification。

旋转线程不会阻止应用程序的其余部分运行，但会浪费 CPU 时间。

繁忙线程的堆栈跟踪如下：

```
ntoskrnl.exe!IoAcquireRemoveLockEx+0xe7
ntoskrnl.exe!memset+0x22a
ntoskrnl.exe!KeWaitForSingleObject+0x2cb
ntoskrnl.exe!KeDetachProcess+0x120d
ntoskrnl.exe!PsReturnProcessNonPagedPoolQuota+0x3a3
ntoskrnl.exe!CcSetDirtyPinnedData+0x433
mscorlib.ni.dll+0x2b066a
mscorlib.ni.dll+0x2317ac
mscorlib.ni.dll+0x2b066a
mscorlib.ni.dll+0x2317ac
mscorlib.ni.dll+0x26ccf7
mscorlib.ni.dll+0x237fc4
mscorlib.ni.dll+0x26cc3c
clr.dll+0x21bb
clr.dll!CoUninitializeEE+0xee9b
clr.dll!CoUninitializeEE+0x11463
clr.dll!CoUninitializeEE+0x114dc
clr.dll!CoUninitializeEE+0x1154b
clr.dll!StrongNameErrorInfo+0xa638
clr.dll!StrongNameSignatureVerification+0x144fb
clr.dll!StrongNameSignatureVerification+0x1457d
clr.dll!StrongNameSignatureVerification+0x14638
clr.dll!StrongNameSignatureVerification+0x146d2
clr.dll!StrongNameErrorInfo+0x9977
clr.dll!StrongNameErrorInfo+0xa5bc
clr.dll!StrongNameErrorInfo+0xa553
clr.dll!StrongNameErrorInfo+0xa517
clr.dll!StrongNameErrorInfo+0xa151
clr.dll!StrongNameErrorInfo+0x9501
clr.dll!StrongNameErrorInfo+0xad67
clr.dll!StrongNameSignatureVerification+0x164d9
ntdll.dll!RtlCreateUserProcess+0x8c
ntdll.dll!RtlCreateProcessParameters+0x4e 
```

我能找到的唯一类似帐户是在这个问题中：[clr.sll!StrongNameSignatureVerification CPU 消耗](https://stackoverflow.com/questions/7303315/clr-sllstrongnamesignatureverification-cpu-consumption)虽然线程似乎已经变冷了。

我们不签署我们的程序集并愿意信任它们，有没有办法完全禁用强名称验证？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-01T06:08:09.787

> clr.dll!StrongNameSignatureVerification+0x164d9

这并不像你认为的那样。标识符右侧的数字很重要，它给出了经过 StrongNameSignatureVerification 函数地址的已知位置的字节数。那是 91353 字节，很多。您可以从中看出的唯一一件事是它**没有**执行 StrongNameSignatureVerification，该函数没有那么长。堆栈跟踪中的其余标识符同样不可靠。

问题是调试器没有这些 DLL 的 PDB 文件。它只能发现导出函数的地址，对中间的所有函数知之甚少。如果偏移量小于大约 0x100 字节，您只能信任显示的名称。给予或接受。

您需要获取这些 PDB 文件才能了解实际情况。这需要启用 Microsoft 符号服务器。当您开始调试时，调试器将从该服务器下载所需的 PDB 文件。您现在将获得更可靠的符号，让您更好地了解真正执行的代码。

启用符号服务器很容易，MSDN 页面[在这里](http://msdn.microsoft.com/en-us/library/b8ttk8zy%28v=vs.100%29.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-02T16:18:57.233

您可以考虑使用 Visual Studio 中的分析工具来识别代码中可能导致此问题的热点。要获得对 .net CLR 的符号支持，请参阅此链接。

[http://blogs.msdn.com/b/sburke/archive/2008/01/16/configuring-visual-studio-to-debug-net-framework-source-code.aspx](http://blogs.msdn.com/b/sburke/archive/2008/01/16/configuring-visual-studio-to-debug-net-framework-source-code.aspx)

# r - 带有 googleVis 包的带注释时间线的每个日期的几个值

> ID：14954390
> 
> 赞同：1
> 
> 时间：2013-02-19T09:45:27.977
> 
> 标签：r, google-visualization, annotatedtimeline, googlevis

在我看来，由`gvisAnnotatedTimeLine()`googleVis R 包的函数生成的带注释的时间线只允许每个日期的唯一值。有没有办法在每个日期绘制多个值`gvisAnnotatedTimeLine()`？否则有其他选择吗？

# java - 记录网络流量以进行测试驱动开发

> ID：14954392
> 
> 赞同：0
> 
> 时间：2013-02-19T09:45:29.170
> 
> 标签：java, ruby, linux, networking

我 ruby​​ 有很棒的[https://github.com/vcr/vcr](https://github.com/vcr/vcr) gem，但仅适用于 ruby​​ HTTP 库。是否有可用于记录和播放网络流量的工具，但从系统级别，或者至少在 java 中？如果没有，你能给我证明如何创建这样的工具（仅适用于 linux）吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T15:13:10.340

您可以使用[TCPRelay](http://tcpreplay.synfin.net/)播放以 libpcap 格式捕获的网络数据包。如果你使用像 sip 这样的协议，你可以使用[Sipp](http://sipp.sourceforge.net/)，其他选项是使用[mts-project](https://code.google.com/p/mts-project/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T15:35:38.743

结帐[betamax](https://github.com/robfletcher/betamax)。它是 JVM 的 VCR 端口。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T21:50:59.290

我使用wireshark ......它有一个名为tshark 的命令行版本。您可以通过 yum install wireshark-gnome 在 centos 上安装它（wireshark 将安装 gui，但 wireshark-gnome 将其广告到您的 /bin 并为您提供 tshark。）

我使用 Jenkins CI 运行我的所有测试......例如，我经常使用 VOIP/SIP 测试......所以我有一个运行时的 jenkins 工作：

1.  开始 SIPP 加载到服务器
2.  开始 tshark 录制到文件

我使用命令行参数来保持 thsark 运行一段时间 - 但是您也可以使用信号来停止 tshark。

您可以设置 tshark 进行数据包捕获并拾取所有内容，或仅过滤某些层，例如仅 RTP 或仅 SIP 等。

如果您不想使用 Jenkins 来管理它，您可以通过 Ruby 或任何脚本语言以编程方式调用 tshark...只需使用 Ruby 打开并运行应用程序...例如：[在 Ruby 脚本中运行命令行命令](https://stackoverflow.com/questions/3159945/running-command-line-commands-within-ruby-script)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-23T05:58:00.877

对于 Java。尝试[任何存根](https://github.com/anystub/anystub)。您可以记录/回放项目中的任何调用

# ajax - Prime Faces：如何使用进度“正在加载...”指示器从页面 A 导航到（慢）页面 B

> ID：14954395
> 
> 赞同：0
> 
> 时间：2013-02-19T09:45:37.620
> 
> 标签：ajax, jsf, jsf-2

我正在使用 Prime Faces（JSF UI 库）。

我想从页面 A 导航到页面 B，但是由于页面 B 很慢，所以需要一些进度指示器，加载需要时间。

我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:30:31.510

您可以通过在页面 B 上添加 AJAX 加载来做到这一点。在页面 B 上，您有如下内容：

```
<h:head>
  <script type="text/javascript">
    function onLoadCallback(data) {
      if (data.status == "begin") {
        dialogWidget.show();
      } else {
        dialogWidget.hide();
      }
    }
  </script>
</h:head>
<h:body>
  <f:ajax event="load" listener="#{bean.onload}" onevent="onLoadCallback" render=":include1"/>

  <h:panelGroup id="include1">
    <h:panelGroup id="include2" rendered="#{bean.loaded}">
      <ui:include src="realPageB.xhtml"/>
    </h:panelGroup>
  </h:panelGroup>

  <p:dialogid="dialog" widgetVar="dialogWidget" modal="true">
    Loading
  </p:dialog>
</h:body> 
```

有了这个，您最初只加载了带有 AJAX 的页面（它很快），并且您调用了更新分组实际页面的面板的方法。在加载过程中，您将看到模态对话框（您也可以尝试`p:ajaxStatus`）。在 bean initali`loaded`中是假的，在`onload`调用方法之后你更新`loaded`为真：

```
private loaded;

// getters and setters

public void onload(AjaxBehaviourEvent event) {
  loaded = true;
} 
```

# r - 将多个数据框放入列表（智能方式）

> ID：14954399
> 
> 赞同：21
> 
> 时间：2013-02-19T09:45:43.953
> 
> 标签：r, list, loops, dataframe

是否可以以某种简单的方式将大量数据框放入列表中？这意味着不必像下面这样手动编写每个名称：

```
list_of_df <- list(data_frame1,data_frame2,data_frame3, ....) 
```

我已将所有数据框加载到我的工作空间中。我将使用列表循环遍历所有数据帧（对每个数据帧执行相同的操作）。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-19T09:55:26.507

您可以使用`ls()`with`get`如下：

```
l.df <- lapply(ls(), function(x) if (class(get(x)) == "data.frame") get(x)) 
```

这将从您当前的环境工作区加载所有 data.frames。

或者，正如@agstudy 建议的那样，您可以使用模式仅加载`data.frame`您需要的 s 。

```
l.df <- lapply(ls(pattern="df[0-9]+"), function(x) get(x)) 
```

加载`data.frame`当前环境中以 1 开头的所有 s`df`到任意数量的数字。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-19T09:55:32.333

到目前为止，最简单的解决方案是将`data.frame`'s 放入创建它们的列表中。但是，假设您有一个对象名称的字符列表：

```
list_df = lapply(list_object_names, get) 
```

您可以在其中构造这样的列表（例如 10 个对象）：

```
list_object_names = sprintf("data_frame%s", 1:10) 
```

或将当前工作区中的所有对象放入列表中：

```
list_df = lapply(ls(), get)
names(list_df) = ls() 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-19T09:54:17.433

例如，您可以使用`ls`特定的模式。例如：

一些data.frames：

```
data.frame1 <- data.frame()
data.frame2 <- data.frame()
data.frame3 <- data.frame()
data.frame4 <- data.frame()

list(ls(pattern='data.fra*'))
[[1]]
[1] "data.frame1" "data.frame2" "data.frame3" "data.frame4" 
```

# java - 如何设置 Eclipse，以便在代码块之后放置额外的空间？

> ID：14954402
> 
> 赞同：0
> 
> 时间：2013-02-19T09:45:48.790
> 
> 标签：java, eclipse, sonarqube

我收到一个声纳警告，因为它对这种语法不满意：

```
new Thread() {

                /**
                 * {@inheritDoc}
                 */
                @Override
                public void run() {
                }

            }.start(); 
```

更具体地说，它要求在任何 '}' 之后有一个空格（之前没有`.start()`）。如何在 eclipse 中设置它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:51:44.067

转到**窗口→首选项**：

![在此处输入图像描述](../Images/fab91fdea53210770104033bdb68a420.png)

选择**格式化程序→编辑**：

![在此处输入图像描述](../Images/3ef00bf3afb0c74e2061ccfda21ecc1e.png)

选择**空白**：

然后，您将拥有许多可以重新配置的设置：在功能之前/之后设置空间等。

# python - 使用 paramiko 的 scp 不起作用 - ssh 工作正常

> ID：14954406
> 
> 赞同：7
> 
> 时间：2013-02-19T09:46:00.570
> 
> 标签：python, linux, paramiko

我已经能够在远程服务器中使用 ssh 和发出命令。现在我想从远程服务器 scp 文件，但这似乎是不可能的。我对 python 和 Paramiko 完全陌生。该错误是在我的该死窗口的本地目录中拒绝权限。这些文件应该来自Mac。我可以使用其他任何非常简单的示例将文件从远程 Linux 机器 scp 到我的本地 Windows 机器吗？

```
import paramiko

hostname = '192.xx.1.xx'
password = 'pop123'
username = "husbad2"
port = 22

mypath='C:\\Users\\handsonexpert\\Documents'
remotepath='/Users/ihussain/testdir/file3.txt'

t = paramiko.Transport((hostname, 22))
t.connect(username=username, password=password)
sftp = paramiko.SFTPClient.from_transport(t)
sftp.put(mypath, remotepath) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-19T10:05:45.150

要将文件从远程主机检索到本地目录：

```
......
localpath='C:\\Users\\handsonexpert\\Documents\\file3.txt'
remotepath='/Users/ihussain/testdir/file3.txt'
......
sftp.get(remotepath, localpath) 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-19T09:51:52.640

您不是`scp`在这里使用，而是`SFTP`( `SFTPClient`)。

如果您打算使用`scp`，不妨看看这个[paramiko scp客户端，](https://github.com/jbardin/scp.py)[这里](https://stackoverflow.com/questions/250283/how-to-scp-in-python)有一个如何使用它的示例。

此外，出于一般的安全利益和编程风格，*不要对*您的密码和用户凭据进行硬编码，尤其是*永远不要*在像 SO 这样的公共论坛上发布它们。我们不需要它们，您也不需要发布它们。

# c# - Windows 8 中的 WebView 鼠标滚轮滚动问题

> ID：14954407
> 
> 赞同：1
> 
> 时间：2013-02-19T09:46:02.600
> 
> 标签：c#, windows-8, webview, microsoft-metro, winrt-xaml

我在单页中使用 ListView 和 WebView。现在的问题是，如果我不断在 ListView 和 WebView 之间切换，我将无法在 WebView 中使用鼠标滚轮滚动。为了滚动 WebView，我必须先单击它，这是我不想要的。我发现很多人都面临同样的问题，但没有合适的答案。以下是其中一些：
[http ://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/7f1ac033-eaba-495a-92a5-699acaaa5484/](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/7f1ac033-eaba-495a-92a5-699acaaa5484/)
[http://connect.microsoft.com/VisualStudio/反馈/详细信息/753422/webview-in-windows-8-does-not-gain-focus-automatically-when-hovering-mouse-back-to-it](http://connect.microsoft.com/VisualStudio/feedback/details/753422/webview-in-windows-8-does-not-gain-focus-automatically-when-hovering-mouse-back-to-it)

我在商店里找到了雅虎邮件应用程序。它具有与我的类似的界面（ListView 和预览）并且可以完美运行。如果在 ListView 和预览之间切换，滚动没有问题。我无法找到他们是否正在使用 WebView 或其他一些 HTML 控件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T16:59:04.047

不同的 UI 堆栈通常不能很好地协同工作，而且 Yahoo! Mail 是一个 html 应用程序，因此它不会遇到这个问题。如果您不需要`WebView`动画，您可以尝试将其切换`WebViewBrush`为非活动状态，仅在`WebView`更新内容时显示实际。然后，您也许可以通过在 中调用一些 JavaScript来滚动内容来处理`Rectangle`填充的鼠标事件。除此之外，我认为虽然可能还有其他一些技巧可以让它完美地工作 - 但它可能需要几天甚至几周的研究，但仍然可能会失败。`WebViewBrush``WebView`

# android - 如何从 JSON 对象字符串显示图像

> ID：14954414
> 
> 赞同：0
> 
> 时间：2013-02-19T09:46:21.450
> 
> 标签：android, json, image

我是安卓新手。。

我在应用程序中遇到问题..

我一直在尝试几种显示 JSON 图像的方法，但我的解决方案从未成功。

在我的数据库中，图像存储在一个文件夹中。所以在我的 JSON 对象中，我得到了图像的 scr 路径。现在我想在模拟器中显示图像。我的 JSON 对象中的路径如下：“imgsrc=question/images/u2_1_l2_q66”。我已将路径存储在 imgarr 数组中。

如何显示来自该路径的图像？我想将图像文件夹添加到drawables。请帮助我。非常感谢。

> 代码

```
 protected String doInBackground(String... args) {
    List<NameValuePair> params = new ArrayList<NameValuePair>();
    params.add(new BasicNameValuePair("tid", tid));
    json = jsonParser.makeHttpRequest(url_get_quesurl, "GET", params);
    Log.d("All Groups: ", json.toString());
    try {
    int success = json.getInt(TAG_SUCCESS);
    if (success == 1) {
        System.out.println("Success");
        groups = json.getJSONArray(TAG_GROUP);
        System.out.println("Result Success+++"+groups);
         for (int i = 0; i < groups.length();i++) {
        JSONObject c = groups.getJSONObject(i);
        String question = c.getString(TAG_QUES);
        System.out.println("Checking ::"+question);
        ques1.add(question);
        String img = c.getString(TAG_IMAGE);
        System.out.println("Checking ::"+img);
        imgarr.add(img);
         }
    } else {
        showAlert();
    }
} catch (JSONException e) {
    System.out.println("Error "+e.toString());
}
return null;
}
 protected void onPostExecute(String file_url) {
    pDialog.dismiss();
    ques1=new ArrayList<String>(new ArrayList<String>(ques1));
    imgarr=new ArrayList<String>(new ArrayList<String>(imgarr));
    TextView txtque = (TextView) findViewById(R.id.que_txt); 
    txtque.setText("Q" + num + ")" + ques1.get(j) + imgarr.get(g));
       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:39:11.937

> 在我的数据库中，图像存储在一个文件夹中

获得文件的完整路径后，只需将包装好的文件对象传递给 BitmapFactory，并在 ImageView 中显示 Bitmap

```
private Bitmap decodeFile(File f)
{
 try 
 {
//you might want to downscale it....
  return BitmapFactory.decodeStream(new FileInputStream(f),null,o);
 }
 catch (FileNotFoundException e) 
 {
  //throw exception
 }
 return null;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T11:06:23.353

您需要下载图像数据，解码然后显示。我建议您使用 [Universal Image Loader](https://github.com/nostra13/Android-Universal-Image-Loader)等库。

# relational-database - 标准化时间序列数据

> ID：14954421
> 
> 赞同：0
> 
> 时间：2013-02-19T09:46:39.623
> 
> 标签：relational-database, normalization, time-series, snowflake-schema, 6nf

我正在创建一个数据库来存储很多事件。它们会有很多，它们每个都有一个精确到秒的相关时间。例如，像这样：

```
Event
-----
Timestamp
ActionType (FK)
Source (FK)
Target (FK) 
```

行动、来源和目标都在 6NF 中。我想保持`Event`表格标准化，但我能想到的所有方法都有问题。为了明确我对数据的期望，绝大多数（99.9%）事件将是唯一的，仅具有上述四个字段（因此我可以将整行用作 PK），但不能忽略少数例外.

1.  **使用代理键：**如果我使用四字节整数，这是可能的，但似乎只是无缘无故地夸大表格。此外，我担心长时间使用数据库并耗尽密钥空间。

2.  **将计数列添加到事件：**由于我希望计数较小，因此我可以使用较小的数据类型，这对数据库大小的影响较小，但在插入之前需要更新插入或汇集数据库外部的数据。其中任何一个都会增加复杂性并影响我对数据库软件的选择（我正在考虑使用 Postgres，它会进行 upserts，但并不乐意。）

3.  **将事件分成小组：**例如，同一秒内的所有事件都可能是 a 的一部分，`Bundle`其中可能有一个代理键用于组，另一个用于其中的每个事件。这为数据库增加了另一层抽象和大小。如果其他重复的事件变得普遍，那将是一个好主意，但否则似乎有点矫枉过正。

虽然所有这些都是可行的，但它们感觉不适合我的数据。我正在考虑只做一个典型的雪花而不是在主表上强制执行唯一性约束，但是在阅读了[这样](https://stackoverflow.com/questions/4394183/should-not-olap-database-be-denormalized-for-reading-performance/4731664#4731664)`Event`的PerformanceDBA 答案后，我认为也许有更好的方法。

那么，**保持具有少量重复事件的时间序列数据归一化的正确方法是什么？**

**编辑：**澄清 - 数据来源是日志，主要是平面文件，但也有一些在各种数据库中。该数据库的一个目标是统一它们。没有一个来源的时间分辨率比第二个更精确。这些数据将用于诸如“有多少不同的来源在时间间隔内对目标执行操作？”之类的问题。其中间隔不会少于一个小时。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T12:29:59.840

最简单的答案似乎是

*   以更高的精度存储时间戳，或
*   如果 INSERT 由于重复键而失败，则将时间戳存储到第二个并重试（使用稍晚的时间戳）。

您提到的三个想法都与规范化无关。这些是关于存储什么的决定；在概念级别，您在决定存储什么*后进行规范化。*行的含义（因此，每列的含义）很重要；这些含义构成了表的谓词。谓词使您可以从较旧的真实事实中得出新的真实事实。

**使用整数作为代理键**，您不太可能耗尽键空间。但是您仍然必须声明自然键，因此在这种情况下，代理对您没有任何用处。

**如果对事物进行计数有意义，则**添加“计数”列是有意义的；**否则它不会。看看这两个例子。**

 **```
Timestamp            ActionType  Source  Target
--
2013-02-02 08:00:01  Wibble      SysA    SysB
2013-02-02 08:00:02  Wibble      SysA    SysB

Timestamp            ActionType  Source  Target  Count
--
2013-02-02 08:00:01  Wibble      SysA    SysB    2 
```

*这里的含义*有什么区别？“时间戳”的含义尤为重要。规范化是基于语义的；您需要做什么取决于数据的*含义*，而不是列的名称。

**如果事件组在您的系统中有意义，则将事件分成小组**可能有意义（例如添加“计数”列可能有意义）。**

# extjs4.1 - Extjs 4.1.1 组合框不返回数值

> ID：14954427
> 
> 赞同：0
> 
> 时间：2013-02-19T09:46:58.030
> 
> 标签：extjs4.1

Extjs 4.1.1 xtype: 'combo' 在提交表单后不返回值。

我有一个数组`user = ['user1','user2',...]`，我需要表单面板中的下拉菜单。提交表单后发现没有提交数组的键值，而是提交了displayFields。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T07:05:54.690

您可以按以下方式解决此问题：

var comboVal = Ext.getCmp('combo_id').getValue(); var record = Ext.getCmp('combo_id').findRecord(Ext.getCmp('combo_id').displayField, comboVal); var ComboIDValue = record.get('comboVal');

ComboIDValue 是组合的键值

# c# - 带有制表符分隔的文本文件的 StreamReader

> ID：14954437
> 
> 赞同：2
> 
> 时间：2013-02-19T09:47:28.953
> 
> 标签：c#, asp.net, split, streamreader, csv

我对这篇文章有类似的要求... [在运行时使用文本文件填充 Gridview](https://stackoverflow.com/questions/13971165/populate-gridview-at-runtime-using-textfile)

我想在哪里读取文本文件`StreamReader`并用文件中的数据填充 a `DataTable`，但是我不确定如何`split()`使用选项卡实现 a 。

请有人指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-19T09:58:19.130

你可以试试这个：

```
 DataTable table = new DataTable();
        table.Columns.Add("col1");
        table.Columns.Add("col2");
        table.Columns.Add("col3");

        var lines = File.ReadAllLines(@"Data.txt").ToList();
        lines.ForEach(line => table.Rows.Add(line.Split((char)9))); 
```

我假设行由换行符分隔（如果是这种情况`ReadAllLines`可以使用方法）。数字 9 是水平制表符的 ASCII 值，用于分割行。`ForEach`是一种可以在通用列表上使用的方法，它在那里而不是`foreach`循环。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:12:33.953

C# 中选项卡的转义字符是`\t`，因此要读取文件并在选项卡上拆分每一行，我将使用

```
var path = "path to file";
using (StreamReader sr = new StreamReader(path))
{
    while (sr.Peek() >= 0)
    {
        //Reads the line, splits on tab and adds the components to the table
        table.Rows.Add(sr.ReadLine().Split('\t'));
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:52:48.927

如果您只有制表符，您可以使用 Split('\t')，但如果制表符是空格，您可能需要使用[正则表达式](http://msdn.microsoft.com/en-us/library/az24scfc.aspx)

# android - onDraw() 的程序控制流

> ID：14954441
> 
> 赞同：0
> 
> 时间：2013-02-19T09:47:43.477
> 
> 标签：android, touch-event, ondraw

我想知道方法什么时候

```
protected void onDraw(final Canvas canvas) {} 
```

将被调用。我在问这个类**的控制流**。这个类的构造函数是从其他类调用的。当控制权来到构造函数时，它会简单地调用这个类中的所有方法吗？

当绘制图像被触摸和移动时，我也想做一些绘图。为此，我使用了 onTouchEvent（MotionEvent 事件）。但是我**在 onTouch 中进行了一些编码后，我不知道如何调用 onDraw。也就是说**，我确实更改了一些坐标值，如何调用 onDraw 来重绘图像？

任何人都可以帮忙吗？

```
public class DrawView extends View {
Paint paint = new Paint();
public DrawView(Context context) {
    // TODO Auto-generated constructor stub
    super(context);
}

@Override
protected void onDraw(final Canvas canvas) {
    // TODO Auto-generated method stub

        paint.setColor(Color.BLACK);
        paint.setStrokeWidth(3); 
        canvas.drawRect(30, 350, 50, 400, paint);
        super.onDraw(canvas);
// some other drawings
}

@Override
public boolean onTouchEvent(MotionEvent event) {
    // TODO Auto-generated method stub

    switch (event.getAction()) {
    case MotionEvent.ACTION_DOWN://some code
        break;

case MotionEvent.ACTION_MOVE://some code

            break;
case MotionEvent.ACTION_UP://some code  
    break;
        default:            break;
        }
        return super.onTouchEvent(event);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:01:44.170

/** * @author rajeshcp */

```
public class SimpleDrag extends View {

private Paint mPaint;
private Rect mRect;

/**
 * @param context  
 * @return of type SimpleDrag
 * Constructor function
 * @since Feb 19, 2013 
 * @author rajeshcp
 */
public SimpleDrag(Context context) {
    super(context);
    init();
}

/**
 * @param context
 * @param attrs  
 * @return of type SimpleDrag
 * Constructor function
 * @since Feb 19, 2013 
 * @author rajeshcp
 */
public SimpleDrag(Context context, AttributeSet attrs) {
    super(context, attrs);
    init();
}

/**
 * @param context
 * @param attrs
 * @param defStyle  
 * @return of type SimpleDrag
 * Constructor function
 * @since Feb 19, 2013 
 * @author rajeshcp
 */
public SimpleDrag(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
    init();
}

/* (non-Javadoc)
 * @see android.view.View#onDraw(android.graphics.Canvas)
 * @since Feb 19, 2013
 * @author rajeshcp 
 */
@Override
protected void onDraw(Canvas canvas) {
    super.onDraw(canvas);
    canvas.drawColor(Color.BLUE, PorterDuff.Mode.CLEAR);
    if( mRect != null )
    {
        mPaint.setColor(Color.RED);
        canvas.drawRect(mRect, mPaint);
    }
}

private void init()
{
    mRect  = new Rect(0, 0, 50, 50);
    mPaint = new Paint(Paint.FILTER_BITMAP_FLAG | Paint.DITHER_FLAG | Paint.ANTI_ALIAS_FLAG);
}

private Point mTouchPoint;

/* (non-Javadoc)
 * @see android.view.View#onTouchEvent(android.view.MotionEvent)
 * @since Feb 19, 2013
 * @author rajeshcp 
 */
@Override
public boolean onTouchEvent(MotionEvent event) {

    final int action = event.getAction();

    if( action == MotionEvent.ACTION_CANCEL || action == MotionEvent.ACTION_DOWN)
    {
        mTouchPoint = new Point((int)event.getX(), (int)event.getY());
        if( !mRect.contains(mTouchPoint.x, mTouchPoint.y) )
        {
            return false;
        }
    }

    if( action == MotionEvent.ACTION_MOVE )
    {
        final Point curretPoint = new Point((int)event.getX(), (int)event.getY());
        int xMoved = curretPoint.x - mTouchPoint.x;
        int yMoved = curretPoint.y - mTouchPoint.y;
        mRect.set(mRect.left + xMoved, mRect.top + yMoved, mRect.right + xMoved, mRect.bottom + yMoved);
        mTouchPoint = curretPoint;
        invalidate();
    }
    return true;
}

} 
```

当您希望调用 onDraw 方法时调用 Invalidate。

# clojure - 如何在 REPL 中读取 clojure 异常？

> ID：14954445
> 
> 赞同：7
> 
> 时间：2013-02-19T09:47:46.027
> 
> 标签：clojure

很多时候，当我尝试编写一些函数时，我得到了异常。这是正常的。在 Java 中，您可以找到发生异常的位置和原因，但在 clojure 中，异常文本只会让我抓狂。是否有一些提示如何读取 clojure 中的异常以及如何查找代码异常发生的位置以及原因？

例如，我将采用一些代码：

```
(do
 (list?)
 (list? [])
 (list? '(1 2 3))
 (list? (defn f [] (do ())))
 (list? "a")) 
```

当我在 REPL 中调用这个函数时，我会得到

```
java.lang.IllegalArgumentException: Wrong number of args (0) passed to: core$list-QMARK- (NO_SOURCE_FILE:46) 
```

这对我在第二行找到问题没有多大帮助。在稍微复杂一点的代码中，它几乎不会提供任何信息。（当然它告诉你看看列表？在某些情况下，参数的数量是错误的。）我尝试在 REPL 中编写代码是错误的吗？如何在 REPL 中读取异常消息？有没有办法获得有关 REPL 中异常的更好信息？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T10:19:56.467

您可以使用`clojure.stacktrace`：[http ://richhickey.github.com/clojure/clojure.stacktrace-api.html](http://richhickey.github.com/clojure/clojure.stacktrace-api.html)

用法：

```
(use 'clojure.stacktrace)
(/ 1 0)
(e) 
```

输出：

```
java.lang.ArithmeticException: Divide by zero
 at clojure.lang.Numbers.divide (Numbers.java:156)
    clojure.lang.Numbers.divide (Numbers.java:3691)
    user$eval954.invoke (NO_SOURCE_FILE:1)
    clojure.lang.Compiler.eval (Compiler.java:6511)
    clojure.lang.Compiler.eval (Compiler.java:6477)
    clojure.core$eval.invoke (core.clj:2797)
    clojure.main$repl$read_eval_print__6405.invoke (main.clj:245)
    clojure.main$repl$fn__6410.invoke (main.clj:266)
nil 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T14:04:39.530

获取[`org.clojure/tools.trace`](https://github.com/clojure/tools.trace).

```
user=> (use 'clojure.tools.trace) 
```

让我们尝试一个`dotrace`（改变顺序以使事情更有趣）：

```
user=> (dotrace [list?]
  #_=> (do
  #_=>  (list? [])
  #_=>  (list? '(1 2 3))
  #_=>  (list?)
  #_=>  (list? (defn f [] (do ())))
  #_=>  (list? "a"))
  #_=> )
IllegalStateException Can't dynamically bind non-dynamic var: clojure.core/list?
  clojure.lang.Var.pushThreadBindings (Var.java:353) 
```

唔...

```
user=> (.setDynamic #'list?)
#'clojure.core/list? 
```

让我们再试一次：

```
user=> (dotrace [list?]
  #_=>   (do
  #_=>   (list? [])
  #_=>   (list? '(1 2 3))
  #_=>   (list?)
  #_=>   (list? (defn f [] (do ())))
  #_=>   (list? "a")))
TRACE t1216: (list? [])
TRACE t1216: => false
TRACE t1217: (list? (1 2 3))
TRACE t1217: => true
TRACE t1218: (list?)
ArityException Wrong number of args (0) passed to: core$list-QMARK-  
  clojure.lang.AFn.throwArity (AFn.java:437) 
```

啊哈！`(list?)`在异常之前做到了。

# php - 致命错误：无法重新分配自动全局变量

> ID：14954446
> 
> 赞同：4
> 
> 时间：2013-02-19T09:47:48.080
> 
> 标签：php

> 致命错误：无法在第 1395 行的 C:\xampp\htdocs\user\utils\CommonUtils.php 中重新分配自动全局变量 _FILES

第 1395 行的代码是

```
public static function saveAvatar($code, $pilotid, $_FILES) { 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-19T09:49:25.003

您不能将`$_FILES`其用于函数参数，它是保留字，请使用此代替

```
public static function saveAvatar($code, $pilotid, $files) { } 
```

并调用`$_FILES`像这样的传递

```
saveAvatar($code, $pilotid, $_FILES); 
```

**或者**

您也可以直接访问`$_FILES`而不在函数内部的函数参数中传递它。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T09:50:38.470

您正在尝试在本地 scpe 中设置一个名为 $_FILES 的变量作为 saveAvatar() 方法的参数；但不能，因为它是特殊的超全局变量之一。

将行更改为

```
public static function saveAvatar($code, $pilotid) { 
```

$_FILES 超全局变量仍然可用于该方法，因为它是一个超全局变量

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-17T18:18:32.950

通常我们不能重新分配 $_Files，这意味着我们不能将 auto 超级全局变量作为参数或函数传递。但我们有替代解决方案。

将文件作为参数传递

```
 function ImageProcess(array $_File){
           $image        = $_FILES["file"]["name"];
           $uploadedfile = $_FILES['file']['tmp_name'];
           //Write your code here...
  } 
```

使用自动全局变量作为参数调用函数。

```
 if ($_SERVER['REQUEST_METHOD'] == "POST") {
      if(isset($_FILES['file'])){
         echo ImageProcess($_FILES['file']);
      }
  } 
```

上传表格

```
 <form method="post" action="<?php $_SERVER['PHP_SELF'];?>" enctype="multipart/form-data">
       <input type="file" name="file" /> 
       <button type="submit">Update &amp; Save</button>
    </form> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-29T22:10:12.793

我也面临同样的问题。然后我刚刚从变量列表中删除了 $_FILES 变量，我的网站又开始工作了。

# joomla - Joomla 自定义模块开发 - 后端管理 额外要求

> ID：14954455
> 
> 赞同：0
> 
> 时间：2013-02-19T09:48:14.107
> 
> 标签：joomla, joomla2.5, joomla-extensions, joomla1.7, joomla1.6

我目前正在`custom joomla module`为我的一个客户的要求开发一个。作为该模块管理面板的一部分，我在该组中创建了一个单选按钮组；我还有两个单选按钮

我对网络领域领导者的问题是我需要一个选项“当我选择一个单选按钮时应该显示额外的字段”

例如：我有一个名为“No of fields”的单选按钮组。在该组中，我有两个名为“显示”、“隐藏”的单选按钮。当我选择“显示”单选按钮时，我需要一个应该显示额外字段的选项

这个方程可能吗？如果是的话，请发表你的想法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:53:21.570

这种行为不作为 Joomla 的默认管理功能的一部分提供。您必须自己编写代码并在后端打开模块时调用该 JS 文件。我建议您检查 Gavick 在[Mod_news_pro](http://www.gavick.com/news-show-pro-gk4.html)中使用的代码。该模块加载了一个自定义 JS 文件，其中添加了许多 Joomla 中不可用的自定义功能和布局选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:29:55.740

这很简单，只需创建一个自定义元素检查官方文档：

[http://docs.joomla.org/Creating_a_custom_form_field_type](http://docs.joomla.org/Creating_a_custom_form_field_type)

# python - 如何为python电子邮件客户端设置代理

> ID：14954458
> 
> 赞同：-1
> 
> 时间：2013-02-19T09:48:41.413
> 
> 标签：python, proxy, smtplib

最近在研究邮件相关的，写了一个简单的邮件客户端来发送邮件。但不幸的是，由于网络不好，我无法连接到 smtp.gmail.com 主页。当我在浏览器中使用代理时可以，当脚本在公司中运行时也可以。

那么有没有什么方法可以为 smtp 协议设置代理呢？我在 Python2.7 的 smtplib 模块中看不到任何可以使用的东西。而且我认为设置http代理是没有用的。它们是两种协议。我也搜索了谷歌和stackoverflow，找不到合理的解决方案。

所以，似乎有一个套接字代理。那有用吗？

希望有人能告诉我一些事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:16:51.087

安装一个**本地邮件服务器**，它维护自己的邮件队列，如[Postfix](http://www.postfix.org/)。您自己的本地邮件服务器实际上是一个**缓存 SMTP-proxy**，这正是您想要做的。您的本地应用程序会将其邮件传递到 Postfix，从而确保邮件被传递给实际收件人。还有很多其他的邮件服务器也可以很好地完成这项工作。

设置 Postfix 超出了 SO-Answer 的范围（或 ServerFault，我猜它已被迁移），但那里[有](http://www.howtoforge.com/postfix_relaying_through_another_mailserver) [很多](http://www.howtoforge.com/how-to-relay-email-on-a-postfix-server) [教程（这](https://www.zulius.com/how-to/set-up-postfix-with-a-remote-smtp-relay-host/)[取决于](http://anothersysadmin.wordpress.com/2009/02/06/postfix-as-relay-to-a-smtp-requiring-authentication/) 您使用的机器）。[设置 postfix 以将 Gmail 用作智能主机](http://ubuntu-tutorials.com/2008/11/11/relaying-postfix-smtp-via-smtpgmailcom/)也会对您感兴趣，因为它涉及一些较小的证书麻烦。

# c# - 为什么突然一个线程运行一个方法的一部分？

> ID：14954459
> 
> 赞同：2
> 
> 时间：2013-02-19T09:48:44.587
> 
> 标签：c#, .net, multithreading, thread-safety

我真的陷入了困境，这个地方是我唯一能得到答案的地方。我请求你从头到尾读完。

我有一个方法在下面做这样的事情：

```
public void Execute(Data data)
{
    bool IsOk = false;
    //1st point
    IsOk = Check1();

    //2nd point
    if(IsOk)
      IsOk = Check2();

    //3nd point
    if(IsOk)
      IsOk = Check3();

    //4th point
    if(IsOk)
       SendMessage();

} 
```

数据对象是通过一种`STATIC`方法获取的，以防止超过 1 个线程访问它，如下所示：

```
[MethodImpl(MethodImplOptions.Synchronized)]
public static DataCollection GetDataColl()
{
   //By syncronizing, I'm guaranteeing every data is unique.
   DataCollection Result = new DataCollection();
   Result = GetDataFromDatabase();//Changing status in order to prevent getting it again
   return Result;
} 
```

在此之后，我将以下方法提供`THREADS`给处理`DataCollection`：

```
//When invoked, creates the threads that runs my actual processing method
private void btnStart_Click(object sender, EventArgs e)
{
   for(int i= 1; i <= 2; i++ )
   {
      Thread ProcessThread = new Thread(ProcessData);
      ProcessThread.Start();
   }
}

//Process the data
private void ProcessData()
{
   DataCollection Coll = GetDataColl(); //GetDataColl is static, threadsafe that can be invoked only by 1 thread at a time method.

   //Foreach through data and execute the PROBLEMATIC method "Execute" at the beginning
   foreach(Data dta in Coll)
      Execute(dta); //The problem occurs in this method
} 
```

问题不时发生，但并非总是如此，但你可以一次给它大约 20%，我想这已经足够了。这是发生的事情：

1.  `Thread 1`: 运行 Execute 方法的第一个点
2.  `Thread 1`: 运行 Execute 方法的第 2 点
3.  `Thread 1`: 运行 Execute 方法的第三点
4.  `Thread 2`：运行 Execute 方法的第 4 点 -> Wierd！
5.  `Thread 1`: 运行 Execute 方法的第 4 点

出乎意料的是，在方法的**中间**，这个新线程就在这个点上，并执行了整个方法的一部分。这个新线程（`Thread 2`）甚至根本**没有**到达第 1、第 2 和第 3 点）

有时它也会按以下顺序发生：

1.  `Thread 1`: 运行 Execute 方法的第一个点
2.  `Thread 1`: 运行 Execute 方法的第 2 点
3.  `Thread 2`：运行 Execute 方法的第 4 点 -> Weird！
4.  `Thread 1`：运行 Execute 方法的第三点。
5.  `Thread 1`：运行 Execute 方法的第 4 点。

所有这些都是从日志文件中读取和写入的，而不是通过**调试**。当我进行调试时，一切似乎都很好。

我使用了 log4net，这里是发生的事情的简化示例：

```
2013-02-19 09:53:02,057 [39] DataId: 4356502 - Check1
2013-02-19 09:53:02,088 [39] DataId: 4356502 - Check2
2013-02-19 09:53:02,088 [39] DataId: 4356502 - Check3
2013-02-19 09:53:02,542 [39] DataId: 4356502 - Send
2013-02-19 09:53:02,573 [46] DataId: 4356502 - Send 
```

线程 46 甚至根本没有检查 1、2、3。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:11:11.873

我已经尝试过您的代码，尽管有一些更改，但它似乎工作正常。检查更高的输出，确保线程 [46] 在被搁置之前没有在线程 [39] 之前执行。

```
th1 - Check 1 example string 235236
th1 - Check 2 example string 235236 <- thread1 gets to #2 and stops
th2 - Check 1 example string 235236
th2 - Check 2 example string 235236
th2 - Check 3 example string 235236 <- thread2 gets to #3
th1 - Check 3 example string 235236 <- thread1 starts up again, at #3
th2 - Check 4 example string 235236 <- thread4 then finishes off with #4
th2 - Check 1 example string 135236
th2 - Check 2 example string 135236
th2 - Check 3 example string 135236
th1 - Check 4 example string 235236 <- thread1 appears and finishes #4
th2 - Check 4 example string 135236 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-18T08:24:47.137

我已经解决了这里的问题，

当主线程启动时，它使用一个 STATIC 变量来保存单例消息集合。因为，其他线程试图在这个单例集合上运行，所以主线程会暂时更改值（这显然是我的错误，我通过克隆更新的对象来解决它）并导致其他线程在应该具有原始值时使用这个修改过的对象.

这种情况看起来像是我作为问题提出的问题。

非常感谢你的帮助。

# javascript - 谷歌地图鼠标滚轮错误

> ID：14954460
> 
> 赞同：1
> 
> 时间：2013-02-19T09:48:45.663
> 
> 标签：javascript, google-maps, google-maps-api-3, zooming, mousewheel

通常可以垂直滚动/缩放地图。会有一个灰色的背景。我“禁用/阻止”了它。

如果我使用谷歌地图的控件，这很好用。但是，如果我用鼠标滚轮缩放它有点麻烦，我可以缩小地图，所以灰色区域是可见的。

这是一个活生生的例子：[例子](http://work.smokyfox.com/google_map/)

在不禁用鼠标滚轮缩放的情况下如何解决这个问题？

图片： ![灰色区域可见，已缩小](../Images/d09bb26405f067e639cc2523c250a6e0.png)

```
THEME.gmap.position = function () {
var allowedBounds;
var lastCenter;
var lastZoom;
var initCenter;
var initZoom;

function checkBounds() {
    if (THEME.base.isUndefined(allowedBounds)) {
        return false;
    }
    if (allowedBounds.getNorthEast().lat() > THEME.gmap.google_map.getBounds().getNorthEast().lat()) {
        if (allowedBounds.getSouthWest().lat() < THEME.gmap.google_map.getBounds().getSouthWest().lat()) {
            lastCenter = THEME.gmap.google_map.getCenter();
            lastZoom = THEME.gmap.google_map.getZoom();
            return true;
        }
    }
    THEME.gmap.google_map.panTo(lastCenter);
    THEME.gmap.google_map.setZoom(lastZoom);
    return false;
}

return {
    createLatLng:function (lat, lng) {
        return new google.maps.LatLng(lat, lng);
    },
    centerMap:function (latLng) {
        THEME.gmap.google_map.setCenter(latLng);
    },
    setLimit:function () {
        allowedBounds = new google.maps.LatLngBounds(
            this.createLatLng(-85.0511, -122.591),
            this.createLatLng(85.0511, -122.333)
        );
        initCenter, lastCenter = THEME.gmap.google_map.getCenter();
        initZoom, lastZoom = THEME.gmap.google_map.getZoom();
        google.maps.event.addListener(THEME.gmap.google_map, 'bounds_changed', function () {
            checkBounds();
        });
        google.maps.event.addListener(THEME.gmap.google_map, 'center_changed', function () {
            checkBounds();
        });
    }
};
}(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:56:28.047

我想这是由 2 个竞争事件所迫使的，通常这两个事件每次都会触发。由于`center_changed`事件是多余的（当中心改变时边界也会改变），您可以删除`center_changed`-listener（对我来说这也解决了问题）

# c++ - C++ Winforms：为什么richtextbox 不立即更新文本？

> ID：14954464
> 
> 赞同：1
> 
> 时间：2013-02-19T09:48:50.153
> 
> 标签：c++, winforms, richtextbox

我使用 Winforms/C++ 编写了一个 PC 应用程序。我正在尝试从外部 EEPROM 获取一些数据到我的 PC 中，当我单击 Winforms 应用程序上的按钮时，我会这样做。下载需要很长时间才能完成，所以我有一个文本框，我首先显示“正在***下载电压波动数据。请稍候...*** ”，然后我调用开始下载数据的函数（需要大约 30 秒），最后我打印了一个“***完成！*** ”。

但我面临的问题是我的第一行“正在***下载电压波动数据。请稍候......*** ”没有立即显示，而是在**30 秒**后才显示“***完成！*** ” ，这没有达到目的。

 **我对 C++ 并不陌生，但这是**我第一次尝试使用 WinForms**，所以我不知道应该怎么做才能立即显示文本。

**是否有明确地将文本刷新到richtextbox的功能？**

我的按钮代码如下。

```
private: System::Void button4_Click(System::Object^  sender, System::EventArgs^  e)
     {

        this->richTextBox1->Text += "\n> Downloading Voltage fluctuation data...";

        Download_EEPROM_data();

        this->richTextBox1->Text += " done!";
     } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:52:49.627

这是因为更新发生在您的程序下次运行其事件处理循环时。而且由于您使用冗长的函数调用来阻止它，因此不会发生。

一种可能的解决方案是使用单独的线程进行下载，并且该线程将其状态通知主 GUI 线程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:16:03.923

一旦 button4_Click(...) 返回，您将看到更新，因为当前 Download_EEPROM_data() 调用正在阻止它。您可以使用单独的线程从 eeprom 下载数据，并在完成后通知主线程，它可以发布“完成”消息。**

# asp.net - 为什么 IIS 7.5（运行 .Net 4.5 Web API）在发送包含 UTC 作为时区的日期时间时会出错

> ID：14954465
> 
> 赞同：0
> 
> 时间：2013-02-19T09:48:51.453
> 
> 标签：asp.net, asp.net-mvc, datetime, asp.net-web-api, iis-7.5

我正在做一个项目，主要处理**DateTime**。它在**Windows 2008 R2**上运行，使用**.Net 4.5 MVC Web API** 和**IIS 版本 7.5.7600.16385**。

到目前为止，当我在**Chrome**和**FireFox**上测试它时，它运行得非常好。但是当我开始在**Internet Explorer**上进行测试时，它开始给出关于**DateTime**字段的**模型错误。**

 ****错误是：**该值`Tue, 23 Mar 2013 12:00:00 UTC`对于 StartTime 无效。

但是，我想出了**解决方案**。我已经在每个**DateTime**字段中替换了`UTC`with ，然后它就可以正常工作了。`GMT`

 ****实际解决方案：**

价值创造错误：`Tue, 23 Mar 2013 12:00:00 UTC`

解决方案：`Tue, 23 Mar 2013 12:00:00 GMT`

这种方式效果很好，我想问题和解决方案很清楚，现在我的问题是：

**问题：**为什么**IIS**`UTC`会给出包含时区的 DateTime 字符串格式错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:46:25.327

首先，我不确定您为什么需要 UTC 和 GMT。

可能这就是 IE 现在变得越来越聪明的原因；）

> 格林威治标准时间 (GMT) 最初是指格林威治皇家天文台的平均太阳时，该系统于 1850 年左右首次开发，用于根据地球自转跟踪时间。当它被视为时区时，它现在通常用于指代协调世界时 (UTC)。
> 
> 严格来说，UTC 不是一个时区，而是一个原子时标，仅近似于旧意义上的 GMT。它也被用来指代世界时（UT），它是直接取代原始格林尼治标准时间的天文概念。

由于 UTC 不是时区，所以 IE 不会转换它，但是其他浏览器足够灵活和智能。****

# ms-access - 将 x,y 光谱数据保存在 ms-access 的表中

> ID：14954472
> 
> 赞同：0
> 
> 时间：2013-02-19T09:49:05.927
> 
> 标签：ms-access

我想为 LED 创建一个表。该表创建名称、中心波长和光谱等信息，其本身是格式强度超过波长的数据，为 2 xn 表数据。

我是初学者，目前不知道如何将其插入表格。我当然可以为每个 LED 单独创建一个表格，但是会有数百个这样的光谱数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:53:47.740

这种复杂的数据结构可能难以在数据库表中实现。我建议的一个选项是拥有一组代表数据的类。然后您可以将数据序列化和反序列化（读取和写入）到文件。

### 示例实现

```
Module Module1

    Sub Main()
        Dim leds = New List(Of LED)()
        Dim rnd = New Random()

        'create a bunch of LEDs
        For i = 1 To 10
            Dim led = New LED("LED " & (i + 1).ToString(), rnd.Next(0, i * 100))
            For x = 1 To 10
                led.Spectrum.Add(New SpectrumInfo(rnd.Next(1, 10), rnd.Next(1000, 10000)))
            Next

            leds.Add(led)
        Next

        ' write the led data to a file
        Using sw As New IO.StreamWriter("LED Data.ledx")
            Dim xs = New System.Xml.Serialization.XmlSerializer(leds.GetType())

            xs.Serialize(sw, leds)
        End Using

        'read the led data from a file
        Dim leds2 = New List(Of LED)()
        Using sr = New System.IO.StreamReader("LED Data.ledx")
            Dim xs = New System.Xml.Serialization.XmlSerializer(leds2.GetType())

            leds2 = DirectCast(xs.Deserialize(sr), List(Of LED))
        End Using

        'confirm the two are the same
        Console.WriteLine("LEDs and LEDS2 are " & If(leds.SequenceEqual(leds2), "the same", "different"))

        ' alternate saving using binary serializer 
        ' works in cases where XmlSerializer doesn't
        ' produces smaller files too

        'save the led data
        Using fs = New System.IO.FileStream("LED Data.ledb", IO.FileMode.Create)
            Dim bf = New System.Runtime.Serialization.Formatters.Binary.BinaryFormatter()
            bf.Serialize(fs, leds)
        End Using

        'read the led data
        Dim leds3 = New List(Of LED)()
        Using fs = New System.IO.FileStream("LED Data.ledb", IO.FileMode.Open)
            Dim bf = New System.Runtime.Serialization.Formatters.Binary.BinaryFormatter()
            leds3 = DirectCast(bf.Deserialize(fs), List(Of LED))
        End Using

        'confirm equality
        Console.WriteLine("LEDs and LEDS3 are " & If(leds.SequenceEqual(leds3), "the same", "different"))
        Console.WriteLine("LEDs2 and LEDS3 are " & If(leds2.SequenceEqual(leds3), "the same", "different"))

        Console.ReadLine()
    End Sub

End Module

<Serializable()> _
Public Class LED
    Dim _name As String
    Dim _cWL As Double
    Dim _spectrum As List(Of SpectrumInfo)

    Public Sub New()
        _name = String.Empty
        _cWL = 0
        _spectrum = New List(Of SpectrumInfo)()
    End Sub

    Public Sub New(name As String, cwl As Double, ParamArray spectrum() As SpectrumInfo)
        _name = name
        _cWL = cwl
        _spectrum = New List(Of SpectrumInfo)(spectrum)
    End Sub

    Public Property Name As String
        Get
            Return _name
        End Get
        Set(value As String)
            _name = value
        End Set
    End Property

    Public Property CenterWavelength As Double
        Get
            Return _cWL
        End Get
        Set(value As Double)
            _cWL = value
        End Set
    End Property

    Public ReadOnly Property Spectrum As List(Of SpectrumInfo)
        Get
            Return _spectrum
        End Get
    End Property

    Public Overrides Function Equals(obj As Object) As Boolean
        If Not (TypeOf obj Is LED) Then Return False

        Dim l2 = DirectCast(obj, LED)

        Return l2._name = _name AndAlso l2._cWL = _cWL AndAlso l2._spectrum.SequenceEqual(_spectrum)
    End Function

    Public Overrides Function ToString() As String
        Return String.Format("{0} [{1}]", _name, _cWL)
    End Function

    Public Overrides Function GetHashCode() As Integer
        Dim result As Integer

        For Each spec In _spectrum
            result = result Xor spec.GetHashCode()
        Next

        Return result Xor (_name.GetHashCode() + _cWL.GetHashCode())
    End Function
End Class

<Serializable()> _
Public Structure SpectrumInfo
    Dim _intensity As Double
    Dim _wavelength As Double

    Public Sub New(intensity As Double, wavelength As Double)
        _intensity = intensity
        _wavelength = wavelength
    End Sub

    Public ReadOnly Property Intensity As Double
        Get
            Return _intensity
        End Get
    End Property

    Public ReadOnly Property Wavelength As Double
        Get
            Return _wavelength
        End Get
    End Property

    Public Overrides Function Equals(obj As Object) As Boolean
        If TypeOf obj Is SpectrumInfo Then
            Dim si = DirectCast(obj, SpectrumInfo)
            Return si._wavelength = _wavelength AndAlso si._intensity = _intensity
        Else
            Return False
        End If
    End Function

    Public Overrides Function ToString() As String
        Return String.Format("Intensity: {0}, Wavelength: {1}", _intensity, _wavelength)
    End Function

    Public Overrides Function GetHashCode() As Integer
        Return _intensity.GetHashCode() Xor _wavelength.GetHashCode()
    End Function
End Structure 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T19:16:15.100

You might look at [http://r937.com/relational.html](http://r937.com/relational.html)

I think you want:

LED Table

```
ID
LEDName
CenterWavelength 
```

And then a table for spectra

```
ID
LedId
Intensisty
WaveLength 
```

# java - 带有 FormFile 的 Struts

> ID：14954478
> 
> 赞同：0
> 
> 时间：2013-02-19T09:49:18.750
> 
> 标签：java, struts

我正在为基于 struts 1.1 构建的应用程序进行增强我需要有一个我使用的文件上传字段，

```
<html:file  size="40" property="strUploadNoFile" /> 
```

然后我将属性添加到使用 DynaValidatorForm 的 struts 配置文件表单 bean，如下所示，

```
<form-property name="strUploadNoFile" type="org.apache.struts.upload.FormFile"/> 
```

此外，我也在 jsp 中将表单加密类型添加为 multipart/form-data。

该代码工作正常，我可以成功读取上传文件的内容。

但是这里的应用程序设计是一对动作映射到同一个表单bean。因此，当我来自不存在文件上传字段的请求路径时，我得到了异常，

> 无法将“java.lang.String”类型的值分配给“org.apache.struts.upload.FormFile”类型的属性“strUploadNoFile”

原因是因为我有条件地将密码切换为默认应用程序/x-www-form-urlencoded 或 multipart/form-data。因此，当我来自不存在文件上传的路径时，我的加密类型将是 application/x-www-form-urlencoded。但是正如我上面提到的，应用程序结构使用通用表单 bean 来执行不同的操作，但作为 FormFile 的 bean 属性 strUploadNoFile 仍保留在表单属性中，但 jsp 中的加密类型是 multipart/form-data。我认为这是异常的原因。

我只需要知道我是否可以从该 xml 文件中硬编码的属性中动态添加？所以我只能从具有文件上传字段的请求路径中添加 FileForm 属性。在这种情况下，为每个请求重新设计具有单独表单 bean 的应用程序架构是一项艰巨的工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:52:12.420

如果您的操作使用相同的表单 bean，那么他们将期望相同的表单元素。

您收到错误的原因是，正如您所指出的，您*还*混合了表单编码。

IMO 有一种形式来满足所有需求完全违背了目的，并且正在使用与设计使用方式相反的框架 - 因此存在问题。

最简单的解决方案可能是创建一个自定义请求处理器，当它遇到非多部分表单时它会做一些“有用的”，但我不确定*该怎么*做。

综上所述，您不需要为*每个*请求构建一个新表单，您只需要创建一个*带有*文件的表单 bean，以及一个*没有*. IMO 这样做是*错误*的，但只是从“让我们不要误导每个人，让人们难以思考应用程序”这一方面，而不是在技术方面。

# javascript - 如何识别打开的窗口是弹出窗口还是选项卡？

> ID：14954487
> 
> 赞同：4
> 
> 时间：2013-02-19T09:49:49.453
> 
> 标签：javascript, jquery, html

我一直面临一个问题。我可以使用 window.open 方法打开一个窗口。如果我指定窗口的高度和宽度，它将作为弹出窗口打开。如果没有为高度或宽度提供参数，则它在新选项卡中打开。

是否有任何属性可以让我确定打开的窗口是弹出窗口还是新标签？

谢谢马尔科姆 X

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:55:34.207

**编辑：**我一直在研究这个问题。

似乎这些窗口上没有不同的“类型”，只是不同的选项。我发现检查它是选项卡还是窗口的一种方法是检查`window.menubar.visible`. 对于选项卡，它是一个完整且正常的窗口`true`，而对于弹出菜单，菜单是隐藏的，因此`false`. 同样适用于`window.toolbar.visible`。

至少在 FF 和 Chrome 中工作。不幸的是，不在 IE 中。（在IE8下进行测试，这是我安装的版本。当然是为了测试..）

例子：

```
if(window.menubar.visible) {
    //Tab
} else {
    //"Child" Window
} 
```

发现这个线程：[Internet Explorer 8 JS 错误：'window.toolbar.visible' 为空或不是对象](https://stackoverflow.com/questions/6654297/internet-explorer-8-js-error-window-toolbar-visible-is-null-or-not-an-object)

* * *

如果指定宽度和高度，则意味着您还必须指定`name`参数。这可以在使用标签时以相同的方式`target`使用`a`，默认为`_blank`.

如果你没有指定宽度和高度，我假设你也没有指定`name`，因此它是用 来打开的`name=_blank`，这意味着一个新的选项卡。

如果您指定宽度和高度，您是否设置自定义`name`？这样做会产生一个子窗口。如果您指定名称或空字符串作为名称，我建议您尝试`name:_blank`将其作为新选项卡。

如果窗口是用名字打开的，你总是可以`window.parent`从子窗口中打开。如果你打开`_blank`我不确定你是否能得到`window.parent`

[w3schools 窗口打开](http://www.w3schools.com/jsref/met_win_open.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:52:43.770

我不太确定您在问题中的意思，但据我了解，您可能想要使用 HTML 目标属性：

```
_blank  Opens the linked document in a new window or tab
_self   Opens the linked document in the same frame as it was clicked (this is default)
_parent     Opens the linked document in the parent frame
_top    Opens the linked document in the full body of the window 
```

framename 在命名框架中打开链接的文档

来源：[http ://www.w3schools.com/tags/att_a_target.asp](http://www.w3schools.com/tags/att_a_target.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-03T08:51:34.870

您可以通过检查焦点是否丢失来检测使用 onblur

```
<html>
<head>
<script>
function newTab() {
  document.getElementById("demo").innerHTML = "New tab opened!<br><br>refesh this page to recheck ";
}
window.onblur = newTab;
</script>
</head>
<body>
<div id="demo">
Open a new tab and then check this page
</div>
</body>
</html> 
```

# emacs - emacs delete-selection-mode 禁用自身

> ID：14954490
> 
> 赞同：2
> 
> 时间：2013-02-19T09:49:55.843
> 
> 标签：emacs, dot-emacs, emacs24

在我的`.emacs`文件中，我必须全局`(delete-selection-mode t)`启用[删除选择模式。](http://emacswiki.org/DeleteSelectionMode)目前我正在使用 AUXTeX 处理 TeX 文件，所以它可能与 AUCTeX 有关，但我不知道。

起初，在访问文件后`foo.tex`一切正常，并且在标记的文本上键入会用我键入的文本替换标记的文本。但是，一段时间后，在我编译文档、添加 TeX 宏等的过程中，该功能`delete-selection-mode`不再起作用。

我不知道我的哪个动作是导致问题的那个——很难追踪它。

请注意，虽然功能`delete-selection-mode`失败，但当我尝试启用它时（`M-x delete-selection-mode`），我收到一条消息，提示该模式已*禁用*！那就是它之前没有被禁用 - 它只是没有工作......然后启用它（`M-x delete-selection-mode`再次），然后它被启用并再次工作。直到下一次失败...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:25:33.257

在后台，模式使用`pre-command-hook`，它允许命令在每个命令之前运行。众所周知，Emacs 会在发生错误时清除此变量（只是为了确保 Emacs 不会挂起）。这意味着 使用的函数`delete-selection-mode`或*使用此钩子的任何其他模式*触发了错误。

如何解决？找出导致错误的原因，将函数包装在一个`ignore-errors`块中，或者运行一个计时器，每隔十秒左右重新添加一次函数。

# android - Web 应用程序的 Android 移动客户端应用程序必须解决哪些常见安全问题？

> ID：14954493
> 
> 赞同：0
> 
> 时间：2013-02-19T09:50:07.960
> 
> 标签：android, security, android-permissions

我正在为网络应用程序开发一个 Android 移动应用程序。有哪些常见的安全问题需要在它的 android 版本中解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:13:46.193

其实Android除了sandrstar提到的两点外，还有几件事需要注意

1.  意图欺骗
2.  未经授权的意向收据
3.  SQL 注入和查询字符串注入
4.  持久消息：粘性广播

请参阅：[http](http://www.cs.berkeley.edu/~emc/slides/SevenWaysToHangYourselfWithGoogleAndroid.pdf) ://www.cs.berkeley.edu/~emc/slides/SevenWaysToHangYourselfWithGoogleAndroid.pdf以查看不同漏洞和补救措施。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:56:27.590

实际上，据我了解，android 没有任何“特定”安全问题。最常见的似乎是：

*   存储未加密的数据（尤其是登录名/密码）；
*   使用 http 代替 https；

另外，查看[这篇文章](http://www.informationweek.com/security/vulnerabilities/popular-android-apps-vulnerable/240009507)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T12:41:00.020

我建议你看看以下项目：

[https://www.owasp.org/index.php/OWASP_Mobile_Security_Project](https://www.owasp.org/index.php/OWASP_Mobile_Security_Project)

有任何问题，请告诉我。

谢谢法比奥@fcerullo

# html - 处理性能：背景色与静态图片

> ID：14954495
> 
> 赞同：0
> 
> 时间：2013-02-19T09:50:14.493
> 
> 标签：html, css

我倾向于将纯色放在带有虚线边框的大 div（960x1250 像素）中。因此，我应用了 2 个解决方案：

1.  使用`background-color`和`border:`CSS 标签
2.  使用静态 PNG-8 图像

我已经测试了他们两个，但我真的看不出有什么不同。`background-color`有人在使用标签与静态图片时试验网络浏览器的性能吗？

感谢您的提前答复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:54:15.757

唯一可能的区别在于浏览器获取图像所需的时间。与此相比，渲染时间可以忽略不计。

测试时，请确保图像是远程获取的，而不是从浏览器缓存中获取的。当远程获取时，我预测图像选项会慢得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:32:29.577

您应该更喜欢第一个解决方案。

与数千字节的图像数据相比，几个字节的 CSS（即使图像很小且重复）对于客户端的加载和缓存来说毫无意义。在慢速（移动）系统上，使用 CSS 会更好，因为它的渲染速度比图像还要快。使用 CSS 代替静态图像对于可访问性甚至很重要，但主要的努力是，这对于加载和处理来说都更快。

# java - JButton 和 JLabel 不显示在 JDialog 上并且睡眠不起作用

> ID：14954496
> 
> 赞同：0
> 
> 时间：2013-02-19T09:50:18.347
> 
> 标签：java, swing, timer

我有一个框架，当我单击 tester2 框架上的 ok 按钮时，应该看到 tester1 框架，当单击 showbumber 按钮时，我的标签中应该显示一个随机数。

但是当我使用睡眠方法时，我看不到这个生成的数字！

感谢您的帮助。

```
public class tester2 extends JFrame implements ActionListener {

public tester2() {
    setTitle("Hello");
    setLayout(new FlowLayout());
    JButton okButton = new JButton("Ok");
    okButton.addActionListener(this);
    add(okButton);
    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    this.setBounds(40, 50, 300, 400);

}

@Override
public void actionPerformed(ActionEvent e) {
    tester1 tester1 = new tester1(tester2.this);
    tester1.setVisible(true);
}

public static void main(String[] args) {
    new tester2().setVisible(true);
}
} 
```

测试者1：

```
public class tester1 extends JDialog implements ActionListener {

JLabel lbl1;
JButton showButton;

public tester1(JFrame owner) {
    super(owner, "tester1", true);
    showButton = new JButton("Show Number");
    showButton.addActionListener(this);
    lbl1 = new JLabel("     ");

    this.add(showButton);
    this.add(lbl1);
    this.setBounds(40, 50, 300, 400);
}

@Override
public void actionPerformed(ActionEvent e) {
    if (e.getSource() == showButton) {
        GenerateNumber();
        tester1.this.dispose();
    }
}

public void GenerateNumber() {
    Random rnd1 = new Random();
    try {
        Thread.sleep(1000);
        lbl1.setText(String.valueOf(rnd1.nextInt(100)));
    } catch (InterruptedException inrptdEx) {
    }
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:10:11.630

如果您打算在短暂延迟后自动关闭第二帧，则应使用 a`javax.swing.Timer`代替。

阻止 EDT 将阻止它（除其他外）处理重绘请求，这意味着您的 UI 无法在可以更新时更新`Thread.sleep`

相反，您应该使用`javax.swing.Timer`

```
public void GenerateNumber() {
    Random rnd1 = new Random();
    try {
        lbl1.setText(String.valueOf(rnd1.nextInt(100)));
    } catch (InterruptedException inrptdEx) {
    }
    Timer timer = new Timer(1000, new ActionListener() {
        public void actionPerformed(ActionEvent evt) {
            dispose();
        }
    });
    timer.setRepeats(false);
    timer.start();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:28:42.830

`dialog`如果您之前显示 showButton 和 Label，我不会。因为我必须添加一个面板才能显示它们。之后，您需要一个`Timer`类来处理 auto `dispose`。

您的 tester1 现在看起来像这样

```
import java.awt.BorderLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Random;

import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.Timer;

public class tester1 extends JDialog implements ActionListener {

    /**
     * 
     */
    private static final long serialVersionUID = 1L;

    JLabel lbl1;

    JButton showButton;

    public tester1(JFrame owner) {
        super(owner, "tester1", true);
        JPanel jPanel = new JPanel();
        jPanel.setLayout(new BorderLayout());
        this.add(jPanel);

        showButton = new JButton("Show Number");
        showButton.addActionListener(this);
        lbl1 = new JLabel();

        jPanel.add(showButton, BorderLayout.NORTH);
        jPanel.add(lbl1, BorderLayout.CENTER);
        this.setBounds(40, 50, 300, 400);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        if(e.getSource() == showButton) {
            GenerateNumber();
        }
    }

    public void GenerateNumber() {
        Random rnd1 = new Random();
        lbl1.setText(String.valueOf(rnd1.nextInt(1000000)));
        Timer timer = new Timer(1000 * 1, new ActionListener() {

            public void actionPerformed(ActionEvent evt) {
                dispose();
            }
        });
        timer.setRepeats(false);
        timer.start();
    }
} 
```

# c# - Resharper 忽略单元测试以进行使用分析

> ID：14954497
> 
> 赞同：5
> 
> 时间：2013-02-19T09:50:23.090
> 
> 标签：c#, nunit, resharper, code-analysis, resharper-7.1

Resharper 最有用的代码分析工具之一是如果在解决方案中发现没有使用，则将符号标记为未使用。

不幸的是，单元测试涵盖的任何符号都被视为已使用。

=>**我正在寻找一种方法来忽略此使用分析的单元测试。**

浏览 Resharper 选项，我发现了一个标有“编辑要跳过的项目”的按钮。它有一个很长的描述文本，其中包括“......如果解决方案中的某个符号仅在您跳过的文件中使用，则该符号将突出显示为从未使用过。”

这听起来正是我想要的。但是，将单元测试项目放在跳过列表中不仅会显示任何有效未使用的符号，而且只会禁用测试项目的整个代码分析。当然，我仍然想编写好的单元测试代码，从而利用 Resharper 的所有代码分析功能。我只是不想计算测试项目之外的符号使用情况。

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T11:16:12.880

发现了一个非常简单的答案：

卸载测试项目，刷新代码分析。

# java - 在 javascript 或 Jquery 中解析 JSONObject

> ID：14954498
> 
> 赞同：1
> 
> 时间：2013-02-19T09:50:25.900
> 
> 标签：java, jquery, json

嗨朋友们，我`java.util.Map`在 Ajax 方法中有一个像这样的对象..

```
Map<String,List<String>> sm = new TreeMap<>();

    List<String> str = new ArrayList<String>();
    str.add("val1");
    str.add("val2");
    str.add("val3");
    str.add("val4");

    sm.put("shift1", str);
    sm.put("shift2", str);
    sm.put("shift3", str);
    sm.put("shift4", str);

    JSONObject json = new JSONObject(sm);

    response.getWriter().print(json); 
```

在运行时地图元素将根据地图元素增加或减少我必须生成表

这是 Ajax 调用。我不知道如何解析该 Map 对象并在 javascript 中动态生成表。

请告诉我如何。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:06:19.457

我只是在回答你的问题。我不知道java，也不明白你上面给出的细节。如果我错了，我很抱歉，请忽略它。

将字符串解析为对象

> 在 jQuery 中，$.parseJSON(string);
> 
> 在js中，JSON.parse(string);

我希望这会帮助你。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:16:55.527

```
var json = $.parseJSON( jsonString );

// This one wouldn't be supported in old browsers
json = JSON.parse( jsonString ); 
```

此外，您可以在 Java 中使用 Content-Type 进行响应，`application/json`然后在 jQuery AJAX 中您将收到已经为您解析的 JSON。

当然，如果您专门配置您的 jQuery AJAX 调用以接收纯文本、HTML 或其他内容类型的响应，这当然不会发生。如需更多参考，[请参阅此处](http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings)的`dataType`设置。

# java - 如何在 log4j 2 中添加/减去日期？

> ID：14954499
> 
> 赞同：1
> 
> 时间：2013-02-19T09:50:28.340
> 
> 标签：java, logging, configuration, log4j, log4j2

```
i have following configuration file in log4j 2

<RollingFile name="RollingFile" fileName="logs/test.log" 
        filePattern="logs$${date:yyyyMM}/app-%d{MM-dd-yyyy}.log">
                    <PatternLayout pattern="%d %-5p [%t] %C{4} (%F:%L) - %m%n"/>
                    <Policies>
                        <OnStartupTriggeringPolicy />
                        <SizeBasedTriggeringPolicy size="20 MB"/>
                    </Policies>
                    <DefaultRolloverStrategy fileIndex="max" max="100"/>
                </RollingFile> 
```

我可以在 filePattern 中执行日期加法和/或减法吗？? 截至目前，翻转时生成的文件具有当前日期。我想从中减去一天。怎么做到呢 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-12T06:02:47.390

目前这是不可能的，但我相信之前有人要求过类似的事情。[我相信在 Log4j-2.0 问题跟踪器 ( https://issues.apache.org/jira/browse/LOG4J2](https://issues.apache.org/jira/browse/LOG4J2) )上提交您的请求可能是最好的方法。

# eclipse - Eclipse运行电梯项目（项目配置问题）

> ID：14954500
> 
> 赞同：0
> 
> 时间：2013-02-19T09:50:28.753
> 
> 标签：eclipse, maven, lift, scala-ide

试图让一个电梯项目在windows上运行，我已经安装`maven`在我的电脑上，然后尝试使用

`mvn archetype:generate`从`cmd`，然后选择了电梯基本的，但它总是失败`jetty:run`。在此之前，我必须更改很多 pom.xml 文件才能成功构建（因为我使用的教程已经过时并且找不到依赖项）。

所以我决定尝试使用`eclipse`插件，认为它应该更容易。我已经安装了`maven`插件`eclipse`并使用`lift archetype`. 该项目已成功创建，但我在编辑器中有各种错误，`;`等等（我也`scala ide`安装了`eclipse`并创建了一个正常的 scala 项目，并且编译/运行良好）。我也尝试将 包含在`scala-library.jar`中`buildpath`，没有任何变化。

***奇怪的是，我可以运行 cmd 并转到项目文件夹，然后运行`mvn jetty:run`它，它实际上会工作（？！）***尝试在 eclipse 中以`jetty:run`as 目标运行会给我 HelloWorld 片段上的 ClassNotFoundException。

那么我的设置可能有什么问题？

更新：无论如何都没有运气，在尝试了 3 个不同的 eclipse 版本后，安装了 maven for scala 插件并按照我能找到的每个教程进行操作。只是感觉说明上的一切都过时了：这就是我在每个项目中包含 eclipse 的 scala 库后的样子（在我从原型创建它之后）： ![在此处输入图像描述](../Images/abcb5a802c9a96e08765c2d0c8fc0a00.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:20:26.190

这个“mvn archetype:generate”是最新的吗？我不知道是否有人保证它会工作。无论如何，至少尝试 Lift 并看到它工作的默认方法如下：[https ://github.com/lift/lift_25_sbt](https://github.com/lift/lift_25_sbt)

它使用“简单构建工具”而不是 maven，但 maven 也应该可以工作。此外，您可以轻松阅读“build.sbt”以获取所有依赖项。包括用于创建 eclipse/intellij 项目定义的插件。（请参阅演示项目的自述文件。）

创建 eclipse 项目的目标是“eclipse”或“eclipse with-sources=true”。启动应用程序的目标是“container:start”。

# jquery - 在移动设备上的区域上点击状态

> ID：14954506
> 
> 赞同：0
> 
> 时间：2013-02-19T09:50:43.613
> 
> 标签：jquery, html, jquery-ui, mobile

我正在建立一个移动网站。我目前正在使用 jquery ui，因为它从 cdn 加载比使用 jquery mobile 更快

我的问题实际上是关于如何处理悬停状态/可点击区域？

我想向用户展示他们点击了按钮。

有没有一个好的方法来实现这个 - 我应该使用悬停还是有更好的方法来做到这一点？

抱歉知道这有点随机

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:00:32.313

您不能使用悬停状态，因为无法知道用户是否将手指悬在按钮上方，但是您可以使用活动状态。按下按钮时，活动状态变为......好吧......活动，然后你可以让按钮图像/样式被“按下”看起来像是被按下，然后它会在按下时恢复正常用户松开手指，就像真正的按钮一样。

这可以完全用 CSS 完成，不需要任何 javascript。默认的 jquery-ui 按钮确实已经使用了活动状态。

# django - 为什么我的 Django request.method 与 POST 不匹配

> ID：14954510
> 
> 赞同：0
> 
> 时间：2013-02-19T09:50:55.870
> 
> 标签：django

```
$.ajax({
    type :'GET',

    url : geturl(a),
    // type: $(this).attr('method'),
    dataType : 'json', 
```

视图.py：

```
 if request.method=="POST":

        if request.POST.get('monyrsubmit'):

            monthform=MonthForm(request.POST)
            if monthform.is_valid():
                selected_month=monthform.cleaned_data["Month"]
                selected_year=monthform.cleaned_data["Year"]
                print selected_month
                print selected_year 
```

我可以在 ajax 的类型字段中有 GET 和 POST 请求吗？我使用表单并且仅当单击提交按钮时我试图根据提交的数据显示信息。如果 request.POST.get('monyrsubmit') 不起作用。帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:37:22.873

这很简单。您必须抽象事件。

```
function event_page_load() {
   function ajax_request('GET')
}

function click_submit_button() {
   function ajax_request('POST')
}

function ajax_request(type) {

 $.ajax({
    type : type,
    ......
    ......
 })
} 
```

您还可以考虑以下一般准则。应根据对服务器的请求类型使用 GET 和 POST

```
 - If you are reading the existing data(without modification) from the server, use GET
 - if you are writing/modifying any data in the server, use POST 
```

在 jQuery 中，您可以使用这些简单的方法。

对于 GET 请求

```
$.get(  
    url,  
    {param1: "value1", param2: "value2"},  
    function(responseText){  
        // todo ;  
    },  
    "html"  
); 
```

对于 POST 请求

```
$.post(  
    url,  
    {param1: "value1", param2: "value2"},  
    function(responseText){  
        // todo ;  
    },  
    "html"  
); 
```

确保您已禁用浏览器缓存。

```
$.ajaxSetup ({  
        cache: false  
    }); 
```

在 django 端，您可以使用`request.is_ajax()`方法来验证 ajax 调用，并且可以基于`request.method`属性进行过滤。

[您可以在https://github.com/sivaa/django-jquery-ajax-exmaples](https://github.com/sivaa/django-jquery-ajax-exmaples)参考 Djano 的所有可能用法

# linux - Shell Scripting：执行带有时间延迟的回显语句

> ID：14954517
> 
> 赞同：4
> 
> 时间：2013-02-19T09:51:09.817
> 
> 标签：linux, shell, unix

有什么办法可以延迟运行几个回显语句？

例如：

第一个声明将是：

```
echo Hello1 
```

1/2 秒后，运行 Second echo 语句：

```
echo Hello2 
```

同样，是否可以在不一次打印所有回声的情况下，一个接一个地运行多个语句并延迟时间？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T10:01:43.690

也许您想使用`sleep <number of seconds>` Like`sleep 60`等待一分钟。

例如。从命令行运行

$`echo 'hello1'; sleep 2; echo 'hello2'`

或在 bash 脚本文件 (myscript.sh) 中

```
#!/bin/bash
echo 'hello1'
sleep 2
echo 'hello2 after 2 seconds'
sleep 2
echo 'hello3 after 2 seconds' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:01:40.737

```
echo Hello1
usleep 500000 # sleep 500,000 microseconds
echo Hello2 
```

该`usleep(1)`命令是`initscripts`Fedora 软件包的一部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-04T03:06:56.420

对于 i 在 `echo "hello1 hello2 hello3"`; 回声 $i; 睡觉 2; 完毕

# android - 在平板设备上保持手机布局比例的工具/方法

> ID：14954519
> 
> 赞同：0
> 
> 时间：2013-02-19T09:51:12.070
> 
> 标签：android, android-layout

这是一个示例布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="50dp"
        android:text="@string/hello_world" />

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/textView1"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="50dp"
        android:src="@drawable/ic_launcher" />

</RelativeLayout> 
```

在手机（480x800）和平板电脑（1280x800）上，布局从图像视图到底部的剩余空间量不同。图像未在平板电脑上缩放，并且 dp 值会产生相对相同的物理值。

有没有办法/工具来保存平板电脑的手机比例，以便缩放图像、空间（dp）？我想，我可以使用 values-xlarge/dimen.xml、values-720dp/dimen.xml，但这是很多机械工作。有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:54:52.553

尝试这个：

```
<LinearLayout 
      :
      :        
 android:focusable="true"
      :
/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:56:16.013

如果要调整 ImageView 的缩放添加

```
 android:scaleType="fitXY" 
```

以下是 ImageView 比例类型 [http://developer.android.com/reference/android/widget/ImageView.ScaleType.html](http://developer.android.com/reference/android/widget/ImageView.ScaleType.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:04:01.250

如果您希望您的应用在 2 倍大的显示屏上大 2 倍（所有尺寸和字体大小 x2），您可以手动更改显示密度（将其减少一半）。Android 不会介意，会照常工作。当我希望我的应用程序相同并且仅根据屏幕大小更改比例时，我会使用此技巧。阅读[Configuration](http://developer.android.com/reference/android/content/res/Configuration.html) / [DisplayMetrics](http://developer.android.com/reference/android/util/DisplayMetrics.html) / [updateConfiguration](http://developer.android.com/reference/android/content/res/Resources.html#updateConfiguration%28android.content.res.Configuration,%20android.util.DisplayMetrics%29)。这是您应该在活动的 onCreate 中运行的草稿代码。我稍后会给你确切的代码。

```
DisplayMetrics dm = context.getResources().getDisplayMetrics();
// fix display density here to scale all activity's dimentions
context.getResources().updateConfiguration(null, dm); 
```

但这不是正确的android方式。您应该使用适当的资源文件夹为不同的屏幕尺寸提供不同的资源。

# solr - 无法使用标记和排除过滤器

> ID：14954520
> 
> 赞同：1
> 
> 时间：2013-02-19T09:51:13.493
> 
> 标签：solr, filter, tagging

我有 2 个 Facets 颜色和形状。

颜色：红色 绿色 黄色

形状：圆形方形

现在我想为这两个方面使用标记和排除过滤器。所以如果我选择“红色”，绿色和黄色应该出现在构面列表和所有形状中

我读到： [http ://wiki.apache.org/solr/SimpleFacetParameters#Tagging_and_ exclude_Filters](http://wiki.apache.org/solr/SimpleFacetParameters#Tagging_and_excluding_Filters)

但无法在我的设置中实现它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:05:31.647

这对我来说很好。

select?q={!tag=dt1}color:red&fq={!tag=dt2}shape:*&facet=true&facet.field={!ex=dt1}color&facet.field={!ex=dt2}shape

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T05:42:42.310

尝试

`http://localhost:8983/solr/collection1/select?q={!tag=dt1}color:red&fq={!tag=dt2}shape:*&facet=true&facet.field={!ex=dt1}color&facet.field={!ex=dt2}shape`

# ios - 在另一个 XIB 中指定类时如何使用 CustomView.xib 加载 CustomView？

> ID：14954523
> 
> 赞同：2
> 
> 时间：2013-02-19T09:51:38.013
> 
> 标签：ios, uiview, uinib

我使用 CustomView.xib 文件创建 CustomView:UIView。现在我想通过将视图拖到另一个 XIB（例如：UIViewController.xib）并选择类：customView 来使用它。

当我初始化CustomView并将SubView添加到另一个视图时，我可以成功加载：

```
- (void)viewDidLoad{
    //Success load NIB
    CustomView *aView = [[CustomView alloc] initWithFrame:CGRectMake(40, 250, 100, 100)];
    [self.view addSubview:aView];
} 
```

//自定义视图.m

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        NSLog(@"INIT");
        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"CustomCell" owner:self options:nil];
        [[nib objectAtIndex:0] setFrame:frame];
        self = [nib objectAtIndex:0];
    }
    return self;
} 
```

在这种情况下，通过将 CustomCell 绘制到另一个 XIB 中来重用 CustomCell，然后将类指定为 CustomView。我知道 awakeFromNib 被调用，但不知道如何加载 CustomView.xib。怎么做？

*编辑：

在指定类时也会调用 initWithCoder，但它会创建一个循环并使用 loadNibNamed 崩溃。为什么？

```
- (id)initWithCoder:(NSCoder *)aDecoder{
    if (self = [super initWithCoder:aDecoder]) {
        NSLog(@"Coder");
        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"QSKey" owner:nil options:nil];
        [[nib objectAtIndex:0] setFrame:self.bounds];
        self = [nib objectAtIndex:0];
    }
    return self;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:16:19.303

Directly drag custom xib in your view controller is not possible.But you can do one thing,drag its super class view and set its class to your custom class.And connect its properties to the objects you will place according to your Custom Class.

You can directly load your custom xib using following code:

//load xib using code ....

```
 QSKey *keyView=[[QSKey alloc] init];
   NSArray *topObjects=[[NSBundle mainBundle] loadNibNamed:@"QSKey" owner:self options:nil];

for (id view in topObjects) {
    if ([view isKindOfClass:[QSKey class]]) {
        keyView=(QSKey*)view;
    }
}

keyView.label.text=@"CView";
[keyView setFrame:CGRectMake(0, 0, 100, 100)];
[keyView setBackgroundColor:[UIColor redColor]];
[self.view addSubview:keyView];

here label is UILabel object you have used in your custom class as its property.

//Load custom View using drag down objects of type Custom Class Super class.

for (QSKey *aView in self.view.subviews) {
    if ([aView isKindOfClass:[QSKey class]]) {
        [self addGestureRecognizersToPiece:aView];
        aView.label.text=@"whatever!";
    }
}

Here label is object of UILabel you have to place on your dragged View to view controller's xib view.Change that view's class to your Custom Class.Then it will will show its label property in outlet connect it to your UILabel object placed over dragged view. 
```

Here is a working code [TestTouchonView](https://github.com/ipreencekmr/TestTouchOnView)

And the Screenshot will display as follows.

![enter image description here](../Images/058a2393bfd1c73ff7945fe34eb5cf2b.png)

# javascript - 是否有能力在 nodeJS 中使用 zlib 解压缩 gzipped 字符串？

> ID：14954533
> 
> 赞同：1
> 
> 时间：2013-02-19T09:52:12.127
> 
> 标签：javascript, node.js, gzip, zlib, compression

今天是个好日子！我正在尝试使用 nodeJS 调整我的代码，但在解压方面遇到了一点问题。我正在使用 xhr 向服务器发出请求，并获得压缩数据作为响应，但我无法将其解压缩为可读对象。这是我的代码示例：

```
var xmlHttp = null;

xmlHttp = new XMLHttpRequest();
xmlHttp.open(method, url, false);

for (key in headers) {
    xmlHttp.setRequestHeader(key, headers[key]);
}

xmlHttp.send(postData);
console.log(xmlHttp.responseText);
zlib.gunzip(xmlHttp.responseText, function(error, result) {
    console.log(error, result);
}); 
```

但是“console.log(error, result);” 从未调用过，所以对我来说似乎很奇怪，但我不知道该怎么做。

另外，我当然在这里阅读了所有相关问题，首先是文档，但它什么也没给我。所以我会很感激任何帮助，即使它只是文档中的一个标记字符串，可能我错过了

# ios - iOS：uitableview 将第一个单元格上的对象重绘到底部单元格

> ID：14954535
> 
> 赞同：0
> 
> 时间：2013-02-19T09:52:14.250
> 
> 标签：ios, uitableview, scroll

我有一个带有自定义单元格的 uitableview .. 使用普通代码

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    DDMainCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];
    if (cell == nil)
    {
        cell = [[DDMainCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

    }
} 
```

问题是当我选择一个单元格时，我在在线下载数据的单元格上添加了进度条.. 但是当我向下滚动时，我发现每 10 个单元格都有相同的进度条.. 我怎样才能防止这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:04:28.973

试试这个，

```
 - (void)viewDidLoad
 {
[super viewDidLoad];
dataarr=[[NSMutableArray alloc]init];
indexarr=[[NSMutableArray alloc]init];
mytableview=[[UITableView alloc]initWithFrame:self.view.bounds style:UITableViewStylePlain];
mytableview.dataSource=self;
mytableview.delegate=self;
[self.view addSubview:mytableview];
for (int i=0; i<30; i++) {
    [dataarr addObject:[NSString stringWithFormat:@"%d",i]];
}
// Do any additional setup after loading the view, typically from a nib.
 }

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
// Return the number of sections.
return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
// Return the number of rows in the section.
 return [dataarr count];
 }

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

static NSString *CellIdentifier = @"Cell";

 UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] ;
}
cell.textLabel.text=[dataarr objectAtIndex:indexPath.row];
UIActivityIndicatorView *act=[[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];
[act setFrame:CGRectMake(50, 20, 20, 20)];
act.hidden=YES;

[cell.contentView addSubview:act];
cell.selectionStyle=UITableViewCellSelectionStyleNone;
if ([indexarr containsObject:[dataarr objectAtIndex:indexPath.row]])
{
    [act startAnimating];

    act.hidden=NO;
    return  cell;

}

return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

 if ([indexarr containsObject:[dataarr objectAtIndex:indexPath.row]])
{
    [mytableview reloadData];

    return;
}
[indexarr addObject:[dataarr objectAtIndex:indexPath.row]];
[mytableview reloadData];

} 
```

确保下载完成后，从 indexarr 中删除此对象...。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T09:56:29.347

那是因为你的细胞被重复使用了；`UITableView`会将屏幕外单元格放入可重用单元格队列中，如果`reuseIdentifier`匹配，则将它们出列以供重用。您应该使用其他一些数据结构（例如`NSArray`或`NSDictionary`）来跟踪哪些索引/单元格已被点击。然后，在您上面显示的方法中，无论单元格是初始化还是出列，都根据您的基础数据结构设置进度条。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-19T12:49:27.580

这里你使用`UITableViewCellIdentifier`的是`reuseIdentifier`. 这适用于所有相同类型的单元格。现在您正在使用带有进度条的单元格。现在它将与所有单元格数据不同。

因此，再使用一个 tableview 单元格作为进度条，或者在重新加载表格时删除已经存在的进度条并再次添加。对于进度条的这个使用标签。

# facebook-graph-api - “#200 您没有足够的权限来执行此操作”在 Facebook 图表中

> ID：14954536
> 
> 赞同：2
> 
> 时间：2013-02-19T09:52:15.917
> 
> 标签：facebook-graph-api, comments

我已经集成了 facebook graph Api，用于在任何公司或粉丝页面上共享的帖子上发表评论。

当用户在网站上对帖子发表任何评论时，首先将其分享到用户的墙上并且工作正常，然后它将显示为对特定帖子的评论（在页面上共享）。但是，每当我尝试发表评论时，facebook 都会抛出“#200 您没有足够的权限来执行此操作”这个错误。我不明白我做错了什么。这是我用于发表评论的代码。

数组 ( [78] => 10 [19913] => 1 [13] => 60 [10018] => facebook-php-3.1 [10015] => access_token=ACCESS_TOKEN&from=100002208841973&link=SITE_URL&name=Arjun+Thakur&message=test&scope=publish_actions %2C+offline_access%2C+manage_pages&method=post [10002] => [https://graph.facebook.com/owner_id_post_id/comments](https://graph.facebook.com/owner_id_post_id/comments)

)

谁能帮帮我，我真的受够了。这个问题几乎是我三天的时间，我尝试了网上提到的所有内容，但仍然无法正常工作。

提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-07-18T13:00:09.040

检查您的应用的隐私设置是否公开，否则将其公开。

要更改应用程序的隐私设置：

*   转到*设置*
*   点击*应用*
*   然后将“*应用可见性和发布受众*”更改为公开。

# html - 字体在 chrome 中无法正常工作

> ID：14954542
> 
> 赞同：-1
> 
> 时间：2013-02-19T09:52:42.997
> 
> 标签：html, css

我正在使用这个 css，但它不能正常工作。

```
@font-face {
 font-family: OpenSans-Bold;
 src: url('../design_images/font/OpenSans-Bold.eot'); /* EOT file for IE */
 font-weight:normal;
 font-style:normal;

}
@font-face {
 font-family: OpenSans-Regular;
 src:url('font/OpenSans-Regular.eot');
 font-weight:normal;
 font-style:normal;

}

@font-face {
 font-family: Oswald-Regular;
 src: url('font/Oswald-Regular.eot');
 font-weight:normal;
 font-style:normal;

}
@font-face {
 font-family:OpenSans-Regular;
 src: url('font/OpenSans-Regular.ttf'); /* TTF file for CSS3 browsers */
 font-weight:normal;
 font-style:normal;
}
@font-face {
 font-family:OpenSans-Bold;
 src: url('font/OpenSans-Bold.ttf');
 font-weight:normal;
 font-style:normal;
}
@font-face {
 font-family: Oswald-Regular;
 src: url('font/Oswald-Regular.otf');
}

.newr {
        font-family:Oswald-Regular;
        font-size:20px;
        font-style:normal;
        font-smooth:Crisp;
        font-weight:normal;
        color:#f9e211;
        text-transform:uppercase;
        margin:21px 0 0 25px;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:58:55.933

有时，我将常规字体转换为 webfonts 以使它们看起来更平滑和更干净，并将它们添加到我的 CSS 中，如下所示：

```
@font-face {
   font-family: 'ArvoRegular'; 
   src: url('Arvo-Regular-webfont.eot'); 
   src: url('Arvo-Regular-webfont.eot?#iefix') format('embedded-opentype'), 
        url('Arvo-Regular-webfont.woff') format('woff'),
        url('Arvo-Regular-webfont.ttf') format('truetype'), 
        url('Arvo-Regular-webfont.svg#ArvoRegular') format('svg'); 
   font-weight: normal; 
   font-style: normal; 
} 
```

搜索 @font-face Generators 以生成您想要的字体。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T09:58:48.350

用这个：

```
@font-face{
   font-family: fontFamilyNameHere ;
   src: url(.eot file path here); /* For IE */
   src: local("fontNameHere"), url(.ttf file path here) format("truetype"); /* non-IE */ 
   font-weight:normal;
   font-style:normal;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:05:05.540

看起来您的 src 属性中有两个不同的路径。一个是

> src: url('../design_images/font/OpenSans-Bold.eot'); /* IE 的 EOT 文件 */

其他的是

> src:url('字体/OpenSans-Regular.eot');

为什么一条路径链接到`../design_images/font/`而另一条路径链接到`font/`？这可能是您的问题，取决于您的目录结构。只是想我会指出这一点。

# javascript - 不同浏览器之间的文本高度

> ID：14954549
> 
> 赞同：1
> 
> 时间：2013-02-19T09:52:58.923
> 
> 标签：javascript

我做了一个简单的例子并尝试获取字符串的高度。

```
jQuery(function () {
    var jqSpan = $('span');
    jqSpan.css({
        'font-family': 'Arial',
        'font-size': '24px',
        'font-weight': 'bold'
    });
    $('#result').text(jqSpan[0].offsetHeight);
}); 
```

[http://jsfiddle.net/DCBP9/1/](http://jsfiddle.net/DCBP9/1/)

我发现不同浏览器之间的值不同。我使用了reset.css，但它的值仍然不一样。

例如：（Mac）
在我的例子中，Chrome 是 27，Firefox 是 28，Opera 是 25，Safari 是 27

我知道每个浏览器都有自己的渲染引擎，但我想知道是否可以让它们相同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:14:16.963

您需要添加“行高”属性。但问题是您需要将其设置为块项目。在这种情况下，您将始终获得相同的高度。

请参阅此处的示例：http: [//jsfiddle.net/dDat4/2/](http://jsfiddle.net/dDat4/2/)

```
jQuery(function () {
var jqSpan = $('p');
jqSpan.css({
    'font-family': 'Arial',
    'font-size': '24px',
    'font-weight': 'bold',
    'line-height': '28px'
});
$('#result').text(jqSpan[0].offsetHeight); 
```

});

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:06:00.467

要在所有浏览器上达到相同的高度，您需要考虑两件事：

1.  使用[等宽字体](http://en.wikipedia.org/wiki/Monospaced_font)，例如“Consolas”。
2.  使用固定大小的字体单位：点。

代码如下所示：

```
jqSpan.css({
    'font-family': 'Consolas',
    'font-size': '20pt',
    'font-weight': 'bold'
}); 
```

[更新了小提琴](http://jsfiddle.net/DCBP9/7/)。

在 Chrome 和 Firefox 上均显示 32。

# sql - 获取具有相同“文本”但不同“代码”的记录

> ID：14954550
> 
> 赞同：2
> 
> 时间：2013-02-19T09:53:00.650
> 
> 标签：sql, sql-server

我有一个如下表（使用 SQL server 2008 R2 Enterprise）：

```
create table Message
(
ID int Not Null Primary Key,
Text nvarchar(100) not null,
Code nvarchar(50) null
)

Insert Into Message Values (1,'Hello Everybody','T6/45')
Insert Into Message Values (2,'Hello Everybody',Null)
Insert Into Message Values (3,'Hello Everybody','T6/45')
Insert Into Message Values (4,'Hello Everybody','T6/45')
Insert Into Message Values (5,'Hello Everybody','T6/70')
Insert Into Message Values (6,'Hello Everybody','T6/70')
Insert Into Message Values (7,'Hello','T6/70')
Insert Into Message Values (8,'Hello','T6/45')
Insert Into Message Values (9,'Hello Everybody',Null)
Insert Into Message Values (10,'Hello Everybody','T6/70')
Insert Into Message Values (11,'Hello',Null) 
```

我需要获取所有具有相同`Text`但不同的记录`Code`。而且`Code`不会`Null`。

所以预期的输出将是：

```
Insert Into Message Values (1,'Hello Everybody','T6/45')
Insert Into Message Values (5,'Hello Everybody','T6/70')
Insert Into Message Values (7,'Hello','T6/70')
Insert Into Message Values (8,'Hello','T6/45') 
```

我尝试了以下查询，但它返回了几行：

```
select m1.* 
from Message M1 
With (nolock)
JOIN Message M2 
With (Nolock) 
On m1.Text=m2.Text
where (m1.ID<>m2.ID 
  and m1.Code<>m2.Code 
  and m1.Code is not null) 
```

我怎样才能得到预期的结果？

此外，这是一个示例数据库。我需要在大约有 5000 万条记录的表上运行查询。所以任何优化的查询都会有很大的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:06:32.480

```
SELECT ID,TEXT,CODE
FROM message
WHERE ID IN 
(
  SELECT MIN(ID) FROM message
 WHERE CODE IS NOT NULL GROUP BY TEXT,CODE
) 
```

或者

```
SELECT 
   MIN(ID)
   ,TEXT
   ,CODE 
FROM message
WHERE CODE IS NOT NULL GROUP BY TEXT,CODE
ORDER BY MIN(ID) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:12:03.433

试试这个; [SQL-FIDDLE-DEMO](http://sqlfiddle.com/#!3/b0201/29)

```
;with cte as (
  select id,text,code, row_number() over (partition by text,code order by id) rn
  from message
  where code is not null
)
select id,text,code
from cte 
where rn = 1
order by id 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T09:59:56.500

```
SELECT m.*
FROM message m
WHERE EXISTS (
      SELECT 1
        FROM message m2
       WHERE m2.text = m.text
         AND m2.code = m.code
         AND m2.code IS NOT NULL
    GROUP BY m2.text, m2.code
      HAVING MIN(m2.id) = m.id
      ) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T10:05:33.950

```
SELECT DISTINCT m.* 
FROM Message m 
WHERE EXISTS (
  SELECT * 
  FROM Message m1 
  WHERE m1.Id<>m.id 
  AND m1.code<>m.code 
  AND m1.Text=m.Text) 
AND m.Code IS NOT NULL 
```

# pdf - 如何向现有 PDF 文件中的图像添加超链接？

> ID：14954558
> 
> 赞同：0
> 
> 时间：2013-02-19T09:53:16.873
> 
> 标签：pdf, itext

我有一个包含图像的 pdf 文本框。现在我想使用 itext 从代码中以编程方式添加到该图像的超链接。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T14:54:55.850

Download the [ExtractImages](http://itextpdf.com/examples/iia.php?id=284) and [MyImageRenderListener](http://itextpdf.com/examples/iia.php?id=283) sample code. Rewrite it so that it doesn't extract the images, but use it to get the [ImageRenderInfo](http://api.itextpdf.com/itext/com/itextpdf/text/pdf/parser/ImageRenderInfo.html#getImageCTM%28%29) and use its `getMatrix()` method. The Matrix gives you the coordinates and size of the images in your PDF.

Now use these coordinates to create a link annotation as is done in the [TimetableAnnotations2](http://itextpdf.com/examples/iia.php?id=150) example.

# sql - 如何在 SQL 2008 中将单行拆分为多行

> ID：14954559
> 
> 赞同：0
> 
> 时间：2013-02-19T09:53:37.137
> 
> 标签：sql, xml, sql-server-2008, xquery

我在单行中有值，由一些分隔符分隔，它是数据库中的单行。但是在检索值时，我想根据行中存在的分隔符将值作为多行获取。

以下是我的查询：

```
SELECT (
SELECT 
RTRIM(ISNULL(T1.[CIMtrek_Keywords],'')) AS '@CIMtrek_Keywords'
FROM 
(SELECT 
     NULLIF(CD.[CIMtrek_Keywords],'') CIMtrek_Keywords
     FROM CIMtrek_SystemTable_DatawareHouse CD WHERE  LEN(LTRIM(RTRIM(ISNULL(LTRIM(RTRIM(CD.[CIMtrek_KeyField])),'')))) != 0 and CIMtrek_KeyField='CER Type') AS T1 
FOR XML PATH('Record'), TYPE ) FOR XML PATH('CarrierCode_Destination'), TYPE 
```

以下是我得到的结果。

```
 <CarrierCode_Destination>
  <Record CIMtrek_Keywords="Bucket - Minor Project|Bucket - Major Project|Budget - Named Project|AddFund - Named Project|Already Approved|Admin" />
</CarrierCode_Destination> 
```

但我希望关键字在上述情况下作为多行出现，它将是五行，因为稍后我将不得不将这些值带入组合框中。

请帮助我做到这一点。

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:56:53.313

您可以使用[此](http://www.codeproject.com/Articles/7938/SQL-User-Defined-Function-to-Parse-a-Delimited-Str)功能。它根据输入字符串和分隔符返回一个拆分值表。

用法：

```
select * 
from dbo.fn_ParseText2Table('Bucket - Minor Project|Bucket - Major Project|Budget - Named Project|AddFund - Named Project|Already Approved|Admin','|') 
```

输出：

```
POSITION    INT_VALUE   NUM_VALUE   TXT_VALUE
1           (null)      (null)      Bucket - Minor Project
2           (null)      (null)      Bucket - Major Project
3           (null)      (null)      Budget - Named Project
4           (null)      (null)      AddFund - Named Project
5           (null)      (null)      Already Approved
6           (null)      (null)      Admin 
```

我已经为你准备了 SqlFiddle：[http ://sqlfiddle.com/#!3/d41d8/9030](http://sqlfiddle.com/#!3/d41d8/9030)

# javascript - 如何使用 apply 创建新的 Backbone 视图

> ID：14954561
> 
> 赞同：1
> 
> 时间：2013-02-19T09:54:00.463
> 
> 标签：javascript, backbone.js

我需要使用参数数组创建一个新的 View 实例。因为我不想打电话

```
 new View(array) 
```

我试过[这个解决方案](https://stackoverflow.com/a/8843181/184883)。但不幸的是，这不起作用，这意味着没有 arg 被传递到初始化函数中。那么是否可以创建一个传入数组的新视图，但在初始化函数中只有一次参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:44:07.427

您可以通过一些原型技巧来实现这一点：

```
function createView() {
    var args = arguments;

    //create a factory function, so we can get the "this" context
    function Factory() { return YourViewClass.apply(this, args);}

    //assign factory prototype (essentially makes factory a YourViewClass)
    Factory.prototype = YourViewClass.prototype;

    //invoke factory function
    return new Factory();
};

var view1 = createView({model:model}, 1, 2, 3);
var view2 = createView.apply(null, argumentArray); 
```

使用可变参数实例化任何“类”（构造函数）的通用解决方案：

```
function instantiate(ctor) {
    //strip first arg, pass rest as arguments to constructor
    var args = Array.prototype.slice.call(arguments, 1);
    function Factory() { return ctor.apply(this, args);}
    Factory.prototype = ctor.prototype;
    return new Factory();
};

//call directly
var view1 = instantiate(YourViewClass, {model:model}, 1, 2, 3);

//partially apply to create a factory for a specific view class
var viewFactory = _.partial(instantiate, YourViewClass);
var view2 = viewFactory({model:model}, 1, 2, 3); 
```

# iphone - 在应用程序的地图视图内显示方向而不打开 iPhone 地图应用程序

> ID：14954562
> 
> 赞同：0
> 
> 时间：2013-02-19T09:54:01.710
> 
> 标签：iphone, ios, objective-c, xcode

我需要在不打开的情况下显示`directions`从我的应用程序内的另一个目的地。这可能与吗？使用 有解决方案，但我希望使用.`current location``Apple map app``MapKit framework``UIWebviews``mapview`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:04:11.550

您可以使用 MKPolyline 在地图中绘制线条。看到这个链接

[http://spitzkoff.com/craig/?p=136](http://spitzkoff.com/craig/?p=136)

[https://github.com/kishikawakatsumi/MapKit-Route-Directions](https://github.com/kishikawakatsumi/MapKit-Route-Directions)

[http://cloudmade.com/](http://cloudmade.com/)

这些都是教程和开源库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:04:18.243

使用 google map api 通过添加起点和终点纬度和经度从谷歌获取折线。[这](https://developers.google.com/maps/documentation/directions/)是 api 的链接。

这是 api 网址：

```
http://maps.googleapis.com/maps/api/directions/json?origin=starting_address&destination=destination_address&sensor=false 
```

有关创建折线的参考，请参阅 mapkit doc，以及来自 github 的这个项目。[nvpolyline](https://github.com/wlach/nvpolyline) , [route-me](https://github.com/route-me/route-me) , [mapLines](https://github.com/psholtz/iOS/tree/master/MapLines) , [MapKit-Route-Directions](https://github.com/kishikawakatsumi/MapKit-Route-Directions)

# asp.net - 当我通过正常请求加载大内容时，有什么方法可以显示加载图像（如 ajax 加载 gif）？

> ID：14954573
> 
> 赞同：0
> 
> 时间：2013-02-19T09:54:41.380
> 
> 标签：asp.net, internet-explorer, browser, rendering, loading-image

当我通过正常请求加载大内容时，有什么方法可以显示加载图像（如 ajax 加载 gif）？

我没有 ajax 请求，但有一个简单的 asp.net 回发。我有一个包含成百上千个元素的大型网站。因此，页面需要 4-10 秒才能完全加载，因此页面是白页，在渲染之前不会显示任何元素。也许显示了一些元素，但浏览器仍在渲染。

是否有任何机会不使用 ajax 等来显示加载图像？互联网浏览器优先。

[![](../Images/6188be73985fff48d7d1ce8d29e0828e.png)](https://i.stack.imgur.com/Tp29a.gif)
[（来源：[kuka-robotics.com](http://www.kuka-robotics.com/res/icn/ajax_loader.gif)）]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:03:36.390

将此脚本添加到您的代码中，并在加载正文标记时调用 init() 函数。

```
 <script type="text/javascript">
     var ld=(document.all);
      var ns4=document.layers;
     var ns6=document.getElementById&&!document.all;
     var ie4=document.all;
      if (ns4)
        ld=document.loading;
     else if (ns6)
        ld=document.getElementById("loading").style;
     else if (ie4)
        ld=document.all.loading.style;
      function init()
     {
     if(ns4){ld.visibility="hidden";}
     else if (ns6||ie4) ld.display="none";
     }
     </script> 
```

并且加载body标签调用Init();

```
<body style="background-color:#FFFFFF;" onLoad="init()">
<div id="loading" style="position:absolute; width:200px; height:163px; text-align:center;top:310px; left:487px;">
<img src="load.gif" border=0 /></div>

....

..
</body> 
```

让我知道它是否适合你。

一切顺利。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:04:12.000

您可以创建两个容器：

*   带有加载图像的容器，从开始时可见并在页面加载完成时隐藏
*   包含内容的容器，从一开始就隐藏并在页面加载完成时显示

您可以使用 javascript 使容器在页面加载完成时可见。

例如：

```
<div id="loading_container">
     <img src="http://www.kuka-robotics.com/res/icn/ajax_loader.gif" />
</div>
<div id="main_container" style="display:none">
     <!-- your content here -->
</div>
<script type="text/javascript">
      window.onload=function(){
         document.getElementById("loading_container").style.display = 'none';
         document.getElementById("main_container").style.display = 'block';
      };
</script> 
```

# reporting-services - 在SSRS的矩阵报告中获取文本框的值

> ID：14954576
> 
> 赞同：4
> 
> 时间：2013-02-19T09:54:44.533
> 
> 标签：reporting-services, ssrs-2008

我正在使用 ssrs 中的矩阵报告。这是我在 excel 中提取的报告的示例屏幕截图 ![在此处输入图像描述](../Images/fe300dab0dd0666d78fb5b830df0abd9.png)

报告很简单。它显示了不同年份的数据**（例如：AS OF JAN,2012）。** 这些年的净收入是在数据库中定义的，因此可以相应地获取它们。问题出在其他子列上。像**“%Change”**列。

列值是在以下公式的帮助下计算的

```
%change = ((NetRevenue of The current year / NetRevenue of the last year) - 1) * 100 
```

现在我解决这个问题的方法是使用 sql 查询为每一列计算值，然后将其直接绑定到控件。

我的问题是有没有更简单的方法来做到这一点。我的意思是像在表格控件中一样，我可以通过使用访问单元格的值

```
 ReportItems!Textbox1.Value 
```

有没有办法可以访问矩阵报告的动态列。就像访问不同年份的 netRevenue 值一样。

如果问题需要更多说明，请询问。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:03:47.543

我相信您唯一遇到的问题是获得过去一年的收入？

在这种情况下，您需要在 sql.xml 中计算最近几年的收入。然后使用：

```
=((RpItems!NetRev.Value / RpItems!NetRev_LastYr.Value) - 1) * 100 
```

在这种情况下，您需要计算要计算的百分比变化的所有过去几年的值。

我可以建议您调查一下并用您目前拥有的 sql 提出另一个问题吗？

我发现这个效果最好。

# javascript - 更改文本后的jQuery高度段落就绪事件

> ID：14954577
> 
> 赞同：1
> 
> 时间：2013-02-19T09:54:50.253
> 
> 标签：javascript, jquery, events, load, ready

在更改包含文本后，我在获取标签大小时遇到​​问题。我目前有一个我很不满意的解决方案。这就是我所拥有的（*为咖啡脚本道歉，（）=> 表示函数（）{}）*

```
@textField = $('<'+tag+'></'+tag+'>')
@textField.html(text).delay(120).queue(()=>
    @textField.ready(@onTextReady)
) 
```

如果我删除延迟，就没有 height()，我也不能使用 window.load，@textfield.load 似乎什么也没做。

您对解决此问题的最佳实践有何看法？

非常感激

/ 一个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:09:49.617

据我所知，元素在添加到 DOM 之前没有大小。不仅如此，我认为尺寸和显示都没有问题。如果您只对大小感兴趣而不是实际将元素添加到 DOM，我建议您使用可见性。

```
var $textField = $('<div>').text("FOO").css({
    visibility: "hidden",
    position: "absolute",
    display: "block"
}).appendTo($("body"));
var height = $textField.height();
$textField.remove();
alert(height); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:57:09.917

由于 JavaScript 的单线程特性以及浏览器如何完成 HTML 呈现。当你将元素添加到 DOM 树中时，这并不意味着渲染器已经绘制了元素或计算了元素的属性等。你应该将元素添加到 DOM 树中，然后从 JavaScript 线程中**中断**，并将访问队列中元素属性的代码，以便在渲染后执行。

```
element.appendChild(aChild); // Adding a child to the DOM tree    
setTimeout(function() {
    aChild.height;           // Accessing the height of the element
},0);                        // Setting the timeout to 0 so that the code
                             // is executed immediately 
```

事实上，这就是你在方法中所做的。通过添加 delay() 并在超时后执行回调。

我希望这能让您对这个不常见的问题有更多的了解。

# c# - 在 C# 中泛化 WebRequest 并解析为自定义对象的泛型

> ID：14954581
> 
> 赞同：0
> 
> 时间：2013-02-19T09:54:56.530
> 
> 标签：c#, generics, parameters, mono

有点建筑问题。我在 C# (Mono) 中做了很多 WebRequest:s。下面是一个如何声明获取“WorkFlowSchemes”的方法的示例：

```
public void GetWorkFlowSchemes(
   Credientials credentials, 
   ServerDelegates.WorkFlowSchemesSuccessDelegate successDelegate, 
   ServerDelegates.ErrorDelegate errorDelegate) 
```

然后哪个具有“硬编码”值，用于从哪个 url 获取，哪个回调它调用的响应以及在该回调中：要解析的类型。

我想让这个方法通用，不必为我所做的每种类型的调用编写 X 个非常相似的方法。相反，我想要这样的东西：

```
public void GetCustomPath<K>(
    Credientials credentials,
    Path pathToFetch,
    ServerDelegate<K>.SuccessDelegate successDelegate, //Generic delegate to return different types of parsed result
    ServerDelegates.ErrorDelegate errorDelegate) // no need to be generic 
```

其中 K 是要返回的委托的类型，即工作流`WorkFlowScemes`。

在解析之前，这项工作编译得相当好。以前我通过这样做来解析它：

```
List<WorkFlowScheme> workFlowSchemeList = serverXmlParser.parseXmlToWorkFlowSchemeList(responseBody); 
```

WorkFlowList 的另一种硬编码解析方法我更愿意概括。`parseXmlToWorkFlowSchemeList`看起来像这样：

```
 public List<WorkFlowScheme> parseXmlToWorkFlowSchemeList (string xml)
    {
        XDocument doc = XDocument.Parse(xml);
        List<WorkFlowScheme> result = 
            (
                from x in doc.Element("workflowschemeList").Elements("workflowscheme")
                select new WorkFlowScheme().Setup(x)
                ).ToList();
        return result;
    } 
```

`where .Setup(x)`是存储在每种类型中的帮助方法，用于将 XElement 值转换并存储为当前对象中的字符串。这是我卡住的地方。首先，我尝试制作一个通用方法：

```
public List<T> parseXmlToCustomObject<T> (string xml, String root, String key)
{
        XDocument doc = XDocument.Parse(xml);
        List<T> result = 
            (
                from x in doc.Element(root).Elements(key)
                select new T().Setup(x)
                ).ToList();
        return result;
} 
```

“选择新的 T.Setup(x)”不起作用

*   首先，因为我无法创建“ `new T()`”（编辑：已经解决）
*   其次导致编译器不知道在哪里可以找到 Setup 方法

有什么建议么？

我还考虑过让我的所有对象解析为“ServerObject”的子类，以便更容易调用.Setup，但不知道如何将其与泛型合并。

编辑：这是我到目前为止得到的：

```
public void GetCustomListObject<T>(Account account, String path, RequestStateGen<List<T>>.SuccessDelegate successDelegate, ServerDelegates.ErrorDelegate errorDelegate)
        where T : ServerObject, new()
    {
        var request = getGetRequest(account, path);

        RequestStateGen<List<T>> state = new RequestStateGen<List<T>>();
        state.Request = request;

        IAsyncResult result =
            request.BeginGetResponse(new AsyncCallback(onGetWorkFlowSchemes), state);

        //setupTimeOut(result, state);
        string responseBody = extractResponseAndCallDelegateOnError(request, result, errorDelegate);
        if (responseBody != null)
        {
            List<T> parsedObject = serverXmlParser.parseXmlToCustomObject<T>(responseBody);
            if (parsedObject != null)
            {
                successDelegate(parsedObject);
            }
        }
    } 
```

及解析方法：

```
public List<T> parseXmlToCustomObject<T> (string xml)
        where T : ServerObject, new()
    {
        XDocument doc = XDocument.Parse(xml);
        List<T> result = 
            (
                from x in doc.Element("workflowschemeList").Elements("workflowscheme")
                select new T().Setup(x)
                ).ToList();
        return result;
    } 
```

其中 ServerObject 是我所有包含 .Setup 的自定义对象类的基础对象。我现在得到的错误是在“List result =”线上，但有错误：

```
Cannot implicitly convert type `System.Collections.Generic.List<xxxx.Core.Network.Objects.ServerObject>' to `System.Collections.Generic.List<T>' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:57:51.750

如果您的所有类都有公共无参数构造函数，则可以将约束添加`where T : new()`到`parseXmlToCustomObject`. 这将摆脱第一个错误。

要摆脱第二个错误，您将必须创建一个包含该`Setup`方法的接口或基类，并使您的所有类都实现此接口或从该基类派生并将其添加为另一个约束：`where T : ISetupable, new()`. [（请原谅名字）]

您的方法将如下所示：

```
public List<T> parseXmlToCustomObject<T> (string xml, String root, String key)
    where T : ISetupable, new()
{
        XDocument doc = XDocument.Parse(xml);
        List<T> result = 
            (
                from x in doc.Element(root).Elements(key)
                select new T().Setup(x)
                ).ToList();
        return result;
} 
```

如果您无法确保所有类都有一个公共的无参数构造函数，您将不得不求助于工厂来创建您的对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T09:58:52.877

您需要为泛型方法指定一个约束，以便创建一个新的实例`T`

```
public List<T> parseXmlToCustomObject<T> (string xml, String root, String key) where T : new(){
[...]
} 
```

**[编辑]** 您的第二个问题：您需要有一个基类或接口，该基类或接口具有该`Setup()`方法和对您的泛型方法的另一个约束：

假设您有一个`BaseClass`具有您的`Setup()`方法的基类：

```
public List<T> parseXmlToCustomObject<T> (string xml, String root, String key) where T : BaseClass, new(){
[...]
} 
```

# java - RMI 对 Java 中 IPC 的支持

> ID：14954584
> 
> 赞同：4
> 
> 时间：2013-02-19T09:55:16.183
> 
> 标签：java, rmi, inter-process-communicat

我浏览了有关 java Inter Process Communication 的所有链接，但我无法得到确切的答案。我正在编写一个 java 服务，我想与我的系统上运行的服务进行通信。该服务可以是 C、C++ 或在硬件设备上运行的服务。哪个是最好的方法？在这种情况下可以使用 RMI 吗？如果是，我该如何实施？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:06:03.810

RMI 通常是为 Java 应用程序之间的进程间通信而设计的。如果您需要与语言无关的技术，目前最流行的是 Web 服务（基于 SOAP 或 REST）或 CORBA。但是由于其他服务将在“硬件设备”上运行，它们可能太重了，在这种情况下，您可以考虑自己的通信协议，例如。基于 TCP/IP 连接。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:04:38.010

您可以通过 JAVA 技术浏览有关 CORBA 的在线教程。您也可以参考 oracle 文档

参考[http://docs.oracle.com/javase/1.4.2/docs/guide/idl/jidlExample.html](http://docs.oracle.com/javase/1.4.2/docs/guide/idl/jidlExample.html)

# java - JSP 错误页面会导致问题吗？

> ID：14954586
> 
> 赞同：5
> 
> 时间：2013-02-19T09:55:23.877
> 
> 标签：java, jsp, web, web.xml, custom-error-pages

在 java web 应用程序中有一个选项可以通过在 web.xml 中定义错误页面来处理异常：

```
<error-page>
<error-code>500</error-code>
<location>/error500.jsp</location>
</error-page> 
```

我想知道定义 JSP 错误页面（而不是 HTML 错误页面）是否可能存在问题。因为 JSP 在服务器端运行。会不会出现服务器“半死”，抛出异常，尝试重定向到错误页面，却因为“半死”而无法渲染的场景？

我所说的“半死不活”是指服务器处于某些事情仍然可以工作但其他事情不工作的状态。具体来说，我的意思是任何控制重定向到 web.xml 中定义的错误页面的东西仍然有效，但是 JSP 的实际呈现由于某种原因不起作用（某些东西会引发异常）。

我实际上没有看到这样的问题，但我想知道这是否可能。因为这样可能会出现 HTML 错误页面（因为它没有服务器端逻辑），而 JSP 错误页面将无法工作。

如果是这种情况，那么当 JSP 错误页面失败时，我该如何“回退”到 HTML 错误页面呢？我仍然想使用 JSP 错误页面来显示响应中返回的错误详细信息，但如果不可能，那么我想显示 HTML 页面。

我希望这是有道理的....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T14:47:33.123

我找到了一个解决方案：

1.  定义错误 500 以重定向到 servlet（而不是页面）
2.  还定义一个 404 错误页面 - 使其成为一个简单的 HTML 页面。
3.  在 servlet 中，重定向到 JSP 错误 500 页面。
4.  servlet 中的所有逻辑都被一个 try-catch 块包围。catch 块`response.sendError(HttpServletResponse.SC_NOT_FOUND);`会重定向到 web.xml 中定义的错误 404 页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:00:08.290

我当然可以设想一个场景，您`error.jsp`需要服务器提供一些功能，而服务器无法满足这一点（例如，您失去与数据库的连接，抛出错误，`error.jsp`触发但*由于*某种原因需要数据库连接 -也许记录错误或提供联系信息？）。

仅出于这个原因，我会保持`error.jsp`相对简单和独立。

# twitter-bootstrap - 用于 Twitter 引导的 jqGrid

> ID：14954587
> 
> 赞同：18
> 
> 时间：2013-02-19T09:55:24.640
> 
> 标签：twitter-bootstrap, jqgrid

我正在工作的网站，我正在使用 CSS 框架**"Twitter Bootstrap"**。除此之外，我还使用 jqGrid 来显示网格数据，但问题是 jqGrid 依赖于 jQuery UI，这与 Bootstrap 样式冲突。有没有人成功地将 jqGrid 与 jQuery UI*和*Bootstrap 一起使用？

任何示例/链接都受到高度赞赏。

谢谢，纳伦

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-19T15:46:30.207

您可以将“数据表”用于 Bootstrap

[http://www.datatables.net/blog/Twitter_Bootstrap_2](http://www.datatables.net/blog/Twitter_Bootstrap_2)

或者只是引导表样式

[http://twitter.github.com/bootstrap/base-css.html#tables](http://twitter.github.com/bootstrap/base-css.html#tables)

但是如果你还是想使用 jqGrid，你必须添加那个 css 类来解决一些样式冲突

```
input.ui-pg-input {
    width: auto;
    padding: 0px;
    margin: 0px;
    line-height: normal
}
select.ui-pg-selbox {
    width: auto;
    padding: 0px;
    margin: 0px;
    line-height: normal
} 
```

# gmail - 将应用程序集成到 Gmail 中的方法

> ID：14954588
> 
> 赞同：0
> 
> 时间：2013-02-19T09:55:26.070
> 
> 标签：gmail, google-apps

有没有办法在没有 Firefox / Chrome 插件的情况下将应用程序集成到 GMail 中（在发送按钮旁边有一个自定义按钮，它将执行对特定 url 的请求）？那么一个真正集成在GMail中的应用程序呢？

我想知道，因为我想做以下事情；

1.  允许用户单击以将消息移动到特定（硬编码）文件夹
2.  在 API 查询（来自我的应用程序）之后，将消息放回收件箱顶部。所以收件箱优先级过滤应该是可管理的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:35:54.770

您需要查看[Gmail 小工具](https://developers.google.com/google-apps/gmail/gadgets_overview)。

> 小工具是在 iframe 中运行的自定义 HTML 和 JavaScript 组件，可以嵌入到各种网页中。Gmail 支持在 Web 界面中嵌入小工具、创建内容丰富的数据显示以及通过附加功能扩展 Gmail。

# axapta - Ax2012 中的报告

> ID：14954595
> 
> 赞同：-3
> 
> 时间：2013-02-19T09:55:44.243
> 
> 标签：axapta, dynamics-ax-2012, ax

我是 Axapta 的新手。您能否指导学习 AX2012 中的报告的最佳方法任何 URL 或视频都应该有帮助..

问候谢克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:51:29.080

AX2012 使用数据提供类创建 SSRS 报告

[http://krishhdax.blogspot.in/2012/07/ax2012-create-ssrs-report-using-data.html](http://krishhdax.blogspot.in/2012/07/ax2012-create-ssrs-report-using-data.html)

希望这可以帮助。

谢谢

# javascript - 如何在我的 windows-8 应用程序中显示资产文件夹？

> ID：14954597
> 
> 赞同：0
> 
> 时间：2013-02-19T09:55:57.317
> 
> 标签：javascript, windows-8, microsoft-metro, windows-store-apps

我是 windows-8 应用程序开发的新手。我想创建一个简单的 javascript 照片应用程序。在我的应用程序中，我想显示一个资产文件夹供用户选择他们选择的图像。有人可以帮我弄这个吗？

![在此处输入图像描述](../Images/ab3c808faf40ce9783ce46ecd683357c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:09:31.687

由于您使用 JS 来构建您的应用程序，您需要做的就是编写一个小脚本，列出您在该文件夹中放置的资产的路径，并通过 HTML 页面链接它。您是否尝试动态执行此操作？我不认为这样的解决方案存在..

编辑：再三考虑，您是否考虑过在每次将新资源添加到文件夹时使用承诺来运行脚本？在添加资源时检查文件夹并引发标志，根据标志状态，调用更新脚本的承诺将包含新添加的资源。您可能还需要考虑用户可能正在选择数据而 Promise 可能会更新页面的情况。适当使用会话存储来处理这种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T14:14:12.357

有一个 FilePicker 控件，可让您轻松显示图像/文件供用户选择。这是[一个代码示例](http://code.msdn.microsoft.com/windowsapps/File-picker-sample-9f294cba/view/SourceCode)；下载 JavaScript 版本。[这里](http://msdn.microsoft.com/en-us/library/windows/apps/hh465182.aspx)还有指向 API 文档链接的指南。

代码示例的摘录：

```
// Create the picker object and set options 
var openPicker = new Windows.Storage.Pickers.FileOpenPicker(); 
openPicker.viewMode = Windows.Storage.Pickers.PickerViewMode.thumbnail; 
openPicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.picturesLibrary; 
// Users expect to have a filtered view of their folders depending on the scenario. 
// For example, when choosing a documents folder, restrict the filetypes to documents for your application. 
openPicker.fileTypeFilter.replaceAll([".png", ".jpg", ".jpeg"]); 

// Open the picker for the user to pick a file 
openPicker.pickSingleFileAsync().then(function (file) { 
   if (file) { 
       // Application now has read/write access to the picked file 
       WinJS.log && WinJS.log("Picked photo: " + file.name, "sample", "status"); 
   } else { 
       // The picker was dismissed with no selected file 
       WinJS.log && WinJS.log("Operation cancelled.", "sample", "status"); 
   } 
}); 
```

# android - 从android中的string.xml文件中读取消息值

> ID：14954599
> 
> 赞同：1
> 
> 时间：2013-02-19T09:56:03.967
> 
> 标签：android

我有类似的字符串`@string/screen_enable_auto_mode`。我知道我可以使用：

```
String mess = getResources().getString(R.string.screen_enable_auto_mode); 
```

我会收到一条消息。

但我有整个字符串作为`@string/screen_enable_auto_mode`. 我该如何解析它

```
String mess = getResources().getString(R.string.screen_enable_auto_mode); 
```

我会收到来自 xml 的消息吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:02:29.810

你可以用`Resources.getIdentifier`这个。

```
int resId = getResources().getIdentifier(
    "screen_enable_auto_mode", "string", "com.package.app");
String mess = getResources().getString(resId); 
```

当然，将“com.package.app”替换为您的应用程序的实际包。

# c++ - 将 3d 模型导入 Direct3D 11 示例

> ID：14954604
> 
> 赞同：1
> 
> 时间：2013-02-19T09:56:21.530
> 
> 标签：c++, windows-phone-8, directx-11, direct3d11, 3d-model

我正在使用 Direct3D 11 构建一个 WP8 应用程序，并且需要加载 3dModel。

我知道如何在 XNA 中加载它，但 XNA 对 WP8 无效：|

我需要一个如何在 Direct3D 11 中加载 3d 模型的示例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T13:25:25.113

[Wavefront OBJ](http://en.wikipedia.org/wiki/Wavefront_.obj_file)是一种非常简单且广泛支持的静态 3D 模型格式。编写一个自定义导入器并不难。

我[为 C# 编写了 Wavefront Importer](http://pastebin.com/mya86Frj)。它涵盖了 OBJ 文件的最基本特征（子网格；顶点位置、法线和纹理坐标）。我不保证这些都行得通，它应该只是作为如何实现自定义网格导入器的示例。我正在使用 SlimDX 的`Vector`类型。您可以用您选择的框架中的向量替换它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-19T13:09:22.307

Visual Studio 2012 能够自行加载 FBX 和 OBJ 文件并将它们编译为 CMO 格式。

要阅读 CMO 格式和其他所有内容，您可以使用下面的示例。

[http://code.msdn.microsoft.com/windowsapps/Visual-Studio-3D-Starter-455a15f1](http://code.msdn.microsoft.com/windowsapps/Visual-Studio-3D-Starter-455a15f1)

# xpath - XPath 寻找子树

> ID：14954614
> 
> 赞同：2
> 
> 时间：2013-02-19T09:56:57.597
> 
> 标签：xpath, lxml

我正在抓取一个 html 文档，其结构一直在变化。Css 类名甚至会改变，所以我不能依赖它。但是，有一件事永远不会改变，该值始终包含在子树中，如下所示：

```
<span>
  <span>
    <span>wanted value</span>
    <span></span>wanted value
  </span>
</span> 
```

这可以表示为 XPath 表达式吗？

它不应该*匹配*：

```
<span>
  <span>
    <span> 1, one too little </span>
    <span> 2 </span>
    <span> 3, one too many </span>
    <span> 4, two too many </span>
  </span>
</span> 
```

我计划使用 Python 的 lxml 来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:11:57.187

如果想要的值的位置始终在 span 的第三级，则以下 xpath 将起作用：

```
//span/span/span[1] 
```

应用于下一个 HTML 文档时：

```
<html>
  <head>
    <title>Your Title</title>
  </head>
  <body>
    <div>
    <span>
      <span>
        <span>wanted value</span>
        <span></span>
      </span>
    </span>
    </div>
    <div>
    <span>
      <span>
        <span>wanted value</span>
        <span></span>
      </span>
    </span>
    </div>
  </body>
</html> 
```

结果将是：

```
wanted value
wanted value 
```

***编辑***

如果在第三级上的跨度总数等于 2 时，您只需要第三级上的第一个跨度的值，则可以使用以下 XPath：

```
//span/span[count(span) = 2]/span[1] 
```

# regex - 结合两个正则表达式

> ID：14954618
> 
> 赞同：-1
> 
> 时间：2013-02-19T09:57:24.170
> 
> 标签：regex, html, regexbuddy

我怎样才能从这个html片段中提取文本......

```
<span id='amount'>&pound;86,950</span></div>
                    <p class="bedrooms">2 bed mews house for sale</p>
                    <h2 class="address">
                        <a href="...31073581.html?showcase=true&premiumA=true">Wilson Street,city 123 
</a></h2> 
```

我想提取

> £86950
> 2 床马厩出售
> 威尔逊街，城市 123

我正在使用 regexbuddy，我可以提取值`$pound567849`（通过`&pound.*\d`）

我可以通过提取下一个标签的值`<p calss.*>.*</p>`（不能同时使用它们......不知道如何）

但我不知道如何结合两个表达式来共同获得价值......任何人都可以帮助PLZ（可悲的是正则表达式和提取东西的新手）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:03:02.220

您可以使用它`(?<=(amount|bedrooms)["']>)(.+?)(?=<)`来获取值数组

或者这个`amount'>(.+?)<.*?bedrooms">(.+?)<`你的价值将在第 1 组和第 2 组

# jakarta-ee - 由于 Richfaces 滞后导致的部署错误

> ID：14954622
> 
> 赞同：0
> 
> 时间：2013-02-19T09:57:32.607
> 
> 标签：jakarta-ee, jsf-2, richfaces

我使用 JSF 和 spring 创建了一个 Web 应用程序，其中我使用了 primefaces 和richfaces。之后我从项目的 /lib 中删除了richfaces jar 文件，它工作正常。现在我创建了 WAR 文件，当我尝试部署该文件（在 GlassFish 服务器上）然后它无法部署并抛出此异常

```
Error occurred during deployment: Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.util.ServiceConfigurationError: javax.servlet.ServletContainerInitializer: Provider org.richfaces.webapp.RichFacesServletsInitializer could not be instantiated: java.lang.NoClassDefFoundError: org/richfaces/log/RichfacesLogger. Please see server.log for more details. 
```

现在我无法理解为什么这会显示异常
**注意：**对于 afe 检查，我清理了我的项目，然后再次重建，然后创建了战争，但仍然从这个问题中运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T12:49:19.160

你的 server.log 说什么？并查看错误，似乎仍然有richfaces的参考。

# delphi - 德尔福肥皂响应保存到xml？

> ID：14954623
> 
> 赞同：8
> 
> 时间：2013-02-19T09:57:36.567
> 
> 标签：delphi, soap-client

如何保存对 xml 的肥皂响应？我尝试使用 tstringlist，filestream，创建了 xml 文件，但是我得到了

> 无法将类型 (null) 的变量转换为 (类型 (olestr)

我尝试了这个简单的代码。响应不为空。文件大小为 40MB。德尔福 XE3。

```
procedure TForm1.HTTPRIO1AfterExecute(const MethodName: string;
SOAPResponse: TStream);
var xml : TStringlist;
begin
 xml := TStringlist.create;
  try
    soapresponse.Position:=0;
    xml.LoadFromStream(SOAPResponse);
    xml.SaveToFile('...file.xml');
 finally
  xml.Free;
 end;
end; 
```

这是问题（空行）？或不 ？

```
...

- <leiras>
- <![CDATA[ 
*  Socket AM2 for AMD Athlon™ 64FX / 64X2 / 64 and Sempron processors
* ULi M1697

1\. Supports FSB 1000MHz (2.0GT/s), Hyper-Transport Technology and AMD Cool 'n' Quiet   Technology
2\. Untied Overclocking : During Overclocking, FSB enjoys better margin due to fixed PCIE/ PCI Buses
3\. Supports Dual Channel DDRII800/667/533, 4 x DIMM slots, with maximum capacity up to 8GB
4\. Hybrid Booster - ASRock Safe Overclocking Technology
5\. Supports Dual Graphics XLI
6\. 1 x PCI Express x16 slot
7\. 1 x PCI Express x 8 slot, to adopt 2nd PCI Express x 16 VGA card and other PCI Express x4, x2, x1 interface cards
8\. 2 x PCI Express x1 slots
9\. 4 x Serial ATA II 3.0Gb/s, support RAID (RAID 0, 1, 0+1, JBOD and RAID 5), NCQ, AHCI and "Hot Plug" functions
10\. 2 x eSATAII 3.0Gb/s, support NCQ, AHCI and "Hot Plug" functions
11\. HDMI_SPDIF header, providing SPDIF audio output to HDMI VGA card, allows the system to connect HDMI Digital TV/projector/LCD devices.
12\. 7.1 Channel with High Definition Audio
13\. Windows Vista™ Premium Logo Hardware Ready
14\. ASRock 8CH_eSATAII I/O: 2 eSATAII ports, HD 7.1 channel audio jacks

]]> 
</leiras>
<kepek /> 

... 
```

我试过 NullStrictConvert := False; 没有转换错误，但 exe 使用 1GB RAM，直到我关闭它。

```
...
var xml : TStringlist;
begin
xml := TStringlist.create;
NullStrictConvert := False;
 try
  soapresponse.Position:=0;

... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T16:43:09.350

您是否尝试将流直接转储到文件中，以查看其中的内容？

```
procedure TForm1.HTTPRIO1AfterExecute(const MethodName: string; SOAPResponse: TStream);
var 
  FS: TFileStream;
begin
  FS := TFileStream.Create('C:\Downloaded.xml', fmCreate);
  try
    FS.CopyFrom(SoapResponse, 0);
  finally
    FS.Free;
  end;
end; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T07:44:01.657

Weird.
Maybe this example helps.
I'm doing almost the same thing, logging the response and request to a TMemo.
Also, my 'Before' routine fills the actual SOAPRequest from an external FSoapData TStringStream:

```
procedure TFrmTestEWS.HTTPRIOBeforeExecute(const MethodName: string; SOAPRequest: TStream);
var
   TS: TStringStream;
   S : String;
begin
   // 1\. Fill request
   SOAPRequest.Position := 0;
   FSoapData.Position := 0;
   SOAPRequest.CopyFrom(FSoapData,FSoapData.Size);
   SOAPRequest.Size := FSoapData.Size;
   // 2\. Logging
   S := 'Request:' + #13#10#13#10;
   TS := TStringStream.Create(S);
   try
      TS.Position := Length(S);
      FSoapData.Position := 0;
      TS.CopyFrom(FSoapData,FSoapData.Size);
      TS.Position := 0;
      MmoLog.Lines.LoadFromStream(TS);
   finally
      TS.Free;
   end;
end;

procedure TFrmTestEWS.HTTPRIOAfterExecute(const MethodName: string; SOAPResponse: TStream);
var
   TS: TStringStream;
   S : String;
begin
   S := MmoLog.Text + #13#10#13#10 + 'Response:' + #13#10#13#10;
   TS := TStringStream.Create(S);
   try
      TS.Position := Length(S);
      SOAPResponse.Position := 0;
      TS.CopyFrom(SOAPResponse,SOAPResponse.Size);
      TS.Position := 0;
      MmoLog.Lines.LoadFromStream(TS);
   finally
      SOAPResponse.Position := 0;
      TS.Free;
   end;
end; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T16:30:55.843

尝试对临时字符串变量使用流的 Read 方法：

```
procedure TForm1.HTTPRIO1AfterExecute(const MethodName: string; SOAPResponse: TStream);
var
  s: string[200];
  ds: string;
  n: Longint;
  xml: TStringList;
begin
  SOAPResponse.Position := 0;
  xml := TStringList.Create;
  try
    ds := EmptyStr;
    while SOAPResponse.Position < SOAPResponse.Size do begin
      n := SOAPResponse.Read(s[1], 200);
      SetLength(s, n);
      xml.Text := xml.Text + ds;
    end;

    xml.SaveToFile('...file.xml');
  finally
    xml.Free;
  end;
end; 
```

# highcharts - Highcharts 不会调整选项卡内的图表大小

> ID：14954624
> 
> 赞同：11
> 
> 时间：2013-02-19T09:57:38.207
> 
> 标签：highcharts

我正在使用带有标签的 twitter 引导程序。我在每个选项卡中有多个选项卡和图表。在浏览器调整大小时，不在当前活动选项卡上的图表不会调整大小。事实上，细条看起来有点有趣。当前活动选项卡工作正常。有没有人看到这个问题并且有任何解决方法？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2014-10-10T21:16:18.363

这是一个工作示例：

[http://codepen.io/colinsteinmann/pen/BlGfE](http://codepen.io/colinsteinmann/pen/BlGfE)

基本上，当单击选项卡时，会在每个图表上调用 .reflow() 函数。这样，图表会根据容器可见时应用的新维度重新绘制。

这是最重要的代码片段：

```
// fix dimensions of chart that was in a hidden element
jQuery(document).on( 'shown.bs.tab', 'a[data-toggle="tab"]', function (e) { // on tab selection event
    jQuery( ".contains-chart" ).each(function() { // target each element with the .contains-chart class
        var chart = jQuery(this).highcharts(); // target the chart itself
        chart.reflow() // reflow that chart
    });
}) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-07-23T15:37:54.980

这是我对此的修复（使用 jQuery）：

```
$("[data-highcharts-chart]").each(function () {
    var highChart = Highcharts.charts[$(this).data('highchartsChart')];
    var highChartCont = $(highChart.container).parent();
    highChart.setSize(highChartCont.width(), highChartCont.height());
    highChart.hasUserSize = undefined;
}); 
```

每当图表获得焦点时调用此函数以确保正确调整其大小。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-04T18:49:24.853

我有一个类似的问题，我发现最好的办法是在显示选项卡之前不要加载图表。所以在标签显示的事件中，我正在快速加载图表（但只有一次）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-06-03T20:56:23.420

添加`class="chart"`到选项卡内的所有 highcharts 容器中。

添加这个jQuery代码：

```
jQuery(document).on( 'shown.bs.tab', 'a[data-toggle="tab"]', function () { 
    $( '.chart' ).each(function() { 
        $(this).highcharts().reflow();
    });
}) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-09-02T20:40:57.080

我刚刚用以下方法解决了这个问题。使用引导版本 3.3.5

我把它留在这里是因为当我一开始用谷歌搜索这个问题时，这个链接就出现了。我希望它有所帮助。

```
$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
        $(e.target.hash).highcharts().reflow();
    }); 
```

HTML

```
<!-- Nav tabs -->
<ul class="nav nav-pills nav-justified" role="tablist" id="taks-tabs">
    <li role="presentation" class="active"><a href="#taks_met_std" aria-controls="taks_met_std" role="tab" data-toggle="tab">Met Standard</a></li>
    <li role="presentation"><a href="#taks_comm_perf" aria-controls="taks_comm_perf" role="tab" data-toggle="tab">Commended Performance</a></li>
    <li role="presentation"><a href="#taks_m_met_std" aria-controls="taks_m_met_std" role="tab" data-toggle="tab">TAKS-M Met Standard</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="taks_met_std"></div>
    <div role="tabpanel" class="tab-pane" id="taks_comm_perf"></div>
    <div role="tabpanel" class="tab-pane" id="taks_m_met_std"></div> 
</div> 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-09-06T21:50:27.650

经过一段时间的寻找，我找到了答案。这让我发疯了，所以我想与大家分享，因为这里没有任何东西对我有用。

将此添加到您的 CSS

```
.tab-content > .tab-pane,
.pill-content > .pill-pane {
    display: block;     
    height: 0;          
    overflow-y: hidden; 
}

.tab-content > .active,
.pill-content > .active {
    height: auto;       
} 
```

有关更多详细信息，请访问我在 [https://jonpolygon.com/bootstrap-tabs-100-percent-width-charts/找到解决方案的页面](https://jonpolygon.com/bootstrap-tabs-100-percent-width-charts/)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-07-02T17:50:57.580

我用下一个代码解决了这个问题。

```
 $('#yourDivChart').highcharts({
            chart: {
                type: data.EjeX.Tipo,
                //width: width,
                //height: height,
                options3d: {
                    enabled: true,
                    alpha: 15,
                    beta: 15,
                    viewDistance: 25,
                    depth: 40
                },
                width: $('#DivContainerWithYourTabs').width() - 150
            }, 
```

在我的情况下是部分“_partialDetalleProyecto”

我希望对你有用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-04-06T11:53:38.127

所以这有点老了，但对于任何偶然发现这一点的人来说，我遇到了类似的问题，即在引导选项卡式显示中，highchart 大小不正确。我想出的解决方案是使用 setTimeout() 将创建图表的时间延迟 100 毫秒。

```
setTimeout(function() {
    drawBarChart();
}, 100); 
```

注意：drawBarChart 是我创建的一个自定义函数，用于生成我需要的图表。问题（至少在我的情况下）似乎是图表是在容器之前（或同时）创建的，因此选择了一些默认宽度而不是容器的宽度。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-05-07T01:16:38.547

我有 2 个标签，遇到了同样的问题。我只更改了 Druska 的 2 行代码，它起作用了。

```
function anyname() {
$("[data-highcharts-chart]").each(function () {
var highChart = Highcharts.charts[$(this).data('highchartsChart')];
var highChartCont = $(highChart.container).parent();
highChart.reflow(); 
```

});

}

并向您的 HTML 选项卡代码添加一个 onclick 事件，如下所示：

```
 <input type="radio" id="tab1_1" checked  onclick="anyname();" > 
```

# css - 如何在 CSS 中动画的不同关键帧上开始不同的元素

> ID：14954630
> 
> 赞同：2
> 
> 时间：2013-02-19T09:57:51.780
> 
> 标签：css, animation, keyframe

如果我有一个 CSS 动画，并且我想创建该动画的各种实例，但从动画的不同阶段开始，我该如何指定它。

我想象过这样的事情，第二个 webkit 行是伪代码：

```
 #cell1
  {
      width:100px;
      height:100px;

       -webkit-animation: pulse 35s infinite alternate;
       -webkit-animation: pulse start at 25%;
  } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T10:56:04.683

据我了解规范，负值`animation-delay`可以解决问题：

[http://www.w3.org/TR/css3-animations/#animation-delay](http://www.w3.org/TR/css3-animations/#animation-delay)

> 如果 'animation-delay' 的值为负时间偏移，则动画将在应用它的那一刻执行，但似乎已在指定的偏移处开始执行。也就是说，动画将出现在其播放周期的中途开始。在动画具有隐含起始值和负“动画延迟”的情况下，起始值从应用动画的那一刻起获取。

编辑：确实，这适用于我的铬：http: [//jsfiddle.net/GvUzX/](http://jsfiddle.net/GvUzX/)

# javascript - 通过jquery检查数组输入值中是否存在值

> ID：14954633
> 
> 赞同：1
> 
> 时间：2013-02-19T09:58:10.350
> 
> 标签：javascript, jquery

我想检查数组值 input:cheched 中的 id 是否`3`，`alert (true)`否则`alert (false)`。我尝试了以下 js 代码，但不适合我。

如何解决？

**演示：http:** [//jsfiddle.net/VAwHR/4/](http://jsfiddle.net/VAwHR/4/)

**HTML：**

```
<input value="3" type="text" id="seeid">
<div class="paginate">
    <input name="ch[]" type="checkbox" value="1" checked>
    <input name="ch[]" type="checkbox" value="2">
    <input name="ch[]" type="checkbox" value="3" checked>
    <input name="ch[]" type="checkbox" value="4">
</div>
<input type="submit" class="sub"> 
```

**查询：**

```
$('.sub').click(function(){
    var seeid = $('#seeid').val();
    var db = $('.paginate :checkbox:checked').map(function (i, n) {
        return $(n).val();
    }).get();
    alert($.inArray(seeid, db))
}) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T10:02:02.390

这是`id`您遇到的问题`#`

```
<input value="3" type="text" id="#seeid"> 
```

用这个

```
<input value="3" type="text" id="seeid"> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T10:05:34.607

你有两个错误。首先：

```
<input value="3" type="text" id="#seeid"> // id should be "seed" 
```

第二：

```
$.inArray(seeid, db) > 0 
```

应该

```
$.inArray(seeid, db) > -1 // or ~$.inArray(seeid, db) 
```

例如，您的代码将无法检测到值 1，因为`indexOf`在这种情况下将返回 0。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:43:08.413

```
$('.sub').click(function(){
  var seeid = $('#seeid').val();

  var db = $('.paginate :checkbox:checked').map(function (i, n) {
    return $(n).val();
  }).get();

  var flag;
  if(flag = $.inArray(seeid, db) > -1){
    alert(flag);   
  }
  else {
    alert(flag);   
  }
}) 
```

将此粘贴到小提琴中-它应该为您提供正确的真/假警报

# android - Android：将字符串传递给 ArrayAdapter

> ID：14954637
> 
> 赞同：1
> 
> 时间：2013-02-19T09:58:18.833
> 
> 标签：android, android-arrayadapter

我有一个微调器，我正在动态加载微调器，其中包含我正在执行的消息，如下所示

```
protected List<Message> messages = null;
ArrayAdapter <Message> arrayadapter = new ArrayAdapter<Message>( activity,android.R.layout.simple_spinner_item,messages);               

                       spinner1.setAdapter(arrayadapter); 
```

我收到如下消息

```
public List<Message> getMessages(String type) throws Exception{
    HttpClient client = new HttpClient();
    GetMethod get = null;
    Message message = null;
    List<Message> messages = new ArrayList<Message>();
    try {
        get = new GetMethod("http://" + Constants.CLOUD_SERVER_URL + Constants.getMessages + "/"+type);
        int statusCode = client.executeMethod(get);
        if(statusCode == 200){
            Log.d(TAG, "Successfully posted the comments");
            Utils utils = new Utils();
            Document doc = utils.formatInputStream(get.getResponseBodyAsStream());
            NodeList listMessages = doc.getElementsByTagName("message");
            int totalMessage = listMessages.getLength();
            for (int s = 0; s < totalMessage; s++) {
                Node messageNode = listMessages.item(s);
                if (messageNode.getNodeType() == Node.ELEMENT_NODE) {
                    Element messageElement = (Element) messageNode;
                    message = new Message();
                    message.setId(utils.getTagValue(messageElement, "id"));
                    message.setMessage(utils.getTagValue(messageElement, "question"));
                    messages.add(message);

                    Log.d(TAG, "Id - " + message.getId() + " Message - " + message.getMessage());
                }
            }
        }else{
            Log.d(TAG, "Either server has problem or not reachable at this time");
            throw new Exception("Server Issue Status code return by server is " + statusCode);
        }
        Log.d(TAG, "recommend ----------> Step 15");
        Log.d(TAG, "recommend ----------> Step 20");
    }finally{
        get.releaseConnection();
        get = null;
    }
    return messages;
} 
```

我的问题是我在微调器中获取消息的 id 而不是消息文本如何将该消息转换为字符串并将其传递给适配器或最终我在微调器中获取文本的任何其他方式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:02:26.000

一种方法是覆盖类的`toString()`方法`Message`并返回消息值，如下所示：

```
@Override
public String toString() {
    return message; //where message is member variable holding message text
} 
```

# sql - 如何加快 max() 查询

> ID：14954641
> 
> 赞同：5
> 
> 时间：2013-02-19T09:58:45.113
> 
> 标签：sql, postgresql

在 PostgreSql 8.4 查询中

```
explain analyze SELECT 
    max( kuupaev||kellaaeg ) as res
  from ALGSA 
  where laonr=1 and kuupaev <='9999-12-31' and 
     kuupaev||kellaaeg <= '9999-12-3123 59' 
```

运行需要 3 秒：

```
"Aggregate  (cost=3164.49..3164.50 rows=1 width=10) (actual time=2714.269..2714.270 rows=1 loops=1)"
"  ->  Seq Scan on algsa  (cost=0.00..3110.04 rows=21778 width=10) (actual time=0.105..1418.743 rows=70708 loops=1)"
"        Filter: ((kuupaev <= '9999-12-31'::date) AND (laonr = 1::numeric) AND ((kuupaev || (kellaaeg)::text) <= '9999-12-3123 59'::text))"
"Total runtime: 2714.363 ms" 
```

如何在 PostgreSQL 8.4.4 中加快速度？表结构如下。algsa 表在 kuupaev 上有索引也许可以使用？或者是否可以更改查询以添加一些其他索引以使其快速。表中的现有列无法更改。

```
CREATE TABLE firma1.algsa
(
  id serial NOT NULL,
  laonr numeric(2,0),
  kuupaev date NOT NULL,
  kellaaeg character(5) NOT NULL DEFAULT ''::bpchar,
  ... other columns
  CONSTRAINT algsa_pkey PRIMARY KEY (id),
  CONSTRAINT algsa_id_check CHECK (id > 0)
)
);

CREATE INDEX algsa_kuupaev_idx  ON firma1.algsa  USING btree  (kuupaev); 
```

**更新**

试过了`analyze verbose firma1.algsa;`

```
INFO:  analyzing "firma1.algsa"
INFO:  "algsa": scanned 1640 of 1640 pages, containing 70708 live rows and 13 dead rows; 30000 rows in sample, 70708 estimated total rows
Query returned successfully with no result in 1185 ms. 
```

但查询运行时间仍然是 2.7 秒。

为什么有`30000 rows in sample` 。是不是太多了，应该减少吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T10:21:20.737

这是旧版本 PostgreSQL 中的一个已知问题 - 但看起来它可能已被 8.4 解决；事实上，[8.0 的文档](http://www.postgresql.org/docs/8.0/static/functions-aggregate.html)有警告，但[8.1 的文档](http://www.postgresql.org/docs/8.1/static/functions-aggregate.html)没有。

因此，至少，您不需要出于这个原因升级主要版本。但是，您应该升级到当前的 8.4 系列版本 8.4.16，因为您错过了数*年*的错误修复和调整。

这里真正的问题是您使用`max`的是表达式，而不是简单的值，并且该表达式没有函数索引。

您可以尝试在表达式上创建索引`kuupaev||kellaaeg`......但我怀疑您有数据模型问题，并且通过修复您的数据模型有更好的解决方案。

它看起来像是`kuupaev`kuupäev 或日期，而 kellaaeg 可能是时间。如果是这样：永远不要使用连接 ( `||`) 运算符来组合日期和时间；使用区间加法，例如`kuupaev + kellaaeg`。而不是`char`您应该使用数据类型或`time`约束for ，这取决于它的含义以及它是否限制为 24 小时。或者，更好的是，使用类型（本地时间）或（全球时间）的单个字段来存储组合的日期和时间。`interval``CHECK``kellaaeg``timestamp``timestamp with time zone`

如果您这样做，您可以在组合列上创建一个简单的索引来替换两者`kellaaeg`，`kuupaev`并将其用于`min`和`max`其他用途。如果您只需要日期部分或某些事情的时间部分，请使用`date_trunc`,`extract`和`date_part`函数；请参阅文档。

有关单独和列是一个坏主意的另一个示例，请参见[这个较早的答案。](https://stackoverflow.com/a/14855450/398670)`date``time`

您仍然应该计划升级到 9.2。从 8.4 到 9.2 的升级路径并不算太粗糙，你只需要注意`standard_conforming_strings`默认的 on 设置和`bytea_output`from`escape`到的变化`hex`。在过渡和移植工作期间，两者都可以设置回 8.4 默认值。8.4 将不再受支持。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T10:26:44.807

我的第一反应是尝试索引：

```
 create index algsa_laonr_kuupaev_kellaaeg_idx
 on ALGSA (laonr asc, (kuupaev||kellaaeg) desc) 
```

...并尝试查询：

```
 SELECT kuupaev||kellaaeg as res
 from ALGSA 
 where laonr=1 and
       kuupaev||kellaaeg <= '9999-12-3123 59'
 order by
       laonr asc,
       kuupaev||kellaaeg desc
 limit 1 
```

# opengl-es - 使用单个着色器对点和三角形进行纹理化 openGL ES 2

> ID：14954643
> 
> 赞同：1
> 
> 时间：2013-02-19T09:58:48.923
> 
> 标签：opengl-es, glsl

据我所知，绘制一个你使用的点

```
gl_FragColor =  texture2D(Texture, gl_PointCoord); 
```

并映射一个三角形

```
gl_FragColor =  texture2D(Texture, TexCoorFromVertexShader); 
```

因此，如果我想对我们俩-点和三角形，我该如何处理。到目前为止，我正在考虑拥有多个程序并根据我要绘制的内容来切换它们，但这似乎是很多开销。或者事情就是这样运作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T13:40:05.067

你的假设是正确的，单独的着色器是要走的路。`if`单个 GLSL 程序中的多个语句可能非常昂贵。在您的情况下，我敢打赌它们是真正的性能打击，因为查找将按顶点完成。

在此处阅读以获取更多信息：[着色器分支问题](https://stackoverflow.com/questions/4176247/shader-branching-question)

# c# - Fineuploader 和 MVC4

> ID：14954648
> 
> 赞同：2
> 
> 时间：2013-02-19T09:59:08.800
> 
> 标签：c#, javascript, asp.net, asp.net-mvc-4, upload

我尝试在我的 MVC4 项目中实现[Fineuploader](https://github.com/valums/file-uploader)，但它总是无法上传。我做了什么：

将 css 和 js 文件添加到我的视图中：

```
<link href="~/Content/fineuploader.css" rel="stylesheet" />
<script src="~/Scripts/js/util.js"></script>
<script src="~/Scripts/js/button.js"></script>
<script src="~/Scripts/js/dnd.js"></script>
<script src="~/Scripts/js/handler.base.js"></script>
<script src="~/Scripts/js/handler.form.js"></script>
<script src="~/Scripts/js/handler.xhr.js"></script>
<script src="~/Scripts/js/header.js"></script>
<script src="~/Scripts/js/jquery-plugin.js"></script> 
<script src="~/Scripts/js/uploader.basic.js"></script>
<script src="~/Scripts/js/uploader.js"></script> 
```

添加了上传按钮的代码和脚本的执行（我认为这不对？）

```
<script>
    function createUploader() {
        var uploader = new qq.FineUploader({
            element: document.getElementById('fine-uploader'),
            debug: true,
            request: {
                endpoint: '/Upload/UploadFile/'
            }
        });
    }

    window.onload = createUploader;
</script> 
```

将 C# 文件添加到我的项目`FineUpload.cs`和`FineUploadResult.cs`Controller`UploadController.cs`中。我还向控制器添加了一条路由：

```
routes.MapRoute(
                    name: "upload",
                    url: "Upload/UploadFile",
                    defaults: new { controller = "Upload", action = "UploadFile" }
                ); 
```

控制器是：

```
public class UploadController : Controller
{
    [HttpPost]
    public FineUploaderResult UploadFile(FineUpload upload, string extraParam1, int extraParam2)
    {
      ...
    }
} 
```

但从`UploadFile`不在服务器上调用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:08:40.410

您似乎弄乱了您的脚本内容（顺序和所有内容）。您应该选择是否需要使用 FineUploaderBasic 模式、FineUploader 模式或 jQuery 插件模式。鉴于您的代码，您似乎正在使用标准模式。

这是一个完整的工作示例和最小的标记：

```
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <title>Index</title>
    <link href="~/Content/fineuploader.css" rel="stylesheet" />
</head>
<body>
    <div id="fine-uploader">Click me to upload a file</div>

    <script src="~/Scripts/js/header.js"></script>
    <script src="~/Scripts/js/util.js"></script>
    <script src="~/Scripts/js/button.js"></script>
    <script src="~/Scripts/js/handler.base.js"></script>
    <script src="~/Scripts/js/handler.form.js"></script>
    <script src="~/Scripts/js/handler.xhr.js"></script>
    <script src="~/Scripts/js/uploader.basic.js"></script>
    <script src="~/Scripts/js/dnd.js"></script>
    <script src="~/Scripts/js/uploader.js"></script> 
    <script type="text/javascript">
        function createUploader() {
            var uploader = new qq.FineUploader({
                element: document.getElementById('fine-uploader'),
                debug: true,
                request: {
                    endpoint: '@Url.Action("UploadFile", "Uploader")'
                }
            });
        }
        createUploader();
    </script>
</body>
</html> 
```

此外，您的控制器操作似乎采用了一些额外的整数参数。如果你没有在请求中指定它，这个请求显然会失败。在这种情况下使用可为空的整数。

# git - 什么会产生提交消息，例如：将 ... 的分支“主”合并到“主”中

> ID：14954649
> 
> 赞同：1
> 
> 时间：2013-02-19T09:59:12.687
> 
> 标签：git

这种提交信息是如何产生的？

```
Merge branch 'master' of https://github.com/AAA/BBB into 'master' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:00:17.877

该消息很可能是通过合并 Github 上的拉取请求产生的

# javascript - Ember.js 在控制器之间传递属性

> ID：14954653
> 
> 赞同：0
> 
> 时间：2013-02-19T09:59:16.520
> 
> 标签：javascript, ember.js

干杯! 我有两个控制器，我想访问`takenSeatsNumbers`from `TravelClient.TourController`。

```
TravelClient.TourController = Ember.ObjectController.extend({
  needs: ['tour.seats']
});

TravelClient.TourSeatsController = Ember.ObjectController.extend({
  takenSeatsNumbers: []
}); 
```

我是否`needs`以正确的方式使用？以及如何`takenSeatsNumbers`从`tour`模板中获取？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:21:29.103

正如上面提到的，这是一个[当前的错误](https://github.com/emberjs/ember.js/issues/2025)，所以上面的方法*看似*有效，但实际上并不有效，正如 jsFiddle 所展示的那样。`this.controllerFor`目前的解决方案是在路由中通过控制器的实例。这远非理想，但现在就足够了。

发生这种情况是因为 Ember 使用*dot.notation*引用控制器，而如果您使用*camelCase*或 *under_scores* ，那么它将为您创建不同的实例。

解决方案是从您的路由中注入控制器，如下所示：

```
TravelClient.IndexRoute = Ember.Route.extend({
    setupController: function(controller) {
        var tourSeatsController = this.controllerFor('tour.seats');
        tourSeatsController.set('takenSeatsNumbers', [1,2,3]);
        controller.set('tourSeatsController', tourSeatsController);
    }
}); 
```

然后你可以在你的视图中使用它：`{{tourSeatsController.takenSeatsNumbers.length}}`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:07:26.737

此代码基于 ember-pre4。来自另一个控制器的属性代理似乎是这种方式的一种模式，并且可以在 mixin 的帮助下进行推广：

```
TravelClient.TourController = Ember.ObjectController.extend({
  needs: ['tourSeats'],
  someMethod : function(){
    var tourSeatsController = this.get("controllers.tourSeats");
    // do something with it
  },
  takenSeatsNumbers : function(){ //proxy the property
    return this.get("controllers.tourSeats.takenSeatsNumbers")
  }.property("controllers.tourSeats.takenSeatsNumbers")
});

TravelClient.TourSeatsController = Ember.ObjectController.extend({
  takenSeatsNumbers: []
}); 
```

# java - javascript中的多部分表单数据与使用FileUpload的java服务器

> ID：14954654
> 
> 赞同：0
> 
> 时间：2013-02-19T09:59:27.363
> 
> 标签：java, file-upload, multipartform-data, apache-commons-fileupload

我尝试仅使用 javascript 发送带有文件的多部分表单数据。我自己写请求。所以我的javascript代码如下：

```
var data =
    '------------f8n51w2QYCsvNftihodgfJ\n' +
    'Content-Disposition: form-data; name="upload-id"\n' +
    '\n' +
    'uploadedFiles\n' +
    '------------f8n51w2QYCsvNftihodgfJ\n' +
    'Content-Disposition: form-data; name="file"; filename="doc1.txt"\n' +
    'Content-Type: text/plain\n' +
    '\n' +
    'azerty\n' +
    '------------f8n51w2QYCsvNftihodgfJ--\n';

    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/upload');
    xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=----------f8n51w2QYCsvNftihodgfJ');
    xhr.sendAsBinary(data); 
```

我在 Firefox 18 上运行这个 javascript。所以我在`/upload`. 这是代码：

```
protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    RequestContext request_context = new ServletRequestContext(request);
    boolean is_multipart = ServletFileUpload.isMultipartContent(request_context);
    if (is_multipart) {
        FileUpload file_upload = new FileUpload(fileItemFactory);
        List<FileItem> file_items = file_upload.parseRequest(request_context); // This line crash
    }
} 
```

正如评论所说，线路`file_upload.parseRequest(request_context);`崩溃并引发以下异常：

```
org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly
    at org.apache.commons.fileupload.MultipartStream.readHeaders(MultipartStream.java:539)
    at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.findNextItem(FileUploadBase.java:976)
    at org.apache.commons.fileupload.FileUploadBase$FileItemIteratorImpl.<init>(FileUploadBase.java:942)
    at org.apache.commons.fileupload.FileUploadBase.getItemIterator(FileUploadBase.java:331)
    at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:349) 
```

而且我只是不知道为什么我得到了这个例外......知道吗？

似乎`MultipartStream`找不到请求标头。但是，如果我记录标题，它们都在这里并且它们是正确的。

我的 servlet 代码使用“正常”形式。我尝试记录普通形式的请求正文和标头，它们是相同的（当然边界除外）。

我还尝试`data`使用无效内容更改变量。错误仍然相同，所以我的标题肯定有问题，但我看不出是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:22:41.237

我找到了解决方案。

`\n` **不是**多部分表单的有效分隔符。您必须使用`\r\n`. 现在我的代码可以正常工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:39:42.960

我不明白你为什么使用`sendAsBinary`. 如果不是绝对必要，我不会自己组装有效载荷（`data`变量），而是使用`FormData`.

[https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/FormData/Using_FormData_Objects](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/FormData/Using_FormData_Objects)

```
var oMyForm = new FormData();

oMyForm.append("username", "Groucho");
oMyForm.append("accountnum", 123456); // number 123456 is immediately converted to string "123456"

// HTML file input user's choice...
oMyForm.append("userfile", fileInputElement.files[0]);

// JavaScript file-like object...
var oFileBody = '<a id="a"><b id="b">hey!</b></a>'; // the body of the new file...
var oBlob = new Blob([oFileBody], { type: "text/xml"});

oMyForm.append("webmasterfile", oBlob);

var oReq = new XMLHttpRequest();
oReq.open("POST", "http://foo.com/submitform.php");
oReq.send(oMyForm); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:45:12.367

尝试将**f8n51w2QYCsvNftihodgfJ**更改为**f8n51w2QYCsvNftihodgfM**

我试过用不同的随机边界运行你的代码，结果只有**f8n51w2QYCsvNftihodgfJ\n**有问题。我认为您可以尝试不同的边界，因为它实际上只是一个随机字符串。

# java - 数学 - 映射数字 java

> ID：14954657
> 
> 赞同：1
> 
> 时间：2013-02-19T09:59:36.497
> 
> 标签：java, math

我看到了映射数字算法的[这个问题](https://stackoverflow.com/questions/345187/math-mapping-numbers)。

我正在尝试在 java 中实现 @PeterAllenWebb 解决方案，如下所示：

```
long A = 1l;
long B =  999999999l;
long C = 1000000000l;
long D = 9999999999l;
long X =  999999998l;
long Y =   (D-C)*(X-A)/(B-A) + C;
System.out.println("original is " + X);     
long reverseX = (B-A)*(Y-C)/(D-C) + A;
System.out.println("reverse is " + reverseX); 
```

但是，这并不总是有效。

见下文：

```
 X     reverseX
999999998 999999997
1         1
999999999 999999999
12        11 
```

如您所见，只有最小值 (A) 和最大值 (B) 返回正常。

其余的，我需要加 1。这在我看来是地板/圆形/数学问题，我不想依赖计算它的 JVM。我希望它始终有效。

我怎样才能使上述工作适用于reverseX？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:32:04.533

你正面临一个古老的问题。默认情况下，Java 中的除法是双倍的。因此，如果您的除法结果是 1.0 或 1.3 或 1.9，它将被截断为 1。在您的情况下，同样的情况正在发生。尝试将其从 long 更改为如下所示的两倍

```
double A = 1L;
double B = 999999999l;
double C = 1000000000l;
double D = 9999999999l;
double X = 999999998l;
double Y = (D - C) * (X - A) / (B - A) + C;

System.out.println("original is " + new DecimalFormat("#").format(X));
double reverseX = (B - A) * (Y - C) / (D - C) + A;
System.out.println("reverse is  "
        + new DecimalFormat("#").format(reverseX)); 
```

# vb.net-2010 - 我们如何将 VB6 代码迁移到 Vb.NET？

> ID：14954660
> 
> 赞同：0
> 
> 时间：2013-02-19T09:59:48.677
> 
> 标签：vb.net-2010, vb6-migration

我在将 VB6 代码转换为 vb.net 时遇到问题。谁能帮我转换以下代码行？

```
bin_str = StrConv(imgA, vbUnicode) 
```

bin_str --> 字符串 imgA --> 变体类型

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-09T03:13:03.297

我相信这是正确的方法：

`bin_str = System.Text.Encoding.Unicode.GetString(imgA)`

# jsf - JSF：在启动对话框时避免父页面 bean 重新初始化？

> ID：14954662
> 
> 赞同：-1
> 
> 时间：2013-02-19T09:59:50.260
> 
> 标签：jsf, primefaces

我正在使用 Prime Faces（JSF UI 库）。

我有一个带有几个`commandLink`按钮的页面，每个按钮都会弹出一个对话框。

```
<f:view>
<h:form>
.
.
.
    <p:dataTable value="#{ServerMgmtBean.objectList}" var="server">
.
.
.
    <p:commandLink oncomplete="dlgAssignServers.show()">        
        <p:graphicImage alt="Assign Image" value="./images/assign.png" />
    </p:commandLink>
.
.
.
</h:form>

<p:dialog id="assignServersDialog" header="Assign Servers" widgetVar="dlgAssignServers" modal="true" width="400">
    <ui:include src="assign/assign_sg_servers.xhtml"/>
</p:dialog>

</f:view> 
```

问题是每次我单击 时`commmandLink`，页面后面的所有 bean 都会重新创建（在本例中`ServerMgmtBean`），然后启动对话框。所有 bean 都是请求范围的。

它显着减慢了速度，以至于在对话框出现之前我需要一个进度指示器。为什么 bean 会被初始化？我能以某种方式避免这种情况吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:37:51.590

问题是您使用的是`@RequestScoped`bean。它们在每个请求中重新创建（即使在 AJAX 请求中，因为在您的情况下`commandLink`会发送 AJAX 请求）。将范围更改为`@ViewScoped`，您的页面将每页使用一个 bean，而不是每个请求。

# android - 从列表视图打开不同的活动

> ID：14954663
> 
> 赞同：1
> 
> 时间：2013-02-19T09:59:54.277
> 
> 标签：android, android-layout, listview, android-listview, onclicklistener

嗨，伙计们，在尝试了一些你们建议的不同代码后，我改变了代码的工作方式。现在我在主屏幕上有 3 个列表项，它们应该调用 3 个不同的活动。无论我做什么，这都行不通。更新 07/03/2013 - 非常感谢所有回复。我已经对我遇到的问题进行了分类。一些小的调整和它的工作。再次为帮助干杯..

我的主要活动

```
package com.example.mechanicalengineering;

 import android.app.Activity;
 import android.app.ListActivity;
 import android.content.Intent;
  import android.os.Bundle;
 import android.view.View;
 import android.widget.AdapterView;
 import android.widget.AdapterView.OnItemClickListener;
 import android.widget.ArrayAdapter;
 import android.widget.ListView;
 import android.widget.TextView;

 public class HomeList extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_home_list);

  String[] homelist = getResources().getStringArray(R.array.HomePageList);
  setListAdapter(new ArrayAdapter<String>(this, R.layout.activity_home_list,    homelist));

TextView LV = getListView();
  LV.setTextFilterEnabled(true);

 LV.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View view,
      int position, long id) {
        Intent myIntent = null;

         if(((TextView) view).getText().equals("Material Properties - Metal")){
          myIntent = new Intent(view.getContext(), MetalList.class);
          }

           if(((TextView) view).getText().equals("Material Properties - Plastic")){
            myIntent = new Intent(view.getContext(), PlasticList.class);
           }

           if(((TextView) view).getText().equals("Material Properties - Other")){
            myIntent = new Intent(view.getContext(), OtherList.class);
          }

                       startActivity(myIntent);
    }
  });
 }

} 
```

* * *

## 我的第二个活动

```
package com.example.mechanicalengineering;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MetalList extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_metal_list);
}

} 
```

* * *

## res/layout 中的 acivity_home_list.xml 文件

```
<RelativeLayout xmlns:tools="http://schemas.android.com/tools"
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".HomeList" >

<ListView
    android:id="@+id/HomePageList"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:entries="@array/HomePageList" >

</ListView>

</RelativeLayout> 
```

* * *

## res/values 中的 strings.xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

<string name="app_name">Mechanical Engineering</string>
<string name="hello_world">Hello world!</string>
<string name="menu_settings">Settings</string>
<string name="title_activity_metal_list">MetalList</string>

<string-array name="HomePageList">
    <item>Material Properties - Metal</item>
<item>Material Properties - Plastic</item>
<item>Material Properties - Other</item>

</string-array>

<color name="divideline">#3f3f3f</color>

<string name="title_activity_plastic_list">Plastic Properties</string>
<string name="title_activity_other_list">Other Properties</string>

</resources> 
```

* * *

## 清单文件

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.mechanicalengineering"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.mechanicalengineering.HomeList"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.example.mechanicalengineering.MetalList"
        android:label="@string/title_activity_metal_list" >
    </activity>
    <activity
        android:name="com.example.mechanicalengineering.PlasticList"
        android:label="@string/title_activity_plastic_list" >
    </activity>
    <activity
        android:name="com.example.mechanicalengineering.OtherList"
        android:label="@string/title_activity_other_list" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    </application>

 </manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:27:34.443

尝试这个。您必须将项目添加到家庭清单

```
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemSelectedListener;
public class HomeList extends Activity implements OnItemSelectedListener{

   @Override
   protected void onCreate(Bundle savedInstanceState) 
   {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.activity_home_list);
   }

   @Override
   public void onItemSelected(AdapterView<?> arg0, View arg1, int arg2,
        long arg3) {
           //add check if item is the one you need
           Intent intent = new Intent( new Intent(this, MetalList.class);
       startActivity(intent);
   }

   @Override
   public void onNothingSelected(AdapterView<?> arg0) {
    // TODO Auto-generated method stub  
   }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T11:03:21.383

嘿就这样做。

```
 ListView lv=(ListView)findViewById(R.id.HomePageList);

       lv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {
                     Intent newwin = new Intent(context, MetalList.class);
                     startActivity(newwin);

        }} 
```

# blackberry-10 - 在文本字段中输入上标

> ID：14954680
> 
> 赞同：0
> 
> 时间：2013-02-19T10:00:35.370
> 
> 标签：blackberry-10, blackberry-cascades

如何在黑莓级联的文本字段中输入上标。我正在制作一个小型数学应用程序，需要在上标（变量幂）中输入一些文本？如果这不可能，您能否建议一些可能的解决方法。我也在列表中使用这些，所以如果不使用富文本，我会更喜欢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T23:34:14.930

`Label`您可以对带有文本 ie等的某些小部件使用 HTML 文本样式（包括 CSS）`TextField`。不确定是否有上标标签，因为标签支持非常有限，但值得看看可用的：

[http://developer.blackberry.com/cascades/documentation/ui/text/styles.html](http://developer.blackberry.com/cascades/documentation/ui/text/styles.html)（向下滚动到 HTML 文本样式部分）

# ruby-on-rails - 如何创建多态模型

> ID：14954684
> 
> 赞同：0
> 
> 时间：2013-02-19T10:00:53.933
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我需要将评论链接到帖子。然而，评论可以是（用户生成的）简单文本、（系统生成的）链接或（系统生成的）图像。

起初，它们都具有相同的属性。所以我只需要创建一个类别属性，并根据该类别对文本属性做不同的事情。

例子：

```
class Comment < ActiveRecord::Base
  belongs_to :post
  belongs_to :author, :class_name => "User"

  CATEGORY_POST = "post"
  CATEGORY_IMAGE = "image"
  CATEGORY_LINK = "link"

  validates :text, :author, :category, :post, :presence => true
  validates_inclusion_of :category, :in => [CATEGORY_POST, CATEGORY_IMAGE, CATEGORY_LINK]

  attr_accessible :author, :text, :category, :post

  def is_post?
    self.category == CATEGORY_POST
  end

  def is_link?
    self.category == CATEGORY_LINK
  end

  def is_image?
    self.category == CATEGORY_IMAGE
  end

end 
```

然而这现在还不够，因为我觉得将每个值都转储到通用“文本”属性中并不干净。所以我正在考虑创建一个多态模型（如果需要在工厂模式中）。但是当我在谷歌上搜索多态模型时，我得到的例子是对帖子的评论，但对页面的评论是相同的，这种关系。我对多态的理解是否不同（与在不同范围内行为相同的模型相比，模型在不同情况下的行为不同）？

那么我该如何建立这种关系呢？

我在想（请纠正我）

```
 Post
    id

 Comment
    id
    post_id
    category (a enum/string or integer)
    type_id (references either PostComment, LinkComment or ImageComment based on category)
    author_id

 PostComment
    id
    text

 LinkComment
    id
    link

 ImageComment
    id
    path

 User (aka Author)
    id
    name 
```

但我不知道如何设置模型，以便我可以调用 post.comments（或 author.comments）来获取所有评论。一个不错的选择是评论的创建将通过评论而不是链接/图像/postcomment（评论充当工厂）

我的**主要问题**是，如何设置 activerecord 模型，使关系保持不变（作者有评论，帖子有评论。评论可以是链接、图片或帖子评论）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:24:15.870

我将只回答您的主要问题，模型设置。鉴于您在问题中使用的列和表格，除了评论，您可以使用以下设置。

```
 # comment.rb
 # change category to category_type
 # change type_id to category_id
 class Comment < ActiveRecord::Base
   belongs_to :category, polymorphic: true
   belongs_to :post
   belongs_to :author, class_name: 'User'
 end

 class PostComment < ActiveRecord::Base
   has_one :comment, as: :category
 end

 class LinkComment < ActiveRecord::Base
   has_one :comment, as: :category
 end

 class ImageComment < ActiveRecord::Base
   has_one :comment, as: :category
 end 
```

使用该设置，您可以执行以下操作。

```
 >> post = Post.first
 >> comments = post.comments
 >> comments.each do |comment|
      case comment.category_type
      when 'ImageComment'
        puts comment.category.path
      when 'LinkComment'
        puts comment.category.link
      when 'PostComment'
        puts comment.category.text
      end
    end 
```

# r - 将因子转换为整数或数字

> ID：14954685
> 
> 赞同：0
> 
> 时间：2013-02-19T10:00:55.660
> 
> 标签：r, integer, factors

我有一个包含以下数字的变量：

```
[1] 76.19047619  71.42857143  70.37037037  78.72340426  94.54545455  86.53846154  80.58936579  57.77777778 
[9] 96.00000000  89.79591837  81.25000000  100.00000000 92.00000000  61.53846154  96.42857143  88.88888889 
```

当我将它带入 R 时，它们作为因素而不是数字出现，并带有以下消息：

```
1577 Levels: #DIV/0! 0.00000000 0.05122951 0.05288207 0.06146281 0.13917884 0.26200873 0.26666667 ... 97.46376812 
```

如何将它们强制转换为数字，我已经尝试过`as.integers`，`as.numeric`但是当我在计算中使用该变量时，结果不会改变。它们与当它是因素时相同。

谢谢，

# c - 为代码更改编写 DRBFM 的任何有效方法？

> ID：14954686
> 
> 赞同：0
> 
> 时间：2013-02-19T10:00:59.693
> 
> 标签：c

任何人都可以让我知道您是否可以为代码更改编写有效的 DRBFM 吗？

问候麦迪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:35:04.917

我不得不查找“DRBFM”，它的意思是“基于故障模式的设计审查” [http://en.wikipedia.org/wiki/DRBFM](http://en.wikipedia.org/wiki/DRBFM)

他们似乎在谈论在进行微小更改之前审查设计，以提高可靠性

我想一种方法是编写广泛的自动化功能测试，表明该项目适合功能需求，然后确保所有修订控制提交被分解为尽可能小的单元。进行微小提交时，所有测试都会运行，您将能够查看设计更改是否导致失败

这种技术在敏捷方法论中得到了广泛的应用，例如 xP 和 Scrum

# java - JAXB 用不同的标签解组 XML 元素

> ID：14954687
> 
> 赞同：0
> 
> 时间：2013-02-19T10:01:01.237
> 
> 标签：java, xml, jaxb

我有这种结构的xml文件：

```
<root>
    <elements>
        <element>
            <id>1</id>
            <tag1>some string</tag1>
        </element>
        <element>
            <id>1</id>
            <tag2>some other string</tag2>
        </element>
    </elements>
</root> 
```

是否可以将这种 XML 解组为对象。问题是每个元素都有一些唯一的标签。我正在考虑将这些值放入列表中，但我不知道该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:09:41.253

是的，有可能而且很简单，为元素标签创建一个 Element 对象并将所有可能的子标签放在那里，如果 JAX-B 在你的 XML 中找不到它们，它会将它们保留为空，所以你会得到一个像样的目的。

可以在这里找到一个简单的 JAX-B 介绍：[http ://www.mkyong.com/java/jaxb-hello-world-example/](http://www.mkyong.com/java/jaxb-hello-world-example/)

如果元素标签的可能子标签太多、变化迅速或未知，您可以尝试使用 <String, String> 结构，类似于此处描述的结构：[如何将 HashTable<String, String> 序列化为使用 JAXB 的 XML？](https://stackoverflow.com/questions/7534500/how-to-serialize-hashtablestring-string-to-xml-using-jaxb)

但在大多数情况下，我会选择第一个选项。

# oracle - oracle如何调用自己的类型成员函数

> ID：14954688
> 
> 赞同：5
> 
> 时间：2013-02-19T10:01:01.557
> 
> 标签：oracle, user-defined-types

我创建了一个 SQL 对象：

```
create type foo_type as object (
        bar integer(2),
        bar2  varchar(200),

        member function get return integer
) 
```

我实现了我的类型的主体：

```
CREATE TYPE BODY foo_type as
member function get return integer is
begin
   return bar;
END;
END; 
```

然后我用这种类型创建了一个表：

```
CREATE TABLE test_table(
    foo1 foo_type
) 
```

我插入了一行：

```
INSERT INTO test_table (foo1) VALUES (foo_type(1, 'a')) 
```

我希望这是可以这样调用的：

```
SELECT foo1.get() FROM test_table 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T10:12:03.703

引用类型方法/属性时必须使用别名。

例如，将表别名为 t：

```
SQL> INSERT INTO test_table (foo1) VALUES (foo_type(1, 'a'));

1 row created.

SQL> select t.foo1.get() from test_table t;

T.FOO1.GET()
------------
           1 
```

# vb.net - 获取具体文本

> ID：14954691
> 
> 赞同：1
> 
> 时间：2013-02-19T10:01:09.267
> 
> 标签：vb.net, datetimepicker

我必须获取用户输入的特定日期与文本框中的当前日期之间的天数。

因此，我认为最简单的代码如下：

```
Private Sub DateTimePicker1_ValueChanged(sender As System.Object, e As System.EventArgs) Handles DateTimePicker1.ValueChanged
        TextBox1.Text = (DateTimePicker1.Value - Today).ToString 
```

现在，假设用户选择日期为`02 March 2013`，那么结果就像`11.12:48:21`但我只希望数据像 11 一样，即没有时间。

我尝试将其更改为`Value.Day`and `Value.DayOfYear`，但它没有提供所需的输出。

我只想计算今天与用户以 dd 或 ddd 或 dddd 方式选择日期之间的天数。

有人可以以正确的方式指导我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T06:40:32.650

我用这个解决了它：

```
TextBox1.Text = (DateTimePicker1.Value.Date - Today.Date).Days 
```

仅仅一个字就大不一样了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T03:55:47.667

你的意思是像

```
 Private Sub DateTimePicker1_ValueChanged(sender As System.Object, e As System.EventArgs) Handles DateTimePicker1.ValueChanged
        TextBox1.Text = DateTimePicker1.Value.AddDays(-Today.Day).ToString("dd MMM yyy")
 End Sub 
```

# java - java.lang.UnsatisfiedLinkError: nativeStart android NDK

> ID：14954692
> 
> 赞同：2
> 
> 时间：2013-02-19T10:01:13.513
> 
> 标签：java, android

嗨，我想制作在线广播应用程序，因为我必须为此播放 aac 文件，我已经从[http://aacplayer-android.googlecode.com/files/aacplayer-android-r25.zip](http://aacplayer-android.googlecode.com/files/aacplayer-android-r25.zip)示例复制了 armeabi 文件夹，下面是截屏

![在此处输入图像描述](../Images/3addb979b0f92c920abb08716d7bb6b9.png)

下面的代码工作正常

```
 static {
    System.loadLibrary("aacarray"); 
    System.loadLibrary("mms");
} 
```

哪个加载库没有任何错误

但是当我开始使用此代码从服务器播放流时

```
 player = new ArrayAACPlayer(ArrayDecoder.create(Decoder.DECODER_OPENCORE), this, Integer.parseInt(String.valueOf(AACPlayer.DEFAULT_AUDIO_BUFFER_CAPACITY_MS)), Integer.parseInt(String
            .valueOf(AACPlayer.DEFAULT_DECODE_BUFFER_CAPACITY_MS)));

    try {
        System.out.println("One : "+RADIO_STATION_URL);
        player.playAsync(RADIO_STATION_URL);
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

我得到以下错误

```
 02-19 15:15:08.124: E/AndroidRuntime(769): FATAL EXCEPTION: Thread-12
    02-19 15:15:08.124: E/AndroidRuntime(769): java.lang.UnsatisfiedLinkError: nativeStart
    02-19 15:15:08.124: E/AndroidRuntime(769):  at    com.example.xmlparsingex.ArrayDecoder.nativeStart(Native Method)
    02-19 15:15:08.124: E/AndroidRuntime(769):  at com.example.xmlparsingex.ArrayDecoder.start(ArrayDecoder.java:100)
    02-19 15:15:08.124: E/AndroidRuntime(769):  at com.example.xmlparsingex.ArrayAACPlayer.playImpl(ArrayAACPlayer.java:114)
    02-19 15:15:08.124: E/AndroidRuntime(769):  at com.example.xmlparsingex.AACPlayer.play(AACPlayer.java:273)
    02-19 15:15:08.124: E/AndroidRuntime(769):  at com.example.xmlparsingex.AACPlayer.play(AACPlayer.java:242)
    02-19 15:15:08.124: E/AndroidRuntime(769):  at com.example.xmlparsingex.AACPlayer$1.run(AACPlayer.java:202)
    02-19 15:15:08.124: E/AndroidRuntime(769):  at java.lang.Thread.run(Thread.java:1019) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T20:12:05.807

您不能重命名`ArrayDecoder`类（即它必须属于`com.spoledge.aacplayer`包）。`com.spoledge.aacplayer.ArrayDecoder`您仍然可以从您的包中使用此类。我建议您不要将任何 aacplayer 类移动到您的包中。

# pug - Jade 客户端模板继承

> ID：14954700
> 
> 赞同：0
> 
> 时间：2013-02-19T10:01:43.920
> 
> 标签：pug

客户端的 Jade 继承给我这个错误：

```
Error: failed to require "path" 
```

有什么解决办法吗？

还是可以在客户端使用继承？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-12T15:44:10.233

您正在代码中的某处使用路径，如下所示

```
app.use(express.static(path.join(__dirname, 'public'))); 
```

所以你应该像这样添加路径模块：

```
var express = require('express')
  , path = require('path'); 
```

# jquery - 无法在 ie8 中为 Section 元素设置背景颜色

> ID：14954705
> 
> 赞同：0
> 
> 时间：2013-02-19T10:01:46.967
> 
> 标签：jquery, html, internet-explorer

此代码在 ie9 中有效，但在 ie8 中无效。虽然我使用的是 modenizer.js，但我想知道问题是否在于 css 被应用于部分元素？

```
function basketBackgroundChange(selectedT) {
    var $sectionGl = $('#Selected').closest("section");
    if (selectedT) {
        $sectionGl.css("background-color", "red;");
    } else {
        $sectionGl.css("background-color", "gray;");
    }
} 
```

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:11:00.577

设置 CSS 值时不需要附加 a `;`：使用`"red"`而不是`"red;"`.

# authentication - Symfony2 基本身份验证。未设置令牌

> ID：14954713
> 
> 赞同：1
> 
> 时间：2013-02-19T10:02:05.810
> 
> 标签：authentication, symfony, doctrine, token

大家，早安。我正在玩一些 Symfony2，并且我已经实现了文档所说的基本身份验证。

我可以登录，但在调试栏中显示“您未通过身份验证”。

当我尝试检索令牌时，我得到 NULL，因此，我无法获取用户、用户名或任何我想要的东西。

我已经阅读了大量的帖子，但我找不到任何线索为什么会这样。

任何可能的解决方案？

**登录表单**

```
{% if error %}
    <div>{{ error.message }}</div>
{% endif %}

<form action="{{ path('login_check') }}" method="post">
<label for="username">User:</label>
<input id="username" type="text" name="_username" value="{{ last_username }}" />
<label for="password">Password:</label>
<input id="password" type="password" name="_password" /> <input type="submit" name="login" />
</form> 
```

**登录动作**

```
public function loginAction()
{

    $request = $this->getRequest();
    $session = $request->getSession();

    if ($request->attributes->has(SecurityContext::AUTHENTICATION_ERROR))
    {
        $error = $request->attributes->get(SecurityContext::AUTHENTICATION_ERROR);
    }
    else
    {
        $error = $session->get(SecurityContext::AUTHENTICATION_ERROR);
    }

    return $this->render('JillFBAdminBundle:Security:login.html.twig', array(
        'last_username' => $session->get(SecurityContext::LAST_USERNAME),
        'error'         => $error,
    ));
} 
```

**安全.yml**

```
providers:
    administrators:
        entity: { class: JillFBSiteBundle:User, property: username }

firewalls:
    admin_area:
        provider: administrators
        security: true
        anonymous: false
        pattern: ^/admin/
        form_login:
            check_path: /admin/login_check
            login_path: /login
        logout:
            path: /admin/logout
            target: /home

access_control:
    - { path: /login, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    - { path: ^/user, roles: ROLE_USER}
    - { path: ^/admin, roles: ROLE_ADMIN} 
```

**代币**

```
5123898f6f3d2   192.168.1.83    GET     http://192.168.1.83:88/Jill/app_dev.php/admin/              Tue, 19 Feb 2013 15:17:51 +0100
5123898f07be5   192.168.1.83    POST    http://192.168.1.83:88/Jill/app_dev.php/admin/login_check   Tue, 19 Feb 2013 15:17:51 +0100 
```

# javascript - 如何在 html 页面加载结束时执行任何特定的操作或活动

> ID：14954714
> 
> 赞同：0
> 
> 时间：2013-02-19T10:02:06.163
> 
> 标签：javascript, html, validation, pageload

有没有办法查出 HTML 页面是否已完成加载？

我必须在 HTML 页面加载结束时加载一些组合框。请帮助我做到这一点。

更新 ：

```
my question is how to load some values after page is completely loaded not only the images,css, etc but also all the controls in it, like some text boxes may have values from the server and so on. 
```

最好的祝福

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:05:10.657

在 JavaScript 中使用[window.onload](https://developer.mozilla.org/en-US/docs/DOM/window.onload)事件处理程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:06:26.043

你试过这个吗？

```
window.addEventListener("load", function() {
      // put stuff into combo boxes
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T10:40:04.613

或者，如果您使用的是 jQuery，请使用经典的：

```
jQuery(document).ready(function(){
    // combo box loading
}); 
```

我想如果您使用 jQuery，引用组合框也会更容易

# javascript - 谷歌分析代码

> ID：14954720
> 
> 赞同：0
> 
> 时间：2013-02-19T10:02:18.450
> 
> 标签：javascript, google-analytics-api

我想知道为什么谷歌不提供更简单、更短的初始化 ga.js 代码的方法，如下所示：

```
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-XXXXX-Y']);
  _gaq.push(['_trackPageview']);
</script>
<script src="//google-analytics.com/ga.js" async="true" type="text/javascript"></script> 
```

原始解决方案是使用 javascript 检查协议、设置异步标志等。

我的解决方案有什么缺点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:16:41.763

客户端的浏览器可能不支持该`async`属性。Google 通过动态创建脚本标签的代码无论如何都会异步加载脚本。如果代码不是异步加载的，用户可能会有不好的体验。想象一下，在用户所在的国家/地区，Google 被政府封锁，用户使用不支持的浏览器`async`。如果发生这种情况，用户的页面将阻塞直到`http://google-analytics.com/ga.js`超时，这可能需要一段时间......

为了进一步阅读这个主题，我可以推荐你：

1.  [http://www.phpied.com/non-onload-blocking-async-js/](http://www.phpied.com/non-onload-blocking-async-js/)
2.  [http://www.amazon.com/gp/product/B008CQA8BA/](https://rads.stackoverflow.com/amzn/click/com/B008CQA8BA)

# compilation - 令牌和词位有什么区别？

> ID：14954721
> 
> 赞同：100
> 
> 时间：2013-02-19T10:02:19.077
> 
> 标签：compilation, compiler-construction, token

在 Aho Ullman 和 Sethi 的 Compiler Construction 中，给出了将源程序的输入字符串划分为具有逻辑意义的字符序列，称为标记，词位是组成标记的序列，所以是基本的区别吗？

* * *

## 回答 #1

> 赞同：136
> 
> 时间：2013-02-19T13:35:10.083

使用Aho、Lam、Sethi 和 Ullman 的“[编译器原理、技术和工具，第 2 版](http://www.pearsonhighered.com/educator/product/Compilers-Principles-Techniques-and-Tools/9780321486813.page)” [（WorldCat） ，又名](http://www.worldcat.org/oclc/804295189)[紫龙书](http://en.wikipedia.org/wiki/Compilers:_Principles,_Techniques,_and_Tools#Second_edition)，

词素 pg。111

> 词位是源程序中与标记模式匹配的字符序列，并被词法分析器识别为该标记的实例。

令牌 pg。111

> 令牌是由令牌名称和可选属性值组成的对。令牌名称是表示一种词汇单元的抽象符号，例如，特定关键字或表示标识符的输入字符序列。标记名称是解析器处理的输入符号。

模式 pg。111

> 模式是对标记的词位可能采用的形式的描述。在关键字作为记号的情况下，模式只是形成关键字的字符序列。对于标识符和其他一些标记，模式是由许多字符串匹配的更复杂的结构。

图 3.2：令牌示例 pg.112

```
[Token]       [Informal Description]                  [Sample Lexemes]
if            characters i, f                         if
else          characters e, l, s, e                   else
comparison    < or > or <= or >= or == or !=          <=, !=
id            letter followed by letters and digits   pi, score, D2
number        any numeric constant                    3.14159, 0, 6.02e23
literal       anything but ", surrounded by "'s       "core dumped" 
```

为了更好地理解这种与词法分析器和解析器的关系，我们将从解析器开始，然后逆向输入。

为了更容易设计解析器，解析器不直接处理输入，而是接收由词法分析器生成的标记列表。查看图 3.2 中的标记列，我们看到诸如`if`、`else`、`comparison`、和;之类的标记`id`。这些是令牌的名称。通常，对于词法分析器/解析器，标记是一种结构，它不仅包含标记的名称，还包含组成标记的字符/符号以及组成标记的字符串的开始和结束位置，其中用于错误报告、突出显示等的开始和结束位置。`number``literal`

现在词法分析器接受字符/符号的输入，并使用词法分析器的规则将输入的字符/符号转换为标记。现在使用词法分析器/解析器的人对他们经常使用的东西有自己的说法。您认为构成标记的字符/符号序列是使用词法分析器/解析器的人所说的词素。因此，当您看到词素时，只需想到代表令牌的一系列字符/符号。在比较示例中，字符/符号的序列可以是不同的模式，例如`<`or`>`或`else`or`3.14`等​​。

考虑两者之间关系的另一种方法是，令牌是解析器使用的编程结构，具有称为词素的属性，用于保存输入中的字符/符号。现在，如果您查看代码中标记的大多数定义，您可能不会将词位视为标记的属性之一。这是因为标记更有可能保存表示标记和词位的字符/符号的开始和结束位置，字符/符号的序列可以根据需要从开始和结束位置导出，因为输入是静态的。

* * *

## 回答 #2

> 赞同：41
> 
> 时间：2014-05-26T08:20:53.973

当一个源程序被输入词法分析器时，它首先将字符分解为词素序列。然后将词位用于构建标记，其中词位被映射到标记中。一个名为**myVar**的变量将被映射到一个表示 < **id** , "num"> 的标记中，其中 "num" 应该指向变量在符号表中的位置。

简单地说：

*   词位是从字符输入流派生的词。
*   标记是映射到标记名称和属性值的词位。

一个例子包括：
x = a + b * 2
产生词位：{x, =, a, +, b, *, 2}
对应的记号：{< **id** , 0>, <=>, < **id** , 1 >, <+>, < **id** , 2>, <*>, < **id** , 3>}

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2016-11-19T11:49:29.743

**LEXEME** - 由形成 TOKEN 的 PATTERN 匹配的字符序列

**PATTERN** - 定义 TOKEN 的规则集

**TOKEN** - 编程语言字符集上有意义的字符集合，例如：ID、常量、关键字、运算符、标点符号、文字字符串

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-04-24T11:28:40.020

a) 标记是构成程序文本的实体的符号名称；例如，if 用于关键字 if，id 用于任何标识符。这些构成了词法分析器的输出。5

(b) 模式是指定输入中的字符序列何时构成记号的规则；例如，令牌 if 的序列 i、f 以及令牌 id 以字母开头的任何字母数字序列。

(c) 词位是来自输入的与模式匹配的字符序列（因此构成记号的实例）；例如 if 匹配 if 的模式，而 foo123bar 匹配 id 的模式。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2017-09-02T05:43:31.040

**Lexeme** - 词位是源程序中与标记的模式匹配的字符序列，并被词法分析器识别为该标记的实例。

**令牌**- 令牌是由令牌名称和可选令牌值组成的对。令牌名称是词汇单元的一个类别。常见的令牌名称是

*   标识符：程序员选择的名称
*   关键字：已经在编程语言中的名称
*   分隔符（也称为标点符号）：标点符号和成对分隔符
*   运算符：对参数进行运算并产生结果的符号
*   文字：数字、逻辑、文本、参考文字

考虑编程语言 C 中的这个表达式：

总和 = 3 + 2;

标记化并由下表表示：

```
 Lexeme        Token category
------------------------------
sum      |    Identifier
 =       |    Assignment operator
 3       |    Integer literal
 +       |    Addition operator
 2       |    Integer literal
 ;       |    End of statement 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2017-12-02T06:20:21.613

***Lexeme*** - 词位是一串字符，是编程语言中最低级别的句法单元。

***标记***- 标记是一个句法类别，它形成一个词位类别，这意味着该词位所属的类别是关键字或标识符或其他任何内容。词法分析器的主要任务之一是创建一对词素和标记，即收集所有字符。

让我们举个例子：-

> **如果（y<= t）**
> 
> **y=y-3；**

## 词素令牌

> 如果关键字
> 
> ( 左括号
> 
> y 标识符
> 
> < = 比较
> 
> 标识符
> 
> ) 右括号
> 
> y 标识符
> 
> = 分配
> 
> y 标识符
> 
> _ 算术
> 
> 3 整数
> 
> **;**                                    分号

Lexeme 和 Token 的关系

[![lexeme 和 token 的关系](../Images/0bdfec89a5b2f4fc4c5ca2fee1b41627.png)](https://i.stack.imgur.com/RdP9r.jpg)

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2014-05-04T20:04:23.337

Token：（关键字、标识符、标点符号、多字符运算符）的种类，简单来说就是一个Token。

模式：从输入字符形成标记的规则。

Lexeme ：它是 SOURCE PROGRAM 中的字符序列，与令牌的模式匹配。基本上，它是 Token 的一个元素。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2015-04-18T06:42:42.487

**令牌：** 令牌是可以被视为单个逻辑实体的字符序列。典型的标记是，
1) 标识符
2) 关键字
3) 运算符
4) 特殊符号
5) 常量

**模式：**输入中的一组字符串，为其生成相同的标记作为输出。这组字符串由称为与令牌关联的模式的规则描述。
**词位：**词位是源程序中与标记模式匹配的字符序列。

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2017-05-10T16:22:06.787

让我们看看词法分析器（也称为 Scanner ）的工作原理

让我们举个例子：

```
INPUT : cout << 3+2+3;

FORMATTING PERFORMED BY SCANNER :  {cout}|space|{<<}|space|{3}{+}{2}{+}{3}{;} 
```

虽然不是实际输出。

**扫描仪简单地重复查找源程序文本中的词汇，直到输入用尽**

*Lexeme 是输入的子串，形成语法中存在的有效终端字符串。每个词位都遵循最后解释的**模式**（读者可以跳过的部分）*

*（重要的规则是寻找形成有效终端字符串的最长可能前缀，直到遇到下一个空格......下面解释）*

**词法：**

1.  考特
2.  <<

> *（虽然“<”也是有效的终端字符串，但上述规则应选择词位“<<”的模式，以便生成扫描仪返回的令牌）*

3.  3
4.  +
5.  2
6.  ;

**TOKENS ：**每次 Scanner 找到一个（有效的）词位时，一次返回一个令牌（当 Parser 请求时由 Scanner ）。扫描器创建一个符号表条目（如果尚未存在）**（具有属性：主要是令牌类别和少数其他属性）**，当它找到一个词素时，以生成它的令牌

'#' 表示符号表条目。为了便于理解，我在上面的列表中指出了词位编号，但从技术上讲，它应该是符号表中记录的实际索引。

***扫描仪按上述示例的指定顺序将以下标记返回给解析器。***

1.  <标识符，#1>

2.  < 运算符 , #2 >

3.  < 字面量 , #3 >

4.  < 运算符 , #4 >

5.  < 字面量 , #5 >

6.  < 运算符 , #4 >

7.  < 字面量 , #3 >

8.  < 标点符号 , #6 >

正如你所看到的不同，一个标记是一对不像词素，词素是输入的子串。

该对的第一个元素是**令牌类/类别**

**下面列出了令牌类：**

*   *关键词**   *身份标识**   *字面量**   *标点符号**   *运营商*

> 还有一件事，Scanner 检测到空格，忽略它们并且根本不为空格形成任何标记。并非所有分隔符都是空格，空格是扫描仪用于其目的的分隔符的一种形式。输入中的 Tabs 、 Newlines 、 Spaces 、 Escaped Characters 统称为空白分隔符。很少有其他分隔符是';' ',' ':' 等，它们被广泛认为是形成标记的词位。

***此处返回的记号总数为 8，但仅为词位创建了 6 个符号表条目。词素也是8个（见词素的定义）***

--- 你可以跳过这部分

> `A ***pattern*** is a rule ( say, a regular expression ) that is used to check if a string-of-terminals is valid or not`.
> 
> `If a substring of input composed only of grammar terminals is` `following the rule specified by any of the listed patterns , it is` `validated as a lexeme and selected pattern will identify the category` `of lexeme, else a lexical error is reported due to either (i) not` `following any of the rules or (ii) input consists of a bad` `terminal-character not present in grammar itself.`

```
for example :

1\. No Pattern Exists : In C++ , "99Id_Var" is grammar-supported string-of-terminals but is not recognised by any of patterns hence lexical error is reported .

2\. Bad Input Character : $,@,unicode characters may not be supported as a valid character in few programming languages.` 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2020-08-03T15:10:37.523

CS 研究人员，就像来自数学的研究人员一样，喜欢创造“新”术语。上面的答案都很好，但显然，没有那么大的需要区分令牌和词位恕我直言。它们就像代表同一事物的两种方式。一个词位是具体的——这里是一组字符；另一方面，标记是抽象的——如果有意义的话，通常指的是词位的类型及其语义值。只是我的两分钱。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2018-11-28T08:26:41.040

**Lexeme** Lexemes 被称为是记号中的一系列字符（字母数字）。

**标记** 标记是可以被识别为单个逻辑实体的字符序列。通常，标记是关键字、标识符、常量、字符串、标点符号、运算符。数字。

**模式** 由称为模式的规则描述的一组字符串。模式解释了什么可以是标记，这些模式是通过与标记相关联的正则表达式定义的。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2018-10-27T06:51:32.517

词法分析器采用一系列字符识别与正则表达式匹配的词位，并将其进一步分类为标记。因此，Lexeme 是匹配的字符串，而 Token 名称是该词位的类别。

例如，考虑下面带有输入“int foo, bar;”的标识符的正则表达式

**字母（字母|数字|_）***

在这里，`foo`和`bar`匹配正则表达式因此都是词位，但被归类为一个标记，`ID`即标识符。

还要注意，下一阶段，即语法分析器不必知道词素而是一个标记。

* * *

## 回答 #13

> 赞同：-2
> 
> 时间：2016-05-15T06:07:53.090

Lexeme 基本上是标记的单元，它基本上是与标记匹配的字符序列，有助于将源代码分解为标记。

例如：如果源是`x=b`，则词位是`x`, `=`，`b`而标记是`<id, 0>`, `<=>`, `<id, 1>`。

# asp.net - 使用 ASP .Net 和 Gmail SMTP 发送电子邮件

> ID：14954722
> 
> 赞同：2
> 
> 时间：2013-02-19T10:02:22.660
> 
> 标签：asp.net, email, smtp, gmail

我正在开发一个 ASP .Net 网站。
我的 ASPX 页面之一包含一个按钮。
单击此按钮时，我想使用 Gmail SMTP 服务器发送电子邮件。
我想使用我的 Gmail 帐户作为凭据。

这是按钮的单击事件处理程序：

```
protected void m_myButton_Click(object p_sender, EventArgs p_args)
{
    string l_subject = "My subject";

    StringBuilder l_builder = new StringBuilder();
    // ...
    string l_body = l_builder.ToString();

    string l_host = ConfigurationManager.AppSettings["SmtpHost"];
    int l_port = int.Parse(ConfigurationManager.AppSettings["SmtpPort"]);

    NameValueCollection l_smtpAccount = (NameValueCollection)ConfigurationManager.GetSection("smtpAccount");
    string l_address = l_smtpAccount["SmtpAddress"];
    string l_password = l_smtpAccount["SmtpPassword"];

    MailMessage l_mail = new MailMessage();
    l_mail.From = new MailAddress(l_address);
    l_mail.To.Add(l_address);
    l_mail.Subject = l_subject;
    l_mail.Body = l_body;

    SmtpClient l_smtp = new SmtpClient();
    l_smtp.Host = l_host; // l_host = "smtp.gmail.com"
    l_smtp.Port = l_port; // l_port = 587
    l_smtp.EnableSsl = true;
    l_smtp.UseDefaultCredentials = false;
    l_smtp.Credentials = new NetworkCredential(l_address, l_password);

    l_smtp.Send(l_mail);
} 
```

命令行 l_smtp.Send(l_mail) 失败。
引发 SMTP 异常，InnerException 属性通知我（从法语翻译成英语）：没有建立连接，因为目标计算机拒绝了它 173.194.67.108:587

我的代码基于此页面上的代码：http: [//www.codeproject.com/Questions/254743/sending-email-in-asp-net-using-smtp-gmail-server](http://www.codeproject.com/Questions/254743/sending-email-in-asp-net-using-smtp-gmail-server)

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:50:55.353

试试这个...

```
 protected void Button1_Click(object sender, EventArgs e)
{
 MailMessage mail = new MailMessage();
 mail.To.Add("Email ID where email is to be send");
 mail.To.Add("Another Email ID where you wanna send same email");
 mail.From = new MailAddress("YourGmailID@gmail.com");
 mail.Subject = "Email using Gmail";

 string Body = "Hi, this mail is to test sending mail"+ 
             "using Gmail in ASP.NET";
 mail.Body = Body;

  mail.IsBodyHtml = true;
 SmtpClient smtp = new SmtpClient();
 smtp.Host = "smtp.gmail.com"; //Or Your SMTP Server Address
 smtp.Credentials = new System.Net.NetworkCredential
   ("YourUserName@gmail.com","YourGmailPassword");
//Or your Smtp Email ID and Password
 smtp.EnableSsl = true;
 smtp.Send(mail);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:54:42.093

没有建立连接，因为目标计算机拒绝了它`73.194.67.108:587`

尝试其他 SMTP 端口：`465`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T20:56:49.903

我已按照 Rup 的建议关闭了我的防病毒程序，我没有遇到任何异常。
我将在我的防病毒程序中创建一个自定义规则，以允许我的 ASP .Net 网站和 Gmail SMTP 服务器之间的通信。

# android - 原始资源文件类型

> ID：14954724
> 
> 赞同：1
> 
> 时间：2013-02-19T10:02:28.100
> 
> 标签：android, android-resources

你如何检测资源是什么类型的文件？就我而言，可能有视频和图像。

因此，如果是视频，我使用`VideoView`; 在图像的情况下，我使用`ImageView`?

我得到这样的资源ID：

```
AssetFileDescriptor afd = context.getResources().openRawResourceFd(resourceID); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:25:05.230

我唯一想到的是，您可以使用如下常量检查文件名：

```
 final String type = getApplicationContext().getResources().getResourceTypeName(resID);
 if(type.equals("drawable")){
   // handle it like an image
 }else if(.....) //do some research for other constants 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:56:05.937

我认为*不*读取/分析文件的二进制数据（如[TrID](http://mark0.net/soft-trid-e.html)）是不可能的。最简单的方法是在文件名前加上预定义的字符串。例如：

*   `video_file_00`，`video_file_01`……</li>
*   `image_file_00`，`image_file_01`……</li>

然后你可以使用[`getResourceName(int)`](http://developer.android.com/reference/android/content/res/Resources.html#getResourceName%28int%29)来解析文件名。

# php - PHP正则表达式字符串以某些字符开头，后跟数字

> ID：14954725
> 
> 赞同：3
> 
> 时间：2013-02-19T10:02:29.813
> 
> 标签：php, regex

我正在尝试创建一个正则表达式来验证代码。规则如下：

*   它以 B 或 J 或 28 开头
*   字符串的总长度必须是 7 或 13 个字符（包括起始字符）
*   起始字符后面的字符必须全部为数字

谁能帮我这个 ？谢谢

我尝试了类似的东西

```
$pattern = "/^((J|B|28)([0-9])({7}|{13})?/i"; 
```

但这似乎不起作用：\

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T10:10:40.833

```
$pattern = "/^(?=(.{7}|.{13})$)(B|J|28)\d+$/"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:06:23.830

首先使用下面的正则表达式来匹配模式。它将捕获第一组中的第一个标识符和第二组中的以下数字。

```
<?php 
$pattern = "/^(B|J|28)([0-9]+)$/i"; 
?> 
```

然后运行`strlen()`以验证长度。正则表达式不是验证组间可变长度的好工具。

```
<?php 
$hasValidLength = strlen( $str ) === 7 || strlen( $str ) === 13; 
?> 
```

# java - 关于静态和最终变量对类的影响

> ID：14954729
> 
> 赞同：-1
> 
> 时间：2013-02-19T10:02:30.477
> 
> 标签：java, scope

如果你执行这个程序，你只会得到`i`值而不是 SIB，我的问题是什么时候加载到内存中的类 SIB 应该执行并且应该给出 ooutput，但这里我只得到`i`值？然后在类测试中保留一个方法，然后从另一个类调用该方法，然后您将获得 SIB、`i`方法的输出（将方法也保留为静态最终）

```
 class Test      
    {
    static final int i =3;  
    static
    {
        System.out.println("SIB");
    }
    {
        System.out.println("IIB");
    }
    }
    class A1
    {
    public static void main(String[] args) 
    {
        System.out.println(Test.i);
    }
    } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T10:10:33.963

`static final`变量是一个编译**时常**量，它的值被复制到引用它的另一个类中。因此，您的类`Test`将不会加载，也不会执行任何初始化程序。当变量为 only`static`时，必须加载类以读取当前值，并且您的 SIB 块将被执行。IIB 块将仅在您使用**实例化** `Test`时执行`new Test()`。

# jsp - jstl 验证 c:if 超时导致异常

> ID：14954731
> 
> 赞同：0
> 
> 时间：2013-02-19T10:02:40.207
> 
> 标签：jsp, jsf, jstl

我有一个使用 RichFaces 和 jsf 的页面，我添加了一些 jstl 代码来验证 bean 中的某些内容，当会话超时时正在验证此代码，这会触发一些异常，代码是：

```
<c:if test="#{ViewerController.viewerBean.canCountMessages}" >
    <td>
        <a4j:commandButton value="count" action="#{ViewerController.doCount}" />
    </td>
</c:if> 
```

因此此代码得到验证并引发以下异常：

```
/pages/viewer/index.xhtml @43,67 test="#{ViewerController.viewerBean.canCountMessages}" An error occurred performing resource injection on managed bean ViewerController 
```

有没有办法防止在会话无效时验证 c:if 标记

注意： ViewerController 类是 SessionScoped 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:44:10.893

我能够为此找到解决方法，它可能会帮助遇到类似问题的人，

好吧，我在用户登录后在会话中保存了一些变量，并查询该变量是否存在于 c:if 语句中，如：

在 Web 应用程序中登录用户时：

```
 FacesContext.getCurrentInstance().getExternalContext().getSessionMap().put("SessionValid",true); 
```

并在 ViewerController 类中添加了这个方法：

```
boolean isSessionValid(){
    return FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("SessionValid") !=  null ;
} 
```

我的代码是这样的：

```
<c:if test="#{ViewerController.sessionValid and ViewerController.viewerBean.canCountMessages}" >
    <td>
        <a4j:commandButton value="count" action="#{ViewerController.doCount}" />
    </td>
</c:if> 
```

# ios - 如何在主运行循环休眠之前阻塞后台线程？

> ID：14954733
> 
> 赞同：1
> 
> 时间：2013-02-19T10:02:52.747
> 
> 标签：ios, multithreading, runloop

我希望阻塞一个后台线程，直到我的主线程的运行循环处于睡眠状态（也就是主线程正在等待输入）。

我想我可以这样做：

```
[self performSelectorOnMainThread:@selector(waitSelector) withObject:nil waitUntilDone:TRUE]; 
```

但是，我确实相信可能有更好的方法来做到这一点。有什么建议吗？

# google-maps - 我在哪里可以下载意大利的lng和lat坐标

> ID：14954734
> 
> 赞同：-1
> 
> 时间：2013-02-19T10:02:53.170
> 
> 标签：google-maps, google-maps-api-3

我正在构建意大利的交互式地图（谷歌地图 api）。我想使用多边形来显示区域，而 ech 区域具有不同的颜色（叠加）。因此，在每个区域页面上，访问者都会很好地了解该区域的位置。

有没有网站可以下载意大利各地区的纬度/经度坐标？我尝试了谷歌，但没有成功......

谢谢..remco

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:09:44.183

看看这个人，

[http://www.mapsofworld.com/lat_long/italy-lat-long.html](http://www.mapsofworld.com/lat_long/italy-lat-long.html)

它会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:29:46.577

除了自然地球数据集（在 FusionTables 中可用），国家多边形和子区域多边形的一个很好的来源是[gadm.org](http://www.gadm.org/)

KMZ 可以使用 Google Maps API v3 直接显示，但还有其他可用格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:12:34.940

右键单击地图（maps.google.com）并选择“这里有什么？”，您将获得坐标

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T10:22:27.327

如果您仍在寻找，这是一个有趣的网站，它们包含几乎每个国家的多边形和其他相关数据。高温高压

[http://www.naturalearthdata.com/downloads/10m-culture-vectors/10m-admin-0-boundary-lines/](http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-admin-0-boundary-lines/)

# web-services - 球衣的运行时异常 - java.lang.AbstractMethodError

> ID：14954738
> 
> 赞同：1
> 
> 时间：2013-02-19T10:03:08.173
> 
> 标签：web-services, jersey, jax-rs

我正在尝试使用 Jersey 实现执行部署在 tomcat 上的 RESTful Web 服务。

以下是资源类

@Path("/rest") 公共类 PatientResource {

```
PatientService patientService;

@GET
@Path("/patient/{patientId}")
@Produces(MediaType.APPLICATION_JSON)
public Patient getPatientDetails(@PathParam("patientId") String patientId) {
    //return patientService.getPatientDetails(patientId);
    return new PatientService().getPatientDetails(patientId);
}

@GET
@Path("/patients")
@Produces(MediaType.APPLICATION_JSON)
public PatientData<Patient> getAllPatients() {
    //return patientService.getAllPatients();
    return new PatientService().getAllPatients();
} 
```

}

我在 web.xml 中做了必要的条目，所有必要的 jar 都在类路径中可用，但是当应用程序在 tomcat 上启动并在浏览器中输入 URL 时，我得到以下异常

[Servlet 执行引发异常] 根本原因 java.lang.AbstractMethodError at org.codehaus.jackson.map.AnnotationIntrospector$Pair.findSerializer(AnnotationIntrospector.java:1148) at org.codehaus.jackson.map.ser.BasicSerializerFactory.findSerializerFromAnnotation (BasicSerializerFactory.java:367) 在 org.codehaus.jackson.map.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:252) 在 org.codehaus.jackson.map.ser.StdSerializerProvider._createUntypedSerializer(StdSerializerProvider.java:782)

知道如何解决吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T15:41:07.137

您在运行时使用的 Jersey 和 Jackson 版本可能不一致。

你的库版本是什么？

# expect - 如何做到超时小于 1 秒？

> ID：14954743
> 
> 赞同：4
> 
> 时间：2013-02-19T10:03:31.440
> 
> 标签：expect

要编写更健壮的脚本，“忘记”期望缓冲区的内容是有用的，以确保仅在最近收到的输入上完成匹配：

```
# this leaves expect buffer with unmatched history    
# + accumulates incoming data over 1 sec
set timeout 1
expect

# match everything in the buffer ~"forget"
expect *
# subsequent expect commands will see only what appeared since now 
```

是否可以在不修补期望源的情况下使超时小于 1 秒？

注意：`set timeout 0`将不起作用，因为第一个期望不会将新传入的数据留在缓冲区中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T23:32:55.210

我不确定如何在 tcl 解释器中刷新缓冲区。

我不确定您的用例，但我发现远程 shell 脚本最可靠的格式超出期望，最简单的方法是`#randomnumber`在每次发送结束时包含 a，期望`#randomnumber`，这使得确保缓冲区同步到我发送到衍生进程的最后一行。如果生成的进程不回显您发送的字符，您的里程会有所不同。

如果您可以从 TCL 实现迁移到 python，那么来自[pexpect](http://pexpect.sourceforge.net)的纯 python 实现非常棒。缓冲区的工作方式略有不同，因此需要一些时间来适应。如果您在远程 shell 上执行命令，我建议您使用[python-remote](https://github.com/Telenav/python-remote)（我写的）

您可以通过上面使用的方法为缓冲区充气

```
import pexpect
spawn = pexpect.spawn(command)
stuff_inbuffer = spawn.read_nonblocking(size=100000, timeout=0.1) 
```

在响应之前发送随机字符串以同步缓冲区

```
import random, pexpect
spawn = pexpect.spawn(command)
rand = random.random()
spawn.sendline(command + " #%s" %(rand))
spawn.expect("%s\r\n" %(rand)) 
```

然后，您可以使用并期望获得缓冲区，或者读取将等到缓冲区具有大小或超过超时。

```
results = spwan.read(size=100000, timeout=10)

spawn.expect("something")
results = spawn.buffer 
```

或者

```
results = spawn.before 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-30T21:30:06.377

修补期望很容易......使用毫秒的负超时（除了-1，这是特殊的）：

```
# set timeout to 100 milliseconds
set timeout -100 
```

以下如果命名为milliExpect.patch... cd 进入expect5.45 目录并执行

```
patch -Np1 -i milliExpect.patch. 
```

然后通常（可能必须规定 tcl 在配置中的位置）...

```
./configure; make; sudo make install 
```

--- milliExpect.patch ----

```
--- expect5.45_orig/exp_event.c 2010-06-30 17:53:49.000000000 -0700
+++ expect5.45/exp_event.c  2014-09-30 12:50:18.733698995 -0700
@@ -277,6 +277,117 @@
     }
 }

+/* returns status, one of EOF, TIMEOUT, ERROR or DATA */
+/* can now return RECONFIGURE, too */
+/*ARGSUSED*/
+int exp_get_next_event_d(interp,esPtrs,n,esPtrOut,timeout,key)
+Tcl_Interp *interp;
+ExpState *(esPtrs[]);
+int n;         /* # of esPtrs */
+ExpState **esPtrOut;   /* 1st ready esPtr, not set if none */
+double timeout;        /* milliseconds */
+int key;
+{
+    ThreadSpecificData *tsdPtr = TCL_TSD_INIT(&dataKey);
+
+    ExpState *esPtr;
+    int i; /* index into in-array */
+#ifdef HAVE_PTYTRAP
+    struct request_info ioctl_info;
+#endif
+
+    int old_configure_count = exp_configure_count;
+
+    int timerFired = FALSE;
+    Tcl_TimerToken timerToken = 0;/* handle to Tcl timehandler descriptor */
+    /* We must delete any timer before returning.  Doing so throughout
+     * the code makes it unreadable; isolate the unreadable nonsense here.
+     */
+#define RETURN(x) { \
+   if (timerToken) Tcl_DeleteTimerHandler(timerToken); \
+   return(x); \
+    }
+
+    for (;;) {
+   /* if anything has been touched by someone else, report that */
+   /* an event has been received */
+
+   for (i=0;i<n;i++) {
+       tsdPtr->rr++;
+       if (tsdPtr->rr >= n) tsdPtr->rr = 0;
+
+       esPtr = esPtrs[tsdPtr->rr];
+
+       if (esPtr->key != key) {
+       esPtr->key = key;
+       esPtr->force_read = FALSE;
+       *esPtrOut = esPtr;
+       RETURN(EXP_DATA_OLD);
+       } else if ((!esPtr->force_read) && (!expSizeZero(esPtr))) {
+       *esPtrOut = esPtr;
+       RETURN(EXP_DATA_OLD);
+       } else if (esPtr->notified) {
+       /* this test of the mask should be redundant but SunOS */
+       /* raises both READABLE and EXCEPTION (for no */
+       /* apparent reason) when selecting on a plain file */
+       if (esPtr->notifiedMask & TCL_READABLE) {
+           *esPtrOut = esPtr;
+           esPtr->notified = FALSE;
+           RETURN(EXP_DATA_NEW);
+       }
+       /*
+        * at this point we know that the event must be TCL_EXCEPTION
+        * indicating either EOF or HP ptytrap.
+        */
+#ifndef HAVE_PTYTRAP
+       RETURN(EXP_EOF);
+#else
+       if (ioctl(esPtr->fdin,TIOCREQCHECK,&ioctl_info) < 0) {
+           expDiagLog("ioctl error on TIOCREQCHECK: %s", Tcl_PosixError(interp));
+           RETURN(EXP_TCLERROR);
+       }
+       if (ioctl_info.request == TIOCCLOSE) {
+           RETURN(EXP_EOF);
+       }
+       if (ioctl(esPtr->fdin, TIOCREQSET, &ioctl_info) < 0) {
+           expDiagLog("ioctl error on TIOCREQSET after ioctl or open on slave: %s", Tcl_ErrnoMsg(errno));
+       }
+       /* presumably, we trapped an open here */
+       /* so simply continue by falling thru */
+#endif /* !HAVE_PTYTRAP */
+       }
+   }
+
+   if (!timerToken) {
+       if (timeout >= 0) {
+       timerToken = Tcl_CreateTimerHandler((int)timeout,
+           exp_timehandler,
+           (ClientData)&timerFired);
+       }
+   }
+
+   /* make sure that all fds that should be armed are */
+   for (i=0;i<n;i++) {
+       esPtr = esPtrs[i];
+       /*printf("CreateChannelHandler: %s\r\n",esPtr->name);*/
+       Tcl_CreateChannelHandler(
+                    esPtr->channel,
+                    TCL_READABLE | TCL_EXCEPTION,
+                    exp_channelhandler,
+                    (ClientData)esPtr);
+       esPtr->fg_armed = TRUE;
+   }
+
+   Tcl_DoOneEvent(0);  /* do any event */
+   
+   if (timerFired) return(EXP_TIMEOUT);
+   
+   if (old_configure_count != exp_configure_count) {
+       RETURN(EXP_RECONFIGURE);
+   }
+    }
+}
+
 /* Having been told there was an event for a specific ExpState, get it */
 /* This returns status, one of EOF, TIMEOUT, ERROR or DATA */
 /*ARGSUSED*/
--- expect5.45_orig/expect.c    2010-10-26 15:09:36.000000000 -0700
+++ expect5.45/expect.c 2014-09-30 13:01:42.693800013 -0700
@@ -41,6 +41,12 @@
 #include "tcldbg.h"
 #endif

+#define TclUtfToUniChar(str, chPtr) \
+   ((((unsigned char) *(str)) < 0xC0) ?        \
+       ((*(chPtr) = (Tcl_UniChar) *(str)), 1)  \
+       : Tcl_UtfToUniChar(str, chPtr))
+
+
 #include "retoglob.c" /* RE 2 GLOB translator C variant */

 /* initial length of strings that we can guarantee patterns can match */
@@ -123,6 +129,7 @@
    int duration;           /* permanent or temporary */
    int timeout_specified_by_flag;  /* if -timeout flag used */
    int timeout;            /* timeout period if flag used */
+   double timeout_double;  /* if timeout < -1 */
    struct exp_cases_descriptor ecd;
    struct exp_i *i_list;
 } exp_cmds[4];
@@ -559,6 +566,11 @@
            goto error;
        }
        eg->timeout_specified_by_flag = TRUE;
+       if (eg->timeout < -1) {
+           eg->timeout_double = (double)eg->timeout * -1.;
+       } else {
+           eg->timeout_double = (double)eg->timeout * 1000.;
+       }
        break;
        case EXP_ARG_NOBRACE:
        /* nobrace does nothing but take up space */
@@ -1812,6 +1824,74 @@
     return cc; 
 }

+/* returns # of bytes read or (non-positive) error of form EXP_XXX */
+/* returns 0 for end of file */
+/* If timeout is non-zero, set an alarm before doing the read, else assume */
+/* the read will complete immediately. */
+/*ARGSUSED*/
+static int
+expIRead_d( /* INTL */
+    Tcl_Interp *interp,
+    ExpState *esPtr,
+    double timeout,
+    int save_flags)
+{
+    int cc = EXP_TIMEOUT;
+    int size;
+
+    /* We drop one third when are at least 2/3 full */
+    /* condition is (size >= max*2/3) <=> (size*3 >= max*2) */
+    if (expSizeGet(esPtr)*3 >= esPtr->input.max*2)
+   exp_buffer_shuffle(interp,esPtr,save_flags,EXPECT_OUT,"expect");
+    size = expSizeGet(esPtr);
+
+#ifdef SIMPLE_EVENT
+ restart:
+
+    alarm_fired = FALSE;
+
+    if (timeout > -1) {
+       if (timeout > 0) {
+           usleep((int)timeout * 1000);
+       } else {
+           usleep(1000 * 1); /* ?? is 1 ms enough ??? */
+       }
+    }
+#endif
+
+    cc = Tcl_ReadChars(esPtr->channel, esPtr->input.newchars,
+              esPtr->input.max - esPtr->input.use,
+              0 /* no append */);
+    i_read_errno = errno;
+
+    if (cc > 0) {
+        memcpy (esPtr->input.buffer + esPtr->input.use,
+       Tcl_GetUnicodeFromObj (esPtr->input.newchars, NULL),
+       cc * sizeof (Tcl_UniChar));
+   esPtr->input.use += cc;
+    }
+
+#ifdef SIMPLE_EVENT
+    alarm(0);
+
+    if (cc == -1) {
+   /* check if alarm went off */
+   if (i_read_errno == EINTR) {
+       if (alarm_fired) {
+       return EXP_TIMEOUT;
+       } else {
+       if (Tcl_AsyncReady()) {
+           int rc = Tcl_AsyncInvoke(interp,TCL_OK);
+           if (rc != TCL_OK) return(exp_tcl2_returnvalue(rc));
+       }
+       goto restart;
+       }
+   }
+    }
+#endif
+    return cc; 
+}
+
 /*
  * expRead() does the logical equivalent of a read() for the expect command.
  * This includes figuring out which descriptor should be read from.
@@ -1932,6 +2012,126 @@
     }
     return(cc);
 }
+/*
+ * expRead_d() does the logical equivalent of a read() for the expect command.
+ * This includes figuring out which descriptor should be read from.
+ *
+ * The result of the read() is left in a spawn_id's buffer rather than
+ * explicitly passing it back.  Note that if someone else has modified a buffer
+ * either before or while this expect is running (i.e., if we or some event has
+ * called Tcl_Eval which did another expect/interact), expRead will also call
+ * this a successful read (for the purposes if needing to pattern match against
+ * it).
+ */
+
+/* if it returns a negative number, it corresponds to a EXP_XXX result */
+/* if it returns a non-negative number, it means there is data */
+/* (0 means nothing new was actually read, but it should be looked at again) */
+int
+expRead_d(
+    Tcl_Interp *interp,
+    ExpState *(esPtrs[]),      /* If 0, then esPtrOut already known and set */
+    int esPtrsMax,         /* number of esPtrs */
+    ExpState **esPtrOut,       /* Out variable to leave new ExpState. */
+    double timeout,
+    int key)
+{
+    ExpState *esPtr;
+
+    int size;
+    int cc;
+    int write_count;
+    int tcl_set_flags; /* if we have to discard chars, this tells */
+           /* whether to show user locally or globally */
+
+    if (esPtrs == 0) {
+   /* we already know the ExpState, just find out what happened */
+   cc = exp_get_next_event_info(interp,*esPtrOut);
+   tcl_set_flags = TCL_GLOBAL_ONLY;
+    } else {
+   cc = exp_get_next_event_d(interp,esPtrs,esPtrsMax,esPtrOut,timeout,key);
+   tcl_set_flags = 0;
+    }
+
+    esPtr = *esPtrOut;
+
+    if (cc == EXP_DATA_NEW) {
+   /* try to read it */
+   cc = expIRead_d(interp,esPtr,timeout,tcl_set_flags);
+   
+   /* the meaning of 0 from i_read means eof.  Muck with it a */
+   /* little, so that from now on it means "no new data arrived */
+   /* but it should be looked at again anyway". */
+   if (cc == 0) {
+       cc = EXP_EOF;
+   } else if (cc > 0) {
+       /* successfully read data */
+   } else {
+       /* failed to read data - some sort of error was encountered such as
+        * an interrupt with that forced an error return
+        */
+   }
+    } else if (cc == EXP_DATA_OLD) {
+   cc = 0;
+    } else if (cc == EXP_RECONFIGURE) {
+   return EXP_RECONFIGURE;
+    }
+
+    if (cc == EXP_ABEOF) { /* abnormal EOF */
+   /* On many systems, ptys produce EIO upon EOF - sigh */
+   if (i_read_errno == EIO) {
+       /* Sun, Cray, BSD, and others */
+       cc = EXP_EOF;
+   } else if (i_read_errno == EINVAL) {
+       /* Solaris 2.4 occasionally returns this */
+       cc = EXP_EOF;
+   } else {
+       if (i_read_errno == EBADF) {
+       exp_error(interp,"bad spawn_id (process died earlier?)");
+       } else {
+       exp_error(interp,"i_read(spawn_id fd=%d): %s",esPtr->fdin,
+           Tcl_PosixError(interp));
+       if (esPtr->close_on_eof) {
+       exp_close(interp,esPtr);
+       }
+       }
+       return(EXP_TCLERROR);
+       /* was goto error; */
+   }
+    }
+
+    /* EOF, TIMEOUT, and ERROR return here */
+    /* In such cases, there is no need to update screen since, if there */
+    /* was prior data read, it would have been sent to the screen when */
+    /* it was read. */
+    if (cc < 0) return (cc);
+
+    /*
+     * update display
+     */
+
+    size = expSizeGet(esPtr);
+    if (size) write_count = size - esPtr->printed;
+    else write_count = 0;
+    
+    if (write_count) {
+   /*
+    * Show chars to user if they've requested it, UNLESS they're seeing it
+    * already because they're typing it and tty driver is echoing it.
+    * Also send to Diag and Log if appropriate.
+    */
+   expLogInteractionU(esPtr,esPtr->input.buffer + esPtr->printed, write_count);
+       
+   /*
+    * strip nulls from input, since there is no way for Tcl to deal with
+    * such strings.  Doing it here lets them be sent to the screen, just
+    * in case they are involved in formatting operations
+    */
+   if (esPtr->rm_nulls) size = expNullStrip(&esPtr->input,esPtr->printed);
+   esPtr->printed = size; /* count'm even if not logging */
+    }
+    return(cc);
+}

 /* when buffer fills, copy second half over first and */
 /* continue, so we can do matches over multiple buffers */
@@ -2363,7 +2563,12 @@

    /* "!e" means no case matched - transfer by default */
    if (!e || e->transfer) {
-       int remainder = numchars-match;
+       int remainder;
+       if (match > numchars) {
+       match = numchars;
+       eo->matchlen = match;
+       }
+       remainder = numchars-match;
        /* delete matched chars from input buffer */
        esPtr->printed -= match;
        if (numchars != 0) {
@@ -2548,6 +2753,11 @@
     time_t current_time = 0;   /* current time (when we last looked)*/
     time_t end_time;       /* future time at which to give up */

+    double start_time_total_d; /* time at beginning of this procedure */
+    double start_time_d = 0.;  /* time when restart label hit */
+    double current_time_d = 0.;    /* current time (when we last looked)*/
+    double end_time_d;         /* future time at which to give up */
+
     ExpState *last_esPtr;  /* for differentiating when multiple f's */
                /* to print out better debugging messages */
     int last_case;     /* as above but for case */
@@ -2556,8 +2766,9 @@
     int key;           /* identify this expect command instance */
     int configure_count;   /* monitor exp_configure_count */

-    int timeout;       /* seconds */
+    int timeout;       /* seconds   (or milliseconds if less than -1) */
     int remtime;       /* remaining time in timeout */
+    double remtime_d;  /* remaining time in timeout (milliseconds) */
     int reset_timer;       /* should timer be reset after continue? */
     Tcl_Time temp_time;
     Tcl_Obj* new_cmd = NULL;
@@ -2585,7 +2796,9 @@

     Tcl_GetTime (&temp_time);
     start_time_total = temp_time.sec;
+    start_time_total_d = temp_time.sec * 1000\. + temp_time.usec / 1000.;
     start_time = start_time_total;
+    start_time_d = start_time_total_d;
     reset_timer = TRUE;

     if (&StdinoutPlaceholder == (ExpState *)clientData) {
@@ -2641,6 +2854,7 @@
     else {
         Tcl_GetTime (&temp_time);
    start_time = temp_time.sec;
+       start_time_d = temp_time.sec * 1000\. + temp_time.usec / 1000.;
     }

     if (eg.timeout_specified_by_flag) {
@@ -2669,7 +2883,9 @@
    if (reset_timer) {
        Tcl_GetTime (&temp_time);
        current_time = temp_time.sec;
+       current_time_d = temp_time.sec * 1000\. + temp_time.usec / 1000.;
        end_time = current_time + timeout;
+       end_time_d = current_time_d - timeout;
    } else {
        reset_timer = TRUE;
    }
@@ -2677,12 +2893,20 @@

     /* remtime and current_time updated at bottom of loop */
     remtime = timeout;
+   remtime_d = timeout * -1.;

     for (;;) {
-   if ((timeout != EXP_TIME_INFINITY) && (remtime < 0)) {
+
+   if ((timeout > EXP_TIME_INFINITY) && (remtime < 0)) {
+       cc = EXP_TIMEOUT;
+   } else if ((timeout < EXP_TIME_INFINITY) && (remtime_d < 0.)) {
        cc = EXP_TIMEOUT;
    } else {
+       if (timeout >= EXP_TIME_INFINITY) {
        cc = expRead(interp,esPtrs,mcount,&esPtr,remtime,key);
+       } else {
+           cc = expRead_d(interp,esPtrs,mcount,&esPtr,remtime_d,key);
+       }
    }

    /*SUPPRESS 530*/
@@ -2732,7 +2956,9 @@
    if (timeout != EXP_TIME_INFINITY) {
        Tcl_GetTime (&temp_time);
        current_time = temp_time.sec;
+       current_time_d = temp_time.sec * 1000\. + temp_time.usec / 1000.;
        remtime = end_time - current_time;
+       remtime_d = end_time_d - current_time_d;
    }
     } 
```

# bash - 怎么做 || 和 && 返回值符号有效吗？

> ID：14954752
> 
> 赞同：-1
> 
> 时间：2013-02-19T10:04:01.567
> 
> 标签：bash

许多人在脚本语言中使用下面的符号，但我不太明白它是如何工作的。

```
~$ false || echo "aa"
aa
~$ true || echo "aa"
~$ true && echo "aa"
aa
~$ false && echo "aa"
~$ 
```

双方都先执行，然后评估它们的返回值吗？

写这些更直接的方法是什么？

是`||`一个`XOR`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:07:00.770

这称为[短路评估](http://en.wikipedia.org/wiki/Short-circuit_evaluation)。

`||`是 OR（不是 XOR）。

使用脚本（与源代码一样）仅在必要时评估右侧。

`||`如果 LHS 评估为假或 0，则评估 with the `&&`RHS。仅当 LHS 评估为 true 时，评估 with the RHS。

那是因为真|| 任何事情都是正确的，因此无需评估 RHS。而假的 && 任何东西总是假的。

另请参阅[使用短路评估的好处](https://stackoverflow.com/questions/89154/benefits-of-using-short-circuit-evaluation)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:07:30.240

`||`并且`&&`在您列出的所有语言中都很懒惰。

它的工作方式是从左到右计算表达式。在 的情况下`||`，整个表达式的值是不是“false-y”的第一个参数的值（或最后一个参数，如果所有参数都是 false-y）将是表达式的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T10:16:45.330

我认为这很简单。

每次首先评估左侧，如果需要，评估右侧。

在第一种情况下，LHS 是`false`，因此表达式的结果取决于 RHS，因为它是一个`OR`操作。所以右侧被评估/执行。

在第二种情况下，LHS 是`true`，并且`OR`操作的结果将`true`与 RHS 中的内容无关，因此永远不会评估/执行 RHS。

手术也会发生同样的事情`AND`。`true`只有当 LHS与第 3 条语句相同时，它才需要评估 RHS 。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T12:05:16.467

使用`&&`和`||`控制评估是编程中非常基础的事情。正如许多人已经回答的那样，他们正在使用“短路评估”。
在某些语言中，它们与 and 相同`and`，`or`但并非全部相同。在例如 Ruby 中，它们的含义**并不**完全相同（据我所知）。

> 写这些更直接的方法是什么？

你可以说使用`&&`and`||`而不是`if ... else`是懒惰的编程，但有些人会说使用`&&`和`||`结构是最直接的。

**如果**您有替代方案（或更好地理解这一点的方法）：

```
expr && echo "aa"

# is the same as

if expr; then
  echo "aa"
fi 
```

和

```
expr || echo "aa"

# is the same as

if ! expr; then
  echo "aa"
fi 
```

和

```
expr && echo "yes" || echo "no"

# is the same as

if expr; then
  echo "yes"
else
  echo "no"
fi 
```

当然还有混合

```
if this && that; then
  echo "yes"
else
  echo "no"
fi 
```

“短路评估”是一个非常重要的规则，在某些情况下，代码取决于此。
在这个例子中（来自 VIM，但它在许多语言中都是一样的）如果它不起作用会有一个异常：

```
if exists("variable") && variable == 3 ... 
```

如果在决定结果之前对双方都进行了评估，如果`variable`未定义，则会出现异常。

有一些设计不好的语言，在`&&`给出结果之前对 eg 的两边都进行了评估，它们使用起来并不那么有趣。

所以：

```
if you like it; then
  use it && be happy
else
  use it || be happy
fi 
```

# c - 在C中求和一个数组，它应该在（???）中插入什么来完成功能？

> ID：14954759
> 
> 赞同：-4
> 
> 时间：2013-02-19T10:04:41.450
> 
> 标签：c, arrays, sum

```
int arraySum (int array[], int n)  
{  
int sum = 0, *ptr;  
for (ptr = array; ???; ++ptr)  
sum += ???  
return sum;  
} 
```

* * *

**int n**是数组的大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:09:15.863

由于这似乎是您的家庭作业/作业，我将只给您 2 条提示，让它自己完成：

**提示 1**：
当您有指向`int`:的指针时，您可以通过使用[解引用运算符](http://en.wikipedia.org/wiki/Dereference_operator)`int* ptr`解引用指针来访问`int`它指向的内容：`*ptr`

**提示 2**：
当你增加`ptr`3`1`倍时，它将指向相同的内存`ptr + 3`。注意`ptr + 3`指向内存处的地址`&ptr[3]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:09:55.510

第一个`???`应替换为`ptr < &array[n]`，第二个应替换为`*ptr`。

指针是**内存中的地址**。`array`包含一个地址（array[0] 所在的位置）。

`array + i`指向的指针也是如此`array[i]`。

您想在数组上移动直到到达最后一个对象，因为我们正在比较`for`循环中的**地址**`ptr`，所以我们与数组中最后一个元素的地址进行比较。所以你的程序看起来：

 **```
int arraySum (int array[], int n)  
{  
  int sum = 0, *ptr;  
  for (ptr = array; ptr < &array[n]; ++ptr)  
  sum += *ptr;  
  return sum;  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:13:08.547

```
int arraySum (int array[], int n)  
{  
  int sum = 0, *ptr;  
  for (ptr = array; ptr - array < n; ++ptr)  
    sum += *ptr;  
  return sum;  
} 
```**

# php - 获取变量类

> ID：14954760
> 
> 赞同：0
> 
> 时间：2013-02-19T10:04:46.087
> 
> 标签：php, class, reflection

如何确定在哪个类中启动了对变量的引用（并且当前存在）？

### 例子：

```
<?php
    class MyClass {
        public $array = array(
            "this",
            "is",
            "an",
            "array"
        );
    }

    $class = new MyClass();
    $arrayReference = &$class->array;
    GetClassForVariable($arrayReference); //Should return "MyClass"
?> 
```

我最好的选择是某种[Reflection](http://www.php.net/manual/en/book.reflection.php)，但我还没有找到任何似乎适合于此的功能。

### 编辑：

一个更适合我想要的示例如下：

```
<?php
    class API_Module {
        public $module;
        public $name;
        private $methods = array();
        public function __construct($module, $name) {   
            $this->module = $module;
            $this->name = $name;
            $this->methods["login"] = new API_Method($this, "login", "Login");
        }
        public function GetMethod($method) {
            return $this->methods[$method];
        }
        public function GetURL() {
            return $this->module; //Should return "session"
        }
    }
    class API_Method {
        public $method;
        public $name;
        private $parentReference;
        private $variables = array();
        public function __construct(&$parentReference, $method, $name) {
            $this->parentReference = $parentReference;
            $this->method = $method;
            $this->name = $name;
            $this->variables["myvar"] = new API_Variable($this, "myvar");
        }
        public function GetURL() {
            return $this->GetParentURL() . "/" . $this->method; //Should return "session/login"
        }
        public function GetVariable($variableName) {
            return $this->variables[$variableName];
        }
        private function GetParentURL() {
            // Need to reference the class parent here
            return $this->parentReference->GetURL();
        }
    }
    class API_Variable {
        public $name;
        private $parentReference;
        public function __construct(&$parentReference, $name) {
            $this->parentReference = $parentReference;
            $this->name = $name;
        }
        public function GetURL() {
            return $this->GetParentURL() . "/" . $this->name; //Should return "session/login/myvar"
        }
        private function GetParentURL() {
            // Need to reference the class parent here
            return $this->parentReference->GetURL();
        }
    }

    $sessionModule = new API_Module("session", "Session");
    var_dump($sessionModule->GetMethod("login")->GetVariable("myvar")->GetURL()); //Should return "session/login/myvar"
?> 
```

现在，这很好用，但我希望能够在*不*使用`$parentReference`每个子变量的情况下做到这一点。这可能是不可能的，但我很想知道它是否是。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T10:03:56.063

对于您的示例：

```
$class = new MyClass();
$arrayReference = &$class->array;
GetClassForVariable($arrayReference); //Should return "MyClass" 
```

找出别名最初`$arrayReference`引用的变量在 PHP 中是不可能的。没有可用的函数解析别名。

此外`$class->array`，它本身只是一个变量。因此，您还需要根据定义它的类的*值*来找出。这也是不可能的，类似于 PHP 不提供任何东西来解析变量别名，它也不提供任何东西来了解变量的定义。

所以简而言之，PHP 没有`ReflectionVariable`可用的类；）我想知道它是否可能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:14:35.603

get_class() 函数应该可以工作：

[http://php.net/manual/en/function.get-class.php](http://php.net/manual/en/function.get-class.php)

我同意 GRoNGoR 的观点，即您不需要获取实例化对象的属性的父类。相反，您可以在访问属性之前获取类的名称。例如：

```
$class = new MyClass();
$parent_class = get_class($class); // returns "MyClass"
$arrayReference = &$class->array; 
```

当您拥有对象实例并且可以轻松地从那里获取父类时，不确定为什么您需要属性的父类。

# git - 用于子模块和持续集成的 Git 主机

> ID：14954761
> 
> 赞同：0
> 
> 时间：2013-02-19T10:04:50.033
> 
> 标签：git, ssh, continuous-integration

我们有一个 git 存储库所在的服务器（debian）。同一台服务器也用于持续集成。在构建步骤期间，一个 git 存储库被克隆/更新其子模块。子模块的主机是 subdomain.domain.tld。请注意，此主机正是这一台服务器。运行 CI 的用户是竹子。子模块的主机是在没有用户的情况下指定的，这样当通过 ssh 联系主机时，它会自动以当前用户为前缀。这对我们开发人员来说非常有效，因为每个开发人员在此服务器上都有一个用户。

问题出在构建服务器上。当 git 子模块更新时，构建服务器会尝试连接到竹子@subdomain.domain.tld 而不是竹子@localhost。它无法连接，因为没有可用于bamboo@subdomain.domain.tld 的 ssh 密钥。

现在我刚刚上传了一个密钥

```
ssh-copy-id -i /home/bamboo/.ssh/id_rsa.pub subdomain.domain.tld 
```

但我认为仅为同一用户上传不同 URL 的密钥是奇怪/不正确的。

这个解决方案是正确/安全的，还是有更简单的解决方案来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:12:02.320

它按设计工作，这并不奇怪。

您可以在`~/.ssh/config`构建服务器上执行此操作：

```
Host sub0.domain.tld sub1.domain.tld sub2.domain.tld sub3.domain.tld
HostName localhost
# User git
# Compression no
# ControlMaster auto 
```

# php - 如何在 PHP 中使用 Xpath 的计数功能？

> ID：14954766
> 
> 赞同：4
> 
> 时间：2013-02-19T10:05:17.537
> 
> 标签：php, xml, xpath

我试图计算一个节点出现在我的 xml 中的次数并将这个数字存储在一个变量中：

```
<?php 

$xmlStr = file_get_contents('books.xml'); 
$xml = new SimpleXMLElement($xmlStr); 

$res = $xml->xpath("count(catalog/book)");
print_r($res); 

?> 
```

XML：

```
<?xml version="1.0"?>
<catalog>
<book id="bk101">
    <author>Gambardella, Matthew</author>
    <title>XML Developer's Guide</title>
    <genre>Computer</genre>
    <price>44.95</price>
    <publish_date>2000-10-01</publish_date>
    <description>An in-depth look at creating applications 
  with XML.</description>
</book>
<book id="bk102">
    <author>Ralls, Kim</author>
    <title>Midnight Rain</title>
    <genre>Fantasy</genre>
    <price>5.95</price>
    <publish_date>2000-12-16</publish_date>
    <description>A former architect battles corporate zombies, 
  an evil sorceress, and her own childhood to become queen 
  of the world.</description>
</book>
<book id="bk103">
    <author>Corets, Eva</author>
    <title>Maeve Ascendant</title>
    <genre>Fantasy</genre>
    <price>5.95</price>
    <publish_date>2000-11-17</publish_date>
    <description>After the collapse of a nanotechnology 
  society in England, the young survivors lay the 
  foundation for a new society.</description>
</book>
<book id="bk104">
    <author>Corets, Eva</author>
    <title>Oberon's Legacy</title>
    <genre>Fantasy</genre>
    <price>5.95</price>
    <publish_date>2001-03-10</publish_date>
    <description>In post-apocalypse England, the mysterious 
  agent known only as Oberon helps to create a new life 
  for the inhabitants of London. Sequel to Maeve 
  Ascendant.</description>
</book>
<book id="bk105">
    <author>Corets, Eva</author>
    <title>The Sundered Grail</title>
    <genre>Fantasy</genre>
    <price>5.95</price>
    <publish_date>2001-09-10</publish_date>
    <description>The two daughters of Maeve, half-sisters, 
  battle one another for control of England. Sequel to 
  Oberon's Legacy.</description>
</book>
<book id="bk106">
    <author>Randall, Cynthia</author>
    <title>Lover Birds</title>
    <genre>Romance</genre>
    <price>4.95</price>
    <publish_date>2000-09-02</publish_date>
    <description>When Carla meets Paul at an ornithology 
  conference, tempers fly as feathers get ruffled.</description>
</book>
<book id="bk107">
    <author>Thurman, Paula</author>
    <title>Splish Splash</title>
    <genre>Romance</genre>
    <price>4.95</price>
    <publish_date>2000-11-02</publish_date>
    <description>A deep sea diver finds true love twenty 
  thousand leagues beneath the sea.</description>
</book>
<book id="bk108">
    <author>Knorr, Stefan</author>
    <title>Creepy Crawlies</title>
    <genre>Horror</genre>
    <price>4.95</price>
    <publish_date>2000-12-06</publish_date>
    <description>An anthology of horror stories about roaches,
  centipedes, scorpions  and other insects.</description>
</book>
<book id="bk109">
    <author>Kress, Peter</author>
    <title>Paradox Lost</title>
    <genre>Science Fiction</genre>
    <price>6.95</price>
    <publish_date>2000-11-02</publish_date>
    <description>After an inadvertant trip through a Heisenberg
  Uncertainty Device, James Salway discovers the problems 
  of being quantum.</description>
</book>
<book id="bk110">
    <author>O'Brien, Tim</author>
    <title>Microsoft .NET: The Programming Bible</title>
    <genre>Computer</genre>
    <price>36.95</price>
    <publish_date>2000-12-09</publish_date>
    <description>Microsoft's .NET initiative is explored in 
  detail in this deep programmer's reference.</description>
</book>
<book id="bk111">
    <author>O'Brien, Tim</author>
    <title>MSXML3: A Comprehensive Guide</title>
    <genre>Computer</genre>
    <price>36.95</price>
    <publish_date>2000-12-01</publish_date>
    <description>The Microsoft MSXML3 parser is covered in 
  detail, with attention to XML DOM interfaces, XSLT processing, 
  SAX and more.</description>
</book>
<book id="bk112">
    <author>Galos, Mike</author>
    <title>Visual Studio 7: A Comprehensive Guide</title>
    <genre>Computer</genre>
    <price>49.95</price>
    <publish_date>2001-04-16</publish_date>
    <description>Microsoft Visual Studio 7 is explored in depth,
  looking at how Visual Basic, Visual C++, C#, and ASP+ are 
  integrated into a comprehensive development 
  environment.</description>
</book>
</catalog> 
```

以下将在屏幕上打印出一系列书籍：

```
<?php 

$xmlStr = file_get_contents('books.xml'); 
$xml = new SimpleXMLElement($xmlStr); 

$res = $xml->xpath("/catalog/book");
print_r($res); 

?> 
```

我只是无法弄清楚为什么计数功能不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:23:36.887

不幸的是，SimpleXML 不支持任何***不返回节点集的***XPath 查询。考虑在结果数组上使用 count() 。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T10:08:50.690

您可以`count()`直接使用 on`$res`而不是在 xpath 中应用它。

```
echo count($res); 
```

这样做的原因是 xpath 返回一个类型为 的数组`SimpleXMLElement`，其中包含 xpath 参数路径中的所有节点。

# iphone - 在地图上一次丢掉 82 个图钉

> ID：14954768
> 
> 赞同：1
> 
> 时间：2013-02-19T10:05:22.817
> 
> 标签：iphone, ios, objective-c

我从网络服务获得 82 个地址，并且我正在使用正向地理编码器。现在如何在 mapview 上一次显示所有 82 个地址。我将代码放在 for 循环中，但它会抛出错误“对此 API 密钥进行了太多查询”。有没有办法发送所有地址并获取所有地址的位置？这是我在 for 循环中的代码...

```
 NSMutableDictionary *dictLoc = [[self.arrObjects objectAtIndex:indexValue]valueForKey:@"object_location"];

    NSString *searchString = [NSString stringWithFormat:@"%@,%@,%@,%@",[dictLoc valueForKey:@"object_location_number"],[dictLoc valueForKey:@"object_location_street"],[dictLoc valueForKey:@"object_location_city"],[dictLoc valueForKey:@"object_location_zip"]];

    //        if (self.forwardGeocoder == nil) {
    BSForwardGeocoder *forwardGeocoder = [[[BSForwardGeocoder alloc] initWithDelegate:self] autorelease];
    //        }

    CLLocationCoordinate2D southwest, northeast;
    southwest.latitude = 34.172684;
    southwest.longitude = -118.604794;
    northeast.latitude = 34.236144;
    northeast.longitude = -118.500938;
    BSForwardGeocoderCoordinateBounds *bounds = [BSForwardGeocoderCoordinateBounds boundsWithSouthWest:southwest northEast:northeast];

    // Forward geocode!
#if NS_BLOCKS_AVAILABLE
    [forwardGeocoder forwardGeocodeWithQuery:searchString regionBiasing:nil viewportBiasing:bounds success:^(NSArray *results) {
        [self forwardGeocodingDidSucceed:forwardGeocoder withResults:results withIndexValue:indexValue];
    } failure:^(int status, NSString *errorMessage) {
        if (status == G_GEO_NETWORK_ERROR) {
            [self forwardGeocoderConnectionDidFail:forwardGeocoder withErrorMessage:errorMessage];
        }
        else {
            [self forwardGeocodingDidFail:forwardGeocoder withErrorCode:status andErrorMessage:errorMessage];
        }
    }];
#else
    [self.forwardGeocoder forwardGeocodeWithQuery:searchString regionBiasing:nil viewportBiasing:nil];
#endif 
```

提前致谢.. ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:18:29.257

> 我将代码放在 for 循环中，但它抛出错误“对此 API 密钥进行了太多查询”。有没有办法发送所有地址并获取所有地址的位置？

否。此错误意味着您使用的 API 限制了您可以进行的查询数量。摆脱此错误并出于任何原因显示所有“82”引脚的唯一方法是联系 API 开发人员并了解如何增加在给定的 API 中可以进行的查询数量大体时间。很有可能这是一项优质服务，您可能需要为此付费。

现在，一个更好的解决方案是永远不要在地图上显示 82 个图钉，更像 5/10 的东西对用户更友好。您的 API 可能会允许每分钟 10 个查询或类似的查询。

一个更酷的解决方案是构建一个查询队列，它只允许您的代码调用 10 个查询，然后将其他查询排队。然后在分配的时间之后，它会再进行 10 次查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:24:39.503

您似乎无法根据 API 进行批量转发地理编码请求：

```
@interface BSForwardGeocoder : NSObject <NSURLConnectionDataDelegate>
- (id)initWithDelegate:(id<BSForwardGeocoderDelegate>)aDelegate;
- (void)forwardGeocodeWithQuery:(NSString *)searchQuery regionBiasing:(NSString *)regionBiasing viewportBiasing:(BSForwardGeocoderCoordinateBounds *)viewportBiasing;

#if NS_BLOCKS_AVAILABLE
- (void)forwardGeocodeWithQuery:(NSString *)searchQuery regionBiasing:(NSString *)regionBiasing viewportBiasing:(BSForwardGeocoderCoordinateBounds *)viewportBiasing success:(BSForwardGeocoderSuccess)success failure:(BSForwardGeocoderFailed)failure;
#endif

@property (nonatomic, assign) id<BSForwardGeocoderDelegate> delegate;
@property (nonatomic, assign) BOOL useHTTP;

@end 
```

此外，我还没有遇到过执行批量地理编码请求的 API，但也许您可以尝试不同的 API（[Google Geocoding API](https://developers.google.com/maps/documentation/geocoding/)？），这可能会给您更高的请求限制。

# android - 预定的警报未正确触发

> ID：14954769
> 
> 赞同：1
> 
> 时间：2013-02-19T10:05:23.387
> 
> 标签：android, alarmmanager, android-alarms, repeatingalarm

我的应用程序为特定时间安排了多个警报。这些警报是在应用程序启动时安排的。（每天有 5 个警报，导致每周 35 个警报）...

我已经通过日志验证了这些警报是在应用程序启动时安排的。

问题是当我开始测试我的应用程序时，7 个警报完全正常。然而，第 8 个警报没有响起。我已经通过让我的设备静止超过 1 天来测试这种情况。如何调试此行为以及阻止触发警报的可能原因是什么。

*编辑：*

调度代码：

```
try {
    if (info != null) {
        Calendar c = Calendar.getInstance();
        c.set(Calendar.YEAR, year);
        c.set(Calendar.MONTH, month);
        c.set(Calendar.DAY_OF_MONTH, day);
        c.set(Calendar.HOUR_OF_DAY, info.getHour());
        c.set(Calendar.MINUTE, info.getMinute());
        c.set(Calendar.SECOND, 0);

        Intent intent = new Intent(context, AlarmReceiverActivity.class);
        intent.putExtra("name", info.getPrayerName());
        intent.putExtra("sound", soundType);

        intent.putExtra("time", formatTimeClock(context, info.getHour(), info.getMinute()));

        PendingIntent pendingIntent = PendingIntent.getActivity(context, alarmId, intent, PendingIntent.FLAG_CANCEL_CURRENT);

        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
        am.set(AlarmManager.RTC_WAKEUP, c.getTimeInMillis(), pendingIntent);
    }
} catch (Exception e) {
    Log.e("ALarmSchedularManager", e.getMessage());
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T12:28:45.073

> 如何调试此行为

用于`adb shell dumpsys alarm`查看您的预定警报是什么以及下次调用它们的时间。

> 阻止触发警报的可能原因有哪些

您的代码似乎没有考虑到时间已经过去的可能性，尽管这可能在您上面显示的代码片段之外处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:38:04.673

希望下面的代码会有所帮助，我在我的应用程序中使用了相同的代码。这里在 AlarmManager 类中传递的用于重复的参数应该是 24*60*60*1000

```
AlarmManager am = (AlarmManager) ct.getSystemService(Context.ALARM_SERVICE);         
Intent intent1 = new Intent(ct, TimeAlarm.class);
PendingIntent pendingIntent = PendingIntent.getBroadcast(ct, 0,intent1, PendingIntent.FLAG_CANCEL_CURRENT);

Date curr=new Date();
curr.setHours(h);
curr.setMinutes(m);
c.setTime(curr);
c.set(Calendar.SECOND, 0);

Calendar c1 = Calendar.getInstance();
am.setRepeating(AlarmManager.RTC_WAKEUP, c.getTimeInMillis(),24*60*60*1000, pendingIntent); 
```

您可以使用 AlarmManager.INTERVAL_DAY 而不是硬代码操作 (24*60*60*1000)。检查这个不同的时间间隔长达 1 天[http://developer.android.com/reference/android/app/AlarmManager.html#INTERVAL_DAY](http://developer.android.com/reference/android/app/AlarmManager.html#INTERVAL_DAY)

# eclipse - 如何在 Eclipse 中为 Salesforce 创建和部署自定义设置？

> ID：14954776
> 
> 赞同：0
> 
> 时间：2013-02-19T10:05:40.490
> 
> 标签：eclipse, deployment, salesforce, settings

我的组织中有一些自定义设置，但我似乎无法将它们与我在 Eclipse 中的项目同步。我已经扫描了“添加/删除元数据组件”，但找不到与自定义设置相关的任何内容。我也找不到自定义设置类型的新 Force.com 对象。

我想将我的更改从 Eclipse 部署到不同的沙箱，但当然缺少自定义设置。

这是不可能的还是我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:26:50.637

自定义设置应作为对象列表中的自定义对象提供。您是否从服务器刷新了元数据定义？（看看下面屏幕截图上的标记按钮） ![在此处输入图像描述](../Images/852d5fda478933d0c01b1d52df484a75.png)

# caching - Yii 时间缓存不起作用？

> ID：14954778
> 
> 赞同：1
> 
> 时间：2013-02-19T10:05:47.383
> 
> 标签：caching, yii

我的 YII 版本：1.1.12... 刮一下，我升级到了 1.1.13 版本，还是不行。

我试过这个：

```
Yii::app()->cache->set('someKey', $auctions);
$data = Yii::app()->cache->get('someKey');
print_r($data); 
```

我看到了我存储的数据！但是，如果我尝试这个：

```
Yii::app()->cache->set('someKey', $auctions, 10);
$data = Yii::app()->cache->get('someKey');
print_r( $data ); 
```

我什么也没看见？为什么 YII 忽略了我的时间间隔？我错过了什么？

** 编辑 **

我的缓存在配置中定义为：

```
'cache'=>array(
  'class'=>'system.caching.CMemCache',
    'useMemcached'=>false,
    'servers'=>array(
      array( 'host'=>'127.0.0.1', 'port'=> 11211, 'weight'=>60 ),
      //array('host'=>'server2', 'port'=>11211, 'weight'=>40),
    ),
), 
```

我知道 Memcache 正在工作，因为我已经在 YII 框架之外使用此示例对其进行了测试：

```
$memcache = new Memcache;
$memcache->connect("localhost",11211);
$tmp_object = new stdClass;
$tmp_object->str_attr = "test";
$memcache->set("mysupertest",$tmp_object,false,5);
var_dump($memcache->get("mysupertest")); 
```

这有效，并且该项目被缓存了 5 秒......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T11:25:23.503

这似乎是 CMemCache.php 中的一个错误。有这个功能：

```
protected function setValue($key,$value,$expire)
{
  if($expire>0)
    $expire+=time();
  else
    $expire=0;

  return $this->useMemcached ? $this->_cache->set($key,$value,$expire) : $this->_cache->set($key,$value,0,$expire);
} 
```

MemCache 不希望添加时间，所以我的快速修复是：

```
protected function setValue($key,$value,$expire)
{
  return $this->useMemcached ? $this->_cache->set($key,$value,$expire) : $this->_cache->set($key,$value,0,$expire);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:23:41.700

好吧，确保`$auctions`定义明确。

```
Yii::app()->cache->set('someKey', array('someValue'), 120); // 120 means 2 minutes
print_r(Yii::app()->cache->get('someKey')); // you should see the array with the single value, I do see it when I try to run it 
```

确保配置正常并且您没有使用`CDummyCache`. 我的看起来像这样：

```
'components' => array(
       ...
       // Add a cache component to store data 
       // For demo, we are using the CFileCache, you can use any 
       // type your server is configured for. This is the simplest as it
       // requires no configuration or setup on the server.
       'cache' => array (
           'class' => 'system.caching.CFileCache',
       ),
       ...
   ), 
```

# c# - UserControl 中的 UserControl 不反映来自 ViewModel 的数据

> ID：14954783
> 
> 赞同：0
> 
> 时间：2013-02-19T10:06:12.450
> 
> 标签：c#, wpf, data-binding, user-controls

在 MainWindow 中，我将其内容设置为 UserControl -

```
<Grid>
    <local:MainControl></local:MainControl>
</Grid> 
```

在 MainControl 中，我正在使用其他 UserControls -

```
 <Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"></RowDefinition>
        <RowDefinition Height="*"></RowDefinition>
        <RowDefinition Height="Auto"></RowDefinition>
    </Grid.RowDefinitions>
    <Grid.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="White" Offset="0"></GradientStop>
            <GradientStop Color="LightBlue" Offset="1"></GradientStop>
        </LinearGradientBrush>
    </Grid.Background>
    <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
    </Grid>
    <Grid Grid.Row="0">
        <ui:TestHeader Height="20" Padding="20" Margin="2" Background="Gray"></ui:TestHeader>
    </Grid>
</Grid> 
```

这里 TestHeader 是一个简单的 UserControl -

```
<UserControl.DataContext>
    <model:TestViewModel></model:TestViewModel>
</UserControl.DataContext>
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"></RowDefinition>
        <RowDefinition Height="*"></RowDefinition>
    </Grid.RowDefinitions>
    <Label Grid.Row="0" Content="{Binding Path=Test}"/>
</Grid> 
```

现在我可以看到来自 ViewModel 的数据，当我直接在 MainWindow 中使用 TestHeader 时，但是当我在 MainControl 中使用相同的 TestHeader 时，它没有从 ViewModel 获取数据。我该如何解决这个问题。我想，我错过了一些东西，但不知道是什么。

请提出解决方案。提前致谢。

**更新**

我找到了这个 -

```
<Grid Grid.Row="1">
        <ui:TestHeader Height="20" Padding="20" Margin="2" Background="Gray"></ui:TestHeader>
    </Grid>
    <ui:TestHeader Grid.Row="0" Background="Gray" Height="20"></ui:TestHeader> 
```

在这里，整个内容都在 MainWindow 的 Grid 中。外部 TestHeader 正在填充数据，但是 Grid 内的 TestHeader 不是。

**更新**

我犯了有史以来最愚蠢的错误-

看 padding 和 height，都是 20。没有空间容纳。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:15:34.443

您需要`DataContext`在父用户控件上设置您的（到 ViewModel），然后使用 ViewModel 的属性将其绑定到控件的属性。

# c# - 如何发送带有多个图像的 HTML 电子邮件

> ID：14954786
> 
> 赞同：1
> 
> 时间：2013-02-19T10:06:17.973
> 
> 标签：c#, winforms, webbrowser-control

我想发送带有多个图像的 html 邮件。我正在使用 webbrowsercontrol 嵌入多个图像，但是当我发送邮件 HTML 电子邮件以及 HTML 中的图像时，我只收到没有图像的 html 邮件。！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T10:10:40.960

尝试使用[**LinkedResource**](http://msdn.microsoft.com/en-us/library/system.net.mail.linkedresource.aspx)类嵌入图像

```
using System.Net.Mail;

string messageHtml= @"<html><body> Your message text 
                  <img src=""cid:12345"" />
                  <img src=""cid:123456"" /></body></html>";
AlternateView view= AlternateView.CreateAlternateViewFromString(messageHtml, null, MediaTypeNames.Text.Html);

LinkedResource pic= new LinkedResource("pics.jpg", MediaTypeNames.Image.Jpeg);
pic.ContentId = "12345";

LinkedResource pic2= new LinkedResource("pic2.jpg", MediaTypeNames.Image.Jpeg);
pic2.ContentId = "123456";
view.LinkedResources.Add(pic);
view.LinkedResources.Add(pic2);

MailMessage mail = new MailMessage();
mail.AlternateViews.Add(view);

mail.send(); 
```

# javascript - 复杂的层次树布局

> ID：14954789
> 
> 赞同：5
> 
> 时间：2013-02-19T10:06:19.803
> 
> 标签：javascript, jquery, html, tree, d3.js

我需要创建一个分层树（[像这样](http://bl.ocks.org/mbostock/999346)），但我需要一些功能：

1.  能够随心所欲地设计节点（大小、背景图像、字体等）
2.  自动布局
3.  能够通过拖放连接节点

我看过[GoJs](http://gojs.net/)和它的伟大，但它是基于画布的，我找不到让节点看起来完全符合我想要的方法（实际上甚至没有远程关闭）。

我还查看了[d3.js](http://d3js.org/)，它也很棒，但又一次，因为它是 SVG，所以很难设计节点。

这里的主要喧嚣是布局，并连接节点，我可以处理 Drag N' Drop 我自己，是否有一个库可以为我处理布局，所以我可以创建所需的 div，将它们设计为我看合适，让图书馆只做布局的东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:25:30.883

以下是一些示例库。

如果您想避免画布，请尝试为以下内容实现拖放

[CSS3 家谱](http://thecodeplayer.com/walkthrough/css3-family-tree)

[光滑地图](http://astuteo.com/slickmap/)

或者查看一些基于画布的库

[JavaScript InfoVis Toolkit 的 HyperTree / SpaceTree](http://philogb.github.com/jit/demos.html)

[jsPlumb](http://jsplumb.org/jquery/chartDemo.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-10T15:36:29.130

虽然答案较晚，但希望它可以在未来对其他人有所帮助。这是一个使用出色的 D3.js 库的拖放树。

[http://bl.ocks.org/robschmuecker/7880033](http://bl.ocks.org/robschmuecker/7880033)

[https://gist.github.com/robschmuecker/7880033](https://gist.github.com/robschmuecker/7880033)

示例中的树处理自动布局/调整大小、缩放、平移、拖放并且是可折叠的。如果需要，可以删除所有方面或不删除任何方面。

# c - 将 WIN32 应用程序移植到 Linux - 事件在 Linux 中如何工作？

> ID：14954798
> 
> 赞同：1
> 
> 时间：2013-02-19T10:06:45.260
> 
> 标签：c, linux, events, gnu, porting

我有一个 WIN32 应用程序，我正在将它移植到 LINUX GNU。我在 WIN32 应用程序中有事件基础 C 代码。现在我尝试了几种在 GNU linux 中实现相同功能的方法，但不知何故我觉得这段代码无法正常工作。

首先，我创建了一个结构来实现事件。

```
typedef struct _Event
   {
      int m_bool;
      pthread_mutex_t m_mutex;
      pthread_cond_t m_condition;

   }MyEvent, * Event_handle; 
```

为了实现“SetEvent”、“ResetEvent”、“WaitForSingleObject”，我实现了以下代码。

```
 MyEvent CreateEvent( void )
   {
       MyEvent e1;
       e1.m_bool = 1;
       return e1;
   }

   void SetEvent( MyEvent evt )
   {
      evt.m_bool = 1;
      pthread_cond_broadcast(&evt.m_condition);
   }

   void ResetEvent( MyEvent evt )
   {
      evt.m_bool = 0;
      pthread_cond_broadcast(&evt.m_condition);
   }

   int WaitForSingleObject( MyEvent evt, unsigned timeout )
   {
         pthread_cond_wait(&(evt.m_condition),&(evt.m_mutex));
         return SUCCESS;
   } 
```

现在 m 对 m_mutex 和 m_bool 的用法感到困惑。我正在寻找的是示例代码或演示。

我已经尝试了所有锁的钥匙，但门似乎仍然锁着。任何帮助都可以。谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:51:59.897

看来，我找到了你想要的。不过我不确定。我的第一个想法是你不明白为什么互斥锁在这里。我先试着解释一下。

在 Windows© 上，当您调用 时`WaitForSingleObject()`，它会阻止执行，直到您发送信号（或将事件设置为信号状态`SetEvent()`，在 Windows 术语中）。基本上，它是通过在事件对象中设置一个隐式互斥体，将其锁定在`WaitForSingleObject()`函数中并等待信号来完成的。

在 POSIX 世界中，您需要显式设置互斥锁。一个重要的通知：没有`ResetEvent`-link 行为——你不需要重置你的条件变量；但是，您需要解锁互斥锁。可能该`ResetEvent()`函数的唯一目的是解锁该隐式互斥锁。

```
void SetEvent(MyEvent evt)
{
    pthread_cond_signal(&evt.m_condition);
}

void ResetEvent(MyEvent evt)
{
    pthread_mutex_unlock(&evt.m_mutex);
}

int WaitForSingleObject(MyEvent evt, unsigned)
{
    pthread_mutex_lock(&evt.m_mutex);
    pthread_cond_wait(&evt.m_condition, &evt.m_mutex);
} 
```

在你的情况下，`pthread_cond_signal()`更合适。另请注意，您需要使用该`pthread_cond_timedwait()`功能来模仿该`WaitForSingleObject()`功能。

进一步阅读：

*   [人 pthread_cond_wait](http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_cond_wait.html)
*   [人 pthread_cond_signal](http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_cond_signal.html)

# javascript - Javascript：动态添加文本字段和选择标签未保存

> ID：14954801
> 
> 赞同：1
> 
> 时间：2013-02-19T10:06:53.467
> 
> 标签：javascript

```
<html>
<head>
<title></title>
<script >
fields = 0;
function addInput() {
if (fields != 3) {
document.getElementById('text').innerHTML += "<input type='text' name='clients_form[clients_name]' size='32' maxlength='32' value='' id='clients_form_clients_name_"+fields+"' />"+
'<select id="client_category_name_'+fields+'" name="client_category[]"><option value="">Select Category</option><option value="1">internal</option><option value="2">external</option><option value="3">others</option></select>';
fields = fields+ 1;
} else {
document.getElementById('text').innerHTML += "<br />More then 3 not allowed.";
document.form.add.disabled=true;
}
}
</script>
</head>
<body>
<form name="form">
<input type="button" onclick="addInput();" name="add" value="Add More" />
</form>
<div id="text">

</div>
</body>
</html> 
```

问题：当我首先单击添加更多并**键入**内容并再次单击添加更多时，我之前输入的内容被删除。这背后的原因是什么。以及如何解决？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:10:28.227

.innerHtml 替换您接下来放置的内容..所以使用 append like

```
 var t  = document.createElement("div"),

 document.getElementById("theBlah").appendChild(t); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:28:07.730

问题是在输入中输入内容不会改变它的 value 参数，而是设置它的 value 属性（[知道区别](https://stackoverflow.com/questions/6003819/properties-and-attributes-in-html)），例如它改变`this.value`而不是`this.attributes.value`，这导致 innerHTML 实际上不包含输入的值。

因此，由于`innerHTML += 'string'`ist 就像 setting 一样`innerHTML = innerHTML + 'string'`，它将输入值重置为其属性，该属性为空。

我真的建议在这里使用 jQuery，因为对于纯 JS，您必须首先创建输入和选择元素，然后通过多次`.setAttribute()`调用应用所有需要的属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T06:44:19.100

我使用了 Jquery 并以这种方式解决了它：

```
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script> 
</head>
<body>
<script type="text/javascript">
$(document).ready(function(){
    var counter = 1;
    $("#addButton").click(function () {
    if(counter>6){
            alert("Not allowed");
            return false;
    }   
    var newTextBoxDiv = $(document.createElement('div'))
         .attr("id", 'TextBoxDiv' + counter);
    newTextBoxDiv.html(Added my text box and select tag here);
    newTextBoxDiv.appendTo("#TextBoxesGroup");
    counter++;
     });
     $("#removeButton").click(function () {
    if(counter==1){
          alert("No more textbox to remove");
          return false;
       }   
    counter--;
        $("#TextBoxDiv" + counter).remove();
     });
  });
</script>
</head><body>

<div id='TextBoxesGroup'>
    <div id="TextBoxDiv1">

    </div>
</div>
<input type='button' value='Add More' id='addButton'>
<input type='button' value='Remove' id='removeButton'>

</body>
</html> 
```

# php - 为什么更新和选择两者都不适用于同一张表

> ID：14954805
> 
> 赞同：5
> 
> 时间：2013-02-19T10:07:14.483
> 
> 标签：php, codeigniter

在这个查询中，我想更新那些最新发布的记录。但是我的这个查询不起作用请帮助我这是什么原因？？？

错误：--您不能在 FROM 子句中指定目标表 'beevers_products' 进行更新

```
update beevers_products set product_name='my_product_name' where posted_date in (SELECT posted_date FROM `beevers_products` order by posted_date asc limit 1) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-06T14:18:42.790

检查这个：

```
UPDATE beevers_products 
SET product_name = 'my_product_name' 
WHERE posted_date = (SELECT posted_date 
                     FROM beevers_products
                     ORDER BY posted_date DESC limit 1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:10:42.753

推荐使用 CI Active Record 类进行查询。

[http://ellislab.com/codeigniter/user-guide/database/active_record.html](http://ellislab.com/codeigniter/user-guide/database/active_record.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:14:28.173

尝试这个：

```
update beevers_products as t1, 
(select posted_date from beevers_products order by posted_date asc limit 1) as t2
set t1.product_name = 'my_product_name'
where t1.posted_date in (t2.posted_date); 
```

您必须为所需的记录提供别名并在 where 子句中使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T10:15:03.663

尝试这个

```
UPDATE beevers_products 
SET product_name = 'my_product_name'  
OUTPUT DELETED.product_name
WHERE posted_date in (SELECT posted_date 
                      FROM `beevers_products` 
                      order by posted_date asc 
                      limit 1) 
```

阅读有关[输出的更多信息](http://blog.sqlauthority.com/2007/10/01/sql-server-2005-output-clause-example-and-explanation-with-insert-update-delete/)

检查这个 -->[我可以在一个查询中更新/选择表吗？](https://stackoverflow.com/questions/43644/can-i-update-select-from-a-table-in-one-query)
可能对你有帮助

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-19T11:33:04.237

```
INSERT INTO beevers_products (id, product_name)
SELECT id, 'my_product_name'
FROM beevers_products
ORDER BY posted_date ASC
LIMIT 1
ON DUPLICATE KEY UPDATE product_name = VALUES(product_name) 
```

一旦我学会使用`INSERT ... SELECT ... ON DUPLICATE`这么多的可能性浮出水面。我只是有点好奇，无论何时你想要`posted_data ASC`或`posted_data DESC`。

# javascript - AngularJs/.provider/如何获取rootScope进行广播？

> ID：14954811
> 
> 赞同：18
> 
> 时间：2013-02-19T10:07:36.837
> 
> 标签：javascript, angularjs, broadcast, provider

现在我的任务是重写 $exceptionHandler 提供程序，以便它输出带有消息的模式对话框并停止默认事件。

我做什么：

在项目初始化中，我使用方法 .provider：

```
.provider('$exceptionHandler', function(){

//and here I would like to have rootScope to make event broadcast

}) 
```

标准注入方法不起作用。

**UPD**：沙箱 - [http://jsfiddle.net/STEVER/PYpdM/](http://jsfiddle.net/STEVER/PYpdM/)

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-02-19T16:19:23.030

您可以注入注入器并查找 $rootScope。

演示 plunkr：[http ://plnkr.co/edit/0hpTkXx5WkvKN3Wn5EmY?p=preview](http://plnkr.co/edit/0hpTkXx5WkvKN3Wn5EmY?p=preview)

```
myApp.factory('$exceptionHandler',function($injector){
    return function(exception, cause){
        var rScope = $injector.get('$rootScope');
        if(rScope){
            rScope.$broadcast('exception',exception, cause);
        }
    };
}) 
```

**更新：**也添加 .provider 技术：

```
app.provider('$exceptionHandler', function() {
  // In the provider function, you cannot inject any
  // service or factory. This can only be done at the
  // "$get" method.

  this.$get = function($injector) {
    return function(exception,cause){
      var rScope = $injector.get('$rootScope');
      rScope.$broadcast('exception',exception, cause);  
    }
  };
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-02T12:33:15.040

我这样做的方式 - 使用装饰器并在未知错误时恢复到先前的异常处理程序：

```
app.config(function ($provide) {
  $provide.decorator('$exceptionHandler', function($delegate, $injector) {
    return function (exception, cause) {
      if (ICanHandleThisError) {
        var rootScope= $injector.get('$rootScope');
        // do something (can use rootScope)
      } else
       $delegate(exception, cause);
    };
  });
}); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-19T10:08:34.497

您需要注入 $rootScope：

```
.provider('$exceptionHandler', '$rootScope', function(){

//and here I would like to have rootScope to make event broadcast

}) 
```

这是你试过的吗？如果是这样，您是否有错误消息或 jsfillde/plnkr 来查看它失败的原因？

# sql - SQL 高效定位每个组合示例的方法

> ID：14954813
> 
> 赞同：1
> 
> 时间：2013-02-19T10:07:41.707
> 
> 标签：sql, sybase

是否有一种更有效的方法来查询表（或表的集合）以查找几列的所有可能组合，我目前正在运行 group by 然后 max，但这似乎不是最有效的方式。

以下示例的 SQL Fiddle：[http ://sqlfiddle.com/#!2/25f8b/3](http://sqlfiddle.com/#!2/25f8b/3)

示例表

```
ID | Name | Age | City   | Color
--------------------------------
1  | Dave | 10  | London | Red
2  | Dave | 11  | London | Purple
3  | Dave | 10  | Paris  | Orange
4  | Jim  | 10  | London | Red
5  | Jim  | 10  | London | Green
6  | Jim  | 11  | London | Lazer
etc... (around 500,000 rows) 
```

正在做：

```
SELECT  max(ID), Name, Age, City, Color
from People
group by Name, Age, City 
```

生产：

```
MAX(ID) NAME    AGE CITY    COLOR
1       Dave    10  London  Red
3       Dave    10  Paris   Orange
2       Dave    11  London  Purple
5       Jim     10  London  Red
6       Jim     11  London  Lazer 
```

*   注意 4 丢失，因为它与 5 完全相同
*   3 包含在内，因为它与 1 有不同的城市，即使年龄/姓名相同

然而，目前在这个庞大的数据库上，返回结果大约需要十分钟（注意它实际上是几个表的连接）

有没有更有效的方法来返回相同的结果？我在想象大量收集`SELECT * WHERE name = %, age = % and city = % LIMIT 1`或类似的东西

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T15:46:50.207

要获得不同的组合，请使用保留字`DISTINCT`：

```
SELECT DISTINCT Name, Age, City
FROM People 
```

这给出了相同的结果：

```
SELECT Name, Age, City
FROM People
GROUP BY Name, Age, City 
```

但是它是有限的：

*   如果您添加一列（如颜色），它将包含在组合分析中
*   您不能使用聚合函数，例如 MAX
*   我不知道它是否有更好的性能明智

# jsf - primefaces panelgrid colspan不工作

> ID：14954814
> 
> 赞同：9
> 
> 时间：2013-02-19T10:07:42.323
> 
> 标签：jsf, primefaces

我正在尝试在对话框中设置面板网格。除了 colspan 之外，一切似乎都在工作。我已经检查了这篇[PrimeFaces panelGrid](https://stackoverflow.com/questions/5165292/primefaces-panelgrid)帖子，但它已经有一年半的历史了。从 primefaces 手册和展示中，colspan 应该被 datatable 和 panelGrid 接受。

```
 <h:form id="idFormAddDialog">

            <p:panelGrid id="idPanelAddUsers" columns="2">
                <h:outputLabel for="dAddOutUser" value="Username:"></h:outputLabel>
                <h:inputText id="dAddOutUser" value="#{userController.username}"></h:inputText>
                <h:outputLabel for="dSelRole" value="Role:"></h:outputLabel>

                <h:selectOneMenu id="dSelRole" value="#{userController.role}">
                    <f:selectItem itemLabel="Admin" itemValue="1"></f:selectItem>
                    <f:selectItem itemLabel="Researcher" itemValue="2"></f:selectItem>
                    <f:selectItem itemLabel="User" itemValue="3"></f:selectItem>
                </h:selectOneMenu>

                <h:outputLabel for="dAddINPassword1" value="Password: "></h:outputLabel>
                <p:password id="dAddINPassword1" value="#{userController.password}" feedback="true"></p:password>
                <p:row>
                    <p:column colspan="2">
                        <p:separator></p:separator>
                        <!-- <p:separator></p:separator>-->
                    </p:column>
                </p:row>

                <p:commandButton value="OK" actionListener="#{userController.addUser()}"  ></p:commandButton>
                <p:button value="Cancel"></p:button>
            </p:panelGrid>
        </h:form> 
```

但我无法找到我做错了什么。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-19T10:34:26.190

首先，如果您想在删除属性中使用`p:row`and ，并使用and标签手动管理行和列。里面的所有东西都必须在标签内。例子：`p:column``p:panelGrid``columns``p:row``p:column``p:panelGrid``p:row`

```
<p:panelGrid id="idPanelAddUsers">
  <p:row>
    <p:column></p:column>
    <p:column></p:column>
    <p:column></p:column>
  </p:row>
  <p:row>
    <p:column colspan="2"></p:column>
    <p:column></p:column>
  </p:row>
</p:panelGrid> 
```

# perl - 如何以添加元素的相同顺序打印哈希？

> ID：14954816
> 
> 赞同：2
> 
> 时间：2013-02-19T10:07:54.150
> 
> 标签：perl

是否可以以 LIFO 或 FIFO 方式使用散列？如何确保哈希以与添加元素相同的顺序打印？

```
#!/usr/bin/perl

print "content-type: text/html \n\n";

# BEGINNING HASH
%coins = ( "Quarter" , .25,
          "Dime" ,    .10,
          "Nickel",   .05 );
# PRINT THE OLD HASH
while (($key, $value) = each(%coins)){
    print $key.", ".$value."<br />";
}

# ADD NEW ELEMENT PAIRS
$coins{Penny} = .01;
$coins{HalfDollar} = .50;

# PRINT THE NEW HASH
print "<br />";
while (($key, $value) = each(%coins)){
     print $key.", ".$value."<br />";
} 
```

这给

```
镍，0.05
一角钱，0.1
季度，0.25

镍，0.05
一角钱，0.1
半美元，0.5
一分钱，0.01
季度，0.25
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T10:25:04.130

您可以保留一个单独的哈希键数组，以便您可以编写

```
my @coins = qw/ Quarter Dime Nickel Penny HalfDollar /;

for my $key (@coins) {
  print "$key, $coins{$key}<br />\n";
} 
```

或者您可以安装和使用该[`Tie::IxHash`](https://metacpan.org/module/Tie%3a%3aIxHash)模块，该模块将使散列元素保持插入顺序，如下所示

```
use strict;
use warnings;

use Tie::IxHash;
tie my %coins, 'Tie::IxHash';

print "content-type: text/html \n\n";

%coins = (
  Quarter => 0.25,
  Dime    => 0.10,
  Nickel  => 0.05,
);

while (my ($key, $value) = each %coins){
    print "$key, $value<br />\n";
}

$coins{Penny} = .01;
$coins{HalfDollar} = .50;

print "<br />\n";
while (my ($key, $value) = each(%coins)){
     print "$key, $value<br />\n";
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:18:31.290

默认哈希不保留顺序 - 这就是哈希的本质。您可以使用[Tie::IxHash](https://metacpan.org/module/Tie%3a%3aIxHash)之类的模块来保留添加项目的顺序。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-19T11:16:53.797

我想出了一个不需要使用 [Tie::IxHash](https://metacpan.org/module/Tie%3a%3aIxHash)的解决方案。

`key`方法是在哈希之前添加一个字符/数字。

这将允许我们获取我们在何时 `keys`将被`sort`编辑时在哈希中推送键的顺序。

这是代码：

```
#!/usr/perl/bin -w    
use strict;
use Data::Dumper;

my %hash = ();

my @keys = qw(one two three);
my $count = 0;

for(my $i=0; $i<scalar(@keys); $i++) {
    $hash{ chr($count) . $keys[$i] } = 1;
    $count++;
}

foreach my $key (sort { ord $a <=> ord $b } keys(%hash) ) {
    print substr($key, 1) . " => " . $hash{$key}. "\n";
} 
```

# java - FTPClient 从 Java (Apache) 发出文字命令

> ID：14954818
> 
> 赞同：0
> 
> 时间：2013-02-19T10:08:03.933
> 
> 标签：java, apache, ftp, ftp-client

`literal`是否可以使用 Java 中的 Apaches FTPClient(org.apache.commons.net.ftp.FTPClient)发出命令？在通过 FTP 传输文件之前，我需要发出此命令：

```
literal site format=3.1nsml 
```

因此，如果我通过命令提示符运行它，它可以正常工作，但是似乎没有办法通过 Java 中的 FTPClient 来实现。有谁知道解决方法？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T12:33:05.637

您可以尝试使用`FTPClient.doCommand`方法来执行自定义命令。

# vb.net - 识别表单更改

> ID：14954819
> 
> 赞同：0
> 
> 时间：2013-02-19T10:08:04.450
> 
> 标签：vb.net

我有一个带有许多控件的 winform：复选框、文本框等。当表单关闭时，我想知道是否进行了更改（检查框更改状态、文本更改等）。是否有一种优雅而简短的方法（除了在设计时为每个控件创建一个事件）？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:21:08.677

您可以声明一个布尔变量，并且每次修改某些内容时都可以更改其值：

```
Public bChanges As Boolean = False 
```

在任何更改的控件中（例如通过其事件进行管理）：

```
bChanges = True 
```

并且当表单关闭时（如果您希望它稍后存在，请在表单类之外声明变量）您可以轻松检查其值。

您需要创建事件以了解控件是否被修改。您可以为此目的对事件进行分组：

```
Handles Button1.Click, Button2.Click, Button3.Click 
```

或者您可以为表单控件创建动态循环的事件，并根据控件的类型确定您分配的方法：

```
For Each elem As Control in Me.Controls
    AddHandler elem.TextChanged, AddressOf ChangedMethod
Next 
```

# c# - 列表的排列，其中每个元素都是 int 数组

> ID：14954820
> 
> 赞同：0
> 
> 时间：2013-02-19T10:08:12.967
> 
> 标签：c#, combinatorics

我有 90 个列表，列表中的每个元素都是 600 的 int 数组。现在我想在这个列表上执行排列（而不是在 int 数组上），即我想获得这个 90 个元素列表的所有可能的唯一组合，总之90！列表。

我正在使用`kwCombinatorics`图书馆。

这是代码。

在第一个 foreach 语句中抛出此异常， `ArgumentOutOfRangeException`-

> 值大于允许的最大值。

```
foreach(var row in new Permutation(image_matrix_90_600.Count).GetRows())
{         
    foreach(var mix in Permutation.Permute(row, image_matrix_90_600))
        {
            // code for saving the individual list to text. 
        }
} 
```

她是来自[http://kwcombinatorics.codeplex.com/的例子](http://kwcombinatorics.codeplex.com/)

```
using Kw.Combinatorics;
using System;
using System.Collections.Generic;

namespace Kw.CombinatoricsExamples
{
    public class Furniture
    {
        private string name;
        public Furniture (string newName) { name = newName; }
        public override string ToString () { return name; }
    }

    public class Fruit
    {
        private string name;
        public Fruit (string newName) { name = newName; }
        public override string ToString () { return name; }
    }

    class PnExample03
    {
        static void Main ()
        {
            var things = new List<object>
            {
                new Fruit ("apple"),
                new Furniture ("bench"),
                new Furniture ("chair")
            };

            // Use permutations to get rearrangements of other objects:

            foreach (var row in new Permutation (things.Count).GetRows())
            {
                foreach (var mix in Permutation.Permute (row, things))
                    Console.Write ("{0} ", mix);
                    Console.WriteLine ();
            }
        }

        /* Output:

        apple bench chair
        apple chair bench
        bench apple chair
        bench chair apple
        chair apple bench
        chair bench apple

        */
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:23:08.060

你不能做这个。

90！约为 1.49 * 10^138

假设您每秒可以处理 10 亿次排列，这将花费超过 4 * 10^112 亿年的时间。是当前宇宙年龄的很多很多倍。

玩得开心！:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T10:23:52.357

`width`构造函数中使用的参数`Permutation(int width)`可能取 0 到 20 之间的值。可能`image_matrix_90_600.Count`你传入的值是 90，这就是你得到异常的原因。

```
/// <summary>
/// Make a new <see cref="Permutation"/> from the supplied
/// <em>width</em> of <see cref="Rank"/> 0.
/// </summary>
/// <param name="width">Number of elements of new sequence.</param>
/// <example>
/// <code source="Examples\Permutation\PnExample01\PnExample01.cs" lang="cs" />
/// </example>
/// <exception cref="ArgumentOutOfRangeException">
/// When <em>width</em> is less than 0 or greater than 20.
/// </exception>
public Permutation (int width)
{
    if (width < 0)
        throw new ArgumentOutOfRangeException ("width", "Value is less than zero.");

    if (width > MaxWidth)
        throw new ArgumentOutOfRangeException ("width", "Value is greater than maximum allowed.");

    this.data = new int[width];
    for (int ei = 0; ei < width; ++ei)
        this.data[ei] = ei;

    this.rank = 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:15:44.657

根据`KwCombinatorics`库的 XML 中的文档，`Permute`方法抛出一个`ArgumentOutOfRangeException` *When length of source is less than Kw.Combinatorics.Permutation.Width*。

# iphone - 用户位置返回空值

> ID：14954827
> 
> 赞同：0
> 
> 时间：2013-02-19T10:08:43.203
> 
> 标签：iphone, facebook, ios6

在我的应用程序中，当我检索用户位置时，它返回一个 Null 值，并且生日也返回 Null 值，代码如下，

```
 - (void)populateUserDetails {
if (FBSession.activeSession.isOpen) {
    [[FBRequest requestForMe] startWithCompletionHandler:
     ^(FBRequestConnection *connection, NSDictionary<FBGraphUser> *user, NSError *error)           {
         if (!error) {
             self.userNameLabel.text = user.name;
             self.userProfileImage.profileID = [user objectForKey:@"id"];
             self.userbirthday.text=user.birthday;
             self.userloc=[[user objectForKey:@"location"]  objectForKey:@"name"];

         }
     }];
   }
 } 
```

代码有什么问题？请帮我解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:26:47.170

对于生日和位置，您需要获得此类许可。所以你需要像这样请求权限：[Facebook SDK Documentation](http://developers.facebook.com/docs/howtos/user-data-ios-sdk/#step2)

```
- (BOOL)openSessionWithAllowLoginUI:(BOOL)allowLoginUI {
    NSArray *permissions = [[NSArray alloc] initWithObjects:
                            @"user_location", // you need to have this permission
                            @"user_birthday", // to be approved
                            @"user_likes",
                            nil];
    return [FBSession openActiveSessionWithReadPermissions:permissions
                                              allowLoginUI:allowLoginUI
                                         completionHandler:^(FBSession *session,
                                                         FBSessionState state,
                                                         NSError *error) {
                                         [self sessionStateChanged:session
                                                             state:state
                                                             error:error];
                                     }];
} 
```

然后使用 FBRequest 检索生日和位置。您可以访问用户名，因为它不需要特殊权限。

# java - 从 Map 的键/值子视图中删除元素？

> ID：14954834
> 
> 赞同：0
> 
> 时间：2013-02-19T10:08:58.427
> 
> 标签：java, collections, map

我怎样才能获得 Map 的子视图，然后将元素从它上面交叉，徒劳地试一试。这是我的代码片段：

```
HashMap<String,Integer> myLinkedHashMap = new LinkedHashMap<String, Integer>(1,1,true);         
myLinkedHashMap.put("a", 2);
myLinkedHashMap.put("b", 3);
myLinkedHashMap.put("c", 4);
Set keysView =  myLinkedHashMap.keySet();
keysView.remove("a");  // worked without a hitch     
Collection valuesView =  myLinkedHashMap.values();
valuesView.remove(4);  // like the last one 
```

这就是我的问题归结为：

```
Set<Entry<String,Integer>> associationsView = myLinkedHashMap.entrySet();
associationsView.remove("Nothing doing,for set does not know about key/value thing"); 
```

伸出援助之手将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:16:41.183

你想做什么？像这样的东西会起作用吗？

```
final Iterator<Entry<String,Integer>> iter = myLinkedHashMap.entrySet().iterator();
while(iter.hasNext()) {
  final Entry<String,Integer> entry = iter.next();
  if(entry.getKey().equals("something")) {
    iter.remove();
  }
} 
```

可能还值得看看 Guava [Maps](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html)类，如果过滤地图，它有很多方法。

# jquery - jQuery 脚本在 iPad 上不起作用

> ID：14954845
> 
> 赞同：1
> 
> 时间：2013-02-19T10:09:40.557
> 
> 标签：jquery, ipad

我的网页上有以下 jquery 脚本，它在笔记本电脑/台式机浏览器上运行良好。

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
<script src="sharrre/jquery.sharrre-1.3.4.js"></script>
<script src="js/video-js/video.js"></script>

<script type="text/javascript">
$(document).scroll(function () 
{
if($(this).scrollTop() < 1000) {
$(".socialshare-test").fadeIn(200);
 } else {
$(".socialshare-test").fadeOut(200);
}
});
</script> 
```

问题是它停止在 iPad 上工作。我需要添加什么才能使其正常工作吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:13:13.820

```
 <script type="text/javascript">
 $(function ()
 $(document).scroll(function () 
  {
   if($(this).scrollTop() < 1000) {
   $(".socialshare-test").fadeIn(200);
   } else {
   $(".socialshare-test").fadeOut(200);
 }
 }); 
 });
 </script> 
```

# c++ - 为 QTableWidget 重新实现排序？

> ID：14954848
> 
> 赞同：1
> 
> 时间：2013-02-19T10:09:44.403
> 
> 标签：c++, qt, qt4

有没有办法重新实现排序功能`QTableWidget`？`QComboBox`我在表的第一行中使用(multicheck) 来过滤数据。我还希望能够对表中的数据进行排序，但无论我如何对数据进行排序，我都希望我的小部件保持在第一行。

我知道我可以重新实现 < 运算符并在单元格中设置一个值以及一个小部件，但这当然对我没有帮助。

# c - 将提取的帧名称存储在数组中 - ffmpeg

> ID：14954852
> 
> 赞同：1
> 
> 时间：2013-02-19T10:09:51.123
> 
> 标签：c, arrays, image-processing, ffmpeg

我是C的完全新手。我来自PHP背景，但是碰巧我用PHP编写的代码需要转换为C。最初是Java，但现在要求是C。

在阅读了一些教程之后，我掌握了 C 的基础知识并编写了以下代码以`ffmpeg.exe`在 ac 程序中运行

```
#include <stdio.h>
#include <stdlib.h>

int main()
{

    char *app = "D:\\ffmpeg\\bin\\ffmpeg.exe -i";
    char *input = " D:\\video.mpg";
    char *output = " D:\\frames\\image%d.jpg";
    char *param = " -r 10";
    char str[300];    
    snprintf(str, sizeof str, "%s%s%s%s", app, input, param, output);
    // str contains "D:\ffmpeg\bin\ffmpeg.exe -i D:\video.mpg -r 10 D:\frames"\image%d.jpg
    system(str); // <-- working fine, frames are being extracted
    /*
        do something here to store each extracted frame in an array
        so that the array contains image1.jpg, image2.jpg, image3.jpg...and so on
    */
    getch();
    return 0;
} 
```

在编译和运行程序时，我按预期在输出文件夹中获取帧。问题是我想在提取每个帧名称时将其存储在数组中。到目前为止，我还没有遇到类似的问题，所以我决定为它创建一个新线程。我希望这是可能的，并希望朝着正确的方向轻推。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:24:51.163

现在，由于文件名不显示为系统命令的输出，因此使用 popen 或 fork 将不起作用。我建议您在输出目录（D:\frames）上执行 nftw。它将列出文件夹中的所有文件。

示例代码： http: [//linux.die.net/man/3/nftw](http://linux.die.net/man/3/nftw)

# java - Java：冻结 JFrame 上的组件

> ID：14954853
> 
> 赞同：0
> 
> 时间：2013-02-19T10:09:51.773
> 
> 标签：java, swing, jpanel, jscrollpane

长期潜伏者，第二次海报（它有那么绝望）

我有一个框架需要显示十二个组件彼此相邻（好像每个组件都是它自己的列）。第一个组件是属性名称列表，第二个组件显示默认属性，接下来的十个都是从数据库中提取的。我希望我的滚动条能够有效地“冻结”前两个组件（即它始终显示前两个组件），并且滚动条允许您查看其余条目。这与我们冻结列的 Excel 类似，[这里](http://www.google.co.uk/imgres?hl=en&tbo=d&biw=1680&bih=881&tbm=isch&tbnid=sC6pO2R-kwTvbM:&imgrefurl=http://www.askdrtech.com/solutions/post/freeze-panes-to-make-excel-spreadsheets-easier-to-use.aspx&docid=_WzJRmqvkcvOTM&imgurl=http://www.askdrtech.com/solutions/image.axd%253Fpicture%253D2010%25252F6%25252F4_1_1_1.png&w=524&h=369&ei=2kojUZqRJsjT0QXXwIBo&zoom=1&ved=1t:3588,r:14,s:0,i:124&iact=rc&dur=379&sig=104009109133701518173&page=1&tbnh=176&tbnw=251&start=0&ndsp=24&tx=163&ty=30)是 la 。

我研究过使用表格，但问题是我的组件不仅仅是文本。他们也有图像等。

这是我正在使用的一些代码

```
 JPanel info = new JPanel(); // this is the main component (holds the other 12)
    info.setLayout(new GridBagLayout()); // GridBag Layoout
    info.add(attNames); // add in the attribute names component
    info.add(currentCase); // add in the default values

    JPanel rets = new JPanel(); // add in the ten retrieved cases
    rets.setLayout(new GridLayout(1,10));
    for (int i=0;i<maxCases;i++)
    {
        rets.add(retCase[i]);
    }

    info.add(rets); // add the return cases to the info component
    JScrollPane scrollBar2=new JScrollPane(rets,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);   // surround the return cases with a scroll bar
    info.add(scrollBar2); // add the scrollbar

    //add the info comp to the content pane along with other necessary components

    this.getContentPane().add(casesPanel, BorderLayout.NORTH);
    this.getContentPane().add(info, BorderLayout.CENTER);
    this.getContentPane().add(buttons, BorderLayout.SOUTH);

    //finally, add the overall scrollbars and set the size
    this.pack();
    JScrollPane scrollBar=new JScrollPane(info,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);  
    this.setSize(this.getWidth(), 750);
    this.setResizable(true);
    this.add(scrollBar); 
```

问题是返回案例的滚动条认为不需要它，我必须使用大滚动条，这意味着我可以远离前两个组件。

任何帮助将不胜感激！！

这就是问题所在 ![](../Images/bba83a8a3d1b61d720b3a125332d9938.png)

干杯，K

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:07:02.830

将冻结部分放入滚动窗格的行标题中。检查[如何使用滚动窗格](http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)以获取更多信息和示例

# asp.net - 在 asp.net 中使用 AJAX 检查用户名的可用性

> ID：14954857
> 
> 赞同：0
> 
> 时间：2013-02-19T10:10:07.080
> 
> 标签：asp.net, ajax, asp.net-ajax

我正在创建一个注册表单，我想在表单中添加一个功能，每当新用户在文本框中键入用户名时，它应该自动检查用户名是否已经被使用（应该将其与用户名进行比较在 SQL 服务器数据库中）。我想使用 AJAX 来实现这个功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:17:36.160

使用下面的 jquery 代码，不要忘记包含 jquery 库

```
 $("#<%=txtJournalIdToMove.ClientID %>").blur(function () {
                var journalTextBoxId = '<%= this.txtJournalIdToMove.ClientID %>';
                var journalId = $("#" + journalTextBoxId).val();
                var params = '{"JournalId":"' + journalId + '"}';
                $.ajax({
                    type: "POST",
                    url: "Default.aspx/PopulateVolumeNo",
                    data: params,
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {
                        // Replace the div's content with the page method's return.
                        var returnValue = data.d;
                        if (returnValue == null) {

                            alert("The given journal id does not exist or is in active in db.");
                        }
                        else {

                                 //If success do your functionality
                            });
                        }
                    }
                });
            }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:19:27.147

试试这个**onchange**或文本框**的模糊**事件。在这里，我使用用户名框作为文本框 id

```
$.post('/Server/CheckAvailablity/', 
      {name:function(){return $('#user-name-box').val()},

      function(response){

       if(response.status="Y"){
       alert('available');
       }
      else{
       alert('not available');
       }
    }
); 
```

> **在服务器端 CheckAvailablity 方法准备一个 JSON 对象，如 {"status":"Y"} 并返回**

# python - 使用 python boto 删除 Amazon EC2 实例

> ID：14954859
> 
> 赞同：1
> 
> 时间：2013-02-19T10:10:09.987
> 
> 标签：python, linux, amazon-web-services, amazon-ec2, boto

我找到了一些示例代码，这些代码显然能够使用 python boto 创建一个 Amazon Ec2 实例。但是，对于我的生活，我无法弄清楚如何创建一个删除实例的函数。

任何对 python 和 boto 有更多了解的人都可以告诉我我应该做什么来删除这个实例。

```
# Delete EC2 instance
def delete_server():
    print(_yellow("Deleting EC2 instance"))

# Create EC2 instance
def create_server():
    print(_yellow("Creating EC2 instance"))

    image = conn.get_all_images(ec2_amis)

    reservation = image[0].run(1, 1, key_name=ec2_key_pair, security_groups=ec2_security,
        instance_type=ec2_instancetype)

    instance = reservation.instances[0]
    conn.create_tags([instance.id], {"Name":config['INSTANCE_NAME_TAG']})
    while instance.state == u'pending':
        print(_yellow("Instance state: %s" % instance.state))
        time.sleep(10)
        instance.update()

    print(_green("Instance state: %s" % instance.state))
    print(_green("Public dns: %s" % instance.public_dns_name))

    return instance.public_dns_name 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T14:07:53.837

EC2的[boto 文档](http://docs.pythonboto.org/en/latest/ec2_tut.html)涵盖了这一需求。您拥有创建的实例 ID，只需使用以下命令终止它：

```
def delete_server(instanceId):
    conn.terminate_instances(instance_ids=[instanceId]) 
```

`conn`你用来创建实例的同一个全局连接变量在哪里。请注意，该`boto`调用采用一组实例 ID。该`terminate_instances`调用将返回已终止的实例 ID 列表。

请注意，如果您保护实例免于 API 终止，则必须首先删除该保护。您的示例代码没有这样做，因此您应该可以轻松删除它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T15:56:27.843

您可能还想看看[starcluster](http://star.mit.edu/cluster/ "星团")。

它可能比原始 boto 更好地满足您的目的，但无论如何代码都使用 boto 并提供了您在管理 EC2 实例和集群方面可能想要做的大多数事情的示例。

# qt - QT - qtwebsocket - 无法连接

> ID：14954863
> 
> 赞同：1
> 
> 时间：2013-02-19T10:10:27.017
> 
> 标签：qt, websocket

我在 QT Creator 5.0、Linux 64 位上使用来自[https://github.com/antlafarge/QtWebsocket的 qtwebsocket。](https://github.com/antlafarge/QtWebsocket)我正在尝试连接回声测试：

wsSocket->connectToHost("echo.websocket.org", 80);

但我立即获得断开连接状态。我也尝试使用 ws:// 和 http:// 前缀但同样的错误。任何想法？我什至不知道如何报告这个 gitorious 的错误。

不使用 webkit 对我来说很重要，我需要纯 TCP 套接字连接。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T17:54:17.900

只需快速查看位于的示例：

[https://github.com/antlafarge/QtWebsocket/tree/master/Example](https://github.com/antlafarge/QtWebsocket/tree/master/Example)

我不太清楚该项目的状态，但它看起来仍然有一个待办事项清单，说明它可以做什么；我注意到一个项目，它说 WSS 尚不支持。

尝试在包含的示例中运行客户端和服务器的两端，并在尝试使用 echo.websocket.org 服务器之前查看是否可以在该上下文中获得连接。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T20:49:40.490

还有一个 Qt websockets 附加模块位于[https://qt.gitorious.org/qt/qtwebsockets](https://qt.gitorious.org/qt/qtwebsockets)。它已经在多个平台上进行了测试，并通过 AutoBahn 测试套件成功。

# c# - 如何将多个数据表数据插入一个数据表c#

> ID：14954869
> 
> 赞同：2
> 
> 时间：2013-02-19T10:10:37.247
> 
> 标签：c#, datatable, add

我有一个函数将返回多个 ItemID 作为

```
 for (int i = 0; i < dt.Rows.Count; i++)
            {
                ItemID = int.Parse(dt.Rows[i]["item_Id"].ToString());
                dtAtlr = prodctsDCCls.getItemIds(ItemID);
                //dtItems = dtAtlr.Copy();
            } 
```

我想继续从同一个表中搜索所有 ItemId，并且必须将所有数据保存在一个数据表中。如果我将一个数据表复制到另一个数据表，那就是替换以前的数据表。但我需要所有数据。请任何人帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:11:48.867

使用[DataTable.Merge](http://msdn.microsoft.com/en-us/library/system.data.datatable.merge.aspx)合并两个数据表。所以你的代码是：

```
for (int i = 0; i < dt.Rows.Count; i++)
{
    ItemID = int.Parse(dt.Rows[i]["item_Id"].ToString());
    dtAtlr.Merge(prodctsDCCls.getItemIds(ItemID)); // For Merging
} 
```

通过使用`DataTable.Copy`，您的数据`dtAtlr`表将`DataTable`根据`ItemID`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:13:36.100

您可以检查 [**DataTable.Merge**](http://msdn.microsoft.com/en-us/library/system.data.datatable.merge.aspx)

> 将指定的 DataTable 与当前的 DataTable 合并。

# custom-font - 我如何在字体真棒插件中添加自定义字体？？？可以使用 EOT 文件完成吗？

> ID：14954870
> 
> 赞同：1
> 
> 时间：2013-02-19T10:10:37.693
> 
> 标签：custom-font, font-awesome, eot

我需要向 font-awesome 添加一些自定义字体并在我的网站中使用它。EOT 会对此有所帮助吗？如果是这样，添加这些自定义字体的程序是什么，或者有没有其他方法可以做到这一点？

# c++ - 如何在 C++ 中创建带有用户定义按钮的消息框？

> ID：14954876
> 
> 赞同：1
> 
> 时间：2013-02-19T10:10:55.270
> 
> 标签：c++, mfc, messagebox

我想创建三个按钮继续、退出和重试按钮。

```
MessageBox(NULL, "Loading.. Click ok to continue or Cancel to Exit",   "TITLE", MB_OKCANCEL); 
```

如何将确定和取消按钮更改为继续和退出？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T13:20:02.163

你**不能这样做**。该`MessageBox`功能不提供此功能。它有一些股票消息框类型，但如果您需要除这些之外的自定义文本，那么您就不走运了。

当然，您始终可以使用资源编辑器创建自己的自定义对话框。

这些是受支持的消息框类型`MessageBox`：

```
/*
 * MessageBox() Flags
 */
#define MB_OK                       0x00000000L
#define MB_OKCANCEL                 0x00000001L
#define MB_ABORTRETRYIGNORE         0x00000002L
#define MB_YESNOCANCEL              0x00000003L
#define MB_YESNO                    0x00000004L
#define MB_RETRYCANCEL              0x00000005L
#if(WINVER >= 0x0500)
#define MB_CANCELTRYCONTINUE        0x00000006L
#endif /* WINVER >= 0x0500 */ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:21:24.777

MB_OKCANCEL 参数是控制所显示按钮的参数。您可以尝试 MB_RETRYCANCEL 代替：

MessageBox(NULL, "加载中。点击确定继续或取消退出", "TITLE",MB_RETRYCANCEL);

此外，有时更改消息框中的问题/文本比更改按钮本身更容易。

此链接为您提供有关 MessageBox 功能的更多信息：

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505(v=vs.85).aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:21:43.357

[如果您的要求与http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645505(v=vs.85).aspx)中的要求不匹配，则必须创建自己的对话框，在winproc中，您可以决定按下不同按钮时要做什么。

# jquery - 在另一个之前创建一个 div

> ID：14954880
> 
> 赞同：-1
> 
> 时间：2013-02-19T10:11:09.117
> 
> 标签：jquery, dom, jquery-validation-engine

我有一个来自 JQuery 验证引擎的脚本。我想在另一个 div 之前设置提示 div。

```
if($('#'+methods._getClassName(field.attr("id"))+'_msddHolder').length ){
var prompt = $('<div>');
$('#'+methods._getClassName(field.attr("id"))+'_msddHolder').before(prompt);
prompt.addClass(methods._getClassName(field.attr("id")) + "formError");
// add a class name to identify the parent form of the prompt
prompt.addClass("parentForm"+methods._getClassName(field.closest('form, .validationEngineContainer').attr("id")));
prompt.addClass("formError"); 
```

如果我这样做，它将无法正常工作，如果我手动设置：

```
$('#'+methods._getClassName(field.attr("id"))+'_msddHolder').before('<div>TEST</div>'); 
```

然后它工作。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:18:00.400

您在之前的方法之后申请课程。该类将不适用于您的元素。你有没有尝试过 ：

```
var prompt = $('<div><h4>I am a test</h4></div>');
$('#'+methods._getClassName(field.attr("id"))+'_msddHolder').before(prompt); 
```

只是看看你是否插入了一个元素？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:20:49.547

prompt 不是指向您使用 before() 附加的 DOM 元素的指针，它只是一个包含空 div 的变量，您需要在将其附加到文档之前应用它的类。

```
var prompt = $('<div>');
prompt.addClass("formError");
$('#'+methods._getClassName(field.attr("id"))+'_msddHolder').before(prompt); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:23:13.057

试试这个：

```
var prompt = $('<div>').text('test'); 
```

# sql-server - 在 Windows 2008R2 中使用 SQL Server AlwaysOn 可用性组是否存在问题？

> ID：14954887
> 
> 赞同：0
> 
> 时间：2013-02-19T10:11:34.283
> 
> 标签：sql-server, windows-server-2008, sql-server-2012, windows-server-2008-r2, windows-clustering

[交叉发布到[dba.stackexchange](https://dba.stackexchange.com/q/35012/8411) ]

Brent Ozar 发布了这个名为“Real-Life SQL Server 2012: AlwaysOn Lessons Learned”的网络广播（[幻灯片](http://www.mssqltips.com/webcasts/Real-LifeSQLServer2012_AlwaysOnLessonsLearned_20130131.pdf)，[视频](http://www.mssqltips.com/webcast2.asp?id=186)免费注册），他在其中反复声明，不同程度的力量，

> 将 Windows 2008R2 与 SQL Server 2012 可用性组一起使用是一个坏主意

他提出的问题包括：

1.  仲裁重新计算（Windows 2012 中引入的 Windows 故障转移群集功能）
2.  许多需要 Windows 修补程序的错误（[AlwaysOn 文档中的列表](http://msdn.microsoft.com/en-us/library/ff878487.aspx#WinHotfixes)，[“StackOverflow 补丁”](http://support.microsoft.com/kb/2777201)），尽管我对通过更新我的部署来修复的问题不太感兴趣。

他没有谈到为什么将 AG 与 Win2008R2 一起使用是一个坏主意的其他细节，只是指出 AlwaysOn “比任何其他应用程序更努力地推动 Windows 集群，并且正在发现突破点”。值得注意的是，这是受支持的配置（[AlwaysOn 系统要求](http://msdn.microsoft.com/en-us/library/ff878487.aspx#SystemReqsForAOAG)）。

**在使用带有 Windows Server 2008 R2 的 SQL Server 2012 AlwaysOn 可用性组的新部署中发现了哪些问题**，这些问题是否通过使用 Windows 2012 得以消除？是否存在在 Windows 2012 中已修复但在 2008R2 中没有可用修补程序的 Windows 2008R2 中的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-29T01:01:06.657

我一直在 Windows 2008 和 2012 中进行设置。我在它们之间没有太大区别

# symfony - 学说2 + symfony2：同一实体上的多个$images

> ID：14954888
> 
> 赞同：0
> 
> 时间：2013-02-19T10:11:35.810
> 
> 标签：symfony, doctrine-orm

在我的数据库中，我得到了这个

```
table data
----------
id
name
description
image1
image2
image3
key
... 
```

和我来自 SonataMediaBundle 的实体媒体，我想将图像放在 SonataMediaBundle 的实体媒体管理器中

如何在我的实体中编写图像的属性？

什么样的房地产？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:15:40.423

这只是`ManyToOne`与（可能）`Image`实体的关系的 3 倍。该实体如下所示：

```
class Item
{
    /**
     * @ORM\Id()
     * @ORM\GeneratedValue(strategy="AUTO")
     * @ORM\Column(type="integer")
     */
    protected $id;

    /**
     * @ORM\Column(type="string")
     */
    protected $name;

    /**
     * @ORM\Column(type="text")
     */
    protected $description;

    /**
     * @ORM\ManyToOne(targetEntity="YourNamespace\Entity\Image")
     */
    protected $image1;

    /**
     * @ORM\ManyToOne(targetEntity="YourNamespace\Entity\Image")
     */
    protected $image2;

    /**
     * @ORM\ManyToOne(targetEntity="YourNamespace\Entity\Image")
     */
    protected $image3;

    /**
     * @ORM\Column(type="string")
     */
    protected $key;

    // ...
} 
```

# c++ - 在C中打印unicode字符

> ID：14954896
> 
> 赞同：1
> 
> 时间：2013-02-19T10:12:00.697
> 
> 标签：c++, c, winapi, unicode

我的系统中安装了一些本地语言字体（Windows 8 操作系统）。通过 Windows 中的字符映射工具，我了解了该特定字体的那些字符的 unicode。我只想通过 C 程序在命令行中打印这些字符。

例如：假设希腊字母 alpha 用 unicode u+0074 表示。

以“u+0074”作为输入，我希望我的 C 程序输出字母字符

谁能帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:14:19.127

使用`WriteConsole`函数的 Unicode 版本。

另外，请务必将源代码存储为带有 BOM 的 UTF-8，g++ 和 Visual c++ 都支持

* * *

示例，假设您想以“u+03B1”形式给出其 Unicode 代码（您列出的代码代表小写“t”）呈现希腊字母：

```
#include <stdlib.h>         // exit, EXIT_FAILURE, wcstol
#include <string>           // std::wstring
using namespace std;

#undef UNICODE
#define UNICODE
#include <windows.h>

bool error( char const s[] )
{
    ::FatalAppExitA( 0, s );
    exit( EXIT_FAILURE );
}

namespace stream_handle {
    HANDLE const output     = ::GetStdHandle( STD_OUTPUT_HANDLE );
}  // namespace stream_handle

void write( wchar_t const* const s, int const n )
{
    DWORD n_chars_written;
    ::WriteConsole(
        stream_handle::output,
        s,
        n,
        &n_chars_written,
        nullptr         // overlapped i/o structure
        )
        || error( "WriteConsole failed" );
}

int main()
{
    wchar_t const input[]    = L"u+03B1";
    wchar_t const ch        = wcstol( input + 2, nullptr, 16 );
    wstring const s         = wstring() + ch + L"\r\n";

    write( s.c_str(), s.length() );
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:19:57.170

有几个问题。如果您在控制台窗口中运行，我会将代码转换为 UTF-8，并将窗口的代码页设置为 65001。或者，您可以使用`wchar_t`（在 Windows 上为 UTF-16），通过输出`std::wostream`和将代码页设置为 1200。（根据我找到的文档，至少。我没有这方面的经验，因为我的代码必须是可移植的，并且在我工作过的其他平台上，`wchar_t`已经一些私有的 32 位编码，或 UTF-32。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T11:16:15.003

首先，您应该在控制台的属性中设置 TrueType 字体（Consolas）。那么这段代码在你的情况下就足够了 -

```
#include <stdio.h>
#include <tchar.h>

#include <iostream>
#include <string>
#include <Windows.h>
#include <fstream>

//for _setmode()
#include <io.h>
#include <fcntl.h>
using namespace std;

int _tmain(int argc, _TCHAR* argv[])
{
    TCHAR tch[1];
    tch[0] = 0x03B1; 

    // Test1 - WriteConsole
    HANDLE hStdOut = GetStdHandle(STD_OUTPUT_HANDLE);
    if (hStdOut == INVALID_HANDLE_VALUE) return 1;
    DWORD dwBytesWritten;
    WriteConsole(hStdOut, tch, (DWORD)_tcslen(tch), &dwBytesWritten, NULL);
    WriteConsole(hStdOut, L"\n", 1, &dwBytesWritten, NULL);

    _setmode(_fileno(stdout), _O_U16TEXT);

    // Test2 - wprintf
    _tprintf_s(_T("%s\n"),tch);
    // Test3 - wcout
    wcout << tch << endl;

    wprintf(L"\x03B1\n");

    if (wcout.bad())
    {
        _tprintf_s(_T("\nError in wcout\n"));
        return 1;
    }
    return 0;
} 
```

MSDN -

> `setmode`通常用于修改 and 的默认翻译模式 `stdin`，`stdout`但您可以在任何文件上使用它。如果应用 `_setmode`到流的文件描述符，请在对流执行任何输入或输出操作之前调用 _setmode。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T10:15:42.243

在 C 语言中有**wchar_t**的原始类型，它定义了一个宽字符。还有相应的函数，如 strcat -> wstrcat。当然，这取决于您使用的环境。如果您使用 Visual Studio，请查看[此处](http://msdn.microsoft.com/en-us/library/ms235631.aspx)。

# highcharts - 使用特定标签在 x 轴上缩放的 Highcharts

> ID：14954898
> 
> 赞同：2
> 
> 时间：2013-02-19T10:12:02.043
> 
> 标签：highcharts, zooming

我一直在搜索 highchart API，但无法找到一种方法来允许最大缩小为（例如）一月，接下来的下一个刻度是 7 个月后，即 7 月，依此类推。同时，最大放大仅为 1 天。

例子：

![最大缩小](../Images/fb5a6e7b6192907712feb63714bf5e74.png)

***参考上图，最大缩小（不放大）==> x 轴标签显示 Jan/2005 第一个刻度，第二个刻度是 2005 年 7 月，第三个刻度是 Jan/2006，第四个刻度是2006 年 7 月……等等。

![最大放大](../Images/1461883a53353b222d599ba40fa45445.png) ***参考上图，用户最多只能同时放大一天。（为此，我用“minTickInterval：24 * 3600 * 1000”完成了它）

所以我能够将最小刻度间隔设置为 1 天。但是，当缩小到最大时，我无法控制间隔。我尝试使用“tickInterval”，它开始在我的 x 轴上以最大缩小每年给我 365 个刻度。我还尝试了“minRange：210 * 24 * 3600 * 1000 // 210 是 7 个月的天数”，仍然没有运气，放大后几天没有刻度。目前对于最大缩小，日期时间标签是自动的根据（我想）我的图表或屏幕尺寸进行缩放。

任何人都知道如何做到这一点，或者我没有正确使用这些 api？我已经为此工作了将近一个星期。希望有人可以提供帮助。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:24:54.213

您可以使用 tickPositioner 定义您自己的函数来设置刻度位置。

[http://api.highcharts.com/highcharts#xAxis.tickPositioner](http://api.highcharts.com/highcharts#xAxis.tickPositioner)

# javascript - FB.Event.subscribe 不工作

> ID：14954907
> 
> 赞同：3
> 
> 时间：2013-02-19T10:12:41.700
> 
> 标签：javascript, html, facebook-graph-api, facebook-javascript-sdk

我正在开发一个网站，并希望为我的用户提供使用 facebook 登录的选项。
我成功登录，但事件对我不起作用。

每当我登录时，都没有调用“登录”功能.....我尝试将此登录功能分配给其他按钮以手动检查它，警报有效，但没有得到任何响应。

这是我的代码：

```
<div id="fb-root"></div>
<script type="text/javascript">
window.fbAsyncInit = function() {
   FB.init({appId: MY_APP_ID, status: true, cookie: true, xfbml: true});

   FB.Event.subscribe('auth.login', function(response) {
      login();
     });
};

 function login(){
    FB.api('/me', function(response) {
   alert('You have successfully logged in, '+response.name+"!");
  }); 
 }

 (function() {
   var e = document.createElement('script');
   e.type = 'text/javascript';
   e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
    e.async = true;
   document.getElementById('fb-root').appendChild(e);
 }());     </script>

<fb:login-button autologoutlink='true'   
  perms='email,user_birthday,status_update,publish_stream'></fb:login-button> 
```

这是 facebook 应用程序设置：
![在此处输入图像描述](../Images/a2dcfdec42251f401be741bbc3dde691.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:11:39.913

您是否尝试过在`<head>`而不是加载 all.js 脚本`#fb-root`？使用以下内容：

```
 (function(d){
     var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/es_LA/all.js";
     d.getElementsByTagName('head')[0].appendChild(js);
   }(document)); 
```

代替：

```
 (function() {
   var e = document.createElement('script');
   e.type = 'text/javascript';
   e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
    e.async = true;
   document.getElementById('fb-root').appendChild(e);
 }()); 
```

[编辑：更新样本]

> SDK 将元素插入到 fb-root 中，这些元素期望相对于 body 或相对于靠近页面顶部的元素定位。

这也可能取代 SDK 源。
资源：[Facebook Javascript SDK](https://developers.facebook.com/docs/reference/javascript/)。

--
你可以尝试订阅其他事件，看看它是否有效

```
FB.Event.subscribe('auth.statusChange', function(response) {
  // do something with response
}); 
```

来自 Facebook 文档（尝试订阅此文档）

> **auth.authResponseChange**
> 任何与身份验证相关的更改都会触发此事件，因为它们都会影响会话：登录、注销、会话刷新。只要用户在您的应用中处于活动状态，会话就会随着时间的推移而刷新。
> 
> **auth.statusChange**
> 通常你会想要使用 auth.authResponseChange 事件。但在极少数情况下，您需要区分这三种状态：
> 1\. 已连接
> 2\. 登录 Facebook 但未与您的应用程序连接
> 3\. 根本未登录 Facebook。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T13:31:57.960

场景一（新用户）

Facebook 登录按钮的文本：“登录”
用户状态：用户未连接

现在用户点击登录并完成登录流程。

按钮的文本变为“注销”，这是唯一一次`'auth.login'`触发。

```
FB.Event.subscribe('auth.login', function (response) {     
        // do something with response                   
        if (response.status === 'connected') {
            // user connected                        
            FB.api('/me', function (response) {
                alert(response.name + " " + response.id);
            });
        }
}); 
```

场景 2（现有用户）

如果登录 Facebook 并已授权您的应用程序的用户访问您的应用程序，则该用户会自动连接，并且登录按钮的文本为“注销”。
在这种情况下，将以下代码添加到`fbAsyncInit function`：

```
 FB.getLoginStatus(function (response) {
                if (response.status === 'connected') {
                    // connected
                    alert(response.name + " " + response.id);
                }
            }); 
```

`FB.getLoginStatus`每次页面刷新时都会调用它，但您也可以通过将其嵌入到 javascript 函数中随时在应用程序中调用它。

# android - 在 facebook android 上分享帖子

> ID：14954909
> 
> 赞同：0
> 
> 时间：2013-02-19T10:12:48.650
> 
> 标签：android, facebook

我使用 Facebook SDK 创建了一个应用程序。

它成功登录到我的 Facebook 帐户并在我的墙上发布了一条消息。现在我想分享帖子，我也有那个帖子的帖子/提要 ID，但我不知道该怎么做。有任何想法吗？

```
String response = mFacebook.request("me");
Bundle parameters = new Bundle(); 
parameters.putString("message", "abcd"); 
response = mFacebook.request("me/photos", parameters, "POST"); 
```

该代码将消息发布在我的墙上，但现在我想为已发布的提要实现共享功能。我正在获取要共享的所需提要的提要 ID。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:42:49.193

AFAIK 你将不得不使用[Feed Dialog](https://developers.facebook.com/docs/reference/dialogs/feed/)。[这是相同](https://developers.facebook.com/docs/reference/dialogs/feed/#graphapicall)的API调用。

你有没有试过在脸书上分享任何东西？首先，您只能分享链接或照片，您不能直接分享您发布的帖子。当你点击一个分享按钮时，你会得到一个对话框，它只是一个提要对话框。该对话框代码在[此处](https://developers.facebook.com/docs/reference/dialogs/feed/)给出。您正在寻找的确切 java android 代码在[此处](https://developers.facebook.com/docs/howtos/androidsdk/3.0/feed-dialog/)给出。

# javascript - 将内容发送到 WordPress 的纯文本编辑器

> ID：14954911
> 
> 赞同：2
> 
> 时间：2013-02-19T10:12:50.507
> 
> 标签：javascript, wordpress, tinymce, wysiwyg, text-editor

我正在开发一个允许将短代码发送到富文本编辑器的 WordPress 插件。假设短代码内容存储在`shortcode`变量中，以下代码可以完美运行：

```
tinyMCE.execCommand('mceInsertContent', false, shortcode); 
```

...如果用户处于“可视化编辑器”模式。如果他们切换到“纯文本”模式，代码将不再工作 - 文本区域中不会出现任何内容。

任何人都可以帮忙吗？提前致谢。

（啊，如果这很重要，我在同一个“添加帖子”页面上有几个编辑实例）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:29:10.697

刚收到！简单地做

```
send_to_editor(shortcode); 
```

这个函数位于 media-upload.js 中，应该在 Edit/Add Post 页面中加载。

# forms - CFFORM 数据在 IE9 中不可读

> ID：14954912
> 
> 赞同：2
> 
> 时间：2013-02-19T10:12:52.120
> 
> 标签：forms, internet-explorer, coldfusion

我有表单，用于用户登录网站。它适用于 Chrome，但由于某种原因不适用于 IE 9。这是表格：

```
<cfform name="loginform" action="login.cfm" method="post">
<div class="span12">
    <div class="span2">
        User Name:
    </div>
    <div class="span2">
        <cfinput type="text" name="username" required="yes">
    </div>
</div>
<div class="span12">
    <div class="span2">
        Password:
    </div>
    <div class="span2">
        <cfinput type="password" name="password" required="yes">
    </div>
</div>
<div class="span12">
    <div class="span2">
        <cfinput name="submit" class="btn btn-primary" value="login" type="submit">
    </div>
</div>
</cfform> 
```

我通常以**#form.username#**的形式访问变量，但如果在 IE 中使用它是空的。

这里的简化用法：

```
<cfif isdefined("FORM.submit")>
   username: #form.username#
</cfif> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:30:00.200

当我运行它时，我看不出上面的代码有任何问题，我在表单范围内正确地使用了用户名字段。您使用的是哪个版本的 Internet Explorer？

为了更好地调试，我建议如下：

*   查看第一页的来源，看看那里是否有什么奇怪的地方。
*   安装 Fiddler2 ( [http://www.fiddler2.com/](http://www.fiddler2.com/) ) 然后使用它来查看发布到 login.cfm 的确切内容。

其他需要注意的事项：您是否使用了可能会干扰事物的 javascript 或 CF 框架？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T18:54:03.533

我也没有看到您的代码有任何明显错误。你也在 Firefox 中尝试过吗？有时您可以在那里获得更好的调试信息。可能是一个实际的错误消息。IE 和 Chrome 在隐藏页面上的错误方面做得有点“好”。

我的建议也是使用纯格式标签。不要使用 cfform 标签。这里不需要他们太多。他们并没有真正帮助你。您可以对这些字段进行自己的验证，并确切地知道您正在验证的是什么。你也可以这样测试你的领域。只需将该 cfinput 更改为输入，然后查看该字段是否在您的帖子中可用。这将很快让您知道您的 CFFORM 标签的实现存在问题。

而且它有点 OT，不要忘记修剪输入并将其包装在 XMLFormat() 中，并将 cfqueryparams 添加到您的 SQL 查找中，以最大限度地减少脚本和注入攻击。您还可以使用 CF 的 scriptProtect 或在 IIS 中重写 URL 来提供帮助。允许在没有任何验证的情况下自由输入表单或 URL 是非常危险的。

# viewmodel - 自动映射器 dto 到视图模型

> ID：14954913
> 
> 赞同：0
> 
> 时间：2013-02-19T10:12:54.773
> 
> 标签：viewmodel, automapper, dto

如何将我的 dto 映射到我的 ViewModel，知道以下内容：

我的dto：

```
public class SomeClass
{
  public int myProperty{get; set;}
 } 
```

我的视图模型：

```
public class MyViewModel
{
 public SomeClass theDto {get; set;}

 public int someExtraProperty
} 
```

所以，我的 ViewModel 包含我的 dto + 其他属性。如何轻松映射 dto 对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:37:09.317

实际上以下似乎有效！

```
AutoMapper.Mapper.CreateMap<SomeClass, MyViewModel>().ForMember(d => d.theDto, s => s.MapFrom(src => src)); 
```

# java - HTTP-POST 和 HTTP-POST-SimpleSign 绑定之间的区别

> ID：14954916
> 
> 赞同：1
> 
> 时间：2013-02-19T10:12:59.803
> 
> 标签：java, digital-signature, saml, saml-2.0, opensaml

*urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST*和*urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign*之间有什么区别吗

 ***HTTP-POST**绑定是否假定签名包含在 SAMLRequest 中？

**HTTP-POST-SimpleSign**是否假定签名与 XML 分离，并作为单独的 post 参数呈现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:33:24.487

基本上它不是我们的 XMLsig 标准，而是只是将整个消息签名为一个 blob。

是的，签名作为单独的 post 参数发送。

[规格](https://www.oasis-open.org/committees/download.php/25607/sstc-saml-binding-simplesign-cd-02.pdf)*

# php - CodeIgniter Web 服务客户端

> ID：14954918
> 
> 赞同：4
> 
> 时间：2013-02-19T10:13:07.703
> 
> 标签：php, xml, web-services, codeigniter, soap

我是 CI 的新手，我想从 Web 服务 WebLogic 检索 XML 数据，该服务器位于：[http](http://services.insw.go.id/web-services/nsw?operation.invoke=getListGA) ://services.insw.go.id/web-services/nsw?operation.invoke=getListGA . 我想从服务器获取 XML 响应。我该怎么做？

我在控制器上制作了这个功能（resttest.php）

```
public function getRest()
{
    $this->rest->initialize(array('server' => 'http://services.insw.go.id'));

    $lartas = $this->rest->get('web-services/nsw',array('operation.invoke' => 'getListGA'),'xml');
    die(var_dump($lartas));
} 
```

有时我会收到类似“array(0) { }”的错误，如果我刷新，我会得到所有 HTML 视图，就像我浏览到：[http ://services.insw.go.id/web-services/nsw ?operation.invoke=getListGA](http://services.insw.go.id/web-services/nsw?operation.invoke=getListGA)

我错了，还是遗漏了一些步骤，或者您对如何更改此代码有任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-02T13:59:53.240

看起来您的 Web 服务正在使用 SOAP（简单对象访问协议）。这不是 REST。您将希望将 PHP 的内置 Soap 扩展与 SoapClient 类一起使用。这样，很容易将 XML“请求”发布到该页面，该页面将返回 xml 结果而不是 html 视图（我假设）。

1.  检查肥皂肥皂扩展是否已加载到您的服务器上
2.  阅读有关 SoapClient [http://php.net/manual/en/class.soapclient.php](http://php.net/manual/en/class.soapclient.php)
3.  查看该 Web 服务是否提供 WSDL（Web 服务描述语言）文件。
4.  创建一个soap客户端的实例，使用wsdl并调用你需要的函数。

来自 PHP.net 的简单示例

```
$client = new SoapClient("http://localhost/code/soap.wsdl");
$something =  $client->HelloWorld(array());
echo $something->HelloWorldResult; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-18T01:46:52.723

要获得 xml 响应，您不需要 Codeigniter。具体来说，它提供 WSDL。在[http://services.insw.go.id/web-services/nsw](http://services.insw.go.id/web-services/nsw)你可以找到这个例子

```
String wsdlUrl = "http://services.insw.go.id:80/web-services/nsw?WSDL"; 
```

所以 WSDL API 是[http://services.insw.go.id:80/web-services/nsw?WSDL](http://services.insw.go.id:80/web-services/nsw?WSDL)

然后您可以查看此页面以了解如何为您的 php.ini 安装soap。

然后你可以通过以下代码得到一个xml响应：

```
$client = new SoapClient('http://services.insw.go.id:80/web-services/nsw?WSDL');
//var_dump($client->__getFunctions()); 

$response = $client->getListGA();
echo $response; 
```

这些代码不需要 Codeigniter。

注意：`$client->__getFunctions()`将显示 WSDL 支持的所有函数以及函数所需的参数。

祝你好运

# android - 在本机浏览器上打开外部链接后，kendo UI mobile ListView 挂起

> ID：14954924
> 
> 赞同：3
> 
> 时间：2013-02-19T10:13:15.880
> 
> 标签：android, ios, cordova, mobile, kendo-ui

在 Kendo UI Mobile ListView 中，当单击链接时，会调用本地浏览器打开外部链接的脚本。

PhoneGap 脚本如下： 在 Android 上：navigator.app.loadUrl(link, { openExternal:true } ); 在 iOS 上：window.open(link, '_system');

该链接可以在相应的本机浏览器上打开。

但是，当用户从本机浏览器切换回应用程序时，会出现一些问题。

在Android上，屏幕挂在原来的视图上，当再次按下返回键时，屏幕会解冻，可以刷新。

然而，在 iOS 上，屏幕也挂在原始视图上。在屏幕上点击时，会移动整个视图（带有布局）。无法取消冻结此屏幕。

如何解决这个问题，以便在从本机浏览器切换回应用程序后屏幕可以取消冻结？

非常感谢您的帮助。

更新1：

我将原始标签更改为标签，现在一切正常。但我仍然很好奇这是否是 Kendo UI Mobile 的某种错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-02T03:05:30.377

Kendo Mobile 完全挂起页面存在严重问题，使应用程序对触摸/鼠标完全没有响应。有问题的 CSS 在 Loader.transition() 中，`this.container.css("pointer-events", "none")`它相当于：

```
document.body.style.pointerEvents = "none"; 
```

哎哟——太丑了。此外，在 _attachCapture 中，所有鼠标和触摸事件都有攻击性 JavaScript：

```
event.preventDefault(); 
```

如果使用带有嵌入式整页 WebView/UIWebView 的应用程序（需要关闭并重新启动应用程序），则致命。

如果出现以下情况，可能会发生挂起：

*   您的代码中有异常（即使在不明显的地方），
*   你打错了一个过渡（没有例外，只是挂起），
*   由于某种原因，用户的浏览器没有正确触发 transitionEnd 事件（这对于一个用户的最新 Chrome 浏览器是可重复的。
*   页面转换和Loader之间的交互存在失败模式（取决于时间，无法重复），
*   多种其他原因

请注意，Kendo 中有一条评论说：“这应该在某个时候清理（通过小部件的小部件），如果没有发生转换，则重构为不依赖完整回调的小部件。”，所以很明显 Telerik 知道有一个问题。

您可以在开发过程中使用以下代码至少在 Kendo Mobile 出现故障时发出警告：

```
var transitionTimer;
kendo.mobile.ui.Loader.prototype.wasTransition = kendo.mobile.ui.Loader.prototype.transition;
kendo.mobile.ui.Loader.prototype.transition = function() {
    transitionTimer = setTimeout(function() {
        alert('Kendo has hung the page');
    }, 10000);
    this.wasTransition.apply(this, arguments);
}
kendo.mobile.ui.Loader.prototype.wasTransitionDone = kendo.mobile.ui.Loader.prototype.transitionDone;
kendo.mobile.ui.Loader.prototype.transitionDone = function() {
    clearTimeout(transitionTimer);
    this.wasTransitionDone.apply(this, arguments);
} 
```

# c# - 具有类属性的 MVC4 模型绑定

> ID：14954926
> 
> 赞同：0
> 
> 时间：2013-02-19T10:13:22.920
> 
> 标签：c#, asp.net-mvc, model-binding

我有一个带有`Client`s的设置`User`。

简单地说，`Client`只是有一个

```
[Required]
public string Name { get; set; } 
```

并且`User`具有 - 在它的属性中 - 一个

```
[Required] 
public virtual Client Client { get; set; } 
```

在创建`User`s时，`User`s是在特定`Client`s下创建的（显然）

所以：在我的`User`创建页面中，我将`Client`Id 放入 Viewbag 中，以便我可以将它与`User`我的创建控制器一起发送。

我遇到的第一个问题`Modelstate.IsValid`是`false`- 这是因为创建`Client`的`User`模型没有`Name`所需的。快速修复：同时输入名称并返回它。

这通过了验证，我可以`Client`在代码中正确检索并将其分配给我`User`并保存新的`User`yada yada ...

我敢肯定这不是一种奇怪的一次性风格设置。必须有一种“正确”的方式来做到这一点，而不是我目前正在做的捏造。

1）我怎样才能“正确”提供/保留`Client`我想要分配新`User`的？

2）如果上述方法不可行，最好的方法是什么？我目前将 存储`Client.Id`在该`User.Client.Id`字段中，并且缺少 using ，它完全从绑定`[Bind(Exclude="Client")]`中删除了，我不确定如何传递数据并对其进行验证。`Client``User``Client`

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T18:39:47.913

如果您使用视图模型而不是将实体直接传递给视图，这将不是问题。

使用视图模型的原因之一是您的视图与数据模型有不同的要求。在这种情况下，您根本不需要视图中的客户端信息（除非您在某处显示该信息）。您只是在创建一个新用户，当您发布视图模型时，您将根据提交的信息创建一个新实体。此时，您可以简单地分配 ClientID 并保存新用户。

# jquery - jQuery UI 选项卡通过 heightStyle 得到错误的高度：如果里面有表格，则为“内容”

> ID：14954927
> 
> 赞同：0
> 
> 时间：2013-02-19T10:13:24.870
> 
> 标签：jquery, tabs

我最近开始使用 JQuery UI 选项卡，我想在选项卡中放置一个表格。选项卡应该尽可能小，所以我希望它的高度与内部表格的高度相关，所以我使用 heightStyle:"content"。

问题是，当我激活选项卡时，它像高度设置正确一样向下滑动，但是当向下滑动的效果完成时，选项卡的高度设置为 1px。您可以在下面看到我正在使用的代码。

HTML 代码：

```
<div id="tab_layer" class="tab_layer_l">
    <ul>
        <li><a href="#content_tab_layer">tab1</a></li>
    </ul>
    <div id="content_tab_layer" class="ui-widget">
        <table border=1 cellspacing=0 cellpadding=5 align=left>
            <tr>
                <td width=50%>...</td>
                <td width=50%>...</td>
            </tr>
            <tr>
                <td width=29%><input type="text" value="" /></td>
                <td width=29%><input type="text" value="" /></td>
            </tr>
            <tr>
                <td width=29%><input type="text" value="" /></td>
                <td width=29%><input type="text" value="" /></td>
            </tr>
            <tr>
                <td width=29%><input type="text" value="" /></td>
                <td width=29%><input type="text" value="" /></td>
            </tr>
        </table>
    </div> 
```

javascript文件中的代码：

```
$('#tab_layer').tabs({
    active: false,
    collapsible: true,
    event: "mousedown touchstart",
    heightStyle: "content",
    hide: {effect: "slideUp", duration: 500},
    show: {effect: "slideDown", duration: 500},
}); 
```

如果有人可以帮助我，我会很高兴，我在互联网上搜索了很多，但似乎没有其他人有这个问题:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:48:58.253

由于某种原因，我没有得到幻灯片效果，但我注意到桌子不合适。一旦我删除了表格对齐属性，布局就会正确显示。

我希望它有所帮助。

# web-applications - 我的应用程序无法打开 ServletContext 资源

> ID：14954931
> 
> 赞同：35
> 
> 时间：2013-02-19T10:13:40.537
> 
> 标签：web-applications, spring-mvc, spring-security, maven-eclipse-plugin

我有使用*Spring mvc*和*Spring security的**Eclipse Maven* web 项目。当我真正启动它时，它没有成功初始化上下文：

 **`Could not open ServletContext resource [/WEB-INF/spring-dispatcher-servlet.xml]`

更多详情如下：

* * *

这是我的`web.xml`

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
id="WebApp_ID" version="3.0">

<display-name>Web Manager</display-name>
<welcome-file-list>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list>

<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
             /WEB-INF/spring/app-config.xml, /WEB-INF/spring/security-config.xml
    </param-value>
</context-param>

<!-- Spring MVC -->
<servlet>
    <servlet-name>spring-dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class> 
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>spring-dispatcher</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

<!-- Spring Security -->
<filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
</filter>
<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>
</web-app> 
```

* * *

这是我的`app-config.xml`

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xmlns:context="http://www.springframework.org/schema/context"
xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd">

<!-- Scans the classpath of this application for @Components to deploy as beans -->
<context:component-scan base-package="fr.tessa.webmanager" />

<!-- Configures the @Controller programming model -->
<mvc:annotation-driven />

<!-- misc -->
<bean id="viewResolver"
    class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="viewClass"
        value="org.springframework.web.servlet.view.JstlView" />
    <property name="suffix" value=".jsp" />
</bean>

<!-- Configure the multipart resolver -->
<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
    <!-- one of the properties available; the maximum file size in bytes -->
    <property name="maxUploadSize" value="1000000" />
</bean>

<!-- Configures Hibernate - Database Config -->
<import resource="dbconfig/validationdb-config.xml" />
<import resource="dbconfig/db-config.xml" /> 
```

* * *

这是我的`security-config.xml`

```
<beans:beans xmlns="http://www.springframework.org/schema/security"
xmlns:beans="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans 
                http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
                http://www.springframework.org/schema/security 
                http://www.springframework.org/schema/security/spring-security-3.1.xsd">

<http use-expressions="true">
    <intercept-url pattern="/welcome*" access="ROLE_USER" />
    <form-login login-page="/login" default-target-url="/welcome"
        authentication-failure-url="/loginfailed" />
    <logout logout-success-url="/logout" />
</http>
<authentication-manager>
  <authentication-provider>
    <user-service>
        <user name="mkyong" password="123456" authorities="ROLE_USER" />
    </user-service>
  </authentication-provider>
</authentication-manager>
</beans:beans> 
```

* * *

我的问题是当我启动应用程序时出现错误

```
Infos: Loading XML bean definitions from ServletContext resource [/WEB-INF/spring-dispatcher-servlet.xml]
févr. 19, 2013 10:50:09 AM org.springframework.web.servlet.FrameworkServlet initServletBean
Grave: Context initialization failed
org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from ServletContext resource [/WEB-INF/spring-dispatcher-servlet.xml]; nested exception is java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/spring-dispatcher-servlet.xml]
at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:341)
at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)
at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)
at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)
at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)
at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:131)
at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:522)
at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:436)
at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)
at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)
at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)
at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)
at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)
at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)
at javax.servlet.GenericServlet.init(GenericServlet.java:212)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1173)
at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993)
at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4350)
at org.apache.catalina.core.StandardContext.start(StandardContext.java:4659)
at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
at org.apache.catalina.core.StandardHost.start(StandardHost.java:785)
at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)
at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:445)
at org.apache.catalina.startup.Embedded.start(Embedded.java:825)
at org.codehaus.mojo.tomcat.AbstractRunMojo.startContainer(AbstractRunMojo.java:558)
at org.codehaus.mojo.tomcat.AbstractRunMojo.execute(AbstractRunMojo.java:255)
at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)
at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/spring-dispatcher-servlet.xml]
at org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:140)
at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:328)
... 48 more 
```

它说它找不到`/WEB-INF/spring-dispatcher-servlet.xml`但我没有把它放进去`web.xml`，我的配置文件是`app-config.xml`

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2013-02-19T11:49:30.617

引用[Spring 参考文档](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet)：

> 在初始化 DispatcherServlet 时，Spring MVC 在 Web 应用程序的 WEB-INF 目录中查找名为 [servlet-name]-servlet.xml 的文件，并创建在那里定义的 bean...

您的 servlet 被调用`spring-dispatcher`，因此它查找`/WEB-INF/spring-dispatcher-servlet.xml`. 您需要有这个 servlet 配置，并在其中定义与 Web 相关的 bean（如控制器、视图解析器等）。`app-config.xml`有关 servlet 上下文与全局应用程序上下文（在您的情况下）的关系的说明，请参阅链接文档。

还有一件事，如果您不喜欢 servlet 配置 xml 的命名约定，您可以明确指定您的配置：

```
<servlet>
    <servlet-name>spring-dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-04-30T19:03:26.910

如果您在 Java 配置中遇到此错误，通常是因为您忘记将应用程序上下文传递给`DispatcherServlet`构造函数：

```
AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();
ctx.register(WebConfig.class);

ServletRegistration.Dynamic dispatcher = sc.addServlet("dispatcher", 
    new DispatcherServlet()); // <-- no constructor args!
dispatcher.setLoadOnStartup(1);
dispatcher.addMapping("/*"); 
```

通过将上下文添加为构造函数 arg 来修复它：

```
AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();
ctx.register(WebConfig.class);

ServletRegistration.Dynamic dispatcher = sc.addServlet("dispatcher", 
    new DispatcherServlet(ctx)); // <-- hooray! Spring doesn't look for XML files!
dispatcher.setLoadOnStartup(1);
dispatcher.addMapping("/*"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-03-06T03:50:03.167

确保 pom.xml 中的 maven war 插件块在构建战争时包含所有文件（尤其是 xml 文件）。但是您不需要包含 .java 文件。

```
<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-war-plugin</artifactId>
  <version>2.5</version>

  <configuration>
    <webResources>
      <resources>
        <directory>WebContent</directory>
        <includes>
          <include>**/*.*</include> <!--this line includes the xml files into the war, which will be found when it is exploded in server during deployment -->
        </includes>
        <excludes>
          <exclude>*.java</exclude>
        </excludes>
      </resources>
    </webResources>
    <webXml>WebContent/WEB-INF/web.xml</webXml>
  </configuration>
</plugin> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-22T09:09:31.800

我在 WebLogic 中遇到了这个异常，原来它是 WebLogic 中的一个错误。请参阅此处了解更多详细信息：[Spring Boot 异常：无法打开 ServletContext 资源 [/WEB-INF/dispatcherServlet-servlet.xml]](https://stackoverflow.com/questions/34525967/spring-boot-exception-could-not-open-servletcontext-resource-web-inf-dispatch)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-04-22T14:54:08.430

```
The file name u used spring-dispatcher-servlet.xml
kindly check in web.xml
servlet name as spring-dispatcher at both tag  <servlet> and <servlet-mapping>
in your case it should be

<servlet>
<servlet-name>spring-dispatcher</servlet-name>
<servlet-class></servlet-class>
</servlet>
<servlet-mapping>
<servlet-name>spring-dispatcher</servlet-name>
<url-pattern></url-pattern>
</servlet-mapping> 
```**

# javascript - 如何：使文本在 css3 中的 3d 圆形表面上移动？

> ID：14954935
> 
> 赞同：0
> 
> 时间：2013-02-19T10:13:54.157
> 
> 标签：javascript, html, css

我想让文本在 3d 圆形表面中移动。但我不知道该怎么做。我尝试了很多搜索，但一无所获，而且我不是 css3 专家。

就像这张照片
![在此处输入图像描述](../Images/a825bc81c9756289e6b2ed81d1ec673c.png)

我可以为每种字体提供额外的标记，悬停时我想让它移动并排在前面？

在我们的新 css3 中怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T11:04:10.683

好的，我似乎无法使用该图片链接确切地看到您想要展示的内容。我查看了历史记录，发现您发布了三个字母的图像。现在 CSS3 很棒，因为你不再需要使用 JS 来制作时髦的动画，你可以使用库中现有函数中的各种 js 功能。或者您可以查看 CSS 中的缩放功能。

HTML

将鼠标悬停在链接上以查看它们更改布局。

```
<div style="display:inline-block">
<p><a class="ex1" href="default.asp">M</a></p>
<p><a class="ex2" href="default.asp">M</a></p>
<p><a class="ex3" href="default.asp">M</a></p>
</div> 
```

CSS

```
a.ex1:hover,a.ex1:active {zoom:150%;}
a.ex2:hover,a.ex2:active {zoom:150%;}
a.ex3:hover,a.ex3:active {zoom:150%;} 
```

对于悬停，只需使用 onmouseover 或悬停功能即可。[例子](http://jsfiddle.net/F58M6/1/)

# php - 如何在下一页/上一页后保留单选按钮值？

> ID：14954936
> 
> 赞同：0
> 
> 时间：2013-02-19T10:13:55.537
> 
> 标签：php, mysql, arrays, radio-button, radio

```
 ## Keep Radio Button Value after Next/Prev page .. ## 
```

> 这是学生在线考试

```
 if(!isset($_GET['start'])){
 $_GET['start'] = "undefined";
 }
$start=$_GET['start'];          /*To take care global variable if OFF*/
if(!($start > 0)) {             /*This variable is set to zero for the first page*/
$start = 0;
}

$startpos = ($start -0);               
$limit = 1;
// No of records to be shown per page.
$currentpos = $startpos + $limit; 
$back = $startpos - $limit; 
$next = $startpos + $limit; 

    $countquery=" SELECT * FROM quiz  ";
     $countresult=mysql_query($countquery);
     echo mysql_error();
    $totalrecords=mysql_num_rows($countresult);

      //$quiz_table = mysql_query("select * from quiz Limit 1");
      ?>
     <form method="POST"  action="" onclick="">
     <table>

     <?php

      $quiz_table=" SELECT * FROM quiz ORDER BY qid limit $startpos, $limit ";
      $result=mysql_query($quiz_table);
      echo mysql_error();

       while ($row = mysql_fetch_array($result)) 
       { 
       ?>
        <tr>
          <td><?php echo "$row[qid]"; ?></td>

          <td><?php echo "$row[Question]"; ?></td>
          </tr>
          <tr>

       <td><input type="radio" name="a" id="a" value="a"/>   <?php echo "$row[opt1]"; ?></td>
      <td><input type="radio" name="a" id="a" value="b"/>   <?php echo "$row[opt2]"; ?></td>
      <td><input type="radio" name="a" id="a" value="c"/>   <?php echo "$row[opt3]"; ?></td>
        <td><input type="radio" name="a" id="a" value="d"/>   <?php echo "$row[opt4]"; ?></td>

       </tr>
      <tr>
     <td><!--<input type="submit" name="smt" value="check"/>-->
      <?php
     if($back >=0) { 
       print "<a href='onlineexam.php?start=$back'><font face='Verdana' size='2'><input type='button' name='prev' value='PREV'></font></a>"; 
        }    

        if($currentpos < $totalrecords) {
                     ## Keep Radio Button Value after Next/Prev page .. ##
      print "<a href='onlineexam.php?start=$next'><font face='Verdana' size='2'><input type='button' name='nxt' value='NEXT'></font></a>"; 
          }
          ?></td>
       <td><input type="submit" name="smt" value="Finish"/></td>
        </tr>
        <?php
       }

      $quiz_table="SELECT * from quiz";

    $result=mysql_query($quiz_table);

   while ($row = mysql_fetch_array($result))   
  {  
   $id=$row['qid'];
   $ques=$row['Question'];  
  $op1=$row['opt1'];
  $op2=$row['opt2'];
  $op3=$row['opt3'];
  $op4=$row['opt4']; 
  $crt=$row['woptcode']; 

   if(isset($_POST['smt'])){
      $ans= $_POST['a'];
   if(isset($_POST['a'])){

     if($crt == $ans ){
     $mark=0;
     $mark=$mark+1;

     mysql_query("INSERT INTO  stuans(qid,Question,opt1,opt2,opt3,opt4,woptcode,stuanswer,mark)VALUES('$id','$ques','$op1','$op2','$op3', '$op4','$crt','$ans','$mark')");   
   }  else{
  $mark=0;
  mysql_query("INSERT INTO stuans(qid,Question,opt1,opt2,opt3,opt4,woptcode,stuanswer,mark)VALUES('$id','$ques','$op1','$op2','$op3', '$op4','$crt','$ans','$mark')");   
     }
    } 
   }  

   }
      ..THANKS.. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:16:14.677

您可以使用该`checked`属性。

```
<input type="radio" checked> 
```

因此，如果您有一些变量（布尔值），`$opt1`, `$opt2`, `$opt3`, `$opt4`，那么您可以执行类似的操作：

```
<input type="radio" name="opt1" <?php if ($opt1) echo "checked"; ?> />
<input type="radio" name="opt2" <?php if ($opt2) echo "checked"; ?> />
<input type="radio" name="opt3" <?php if ($opt3) echo "checked"; ?> />
<input type="radio" name="opt4" <?php if ($opt4) echo "checked"; ?> /> 
```

# iphone - 应用程序崩溃：NSInvalidArgumentException

> ID：14954939
> 
> 赞同：2
> 
> 时间：2013-02-19T10:14:15.663
> 
> 标签：iphone, objective-c, ipad, crash

```
[__NSArrayM relatedObjectDidChange]: unrecognized selector sent to instance

error Class: NSInvalidArgumentException 
```

崩溃报告堆栈跟踪：

```
0 CoreFoundation 0x33d153e7 <redacted> + 162
1 libobjc.A.dylib 0x3ba06963 objc_exception_throw + 30
2 CoreFoundation 0x33d18f31 <redacted> + 0
3 CoreFoundation 0x33d1764d <redacted> + 392
4 CoreFoundation 0x33c6f208 _CF_forwarding_prep_0 + 24
5 EventKit 0x3440af03 <redacted> + 30
6 EventKit 0x34410225 <redacted> + 396
7 EventKit 0x34410095 <redacted> + 28
8 EventKit 0x3440d3fd <redacted> + 396
9 Calendar 0x000f10a5 -[createNewEventView editEvent:] + 1696
10 UIKit 0x35c0f087 <redacted> + 70
11 UIKit 0x35c0f111 <redacted> + 120
12 UIKit 0x35c0f087 <redacted> + 70
13 UIKit 0x35c0f03b <redacted> + 30
14 UIKit 0x35c0f015 <redacted> + 44
15 UIKit 0x35c0e8cb <redacted> + 502
16 UIKit 0x35c0edb9 <redacted> + 488
17 UIKit 0x35b375f9 <redacted> + 524
18 UIKit 0x35b248e1 <redacted> + 380
19 UIKit 0x35b241ef <redacted> + 6198
20 GraphicsServices 0x3783b5f7 <redacted> + 590
21 GraphicsServices 0x3783b227 <redacted> + 34
22 CoreFoundation 0x33cea3e7 <redacted> + 34
23 CoreFoundation 0x33cea38b <redacted> + 138
24 CoreFoundation 0x33ce920f <redacted> + 1382
25 CoreFoundation 0x33c5c23d CFRunLoopRunSpecific + 356
26 CoreFoundation 0x33c5c0c9 CFRunLoopRunInMode + 104
27 GraphicsServices 0x3783a33b GSEventRunModal + 74
28 UIKit 0x35b782b9 UIApplicationMain + 1120
29 Calendar 0x000a9bbf main + 66
30 Calendar 0x0003a600 start + 40 
```

这种错误是什么意思，这种错误的可能性是什么？

我对editEvent方法的实现：

```
-(void) editEvent:(EKSpan )span
{    
    EKEvent * newEditingEvent = self.EventToEdit;
    CalendarAppDataObject* theDataObject = [self theAppDataObject];
    if(eventCalendar != nil && theDataObject.selectedCalendarsForDisplayData != nil){

        NSArray *arrayDataUnarchiver =(NSArray *) [NSKeyedUnarchiver unarchiveObjectWithData:theDataObject.selectedCalendarsForDisplayData];
        NSMutableSet * uniqueId = [[NSMutableSet alloc ] initWithArray:arrayDataUnarchiver];
        [uniqueId addObject:eventCalendar.calendarIdentifier];

        NSArray * selectedCal = [uniqueId allObjects];

        NSData *arrayDataArchiver = [NSKeyedArchiver archivedDataWithRootObject:selectedCal];
        theDataObject.selectedCalendarsForDisplayData = arrayDataArchiver;
        //save selected to database

        NSError *error;
        self.managedObjectContext =  theDataObject.managedObjectContext;
        NSManagedObjectContext *context = [self managedObjectContext];
        // **** log objects currently in database ****
        // create fetch object, this objects fetch's the objects out of the database
        NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
        NSEntityDescription *entity = [NSEntityDescription entityForName:@"Settings" inManagedObjectContext:context];
        [fetchRequest setEntity:entity];

        NSArray *fetchedObjects= [context executeFetchRequest:fetchRequest error:&error] ;
        for (NSManagedObject *info in fetchedObjects)
        {
            [info setValue:arrayDataArchiver forKey:@"selectedCalendarsForDisplayData"] ;
        }

        //this is for comitting changes to core data
        [context save:&error];
        [fetchRequest release];
        [uniqueId release];
    }

    NSString * eventNotesString = @"";
    if(self.eventNotes != nil)
    {
        eventNotesString = self.eventNotes;
    }
    newEditingEvent.notes = [EventsDataUtil generateEventsNoteForSavingColor:eventNotesString colorToSave:self.eventBackColor];

    if(self.eventRecurrenceRule != nil)
    {
        NSArray * RecRulesArray = [[[NSArray alloc ] initWithObjects:self.eventRecurrenceRule, nil]autorelease];

        if(theDataObject.isRepeatChanged)
        {
            [newEditingEvent setRecurrenceRules:RecRulesArray];
        }

    }else
    {
        [newEditingEvent setRecurrenceRules:nil];
    }

    if([[ self.eventTitle stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]] isEqualToString:@""])
    {
        self.eventTitle = @"New Event";

    }
    newEditingEvent.title = self.eventTitle;
    if(isLocationPhoneNumber)
    {
        NSString * PhoneLocationString = @"tel:";
        PhoneLocationString = [PhoneLocationString stringByAppendingFormat:@"%@", [self.contactPhoneNumber stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]]];
        newEditingEvent.location = PhoneLocationString;
    }
    else
    {
        newEditingEvent.location = self.eventLocation;
    }

    newEditingEvent.startDate = self.eventStartDate;
    newEditingEvent.endDate =self.eventEndDate;
    newEditingEvent.allDay = self.eventAllDay;
    newEditingEvent.calendar = self.eventCalendar;
    newEditingEvent.URL = self.eventURL;
    // repeat and alert
    NSArray * Alarms = nil;
    if(self.eventAlert !=nil)
    {
        if(self.eventSecondAlert !=nil)
        {
            Alarms = [[[NSArray alloc] initWithObjects:self.eventAlert,self.eventSecondAlert, nil]autorelease];
        }
        else {
            Alarms = [[[NSArray alloc] initWithObjects:self.eventAlert, nil]autorelease];
        }

    }

    newEditingEvent.alarms = Alarms;

    NSError *err;
    [newEditingEvent setCalendar:self.eventCalendar];
    [sharedEventStore saveEvent:newEditingEvent span:span commit:YES error:&err];
    theDataObject.needUpdate = YES;
    if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
    {
        [[NSNotificationCenter defaultCenter] postNotificationName:@"dismissEventDetails" object:nil];
    }
    else{

        [self dismissViewControllerAnimated:YES completion:NULL];
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:18:28.843

错误报告告诉你你需要知道的一切：

```
[__NSArrayM relatedObjectDidChange]: unrecognized selector sent to instance 
```

这意味着`NSArray`该类没有调用方法`relatedObjectDidChange`，因此您的代码显然在某处调用了它：

```
[someArray relatedObjectDidChange]; 
```

如果没有看到您的代码，我无法提供更多帮助。我想看看这个方法：

```
[createNewEventView editEvent:] 
```

以及该类的定义

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:20:38.260

该方法`relatedObjectDidChange`被发送到`NSArray`该类不响应的类对象。你把一个`NSMutableArray`和一个`NSArray`地方混在一起了吗？

还是`relatedObjectDidChange`您自己在其中一个对象上实现的方法？在这种情况下，您可能会将 an 分配`NSArray`给您希望属于您自己的类的变量。

# ios - 创建单例 DB 助手类

> ID：14954940
> 
> 赞同：2
> 
> 时间：2013-02-19T10:14:16.270
> 
> 标签：ios, sqlite, helper

我正在尝试编写一个从 sqlite 数据库中获取数据的 Master-Detail 应用程序。作为其中的一部分，我正在尝试创建一个帮助类来创建我的数据库的单例实例。我想做的就是初始化数据库，这样我就可以从应用程序的不同视图中引用它。我在这里遵循了一个教程：[http ://www.raywenderlich.com/913/sqlite-101-for-iphone-developers-making-our-app](http://www.raywenderlich.com/913/sqlite-101-for-iphone-developers-making-our-app)

我得到了教程，但是现在我正在尝试修改它以适应我的应用程序，但我似乎无法让它工作。我没有错误或警告，但是当我在模拟器上运行应用程序时，我输入的任何调试文本都不会执行。所以在我看来，我的 init 函数没有执行。我只是想不通为什么。谁能在下面的代码中发现我的问题？

LoyaltyProgramDatabase.h

```
#import <Foundation/Foundation.h>
#import <sqlite3.h>

@interface LoyaltyProgramDatabase : NSObject {
    sqlite3 *_loyaltyProgDB;
}

@property (strong, nonatomic) NSString *databasePath; //Path file of our database
@property (nonatomic) sqlite3 *loyaltyProgDB; //Reference to the database

+ (LoyaltyProgramDatabase*)loyaltyProgDB;

@end 
```

忠诚度计划数据库.m

```
#import "LoyaltyProgramDatabase.h"

@implementation LoyaltyProgramDatabase

static LoyaltyProgramDatabase *_loyaltyProgDB;

//Create a singleton instance of loyaltyProgDB
+ (LoyaltyProgramDatabase*)loyaltyProgDB {
    if (_loyaltyProgDB == nil) {
        _loyaltyProgDB = [[LoyaltyProgramDatabase alloc] init];
    }
    return _loyaltyProgDB;
}

- (id)init {
    NSLog(@"Inside init function");
    if ((self = [super init])) {

        NSString *docsDir;
        NSArray *dirPaths;

        // Get the documents directory
        dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    docsDir = dirPaths[0];

    // Build the path to the database file
    _databasePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent:@"loyaltyProg.db"]];

    NSFileManager *filemgr = [NSFileManager defaultManager];

    if ([filemgr fileExistsAtPath: _databasePath ] == NO)
    {
        const char *dbpath = [_databasePath UTF8String];

        if (sqlite3_open(dbpath, &_loyaltyProgDB) == SQLITE_OK)
        {
            char *errMsg;
            const char *sql_stmt = "CREATE TABLE IF NOT EXISTS scoreCard (ID INTEGER PRIMARY KEY AUTOINCREMENT, campaignID INTEGER, merchantName TEXT)";

            if (sqlite3_exec(_loyaltyProgDB, sql_stmt, NULL, NULL, &errMsg) != SQLITE_OK)
            {
                //_status.text = @"Failed to create table";
                NSLog(@"Failed to create table");
            }
            sqlite3_close(_loyaltyProgDB);
        } else {
            //_status.text = @"Failed to open/create database";
            NSLog(@"Failed to open/create database");
        }
    }        
}    
return self;
}

- (void)dealloc {
    sqlite3_close(_loyaltyProgDB);
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:39:23.097

尝试这个：

```
 + (id)allocWithZone:(NSZone *)zone
{
    return [self loyaltyProgDB];
}

+ (LoyaltyProgramDatabase*)loyaltyProgDB
{
    static BNRImageStore *loyaltyProgDB = nil;
    if (!loyaltyProgDB) {
        // Create the singleton
        loyaltyProgDB = [[super allocWithZone:NULL] init];
    }
    return loyaltyProgDB;
}

- (id)init {
    self = [super init];
    if (self) {

        NSString *docsDir;
        NSArray *dirPaths;

        // Get the documents directory
        dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

        docsDir = dirPaths[0];

        // Build the path to the database file
        _databasePath = [[NSString alloc] initWithString: [docsDir stringByAppendingPathComponent:@"loyaltyProg.db"]];

        NSFileManager *filemgr = [NSFileManager defaultManager];

        if ([filemgr fileExistsAtPath: _databasePath ] == NO)
        {
            const char *dbpath = [_databasePath UTF8String];

            if (sqlite3_open(dbpath, &_loyaltyProgDB) == SQLITE_OK)
            {
                char *errMsg;
                const char *sql_stmt = "CREATE TABLE IF NOT EXISTS scoreCard (ID INTEGER PRIMARY KEY AUTOINCREMENT, campaignID INTEGER, merchantName TEXT)";

                if (sqlite3_exec(_loyaltyProgDB, sql_stmt, NULL, NULL, &errMsg) != SQLITE_OK)
                {
                    //_status.text = @"Failed to create table";
                    NSLog(@"Failed to create table");
                }
                sqlite3_close(_loyaltyProgDB);
            } else {
                //_status.text = @"Failed to open/create database";
                NSLog(@"Failed to open/create database");
            }
        }
    }
    return self;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T15:46:55.987

如果你没有写一行代码`[[LoyaltyProgramDatabase alloc] init]`or `[LoyaltyProgramDatabase loyaltyProgDB]`，那么你的`init`函数永远不会被调用。

`init`启动应用程序时不会自动调用。唯一`init`会自动调用任何函数的情况是，如果您在 nib/xib/storyboard 文件中有 UI 元素，并且应用程序会使用各种初始化函数创建元素，但绝不会使用您自己的`init`函数。但是对于您所编写的内容，要初始化数据库对象，您需要自己调用该`init`函数。

在您的应用程序委托中，在`didFinishLaunching`函数下，输入以下行：

```
[LoyaltyProgramDatabase loyaltyProgDB]; 
```

顺便说一句，这不是一个真正最新的单例模式。这实际上是一个惰性加载器函数。如果您想要更安全的单例，请使用此代码。

```
+(id)sharedInstance {
  static dispatch_once_t pred = 0;
  __strong static id _sharedObject = nil;
  dispatch_once(&pred, ^{
    _sharedObject = [[self alloc] init];
  });
  return _sharedObject;
} 
```

这将确保数据库只初始化一次并且它是线程安全的。要创建/使用单例，代码将从上面更改为

```
[LoyaltyProgramDatabase sharedInstance] 
```

# c# - 如何在额外的 Gridview 中设置运行总和

> ID：14954947
> 
> 赞同：0
> 
> 时间：2013-02-19T10:14:39.903
> 
> 标签：c#, xtragrid

嗨，我正在使用来自 developer express 的额外 gridview 我想确保可以在列上设置运行总和谢谢

# php - 将 IMAP 消息移动到我的网络服务器上传目录

> ID：14954948
> 
> 赞同：0
> 
> 时间：2013-02-19T10:14:41.067
> 
> 标签：php, email, imap, email-attachments

我的应用程序中有一个简历电子邮件解析器。用户只需通过电子邮件发送简历，我的系统就会对其进行解析。

我有一个问题，是否可以将通过电子邮件发送的简历（现在是 imap 消息）保存到我的网络服务器上传目录中？我想将它保存到 public_html/uploads 中。反正有这样做吗？

任何的想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T14:19:54.727

为了他人的利益，我终于让它工作了。我使用了 file_put_contents()。这篇文章帮助我弄清楚，[使用 IMAP 和 PHP 保存附件服务器](https://stackoverflow.com/questions/12467188/save-attachments-server-with-imap-and-php)

# python-3.x - 如何让我的脚本选择正确的 python 解释器？

> ID：14954950
> 
> 赞同：2
> 
> 时间：2013-02-19T10:14:48.460
> 
> 标签：python-3.x, python-2.7, python

我安装了 2.7 和 3.0 版本的 Python 解释器（在我的 Ubuntu 32 系统上），但一个特定的脚本使用 3.0。

使用

```
#!/usr/bin/python3 -B 
```

当程序与`python myprogram.py`.

而且我还需要一个同样适用于 Windows 的解决方案，我也安装了两个 python 版本。

如何使脚本仅使用正确的 python 版本运行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:18:19.073

请使用[virtualenv](https://pypi.python.org/pypi/virtualenv)，它使孤立的 Python 环境变得容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:19:32.817

```
python = Python to use. # This has to be the absolute path to Python executable

os.execl(python, python, * sys.argv) 
```

这样，您可以使用要使用的 python 重新启动脚本。不是很时髦。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T10:34:43.733

我不知道为什么你不能只用 启动程序`python3 foo.py`，但是有可能让 python2 程序用类似的东西重新启动为 python3。

```
import sys
if sys.version_info.major != 3:
    import os
    # replace this process with a python3 process
    os.execlp("python3", "python3", *sys.argv) 
```

这是一个糟糕的解决方案，因为现在你的 python3 程序不能使用任何无效的 python2 语法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T10:19:28.263

请看一下[错误的python解释器被调用](https://stackoverflow.com/questions/904170/the-wrong-python-interpreter-is-called)

您必须根据安装所需 Python 版本和系统变量的位置来选择正确的解释器。

# xml - 外部客户端如何存储 xml 文件？

> ID：14954951
> 
> 赞同：0
> 
> 时间：2013-02-19T10:14:50.020
> 
> 标签：xml, communication

我目前正在设计一个存在以下问题的系统：

我有一个 web 应用程序，在自己的 Windows 服务器上运行。我有一个必须与 web 应用程序通信的外部客户端。通信将通过 XML 文件进行。客户端正在制作一个 XML 文件，其中包含应用程序必须读取和处理的一些数据。我的问题是我不知道是否有针对此问题的最佳实践。

我正在考虑针对此问题的以下解决方案：客户端将 XML 文件发送到服务器上的目录。应用程序正在监视此目录，当添加新的 XML 文件时，会发生一个事件，并且应用程序知道有一个新文件并将读取它并处理数据。数据处理完成后，应用程序将删除 XML 文件。

这是最好的解决方案还是这个“问题”有其他解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:27:13.007

如果您使用“客户端正在将 XML 文件发送到服务器上的目录。”的解决方案，则不需要 webapplication。它可以是在服务器上运行的任何应用程序。

它有很多方法可以通过 web 应用程序来实现这一点。- 如果你的客户是疯子，你可以在你的 webapp 中编写一个页面来上传文件 - 如果你的客户可以是一个应用程序，你可以编写将 xml 上传到你的 webapp（从 webapp 的角度来看，它与上面的代码相同） . 您只需要知道如何编写程序（用于客户端）就可以像浏览器一样连接并上传文件。

两种解决方案中的任何一种，您都必须知道如何编写 Web 应用程序才能读取上传的文件。

# android - 显示具有不同数据的单个屏幕以进行通知

> ID：14954952
> 
> 赞同：0
> 
> 时间：2013-02-19T10:14:57.527
> 
> 标签：android

从网络服务我收到了数据列表。我必须显示收到数据的通知列表。要显示通知，我使用了以下代码。但是当我单击通知项时，我可以查看列表中的最后一个数据. 如何解决这个问题。

例如，如果列表项 1 的名称为“name1”，而列表项 10 的名称为“名称 10”。当我单击通知 1 时。它显示了有关列表项 10 的详细信息

```
 ArrayList<MYObject> list= <List of data from webservice>
 ....
  for(int i=1;i<list.size();i++){
    createNotification(list.get(i),i);
 }
.....
........

public void createNotification(MYObject obj,
        int notificationId) {

    NotificationManager notificationManager = (NotificationManager) context
            .getSystemService(Context.NOTIFICATION_SERVICE);

    Notification myNotification = new Notification(
            R.drawable.notification_icon, "Title!", System.currentTimeMillis());

    String notificationTitle = "My Title";
    String notificationText = "My Notification text";

    Intent myIntent = new Intent(context.getApplicationContext(),
            DetailView.class);
    myIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);
    myIntent.putExtra("detail", obj);

    PendingIntent pendingIntent = PendingIntent.getActivity(
            context.getApplicationContext(), 0, myIntent, 0);
    myNotification.defaults |= Notification.DEFAULT_SOUND;
    myNotification.flags |= Notification.FLAG_NO_CLEAR;
    myNotification.setLatestEventInfo(context, notificationTitle,
            notificationText, pendingIntent);
    notificationManager.notify(notificationId, myNotification);

} 
```

# c++ - 在 solaris 上提升库信号量

> ID：14954954
> 
> 赞同：0
> 
> 时间：2013-02-19T10:15:04.137
> 
> 标签：c++, boost, solaris, semaphore, solaris-10

我在 RHEL 中使用 boost 信号量，目前我正在将代码移植到 solaris 10。我遇到了一个奇怪的问题，即 boost 信号量无法正常工作。

我使用 boost[网站](http://www.boost.org/doc/libs/1_47_0/doc/html/interprocess/synchronization_mechanisms.html#interprocess.synchronization_mechanisms.semaphores.semaphores_anonymous_example)上的示例创建了匿名信号量。信号量在开发机器上工作正常，但无法在测试机器上运行。一个进程在发布到另一个进程后卡在等待状态，但另一个进程尚未退出等待状态。

这是我的信号量减速：

```
...
//in global space
struct iSema
{
        interprocess_semaphore ASync;
        interprocess_semaphore BSync;
        iSema()
        :ASync(0), BSync(0)
        {}
}*m_Sema;
mapped_region SemaRegion;
#define SHM_SIZE 512
...

...
//in main process 1
        try
        {
                std::size_t ShmSize = SHM_SIZE;
                shared_memory_object::remove("xyz"); //remove previous instance
                shared_memory_object shm(create_only, "xyz", read_write); //create new
                shm.truncate(sizeof(struct iSema));
                mapped_region region(shm, read_write); //get into local scope region
                SemaRegion.swap(region); //swap with global scope region
                m_Sema = new (SemaRegion.get_address()) (struct iSema); //map it
        }
        catch(exception& e)
        {//logging
        }
...
//Do some thing
m_Sema->ASync.post();
m_Sema->BSync.wait();//stuck at this place
...
...
//in main second process
    try
    {
        std::size_t ShmSize = SHM_SIZE;
        shared_memory_object shm(open_only, "xyz", read_write);
        shm.truncate(sizeof(struct iSema));
        mapped_region region(shm, read_write);
        SemaRegion.swap(region);
        m_Sema = new (SemaRegion.get_address()) (struct iSema);
    }
    catch(exception& e)
    {
//logging
    }
m_Sema->ASync.wait();
m_Sema->BSync.post();
... 
```

系统信息：

太阳能 10

gcc：4.1.2 使用 binutils 2.18 自构建

提升 1.47

sparc架构

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:47:03.023

这完全与信号量的使用和solaris 实现有关。在我的情况下，进程 1 在进程 2 可以打开信号量的共享内存之前发布。因此，流程 2 没有从流程 1 中获得任何帖子。我得到了上面的代码，并进行了下面列出的细微更改：

```
...
//in global space
struct iSema
{
        interprocess_semaphore ASync;
        interprocess_semaphore BSync;
        interprocess_semaphore CSync;
        iSema()
        :ASync(0), BSync(0), CSync(0)
        {}
}*m_Sema;
mapped_region SemaRegion;
#define SHM_SIZE 512
...

...
//in main process 1
        try
        {
                std::size_t ShmSize = SHM_SIZE;
                shared_memory_object::remove("xyz"); //remove previous instance
                shared_memory_object shm(create_only, "xyz", read_write); //create new
                shm.truncate(sizeof(struct iSema));
                mapped_region region(shm, read_write); //get into local scope region
                SemaRegion.swap(region); //swap with global scope region
                m_Sema = new (SemaRegion.get_address()) (struct iSema); //map it
        }
        catch(exception& e)
        {//logging
        }
...
//Do some thing
m_Sema->CSync.wait();
m_Sema->ASync.post();
m_Sema->BSync.wait();
...
...
//in main second process
    try
    {
        std::size_t ShmSize = SHM_SIZE;
        shared_memory_object shm(open_only, "xyz", read_write);
        shm.truncate(sizeof(struct iSema));
        mapped_region region(shm, read_write);
        SemaRegion.swap(region);
        m_Sema = new (SemaRegion.get_address()) (struct iSema);
    }
    catch(exception& e)
    {
//logging
    }
m_Sema->CSync.post();
m_Sema->ASync.wait();
m_Sema->BSync.post();
... 
```

# c# - MVC4 捆绑路由排除

> ID：14954955
> 
> 赞同：0
> 
> 时间：2013-02-19T10:15:22.713
> 
> 标签：c#, asp.net-mvc-4, bundling-and-minification

我通过调用来利用 MVC4 中的捆绑功能`bundles.EnableDefaultBundles();`，这使我可以浏览到`http://website.com/content/css`哪个输出目录中所有 CSS 文件的单个文件`/content`- 很棒。

问题是我有以下路由，它按标题从数据库加载博客文章：`/post/{anything}`在这种情况下`{anything}`是`css`（为了争论，我无法更改它）所以捆绑变得混乱并试图捆绑`post`目录中的所有内容，这是不存在的。

有没有办法从捆绑中排除特定的 URL 格式或路由？我认为不打电话`EnableDefaultBundles()`会起作用，但这是否意味着我必须手动为所有内容创建捆绑包？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T18:43:09.723

您使用的是旧版本的优化包吗？EnableDefaultBundles 在 1.0 之前已被删除。您仍然可以通过添加等效的 js/css DynamicFolderBundles 来完成该方法的等效操作。

# c - 单链表的分段错误

> ID：14954956
> 
> 赞同：0
> 
> 时间：2013-02-19T10:15:33.333
> 
> 标签：c, list, crash, malloc

好的，所以我有这个学校项目，我有一个很大的问题。我已经花了大约 3-4 个小时的调试时间，但我不知道为什么会发生这种情况。

程序这样做：它从文件“input.in”中读取以下内容：N（<500），然后是 N 个文件名，M（<500），然后是 M 个“查询”。查询是这样的一行：“John & Papa | Dan”，它将返回包含“John and Papa”或“Dan”的文件索引。

我认为该算法有效，问题在于保存哈希表。在小测试中，程序运行良好，然后我进行了 110 个文件测试，它只是“分段错误”。

到目前为止我在分段错误之前所知道的：

*   它在第 9 个文件出现故障
*   它在哈希表中尚不存在的单词上出错
*   它在搜索匹配项时通过所有列表后出现故障（在列表末尾，就在添加新值之前）

这是代码： http: [//pastebin.com/fd4c1f6w](http://pastebin.com/fd4c1f6w)

另外，标题： http: [//pastebin.com/H0m7WjrG](http://pastebin.com/H0m7WjrG)

这是调试信息： http: [//pastebin.com/gvvyjePZ](http://pastebin.com/gvvyjePZ)

输入文件：[http ://www.sendspace.com/file/48etji](http://www.sendspace.com/file/48etji)

拜托，我真的需要解决这个问题，我真的很失望。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T12:36:18.317

我的评论会有点长，所以我会在这里发布。在图形调试器如此容易获得之前，我们使用了一种称为“墓碑调试”的技术。基本上，您只需在代码中添加一些 printf 语句，以确定程序执行的最后一个位置。 `printf("(%d) %s\n", __LINE__, __FILE__);`顺便说一句，这对此非常有用。

我用你的代码来做这件事，作为一种快速隔离需要更仔细查看的代码的方法。我发现只有第一个文件“date.in”被读取。然后我发现对 put_doc 的第二次调用没有返回。

然后我意识到您发布了 Alocare_Mapare 和 Realocare_Mapare 的更新代码。:掌心:

当我用你的新函数更新代码时，代码继续读取所有输入文件。然后我发现它在“ `for(i=0;i<nrTokeni;i++)`”循环中崩溃了。

一会儿我会好好看看，我真的很喜欢刚才的电视！:P

***编辑：***

那么，我必须说这很有趣。:) 我将在以后的程序中使用该代码，该程序会在文件列表中搜索某些文本。我的电视在午夜结束，我发现你的颂歌很难阅读，所以根据你对要求的描述，我决定重新实现它。我取消了 map 和 hash 函数，发现它们对于我理解的最终任务是不必要的。很可能（实际上是希望）代码有点不适合提出的问题 - 它更多的是不同方法的示例，并且*希望*是具有更有意义命名的变量的代码示例。

我发现变量名确实妨碍了清晰的理解。它似乎也比需要的要复杂一些。如果您有任何问题，我很乐意回答。

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct node_t
{
    char *data;
    node_t *next;
};

node_t *makeNewNode(char *newData)
{
    node_t *tmp;
    tmp = (node_t *)malloc(sizeof(node_t));
    tmp->data = strdup(newData);
    tmp->next = NULL;
    return tmp;
}

void addNode(node_t **listHead, char *newData)
{
    node_t *theNewNode = makeNewNode(newData);

    if (*listHead == NULL)
        *listHead = theNewNode;

    else
    {
        node_t *curNode = *listHead;
        while (curNode->next != NULL)
            curNode = curNode->next;
        curNode->next = theNewNode;
    }
}

void printList(node_t *nodeList)
{
    node_t *curNode = nodeList;
    while (curNode != NULL)
    {
        printf("%s\n", curNode->data);
        curNode = curNode->next;
    }
}

void readMainInputFile(char *filename, node_t **filesToProcessOut, node_t **searchTermsOut)
{
    int numFiles, numSearchTerms;
    int curFileNum, curSearchTerm;
    const int maxLineLength = 1024;
    char lineBuffer[maxLineLength+1], *endlStrippedFileName, *endlStrippedSearchTerms;

    FILE *fileHandle = fopen(filename, "rt");

    fscanf(fileHandle, "%d\n", &numFiles);
    for (curFileNum=0; curFileNum<numFiles; curFileNum++)
    {
        fgets(lineBuffer, maxLineLength, fileHandle);
        endlStrippedFileName = strtok(lineBuffer, "\r\n");
        addNode(filesToProcessOut, endlStrippedFileName);
    }

    fscanf(fileHandle, "%d\n", &numSearchTerms);
    for (curSearchTerm=0; curSearchTerm<numSearchTerms; curSearchTerm++)
    {
        fgets(lineBuffer, maxLineLength, fileHandle);
        endlStrippedSearchTerms = strtok(lineBuffer, "\r\n");
        addNode(searchTermsOut, endlStrippedSearchTerms);
    }
    fclose(fileHandle);
    printf("Read %d files, %d search terms\n", numFiles, numSearchTerms);
}

int fileLen(FILE *fp)
{
    int result, curPos;
    curPos = ftell(fp);
    fseek(fp, 0, SEEK_END);
    result = ftell(fp);
    fseek(fp, curPos, SEEK_SET);
    return result;
}

// searhes a file for any of the strings (seperated by | character) found in a single line from the inupt file.
// this is wasteful - we open load and search the file one time for each of the searchTerms.
// I.e - the InputData below would cause the file to be opened and read 4 times. Ideally, it should only be opened and read once
//  we could fix this by passing a linked list of all of the lines of search terms - I'm too lazy. :-P
//11
//doctor & having
//I & hero | life
//innocently | that | know & will & it & I & yet
//shall & turn & out & to & be

bool doesFileContainSearchTerms(char *filename, char *searchTerms)
{
    int fLen;
    bool result;
    char *buffer;
    char *searchTermsCopy = strdup(searchTerms);
    char *curToken, curSearchTerm[100];
    bool spaceAtStart, spaceAtEnd;

    // open file, get length, allocate space for length+1 bytes, zero that memory, read the file
    FILE *fileHandle = fopen(filename, "rt");
    fLen = fileLen(fileHandle);
    buffer = (char*) calloc(1, fLen+1);
    fread(buffer, fLen, 1, fileHandle);
    fclose(fileHandle);

    curToken = strtok(searchTermsCopy, "|");
    while ((curToken != NULL) && (strlen(curToken)!=0))
    {
        memset(curSearchTerm, 0, 100);

        // strip the leading/trailing spaces (and '|' char) from a search term
        // e.g
        //  "I & hero |" --> "I & hero"
        //  " life" --> "life"
        spaceAtStart = spaceAtEnd = false;
        if ((curToken[0] == ' ') || (curToken[0] == '|'))
            spaceAtStart = true;
        if (curToken[strlen(curToken)-1] == ' ')
            spaceAtEnd = true;

        if ((spaceAtStart==false) && (spaceAtEnd==false))
            strcpy(curSearchTerm, curToken);
        else if ((spaceAtStart==false) && (spaceAtEnd==true))
            strncpy(curSearchTerm, curToken, strlen(curToken)-1);
        else if ((spaceAtStart==true) && (spaceAtEnd==false))
            strncpy(curSearchTerm, curToken+1, strlen(curToken)-1);
        else if ((spaceAtStart==true) && (spaceAtEnd==true))
            strncpy(curSearchTerm, curToken+1, strlen(curToken)-2);

   //     printf("CurSearchTerm: ''%s''\n", curSearchTerm);

        // we're searching for _any_ of the text in the search term, e.g "I & hero | life"
        // if we find one of them, then set result to true and stop looking.
        result = false;
        if (strstr(buffer, curSearchTerm) != NULL)
        {
            result = true;
            break;
        }
        // didn't find one of the searchTerms yet, grab the next one
        curToken = strtok(NULL, "|");
    }

    free(buffer);
    free(searchTermsCopy);
    return result;
}

int main()
{
    node_t *inputFileList = NULL;
    node_t *searchTermList = NULL;

    readMainInputFile("input.in", &inputFileList, &searchTermList);

    node_t *curFileNameNode = inputFileList;
    while (curFileNameNode != NULL)
    {
        node_t *curSearchTermNode = searchTermList;
        while (curSearchTermNode != NULL)
        {
           // printf("Searching %s for %s\n", curFileNameNode->data, curSearchTermNode->data);
            if (doesFileContainSearchTerms(curFileNameNode->data, curSearchTermNode->data))
                printf("Search hit - file(%s), searchTerm(%s)\n", curFileNameNode->data, curSearchTermNode->data);
            curSearchTermNode = curSearchTermNode->next;
        }
        curFileNameNode = curFileNameNode->next;
    }
} 
```

***输出：***

```
Read 110 files, 11 search terms
Search hit - file(date.in), searchTerm(I & hero | life)
Search hit - file(date.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date2.in), searchTerm(I & hero | life)
Search hit - file(date2.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date3.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date4.in), searchTerm(I & hero | life)
Search hit - file(date4.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date6.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date6.in), searchTerm(looking | fire | called & another)
Search hit - file(date7.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date8.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date9.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date10.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date10.in), searchTerm(looking | fire | called & another)
Search hit - file(date11.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date12.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date13.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date14.in), searchTerm(looking | fire | called & another)
Search hit - file(date18.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date20.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date20.in), searchTerm(looking | fire | called & another)
Search hit - file(date23.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date25.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date25.in), searchTerm(looking | fire | called & another)
Search hit - file(date28.in), searchTerm(I & hero | life)
Search hit - file(date29.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date30.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date37.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date38.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date38.in), searchTerm(looking | fire | called & another)
Search hit - file(date44.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date45.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date47.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date50.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date52.in), searchTerm(I & hero | life)
Search hit - file(date52.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date53.in), searchTerm(looking | fire | called & another)
Search hit - file(date61.in), searchTerm(looking | fire | called & another)
Search hit - file(date68.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date75.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date76.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date76.in), searchTerm(looking | fire | called & another)
Search hit - file(date77.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date78.in), searchTerm(looking | fire | called & another)
Search hit - file(date81.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date84.in), searchTerm(looking | fire | called & another)
Search hit - file(date88.in), searchTerm(looking | fire | called & another)
Search hit - file(date89.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date91.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date92.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date100.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date102.in), searchTerm(innocently | that | know & will & it & I & yet)
Search hit - file(date110.in), searchTerm(innocently | that | know & will & it & I & yet)

Process returned 0 (0x0)   execution time : 0.308 s
Press any key to continue. 
```

# c# - 从 Linq 查询中获取结果

> ID：14954961
> 
> 赞同：0
> 
> 时间：2013-02-19T10:15:55.523
> 
> 标签：c#, asp.net, linq-to-sql

我正在尝试检查 IsAdmin 是否为 true，这是一个布尔值。如果为真，则在 gridview EditItemTemplate 中选中一个复选框。

查询是当gridview处于编辑模式并且正在编辑的用户已经是管理员时。如果这是真的，则需要检查复选框，因为如果他们更新行并且未选中复选框，则它们不再是管理员。

我在想的是查询应该能够做到这一点。但不确定如何实现 IsAdmin == true。

```
private void LoadGridEdit()
{
using (dbDataContext _db = new dbDataContext())
{
    var result = from u in _db.tbl_Users
                    where u.Deleted == false
                select new
                        {
                            u.UserId,
                            u.UserName,
                            u.Email,
                            u.IsAdmin,
                            u.tbl_ServiceArea.ServiceArea,
                        };

    if ()
    {
        //????   or foreach?
    }
    // Bind Here
}
} 
```

我已经查看并尝试了不同的选项，但我不确定。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T10:26:04.523

您是否尝试过在 GridView 模板中使用 CheckBox，并将其 Checked 属性设置为绑定到 IsAdmin 值，如下所示：

```
<asp:CheckBox ID="chbIsAdmin" runat="server" Checked='<%# Bind("IsAdmin") %>' /> 
```

编辑：

对不起，我刚刚读到管理员不小心删除了他们自己的权限。如果我在你的引导下，我不会让这件事发生。管理员不能删除他们自己的权限。这确保至少有 1 个管理员存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:26:01.663

`result`将`IEnumerable`通过包含属性的对象返回一个`IsAdmin`。如果你想对每个元素`IsAdmin == true`执行如下操作：

```
var resultsWithAdminIsTrue = from r in result
                             where r.IsAdmin
                             select r;

foreach (var r in resultsWithAdminIsTrue)
{
    /* Do action */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T10:20:21.827

这个 LinQ 查询将返回一个`IEnumerable`对象，您可以用`foreach`语句枚举它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T10:21:53.283

像这样的东西：

```
var result = _db.tbl_Users.Where(u=> u.Deleted == false).Select(e=> new
                    {
                        u.UserId,
                        u.UserName,
                        u.Email,
                        u.IsAdmin,
                        u.tbl_ServiceArea.ServiceArea,
                    }.ToList();

foreach(var res in result)
{
    if(res.IsAdmin)
    {
     // Do SOmething
    }
} 
```

抱歉，但我不喜欢类似 sql 的 linq，所以我就这样写了。希望它会有所帮助。

# opengl - 关于 .obj 3d 模型格式和 VBO

> ID：14954963
> 
> 赞同：0
> 
> 时间：2013-02-19T10:16:14.027
> 
> 标签：opengl, vbo, .obj

.obj 模型中的 v、vn 和 vt 的数量是否相同？我问它是因为我每次抽奖只能使用一个索引，所以我可以使用 VBO

```
struct VertexCoord
{
float x,y,z,w;
float nx,ny,nz;
float u,v;
}; 
```

所以我可以通过跨步偏移为所有缓冲区使用一个索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:43:51.580

不，v、vt、vn 的数量可以不同。

请注意，有一个“v”列表，然后是“vt”、“vn”等列表......

最后有一个面列表：1/2/3、4/5/4 等。面索引顶点 pos、纹理坐标、法线，但由于这些索引彼此不相关，这也意味着版本可以不同。

只有当面孔列表看起来像“1/1/1”、“4/4/4”时，我们才会有相同的属性。

这有点难以解释，但我希望你明白这一点:)

所以一般来说你不能直接将 obj 数据映射到你的 VBO 结构中。在 OpenGL 中，您当然可以使用索引几何，但这意味着每个特定顶点的所有属性都有一个索引。您不能单独索引位置、纹理坐标。您必须以某种方式重新排列数据。

这里有一些链接：

[http://en.wikibooks.org/wiki/OpenGL_Programming/Modern_OpenGL_Tutorial_Load_OBJ](http://en.wikibooks.org/wiki/OpenGL_Programming/Modern_OpenGL_Tutorial_Load_OBJ)

[http://xiangchen.wordpress.com/2010/05/04/loading-a-obj-file-in-opengl/](http://xiangchen.wordpress.com/2010/05/04/loading-a-obj-file-in-opengl/)

# struts-1 - dynaactionform 与 A ctionForm

> ID：14954967
> 
> 赞同：0
> 
> 时间：2013-02-19T10:16:28.243
> 
> 标签：struts-1, struts-config

struts 中的 DynaActionForm 实际上是做什么的？据说***“如果我们开发越来越多的 struts 应用程序或 Action 类，那么就必须创建越来越多的 ActionForm。这意味着，ActionForm 几乎适用于我们想要执行的每一个业务逻辑。这需要时间。”***

因此，我们在 struts-config.xml 文件中创建的 DynaActionForm 出现了。

但是我们仍然必须在 struts-config.xml 文件中为许多业务 Aciton 创建相等的 DynaActionFrom 以进行映射。

编写 ActionFrom （不是 DynaActionForm ）更加灵活？

请解释一下， dynaActionForm 的行为如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T12:48:02.020

DynaActionForms 不需要任何（或很多）Java 代码；ActionForms 可以。

这[在文档中有所说明](http://struts.apache.org/development/1.x/userGuide/building_controller.html#a4.3.1_DynaActionForm_Classes)：

> 您可以在框架的配置文件中列出其属性、类型和默认值，而不是为每个 bean 的属性创建新的 ActionForm 子类和新的 get/set 方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-25T09:57:12.703

DynaActionForm 的真正目的是在创建原型期间。这时候它会帮助可能对jsp不太熟悉的页面开发人员创建一个DynaForm并让原型工作，他不需要深入了解在java代码中工作的细节。

但是创建 ActionForm 总是比在项目中使用 DynaForm 更好。

[更详细的解释](https://weblogs.java.net/blog/srikanth/archive/2004/01/actionform_or_d.html)

# asp.net - 如何使用 c# 在 asp.net WF 中为多个 UI 过滤器选择分配多个 GridView

> ID：14954968
> 
> 赞同：0
> 
> 时间：2013-02-19T10:16:29.163
> 
> 标签：asp.net, gridview, html-select

我有四个`DropDownList`控件。**年份、国家、PC、CC**

选择**年份会与****PC**和**CC**一起填充**Country**。但是，如果我只选择**Country**并点击**Submit**，那么结果应该显示如下： ****`DropDownList` ****`Button``GridView`********

 ******> 电脑一览 || 总交易金额
> 
> PC1....................... 500.00
> PC2....................... . 600.00

但是如果我选择**Country**、**PC**和**CC**那么结果是不同的，也需要显示在 a 中`GridView`：

> 帐户 || 总交易金额
> 
> ACC1....................... 100.00
> ACC2........ . 200.00

这两个过程之间的相似之处在于，当我从第`GridView`一个单击**PC 列表中**的一个时，我将不得不使用最后一个`GridView`。

**问题**：

1.  我是否必须`GridView`为这两个不同的用例使用单独的控件并将搜索结果绑定到不同的`GridView`？
2.  我有 2 种方法，其中一种方法为所选**国家/地区**的 PC返回**总计**，另一种方法为所选**国家**、**PC**和**CC**的**帐户返回****总计**，在这种情况下，我可以在使用相同 GridView 的情况下执行以下操作不同的结果，这实际上不起作用？

     ******```
     protected void _UIButtonSubmit_Click(object sender, EventArgs e)
    {
        IEnumerable<AccountTransactionViewModel> transactions = null;
        IEnumerable<TransactionTotalForProfitcenterViewModel> totalProfitcenterTranAmount = null;

        if ((_UIFilterDDCountry.SelectedValue) != null)
        {
            //transactions = ts.GetAllTransactionsByCountry(_UIFilterDDCountry.SelectedItem.Value);
            totalProfitcenterTranAmount = ts.GetTotalTransactionsForProfitcenter(_UIFilterDDCountry.SelectedItem.Value);

            _UITransactionGridView.DataSource = totalProfitcenterTranAmount;
        }

        else if ((_UIFilterDDCountry.SelectedValue) != null 
                && !string.IsNullOrEmpty(_UIFilterDDProfitcenter.SelectedValue) 
            && !string.IsNullOrEmpty(_UIFilterDDCostcenter.SelectedValue))
        {
            transactions = ts.GetAllTransactionsByYearCountryProfitcenterCostcenter(
                                            _UIFilterDDCountry.SelectedItem.Value,
                                            int.Parse(_UIFilterDDProfitcenter.SelectedItem.Value),
                                            int.Parse(_UIFilterDDCostcenter.SelectedItem.Value));
            _UITransactionGridView.DataSource = transactions;
        }
        _UITransactionGridView.DataBind();
        _UITransactionGridView.PageIndex = 0;
    } 
    ```****** 

 ******如果有人能引导我（asp.net 和 c# 的新手）找到正确的方向并提出更好的选择、逻辑、想法等，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:32:48.203

UIFilterDDCountry.SelectedValue 可以为空吗？还有绑定到下拉列表的值是什么。

此外，您需要将国家下拉列表设置为强制，在您的方法中删除国家下拉值检查，并在没有国家下拉检查的情况下反转条件检查

尝试使用下拉 selectedindex 值而不是选定值。

您可以使用单个 gridview 继续进行，但这将根据所选选项在运行时（代码隐藏）期间编写一些代码来更改列名等。否则只需使用 2 个 gridview 控件并根据所选选项设置其可见性。************

# php - Laravel v3.2.13-5 刀片模板不起作用

> ID：14954969
> 
> 赞同：0
> 
> 时间：2013-02-19T10:16:38.210
> 
> 标签：php, laravel, laravel-3, blade

我是 laravel 的新手，但我发现了一些非常奇怪的东西。

在我的刀片模板中，我写道：

```
@if( $appModule == 'someting' ) 
     Something
@elseif($appModule == 'somethingelse')
     SomethingElse
@else 
      Nothing 
@endif 
```

当我运行时出现错误：

> 未处理的异常
> 
> 信息：
> 
> 错误渲染视图：[布局]
> 
> 语法错误，意外的“？” 地点：
> 
> ...\storage\views/a5d6961979ebea7e1177c3836de35dd8 在第 41 行

我打开 'a5d6961979ebea7e1177c3836de35dd8' 发现这个：

```
<?php if( $appModule == 'someting' ) Something <?php else: ?>if($appModule == 'somethingelse'): ?> SomethingElse <?php else: ?> Nothing <?php endif; ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T15:07:00.313

尝试将（或创建新）文件`layout.blade.php`转换为以下格式/编码：`UNIX/ANSI`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T16:54:52.327

" `a5d6961979ebea7e1177c3836de35dd8`" 文件只是您的视图文件的刀片呈现的 PHP 版本。错误本身在您的视图文件中。

我注意到你输入了：

```
@if( $appModule == 'someting' ) 
```

那不应该是

```
@if( $appModule == 'something' ) 
```

# linker - 如何在 LLVM 3.2 和 Clang 3.3 中使用 Gold 进行链接时间优化？

> ID：14954975
> 
> 赞同：1
> 
> 时间：2013-02-19T10:16:49.937
> 
> 标签：linker, llvm, llvm-clang

llvm.org 上有关于如何将 Gold 插件添加到 LLVM-gcc 的说明；但是从 3.2 版开始，他们不再使用 LLVM-gcc，而是使用 Clang，并且不清楚如何使用它。

1.  有谁知道如何将 Gold 插件添加到 LLVM 3.2？
2.  我们是否需要安装这个插件，还是嵌入在 Clang 中？

我读过，如果您没有 Gold 插件作为链接器，如果您尝试`-O4`使用 LTO，它会将其视为`-O3`，但我想这是在您使用 gcc 系统链接器时而不是在使用 Clang 时，对吧？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T14:40:40.087

1-如果您不想更改 home/bin 目录中的任何内容，则可以在同一位置编译和安装 binutils 和 LLVM，它将在 llvm/bin 目录中自动生成 ld、ar 和（不是 ld_new）首先查看它自己的目录以查找工具（clang -print-search-dirs），因此您可以确定 clang 将首先在链接时调用 ld gold。LLVMgold.html 中没有提到它，但它需要在 lib 中创建 bfd-plugins 目录并在那里安装 LLVMgold.so 和 linLTO.so。

2-为了在 LLVM 中支持 LTO，我们需要黄金插件并且需要重新构建以支持它。-O4 类似于 -O3 -flto

# python - 在 ssh 上执行受限远程脚本，通过 python paramiko 连接本地参数

> ID：14954976
> 
> 赞同：1
> 
> 时间：2013-02-19T10:16:50.157
> 
> 标签：python, ssh, paramiko

好吧，我在远程站点 authorized_keys 文件上有一个受限命令关联，如下所示：

```
command="python /usr/share/my_script.py" ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDDxiK...... 
```

这个脚本应该带参数。

在本地站点上，我尝试使用 paramiko 使用本地参数启动远程脚本：

```
import sys, paramiko

host = '192.168.1.10'
port = 22
restricted_key = '/root/.ssh/restricted_key'

client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
client.connect(host, port=port, username=user, key_filename=restricted_key)

arg1, arg2, arg3 = ('python', 'is', 'cool')
command = 'python /usr/share/my_script.py %s %s %s' % (arg1, arg2, arg3)
stdin, stdout, stderr = client.exec_command(command)

if not stderr.readlines():
    return stdout.readlines()
else:
    raise IOError 
```

这是远程脚本 python /usr/share/my_script.py：

```
if __name__ == "__main__":
try:
    arg1, arg2, arg3 = (sys.argv[1], sys.argv[2], sys.argv[3])
    open('/tmp/just_a_test', 'a+').write('%s %s %s' % (arg1, arg2, arg3))
except Exception, e:
    print 'ERROR : %s' % str(e) 
```

脚本退出时没有错误，但似乎没有启动远程执行。我希望能够以 100% python 的方式做到这一点，因为这是可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T22:40:14.167

在 authorized_keys 命令中添加环境变量 $SSH_ORIGINAL_COMMAND 就可以了。

```
command="python /usr/share/my_script.py $SSH_ORIGINAL_COMMAND" ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDDxiK...... 
```

然后在我的 paramiko 执行中，我只是将要发送的参数发送到远程命令，如下所示：

```
command = '%s %s %s' % (arg1, arg2, arg3)
stdin, stdout, stderr = client.exec_command(command) 
```

# reporting-services - rdlc 报告中的版权符号

> ID：14954981
> 
> 赞同：0
> 
> 时间：2013-02-19T10:16:58.423
> 
> 标签：reporting-services, ssrs-2008, rdlc, rdl

我想在 rdlc 报告文本框中打印版权符号怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:31:10.327

您是否尝试过仅使用 © 字符？这工作正常：

![在此处输入图像描述](../Images/ec3e665746ffc7059dd65b5007c3eab3.png)

我刚刚添加了一个带有表达式的文本框`© Copyright Symbol ©`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-08-25T06:47:55.090

您可以将任何 nvarchar 符号存储在数据库中，然后将其绑定到报告。

```
 =Fields!CurrencySymbol.Value 
```

# c - 在实际打开文件之前验证文件路径

> ID：14954982
> 
> 赞同：0
> 
> 时间：2013-02-19T10:17:01.667
> 
> 标签：c, linux, file, validation, posix

假设 Linux，或者更一般地说是一个足够兼容 POSIX 的系统，是否有现成的方法来检查打开具有给定名称的文件是否会成功？最乐观的是，我正在寻找一个具有相同原型的函数的实现`open(2)`

```
int test_open(const char *pathname, int flags); 
```

它将根据`open(2)`具有相同参数的系统调用的预期成功或失败返回结果，但*不会实际创建或打开任何文件*。它应该被适当地许可（可在专有软件项目中重复使用）开源。

[`open(2)`手册页](http://man7.org/linux/man-pages/man2/open.2.html)`open(2)`列出了许多失败的原因。一个`errno`值可以解码多种原因，`errno`Linux 和 POSIX 不同。但粗略地说：

1.  我认为总的来说，以下情况`errno`最相关：`EACCESS`, `EEXIST`, `ENOENT`, `EISDIR`, `ENOTDIR`（POSIX 和 Linux）。
2.  不太重要：`ELOOP`, `EMFILE`, `ENFILE`, `ENAMETOOLONG`, `ENODEV`, `ENXIO`, `EOVERFLOW`, `EPERM`, `EROFS`, `ETXTBSY`, `EWOULDBLOCK`（POSIX 添加`EAGAIN`）。
3.  不相关（更多瞬态条件）：`ENOMEM`, `EINTR`, `ENOSPC`（POSIX 添加`EIO`, `ENOSR`）。

（我现在无法快速找到在线 POSIX 手册页`open()`，我个人指的是安装在我的 Linux 机器上的 POSIX 手册页 - 我会在找到在线链接时编辑问题。）

**背景和期望：**我的应用程序/系统配置架构要求在永久存储输入值之前需要对其进行验证。只有在执行了验证和存储步骤之后，文件才会用于写入。接受错误的值会带来巨大的不便（尝试实际更改以使用错误的文件路径会干扰操作）。我不能或不想为这种特殊情况例外（它只是一百多个配置值之一）。

`open()`我宁愿不通过创建文件（包含的标志）来引入验证的副作用`O_CREAT`。*很明显，在最一般的情况下，我正在寻找的检查不能 100% 可靠地实现*，这就是我将可能的错误情况分为三组的根本原因。通过分析目录权限、目录的存在以及是否已经存在阻碍打开文件的同名内容以及文件名是否有意义（我的第 1 组条件），我们可以做出*非常有根据的猜测。*（第 2 组检查符号链接的数量、文件描述符限制、名称长度限制、`O_NOATIME`权限、文件系统的可写性，可能`EWOULDBLOCK`还有 POSIX`EAGAIN`案例可以完成，但它们更麻烦并且可能不太便携，并且预计不太可能发生，除非恶意输入，这是将它们分类不太重要的原因）。

PS我添加了标签`c`，这是我现在的编程语言，但语言不是很相关。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T11:43:43.080

没有万无一失的方法可以做到这一点，因为（正如 Jite 评论的那样）其他一些进程可能已经改变了环境（例如，删除了父目录，或者填满了文件系统，超过了磁盘配额，......）`test_open`以及进一步的`open`或`creat`系统调用。或者磁盘（或包含文件系统的媒体，例如一些 USB 记忆棒）可能已烧毁或已拔出。

好的做法是检查结果`open`并`errno`在失败时使用。

您可以使用`access`之前检查一些事情。但是既然没有万无一失的方法，那何必呢？

[您可以使用realpath(3)](http://www.kernel.org/doc/man-pages/online/pages/man3/realpath.3.html)函数验证文件路径的目录部分...。但即使这样也没用，其他一些进程可能已经创建或删除了您`test_open`和真实之间的目录`open`

# c++ - 如何在 Eigen 中将行向量转换为列向量？

> ID：14954983
> 
> 赞同：16
> 
> 时间：2013-02-19T10:17:14.223
> 
> 标签：c++, eigen

[文档](http://eigen.tuxfamily.org/dox/TutorialMatrixClass.html)说：

> ...在 Eigen 中，向量只是矩阵的一种特殊情况，具有 1 行或 1 列。他们有 1 列的情况是最常见的；这样的向量称为列向量，通常缩写为向量。在另一种情况下，它们有 1 行，它们被称为行向量。

然而，这个程序输出不直观的结果：

```
#include <eigen3/Eigen/Dense>
#include <iostream>

typedef Eigen::Matrix<double, 1, Eigen::Dynamic> RowVector;

int main(int argc, char** argv)
{
    RowVector row(10);
    std::cout << "Rows: "    << row.rows() << std::endl;
    std::cout << "Columns: " << row.cols() << std::endl;
    row.transposeInPlace();
    std::cout << "Rows: "    << row.rows() << std::endl;
    std::cout << "Columns: " << row.cols() << std::endl;
} 
```

输出：

```
Rows: 1
Columns: 10
Rows: 1
Columns: 10 
```

这是一个错误，还是我错误地使用了该库？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-19T10:23:46.600

的文档`transposeInPlace`说：

> **笔记**
> 
> 如果矩阵不是方阵，则`*this`必须是可调整大小的矩阵。

您需要您的类型同时具有动态行和列：

```
Eigen::Matrix<double, Eigen::Dynamic, Eigen::Dynamic> 
```

但是，已经有一个`typedef`：`MatrixXd`.

或者，如果您仍然想要编译时大小，您可以使用`tranpose`而不是`transposeInPlace`给您一个新的转置矩阵，而不是修改当前的矩阵：

```
typedef Eigen::Matrix<double, Eigen::Dynamic, 1> ColumnVector;
ColumnVector column = row.transpose(); 
```

# jquery - 多读/少读

> ID：14954985
> 
> 赞同：1
> 
> 时间：2013-02-19T10:17:24.310
> 
> 标签：jquery

我不知道我的代码有什么问题：

```
$(document).ready(function(){

var adjustheight = 80;
var moreText = "+ read more";
var lessText = "- less text";

$("div.posted_post .more-block").css('height', adjustheight).css('overflow', 'hidden');
$("div.posted_post").append('[...]');

$("a.show").text(moreText);

$(".show").toggle(function()
    {
        $(this).find(".more-block").css('height', 'auto').css('overflow', 'visible');
        $(this).text(lessText);
    }, function(){
        $(this).find(".more-block").css('height', adjustheight).css('overflow', 'hidden');
        $(this).text(moreText);
    });
}); 
```

html 看起来像这样：

```
<div class="posted_post">
    <div class="more-block">
        <p>The Content</p>
            <a class="show"></a>
    </div>
</div> 
```

当我加载页面时，显示更多按钮被显示，但在一秒钟内它被隐藏这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:24:16.583

您实际上并没有创建按钮。你需要做

```
$('<a class="show"/>').text(moreText).appendTo('.posted_post'). 
```

但是，如果您有多个帖子，则需要遍历它们以创建更多链接。例如：

```
$("div.posted_post").each(function () {
     // create more links and set CSS. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:48:33.807

您尝试使用的切换已在 jQuery 1.9 中删除（自 1.8 起已弃用）

见[http://api.jquery.com/toggle-event/](http://api.jquery.com/toggle-event/)

因此，通过调用切换，您实际上是在切换您的元素（如果您使用的是 jq1.9）

顺便提一句 ：

```
$(this).find(".more-block") 
```

不会返回任何东西。

它应该是 ：

```
$(this).closest(".more-block") 
```

您可以尝试这样的事情：

```
$(document).ready(function(){

var adjustheight = 80;
var moreText = "+ read more";
var lessText = "- less text";

$("div.posted_post .more-block").css('height', adjustheight).css('overflow', 'hidden');
$("div.posted_post").append('[...]');

$("a.show").text(moreText);

$(".show").click(function()
    {
        if($(this).text()===lessText)
        {
            $(this).closest(".more-block").css('height', adjustheight).css('overflow', 'hidden');
            $(this).text(moreText);
        }
        else
        {
            $(this).closest(".more-block").css('height', 'auto').css('overflow', 'visible');
            $(this).text(lessText);
        }
    });
}); 
```

# visual-studio-2012 - 如何将部分项目 VS2010 数据库转换为 VS2012 数据库项目

> ID：14954988
> 
> 赞同：2
> 
> 时间：2013-02-19T10:17:28.530
> 
> 标签：visual-studio-2012, database-project

我想将 VS 2010 数据库项目升级到 VS 2012。

由于许多自定义和配置，项目被许多部分项目吐槽。

是否有任何类似于 VS 2012 中的部分项目的功能，可以在这种情况下使用，以构建具有许多 db 块的数据库？

# width - GraphViz 设置页面宽度

> ID：14954992
> 
> 赞同：5
> 
> 时间：2013-02-19T10:17:46.700
> 
> 标签：width, graphviz, output

我正在使用 GraphViz 来确定我的 C# 应用程序中的控件位置。

但我无法为 graphViz 点生成器提供输出的宽度。

这是我使用的点文件的参数

```
Digraph x {
    autosize=false;
    size="25.7,8.3!";
    resolution=100;
    node [shape=rect];
    (edges definitions comes here)
     ... 
```

但似乎对生成的明文文件没有影响。

我错过了一些设置页面宽度的东西吗？

问候

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T13:12:57.387

我添加`a -> b`到您的示例中。这是我得到的明文输出：

```
digraph x {
    graph [autosize=false, size="25.7,8.3!", resolution=100];
    node [label="\N", shape=rect];
    graph [bb="0,0,54,108"];
    a [pos="27,90", width=0.75, height=0.5];
    b [pos="27,18", width=0.75, height=0.5];
    a -> b [pos="e,27,36.104 27,71.697 27,63.983 27,54.712 27,46.112"];
} 
```

如您所见，`size`和`resolution`属性包含在输出中。

您可以更改 and 的值`size`，`resolution`这不会更改*纯文本*输出中的那些属性之外的任何其他内容。所有节点和边的位置都**相**对于图的边界框 ( `bb`)。

但是，如果您决定例如输出*png*，graphviz 将使用此信息根据您的`size`和`resolution`属性缩放边界框并计算最终图像大小。

在此示例中，生成的 png 将为 444 x 831 像素（8.3 英寸，分辨率为 100 dpi 的结果为 830 像素，顶部的像素可能是由于舍入误差）。

[您可以在此答案](https://stackoverflow.com/a/5837414/63733)`size`中找到有关属性和生成的图像大小的更详细示例。

# facebook - facebook api FB.ui Feed Dialog 描述最大长度

> ID：14954993
> 
> 赞同：4
> 
> 时间：2013-02-19T10:17:47.010
> 
> 标签：facebook, api, fb.ui

FB.ui 中的“描述”中可能包含的最大字符长度是多少

```
var obj = {

          description: 'Max lenght???.'
        }; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-17T12:18:31.477

我今天已经测试并记录了它。请在下面找到 fb.ui 提要对话框：

a) 第一行的最大长度，假设该行包含多个单词。长词被截断得更快。

b) 对话中从不截断的总长度。

# 清单：

*   字段名称（标题）：第一行：50c，总长度：75c。
*   标题：第一行：50c，总长度：75c。
*   说明：第一行：50c，总长度：512c（可能更多，但是谁需要超过 512 个字符）。

# 奖金：

*   图片尺寸：90x90 像素。建议参考具有 2x 3x 分辨率的图像以获得最佳显示效果，但请记住它必须具有平方尺寸。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T10:27:38.580

我认为它没有最大长度，但在大约 205-208 个字符之后，它会在文本中放置 3 个点，其余文本可以通过单击“查看更多”链接查看。如果有很长的描述，它实际上会在那里放置一个“查看更多”链接。

# c++ - 删除数组时出现堆损坏错误

> ID：14954996
> 
> 赞同：0
> 
> 时间：2013-02-19T10:17:57.370
> 
> 标签：c++, mergesort, dynamic-arrays

我正在尝试读取包含随机数列表的文本文件，并使用合并排序对它们进行排序以显示。这些数字被读入动态数组。不幸的是，每当我尝试删除未使用的数组时，都会检测到堆损坏错误。

合并排序功能：

```
void mergesort(int *arr, int first, int last)
{
if(first < last)
   {
   int middle = ((first + last)/2);
   mergesort(arr, first, middle);
   mergesort(arr, middle+1, last);
   merge(arr, first, last); 
   }
} 
```

当我删除 tempArr 时，合并函数中发生错误：

```
void merge(int *arr, int first, int last)
{
int *tempArr = new int[last];

int mid = (first+last)/2;
int first1 = first;
int last1 = mid;
int first2 = mid + 1;
int last2 = last;

int index = first1;

for(; (first1 <= last1) && (first2 <= last2); ++index)
{
    if (arr[first1] < arr[first2])
    {
        tempArr[index] = arr[first1];
        ++first1;
    }
    else
    {
        tempArr[index] = arr[first2];
        ++first2;
    }
}

for(; first1 <= last1; ++first1, ++index)
    tempArr[index] = arr[first1];

for(; first2 <= last2; ++first2, ++index)
    tempArr[index] = arr[first2];

for(index=first;index<=last;++index)
    arr[index] = tempArr[index];

delete [] tempArr;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T10:34:49.723

问题似乎是您将数组分配为`int *tempArr = new int[last]`. 它的元素个数是`last`，它们的索引是`0`, `1`, ... `last - 1`。

在函数结束时，你有这个：

```
for(; first2 <= last2; ++first2, ++index)
    tempArr[index] = arr[first2]; 
```

`last2`被初始化为 的值`last`。这意味着循环中的最终分配将是 when `index == last`，因此您正在访问`tempArr[last]`. 这超出了数组范围。