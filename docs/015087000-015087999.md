# StackOverflow 问答 15087000-15087999

# php - 带有 http 重定向的 WorldPay 支付响应

> ID：15087001
> 
> 赞同：0
> 
> 时间：2013-02-26T10:42:29.613
> 
> 标签：php, worldpay

响应 URL 是`worldpay-response.php`。当我这样做时`print_r($_POST);`，我得到了从 WorldPay 返回的数组。但是，当我尝试将发布的变量保存到会话中并重定向到确认页面时

```
元 http-equiv="刷新" 内容="0;url=http://localhost/confirmation.php"
```

`$_SESSION`变量没有它们。你知道我该如何解决这个问题吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:47:02.533

我唯一能想到的是：

**确保在代码的第一行使用 session_start()。**

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T20:16:26.010

这可能与您正在执行的重定向类型有关。为什么不使用 PHP 来做呢？

```
header("Location: " . http://localhost/confirmation.php); 
```

# mongodb - 仅在部分查询中使用 mongoDB 索引

> ID：15087006
> 
> 赞同：0
> 
> 时间：2013-02-26T10:42:40.560
> 
> 标签：mongodb, indexing, querying

我有以下情况：

*   我有一个包含文件的集合，例如

> ```
> {a: 1, b: 'some string', c: 5, d: 7 }
> {a: 2, b: 'some another string', c: 5, d: 8 }
> {a: 3, b: 'yet another string', c: 5, d: 9 } 
> ```

*   我允许用户使用自定义查询进行搜索，所以有时我可以搜索：

> ```
> {a: 2, c:5}
> {c:5, d:8} 
> ```

*   一些使用的字段是强制性的（例如c）
*   我考虑过为 c 设置索引，这样查询会更快，当我这样做时：

> db.my_collection.find({c:5})

它很好用，但是当我启动时：

> db.my_collection.find({c:5,d:8})

当没有索引时，它消耗相同的时间:(

所以我的问题是：是否可以设置某种部分索引，以便查询首先在具有索引的键中搜索，而不是在没有索引的键中搜索？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:55:54.277

我的原始答案不准确，我没有正确阅读。

> 所以我的问题是：是否可以设置某种部分索引，以便查询首先在具有索引的键中搜索，而不是在没有索引的键中搜索？

MongoDB 已经这样做了，但是您可能会在`d`整个文档的选择性、格式和大小方面遇到问题。

即使 MongoDB 已经过滤`c`了索引，它也需要`ScanObjects`实际数据，将文档分页。

的选择性`d`可能会导致您从该子句返回大量文档`c`并导致对`d`.

因此，这些因素加在一起可能会使您的查询变慢。

通常解决这个问题的最好方法是在这里不使用部分索引，而只是创建一个完整的复合索引。

# git - 20GB 项目上的 Git 扩展需要太长时间（并且像 100 个 git.exe 进程一样打开）只是为了在暂存之前显示更改

> ID：15087012
> 
> 赞同：4
> 
> 时间：2013-02-26T10:42:52.177
> 
> 标签：git, git-extensions

当我在一个非常大的项目（5GB 和大量文件）上运行 Git Extensions 时，在暂存之前需要很长时间（并且产生 100 个 git.exe 进程）来向我显示更改。

```
.git folder has: 7.5 GB
only my files: ~20GB 
```

我真的不知道该怎么做才能让它工作......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-21T23:54:00.870

Git 现在真正的氪石确实是巨大的存储库（想想 GB 大小的文件）

人们会对你大喊“你不应该对二进制文件进行版本控制”。如果文件是不变的，他们是对的......

但是，**无论**文件大小如何，如果文件经常更改（您定期“打开它”、“更改一些内容”和“推送保存”），则该文件有多个**版本**。根据定义，您需要**版本**控制

## 不在 Windows 上

如果您不必处理 Windows，那么您的答案很简单。根本没有竞争：[git-annex](http://git-annex.branchable.com/)是您正在寻找的；没有 Windows 的东西确实会伤害

## 在 Windows 上

对于我们这些停留在 Windows 上的人来说，[这个 stackexchange 线程](https://softwareengineering.stackexchange.com/questions/80962/should-images-be-stored-in-a-git-repository)和[这个 stackoverflow](https://stackoverflow.com/questions/104453/version-control-for-binaries)都有一些很好的指导，但没有灵丹妙药:(

我目前最大的希望是 git-annex[可能会进入 Windows](http://git-annex.branchable.com/design/assistant/)，或者[bup 变得](https://github.com/bup/bup)不那么“流血边缘”

# android - 如何使用 AndEngine gles1 检测屏幕边界？

> ID：15087015
> 
> 赞同：0
> 
> 时间：2013-02-26T10:42:54.730
> 
> 标签：android, opengl-es, andengine, game-engine

我尝试了使用gles1的小游戏代码`AndEngine`，在其中我沿着屏幕移动精灵。我用来`AnalogOnScreenControl`沿着屏幕移动我的精灵。当我测试它时，精灵也会沿着屏幕边界移动，这意味着它会在屏幕完成后向上、向左、向右、向下移动。然后我将顶线作为图像并检查精灵和线条之间的碰撞，然后精灵会粘在顶线上不会移动到任何地方，所以我尝试`onAccelerometerChanged()`了方法，但它也不起作用。

所以，请帮助我如何检测屏幕边界，以使精灵不会超出屏幕边界。有这方面的教程吗，请给我链接。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:18:01.820

如果它类似于数字控件，那么您应该覆盖该方法`onControlChange()`。在这种方法中，您只需要设置类似

```
//As long as the sprite is in the bounds, then move the sprite
if(mSprite.getX() > 0 && mSprite.getX() + mSprite.getWidth() < CAMERA_WIDTH && 
      mSprite.getY() > 0 && mSprite.getY() + mSprite.getHeight() < CAMERA_HEIGHT){
     //Move the sprite here
 } 
```

本质上，您要使用希望确保精灵在场景的范围内，这是由您设置的相机确定的。

# sql-server - 分层数据 - 递归 CTE 加 PIVOT？

> ID：15087018
> 
> 赞同：3
> 
> 时间：2013-02-26T10:43:03.720
> 
> 标签：sql-server, hierarchy, common-table-expression

我有以下自引用分层表：

```
SubCodes

ID int PK
ParentID int
Code varchar(25)
FKID int 
```

例如

```
ID    FKID      ParentID    Code
1     25        NULL        1100
2     NULL      1           1110
3     NULL      2           1111 
```

我想写一个查询以便我回来

```
FKID    Answer                IDOfLowestNode
25      '1100,1110,1111'      3 
```

我怀疑我需要一个 CTE 和一个 PIVOT - 但这只是在扭曲我的大脑如何去做 - 任何线索？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:17:15.380

试试这个

```
declare @SubCodes table (ID int,ParentID int,Code varchar(25),FKID int)

insert into @SubCodes (ID,FKID,ParentID,Code)
values
(1,     25,        NULL,        1100),
(2,     NULL,      1,           1110),
(3,     NULL,      2,           1111)

;with cte as
(
  select ID RootID,ID,ParentID,Code, CAST(Code as varchar(500)) answer
  from @SubCodes
  where ParentID is null
  union all
  select cte.RootID,sc.ID,sc.ParentID,sc.Code, CAST(cte.answer+','+sc.Code as varchar(500))
  from @SubCodes sc
        join cte on cte.ID=sc.ParentID
)
select c.answer, r.id LowestNode
from cte c
     join (select RootID, MAX(id) id FROM cte GROUP BY RootID) r ON c.ID=r.id 
```

# c++ - 使用结构数组计算？

> ID：15087019
> 
> 赞同：5
> 
> 时间：2013-02-26T10:43:11.933
> 
> 标签：c++, arrays, file-io, struct

我对这个专注于使用结构数组的项目非常迷茫。我们刚刚了解了他们。我想我在浏览了我们的一些实验室并查看了相关问题后了解了它的基础知识：

**StackOverflow**
[传递结构](https://stackoverflow.com/questions/5526415/trouble-passing-an-array-of-structs)
[数组的问题 结构指针数组](https://stackoverflow.com/questions/11564336/array-of-pointers-to-structures)
[如何初始化结构数组？](https://stackoverflow.com/questions/8570707/how-to-initialize-array-of-structures-with)
[结构中的数组 在 C++ 中](https://stackoverflow.com/questions/5071410/arrays-in-stuctures)
[创建结构数组](https://stackoverflow.com/questions/7239220/creating-an-array-of-structs-in-c)
[如何在 C++ 中初始化结构数组？](https://stackoverflow.com/questions/8534526/how-to-initialize-an-array-of-struct-in-c)

**Cplusplus**
[声明结构数组 结构](http://cplusplus.com/forum/beginner/15042/)
[数组 C++ 程序帮助](http://cplusplus.com/forum/beginner/82097/)
[结构动态数组的问题](http://cplusplus.com/forum/general/5385/)

我真的很感谢任何人可以提供的任何建议或帮助。我们被允许使用这个旧实验室（它是在我们完成这个实验室后立即分配的，现在我们已经过去了 3 个实验室）作为起点：

**动态数组**

```
// Assignment : Lab 
// File : Lab.cpp

// Description : This program will take a text file called words.txt and then swap 
// its individual (word)strings. Finally, it will calculate the vowels, consonants,   
// digits, and special characters in each string.

#include <iostream>
#include <fstream>
#include <iomanip>
#include <cstdlib>

using namespace std;
bool isvowel (char aletter);
// const int MAXWORDS = 100;

struct worddata
{
  worddata (); 
  string word;
  int vowels;
  int consonants;
  int digits;
  int specialchars;
 };

 int ReadFile (ifstream & input, worddata * & Words);
 void WriteReport(ostream & output, worddata Words [], int count);
 void Swap (worddata & a, worddata & b);
 void WordSort (worddata W [], int N);

 int main (int argc, char * argv [])
 {
   // Check to see if the user entered a file name
   // Exit if no file name
   if (argc < 2)
   {
      cout << "Usage: " << argv[0] << " <filename>\n";
      exit (1);
    }
   // Open the input file
   ifstream input (argv[1]);
   if (input.fail())
   {
      cout << "File: " << argv[1] << " not found\n";
      exit (2);
   }
   // Declare a pointer to an array of worddata objects
   // to hold the words and their vowel, consonant, digit, and  
   // special character counts.
   // worddata WordArray [MAXWORDS];
   worddata * WordArray;

   // Call the ReadFile function to read the file, store the 
   // words in the array and return the number of words read
   // from the file.
   int count = ReadFile (input, WordArray);

   // Call the WordSort function to sort the words into
   // alphabetical order.
   WordSort (WordArray, count);

   // Call the WriteReport function to write the data
   // stored in the array in a formatted fashion.
   WriteReport (cout, WordArray, count);

   return 0;
   }

   worddata::worddata ()
   {
     vowels = 0;
     consonants = 0;
     digits = 0;
     specialchars = 0;
   }

int ReadFile (ifstream & input, worddata * & Words)
{

    int count = 0;
    string oneword;
    // Read and count the words in the file
    while (input >> oneword)
    count++;
    // Allocate space for the number of words counted by the
    // previous loop
    Words = new worddata [count];
    // Clear the fail flag
    input.clear();
    // Reposition the file pointer to the beginning of the file
    input.seekg (0, ios::beg);
    count = 0;

    // Read the words from the file into the array
    while (input >> Words[count].word)
    {
      // Count the number of vowels, consonants, digits
      // and special characters in the word and store them
      // in the object Words [count]

      string aword = Words[count].word;

      // Number of letters in word
      int l = 0;
      while (l < aword.length())
      {
         if (isvowel(aword[l]))
           Words[count].vowels++;
         else if (isalpha(aword[l]))
           Words[count].consonants++;
         else if (isdigit(aword[l]))
           Words[count].digits++;
         else
           Words[count].specialchars++;
      l++;
      }
      count++;
   }
  // Close the file
  input.close ();
  // Return the size of the Words array
  return count;
}

void WriteReport (ostream & output, worddata Words [], int count)
{
  worddata totals;
  totals.vowels, totals.consonants = 0;
  totals.digits, totals.specialchars = 0;

  output << setw (14) << left << "Word";
  output << setw (8) << right << "Vowels";
  output << setw (8) << "Const.";
  output << setw (8) << "Digits";

  output << setw (8) << "Special" << endl;;

 for(int i = 0; i < count; i++)
 {
      output << setw (14) << left << Words[i].word;
      output << setw (8) << right << Words[i].vowels;
      totals.vowels += Words[i].vowels;
      output << setw (8) << Words[i].consonants;
      totals.consonants += Words[i].consonants;
      output << setw (8) << Words[i].digits;
      totals.digits += Words[i].digits;
      output << setw (8) << Words[i].specialchars << endl;
      totals.specialchars += Words[i].specialchars;
  }
 {
    output << setw (14) << left << " ";
    output << setw (8) << right << "---";
    output << setw (8) << "---";
    output << setw (8) << "---";
    output << setw (8) << "---" << endl;
    output << setw (14) << left << "Totals";
    output << setw (8) << right << totals.vowels;
    output << setw (8) << totals.consonants;
    output << setw (8) << totals.digits;
    output << setw (8) << totals.specialchars << endl;
  }
}

void Swap (worddata & a, worddata & b)
{
  worddata t = a;
  a = b;
  b = t;
}

void WordSort (worddata W [], int N)
{
  int i = 1;
  while(i < N)
  {
      int j = i;
      while(j > 0 && W[j].word < W[j-1].word)
      {
          Swap(W[j], W[j-1]);
          j--;
      }
      i++;
  }
}

// Returns true/false depeninding if a letter in a word is a vowel or not
bool isvowel (char aletter)
{
  char upcase = toupper (aletter);
  if (upcase == 'A' || upcase == 'E' || upcase == 'I' || upcase == 'O' || upcase == 'U')
    return true;
  return false;
} 
```

[项目链接](http://watts.cs.sonoma.edu/cs215s13/Project1.pdf)

**这是我到目前为止所写的，没有迷路或被遗忘**

```
#include <iostream>
#include <string>
#include <iomanip>
#include <fstream>
#include <vector>
#include <sstream>
#include <cstdlib>

using namespace std;
// const int ListSize = 50;

struct Assignment {
  char atype;
  string date;
  float received;
  int possible;
  string title;
};

// functions used by main
int ReadFile(ifstream& input, Assignmnent list[], int listSize);
void WriteReport(ostream & output, Assignment list [], int numRecords);
void Swap (Assignment & a, Assignment & b);
void CategorySort (Assignment C [], int N);

int main() {
  // Check to see if the user entered a file name
  // Exit if no file name
  if (argc < 2)
  {
    cout << "Usage: " << argv[0] << " <filename>\n";
    exit (1);
  }
  // Open the input file
  ifstream input (argv[1]);
  if (input.fail())
  {
    cout << "File: " << argv[1] << " not found\n";
    exit (2);
  }

  int numRecords = ReadFile(input, Assignmnent list[], int listSize);

  if(numRecords > ListSize+1)
  {
    cout << "Too Many Records for this program to read" << endl;
    system("read");
    return -1;
  }

  // no records?
  if(numRecords == 0)
  {
    cout << "Empty File" << endl;
    system("read");
    return -1;
   }
} 
```

我也知道我可能会使用 getline。就是这样。一旦我有了一个关于如何处理 ReadFile 并声明其中一些范围的大纲，我就会有一种感觉。我只是非常谨慎，不确定是否要开始。此外，如果原型看起来很奇怪，我是基于我在另一所学校的另一个班级看到的实验室，所以我不知道它们是否在这种情况下工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T00:20:16.073

由于这是一项任务，我不想只是给出任何答案，但这里有一些应该有所帮助的东西。

我阅读了您的作业，但在任何地方都没有看到动态一词。这意味着您只需创建大小为 50 的数组即可开始。

```
// non dynamic array allocation:
assignments assign[50];
// dynamic allocation containers
vector<assignments> assign;  // array list
list<assignments> assign;    // linked list
queue<assignments> assign;   // queue list, useful with insertion sort 
```

要解析输入数据，我建议[`getline`](http://www.cplusplus.com/reference/istream/istream/getline/)将[`strtok`](http://www.cplusplus.com/reference/cstring/strtok/?kw=strtok)行拆分为正确的数据。

例子：

```
int linelength = 256; // don't forget the +1 for end of string terminator
char *whitespaces = " \t" // \n and \0 will never be part of the token based on getline
char line[256]; // or some other safe number length
char *token; // no need to define size

inputstream.getline(line, 256);
token = strtok(line, whitespaces);
// save token to correct location
token = strtok(NULL, whitespaces);
// save token to correct location
token = strtok(NULL, whitespaces);
// save token to correct location
// ... 
```

只是不要指望在 s`line`之后使用`strtok`。

至于你的`ReadFile`函数，我会给它输入流并让它返回一个动态容器。我尽量减少修改参数的频率。

```
vector<assignment> load(istream) {
    // stuff like the second block of code goes here
    return assign;
} 
```

希望这可以帮助。

谢谢，

*   将要

# vb.net - 单击Visual Studio中的菜单项时如何仅查看1个选项卡PAGE

> ID：15087022
> 
> 赞同：0
> 
> 时间：2013-02-26T10:43:16.870
> 
> 标签：vb.net, menustrip

我有一个带有 2 个标签页的标签控件和一个带有 2 个项目的菜单条。当我单击 menuStrip 中的第 1 项时，我只想查看 TAB PAGE 1。

我试过了

```
Private Sub item1ToolStripMenuItem_Click(...)
    TabPage2.Select()        
    TabPage2.Show()
    TabPage2.Visible = True
    TabPage1.Visible = False
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:15:37.297

TABPAGES 没有任何可见属性............您可以使用 PageEnabled = True/False 代替它。或者，您可以从选项卡控件中删除选项卡页并重新添加。

你可以这样做

```
tabControl1.TabPages.Add(YourSpecificTabPage)
tabControl1.TabPages.Remove(YourSpecificTabPage) 
```

参考：[1\. VB.Net 隐藏标签页](https://stackoverflow.com/questions/9055672/vb-net-hide-tabpage) [2\. 以编程方式隐藏/删除 VB.NET 中的标签页](https://stackoverflow.com/questions/12740073/programatically-hide-remove-tabpages-in-vb-net)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:06:42.037

如果您正在使用`TablControl`，以下是可行的。[流动的帖子也有替代解决方案。](http://social.msdn.microsoft.com/Forums/en-US/vbgeneral/thread/00dd3e0c-17b7-4375-a77a-dac752641beb/)

```
TabControl1.TabPages.RemoveByKey("Selection") 
```

# ios - 提高核心数据重复验证效率

> ID：15087023
> 
> 赞同：0
> 
> 时间：2013-02-26T10:43:20.073
> 
> 标签：ios, objective-c, core-data

我的数据库类中有一个方法可以验证给定值是否存在于实体中。除了我正在尝试优化此方法外，一切都运行良好。你们能告诉我这段代码是否可以进一步优化吗？

```
- (NSUInteger)recordAlreadyExists:(NSString*)string forEntity:(NSString*)entityName forKey:(NSString*)key
{
    NSManagedObjectContext *newContext = [Helper generateNewContext];
    NSEntityDescription *entity = [NSEntityDescription entityForName:entityName inManagedObjectContext:newContext];
    [newContext setUndoManager:nil];
    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc]init];
    [fetchRequest setEntity:entity];
    [fetchRequest setFetchLimit:1];
        //NSString *predicateString = [NSString stringWithFormat:@"%K LIKE \"%@\"", key, string];//,key,string];
    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"%K LIKE %@", key, string];
    [fetchRequest setPredicate:predicate];
    NSError *error;
    NSUInteger resultsCount = [newContext countForFetchRequest:fetchRequest error:&error];

    if(resultsCount)
        return resultsCount;
    return 0;
} 
```

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:54:15.877

我有两个建议：

*   `"%K == %@"`在谓词中测试完全相等，而不是`"%K LIKE %@"`.

`LIKE`使用简单的通配符 ( `*`, `?`) 进行比较，因此例如搜索“J*”也会找到条目“John”。这比测试相等性要慢，并且可能不是故意的。

*   为属性创建索引。

如果您必须非常快速地搜索某些属性，您可以在 Core Data 检查器中为该属性设置“索引”属性。

*备注：*请注意，如果执行请求时出错，则`countForFetchRequest:`返回`NSNotFound`，因此您还应该检查该返回值。

# c# - 在单个 HTTPWebRequest 中上传多个文件

> ID：15087028
> 
> 赞同：6
> 
> 时间：2013-02-26T10:43:32.197
> 
> 标签：c#, wcf, web-services, rest, fiddler

我创建了一个接受两件事的服务：

1) 称为“类型”的主体参数。

2）要上传的csv文件。

我正在像这样在服务器端阅读这两件事：

```
 //Read body params
 string type = HttpContext.Current.Request.Form["type"];

 //read uploaded csv file
 Stream csvStream = HttpContext.Current.Request.Files[0].InputStream; 
```

我该如何测试这个，我正在使用**Fiddler**来测试这个，但我一次只能发送一个东西（类型或文件），因为这两个东西的内容类型不同，我如何使用内容类型**multipart/form-data**和**application/x-www-form-urlencoded**同时。

即使我使用此代码

```
 public static void PostDataCSV()
    {
        //open the sample csv file
        byte[] fileToSend = File.ReadAllBytes(@"C:\SampleData.csv"); 

        string url = "http://localhost/upload.xml";
        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
        request.Method = "POST";
        request.ContentType = "multipart/form-data";
        request.ContentLength = fileToSend.Length;

        using (Stream requestStream = request.GetRequestStream())
        {
            // Send the file as body request. 
            requestStream.Write(fileToSend, 0, fileToSend.Length);
            requestStream.Close();
        }

        HttpWebResponse response = (HttpWebResponse)request.GetResponse();

        //read the response
        string result;
        using (StreamReader reader = new StreamReader(response.GetResponseStream()))
        {
            result = reader.ReadToEnd();
        }

        Console.WriteLine(result);
    } 
```

这也不会向服务器发送任何文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T18:33:27.850

您上面的代码不会创建正确的多部分主体。

您不能简单地将文件写入流中，每个部分都需要一个带有每个部分标题的前导边界标记等。

请参阅[使用 HTTPWebrequest (multipart/form-data) 上传文件](https://stackoverflow.com/questions/566462/upload-files-with-httpwebrequest-multipart-form-data)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T10:49:57.863

有关您的多个 contentTypes 问题的一些信息：http: [//www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7.2](http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7.2)

multipart/form-data 是通过 http 协议发送多种数据类型的唯一方法。

# eclipse - 无法为 Eclipse Juno 安装 Scala IDE 插件

> ID：15087031
> 
> 赞同：1
> 
> 时间：2013-02-26T10:43:48.733
> 
> 标签：eclipse, scala, scala-ide

我尝试为 Eclipse Juno M20120914-1800 安装以下插件：

[http://download.scala-ide.org/nightly-scala-ide-3.0.x-210x](http://download.scala-ide.org/nightly-scala-ide-3.0.x-210x)

我正在运行 Mountain Lion (OS X 10.8.2)，我的 Java 和 Scala 版本如下：

```
java version "1.6.0_41"
Java(TM) SE Runtime Environment (build 1.6.0_41-b02-445-11M4107)
Java HotSpot(TM) 64-Bit Server VM (build 20.14-b01-445, mixed mode)

Scala code runner version 2.10.0 -- Copyright 2002-2012, LAMP/EPFL 
```

当我尝试安装 Scala IDE 插件时，该过程被阻止并且 Eclipse 显示此错误：

```
Cannot complete the install because of a conflicting dependency.
Software being installed: Scala IDE for Eclipse 3.0.0.nightly-2_10-201302251757-3951e3e     
(org.scala-ide.sdt.feature.feature.group 3.0.0.nightly-2_10-201302251757-3951e3e)

Only one of the following can be installed at once: 

Object Teams Development Tooling Core 3.8.1.v_OTDT_r210_201206090452 
(org.eclipse.jdt.core 3.8.1.v_OTDT_r210_201206090452)

Java Development Tools Core 3.8.1.v20120531-0637 
(org.eclipse.jdt.core 3.8.1.v20120531-0637)

Java Development Tools Core 3.7.3.v20120119-1537 
(org.eclipse.jdt.core 3.7.3.v20120119-1537)

Object Teams Development Tooling Core 3.8.2.v_OTDT_r211_201209011847 
(org.eclipse.jdt.core 3.8.2.v_OTDT_r211_201209011847)

Java Development Tools Core 3.8.2.v20120814-155456 
(org.eclipse.jdt.core 3.8.2.v20120814-155456)

Cannot satisfy dependency:

From: JDI Debug UI 3.6.100.v20120530-1425 
(org.eclipse.jdt.debug.ui 3.6.100.v20120530-1425)

To: bundle org.eclipse.jdt.launching [3.6.100,4.0.0)

Cannot satisfy dependency:

From: Java Development Tools Launching Support 3.6.100.v20120523-1953
(org.eclipse.jdt.launching 3.6.100.v20120523-1953)

To: bundle org.eclipse.jdt.core [3.8.0,4.0.0)

Cannot satisfy dependency:

From: Scala Plugin 3.0.0.nightly-2_10-201302251757-3951e3e 
(org.scala-ide.sdt.core 3.0.0.nightly-2_10-201302251757-3951e3e)

To: bundle org.eclipse.jdt.core [3.6.0,3.7.10)
Cannot satisfy dependency:

From: Scala IDE for Eclipse 3.0.0.nightly-2_10-201302251757-3951e3e 
(org.scala-ide.sdt.feature.feature.group 3.0.0.nightly-2_10-201302251757-3951e3e)

To: org.eclipse.jdt.debug.ui 0.0.0

Cannot satisfy dependency:

From: Scala IDE for Eclipse 3.0.0.nightly-2_10-201302251757-3951e3e 
(org.scala-ide.sdt.feature.feature.group 3.0.0.nightly-2_10-201302251757-3951e3e)
To: org.scala-ide.sdt.core [3.0.0.nightly-2_10-201302251757-3951e3e] 
```

如果有人可以提供帮助，我将不胜感激...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T10:57:13.397

您尝试安装的每晚都适用于 Indigo (eclipse 3.7)。

请参阅[下载页面](http://scala-ide.org/download/nightly.html)。

你想要的 Juno 和 scala 2.10 nightly 站点是这个：

[http://download.scala-ide.org/nightly-scala-ide-juno-210x](http://download.scala-ide.org/nightly-scala-ide-juno-210x)

# caching - 缓存一致性：基于目录的监听

> ID：15087035
> 
> 赞同：0
> 
> 时间：2013-02-26T10:44:00.807
> 
> 标签：caching, cpu-cache, multiprocessor

据我了解：基于目录的系统更加以服务器为中心设计，而窥探更加以点对点为中心。

这就是为什么基于目录的任何未读消息需要更少的消息，因为它可以在检查目录后到达拥有有效数据的处理器。

窥探只是询问所有其他处理器，这是 n-1 条消息。

因此基于目录的系统可以扩展更多。

现在我的问题是：如果只有一个中央目录，那么当有太多处理器在读取未命中后询问时，它不会面临瓶颈吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:43:16.540

如果您要询问的情况是：如果所有（或 N-1 个）处理器同时发生读取未命中（这通常会生成读取共享消息），那么是的，所有 N-1 个处理器都会发送一条消息到目录，所有人都需要回复。这种情况实际上只有在每个处理器都在同一个自旋锁上等待时才会频繁发生。解决方案不是修复一致性协议（尽管有很多选择），而是使用更好的算法。通常人们使用基于队列的锁定算法（例如，著名的[Mellor-Crummey 和 Scott](http://www.cs.rice.edu/~johnmc/papers/tocs91.pdf)锁定算法）。

自旋锁类似于每个人同时问“我们到了吗？” 一遍又一遍。使用基于队列的锁，每个人都会拿到一个号码并排队。然后，当资源可用时，排队的下一个人会通过私有变量的直接通知来获取它。

只是为了澄清一些事情，虽然（通常）在逻辑上存在一个中央目录，但它并不是在物理上都在一个地方。特定内存位置的目录条目通常位于具有支持该内存的物理 DRAM 的处理器上。

# backbone.js - 确保在 Backbone 中触发路由之前完成 AJAX 请求

> ID：15087041
> 
> 赞同：1
> 
> 时间：2013-02-26T10:44:18.257
> 
> 标签：backbone.js

我们有一个可怕的异步情况，而我们需要在路由器触发它的路由之前完成某些 AJAX 请求。

如何确保在主干路由器触发任何路由之前触发了某些 AJAX 请求？

我知道更多的概念性问题，但任何建议都值得赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:07:18.850

路由只会在[`Backbone.history.start`](http://backbonejs.org/#History-start)被调用时触发：

> **start** *Backbone.history.start([options])*
> 当你的所有路由器都创建好并且所有路由都设置正确后，调用 Backbone.history.start() 开始监控 hashchange 事件并调度路由。

这意味着您可以通过在进行此调用之前等待您的 Ajax 请求完成来实现您想要的。

假设您使用 jQuery>=1.5 作为您的选择 $ 并且您的 Ajax 请求是模型获取，您可以使用返回的[Deferred 对象](http://api.jquery.com/jQuery.when/)`model.fetch`来同步您的操作：

```
var Router = Backbone.Router.extend({
    routes: {
        '': 'index'
    },

    index: function() {
        console.log('route')
    }
});

var M = Backbone.Model.extend({
    url: '/echo/json/?delay=1'
});

var r = new Router();
var m1 = new M();
var m2 = new M();

var xhr1 = m1.fetch(),
    xhr2 = m2.fetch();

$.when(xhr1, xhr2).then(function() {
    console.log('requests');
    Backbone.history.start();
}); 
```

还有一个可以玩的小提琴[http://jsfiddle.net/nikoshr/fnsqU/](http://jsfiddle.net/nikoshr/fnsqU/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:12:56.103

@nikoshr 是正确的。

另一种方法是阻止点击事件的自动路由，然后`route`在 ajax 响应完成时手动触发事件。

```
$.when(xhr1, xhr2).then(function () { 
   router.trigger("route", "route-name", any_args);
}); 
```

# inheritance - 推进 ORM：版本化 + 具体继承行为问题

> ID：15087042
> 
> 赞同：3
> 
> 时间：2013-02-26T10:44:20.840
> 
> 标签：inheritance, foreign-keys, propel

当我共同使用`versionable`和`concrete_inheritance`行为时，我遇到了一个问题：

```
propel > om-template:
[propel-om] Loading XML schema files...
[propel-om] 3 tables found in 1 schema files.
[propel-om] Generating PHP files...
[propel-om]     -> Updating Library/Model/om/BaseBookPeer.php (table: book, builder: PHP5PeerBuilder)
PHP Fatal error:  Call to a member function getPhpName() on a non-object in 
  C:\wamp\www\library\vendor\propel\propel1\generator\lib\behavior\versionable\VersionableBehaviorObjectBuilderModifier.php on line 313 
```

这里有一个简化的例子来解释它：

![UML 模式](../Images/b71e3a0c1aecd91834b5ef7a51bc9022.png)

一切都是可版本化的。**简单的`Page-Cover`模式也不会引起任何问题`Book-Page`。但是当我开始使用 3 个表时，我遇到了之前的错误。**

通常，我们使用外键和全局`auto_add_pk`行为会遇到此错误（由于行为是在外键之后解释的，因此 propel 在引用的表中找不到主键）。

我的`schema.xml`：

```
<?xml version="1.0" encoding="UTF-8"?>
<database name="library" namespace="Library\Model" defaultIdMethod="native">

    <table name="book">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="title" type="varchar" size="255" required="true" primaryString="true" />
        <!-- #### This following behavior is my problem #### -->
        <behavior name="versionable">
            <parameter name="log_created_at" value="true" />
            <parameter name="log_created_by" value="true" />
            <parameter name="log_comment" value="true" />
        </behavior>
    </table>

    <table name="page">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <column name="num" type="integer" required="true" />
        <column name="text" type="longvarchar"/>
        <column name="book_id" type="integer" required="true" />
        <foreign-key foreignTable="book">
            <reference local="book_id" foreign="id"/>
        </foreign-key>
        <behavior name="versionable">
            <parameter name="log_created_at" value="true" />
            <parameter name="log_created_by" value="true" />
            <parameter name="log_comment" value="true" />
        </behavior>
    </table>

    <table name="cover">
        <column name="id" type="integer" required="true" primaryKey="true" autoIncrement="true" />
        <behavior name="concrete_inheritance">
            <parameter name="extends" value="page" />
        </behavior>
    </table>

</database> 
```

有什么建议可以帮助我理解吗？

# git - Git子模块：将子模块移出存储库

> ID：15087047
> 
> 赞同：12
> 
> 时间：2013-02-26T10:44:44.010
> 
> 标签：git, git-submodules

通过键入创建 git 子模块后

```
git submodule add <repo> && git submodule init 
```

我的 .git/config 已更改，并创建了一个新文件 .gitmodules 。看来我可以将我的子模块移动到存储库内部和外部的特定文件夹：

```
$ cat gitmodules

[submodule "sub_repo"]
path = sub_repo
url = <...> 
```

但是当我尝试将我的存储库移动到我的父文件夹并更改我的 .gitmodules

```
path = ../sub_repo 
```

它似乎忽略了“git update”或“git submodule foreach”上的那个模块。

我在这里推理的错误是什么？

非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-05-11T02:12:42.417

将子模块从其父 repo 中移出到一个独立的目录只涉及更新一些元数据。使用 Git 2.4，步骤如下：

1.  从 repo 开始，假设子模块位于`my-submodule/`：

    ```
    mv my-submodule ../ 
    ```

2.  删除子模块中的指针`.git`文件（注意它不是目录）：

    ```
    rm ../my-submodule/.git 
    ```

3.  将子模块的真实 git 元数据移动到子模块的 git 存储库中：

    ```
    mv .git/modules/my-submodule/ ../my-submodule/.git 
    ```

4.  `.git/config`通过删除参数来编辑文件，该`worktree`参数先前指向 repo 中的相对路径。

而已！此时，您的父 repo 会将子模块显示为`deleted`，而子模块本身将正常工作（可能使用分离的 HEAD，您可以将其重置为 master）。

也可以`.gitmodules`在父 repo 中编辑文件，但我发现不这样做不会破坏任何东西，只要您提交已删除的子模块。

如果其他人知道执行此操作的更快方法（例如实际的 git 命令），我会全神贯注。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-26T10:47:06.883

根本不支持，仅此而已。子模块的重点基本上是在另一个存储库中拥有一个存储库。

如果您不想这样做，请不要使用子模块。只需克隆其他存储库。

# c# - 如何在 C# 中创建具有动态属性和属性的结构

> ID：15087049
> 
> 赞同：1
> 
> 时间：2013-02-26T10:44:47.270
> 
> 标签：c#, c++, reflection, pinvoke

在我的应用程序中，需要使用 P/Invoke 将绝对任意的对象/结构传递给 C++ 函数。根据 Internet，任何对象都可以作为 C++ 结构传递（它们在调用期间被固定到特定的内存位置）。由于我只对数据感兴趣，不打算调用任何方法，这很好地满足了我的需求。但是，实验表明这些对象必须具有`[StructLayout(LayoutKind.Sequential)]`属性，否则代码将无法编译。不幸的是，这些类是由其他开发人员创建的，并且不保证具有此属性。

要解决此问题，一种解决方案是将对象传递给特殊的 C# 包装函数，该函数将：

1.  使用检索对象的属性`Type.GetProperties`
2.  动态创建具有必要属性的结构并从对象复制值。
3.  添加`[StructLayout(LayoutKind.Sequential)]`属性。
4.  将此结构与在步骤 1 中检索到的元数据一起传递给 C++（以便 C++ 知道什么是对象结构以及如何读取它）

由于我是 C# 新手，我不确定如何动态创建具有任意属性和属性的结构。到目前为止，我发现的是[MakeGenericType](https://stackoverflow.com/questions/1151464/how-to-dynamically-create-generic-c-sharp-object-using-reflection)和[ExpandoObject](https://stackoverflow.com/questions/4024754/creating-an-anonymous-type-dynamically)，但需要的是创建一个以前未在任何地方定义的动态结构 - 甚至不是作为通用对象。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:51:28.110

像这样的东西对你有用吗？

```
 [StructLayout(LayoutKind.Sequential)]
    struct MyStruct
    {
        public int Size;
        public IntPtr PtrToArrayOfMetadata;
        public IntPtr PtrToArrayOfObjects;
    }

    public enum Type
    {
        Int, 
        Float,
        Decimal
    } 
```

然后发送一个“动态”对象

```
 Type[] metadata = new Type[2];
        metadata[0] = Type.Int;
        metadata[1] = Type.Float;

        object[] obj = new object[2];
        obj[0] = 2;
        obj[1]= 1;

        GCHandle objHandle = GCHandle.Alloc(obj, GCHandleType.WeakTrackResurrection);
        IntPtr ptrObj = GCHandle.ToIntPtr(objHandle);

        objHandle = GCHandle.Alloc(metadata, GCHandleType.WeakTrackResurrection);
        IntPtr ptrMeta = GCHandle.ToIntPtr(objHandle);

        MyStruct tmp = new MyStruct();
        tmp.Size = 2;
        tmp.PtrToArrayOfMetadata = ptrMeta;
        tmp.PtrToArrayOfObjects = ptrObj; 
```

# c# - ASP.NET MVC 日期选择器

> ID：15087052
> 
> 赞同：0
> 
> 时间：2013-02-26T10:44:56.463
> 
> 标签：c#, asp.net-mvc

我正在使用 asp.net mvc，我需要日历或日期选择器控件，但我的客户使用的是 windows ce。我看到了这个主题：[ASP.NET MVC Calendar](https://stackoverflow.com/questions/5932869/asp-net-mvc-calendar)，我使用了 jquery ui datepicker，但是对于 windows ce 的浏览器（internet explorer mobile）来说太慢了。我需要简单的 asp.net mvc 的 datepicker 控件，例如 asp.net webforms 日历控件。如：[http ://www.w3schools.com/aspnet/showasp.asp?filename=demo_calendar](http://www.w3schools.com/aspnet/showasp.asp?filename=demo_calendar)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T10:50:31.427

看看@Jordy van Eijk 建议的[JQuery mobile 。](http://view.jquerymobile.com/1.3.0/docs/widgets/textinputs)（输入称为“日期”）

# codeigniter - ion auth 和 codeigniter

> ID：15087053
> 
> 赞同：0
> 
> 时间：2013-02-26T10:44:58.943
> 
> 标签：codeigniter, ion-auth

我第一次玩 codeigniter 和 ion auth。我已经完成了所有工作，但是在 ion auth 模板中，索引视图显示了所有用户的列表。

```
<?php foreach ($users as $user):?>
    <tr>
        <td><?php echo $user->first_name;?></td>
        <td><?php echo $user->last_name;?></td>
        <td><?php echo $user->email;?></td>
        <td>
            <?php foreach ($user->groups as $group):?>
                <?php echo anchor("auth/edit_group/".$group->id, $group->name) ;?><br />
            <?php endforeach?>
        </td>
        <td><?php echo ($user->active) ? anchor("auth/deactivate/".$user->id, 'Active') : anchor("auth/activate/". $user->id, 'Inactive');?></td>
        <td><?php echo anchor("auth/edit_user/".$user->id, 'Edit') ;?></td>
    </tr>
<?php endforeach;?> 
```

通常 $users 数组将来自模型。但是在查看模型（ion_auth_model）时，我看不到任何特定于 $users 的内容。身份验证控制器也没有给我太多。

在[文档](http://benedmunds.com/ion_auth/)中， users() 函数是： $users = $this->ion_auth->users();

我认为这是在索引页上填充的数组。如果不在模型中，这将如何提取 MySQL 数据？这是如何运作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:20:45.710

@Smudger - 仔细看一下， ion_auth_model 有一个函数 users() 从第 1125 行开始（取决于你的版本），它接受一个可选的 $groups 参数

# entity-framework - 未使用 CodeFirst 生成的表

> ID：15087054
> 
> 赞同：1
> 
> 时间：2013-02-26T10:45:00.660
> 
> 标签：entity-framework, ado.net, ef-code-first

我正在尝试使用 CodeFirst 生成数据库，但没有生成表。类模型关系：（-> 表示继承者）EntityBase -> Company -> Customer

FluentAPI 配置：

```
modelBuilder.Entity<Customer>()
            .HasKey(k => k.CustomerReference)
            .HasRequired(r => r.Company)
            .WithMany(m => m.Customers)
            .HasForeignKey(f => f.FKCompanyReference);

modelBuilder.Entity<Company>()
            .HasKey(c => c.CompanyReference); 
```

在我的上下文中，我只有 Company 和 Customer。CodeFirst 生成 Company 表，但不生成 Customer 表。是因为我的模型中的继承，因为我尝试使用“平面”域类模型它工作正常。请，任何建议都将受到高度赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:56:32.087

是的，这是因为继承。默认情况下，使用**TPH**（每个层次结构的表）继承。因此，您有一个*Company*表，其中包含层次结构中类的所有属性。添加`ToTable`映射以实现**TPT**（每个类型的表）继承。

```
modelBuilder.Entity<Customer>()
            .ToTable("Customer"); 
```

# php - 通过 cURL 下载文件时出错

> ID：15087056
> 
> 赞同：2
> 
> 时间：2013-02-26T10:45:00.557
> 
> 标签：php, curl, ftp, download

我想通过 cURL 从 ftp 服务器下载文件。这是我的功能：

```
function getFile($remotefolder, $remotefile, $localfile) {
    $url  = "ftp://xxxxx.de/" . $remotefolder . "/" . $remotefile;
    $fp   = fopen($localfile, "w+");

    $handle = curl_init();
    curl_setopt($handle, CURLOPT_URL, $url);
    curl_setopt($handle, CURLOPT_RETURNTRANSFER, 0);
    curl_setopt($handle, CURLOPT_UPLOAD, 0);
    curl_setopt($handle, CURLOPT_FILE, $fp);
    curl_setopt($handle, CURLOPT_USERPWD, "<Username>:<Password>");
    $result = curl_exec($handle);

    $info = curl_getinfo($handle);

    curl_close($handle);
    fclose($fp);

    print_r($info);
} 
```

如果我在我的电脑上执行，一切正常。但是当我在服务器上运行代码时，它给了我以下输出并且文件没有下载：

```
output server
=============
Array
(
    [url] => ftp://xxxx/xxxx/xxx.log.gz
    [content_type] =>
    [http_code] => 257
    [header_size] => 0
    [request_size] => 0
    [filetime] => -1
    [ssl_verify_result] => 0
    [redirect_count] => 0
    [total_time] => 1.357453
    [namelookup_time] => 0.002011
    [connect_time] => 0.011153
    [pretransfer_time] => 1.357439
    [size_upload] => 0
    [size_download] => 0
    [speed_download] => 0
    [speed_upload] => 0
    [download_content_length] => 0
    [upload_content_length] => 0
    [starttransfer_time] => 0
    [redirect_time] => 0
) 
```

如果您请提供更多信息，请告诉我。

提前致谢，

丹尼斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:59:12.147

查看您的 http_code 响应，257 是创建的“PATHNAME”的代码，这可能意味着该文件不存在，或者您的路径可能不正确。

使用您知道存在的不同 URL 对其进行测试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:02:39.857

尝试切换参数的顺序。这是我在我的一个类中使用的，它依赖于位于 FTP 服务器上的文件：

```
$fh = fopen('downloads/' . self::ZIP, 'w');
$ch = curl_init(self::FTP . self::PATH . '/' . self::ZIP);

curl_setopt($ch, CURLOPT_USERPWD, self::USERNAME . ':' . self::PASSWORD);
curl_setopt($ch, CURLOPT_FILE, $fh);

curl_exec($ch);
curl_close($ch);
fclose($fh); 
```

# xamarin - 在 AlertDialog 的自定义视图中访问 EditText

> ID：15087060
> 
> 赞同：0
> 
> 时间：2013-02-26T10:45:10.770
> 
> 标签：xamarin, xamarin.android, android-custom-view, android-alertdialog

如何获取 EditText 的文本，它是警报对话框布局的一部分？

这里的代码：

```
LayoutInflater li = LayoutInflater.From(this);
View view = li.Inflate(Resource.Layout.AlertDView1ET1TVhori, null);
AlertDialog.Builder adb = new AlertDialog.Builder(this);
adb.SetTitle(GetString(Resource.String.EMPSPSAlertTitleMany));
adb.SetView(view);
EditText adbText = FindViewById<EditText>(Resource.Id.txtADV11Left); 
```

和布局：

```
<?xml version="1.0" encoding="UTF-8"?>
<LinearLayout android:layout_height="wrap_content"
              xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="fill_parent"
              android:id="@+id/widget28">
  <EditText android:layout_height="wrap_content"
            android:layout_width="0dp"
            android:text="test"
            android:id="@+id/txtADV11Left"
            android:layout_weight="5"
            android:gravity="center"/>
  <TextView android:layout_height="wrap_content"
            android:layout_width="0dp"
            android:id="@+id/lbADV11Right"
            android:text="Test"
            android:layout_weight="1"
            android:gravity="center"/>
</LinearLayout> 
```

我的问题是，我什至不知道如何在此布局中访问 EditText 或 TextView。最后一行代码找不到任何东西，稍后我会得到一个“System.NullReferenceException：对象引用未设置为对象的实例”，因为 adbText 为空。

请不要抱怨我奇怪的布局名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:52:37.237

在创建/链接到活动之前，您无法访问它。

相反，你可以试试这个：

```
EditText adbText = view.FindViewById<EditText>(Resource.Id.txtADV11Left); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T12:49:10.927

我已经发表了[一篇关于 Android Mono 上的 Dialogs](http://blog.ostebaronen.dk/2013/02/using-dialogs-in-mono-for-android.html)的博文，您可能会觉得这很有趣。正如 Softlion 回答的那样，一种方法是从您的膨胀视图中找到它：

```
var customView = LayoutInflater.Inflate (Resource.Layout.AlertDView1ET1TVhori, null);

var builder = new AlertDialog.Builder(this);
builder.SetView(customView);
builder.SetPositiveButton(Resource.String.dialog_ok, OkClicked);
builder.SetNegativeButton(Resource.String.dialog_cancel, CancelClicked);

//You should be able to access your EditText either here with:
var editText = customView.FindViewById<EditText>(Resource.Id.txtADV11left); 
```

您还可以像这样访问 EventHandlers 中的 EditText：

```
private void OkClicked(object sender, DialogClickEventArgs args)
{
    var dialog = (AlertDialog) sender;
    var editText = (EditText)dialog.FindViewById(Resource.Id.txtADV11left);
} 
```

# android - 键盘显示时视图不显示？

> ID：15087067
> 
> 赞同：0
> 
> 时间：2013-02-26T10:45:22.403
> 
> 标签：android, keyboard, android-keypad

我的应用程序有登录屏幕，它支持横向和纵向。它工作正常。我的问题是在纵向模式下单击编辑文本时显示键盘很好。屏幕如下所示：

![肖像](../Images/8866e8bd25fa99edbb409ab715ce2019.png)

但是横向模式看起来不像纵向模式。屏幕在横向模式下看起来像：

![景观](../Images/7035867579e267bee501fbf032a2a1d7.png)

这是我的清单代码：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.activities"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <!-- Allow to connect with internet -->
    <uses-permission android:name="android.permission.INTERNET" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/launcher_icon"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >

        <!--  Add Google Map Library -->
        <uses-library android:name="com.google.android.maps" />

        <activity
            android:name=".SplashActivity"
            android:label="@string/app_name"
            android:noHistory="true" android:theme="@style/generalNoTitle">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".LoginActivity" android:theme="@style/generalNoTitle" android:configChanges="keyboardHidden|orientation" />
        <activity android:name=".MenuActivity" android:theme="@style/generalNoTitle" />
        <activity android:name=".RegularReportsActivity" android:theme="@style/generalNoTitle" android:screenOrientation="landscape"/>
        <activity android:name=".StageMaleAndFemaleActivity" android:theme="@style/generalNoTitle" android:screenOrientation="landscape"/>
        <activity android:name=".MapViewActivity" android:theme="@style/generalNoTitle" android:screenOrientation="landscape"/>
        <activity android:name=".ReportViewActivity" android:theme="@style/generalNoTitle" android:screenOrientation="landscape"/>
    </application>

</manifest> 
```

如何在横向模式下像纵向模式一样显示？另外，有人可以指导我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-19T09:47:58.487

只需为编辑文本添加**android:imeOptions="flagNoExtractUi"**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:30:33.897

您能否将以下内容添加到清单文件中：

```
android:configChanges="orientation|keyboardHidden"
android:windowSoftInputMode="stateHidden" 
```

还要在滚动视图下添加附上您的登录页面。就像是

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-26T10:53:56.413

用 < Scroll View > 包围您的布局

在 androidmanifest 中添加这一行

android:windowSoftInputMode="stateHidden|adjustResize|adjustPan"

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-26T11:21:37.337

我认为您没有为横向模式实现应用程序登录屏幕。因此，它显示的是默认视图。

在**res**文件夹中创建一个子文件夹**layout-land**也为景观实现 UI

# android - 使 Launcher2 独立

> ID：15087070
> 
> 赞同：1
> 
> 时间：2013-02-26T10:45:32.263
> 
> 标签：android, android-launcher

我想让 Launcher2 (AOSP Launcher) 成为我的 Android 4.1.1 设备（分支 jb-release；API 级别 16）的独立数据应用程序（不是系统）。

我找不到任何关于修改什么以使其独立的资源，所以我自己尝试了一下。希望有人可以帮助我这样做（有关错误列表，请参见下面的列表）。

源代码可以在这里找到：[https ://android.googlesource.com/platform/packages/apps/Launcher2/+/jb-release/src/com/android/launcher2](https://android.googlesource.com/platform/packages/apps/Launcher2/+/jb-release/src/com/android/launcher2)

**AppsCustomizedPagedView.java:**

```
The import android.graphics.Insets cannot be resolved
The import android.graphics.TableMaskFilter cannot be resolved 
```

我猜两者都是由于`@Hide`. 这里有任何解决方法或好的解决方案吗？

**Cling.java：**

```
The method findViewToTakeAccessibilityFocusFromHover(View, View) of type Cling must override or implement a supertype method (Class Cling extends android.widget.FrameLayout)
The method includeForAccessibility() is undefined for the type View 
```

**HolographicOutlineHelper.java：**

```
The import android.graphics.TableMaskFilter cannot be resolved 
```

与 AppsCustomizedPagedView.java ( `@Hide`)中的相同

**启动器.java：**

```
The import android.os.SystemProperties cannot be resolved
The import com.android.common cannot be resolved
The method clearAllAnimations() is undefined for the type ValueAnimator
The method startSearch(String, boolean, ComponentName, Bundle, boolean) in the type SearchManager is not applicable for the arguments (String, boolean, ComponentName, Bundle, boolean, Rect)
SystemProperties cannot be resolved
The method requestAccessibilityFocus() is undefined for the type Cling 
```

**PagedViewWidgetImageView.java:**

```
The import android.graphics.Insets cannot be resolved
The method getLayoutInsets() is undefined for the type Drawable 
```

**RocketLauncher.java：**

```
The import android.support cannot be resolved
The constructor RocketLauncher.Board(RocketLauncher, null) is undefined 
```

**SearchDropTargetBar.java:**

```
The method getCompatibilityInfo() is undefined for the type Resources 
```

**实用程序.java：**

```
The import android.graphics.TableMaskFilter cannot be resolved 
```

**工作区.java：**

```
The method getRealMetrics(DisplayMetrics) is undefined for the type Display
The method setChildrenLayersEnabled(boolean) is undefined for the type ViewGroup 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:51:02.340

这是很多人似乎都想做的事情，而我不久前也做过。

[我让 Launcher2 作为一个独立的应用程序编译和运行，然后在这里](https://github.com/RaghavSood/CompilingLauncher2)开源我的工作。

这是 ICS 的 Launcher2，不是 JB，但它们非常相似。请注意，它并非完全没有错误，并且添加小部件会使应用程序崩溃（因为它使用系统级权限。也许如果您通过 root 安装它会起作用）。

这是我必须做的所有事情的清单，我记得做过：

有很多我们无法使用的方法，例如`setFastXXX`（例如）。`setFastAlpha()`将这些更改为`setXXX`（例如，'setAlpha()`）对我有用。

一些我们可以通过的东西`getSystemService()`直接在代码中初始化，比如 Vibrator 类的使用。这些需要更改才能使用`getSystemService()`

我最终将 Android 源代码中的许多方法直接复制到我的类中。

您可以签出新版本的 ICS launcher2，并针对我开源的版本运行 diff 以查看完整的更改列表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-14T22:59:30.957

chrislacy 在 GitHub 上托管了一个独立的 Android JellyBean Launcher，您可以将 AppWidgets 添加到主屏幕：) [https://github.com/chrislacy/LauncherJellyBean](https://github.com/chrislacy/LauncherJellyBean)

# c - 使用 libxml2 在 C 中调用 Web 服务

> ID：15087073
> 
> 赞同：0
> 
> 时间：2013-02-26T10:45:40.633
> 
> 标签：c, webservice-client, soap-client, libxml2

我正在编写一个 C 代码来解析我使用 libxml2 库的 XML 文件。xml 存储在文件中。现在，我需要从同一个 C（客户端）程序调用 WebService，然后获取该 XML 并解析它。

我有点困惑，想知道 libxml2 库是否可以做到这一点？还是我需要一些其他库来处理对 web 服务的请求/响应？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T15:56:04.913

Libxml2 只能解析、生成或修改存储在文件或内存中的 XML 树。如果你想做一个 HTTP(S) 请求并得到一个响应，你需要使用另一个库，例如 libcurl ( [http://curl.haxx.se/libcurl/](http://curl.haxx.se/libcurl/) )。

另请注意，libxml2 对 SOAP 一无所知，因为我从您的问题中假设您愿意使用 SOAP WebService，因此您必须使用 libxml2 编写一些代码来有效地解析响应。

# sql-server - 如何将while循环与字符串连接与plus一起使用？

> ID：15087074
> 
> 赞同：0
> 
> 时间：2013-02-26T10:14:54.667
> 
> 标签：sql-server, sql-server-2008, sql, tsql

我想从 txt 文件中读取行并在过程 TESTSP 中进行一些处理。但我确实有一些错误。我应该如何重写我的查询？此致。

**代码：**

```
 DECLARE @i int
set @i =0
WHILE(@i<85)
begin
@i=@i+1;
if(@i<10)
begin
    exec TESTSP'C:\dosya\X_20130208_0'+@i+'.txt'
end
else
begin
    exec TESTSP 'C:\dosya\X_20130208_'+convert(@i as varchar(2))+'.txt'
end
end 
```

**错误：**

```
Msg 102, Level 15, State 1, Line 5
Incorrect syntax near '@i'.

Msg 102, Level 15, State 1, Line 8
Incorrect syntax near '+'.

Msg 102, Level 15, State 1, Line 12
Incorrect syntax near '+'. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:50:48.477

你需要`convert or cast @i (int) to varchar` *为* `string concatenation`. 另请注意`syntax of Convert`，您已使用强制转换语法进行转换。

```
declare @i int = 0, @path varchar(500)

while(@i<85)
begin

    --You can simplify (or remove if condition) using right() function as below

    --Assign @path here before calling stored procedure
    select @i = @i + 1, 
           @path = 'C:\dosya\X_20130208_' + right(100 + @i, 2) + '.txt'

    --Execute stored procedure here
    exec TESTSP @path

end 
```

# xaml - 当前文化在 WinRT 中是错误的

> ID：15087075
> 
> 赞同：2
> 
> 时间：2013-02-26T10:45:46.233
> 
> 标签：xaml, formatting, windows-runtime, culture

我正在尝试使用 WinRT 中的当前文化来格式化日期时间值。但是 CurrentCulture 属性似乎不尊重系统文化。

我尝试了以下两个属性，

```
System.Globalization.CultureInfo.CurrentCulture.DisplayName
System.Globalization.CultureInfo.CurrentUICulture.DisplayName 
```

即使我在控制面板中更改区域，两者都提供英语（美国）。但这对 WPF 非常有效。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-01T17:56:39.880

现代应用程序使用用户语言列表来确定默认应用程序语言应该是什么，并且应用程序语言用于初始化 CurrentCulture 和 CurrentUICulture。桌面应用程序 (wpf) 将这些初始化为用户的默认 UI 语言和区域设置。

发生了两种情况之一：您的应用程序正在使用一组有限的语言资源构建，这些语言资源默认使用 en-US，并且您没有在用户语言列表中包含任何这些语言，或者 en-US 是您在应用中拥有资源的用户语言列表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-29T09:01:57.107

要获得我们可以使用的 InvariantCulture 设置，

“ApplicationLanguages.PrimaryLanguageOverride = CultureInfo.InvariantCulture.TwoLetterISOLanguageName；”

这对我有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T10:55:18.533

WinRT 使用在 Windows.Globalisation 命名空间中公开的 API。看看 ApplicationLanguages 类

[http://msdn.microsoft.com/en-us/library/windows/apps/hh972395.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh972395.aspx)

此类公开 Languages、ManifestLanguages 和 PrimaryLanguageOveride 属性

# mysql - MYSQL中查询的逆向

> ID：15087079
> 
> 赞同：1
> 
> 时间：2013-02-26T10:45:55.780
> 
> 标签：mysql, sql

我有以下两个表：A和B

B 包含 A:a_id 的外键。

我有以下查询：

> 选择`a`.* 从`a`内部连接`b`打开`b`。`a_id`= `a`。`id`WHERE b.stuff=1 AND (QueryCheckingDateWithBFields)

我想反转查询，所以我这样做了：

> 选择`a`.* 从`a`内部连接`b`打开`b`。`a_id`= `a`。`id`WHERE b.stuff!=1 OR (!QueryCheckingDateWithBFields)

它工作正常，除了一个问题。我希望我的第一个查询 + 我的第二个查询 = 所有 A 表条目。但是如果没有一个`a_ID`有一个A的B，这个A就不会被选中。我怎么能说“我也想要没有加入的A？”

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T10:48:24.090

使用 a`left outer join`而不是`inner join`and 调整您的`where`子句以支持没有 的情况`B`：

```
SELECT a.* FROM a LEFT OUTER JOIN b ON b.a_id = a.id
WHERE b.id == null OR (b.stuff = 1 AND (QueryCheckingDateWithBFields))

SELECT a.* FROM a LEFT OUTER JOIN b ON b.a_id = a.id
WHERE b.id == null OR b.stuff != 1 OR (!QueryCheckingDateWithBFields) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T10:49:30.110

使用 LEFT JOIN 而不是 INNER JOIN

# drupal-7 - 链接内容类型以查看（用于搜索）

> ID：15087083
> 
> 赞同：0
> 
> 时间：2013-02-26T10:46:06.310
> 
> 标签：drupal-7, views, content-type, pathauto

我有一个内容类型“产品展示”。

正常路径是：node/[nid]

使用模块“pathauto”，我可以为每个“产品展示”执行以下操作：node/[id] ==> product/detail/[node:nid]

这工作正常，但它不会触发视图。

1）页面设置（针对视图） 路径：product/detail/%

2）URL路径设置（对于内容类型“产品展示”）：生成自动URL别名

当我使用标准搜索框时，找到了产品并且链接正常，但我显示了正常的标准页面，您可以在其中编辑节点。

需要一些建议，帮助。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:54:19.423

我认为没有足够的信息来准确回答这个问题，但我会试一试。

您说您创建了一个视图并创建了路径产品/详细信息/％，所以我假设您正在使用视图。在高级下，为 Nid 添加上下文过滤器。在*当过滤器值不在 URL 中*时，选择**提供默认值 -> URL 中的内容 ID**。

希望这可以解决您的问题。

# wpf - 在 WPF 中自定义 ScrollViewer

> ID：15087090
> 
> 赞同：1
> 
> 时间：2013-02-26T10:46:26.453
> 
> 标签：wpf, combobox, wpf-controls, scrollviewer

我正在开发一个具有自定义组合框的应用程序。

ComboBox 的外观应该是这样的。

![自定义组合框](../Images/f689939d4714d312a9eef61106cde9d8.png)

我已将 ComboBox 的 ControlTemplate 修改为如上所示。

问题是：当向上重复按钮也被禁用时（以编程方式我正在禁用它），当我继续按下禁用的重复按钮时，项目被选中。

我使用的控制模板是：

```
 <Setter
                Property    ="SnapsToDevicePixels"
                Value       ="True"
                />

            <Setter
                Property    ="FocusVisualStyle"
                Value       ="{DynamicResource ComboFocusVisualStyle}"
                />

            <Setter
                Property    ="Foreground"
                Value       ="Black"
                />

            <Setter
                Property    ="Template"
                >

                <Setter.Value>

                    <ControlTemplate
                        TargetType  ="{x:Type ComboBox}"
                        >

                        <Grid>

                            <Border 
                                CornerRadius    ="3"
                                BorderThickness ="0,0,0,.7" 
                                BorderBrush     ="WhiteSmoke"
                                >

                                <Border 
                                    Name                ="brd1"
                                    CornerRadius        ="3"                                          
                                    BorderBrush         ="{StaticResource ComboBorderBrush}" 
                                    BorderThickness     ="1,1,1,1"
                                    Background          ="{TemplateBinding Background}"                                       
                                    ToolTip             ="{TemplateBinding SelectionBoxItem, Converter={StaticResource ToolTipConverter}, ConverterParameter=PrinterInfoCol}"
                                    >

                                    <Grid>

                                        <ContentPresenter
                                            x:Name              ="ContentSite"
                                            HorizontalAlignment ="Left" 
                                            VerticalAlignment   ="Center"
                                            IsHitTestVisible    ="False"
                                            >

                                            <ContentPresenter.Content>

                                                <Grid
                                                    Width    ="180"
                                                    >

                                                    <Grid.ColumnDefinitions>

                                                        <ColumnDefinition
                                                            Width   ="180"
                                                            />

                                                    </Grid.ColumnDefinitions>

                                                        <TextBlock
                                                            Grid.Column         ="0"
                                                            Margin              ="10,0,0,0"
                                                            Text                ="{TemplateBinding SelectionBoxItem, Converter={StaticResource TextConverter}}"
                                                            TextTrimming        ="CharacterEllipsis"
                                                            VerticalAlignment   ="Center"
                                                            Foreground          ="Black"                                                                
                                                            />

                                                    </Grid>

                                            </ContentPresenter.Content>

                                        </ContentPresenter>

                                        <!-- The ToggleButton is databound to the ComboBox itself to toggle IsDropDownOpen -->
                                        <ToggleButton 
                                            x:Name          ="ToggleButton" 
                                            Template        ="{DynamicResource ComboBoxToggleButton}" 
                                            Focusable       ="false" 
                                            IsChecked       ="{Binding Path=IsDropDownOpen, 
                                                                       Mode =TwoWay, 
                                                                       RelativeSource  ={RelativeSource TemplatedParent}}" 
                                            ClickMode       ="Press"
                                            Margin          ="16,5,2,2"                                           
                                            />

                                    </Grid>

                                </Border>

                            </Border>

                            <!-- The Popup shows the list of items in the 
                            ComboBox. IsOpen is databound to IsDropDownOpen 
                            which is toggled via the ComboBoxToggleButton -->
                            <Popup 
                                x:Name                                      ="PART_popup" 
                                IsOpen                                      ="{TemplateBinding IsDropDownOpen}" 
                                ScrollViewer.VerticalScrollBarVisibility    ="Auto"
                                Placement                                   ="Bottom" 
                                Focusable                                   ="False" 
                                MinWidth                                    ="{Binding ElementName=brd1, Path=ActualWidth}"
                                AllowsTransparency                          ="True" 
                                PopupAnimation                              ="None"                                  
                                MaxWidth                                    ="325"
                                >

                                <dropShadow:SystemDropShadowChrome 
                                    Visibility      ="Visible" 
                                    Margin          ="3"                                           
                                    >

                                    <Grid                                                    
                                        x:Name              ="DropDown"                                            
                                        SnapsToDevicePixels ="True"
                                        Margin               ="0,-1,0,0"  
                                        >

                                        <Grid.RowDefinitions>
                                            <RowDefinition
                                                Height="18"
                                                />
                                            <RowDefinition
                                                Height="*"
                                                />
                                            <RowDefinition
                                                Height="18"
                                                />
                                        </Grid.RowDefinitions>

                                        <Border 
                                            x:Name          ="DropDownBorder"
                                            Grid.Row="0"
                                            Grid.RowSpan="3"
                                            Background      ="{StaticResource dropDownBackground}"                                              
                                            BorderBrush     ="{DynamicResource SolidBorderBrush}" 
                                            BorderThickness ="1"
                                            />

                                        <RepeatButton
                                            x:Name      ="upRepeatButton"
                                            Grid.Row    ="0"
                                            Margin      ="1,0"
                                            ClickMode   ="Press"
                                            Style       ="{DynamicResource ScrollBarLineButton}"
                                            Height      ="18"                       
                                            Content     ="M 0 4 L 8 4 L 4 0 Z"
                                            />

                                        <ScrollViewer 
                                            Name                            ="scrollCombo"
                                            Margin                          ="1,0,1,0"
                                            Style                           ="{DynamicResource ComboBoxScrollViewerStyle}"                                          
                                            Grid.Row                        ="1"
                                            SnapsToDevicePixels             ="True" 
                                            HorizontalScrollBarVisibility   ="Hidden" 
                                            VerticalScrollBarVisibility     ="Hidden" 
                                            CanContentScroll                ="False"
                                            HorizontalAlignment             ="Stretch"
                                            Focusable                       ="False"
                                            >

                                            <ItemsPresenter
                                                Margin="0,18"
                                                />

                                        </ScrollViewer>

                                        <RepeatButton
                                            x:Name      ="downRepeatButton"
                                            Grid.Row    ="2"
                                            Margin      ="1,0"
                                            ClickMode   ="Press"
                                            Style       ="{StaticResource ScrollBarLineButton}"
                                            Height      ="18"                        
                                            Content     ="M 0 0 L 4 4 L 8 0 Z"
                                            />

                                    </Grid>

                                </dropShadow:SystemDropShadowChrome>

                            </Popup>

                        </Grid>

                        <ControlTemplate.Triggers>

                            <!-- This forces the DropDown to have a minimum
                            size if it is empty -->
                            <Trigger
                                Property    ="HasItems"
                                Value       ="false"
                                >

                                <Setter
                                    Property    ="MinHeight"
                                    Value       ="95"
                                    TargetName  ="DropDownBorder"
                                    />

                            </Trigger>

                            <Trigger
                                Property    ="IsGrouping"
                                Value       ="True"
                                >

                                <Setter
                                    Property    ="ScrollViewer.CanContentScroll"
                                    Value       ="false"
                                    />

                            </Trigger>

                        </ControlTemplate.Triggers>

                    </ControlTemplate>

                </Setter.Value>

            </Setter>

        </Style> 
```

对此有什么想法吗？

# php - PHP 有这样的语法： $expr= $a || $b

> ID：15087098
> 
> 赞同：1
> 
> 时间：2013-02-26T10:47:06.450
> 
> 标签：php

在javascript中我可以这样做：

```
$a= $b || $c 
```

如果 $b 为 null 或为空，则 $a=$c，否则 $a=$b。

php中有类似的东西吗？

我试过：

```
$a=$b && $c 
```

但我得到 $a=true 或 false，而不是 $b 或 $c 的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:02:16.920

那是因为通过应用“||” 对那些参数进行运算符，您正在制作一个逻辑表达式，它的答案是真/假。

您可以使用：

```
$a = $b?$b:$c; 
```

从 PHP 5.3 开始，您可以使用缩短表达式：

```
$a = $b?:$c; 
```

也一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T10:49:53.200

Python 也有这个，但在 PHP 中逻辑运算符返回一个布尔值。

你可以`$b ? $b : $c`

或者您可以将`$b`条件替换为`!empty($b)`,`!is_null($b)`等...但首先确保您了解[它们](http://php.net/manual/en/types.comparisons.php)的作用（例如`0`和`"0"`都是空的，这不是您想要的）。我的猜测是你需要`(isset($b) && $b !== "")`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T10:50:44.183

简洁版本：

```
$a = (empty($b) ? $c : $b) 
```

长版：

```
if (empty($b)
    $a = $c;
else
    $a = $b; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T10:51:21.087

```
$a = !empty($b) ? $b : $c; 
```

也许不是您正在寻找的东西，但三元条件会做到这一点（这在大多数语言中都很常见）

健康）状况 ？案例真：案例假；

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T10:56:35.780

```
$a = null;
$b = 15;
$c = $a || $c = $b;
var_dump($c);
$c = $a or $c = $b;
var_dump($c); 
```

# asp.net - 用于 ASP.NET 网站的 Miniprofiler

> ID：15087101
> 
> 赞同：12
> 
> 时间：2013-02-26T10:47:13.920
> 
> 标签：asp.net, web, mvc-mini-profiler

![在此处输入图像描述](../Images/e414282d6ee3464e35902379749f836f.png)如何在 asp.net 网站中使用 miniprofiler（不适用于 MVC）？MVC 有很多资源，但我找不到任何网站。

感谢亚历克斯。现在它适用于 asp.net 网站。但我无法理解它显示的内容。我没有在方法中编写任何代码。见下图。

代码如下，我为其运行了探查器。

```
protected void Page_Load(object sender, EventArgs e)
{
    using (MiniProfiler.Current.Step("test"))
    {
        Page.Title = "12345";
    }
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-26T11:08:51.983

从[miniprofiler.com](http://miniprofiler.com/)：

> PM> Install-Package MiniProfiler

在你的`global.asax`：

```
using StackExchange.Profiling;
...    
protected void Application_BeginRequest()
{
    if (Request.IsLocal)
    {
        MiniProfiler.Start();
    } 
}

protected void Application_EndRequest()
{
    MiniProfiler.Stop();
} 
```

然后在您的母版页中的某个位置：

```
<%= StackExchange.Profiling.MiniProfiler.RenderIncludes() %> 
```

这应该足够开始了。

# symfony - 学说2获取没有集合的实体列表

> ID：15087105
> 
> 赞同：0
> 
> 时间：2013-02-26T10:47:22.633
> 
> 标签：symfony, doctrine-orm

这是我的问题：我有一个与 Address 实体上的 oneToMany 关系的用户实体。我想在一个查询中获取所有没有地址的用户。这是我的查询构建器：

```
$qb = $this->createQueryBuilder('u')
    ->where('u.enabled = :enabled')
    ->setParameter('enabled', true)
    //->andWhere('u.addresses ..... ?? how to do that ?
    ->orderBy('u.created', 'DESC');

    if ( is_int($limit) && $limit > 0 ) {
        $qb = $qb->setFirstResult($offset)
                 ->setMaxResults($limit);
    }

    return $qb; 
```

我不知道如何在一次查询中仅检索所有没有地址的用户...有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:08:07.827

从[DQL 文档示例](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/dql-doctrine-query-language.html#dql-select-examples)中，使用`IS EMPTY`

```
$qb = $this
    ->createQueryBuilder('u')
    ->where('u.enabled = :enabled')
    ->setParameter('enabled', true)
    ->andWhere('u.addresses IS EMPTY')
    ->orderBy('u.created', 'DESC');

    if ($limit) {
        $qb = $qb
            ->setFirstResult($offset)
            ->setMaxResults($limit);
    }

    return $qb; 
```

# android - 使用 Android 原生库显示图像

> ID：15087107
> 
> 赞同：0
> 
> 时间：2013-02-26T10:47:30.237
> 
> 标签：android

我想通过使用 C 语言中的 android 本机库显示图像来提高我的应用程序的性能。这个问题是由于我的应用程序中的图像需要大量内存。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:52:05.987

我敢打赌没有必要这样做。Android 位图已经用 C 语言编写，并且在大多数情况下已经硬件加速。很高兴知道您将要实现什么目标以及您已经付出了哪些努力。

编辑：

因此，如果您考虑在内存中有很多图像，您可以使用本机内存。诀窍是您可以使用 Java 方法进行绘图（这很方便）和本机内存来存储未使用的图像（既快又大）。您可以尝试使用 NativeBuffer 库来完成此类任务：[http ://code.google.com/p/native-buffer/](http://code.google.com/p/native-buffer/)

用法非常简单。您必须将所有图像预加载到缓冲区。然后，当您需要图像时，可以从缓冲区中加载它。您甚至可以在 draw() 方法中执行此操作。与 sdcard 相比，它的速度非常快。

当然要注意 NativeBuffer 使用 C 风格的分配，你可能会用完系统内存。它不会抛出 OutOFMemoryError，而是在不询问的情况下强制停止您的应用程序。NativeLibrary 包含一些用于检查可用内存的实用程序，但您必须自己管理它。

# android - 使 TextView 适合 Android 上的 Layout

> ID：15087110
> 
> 赞同：2
> 
> 时间：2013-02-26T10:47:37.383
> 
> 标签：android, textview, spannable

我有一个方形的 FrameLayout。我在布局中有一个 TextView 和一个供用户增加/减少 textSize 的选项。当文本大到足以填满整个 FrameLayout 时，我想限制文本增加选项。因此，如果我从 25sp 之类的东西开始，当用户达到 40sp 并且 TextView 高度超过 FrameLayout 高度时，我需要恢复到 39sp 并禁止进一步增加文本大小。TextView 的来源是可跨度的。

到目前为止，我是这样做的。

在增加按钮上，我只是`setTextSize(currentValue + 1)`针对每个可跨片段；

因为当我再次 setText 时我不知道我的 TextView 的“真实”大小，所以我使用了

```
ViewTreeObserver vto = textView.getViewTreeObserver();
vto.addOnGlobalLayoutListener(new OnGlobalLayoutListener() {
    @Override
    public void onGlobalLayout() {
    //here I have the real sizes of the textView and if the height is too big, I simply
     setTextSize(currentValue - 1)
} 
```

缺点是增加文本 -> 再次减少它的可见操作。因此，用户会在 100 毫秒内看到文本变大然后恢复。有没有处理这个计算的好方法，所以我可以避免实际增加文本大小？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:03:02.053

我建议在实际更改大小之前使用 TextPaint 和 span 类来测量您的文本。测量文本需要将其拆分为跨度。然后你应该将跨度应用到 TextPaint 对象并询问它的文本块尺寸。

[http://developer.android.com/reference/android/text/TextPaint.html](http://developer.android.com/reference/android/text/TextPaint.html) [http://developer.android.com/reference/android/graphics/Paint.FontMetrics.html](http://developer.android.com/reference/android/graphics/Paint.FontMetrics.html) [http://developer.android.com/参考/android/text/style/CharacterStyle.html](http://developer.android.com/reference/android/text/style/CharacterStyle.html)

任务相当复杂，所以如果遇到任何麻烦，请随时寻求更多帮助。我用来测量文本的代码很长而且没有注释，所以我可能会将它发布到谷歌代码以备不时之需。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:27:59.757

你去：

```
TextView tv = (TextView) findViewById(R.id.tv); 
String myText = tv.getText().toString();
char[] array = myText.toCharArray();
Paint paint = tv.getPaint();
Rect textBound = new Rect();
paint.getTextBounds(array, 0, array.length, textBound);
boolean enough = tv.getHeight() <= textBound.height()
            || tv.getWidth() <= textBound.width();
if(enough){
  // don't increase size further
}else{
// increase size
} 
```

对于动画，您可以执行以下操作：

```
final float proposed = tv.getTextSize() + 10;
final float orignal = tv.getTextSize();

if (enough) { 
    ObjectAnimator
                .ofFloat(this, "textSize", orignal, proposed, orignal)
                .setDuration(1000).start(); 
} else {
    ObjectAnimator.ofFloat(this, "textSize", orignal, proposed)
                .setDuration(500).start(); 
}

@SuppressWarnings("unused")
private void setTextSize(float val) {
    tv.setTextSize(TypedValue.COMPLEX_UNIT_PX, val);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T10:53:26.127

你可以尝试这样的事情：

```
textView.getLayoutParams.height = screen.getWidth();
textView.requestLayout(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T07:25:48.933

收到的所有答案都很好，但在我的情况下，我没有找到合适的方法来检测我的 TextView 在应用 Spannable 时如何实际包装文本。为了获得我需要的结果，我刚刚在我的 FrameLayout 中添加了一个具有透明字体颜色的新 TextView。首先，我将更改应用到这个不可见的 TextView，如果一切正常，我将更改传播到实际可见的 TextView。

# jquery - 使用 jQuery 在 JSON html 内容中查找 id 元素

> ID：15087111
> 
> 赞同：0
> 
> 时间：2013-02-26T10:47:42.607
> 
> 标签：jquery, html, json

我在将 html 作为其值之一的 ajax 请求中返回 JSON。

```
html:
"<div id="foo">
    <p>FOO</p>
</div>

<div id="bar">
    <p>BAR</p>
</div>" 
```

我想添加`#foo`到一个元素和`#bar`另一个元素。我尝试了以下方法：

`$('#add-foo-html-here').html($(response.html).find('#foo'));`

但这找不到`#foo`。做这个的最好方式是什么？我应该将 html 内容添加到临时元素然后找到 id 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:54:43.027

使用`.filter()`而不是`.find()`.

```
$('#add-foo-html-here').html($(response.html).filter('#foo')); 
```

`.find()`只找到子元素。但这里`#foo`不是一个孩子。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T10:52:00.887

你需要父母才能使用`find()`？？？

```
var div = $('<div />');
    div.html(response.html);

$('#elementID').html( div.find('#foo') ); 
```

# php - 自动解析文本以在 PHP 中链接

> ID：15087118
> 
> 赞同：-1
> 
> 时间：2013-02-26T10:48:10.317
> 
> 标签：php, html, hyperlink

所以，我想要的是解析普通文本以链接

但如果文本是链接，则不应再次对其进行解析

例如：`<a href="http://stackoverflow.com">http://stackoverflow.com</a>`不应该再次解析为`<a href="http://stackoverflow.com"><a href="http://stackoverflow.com">http://stackoverflow.com</a></a>`

就这样

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T15:26:39.483

```
<?php
function TextLink($string)
{
   if($string[0] != "<")
   {
      echo "<a href=\"http://www.".$string."\">".$string."</a>";
   }
}
?>

Call with TextLink('$string'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:31:06.540

一种解决方案是删除所有 HTML href 标记以开始使用。然后你有一个普通的文档，你可以将每个 url 转换为一个标签。

# iphone - 拒绝 iTunes 中的二进制文件

> ID：15087121
> 
> 赞同：2
> 
> 时间：2013-02-26T10:48:14.483
> 
> 标签：iphone, ios, ipad, itunes

我可以拒绝多少次二进制，有什么限制吗？

由于某些原因，我已经拒绝了 Binary 三次，这会影响应用程序的批准吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:57:26.547

您可以多次拒绝二进制文件，但您的应用批准的时间将从上次上传开始计算

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T10:59:32.760

[就像这里](http://developer.apple.com/library/mac/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/10_ManagingYourApplications/ManagingYourApplications.html)的文档一样，它说，

在您的应用**等待审核**期间，您可以：

*   拒绝您的二进制文件以将其从 Apple 审核队列中删除
*   编辑某些应用信息

所以我想，没有没有问题。由于某些技术更改或您改变主意将其放在商店中，您对应用程序所做的拒绝。

如果你能做一个测试应用程序，拒绝它大约 20 次，然后最后尝试上传它，看看苹果是否允许它会很好。:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T10:57:31.307

不，它不应该影响未来的应用程序批准。不过，您将失去在队列中的位置，因此需要一段时间才能重新审核您的应用程序。

# .net - WinDbg 要求特定版本的 mscordacwks.dll。我在哪里可以找到这个？

> ID：15087122
> 
> 赞同：3
> 
> 时间：2013-02-26T10:48:15.030
> 
> 标签：.net, windbg, sos, mscorwks.dll

我正在尝试使用 WinDbg 和 SOS.dll 读取 .NET 2.0 程序集的故障转储文件。

通过阅读，我了解到我必须将 sos.dll、mscorwks.dll 和 mscordacwks.dll 复制到 windbg 安装目录中。

所以我这样做了，但 WinDbg 然后告诉我，我自己的 .Net 目录中的副本是错误的版本。WinDbg 正在寻找 mscordacwks.dll_x86_x86_2.0.50727.4211.dll，我有 mscordacwks.dll_x86_x86_2.0.50727.5420.dll

问题是：我在哪里可以找到这些文件的正确版本？

a）在构建崩溃的应用程序的机器上
或
b）在应用程序崩溃的机器上？

我找到[了这个站点](http://www.mskbfiles.com/mscorwks.dll.php)，您可以在其中查看哪个 .NET 补丁包含哪些版本，但我没有设法下载相关补丁（找不到它），所以我想到从其中一台受影响的机器上复制文件会更快。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:24:04.783

a 或 b 都可以工作，前提是 .NET 尚未在任何一台机器上更新。如果我没有特定的 DAC 文件，我通常会从崩溃的机器上获取它。请记住将您遇到的每一个 DAC 保存到一个目录中。然后将此目录添加到您的符号路径。随着时间的推移，这将使您找到 DAC 的难度降低。

# wpf - WPF单击标签更改复选框isChecked属性

> ID：15087124
> 
> 赞同：9
> 
> 时间：2013-02-26T10:48:18.147
> 
> 标签：wpf, checkbox, label, ischecked

我是 WPF 的新手，尝试（在我看来）一项简单的任务，但我没有得到它。甚至谷歌也不会帮助我，或者我问错了问题。

我有一个复选框和一个标签；我希望单击标签更改`isChecked`复选框的属性。

我想在 XAML 中完全做到这一点，没有任何代码，因为我希望保持文件后面的代码干净，没有不必要的代码。请不要讨论这个问题。我知道这是在后面的代码中执行此操作的单行代码！

在标签上使用事件设置器并不能解决问题，因为您只能设置处理程序（当然在代码后面）。使用情节提要没有帮助，因为无法检查属性的实际值。

有没有人有好的提示？也许我忽略了一些东西。请为解决方案提供一些代码片段。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2017-03-22T15:59:52.297

你也可以这样做：

```
<CheckBox>
    <Label Content="Your text here"/>
</CheckBox> 
```

但是，一个限制是文本必须位于复选框的右侧。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-26T10:59:55.360

将此代码粘贴到kaxaml

您会看到单击标签会切换复选框。

[见肯特的这个[答案]](https://stackoverflow.com/a/6161137/703717)

```
<Page
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <StackPanel>
    <CheckBox IsChecked="{Binding IsChecked, ElementName=checkbox}" Content="Hello">
        <CheckBox.Template>
            <ControlTemplate TargetType="CheckBox">
                <ContentPresenter/>
            </ControlTemplate>
        </CheckBox.Template>
    </CheckBox>
    <CheckBox x:Name="checkbox" Content="A normal checkbox"/>
</StackPanel>
</Page> 
```

# jquery - 如果与 Prototype JS 一起使用，Popover 会隐藏父元素

> ID：15087129
> 
> 赞同：12
> 
> 时间：2013-02-26T10:48:25.827
> 
> 标签：jquery, twitter-bootstrap, prototypejs, popover

更新到引导程序 2.3.0 后，我注意到弹出工具提示的奇怪行为。

如果您输入该字段并尝试离开，工具提示将消失并隐藏输入字段。此问题仅在最新版本的引导程序中出现，不确定具体更改了什么，但 2.2.2 与 Prototype 配合良好。

```
jQuery.noConflict();
jQuery('input[data-content]').popover({
    trigger: 'focus'
}); 
```

这是工作示例：http: [//jsfiddle.net/U6EDs/4/](http://jsfiddle.net/U6EDs/4/)

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-26T17:39:37.003

这个 github 问题[https://github.com/twitter/bootstrap/issues/6921](https://github.com/twitter/bootstrap/issues/6921)描述了您所看到的内容。我正在复制问题中的信息。

bootstrap-tooltip.js 中的这些行会导致问题：

```
 , hide: function () {
  var that = this
    , $tip = this.tip()
    , e = $.Event('hide')   ///this line

  this.$element.trigger(e)  /// this line
  if (e.isDefaultPrevented()) return //and this line 
```

PrototypeJS 向 Element 原型添加方法，因此当 jQuery 尝试在`hide()`元素上触发该方法时，它实际上是在触发 PrototypeJS`hide()`方法，该方法等效于 jQuery`hide()`方法并将元素的样式设置为`display:none;`

你有几个选择

1.  删除js文件中上面标记的行
2.  将事件重命名为其他名称（不隐藏）
3.  使用 BootStrap 的 PrototypeJS 分支（目前适用于 2.3.2）

[http://github.com/jwestbrook/bootstrap-prototype](http://github.com/jwestbrook/bootstrap-prototype)

*****免责声明***

我是目前正在将 BootStrap JS 组件移植到 PrototypeJS 的开发人员

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-02-12T21:28:11.390

我知道这是一个老问题，但我（再次）遇到了这个问题，上面的答案对我不起作用。我最终找到了一个解决方案，而无需侵入任何库。这个想法是在隐藏元素后显示元素。没有闪烁，效果很好。

```
jQuery(function () {
    jQuery.noConflict();
        jQuery('input[data-content]').popover({
            trigger: 'focus'
        }).on('hidden.bs.popover', function(){
            jQuery(this).show();
        });
}); 
```

您可以对工具提示使用相同的技术，只需使用`on('hidden.bs.tooltip'), ...`

请注意，我在大部分个人测试中都使用 Bootstrap 3.0.0。这是使用 BS 2.3 的问题的更新小提琴：http: [//jsfiddle.net/calypsonian/U6EDs/13/](http://jsfiddle.net/calypsonian/U6EDs/13/)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-06-16T04:02:54.820

我花了一些时间研究这个。

这就是它发生的原因。

Prototype 的策略是用新的行为**扩展**DOM 元素类，例如“隐藏”。相当于：

```
HTMLElement.prototype.hide = function(...) {...}; 
```

jQuery 假设如果一个元素有一个与事件同名的函数，那么当该事件被触发时，它被认为是该元素的**默认行为**。例如，这对于“focus”、“blur”等事件很有用，其中既有名为“focus”的事件，也有元素上的匹配函数`.focus()`。当您调用 jQuery 时`event.preventDefault()`，它实际上并没有**阻止**默认行为。相反，如果您**不**调用`event.preventDefault()`，则 jQuery 会查找与事件同名的函数，然后在它存在时调用它。

这是手动调用“默认行为”函数的 jQuery src： [https ://github.com/jquery/jquery/blob/d837f119c3729565103005d5d7fa89e1dd8110cb/src/event.js#L338](https://github.com/jquery/jquery/blob/d837f119c3729565103005d5d7fa89e1dd8110cb/src/event.js#L338)

因此，我们遇到了问题。Prototype 使用新功能（即“隐藏”）扩展了基本的 HTMLElement 原型。当触发同名事件时，jQuery 将这些函数视为默认行为。Bootstrap 的 JS 触发了一个同名事件（'hide'），这会错误地导致 jQuery 调用 Prototype 的`Element.hide()`函数。

我将根据这些信息研究解决方案。大概是这样的：

```
jQuery(window).load(function() {
    // Defer this code until after the window 'load' event finishes firing
    setTimeout(function() {
        window.HTMLElement &&
        window.HTMLElement.prototype.hide &&
        delete window.HTMLElement.prototype.hide;
    }, 0);
}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-04-28T15:02:50.117

对我来说更好的（不更改引导源代码）是防止事件并手动删除隐藏工具提示的“in”类：

```
jQuery("input").on('hide.bs.tooltip', function(e) {
    e.preventDefault();
    $("div.tooltip.in").removeClass('in');

}); 
```

唯一的问题是它阻止触发“hidden.bs.tooltip”事件。但如果您不介意，我建议使用此解决方案，因为它不会导致闪烁

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-09-03T11:37:32.513

您可以在 mouseleave 事件中再次显示它，例如，

```
jQuery(function(){  
    jQuery('[data-toggle="popover"]').popover().on('mouseleave',function(){
       $(this).show(0); // show it again when mouse leave event fires
    });
}); 
```

**[现场演示](http://jsbin.com/micesekanati/1/edit)**

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-11-24T09:00:24.960

我添加了一个重要的 CSS 样式来覆盖原型添加的元素样式。这对我有用，因为什么都不应该隐藏元素。

```
#elemId{
  display: block!important; /* or whatever the original display was */
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-07T14:00:08.887

我通过以这种方式编辑 Bootstrap JS “修复”了该错误：（
注释掉行`this.$element.trigger(e)`）

```
, hide: function () {
  var that = this
    , $tip = this.tip()
    , e = $.Event('hide')

  this.$tip.trigger(e)
//this.$element.trigger(e)
  if (e.isDefaultPrevented()) return 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-02-27T08:22:42.203

一种可能的解决方案是始终通过 CSS 显示元素。

```
[data-toggle=tooltip] {
    display: block!important;
} 
```

# c# - 将 ObservableCollection 绑定到 wpf 数据网格：网格保持为空

> ID：15087131
> 
> 赞同：6
> 
> 时间：2013-02-26T10:48:30.753
> 
> 标签：c#, wpf, data-binding, datagrid, observablecollection

我想将一个绑定`ObservableCollection`到 wpf 数据网格。我`ObservableCollection`的不是空的，但是，我的数据网格保持为空：

```
public partial class Fenetre_EvtCode : Window
{
    ObservableCollection<EvtCode> glb_ObservableEvtCode;

    public Fenetre_EvtCode()
    {
        InitializeComponent();

        EvtCode myEvt = new EvtCode();
        glb_ObservableEvtCode   =   myEvt.GetAllEvtCode();
    }
} 
```

这是我的xml：

```
<DataGrid Foreground="Aqua" 
          Name="myDataGridEvtCode" 
          AutoGenerateColumns="True"  
          HorizontalAlignment="Stretch" 
          Margin="0,0,0,0" 
          VerticalAlignment="Stretch" 
          Height="453" 
          ItemsSource="{Binding glb_ObservableEvtCode}" /> 
```

我重复一遍：我查看了调试，我`ObservableCollection`的不是空的。

任何人都知道为什么 ma datagrid 保持空白？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-26T10:54:28.963

您需要绑定到**公共属性**。

```
public ObservableCollection<EvtCode> ObservableEvtCode
{
  get
  {
    return this.glb_ObservableEvtCode;
  }
} 
```

和 XAML：

```
<DataGrid  
    ... 
    DataContext="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
    ItemsSource="{Binding ObservableEvtCode}" >
</DataGrid> 
```

*编辑：*另见这个[答案](https://stackoverflow.com/a/7307104/314334)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-04T17:29:01.320

我的情况，如果这可以帮助任何人：

Class 的数据成员也应该是公共财产。

# batch-file - 在 windows 2008 服务器中运行 powershell 脚本时 windows 任务计划程序出现问题

> ID：15087132
> 
> 赞同：2
> 
> 时间：2013-02-26T10:48:31.830
> 
> 标签：batch-file, powershell, scheduled-tasks, batch-processing, powershell-1.0

这个问题似乎是一个非常常见的问题，但我已经为解决方案做了一切可能的事情，但对我没有任何帮助。我正在尝试通过批处理 powershell.exe c:\Powershell\process.ps1 process.ps1 运行 powershell 脚本 - 我的 powershell 脚本存在于此。我遇到了一个奇怪的问题，当我在 windows 任务计划程序中安排任务时，它显示操作已成功完成，但是当我检查结果时，什么也没发生。“脚本根本没有运行”

当我手动双击批处理时，脚本运行得非常好。我的问题是，当脚本手动批量运行良好时，未在任务调度程序中运行的原因可能是什么。从技术上讲...脚本在 cmd.exe 中运行，但未按计划运行（Windows 任务调度程序 2008 服务器）。

我尝试检查 Windows 任务调度程序中的每一个选项，我自多年以来一直在操作任务调度程序。我完全无法理解进一步的故障排除步骤。请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T15:44:10.530

这有什么用吗？ **创建计划任务以运行 PowerShell 脚本**
[http://blogs.technet.com/b/heyscriptingguy/archive/2012/08/11/weekend-scripter-use-the-windows-task-scheduler-to-run-a -windows-powershell-script.aspx](http://blogs.technet.com/b/heyscriptingguy/archive/2012/08/11/weekend-scripter-use-the-windows-task-scheduler-to-run-a-windows-powershell-script.aspx)

总之：在 Start a Program 窗格的 Program/script 框中
`powershell -file "path\and\script\filename.ps1"`

# c++ - 使用 SEH（结构化异常处理）时观察到的不同行为

> ID：15087137
> 
> 赞同：2
> 
> 时间：2013-02-26T10:48:41.783
> 
> 标签：c++, windows, exception, seh

我正在用 SEH 做一些实验。在我的代码中，我在 __try 子句中编写了导致错误的块，并在 __except() 中编写了一个处理程序。

```
__try{
Test *pTest = 0;
int k = pTest->GetValue();
cout << "continue after exception" << endl;
}
__except(GetExceptionCode() == EXCEPTION_ACCESS_VIOLATION,EXCEPTION_EXECUTE_HANDLER)
{
 cout << "caught!!" << endl;
}
cout << "Exception handled" << endl; 
```

__except() 的第二个参数是以下之一 -

EXCEPTION_CONTINUE_SEARCH 无法识别异常。继续在堆栈中搜索处理程序，首先是包含 try-except 语句，然后是具有下一个最高优先级的处理程序。

EXCEPTION_CONTINUE_EXECUTION 异常被识别但被解除。在发生异常的地方继续执行。

EXCEPTION_EXECUTE_HANDLER 识别出异常。通过执行 __except 复合语句将控制权转移到异常处理程序，然后在发生异常的点继续执行。

当我使用 EXCEPTION_CONTINUE_EXECUTION/EXCEPTION_EXECUTE_HANDLER 时，它不会在异常发生点继续执行（可能是我误解了异常发生点的含义）。当我在调试模式下运行它时，输出是

```
caught
Exception handled 
```

当我在发布模式下运行它时，输出是

```
continue after exception
Exception handled 
```

我不明白为什么它的行为不同。任何人请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:10:47.260

@Joachim 正确指出了逗号运算符问题。

我认为，`__except()`应该是这样的：

```
__except((GetExceptionCode() == EXCEPTION_ACCESS_VIOLATION) ?
         EXCEPTION_EXECUTE_HANDLER :
         EXCEPTION_CONTINUE_SEARCH) 
```

如果异常是访问冲突，这将使异常处理程序执行。如果不是，则异常将传播到最近的 external `__try`（如果有）。

我担心这`pTest`是一个指向类的指针，它可能不需要为了执行而取消引用，`GetValue()`并且编译器会识别出在发布模式下启用优化时。或者甚至它认为`GetValue()`是无用的并且不会生成任何代码来调用它。编译器也有可能看到取消引用 NULL 指针会导致未定义的行为，并决定在编译时通过修改代码来惩罚你，它完全有权这样做。例如，gcc 因这样做而臭名昭著。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:03:09.637

表达方式

```
GetExceptionCode() == EXCEPTION_ACCESS_VIOLATION,EXCEPTION_EXECUTE_HANDLER 
```

不符合您的预期。它所做的是比较`GetExceptionCode()`with`EXCEPTION_ACCESS_VIOLATION`的结果，但整个表达式的结果是`EXCEPTION_EXECUTE_HANDLER`。

[在 Wikipedia 上](http://en.wikipedia.org/wiki/Comma_operator)阅读有关逗号运算符的更多信息。

您想要做的是，可能是：

```
GetExceptionCode() == EXCEPTION_ACCESS_VIOLATION || GetExceptionCode() == EXCEPTION_EXECUTE_HANDLER 
```

# dynamics-crm-2011 - 营销列表中缺少 CRM 2011 功能区

> ID：15087139
> 
> 赞同：0
> 
> 时间：2013-02-26T10:48:44.077
> 
> 标签：dynamics-crm-2011, ribbon

`Ribbon`仅从系统 Entity 中丢失（未显示），`Marketing List`其他任何地方（在所有其他实体上）都可以。我们没有与该实体相关的 javascript。我们在`RibbonDiffXml`下面没有任何自定义是 RibbonDiffXml xml：

```
<RibbonDiffXml>
  <CustomActions />
  <Templates>
    <RibbonTemplates Id="Mscrm.Templates"></RibbonTemplates>
  </Templates>
  <CommandDefinitions />
  <RuleDefinitions>
    <TabDisplayRules />
    <DisplayRules />
    <EnableRules />
  </RuleDefinitions>
  <LocLabels />
</RibbonDiffXml> 
```

谁能帮帮我，怎么带回来？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:44:50.943

我不知道您使用的是哪个版本的 CRM，但如果您在线或在本地应用 UR12，则 UR12 存在一些问题，请检查此[修复](http://www.powerobjects.com/blog/2013/02/13/customized-case-ribbon-missing-ur-12/)。

# c# - This.Task() to VB 得到一个错误，如何解决它？

> ID：15087141
> 
> 赞同：2
> 
> 时间：2013-02-26T10:48:49.787
> 
> 标签：c#, vb.net

对于 C# 代码

```
public Action Task { get; set; }

this.Task(); 
```

但在 VB 中：

```
 Public Property Task() As Action
        Get
            Return m_Task
        End Get
        Set(value As Action)
            m_Task = Value
        End Set
    End Property
 Me.Task() 
```

不管用。如何解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T10:53:14.710

利用

```
Me.Task()() 
```

代替

```
Me.Task() 
```

* * *

在 VB.Net 中访问属性时，您可以提供括号或省略它们，因此

```
Me.Task() = Sub() Console.WriteLine("123") 
```

相当于

```
Me.Task = Sub() Console.WriteLine("123") 
```

因此，如果你简单地写

```
Me.Task() 
```

编译器在这里假设一个属性访问，并期望您使用它的值或分配一个新值。因此，您必须使用第二对括号来使用属性的值并调用委托。

# asp.net - asp.net WebForms 或 MVC3 应用程序中的 PivotGrid 实现

> ID：15087142
> 
> 赞同：0
> 
> 时间：2013-02-26T10:48:53.450
> 
> 标签：asp.net, asp.net-mvc-3, silverlight, gridview, pivot-table

有什么方法可以在 asp.net webform 或 ASP.NET MVC3 应用程序中实现 PivotGrid 功能。我不能使用 DevExpress、Telerik 或任何其他 3rd 方工具，因为它们是经过许可的 veriosn。有谁知道 ASP.NET 中 PivotGrid 的开源库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T21:41:59.493

你可以使用 MVC 项目很棒。他们的 Grid 可以提供数据绑定、分页、分组和各种其他功能。[在这里](http://demo.aspnetawesome.com/GridDemo/)查看。

# security - 考虑到子域的身份验证

> ID：15087148
> 
> 赞同：2
> 
> 时间：2013-02-26T10:49:23.787
> 
> 标签：security, symfony, subdomain

我们开发了一个多租户系统，其中客户端由子域标识。每个客户端可以有多个用户。

大多数用户只能访问一个子域，但也有用户可以访问多个子域。用户还可以在每个子域上具有不同的角色。

所以我们需要检查用户在当前子域上是否有任何角色。如果不是，则身份验证应该失败。

其次，如果用户可以访问多个子域，他可以在它们之间切换。在这种情况下，必须从数据库中重新查询用户的角色。

目前，我们使用带有自定义 EntityProvider 的非常 hacky 的解决方案。我对那个很不满意。

PS：系统背后的数据库是遗留数据库，所以**我们不能将其更改**为使用 ACL 或其他任何东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T14:59:14.000

在没有看到您的架构的情况下不可能给出细节，但我[在这里](https://stackoverflow.com/questions/14893043/load-a-listener-before-the-security-or-custom-provider/15399038#15399038)的回答描述了我如何使用`kernel.request`侦听器来激活基于请求的子域的学说过滤器。我使用 mongodb，但对于教义 orm 基本相同。

# extjs - 如何在 ExtJS 4.1 中集成 Flowplayer

> ID：15087151
> 
> 赞同：0
> 
> 时间：2013-02-26T10:49:32.120
> 
> 标签：extjs, extjs4.1, flowplayer

我正在尝试通过使用将 Flowplayer 集成到 ExtJS 中`Ext.flash.Component`。在执行此操作时，我收到以下错误 -

```
 ReferenceError: swfobject is not defined
new swfobject.embedSWF( 
```

这是我的代码 -

```
var win = Ext.widget('window', {
    title: "Flowplayer Integration",
    layout: 'fit',
    width: 300,
    height: 300,
    x: 20,
    y: 20,
    resizable: true,
    items: {
        xtype: 'flash',
        url: 'flowplayer-3.2.16.swf'
    }
});
win.show(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:03:15.183

该组件需要第三方 SWFObject 库 2.2 或以上版本。它不包含在 ExtJS 发行版中，因此您必须手动将其包含到您的页面中才能使用此组件。

1.  [从http://code.google.com/p/swfobject/](http://code.google.com/p/swfobject/)下载 swfobject.js
2.  要求它，像这样：`<script type="text/javascript" src="/js/swfobject.js"></script>` 或像这样：`Ext.require( '/js/swfobject.js' )`

# c# - 如果我从 SSIS 上的 1 个 xml 任务中获得 2 个输出，是否有可能？

> ID：15087159
> 
> 赞同：1
> 
> 时间：2013-02-26T10:49:54.600
> 
> 标签：c#, xml, xslt, ssis

我的 SSIS 上有一个输入操作类型为 XSLT 的 XML TASK。所以我想在那里得到 2 个输出，我想`.csv`成为`.txt`我的输出。

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T15:06:02.270

这实际上是微不足道的。在数据流任务中，您需要将 xml 源连接到多播转换。

然后，您可以根据需要从多播连接任意数量的输出，因此您可以将其连接到两个原始文件目标

![SSIS 数据流任务](../Images/27fe7dcb7d4783cb6c61ca2c29b4bbec.png)

# c# - C# 将类别存储在一个值中 - 位掩码

> ID：15087162
> 
> 赞同：0
> 
> 时间：2013-02-26T10:50:06.480
> 
> 标签：c#, bit-manipulation, bitmask

我正在开发具有某些类别的应用程序。目的是将类别存储在一个值中。
首先，我选择将它们存储在一个 int 中。
Categories : 0, 1, 2, 3...
然后我做一个位掩码操作来查找选择了哪个类别。
但问题是我不能存储超过 31 个类别是这个 int。

有没有办法制作这样的系统？我不想抛出无限数量的类别，但可能超过 64 个
。目标语言是 C#，但任何其他解决方案都可以。

非常感谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:53:10.670

考虑使用[System.Collections.BitArray](http://msdn.microsoft.com/en-us/library/system.collections.bitarray.aspx)，它是一个任意长度的位数组。您可以进行交集 (AND)、并集 (OR) 和补集 (NOT)。

您现在可以拥有超过 32 个以整数为键的类别：

```
public static class Categories
{
   public const int Category1 = 1;
   public const int Category2 = 2;
    //...
   public const int Category3123 = 3123;
   public const int Max = 5000;
}

BitArray myBitset = new BitArray((int)Categories.Max);
myBitSet.Set(Categories.Category1);
myBitSet.Set(Categories.Category4); 
```

我使用 int 而不是枚举来避免在使用 BitArray 时需要对 int 进行所有强制转换，但显然您可以将它们封装在一个处理类别的类中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:00:50.777

我不确定我是否正确理解了您的问题，所以这里有 2 个答案：

如果您想对一个对象进行分类，但它一次只能保存**一个类别**，您可以完美地选择将类别编号存储在 int 中 - 无需位掩码。

如果您想存储对于给定对象应该**全部**为真或假的不同标志/类别/选项，那么您应该使用更长的位掩码。一个**布尔数组**是个好主意 - 不需要做位操作来获取和设置值，我很确定编译器会最好地优化空间使用（你知道一个布尔变量实际上是*一个字节*，但我假设如果你创建了许多布尔变量，它们实际上会被塞进尽可能少的空间。）无论如何，你总是可以选择你**自己的实现**长，它是 64 位，甚至是 BigInteger - 无限位数，你最初必须将其设置为 1*10^x 其中 x 是您想要访问的最大位位置的数量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T10:58:52.773

如果您这样定义类别：

```
public enum Categories
{
    Category1 = 0x0001,
    Category2 = 0x0002,
    Category3 = 0x0004,
    Category4 = 0x0008,
    Category5 = 0x000F,
    Category6 = 0x0010,
    Category7 = 0x0020,
    Category8 = 0x0040,
    // etc...
} 
```

然后你可以像这样使用它们：

```
var myCategories = Categories.Category1 | Categories.Category4;

if(myCategories | Categories.Category1 > 0)
{
    // do something for category 1....
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:04:44.623

你为什么在这里使用位掩码？存储效率是否存在首要问题？否则，只需使用`HashSet`您的类别。

从概念上讲，位集和常规集容器是相同的，位集只是具有特殊性能特征的特定实现。

# css - CSS 样式：表格边缘的曲率（仅限顶部）

> ID：15087163
> 
> 赞同：0
> 
> 时间：2013-02-26T10:50:12.793
> 
> 标签：css

我试图使表格的左上角和右上角为圆形，但应用以下代码也会使左下角和右下角为圆形。知道如何解决吗？

```
/* sets the curvature of the box */
border-radius: 10px;
-moz-border-radius: 10px;
-webkit-border-radius: 10px;
-o-border-radius: 10px; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:52:02.430

仅指定左上角和右上角：

```
-webkit-border-top-left-radius: 10px;
-webkit-border-top-right-radius: 10px;
-moz-border-radius-topleft: 10px;
-moz-border-radius-topright: 10px;
border-top-left-radius: 10px;
border-top-right-radius: 10px; 
```

[border-radius.com](http://border-radius.com/)是一个有用的快速工具，可以通过这种方式创建边界半径。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T10:52:30.093

习惯了这个

```
border-radius: 10px 10px 0 0;
-moz-border-radius: 10px 10px 0 0;
-webkit-border-radius: 10px 10px 0 0;
-o-border-radius: 10px 10px 0 0; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T10:52:55.037

您可以使用此属性指定边框的每个角。它是这样的：

```
border-radius: [top-left] [top-right] [bottom-left] [bottom-right]

border-radius: 10px 10px 0px 0px;
-moz-border-radius: 10px 10px 0px 0px;
-webkit-border-radius: 10px 10px 0px 0px;
-o-border-radius: 10px 10px 0px 0px; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T10:53:02.007

使用以下代码，它将起作用

```
-moz-border-radius-topleft: 10px;
-moz-border-radius-topright: 10px;
-webkit-border-top-left-radius: 10px;
-webkit-border-top-right-radius: 10px;
border-top-left-radius: 10px;
border-top-right-radius: 10px; 
```

# client-server - 使用负载均衡器管理客户端服务器应用程序

> ID：15087165
> 
> 赞同：1
> 
> 时间：2013-02-26T10:50:18.797
> 
> 标签：client-server, sharing, hosts

我有两个应用程序，一个是 C 语言 [充当 TCP 服务器]，另一个是 C++ [充当 TCP 客户端]。我必须在使用负载均衡器的集群中运行它们。客户端需要知道服务器运行所在的主机。

是否可以让负载均衡器对客户端和服务器应用程序使用相同的主机，以便我可以在客户端中将 localhost 指定为服务器的主机名？

我尝试在文件中写入服务器的主机名，然后客户端轮询文件，直到在其中找到主机名，但这需要负载均衡器同时处理我的服务器和客户端作业。它也浪费了大量的处理器时间。

有更好的方法吗？

谢谢！

普拉斯

# spring - Maven shade插件和Spring资源导入：未引用的bean

> ID：15087173
> 
> 赞同：0
> 
> 时间：2013-02-26T10:50:29.593
> 
> 标签：spring, classpath, maven-shade-plugin

我会用 Maven shade 插件构建一个 Spring - Jnlp 项目，以便只输出一个 jar 文件。该项目有一个依赖项，指的是二级 Spring 项目。生成的 jar 结构正确显示了所有指定的依赖包、类和资源，包括放置在存档根目录中的*导入应用程序上下文.xml 。*不幸的是，Spring 无法在执行时将配置的 bean 加载到导入的文件中。

## pom.xml

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">

  <!-- STUFF -->

  <dependencies> 
    <!-- SPRING AND SECONDARY PROJECT DEPENDENCIES --> 
  </dependencies>

  <build>   
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-shade-plugin</artifactId>
        <version>2.0</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals><goal>shade</goal></goals>
            <configuration>
              <promoteTransitiveDependencies>true</promoteTransitiveDependencies>
              <createDependencyReducedPom>false</createDependencyReducedPom>
              <transformers>
                <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
                  <resource>META-INF/spring.handlers</resource>
                </transformer>
                <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
                  <resource>META-INF/spring.schemas</resource>
                </transformer>
              </transformers>
              <filters>
                <filter>
                  <artifact>*:*</artifact>
                  <excludes>
                    <exclude>META-INF/*.SF</exclude>
                    <exclude>META-INF/*.DSA</exclude>
                    <exclude>META-INF/*.RSA</exclude>
                  </excludes>
                </filter>
              </filters>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins>  
  </build>

</project> 
```

## 应用程序上下文.xml

```
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd" default-lazy-init="true">

  <import resource="classpath:imported-application-context.xml"/>

  <bean id="myBean" class="myPackage.MyClass">
    <property name="myProperty" ref="importedBean" />
  </bean>
</beans> 
```

## 例外

```
org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'myBean' defined in the
classpath resource [application-context.xml]: 
Cannot resolve reference to bean 'importedBean' while 
setting property 'myProperty'; [...] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-20T09:03:15.277

我有一个类似的问题。对我来说，答案是在我的 pom.xml 中包含包含“imported-application-context.xml”作为依赖项的项目。

不确定您是否仍在寻找答案，或者这是否也是您问题的答案，但它可能会帮助遇到此问题的其他人。

# asp.net-mvc-3 - MVC 助手类参数问题

> ID：15087175
> 
> 赞同：0
> 
> 时间：2013-02-26T10:50:36.323
> 
> 标签：asp.net-mvc-3, razor

我在将参数传递给助手类时遇到问题

我的模型

```
public DateTime? dTime { get; set; } 
```

Darin Dimitrov 回答的助手类

```
public static IHtmlString MyFunction(this HtmlHelper html, DateTime value)
        {
            return new HtmlString(value.ToString("dd/MM/yyyy"));
        } 
```

并在 myview 中访问以转换日期时间

```
foreach (var item in Model.lstCommet)
{
 <div class="comment_time">@Html.MyFunction(item.dTime)</div>
 } 
```

但我越来越`"ASP.DetailPageHelper.convertTime(System.DateTime)' has some invalid arguments"`

我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:52:34.207

因为它是一个可为空的类型，所以您需要引用该值。

```
foreach (var item in Model.lstCommet)
{
   <div class="comment_time">@Html.MyFunction(item.dTime.Value)</div>
} 
```

您可能还想运行一个空检查。

```
foreach (var item in Model.lstCommet)
{
   if(item.dTime.HasValue)
   {
       <div class="comment_time">@Html.MyFunction(item.dTime.Value)</div>
   }
} 
```

# android - 绑定来自不同 APK 的服务

> ID：15087181
> 
> 赞同：1
> 
> 时间：2013-02-26T10:50:57.987
> 
> 标签：android, android-service, classcastexception, android-binder

我需要一些帮助来通过扩展 Binder 类来绑定服务。

我有 2 个 APK。第一个声明一个服务，我想从第二个 APK 的活动中绑定它。

两个 APK 使用相同的 sharedUserId 和相同的 android:process。

由于它们在同一个进程中运行，我不想使用 AIDL 进行 IPC 通信（我已经尝试过，它正在工作，但考虑到我只使用一个进程，我不想使用它）。

我可以启动/绑定服务，但无法获得对服务的引用：

```
LocalBinder binder = (LocalBinder);
mService = binder.getService(); 
```

我得到了例外：

```
E/AndroidRuntime(6145): java.lang.ClassCastException: 
```

在我的情况下，是否可以通过扩展 IBinder 类来绑定服务？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T09:47:35.183

我从来没有尝试过，但我怀疑每个 .apk 都是使用自己的 .apk 加载的`ClassLoader`。这意味着来自每个 .apk 的两个具有相同名称的相同类将被 Dalvik VM 视为完全不同的类。

我相信你会发现这是不可能解决的。

因此，您应该使用aidl。我想你对aidl有两个反对意见。

*   您可能不想花时间将所有数据编组到`Parcelable`类等中。但是，如上所述，我不相信您可能会找到一种方法将数据直接作为 Java 对象在两个 .apk 之间传递，即使在同一个进程中运行，所以你别无选择。
*   也许您担心性能。但是您不必担心，因为当它们在同一个进程中时，Binder 调用（包括aidl 调用）变成了普通的函数调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-05T07:16:43.663

**使用 Messenger：** 这是执行进程间通信 (IPC) 的最简单方法，因为 Messenger 将所有请求排队到单个线程中，因此您不必将服务设计为线程安全的。

如果您需要您的界面跨不同的进程（意味着不同的 APK）工作，您可以使用 Messenger 为服务创建一个界面。以这种方式，服务定义了一个 Handler 来响应不同类型的 Message 对象。这个 Handler 是 Messenger 的基础，它可以与客户端共享一个 IBinder，允许客户端使用 Message 对象向服务发送命令。此外，客户端可以定义自己的 Messenger，因此服务可以发回消息。

如果您需要您的服务与远程进程进行通信，那么您可以使用 Messenger 为您的服务提供接口。此技术允许您执行进程间通信 (IPC)，而无需使用 AIDL。

**以下是如何使用 Messenger 的摘要：**

该服务实现了一个处理程序，该处理程序接收来自客户端的每个调用的回调。该服务使用 Handler 创建一个 Messenger 对象（它是对 Handler 的引用）。Messenger 创建一个 IBinder，服务从 onBind() 返回给客户端。客户端使用 IBinder 来实例化 Messenger（它引用服务的处理程序），客户端使用它来向服务发送消息对象。服务在其处理程序中接收每条消息——特别是在 handleMessage() 方法中。

这样，客户端就没有调用服务的方法了。相反，客户端传递服务在其处理程序中接收的消息（消息对象）。

# ajax - 回调数组中的 Ajax Json 计数元素

> ID：15087185
> 
> 赞同：3
> 
> 时间：2013-02-26T10:51:11.900
> 
> 标签：ajax, arrays, json, count, jquery-callback

我有一个简单的 Ajax 调用，想计算返回的数据数组中的元素。但是 .length() 不能以某种方式工作。你知道更好的方法吗？谢谢！

到目前为止我的代码：

```
$.ajax({
                async:   true,
                type:        'post',
                cache:       false,
                url:         'location.php',
                data:        {myJson: dataArray},
                dataType   : 'json',
                success: function(data){
                    var ArrayContent = data.length();
                    if(ArrayContent == 2) {
                        $('#Result').removeClass('loading').empty();
                        $('#PlzInput').val(data[0]);
                        $('#Result').html('Ihr Standort: '+data[1]);
                    } else if( ArrayContent == 1 ) {
                        $('#Result').removeClass('loading').empty();
                        $('#Result').html(data[0]);
                    }
                }
        }); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T10:54:25.930

取下大括号。IE：

```
var ArrayContent = data.length; 
```

# android - 文字转语音适用于模拟器，但不适用于手机

> ID：15087187
> 
> 赞同：1
> 
> 时间：2013-02-26T10:51:13.917
> 
> 标签：android, locale, text-to-speech

我浏览了几乎所有与该主题相关的链接，但没有找到任何合适的答案。我正在尝试构建一个基本的文本到语音应用程序。它在模拟器上工作得很好。但是当我在手机上运行它时，它显示不支持的语言。我想这与语言环境有关。我的手机中设置的默认语言环境是`en_US` 我的代码如下：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    tts = new TextToSpeech(this, this);
    btnSpeak = (Button) findViewById(R.id.btnSpeak);
    txtText = (EditText) findViewById(R.id.txtText);
    btnSpeak.setOnClickListener(new View.OnClickListener() {

        public void onClick(View arg0) {
            // Method yet to be defined
            speakOut();
        }

    });
}

public void onInit(int status) {
    // TODO Auto-generated method stub
    // TTS is successfully initialized
    if (status == TextToSpeech.SUCCESS) {
        // Setting speech language
        // System.out.println(Locale.getAvailableLocales());
        int result = tts.setLanguage(Locale.ENGLISH);
        // int result = tts.setLanguage(Locale.getDefault());
        // If your device doesn't support language you set above
        if (result == TextToSpeech.LANG_MISSING_DATA
                || result == TextToSpeech.LANG_NOT_SUPPORTED) {
            // Cook simple toast message with message
            Toast.makeText(this, "Language not supported",
                    Toast.LENGTH_LONG).show();
            Log.e("TTS", "Language is not supported");

        } else {
            btnSpeak.setEnabled(true);
        }
        // TTS is not initialized properly
    } else {
        Toast.makeText(this, "TTS Initilization Failed", Toast.LENGTH_LONG)
                .show();
        Log.e("TTS", "Initilization Failed");
    }
}

private void speakOut() {
    // Get the text typed
    String text = txtText.getText().toString();
    // If no text is typed, tts will read out 'You haven't typed text'
    // else it reads out the text you typed
    if (text.length() == 0) {
        tts.speak("You haven't typed text", TextToSpeech.QUEUE_FLUSH, null);
    } else {
        tts.speak(text, TextToSpeech.QUEUE_FLUSH, null);
    }

}

public void onDestroy() {
    // Don't forget to shutdown!
    if (tts != null) {
        tts.stop();
        tts.shutdown();
    }
    super.onDestroy();
} 
```

即使我使用`int result = tts.setLanguage(Locale.getDefault());`而不是`Locale.ENGLISH`，它也会显示相同的语言不支持消息

LOGCAT 错误：

```
02-26 16:24:57.492: I/TextToSpeech.java(23356): initTts() successfully bound to service
02-26 16:24:58.015: E/TTS(23356): Language is not supported 
```

我在我的手机上运行这个 - 三星 Galaxy-Y (GT-S5360) 与 Android 版本 2.3.6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:48:54.950

自己找到了解决方案。问题是 android 默认 tts 引擎上可用的语言环境与我手机上的语言环境不匹配。
我安装了另一个 tts 引擎，它可以很好地工作。

# python - 如何使用 REST API 检索最新修改的任务？

> ID：15087190
> 
> 赞同：1
> 
> 时间：2013-02-26T10:51:21.053
> 
> 标签：python, rally

我正在创建一个集成工具来与拉力赛和我的 Web 应用程序集成。我决定使用 Python 在我的网络服务器中运行以检索集会的内容。

在其中一种情况下，我需要从故事中获取最后修改的任务。我不知道 ID、Name 或任何东西，但我知道故事名称。使用故事名称，我怎样才能获得最后修改的任务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T03:45:48.223

我对如何使用 pyral 不是很熟悉，但您应该能够通过查询任务 wsapi 端点来获得您想要的东西，如下所示：

```
/slm/webservice/1.40/task.js?query=(WorkProduct.Name = "Story Name")&order=LastUpdateDate DESC 
```

现在您只需要获取 pyral 即可生成该请求。:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T03:26:47.313

下面是一个如何在 pyral 中设置 Kyle 查询的示例：

```
server = "rally1.rallydev.com"
user = "user@company.com"
password = "topsecret"
workspace = "My Workspace"
project = "My Project"
rally = Rally(server, user, password, workspace=workspace, project=project)
rally.enableLogging("rally.history.showtasks")

fields    = "FormattedID,State,Name,WorkProduct,Name,LastUpdateDate",
criterion = 'Workproduct.Name = "My Tasks User Story"'

response = rally.get('Task', fetch=fields, query=criterion, order="LastUpdateDate Desc",pagesize=200, limit=400)

most_current_task = response.next()
print "%-8.8s  %-52.52s  %s" % (most_current_task.FormattedID, most_current_task.Name, most_current_task.State) 
```

# compiler-construction - 数据流图构建

> ID：15087195
> 
> 赞同：4
> 
> 时间：2013-02-26T10:51:30.763
> 
> 标签：compiler-construction, abstract-syntax-tree, dataflow-diagram

给定抽象语法树，我被要求编写一个程序来构建输入程序代码的数据流图。我在网上搜索了数据流图的定义，发现在一个代码段的数据流分析中发生了很多事情。我想知道要为给定代码构建数据流图，我到底要画什么。很感谢任何形式的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-02T02:38:40.767

给定 AST，要生成数据流图，您必须：

*   建立符号表，以便使用的每个标识符都映射到其显式或隐式定义的类型，还允许您将一个范围内的标识符与另一个范围内的相同标识符区分开来

*   构建[控制流图](http://en.wikipedia.org/wiki/Control_flow_graph)，显示程序代码的执行顺序和条件分支。（在函数之间构建调用图的奖励积分！）

*   确定数据如何沿着控制流图流动，通常使用某种[数据流分析框架](http://en.wikipedia.org/wiki/Data-flow_analysis)，建立对变量生命周期的引用，并将所有这些捕获为图。

您可以使用某种外部图形绘图包*绘制最终图形。*

所有这些步骤都非常复杂，并且可能比您想象的要多得多。我觉得你在这里没有太多背景。您可以通过学习标准编译器文本（Aho/Sethi/Ullman “Compilers”）来获得该背景，该文本非常经典且非常好。但是你需要在开始之前这样做，否则你不会真正理解这些步骤，它们会联系在一起。

# c++ - 如何找到集合的交集

> ID：15087197
> 
> 赞同：4
> 
> 时间：2013-02-26T10:51:38.010
> 
> 标签：c++, c, math

我有 N 组让我们说整数。现在我想要一个函数，它可以找到这些集合的交集。例如，对于以下

```
Set1 = { A, D, E, F, G, L }
Set2 = { N, K, E, G, B, C }
Set3 = { K, P, Q, E, F, G }
Set4 = { Z, Y, C, G, F, E } 
```

由于 E 和 G 在每个集合中，我应该得到`{ E, G }`输出。最简单的方法是什么。我知道编写自己的代码来做到这一点并不难，但也许已经有一个 STL 或任何其他库函数对此我感兴趣。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:07:07.980

我能想到的两种可能的解决方案

1.  将您的集合存储在向量中。使用 对向量进行排序[`std::sort`](http://en.cppreference.com/w/cpp/algorithm/sort)，并使用 计算集合交集[`std::set_intersection`](http://en.cppreference.com/w/cpp/algorithm/set_intersection)
2.  将您的集合存储在 中[`std::set`](http://en.cppreference.com/w/cpp/container/set)，这会导致元素被排序，并使用`std::set_intersection`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T10:57:32.470

见[`std::set_intersection`](http://www.cplusplus.com/reference/algorithm/set_intersection/)。（正如评论中已经指出的那样，您可能想要交集，而不是联合。）

# c# - 为具有共享视图和代码的未来项目设置 MVC 4 模板的想法

> ID：15087199
> 
> 赞同：0
> 
> 时间：2013-02-26T10:51:45.077
> 
> 标签：c#, asp.net-mvc-4, modularity

我正在尝试为未来的开发工作设置一个 mvc 模板/框架。我想要做的是有一种使用共享资源的方法，例如布局和常见的 nuget 包，以便启动新站点使用我们的品牌等而没有太多麻烦。

在 Web 表单中，我们过去只使用源代码控制在应用程序之间共享母版页，但最终变得很麻烦。我想做的是

1.  创建一个基本的 mvc 4 项目
2.  共享包含通用代码（安全、数据库）和视图（布局）的核心项目
3.  安装使用基本设置和包设置新项目的 nuget 包

但是，我不确定这是不是最好的方法，甚至是否有可能以这种方式分享观点。我已经查看了 MvcContrib 的便携式区域，但它看起来对于我们需要的东西来说有点过分了。

有什么建议么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:05:30.007

不确定这是否是“最好”的方式，但我们这样做的方式是

1.  公共代码（安全，数据库）在它自己的源代码控制项目中，即 StackOverFlow.Common、StackOverflow.Data 等。
2.  公共 MVC 代码（C#）（验证注释、Html 助手等）在它自己的源代码控制项目中，即 StackOverFlow.Mvc.Common 等。
3.  常见的 MVC4 项目 - jQuery、NuGet 库、视图、Twitter Bootstrap、Less 等在它自己的源代码控制项目中，即 StackOverFlow.Mvc。

我们使用 TeamCity 提供持续集成，并利用 Team City 7.x 作为内部 NuGet 服务器。

当我们开始一个新的 mvc 项目时，我们创建一个空的 MVC4 项目，设置一个基本结构并运行两个 NuGet 命令。

另一种方法是从 Common MVC4 项目创建一个 vstemplate。这样您就可以将其集成到文件 --> 新项目流程中。

# zend-framework2 - 在 ZF2 的字段集中获取 objectManager / serviceLocator

> ID：15087200
> 
> 赞同：0
> 
> 时间：2013-02-26T10:51:47.097
> 
> 标签：zend-framework2, service-locator

为了让我的对象管理器进入我的字段集的 init() 函数，我遵循了[文档](http://framework.zend.com/manual/2.1/en/modules/zend.form.advanced-use-of-forms.html#the-specific-case-of-initializers) 起初我发现我必须改变

```
public function setServiceLocator(ServiceLocator $sl) 
```

至

```
public function setServiceLocator(ServiceLocatorInterface $sl) 
```

否则我得到一个错误：

```
setServiceLocator() must be compatible with that of Zend\ServiceManager\ServiceLocatorAwareInterface::setServiceLocator() 
```

调用时，`$this->getServiceLocator()`我得到了 FormManager 的一个实例。另外调用`$this->getServiceLocator()->getServiceLocator()`返回`NULL`。

由于我还是 DI 的新手，我想知道我是否缺少注射的地方？

测试我从

```
$form = new MyForm(); 
```

至

```
$formManager = $this->serviceLocator->get('FormElementManager');
$form        = $formManager->get('Application\Form\MyForm'); 
```

从那以后我得到这个错误：

```
exception 'Zend\Di\Exception\RuntimeException' with message 'Invalid instantiator of type "NULL" for "Zend\ServiceManager\ServiceLocatorInterface".'
An abstract factory could not create an instance of applicationformmyform(alias: Application\Form\MyForm). 
```

无论如何`ServiceLocator`，不​​建议使用 Awareness 阅读其他一些线程。正在使用`FormElementProviderInterface`替代方案吗？

我之前在我的课程中使用过 ServiceLocatorAwareInterface，如下所示：

```
use Zend\ServiceManager\ServiceLocatorAwareInterface;
use Zend\ServiceManager\ServiceLocatorInterface;

class MyClass implements ServiceLocatorAwareInterface
{
    protected $services;

    public function setServiceLocator(ServiceLocatorInterface $serviceLocator)
    {
        $this->services = $serviceLocator;
    }

    public function getServiceLocator()
    {
        return $this->services;
    } 
```

并简单地在我的 c 中为每个服务定位器调用它

```
$sm = $this->getServiceLocator();
$myClass = $sm->get('Application\Service\MyClass'); 
```

无需设置 DI。这对于 Fieldsets / Form 是否必要以及在哪里/如何准确？

我试图以这种方式注入我的表单和字段集：

```
 'service_manager' => array(
    'factories' => array(
        'Application\Form\CreateCostcenter' => function (\Zend\ServiceManager\ServiceLocatorInterface $sl) {
            $form = new \Application\Form\CreateCostcenter();
            $form->setServiceLocator($sl);
            return $form;
        },
        'Application\Form\CostcenterFieldset' => function (\Zend\ServiceManager\ServiceLocatorInterface $sl) {
            $fieldset = new \Application\Form\CostcenterFieldset();
            $fieldset->setServiceLocator($sl);
            return $fieldset;
        },
    ),
), 
```

在我的控制器中调用它时，注入适用于我的表单：

```
$form = $this->getServiceLocator()->get('Application\Form\CreateCostcenter'); 
```

但当然它不会将 serviceManager 传递给 Fieldset。

无论如何，我不明白为什么必须为 serviceManagerAwareness 配置一个配置，因为它只需实现它就可以与其他类一起使用。**自ZF 2.1**起，文档中也没有关于高级用法的提示：

[使用初始化程序（如 Zend\ServiceManager\ServiceLocatorAwareInterface）将特定对象注入所有表单/字段集/元素](http://framework.zend.com/manual/2.1/en/modules/zend.form.advanced-use-of-forms.html#the-specific-case-of-initializers)

# c# - 用复杂的表格数据替换 dotx 占位符

> ID：15087201
> 
> 赞同：1
> 
> 时间：2013-02-26T10:51:58.523
> 
> 标签：c#

我们需要使用 Microsoft Word 文档作为模板来替换其占位符。它适用于简单的占位符替换。

然而，复杂性就来了，当我们需要添加占位符时，它将被替换为具有行数的表，具体取决于从数据库中检索到的数据。

目前，我们正在使用 C# 代码通过在替换为 Microsoft Word 模板之前生成数据来执行此操作。

有没有更好的方法呢？或者我们可以使用 SSRS 来满足这个要求吗？

最终结果应该是相同的 word 文档，其占位符由数据库中的值替换。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:06:27.593

You could use:

```
// fill the dt DataTable from the database
System.Data.DataTable dt = new System.Data.DataTable();

// just some test data
int columns = 3;
int rows = 3;
for (int i = 0; i < columns; i++)
{
    dt.Columns.Add();
}
for (int i = 0; i < rows; i++)
{
    dt.Rows.Add(new object[columns]);
}

// replace the placeholder with the table
for (int w = 1; w <= doc.Words.Count; w++)
{
    // check for the placeholder match
    if (doc.Words[w].Text == "PlaceHolder1")
    {
        Table t = doc.Tables.Add(doc.Words[w], dt.Rows.Count, dt.Columns.Count);
        for (int i = 1; i <= t.Rows.Count; i++)
        {
            for (int j = 1; j <= t.Columns.Count; j++)
            {
                // add the 
                t.Cell(i, j).Range.Text = String.Format("PlaceHolder1 row:{0} column: {1}", i, j);
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:06:01.773

查看此处描述的 Word 文档中的 XML 数据绑定[Data/View Separation in Word 2007 using Word XML Data Binding and OpenXML](http://lennilobel.wordpress.com/2009/11/20/dataview-separation-in-word-2007-using-word-xml-data-binding-and-openxml/)

基本上，您可以将内容添加到位于 docx 包中分布的 XML 文件中的 Word 文档中。

[此](http://msdn.microsoft.com/en-us/library/vstudio/bb398244.aspx)MSDN 示例也可能有所帮助。

就我个人而言，我真的很喜欢这种方法，因为它使用了 Word 内置的现有技术，而不是自己解析 OpenXML。

# java - 如何释放文件的内容？

> ID：15087221
> 
> 赞同：1
> 
> 时间：2013-02-26T10:52:43.053
> 
> 标签：java

我想写入一个文件，如果它存在我想释放内容并从文件的开头写入我使用的代码，但我现在不知道如何做到这一点。

```
try {
            File f = new File(testPath + "/logtest.txt");
            if (f.exists()) {
                f.delete();                                                                                             
                BufferedWriter bw = new BufferedWriter(new FileWriter(f, true));
                bw.write(text);
                bw.newLine();
                bw.close();
            } else {
                BufferedWriter bw = new BufferedWriter(new FileWriter(f, true));
                bw.write(text);
                bw.newLine();
                bw.close();

            }
        } catch (Exception e) {

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:58:35.477

构造函数的第二个参数[`FileWriter`](http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html)允许指定是否要附加或覆盖内容：

> 公共 FileWriter（文件文件，布尔附加）抛出 IOException
> 
> 在给定 File 对象的情况下构造一个 FileWriter 对象。如果第二个参数为真，那么字节将被写入文件的末尾而不是开头。
> 
> 参数：
> 
> *   file - 要写入的 File 对象
> *   append - 如果为真，那么字节将被写入文件的末尾而不是开头

在您的代码中，您通过`true`. 只需将其更改为`false`：

```
BufferedWriter bw = new BufferedWriter(new FileWriter(f, false)); 
```

编辑：如果您在问题中提供的代码在循环内，您应该如何更改它：

```
try {
    File f = new File(testPath + "/logtest.txt");
    if (f.exists()) {
        f.delete();
    }
    BufferedWriter bw = new BufferedWriter(new FileWriter(f, false));

    for/while (...) { // your loop here
        // extract your text
        bw.write(text);
    }

    bw.close();
    f.close();
} catch (Exception e) {
    // handle exceptions...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T10:59:33.923

你必须使用

```
BufferedWriter bw = new BufferedWriter(new FileWriter(f, false)); 
```

`append`您正在使用的构造函数中的第二个参数`FileWriter`是一个标志，它控制在第一次写入之前是否应该截断文件，或者是否应该附加写入的数据。

[见 javadoc](http://docs.oracle.com/javase/6/docs/api/java/io/FileWriter.html#FileWriter%28java.io.File,%20boolean%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:04:16.590

这样做会覆盖之前的任何内容。

```
 String fileName = "foo.txt";
    FileWriter fw = null;
    try{
        fw = new FileWriter(fileName);
        fw.write("haha");
    } catch (IOException e) {
        System.err.println("Could not write to the file.");
    }finally{
        if(fw!=null)
            try {
                fw.close();
            } catch (IOException e) {
                System.err.println("Could not close the file.");
            }
    } 
```

如果要附加数据使用

```
fw.append(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:09:19.680

试试下面的代码。

```
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;

public class FileClient {

    public static void main(String[] args) {
        try {

            String content = "Hello test";

            File file = new File("D:\\filename.txt");

            // if file doesnt exists, then create it
            if (!file.exists()) {
                file.createNewFile();
            }

            FileWriter fw = new FileWriter(file.getAbsoluteFile());
            BufferedWriter bw = new BufferedWriter(fw);
            bw.write(content);
            bw.close();

            System.out.println("Done");

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T11:18:22.260

您删除了文件，因为您`f.delete();`循环执行了一个。

你应该做这样的建设：

```
File f = new File(testPath + "/logtest.txt");
if (f.exists()) {
    f.delete();     
}
BufferedWriter bw = new BufferedWriter(new FileWriter(f, false));

while (...)
    String text = ...;

    bw.write(text);
    bw.newLine();
}
bw.close(); 
```

这样，您只需创建/删除文件一次。

# c# - 从 Windows 窗体应用程序监听 WCF 服务

> ID：15087223
> 
> 赞同：0
> 
> 时间：2013-02-26T10:52:46.690
> 
> 标签：c#, winforms, wcf, web-services, listener

我的任务是在我的公司 Web 应用程序中编写一些功能（用 C# 和 ASP.NET 编写）。

Web 应用程序的一部分允许客户通过网站提出支持票。这些通过 WCF Web 服务发布到服务器。

该公司想要的是一种机制，当客户提出支持票时，技术人员会收到一个 Windows 窗体应用程序的通知，该应用程序将位于任务托盘中，并显示气球提示，说明有一张新票。

托管 Web 应用程序（和 WCF 服务）的服务器与技术人员的机器位于不同的域上，因此我相信这种机制将需要某种 REST 服务，该服务将消息发布到所有正在侦听的 Windows 窗体客户端。

我浏览了很多关于 REST 服务的文章，听 WCF ......没有太大进展！

我的问题是：

*   什么会被认为是可接受的现代方法？
*   我可以使用 Web 应用程序 (WCF) 中已经采用的技术吗？
*   我从哪里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:16:57.820

如果您已经实现了用于**发布**票证的 WCF 服务，那么我认为扩展该服务并添加一种**列出**票证的方法是一项巨大的努力。

对于性能，您可以有一个接受日期的重载，允许您在该日期之后获得所有票。- 这意味着您的第一个请求可以获得所有票，并且包含最后请求日期的未来请求将仅获得新票。

使用 Windows 窗体应用程序中的新方法使用服务并定期轮询它。然后在服务返回新票时弹出您的气球提示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T06:29:27.770

您可以创建一个 DuplexService。即指定技术人员将接收通知的CallbackContract。双工虽然有点不标准。

```
 [ServiceContract(Namespace=ServiceContractNamespaces.ServiceContractNamespace,
                 CallbackContract = typeof(ISupportTicketCallback))]
public interface ISupportTicketService
{
           [OperationContract]
           int CreateSupportTicket (SupportTicket supportTicket);
}
public interface ISupportTicketCallback
{
        [OperationContract]
        void SupportTicketCreated(int supportTicketId);
} 
```

或者，您的 WCF 服务可以通过 MSMQ 将消息发布到技术人员的应用程序。

在任何一种情况下，通知都将是事件驱动的。无需投票。非常干净的解决方案:)

# java - -sourcepath 与 -classpath

> ID：15087224
> 
> 赞同：5
> 
> 时间：2013-02-26T10:52:53.460
> 
> 标签：java, classpath, javac

学习甲骨文认证我正在尝试考试期间可能发生的所有可能情况。例如，这里对shell命令行（基于unix）有一点疑问：

让我们假设有一个名为的文件夹`myProject`和一个名为的子文件夹`myProject/source.`

文件`SubFile.java`在文件夹中`myProject/source`，另一个文件`File.java`在`myProject`文件夹中。

通过键入以下命令，我可以得到不同的行为：

`cd source`（因此，目前我在“myProject/source”）

`javac -sourcepath ../ File.java`
`File.java`// 如果我尝试从`myProject`文件夹编译并返回子文件夹 后，命令 ../ 无法访问“文件夹” ：

`javac -classpath ../ SubFile.java`

// 带有标志`-classpath`，它似乎接受`../`访问`super`文件夹的语法。

你知道它为什么会这样吗？而且有没有机会访问`super`带有`-sourcepath`标志的文件夹？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:07:28.363

这取决于是否`SubFile`还引用`File`.

考虑以下代码：

```
public class SubFile {
    private static File file = new File();
} 
```

假设这个文件位于你的源文件夹中，并假设你在源文件夹中，那么

```
javac -sourcepath ../ SubFile.java 
```

将编译`SubFile.java`到`SubFile.class`源文件夹中，并将编译`File.java`到`File.class`父文件夹中。如果这些文件之间没有依赖关系，那么编译器将*不会*编译`File.java`（意味着编译器不会自动编译所有文件`sourcepath`）。

使用 编译时`-classpath`，还会在类路径中搜索源文件，*除非* 您明确指定单独的源路径 - 在以下情况下，编译器将抛出错误（假设您之前已清理过 File.class 文件）：

```
javac -classpath .. -sourcepath \temp SubFile.java 
```

另请参阅[javac - Java 编程语言编译器](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html)和[javac 的类路径和源路径选项之间的差异](https://stackoverflow.com/questions/2441760/differences-between-classpath-and-sourcepath-options-of-javac)以获取更多信息。

这两个链接的重点是：

> 注意：通过类路径找到的类如果也找到它们的源，则可能会自动重新编译。

# google-plus - 根据个性化 URL 获取 Google+ 商家页面 ID

> ID：15087225
> 
> 赞同：9
> 
> 时间：2013-02-26T10:52:54.047
> 
> 标签：google-plus

我们正在寻求实施`rel=publisher`以根据我们的 Google+ 页面验证我们的网站。

但是，根据[Rich Snippets tool](http://www.google.com/webmasters/tools/richsnippets)，这似乎只适用于数字页面 ID：例如[https://plus.google.com/103037366582313115962/](https://plus.google.com/103037366582313115962/)

但是，我们有一个虚荣 URL [https://plus.google.com/+TheGuardian](https://plus.google.com/+TheGuardian)

如何根据虚 URL 找出我们的数字页面 ID？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-26T16:43:15.207

好的，解决了这个问题：

*   以Google+ 用户身份访问[https://plus.google.com/ 。](https://plus.google.com/)
*   使用搜索框搜索您的页面
*   复制页面搜索结果的链接位置。例如`https://plus.google.com/u/1/113000071431138202574`

...网址的最后一个片段是您的 Google+ 信息页 ID

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-03-31T11:41:17.980

为了从虚 URL 中获取 21 位 ID，您需要使用 people.get API！

[只需在此处](https://developers.google.com/apis-explorer/#p/plus/v1/plus.people.get?userId=%252BTeslaMotors&_h=1&)输入带有加号的虚 URL 部分（例如 +Name）作为用户ID，然后向下滚动到“响应”部分以获取您的 ID。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-26T08:10:32.780

1.  转到 G+ 页面
2.  `Ctrl+U`然后按`Ctrl+F`
3.  键入 data-oid。
    例如：data-oid="101059889519664604142"

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-16T13:07:33.713

您只需右键单击名称（页面名称或人名）选择复制链接地址并将其粘贴到新选项卡中，您将看到代码，因为我的代码是[https://plus.google.com/+InzimamTariq](https://plus.google.com/+InzimamTariq)

但是当我这样做时，这是作为回报。

[https://plus.google.com/109309640886924591969](https://plus.google.com/109309640886924591969)

希望你喜欢它，它会帮助你

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-04-29T03:55:33.157

1.  转到 -> www.Google.com
2.  [Press] +UserName 其中“UserName”是您的用户名
    *（通常您的电子邮件是 UserName@google.com）*
3.  将鼠标悬停在左上角的**主页**上以获取下拉菜单
    在主页下方，您应该会看到**个人资料** <- 点击**个人资料**
4.  检查您的网址，如果应该如下所示： https:
    [//plus.google.com/u/0/+UserSetUrl/posts](https://plus.google.com/u/0/+UserSetUrl/posts)
    *或*
    [https://plus.google.com/u/0/12398987468276/posts](https://plus.google.com/u/0/12398987468276/posts)

    *   +UserSetURL 是您的 google+ 个人资料名称。
    *   如果您尚未创建自己的特定 URL/ID，那么这些数字就是您的 ID。
    *   您应该将 Numbers 更改为简单的名称，例如 MyName 或 UserID，这样您就不必再这样做了。

**注意**：这是截至 2015 年 4 月 28 日的 UI

# css - 锚标记高度不适合 TD

> ID：15087235
> 
> 赞同：0
> 
> 时间：2013-02-26T10:53:19.327
> 
> 标签：css, asp.net, html-table, treeview, anchor

我正在使用树视图来填充网页中的行。在 html 中，这被呈现为表格和锚标记。悬停时未选择顶部边缘和底部边缘（即，如果我们将鼠标放在项目的顶部边缘，则锚标记没有悬停。

**问题**- 当我将鼠标悬停在图像上时，未选择锚标记。

**问题**- 我需要边缘被`<a>`.

[http://jsfiddle.net/krishnathota/tGWsH/](http://jsfiddle.net/krishnathota/tGWsH/)

1.  我需要边缘被`<a>`.
2.  `<a>`当鼠标悬停在图像上时，我需要更改锚标记文本的颜色。

实际上，我已将 pageSource 从浏览器复制到小提琴中。如果你愿意，我会给出树视图代码。

你能帮我实现这个目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:55:46.720

习惯了这个

```
.treeView table tbody tr:hover a{

    color:#fff;

} 
```

[**演示**](http://jsfiddle.net/tGWsH/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:10:48.413

那是你要的吗？

[演示](http://jsfiddle.net/tGWsH/2/)

您需要通过扩展 CSS 添加另一个类。

所以我有一些东西要告诉你如何——

**添加在锚点上-**

```
.anchor-back
{
    background:#98bf26;
    color:white;
} 
```

**Javascript-**

```
$('a').hover(function(){
    $('a').removeClass('anchor-back');
    $(this).addClass('anchor-back');

}); 
```

我希望你能从这里得到一个想法。

# postgresql - 现有 Postgres 数据库与 Solr

> ID：15087236
> 
> 赞同：1
> 
> 时间：2013-02-26T10:53:21.523
> 
> 标签：postgresql, solr

我们有一个使用 postgres 数据库的应用程序，它有大约 50 个表。每个表包含大约 300 万条记录（平均）。这些表时不时地用新数据更新。现在，我们想在我们的应用程序中实现搜索功能。一次需要在一个表上执行搜索（不需要连接）。

我已经阅读了有关 postgres 全文支持的信息，这看起来很有希望。但与它相比，Solr 似乎超级快。我可以将现有的 postgres 数据库与 Solr 一起使用吗？如果表得到更新，我是否需要重新索引所有内容？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-27T06:17:48.290

绝对值得一试 Solr。我们将许多涉及在多个表上的 JOIN 查询以及对不同字段进行排序的 MySQL 查询移至 Solr。我们对 Solr 的搜索速度、排序速度、分面功能和高度可配置的文本分析/标记化选项感到非常满意。

`If tables get updated would I need to re-index everything again?`

不，您可以运行增量导入仅重新索引您的新文档和更新的文档。请参阅[https://wiki.apache.org/solr/DataImportHandler](https://wiki.apache.org/solr/DataImportHandler)。

开始使用[https://lucene.apache.org/solr/4_1_0/tutorial.html](https://lucene.apache.org/solr/4_1_0/tutorial.html)以及其中的所有链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T20:30:49.913

既然没有人跳进来，我会回答的。

恐怕这一切都取决于。这取决于（至少）

*   每个“文档”中的文本有多大
*   您希望搜索的灵活性如何
*   数据库和文本搜索之间需要多少集成
*   多快才够快
*   你对两者都有多少经验

当我有一个需要一些文本搜索的数据库时，我只是使用了 PG 的内置选项。如果我没有对数据库的超级用户访问权限，或者已经在运行大型 Java 设置，那么 Solr 可能会很有吸引力。

# c++ - 如何在 C++ 中生成 mhtml 文件？

> ID：15087240
> 
> 赞同：0
> 
> 时间：2013-02-26T10:53:28.580
> 
> 标签：c++, html, mime

`MIME`我想生成由 Html 定义的多媒体文档（所谓的）。
所以我可以将相关文件（例如 htm、图像...）打包到`a single mhtml (MIME) file here`（例如：[mime_example.doc](http://sebsauvage.net/wiki/doku.php?do=export_code&id=word_document_generation&codeblock=16)）中。
但我只得到`php implementation here`：[一个基本的 MIME 1.0 类助手](http://sebsauvage.net/wiki/doku.php?id=word_document_generation#ideas_worth_pondering)
（在“基本的 MIME 1.0 类助手”部分）
和`the method to generate`mhtml 文件：

```
header('Content-Type: application/msword');
header('Content-disposition: filename=mydocument.doc')
$doc = New mime10class();
$doc->addFile('mydocument.htm','text/html; charset="utf-8"','Hello, world !');
$doc->addFile('subdir\anotherfile.htm','text/html; charset="utf-8"','Hi there.');
echo $doc->getFile(); 
```

**但是如何使用 c++ 来实现呢？**
（帮助链接：[聚合文档的 MIME 封装，例如 HTML (MHTML)](https://www.rfc-editor.org/rfc/rfc2557)）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:12:57.097

我不确定是否有一个单独的开源库可以执行此操作，但是[https://github.com/coolwanglu/pdf2htmlEX](https://github.com/coolwanglu/pdf2htmlEX)它将 PDF 转换为 html，并且可以选择在单个 html 中打包相关文件（例如 htm、图像……）文件（默认情况下没有），也许你可以使用这个项目的代码作为它的开源！

# objective-c - theos 错误“alertView 未在此范围内声明”

> ID：15087243
> 
> 赞同：0
> 
> 时间：2013-02-26T10:53:47.127
> 
> 标签：objective-c, cydia, theos

我正在做一个调整来改变游戏中的一些东西。
我正在尝试`OpenMenu`使其显示警报，询问用户是否要更改将游戏恢复正常，或者用户是否要继续设置

但在第 88 行：我总是收到此错误`alertView was not declared in this scope`

代码在这里

[http://pastebin.com/Rz8PqG9p](http://pastebin.com/Rz8PqG9p)

请在这里帮助我，当我没有尝试添加另一个警报时，我没有这个 erie

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:59:33.130

看起来参数被命名为**actionSheet**而不是 alertView。我想你可以很容易地改变它。

```
...
- (void)alertView:(UIAlertView *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex {
    if ((alertView.tag == 1)) {
        if (buttonIndex == 0)
        {    
... 
```

# view - Lotus Notes - @Subset 函数 - 获取最后一个元素

> ID：15087255
> 
> 赞同：0
> 
> 时间：2013-02-26T10:54:23.300
> 
> 标签：view, lotus-notes, subset

我试图找出如何从获得的列表中获取最后一个位置

```
@Unique ( @DbLookup( "" : "NoCache" ; @DbName ; _view ; field1+field2 ; 2 )); 
```

这给了我一个包含 5 个元素的列表。（我并不总是知道其中有多少元素）。

我只是为了得到最后一个元素（从最后一个位置）！提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:05:44.267

实际上，答案就在您的问题标题中。您可以使用该`@Subset`功能来做到这一点。所以你的代码是：

```
list := @Unique ( @DbLookup( "" : "NoCache" ; @DbName ; _view ; field1+field2 ; 2 ));
lastElement :=  @Subset(list; -1); 
```

帮助文档说：*如果指定负数，`@Subset`则从右到左搜索列表，但结果从列表的开头开始排序。*

# java - 使用 Smack API 自动将用户添加到名册

> ID：15087263
> 
> 赞同：1
> 
> 时间：2013-02-26T10:54:43.383
> 
> 标签：java, client, xmpp, smack, instant-messaging

我正在使用 Openfire 作为服务器为 Intra Office Messaging System 构建客户端应用程序。使用名册类，我可以使用以下方法找到好友（朋友/联系人）列表：

```
Roster rs= con.getRoster();
Collection<RosterEntry> list=rs.getEntries();
System.out.println("\n\n" + list.size() + " buddy(ies):");
for (RosterEntry r : list) {
    System.out.println(r.getName());
} 
```

但由于这是一个 IOMS（Intra Office Messaging System），因此要求有所不同。无需添加联系人。所有用户都应该看到每个其他用户及其状态。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:28:34.947

一种方法是将您的 openfire 与 AD 集成。将所有用户添加到单个公共组中，然后将该组导入客户端。这样，用户将自动显示为该组的成员，并且该组的所有成员都可以使用他/她的在线状态。并确保无论何时添加新用户，它都会成为该组的成员。这样，每个人都会立即导入用户列表中。

这是一个相同的参考链接：[Openfire Automatic Roster Population via Shared Groups ，这是](http://community.igniterealtime.org/docs/DOC-1619)[将 Openfire 与 LDAP 集成](http://www.igniterealtime.org/builds/openfire/docs/latest/documentation/ldap-guide.html)的指南

另一种方法是更新 Openfire 代码并更改注册过程以添加代码以自动将所有用户添加到新注册用户的好友列表中。您也可以在客户端执行相同的代码。但这不是一条好走的路，因为随着系统中用户数量的增长，它会引起问题。

# resources - 无法加载 C++/CLI DLL 资源

> ID：15087265
> 
> 赞同：2
> 
> 时间：2013-02-26T10:54:53.790
> 
> 标签：resources

我只是想查看资源名称，但什么也没有出现。

我在 Visual Studio 2010 中制作并编译了一个 C++/CLI（托管）DLL，并添加了一些资源文件作为测试（一个图标和一个位图）。我已经检查过 PE Explorer，资源肯定在那里。

我的简单代码：

```
Assembly asm = Assembly.LoadFrom("C:\\test.dll");
String[] res = asm.GetManifestResourceNames(); 
```

我知道 DLL 已加载，因为当我调试时，我可以看到“asm”变量中的所有信息。我也可以从 DLL 导入数据（使用 MEF）。

因此，DLL 具有资源，并且代码肯定正在加载程序集。但为什么我的“res”变量总是返回空字符串列表？

**编辑：** 我创建了一个 C# 类库 (.dll)，其中包含仅用于测试的资源。现在它起作用了！但仍然在我的 C++/CLI DLL 中没有出现资源。不知何故，它们在 DLL 中，但代码无法访问它（仅在 C++ DLL 中）。也许它与托管/非托管代码有关，但由于我是用 CLR 编译它，所以情况似乎并非如此。有什么建议么？

**解决方案** 我明白了！以防万一有人需要。

根据这些主题：

在 C++/CLI 项目中嵌入资源

和

[http://bytes.com/topic/net/answers/571530-loading-markup-xamlreader-load-resource-file#post2240705](http://bytes.com/topic/net/answers/571530-loading-markup-xamlreader-load-resource-file#post2240705)

问题正是 C++/CLI 的问题。您必须在项目属性的链接器选项卡下的输入项中添加它。现在它似乎工作正常。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2020-08-20T08:58:14.777

我有一个类似的问题，你的问题可以帮助我解决它。我的项目平台是 C++/CLI，我的 DLL 平台是 c#。

我想将DLL打包到我的执行文件中，因此我们应该首先通过以下步骤将DLL放入项目资源文件中：

1.复制项目路径中的DLL。

2.将DLL名称（例如test.dll）放在下面的地方属性->链接器->输入->嵌入式托管资源文件

那么我们应该阅读和使用嵌入式DLL：

```
Stream^ stream = Assembly::GetExecutingAssembly()->GetManifestResourceStream("test.dll");

array<unsigned char>^ dllRawBuffer = gcnew array<unsigned char>(stream->Length);

int res = stream->Read(dllRawBuffer, 0, stream->Length);
stream->Close();

Assembly^ dllAssembly = Assembly::Load(dllRawBuffer);

System::Type^ testclass = dllAssembly->GetType("TestNamespace.TestClass");

MethodInfo^ TestMethod = testclass->GetMethod("TestMethodName");

// Create an instance.
Object^ Testobj = Activator::CreateInstance(testclass);

// Execute the method.

array<Object^>^ params = gcnew array<Object^>(2);
params[0] = 2;
params[1] = 3;

Object^ result = TestMethod->Invoke(Testobj, params); 
```

显然，此解决方案仅适用于托管 DLL。

# delphi - delphi中timage和tlabel动态数组的问题

> ID：15087267
> 
> 赞同：0
> 
> 时间：2013-02-26T10:55:03.040
> 
> 标签：delphi

我想添加一个附件，并且每次添加附件时表单都会变长，以便为包含带有标签和一些 16X16 图像的附件信息的行腾出空间。为此，我选择使用动态数组（不确定这是否最好）。每次添加附件时，我都想创建这些对象的新实例。我的代码似乎不起作用。以下代码有什么问题？

```
procedure TVisionMail.AddAttachment(FileString: String);
var
I: Integer;
begin
     AttCount := AttCount + 1; // increment attachment count

     //set attachment file name
     if (AttCount <> 0) and (edAttachment.Text <> '') then
       edAttachment.text := edAttachment.text + ';';
     edAttachment.text := edAttachment.text + FileString;

     //move objects position down to allow space for attachment line
     VisionMail.Height := VisionMail.Height + 25;
     Panel1.Height     := Panel1.Height + 25;
     btnSend.Top       := btnSend.Top + 25;
     btnExit.Top       := btnExit.Top + 25;
     StatusMemo.Top    := StatusMemo.Top + 25;
     Memo1.Top         := Memo1.Top + 25;
     lblBody.Top       := lblBody.Top + 25;

       //Allocate memory for arrays
       SetLength(newImg, AttCount);
       SetLength(newlbl, AttCount);
       SetLength(newDel, AttCount);
       SetLength(newPin, AttCount);

        //create new instance and set parents, positions, color, events
        newImg[AttCount]:= TImage.Create(VisionMail);
        with newImg[AttCount] do
        begin
              Parent     := Panel1;
              Top        := Memo1.Top - 25;
              Left       := 408;
              Height     := 16;
              Width      := 16;
        end;
        newlbl[AttCount]:= TLabel.Create(VisionMail);
        with newlbl[AttCount] do
        begin
              Parent     := Panel1;
              Top        := newImg[I].Top + 2;
              Left       := 397;
              Height     := 3;
              Width      := 13;
              BiDiMode   := bdRightToLeft;
       end;
       newDel[AttCount] := TAdvToolButton.Create(VisionMail);
       with newDel[AttCount] do
        begin
              Parent       := Panel1;
              Top          := newImg[I].Top;
              Left         := 440;
              Height       := 16;
              Width        := 16;
              color        := clBtnFace;
              colorChecked := clBtnFace;
              colorDown    := clBtnFace;
              colorHot     := clBtnFace;
              OnClick      := btnDelAttClick;
              OnMouseEnter := btnDelAttMouseEnter;
              OnMouseLeave := btnDelAttMouseLeave;
       end;
       newPin[AttCount] := TImage.Create(VisionMail);
       with newDel[AttCount] do
        begin
              Parent     := Panel1;
              Top        := newImg[I].Top;
              Left       := 425;
              Height     := 16;
              Width      := 16;
       end;
       //get Icon for extension of file
       lstIcons.GetBitmap(GetIcon(ExtractFileExt
                          (OpenDialog1.FileName)),
                          newImg[AttCount].Picture.Bitmap);
       newlbl[AttCount].Caption    := ExtractFileName(FileString);

end; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:10:14.140

最明显的缺陷是您正在注销所有数组的末尾。例如，你写

```
SetLength(newImg, AttCount); 
```

这意味着有效的索引`newImg`是包容性`0`的。`AttCount-1`但是然后你写

```
newImg[AttCount] := ... 
```

这是一个越界访问，因为最后一个索引是`AttCount-1`. 您对所有阵列访问执行相同的操作。

如果您在启用范围检查的情况下进行编译，编译器将生成一个运行时错误，解释您做错了什么。

就个人而言，我认为您最好使用记录来保存您的四个组件：

```
TAttachmentControls = record
  Img: TImage;
  Lbl: TLabel;
  .. etc.
end; 
```

并使用 a`TList<TAttachmentControls>`作为您的容器。

# responsive-design - 移动模拟器

> ID：15087268
> 
> 赞同：0
> 
> 时间：2013-02-26T10:55:03.720
> 
> 标签：responsive-design, media-queries, fluid-layout

我正在为不同的智能手机、平板电脑等开发新的响应式布局，因此我需要一个模拟器来测试所有设备。想知道是否有人用过任何东西。

注意：我在设计中使用了媒体查询和灵活的布局

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T17:50:02.833

首先，我建议您测试您的应用程序/网站或真实设备。如果您无法获得这些，那么几乎没有建议。

> [Opera Mobile Emulator](http://www.opera.com/developer/tools/mobile/)（它提供了大量不同的视口。您也可以在自己的自定义视口上进行测试。）还有一些在线工具也可以测试您的网站/应用程序。
> 
> [Responsinator](http://www.responsinator.com)（只需将您的实时 URL 放在[那里](http://responsinator.com)，让您的网站在不同设备的视口上的响应能力。）

希望你有更好的想法。

# sublimetext2 - 在 Sublime Text 2 中为 MarkDown 预览插件注册 chromium-browser 失败

> ID：15087270
> 
> 赞同：2
> 
> 时间：2013-02-26T10:55:16.520
> 
> 标签：sublimetext2, markdown, chromium

使用 Linux，Sublime 2，在 chromium 中打开 markdown，而不是 firefox（或其他）。有建议设置

```
webbroser.register('chromium-browser', ??) 
```

然后使用

```
webbrowser.get('chromium-browser').open("file://" + output.name) 
```

代替

```
webbrowser.open("file://" + output.name) 
```

在 MarkdownBuild.py 中将 html 从 markdown 构建到 chromium-browser 而不是默认的（firefox）。但我无法让它工作......

# **更新**

cat ~/.zshrc : `export BROWSER=chromium-browser`>`$BROWSER`显示一个新的铬窗口。来自 Skype 或任何聊天的所有链接都由 chromium 检索。但仍然崇高`Ctrl+B`打开 Firefox。

# load-testing - 使用 Arquillian 进行负载测试？（也许还有其他工具）

> ID：15087272
> 
> 赞同：1
> 
> 时间：2013-02-26T10:55:20.227
> 
> 标签：load-testing, jboss-arquillian

我正在使用 Arquillian，我需要进行负载测试，例如使用 50 个并行线程运行相同的测试。我尝试使用 ContiPerf 2，但没有成功。这不可能。

那么，您是否向我推荐任何使用 Arquillian 进行负载测试的工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T10:18:43.433

就我个人而言，我不认为我会为此而使用*Arquillian*。AFAIK 目前没有可用于负载测试的扩展。*我个人对JMeter*有很好的体验，但这当然取决于你如何设置。

# html - HTML5 会话存储监听器

> ID：15087273
> 
> 赞同：0
> 
> 时间：2013-02-26T10:55:22.370
> 
> 标签：html, session-storage

我有一个 RESTful 后端，每个定义都是无状态的。但是，我确实需要身份验证。为此，我计划使用基本 HTTP 身份验证。由于这需要在每个请求中发送用户名和密码，因此我想将它们存储在客户端。

我正在考虑为此使用 HTML5 会话存储。整体浏览器支持对我的应用程序来说已经足够好了，但是有一个问题。

我需要在会话存储被清除时捕获事件，例如通过关闭选项卡或单击注销按钮。在实际清除会话存储之前，我需要最后一次将凭据发送到 RESTful 服务器，以便它可以为该用户执行清理操作。

问题不在于注销按钮，而在于关闭选项卡或浏览器时更是如此......

我如何捕捉这个事件（也许有一些监听器？），并延迟它的发生，直到我进行最终的 REST 调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-17T08:17:13.733

就浏览器和标签而言，您可以尝试以下链接。 [https://developer.mozilla.org/en-US/docs/DOM/window.onbeforeunload](https://developer.mozilla.org/en-US/docs/DOM/window.onbeforeunload)

# blackberry-10 - 是否可以在 Blackberry10 上导入/导出短信/彩信？

> ID：15087276
> 
> 赞同：1
> 
> 时间：2013-02-26T10:55:30.860
> 
> 标签：blackberry-10, blackberry-cascades

是否可以使用级联 API 以编程方式在 Blackberry10 上导入/导出短信/彩信？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-27T20:29:30.237

SMS 实际上使用与其他消息（如电子邮件）相同的 API。关键区别在于您要专门选择 SMS 帐户，并且您可能希望将其构建为对话的一部分。

使用 BlackBerry PIM API 的[Message](http://developer.blackberry.com/cascades/reference/bb__pim__message__message.html)部分，尝试如下操作：

```
 MessageService messageService;
            AccountService accountService;
            //Get the SMS/MMS account
            QList<Account> accountList = accountService.accounts(Service::Messages,"sms-mms");
            AccountKey accountId =  accountList.first().id();
            // Create a contact to whom you want to send sms/mms. Put the right phone number in yourself
            int contactKey   = -1;
            MessageContact recipient = MessageContact(contactKey, MessageContact::To,"5555555555", "5555555555");

            //Create a conversation  because sms/mms chats most of the time is a conversation
            ConversationBuilder* conversationBuilder = ConversationBuilder::create();
            conversationBuilder->accountId(accountId);
            QList<MessageContact> participants;

            participants.append(recipient);

            conversationBuilder->participants(participants);

            Conversation conversation = *conversationBuilder;
            ConversationKey conversationId = messageService.save(accountId, conversation);

           //Create a message Builder for sms/mms
            MessageBuilder* messageBuilder = MessageBuilder::create(accountId);
            messageBuilder->addRecipient(recipient);
            // SMS API's handle body as an attachment.
            QString body = "body of the sms";
            messageBuilder->addAttachment(Attachment("text/plain","body.txt",body));
            messageBuilder->conversationId(conversationId);
            Message message;
            message = *messageBuilder;

            //Sending SMS/MMS
            MessageKey key = messageService.send(accountId, message);
            qDebug() << "+++++++ Message sent" << endl;` 
```

# facebook - Windows Phone 中其他应用程序使用的推送通知机制

> ID：15087277
> 
> 赞同：4
> 
> 时间：2013-02-26T10:55:33.647
> 
> 标签：facebook, push-notification, windows-phone-7.1, mqtt, mpns

我想知道 gmail、facebook 或其他常见应用在 Windows Phone 中使用什么推送机制？他们是仅使用 MPNS 还是使用其他东西（例如 MQTT）。例如，Facebook 适用于所有平台，因此无论它们是针对不同平台使用不同协议还是使用通用方法。

我想为我的应用程序实现推送通知。同样的应用程序也正在为其他平台（如 Android 和 iPhone）开发。所以我想使用一种可以跨平台使用的机制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-08T20:02:11.480

您可以使用[Urban Airship](http://urbanairship.com)，它提供对 MPNS 和 WNS 的支持`Microsoft Windows Phone 8`和`Windows 8`推送，但不支持 MPNS 推送到`Windows Phone 7`设备

*   .net 文档[http://docs.urbanairship.com/build/build_push.html#windows](http://docs.urbanairship.com/build/build_push.html#windows)
*   iOS 文档[http://docs.urbanairship.com/build/build_push.html#ios](http://docs.urbanairship.com/build/build_push.html#ios)
*   Android 文档[http://docs.urbanairship.com/build/build_push.html#android](http://docs.urbanairship.com/build/build_push.html#android)

或需要更多工作的 [Amazon SNS](http://aws.amazon.com/sns/)

*   .net 的 API [http://aws.amazon.com/sdkfornet/](http://aws.amazon.com/sdkfornet/)
*   iOS API [http://aws.amazon.com/sdkforios/](http://aws.amazon.com/sdkforios/)
*   Android API [http://aws.amazon.com/sdkforandroid/](http://aws.amazon.com/sdkforandroid/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-09T11:15:23.407

您应该将推送通知视为传输通道，而不是更多。每个移动平台（Apple、Google、Microsoft）都使用自己的云来访问您的设备，这可能就足够了。一旦到达，您的移动应用程序可能会做它需要的任何事情（例如，由于推送消息的大小通常是有限的，因此获取有关通知的额外详细信息）。

考虑到这一点，如果发送通知，创建一个服务器应用程序与 3 个不同的云通信并不是什么大问题。

# ruby-on-rails - 如何从 ruby on rails 中的字符串中获取双引号字符

> ID：15087278
> 
> 赞同：2
> 
> 时间：2013-02-26T10:55:33.803
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

如果我在文件中有一个字符串：

```
str = hi "Sonal" 
```

我能够在字符串中获取这行文件。现在我想获取双引号之间的字符。即`Sonal`。我怎样才能在红宝石中做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T10:58:55.197

尝试以下

```
'hi "Sonai"'.match(/"(?<inside_quote>.+)"/)[:inside_quote] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:06:37.807

你可以像这样使用正则表达式，

```
given_string[/\".*\"/] 
```

这将匹配引号下的字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:51:00.627

或不使用正则表达式尝试类似 s[s.index('"')..s.rindex('"')]

# sql - 在 db2 中如何找到所有包含给定文本的存储过程

> ID：15087281
> 
> 赞同：1
> 
> 时间：2013-02-26T10:55:41.480
> 
> 标签：sql, stored-procedures, db2

我想查找系统中所有存储过程中的任何地方是否都在使用表。是否有查询来获取 SP 的所有详细信息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T11:12:59.770

您可以使用 SYSCAT.TABDEP 和 SYSCAT.ROUTINEDEP 系统目录视图。

对于动态 SQL 语句中动态构建和执行的表，您可以使用

```
select routinename,text from syscat.routines where language='SQL' and locate('<table-name>',text)>0 
```

高温高压

沙迪亚拉姆

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-01-08T17:56:53.737

对于我们特殊的 DB2 风格，接受的答案对我不起作用，但它让我朝着正确的方向前进。这是我编写的查询，它允许我在给定模式中搜索存储过程：

```
SELECT ROUTINE_NAME, ROUTINE_DEFINITION FROM sysibm.routines 
WHERE SPECIFIC_SCHEMA='<YourSchemaName>' 
    AND ROUTINE_DEFINITION LIKE '<YourSearchText>%' 
```

将 YourSchemaName 和 YourSearchText 替换为适当的值。

# javascript - 动态添加多行

> ID：15087288
> 
> 赞同：1
> 
> 时间：2013-02-26T10:56:01.090
> 
> 标签：javascript

这是我的代码示例..从示例中，我有两行..我想做的是，我想动态添加这两行..谢谢

```
<table id="datatable">
    <tr>
        <td><input type="text" /></td>
    </tr>
    <tr>
        <td><input type="text" /></td>
    </tr>
</table> 
<button type="button" id="add" onclick="addRow('dataTable')">
    <b>Add</b>
</button>
function addRow(tableID) {
    alert('ttt');
    var table = document.getElementById(tableID);
    var rowCount = table.rows.length;
    var row = table.insertRow(rowCount);
    var colCount = table.rows[0].cells.length;
    for (var i = 0; i < colCount; i++) {
        var newcell = row.insertCell(i);
        newcell.innerHTML = table.rows[0].cells[i].innerHTML;
        //alert(newcell.childNodes);
        switch(newcell.childNodes[0].type) {
            case "text":
                newcell.childNodes[0].value = "";
                break;
            case "checkbox":
                newcell.childNodes[0].checked = false;
                break;
            case "select-one":
                newcell.childNodes[0].selectedIndex = 0;
                break;
        }
    }
} 
```

[jsfiddle 示例](http://jsfiddle.net/zLXmQ/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:07:49.120

尝试这个：

***HTML***

```
<table id="datatable">
       <tr>
        <td><input type="text"  /></td>
       </tr>
       <tr>
        <td><input type="text"  /></td>
       </tr>
     </table> 

<button type="button" id="add" onclick="addRow('dataTable')">
        <b>Add</b>
 </button> 
```

***JS***

```
 $(document).ready(function() {
    $('#add').click(function(){ 
        $('#datatable').append(' <tr> <td>Account No</td> <td>:</td> <td colspan="2"><input size="20" type="text" /></td> <td>Bill No</td> <td>:</td> <td><input type="text" /></td> </tr> <tr> <td>Name</td> <td>:</td> <td colspan="2"><input type="text" /></td> <td>Bill date</td> <td>:</td> <td><input type="text" /></td> </tr>');
}); 
}); 
```

小提琴：http: [//jsfiddle.net/zLXmQ/4/](http://jsfiddle.net/zLXmQ/4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:08:29.570

只需您可以这样做：

```
function addRow(tableId)
{
  $('#' + tableId + ' tr:last').after('<tr><td>Enter You New Row Data Here..</td></tr>');
} 
```

有关更多信息，请查看：[在 jQuery 中添加表格行](https://stackoverflow.com/questions/171027/add-table-row-in-jquery)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:03:54.687

只是浏览并想指出您的表 id- 是数据表，而您的参数是数据表。希望那是相关的

# python - 切换轴时，contourf 结果不同

> ID：15087303
> 
> 赞同：1
> 
> 时间：2013-02-26T10:56:34.687
> 
> 标签：python, matplotlib, axes

我正在绘制等高线图。第一次绘图时，我注意到我的轴错了。所以我切换了轴并注意到两个图的结构不同。在第一个图上，轴和分配是正确的，但结构很混乱。在第二个情节中，情况正好相反。

由于它是一个方阵，我不明白为什么应该存在采样问题。

用 z 值或 x 和 y 的网格转置矩阵也无济于事。无论我以何种方式正确绘制 x 和 y，它都看起来很乱。

这里有人知道我可以尝试的更多想法或可以解决的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:40:11.067

问题是抽样。尽管数组具有相同的大小，但图中的步长对于 x 和 y 轴并不相等。

# sharepoint-2010 - Sharepoint 子站点用户可以访问父站点

> ID：15087306
> 
> 赞同：0
> 
> 时间：2013-02-26T10:56:47.640
> 
> 标签：sharepoint-2010, user-permissions

我将如何阻止用户从功能区中的子站点访问父站点，您可以在其中单击小文件夹并获得站点的树视图，我希望父站点不可见对于属于子站点的用户

我试过给子站点单独的权限，这对我不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:14:48.360

你能检查一下用户在顶级网站上拥有什么样的权限。

有用的是，当用户在子站点中创建并被授予权限时，他会自动被授予能够通过顶级网站集的最小权限。

尝试在顶级站点级别集合的读者组中查找用户。

检查他拥有哪些权限并尝试取消授予权限...

希望能帮助到你，

安德鲁

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:16:24.450

查看可以映射您所有用户拥有的所有autherizastions的powershell脚本，它可以帮助解决问题

# jquery - Dynamic jQuery on click function?

> ID：15087307
> 
> 赞同：1
> 
> 时间：2013-02-26T10:57:01.020
> 
> 标签：jquery

In one of my search bars, upon keyup a div is loaded with the contents of another file.

```
<input type='text' value='search' id='search' /> 
```

My JS code for this task is:

```
$("#search").keyup(function(){  
        var search = $(this).val(); 
        var url = "model/quickpicks_backend.php"; 
        var league = $('#league_form').val();
        var position = $('#compose').val();
        var data = "search="+ search +"&league="+ league +"&position="+ position;
        $('#load').load(url, data);
    }); 
```

All of the URL parameters are effectively passed to model/quickpicks_backend.php and based upon the values of the three parameters that are passed along, PHP will echo out anywhere from 0 to 5 results. Whatever is echoed out will be wrapped inside of a with the class of "result." There is also some JS code. It is as follows:

```
$('.sky').click(function(){
        var num = $('#num').text();
        var num_trim = num.trim();
        var new_num = Number(num) + Number(1);
        $('#num').text(new_num);
        var id = $(this).attr('id');
        var player_id = Number(id) - Number(5);
        var league = $(this).attr('title');

        $.ajax({  
            type: 'GET',  
            url: 'model/quickpicks_list.php',  
            data: 'num='+ num +'&player_id='+ player_id +'&league='+ league,
            dataType: 'JSON',
            success: function(data)
            {  
                $.parseJSON(data);

                $('#'+ id).fadeOut('fast');
                $('#search').val('');
                $('#num').text(new_num);    
                $('#'+ num_trim).html(data.value);

                if(num == 5)
                {
                      alert("done");
                }
            }
        });
    }); 
```

The problem is that whenever .sky is clicked, the data from the most recent element that was clicked isn't collected. Rather, it's all the same info from the very first time a h1.sky is clicked. I thought that maybe using

```
$('.sky').each(function(index) { 
     $(this).click(function(){

    });
}); 
```

instead would work. But, it didn't. Using

```
$('.sky').live(); 
```

sort of worked but upon the 5th click (the click that is supposed to trigger the alert), it alerts multiple times.

A working example can be found [here](http://sportannica.com/quickpicks.php)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:02:30.827

the syntax is

```
$('.sky').live("click",function(
   ........................
)); 
```

this might be the problem

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:03:11.657

Try using a break statement just after the alert statement so that it will move out of the loop.

# xcode - 自定义注释使用可能的 JSON 发送到 webView？

> ID：15087308
> 
> 赞同：1
> 
> 时间：2013-02-26T10:57:07.327
> 
> 标签：xcode, json, webview, mapkit, mkannotation

早安 StackOverflow，在让我的自定义注释调用在我的“europeMapView”上工作后，我现在需要将用户发送到 webView，现在我希望 webView 加载可能来自 JSON 文件的 URL，具体取决于单击的调用。我相信我应该使用 NSJSONSerialization，虽然我不确定如何实现这个？

因此，在“europeMapView”中，当单击“Rome”调出按钮时，它会将用户带到“europeWebView”并加载字符串 www.ThingsAboutRome.com。

我想我可以为每个注释设置一个 webView，但这似乎非常低效。（另外我不能即时更改网址。）

我也在使用故事板。

```
#import "UKFlightsEuropeMap.h"
#import "Annotation.h"

@interface UKFlightsEuropeMap ()

@end

@implementation UKFlightsEuropeMap
@synthesize europeMapView;

//Define the Long and Lat of different European cities.

#define EUROPE_LATITUDE 47.3690;
#define EUROPE_LONGITUDE 8.5380;

#define LONDON_LATITUDE 51.5171;
#define LONDON_LONGITUDE 0.1062;

#define PARIS_LATITUDE 48.8742;
#define PARIS_LONGITUDE 2.3470;

#define BRUSSELS_LATITUDE 50.75;
#define BRUSSELS_LONGITUDE 4.53333;

#define BERLIN_LATITUDE 52.5;
#define BERLIN_LONGITUDE 13.35;

#define MUNICH_LATITUDE 48.1333;
#define MUNICH_LONGITUDE 11.5667;

#define ZURICH_LATITUDE 47.3690;
#define ZURICH_LONGITUDE 8.5380;

#define MILAN_LATITUDE 45.4640;
#define MILAN_LONGITUDE 9.1916;

#define MADRID_LATITUDE 40.4000;
#define MADRID_LONGITUDE -3.6833;

#define ROME_LATITUDE 41.9000;
#define ROME_LONGITUDE 12.5000;

#define LISBON_LATITUDE 38.7000;
#define LISBON_LONGITUDE 9.1833;

#define VIENNA_LATITUDE 48.2088;
#define VIENNA_LONGITUDE 16.3726;

#define THE_SPAN 0.01f;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
    // Custom initialization
}
return self;
}

- (void)viewDidLoad
{
[super viewDidLoad];

[europeMapView setDelegate:self];

// Do any additional setup after loading the view.

//Create my region

MKCoordinateRegion myRegion;

//Set region centre
CLLocationCoordinate2D center;
center.latitude = EUROPE_LATITUDE;
center.longitude = EUROPE_LONGITUDE;

//Set span (zoom level)
MKCoordinateSpan span;
span.latitudeDelta = THE_SPAN;
span.longitudeDelta = THE_SPAN;

myRegion.center = center;
myRegion.span = span;

//Set our region to the europeMapView

[europeMapView setRegion:myRegion animated:YES];

//Annotation

NSMutableArray * locations = [[NSMutableArray alloc] init];
CLLocationCoordinate2D location;
Annotation * myAnn;

//London Annotation

myAnn = [[Annotation alloc] init];
location.latitude = LONDON_LATITUDE;
location.longitude = LONDON_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"London";
myAnn.subtitle = @"London City";

[locations addObject:myAnn];

//Paris Annotation

myAnn = [[Annotation alloc] init];
location.latitude = PARIS_LATITUDE;
location.longitude = PARIS_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Paris";
myAnn.subtitle = @"City of Love";
[locations addObject:myAnn];

//Brussels Annotation

myAnn = [[Annotation alloc] init];
location.latitude = BRUSSELS_LATITUDE;
location.longitude = BRUSSELS_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Brussels";
myAnn.subtitle = @"Brussels";
[locations addObject:myAnn];

//Berlin Annotation

myAnn = [[Annotation alloc] init];
location.latitude = BERLIN_LATITUDE;
location.longitude = BERLIN_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Berlin";
myAnn.subtitle = @"Berlin";
[locations addObject:myAnn];

//Munich Annotation

myAnn = [[Annotation alloc] init];
location.latitude = MUNICH_LATITUDE;
location.longitude = MUNICH_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Munich";
myAnn.subtitle = @"Munich";
[locations addObject:myAnn];

//Zurich Annotation

myAnn = [[Annotation alloc] init];
location.latitude = ZURICH_LATITUDE;
location.longitude = ZURICH_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Zurich";
myAnn.subtitle = @"Zurich";
[locations addObject:myAnn];

//Milan Annotation

myAnn = [[Annotation alloc] init];
location.latitude = MILAN_LATITUDE;
location.longitude = MILAN_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Milan";
myAnn.subtitle = @"Milan";
[locations addObject:myAnn];

//Madrid Annotation

myAnn = [[Annotation alloc] init];
location.latitude = MADRID_LATITUDE;
location.longitude = MADRID_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Madrid";
myAnn.subtitle = @"Madrid";
[locations addObject:myAnn];

//Rome Annotation

myAnn = [[Annotation alloc] init];
location.latitude = ROME_LATITUDE;
location.longitude = ROME_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Rome";
myAnn.subtitle = @"Rome";
[locations addObject:myAnn];

//Lisbon Annotation

myAnn = [[Annotation alloc] init];
location.latitude = LISBON_LATITUDE;
location.longitude = LISBON_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Lisbon";
myAnn.subtitle = @"Lisbon";
[locations addObject:myAnn];

//Vienna Annotation

myAnn = [[Annotation alloc] init];
location.latitude = VIENNA_LATITUDE;
location.longitude = VIENNA_LONGITUDE;
myAnn.coordinate = location;
myAnn.title = @"Vienna";
myAnn.subtitle = @"Vienna";
[locations addObject:myAnn];

//Add the NSMutable Array to the europeMapView.

[self.europeMapView addAnnotations:locations];

}

//Customize the annotation callouts.

-(MKAnnotationView *) mapView:(MKMapView *)europeMapView viewForAnnotation:        (id<MKAnnotation>)annotation { MKPinAnnotationView *MyPin=[[MKPinAnnotationView alloc]     initWithAnnotation:annotation reuseIdentifier:@"current"];
MyPin.pinColor = MKPinAnnotationColorPurple;

UIButton *advertButton = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
if ([[annotation title] isEqualToString:@"London"]){
    [advertButton addTarget:self action:@selector(LondonClicked:)     forControlEvents:UIControlEventTouchUpInside];        
}

if ([[annotation title] isEqualToString:@"Paris"]){
    [advertButton addTarget:self action:@selector(ParisClicked:)     forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Brussels"]){
    [advertButton addTarget:self action:@selector(BrusselsClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Berlin"]){
    [advertButton addTarget:self action:@selector(BerlinClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Munich"]){
    [advertButton addTarget:self action:@selector(MunichClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Zurich"]){
    [advertButton addTarget:self action:@selector(ZurichClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Milan"]){
    [advertButton addTarget:self action:@selector(MilanClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Madrid"]){
    [advertButton addTarget:self action:@selector(MadridClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Rome"]){
    [advertButton addTarget:self action:@selector(RomeClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Lisbon"]){
    [advertButton addTarget:self action:@selector(LisbonClicked:) forControlEvents:UIControlEventTouchUpInside];
}

if ([[annotation title] isEqualToString:@"Vienna"]){
    [advertButton addTarget:self action:@selector(ViennaClicked:) forControlEvents:UIControlEventTouchUpInside];
}

MyPin.rightCalloutAccessoryView = advertButton;
MyPin.draggable = NO;
MyPin.highlighted = YES;
MyPin.animatesDrop = TRUE;
MyPin.canShowCallout = YES;

return MyPin;

}

//Show that the detailDisclosure Button has been pressed.

-(void)LondonClicked:(id)sender {
NSLog(@"London Clicked"); 
}
-(void)ParisClicked:(id)sender {
NSLog(@"Paris Clicked");
}
-(void)BrusselsClicked:(id)sender {
NSLog(@"Brussels Clicked");
}
-(void)BerlinClicked:(id)sender {
NSLog(@"Berlin Clicked");
}
-(void)MunichClicked:(id)sender {
NSLog(@"Munich Clicked");
}
-(void)ZurichClicked:(id)sender {
NSLog(@"Zurich Clicked");
}
-(void)MilanClicked:(id)sender {
NSLog(@"Milan Clicked");
}
-(void)MadridClicked:(id)sender {
NSLog(@"Madrid Clicked");
}
-(void)RomeClicked:(id)sender {
NSLog(@"Rome Clicked");
}
-(void)LisbonClicked:(id)sender {
NSLog(@"Lisbon Clicked");
}
-(void)ViennaClicked:(id)sender {
NSLog(@"Vienna Clicked");
}

- (void)didReceiveMemoryWarning
{
[super didReceiveMemoryWarning];
// Dispose of any resources that can be recreated.
}

@end 
```

编辑：JSON 文件的示例。

```
{
"ID": "London",
"Link": "http://www.London.co.uk",
"ID": "Paris",
"Link": "http://www.Paris.fr"
} 
```

非常感谢您的时间。

缺口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:59:17.767

首先，我建议将您的数据格式更改为以下内容：

```
{
   "london":{
      "link":"http://www.London.co.uk",
      "moredata":"..."
   },
   "paris":{
      "link":"http://www.Paris.fr",
      "moredata":"..."
   }
} 
```

这将代表一个具有相关属性的城市。在您的版本中，不可能为特定城市查找正确的链接。

然后您可以解析和访问不同的部分，如下所示：

```
NSString *json = @"{\"london\":{\"link\":\"http://www.London.co.uk\",\"moredata\":\"...\"},\"paris\":{\"link\":\"http://www.Paris.fr\",\"moredata\":\"...\"}}";

NSData *data = [json dataUsingEncoding:NSUTF8StringEncoding];

NSError *error;

NSDictionary *cities = [NSJSONSerialization JSONObjectWithData:data options:nil error:&error];

NSLog(@"link to london: %@", cities[@"london"][@"link"]);

>> link to london: http://www.London.co.uk 
```

在此之后，您必须使用提取的链接提供您的 webview。

# jquery - jQuery选项卡功能无法在div之间成功切换

> ID：15087312
> 
> 赞同：-1
> 
> 时间：2013-02-26T10:57:18.047
> 
> 标签：jquery, html, tabs

jQuery 讨厌我...我在表格中设置了一组图像，每个图像在下面的 div 中都有一个关联的表单...我希望能够通过将图像用作“选项卡”来在这些表单/div 之间切换'，但它似乎不起作用。我所能做的就是让它隐藏不是第一个的div。这是有史以来最基本的事情。

这是我尝试使用 jQuery 修改的 HTML 示例：

```
<table id="publishimages">
  <tr>
    <td href="#tab-1">
      <img class="image1" src="randomsource1">
    </td>
    <td href="#tab-2">
      <img class="image2" src="randomsource2">
    </td>
 </tr>
</table>

<div id="desc">
  <div id="tab-1">
    Random description1
  </div>
  <div id="tab-2">
    Random description2
  </div>
</div> 
```

这是我的 jQuery 脚本...

```
 $(document).ready(function() {
        $('#desc div').hide();
        $('#desc div:first').show();
        $('#desc td:first').addClass('active');

        $('#desc td img').click(function() {
            $('#desc td').removeClass('active');
            $(this).parent().addClass('active');
            var currentTab = $(this).parent().attr('href');
            $('#desc div').hide();
            $(currentTab).show();
            return false;

        });
    }); 
```

这有什么可怕的错误？有没有比试错更有效的调试 JavaScript 的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:10:41.557

嗨更正了您的代码：

```
$(document).ready(function() { 
            $('#desc div').hide();              
            $('#desc div:first').show();                
            $('#publishimages td:first').addClass('active');        
            $('#publishimages td').click(function(){                    
                $('#publishimages td').removeClass('active');                   
                $(this).addClass('active');                 
                var currentTab = $(this).attr('href');                  
                $('#desc div').hide();                  
                $(currentTab).show();                   
                return false;
                });
    }); 
```

这将做必要的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:19:15.843

我认为您的代码在这里缺少：

```
$('#desc td:first').addClass('active'); 
```

应该是：

```
$('#publishimages td:first').addClass('active'); 
```

还有这些：

```
$('#desc td img').click(function() {
        $('#desc td').removeClass('active'); 
```

应该：

```
$('#publishimages td img').click(function() {
        $('#publishimages td').removeClass('active'); 
```

# java - C3P0 max 语句配置？

> ID：15087314
> 
> 赞同：7
> 
> 时间：2013-02-26T10:57:18.450
> 
> 标签：java, c3p0

我正在使用 C3P0。我有以下配置。我需要缓存语句。

```
maxPoolSize="20" 
minPoolSize="6" 
acquireIncrement="3"
initialPoolSize="3"
maxStatements="2000" 
```

在这里我已经设置`maxStatements`为`2000`。`maxPoolSize`是`20`。这是否意味着将缓存总共 2000*20=40000 条语句？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T11:05:32.110

no`maxStatements`是全局缓存最大大小。

`maxStatementsPerConnection`是每个连接的值。

[c3p0 文档的相关部分](http://www.mchange.com/projects/c3p0/#maxStatements)

# magento - magento 安全单页结帐不起作用？

> ID：15087318
> 
> 赞同：1
> 
> 时间：2013-02-26T10:57:25.853
> 
> 标签：magento, ssl, e-commerce, magento-1.7

我正在研究 magento 1.7 版本的 ultimento 主题。我通过管理面板启用了安全 URL（设置-> 配置-> web-> 安全 URL）现在结帐页面是安全的，但它不能正常工作。

填写完帐单信息后，按继续，然后在选择任何运输方式后显示运输方式，我按继续，但只显示加载图像，没有任何反应。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T10:38:31.580

当您点击按钮时，您是否使用浏览器开发人员工具（控制台选项卡）查看页面上发生了什么？

# php - 如何使用 jquery 填充输入文本字段？

> ID：15087320
> 
> 赞同：0
> 
> 时间：2013-02-26T10:57:29.510
> 
> 标签：php, jquery

我对 jquery 真的很陌生。好吧，我有两个输入文本字段，并且我设法通过以下功能在两个输入字段上附加了自动建议列表

```
function lookup(inputString,tableName,colName,divId,listId) {
        if(inputString.length == 0) {
            // Hide the suggestion box.
            $(divId).hide();
        } else {
            $.post("customers.php", {queryString: ""+inputString+"",table:""+tableName+"",col:""+colName+""}, function(data){
                if(data.length >0) {
                    $(divId).show();
                    $(listId).html(data);
                }
            });
        }
    } // lookup 
```

我的表格看起来像这样

```
 <div>
            <form>
                <div>
                    Location
                    <br />
                    <input type="text" size="30" value="" id="inputString" onkeyup="lookup(this.value,'countries','value','#suggestions','#autoSuggestionsList');" onblur="fillValues(this.value,'#inputString','#suggestions');" autocomplete="off"/>
                </div>

                <div class="suggestionsBox" id="suggestions" style="display: none;">
                    <img src="http://localhost/ci/css/images/upArrow.png" style="position: relative; top: -12px; left: 30px;" alt="upArrow" />
                    <div class="suggestionList" id="autoSuggestionsList"  >
                        &nbsp;
                    </div>
                </div>

                <div>
                    Favourite Product
                    <br />
                    <input type="text" size="30" value="" id="inputString1" onkeyup="lookup(this.value,'product','value','#suggestions1','#autoSuggestionsList1');"
"fillValues(this.value,'#inputString1','#suggestions1');"  autocomplete="off"/>
                </div>

                <div class="suggestionsBox" id="suggestions1" style="display: none;">
                    <img src="http://localhost/ci/css/images/upArrow.png" style="position: relative; top: -12px;left: 30px;" alt="upArrow" />
                    <div class="suggestionList" id="autoSuggestionsList1" >
                        &nbsp;
                    </div>
                </div>
            </form>
        </div> 
```

和 fillValues 函数看起来像这样

```
function fillValues(thisVal,inputId,divId)
    {   
       $(inputId).val(thisValue);
       setTimeout("$("+divId+").hide();",200)

    } 
```

现在，当用户单击列表上的一个值时，输入文本字段应该填充该值。但是我无法这样做。我错过了什么？

ps自动建议列表已成功显示，我的customers.php工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:44:11.647

我认为你的函数必须是这样的，oyu 必须添加一个'#'来定位一个带有它的 id 的元素

```
function fillValues(thisVal,inputId,divId)
    {   
       $("#"+inputId).val(thisValue);
       setTimeout("$(#"+divId+").hide();",200)

    } 
```

使用 '#' 来定位具有 id 的元素 使用 '.' 来定位具有其类的元素

# java - 如何从文本文档中预测连续值（时间）？

> ID：15087322
> 
> 赞同：5
> 
> 时间：2013-02-26T10:57:32.260
> 
> 标签：java, python, machine-learning, classification, regression

我有大约 3000 个文本文档，这些文档与文档“有趣”的持续时间有关。因此，假设文档 1 有 300 行带有内容的文本，这导致感兴趣的持续时间为 5.5 天，而另一个具有 40 行文本的文档导致 6.7 天的持续时间是“有趣的”，依此类推。

现在的任务是根据文本内容预测感兴趣的持续时间（这是一个连续值）。

我有两个想法来解决这个问题：

1.  [使用http://radimrehurek.com/gensim/simserver.html](http://radimrehurek.com/gensim/simserver.html)之类的技术构建类似文档的模型。当一个新文档到达时，可以尝试找到过去 10 个最相似的文档，并简单地计算它们的持续时间的平均值，并将该值作为对新文档感兴趣的持续时间的预测。
2.  将文件按持续时间分类（例如 1 天、2 天、3-5 天、6-10 天……）。然后训练一个分类器根据文本内容预测持续时间的类别。

想法 #1 的优点是我还可以计算预测的标准偏差，而对于想法 #2，我不太清楚如何计算类似的预测不确定性度量。我也不清楚选择哪些类别才能从分类器中获得最佳结果。

那么是否有经验法则如何构建一个系统来最好地预测文本文档中的连续值（如时间）？应该使用分类器还是应该使用在相似文档上使用平均值的方法？我在这方面没有真正的经验，我想知道，您认为哪种方法可能会产生最好的结果。如果您知道可用于解决此问题的简单现有技术（基于 Java 或 Python），则会给予奖励。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T12:59:54.797

方法（1）称为k-最近邻回归。这是完全有效的。无数其他回归方法也是如此，例如使用文档的标记作为特征的简单多元回归。

[这是使用scikit-learn](http://scikit-learn.org/) (*)拟合线性回归模型的骨架脚本：

```
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.linear_model import SGDRegressor

# build a term-document matrix with tf-idf weights for the terms
vect = TfidfVectorizer(input="filename")
Xtrain = vect.fit_transform(documents)         # documents: list of filenames

# now set ytrain to a list of durations, such that ytrain[i] is the duration
# of documents[i]
ytrain = ...

# train a linear regression model using stochastic gradient descent (SGD)
regr = SGDRegressor()
regr.fit(Xtrain, ytrain) 
```

而已。如果您现在有要预测感兴趣持续时间的新文档，请执行

```
Xtest = vect.transform(new_documents)
ytest = regr.predict(Xtest) 
```

这是一个简单的线性回归。实际上，我希望兴趣持续时间不是文本内容的线性函数，但这可能会让您入门。下一步将是拿起任何关于机器学习或统计学的教科书，这些教科书可以处理更高级的回归模型。

(*) 我是这个项目的贡献者，所以这不是公正的建议。几乎任何半体面的机器学习工具包都有线性回归模型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T12:57:27.563

（以下内容基于我的学术“经验”，但似乎信息量足以发布）。

看起来您的任务可以重新表述为：

> 给定一组评分文档的训练集，设计一个系统，根据其内容对任意文档进行评分。

“基于他们的内容”是很模棱两可的。事实上，我会说这太模棱两可了。您可以尝试找到那些似乎对分数负责的文档的特定特征。在您缩小范围之前，这更像是一项人工任务，例如，您知道您正在寻找构成分数的某些“有价值”的词，或者可能是词组（查看[http://en.wikipedia. org/wiki/N-gram](http://en.wikipedia.org/wiki/N-gram)）。

您也可以尝试基于相似性度量开发类似搜索引擎的系统，`sim(doc1, doc2)`. 但是，您需要一个包含所有可能分数（从最低到最高，多次）的大型语料库，因此对于每个输入文档，类似的文档都有机会存在。否则，结果将是不确定的。

根据 sim() 将返回的值，该度量应满足如下关系：

```
sim(doc1,doc2) == 1.0 - |score(doc1) - score(doc2)|. 
```

要测试度量的质量，您可以计算每对文档的相似性和得分差异，并检查[相关性](http://en.wikipedia.org/wiki/Pearson_product-moment_correlation_coefficient)。

第一个选择是使用[tf-idf的](http://en.wikipedia.org/wiki/Tf%E2%80%93idf)[余弦相似度](http://en.wikipedia.org/wiki/Cosine_similarity)

您还提到了对数据进行分类。在我看来，这似乎是一种“证明”较差的相似性度量的方法。即，如果衡量标准是好的，那么应该清楚文档将属于哪个类别。至于分类器，您的文档应该首先定义一些“特征”。

如果你有大量的文档，你可以尝试[集群](http://en.wikipedia.org/wiki/K-means_clustering)来加速这个过程。

最后，为了确定最终分数，我建议处理一些最相似的文档的分数。在这种情况下，原始平均值可能不是最好的主意，因为“不太相似”也意味着“不太准确”。

至于实现，请看：[Python 中 N-Gram、tf-idf 和余弦相似度的简单实现](https://stackoverflow.com/questions/2380394/simple-implementation-of-n-gram-tf-idf-and-cosine-similarity-in-python)。

（恕我直言，在不进一步了解其内容或内容与分数之间的关系的情况下，3000 个文档的数量太少了，无法用它做任何可靠的事情。）

# reportviewer - 一个或多个数据源缺少凭据

> ID：15087326
> 
> 赞同：1
> 
> 时间：2013-02-26T10:57:42.610
> 
> 标签：reportviewer, rdlc, credentials

我正在使用 ReportViewer 在网页上实现一系列 rdlc 报告。最初生成报告时工作正常，但是当我尝试更改报告页面时，显示以下错误：

**“一个或多个数据源缺少凭据”**

我检查了本地报告的数据源设置是否正确，并且报告的第一页正确显示的事实证明了这一点。

当我将报告导出为 PDF 或任何其他格式时，它会正确包含所有报告页面。

我也尝试过实现 PageNavigation 事件，但在调用事件之前会引发此错误。

有没有人对这个问题有任何煽动，可能有什么解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T09:13:53.350

好的，我发现了问题。我将 AsyncRendering 设置为 false 以使报表查看器能够拉伸到页面的整个宽度。

不幸的是，这会导致回发并且整个页面被重新加载，并且显然数据源丢失了。

不幸的是，我现在必须手动管理报表查看器的宽度，而且看起来不太好。

无论如何，解决方案是确保 AsyncRendering = true。

# algorithm - 简单的前馈神经网络的行为不符合预期

> ID：15087329
> 
> 赞同：1
> 
> 时间：2013-02-26T10:57:49.853
> 
> 标签：algorithm, neural-network

我很难弄清楚为什么我的前馈人工神经网络几乎总是无法学习我简单的“或”感知器：

*   0 或 0 : 0
*   1 或 0 : 1
*   0 或 1 : 1
*   1 或 1 : 1

我尝试了各种网络配置：1 或 2 个隐藏层，隐藏层上有 2 到 8 个神经元，偏置（值 = 1，连接到每个隐藏神经元和输出神经元）

对于此示例，网络如下所示：

```
[1]    [3]
[2]    [4]    [6]
       [5] 
```

*   输入层：[1] 和 [2]
*   隐藏层：[3] 和 [4] 和 [6]
*   输出层：[6]

**注释：**

*   神经元 i : [i]
*   [i] 和 [j] 之间的权重：w(i,j)
*   [i] 值：v(i)
*   [i] 错误：e(i)
*   信号（t）：1/（1 + e^-t）

**权重初始化**

每个权重设置为 -0.5 到 0.5 之间的随机值

**输入**

v(1) 和 v(2) 设置为随机值：0 或 1

**传播值（从左到右）：**

*   v(3) = sig(v(1) * w(1,3) + v(2) * w(2,3))
*   v(4) = sig(v(1) * w(1,4) + v(2) * w(2,4))
*   v(5) = sig(v(1) * w(1,5) + v(2) * w(2,5))
*   v(6) = sig(v(3) * w(3,6) + v(4) * w(4,6) + v(5) * w(5,6))

**预期输出：如果 (v(1) 或 v(2)) 为真，则为 1，否则为 0**

*   e(6) = (预期 - v(6)) * v(6) * (1 - v(6))

**传播错误（从右到左）**

*   e(3) = e(6) * w(3,6) * v(3) * (1 - v(3))
*   e(4) = e(6) * w(4,6) * v(4) * (1 - v(4))
*   e(5) = e(6) * w(5,6) * v(5) * (1 - v(5))

**更新权重（学习率 = 1）**

*   w(1,3) = w(1,3) + v(1) * e(3)
*   w(1,4) = w(1,4) + v(1) * e(4)
*   w(1,5) = w(1,5) + v(1) * e(5)
*   w(2,3) = w(2,3) + v(2) * e(3)
*   w(2,4) = w(2,4) + v(2) * e(4)
*   w(2,5) = w(2,5) + v(2) * e(5)
*   w(3,6) = w(3,6) + v(3) * e(6)
*   w(4,6) = w(4,6) + v(4) * e(6)
*   w(5,6) = w(5,6) + v(5) * e(6)

**执行 300 次并打印每个结果：**

*   如果 v(6) > 0.5，则为 True
*   如果 v(6) < 0.5，则为 False
*   与预期输出比较

在几个 epoch 之后，网络几乎总是返回 v(6) > 0.9，即使 v(1) = v(2) = 0

有时（大约 20 次中的 1 次），它有效，网络正确学习

我究竟做错了什么 ？

**编辑：** 我找到了！

罪魁祸首是：

*   e(3) = e(6) * w(3,6) *** v(3) * (1 - v(3))**
*   e(4) = e(6) * w(4,6) *** v(4) * (1 - v(4))**
*   e(5) = e(6) * w(5,6) *** v(5) * (1 - v(5))**

应该是：

*   e(3) = e(6) * w(3,6)
*   e(4) = e(6) * w(4,6)
*   e(5) = e(6) * w(5,6)

# c# - 用多个 byte[]s 填充一个 byte[]

> ID：15087331
> 
> 赞同：7
> 
> 时间：2013-02-26T10:57:58.007
> 
> 标签：c#, visual-studio, sqlite, bytearray

我创建了一个在我的 SQLiteDatabase 中存储字节数组的应用程序。同样的应用程序还每隔“x”秒从数据库中选择字节数组。

我的应用程序的*数据流*如下：

> 应用程序 -> SQLiteDatabase -> 应用程序

**我的问题是：**

如何用来自 SQLiteDatabase 的所有传入字节数组填充一个字节数组？

**例如：**

```
Byte[] Data; 
```

需要填充以下字节数组：

```
Byte[] IncomingData; 
```

*IncomingData*不断被*SQLiteDatabase*填充。

*数据*需要不断地用*IncomingData*填充。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:04:12.557

只需使用`Concat`：

```
data1.Concat(IncomingData); 
```

您需要添加`System.Linq`命名空间引用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T11:07:52.053

您可以采取几种方法。

1.  使用一个`List<byte>`和[`List.AddRange`](http://msdn.microsoft.com/en-us/library/z883w3dc.aspx)
2.  使用 LINQ[`Enumerable.Concat`](http://msdn.microsoft.com/en-us/library/bb302894.aspx)
3.  使用[`Array.Copy`](http://msdn.microsoft.com/en-us/library/system.array.copy.aspx)并手动完成所有操作

在这三个中，如果可能的话，使用`List`它会（可能）减少所需的数组复制量。这就是 List 的用途，他们在幕后使用具有一定[容量](http://msdn.microsoft.com/en-us/library/y52x03h2.aspx)的数组，它从 4 开始，当达到容量时翻倍。甚至可以使用`list.Capacity`属性或构造函数将容量设置为某个较大的数字，`int`就像使用数组一样。您始终可以使用`List.ToArray`.

`byte`Enumerable.Concat 可能只会创建一个最小大小的数组，这意味着每次获得更多s时都需要创建一个新数组。

# jsf - JSF commandButton 确保动作完成

> ID：15087334
> 
> 赞同：1
> 
> 时间：2013-02-26T10:58:06.903
> 
> 标签：jsf, onclick, action, commandbutton

在转到下一页之前，如何确保此命令按钮的操作已完成？

```
<a4j:commandButton value="Edit Skin" render="@all"
                action="#{helloBean.setCurrentSkin(skin)}"
                onclick="window.location.href = 'resources/html/Editor.xhtml';" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:03:10.040

使用`oncomplete`代替`onclick`：

```
oncomplete="window.location.href = 'resources/html/Editor.xhtml'" 
```

另一种方法是在您的操作方法中重定向，只需返回字符串：

```
return "Editor.xhtml?faces-redirect=true"; 
```

# android - Android活动管理器死了

> ID：15087335
> 
> 赞同：0
> 
> 时间：2013-02-26T10:58:08.543
> 
> 标签：android

我在我的项目中使用了两个活动。我正在从活动 1 移动到活动 2 以遍历我的数据。在从活动1 移动到活动2 的特定时间后，我得到错误`ActivityManager`已死。请告诉我Android中此异常的解决方案。

```
ActivityManager(60): Process com.example.textApp(pid 719) has died. 
```

# java - setVisible() 方法不适用于放置在 JPanel 上的 JButton

> ID：15087336
> 
> 赞同：0
> 
> 时间：2013-02-26T10:58:14.980
> 
> 标签：java, swing, jframe, jpanel

在我的 Swing 应用程序中，我有带有“添加客户”按钮的 MainFrame。当我单击“添加客户”按钮时，我希望在 MainFrame 消失时出现客户表单。客户表单只有 JTabbedPane。AddCustomerPanel 是一个单独的类，它只有取消按钮。AddCustomerPanel 已作为选项卡添加到 Customer 表单的 JTabbedPane。当我单击取消按钮时，我希望客户框架消失并再次出现大型机。我尝试使用 setVisible() 方法。但它没有用。请帮助我做到这一点。

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

class MainFrame extends JFrame{
    private JButton btnMain;

    MainFrame(){
        setSize(400,200);
        setVisible(true);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setLayout(new FlowLayout());        
        btnMain = new JButton("Add Customer");

        btnMain.addActionListener(new ActionListener(){
                public void actionPerformed(ActionEvent e){
                        new Customer().setVisible(true);
                        this.setVisible(false); // Not working
                }
        });

        add(btnMain);
    }
    public static void main(String args[]){
        new MainFrame();
    }
} 
```

* * *

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

class Customer extends JFrame{
    private JTabbedPane tabMain;

    Customer(){
        setSize(500,300);
        setVisible(true);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setLayout(new FlowLayout());
        tabMain = new JTabbedPane();
        tabMain.setPreferredSize(new Dimension(490,290));
        tabMain.add("Add Customer",new AddCustomerPanel());
        add(tabMain);   
    }
} 
```

* * *

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

class AddCustomerPanel extends JPanel{

    private JButton btnCancel;

    AddCustomerPanel(){
        setSize(400,200);
        setVisible(true);
        setLayout(new FlowLayout());
        btnCancel = new JButton("Cancel");
        btnCancel.addActionListener(new ActionListener(){
                public void actionPerformed(ActionEvent e){
                        this.setVisible(false); // Not working
                        new MainFrame().setVisible(true);

                }
        });
        add(btnCancel); 
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T14:20:04.707

我找到了解决方案。

```
SwingUtilities.getWindowAncestor(this).setVisible(false);

new MainFrame().setVisible(true); 
```

# xml - 在使用 XSL 将 XML 转换为 XML 方面需要帮助

> ID：15087337
> 
> 赞同：0
> 
> 时间：2013-02-26T10:58:21.300
> 
> 标签：xml, xslt

好的，我正在编辑原始帖子。我想我通过替换原始 XML 的名称标签做了很多尝试。无论如何，这是原始文件的摘录：

```
<EMPLOYEE_LIST>
   <EMPLOYEES>
      <EMPLOYEE>
         <EMPID>650000</EMPID>
         <FIRST_NAME>KEITH</FIRST_NAME>
         <MIDDLE_NAME>HUTCHINSON</MIDDLE_NAME>
         <LAST_NAME>ROGERS</LAST_NAME>
         <EMP_TYPE></EMP_TYPE>
         <EMP_REF_ID>500000</EMP_REF_ID>
         <JOINED_ON>2001-10-06</JOINED_ON>
         <COMMENTS>Miscellanous Comments</COMMENTS>
         <NATIONALITY>
            <VALUE>American</VALUE>
         </NATIONALITY>
         <EMP_AKA>
            <AKA_NAME>Danny</AKA_NAME>
         </EMP_AKA>
         <EMP_AKA>
            <AKA_NAME>Dan</AKANAME>
         </EMP_AKA>
         <EMP_AKA>
            <AKA_NAME>Ray</AKA_NAME>
         </EMP_AKA>
         <EMP_ADDR>
            <STREET> </STREET>
            <CITY> </CITY>
            <STATE> </STATE>
            <ZIP> </ZIP>
            <COUNTRY> </COUNTRY>
       </EMPLOYEE>
    </EMPLOYEES>
</EMPLOYEE_LIST> 
```

我在使用上述 XML 时遇到的问题是，我找不到在一个属性下容纳多个 AKA（也称为）属性的方法，而我用于此转换的 XSL 如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
    <xsl:output method="xml" encoding="UTF-8" indent="yes"/>
    <xsl:strip-space elements="*"/>
        <xsl:template match="/EMPLOYEE_LIST">
            <employees>
                <xsl:apply-templates select="EMPLOYEES/node()"/>
            </employees>        
        </xsl:template>

        <xsl:template match="EMPLOYEE">
        <employee>
            <xsl:apply-templates select="*"/>
        </employee>
        </xsl:template>

        xsl:template match="EMPLOYEE/EMPID">
        <emp_id>
            <xsl:value-of select="."/>
        </emp_id>
        </xsl:template>

            <xsl:template match="EMPLOYEE/FIRST_NAME">
        <f_name>
            <xsl:value-of select="."/>
        </f_name>
        </xsl:template>

        <xsl:template match="EMPLOYEE/MIDDLE_NAME">
            <m_name>
                <xsl:value-of select="."/>
            </m_name>
        </xsl:template>

        <xsl:template match="EMPLOYEE/LAST_NAME">
            <l_name>
                <xsl:value-of select="."/>
            </l_name>
        </xsl:template>
        .
        .
        .
        .
        .
        <xsl:template match="EMPLOYEE/EMP_AKA">
        <aka_list>
            <xsl:for-each select="AKA_NAME">
                <aka>
                    <xsl:for-each select=".">
                        <xsl:apply-templates/>
                    </xsl:for-each>
                </aka>
            </xsl:for-each>
        </aka_list>
     </xsl:template>
</xsl:stylesheet> 
```

当应用于我的 XML 时，上面给出的 XSL 给出了以下输出：

```
<?xml version="1.0" encoding="UTF-8"?>
<employees>
      <employee>
         <emp_id>111345</emp_id>
         <f_name>KEITH</f_name>
         <m_name>HUTCHINSON</m_name>
         <l_name>ROGERS</l_name>
         <aka_list>
            <aka>Danny</aka>
         </aka_list>
         <aka_list>
            <aka>Dan</aka>
         </aka_list>
         <aka_list>
            <aka>Ray</aka>
         </aka_list>
      </employee>
</employees> 
```

这不是我想要实现的目标，因为我需要以下格式的数据：

```
<?xml version="1.0" encoding="UTF-8"?>
<employees>
      <employee>
         <emp_id>111345</emp_id>
         <f_name>KEITH</f_name>
         <m_name>HUTCHINSON</m_name>
         <l_name>ROGERS</l_name>
         <aka_list>
            <aka>Danny</aka>
            <aka>Dan</aka>
            <aka>Ray</aka>
         </aka_list>
      </employee>
</employees 
```

有什么办法可以做到这一点？

展望未来，XML 中有大量元素，例如 AKA_NAME。

```
 <aka_list>
            <aka>Danny</aka>
         </aka_list>
         <aka_list>
            <aka>Dan</aka>
         </aka_list>
         <aka_list>
            <aka>Ray</aka>
         </aka_list>
         <aka_list>
            <aka>Danny_2</aka>
         </aka_list>
         <aka_list>
            <aka>Dan_2</aka>
         </aka_list>
         <aka_list>
            <aka>Ray_2</aka>
         </aka_list> 
```

转换应该只继承前 5 个，第 6 个应该被截断，如下所示：

```
 <aka_list>
            <aka>Danny</aka>
            <aka>Dan</aka>
            <aka>Ray</aka>
            <aka>Danny_2</aka>
            <aka>Dan_2</aka>
         </aka_list> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:14:26.957

**更新**：完整 XML 的解决方案。

我尝试使用 XSLT 模板中的注释来解释解决方案。

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
    <xsl:output method="xml" encoding="UTF-8" indent="yes"/>

    <!-- Ignore text nodes by default -->
    <xsl:template match="text()" />

    <!-- Transform tag name EMPLOYEES to employees -->
    <xsl:template match="EMPLOYEES">
        <employees>
            <xsl:apply-templates select="*" />
        </employees>
    </xsl:template>

    <!-- Transform tag name EMPLOYEE to employee -->
    <xsl:template match="EMPLOYEE">
        <employee>
            <xsl:apply-templates select="*" />
        </employee>
    </xsl:template>

    <!-- Transform tag name EMPID to emp_id -->
    <xsl:template match="EMPID">
        <emp_id>
            <xsl:value-of select="." />
        </emp_id>
    </xsl:template>

    <!-- Transform tag name FIRST_NAME to f_name -->
    <xsl:template match="FIRST_NAME">
        <f_name>
            <xsl:value-of select="." />
        </f_name>
    </xsl:template>

    <!-- Transform tag name MIDDLE_NAME to m_name -->
    <xsl:template match="MIDDLE_NAME">
        <m_name>
            <xsl:value-of select="." />
        </m_name>
    </xsl:template>

    <!-- Transform tag name LAST_NAME to l_name -->
    <xsl:template match="LAST_NAME">
        <l_name>
            <xsl:value-of select="." />
        </l_name>
    </xsl:template>

    <!-- When encounter the first EMP_AKA element, print itself and its following
         siblings with the same name within an aka_list element -->
    <xsl:template match="EMP_AKA[1]">
        <aka_list>
            <xsl:apply-templates select="AKA_NAME|following-sibling::EMP_AKA/AKA_NAME" mode="print"/>
        </aka_list>
    </xsl:template>

    <!-- Transform tag name EMP_AKA to aka -->
    <xsl:template match="AKA_NAME" mode="print">
        <aka>
            <xsl:value-of select="." />
        </aka>  
    </xsl:template>

</xsl:stylesheet> 
```

* * *

**更新 2**：如果您不想使用模板模式，因为 AKA_NAME 将在其他地方匹配并以相同的方式处理，您可以将最后两个模板替换为以下模板：

```
<!-- When encounter the first EMP_AKA element, print itself and its following
     siblings with the same name within an aka_list element -->
<xsl:template match="EMP_AKA[1]">
    <aka_list>
        <xsl:apply-templates select="AKA_NAME|following-sibling::EMP_AKA/AKA_NAME" />
    </aka_list>
</xsl:template>

<!-- Exclude all EMP_AKA elements (except the first one because
     the previous template has higher precedence than this one) -->
<xsl:template match="EMP_AKA" />

<!-- Transform tag name EMP_AKA to aka -->
<xsl:template match="AKA_NAME">
    <aka>
        <xsl:value-of select="." />
    </aka>  
</xsl:template>

<xsl:template match="EMP_AKA" /> 
```

此代码产生与前一个相同的输出。

* * *

**更新 3**：OP 询问如何限制输出的 AKA_NAME 元素的数量。这是基于 UPDATE 2 的解决方案。只需将 UPDATE 2 中的最后一个模板替换为

```
<xsl:template match="EMP_AKA[1]">
    <aka_list>
        <xsl:apply-templates select="AKA_NAME|following-sibling::EMP_AKA[position() &lt; 5]/AKA_NAME" />
    </aka_list>
</xsl:template>

<!-- Transform tag name EMP_AKA to aka -->
<xsl:template match="AKA_NAME">
    <aka>
        <xsl:value-of select="." />
    </aka>  
</xsl:template>

<xsl:template match="EMP_AKA" /> 
```

* * *

**原始答案**

OP 编辑​​了帖子并完全更改了 XML 文件。以下是我之前的答案（删除它似乎不正确）。

如果您尝试将所有 <AKA> 元素组合成一个 <AKA_LIST> 元素（不清楚，因为您发布的输出与转换不匹配），那么您可以使用以下转换：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
    <xsl:output method="xml" encoding="UTF-8" indent="yes"/>

    <!-- Just for demo -->
    <xsl:template match="text()" />

    <!-- Match PERSON: create the list -->
    <xsl:template match="PERSON">
        <AKA_LIST>
            <xsl:apply-templates select="NAME/AKA" />
        </AKA_LIST>
    </xsl:template> 

    <!-- Outputs the AKA element, changing the tag name -->
    <xsl:template match="AKA">
        <aka>
            <xsl:value-of select="." />
        </aka>
    </xsl:template>

</xsl:stylesheet> 
```

您将 XML 源转换为：

```
<AKA_LIST>
   <aka>ROSE PETAL</aka>
   <aka>JOHN FILTER</aka>
</AKA_LIST> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T12:17:08.643

您的 XSLT 代码实际上令人困惑，因为您有一些标签，例如`<AKA_LIST>`. 所以我要输入和输出 XML 示例：这里是 XSLT 代码

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes"/>

  <xsl:template match="@*|node()">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="PERSON">
    <xsl:copy>
      <xsl:apply-templates select="NAME[1]"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="NAME">
    <xsl:copy>
      <xsl:apply-templates select="/PEOPLE/PERSON/NAME/AKA"/>
    </xsl:copy>
  </xsl:template>

</xsl:stylesheet> 
```

输入 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<PEOPLE>
  <PERSON>
    <NAME>
      <REFERENCE>GOOD</REFERENCE>
      <AKA>ROSE PETAL</AKA>
      </NAME>
    <NAME>
      <REFERENCE>GOOD</REFERENCE>
      <AKA>JOHN FILTER</AKA>
      </NAME>
  </PERSON>
</PEOPLE> 
```

输出：

```
<?xml version="1.0" encoding="utf-8"?>
<PEOPLE>
  <PERSON>
    <NAME>
      <AKA>ROSE PETAL</AKA>
      <AKA>JOHN FILTER</AKA>
    </NAME>
  </PERSON>
</PEOPLE> 
```

**解释：**

```
<xsl:template match="@*|node()"> ...... 
```

上面的代码将标签从输入复制到输出*AS IS* *，其他模板匹配覆盖此..

```
<xsl:template match="PERSON"> ...... 
```

上面的代码只将一个`<NAME>`标签（第一个）复制到输出中。

```
<xsl:template match="NAME">
    <xsl:copy>
      <xsl:apply-templates select="/PEOPLE/PERSON/NAME/AKA"/>
      ...... 
```

上面的代码**复制** `<AKA>` **了** `<NAME>`. 由于我们只复制一个`<NAME>`标签，所有`<AKA>`标签都出现在`<NAME>`

# python - 无法反编译的 Python

> ID：15087339
> 
> 赞同：-2
> 
> 时间：2013-02-26T10:58:27.783
> 
> 标签：python, compiler-construction, decompiler

可以反编译 .pyc 文件：[反编译 Python 2.7 .pyc](https://stackoverflow.com/questions/8189352/decompile-python-2-7-pyc)

是否可以“编译”python 文件，以便有人类不可读的代码，如`c++ -> exe`二进制文件？..不像纯文本 .py 和*非常容易恢复*的.pyc 文件？（我不介意它是否可以通过暴力破解）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T11:25:28.193

Python 是一种高度动态的语言，并且支持许多不同级别的自省。因此，混淆 Python 字节码是一项*艰巨*的任务。

此外，您的嵌入式 python 解释器仍然需要能够*执行*您的产品随附的字节码。如果解释器需要能够访问字节码，那么其他人也可以。加密无济于事，因为您仍然需要自己解密字节码，然后其他人才能从内存中读取字节码。混淆只会使默认工具更难使用，而不是无法使用。

话虽如此，您必须做以下事情才能使读取应用程序的 Python 字节码变得*非常困难：*

*   为所有 python 操作码值重新分配一个*新*值。重新连接整个解释器以对不同的操作码使用不同的字节值。

*   尽可能多地删除自省功能。你的函数需要有闭包，而代码对象仍然需要常量，但是例如，代码对象中的本地列表是地狱。中性`sys._getframe()`函数，斜线回溯信息。

这两个步骤都需要深入了解 Python 解释器的工作原理以及 Python 对象模型如何组合在一起。您肯定会引入难以解决的错误。

最后，你必须问问自己这是否值得。一个坚定的黑客仍然可以分析您的字节码，进行一些频率分析以重建操作码表，和/或为您的程序提供不同的操作码以查看发生了什么，并破译所有的混淆。创建转换表后，反编译字节码是一件轻而易举的事，重构代码也不远了。

如果您只想防止字节码文件被更改，请为您的`.pyc`文件嵌入校验和，并在启动时检查这些校验和。如果它们不匹配，则拒绝加载。有人会修补您的二进制文件以删除校验和检查或替换校验和，但您不必付出几乎同样多的努力来提供至少一些令牌保护以防篡改。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T11:08:12.470

每个具有代码加密的系统都可能受到攻击，因为解密密钥必须存在于某个地方。

因此，这只是一个努力的问题。

# c# - 使用 JSON.Net 进行 JObject 和 CamelCase 转换

> ID：15087340
> 
> 赞同：38
> 
> 时间：2013-02-26T10:58:29.950
> 
> 标签：c#, json.net

如何将通用 JObject 转换为 camelCase 纯 json 字符串？我试过 JsonSerializerSettings 但不起作用（Newtonsoft.Json 4.5.11）

```
[Test]
public void should_convert_to_camel_case()
{
    var serializer = JsonSerializer.Create(new JsonSerializerSettings()
    {
        ContractResolver = new CamelCasePropertyNamesContractResolver()
    });

    var jo = new JObject();
    jo["CamelCase"] = 1;

    var stringWriter = new StringWriter();
    var writer = new JsonTextWriter(stringWriter);
    serializer.Serialize(writer,jo);

    var serialized = stringWriter.ToString();

    Assert.AreEqual("{\"camelCase\":1}", serialized);
} 
```

**更新** 根据[http://json.codeplex.com/workitem/23853](https://web.archive.org/web/20171005181503/http://json.codeplex.com/workitem/23853)无法完成（tnx 到 @nick_w 的链接）

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2015-01-26T19:13:42.590

这个问题从一个 JObject 开始，想要处理一个驼峰式 JSON 对象。如果您实际上是从一个对象开始并想要获得一个已经被驼峰​​化的 JObject，那么您可以这样做：

```
var serializer = new JsonSerializer()
{
    ContractResolver = new CamelCasePropertyNamesContractResolver()
};
var jo = JObject.FromObject(someDataContract, serializer); 
```

由此产生的 'jo' 将是驼峰式的。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-02-27T07:46:58.277

根据[this Json.NET issue](https://web.archive.org/web/20171005181503/http://json.codeplex.com/workitem/23853)，以`JObject`这种方式序列化a时，合同解析器被忽略：

> 在序列化 JObject 时，合同解析器似乎被忽略了。这肯定不是它应该的样子吗？ [JamesNK](https://web.archive.org/web/20171005181503/http://www.codeplex.com/site/users/view/JamesNK)
> 于 2013 年 1 月 30 日上午 8:50关闭这确实有道理，但恐怕这是一个太大的破坏性变化。

受该页面上解决方法的启发，您可以执行以下操作：

```
var jo = new JObject();
jo["CamelCase"] = 1;

string json = JsonConvert.SerializeObject(jo);
var jObject = JsonConvert.DeserializeObject<ExpandoObject>(json);

var settings = new JsonSerializerSettings()
{
    ContractResolver = new CamelCasePropertyNamesContractResolver()
};

var serialized = JsonConvert.SerializeObject(jObject, settings);

Assert.AreEqual("{\"camelCase\":1}", serialized); 
```

**编辑：**

关于`Dictionary<string, object>`. 因此，这样做会跳过额外的 .NET `JsonConvert.SerializeObject`，但它也减少了对 .NET 的需求`ExpandoObject`，如果您使用的是 .NET 3.5，这很重要。

```
Dictionary<string, object> jo = new Dictionary<string, object>();
jo.Add("CamelCase", 1);

var settings = new JsonSerializerSettings()
{
    ContractResolver = new CamelCasePropertyNamesContractResolver()
};

var serialized = JsonConvert.SerializeObject(jo, settings);

Assert.AreEqual("{\"camelCase\":1}", serialized); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-06-25T18:19:20.657

截至2013 年 5 月 8 日，James Newton-King[发表](http://james.newtonking.com/archive/2013/05/08/json-net-5-0-release-5-defaultsettings-and-extension-data)的关于 Json.NET 5.0 版本的博客文章已通过添加“DefaultSettings”得到解决。该页面的示例如下，但请阅读该页面以了解第 3 方库的详细信息。

```
// settings will automatically be used by JsonConvert.SerializeObject/DeserializeObject
JsonConvert.DefaultSettings = () => new JsonSerializerSettings
    {
    Formatting = Formatting.Indented,
    ContractResolver = new CamelCasePropertyNamesContractResolver()
    };

Employee e = new Employee
    {
    FirstName = "Eric",
    LastName = "Example",
    BirthDate = new DateTime(1980, 4, 20, 0, 0, 0, DateTimeKind.Utc),
    Department = "IT",
    JobTitle = "Web Dude"
    };

string json = JsonConvert.SerializeObject(e);
// {
//   "firstName": "Eric",
//   "lastName": "Example",
//   "birthDate": "1980-04-20T00:00:00Z",
//   "department": "IT",
//   "jobTitle": "Web Dude"
// } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-11-20T13:03:19.070

```
public static JsonSerializer FormattingData()
{
   var jsonSerializersettings = new JsonSerializer {
   ContractResolver = new CamelCasePropertyNamesContractResolver() };
   return jsonSerializersettings;
}

public static JObject CamelCaseData(JObject jObject) 
{   
   var expandoConverter = new ExpandoObjectConverter();
   dynamic camelCaseData = 
   JsonConvert.DeserializeObject(jObject.ToString(), 
   expandoConverter); 
   return JObject.FromObject(camelCaseData, FormattingData()); 
```

}

# html - html5：缓存清单是否共享WebSql的资源

> ID：15087347
> 
> 赞同：1
> 
> 时间：2013-02-26T10:58:55.070
> 
> 标签：html, memory, web-sql

我想知道您可以为 WebSql 数据库分配的最大 50Mb

```
db = openDatabase('db', '1.0', 'data', 50 * 1024 * 1024); 
```

这 50MB 仅用于数据库，还是与缓存清单中的数据共享？

干杯

# sql - SQL Query 不接受所有参数的变量

> ID：15087356
> 
> 赞同：0
> 
> 时间：2013-02-26T10:59:12.473
> 
> 标签：sql

我有一个包含 event_id 列和 schedule_at 列的数据库表。该查询在 php 中调用，如下所示：

```
$columnName = 'scheduled_at';
$start = '2013-02-26';
$end = '2013-02-27';
// query to be executed
$sql = ( SELECT * FROM $table WHERE $columnName BETWEEN $start AND $end ); 
```

执行时查询不起作用，但是以下确实有效

```
$sql = ( SELECT * FROM $table WHERE $columnName BETWEEN $start AND '2013-02-27' ); 
```

和

```
$sql = ( SELECT * FROM $table WHERE $columnName BETWEEN $start AND $start ); 
```

不工作，但以下工作

```
$sql = ( SELECT * FROM $table WHERE $columnName BETWEEN '2013-02-27' AND '2013-02-27' ); 
```

手动插入值使其工作，但失去了功能的用处。任何想法为什么它不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:03:12.023

您需要引用变量，以便创建的 SQL 字符串包含日期值的引号。例如

```
$sql = "( SELECT * FROM $table WHERE $columnName BETWEEN '$start' AND '$end' )"; 
```

# java - 用 Drools 跑步就餐

> ID：15087358
> 
> 赞同：0
> 
> 时间：2013-02-26T10:59:15.290
> 
> 标签：java, drools, zombie-process, repast-simphony

我正在尝试使用 Drools 运行 Repast 僵尸示例，但在运行时出现相同的错误。我创建了僵尸示例并将所有 Drools jar 文件添加到类路径中。但是当我调用 KnowledgeBuilderFactory 的 newKnowledgeBuilder() 函数时：

> KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();

我得到这个例外：

> 线程“AWT-EventQueue-0”中的异常 java.lang.NoClassDefFoundError: org/drools/builder/KnowledgeBuilderFactory

有没有人用 Drools 运行 Repast 的经验？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:14:34.800

检查你的类路径。你错过了它上面的口水罐。

# mysql - MySQL JOIN 返回 NULL 字段

> ID：15087360
> 
> 赞同：1
> 
> 时间：2013-02-26T10:59:19.277
> 
> 标签：mysql

我正在尝试在下面运行脚本，但总是为 name 字段获取 NULL 值。

```
SELECT u.name AS _user_name, s.name AS _school_name
FROM fwg_files AS f
LEFT JOIN users AS u ON u.id = f.user_id
LEFT JOIN user_profiles AS up ON up.user_id = u.id
LEFT JOIN school AS s ON s.id = up.profile_value 
```

在我看来，这个问题在 JOIN ON school 表中，我尝试 SELECT s.id 并且它也返回 NULL 值。

表 fwg_files

```
id  | user_id
240 | 414
241 | 436 
```

表用户

```
id  | name
414 | Name 1
436 | Name 2 
```

表 user_profiles

```
user_id | profile_value
414     | "6"
436     | "14" 
```

表学校

```
id | name

 6 | School 1
14 | School 2 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:12:44.013

不确定您的数据和架构，但如果 up.profile_value 类似于“123”，您可以试试这个：

```
SELECT u.name AS _user_name, s.name AS _school_name
FROM fwg_files AS f
LEFT JOIN users AS u ON u.id = f.user_id
LEFT JOIN user_profiles AS up ON up.user_id = u.id
LEFT JOIN school AS s ON CONCAT('"', s.id, '"') = up.profile_value 
```

# c# - 具有服务引用的必应地图 SharePoint Web 部件

> ID：15087361
> 
> 赞同：0
> 
> 时间：2013-02-26T10:59:19.187
> 
> 标签：c#, silverlight, sharepoint, linq-to-sql

我有一个使用 Linq-to-SQL 服务引用的 SilverLight 应用程序。我的服务参考位于`http://localhost:1832/PositionService.svc`

当我将项目作为 SharePoint Web 部件启动时，此服务不是 SharePoint 模块的一部分。所以它是不可访问的，因为只有“.xap”文件被上传到 SharePoint。

任何人都可以提供提示或帮助解决我的问题吗？

![在此处输入图像描述](../Images/56eb6773513b462c6e418cb32125a894.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T16:44:35.707

当您上传 .xap 时，您应该仍然能够访问该服务，但您必须确保 SharePoint 用户帐户有权访问该服务，并且您还必须添加任何必要的配置设置，例如要加载的程序集和其他，到 Sharepoint-80 web.config 文件。

# objective-c - 无法将谷歌地图地图分配给自定义视图

> ID：15087364
> 
> 赞同：2
> 
> 时间：2013-02-26T10:59:31.633
> 
> 标签：objective-c, google-maps-sdk-ios

因此，我按照[本指南](https://developers.google.com/maps/documentation/ios/map?hl=sv#add_a_map)了解如何将 Google 地图添加到 iOS 应用程序，一切正常。但是我想要做的是分配地图，而不是分配给`self.view`我拖到故事板内部的自定义视图（？）另一个视图，因为在添加地图时`self.view`我不能添加其他元素，比如按钮，或者好吧，我可能可以，但我不知道怎么做。

代码：

```
// Start locationmanager
locationManager = [[CLLocationManager alloc] init];
locationManager.desiredAccuracy = kCLLocationAccuracyBest;
locationManager.delegate = self;
[locationManager startUpdatingLocation];

// Set up the startposition for the camera when the app first starts.
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:59.34702 longitude:18.04053 zoom:10];
mapView_ = [GMSMapView mapWithFrame:CGRectZero camera:camera];
self.view = mapView_; 
```

因此，我在`UIView`当前包含地图的视图内部创建了一个，然后 ctrl 将其拖动以在其中创建一个名为 mapView 的插座`viewController`。所以我改变了代码行

```
self.view = _mapView; 
```

到

```
self.mapView = _mapView; 
```

但这似乎根本不起作用，只是空白。`self.view`和都是`self.mapsView`的实例`UIView`，那么为什么这不起作用？

更新：

这就是我的 viewDidLoad 看起来像 atm 的样子：

```
- (void)viewDidLoad
{
[super viewDidLoad];

[self.mapView addSubview:mapView_];

// Start locationmanager
locationManager = [[CLLocationManager alloc] init];
locationManager.desiredAccuracy = kCLLocationAccuracyBest;
locationManager.delegate = self;
[locationManager startUpdatingLocation];

// Standard cameraposition
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:59.34702 longitude:18.04053 zoom:10];
mapView_ = [GMSMapView mapWithFrame:self.mapView.frame camera:camera];

self.mapView = mapView_;
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-05-16T17:59:09.407

请执行下列操作：

1.  将您的自定义视图类更改`GMSMapView`为 IB 的身份检查器
2.  在您的视图控制器中创建`mapView`此自定义视图的出口（注意出口类型也是`GMSMapView`）

所以现在当你启动你的应用程序时，这个实例将被创建，它会在地图上显示默认位置（伦敦附近）。现在您只需要创建一个相机并将其添加到地图对象中。在您的 ViewDidLoad 方法中添加此代码：

```
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:45.24 longitude:19.84 zoom:6]; 
// set camera location to Novi Sad, Serbia :-)

[self.mapView setCamera:camera];     // set the camera to map 
```

就是这样，您不需要`mapView_`Google 示例代码中的实例变量，也不需要 Google 示例中的任何其他代码。享受！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:05:01.057

在您的代码中，您有：

mapView_ = [GMSMapView mapWithFrame:CGRectZero camera:camera];

CGRectZero 将使其大小为零。您应该改用 self.mapView.frame。

还需要添加添加mapView_作为mapView的子视图：

```
[self.mapView addSubview:mapView_]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T19:36:09.780

在你的项目中试试这个：

```
//
//  testViewController.m
//  maps
//
//  Created by Millén on 2013-02-25.
//  Copyright (c) 2013 JamWeb. All rights reserved.
//

#import "testViewController.h"
#import <GoogleMaps/GoogleMaps.h>

@interface testViewController ()
@property(nonatomic, strong) GMSMapView *gMapView;
@end

@implementation testViewController {
    CLLocation *oldLocation;
}

-(void)loadView
{
    CLLocationDegrees lat = 59.34702;
    CLLocationDegrees lon = 18.04053;

    GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:lat longitude:lon zoom:10];
    self.gMapView = [GMSMapView mapWithFrame:CGRectZero camera:camera];
    self.gMapView.myLocationEnabled = YES;
    self.view = self.gMapView;

    [self updateLocation];
}

- (void)viewDidLoad
{
    [super viewDidLoad];

    // Start locationmanager
    locationManager = [[CLLocationManager alloc] init];
    locationManager.desiredAccuracy = kCLLocationAccuracyBest;
    locationManager.delegate = self;
    [locationManager startUpdatingLocation];

}

- (IBAction)updateLocation {
    [locationManager startUpdatingLocation];
}

- (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations
{
    CLLocation *location = [locations lastObject];

    /*
    if(!oldLocation)
    {
        oldLocation = location;
    }

    if (![location isEqual:oldLocation]) {
        GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude: location.coordinate.latitude
                                                                longitude: location.coordinate.longitude
                                                                     zoom:7];

        mapView_ = [GMSMapView mapWithFrame:CGRectZero camera:camera];
        mapView_.myLocationEnabled = YES;
        self.view = mapView_;

        oldLocation = location;
        [locationManager stopUpdatingLocation];
    }
     */

    NSLog(@"lat%f - lon%f", location.coordinate.latitude, location.coordinate.longitude);
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end 
```

# applescript - 如何指定文件路径而不是名称 InDesign applescript

> ID：15087371
> 
> 赞同：1
> 
> 时间：2013-02-26T10:59:41.350
> 
> 标签：applescript, automator, adobe-indesign

我是applescript的新手。我正在尝试创建一个 Automator 脚本应用程序，该应用程序在 InDesign 中打开一批现有文件，查找并更改文件中的文本。（我认为这会有点复杂，但这并不容易）我正在努力的是将这些文件保存在另一个位置，但使用原始文件名，因为我需要保留原始文件。我有一个脚本来指定路径和文件名，但我只需要指定路径并使用现有文件名。这可能吗？

我试过的代码是这样的：

```
tell application "Adobe InDesign CS5.5"
save document 1 to "users:xxx:Desktop:"
close document 1
end tell 
```

它似乎不起作用，因为我没有指定文件名但我不想！有没有办法调用原始文件名？我假设必须有一种方法可以做到这一点，因为我看不到特定于一个特定文件的脚本的意义。

我的下一步是通过替换文件名的最后一位来重命名文件，例如： xxx_xxx_M6.indd 到 xxx_xxx_M7.indd 我知道如何在另一个脚本中执行此操作，但如果可以在上面的部分中完成，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:44:49.787

如果您想在保存时使用原始文件名，您可以从文件的属性中将其拉出并将其与您要保存到的路径结合起来，如下所示：

```
set origName to the name of document 1 as string
save document 1 to ("your:path:here:" & origName) 
```

编辑：如果您已经有自己的替换后缀的例程，则可以`origName`在将其传递给 save 命令之前执行这些操作。我会在下面留下我的后缀替换，以防它对任何人都有帮助。

* * *

至于你问题的第二部分，关于替换后缀，这取决于你到底想做什么。从你的例子我猜你想增加一个数字，你可以用下面的代码来做：

```
set thePoint to the offset of "." in origName
set firstPart to (characters 1 through (thePoint - 1) of origName) as string
set fpLength to the length of firstPart

set newSuffix to ((the last character of firstPart) as number) + 1
set newName to (characters 1 through (fpLength - 1) of firstPart) & newSuffix ¬
    & ".indd" as string 
```

这需要将文件的名称与其扩展名分开，通过将该名称的最后一个字符（强制为数字）增加 1 来创建一个新后缀，然后组合该批次以形成一个完整的文件名，然后您可以在保存中使用命令。

关键是拆分原始文件名，然后对部分执行操作。

现在，这目前有一些限制：除了单个数字之外的任何后缀都会使事情变得更加复杂（尽管并非不可能），并且假设运行脚本的任何人都在 Finder 的首选项中启用了“显示所有文件扩展名”（这可以工作不过）。

总结一切给我们这个：

```
tell application "Adobe InDesign CS5.5"
    set origName to the name of document 1 as string

    set thePoint to the offset of "." in origName
    set firstPart to (characters 1 through (thePoint - 1) of origName) as string
    set fpLength to the length of firstPart

    set newSuffix to ((the last character of firstPart) as number) + 1
    set newName to (characters 1 through (fpLength - 1) of firstPart) ¬
        & newSuffix & ".indd" as string

    save document 1 to ("your:path:here:" & newName)
end tell 
```

如果您可以提供有关您打算使用的后缀的更多信息，我很乐意更新我的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:46:36.230

InDesign 文档有 3 个您可能感兴趣的属性：
`name`: "xxx_xxx_M6.indd"
`file path`: 文件 "Macintosh HD:sourceFolder:"
`full name`: 文件 "Macintosh HD:sourceFolder:xxx_xxx_M6.indd"

因此，要在桌面上保存（并关闭）同名的打开文件，您可以这样做：

```
tell application "Adobe InDesign CS5.5"  
    save document 1 to "users:xxx:Desktop:" & name of document 1  
    close document 1  
end tell 
```

# c# - 基于 Kinect 数据的 HMM 3D 手势识别中的特征提取

> ID：15087372
> 
> 赞同：3
> 
> 时间：2013-02-26T10:59:45.267
> 
> 标签：c#, algorithm, kinect, gesture-recognition, feature-extraction

我有一组`3D`映射到`[0, 1]`段上的点。这些点代表简单的手势，如圆圈、挥手等。现在我想用它`Hidden Markov Models`来识别我的手势。第一步是提取`(X, Y, Z)`数据的特征。我试图搜索一些有用的东西，并找到了几个例子：、、、`SIFT`等等。`SURF``Fast Fourier Transform`

我很困惑我应该在我的项目中使用哪一个。我想使用来自 Kinect 控制器的数据来识别手势，所以我不需要通过算法跟踪关节。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:30:10.963

我正在研究类似的问题。到目前为止，我发现的最好的材料是 David Ctuhe 的 Kinect Toolbox。有一些用于手势识别、Kinect 数据记录和回放的基本代码。

您可以从这里开始阅读：http: [//blogs.msdn.com/b/eternalcoding/archive/2011/07/04/gestures-and-tools-for-kinect.aspx](http://blogs.msdn.com/b/eternalcoding/archive/2011/07/04/gestures-and-tools-for-kinect.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T22:18:21.813

一两年前，为了一篇关于不同机器学习方法的论文，我不得不实施 HMM 来进行手势识别。我遇到了[Accord .NET Framework](https://code.google.com/p/accord/)，它有助于实现我正在研究的许多功能，包括 HMM。它相当容易使用，它的创建者在论坛上很活跃。

为了训练 HMM，我创建了一个 Kinect 应用程序，它会在身体部位静止 3 秒后开始记录手势，然后将所有点记录到输出文件中，直到所述部位再次停止 3 秒。然后，我选择了我想训练的手势的最佳尝试，并将它们用作我的训练集。

如果您是 Kinect Gesture Recognition 的新手并且**不需要**使用 HMM，我建议您研究一下模板匹配，因为它要简单得多，而且我发现它对于简单的手势非常有效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T20:34:24.703

您是否考虑过 [训练有素的] 支持向量机？

请参阅：LibSVN 库[http://www.csie.ntu.edu.tw/~cjlin/libsvm/](http://www.csie.ntu.edu.tw/~cjlin/libsvm/)

这个想法是将您的手势定义为 n 维训练问题。然后简单地训练每个手势（多分类 SVM）。训练后，您可以将任何用户手势映射为 N 维向量，并尝试使用训练后的模型对其进行分类。

# vbscript - 如何启动 VBS 的交互式控制台？

> ID：15087377
> 
> 赞同：6
> 
> 时间：2013-02-26T10:59:57.707
> 
> 标签：vbscript, console, interpreter, interactive, read-eval-print-loop

非常类似于这个问题：

[如何为 Perl 启动交互式控制台？](https://stackoverflow.com/questions/73667/how-can-i-start-an-interactive-console-for-perl)

我只是希望能够开始输入 VBS 语句，一次一个，并立即评估它们，就像 Python 的 IDLE 一样。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T22:13:18.270

[这](http://www.planetcobalt.net/sdb/vbsh.shtml)是我几年前写的。它基于[这篇博文（](http://www.kryogenix.org/days/2004/04/01/interactiveVbscript)[在此处](https://web.archive.org/web/20040405070027/http://www.kryogenix.org/days/2004/04/01/interactiveVbscript) 存档），但有一些改进。[`Execute`](https://msdn.microsoft.com/en-us/library/03t418d2.aspx)本质上它是一个使用以下语句的 REPL（读取、执行、打印、循环） ：

```
Do While True
    WScript.StdOut.Write(">>> ")

    line = Trim(WScript.StdIn.ReadLine)

    If LCase(line) = "exit" Then Exit Do

    On Error Resume Next
    Execute line
    If Err.Number <> 0 Then
        WScript.StdErr.WriteLine Err.Description
    End If
    On Error Goto 0
Loop 
```

我通常从一个同名的批处理文件（即“vbs.vbs”和“vbs.bat”）开始，如下所示：

```
@cscript.exe //NoLogo %~dpn0.vbs 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:15:42.070

您可以尝试让调试器 ( `cscript //X your.vbs`) 为您工作，或者开始您自己的项目 - 也许基于[这些（前 3 个？）建议](https://web.archive.org/web/20110104151814/http://www.visualbasicscript.com/WeeklyMonthly-Challenge-m47585-p3.aspx)

# window-management - 如何在平铺布局中使用箭头键在 Awesome WM 中导航打开的程序？

> ID：15087379
> 
> 赞同：3
> 
> 时间：2013-02-26T11:00:02.553
> 
> 标签：window-management, awesome-wm

在 Awesome WM 中，您在打开的程序之间切换的方式是转到上一个或下一个客户端。默认情况下，它分别使用键绑定 Mod4 + k 和 Mod4 + j。

但是，假设我在屏幕上使用磁贴布局打开了四个客户端，而屏幕上有四个磁贴显示每个程序。如果目前我在左上角，我想去左下角，我需要按两次 Mod4 + j，在到达左下角之前循环到右上角。我想要的是使用单个键绑定直接进入该图块，这在 Awesome 中是否可行。我知道在 i3 WM 中，这是使用箭头键在打开的程序之间上下左右移动的默认行为。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T21:46:49.263

默认配置不为此提供 keybindigns，但您正在寻找[awesome.client.focus.bydirection](http://awesome.naquadah.org/doc/api/modules/awful.client.html#client.focus.bydirection)。例如，为此函数添加一个键绑定：

```
function() client.focus.bydirection('down') end 
```

# php - sftp 的交易是否有限制以及如何配置？

> ID：15087380
> 
> 赞同：1
> 
> 时间：2013-02-26T11:00:16.047
> 
> 标签：php, wrapper, sftp, libssh2

我已经使用了 sftp 连接[ssh2.sftp](http://www.php.net/manual/en/wrappers.ssh2.php)的包装器。当我们为所有事务使用一个会话句柄时，在少数事务之后传输速度变得非常慢。但是重新连接后传输速度还可以。例子：

```
 /**
  * Returns handle for sftp subsystem
  * @param string
  * @return handle 
  */
  function methodForConnect(...){
    //some connection code.
  }   

  ///First way. 1 connection for all transactions, becomes slow after 76 iteration.

  $sftp  = methodForConnect();
  for($i = 0; $i < 2500; $i++){
    $data = str_reapeat(rand(0, 1), 1024*1024);
    file_put_contents("ssh2.sftp://$sftp/path/to/file", $data);
  }  

  ///Second way. New connection per transaction.

  for($i = 0; $i < 2500; $i++){
    $sftp  = methodForConnect();
    $data = str_reapeat(rand(0, 1), 1024*1024);
    file_put_contents("ssh2.sftp://$sftp/path/to/file", $data);
  } 
```

有什么方法可以在不重新连接的情况下解决问题？谢谢。

# authorize.net - 如何使用 Authorize.Net SIM 方法获取交易 ID

> ID：15087384
> 
> 赞同：0
> 
> 时间：2013-02-26T11:00:24.480
> 
> 标签：authorize.net

如何通过 SIM 方法使用 Authorize.Net 获取（返回）交易 ID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:37:57.623

要么使用：

1.  [继电器响应](http://www.authorize.net/support/SIM_guide.pdf)
2.  [沉默的帖子](http://www.johnconde.net/blog/all-about-authorize-nets-silent-post/)

# php - 如何在 PHP 中打印特殊字符

> ID：15087388
> 
> 赞同：1
> 
> 时间：2013-02-26T11:00:50.337
> 
> 标签：php

我有如下代码

```
header('Content-Type: text/plain; charset=UTF-8');
echo 'Welcome to Loréal Website'; 
```

当我尝试在浏览器中打印此内容时，Loréal 中的 é 已变形。

![在此处输入图像描述](../Images/b1fad41e6a744c7c0c85e16b4477f3f4.png)

如何解决这个问题？

谢谢您的回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:08:24.130

你也可以试试：

```
echo htmlentities('Welcome to Loréal Website'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:03:11.277

确保您的源文件实际编码为`UTF-8`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:03:19.697

检查您的浏览器是否配置了 UTF-8 编码。

通常在 View-> Encoding -> UTF-8 下

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:03:20.773

配置您用于编写 PHP 的编辑器以保存为 UTF-8。

问题是因为您声称数据不是 UTF-8，但事实并非如此。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T11:04:07.707

请确保您创建的 php 文件是 utf8 字符集。还要检查您的 Web 服务器是否支持/配置 utf8 编码。

如果您有 apache，请参阅此链接[https://stackoverflow.com/a/913885/1716962](https://stackoverflow.com/a/913885/1716962)

# unicode - Cygwin .bashrc 中的 Unicode

> ID：15087390
> 
> 赞同：1
> 
> 时间：2013-02-26T11:00:51.403
> 
> 标签：unicode, cygwin

我想将一个脚本 ( [https://gist.github.com/matthewmccullough/48058](https://gist.github.com/matthewmccullough/48058) ) 放入我的 Cygwin 1.7 .bashrc 中。它包含一些 Unicode 符号，它们总是以`?`. 我尝试将 .bashrc 保存为 UTF-8、UTF-16 和其他一些格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:06:37.877

如果你得到问号而不是 Unicode 符号，这通常意味着你使用的字体没有它们的字形。所以尝试不同的。免费的 DejaVu Sans Mono 以相对较好的 Unicode 覆盖率而闻名。

# ghostscript - cloudbees 支持 Ghostscript？

> ID：15087395
> 
> 赞同：1
> 
> 时间：2013-02-26T11:01:11.100
> 
> 标签：ghostscript, cloudbees

我想使用 Cloudbees DEV@cloud 进行持续集成，但我的软件需要 Ghostscript（我使用的是 ghost4j），因此需要在构建服务器上安装 Ghostscript。有谁知道这是否可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T14:42:36.370

根据您[`GhostscriptLibraryLoader.java`](https://github.com/zippy1978/ghost4j/blob/master/src/main/java/org/ghost4j/GhostscriptLibraryLoader.java)需要，在 64 位 Linux 版本（云从属的默认架构）中。目前没有选项可以在从属设备上预装命名系统包——在这种情况下，<code>libgs9 用于 Ubuntu，但不确定 Fedora 上用于从属设备的什么。`libgs.so``$LD_LIBRARY_PATH`

但是，您可以在某处获取此文件的副本并将其部署到您的[私有存储库](http://wiki.cloudbees.com/bin/view/DEV/Custom+Build+Tools#HPrivaterepository)。然后确保`$LD_LIBRARY_PATH`包含`/private/youraccountid`，以便可以找到它；这可以在 shell 构建步骤开始时完成，或者通常使用[EnvInject 插件](https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin)。

# c# - 如何将页面数据发布到使用 ajax 呈现部分视图的操作？

> ID：15087396
> 
> 赞同：1
> 
> 时间：2013-02-26T11:01:12.143
> 
> 标签：c#, asp.net-mvc, jquery

我有一个名为“ContactsFilters”的局部视图，它显示了一些搜索过滤器，我们在这些过滤器上有一个“过滤器”按钮：

```
@model AppName.Mvc.ViewModels.VmContactsFilters

<script language="javascript" type="text/javascript">

    $.ajaxSetup({ cache: false });

    function btnFilter_onclick() {

        // the below post, gets received by the action but the form data are not posted.
        $.ajax({
            url: "/ControllerName/ContactsList",
            type: 'POST',
            context: this,
            error: function (xhr) {
                alert(xhr);
            },
            success: function (data) {
                $('#ContactsListContainer').html(data);
            }
        });

        return false;
    }

</script>

<fieldset>
        <legend>Filter Contacts</legend>
        <div>
            @Html.HiddenFor(m => m.UserId)
            <div>
                <table>
                    <tr>
                        <th>Company:</th>
                        <td>@Html.TextBoxFor(m => m.CompanyName)</td>
                        <th>First name:</th>
                        <td>@Html.TextBoxFor(m => m.FirstName)</td>
                    </tr>
                    <tr>
                        <th></th>
                        <td colspan="3">
                            <input id="btnFilter" type="submit" value="Filter" onclick="btnFilter_onclick();" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </fieldset>

<div id="ContactsListContainer"></div> 
```

单击按钮时，它会通过 post 调用以下操作，并将另一个名为“ContactsList”的局部视图的结果加载到“ContactsFilters”视图上的“ContactsListContainer”div 中：

```
 [HttpPost]
        public ActionResult ContactsList(VmContactsFilters vmContactsFilters)
        {
            var result = db.Contacts.Where(c => c.UserId == vmContactsFilters.UserId).ToList();
            // also filtering on other columns

            return PartialView(result);
        } 
```

问题是post数据，如Company Name、UserId等，没有回发。

如何将数据回传到服务器？

我知道一种可能的方法是使用“数据：{}”，但我有超过 10 个文本框。我希望我可以只说帖子，所有内容都会由 MVC 魔术发布！

我知道如果我定义一个表单帖子，它会发布对象，但在这种情况下，我将无法填充我的 div，因为它将在单独的页面而不是同一页面中显示新视图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:17:54.553

不幸的是，这里没有魔法。不过，您仍然有几种选择：

1.  使用表单收集数据，但仍然手动执行请求：

    ```
    $.ajax({
        ...
        data: $("#theForm").serialize(),
        ...
    });

    <form id="theForm">
    ...
    <!-- your markup here -->
    ...
    </form> 
    ```

2.  查看[AjaxExtensions](http://msdn.microsoft.com/en-us/library/dd505086%28v=vs.108%29.aspx)类及其[BeginForm](http://msdn.microsoft.com/en-us/library/system.web.mvc.ajax.ajaxextensions.beginform%28v=vs.108%29.aspx)方法。解决方案可能看起来有点像：

    ```
    @using (Ajax.BeginForm("ContactsList", "ControllerName", new AjaxOptions {/*some options here*/}))
    {
    <!-- markup here -->
    } 
    ```

# c# - 为任何操作系统 (WPF) 正确显示所选元素

> ID：15087398
> 
> 赞同：0
> 
> 时间：2013-02-26T11:01:17.223
> 
> 标签：c#, wpf

我有列表视图

```
 <ListView x:Name="listView">
        <ListView.View>
            <GridView>
                <GridViewColumn Width="800" >
                    <GridViewColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Display}"  Foreground="Black" >
                                </TextBlock>
                        </DataTemplate>
                    </GridViewColumn.CellTemplate>
                </GridViewColumn>
                <GridViewColumn Width="800" >
                    <GridViewColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Display}"  />
                        </DataTemplate>
                    </GridViewColumn.CellTemplate>
                </GridViewColumn>
            </GridView>
        </ListView.View>
    </ListView> 
```

第一个 TextBlock - Foreground="Black" 第二个 TextBlock - 未指定前景。

在 ListView 中的选定项目中，第一个 TextBlock `foreground="Black"`（在每个操作系统中出现错误），第二个 TextBlock - 前景默认值（在每个操作系统中正确出现）。

我需要的：

在 ListView 中的选定项目中，第一个 TextBlock 前景也必须是默认的，并且在每个操作系统中都正确显示，但我不能直接更改 TextBlock 前景（在触发器或样式中）。

有什么想法吗？也许我可以重置第一个 TextBlock 的前景（没有设置默认前景！完全重置）。或者将样式重置为默认值？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:27:43.253

不确定我的问题是否正确，但这是我的猜测：你不能改变`Foreground`你的第一个`TextBlock`，因为它是明确设置的。只需从控件本身中删除前景定义并将其设置为样式，这应该使其可以被其他样式和触发器覆盖。

有更多细节的答案（比如[这个](https://stackoverflow.com/a/7126401/1021555)），所以你的问题有些重复。好吧，如果我做对了 =)

# map - 使用 MapInfo Professional 的网格特征中的距离变化

> ID：15087399
> 
> 赞同：-1
> 
> 时间：2013-02-26T11:01:22.883
> 
> 标签：map, drawing, gis, mapinfo

我正在使用 MapInfo Professional 10.5 版进行数字化。我们可以从MapInfo的**“创建网格”功能创建网格。**从**Grid Maker（1.4 版）**窗口我选择

对象类型：封闭区域

对象样式：区域

范围：（自动加载值），未选中圆形范围复选框。

行间距：例如：2236.06 选定的仪表选项。

平滑度：0

然后按确定以获取网格。

我可以在地图上查看网格。

但是，当我尝试使用 mapinfo 中的测量工具（**Ruler**）测量每个网格的长度时，它显示的是 zig zag 值。例如：一个网格长度将是 2240，另一个将是 2230 那样.. 我该如何解决这个问题.. 请在这里分享你的想法..

谢谢..

拉梅什 TR

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T20:24:54.727

这可能与 MapInfo 存储坐标的方式有关。如果您的 TAB 文件的边界非常大（我假设它们是因为您的网格大小是几公里），那么以下可能是根本原因。

MapInfo 将您告诉它您感兴趣的区域（文件的边界）切成网格，然后将坐标存储为整数（请参见此处： http : [//www.mapsbydesign.co.uk/pdfs/boundsclause.pdf](http://www.mapsbydesign.co.uk/pdfs/boundsclause.pdf)更多详情）。这意味着感兴趣的区域越大，您的坐标越不准确。如果您的网格大小最终为 10 米，那么您会期望看到类似于上面描述的内容，其中真实世界的坐标最终会被捕捉到最近的网格点。

# shell - 从另一台服务器获取最新目录

> ID：15087401
> 
> 赞同：0
> 
> 时间：2013-02-26T11:01:25.210
> 
> 标签：shell, unix

Test1 服务器：- ut1-2013.02。**26** -04.42.15，ut1-2013.02。**25** -09.21.11，ut1-2013.02。**21** -09.22.32（Dir's）Test2 服务器：- ut1-2013.02。**25** -09.21.11，ut1-2013.02。**21** -09.22.32

有两台服务器：- Test1 和 Test2 有目录：- 如上所示

test1 服务器中的最新目录：- ut1-2013.02。**26** -04.42.15 test2 服务器中的最新目录：-ut1-2013.02。**25** -09.21.11

当我从**test2 服务器的**命令行运行以下命令时

命令：- ssh test1 ls -ldt ut1-????.??.??-??.??.?? | 头-1

我得到的输出为 ut1-2013.02。**25** -09.21.11（test2 服务器中的最新目录），但我期望在 ut1-2013.02 中输出。**26** -04.42.15（test1 服务器中的最新目录）？

请帮我获取最新的目录ut1-2013.02。**26** -04.42.15 来自使用 ssh 的 test2 服务器？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:23:22.113

您需要用引号将文件规范括起来 - 否则规范将由本地 shell 解释。

```
ssh test1 ls -ldt "ut1-????.??.??-??.??.??" | head -1 
```

# php - 文件名和编号上的 PHP 正则表达式 - preg_replace_callback

> ID：15087406
> 
> 赞同：2
> 
> 时间：2013-02-26T11:01:44.540
> 
> 标签：php, regex

如何捕获和归档文件名

我已经尝试在 PHP 中使用**preg_replace_callback**，但我不知道如何正确使用。

```
function upcount_name_callback($matches) {
   //var_export($matches);
   $index = isset($matches[3]) ? intval($matches[3]) + 1 : 1;
   return '_' . $index;
}

$filename1 = 'news.jpg';
echo preg_replace_callback('/^(([^.]*?)(?:_([0-9]*))?)(?:\.|$)/', 'upcount_name_callback', $filename1, 1);

$filename2 = 'aw_news_2.png';
echo preg_replace_callback('/^(([^.]*?)(?:_([0-9]*))?)(?:\.|$)/', 'upcount_name_callback', $filename2, 1); 
```

**输出（错误）：**

```
array (
  0 => 'news.',
  1 => 'news',
  2 => 'news',
  3 => '1',
)

_1jpg       <= wrong - filename1 
```

.

```
array (
  0 => 'aw_news_2.',
  1 => 'aw_news_2',
  2 => 'aw_news',
  3 => '2',
)

_3png      <= wrong - filename2 
```

**输出（右）：**

```
news_1       <= filename1 
```

.

```
aw_news_3      <= filename2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-05-09T09:38:34.513

您还可以使用[T-Regx 库](https://t-regx.com)：

```
pattern('^(([^.]*?)(?:_([0-9]*))?)(?:\.|$)')
     ->replace('name.jpg')
     ->first()
     ->callback(function (Match $m) {
          $index = $m->matched(3) ? $m->group(3)->toInt() + 1 : 1;
          return '_' . $index;
     } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:50:48.000

```
function my_replace_callback ($matches)
{
    $index = isset ($matches [1]) ? $matches [1] + 1 : 1;
    return "_$index";
}

$file = 'news.jpg';
$file = preg_replace_callback ('/(?:_([0-9]+))?\..*$/', 'my_replace_callback', $file);
print ($file);

$file = 'aw_news.jpg';
$file = preg_replace_callback ('/(?:_([0-9]+))?\..*$/', 'my_replace_callback', $file);
print ($file);

$file = 'news_4.jpg';
$file = preg_replace_callback ('/(?:_([0-9]+))?\..*$/', 'my_replace_callback', $file);
print ($file);

$file = 'aw_news_5.jpg';
$file = preg_replace_callback ('/(?:_([0-9]+))?\..*$/', 'my_replace_callback', $file);
print ($file); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:22:15.230

```
function upcount_name_callback($matches) {
    $index = isset($matches[3]) ? intval($matches[3]) + 1 : 1;
    return $matches[2] . '_' . $index;
}

$filename1 = 'news.jpg';
echo preg_replace_callback('/^(([^.]*?)(?:_([0-9]*))?)(?:(\..*)|$)/', 'upcount_name_callback', $filename1);

$filename2 = 'aw_news_2.png';
echo preg_replace_callback('/^(([^.]*?)(?:_([0-9]*))?)(?:(\..*)|$)/', 'upcount_name_callback', $filename2); 
```

# mysql - MySQL 和 SQLAlchemy：获取多个项目的 N 个最近评论

> ID：15087408
> 
> 赞同：5
> 
> 时间：2013-02-26T11:01:49.713
> 
> 标签：mysql, sqlalchemy

我正在尝试编写一个查询来获取多个项目的 N 个最新评论。

目前，我正在遍历这些项目，每个项目都有一个查询：

```
for i in itemIds:
    Comment.query.filter_by(itemId=i).order_by(Comment.id.desc()).limit(3) 
```

但这真的很慢。

我想要一个获取所有评论的查询，但不知道如何。我试过使用`union`，但还没有让它工作。我似乎存在 MySQL `order_by`、 和`union`. 我正在尝试以下效果：

```
a = Comment.query.filter_by(itemId=1).order_by(Comment.id.desc()).limit(3)
b = Comment.query.filter_by(itemId=2).order_by(Comment.id.desc()).limit(3)
u = union_all(a,b)
DB.session.query(Comment).select_from(u).all() 
```

但这不起作用。它抱怨“不正确地使用 UNION 和 ORDER BY”。

我不是 MySQL 或 SQLAlchemy 忍者，我已经为此苦苦思索了好几个小时。

请帮忙！任何指针或建议将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-27T04:31:19.377

对于 SQL 版本，请参阅[http://www.xaprb.com/blog/2006/12/07/how-to-select-the-firstleastmax-row-中的“从每个组中选择前 N 行”部分每组-in-sql/](http://www.xaprb.com/blog/2006/12/07/how-to-select-the-firstleastmax-row-per-group-in-sql/)

在 SQLAlchemy 中给出：

```
c2 = aliased(Comment)
query = session.query(Comment).filter(
            session.query(func.count(c2.id))\
                .filter(c2.id >= Comment.id)\
                .filter(c2.item_id == Comment.item_id)\
                .order_by(c2.id.desc())\
                .correlate(Comment)\
                .as_scalar() <= 3)\
    .filter(Comment.item_id.in_(itemIds)).all() 
```

# android - 单击按钮后布局正在调整大小

> ID：15087410
> 
> 赞同：2
> 
> 时间：2013-02-26T11:01:58.500
> 
> 标签：android, android-layout, android-button, android-scrollview

我创建了一个线性布局，在其中添加了水平滚动视图，并在运行时在水平滚动视图上添加了几个按钮。最初它看起来不错，但是当我单击类别按钮类别容器时单击几个按钮后，它会调整大小，如图所示。

请帮助我为什么会发生什么问题谢谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-26T11:10:23.947

这是布局文件

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/root_view_deals_screen"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@android:color/white" >

<RelativeLayout
    android:id="@+id/RelativeLayout_category_panel_main"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@color/color_category_panel_bg"
    android:visibility="gone" >

    <ImageView
        android:id="@+id/ImageView_previous"
        android:layout_width="15dp"
        android:layout_height="20dp"
        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:src="@drawable/arrow_left"
        android:visibility="gone" />

    <HorizontalScrollView
        android:id="@+id/ScrollView_category_panel"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_toLeftOf="@+id/ImageView_next"
        android:layout_toRightOf="@+id/ImageView_previous"
        android:fadingEdgeLength="15dp"
        android:scrollbars="none" >

        <LinearLayout
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:id="@+id/Layout_category_panel_container"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal" >
        </LinearLayout>
    </HorizontalScrollView>

    <ImageView
        android:id="@+id/ImageView_next"
        android:layout_width="15dp"
        android:layout_height="20dp"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:src="@drawable/arrow_right"
        android:visibility="gone" />
</RelativeLayout>

<com.techdeals.rest.ui.widget.IndexableListView
    android:id="@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/RelativeLayout_category_panel_main"
    android:divider="@drawable/list_divider"
    android:drawSelectorOnTop="false" />

<ImageView
    android:id="@+id/ImageView_list_divider"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_below="@android:id/list"
    android:scaleType="fitXY"
    android:src="@drawable/list_divider" /> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T11:19:44.353

```
Here is Button.xml file which i am inflating at runtime .

<?xml version="1.0" encoding="utf-8"?>
<Button xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/Button_category_panel"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:background="@android:color/transparent"
android:paddingBottom="10dp"
android:paddingLeft="4dp"
android:paddingRight="4dp"
android:paddingTop="10dp"
android:textSize="16dp"
android:textStyle="bold" /> 
```

# ios - 如何从已安装的数据库中获取数据并将提取的数据插入到 iOS 的新数据库中

> ID：15087411
> 
> 赞同：0
> 
> 时间：2013-02-26T11:02:02.570
> 
> 标签：ios, database, sqlite

我有一个数据库（使用 SQLite）文件，我在安装 applicaiotn 时复制到文档中，现在我在表中添加了一个字段，我想在设备中安装新数据库。为了实现这一点，我认为我必须进行数据库迁移。

我面临的问题是我无法认为代码从已安装的数据库中获取完整数据，然后将提取的数据插入到新数据库中（安装时），我在 iOS 编程方面的经验较少，所以请从 Scratch 提供详细信息.

提前致谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:18:38.050

这不是一个真正的 iOS 问题，而是一个概念问题。

如果要向数据库添加新表，为什么要复制旧版本的数据库而不是已经包含新表的数据库？

至于现有数据的导入，只需将旧数据库读出，写入新数据库即可。使用可用的 SQLite API，这应该足够简单。解释细节将超出这个问题的范围。（您会在网上找到有关这些基本内容的足够信息。）

# css - 将背景图像放在中心并左右重复最后一个像素

> ID：15087412
> 
> 赞同：7
> 
> 时间：2013-02-26T11:02:03.320
> 
> 标签：css

我想把我的背景图像放在中间，只重复左边最后一个像素列，右边和最后一个像素行相同。所以如果你缩小你会看到这个

```
 --------------   repeat last pixel of the right of the picture to the right  
                 |            |
                 |            | 
                 --------------      
                 ^ 
                 |
                 here repeat to the left the first pixels  to the left 
```

在图片下方，最下方的像素行向下重复。

我希望你明白我的意思...

敏克

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-09-11T21:06:26.173

这支笔说明了现在如何实现这一点`border-image`，在提出这个问题时它的支持很差，但在所有主要浏览器的最新版本上都支持：( [IE11+、Firefox 15+、Chrome 16+、Safari 6+](http://caniuse.com/#feat=border-image) )

基本上，您用于`background-image`渲染“完整”图像，使用`background-position`.

```
#container {
  height: 100vh;
  width: 100%;
  margin: 0 auto;
  padding: 0 20%;
  box-sizing: border-box;
  background-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/44521/light_minimalistic_soft_shading_gradient_background_1024x768_58884.jpg);
  background-size: 61% 100%;
  background-position: center 0;  
  background-repeat: no-repeat;     
} 
```

然后，您可以使用`border-image`重复的边缘。请注意使用`border-image-slice`仅抓取侧面的 1px 边缘。

```
#container {
  border-width: 0 20% 0 20%;
  border-image-source: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/44521/light_minimalistic_soft_shading_gradient_background_1024x768_58884.jpg);
  border-image-slice: 2;
  border-image-width: 2 20%;
  border-image-repeat: stretch;
  border-image-outset: 2px;
} 
```

# [CodePen 上的实时示例](http://codepen.io/natchiketa/pen/CvIzc)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:08:25.850

看看下面的链接。

[将 CSS 背景图像从右侧定位 x 像素？](https://stackoverflow.com/questions/3197250/position-a-css-background-image-x-pixels-from-the-right)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-10-28T01:15:29.890

这不是您正在寻找的确切解决方案，但它可能对您正在寻找的某些图像产生相同的效果：

```
.bg {
    background:url(../images/image.jpg),url(../images/image.jpg);
    background-repeat: no-repeat, repeat;
    background-position: 0px 0px;
    background-position-x: center;
    background-size: 1914px 100% , 1px 100%; // 1914px is the width of the image
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-02-14T12:12:00.280

取一个 1px 宽的图像切片并保存。这是我用于具有 196 像素宽的左侧部分和重复的 1 像素宽的右侧部分的粘性页脚的代码：

```
footer {
    background-image: url('../../images/footer-left.png'), url('../../images/footer-right.png');
    background-repeat: no-repeat, repeat-x;
    background-size: 196px 175px;
    bottom: 0;
    color: white;
    height: 175px;
    left: 0;
    margin-bottom: 0;
    padding-top: 75px;
    position: fixed;
    text-align: center;
    width: 100%;
} 
```

# javascript - zclip 在 jquery ui 非活动选项卡中不起作用

> ID：15087413
> 
> 赞同：3
> 
> 时间：2013-02-26T11:02:07.157
> 
> 标签：javascript, jquery, jquery-ui, zclip

我在 jQuery UI 选项卡中的 jQuery UI 对话框上的 asp.net 网页中使用[zclip 。](http://www.steamdev.com/zclip/)它在第一个处于活动状态的选项卡中效果很好，但是当我将它添加到第二个选项卡并单击第二个选项卡和剪辑复制按钮时它不起作用。

我的标记如下：

```
<input type="text" id="txtCallStatus" class="disabled" 
    readonly="readonly" value="NOT SET" />
<a href="#" id="copy-dynamic" onclick="return false;">Copy status</a> 
```

js代码如下：

```
$.ajax({
    type: "POST",
    dataType: "json",
    url: "/recording/verifyUser",
    data: {
        ID: $("#ID").val(),
        PSSWD: $("#PSSWD").val(),
        ACCID: $("#ACCID").val(),
        PASSWDINT: $("#PASSWDINT").val()
    },
    success: function (data) {
        if (data == "success") {

            $('#dialog-AddCallRecording').dialog({ closeOnEscape: false });

            $(".ui-dialog-titlebar").hide();
            $("#dialog-AddCallRecording").dialog({ 
                dialogClass: 'transparent', 
                modal: true 
            });
            $("#dialog-AddCallRecording").dialog("open");

            // The link with ID "copy-description" will copy
            // the text of the paragraph with ID "description"
            $('a#copy-dynamic').zclip({
                path: '../../Content/Zclip/ZeroClipboard.swf',
                copy: function () { return $('input#txtCallStatus').val(); }
            });

            // The link with ID "copy-dynamic" will copy the current value
            // of a dynamically changing input with the ID "dynamic"

        }
        else {
            $("#dialog-user-login").dialog('option', 'position', 'center');
            $("#dialog-user-login").dialog("open");
        }
    }
}); 
```

成功后，对话打开后，我正在初始化 zclip。

请提出解决方案。谢谢

# jquery - 隐藏 在退出键按下

> ID：15087414
> 
> 赞同：1
> 
> 时间：2013-02-26T11:02:10.383
> 
> 标签：jquery, jsf, richfaces

我有一个`<rich:popupPanel>`我想在按下 Escape 键时关闭它。弹出面板有一个“onclick”事件，但没有与之关联的关键事件。我尝试使用 keyup 事件（jQuery），但在这种情况下似乎没有任何效果。请注意，我只能使用 Richfaces 3.3.x

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T15:17:38.360

您可以使用 Richfaces`<rich:hotKey/>`组件来隐藏弹出面板：

```
<rich:hotKey selector="#mypanel" key="escape" handler="#{rich:component('mypanel')}.hide()"/> 
```

# javascript - 获取拖动元素数组中的位置 javascript

> ID：15087415
> 
> 赞同：4
> 
> 时间：2013-02-26T11:02:14.680
> 
> 标签：javascript, jquery-plugins

我有一个可排序的列表，我想获取我在数组中拖动的对象的位置。所以我可以用**ajax**传递它并存储到我的数据库中，但我不知道如何用我的`for`循环来做到这一点

这是我的代码

```
<script>
    $(document).ready(function () {
        var rootLimit = 8;
        $('ul.sortable').nestedSortable({
            handle: 'a',
            items: 'li',
            listType: 'ul',
            maxLevels: '3',
            toleranceElement: '> a',
            update: function (event, ui) {
                list = $(this).nestedSortable('toHierarchy', {
                    startDepthCount: 0
                });
                var page_id = ui.item.find('> a').attr('data-page-id');
                console.log(list);
                for (var i = 0; i < list.length; i++) {
                    var index = $(this).index();
                    console.log(index);
                }
                $.post(
                    '/page/updatemenu/' + page_id, 
                    { list : list },
                    function (data) { }
                );
            }
        });
    });
</script> 
```

这是我的[jsFiddle](http://jsfiddle.net/kNPHe/)，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-04T16:13:02.163

在您的更新功能中，

```
$(ui.item).index() 
```

为您提供物品的位置；

# java - JavaFX 2 在父节点上设置缓存（ setCache(true) ）会影响子节点吗？

> ID：15087423
> 
> 赞同：9
> 
> 时间：2013-02-26T11:02:40.180
> 
> 标签：java, javafx-2, javafx

如果我`setCache(true)`在 parent 上设置缓存`Node`，子节点也会被缓存吗？

可以说我有`StackPane`一个渐变，另一个`Pane`也带有渐变但在其上旋转。在以下情况下会发生什么：

1.  我只在父级上设置缓存
2.  我只在孩子上设置缓存
3.  我在两者上都设置了缓存。
4.  我不会设置缓存。

# linux - 将 ls -R 输出解析为 Unix 中的变量

> ID：15087427
> 
> 赞同：1
> 
> 时间：2013-02-26T11:03:05.430
> 
> 标签：linux, bash, shell, unix, scripting

我正在执行`ls-R /files/`

我得到以下输出

```
./:    nvision
./nvision:    layout
./nvision/layout:    abcd.txt 
```

我正在寻找列表中的路径，例如

```
/nvision
/nvision/layout/
/nvision/layout/abcd.txt 
```

我应该能够将所需的路径复制到变量

ps：**我不是在搜索 nvision 我正在尝试获取文件夹下的文件夹和文件`files`列表**

谁能帮我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:12:13.257

您是否尝试过使用`find` [（请参阅参考资料）](http://linux.about.com/od/commands/l/blcmdl1_find.htm)

就像`find .`获取当前目录中的文件和文件夹列表一样简单。更改*.* 到任何路径以获取该路径内的文件和目录列表：

```
nvision
nvision/abcd.txt
nvision/layout 
```

将其保存到变量

```
var=`find .` 
```

并将初始斜线添加到每一行（如果需要）

```
var=`find . -exec echo /{} \;` 
```

这里的*var*没有特殊含义，只是变量名。

要稍后使用该变量，您可以使用`$var`或`${var}`。例如，打印或保存到文件：

```
# Print the variable content
echo $var

# Save the content of var to a file
echo $var > /tmp/file.txt 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T11:17:27.070

你真的应该使用 find 来处理这些事情。只需使用`find directory`. 如果您需要更具体的输出格式，您可以使用`find`'`-printf`选项。Find 是一个非常强大的工具，它还允许进行各种过滤。确保查看文档以获取更多信息：[GNU FindUtils](http://www.gnu.org/software/findutils/)。

要将结果存储在变量中，请使用以下语句之一：

```
result=`find ...` 
```

或者

```
result=$(find ...) 
```

您还可以使用 find 使用`find`'`-exec`选项为每个匹配项直接执行命令。同样，请务必查看文档。它真的很全面。

**更新（Mac / UNIX 用户 – Linux 用户不受影响）**

BSD`find`需要路径。采用

```
find . 
```

而不仅仅是

```
find 
```

如果您需要工作目录中所有文件的列表。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T12:05:44.803

答案就在这个页面上，你应该使用 find 列出所有找到的文件，你可以定义

在哪里 。是当前文件夹，否则替换 . 带有您希望搜索的路径

```
find .-type d -print 
```

仅列出目录或查找

或者

```
find . -type f -print 
```

它将仅列出所有文件

如果您正在寻找两者

```
find . -print 
```

如果您只想定义递归级别，请尝试

```
find . -maxdepth 1 -print 
```

这是一个脚本

```
#!/bin/bash
for names in $(find . -type f -print); do
    echo $names
done 
```

# iphone - 隐藏 UITableviewcell 的 UIButton

> ID：15087434
> 
> 赞同：0
> 
> 时间：2013-02-26T11:03:14.113
> 
> 标签：iphone, ios, uitableview, show-hide

我的代码中有一个简单的关键问题。

在我的 Tableview 上，当我按下 Edit 按钮（在导航栏上）时，我需要编辑 UITableview 的方法。我想隐藏 My Cell 上的按钮和标签。

代码 ：

我正在像这样添加我的按钮..

```
// Customize the appearance of table view cells.
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *currentCell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    currentCell = nil;
    if (currentCell==nil)
    {
        currentCell=[[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];
    }

    BtnEmail=[UIButton buttonWithType:UIButtonTypeCustom];
    //BtnEmail = (UIButton *)[currentCell viewWithTag: 3];
    BtnEmail.frame=CGRectMake(265, 17, 25, 25);
    BtnEmail.tag=indexPath.row;
    //[BtnEmail setTitle:@"E-mail" forState:UIControlStateNormal];
    [BtnEmail setBackgroundImage:[UIImage imageNamed:@"email.png"] forState:UIControlStateNormal];
    [BtnEmail addTarget:self action:@selector(BtnEmail:) forControlEvents:UIControlEventTouchUpInside];
    [currentCell.contentView addSubview:BtnEmail];
    [currentCell.contentView bringSubviewToFront:BtnEmail];

    return currentCell;
} 
```

我的编辑按钮是这样声明的

编辑按钮：

```
self.navigationItem.rightBarButtonItem = self.editButtonItem; 
```

并在编辑时单击我的此方法将调用。

```
- (void)setEditing:(BOOL)editing animated:(BOOL)animated
{
    [super setEditing:editing animated:animated];
    [listTableView setEditing:editing animated:animated];

    if(editing)
    {
        self.navigationItem.leftBarButtonItem.enabled = NO;
        //BtnEmail.frame=CGRectMake(355, 17, 25, 25);
        BtnEmail.hidden = TRUE;
    }
    else
    {
        self.navigationItem.leftBarButtonItem.enabled = YES;
        //BtnEmail.frame=CGRectMake(265, 17, 25, 25);
        BtnEmail.hidden = FALSE;
    }

    [super setEditing:editing animated:animated]; 
} 
```

在这种情况下，我的 Last cell Button 和 Lable 不会全部隐藏。我需要隐藏 Cell 的所有 UIButton 。

就像**我在桌子上有 3 个单元格一样，它只会隐藏最后一个按钮**..

谢谢 。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:28:13.930

您可以简单地进行有条件的签入`cellForRow`并在编辑更改时重新加载表格视图。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
 // Do your other stuff

// Add this conditional check
if (tableView.editing)
{
    BtnEmail.hidden = YES;
}
else
{
    BtnEmail.hidden = NO;

}
[currentCell.contentView addSubview:BtnEmail];
[currentCell.contentView bringSubviewToFront:BtnEmail];

return currentCell;
}

- (void)setEditing:(BOOL)editing animated:(BOOL)animated
{

[super setEditing:editing animated:animated];
[listTableView setEditing:editing animated:animated];

// Reload the table view
[listTableView reloadData];
// Do your other stuff
 } 
```

但是使用自定义单元格很容易创建该按钮。在这里，您一次又一次地添加按钮。否则将按钮创建代码移动到`if(cell == nil)`块

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:13:02.110

那是因为你在声明

```
BtnEmail.hidden = FALSE; 
```

在这种情况下，这是您在`cellForRowAtIndexPath`方法中最后分配的按钮。尝试这样的事情：

```
 if(editing)
        {
            self.navigationItem.leftBarButtonItem.enabled = NO;
            //BtnEmail.frame=CGRectMake(355, 17, 25, 25);
             For(int i=0; i< [tableArray count]; i++)
        {
            UITableViewCell *cell = (UITableViewCell *)[tableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:i inSection:0]] ;
            UIButton *btn=(UIButton *)[cell viewWithTag:i];
            btn.hidden = TRUE;
        }
        }
  else
    {
        self.navigationItem.leftBarButtonItem.enabled = YES;
            //BtnEmail.frame=CGRectMake(265, 17, 25, 25);
       For(int i=0; i< [tableArray count]; i++)
      {
            UITableViewCell *cell = (UITableViewCell *)[tableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:i inSection:0]] ;
            UIButton *btn=(UIButton *)[cell viewWithTag:i];
            btn.hidden = FALSE;
        }
        } 
```

# javascript - 在 JavaScript 中的对象数组中搜索某些键值的最佳方法

> ID：15087436
> 
> 赞同：0
> 
> 时间：2013-02-26T11:03:17.967
> 
> 标签：javascript, json, extjs4

我有一个对象数组，其中有一个键`PhoneNumber`（以及其他键值对）。我有一个要在此数组中查找的电话号码值。我在此数组上执行电话号码的线性搜索，并在找到对象后立即中断循环（因此，*如果*我很幸运，我可能不需要遍历整个数组）。

最好的情况是我在 Array 中找到电话号码（并且不要进一步搜索），但我找不到它的可能性更大，并且会徒劳地遍历整个数组。

**更新**

我想提供这个，搜索空间（对象数组）将有大约 500 个元素，因此专门查看此线性搜索可能不是性能问题，但还有许多其他任务与此搜索一起执行，所以我正在寻找尽可能多的微优化。

**更新 2**（回应[Elias Van Ootegem](https://stackoverflow.com/users/1230836/elias-van-ootegem)的[评论](https://stackoverflow.com/questions/15087436/optimal-way-to-search-for-certain-key-value-in-array-of-objects-in-javascript#comment21221340_15087436)）

我认为我的 Array 的结构有一些不合适的地方，因此`JSON.stringify()`(Uncaught TypeError: Converting circular structure to JSON) 或`Ext.JSON.encode()`(Maximum call stack exceeded) 都不能将数组转换为 JSON 字符串。

但是，无论如何要更快地做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:09:33.243

它取决于使用情况。

如果多次使用此数组，则应使用映射而不是数组。使用 {key: data} 创建一个散列，并获取给定其键的数据。（将数组转换为 javascript 中的哈希）

如果只使用一次数组，将其转换为地图的过程将比搜索本身花费更长的时间。最好的方法，线性搜索。

两种解决方案的成本是（考虑 n：数组长度和 m，搜索次数）：第一个解决方案：n*log(n) + m * log(n)

秒解：n*m

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:09:42.063

创建一个查找对象，它将电话号码（作为键）映射到数组内的索引。

```
var dataset = [{phone:'0123 456 689'},{phone:'0987 654 321'},...];
var lookup = {'0123 456 689':0,'0987 654 321':1,...};

// search like this...

var number = '0987 654 321';
var obj = dataset[lookup[number]]; 
```

但这对于大多数用例来说可能是多余的，因为即使有数千个条目，线性搜索对于用户来说也应该足够快。

# stored-procedures - 需要检查 db2 存储过程中 number 变量的前 5 位数字

> ID：15087443
> 
> 赞同：0
> 
> 时间：2013-02-26T11:03:41.773
> 
> 标签：stored-procedures, db2, substring

我需要检查存储过程中数字变量的前 5 位数字。请查找以下示例。

SP：

```
IN "IN_CNBR" VARCHAR(100),

DECLARE v_end VARCHAR(16); 
```

v_end 是从数据库中获取的，它的值可能高达 16.. 但我必须拆分 v_end 的前 5 位，并且必须检查输入参数

我有一张支票，

```
IF (((CAST(IN_CNBR AS BIGINT)) > (CAST(v_end AS BIGINT)))) 
```

下面的可以吗？

```
v_end:=v_end.substring(0,5); 
```

然后

```
IF (((CAST(IN_CNBR AS BIGINT)) > (CAST(v_end AS BIGINT)))) 
```

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T08:25:47.440

您可以将变量设置为其自身的前五个字符，如下所示：

```
set v_end = left(v_end,5); 
```

或者

```
set v_end = substr(v_end,1,5); 
```

请注意，DB2`substr`使用从 1 开始的索引。

# c# - C#文件路径编码和解码

> ID：15087444
> 
> 赞同：2
> 
> 时间：2013-02-26T11:03:47.607
> 
> 标签：c#, encoding, path, decoding, illegal-characters

我正在寻找一种简单的方法来编码/转义和解码/取消转义文件路径（文件路径中的非法字符`"\/?:<>*|` ）

`HttpUtiliy.UrlEncode`做它的工作，除了它不编码`*`字符。

我所能找到的只是用正则表达式转义，或者只是用`_`

我希望能够一致地编码/解码。

我想知道是否有预定义的方法可以做到这一点，或者我只需要编写一些代码来编码和另一部分来解码。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T11:26:34.963

我以前从未尝试过这样的事情，所以我把它放在一起：

```
static class PathEscaper
{
    static readonly string invalidChars = @"""\/?:<>*|";
    static readonly string escapeChar = "%";

    static readonly Regex escaper = new Regex(
        "[" + Regex.Escape(escapeChar + invalidChars) + "]",
        RegexOptions.Compiled);
    static readonly Regex unescaper = new Regex(
        Regex.Escape(escapeChar) + "([0-9A-Z]{4})",
        RegexOptions.Compiled);

    public static string Escape(string path)
    {
        return escaper.Replace(path,
            m => escapeChar + ((short)(m.Value[0])).ToString("X4"));
    }

    public static string Unescape(string path)
    {
        return unescaper.Replace(path,
            m => ((char)Convert.ToInt16(m.Groups[1].Value, 16)).ToString());
    }
} 
```

它用 a 替换任何禁止字符，`%`后跟它的 16 位十六进制表示，然后返回。（您可能会为您拥有的特定字符使用 8 位表示，但我认为我会在安全方面犯错。）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-11-18T15:24:03.260

罗林的解决方案很好。但是有一个小问题。Rawling 方法生成的文件名可能包含“%”，如果使用此路径名作为 url，可能会导致一些错误。因此，我将 escapeChar 从 "%" 更改为 "__" 以确保生成的文件名与 url 约定兼容。

```
static class PathEscaper
{
    static readonly string invalidChars = @"""\/?:<>*|";
    static readonly string escapeChar = "__";

    static readonly Regex escaper = new Regex(
        "[" + Regex.Escape(escapeChar + invalidChars) + "]",
        RegexOptions.Compiled);
    static readonly Regex unescaper = new Regex(
        Regex.Escape(escapeChar) + "([0-9A-Z]{4})",
        RegexOptions.Compiled);

    public static string Escape(string path)
    {
        return escaper.Replace(path,
            m => escapeChar + ((short)(m.Value[0])).ToString("X4"));
    }

    public static string Unescape(string path)
    {
        return unescaper.Replace(path,
            m => ((char)Convert.ToInt16(m.Groups[1].Value, 16)).ToString());
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-26T11:13:25.937

我一直在使用以下方法一段时间没有问题：

```
public static string SanitizeFileName(string filename) {
    string regex = String.Format(@"[{0}]+", Regex.Escape(new string(Path.GetInvalidFileNameChars())));
    return Regex.Replace(filename, regex, "_");
} 
```

# c# - 如何将 Windows 窗体显示为 VSTO 字插件中的对话框？

> ID：15087446
> 
> 赞同：1
> 
> 时间：2013-02-26T11:03:49.043
> 
> 标签：c#, winforms, visual-studio-2010, vsto

我有一个使用 c# 的 VSTO 项目（WinWord 插件）。

该项目只有一个窗口，单击某个按钮时必须显示它，问题是它仅在我调试时发生，如果我在运行安装后尝试使用它，它不会显示该窗口。这是我的功能区代码：

```
public partial class MyRibbon
{
    private void MyRibbon_Load(object sender, RibbonUIEventArgs e)
    {

    }

    private void btnPublicar_Click(object sender, RibbonControlEventArgs e)
    {
        MyForm form = new MyForm();
        //form.TopLevel = true; 
        form.ShowDialog();
        //form.Show();
    }

    private void gallery1_Click(object sender, RibbonControlEventArgs e)
    {

    }

    private void editBox1_TextChanged(object sender, RibbonControlEventArgs e)
    {

    }
} 
```

注释代码是一些尝试。任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T22:37:24.853

经过非常深入的调试，发现我的插件抛出了一个非处理异常（插件需要的一些 XML 文件丢失了。它们不在应该的位置），奇怪的是 Word 没有显示问题，根本没有打开表格。

# c# - 在只读 xml 文件中序列化数据集

> ID：15087448
> 
> 赞同：0
> 
> 时间：2013-02-26T11:03:55.503
> 
> 标签：c#, file-io, xml-serialization

我有一个`DataSet`我正在`xml`以加密模式在文件中序列化的文件。目前跟随[srinivasganaparthi](http://srinivasganaparthi.blogspot.in/search/label/C-Sharp)创建一个`xml`加密模式。我也想将文件设为只读文件。为达到这个。我正在尝试这个：

```
public static void EncryptAndSerialize(Object obj)
{
    UnicodeEncoding aUE = new UnicodeEncoding();
    byte[] key = aUE.GetBytes("password");
    RijndaelManaged RMCrypto = new RijndaelManaged();
    using (FileStream fs = File.Open(@"D:\Sample.xml", FileMode.Create))
    {
    using (CryptoStream cs = new CryptoStream(fs, RMCrypto.CreateEncryptor(key,   key), CryptoStreamMode.Write))
        {
            XmlSerializer xmlser = new XmlSerializer(obj.GetType());
            xmlser.Serialize(cs, obj);
        }
        fs.Close();
        File.SetAttributes(@"D:\Sample.xml",FileAttributes.ReadOnly);
} 
```

但`File.SetAttributes`似乎不起作用。我怎样才能使这个只读？

# ruby-on-rails-3.2 - Rails DataTables 无法设置 sSwfPath

> ID：15087450
> 
> 赞同：0
> 
> 时间：2013-02-26T11:04:00.657
> 
> 标签：ruby-on-rails-3.2, flash, datatables

我正在本地开发一个应用程序。我尝试将 TableTools 添加到我的数据表中。TableTools 按钮在页面上显示很好，但是没有效果，我总是遇到关于 swfPath 的路由错误。

让 TableTools 在本地工作的正确方法是什么？感谢帮助

应用程序.js

```
//= require jquery
//= require jquery_ujs
//= require bootstrap
//= require dataTables/jquery.dataTables
//= require dataTables/jquery.dataTables.bootstrap
//= require dataTables/extras/TableTools
//= require dataTables/extras/ZeroClipboard
//= require_tree . 
```

users.js.coffee

```
jQuery ->

  #  Init the table
  $('#users-grid').dataTable
    bjQueryUI: true
    sDom: 'T<"clear"><"fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"lfr>t<"fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"ip>'
    oTableTools:
      sSwfPath: "swf/copy_csv_xls_pdf.swf"
    sPaginationType: "bootstrap"
    bProcessing: true
    bServerSide: true
    sAjaxSource: $('#users-grid').data('source') 
```

服务器日志

```
Started GET "/backstage/swf/copy_csv_xls_pdf.swf" for 127.0.0.1 at 2013-02-26 11:48:11 +0100

ActionController::RoutingError (No route matches [GET]   "/backstage/swf/copy_csv_xls_pdf.swf"):
  actionpack (3.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.1) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.1) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.1) lib/rails/rack/logger.rb:16:in `call'
  quiet_assets (1.0.1) lib/quiet_assets.rb:20:in `call_with_quiet_assets'
  actionpack (3.2.1) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
 activesupport (3.2.1) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
 rack (1.4.5) lib/rack/lock.rb:15:in `call'
 actionpack (3.2.1) lib/action_dispatch/middleware/static.rb:53:in `call'
 railties (3.2.1) lib/rails/engine.rb:479:in `call'
 railties (3.2.1) lib/rails/application.rb:220:in `call'
 rack (1.4.5) lib/rack/content_length.rb:14:in `call'
 railties (3.2.1) lib/rails/rack/log_tailer.rb:14:in `call'
 rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
 C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
 C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
 C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

  Rendered C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/actionpack-3.2.1/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms) 
```

我尝试了不同的事情但没有结果（复制我的 app/assets 目录中的“media”目录，或者我的 assets/backstage/' 目录中的 swf 目录等......）没有运气

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-27T10:07:46.407

解决了 ！

好的，问题出在Flash（像往常一样）上，它确实对本地设置了一些限制。如果您将您的应用程序放在网络服务器上，一切正常......但在这种情况下，我只需要在我的本地 PC 上开发并使用 localhost 作为网络服务器，Flash 会发出嘘声。在谷歌搜索并尝试了很多之后，我找到了一个可行的解决方案，我把它放在她身上，以防它对其他人有帮助：

我在 Windows8 上使用 Rails 3.2.11 和 Ruby 1.9.3（通过 RailsInstaller 安装）

1-为了避免本地的 Flash 限制（Flash 不授权加载本地文件）去[http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04a.html#119065](http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04a.html#119065)和“始终授权”

2 - 从 DataTable 中找到“swf”目录（我的位于：C:\RailsInstaller\Ruby1.9.3\lib\ruby\gems\1.9.1\gems\jquery-datatables-rails-1.11.2\vendor\assets\ media\dataTables\extras\swf) 将其复制/粘贴到您的应用程序/公共/...

3 将 sSwfPath 设置为

```
sSwfPath: "http://localhost:3000/swf/copy_csv_xls_pdf.swf" 
```

完成了，一切都应该正常了。在生产时不要忘记更改 sSwfPath ！

希望这会有所帮助

干杯

# encoding - 使用 Filezilla 到 FTP 时，俄语字符会变成垃圾

> ID：15087455
> 
> 赞同：3
> 
> 时间：2013-02-26T11:04:15.620
> 
> 标签：encoding, ftp, filezilla

当我尝试 FTP 俄罗斯命名文件时，它在 Linux 机器中显示为“垃圾”字符。但是当我复制俄罗斯名字时，它会正确显示。

在 FTP 期间是否需要在 Filezilla 中进行任何设置或任何操作。我尝试了 Ascii 和 Binary 模式。

Linux 机器的语言环境设置为 ru_RU.cp1251。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-05-20T14:43:32.997

# c# - 此程序集由比当前加载的运行时更新的运行时构建，无法加载

> ID：15087457
> 
> 赞同：0
> 
> 时间：2013-02-26T11:04:17.893
> 
> 标签：c#

尝试启动**.net 4** **windows 服务**时出现此错误。当我搜索问题时，我尝试了一些我发现的东西：

我检查了从我的项目中引用的所有项目，在他们的
app.config 中都有以下行：

```
<startup>
 <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/>
</startup> 
```

*   我确认我的**服务器 2008R2 机器**上安装了 .Net 4 Framework 。
*   我修复了 .Net 4 安装程序并重新启动了服务器。
*   我将 Startup 对象设置为我的服务。

所有项目都符合 x64。

我没有想法......帮助任何人？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:09:36.053

重要的是项目属性的“应用程序”选项卡上的“目标框架”设置。

确保它们都兼容，例如，它们都设置为“.NET Framework 4”。

# sql - 创建查询以填补由于数据错误导致的表中的空白

> ID：15087459
> 
> 赞同：7
> 
> 时间：2013-02-26T11:04:26.143
> 
> 标签：sql, sql-server, tsql

我有一个具有以下架构的表：

```
DateTime [Creation Date] PK
int [Data] 
```

列数据具有来自传感器的值，如下所示：

```
123
225
354
578
0
2151
2331
0
2555
2678 
```

如您所见，该值总是递增。

由于传感器出现问题，我们有时会在有效值之间得到一个 0。当我们尝试使用数据时，这给我们带来了几个问题，所以我们想用一些东西来填补这些 0 空白。理想情况下，我们希望在前一个值和下一个值之间取一个平均值，如果这不可能，我们希望重复前一个值。

仅通过查询就可以做到这一点吗？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:23:24.390

也许不是最有效的，但应该工作：

```
WITH cte 
     AS (SELECT [Creation Date], 
                Data, 
                rn=Row_number() OVER(ORDER BY [Creation Date]) 
         FROM   dbo.Table) 
UPDATE cte 
SET    Data = ( ( (SELECT c2.Data
                    FROM   cte c2 
                    WHERE  c2.rn = cte.rn - 1) 
                   + (SELECT c2.Data
                      FROM   cte c2 
                      WHERE  c2.rn = cte.rn + 1) ) / 2 ) 
WHERE  Data = 0; 
```

我`Row_Number`在 CTE 中使用以获取按 . 排序的连续数字`Creation Date`。然后这个数字用于根据它的前一个值和下一个值来获取新的数据。

[**这是**](http://sqlfiddle.com/#!6/6ebcf/23/0)一个具有类似架构的演示（我使用了 an`int`而不是`datetime`）：

**更新**

> 不错的一个，但它不能处理多个 0 的间隙

很好，这是考虑到这一点的修改后的 sql：

```
WITH cte 
     AS (SELECT [Creation Date], 
                Data, 
                rn=Row_number() OVER(ORDER BY [Creation Date]) 
         FROM   dbo.Table) 
UPDATE cte 
SET    Data = ( ( (SELECT c2.Data
                    FROM   cte c2 
                    WHERE  c2.rn = (SELECT MAX(RN)FROM CTE c3 WHERE c3.RN<cte.RN AND c3.Data<>0)) 
                   + (SELECT c2.Data
                      FROM   cte c2 
                      WHERE  c2.rn = (SELECT MIN(RN)FROM CTE c3 WHERE c3.RN>cte.RN AND c3.Data<>0))) / 2 ) 
WHERE  Data = 0; 
```

[**演示**](http://sqlfiddle.com/#!6/4be2b/1/0)（5,6 上有连续的零）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:24:12.210

我还有另一个变体：

```
SELECT 
BadDate, 
T1.Data AS PrevData, 
T2.Data AS NextData,
(T1.Data + T2.Data) / 2 AS AvgValue
FROM

(

SELECT 
T1.CreationDate As BadDate, 
Max(T2.CreationDate) As PrevDate,
Min(T3.CreationDate) As NextDate

FROM 
TestData T1, 
TestData T2,
TestData T3

WHERE 

T1.Data = 0
AND T2.Data <> 0
AND T2.CreationDate < T1.CreationDate
AND T3.Data <> 0
AND T3.CreationDate > T1.CreationDate

GROUP BY T1.CreationDate

) DateData

INNER JOIN TestData T1
ON DateData.PrevDate = T1.CreationDate

INNER JOIN TestData T2
ON DateData.NextDate = T2.CreationDate 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:39:25.097

如果您不担心获得平均值，此方法可以在前一个值上添加一个数字。

另请注意，我不确定此方法是否有任何问题（除了更新所有记录），但仅显示为一种不同且简单的方法...

```
declare @new int = 1

update mytable
set @new  = val  = case when val = 0 then @new + 1 else val end 
```

[小提琴演示](http://sqlfiddle.com/#!3/a8553/10)

```
|          D |  VAL |
---------------------
| 2013-01-01 |  123 |
| 2013-01-02 |  225 |
| 2013-01-03 |  354 |
| 2013-01-04 |  578 |
| 2013-01-05 |  579 |--Updated
| 2013-01-06 | 2151 |
| 2013-01-07 | 2331 |
| 2013-01-08 | 2332 |--Updated
| 2013-01-09 | 2555 |
| 2013-01-10 | 2678 | 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:46:38.587

另一种选择

```
UPDATE s
SET s.Data = (COALESCE(o1.Data, o2.Data) + COALESCE(o2.Data, o1.Data)) / 2
FROM dbo.sensor s OUTER APPLY (
                               SELECT TOP 1 s2.Data AS Data
                               FROM dbo.sensor s2
                               WHERE s2.Data != 0 AND s.[Creation Date] < s2.[Creation Date]
                               ORDER BY s2.[Creation Date] ASC                         
                               ) o1
                  OUTER APPLY (
                               SELECT TOP 1 s3.Data AS Data
                               FROM dbo.sensor s3
                               WHERE s3.Data != 0 AND s.[Creation Date] > s3.[Creation Date]                               
                               ORDER BY s3.[Creation Date] DESC 
                               ) o2
WHERE s.Data = 0 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/a325b/1)上的演示[](http://sqlfiddle.com/#!3/a325b/1)

# html - div 自动展开到其容器的高度

> ID：15087462
> 
> 赞同：0
> 
> 时间：2013-02-26T11:04:33.153
> 
> 标签：html, css

如何使 div 自动扩展到其容器的高度？

这是一个问题的例子：http: [//jsfiddle.net/weQeh/](http://jsfiddle.net/weQeh/)

我曾尝试使用 CSS 属性`height: auto`，`height: 100%`但这并没有奏效。

这是我经常遇到的一个问题，但我从未找到并回答过它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:22:46.113

将 CSS 下方添加到您希望其高度与其父级相同的内部 div。

```
position : absolute; top : 0; bottom :0; 
```

**左：0；**如果您希望它位于容器的左侧

**或者**

**对：0；**如果您希望它位于容器的右侧。

`position : relative;`到父 div。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:22:09.780

您可以使用 css`tables`来制作所需的布局。这是演示：http: [//jsfiddle.net/weQeh/11/](http://jsfiddle.net/weQeh/11/)

# javascript - 仅当用户关注此“#field”时，如何激活此日期选择器？

> ID：15087463
> 
> 赞同：0
> 
> 时间：2013-02-26T11:04:34.933
> 
> 标签：javascript, jquery

```
$(document).ready(function(){
    $('#field').datepicker();
}); 
```

只有当用户关注这个时，如何激活这个日期选择器`#field`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:07:29.643

```
 $('#field').focus(); 

$(this).datepicker();
// then go for activating the datapicker 
```

你在找这个吗。。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:07:34.610

尝试`showOn`在初始化期间设置属性。更多文档可以在这里找到[http://api.jqueryui.com/datepicker/#option-showOn](http://api.jqueryui.com/datepicker/#option-showOn)

# zend-form - 当我在 ZEND 中添加 CSRF 时，为什么验证码重新加载不起作用？

> ID：15087478
> 
> 赞同：1
> 
> 时间：2013-02-26T11:05:32.903
> 
> 标签：zend-form

当我添加以下代码时，重新加载验证码工作正常

在 ZEND 表格中：

```
 $this->setName("login");
    $this->setMethod('post');

    $this->addElement('text', 'username', array(
    'filters'    => array('StringTrim', 'StringToLower'),
    'validators' => array(
        array('StringLength', false, array(0, 50)),
    ),
    'required'   => true,
    'label'      => 'Username:',
    ));

    $this->addElement('password', 'password', array(
    'filters'    => array('StringTrim'),
    'validators' => array(
        array('StringLength', false, array(0, 50)),
    ),
    'required'   => true,
    'label'      => 'Password:',
     ));

// Add a captcha
$this->addElement('captcha', 'captcha', array(
'label'      => 'Please enter the 5 letters displayed below:',
'required'   => true,
'captcha'    => array(
    'captcha' => 'Figlet',
    'wordLen' => 5,
    'timeout' => 300
)
 ));

  $captcha = $this->createElement('captcha', 'captcha', array(
    'required' => true,
    'captcha' => array(
        'captcha' => 'Image',
        'font' => APPLICATION_PATH . '/../public/fonts/arial.ttf',
        'fontSize' => '24',
        'wordLen' => 5,
        'height' => '50',
        'width' => '150',
        'imgDir' => APPLICATION_PATH.'/../public/captcha',
        'imgUrl' => Zend_Controller_Front::getInstance()->getBaseUrl().'/captcha',
        'dotNoiseLevel' => 50,
        'lineNoiseLevel' => 5,
    ),
    'description' => 'Refresh Captcha Image'

  ));

  $captcha->setLabel('Please type the words shown:');
  $captcha->removeDecorator("htmlTag")->removeDecorator('label');
  $captcha->addDecorator('Errors', array('class' => 'err-username', 'style' => 'display:none'));
  $captcha->addDecorator('Description', array('id' => 'refreshcaptcha'));

    $this->addElement($captcha);
 $this->getElement('captcha')->removeDecorator("htmlTag")->removeDecorator('label');

// And finally add some CSRF protection
  /*$this->addElement('hash', 'csrf', array(
'ignore' => true,
 ));*/

 $this->addElement('submit', 'login', array(
'required' => false,
'ignore'   => true,
'label'    => 'Login',
 )); 
```

在 phtml 中：

```
 <script type="text/javascript">
    $(document).ready(function() {
        $('#refreshcaptcha').click(function() { 
            $.ajax({ 
                url: "<?php echo $this->url(array('controller' => 'auth', 'action' => 'refresh'), 'default', false) ?>", 
                dataType:'json', 
                success: function(data) { 
                    $('#contactForm img').attr('src', data.src); 
                    $('#captcha-id').attr('value', data.id); 
                }
            }); 
        }); 
    });
    </script>

    <?php
        //Default
        //$this->form->setAction($this->url());
        //echo $this->form;
    ?>

    <?php 
    $errorsMessages = $this->form->getMessages();
    //http://www.websitefactors.co.uk/zend-framework/2011/06/error-class-on-form-field-errors-using-zend-form/
    ?>
    <?php 
    foreach($this->form->getMessages() as $elemName=>$messages) {
        foreach($messages as $message) {
            $label = $this->form->getElement($elemName)->getLabel();
            echo $this->escape($label.' '.$message)."<br>" ;
        }
    }
    ?>
    <div id="contactForm">
    <form method="<?php echo $this->form->getMethod(); ?>" action="<?php echo $this->form->getAction(); ?>">
    <?php echo $this->form->username->renderViewHelper(); ?>
    <?php echo $this->form->password->renderViewHelper(); ?>
    <?php echo $this->form->captcha; ?>
    <?php //echo $this->form->csrf->renderViewHelper(); ?>
    <?php echo $this->formSubmit('submit', 'Sign in',array('class'=>'button')); ?>
    </form>
    </div> 
```

当我单击“刷新验证码图像”时，验证码图像被替换而不刷新页面并且它工作正常，但是当我添加下面的 CSRF（跨站点请求伪造）代码并重新加载验证码然后提交时，登录永远不会成功的。它给了我错误：“*值是必需的，不能为空*”或“*请输入显示的文字：验证码值错误*”

```
 $this->addElement('hash', 'csrf', array(
        'ignore' => true,
    )); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T01:05:58.840

Zend_Form_Element_Hash 在每个请求上生成。因此，当您单击“刷新验证码图像”时，会生成一个新请求。然后，当您提交表单时，您已经用完了您的请求，因此 csrf 检查失败，因为令牌不同步。

要解决此问题，您可能会做错事，只需将跳数增加到某个较高的数字。不过，这将有助于否定您所追求的安全性。正确解决此问题的一种方法是在 refresh() 操作中重新初始化身份验证控制器中的令牌。然后，您可以发回包含此新令牌的 json_encoded 响应。

```
....
$form->captcha->initCsrfToken(); //recreate token and send it back
$responseArray['hash'] =  $form->captcha->getValue();
echo Zend_Json::encode($responseArray); 
```

执行 ajax 调用后，您可以将令牌替换为您从 refresh() 操作返回的内容。例子：

```
var newHash = jQuery.parseJSON(data).hash;
$('#yourcsrfelement').val(newHash); 
```

# jquery - 在 asp.net 中使用 jquery 只检查一个单选按钮

> ID：15087482
> 
> 赞同：1
> 
> 时间：2013-02-26T11:05:50.650
> 
> 标签：jquery, asp.net

我有以下网格视图。

```
<asp:GridView ID="GridView1" runat="server" AllowPaging="True" BackColor="White"
                BorderColor="#CCCCCC" BorderStyle="None" BorderWidth="1px" CellPadding="4" DataSourceID="UserModule_allusers"
                ForeColor="Black" GridLines="Horizontal" OnRowDataBound="grvGroups_RowDataBound"
                Width="324px" OnSelectedIndexChanged="GridView1_SelectedIndexChanged">
                <Columns>
                    <asp:TemplateField>
                        <ItemTemplate>
                            <asp:RadioButton ID="selectRow" GroupName="userSelect" runat="server" />
                        </ItemTemplate>
                    </asp:TemplateField>
                </Columns>
</asp:GridView> 
```

在这里，我使用一个单选按钮来选择行。要选择我正在使用以下 jquery 脚本的行。

```
 $('#<%=GridView1.ClientID%>').find('input:radio[id*="selectRow"]').click(function () {
    $('<%=GridView1.ClientID%>').find('input:radio[id*="selectRow"]').attr('checked',false);
                $(this).attr('checked', true);
                var isChecked = $(this).prop("checked");
                var $selectedRow = $(this).parent("td").parent("tr");
                var selectedIndex = $selectedRow[0].rowIndex;
                if (isChecked)
                    $selectedRow.css({
                        "background-color": "DarkSlateBlue",
                        "color": "GhostWhite"
                    });
            }); 
```

在这个脚本中，我试图首先取消选中网格中的所有单选按钮并检查当前上下文单选按钮。所有单选按钮都未选中，但未选中当前单选按钮。我在哪里做错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:45:09.727

试试这个javascript：

```
$('#<%=GridView1.ClientID%>').find('input:radio[id*="selectRow"]').click(function () {
    $('#<%=GridView1.ClientID%>').find('input:radio[id*="selectRow"]').attr('checked', false).parent("td").parent("tr").css({ "background-color": "white", "color": "black" });
            $(this).attr('checked', true);
            var isChecked = $(this).prop("checked");
            var $selectedRow = $(this).parent("td").parent("tr");
            var selectedIndex = $selectedRow[0].rowIndex;
            if (isChecked)
                $selectedRow.css({
                    "background-color": "DarkSlateBlue",
                    "color": "GhostWhite"
            });
}); 
```

您在此行中添加了一个错误：

```
$('<%=GridView1.ClientID%>').find('input:radio[id*="selectRow"]').attr('checked',false); 
```

您忘记了 gridview ID 之前的 # 。

我也添加了代码以从未选择的行中删除格式。

# magento - 重置 Filer 不适用于 Magento 后端的自定义模块

> ID：15087485
> 
> 赞同：2
> 
> 时间：2013-02-26T11:06:06.480
> 
> 标签：magento

在后端，当我单击“重置过滤器”按钮时，它会重定向到错误的 url 并显示 404 错误。

我不知道，如何调试这个问题。

请帮我，

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-28T06:17:40.457

检查您的商店或网站的基本网址。

# jquery - 谷歌爬虫和新闻自动收报机

> ID：15087486
> 
> 赞同：0
> 
> 时间：2013-02-26T11:06:23.880
> 
> 标签：jquery, web-crawler, google-search-console

我在我的网站上使用 jQuery News Ticker。由于我主要关注SEO，我想知道谷歌爬虫是否会将不断更新的新闻头条视为新内容？还是我最好在网站上有一个新闻部分？

这是我正在使用的新贴纸：www.jquerynewsticker.com/

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T02:35:09.943

我们可以看到您的网站吗？如果没有进一步的信息，我相信只提供片段和原始链接的新贴纸不会被视为重复内容。

而且我不相信谷歌会从股票代码中索引你的片段。也许您可以使用 noindex 或其他东西，但我不知道您如何将此代码集成到您的网站中。

# c - 从内存加载程序集（嵌入式 Mono 运行时）

> ID：15087489
> 
> 赞同：1
> 
> 时间：2013-02-26T11:06:29.830
> 
> 标签：c, mono, embed, scriptengine

我想从**内存**中加载单声道程序集。因此，我没有使用通常的 mono_domain_assembly_open ，而是使用**mono_image_open_from_data**。返回的图像和程序集都正常，状态为**MONO_IMAGE_OK**。

```
 m_valid = true;

        mono_set_dirs(assembliesDir.c_str(), configDir.c_str());

        MonoImageOpenStatus status = MONO_IMAGE_ERROR_ERRNO;

        m_image = mono_image_open_from_data(data, size, 1, &status);

        if(status != MONO_IMAGE_OK || m_image == NULL) {
            m_valid = false;

            return;
        }

        m_assembly = mono_assembly_load_from( m_image, assembliesName.c_str(), &status);

        if(status != MONO_IMAGE_OK || m_assembly == NULL) {
            m_valid = false;

            return;
        } 
```

但是，当我尝试使用以下方法从程序集中获取类时：

```
MonoClass *my_class = mono_class_from_name (m_image, name_space.c_str(), name.c_str()); 
```

我得到**my_class == NULL**。当我使用通常的**mono_image_open_from_data**单声道返回一个有效的类实例。我怀疑该方法无法正确加载所有引用。您有什么建议或解决方法吗？

# android - Phonegap 2.4 Android Proguard 配置

> ID：15087491
> 
> 赞同：7
> 
> 时间：2013-02-26T11:06:32.987
> 
> 标签：android, cordova, proguard, cordova-plugin-proguard

我已经将一个版本从 Phonegap (Cordova) 2.0 升级到 2.4 并且在开发中一切正常，直到我真正开始测试最终版本的 apk。在浪费了很多时间之后，我发现，由于某种原因，现在当我运行构建时，我的 proguard 配置以某种方式破坏了 phonegap 构建，这意味着当它运行时，永远不会调用 deviceready。构建时似乎没有错误，运行时也没有错误，据我所见，但我猜想在科尔多瓦 js 中有些东西在默默地失败，因为我没有在设备上收到编译/日志错误。

正如我所说，这仅在构建过程中运行 Proguard obfs 时。如果我关闭 Proguard，一切正常。我将所有代码恢复到 2.0 以确保这一切都很好，所以在此过程中的某个地方出现了一个似乎没有记录/或没有人击中的 stubble 更改（2.4 仅在几周前出现 - 在写作时间 2013 年 2 月 26 日）。

我的 Proguard 配置包含以下 phonegap （以及其他一些标准配置）

```
-keep public class * extends com.phonegap.api.Plugin
-keep public class * extends org.apache.cordova.api.Plugin
-keep public class org.apache.cordova.DroidGap
-keep public class org.apache.cordova.**
-keep public class org.apache.**
-dontwarn android.webkit.*
-dontwarn org.apache.** 
```

并且反编译 dex 似乎没有任何亮点 - 一切看起来都很好......

有人有想法么？？？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-11T16:07:21.877

尝试将 proguard-project.txt 中的 Cordova“保留”设置替换为以下行，这应该维护所有 Cordova 类、字段和方法，包括公共和私有（从而重新启用 deviceready）：

-keep class org.apache.cordova.** { *; }

然后你只需要包含你的类（可能是扩展 CordovaPlugin，而不仅仅是插件），例如

v3 之前的版本：

```
-keep public class * extends org.apache.cordova.api.CordovaPlugin 
```

v3+：

```
-keep public class * extends org.apache.cordova.CordovaPlugin 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:34:09.627

我猜，Phonegap 插件被排除在最终的 APK 之外。Cordova.js 可能甚至不存在给出错误。

# mysql - 主机 'localhost' 不允许连接到这个 MySQL 服务器 (#1130)

> ID：15087492
> 
> 赞同：2
> 
> 时间：2013-02-26T11:06:36.593
> 
> 标签：mysql

好的，我在问这个问题，因为我在过去 4 小时内尝试寻找答案。
我什至不知道我在服务器上做了什么，它不允许我从本地主机连接。但即使在安装了与 mysql 安装相关的任何内容并仅重新安装服务器之后，它也不会让我连接。

当我在应用安全设置上安装服务器后尝试配置服务器时，它失败并给我那个错误。

我的服务器安装在普通 PC 上而不是任何网站上，PC 运行 win 7，我尝试了 skip-grant-tables 选项以及卸载服务器后删除注册表项。

请如果有人有任何其他选项供我使用，或者您认为我在这些其他选项中做错了什么，请告诉我如何解决这个问题以及如何做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T08:21:59.407

我在安装新版本的mysql5.5时也遇到了同样的问题，但我解决了。

如果你通过安装mysql的路径，在windows你的windows系统中，“c:\mysqlinstalllocation\bin”你可以从这个目录运行mysql查询，但是如果你已经将mysql命令添加到windows中的路径选项，在环境变量中，这将帮助您从命令行运行自定义命令，您可以直接从命令提示符下的任何目录运行它。

只需在 mysql.ini 文件的 [mysqld] 标题下添加“skip-grant-tables”命令，并确保在执行此操作后重新启动服务器，然后运行 ​​mysql，它会工作。此时您将无需任何密码即可登录，因此建议此时删除密码，这样您可以在取消注释后轻松登录 skip-grant-tables" 命令

在您从 root 用户中删除密码后，请确保删除“skip-grant-tables”命令，或使用 # 将其注释掉，然后重新启动服务器。它会起作用的。

现在您无需任何密码即可登录，然后运行 ​​grant 命令，并设置您喜欢的任何密码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-03-21T07:43:18.853

**您可以像下面这样解决问题：**

1.  打开**我的.ini**文件
2.  **在[mysqld]**下添加**skip-grant-tables**
***   [mysqld] 看起来像

    ```
    # The MySQL server
    [mysqld]
    skip-grant-tables
    port= 3306
    socket = "C:/xampp/mysql/mysql.sock"
    basedir = "C:/xampp/mysql" 
    tmpdir = "C:/xampp/tmp" 
    datadir = "C:/xampp/mysql/data"
    pid_file = "mysql.pid" 
    ```** 

 *** * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:08:35.373

您需要添加相关权限并使用 skip-grant-tables 选项绕过内置安全性。

```
GRANT ALL ON *.* TO 'root'@'localhost' IDENTIFIED by 'password'; 
```

没有skip-grant-tables标志正常重启。**

# objective-c - 从详细视图返回时反映对 NSFetchedResultsController 结果的更改？

> ID：15087495
> 
> 赞同：0
> 
> 时间：2013-02-26T11:06:38.460
> 
> 标签：objective-c, uitableview, core-data, nsfetchedresultscontroller, reloaddata

所以我有一个按钮，`UITableView`可以打开和关闭过滤器，按被`BOOL`调用的`isLiked`. 我可以显示所有结果，或者只显示指定为喜欢的结果。我可以点击任何单元格并进入一个详细信息页面，我可以在其中`BOOL`打开或关闭它。

如果我在点赞列表中并且我点击了一个，然后将其收藏状态关闭，然后再次返回到点赞过滤，它并没有消失。如果我关闭并再次打开过滤器，该条目就会消失。

我希望在我退出该视图后立即进行更改，而不是需要打开和关闭过滤器才能使其生效。我怎样才能做到这一点？一些相关代码如下：

**这是我打开和关闭过滤器时调用的方法：**

```
- (IBAction) filterLiked: (id) sender
{
    if (isDisplayingLiked) {
        // Revert to the predicate that only removes disliked entries.
        [_fetchRequest setPredicate: [NSPredicate predicateWithFormat: @"isDisliked == 0"]];
        NSError *error;
        if (![self.fetchedResultsController performFetch: &error]) NSLog(@"Unresolved error %@, %@", error, [error userInfo]);

        // Update the tableView and update state variables.
        [self.tableView reloadData];
        isDisplayingLiked = NO;
        [_showLikedButton setTitle: @"Liked"];

    } else {
        // Revert to the predicate that only shows liked entries.
        [_fetchRequest setPredicate: [NSPredicate predicateWithFormat:@"isLiked == 1"]];
        NSError *error;
        if (![self.fetchedResultsController performFetch: &error]) NSLog(@"Unresolved error %@, %@", error, [error userInfo]);

        // Update the tableView and update state variables.
        [self.tableView reloadData];
        isDisplayingLiked = YES;
        [_showLikedButton setTitle: @"All"];
    }
} 
```

**这是我在详细视图中打开或关闭“喜欢”状态时调用的代码：**

```
- (IBAction) changeLikedSwitch: (id) sender
{
    UISwitch *likedSwitch = (UISwitch *) sender;
    if ([likedSwitch isOn]) {
        [_selectedQuote setIsLiked: [NSNumber numberWithBool: YES]];
    } else {
        [_selectedQuote setIsLiked: [NSNumber numberWithBool: NO]];
    }

    NSError *error;
    if (![[[CDManager sharedManager] managedObjectContext] save:&error]) NSLog(@"Saving changes failed: %@, %@", error, [error userInfo]);
} 
```

如果您需要更多代码，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:19:42.823

从详细视图返回后，您需要重新加载表视图的数据。

一种常见的技术是使用委托。使表视图控制器成为详细视图控制器的委托。然后，在详细视图控制器中`viewWillDisappear:`，您可以调用委托的`reloadData`方法。

# javascript - 转义 JavaScript 字符串中的单引号以进行 JavaScript 评估

> ID：15087497
> 
> 赞同：43
> 
> 时间：2013-02-26T11:06:42.423
> 
> 标签：javascript, string, escaping, eval

我有一个项目，其中评估了一些 JavaScript 变量。因为字符串需要转义（仅限单引号），所以我在测试函数中编写了完全相同的代码。我有以下一些非常简单的 JavaScript 代码：

```
function testEscape() {
    var strResult = "";
    var strInputString = "fsdsd'4565sd";

    // Here, the string needs to be escaped for single quotes for the eval 
    // to work as is. The following does NOT work! Help!
    strInputString.replace(/'/g, "''");

    var strTest = "strResult = '" + strInputString + "';";
    eval(strTest);
    alert(strResult);
} 
```

我想提醒它，说：`fsdsd'4565sd`。

* * *

## 回答 #1

> 赞同：105
> 
> 时间：2013-02-26T11:20:52.947

问题是它`.replace()`不会修改字符串本身，因此您应该编写如下内容：

```
strInputString = strInputString.replace(... 
```

似乎您没有正确进行字符转义。以下对我有用：

```
strInputString = strInputString.replace(/'/g, "\\'"); 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2018-12-21T07:51:21.850

最好用于`JSON.stringify()`覆盖所有基础，例如反斜杠和其他特殊字符。这是您的原始功能，而不是修改`strInputString`：

```
function testEscape() {
    var strResult = "";
    var strInputString = "fsdsd'4565sd";

    var strTest = "strResult = " + JSON.stringify(strInputString) + ";";
    eval(strTest);
    alert(strResult);
} 
```

（这样你`strInputString`可能会像这样`\\\'\"'"''\\abc'\`，它仍然可以正常工作。）

请注意，它添加了自己的双引号，因此您不再需要包含单引号。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-11T22:33:18.487

我同意这`var formattedString = string.replace(/'/g, "\\'");`很好用，但是因为我在 PHP 中使用了这部分代码和框架 Prado（您可以在 PHP 类中注册 js 脚本），所以我需要在双引号中使用这个示例。

对我有用的解决方案是您需要输入三个`\`并转义双引号。 `"var string = \"l'avancement\"; var formattedString = string.replace(/'/g, \"\\\'\");"`

我回答了这个问题，因为我很难找到三个`\`是解决方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-07-03T14:50:04.130

只有这对我有用：

```
searchKeyword.replace(/'/g, "\\\'");//searchKeyword contains "d'av" 
```

因此，结果变量将包含“d\'av”。

我不知道为什么 RegEx 不起作用，可能是因为我使用的 JS 框架（Backbone.js）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-09-14T09:04:33.977

**有两种方法可以在 JavaScript 中转义单引号。**

1- 使用双引号或反引号将字符串括起来。

示例：“fsdsd'4565sd”或“fsdsd'4565sd”。

2- 在任何特殊字符前使用反斜杠，在我们的例子中是单引号

示例：strInputString = strInputString.replace(/ ' /g, " \\' ");

注意：使用双反斜杠。

两种方法都对我有用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-11-12T11:13:48.727

var str =“fsdsd'4565sd”; str.replace(/'/g,"'")

这对我有用。请试试这个

[![在此处输入图像描述](../Images/d268f3f0484d9c5fa32c4365643442f5.png)](https://i.stack.imgur.com/dIC3e.png)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-11-18T09:56:09.637

这对我有用。

```
string address=senderAddress.Replace("'", "\\'"); 
```

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2016-02-17T00:42:39.390

```
strInputString = strInputString.replace(/'/g, "''"); 
```

# github - 如何将要点作为用户（而不是匿名）？

> ID：15087499
> 
> 赞同：1
> 
> 时间：2013-02-26T11:06:47.837
> 
> 标签：github, ipython, gist

在 ipython 终端中： `%pastebin -d "my description" 1-150`

将 url 返回到 gist。但是，我想将它作为登录用户粘贴到我的 github 帐户中。此外，有没有办法从 ipython 中创建私有 gist（而不是 public）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:48:26.793

目前的代码是不可能的，路线图甚至都没有计划。

这仍然可以作为扩展来完成。

你也可以为当前的魔法提出补丁，Pull Request 总是受欢迎的。

# javascript - 如何将数据从extjs控制器发送到jsp页面

> ID：15087500
> 
> 赞同：0
> 
> 时间：2013-02-26T11:06:48.730
> 
> 标签：javascript, extjs, extjs4.1

我已经在 Extjs 控制器中初始化了一些变量。当我单击网格的一行时，将显示某些属性的值。如果我想在控制台中显示，下面的代码可以正常工作。但我想在另一个 jsp 页面页面中发送变量。
这是我的控制器...

```
selectionchange : function(){
    var grid = Ext.getCmp('lineGridChart');
    var selectedRecords= grid.getView().getSelectionModel().getSelection();
    myWTN  = selectedRecords[0].get('wtn');
    myMOU  = selectedRecords[0].get('avg');
    myWING = selectedRecords[0].get('wing');
    myPDU  = selectedRecords[0].get('pdu');

}, 
```

我想将变量的值发送到jsp页面...请帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:25:01.207

一种方法是设置 cookie 并将值从一个页面传递到另一个页面。另一种方法是使用 ajax 请求调用 servlet 并从 servlet 转发到 jsp。在ajax请求中，可以设置参数并传递。

# zend-framework2 - Pyrus 和 Composer 有什么区别？

> ID：15087502
> 
> 赞同：5
> 
> 时间：2013-02-26T11:07:07.333
> 
> 标签：zend-framework2, composer-php, pyrus

我是 Zend Framework 2.0 的新手，在阅读了文档后我知道我们可以通过 Pyrus、Composer 等包管理器安装 Zend。但我不知道我应该选择哪个包管理器？请向我解释它们之间的一些区别，谢谢您的帮助！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-26T11:16:44.160

Pyrus 基本上是[PEAR2](http://pear2.php.net/)，并且需要包的最终开发人员配置 pyrus 分发渠道以使包公开。

Composer 由主要的[packagist.org](http://packagist.org/)存储库支持，如有必要，可通过[satis提供自己的频道。](http://getcomposer.org/doc/articles/handling-private-packages-with-satis.md)

Pyrus 是托管的，但在其主存储库上没有太多[活动](https://github.com/pyrus/Pyrus/graphs/commit-activity)，作曲家[更加活跃](https://github.com/composer/composer/graphs/commit-activity)。

[Composer](http://getcomposer.org/)是目前可用的 PHP 最常用的包管理器。目前大多数 ZF2 模块都支持它并且不支持 Pyrus，所以我强烈建议你习惯它。

相关：[没有作曲家的 ZF2 + 学说](https://stackoverflow.com/questions/14979381/zf2-doctrine-without-composer)（这个工具如何变得必要的例子）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-13T06:18:20.633

除了 Ocramius 的解释：

*   Pyrus**不是**PEAR2。Pyrus 是一个独立的工具，可以从任何[PEAR 兼容的渠道](http://pear.php.net/channels/)安装软件包，*包括*pear.php.net 和 pear2.php.net。
*   Pyrus 能够安装和编译[PECL 包](http://pecl.php.net/)（PHP 扩展）。
*   使用 composer 更容易自己发布一个包。您的 git 存储库中只需要一个文件；Composer 可以直接从那里安装。另一方面，Pyrus 需要一堆您无法手动生成的 XML 文件，因此您必须使用像[Pirum](http://www.pirum-project.org/)这样的频道服务器软件。

# c++ - 使用英特尔 C++ 编译器在 C++ 中实现 MATLAB 函数

> ID：15087507
> 
> 赞同：0
> 
> 时间：2013-02-26T11:07:25.313
> 
> 标签：c++, matlab, vector, parallel-processing, intel-ipp

我用 Visual C++ 开发了一个 MATLAB 程序。我正在使用*英特尔® 集成性能基元*，因为程序速度是一个重要问题，并且我为实现一些 MATLAB 函数做了很多努力。例如，对于我使用的向量上的 Min 和 Max 函数`ippsMaxIndx_32f`；但是，MATLAB 中有*Find*之类的函数。以下是MATLAB中*Find方法的说明：*

[描述](http://www.mathworks.com/help/matlab/ref/find.html) 我需要一个函数来高速实现 MATLAB 的这个 find 函数。

*Intel Ipp*中是否有与 MATLAB 中的*Find*函数类似的函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:19:44.890

我从未听说过将 matlab 功能移植到 C++ 的全面端口。话虽这么说，matlab 所做的几乎所有事情都存在于某个地方的 C/C++ 库中，有些在我的脑海中：

LAPACK、BLAS，还有一些很好的实现，最著名的（免费）一个是 ATLAS。

FFT 通过 fftw 库在 matlab 中实现

那里有大量快速的开源图像库，即。插值，过滤。

那里有非常好的 OOP 矩阵库，boost 有一个不错的。\

在那之后，弄清楚你需要什么，很有可能有人已经用 C/C++ 实现了它。

您可以检查这些以查看是否可以找到您正在寻找的功能！因为我不确定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:25:16.557

我使用[了 ippsFind_*](http://software.intel.com/sites/products/documentation/hpc/composerxe/en-us/2011Update/ippxe/ipp_manual_lnx/IPPS/ipps_ch11/functn_Find.htm)并且它们工作得很好。

# java - Grails，Tomcat部署错误

> ID：15087513
> 
> 赞同：0
> 
> 时间：2013-02-26T11:07:34.290
> 
> 标签：java, tomcat, grails, deployment, war

我正在尝试使用 tomcat 7 部署战争文件，但出现这些错误。

```
Feb 26, 2013 3:42:48 PM org.apache.catalina.loader.WebappClassLoader loadClass
INFO: Illegal access: this web application instance has been stopped already.  Could not load org.compass.core.lucene.engine.manager.DefaultLuceneSearchEngineIndexManager$11\.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.
java.lang.IllegalStateException
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1599)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1558)
    at org.compass.core.lucene.engine.manager.DefaultLuceneSearchEngineIndexManager.performScheduledTasks(DefaultLuceneSearchEngineIndexManager.java:426)
    at org.compass.core.lucene.engine.manager.DefaultLuceneSearchEngineIndexManager$ScheduledIndexManagerRunnable.run(DefaultLuceneSearchEngineIndexManager.java:527)
    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
    at java.util.concurrent.FutureTask$Sync.innerRunAndReset(Unknown Source)
    at java.util.concurrent.FutureTask.runAndReset(Unknown Source)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source)
    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

同样的战争在其他机器上运行良好，但它在生产机器上给出了这个错误。我尝试更改机器中的 apache 服务器和 jdk，但没有效果。有人可以告诉我这个错误与什么有关吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T13:20:19.663

这可能是文件系统访问权限问题。请确保路径存在，并且 tomcat 在 Searchable/Lucene 尝试创建索引的位置具有“写入”权限。

# php - 标头（）；注销后不工作]session_destroy()]

> ID：15087514
> 
> 赞同：2
> 
> 时间：2013-02-26T11:07:41.093
> 
> 标签：php, redirect, header, logout

我的 logout.php 有以下代码：

```
<?php

session_start();

$_SESSION = array();

if (ini_get("session.use_cookies")) {
$params = session_get_cookie_params();
setcookie(session_name(), '', time() - 42000,
    $params["path"], $params["domain"],
    $params["secure"], $params["httponly"]
);
}

session_destroy();
    header( "Location: index.php" ); //to redirect back after logging out
?> 
```

问题是标题不起作用。我不知道它是否与上面的代码有关.. 但我不这么认为，因为它可以在 localhost - wamp 服务器上运行。那是因为我正在使用的服务器吗？还是代码有问题？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:42:25.987

试试这个也许它有效：

```
echo '<META HTTP-EQUIV="Refresh" Content="0; URL=index.php">';    
exit; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:18:06.143

是因为Header Redirect需要开启数据缓冲，可能是服务器禁用了，尝试添加`ob_start();`后`session_start();`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:19:13.190

试试看：

```
header( "Location: http://hostname.com/full_path/index.php" ); 
```

或者，如果在使用标头时遇到错误，请尝试以下代码：

```
echo "<script>window.location.href='http://hostname.com/full_path/index.php'</script>"; 
```

# r - 如何将对象名称转换为字符对象

> ID：15087515
> 
> 赞同：2
> 
> 时间：2013-02-26T11:07:45.987
> 
> 标签：r, eval

我有一个函数，只是打印，`mytable`是一个全局变量

```
f <- function(field){ print(mytable[mytable$a == field,]) } 
```

我的问题是这个函数被调用（不是我，它是由另一个进程（如编辑器）作为命令发送给 R 的）`f(EXAMPLE)`，`f(EXAMPLE2)`...这失败了，因为`EXAMPLE`不是定义的变量，我想`EXAMPLE`成为`"EXAMPLE"`（一个字符串） .

当被评估时，我可以在函数`f`中做些什么`field`来获得值“EXAMPLE” ？`f(EXAMPLE)`

我意识到这是非常令人费解的......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T11:10:47.677

您可以使用`deparse(substitute(yourobject))`：

```
R> deparse(substitute(foo))
[1] "foo" 
```

# vim - Vim minibufexplorer 仅显示当前 vim 选项卡中的缓冲区

> ID：15087516
> 
> 赞同：1
> 
> 时间：2013-02-26T11:07:46.173
> 
> 标签：vim, tabs, minibufexplorer

我真的很喜欢 minibufexplorer，所以我总是关注我打开了哪些缓冲区。最近，我发现了 vim 选项卡。我认为两者的结合对我的工作流程来说可能非常强大。

不幸的是，当我打开两个带有多个缓冲区的 vim 选项卡时，minibufexplorer 会向我显示每个选项卡中的*所有*缓冲区。示例：我在选项卡 1 中打开缓冲区 A、B、C，在选项卡 2 中打开缓冲区 C、D、E。现在，我希望选项卡 1 中的 minibufexplorer 仅显示选项卡 2 中的 A、B 和 C显示 C、D 和 E。它当前所做的是在两个选项卡中显示 A、B、C、D、E。

这是选项卡和 minibufexplorer 的工作方式所固有的，还是我可以做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:25:32.797

缓冲区并不特定于一个选项卡：缓冲区 A 可能显示在选项卡 1 的窗口 3 和 4 以及选项卡 2 的窗口 1 中，或者……无处显示。您可能需要稍微修改 MBE 以将列表缩小到当前选项卡中当前可见的缓冲区。

但有什么意义呢？

如果您在当前选项卡的窗口 1 和 2 中已经显示了缓冲区 A 和 B，那么显示这两个缓冲区的列表对我来说听起来毫无用处。

# android - Google Maps v2 无法在 Android 模拟器上运行

> ID：15087520
> 
> 赞同：1
> 
> 时间：2013-02-26T11:07:57.787
> 
> 标签：android, google-maps-api-2

[我已按照http://saleh360.blogspot.in/2012/12/android-running-google-maps-api-v2_12.html](http://saleh360.blogspot.in/2012/12/android-running-google-maps-api-v2_12.html)中的所有步骤操作，但我无法让 google maps v2 在 android 模拟器上工作。

当我运行我的项目时，我收到消息：除非您更新 Google Play 服务以及“更新”按钮，否则此应用将无法运行。如果我更新，它会将我带到 Google Play 并且看不到我的应用程序的地图。

此外，当我尝试导入“ `<android-sdk-folder>/extras/google/google_play_services/samples/maps`”时，我无法在我的电脑中找到文件夹地图，尽管我获得了最新版本的谷歌播放服务

有没有其他人遇到过同样的问题并找到了解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T05:56:52.043

我创建了一个（德语）描述如何让它工作：

[http://linuxchef.blogspot.de/2013/05/google-maps-api-v2-im-android-emulator.html](http://linuxchef.blogspot.de/2013/05/google-maps-api-v2-im-android-emulator.html)

您基本上需要一个至少具有 API 级别 9 且没有 Google API 的模拟器。然后，您必须从有根设备中获取 APK：

adb -d 拉 /data/app/com.android.vending-2.apk adb -d 拉 /data/app/com.google.android.gms-2.apk

并将它们安装在模拟器中：

adb -e 安装 com.android.vending-2.apk adb -e 安装 com.google.android.gms-2.apk

如果您的模拟器至少具有 API 级别 14 并另外安装 com.google.android.apps.maps-1.apk，您甚至可以运行本机 Google 地图应用程序

玩得开心。

# algorithm - 我们如何用大 O 表示法来表示以下函数？

> ID：15087521
> 
> 赞同：1
> 
> 时间：2013-02-26T11:08:00.697
> 
> 标签：algorithm, function, big-o, asymptotic-complexity

我有一个函数，想用 bigO 表示法来表示它。

f(n) = log [4] n+n*(1/3)。这个函数是 O(n) 吗？谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:35:24.573

根据[维基百科](http://en.wikipedia.org/wiki/Big_O_notation)

> 如果函数 f(n) 可以写成其他函数的有限和，那么增长最快的函数决定了 f(n) 的阶。

之间`log4(n)`和`1/3 n`增长最快的是`1/3 n`, 和

```
O(1/3 n) = O(n) 
```

`f(n)`也是_`O(n)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T08:27:38.023

我认为是 O(1) ，因为无论 n 有多大，都可以同时进行计算。

# entity-framework - Linq to Entities Distinct on Column 没有匿名类型

> ID：15087531
> 
> 赞同：1
> 
> 时间：2013-02-26T11:08:41.363
> 
> 标签：entity-framework, linq-to-entities, distinct, anonymous-types

我正在使用**Entity Framework 5.0**，我希望返回一个对象列表，但是，我想对列表中每个对象的**一个​​属性执行 DISTINCT 。**

**我知道在Stackoverflow**上已经有一些与我类似的问题，但是，我仍在努力解决这个问题。

目前我的查询看起来像这样

```
public IList<tblcours> GetAllCoursesByOrgID(int id)
{
     return _UoW.tblcoursRepo.All.Where(c => c.tblCourseCategoryLinks.Any(cl => cl.tblUnitCategory.tblUnit.ParentID == id))
            .OrderBy(c => c.CourseTitle)
            .ToList();
} 
```

但是，我需要对属性**MainHeadingID执行****DISTINCT**以删除任何已经具有相同 ID 的对象，**但仍返回具有所有属性的整个对象**。

 ****从我的方法中可以看出，我最好返回**IList**，而**不是 Anonymous Type**。

对此的任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T11:22:02.547

你试过使用`GroupBy`吗？

```
_UoW.tblcoursRepo.All.GroupBy(c => c.MainHeadingId)
                     .Select(g => g.FirstOrDefault()) 
```****

# ios - 在 iPhone 上使用 tesseract/opencv 识别 CMC7

> ID：15087534
> 
> 赞同：0
> 
> 时间：2013-02-26T11:08:50.203
> 
> 标签：ios, opencv, ocr, tesseract

我目前正在iOS上做一个项目。我正在开发的应用程序应该从支票（支票？）中拍照，并读取写在支票底部的 CMC7 号码。

目前，我正在使用 openCV 进行开发，因为在我到达之前已经在该项目上完成了工作，但是：

对于这种工作，openCV 是否比 Tesseract 更好？

这里的难点在于所使用的字体，也就是这个： [http://www.dafont.com/fr/cmc7.font](http://www.dafont.com/fr/cmc7.font) 可以想象，通常的 OCR 无法识别这种字体，因为它的形状。我认为完成这项工作的最佳方法是使用字体的条形码来识别它，而不是使用字符的形状。

我的想法是，据我所知，Tesseract 可以识别不同类型的字体，我们可以将它训练成特定的字体，但是用于 CMC7 的这种字体呢？如果我想处理条形码，有没有办法用 Tesseract 来做，或者不能只用于字体识别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-08T11:19:44.193

我们有同样的问题。我认为不可能以条形码方式从 cmc7 获取功能。因为您在数字占位符内有不同的笔划高度和位置。我不熟悉 Tesseract，但对于所有类型的相关器，您可以选择强烈定义类别的特征，类别中样本之间的差异很小。我们正在考虑使用 LBP、HOG 或特征向量等尺度不变特征来消除插值后的数据丢失。

# c++ - cmake 为 BOOST 找到了不同的路径

> ID：15087535
> 
> 赞同：1
> 
> 时间：2013-02-26T11:08:51.280
> 
> 标签：c++, boost, cmake

我用它来支持 BOOST：

```
set(Boost_DEBUG 1)
find_package( Boost 1.52 COMPONENTS system filesystem REQUIRED )
message(${Boost_LIBRARIES}) 
```

Cmake 找到我安装在单独文件夹中的**BOOST 1.52**库，但它与位于以下位置的系统**BOOST 1.41**`/usr`库链接：

**BOOST_ROOT**已设置，但 cmake 仅将其用于 INCLUDE，而不是 LIB。用于 BOOST 的 Cmake 调试输出。

```
-- [ /usr/share/cmake/Modules/FindBoost.cmake:347 ] Boost not in cache
-- [ /usr/share/cmake/Modules/FindBoost.cmake:350 ] _boost_TEST_VERSIONS = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:352 ] Boost_USE_MULTITHREADED = TRUE
-- [ /usr/share/cmake/Modules/FindBoost.cmake:354 ] Boost_USE_STATIC_LIBS = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:412 ] Declared as CMake or Environmental Variables:
-- [ /usr/share/cmake/Modules/FindBoost.cmake:414 ]   BOOST_ROOT = /gpfs/res_apps/BOOST/1.52.0
-- [ /usr/share/cmake/Modules/FindBoost.cmake:416 ]   BOOST_INCLUDEDIR = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:418 ]   BOOST_LIBRARYDIR = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:420 ] _boost_TEST_VERSIONS = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:469 ] Include debugging info:
-- [ /usr/share/cmake/Modules/FindBoost.cmake:471 ]   _boost_INCLUDE_SEARCH_DIRS = /gpfs/res_apps/BOOST/1.52.0/include;/gpfs/res_apps/BOOST/1.52.0;C:/boost/include;C:/boost;/boost;/sw/local/include
-- [ /usr/share/cmake/Modules/FindBoost.cmake:473 ]   _boost_PATH_SUFFIXES = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:497 ] location of version.hpp: /gpfs/res_apps/BOOST/1.52.0/include/boost/version.hpp
-- [ /usr/share/cmake/Modules/FindBoost.cmake:516 ] version.hpp reveals boost 1.52.0
-- [ /usr/share/cmake/Modules/FindBoost.cmake:602 ] guessed _boost_COMPILER = -gcc47
-- [ /usr/share/cmake/Modules/FindBoost.cmake:612 ] _boost_MULTITHREADED = -mt
-- [ /usr/share/cmake/Modules/FindBoost.cmake:628 ] _boost_STATIC_TAG = 
-- [ /usr/share/cmake/Modules/FindBoost.cmake:630 ] _boost_ABI_TAG = d
-- [ /usr/share/cmake/Modules/FindBoost.cmake:659 ] _boost_LIBRARIES_SEARCH_DIRS = /gpfs/res_apps/BOOST/1.52.0/lib;/gpfs/res_apps/BOOST/1.52.0/stage/lib;C:/boost/lib;C:/boost;/boost/boost_1_52_0/lib;/boost;/sw/local/lib
-- [ /usr/share/cmake/Modules/FindBoost.cmake:788 ] Boost_FOUND = TRUE
-- Boost version: 1.52.0
-- Found the following Boost libraries:
--   system
--   filesystem
/usr/lib64/libboost_system-mt.so/usr/lib64/libboost_filesystem-mt.so 
```

# android - 如何使用 listView.setEmptyView()？

> ID：15087537
> 
> 赞同：0
> 
> 时间：2013-02-26T11:08:52.933
> 
> 标签：android, android-listview, android-progressbar

我想在列表加载时在列表视图中添加一个进度条，如果加载完成后没有结果，我想使用 setEmptyView 函数添加一个 textVeiw 说明列表为空。我尝试使用此代码在列表中添加进度条，但现在很幸运：

```
@Override
    protected void onPreExecute() { 
 ProgressBar progress = new ProgressBar(parent);
         progress.setLayoutParams(new LinearLayout.LayoutParams(
         LinearLayout.LayoutParams.WRAP_CONTENT,
         LinearLayout.LayoutParams.WRAP_CONTENT));
        ((ListView) view).setEmptyView(progress);
        super.onPreExecute();
    } 
```

如何务实地在列表中添加进度条，而不使用 xml 布局来填充它？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:15:20.670

试试这个方法，我没试过，但从这个[Android中得到了参考——ListView => setEmptyView()](http://www.technotalkative.com/android-listview-setemptyview/)

```
listView.setEmptyView(findViewById(R.id.progressBar)); 
```

让我工作与否。

祝你好运。

# javascript - 试图将笔记本电脑当前位置发送到服务器并显示在谷歌地图上

> ID：15087539
> 
> 赞同：2
> 
> 时间：2013-02-26T11:09:08.150
> 
> 标签：javascript, html, geolocation

嗨，正如问题所说，我正在尝试使用地理位置将我的笔记本电脑当前位置发送到我的网站，以便它可以在谷歌地图上显示其当前位置。我的问题是到目前为止我只能让它显示服务器的位置，并且让在笔记本电脑上运行的某种形式的脚本发送到服务器是我遇到麻烦的地方，只是想看看是否有人有任何想法解决这个问题，因为它给我带来了一些困难谢谢

```
if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function (position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var coords = new google.maps.LatLng(latitude, longitude);
        var mapOptions = {
            zoom: 15,
            center: coords,
            mapTypeControl: true,
            navigationControlOptions: {
                style: google.maps.NavigationControlStyle.SMALL
            },
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(
            document.getElementById("mapContainer"), 
            mapOptions
        );
        var marker = new google.maps.Marker({
            position: coords,
            map: map,
            title: "Your current location!"
        });
    });
} else {
    alert("Geolocation API is not supported in your browser.");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:26:10.817

好吧，既然您没有提供任何您有问题的代码，我不妨只给您一个指向 Google Maps Gelocation API 官方网站页面的链接：[https ://developers.google.com/maps/documentation/业务/地理位置/](https://developers.google.com/maps/documentation/business/geolocation/) .

# jstl - 可以使用 JSTL fmt:formatNumber 来获取此输出：“1 234.56”吗？

> ID：15087544
> 
> 赞同：6
> 
> 时间：2013-02-26T11:09:19.247
> 
> 标签：jstl

我正在尝试以这种特定格式格式化数字：

“1 234.56”

所以，两位小数，用点隔开。并用空格字符（可选单引号）将数千人分组。输入值永远不会大于 9999.99。

我尝试为此使用模式，甚至使用语言环境，但无济于事。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-27T02:29:32.057

这是一种方法。

```
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%> 
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<c:set var="val" value="9999.99" /> 
<fmt:formatNumber value="${val}" pattern="#,###.##" var="pat" /> 
${fn:replace(pat, ",", " ")} 
```

# android - Android 的哪个部分负责选择正确的资源配置文件？

> ID：15087547
> 
> 赞同：8
> 
> 时间：2013-02-26T11:09:30.177
> 
> 标签：android, android-layout, android-resources, android-resolution

我有一个奇怪的问题。

在你想出一个抨击我的想法之前，我正在制作一个定制的果冻豆。因此，“通常的好方法”在这里可能行不通，必须做出肮脏的变通办法。

我有一个 APK，其中包含以下资产：

```
layout
layout-mdpi
layout-land
layout-large-mdpi
layout-large-land-mdpi
layout-large-hdpi
layout-large-xhdpi 
```

其他一些指标代码返回了这个：

```
D/AppDemo( 2091): measured width: 1920 PE width: 1920 scaleFactor = 1.0
D/AppDemo( 2091): [ANDROID] measured width: 1920 measured height: 1080
D/AppDemo( 2091): [ANDROID] scale for resources: 2.0 xdpi: 320.0 ydpi: 320.0
D/AppDemo( 2091): [ANDROID] screen density: xhdpi
D/AppDemo( 2091): [ANDROID] screen size: large
D/AppDemo( 2091): [ANDROID] using layout: layout-mdpi 
```

那么，查看指标​​，为什么没有`layout-large-xhdpi`被加载？

请告诉我在哪里可以查到这个。我真的需要找到一种方法来强制 Layout/Resource/`AssetManager`加载特定的布局。

我知道在这个问题上最受欢迎的评论是“你不需要/为什么你有`layout-xhdpi`，你应该有`drawable-xhdpi`和`layout-large`”但是，请耐心等待。

即使是关于在哪里看和寻找什么的小提示，我也会非常感激。到目前为止，`AssetManager`似乎是开始挖掘/记录的地方。

当我省略`layout-mdpi`时，应用程序在我身上崩溃，缺少资源。该错误似乎是即使代码返回`xhdpi`，它也假定在`mdpi`其他地方。我需要找到它并修复它，这样我的应用程序看起来就和它们在 ICS 上一样好:)

我正在以一种简单的方式确定哪个布局被加载 - 所有根布局都有一个`android:tag`元素，当`setContentView(R.layout.main_layout)`我抓住根元素上的标签并知道哪个文件夹被加载时。除了视觉反馈之外，这最终必须与我的设备配置相匹配。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T05:41:22.617

市场上有很多像[Micromax Funbook](http://www.micromaxinfo.com/tablet/funbook)这样的被黑设备，它们的屏幕尺寸很大，但使用 mdpi 资源，相信我，我曾与他们合作过，这非常令人沮丧。

正如您所提到的，您的应用程序在其他所有设备上都运行良好，只是不适用于此实用平板电脑，您可能需要实施此处发布的此类解决方案

[http://android-developers.blogspot.in/2011/07/new-tools-for-managing-screen-sizes.html](http://android-developers.blogspot.in/2011/07/new-tools-for-managing-screen-sizes.html)

您必须阅读此页面上的最后一段，它肯定会有所帮助。

在这里总结一下，建议的方法是使用不同的资源创建一个具有不同名称的单独布局。

您在这里推动资源挑选过程，而不是系统。这可能很耗时，但肯定会有所帮助。

```
public class MyActivity extends Activity {
    @Override protected void onCreate(Bundle savedInstanceState) {
        super.onCreate();

        Configuration config = getResources().getConfiguration();
        if (config.smallestScreenWidthDp >= 600) {
            setContentView(R.layout.main_activity_tablet);
        } else {
            setContentView(R.layout.main_activity);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T19:38:44.773

有趣的问题。我看了看，但这一切都在兔子洞里。没有这样的答案，但也许我的分析会让你朝着正确的方向前进。

我看着`setContentView`前方发生的事情。显然，此时您是在谈论与密度无关的布局参考（例如`R.layout.main_layout`），然后它将变成对 APK 中特定文件的参考。您的问题是何时何地。

我使用了横向/纵向限定符，以便我可以在运行时更改质量，并且我使用了一个带有 Android 源代码的调试器。

这是一个流程，从某种方式开始。

1.  Resources.getLayout(int)
2.  Resources.loadXmlResourceParser(int, String)
3.  Resources.getValue(int, TypedValue, boolean)
4.  AssetManager.getResourceValue(int, int, TypedValue, boolean)
5.  StringBlock.get(int)
6.  StringBlock.nativeGetString(int,int)

让我们向后工作。

第 6 步是返回限定引用的本机 (C) 方法，例如`/res/layout-land/yourview.xml`. 然而，它的参数是一个索引，它会根据我们是横向还是纵向而变化。

要查看它的来源，我们必须回到第 4 步。索引是 TypedValue 中的一个字段，但在将它传递给此方法时，它最初设置不正确。

第 4 步调用另一个本地方法 ，`AssetManager.loadResourceValue()`它会更改传入的 TypedValue 并适当地设置索引。

也许您可以为此开始查看 C 并查看您的进展情况。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T09:51:14.203

我不知道我是否正确，您正在构建自定义 AndroidOS，并且您希望此自定义 AndroidOS 始终加载相同的布局资源，在您的情况下是 layout-large-xhdpi？

如果是这样，我认为您已经自定义了[Configuration Class](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.1.2_r1/android/content/res/Configuration.java?av=f)。如果你想要它又快又脏，你可以覆盖第 72 行及以下的 int-Constants。

具体的，改变：

```
....
100     public static final int SCREENLAYOUT_SIZE_LARGE = 0x03;
108     public static final int SCREENLAYOUT_SIZE_XLARGE = 0x04; 
```

到：

```
....
100     public static final int SCREENLAYOUT_SIZE_LARGE = 0x04;
108     public static final int SCREENLAYOUT_SIZE_XLARGE = 0x04; 
```

其他方法可能是覆盖构造函数和 setToDefaults()-Method，以便它始终加载相同的屏幕布局。

我没有尝试过，我不知道它是否有效，并且我没有可靠和/或官方的来源（不包括官方 Android 代码），但我希望我能帮助你。

# ruby-on-rails - 无法修改rails3中的冻结哈希

> ID：15087550
> 
> 赞同：21
> 
> 时间：2013-02-26T11:09:36.043
> 
> 标签：ruby-on-rails, hash

我收到以下错误，

```
can't modify frozen Hash
/home/.rvm/gems/ruby-1.9.3-p327@ui/gems/activerecord-3.2.6/lib/active_r
ecord/attribute_methods/write.rb:38:in `[]='
/home/.rvm/gems/ruby-1.9.3-p327@ui/gems/activerecord-3.2.6/lib/active_r
ecord/attribute_methods/write.rb:38:in `write_attribute' 
```

从这条线

```
write_attribute(:value, new_value) 
```

这可以在某些日子里正常运行。但是，现在它连续失败并出现上述错误。我为此尝试了解决方案，但对我没有任何帮助。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-02-26T11:30:28.670

如评论中所述，您无法更新已销毁对象的属性。

检查类似的东西：

```
write_attribute(:value, new_value) unless destroyed? 
```

# java - 在jsp中找不到“/struts2-jquery-tags”的标签库描述符

> ID：15087557
> 
> 赞同：0
> 
> 时间：2013-02-26T11:09:54.513
> 
> 标签：java, struts2, struts2-jquery

我`struts2-jquery-plugin-3.5.1-sources.jar`在 Struts 2 中使用我将 jar 文件放在 lib 目录中，并将其添加到构建路径中。

我在 JSP 中做了一个条目

```
<%@ taglib prefix="sj" uri="/struts2-jquery-tags" %> 
```

但它显示一个错误`Can not find the tag library descriptor for "/struts2-jquery-tags"`

当我运行应用程序时，它显示为

```
SEVERE: Exception starting filter struts2
Unable to load bean: type:org.apache.struts2.views.TagLibrary class:com.jgeppert.struts2.jquery.views.JqueryTagLibrary - bean - jar:file:/D:/eclipse-indigo/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp1/wtpwebapps/Fundation/WEB-INF/lib/struts2-jquery-plugin-3.5.1-sources.jar!/struts-plugin.xml:27:125
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:208)
    at org.apache.struts2.config.StrutsXmlConfigurationProvider.register(StrutsXmlConfigurationProvider.java:101)
    at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reload(DefaultConfiguration.java:131)
    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:52)
    at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:395)
    at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:452)
    at org.apache.struts2.dispatcher.FilterDispatcher.init(FilterDispatcher.java:205)
    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:295)
    at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:422)
    at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:115)
    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4071)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4725)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Caused by: java.lang.ClassNotFoundException: com.jgeppert.struts2.jquery.views.JqueryTagLibrary
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1680)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1526)
    at com.opensymphony.xwork2.util.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:147)
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:180)
    ... 24 more 
```

解决这个问题的任何想法

**`web.xml`：**

```
<web-app id="WebApp_ID" version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
    <display-name>sampleProject</display-name>
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>

    <filter>
        <filter-name>struts2</filter-name>
        <filter-class>org.apache.struts2.dispatcher.FilterDispatcher</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>struts2</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    <session-config>
        <session-timeout>30 </session-timeout>
    </session-config>

    <servlet>
        <servlet-name>dwr-invoker</servlet-name>
        <servlet-class>org.directwebremoting.servlet.DwrServlet</servlet-class>

        <init-param>
            <param-name>debug</param-name>
            <param-value>true</param-value>
        </init-param>
    </servlet>

    <servlet-mapping>
        <servlet-name>dwr-invoker</servlet-name>
        <url-pattern>/dwr/*</url-pattern>
    </servlet-mapping>
</web-app> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-10-24T05:04:07.647

有同样的问题。

尝试

```
<%@ taglib prefix="sj" uri="/struts-jquery-tags" %> 
```

代替

```
<%@ taglib prefix="sj" uri="/struts2-jquery-tags" %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:16:41.283

你应该使用 [struts-jquery-plugin.jar](https://code.google.com/p/struts2-jquery/downloads/list)

而不是 struts2-jquery-plugin-3.5.1-sources.jar 因为它包含源文件

# php - PHP 数据映射器和 ORM

> ID：15087558
> 
> 赞同：0
> 
> 时间：2013-02-26T11:09:55.337
> 
> 标签：php, orm, datamapper

我从 PHP DATAMAPPER 和 ORM 开始。我对它完全陌生。虽然我是通过谷歌了解的。它真的很有趣。

我对此毫无疑问。

1.  我可以在我的核心 PHP 项目中使用 Doctrine 2 库/ORM。或者它仅适用于 CodeIgnitor、Zend 等框架。
2.  对快速开发真的有帮助吗？或者它可能会在一定程度上扩大。
3.  我可以举个例子吗/特别是。我可以用 CORE PROJECT 实现它的教程意味着一些博客或其他。

4.  我检查了 phpdatamapper.com。我发现它很容易，但它已经很老了，因为自过去 3 年以来没有更新。实施它好吗？任何来源都实现了这一点。

我真的很高兴在 github 或其他地方有源代码/实现（仅在博客上）。请

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:03:42.283

类似 ORM 的学说可以在每个项目中使用，它不需要任何框架。您可以使用 composer 将它们包含在您的项目中。关于 Doctrine，您可以根据自己的需要使用两件事：

*   Doctrine\ORM 及其整个捆绑包。它通过其 ORM 和其他很酷的东西为您带来了全部功能。如果你想使用它，你必须把那一行放在你的 composer.json 文件中：

    ```
    {"require": 
         {"doctrine/orm": "2.3.2"}
    } 
    ```

*   教义\DBAL。它只是一个没有 ORM 功能的抽象层。它在这里为您带来 PDO 的更多功能，并在不关心您的数据库引擎的情况下构建查询。由于它没有 ORM，因此执行起来更快，但它没有带来任何概念工具。

如果我向您介绍这两种工具，那是因为您可以做出选择。如果你想要一个简单的博客站点，Doctrine\DBAL 就是你想要的，因为它不会带来性能问题。如果您想要一个具有完整架构的更大应用程序，您需要 Doctrine\ORM，因为它将帮助您构建并保持您的数据库安全。

关于教程，文档的构建就像一个文档，所以我认为您可以从[这里](http://docs.doctrine-project.org/en/2.0.x/tutorials/getting-started-xml-edition.html)开始使用 ORM 和从[这里](http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/index.html)开始使用 Doctrine\DBAL

# javascript - JQuery，将表单 POST/FILES 数据传递给 PHP

> ID：15087559
> 
> 赞同：0
> 
> 时间：2013-02-26T11:09:55.420
> 
> 标签：javascript, jquery

我有简单的 Image ulpoad HTML 表单，想法是，我通过 JQuery 将数据传递给 PHP 脚本，无论如何，我的脚本没有传递 $_FILES 数据代码：

```
<script type="text/javascript">
        $(document).ready(function(){
            $('#addpic').live('submit', function(e) {
                e.preventDefault();
                $.post('add.php', $(this).serialize(), function (data, textStatus) {
                    if (data == "true") { //Upload successful
                        $('#submitf').hide();
                        $('#backf').hide();

                        var thank="<br><br><br><center><h3>Teşekkürler,<br>fotoğraf kontrol edildikten sonra aktif hale gelecektir.</h3></center><br><br><br>";
                        $('#signupdiv').html(thank);
                    }
                    else if (data == "err") {

                    }
                     else {
                        alert(data);
                    }
                });
                return false;
            });
        });
</script> 
```

当然我的表格是

```
<form method="POST" action="" name="addpic" id="addpic" onsubmit="return checkform(this);"  enctype="multipart/form-data"> 
```

而且PHP很简单，在那里没有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:15:00.403

您不能使用 jquery ajax 上传文件。您可以使用一些可用的 jquery 文件上传插件，例如[http://blueimp.github.com/jQuery-File-Upload/](http://blueimp.github.com/jQuery-File-Upload/)

谷歌它以获取更多插件并使用适合您要求的插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:19:32.190

如果没有完整的 HTML5 支持，您将无法使用纯 AJAX 有效地上传文件。有办法作弊，但是...

不久前我回答了一个非常相似的问题，我在非 HTML5 浏览器（IE7 和 8）上使用了一个小技巧，以便进行文件上传。它非常轻量级并且依赖项很轻：需要一个 iframe 和 JS。

缺点：无法进行状态码检查。

有关此答案链接的更多信息：

[我可以使用 JavaScript/JQuery 将上传的文件添加到 ASP.NET 中的 Request.Files 吗？](https://stackoverflow.com/questions/13570983/can-i-use-javascript-jquery-to-add-an-uploaded-file-to-request-files-in-asp-net/13573003#13573003)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:22:05.073

您无需在任何地方搜索`jQuery.form`插件都会为您解决问题。

请参阅[http://malsup.com/jquery/form/#file-upload](http://malsup.com/jquery/form/#file-upload)

# php - 将ajax转换成post

> ID：15087567
> 
> 赞同：-4
> 
> 时间：2013-02-26T11:10:15.200
> 
> 标签：php, jquery, ajax

我通过 AJAX 插入数据，并使用 GET 请求发送数据。现在我想使用 POST 请求来发送数据。我应该如何转换此代码？

```
<form name=myf id=myf>
    <input type=text name=user>
    <input type=text name=email>
    <input type=button  onclick="ready();" value="Add">
</form>

<script languague=javascript>
    function ready(){           
        var url="adduser.php";
        var parm="?user="+document.myf.user.value;
        parm+="&email="+document.myf.email.value;
        //alert(parm);
        var target=document.getElementById('abc');
        add(url,parm,target);
        document.getElementById('myf').reset();
    }
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:20:08.667

使用 jQuery：

```
$.post(url, {'user':user, 'someotherdata':'data'}, function (response) {
    //do the result oriented activities
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T17:58:16.767

```
var xmlhttp;

xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState==4 && xmlhttp.status==200) {
        //Code after ajax response
    }
}

xmlhttp.open("POST","adduser.php",true);
xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xmlhttp.send("user="+document.myf.user.value+"&email="+document.myf.email.value"); 
```

# haar-wavelet - 是否有任何使用 Haat 作为母亲 wavley 进行小波变换的 java 库？

> ID：15087584
> 
> 赞同：0
> 
> 时间：2013-02-26T11:11:25.337
> 
> 标签：haar-wavelet

您好正在开发一个使用小波变换进行特征提取的应用程序。我无法使用 haar 转换转换 2d Discrete wavelets Transformation 。我需要一个源代码来做到这一点。是否有任何可用的 java 库来执行此操作。请给我详细说明。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T22:51:22.210

试试这个，它在java中。检查你的小波是否在那里[https://code.google.com/p/jwave/](https://code.google.com/p/jwave/)

# c# - MVC3 Razor 视图引擎

> ID：15087587
> 
> 赞同：1
> 
> 时间：2013-02-26T11:11:53.653
> 
> 标签：c#, asp.net-mvc-3, linq, linq-to-sql, razor

我刚开始学习MVC3。已经在传统的 ASP.NET 中编码有一段时间了，现在想转向 MVC。

我不明白的一些事情（可能只是在传统 ASP.NET 中的使用方式不同）

我正在尝试编写一个简单的新闻模块，它将显示新闻并允许为它们插入评论。

所以第一步是，我在我的 SQL 服务器上创建了一个表： TblNews TblCategories TblComments

在 Models 文件夹中创建 Linq2SQL 数据类并将其命名为 News.dbml 创建控制器 HomeController.cs 和一个名为 Index() 的方法。看起来像这样：

```
public ActionResult Index()
        {
            Models.NewsDataContext db = new Models.NewsDataContext();
            var Model = (from n in db.TblNews
                         select new
                         {
                             ID = n.ID,
                             Title = n.Title,
                             Description = n.Description,
                             Category = n.TblCategory.CategoryName
                         });

            return View(Model);
        } 
```

如您所见，我正在尝试选择所有新闻及其类别名称（TblNews 和 TblCategories 之间确实有关系）

之后，我将返回从查询中获得的数据。

在视图中我有：

```
@{
    ViewBag.Title = "News Index Page";
}

<table>
    @foreach (var item in Model)
    {
        <tr>
            <td>
                ID: @item.ID<br />
                Title: @item.Title<br />
                Description: @item.Description<br />
                Category: @item.Category
            </td>
        </tr>
    }
</table> 
```

应该返回如下内容：

```
ID: 4
Title: asd
Description: asd
Category: 2 
```

那是我从表格中获取的样本数据。

当我运行该页面时，它给了我错误消息：

```
'object' does not contain a definition for 'ID' 
```

但是当我将鼠标集中在“项目”变量上时，它实际上包含：

```
{ ID = 4, Title = asd, Description = asd, Category = Test2 } 
```

我还尝试通过将 .ToList() 添加到它的末尾来将 Linq Query 作为列表返回。

任何人都可以给我任何提示并让我进入正确的方向吗？

对不起，如果我解释不正确。英语不是我的主要语言。请询问您是否需要更多信息。

非常感谢。

PS 我正在使用 Visual Studio 2012

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:13:13.840

您在视图顶部缺少模型声明，因此默认为 type `object`。当你这样做时，`item.ID`你正在做`object.ID`，这就是为什么它抱怨`object`不包含定义`ID`

添加以下内容：

```
@model List<Models.NewsDataContext> 
```

此外，请确保通过在返回模型之前调用**来评估**LINQ 查询`.ToList()`，这样查询在到达视图之前已经针对数据库执行：

```
return View(Model.ToList()); 
```

**编辑：**实际上，在您选择匿名类型的 LINQ 查询中，**您必须使用具体类才能在您的视图中使用它**。下面假设您`TblNews`对应于一个名为的类`News`：

```
var Model = (from n in db.TblNews
                     select new News //class name here
                     {
                         ID = n.ID,
                         Title = n.Title,
                         Description = n.Description,
                         Category = n.TblCategory.CategoryName
                     });

        return View(Model.ToList()); 
```

然后将您的模型更改为：

```
@model List<News> 
```

# sql - SQL 约束和 ON DELETE

> ID：15087590
> 
> 赞同：1
> 
> 时间：2013-02-26T11:12:02.047
> 
> 标签：sql, postgresql

给定一个外键约束的简单示例：

```
CREATE TABLE products (
  product_no integer PRIMARY KEY,
  name text,
  price numeric
);

CREATE TABLE orders (
  order_id integer PRIMARY KEY,
  shipping_address text,
  ...
);

CREATE TABLE order_items (
  product_no integer REFERENCES products ON DELETE CASCADE,
  order_id integer REFERENCES orders ON DELETE CASCADE,
  quantity integer,
  PRIMARY KEY (product_no, order_id)
); 
```

当从产品或订单中删除一行时，也会删除来自 order_items 的引用行。

但是 - 可以让数据库检测到产品或订单中的孤立行（没有引用 order_item 的行）并删除它们？我知道我可以设置一个查询来很容易地做到这一点，但是在更大更复杂的模式中，这可能是很多查询。我想知道是否有类似于 ON DELETE CASCADE 的机制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T12:43:08.927

这是一个没有引用计数的示例：

```
DROP SCHEMA tmp CASCADE;
CREATE SCHEMA tmp ;
SET search_path=tmp;

CREATE TABLE one
    ( id SERIAL NOT NULL PRIMARY KEY
    , name VARCHAR
    );
CREATE TABLE two
    ( id SERIAL NOT NULL PRIMARY KEY
    , name VARCHAR
    );
CREATE TABLE onetwo
    ( one_id INTEGER REFERENCES one(id)
    , two_id INTEGER REFERENCES two(id)
        , PRIMARY KEY(one_id, two_id)
    );
CREATE INDEX onetwo_rev ON onetwo (two_id,one_id);

  -- Populate the tables.
INSERT INTO one(name) select 'One_name_' || gs::text FROM generate_series(1,5) gs ;
INSERT INTO two(name) select 'Two_name_' || gs::text FROM generate_series(1,5) gs ;
INSERT INTO onetwo (one_id, two_id)
SELECT o.id, t.id
FROM one o
JOIN two t ON 1=1
        ;
  -- Remove some random associations between one&two,
  -- and remove any unreferenced records from one and two
DELETE FROM onetwo WHERE random() < 0.7;
DELETE FROM one dd WHERE NOT EXISTS(SELECT * FROM onetwo ot WHERE ot.one_id=dd.id) ;
DELETE FROM two dd WHERE NOT EXISTS(SELECT * FROM onetwo ot WHERE ot.two_id=dd.id) ;

SELECT * FROM onetwo;
SELECT * FROM one;
SELECT * FROM two;

CREATE OR REPLACE FUNCTION check_the_deletes() RETURNS TRIGGER AS $meat$
BEGIN
    DELETE FROM one dd
    WHERE dd.id=OLD.one_id
    AND NOT EXISTS(SELECT * FROM onetwo ot WHERE ot.one_id=dd.id)
       ;
    DELETE FROM two dd
    WHERE dd.id=OLD.two_id
    AND NOT EXISTS(SELECT * FROM onetwo ot WHERE ot.two_id=dd.id)
       ;
    RETURN NEW;
END; $meat$
LANGUAGE plpgsql;

CREATE TRIGGER update_last_sale
    AFTER DELETE ON onetwo
    FOR EACH ROW
    EXECUTE PROCEDURE check_the_deletes()
     ;

SELECT o.name AS name1
        , t.name AS name2
FROM onetwo ot
JOIN one o ON o.id = ot.one_id
JOIN two t ON t.id = ot.two_id
        ;

  -- Delete some random associations
  -- the trigger should also remove any unreferenced rows
  -- from one and two tables.
DELETE FROM onetwo WHERE random() < 0.4;

SELECT o.name AS name1
        , t.name AS name2
FROM onetwo ot
JOIN one o ON o.id = ot.one_id
JOIN two t ON t.id = ot.two_id
        ;
SELECT * FROM one;
SELECT * FROM two; 
```

# php - 设置Highcharts头标签时无法在JS脚本中获取PHP变量

> ID：15087592
> 
> 赞同：-5
> 
> 时间：2013-02-26T11:12:15.870
> 
> 标签：php, javascript, jquery, highcharts

下面是我的 php 文件 ( `recherche.php`) 的摘录，其中包含`Html`和`Javascript`( `JQuery Highcharts`) 代码并运行`MySQL`查询。

`PHP`但是，在标签中设置 JQuery 代码时，我无法访问变量`head`。

```
 <html>
    <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title></title>

    <link href="../css/bootstrap.css" type="text/css" rel="stylesheet" />
    <link href="../css/style.css" type="text/css" rel="stylesheet" />

    <script src="./graphics/js/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="./graphics/js/highcharts.js" type="text/javascript"></script>

    <script type="text/javascript">

        var cat = '<?php echo $categorys; ?>' ; 
        var data1 = '<?php echo $datas; ?>' ;
        var data2 = '<?php echo $datas2; ?>' ;
        var data3 = '<?php echo $datas3; ?>' ;

        var chart;
        $(document).ready(function() { 

            chart1 = new Highcharts.Chart({

                chart: {
                    renderTo: 'containerxx',  
                    type: 'bar'
                    },

                title: {
                    text: 'Average salaries of the sector'
                    },

                xAxis: {
                    categories:  ['Women', 'Men']
                    },

                yAxis: {
                    title: {
                        text: 'Salary'
                        }
                    },

                series: [{
                            name: 'average salary',
                            data: document.write(data1);
                        },  
                        {   
                            name: 'max salary',
                            data: document.write(data2);
                        },
                        {   
                            name: 'min salary',
                            data: document.write(data3); 
                        }]

            });

        });

    </script> 
```

...在下面，仍然在同一个文件和`body`标签中，在更多代码之后，是 php 变量分配：

```
 ...
    while($row = mysqli_fetch_array($result, MYSQLI_ASSOC)) {

    $category[] = $row[$categorie];

    $data[] = (INT)$row['Salaire_moyen'];

    $data2[] = (INT)$row['Salaire_Max'];

    $data3[] = (INT)$row['Salaire_Min'];
    }
$categorys = json_encode($category); 
echo $categorys ;
echo "<br/><br/>";
$datas = json_encode($data); 
echo $datas ;
echo "<br/><br/>";
$datas2 = json_encode($data2); 
echo $datas2;
echo "<br/><br/>";
$datas3 = json_encode($data3); 
echo $datas3 ;
echo "<br/><br/>";
    .... 
```

这是启动 highchart 图形的命令：

```
 <div id="containerxx" style="width:100%; height:400px; margin:0 auto"></div> 
```

但遗憾的是，屏幕上没有显示图表。

但是，当我对同一个 php 文件中的静态值执行相同操作时，它可以工作，并且我可以在我的网页中获得高图图形。

例如，当我在同一个文件中编写下面的脚本而不是上面的脚本时，它可以工作并且图形显示在我的页面上：

```
 <script type="text/javascript">
        var chart;
        $(document).ready(function() { 

            chart1 = new Highcharts.Chart({

                chart: {
                    renderTo: 'containerxx',  

                    type: 'bar'
                    },

                title: {
                    text: 'Salaire moyen des métiers de l\'informatique'
                    },

                xAxis: {
                    categories:  ['Architecte logiciel', 'Développeur logiciel', 'Infogérance']
                    },

                yAxis: {
                    title: {
                        text: 'Salaire moyen'
                        }
                    },

                series: [{
                            name: 'Femmes',
                            data: [60000, 45000, 25000]
                        },  
                        {   
                            name: 'Hommes',
                            data: [75000, 48000, 27500]
                        }]

            });

        });

    </script> 
```

尽管有静态变量，但我错过了什么让我的图形动态使用 PHP 变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:17:26.360

您必须先初始化变量，然后才能在 JavaScript 函数中回显它们。因此，将加载这些变量的 PHP 放在您的`<script>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:18:19.167

```
series: [{
          name: 'average salary',
          data: document.write(data1)
         },  
         {   
          name: 'max salary',
          data: document.write(data2)
         },
         {   
          name: 'min salary',
          data: document.write(data3)
         }] 
```

后加分号`document.write(data1/2/3/...)`

# android - 找出android中按钮的父ID

> ID：15087595
> 
> 赞同：0
> 
> 时间：2013-02-26T11:12:27.037
> 
> 标签：android, android-linearlayout, android-button

在我的应用程序中，我有一个线性布局及其子按钮。在按钮上触摸监听器后，我需要知道线性布局的 id。这是我的代码

```
private final class MyTouchListener implements OnTouchListener 
{   

    public boolean onTouch(View view, MotionEvent motionEvent)
    {               
        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN)
        {
            View v = ((View)view.getParent());
            int id = v.getId();
            Toast.makeText(getApplicationContext(), id, Toast.LENGTH_SHORT).show(); 
```

我得到 android.content.res.Resources$NotFoundException。我怎样才能得到线性布局的 id。谢谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:16:17.367

尝试使用：

```
View v = ((View)view.getParent());
int id = v.getId();
Toast.makeText(getApplicationContext(), String.valueOf(id), Toast.LENGTH_SHORT).show(); 
```

这将以整数格式烘烤线性布局的 ID，它存储在`R.java`.

您当前的实现`Toast.makeText()`与[makeText(Context, int, int)](http://developer.android.com/reference/android/widget/Toast.html#makeText%28android.content.Context,%20int,%20int%29)方法签名相匹配，该方法签名旨在与`R.string.*`元素一起使用。但是，由于您向它传递了一个`R.id.*`需要字符串标识符的元素，因此它使用它来尝试在 strings.xml 中查找匹配的字符串。当它找不到一个时，它会抛出一个`Resources$NotFoundException`.

# css - 图像背景位置到 50% 使背景图像居中，但定位的元素没有

> ID：15087609
> 
> 赞同：-1
> 
> 时间：2013-02-26T11:13:07.663
> 
> 标签：css

图像背景位置向左 50% 使背景图像居中，但在绝对定位元素中左 50% 不使 div 元素居中，为什么？

这是代码：

```
 <div style="position:relative;height:100px; background:url(images/demo.jpg) no-repeat 50% 0">
      <div style="min-height:40px; width:140px; background-color:#aaa;position:absolute;top:0;left:50%;">
            heloo this is just a demo
      </div>
  </div> 
```

运行这段代码！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:22:33.733

没有代码很难理解你的问题，但是......

绝对定位元素将*相对于其父元素*定位它。确保父元素应用了正确的布局（宽度、高度`position: relative`等），您应该会看到不同之处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:17:26.483

将 img 设为块元素并将其浮动到左侧。

您可以使用 display: table to parent div 和 display: table-cell & vertical-align: middle to the img，这可能有助于使其居中对齐。

```
display: table-cell;
vertical-align: middle; 
```

# vb.net - Datagrid 视图按钮列图像

> ID：15087614
> 
> 赞同：0
> 
> 时间：2013-02-26T11:13:21.773
> 
> 标签：vb.net

我的数据网格视图上有一个按钮列。请告知如何在该按钮上显示图像？请告知设计时间和运行时间。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:27:24.180

如果每个按钮上的图像都相同，那么这可能会：

```
<DataGridTemplateColumn>
  <DataGridTemplateColumn.CellTemplate> 
    <DataTemplate> 
   <Button>
    <StackPanel>
        <Image Source="Images/YOUR_IMAGE.jpg" />
        <TextBlock>YOUR TEXT</TextBlock>
    </StackPanel>
   </Button>
 </DataTemplate> 
  </DataGridTemplateColumn.CellTemplate> 
</DataGridTemplateColumn> 
```

如果你想从你的数据源绑定图像，你需要实现一个 IValueConverter - 有关更多详细信息，请参阅[此](https://stackoverflow.com/questions/9902540/how-to-change-the-image-of-wpf-datagrid-row-depending-on-binding-value)线程。

# triggers - 输入另一个对撞机的触发器后如何禁用对撞机？

> ID：15087616
> 
> 赞同：3
> 
> 时间：2013-02-26T11:13:29.987
> 
> 标签：triggers, unity3d, unityscript, destroy

我正在构建一个玩家在路径上运行的游戏。当玩家触发对撞机时，会生成 2 个敌方物体。

我想要的是当输入第一个对撞机触发器时，我希望与第一个对撞机有一定距离的第二个对撞机在一段时间内被禁用。如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-27T09:17:30.840

例如，如果您想禁用对撞机，使其不会撞到墙上或从墙上反弹，那么您可以将对撞机的“isTrigger”变量更改为 true，将其更改为触发体积而不是实体对撞机。这具有禁用它的效果 - 因为它不会导致其他物体在撞击它时停止或反弹。

例如：

```
function Update() {
    if (Input.GetKeyDown(KeyCode.X)) {
        collider.isTrigger = true;
    }
} 
```

请注意，类似的东西`MouseOver`仍然有效。

如果你想完全禁用它，你可以尝试`collider.enabled = false`. 我不确定这是否有效。如果没有，您可以随时按比例缩小对撞机：

```
var myOldSize:Vector3;

function DisableBoxCollider(myCollider:BoxCollider)
{
    //actually just resizes it
    myOldSize=myCollider.size;
    myCollider.size=Vector3(0,0,0);
}

function EnableBoxCollider(myCollider:BoxCollider)
{
    if(myOldSize!=Vector3(0,0,0))
        myCollider.size=myOldSize;
} 
```

您可以使用上面的代码将其集成到您自己的项目中。我不会为你泄露所有代码，否则我们会错过学习编程和发布在 Stackoverflow 上的意义。但这应该可以帮助您继续前进。试着用代码玩一些，如果你有问题，回到这里问他们，为问题提供一些代码来展示你尝试过的东西。

# module - 构建基于事件的应用程序范围的 cron 组件

> ID：15087618
> 
> 赞同：0
> 
> 时间：2013-02-26T11:13:40.300
> 
> 标签：module, yii, yii-events

**我想要实现**的是创建一个高度模块化的应用程序。我正在尝试创建一个 cron 脚本来解决需要在所有子模块中触发的所有 cron 脚本。我实际上想做的是创建一个事件，说它`runCron`从 a 中触发`CController`，然后当它从子模块中使用`onRunCron`方法引发时挂钩到该事件中。概述我正在尝试做的事情：

```
Application
|- CronController.php - Raise the event 'RunCron', not knowing which modules will fire after this.
|- Modules
   |- Nodes 
      |- Observe the event 'onRunCron' and run own cron script
   |- Users
      |- Observe the event 'onRunCron' and run own cron script 
```

**根据 Yii 的事件系统，我认为我需要做**的是创建事件并在应用程序级别引发它（这仍然是我想要做的）但是然后；我还需要在控制器的应用程序级别分配来自子模块的回调。这是我不想要的，因为当添加/删除子模块时，需要调整应用程序，这听起来根本不是模块化的。

有人可以列出设置这样的活动并使其尽可能模块化的基础知识吗？因为我认为我在看这个完全错误的方式。

**编辑（解决方案）：**

感谢[acorncom 的回答](https://stackoverflow.com/a/15215361/696460)，我设法制定了以下系统。

**application.components.CronSingleton**

```
<?php

class CronSingleton extends CApplicationComponent {

    /**
     * Make sure we "touch" the modules, so they are initialised and are able to attach their listeners.
     */
    public function touchModules () {
        $modules = Yii::app()->getModules();

        if (!empty($modules)) {
            foreach ($modules as $name => $module) {
                Yii::app()->getModule($name);
            }
        }
    }

    /**
     * This method should be run to run the cron. It will commense all the procedures in cronjobs
     */
    public function execCron($caller) {
        $this->touchModules();
        $this->onStartCron(new CEvent($caller));
        $this->onRunCron(new CEvent($caller));
        $this->onExitCron(new CEvent($caller));
    }

    /**
     * Raise an event when starting cron, all modules should add their listeners to this event if they would like to fire something before running the cron.
     */
    public function onStartCron ($event) {
        $this->raiseEvent('onStartCron', $event);
    }

    /**
     * Raise an event when running cron, all modules should add their listeners to this event to execute during cron run. Mosty this event should be used.
     */
    public function onRunCron ($event) {
        $this->raiseEvent('onRunCron', $event);
    }

    /**
     * Raise an event when cron exits, all modules should add their listeners to this event when cron exits.
     */
    public function onExitCron ($event) {
        $this->raiseEvent('onExitCron', $event);
    }
}

?> 
```

**application.controllers.CronController**

```
<?php

class CronController extends Controller
{

    public $layout='//layouts/bare';

    public function actionIndex($k) {
        Yii::app()->cron->onStartCron = array($this, 'startcron');
        Yii::app()->cron->onRunCron = array($this, 'runcron');
        Yii::app()->cron->onExitCron = array($this, 'exitcron');
        Yii::app()->cron->execCron($this);
    }

    public function startcron(){
        var_dump('CronController - Starting cron');
    }

    public function runcron(){
        var_dump('CronController - Run cron');
    }

    public function exitcron(){
        var_dump('CronController - Ending cron');
    }
}

?> 
```

**application.modules.admin.AdminModule**

```
<?php

class AdminModule extends CWebModule
{
    public function init()
    {
        // this method is called when the module is being created
        // you may place code here to customize the module or the application

        // import the module-level models and components
        $this->setImport(array(
            'admin.models.*',
            'admin.components.*',
        ));

        Yii::app()->cron->onRunCron = array($this, 'runCron');
    }

    public function runCron($event) {
        var_dump('AdminModule - Run cron');
    }

    public function beforeControllerAction($controller, $action)
    {
        if(parent::beforeControllerAction($controller, $action))
        {
            // this method is called before any module controller action is performed
            // you may place customized code here
            return true;
        }
        else
            return false;
    }
}
?> 
```

这个“概念证明”设置设法打印出以下结果，正是我想要它做的：

```
string(30) "CronController - Starting cron"
string(25) "CronController - Run cron"
string(22) "AdminModule - Run cron"
string(28) "CronController - Ending cron" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T03:34:51.660

我认为你会想要做类似以下的事情（注意：这还没有经过测试，但它应该在概念上工作）。

1.  为您的 cron 系统创建一个 CApplicationComponent。让它成为一个应用程序组件（在您的 config/main.php 文件中注册）使其可以从您的应用程序/模块/子模块/控制器等中的任何位置访问

2.  让您的 cron 组件处理事件的注册/事件的触发。请参阅 Yii 事件页面以获取有关其工作原理的详细信息。注意：如果您需要传入有关事件的其他参数，您可以创建自己的自定义事件，将主 CEvent 类作为子类。

3.  让您的模块在初始化时注册为您的 cron 组件的事件处理程序。

4.  让您的控制器向您的 cron 组件触发一个事件。

一个潜在的陷阱。我不确定是先注册模块还是组件（我相信组件应该是，但值得测试）。如果您的 cron 组件在尝试向您的 cron 组件注册事件的模块之后加载，那么您可能需要预加载您的 cron 组件。如果不起作用，您可以尝试其他一些技巧（回来询问更多详细信息）。

哦，让我们知道进展如何！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T17:16:34.440

你查看过 yii 网站上关于事件的 wiki 吗？我认为这是一个很好的起点，如果您仍有问题，我们可以帮助您！

*   [事件解释](http://www.yiiframework.com/wiki/327/events-explained/)

*   [行为和事件](http://www.yiiframework.com/wiki/44/behaviors-events/)

# vba - VBA ms word set 表格中的行作为光标所在的行

> ID：15087619
> 
> 赞同：0
> 
> 时间：2013-02-26T11:13:40.997
> 
> 标签：vba, ms-word

这是我到目前为止所拥有的，但我正在努力设置 oCurrentRow

```
Sub InsertRow()

Dim EventDate As String
Dim oTable As Table
Dim oCell As Cell
Dim oCurrentRow As Row
Dim oNewRow As Row

If Not Selection.Information(wdWithInTable) Then
MsgBox "Can only run this within a table"
Exit Sub
End If

Set oTable = ActiveDocument.Tables(1)
Set oCurrentRow = Selection.Cells(1).RowIndex

oCurrentRow.Select
With Selection
.Collapse Direction:=wdCollapseStart
.InsertRowsAbove 1
End With
' go to inserted row and insert text

    End Sub 
```

我猜一旦我在 oCurrentRow 上方插入了行，将引用我想在单元格中添加一些文本的新插入的行（1）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T23:10:21.083

RowIndex 返回一个数字，而不是行，因此它不能用于设置行对象。改变

```
Set oCurrentRow = Selection.Cells(1).RowIndex 
```

到

```
Set oCurrentRow = oTable.Rows(Selection.Cells(1).RowIndex) 
```

你应该用煤气做饭。

# java - Tomcat中的引导类路径

> ID：15087620
> 
> 赞同：0
> 
> 时间：2013-02-26T11:13:51.273
> 
> 标签：java, eclipse, tomcat, classloader, bootclasspath

我正在尝试提供`java.util.Date`（出于实验目的）的稍微不同的实现。我重写了它，将其打包`java.util.Date`并`jar`用作`-Xbootclasspath/p:fullpathto.jar`VM 参数。当运行一个独立的，它拿起它并很好地工作。但是，当我尝试在（使用 WTP eclipse）中设置这个**bootclasspath**参数时，`Tomcat`它不使用我修改的`java.util.Date.`

我在启动配置下的 VM 参数中对其进行了配置。

有人知道为什么会这样吗？

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:32:37.107

我建议您尝试查看 Eclipse (?) 启动 JVM 以运行 Tomcat 时使用的命令参数。在Linux上，我会用它`ps -efl | grep java`来找出这个......

供参考：此 Eclipse[论坛帖子](http://www.eclipse.org/forums/index.php/t/65568/)提供了 2 种在 Eclipse 启动器中设置引导类路径的方法：

*   您可以将 -Xbootclasspath 选项添加到 JVM 参数。
*   您可以在类路径选项卡中更改引导类路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:34:44.037

检查这个问题的答案：

[覆盖应用程序服务器行为以在打包的 Web 应用程序中加载 jsp-api 和 servlet-api jar](https://stackoverflow.com/questions/325171/overriding-application-server-behaviour-for-loading-jsp-api-and-servlet-api-jars)

您可能使用了错误的路径格式。如果您的路径包含空格，请确保使用引号。

# c - 计算机中的整数表示 - C

> ID：15087621
> 
> 赞同：3
> 
> 时间：2013-02-26T11:13:55.260
> 
> 标签：c, binary

C是否定义整数的二进制表示，例如一个，二进制补码......或者这个表示处理器（计算机或其他东西）依赖？

用 C 编写的代码示例：

```
short a = -5; 
```

我需要在哪里查看以了解`a`二进制补码`1111 1111 1111 1011`还是有符号位表示`1000 0000 0000 0101`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T11:25:21.807

C 支持有符号整数的以下三种表示形式：

*   2 的补码（最常见，在实践中你不太可能看到其他人）
*   1 的补码
*   符号和大小

C 还允许在表示中存在一些填充（非值）位，这在实践中也是非常不常见的。

C 没有定义整数是否应该以大端或小端或其他字节顺序存储在内存中。

如果您想了解整数在特定平台上的精确表示方式，则需要分析底层内存。此外，如果`-INT_MAX == INT_MIN + 1`，您有一个 2 的补码表示，否则不确定它是三个中的哪一个。

我认为现在可以安全地假设没有填充位并且表示是 2 的补码。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T11:16:38.683

它依赖于平台，与小/大端相同。此外，某些类型的数量大小取决于平台。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-26T11:15:01.580

整数的表示取决于平台（处理器）。请参阅[字节顺序](http://en.wikipedia.org/wiki/Endianness)。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-26T11:27:41.113

整数的二进制表示取决于平台，如果平台遵循小端序，则整数然后 -ve no.s 存储为 2 的补码。

```
a= -5;
b = 5;
printf("%d %d", a, b);
printf("\n%u %u", a, b); 
```

会显示，

```
-5 5
4294967291 5 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-26T11:34:25.443

有符号短 -5 是 0xFFFB。符号+绝对值表示没有意义。加法和减法不关心有符号/无符号类型。如果您添加 0xFFFB 和 0x0005，您将得到 0x0000。如果您尝试 0x8005 + 0x0005，您将得到 0x800A，这将根据您的假设 -10，这是无稽之谈。该数字是二进制补码，但它只是 -x = 2^16 - x (mod 2^16) 用于短数字。

# c# - jQuery 与 WebApi 一起使用 - 甚至不调用 Controller 方法

> ID：15087622
> 
> 赞同：13
> 
> 时间：2013-02-26T11:13:56.687
> 
> 标签：c#, jquery, asp.net-mvc, asp.net-web-api

很抱歉在问了另一个问题后这么快就问了这个问题，但我现在正在为 PUT 苦苦挣扎。

我有一个 jQuery 方法，它收集数据并将其传递给 valuescontroller 中的 PUT 函数。但是控制器甚至没有被调用（因为我有一个断点并且它没有中断）

我可以检查我的 jQuery 是否正确吗？

```
var data = {
            id: truckId,
            obj: {
                TruckId: truckId,
                Reg: reg,
                Description: desc,
                Condition: condition
            }
        };
        var json = JSON.stringify(data)

        $.ajax({
            url: '/api/Values',
            type: 'PUT',
            contentType: "application/json; charset=utf-8",
            data: json,
            success: function (results) {
                $.getJSON("api/Values", LoadTrucks);
                alert('Truck Updated !');
            }
        }) 
```

控制器如下所示：

```
public void Put(int id, TruckInfo obj)
    {
        WebApiTestEntities db = new WebApiTestEntities();

        var data = from item in db.TruckInfoes
                   where item.TruckId == id
                   select item;
        TruckInfo oldRecord = data.SingleOrDefault();
        oldRecord.Reg = obj.Reg;
        oldRecord.Description = obj.Description;
        oldRecord.Condition = obj.Condition;
        db.SaveChanges();
    } 
```

现在在我看来，至少应该到达控制器。我的猜测是参数没有正确传递，因此它正在寻找一种不同的方法，但我看不出为什么或如何纠正它。

任何帮助将不胜感激 ：）

莱克斯

编辑：根据要求，提供更多信息。

错误控制台上没有 Javascript 错误。

控制台日志显示以下内容：

{"Message":"找不到与请求 URI 'localhost:62997/api/Values' 匹配的 HTTP 资源。","MessageDetail":"在控制器 'Values' 上找不到与请求匹配的操作。"}

在 JSON 控制台的 MessageDetail 下，我得到了这个（这支持我认为不正确参数的理论）

“在与请求匹配的控制器‘值’上找不到任何操作”

但是 get 成功了。（还有我今天早上早些时候开始工作的帖子。）

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-26T11:21:37.370

如下更改您的代码，然后它将正常工作：

```
var data = {
        TruckId: truckId,
        Reg: reg,
        Description: desc,
        Condition: condition
    };

var json = JSON.stringify(data)

$.ajax({
    url: '/api/Values/' + truckId,
    type: 'PUT',
    contentType: "application/json; charset=utf-8",
    data: json,
    success: function (results) {

    }
}) 
```

使用 REST 的最佳实践是：

1.  创建新资源时的用户 POST。
2.  更新现有资源时的用户 PUT 和资源的 Id 应该在 URL 中。
3.  删除现有资源时的用户 DELETE 并且资源的 Id 也应该在查询字符串中。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T11:17:35.790

您正在执行 PUT 请求而不指定对象的 ID。

见[这里](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html)。

> PUT 请求中的 URI 标识请求中包含的实体

改变

```
url: '/api/Values',
type: 'PUT', 
```

到

```
url: '/api/Values/' + truckId,
type: 'PUT', 
```

路由引擎需要`id`与您的方法相匹配

```
public void Put(int id, TruckInfo obj) 
```

目前，您正试图将其放入您的模型中：

```
id: truckId,
obj: {
   TruckId: truckId,
   //etc 
```

但这行不通。只有一个对象可以从请求正文中反序列化。

只需将您的消息有效负载更改为此

```
var data = {
            TruckId: truckId,
            Reg: reg,
            Description: desc,
            Condition: condition
           } 
```

并使用正确的 url 结构，例如：

```
PUT http://localhost:62997/api/Values/1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:19:17.417

您可以使用 Firebug 或类似的浏览器插件来检查发出的请求和服务器给出的响应。

IIS 也可能拒绝该`PUT`动词。我遇到了同样的问题。如果是这种情况，您应该能够通过在`web.config`文件中更改或添加这些处理程序来修复它（部分`<system.webServer>`）：

```
<handlers>
  <remove name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" />
  <remove name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" />
  <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
  <add name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness32" responseBufferLimit="0" />
  <add name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness64" responseBufferLimit="0" />
  <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
</handlers> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-13T11:41:47.837

将以下配置添加到您的 web.config 文件中

```
<system.webServer>
    <handlers>
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
  </system.webServer> 
```

# wpf - WPF 中的元素未注册到事件：PropertyChanged

> ID：15087627
> 
> 赞同：0
> 
> 时间：2013-02-26T11:14:18.963
> 
> 标签：wpf, mvvm, label, bind

我有一个`Lable`in`Xaml`应该绑定到一个特定的变量。

（我猜是他的绑定导致了问题，问题是为什么！）

这里：

```
<Label Content="{Binding Model.SomeCls,Path=Person.Name}" /> 
```

它是这样的：

DataContext=ViewModel->Model->SomeCls->Person-> **Name**（Name有NotifyPropertyChanged功能）

对于 NotifyPropertyChanged 函数，PropertyChanged 事件为空。

我意识到这可能是因为没有注册到一个事件。

我是否需要在每个变量上使用它们来命名以放置函数 NotifyPropertyChanged？ **（听起来有点奇怪）**还是我错过了什么？

**附言**

输出窗口中没有绑定错误！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:23:27.030

绑定是错误的，应该这样定义：

```
<Label Content="{Binding Path=Model.SomeCls.Person.Name}" /> 
```

# ios - UIWebView 返回特定页面

> ID：15087628
> 
> 赞同：3
> 
> 时间：2013-02-26T11:14:25.127
> 
> 标签：ios, objective-c, uiwebview, shouldstartload

我遇到了 UIWebView 的 goBack 函数的问题。

我的要求是当用户按下一个按钮（称为“后退按钮”）时，我必须在某些条件下将用户重定向到特定页面。把它想象成一个“购物车系统”：当用户在“菜单”页面时，他选择了一个项目并“将一个项目添加到购物车”。当他点击“删除一个项目”时，然后转到“该项目被删除”页面。当用户单击“返回按钮”时，用户应该返回“菜单”而不是空购物车页面。

为了解决这个问题，我考虑使用“队列”来保存 URL 历史记录，然后用户在某些条件下按下“返回按钮”，从“队列”重新加载 URL。

由于[这个答案](https://stackoverflow.com/questions/817469/how-do-i-make-and-use-a-queue-in-objective-c)，我用入队/出队函数制作了自定义 NSMutableArray 。然后使用它来存储 URL 历史记录：

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
    _currentPage = [[request URL] absoluteString];
    NSString *targetURL = [self getTargetURLName:[request URL]];

    if ([webViewHistory count] > 5) {
        [webViewHistory dequeue];
        [webViewHistory enqueue:_currentPage];
    } else {
        [webViewHistory enqueue:_currentPage];
    }
    if ([targetURL isEqualToString:@"delete_cart"]) {
        delBackPage = [webViewHistory objectAtIndex:2];
        NSLog(@"URL BEFORE DELETE: %@", delBackPage);
    }
} 
```

然后在某些条件下按下“返回按钮”时调用“重新加载”：

```
- (void) backWebView:(id)sender
{

    currentURL = [[_webView request] URL];
    NSString *currentTGTName = [self getTargetURLName:currentURL];

    if ([_webView canGoBack])
    {
        if ([currentURL isEqual:[[_webView request] URL]])
        {
            if ([currentTGTName isEqualToString:@"my_cart"] && delBackPage != nil) {
                NSLog(@"GO BACK FROM MY_CART: %@", delBackPage);
                _requestURL = delBackPage;
                [_webView reload];
             } else {
                [_webView goBack];
                NSLog(@"WEBVIEW CANGOBACK----");
            }
        }
    ... 
```

现在我可以成功地将“delBackPage”作为“菜单”页面的 URL。但是当我用那个 URL 重新加载 webView 时，它就不起作用了。

我错过了什么吗？有什么办法可以做到这一点？如果有更好的方法来控制 WebView 的 URL，将不胜感激。

**编辑**

感谢 Chris 的提示，我们终于成功控制了“返回按钮”，如下所示：

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
    url = [[request URL] absoluteString];

    // Store the conditions 
    if ([url rangeOfString:[NSString stringWithFormat:@"%@orders/my_cart", SITE_URL]].location != NSNotFound ||
        [url rangeOfString:[NSString stringWithFormat:@"%@orders/add_cart", SITE_URL]].location != NSNotFound) {
        if ([currentURLStr rangeOfString:[NSString stringWithFormat:@"%@orders/top", SITE_URL]].location != NSNotFound ||
            ...) {
        ref = currentURLStr;
        }
    }

    currentURLStr = url;
    return YES;
} 
```

和“返回按钮”...

```
- (void) backWebView:(id)sender
{
    if ([currentURLStr rangeOfString:[NSString stringWithFormat:@"%@orders/top", SITE_URL]].location != NSNotFound ||
        [currentURLStr rangeOfString:[NSString stringWithFormat:@"%@orders/error", SITE_URL]].location != NSNotFound)
    {
        [[self navigationController] popViewControllerAnimated:YES];

    } else if ([currentURLStr rangeOfString:[NSString stringWithFormat:@"%@orders/genre", SITE_URL]].location != NSNotFound ||
               ....) {
        [_webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"%@orders/top/%@/%@", SITE_URL, guid, authKey]]]];

    // Refer the stored conditions...
    } else if ([currentURLStr rangeOfString:[NSString stringWithFormat:@"%@orders/my_cart", SITE_URL]].location != NSNotFound) {

        if ([ref rangeOfString:[NSString stringWithFormat:@"%@orders", SITE_URL]].location != NSNotFound) {
            [_webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:ref]]];
            ref = @"";
        } else {
            [_webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"%@orders/top/%@/%@", SITE_URL, guid, authKey]]]];
        }

    } else {

        if (![_webView canGoBack]) {
            [[self navigationController] popViewControllerAnimated:YES];
        } else {
            [_webView goBack];
        }
    }
} 
```

我希望这种方法可以帮助所有面临类似问题的人......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:29:31.307

听起来您希望对应用程序中网页之间的导航进行更精细的控制，而标准的后退/前进功能将无法做到。

我建议通过完全忽略 中的内置`goBack`和`goForward`功能来简化问题`UIWebView`，并让您的按钮委托给“StateManager”类型的对象 - 根据应用程序的当前状态和用户尝试的方向，你知道应该导致哪个状态（即：要加载哪个页面）。

要加载新状态，只需使用`[_webView loadRequest:request]`（或其他加载函数之一 - 见下文），其中`request`表示新状态。

我看不到`_requestURL`您在上面的代码中是如何使用的，但调用`[_webView reload]`只会加载通过 UIWebView 加载函数之一加载的最后一页（即：[`loadData`](http://developer.apple.com/library/ios/documentation/uikit/reference/UIWebView_Class/Reference/Reference.html#//apple_ref/occ/instm/UIWebView/loadData%3aMIMEType%3atextEncodingName%3abaseURL%3a)、、[`loadHTMLString`](http://developer.apple.com/library/ios/documentation/uikit/reference/UIWebView_Class/Reference/Reference.html#//apple_ref/occ/instm/UIWebView/loadHTMLString%3abaseURL%3a)或[`loadRequest`](http://developer.apple.com/library/ios/documentation/uikit/reference/UIWebView_Class/Reference/Reference.html#//apple_ref/occ/instm/UIWebView/loadRequest%3a)），或者之后导航到的最后一页是（通过单击链接或向后/向前导航）。

# bash - bash：for循环，两个变量链接

> ID：15087634
> 
> 赞同：1
> 
> 时间：2013-02-26T11:14:41.313
> 
> 标签：bash, variables, loops, for-loop

我有以下问题；两个目录包含：

*   dir1：文件列表，如下所示：

文件1.fq 文件2.fq 文件3.fq

等等..

*   dir2：文件列表，如下所示：

文件 1.fq.sa 文件 2.fq.sa 文件 3.fq.sa

我要做的是运行一个同时使用 file1.fq 和 file1.fq.sa 的命令。

我尝试了以下循环：

```
fq=dir1/*
sa=dir2/*

for fqfiles in $fq;

do

for sa_files in $sa;

do

mycommand ${sa_files} ${fqfiles} > ${sa_files}.cc &

done

done 
```

问题是我的循环执行以下操作：

```
mycommand file1.fq.sa file1.fq > file1.fq.sa.cc  #correct 
```

但是也

```
mycommand file1.fq.sa file2.fq > file1.fq.sa.cc  #wrong! 
```

等等……在一个几乎无限的循环中！

我希望我的循环可以产生类似的东西：

```
mycommand file1.fq.sa file1.fq > file1.fq.sa.cc
mycommand file2.fq.sa file2.fq > file2.fq.sa.cc
mycommand file3.fq.sa file3.fq > file3.fq.sa.cc 
```

ETC...

请你帮助我好吗？

谢谢！

法比奥

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:23:14.643

您可以循环`dir1`，在文件上使用[`basename`](http://linux.die.net/man/1/basename)，然后添加前缀`dir2`并附加您需要的扩展名。您可能还想检查第二个目录中的文件并仅在两个文件都可用时运行您的命令

```
for f in dir1/*.fq; do
    b=$(basename "$f")
    f2=dir2/"$b".sa
    if test -f "$f2"; then
        mycommand "$f2" "$f" >"$b".sa.cc
    fi
done 
```

如果您不想要目录部分，请改用这个

```
mycommand "$b".sa "$b" >"$b".sa.cc 
```

# php - 如何将 MarkerClusterer 添加到我的谷歌地图

> ID：15087637
> 
> 赞同：2
> 
> 时间：2013-02-26T11:14:50.107
> 
> 标签：php, mysql, maps

我正在尝试将 Google 集群添加到我的地图中，但我不知道该怎么做？我已经使用 php 中的 mysql 查询创建了带有信息框的地图及其标记。知道我正在添加更多标记，它们重叠，所以我需要添加集群命令，但我无法让它工作。我的代码在下面

```
<script>
$(document).ready(function() {

    //------- Google Maps ---------//

    // Creating a LatLng object containing the coordinate for the center of the map
var latlng = new google.maps.LatLng(53.0,0);

    // Creating an object literal containing the properties we want to pass to the map  
    var options = {  
        zoom: 5, // This number can be set to define the initial zoom level of the map
        center: latlng,
        disableDefaultUI: true,
        panControl: false,
        zoomControl: true,
        scaleControl: true,
        mapTypeId: google.maps.MapTypeId.ROADMAP, // This value can be set to define the map type ROADMAP/SATELLITE/HYBRID/TERRAIN
            styles: [
  {
    "featureType": "landscape.natural",
    "stylers": [
      { "visibility": "simplified" },
      { "color": "#07c6ee" }
    ]
  },{
    "featureType": "landscape.man_made",
    "stylers": [
      { "visibility": "on" },
      { "hue": "#6e00ff" },
      { "gamma": 1.96 },
      { "lightness": 18 },
      { "saturation": -78 },
      { "color": "#46fcb3" }
    ]
  },{
    "featureType": "water",
    "stylers": [
      { "visibility": "simplified" },
      { "color": "#f9ec55" }
    ]
  },{
  },{
    "featureType": "road.highway",
    "stylers": [
      { "visibility": "on" },
      { "color": "#7b8080" }
    ]
  },{
    "featureType": "road.arterial",
    "stylers": [
      { "visibility": "on" },
      { "color": "#808080" }
    ]
  },{
    "featureType": "road.local",
    "stylers": [
      { "color": "#808080" },
      { "visibility": "on" }
    ]
  },{
    "featureType": "road",
    "elementType": "labels.text.fill",
    "stylers": [
      { "color": "#fefffe" },
      { "visibility": "on" }
    ]
  },{
    "featureType": "landscape.man_made",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "featureType": "road.highway",
    "elementType": "labels.icon",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
    "featureType": "poi",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
  }
] 
    };  
    // Calling the constructor, thereby initializing the map  
    var map = new google.maps.Map(document.getElementById('map_div'), options);  

    // Define Marker properties
    var image1 = new google.maps.MarkerImage('http://www.foodhawkers.co.uk/images/map-market.png',
        // This marker is 129 pixels wide by 42 pixels tall.
        new google.maps.Size(40, 40),
        // The origin for this image is 0,0.
        new google.maps.Point(0,0),
        // The anchor for this image is the base of the flagpole at 18,42.
        new google.maps.Point(40, 40)
    );

    //

    // Add Marker

    var marker1 = new google.maps.Marker({
        position: new google.maps.LatLng(51.4636101,-0.1382557), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker1, 'click', function() {  
        infowindow1.open(map, marker1);  
    });

    // Add information window
    var infowindow1 = new google.maps.InfoWindow({  
        content:  createInfo('Venn Street Market', '<div style="width:200px">...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/venn-street-market" title="Click to view Venn Street Market" target="_parent">View profile</a>')
    }); 

    var marker2 = new google.maps.Marker({
        position: new google.maps.LatLng(51.5367954,-0.0618898), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker2, 'click', function() {  
        infowindow2.open(map, marker2);  
    });

    // Add information window
    var infowindow2 = new google.maps.InfoWindow({  
        content:  createInfo('Broadway Market', '<div style="width:200px">...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/broadway-market" title="Click to view Broadway Market" target="_parent">View profile</a>')
    }); 

    var marker3 = new google.maps.Marker({
        position: new google.maps.LatLng(51.4721386,-2.7580983), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker3, 'click', function() {  
        infowindow3.open(map, marker3);  
    });

    // Add information window
    var infowindow3 = new google.maps.InfoWindow({  
        content:  createInfo('StrEAT Food Market', '<div style="width:200px">We\'re really hoping to be doing some amazing street food nights in the CENTRE of...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/streat-food-market" title="Click to view StrEAT Food Market" target="_parent">View profile</a>')
    }); 

    var marker4 = new google.maps.Marker({
        position: new google.maps.LatLng(51.5945845,-0.1302629), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker4, 'click', function() {  
        infowindow4.open(map, marker4);  
    });

    // Add information window
    var infowindow4 = new google.maps.InfoWindow({  
        content:  createInfo('Alexandra Palace Farmers Market', '<div style="width:200px">Sundays 10:00 - 15:00...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/alexandra-palace-farmers-market" title="Click to view Alexandra Palace Farmers Market" target="_parent">View profile</a>')
    }); 

    var marker5 = new google.maps.Marker({
        position: new google.maps.LatLng(51.5050824,-0.0900808), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker5, 'click', function() {  
        infowindow5.open(map, marker5);  
    });

    // Add information window
    var infowindow5 = new google.maps.InfoWindow({  
        content:  createInfo('Borough Market', '<div style="width:200px">...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/borough-market" title="Click to view Borough Market" target="_parent">View profile</a>')
    }); 

    var marker6 = new google.maps.Marker({
        position: new google.maps.LatLng(51.5057757,-0.1168251), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker6, 'click', function() {  
        infowindow6.open(map, marker6);  
    });

    // Add information window
    var infowindow6 = new google.maps.InfoWindow({  
        content:  createInfo('The Real Food Market', '<div style="width:200px">...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/the-real-food-market" title="Click to view The Real Food Market" target="_parent">View profile</a>')
    }); 

    var marker7 = new google.maps.Marker({
        position: new google.maps.LatLng(51.5005095,-0.1131232), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker7, 'click', function() {  
        infowindow7.open(map, marker7);  
    });

    // Add information window
    var infowindow7 = new google.maps.InfoWindow({  
        content:  createInfo('Lower Marsh Market', '<div style="width:200px">Lower Marsh is steeped in history as one of London’s oldest and best-loved market streets....</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/lower-marsh-market" title="Click to view Lower Marsh Market" target="_parent">View profile</a>')
    }); 

    var marker8 = new google.maps.Marker({
        position: new google.maps.LatLng(51.4682204,-0.0259369), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker8, 'click', function() {  
        infowindow8.open(map, marker8);  
    });

    // Add information window
    var infowindow8 = new google.maps.InfoWindow({  
        content:  createInfo('Brockley Market', '<div style="width:200px">...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/brockley-market" title="Click to view Brockley Market" target="_parent">View profile</a>')
    }); 

    var marker9 = new google.maps.Marker({
        position: new google.maps.LatLng(51.4528397,-0.1019773), 
        map: map,       
        icon: image1 // This path is the custom pin to be shown. Remove this line and the proceeding comma to use default pin
    }); 

    // Add listener for a click on the pin
    google.maps.event.addListener(marker9, 'click', function() {  
        infowindow9.open(map, marker9);  
    });

    // Add information window
    var infowindow9 = new google.maps.InfoWindow({  
        content:  createInfo('Herne Hill Farmers Market', '<div style="width:200px">...</div><br /><br /><a href="http://www.foodhawkers.co.uk/market/herne-hill-farmers-market" title="Click to view Herne Hill Farmers Market" target="_parent">View profile</a>')
    }); 

     var markerCluster = new MarkerClusterer(options, markers);

    // Create information window
    function createInfo(title, content) {
        return '<div class="infowindow"><strong>'+ title +'</strong><br />'+content+'</div>';
    } 

});

</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T00:12:13.723

您使用的是哪个版本的 MC？因为 2.0.x 版本具有以下构造语法：

```
var markerCluster = new MarkerClusterer(map, opt_markers, opt_options); 
```

尝试这个：

```
var markerCluster = new MarkerClusterer(map);
markerCluster.addMarker(marker1);
...
markerCluster.addMarker(marker9); 
```

或者，将您的标记保留在数组中，将其添加到您的代码顶部：

```
var markers = []; 
```

声明每个标记后，将其添加到该数组中：

```
markers.push(markerN); 
```

并一次将它们全部添加到集群中：

```
markerCluster.addMarkers(markers); 
```

# ios - NSNumber 浮动值

> ID：15087645
> 
> 赞同：3
> 
> 时间：2013-02-26T11:15:12.943
> 
> 标签：ios

当我`NSNumber`使用“floatValue”转换为浮点值时，精度会有所不同。例如，我有一个`NSNumber`值为 2.3 的“myNumber”，如果我使用“floatValue”将 myNumber 转换为浮点数，它的值变为 2.29999。但我正好需要 2.30000。2.3 之后的零个数没有问题，我需要 '2.3' 而不是 '2.9'。

我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-02-11T13:45:34.997

我有类似的情况，我正在读取值并将其再次分配回浮点变量。

我的问题陈述：

```
 NSString *value = @"553637.90";
 NSNumber *num = @([value floatValue]); // 1\. This is the problem. num is set to 553637.875000     
 NSNumberFormatter *decimalStyleFormatter = [[NSNumberFormatter alloc] init];
 [decimalStyleFormatter setMaximumFractionDigits:2];
 NSString *resultString = [decimalStyleFormatter stringFromNumber:num]; // 2\. string is assigned with rounded value like 553637.88
 float originalValue = [resultString floatValue]; // 3\. Hence, originalValue turns out to be 553637.88 which wrong. 
```

换行后，以下为我工作：

```
 NSNumber *num = @([value doubleValue]); // 4\. doubleValue preserves value 553637.9
    double originalvalue = [resultString doubleValue]; // 5\. While reading back, assign to variable of type double, in this case 'originalValue' 
```

我希望这会有所帮助。:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T11:19:47.727

如果您需要精确的精度，请不要使用`float`. `double`如果您需要更高的精度，请使用 a 。那仍然不准确。您可以将 myNumber 乘以 10，转换为无符号整数并对其执行算术运算，转换回浮点数或双精度数并除以 10，最终结果可能更精确。如果这些都不够精确，您可能需要查看任意精度算术库，例如[GNU MP Bignum](http://gmplib.org/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:20:41.767

我已经完成了以下操作，但它正确地显示了我

```
NSNumber *num = [NSNumber numberWithFloat:2.3];
float f = [num floatValue];
NSLog(@"%f", f); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:21:18.010

你可以玩这样的东西：

```
 float x = 2.3f;
NSNumber *n = [NSNumber numberWithFloat:x];
NSNumberFormatter *fmt = [[NSNumberFormatter alloc] init];
[fmt setPositiveFormat:@"0.#"];
NSString *s = [fmt stringFromNumber:n];
float f = [s floatValue]; 
```

# javascript - Jwplayer：提供从主目录播放视频的路径

> ID：15087649
> 
> 赞同：1
> 
> 时间：2013-02-26T11:15:31.387
> 
> 标签：javascript, jwplayer

我安装了 jwplayer，这是我的代码：

```
<div class="video-container">
  <h3 style="color: #467AA7;padding-left: 800px;">Login</h3>
  <div class="video-body" style="padding-left: 700px;">
  <div id="myElement"> Loading the player...</div>
  <script type="text/javascript">jwplayer("myElement").setup({
     file : "/home/user/videos/login.mp4",});
  </script>
  </div>
  <p style="color: #467AA7;padding-left: 700px;font-size:12px; font-style:italic;"></p>
</div> 
```

这是我的视频的路径：“ `/home/user/videos/login.mp4`”但是当我尝试访问我的应用程序时，它显示**“加载媒体时出错：找不到文件”**，因为它正在我的应用程序中搜索，`home/user/videos/login.mp4`但没有转到服务器的路径。我的请求在浏览器中是这样的：www.myapp.com/home/user/videos/login.mp4 - 404 not found。

您能帮我修复文件路径以从服务器路径访问视频吗？谢谢

更新：“./home/user/videos/login.mp4”也不起作用。它仍然保留在我的应用程序中并与 url 一起传递。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:35:18.523

尝试改用这个：

```
file:///home/user/videos/login.mp4 
```

**编辑**：哦，等等，您正在使用 HTTP 请求页面。在那种情况下：它不会工作。对于您的浏览器来说，这两个资源（html页面和电影文件）存在于不同的域中，通常情况下，跨域资源访问会被您的浏览器阻止。

# actionscript-3 - Actionscript 3，多音轨

> ID：15087650
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:37.457
> 
> 标签：actionscript-3, flash, audio, mute

我在音乐播放器中有四种不同的曲目（吉他、贝斯、鼓、人声）。它们都被命名为复选框，用于检查/取消选中当前可以听到哪一首曲目，并且我还有一个播放按钮可以开始。因此，当检查例如人声和吉他时，我只想听到这两种乐器以及贝司和鼓在后台静音播放。

问题是当我开始选中这两个框时，我无法在播放时更改其他框，因为状态是静态的，并且在点击框时不会动态更改。

只是我的代码的摘录，只有吉他和人声，以便于理解：

```
 var vocals:Sound = new Sound();
        var vocalsChannel:SoundChannel = new SoundChannel();
        var vocalsTransform = new SoundTransform();
        vocalsChannel.soundTransform = vocalsTransform;
        vocals.load(new URLRequest("songsample.mp3"));

        var guitar:Sound = new Sound();
        var guitarChannel:SoundChannel = new SoundChannel();
        var guitarTransform = new SoundTransform();
        guitarChannel.soundTransform = guitarTransform;
        guitar.load(new URLRequest("funky.mp3"));

        voc_mc.addEventListener(MouseEvent.CLICK, _selectedVoc);
        git_mc.addEventListener(MouseEvent.CLICK, _selectedGit);

        function _selectedVoc(e:MouseEvent):void
        {
            var bool:Boolean = e.target.selected;

            if(bool)
            {
                vocalsTransform.volume = 1;

            }
            else
            {
                vocalsTransform.volume = 0;

            }
        }

        function _selectedGit(e:MouseEvent):void
        {
            var bool:Boolean = e.target.selected;

            if(bool)
            {
                guitarTransform.volume = 1;

            }
            else
            {
                guitarTransform.volume = 0;

            }
        }

        play_mc.addEventListener(MouseEvent.CLICK,
                                 function(evt:MouseEvent)
        {
            vocalsChannel = vocals.play(0,0,vocalsTransform);
            guitarChannel = guitar.play(0,0,guitarTransform);
        })

        stop_mc.addEventListener(MouseEvent.CLICK,
                                 function(evt:MouseEvent)
        {
            vocalsChannel.stop();
            guitarChannel.stop();
        }) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T17:43:48.883

您需要重置通道上的 soundTransform 属性：

```
 function _selectedVoc(e:MouseEvent):void
    {
        var bool:Boolean = e.target.selected;

        if(bool)
        {
            vocalsTransform.volume = 1;

        }
        else
        {
            vocalsTransform.volume = 0;

        }
        vocalsChannel.soundTransform = vocalsTransform;
    } 
```

# php - 改进正则表达式 pcre php

> ID：15087652
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:39.213
> 
> 标签：php, regex, pcre

在我的项目（php）中，我得到了一些像这样的正则表达式（pcre）：

`preg_match('/[\s^0-9]{0,1}([0-9]{2})[\s^0-9]{0,1}/',$chanson['nom'],$resultPreg1)`

此正则表达式捕获两个可以由单个空格分隔或不分隔的数字，并且不能由数字分隔。我想要做的是，开头有空格（没有数字），或者结尾有空格（没有数字）。但它必须至少有一个分隔符。

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:31:52.280

您只需将其拆分并测试每个案例：

```
/\s\d{2}\D|\D\d{2}\s/ 
```

这将匹配一个空格、两个数字和任何非数字字符**或**一个非数字字符、两个数字和一个空格。

注：`\d`是一个数字，相当于`[0-9]`。 `\D`是一个非数字，等价于`[^0-9]`。

但是，上述正则表达式要求数字的每一侧至少有一个非数字。另外，如果你有一个类似的模式`.11 22.`，它不会匹配两个数字，因为空间会被第一个匹配吃掉。如果这是一个问题，您可以使用环视：

```
/\s\d{2}(?!\d)|(?<!\d)\d{2}\s/ 
```

这匹配一个空格，然后是两个数字后面没有另一个数字**，或者**两个数字前面没有一个数字，后面跟着一个空格。

`(?!...)`是负前瞻。它的意思是“比赛不能跟这个”。

`(?<!...)`是否定的look-behind，意思是“匹配不能在此之前”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:35:53.523

您不能在一组方括号中混合使用负字符和正字符类。可以写一个“空格”或“不是数字” `\s|[^0-9]`。但是空格*不是*数字，所以不需要特别输入，`[^0-9]`你就够了。您的“零或一”的语法在`{0,1}`技术上是正确的，但同样的事情有一个更简洁的语法：`?`.

```
preg_match('/[^0-9]?([0-9]{2})[^0-9]?/',$chanson['nom'],$resultPreg1) 
```

您几乎可以在您的号码周围使用分词符来获取您要查找的内容，除非它找不到嵌入在“abc23def”之类的字母中的数字。

```
preg_match('/\b([0-9]{2})\b/',$chanson['nom'],$resultPreg1) 
```

# html - 绝对定位100%高度滚动溢出问题

> ID：15087654
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:50.397
> 
> 标签：html, css, css-position

网站... [http://dev.rapweb.co.uk/londonplace/research.htm](http://dev.rapweb.co.uk/londonplace/research.htm)

问题...当浏览器高度低到足以导致垂直滚动条时，向下滚动只会显示空白，而红色面板中的文本下部不会显示。

已尝试的解决方案... 红色面板上的溢出自动会导致页面滚动条。我假设这是由于绝对定位。

其他想法...我意识到由于背景设置为覆盖和底部对齐，可能无法实现我最初的计划，所以我考虑让文本滚动到标题后面，但是当浏览器出现问题时宽度足够低以产生水平滚动条，因为文本可以滚动到红色面板和灰色区域之外，因为它不再包含在其中。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:39:05.290

这使条带继续向下并向下扩展图像。

添加这个：

```
/* These 2 made the red strip not behave funny with <p> margins */

#redStripContent p:first-child {
    margin-top: 0;
    padding-top: 1em;
}

#redStripContent p:last-child {
    margin-bottom: 0;
    padding-bottom: 1em;
}

/* This extends the size of red strip */

#redStrip {
    position: relative; /* was absolute */
} 
```

删除这个：

```
/* This removes the fixed bottom on main image area */

#mainImageArea {
    bottom: 0px;
} 
```

至于您在评论中提到的其他页面问题，我建议您使用 min-height:100% 和负边距的组合。尝试添加这个例如：

```
#mainImageArea {
    min-height: 100%;
    margin-top: -110px;
    z-index: -1;
} 
```

# sql - SQL JOB 原因 193

> ID：15087655
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:51.213
> 
> 标签：sql, sql-server, jobs

我使用控制台应用程序（操作系统 - cmdExec）创建 MSSQL 作业，我收到 eason 193 错误。
有完整消息：

> 以用户身份执行：NT AUTHORITY\NETWORK SERVICE。无法为作业 0x4CB38CF498AEE244A487876F4746F5A7 的步骤 1 创建进程（原因：193）。步骤失败。

可能是什么原因造成的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T15:39:37.700

您之前是否遇到过此类错误，或者您过去是否成功创建了工作？

该特定帐户可能没有创建作业所需的权限。如果您有权访问 SQL Server Management Studio，则可以使用这两个链接来了解有关所需权限的更多信息（在 MSDB 数据库内部）以及如何检查和设置特定帐户的这些权限。

*   [SQL 代理权限参考](http://msdn.microsoft.com/en-us/library/ms188283.aspx)
*   [检查并设置 SQL 代理作业的权限](http://msdn.microsoft.com/en-us/library/ms187901.aspx)

# c# - 在几个 Windows 8 RT 设备之间进行通信的可能性（运行相同的应用程序）C# WI-FI

> ID：15087656
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:56.743
> 
> 标签：c#, .net, windows, windows-8, wifi-direct

我想开发一个应用程序，它将在装有 Windows 8 (RT) 的平板电脑上运行。带有此应用程序的平板电脑应该是“主”平板电脑，并且此平板电脑将与其他平板电脑“从属”（运行相同的应用程序）进行通信。主平板电脑应该向从平板电脑发送数据（从平板电脑显示接收到的数据），从平板电脑将向主平板电脑发送数据。大师收集这些数据并创建一些图表等......我希望你理解。（简历：几个相同的W8 RT app相互通信）

带有 W8 RT（运行相同应用程序）的平板电脑可以通过 WI-FI Direct 进行通信吗？C# 中有哪些可能性？

谢谢每个答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T19:27:50.137

Windows 8 包含一项功能，可帮助您在不同设备上运行的应用程序副本之间建立连接。该功能称为 PeerFinder。

目前，PeerFinder 可以使用 NFC（将两台设备同时点击）或使用 WiFi（如果两台设备都支持 Wifi Direct）来查找其他设备。在初始握手之后，两个设备都使用套接字进行通信。

**Proximity 示例展示了 PeerFinder 的基本用法：http:** [//code.msdn.microsoft.com/windowsapps/Proximity-Sample-88129731](http://code.msdn.microsoft.com/windowsapps/Proximity-Sample-88129731)

**PixPresenter 是一个使用 PeerFinder 并在设备之间交换图像的示例应用程序：http:** [//code.msdn.microsoft.com/windowsapps/PixPresenter-Code-sharing-39ed631f](http://code.msdn.microsoft.com/windowsapps/PixPresenter-Code-sharing-39ed631f)

**PeerFinder.SupportedDiscoveryTypes 告诉您当前可用于发现其他设备的方法：http:** [//msdn.microsoft.com/en-us/library/windows/apps/windows.networking.proximity.peerfinder.supporteddiscoverytypes](http://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.proximity.peerfinder.supporteddiscoverytypes)

希望有帮助。

开发支持、设计支持和更多的好处：http: [//bit.ly/winappsupport](http://bit.ly/winappsupport)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:26:59.507

如果是本地网络，您可以使用原始 TCP 通信并使用 UDP 发现来识别主机。

如果它是更分布式的设置，例如 Internet 或独立的网络区域，我建议您查看[此处](http://www.windowsazure.com/en-us/develop/net/how-to-guides/queue-service/)解释的 Microsoft Azure 队列存储服务。这将允许分布式和冗余的主从模型。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-22T13:23:43.507

作为补充，如果您需要模拟 NFC，您可以使用特定的示例驱动程序： [Windows 8.1：如何在没有 NFC 硬件的情况下使用 Near-Field Proximity API](http://blogs.msdn.com/b/stephe/archive/2013/11/22/using-windows-8-1-near-proximity-api-without-nfc-hardware.aspx)

希望能帮助到你。

斯蒂芬妮

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-18T15:19:51.007

此外，您还可以在此处找到一个 WinRT 库，可用于帮助您使用 Wifi-Direct 在运行相同应用程序的 Windows 8 对等方之间传输数据/文件：http: [//blogs.msdn.com/b/stephe/archive/ 2013/12/11/win8-1-transfering-a-file-between-2-peers-using-wifi-direct-and-proximity-api.aspx](http://blogs.msdn.com/b/stephe/archive/2013/12/11/win8-1-transfering-a-file-between-2-peers-using-wifi-direct-and-proximity-api.aspx)

最好的祝福

# javascript - 使用带有 href 的 jQuery

> ID：15087657
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:59.000
> 
> 标签：javascript, jquery

我有一个简单的（？）问题，我有一个类似的功能。

```
value = $("input[@name=typeGroup]:checked").val();
if (value == "value1") {
self.doSomething1();
}
else if (value == "value2") {
self.doSomething2();
} 
```

哪个是从

```
<div><input type='radio' name='typeGroup' value='value1' data-bind='checked: searchType' />Radio1</div>

<div><input type='radio' name='typeGroup' value='value2' data-bind='checked: searchType' />Radio2</div> 
```

问题是，我希望函数上有类似的选项，`$("input[@name=typeGroup]:checked)`但`<a href>`看起来像

```
<a href='#' data-bind='click: clickActivateFunction' id='draw_pic'> 
```

是否可以？这会是什么样子？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:20:32.750

jquery属性选择器如下：

```
$("a[href=xxxx]"); 
```

更新了评论的答案：使用这个

```
$("a:contains('My Text')") 
```

用作函数

```
function onclickofa(e) {
    value = $(e.target).text();
    if (value == "value1") {
         self.doSomething1();
    }
    else if (value == "value2") {
        self.doSomething2();
    }
}

<a href="#" onclick="onclickofa()">value1</a>
<a href="#" onclick="onclickofa()">value2</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:21:06.200

如果需要获取锚元素，可以使用：

```
$('#draw_pic') 
```

因为您在该元素上有一个唯一的 id。

**更新**

如果你想要不同的东西，我会绑定不同的事件而不是使用 if 语句。

```
$('#draw_pic').click( function () {
    alert('Draw pic clicked');
});

$('#draw_more').click( function () {
    alert('Draw more clicked');
}); 
```

如果只是细微差别，您可以使用 if 语句...

```
$('a').click( function () {
    if (this.id === 'draw_pic') {
        alert('Draw pic clicked');
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:22:25.153

可以在以下状态中找到该链接：

```
a:link
a:visited
a:hover
a:active 
```

也许这就是你需要的：

```
$("a[href=xxxx]:visited"); 
```

如果您需要绑定函数，请使用[bind](http://api.jquery.com/bind/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T11:31:27.273

```
$("a").each(function(){
    var $a = $(this);
    var href = $a.attr("href");
    switch(href)
    {  case '#':
           alert("#!");
       break;
       case "/":
           // special click for home
           $a.click(function(e){
               alert("hello home");
               e.preventDefault();
           });

           // patch href in this case
           $a.attr("href","/index");
       break;
       default:
           alert("href:"+href);
       break;
    }
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-26T11:34:02.837

```
$('a').click(function(e){
   if(this.id === "drawpic"){
      // do something1
     }
   else{
      // do something2
   }
}); 
```

# sql - 在 Visual Studio 中创建查询以连接 2 或 3 个表

> ID：15087658
> 
> 赞同：0
> 
> 时间：2013-02-26T11:15:59.080
> 
> 标签：sql, sql-server, vb.net, visual-studio, vb.net-2010

我有以下 3 个表：

```
customer   (cid,cname,bid)
booking    (bid,bdate,btime,billamt)
bill       (billdate,billamt,billid,cid,bid) 
```

我想以`cname,bdate,btime,billdate and billamt`视觉基本形式查看各自的文本框。请帮助我创建查询。以及如何使用查询将值复制到表单中的相应文本框。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:21:53.533

这是用于`JOINs`连接表的 SQL 查询的开始。您必须尝试通过 SQL**填充**表单控件，以更好地了解您在做什么。如果您再次陷入困境，您可以在此处发布问题。

```
SELECT C.cname,BO.bdate,BO.btime, BL.billdate, BL.billamt
FROM Customer
INNER JOIN Bill
ON C.cid = BL.cid
INNER JOIN Booking
BL.bid = BO.bid
WHERE = ? -- specify proper conditions as you desire 
```

所以如果你使用数据绑定，你也可以使用`DataTable`, `DataGridView`where `TextBox`be bound。这是一个示例片段。

```
`DataGridView1.DataSource = DataTable1
`TextBox2.DataBindings.Add("Text", DataTable1, "Column2") 
```

如果你使用`BindingSource`，这里是你可以过滤掉的方法。我更喜欢从 SQL 表中完整提取客户`DataTable`，然后使用参数（例如在您的情况下`cid`）在（过滤器）内查询

```
//assuming TextBox1 has cid (customer ID)
customersBindingSource.Filter = "cid ='" + TextBox1.Text + "'"; 
```

参考：

*   如何使用 VB.NET SQL 填充表单控件：TextBox、ListBox 等
*   请阅读有关**数据绑定的信息**
*   也`BindingSource`

# c# - 如何在 bing 地图中为折线创建函数？

> ID：15087661
> 
> 赞同：1
> 
> 时间：2013-02-26T11:16:07.373
> 
> 标签：c#, asp.net, google-maps, bing-maps

我想创建一个函数，我想在其中显示 A 到 B 的折线：我有两个文本框 A 和 B，当我单击提交按钮时，我的地图显示从 A 到 B 海上的折线。

假设如果我在第一个文本框中输入 newyork 并在另一个文本框中输入 london，那么它将在 bing 地图中显示海面上两个地方之间的折线。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T16:09:53.983

您要做的第一个想法是对文本框的值进行地理编码以获取指向点的位置。你可以这样

```
var searchRequest = 'http://dev.virtualearth.net/REST/v1/Locations/' + query + '?output=json&jsonp=SearchServiceCallback&key=' + credentials; 
```

查询是您的文本框值，凭据是您的 Bing 地图键，而 SearchServiceCallback 是您的函数的回调。

之后，您可以使用这两个位置在地图上绘制它，如下所示：

```
var polyline = new Microsoft.Maps.Polyline([new Microsoft.Maps.Location(51.533523,-0.118332), new Microsoft.Maps.Location(40.744136,-74.001389)]); 

map.entities.push(polyline); 
```

你的折线将被绘制。

希望它有所帮助。

# python - 如何获取 ndb.Model 的“id”属性

> ID：15087665
> 
> 赞同：1
> 
> 时间：2013-02-26T11:16:17.743
> 
> 标签：python, google-app-engine

我是第一次使用 Google App Engine，非常有趣。我能够设置我的处理程序，并开始创建/读取模型。我面临的问题是我无法获得模型的“id”字段：

```
m = MyModel.get_by_id(someId)
logging.debug(m.key)  // prints: Key('MyModel', 1) for example ... I want the '1' 
```

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:22:37.620

你可以得到`id`这样的：

```
m.key.id() 
```

# java - 将 GridPane 扩展到最大宽度和高度

> ID：15087666
> 
> 赞同：12
> 
> 时间：2013-02-26T11:16:21.213
> 
> 标签：java, javafx-2, fxml

是否可以将网格窗格扩展到最大宽度和高度？

我有以下内容：

```
<fx:root type="javafx.scene.layout.AnchorPane" xmlns:fx="http://javafx.com/fxml"
         stylesheets="view/Style.css">
    <children>
        <GridPane xmlns:fx="http://javafx.com/fxml"
                  AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="128.0"
                  AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0"
                  hgap="10" vgap="10">
            <!--anything-->
        </GridPane>
    </children>
</fx:root> 
```

我想将网格窗格扩展到锚窗格确定的限制（所以除了下部之外的整个屏幕）

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-26T18:37:29.410

尝试设置 GridPane 的 maxHeight 和 maxWidth 属性。

```
maxHeight="Infinity" maxWidth="Infinity" 
```

GridPane 的孩子应该包含

```
GridPane.hgrow="always" GridPane.vgrow="always" 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-09-24T11:23:24.200

如果您在没有 fxml 的情况下直接使用 JavaFX。代码是：

```
GridPane.setHgrow(childElementOfGridPane, Priority.ALWAYS);
GridPane.setVgrow(childElementOfGridPane, Priority.ALWAYS); 
```

# c# - 在另一个用户控件中移动用户控件

> ID：15087667
> 
> 赞同：5
> 
> 时间：2013-02-26T11:16:21.760
> 
> 标签：c#, .net, winforms, user-controls, tetris

我正在尝试编写一个俄罗斯方块克隆，在做了一些研究之后，我遇到了一个使用小型用户控件来形成块和一个包含网格的更大用户控件的示例。

我写的所有东西似乎都可以正常工作（正在生成块并将其放置在网格上，如果我更改代码，我什至可以将它们放置在其他地方），但我似乎无法让块移动，而程序正在运行。我使用的示例通过更改`control.left`每个块的属性来做到这一点。我已经尝试过了，对其进行了调试，并且在属性更改时，块不会移动。

我已经搜索了大约4个小时。我是一个新手程序员，所以我知道这可能很愚蠢，但我找不到它是什么。

这是我写的方法：

```
//Class TetrisGame.cs
public void MoveRight()
        {
            blok.MoveBlock("x", 1);
        }
//Class Shape.cs
public void MoveBlock(string pos, int Amount)
        {
            if (pos == "x")
            {
                for (int i = 0; i < this.Shape().Count; i++)
                {
                    ((Blokje)this.Shape()[i]).MoveSide(1);
                }
            }
            if (pos == "y")
            {
                for (int i = 0; i < this.Shape().Count; i++)
                {
                    ((Blokje)this.Shape()[i]).MoveDown(1);
                }
            }
//And, the code that should actually move the block in Block.cs:
        public void MoveSide(int Step)
        {
            this.Left += (Step * 20);//Blocks are 20*20 pixels so should move in steps of 20 pixels
        } 
```

Shape 实际上是一个仅包含 4 个块的数组列表。Block.cs 是一个部分类，因为它是用户控件背后的代码，即小方块，Shape.cs 将形状从块中取出，俄罗斯方块游戏只是游戏逻辑

按键事件：

```
private void Form1_KeyPress(object sender, KeyPressEventArgs e)
        {
            try
            {
                if (e.KeyChar == 'q')//left
                {
                    if (!paused)
                    {
                        Game.MoveLeft();
                    }
                }
                else if (e.KeyChar == 'd')//right
                {
                    if (!paused)
                    {
                        Game.MoveRight();
                    }
                }
                else if (e.KeyChar == 'p')//pause
                {
                    if (paused)
                    {
                        tmrGame.Start();
                    }
                    else
                    {
                        tmrGame.Stop();
                    }
                }
                else if (e.KeyChar == 'z')//rotate
                {
                    if (!paused)
                    {
                        Game.Rotate();
                    }
                }
                else if (e.KeyChar == 'h')//help
                {
                    Help.Show();
                }
                else if (e.KeyChar == 'f')//save
                {

                }
                else if (e.KeyChar == 's')//Drop
                {
                    if (!paused)
                    {
                        Game.Drop();
                    }
                }
            }
            catch
            { 
                //no error message has to be displayed, this is just to prevent runtime Errors when pressing keys before the game has started 
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T15:31:00.793

似乎没有重绘“包含网格的更大用户控件”及其子项。将 MoveSide 更改为：

```
public void MoveSide(int Step)
    {
        this.Left += (Step * 20);
        Update();
    } 
```

所以一切都正确重绘。

# java - 如何将字节数组中的 pcm 样本转换为 -1.0 到 1.0 范围内的浮点数并返回？

> ID：15087668
> 
> 赞同：31
> 
> 时间：2013-02-26T11:16:23.460
> 
> 标签：java, android, floating-point, signal-processing

我使用的重采样算法需要包含**-1.0 到 1.0**范围内的输入样本的**浮点数**组。音频数据是**16 位**PCM，采样**率为 22khz**。

 ******我想将音频从 22khz 下采样到 8khz，如何将字节数组中的样本表示为浮点数**>= -1 和 <= 1**并返回到字节数组？

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-02-26T16:44:29.633

你问两个问题：

1.  如何从 22kHz 下采样到 8kHz？

2.  如何从 float [-1,1] 转换为 16 位 int 并返回？

请注意，问题已更新以表明 #1 已在其他地方得到处理，但我将保留我的答案的那一部分，以防它帮助其他人。

## 1\. 如何从 22kHz 下采样到 8kHz？

一位评论者暗示这可以通过 FFT 解决。这是不正确的（重采样的一个步骤是过滤。我提到为什么不在这里使用 FFT 进行过滤，以防您感兴趣：[http ://blog.bjornroche.com/2012/08/when-to-not-use -fft.html](http://blog.bjornroche.com/2012/08/when-to-not-use-fft.html) )。

对信号重新采样的一种非常好的方法是使用[多相滤波器](https://www.dsprelated.com/showarticle/191.php)。然而，这相当复杂，即使对于有信号处理经验的人来说也是如此。您还有其他几种选择：

*   使用实现高质量重采样的库，例如[libsamplerate](http://www.mega-nerd.com/SRC/)
*   做一些又快又脏的事

听起来您已经采用了第一种方法，这很棒。

快速而肮脏的解决方案听起来不会那么好，但是由于您要降低到 8 kHz，我猜音质不是您的首要任务。一种快速而肮脏的选择是：

*   对信号应用低通滤波器。尽可能多地去除 4 kHz 以上的音频。您可以使用[此处](http://blog.bjornroche.com/2012/08/basic-audio-eqs.html)描述的过滤器（尽管理想情况下您想要比这些过滤器更陡峭的东西，但它们至少总比没有好）。
*   从原始信号中选择每 2.75 个样本以产生新的重采样信号。当您需要非整数样本时，请使用线性插值。如果您需要线性插值方面的帮助，请尝试[此处](http://blog.bjornroche.com/2010/10/linear-interpolation-for-audio-in-c-c.html)。

这种技术对于语音应用来说应该绰绰有余。但是，我没有尝试过，所以我不确定，所以我强烈建议使用别人的库。

如果您真的想实现自己的高质量采样率转换，例如多相滤波器，您应该研究它，然后在[https://dsp.stackexchange.com/](https://dsp.stackexchange.com/)上提出任何问题，而不是在这里。

## 2\. 如何将float [-1,1] 转换为16-bit int 并返回？

这已经由 c.fogelklou 开始了，但让我来润色一下。

首先，16 位整数的范围是 -32768 到 32767（通常 16 位音频是有符号的）。要从 int 转换为 float，请执行以下操作：

```
float f;
int16 i = ...;
f = ((float) i) / (float) 32768
if( f > 1 ) f = 1;
if( f < -1 ) f = -1; 
```

您通常不需要做额外的“边界”（事实上，如果您真的使用 16 位整数，则不需要），但如果您出于某种原因有一些 >16 位整数，则可以这样做。

要转换回来，请执行以下操作：

```
float f = ...;
int16 i;
f = f * 32768 ;
if( f > 32767 ) f = 32767;
if( f < -32768 ) f = -32768;
i = (int16) f; 
```

在这种情况下，通常需要注意超出范围的值，尤其是大于 32767 的值。您可能会抱怨这会在 f = 1 时引入一些失真。这个问题引起了激烈的争论。有关对此的一些（不完整）讨论，请参阅[此博客文章](http://blog.bjornroche.com/2009/12/int-float-int-its-jungle-out-there.html)。

这不仅仅是“足以胜任政府工作”。换句话说，它可以正常工作，除非您担心最终音质。由于您要使用 8kHz，我认为我们已经确定情况并非如此，所以这个答案很好。

但是，为了完整起见，我必须补充一点：如果您试图保持绝对原始，请记住这种转换会引入失真。为什么？因为从 float 转换为 int 时的错误与信号相关。事实证明，该错误的相关性很糟糕，您实际上可以听到它，即使它非常小。（幸运的是，它足够小，对于语音和低动态范围音乐之类的东西并不重要）要消除此错误，您必须在从浮点数到整数的转换中使用称为[抖动的东西。](http://en.wikipedia.org/wiki/Dither#Digital_audio)同样，如果这是您关心的事情，请研究它并在[https://dsp.stackexchange.com/](https://dsp.stackexchange.com/)上提出相关的具体问题，而不是在这里。

您可能还对我关于数字音频编程基础的演讲中的幻灯片感兴趣，其中有一张关于这个主题的幻灯片，尽管它基本上说的是同样的事情（甚至可能比我刚才说的要少）：[http://blog .bjornroche.com/2011/11/slides-from-fundamentals-of-audio.html](http://blog.bjornroche.com/2011/11/slides-from-fundamentals-of-audio.html)

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-02-26T14:01:22.953

16 位 PCM 有一个范围 - 32768 到 32767。因此，将每个 PCM 样本乘以 (1.0f/32768.0f) 到一个新的浮点数组中，并将其传递给您的重新采样。

重新采样后返回浮动，乘以 32768.0，饱和（剪切范围之外的任何内容 - 32768 到 32767），舍入（或 Björn 提到的抖动），然后再转换回短。

使用没有位错误的乘法显示正向和反向转换的测试代码：

```
// PcmConvertTest.cpp : Defines the entry point for the console application.
//

#include <assert.h>
#include <string.h>
#include <stdint.h>
#define SZ 65536
#define MAX(x,y) ((x)>(y)) ? (x) : (y)
#define MIN(x,y) ((x)<(y)) ? (x) : (y)
int main(int argc, char* argv[])
{
  int16_t *pIntBuf1 = new int16_t[SZ];
  int16_t *pIntBuf2 = new int16_t[SZ];
  float   *pFloatBuf = new float[SZ];

  // Create an initial short buffer for testing
  for( int i = 0; i < SZ; i++) {
    pIntBuf1[i] = (int16_t)(-32768 + i);
  }

  // Convert the buffer to floats. (before resampling)
  const float div = (1.0f/32768.0f);
  for( int i = 0; i < SZ; i++) {
    pFloatBuf[i] = div * (float)pIntBuf1[i];
  }

  // Convert back to shorts
  const float mul = (32768.0f);
  for( int i = 0; i < SZ; i++) {
    int32_t tmp = (int32_t)(mul * pFloatBuf[i]);
    tmp = MAX( tmp, -32768 ); // CLIP < 32768
    tmp = MIN( tmp, 32767 );  // CLIP > 32767
    pIntBuf2[i] = tmp;
  }

  // Check that the conversion went int16_t to float and back to int for every PCM value without any errors.
  assert( 0 == memcmp( pIntBuf1, pIntBuf2, sizeof(int16_t) * SZ) );

  delete pIntBuf1;
  delete pIntBuf2;
  delete pFloatBuf;
  return 0;
} 
```******

# javascript - 在Java脚本中合并两个json对象？

> ID：15087671
> 
> 赞同：0
> 
> 时间：2013-02-26T11:16:36.040
> 
> 标签：javascript, json

你在 javascript 中合并了两个 json 吗？

问题：

```
a={id:123,name:john,status:success};
b={id:123,status:inprocess,transId:245}; 
```

输出 json 应该像

```
{id:123,name:john,status:success,transId:245}; 
```

a 中的所有值都应该覆盖 b 中的值，并且不常见的键/值应该出现在输出 json 中。

我尝试了一些递归选项，但很难实现输出。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T11:24:36.717

您的`a`和`b`变量不是有效的 json。

```
<script>
//change your a and b variable to this.
 a={id:123,name:'john',status:'success'}; 
 b={id:123,status:'inprocess',transId:245};
$(document).ready(function(){

  $.extend(a,b);

});
</script> 
```

并将`a`具有类似的结构

```
{
    id: 123
    name: "john"
    status: "inprocess"
    transId: 245

} 
```

我用过 jquery api

# 更新。

没有jQuery

```
 a={id:123,name:'john',status:'success'}; 
   b={id:123,status:'inprocess',transId:245};

  extend(a,b); 
```

其中扩展函数是：

```
 function extend(a, b){
    for(var key in b)
        if(b.hasOwnProperty(key))
            a[key] = b[key];
    return a;
 } 
```

[参考](https://stackoverflow.com/questions/4154712/javascript-extending-an-object-question)1 ,[参考](https://stackoverflow.com/questions/10430279/javascript-object-extending)2 ,[参考 3](https://stackoverflow.com/questions/11197247/javascript-equivalent-of-jquerys-extend-method)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:20:59.287

这很简单

```
for (var p in a)
   b[p] = a[p]; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-05-14T09:29:57.443

```
let x = {
  a: 1,
  b: 2,
  c: 3  
}

let y = {
  c: 4, 
  d: 5,
  e: 6
}

let z = Object.assign(x, y)

console.log(z)

z:
{
  a:1,
  b:2,
  c:4, 
  d:5,
  e:6,
} 
```

---> 注意：对象 z 具有 y 的 c 属性

# android - 在动画其位置后检测哪个视图被点击

> ID：15087673
> 
> 赞同：0
> 
> 时间：2013-02-26T11:16:38.800
> 
> 标签：android, animation, touch, viewgroup, translate-animation

我有一个包含RelativeLayout 的ScrollView。RelativeLayout 包含一些其他视图组，这些视图组最初都位于同一位置（彼此重叠）。向下滑动手势将这些视图组向下推，以便可以通过使用 TranslateAnimation 看到每个视图组的顶部 150 像素（顶部卡片移动到屏幕底部，下一张卡片向下移动 150 像素，等等）。

我为每个视图组附加了一个触摸监听器，它似乎被触发了，但是它只在我点击视图组的原始位置时触发，而不是它被移动到的位置。并且看到它们最初都在彼此之上，无论如何我只能在 OnTouch 方法中获得顶部视图组。

动画后如何让视图实际位于新位置？

代码：

```
private void setViewgroupVerticalPosition(ViewGroup cardViewGroup,
        int position) {
    // Animates the ViewGroup to the correct vertical position.
    TranslateAnimation ta = new TranslateAnimation(0, 0, 0, position);
    ta.setDuration(500);
    ta.setFillAfter(true);
    ta.setAnimationListener(this);
    cardViewGroup.startAnimation(ta);
    /*
    cardViewGroup.layout(cardViewGroup.getLeft(), position, cardViewGroup.getRight(), position + (cardViewGroup.getBottom() - cardViewGroup.getTop()));
    cardViewGroup.forceLayout();
    cardViewGroup.invalidate();
    */
} 
```

在每个 ViewGroup 上运行之后，在原始位置点击是触发 OnTouch 事件的唯一方法......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:10:04.367

根据您正在为您开发的 android 版本，您的动画可能会产生意想不到的结果。[在此处](https://stackoverflow.com/questions/5886624/animation-setfillafter-before-do-they-work-what-are-they-for)查看此问题和回复。请特别注意 Chet Haase 的评论。

# java - Java 应用程序中的 Maven 性能

> ID：15087676
> 
> 赞同：0
> 
> 时间：2013-02-26T11:16:41.133
> 
> 标签：java, maven

我可以看到在任何企业应用程序中使用 Maven 的优势。但是，我的问题是：使用 Maven 可以提高或降低 Java 应用程序的性能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:20:46.170

Maven 不会影响运行时性能。

Maven 主要在开发时用于构建管理、测试和部署。它在应用程序运行时并没有真正的作用（除非在一些不寻常的情况下，例如，如果应用程序正在使用 Maven 来动态下载插件）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:21:22.440

Maven 是一个构建和依赖管理工具，因此与应用程序的性能无关。它可能会影响您的构建时间，但代码的性能更多地取决于代码本身而不是构建。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:21:33.377

Maven 是一个依赖和构建管理框架。

它与您的应用程序无关，除了获取所有依赖项并将应用程序构建为您想要的打包格式（jar/war/ear）

这是一次性工作，发生在 BUILD 阶段，

Applciation PERFORMANCE 与执行阶段有关，Maven 没有任何事情要做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:20:57.867

来到部署时间没有。Maven 是关于开发和构建时间的。一旦你准备好部署，它应该只是一个标准部署，可以由 ant、ivy 或其他任何东西构建。

有些人抱怨它的构建性能和规定性（约定优于配置）。但它得到了广泛的支持和采用（正如存储库和构建的广泛可用性所证明的那样）。

Maven 通过将缺少的依赖项下载到本地存储库来工作。在您的公司中使用存储库可以使团队的此过程显着加快。

# iphone - 如何增加 UIScroll 视图的滚动区域

> ID：15087678
> 
> 赞同：1
> 
> 时间：2013-02-26T11:16:41.787
> 
> 标签：iphone, ios, objective-c, uiscrollview

我有一个包含 5 个图像和一些文本视图的滚动视图。它水平滚动。

现在，当我滚动时，滚动视图的内容会移动到一个区域。
我怎样才能增加这个限制？

我的意思是：我需要在单次滚动时滚动更多。

我已经尝试增加`contentSize`.
它没有达到预期的结果：只有滚动视图的内容增加了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:38:55.357

您可以在滚动视图委托方法中设置滚动视图的 contentoffset 属性

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T11:29:22.757

用代码试试......

```
[scrollView setDecelerationRate:UIScrollViewDecelerationRateFast]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:23:05.713

`viewDidLoad`您可以在方法 ::`scr.contentSize = CGSizeMake(320, 500);`
或任何您想要的高度上尝试它。

否则，您可以在加载所有图像和文本视图后动态设置它。

例如。`float h = [imagesCount * imageHeight] + [textVwCount *textVwHeight] + 100;`

然后设置为`scr.contentSize = CGSizeMake(320, h);`

但请记住，始终将高度值设置为大于 ScrollView 控件的实际大小。

希望它会帮助你。

谢谢。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:55:34.430

尝试这个

在 .h 文件中使用 UIScrollviewdelegate

然后使用

```
-(void)scrollViewDidEndScrollingAnimation:(UIScrollView *)scrollView
{ 
```

在那个函数中使用

```
[scrollview setContentOffset:CGPointMake(scrollview.frame.origin.x+(value u want to scroll more) , 0) animated:TRUE]; 
```

上面的代码将允许你的滚动视图滚动更多

# javascript - 使用 JSF 和 primefaces 通过 JavaScript 将表单数据传递到支持 bean

> ID：15087680
> 
> 赞同：1
> 
> 时间：2013-02-26T11:16:48.873
> 
> 标签：javascript, jsf-2, primefaces

我正在尝试使用采用 Google 提供的地理编码服务的 JavaScript 方法处理几行输入数据，并将处理后的数据放入支持 bean。

用户会看到一个登录页面，他们可以在其中输入他们的地址详细信息。单击提交按钮后，我尝试通过调用 JavaScript 方法对其地址进行地理编码。此方法读取用户输入的数据并将其发送到地理编码服务。此服务需要几毫秒才能完成。一旦完成，我希望将它找到的数据存储在登录页面的支持 bean 中。

以下 JavaScript 函数用于对地址进行地理编码。

```
 function codeAddress() {
        alert('coding address');
        geocoder = new google.maps.Geocoder();
        postcode = document.getElementById('loginForm:address').value;

        geocoder.geocode( { 'address': address}, function(results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
              alert('setting location: '+results[0].geometry.location);
              document.getElementById('loginForm:location').value = results[0].geometry.location;
          } else {
            alert('Geocode was not successful for the following reason: ' + status);
          }
        });
      } 
```

它将其值存储在表单内的隐藏字段中。我不知道这是否是最好的做法，这只是我在很多例子中看到的。我假设设置此组件的值将调用 loginBean 中相应的位置设置器。

```
 <h:inputHidden id="location" value="#{loginBean.location}" /> 
```

我正在尝试使用用于提交表单的按钮来实现这一切。

```
 <p:commandButton id="submitButton" value="login"
            action="#{loginBean.doLogin}"
            styleClass="blue login" update="growl">
                <p:ajax event="click" onstart="codeAddress()" />
        </p:commandButton> 
```

我必须补充一点，我不确定这种结构。按下提交按钮可能会立即加载下一页，甚至没有给 ajax 调用机会。

试图做到这一点给我带来了几个问题。使用上面的代码，JavaScript 函数永远不会被调用。为简单起见，我在页面顶部的脚本标记中声明了此函数。第二个问题是我不清楚将这个值从 JavaScript 方法传递到 loginBean 的最佳方法是什么。我应该在表单中放置一些隐藏标签并将其值标签链接到 loginBean 属性吗？我应该向 ajax 组件添加一个侦听器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:28:43.073

服务的 JavaScript 回调函数应该触发表单提交（成功时）。这样，它总是有时间在提交之前完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T18:18:25.960

我会建议类似：

```
<h:form>
<p:inputText widgetVar="widget_postcode" value="#{backingBean.address}"/>
<p:inputText style="display:none;" widgetVar="widget_geocode" value="#{backingBean.geocode}"/>
<p:commandButton id="submitButton" value="login" type="button" 
            styleClass="blue login" onclick="codeAddress();">
        </p:commandButton>
<p:remoteCommand name="sendData" process="@form" update="growl"/>
</h:form>

function codeAddress() {
    alert('coding address');
    geocoder = new google.maps.Geocoder();
    postcode = widget_postcode.getJQ().val();

    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
          alert('setting location: '+results[0].geometry.location);
         widget_geocode.getJQ().val(results[0].geometry.location);
         sendData();
      } else {
        alert('Geocode was not successful for the following reason: ' + status);
      }
    });
  } 
```

这种方法使用 PF 小部件，而不是依赖可以更改的 ID。

此外，请考虑使用 Google 地址自动完成 API。为此有一个 JSF 组件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T14:20:38.253

我假设你擅长 javascript。

你可以尝试一个技巧。

1.  与命令按钮一起使用简单的 html 按钮，该按钮将可见，命令按钮隐藏在 div 中。
2.  当用户单击简单的 html 按钮执行您的地理定位 ajax 调用时，成功并在更新隐藏字段后，只需调用 javascript 以编程方式单击隐藏的命令按钮。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T14:34:54.680

这`<p:ajax/>`是不必要的，是不调用 javascript 函数的根本原因。完成这项工作的一种快速而肮脏的方法是。摆脱`<p:ajax/>`. `<p:commandButton/>`对于您的用例来说已经足够了。

```
 <p:commandButton id="submitButton" onclick="codeAddress();" value="login" action="#{loginBean.doLogin}" styleClass="blue login" update="growl"/> 
```

您传递变量的模式将起作用，但不是特别有效或安全。

另一种方法是使用 primefaces 的 javascript api，`addSubmitParam`将生成的值作为请求参数发送到支持 bean

```
 function codeAddress() {
    alert('coding address');
    geocoder = new google.maps.Geocoder();
    postcode = document.getElementById('loginForm:address').value;

    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
          alert('setting location: '+results[0].geometry.location);
         PrimeFaces.addSubmitParam(results[0].geometry.location); //addSubmitParam sends a request parameter
      } else {
        alert('Geocode was not successful for the following reason: ' + status);
      }
    });
  } 
```

# javascript - 将视图模型从 JS 传递到控制器？

> ID：15087689
> 
> 赞同：0
> 
> 时间：2013-02-26T11:17:24.363
> 
> 标签：javascript, ajax, asp.net-mvc-4, single-page-application

我有两个类：Person 和 ViewModelPerson。ViewModelPerson 的构造函数有 3 个参数：“Person”和两个整数。

我有一个单独的 JS 文件，我在其中获取一个人的详细信息，然后我需要将详细信息发送到我的控制器中的一个函数，该函数获取一个“ViewModelPerson”参数。

**如何在 JS 中创建“ViewModelPerson”以将其通过 ajax 传递给控制器​​？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:54:49.803

看起来您正在使用**自定义模型绑定器**。

1.  通过实现 IModelBinder（我们将其称为 PersonViewModelCustomBinder）构建自定义模型绑定器，该绑定器将通过从集合中加载人员的属性来创建一个 Person 对象，并使用它来创建 PersonViewModel

2.  使用 PersonViewModelCustomBinder 装饰您的控制器操作，类似于...

    **公共 ActionResult PersonSave([ModelBinder(typeof(PersonViewModelCustomBinder))] PersonViewModel pvm)**

3.  从您的 javascript 函数中，使用 $.ajax 将数据发布到控制器操作

# html - 如何强制 dotnetnuke 渲染到 IE9

> ID：15087698
> 
> 赞同：2
> 
> 时间：2013-02-26T11:17:32.803
> 
> 标签：html, internet-explorer-9, dotnetnuke, ascx

我的 dotnetnuke 网站在 IE9 中看起来不错，但在 IE8 和 IE7 中中断。

我试过元标记：

```
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
```

但如果我把它放在 ascx （第一行）但它没有出现。如果我把它放在页面设置 - 标签中，它会显示在标题的底部。所以它也不能那样工作，如何将标签放在顶部或有其他方法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T22:53:50.847

您可以使用一些代码来添加指令。在您的皮肤中（或者，在每个皮肤控件引用的控件中），添加以下内容：

```
<script runat="server">
    private void Page_PreRender(object sender, EventArgs e)
    {
        var meta = new HtmlMeta();
        meta.Content = "IE=edge";
        meta.HttpEquiv = "X-UA-Compatible";
        this.Page.Header.Controls.AddAt(0, meta);
    }
</script> 
```

这要求在[Control 指令](http://msdn.microsoft.com/en-us/library/d19c0t4b%28v=vs.100%29.aspx)`AutoEventWireup`中为真。否则，您还需要覆盖或类似的东西来手动连接事件。`OnInit`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T21:12:02.290

我不建议这样做，但您可能需要将其添加到网站根目录中的 default.aspx 中，如果您这样做，则需要记住在将来升级 DNN 时再次执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-24T18:38:39.697

我以前从未见过这样做，但这是在使用 IE 9 时模拟 IE 8/7 的方式：

```
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9"> 
```

如果没有，那么试试这个：

```
<meta http-equiv="X-UA-Compatible" content="IE=9"> 
```

将这些与其他元标记一起添加到您的标题中。这应该强制 IE10 呈现为 IE9。

# image - 将图像批量转换为二进制字符串

> ID：15087701
> 
> 赞同：1
> 
> 时间：2013-02-26T11:17:39.013
> 
> 标签：image, encoding, binary, adobe, extendscript

我正在尝试将图像批量转换为二进制字符串以在 Adob​​e ExtendScript 面板中使用。我想要得到的结果是一个如下所示的字符串：

```
\u0089PNG\r\n\x1A\n\x00\x00\x00\rIHDR\x00\x00\x00\x0F\x00\x00\x00\x0F\b\x06\x00\x00\x00;\u00D6\u0095J\x00\x00\x00IIDAT(\u0091c`\x18~ --\u00ED?\x0E\u00BC\u009F\x18\u00CD\r8p\x026\u00C5\x06@\u00EC@\x046 \u00C5\u0099\u0084\u009D\r\x14,\u00C0\u00E3T\u00FC\u00CE&\u00C1\x10\u00BC\u009AIw6\u0092f\u00D2\x02\f\u00E4\x14\"\u00FD\u008B\u00E9l\u0090S(\nm\u00BA\x02\x00\u009Dp\u00B2N\u00F1d\x1D\u00FD\x00\x00\x00\x00IEND\u00AEB`\u0082 
```

但是我的代码生成了这个：

```
c289 504e 470d 1a0d 0000 000d 4948 4452
0000 000f 0000 000f 0806 0000 003b c396
c295 4a00 0000 4949 4441 5428 c291 6360
187e 202d 2dc3 ad3f 0ec2 bcc2 9f18 c38d
0d38 7002 36c3 8506 40c3 ac40 0436 20c3
85c2 99c2 84c2 9d0d 142c c380 c3a3 54c3
bcc3 8e26 c381 10c2 bcc2 9a49 7736 c292
66c3 9202 0cc3 a414 22c3 bdc2 8bc3 a96c
c290 5328 0d6d c2ba 0200 c29d 70c2 b24e
c3b1 641d c3bd 0000 0000 4945 4e44 c2ae
4260 c282 
```

我该怎么做才能得到像第一个字符串一样的东西？这是我的代码（adobe 扩展脚本）。如果有人有不同语言的解决方案，我也会接受。

```
var allImages = loadFiles("*.png");// load files is my own function

if(allImages == null) return;
var folder = allImages[0].parent;
for(var i = 0; i < allImages.length;i++){
        var curfile = File (allImages[i]);

        curfile.open ('r');
        curfile.encoding = 'BINARY';
        var str = curfile.read();
        curfile.close();

        var newfile = new File (folder.fsName + '/' + curfile.name + '.txt');
        newfile.open('w');
        newfile.encoding = 'UTF-8';
        newfile.write(str);
        newfile.close();
    } // end loop i 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:00:03.853

也许您应该将图像转换为 Base64。

这是stackoverflow上关于该选项的两个线程。我发现第二个答案更有趣。

[如何使用 Javascript 编码为 Base64？](https://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript#246813)

[JSON 编码/解码 JavaScript 中的 base64 编码/解码](https://stackoverflow.com/questions/4665049/json-encode-decode-base64-encode-decode-in-javascript)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:18:59.650

我只需要将文件内容写入到Source()。

```
var allImages = loadFiles("*.png");// load files is my own function

if(allImages == null) return;
var folder = allImages[0].parent;
for(var i = 0; i < allImages.length;i++){
    var curfile = File (allImages[i]);

    curfile.open ('r');
    curfile.encoding = 'BINARY';
    var str = curfile.read();
    curfile.close();

    var newfile = new File (folder.fsName + '/' + curfile.name + '.txt');
    newfile.open('w');
    newfile.encoding = 'UTF-8';
    newfile.write(str.Source()); // <-- Thats the trick
    newfile.close();
} // end loop i 
```

## 这将产生一个包含此内容的文件。

```
(new String("\u0089PNG\r\n\x1A\n\x00\x00\x00\rIHDR\x00\x00\x00\x1E\x00\x00\x00\x19\b\x06\x00\x00\x00&5\u009E\x1A\x00\x00\x00\u008DIDATx\u00DA\u00ED\u00D2\u00BB\r\u00C0 \fE\u00D1\f\u00C9\x00\u00B4H\u00F44\x14)\u00A0\u00A0\u00A1c\x00f`@Go\x01>r$+\u0091\u008B\u00DB\u00D9\x1C\u00C5\u00CA\u00E5\u009C\u00BB%\x02L\x12)\u00AC\u00B0<\\J\u00A11\u00C6,\u00CC\u0088\u00C1?8u\u00CE\u0099j\u00AD'a\u0087\x0F\u00F7\u00DEq\u00C6\u0093\u00B0\u00C3\u0087C\b\x14c<\t;k\u00D8\x18C;Yk\u00C9{?\r3\u009B\u00EF\u00ED\u00C3)\u00A5\u00D5\u00891\u00F3:\u008C/\u00C2\u00C3\u00B30\u00C3\u0084\u00F9\u00F1\u00E1\u00D6\u00DA\u00E9_\u008D\u009D\u00AF\u00C1\u00FC\x14VX\x0E~\x00i\u0096r%\u00B0\u00FF\x1E\x14\x00\x00\x00\x00IEND\u00AEB`\u0082")) 
```

# javascript - JSON.stringify 一个带有 Knockout JS 变量的对象

> ID：15087710
> 
> 赞同：19
> 
> 时间：2013-02-26T11:18:03.020
> 
> 标签：javascript, json, knockout.js

当前情景：

```
function Employee(data) {
var self = this;

// variables
this.Forename = ko.observable(data.Forename);
this.Surname = ko.observable(data.Surname);

this.Save = function () {
    var obj = JSON.stringify(self); // Without ko.observables, this works fine. self() doesn't work obviously.
    console.log(obj);
};
} 
```

我认为我正在尝试做的事情非常简单，获取所有可观察值而无需遍历每一个值，并使用 stringify 函数创建一个 JSON 字符串。这很容易在没有 observables 的情况下做到，有没有一种简单的方法可以用它们来做到这一点？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-02-26T11:24:07.570

Knockout 有一个内置的[toJSON](http://knockoutjs.com/documentation/json-data.html)函数可以做到这一点：

```
var json = ko.toJSON(viewModel); 
```

> **ko.toJSON** — 这会生成一个 JSON 字符串，代表您的视图模型的数据。在内部，它只是在视图模型上调用 ko.toJS，然后在结果上使用浏览器的原生 JSON 序列化程序。**注意：要在没有原生 JSON 序列化程序的旧浏览器（例如，IE 7 或更早版本）上运行，您还必须引用 json2.js 库。**

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T11:29:04.810

您可以通过 2 种方式做到这一点：

第一的：

```
 var json = ko.toJSON(ko.mapping.toJS(viewModel)) 
```

第二

```
 var json = JSON.stringify(ko.mapping.toJS(viewModel)) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-26T11:19:21.453

你看过[淘汰赛映射插件](http://knockoutjs.com/documentation/plugins-mapping.html)吗？

```
var unmapped = ko.mapping.toJS(viewModel); 
```

# jquery - Jquery：浏览器调整大小时的动态图像宽度和高度

> ID：15087719
> 
> 赞同：0
> 
> 时间：2013-02-26T11:18:35.813
> 
> 标签：jquery

我有一张我想适合浏览器窗口的图像。宽度和高度不应大于窗口的宽度和高度。

我制作了一个适用于宽度但不适用于高度的函数。

[查看我的 JS BIN](http://jsbin.com/ugiher/1/edit)并从右到左上下拖动浏览器窗口，比例不对

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:52:45.593

您的 jQuery 代码`$("#book li img")`将不起作用，因为`li`您的`ul`元素内部没有。

我希望这就是你要找的

**[工作小提琴](http://jsbin.com/uyuziv/2/edit)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:24:54.853

尝试

CSS：

```
img { 
    max-width: 100%;
    max-height: 100%;
} 
```

如果放置图像的容器小于图像，这将使图像变小。

UL-Element 需要 LI-Child-elements。

# java - 如何在 DockLayoutPanel 中显示和隐藏小部件？

> ID：15087722
> 
> 赞同：1
> 
> 时间：2013-02-26T11:18:43.250
> 
> 标签：java, gwt

我有以下布局并希望动态显示和隐藏西面板：

```
<g:DockLayoutPanel ui:field="dock">
 <g:west><g:Label text="west" ui:field="west"/></g:west>
 <g:east><g:ToggleButton text="toggle"/></g:east>
 <g:center>center</g:center>
</g:DockLayoutPanel> 
```

对于显示/隐藏，我定义了一个切换按钮。它执行：

```
@UiField
Label west;

@UiField
DockLayoutPanel dock;

    dock.remove(west);
    //or
    dock.addWest(west); 
```

我想将内容保留在中心元素中。当我隐藏`west`时，一切正常，`center`内容会相应地调整大小以占用可用空间。当我再次点击`ToggleButton`并执行该`addWest()`方法时，我得到以下异常：

```
com.google.gwt.event.shared.UmbrellaException: Exception caught: No widget may be added after the CENTER widget 
```

如何再次添加/显示西方内容，并使中心内容相应地调整大小？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T11:24:16.130

您可以使用 api [setWidgetHidden()](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/client/ui/DockLayoutPanel.html#setWidgetHidden%28com.google.gwt.user.client.ui.Widget,%20boolean%29)隐藏停靠面板中的任何子项。此 api 可从 gwt 2.5 版本获得。

# ruby-on-rails - 没有数据库表的rails下拉菜单关联....

> ID：15087723
> 
> 赞同：0
> 
> 时间：2013-02-26T11:18:42.777
> 
> 标签：ruby-on-rails, drop-down-menu, associations, rails-activerecord

尊敬的人...

我有这些模型：

```
class SanctionedPost < ActiveRecord::Base
  attr_accessible :hospital_id, :sanctioned_posts, :designation_id

  column :district_id
  belongs_to:designation
  belongs_to:hospital
  belongs_to:district
  belongs_to:division
end

class Hospital < ActiveRecord::Base
  attr_accessible  :beds, :fax_no, :hospital_name, :phone_no, :district_id, :institution_type_id, :location_id, :division_id, :block_id, :hospital_type_id, :IsAdministrativeLocation, :IsTribal, :latitude, :longitude

  belongs_to:district
  belongs_to:division
  belongs_to:block
  has_many:sanctioned_posts

end

class Division < ActiveRecord::Base
  attr_accessible :division_name, :state_id

  has_many:health_dept_locations
  belongs_to:state
  has_many:districts
  has_many:hospitals

  has_many:sanctioned_posts

  validates_associated :districts
end 
```

我希望能够在我的 sanctioned_posts 中创建下拉列表，以便部门缩小区域，缩小街区，缩小医院......（这样我就不必从一百万家医院中选择......）.. .

我已经尝试了[http://railscasts.com/episodes/88-dynamic-select-menus-revised](http://railscasts.com/episodes/88-dynamic-select-menus-revised)和[http://railscasts.com/episodes/193-tableless-model](http://railscasts.com/episodes/193-tableless-model)的所有内容，但仍然无济于事......

=====================================

我使用简单的表格...这使我能够为医院创建表格完成类似的任务...

```
<%= f.association :division,label_method: :division_name, value_method: :id, include_blank: false%>

  <%= f.input :district_id do %>
      <%= f.grouped_collection_select :district_id, Division.order(:division_name), :districts, :division_name, :id, :district_name, include_blank: true, label: 'District'  %>
  <% end %>

  <%= f.input :block_id do %>
      <%= f.grouped_collection_select :block_id, District.order(:district_name), :blocks, :district_name, :id, :block_name, include_blank: true, label: 'Block' %>
  <% end %> 
```

（+随附的咖啡脚本...）

但在我目前的情况下，我无法做同样的事情......因为我没有在 sanctioned_posts 模型中存储部门、地区、块 id ......但我相信 hospital_id 在这种情况下会有所帮助......

非常提前:) ...

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T02:19:31.530

为什么不使用 CoffeeScript 和 JQuery 在 index 方法上执行 REST 请求，您可以相应地配置您的路由？示例：国家有学校，学校有学生

州有_很多学校，学校有_很多学生

选择伊利诺伊州的第一个州。伊利诺伊州的 ID 为 11

获取对 /states/11/schools.json 的请求

```
SchoolsController < ApplicationController
  responds_to :json

  def index
    states = State.find(params[:id})
    respond_with states.schools
  end
end 
```

# java - 如何创建由多个图像组成的位图？

> ID：15087724
> 
> 赞同：0
> 
> 时间：2013-02-26T11:18:51.013
> 
> 标签：java, android, bitmap

我有几张图片，我知道它们的位置和大小...如何将我的图片放在一个 ImageView 中？（如下图所示）

![在此处输入图像描述](../Images/1a0286c8c13ee5f9b1b0a40970b6f80b.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:25:03.353

你有两个选择：

1.  创建一个相对布局，包括 4 个图像视图并为每个位图设置一个图像
2.  这有点复杂，用于`Bitmap.createBitmap(int width, int height, Bitmap.Config config);`创建具有所需大小的可变位图，创建新画布以`new Canvas(bitmap);`在该位图中创建画布，并用于`canvas.drawBitmap(...)`将 4 个位图绘制到最后一个。

# jquery - 通过 jQuery 更改 div:after 边框右颜色

> ID：15087736
> 
> 赞同：4
> 
> 时间：2013-02-26T11:19:31.690
> 
> 标签：jquery, css, ajax

如何将边框右颜色更改为类：之后

这个css很正常

```
.profile-options a div:after {
border-color: transparent #999999 transparent transparent;
border-style: solid;
border-width: 18px;
content: "";
display: block;
left: -15px;
margin-top: -33px;
position: absolute;
z-index: 999;} 
```

当 jquery 选择时，我需要将 #999999 设置为 #333333

我试过了，但似乎不起作用

```
$(".profile-options a div:after").css({"borderRightColor":"#999"});
$(".yourOptions1:after").css({"borderRightColor":"#333"}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T12:13:38.030

您可以使用`styleSheets`.

假设您有一个样式表，并且该规则是第一条规则，那么您需要做的就是：

```
document.styleSheets[0].cssRules[0].style.borderRightColor="#333333"; 
```

[**关于样式表、添加、删除、更改、IE 和其他浏览器的所有信息**](http://www.javascriptkit.com/domref/stylesheet.shtml)

使用 styleSheets 还允许您添加有关伪元素的 css 规则。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-12T10:30:36.330

您不能使用 JQuery 更改 (:after) 的样式。但是您可以通过在您使用的 DIV 之后在 HTML 中插入 DIV 来解决它，然后您可以使用 JQuery 处理它

```
<div class="mydiv_1"></div> <div class="after_div"></div>
<div class="mydiv_2"></div>  <div class="after_div"></div> 
```

# android - 是什么导致在某些时间间隔内 GPS 估计不稳定？

> ID：15087738
> 
> 赞同：2
> 
> 时间：2013-02-26T11:19:34.893
> 
> 标签：android, gps

我一直在开发位置跟踪应用程序并主要在运行 Android 1.6 的 HTC G1 上对其进行测试。我发现有一定的时间间隔——大约 1-2 小时——当记录的 GPS 位置变得非常不稳定时：我最终得到的点看起来像是在我的实际位置周围随机分布，而不是紧密地聚集在一起在通常的 10-50 米范围内（我使用最小精度来记录这些位置），它们以大约 1-5 公里的半径散开——即使这些位置中的每一个都带有报告精度低于 50 米。

就好像在这些时期实际位置准确度在膨胀，但报告的准确度保持不变。这种情况比较少见，当它发生时只持续几个小时，之后一切又恢复正常。因为它很少见，而且我通常也在修补应用程序的过程中，所以我很难排除这是由我的代码中的错误引起的可能性。

有没有其他人经历过这个？是否存在可能导致它的已知硬件或固件问题？如果是这样，是否有人有一个很好的方法可以在问题发生时检测到问题并纠正报告的准确度值？我假设一种选择是依赖 NMEA 语句，但我希望能够在 Android API 级别 4 上运行该应用程序，并且我看到 GpsStatus.NmeaListener 需要 5 或更高版本。

我真的很感激任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T18:29:22.920

GPS接收器绝不应该发生1-5公里的偏差。
如果发生这种情况，则看起来备用位置服务处于活动状态，例如手机信号塔位置和 wifi 位置。

如果你想要一个精确的位置，你应该过滤掉所有非 GPS 的位置。
当设备移动时，可以检测到 GPS 位置具有指定的速度和航向（方位）。
（我不确定检查高度是否有帮助）

线条图案来自于新 GPS 卫星进入视野而其他卫星离开视野的情况。几何卫星星座的新情况可能会更糟。
这个新星座也可以称为所谓的多路径效应（GPS 信号在对面建筑物的反射）

我希望你不要在室内进行测量，（GPS 不能可靠工作的地方）

# java - 使用 JoinTable ID 生成休眠 OneToMany

> ID：15087744
> 
> 赞同：1
> 
> 时间：2013-02-26T11:19:48.180
> 
> 标签：java, hibernate, hibernate-annotations

有人可以帮我在休眠中为以下情况设置适当的注释：

我有三张桌子：

帐户、卡和帐户卡。

AccountCard 是卡和帐户之间的 OneToMany 关系的连接表（帐户有很多卡，卡只附加到一个帐户）。

我需要添加到帐户列表卡属性和卡模型帐户帐户属性。这是容易的事。

问题是我在使用卡持久化帐户时收到“无法向 AccountCard.id 插入空值”。另外我需要使用序列来生成加入表的 ID，但不知道如何。

任何帮助将不胜感激。

这是卡片中的代码：

```
@ManyToOne(fetch = FetchType.LAZY)
@JoinTable(name = "account_card", joinColumns = @JoinColumn(name = "crd_id"), inverseJoinColumns = @JoinColumn(name = "acc_id"))
private Account account; 
```

我不想在 Account 类中有一个映射，所以不会添加 List 卡。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:20:14.163

在您的`@JoinTable`注释中，我看到了对`account_name`表格的引用，而不是`AccountCard`. 真的有`AccountCard`桌子吗？

连接表通常不需要它自己的 id 键，如果你有休眠自动生成表 DDL，它不会包含一个。

如果您确实需要连接表上的 id，我认为没有办法或需要让 hibernate 意识到它，但您应该`NOT NULL AUTO_INCREMENT`在 SQL DDL 中创建该列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:25:05.477

您是否尝试首先在数据库中生成表（在我的情况下为 mysql），然后使用像 nebans 这样的 ide 创建实体？mysql 中的自动递增 id 列然后以：

```
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
@Basic(optional = false)
@Column(name = "ID")
private Integer id; 
```

查看[http://netbeans.org/kb/docs/javaee/ecommerce/entity-session.html](http://netbeans.org/kb/docs/javaee/ecommerce/entity-session.html)了解如何使用 netbeans 从数据库创建实体的示例

# pyqt4 - QT4Reactor / Scrapy / PyQt4

> ID：15087746
> 
> 赞同：1
> 
> 时间：2013-02-26T11:19:52.053
> 
> 标签：pyqt4, scrapy, qeventloop

**如何正确使用 Qt4Reactor？**

我有一个运行 Scrapy 的 PyQt4 应用程序来解析网站并在 ui 中显示结果。

当用户单击一个按钮时，刮板将在另一个进程中启动。ui 块和刮板正在运行。刮板完成后，数据显示在ui中。我想要的是 Scrapy 运行时的非阻塞 ui。

由于 Scrapy 是建立在 twisted 之上的，因此我必须使用新**进程**而不是**线程**来从 ui 启动它。

**我的问题是如何尽可能简单地实现非阻塞用户界面？**

我尝试像这样使用 Qt4Reactor：

```
if __name__ == "__main__":

    app = QtGui.QApplication(sys.argv)

    import qt4reactor
    qt4reactor.install()

    MainWindow = DiscogsRenamer()
    MainWindow.show()

    sys.exit(app.exec_())
    reactor.runReturn() 
```

这会导致错误：

```
Traceback (most recent call last):
    File "/home/f/work/py/discogs_renamer/main.py", line 224, in <module>
        qt4reactor.install()
    File "/usr/local/lib/python2.7/dist-packages/qt4reactor.py", line 338, in posixinstall
        installReactor(p)
    File "/usr/local/lib/python2.7/dist-packages/twisted/internet/main.py", line 32, in installReactor
        raise error.ReactorAlreadyInstalledError("reactor already installed")
twisted.internet.error.ReactorAlreadyInstalledError: reactor already installed 
```

我向这个主题发布了另一个问题： [Integrate Scrapy/Twisted event loop in PyQt4 Main loop](https://stackoverflow.com/questions/15042784/integrate-scrapy-twisted-event-loop-in-pyqt4-main-loop)

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-18T14:21:34.760

您必须先导入并 install() qt4reactor **，然后再**导入`twisted.internet.reactor`.

```
import qt4reactor
qt4reactor.install()
from twisted.internet import reactor 
```

# javascript - 添加函数库

> ID：15087748
> 
> 赞同：0
> 
> 时间：2013-02-26T11:20:04.960
> 
> 标签：javascript, jquery, html, fancybox, fancybox-2

```
$(".fancybox").fancybox(); 
```

HTML是这样的：

```
<img src="img/team/max.jpg" alt="max" class="kat"/>
<ul class="referenzen">
    <li>

        <a class="fancybox" data-title-id="title-1" href="img/logo.jpg">
            <img src="img/logo.jpg" alt=""/>
        </a>
        <a class="fancybox" data-title-id="title-2" href="img/logo.jpg">
            <img src="img/logo.jpg" alt=""/>
            </a>
    </li>

</ul> 
```

如果我单击 img class="kat"，fancybox 应该以 a 标签元素开头。而不是 class="kat" 元素。

有谁能够帮助我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:44:37.707

我不确定我是否理解您的要求，但是这样的事情怎么样：为第一个图像注册一个事件处理程序并模拟对第一个 fancyboxed-image 的单击：

```
$('img.kat').click(function() {
    $(this).next().find('.fancybox:first').click();
}); 
```

# javascript - 如何让网页在移动设备上保持活力？

> ID：15087751
> 
> 赞同：1
> 
> 时间：2013-02-26T11:20:15.947
> 
> 标签：javascript, ios, html

我有一个非常基本的 HTML5 页面设置供离线使用，它告诉我何时离线以及何时在线。

我添加了位置跟踪来记录设备运行时的位置：

```
function getLocation() {            
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(success, error);
    } else {
      alert('geolocation not supported');
    }
    setTimeout(function() { getLocation(); },5000);  // calls itself every 5 seconds
} 
```

这似乎工作得很好，但是有一个小问题。

在桌面浏览器上，您可以最小化页面并且位置会被记录下来。

在移动设备（即 iOS）上，当您最小化浏览器时，它会暂停，即不再记录该位置。

有没有办法强制网页在移动设备上“保持活跃”？我知道应用程序有类似的功能，您可以返回主屏幕并且应用程序继续运行。

如您所见，这不是“会话丢失”问题，它只是页面上的所有脚本在未查看网页时停止。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:22:58.633

您不能强制页面保持活动状态 - 这是您无法控制的，因为操作系统会暂停或删除浏览器以节省资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-08-05T04:47:27.760

您可以尝试循环播放音频文件并播放它，这将有助于浏览器永远在后台运行。

# c++ - 八进制常数错误 (libusb)

> ID：15087753
> 
> 赞同：0
> 
> 时间：2013-02-26T11:20:19.053
> 
> 标签：c++, ubuntu, usb, libusb

我正在运行 Ubuntu 12.04 编译具有以下代码的 c++ 文件

```
#include <iostream>
#include <libusb-1.0/libusb.h>

using namespace std;

int main(){
    //pointer to pointer of device used to retrieve a list of devices
    libusb_device **devs;
    libusb_device_handle *dev_handle; //a device handle
    libusb_context *ctx = NULL; //A LIBUSB session
    int r;// for return values
    ssize_t cnt; //holding number of devices in list
    r = libusb_init(&ctx); // initialize the library for the session we just declared

    if(r < 0){
        cout <<"init error "<<r<< endl;
        return 1;
    }

    libusb_set_debug(ctx, 3); // set verbosity level to 3, as suggested in the documentation
    cnt = libusb_get_device_list(ctx, &devs); //get the list of devices

    if (cnt < 0) {
        cout <<"Get Device Error "<< endl; // there was an error
        return 1;
    }

    cout << cnt <<" Device in list " << endl;
    //dev_handle = libusb_open_device_with_vid_pid(ctx, 0951, 1689); // these are vendor id and product id   //simon's usb(duracell)1516:1213
    dev_handle = libusb_open_device_with_vid_pid(ctx, 0951, 1689); //these are vendorID and productID I found for my usb device

    if (dev_handle == NULL){
        cout <<"Cannot open device "<< endl;
    }else{
        cout << "Device opened" << endl;
    }

    libusb_free_device_list(devs, 1);// free the list unref the devices in it

    unsigned char *data = new unsigned char[4];//data to write
    data[0] = 'a'; data[1] = 'b'; data[2] = 'c'; data[3] = 'd';//some dummy values

    int actual; //used to find how many bytes were written

    if (libusb_kernel_driver_active(dev_handle, 0) == 1){// findout if kernal driver attached
        cout << "Kernal Driver Active" << endl;
        if (libusb_detach_kernel_driver(dev_handle, 0) == 0 ){  //detach it
            cout<< "Kernal Driver Detached" << endl;
        }
    }

    r = libusb_claim_interface(dev_handle, 0);// claim interface 0 (the first) of devices

    if(r < 0){
        cout <<"Cannot claim interface "<<endl;
        return 1;
    }

    cout <<"Claimed interface "<<endl;

    cout<<"data->"<<data<<"<-"<<endl; // just to see the data we want to write : abcd
    cout<<"Writing data..."<<endl;

    r = libusb_bulk_transfer(dev_handle, (2 | LIBUSB_ENDPOINT_OUT), data, 4, &actual, 0);//my device's out endpoint was 2, found withe trial - the device had two endpoints: 2 and 129

    if(r == 0 && actual == 4){  // we wrote 4 bytes successfully
        cout<<"Writing successfull"<<endl;
    }else{
        cout<<"write error"<<endl;
    }

    r = libusb_release_interface(dev_handle, 0); // release the claimed interface

    if(r!=0) {
        cout<<"Cannot Release Interface"<<endl;
        return 1;
    }
    cout<<"Released interface"<<endl;
    libusb_close(dev_handle); // close the device we opened
    libusb_exit(ctx); // need to be called to end the

    delete[] data;// delete the allocated memory for data
    return 0;
} 
```

但是当我使用以下命令行编译上述代码时（这些是我的 USB 的产品 ID 和供应商 ID）

```
dev_handle = libusb_open_device_with_vid_pid(ctx, 0951, 1689); 
```

编译器抛出以下错误

```
transfer_data_libusb.cpp:30:55: error: invalid digit "9" in octal constant 
```

有人建议我删除前导零，即（“951”而不是“0951”）但是当我这样做时，文件被成功编译，但是当我运行编译版本时，这会引发以下错误

```
7 Device in list 
Cannot open device 
Segmentation fault (core dumped) 
```

不知道我该怎么办你能帮忙顺便说一句我使用下面的命令来编译上面的代码

```
g++ transfer_data_libusb.cpp $(pkg-config --libs libusb-1.0) -o transfer_data_libusb 
```

非常感谢你的时间

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:23:02.350

你的号码可能是十六进制的。采用：

```
0x951 
```

而不是你的`0951`.

和：

```
0x1689 
```

而不是你的`1689`.

如果您看到其他数字（我假设它是您的产品）：

[http://usbspeed.nirsoft.net/?g=32gb](http://usbspeed.nirsoft.net/?g=32gb)

他们必须`a`是`f`字符，所以这意味着格式应该是十六进制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:25:00.403

当您的通话失败时

```
dev_handle = libusb_open_device_with_vid_pid(ctx, 0951, 1689); 
```

`dev_handle`将为 NULL。

```
if (dev_handle == NULL){
    cout <<"Cannot open device "<< endl;
    //treat error here and quit 
```

那时你需要停止操作`dev_handle`。

# asp.net-mvc-4 - 当整个应用程序使用 Windows Authenticaion 时，在单个控制器上的 MVC4 中使用匿名身份验证

> ID：15087755
> 
> 赞同：22
> 
> 时间：2013-02-26T11:20:32.577
> 
> 标签：asp.net-mvc-4, windows-authentication

我有一个使用 Windows 身份验证的 MVC4 Web 应用程序，它位于我的 web.config 中，
`<authentication mode="Windows" />` 并且工作正常，一切正常。

但是现在我需要一个控制器（实际上是一个 Web API 控制器），它应该可以从第三方组件匿名访问。问题是每次我想调用此方法时，它都会请求用户凭据。

我尝试将`AllowAnonymous`属性放入控制器和方法，但没有成功。

`[AllowAnonymous] public bool Get(string Called, string Calling, string CallID, int direction)`

我在启用匿名身份验证和 Windows 身份验证的情况下检查了 IIS Express 和 IIS 8。

似乎 Windows 身份验证先于任何其他身份验证，并且不能被覆盖。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-18T20:59:51.317

将此添加到您的 Web.config。在这里，我的控制器被命名为“WebhookController”。

```
<location path="Webhook">
  <system.web>
    <authorization>
      <allow users="*"/>
    </authorization>
  </system.web>
</location> 
```

[有关更多信息，请参阅此知识库文章。](http://support.microsoft.com/kb/316871)

**编辑** - 正如 Erik 下面提到的，在 MVC 应用程序中，您不应该使用 web.config`<authorization>`标签来保证安全。相反，使用`[Authorize]`属性。这样做将使您的`[AllowAnonymous]`属性正常工作。[您可以在此处阅读有关此内容的更多信息。](http://weblogs.asp.net/jongalloway/asp-net-mvc-authentication-global-authentication-and-allow-anonymous)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-12-22T19:23:57.917

接受的答案似乎已过时，所以...

在您的 web.config 中，删除这些行：

```
<authorization>
  <deny users="?" />
</authorization> 
```

在解决方案资源管理器中，单击您的项目，然后单击 f4（或打开属性资源管理器）。启用匿名身份验证。

现在您可以自由使用`Authorize`和`AllowAnonymous`属性了。它们非常简单，`Authorize`意味着用户需要获得授权才能访问操作或控制器，`AllowAnonymous`反之亦然。如果未经授权的用户尝试使用该`Authorize`属性访问控制器或操作，他们将被重定向到登录页面。如果您戴上`Authorize`控制器，它将适用于控制器的所有操作，除了带有`AllowAnonymous`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-02-13T16:26:12.483

`web.config`不应按[此处](https://blogs.msdn.microsoft.com/rickandy/2012/03/23/securing-your-asp-net-mvc-4-app-and-the-new-allowanonymous-attribute/)所示触摸。

为了达到预期的结果`AllowAnonymous`，并且`[Authorize]`（如果需要，可能还有一些自定义授权属性）应该被使用。

要执行的步骤：

1.  确保 IIS为 Web 应用程序/网站配置了*匿名身份验证*和*Windows 身份验证*

2.  所有控制器都应该使用`[Authorize]`属性。如果都继承自一个通用控制器类（例如 BaseController / BaseApiController），这可以很容易地实现。例如：

    ```
    [Authorize]
    public class BaseController : System.Web.Mvc.Controller
    {

    }

    [Authorize]
    public class BaseApiController : System.Web.Http.ApiController
    {

    } 
    ```

3.  `[AllowAnonymous]`为所有应该是匿名的操作添加属性。例如：

    ```
    [RoutePrefix("Api/Anonymous")]
    [Authorize]
    public class AnonymousController : ApiController
    {
        [HttpGet]
        [Route("GetServiceStatus")]
        [AllowAnonymous]
        public string GetServiceStatus()
        {
            return "OK";
        }
    } 
    ```

# java - Mysql-Java 批量插入处理内存不足错误

> ID：15087756
> 
> 赞同：1
> 
> 时间：2013-02-26T11:20:31.893
> 
> 标签：java, mysql

我想问一下，`OutOfMemoryError`在做批量插入时处理是否正常？

我正在使用以下代码在 mysql 中批量插入：

```
try
{
    Connection con = null;
    PreparedStatement ps = null;

    con = Manager.getInstance().getConnection();
    ps = con.prepareStatement("INSERT INTO" + 
    " movie_release_date_pushed_to_subscriber"
    + "(movie_id,cinema_id,msisdn,sent_timestamp)VALUES(?,?,?,?)");

    for (String msisdn : subscriberBatch)
    {
        try
        {
            ps.setInt(1, movieToBeReleased.getMovieId());
            ps.setInt(2, movieToBeReleased.getCinemaId());
            ps.setString(3, msisdn);
            ps.setTimestamp(4, new java.sql.Timestamp(new Date().getTime()));
            ps.addBatch();
        }
        catch (OutOfMemoryError oome)
        {
            ....
            ps.executeBatch();
        }
    }

    ps.executeBatch();
}
catch (Throwable e)
{
    ....
}
finally
{
    try
    {
        Manager.getInstance().close(ps);
        if (con != null)
        {
            con.close();
        }
    }
    catch (Throwable e)
    {
        ....
    }
} 
```

**注意：**欢迎任何形式的建议/推荐，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T11:25:32.190

不，它*不*正常。而且您的捕获处理程序完全无效。捕获 OOME 并不能奇迹般地解决其根本原因——程序内存耗尽。在运行时尽最大努力回收内存并失败*后*，您会收到该错误。此时您不应该尝试执行代码，您甚至可能无法记录消息！

如果您出于某种原因觉得您的批处理语句可能会导致 OOME，那么您应该：

*   将批处理周期分解为更小的“桶”
*   为程序提供更多内存

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T11:27:53.953

如果你得到一个`OutOfMemoryError`. 但是，您可以将`INSERT`查询替换`INSERT IGNORE INTO`为 OOME，如果出现 OOME，请要求用户在重新启动 JVM 后再次运行批处理。

如果`INSERT IGNORE INTO`主键已经存在于表中，则不会运行插入，因此您的批处理将从应用程序崩溃的位置恢复。

但是，我将不得不警告您，这可能是规避这种情况的一种非常肮脏的方式。

# sql - 如何在sql中为给定日期范围创建月份名称作为列名？

> ID：15087767
> 
> 赞同：0
> 
> 时间：2013-02-26T11:20:55.387
> 
> 标签：sql, sql-server

我有一个数据如下：

桌子

* * *

```
country     date                value       
------------------------------------------------------
test1       5/1/2008            500
test1       5/7/2008            200 
test1       5/8/2008            300
test1       7/1/2008            100
test1       7/2/2008            100
test2       6/1/2008            100 
```

我想要一个如下的结果：

```
 Result
-----------
countryName          May-08         Jun-08      July-08
test1                1000             -          200
test2                 -              100 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:02:44.100

这是改编自[T-SQL Pivot？从行值创建表列的可能性](https://stackoverflow.com/questions/2922797/t-sql-pivot-possibility-of-creating-table-columns-from-row-values)

你可以看到它在这里工作：[http ://sqlfiddle.com/#!3/7b8c0/28](http://sqlfiddle.com/#!3/7b8c0/28)

我认为您可能需要摆弄列顺序

```
-- Static PIVOT
SELECT *
FROM (SELECT country,
      CONVERT(char(3), date, 0) + '-' +  
      RIGHT(CONVERT(varchar, YEAR(date)), 2) AS date,
      value
FROM country) AS D
PIVOT(SUM(value) FOR date IN([May-08],[Jun-08],[Jul-08])) AS P;
GO

-- Dynamic PIVOT
DECLARE @T AS TABLE(y INT NOT NULL PRIMARY KEY);

DECLARE 
@cols AS NVARCHAR(MAX),
@y    AS INT,
@sql  AS NVARCHAR(MAX)

SELECT @cols = STUFF(
(SELECT N',' + QUOTENAME(y) AS [text()]
FROM (SELECT DISTINCT CONVERT(char(3), date, 0) + '-' +  
      RIGHT(CONVERT(varchar, YEAR(date)), 2) AS y 
      FROM Country
     ) AS Y
ORDER BY y desc
FOR XML PATH('')),
1, 1, N'')

-- Construct the full T-SQL statement
-- and execute dynamically
SET @sql = N'SELECT *
FROM (SELECT country, CONVERT(char(3), date, 0) + ''-'' +  
      RIGHT(CONVERT(varchar, YEAR(date)), 2) AS date, value
FROM Country) AS D
PIVOT(SUM(value) FOR date IN(' + @cols + N')) AS P;'

EXEC sp_executesql @sql 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:27:13.017

您必须为此使用相当复杂的查询，使用`LOOP`它认为。

要创建动态列名，请查看这篇文章：[https ://stackoverflow.com/a/10926106/1321564](https://stackoverflow.com/a/10926106/1321564)

使用 sql server 你有一些优势：[https ://stackoverflow.com/a/5638042/1321564](https://stackoverflow.com/a/5638042/1321564)

# mysql - 将mysql列导出到文本文件并添加字符串

> ID：15087771
> 
> 赞同：2
> 
> 时间：2013-02-26T11:21:03.570
> 
> 标签：mysql

我有一个名为“标题”的 mysql 表列，其中包含来自维基百科的各种文章名称（“阿拉巴马州”、“阿拉斯加州”等）。我正在使用以下代码将整个列导出到文本文件：

```
SELECT title
FROM mytable order by id
INTO OUTFILE 'C:/wptitles.txt'
LINES TERMINATED BY '\r\n'; 
```

...效果很好。问题是我需要在每个标题中添加“ [http://en.wikipedia.org/wiki/ ”。](http://en.wikipedia.org/wiki/)有没有办法通过上面的sql做到这一点？如果没有，最快的方法是什么？

蒂亚！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:22:36.180

```
SELECT CONCAT("http://en.wikipedia.org/wiki/", title)
FROM mytable order by id
INTO OUTFILE 'C:/wptitles.txt'
LINES TERMINATED BY '\r\n'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:22:44.633

只需使用[`CONCAT`](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat)：

```
SELECT CONCAT('http://en.wikipedia.org/wiki/',title)
FROM mytable order by id
INTO OUTFILE 'C:/wptitles.txt'
LINES TERMINATED BY '\r\n'; 
```

# objective-c - 从 iOS 到 OSX

> ID：15087775
> 
> 赞同：0
> 
> 时间：2013-02-26T11:21:12.750
> 
> 标签：objective-c, macos

我计划为 Mac App Store 发布一个应用程序，但我在该平台上没有任何经验。作为一个 iOS 开发者，这个页面真的很有帮助： http: [//www.stanford.edu/class/cs193p/cgi-bin/drupal/downloads-2011-fall](http://www.stanford.edu/class/cs193p/cgi-bin/drupal/downloads-2011-fall)

OSX有类似的东西吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:26:46.727

就像那个页面一样，谷歌和搜索你会发现很多链接和书籍开始。

我开始学习 OSX：

1.  斯坦福讲座 CS193

2.  Aaron Hillegas 的 Mac OS X 的 Cocoa 编程

3.  CocoaDevCentral.com

4.  最后 StackOverflow 从上面解决了所有关注的疑问。

# java - Non-optional bidirectional OneToOne relationship

> ID：15087779
> 
> 赞同：2
> 
> 时间：2013-02-26T11:21:33.970
> 
> 标签：java, hibernate, jpa

I'm a little confused with bidirectional `OneToOne` relationship, which may not be optional on both ends. I'm using JPA2 with Hibernate:

```
@Entity
@Table(name = "city")
public class City {

    @Id
    @GeneratedValue
    @Column
    public Long _UID;

    @OneToOne(mappedBy="city", optional=false, orphanRemoval = true, cascade=CascadeType.ALL)
    public Mayor mayor;
}

@Entity
@Table(name = "mayor")
public class Mayor {

    @Id
    @GeneratedValue
    @Column
    public Long _UID;

    @OneToOne(optional=false, cascade=CascadeType.ALL)
    public City city;
} 
```

And if I try this transaction:

```
Mayor m = new Mayor("Ed", "Lee");
City c = new City("San Francisco", 100000);
m.setCity(c);
c.setMayor(m);

EntityTransaction et = this.getEm().get().getTransaction();
et.begin();

this.getEm().get().persist(c);
this.getEm().get().flush();

et.commit(); 
```

I get following exception:

```
javax.persistence.PersistenceException: org.hibernate.PropertyValueException: not-null property references a null or transient value: test.persistence.entity.Mayor.city 
```

If I inspect `City` instance before it get persisted, it has a `Mayor` instance on a right place and this `Mayor` instance has a relationship set back to the `City` instance.

With `optional=false` only on the City side all is ok.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:25:52.120

This is because you have a circular dependency on your mapping with cascadeAll on both side.

What happens there is that you are saving your city which save your mayor which then save your city which is not persisted yet (as you are trying to save it in the first place) and therefore hibernate does not know how to make reference to the city in DB.

You should try to fine tune the cascading of your city field in the mayor class to remove the cascade type persist.

[Edit] it seems also that the responsible of the relationship is the mayor (as the mappedby is in the city class). I think, as you are trying to persist the city, that the city should be responsible of the relationship (and therefore the mappedBy attribute should be in the mayor class)

# c# - 通过WPF中的事件获取动态图像

> ID：15087786
> 
> 赞同：0
> 
> 时间：2013-02-26T11:21:47.913
> 
> 标签：c#, wpf, image, data-binding, fingerprint

我正在尝试在我的 WPF 表单中添加动态图像。我添加了这样的图像：

```
<Image Height="212" HorizontalAlignment="Left" Margin="12,167,0,0" 
   Name="picture_scan" Stretch="Fill" VerticalAlignment="Top" Width="227" 
   Source="{Binding FingerprintSource}" /> 
```

源代码导致我的服务类中的以下代码：

```
public BitmapSource FingerprintSource
{
    get { return fingerprintScan.WpfImageSource; }
} 
```

是`WpfImageSource`一个`BitmapSource`。正如我所说，图像是动态的。通过我的指纹读取器中的一个事件，调用以下代码：

```
private void HandleFingerprintObtainedEvent(Fingerprint fingerprint, FingerprintImage fingerprintImage)
{
    Debug.WriteLine("New fingerprint found!");
    fingerprintScan = fingerprintImage;
} 
```

当我运行程序并将手指按在阅读器上时，会发现一个新的指纹图像。该值`fingerprintScan`正在更改。但问题是，在我将手指放在扫描仪上之前和之后，位图都是空的（白色？）。我究竟做错了什么？除了数据绑定，我还需要做更多事情吗，比如检查事件或其他什么？当数据绑定的来源是 a`BitmapSource`而不是 a时，这是一个问题`BitmapImage`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:24:22.370

您**没有**通知该属性已更改。

具有 de FingerprintSource 属性的类必须实现接口[INotifyPropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.aspx)。然后，您可以使用属性设置器来引发[PropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.propertychanged.aspx)事件。否则 WPF 绑定不知道发生了什么变化。

这里有一个很好的起点：[WPF/MVVM 快速入门教程](http://www.codeproject.com/Articles/165368/WPF-MVVM-Quick-Start-Tutorial)

# html - 导航在 ie8 中无法正常工作 - 没有背景颜色 + 子菜单没有内联样式

> ID：15087787
> 
> 赞同：0
> 
> 时间：2013-02-26T11:21:53.313
> 
> 标签：html, css, drop-down-menu, internet-explorer-8, nav

CSS 和 html5 相对较新，我使用[本](http://line25.com/tutorials/how-to-create-a-pure-css-dropdown-menu)教程创建了一个简单的纯 CSS/html5 下拉菜单。不幸的是，在 IE8 中它不能正常工作。我使用了 HTML shiv，并`display:block`在我的样式表中为所有 html5 元素赋予了样式。

ie8 中的子菜单显示下拉菜单和悬停颜色，但没有背景颜色，即使我在 CSS 中指定了子菜单，子菜单也无法正确定位或显示为内联样式。

```
nav ul li{
          display: inline-table; <-- being ignored
          float:left;   <-- being ignored
         } 
```

以及列表的背景颜色（使用 colorzilla 生成下面的渐变代码）

```
nav ul {

background: rgb(87,179,229); Old browsers - doesn't work
background: -moz-linear-gradient(top, rgba(87,179,229,1) 0%, rgba(29,81,145,1) 50%,     rgba(15,52,96,1) 51%, rgba(18,61,114,1) 74%, rgba(89,122,165,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(87,179,229,1)), color-stop(50%,rgba(29,81,145,1)), color-stop(51%,rgba(15,52,96,1)), color-stop(74%,rgba(18,61,114,1)), color-stop(100%,rgba(89,122,165,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(87,179,229,1) 0%,rgba(29,81,145,1) 50%,rgba(15,52,96,1) 51%,rgba(18,61,114,1) 74%,rgba(89,122,165,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(87,179,229,1) 0%,rgba(29,81,145,1) 50%,rgba(15,52,96,1) 51%,rgba(18,61,114,1) 74%,rgba(89,122,165,1) 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, rgba(87,179,229,1) 0%,rgba(29,81,145,1) 50%,rgba(15,52,96,1) 51%,rgba(18,61,114,1) 74%,rgba(89,122,165,1) 100%); /* IE10+ */
background: linear-gradient(to bottom, rgba(87,179,229,1) 0%,rgba(29,81,145,1) 50%,rgba(15,52,96,1) 51%,rgba(18,61,114,1) 74%,rgba(89,122,165,1) 100%); /* W3C */filter:     
/* To try and make it work in IE6-9 */
progid:DXImageTransform.Microsoft.gradient( startColorstr='#57b3e5', endColorstr='#597aa5',GradientType=0 ); /* To try and make it work in IE6-9 */
-ms-filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#57b3e5', endColorstr='#597aa5',GradientType=0 ); /* To try and make it work in IE6-9 */

box-shadow: 0px 0px 9px rgba(0,0,0,0.15);
padding: 0 20px;
border-radius: 0px;
list-style: none;
position: relative;
display: inline-table; <-- Not ignored in ie8

                } 
```

有谁知道如何让它在 IE8 中工作？我读到 ie8 不允许子元素继承导航/列表层次结构中的样式，但如果我明确指定样式，它们肯定可以工作吗？是ie8还是不能正确识别nav/ul标签吗？

非常感谢所有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:41:55.877

在您的页面中添加此 js 代码，它在 ie 中定义 html5 元素

```
(function(){if(!/*@cc_on!@*/0)return;var e = "abbr,article,aside,audio,bb,canvas,datagrid,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(','),i=e.length;while(i--){document.createElement(e[i])}})() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T16:08:32.517

您的 HTML5 shim 正在工作，因为它尊重 中的声明`nav ul`，这意味着还有其他问题。

您使用`inline-table`这些`li`元素有什么特别的原因吗？s可能值得尝试`display: block`，`li`看看它是否适用于您想要达到的相同效果。或者，您可以将其更改为`display: table-cell`并删除浮动。

此外，可能值得查看 IE9 中的开发人员工具页面。您可以将其设置为“IE8 模式”，这将为您提供相当准确的 IE8 近似值，以及查看 IE 所见内容的能力（我发现了一些差异，但不足以克服 IE9 开发人员工具的实用性）。其他东西可能会覆盖您的设置（例如，仅 IE 样式表中的更具体的声明）。

附带说明，`display: inline-table`（或除块和内联之外的大多数显示属性）[在 IE7 中不起作用](https://developer.mozilla.org/en-US/docs/CSS/display)。如果您需要支持 IE7，请注意。

# javascript - Javascript 验证日期和时间

> ID：15087790
> 
> 赞同：0
> 
> 时间：2013-02-26T11:21:56.640
> 
> 标签：javascript

我有一段 JS 需要验证并比较开始日期和时间与结束日期和时间。

所以换句话说，结束日期和时间不能小于开始日期和时间。

现在的问题。我最初只接受 24 小时（军用）格式的时间。但现在让用户在 12 小时或 24 小时之间进行选择。

示例 13:00 或 1:00 PM

这段代码适用于 24 小时时间格式，但不适用于 12，即导致问题的下午 12:00。

所以我需要调整这段代码以使其工作 12 小时或 24 小时，但我不知道该怎么做。

```
function validateStartEndTime() {
        var date = document.getElementById("datepickerStart").value;

        var dateEnd = document.getElementById("datepickerEnd").value;

        if (!isValidDate(date)) {
            alert("Not Valid Date");
            return false;
        }
        var start = document.getElementById("timepicker").value;
        var end = document.getElementById("timepickerEnd").value;

        var stDate = new Date(parse(date +" "+ start));
        var enDate = new Date(parse(dateEnd + " "+ end));
        var compDate = enDate - stDate;
        if (compDate >= 0)
            return true;
        else {
            alert("End time must be greater than Start Time ");
            return false;
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:36:41.527

您可以编写一个函数，将 12 小时格式的时间转换为 24 小时格式的时间，例如：

```
function convertTo24HourFormatIfNeeded(timeString) {
    var is12HourFormat = timeString.indexOf("M") !== -1;
    if (is12HourFormat) {
        var isPm = timeString.indexOf("PM") !== -1;
        var timeStringNoSuffix = timeString.split(" ")[0];
        if (isPm) {
            var hoursAndMinutes = timeStringNoSuffix.split(":");
            var hours = hoursAndMinutes[0];
            var convertedHours = (Number(hours) + 12);
            var minutes = hoursAndMinutes[1];
            return convertedHours + ":" + minutes;
        } else {
            return timeStringNoSuffix;
        }
    } else {
        return timeString;
    }
} 
```

然后在您的代码中使用它：

```
var start = convertTo24HourFormatIfNeeded(document.getElementById("timepicker").value);
var end = convertTo24HourFormatIfNeeded(document.getElementById("timepickerEnd").value); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:35:06.810

如果您不反对使用外部库，我发现[MomentJs](http://momentjs.com)可以非常方便地处理日期，除此之外，它还允许以用户定义的格式解析日期，因此您可以根据用户选择构建日期字符串上午/下午或 24 小时格式，并将其提供给时刻 js。

# android - 擦除覆盖位图上的纹理 - Android

> ID：15087793
> 
> 赞同：0
> 
> 时间：2013-02-26T11:22:03.390
> 
> 标签：android, bitmap, imageview, paint, transparent

我有一个`ImageView`包含两个位图一个背景和一个在前景上绘制的图案。我想要做的是擦除前景上绘制的图案，以便在擦除的部分上显示完整的背景。我已经弄清楚了擦除部分，这很有效。

我的问题是当我擦除触摸位置时不准确。这是因为`Bitmap`前景画布上的 与 的画布大小不同`ImageView`。我`ImageView`在`onMeasure`方法中调整我的大小以适应屏幕而不缩小它。

我该如何解决这个问题？我考虑过使用两个图像视图，每个位图一个，但是这个过程很繁琐，而且还会导致性能问题。我想使用一个`ImageView`和两个位图。

这是我的代码，可以进一步解释我的问题。

```
 final Paint pTouch = new Paint(Paint.ANTI_ALIAS_FLAG);         
      pTouch.setXfermode(new PorterDuffXfermode(Mode.SRC_OUT)); 
      pTouch.setColor(Color.TRANSPARENT);
      pTouch.setMaskFilter(new BlurMaskFilter(10, Blur.NORMAL));

      final Canvas c2 = new Canvas(_currentTextureBitmap);

      ImageView iv = new ImageView(this) {
            int x = 0;
            int y = 0;
            int _width;
            int _height;

            @Override
            public boolean onTouchEvent(MotionEvent ev) {

                switch (ev.getAction()) {

                case MotionEvent.ACTION_DOWN: { 

                    x = (int) ev.getX();
                    y = (int) ev.getY();

                    invalidate();

                    break;
                }

                case MotionEvent.ACTION_MOVE: {

                    x = (int) ev.getX();
                    y = (int) ev.getY();

                    invalidate();
                    break;

                }    

                }
                return true;
            }

            @Override 
            protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec){
                Drawable d = getDrawable();

                if(d!=null){
                    // ceil not round - avoid thin vertical gaps along the left/right edges
                    _width = MeasureSpec.getSize(widthMeasureSpec);
                    _height = (int) Math.ceil((float) _width * (float) d.getIntrinsicHeight() / (float) d.getIntrinsicWidth());
                    setMeasuredDimension(_width, _height);
                }else{
                    super.onMeasure(widthMeasureSpec, heightMeasureSpec);
                }
            }

            @Override
            public void onDraw(Canvas canvas){
                super.onDraw(canvas);

                if (_selectedImageURI != null)
                    if (_erase) {
                        //draw background
                        canvas.drawBitmap(_backgroundBitmap, null, new RectF(0, 0, _width, _height), null);

                        if (_currentTextureBitmap != null) {
                            c2.drawCircle(x, y, 40, pTouch);
                            canvas.drawBitmap(_currentTextureBitmap, null, new RectF(0, 0, _width, _height), null);
                        }
                    }
               }
        }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T08:47:47.330

找到了一个非常简单的解决方案。只需使用最大画布的宽度，将其除以较小的画布，使用该浮点值并将其与触摸时设置的 x 和 y 值相乘。这给出了在更大的画布上擦除的正确坐标。

```
@Override
public void onDraw(Canvas canvas){
    super.onDraw(canvas);

    if (_erase) {
        //draw background
        canvas.drawBitmap(_originalBitmap, null, new RectF(0, 0, _width, _height), null);

        if (_overlay != null) { 
            float x = (_x * ((float)_overlay.getWidth()/_width));
            float y = (_y * ((float)_overlay.getHeight()/_height));

            _canvasOverlay.drawCircle(x, y, 40, _touch);
            canvas.drawBitmap(_overlay, null, new RectF(0, 0, _width, _height), null);
        }
    }
} 
```

# php - 如何隐藏多个 <> 之间的文本 // [] **

> ID：15087797
> 
> 赞同：1
> 
> 时间：2013-02-26T11:22:11.583
> 
> 标签：php

我使用这段代码，一切正常，它隐藏了`$comments`包含之间的文本`[]`，但我想隐藏其他符号的文本。前任。`** && ^^ $$ ## // <>`. 我需要在这里添加什么，而不是

```
Date <20.02.2013> Time [11-00] Name #John# 
```

拥有这个：

```
Date Time Name 
```

?

```
function replaceTags($startPoint, $endPoint, $newText, $source) {
    return preg_replace('#('.preg_quote($startPoint).')(.*)('.preg_quote($endPoint).')#si', '$1'.$newText.'$3', $source);
}

$source= $comments;
$startPoint='[';
$endPoint=']';
$newText='';
echo replaceTags($startPoint, $endPoint, $newText, $source); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:52:09.750

你只需要改变

```
$startPoint='[';
$endPoint=']'; 
```

到

```
$startPoint='<';
$endPoint='>'; 
```

要执行多个符号，您可以对函数进行多次调用，如下所示：

```
$source= $comments;
$newText='';

$str = replaceTags('[', ']', $newText, $source);
$str = replaceTags('<', '>', $newText, $str);
$str = replaceTags('*', '*', $newText, $str);
$str = replaceTags('&', '&', $newText, $str);
$str = replaceTags('^', '^', $newText, $str);
$str = replaceTags('$', '$', $newText, $str);
$str = preg_replace("/\#[^#]+#)/","",$str);
$str = replaceTags('/', '/', $newText, $str);

// add more here
echo $str; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:55:22.427

您必须为每对创建模式：

```
$pairs = array(
  '*' => '*',
  '&' => '&',
  '^' => '^',
  '$' => '$',
  '#' => '#',
  '/' => '/',
  '[' => ']', // this
  '<' => '>', // and this pairs differently from the rest
);

$patterns = array();

foreach ($pairs as $start => $end) {
  $start = preg_quote($start, '/');
  $end = preg_quote($end, '/');

  $patterns[] = "/($start)[^$end]*($end)/";
}

echo preg_replace($patterns, '', $s), PHP_EOL;
//  not sure what you want here
//  echo preg_replace($patterns, '$1' . $newText . '$2', $s), PHP_EOL; 
```

# php - Magento - 获取所有产品的产品集合

> ID：15087798
> 
> 赞同：4
> 
> 时间：2013-02-26T11:22:12.410
> 
> 标签：php, magento, collections, categories, product

我需要所有产品的定制产品集合。目前没有包含商店所有产品的类别（因为有 8000 种产品，我们无法将它们添加到一个额外的类别中）。

我需要的是在特定的 CMS 页面上显示所有产品的产品集合。到目前为止，我有一个带有块的 CMS 页面：

```
{{block type="catalog/product_list" template="catalog/product/list.phtml"}} 
```

我创建了一个模块来覆盖“Mage_Catalog_Block_Product_List”

我相信我需要编辑的函数是“受保护的函数_getProductCollection()”

正如我们在块调用中看到的那样，没有指定类别。我需要的是在覆盖的 _getProductCollection 函数中返回商店中的所有产品。

有什么办法可以实现吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-11-07T06:39:25.270

**您可以通过多种方式从商店获取产品列表。** 试试这种方式：

```
<?php
$_productCollection = Mage::getModel('catalog/product')
                        ->getCollection()
                        ->addAttributeToSort('created_at', 'DESC')
                        ->addAttributeToSelect('*')
                        ->load();
foreach ($_productCollection as $_product){
   echo $_product->getId().'</br>';
   echo $_product->getName().'</br>';
   echo $_product->getProductUrl().'</br>';
   echo $_product->getPrice().'</br>';
}
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T14:04:39.797

不要覆盖列表块，这将对真实的产品列表页面产生影响。

将文件复制到本地命名空间并重命名的简单方法：

从：

```
app/code/core/Mage/Catalog/Block/Product/List.php 
```

至：

```
app/code/local/Mage/Catalog/Block/Product/Fulllist.php 
```

然后，您可以使用新块而无需制作完整的模块，这意味着您的 List 块将可以正常工作，并且不会破坏您商店中的任何东西。

然后，您可以根据需要安全地修改：

```
/**
 * Retrieve loaded category collection
 *
 * @return Mage_Eav_Model_Entity_Collection_Abstract
 */
protected function _getProductCollection()
{
    $collection = Mage::getModel('catalog/product')->getCollection();

    // this now has all products in a collection, you can add filters as needed.

    //$collection
    //    ->addAttributeToSelect('*')
    //    ->addAttributeToFilter('attribute_name', array('eq' => 'value'))
    //    ->addAttributeToFilter('another_name', array('in' => array(1,3,4)))
    //;

    // Optionally filter as above..

    return $collection;
} 
```

然后，您可以像这样使用新块：

```
{{block type="catalog/product_fulllist" template="catalog/product/list.phtml"}} 
```

# c# - 从网页获取字符串到 C# Form 应用程序

> ID：15087799
> 
> 赞同：0
> 
> 时间：2013-02-26T11:22:12.503
> 
> 标签：c#, string, webpage

我想建立一个网页，上面有一个简单的小字符串。没有图像，没有 CSS，没有其他任何东西。只是一个不是很长的普通字符串（最多 20 个字符）。

使用 C# Form 应用程序获取此字符串以在程序中用于各种不同目的的最佳方法是什么，例如在启动时向人们展示软件的最新版本是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:31:00.097

我会像这样使用 System.Net.WebClient 自己：

```
using (var client = new WebClient())
{
    string result = client.DownloadString("http://www.test.com");
    // TODO: do something with the downloaded result from the remote
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:25:33.070

尝试使用[System.Net.WebClient](http://msdn.microsoft.com/en-us/library/tt0f69eh.aspx)：

```
 string remoteUri = "http://www.myserver.com/mypage.aspx";
        WebClient myWebClient = new WebClient();
        string version = myWebClient.DownloadString(remoteUri); 
```

# php - 拖放多个html元素以创建html页面模板

> ID：15087804
> 
> 赞同：-5
> 
> 时间：2013-02-26T11:22:27.800
> 
> 标签：php, javascript, jquery, css, html

我想使用拖放多个 html 元素图像来创建模板设计，就像在[http://www.weebly.com](http://www.weebly.com)中一样。请提供任何与 weebly 相似的最佳示例脚本来帮助我，我非常需要这种脚本

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:29:05.827

jQuery UI 使这变得相当简单。试试可拖动/可放置插件：http: [//jqueryui.com/droppable/](http://jqueryui.com/droppable/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-27T22:57:47.710

市场上没有像 Weebly 这样的拖放工具。这就是 Weebly 使它们具有竞争力的方式。这是您必须从头开始开发自己的东西。

你需要 jQuery UI，只是为了做拖放。但这仍然是基本的。您需要在 jQuery UI 之上编写自定义 Javascript 来操作 DOM 元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:26:26.727

要尝试拖放，您可以从 HTML5 开始。

它具有拖放功能，您可以使用 JavaScript 来处理拖动事件。这绝对是最简单和最好的解决方案。创建小部件，然后将它们放在您想要放置它们的目标区域，最后您将拥有一个 Web 模板。

你已准备好出发！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-26T11:48:34.357

您想要一个具有此功能的网站，或者只想设计一个具有此功能的简单页面

你可以试试 [所见即所得的编辑器](https://www.google.co.in/search?q=how%20to%20define%20html5%20elements%20in%20ie&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-US%3aofficial&client=firefox-a&channel=fflb#hl=en&client=firefox-a&rls=org.mozilla%3aen-US%3aofficial&channel=fflb&q=wysiwyg%20editor&spell=1&sa=X&ei=eKAsUdK0AsP7rAeRyIDwDg&ved=0CCsQBSgA&bav=on.2,or.r_gc.r_pw.r_qf.&bvm=bv.42965579,d.bmk&fp=8d6f5005fe1a0333&biw=1024&bih=651)

或更多[在线拖放网站构建器](https://www.google.co.in/search?q=how%20to%20define%20html5%20elements%20in%20ie&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-US%3aofficial&client=firefox-a&channel=fflb#hl=en&client=firefox-a&rls=org.mozilla%3aen-US%3aofficial&channel=fflb&sclient=psy-ab&q=online%20drag%20and%20drop%20website%20builder&oq=online%20drag%20and%20drop%20&gs_l=serp.3.1.0l2j0i30l2.44381.52116.8.54082.21.14.0.7.7.7.1883.12307.0j1j2j1j1j1j4j2j2.14.0.les;..0.0...1c.1.4.psy-ab.e8uKm66Cxgg&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.&bvm=bv.42965579,d.bmk&fp=8d6f5005fe1a0333&biw=1024&bih=651) 或

```
if(you want to make this){
    stop DayDreaming();
} 
```

# ajax - jquery长轮询：在数据实际更改之前阻止更新

> ID：15087810
> 
> 赞同：1
> 
> 时间：2013-02-26T11:22:38.447
> 
> 标签：ajax, json, jquery, jsonp

我创建了一个长轮询 JSON 源并使用结果更新 div 的脚本。我的代码发布在下面。

代码工作正常，我请求的数据被正确抓取和输出。该代码检查 JSON 并抓取 2 张图像和一些文本数据。

问题是它不断刷新数据并不断下载图像，导致服务器负载和带宽消耗很高（显然现在这很小，但随着我的项目完成会增加）。这也导致我无法选择 div 中的文本，并且图像在重新加载时闪烁，这两者都是我当前代码的不良后果。

我希望能够获取数据并显示它，并且在 JSON 响应中的数据实际发生变化之前根本不更新它，我假设我需要用时间戳做一些事情？我尝试使用 JSON 中的 first_aired 键创建 lastupdate 时间戳，但它不起作用，我不确定我是否犯了错误，或者我是否在吠叫错误的树。

有人可以看看我拥有的代码，或许可以指出我需要做什么的正确方向吗？

```
var lastupdate = 0;
// call getData when the document has loaded
$(document).ready(function(){
getData(lastupdate);
});
var getData = function(lastupdate) {
$.ajax({
  type: "GET",
  url: 'http://api.trakt.tv/user/watching.json/apikey/user/lastupdate='+lastupdate+'&callback=?',
  dataType: 'jsonp',
  async: true,
  cache: false,
  // timeout after 5 minutes, shut process down and restart
  timeout:300000,
  // process a successful response
  success: function(watching_now) {
    if (!jQuery.isEmptyObject(watching_now)) {
    //console.log(watching_now);
    var airDate = watching_now.episode.first_aired;
    var showTitle = watching_now.show.title;
    var showPoster = watching_now.show.images.poster;
    var showURL = watching_now.show.url;
    var episodeTitle = watching_now.episode.title;
    var episodeScreen = watching_now.episode.images.screen;
    var episodeNumber = watching_now.episode.number;
    var episodeSeason = watching_now.episode.season;
    $('#watching-now').html('<div class="screencap"><img src="' + episodeScreen +' " width="240" height="150" /></div><div class="poster"><a href="'+showURL+'" target="_blank"><img src="' + showPoster +'" width="85" height="120" /></a></div><div class="watching-info">'+episodeSeason+'x'+episodeNumber+' - '+episodeTitle+'</div>')
    }
    else {
    $('#watching-now').html('You are not currently watching anything')
    }
    // set lastupdate
    lastupdate = watching_now.airDate;
    // call again in 1 second
    setTimeout('getData('+lastupdate+');', 1000);
    },
    // handle error
  error: function(XMLHttpRequest, textStatus, errorThrown){
    // try again in 10 seconds if there was a request error
    setTimeout('getData('+lastupdate+');', 10000);
},
});
}; 
```

这是我正在获取信息表单的 JSON：

```
{"type":"episode","action":"watching","show":{"title":"Stargate Atlantis","year":2004,"url":"http://trakt.tv/show/stargate-atlantis","imdb_id":"tt0374455","tvdb_id":"70851","tvrage_id":"5324","first_aired":1089961200,"country":"United States","overview":"The story of Stargate Atlantis follows the cliffhanger episode on Stargate SG-1's seventh season finale \"Lost City\", where SG-1 found an outpost made by the race known as the Ancients in Antarctica. After the events of Stargate SG-1 season eight premiere \"New Order\", the Stargate Command sends an international team to investigate the outpost. Soon, Dr. Daniel Jackson discovers the location of the greatest city created by the Ancients, Atlantis. The story unfolds when the members of the expedition encounter the Wraith, the race that defeated the Ancients ten thousand years ago.","runtime":60,"network":"Syfy","air_day":"Monday","air_time":"9:00pm","certification":"TV-PG","images":{"poster":"http://trakt.us/images/posters/329.3.jpg","fanart":"http://trakt.us/images/fanart/329.3.jpg","banner":"http://trakt.us/images/banners/329.3.jpg"},"genres":["Action","Adventure","Science Fiction"]},"episode":{"season":3,"number":10,"title":"The Return (1)","overview":"The Atlantis expedition is stunned to learn that a ship full of Ancients is returning to reclaim their lost city. ","first_aired":1158908400,"url":"http://trakt.tv/show/stargate-atlantis/season/3/episode/10","images":{"screen":"http://trakt.us/images/episodes/329-3-10.3.jpg"}}} 
```

如果您需要更多信息，请询问，我会尽我所能提供。

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:29:52.047

看看下面链接中显示的示例。

[http://www.zeitoun.net/articles/comet_and_php/start](http://www.zeitoun.net/articles/comet_and_php/start)

它所做的是传递时间戳并获取当前时间戳和传递时间戳之间的记录。

# c# - 使用c#将数据存储在数据库中的最快方法

> ID：15087817
> 
> 赞同：3
> 
> 时间：2013-02-26T11:22:55.463
> 
> 标签：c#, database, performance, store

我有一个包含 300 万行的 csv 文件，并希望使用 c# 将其存储在数据库中。csv 文件看起来像“设备；日期；值”。

我应该将它写入数组还是直接写入 System.Data.DataTable？以及将此 DataTable 存储到数据库（例如 SQL-Server）中的最快方法是什么。

我尝试使用 300 万条插入语句来存储这些行，但它太慢了 :)

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:24:31.423

您可以在 DataTable 中加载数据，然后使用[SqlBulkCopy](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.aspx)将日期复制到 sql server 中的表中

> SqlBulkCopy 类可用于仅将数据写入 SQL Server 表。但是，数据源不限于 SQL Server；可以使用任何数据源，只要数据可以加载到 DataTable 实例或使用 IDataReader 实例读取。.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:26:28.780

我猜[BCP](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.aspx)会很快。在 DataTable 中获得数据后，您可以尝试

```
using (SqlBulkCopy bcp= new SqlBulkCopy(yourConnectionString))
{
    BulkCopy.DestinationTableName = "TargetTable";
    BulkCopy.WriteToServer(dataTable);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:26:59.110

我认为最好的方法是打开流阅读器并逐行创建行。在 while 循环中使用 ReadLine 并拆分以查找不同的部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:27:41.543

发送 300 万条插入语句快到了疯狂的速度！

通过使用事务和一次读取例如 200-1000 行来缓冲它（数据越小，一次可以读取的越多），然后在读取这些行之后，直接将插入提交到数据库。

# php - 获取一个内容 在一个 instead of the value I have the following HTML select FORM: <select name="quantity"><option value="0">Select</option> <option value="125">1</option> <option value="250" <="" h1="">ID：15087822 赞同：3 时间：2013-02-26T11:23:07.833 标签：php, html, select 回答 #1 赞同：3 时间：2013-02-26T11:33:12.793 尝试这个： <select name="quantity" onchange="javacript: var valor = this.options[selectedIndex].text; alert(valor); document.getElementById('shadow').value = valor;"> <option value="0" >Select</option> <option value="125" >1</option> <option value="250" >2</option> <option value="375">3</option> </select> <input type="hidden" id="shadow" value=""> 使用这种组合，您可以完成您的任务.....javascript + 隐藏输入和 php $_GET['shadow'] ;) 萨卢多斯。 回答 #2 赞同：1 时间：2013-02-26T11:26:23.647 一般情况下，提交表单时，只会提交 select 元素中选中项的值。标签不会。 您的选择： 在服务器上保留值/标签的映射，并使用提交的值来检索标签 将标签存储在值中（可能通过将现有值和标签编码为 JSON） 使用 JavaScript 为提交的数据添加标签 我强烈建议第一个选项。 回答 #3 赞同：1 时间：2013-02-26T11:28:10.477 如果您放入一个名为 SelectedHTML 的隐藏字段，您可以使用 javascript 实现此目的。 <input type="hidden" id="SelectedHTML" name="SelectedHTML" /> 例如，在 select 上使用 onchange 事件将 selectedIndex 的 innerHTML 放入隐藏字段，发布后您将能够使用 $_GET['SelectedHTML'] 来检索数据 <select onchange="document.getElementById("SelectedHTML").value=this.options[this.selectedIndex].text;" name=....> 回答 #4 赞同：0 时间：2013-02-26T11:26:45.300 不，不在标准 HTML 中。 您可以使用 JavaScript 以某种方式做到这一点。 回答 #5 赞同：-2 时间：2013-02-26T11:27:16.297 你不能用 PHP 做到这一点。你需要 javascript (jQuery)。 方法文本（） $('option').text(); 会为您返回，然后您可以使用带有 window.location 的 GET 发送它 window.location = 'yoururl.php?value=' + $('option').text();</option></select>

# javascript - 如何基于树视图节点（复选框选择）填充网格？

> ID：15087827
> 
> 赞同：0
> 
> 时间：2013-02-26T11:23:24.670
> 
> 标签：javascript, html, kendo-ui, nodes, kendo-treeview

我正在使用 Kendo UI 控件做一个项目。在项目左侧“treeview”和右侧“kendogrid”放置。

这里我的要求是根据treeview节点过滤网格，需要做多选。

例如：eg:10249,10248 基于此节点过滤网格。

这是我的小提琴：http: [//jsfiddle.net/RHh67/7/](http://jsfiddle.net/RHh67/7/)

这是尝试过的代码：

```
var tree= $("#treeview").kendoTreeView({
    checkboxes: {
        checkChildren: true
    },

    dataSource: [{
        id: 1, text: "My Project", expanded: true, spriteCssClass: "rootfolder", items: [
            {
                id: 2, text: "OrderID", expanded: true, spriteCssClass: "folder", items: [
                { id: 3, text: "10248"  },
                { id: 4, text: "10249"  },
                { id: 5, text: "10250" },
                { id: 6, text: "10251" },
                { id: 7, text: "10252" }
            ]
        }]
    }]
}).data("kendoTreeView");

tree.dataSource.bind("change", function (e) {
    var ds = $("#grid").data("kendoGrid").dataSource;
    ds.filter([
        {"logic":"or",
            "filters":[
                {
                    "field":"OrderId",
                    "operator":"eq",
                }
            ]}
    ]);
}); 
```

谁能帮我找出我到底错在哪里？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-19T00:50:42.320

`change`on 的处理程序`tree`应该做：

1.  获取选中的复选框。
2.  为勾选的复选框构建过滤条件。
3.  将过滤器应用于数据源。

就像是：

```
$("#treeview").on("change", function (e) {
    var selected = $('#treeview :checked').closest('li');
    var ds = grid.dataSource;
    var filter = {
        logic  : "or",
        filters: []
    };
    $.each(selected, function (idx, elem) {
        var item = tree.dataItem(elem);
        if (parseInt(item.text)) {
            console.log("item.text", item.text);
            filter.filters.push({
                field   : "OrderID",
                operator: "eq",
                value   : parseInt(item.text)
            });
        }
    });
    console.log("filter", filter);
    ds.filter(filter);
}); 
```

跑到[这里](http://jsfiddle.net/OnaBai/RHh67/77/)

# java - 如何使用泽西岛缓存响应？

> ID：15087831
> 
> 赞同：10
> 
> 时间：2013-02-26T11:23:36.773
> 
> 标签：java, rest, jersey

我正在尝试使用 Jersey 开发 RESTful API。我有 GET API 用于特定的获取操作，我的 GET 从同一个客户端花费相同的时间。是否可以缓存响应？任何指针表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-26T11:32:01.810

您可以使用 CacheControl、eTag - 遵循以下示例代码

```
// In your jersey method
    final EntityTag eTag = new EntityTag(resource.getId() + "_" +
     resource.getLastModified().getTime());
    final CacheControl cacheControl = new CacheControl();
    cacheControl.setMaxAge(-1);

    ResponseBuilder builder = request.evaluatePreconditions(
         resource.getLastModified(), eTag);

    // the resoruce's information was modified, return it
    if (builder == null) {
         builder = Response.ok(resource);
    }

    // the resource's information was not modified, return a 304

    return builder.cacheControl(cacheControl).lastModified(
         resource.getLastModified()).tag(eTag).build(); 
```

替换`resource`为您的资源实例。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-01-06T14:14:59.270

解决方案总结：

1.  [请求](https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/Request.html)作为方法参数

    界面：

    ```
     @Path("myentity")
     public interface MyEntityResource

         @GET
         @Produces(MediaType.APPLICATION_JSON)
         public Response getMyEntity(@Context final Request request);
     } 
    ```

    执行：

    ```
     public class MyEntityResourceImpl implements MyEntityResource

         @Override
         public Response getMyEntity(final Request request) {

             final MyEntity myEntity = ... // load entity
             final String eTagValue = ... // calclutate value of ETag

             final EntityTag eTag = new EntityTag(eTagValue);

             ResponseBuilder responseBuilder = request.evaluatePreconditions(eTag);

             if (responseBuilder == null) {
                 return Response.ok(user).tag(eTag).build();
             }

             return responseBuilder.build();
         }
     } 
    ```

    缺点：

    *   实施细节`Request`暴露

    *   返回类型`Reponse`是通用的

    *   WADL 中缺少返回类型的语法

    *   带有不必要参数的[客户端代理](http://cxf.apache.org/docs/jax-rs-client-api.html#JAX-RSClientAPI-Proxy-basedAPI)`Request`

2.  [请求](https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/Request.html)作为实例变量

    界面：

    ```
     @Path("myentity")
     public interface MyEntityResource

         @GET
         @Produces(MediaType.APPLICATION_JSON)
         public Response getMyEntity();
     } 
    ```

    执行：

    ```
     public class MyEntityResourceImpl implements MyEntityResource

         @Context
         private Request request

         @Override
         public Response getMyEntity() {

             final MyEntity myEntity = ... // load entity
             final String eTagValue = ... // calclutate value of ETag

             final EntityTag eTag = new EntityTag(eTagValue);

             ResponseBuilder responseBuilder = request.evaluatePreconditions(eTag);

             if (responseBuilder == null) {
                 return Response.ok(user).tag(eTag).build();
             }

             return responseBuilder.build();
         }
     } 
    ```

    缺点：

    *   返回类型`Reponse`是通用的

    *   WADL 中缺少返回类型的语法

    *   依赖注入`@Context`很复杂，请参阅[https://stackoverflow.com/questions/33240443](https://stackoverflow.com/questions/33240443/combining-context-and-rolesallowed-in-a-jax-rs-resource)

3.  [ShallowEtagHeaderFilter](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/filter/ShallowEtagHeaderFilter.html)作为网络过滤器

    网页.xml：

    ```
     <filter>
         <filter-name>etagFilter</filter-name>
         <filter-class>org.springframework.web.filter.ShallowEtagHeaderFilter</filter-class>
     </filter>
     <filter-mapping>
         <filter-name>etagFilter</filter-name>
         <url-pattern>/api/*</url-pattern>
     </filter-mapping> 
    ```

    界面：

    ```
     @Path("myentity")
     public interface MyEntityResource

         @GET
         @Produces(MediaType.APPLICATION_JSON)
         public MyEntity getMyEntity();
     } 
    ```

    执行：

    ```
     public class MyEntityResourceImpl implements MyEntityResource

         @Override
         public MyEntity getMyEntity() {

             final MyEntity myEntity = ... // load entity
             return myEntity;
         }
     } 
    ```

    缺点：

    *   服务器性能不佳，请参阅[JavaDoc](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/filter/ShallowEtagHeaderFilter.html)

    *   仅适用于未提交的响应

    *   不支持[弱ETag](https://www.rfc-editor.org/rfc/rfc7232#section-2.3)

4.  自定义[WriterInterceptor](https://javaee-spec.java.net/nonav/javadocs/javax/ws/rs/ext/WriterInterceptor.html)作为[JAX-RS 拦截器](https://jersey.java.net/documentation/latest/filters-and-interceptors.html#d0e9806)

    拦截器：

    ```
     public class CustomInterceptor implements WriterInterceptor {

         @Context
         private Request request;

         @Override
         public void aroundWriteTo(WriterInterceptorContext context) throws IOException, WebApplicationException {

             OutputStream old = context.getOutputStream();

             ByteArrayOutputStream buffer = new ByteArrayOutputStream();

             try {

                 context.setOutputStream(buffer);
                 context.proceed();

                 byte[] entity = buffer.toByteArray();

                 String etag = ... // calclutate value of ETag
                 context.getHeaders().putSingle(HttpHeaders.ETAG, etag);

                 ResponseBuilder responseBuilder = request.evaluatePreconditions(eTag);

                 if (responseBuilder == null) {
                      throw new WebApplicationException(responseBuilder.status(Response.Status.NOT_MODIFIED).header(HttpHeaders.ETAG, etag).build());
                 }

                 old.write(entity);

             } finally {
                 context.setOutputStream(old);
             }
         }
     } 
    ```

    另请参阅：[ServerCacheInterceptor](https://github.com/resteasy/Resteasy/blob/master/jaxrs/resteasy-cache/resteasy-cache-core/src/main/java/org/jboss/resteasy/plugins/cache/server/ServerCacheInterceptor.java) (Resteasy)

    界面：

    ```
     @Path("myentity")
     public interface MyEntityResource

         @GET
         @Produces(MediaType.APPLICATION_JSON)
         public MyEntity getMyEntity();
     } 
    ```

    执行：

    ```
     public class MyEntityResourceImpl implements MyEntityResource

         @Override
         public MyEntity getMyEntity() {

             final MyEntity myEntity = ... // load entity
             return myEntity;
         }
     } 
    ```

    缺点：

    *   没有可用的 Jersey 预定义拦截器

    *   服务器性能不佳

    *   不支持[弱ETag](https://www.rfc-editor.org/rfc/rfc7232#section-2.3)

    *   丑陋的解决方法`WebApplicationException`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-26T11:31:51.500

您可以将适用于标准 java 的任何缓存机制与 Jersey 一起使用，例如[Ehcache](http://ehcache.sourceforge.net/)。

您只需要注意验证您在后端的数据没有更改。

这是一个简单的例子`Ehcache`：

```
@GET
@Path("{id}")
public List<Data> getData(@PathParam("id") Long id) {
    Element element = CacheManager.getInstance().getCache("test").get(id);
    if(element == null) {
        Data value = fetchElementFromBackend(id);
        CacheManager.getInstance().getCache("test").put(new Element(id, value));
        return value;
    }

    return element.getObjectValue();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-11-10T19:43:50.030

最近我一直在解决一个类似（如果不一样的话）的问题。作为它的附带结果，出现了以下库： [https ://github.com/AndreyLebedenko/dropwizard-caching-filter](https://github.com/AndreyLebedenko/dropwizard-caching-filter)

它的使用方式如下：

```
@GET
@Produces(MediaType.APPLICATION_JSON)
@Path("/cached")
@ResponseCachedByFilter(10000)
public Object getCached() {
    return dao.get();
} 
```

希望能帮助到你。

# c++ - 如何将 XYZ 坐标更改为另一个 2D 系统

> ID：15087832
> 
> 赞同：-1
> 
> 时间：2013-02-26T11:23:45.413
> 
> 标签：c++, math, graphics, geometry, computational-geometry

我有 3D 点集位于垂直平面上。该平面不平行于 X 轴或 Y 轴，但与 X 轴成一个角度（例如 θ）。而且它与 X 轴有一些（+ 或 -）截距。

现在，我想更新我的 X 轴平行于我的飞机的方位角方向。然后我想躺在垂直平面到 XY 平面。所以，我想我可以使用我原来的 Z 坐标作为新的 Y 坐标。由于平面位于 XY 平面上，因此不应再有 Z 坐标。所以，我想知道如何从原始的 XYZ 和 θ 中获取我的新 X 坐标。

实际上，我想在 C++ 中实现这个修改。但我的数学真的很差，很难弄清楚应该是什么公式。

完成此操作后，我想对新的 XY 点坐标进行一些处理。最后，我想将我所有的坐标恢复到原始系统。那是最后我想回到我原来的 XYZ 轴。所以我也在找你的助手拿这个案子。

非常感谢您的助手。

注意：所以我所做的是；我找到了平面的方位角，然后将点数据相对于我的点集左下角的最小坐标`X`和XY 坐标移动。`Y`然后，我得到了新的 X，Y 作为（X'，Y'）：

```
X' = X * cos (θ) + Y * sin(θ) 
Y' = Z 
```

不确定我的方式是否正确。我喜欢学习这个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T15:17:44.997

我无法理解您所说的“我的点集的左下角”，但如果我正确理解“平面的方位角”，那么第一个转换将是这样的：

```
X' =  X * cos(θ) + Y * sin(θ)
Y' = -X * sin(θ) + Y * cos(θ)
Z' =  Z 
```

在你走得更远之前，你应该玩弄这个，确保你理解它，确保它是你想要的。

在这个变换之后，平面上的所有点都应该具有相同的 Y' 值。

第二个转变（“躺下”）将是这样的：

```
X" = X'
Y" = Y' + Z'
Z" = 0 
```

**您必须记住 Y' 值是什么，以便稍后反转此转换。**

在这些坐标中完成任何您想做的事情后，您可以反转该过程以返回到您的原始坐标系：

```
X' = X"
Y' = Y'
Z' = Y" - Y'

X = X' * cos(θ) - Y' * sin(θ)
Y = X' * sin(θ) + Y' * cos(θ)
Z = Z' 
```

# android - 每天获取一组“静态”随机值

> ID：15087834
> 
> 赞同：1
> 
> 时间：2013-02-26T11:23:47.057
> 
> 标签：android, math, random

对于所有擅长操纵随机化的人来说，这是一个问题。我正在Android中制作应用程序。对于这个应用程序，我需要生成具有以下条件的随机值：

*   我需要生成 13 个随机值

*   我需要每天获取一组新的这 13 个随机值（基于用户设备的系统）。在一天中，这 13 个值不得更改。

*   我需要在本地生成这些值，即用户无法连接到互联网以在线获取值。

*   现在困难的部分：我需要这些值对于每一天都是“唯一的”：用户 1 获得的 13 个随机值必须与用户 2 获得的 13 个值相同。

*   每个值都有自己的范围（有些是 [1-100]，有些是 [1-40]）

我对解决方案的第一个假设是使用来自设备系统的日期值的组合（一年中的一天、一个月中的一天、一周中的一天等），因为这些对于每个用户来说都是相同的。我不能使用小时、分钟或秒，因为这 13 个值需要在一整天内保持不变（它们只会在第二天更改，具体取决于设备系统）。

我很想读你的想法。

谢谢

编辑：如果时区之间的值不同，没关系。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:33:12.193

常用的数字[`Random`](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html)是[伪随机](http://en.wikipedia.org/wiki/Pseudorandom_number_generator)数。这意味着对于给定的种子，它们是可预测的。您可以将种子设置为自某个时间点以来的天数。例如，自[1970 年 1 月 1 日](http://en.wikipedia.org/wiki/Unix_time)起。然后取 13 个伪随机值。在那一天，它们在所有设备上都是一样的。第二天，你`Random`用种子 + 1 创建另一个，取 13 个伪随机值，依此类推。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:51:15.177

您认为可能是最直接的方法。对于大多数事情来说，一个简单的种子就可以了。

```
Calendar cal = new GregorianCalendar(); 
cal.set(Calendar.HOUR_OF_DAY, 0);
cal.set(Calendar.MINUTE, 0);
cal.set(Calendar.SECOND, 0);
cal.set(Calendar.MILLISECOND, 0);
long seed = cal.getTime().getTime(); 
```

# c# - 动态调用本地化字符串

> ID：15087836
> 
> 赞同：0
> 
> 时间：2013-02-26T11:23:55.467
> 
> 标签：c#, asp.net-mvc-3, razor, resx

我有两个 resx 文件（language.resx 和 language.ne.resx）。通过剃刀语法调用本地化字符串

```
@language.Sports 
```

我将字符串更改为从数据库中检索到的相应本地化字符串。相应的数据在 resx 资源文件中用作字符串。如何动态分配字符串，例如

```
foreach (var item in cat)
{
    language.item.CategoryName; //error
} 
```

如何动态调用本地化字符串？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:36:20.863

Item 的类型是什么？

你也不能只做下面的事情吗？

```
foreach (var item in cat)
{
    language[item].CategoryName;
} 
```

# javascript - 如何根据div标签图像自动调整图像大小

> ID：15087843
> 
> 赞同：0
> 
> 时间：2013-02-26T11:24:06.700
> 
> 标签：javascript, jquery

我想根据自动更改我的 div 标签大小来调整我在 div 标签内的图像的大小。我如何使用 j 查询来实现，请帮助我们注意图像在 div 标签内。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:25:28.633

答案很简单，将 width: 100% 添加到样式中。像这样：

```
<img src='image_url.jpg' style='width: 100%' alt='image_name'/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:30:17.707

这是代码。

```
 <div id="img_box">
    <img src="path/to/horizontal_image.jpg" style="width: 100%" />
    </div> 
```

也看看下面的链接。

[http://www.webmasterworld.com/css/3828593.htm](http://www.webmasterworld.com/css/3828593.htm)

[http://www.codingforums.com/showthread.php?t=145288](http://www.codingforums.com/showthread.php?t=145288)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T11:33:44.940

使用 jQuery：

```
$('.divSelector').find('img').css({
  'width': '100%',
  'height': '100%'
}); 
```

# c# - 创建一个带有从 0 到 1 的小数参数的方法

> ID：15087853
> 
> 赞同：2
> 
> 时间：2013-02-26T11:24:33.470
> 
> 标签：c#, parameters, decimal, parameter-passing

是否可以创建一个带有小数参数的方法，它只接受从 0 到 1 的值？

例子：

```
public decimal GetSamplingError(decimal percent){

    decimal result = 0;

    result = 100*percent;

    return result;

} 
```

是否可以控制参数百分比介于 0 和 1 之间？

感谢和抱歉我的英语不好。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:27:37.673

没有没有办法控制参数的范围，你可以做的是在函数本身内部控制它，并在函数中添加注释

```
public decimal GetSamplingError(decimal percent){

     if(percent > 1) 
        percent = 1; 
     else if(percent <0) 
        percent = 0;

    return 100*percent;    
} 
```

或者如果参数不在所需范围内，则提出一个in **case**`ArgumentOutOfRangeException`，但这取决于您希望如何管理应用程序的工作流。

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:27:34.270

没有办法在编译时检查这一点。最好的解决方案是在运行时检查参数：

```
public decimal GetSamplingError(decimal percent)
{
    if (percent < 0m || percent > 1m)
    {
        throw new ArgumentException("Percent should be between 0 and 1!", "percent");
    }

    decimal result = 0;
    result = 100*percent;
    return result;
} 
```

除了 Tigran 的方法之外，当传递无效参数时，这将抛出异常。我更喜欢这种方法而不是仅仅改变百分比值，因为它实际上会让你注意到你传递了一个错误的值。

当您使用`Code Contracts`Microsoft 时，您可以添加一个确保该值在特定范围内的合同。启用静态检查后，您将在`compile-time`.

```
Contract.Requires(percent > 0m && percent < 1m, "Percent must be between 0 and 1"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:42:40.663

我会`Percent`按照其他人的建议和一些额外的东西创建我自己的范围检查类型。这样，`Percent`它在您的应用程序中就是它自己的实体，每个人都知道何时以及如何使用它。一个简单的小数也可以，但是我更喜欢类型化的方法。

```
 internal class Percent
    {
        private readonly decimal _value;
        public decimal Value
        {
            get { return _value; }
        }
        public Percent(decimal value)
        {
            _value = (100 * value);
            if (value < 0m || value > 1m)
            {
                throw new ArgumentOutOfRangeException("value");
            }
        }
        public override string ToString()
        {
            return String.Format("{0}%", _value);
        }
        public override int GetHashCode()
        {
            // HashCode implementation;
        }
        public override bool Equals(object obj)
        {
            // Equals implementation;
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:28:44.253

你必须这样做：

```
public decimal GetSamplingError(decimal percent){
    if (percent < 0m || percent > 1m)
        throw new ArgumentOutOfRangeException("percent", "Must be between 0 and 1.");

    // rest of method
} 
```

当然，也可以创建自己的`struct`调用`DecimalBetweenZeroAndOne`，它是不可变的，并保存一个十进制字段，`readonly`您在其中编写检查以保证该字段的值始终在所需的范围内。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T11:29:40.687

如果值不是您所期望的，则可以验证输入并抛出异常：

```
 decimal getPercentage(decimal val)
    {
        if (val < 0 || val > 1)
            throw new ArgumentException();
        return val * 100;
    } 
```**

# javascript - 如何将 javascript 变量传递给 html 表单操作标记

> ID：15087863
> 
> 赞同：0
> 
> 时间：2013-02-26T11:24:53.250
> 
> 标签：javascript, html, web

我有一个包含名称、经度和纬度文本字段的 html 表单。经度和纬度存储在 javascript 变量中。您知道如何将名称、纬度和经度发布到服务器，我的意思是通过 url 吗？每次我提交表单时，经度和纬度都没有传递到网址中？谁能告诉我该怎么做？

谢谢

这是我的 javascript 和 html 代码：

```
 if (navigator.geolocation) {
    var geolocation = {};
    geolocation.latitude = 0;
    geolocation.longitude = 0;
    navigator.geolocation.getCurrentPosition(function (p) {
    geolocation.latitude = p.coords.latitude;
    geolocation.longitude = p.coords.longitude;           
    }, function (error) {
    alert("Failed to get GPS location");
    });
    } else {
    alert("Failed to get GPS working");
    }

    function loc() {
    document.getElementById("longitude").value = geolocation.latitude;
    document.getElementById("latitude").value = geolocation.longitude;

    } 
```

html:

```
 <form name="photo" method="post" action="url">
    <label for="name">Name:</label>
    <input type="text" name="name" id="Text1" value="" />
    <label for="longitude">Longitude:</label>
    <input type="text" name="longitude" id="longitude" />
    <label for="latitude">Latitude:</label>
    <input type="text" name="latitude" id="latitude" />
    <label for="image">Image:</label>
    <input type="text" name="image" id="image" />
    <input type="submit" value="Submit" />
    </form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:28:21.403

您可以在表单中添加元素...

```
var myForm = document.getElementById('myForm');

var longitude = document.createElement('input');
longitude.name= 'longitude';
longitude.value = '100';

var latitude= document.createElement('input');
latitude.name= 'latitude';
latitude.value = '100';

myForm.appendChild(longitude);
myForm.appendChild(latitude); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:31:57.467

在表单的操作中，您需要提及要调用的 servlet 的名称。利用三个隐藏字段来存储值名称、经度和纬度。这可以使用

`document.getElementById('hiddenFieldId1').value=longitude;` `document.getElementById('hiddenFieldId2').value=latitude;` `document.getElementById('hiddenFieldId3').value=name;`

这些值可以在 servlet 中使用`request.getParameter('hiddenFieldId');`

您需要在您的js中提交表单：

`document.myform.submit();`

`geolocation`变量尚未成为全局变量，因此未在您的函数中定义`loc()`。`geolocation.latitude`和没有赋值`geolocation.longitude`。

# java - Java鼠标拖拽逻辑

> ID：15087866
> 
> 赞同：0
> 
> 时间：2013-02-26T11:24:57.523
> 
> 标签：java, image, mouse, drag

我有一个加载的图像（imagePanel），它在类的前面添加了一个 mouseListener。

ImagePanel 正在被拖动，但只能拖动到图像的左上角（0,0）。下面的逻辑是我尝试偏移鼠标坐标但它似乎没有效果，我相信可能是 mousePressed() 没有被调用。

```
class MouseMotionHandler extends MouseMotionAdapter implements MouseListener
{
    int diffX, diffY;

    public void mousePressed(MouseEvent e)
    {
        diffX = e.getX() - imagePanel.getImageX();
        diffY = e.getY() - imagePanel.getImageY();
    }

    public void mouseDragged(MouseEvent e) 
    {                           
        imagePanel.setX(e.getX()-diffX);
        imagePanel.setY(e.getY()-diffY);
        imagePanel.repaint();
    }
    @Override
    public void mouseExited(MouseEvent e) {
    }
    @Override
    public void mouseEntered(MouseEvent e) {
    }
    @Override
    public void mouseReleased(MouseEvent e) {
    }
    @Override
    public void mouseClicked(MouseEvent e) {
    }
} 
```

任何帮助都会很棒。

编辑：已解决

问题是我在哪里初始化了监听器。mousePressed() 是 MouseListener 类的一部分，mouseDragged() 是 MouseMotionListener 类的一部分。所以我需要为每个添加单独的侦听器：

```
MouseMotionHandler mouseMotionHandler = new MouseMotionHandler();
imagePanel.addMouseListener(mouseMotionHandler);
imagePanel.addMouseMotionListener(mouseMotionHandler); 
```

谢谢，杰克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:30:35.093

您是否尝试过使用[Transfer Handler](http://docs.oracle.com/javase/6/docs/api/javax/swing/TransferHandler.html)？我已经成功使用它

**JTable 示例**

```
tbItens.setTransferHandler(new TransferHandler(){

    @Override
     protected Transferable createTransferable(JComponent c)
     {
         JTable table= (JTable)c;
         int row = table.getSelectedRow();
         return new StringSelection(String.valueOf(row));
     }

    @Override
    public int getSourceActions(JComponent c)
    {
        return TransferHandler.COPY;
    }

    @Override
    public boolean canImport(TransferHandler.TransferSupport support)
    {
        if(!support.isDrop())
            return false;

        if (!support.isDataFlavorSupported(DataFlavor.stringFlavor))
                return false;

        boolean copySupported = (COPY & support.getSourceDropActions()) == COPY;
            if (copySupported) {
                support.setDropAction(COPY);
                return true;
            }
        return false;
    }

    @Override
    public boolean importData(TransferHandler.TransferSupport support)
    {
        if(!this.canImport(support))
            return false;
        JTable.DropLocation dl = (JTable.DropLocation) support.getDropLocation();
        int row = dl.getRow();

        String data;
        try
        {
            data = (String)support.getTransferable().getTransferData(DataFlavor.stringFlavor);
        }
        catch (Exception e)
        {
            return false;
        }

        if(data == null || data.isEmpty())
            return false;

        //row = para onde vai
        //i Ã© aonde estava
        int i = Integer.valueOf(data);

        ArrayList<Object> lo = new ArrayList<Object>();
        for(int k=0; k< tbItens.getRowCount(); k++)
        {
            Object v = tbItens.getValueAt(k, 0);
            lo.add(v);
        }
        DefaultTableModel dt = (DefaultTableModel) tbItens.getModel();
        while(dt.getRowCount() != 0)
            dt.removeRow(0);

        Object item = lo.remove((int)i);
        lo.add(row, item);

        for(Object o : lo)
            dt.addRow(new Object[]{o});
        return true;
    }

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:41:58.477

看看[这个](http://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html)，它给出了一个使用鼠标运动监听器的例子。

# cocos2d-iphone - 如何动态更改身体和精灵？Box2d

> ID：15087870
> 
> 赞同：0
> 
> 时间：2013-02-26T11:25:02.957
> 
> 标签：cocos2d-iphone, box2d

我现在开始开发并遇到一个问题：我有一个身体是一块岩石，当它开始与另一个身体（这将是一个角色）接触时，想用同一身体的几块替换那个身体模拟裂缝，保持与身体相同的速度。那可能吗？我应该如何进行？

一些代码会很棒！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T23:57:54.687

经过多年的编程，我有了一个重大的认识。除了期望别人完全为您编写代码之外，没有什么（关于编程）是不可能的。

考虑到这一点，我建议对如何实现这一点进行一些研究。仅仅要求某人提供代码来做你想做的事情不会向任何人寻求太多帮助。您可以尝试在撞击时创建新的精灵/身体，并应用与前一个对象相同的速度来有效地替换原始精灵。

# php - cookie 未设置

> ID：15087872
> 
> 赞同：0
> 
> 时间：2013-02-26T11:25:04.113
> 
> 标签：php

一个非常新手的问题。我正在尝试设置 cookie

```
<?php 
    $expire = time() + 24*60*60; //1 day limit
    setcookie("name","Foo", $expire);
    echo $_COOKIE["name"]; //nothing is displayed
    var_dump($_COOKIE["name"]); //returns NULL 
?> 
```

我确信这是一件非常微不足道的事情。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:26:35.203

cookie 将在您的下一个页面加载时可用。`setcookie`只是将它与页眉一起发送。`$_COOKIE`数组包含随请求到达的 cookie。

# php - 如何在不加载页面的情况下运行 PHP 脚本

> ID：15087883
> 
> 赞同：-1
> 
> 时间：2013-02-26T11:25:29.337
> 
> 标签：php, cron

我需要一些东西来运行 PHP 脚本而不加载页面，也许是脚本？因为我的 PHP 脚本位于不允许我打开任何程序的 FTP 上，只能将我的 CMS 放在那里。我发现了一个叫 Cron 的东西，有人能解释一下它是什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:29:09.950

我很困惑你的意思是什么？您有一个 PHP 脚本，但您不希望它在网页上执行？这听起来像是一项 cron 工作。

本质上，Cron Job 允许您运行具有某些规则的 PHP 脚本。在一天中的某些时间等等等等。

尝试阅读以下内容：

[http://service.futurequest.net/index.php?/Knowledgebase/Article/View/23](http://service.futurequest.net/index.php?/Knowledgebase/Article/View/23)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:33:25.233

Cron 是一项服务，可在一天中的某些时间、一周中的某些天、月、年等执行您定义的命令。crontab 用于执行重复的任务，例如日志清理、构建统计信息等。

如果您需要在服务器上执行特定脚本，具体取决于您希望执行它的频率，您需要在 crontab 列表中添加一行。

看看这个[cron 介绍](http://www.unixgeeks.org/security/newbie/unix/cron-1.html)，了解如何指定你插入的内容。

不过，从您的问题语气来看，也许最好让您认识的人来帮助您，因为服务器管理有时会变得非常棘手！

# php - 数组内容的分组

> ID：15087889
> 
> 赞同：-3
> 
> 时间：2013-02-26T11:25:34.090
> 
> 标签：php, arrays

这是我需要按订单 ID 显示结果的数组，我们在其中显示一次 ID 以及与其关联的所有项目。每个ID中有多个项目，所有按ID的订单都会显示在屏幕上（当然有分页）..只是排序很麻烦..有什么帮助吗？

```
 $this->data['transactions'][] = array(

    'amount' => $result['total'],

    'firstname' => $result['firstname'],

    'lastname' => $result['lastname'],

    'id' => $result['order_id'],

    'telephone' => $result['telephone'],

    'quantity' => $result['quantity'],

    'name' => $result['name'],

    'price' => $this->currency->format($result['price'],$this->config->get('config_currency')),

    'total' => $result['total']
    ); 
```

我希望输出到 b 显示为

## 日期 OrderID CustomerName Tele 金额

产品

产品

产品

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:31:34.613

如果是排序的问题，请使用：

```
$your_array = $this->data['transactions'];
$sort = array();
foreach($your_array as $k=>$v) {
    $sort['id'][$k] = $v['id'];
}

array_multisort($sort['id'], SORT_DESC, $your_array);

echo "<pre>";
print_r($your_array); 
```

# visual-studio - 用于 asp.net Web 应用程序的 SVN 与 TFS

> ID：15087891
> 
> 赞同：3
> 
> 时间：2013-02-26T11:25:40.787
> 
> 标签：visual-studio, svn, version-control, tfs

我正在寻找一种工具，它为使用 Visual Studio 2012 开发 ASP.NET Web 应用程序提供以下功能：

1.  版本控制，

2.  错误跟踪，

3.  源代码控制，

4.  多个用户同时工作和访问同一个项目，

5.  与 Visual Studio 2012 集成。

以上所有功能都随 TFS 提供，但就我而言，我们有一个小型开发团队（少于 5 人），我认为 SVN 等免费工具可能比 TFS 更适合大型团队的成本效益更高.

**Q1)**如果 Apache Subversion SVN 能够实现上述 5 个主要功能，那么任何人都可以提出建议吗？

**Q2)**第二个问题，如果我使用 SVN 而不是 TFS，我会错过或无法在 SVN 中实现哪些功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:51:17.953

Apache Subversion 可能是你最好的朋友，但我想引用[这个答案](https://stackoverflow.com/a/661466/761095)：

> TFS 和 SVN 是没法比的！

**第 1 点和第 3 点：**肯定是的。

**第 2 点：**您可以将 SVN 与错误跟踪器集成，甚至可以使用客户端的花里胡哨。例如检查 TortoiseSVN 客户端手册：[“与错误跟踪系统/问题跟踪器集成”。](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-bugtracker.html)

**第4点：**肯定是的。

**第5点：**是的。检查Visual Studio 的[VisualSVN](http://www.visualsvn.com/visualsvn/)扩展。如果您的机器不在域中，您可以免费使用它。

至于 Apache Subversion 服务器，您可能需要查看[VisualSVN Server Standard Edition](http://www.visualsvn.com/server/)，它也是免费的。事实上，这将是 Windows 环境的最佳选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:40:37.783

据我所知，您可以达到第 1、3、4、5 点。对于第 2 点，我不确定。

但是你可以看看[这个](https://stackoverflow.com/questions/661389/tfs-vs-svn)

# c# - 如何在 C# 中使用 excel-column-name 格式在 Excel 中获取列索引

> ID：15087899
> 
> 赞同：0
> 
> 时间：2013-02-26T11:26:05.837
> 
> 标签：c#, excel

我在这里找到了 [http://lateral8.com/articles/2010/3/5/openxml-sdk-20-export-a-datatable-to-excel.aspx](http://lateral8.com/articles/2010/3/5/openxml-sdk-20-export-a-datatable-to-excel.aspx) 一个很棒的功能

```
private string getColumnName(int columnIndex)
{
    int dividend = columnIndex;
    string columnName = String.Empty;
    int modifier;

    while (dividend > 0)
    {
        modifier = (dividend - 1) % 26;
        columnName = 
            Convert.ToChar(65 + modifier).ToString() + columnName;
        dividend = (int)((dividend - modifier) / 26);
    }

    return columnName;
} 
```

我想做类似的事情 - 提供列名并接收索引。例如，提供名称“AB”并作为结果索引接收 28。如何做到这一点？

更新：

令人惊讶的是，我在评论部分找到了解决方案

这里 [https://stackoverflow.com/a/8739121/907732](https://stackoverflow.com/a/8739121/907732)

在这里 [https://stackoverflow.com/a/4888750/907732](https://stackoverflow.com/a/4888750/907732)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-10T12:49:09.853

```
public static string GetColumnName(int index)
{
    const string letters = "ZABCDEFGHIJKLMNOPQRSTUVWXY";

    int NextPos = (index / 26);
    int LastPos = (index % 26);
    if (LastPos == 0) NextPos--;

    if (index > 26)
        return GetColumnName(NextPos) + letters[LastPos];
    else
        return letters[LastPos] + "";
} 
```

# r - 条形组的 R 条形图颜色

> ID：15087902
> 
> 赞同：-1
> 
> 时间：2013-02-26T11:26:16.380
> 
> 标签：r, statistics

如果这是一个愚蠢的问题，对 R 来说相当新，很抱歉。

我想绘制一个包含大量数据的条形图——可能是 100 个条形图。

我想使用颜色和间距来突出“组”，所以我可能有前 10 个蓝色条，一个小间隙，接下来的 20 个红色，一个小间隙等等。

我可以很好地绘制数据，但是如何以这种方式进行着色和间隙？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:34:44.463

这可以很容易地`ggplot2`通过@Arun 的链接中提供的方式完成。

使用基本图形来设置条之间的空间，您可以使用参数`space=`（在每个条之前设置空间）并且参数`col=`将在函数中改变颜色`barplot()`。

这是一个包含 20 条且每 5 条之间有间距的示例。

```
df<-sample(1:10,20,replace=T)
barplot(df,space=c(0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0),
        col=rep(c("red","blue","green","yellow"),each=5)) 
```

如果每组中的观察数相同，则可以将值向量转换为矩阵，然后绘制它（使用参数`beside=TRUE`）。在这种情况下，您只需要提供颜色，但条形将自动分组。

```
df2<-matrix(df,ncol=4)
barplot(df2,beside=TRUE,col=rep(c("red","blue","green","yellow"),each=5)) 
```

![在此处输入图像描述](../Images/b043ba69e90c71fc1deb8eee12f7491a.png)

# asp.net-mvc - 生产服务器上的 Elmah

> ID：15087903
> 
> 赞同：2
> 
> 时间：2013-02-26T11:26:21.730
> 
> 标签：asp.net-mvc, elmah, elmah.mvc

我已经开始在这个项目中使用 Elmah，我发现它非常有用，但是我有一个问题。

如果你把它安装在生产服务器上，会不会有黑客攻击的风险？我的意思是不显示黄屏死机的想法也是不向您网站上的黑客提供信息。

这个信息不是也用elmah显示的吗？你会如何解决这个问题？在数据库中记录错误？

感谢您的意见

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T11:04:28.920

您必须使用登录名/密码保护您的 elmah 页面（因为它包含会话 cookie、表单参数......）。

我确实喜欢这样：在您的网站根目录上创建一个名为“log”的文件夹，更改其安全设置以仅允许域管理员。

然后在您的 web.config 中将您的 httphandler 从“elmah.axd”更改为“log/elmah.axd”，这样当您尝试访问 elmh 时，它会询问您的凭据。

# c# - 使用 FluentNHibernate NHibernate 3.3 的错误映射

> ID：15087904
> 
> 赞同：2
> 
> 时间：2013-02-26T11:26:21.813
> 
> 标签：c#, asp.net, nhibernate, fluent-nhibernate

使用“FluentNHibernate”时出现错误。.xml 中的类似文件工作正常，但我想使用“FluentNHibernate”更容易。你知道我哪里出错了吗？以及如何解决这个问题？

**复制例外**

```
NHibernate.MappingException was unhandled by user code
  Message=No persister for: TreningToWork.Models.Person
  Source=NHibernate
  StackTrace:
       at NHibernate.Impl.SessionFactoryImpl.GetEntityPersister(String entityName)
       at NHibernate.Impl.SessionImpl.GetEntityPersister(String entityName, Object obj)
       at NHibernate.Event.Default.AbstractSaveEventListener.SaveWithGeneratedId(Object entity, String entityName, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
       at NHibernate.Event.Default.DefaultSaveOrUpdateEventListener.SaveWithGeneratedOrRequestedId(SaveOrUpdateEvent event)
       at NHibernate.Event.Default.DefaultSaveEventListener.SaveWithGeneratedOrRequestedId(SaveOrUpdateEvent event)
       at NHibernate.Event.Default.DefaultSaveOrUpdateEventListener.EntityIsTransient(SaveOrUpdateEvent event)
       at NHibernate.Event.Default.DefaultSaveEventListener.PerformSaveOrUpdate(SaveOrUpdateEvent event)
       at NHibernate.Event.Default.DefaultSaveOrUpdateEventListener.OnSaveOrUpdate(SaveOrUpdateEvent event)
       at NHibernate.Impl.SessionImpl.FireSave(SaveOrUpdateEvent event)
       at NHibernate.Impl.SessionImpl.Save(Object obj)
       at NHibernateTutorial.PersonRepository.Add(Person newPerson) in D:\praca\TreningToWork\TreningToWork\Repository\PersonRepository.cs:line 15
       at TreningToWork.Controllers.ShowDataController.Index() in D:\praca\TreningToWork\TreningToWork\Controllers\ShowDataController.cs:line 21
       at lambda_method(Closure , ControllerBase , Object[] )
       at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
       at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
       at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<InvokeActionMethodWithFilters>b__12()
       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)
  InnerException: 
```

例外（更多细节）：

![在此处输入图像描述](../Images/eb4dd5fed2030a2fdb379c9097e3c99f.png)

例外（更多细节）：

![在此处输入图像描述](../Images/b604b77f2f3db29f2e016783e1f0a451.png)

FluentNHibernate（使其与 .xml 相同）

```
using System.ComponentModel.DataAnnotations;
using FluentNHibernate.Automapping;
using FluentNHibernate.Automapping.Alterations;

namespace TreningToWork.Models
{
    public class Person 
    {
        [Key]
        public virtual int Id { get; set; }
        public virtual string Name { get; set; }
        public virtual string Surname { get; set; }
    }
    public class PersonMappingAltertation : IAutoMappingOverride<Person>
    {
        public void Override(AutoMapping<Person> mapping)
        {
            mapping.Table("Person");
            mapping.Id(x => x.Id, "Id").GeneratedBy.Identity();
            mapping.Map(x=> x.Name, "Name").Column("Name").Not.Nullable();
            mapping.Map(x => x.Surname, "Surname").Column("Surname").Not.Nullable();
        }
    }
} 
```

人员助手

```
using NHibernate;
using NHibernate.Cfg;
using TreningToWork.Models;

namespace TreningToWork.ModelsHelper
{
    public class PersonHelper
    {
        private static ISessionFactory _sessionFactory;

        private static ISessionFactory SessionFactory
        {
            get
            {
                if (_sessionFactory == null)
                {
                    var configuration = new Configuration();
                    configuration.Configure();
                    configuration.AddAssembly(typeof(Person).Assembly);
                    _sessionFactory = configuration.BuildSessionFactory();
                }
                return _sessionFactory;
            }
        }

        public static ISession OpenSession()
        {
            return SessionFactory.OpenSession();
        }
    }
} 
```

个人资料库

```
using NHibernate;
using TreningToWork.Models;
using TreningToWork.ModelsHelper;

namespace NHibernateTutorial
{
    public class PersonRepository
    {
        public void Add(Person newPerson)
        {
            using (ISession session = PersonHelper.OpenSession())
            {
                using (ITransaction transaction = session.BeginTransaction())
                {
                    session.Save(newPerson);
                    transaction.Commit();
                }
            }
        }

        public Person GetPersonByName(string name)
        {
            using (ISession session = PersonHelper.OpenSession())
            {
                var result = session.QueryOver<Person>().Where(x => x.Name == name).SingleOrDefault();
                return result ?? new Person();
            }
        }

        public void Update(Person newPerson)
        {
            using (ISession session = PersonHelper.OpenSession())
            {
                using (ITransaction transaction = session.BeginTransaction())
                {
                    session.Update(newPerson);
                    transaction.Commit();
                }
            }
        }

        public void Delete(Person newPerson)
        {
            using (ISession session = PersonHelper.OpenSession())
            {
                using (ITransaction transaction = session.BeginTransaction())
                {
                    session.Delete(newPerson);
                    transaction.Commit();
                }
            }
        }

    }
} 
```

**编辑文件错误**

```
System.ArgumentNullException was unhandled by user code
  Message=Value cannot be null.
Parameter name: Data Source
  Source=System.Data
  ParamName=Data Source
  StackTrace:
       at System.Data.SqlClient.SqlConnectionStringBuilder.set_DataSource(String value)
       at FluentNHibernate.Cfg.Db.MsSqlConnectionStringBuilder.Create()
       at FluentNHibernate.Cfg.Db.PersistenceConfiguration`2.CreateProperties()
       at FluentNHibernate.Cfg.Db.PersistenceConfiguration`2.ConfigureProperties(Configuration nhibernateConfig)
       at FluentNHibernate.Cfg.FluentConfiguration.Database(IPersistenceConfigurer config)
       at TreningToWork.ModelsHelper.PersonHelper.get_SessionFactory() in D:\praca\TreningToWork\TreningToWork\ModelsHelper\PersonHelper.cs:line 20
       at TreningToWork.ModelsHelper.PersonHelper.OpenSession() in D:\praca\TreningToWork\TreningToWork\ModelsHelper\PersonHelper.cs:line 40
       at NHibernateTutorial.PersonRepository.Add(Person newPerson) in D:\praca\TreningToWork\TreningToWork\Repository\PersonRepository.cs:line 11
       at TreningToWork.Controllers.ShowDataController.Index() in D:\praca\TreningToWork\TreningToWork\Controllers\ShowDataController.cs:line 21
       at lambda_method(Closure , ControllerBase , Object[] )
       at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
       at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
       at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<InvokeActionMethodWithFilters>b__12()
       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)
  InnerException: 
```

**我改变的工厂**

```
using FluentNHibernate.Cfg;
using FluentNHibernate.Cfg.Db;
using NHibernate;
using TreningToWork.Models;

namespace TreningToWork.ModelsHelper
{
    public class PersonHelper
    {
        private static ISessionFactory _sessionFactory;

        private static ISessionFactory SessionFactory
        {
            get
            {
                if (_sessionFactory == null)
                {
                    _sessionFactory = Fluently.Configure()
                    .Database(MsSqlConfiguration.MsSql2008
                    .ConnectionString(c => c
                    .FromAppSetting("rafalConnectionString"))
                        //<%$ ConnectionStrings:rafalConnectionString %>
                    .ShowSql())
                    .Mappings(m => m
                    .FluentMappings.AddFromAssemblyOf<Person>())
                    .BuildSessionFactory();
                    // var configuration = new Configuration();
                    // configuration.Configure();
                    // configuration.AddAssembly(typeof(Person).Assembly);
                    // _sessionFactory = configuration.BuildSessionFactory();
                }
                return _sessionFactory;
            }
        }

        public static ISession OpenSession()
        {
            return SessionFactory.OpenSession();
        }
    }
} 
```

真的，我在配置方面遇到了问题。我将我的项目添加到这篇文章中。告诉我我在哪里犯了错误以及如何解决这个问题。我没有找到很好的例子，这个项目可能会在将来完成时转到 youtube。对于其他用户。

如果您了解这篇文章中的所有文件，则不必上传我的项目。

重要文件：

Controller -> 有控制器 Models、ModelsHelper、Repository 和 View。如果您打开网站，我的软件必须将新表和数据放入数据库。现在我遇到了这个问题。当我使用 .xml 文件时，一切正常，但我想使用“FluentNHibernate”，这是一个问题。

文件：[我的项目下载 praca.zip](http://www.sendspace.pl/file/b010fb8d696dd5ebcfcd34b)

下一个错误：

```
System.ArgumentNullException was unhandled by user code
  Message=Value cannot be null.
Parameter name: Data Source
  Source=System.Data
  ParamName=Data Source
  StackTrace:
       at System.Data.SqlClient.SqlConnectionStringBuilder.set_DataSource(String value)
       at FluentNHibernate.Cfg.Db.MsSqlConnectionStringBuilder.Create()
       at FluentNHibernate.Cfg.Db.PersistenceConfiguration`2.CreateProperties()
       at FluentNHibernate.Cfg.Db.PersistenceConfiguration`2.ConfigureProperties(Configuration nhibernateConfig)
       at FluentNHibernate.Cfg.FluentConfiguration.Database(IPersistenceConfigurer config)
       at TreningToWork.ModelsHelper.PersonHelper.get_SessionFactory() in D:\praca\TreningToWork\TreningToWork\ModelsHelper\PersonHelper.cs:line 21
       at TreningToWork.ModelsHelper.PersonHelper.OpenSession() in D:\praca\TreningToWork\TreningToWork\ModelsHelper\PersonHelper.cs:line 50
       at NHibernateTutorial.PersonRepository.Add(Person newPerson) in D:\praca\TreningToWork\TreningToWork\Repository\PersonRepository.cs:line 11
       at TreningToWork.Controllers.ShowDataController.Index() in D:\praca\TreningToWork\TreningToWork\Controllers\ShowDataController.cs:line 21
       at lambda_method(Closure , ControllerBase , Object[] )
       at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)
       at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)
       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)
       at System.Web.Mvc.ControllerActionInvoker.<>c__DisplayClass15.<InvokeActionMethodWithFilters>b__12()
       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)
  InnerException: 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T05:00:25.820

你的项目的问题太多了，无法一一列举。我做了很多更改（主要是删除了不必要的代码），让它工作并上传到[http://www.sendspace.pl/en/file/8f7f2ebf8fabf912800d64c](http://www.sendspace.pl/en/file/8f7f2ebf8fabf912800d64c)。

关键的变化是使用 Ninject 依赖注入框架将会话工厂创建为单例和每个请求的会话。

如果您有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T20:37:58.297

根据您的背景，一开始使用 NH 和 FNH 可能会非常混乱。

但是如果你替换这一行：

```
.FluentMappings.AddFromAssemblyOf<Person>()) 
```

用这条线：

```
.AutoMappings.Add(AutoMap.AssemblyOf<Person>()) 
```

我相信这将解决您的问题，或者至少为您指明正确的方向。

此外，您应该能够消除您的 PersonMappingAltertation 覆盖 - 它不是必需的 - 这样一个简单的实体应该可以很好地自动映射。

转到[FNH Wiki 自动映射页面](https://github.com/jagregory/fluent-nhibernate/wiki/Auto-mapping)以获得对自动映射的良好概述。

这也将链接到一个[示例项目](http://github.com/jagregory/fluent-nhibernate/tree/master/src/Examples.FirstAutomappedProject)，我发现这是最好的入门方式。

# php - 持有多个 ADODB 连接的单例

> ID：15087912
> 
> 赞同：0
> 
> 时间：2013-02-26T11:26:38.503
> 
> 标签：php, mysql, singleton, adodb

旧网站的数据库连接出现意外行为。该应用程序连接到同一台服务器上的多个 MySQL 数据库，原始开发人员创建了一个“单例”类，为每个数据库保存连接对象。

最近我们遇到了这个类的一个奇怪的行为：当一个连接在`www`创建之后创建`extra`时，获取的实例`extra`返回一个在查看时具有正确参数`var_dump()`但实际上连接到`www`数据库的连接。

什么可能导致这种情况？该代码以前在某个阶段工作过。在每次调用时创建一个新连接来`getInstance()`解决问题，但如果可能的话，我想以正确的方式解决这个问题。

```
<?php

class DBConnection
{
    private static $default;
    private static $extra;
    private static $intra;
    private static $www;

    public static function getInstance($dbname = "default")
    {
        global $db; // This is an array containing database connection parameters

        if(!($dbname == "default" || $dbname == "extra" || $dbname == "www" || $dbname == "intra"))
        {
            $dbname = "default";
        }

        if (empty(self::$$dbname)) // Making this pass every time fixes the problem
        {
            try
            {
                self::$$dbname = ADONewConnection('mysqlt');
                if(isset($db[$dbname]))
                {
                    self::$$dbname->connect(DBHOSTNAME, $db[$dbname]["dbusername"], $db[$dbname]["dbpassword"], $db[$dbname]["dbname"]);
                }
                else 
                {
                    // fallback
                    self::$$dbname->connect(DBHOSTNAME, DBUSERNAME, DBPASSWORD, DBNAME);
                }

                self::$$dbname->SetFetchMode(ADODB_FETCH_ASSOC);
                self::$$dbname->execute("SET NAMES utf8");

                return self::$$dbname;
            }
            catch(Exception $e)
            {
                exit("DB connection failed");
            }
        }
        else
        {
            return self::$$dbname;
        }
    }
} 
```

这是类行为不端的简化示例：

```
$cn = DBConnection::getInstance("extra");
$cn->debug = true;
$rs = $cn->execute("SELECT * FROM messages WHERE id = ".$this->id); 
```

最后一行失败并显示错误消息“表 www.messages 不存在”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:40:29.153

1：不需要在getInstance()中建立连接。getInstance 不能做任何事情，而是返回 DB 类的实例。

2：当你这样做时`self::$$dbname->connect(`，`if (empty(self::$$dbname))`下次你调用它时会返回false。

此处描述了单例：[http ://en.wikipedia.org/wiki/Singleton_pattern](http://en.wikipedia.org/wiki/Singleton_pattern)

你有什么 - 它只是一个静态方法。

# facebook - 获取用户注册日期 - 打开图表

> ID：15087918
> 
> 赞同：2
> 
> 时间：2013-02-26T11:26:51.363
> 
> 标签：facebook, facebook-graph-api

我查看了 Open graph docs，但无法找到有关您是否可以看到用户在 facebook 上注册的日期的任何信息。

看这里（[https://developers.facebook.com/docs/reference/api/user/](https://developers.facebook.com/docs/reference/api/user/)）我找不到任何东西。

有谁知道这个数据是否可用？

标记

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-19T18:45:41.040

不，此数据不可用。您可以做的最好的事情是拉取 API 可用的用户采取的最旧的操作。大多数时候它是一个状态帖子。

# html - IE中的HTML，CSS问题

> ID：15087919
> 
> 赞同：0
> 
> 时间：2013-02-26T11:26:52.480
> 
> 标签：html, css

在创建网站时，我为主 div 设置了 margin:0 auto。它正确对齐，但是当我在 IE 中缩小窗口时，它会左对齐。

```
 <style>
    body         { margin:0; padding:0 }
    #container   { margin:0; padding:0 }
    #container p { margin:0; padding:0 }
  </style>
  <html>
    <body>
      <div id="container"> <p>Chriz</p> </div> 
    </body>
  </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:56:34.407

你有固定的宽度吗？它应该读

```
#mainDiv{
    margin:0 auto;
    width: 900px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:33:26.177

嗨，现在习惯了这个 css

```
body{
text-align:center;
}

#container{
margin:0 auto;
text-align:left;
} 
```

# c# - 使用相对路径打开 html 文件

> ID：15087920
> 
> 赞同：-3
> 
> 时间：2013-02-26T11:26:52.727
> 
> 标签：c#, .net, file-io

我有一个需要打开的 html 文件。

我用了这段代码

```
try 
{ 
    Process.Start("HelpPage.htm"); 
} catch (Exception ex) { 
    MessageBox.Show(ex.Message); 
} 
```

如您所见，我使用了文件的相对路径。但它没有用。它抛出一个错误：

> 该系统找不到指定的文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:57:41.010

从您所写的内容来看，我认为问题在于您的路径 - 正如您已经知道的那样 - 是相对的。

```
try{ 
   Process.Start("HelpPage.htm"); 
} catch (Exception ex) { 
   MessageBox.Show(ex.Message); 
} 
```

此代码希望在您的应用程序正在运行的同一文件夹中打开一个文件，即您的 ExecuteablePath：

```
System.Reflection.Assembly.GetExecutingAssembly().Location //This is the application path 
```

现在，如果该位置不存在该文件，则无法打开它。因此，随之而来的是引发[FileNotFoundException](http://msdn.microsoft.com/en-US/library/system.io.filenotfoundexception%28v=vs.80%29.aspx)的后果。

现在：

如果要在 X:\myFolder\myFolder2\myHTMLfile.html 上打开文件

您必须将绝对文件路径传递给您的应用程序：

你可以这样做

```
Process.Start("X:\\myFolder\\myFolder2\\myHTMLfile.html"); 
```

在这里你用第二个反斜杠掩盖反斜杠或

```
Process.Start(@"X:\myFolder\myFolder2\myHTMLfile.html"); 
```

> @-quoting 的优点是不处理转义序列，这使得编写[和阅读]变得容易

欲了解更多信息，请看[这里](http://msdn.microsoft.com/en-Us/library/362314fe%28v=vs.80%29.aspx)

编辑：

如果该文件存在于 ApplicationDirectory 中，此[链接](https://stackoverflow.com/questions/5475265/file-not-found-but-the-file-is-there)可能会有所帮助。

# java - 以 root 身份签名和 Android 应用程序

> ID：15087924
> 
> 赞同：0
> 
> 时间：2013-02-26T11:27:01.550
> 
> 标签：java, android, java-native-interface

我想运行一个应用程序以在 root 模式下测试某些特定场景。来自 android 开发者网站 Android 不为应用程序提供 root 权限，除非使用 FACTORY_TEST 权限。通过在线阅读，我发现要使用权限，我需要使用构建 Android 源代码时生成的平台密钥对其进行签名。如果我可以访问平台签名，那么如何添加`android.permission.FACTORY_TEST`权限？

每次我在 manifest.xml 中添加这个设置时，xml 都会显示一个错误，指出只有工厂应用程序可以使用它。到目前为止出现的所有在线帮助都要求我执行以下步骤。

1.  添加`android:sharedUserId="android.uid.system`. 从 Eclipse 中将 apk 导出为未签名的 apk。
2.  使用平台密钥对 apk 进行签名。
3.  安装并使用它。

由于清单抛出错误，我是否需要简单地忽略错误并继续？
有没有详细的操作步骤？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T04:39:25.230

> 除了使用 FACTORY_TEST 权限外，Android 开发者网站 Android 不提供具有 root 权限的应用程序。通过在线阅读，我发现要使用权限，我需要使用构建 Android 源代码时生成的平台密钥对其进行签名。

你在哪里读到的？据我了解，如果您无法访问 OEM 用于签署其固件或以其他方式编译和签署您自己修改过的固件的密钥，则您无法使用该`FACTORY_TEST`权限。

这是你看到的那种信息吗？

```
08-05 17:57:46.170: WARN/PackageManager(52): Not granting permission 
android.permission.FACTORY_TEST to package XXXX (protectionLevel=2
flags=0x7e44) 
```

在任何情况下，这些权限（`protectionLevel`2 或 3）只能在您是 OEM 或构建自己的自定义 ROM（在可能有根的手机上运行）时使用。

# javascript - 如何将参数从链接传递到jquery方法

> ID：15087925
> 
> 赞同：0
> 
> 时间：2013-02-26T11:27:02.077
> 
> 标签：javascript, jquery

当用户单击链接时，我需要触发 JQuery 方法，并调用位于`/Project/Send/SendMethod`. 当我单击`send`该方法被触发的链接时，我知道这一点，因为正在显示警报。但问题是如何调用网络服务。如果是`POST`方法就好了。

```
<a href='' id='2' class='send'> Send  </a> 
```

jQuery方法

```
 $(function () {
        $('.send').click(function () {
            alert(this.id);

        });
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:34:32.243

您可以`$.ajax()`在 jQuery 中使用 api。此外，您必须阻止默认链接中的默认行为。否则，您将更改页面而不是发送 ajax 请求。

```
$('.send').click(function (event) {
    event.preventDefault();
    $.ajax( {
        url:"Project/Send/SendMethod",
        type: "POST",
        data: { "id": this.id },
        success:function(data) {
            alert(data);
        }
    });
}); 
```

如果您使用的是 jQuery 1.8+，因为从 jQuery 1.8 开始不推荐使用“成功”回调。您应该使用“完成” [http://api.jquery.com/deferred.done/](http://api.jquery.com/deferred.done/)

```
$('.send').click(function (event) {
    event.preventDefault();
    $.ajax( {
        url:"Project/Send/SendMethod",
        type: "POST",
        data: { "id": this.id }
    }).done(function( data) {
        alert(data);
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:29:08.703

使用`$.ajax()`方法并指定 URL 和选项，如 [jQuery Ajax](http://api.jquery.com/jQuery.ajax/)

```
$(function() {
    $('.send').click(function (e) {
        e.prevenDefault();
       $.ajax({
          url: "Project/Send/SendMethod",
          type: "POST",
          data: values,
          success: function(){
                  alert("success");
                  $("#result").html('submitted successfully');
          }
       });
    });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:31:20.557

使用 jQuery `$.post`：

```
 $(function () {
    $('.send').click(function () {
        alert(this.id);
        $.post(url, {'id':this.id}, function (response) {
            //do the result oriented activities
        });
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T11:29:06.007

我会使用 jQuery 的`ajax()`功能（并且经常这样做）。

下面的示例假设您将获得 JSON 格式的响应。如果您要返回一个完整的 HTML 页面，您可以更改此设置...查看[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)了解更多信息。

```
$(function () {
    $('.send').click(function (e) {
        e.stopPropagation();
        e.preventDefault();
        var thisId = $(this).attr('id');
        alert(thisId);
        var hostAndPort = window.location.protocol + "//" + window.location.hostname + ":" + window.location.port; // current page and protocol (http or https)
        var requestUrl = hostAndPort + "/Project/Send/SendMethod/";
        var str_address = requestUrl + 'id?=' + thisId;
        $.ajax({
            url: str_address,
            contentType: 'application/json',
            dataType: 'JSON',
            type: 'POST',
            success: function (response) {
                console.log(response);
                // do something...
            },
            error: function (e) {
                // handle error
            }
        });
    });
}); 
```

# android - 选择器未正确设置图像

> ID：15087926
> 
> 赞同：0
> 
> 时间：2013-02-26T11:27:08.923
> 
> 标签：android, android-imageview, android-drawable, android-selector

我有两张图片来展示两种不同的状态，正常和按下。按下状态的图像尺寸比正常状态稍大。

问题：当我按下它时，它会改变图像，但它不会改变图像视图的大小，它会压缩我的图像并显示与正常状态下的图像大小相同的图像。我在我的 xml 文件中给出了 wrap_conten 的宽度和高度。

这是我在 imageview 的 src 属性中给出的选择器类。

```
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
     <!-- pressed -->
    <item android:drawable="@drawable/selected_add_item_480" android:state_pressed="true"
        />
    <!-- focused -->
    <item android:drawable="@drawable/home_add_item_480" android:state_focused="true" />
    <!-- default -->
    <item android:drawable="@drawable/home_add_item_480"/>
    </selector> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:23:16.467

布局没有得到重新测量，这是问题的原因。一个简单的解决方案是创建两个相同大小（像素）的图像，但一个具有比另一个更宽的透明边框。因此，基本上图像的可见部分的大小会有所不同。

# php - 选择 DISTINCT 名称但返回所有数据

> ID：15087927
> 
> 赞同：4
> 
> 时间：2013-02-26T11:27:09.800
> 
> 标签：php, mysql

所以我有一张装满汽车的桌子：

假设有 4 条道奇毒蛇，数据库中将有 4 个条目，除了 carID 之外，所有条目都相同。

```
 carID | carname | carmodel | colour   |  reg
--------------------------------------------------
    1    |  viper  |  dodge  |   red     |  123
    2    |  viper  |  dodge  |   red     |  124
    3    |  viper  |  dodge  |   red     |  125
    4    |  viper  |  dodge  |   red     |  126
    5    |   R8    |  audi   |   blue    |  127
    6    |   R8    |  audi   |   blue    |  128 
```

当用户搜索汽车时，我只想显示一条道奇毒蛇。但是，我想从该行以及其他所有不同的汽车中提取所有信息。

所以我想要的输出是：

```
 carID | carname | carmodel | colour  |  reg
--------------------------------------------------
     1   |  viper  |   dodge  |  red    |  123
     5   |   R8    |   audi   |  blue   |  127 
```

如果我做：

```
SELECT DISTINCT * FROM cars 
```

它拉回所有条目。

```
SELECT DISTINCT carname FROM cars 
```

只拉回一个，但我只有车名。

有没有这样的：

```
SELECT * FROM cars ORDER BY DISTINCT carname 
```

或者类似的东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:35:41.093

没看懂，是分组吗？

```
SELECT MAX(CarId) as carId, carname, carmodel, colour FROM cars GROUP BY carname, carmodel, colour; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T11:36:11.517

如果你想返回 he `carId`，那么你可以使用以下命令返回`min(carid)`每个相同的`carname`，等等：

```
select min(carId) as carId, carname, carmodel, colour
from cars
group by carname, carmodel, colour 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!2/d480a/2)

你会看到我把它放在`carId`一个聚合函数中，这是为了确保 MySQL 总是返回`carId`列的预期值。当您不这样做`GROUP BY`或聚合 SELECT 列表中的项目时，您可能会返回意外的结果。（参见[MySQL 扩展`GROUP BY`](http://dev.mysql.com/doc/refman/5.0/en/group-by-extensions.html)）

来自 MySQL 文档：

> MySQL 扩展了 GROUP BY 的使用，以便选择列表可以引用未在 GROUP BY 子句中命名的非聚合列。...您可以使用此功能通过避免不必要的列排序和分组来获得更好的性能。但是，这主要在每个未在 GROUP BY 中命名的非聚合列中的所有值对于每个组都相同时很有用。服务器可以从每个组中自由选择任何值，因此除非它们相同，否则选择的值是不确定的。此外，从每个组中选择值不会受到添加 ORDER BY 子句的影响。在选择了值之后对结果集进行排序，并且 ORDER BY 不会影响服务器选择的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T11:29:45.027

试试这个：

```
SELECT DISTINCT carname, otherCol1, otherCol2... FROM cars 
```

[SQLFiddle 这里](http://sqlfiddle.com/#!2/97b4e/1)

当您编辑问题并希望显示您的 car_id 时，上述解决方案并不好。干得好：

```
SELECT MIN(carId) AS carId, carname, carmodel, colour
FROM cars
GROUP BY carname, carmodel, colour 
```

MIN 或 MAX SUM 无论你使用什么都只是一个投影......你可以说的感知

# vb.net - 来自同一母版页的共享功能的母版页中的访问控制

> ID：15087928
> 
> 赞同：3
> 
> 时间：2013-02-26T11:27:12.033
> 
> 标签：vb.net, master-pages

我正在从内容页面调用母版页的共享功能。在该共享功能中，我想访问母版页中的控件，但我不知道如何。

**主控**

```
<asp:Literal ID="ltCurrency" runat="server" /> 
```

**主主变种vb**

```
Partial Public Class main
Inherits System.Web.UI.MasterPage

Public Property CurrencyText() As String
    Get
        Return ltCurrency.Text
    End Get
    Set(ByVal value As String)
        If value <> "" Then
            ltCurrency.Text = value
        End If
    End Set
End Property

Public Shared Function DoSomething() As String  
    ltCurrency.Text="SOME TEXT" 'throws error: Cannot refer to an instance member of a class from within a shared method or shared member initializer without an explicit instance of the class.    

    CurrencyText="SOME TEXT" 'this property isn't found at all 
```

'我还尝试实例化当前母版页的一个新类：Ctype(main,Masterpage).CurrencyText

```
End Function

End Class 
```

从 page1.aspx 我调用：

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    main.DoSomething()
End Sub 
```

我还可以做些什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:37:16.513

对于它的价值（我不知道您为什么需要将其共享），您可以使用它`HttpContext`来获取对您的页面并从那里到您的主人的引用：

```
Public Shared Function DoSomething() As String
    Dim myPage = TryCast(HttpContext.Current.Handler, Page)
    If myPage IsNot Nothing Then
        Dim myMaster As main = TryCast(myPage.Master, main)
        If myMaster IsNot Nothing Then
            myMaster.ltCurrency.Text = "SOME TEXT" 
            myMaster.CurrencyText = "SOME TEXT"
        End If
    End If
End Function 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:37:49.893

第 1 步：在您的内容页面中创建一个事件。

```
Public Event DoSomething(sender as object, myString as String) 
```

步骤 2：在您的主页上，为您刚刚在内容页面中创建的事件添加一个事件处理程序。

```
Addhandler contentPage.DoSomething, AddressOf ChangeCurrentText 
```

Step3：在处理程序中做任何你想做的事情。

```
Private Sub ChangeCurrentText(sender, text)
ltCurrency.Text = text
End Sub 
```

Step4：在内容页面发起事件

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    RaiseEvent DoSomething(ME, "BLAH BLAH")
End Sub 
```

# php - How to do left join in Doctrine?

> ID：15087933
> 
> 赞同：64
> 
> 时间：2013-02-26T11:27:16.687
> 
> 标签：php, doctrine-orm, zend-framework2

This is my function where I'm trying to show the User history. For this I need to display the user's current credits along with his credit history.

This is what I am trying to do:

```
 public function getHistory($users) {
    $qb = $this->entityManager->createQueryBuilder();
    $qb->select(array('a','u'))
            ->from('Credit\Entity\UserCreditHistory', 'a')
            ->leftJoin('User\Entity\User', 'u', \Doctrine\ORM\Query\Expr\Join::WITH, 'a.user = u.id')
            ->where("a.user = $users ")
            ->orderBy('a.created_at', 'DESC');

    $query = $qb->getQuery();
    $results = $query->getResult();

    return $results;
} 
```

However, I get this error :

> [Syntax Error] line 0, col 98: Error: Expected Doctrine\ORM\Query\Lexer::T_WITH, got 'ON'

*Edit*: I replaced 'ON' with 'WITH' in the join clause and now what I see is only 1 value from the joined column.

* * *

## 回答 #1

> 赞同：137
> 
> 时间：2013-02-26T11:42:38.763

If you have an association on a property pointing to the user (let's say `Credit\Entity\UserCreditHistory#user`, picked from your example), then the syntax is quite simple:

```
public function getHistory($users) {
    $qb = $this->entityManager->createQueryBuilder();
    $qb
        ->select('a', 'u')
        ->from('Credit\Entity\UserCreditHistory', 'a')
        ->leftJoin('a.user', 'u')
        ->where('u = :user')
        ->setParameter('user', $users)
        ->orderBy('a.created_at', 'DESC');

    return $qb->getQuery()->getResult();
} 
```

Since you are applying a condition on the joined result here, using a `LEFT JOIN` or simply `JOIN` is the same.

If no association is available, then the query looks like following

```
public function getHistory($users) {
    $qb = $this->entityManager->createQueryBuilder();
    $qb
        ->select('a', 'u')
        ->from('Credit\Entity\UserCreditHistory', 'a')
        ->leftJoin(
            'User\Entity\User',
            'u',
            \Doctrine\ORM\Query\Expr\Join::WITH,
            'a.user = u.id'
        )
        ->where('u = :user')
        ->setParameter('user', $users)
        ->orderBy('a.created_at', 'DESC');

    return $qb->getQuery()->getResult();
} 
```

This will produce a resultset that looks like following:

```
array(
    array(
        0 => UserCreditHistory instance,
        1 => Userinstance,
    ),
    array(
        0 => UserCreditHistory instance,
        1 => Userinstance,
    ),
    // ...
) 
```

# javascript - 将内容从 1 个 div 克隆到另一个？

> ID：15087934
> 
> 赞同：0
> 
> 时间：2013-02-26T11:27:23.313
> 
> 标签：javascript, jquery, html

我有 90 多个 div，每个 div 中都有一个图像/图标。我想要它，以便当我单击其中一个时，该图像会出现在另一个 div 中。什么是一个体面的方法来做到这一点？我对 JS 还不太了解，所以可以举一个 HTML 的小例子，也仅限于 html5、Ajax 和 js。

编辑：我应该澄清一下，我想要内容进入的 div 已经制作好了，它也不必创建。

```
<link href="CSS/mainSource.css" rel="stylesheet" type="text/css">
</head>
<body onLoad="display()">

<div id="testBox">
<div id="contentScroller">

<!-- I want to click one of these... -->

<div id="ahri"><img src="images/LoLchamps/Ahri.png" width="64" height="64"></div>
<div id="akali"><img src="images/LoLchamps/Akali.png" width="64" height="64"></div>
<div id="alistar"><img src="images/LoLchamps/Alistar.png" width="64" height="64"></div>
<div id="amumu"><img src="images/LoLchamps/Amumu.png" width="64" height="64"></div>

<!-- ...and clone the div OR content from clicked div/image into a div that I'll set up below the clear fix -->

<div style="display: block; clear: both;"></div>
</div>
</div>
<script type="text/javascript">
var myScroll = new iScroll('testBox');
</script>

</body>
</html> 
```

谢谢。- 肯 B。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T11:31:53.007

试试这个（你需要加载 Jquery 库）

```
$(document).ready(function () {
    $("div.selecters").click(

    function () {
        $("#clone").html($(this).html());
    });
}); 
```

这是一个示例，除非我猜到我的类和 id 很幸运，否则它不适用于您的 HTML

[这是一个演示](http://jsfiddle.net/Burnacid/yQ6Bf/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:35:00.007

阅读 :target in css3 它很容易使用 CSS3 没有太多使用 JS 阅读一个简单但很棒的教程

[关于 css3 技巧](http://css-tricks.com/css3-tabs/)

和真正值得一读[的演示](http://css-tricks.com/examples/CSSTabs/)

# drupal-7 - Drupal 7 扩展领域

> ID：15087937
> 
> 赞同：0
> 
> 时间：2013-02-26T11:27:29.550
> 
> 标签：drupal-7, relationship, field, taxonomy

我在 cms 中有一个名为“服务”的字段，该服务是一个带有值的复选框

```
1|digital
2|web
3|print
4|apps 
```

问题是每个选项都有一个相关的 url。有没有办法将 url 链接到“服务”，或者我是否正在查看分类法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:39:34.677

您需要使用分类法。选择列表只是没有其他附加数据的键/值对。如果您构建一个新的分类法，您可以使用分类法 URL 来达到您的目的，或者您可以添加一个链接字段并为每个术语提供一个特定的 URL 并以某种方式将其绑定，可能通过视图或自定义显示。

# php - 为我的网站创建 iframe 搜索页面

> ID：15087942
> 
> 赞同：2
> 
> 时间：2013-02-26T11:27:40.997
> 
> 标签：php, html, forms

我很难用语言表达我的疑问。但是我会尝试。

我有一个网站 xyz.com，它具有列出产品的搜索功能。搜索页面 url 生成如下：www.wyz.com/search/search_term

我想在第三方站点中创建一个 iframe 页面，该页面具有可以直接与我的站点 xyz.com 通信的搜索工具。

我试图创建一个带有提交按钮的搜索框。我想将搜索查询作为变量附加到我的表单操作 url 字符串中。所以搜索字符串应该是这样的：www.wyz.com/search/my_string_variable

# 我写的代码是：

```
<?php
$url='http://www.xyz.com/search/';
?>

<?php

if (isset($_POST['submit']))
{
$r1=$_POST['num1'];
   }
  ?>
<?php
$result=$url.$r1
?>

<html><body>
<form action="<?php echo $result; ?>" method="post">
Num1:<input name="num1"><br>
<input type="submit" name="submit">
</form>
</body></html> 
```

==================================================== ================ 但是输出我得到的只是“ [http://www.xyz.com/search/](http://www.xyz.com/search/) ”。它从 url 中删除我的变量。我找不到是什么原因？我还尝试通过打印结果来检查实际输出，它表明它已在 url 末尾添加了值。但是当我想通过表单操作来实现同样的事情时，它就不起作用了。请帮忙？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:56:02.477

```
 <?php
    $url='http://www.xyz.com/search/';
    ?>

   <?php

     if (isset($_POST['submit']))
     {
      $r1=$_POST['num1'];
      $result=$url.$r1;
      header("location:$result");
      }
     ?>

     <html><body>
     <form action="" method="post">
     Num1:<input name="num1"><br>
      <input type="submit" name="submit">
      </form>
     </body></html> 
```

请尝试上面的代码。我做了一些修改。您的代码不起作用的主要原因是，每当您按下提交按钮时，它都会直接转到网址“ [http://www.xyz.com/search/”。if](http://www.xyz.com/search/)条件永远不会执行。在上面提到的代码中，它将正常工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:35:55.037

action="" - 您提交到错误的网址。这是替代版本-

```
<?php $url='http://www.xyz.com/search/';
if (isset($_POST['submit'])) {
      $r1=$_POST['num1']; header("Location: ".$r1); // 302 redirection
} 
?>

<html><body> <form target="_SELF" method="post"> Num1:<input name="num1" type="text" /><br /> <input type="submit" name="submit" /> </form> </body></html> 
```

# roku - 从 Roku 应用程序开发开始

> ID：15087948
> 
> 赞同：2
> 
> 时间：2013-02-26T11:27:46.100
> 
> 标签：roku, brightscript

我想开始学习 Roku，任何人都可以建议我一些网站和视频、文档等来启动。

请给我一些链接

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T15:03:25.063

您可以从[Roku 开发人员指南](http://sdkdocs.roku.com/display/RokuSDKv48/Developer+Guide)、[开发博客](http://blog.roku.com/developer/)和[开发论坛](http://forums.roku.com/viewforum.php?f=34)开始。您甚至可能想下载一个现有的示例[模板](https://github.com/BrightcoveOS/Roku-Sample-App)来玩 - 有时更容易查看现有设置以确定您需要和可以使用的内容。

# android - 在使用 sax 解析器解析带有“&”作为数据一部分的 xml 时，解析器会中断

> ID：15087949
> 
> 赞同：0
> 
> 时间：2013-02-26T11:27:46.100
> 
> 标签：android, xml-parsing, saxparser

当我的 XML 包含类似标签时，我正在使用 SAX 解析器进行 XML 解析

```
<ServicePath>../Master/WebForm1.aspx?IsFirst=1&amp;&amp;</ServicePath>

 <ServicePath>../FieldBook/ExportFieldBookData.aspx</ServicePath> 
```

我的数据库中分别只有“&”和“x”。如何使用 SAX 解析器解决这个解析问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:20:46.937

我有一个类似的问题，我可以通过将数据存储在字符串生成器而不是字符串中来解决这个问题。如果您使用的是字符串，请尝试此操作。

```
 @Override
public void endElement(String uri, String localName, String qName)throws SAXException 
{
    currentElement = false;

    if(localName.equalsIgnoreCase("title"))
    {

            header.add(sb);

    }
    if(localName.equalsIgnoreCase("description"))
    {

            desc.add(sb);

    }

    }

     public void characters(char[] ch, int start, int length)throws SAXException
{
    super.characters(ch, start, length);

    Sb = new StringBuffer();
    Sb.append(ch, start, length);

} 
```

header 和 desc 是我的 arrayists，sb 是我的 stringbuilder。

# node.js - 在 Cloud 9IDE 中使用 Node js Express 运行 Hello World

> ID：15087953
> 
> 赞同：4
> 
> 时间：2013-02-26T11:28:12.933
> 
> 标签：node.js, express, cloud9-ide

我通过替换使用node JS express框架在cloud 9 IDE中成功运行了hello world

```
app.listen(3000); 
```

到

```
app.listen(process.env.PORT); 
```

cloud 9 要求我使用 process.env.IP 作为脚本的主机。我应该打开哪个文件来将主机名替换为 process.env.IP？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T20:21:02.253

您可以`listen`使用如下附加参数调用：

```
app.listen(3000, '192.168.0.100'); 
```

或者，

```
app.listen(process.env.PORT, process.env.IP); 
```

所以这应该是你正在寻找的。让我知道它是否有效！

# c++ - CDialog::DoModal 在从 32 位迁移到 64 位后静默崩溃

> ID：15087957
> 
> 赞同：0
> 
> 时间：2013-02-26T11:28:21.250
> 
> 标签：c++, windows, visual-studio-2010, visual-studio, mfc

在将现有 32 位 MFC 代码迁移到 64 位的过程中，我成功构建并尝试测试代码

不幸的是，在测试过程中似乎失败（相当崩溃）

**失败的堆栈**

```
hWnd = ::CreateDialogIndirect(hInst, lpDialogTemplate,  pParentWnd->GetSafeHwnd(), AfxDlgProc);
CreateDlgIndirect(lpDialogTemplate, CWnd::FromHandle(hWndParent), hInst)
CDialog::DoModal() 
```

没有生成转储，也没有生成的异常被 SEH 捕获

我尝试将调试运行与现有的 Win32 调试运行进行比较，但找不到任何显着差异

在这一刻，我不知道我应该如何进行。任何形式的帮助都备受期待

**异常信息：** xyz.exe 中 0x000007fefd89a5ed (KernelBase.dll) 处的第一次机会异常：0x00001234:0x1234。

**实际问题**

实际问题是由于正在发生的指针截断导致它崩溃。@OwenWengered 的解决方案确实帮助我查明了问题并处理了我目前正在工作的所有此类指针截断。我很幸运:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T15:34:50.193

正如 HansPassant 在评论中已经说过的那样，除了调试它并跟踪当时应用程序实际尝试执行的操作之外，您几乎无能为力。

对于完整的开始，“0x1234”值似乎很奇怪。如果您有来源，请找到有问题的行并在那里设置断点。然后，一旦命中，检查哪些值（提示？lpdialogtemplate？pParentWnd？）可能已被修剪为那个 0x1234。在您的调试会话中，值 1234 可能会有所不同，因此请小心并检查任何看起来很奇怪的指针，即。太小或看起来不对齐。

如果您有消息来源，请在（之前！）周围（之前！）张贴引用您的相关部分。

如果您没有任何来源，请尝试获取它们:)

如果你不能得到它们，那么你可以在原始（反）汇编中调试，但是，你不仅需要引用 asm 部分，还需要引用寄存器和堆栈值.. 嗯，很难可能会吸引观众。

很难说更多，因为目前我/我们对你的案子的了解比你还少:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-17T17:17:41.697

我只是有一个非常相似的问题。很久以前，在 VS6 中编码时，您可以创建一个清单文件（在资源下）来更改对话框的外观，从而为它们提供 WinXP 对话框外观（带有圆边）。

[https://msdn.microsoft.com/en-us/library/aa289524%28v=vs.71%29.aspx](https://msdn.microsoft.com/en-us/library/aa289524%28v=vs.71%29.aspx)

所以我在资源中的 RT_MANIFEST 下有一个名为 IDR_WIN_XP_THEME 的文件。

我能够升级到所有版本的 Visual Studio。但是当我在 VS2015 中将应用程序转换为 64 位并尝试以 64 位打开应用程序时，它失败并出现异常错误。

在 0x000007FEFC94965D (KernelBase.dll) 处引发异常

我刚刚删除了 IDR_WIN_XP_THEME 清单文件，它就开始工作了。

# android - 用户做出选择时调用 onResult

> ID：15087960
> 
> 赞同：0
> 
> 时间：2013-02-26T11:28:28.283
> 
> 标签：android, checkbox, android-listview, start-activity

我有一个列表视图，其中包含一些可检查的 cetegories。我想开始此活动，`startActivityForResult`当用户返回初始活动时，此活动将开始创建已选择的类别并将其 ID 存储在列表中。问题是我应该在哪里调用该`onResult`方法。我的第一个想法是这样说：

```
@Override
protected void onPause() {
    super.onPause();
    if(isFinishing()){
      onResult()....call here       
    }
} 
```

但是，据我所知，这`isFinishing()`并不是确保活动完成并且我们无法确定何时调用它的最佳方式。当用户检查完他的类别后，有没有更好的方法来返回结果？我的意思是我不能`onResult`每次用户做出选择时都发送。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:33:53.090

在选择期间调用`setResult(int resultCode, intent data)`并覆盖您之前活动中的 onActivityResult。

```
public void onActivityResult(int requestCode, int resultCode, Intent intent) {

  //do something here.

} 
```

我希望这可以帮助你... ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:35:13.863

`onResult()`当您想识别活动的结果时，您不必调用，而是`setResult`在用户进行选择时使用，并且当您的活动完成时，最后设置的结果将传播回启动您的活动以获得结果的活动。

代码应如下所示：

```
onItemSelected(){ // or onClick
     getItem();
     setResult();
} 
```

# scp - 使用临时文件进行“近原子”传输的含义？

> ID：15087961
> 
> 赞同：8
> 
> 时间：2013-02-26T11:28:33.310
> 
> 标签：scp, temporary-files

我正在阅读 linux 中的“SCP”命令手册页，最后它说

> “没有尝试使用临时文件进行“近原子”传输”。

隐约我能猜到它是什么，但谁能清楚地告诉我这句话的技术定义。

谢谢，稻谷

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-07-10T09:13:55.133

正如克雷格所说，原子副本将使用临时文件，然后将临时文件 mv 到预期的目的地。mv 是一个原子提供源和目标位于同一分区上。只有已打开 tmp 文件的文件操作才能读取内容。rename() 对在分区之间移动的文件不是原子的，因为必须复制数据。

这当然假设您正在 scp'ing 到 UNIX 系统:)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-06T15:12:46.820

原子意味着在 scp 完成文件之前，没有其他任何东西可以读取或写入文件。“近原子”是指将文件*复制*到临时位置（在目标机器/磁盘上）然后将其*移动*到最终位置的常见做法。移动操作比副本快得多（相比之下，“近原子”），但它不一定是真正意义上的原子。在非原子移动期间，另一个进程仍可能以不一致的状态读取文件。

# asp.net - 设置 IIS Express 以接受 Visual Studio 2012 上的本地连接

> ID：15087964
> 
> 赞同：0
> 
> 时间：2013-02-26T11:28:34.510
> 
> 标签：asp.net, web-services, iis, iis-7, visual-studio-2012

我使用 MVC4 制作了一个 Web 服务，并使用 IIS express 在 localhost 上运行似乎很好。
但是我需要从外部访问，所以我必须使用本地 IP。

我发现 IIS Express 只接受标头中带有 localhost 规范的传入请求。

我试图去“applicationhost.config”并更改

```
binding protocol="http" bindingInformation="*:4019:localhost" 
```

对此：

```
 binding protocol="http" bindingInformation="*:4019:10.250.38.85" 
```

但现在视觉工作室不会让我运行 IIS Express 说它无法启动。

我也一直在 IIS 经理周围徘徊，试图将其中一个网站附加到项目中，但没有成功。

我忘记了什么？

我还需要这个来使用 SSL，但不确定如何配置

我试图编辑 IIS Express applicationhost.config 并将 binding protocol="http" 更改为 https 但随后 vs2012 甚至无法加载项目说它无法创建虚拟目录

有没有办法将 IIS express 更改为普通的 IIS 7，以便我可以使用管理器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T13:57:56.223

您可以在iis中分配IP，如下所示：

![在此处输入图像描述](../Images/dbd130a19ce3026c24a6c321a917b631.png)

然后你需要将你的网站发布到这个 iis 网站上。它会工作....

# java - 在 vaadin 的浏览器中显示文本文件

> ID：15087966
> 
> 赞同：3
> 
> 时间：2013-02-26T11:28:39.380
> 
> 标签：java, vaadin

我正在 Java Vaadin 框架中开发一个应用程序。我有一个要在网络浏览器中打开的文本 (.txt) 文件。那么在 Vaadin 中有什么方法可以在浏览器中显示文本文件，类似于浏览器的 PDF 查看器。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-27T09:39:18.010

您可以查看丰富的标签[http://demo.vaadin.com/sampler/#LabelRich](http://demo.vaadin.com/sampler/#LabelRich) 您只需通过以下方式使用它：

```
Label richText = new Label("yourtext");
richText.setContentMode(Label.CONTENT_XHTML); 
```

这里的关键是 Lable 内容模式。如果您想要其他类型的布局，您可以在[https://vaadin.com/api/com/vaadin/ui/Label.html找到更多](https://vaadin.com/api/com/vaadin/ui/Label.html)

并且要将您的文本文件内容放入标签中，您可以使用[此链接](http://javarevisited.blogspot.se/2012/08/convert-inputstream-to-string-java-example-tutorial.html)中显示的任何策略，或者只需阅读 Java API

# security - 如何在 JBoss AS7 中为我的 Web 应用程序指定使用哪个安全域？

> ID：15087971
> 
> 赞同：4
> 
> 时间：2013-02-26T11:28:52.170
> 
> 标签：security, jakarta-ee, jboss, jboss7.x

我正在使用 JBoss AS7 + JSF 2.1

我正在尝试使用数据库登录模块对我的 Web 应用程序中特定资源的用户进行身份验证。在standalone.xml 中有3 个安全域：“other”、“jboss-web-policy”和“jboss-ejb-policy”。

**我应该**将我的数据库登录模块放在“其他”安全域中吗？ **或者**我应该定义一个新的自定义安全域并将我的数据库登录模块放入其中？

无论哪种方式，我将如何告诉 JBoss 它应该为我的应用程序使用哪个安全域/登录模块？

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T14:09:06.880

您提到的两个选项是有效的，但从我的角度来看，最好为您的应用程序创建一个新的安全域（更清楚）。

另一方面，回答您的第二个问题，您必须在应用程序元文件中为您的应用程序指定安全域（不是在 jboss 中，而是在您的应用程序中）。

如果你有一个战争文件，你必须在文件 WEB-INF/jboss-web.xml 中设置它，它看起来类似于：

```
<jboss-web> 
    <security-domain>java:/jaas/your-domain</security-domain> 
</jboss-web> 
```

另一方面，如果你有一个 ejb-jar 模块，文件 META-INF/jboss.xml 看起来像：

```
<jboss>
    <security-domain>java:/jaas/your-domain</security-domain>
</jboss> 
```

如果你有一个 ear 文件，文件 META-INF/jboss-app.xml 看起来类似于：

```
<jboss-app>
    <security-domain>java:/jaas/your-domain</security-domain>
</jboss-app> 
```

# android - Onclick 方法在 android 按钮中不起作用

> ID：15087973
> 
> 赞同：6
> 
> 时间：2013-02-26T11:28:55.333
> 
> 标签：android, android-intent

我正在研究 Onclick 事件和 android 中的侦听器。在途中，我创建了一个示例应用程序，我的目标是将给定的数字 (register.java) 保存在数据库中，并将其显示在另一个活动 (main.java) 中。但是，现在点击“保存”按钮，什么都没有发生。即使是吐司法也行不通。

这是我的代码：

```
 protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    data = register.this.openOrCreateDatabase("Number", MODE_PRIVATE, null);
    data.execSQL("CREATE TABLE IF NOT EXISTS table1(number varchar(15));");

    e1 = (EditText)findViewById(R.id.mob_num);
    b1 = (Button)findViewById(R.id.save);
    b2 = (Button)findViewById(R.id.go);

b1.setOnClickListener(new View.OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        number = e1.getText().toString();
        data.execSQL("INSERT INTO table1 VALUES('"+number+"')");
        Toast.makeText(getApplicationContext(), "'"+number+"'successfully inserted",Toast.LENGTH_SHORT).show();
        Intent i = new Intent(register.this, main.class);
        startActivity(i);
        finish();

    }
});

b2.setOnClickListener(new View.OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        Intent i =new Intent(register.this,main.class);
        startActivity(i);
        data.close();
        finish();
    }
});

} 
```

这是我的 manifest.xml：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="a.a.a"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="8" />

<uses-permission android:name="android.permission.CALL_PHONE"/>
<uses-permission android:name="android.permission.READ_PHONE_STATE"/>

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >

    <activity android:name=".main"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />

        </intent-filter>

        <intent-filter>
            <action android:name="android.intent.action.PHONE_STATE"/>     
        </intent-filter>

    </activity>
</application>

</manifest> 
```

我知道这是android中非常基本的事情。但是，我希望你能在这方面帮助我。抱歉，感谢您的宝贵时间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-03-02T17:01:44.217

在 Android中注册有一种简单的方法`onClickListeners`：在按钮的声明中添加 `android:onClick="onClick"`并在`Activity`包含名为`onClick(View v)`. 从这里你可以

```
switch(v) {
    case R.id.save:
         Toast.makeText(this, "save button has been pressed", Toast.LENGTH_LONG).show();
         break;
    case R.id.go:
         Toast.makeText(this, "go button has been pressed", Toast.LENGTH_LONG).show();
         break;
         } 
```

依此类推，直到您注册了活动中的所有按钮。当然，除了我在本示例中所做的之外，您还可以使用其他变量名称，只需记住 onClick 方法（或您命名的任何名称）必须以 View 作为参数调用，并且开关必须在该参数上运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-12T08:38:01.633

```
Button btn,
btnback = (Button) findViewById(R.id.activity_essentials_btnback);

btn.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {

                                Toast.makeText(v.getContext(), "Click here",
                        Toast.LENGTH_SHORT).show();

            }
        }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T13:28:42.930

试试这个简单的方法来检查按钮点击并告诉我它是否有效：

```
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
 import android.widget.Button;
import android.widget.Toast;

public class MainActivity extends Activity implements OnClickListener {
private Button closeButton;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    this.closeButton = (Button)this.findViewById(R.id.button);
    this.closeButton.setOnClickListener(this);
}

@Override
public void onClick(View v) {
     Toast.makeText(this, "You clicked the button", Toast.LENGTH_SHORT).show();

}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T12:16:25.867

提供的 Logcat 没有给出任何信息，请提供正确的 logcat。

点击监听器的代码是正确的。可能的异常只是空指针异常。因此，为所有数据库创建和插入提供空检查。

# gwt - 如何使用 gwtupload 上传文件

> ID：15087979
> 
> 赞同：0
> 
> 时间：2013-02-26T11:29:06.257
> 
> 标签：gwt

我正在尝试在 GWT 中上传文件，现在我被困了 2 天。

现在我正在尝试一些教程，所以这是我的代码

我下面的代码永远不会去服务器端，任何想法..

或者如果有人可以为我提供一些工作代码..

这是我客户端的代码

```
 public class UploadDb extends Composite{

      private FlowPanel panelImages = new FlowPanel();

      public UploadDb() {
       initWidget(panelImages);

        // Create a new multiuploader and attach it to the document
        MultiUploader defaultUploader = new MultiUploader(FileInputType.LABEL);
        panelImages.add(defaultUploader);
        defaultUploader.setEnabled(true);

        // Add a finish handler which will load the image once the upload finishes
        defaultUploader.addOnFinishUploadHandler(onFinishUploaderHandler);
      }

      // Load the image in the document and in the case of success attach it to the viewer
      private IUploader.OnFinishUploaderHandler onFinishUploaderHandler = new IUploader.OnFinishUploaderHandler() {
        public void onFinish(IUploader uploader) {
          if (uploader.getStatus() == Status.SUCCESS) {

            new PreloadedImage(uploader.fileUrl(), showImage);
        System.out.println("Server message " + uploader.fileUrl());
          }
        }
      };

      // Attach an image to the pictures viewer
      private OnLoadPreloadedImageHandler showImage = new OnLoadPreloadedImageHandler() {
        public void onLoad(PreloadedImage image) {
          image.setWidth("75px");
          panelImages.add(image);
        }
      };

    } 
```

在我的服务器端

```
 public class DashBoardUploadServlet  extends UploadAction {

      private static final long serialVersionUID = 1L;

      Hashtable<String, String> receivedContentTypes = new Hashtable<String, String>();
      /**
       * Maintain a list with received files and their content types. 
       */
      Hashtable<String, File> receivedFiles = new Hashtable<String, File>();

      /**
       * Override executeAction to save the received files in a custom place
       * and delete this items from session.  
       */
      @Override
      public String executeAction(HttpServletRequest request, List<FileItem> sessionFiles) throws UploadActionException {
        String response = "";
        int cont = 0;
        for (FileItem item : sessionFiles) {
          if (false == item.isFormField()) {
            cont ++;
            try {
              /// Create a new file based on the remote file name in the client
              // String saveName = item.getName().replaceAll("[\\\\/><\\|\\s\"'{}()\\[\\]]+", "_");
              // File file =new File("/tmp/" + saveName);

              /// Create a temporary file placed in /tmp (only works in unix)
              // File file = File.createTempFile("upload-", ".bin", new File("/tmp"));

              /// Create a temporary file placed in the default system temp folder
              File file = File.createTempFile("upload-", ".bin");
              item.write(file);

              /// Save a list with the received files
              receivedFiles.put(item.getFieldName(), file);
              receivedContentTypes.put(item.getFieldName(), item.getContentType());

              /// Send a customized message to the client.
              response += "File saved as " + file.getAbsolutePath();

            } catch (Exception e) {
              throw new UploadActionException(e.getMessage());
            }
          }}
      /// Remove files from session because we have a copy of them
        removeSessionFileItems(request);

        /// Send your customized message to the client.
        return response;
      } 
```

web.xml

```
 <servlet>
<servlet-name>UploadServlet</servlet-name>
<servlet-class>com.dashboard.server.DashBoardUploadServlet</servlet-class>
  </servlet>

  <servlet-mapping>
   <servlet-name>UploadServlet</servlet-name>
   <url-pattern>/Upload</url-pattern>
   </servlet-mapping> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T01:42:10.327

`servlet-mapping`你的`web.xml` 不正确。您必须将其更改为：

```
<servlet-mapping>
  <servlet-name>UploadServlet</servlet-name>
  <url-pattern>*.gupld</url-pattern>
</servlet-mapping> 
```

如果您使用 firebug 或 chrome dev-tools 检查浏览器服务器对话框，您应该会看到`404 HTTP errors`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-04T13:35:10.407

你没有添加你的servlet路径，添加 multiUploader.setServletPath("your_servlet_path"); 另外，通过添加 multiuploader.setAutoSubmit(true) 提交上传

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-27T04:47:39.707

在客户端尝试此代码。

```
 public void onModuleLoad() {

    final FormPanel form = new FormPanel();
    form.setAction("/myFormHandler");

    form.setEncoding(FormPanel.ENCODING_MULTIPART);
    form.setMethod(FormPanel.METHOD_POST);
    VerticalPanel panel = new VerticalPanel();
    form.setWidget(panel);

    FileUpload upload = new FileUpload();
    upload.setName("uploadFormElement");
    panel.add(upload);

    // Add a 'submit' button.
    panel.add(new Button("Submit", new ClickListener() {
      public void onClick(Widget sender) {
        form.submit();
      }
    }));

    RootPanel.get().add(form);
  } 
```

按照这个链接 [文件上传](https://stackoverflow.com/questions/1111130/basic-file-upload-in-gwt)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-05T17:41:59.383

只需添加您的主机路径

字符串页面=GWT.getModuleBaseURL()+"上传"; 和你的

servlet 调用路径 defaultUploader.setServletPath(page); 它完美地工作..如果您还想在本地文件夹上上传文件，而不是在 servlet 上添加带有文件夹名的驱动器路径..

# eclipse - 使用 eclipse/ Flash builder 4.6 删除未使用的源代码文件

> ID：15087983
> 
> 赞同：5
> 
> 时间：2013-02-26T11:29:22.860
> 
> 标签：eclipse, flash-builder, project, flash-builder4.5

我有一个项目有很多文件，所有项目中大约有 4500 个文件。我将它分成 40 个库项目。现在我的问题是编译需要太多时间。所以我增加了Flash builder的内存。这对我的编译几乎没有任何改进。我确定我的项目中没有使用太多文件。所以现在我想通过 Flash Builder / Eclipse 的插件来删除它。因为看到“xyz.as/mxml”文件在任何其他文件中使用，或者如果它在其他文件中使用，说“abx.as/mxml”，那么我又有一个问题，“abx.as/mxml”太让人头疼了。 as/mxml" 是有用的文件或用于任何其他文件。所以你有任何想法或提示请给我。提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T11:25:13.637

将此参数添加到您的编译器：

```
-link-report output.xml 
```

此信息将对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T09:22:50.130

您可以尝试的一件事是使用`size-report`您的 flex 编译器：[flex 编译器选项](http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf67110-7ff4.html) 这样，您将了解您的库中真正使用了哪些类，因此不是因为 flex 编译器只链接到您真正使用的类需要在你编译好的 swf 中。这并不理想，但可以避免很多手动过程的痛苦。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-14T08:54:28.770

我不确定它是否适用于 flash-builder，但对于 Java，有[UCDetector](http://www.ucdetector.org)。

# magento - Magento 1.7 本地到远程服务器传输

> ID：15087986
> 
> 赞同：0
> 
> 时间：2013-02-26T11:29:28.797
> 
> 标签：magento, magento-1.7

将我的 magento 本地站点转移到远程后...我收到错误消息

```
"a:5:{i:0;s:45:"Unable to read response, or response is empty";i:1;s:1151:"#0 C:\xampp\htdocs\magento\magento-1.7.0.2\magento\lib\Varien\Http\Client.php(61): Zend_Http_Client->request('GET')" 
```

远程站点的路径还持有我的本地服务器路径怎么改。是否有任何默认配置设置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:40:28.683

这在很大程度上取决于您上传到远程站点的确切文件，最有可能的嫌疑人可能`var/resource_config.json`是`var/cache/mage--*`. 我相信您应该可以删除两者，但如果您的类型更谨慎，您可以随时重命名它们。

# android - Android TextView 样式

> ID：15087987
> 
> 赞同：3
> 
> 时间：2013-02-26T11:29:29.110
> 
> 标签：android, android-layout, android-ui, android-theme

我正在尝试为 TextView 控件设置样式。我可以添加用户定义的样式或系统样式。但我不能为我的 TextView 设置两者。我想像按钮样式一样显示 TextView，我必须添加宽度和高度。我的布局代码是：

```
<TextView
    android:id="@+id/trans_payable"
    <-- style="@android:style/Widget.Button" -->
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="left"
    android:clickable="true"
    android:paddingLeft="10sp"
    android:paddingTop="20sp"
    android:paddingRight="50sp"
    style="@style/transactionbtn"
    android:text="@string/trans_payable" >
</TextView> 
```

我的 style.xml 代码是：

```
<style name="transactionbtn">
    <item name="android:width">140dp</item>
    <item name="android:height">45dp</item>
    <-- How to add button style here -->
</style> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T23:49:13.977

您的样式可以继承其他样式，例如来自 Android 资源的样式。

```
 <style name="Button" parent="@android:style/Widget.Button">
        .
        .
        .
    </style> 
```

将父级更改`@android:style/Widget.Holo.Button`为 Holo 样式。

# r - 使用 R 或 SAS 进行聚类抽样

> ID：15087988
> 
> 赞同：3
> 
> 时间：2013-02-26T11:29:35.147
> 
> 标签：r, sas, survey

我确实有 155k 点分布在 2k 个组中。有3种点（A+B+C=#points）

频率分布：

```
 Gr #clients    #A    #B    #C
-------------------------------
  01      100    80    10    10
  02       10     0     3     7

2000      400   300    80    20
--------------------------------
TOTAL: 155000 93000 46500 15500 
```

我想随机选择一**组点**，总共6000个点，比如样本中每种点的比例与总体中的比例相同。

在 R 或 SAS 中有这样的方法吗？还是我应该进行一个简单的随机调查，然后设计一些组替换算法，直到我得到平衡样本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-26T18:37:42.227

## 示例 1：这就是我在 SAS 中的做法。如果代码让您感到紧张，请使用下面示例 2 中更简单的方法。

> 注意：你所描述的听起来像是一个比例样本，而不是一个集群样本，所以这就是我在这里展示的。希望能满足你的需求。

```
 /******** sort by strata *****/
      proc sort data=MED_pts_155k ; by GRoup A_B_C clients ; run ;

      /******** create sample design ***/
      proc surveyselect noprint  
      data= MED_pts_155k   
      method=srs  
      seed = 7  
      n = 6000  
      out = sample_design ;  
      strata GRoup A_B_C  /  
        alloc=prop NOSAMPLE
        allocmin = 2  ; /*** min of 2 per stratum.  ****/  
     run ;

    /******** pull sample **********/
    proc surveyselect noprint
      data= MED_pts_155k
      method=sys
      seed = &seed 
      n = sample_design
      out = MY_SAMPLE ;
     strata GRoup A_B_C  ; 
    run ; 
```

> “alloc = prop”选项为您提供比例（即“偶数”）采样。SAS 中的“nosample”选项允许您生成概述样本设计的单独文件。然后，您在实际提取样本的第二阶段使用该设计。如果这太麻烦了，您可以放弃“nosample”选项，并像我们在下面更简单的示例中所做的那样直接提取您的样本。
> 
> 请注意，在上面的第二步中，我们选择切换到“method = SYS”，而不是简单随机样本 (SRS)。SRS 也可以，但由于您可能有不同类型的客户响应，您可能希望以具有代表性的方式在客户范围内进行抽样。为此，您按客户在每个层中进行排序，并有意在客户范围内以均匀增量进行抽样；这是一个所谓的“系统”样本（SYS）。

## 示例 2：更简单

**如果您想要更少的代码，并且不需要在单独的文件中查看示例设计，您也可以通过一个简单的步骤完成所有操作。**

```
/******** sort by strata *****/
proc sort data=MED_pts_155k ; by GRoup A_B_C ; run ;

/******** pull sample **********/
proc surveyselect noprint
  data= MED_pts_155k
  method= SRS
  seed = 7 
  n = 6000
  out = MY_SAMPLE ;
 strata GRoup A_B_C  / 
    alloc=prop 
    allocmin = 2  ; 
run ; 
```

> 在这两个示例中，我们假设您有两个分层变量：“GRoup”和第二个变量“A_B_C”，其中包含 a、b 的值。或 c。希望有帮助。在 SAS 中也可以进行集群抽样，但如上所述，我在这里说明了一个比例样本，因为这似乎是您所需要的。整群抽样需要更多的空间来描述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:48:58.103

我不明白你的假数据，所以我会自己做。

我假设您构建自己独特的组。我刚刚使用了这些数字`1:2000`，但您可以在任何组类型上运行此代码..

```
# let's make some fake data with 155k points distributed in 2k groups
x <- 
    data.frame(
        groupname = sample( x = 1:2000 , size = 155000 , replace = TRUE ) ,
        anothercol = 1 ,
        andanothercol = "hi"
    )

# look at your data frame `x`
head( x )
# so long as you've constructed a `groupname` variable in your data, it's easy

# calculate the proportion of each group in the total
groupwise.prob <- table( x$groupname ) / nrow( x )
# store that into a probability vector

# convert this to a data frame
prob.frame <- data.frame( groupwise.prob )

head( prob.frame )

# rename the `Var1` column to match your group name variable on `x`
names( prob.frame )[ 1 ] <- 'groupname'

# rename the `Freq` column to say what it is on `x`
names( prob.frame )[ 2 ] <- 'prob'

# merge these individual probabilities back onto your data frame
x <- merge( x , prob.frame , all.x = TRUE )

# now just use the sample function's prob= parameter off of that
# and scale down the size to what you want
recs.to.samp <-
    sample( 
        1:nrow( x ) , 
        size = 6000 , 
        replace = FALSE , 
        prob = x$prob 
    )

# and now here's your new sample, with proportions in tact
y <- x[ recs.to.samp , ]

head( y ) 
```

# java - 通过 java.text.DecimalFormat 格式化数字总是在 SSJS 中返回错误

> ID：15087998
> 
> 赞同：3
> 
> 时间：2013-02-26T11:30:06.050
> 
> 标签：java, xpages, xpages-ssjs

我正在尝试使用`java.text.DecimalFormat`SSJS 格式化数字，但它返回错误。这是我的代码片段。

```
var df:java.text.DecimalFormat = new java.text.DecimalFormat("000");
df.format(50); 
```

这将返回一个错误**`Ambiguity when calling format(long) and format(double)`**。所以我尝试将数字解析为 double 或 long 但仍然是相同的错误。

```
df.format(java.lang.Long.parseLong("50"));     //Returns same error
df.format(java.lang.Double.parseDouble("50")); //Returns same error 
```

我创建了上述 SSJS 代码的 Java 实现，它运行良好。

```
DecimalFormat df = new DecimalFormat("000"); 
return df.format(50); 
```

我有好几行 SSJS 代码（上面的代码片段是其中的一部分），为两行创建一个新的 Java 类似乎太费力了。任何人都知道为什么这在 SSJS 中不起作用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T11:52:35.500

它不起作用，因为 SSJS 无法区分 double 和 float 之间的区别（这是设计使然 - javascript 只有 64 位精度的数字概念）。

你可以用反射破解这个：

```
var df:java.text.DecimalFormat = new java.text.DecimalFormat("000");
df.getClass().getMethod("format", Double.class).invoke(df, 50); 
```

但我宁愿为此目的创建一些自定义的 java utils 类。除了调用 java 之外，SSJS 几乎对任何事情都很糟糕。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-22T06:44:37.793

@Naveen：您是否尝试过以下代码，它对我有用而无需创建任何 java 类 :)

```
var df:java.text.DecimalFormat = new java.text.DecimalFormat("000");
var dblNum: java.lang.Double = new java.lang.Double(50);
return df.format(dblNum); 
```

谢谢，请让我知道您对此的评论；）