# StackOverflow 问答 13119000-13119999

# javascript - Javascript优雅地降级整个div

> ID：13119000
> 
> 赞同：0
> 
> 时间：2012-10-29T09:38:34.917
> 
> 标签：javascript, jquery, html, css

所以在页面上我有一个 div 是布局的一部分。div 包含 JS 的东西，所以虽然它是布局的一部分，但如果没有 Javascript，那么显示它是没有意义的。

现在我通常会把它放在`<head>`：

```
<style> div#target{ display:none } <style>
<script> $(document).ready(function(){ $('div#target').show(); }); </script> 
```

但是我的老板在页面加载期间想要那个 div。所以我不得不求助于一些丑陋的东西`<body>`：

```
<style> div#target{ display:none } <style>
<div id="target">stuff in div</div>
<script> $('div#target').show(); </script> 
```

这是无效的 xHTML，我听说有一些 IE 缺点，最重要的是它很糟糕。

我还可以做些什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T09:40:57.003

将元素留`<style>`在头部。

`<script>`将 a作为同级元素并没有什么无效的`<div>`

* * *

您可以通过以下方式提高效率：

```
div#target{ display: none }
body.js div#target{ display: block } 
```

和

```
<body>
<script> document.body.className += " js"; </script> 
```

* * *

也就是说，如果一个元素仅在 JS 可用时才相关，那么使用 JavaScript 添加它而不是在 JS 不可用时尝试隐藏它通常是有意义的。

# javascript - 创建一个自定义下拉选择，就像用户注销时在 Twitter 上使用的那样

> ID：13119001
> 
> 赞同：0
> 
> 时间：2012-10-29T09:38:43.197
> 
> 标签：javascript, jquery, html, css

我正在尝试创建自定义下拉选择，就像用户注销时在 twitter 上使用的那样，直到现在我没有成功：这是我实现的，但不适用于 IE9：|

[http://fiddle.jshell.net/Hz2JH/](http://fiddle.jshell.net/Hz2JH/)

```
<ul id="main">
    <li class="username" tabindex="1" >  
        <a>USER</a>
            <ul class="curent_buser">
                <li class="help"><a href="http://www.wikipedia.org/">Help</a></li>
                <li class="logoff"><a href="http://www.wikipedia.org/">Log Off</a></li>
            </ul>
        </li>
    </ul>

ul#main {
    color: 232323;
    width: 120px;
    border:2px solid #ccc;
    list-style: none;
    font-size: 12px;
    letter-spacing: -1px;
    font-weight: bold;
    text-decoration: none;
    height:30px;
    background:#f1f1f1;
}

ul#main:hover {
    opacity: 0.7;
    text-decoration: none;
}

#main > li{
    background: url('http://cdn1.iconfinder.com/data/icons/crystalproject/24x24/actions/1downarrow1.png') 100% 0 no-repeat;
    outline:0;
    padding:10px;
}

ul#main li ul {
    display: none;
    width: 116px;
    background: transparent;
    border-top: 1px solid #eaeaea;
    padding: 2px;
    list-style: none;
    margin: 7px 0 0 -3px;
}

ul.curent_buser li a {
    color: gray;;
    cursor: pointer;
}
ul.curent_buser{
    background:lime !important;    
    }

    ul#main li ul li a {
    display: block;
    padding: 5px 0;
    position: relative;
    z-index: 5;
}

#main li:focus ul, #main li.username:active ul {
    display: block;
}

.help{
    background: url("http://cdn1.iconfinder.com/data/icons/musthave/16/Help.png") no-repeat 100% center ;
    height: 25px;
    margin-bottom: 2px;
    border-bottom: 1px solid white;
}       

.help:hover{    
background: #f4f4f4;

}

.logoff{
    background: url("http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/on-off.png") no-repeat  100% center ;
    height: 25px;
}

.logoff:hover{
    background: #f4f4f4 ;
    height: 25px;
}

.help a,.logoff a{
    color:gray;
    font-family: Museo700Regular,sans-serif;
    letter-spacing: 0;
    font-size: small;
}

​ 
```

那么如何构建一个自定义选择，就像在 twitter 上使用的选择一样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-19T17:05:18.593

这对我有用，不需要单击即可获得下拉菜单。只需添加 li 元素即可将自定义图像放在每个菜单项上。直接的 CSS 并且适用于我测试过的所有浏览器，如果你发现一个不工作的浏览器请告诉我。

```
#addMenu, #addMenu ul {
list-style: none;
}

#addMenu {
float: left;
}

#addMenu > li {
float: left;
}

#addMenu li a {
display: block;
padding: 0 8px;
text-decoration: none;
}

#addMenu ul {
position: absolute;
display: none;
z-index: 999;
}

#addMenu ul li a {
width: 70px;
color: #000;
font-weight: bold;
}

#addMenu li:hover ul.noJS {
display: block;
background: #ccc;
color: #000; 
}

#addMenu ul li:hover a {
background: #ddd;
} 
```

HTML

```
<ul id='addMenu'>
    <li>
    <a href='#'>MENU</a>
        <ul class='noJS'>
        <li><a href='URL'>Option1</a></li>
        <li><a href='URL'>Option2</a></li>
        <li><a href='URL'>Option3</a></li>
        <li><a href='URL'>Option4</a></li>
        </ul>
    </li>
</ul> 
```

# postgresql - 如何在PostgreSQL中设置子选择的表空间

> ID：13119008
> 
> 赞同：0
> 
> 时间：2012-10-29T09:39:26.113
> 
> 标签：postgresql, insert, tablespace

我有一个相当大的插入查询，在运行它时，我的慢速磁盘在我恢复时填充到 100%：

```
Transaction aborted because DBD::Pg::db do failed: ERROR:  could not write to hash-join temporary file: No space left on device 
```

听起来很可信，我有一个带有大量空间的快速驱动器，我可以使用它来代替慢速磁盘，但我不想将快速磁盘设置为默认表空间或将插入的表移动到快速磁盘，我只希望作为插入查询的一部分生成的数据块位于快速磁盘表空间上。这可能是 PostgreSQL 吗？如果可以，怎么办？

9.1版

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T09:47:45.363

您需要`temp_tablespaces`配置指令。请参阅[文档](http://www.postgresql.org/docs/current/static/runtime-config-client.html#GUC-TEMP-TABLESPACES)。

> 在这些表空间中还会创建用于对大型数据集进行排序等目的的临时文件

[`CREATE TABLESPACE`](http://www.postgresql.org/docs/current/static/sql-createtablespace.html)在交互式`SET temp_tablespaces`命令中使用它们之前，您必须先获得表空间。

`SET LOCAL temp_tablespaces`可用于仅为当前事务设置它。

# java - 在 Spring 3 mvc + jsp Web 应用程序中分别管理列表中的对象

> ID：13119014
> 
> 赞同：0
> 
> 时间：2012-10-29T09:39:54.137
> 
> 标签：java, jsp, spring-mvc, model-binding, spring-3

经过深思熟虑，这是我能找到的最好的问题标题。不是那个代表，对不起:-(。

顺便让我解释一下这个问题。我必须实现一个管理面板。它显示一个表格，其中每一行都包含一个用户及其角色和帐户状态。您可以在下图中看到草图

![用户管理表单的图像](../Images/c09645fa8497ad7b4dab685c0186ebd8.png)

现在，我的问题是关于管理支持模型对象：

1.  我必须传递一个用户列表来填充管理面板，但是
2.  我必须将*每个用户*绑定到一个模型对象和
3.  我必须分别提交每个用户。

我发现了许多将表格作为一个整体进行管理的技巧，以便单个按钮同时提交所有用户，但我想要做的是用列表填充表格并*分别*管理每个列表记录（用户） 。

我想用 javascript 管理每一行以跟踪修改后的值并使用它们来构建一个类似`http://authority/app/user_management/{user_id}/{is_locked}/{is_admin}/.../`. uri 将由相应的提交按钮触发，但我更愿意避免这种方法。

此外，要使用正确的复选框值填充表格，必须建立绑定。有什么建议吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T12:27:15.460

我认为您可以为每一行使用**单独的表单**，并将用户对象作为模型。您将在输入参数列表中拥有带有 User 对象的简单“updateUser”处理程序。我记得它可能是你在 foreach 中迭代的用户，但我需要用真实的例子来检查它..) 至少你可以使用简单的形式并传递 'id'、'isLocked' 等作为请求参数。

```
<!-- Inside foreach loop -->
<form action="/updateUser" method="POST">
<input type="hidden" name="id" value="${user.id}"/>
<tr>
    <td><input type="checkbox" name="isAdmin" value="Is Admin" checked="${user.isAdmin}"/></td>
    <td><input type="submit" value="Submit"/></td>
</tr>
</form> 
```

在服务器端也有类似的东西：

```
@RequestMapping(value = "/updateUser", method = RequestMethod.POST)
@ResponseBody
public ResponseDTO updateUser(@RequestParam String id, @RequstParam boolean isAdmin) {
// your update logic
} 
```

# android - 如何使用单击按钮将所选项目的详细信息显示到另一个活动中

> ID：13119015
> 
> 赞同：1
> 
> 时间：2012-10-29T09:40:00.457
> 
> 标签：android, android-intent, android-emulator

我正在使用 json 解析器将数据提取到 listview 中，一旦用户单击任何 listview 项目行，然后在整个页面中显示所选项目，以及“添加到购物车”按钮，我希望每当用户单击该按钮时显示项目详细信息（仅名称和成本）以查看订单并允许用户选择更多项目，例如：- 购物车功能，最后允许用户在 ViewCart 活动中查看他们选择的订购项目，这里我放置 SingleItem 和 FinalOrder 代码的代码：-

```
 public class SingleMenuItem extends Activity{
static final String KEY_TITLE = "title";
static final String KEY_COST = "cost";
static final String KEY_THUMB_URL = "imageUri";
private EditText edit_qty_code;
private TextView txt_total;
private TextView text_cost_code;
private double itemamount = 0;
private double itemquantity = 0;
ListView list;
LazyAdapter adapter;
    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single);

    Intent in = getIntent();
    String title = in.getStringExtra(KEY_TITLE);
    String thumb_url = in.getStringExtra(KEY_THUMB_URL);
    String cost = in.getStringExtra(KEY_COST);

    ImageLoader imageLoader = new ImageLoader(getApplicationContext());

    ImageView imgv = (ImageView) findViewById(R.id.single_thumb);
    TextView txttitle = (TextView) findViewById(R.id.single_title);
    TextView txtcost = (TextView) findViewById(R.id.single_cost);
    TextView txtheader = (TextView) findViewById(R.id.actionbar);

    txttitle.setText(title);
    txtheader.setText(title);
    txtcost.setText(cost);
    imageLoader.DisplayImage(thumb_url, imgv);

    text_cost_code = (TextView)findViewById(R.id.single_cost);
    edit_qty_code = (EditText)findViewById(R.id.single_qty);
    txt_total=(TextView)findViewById(R.id.single_total);

    itemamount=Double.parseDouble(text_cost_code.getText().toString());
    txt_total.setText(Double.toString(itemamount));

    edit_qty_code.addTextChangedListener(new TextWatcher() {

    public void onTextChanged(CharSequence s, int start, int before, int count) {

    // TODO Auto-generated method stub
    }
    public void beforeTextChanged(CharSequence s, int start, int count,
    int after) {

    // TODO Auto-generated method stub
    }
    public void afterTextChanged(Editable s) {
         itemquantity=Double.parseDouble(edit_qty_code.getText().toString());
         itemamount=Double.parseDouble(text_cost_code.getText().toString());
         txt_total.setText(Double.toString(itemquantity*itemamount));
    }
    });             

    final ArrayList<HashMap<String, String>> itemsList = 
    new ArrayList<HashMap<String, String>>();
    list=(ListView)findViewById(R.id.listView1);            
    adapter=new LazyAdapter(this, itemsList);        
    list.setAdapter(adapter);

    ImageButton addToCartButton = (ImageButton) findViewById(R.id.img_add);
    addToCartButton.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {    

  int position = 0;
HashMap<String, String> map = itemsList.get(position);

    Intent in = new Intent
         (SingleMenuItem.this, com.erachnida.restaurant.versionoct.FinalOrder.class);
    in.putExtra(KEY_TITLE, map.get(KEY_TITLE));
    in.putExtra(KEY_COST, map.get(KEY_COST));
    startActivity(in);
}

   });  

    // Close the activity
   //  finish();

   }} 
```

查看购物车：-

```
public class FinalOrder extends Activity
{
static final String KEY_TITLE = "title";
static final String KEY_COST = "cost";
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.view);     

Intent in = getIntent();

String title1 = in.getStringExtra(KEY_TITLE);
String cost1 = in.getStringExtra(KEY_COST);

TextView txttitle1 = (TextView) findViewById(R.id.item_name);
TextView txtcost1 = (TextView) findViewById(R.id.item_cost);

txttitle1.setText(title1);
txtcost1.setText(cost1);    

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:43:17.143

在下面编写代码以从意图中获取数据，它将解决您的问题。

```
Bundle bdl=getIntent().getExtras();
String title1 = bdl.getString(KEY_TITLE);
String cost1 = bdl.getString(KEY_COST); 
```

# spring - 在 Spring 中使用 jamon

> ID：13119016
> 
> 赞同：2
> 
> 时间：2012-10-29T09:40:06.727
> 
> 标签：spring, jamon

我正在尝试在我的 spring 应用程序中使用 Jamon，但我没有看到任何消息，这是我对 jamon 的 context.xml 定义。

```
<bean id="jamonMonitoringAspectInterceptor" class="org.springframework.aop.interceptor.JamonPerformanceMonitorInterceptor">
    <property name="loggerName" value="JamonLogger"/>
    <property name="trackAllInvocations" value="true"></property>
    <property name="useDynamicLogger" value="true"></property>
</bean>

<aop:config>
        <aop:pointcut id="jamonMonitoringPointcut"
                    expression="execution(* com.myorg.somepack.networkapi.websocket.WebSocketService.*(..))"/>

            <aop:advisor pointcut-ref="jamonMonitoringPointcut" 
                    advice-ref="jamonMonitoringAspectInterceptor"/>
</aop:config> 
```

我没有任何异常，一切正常，但我没有看到 jamon 工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T12:03:31.023

在您的bean中指定一个`loggerName`或`useDynamicLogger`标志，但不能同时指定两者。[请参阅此处](http://static.springsource.org/autorepo/docs/spring/3.2.0.M1/api/org/springframework/aop/interceptor/AbstractTraceInterceptor.html#setLoggerName%28java.lang.String%29)`jamonMonitoringAspectInterceptor`的javadoc 。

还要验证记录器级别是否设置为`TRACE`并且 jamonapi 依赖项包含在您的项目中。

# php - 将主键值从一个表插入到另一个表

> ID：13119021
> 
> 赞同：-3
> 
> 时间：2012-10-29T09:40:18.177
> 
> 标签：php, mysql

我是 mysql 新手，

我有一个应用程序，在其中我从 mysql 表中获取动态值说“表 A”到下拉框中，并希望将此下拉框值插入到另一个表中说“表 B”，同时插入要插入相关的“主键”值从“表 A”到“表 B”。

任何人都可以提供任何建议或想法如何做到这一点..提前感谢您的回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:56:13.150

据我了解，

我希望你有下拉值，

在插入时，您应该使用子查询使用 where 子句选择值的 id

例子：

```
 Insert into Table B (name ,id )values('name',(Select id from table A where Value=="")) 
```

[参考文件](http://www.java2s.com/Code/SQL/Select-Clause/Insertstatementwithsubquery.htm)

如果错了请纠正我

# asp.net-mvc-3 - Application_AcquireRequestState() 触发多次

> ID：13119030
> 
> 赞同：1
> 
> 时间：2012-10-29T09:40:40.503
> 
> 标签：asp.net-mvc-3, session, globalization, httpcontext, cultureinfo

我在 mvc3 应用程序中使用以下方法：

```
protected void Application_AcquireRequestState(object sender, EventArgs e)
        {
          if (HttpContext.Current.Session != null)
            {
                CultureInfo ci = (CultureInfo)this.Session["Culture"];

                if (ci == null)
                {
                    string langName = "az";
                    ci = new CultureInfo(langName);
                    this.Session["Culture"] = ci;
                }

                Thread.CurrentThread.CurrentUICulture = ci;
                Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(ci.Name);
            }
        } 
```

为什么这个方法被多次调用？

当站点在其他 PC 的新浏览器中打开时，找不到站点资源。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T17:01:52.077

您的页面是否有多个元素（图像、脚本等）导致多个 HTTP Get 请求？如果是这样，这将为每个触发一次。

# php - 期望从学说查询生成器得到一个结果或没有结果，我应该使用什么？

> ID：13119032
> 
> 赞同：28
> 
> 时间：2012-10-29T09:40:43.483
> 
> 标签：php, symfony, doctrine-orm

我有这个方法：

```
public function getMonth ($month_name)
    {
        $q = $this->createQueryBuilder('m');

        $q->select('m')
            ->where('m.name = :name')    
            ->setParameter('name', $month_name);

        return $q->getQuery()->getResult();
    } 
```

我希望从中找到 1 个月或 0 个月。我在控制器中以这种方式使用此方法：

```
$month = $em->getRepository('EMExpensesBundle:Month')
                ->getMonth($this->findMonth());

            $month->setSpended($item->getPrice()); 
```

我试过这个，`getSingleResult()`一切都很完美，直到我遇到一个没有找到月份并且一切都失败得很糟糕的案例！

然后我尝试了`getResult()`，但它返回一个数组，然后

```
$month->setSpended($item->getPrice()); 
```

据说在非对象上调用并修复它我应该在任何地方使用

```
$month[0]->setSpended($item->getPrice()); 
```

有没有更优雅的方法来实现这一点，而无需在任何地方添加不必要的 [0] 索引？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-10-29T10:13:54.333

此外，在 Doctrine 2.1 中，您可以使用“getOneOrNullResult”

[http://doctrine-orm.readthedocs.org/en/latest/reference/dql-doctrine-query-language.html#query-result-formats](http://doctrine-orm.readthedocs.org/en/latest/reference/dql-doctrine-query-language.html#query-result-formats)

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2012-10-29T09:52:01.297

如果你使用`getSingleResult`，Doctrine 会抛出一个`\Doctrine\ORM\NoResultException`，你可以捕捉并处理它。如果您想直接在存储库中捕获它，我建议：

```
public function getMonth ($month_name)
{
    $q = $this->createQueryBuilder('m');

    $q->select('m')
        ->where('m.name = :name')    
        ->setParameter('name', $month_name);

    try {
        return $q->getQuery()->getResult(); 
        }
    catch(\Doctrine\ORM\NoResultException $e) {
        return new Month();
    }
} 
```

不要忘记添加 a`use Your\Namespace\Month;`否则这将失败，因为它找不到 Month 类！

当然，如果它是新实体，您还必须保留实体。您可以像这样扩展 catch 块：

```
catch(\Doctrine\ORM\NoResultException $e) {
    $month = new Month();
    $this->_em->perist($month);

    return $month;
} 
```

您还可以在控制器中捕获异常，使其更加透明。但这取决于您的用例，最好由您自己解决

# python - 如何在 Python 中设置动态全局变量？

> ID：13119033
> 
> 赞同：2
> 
> 时间：2012-10-29T09:40:44.150
> 
> 标签：python

假设我有一个文件`a.py`并且`a`有一个变量`var`.

在文件`b.py`中，我导入`a.py`并设置了`a.var = "hello"`.

然后我导入`a.py`并`c.py`尝试访问`a.var`，但我得到了`None`.

如何反映数据的变化？很明显，两个不同的实例被调用了，但是我该如何改变呢？

编辑：

我在这里要做的是创建一个配置文件，该文件由以下内容构成：

```
CONFIG = {
    'client_id': 'XX',
    'client_secret': 'XX',
    'redirect_uri': 'XX'
    }

auth_token = ""

auth_url = ""

access_point = "" 
```

现在，假设我在脚本 a.py 中使用 config.py 并设置 config.access_point = "web"

因此，如果我在另一个文件中导入 config.py，我希望更改能够反映而不是返回“”。

编辑：

文本文件似乎是一个简单的出路。我也可以使用 ConfigParser 模块。但是，如果在每个服务器请求中都需要从文件中读取是不是有点过分了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:55:51.423

作为初步，第二`import`条语句，即使来自另一个模块，如果之前已经加载过，也不会为导入的模块重新执行源文件中的代码。相反，导入一个已经存在的模块只会让您访问该模块的命名空间。

因此，如果您动态更改模块 a 中的变量，即使是从另一个模块中的代码，其他模块实际上也应该看到更改的变量。

考虑这个测试示例：

测试.py：

```
print "Importing module a"
var = "" 
```

测试b.py：

```
import testa
testa.var = "test" 
```

测试c.py：

```
import testa
print testa.var 
```

现在在 python 解释器（或主脚本，如果你愿意）：

```
>>> import testb
Importing module a
>>> import testc
test
>>> 
```

所以你看到`var`在导入 b 时所做的更改实际上是在 c 中看到的。

我怀疑您的问题在于您的代码是否以及以什么顺序实际执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T09:56:40.433

在文件 a.py 中定义一个类：

```
class A:
    class_var = False
    def __init__(self):
        self.object_var = False 
```

然后在 b.py 中导入 this 并实例化 A 类的对象：

```
from a import A
a = A() 
```

现在您可以访问 a 实例的属性。

```
a.object_var = True 
```

您可以访问 A 类的变量：

```
A.class_var = True 
```

如果您现在检查：

```
a.class_var
-> True
a.object_var
-> True
another_instance = A()
another_instance.object_var
->False
another_instance.class_var
->True 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T11:43:26.777

好吧，我会使用一个文本文件在那里设置值，

```
a.py :
with open("values.txt") as f:
  var = f.read()#you can set certain bytes for read 
```

因此，无论何时导入它，它都会`var`根据文本文件中的值初始化新值，并且每当您要更改值时，`var`只需更改文本文件的值即可

# django - 安装索引失败（与 Geodjango 相关）

> ID：13119040
> 
> 赞同：5
> 
> 时间：2012-10-29T09:41:06.193
> 
> 标签：django, geodjango

我正在使用`geoDjango`. 我已经从源代码`Gdal`、`proj1.4`和. 我是 ubuntu 用户。当我在那之后运行时，我收到以下错误。我错过了什么吗？谢谢`geos3.3.5``Postgis2.0.1``syncdb`

```
Superuser created successfully.
Installing custom SQL ...
Installing indexes ...
Failed to install index for cities.City model: operator class "gist_geometry_ops" does not exist for access method "gist"

Failed to install index for cities.District model: operator class "gist_geometry_ops" does not exist for access method "gist"

Failed to install index for cities.PostalCodeCA model: operator class "gist_geometry_ops" does not exist for access method "gist"

Installed 0 object(s) from 0 fixture(s) 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-01T15:32:31.447

也许我来晚了，但我解决了这个问题（Django 1.4.x、Postgis 2.0.1 和 PostgreSQL 9.2），在 template_postgis 数据库中创建了一个操作符类，如下所示：

```
CREATE OPERATOR CLASS gist_geometry_ops
FOR TYPE geometry USING GIST AS
STORAGE box2df,
OPERATOR        1        <<  ,
OPERATOR        2        &<  ,
OPERATOR        3        &&  ,
OPERATOR        4        &>  ,
OPERATOR        5        >>  ,
OPERATOR        6        ~=  ,
OPERATOR        7        ~   ,
OPERATOR        8        @   ,
OPERATOR        9        &<| ,
OPERATOR        10       <<| ,
OPERATOR        11       |>> ,
OPERATOR        12       |&> ,

OPERATOR        13       <-> FOR ORDER BY pg_catalog.float_ops,
OPERATOR        14       <#> FOR ORDER BY pg_catalog.float_ops,
FUNCTION        8        geometry_gist_distance_2d (internal, geometry, int4),

FUNCTION        1        geometry_gist_consistent_2d (internal, geometry, int4),
FUNCTION        2        geometry_gist_union_2d (bytea, internal),
FUNCTION        3        geometry_gist_compress_2d (internal),
FUNCTION        4        geometry_gist_decompress_2d (internal),
FUNCTION        5        geometry_gist_penalty_2d (internal, internal, internal),
FUNCTION        6        geometry_gist_picksplit_2d (internal, internal),
FUNCTION        7        geometry_gist_same_2d (geom1 geometry, geom2 geometry, internal); 
```

这是从这个链接中提取的[http://trac.osgeo.org/postgis/ticket/1287#comment:8](http://trac.osgeo.org/postgis/ticket/1287#comment:8)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:24:25.897

您需要创建一个 postgis 模板并加载相关的 postgis.sql

说你的 postgis 路径是 /usr/share/postgresql/8.4/contrib 运行这个

```
POSTGIS_SQL_PATH=/usr/share/postgresql/8.4/contrib
sudo -u postgres createdb -E UTF8 template_postgis1 # 创建模板空间数据库。
sudo -u postgres createlang -d template_postgis1 plpgsql # 添加 PLPGSQL 语言支持。
sudo -u postgres psql -d postgres -c "UPDATE pg_database SET datistemplate='true' WHERE datname='template_postgis1';"
sudo -u postgres psql -d template_postgis1 -f $POSTGIS_SQL_PATH/postgis.sql # 加载 PostGIS SQL 例程
sudo -u postgres psql -d template_postgis1 -f $POSTGIS_SQL_PATH/spatial_ref_sys.sql
sudo -u postgres psql -d template_postgis1 -c "GRANT ALL ON geometry_columns TO PUBLIC;" # 使用户能够改变空间表。
sudo -u postgres psql -d template_postgis1 -c "GRANT ALL ON spatial_ref_sys TO PUBLIC;"

```

然后需要使用创建的模板模板创建您的数据库

```
sudo -u postgres createdb database_name -T template_postgis1

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-07T10:48:55.383

对于任何来这里的人，如果您将 Postgis 2.0 与 PostgreSQL 9.1+ 一起使用，则有一种更简单的方法：

```
#create your database if necessary and connect to it.
$ createdb  <db name>
$ psql <db name> 
```

然后从您运行的 psql shell：

```
CREATE EXTENSION postgis;
CREATE EXTENSION postgis_topology; 
```

来自 Django 文档：[https ://docs.djangoproject.com/en/dev/ref/contrib/gis/install/postgis/#post-installation](https://docs.djangoproject.com/en/dev/ref/contrib/gis/install/postgis/#post-installation)

# java - 如何在 Java 应用程序中打印 mongodb 中的公共静态最终成员？

> ID：13119042
> 
> 赞同：1
> 
> 时间：2012-10-29T09:41:06.520
> 
> 标签：java, mongodb, playframework, morphia

我正在使用 Play-Morphia 创建我的应用程序，并且我有一个具有公共静态最终成员的类，当我在对象上使用 find() 函数时，我得到了该对象，但只有它的公共或私有成员，但不是它的公共静态最终成员。例如：

```
public class Person{
    public String name;
    public int age;
    public static final String id;
} 
```

现在，在将此对象保存到 Mongo 并调用 Person.find().first() 或任何 Person.find() 函数后，我得到： {"name" : "John", "age" : 30} -->不包括身份证。

有没有人可以解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:18:24.993

静态变量在类级别，而 mongodb 实体对应于每个对象。因此静态变量不会被保存到 mongodb 集合中。您能告诉我们为什么要将静态（甚至最终）变量放入 mongodb 吗？你的业务逻辑是什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T16:23:54.357

首先，您最好制作 ObjectId 类型的 id 字段。所以我推荐这样的设置：

```
public class Person{

  private final ObjectId id = new ObjectId();
  private String name;
  private int age;

  public void setName(String name) {
    this.name = name;
  }
  public void setAge(int age) {
    this.age = age;
  }
} 
```

ObjectId 可以在客户端生成并且保证是唯一的。请注意，您不应该**有**静态标志，但**最终**表明该字段不应该是可变的。

将字段本身设为私有，只是不为 id 提供设置器 - 这样您的代码的其他部分将无法影响 id 字段。

# java - 如何使用 HQL 查询加入休眠值对象？

> ID：13119044
> 
> 赞同：1
> 
> 时间：2012-10-29T09:41:09.580
> 
> 标签：java, hibernate, hql

嗨，我是编写 HQL 查询的新手，请帮帮我.....我的 Hibernate 有三个 ValueObject，即。

```
@Entity
@Table(name="user")
public class UserVO {

    @Id
    @Column(name="S_ID")
    private String s_id;

    @Column(name="FIRSTNAME")
    private String firstName;
    private String email;
} 
```

CourseVO课程

```
 @Entity
@Table(name="course")
public class CourseVO
{
    @Id
    @Column(name="S_ID")
    public String s_id;

    @Column(name="NAME")
    public String name;
} 
```

技能组 VO

```
@Entity
@Table(name="skillset")
public class SkillsetVO 
{
    @Id
    @Column(name="S_ID")
    public String s_id;

    @Column(name="COURSE_ID")//Foreign Key "USER"
    public String course_id;

    @Column(name="USER_ID")//Foreign key "COURSE"
    public String user_id;

    @Column(name="TEACH_EXP")
    public String teach_Exp;
} 
```

`HQL`现在如何使用查询的 USER 表的 EMAIL 获取 FirstName、NAME、TEACH_EXP 值的值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:49:27.363

如果要在其中使用`join`语法，则`HQL`必须`mapping`通过映射启用相应的连接。

```
@Entity class A { @OneToMany private List<B> bs; }
@Entity class B { @Basic int n; } 
```

启用

```
select b from A a inner join a.b where a = :id 
```

但是对于您的映射，这是不可能的。还要记住，就效率而言，大多数`RDBMs`将在 a 上执行内部连接`where a.id = b.id`。

```
select u.firstName, c.name, s.teach_Exp
from UserVO u, CourseVO c, SkillsetVO s 
where
    u.s_id = s.user_id 
    and c.s_id = s.course_id 
    and u.email = :email 
```

但我认为你必须审查你的协会。因为在我看来`SkillsetVO.user_id`应该是`SkillsetVO.User`（与`UserVO`实体的关联和相同的`CourseVO`）。

# django - 多个对象创建/编辑表单

> ID：13119047
> 
> 赞同：1
> 
> 时间：2012-10-29T09:41:18.003
> 
> 标签：django, django-forms

> **可能重复：**
> [使用 Ajax 将表单动态添加到 Django 表单集](https://stackoverflow.com/questions/501719/dynamically-adding-a-form-to-a-django-formset-with-ajax)

我发现这个关于为多个对象重新生成表单的有趣链接：

[https://collingrady.wordpress.com/2008/02/18/editing-multiple-objects-in-django-with-newforms/](https://collingrady.wordpress.com/2008/02/18/editing-multiple-objects-in-django-with-newforms/)

假设我们有来自 Poll app 的经典 danjo 模型：

```
from django.db import models

class Poll(models.Model):
    question = models.CharField(max_length=200)
    pub_date = models.DateTimeField()

class Choice(models.Model):
    poll = models.ForeignKey(Poll)
    choice = models.CharField(max_length=200)
    votes = models.IntegerField(default=0) 
```

我想要一个表单来创建一个投票并添加我想要的尽可能多的选择字段（比如你点击+并添加一个字段的django admin）。在我给你的链接中，有 3 个固定选择字段。

你知道我该怎么做吗？

# c++ - 如何获取代码中使用的函数名称

> ID：13119054
> 
> 赞同：2
> 
> 时间：2012-10-29T09:41:59.843
> 
> 标签：c++, parsing

我将 C++ 方法的主体作为字符串，并希望获取此代码中使用的所有方法的列表。什么工具最适合进行这种解析？

它必须支持所有情况：

```
opSomeMethod();
someObject.someMethod();
someObject->someMethod(); 
```

最好是使用 Java，但它可能是可以从控制台运行的小型 c++ 程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T09:16:04.670

您可以使用 LEX 和 YACC 工具来定义语法和解析字符串。Lex 和 Yacc 可以读取源程序并发现其结构。

再次发现源结构的任务被分解为子任务：

*   将源文件拆分为标记 (Lex)。
*   找到程序的层次结构（Yacc）。

Lex 帮助编写控制流由输入流中的正则表达式实例引导的程序。它非常适合编辑器脚本类型转换和分段输入以准备解析例程。Lex 源是正则表达式和相应程序片段的表。该表被转换为一个程序，该程序读取输入流，将其复制到输出流并将输入划分为与给定表达式匹配的字符串。当每个这样的字符串被识别时，相应的程序片段就会被执行。表达式的识别由 Lex 生成的确定性有限自动机执行。用户编写的程序片段按照相应的正则表达式在输入流中出现的顺序执行。

[有关详细信息，请参阅 LEX 在线手册](http://dinosaur.compilertools.net/lex/index.html)。

Yacc 提供了一个通用工具来描述计算机程序的输入。Yacc 用户指定其输入的结构，以及在识别每个此类结构时要调用的代码。Yacc 将这样的规范转化为处理输入过程的子程序；通常，让这个子程序处理用户应用程序中的大部分控制流是方便和适当的。

[有关详细信息，请参阅 YACC 的在线手册](http://dinosaur.compilertools.net/yacc/index.html)。

# android - 按下取消按钮后取消选中 alertdialog.builder 中的所有复选框

> ID：13119055
> 
> 赞同：1
> 
> 时间：2012-10-29T09:42:02.077
> 
> 标签：android

我在 alertdialog.builder 内的 listview 上创建了我想在按下取消按钮后取消选中所有复选框，但对我来说，它没有清除，也没有给出选中复选框的位置，我不知道该怎么做。

```
mProgressDialog.dismiss();
            Log.w("count0", ""+mAlCategoryNames.size());    

        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setAdapter(new CategoryAdapter(getApplicationContext(),R.layout.categorylist,R.id.xTvCategoryName, mAlCategoryNames, Home.this, getLayoutInflater()), null);
        builder.setTitle("CHOOSE CATEGORIES");

        builder.setNegativeButton("Cancel",
                new DialogInterface.OnClickListener() {

                    public void onClick(
                            DialogInterface dialog,
                            int which) {
                        Log.w("Cancel",""+"Called");
                        Set<SavingCheckBoxState> keys=CategoryAdapter.mCheckMaps.keySet();
                        //checkAll(false);
                        // selected[which] = false;
                            ((AlertDialog) dialog).getListView().setItemChecked(which, false);
                            ListView list =((AlertDialog) dialog).getListView();
                            int size = list.getCount();

                    }
                });

        builder.setPositiveButton("Add",
                new DialogInterface.OnClickListener() {

                    public void onClick(
                            DialogInterface dialog,
                            int which) {
                        mAlFilterCategory.clear();
                        Set<SavingCheckBoxState> keys = CategoryAdapter.mCheckMaps
                                .keySet();
                        mAlFilterCategory = new ArrayList<String>();
                        if (keys.size() > 0) {
                            Iterator<SavingCheckBoxState> it = keys.iterator();
                            mCategory_Name=it.toString();
                            while (it.hasNext()) {
                                SavingCheckBoxState data = it.next();

                                if (data.isSelected()) {
                                    Log.w("category name", data.getmCatgegoryName());
                                    mAlFilterCategory.add(data.getmCatgegoryName());
                                }
                            }

                        }
                    }
                });

        builder.show(); 
```

# powershell - 带有powershell的石墨

> ID：13119057
> 
> 赞同：6
> 
> 时间：2012-10-29T09:42:05.880
> 
> 标签：powershell, tcp, graphite

我在一台服务器上配置了一个石墨实例，我用它来监视我的环境，遗憾的是它由 linux 和 windows 机器组成。我想监控我的服务器的运行状况，所以我在我的 linux 机器上选择了 collectl，它可以很好地收集系统统计信息。

可悲的是，对于 Windows，似乎没有太多的解决方案可以获取系统统计信息并将其发送到石墨，但我已经设法用 powershell 处理这种情况。我正在使用此处建议的脚本[http://josh.behrends.us/2012/07/windows-powershell-graphite-awesome/](http://josh.behrends.us/2012/07/windows-powershell-graphite-awesome/)用于石墨连接以及从我正在使用的计算机中获取指标get-counter 命令，令人惊讶的是，它可以收集大量信息。

我的脚本如下所示：

```
while (1 -eq 1)
{
$carbonServer = "hostname"
$carbonServerPort = 2003 
$epochtime = [int][double]::Parse((Get-Date -UFormat %s))

$socket = New-Object System.Net.Sockets.TCPClient
$socket.connect($carbonServer, $carbonServerPort)
$stream = $socket.GetStream()
$writer = new-object System.IO.StreamWriter($stream)
#Write out metric to the stream.

$DiskQue =  [int]((get-counter -Counter "\PhysicalDisk(1 e: f:)\Current Disk Queue Length" ).countersamples | select -property cookedvalue).cookedvalue
$BytesReceived = [int]((get-counter -Counter "\Server\Bytes Received/sec" ).countersamples | select -property cookedvalue).cookedvalue
$BytesSent =  [int]((get-counter -Counter "\Server\Bytes Transmitted/sec").countersamples | select -property cookedvalue).cookedvalue
$MemAvail = ((get-counter -Counter "\Memory\Available Bytes").countersamples | select -property cookedvalue).cookedvalue
$MemCommit = ((get-counter -Counter "\Memory\Committed Bytes").countersamples | select -property cookedvalue).cookedvalue
$ReadOp =  [int]((get-counter -Counter "\System\File Read Operations/sec").countersamples | select -property cookedvalue).cookedvalue
$WriteOp = [int]((get-counter -Counter "\System\File Write Operations/sec").countersamples | select -property cookedvalue).cookedvalue

$metric7 = ("hostname.metrics.WriteOp " + $WriteOp + " " + $epochTime+"`n")
$metric7

$writer.WriteLine($metric7)
$writer.Flush() #Flush and write our metrics.
$writer.Close()
$stream.Close()
sleep 5
} 
```

现在，这个脚本乍一看输出了它应该输出的内容。输出具有格式`hostname.metrics.name $metric_value $epochTime`，但没有绘制图形。它们出现在石墨仪表板中，但它们是空的。我用wireshark检查了发送到石墨服务器的输出。它接缝在 Windows 中，消息附加有 CRLF，而不是在只有 LF 的 linux 中。我`\n`手动添加了一小段时间，它成功了，但现在它停止了工作。

我的问题是我在传输过程中做错了什么，因为我一直在分析流量，来自被绘制图形的 linux 机器和来自未绘制图形的 Windows 的流量之间的唯一区别是线路终止符。在 linux 中它的 LF(0a) 和 windows 中是 CRLF(0d0a)，但我再次尝试从 linux LFCRLF(0a0d0a) 发送，希望石墨服务器只会读取到第一个 LF，而不是解释消息，但我仍然' m 没有得到图表。

此外，当我从 linux 传输时，我只有一条消息，而当我从 powershell 传输时，我有三条消息。从我在 carbon-cache 进程上看到的 strace 中，我有一个带有我想要的消息的 recvfrom 系统调用，而我有另一个是空的和写系统调用（从 powershell 传输时）而不是哟只有一个带有消息和写入的recvfrom（在linux上使用netcat传输时），

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T11:13:10.207

似乎没有人提供任何建议，因此我采用了另一种方法。我仍然很好奇为什么 Graphite 不解释我发送的消息。这个问题的解决方案是使用 UDP 套接字而不是 TCP 套接字，并将指标发送到 statsd，而后者又将它们发送到 Graphite。这似乎没有任何复杂性，如果您考虑一下，这对您的网络更好，因为它可以最大限度地减少流量（如果您将 statsd 和 Graphite 保持在同一个节点上）。

我发布脚本以防有人遇到我的问题并且他的环境类似于我的。这是脚本

```
[int] $Port = 8125
$IP = "here is your IP" 
$Address = [system.net.IPAddress]::Parse($IP) 
$End = New-Object System.Net.IPEndPoint $address, $port 
$Saddrf   = [System.Net.Sockets.AddressFamily]::InterNetwork 
$Stype    = [System.Net.Sockets.SocketType]::Dgram 
$Ptype    = [System.Net.Sockets.ProtocolType]::UDP 
$Sock     = New-Object System.Net.Sockets.Socket $saddrf, $stype, $ptype 
$sock.Connect($end) 

function Send_Graphite
{param ($Metric)

$Enc     = [System.Text.Encoding]::ASCII 
$Buffer  = $Enc.GetBytes($Metric) 
$Sent   = $Sock.Send($Buffer) 
"{0} characters sent to: {1} " -f $Sent,$IP 
"Message is:" 
$Metric
sleep 1

}  

while (1 -eq 1)
{
    $DiskQue =  [int]((get-counter -Counter "\PhysicalDisk(1 e: f:)\Current Disk Queue Length" ).countersamples | select -property cookedvalue).cookedvalue
    $BytesReceived = [int]((get-counter -Counter "\Server\Bytes Received/sec" ).countersamples | select -property cookedvalue).cookedvalue
    $BytesSent =  [int]((get-counter -Counter "\Server\Bytes Transmitted/sec").countersamples | select -property cookedvalue).cookedvalue
    $MemAvail = ((get-counter -Counter "\Memory\Available Bytes").countersamples | select -property cookedvalue).cookedvalue
    $MemCommit = ((get-counter -Counter "\Memory\Committed Bytes").countersamples | select -property cookedvalue).cookedvalue
    $ReadOp =  [int]((get-counter -Counter "\System\File Read Operations/sec").countersamples | select -property cookedvalue).cookedvalue
    $WriteOp = [int]((get-counter -Counter "\System\File Write Operations/sec").countersamples | select -property cookedvalue).cookedvalue

    $Message1 = "MAIN.OSmetrics.DiscQueue:"+$DiskQue+"|c"
    $Message2 = "MAIN.OSmetrics.BytesReceived:"+$BytesReceived+"|c"
    $Message3 = "MAIN.OSmetrics.BytesSent:"+$BytesSent+"|c"
    $Message4 = "MAIN.OSmetrics.MemAvail:"+$MemAvail+"|c"
    $Message5 = "MAIN.OSmetrics.MemCommit:"+$MemCommit+"|c"
    $Message6 = "MAIN.OSmetrics.ReadOp:"+$ReadOp+"|c"
    $Message7 = "MAIN.OSmetrics.WriteOp:"+$WriteOp+"|c"

    $Mesages = $Message1, $Message2, $Message3, $Message4, $Message5, $Message6, $Message7
    foreach($Message in $Mesages)
    {
        Send_Graphite $Message 
    }
} 
```

该脚本是可扩展的，您可以监控很多东西，只需运行`get-counter -ListSet *`您就会看到。我已经使用 TaskScheduler 安装了脚本，您可以通过插入睡眠来控制使用 while 循环的频率。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-08T21:09:03.903

我制作了一系列 PowerShell 函数，这些函数对于轻松将指标发送到 Graphite 很有用。您可以配置所有 Windows 性能计数器以及您希望它们多久发送到 Graphite 服务器。完整的源代码在这里：[https ://github.com/MattHodge/Graphite-PowerShell-Functions](https://github.com/MattHodge/Graphite-PowerShell-Functions)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-31T23:27:20.967

我主要想让你知道你并不孤单。我在图表出现时遇到了同样的问题，但数据为空。但是，我能够解决此代码中的 0d0a 与 0a 问题。我也尝试过 UDP，但在我的情况下也没有用。使用这种方法，也许你会对 TCP 有一些运气。从各种来源拼凑出这个。

```
$dtmUTC = [int][double]::Parse((Get-Date -UFormat %s))
$CR=""
$carbonServer = "host.domain.com"
[int] $carbonServerPort = 2003

[int]$bufSize = 1472  #MTU on this network

$IP = [System.Net.Dns]::GetHostAddresses($carbonServer)
$Address = [system.net.IPAddress]::Parse($IP)
$EndPoint = New-Object System.Net.IPEndPoint $Address, $carbonServerPort
$Saddrf   = [System.Net.Sockets.AddressFamily]::InterNetwork 

#UDP
$Stype    = [System.Net.Sockets.SocketType]::Dgram 
$Ptype    = [System.Net.Sockets.ProtocolType]::UDP 

#TCP
#$Stype    = [System.Net.Sockets.SocketType]::Stream 
#$Ptype    = [System.Net.Sockets.ProtocolType]::TCP 

$Sock     = New-Object System.Net.Sockets.Socket $Saddrf, $Stype, $Ptype 
$Sock.Connect($EndPoint)

function Send_Graphite
{
    param ($thisFile)
    #encoder object
    $Enc = [System.Text.Encoding]::ASCII

    # Read the entire file
    $bytes = [System.IO.File]::ReadAllText($thisFile)

    $begin=0
    $remain=$bytes.Length
    while ( $begin -lt $bytes.Length)
    {

        if ( $remain -lt $bufsize)
        {
            $bufsize = $remain
        }

        $Chunk = $bytes.Substring($begin, $bufsize)
        $Buffer = $Enc.GetBytes($Chunk)
        $rc=$Sock.Send($Buffer)
        sleep 1
        $begin  += $bufsize
        $remain = $remain - $bufsize
    }   
} 

$M=""
foreach ($C in "server1","server2")
{   
    #echo "polling $C ===================="
    ForEach ( $Drives in Get-WmiObject Win32_LogicalDisk -ComputerName $c -Filter "DriveType=3"  )
    {
        ForEach ( $Drive in $Drives )
        {
            $D=$Drive.DeviceID.Replace(":","")
            $SZ=$Drive.Size
            $FS=$Drive.FreeSpace
            $N=$Drive.VolumeName
            $N=$N.Replace(" ","")

            $U=$SZ-$FS
            $S="itinf.stor.$C"

            if ( $FS -eq "" )
            {
                echo "$N FreeSpace was null"
            }
            if ( $N -eq "" )
            {
                $N="default"
                #echo "$N VolumeName was null"
            }
            if ($SZ -eq "")
            {
                echo "$N Size was null"
            }
            $M = $M + $CR
            $CR="`n"
            $M = $M + "$S.$N.Size $SZ $dtmUTC$CR"
            $M = $M + "$S.$N.Free $FS $dtmUTC$CR"
            $M = $M + "$S.$N.Used $U $dtmUTC$CR"
            $M = $M + "$S.$D.Size $SZ $dtmUTC$CR"
            $M = $M + "$S.$D.Free $FS $dtmUTC$CR"
            $M = $M + "$S.$D.Used $U $dtmUTC"
        }
    } 
}

Out-File -NoNewline -FilePath gph.txt -InputObject $M
Send_Graphite gph.txt
sleep .1

if ($Ptype -eq "TCP") { $Sock.Disconnect($EndPoint) } 
```

# python - os.waitpid 不返回包含 pid 的元组及其退出状态

> ID：13119060
> 
> 赞同：0
> 
> 时间：2012-10-29T09:42:15.833
> 
> 标签：python, process, wait

[我尝试为这个python 错误](http://bugs.python.org/issue3905)调用想出一个解决方法`subprocess`。我认为要走的路是`os.system`结合使用`os.waitpid`. 为了测试这一点，我编写了下面的代码。`system_call_test.py`将`pid`大量文本写入文件`f`。但是打电话`os.waitpid()`总是给我这个错误：`OSError: [Errno 10] No child processes`。所以我很难检查这个构造是否正常工作。如何确保脚本等待另一个终止。我在 Windows XP/python 2.7 上。

```
import os
f = r'D:\temp\called.txt'

s = os.system('C:\Python27\python.exe D:\python_spullen\system_call_test.py')
with open(f, 'r') as f_in:
    i = f_in.readline()[-4:]
    print i
    rr = os.waitpid(int(i),0)
    print rr 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:44:50.573

`os.system`返回[进程的退出代码](https://stackoverflow.com/questions/6466711/what-is-return-of-os-system-in-python)。所以`s`上面已经填充并且进程已经退出。`os.waitpid`没有什么可以等待的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T09:46:02.430

`system()`是`fork()`++的`exec()`结合`waitpid()`。你不应该再打电话`waitpid()`了。

# python - 用 Doxygen 记录一个不存在的成员

> ID：13119066
> 
> 赞同：10
> 
> 时间：2012-10-29T09:42:32.463
> 
> 标签：python, properties, doxygen

我正在尝试使用 Doxygen 记录一个 python 类。该类通过 d-bus 公开了一组属性，但这些在 python 类中没有相应的公共 getter/setter。相反，它们是通过 d-bus 属性接口 (Set/Get/GetAll/Introspect) 实现的。

我想要做的是能够使用以下内容记录这些属性：

`## @property package::Class::Name description`

整个 package::Class 工作（相同的方法找到函数，所以它找到正确的类）。

运行 doxygen 时出现以下错误：

`warning: documented function ``package::Class::Name' was not declared or defined.`

我可以忍受警告，但不幸的是，该属性未能出现在为该类生成的文档中，因此它不仅是警告，而且也被静音了。

所以，我的问题是，如果可以的话，如何让不存在的属性成员出现在生成的文档中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-31T21:53:22.087

定义块内的属性`if 0:`：

```
## @class X
## @brief this is useless
class X:
    if 0:
        ## @brief whatevs is a property that doesn't exist in spacetime
        ##
        ## It is designed to make bunny cry.
        whatevs = property 
```

这将导致它存在于文档中（使用`doxygen 1.8.1.2-1`on测试`debian-squeeze`）。该属性永远不会在运行时存在，实际上它看起来像 python 字节码优化器完全消除了 if 语句及其主体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-22T18:37:16.217

我以前研究过类似的东西，但找不到直接的方法来诱使 Doxygen 记录未定义的成员。您可以在这里使用两种基本的组合：

1.) 为 doxygen 生成一个虚拟对象（或虚拟成员）到实际代码中不存在的库存。

2.）如果您需要的调整是相当可预测和定期的，您可以编写一个[`INPUT_FILTER`](http://www.doxygen.nl/manual/config.html#cfg_input_filter)for doxygen 来获取您的文件并在解析之前对其进行转换。这种方法存在一些问题——主要是如果您计划在文档中包含代码并且过滤器必须从文件中添加/删除行，它指示的行号将被关闭，并且任何代码窗口都显示为文档将按该行数关闭。您还可以选中过滤显示的源以对此进行调整的选项，但根据您的文档的使用者是谁，Doxygen 中的副本与真实源中的内容不完全匹配可能会令人困惑。

在我们的例子中，我们使用 Doxygen 从命令行以文件路径作为参数运行的 python 脚本。我们读取指示的文件并将我们希望 Doxygen 解释的内容写入标准输出。如果您还需要过滤 doxygen 中显示的源副本，您可以设置[`FILTER_SOURCE_FILES`](http://www.doxygen.nl/manual/config.html#cfg_filter_source_files)为`YES`.

# html - 使用 CSS 将两个表格行合二为一

> ID：13119068
> 
> 赞同：1
> 
> 时间：2012-10-29T09:42:35.163
> 
> 标签：html, css, css-tables

是否可以使用 CSS 更改普通表格的外观，如下所示：

```
+-----------+-----------+
| Row1Cell1 | Row1Cell2 |
+-----------+-----------+
| Row2Cell1 | Row2Cell2 |
+-----------+-----------+
| Row3Cell1 | Row3Cell2 |
+-----------+-----------+
| Row4Cell1 | Row4Cell2 |
+-----------+-----------+
| Row5Cell1 | Row5Cell2 |
+-----------+-----------+
| Row6Cell1 | Row6Cell2 |
+-----------+-----------+ 
```

进入这个：

```
+-----------+-----------+-----------+-----------+
| Row1Cell1 | Row1Cell2 | Row2Cell1 | Row2Cell2 |
+-----------+-----------+-----------+-----------+
| Row3Cell1 | Row3Cell2 | Row4Cell1 | Row4Cell2 |
+-----------+-----------+-----------+-----------+
| Row5Cell1 | Row5Cell2 | Row6Cell1 | Row6Cell2 |
+-----------+-----------+-----------+-----------+ 
```

`<tr>`我想要做的是在同一个可视行上渲染两个（甚至三个） s。如果可能的话，我想在不使用 javascript 的情况下完成此操作。

问候奥斯卡

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:38:02.613

如果你不知道你`<tr>`的 s 有多宽，你可以使用这个：

**HTML**

```
<table>
    <tbody>
        <tr>
            <td>1 1</td>
            <td>1 2</td>
        </tr>
        <tr>
            <td>2 1</td>
            <td>2 2</td>
        </tr>
        <tr>
            <td>3 1</td>
            <td>3 2</td>
        </tr>
        <!-- more stuff here -->
    </tbody>
</table> 
```

**CSS**

```
tr {
    float: left;
}

tr:nth-child(3n+1) {
    clear: left;
} 
```

它让`<tr>`s 浮动但时不时地中断。您可以使用`:nth-child`-selector 控制何时发生这种情况。在这种情况下 ( `:nth-child(3n+1)`) 它每隔三行就中断一次。在每第二行之后使用`2n+1`休息，最后`n+1`从头开始恢复您的原始订单。我希望这有帮助。

**演示**

[先试后买](http://jsfiddle.net/3USN2/)

^(注意：我在 Safari、Chrome 和 Firefox 中进行了测试，但没有在 IE 中进行测试——没有时间启动 VM。)

PS：如果你知道你`<tr>`的 s 有多宽，你可以`tr { float: left; }`通过设置表格的整体宽度来做到这一点，以便 1、2 或 3 行在水平方向上有足够的空间。

# authentication - O-Auth 2.0 - 服务器端登录

> ID：13119070
> 
> 赞同：2
> 
> 时间：2012-10-29T09:42:43.697
> 
> 标签：authentication, oauth, oauth-2.0, facebook-oauth

我正在开发一个网络服务，我希望我的用户使用一些已知的身份验证提供程序（facebook、google 等）登录，而不是注册一个新用户。

我将以堆栈溢出作为此类服务的示例。

根据我阅读 O-Auth 教程的理解，流程应该是这样的：

```
1\. A user log in for the first time to Stack Overflow
2\. User is asked to log in via Google or Facebook.
3\. Stack overflow redirects the user to Google along with Stack Overflow app ID and a Redirect URL (Callback)
4\. Google ask the user: "Stack overflow wants to access your account" - allow/deny. 
5\. Assuming the user allowed, Google will redirect the user back to Stack Overflow, and will send a Token back to stack overflow servers (the Callback URL) as well as a client ID (unique google id)
6\. If this client id does not exists, Stack overflow creates a new user in its database with this client id, if it does exists, it will just return the user's data (e.g. questions asked)
7\. Using the saved TOKEN, stack overflow servers can grab information from Google (if needed) without the user interaction (since the user allowed access to Google) 
```

这个流量准确吗？如果是这样，这是主要问题。

**客户端**

客户现在想要向/从 Stack Overflow 发送/接收信息（例如发布问题）。

*   **客户端**需要向 Stack 溢出服务器发送什么样的信息，以便他们确认这确实是用户？

**服务器端**

*   Stack如何溢出，验证这个用户？（即 Stack Overflow 会在用户身上保存什么样的信息来识别他？Google/Facebook ID？）

*   Stackoverflow 服务器想要从用户的 Google 帐户中获取信息（用户允许此操作），stackover flow 服务器需要向 Google 发送什么样的信息才能检索此信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T15:01:58.593

我认为你的假设大多是准确的。不过有一个例外：

> 5）假设用户被允许，谷歌会将用户重定向回 Stack Overflow，并将一个 Token 发送回 Stack Overflow 服务器（回调 URL）以及一个客户端 ID（唯一的 google id）

通常，OAuth2 服务器不返回 clientId 或任何用户详细信息，它只返回令牌。实际上，oauth 客户端（即您的示例中的 stackoverflow）根本不应该知道用户身份。OAuth2 旨在允许客户端访问受限资源而无需获取用户身份。

但是，如果客户端（stackoverflow）要求访问用户帐户（如您的示例中），它可以在之后使用令牌查询一些用户详细信息。用户详细信息（例如标识符）完全取决于授权服务器（例如 Google）。即使服务器在查询结果中提供了此类内部详细信息，您（stackoverflow）仍应仅根据普遍可用的、与提供商无关的信息生成 clientId，例如使用电子邮件地址。

这也应该回答了您的两个服务器端问题。

> 客户端需要向 Stack 溢出服务器发送什么样的信息，以便他们确认这确实是用户？

对于场景的其余部分，角色应该完全颠倒。Google 超出了范围，Stackoverflow 将成为 OAuth2 SERVER，而您的应用程序将成为 CLIENT。如果您的应用程序想要发布或阅读问题，它应该需要 stackoverflow 用户的授权才能这样做。如果授权被授予，则返回一个令牌，您的应用程序应使用该令牌访问 Stackoverflow 上的问题。所以答案是：什么都没有，只有令牌。

为了正确完成答案，我不得不承认我对上述网站（google.facebook、stackoverflow 等）的实现细节并不十分熟悉。但如果它们符合 OAuth2 标准，它们的行为应该与我所描述的一样。熟悉的用户，如果任何站点的场景实施方式不同，请告诉我！

# vaadin - 选择组件上的 Vaadin ValueChangeListener 无法正常工作

> ID：13119072
> 
> 赞同：4
> 
> 时间：2012-10-29T09:43:02.093
> 
> 标签：vaadin, valuechangelistener

我有一个问题`ValueChangeListener`。我有这个代码：

```
private void caricaSelectMainUser(){
    Object[] a = socFilName.get(0);
    List<String> elencosoc = societaDao.getSocieta();
    List<String> socUtente = app.getUserDao().getSocietaByUname(app.getCod_utente());   

    for (int i = 0; i < elencosoc.size(); i++) {            
        societa.addItem(elencosoc.get(i));
    }            
    caricaMenuFiliale();
    caricaMenuRisorsa();
    societa.select(socUtente.get(0));   
    filiale.select(a[1]);
    nome.select(a[2]);

    societa.addListener(new Property.ValueChangeListener() {

        @Override
        public void valueChange(ValueChangeEvent event) {
            filiale.removeAllItems();
            caricaMenuFiliale();
            nome.removeAllItems();
        }   
    });   

    filiale.addListener(new Property.ValueChangeListener() {

        @Override
        public void valueChange(ValueChangeEvent event) {
            System.out.println("entro nel listener filiale");
            nome.removeAllItems();
            caricaMenuRisorsa();
        }   
    });       

    nome.addListener(new ValueChangeListener() {

        @Override
        public void valueChange(ValueChangeEvent event) {
            getValuesFromDropDown();
        }   
    });       

    getValuesFromDropDown();} 
```

这部分代码管理“società”、“filiale”和“name”的侦听器。

```
private void caricaMenuFiliale() {
    List<Object[]> elencofilNew = app.getUserDao().getDescFilialeSoc(societa.getValue().toString());
    mapFiliale = new HashMap<String,Object>();
    for (int i = 0; i < elencofilNew.size(); i++) {
        Object[] a = elencofilNew.get(i);
        for (int j = 0; j < a.length; j++) {
            mapFiliale.put(a[1].toString(), a[0]);
            filiale.addItem(a[1]);
        }
    }
}

private void caricaMenuRisorsa() {
    List<Object[]> elencoNominativiNew = app.getUserDao().getNominativiFromSoc(societa.getValue().toString());
    map = new HashMap<String,Object>();
    for (int i = 0; i < elencoNominativiNew.size(); i++) {
        Object[] a = elencoNominativiNew.get(i);
        map.put((String) a[0],a[1]);                        
        nome.addItem((String) a[0].toString());

    }
}

private void getValuesFromDropDown() {
    String codsoc = societa.getValue().toString();
    String codfil = mapFiliale.get(filiale.getValue().toString()).toString();
    String codper = map.get(nome.getValue()).toString();
    String mm = (mese.getValue().toString().length()==1?("0"+mese.getValue().toString())emoticonmese.getValue().toString()));
    String aaaamm = anno.getValue().toString() + mm;
} 
```

顺序流程应该是，当“societa”更改时，选择“filiale”加载数据绑定与选定的“society”，当“filiale”更改“名称”加载数据绑定时选择“society”和“filiale” . 但是当我选择一个新的“社会”时，下面的代码开始

```
nome.addListener(new ValueChangeListener() {

    @Override
    public void valueChange(ValueChangeEvent event) {
        getValuesFromDropDown();
    }   
}); 
```

我赶上`NullPointerException`了

```
String codfil = mapFiliale.get(filiale.getValue().toString()).toString(); 
```

在 getValuesFromDropDown() 方法中。如果我从选择“nome”的 valueChangeListener 中取消此方法调用，一切正常。我知道我的逻辑可能有一些问题，但我不知道为什么会出现这种行为。有人可以帮我吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T08:47:45.543

在社会监听器中，您调用 nome.removeAllItems()。这将触发名称 AbstractSelect 中的 Property.ValueChangeEvent。

```
societa.addListener(new Property.ValueChangeListener() {
    @Override
    public void valueChange(ValueChangeEvent event) {
        filiale.removeAllItems();
        caricaMenuFiliale();
        nome.removeAllItems();
    }   
}); 
```

# javascript - 为什么我的简单 D3.js-Barchart 没有正确标准化为 SVG 高度？

> ID：13119078
> 
> 赞同：0
> 
> 时间：2012-10-29T09:43:17.970
> 
> 标签：javascript, d3.js, normalization, data-visualization, bar-chart

我是 D3 的新手，我非常喜欢它，但在我第一次尝试构建一个简单的条形图时，我被困在我想将条形图的高度标准化为 SVG 元素的完整高度的点上。所以最高数据值应该缩放到 SVG 元素的整个高度。所有其他都应该相对缩放。我确信这是一个愚蠢的错误，但我看不到它。请帮忙！谢谢！

这是代码

```
 var dataset = [ 50, 43];
  var colorSet = ['rgb(143,172,206)', 'rgb(117,122,184)'];

  var w = 260;
  var h = 200;
  var barPadding = 7;

  var svg = d3.select("body")
              .append("svg")
              .attr("width", w)
              .attr("height", h);

  var x = d3.scale.ordinal()
      .domain(dataset)
      .rangeBands([0, w - (barPadding*dataset.length)]);

  var y = d3.scale.linear()
              .domain([0, 100]) //d3.max(dataset) // <- HERE SHOULD BE d3.max(dataset) CORRECT?
              .range([0,h]);

  svg.selectAll("rect")
     .data(dataset)
     .enter()
     .append("rect")
     .attr("x", function(d, i) {
        return i * (w / dataset.length);
      })
     .attr("y",  y)                             // <-- SHOULDN'T BE HERE h - y?
     .attr("width", x.rangeBand()) 
     .attr("height", y)
     .attr("fill", function(d, i) {
        return colorSet[i];
      });

svg.append("line")
  .attr("x1", 0)
  .attr("x2", w * dataset.length)
  .attr("y1", h - 0.5)
  .attr("y2", h - 0.5)
  .style("stroke", "#000"); 
```

和[一个 JSBIN 的链接](http://jsbin.com/ehahiz/3/edit)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:26:53.353

您不能对 y 位置和高度使用相同的 y 范围。

y 位置需要 range([h, 0]) ，高度需要 range([0, h]) 。

为了确认这一点，当您的数据点为 100% 时，您希望 y 位置为 0，高度为容器高度。当您的数据为 0% 时，您希望 y 位置为容器的高度，高度为 0。

# java - 带有 GSON 的 Java 堆空间

> ID：13119082
> 
> 赞同：3
> 
> 时间：2012-10-29T09:43:29.050
> 
> 标签：java, eclipse, gson, heap-memory

我正在使用 GSON 创建一些大的 JSON 文件，以从 GTFS（Google Transit）创建自定义 JSON。问题是当我从我的对象类转换为 JSON 时：

```
 Gson gson = new Gson();
  String rutasJSON = gson.toJson(my_object); 
```

它给出了这个例外：

```
Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
    at java.util.Arrays.copyOf(Unknown Source)
    at java.lang.AbstractStringBuilder.expandCapacity(Unknown Source)
    at java.lang.AbstractStringBuilder.ensureCapacityInternal(Unknown Source)
    at java.lang.AbstractStringBuilder.append(Unknown Source)
    at java.lang.StringBuffer.append(Unknown Source)
    at java.io.StringWriter.write(Unknown Source)
    at com.google.gson.stream.JsonWriter.string(JsonWriter.java:544)
    at com.google.gson.stream.JsonWriter.writeDeferredName(JsonWriter.java:387)
    at com.google.gson.stream.JsonWriter.value(JsonWriter.java:402)
    at com.google.gson.internal.bind.TypeAdapters$13.write(TypeAdapters.java:353)
    at com.google.gson.internal.bind.TypeAdapters$13.write(TypeAdapters.java:337)
    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:89)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:195)
    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68)
    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:96)
    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:60)
    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:89)
    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:195)
    at com.google.gson.internal.bind.ObjectTypeAdapter.write(ObjectTypeAdapter.java:105)
    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68)
    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:96)
    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:60)
    at com.google.gson.Gson.toJson(Gson.java:586)
    at com.google.gson.Gson.toJson(Gson.java:565)
    at com.google.gson.Gson.toJson(Gson.java:520)
    at com.google.gson.Gson.toJson(Gson.java:500)
    at transporte.main(transporte.java:152) 
```

我试图从这个改变eclipse.ini：

```
-startup
plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.100.v20110502
-product
org.eclipse.epp.package.jee.product
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
256M
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
256m
--launcher.defaultAction
openFile
-vmargs
-Dosgi.requiredJavaVersion=1.5
-Xms40m
-Xmx512m 
```

对此：

```
-startup
plugins/org.eclipse.equinox.launcher_1.2.0.v20110502.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.100.v20110502
-product
org.eclipse.epp.package.jee.product
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
1024M
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
256m
--launcher.defaultAction
openFile
-vmargs
-Dosgi.requiredJavaVersion=1.5
-Xms512m
-Xmx512m 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-29T10:13:05.033

与其调整 JVM，不如使用流式 API 而不是在写入之前将整个 json 加载到内存中。

查看[https://sites.google.com/site/gson/streaming上的“混合写入示例”](https://sites.google.com/site/gson/streaming)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:02:26.390

问题不在于运行 eclipse（通过 控制`eclipse.ini`）的 JVM 内存不足，而是用于运行程序的单独 JVM 内存不足。

如果您使用的是 1.5 客户端 JVM，我认为标准的最大内存设置 ( `-Xmx`) 是 64 MB。

要更改最大内存，请执行以下操作：

*   右键单击“运行方式...”或“调试方式...”，然后
*   然后“运行配置”或“调试配置”
*   然后单击参数选项卡
*   然后添加`-Xmx512m`到“VM参数”
*   然后点击运行

如果您的内存仍然不足，请增加数量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T09:48:25.067

我认为你不应该调整`eclipse.ini`，因为这会影响 Eclipse 程序的 JVM 设置。我想你的程序启动了一个不同的 JVM，你应该设置那个 JVM 的内存设置。请参阅 Eclipse 中程序的“运行配置”。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-29T10:09:29.553

我认为您在 Eclipse 中运行的 JVM 内存不足。因此您必须增加 JVM 的大小。要更改 Eclipse 的 VM，您可以从**Windows> Preferences> Java>** Installed JREs 更改 MV 的数量，从那里选择 JRE 并单击编辑，然后写入默认 VM 参数：到 -Xmx1024M 或任何其他内存量。

参考这个链接你有一个[想法](http://javarevisited.blogspot.in/2011/09/javalangoutofmemoryerror-permgen-space.html#How%20to%20solve%20java.lang.OutOfMemoryError%3a%20Java%20heap%20space)。

# android - Android 原生应用程序上的 .SWF 图像

> ID：13119086
> 
> 赞同：0
> 
> 时间：2012-10-29T09:43:46.457
> 
> 标签：android, flash, native

我正在开发 android 本机应用程序，我想展示一个 .swf 文件，它是一个 Flash 内容。我正在使用 HTML5，这是显示 swf 文件的简单代码

上面的代码适用于所有桌面浏览器，因为浏览器安装了默认的 adobe flash 插件。但是，如果相同的代码作为 android 应用程序运行，我只会看到一个空白屏幕。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:47:15.423

我认为这在android中是不可能的。

您可以打开浏览器或 web 视图并将 SDCard 中的 swf 文件显示为：

```
 file://sdcard/filename.swf 
```

# ruby - Ruby Book 适合有经验的程序员的练习

> ID：13119088
> 
> 赞同：4
> 
> 时间：2012-10-29T09:43:51.323
> 
> 标签：ruby

我正在为有经验的程序员寻找一本好的 ruby​​ 书（过去 7 年我一直在使用 C# 和 Java 进行开发），但我发现它很难。

这些书要么直接面向初学者，要么只为有经验的程序员提供语言的简要概述。

我正在寻找一本吸引有经验的程序员的圣杯书，并提供真正的练习，让我能够练习我所学的一切。

我对这本书的期望是能够在开发自己的 Web 应用程序的同时完成它并开始学习 Rails。

提前感谢您提供的任何帮助，丹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:52:12.530

看看这个： [http ://ruby-metaprogramming.rubylearning.com/](http://ruby-metaprogramming.rubylearning.com/)

我真的建议阅读 Paolo Perotta 的书“Ruby 中的元编程”（参考上面的链接）。你也可以做一些 Ruby Koans :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:51:01.810

我建议参加[coursera SaaS 课程](https://www.coursera.org/course/saas)（网站现在似乎已经关闭，可能是作为 Sandy 预防措施）——它是免费的，涵盖了很多东西（Rails、Cucumber、Heroku，...），包括以下练习自动检查和评分。

# memory - 新的 doParallel 包的内存消耗极高

> ID：13119090
> 
> 赞同：2
> 
> 时间：2012-10-29T09:44:06.363
> 
> 标签：memory

我目前正在测试新的 doParallel 包，并将性能与旧的 doSMP 后端进行了比较。我观察到 doParallel 后端消耗了更多的内存。看起来好像 RGUI 的内存消耗累加了相应从站的内存消耗。我尝试了以下简单示例，内存消耗高达〜800MB（相比之下，如果使用doSMP，则<100MB）。

```
library(doParallel)
workers=makeCluster(3)
registerDoParallel(workers)
Runs=c(1:1000)

Output_parallel=foreach(i=Runs, .combine='+') %dopar% {
result=rnorm(100000)
}

stopCluster(workers) 
```

这个问题有解释吗？

# css - 跨度图像覆盖文本但不覆盖其他图像

> ID：13119091
> 
> 赞同：3
> 
> 时间：2012-10-29T09:44:11.123
> 
> 标签：css, image, html

我在表格中创建了缩略图和描述字段。缩略图具有覆盖相邻文本但不覆盖相邻缩略图的跨度图像？？？（所有内容都包含在#divSparesItem 中） 我已经尝试按照其他讨论中的建议向css 添加z-index 和显示变体，但似乎没有任何东西可以解决问题。有人可以帮忙吗？

HTML：

```
 <table>
                <tr>
                    <td><a class="thumbnail" href="#thumb"><img src="Design/Spares Image Thumbnail.png" width="80" height="60" alt="Spare I"/><span><img src="Design/Spares Image Large.png" width="320" height="240" alt="Spare I"/><br/>Spare I</span></a><p>CODE: 123ABC<br/>Description: Donec egestas justo ut nulla congue bibendum.<br/><font color="#FF0000">Price</font></p></td>
                    <td><a class="thumbnail" href="#thumb"><img src="Design/Spares Image Thumbnail.png" width="80" height="60" alt="Spare I"/><span><img src="Design/Spares Image Large.png" width="320" height="240" alt="Spare II"/><br/>Spare II</span></a><p>CODE: 123ABC<br/>Description: Donec egestas justo ut nulla congue bibendum.<br/><font color="#FF0000">Price</font></p></td>
                    <td><a class="thumbnail" href="#thumb"><img src="Design/Spares Image Thumbnail.png" width="80" height="60" alt="Spare III"/><span><img src="Design/Spares Image Large.png" width="320" height="240" alt="Spare I"/><br/>Spare III</span></a><p>CODE: 123ABC<br/>Description: Donec egestas justo ut nulla congue bibendum.<br/><font color="#FF0000">Price</font></p></td>
                </tr>
            </table> 
```

CSS：

```
#divSparesItem {
    color:#CCC;
    text-align:left;
    font-size:0.8em;
    float:right;
    padding-top:10px;
    padding-left:25px;
    padding-right:25px;
    text-decoration:none;
}

#divSparesItem img {
    float:left;
    margin-top:2px;
    margin-right:15px;
    margin-bottom:10px;
    border-left:#000;
    border-top:#000;
    border-right:#999;
    border-bottom:#999;
    border-width:1px;
    border-style:solid;
}

.thumbnail {
    position:relative;
    z-index:0;
}

.thumbnail span{
    position:absolute;
    background-color:#333;
    padding-top:15px;
    padding-left:15px;
    padding-right:0px;
    padding-bottom:15px;
    border-left:#999;
    border-top:#999;
    border-right:#000;
    border-bottom:#000;
    border-width:1px;
    border-style:solid;
    visibility:hidden;
    color:#CCC;
    text-decoration:none;
}

.thumbnail span img{
    border:none;
    z-index:100;
}

.thumbnail:hover span{
    display:block;
    visibility:visible;
    background-color:#333;
    top:-115px;
    left:0;
} 
```

您可以在[此处](http://www.synte.co.za/Puzey/Spares.html)查看问题（单击 Benelli1 选项卡）。任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T15:43:50.173

所以你想要做的是在这里创建两个[堆叠上下文](https://developer.mozilla.org/en-US/docs/CSS/Understanding_z-index/The_stacking_context)。第一个是文档根堆叠上下文，其中包含`table`. 另一个将由绝对定位的对象创建，`span`一旦我们给它一个`z-index`. 一旦我们这样做了，我们需要做的就是确保它位于另一个堆栈上下文之上，如下所示：

CSS：

```
.thumbnail:hover span {
    ...
    z-index: 1;
} 
```

这是一个[JSFiddle](http://jsfiddle.net/J7HzN/)，它显示它在所有主要浏览器中都正确显示。我不得不弄乱JSFiddle`css`的选择器才能正确显示。`.thumbnail:hover span`

此外，虽然概念上的理解`z-index`是显而易见的，但如果您还没有阅读过它的工作原理，那么将其实际应用到文档中可能会有点挑战。如果`z-index`一直给您带来麻烦，那么我建议您阅读我发送给您的链接上的不同页面 if `z-index`。您很快就会成为专业人士！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T17:04:22.403

从 .thumbnails 中删除 z-index：

```
.thumbnail {
    position: relative;
    /*z-index: 25;*/
} 
```

只是不要在任何地方添加 z-index 。:)

# opengl - （现代）OpenGL 是否有 Clojure 包装器？

> ID：13119096
> 
> 赞同：29
> 
> 时间：2012-10-29T09:44:33.140
> 
> 标签：opengl, clojure, lwjgl

我发现的唯一东西是[Penumbra](https://github.com/ztellman/penumbra)，它似乎包装了 OpenGL 1.1，我一点也不关心。它实际上不需要做任何花哨的事情，在一个命名空间中公开 OpenGL 3.3/core 或 OpenGL 4.x/core 的 LWJGL 包装器就足够了——我也不介意更*惯用*的包装器，只要它不做任何即时模式绘图并支持 GLSL 3.3 我基本上很高兴。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T23:05:19.470

可悲的是，除了半影之外别无他法。我也很想拥有这个……我想知道我们是否可以筹集资金来资助 Zach Tellman 来研究它？！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-27T15:50:45.170

你检查过奎尔吗？它是 Clojure 的处理，也适用于 OpenGL。

[https://github.com/quil/quil](https://github.com/quil/quil)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T21:48:20.890

Opengl 直接处理对 gpu 的调用，所以我认为不可能为 clojure 获得任何远程惯用的东西。

就个人而言，我一直在 clojure 代码中使用 JOGL ( [https://jogamp.org/jogl/www/ ) 调用。](https://jogamp.org/jogl/www/)

到目前为止，我对表演感到满意。

* * *

****** 刚刚注意到Arcadia的存在，看起来很棒： [https ://github.com/arcadia-unity/Arcadia](https://github.com/arcadia-unity/Arcadia)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-09T15:18:13.457

您可以使用 Java 库[LWJGL 版本 3](https://www.lwjgl.org/)。还有更广泛打包的[旧版 LWJGL 版本 2 。](http://legacy.lwjgl.org/)

这是使用 LWJGL 版本 2 的最小示例：

```
(ns raw-opengl
  (:import [org.lwjgl BufferUtils]
           [org.lwjgl.opengl Display DisplayMode GL11 GL12 GL13 GL15 GL20 GL30]))

(def vertex-source "#version 130
in mediump vec3 point;
in mediump vec2 texcoord;
out mediump vec2 UV;
void main()
{
  gl_Position = vec4(point, 1);
  UV = texcoord;
}")

(def fragment-source "#version 130
in mediump vec2 UV;
out mediump vec3 fragColor;
uniform sampler2D tex;
void main()
{
  fragColor = texture(tex, UV).rgb;
}")

(def vertices
  (float-array [ 0.5  0.5 0.0 1.0 1.0
                -0.5  0.5 0.0 0.0 1.0
                -0.5 -0.5 0.0 0.0 0.0]))

(def indices
  (int-array [0 1 2]))

(def pixels
  (float-array [0.0 0.0 1.0
                0.0 1.0 0.0
                1.0 0.0 0.0
                1.0 1.0 1.0]))

(defn make-shader [source shader-type]
  (let [shader (GL20/glCreateShader shader-type)]
    (GL20/glShaderSource shader source)
    (GL20/glCompileShader shader)
    (if (zero? (GL20/glGetShaderi shader GL20/GL_COMPILE_STATUS))
      (throw (Exception. (GL20/glGetShaderInfoLog shader 1024))))
    shader))

(defn make-program [vertex-shader fragment-shader]
  (let [program (GL20/glCreateProgram)]
    (GL20/glAttachShader program vertex-shader)
    (GL20/glAttachShader program fragment-shader)
    (GL20/glLinkProgram program)
    (if (zero? (GL20/glGetShaderi program GL20/GL_LINK_STATUS))
      (throw (Exception. (GL20/glGetShaderInfoLog program 1024))))
    program))

(defmacro def-make-buffer [method create-buffer]
  `(defn ~method [data#]
     (let [buffer# (~create-buffer (count data#))]
       (.put buffer# data#)
       (.flip buffer#)
       buffer#)))

(def-make-buffer make-float-buffer BufferUtils/createFloatBuffer)
(def-make-buffer make-int-buffer BufferUtils/createIntBuffer)

(Display/setTitle "mini")
(Display/setDisplayMode (DisplayMode. 320 240))
(Display/create)

(def vertex-shader (make-shader vertex-source GL20/GL_VERTEX_SHADER))
(def fragment-shader (make-shader fragment-source GL20/GL_FRAGMENT_SHADER))
(def program (make-program vertex-shader fragment-shader))

(def vao (GL30/glGenVertexArrays))
(GL30/glBindVertexArray vao)

(def vbo (GL15/glGenBuffers))
(GL15/glBindBuffer GL15/GL_ARRAY_BUFFER vbo)
(def vertices-buffer (make-float-buffer vertices))
(GL15/glBufferData GL15/GL_ARRAY_BUFFER vertices-buffer GL15/GL_STATIC_DRAW)

(def idx (GL15/glGenBuffers))
(GL15/glBindBuffer GL15/GL_ELEMENT_ARRAY_BUFFER idx)
(def indices-buffer (make-int-buffer indices))
(GL15/glBufferData GL15/GL_ELEMENT_ARRAY_BUFFER indices-buffer GL15/GL_STATIC_DRAW)

(GL20/glVertexAttribPointer (GL20/glGetAttribLocation program "point"   ) 3 GL11/GL_FLOAT false (* 5 Float/BYTES) (* 0 Float/BYTES))
(GL20/glVertexAttribPointer (GL20/glGetAttribLocation program "texcoord") 2 GL11/GL_FLOAT false (* 5 Float/BYTES) (* 3 Float/BYTES))
(GL20/glEnableVertexAttribArray 0)
(GL20/glEnableVertexAttribArray 1)

(GL20/glUseProgram program)

(def tex (GL11/glGenTextures))
(GL13/glActiveTexture GL13/GL_TEXTURE0)
(GL11/glBindTexture GL11/GL_TEXTURE_2D tex)
(GL20/glUniform1i (GL20/glGetUniformLocation program "tex") 0)
(def pixel-buffer (make-float-buffer pixels))
(GL11/glTexImage2D GL11/GL_TEXTURE_2D 0 GL11/GL_RGB 2 2 0 GL12/GL_BGR GL11/GL_FLOAT pixel-buffer)
(GL11/glTexParameteri GL11/GL_TEXTURE_2D GL11/GL_TEXTURE_WRAP_S GL11/GL_REPEAT)
(GL11/glTexParameteri GL11/GL_TEXTURE_2D GL11/GL_TEXTURE_MIN_FILTER GL11/GL_NEAREST)
(GL11/glTexParameteri GL11/GL_TEXTURE_2D GL11/GL_TEXTURE_MAG_FILTER GL11/GL_NEAREST)
(GL30/glGenerateMipmap GL11/GL_TEXTURE_2D)

(GL11/glEnable GL11/GL_DEPTH_TEST)

(while (not (Display/isCloseRequested))
  (GL11/glClearColor 0.0 0.0 0.0 0.0)
  (GL11/glClear (bit-or GL11/GL_COLOR_BUFFER_BIT GL11/GL_DEPTH_BUFFER_BIT))
  (GL11/glDrawElements GL11/GL_TRIANGLES 3 GL11/GL_UNSIGNED_INT 0)
  (Display/update)
  (Thread/sleep 40))

(GL20/glDisableVertexAttribArray 1)
(GL20/glDisableVertexAttribArray 0)

(GL11/glBindTexture GL11/GL_TEXTURE_2D 0)
(GL11/glDeleteTextures tex)

(GL15/glBindBuffer GL15/GL_ELEMENT_ARRAY_BUFFER 0)
(GL15/glDeleteBuffers idx)

(GL15/glBindBuffer GL15/GL_ARRAY_BUFFER 0)
(GL15/glDeleteBuffers vbo)

(GL30/glBindVertexArray 0)
(GL30/glDeleteVertexArrays vao)

(GL20/glDetachShader program vertex-shader)
(GL20/glDetachShader program fragment-shader)
(GL20/glDeleteProgram program)
(GL20/glDeleteShader vertex-shader)
(GL20/glDeleteShader fragment-shader)

(Display/destroy) 
```

# c# - 在 Windows 窗体中播放 .WMV 文件

> ID：13119100
> 
> 赞同：1
> 
> 时间：2012-10-29T09:44:47.630
> 
> 标签：c#, winforms, windows-forms-designer

我正在尝试创建一个 Windows 窗体应用程序来播放 .WMV 文件。

我有 5 个视频已添加到我的项目中，位于视频文件夹中。

我为每个视频创建了一个按钮，5。

当单击按钮 Button1 时，我希望能够打开 Video1.. 例如使用 Windows Media Player。

到目前为止的代码::

```
 private void PlayVideo1_Click(object sender, EventArgs e)
    {
        // Open Windows Media Player
        System.Diagnostics.Process.Start("wmplayer.exe");

        // Play Video1.
        Process.Start("Video1.wmv");
    } 
```

请你能告诉我我做错了什么吗？

=========================

更新：

WPF可以使用类似的代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:53:25.570

WMV 文件是否在“复制到输出目录”属性中设置为“始终复制”？如下图所示：

![例子](../Images/c5c29be568d6f1b99077cb27941736da.png)

如果是，那么文件将进入与应用程序相同的目录，下一步是从属性路径运行 WMV，

你的代码：

```
Process.Start("Video1.wmv"); 
```

想直接启动WMV并没有错（那样，目标机器中的默认播放器将运行），但您需要发送完整路径（例如C：\ Video.WMV）

如果 WMV 文件位于应用程序的 VIDEOS 文件夹中，您可以更改为执行以下操作，例如：

```
Process.Start(Path.Combine(Application.StartupPath, "VIDEOS/Video1.wmv")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:53:51.220

尝试使用命名空间中的[音频视频播放](http://msdn.microsoft.com/en-us/library/bb324497.aspx)。`Microsoft.DirectX.AudioVideoPlayback`

或`Windows Media Player Control`在您的表格上使用。请参阅此 MSDN 文章：

*   [在 .NET Framework 解决方案中使用 Windows Media Player 控件](http://msdn.microsoft.com/en-us/library/windows/desktop/dd564582.aspx)

示例代码：

```
private void PlayFile(String url)
{
    Player = new WMPLib.WindowsMediaPlayer();
    Player.URL = url;
    Player.controls.play();
} 
```

# c++ - 删除 *char[]

> ID：13119102
> 
> 赞同：2
> 
> 时间：2012-10-29T09:44:50.907
> 
> 标签：c++

如果我尝试删除一个字符，我会收到访问冲突错误。

这是我的代码：

```
int main()
{
    char *myString = new char[32];
    myString = "Hello";
    cout << myString;
    cin.get();

    delete [] myString;
    return 0;
} 
```

我也试过

```
delete myString 
```

但我仍然遇到访问冲突错误

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T09:46:59.640

线后

```
 myString = "Hello"; 
```

指针`myString`不再指向您分配的数组，而是指向字符串文字。线

```
delete [] myString; 
```

然后尝试删除文字（这会导致崩溃）。

您可以使用 复制字符串`strcpy`，或者更好的是使用`std::string`。

```
std::string myString = "Hello";
cout << myString; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-29T09:47:31.843

```
char *myString = new char[32];
myString = "Hello"; 
```

这会将变量重新分配`myString`给其他东西（特别是常量“Hello”字符串）。不要那样做。如果你真的需要一个 char 指针，使用

```
strcpy(myString, "Hello"); 
```

甚至更好

```
char *myString = strdup("Hello"); 
```

然后使用释放分配的内存

```
free(myString); 
```

代替

```
delete [] myString; 
```

这将是一个错误。

但**不要那样做。**改为使用`std::string`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T09:47:21.577

您试图删除分配“Hello”的内存。您需要使用 strcpy 来复制内容而不是指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T09:55:31.903

由于以下行，您会遇到访问冲突，您的指针不再查看您分配的动态内存，而是指向文字“hello”，而不是您无法删除的......

```
myString = "Hello"; 
```

那条线也不会做你想做的事，你需要使用（注意你不需要在这个变化中新建/删除）

```
char myString[32];
strcpy(myString,"Hello") 
```

或者更好`strncpy`......在谷歌或书中查找它。

如果您尝试使用 c++，甚至更好

```
std::string myString;
myString = "Hello"; 
```

# javascript - 在 JavaScript 中按对象创建数组（反之亦然）？

> ID：13119105
> 
> 赞同：9
> 
> 时间：2012-10-29T09:45:00.487
> 
> 标签：javascript

*这里发生了什么？*

```
var x = {length:3, '0':'foo', '1':'bar','2':'f', splice:function(){}} 
```

这实际上创建了一个数组：

```
["foo", "bar", "f"] 
```

这种结构语法的文档在哪里？

它也很聪明：

更改为：（注意 0 、 1 、 3）

```
 var x = {length:3, '0':'foo', '1':'bar','3':'f', splice:function(){}} 
```

会弄乱数组，它将是：

```
["foo", "bar", undefined × 1] 
```

此外，删除拼接功能：

```
var x = {length:3, '0':'foo', '1':'bar','2':'f'} 
```

产量：（常规对象）

```
Object
0: "foo"
1: "bar"
2: "f"
length: 3
__proto__: Object 
```

所以我有两个问题：

*   这是什么结构？ `length , element , splice`

*   假设我有`['john','paul','yoko']`，现在我想创建*对象*

    `var x = {length:3, '0':'john', '1':'paul','2':'yoko', splice:function(){}}`

    我该怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T09:49:18.240

**数组只不过是一个 object**，实现了一些方法，当你 make 时`console.log(x)`，你的控制台会识别数组的模型，并像配置它一样显示它。

`Array`是*Javascript*中默认可用的对象，它的处理方式与浏览器的其他对象略有不同（请参阅@MathiasSchwarz 评论），但在其结构中，它与其他对象一样（您可以调用一些方法，并且您可以添加索引。不过，您通常不会像在“普通”对象中那样使用字符串索引，因为它的目标不是那样使用）。

但是您的对象并不是真正的`Array`，您可以做任何您想做的事情，而无需参考控制台中显示的内容。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T09:50:36.963

`x`不是数组，它只是一个对象。（**控制台以数组形式显示，是控制台实现的问题。**）

```
var x = {length:3, '0':'foo', '1':'bar','2':'f', splice:function(){}};
console.log(typeof x); // object 
```

**以firebug为例，看一下firebug的源代码，你就会明白为什么控制台认为它是一个数组。**

```
//...
isArray: function(obj, win)
{
    if (mightBeArray(obj, win))
    {
        if (!obj)
            return false;
        // do this first to avoid security 1000 errors
        else if (obj instanceof Ci.nsIDOMHistory)
            return false;
        // do this first to avoid exceptions
        else if (obj.toString && obj.toString() === "[xpconnect wrapped native prototype]")
            return false;
        else if (isFinite(obj.length) && typeof obj.splice === "function")
            return true;
        else if (Arr.isArray(obj))
            return true;
    }

    return false;
},
// ... 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T09:58:55.290

```
var x = {length:3, '0':'foo', '1':'bar','2':'f', splice:function(){}} 
```

*看起来*像一个数组，但*不是*。如果你尝试`x.forEach(function(e){...})`它失败，但如果你这样做`[1,2,3].forEach(function(e){...})`。

如果你想通过文字对象表示法创建一个*实际的数组，你可以这样做*

```
var x = {length:3, ... , __proto__:Array.prototype} 
```

但是请注意，像这样创建的对象*仍然*不会`length`在写入时更新其属性。

具有长度和数字索引的对象称为*伪数组*是 Javascript。其中一个例子是 jQuery 对象。

**Chrome 控制台** 将带有 a和的对象*显示*为数组，但这并不意味着它们*是*数组。`length``splice`

 ** * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:03:09.040

创建的对象*不是*一个数组，但它会表现得像一个数组（虽然是不可变的），因为它有一个长度字段和一个`splice`方法。

在 JavaScript 数组中，该`length`字段会在数组更新时自动更新。对于您的对象，情况并非如此。在您的对象中，无论对象包含什么，该`length`字段都将保留。`3`这也是当您将索引更改为 0、1、3 时事情不再起作用的原因。在这种情况下，长度字段应该是`4`而不是`3`。由于值是`3`迭代将在索引 2 之后停止，这确实是未定义的，因为您没有为索引 2 设置值...*

# java - loadermanager.callbacks 覆盖符号

> ID：13119114
> 
> 赞同：0
> 
> 时间：2012-10-29T09:45:33.833
> 
> 标签：java, android

我正在使用目标 API 16 和最低 API 11 与编译器 1.7 的合规级别当我在 LoaderCallbacks 的方法（例如 OnLoadFinished、OnCreateLoader）上使用 @Override 表示法时，检查结果显示我必须覆盖超类方法的错误。

Eclipse SDK

版本：4.2.1 版本号：M20120914-1800

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.birthdays"
    android:versionCode="1"
    android:versionName="1.0">

    <uses-sdk android:minSdkVersion="11" android:targetSdkVersion="15" />

    <application android:label="@string/app_name"
        android:icon="@drawable/ic_launcher"
        android:theme="@style/AppTheme">

    </application>

</manifest>

public class MainActivity extends ListActivity implements LoaderManager.LoaderCallbacks<Cursor>
    {
        private static final int ACTIVITY_CREATE = 0;
        private static final int DELETE_ID = Menu.FIRST + 1;
        private AppSqliteDataBase dataSource;
        private Cursor cursor;
        private SimpleCursorAdapter adapter;
        public void onCreate(Bundle savedInstanceState)
        {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);
    //      this.getListView().setDividerHeight(2);
            dataSource = new AppSqliteDataBase(this);
            dataSource.open();
            cursor = dataSource.getCursor();
            fillData();
            registerForContextMenu(getListView());

        }

        private void fillData()
        {
            String[] from = new String[] { dataSource.getCredentialsColName() };
            int[] to = new int[] { R.id.list_label };
            adapter = new SimpleCursorAdapter(this, android.R.layout.simple_list_item_1, cursor, from, to, 0);
            setListAdapter(adapter);

            getLoaderManager().initLoader(0, null, this);
        }

        public Loader<Cursor> onCreateLoader(int id, Bundle args)
        {
    //      String[] projection = { dataSource.getIdColName(), dataSource.getCredentialsColName() };
            SQLiteCursorLoader cursorLoader = new SQLiteCursorLoader(this, 
                    dataSource.dbHelper, "select _id, credentials from birthdays where 1", new String[]{}); 
            return cursorLoader;
        }

        public void onLoaderReset(Loader<Cursor> loader)
        {
            adapter.swapCursor(null);
        }

        public void onLoadFinished(Loader<Cursor> loader, Cursor data)
        {
            adapter.swapCursor(data);
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:48:23.600

将您的编译器合规级别更改为 1.6，在 Eclipse 中右键单击您的项目转到属性并选择编译器选项

# mongodb - 非规范化数据并在 mongodb 中更新它

> ID：13119115
> 
> 赞同：1
> 
> 时间：2012-10-29T09:45:34.993
> 
> 标签：mongodb

我们正在建立一个社交网络。有很多地方存储了用户的详细信息。例如，用户的朋友、创建评论的用户等。我正在对用户数据（姓名、图片网址）进行反规范化。

现在的问题是如何更新去规范化的数据。一种选择是在后台作业中执行此操作，只要用户更新他的姓名/图像。

这是去规范化的正确方法吗？

是更新非规范化数据的正确方法，还是mongodb本机提供的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:21:01.167

这对我来说听起来像是一项后台工作，但这取决于您的更新和查询量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:57:27.233

MongoDB 不支持关系、触发器，需要监视相关对象的状态，因此您无法自动更新非规范化数据（[DBRef](http://docs.mongodb.org/manual/applications/database-references/)不适用）。您必须手动完成。

# java - 使用方法中声明的相同方法？

> ID：13119118
> 
> 赞同：3
> 
> 时间：2012-10-29T09:45:42.413
> 
> 标签：java, methods, return-value

所以一直在为我过去的考试而学习，遇到了这个问题，问如果 num = 7，返回值是多少？将它插入 BlueJ 告诉我 16，func1 做了什么使它成为 16？声明的方法如何在方法中再次使用？我搜索但很难找到这个确切的例子，因为它只是正常使用方法。

谢谢，

```
public int func1(int num) 
{
  if ( num <= 2 ) return 1;
  return func1(num – 2) + num;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T09:47:34.677

这是对您使用它的同一函数的递归调用。

因此，`func1(num – 2)`将调用相同的函数 - `public int func1(int num)`with `num = num - 2`, until`num >= 2`

所以，你的递归是这样的： -

```
func(n)
   calls func(n-2)
      calls func(n-4)
         .. so on
         calls func(1)
            returns 1
         returns 1 + 3 + ... + (n - 4)
      returns 1 + 3 + ... + (n - 4) + (n - 2) 
   returns 1 + 3 + ... + (n - 4) + (n - 2) + n 
```

**更新**： - 概括了上面的递归，让你弄清楚它是如何工作的。

你可以通过： -[递归 - 维基页面](http://en.wikipedia.org/wiki/Recursion_%28computer_science%29)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T09:47:10.897

这称为*[递归](http://en.wikipedia.org/wiki/Recursion_%28computer_science%29)*。理解它的最好方法是在调试器中观察它，并考虑调用序列将如何终止（即*它为什么不无限期地调用自身*）。

（对不起 - 因为这是家庭作业/考试相关，所以没有给你一个完整的答案）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T09:48:52.217

好吧，这就是[递归](http://en.wikipedia.org/wiki/Recursion)的全部意义。该方法被递归调用，直到满足某个退出条件。在您的情况下，退出条件是方法参数值达到 <= 2 的值

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-29T09:49:42.423

要理解递归，首先要理解递归。

[在这里](https://stackoverflow.com/questions/717725/understanding-recursion)你可以找到一个很好的解释。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-29T09:48:35.957

你想看的东西（特别是你的考试）叫做[递归](http://danzig.jct.ac.il/java_class/recursion.html)

该函数使用不同的参数值调用自身，直到满足内部标准。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-29T09:52:12.103

声明的方法如何在方法中再次使用？

答：在称为递归的方法中调用相同的方法[（计算机科学）](http://en.wikipedia.org/wiki/Recursion_%28computer_science%29)

您可以不使用循环使用递归

```
public int func1(int num) {
        int res=1;
        while(num >= 2 ) {
            res += num;
            num = num-2;
        }
        return res;
    } 
```

但是，当您使用 Tree、Hierarchy 等时，递归是代码重用最重要的特性之一，

# ios - BLE 对 ios 的支持

> ID：13119121
> 
> 赞同：0
> 
> 时间：2012-10-29T09:45:50.200
> 
> 标签：ios, bluetooth, core-bluetooth, bluetooth-lowenergy

iphone OS 是否支持 BLE 的 PASP 和 PXP 配置文件。如果是，是否有相同的文档或示例应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:52:35.253

看来，iphone不支持它们。[您可以在此处查看](http://support.apple.com/kb/HT3647)每种 iphone 支持的蓝牙配置文件列表。

# php - Marquee 在 Firefox 中无法正常工作（我正在使用许多 jQuery）

> ID：13119123
> 
> 赞同：-1
> 
> 时间：2012-10-29T09:45:51.310
> 
> 标签：php, javascript, jquery, html

我正在开发一个网站，其中使用了许多 jQuery 脚本，包括视差：

```
jquery.parallax.js  
jquery.anythingslider.fx.js  
jquery.anythingslider.js 
```

等等还有更多：

有`<div>`左侧和右侧内容。在左侧，`div`我只使用`img`了标签，而在右侧`div`标签中，有画廊和更多的东西。现在在右侧顶部，我使用了一个选取框，但它在 Firefox 中不起作用，在其他浏览器中也能正常工作。现在我正在使用`marquee`标签，这个标签在 Chrome 和其他浏览器中运行良好，但在 Firefox 中这不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T09:49:38.363

该`marquee`标签已被弃用。Firefox 不再支持它。相反，如果您想在屏幕上滚动文本，则需要使用一些 javascript 或 jQuery 插件。

*由 Tatsinnit 编辑*感谢 Rory 的许可。

`marquee`是非标准的 HTML 元素。所以我认为周围的信息必须分为两个教派：

*   Deprecation Sect - 阅读：[Html marquee tag](https://stackoverflow.com/questions/2227815/html-marquee-tag) Quentin 的回复，特别是从顶部开始的第 4 个帖子。
*   Unfollowed - 这是一个非标准标签的信息，因此没有弃用点。

`<marquee>`最初由 Microsoft 引入，然后其他浏览器扩展了它们的支持 [1]。

如果您有兴趣，请进一步查看 mozilla 页面：[https](https://developer.mozilla.org/en-US/docs/HTML/Element/marquee) ://developer.mozilla.org/en-US/docs/HTML/Element/marquee以进一步阅读。

[1] [http://en.wikipedia.org/wiki/Marquee_element](http://en.wikipedia.org/wiki/Marquee_element)

[2] [https://developer.mozilla.org/en-US/docs/HTML/Element/marquee](https://developer.mozilla.org/en-US/docs/HTML/Element/marquee)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:51:12.673

选框已弃用，因此您需要使用 javascript（我认为有一个 jQuery 插件）或者您可以使用 ccs3（如果目标浏览器支持它）

# javascript - 为什么 window.event 不起作用？

> ID：13119124
> 
> 赞同：0
> 
> 时间：2012-10-29T09:45:53.837
> 
> 标签：javascript

它曾经可以工作，但现在我得到了：

```
window.event is undefined 
```

从这个曾经有效的简单代码中：

```
function checkKey() {   
    if (window.event.keyCode != 9) {    
        document.actionForm.saveStatus.value = "Not saved";
    }
} 
```

为什么我不能再使用 window.event 了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T09:47:26.283

`window.event`是专有的微软主义。

访问事件数据的标准方法是通过事件处理函数的第一个参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T09:49:55.897

```
function checkKey(e) {
  var evt = e || window.event,
      keyPressed = evt.which || evt.keyCode;
  if (keyPressed  != 9) {    
    document.actionForm.saveStatus.value = "Not saved";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T09:48:52.633

您可以像这样标准化检查：

```
function checkKey(e) {
    var evt = e || window.event;
    if (evt.keyCode != 9) {    
        document.actionForm.saveStatus.value = "Not saved";
    }
} 
```

# android - 如何在android中解析json响应

> ID：13119128
> 
> 赞同：0
> 
> 时间：2012-10-29T09:46:12.070
> 
> 标签：android, json

可以将php中的json编码响应解析为java arraylist。我的字符串是

```
[{"Link_Id":"811"},{"Link_Id":"1389"},{"Link_Id":"6190"}] 
```

我尝试的是

```
static JSONObject jObj = null;
JSONArray link_Ids = null;
ArrayList<Integer> ids;
jObj = new JSONObject(a);
link_Ids = jObj.getJSONArray("Link_Id");
for (int i = 0; i < link_Ids.length(); i++) {  // **line 2**
     JSONObject childJSONObject = link_Ids.getJSONObject(i);
     ids.add(childJSONObject.getString(i));
} 
```

有人可以纠正我吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:50:57.917

该字符串表示一个 json 数组，所以它应该是这样的：

```
link_Ids = new JSONArray(a);
for (int i = 0; i < link_Ids.length(); i++) {  
   JSONObject childJSONObject = link_Ids.getJSONObject(i);
   ids.add(childJSONObject.getString("Link_Id"));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:03:32.017

您可以使用 gson 库来解析 JSON 对象。它很容易使用。这是[gson 解析的链接](http://androidsmith.com/2011/07/using-gson-to-parse-json-on-android/)

这是 Stack Overflow[内部链接](https://stackoverflow.com/questions/4556230/using-gson-in-android-to-parse-a-complex-json-object)

[要使 gson 工作，需要一个 .jar 文件。您可以从此处](http://code.google.com/p/google-gson/downloads/list)下载 gson 库

# wix - WIX 重用安装程序功能

> ID：13119137
> 
> 赞同：1
> 
> 时间：2012-10-29T09:47:01.933
> 
> 标签：wix, components, reusability

**有没有办法在不复制粘贴代码的情况下重用 WIX 安装程序的功能？**

重用没有组件的 UI 或其他功能很简单。

但是，例如，创建新站点需要很少的组件（具有 IIS 6 和 IIS 7 的条件）、启用 ASP.NET 4、启用所需的 Windows 功能等。我希望在多个安装程序中重复使用此功能 - 所有这些都可以对于不同的产品或多或少相同。

但问题是组件 GUID - 如果我使用此功能创建 wixlib，所有应用程序都会获得具有相同 GUID 的组件，这将导致冲突问题。

我现在唯一能想到的是具有重用功能的 wxs 文件的 xml 转换（XDT 或 XSLT）。

有人有更好的想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-12T02:56:11.600

如果您确实要安装相同的东西，那么所有这些组件的组件指南*应该是相同的。*如果您有一个位于组件中的文件（比目录更好的 KeyPath），则自动 guid 将在安装到不同位置时生成唯一的 Guid。最后，您可以使用绑定变量 !(wix.Var) 在绑定时替换 Guid。我会先考虑前两个选项。

# android - 通过设置 Theme.NoTitleBar 的 TextView 显示效果

> ID：13119141
> 
> 赞同：1
> 
> 时间：2012-10-29T09:47:18.920
> 
> 标签：android, textview, titlebar

我很困惑，为什么我在 AndroidManifest.xml 中设置 android:theme="@android:style/Theme.NoTitleBar" 是因为当应用程序工作时不希望标题栏显示在屏幕上，为什么它会影响 textview 中的文本？

标题栏在我的应用程序中消失了，但是在我的应用程序中，我可以选择一个对象作为焦点，这个对象有一个 imageview 和一个 textview。

problem is when a object is selected, the text in textview in this object also disappear too....didn't shown in monitor, but if i select another object the text appear again.

感谢和问候

# iphone - ios指针问题

> ID：13119142
> 
> 赞同：0
> 
> 时间：2012-10-29T09:47:20.953
> 
> 标签：iphone, ios, pointers

大家好，指针有问题，这是我的代码

```
NSArray *buttons = [NSArray arrayWithObjects: self.btn1, self.btn2, self.btn3,nil];

 for(UIButton *btn in buttons){

    NSLog(@"%f, %f, %@", btn.bounds.size.width, btn.frame.size.height,  btn.titleLabel.text);
 } 
```

输出是`"0.00000, 0.00000, button1"` 任何想法出了什么问题？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:54:56.237

使用此代码重试，只需在`viewDidLoad:`方法中设置框架，如下所示..

```
- (void)viewDidLoad
{

    ///set frame which you want..

    self.btn1 = [[UIButton alloc]initWithFrame:CGRectMake(10, 10, 100, 44)];
    self.btn2 = [[UIButton alloc]initWithFrame:CGRectMake(10, 70, 100, 44)];
    self.btn3 = [[UIButton alloc]initWithFrame:CGRectMake(10, 120, 100, 44)];
} 
```

# android - 小部件。Activity 泄露了 IntentReceiver

> ID：13119157
> 
> 赞同：1
> 
> 时间：2012-10-29T09:47:58.613
> 
> 标签：android, android-intent, android-widget, broadcastreceiver, android-service

在我的`Widget`我使用：

```
Intent intent = new Intent(context, ClassForWidget.class); 
PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0); 
RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget1);            
views.setOnClickPendingIntent(R.id.layout_widget1, pendingIntent);` 
```

我的班级`ClassForWidget`已经有一个`BroadcastReceiver`：

```
BroadcastReceiver myReceiver = new MyReceiver();
IntentFilter intentFilter = new IntentFilter();
intentFilter.addAction(MyService.MY_ACTION);
registerReceiver(myReceiver, intentFilter); 
```

所以，当我点击时`Widget`，我有错误：

> Activity .ClassForWidget 泄露了最初在这里注册的 IntentReceiver .ClassForWidget$MyReceiver@40ebe710。您是否错过了对 unregisterReceiver() 的调用？

我该如何解决？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:57:57.500

通常您应该在 onResume 中注册并在 onPause（或 onStart 和 onStop）中取消注册。

```
protected void onPause() {
     if (myReceiver != null){
         unregisterReceiver(myReceiver);
         myReceiver = null;
     }

} 
```

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:55:09.623

我相信，您需要调用`unregisterReceiver()`方法才能取消注册广播接收器。我不确定你是如何为小部件做的，但如果它是一个`Activity`，所以我们通常需要在里面调用它`onStop()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T09:56:01.277

您需要注销广播接收器。

`OnDestroy()`在您的方法中添加这一行：`unregisterReceiver(myReceiver);`

# java - 从 .class 文件记录值，可能使用 AOP 拦截

> ID：13119158
> 
> 赞同：0
> 
> 时间：2012-10-29T09:48:00.437
> 
> 标签：java, logging, aop

假设我正在使用一些现有的 java 库，而我只有 .class 文件。但没有得到我期望的结果。所以我查看了源代码，发现那里有一些逻辑，并想看看我的正确值是否到达库代码。

我可以以某种方式记录到达 .class 文件的值吗？是否在考虑 AOP..？

**来自外部库的方法。**

```
public void updateValues(String value, MyClass classValue) 
```

例如，我在源代码中看到这一行，当它运行时，我想拦截它，就像将`value`and写入`classValue`日志文件一样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:03:27.397

好吧，如果您有源代码，那为什么不调试它呢？

但无论如何 - 可以使用`AOP`. 你需要`.jar`在你的类路径中有那个文件。假设您已经配置了`AOP`，那么您需要做的就是：

```
<aop:pointcut id="yourPointCut" expression="execution(* package.to.your.class.YourClass.updateValues(..))" /> 
```

此切入点将允许您记录`updateValues`方法的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-04T11:13:45.787

是的，您可以使用 AOP 来做到这一点，特别是 AspectJ

*   编译时二进制编织（将建议编织到目标 JAR 中，生成它的新版本）
*   或加载时编织（不会改变你的 JAR，只是 JVM 中的 Java 类）。

AspectJ 文档非常好。这不是火箭科学，只是刚开始的一个新概念。所以可能需要花一点时间来理解它，但它是一个优雅而强大的工具。

# wcf - 来自 $.ajax 的 wcf 调用在 chrome 中不起作用

> ID：13119159
> 
> 赞同：0
> 
> 时间：2012-10-29T09:48:01.947
> 
> 标签：wcf, jquery

我在尝试从 jquery 使用简单的 WCF 服务时遇到特殊问题。请看下面的代码：

`$(document).ready(function () { // Initialize the carousel on the header part of the page $("#myCarousel").carousel({ interval: 2000 });`

 ````
// The handler for the submit button (login form)
$("#submit").click(function () {
    var sendData = '{"username": "' + 
                     $("#usernameTB").val() + 
                   '", "password": "' + 
                     CryptoJS.MD5($("#passwordTB").val()) + 
                   '"}';

    $.ajax("Services/LoginUser.svc/Login", {
        cache: false,
        type: "POST",
        data: sendData,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        processData: true,
        complete: ServiceCompleted
    });
}); 
```` 

`}); function ServiceCompleted(data) { alert("Response: " + data.responseText); }`

当我使用 IE 中的这段代码时，它就像一个魅力，即调用被执行并返回我所期望的，请参阅下面的请求/响应的提琴手转储：

```
POST http://localhost/CanDoIT/Services/LoginUser.svc/Login HTTP/1.1
接受：应用程序/json、文本/javascript、*/*；q=0.01
内容类型：应用程序/json；字符集=utf-8
X-Requested-With: XMLHttpRequest
参考：http://localhost/CanDoIT/default.htm
接受语言：nl-NL,en-US;q=0.5
接受编码：gzip，放气
用户代理：Mozilla/5.0（兼容；MSIE 9.0；Windows NT 6.1；WOW64；Trident/5.0）
主机：本地主机
内容长度：64
连接：保持活动
Pragma：无缓存

{“用户名”：“”，“密码”：“d41d8cd98f00b204e9800998ecf8427e”}

HTTP/1.1 200 正常
缓存控制：私有
内容长度：10
内容类型：应用程序/json；字符集=utf-8
服务器：Microsoft-IIS/7.5
X-AspNet-版本：4.0.30319
X-Powered-By: ASP.NET
日期：2012 年 10 月 29 日星期一 09:31:15 GMT

{“d”：空}
```

如果我使用 Chrome 执行相同操作，我会收到以下请求/响应转储：

```
POST http://localhost/CanDoIT/Services/LoginUser.svc/Login HTTP/1.1
主机：本地主机
连接：保持活动
内容长度：64
来源：http://localhost
X-Requested-With: XMLHttpRequest
用户代理：Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4
内容类型：应用程序/json；字符集=UTF-8
接受：应用程序/json、文本/javascript、*/*；q=0.01
参考：http://localhost/CanDoIT/default.htm?
接受编码：gzip、deflate、sdch
接受语言：nl-NL,nl;q=0.8,en-US;q=0.6,en;q=0.4
接受字符集：ISO-8859-1,utf-8;q=0.7,*;q=0.3

{“用户名”：“”，“密码”：“d41d8cd98f00b204e9800998ecf8427e”}

HTTP/1.1 200 正常
缓存控制：私有
内容长度：10
内容类型：应用程序/json；字符集=utf-8
服务器：Microsoft-IIS/7.5
X-AspNet-版本：4.0.30319
X-Powered-By: ASP.NET
日期：2012 年 10 月 29 日星期一 09:30:27 GMT

{“d”：空}
```

现在，警报没有向我显示 {"d":null} 文本。

有谁知道阻止我使用 responseText 的区别是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T12:52:37.237

经过一番谷歌搜索后，我刚刚找到了解决问题的方法...

看来我的表单上提交按钮的单击处理程序必须返回 false 才能使其正常工作。

我不知道为什么，但它的工作...

# ms-word - 升级office后VSTO项目无法加载

> ID：13119160
> 
> 赞同：3
> 
> 时间：2012-10-29T09:48:04.447
> 
> 标签：ms-word, vsto, office-2013

我们最近在我们的开发 PC 上安装了 Office 2013。安装 Office 2013 后，我们无法再在 Visual Studio 中加载我们的 VSTO 项目（Word 插件）。任何想法为什么会这样以及我们可以做些什么来加载项目？

在解决方案资源管理器中它说`Load failed`，细节是`a project with this name has already been loaded in the solution`.

**注意**：*另一个使用 Office 2010 的开发人员仍然能够正常加载项目，因此这里的变量肯定是 Office 2013*。

**更新**：我在 MSDN 上发现以下与 2003 年至 2010 年经历的相同错误：

> 要解决此问题，请编辑 .vbproj 或 .csproj 文件。对于 Word 项目，将 HostPackage="{763FDC83-64E5-4651-AC9B-28C4FEB985A1}" 替换为 HostPackage="{6CE98B71-D55A-4305-87A8-0D6E368D9600}"。对于 Excel 项目，将 HostPackage="{B284B16A-C42C-4438-BDCD-B72F4AC43CFB}" 替换为 HostPackage="{825100CF-0BA7-47EA-A084-DCF3308DAF74}"。对于 Outlook 项目，将 HostPackage="{D2B20FF5-A6E5-47E1-90E8-463C6860CB05}" 替换为 HostPackage="{20A848B8-E01F-4801-962E-25DB0FF57389}"。
> 
> 或者，确保仅在已安装 Microsoft Office 2010 的开发计算机上打开迁移的项目。

所以看起来我只需要找到正确的 GUID 来替换 HostPackage ID。知道在哪里可以找到正确的 ID 吗？

# codeigniter - Codeigniter GET 参数未通过 url 传递

> ID：13119161
> 
> 赞同：0
> 
> 时间：2012-10-29T09:48:04.910
> 
> 标签：codeigniter, get

我正在尝试为我的网站实施注销程序。当用户单击退出按钮时，我将他重定向到以下`home`控制器脚本。

```
http : // mydomain/php/ci/index.php/index/?logout=set 
```

在我的家庭控制器`index`功能中，我检查是否 logout=set 然后销毁所有会话。

```
 echo @$_GET['logout'];
    exit();
    if(@$_GET['logout'] == "set")
    {
        unset($_SESSION['userid']);
        @$_SESSION = array();
        @session_unset();
        @session_destroy();
    } 
```

但是当我到达这里时，什么都没有打印出来，因为注销参数没有通过。当我点击退出按钮时，我看到以下网址。

```
http://localhost/php/ci/home/ 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T09:54:57.560

您可以像这样获取所有`get`数据`CodeIgniter`：

```
var_dump($this->input->get()); 
```

但是，不要使用该`index`方法将用户注销，而是为其创建一个方法，例如：

```
class Users extends CI_Controller() {
    public function index() {
        // Index stuff here        
    }

    public function logout() {
        // Your check if a user is logged in, instead of the dirty @
        if(isSet($_SESSION['userid'])) {
            unset($_SESSION['userid']);
        }

        redirect();
    }
} 
```

然后在您的视图中创建这样的链接：

```
site_url("users/logout"); 
```

您将需要为此使用 CodeIgniter 会话处理程序，但这只是解决您的问题的快速解决方案。我可以建议您阅读 CodeIgniter 手册。由于您的注销“解决方案”非常肮脏，不符合 MVC 原则

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T09:51:38.613

Codeigniter 具有已加载的默认 INPUT 类。检查它。

[http://ellislab.com/codeigniter/user_guide/libraries/input.html](http://ellislab.com/codeigniter/user_guide/libraries/input.html)

# saml - 使用 openAM 的跨域 SSO

> ID：13119170
> 
> 赞同：0
> 
> 时间：2012-10-29T09:48:44.710
> 
> 标签：saml, openam

我有一个要求，我需要使用 openAM 进行跨域 SSO。SP 服务器的 cookie 与 IDP 不同。我需要访问 IDP cookie 以检索 IDP 数据存储用户详细信息。SP 使用匿名用户。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T08:07:46.273

IdP 和 SP 是基于标准的 SSO 的术语，使用的联合协议类似于 SAML 标准中定义的那些协议。SAML 不依赖 cookie 作为 SSO 跟踪机制。（IdP 发现除外）。

OpenAM 的专有 SSO 机制依赖于 cookie。

如果您所说的“SP”是受 OpenAM 代理（url 或策略代理）保护的 Web 应用程序，那么您必须将代理配置为在所谓的 CDSSO 模式下运行。

不幸的是，您想要实现的目标并不是很清楚。

您可以先查看 OpenSSO (http://docs.oracle.com/cd/E19681-01/820-3740/index.html) 的技术概述，因为 OpenAM 还没有这样的文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-08T11:07:10.900

我使用本教程中的说明实现了一个跨域解决方案：http: [//fczaja.blogspot.com/2012/06/idp-initiated-sso-and-identity.html](http://fczaja.blogspot.com/2012/06/idp-initiated-sso-and-identity.html)

请仔细阅读它，看看它是否对您也有帮助。谢谢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-11T04:44:51.437

我设法使用 openAM 的其余 API 实现了跨域 SSO。openAM 身份验证调用在成功登录时返回一个 tokenId。这是我在所有域之间存储和共享的，它有效。

# php - 多维 PHP 数组

> ID：13119176
> 
> 赞同：0
> 
> 时间：2012-10-29T09:49:08.307
> 
> 标签：php, arrays, multidimensional-array

我正在尝试使用多维数组，我需要在 foreach 循环中使用每个字段，如下所示。每个 zoneId 可以有多个主机名、redcordId，并且可以有多个 zoneId。我目前能够输出主机名“example.com”，但无法使用 zoneid 和 recordid 的第一个和第二个值...

```
 $zone_record = array( );
    $zone_record["34467"]["442899"] = "example.com";
    $zone_record["34467"]["442875"] = "www.example.com";

    foreach ($zone_record as $zoneId) {
            foreach ($zoneId as $recordId => $hostname) {
                    echo("zoneId: ".$zoneId."\n");
                    echo("recordId: ".recordId."\n");
                    echo("hostname: ".$hostname."\n");
            }
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T09:52:20.967

$zoneId 仍然是一个数组，您在 $recordId 中缺少一个“$”。您需要将其更改为：

```
$zone_record = array( );
$zone_record["34467"]["442899"] = "example.com";
$zone_record["34467"]["442875"] = "www.example.com";

foreach ($zone_record as $zoneId => $zoneArray) {
        foreach ($zoneArray as $recordId => $hostname) {
                echo("zoneId: ".$zoneId."\n");
                echo("recordId: ".$recordId."\n");
                echo("hostname: ".$hostname."\n");
        }
} 
```

# c# - 如何使用 IObservable .订阅（动作 ) 以便每个观察到的值都在新线程上执行？

> ID：13119178
> 
> 赞同：1
> 
> 时间：2012-10-29T09:49:12.753
> 
> 标签：c#, system.reactive

我正在使用来自 NuGet 的最新 Rx2。在下面的示例代码中，订阅是在新线程上处理的，不会阻止新值的生成。这都很好。但是，为什么 observable 生成的值会在新线程上按顺序处理？

```
static void Main(string[] args)
{
  printThreadId("Started");
  var observable = Observable.Generate<int, int>(
      0,
      x => {
        printThreadId("Comparing " + x);
        return x < 5; },
      x => {
        printThreadId("Incrementing " + x);
        return x + 1; },
      x => {
        printThreadId("Selecting " + x);
        return x; },
      NewThreadScheduler.Default
  );

  var disp = observable
    .ObserveOn(NewThreadScheduler.Default)
    .Subscribe(state =>
    {
      printThreadId("Processing " + state);
      Thread.Sleep(1000);
    });

  Console.ReadLine();
  disp.Dispose();
}

static Action<string> printThreadId = (prefix) => Console.WriteLine("{0} on [Worker.{1}]", prefix, Thread.CurrentThread.ManagedThreadId); 
```

上面的代码大约需要 5 秒才能完成。我希望每个动作都在一个新线程上执行，但这并没有发生。

下面的代码安排了一个新任务，整个过程在 1 秒多一点的时间内完成。

```
var disp = observable
 .ObserveOn(NewThreadScheduler.Default)
 .Subscribe(state =>
 {
   printThreadId("Processing " + state);
   NewThreadScheduler.Default.Schedule(() =>
   {
      printThreadId("Long running task " + state);
      Thread.Sleep(1000);
   });
 }); 
```

有没有更好的方法来安排长时间运行的任务同时使用`ObserveOn`and运行`Subscribe`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T04:06:04.647

反应式框架特别确保后续值被序列化而没有重叠。这有助于阻止许多并发问题。此行为是设计使然。

将`NewThreadScheduler`动作排队，因此如果有背靠背调度的动作，调度程序不会打扰创建新线程 - 它只使用当前线程。当存在间隙时（某些东西可能已排队，但它是为将来准备的），则允许当前线程结束，并在操作到期时创建一个新线程。

如果您希望订阅并行运行，您必须不遗余力地实现它。但好消息是它并不太难。

如果你保留现有的`observable`，那么你可以试试这个：

```
Func<int, IObservable<Unit>> process = state =>
    Observable.Start(() =>
    {
        printThreadId("Processing " + state);
        Thread.Sleep(1000);
        return Unit.Default;
    });

var query =
    from x in observable
    select process(x);

var disp =
    query
        .Merge()
        .ObserveOn(NewThreadScheduler.Default)
        .Subscribe(); 
```

当我运行它时，我得到了这个结果：

```
Started on [Worker.23]
Comparing 0 on [Worker.26]
Selecting 0 on [Worker.26]
Processing 0 on [Worker.20]
Incrementing 0 on [Worker.26]
Comparing 1 on [Worker.26]
Selecting 1 on [Worker.26]
Incrementing 1 on [Worker.26]
Comparing 2 on [Worker.26]
Selecting 2 on [Worker.26]
Processing 1 on [Worker.18]
Incrementing 2 on [Worker.26]
Comparing 3 on [Worker.26]
Selecting 3 on [Worker.26]
Processing 3 on [Worker.13]
Incrementing 3 on [Worker.26]
Comparing 4 on [Worker.26]
Selecting 4 on [Worker.26]
Processing 4 on [Worker.12]
Incrementing 4 on [Worker.26]
Comparing 5 on [Worker.26]
Processing 2 on [Worker.8] 
```

# python - 如何使用 LZF 或 LZO 过滤器在 Python 中压缩 HDF5 文件？

> ID：13119181
> 
> 赞同：0
> 
> 时间：2012-10-29T09:49:16.377
> 
> 标签：python, compression, hdf5, lzo, lzf

我的 hdf5 文件包含三个数组：ArrayA(30,100,100),ArrayB(100,100),ArrayC(100,100)，如何使用 LZF 或 LZO 过滤器来压缩它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T07:47:40.190

我建议使用[blosc](http://blosc.pytables.org/trac)过滤器。它的性能通常优于 LZF 或 LZO。
这应该有效：

```
filters = tables.Filters(complevel=4, complib='blosc')
atom = tables.Float32Atom()
array = h5_f.createCArray(group, 'ArrayA', atom, shape, filters=filters)
array[:] = data 
```

# android - 如何不在微调器中显示所选项目...？

> ID：13119182
> 
> 赞同：0
> 
> 时间：2012-10-29T09:49:16.747
> 
> 标签：android, spinner

我不想在微调器中显示选定的项目，我的微调器看起来像这样......！![我的微调器背景只是箭头，您可以在此处的文本图像描述后面看到它](../Images/b5e9e27dc139709b7347f97a1e424031.png)

我的微调器背景只是您可以在文本后面看到的箭头...请帮助我...提前谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:00:03.197

我建议您可以使用`ImageView`&`AlertDialog`代替`Spinner`.

只需在 ImageView 上打开 AlertDialog 并在 AlertDialog (SingleChoice) 和 setText 中显示您的数据，您的项目在 AlertDialog 中选择。

这是 AlertDialog 的示例代码。

```
new AlertDialog.Builder(this)

.setSingleChoiceItems(items,0, new DialogInterface.OnClickListener()
{
    @Override
    public void onClick(DialogInterface dialog, int which) 
    {
        textview.setText(items[which])
    }
})
.setPositiveButton("Ok", new DialogInterface.OnClickListener() {
           @Override
           public void onClick(DialogInterface dialog, int id) {

           }
})
.show(); 
```

其中 items 是您的数据的 String[]。`OnClick`在中调用此代码`ImageView`。

您还可以检查[如何在对话框中添加列表](http://developer.android.com/guide/topics/ui/dialogs.html#AddingAList)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-19T09:54:32.177

```
spinnerSildeMenu
        .setOnItemSelectedListener(new OnItemSelectedListener() {

        @Override
        public void onItemSelected(AdapterView<?> arg0, View arg1,
                int arg2, long arg3) {
                arg0.getChildAt(0).setVisibility(View.GONE);
        }

        @Override
        public void onNothingSelected(AdapterView<?> arg0) {
        }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-27T10:01:07.663

要隐藏微调器下拉列表中的任何项目，您需要根据所需的标准传递需要隐藏的项目的位置。

```
public class CustomAdapter extends ArrayAdapter<String> {
private List<String> dates;
private int hideItemPostion;

public CustomAdapter (Context context, int resource, List<String> dates) {
    super(context, resource,dates);
    this.dates=dates;
}
public void setItemToHide(int itemToHide)
{
    this.hideItemPostion =itemToHide;
}
@Override
public View getDropDownView(int position, View convertView, ViewGroup parent) {
    View v = null;
    if (position == hideItemPostion) {
        TextView tv = new TextView(getContext());
        tv.setVisibility(View.GONE);
        tv.setHeight(0);
        v = tv;
        v.setVisibility(View.GONE);
    }
    else
        v = super.getDropDownView(position, null, parent);
    return v;
}} 
```

设置适配器如下

```
final CustomAdapter dataAdapter = new CustomAdapter(this,R.layout.spinner_item,dates);
dataAdapter.setDropDownViewResource(R.layout.spinner_dropdown_item);
spinner.setAdapter(dataAdapter);
dataAdapter.setItemToHide(0); 
```

从下拉列表中选择一些项目时，位置也需要更改。在您的情况下，所需的项目是选定的项目，因此需要将选定的位置传递给适配器。

```
spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
    @Override
    public void onItemSelected(AdapterView<?> adapterView, View view, final int i, long l) {
    dataAdapter.notifyDataSetChanged();
        mEPGDateSelector.setSelection(i);
        dataAdapter.setItemToHide(i);}

         @Override
    public void onNothingSelected(AdapterView<?> adapterView) {

    }
}); 
```

# asp.net - MVC3 musicstore 教程：无法使用管理员帐户登录

> ID：13119184
> 
> 赞同：0
> 
> 时间：2012-10-29T09:49:19.053
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, authentication, authorization

我目前正在关注来自[http://www.asp.net/mvc/tutorials/mvc-music-store/mvc-music-store-part-7](http://www.asp.net/mvc/tutorials/mvc-music-store/mvc-music-store-part-7)的 MVC Musicstore 教程，并被授权卡住了。

要了解基础知识：我正在使用 VS Web Developer 2012 并创建了一个 mvc4 应用程序。“DefaultConnection”被“MusicStoreConnection”取代。为了在 InitializeSimpleMembershipAttribute.cs 的代码中反映这一点，我将 lin 更改为：

```
WebSecurity.InitializeDatabaseConnection("MusicStoreConnection", "UserProfile", "UserId", "UserName", autoCreateTables: true); 
```

现在，如果运行应用程序，我可以创建一个用户并使用凭据登录。但是：如果运行 asp.net 配置并在那里创建用户，请将他分配给管理员角色并尝试登录失败。

为了让 asp.net conf 创建的用户在我的应用程序中工作，我需要做什么，这样我才能按照教程进行操作？

亲切的问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-29T12:17:34.060

与使用 MVC3 编写并使用 2005 年引入的原始 ASP.NET Membership 提供程序的 MusicStore 教程不同。MVC4 Internet 模板使用 SimpleMembership，不再与 WSAT（ASP.NET 配置）兼容。

在这里您可以找到有关 MVC4 成员资格的更多信息 -[更多信息](http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-26T09:03:54.743

我遇到了同样的问题，我设法按照以下说明解决了这个问题：来源： http: [//mvcmusicstore.codeplex.com/discussions/219225](http://mvcmusicstore.codeplex.com/discussions/219225)

> **kate0824** 2010 年 7 月 28 日下午 6:18 已编辑 2010 年 7 月 28 日下午 6:20 我今天检查了这个问题，最后发现当您使用 Asp.net 配置工具时，您实际上是在使用 Asp.net Membership功能。
> 
> 1.  确保不要在 MvcMusic 团队提供的源代码中导入名为 ASPNETDB.MEF 的文件（它包含他们的用户信息）。
>     
>     
> 2.  点击工具（另一种方式：Project->Asp.net Configuration），在站点上创建一个用户。
>     
>     
> 
> 3.将一个名为 ASPNETDB.MEF 的现有项目从您的项目位置添加到 App_Data 文件夹中。
> 
> 1.  单击 SolutionExplorer 上的“刷新”按钮。之后，您的授权配置将起作用。检查 web.config 文件，您可以找到会员标签，检查它

# video - 使用 ffmpeg 从具有重复帧和自定义顺序的位图创建视频

> ID：13119185
> 
> 赞同：1
> 
> 时间：2012-10-29T09:49:19.420
> 
> 标签：video, ffmpeg, jpeg

我可以使用这种东西从一系列按顺序命名的 jpeg（pic01.jpg、pic02.jpg、pic03.jpg 等）创建一个视频：ffmpeg -f image2 -i pic%d.jpg /tmp/a.mpg

这很好，但我想创建视频，例如播放所有位图，然后反向播放。或者可能重复多次相同的帧。

我可以用新名称复制每个位图，然后运行上面的代码，但理想情况下，我只想传入一个数组，如 (pic1.jpg, pic2.jpg, pic2.jpg, pic3.jpg, pic2.jpg , pic1.jpg, pic1.jpg)

有没有人做过这种事情，知道是否有可能，或者有任何线索给我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T12:07:29.710

您要求的内容相当具体，因此标准 ffmpeg 可执行文件可能不支持该功能。如果你用完了选项，那么修补 ffmpeg.c 来做你想做的事情并不难。

# magento - Magento 将付款和运费添加到购物车总数中

> ID：13119187
> 
> 赞同：0
> 
> 时间：2012-10-29T09:49:23.997
> 
> 标签：magento, magento-1.6

我有一个 Magento 商店的问题。

默认付款选项的费用为 49 瑞典克朗。但是还有其他几种免费的付款方式，这个只需要放在首位。

问题是，当我来到商店并在购物车中添加一些东西时，它会自动将这 49 瑞典克朗添加到总计摘要中，所以如果我添加 200 瑞典克朗的产品，它会在标题中的购物车中显示 249 瑞典克朗，总计在 /结帐/购物车/。

首先，我认为这是此支付模块的特定内容，但我注意到您是否在购物车中选择了一种运输方式并返回商店。它也增加了这笔费用。

有没有办法在结帐前只显示产品总数？

我们正在使用单页结帐和股票主题，但我尝试停用主题和 OPC，但没有成功。

我想如果有办法不设置默认付款方式，它会这样做，但与运输方式相反，没有办法在设置中为默认付款方式选择空白。

如果我免费更改为付款方式，它会根据需要工作，但由于商店与这家付款公司有特殊交易，他们需要在结账时受到青睐：/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:29:45.943

Mage::getSingleton('checkout/session')->getQuote() 在会话中获取购物车。并 getAllItems() 从购物车中获取物品。collectRates() 获取购物车的费率。

Gl 关于那个

# ruby-on-rails - 需要“调试器”=> LoadError。为什么？

> ID：13119188
> 
> 赞同：1
> 
> 时间：2012-10-29T09:49:25.700
> 
> 标签：ruby-on-rails, ruby

**语境**

```
ruby 1.9.2p323 (2012-05-22 revision 35755) [x86_64-darwin11.4.0]

rvm 1.16.6

gemsets for ruby-1.9.2-head 
   (default)
   global
=> rails321 
```

* * *

**痕迹**

```
$ gem install 'debugger'
Building native extensions.  This could take a while...
Successfully installed debugger-1.2.1

$ bundle show debugger
/Users/PH/.rvm/gems/ruby-1.9.2-head@rails321/gems/debugger-1.2.1

$ irb
> require 'debugger'
LoadError: no such file to load -- trace_nums
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/gems/ruby-1.9.2-head@rails321/gems/debugger-linecache-1.1.2/lib/tracelines19.rb:3:in `<top (required)>'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/gems/ruby-1.9.2-head@rails321/gems/debugger-linecache-1.1.2/lib/linecache19.rb:65:in `<top (required)>'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/gems/ruby-1.9.2-head@rails321/gems/debugger-1.2.1/lib/ruby-debug-base.rb:2:in `<top (required)>'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/gems/ruby-1.9.2-head@rails321/gems/debugger-1.2.1/lib/ruby-debug.rb:5:in `<top (required)>'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/PH/.rvm/gems/ruby-1.9.2-head@rails321/gems/debugger-1.2.1/lib/debugger.rb:4:in `<top (required)>'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
    from (irb):1
    from /Users/PH/.rvm/rubies/ruby-1.9.2-head/bin/irb:16:in `<main>' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T18:10:10.737

建议：

尝试只使用“gem install debugger”而不是“sudo gem install debugger”，因为你使用的是 rvm

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-17T20:40:05.370

您没有使用捆绑程序。

创建一个 Gemfile 并放置

```
 gem 'debugger' 
```

在里面。

创建宝石集

```
 rvm use 1.9.2
 rvm gemset create [my-app-name]
 rvm use [my-app-name] # 
 bundle 
```

并重新测试

# c++ - 使用 ifstream 读取动态数据

> ID：13119190
> 
> 赞同：1
> 
> 时间：2012-10-29T09:49:31.203
> 
> 标签：c++, file, dynamic, sdl

**--**

**编辑：**我刚刚意识到，这个问题的“正确”答案目前对我来说可能有点进步。我现在想专注于向游戏添加东西，而不是制作最好的保存/加载系统。我接受了你的建议，你让我敞开心扉，让我在未来做很多很棒的事情。主要是对保存的数据进行标注（可能使用XML）。目前，我将添加一些原始函数以使其在这个开发阶段工作。

**--**

我需要一些帮助来找出一种合乎逻辑的好方法。它适用于我正在使用 c++ 和 SDL 制作的游戏。我需要一些有关保存/加载内容的帮助。基本上，当我保存游戏时，有些东西会一直存在（玩家姓名、位置、金币等）。但也有一些动态保存的内容，比如统计数据、装备物品和库存物品（以后完成的任务也会保存在这里）。

我保存这些数据没有问题，这很容易。我遇到的问题是如何在读取数据时构造它的断点。这是保存文件的外观示例：

> CharName（一些变量，比如位置，会一直保存）（第一个statMap看起来像这个从map中获取的“string int”）（第二个statMap，也是一样的）（装备物品，一个item分成三部分“string name int ID 字符串描述”）（库存中的物品，与上一个相同）

我希望你能理解我的例子。我需要一些帮助来理解一种合理的方式来构建它。我正在考虑也许用一个字符结束每个动态序列，然后将行加载到字符串中的那个字符。然后我将该字符串分成几个部分。但这听起来像是一个可怕的步骤。你能帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:00:44.437

在游戏中构建数据文件的一种非常常见的方法是使用标题和正文：在标题中，您可以根据偏移量定义正文中内容的结构：

例如，字符统计数据从偏移量 10054 开始，一直持续到 2120 个字符（您必须定义并使用标准字符大小才能进行此操作）。

然后，当您阅读它时，您会阅读标题以获取结构，然后从它指定的区域加载数据。

# c# - 无法动态生成具有不同“内容”的单选按钮集

> ID：13119192
> 
> 赞同：0
> 
> 时间：2012-10-29T09:49:39.070
> 
> 标签：c#, .net, wpf, mvvm, radio-button

我是一名 C++ 开发人员，最近转向 C#。我在我的 wpf 应用程序中使用 MVVM 模式。我正在研究单选按钮的动态生成。好吧，这个要求很简单，我需要生成 24 个单选按钮，这样一次只检查一个单选按钮。这是代码：

**XAML：**

```
<Grid Grid.Row="1">
        <GroupBox Header="Daughter Cards" >
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />                        
                    <ColumnDefinition Width="220" />
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">
                    <RadioButton Content="{Binding SlotButtons}" Name="SLotButtons" />
                </Grid> 
            </Grid>
         </GroupBox>
</Grid> 
```

`Grid.Column="0"`如上所述，我想生成 24 个单选按钮。

**视图模型：**

```
// Description of SlotButtons
    private string _SlotButtons;
    public string SlotButtons
    {
        get
        {
            return _SlotButtons;
        }

        set
        {
            _SlotButtons = value;
            OnPropertyChanged("SlotButtons");
        }
    }

//For RadioButton Click
private ICommand mSlotCommand;
    public ICommand SlotCommand
    {
        get
        {
            if (mSlotCommand == null)
                mSlotCommand = new DelegateCommand(new Action(mSlotCommandExecuted), new Func<bool>(mSlotCommandCanExecute));

            return mSlotCommand;
        }
        set
        {
            mSlotCommand = value;
        }
    }

    public bool mSlotCommandCanExecute()
    {
        return true;
    }

    public void mSlotCommandExecuted()
    {
       // Logic to implement on a specific radiobutton click using Index
    } 
```

我在我的 C++ 应用程序中这样做了，如下所示：

```
for(slot = 0; slot < 24; slot++)
{
    m_slotButton[slot] = new ToggleButton(String(int(slot)) + String(": None"));
    m_slotButton[slot]->addButtonListener(this);  // make this panel grab the button press      
    addAndMakeVisible(m_slotButton[slot]);
} 
```

现在这就是我想要实现的目标：

1.  生成 24 个 RadioButtons，内容来自`Content = 0: None`till `23: None`。
2.  单选按钮的生成方式应该是，我们将行分成 3 列，并在每列垂直添加 8 个单选按钮。
3.  在任何时候，必须只选中一个单选按钮，不得选中其他单选按钮。必须只有一个单击命令可以在相应索引的帮助下处理所有按钮。

请帮忙 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T12:09:47.797

你不需要你的`SlotCommand`. 相反，只需将`IsChecked`每个单选按钮的属性绑定到视图模型上的布尔属性。

例如：XAML：

```
<RadioButton Content="{Binding SlotButtons}" Margin="0,10,0,0" IsChecked="{Binding IsChecked}" GroupName="SlotGroup" Height="15" Width="80" HorizontalAlignment="Center" VerticalAlignment="Center"/> 
```

视图模型：

```
public class SlotViewModel : ViewModelBase
{
    private _isChecked;

    public bool IsChecked
    {
        get { return _isChecked; }
        set { _isChecked = value; NotifyPropertyChanged("IsChecked"); }
    }
} 
```

如果您想在检查时以某种方式做出反应，只需在`IsChecked`setter 中执行即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:52:10.630

这是我如何实现的：

**XAML：**

```
<Grid Grid.Column="0">
                    <ItemsControl ItemsSource="{Binding SlotChildren}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <UniformGrid Columns="3" Rows="8" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <RadioButton Content="{Binding SlotButtons}" Margin="0,10,0,0" Command="{Binding SlotCommand}" Height="15" Width="80" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Grid> 
```

**视图模型类：**

```
public ObservableCollection<EEPROMSlotViewModel> SlotChildren { get; set; }

SlotChildren = new ObservableCollection<EEPROMSlotViewModel>();
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "0 : None", ID = 0 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "1 : None", ID = 1 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "2 : None", ID = 2 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "3 : None", ID = 3 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "4 : None", ID = 4 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "5 : None", ID = 5 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "6 : None", ID = 6 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "7 : None", ID = 7 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "8 : None", ID = 8 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "9 : None", ID = 9 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "10 : None", ID = 10 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "11 : None", ID = 11 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "12 : None", ID = 12 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "13 : None", ID = 13 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "14 : None", ID = 14 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "15: None", ID = 15 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "16 : None", ID = 16 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "17 : None", ID = 17 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "18 : None", ID = 18 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "19 : None", ID = 19 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "20 : None", ID = 20 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "21 : None", ID = 21 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "22 : None", ID = 22 });
        SlotChildren.Add(new EEPROMSlotViewModel() { SlotButtons = "23 : None", ID = 23 }); 
```

**另一个 ViewModel 类：** XAML 的 DataContext 设置为此 ViewModel 类

```
 /// <summary>
    /// Event for Slot Command Button
    /// </summary>
    private ICommand mSlotCommand;
    public ICommand SlotCommand
    {
        get
        {
            if (mSlotCommand == null)
                mSlotCommand = new DelegateCommand(new Action(mSlotCommandExecuted), new Func<bool>(mSlotCommandCanExecute));

            return mSlotCommand;
        }
        set
        {
            mSlotCommand = value;
        }
    }

    public bool mSlotCommandCanExecute()
    {
        return true;
    }

    public void mSlotCommandExecuted()
    {

    } 
```

但仍然检查所有单选按钮。如何清除它？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T10:30:00.180

将“组名”明确添加到您的单选按钮。

```
<RadioButton GroupName="myGroup" Content="{Binding SlotButtons}" Margin="0,10,0,0" Command="{Binding SlotCommand}" Height="15" Width="80" HorizontalAlignment="Center" VerticalAlignment="Center" /> 
```

这将只允许检查一个单选按钮。

# javascript - 切换 CSS 类 KnockoutJS

> ID：13119193
> 
> 赞同：1
> 
> 时间：2012-10-29T09:49:41.557
> 
> 标签：javascript, binding, knockout.js

我有月份链接

```
<ul data-bind="foreach: factMonthes">
    <li data-bind="click: $root.changeFactMonth, css:{'selected-month': num == $root.activeFactMonth()}">
</ul> 
```

我想禁用所有链接的“选定月份”类，除了活动并在点击后启用活动。当然，我可以在我的方法 changeFactMonth() 中禁用类，但我可以用淘汰赛绑定来做到这一点吗？

```
function FactMonth(num){
    this.num = num;
    this.name = MonthesNames[num - 1];
    this.active = false;
}

function ViewModel() {

    self.factMonthes = ko.observableArray();       
    self.activeFactMonth = ko.observable(new Date().getMonth() + 1);

    for(var i = 1; i <= 12; i++)
    {
        var month = new FactMonth(i);
        month.active = self.activeFactMonth() == i;
        self.factMonthes.push(month);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:02:09.623

如果`month_num`是一个可观察的，那么你需要解开它：

```
<li data-bind="
  click: $root.changeFactMonth, 
  css:{'selected-month': month_num() == $root.activeFactMonth()}
"> 
```

只有当您不将 observables 用作表达式的一部分时，您才能直接使用它们。由于比较 ( `==`) 是一个表达式，因此您必须使用基础值，即您必须调用 observable。

# c# - C#暂停/终止/停止/中止线程

> ID：13119202
> 
> 赞同：0
> 
> 时间：2012-10-29T09:50:14.227
> 
> 标签：c#, multithreading

我知道有很多关于这方面的问题，但他们都没有和我一起工作。所以问题是我有一个线程正在读取一些 MODBUS 设备，我希望能够开始/停止读取。选择连接时，我启动线程，选择断开连接时，我中止了线程。当我启动中止的线程时，我收到以下异常：

> System.Threading.ThreadStateException：线程已经启动。在 System.Threading.Thread.Start () [0x00000] 在 Vyshka.MainClass.Main ( System.String[] args) [0x00096] 在 /home/Vyshka/Main.cs:53

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T09:54:18.967

创建一个新线程。您无法重新启动线程。

顺便说一句，您应该（几乎）永远不要中止线程。在 Stack Overflow 上有很多关于这个的讨论，这将解释为什么这会让你的程序天生就坏掉。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T09:54:29.873

中止线程通常不是一个好主意，更不用说尝试重新启动已中止的线程 - 一旦线程中止，就无法从中恢复，因此您尝试做的事情将不起作用。而是每次都生成一个新线程，并让旧线程单独中止。

或者，将 login 放入控制读取设备/从`MODBUS`设备读取的线程中，这样您根本不需要中止线程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:14:37.307

该问题的最佳解决方案是将变量 N​​ULL 化，然后为其分配一个新指针。

# php - 使用memcached存储会话数据，安全吗？

> ID：13119203
> 
> 赞同：4
> 
> 时间：2012-10-29T09:50:21.833
> 
> 标签：php, node.js, session, yii, memcached

我应该开发一个网站来完成一些关于书籍的数据，并具有很好的自动完成功能。每个页面有大约 1500 个 ajax 请求到服务器！

所以我决定用 Yii 框架来完成它的主要部分，而不是使用 ajax，我们使用 NodeJS 的 Socket.IO 来获得更快的响应。

现在的问题是在两种编程语言之间同步会话数据。使用 memcached 存储是否安全？

我的意思是将 SESSIONID 保存为 memcached 中的键名并使用 JSON 作为值。所以我可以通过 PHP 和 NodeJS 访问它。安全吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T09:52:31.980

我不建议使用 Memcached。缓存随时可能失效，您最终会丢失数据。我建议您使用[Redis](http://redis.io/)之类的解决方案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T09:54:29.813

我不建议为此使用 Memcached - 一旦您的缓存已满，它将开始删除数据和/或如果您的 Memcached 服务器崩溃，那么您也将丢失数据。

我建议使用[Redis](http://redis.io)或 Membase 之类的东西。

# iphone - 字符串 2012-11-09T00:00:00 到 iPhone 中的短日期形式

> ID：13119208
> 
> 赞同：3
> 
> 时间：2012-10-29T09:50:56.057
> 
> 标签：iphone, cocoa-touch, nsdateformatter

我有一个字符串格式的日期

> **2012-11-09T00:00:00**

我需要将它作为`day=Fri Date-09`.

我尝试了很多方法但是日期打印为空。有人可以帮我吗？我想在我创建的自定义日历中显示它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:29:58.327

使用以下代码获取所需的值

```
NSString *dateStr = @"2012-11-09T00:00:00";
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setLocale:[[NSLocale alloc] initWithLocaleIdentifier:@"GMT"]];
[dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss"];
NSDate *date = [dateFormatter dateFromString: dateStr];

NSLog(@"Date : %@", date);

NSCalendar *calendar = [NSCalendar currentCalendar];

NSDateComponents *dateComponents =
[calendar components:(NSDayCalendarUnit | NSWeekdayCalendarUnit) fromDate:date];

NSInteger weekday = [dateComponents weekday];
NSInteger monthdate = [dateComponents day];

NSLog(@"Weekday : %d Month date %d  ", weekday, monthdate); 
```

我们将工作日获取为从 1 到 7 的整数。您必须相应地转换工作日。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:33:06.610

试试这个代码：

```
NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];  
        [dateFormatter setDateFormat:@"dd"];
        NSCalendar *gregorian = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
        NSDateComponents *comps = [gregorian components:NSWeekdayCalendarUnit fromDate:[NSDate date]];
        int weekday = [comps weekday];
        NSArray *arr=[NSArray arrayWithObjects:@"sun",@"mon",@"tue",@"wed",@"thu",@"fri",@"sat", nil];
        NSLog(@"day=%@ Date-%@",[arr objectAtIndex:weekday-1],[dateFormatter stringFromDate:[NSDate date]]); 
```

当前日期的结果

```
day=mon Date-29 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:01:00.917

试试这个方法...

```
-(NSString *)convertStringToDate:(NSString *) strdate {

    NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
    [dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss"];

    NSDate *date = [dateFormatter dateFromString: strdate];

    dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
    [dateFormatter setDateFormat:@"EEE, dd MM yyyy HH:mm:ss"];

    NSString *convertedString = [dateFormatter stringFromDate:date];
    NSLog(@"Converted String : %@",convertedString);
    return convertedString;
} 
```

# ftp - 带有非 ASCII 文件名的 Zope ftp-upload 错误

> ID：13119210
> 
> 赞同：2
> 
> 时间：2012-10-29T09:50:58.097
> 
> 标签：ftp, zope, non-ascii-characters

当我尝试通过 FTP 将具有非 ascii 字符（如德语变音符号）的文件上传到 Zope（进入 ZODB）时，我收到以下错误消息：

```
ERROR Zope.SiteErrorLog 1351502922.570.290289062967 http://0.0.0.0:8021/Zope2/websites/O%CC%88su%CC%88ra%CC%88ich.png/PUT
Traceback (innermost last):
  Module ZPublisher.Publish, line 126, in publish
  Module ZPublisher.mapply, line 77, in mapply
  Module ZPublisher.Publish, line 46, in call_object
  Module webdav.NullResource, line 173, in PUT
  Module OFS.ObjectManager, line 325, in _setObject
  Module OFS.ObjectManager, line 97, in checkValidId
BadRequest: The id "Ösüräich.png" contains characters illegal in URLs. 
```

这是有道理的。但是，我正在使用 PUT_factory，以便将上传的文件作为我的自定义对象类型之一添加到 ZODB。在`__init__`此类中，我将文件名更改为 Zope 中有效 id 的字符串。我已将`self.__name__`和 self.id 设置为该字符串，但错误仍然存​​在。

为了调试，我在我的最后一行提出了一个异常`__init__`

```
raise Exception, self.id 
```

这给了我正确的有效身份证件。但是当我删除最后一行时，我再次收到上面的错误。显然，没有创建新对象（没有调用 manage_afterAdd 方法）。

有没有办法解决这个问题，还是我必须忍受 Zope 的限制？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T14:19:21.440

不幸的是，你被困住了，我害怕。正在上传的`__name__`对象的 被完全忽略。

会发生什么：

*   [`webdav.NullResource.NullResource`](http://svn.zope.org/Zope/trunk/src/webdav/NullResource.py?rev=115280&view=markup)对象由发布者实例化
*   调用此对象的 [`.PUT()`方法]。
*   以下代码是该方法的一部分，它创建对象并将其存储在父对象上（简化）：

    ```
    factory = getattr(parent, 'PUT_factory', self._default_PUT_factory )
    ob = factory(name, typ, body)
    if ob is None:
        ob = self._default_PUT_factory(name, typ, body)

    # Verification it can be added here

    self.__parent__._setObject(name, ob) 
    ```

如您所见，`name`变量未更新。

您可以[在跟踪器中提出问题，](https://bugs.launchpad.net/zope/)请求在`__name__`那里咨询。

# mod-rewrite - 带有 Mod_Rewrite 的漂亮网址

> ID：13119216
> 
> 赞同：0
> 
> 时间：2012-10-29T09:51:22.073
> 
> 标签：mod-rewrite, url-rewriting, rewrite, friendly-url, pretty-urls

我想重写以下 URL 字符串：

product.php?category=abstract_and_patterns&page=1

到：

抽象和模式

现在需要注意的是，类别和页面变量总是不同的，具体取决于用户所在的页面或他们选择的类别。

我花了几个小时试图解决这个问题，但没有成功。

**[编辑]**

我尝试了很多东西，但我尝试过的最新重写工作但出现了 404 错误。

```
RewriteCond %{QUERY_STRING} ^category=([^&]+)&page=([^&]+)$
RewriteRule ^product.php$ /%1/%2? [L,R=301] 
```

**[编辑]**

只是让你们知道，实际上只有 1 个页面，即 products.php 页面。该页面上的信息是根据查询字符串中的值从数据库中提取的。现在显然为了用户友好性和 SEO 目的，我需要干净的 URL 而不是 category=abstrsct_and_patterns&page=3 但我还需要记住查询字符串，尤其是对于页面，以便网站仍然可以运行。这甚至可能吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-07T15:53:56.690

事实证明，这无法按照我想要的方式实现。

# linux - 如何使目录下的所有文件在linux上可读？

> ID：13119219
> 
> 赞同：41
> 
> 时间：2012-10-29T09:51:26.083
> 
> 标签：linux, bash, ubuntu, command-line, chmod

我想让某个目录下的所有文件（和目录）都可读，而不必单独对每个文件进行 chmod。如果有一个选项也可以递归地执行此操作，那就太好了（查看文件夹和 chmod 666 下的所有文件）

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-10-29T09:54:23.713

`man 3 chmod`包含您要查找的信息。

```
chmod -R +r directory 
```

该`-R`选项告诉`chmod`递归操作。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-29T12:19:29.657

由于目录可能包含链接和/或绑定挂载，因此使用`find`可以确保在做什么和不做什么方面具有最精细的粒度......

```
find directory \( -type f -o -type d \) -print0 |
    xargs -0 chmod ugo+r 
```

要排除挂载点下的路径：

```
find directory -mount \( -type f -o -type d \) -print0 |
    xargs -0 chmod ugo+r 
```

要排除某些特定文件（示例为 .htaccess）：

```
find directory \( -type f -o -type d \) ! -name '.htaccess' -print0 |
    xargs -0 chmod ugo+r 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T12:25:29.110

```
chmod -R 0444 ./folder_name 
```

[递归地对目录下的所有文件应用权限](http://www.thegeekstuff.com/2010/06/chmod-command-examples/)

# internationalization - 关于多语种wordpress网站

> ID：13119222
> 
> 赞同：0
> 
> 时间：2012-10-29T09:51:47.197
> 
> 标签：internationalization, wordpress

我对 Wordpress 中的国际化过程有一个很大的疑问。我想国际化现有的 WP 网站，内容必须以 2 种语言提供：英语和法语。用户可以通过单击标志来切换站点语言。

我的问题是关于两个核心功能使用的 PO/MO 文件：`__()`当`_e()` 您使用这些功能翻译现有网站（主题、插件）时，只允许更改 wp-config.php 文件中的主要网站语言设置：

```
define ('WPLANG', 'fr_FR'); 
```

通过此过程，您的网站一次只能管理一种语言。

但是，如果你想运行一个有 2 种语言的网站，你必须使用一个国际化插件。我开始使用 polylang 插件，但我希望有人确认这一点，并且我看到我的网站有很多插件，它们有自己的 PO/MO 文件，并且已经使用 `__()`和`_e()`功能进行了国际化。

在我使用 polylang 进行国际化之前，有人可以向我确认吗？

问候，本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T12:33:53.110

我会在 Wordpress Stackexchange 页面上问这个问题：
[https ://wordpress.stackexchange.com/](https://wordpress.stackexchange.com/)

据我所知，Polylang 应该可以胜任。

另一种方法是多站点 WP 安装，这个：
[https ://github.com/lloc/Multisite-Language-Switcher/wiki](https://github.com/lloc/Multisite-Language-Switcher/wiki)

# android - 显示从一项活动到另一项活动的警报

> ID：13119232
> 
> 赞同：0
> 
> 时间：2012-10-29T09:52:50.743
> 
> 标签：android, alert

我正在开发一个Android应用程序，并且我在一个活动上调用一个网络服务，在后台每5秒一次，现在假设他们是2个活动活动A活动B

在 Activity AI 上，每 5 秒获得一次 Web 服务响应，目前我控制在 Activity B 上，现在我想通过控制 B 上的活动来显示来自活动 A 的警报。

简而言之，我想在我现在所在的页面的一页上显示一些背景消息。

我是android新手，请建议我解决这个问题？？？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:03:51.787

基本上你需要发布者 - 订阅者模式。

[http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html](http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html)

检查链接它是我使用的最简单的发布订阅类，概念是，Activity B 订阅 Activity A，所以当 Activity A 有一些属性更改时，它会触发 Activity B 接收到的 propertyChange，并且未来的过程完成通过活动 B。

对于订阅Activity A，Activity B实现PropertyChangeListener，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:40:48.043

一旦我提出的解决方案就是这个

像这样创建一个名为 callAlertBox.java 的类

```
public  class callAlertBox {

private static Activity activity ;

public static Activity getActivity() {
    return activity;
}

public static void setActivity(Activity mactivity) {
    activity = mactivity;
}

public static void showMyAlertBox(){
      AlertDialog ad = new AlertDialog.Builder(activity).create(); 
        ad.setCancelable(true); // This blocks the 'BACK' button if false
        ad.setMessage("Hello World"); 
        ad.show();
}
} 
```

现在，在每个可能调用此警报框的活动中，将此代码放在其 onResume() 方法中

```
@Override
protected void onResume() {
    super.onResume();
    callAlertBox.setActivity(Act1.this);
}

@Override
protected void onResume() {
    super.onResume();
    callAlertBox.setActivity(Act2.this);
} 
```

现在你可以打电话

```
callAlertBox.showMyAlertBox(); 
```

从任何活动中，您都会收到警报框

***编辑***

MainActivity.java 文件

```
public class MainActivity extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Button btn1 = (Button) findViewById(R.id.button1);
    btn1.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            startActivity(new Intent( MainActivity.this,Act1.class));
        }
    });

    Button btn2 = (Button) findViewById(R.id.button2);
    btn2.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            startActivity(new Intent( MainActivity.this,Act2.class));
        }
    });

    Button btn3 = (Button) findViewById(R.id.button3);
    btn3.setOnClickListener(new OnClickListener() {
        @Override
        public void onClick(View v) {
            startActivity(new Intent( MainActivity.this,Act3.class));
        }
    });

    new CountDownTimer(365 * 24 * 60 * 60, 5000) {

     public void onTick(long millisUntilFinished) {
         callAlertBox.showMyAlertBox();
     }

     public void onFinish() {
        //Done 
     }
    }.start();

}

@Override
protected void onResume() {
    super.onResume();
     callAlertBox.setActivity(MainActivity.this);
}
} 
```

现在您可以从这里看到我的倒计时计时器将在后台调用该方法，从而使对话框出现独立于您所在的任何活动，在我的情况下它是主要活动，在您的情况下可能有一些更新方法是经常叫对吗？？只需使用该类来调用方法

# postgresql - Postgresql 分区表删除触发器失败

> ID：13119238
> 
> 赞同：2
> 
> 时间：2012-10-29T09:53:23.867
> 
> 标签：postgresql, triggers, partitioning

我有以下基于另一个 SE 问题（PostgreSql 上的哈希环）

```
CREATE TABLE sms.tablename
(
  id uuid,
  mdate date
) 
```

和分区。

```
CREATE TABLE sms.tablename_partition_1 ( CHECK ( sms.hash(id) = '1' ) ) INHERITS (sms.tablename);
...
CREATE TABLE sms.tablename_partition_f ( CHECK ( sms.hash(id) = 'f' ) ) INHERITS (sms.tablename); 
```

现在问题来了。

当我添加此触发器时。

```
CREATE TRIGGER "delete_me"
  BEFORE DELETE
  ON sms.tablename
  FOR EACH ROW
  EXECUTE PROCEDURE sms.delete_me(E'\\x');

CREATE OR REPLACE FUNCTION sms.delete_me()
  RETURNS trigger AS
$BODY$

begin

    RAISE NOTICE 'HERE !!!';
    return OLD;

end;
$BODY$
  LANGUAGE plpgsql VOLATILE SECURITY DEFINER
  COST 100; 
```

这个触发器永远不会运行......我看不到 NOTICE 消息。现在，如果我将相同的触发器应用于另一个表（非分区），它工作正常，它完成了它的工作，该行被删除并弹出通知消息。

> 更多信息：“i686-pc-linux-gnu 上的 PostgreSQL 9.1.6，由 gcc-4.4.real (Ubuntu 4.4.3-4ubuntu5.1) 4.4.3 编译，32 位”

我只是想避免在表上使用存储过程并保持 ORM 清洁。

**编辑：**

1) 表或任何继承的表上不存在任何规则，同样适用于索引或 PK。

2）运行以下命令。

```
DELETE FROM sms.tablename WHERE id = 'a5e52a04-282f-4cf4-8347-a43d68725e6b'; 
```

3) 显示此问题的完整 SQL。

```
http://pastebin.com/mZBFEtaY 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T04:43:19.343

删除触发器在包含该行的子表上触发，而不是在父表上。您必须将触发器添加到每个子表。

```
DO                                                                
$$
DECLARE
  h text;
BEGIN
  FOR h IN SELECT to_hex(x) FROM generate_series(0,15) x LOOP
    EXECUTE format('CREATE TRIGGER "DeleteRedirector" BEFORE DELETE ON pproblem.%I FOR EACH ROW EXECUTE PROCEDURE pproblem.delete_me('''');',
                   'tablename_partition_'||h);
  END LOOP;
END;
$$; 
```

演示：

```
regress=# begin;
BEGIN
regress=# DELETE FROM pproblem.tablename;
NOTICE:  HERE !!!
NOTICE:  HERE !!!
NOTICE:  HERE !!!
DELETE 3
regress=# rollback;
ROLLBACK 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:14:21.570

这里发生的情况可能是您的触发器以意想不到的方式与另一个触发器或规则交互。

`DELETE`如果来自分区的较早触发器s 然后执行 a`RETURN NULL`以防止将操作应用于其自身的基表，则稍后的触发器不会触发，因为该操作已被取消（并被重定向，但后来的触发器不知道） .

视图出现了类似但更令人困惑的情况，其中`DO INSTEAD`平均查询被重写，因此它们从一开始就不会引用基表。

如果您在分区表上使用触发器，则需要在每个分区以及主表上创建它们，或者注意触发器的顺序。触发器作为 `BEFORE`触发器运行，然后`AFTER`按触发器名称的字母顺序触发。

给定 DDL：

```
create table demo (id integer);

CREATE OR REPLACE FUNCTION cancel_tg() RETURNS trigger AS $$
BEGIN
  RETURN NULL;
END;
$$ LANGUAGE plpgsql VOLATILE;

CREATE OR REPLACE FUNCTION notice_tg() RETURNS trigger AS $$
BEGIN
  RAISE NOTICE 'Trigger fired';
  -- This just makes it a no-op:
  IF tg_op = 'INSERT' OR tg_op = 'DELETE' THEN
    RETURN NEW;
  ELSE
    RETURN OLD;
  END IF;
END;
$$ LANGUAGE plpgsql VOLATILE; 
```

通知触发器之前的取消触发器不产生任何消息：

```
regress=> CREATE TRIGGER aa_cancel 
          BEFORE INSERT OR UPDATE OR DELETE ON demo
          FOR EACH ROW EXECUTE PROCEDURE cancel_tg();
CREATE TRIGGER
regress=> CREATE TRIGGER bb_notice
          BEFORE INSERT OR UPDATE OR DELETE ON demo 
          FOR EACH ROW EXECUTE PROCEDURE notice_tg();
CREATE TRIGGER
regress=> insert into demo values (1);
INSERT 0 0 
```

反过来会触发通知，因为`aa_notice`在之前触发`bb_cancel`：

```
regress=> drop trigger bb_notice on demo;
DROP TRIGGER
regress=> drop trigger aa_cancel on demo;
DROP TRIGGER
regress=> CREATE TRIGGER aa_notice
          BEFORE INSERT OR UPDATE OR DELETE ON demo
          FOR EACH ROW EXECUTE PROCEDURE notice_tg();
CREATE TRIGGER
regress=> CREATE TRIGGER bb_cancel
          BEFORE INSERT OR UPDATE OR DELETE ON demo 
          FOR EACH ROW EXECUTE PROCEDURE cancel_tg();
CREATE TRIGGER
regress=> insert into demo values (1);
NOTICE:  Trigger fired
INSERT 0 0 
```

这意味着`AFTER`触发器永远不会在使用触发器分区的表上触发，并且`BEFORE`触发器必须按字母顺序排列在分区触发器之前。在 PostgreSQL 中进行分区的另一种方式有点丑陋......

# perl - 用空字符串替换：意外结果

> ID：13119241
> 
> 赞同：14
> 
> 时间：2012-10-29T09:53:29.640
> 
> 标签：perl, substitution, string

为什么两个打印的数字不同？

```
#!/usr/bin/env perl
use warnings;
use 5.10.1;

my $sep = '';
my $number = 110110110110111;

$number =~ s/(\d)(?=(?:\d{3})+\b)/$1$sep/g;
say "A: <$number>";

$number =~ s/\Q$sep\E//g;
say "B: <$number>"; 
```

输出：

```
A: <110110110110111>
B: <11111111111> 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-29T10:11:17.110

引用[man perlop](http://perldoc.perl.org/perlop.html)的话：

> 如果模式计算结​​果为空字符串，则使用上次成功执行的正则表达式。

尝试在第二次替换之前插入一个成功的正则表达式匹配以查看发生了什么：

```
(my $foo = '1') =~ s/1/x/; # successfully match “1”
$number =~ s///g;          # now you’re deleting all 1s
say "B: <$number>";        # <0000> 
```

我会说这应该被弃用并被警告`use warnings`。很难看到好处。

# iphone - iphone中的滚动图像

> ID：13119242
> 
> 赞同：1
> 
> 时间：2012-10-29T09:53:34.117
> 
> 标签：iphone, image, scroll

如何在 iPhone 中只滚动一侧？我必须停止向后滚动这是我的代码

```
 - (void)layoutScrollImages
  {
   // int n = 1 + arc4random() % 10 + 10;

UIImageView *view = nil;
NSArray *subviews = [FirstScrollView subviews];

// reposition all image subviews in a horizontal serial fashion
CGFloat curXLoc = 0;
for (view in subviews)
{
    if ([view isKindOfClass:[UIImageView class]] && view.tag > 0)
    {
        CGRect frame = view.frame;
        frame.origin = CGPointMake(curXLoc, 0);
        view.frame = frame;

        curXLoc += (kScrollObjWidth);
    }
}

// set the content size so it can be scrollable
 [FirstScrollView setContentSize:CGSizeMake((kNumImages * kScrollObjWidth), [FirstScrollView bounds].size.height)];

   }

 - (void)viewDidLoad
  {

self.view.backgroundColor = [UIColor viewFlipsideBackgroundColor];

// 1\. setup the scrollview for multiple images and add it to the view controller
//
// note: the following can be done in Interface Builder, but we show this in code for clarity
[FirstScrollView setBackgroundColor:[UIColor blackColor]];
[FirstScrollView setCanCancelContentTouches:NO];
FirstScrollView.indicatorStyle = UIScrollViewIndicatorStyleWhite;
FirstScrollView.clipsToBounds = YES;        // default is NO, we want to restrict drawing within our scrollview

   FirstScrollView.scrollEnabled = YES;
   FirstScrollView.pagingEnabled = YES;
   FirstScrollView.bounces = NO;

   FirstScrollView.directionalLockEnabled = YES;

  // [FirstScrollView setContentOffset:CGPointMake(x, y) animated:YES];

   [FirstScrollView setShowsHorizontalScrollIndicator:NO];
   [FirstScrollView setShowsVerticalScrollIndicator:NO];

  // FirstScrollView.scrollEnabled = YES;

   int n = 1 + arc4random() % 10 + 10;

   NSString *string = [NSString stringWithFormat:@"%i",n];

   //lbl.text = string;

NSUInteger i;
for (i = 1; i <= kNumImages; i++)
{

   // [kNumImages addObject:[NSNumber numberWithInt:i]];
    NSString *imageName = [NSString stringWithFormat:@"%d.png", i];
    UIImage *image = [UIImage imageNamed:imageName];
    UIImageView *imageView = [[UIImageView alloc] initWithImage:image];
    CGRect rect = imageView.frame;
    rect.size.height = kScrollObjHeight;
    rect.size.width = kScrollObjWidth;
    imageView.frame = rect;
    imageView.tag = i;  
    lbl.text = string;
    [FirstScrollView addSubview:imageView];
    [imageView release];

         if(n == i){

             //break;

             [self showAlert];
             break;

        }
     } 
```

# mercurial - 用于代码审查的 Mercurial 存储库架构

> ID：13119246
> 
> 赞同：2
> 
> 时间：2012-10-29T09:53:50.777
> 
> 标签：mercurial

我们正在从 Clearcase 迁移到 Mercurial（用于版本控制）和从 ClearQuest 迁移到 Jira/Crucible（用于问题跟踪和代码审查）。我们执行强制性的推前审查。

我们遇到了 Crucible 和 pre-push 支持的问题，我们正在寻找几种解决方案。解决该问题的主要方法是让 Atlassian 产品“监视”尽可能少的存储库（我们遇到的问题是速度慢，这与监视的存储库数量直接相关）。

我们现在要做的是监视每个开发存储库，以便我们对它们执行代码审查。我们还有一个包含稳定版本的中央存储库。我的问题是如何规划我们的存储库架构，以便我们可以执行代码审查并仍然保持干净的中央存储库（我想需要某种审查存储库，但我不知道如何让它在多个审查中工作一次）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-26T10:32:59.687

我们以简单的方式进行预推送审查：我们使用补丁而不是在中央服务器上拥有开发存储库。

只有当我们需要构建大的东西时，我们才会在服务器上创建一个开发/功能存储库，但即便如此，我们仍然会在推送到这些存储库之前审查补丁。

要强制执行此操作，您需要分配角色以推送到存储库，而不是允许所有开发团队推送。

# mysql - 用户有很多计算机，计算机在不同的表中有很多属性，最好的加入方式是什么？

> ID：13119250
> 
> 赞同：2
> 
> 时间：2012-10-29T09:54:05.707
> 
> 标签：mysql, sql, join, many-to-many

我有一个用户表：

```
USERS:
ID   |   NAME  | 
----------------
1    |   JOHN  |
2    |   STEVE | 
```

电脑桌：

```
COMPUTERS:
ID   |   USER_ID |
------------------
13   |     1     |
14   |     1     | 
```

处理器表：

```
PROCESSORS:
ID   |   NAME             |
---------------------------
27   |   PROCESSOR TYPE 1 |
28   |   PROCESSOR TYPE 2 | 
```

和一张硬盘表：

```
HARDDRIVES:
ID   |   NAME              |
---------------------------|
35   |   HARDDRIVE TYPE 25 |
36   |   HARDDRIVE TYPE 90 | 
```

每台计算机都可以具有来自不同属性表（处理器、硬盘驱动器等）的许多属性，所以我有这样的交叉表，以将属性链接到计算机：

```
COMPUTER_PROCESSORS:
C_ID |  P_ID  |
--------------|
13   |   27   |
13   |   28   |
14   |   27   |

COMPUTER_HARDDRIVES:
C_ID |  H_ID  |
--------------|
13   |   35   | 
```

因此，ID 为 1 的用户 JOHN 拥有计算机 13 和 14。计算机 13 具有处理器 27 和 28，计算机 13 具有硬盘驱动器 35。计算机 14 具有处理器 27，但没有硬盘驱动器。

给定用户的 id，我想检索该用户的计算机列表以及每个计算机属性。

我想出了一个查询，它给了我一些结果：

```
SELECT computers.id, processors.id AS p_id, processors.name AS p_name, harddrives.id AS h_id, harddrives.name AS h_name,
FROM computers

JOIN computer_processors ON (computer_processors.c_id = computers.id) 
JOIN processors ON (processors.id = computer_processors.p_id)

JOIN computer_harddrives ON (computer_harddrives.c_id = computers.id) 
JOIN harddrives ON (harddrives.id = computer_harddrives.h_id)

WHERE computers.user_id = 1 
```

结果：

```
ID   | P_ID | P_NAME           | H_ID | H_NAME            |
-----------------------------------------------------------
13   |  27  | PROCESSOR TYPE 1 |  35  | HARDDRIVE TYPE 25 |
13   |  28  | PROCESSOR TYPE 2 |  35  | HARDDRIVE TYPE 25 | 
```

但这有几个问题......

1.  计算机 14 没有出现，因为它没有硬盘。 **我可以以某种方式进行 OUTER JOIN 以确保所有计算机都显示出来，即使它们没有某些属性？**

2.  计算机 13 出现两次，两者的硬盘列表相同。当向计算机添加更多属性时（例如 3 块 ram），为该计算机返回的行数变得非常大，这使得它必须在应用程序代码中对结果进行排序。**我可以以某种方式进行查询，将返回的两个行组合在一起吗？还是在第二行的 h_name 列中返回 NULL 的查询，以便返回的所有值都是唯一的？**

编辑：我想返回的是这样的：

```
ID   | P_ID | P_NAME           | H_ID | H_NAME            |
-----------------------------------------------------------
13   |  27  | PROCESSOR TYPE 1 |  35  | HARDDRIVE TYPE 25 |
13   |  28  | PROCESSOR TYPE 2 |  35  | NULL              |
14   |  27  | PROCESSOR TYPE 1 | NULL | NULL              | 
```

或者任何可以很容易地将它变成这样的数组的结果

```
[13] =>
    [P_NAME] =>
         [0] => PROCESSOR TYPE 1
         [1] => PROCESSOR TYPE 2
    [H_NAME] =>
         [0] => HARDDRIVE TYPE 25

[14] =>
    [P_NAME] =>
         [0] => PROCESSOR TYPE 1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:14:20.797

使用`LEFT JOIN`而不是`INNER JOIN`. 这两个连接彼此不同。（*您当前正在使用*`INNER JOIN`的）仅返回在表的任一侧都至少有一个匹配项的记录。这就是为什么不应该，因为它在 table 上没有匹配项。另一方面，返回*左侧*表上的所有记录，无论它在表的另一侧是否不匹配。*`computer 14``COMPUTER_HARDDRIVES``LEFT JOIN`*

 **```
SELECT  a.ID AS UserID,
        a.Name as UserName,
        b.ID as ComputerID,
        d.ID as ProcessorID,
        d.Name as ProcessorName,
        f.ID as HardDriveID,
        f.name as HardDriveName
FROM    users a
        INNER JOIN computers b
            ON a.ID = b.user_ID
        LEFT JOIN computer_processors c
            ON b.ID = c.C_ID
        LEFT JOIN PROCESSORS d
            ON c.p_ID = d.ID
        LEFT JOIN COMPUTER_HARDDRIVES e
            ON b.ID = e.c_ID
        LEFT JOIN HARDDRIVE f
            ON e.h_ID = f.ID
WHERE   a.ID = 1 
```

*   [***请参阅 SQLFiddle 演示***](http://sqlfiddle.com/#!2/f2ab6/1)
*   有关连接的更多详细信息，请参阅[**SQL 连接的可视化表示**](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

并且由于您想将行组合在一起，因此您可以利用`GROUP_CONCAT()`功能。基本上，它的作用是将列的值组合成逗号分隔值

```
SELECT  a.ID AS UserID,
        a.Name as UserName,
        b.ID as ComputerID,
        GROUP_CONCAT(DISTINCT d.ID) as ProcessorID,
        GROUP_CONCAT(DISTINCT d.Name) as ProcessorName,
        GROUP_CONCAT(DISTINCT f.ID) as HardDriveID,
        GROUP_CONCAT(DISTINCT f.name) as HardDriveName
FROM    users a
        INNER JOIN computers b
            ON a.ID = b.user_ID
        LEFT JOIN computer_processors c
            ON b.ID = c.C_ID
        LEFT JOIN PROCESSORS d
            ON c.p_ID = d.ID
        LEFT JOIN COMPUTER_HARDDRIVES e
            ON b.ID = e.c_ID
        LEFT JOIN HARDDRIVE f
            ON e.h_ID = f.ID
WHERE   a.ID = 1
GROUP BY UserID, UserName, ComputerID 
```

*   [***请参阅 SQLFiddle 演示***](http://sqlfiddle.com/#!2/5bca8/1)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T10:11:47.327

尝试：

```
SELECT computers.id, 
       group_concat(distinct processors.id) AS p_ids, 
       group_concat(distinct processors.name) AS p_names, 
       group_concat(distinct harddrives.id) AS h_ids, 
       group_concat(distinct harddrives.name) AS h_names
FROM computers
JOIN computer_processors ON (computer_processors.c_id = computers.id) 
JOIN processors ON (processors.id = computer_processors.p_id)
LEFT JOIN computer_harddrives ON (computer_harddrives.c_id = computers.id) 
LEFT JOIN harddrives ON (harddrives.id = computer_harddrives.h_id)
WHERE computers.user_id = 1
group by computers.id 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:08:01.357

```
SELECT computers.id, processors.id AS p_id, processors.name AS p_name, harddrives.id AS h_id, harddrives.name AS h_name
FROM computers

LEFT JOIN computer_processors ON (computer_processors.c_id = computers.id) 
LEFT JOIN processors ON (processors.id = computer_processors.p_id)

LEFT JOIN computer_harddrives ON (computer_harddrives.c_id = computers.id) 
LEFT JOIN harddrives ON (harddrives.id = computer_harddrives.h_id)

WHERE computers.user_id = 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:05:38.553

```
select u.ID user_id,
       u.name user_name
       p.id,
       p.name,
       h.id,
       h.name
from USERS u join COMPUTERS c
on u.id=c.USER_ID
join PROCESSORS p
on c.id=p.id
join HARDDRIVES h
on c.id=h.id
where u.id=1 
```**

# java - 在服务器运行时构建用户特定的 izpack 安装程序

> ID：13119252
> 
> 赞同：1
> 
> 时间：2012-10-29T09:54:11.170
> 
> 标签：java, installation, izpack

我正在寻找一个免费的操作系统独立安装程序。

用户可以从 Web 界面配置应用程序，然后下载。服务器应使用默认文件构建安装程序并包含用户配置的文件。所有文件都存储在数据库中。

有人知道是否可以在服务器运行时使用 izpack 的用户特定配置文件构建安装程序，事件的顺序是什么？

例如。从数据库加载所有文件（包括用户配置），将文件写入文件系统，修改 izpack 安装文件以包含资源，执行命令构建安装程序，从文件系统加载安装程序，将其提供给用户，删除文件。

谢谢，臭氧发生器

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T09:59:54.690

简短的回答是肯定的，我们为构建系统做了类似的事情

长答案是，制定您需要的正常工作流程，以便手动构建包并使其自动化

从我的头顶上...

1.  以所需的结构布置文件
2.  更新 izPack 脚本以满足 Custer 的要求
3.  运行 izPack 构建包

# jquery - IE JQuery 触发器失败

> ID：13119256
> 
> 赞同：0
> 
> 时间：2012-10-29T09:54:27.513
> 
> 标签：jquery, internet-explorer

我有一个可能在 url 中有参数的页面。根据参数我触发点击来模拟被点击的导航按钮：

```
$('#main-nav li.filter .dropdown ul li a[rel='+dd+']').trigger('click') 
```

其中 dd 是参数。这适用于 IE 中的所有内容。

我读过这是一个安全问题。如果是这样，是否有任何解决方法？我不想触摸导航设置，因为它是遗留代码。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T09:57:11.667

你试过了吗 ：

```
$('#main-nav li.filter .dropdown ul li a[rel='+dd+']').bind('click', function() {
  window.location.href = this.href;
  return false;
}); 
```

# ftp - Apache Commons VFS2 - 无法创建 FileObject 到 FTP 到 IIS 虚拟目录

> ID：13119257
> 
> 赞同：1
> 
> 时间：2012-10-29T09:54:28.987
> 
> 标签：ftp, nullpointerexception, apache-commons-vfs

我正在使用 Apache Commons VFS2 API（2.0 版）对 FTP 或 SFTP 文件进行通用实现。在我们将虚拟目录作为 FTP 目的地之前，它一直运行良好。我得到 NullpointerException 试图从 FileObject 获取 OutputStream。

...

```
DefaultFileSystemManager fileSystemManager = new DefaultFileSystemManager();
fileSystemManager.addProvider("ftp", new FtpFileProvider());

FileObject remoteObject = fileSystemManager.resolveFile(<FTP_URL>, null);

FileObject tempObject = fileSystemManager.resolveFile(remoteObject, "ftpFile.txt");

if(!tempObject.exists()){
        tempObject = fileSystemManager.createVirtualFileSystem(tempObject);     
}
//No file created by above actions so below gives null
OutputStream outputStream = tempObject.getContent().getOutputStream();

IOUtils.copy(inputStream, outputStream); 
```

...

# objective-c - 沙盒核心WLAN？

> ID：13119260
> 
> 赞同：5
> 
> 时间：2012-10-29T09:54:30.933
> 
> 标签：objective-c, osx-mountain-lion, corewlan

我正在编写一个 OS X 应用程序，它依赖于确定无线信号强度的能力，但我不知道使用什么权利来沙箱化它。

每当我使用

```
NSMutableArray *scanResults;
CWInterface *currentInterface = [CWInterface interface];
NSLog(@"currInterface: %@\n", currentInterface);
NSMutableDictionary *signalsDict = [[NSMutableDictionary alloc] init];
    NSError *err = nil;
    scanResults = [NSMutableSet setWithSet:[currentInterface scanForNetworksWithSSID:nil error:&err]]; 
```

`The operation couldn't be completed. (com.apple.coreWLAN.error error 1.)`尽管在 XCode 中检查了所有权利，但我得到了错误。我缺少什么权利？

CoreWLANWirelessManager 示例项目也有同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T02:28:39.890

您可能希望通过使用 dlfcn.h 库来使用 Apple80211 私有框架。可以在此处找到一个 iphone 示例：

[http://www.csse.uwa.edu.au/~chris/iphone/APlogger/](http://www.csse.uwa.edu.au/~chris/iphone/APlogger/)

下载源文件并研究扫描仪模块。

总之，你会想出这样的事情：

```
#define IF_NAME "en0"
#include <dlfcn.h>

- (void)performScan
{
    int (*open)(void *);
    int (*bind)(void *, NSString *);
    int (*close)(void *);
    int (*scan)(void *, NSArray **, void *);
    void *libHandle;
    void *airportHandle;

    libHandle = dlopen("/System/Library/Frameworks/Preferences.framework/Preferences", RTLD_LAZY);
    open = dlsym(libHandle, "Apple80211Open");
    bind = dlsym(libHandle, "Apple80211BindToInterface");
    scan = dlsym(libHandle, "Apple80211Scan");
    close = dlsym(libHandle, "Apple80211Close");

    open(&airportHandle);
    bind(airportHandle, @IF_NAME);
    NSArray     *found;
    NSDictionary    *params = [[NSDictionary alloc] init];
    scan(airportHandle, &found, params);

    int nnw = [found count];
    for(int i=0 ; i < nnw ; i++) {
        NSDictionary *nw = [found objectAtIndex:i];
        NSString *ssid = [self fixSSID:nw];
        // RSSI indicates signal strength
        int rssi = [[nw objectForKey:@"RSSI"] intValue];
    }
    // Cleanup
    close(airportHandle);
    dlclose(libHandle);
}

-(NSString *)fixSSID:(NSDictionary *)nw
{
    if ([[nw objectForKey:@"HIDDEN_NETWORK"] boolValue])
    return @"<hidden>";
    else
    return [nw objectForKey:@"SSID_STR"];
} 
```

请注意，如果您在 iOS 应用程序中使用私有框架，您将无法在 App Store 上发布它们（Apple 将拒绝您的应用程序，因为没有 Apple80211 框架的公开文档）。但由于您的问题是关于 OSX 开发的，因此这不适用于您的情况。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-18T20:21:16.637

Mac OS X 10.11.1 附带的 Wifi 诊断应用程序的权利如何，位于 /System/Library/CoreServices/Applications/。检查权利我发现它拥有以下内容：com.apple.wifi.associate、com.apple.wifi.scan、com.apple.wifi.set_channel、com.apple.wifi.start_autojoin、com.apple.wireless-diagnostics、和 com.apple.wireless-diagnostics.basic_report。

我们只是在沙盒中工作的凡人无法获得这些吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-30T23:24:49.783

[![在此处输入图像描述](../Images/9577669bd5e7fc74a5d35e246dc615f0.png)](https://i.stack.imgur.com/EX8Vm.png)

我认为您需要检查传出连接（客户端）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-28T12:06:18.427

CoreWLAN 似乎根本不适用于沙盒应用程序。

Apple 的开发者文档指出“使用 App Sandbox，您的应用程序无法修改系统的网络配置（无论是使用系统配置框架、CoreWLAN 框架还是其他类似的 API）”，这似乎暗示着读取但不写入设置可能是可以的，但这在实践中似乎行不通，Apple DTS 的帖子证实了这一点：[https ://forums.developer.apple.com/thread/11307](https://forums.developer.apple.com/thread/11307)

# android - 如何从 Android 浏览器检索/查看保存的密码

> ID：13119261
> 
> 赞同：-1
> 
> 时间：2012-10-29T09:54:32.810
> 
> 标签：android, google-chrome

如何从 Android 浏览器检索/查看保存的密码？

还有一个问题：- 如何在任何 Android 或 Google chrome 浏览器中自动保存密码而不发出通知/提示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:11:49.217

(1) 如果您安装了 androidSDK 工具 (adb)，您可以在 windows 上执行此操作。

**代码 ：：**

亚行外壳

sqlite3 /data/data/com.android.browser/databases/webview.db

。桌子

从密码中选择*；

(2) 如果您使用火狐浏览器，您可以通过以下步骤自动保存密码::

i) 首先你需要关闭 Firefox。

ii) 现在找到 nsloginmanagerprompter.js，它通常位于

C:\ProgramFiles\MozillaFirefox\Components\

iii) 用记事本打开 nsloginmanagerprompter.js

iv) 将整行 804 到 869 替换为以下代码

var pwmgr = this._pwmgr;

pwmgr.addLogin(aLogin);

当您完成“另存为”到桌面后，然后拖回原始文件夹并替换文件。

现在你完成了进入firefox并尝试一下..

或者您可以尝试使用“https://play.google.com/store/apps/details?id=com.lastpass.lpandroid&hl=en”

# c# - 将排序值从一个数据表复制到另一个效率？

> ID：13119263
> 
> 赞同：0
> 
> 时间：2012-10-29T09:54:37.597
> 
> 标签：c#, database, linq, sorting, dataset

我正在使用以下代码：

```
 EmpInfoDS = new DataSet();

        con.Open(); // My connection name

        string sqlRecords = "Select * FROM tbl_EmpInfo";
        EmpInfoDA = new OleDbDataAdapter(sqlRecords, con);
        EmpInfoDA.Fill(EmpInfoDS, "EmpInfo");

            var sortedRows = (from myRow in EmpInfoDS.Tables["EmpInfo"].AsEnumerable()
                             orderby myRow["EmpID"] ascending
                             select myRow).ToArray();

            EmpInfoDS.Tables.Remove("EmpInfo");
            DataTable EmpInfo = sortedRows.CopyToDataTable();
            EmpInfo.TableName = "EmpInfo";
            EmpInfoDS.Tables.Add(EmpInfo); 

        con.Close(); 
```

对数据表中的值进行排序。然后删除该数据表并将已排序的行填充到具有相同名称的数据表中。谁能告诉我这个过程的效率有多高。IE。性能缺点？？？

如果有更好的方法来实现这一点；请告诉我。

任何帮助都感激不尽。:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:03:23.573

为什么不直接在数据库中排序？那总是会更有效率。

IE

```
EmpInfoDS = new DataSet();
con.Open(); // My connection name
string sqlRecords = "Select * FROM tbl_EmpInfo ORDER BY EmpID";
EmpInfoDA = new OleDbDataAdapter(sqlRecords, con);
EmpInfoDA.Fill(EmpInfoDS, "EmpInfo");
con.Close(); 
```

总是让数据库做它应该做的工作。排序是一个数据库函数，而不是 C# 函数（在获取数据时）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:16:54.247

你可以试试

```
 EmpInfoDS.Tables["EmpInfo"].Sort = "EmpID ASC";
    DataTable EmpInfo = EmpInfoDS.Tables["EmpInfo"].DefaultView.ToTable();
    EmpInfoDS.Tables.Add(EmpInfo);
    //To remove sorting  --- EmpInfoDS.Tables["EmpInfo"].Sort = string.Empty; 
```

使用这种方法，您可以保留旧的**DataTable**并更改排序表达式

# c# - ExpandoObject 的动态 LINQ 查询？

> ID：13119264
> 
> 赞同：3
> 
> 时间：2012-10-29T09:54:39.390
> 
> 标签：c#, linq, dynamic

有没有办法使用 LINQ 动态查询库 (System.Linq.Dynamic) 根据 ExpandoObject 的属性评估条件？以下代码在“”行引发异常`var e...`，表示“ExpandoObject 类型中不存在属性或字段'Weight'”：-

```
const string TestCondition = "MyStateBag.Foo >= 50 && MyStateBag.Bar >= 100";

dynamic myStateBag = new ExpandoObject();
myStateBag.Foo = 70;
myStateBag.Bar = 100;

var p = Expression.Parameter(typeof(ExpandoObject), "MyStateBag");
var e = DynamicExpression.ParseLambda(new[] { p }, null, TestCondition);
var result = e.Compile().DynamicInvoke(myStateBag);
Assert.IsTrue(result); 
```

另一种方法是将“statebag”实现为字典，但这会导致条件字符串稍微冗长，例如`MyStateBag["Foo"] >= 50 && MyStateBag["Bar"] >= 100`. 由于这将用作用户脚本环境的基础，如果可以实现，我更喜欢更简单的 ExpandoObject 语法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:34:01.247

不是直接的。动态 LINQ 库归结为表达式树，而表达式树不*直接*支持动态。最有可能的是，动态查询库`Expression.PropertyOrField`用于处理`.Foo`等，这*不适*用于`dynamic`.

如果发现参数是字典，您*也许可以编写一个自定义表达式解析器，用大量查找代码替换它；*不过不好玩。

# opencv - 使用 OpenCV 和 FFMPEG 从网络摄像机通过 RTSP 捕获视频时出错

> ID：13119271
> 
> 赞同：0
> 
> 时间：2012-10-29T09:55:07.813
> 
> 标签：opencv, ffmpeg, rtsp

我正在使用 OpenCV 和 FFMPEG 从使用 RTSP 的网络摄像机捕获帧。关键是 OpenCV 成功加载了 FFMPEG .dll 但 icvCreateFileCapture_FFMPEG_p 在 cap_ffmpeg.cpp 的以下代码中返回 false：

```
virtual bool open( const char* filename )
{
    close();

    icvInitFFMPEG();
    if( !icvCreateFileCapture_FFMPEG_p )
        return false;
    ffmpegCapture = icvCreateFileCapture_FFMPEG_p( filename );
    return ffmpegCapture != 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:26:07.033

可能流尚未准备好，或者您的网络地址/访问有问题。如果您遵循了正确的操作方式，请检查[此项。](https://stackoverflow.com/questions/712998/opencv-with-network-cameras)先尝试 pin 网络资源，看看它是否可用。摄像头还必须允许通过其 Web 界面设置的未经身份验证的访问。有时 MJPEG 有效，而 MPEG4 有问题。

# assembly - 这个旨在模拟循环的汇编代码有什么问题？

> ID：13119277
> 
> 赞同：0
> 
> 时间：2012-10-29T09:55:36.997
> 
> 标签：assembly, x86, dos, nasm

这段代码应该说五次*Hello World ！*

```
org 100h

string db 'Hello World',0Dh,0Ah,'$'
mov dx,string
mov bl,0

check:
cmp bl,5
jb print
ja term

print:
mov ah,9
int 21h
mov ah,04Ch
int 21h
inc bl
jmp check

term:
ret 
```

我只得到一个 Hello World 作为输出！我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:09:37.893

打印一次字符串后，您将明确退出程序（通过 INT 21h，AH=4Ch）！

看起来您正在尝试执行“Hello World”字符串，就好像它是代码一样（因为您将它放在操作系统将开始执行程序的地址 100h）。*为什么在打印任何内容*之前它不会使您的程序崩溃，这一定是纯粹的运气。

# c# - 如何在 C# 中调用带有参数 IDataReader 的方法

> ID：13119285
> 
> 赞同：0
> 
> 时间：2012-10-29T09:56:06.210
> 
> 标签：c#, asp.net, ado.net

**我正在从 Javascript 调用代码隐藏方法并将该值传递到隐藏字段中，从该方法我需要调用另一个具有参数 IdataReader 的方法怎么办？**

```
 page1.aspx  
   function changeCurrencyinternaluser()
        {
            curhf=document.getElementById('TableBuilder1_hf_currency');
            currencylit=document.getElementById('lit_currency');
            if (currencylit && curhf) 
                currencylit.innerHTML=curhf.value;                      
                curhfid=document.getElementById('TableBuilder1_hf_currencyid');
                currencyid=curhfid.value; 

                 document.getElementById('<%= h3plcurrid.ClientID %>').value = currencyid;   //deep
                 document.getElementById('<%= LinkButton2.ClientID %>').click();              
        }

   page1.aspx.cs
     protected void LinkButton2_Click(object sender, EventArgs e)
      {
        usercurrid = h3plcurrid.Value;  // hidden field
       //I need to call below method getsupplierNumber 

     }

    private Control getSupplierNumber(IDataReader dr)
     {
      //some code
     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:10:13.057

一个典型的用法是：执行一条 SQL 命令，例如：

```
using(var conn = GetAnOpenConnection())
using(var cmd = conn.CreateCommand())
{
    cmd.CommandText = ...
    cmd.Parameters.Add(...);
    using(var reader = cmd.ExecuteReader())
    {
        var control = getSupplierNumber(reader);
    }
} 
```

但是，虽然`IDataReader` *通常*与数据库相关，但并非必须这样做。`IDataReader`您可以很容易地编写自定义实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:10:37.967

以这种方式再传递一个值检查 usercurrid while (CarsInfoDataReader.Read()) {if (usercurrid==CarsInfoDataReader[index].tostring()) { ///if 满足填充值显示给用户 }

}

# android - 高效地从 Android 中的 Web Service 中提取大数据

> ID：13119287
> 
> 赞同：3
> 
> 时间：2012-10-29T09:56:18.673
> 
> 标签：android, web-services, database-performance

我有一项网络服务，其中有国家、州和相应城市的列表。现在，在我的 Android 应用程序中提取这些数据时，我有点困惑。现在我只有 2 个（美国、加拿大）国家数据，但将来可能会增加。我也有这个国家的州名单，是的，每个州的城市。

我的应用程序中有一个启动画面，我在其中编写了获取国家/地区的逻辑，并在此基础上获取州，然后是每个州的城市。但它的过程很长，如果我发布这个，用户会因等待时间而感到沮丧。所以我不想使用这种需要更长时间来提取数据的方式。有没有其他方法或建议让我实现这一目标。

欢迎所有建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:31:00.523

您应该使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)执行任何 Web 数据下载（和上传），它在后台工作并且不会阻塞 UI 线程，因此您的用户不会注意到。

此外，最好在您的应用程序中提供默认国家/城市数据，然后仅下载更改/更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T09:59:40.517

使用服务或意图服务，在后台下载数据。下载完成后，您可以使用 onbind 显示下载的数据。服务在单独的线程上运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:49:27.767

您可以简单地使用系统 DownloadManager 从您的源中获取文件并稍后处理它们。当文件完全下载时，DownloadManager 甚至会通知您。

查看[https://github.com/commonsguy/cw-android/blob/master/Internet/Download/src/com/commonsware/android/download/DownloadDemo.java](https://github.com/commonsguy/cw-android/blob/master/Internet/Download/src/com/commonsware/android/download/DownloadDemo.java)以获取使用 DownloadManager 的简单示例代码。

# math - 给定非常大的值的 OpenGL 远平面会剪辑所有内容

> ID：13119292
> 
> 赞同：5
> 
> 时间：2012-10-29T09:56:35.133
> 
> 标签：math, opengl, perspective

我发现如果我将透视矩阵的远平面距离定义为`1,000,000,000`，那么该范围内的所有对象都会被剪裁。工作范围`100,000,000`很好。任何人都可以解释这个吗？我的意思是，它仍然不近似浮点数最大范围。还是我错了？为了计算透视，我使用 GLM 库。没有固定的管道僵硬。

更新：（JAVA）透视矩阵计算：

```
 public static Mat4 perspective(float fovy, float aspect, float zNear, float zFar) {
    float range = (float) (Math.tan(Math.toRadians(fovy / 2.0f)) * zNear);
    float left = -range * aspect;
    float right = range * aspect;
    float bottom = -range;
    float top = range;

    Mat4 res = new Mat4(0.0f);

    res.matrix[0] = (2.0f * zNear) / (right - left);
    res.matrix[5] = (2.0f * zNear) / (top - bottom);
    res.matrix[10] = -(zFar + zNear) / (zFar - zNear);
    res.matrix[11] = -1.0f;
    res.matrix[14] = -(2.0f * zFar * zNear) / (zFar - zNear);

    return res;
  } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T10:56:01.063

由于浮点数的精度非常有限，您看到的是舍入问题。

尽管浮点数具有很大的范围（对于大多数实际应用“无限”），但它们的精度有限，远低于相同大小的整数。单精度（32 位）`float`可以表示略多于 7 个十进制数字。你可以有非常小或大（比你想象的更小和更大）的数字，但它们仍然只有 7.22 个有效的十进制数字。

唯一可以表示为 999,999,900 和 1,000,000,100 之间单精度的数字`float`是：999999872、999999936、1000000000 和 1000000064。您可以通过计算`for`循环中的整数变量、转换为`float`变量并打印它来轻松验证这一点。

这意味着例如 999,999,950 和 999,999,951 和 999,999,999 是完全相同的数字，因此 999,999,950 可能会被剪切，尽管它“显然”位于剪切平面的前面。

**编辑：**

带输出的小演示程序：

```
#include <stdio.h>

int main()
{
    float f = 0.0f;
    for(int i = 999999900; i < 1000000100; ++i)
    {
        f = i;
        printf("%d\t%f\n", i, f);
    }
    return 0;
}

999999900       999999872.000000
999999901       999999872.000000
999999902       999999872.000000
999999903       999999872.000000
999999904       999999872.000000
999999905       999999936.000000
999999906       999999936.000000
999999907       999999936.000000
...
[some lines omitted]
...
999999967       999999936.000000
999999968       1000000000.000000
999999969       1000000000.000000
999999970       1000000000.000000
999999971       1000000000.000000
999999972       1000000000.000000
...
[some lines omitted]
...
1000000028      1000000000.000000
1000000029      1000000000.000000
1000000030      1000000000.000000
1000000031      1000000000.000000
1000000032      1000000000.000000
1000000033      1000000064.000000
1000000034      1000000064.000000
1000000035      1000000064.000000
1000000036      1000000064.000000
1000000037      1000000064.000000
1000000038      1000000064.000000
1000000039      1000000064.000000
1000000040      1000000064.000000
1000000041      1000000064.000000
1000000042      1000000064.000000
1000000043      1000000064.000000 
```

# excel - SSIS 部署问题

> ID：13119296
> 
> 赞同：0
> 
> 时间：2012-10-29T09:57:05.317
> 
> 标签：excel, ssis

> **可能重复：**
> [使用 dtexec 运行 SSIS 包](https://stackoverflow.com/questions/13088974/running-an-ssis-package-using-dtexec)

当我在本地系统上运行我的 SSIS 包时，它运行良好。我的包将一个只有标题的空白模板 excel 文件复制到另一个地方，然后用数据库中的数据填充这个副本。但是，当我将包和配置放在服务器上并在其上安排 SQL 服务器作业时，它会引发如下错误：

```
Executed as user: CIQHYD\sqladmindev. 
Microsoft (R) SQL Server Execute Package UtilityVersion 10.0.4000.0 for 64-bitCopyright (C) Microsoft Corp 1984-2005\. All rights reserved.
Started: 3:24:28 PM
Error: 2012-10-29 15:24:28.34 
  Code: 0xC001401E 
  Source: GICSReport Connection manager "GICSReport.xls" 
  Description: The file name "\\HYD-FILESVR\Departments\Technology\GICSReports\Dev\GICSReport.xls" specified in the connection was not valid.
End Error
Error: 2012-10-29 15:24:28.34 
  Code: 0xC001401D 
  Source: GICSReport 
  Description: Connection "GICSReport.xls" failed validation.
End Error
DTExec: The package execution returned DTSER_FAILURE (1).
Started: 3:24:28 PM
Finished: 3:24:28 PM
lapsed: 0.234 seconds 
[SQLSTATE 42000] (Error 50000). The step failed. 
```

当我删除目标文件夹中的文件时，我收到此错误：

```
Executed as user: CIQHYD\sqladmindev. 
Microsoft (R) SQL Server Execute Package Utility
Version 10.0.4000.0 for 64-bitCopyright (C) Microsoft Corp 1984-2005\. All rights reserved.
Started: 3:15:38 PM
Error: 2012-10-29 15:15:38.57 
  Code: 0xC001401E 
  Source: GICSReport Connection manager "GICStemplate.xls" 
  Description: The file name "\\HYD-FILESVR\Departments\Technology\GICSAutomationTemplate\GICStemplate.xls" specified in the connection was not valid.
End Error
Error: 2012-10-29 15:15:38.57 
  Code: 0xC0202070 
  Source: GICSReport Connection manager "GICStemplate.xls" Description: The file name property is not valid. The file name is a device or contains invalid characters.
End Error
Error: 2012-10-29 15:15:38.57 
  Code: 0xC0029163 
  Source: Copy Template To Destination File System Task 
  Description: File or directory "\\HYD-FILESVR\Departments\Technology\GICSAutomationTemplate\GICStemplate.xls" represented by connection "GICStemplate.xls" does not exist.
End Error
Error: 2012-10-29 15:15:38.57 
  Code: 0xC002F30A 
  Source: Copy Template To Destination File System Task 
  Description: The source is empty.
End Error
DTExec: The package execution returned DTSER_FAILURE (1).
Started: 3:15:38 PM
Finished: 3:15:38 PM
Elapsed: 0.344 seconds [SQLSTATE 42000] (Error 50000). The step failed. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T11:07:57.420

```
Version 10.0.4000.0 for 64-bitCopyright (C) Microsoft Corp 1984-2005. 
```

您是否尝试在 32 位模式下运行它？

[http://microsoft-ssis.blogspot.nl/2012/09/swtich-package-from-64bit-to-32bit.html](http://microsoft-ssis.blogspot.nl/2012/09/swtich-package-from-64bit-to-32bit.html)

# ios - 在 iOS 中使用 UIWebview 更新谷歌地图中的当前位置

> ID：13119300
> 
> 赞同：4
> 
> 时间：2012-10-29T09:57:22.837
> 
> 标签：ios, google-maps-api-3, uiwebview, maps, driving-directions

我在应用程序中创建了一个 WebView，它调用 Google Maps Directions 来绘制当前位置和 POI 之间的路线。

webView 加载后，整个谷歌地图的方向就会被加载。现在我需要用我当前的位置更新地图。例如，我希望代表我当前位置的标志/图标在用户旅行时与他一起移动。但到目前为止，我似乎能够做到这一点的唯一方法是通过调用新位置来重新加载整个地图。

这在时间/数据使用方面都非常昂贵。有没有更好的方法让我想念？

这是我的代码：

```
CLLocationCoordinate2D destination = { 37.773768,-122.408638 }; 

NSString *googleMapsURLString = [NSString stringWithFormat:@"http://maps.google.com/?saddr=%1.6f,%1.6f&daddr=%1.6f,%1.6f&output=embed",
                                            myLocation.coordinate.latitude, myLocation.coordinate.longitude, destination.latitude, destination.longitude];

NSURL *url=[NSURL URLWithString:googleMapsURLString];
NSURLRequest *requestObj=[NSURLRequest requestWithURL:url];
[webView loadRequest:requestObj]; 
```

有人请帮忙！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-07T20:43:49.750

使用[Google Maps API 3 Utility Library](http://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries)中的[GeolocationMarker](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/geolocationmarker/)。它是为此目的而创建的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-09T07:03:53.640

你可以使用.. CLLocationManager 获取用户的位置 UIWebview 不用于获取位置..

# c# - 将谷歌地图与必应地图 wpf 控件集成

> ID：13119301
> 
> 赞同：1
> 
> 时间：2012-10-29T09:57:23.393
> 
> 标签：c#, wpf, google-maps, wpf-controls, bing-maps

我试图将 bing 地图 wpf 控件与谷歌地图集成。几天前，我在 Windows 手机上做到了，这里是教程： http: [//www.codeproject.com/Articles/153467/Google-Maps-for-Windows-Phone-7-using-Bing-Map-Con](http://www.codeproject.com/Articles/153467/Google-Maps-for-Windows-Phone-7-using-Bing-Map-Con)我跟着。

我尝试使用 wpf 控件进行类似的操作。但它不起作用并在 xaml 部分给出错误。

它给出了这个错误：**成员“TileSources”无法识别或无法访问**，并且此错误**在“MapTileLayer”类型中找不到可附加属性“TileSources”。**

我也试过了，但没有运气：[Load custom tiles in Bing maps on WPF](https://stackoverflow.com/questions/11747160/load-custom-tiles-in-bing-maps-on-wpf)

以前有没有人这样做过。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:22:28.030

参考[在 WPF 上的 Bing 地图中加载自定义图块的](https://stackoverflow.com/q/11747160/1136211)[答案](https://stackoverflow.com/a/11766869/1136211)，您可以使用如下所示的 Google 风格的地图 Uri。

```
<m:Map>
    <m:Map.Mode>
        <!-- set empty map mode, i.e. remove default map layer -->
        <m:MercatorMode/>
    </m:Map.Mode>
    <local:MyTileLayer
        UriFormat="http://mt0.google.com/vt/x={x}&amp;y={y}&amp;z={z}" />
</m:Map> 
```

编辑：我刚刚对此进行了测试，出于某种原因，我不明白 Bing Maps WPF 控件不会显示任何地图图块，只会显示灰色背景。我还检查了生成的地图 URI，它们确实有效。尝试例如[http://mt0.google.com/vt/x=16&y=10&z=5](http://mt0.google.com/vt/x=16&y=10&z=5)。

使用 OpenStreetMap URI 格式运行它`http://tile.openstreetmap.org/{z}/{x}/{y}.png`可以按预期工作。

# java - 如何使用 javax.tools.JavaCompiler；编译所有依赖项？

> ID：13119302
> 
> 赞同：0
> 
> 时间：2012-10-29T09:57:29.793
> 
> 标签：java, compilation

如果我使用 netbeans 之类的工具运行 java 应用程序，它将编译所有必需的 .java 文件。

我有一个文件夹，其中可能包含 5 个 java 文件，其中一个名为 Main.java。我希望能够编译 Main.java，以及同一目录中的其他文件，以便我能够运行 main.java。

我目前有这个：

```
 JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
    compiler.run(null, null, null, srcDirectory.getPath()+"/Main.java"); 
```

但这表示缺少（当然）类，因为它没有编译其他类。

谢谢！

# android - Android 同步 - SyncAdapter 或 HTTP 基本身份验证的一般服务？

> ID：13119303
> 
> 赞同：0
> 
> 时间：2012-10-29T09:57:32.663
> 
> 标签：android, rest, synchronization, android-service, android-syncadapter

我想将本地 Android 数据库与某处服务器上的远程数据库同步。现在，我想通过一个带有基本 HTTP 身份验证的 REST API 来做到这一点。

我已经阅读并观看了 Google I/O 2010 “开发 Android REST 客户端应用程序”视频，但是对于哪种方法最适合我，我仍然有些困惑：

1.) 内容提供者+服务

2.) 内容提供者 + SyncAdapter

3.) 还有别的吗？

我已经写了一个内容提供者。我对 SyncAdapter 以及身份验证的工作原理有点困惑 - 我可以将基本 HTTP 身份验证与 SyncAdapter 一起使用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:40:53.747

身份验证是通过 Android 中的帐户完成的。看看这个类：[https ://developer.android.com/reference/android/accounts/AbstractAccountAuthenticator.html](https://developer.android.com/reference/android/accounts/AbstractAccountAuthenticator.html)

也看看这篇博文： [http ://www.c99.org/2010/01/23/writing-an-android-sync-provider-part-1/](http://www.c99.org/2010/01/23/writing-an-android-sync-provider-part-1/)

关于选择哪种方法：如果您想在远程 DB 和本地 DB 之间同步（也就是说，您真的想要同步而不仅仅是下载内容），同步适配器始终是最佳选择！

如果您已经下载了 Android 的示例，您还应该深入研究 SampleSyncAdapter 项目。这应该让你开始。

顺便说一句：永远不要进行基本 HTTP 身份验证。这没有加密，您的服务器和应用程序之间的所有通信都是可读的。始终使用 TLS (SSL)！

# search - 如何在 Netbeans 7.2 中搜索源代码？

> ID：13119304
> 
> 赞同：0
> 
> 时间：2012-10-29T09:57:42.223
> 
> 标签：search, ide, project, netbeans-7

简单的问题。如何在 NetBeans 7.2 IDE 中搜索我的项目中的代码？例如，我想查找一个类名或任何代码字符串，假设我在 10 个类和 20 个方法中使用了这个字符串“Apple is a fruit”，并且我想要一个它正在使用的所有位置的列表。

注意：我使用谷歌搜索并在此处发布之前查看了相关主题，但我发现的只是如何制作搜索程序，这显然是搜索引擎的一个令人困惑的话题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:01:11.737

在 Edit> Find in Projects 中找到该功能..

# macos - kext 有时未加载

> ID：13119305
> 
> 赞同：3
> 
> 时间：2012-10-29T09:57:43.897
> 
> 标签：macos, dpi, kernel-extension

我在开发的 kext 中遇到了一些随机的 kext 加载问题。基本上 kext 是为了根据需要更新鼠标 DPI。这里有一些与kext相关的点 1\. kext驱动类是从IOHIDEventDriver类派生的，所以在dispatchRelativePointerEvent函数中修改指针移动。基于 DPI 集，我们将在 dispatchRelativePointerEvent 更新 x 和 y 值，我们调用 super::dispatchRelativePointerEvent。2\. Info plist 中IOKitPersonalities 下设备的IOHIDInterface 为IOProviderClass、idProduct 和idVendor。3\. kextutil 说构建的 kext 一切正常。4\. 在“/System/Library/Extensions/”下安装 kext 后，我​​们同样执行 sudo touch。5\. 最后重启机器。

在下次启动时，kext 会加载并找到设备并且一切正常。但问题是，如果我卸载 kext 并再次安装 kext，有时 kext 在下次重新启动时无法加载。不确定是什么导致了问题。有谁知道可能出了什么问题？IOKitPersonalities 有什么问题吗？如果探测分数匹配有任何问题，它应该每次都发生。探测分数是否在这里引起任何问题？

# java - 使用java进行Base64图像编码

> ID：13119306
> 
> 赞同：2
> 
> 时间：2012-10-29T09:57:43.933
> 
> 标签：java, spring, base64

我正在尝试在图像 URL 上使用 base64 编码对图像进行编码。但它为所有 URL 提供了相同的编码。

我的代码如下：

```
Object namee = url.openConnection().getContentType();
String name = (String) namee;

BufferedImage image = ImageIO.read(url);  

//getting image extension from content type
String ext = name.substring(name.lastIndexOf("/") + 1); 

ByteArrayOutputStream baos = new ByteArrayOutputStream();

ImageIO.write(image, ext, baos);
byte[] imageData = baos.toByteArray();
String base64value = Base64.encodeBase64URLSafeString(imageData); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-27T20:39:00.073

This Code convert your image file/data to Base64 Format which is nothing but text representation of your Image.

To convert this you need Encoder & Decoder which you will get from [http://www.source-code.biz/base64coder/java/](http://www.source-code.biz/base64coder/java/). It is File Base64Coder.java you will need.

Now to access this class as per your requirement you will need class below:

```
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.InputStream;
import java.io.IOException;
import java.io.OutputStream;

public class Base64 {

 public static void main(String args[]) throws IOException {
  /*
   * if (args.length != 2) {System.out.println(
   * "Command line parameters: inputFileName outputFileName");
   * System.exit(9); } encodeFile(args[0], args[1]);
   */
  File sourceImage = new File("back3.png");
  File sourceImage64 = new File("back3.txt");
  File destImage = new File("back4.png");
  encodeFile(sourceImage, sourceImage64);
  decodeFile(sourceImage64, destImage);
 }

 private static void encodeFile(File inputFile, File outputFile) throws IOException {
  BufferedInputStream in = null;
  BufferedWriter out = null;
  try {
   in = new BufferedInputStream(new FileInputStream(inputFile));
   out = new BufferedWriter(new FileWriter(outputFile));
   encodeStream(in, out);
   out.flush();
  } finally {
   if (in != null)
    in.close();
   if (out != null)
    out.close();
  }
 }

 private static void encodeStream(InputStream in, BufferedWriter out) throws IOException {
  int lineLength = 72;
  byte[] buf = new byte[lineLength / 4 * 3];
  while (true) {
   int len = in.read(buf);
   if (len &lt;= 0)
    break;
   out.write(Base64Coder.encode(buf, 0, len));
   out.newLine();
  }
 }

 static String encodeArray(byte[] in) throws IOException {
  StringBuffer out = new StringBuffer();
  out.append(Base64Coder.encode(in, 0, in.length));
  return out.toString();
 }

 static byte[] decodeArray(String in) throws IOException {
  byte[] buf = Base64Coder.decodeLines(in);
  return buf;
 }

 private static void decodeFile(File inputFile, File outputFile) throws IOException {
  BufferedReader in = null;
  BufferedOutputStream out = null;
  try {
   in = new BufferedReader(new FileReader(inputFile));
   out = new BufferedOutputStream(new FileOutputStream(outputFile));
   decodeStream(in, out);
   out.flush();
  } finally {
   if (in != null)
    in.close();
   if (out != null)
    out.close();
  }
 }

 private static void decodeStream(BufferedReader in, OutputStream out) throws IOException {
  while (true) {
   String s = in.readLine();
   if (s == null)
    break;
   byte[] buf = Base64Coder.decodeLines(s);
   out.write(buf);
  }
 }
} 
```

In Android you can convert your Bitmap to Base64 for Uploading to Server/Web Service.

```
Bitmap bmImage = //Data
ByteArrayOutputStream baos = new ByteArrayOutputStream();
bmImage.compress(Bitmap.CompressFormat.JPEG, 100, baos);
byte[] imageData = baos.toByteArray();
String encodedImage = Base64.encodeArray(imageData); 
```

This “encodedImage” is text representation of your Image. You can use this for either uploading purpose or for diplaying directly into HTML Page as below:

```
<img alt="" src="data:image/png;base64,<?php echo $encodedImage; ?>" width="100px" />
<img alt="" src="data:image/png;base64,/9j/4AAQ...........1f/9k=" width="100px" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-29T19:57:27.563

这是一个关于如何[使用 Java 将图像转换为 base64 的工作示例。](http://imagetobase64.com/code-examples)

```
public static String encodeToString(BufferedImage image, String type) {
     String base64String = null;
     ByteArrayOutputStream bos = new ByteArrayOutputStream();
     try {
         ImageIO.write(image, type, bos);
         byte[] imageBytes = bos.toByteArray();
         BASE64Encoder encoder = new BASE64Encoder();
         base64String = encoder.encode(imageBytes);
         bos.close();
     } catch (IOException e) {
         e.printStackTrace();
     }
     return base64String;
} 
```

# opencl - openCL中diff和abs_diff的区别

> ID：13119307
> 
> 赞同：2
> 
> 时间：2012-10-29T09:57:47.220
> 
> 标签：opencl

这可能是个愚蠢的问题，但我无法弄清楚......

abs 和 abs_diff 的语法是
ugentype abs (gentype x) ugentype abs_diff (gentype x,gentype y)

让我们取 x=-4 和 y=3

```
is there any difference between abs(-4-3)  and abs_diff(-4,3)  the result 
```

两个操作都是一样的...如果我可以将 abs_diff 重写为 abs 那么为什么 khronos 给出了 2 个 abs 函数

谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:06:35.703

根据[abs， abs_diff man](http://www.khronos.org/registry/cl/sdk/1.2/docs/man/xhtml/abs.html)：

*   abs 返回 |x|。
*   abs_diff 返回 |xy| **没有模溢出**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-08T06:44:02.650

绝对（-4-3）=绝对（-7）= 7

abs(-4, 3) = abs(-4 - 3) = abs(-7) = 7

为了方便起见，有两个功能取决于您认为哪个更适合您正在做的事情。

# c# - DataCulture 可能是要求用户重新登录 HTTPS 的原因吗？

> ID：13119311
> 
> 赞同：0
> 
> 时间：2012-10-29T09:58:18.433
> 
> 标签：c#, asp.net, iis, https, cultureinfo

我正在使用 Windows 身份验证。

我的代码中有这个：

```
CultureInfo CultureInfoDateCulture = new CultureInfo("fr-FR");

CultureInfo provider = CultureInfo.InvariantCulture;
provider = new CultureInfo("fr-FR");
try
{
   startDateTime = DateTime.ParseExact(startDate, "d", provider);
   endDateTime = DateTime.ParseExact(endDate, "d", provider);
}
catch
{
   Alert("Insert Failed: Date Format is incorrect. Please make sure it is in the following format: Day/Month/Year i.e. 1/1/2012", "error", false);
} 
```

这是我通过 HTTPs 访问应用程序时得到的屏幕（编辑：由于某种奇怪的原因，我无法显示此图像，登录屏幕是要求用户连接到服务器的屏幕）

![在此处输入图像描述](../Images/cc483c0a3949af30b7491ddf0588875e.png)

我该如何解决这个问题？由于上面的代码，我不希望用户访问重新登录，这是serverR上的访问权限问题吗？

更新：

在使用 Chrome 的开发人员工具找出试图访问哪些文件后，结果发现丢失的图像是要求用户登录的原因。出于某种原因，服务器返回了 403 错误（而不是 404 错误，很可能是因为安全性不允许用户 ping 公共文件以查看它们是否存在）。删除图像链接后，它不再提示重新登录。我认为 CultureInfo 是原因，因为这是这两个页面中唯一通用的代码，而不是其他页面，但是，错误在于 jQuery DataPicker CSS 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:02:54.860

> DataCulture 可能是要求用户重新登录 HTTPS 的原因吗

不

> 是服务器访问权限的问题吗？

是的，身份验证纯粹与服务器授予您尝试访问的资源的权限有关。

# python - GAE - 错误：“此资源不允许使用 POST 方法”

> ID：13119312
> 
> 赞同：0
> 
> 时间：2012-10-29T09:58:18.940
> 
> 标签：python, google-app-engine, webapp2

我正在尝试了解如何编辑或更新模型。我尝试了几种有时会给出错误消息的场景： 405 Method Not Allowed - 该资源不允许使用 POST 方法。下面是我的代码：

Python 模型：

```
import os 
import webapp2
import wsgiref.handlers
from google.appengine.ext import db
from google.appengine.ext.webapp import template

class MessageModel(db.Model):
    content = db.StringProperty(multiline=True)
    date = db.DateTimeProperty(auto_now_add=True)

class Message(webapp2.RequestHandler):

    def get(self):
        doRender(self,'message.htm')

    def post(self):
        m = MessageModel()
        m.content = self.request.get('content')
        m.put()

        self.redirect('/view') 

class View(webapp2.RequestHandler):

    def get(self):

        que = db.Query(MessageModel)
        messageview_list = que.fetch(999)

        doRender(self,
                 'view.htm', 
                 {'messageview_list': messageview_list })

class Edit(webapp2.RequestHandler):

    def get(self):

        doRender(self,'edit.htm')    

    def post(self):

        updated_content = self.request.get('content')

        content_query = db.GqlQuery("SELECT * "
                                   "FROM MessageModel "
                                   "ORDER BY date DESC LIMIT 1")

        messageview_list = content_query.fetch(1)
        m = MessageModel()
        m.content = self.request.get(updated_content)
        m.put()

        doRender(self,
                 'edit.htm', 
                 {'messageview_list': messageview_list })

class Main(webapp2.RequestHandler):

    def get(self):
        doRender(self,'index.htm')

def doRender(handler, tname = 'index.htm', values = { }):
    temp = os.path.join(
    os.path.dirname(__file__),
    'templates/' + tname)
    if not os.path.isfile(temp):
    return False

    newval = dict(values)
    newval['path'] = handler.request.path

    outstr = template.render(temp, newval)
    handler.response.out.write(outstr)
    return True

app = webapp2.WSGIApplication([('/', Main),
                   ('/message', Message),
                   ('/view', View),                                                                          
                   ('/edit', Edit)], 
                   debug=True) 
```

HTML 表单：

```
{% for messageview in messageview_list %}

<form method="post" action="/edit">
    <p>
        <textarea name="message" rows="3" cols="60" MAXLENGTH=60>
        {{ messageview.content }}</textarea>
        <br>
        <input type="submit" value="Update"/> 
      </p>
</form>
      {% ifnotequal error None %}
       <p>
       {{ error }}
       </p>
      {% endifnotequal %}
{% endfor %} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:15:32.403

我假设缩进是由于复制/粘贴造成的，但请确保`post()`and`get()`函数实际上是在您的类中缩进的。

在您的表单中，您有`<textarea name="message" rows="3" cols="60" MAXLENGTH=60>`，但在您`def post()`使用`updated_content = self.request.get('content')`，它正在寻找`content`请求中的关键字。此外，您的编辑看起来不像是在做您希望它做的事情。为了编辑实体，该过程的基本概述是 1.) 检索实体（照你做，使用一些参数查询）；2.) 根据需要修改实体的属性；3.)`put()`实体回到数据存储区。

从您的代码中，您似乎正在检索输入数据存储区的最后一个实体，但随后创建了一个新模型而不是编辑该模型（假设这是您想要做的 - 不太确定这是否准确:)）。如果您要修改返回的实体，这应该有效：

```
def post(self):

    updated_content = self.request.get('message')
    content_query = db.GqlQuery("SELECT * "
                               "FROM MessageModel "
                               "ORDER BY date DESC LIMIT 1")

    # Your query will always return just one entity (due to the LIMIT),
    # but you can use get() here instead of fetch(1)
    latest_model = content_query.get()

    # Update the model's content property
    latest_model.content = updated_content
    latest_model.put()

    # Assuming you want to output that model, you'd output it now
    doRender(self,
             'edit.htm', 
             {'messageview_list': latest_model }) 
```

# java - Apache Torque 嵌套选择

> ID：13119313
> 
> 赞同：0
> 
> 时间：2012-10-29T09:58:24.397
> 
> 标签：java, orm, apache-torque

我有以下查询：

```
select * from situation s where s.version = 
(select max(ss.version) from situation ss where ss.situationKey = s.situationKey) 
```

我想将其编码为扭矩标准。这里的主要问题是子查询通过situationKey链接到主查询。我在任何地方都没有发现这种情况，是否可以在 Torque 中进行此查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-10T19:49:03.853

```
Criteria nestedCriteria = // Your nested criteria 
String nested = BasePeer.createQueryString(nestedCriteria);
String col = // Your Peer Column, in this case "SituationPeer.VERSION"
criteria.add(col, (Object) (col + " in ( " + nested + " )"), Criteria.CUSTOM); 
```

您的查询似乎从内部选择中引用了外部选择。您可能必须添加别名才能做到这一点。不确定，但 Torque 确实具有嵌套选择功能。

# javascript - 如何将数据附加到div？

> ID：13119316
> 
> 赞同：0
> 
> 时间：2012-10-29T09:58:31.390
> 
> 标签：javascript, jquery

我有一个功能，在按钮上单击我添加列，现在我想要的是在按钮上单击我要添加的列，在我的情况下，我希望它附加到另一个 div 按钮和附加数据现在都添加到同一个 div 中

这是我正在处理的代码

```
var i = 1;
$(document).ready(function() {             
    $("button[id='columnadd']").click(function () {
       // create the element
       var domElement = $('<div id="shoppingCart' + i++ + '" class="shoppingCart"><h2 class="ui-widget-header">Add Menu Items Here</h2><aside class="ui-widget-content" id="droppable"><ol><li class="placeholder">Add your items here</li></ol></aside></div>');

       $(this).after(domElement);
       // at this point you have domElement in your page
       //.appendTo("#columnhoder")
       // make it droppable
       domElement.find("ol").droppable({
           accept: '.small_box li',
           greedy: true,
           drop: function (event, ui) {
               alert(1);
               makeItDroppableToo(event, ui, this);
               //$(this).find(".placeholder").remove();
               //$("<li></li>").text(ui.draggable.text()).appendTo(this);                         
           }
       });
}); 
```

我要这个

```
var domElement = $('<div id="shoppingCart' + i++ + '" class="shoppingCart"><h2 class="ui-widget-header">Add Menu Items Here</h2><aside class="ui-widget-content" id="droppable"><ol><li class="placeholder">Add your items here</li></ol></aside></div>'); 
```

附加到这个 div

```
<div id="columnholder">div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:00:00.703

您可以使用 appendTo：

```
domElement.appendTo('#columnholder'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:02:01.117

`$("#columnholder").append(domElement)`应该管用

[jQuery 追加](http://api.jquery.com/append/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:02:42.773

使用 jQuery，这很容易。您只需选择您的容器，然后在其上使用 append 方法。例如：

```
$('#columnholder').append('your html code or something like that'); 
```

看看：[http ://api.jquery.com/append/](http://api.jquery.com/append/)

# sakai - 我想在windows 7上搭建sakai oae的开发环境，不知道怎么做？

> ID：13119317
> 
> 赞同：0
> 
> 时间：2012-10-29T09:58:36.017
> 
> 标签：sakai, ojdbc

我的操作系统是 windows7.in cmd，我运行：

```
 cd sakai3/3akai-ux
  mvn clean install 
```

我有：

```
[INFO] BUILD SUCCESS 
```

然后我运行：

```
cd sakai3/nakamura
set MAVEN_OPTS="-Xmx256m -XX:PermSize=256m"
mvn clean install 
```

我收到了这个错误：

```
 [ERROR] Failed to execute goal org.apache.sling:maven-launchpad-plugin:2.1.0:pre
    pare-package (prepare-package-jar) on project org.sakaiproject.nakamura.app: Una
    ble to find artifact. Failure to find org.sakaiproject.nakamura:org.sakaiproject
    .nakamura.ojdbc:jar:CURRENT-VERSION in http://repo1.maven.org/maven2/ was cached
     in the local repository, resolution will not be reattempted until the update in
    terval of maven repo has elapsed or updates are forced
    [ERROR]
    [ERROR] Try downloading the file manually from the project website.
    [ERROR]
    [ERROR] Then, install it using the command:
    [ERROR] mvn install:install-file -DgroupId=org.sakaiproject.nakamura -DartifactI
    d=org.sakaiproject.nakamura.ojdbc -Dversion=CURRENT-VERSION -Dpackaging=jar -Dfi
    le=/path/to/file
    [ERROR]
    [ERROR] Alternatively, if you host your own repository you can deploy the file t
    here:
    [ERROR] mvn deploy:deploy-file -DgroupId=org.sakaiproject.nakamura -DartifactId=
    org.sakaiproject.nakamura.ojdbc -Dversion=CURRENT-VERSION -Dpackaging=jar -Dfile
    =/path/to/file -Durl=[url] -DrepositoryId=[id]
    [ERROR]
    [ERROR]
    [ERROR] org.sakaiproject.nakamura:org.sakaiproject.nakamura.ojdbc:jar:CURRENT-VE
    RSION
    [ERROR]
    [ERROR] from the specified remote repositories:
    [ERROR] maven repo (http://repo1.maven.org/maven2/, releases=true, snapshots=fal
    se),
    [ERROR] apache-snapshots (http://repository.apache.org/snapshots/, releases=fals
    e, snapshots=true),
    [ERROR] sakai-releases (http://source.sakaiproject.org/maven2/, releases=true, s
    napshots=false),
    [ERROR] sakai-snapshots (http://source.sakaiproject.org/maven2-snapshots, releas
    es=false, snapshots=true),
    [ERROR] java.net (http://download.java.net/maven/2, releases=true, snapshots=fal
    se),
    [ERROR] modularity-releases (http://m2.modularity.net.au/releases, releases=true
    , snapshots=false),
    [ERROR] modularity-snapshots (http://m2.modularity.net.au/snapshots, releases=fa
    lse, snapshots=true),
    [ERROR] OPS4J (http://repository.ops4j.org/maven2, releases=true, snapshots=fals
    e),
    [ERROR] sonatype (https://oss.sonatype.org/content/repositories/releases/, relea
    ses=true, snapshots=false),
    [ERROR] sonatype-nexus-snapshots (https://oss.sonatype.org/content/repositories/
    snapshots, releases=false, snapshots=true),
    [ERROR] central (http://repo.maven.apache.org/maven2, releases=true, snapshots=f
    alse)
    [ERROR] -> [Help 1]
    [ERROR]
    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit
    ch.
    [ERROR] Re-run Maven using the -X switch to enable full debug logging.
    [ERROR]
    [ERROR] For more information about the errors and possible solutions, please rea
    d the following articles:
    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionE
    xception
    [ERROR]
    [ERROR] After correcting the problems, you can resume the build with the command

    [ERROR]   mvn <goals> -rf :org.sakaiproject.nakamura.app 
```

然后我安装 org.sakaiproject.nakamura.ojdbc.jar 在文件夹 D:\sakai3\nakamura\contrib\oracle-jdbc 下使用此命令：

```
mvn deploy:deploy-file -DgroupId=org.sakaiproject.nakamura -DartifactId=org.sakaiproject.nakamura.ojdbc -Dversion=1.4.2 -Dpackaging=jar -Dfile=ojdbc6.jar -Durl=url -DrepositoryId=repositoryId
mvn install:install-file -DgroupId=org.sakaiproject.nakamura -DartifactI
        d=com.oracle-jdbc -Dversion=1.4.2 -Dpackaging=jar -Dfi
        le=ojdbc6.jar 
```

然后我得到一个新的错误：</p>

```
 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:
deploy-file (default-cli) on project org.sakaiproject.nakamura.ojdbc: No transfe
r protocol found. -> [Help 1] 
```

接下来我应该做什么???我已经搜索了很多网站，但我没有一个好主意。我不知道我错在哪里或我错过了什么？我是中国人。请原谅我蹩脚的英语。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-26T22:53:06.157

最好的办法是询问[Sakai OAE 开发人员名单](http://collab.sakaiproject.org/mailman/listinfo/oae-dev)。

但我相信问题和[我在这里回答](https://stackoverflow.com/questions/13116929/my-os-is-windows7i-want-to-build-the-developing-environment-of-sakai-oae)的一样。

# java - 磁盘上的 Java 目录大小？

> ID：13119323
> 
> 赞同：5
> 
> 时间：2012-10-29T09:58:56.610
> 
> 标签：java

我目前正在使用 apache-commons FileUtils.sizeOfDirectory(File file) 方法来获取目录的大小。我真正需要的是*磁盘上目录的大小，这是由 Unix 下的**du*实用程序显示的，只是为了清楚起见。

是否可以在 Java 中获取此信息？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T10:03:09.383

`du`通过递归整个目录树并添加它找到的所有文件的大小来查找此信息。（在将每个文件大小四舍五入到我认为的分配单元之后，它如何找出分配单元是我不知道的）。

您将必须这样做，或者生成一个外部`du`进程来为您执行此操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T11:56:42.330

您需要递归搜索文件夹树。

如果您使用的是 Java 7，它又好又快。

```
Files.walkFileTree(file.toPath(), new SimpleFileVisitor<Path>(){
    @Override
    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {
        size += attrs.size();
        return super.visitFile(file, attrs);
    }
 }); 
```

在 Java 6 中，您需要`File.listFiles()`递归使用并手动检查每个文件的大小。请注意，虽然这非常慢。因此，如果您正在查看大量文件，则可能值得找到一个产生外部命令的解决方案。

# ruby - Ruby rspec 测试命令：找不到 Gemfile

> ID：13119327
> 
> 赞同：1
> 
> 时间：2012-10-29T09:59:08.633
> 
> 标签：ruby, rspec, rubygems, rspec2

我刚刚在 Windows 7 上安装了 Ruby 1.9.3，还安装了 ruby​​gems。我正在尝试使用 rspec，所以我运行了： gem install rspec

它似乎运行良好，一切都安装好了。所以我继续尝试[这个](http://rspec.info/)页面上的例子。但是每当我运行 rspec 命令时，我都会收到以下错误消息：

“找不到 Gemfile”。

根据示例，我应该得到：“./bowling_spec.rb:4: uninitialized constant Bowling”

我用谷歌搜索了它，有人建议我尝试 bundle exec rspec 但它仍然产生了相同的结果。我也试过[这个](https://gist.github.com/1446944)页面上的建议，但它产生了相同的结果。我究竟做错了什么？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T11:39:35.500

使用此内容创建 Gemfile。Gemfile 可以没有扩展名或 .gem 扩展名

```
source 'https://rubygems.org'
gem 'rspec' 
```

所以你有了

```
app/
  Gemfile or Gemfile.gem
  spec/
    bowling_spec.rb 
```

此外，您可能需要在之后执行此命令

```
gem install bundler 
```

然后，在应用程序目录中

```
bundle install 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:47:08.647

gem install rspec 在与您的应用程序相同的目录中，并将 require 语句更改为 require './bowling.rb'

# asp.net-mvc - IE6-8 无法从 HTTPS 站点下载文件

> ID：13119340
> 
> 赞同：9
> 
> 时间：2012-10-29T10:00:00.683
> 
> 标签：asp.net-mvc, internet-explorer, https, mime-types

我有一个 MVC .Net 应用程序，它具有返回报告文件的操作，通常`.xslx`：

```
byte[] data = GetReport();
return File(data, 
    "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", 
    "filename.xlsx"); 
```

这在测试和所有浏览器中都非常有效，但是当我们将它放在 SSL 站点上时，它在 IE6、7 和 8（所有正确的浏览器仍然可以正常工作）上失败，并出现这个无益的错误：

![无法从服务器下载文件名。 无法打开此 Internet 站点。 请求的站点不可用或找不到。 请稍后再试。](../Images/ac10e0589e2764ed0e9e618f692b9a66.png)

这曾经在此操作替换的遗留应用程序（非 MVC）中工作。

我们不能告诉我们的用户在本地进行任何更改——大约 60% 的用户仍在使用 IE6！

如何使用 MVC 解决此问题？

## 更新

进一步挖掘表明，这是 IE6-8 中的根本性失败。根据[Eric Law 的 IE 内部博客](http://blogs.msdn.com/b/ieinternals/archive/2009/10/02/internet-explorer-cannot-download-over-https-when-no-cache.aspx)，这是因为在 SSL 连接期间，IE 将 no-cache 指令视为绝对规则。因此，与其不缓存副本，它认为无缓存意味着即使在 `Content-Disposition:attachment`明确提示下载位置时也不应该将副本保存到磁盘。

显然这是错误的，但是虽然它在 IE9 中得到了修复，但我们仍然坚持所有 IE6-8 用户。

使用 MVC 的操作过滤器属性会生成以下标头：

```
Cache-Control:no-cache, no-store, must-revalidate
Pragma:no-cache 
```

使用 Fiddler 动态更改这些，我们可以验证需要返回的标头：

```
Cache-Control:no-store, no-cache, must-revalidate 
```

请注意`Cache-Control` **must** have `no-store` *before的顺序，并且* **必须**完全删除`no-cache`该`Pragma`指令。

 **这是一个问题——我们广泛使用 MVC 的动作属性，我真的不想从头开始重写它们。即使我们可以在您尝试删除`Pragma`指令时 IIS 抛出异常。

如何让微软的 MVC 和 IIS 返回微软的 IE6-8 在 HTTPS 下可以处理的 no-cache 指令？我不想允许私有缓存响应（根据这个[类似的问题](https://stackoverflow.com/questions/9996353/internet-explorer-error-using-asp-mvc-4-0-fileresult)）或忽略带有覆盖的 MVC 内置方法（根据我自己的答案，这只是我目前最好的 hack）。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T13:00:33.853

我想出了一个解决方法，但它是一个明确的黑客 - 这是一个新的缓存属性来替换内置的`[OutputCache]`：

```
[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited = true, AllowMultiple = false)]
public sealed class IENoCacheAttribute : ActionFilterAttribute
{
    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        if (filterContext.HttpContext.Request.IsSecureConnection &&
            string.Equals(filterContext.HttpContext.Request.Browser.Browser, "IE", StringComparison.OrdinalIgnoreCase) &&
            filterContext.HttpContext.Request.Browser.MajorVersion < 9)
        {
            filterContext.HttpContext.Response.ClearHeaders();
            filterContext.HttpContext.Response.AddHeader("cache-control", "no-store, no-cache, must-revalidate");
        }
        else
        {
            filterContext.HttpContext.Response.Cache.SetNoStore();
            filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
            filterContext.HttpContext.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
        }

        base.OnResultExecuting(filterContext);
    }
} 
```

不过，这充其量只是一种解决方法——我真正想要的是扩展现有的`[OutputCache]`和`Response.Cache`结构，以便它们具有适合传统 IE 的所需输出。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-25T10:12:53.703

我有一个类似的方法，因为我有一个 BaseController 类

```
[OutputCache(Duration=0)]
public class BaseController : Controller
{
    //snip snip: some utility stuff and shared endpoints among all my controllers
} 
```

这导致了IE8中的上述问题。但是，应用`[IENoCacheAttribute]`如上所示的方法不起作用。问题是该指令`filterContext.HttpContext.Response.ClearHeaders()`删除了我的所有标题，包括最终`Content-Disposition`标题等......导致文件下载无法正确进行。

因此，我的方法是以这样一种方式覆盖默认值`OutputCacheAttribute.cs`，即在 IE 的情况下，它不会应用任何类型的缓存标头，尤其是有问题`no-cache`的标头。

```
public class EnhancedOutputCacheAttribute : OutputCacheAttribute
{

    public override void OnActionExecuted(ActionExecutedContext filterContext)
    {

        if (!IsFileResultAndOldIE(filterContext))
            base.OnActionExecuted(filterContext);
        else
        {
            //try the best to avoid any kind of caching
            filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.Private);
            filterContext.HttpContext.Response.Cache.SetMaxAge(new TimeSpan(0));
            filterContext.HttpContext.Response.Cache.SetExpires(DateTime.Now.AddMinutes(-5D));
        }
    }

    public override void OnActionExecuting(ActionExecutingContext filterContext)
    {
        if (!IsFileResultAndOldIE(filterContext))
            base.OnActionExecuting(filterContext);
    }

    public override void OnResultExecuted(ResultExecutedContext filterContext)
    {
        if (!IsFileResultAndOldIE(filterContext))
            base.OnResultExecuted(filterContext);
    }

    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        if (!IsFileResultAndOldIE(filterContext))
            base.OnResultExecuting(filterContext);
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="filterContext"></param>
    /// <returns><c>true</c> for FileResults and if the browser is < IE9</returns>
    private bool IsFileResultAndOldIE(dynamic filterContext)
    {
        return filterContext.Result is FileResult &&
               filterContext.HttpContext.Request.IsSecureConnection &&
               string.Equals(filterContext.HttpContext.Request.Browser.Browser, "IE", StringComparison.OrdinalIgnoreCase) &&
               filterContext.HttpContext.Request.Browser.MajorVersion < 9;
    }

} 
```

这是相应的要点：[https ://gist.github.com/4633225](https://gist.github.com/4633225)**

# algorithm - 计算从正方形中心到边缘的路径

> ID：13119349
> 
> 赞同：2
> 
> 时间：2012-10-29T10:00:39.417
> 
> 标签：algorithm, logic, permutation, combinations, combinatorics

假设我有一个大小为 (2n+1)x(2n+1) 的正方形，对于一些 n，即一个边长奇数的正方形。
从最中心的单元格开始，我有兴趣计算编号。到达任意边缘单元的方式（如下图所示）。
只允许不重叠的路径，即如果一个单元格已经被访问过，我们就不能重新访问它。

下图显示了一个边长为 9（n=4）的正方形和两条长度为 5 的可能路径。

![图片](../Images/6f47b6901139de530e5cc4c57ab83586.png)

我认为所有路径的长度范围都是：[n to (2n-1)^2+1 ]
计数没有。路径长度：
1 - 0
2 - 0
3 - 0
4 - 4
5 - 32
6 - ...？
但是随着路径长度的增加，我似乎无法解开所有的可能性。我知道对称性在这里起作用，但是有没有结构化的方法来计算所有路径？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-10T10:18:07.033

要查找从方板中心开始并在边界处结束的路径，您可以使用经过调整的 DFS（[深度优先搜索](http://en.wikipedia.org/wiki/Depth-first_search)），您将在其中存储已经访问过的图块，这样您就不会再踩到它们了。

董事会确实有很多对称性。您只需注意以下几点即可将搜索到的路径数除以 4：

*   从中心开始，你可以去**`U`p** , **`D`own** , **`L`eft** , **`R`ight**
*   所有开始走向**`U`p**的路径通过旋转生成所有其他以**`D`own**、**`L`eft**、**`R`ight开始的路径**

一旦你这样做了，你可以进一步注意到：

*   一旦你走了**`U`**，你就可以走了**`U`**，**`L`**或者**`R`**
*   你走时产生的所有路径都是镜像对称**`L`**时产生的相同路径。**`R`**

您可以重复几次，直到到达正方形的边界。从 go 开始的全部路径**`U`**将是：

*   **`U-U-U-U`**（一个路径）
*   2 次路径以**`U-U-U-L`**
*   2 次路径以**`U-U-L`**
*   2 次路径以**`U-L`**

一旦你计算了这些，你就可以乘以四得到全部的路径。

# sql-server-2008 - 使用 tsql 创建一个连续的时间线集

> ID：13119350
> 
> 赞同：3
> 
> 时间：2012-10-29T10:00:41.437
> 
> 标签：sql-server-2008, tsql

长期读者，第一次海报。希望一些 SQL 大师可以借给我一些处理能力来优雅地解决 SQL 问题，而无需游标。

我正在尝试从包含金钱和日期的数据集中创建时间线类型的结果集，其中它们出现的顺序很重要。请参阅下面的示例数据和期望。

```
DECLARE @OrderData TABLE(
      ID                      INT IDENTITY,
      ProductId               INT,
      WarehouseId             INT,
      Cost MONEY,
      SaleDate          DATETIME
) 
```

```
INSERT INTO @OrderData
VALUES
      (1, 1, 2.71, '2012-02-23 10:01')
      ,(1, 2, 2.71, '2012-02-23 10:02')
      ,(1, 1, 2.71, '2012-02-23 10:03')
      ,(1, 1, 2.71, '2012-02-23 10:04')
      ,(1, 1, 2.71, '2012-02-23 10:05')
      ,(1, 1, 2.8, '2012-02-23 10:06')
      ,(1, 1, 2.9, '2012-02-23 10:07')
      ,(1, 1, 2.71, '2012-02-23 10:08')
      ,(1, 1, 2.71, '2012-02-23 10:09') 
```

我正在寻找的结果是销售时间线，其中包含产品和仓库组合在其自己的销售集中的开始日期和结束日期。一旦数据集中的销售价格发生变化，这应该会在结果集中产生一个新行。

样本数据的结果结构。

```
Product, warehouse, minsale date, Max sale date
1,1,2.71, 2012-02-23 10.01, 2012-02-23 10.05
1,1,2.80, 2012-02-23 10.06, 2012-02-23 10.06
1,1,2.90, 2012-02-23 10.07, 2012-02-23 10.07
1,1,2.71, 2012-02-23 10.08, 2012-02-23 10.09
1,2,2.71, 2012-02-23 10.02, 2012-02-23 10.02 
```

为任何可用的帮助欢呼。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:06:34.573

这是一个“差距和孤岛”问题。

```
select ProductID, WarehouseId, cost, MIN(saledate), MAX(saledate) from
(      
    select *,
        ROW_NUMBER() over (order by saledate)-
        ROW_NUMBER() over (partition by cost order by saledate) grp
    from @OrderData
) v
group by ProductID, WarehouseId, grp, cost
order by WarehouseID, MIN(SaleDate) 
```

欲了解更多信息，请搜索“itzik ben-gan 的间隙和岛屿”

# iphone - 触摸移动图像

> ID：13119360
> 
> 赞同：0
> 
> 时间：2012-10-29T10:00:57.557
> 
> 标签：iphone, objective-c, ios, uiscrollview, uitouch

我有一个滚动视图，其中添加了固定数量的缩略图作为子视图。我想将这些图像沿触摸移动到另一个视图中的矩形。我能够沿着滚动视图（即沿着同一个视图）移动图像，但不能在另一个视图中移动。现在正在根据触摸位置更改图像的中心。当触摸点增加超出滚动视图的框架时，图像就会消失。这是我的问题

```
 - (void) touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
        UITouch *touch = [[event allTouches] anyObject];

        CGPoint location = [touch locationInView: self];
        NSLog(@"%f,%f",location.x,location.y);
        touch.view.center = location;

    } 
```

任何解决这个问题的方法对我都有很大的帮助！！！

请参考图片了解更多详情 ![在此处输入图像描述](../Images/320ef795f540b21379ceba4dd43e1f63.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:40:00.773

这是我要做的：

为每个图像添加一个 panGestureRecognizer，使用以下`handlePan:`方法作为其操作。您仍然需要弄清楚如何获得正确的 imageView ( `myImageView`)，但这会使您的图像跟随您的手指。

```
- (IBAction)handlePan:(UIPanGestureRecognizer *)recognizer {

    // Find the correct image you're dragging
    // UIImageView *myImageview = ...

    CGPoint translation = [recognizer translationInView:self.view];

    if (recognizer.state == UIGestureRecognizerStateEnded) {
        // What to do when you start the gesture
        // You may also define myImageView here
        // (if so, make sure you put it in @interface,
        // because this method will be called multiple times,
        // but you will enter this "if" only when you start the touch)
    }

    // Keep your image in the screen
    if (myImageView.frame.origin.x + translation.x >= 0.0f &&
        myImageView.frame.origin.x + myImageView.frame.size.width + translation.x <= 320.0f &&
        myImageView.frame.origin.y + translation.y >= 0.0f &&
        myImageView.frame.origin.y + myImageView.frame.size.height + translation.y <= 480.0f) {

        myImageView.center = CGPointMake(myImageView.center.x + translation.x, 
                                         myImageView.center.y + translation.y);

    }

    if (recognizer.state == UIGestureRecognizerStateEnded) {
        // What to do when you remove your finger from the screen
    }

    [recognizer setTranslation:CGPointMake(0, 0) inView:self.view];
} 
```

# c# - DataGridViewComboBoxColumn 值更改不会将 RowState 更改为已修改

> ID：13119362
> 
> 赞同：0
> 
> 时间：2012-10-29T10:01:08.077
> 
> 标签：c#, datagridview, rowstate

我在我的 datagridview 中添加了一个查找组合框。对现有行的任何更改或添加新行都会将保存时 RowState 中的值更改为已修改或已添加。除了更改组合框中的值。保存时，RowState 保持不变。

我用来添加组合框的代码是。

```
 DataGridViewComboBoxColumn cbQualification = new DataGridViewComboBoxColumn();
            cbQualification.HeaderText = "Course Code";
            DataSet  myDataSet = GetData.GetCoursesData();
            cbQualification.DataSource = myDataSet.Tables[0];
            cbQualification.DisplayMember = "Code";
            cbQualification.ValueMember = "ID";
            cbQualification.DataPropertyName = "QualID";
            grdPersonQuals.Columns.Insert (1,cbQualification); 
```

保存事件使用代码。

```
 grdPersonQuals.BindingContext[grdPersonQuals.DataSource, grdPersonQuals.DataMember].EndCurrentEdit();
            foreach (DataRow row in dsPersonQuals.Tables[0].Rows)
            {
                object x = row.RowState;
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T13:18:35.567

我猜点击保存按钮时焦点仍然在您的组合框列中？我一直调用 DataGridView 的 EndEdit 方法来触发更新数据源。

所以在你的保存按钮事件中

```
grdPersonQuals.EndEdit(); 
```

您在绑定上下文中调用它，但我相信您需要在网格本身上调用它，以便将网格中的更改推送到它的数据源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T11:21:57.197

如果未修改，您可以设置行状态

```
 foreach (DataRow row in dsPersonQuals.Tables[0].Rows)
        {
            row.SetAdded(); // or row.SetModified();
            object x = row.RowState;
        } 
```

# node.js - HBase 行内扫描

> ID：13119369
> 
> 赞同：0
> 
> 时间：2012-10-29T10:01:49.443
> 
> 标签：node.js, rest, hbase

我正在尝试通过 HBase REST API 查找有关行内扫描的一些信息。但是，我很难根据文档看到它是如何完成的，我想知道是否有人从 REST 接口使用此功能？

参考

*   [http://hadoop-hbase.blogspot.jp/2012/01/hbase-intra-row-scanning.html](http://hadoop-hbase.blogspot.jp/2012/01/hbase-intra-row-scanning.html)
*   [http://wiki.apache.org/hadoop/Hbase/Stargate](http://wiki.apache.org/hadoop/Hbase/Stargate)

更具体地说，我正在研究如何从 Node.js 应用程序中执行此操作。

编辑：

我发现了这个，但我很难看到行内扫描是如何可能的......

[HBase REST 过滤器 ( SingleColumnValueFilter )](https://stackoverflow.com/questions/9302097/hbase-rest-filter-singlecolumnvaluefilter)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:03:35.483

我仍然需要对此进行进一步测试，但我已经编写了一个文档，其中根据 HBase REST 过滤器问题提供了一些字符串化过滤器的示例。

基本上，据我所知，可以使用 FilterList 并在 JSON 数组中堆叠多个过滤器。

更多详情：[https ://gist.github.com/3979381](https://gist.github.com/3979381)

仍然必须尝试，但似乎这应该有效。一旦我通过 REST API 尝试过，就会更新。

# android - 使用 Fragments 实现 Tab 的概率

> ID：13119370
> 
> 赞同：0
> 
> 时间：2012-10-29T10:01:56.433
> 
> 标签：android, tabs, android-fragments, fragment

> **可能重复：**
> [Android SDK 片段支持](https://stackoverflow.com/questions/8867134/android-sdk-fragment-support)

我尝试使用**FragmentActivity**使用选项卡式视图。在为 Android 2.3 开发时，我使用了 android-support-v4.jar 来获取 Fragment 相关的类。我遵循了Android 开发人员指南中[TabActivity中描述的代码。](http://developer.android.com/reference/android/app/TabActivity.html)但是我在**TabManager**中使用标签的代码面临问题。

```
mTabManager.addTab(mTabHost.newTabSpec("simple").setIndicator("Simple"),
                FragmentStackSupport.CountingFragment.class, null);
        mTabManager.addTab(mTabHost.newTabSpec("contacts").setIndicator("Contacts"),
                LoaderCursorSupport.CursorLoaderListFragment.class, null);
        mTabManager.addTab(mTabHost.newTabSpec("custom").setIndicator("Custom"),
                LoaderCustomSupport.AppListFragment.class, null);
        mTabManager.addTab(mTabHost.newTabSpec("throttle").setIndicator("Throttle"),
                LoaderThrottleSupport.ThrottledLoaderListFragment.class, null); 
```

**FragmentStackSupport**、**LoaderCursorSupport**、**LoaderCustomSupport**、**LoaderThrottleSupport**的类均不可导入。问题出在哪里？我只想设置带有文本或图像标题的简单选项卡。如何实施？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T12:45:30.880

谢谢你，kgiannakakis。这是解决方案：

[Android SDK 片段支持](https://stackoverflow.com/questions/8867134/android-sdk-fragment-support)。

以下这些类不是标准 Android API（或支持库）的一部分，但仅存在于支持演示示例代码中，用于演示目的。任何人都可以在 X:\Program Files\Android\android-sdk\extras\android\support\samples\Support4Demos\src\com\example\android\supportv4\app 中获取文件。

# android - 使用 asmack（或任何替代方法）发送文件

> ID：13119371
> 
> 赞同：0
> 
> 时间：2012-10-29T10:01:57.837
> 
> 标签：android, xmpp, asmack

我正在尝试`asmack`使用以下内容发送文件：

```
// mConn is an XMPPConnection
FileTransferManager  manager = new FileTransferManager(mConn);
OutgoingFileTransfer transfer = manager.createOutgoingFileTransfer("operator@domain.corp");
transfer.sendFile(new File(fname), "File for the operator"); 
```

我没有收到任何异常，但在 smack 日志中我可以看到

```
<error type="cancel" code="501"><feature-not-implemented... 
```

有谁知道问题的根源是什么？

好久`asmack`没更新了，有没有什么可以替代的呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-31T16:13:10.370

我终于想通了。代替

```
OutgoingFileTransfer transfer = manager.createOutgoingFileTransfer("operator@domain.corp"); 
```

现在我用

```
String to = mConn.getRoster().getPresence("operator@domain.corp").getFrom();
OutgoingFileTransfer transfer = manager.createOutgoingFileTransfer(to); 
```

它就是这样工作的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T11:33:02.107

您必须初始化以下内容。

```
pm.addIQProvider("si", "http://jabber.org/protocol/si",
            new StreamInitiationProvider());

pm.addIQProvider("query", "http://jabber.org/protocol/bytestreams",
            new BytestreamsProvider()); 
```

通常我们调用以下方法来初始化提供程序。

```
public void configure(ProviderManager pm) {

    // Private Data Storage
    pm.addIQProvider("query", "jabber:iq:private",
            new PrivateDataManager.PrivateDataIQProvider());

    // Time
    try {
        pm.addIQProvider("query", "jabber:iq:time",
                    Class.forName("org.jivesoftware.smackx.packet.Time"));
    } catch (ClassNotFoundException e) {
        Log.w("TestClient",
                "Can't load class for org.jivesoftware.smackx.packet.Time");
    }

    // Roster Exchange
    pm.addExtensionProvider("x", "jabber:x:roster",
            new RosterExchangeProvider());

    // Message Events
    pm.addExtensionProvider("x", "jabber:x:event",
            new MessageEventProvider());

    // Chat State
    pm.addExtensionProvider("active",
            "http://jabber.org/protocol/chatstates",
            new ChatStateExtension.Provider());
    pm.addExtensionProvider("composing",
            "http://jabber.org/protocol/chatstates",
            new ChatStateExtension.Provider());
    pm.addExtensionProvider("paused",
            "http://jabber.org/protocol/chatstates",
            new ChatStateExtension.Provider());
    pm.addExtensionProvider("inactive",
            "http://jabber.org/protocol/chatstates",
            new ChatStateExtension.Provider());
    pm.addExtensionProvider("gone",
            "http://jabber.org/protocol/chatstates",
            new ChatStateExtension.Provider());

    // XHTML
    pm.addExtensionProvider("html", "http://jabber.org/protocol/xhtml-im",
            new XHTMLExtensionProvider());

    // Group Chat Invitations
    pm.addExtensionProvider("x", "jabber:x:conference",
            new GroupChatInvitation.Provider());

    // Service Discovery # Items
    pm.addIQProvider("query", "http://jabber.org/protocol/disco#items",
            new DiscoverItemsProvider());

    // Service Discovery # Info
    pm.addIQProvider("query", "http://jabber.org/protocol/disco#info",
            new DiscoverInfoProvider());

    // Data Forms
    pm.addExtensionProvider("x", "jabber:x:data", new DataFormProvider());

    // MUC User
    pm.addExtensionProvider("x", "http://jabber.org/protocol/muc#user",
            new MUCUserProvider());

    // MUC Admin
    pm.addIQProvider("query", "http://jabber.org/protocol/muc#admin",
            new MUCAdminProvider());

    // MUC Owner
    pm.addIQProvider("query", "http://jabber.org/protocol/muc#owner",
            new MUCOwnerProvider());

    // Delayed Delivery
    pm.addExtensionProvider("x", "jabber:x:delay",
            new DelayInformationProvider());

    // Version
    try {
        pm.addIQProvider("query", "jabber:iq:version",
                Class.forName("org.jivesoftware.smackx.packet.Version"));
    } catch (ClassNotFoundException e) {
        // Not sure what's happening here.
    }

    // VCard
    pm.addIQProvider("vCard", "vcard-temp", new VCardProvider());

    // Offline Message Requests
    pm.addIQProvider("offline", "http://jabber.org/protocol/offline",
            new OfflineMessageRequest.Provider());

    // Offline Message Indicator
    pm.addExtensionProvider("offline",
            "http://jabber.org/protocol/offline",
            new OfflineMessageInfo.Provider());

    // Last Activity
    pm.addIQProvider("query", "jabber:iq:last", new LastActivity.Provider());

    // User Search
    pm.addIQProvider("query", "jabber:iq:search", new UserSearch.Provider());

    // SharedGroupsInfo
    pm.addIQProvider("sharedgroup",
            "http://www.jivesoftware.org/protocol/sharedgroup",
            new SharedGroupsInfo.Provider());

    // JEP-33: Extended Stanza Addressing
    pm.addExtensionProvider("addresses",
            "http://jabber.org/protocol/address",
            new MultipleAddressesProvider());

    // FileTransfer
    pm.addIQProvider("si", "http://jabber.org/protocol/si",
            new StreamInitiationProvider());

    pm.addIQProvider("query", "http://jabber.org/protocol/bytestreams",
            new BytestreamsProvider());

    // Privacy
    pm.addIQProvider("query", "jabber:iq:privacy", new PrivacyProvider());
    pm.addIQProvider("command", "http://jabber.org/protocol/commands",
            new AdHocCommandDataProvider());
    pm.addExtensionProvider("malformed-action",
            "http://jabber.org/protocol/commands",
            new AdHocCommandDataProvider.MalformedActionError());
    pm.addExtensionProvider("bad-locale",
            "http://jabber.org/protocol/commands",
            new AdHocCommandDataProvider.BadLocaleError());
    pm.addExtensionProvider("bad-payload",
            "http://jabber.org/protocol/commands",
            new AdHocCommandDataProvider.BadPayloadError());
    pm.addExtensionProvider("bad-sessionid",
            "http://jabber.org/protocol/commands",
            new AdHocCommandDataProvider.BadSessionIDError());
    pm.addExtensionProvider("session-expired",
            "http://jabber.org/protocol/commands",
            new AdHocCommandDataProvider.SessionExpiredError());
} 
```

将此方法称为

> 配置（ProviderManager.getInstance（））；

在创建 XMPPConnection 之前。如需进一步参考，请使用此链接。

[http://www.igniterealtime.org/builds/smack/docs/latest/documentation/extensions/index.html](http://www.igniterealtime.org/builds/smack/docs/latest/documentation/extensions/index.html)

# debugging - 我可以通过 USB 在 Window RT 平板电脑上调试/部署我的应用程序吗？

> ID：13119373
> 
> 赞同：3
> 
> 时间：2012-10-29T10:02:02.560
> 
> 标签：debugging, usb, windows-runtime

我知道我可以通过 wifi 远程调试我的 winRT 应用程序，但是否可以通过 USB 调试/部署应用程序？我在问这个，因为 USB 会比 wifi 替代品更快。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T10:53:04.880

这可以通过 USB 到 USB（易传输电缆）实现。电缆只是模拟网络连接，因此它可以像 wifi 一样工作。

您需要确保驱动程序与 arm 设备兼容，但它们应该兼容。[此设备由 Microsoft](http://www.microsoftstore.com/store/msstore/en_US/pd/ThemeID.27509700/Easy-Transfer-Cable-for-Windows-8/productID.256540700)为 Windows 8 制造，因此应该可以工作：

# css - CSS3 calc() 不适用于固定/绝对位置

> ID：13119377
> 
> 赞同：4
> 
> 时间：2012-10-29T10:02:12.730
> 
> 标签：css, css-position

有谁知道这个的解决方法？

我正在尝试计算 div 的宽度：

```
#container {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9;
    display: none;
    background: #fff;
    width: calc(100% - 1em);
    padding: .5em;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T12:59:25.850

编辑2：

这是 Webkit 浏览器的版本（如评论中所要求的），使用最新版本的 Chrome 进行测试，并且完全适合我：http: [//jsfiddle.net/HvVst/1/](http://jsfiddle.net/HvVst/1/)

`-webkit-calc()`代替`calc()`. _

* * *

编辑：然后您必须将 1px 边框减去 0.5em 填充，如下所示：http: [//jsfiddle.net/HvVst/](http://jsfiddle.net/HvVst/)

HTML：

```
<div id="banner">
   FIXED HEADER
</div>
<div id="main">
    normal div
    <br/>
    Sample Text 1
    <br/>
    Sample Text 2
    <br/>
    Sample Text 3
    <br/>
    Sample Text 4
    <br/>
    Sample Text 5
    <br/>
    Sample Text 6
    <br/>
    Sample Text 7
    <br/>
    Sample Text 8
</div> 
```

CSS：

```
#banner{
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9;
    background: #fff;
    width: calc(100% - 1em);
    padding: calc(0.5em - 1px); /* <-- THIS ONE !!*/
    border: 1px solid red;
    height: 50px;
}

#main{
    margin-top: calc(50px + 1em);
    border: 1px solid blue;
    height: 500px;
} 
```

* * *

它适用于固定/绝对位置，但是（如果没有为绝对指定相对父级，并且始终为固定）它指的是窗口宽度，而不是容器宽度。

(100% - 1em) = 100% 的窗口，不包括滚动条...

你想达到什么目的？

如果您想在父级边界中定位绝对位置，请将父级设置为 position:relative...

# nhibernate - 如何在 Nhibernate.Search 中添加数字字段？

> ID：13119385
> 
> 赞同：3
> 
> 时间：2012-10-29T10:03:06.197
> 
> 标签：nhibernate, lucene.net, nhibernate.search

我最近假设 Nhibernate.Search 会将我的类上的整数属性索引为数字字段。

```
[Indexed]
public class Location : Entity
{
    [IndexedEmbedded(Depth = 1, Prefix = "Country_")]
    public virtual Country Country { get; set; }
    [Field(Index.Tokenized)]
    public virtual string Name { get; set; }
    [Field(Index.Tokenized)]
    public virtual string AlternativeNames { get; set; }
    [Field(Index.Tokenized)]
    public virtual string OriginalNames { get; set; }
    [Field(Index.UnTokenized)]
    public virtual string LocationType { get; set; }
    [Field()]
    public virtual int? Population   { get; set; }
} 
```

但是当我像这样为查询设置排序时：

```
 var words = query.Split(' ');

        var luceneQuery = string.Join(" AND ", words.Select(x => "Name:{0}*".F(x)));
        luceneQuery += " AND LocationType:locality";
        var results = search.CreateFullTextQuery<Location>(luceneQuery)
           .SetSort(new Sort(new SortField("Population", CultureInfo.CurrentCulture, true)))
            .SetMaxResults(100)
            .List<Location>(); 
```

它返回按数字排序的结果，其样式与这样的单词排序相同：

```
City       Country          Region          Population
New London     United States    North America   998
Nueva Londres  Paraguay         South America   971
New London     United States    North America   967
Londonderry    United Kingdom   British Islands 92133
London     Kiribati         Micronesia  921
London     United States    North America   8122
London     United Kingdom   British Islands 7869322
New London     United States    North America   7316 
```

所以我的问题是，由于 Nhibernate.Search 将其视为文本字段，我如何将其更改为数字字段，是否可以转换或者我必须重新索引每条记录。其中 340K。

我开始感觉到 Nhibernate 的便利性。如果不能做到这一点，搜索就会丢失。也许我将不得不重新开始并使用普通的 Lucene.Net？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T12:52:41.807

**更新**

可能有用的链接：

*   [使用 NHibernate 进行复杂的搜索/查询](http://ayende.com/blog/1900/complex-searching-querying-with-nhibernate)- 这不是完成您所追求的吗？所描述的示例允许通过各种数值和范围进行搜索。
*   [NHibernate.Search 快速入门教程](http://jwbs-blog.blogspot.com/2009/03/quickstart-guide-for-nhibernatesearch.html)
*   [http://linqtolucene.codeplex.com/](http://linqtolucene.codeplex.com/)
*   [Lucene 休眠搜索 NumericRangeQuery<Float> 不适用于使用 @NumericField 定义的字段](https://stackoverflow.com/questions/11225552/lucene-hibernate-search-numericrangequeryfloat-not-working-on-field-defined-wi)
*   [NHibernate 文档的最佳位置？](https://stackoverflow.com/questions/135776/best-place-for-nhibernate-documentation)
*   [Hibernate Search：Apache Lucene™ 集成参考指南](http://docs.jboss.org/hibernate/search/4.1/reference/en-US/html_single/)
    *   [5.1.2.5。范围查询](http://docs.jboss.org/hibernate/search/4.1/reference/en-US/html_single/#d0e5179)
    *   [4.1.1.3。@NumericField](http://docs.jboss.org/hibernate/search/3.3/reference/en-US/html_single/#numeric-field-annotation)

* * *

我认为您关于数字和范围搜索的问题都在这里得到解决：http://find.searchhub.org/link?url=http: [//wiki.apache.org/lucene-java/SearchNumericalFields](http://find.searchhub.org/link?url=http://wiki.apache.org/lucene-java/SearchNumericalFields)

> 因为 Apache Lucene 是一个全文搜索引擎而不是传统的数据库，它不能处理数值范围（例如，字段值在用户定义的范围内，甚至日期也是数值）。我们开发了 Apache Lucene 的扩展，它以一种特殊的字符串编码格式存储数值，具有可变精度（称为 trie，所有数值，如双精度、长整数、日期、浮点数和整数）都转换为字典排序的字符串表示形式并索引具有不同的精度）。
> 
> ...
> 
> 数字字段可以排序（一个特殊的解析器包含在[FieldCache](http://lucene.apache.org/core/old_versioned_docs/versions/3_0_1/api/core/org/apache/lucene/search/class-use/FieldCache.IntParser.html)中）并用于函数查询（通过[FieldCache](http://lucene.apache.org/core/old_versioned_docs/versions/3_0_1/api/core/org/apache/lucene/search/class-use/FieldCache.IntParser.html)）

我还`LongClass.java`通过[Range 搜索数字](http://find.searchhub.org/document/c6f73b8c7b407eb3#58e679b347b8b48e)找到了一个实现：

> 我实现了一个“LongField”，它将任何 +ve 或 -ve long 编码为正确排序的字符串。我在这里发布了该课程：http: [//www.mail-archive.com/lucene-dev@jakarta.apache.org/msg04790.html](http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg04790.html)
> 
> 从那里开始进行字符串范围搜索应​​该是相当直接的。如果您有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T14:44:45.917

我知道这是针对 hibernate.search 而不是针对 NHibernate.search，但是您可以在列上指定 [NumericField] 吗？（因为所有其他的都类似 ;-)

[http://docs.jboss.org/hibernate/search/3.3/reference/en-US/html_single/#basic-mapping](http://docs.jboss.org/hibernate/search/3.3/reference/en-US/html_single/#basic-mapping) (4.1.1.3.@NumericField)

# iphone - 没有使用 MPMoviePlayerController 播放音频

> ID：13119388
> 
> 赞同：0
> 
> 时间：2012-10-29T10:03:08.753
> 
> 标签：iphone, objective-c, ios, cocoa-touch, mpmovieplayercontroller

我一直在使用 MPMoviePlayerController 播放 mp4 文件。视频播放正常，但根本没有音频。我已经先下载了一个功能并使用另一个功能播放。请检查下面的代码。我在这里做错什么了吗...

```
- (void) download_file : (NSString *) msg_url
{
    if (msg_url != nil) {

        // Download and play
        NSURL  *url = [NSURL URLWithString:msg_url];
        NSData *urlData = [NSData dataWithContentsOfURL:url];
        if ( urlData )
        {
            char file_path[512] = {0};
            get_app_data_path(OFI_VC_MAILBOX_PATH, file_path); // Give document path.

            NSString  *filePath = [NSString stringWithFormat:@"%s/%@", file_path,@"mailbox.mp4"];
            [urlData writeToFile:filePath atomically:YES];

            [self performSelectorOnMainThread:@selector(play_mp4_file:) withObject:filePath waitUntilDone:NO];
        }
    }
}

- (void) play_mp4_file : (NSString *) filepath
{
    if (is_same_view == true) {
        [self.view setUserInteractionEnabled:YES];
        if (filepath != nil) {

            NSURL *file_url = [NSURL fileURLWithPath:filepath];
            moviePlayer =  [[MPMoviePlayerController alloc]
                            initWithContentURL:file_url];

            moviePlayer.controlStyle = MPMovieControlStyleDefault;
            moviePlayer.shouldAutoplay = YES;
            moviePlayer.useApplicationAudioSession = YES;
            [self.view addSubview:moviePlayer.view];
            [moviePlayer setFullscreen:YES animated:YES];
        }
    }
} 
```

感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:26:15.063

我已经解决了这个问题。问题在于 .mp4 扩展名，我使用了 .mov。它现在正在播放音频。

# postgresql - postgresql 无法连接到服务器

> ID：13119392
> 
> 赞同：3
> 
> 时间：2012-10-29T10:03:27.430
> 
> 标签：postgresql, ubuntu, ubuntu-12.04

我一直在尝试建立一个主要用于测试目的的 VPS，但我现在已经在这个看似愚蠢的问题上浪费了很多时间，我唯一能做的就是求助于社区的共享知识来尝试解决它。

场景：全新 VPS Ubuntu（现在是 Ubunut）12.04 安装。更新和升级。

我要做的第一件事是创建一个具有 sudo 功能的新用户，使用该用户登录并开始工作。我输入命令：

```
sudo apt-get install postgresql
sudo su - postgres
psql -d postgres -U postgres 
```

现在我得到了

```
psql: could not connect to server: No such file or directory
Is the server running locally and accepting
connections on Unix domain socket "/var/run/postgresql/.s.PGSQL.5432"? 
```

我不是 Linux 向导，但我在设置 Rails/PG 环境方面有很好的经验，我在本地机器上做过很多次，在 VPS 机器上也做过几次。现在，我就是不明白到底发生了什么。

有什么建议吗？

# c# - A 不能转换为 B 异常

> ID：13119398
> 
> 赞同：1
> 
> 时间：2012-10-29T10:03:52.767
> 
> 标签：c#, casting

我的项目中有一段代码，在某些情况下，它可以在 IIS 工作进程（在 HttpHandler 内部）中运行，也可以由单独的 Windows 服务运行。我编写了一个引用程序集（DataVisualisation.dll），网站组件和 Windows 服务都使用它，并且网站和服务都有自己的 DLL 副本。

> `[A]DataVisualisation.ReportingTimePeriod cannot be cast to [B]DataVisualisation.ReportingTimePeriod. Type A originates from 'DataVisualisation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' in the context 'LoadNeither' at location 'C:\[project]\Actions\DataVisualisation.dll'. Type B originates from 'DataVisualisation, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' in the context 'Default' at location 'c:\[project]\LCFW\lcscheduler\bin\Debug\DataVisualisation.dll'.`

提供此功能的代码很简单：

```
ReportingTimePeriod rp = (ReportingTimePeriod)resultFromAnotherFunction; 
```

有趣的是，它在网站中运行时有效，但在 Windows 服务中无效。我无法弄清楚，我不确定提供什么信息来帮助其他人弄清楚。我本来希望网站和服务使用他们自己的 DataVisualisation.dll 副本，因此相对独立。不知何故，不同的进程似乎知道另一个 DLL。

强命名将是我的第一个调用端口，可能会在 GAC 中安装 DLL，但不幸的是 DataVisualisation.dll 引用了几个我无法控制的 DLL，它们没有被强命名/签名。

还有其他选择吗？我接近使用反射来查看我需要的属性是否存在并以这种方式访问​​它们，但如果我可以避免它，我宁愿不这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:24:46.723

我认为您的问题是您在每个项目中都重复了 DataVisualisation 代码？

即SolutionA 位于C:\SolutionA 中，其中包含Website 和DataVisualisation 文件夹和代码。SolutionB 位于 C:\SolutionB 中，Service 和 DataVisualisation 文件夹和代码位于其下。即使 DataVisualisation 代码在 2 个解决方案中是相同的，实际的项目 guid 也会有所不同......

我唯一能想到的另一件事是，您在服务中的引用可能是旧版本的 DataVisualisation 类。而是确保两个解决方案都引用同一个项目（文件夹）。

# html - 当您在它们链接的页面上时不执行任何操作的 HTML 链接

> ID：13119401
> 
> 赞同：3
> 
> 时间：2012-10-29T10:04:03.547
> 
> 标签：html, hyperlink, webpage

我目前正在构建一个网站，其中包含许多指向我网站不同部分的链接（也称为导航）。让我们将这些链接及其对应的页面称为**link1、page1**、**link2、page2**、**link3、page3**等。

他们的通用代码是这样的：

```
<a href="/page1.html">Link1</a>

<a href="/page2.html">Link2</a>

<a href="/page3.html">Link3</a> 
```

我希望用户单击每个链接以移动到相应的网页，并且它按预期工作。问题是当用户与他们单击的链接位于同一页面时，我希望链接不执行任何操作（这意味着它只会重新加载页面）。让我通过一个例子来说明这一点：

当前使用：用户在**page1**上。用户点击**link1**。浏览器将重新加载**page1**。
预期用途：用户在**page1**上。用户点击**link1**。浏览器什么也不做。

TL;DR 本质上，我正在寻找一个 if 子句。我读过 HTML 中没有 if 子句，仅仅是因为它是一种标记语言，但是实现它的另一种方法是什么？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:52:46.673

在咀嚼 SO 之后，我发现不需要使用 JQuery 或 JS 的最佳答案是这个，由 Matt Crinklaw-Vogt 做出的回答：

添加 /#!。这将防止滚动到顶部，也将防止页面重新加载。代码：

```
<a href="/page1.html/#!">Link1</a> 
```

原答案：

> [单击触发 JavaScript 的链接时，如何阻止网页滚动到顶部？](https://stackoverflow.com/questions/1601933/how-do-i-stop-a-web-page-from-scrolling-to-the-top-when-a-link-is-clicked-that-t/11246131#11246131)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:06:36.117

我不确定我是否喜欢它，但您可以使用空书签来执行此操作...

```
<a href="/page1.html#">Link1</a> 
```

如果您不在 page1 上，它将加载 page1，但是一旦您到达那里，它就不会做任何事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:06:52.310

```
<a href="#">Link2</a> 
```

或者

```
 <a onclick = "return false;">Link2</a> 
```

这抵消了**负载**。

在页面加载时，您可以按如下方式使用 JS

```
<a href="/page1.html" id="link1">Link1</a> 
```

**JS**：

```
document.getElementById("link1").setAttribute("href", "#"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T15:30:28.960

您可以使用 javascript 将当前 url 与锚链接进行比较，如果它们相同，则阻止默认单击事件。使用 jquery：

```
var url = window.location.pathname,
urlRegExp = new RegExp(url.replace(/\/$/,'') + "$");
$('a').each(function(){
    if(urlRegExp.test(this.href.replace(/\/$/,''))) {
        $(this).click(function(event) {
            event.preventDefault();
        });
    }
}); 
```

# node.js - 在AngularJS中过滤无限滚动的页面

> ID：13119402
> 
> 赞同：5
> 
> 时间：2012-10-29T10:04:04.840
> 
> 标签：node.js, google-chrome, angularjs, express

我在 AngularJS + Node.js 应用程序上实现了无限滚动功能。

它基于这个 JSfiddle 并且工作方式相同：http: [//jsfiddle.net/vojtajina/U7Bz9/](http://jsfiddle.net/vojtajina/U7Bz9/) HTML：

```
<div id="fixed" when-scrolled="loadMore()">
  <ul>
   <li ng-repeat="i in items">{{i.id}}</li>
  </ul>  
</div>​ 
```

Javascript：

```
function Main($scope) {
  $scope.items = [];

  var counter = 0;
   $scope.loadMore = function() {
     for (var i = 0; i < 5; i++) {
        $scope.items.push({id: counter});
        counter += 10;
     }
   };

  $scope.loadMore();
}

angular.module('scroll', []).directive('whenScrolled', function() {
  return function(scope, elm, attr) {
    var raw = elm[0];

    elm.bind('scroll', function() {
        if (raw.scrollTop + raw.offsetHeight >= raw.scrollHeight) {
            scope.$apply(attr.whenScrolled);
        }
    });
  };
}); 
```

​</p>

我实现无限滚动的原因是为了节省我的用户带宽，除非用户想查看所有结果，否则不加载所有 1000 个结果及其相应的图像。

但是，当使用 AngularJS 过滤器在结果中搜索时，我遇到了问题，因为当然不是所有的结果都在那里（除非用户滚动到最底部），所以搜索只会返回所需结果的一小部分。

然后我删除了无限滚动功能以使搜索功能正常工作，但这在我打开页面时在 chrome 上（不是在 Firefox 上）提供了新问题，浏览器开始从顶部加载图像。如果我然后通过搜索以“z”开头的内容（在结果的最底部）来过滤结果，Firefox 会切换焦点并首先加载以“z”开头的结果（因为它们是唯一显示的结果）。然而，chrome 会继续通过列表加载，因此一旦加载了应用程序中的所有图像，用户只会看到他们的搜索结果（对于“z”）。

我正在寻找一种方法让 angular 同时在结果上提供无限滚动和适当的搜索过滤器。如果这是不可能的，那么一种让chrome首先加载可见图像的方法。

我目前正在尝试一些奇怪的东西，在范围内有一堆不同的数组，但到目前为止我还没有运气。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2016-02-09T13:40:46.157

由于这里有几个人有类似的问题并且我自己也在苦苦挣扎，所以我花时间创建了一个有效的小提琴（对于我的情况）。

[https://jsfiddle.net/lisapfisterer/Lu4sbxps/](https://jsfiddle.net/lisapfisterer/Lu4sbxps/)

主要思想是使用无限滚动的函数调用**动态扩展limitTo值**

```
<div infinite-scroll="loadMore()" infinite-scroll-distance="20">
    <tr data-ng-repeat="logEvent in logEventFilter = (logEvents | filter:searchTerm | limitTo:numberToDisplay) track by $index">
        <td> {{$index}} </td>
        <td> {{logEvent.name}} </td>
        <td> {{numberToDisplay}} </td>
    </tr>
</div> 
```

loadMore 只是增加了限制

```
$scope.loadMore = function() {
    if ($scope.numberToDisplay + 5 < $scope.logEvents.length) {
        $scope.numberToDisplay += 5;
    } else {
        $scope.numberToDisplay = $scope.logEvents.length;
    }
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T13:51:42.833

你想做的不是“不可能”，但肯定会有点复杂。

*   让您的服务器执行所有“过滤”以确保返回的分页值是过滤器的正确值。
*   当服务器返回结果时，将*除图像标签的 src 属性之外的*所有 HTML 渲染到屏幕上。这样，任何图像都不会开始加载。
*   滚动到正确的“页面”。
*   确保加载图像之前的所有高度都相同，现在做一些 JS 魔术来确定哪些是可见的。
*   仅设置可见图像的 src 属性，订阅它们的“加载”事件并创建一个 $q 承诺，一旦所有加载完成，该承诺就完成。
*   在该承诺完成后，设置其余图像 src 属性，以便加载其余图像。

# intellij-idea - 带有标记的 Intellij IDEA 插件

> ID：13119411
> 
> 赞同：1
> 
> 时间：2012-10-29T10:05:03.443
> 
> 标签：intellij-idea

我们使用框架，其中某些类有 xml 配置文件。我想编写插件，在字段声明附近添加图标（在 Eclipse 中，图标称为标记）。单击此图标时，用户导航到该字段的 xml 配置。这类似于带有 xml 配置的 spring 或 hibernate 插件。如何添加该标记？是否有一些做类似事情的开源插件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T21:18:25.453

如果还没有，请[从 GitHub 获取](https://github.com/JetBrains/intellij-community)IntelliJ IDEA 社区版源代码。

请参阅`com.intellij.navigation.GotoRelatedProvider`，示例实现可以在 中找到`com.theoryinpractice.testng.TestNGRelatedFilesProvider`。

# opencv - 从 OpenCV 中的 cv::Mat 对象中减去一个固定值

> ID：13119414
> 
> 赞同：0
> 
> 时间：2012-10-29T10:05:13.403
> 
> 标签：opencv, matrix

我对 OpenCV 相当陌生，并且一点一点地理解它。我知道`cv::Mat`类中的矩阵运算符已被重载以执行 A.mult(B)、A+B、AB、A/B 等。

我有两个向量，它们是图像的行和列的投影。我有两个图像（S 和 T），所以每个图像都有两个投影向量（rowProejctionS、columnProjectionS、rowProjectionT、columnProjectionT）。我也有图像的手段（meanS，meanT）。我需要做一个“SUM OF PRODUCT”相关的计算，在MATLAB中如下

```
numeratorLambdaRo = sum((rowProjectionT - meanT).*(rowProjectionS - meanS));
denominatorLambdaRo = sqrt(sum((rowProjectionT - meanT).^2)*sum((rowProjectionS - meanS).^2);

LambaRo = numeratorLambdaRo/denominatorLambdaRo; 
```

我不完全确定矩阵运算符在`cv::Mat`对象上下文中的能力。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T13:05:50.877

将 meanT、meanS 声明为 double 或 cv::Scalar，您可以从矩阵中减去它。您也许可以拆分您的操作：

```
rowProjectionT -= meanT;
rowProjectionS -= meanS;
numeratoLambdaRo = cv::sum(rowProjectionT*rowProjectionS.t()); // transpose 1 of the vector so that multiplication is equivalent to dot product.

cv::Mat rowProjTSquare = rowProjectionT*rowProjectionT.t();
cv::Mat rowProjSSquare = rowProjectionS*rowProjectionS.t();
denominatorLambdaRo = sqrt(cv::sum(rowProjTSquare*rowProjSSquare)); 
```

# .net - Windows.security.cryptography API 由于密钥长度问题而失败

> ID：13119416
> 
> 赞同：1
> 
> 时间：2012-10-29T10:05:16.663
> 
> 标签：.net, encryption, windows-8, encryption-symmetric

我一直在尝试使用 Windows 8（Windows 商店应用程序）中的 Windows.security.cryptography API 对字符串进行基本对称密钥加密（目前）。

在线查看了各种示例，但在所有示例中，代码都失败了，对我来说出现了意外的密钥长度异常。

```
static byte[] cKey = { (byte)'A', (byte)'B', (byte)'C', (byte)'D', (byte)'E' };
        static byte[] cIV = { (byte)'A', (byte)'B', (byte)'C', (byte)'D', (byte)'E' };
        public static string Encrypt(String guidOriginal)
        {
            IBuffer encrypted;
            IBuffer buffer;
            IBuffer iv = null;
            SymmetricKeyAlgorithmProvider algorithm = SymmetricKeyAlgorithmProvider.OpenAlgorithm("AES_CBC_PKCS7");
            IBuffer keymaterial = CryptographicBuffer.CreateFromByteArray(cKey);  
            CryptographicKey key = algorithm.CreateSymmetricKey(keymaterial);
            iv = CryptographicBuffer.CreateFromByteArray(cIV);  
            System.Text.UTF8Encoding encoding = new System.Text.UTF8Encoding();
            buffer = CryptographicBuffer.CreateFromByteArray( encoding.GetBytes(guidOriginal));
            encrypted = Windows.Security.Cryptography.Core.CryptographicEngine.Encrypt(key, buffer, iv);
            return CryptographicBuffer.EncodeToBase64String(encrypted);
        } 
```

^^ 以上是我尝试过的代码之一（使用了来自[http://social.msdn.microsoft.com/Forums/en-ZA/winappswithcsharp/thread/b541a08a-d3cd-4e21-8d21- 7ed80749cb23](http://social.msdn.microsoft.com/Forums/en-ZA/winappswithcsharp/thread/b541a08a-d3cd-4e21-8d21-7ed80749cb23)），失败于

```
 CryptographicKey key = algorithm.CreateSymmetricKey(keymaterial); 
```

除了：**ArgumentException**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T09:38:39.320

您必须确保您的密钥块是精确的 16,24 或 32 字节。

请参考维基。 [http://en.wikipedia.org/wiki/Advanced_Encryption_Standard](http://en.wikipedia.org/wiki/Advanced_Encryption_Standard)

> AES 基于一种被称为置换-置换网络的设计原理，在软件和硬件方面都非常快速。 [6] 与其前身 DES 不同，AES 不使用 Feistel 网络。AES 是 Rijndael 的变体，它具有 128 位的固定块大小和 128、192 或 256 位的密钥大小。相比之下，Rijndael 规范本身指定的块和密钥大小可以是 32 位的任意倍数，最小为 128 位，最大为 256 位。

# iphone - iOS，多视图控制器上具有相同选择器的相同 UIButton

> ID：13119417
> 
> 赞同：-1
> 
> 时间：2012-10-29T10:05:21.783
> 
> 标签：iphone, ios, uiviewcontroller, storyboard, selector

我是一名新手 iOS 开发人员，我目前面临一个问题。我不得不在多个视图控制器上手动添加相同的 UIButton。现在创建它的代码在每个带有该按钮的视图控制器中重复。现在我必须编写由按钮调用的选择器（将调用操作表），但我不知道在每个控制器中重复代码是否是最好的选择。有没有办法只编写一次动作代码并从每个视图控制器调用它？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:16:58.927

您可以创建一个 UIButton 子类，然后将其添加到每个视图中。按钮的行为和属性将存储在类中，这样您就不必重复它了。

在 xcode 中创建一个新文件并选择目标 c 类并将类名设置为 MyButton 或任何其他名称，并将子类设置为 UIButton。

请注意，在子类中 UIButton 是`self`属性。所以当你想设置它的属性时，你应该使用 self. 例如：

```
self.tag = 1;
[self setImage:...];
//etc 
```

然后在您查看控制器中创建 MyButton ，如下所示：

```
MyButton *button = [[MyButton alloc]initWithFrame:...];
[self addSubView:button]; 
```

# java - 从arm linux上的CMOS相机读取流并将其转换为视频/照片

> ID：13119420
> 
> 赞同：1
> 
> 时间：2012-10-29T10:05:26.013
> 
> 标签：java, linux, camera, embedded

我在 Arm linux 设备上做一些事情，特别是（FriendlyArm 2440）。

我打开 CMOS 相机 ( `"/dev/camera"`)

如何将其转换为视频/照片文件？

我当前的代码是这样的：

```
FileInputStream fis = null;
    try {
      String file = "/dev/camera";
      fis = new FileInputStream(file);

      byte[] buffer = new byte[1024];
      int count = fis.read(buffer);

      while (count != -1) {
        System.out.println(buffer);
        count = fis.read(buffer);
      } 
    } catch (IOException ex) {
      System.out.println("Error: " + ex.getMessage());
    } finally {
      try {
        fis.close();
      } catch (IOException ex) {
        System.out.println("Error: " + ex.getMessage());
      }
    } 
```

最后，我想通过套接字将数据发送到 PC 上的客户端程序并将文件保存在那里或**只显示实时流**。

**我应该使用什么技术或库来保存为视频/照片？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T17:29:36.200

我建议查看[gstreamer](http://gstreamer.freedesktop.org/)包。不确定您的 FriendlyArm 2440 板是否支持 gstreamer，但您可以自己交叉编译和添加 gstreamer。然后，您可以创建一个自定义插件来支持您的相机，然后使用许多可用的[插件](http://gstreamer.freedesktop.org/documentation/plugins.html)从板上生成/编码和流式传输视频......假设您有 CPU 资源。

您还可以在接收 PC 端使用 gstreamer 来接收和显示或处理视频/照片。这也可能是一种可能性：将原始视频流式传输到 PC，并让 PC 处理它（但这显然需要更多的网络带宽）。

祝你好运，

# jquery - 在 html.actionlink Jquery 方法中将模型值作为参数传递

> ID：13119424
> 
> 赞同：0
> 
> 时间：2012-10-29T10:05:48.607
> 
> 标签：jquery, asp.net-mvc, razor, html.actionlink

我在 mvc razor 视图中使用以下代码生成动态链接。

```
@foreach (App.Models.Users item in Model )
{
@Html.ActionLink("Delete", "DeleteEmp", new { id = item.Id }, new { onclick = "DeleteConfirm()" })
} 
```

我想将当前单击的模型（item.Name）的 id 或其他一些字段传递给 Jquery 方法的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:26:18.250

```
@Html.ActionLink("Delete", "DeleteEmp", new { id = item.Id }, new { @class="emp_delete", title=item.Name }) 
```

正如我从标签中看到的那样，您使用`jquery`，因此您可以创建任何`attributes`然后绑定事件，还记得有关自定义属性的[数据](http://api.jquery.com/data/)。

```
$('.emp_delete').click(function(e)
{
   e.preventDefault();
   var $this = $(this);
   alert($this.attr('title'));
   ...
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:08:20.117

将 ID 传递到您的`DeleteConfirm`方法中：

```
@Html.ActionLink("Delete", "DeleteEmp", new { id = item.Id }, new { onclick = "DeleteConfirm(" + item.Id ")" }); 
```

# facebook - Facebook api feed：如何在单个用户墙上发布消息？

> ID：13119427
> 
> 赞同：0
> 
> 时间：2012-10-29T10:05:54.433
> 
> 标签：facebook

我使用 facebook SDK javascript 将来自网站的消息发布到我在 facebook 上的墙上。当我发帖时，我可以选择可以阅读我的消息的用户。

我可以更改脚本以自动将消息直接发送给一个或任何用户吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T14:15:13.967

通过 facebook API 发送私人消息不是预期行为。为了防止垃圾邮件，它被假定为。这可以通过发送电子邮件来克服，`facebook_username@facebook.com`它将作为即时消息显示给用户。然而，这不是一个预期的解决方案，并且在 facebook 文档中明确表示不鼓励。

# python - 如何在python中将字符串转换为列表

> ID：13119431
> 
> 赞同：1
> 
> 时间：2012-10-29T10:06:05.307
> 
> 标签：python

> **可能重复：**
> [在 Python 中将字符串转换为列表](https://stackoverflow.com/questions/2545397/converting-a-string-into-a-list-in-python)

`'LIFE IS FULL'`如何将字符串转换为python中的列表，例如：`['LIFE','IS','FULL']`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T10:07:12.383

使用[`str.split()`](http://docs.python.org/2/library/stdtypes.html#str.split)：

```
>>> strrs="LIFE IS FULL"
>>> strrs.split()
['LIFE', 'IS', 'FULL'] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:07:25.557

您可以使用以下[`.split`](http://docs.python.org/2/library/stdtypes.html?highlight=split#str.split)方法：

```
a = "LIFE IS FULL"
b = a.split()
['LIFE','IS','FULL'] 
```

# asp.net - system.web.ui.datavisualization.Charting dll 错误

> ID：13119432
> 
> 赞同：1
> 
> 时间：2012-10-29T10:06:17.000
> 
> 标签：asp.net, vb.net, dll, microsoft-chart-controls

大家早，

当我使用 VS2010 在我的页面上拖动图表控件时，我偶然发现了这个令人讨厌的错误，我使用了 asp.net 图表控件（v4.0）
，我看到正在制作程序集。但话又说回来，我立即得到一些错误，说我不能使用图表控件。

我的 web.config 文件包含图表控件的以下代码

```
<add assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
<add namespace="System.Web.UI.DataVisualization.Charting"/>
<add tagPrefix="asp" namespace="System.Web.UI.DataVisualization.Charting" assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" /> 
```

我的 aspx.vb 文件包含以下导入

```
Imports System.Web.UI.DataVisualization.Charting 
```

但是，在这里我已经收到以下错误：导入“system.web.UI.dataVisualization.Charting”中指定的命名空间或类型不包含任何公共成员或找不到...

在我的 aspx 文件中，第一行代码有错误曲线

```
<%@ Page Language="VB" MasterPageFile="MasterPage.master" AutoEventWireup="false" CodeFile="Datalogging.aspx.vb" Inherits="Datalogging" %> 
```

而错误 = Type 'system.web.ui.Datavisualization.Charting.chart' 未定义。

提前感谢您帮助我。

罗宾

编辑：

似乎我在框架版本上遇到了一些麻烦

我在 v3.5 中重建了应用程序，之后我在 v4.0 中再次重建了应用程序

结论，该应用程序再次运行。

感谢那些正在寻找解决方案的人

# codeigniter - 在 codeigniter 中使用存储过程

> ID：13119433
> 
> 赞同：0
> 
> 时间：2012-10-29T10:06:18.210
> 
> 标签：codeigniter, stored-procedures

我在codeigniter中使用存储过程，比如

```
$success = $this->db->query("call my_stored_proc('arg1','arg2');"); 
```

在过程中，我正在更新几个表行。记录正在正确更新。但是当我看到萤火虫时，我总是会得到类似数据库错误的错误，直到我`SELECT arg1 or SELECT arg2`在存储过程的末尾使用类似的错误。为什么这是必需的。请帮助他们理解这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T05:15:56.863

尝试

```
$success = $this->db->query("call my_stored_proc('arg1','arg2');", FALSE); 
```

# html - tags CSS Like Wikipedia

> ID：13119441
> 
> 赞同：5
> 
> 时间：2012-10-29T10:06:48.170
> 
> 标签：html, css, mediawiki, wikipedia

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-29T10:10:25.970

**HTML**

```
<code>dd if=/dev/sda of=MBR.img bs=512 count=1</code>​ 
```

**CSS**

```
code{background:#F8F8FF; border:black dashed 1px; padding:6px}​ 
```

**[演示](http://jsfiddle.net/jk6wk/)**

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-29T10:10:40.950

只需使用任何检查工具（例如 Firebug）来查看页面上使用了哪些 CSS。至于您的示例，如下所示：

```
{
    background-color: #F9F9F9;
    border: 1px dashed #2F6FAB;
    color: black;
    line-height: 1.1em;
    padding: 1em;
} 
```

PS：如果你想要代码高亮，看看[highlight.js](http://softwaremaniacs.org/soft/highlight/en/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:14:00.250

```
div {
    width:500px;
    background-color:#F9F9F9;
    padding:20px 20px;
    border:1px dashed blue;
}​ 
```

[http://jsfiddle.net/naWLM/1/](http://jsfiddle.net/naWLM/1/)

如果我理解正确，这就是你想要的。

# c++ - 如何使用条件语句返回指针？

> ID：13119443
> 
> 赞同：2
> 
> 时间：2012-10-29T10:06:55.273
> 
> 标签：c++, pointers, conditional-statements

以下代码将第二个数字输出为最大值。如果您需要任何其他信息，请告诉我。

```
#include <iostream>                                                     
#include <cstdlib>
using namespace std;
double *ComputeMaximum(const double *Max, const double *Min);

double *ComputeMaximum(const double *Max, const double *Min)
{
    return ((double *)((&Max > &Min) ? Max : Min));
}

int main(void)
{
    double *max;
    double Initial, Secondary;

    cout << "Enter the number followed by space then another number: ";
    cin >> Initial;
    cout << "\nIn-" << Initial;
    cin >> Secondary;
    cout << "\nSe-" << Secondary;
    //cout >> "Of " >> Inital >> "and " >> Secondary;
    //cout >> "the maximum is " >>
    max = ComputeMaximum((double*)&Initial,(double*)&Secondary);
    cout << "\nmax" << *max;
    return 0;
} 
```

下一个代码输出第一个数字作为最大值

```
#include <iostream>                                                     
#include <cstdlib>
using namespace std;
double *ComputeMaximum(const double *Max, const double *Min);

double *ComputeMaximum(const double *Max, const double *Min)
{
    return ((double *)((Max > Min) ? Max : Min));  // Here is the difference(& missing)
}

int main(void)
{
    double *max;
    double Initial, Secondary;

    cout << "Enter the number followed by space then another number: ";
    cin >> Initial;
    cout << "\nIn-" << Initial;
    cin >> Secondary;
    cout << "\nSe-" << Secondary;
    //cout >> "Of " >> Inital >> "and " >> Secondary;
    //cout >> "the maximum is " >>
    max = ComputeMaximum((double*)&Initial,(double*)&Secondary);
    cout << "\nmax" << *max;
    return 0;
} 
```

做错了什么？我只需要最大值，而不是第二个或第一个输入。我得到了答案。谢谢你们。

这里是：

```
#include <iostream>                                                     
#include <cstdlib>
using namespace std;
double *ComputeMaximum(const double *Max, const double *Min);

double *ComputeMaximum(const double *Max, const double *Min)
{
    return (double*)((*Max > *Min) ? Max : Min);
}

int main(void)
{
    double *max;
    double Initial, Secondary;

    cout << "Enter the number followed by space then another number: ";
    cin >> Initial;
    cout << "\nIn-" << Initial;
    cin >> Secondary;
    cout << "\nSe-" << Secondary;
    //cout >> "Of " >> Inital >> "and " >> Secondary;
    //cout >> "the maximum is " >>
    max = ComputeMaximum(&Initial, &Secondary);
    cout << "\nmax" << *max;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T10:08:26.380

您正在比较地址。正确的方法是：

```
double *ComputeMaximum(const double *Max, const double *Min)
{
    return *Max > *Min ? Max : Min;
} 
```

你的版本：

```
(Max > Min) 
```

比较指针本身，并且

```
(&Max > &Min) 
```

比较指针的地址，这又是错误的。

此外，您不需要指针，并注意您拥有`std::max`可以使用的指针。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-29T10:08:28.817

```
double *ComputeMaximum(const double *Max, const double *Min)
{
    return *Max > *Min ? Max : Min;
} 
```

请注意，我使用`*Max`and`*Min`而不是`&Max`and `&Min`，即取消引用，而不是获取地址！`double*`另请注意，对于已经是所需类型的表达式，您有很多不必要的强制转换。一个例子是您的 ComputeMaximum 函数体。另一个例子

```
max = ComputeMaximum((double*)&Initial,(double*)&Secondary); 
```

因为`Initial`and`Secondary`属于 type `double`, `&Initial`and `&Secondary`are of type`double*`所以绝对不需要丑陋的不必要的演员表。只需使用

```
max = ComputeMaximum(&Initial,&Secondary); 
```

其他地方也一样。

我强烈建议您阅读[一本关于 C++ 的好书](https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-29T10:09:24.000

你为什么首先使用指针？它甚至不需要。

下面是一个更好的实现：

```
double ComputeMaximum(double a, double b)
{
    return a > b ? a : b;
} 
```

或者如果你想做这样的事情：

```
ComputeMaximum(x,y) = 100; //modify the one which is maximum 
```

那么参考就是你需要的：

```
double & ComputeMaximum(double & a, double & b)
{
    return a > b ? a : b;
} 
```

顺便说一句，您可能希望从标准库中查看[`std::max`](http://en.cppreference.com/w/cpp/algorithm/max)（和）。[`std::min`](http://en.cppreference.com/w/cpp/algorithm/min)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:12:07.287

它们都不返回实际最大值。

您正在传递指向双打的指针。所以变量**Min,Max**的值是一个指向 double 的地址。

`&Max > &Min`...这将比较函数本地的变量**Max,Min的地址。**

`Max > Min`...这将比较 Min 和 Max 指向的地址（只是地址编号）。

`*Max > *Min`...这将取消引用指针，并比较它们指向的对象。这就是你想做的...

```
return ((double *)((*Max > *Min) ? Max : Min)); 
```

# knockout.js - 用where语句淘汰foreach，有可能吗

> ID：13119445
> 
> 赞同：1
> 
> 时间：2012-10-29T10:06:59.003
> 
> 标签：knockout.js

我有一个像这样的现有淘汰赛：

```
<!-- ko foreach: reportFields -->
<tr>
   <td><span class="hover" data-bind="text: FriendlyName, click:$parent.openField"></span></td>
   <td><img src="img/cross.png" data-bind="click: $parent.removeField" class="delete" alt="Remove Field" title="Remove Field" /></td>
</tr>
<!-- /ko --> 
```

我需要做的是进一步过滤foreach，即我想检查每个项目的一个字段以查看它是否等于1、2或3。我尝试简单地在ko foreach之后直接放置一个淘汰赛if语句，但它无法工作，除非我把它放在一些 html 代码之后，这是一个问题，因为我不想显示任何东西，除非它匹配。

所以我的问题是我可以使用 where 语句或类似的东西以某种方式过滤 ko foreach，还是有一种方法可以让 if 语句正常运行而无需在声明之前有 html？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:13:51.350

您可以将`if`绑定添加到`tr`元素：

```
<!-- ko foreach: reportFields -->
<tr data-bind="if: SomeField() == 1">
   <td><span class="hover" data-bind="text: FriendlyName, click:$parent.openField"></span></td>
   <td><img src="img/cross.png" data-bind="click: $parent.removeField" class="delete" alt="Remove Field" title="Remove Field" /></td>
</tr>
<!-- /ko --> 
```

或者您可以创建一个`computed value`视图模型，该模型将`filtered array`在以下位置存储和使用它`foreach`：

```
self.filteredItems = ko.computed(function() {
        return ko.utils.arrayFilter(self.reportFields(), function(item) {
            return item.someField() == 1;
        });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:15:16.330

您可以使用计算的可观察数组。

```
function ReportViewModel() {
  this.reportFields = ko.observableArray(...);
  this.reportFilter = ko.observable();  // bind to dropdown with values 1, 2 or 3

  this.reportFieldsFiltered = ko.computed(function () {
    var filterValue = this.reportFilter();

    return ko.util.arrayFilter(this.reportFields(), function (item) {
      return item.property() == filterValue;
    });
  }, this);
} 
```

然后使用

```
<!-- ko foreach: reportFieldsFiltered -->
<tr>
   <td><span class="hover" data-bind="text: FriendlyName, click:$parent.openField"></span></td>
   <td><img src="img/cross.png" data-bind="click: $parent.removeField" class="delete" alt="Remove Field" title="Remove Field" /></td>
</tr>
<!-- /ko --> 
```

顺便说一句，您可以只使用`<tbody data-bind="foreach: reportFieldsFiltered">`而不是虚拟元素。

# cocoa - CALayer、NSTextView 和缩放

> ID：13119448
> 
> 赞同：7
> 
> 时间：2012-10-29T10:07:06.337
> 
> 标签：cocoa, calayer, nstextview, nsscrollview

在我的应用程序中，我想在支持层的 NSTextView 中提供文本缩放，例如 Apple 的 TextEdit。我使用它的类似物[ScalingScrollView](https://developer.apple.com/library/mac/#samplecode/TextEdit/Listings/ScalingScrollView_m.html#//apple_ref/doc/uid/DTS40011741-ScalingScrollView_m-DontLinkElementID_29)。我还需要在`self.window.contentView`. 在我做之前一切都好`[self.window.contentView setWantsLayer:YES]`。

前`[setWantsLayer:YES]`

![在此处输入图像描述](../Images/1423a23a79f1618580ac6b83a8c3a6d6.png)

后`[setWantsLayer:YES]`

![在此处输入图像描述](../Images/e5707a07e0a1601518d752dc6ef91f8d.png)

我不知道如何解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-10-06T15:44:04.660

我也一直在寻找类似问题的解决方案。最后，我发现 layer-backed 视图必须定位在整数像素上，而不能定位在子像素上。

例如，如果您动态计算支持图层的视图的框架

```
 NSMakeRect((self.frame.size.width - 350)/2, (self.frame.size.height - 150)/2, 350, 150) 
```

你可能会遇到非整数值，所以你应该做类似的事情

```
 NSMakeRect(floor((self.frame.size.width - 350)/2), floor((self.frame.size.height - 150)/2), 350, 150) 
```

# android - add custom language jelly bean---Laotian and Khmer language support

> ID：13119455
> 
> 赞同：0
> 
> 时间：2012-10-29T10:07:49.097
> 
> 标签：android, localization

I will add Laotian and Khmer language support in android 4.1(jelly bean). The process steps are as follows:

1.Modify languages_full.mk file lo_LA km_MM.

```
PRODUCT_LOCALES := en_US en_GB es_ES es_US fr_FR zh_CN zh_TW hi_IN it_IT pt_PT ru_RU lo_LA km_MM 
```

2.Add Laotian, Khmer font file.

```
Font file is copied to the:/frameworks/base/data/fonts/
Laotian font file:Alice_3_Medium.ttf
Khmer font file:Klbachmool_Regular.ttf 
```

3\. Modify jb/frameworks/base/data/fonts/Android.mk

```
 font_src_files := \
Roboto-Regular.ttf \
Roboto-Bold.ttf \
Roboto-Italic.ttf \
Roboto-BoldItalic.ttf \
DroidSerif-Regular.ttf \
DroidSerif-Bold.ttf \
DroidSerif-Italic.ttf \
DroidSerif-BoldItalic.ttf \
DroidSansMono.ttf \
Clockopia.ttf \
AndroidClock.ttf \
AndroidClock_Highlight.ttf \
AndroidClock_Solid.ttf \
Alice_3_Medium.ttf \
Klbachmool_Regular.ttf 
```

4\. jb /frameworks/base/data/fonts/fonts.mk

```
4.1
PRODUCT_PACKAGES := \
DroidSansFallback.ttf \
Roboto-Regular.ttf \
Roboto-Bold.ttf \
Roboto-Italic.ttf \
Roboto-BoldItalic.ttf \
Roboto-Light.ttf \
Roboto-LightItalic.ttf \
RobotoCondensed-Regular.ttf \
RobotoCondensed-Bold.ttf \
RobotoCondensed-Italic.ttf \
RobotoCondensed-BoldItalic.ttf \
DroidNaskh-Regular.ttf \
DroidNaskh-Regular-SystemUI.ttf \
DroidSansDevanagari-Regular.ttf \
DroidSansHebrew-Regular.ttf \
DroidSansHebrew-Bold.ttf \
DroidSansThai.ttf \
DroidSerif-Regular.ttf \
DroidSerif-Bold.ttf \
DroidSerif-Italic.ttf \
DroidSerif-BoldItalic.ttf \
DroidSansMono.ttf \
DroidSansArmenian.ttf \
DroidSansGeorgian.ttf \
AndroidEmoji.ttf \
Clockopia.ttf \
AndroidClock.ttf \
AndroidClock_Highlight.ttf \
AndroidClock_Solid.ttf \
Alice_3_Medium.ttf \
Klbachmool_Regular.ttf
4.2
PRODUCT_COPY_FILES :=frameworks/base/data/fonts/system_fonts.xml:$(TARGET_COPY_OUT_SYSTEM)/etc/system_fonts.xml \    frameworks/base/data/fonts/fallback_fonts.xml:$(TARGET_COPY_OUT_SYSTEM)/etc/fallback_fonts.xml \
frameworks/base/data/fonts/fallback_fonts-km.xml:$(TARGET_COPY_OUT_SYSTEM)/etc/fallback_fonts-km.xml \
frameworks/base/data/fonts/fallback_fonts-lo.xml:$(TARGET_COPY_OUT_SYSTEM)/etc/fallback_fonts-lo.xml 
```

5\. add file: jb/frameworks/base/data/fonts/fallback_fonts-km.xml jb/frameworks/base/data/fonts/fallback_fonts-lo.xml

add frameworks\base\core\res\res\values-lo-rLA frameworks\base\core\res\res\values-km-rMM

last: system overall compile

run result:in Setting switch Laos and Khmer.Laos encoded unicode text can not be drawn on UI, Khmer encoded unicode text can not be drawn on UI. What is the reason?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T16:11:14.060

人们说高棉 Unicode 渲染已经在 J​​elly Bean (4.1) 中正常工作，缺少的只是字体。

这里有一些可能对您有所帮助的链接：

1.  在大多数三星设备中使用 Jelly Bean 将字体复制到 FlipFont 的方法：[http ://www.khmertype.org/2012/10/khmerapk-on-galaxy-note-ii-updated.html](http://www.khmertype.org/2012/10/khmerapk-on-galaxy-note-ii-updated.html)
2.  修改字体系统的方法：http: [//nokorsoft.com/2012/07/android-jelly-bean-os-supports-khmer-unicode/](http://nokorsoft.com/2012/07/android-jelly-bean-os-supports-khmer-unicode/)

希望它有所帮助，它可能为您提供另一种解决高棉 Unicode 问题的方法。

# php - 如何在cakephp中以逗号值分隔搜索

> ID：13119465
> 
> 赞同：2
> 
> 时间：2012-10-29T10:08:14.067
> 
> 标签：php, mysql, cakephp, cakephp-2.0, cakephp-2.1

在 cakephp 中需要帮助

我`furnished_details`在表格中有一个字段，其内容低于值（用逗号分隔）。例如。

> 双人床、平板电视：小型（19 英寸）、镜子、额外存储空间、窗户空调、吊扇、灯、椅子、衣橱、迷你冰箱

现在在提交表单后的高级搜索中，我将数组值存储在用逗号分隔的字符串中。例如。

> 电视、床、提供床单、窗式空调、吊扇、台灯、椅子、衣橱、书桌、床头柜、额外储物空间

我只是用

```
$conditions[]=array("MATCH(Room.furnished_details) AGAINST('$ame' IN BOOLEAN MODE)" ); 
```

但我没有得到实际结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T14:41:03.637

用户 MySQL 的[FIND_IN_SET](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set)函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:19:00.390

您想在包含其他以逗号分隔的单词的数据库字段中搜索多个单词（以逗号分隔）？如果我做对了，它一定会变得丑陋。

我能想到的唯一方法是获取你的字符串，explode(',', $string)，然后在这个数组上循环，为你的每个单词构建一个 LIKE 语句。

我真的建议改变你的数据库结构，为什么你有一个逗号分隔的字段，看起来（对我来说）好像它应该是一个单独的表？

# maven - Maven - 发布：准备而不提交

> ID：13119467
> 
> 赞同：4
> 
> 时间：2012-10-29T10:08:15.787
> 
> 标签：maven, release

我希望在不提交的情况下发布一个独立的补丁。当我为某个版本准备发布时，我收到以下错误：`[ERROR] fatal: Not a git repository (or any of the parent directories): .git`

我可以不提交就释放吗？

现在，我正在做的是在本地生成一个 jar 并将其作为工件手动上传。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-29T17:41:22.133

我对 mercurial 有同样的问题。您需要使用 -DpushChanges=false 参数。

请参阅我对类似问题的回答：[link](https://stackoverflow.com/questions/11769537/mercurial-maven-release-plugin-problems/11866312#11866312)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T13:05:28.747

如果您不想向 SCM 提交任何内容，我认为您应该尝试[**做空运行**](http://maven.apache.org/plugins/maven-release-plugin/usage.html#Do_a_Dry_Run)：

> 由于发布插件执行了许多更改项目的操作，因此在大发布之前或在新项目上进行试运行可能是明智的。为此，提交所有文件，就像您即将运行完整版本并运行：
> `mvn release:prepare -DdryRun=true`

这是 release:prepare Mojo : [dryRun](http://maven.apache.org/plugins/maven-release-plugin/prepare-mojo.html#dryRun)的一个参数。

# c# - how to create control for real time Edit in jquery + asp.net

> ID：13119469
> 
> 赞同：0
> 
> 时间：2012-10-29T10:08:16.087
> 
> 标签：c#, jquery, asp.net, ajax

i have one `<li>` element where i put Item1 and value and Edit button, when i click on Editbutton the small popup open with slider and numeric up and down

problem is , i am wondering when i change the slider i want to change `<li>` background color and from numeric up and down i want to change values in `<li>` elements

for example here, if i change slider value up , i want to make `<li>` background color something else and if i click numeric up i want 26 in `<li>` element

it should be real time, means u click on up value should be 26 in li, No after close popup or something else

![+](../Images/cf822d2d63d0865794f44bbf86f3f444.png)

Thanks :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:30:41.163

看看[jQuery UI 对话框](http://jqueryui.com/dialog/)。在这里您还可以找到一个滑块控件。另外，如果你想在你的照片上得到类似的东西，看看[这里](https://stackoverflow.com/questions/4825763/how-to-position-400-x-400px-popup-div-relative-to-click-keeping-in-screen-view)的答案。

# wso2 - WSO2 ESB 4.5.0 vfs TransportSender 作为“访问被拒绝”的端点错误

> ID：13119472
> 
> 赞同：-2
> 
> 时间：2012-10-29T10:08:21.397
> 
> 标签：wso2, wso2esb, esb

我正在尝试为使用 wso2 esb 编写概念证明。概念证明将依赖于 ESB 拾取放入文件夹的 csv 文件，将详细信息转换为 xml，将它们发布到第 3 方 Web 服务，然后将应包含 pdf 二进制文件的响应转换为pdf 并将其放入文件夹中。

当前的问题是，当我在 wso2 esb 4.5.0 中将文件夹配置为端点时，我发送到该端点的任何文件都会出错。我的配置的精简版本如下定义： -

```
<proxy name="PDFPoller"
      transports="vfs"
      startOnLoad="true"
      trace="enable"
      statistics="enable">
  <description/>
  <target>
     <inSequence>
        <log level="custom">
           <property name="status" value="PDF Receieved"/>
        </log>
        <log level="full"/>
        <property name="transport.vfs.ReplyFileName"
                  expression="test1.pdf"
                  scope="transport"/>
        <property name="OUT_ONLY" value="true"/>
        <send>
           <endpoint name="FileEpr">
              <address uri="vfs:file:///c:/wso2/processed"/>
           </endpoint>
        </send>
     </inSequence>
  </target>
  <parameter name="transport.vfs.ActionAfterProcess">MOVE</parameter>
  <parameter name="transport.PollInterval">15</parameter>
  <parameter name="transport.vfs.MoveAfterProcess">file:///C:/wso2/output</parameter>
  <parameter name="transport.vfs.FileURI">file:///C:/wso2/PollFolder</parameter>
  <parameter name="transport.vfs.MoveAfterFailure">file:///C:/wso2/Failed</parameter>
  <parameter name="transport.vfs.FileNamePattern">.*.pdf</parameter>
  <parameter name="transport.vfs.ContentType">application/pdf</parameter>
  <parameter name="transport.vfs.ActionAfterFailure">MOVE</parameter> 
```

我从 ESB 得到的错误如下： -

```
2012-10-29 09:46:00,642 [-] [Axis2 Task] ERROR VFSTransportSender IO Error while 
org.apache.commons.vfs2.FileSystemException: Could not write to "file:///c:/wso2/processed".
    at org.apache.commons.vfs2.provider.AbstractFileObject.getOutputStream(AbstractFileObject.java:1440)
    at org.apache.commons.vfs2.provider.DefaultFileContent.getOutputStream(DefaultFileContent.java:462)
    at org.apache.synapse.transport.vfs.VFSTransportSender.populateResponseFile(VFSTransportSender.java:232)
    at org.apache.synapse.transport.vfs.VFSTransportSender.sendMessage(VFSTransportSender.java:173)
    at org.apache.axis2.transport.base.AbstractTransportSender.invoke(AbstractTransportSender.java:112)
    at org.apache.axis2.engine.AxisEngine$TransportNonBlockingInvocationWorker.run(AxisEngine.java:627)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.FileNotFoundException: c:\wso2\processed (Access is denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:194)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:116)
    at org.apache.commons.vfs2.provider.local.LocalFile.doGetOutputStream(LocalFile.java:220)
    at org.apache.commons.vfs2.provider.AbstractFileObject.getOutputStream(AbstractFileObject.java:1432)
    ... 8 more 
```

我不认为问题是本地文件夹权限问题，因为我已经 a) 手动检查了文件夹的权限，并且 b) ESB 会将我放在“pollfolder”中的文件移动到“输出”或如果我将 transport.vfs.MoveAfterProcess 属性设置为该值，则“已处理”，因此可以写入这两个文件夹。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:47:49.690

你的配置看起来不错。但我怀疑以下部分。

```
<property name="transport.vfs.ReplyFileName"
                  expression="test1.pdf"
                  scope="transport"/> 
```

您可以尝试不使用该属性。然后它将在“已处理”文件夹中创建一个与输入文件名相同的文件。如果它有效，则按如下方式尝试上述属性。

```
<property name="transport.vfs.ReplyFileName"
                  value="test1.pdf"
                  scope="transport"/> 
```

如您所见，我已将“表达式”属性替换为“值”。当您想要执行某些操作时，应使用表达式，例如连接两个字符串以构建响应文件名等。

# javascript - 如何在 [Today] SP 2010 中添加天数？

> ID：13119476
> 
> 赞同：0
> 
> 时间：2012-10-29T10:08:30.480
> 
> 标签：javascript, sharepoint, custom-lists

如何在 SharePoint 2010 中将值为 3 的自定义列表列中的日期添加到另一个具有 [今天] 的自定义列表列中？

示例 Customlist DayExp ExpireDay 3 ... /*我不想将默认计算字段设置为 =[Today]+3，因为它是固定的。我存储在 Customlist 列中，因为我可以根据需要将未来的 ExpireDay 编辑为 1 或 2 天或更多天。*/

Customlist KnowledgeSubmission SubmissionValidTo ... /*我想在此列中添加 [Today] 的 ExpireDay 列值（3）* /

那么如何用 ExpireDay 值添加 [Today] 呢？

Javascript 代码函数或表单中的简单 Onsave 操作也可能会有所帮助。

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T00:12:36.793

因为列表仅在保存时计算列表的值，所以您永远不能在计算中使用“今天”的值（因为它每秒左右更改一次）。

[今天] 的默认计算仅在您处于新表单时发生。您可以在 Editform.aspx 中添加一些 jQuery，这并不难，但创建计算字段可能更容易：

```
=Modified+ExpireDay 
```

这将是该项目保存的日期 + 2 天。

# c# - 将此字符串转换为日期时间对象

> ID：13119477
> 
> 赞同：1
> 
> 时间：2012-10-29T10:08:31.637
> 
> 标签：c#, string, date, datetime

我知道可以将字符串转换为 dateTime() 对象，但据我所知，字符串需要采用特定形式，例如“20121029”。

我有一个看起来完全像这样的字符串：

> 2012-10-29T08:45:00.000

...推动正确的方向有人吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:13:45.767

加上`T`, 看起来像 xml 常用的 ISO 日期格式（8601）；因此，`XmlConvert`非常方便地暴露这一点；尝试：

```
string s = "2012-10-29T08:45:00.000";
DateTime when = XmlConvert.ToDateTime(s); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:14:49.330

输出是[DateTime](http://msdn.microsoft.com/en-us/library/03ybds8y.aspx)结构的典型输出`DateTime.parse("2012-10-29T08:45:00.000")`，应该可以解决问题。

要了解有关日期和时间 Fromat 字符串的更多信息，请参阅[此](http://msdn.microsoft.com/en-us/library/97x6twsz%28v=vs.71%29.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T10:14:55.730

尝试使用：

```
DateTime.ParseExact Method 
```

例如。

```
 string dateString = "2012-10-29T08:45:00.000";
 CultureInfo provider = CultureInfo.InvariantCulture;
 string format = "yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff";
 DateTime dt = DateTime.ParseExact(dateString, format, provider); 
```

或者

```
DateTime.Parse Method 
```

[日期时间解析（字符串）](http://msdn.microsoft.com/en-us/library/1k1skd40.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-29T10:11:48.697

有一个日期时间标准格式列表：http: [//msdn.microsoft.com/en-us/library/az4se3k1.aspx](http://msdn.microsoft.com/en-us/library/az4se3k1.aspx)

而且您始终可以编写自定义格式：http: [//msdn.microsoft.com/en-us/library/8kb3ddd4.aspx](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

具体来说，您的格式似乎与“往返”格式相匹配：http: [//msdn.microsoft.com/en-us/library/az4se3k1.aspx#Roundtrip](http://msdn.microsoft.com/en-us/library/az4se3k1.aspx#Roundtrip)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-29T10:13:14.147

只需使用`DateTime`'s`Parse`方法...

```
var date = DateTime.Parse("2012-10-29T08:45:00.000"); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-29T10:13:40.327

```
string strDt = "2012-10-29T08:45:00.000";
DateTime dt = DateTime.Parse (strDt);
string strDate = dt.ToString ("yyyyMMdd"); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-29T11:42:19.867

下面的代码将为您完成所有工作。

```
private static final String DATE_FORMAT = "yyyy-MM-dd'T'HH:mm:ss.SSS";

public static void main(String[] args) throws ParseException {
    SimpleDateFormat dateFormatter = new SimpleDateFormat(DATE_FORMAT);
    Date dateObj = dateFormatter.parse("2012-10-29T08:45:00.000");
    System.out.println(dateObj);
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-11-05T07:24:41.047

使用这个这可能会有所帮助

> 使用系统；使用 System.Collections.Generic；使用 System.ComponentModel；使用 System.Data；使用 System.Drawing；使用 System.Text；使用 System.Windows.Forms；
> 
> 命名空间 DateTimeConvert { public partial class Form1 : Form { public Form1() { InitializeComponent(); }
> 
> ```
>  private void button1_Click(object sender, EventArgs e)
>     {
>       label1.Text= ConvDate_as_str(textBox1.Text);
>     }
> 
>     public string ConvDate_as_str(string dateFormat)
>     {
>         try
>         {
>             char[] ch = dateFormat.ToCharArray();
>             string[] sps = dateFormat.Split(' ');
>             string[] spd = sps[0].Split('.');
>             dateFormat = spd[0] + ":" + spd[1]+" "+sps[1];
>             DateTime dt = new DateTime();
>             dt = Convert.ToDateTime(dateFormat);
>             return dt.Hour.ToString("00") + dt.Minute.ToString("00");
>         }
>         catch (Exception ex)
>         {
>             return "Enter Correct Format like <5.12 pm>";
>         }
> 
>     }
> 
>     private void button2_Click(object sender, EventArgs e)
>     {
>        label2.Text = ConvDate_as_date(textBox2.Text);
>     }
> 
>     public string ConvDate_as_date(string stringFormat)
>     {
>         try
>         {
>             string hour = stringFormat.Substring(0, 2);
>             string min = stringFormat.Substring(2, 2);
>             DateTime dt = new DateTime();
>             dt = Convert.ToDateTime(hour+":"+min);
>             return String.Format("{0:t}", dt); ;
>         }
>         catch (Exception ex)
>         {
>             return "Please Enter Correct format like <0559>";
>         }
>     }
> } } 
> ```

# visual-studio-2012 - Resharper 6.1 测试运行器抛出 BadImageFormatException

> ID：13119482
> 
> 赞同：2
> 
> 时间：2012-10-29T10:08:51.000
> 
> 标签：visual-studio-2012, resharper, test-runner, resharper-6.1

将 Resharper 升级到 6.1 版后，当我尝试使用 Resharper 测试运行程序运行单元测试时，我收到一个弹出对话框，抱怨测试程序集具有`BadImageFormatException`. 如何让 Resharper 运行我的单元测试？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-29T10:08:51.000

问题是 Resharper 测试运行程序希望测试程序集具有与测试运行程序本身相同的图像格式。测试运行程序是 x86 应用程序，因此当您的测试程序集是 x64 程序集时可能会出现此问题。因此解决方案很简单：将测试程序集的项目属性更改为以 x86 格式构建。有关更多详细信息，请参阅此网址：[http ://www.justjuzzy.com/2012/01/resharper-6-1-unit-test-runner-failed-to-load-test-assembly/](http://www.justjuzzy.com/2012/01/resharper-6-1-unit-test-runner-failed-to-load-test-assembly/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-28T09:20:46.603

在您的解决方案中使用*testsettings*文件来指定测试架构。这可以使用上下文菜单中的 Visual Studios“添加项目”来添加。*在新文件的Hosts*部分中指定“Run tests in 64 bit process on 64 bit machine” 。

有关详细信息，请参阅[Microsoft 文档](http://msdn.microsoft.com/en-us/library/Ee256991(v=vs.110).aspx)。

# objective-c - 如何在新的 XCode 项目中包含函数和类别？

> ID：13119484
> 
> 赞同：1
> 
> 时间：2012-10-29T10:08:52.580
> 
> 标签：objective-c, xcode

我创建了 NSBezierPath 类别、处理几何对象的函数以及使用上述代码的类。

在新项目中包含它们的最自然的使用方式是什么？我几乎在所有项目中都使用它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:21:14.787

制作它的框架并在您的项目中使用该框架。

如果这些类提供一组连贯的功能，这是最明智的选择，IMO。否则，您可以创建一组框架；但是，在这种情况下，请注意它们之间的依赖关系，因为这会使管理它们变得更加复杂，而且它的努力可能不会带来任何好处。

如果你真的想成为“专业人士”，你可能会考虑创建自己的 Xcode 模板，以在你的项目中默认包含这些框架。看看[这篇](http://blog.boreal-kiss.net/2011/03/11/a-minimal-project-template-for-xcode-4/)关于制作 Xcode 模板的文章。

# firefox - 带有现有附加组件的火狐附加构建器

> ID：13119488
> 
> 赞同：2
> 
> 时间：2012-10-29T10:09:12.310
> 
> 标签：firefox, firefox-addon, firefox-addon-sdk

我已经开发了一些附加组件并在 mozilla 上提交。现在我想使用 add on builder 来处理我现有的 addons 。我怎样才能做到这一点 ？

ps：这可能不是问这样问题的正确地方。但我不知道要找的合适的网站。有经验的用户可以将此问题移至适当的 stackExchange 站点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-06T20:47:02.807

您真正能做的就是将附加代码复制并粘贴到附加构建器。

请注意，尽管 Builder 可能会停产，但在我们提供更好的东西之后，这是所有工作正在进行的地方。

# cordova - Phonegap/Cordova 日志过多 CordovaLog Web 控制台

> ID：13119495
> 
> 赞同：7
> 
> 时间：2012-10-29T10:09:26.973
> 
> 标签：cordova, logging, cordova-2.0.0

我正在使用最新的 phonegap/cordova 2.1 版。并且我在 eclipse logcat 中获得了太多日志：使用 fe 记录了所有内容

```
console.log("test")

CordovaLog   test
Web Console  test 
```

这可以通过 eclipse 中的过滤器禁用，但必须有更智能的解决方案。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-26T05:16:40.033

您应该编辑以下条目

```
<log level="DEBUG"/> 
```

在`config.xml`文件中。

可用值为**ERROR**、**WARN**、**INFO**、**DEBUG**、**VERBOSE**（默认=ERROR）

设置为`ERROR`您将看到最少的日志消息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-26T04:37:13.087

看看这个

[http://css.dzone.com/articles/setting-console-debugging](http://css.dzone.com/articles/setting-console-debugging)

更新 ：

经过大量努力，我发现这是目前使用 phonegap 调试 javascript 代码的最佳且唯一可用的解决方案是在浏览器中打开 HTML 文件并使用其控制台调试它 IE (Google Chrome)，此外，JSFiddle 的 JSLint 功能将帮助您找到代码中几乎所有的错误

最好的祝福

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-13T21:29:19.460

另一种可能性是使用 weinre：

[http://people.apache.org/~pmuellr/weinre-docs/latest/](http://people.apache.org/~pmuellr/weinre-docs/latest/)

通过 node.js 安装它并使用以下命令运行 weinre-server：

```
weinre --boundHost -all- 
```

然后在 index.html 中链接 weinre 调试器（用您的实际 IP 替换 localhost）：

```
<script src="http://127.0.0.1:8080/target/target-script-min.js#anonymous"></script> 
```

Weinre 将向您展示类似于浏览器中的开发人员工具的控制台和资源管理器。您可以在您的 PC 上通过`http://localhost:8080`在浏览器中调用来访问它。

编辑：也可以查看调试方法的摘要：[https ://github.com/phonegap/phonegap/wiki/Debugging-in-PhoneGap](https://github.com/phonegap/phonegap/wiki/Debugging-in-PhoneGap)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-22T08:30:13.103

现在情况可能发生了一些变化。

现在使用以下内容：

```
<preference name="loglevel" value="VERBOSE" /> 
```

# javascript - jquery ui手风琴避免关闭项目wnen点击另一个

> ID：13119503
> 
> 赞同：3
> 
> 时间：2012-10-29T10:09:46.567
> 
> 标签：javascript, jquery, jquery-ui, accordion

从现有的小提琴开始，我创建了这个示例：http: [//jsfiddle.net/2DaR6/90/](http://jsfiddle.net/2DaR6/90/)

这是html代码：

```
<div id="accordion">
  <h3 id="header1" class="accClicked"><a href="#">Section 1</a></h3>
    <div> Good Morning Stackoverflow</div>
  <h3 id="header2" class="accClicked"><a href="#">Section 2</a></h3>
    <div>Buongiorno Stackoverflow</div>
  <h3 id="header3" class="accClicked"><a href="#">Section 3</a></h3>
    <div>Bonjour Stackoverflow</div>
</div> 
```

这是js代码：

```
$(function() {
    var icons = {
        header: "ui-icon-circle-arrow-e",
        headerSelected: "ui-icon-circle-arrow-s"
    };
    $( "#accordion" ).accordion({
        icons: icons,
        collapsible: true
    });
    $( "#header1" ).click(function() {
        $( "#accordion" ).accordion( "option", "icons", false );
    }, function() {
        $( "#accordion" ).accordion( "option", "icons", icons );
    });
});​ 
```

如果我单击第 1 节，手风琴正确打开，但我希望单击其他项目，以前打开的项目不会关闭。我怎样才能获得这种行为？谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-29T10:27:43.977

您不应该将 jquery 手风琴用于这种目的。但是，覆盖任何元素事件行为相对容易。初始化手风琴时，您只需将点击处理程序覆盖到相应的元素。

在你的情况下，这给出了这样的东西：

```
$('#accordion .accClicked')
        .off('click')
    .click(function(){
        $(this).next().toggle('fast');
    });​ 
```

见工作[jsFiddle](http://jsfiddle.net/r4Q39/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-09T04:12:09.033

我同意手风琴可能不是最好的插件，但是您可以执行以下操作：

您可以更改使用 id 并将手风琴用作类，然后使用多个 div 来分解您的部分。

```
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<script>
      $(function() {
        $( ".accordion" ).accordion({collapsible: true, active: false});
      });
</script>
<div class="accordion">
  <h3>header 1</h3>
  <p>this is my content 1</p>
</div>

<div class="accordion">
  <h3>header 2</h3>
  <p>this is my content 2</p>
</div>
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:18:36.977

可能你需要另一个插件折叠/展开吗？例如[这个](http://webcloud.se/jQuery-Collapse/)（见页面底部的例子）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-26T19:02:15.853

$(".xyz").accordion({ **collapsible: true,**
**active: false,** heightStyle: "content", icons:"", });

# php - IPN 验证失败

> ID：13119504
> 
> 赞同：4
> 
> 时间：2012-10-29T10:10:02.607
> 
> 标签：php, paypal, paypal-ipn

我正在将 paypal 与 IPN 集成，（我在许多网站上都这样做过，以前从未遇到过这个问题。）我正在使用 PHP Paypal IPN 集成类 - Micah Carrick。

我正在沙盒帐户上对其进行测试。我从贝宝收到的所有数据都很好。但 IPN 验证总是失败。

我在许多项目中使用过相同的课程，但从未遇到过这个问题，请指导我，这个问题的原因是什么。

这是我在日志文件中得到的：

```
[10/29/2012 5:02 AM] - FAIL: IPN Validation Failed.
IPN POST Vars from Paypal:
mc_gross=10.00, protection_eligibility=Eligible, address_status=confirmed, payer_id=LZ3J5RXT7ZRSW, tax=0.00, address_street=1 Main St, payment_date=03:02:41 Oct 29, 2012 PDT, payment_status=Completed, charset=windows-1252, address_zip=95131, first_name=AProfessionals, mc_fee=0.59, address_country_code=US, address_name=AProfessionals Inc, notify_version=3.7, custom=, payer_status=verified, business=brian_1351496665_biz@a1professionals.com, address_country=United States, address_city=San Jose, quantity=1, verify_sign=AV0bkFkV43dlmXuqlWjyHTfWE.SBANTBgLiHNABcsVQsMvyhdLQg8mTi, payer_email=harry_1351496900_per@a1professionals.com, txn_id=9ES74523RB953760X, payment_type=instant, last_name=Inc, address_state=CA, receiver_email=brian_1351496665_biz@a1professionals.com, payment_fee=0.59, receiver_id=NEV59MNUMBET6, txn_type=web_accept, item_name=Paypal Test Transaction, mc_currency=USD, item_number=, residence_country=US, test_ipn=1, handling_amount=0.00, transaction_subject=Paypal Test Transaction, payment_gross=10.00, shipping=0.00, ipn_track_id=74d5b2446aded,

IPN Response from Paypal Server:
HTTP/1.0 302 Found
Location: https://www.sandbox.paypal.com
Server: BigIP
Connection: close
Content-Length: 0 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-12T03:14:39.780

根据我的经验，这些是 IPN 验证失败的 3 个常见原因

1)`cmd=_notify-validate`被附加而不是附加......这有时会导致问题。所以而不是：

```
 $post_string = '';    
  foreach ($_POST as $field=>$value) { 
     $this->ipn_data["$field"] = $value;
     $post_string .= $field.'='.urlencode(stripslashes($value)).'&'; 
  }
  $post_string.="cmd=_notify-validate"; // append ipn command 
```

按照此页面上的代码：[https ://www.x.com/developers/PayPal/documentation-tools/code-sample/216623](https://www.x.com/developers/PayPal/documentation-tools/code-sample/216623)

```
// read the post from PayPal system and add 'cmd'
$req = 'cmd=_notify-validate';
if(function_exists('get_magic_quotes_gpc')) {
   $get_magic_quotes_exists = true;
} 
foreach ($myPost as $key => $value) {        
   if($get_magic_quotes_exists == true && get_magic_quotes_gpc() == 1) { 
        $value = urlencode(stripslashes($value)); 
   } else {
        $value = urlencode($value);
   }
   $req .= "&$key=$value";
} 
```

2）地址是多行的。

```
// read post data from PayPal and add 'cmd'
$req = 'cmd=_notify-validate';
foreach ($_POST as $key => $value)
{
    // put line feeds back to CR+LF as that's how PayPal sends them out
    // otherwise multi-line data will be rejected as INVALID
     $value = str_replace("\n", "\r\n", $value);
        $this->ipn_data_arr[$key] = $value;
        $req .= '&'.$key.'='.urlencode(stripslashes($value)); 
    } 
```

您可以通过转到您的 paypal acc 并从 1 行更改为 2 行并使用您的 acc 进行交易来自己测试这一点。2 行悲惨地失败了，`$value = str_replace("\n", "\r\n", $value);`我们都想知道为什么贝宝在他们的示例代码中没有那行......

3) 用户的姓名、地址等中包含非英文字符（可能不适用于您，但因为我们正在讨论该主题）

见：[http](http://blog.tentaclesoftware.com/archive/2010/04/09/87.aspx) ://blog.tentaclesoftware.com/archive/2010/04/09/87.aspx 要点是：

```
Log into PayPal
Click the ‘Profile’ link in the menu bar under ‘My Account’
Click the ‘Language Encoding’ link under the ‘Selling Preferences’ column
Click ‘More Options’
Set ‘Encoding’ to ‘UTF-8’
Click ‘Save’ 
```

如果您注意到所有 3 中都有一个共同的主题：数据的顺序、数据的编码等，如果只有一件小事略有不同，它就会失败。因此，如果不是这三个原因，请按照这些思路思考。查找并检查其数据可能导致问题的字段...非标准字符、隐藏的元数据等

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-05T13:11:31.010

更改了贝宝库中的一件事

// 打开到paypal的连接

```
 $fp = fsockopen(‘ssl://’.$url_parsed[host],“443”,$err_num,$err_str,30);

//$fp = fsockopen($url_parsed[host],“80”,$err_num,$err_str,30); 
```

# jquery - 在每个 jquery-ajax 调用上显示加载 div

> ID：13119506
> 
> 赞同：1
> 
> 时间：2012-10-29T10:10:12.693
> 
> 标签：jquery

我在 asp.net 中有一个带有大量 jquery-ajax 调用的 Web 应用程序。
我在我的母版页上放置了一个 div，并且在每次调用时我都在 div 上显示如下。

```
function updateInformation() {
$("#loading").show();
$.ajax({
    type: "POST",
    url: "url..",
    data: { "CustMobile": a, "CustName": b, "CustEmail": c },
    success: function (data) {
        $("#loading").hide();
        //do some processing
    },
    error: function () {
        $("#loading").hide();
    }
});} 
```

我所有的 jQuery 函数都写在一个 .js 文件中。
有什么方法可以为每个 jquery-ajax 调用显示更新的 div。
我知道有两个全局函数 ajaxStart & ajaxStop。
但它们会影响我现有的 jquery 调用吗？

# python - 如何在 pandas.multiindex 级别应用条件？

> ID：13119515
> 
> 赞同：3
> 
> 时间：2012-10-29T10:10:58.077
> 
> 标签：python, pandas, dataframe, multi-index

我的数据如下所示（`ch`= 通道，`det`= 检测器）：

```
ch det time counts 
1   1    0    123
    2    0    121
    3    0    125 
2   1    0    212
    2    0    210
    3    0    210 
1   1    1    124
    2    1    125
    3    1    123 
2   1    1    210
    2    1    209
    3    1    213 
```

请注意，实际上，时间列是`float`12 位左右的有效数字，对于 1 次测量的所有检测器来说仍然是恒定的，但它的值是不可预测的，也不按顺序排列。

我需要创建一个如下所示的数据框：

```
c  time  mean_counts_over_detectors
1   0       xxx
2   0       yyy
1   1       zzz
1   1       www 
```

即，我想`np.mean`在每个时间分别应用 1 个通道的检测器的所有计数。我可以编写笨拙的循环，但我觉得 pandas 必须为此内置一些东西。我仍然是 pandas 的初学者，尤其是 MultiIndex 有很多概念，我不确定我应该在文档中寻找什么。

标题包含“条件”，因为我认为也许我想要一个通道的所有检测器的平均值对于时间相同的计数这一事实可以表示为切片条件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T14:05:50.187

与 @meteore 相同，但具有 MultiIndex。

```
In [55]: df
Out[55]:
             counts
ch det time
1  1   0        123
   2   0        121
   3   0        125
2  1   0        212
   2   0        210
   3   0        210
1  1   1        124
   2   1        125
   3   1        123
2  1   1        210
   2   1        209
   3   1        213

In [56]: df.index
Out[56]:
MultiIndex
[(1L, 1L, 0L) (1L, 2L, 0L) (1L, 3L, 0L) (2L, 1L, 0L) (2L, 2L, 0L)
 (2L, 3L, 0L) (1L, 1L, 1L) (1L, 2L, 1L) (1L, 3L, 1L) (2L, 1L, 1L)
 (2L, 2L, 1L) (2L, 3L, 1L)]

In [57]: df.index.names
Out[57]: ['ch', 'det', 'time']

In [58]: df.groupby(level=['ch', 'time']).mean()
Out[58]:
             counts
ch time
1  0     123.000000
   1     124.000000
2  0     210.666667
   1     210.666667 
```

小心浮点数和 groupby（这是否独立于 MultiIndex），由于与浮点数相关的数字表示/准确性限制，组可能会有所不同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:51:48.563

不使用 MultiIndexes（如果你有它们，你可以通过 摆脱它们`df.reset_index()`）：

```
chans = [1,1,1,2,2,2,1,1,1,2,2,2]
df = pd.DataFrame(dict(ch=chans, det=[1,2,3,1,2,3,1,2,3,1,2,3], time=6*[0]+6*[1], counts=np.random.randint(0,500,12))) 
```

使用`groupby`and`mean`作为聚合函数：

```
>>> df.groupby(['time', 'ch'])['counts'].mean()
time  ch
0     1     315.000000
      2     296.666667
1     1     178.333333
      2     221.666667
Name: counts 
```

其他聚合函数可以通过`agg`：

```
>>> df.groupby(['time', 'ch'])['counts'].agg(np.ptp) 
```

# jquery - 如果 div 值等于 '1' 隐藏另一个 div

> ID：13119516
> 
> 赞同：3
> 
> 时间：2012-10-29T10:11:02.023
> 
> 标签：jquery, html, hide, show

我有一个 div 加载每页上的图像数量。例如：

```
<div class="totalimages">1</div>
<div id="arrows">NEXT</div> 
```

当我有一张图片时，我想隐藏#arrows div。我对 jQuery 不是很好，所以我想知道它的语法是什么，

> 如果 .totalimages div 等于“1”，则隐藏 div #arrows。

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T10:12:16.653

试试这个：

```
if ($(".totalimages").text() == "1") {
    $("#arrows").hide();
} 
```

或在一行中：

```
$("#arrows").toggle($(".totalimages").text() != "1"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:15:49.383

试试这个

```
if($('.totalimages').html() == 1){
    $("#arrows").hide();
}​ 
```

这是小提琴：http: [//jsfiddle.net/paw5w/15/](http://jsfiddle.net/paw5w/15/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:20:02.617

我可以建议您将演示文稿与数据分离吗？使用新的 HTML5 属性，您可以以更简洁的方式实现此目的，而无需依赖脚本的演示文稿。这允许您更改显示图像总数的方式，并且仍然达到相同的效果，即隐藏箭头：

```
<div class="totalimages" data-total-images="1">1</div>
<div id="arrows">NEXT</div>

var totalImages = parseInt($('.totalimages').data('totalImages'), 10);
if(totalImages <= 1) {
  $('#arrows').hide();
} 
```

如您所见，我添加了一个`data-`-attribute，其中包含您感兴趣的数据。现在，您可以在`totalimages`不破坏脚本的情况下更改 -div 的文本：

```
<div class="totalimages" data-total-images="15">Showing image 1 out of 15</div> 
```

# asp.net - session[] 保留数据多长时间？

> ID：13119520
> 
> 赞同：10
> 
> 时间：2012-10-29T10:11:27.063
> 
> 标签：asp.net, session, session-variables

我正在尝试使用会话，但是当我需要将值返回为 null 时？

我的网站从登录开始，我将用户名放入会话中。

```
Session["userName"] = login.UserName; 
```

然后网站被重定向到一个新页面。

```
return RedirectToAction("Choice", new { token = token }); 
```

在女巫之后，我使用链接移动到我的下一页。

```
@Html.ActionLink("Download", "Download", new {token = Model.Token}) 
```

在我将代码定向到 Home 控制器中的操作结果的地方，同一个控制器具有我的登录功能。

```
@Html.ActionLink("Download", "DownloadFile", new { fileid = item.Key, token = Model.Token, platform = "windows", filename = item.Value }, new {@class = "DownloadLink" } ) 
```

我尝试再次调用我的会话值。

```
formMobiApi.GetFile(token, fileid, platform, filename, Session["userName"].ToString(), tasks, taskId, spreadSheetStatus); 
```

这些操作中的任何一个是否会导致我的会话值为空？

我可以使用这样的会话吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-29T11:02:45.093

如果您没有在 web.config 中手动设置会话状态，那么您**应该**拥有的默认值是进程中（会话存储在 Web 服务器的 RAM 中）并且超时为 20 分钟 -[有关会话状态的更多信息，请参见此处](http://msdn.microsoft.com/en-us/library/ms178586%28v=vs.100%29.aspx)。

您可以使用以下内容在 web.config 文件中手动设置您的状态：

```
<configuration>
    <system.web>
        <sessionState mode="InProc" timeout="20"></sessionState>
    </system.web>
</configuration> 
```

现在，谈谈你的实际问题。我不确定为什么您的会话没有持续存在，并且我无法找到可行的方法，因为我没有要调试的代码副本。我猜我会说你`HttpContext`与初始化会话时不同，当你请求它时，你的上下文键是不同的。尝试改变

```
Session["userName"].ToString(); 
```

至

```
HttpContext.Current.Session["userName"].ToString(); 
```

乍一看，这看起来有点奇怪，因为您实际上是在做完全相同的事情。不同之处在于当前对象是否无权访问`HttpContext`您需要显式定义要读取的上下文。

再次查看您提供的代码后，没有什么不寻常的 - 这应该可以。我真的开始相信这是一个环境/配置问题。如果您使用**表单身份验证**，请检查您的 web.config 文件中的超时。此外，如果您在 IIS 中托管（而不是 Visual Studio 的 Web 服务器 - 尽管您也应该检查这一点！）尝试删除您的应用程序池并重新创建它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-16T14:34:48.447

您的会话变量设置正确，并且被正确调用以获取值。

唯一需要调试的是实际查看**login.UserName**是否具有实际值。因为您可能只是将会话变量设置为 null( **login.UserName** )。

如果这不起作用，也尝试将其添加到您的 web.config 文件中。

```
<sessionState mode="InProc" timeout="20" customProvider="DefaultSessionProvider">
      <providers>
        <add name="DefaultSessionProvider" type="System.Web.Providers.DefaultSessionStateProvider, System.Web.Providers, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection" />
      </providers>
</sessionState> 
```

# java - 如何重命名结果程序集以安装在 .m2 中

> ID：13119521
> 
> 赞同：1
> 
> 时间：2012-10-29T10:11:30.573
> 
> 标签：java, maven, maven-assembly-plugin

我有多个项目。模块之一是程序集，具有将核心（库）和示例放在一个 zip 中的描述符。

```
<assembly>
<id>assembly</id>
<formats>
    <format>zip</format>
    <format>dir</format>
</formats>
<includeBaseDirectory>false</includeBaseDirectory>

<dependencySets>
    <dependencySet>
        <useTransitiveDependencies>false</useTransitiveDependencies>
        <outputDirectory>/</outputDirectory>
    </dependencySet>
</dependencySets> 
```

这是我的程序集，这是插件配置

```
<plugins>
        <plugin>
            <artifactId>maven-assembly-plugin</artifactId>
            <configuration>
                <descriptors>
                    <descriptor>assembly.xml</descriptor>
                </descriptors>
            </configuration>
            <executions>
                <execution>
                    <id>package-assembly</id>
                    <phase>package</phase>
                    <goals>
                        <goal>single</goal>
                    </goals>
                </execution>
            </executions>
        </plugin>
    </plugins> 
```

我已经在我的 .m2 文件夹中安装了生成的 zip，但名称是 assembly-ccp-.... 我需要将其重命名为 my-project，它可以通过插件中的 2 行来完成：

```
<finalName>my-project</finalName>
<appendAssemblyId>false</appendAssemblyId> 
```

它在目标文件夹中很好（我可以看到 my-project.zip），但现在生成的 zip 没有安装在我的 .m2 文件夹中。那么，问题是如何让它安装在我的 .m2 文件夹中？（从父项目运行：全新安装）

找到的输出：

```
[INFO] Building Assebly
[INFO]    task-segment: [clean, install]
[INFO] ------------------------------------------------------------------------
[INFO] [clean:clean {execution: default-clean}]
[INFO] Deleting directory /home/dmitry/mbus/trunk/assembly/target
[INFO] [site:attach-descriptor {execution: default-attach-descriptor}]
[INFO] Preparing source:jar
[WARNING] Removing: jar from forked lifecycle, to prevent recursive invocation.
[INFO] No goals needed for project - skipping
[INFO] [source:jar {execution: default}]
[INFO] [assembly:single {execution: package-assembly}]
[INFO] Reading assembly descriptor: assembly.xml
[INFO] Processing DependencySet (output=/)
[WARNING] Cannot include project artifact: com.comcast.xcal.mbus:assembly:pom:CCP-LATEST-SNAPSHOT; it doesn't have an associated file or directory.
[INFO] Building zip: /home/dmitry/mbus/trunk/assembly/target/my-project.zip
[WARNING] Configuration options: 'appendAssemblyId' is set to false, and 'classifier' is missing.
Instead of attaching the assembly file: /home/dmitry/mbus/trunk/assembly/target/my-project.zip, it will become the file for main project artifact.
NOTE: If multiple descriptors or descriptor-formats are provided for this project, the value of this file will be non-deterministic!
[INFO] Processing DependencySet (output=/)
[INFO] Copying files to /home/dmitry/mbus/trunk/assembly/target/my-project.dir
[WARNING] Assembly file: /home/dmitry/mbus/trunk/assembly/target/my-project.dir is not a regular file (it may be a directory). It cannot be attached to the project build for installation or deployment.
[INFO] [install:install {execution: default-install}]
[INFO] Installing /home/dmitry/mbus/trunk/assembly/pom.xml to /home/dmitry/.m2/repository/com/mbus/assembly/CCP-LATEST-SNAPSHOT/assembly-CCP-LATEST-SNAPSHOT.pom
[INFO] [javadoc:jar {execution: default}]
[INFO] Not executing Javadoc as the project is not a Java classpath-capable package
[INFO] 
[INFO] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-16T08:04:10.947

在 .m2 存储库中发布的名称始终`${module.artifactId}-${module.version}.${module.extension}`是已设置的，并且在文件夹`finalName`中正确重命名了包。`target`

我找到了两种方法来改变它：

1.  不是真正的解决方案：更改 artifactId（但这是我最终为我的项目选择的解决方案）

2.  `id`在程序集 XML 中设置一个：

    在 assembly/resources.xml -> `<id>`= 所需的后缀（例如`<id>myappid</id>`）

    在 pom.xml maven-assembly-plugin 构建部分，设置`appendAssemblyId`为 true

    结果将是：

    *   目标文件夹中的文件名 =`${artifactId}-${version}-${assemblyId}.zip`
    *   .m2 repo 文件夹中的文件 = 与目标中的相同

# android - 在eclipse中找不到源

> ID：13119523
> 
> 赞同：0
> 
> 时间：2012-10-29T10:11:42.797
> 
> 标签：android, database, debugging

我编写了一个程序，从用户那里获取数据并将其存储在数据库中。这个数据库存储在资产文件夹中，当我编写程序并在行前使用断点时它存在

```
 private OnClickListener mAddListener = new OnClickListener() {} 
```

它给了我这个错误：找不到源。我该怎么办？

这是我的主要代码：//------------主活动类---------

```
public class MainActivity extends Activity
{
    BDAdapter db = new BDAdapter(this);
    EditText name;
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        // Capture our button from layout
        Button setButton = (Button)findViewById(R.id.go);
        Button getButton = (Button)findViewById(R.id.genRan);
        // Register the onClick listener with the implementation above
        setButton.setOnClickListener(mAddListener);
        getButton.setOnClickListener(mAddListener);

    }
    // Create an anonymous implementation of OnClickListener
    private OnClickListener mAddListener = new OnClickListener() 
    {
        public void onClick(View v) 
        {
            switch(v.getId())
            {
            case R.id.go:
                db.open();
                long id = 0;
                // do something when the button is clicked
                try
                {
                    name = (EditText)findViewById(R.id.Quote);
                    db.insertQuote(name.getText().toString());

                    id = db.getAllEntries();

                    Context context = getApplicationContext();
                    CharSequence text = "The quote '" + name.getText() + "' was added successfully!\nQuotes Total = " + id;
                    int duration = Toast.LENGTH_LONG;

                    Toast toast = Toast.makeText(context, text, duration);
                    toast.show();
                    name.setText("");
                }
                catch (Exception ex)
                {
                    Context context = getApplicationContext();
                    CharSequence text = ex.toString() + "ID = " + id;
                    int duration = Toast.LENGTH_LONG;

                    Toast toast = Toast.makeText(context, text, duration);
                    toast.show();
                }

                db.close();
                break;
            case R.id.genRan:
                db.open();
                //long id1 = 0;
                // do something when the button is clicked
                try
                {
                    //String quote = "";
                    //quote = db.getRandomEntry();
                    //Context context = getApplicationContext();
                    //CharSequence text = quote;
                    //int duration = Toast.LENGTH_LONG;

                    //Toast toast = Toast.makeText(context, text, duration);
                    //toast.show();

                     db.open();
                        Cursor c = db.getAllTitles();
                       if (c.moveToFirst())
                       {
                          do {          
                                DisplayTitle(c);
                            } while (c.moveToNext());
                       }
                        db.close();

                }
                catch (Exception ex)
                {
                    Context context = getApplicationContext();
                    CharSequence text = ex.toString();
                    int duration = Toast.LENGTH_LONG;

                    Toast toast = Toast.makeText(context, text, duration);
                    toast.show();
                }
                db.close();
            }
        }

    };
    public void DisplayTitle(Cursor c)
    {
        Toast.makeText(this, 
                "NAME: " + c.getString(0) + "\n" ,

                Toast.LENGTH_LONG).show();        
    } 

} 
```

//------------------------DBAdapter 类------------------------ ----

```
public class BDAdapter extends SQLiteOpenHelper {
     private Context mycontext;
int id=0;
     private String DB_PATH = "data/data/com.example.dd20/databases/";

        private static String DB_NAME = "ff.sqlite";
        public static final String KEY_ROWID = "_id";
        public static final String KEY_QUOTE = "name";
        public static final String DATABASE_TABLE = "ff1";
        private static final String TAG = "BDAdapter";
        public static final String DATABASE_CREATE =
                "create table ff1 (_id integer primary key, "
                        + "name text );";

     //   private DatabaseHelper DBHelper;
        private SQLiteDatabase db;
       // private SQLiteDatabase db;
        // the extension may be .sqlite
        // or .db
      //  public SQLiteDatabase myDataBase;

        public BDAdapter(Context context) {
            super(context, DB_NAME, null, 1);

            this.mycontext = context;

        }

        public void createDataBase() throws IOException{

            boolean dbExist = checkDataBase();

            if(dbExist){
            //do nothing - database already exist
            }else{

            //By calling this method and empty database will be created into the default system path
            //of your application so we are gonna be able to overwrite that database with our database.
            this.getReadableDatabase();

        //  try {

        //  copyDataBase();

        //  } catch (IOException e) {
     //      
        throw new Error("Error copying database");

      //    }
            }

            }

        private boolean checkDataBase(){

            SQLiteDatabase checkDB = null;

            try{
            String myPath = DB_PATH + DB_NAME;
            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);

            }catch(SQLiteException e){

            //database does't exist yet.

            }

            if(checkDB != null){

            checkDB.close();

            }

            return checkDB != null ? true : false;
            }

      // private void copyDataBase() throws IOException{

            //Open your local db as the input stream
      //    InputStream myInput = mycontext.getAssets().open(DB_NAME);

            // Path to the just created empty db
      //    String outFileName = DB_PATH + DB_NAME;

            //Open the empty db as the output stream
      //    OutputStream myOutput = new FileOutputStream(outFileName);

            //transfer bytes from the inputfile to the outputfile
      //    byte[] buffer = new byte[1024];
      //    int length;
      //    while ((length = myInput.read(buffer))>0){
      //    myOutput.write(buffer, 0, length);
      //    }

            //Close the streams
        //  myOutput.flush();
      //    myOutput.close();
       //   myInput.close();

        //  }

        public void open() {
            // Open the database
             String myPath = DB_PATH + DB_NAME;
             db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);

        }

        public synchronized void close() {
             if(db != null)
                 db.close();

                 super.close();
        }

        @Override
        public void onCreate(SQLiteDatabase db) {
            // TODO Auto-generated method stub
            db.execSQL(DATABASE_CREATE);

        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
           //  TODO Auto-generated method stub
      //  Log.w(TAG, "Upgrading database from version " + oldVersion + " to "
         //       + newVersion + ", which will destroy all old data");
     //   db.execSQL("DROP TABLE IF EXISTS ff1");
  //   onCreate(db);

        }

        public long insertQuote(String Quote) 
        {
            ContentValues initialValues = new ContentValues();
            initialValues.put(KEY_QUOTE, Quote);
            return db.insert(DATABASE_TABLE, null, initialValues);
        }

        public int getAllEntries() 
        {
             Cursor cursor = db.rawQuery(
                        "SELECT COUNT(name) FROM ff1 ", null);
                    if(cursor.moveToFirst()) {
                        return cursor.getInt(0);
                    }
                    return cursor.getInt(0);

        }

        public String getRandomEntry() 
        {

            id = getAllEntries();
            Random random = new Random();
            int rand = random.nextInt(getAllEntries());
            if(rand == 0)
                ++rand;
            Cursor cursor = db.rawQuery(
                      "SELECT name FROM ff1", null);
                    //"SELECT * FROM tblRandomQuotes",null);
                    if(cursor.moveToFirst()) {
                        return cursor.getString(0);

                    }
                    return cursor.getString(0);

        }

        public Cursor getAllTitles() 
        {
            return db.query(DATABASE_TABLE, new String[] {

                    KEY_QUOTE,
                    }, 
                    null, 
                    null, 
                    null, 
                    null, 
                    null);
        }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:19:25.053

如果你想调试你的`onClickListener`尝试设置断点`switch(v.getId())`开始

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:43:32.933

要查找 Android 操作系统的源，您必须将源位置附加到系统类。在日食中：

*   Ctrl-单击系统类
*   在上下文菜单中选择“打开声明”项
*   选择你的，在我的情况下 C:\Users\\AppData\Local\Android\android-sdk\sources\android-

这将为您提供所有系统类的 JavaDoc 帮助。

# java - Jackson custom deserializers creating empty pojo when reading list

> ID：13119529
> 
> 赞同：1
> 
> 时间：2012-10-29T10:12:04.863
> 
> 标签：java, json, jackson

I have the following json

```
{
"id":null,
"name":"Myapp",
"description":"application",
"myListA":["java.util.ArrayList",[{
    "id":50,
    "name":"nameA1",
    "myListB":{
        "id":48,
        "name":"nameB1",
        "myListC":["java.util.ArrayList",[{
            "id":1250,
            "name":"nameC1",
            "description":"nameC1_desc",
            "myReferenceObject":{
                "code":"someCodeA"
            }
        },{
            "id":1251,
            "name":"nameC2",
            "description":"nameC1_desc",
            "myReferenceObject":{
                "code":"someCodeB"
            } 
```

and so on.

I i wish to replace *myReferenceObject* with an item from persistence layer.

I followed [JacksonHowToCustomDeserializers](http://wiki.fasterxml.com/JacksonHowToCustomDeserializers)

My deserializer is as follows:

```
public class MyReferenceObjectCodeDeserializer extends JsonDeserializer<MyReferenceObjectBean> {

    @Override
    public ColumnReferenceBean deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {

        while (jp.nextToken() != JsonToken.END_OBJECT) {
            String fieldname = jp.getCurrentName();
            jp.nextToken();
            if ("code".equalsIgnoreCase(fieldname)) {
                MyReferenceObjectBean b = MyReferenceObjectServiceImpl.retrieveByCode(jp.getText());
                logger.info("returning " +b.toString());
                return b;
            }
        }
        logger.info("returning null");
        return null;
    }
} 
```

And I attache the module like so:

```
ObjectMapper mapper = new ObjectMapper();
    mapper.enableDefaultTyping();
    SimpleModule module = new SimpleModule("myModule", new Version(1, 0, 0, null));
    module.addDeserializer(MyReferenceObjectBean.class, new MyReferenceObjectCodeDeserializer());

    mapper.registerModule(module);
    try {
        return mapper.readValue(serializedJsonString, MyMainObjectBean.class);
    } catch (IOException e) {
        logger.error("Unable to parse=" + serializedJsonString, e);
    } 
```

everything debugs correctly however the resulting ***myListC*** list has double the amount of objects with even numbers holding the correct objects along with the correct myReferenceObject out of persistence (deserialized correctly using my module) and the odd elements holding empty Pojos, that is an object with null values for all variables.

Through debug, It never reaches return null in my custom deserializer, for it works properly each time its executed. The issue seems to be further up stream where it inserts blank **myListC** objects.

Any help would greeatly be appreciated.

Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T11:00:33.267

There is a logic problem in your code. You want to loop until you reach the end of the object but break your loop with return b (if block). This means that you will not read the object stream until its end.

Try something like this (didn't try it but should work).

```
public class MyReferenceObjectCodeDeserializer extends JsonDeserializer<MyReferenceObjectBean> {

@Override
public ColumnReferenceBean deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {
    MyReferenceObjectBean b = null;
    while (jp.nextToken() != JsonToken.END_OBJECT) {
        String fieldname = jp.getCurrentName();
        jp.nextToken();
        if ("code".equalsIgnoreCase(fieldname)) {
          b = MyReferenceObjectServiceImpl.retrieveByCode(jp.getText());
          logger.info("returning " +b.toString());
        }
    }
    if (b==null) logger.info("returning null");
    return b;
}
} 
```

You can also have a look at Genson [http://code.google.com/p/genson/](http://code.google.com/p/genson/) if you can change from jackson. In addition of some other features it is supposed to be easier to use. Here is how you can solve your problem with genson (for this example it is quite similar to jackson):

```
public class MyReferenceObjectCodeDeserializer implements Deserializer<MyReferenceObjectBean> {

public MyReferenceObjectBeandeserialize(ObjectReader reader, Context ctx) throws TransformationException, IOException {
        MyReferenceObjectBean b = null;
        reader.beginObject();
        while (reader.hasNext()) {
            reader.next();
            if ("code".equalsIgnoreCase(reader.name()))
                b = MyReferenceObjectServiceImpl.retrieveByCode(reader.valueAsString());
        }
        reader.endObject();
        return b;
    }
}

// register it
Genson genson = new Genson.Builder().withDeserializers(new MyReferenceObjectCodeDeserializer()).create();
MyClass myClass = genson.deserialize(json, MyClass.class); 
```

# webserver - Arduino：打开和关闭以太网服务器的可用性

> ID：13119531
> 
> 赞同：2
> 
> 时间：2012-10-29T10:12:10.400
> 
> 标签：webserver, arduino

我需要设置一个必须根据 Arduino UNO 上的某些条件打开和关闭的以太网（Web）服务器。

[我在库](http://www.arduino.cc/en/Reference/Ethernet)中阅读了`Server`该类的文档，似乎一旦启动就没有机会停止服务器，即没有对应的。[`Ethernet`](http://www.arduino.cc/en/Reference/Ethernet)`EthernetServer.begin()`

然后我想在该`setup`部分中设置服务器并根据给定条件提供传入连接：

```
EthernetServer server = EthernetServer(80);

void setup() {
  Ethernet.begin(mac, ip);
  server.begin();
}

void loop() {

  if (condition) {

    EthernetClient client = server.available();
    if (client == true) {
      // serve the client...
    }

  } else {
    // do something else
  }

} 
```

这确实有效，但客户端没有被正确拒绝：它只是处于待处理状态。在浏览器中可以看到网页无限期加载，如果条件变为`true`客户端，最终会为条件为时发出的请求提供服务`false`。

我没有看到拒绝请求的方法（没有对应的`EthernetServer.available()`）。我唯一想到的就是执行一个

```
server.available().stop(); 
```

在 else 块的开头。这可以防止在条件为 时为发出的请求提供服务`false`，但不会阻止客户端和服务器之间的连接发生（就像打开连接并立即关闭它一样）。

我怎么能避免在条件为时建立连接`false`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T19:44:22.230

当您希望禁用服务器时，您能否只返回一个 404 标头？

```
if(!condition)
{
     client.println("HTTP/1.1 404 OK");
     client.println("Content-Type: text/html");
     client.println("Connnection: close");
     client.println();
     client.println("<!DOCTYPE HTML>");
     client.println("<html><body>404</body></html>");
}
else
{
     // serve client
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T11:37:04.507

我猜这里是因为我手边没有我的 Arduino 收藏，但是从记忆和阅读参考资料中，你可以尝试类似的东西

```
void loop() 
{
    EthernetClient client = server.available();
    if ( !condition )
    {
        client.stop(); // break connection and do something else
    }
    else
    {
        // serve the client...
    }
} 
```

希望这至少可以帮助您朝着正确的方向前进。

干杯，

# qt - 在 qt-label 中调整图像大小

> ID：13119534
> 
> 赞同：2
> 
> 时间：2012-10-29T10:12:19.360
> 
> 标签：qt, qt4, pyqt

我有一个 qt 标签，默认情况下其中有一个占位符图像：

```
self.label.setPixmap(QtGui.QPixmap(_fromUtf8("place_holder.jpg"))) 
```

有一个功能可以更新标签中包含的图像，即：

```
def selectFile(self):
image = QtGui.QFileDialog.getOpenFileName(None, 'Select Reference Image', '', '*.jpg')
self.label.setPixmap(QtGui.QPixmap(_fromUtf8(image))) 
```

这很好用（图像已更新），但如果用于更新标签的图像与占位符图像的大小不同，它也会变形。

有没有什么办法解决这一问题？我的意思是调整图像并保持标签的大小？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:59:35.237

每次导入时[缩放图像。](http://doc.qt.digia.com/qt/qpixmap.html#scaled)如果您已经为标签确定了尺寸，您甚至可以缩放占位符。尝试（C++）

```
//initial setup
QPixmap pixPlaceHolder = QPixmap(_fromUtf8("place_holder.jpg");
QSize desiredsize = pixPlaceHolder.size(); // or any of the size you want 
```

每次选择文件时：

```
 label.setPixmap(QPixmap(_fromUtf8(image).scaled(desiredsize)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T13:10:38.377

您可以尝试设置[scaledContents 属性](http://qt-project.org/doc/qt-4.8/qlabel.html#scaledContents-prop)：

```
self.label.setScaledContents(True)
self.label.setPixmap(QPixmap("your_image.jpeg")) 
```

这对我来说可以。

请注意，这会缩放图像以填充所有可用空间。这意味着除非标签大小和图像具有相同的纵横比，否则不会保留图像的纵横比。[如您在此处](http://qt-project.org/doc/qt-4.8/qpixmap.html#scaled)`QPixmap.scale`的图片中看到的，使用该方法您将遇到同样的问题。

# c# - 如何在 MonoDevelop/Visual Studio 中跳过加载项目

> ID：13119546
> 
> 赞同：3
> 
> 时间：2012-10-29T10:13:09.573
> 
> 标签：c#, visual-studio, mono, monodevelop, projects-and-solutions

我有一个包含多个项目的 Visual Studio (2010/2012) 解决方案；有些在 WPF 中，因此与 MonoDevelop（3.0.5 版）或 Mono 不兼容。

当我在 MonoDevelop 中打开解决方案时，我会弹出一个提示（对于每个不兼容的项目）：

`Could not load project '{project path}' with unknown item type {60dc8134-eba5-43b8-bcc9-bb4bc16c2548};{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}`

我可以从解决方案文件中删除特定项目，但是我需要维护两个解决方案文件（一个用于 Visual Studio，一个用于 MonoDevelop）。

我已经知道如何在构建期间跳过特定项目（在构建配置中）；我正在寻找任何类似的方法来在加载解决方案时静默失败/跳过特定项目，以避免弹出窗口。感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:19:35.977

您可以在Visual Studio中打开解决方案，在需要排除的项目上右键单击并`Unload Project`从菜单中选择。保存您的解决方案并在 MonoDevelop 中打开它。

您只需在 Visual Studio 中再次打开解决方案时单击`Load Project`同一位置。

![卸载项目](../Images/46a1a237cd41b0e66b74d9a71919422a.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-04T20:49:05.060

在 OSX El Capitan 10.11.16 上安装 Unity 5.4.2f2 并在 MonoDevelop 5.9.6 中创建并打开我的第一个脚本后，我得到了相同的弹出错误： `Could not load project'Assembly-CSharp.csproj' with unknown item type '{...}'`

我通过导航到以下菜单并启用 MonoDevelop Assembly Browser 来解决它：

**MonoDevelop-Unity > 插件管理器 > 已安装 > IDE 扩展 > MonoDevelop 程序集浏览器 > 启用**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-25T09:17:02.593

尝试跳过该项目的编译。

您还可以定义自己的编译配置。

![在此处输入图像描述](../Images/fd635f6f910346436329cbac7f389a43.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-06T19:04:14.567

在单声道上，您可以尝试检查是否启用了 C# 语言绑定。在我的情况下，他们不是，这解决了它。

加载项管理器 -> 语言绑定 -> 启用 C# 绑定

# javascript - 从 Jquery 的 Get 函数返回值

> ID：13119548
> 
> 赞同：0
> 
> 时间：2012-10-29T10:13:25.963
> 
> 标签：javascript, jquery

嗨，我正在尝试从 jquery Get 请求的 get 函数中获取返回值。

我已经尝试了很多方法，但没有成功。我尝试过的两种形式是：

1)

```
GetResultOutput = function () {
    var outPut = "No Data Found";
    var test = test();
    return test["outPut"];
}

test = function()
{
    outPut = "No Data Found";
    **return** $.ajax({
        type: "GET",
        url: serviceUrl,
        dataType: "xml",
        success: function (xml) {
                    outPut = "done";
        }
    });
} 
```

2)

```
GetResultOutput = function () {
    outPut = "No Data Found";
    $.ajax({
        type: "GET",
        url: serviceUrl,
        dataType: "xml",
        success: function (xml) {
            outPut = "done";
        }
    });
    return outPut;
} 
```

但是他们两个都没有给我任何结果..

第二个输出我没有找到数据。和第一个在谷歌搜索时首选的...结果未定义

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:23:10.527

而不是尝试获取输出然后像这样处理它：

```
var output = GetResultOutput();
process(output); 
```

您可以将进程作为回调传递，例如：

```
var GetResultOutput = function (callback) {
    $.ajax({
        type: "GET",
        url: serviceUrl,
        dataType: "xml",
        success: function (xml) {
            callback(xml);
        }
    });
};

// usage:
GetResultOutput(process); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:23:33.930

Ajax 请求是异步的，这意味着您不能立即从调用中“返回”数据。这就是为什么所有形式的`$.ajax`在接收到数据或发生错误等时都会调用一个或多个回调。

这意味着您的方法必须如下所示：

```
GetResultOutput = function (callback) {
   $.ajax({
        type: "GET",
        url: serviceUrl,
        dataType: "xml",
        success: callback
    });
} 
```

回调看起来像：

```
function callback(xml)
{
   console.log('done: ' + xml);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:25:47.357

您还可以使用以下方法使您的 ajax 调用同步：

```
 $.ajax({
        type: "GET",
        url: serviceUrl,
        async: false,
        dataType: "xml",
        success: function (xml) {
            outPut = "done";
        }
    }); 
```

# reference - 未复制 MSBuild 引用

> ID：13119549
> 
> 赞同：0
> 
> 时间：2012-10-29T10:13:27.960
> 
> 标签：reference, msbuild

考虑以下设置：

```
ProjectA
    References
        Foo
        Bar 
```

ProjectA 在他的代码中仅使用对 Foo 的静态引用，而不是 Bar，这个仅通过反射打开。

然后我们有ProjectB

```
ProjectB
    References
        ProjectA 
```

使用 MSBuild 编译它会在 ProjectB 的输出文件夹中生成 ProjectA.dll 和 Foo.dll。

但是，有没有一种方法可以告诉 MSBuild（VS 似乎默认这样做）我也需要 Bar.dll，而不将 Bar 添加到 ProjectB 的引用中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:58:11.643

几天前我遇到了同样的问题。我找到的解决方案是创建一个虚拟类，从 ProjectA 中的 Bar 实例化一个对象。这应该会生成 Bar.dll。我不知道为什么 Msbuild 会这样工作，但确实如此。有谁知道更好的解决方案？

# javascript - CSS 下拉菜单的行为可以像 Windows7 下拉菜单一样吗？

> ID：13119550
> 
> 赞同：8
> 
> 时间：2012-10-29T10:13:29.573
> 
> 标签：javascript, html, css

假设菜单具有以下结构：

```
<li class="parent-of-all"><a href="">Parent</a>
    <ul class="sub-menu level-0">
        <li><a href="">Item 1</a></li>
        <li><a href="">Item 2</a></li>
        <li><a href="">Item 3</a></li>
        <li><a href="">Item 4</a>
            <ul class="sub-menu level-1">
                <li><a href="">Item 1.1</a></li>
                <li><a href="">Item 1.2</a></li>
                <li><a href="">Item 1.3</a>
                    <ul class="sub-menu level-2">
                        <li><a href="">Item 2.1</a></li>
                        <li><a href="">Item 2.2</a>
                            <ul class="sub-menu level-3">
                                <li><a href="">Item 3.1</a></li>
                                <li><a href="">Item 3.2</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</li> 
```

这就是样式化时的样子（请注意嵌套的子菜单是`position: absolute; left: 100%;`）。

![在此处输入图像描述](../Images/8435f6d975064e9dcf92ce1532714162.png)

现在的问题是 - 我可以避免它被推离屏幕吗？我正在寻找 Windows7 菜单使用的解决方案（它们永远不会离开屏幕）。有一些简单的 Javascript 检查吗？我认为这样做`left: -100%;`会起作用，但在什么条件下？我只需要一些想法，我可以用 Javascript 编写代码 :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:38:13.640

据我所知，没有办法只用 CSS 来做这个检查。您将不得不使用 javascript。最直接的方法是将鼠标悬停/鼠标悬停（或悬停，如果您使用 jquery）绑定到项目，然后将元素 x-offset + width 与窗口宽度进行比较。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T12:09:13.570

使用纯 CSS 解决方案，您可以随时更改子菜单的位置。当第一个被放置在其父级的右侧时，以下（第三个）子菜单可以位于左侧，依此类推。也许你甚至可以使用`:nth-child`-selector 来做到这一点。

之后，您可以为更宽的屏幕创建例外，只需从第 n 个子菜单开始交替左侧位置（使用 CSS 媒体查询）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:39:57.963

不，您需要使用 JavaScript 来计算位置

# android - 如何在android中使用全局类变量

> ID：13119554
> 
> 赞同：0
> 
> 时间：2012-10-29T10:13:42.673
> 
> 标签：android, android-emulator

嗨，我在这里做一个应用程序。我正在使用全局类变量。它运行良好，但如果我使用更多的 globalclass 变量，我有时会遇到内存异常。

我试过这个：

```
 public class SecondClass extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.second);

    TextView tv = (TextView)findViewById(R.id.tv);
    tv.setText("Global String : " + GlobalClass.myVal);
}
 }

  class GlobalClass extends Application {

   static String myVal;

  } 
```

这是正确的还是不正确的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:15:40.110

你可以这样使用

```
public class GlobalVar {

    public int getMyVar() {
        return myVar;
    }

    public void setMyVar(int myVar) {
        this.myVar = myVar;
    }

    private int myVar = 0;
    private static GlobalVar instance;

    static {
        instance = new GlobalVar();
    }

    private GlobalVar() {
    }

    public static GlobalVar getInstance() {
        return GlobalVar.instance;
    }

} 
```

然后你可以打电话

```
GlobalVar.getInstance().setMyVar(int); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T10:16:35.320

首先，您不需要静态变量在应用程序类中声明全局变量，

所以将您的代码更改为：

```
class GlobalClass extends Application {

   public String myVal;

  } 
```

然后无论您需要在何处访问此数据，都可以通过以下方式获取 Application 对象：

```
GlobalClass global=(GlobalClass)context.getApplication();
global.myVal="anything"; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:25:38.560

您还可以明智地使用全局变量活动类。例如

```
 public class SecondClass extends Activity {
String S1,S2,S3;
EditText edt1,Edt2,Edt3;
Button btn1,btn2,btn3;
//like this wat Declare all variable you want to use in your Present Activity Class
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
     setContentView(R.layout.second);
edt1= (EditText)findViewById(R.id.tv);
}
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:29:55.873

看看这篇文章[Singletons vs. Application Context in Android?](https://stackoverflow.com/questions/3826905/singletons-vs-application-context-in-android/3827166#3827166)

论坛中有很多关于 Singletons 与 Application 对象的讨论。我个人倾向于 Application 具有属性的对象。如果您不想在内存中保留大量对象，请使用 LruCache（兼容性包中有一个 pre v11 实现）来降低您的内存需求。

考虑到您使用 Singleton 将消耗与使用 Application 对象相同数量的内存，所有对象都将保留在内存中，直到您释放它们（删除对它们的任何引用并让 GC 从内存中清除它们）。

# android - 对话活动控制

> ID：13119561
> 
> 赞同：0
> 
> 时间：2012-10-29T10:14:00.710
> 
> 标签：android, android-activity, dialog

我想要做什么：当应用程序启动时，它会从数据库中读取一个电子邮件地址。如果未设置电子邮件地址，它将启动另一个用于添加电子邮件地址的对话活动。

如果用户不添加电子邮件，他将无法关闭该对话框活动，因此单击关闭按钮不会关闭对话框活动。

我遇到的问题是，如果用户单击后退按钮，对话框活动将关闭，并且主要活动在没有设置电子邮件地址的情况下启动。我想要做的是如果用户在这种情况下单击后退按钮以关闭应用程序。

我不得不提一下，当我想编辑电子邮件地址时，我正在使用相同的对话活动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:16:53.257

尝试覆盖 onBackPressed() 方法并且什么都不做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:20:53.960

Override `onBackPressed`，检查用户是否插入了任何电子邮件地址。如果不是直接返回而不调用 super.onBackPressed()。

```
@Override
public void onBackPressed() {
    if(yourEmailEditText.getText() == null 
       || yourEmailEditText.getText().toString().trim().length() == 0){
          return
    }
    super.onBackPressed();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:35:34.887

您可以在构造函数的第二个参数之一中将 Dialog 设置为不可取消：

```
 Dialog(Context context, boolean cancelable, DialogInterface.OnCancelListener cancelListener) 
```

还要考虑如果用户通过任何方式（硬件的任何按钮等）绕过对话框会发生什么。您可以简单地将其解释为用户想要退出应用程序。

# java - 错误 java.util.Date

> ID：13119565
> 
> 赞同：1
> 
> 时间：2012-10-29T10:14:10.770
> 
> 标签：java, android, sql

我正在尝试在我的 Android 应用程序中将字符串转换为日期，以通过 jdbc 在 SQL 数据库中插入数据。但是，当我尝试将字符串转换为日期时，我遇到了以下错误。

```
10-29 15:34:55.404: W/Error connection(11433): java.util.Date 
```

这是我的示例代码在这里我导入了 java.util.Date;

```
String sDate="29/10/2012 12:00:00 AM";
Date bondDate = (Date) new SimpleDateFormat("dd/MM/yyyy").parse(sDate);
CallableStatement cStmtInsertPOdetails =conn.prepareCall("{call dbo.InsertDetails(?)}");
cStmtInsertPOdetails.setDate("@POD_BondDate",(java.sql.Date)bondDate); 
```

请帮我解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:17:23.290

`bondDate`这是[`java.util.Date`](http://docs.oracle.com/javase/6/docs/api/java/util/Date.html)不能转换为[`java.sql.Date`](http://docs.oracle.com/javase/6/docs/api/java/sql/Date.html). 采用`new java.sql.Date(bondDate.getTime())`

```
 String sDate = "29/10/2012 12:00:00 AM";
    Date bondDate = new SimpleDateFormat("dd/MM/yyyy").parse(sDate);
    java.sql.Date sqlDate = new java.sql.Date(bondDate.getTime()); 
```

尽管建议使用 pattern `dd/MM/yyyy HH:mm:ss a`。检查[`SimpleDateFormat`](http://developer.android.com/reference/java/text/SimpleDateFormat.html)以了解`Time Pattern Syntax`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:15:56.937

您的日期模式与日期字符串不匹配。模式将是`dd/MM/yyyy HH:mm:ss a`.

```
String sDate="29/10/2012 12:00:00 AM";
Date bondDate = (Date) new SimpleDateFormat("dd/MM/yyyy HH:mm:ss a").parse(sDate); 
```

# jquery - 如何下载 jQM 画廊

> ID：13119566
> 
> 赞同：0
> 
> 时间：2012-10-29T10:14:12.217
> 
> 标签：jquery, jquery-mobile

我正在寻找 jQuery Mobile 模板，我在[http://www.jqmgallery.com/](http://www.jqmgallery.com/)上找到了它们，但我不知道如何下载它们。

请帮帮我！非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T21:43:36.930

而不是只看你的[谷歌搜索](https://www.google.com/#hl=en&sclient=psy-ab&q=jquery+mobile+examples)的第一个结果，
尝试另一个，例如[这个](http://www.jquery4u.com/tag/jquery-mobile-examples/)或[这个](http://www.webdesignerdepot.com/2011/05/10-handy-jquery-mobile-tips-and-snippets-to-get-you-started/)......
希望有帮助......

另一个不错的 jQuery Mobile 资源站点是[这个](http://jquerymobile.com/resources/)，只需访问您喜欢的页面并使用 Firebug 或浏览器中的其他开发人员工具检查它...

[更多信息参见这里](https://stackoverflow.com/questions/4344259/good-jquery-mobile-walkthrough-or-tutorial-for-a-jquery-developer)

# ruby-on-rails - rails activerecord 多个查询

> ID：13119568
> 
> 赞同：0
> 
> 时间：2012-10-29T10:14:15.470
> 
> 标签：ruby-on-rails, activerecord

谢谢你的时间 ！

这是一个简单的问题，但我已经搜索了一段时间，仍然无法获得适合我的功能。

我在 DB 中得到一个名为 *lr_transaction_tables* 的表，并`class LrTransactionsTable < ActiveRecord::Base`带有一个表。

我可以`@entry_ary = LrTransactionsTable.find(:all)`通过以下方式获取整个表格并将其呈现在视图中：

```
<table id="trans-war-table">
  <% @entry_ary.each do |item| %>
      <tr>
        <td><%= item.ltname %></td>
        <td><%= item.name %></td>
      </tr>
  <% end %>
</table> 
```

但是我如何获取数据`where the data under ltname column is "specific word"`而不是全部。

我试过`@entry_ary = LrTransactionsTable.find_by_ltname( "specific word" )`了，但它给了我`undefined method`每个'for nil:NilClass`的错误

`ltname`并且`name`是表中的列名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:17:41.830

对于 Rails 2

```
LrTransactionsTable.find(:all, :conditions => {:ltname => "specific word"}) 
```

对于 Rails 3

```
@entry_ary = LrTransactionsTable.where(ltname: "specific word") 
```

或者

```
@entry_ary = LrTransactionsTable.where(["ltname =? ", "specific word"]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:20:10.793

我将使用该`where`方法设置条件：

```
LrTransactionsTable.where(:ltname => "specific word") 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:21:10.670

尝试最好的方法，在模型中总是正确的查询

在你的控制器中

```
LrTransactionsTable.find_ltname("specific word") 
```

并写在你的模型中

```
def find_ltname(name)
  where("ltname = ?", name)
end 
```

或者您也可以为此创建一个范围

```
scope :find_ltname, lambda{|name|{ :conditions => ["ltname = ?", name]} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:18:13.417

试试这个：

```
@entry_ary = LrTransactionsTable.where(ltname: "specific word") 
```

# objective-c - 如何将多个iOS控件组合在一个实体（控件）中？

> ID：13119569
> 
> 赞同：5
> 
> 时间：2012-10-29T10:14:17.410
> 
> 标签：objective-c, ios, controls

我想实现自定义搜索并遇到一个麻烦。我需要将 UIButton、SearchBar 组合在一个控件中，以便我可以通过指针引用它。然后我将动态添加更多 UIbuttons 到该组合控件。最重要的是，我想将这个组合控件作为一个程序实体进行操作。例如，`CombinedControl* control;` 那么实现这个的常用方法是什么？或者我可以效仿这个？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-04T12:05:53.353

如果您希望将多个控件组合到一个单元中，最简单的做法就是将它们添加为单个 UIView 的子视图。您可以在 Interface Builder 中执行此操作（通过创建一个空白 UIView 并在其上放置其他控件）或在代码中（使用`addSubview:`）。然后你只有一个变量指向你添加了所有东西的 UIView。

如果要向“组合控件”添加行为，则应创建 UIView 的子类（如上面建议的 H2CO3）并将控件添加到该视图子类。

# objective-c - NSNumberFormatter 更改小数分隔符样式

> ID：13119572
> 
> 赞同：1
> 
> 时间：2012-10-29T10:14:21.730
> 
> 标签：objective-c, nsnumber, number-formatting, nsnumberformatter, uitextfielddelegate

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];

    if (string.length == 0) {
        return YES;
    }

    [numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];
    NSNumber* candidateNumber;
    NSString* candidateString = [textField.text stringByReplacingCharactersInRange:range withString:string];
    range = NSMakeRange(0, [candidateString length]);
    [numberFormatter getObjectValue:&candidateNumber forString:candidateString range:&range error:nil];
    if (([candidateString length] > 0) && (candidateNumber == nil || range.length < [candidateString length])) {
        return NO;
    }
    else
    {
        return YES;
    } 
```

嗨，使用此代码，我只能在文本字段中插入十进制值。小数点分隔符是逗号“”，如何将其更改为点“。” ?

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:42:28.493

有一个小东西叫`Localization`。每种语言都使用不同的字符作为小数分隔符。在英语使用小数点的地方，其他语言使用逗号（或其他字符）。

当您创建一个`NSNumberFormatter`时，它使用系统语言环境（`NSLocale`实例）来决定小数分隔符（以及分组分隔符和其他东西）。如果您想要一个固定的行为，那么只需使用设置不同的语言环境`[NSNumberFormatter setLocale:]`

另请注意，有一种特殊的语言环境 `[[NSLocale alloc] initWithLocaleIdentifier:@"en_US_POSIX"]`定义了一种特殊的语言环境，该语言环境不能由用户设置更改并且始终相同。

在这种情况下，使用 a`NSNumberFormatter`不是最好的主意。这是您想要使用正则表达式的情况之一。

# javascript - 如果没有嵌套在另一个函数中，函数将无法正常工作

> ID：13119573
> 
> 赞同：0
> 
> 时间：2012-10-29T10:14:24.710
> 
> 标签：javascript, jquery

抱歉标题不清楚，但我找不到任何适合我的问题的东西。为了更好地解释它是什么，让我向您展示我的 javascript 代码：

```
function askForIDForCommand()
{
  var content;
  $.post("Somepage.aspx", function (data)
  {
     content = $(data).find("#myDiv").html();
  });

  var myFunc = function () { }
  var buttons = [{ text: 'OK', click: myFunc}];
  ui_window("Hi", 630, content, buttons);
 } 
```

如您所见，我声明了一个名为 content 的变量。然后我将指定 div 的 html 分配给它。然后我将它发送到 ui_window 函数，该函数只显示一个带有指定内容的 jquery 对话框。问题是我没有在对话框中获得该 html 内容。当我用 Firebug 查找“内容”的值时，我可以看到它包含 html 内容。让我绝望的是，如果我将上述函数更改为以下函数，则 html 内容将显示在对话框中：

```
 function askForIDForCommand()
{
  var content;
  $.post("Somepage.aspx", function (data)
  {
     content = $(data).find("#myDiv").html();
     var myFunc = function () { }
     var buttons = [{ text: 'OK', click: myFunc}];
     ui_window("Hi", 630, content, buttons);
  });

 } 
```

如果您没有注意到差异，我只是将 ui_window 的调用放在 $.post() 方法中。它有效。为什么？

如果您需要，这里是 html 内容：

```
 <table>
        <tr>
            <td align="right">
                <label>
                    Enter the ID:</label>
            </td>
            <td>
                <input id="txtID" type="text" onkeydown="return onlyNumbers(event);" maxlength="8"/>
            </td>
        </tr>
    </table> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:17:31.347

在你打电话之前你没有**分配**给。该分配发生*在您的异常函数内部*，因此在有人*调用*该函数之前不会执行（即，一旦完成对 Somepage.aspx 的发布）。`content``ui_window`

 **相比之下，您在`ui_window()`开始*向*Somepage 发布帖子后立即调用，但无需等待该操作完成。那时你的完成函数还没有被调用，因此`content`仍然包含`undefined`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:22:54.320

问题是当您收到来自服务器的响应时会调用内部函数。然后在第一种情况下，执行这些行时尚未分配变量，而在第二种情况下，您确定`ui_window`使用可用数据调用该变量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:19:32.617

问题是对服务器的 AJAX 调用。在第一种情况下，您发送一个请求并直接执行下一个命令，即 myFunc 等。因此，此时您的内容变量尚未初始化。**

# ios - 谷歌分析库 IOS

> ID：13119578
> 
> 赞同：18
> 
> 时间：2012-10-29T10:14:52.900
> 
> 标签：ios, google-analytics

当我添加谷歌分析库时，我有这个警告

```
Undefined symbols for architecture armv7:
  "_OBJC_CLASS_$_NSAttributeDescription", referenced from:
      objc-class-ref in libGoogleAnalytics.a(GAICoreDataUtil.o)
      objc-class-ref in libGoogleAnalytics_debug.a(GAICoreDataUtil.o)
  "_OBJC_CLASS_$_NSFetchRequest", referenced from:
      objc-class-ref in libGoogleAnalytics.a(GAIDataStore.o)
      objc-class-ref in libGoogleAnalytics_debug.a(GAIDataStore.o)
  "_NSSQLiteErrorDomain", referenced from:
      l003 in libGoogleAnalytics.a(GAIDataStore.o) 
```

请帮我

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-10-29T15:10:18.017

添加`libGoogleAnalytics.a`到您的目标设置`[Build phases]-[Link Binary with Libraries]`。还要检查是否 `libsqlite3.0dylib`（GA 存储跟踪数据的位置）并`CFNetwork.framework`根据需要添加到`Google Analytics/iOS (version 2.0 beta 3)`.

PS For Google`Analytics/iOS version 3.0` `CoreData framework`是必需的。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-07T12:39:33.263

我有同样的问题`NSAttributeDescription`。在文档中，这个函数来自`CoreData.framework`，所以我添加了这个框架，并且在这个问题上没有更多错误。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-11-17T20:04:45.430

与**Google Analytics SDK for iOS v2 迁移**相关的问题。

*我不确定要写哪个主题，因为没有确切的问题-我碰到并自己解决了-发现（这个似乎是最接近的（不确定我是否应该打开一个新的） )，但可能对某人有帮助。*

**问题：**

**我在“SDKs/GoogleAnalytics SDK”**单独的文件夹中安装了我以前的 (1.5.1) SDK 。在 v2 迁移时，我已将新文件放入**"SDKs/GoogleAnalytics SDK v2"**中。在遵循有关迁移的所有说明（来自 Google 站点）之后（详细地说，这只是从第一个文件夹中删除以前对文件的引用并从新文件夹中添加新的），我开始收到以下错误编译消息：

> **架构armv7**的未定义符号：“_OBJC_CLASS_$_GAI”，引用自：AppDelegate.o 中的 objc-class-ref ld：未找到架构 armv7 的符号 clang：错误：链接器命令失败，退出代码为 1（使用 -v查看调用）

我浏览了谷歌搜索（和stackoverflowing）的第一页，建议的最流行的解决方案是“将'**仅构建活动架构**'属性设置为' **YES** '”（我的活动架构是“armv7 armv7s”）。**但这**根本**没有帮助**。

**解决方案：**

然而，奇迹发生了。我注意到链接器路径中列出了一个**旧目录**“SDKs/GoogleAnalytics SDK”。因此，**在删除该目录之后**（因为我不知道目录列表在设置中的位置），一切都开始编译并像魅力一样工作（也不需要将“仅构建活动架构”设置为“是”对我来说）。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-09-24T19:02:21.280

在 Build settings -> Other Linker Flags 中添加 -lGoogleAnalyticsServices

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-03-04T18:25:23.367

我有与上面类似的错误，实际上更多（SDK 2.0 beta 4）。添加分析库/标题后，与这两个框架链接解决了问题：

`CoreData.framework`和`SystemConfiguration.framework`

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2014-02-20T18:03:54.060

我按照[本](http://www.raywenderlich.com/53459/google-analytics-ios)教程进行操作。它说要添加

```
#import "GAI.h"
#import "GAIFields.h" 
```

到`NameofTheProject-Prefix.pch`文件中。

另外添加它解决`CoreData.framework`了 所有问题。`SystemConfiguration.framework``libz.dylib`

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-04-10T11:11:17.203

我遇到了这个问题，因为我没有添加**libGoogleAnalytics_debug.a**文件。当我添加此文件并再次构建项目时，问题才得到解决。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-16T19:11:25.433

我有一个奇怪的问题。出于某种原因，当它*应该*在**Link Binary With Libraries**`libGoogleAnalytics.a`中时，它在**Copy Bundle Resources中**

 ***希望这可以帮助某人。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-06-25T18:23:42.547

迁移到 SDK 2.0 beta 4 后出现类似问题。通过从Adri 指出的**“我的构建设置”>“库搜索路径”中删除旧 GA 库路径来解决。**

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-05-14T19:37:35.303

我遵循了所有建议，但仍然出现错误`XCODE 5.1.1`。

对我来说，错误出现在目标 > 构建设置 > 架构 > 架构中。

我将值替换为`ARCHS_STANDARD_32_BIT`，错误消失了。

也许这个`libGoogleAnalytics`库不是为 64 位架构编译的。

希望这会对某人有所帮助。或者获取为 64 位编译的最新库。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-07-13T10:48:47.073

如果使用**Cocoapods** ，请确保**其他链接器标志**只有`$(inherited)`标志并删除任何子**架构**标志。

对于**框架搜索路径**和**库搜索路径**也只设置`$(inherited)`标志。

在标题桥接文件中放置`#import <Google/Analytics.h>`***

# android - 不可变位图崩溃错误

> ID：13119582
> 
> 赞同：82
> 
> 时间：2012-10-29T10:15:03.730
> 
> 标签：android, bitmap

```
java.lang.IllegalStateException: Immutable bitmap passed to Canvas constructor
at android.graphics.Canvas.<init>(Canvas.java:127)
at app.test.canvas.StartActivity.applyFrame(StartActivity.java:214)
at app.test.canvas.StartActivity$1.onClick(StartActivity.java:163)
at android.view.View.performClick(View.java:4223)
at android.view.View$PerformClick.run(View.java:17275)
at android.os.Handler.handleCallback(Handler.java:615)
at android.os.Handler.dispatchMessage(Handler.java:92)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4898)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
at dalvik.system.NativeStart.main(Native Method) 
```

我从开发人员控制台收到此崩溃错误.. 我不明白问题出在哪里..

```
 BitmapFactory.Options opt = new BitmapFactory.Options();
    opt.inScaled = true;
    opt.inPurgeable = true;
    opt.inInputShareable = true;
    Bitmap brightBitmap = BitmapFactory.decodeResource(getResources(), position, opt); 
    brightBitmap = Bitmap.createScaledBitmap(brightBitmap, 550, 550, false);
    chosenFrame = brightBitmap;
    Bitmap workingBitmap = Bitmap.createBitmap(chosenFrame);
    workingBitmap = Bitmap.createBitmap(workingBitmap); 
    Canvas c = new Canvas(workingBitmap); 
```

我认为这与此有关？

* * *

## 回答 #1

> 赞同：221
> 
> 时间：2012-10-29T10:25:41.277

您必须将您的转换`workingBitmap`为`Mutable Bitmap`在`Canvas`. （注意：这种方法不利于节省内存，会占用额外的内存）

```
Bitmap workingBitmap = Bitmap.createBitmap(chosenFrame);
Bitmap mutableBitmap = workingBitmap.copy(Bitmap.Config.ARGB_8888, true);
Canvas canvas = new Canvas(mutableBitmap); 
```

这个答案有助于不浪费内存 [将不可变位图转换为可变位图](https://stackoverflow.com/a/9194259/925070)

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2013-10-28T22:22:20.353

`BitmapFactory.decodeResource()`返回位图的不可变副本，您无法在其画布上绘制。为了获得它的画布，您需要获得图像位图的可变副本，这可以通过添加单行代码来完成。

```
opt.inMutable = true; 
```

将该行添加到您的代码中，它应该可以解决崩溃问题。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-02-12T12:28:41.933

除非您不想将 IMMUTABLE 位图变为 MUTABLE 位图，否则您可以通过 **始终重用位图来节省内存**

```
workingBitmap = workingBitmap.copy(Bitmap.Config.ARGB_8888, true);
Canvas canvas = new Canvas(workingBitmap); 
```

但是我认为这可能与通过调用使位图可变相同

```
workingBitmap.isMutable = true 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-11-22T16:01:08.270

这也有效，我刚刚测试过。

```
final BitmapFactory.Options options = new BitmapFactory.Options();
options.inMutable = true;
return BitmapFactory.decodeByteArray(resultDecoded, 0, resultDecoded.length,options); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-08-24T10:07:55.233

为了最大限度地减少内存使用，您可以查看这篇关于直接从资源中转换/解码可变位图的帖子：

[https://stackoverflow.com/a/16314940/878126](https://stackoverflow.com/a/16314940/878126)

# c# - 创建编译错误而不是运行时错误

> ID：13119583
> 
> 赞同：1
> 
> 时间：2012-10-29T10:15:07.277
> 
> 标签：c#, compiler-errors, runtime-error

我的代码需要设置我的类的一个字段，但我希望该字段只设置一​​次。如果开发人员尝试重置/更改它，理想情况下我希望编译器告诉我们关闭而不是出现运行时错误。这可能吗？

代码帮助解释

```
internal class Message
    {
        private string title = string.Empty;

        public string Title
        {
            get { return title; }
            set 
            {
                if (string.IsNullOrEmpty(title))
                    title = value;
                else
                    throw new Exception("Title can only be set once!");
            }
        }
    } 
```

正如你所看到的，上面会抛出一个异常，但这是一个运行时错误。尽管此处的示例相当简单，但编写编译器错误或警告消息的概念可能非常有益。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:22:16.960

您要求的是自定义编译器规则，AFAIK 是不可能的。IMO你有2个选项，一个是让它成为构造函数的一部分，所以它只能设置一次，例如

```
internal class Message
{
    public Message(string title)
    {
        Title = title;
    }

    public string Title { get; private set; }
} 
```

另一个是保持它的方式，但是，抛出一个更合适的异常，例如

```
internal class Message
{
    private string title = string.Empty;

    public string Title
    {
        get { return title; }
        set 
        {
            if (string.IsNullOrEmpty(title))
                title = value;
            else
                throw new InvalidOperationException("Title can be set only once!");
        }
    }
} 
```

无论哪种方式，该`Title`属性都只会设置一次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:49:51.213

只需使用一个`readonly`字段：

```
private readonly string title;

public Message(string title) { this.title = title; } 
```

如果从其他任何地方分配该字段，编译器[将发出错误。](http://ideone.com/BE8MZu)

# c# - WPF MVVM 中与 TAP（async/await）的异步

> ID：13119584
> 
> 赞同：6
> 
> 时间：2012-10-29T10:15:08.833
> 
> 标签：c#, wpf, mvvm

我正在寻找以下设置的最佳实践。

View 是绑定到 ViewModel 的数据（通过 WPF）。ViewModel 通过 INotifyPropertyChanged 更新 View。模型通过事件更新 ViewModel。模型知道来自外部世界的东西，比如如何通过 WebClient 从互联网获取东西，以及如何从数据库中检索数据。

向外部世界获取和发送内容应该异步完成，以便 UI（以及扩展，用户）不会因等待外部世界而受苦。

解决此问题的最佳实践方法是什么？

**1.** ViewModel 应该负责异步调用模型方法。
这将具有能够编写诸如

```
GetWebPage(string url) {
  var result = await Model.GetWebPageAsync(url);
  Url = result.Url;
} 
```

在 ViewModel 中`Url`有一个 ViewModel 属性，它带有 INotifyPropertyChanged 来更新视图。甚至

```
GetWebPage(string url) {
  var result = await Model.GetWebPageAsync(url);
  _view.Url = result.Url;
} 
```

我们可以一起避免 INotifyPropertyChanged 。您更喜欢这些方式中的哪一种？

然而，让模型本身来做异步工作可能更明智。我们可能希望能够在没有 View 和 ViewModel 的情况下使用 Model，同时仍然让它异步工作。另一个论点是，谁更清楚 Model 什么东西最好异步处理。

**2.**模型自己处理所有异步的东西。ViewModel 代码变得更像

```
GetWebPage(string url) {
  Model.GetWebPage(url);
} 
```

在模型中

```
GetWebPage(string url) {
  var result = await Model.GetWebPageAsync(url);
  if (UrlChanged != null);
     UrlChanged(this, new UrlChangedEventArgs(url));
} 
```

ViewModel 可以订阅，并相应地更新 View。

您认为哪种方式是最佳实践？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:32:49.230

第三种方式：视图模型进行异步调用，但是它使用客户端服务来检索网页，模型本身是贫血的（它对外部世界一无所知）：

```
GetWebPage(string url) 
{
  var dataService = anyServiceLocator.GetService<IDataService>();
  var result = await dataService.GetWebPageAsync(url, Model);
  Url = result.Url;
} 
```

这允许更改真实数据下载算法，例如用于测试目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:47:02.440

我相信所描述场景的最佳实践将是您将提出的最佳实践 - 考虑每种方法的优缺点 - 这将特定于您的任务（随着任务之间的需求变化）。关于问题的实际答案，我相信没有太大区别。虽然我现在正在考虑另一种方法。考虑参数化 Helper（可能是 DownloadManager）对象的异步行为，该对象可以作为参数传递给 VM。这将允许您在不区分行为的情况下轻松测试 VM 和模型，并在 DownloadManager 上单独测试该行为。

# c# - 如何使用 C# 在列表中选择第二个字符串？

> ID：13119585
> 
> 赞同：0
> 
> 时间：2012-10-29T10:15:09.357
> 
> 标签：c#, string, list

我有这段代码，它有时只有一个字符串，有时有两个。基本上，当它有两个字符串时，我希望能够选择第二个字符串，因为此时它正在选择列表中的第一个字符串。
这是我的代码：

```
List<string> workGroupIdStringValues = new List<string>();
workGroupIdStringValues = (List<string>)session["WorkGroupIds"];
List<Guid> workGroupIds = workGroupIdStringValues.ConvertAll<Guid>(workGroupIdStringValue => new Guid(workGroupIdStringValue)); 
```

所以“workGroupIdStringValues”有时会有第二个字符串，当有两个字符串时如何选择第二个而不是第一个。有可能吗，如果可以的话怎么办？
谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-29T10:16:20.093

使用 LINQ`workGroupIdStringValues.Last()`丢弃除最后一个字符串之外的所有字符串；如果只有一个字符串就可以正常工作。

**更新：**当然，您必须对代码进行一些调整：

```
var workGroupId = new Guid(((List<string>)session["WorkGroupIds"]).Last()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:17:37.347

怎么样

```
string workGroupIdStringValue = ((List<string>)session["WorkGroupIds"]).Last(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:18:51.320

有几种方法可以做到这一点，我认为最好是这样做

`workGroupIdStringValues.Count`会给你对象的总量，和

`workGroupIdStringValues[1]`将返回列表中的第二个条目。

所以像

```
if(workGroupIdStringValues.Count() > 1)
     mystring = workGroupIdStringValues[1];
else
     mystring = workGroupIdStringValues[0]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:21:15.040

代替

```
List<Guid> workGroupIds = workGroupIdStringValues.ConvertAll<Guid>(workGroupIdStringValue => new Guid(workGroupIdStringValue)); 
```

您可以执行以下操作

```
Guid workGroupId = new Guid(workGroupIdStringValues[workGroupIdStringValues.Count-1])); 
```

# multithreading - 我们如何在按下按钮时暂停/恢复 WebDriver 测试执行

> ID：13119592
> 
> 赞同：0
> 
> 时间：2012-10-29T10:15:39.277
> 
> 标签：multithreading, selenium, webdriver, selenium-webdriver

我想在按下按钮时暂停/恢复我的 webdriver 测试用例执行。

我想出的方法是使用 Thread 类的挂起和恢复方法。但我想确保在 webdriver 输入文本或其他内容时它不应该暂停。好像它会这样做，浏览器可能会从那一点失去焦点。所以我想确保 element.sendKeys 或 element.click 的原子执行。

请提出任何想法？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:46:25.147

只需在调试模式下运行测试。然后你可以暂停整个 JVM。这将产生暂停 WebDriver 的效果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:39:34.237

我认为您最好的选择是实现您自己的同步并围绕 Selenium 启动/停止。实现此目的的一种方法是使用*监视器*和布尔标志保护对 WebDriver API 方法的每次调用，以指示其他实例想要暂停测试执行：

```
private boolean suspend = false;

private Object monitor = new Object(); 
```

每次 API 调用之前的代码如下所示：

```
synchronized (monitor) {
    if (suspend) {
        try {
            monitor.wait();
        } catch (InterruptedException ex) {
            // thrown if someonelse calls notify
        }
    }
} 
```

如果要暂停测试执行，则需要有人（即另一个线程）执行以下代码：

```
synchronized (monitor) {
    suspend = true;
} 
```

要再次继续，您需要执行以下代码：

```
synchronized (monitor) {
    monitor.notifyAll();
} 
```

那只是一个非常简单的解决方案。有更复杂的同步样式，但这一种应该就足够了。

# java - 如何根据从上面的水平滚动中选择的按钮来设置垂直滚动视图的内容？

> ID：13119594
> 
> 赞同：0
> 
> 时间：2012-10-29T10:15:52.327
> 
> 标签：java, android, scrollview, adapter

我只是想知道你们中是否有人能告诉我这涉及到什么？

我用过 ScrollViews，我知道他们需要一个 LinearLayout 来滚动，这不是问题。

这是一个动态的水平滚动视图，包含几个按钮，可以添加/删除按钮。

我也有一个垂直滚动视图。

**GOAL**是根据上面水平ScrollView中按下哪个按钮来设置垂直ScrollView的内容。

任何方向/见解将不胜感激。

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:22:52.740

在您的水平滚动视图中，您必须为各个视图设置标签。然后在视图的单击事件中，您可以通过所需数据填充垂直滚动。我认为对于您的垂直滚动，您可以使用列表视图。这将很容易处理。此外，如果您的水平事物数量更多，那么最好使用 ListView 来实现这一点。

# grid - JavaFX 2.x：如何将 Line、Grid 和 X Ticks 一起移动？

> ID：13119597
> 
> 赞同：6
> 
> 时间：2012-10-29T10:16:00.567
> 
> 标签：grid, javafx-2, linechart

下面的代码绘制了一个 XYLineChart：通过鼠标左键单击并拖动绘制的线可以向左/向右平移。

```
import javafx.application.Application; 
import javafx.beans.property.SimpleDoubleProperty; 
import javafx.event.EventHandler;  
import javafx.scene.chart.NumberAxis; 
import javafx.scene.chart.XYChart; 
import javafx.stage.Stage; 
import javafx.scene.Scene; 
import javafx.scene.chart.LineChart; 
import javafx.scene.input.MouseEvent; 
import javafx.scene.layout.BorderPane;
enter code here

public class GridMove extends Application {

    BorderPane pane;
    XYChart.Series series1 = new XYChart.Series();
    SimpleDoubleProperty rectinitX = new SimpleDoubleProperty();
    SimpleDoubleProperty rectX = new SimpleDoubleProperty();
    SimpleDoubleProperty rectY = new SimpleDoubleProperty();

    @Override
    public void start(Stage stage) {

        final NumberAxis xAxis = new NumberAxis(1, 12, 1);
        final NumberAxis yAxis = new NumberAxis(0.53000, 0.53910, 0.0005);

        xAxis.setAnimated(false);
        yAxis.setAnimated(false);

        yAxis.setTickLabelFormatter(new NumberAxis.DefaultFormatter(yAxis) {
            @Override
            public String toString(Number object) {
                return String.format("%7.5f", object);
            }
        });

        final LineChart<Number, Number> lineChart = new LineChart<Number, Number>(xAxis, yAxis);

        lineChart.setCreateSymbols(false);
        lineChart.setAlternativeRowFillVisible(false);
        lineChart.setAnimated(false);
        lineChart.setLegendVisible(false);

        series1.getData().add(new XYChart.Data(1, 0.53185));
        series1.getData().add(new XYChart.Data(2, 0.532235));
        series1.getData().add(new XYChart.Data(3, 0.53234));
        series1.getData().add(new XYChart.Data(4, 0.538765));
        series1.getData().add(new XYChart.Data(5, 0.53442));
        series1.getData().add(new XYChart.Data(6, 0.534658));
        series1.getData().add(new XYChart.Data(7, 0.53023));
        series1.getData().add(new XYChart.Data(8, 0.53001));
        series1.getData().add(new XYChart.Data(9, 0.53589));
        series1.getData().add(new XYChart.Data(10, 0.53476));

        pane = new BorderPane();
        pane.setCenter(lineChart);
        Scene scene = new Scene(pane, 800, 600);
        lineChart.getData().addAll(series1);

        stage.setScene(scene);

        scene.setOnMouseClicked(mouseHandler);
        scene.setOnMouseDragged(mouseHandler);
        scene.setOnMouseEntered(mouseHandler);
        scene.setOnMouseExited(mouseHandler);
        scene.setOnMouseMoved(mouseHandler);
        scene.setOnMousePressed(mouseHandler);
        scene.setOnMouseReleased(mouseHandler);
        stage.show();
    }
    EventHandler<MouseEvent> mouseHandler = new EventHandler<MouseEvent>() {
        @Override
        public void handle(MouseEvent mouseEvent) {

            if (mouseEvent.getEventType() == MouseEvent.MOUSE_PRESSED) {
                rectinitX.set(mouseEvent.getX());
            } else if (mouseEvent.getEventType() == MouseEvent.MOUSE_DRAGGED || mouseEvent.getEventType() == MouseEvent.MOUSE_MOVED) {
                LineChart<Number, Number> lineChart = (LineChart<Number, Number>) pane.getCenter();
                NumberAxis xAxis = (NumberAxis) lineChart.getXAxis();

                double Tgap = xAxis.getWidth() / (xAxis.getUpperBound() - xAxis.getLowerBound());
                double newXlower = xAxis.getLowerBound(), newXupper = xAxis.getUpperBound();
                double Delta = 0.3;

                if (mouseEvent.getEventType() == MouseEvent.MOUSE_DRAGGED) {
                    if (rectinitX.get() < mouseEvent.getX()) {
                        newXlower = xAxis.getLowerBound() - Delta;
                        newXupper = xAxis.getUpperBound() - Delta;
                    } else if (rectinitX.get() > mouseEvent.getX()) {
                        newXlower = xAxis.getLowerBound() + Delta;
                        newXupper = xAxis.getUpperBound() + Delta;
                    }
                    xAxis.setLowerBound(newXlower);
                    xAxis.setUpperBound(newXupper);
                }
                rectinitX.set(mouseEvent.getX());
            }
        }
    };

    public static void main(String[] args) {
        launch(args);
    }
} 
```

我的问题是

1) 现在通过向左/向右移动 Line，Grid 和 X Ticks 不会移动：那么，如何将 Line、Grid 和 X Ticks 一起翻译？

2) 是否有可能在 JavaFx 2 中实现这一点？

谢谢

**编辑**没人愿意帮忙吗？

**编辑 2：**添加了导入语句

**编辑 3：**代码改进，现在网格和线一起移动。仅保留沿线和网格移动 X 轴刻度，垂直网格线缺少线范围外的值

```
import java.util.Set;
import javafx.application.Application; 
import javafx.beans.property.DoubleProperty;
import javafx.beans.property.SimpleDoubleProperty; 
import javafx.collections.ObservableList;
import javafx.event.EventHandler;  
import javafx.scene.chart.Axis;
import javafx.scene.chart.NumberAxis; 
import javafx.scene.chart.XYChart; 
import javafx.scene.chart.XYChart.Series;
import javafx.stage.Stage; 
import javafx.scene.Node;
import javafx.scene.Scene; 
import javafx.scene.chart.LineChart; 
import javafx.scene.input.MouseEvent; 
import javafx.scene.layout.BorderPane;
import javafx.scene.shape.LineTo;
import javafx.scene.shape.MoveTo;
import javafx.scene.shape.Path;

public class GridMove extends Application {

BorderPane pane;

XYChart.Series series1 = new XYChart.Series();

SimpleDoubleProperty rectinitX = new SimpleDoubleProperty();
SimpleDoubleProperty rectX = new SimpleDoubleProperty();
SimpleDoubleProperty rectY = new SimpleDoubleProperty();
LineChart<Number, Number> lineChart;

@Override
public void start(Stage stage) {

    final NumberAxis xAxis = new NumberAxis(1, 12, 1);
    final NumberAxis yAxis = new NumberAxis(0.53000, 0.53910, 0.0005);

    xAxis.setAnimated(false);
    yAxis.setAnimated(false);

    yAxis.setTickLabelFormatter(new NumberAxis.DefaultFormatter(yAxis) {
        @Override
        public String toString(Number object) {
            return String.format("%7.5f", object);
        }
    });

    lineChart = new LineChart<Number, Number>(xAxis, yAxis);

    lineChart.setCreateSymbols(false);
    lineChart.setAlternativeRowFillVisible(false);
    lineChart.setAnimated(false);
    lineChart.setLegendVisible(false);

    series1.getData().add(new XYChart.Data(1, 0.53185));
    series1.getData().add(new XYChart.Data(2, 0.532235));
    series1.getData().add(new XYChart.Data(3, 0.53234));
    series1.getData().add(new XYChart.Data(4, 0.538765));
    series1.getData().add(new XYChart.Data(5, 0.53442));
    series1.getData().add(new XYChart.Data(6, 0.534658));
    series1.getData().add(new XYChart.Data(7, 0.53023));
    series1.getData().add(new XYChart.Data(8, 0.53001));
    series1.getData().add(new XYChart.Data(9, 0.53589));
    series1.getData().add(new XYChart.Data(10, 0.53476));

    pane = new BorderPane();
    pane.setCenter(lineChart);
    Scene scene = new Scene(pane, 800, 600);
    lineChart.getData().addAll(series1);            

    stage.setScene(scene);

    scene.setOnMouseClicked(mouseHandler);
    scene.setOnMouseDragged(mouseHandler);
    scene.setOnMouseEntered(mouseHandler);
    scene.setOnMouseExited(mouseHandler);
    scene.setOnMouseMoved(mouseHandler);
    scene.setOnMousePressed(mouseHandler);
    scene.setOnMouseReleased(mouseHandler);
    stage.show();      
}
EventHandler<MouseEvent> mouseHandler = new EventHandler<MouseEvent>() {
    @Override
    public void handle(MouseEvent mouseEvent) {

          if (mouseEvent.getEventType() == MouseEvent.MOUSE_PRESSED) {
            rectinitX.set(mouseEvent.getX());
        } else if (mouseEvent.getEventType() == MouseEvent.MOUSE_DRAGGED || mouseEvent.getEventType() == MouseEvent.MOUSE_MOVED) {
            LineChart<Number, Number> lineChart = (LineChart<Number, Number>) pane.getCenter();
            NumberAxis xAxis = (NumberAxis) lineChart.getXAxis();

            double newXlower = xAxis.getLowerBound(), newXupper = xAxis.getUpperBound();
            double Delta = 0.3;

            if (mouseEvent.getEventType() == MouseEvent.MOUSE_DRAGGED) {
                if (rectinitX.get() < mouseEvent.getX()) {
                    Delta *= -1;                    
                } 
                newXlower = xAxis.getLowerBound() + Delta;
                newXupper = xAxis.getUpperBound() + Delta;

                xAxis.setLowerBound(newXlower);
                xAxis.setUpperBound(newXupper);

                DoubleProperty p1 = xAxis.scaleXProperty();
                DoubleProperty p2 = xAxis.translateXProperty();

                double horizontalValueRange = xAxis.getUpperBound() - xAxis.getLowerBound();
                double horizontalWidthPixels = xAxis.getWidth();
                //pixels per unit
                double xScale = horizontalWidthPixels / horizontalValueRange;

                Set<Node> nodes = lineChart.lookupAll(".chart-vertical-grid-lines");
                for (Node n: nodes) {
                    Path p = (Path) n;
                    double currLayoutX = p.getLayoutX();
                    p.setLayoutX(currLayoutX + (Delta*-1) * xScale);
                }                    
                double lox = xAxis.getLayoutX();                                      
            }
            rectinitX.set(mouseEvent.getX());
        }
    }
};
public static void main(String[] args) {
    launch(args);
}
} 
```

非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T10:55:24.073

这是一个评论，但不知何故我太新了，无法评论。

我会通过将图表嵌入到带有不可见滚动条的 ScrollPane 中来解决此问题，并将图表的 y 轴不透明度也设置为 0。如果无法将所有图表数据加载到内存中，则必须管理滚动事件等中的数据获取。

此外，您可以为 y 轴使用独立的 NumberAxis。您必须手动进行适当的缩放和定位。

# activeadmin - 为 has_many 制作复选框：通过使用 Formtastic 的关联

> ID：13119601
> 
> 赞同：4
> 
> 时间：2012-10-29T10:16:12.703
> 
> 标签：activeadmin, formtastic

我有这个模型：

**提供**

```
class Offer < ActiveRecord::Base
    has_many :lists
    has_many :documents
end 
```

**列表**

```
class List < ActiveRecord::Base
    belongs_to :user
    belongs_to :offer
    has_many :entries, :dependent => :destroy

    accepts_nested_attributes_for :entries, :allow_destroy => true
end 
```

**入口**

```
class Entry < ActiveRecord::Base
    belongs_to :list
    belongs_to :document
end 
```

**用户**

```
class User < ActiveRecord::Base
    has_many   :lists, :dependent => :destroy                
end 
```

我正在使用[ActiveAdmin](http://activeadmin.info/)，在我进行更改之前，我有这个**List**表单：

```
form do |f|
    f.inputs "Détails Utilisateurs" do 
        f.input :user
    end
    f.inputs "Accès" do 
        f.has_many :entries, {:title => '', :link => 'Ajouter un document'} do |c| 
            c.inputs '' do
                if not c.object.id.nil?
                    c.input :_destroy, :as => :boolean, :label => "Supprimer l'accès"
                end
                c.input :document, :include_blank => false, :collection => offer.documents, :member_label => :to_label
            end 
        end 
    end 
    f.buttons 
end 
```

但现在我想使用复选框而不是添加/删除链接按钮，所以我做的更像是这样的：

```
form do |f|
    f.inputs "Détails Utilisateurs" do 
        f.input :user
    end
    f.inputs "Accès" do 
        f.input :entries, :as => :check_boxes, :collection => offer.documents
    end 
    f.buttons 
end 
```

但是我在复选框中没有正确的名称，我尝试使用 :name params 和 :html_options 但它们没有效果。有什么办法解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-10-16T07:18:05.333

你能试试这个吗？

```
form do |f|
  f.inputs "Détails Utilisateurs" do 
    f.input :user
  end
  f.inputs "Accès" do
    offer.documents.each do |document|
      f.input document,
        label: document,
        as: :boolean do
          f.check_box document, {}, "true", "false"
        end
    end
  end
  f.buttons 
end 
```

希望能帮助到你！

# css - 网站未以 Firefox/chrome 为中心

> ID：13119604
> 
> 赞同：0
> 
> 时间：2012-10-29T10:16:31.763
> 
> 标签：css, html, firefox, google-chrome, widescreen

我的网站在 Firefox/Chrome 上的宽屏上出现问题。由于某种原因它没有居中，margin: 0 auto; 也不工作。该网站在普通屏幕甚至分辨率较低的宽屏幕上看起来都很好，但在 1900x1200 上，由于某种原因，内容没有居中。但是，该网站在 1900x1200 的 IE 9 上看起来不错。这是代码：

jsfiddle.net/hXskH/

有什么线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:18:57.407

要使其居中，您需要添加一个宽度以及`margin: 0 auto;`最常见的宽度是 960px；

```
#main {
padding-bottom: 300px;
margin:0 auto;
position: relative;
width: 960px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:21:02.447

您还没有为#main 设置宽度，因此它是块级，它占据了全宽，即100%。

设置元素的宽度。

```
#main {
padding-bottom: 300px;
margin:0 auto;
width:<your-width>;
position: relative;
} 
```

# xmpp - 如何同步xmpp服务器openfire用户和iOS APP用户

> ID：13119606
> 
> 赞同：2
> 
> 时间：2012-10-29T10:16:43.420
> 
> 标签：xmpp

我使用“openfire”作为 xmpp 服务器。我正在我的APP中实现xmpp客户端，为所有成员提供聊天服务。openfire有自己的数据库，说db1。我的iOS APP也有自己的数据库说db2。如何在这两个数据库（db1 和 db2）之间同步用户表？例如，当用户注册我的 APP 时，我想在 xmpp 服务器数据库中创建相同的帐户。当用户登录到我的APP服务时，我想让用户自动登录到xmpp服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T16:11:31.293

不要尝试同步数据库，您需要为 Openfire 编写[自定义身份验证提供程序](http://www.igniterealtime.org/builds/openfire/docs/latest/documentation/db-integration-guide.html)才能使用 db2。

至于登录，您只需同时登录两者。它不能通过其他服务来完成，因为它无法在您的客户端和 XMPP 服务器之间创建连接。

# profiling - 使用 visualvm 分析码头非常慢

> ID：13119607
> 
> 赞同：11
> 
> 时间：2012-10-29T10:16:50.733
> 
> 标签：profiling, jetty, visualvm

我有一个在 Jetty 上运行的 wicket+spring+hibernate 应用程序。当我开始使用 VisualVM (jdk 1.7.0_9) 对其进行 CPU 分析时，它首先会因控制台打印而停止几分钟：

```
Profiler Agent: 250 classes cached.
Profiler Agent: 250 classes cached. 
```

这些行重复了大约 20 次，然后 VisualVM 说它已经开始检测并检测了大约 8000 种方法。

现在，在此之后，我单击 Web 应用程序上的一个按钮，应用程序再次完全挂起几分钟，而控制台打印出如下行：

```
Profiler Agent: Redefining 100 classes at idx 100, out of total 336 
```

在此之后，我得到了分析结果，但它们几乎没有用，因为几乎 99.6% 的时间都花在了

```
sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run() 
```

这使得 VisualVM 完全无法使用。任何猜测可能是这里的罪魁祸首？

我正在运行 Jetty 8.1.2.v20120308

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-01T07:21:55.263

我建议先从 CPU 采样开始。一旦您知道出了什么问题，您就可以切换到分析以获取详细信息。请务必阅读[使用 VisualVM 进行分析，第 1 部分](https://blogs.oracle.com/nbprofiler/entry/profiling_with_visualvm_part_1)和[使用 VisualVM 进行分析，第 2 部分](https://blogs.oracle.com/nbprofiler/entry/profiling_with_visualvm_part_2)，以获取有关如何设置 Jetty 服务器的分析的更多信息。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-12T02:07:22.677

答案是缩小检测类的范围。

单击分析器中的设置选项，然后查看“不分析类”或“仅分析类”。请务必排除您不想检查的第三方库。例如，我在我的应用程序中使用 Jython，而分析器试图检测数千个类，可能包括在运行时动态生成的类（不好）。

# iphone - 在 iOS 5.0 中允许访问我的应用的 iPhone 联系人

> ID：13119610
> 
> 赞同：2
> 
> 时间：2012-10-29T10:16:56.120
> 
> 标签：iphone, ios, ios5, abaddressbook, abaddressbooksource

在我的应用程序中，我正在访问 iPhone 的电话联系人，因此它会第一次询问是否允许访问，但如果用户单击“不允许”，则应用程序将无法访问电话联系人。

我知道在 iOS 6.0 中有一个设置隐私选项，我可以在哪里允许访问我的应用程序的电话联系人。

但我在 iOS 5 或更低版本中找不到这种选项卡或设置，请告知我在哪里可以授予我的应用程序访问电话联系人的权限。-提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:44:53.013

其实这个权限级别是在ios6中引入的。这个iOS5你找不到。在 iOS6 中，如果用户第一次给出了不允许，您可以从 iOS 的设置应用程序中更改该设置。

**隐私设置** 要查找您的隐私设置，只需点击“设置”应用程序以启动它，然后向下滚动到“隐私”。点击它。

在隐私屏幕上，您会看到 iPhone 中包含应用程序可以访问的个人信息的元素。（如定位服务、联系人、日历和提醒、照片）。从这里您可以更改访问级别。

希望这可以帮助。

# php - 表未创建 PHP mysql 数据库

> ID：13119611
> 
> 赞同：0
> 
> 时间：2012-10-29T10:16:56.150
> 
> 标签：php, mysql, database, create-table

我正在尝试使用 PHP 和 MySQL 创建一个表。第一个表不会在数据库上创建，但第二个会。我认为这是我的参数/约束。这是我的代码：

```
if ($conn==true){
     $tablefriends = "CREATE TABLE IF NOT EXISTS friends (
        friend_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
        friend_email VARCHAR(64) NOT NULL PRIMARY KEY ,
        password VARCHAR(16) NOT NULL ,
        profile_name VARCHAR(32) NOT NULL ,
        date_started DATE NOT NULL ,
        num_of_friends INT UNSIGNED ZEROFILL NULL default '0'
        );";

    $tablemyfriends = "CREATE TABLE IF NOT EXISTS myfirends ( 
        friend_id1 INT NOT NULL , 
        friend_id2 INT NOT NULL 
        );";

    $resulttf = @mysqli_query($conn, $tablefriends);
    if($resulttf==false){
        echo "<p>Failed to create friends table</p>";
        }
    $resulttmf = @mysqli_query($conn, $tablemyfriends);
    if($resulttmf==false){
        echo "<p>Failed to create myfriends table</p>"; 
        }else{

    echo"<p>Tables successfully created</p>";
        }
    mysqli_close($conn);
}

else {
    echo "<p>Failed to connect</p>";
    } 
```

* * *

不知道为什么导师说要分两次入小学

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T10:19:34.243

2**[主键](http://dev.mysql.com/doc/refman/5.5/en/optimizing-primary-keys.html)**。**`friend_id`**和**`friend_email`**

在将其放入**PHP**之前，请务必检查您的查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:25:24.037

在您的第一个查询（`$tablefriends`）中，您定义了两个主键。希望下面的代码对你有用。

```
 if ($conn==true){
         $tablefriends = "CREATE TABLE IF NOT EXISTS friends (
            friend_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
            friend_email VARCHAR(64) NOT NULL ,
            password VARCHAR(16) NOT NULL ,
            profile_name VARCHAR(32) NOT NULL ,
            date_started DATE NOT NULL ,
            num_of_friends INT (64) UNSIGNED ZEROFILL NULL default '0'
            );";

        $tablemyfriends = "CREATE TABLE IF NOT EXISTS myfirends ( 
            friend_id1 INT NOT NULL , 
            friend_id2 INT NOT NULL 
            );";

        $resulttf = @mysqli_query($conn, $tablefriends);
        if($resulttf==false){
            echo "<p>Failed to create friends table</p>";
            }
        $resulttmf = @mysqli_query($conn, $tablemyfriends);
        if($resulttmf==false){
            echo "<p>Failed to create myfriends table</p>"; 
            }else{

        echo"<p>Tables successfully created</p>";
            }
        mysqli_close($conn);
    }

    else {
        echo "<p>Failed to connect</p>";
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:23:21.400

授予运行查询的用户的 GRANTS 是什么？也许用户只能创建第二个表。

查看 MySQL 日志文件，看看是否有任何错误消息可以帮助您。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:24:43.613

```
if ($conn==true){
     $tablefriends = "CREATE TABLE IF NOT EXISTS friends (
        friend_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
        friend_email VARCHAR(64) NOT NULL,
        password VARCHAR(16) NOT NULL ,
        profile_name VARCHAR(32) NOT NULL ,
        date_started DATE NOT NULL ,
        num_of_friends INT UNSIGNED ZEROFILL NULL default '0'
        );";

    $tablemyfriends = "CREATE TABLE IF NOT EXISTS myfirends ( 
        friend_id1 INT NOT NULL , 
        friend_id2 INT NOT NULL 
        );";

    $resulttf = @mysqli_query($conn, $tablefriends);
    if($resulttf==false){
        echo "<p>Failed to create friends table</p>";
        }
    $resulttmf = @mysqli_query($conn, $tablemyfriends);
    if($resulttmf==false){
        echo "<p>Failed to create myfriends table</p>"; 
        }else{

    echo"<p>Tables successfully created</p>";
        }
    mysqli_close($conn);
}

else {
    echo "<p>Failed to connect</p>";
    } 
```

# vb.net - 遍历表单中的所有控件

> ID：13119615
> 
> 赞同：0
> 
> 时间：2012-10-29T10:17:33.373
> 
> 标签：vb.net

我有一个表单，我正在运行该表单中的所有控件。我的代码没问题，可以获取所有控件及其所有属性。

因此，例如，我有一个 TabControl，每个 tabPage 中有 2 个 TabPages 和 2 个文本框。
问题是对于未选中的tabPage，文本框的可见属性为False，尽管我已将其设置为True。
我试图用 Control.Select 和 Control.Focus 解决这个问题，但 Visible 仍然是 False：

```
 Private Sub createXML(ByVal cnt As Control, ByVal elem As XElement)
    Try

        cnt.Select()
        cnt.Focus()
        Select Case cnt.Controls.Count
            Case Is = 0
               'Code here to write XElement to an XDocument
                'Check Controls properties
            Case Is > 0
                For Each childCnt As Control In cnt.Controls
                    childCnt.Select()
                    childCnt.Focus()

                    Dim childElem As New XElement(childCnt.GetType.ToString)
                    Select Case childCnt.Controls.Count
                        Case Is = 0
                            'Code here to write XElement to an XDocument
                            'Check Controls properties
                        Case Is > 0
                            createXML(childCnt, childElem)
                       End Select
                Next
        End Select 
```

有任何想法吗？请注意，我不知道每次必须运行哪些控件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T13:00:42.747

在这种情况下，您的问题是 TabControl 将所有内容设置为不可见，除非它们存在于当前选定的标签页中。当您更改选项卡时，控件将设置为可见，而以前的控件将消失。那么 tabcontrol 是如何跟踪手动设置为可见 false 的控件，以便在更改选项卡时它不会亮起的呢？好吧，可见属性并不是真正基于布尔值。这只是为我们程序员解释它的一种简单方法。要么你看到它，要么你没有，没有规则要记住或设置搞砸了。可见或不那么简单。

那么你的问题该怎么办。基本上，当我看到这一点时，我的第一个想法是您想要创建一个“打开程序，使其看起来与关闭时相同”的功能。这当然目前无法正常工作，因为您的解析器可能将所有内容设置为可见 = false，这在前面所说的意味着永远不可见。因此在加载时选项卡控制页面更改后不显示。

所以解决方法： 1\. 给tab控件中的控件添加一个标签。这样您可以在保存时查找标签。如果存在，请将可见属性设置为 true。（便于您日后维护时理解） 2\. 使用反射得到实际可见状态。查看 SO 线程并阅读有关反射的信息：[Using control.Visible 如果它位于未选择的标签页上，则返回 False](https://stackoverflow.com/questions/3351371/using-control-visible-returns-false-if-its-on-a-tab-page-that-is-not-selected)（将来维护时不太容易理解）

# python - Python paramiko 日志记录弄乱了 stfp 连接

> ID：13119616
> 
> 赞同：1
> 
> 时间：2012-10-29T10:17:35.620
> 
> 标签：python, paramiko

我正在使用 paramiko 打开 sftp 连接以访问远程文件。我在下面的内置函数中的所有代码似乎只有在我没有为 paramiko 启用日志记录时才有效：

```
 paramiko.util.log_to_file( 'paramiko.log' ) 
```

因此，当我的文件中没有上述代码行时，以下代码可以工作：

```
 client = paramiko.SSHClient()
        client.load_system_host_keys()
        client.set_missing_host_key_policy( paramiko.AutoAddPolicy() )
        client.connect( hostname,user, password)
        sftp = client.open_sftp()
        file = sftp.open( fpath, mode='r', bufsize=1 ) 
```

否则，python 将挂在这条线上**client.connect(hostname,user,password)**并疯狂地写入 stderr 日志，最终杀死我的代码正在运行的 VM。

特别是 paramiko 挂在这条线上：

```
t.start_client() 
```

在 client.connect 方法中。paramiko 日志中没有任何有用的信息，stderr 充满了没有描述或回溯的错误。

研究这个问题时我遇到了“有一个可用的导入锁，所以当子线程尝试另一个导入时，它可以无限期地阻止它”如何确保打开 sftp 连接的代码永远不会被阻止？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:48:59.163

这有点远，但我遇到了`logging`使用线程导致死锁的问题。我无法找到确切的问题（尽管我怀疑使用`subprocess`; 可能会加剧问题，但我确实通过禁用`logging`模块的线程支持来解决它。

在激活日志记录之前尝试此操作：

```
import logging
logging.thread = None 
```

我很想知道这是否能解决您的问题。

# objective-c - 覆盖类类别中的属性设置器

> ID：13119620
> 
> 赞同：6
> 
> 时间：2012-10-29T10:17:45.033
> 
> 标签：objective-c, ios

我有一个`NSManagedObject`要覆盖 setter 的类，但有人告诉我最好不要修改自动生成的类文件并创建类别来扩展它们（因为如果您更改模型并重新生成文件，你失去了所有的加法）。

如果我为某个类别中的 setter 创建一个方法，它肯定会运行该方法（使用 NSLog 测试），但我不知道如何分配实际的属性值。通常，我会使用

`@synthesize finished = _finished;`

这样我就可以使用 访问设置器中的属性`_finished`，如下所示：

```
- (void)setFinished:(NSNumber *)finishedValue {
    _finished = finishedValue;
    self.end_time = [NSDate date];
} 
```

但是在`NSManagedObject`this 中定义属性的地方似乎是不可能的。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T11:08:28.050

您可以使用子类化查看文档[here](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdAccessorMethods.html#//apple_ref/doc/uid/TP40002154-SW14)

```
- (void)setName:(NSString *)newName
{
    [self willChangeValueForKey:@"name"];
    [self setPrimitiveName:newName];
    [self didChangeValueForKey:@"name"];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:46:19.927

在一个类别中，您不能添加属性值，只能添加方法。所以你需要子类来执行你想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-18T09:23:13.910

有一个简单的方法可以做到这一点，请尝试以下方法：

模型.h

```
@interface Model
@property(nonatomic,copy) NSString  * string;
@end 
```

模型+覆盖.m

```
@interface Model ()
{
    NSString *_string;
} 
@end

@implementation Model (Override) 
- (void)setString:(NSString *)string
{
    return _string = string;
}    
@end 
```

# sencha-touch-2 - sencha touch 2 api 文档

> ID：13119621
> 
> 赞同：0
> 
> 时间：2012-10-29T10:17:58.000
> 
> 标签：sencha-touch-2

我目前正在使用 Sencha Touch 2 进行一个项目，并且想知道是否有人有 API 文档页面的工作链接。

我尝试访问[http://docs.sencha.com/touch/2-0/#!/api](http://docs.sencha.com/touch/2-0/#!/api)，但我不断被重定向到：[https ://www.sencha.com/products/touch/2 -0/#!/api](https://www.sencha.com/products/touch/2-0/#!/api)并最终得到一个“找不到您尝试访问的页面。” Sencha Touch 主页出错。

有谁知道为什么会这样？我在所有搜索中都看到了相同的链接，因此我开始觉得这不仅仅是一个错误的链接问题，而且可能是其他问题。

- 更新 -

Chrome 上发生了缺少页面错误。IE 似乎可以处理链接。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:46:04.347

我不知道你为什么会遇到这个奇怪的问题，因为链接对我来说仍然可以，也许你需要清除浏览器缓存或其他东西。

但不是那种方式，如果您已经从[这里](http://www.sencha.com/products/touch/download/)下载并解压缩了 sencha touch 2 包并且我认为您已经这样做了，那么您只需要打开该文件夹中的 index.html 文件，API 文档是已经在那了 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T00:16:49.417

我已通过禁用 Chrome 中的 KB SSL Enforcer 扩展来修复该错误。

希望这个信息。帮助其他面临同样问题的人。无法阅读 chrome 中的文档让我发疯了一段时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T05:37:28.107

你下载了sdk吧？？？只需转到您的 sdk 文件夹并在您的网络浏览器中转到文档，文档就在那里...

# asp.net-mvc-3 - 在使用自定义成员资格 ASP.NET MVC 实施存储库模式方面需要帮助

> ID：13119622
> 
> 赞同：0
> 
> 时间：2012-10-29T10:17:59.123
> 
> 标签：asp.net-mvc-3, dependency-injection, repository-pattern, custom-membershipprovider

我正在我的一个基于 ASP.NET MVC4 和 N 层架构的项目中实现存储库模式。对于如何使用存储库模式实现自定义成员资格，我有点困惑。到目前为止，这是我实现课程的方式。

//***通用存储库***

```
public interface IRepository<T> where T : class
{
void Add(T entity);
void Delete(T entity);
void Update(T entity);
IQueryable<T> GetAll();
T FindBy(Expression<Func<T, bool>> expression);
IQueryable<T> FilterBy(Expression<Func<T, bool>> expression);
} 
```

//***存储库基类***

```
public abstract class Repository<T> : IRepository<T> where T : class
{
private STNDataContext _stnDataContext;
private readonly IDbSet<T> _dbSet;

protected Repository(IDatabaseFactory databaseFactory)
{
DatabaseFactory = databaseFactory;
_dbSet = StnDataContext.Set<T>();
}

protected IDatabaseFactory DatabaseFactory { get; private set; }
public STNDataContext StnDataContext
{
get { return _stnDataContext ?? (_stnDataContext = new STNDataContext()); }
}
public void Add(T entity)
{
_dbSet.Add(entity);
_stnDataContext.Commit();
}

public void Delete(T entity)
{
_dbSet.Remove(entity);
}

public void Update(T entity)
{
_dbSet.Attach(entity);
_stnDataContext.Entry(entity).State = EntityState.Modified;
_stnDataContext.Commit();
}

public IQueryable<T> GetAll()
{
return _dbSet.ToList().AsQueryable();
}

public T FindBy(Expression<Func<T, bool>> expression)
{
return FilterBy(expression).SingleOrDefault();
}

public IQueryable<T> FilterBy(Expression<Func<T, bool>> expression)
{
return GetAll().Where(expression).AsQueryable();
} 
```

//***用户存储接口***

```
public interface IUserRepository : IRepository<User>
{
} 
```

//***用户存储库***

```
public class UserRepository : Repository<User>, IUserRepository
{
public UserRepository(IDatabaseFactory databaseFactory)
: base(databaseFactory)
{
}
} 
```

//***这是我的业务逻辑层***

//***通用服务接口***

```
public interface IService<T>
{
void Add(T entity);
void Delete(T entity);
void Update(T entity);
IEnumerable<T> GetAll();
T FindBy(Expression<Func<T, bool>> expression);
IEnumerable<T> FilterBy(Expression<Func<T, bool>> expression);
} 
```

//***服务基地***

```
public class Service<T> : IService<T> where T : class 
{
public void Add(T entity)
{
throw new NotImplementedException();
}

public void Delete(T entity)
{
throw new NotImplementedException();
}

public void Update(T entity)
{
throw new NotImplementedException();
}

public IEnumerable<T> GetAll()
{
throw new NotImplementedException();
}

public T FindBy(Expression<Func<T, bool>> expression)
{
throw new NotImplementedException();
}

public IEnumerable<T> FilterBy(Expression<Func<T, bool>> expression)
{
throw new NotImplementedException();
}
} 
```

//***用户服务接口***

```
public interface IUserService : IService<User>
{
} 
```

//***用户服务实现***

```
public class UserService : Service<User>, IUserService
{
private readonly IUserRepository _userRepository;
private readonly IRoleRepository _roleRepository;

public UserService(IUserRepository userRepository, IRoleRepository roleRepository)
{
_userRepository = userRepository;
_roleRepository = roleRepository;
}

public IList<User> GetAllUsers()
{
return _userRepository.GetAll().ToList();
}

public User GetUser(int id)
{
return _userRepository.FindBy(x => x.UserId == id);
}

public User GetUser(string userName)
{
return _userRepository.FindBy(x => x.Username.Equals(userName));
}

public void CreatUser(User user)
{
_userRepository.Add(user);
}

public IList<User> GetUsersForRole(string roleName)
{
return _userRepository.FilterBy(x => x.Role.RoleName.Equals(roleName)).ToList<User>();
}

public IList<User> GetUsersForRole(int roleId)
{
return _userRepository.FilterBy(x => x.Role.RoleId == roleId).ToList<User>();
}

public IList<User> GetUsersForRole(Role role)
{
return GetUsersForRole(role.RoleId);
}

} 
```

我不太确定我走对了吗？如果是，我如何实现我的 UserService 类。

如果不是，我需要实施哪些更改。

对此的任何帮助都是非常可观的。在此先感谢**强文本**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:46:12.730

你的界面`IService<T>`看起来非常像你的`IRepository<T>`界面。对我来说，这看起来像是一个完全无用的抽象。消费者可以`IRepository<T>`直接使用抽象。如果您的意图是向实现添加功能（例如横切关注点）`IService<T>`；改用[装饰器](https://en.wikipedia.org/wiki/Decorator_pattern)。

此外，为什么有一个空的（非通用的）`IUserRepository`？直接使用没有用`IRepository<User>`。如果您打算`IUserRepository`稍后为此添加额外的方法，请不要。这个接口，以及这个接口的实现，将开始变得太大，变得难以维护，并且变得难以扩展你的代码库的一部分，因为你将违反[单一职责原则](https://en.wikipedia.org/wiki/Single_responsibility_principle)。相反，为自定义用户特定操作提供自己的类（每个操作一个类），由通用接口隐藏，就像您已经对`IRepository<T>`.

以下两篇文章描述了一种通过定义更小的重点类来创建更可维护的系统的有吸引力的方法，每个类都封装一个查询或用例，这些类可以放在存储库模式的顶部：

*   [同时……在我的架构的指挥方面](https://cuttingedge.it/blogs/steven/pivot/entry.php?id=91)
*   [同时……在我的架构的查询方面](https://cuttingedge.it/blogs/steven/pivot/entry.php?id=92)

最后一点。您的`UserService`类看起来很像`MembershipProvider`.NET 框架中的类。为什么不使用那个类？有一个[非常有趣的库](https://github.com/jgauffin/griffin.mvccontrib)，它允许您以[更结构化、对依赖项友好的方式为 MVC 创建成员资格提供程序](http://blog.gauffin.org/2011/09/a-more-structured-membershipprovider/)。你一定要看看。

# android - 如何从模板更新 Android 项目？

> ID：13119628
> 
> 赞同：1
> 
> 时间：2012-10-29T10:18:24.090
> 
> 标签：android, templates, project, updates

目前我正在开发一个针对本地小型企业的应用程序，该应用程序用作其他应用程序（其他商店）的模板。基础应用程序允许本地商店向他们的客户发送通知，根据业务环境，通知可以是报告促销、通知客户他可以在商店取货、通知商店中的新产品等。 .. 我所做的是为每个客户端制作模板，然后在后台自定义应用程序的外观，但每个人的功能都是相同的。我的问题是每次我们有更多的企业对应用程序感兴趣并且当我发现错误或想要进一步改进时出现问题，并且更新每个应用程序中的代码可能是地狱（打开每个项目，添加行代码，重新编译等...），

有什么方法可以在原始模板中提供更新和/或添加部分代码，并且更改会自动反映在从模板生成的所有项目中？

我已经了解 Apache Ant 可以帮助具有许多依赖项的大型项目的编译过程，但在我的问题的上下文中可能有用吗？

我现在能想到的解决方案是创建一个项目库，然后将所有项目通用的东西，包括资源和活动。问题是，例如应用程序 Content Provider 不能去那里，因为我需要在为每个应用程序定义的清单中拥有一个权限。

提前非常感谢您花时间阅读我的信息。欢迎任何帮助或建议。再次感谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T11:15:40.070

> 我的问题是有什么方法可以在原始模板中提供更新和/或添加部分代码，并且更改会自动反映在从模板生成的所有项目中？

使核心代码成为一个[Android 库项目](http://developer.android.com/tools/projects/index.html#LibraryProjects)，并在所有客户应用程序中使用该库项目。

> 我现在能想到的解决方案是创建一个项目库，然后将所有项目通用的东西，包括资源和活动。

正确的。

> 问题是，例如应用程序 Content Provider 不能去那里，因为我需要在为每个应用程序定义的清单中拥有一个权限。

您的`ContentProvider`实现可以进入库项目。您的客户特定项目将需要`<provider>`清单中的元素，具有唯一权限，指向`ContentProvider`库中的类。

# sqlite - SQLite 数据库不更新

> ID：13119629
> 
> 赞同：1
> 
> 时间：2012-10-29T10:18:27.523
> 
> 标签：sqlite, xcode4.5

好的，所以我正在尝试将数据库合并到登录/注册屏幕中，无论我尝试了什么，它都不会执行 INSERT 语句。.sqlite 文件包含在“支持文件”中，并且也包含在其中。这是一些示例代码...

```
-(IBAction)registerButtonPressed:(id)sender {
NSLog(@"New username: %@ New password: %@", theNewUsername.text, theNewPassword.text);

sqlite3_stmt *statement;
const char *dbpath = [dbPathString UTF8String];

if (sqlite3_open(dbpath, &loginDB) == SQLITE_OK)
{
    // this is the command to be executed
    NSString *insertSQL = [NSString stringWithFormat: @"INSERT INTO users(username, password, coins) "
                        "VALUES (\"%@\", \"%@\", \"%d\")", username.text, password.text, 0];
    const char *insert_stmt = [insertSQL UTF8String];
    sqlite3_prepare_v2(loginDB, insert_stmt, -1, &statement, NULL);
    if (sqlite3_step(statement) == SQLITE_DONE)
    {
        NSLog(@"Contact added");
        username.text = @"";
        password.text = @"";
    }
    else {
        NSLog(@"Failed to add contact");
    }
    sqlite3_finalize(statement);
    sqlite3_close(loginDB);
}
else {
    NSLog(@"Failed to open database");
}
} 
```

我只收到返回“无法添加联系人”

# sql - 比较 SQL 中的图像数据类型

> ID：13119639
> 
> 赞同：7
> 
> 时间：2012-10-29T10:19:06.133
> 
> 标签：sql, sql-server-2008

如何比较`Image`数据类型？

我需要将存储在数据库中的文件与上传的文件进行比较但它说`Image`无法比较数据类型我什至尝试转换为`nchar`

```
(CONVERT(char(1000), FileData) 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-29T10:21:53.087

不要使用`image`它已弃用的数据类型。

`varbinary(max)`而是使用没有所有限制的替换数据类型`image`

同时，您可以`cast(FileData as varbinary(max))`允许比较。

# html - 使用 x-tag 进行黄瓜/水豚测试

> ID：13119640
> 
> 赞同：1
> 
> 时间：2012-10-29T10:19:09.623
> 
> 标签：html, ruby, cucumber, capybara, x-tag

我正在测试我用 Cucumber/Capybara 创建的应用程序。看起来它没有看到我正在使用的[x-tag 。](http://x-tags.org/)看起来 Cucumber 没有使用 x-tag 正确呈现页面。有没有办法解决这个问题？我认为这是问题所在，因为当我将输入字段放在 xlogin.js 之外并放入 id=login 的正文或 div 时，它确实有效。

身体：

```
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="js/jquery/jqueryMobile/jquery.mobile-1.2.0.css" />
    <link rel="stylesheet" href="components/login/login.css"/>
    <link rel="stylesheet" href="master.css"/>
</head>
<body>
    <div id="login" data-role="page" class="ui-tass-page">
        <x-login></x-login>
    </div>

    <div id="main" data-role="page" class="ui-tass-page">
    </div>

    <script src="js/x-tag.js"></script>
    <script src="components/login/login.js"></script>
    <script src="js/jquery/jquery-1.8.2.js"></script>
    <script src="js/jquery/jqueryMobile/jquery.mobile-1.2.0.js"></script>
</body> 
```

特征：

```
Feature: log in
    In order to get access to the app's functionality
    As a user
    I want to log in

Scenario: happy flow
    Given I am on the index.html#login page
    Then I should be on the index.html page
    When I give my username
    And I give my password
    And I click on login
    Then I should go to the main page
    And the username and password are saved 
```

脚步：

```
When /^I give my username$/ do
  fill_in 'username', :with => 'user@example.com'
end

Given /^I am on the (.*?) page$/ do |uri|
  visit uri
  response = page.driver.response
  response.status.should eql 200
  response.status.should_not eql 401
end 

Then /^I should be on the (.*?) page$/ do |uri|
  current_url.include?( uri ).should be true
end 
```

输出：

```
 Scenario: happy flow                      # features/login.feature:6
    Given I am on the index.html#login page # features/step_definitions/generic_steps.rb:1
    Then I should be on the index.html page # features/step_definitions/generic_steps.rb:8
    When I give my username                 # features/step_definitions/login_steps.rb:1
      cannot fill in, no text field, text area or password field with id, name, or label 'username' found (Capybara::ElementNotFound)
      (eval):2:in `fill_in'
      ./features/step_definitions/login_steps.rb:2:in `/^I give my username$/'
      features/login.feature:9:in `When I give my username' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T08:38:39.947

我解决了这个问题。什么地方出了错：

1：我在 Capybara 中使用的是默认驱动程序。此驱动程序无法处理 Javascript。

解决方法：使用驱动 Selenium

```
 Capybara.javascript_driver = :selenium 
```

2：我通过 ssh 使用 Ubuntu 服务器。所以 Selenium 使用的浏览器（firefox）不起作用。

解决方案：我切换到桌面Ubuntu并使用vnc连接它。

# java - Java 以编程方式从密钥/证书中读取信息

> ID：13119641
> 
> 赞同：3
> 
> 时间：2012-10-29T10:19:17.957
> 
> 标签：java, security

我正在尝试构建证书/密钥管理工具，但我不明白如何获取证书/密钥的 md5 指纹。

例如，如果我在密钥库上使用 keytool 命令，我将获得

```
Keystore type: JKS
Keystore provider: SUN

Your keystore contains 1 entry

Alias name: myname
Creation date: 21-Aug-2011
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=bla bla, L=bla, ST=bla
Issuer: CN=bla bla, L=bla, ST=bla
Serial number: 123w3qa
Valid from: Sun Aug 21 00:12:31 CEST 2011 until: Mon Jul 28 00:12:31 CEST 2110
Certificate fingerprints:
         MD5:  1A:DE:60:21:DE:B1:BF:C3:D1:AD:11:F1:21:22:D7:9E
         SHA1: 72:3A:D9:2E:1A:DE:60:21:DE:B1:BF:C3:D1:AD:11:F1:21:22:D7:9E
         Signature algorithm name: SHA256withRSA
         Version: 3

Extensions:

#1: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: AA EA FA FE 34 DA 6E C6   FC 8B 6C DE S9 21 S9 S4  ......^...l.I!.D
0010: S3 33 29 SD                                        .S..
]
]

*******************************************
******************************************* 
```

现在我想通过java获取以下信息： 1\. MD5指纹 2\. KeyIdentifier

我使用 X500Certificate 对象和 X500Principal 获得了一些信息（例如日期、所有者、颁发者、别名），但我没有找到可以获取其他信息的地方。有人能帮我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:24:01.480

如果您检查[源代码](http://www.docjar.com/html/api/sun/security/tools/KeyTool.java.html)，`keytool`您可以看到以下内容：

```
 2830       getCertFingerPrint("MD5", cert), 
```

调用：

```
 3167       /**
 3168        * Gets the requested finger print of the certificate.
 3169        */
 3170       private String getCertFingerPrint(String mdAlg, Certificate cert)
 3171           throws Exception
 3172       {
 3173           byte[] encCertInfo = cert.getEncoded();
 3174           MessageDigest md = MessageDigest.getInstance(mdAlg);
 3175           byte[] digest = md.digest(encCertInfo);
 3176           return toHexString(digest);
 3177       } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:35:44.130

您可以尝试以下代码 -

```
 // Load the JDK's cacerts keystore file
            String filename = System.getProperty("java.home") + "/lib/security/cacerts".replace('/', File.separatorChar);

            FileInputStream is = new FileInputStream(filename);
            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());
            String password = "changeit";
            keystore.load(is, password.toCharArray());

            // This class retrieves the most-trusted CAs from the keystore
            PKIXParameters params = new PKIXParameters(keystore);

            // Get the set of trust anchors, which contain the most-trusted CA certificates
            Iterator it = params.getTrustAnchors().iterator();
            while( it.hasNext() ) {
                TrustAnchor ta = (TrustAnchor)it.next();
                // Get certificate
                X509Certificate cert = ta.getTrustedCert();
                System.out.println(cert);
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-24T11:52:14.120

我浏览了`keytool` [源代码](http://www.docjar.com/html/api/sun/security/tools/KeyTool.java.html)并想出了这个（DNA答案的扩展版本）：

```
String filename = "path to your keystore";
String keyPassword = "your key password";
String keyAlias = "your key alias";

FileInputStream is = new FileInputStream(filename);

KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());

keystore.load(is, keyPassword.toCharArray());

/* Gets the requested finger print of the certificate. */
X509Certificate cert = keystore.getCertificate(keyAlias);
byte[] encCertInfo = cert.getEncoded();
MessageDigest md = MessageDigest.getInstance("MD5");
byte[] digest = md.digest(encCertInfo);

/* Converts a byte array to hex string */
StringBuffer buf = new StringBuffer();
int len = digest.length;
for (int i = 0; i < len; i++) {
    /* Converts a byte to hex digit and writes to the supplied buffer */
    char[] hexChars = [ '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' ];
    int high = ((digest[i] & 0xf0) >> 4);
    int low = (digest[i] & 0x0f);
    buf.append(hexChars[high]);
    buf.append(hexChars[low]);

    if (i < len-1) {
        buf.append(":");
    }
}

String your_md5_fingerprint = buf.toString(); 
```

我在 Android 上对其进行了测试，效果很好。

# objective-c - 如何在 MacOS 上获得特定用户的首选语言？

> ID：13119644
> 
> 赞同：3
> 
> 时间：2012-10-29T10:19:24.590
> 
> 标签：objective-c, macos, cocoa

我正在为 Mac OS 开发一个应用程序，网络管理员使用它来提示交互式用户选择他想要在某些软件部署后执行的操作（例如现在重新启动、稍后重新启动等操作）。该对话框将从 root 帐户远程启动（通过 SSH 连接）。我有一个带有本地化信息的 xml 文件，我想从中初始化对话框 GUI，为此我需要用户最喜欢的语言，但是

```
[[NSUserDefaults standardUserDefaults] objectForKey:@"AppleLanguages"] 
```

返回

> (es, en, de) 当应用程序从交互式用户启动时

和

> (zh) 何时从 root 帐户远程启动

为了获取用户名，我使用 bash 命令 'stat -f\%Su /dev/console' 但我找不到如何获取该特定用户的首选项。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T13:04:40.723

找到了一个“肮脏”的解决方案，位于 [user] 主目录的 Library/Preferences/ 文件夹中的首选项列表 .GlobalPreferences.plist 包含 [user] 的首选语言，默认主目录是 /Users/[user]，如果用户是root 路径是/var/root/ 但是这个路径可以配置，这里方法`-(NSString *)stringByExpandingTildeInPath`形式NSString 可以用来获取主目录。波纹管是获取此信息的代码：

```
NSString *interactiveUser = [self getInteractiveUser];
NSString *path = [NSString stringWithFormat: @"~%@/Library/Preferences/.GlobalPreferences.plist", interactiveUser];
path = [path stringByExpandingTildeInPath];
NSDictionary *dict = [[NSDictionary alloc] initWithContentsOfFile:path];
NSArray *languages = [dict objectForKey:@"AppleLanguages"]; 
```

where`[self getInteractiveUser]`使用 'stat -f\%Su /dev/console' 命令返回交互式用户。

适用于豹和狮子。

# css - 单击复选框时的CSS样式

> ID：13119648
> 
> 赞同：2
> 
> 时间：2012-10-29T10:19:36.897
> 
> 标签：css

当我单击其中的复选框时，我想在下面的代码中设置 div#main 的样式。我可以只使用 css/css3 来做到这一点吗？先感谢您！

```
<div id="main">
<div id="content">
<input type="checkbox"/>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:52:05.093

你可以玩 HTML & css。像这样写：

```
<input type="checkbox" id="change"/>
<div id="main">
<div id="content">
<label for="change"></label>
    <h2>hello</h2>
</div>
</div> 
```

**CSS**

```
#main{
  width:100px;
  height:100px;
  background:red;
  text-align:center;
}
input{
    display:none;
}
input:checked ~ #main{
    border:2px solid green;
    font-size:24px;
    background:yellow;
}
input:checked ~ #main label{
    background:url(http://farm6.static.flickr.com/5182/5840005274_b3bcc52bb1_o.png);
}

label{
    background:url(http://farm3.static.flickr.com/2793/5839457953_1690178a65_o.png);
    display:block;
    width:18px;
    height:18px;
} 
```

检查这个[http://jsfiddle.net/j5nTx/](http://jsfiddle.net/j5nTx/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:24:11.040

html

```
<input type="checkbox" class="checkBox"/> 
```

CSS

```
.checkBox:checked
{
/* apply any css */
border:solid 1px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:28:40.630

使用此代码：

```
#main #content input[type="checkbox"]:checked {
    /*your styles*/
} 
```

​如果你想要风格#main #content你应该使用jquery：

```
$(function () {
            $("#chk").change(function () {
                if ($(this).is(":checked"))
                    $("#content").addClass("newClass");
                else {
                    $("#content").removeClass("newClass");
                }
            });
        }); 
```

CSS：

```
.newClass{
 width: 100px;
 height: 100px;
 background-color: red;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:41:30.020

用这个

```
input[type="checkbox"]:checked #content {
    /*your color changing code*/
} 
```

它将样式代码应用于`#content`何时 `input[type="checkbox"]`检查，即您想要什么

# windows-store-apps - 如何信任 Windows 商店应用程序中的自签名证书

> ID：13119649
> 
> 赞同：16
> 
> 时间：2012-10-29T10:19:38.067
> 
> 标签：windows-store-apps

我正在尝试覆盖 Windows Store 应用程序中的证书验证以接受两个外部服务（使用 HttpClient）上的自签名证书，以允许 Windows 8 应用程序接受证书并建立 SSL 信任关系

编辑：我实现了此处记录的方法：[Installing certs by using the appmanifest](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh465002%28v=win.10%29.aspx)

并将相关的 .cer 文件添加到我的应用程序中，并确保它们是“内容”和“始终复制”。

我的 package.appxmanifest Extensions 部分如下所示：

```
 <Extensions>
<Extension Category="windows.certificates">
  <Certificates>
    <Certificate StoreName="TrustedPeople" Content="Assets\ReportingServices.cer" />
    <Certificate StoreName="TrustedPeople" Content="Assets\Crm.cer" />
    <Certificate StoreName="CA" Content="Assets\DigiCertHighAssurance.cer" />
    <TrustFlags ExclusiveTrust="true" />
    <SelectionCriteria AutoSelect="true" />
  </Certificates>
</Extension> 
```

但这仍然不起作用。

我尝试将应用程序证书放在“根”商店名称中，但仍然没有成功。有谁知道为什么这可能不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-13T08:58:29.143

这有点老了，但是看到有很多观察者，我会给出我的解决方案。

```
// Create the httpClient and send the request
HttpBaseProtocolFilter aHBPF = new HttpBaseProtocolFilter();
// If you want to ignore expired Certs
aHBPF.IgnorableServerCertificateErrors.Add(ChainValidationResult.Expired);
// Untrused because this is a self signed cert that is not installed
aHBPF.IgnorableServerCertificateErrors.Add(ChainValidationResult.Untrusted);
// Host names and certs names may not match
aHBPF.IgnorableServerCertificateErrors.Add(ChainValidationResult.InvalidName);

HttpClient httpClient = new HttpClient(aHBPF);
HttpResponseMessage response = await httpClient.SendRequestAsync(httpRequest, HttpCompletionOption.ResponseHeadersRead).AsTask(cts.Token); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-09T06:44:27.153

只是为了节省您的时间。我必须通过 2 天的反复试验来解决这个问题。在这里你可以解决它。将 .cer 文件添加到您的项目中，将构建操作设为“内容”，复制为较新的，然后将其添加到您的应用清单中

```
<Capabilities>
    <Capability Name="sharedUserCertificates" />
    <Capability Name="enterpriseAuthentication" />
    <Capability Name="privateNetworkClientServer" />
    <Capability Name="internetClient" />
</Capabilities>

<Extensions>
<Extension Category="windows.certificates">
  <Certificates>
    <Certificate StoreName="Root" Content="Certificates\vibeapi.cer" />
      <TrustFlags ExclusiveTrust="true" />
       <SelectionCriteria AutoSelect="true" />
    </Certificates>
  </Extension>
</Extensions> 
```

并且您的代码现在可以使用此访问文件

```
//Testing https connection
HttpClientHandler msgHandler = new HttpClientHandler();

using (System.Net.Http.HttpClient httpClient = new System.Net.Http.HttpClient(msgHandler, true))
       {
          var HTTPSURL = new Uri("https://www.sample.net/");

       var response = await httpClient.GetAsync(HTTPSURL);
       var responseStr = await response.Content.ReadAsStringAsync();

       } 
```

请参阅链接以获取参考 [帮助](http://blogs.msdn.com/b/lighthouse/archive/2013/10/17/how-to-protect-your-https-communication-from-man-in-the-middle-s-decryption-in-windows-store-app.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-04T08:40:34.523

如果您将 cer 文件放入项目根目录并将清单文件中的 Content 部分更改为 Content="file.cer"，它将起作用

# c# - 如何在c#中使用pop3从gmail检索邮件中读取邮件正文？

> ID：13119653
> 
> 赞同：3
> 
> 时间：2012-10-29T10:19:50.357
> 
> 标签：c#

这是代码：

```
protected void Button9_Click(object sender, EventArgs e)
{
    try
    {
        // create an instance of TcpClient
        TcpClient tcpclient = new TcpClient();

        // HOST NAME POP SERVER and gmail uses port number 995 for POP
        tcpclient.Connect("pop.gmail.com", 995);

        // This is Secure Stream // opened the connection between client and POP Server
        System.Net.Security.SslStream sslstream = new SslStream(tcpclient.GetStream());

        // authenticate as client  
        sslstream.AuthenticateAsClient("pop.gmail.com");

        //bool flag = sslstream.IsAuthenticated;   // check flag

        // Asssigned the writer to stream 
        System.IO.StreamWriter sw = new StreamWriter(sslstream);

        // Assigned reader to stream
        System.IO.StreamReader reader = new StreamReader(sslstream);

        // refer POP rfc command, there very few around 6-9 command
        sw.WriteLine("USER your_gmail_user_name@gmail.com");

        // sent to server
        sw.Flush(); sw.WriteLine("PASS your_gmail_password");

        sw.Flush();

        // RETR 1 will retrive your first email. it will read content of your first email
        sw.WriteLine("RETR 1");
        sw.Flush();

        // close the connection
        sw.WriteLine("Quit ");
        sw.Flush(); string str = string.Empty;

        string strTemp = string.Empty;
        while ((strTemp = reader.ReadLine()) != null)
        {
            // find the . character in line
            if (strTemp == ".")
            {
                break;
            }
            if (strTemp.IndexOf("-ERR") != -1)
            {
                break;
            }
            str += strTemp;
        }

        textbox1.text = str;
        textbox1.text += "<BR>" + "Congratulation.. ....!!! You read your first gmail email ";
    }
    catch (Exception ex)
    {
        Response.Write(ex.Message);
    }
} 
```

消息正文是一堆看似随机的字符。我知道这不仅仅是一堆随机字符，而是一些需要解析和转换的代码。如何阅读“消息正文”中的内容？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-29T12:22:54.167

我知道我没有直接回复您的答案，但阅读电子邮件是一项非常复杂的任务，我认为您可以使用外部库更好更快地实现这一点，而不是自己实现它。

有很多很好的实现，我通常使用 OpenPop.NET，它工作正常并且是开源的。

[https://sourceforge.net/projects/hpop/](https://sourceforge.net/projects/hpop/)

你可以在互联网上找到很多例子，因为它真的很受欢迎。

[http://hpop.sourceforge.net/examples.php](http://hpop.sourceforge.net/examples.php)

您可以轻松收到所有邮件：

```
using(Pop3Client client = new Pop3Client())
{
    // Connect to the server
    client.Connect("pop.gmail.com", 995, true);

    // Authenticate ourselves towards the server
    client.Authenticate("username@gmail.com", "password", AuthenticationMethod.UsernameAndPassword);

    // Get the number of messages in the inbox
    int messageCount = client.GetMessageCount();

    // We want to download all messages
    List<Message> allMessages = new List<Message>(messageCount);

    // Messages are numbered in the interval: [1, messageCount]
    // Ergo: message numbers are 1-based.
    // Most servers give the latest message the highest number
    for (int i = messageCount; i > 0; i--)
    {
        allMessages.Add(client.GetMessage(i));
    }
} 
```

你可以得到完整的原始信息

```
var mailbody = ASCIIEncoding.ASCII.GetString(message.RawMessage); 
```

或者如果它是 utf8 编码的电子邮件：

```
var encodedStringAsBytes = System.Convert.FromBase64String(message.RawMessage); 
var rawMessage =System.Text.Encoding.UTF8.GetString(encodedStringAsBytes); 
```

相反，如果您只需要邮件正文，则必须深入研究邮件结构：

[http://hpop.sourceforge.net/documentation/OpenPop~OpenPop.Mime.MessagePart.html](http://hpop.sourceforge.net/documentation/OpenPop~OpenPop.Mime.MessagePart.html)

我知道这不是一件容易的事，但正如我上面所说的，电子邮件是复杂的对象。

# java - Hibernate EnumType 实例化异常

> ID：13119656
> 
> 赞同：9
> 
> 时间：2012-10-29T10:19:58.973
> 
> 标签：java, hibernate

我正在使用休眠 4 和基于 xml 的映射。这是我得到的例外

```
Caused by: org.hibernate.MappingException: Unable to instantiate custom type: org.hibernate.type.EnumType
    at org.hibernate.type.TypeFactory.custom(TypeFactory.java:193)
    at org.hibernate.type.TypeFactory.custom(TypeFactory.java:179)
    at org.hibernate.type.TypeFactory.byClass(TypeFactory.java:103)
    at org.hibernate.type.TypeResolver.heuristicType(TypeResolver.java:130)
    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:307)
    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:294)
    at org.hibernate.mapping.Property.isValid(Property.java:238)
    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:469)
    at org.hibernate.mapping.RootClass.validate(RootClass.java:270)
    at org.hibernate.cfg.Configuration.validate(Configuration.java:1294)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1742)
    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1788)
    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:189)
    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:350)
    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:335)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$6.run(AbstractAutowireCapableBeanFactory.java:1504)
    at java.security.AccessController.doPrivileged(Native Method)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1502)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    ... 35 more
Caused by: java.lang.NullPointerException
    at org.hibernate.type.EnumType.setParameterValues(EnumType.java:153)
    at org.hibernate.type.TypeFactory.injectParameters(TypeFactory.java:131)
    at org.hibernate.type.TypeFactory.custom(TypeFactory.java:189)
    ... 53 more 
```

这是我正在使用的枚举映射

```
<property name="coachingStatus" column="status" update="true" insert="true" index="true">
      <type name="org.hibernate.type.EnumType">
        <param name="enumClass">com.tutorial.enums.CoachingStatus</param>
        <param name="type">12</param>
      </type>
    </property> 
```

这是枚举：

```
public enum CoachingStatus {
  ACTIVE, BLOCKED, PENDING, EXPIRED
} 
```

这是实体

```
public class Coaching implements Serializable {
  private Integer id;
  private String name;
  private Long locationId;
  private Integer organisationId;
  private Long ownerId;
  private Date createdOn;
  private Date modifiedOn;
  private CoachingStatus coachingStatus;
  private Long createdBy;
  private Long modifiedBy;
  private String email;
  private String logo;
  private String about;
  private String phone;
... //getters and setters
} 
```

我从这里查看了教程 -[这里](http://blog.javachap.com/index.php/enumeration-mapping-in-hibernate/)但我遇到了错误。需要帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-05T22:26:19.183

我有同样的问题，看起来解决方案是添加另一个参数。这样它就不会尝试将其保留为序数，而是作为字符串，所以我猜该字符串在 VARCHAR 类型下效果更好。

```
 <property name="coachingStatus" column="status" update="true" insert="true" index="true">
    <type name="org.hibernate.type.EnumType">
       <param name="enumClass">com.tutorial.enums.CoachingStatus</param>
       <param name="type">12</param>
       <param name="useNamed">true</param>
  </type>
</property> 
```

通过设置`useNamed`为`true`休眠将使用枚举的名称存储枚举，因此如果您更改枚举类型的顺序，您的数据不会中断。

# asp.net - 结构映射违反类型参数“CONCRETETYPE”的约束

> ID：13119662
> 
> 赞同：2
> 
> 时间：2012-10-29T10:20:24.783
> 
> 标签：asp.net, .net, asp.net-mvc, dependency-injection, structuremap

我有一个在 ASP.NET 2010 中开发的 Web 应用程序。我在 ASP.NET MVC 中使用了带有 StructureMap 的依赖注入。我正在尝试开始使用结构图。我在用着

我已经构建了一个简单的引导程序，但是当我运行该网站时，我收到以下错误：

> StructureMap.Configuration.DSL.Expressions.CreatePluginFamilyExpression`1[System.Web.Mvc.IActionInvoker]。使用：类型参数“TestWebsite.Web.Controllers.Factories.InjectingActionInvoker”违反了类型参数“CONCRETETYPE”的约束。

**代码块：**

```
 public static void ConfigureStructureMap()
    {
        ObjectFactory.Initialize(x =>
        {
            //registry per assembly recommended
            x.AddRegistry<WebRegistry>();
            x.AddRegistry<ServiceRegistry>();
            x.AddRegistry<SHARE.Data.DataRegistry>();
        });

        //if a class needs configuring on load then this is done here. Inherit from IStartUpTask
        ObjectFactory.GetAllInstances<IStartUpTask>()
            .Where(x => x.IsEnabled).ToList()
            .ForEach(t => t.Configure());

        //This checks all is well.  Not ideal to do in application_start though cause of calls to request object....
        //ObjectFactory.AssertConfigurationIsValid();
    }

  public class WebRegistry : Registry
    {
        public WebRegistry()
        {
         For<IFormsAuthentication>    ().Use<FormsAuthenticationService>();
         For<IAuthentication>().Use<BasicMembership>();
                     Scan(x =>
            {
                x.AssemblyContainingType<IStartUpTask>();
                x.AddAllTypesOf<IStartUpTask>();
                x.WithDefaultConventions();
            });

            For<IActionInvoker>().Use<InjectingActionInvoker>();
            SetAllProperties(c =>
            {
                c.OfType<IActionInvoker>();
                c.WithAnyTypeFromNamespaceContainingType<UserService>(); //our services
                c.WithAnyTypeFromNamespaceContainingType<AdminCookies>(); //cookie services
            });

        } 
```

任何人都可以就这个问题提出建议。如何解决？我真的很困扰它，需要尽快解决它。任何帮助将不胜感激。

谢谢

迪帕克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T13:11:01.093

我做了以下更改来运行：

1.  从网站上删除对 MVC 3.0 DLL 的引用
2.  在网站中添加MVC 2.0 DLL的引用
3.  运行项目并正常工作

# ruby-on-rails-3 - rails 多个外连接语法

> ID：13119664
> 
> 赞同：1
> 
> 时间：2012-10-29T10:20:42.653
> 
> 标签：ruby-on-rails-3, activerecord

我有以下型号

用户

```
has_many :leave_balances 
```

leave_balance

```
belongs_to :user
belongs_to :leave_type 
```

离开类型

```
has_many :leave_balances 
```

我想输出一个表格格式，按休假类型显示用户名及其余额。并非每个用户都可以拥有所有余额，即所需的外部连接。

我想看到这样的东西：

```
Employee   Annual Leave   Sick Leave
Bob        10 
Fred                      9
Sara       12             15 
```

我不确定如何将其作为一个单一的声明来表达？

我在想像 User.joins(:leave_balances).joins(:leave_type)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T13:08:07.507

我最近遇到了同样的事情。我改用 Squeel，现在我*更*开心了。具体来说，指定外连接的语法非常简洁：

```
result = User.joins { leave_balances.outer.leave_type.outer }.where { some_constraints } 
```

[https://github.com/ernie/squeel](https://github.com/ernie/squeel)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:58:46.013

您可以将哈希传递给[嵌套连接](http://guides.rubyonrails.org/active_record_querying.html#joining-nested-associations-single-level)`joins`的方法

所以你会做

```
User.joins(leave_balances: :leave_type) 
```

但这将执行一个`INNER JOIN`，我认为你需要的是一个`LEFT OUTER JOIN`

因此您可能必须`join`按照[此处所述手动编写](http://guides.rubyonrails.org/active_record_querying.html#using-a-string-sql-fragment)

# objective-c - 核心数据：更新 NSManagedObject 并选择回退到原始状态

> ID：13119665
> 
> 赞同：0
> 
> 时间：2012-10-29T10:20:42.697
> 
> 标签：objective-c, ios, cocoa-touch, core-data

考虑一个具有一组属性 A 的托管对象，这些属性必须用一组属性 B 替换。但是，为 B 检索信息的机制不是故障安全的（例如，如果网络连接失败）并且存在B无法完全构建的机会。在这种情况下，我需要回退到对象 A 的状态以保持一致性。
在这种情况下，实现故障安全、一致的更新机制的最佳核心数据模式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:39:46.150

在您将`save:`选择器发送到`NSManagedObjectContext`对象之前，您的任何更改都不会保留。一旦“保存”，您就创建了一个“提交点”。如果您想回滚自核心数据中的最后一个提交点以来所做的任何更改，请将`rollback`选择器发送到您的`NSManagedObjectContext`. 您将需要检查网络活动的成功结果，并根据最终结果发送`save:`或发送。`rollback`

# javascript - tinymce 文本编辑器 tiny_mce_popup.js 在 chrome 中不起作用

> ID：13119666
> 
> 赞同：0
> 
> 时间：2012-10-29T10:20:44.820
> 
> 标签：javascript, tinymce

tinymce tiny_mce_popup.js 在 chrome 中不起作用。它在 firefox 中运行良好。在 chrome 中，在 timymce 弹出脚本下方上传图片后无法正常工作

```
tinyMCEPopup.execCommand("mceInsertContent", false,@insertString);

tinyMCEPopup.close(); 
```

也得到 js 错误在 tin_mce_popup.js 第 5 行出现 js 错误 Uncayght TypeError: cannot read property 'EditorManager' of undefined

我还收到另一个 js 错误“不安全的 JavaScript 尝试从具有 URL“URL2”的框架访问具有 URL“URL1”的框架。域、协议和端口必须匹配。”

# opencv - 如何计算对象的 3D 方向

> ID：13119667
> 
> 赞同：0
> 
> 时间：2012-10-29T10:20:47.923
> 
> 标签：opencv

我如何从图像中计算对象的 3d 方向，一个由几个球体组成的刚体，这是我的对象。如果我知道相机的半径和距离。我将如何计算它在 3d 空间中的方向？

# php - 原型对象的几个实例，只有最后一个被持久化

> ID：13119670
> 
> 赞同：0
> 
> 时间：2012-10-29T10:20:55.337
> 
> 标签：php, symfony, doctrine

我在使用对象作为其他一些对象的原型时遇到问题。

下面的代码预计会保留对象容器的所有实例（在下面的代码中可见的是 $module1 和 $module2），但是只有最后一个被保留，我认为这是由于我复制原型对象的方式。

我应该以其他方式复制原型吗？

```
//Create module prototype
        $module = new Container();
        $module->setCompany($currentCompany);
        $module->setContainerType($typeModule);
        $module->setParent($entity);

        //Set the modules in use by this template (structure a bit ugly here, but makes it easier when dealing with the layout on other areas of the app)
        if ($size = $template->getModule1()) {
            $module1 = $module; //copy the prototype
            $module1->setName('Module1'); //Give a unique name
            $module1->setContainerSize($size); //Copy the size from the layoutTemplate
            $em->persist($module1); //Persist this module
            $layout->setModule1($module1); //Connect this container to become a module in the layout
        }

        if ($size = $template->getModule2()) {
            $module2 = $module; //copy the prototype
            $module2->setName('Module2'); //Give a unique name
            $module2->setContainerSize($size); //Copy the size from the layoutTemplate
            $em->persist($module2); //Persist this module
            $layout->setModule2($module2); //Connect this container to become a module in the layout
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:24:33.787

您并没有真正复制对象，您只需为同一个对象创建一个新的变量别名（它们使用相同的底层对象）。这适用于数组，但不适用于对象。

您可以使用`clone`创建对象的（浅）副本：

```
$module1 = clone $module; 
```

请记住，尽管 $module 和 $module1 将引用相同的对象。我，如果 ContainerType 是一个对象，$module 和 $module1 将引用同一个 ContainerType 实例，这可能是您想要的，也可能不是。

您可以[在此处阅读有关在 PHP5 中克隆的更多信息](http://php.net/manual/en/language.oop5.cloning.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:28:12.340

我对此不是 100% 确定的，因为我对这个框架没有任何经验。

但是在您的 if 语句中，您缺少一个等号来比较这些值。

```
if ($size = $template->getModule1()) { 
```

应该

```
if ($size == $template->getModule1()) { 
```

您拥有的 if 将始终为真，并且值将在第二个 if 语句中被覆盖。尝试像建议的那样更改这两行，看看是否能解决问题。

# python - pygame不适用于便携式python

> ID：13119671
> 
> 赞同：2
> 
> 时间：2012-10-29T10:20:58.393
> 
> 标签：python, pygame, portability

我正在尝试让 pygame 与从 USB 记忆棒上运行的便携式 python 3.2.1.1 一起工作，但是当我使用以下代码时：

```
import pygame, sys 
```

它说：

```
ImportError: No module named pygame 
```

我的理解是 pygame 嵌入在便携式 python 中。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:24:52.917

Pygame 没有嵌入到可移植的 python 3.2 中。它在 2.7 版本中。

资料来源： [http://portablepython.com/wiki/PortablePython3.2.1.1](http://portablepython.com/wiki/PortablePython3.2.1.1) - 3.2（这里没有 pygame！） [http://portablepython.com/wiki/PortablePython2.7.3.1](http://portablepython.com/wiki/PortablePython2.7.3.1) - 2.7（Pygame 嵌入！）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-13T18:46:52.983

在便携式 Python 上运行 Pygame....

在 Windows 7 上下载 msi 文件并将其复制到您的可移植目录中。双击 msi 文件。当提示输入目录时，切换到 USB 驱动器。完成后，将库和站点包内容复制到 USB 库和站点包。

要进行测试，请调出 Python 解释器，然后输入“import pygame”。

如果成功，您在导入时不会收到错误消息。

# php - 由于可能的配置错误，Drupal / 服务器错误请求超出了重定向的限制

> ID：13119674
> 
> 赞同：0
> 
> 时间：2012-10-29T10:21:02.557
> 
> 标签：php, apache, drupal, redirect, dreamhost

在我的服务器日志中出现此错误，并在站点上出现 500 个服务器错误。有时加载一个页面需要 30 秒。有任何想法吗？

```
[error] [client  71.35.150.139] Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to  increase the limit if necessary. Use 'LogLevel debug' to get a  backtrace., referer:  beta/admin/modules/list/confirm?render=overlay 
```

# android - Android列表视图的问题

> ID：13119679
> 
> 赞同：0
> 
> 时间：2012-10-29T10:21:15.413
> 
> 标签：android, listview, checkbox, radio-button, android-edittext

我的应用程序中有一个列表视图。在列表视图中，我有 2 个单选按钮和 5 个复选框和一个编辑框。我必须在用户单击其中一个单选按钮时启用复选框，并在单击另一个单选按钮时禁用它们。有时它可以正常工作。但有时它不会在按钮开关和滚动列表后改变它的状态。另一个问题是列表中的编辑框没有获得焦点。任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:38:08.370

首先，您必须为`setTag()`列表中的每个视图设置标签。之后，对于广播组，您可以这样做..

```
radioview = (RadioGroup) findViewById(R.id...);
radioview.setOnCheckedChangeListener(new OnCheckedChangeListener() {
@Override
public void onCheckedChanged(RadioGroup group, int checkedId) {
switch (checkedId) {
case R.id.bt1:
   if (checkedId == -1) {
   checkedLayout.setEnabled(false);
      } else if (checkedId == R.id.rb2) {
    checkedLayout.setEnabled(true);
}
break;
            }
        }); 
```

# c# - Visual Studio 2012 如何获取缺少的程序集引用

> ID：13119680
> 
> 赞同：1
> 
> 时间：2012-10-29T10:21:15.177
> 
> 标签：c#, visual-studio

我是 C# 和 Visual Studio 的新手..

目前我正在开发一个来自 Windows 8 的 Metro 应用程序，它可以用作代理切换器应用程序。

当我使用此代码时

**System.Net.GlobalProxySelection.Select = new System.Net.WebProxy(proxyURI);**

它说 System.Net 中不存在 GlobalProxySelection .... 我在代码开头导入了 system.net ..

**编辑** System.net 没有问题...那里没有显示错误..但问题是我不能使用“GlobalProxySelection”和“WebProxy”类..

目标框架也被锁定在应用程序属性中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:29:27.467

`System.Net`命名空间位于system.dll**程序**集中。如果您在启动项目时尚未引用它，我会感到惊讶，但为了安全起见，您应该确保存在对此 dll 的引用。如果没有，则添加它。

您总是可以在 MSDN 上找到此类信息：[GlobalProxySelection Class](http://msdn.microsoft.com/en-us/library/system.net.globalproxyselection%28v=vs.100%29.aspx)。在继承层次结构部分，有命名空间/程序集信息。

我唯一能想到的另一件事是，您可能添加了对具有此名称空间的其他程序集的引用（似乎不太可能，但可能）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:23:47.013

您可能没有添加对`System.Net`程序集的引用。[请参阅 MSDN 中的这篇文章](http://msdn.microsoft.com/en-us/library/wkze6zky%28v=vs.80%29.aspx)，它应该为您提供有关添加此参考的更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:40:01.453

你可以改变你`Target Framework`的`Application section``don't fix to Client Profile`

![在此处输入图像描述](../Images/08f115a2cfdeef43d045712b616922d5.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:37:08.203

如果你去你的项目的属性，你的目标框架是什么？可能是不小心使用了框架的“客户端配置文件”版本，它遗漏了很多零碎的东西。如果是这样，将其更改为正常版本，然后它可能会突然存在。

# c# - 是否可以在浏览器上运行 WPF 应用程序？

> ID：13119683
> 
> 赞同：8
> 
> 时间：2012-10-29T10:21:20.577
> 
> 标签：c#, .net, wpf, c#-4.0

我是 WPF 的新手。我想知道是否可以在浏览器上运行 wpf 应用程序，或者我是否必须创建不同的 WPF 浏览器应用程序？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-29T10:27:07.067

您需要创建一个[WPF 浏览器应用程序](http://msdn.microsoft.com/en-us/library/aa970060.aspx)

这是一个单独的项目类型 -您正确识别的[WPF 浏览器应用程序。](http://msdn.microsoft.com/en-us/library/bb628663.aspx)

您将应用程序部署到 Web 服务器，以便可以下载和运行它。

这仅适用于 Internet Explorer 的桌面版本。

# objective-c - 在 Objective-C / ARC 的 dealloc 上是否释放了局部静态变量？

> ID：13119685
> 
> 赞同：2
> 
> 时间：2012-10-29T10:21:30.950
> 
> 标签：objective-c, memory-management, static, automatic-ref-counting

我有一个处理单身人士的工厂，如下所示

```
@implementation MyFactory

- (AudioEngine *)theAudioEngine 
{
    static AudioEngine *ae = nil;
    if (ae == nil) {
        ae = [[AudioEngine] alloc] init];
    }
    return ae;
}

@end 
```

当 MyFactory 实例被释放时，这些静态局部变量是否被释放？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:25:48.590

不，他们没有被释放。但是，您可以将变量移动到堆并有一个类方法来释放它，它本身是从一些应用程序级关闭方法调用的：

```
static AudioEngine *_ae = nil;

@implementation MyFactory

- (AudioEngine *)theAudioEngine 
{
    if (_ae == nil) {
        _ae = [[AudioEngine] alloc] init];
    }
    return _ae;
}

+ (void)cleanup
{
    if (_ae != nil)
    {
        // No need to release when in ARC mode (thanks to @AndrewMadsen)
        //[_ae release];
        _ae = nil;
    }
}

@end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:56:19.847

正如@trojanfoe 所说，答案是否定的，大概是因为编译器为静态变量分配了一个永久空间并且也是一个本地变量，只有方法本身才能访问它，因此能够释放它（通过`= nil`）。

另一个假设您的工厂是实例对象而不是静态类的策略：

```
@implementation MyFactory
{
    AudioEngine *_audioEngine;
}

- (AudioEngine *)audioEngineSingleton
{
    if (_audioEngine == nil) {
        _audioEngine = [[AudioEngine alloc] init];
    }

    return _audioEngine;
}

@end 
```

当您的 MyFactory 实例 dealloc 时，ivars 也会如此。

# tridion - 是否有必要将默认的 2009 模板构建块替换为 2011 的那些？

> ID：13119686
> 
> 赞同：7
> 
> 时间：2012-10-29T10:21:31.230
> 
> 标签：tridion, tridion-2011

我们目前正在从 SDL Tridion 2009 迁移到 2011 SP1。就模板而言，我们只有 1 个与默认出站电子邮件 TBB 相关的问题，通过使用新的更新旧的 2009 年默认出站电子邮件 TBB 可以轻松解决该问题。

我们还没有遇到任何其他问题。

是否需要更新所有模板才能开始使用新的 2011 默认模板构建块？让所有内容保持最新显然是一种好习惯，但是逻辑上是否也有任何变化？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T10:55:30.100

默认模板构建块物理上位于 GAC 的程序集中；升级 Tridion 后，该组件也将自动升级。

然而，有些东西不在程序集中；参数模式和 DWT TBB 不会被更新（当然假设它们需要更新）。

在更新默认模板构建块时，这基本上让您只需要担心一个问题：

*   然而，对参数模式的任何更新很可能会构成对默认模板构建块 API 的重大更改（必须更新使用这些的现有模板才能使用更新模式中的参数）。

由于这个问题，我的建议是保留原始的默认模板构建块（请记住，它们的底层程序集和代码无论如何都会更新！）；如果在默认模板构建块中进行了任何重大更改，则应在发行说明中列出（并且您的实现的回归测试也会显示这些）。

编辑：我已经更新了我的答案，因为正如弗兰克指出的那样，现有的 TBB 可以通过（重新）安装 TBB 到同一个父文件夹来自动覆盖。因此，升级 TBB 本质上是明智的非问题努力！

正如克里斯指出的那样，我还将 DWT TBB 添加到不会通过程序集更新的项目列表中。

# android - 如何在 Eclipse 上安装 Android SDK 2.3.5 并找出屏幕规格？

> ID：13119690
> 
> 赞同：0
> 
> 时间：2012-10-29T10:21:50.137
> 
> 标签：android, android-sdk-2.3, android-screen

我正在为三星 Galaxy 开发一个 Android 应用程序，它在 Android 版本 2.3.5 上运行。但由于硬件不可用，我在 Eclipse 中使用模拟器。SDK 管理器仅显示 3.0 之后的包 2.3.3。

如何下载特定版本 2.3.5？如何找出目标的屏幕规格（例如屏幕尺寸是中型还是大型，以及它的 mdpi 还是 hdpi）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:32:54.810

我不认为你的目标只是 2.3.5 手机！无论如何，只需使用 2.3 或 2.3.3，您就可以在 2.3.5 手机中运行它。

对于屏幕规格，请尝试使用此[链接](http://developer.android.com/guide/practices/screens_support.html)

祝你好运！

# c# - ASP.NET C# 身份验证自动化

> ID：13119692
> 
> 赞同：0
> 
> 时间：2012-10-29T10:21:54.600
> 
> 标签：c#, asp.net, sql-server, authorization, windows-authentication

我作为一个学习项目在 ASP.net 中开发了一个网站。在我的 web.config 文件中，我将身份验证模式设置为 windows。我正在使用`appsettings`连接字符串连接到我的 SQL2005 数据库。现在我想知道这是哪种身份验证？这是窗户吗？形式？还是匿名身份验证？

我在 sql 2005 中有用户表，我的第一个屏幕是登录页面。显然，这个用户表有登录详细信息，如用户名和密码，它们将与用户输入相匹配。

我不明白我已经阅读了这么多关于授权和认证的帖子，但请清除我。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:26:47.003

您当前正在使用 Windows 身份验证。您的 Windows 用户名和密码用于向 asp.net 验证您的身份。

写入用户表的登录页面将是 asp.net 表单身份验证。

请注意，sql server 身份验证是一个完全独立的问题。对您的数据库进行身份验证取决于您的代码。这样做时，可以使用 web.config 文件中的连接字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:32:59.633

如果您想自定义字符串连接的凭据以访问您的数据库，您可以使用`Integrated Security` 或`Trusted_Connection`

当值为 true 时，用于身份验证的 Windows 帐户的当前凭据。

注意：在你的情况下，我认为你可以使用`FormsAuthentification`（你有 Windows 身份验证）

链接： http: [//msdn.microsoft.com/fr-fr/library/system.data.sqlclient.sqlconnection.connectionstring (v=vs.80).aspx](http://msdn.microsoft.com/fr-fr/library/system.data.sqlclient.sqlconnection.connectionstring(v=vs.80).aspx)

表格认证：

```
<authentication mode="Forms">
 <forms loginUrl="~/login.aspx">
</forms>
</authentication> 
<authorization>
  <deny users="?" />
</authorization> 
```

点击后

```
 if (IsAuthenticatedValue) //You can adjust  your condition
  {
      FormsAuthentication.RedirectFromLoginPage (.., ..);
  }
  else
  {
      Console.WriteLine("Invalid credentials. Please try again.");
  } 
```

链接： http: [//msdn.microsoft.com/fr-fr/library/xdt4thhy (v=vs.80).aspx](http://msdn.microsoft.com/fr-fr/library/xdt4thhy(v=vs.80).aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:32:18.437

除了这里的其他答案：

用户登录后，创建一个 Session 并存储他们登录的事实，例如

```
Session["LoggedIn"] = true; 
Session["Username"] = username; 
```

然后检查他们是否使用您的代码登录并使用该代码授权访问页面。因此，如果他们登录，则在页面加载时继续加载页面，否则将它们发送到登录页面。

当您想注销用户时，只需执行 Session.Clear();

# java - 在java中使用相同的数据源将两个应用程序连接到同一个数据库会有什么影响？

> ID：13119693
> 
> 赞同：1
> 
> 时间：2012-10-29T10:22:02.387
> 
> 标签：java, mysql, jdbc, jboss

有 2 个不同的应用程序在同一个 jboss 服务器上运行。我想通过同一个数据源将这两个应用程序与同一个mysql数据库连接起来。

运行这两个应用程序会产生什么样的影响 -

我想这些问题可能会发生。- 表锁定问题、性能缓慢、连接问题、ACID 属性丢失问题。

这种方法有什么缺点吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T10:30:03.853

这一切都不会发生（表锁定问题、性能缓慢、连接问题、ACID 属性丢失问题）。

数据库无法真正区分两个连接是否来自同一个应用程序。

当然，两个应用程序仍然意味着两倍的请求，因此可能会影响性能。ACIDity 不受影响，您也不太可能用完 TCP 端口。

**访问同一数据库的两个应用程序的性能与流行度两倍的应用程序的性能相同**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:29:28.900

没有缺点，只要两个应用程序都有足够的连接并且您的事务写得很好，共享相同的数据源是正常的

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:29:45.857

也许您应该考虑是否有任何优势？

在我看来，必须有令人信服的理由*不*为单独的应用程序创建单独的数据源——我觉得这不是你的情况。

无论如何，当您在应用程序之间共享连接池或不共享连接池时，您提到的一些缺点可能会发生，因为它们是*数据库*的属性而不是*连接*。

**编辑**：总结下面与 Jan Dvorak 的良好讨论，以下是每个应用程序使用一个（或多个）数据源的一些论点：

*   它使一个人可以丢弃例如。来自一个应用程序的陈旧或应用服务器剔除的连接 (-threads)，而不影响其他应用程序
*   每个应用程序拥有多个 DS 可以让一个人在不影响生产连接的情况下重置管理员连接。

干杯，

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:30:50.603

主要问题是池化。随着越来越多的应用程序使用数据源，打开的连接也越来越多，因此默认池可能不够用。

除此之外，所有其他问题都与数据库引擎和您的数据库设计有关，而不是与数据源有关。无论如何访问数据库引擎都不会停止与 ACID 兼容，不会比来自不同数据源的访问慢，等等......

# python - 应用程序在 deiconify()、Tkinter 后挂起

> ID：13119695
> 
> 赞同：1
> 
> 时间：2012-10-29T10:22:06.173
> 
> 标签：python, tkinter

我正在尝试在 Tkinter 中使用withdraw()/deiconify() 为我的应用程序进行隐藏/显示，但是在 deiconify() 方法调用后我的应用程序挂起。在 Win7 上运行此代码。我做错了什么？

```
import Tkinter as tk
import threading

class MyApp(object):
    def __init__(self, parent):
        self.root = parent
        self.root.geometry('400x300')
        self.root.title('My Application')

        btn = tk.Button(parent, text='Hide', command=self.onClick)
        btn.pack()

    def onClick(self):
        self.hide()
        self.t = threading.Timer(3, self.show)
        self.t.start()

    def hide(self):
        print 'hide()'
        print 'state: ', self.root.state()
        print 'withdraw()'
        self.root.withdraw()
        print 'state: ', self.root.state()

    def show(self):
        print 'show()'
        print 'state: ', self.root.state()
        print 'deiconify()'
        self.root.deiconify()
        print 'state: ', self.root.state()
        print 'show end'

if __name__ == '__main__':
    root = tk.Tk()
    app = MyApp(root)
    root.mainloop() 
```

UPD：有一个工作样本：

```
import Tkinter as tk
import sched
import time

class MyApp(object):
    def __init__(self, parent):
        self.root = parent
        self.root.geometry('400x300')

        btn = tk.Button(parent, text='Hide', command=self.onClick)
        btn.pack()

        self.scheduler = sched.scheduler(time.time, time.sleep)

    def onClick(self):
        self.hide()
        self.scheduler.enter(3, 1, self.show, ())
        self.scheduler.run()

    def hide(self):
        self.root.withdraw()

    def show(self):
        self.root.deiconify()

if __name__ == '__main__':
    root = tk.Tk()
    app = MyApp(root)
    root.mainloop() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T11:16:23.317

Tkinter 不是线程安全的，您是`self.root.deiconify()`从线程调用的。这很可能是您问题的根源。您必须重新设计您的解决方案，让线程使用线程安全队列来请求主循环调用 Tkinter。

您可以在不使用线程的情况下使用 Tkinter 做很多事情。你确定你需要它们吗？

# magento - Magento 请求索引控制器

> ID：13119706
> 
> 赞同：0
> 
> 时间：2012-10-29T10:22:34.300
> 
> 标签：magento

如果向商店发出请求，Magento 中第一个被触发的 IndexController 是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:26:53.333

Magento 的架构将如下所示... [http://alanstorm.com/2009/img/magento-book/php-mvc.png](http://alanstorm.com/2009/img/magento-book/php-mvc.png)

有关更多信息，请查看此[http://alanstorm.com/magento_controller_hello_world](http://alanstorm.com/magento_controller_hello_world)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T11:07:59.273

```
<global>

    <events>
        <controller_action_predispatch>
            <observers>
                <tibdev_seo_page_observer>
                    <type>singleton</type>
                    <class>Tibdev_Seo_Model_Page_Observer</class>
                    <method>checkForEndingSlash</method>
                </tibdev_seo_page_observer>
            </observers>

        </controller_action_predispatch>
    </events>

</global> 
```

现在我正在使用 controller_action_predispatch 事件并且它正在工作。THX 伙计们！

# shell - 用 shell 正则表达式处理文件名

> ID：13119709
> 
> 赞同：0
> 
> 时间：2012-10-29T10:22:55.477
> 
> 标签：shell

```
138.096.000.015.00111-138.096.201.072.38717
138.096.000.015.01008-138.096.201.072.00790
138.096.201.072.00790-138.096.000.015.01008
138.096.201.072.33853-173.194.020.147.00080
138.096.201.072.34293-173.194.034.009.00080
138.096.201.072.38717-138.096.000.015.00111
138.096.201.072.41741-173.194.034.025.00080
138.096.201.072.50612-173.194.034.007.00080
173.194.020.147.00080-138.096.201.072.33853
173.194.034.007.00080-138.096.201.072.50612
173.194.034.009.00080-138.096.201.072.34293
173.194.034.025.00080-138.096.201.072.41741 
```

我有很多文件夹，里面有很多文件，文件名就像上面我想删除那些文件名具有子字符串“138.096.000”的文件

有时我想获取文件名带有子字符串“00080”的文件列表

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:27:52.200

删除名称包含“138.096.000”的文件：

```
find /root/of/files -type f -name '*138.096.000*' -exec rm {} \; 
```

列出名称包含“00080”的文件：

```
find /root/of/files -type f -name '*00080*' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:25:00.663

```
rm $(find . -name \*138.096.000\*) 
```

这使用 find 命令来查找适当的文件。这是在*subshel​​l*中执行的，输出（文件列表）由`rm`. 注意 * 模式的转义，因为 shell 会尝试扩展`*`自己。

这假设您没有带有空格等的文件名。您可能更喜欢执行以下操作：

```
for i in $(find . -name \*138.096.000\*); do
   rm $i
done 
```

在这种情况下，甚至

```
find . -name \*138.096.000\* | xargs rm 
```

请注意，在上面的循环中，您将为`rm`每个文件执行，并且`xargs`变体将执行`rm`多次（取决于您拥有的文件数量 - 它可能只执行一次）。

但是，如果您使用的是[zsh](http://www.zsh.org) ，那么您可以简单地执行以下操作：

```
rm **/*138.096.000* 
```

（我假设您的目录没有像您的文件一样命名。`-f`如果是这种情况，请注意卡米尔的回答中使用的标志）

# ios - 正在自定义 UISearchField 是私有的

> ID：13119712
> 
> 赞同：3
> 
> 时间：2012-10-29T10:23:09.513
> 
> 标签：ios, app-store, uisearchbar, appstore-approval

我需要自定义 UISearchBar：

*   更改搜索文本颜色
*   更改网站图标

Apple 没有提供 API。但是，这是一种可能的解决方案：

```
for(UIView *subView in _searchBar.subviews){
    if([subView isKindOfClass:UITextField.class]){
        UITextField *searchField = (UITextField*)subView;
        searchField.textColor = [UIColor darkGrayColor];
        UIImage *image = [UIImage imageNamed: @"loop.png"];
        UIImageView *iView = [[UIImageView alloc] initWithImage:image];
        searchField.leftView = iView;
    }
} 
```

它完美地工作。但我担心苹果可能会拒绝该应用程序。我知道这不是私有 API，但也不是完全公开的。

有没有人在 App Store 中有这样的代码的应用程序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-31T10:57:50.310

您没有调用任何私有 API，因此我几乎可以肯定此代码将通过 AppStore 验证。请注意，您的代码不是面向未来的，Apple 可能会更改内部`UISearchBar`实现，您的代码*可能会*停止工作。最可靠的解决方案是子类`UITextField`化并推出您自己的代码。

话虽如此，这不太可能成为问题，并且可以肯定的是，您的代码可以正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-31T10:57:37.810

在大多数情况下，它不会被苹果检测到。（太多的应用程序使用类似的方法来修改 UIControl）但是您需要在运行此代码之前检查 iOS 版本，Apple 开发团队可能会在新的 iOS 版本中更改这些内部结构。

```
if (ios > 5.0 && ios < 6.0 )
     // your modifies here
else 
     // .... 
```

# objective-c - iOS：高效绘制多条独立线条

> ID：13119715
> 
> 赞同：0
> 
> 时间：2012-10-29T10:23:16.470
> 
> 标签：objective-c, ios, graphics, line

我需要在 UIView 的 drawRect 方法中绘制多条非连接线。我只能找到“CGContextAddLines”方法，但这会连接线端点。iOS中是否有一种方法可以绘制多条未连接的线？我想即时绘制线条，所以我不需要缓存在缓冲区中。

问候，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-05T16:20:56.303

我知道很久以前有人问过这个问题......但是我这样做的方式是
`CGContextStrokeLineSegments(context, points, numPoints);` 如果您创建一个包含每个线段的起点和终点的 CGPoints 数组并将其传递给函数，它将为每组两个 CGPoints 画线，即点 [0] 和点 [1] 之间的线，点 [2] 和点 [3] 之间的线等......如果您需要绘制更复杂的曲线，您可以总是重叠点以连接线段。

# php - 使用php生成html页面？

> ID：13119716
> 
> 赞同：-1
> 
> 时间：2012-10-29T10:23:19.157
> 
> 标签：php, html, dynamic, static

快速提问，我正在做一个项目，我想问一下以下是否可行，以及一些开始的技巧：

我有一个 index.html 和 001.html、002.html、003.html，它们通过 jQuery(.load() 技术加载到其中）。

我想生成带有 php 文件的页面，如果您愿意，可以使用后端，我将有 98% 的代码保持不变，但在 SQL 数据库中获取一些数据（例如 image001）。一旦生成，我想编辑 index.html 页面以添加其中生成的页面。

这可能吗 ？

提前致谢 ！

（如果您想更好地理解，也可以在这里查看代码：www.ca-cest-fait.fr）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:29:47.023

非常不推荐您尝试的方法。这是错误的做法。正确的做法是`jQuery.load()`创建一个`.php`文件，它会**动态**生成正确的响应，并包含在页面中。这为您省去了在服务器上生成和保存无尽页面的麻烦。

* * *

然而，这是可能的。使用`glob()`您可以找出当前存在哪些文件。使用`fopen()`and`fwrite()`你可以编写一个文件，或者如果你喜欢花哨，你可以使用它`DOM`来为你生成 HTML。

然后，您使用相同的技术来编辑`index.html`文件，以包含最新的文件。

> 请注意，这种方法很*麻烦*，不应该这样做。

# php - 这些日期之间有多少小时？

> ID：13119719
> 
> 赞同：0
> 
> 时间：2012-10-29T10:23:37.263
> 
> 标签：php, datetime, dst

> **可能重复：**
> [您如何处理 PHP 中的时区差异计算？](https://stackoverflow.com/questions/4299183/how-do-you-handle-timezone-difference-calculation-in-php)

在昨天对瑞典 DST 的更改中，我遇到了一些我编写的代码的问题。我正在使用 PHP DateTime、DateTimeZone、DateTimePeriod 等，但不同意结果。

您对这些日期之间的天数和小时数有何看法？

```
"Sun, 28 Oct 2012 01:00:00 +0200"
"Mon, 29 Oct 2012 00:00:00 +0100" 
```

PHP告诉我这是0天23小时。我会说它是 0 天，但 24 小时。

**更新：**时区是“欧洲/斯德哥尔摩”，所以两个日期都是一样的。

重现：

```
$timezone = new DateTimeZone("Europe/Stockholm");
$date1 = new DateTime("Sun, 28 Oct 2012 01:00:00", $timezone);
$date2 = new DateTime("Mon, 29 Oct 2012 00:00:00", $timezone);
$date1->setTimezone($timezone);
$date2->setTimezone($timezone);
$diff = $date1->diff($date2);
var_dump($diff); 
```

**更新 2：**

使用 Java 和 JodaTime 类，它给了我 24 小时。所以显然正确的答案并不明显:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:41:16.420

您正在处理夏令时。

如您所知，在 10 月，我们在夜间的时钟中插入了一个额外的小时。在 DST 结束时，午夜之间的时间会重复凌晨 1 点。这意味着 10 月 28 日星期日的时间“凌晨 1 点”是不明确的。其中有两个。凌晨 1 点发生了两次。

这意味着对于“周日凌晨 1 点到任何其他给定时间之间有多少小时”根本没有准确的答案。有两个有效的答案。PHP 给你一个，但你期待另一个。

只要您使用本地时区来计算时间，这个问题就无法解决。唯一的解决方案是始终使用 UCT 进行所有日期计算和日期存储，并且仅在您实际向用户显示时间时才切换到本地时区。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:29:18.743

```
$time = strtotime("Mon, 29 Oct 2012 00:00:00 +0100")-strtotime("Sun, 28 Oct 2012 01:00:00 +0200");
$days=$time/(24*60*60);
echo $days; 
```

# java - Tesseract：UnsatisfiedLinkError - 未定义符号：TessBaseAPICreate

> ID：13119722
> 
> 赞同：2
> 
> 时间：2012-10-29T10:23:47.377
> 
> 标签：java, ocr, tesseract

当我厌倦了运行[Tess4j 示例程序](http://tess4j.sourceforge.net/codesample.html)时，出现以下错误。

```
Exception in thread "main" java.lang.UnsatisfiedLinkError: Error looking up function 'TessBaseAPICreate': /usr/local/lib/libtesseract.so: undefined symbol: TessBaseAPICreate
    at com.sun.jna.Function.<init>(Function.java:179)
    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:350)
    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:330)
    at com.sun.jna.Library$Handler.invoke(Library.java:203)
    at $Proxy0.TessBaseAPICreate(Unknown Source)
    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:253)
    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:220)
    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:166)
    at net.sourceforge.tess4j.Tesseract.doOCR(Tesseract.java:151)
    at Test.main(Test.java:12)
Java Result: 1 
```

我正在使用 Redhat Linux 32 位。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:22:46.593

看起来像绑定错误 - 找到了共享 lbrarz，但内容与 java 预期的不同。您必须仔细检查版本。

# lotusscript - 在 LotusScript 邮件中设置背景图像

> ID：13119723
> 
> 赞同：0
> 
> 时间：2012-10-29T10:23:47.513
> 
> 标签：lotusscript

我需要发送一封附有背景图片的邮件。任何人都可以帮我解决这个问题。

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T13:33:31.647

1.  如果您需要手动执行此操作，那么您需要在此处[添加背景颜色或背景图像到电子邮件和其他 Notes 文档](http://www-10.lotus.com/ldd/dominowiki.nsf/dx/Adding_background_colors_or_images_to_Notes_documents)
2.  但是，如果您需要通过 LotusScript 执行此操作，您可以尝试将图像添加到备忘录的字段 $BackgroundBody，这是备忘录存储背景图像的地方。
3.  还要考虑 HTML 方式（当你用 html 构造正文并使用 HTML 设置背景图像时）

# ajax - 抓取 AJAX 生成的 JSON 提要

> ID：13119724
> 
> 赞同：0
> 
> 时间：2012-10-29T10:23:50.297
> 
> 标签：ajax, json, scrapy

我正在尝试从 JSON 响应中抓取通过 AJAX 调用生成页面的网页。这是页面上的代码：

```
 var data = JSON.stringify({
    organizationId: organizationId,
    concertId: concertId,
     })

  $.ajax({
    type: "POST",
    url: "/getdata",
    data: data,
    dataType: "json",
    contentType: "application/json; charset=utf-8",
  });
} 
```

所以，我尝试通过一个请求来抓取这个

> 数据 = '{"organizationId":"1","concertId":"8918"}'
> 
> url = 'http://www.domain.com/ajax/getdata'
> 
> 请求 = 请求（网址 = 网址，
> 
> 方法='POST'，
> 
> 身体=数据，
> 
> headers={'Content-Type':'application/json'})

但这不起作用；解析函数没有被调用。我错过了什么吗？

# objective-c - 从代码中隐藏设置捆绑选项

> ID：13119725
> 
> 赞同：0
> 
> 时间：2012-10-29T10:23:52.840
> 
> 标签：objective-c, ios, settings.bundle

在我的应用程序中，我定义了一个`Settings.bundle`仅用于调试目的的选项。

有没有办法从代码中隐藏它，当应用程序处于生产状态时，无需手动删除选项`Settings.bundle/Root.plist`？

类似的东西：

```
#ifdef DEBUG

// Remove the option from the settings bundle

#else

// Show the option in (or don't actually remove the option from) the settings bundle

#endif 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T12:30:27.373

有几个选项：

*   使用具有特殊 Settings.bundle 的单独开发目标，
*   修改 Settings.bundle 并`Run script`在 Build Phases 为单个目标添加`DEBUG`配置部分，检查`CONFIGURATION`变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T11:48:34.317

我几乎可以肯定没有办法做到这一点。

# z3 - Z3中的FOL定义理论

> ID：13119726
> 
> 赞同：2
> 
> 时间：2012-10-29T10:24:00.307
> 
> 标签：z3, smt, first-order-logic

我想将一阶理论放入微软开发的 SMT 求解器 Z3 中。该理论包含两个对象*obj1*和*obj2*，一个函数*move*接受一个对象并返回一个动作，以及一个单一的谓词*发生*，它将一个动作作为参数。该理论包含公式*发生(move(obj1))*，我想确保这是*发生*谓词为真的唯一方式。我通过给出*发生*的定义来做到这一点：

```
forall (A) (occurs(A) <-> (A = move(obj1))) 
```

这意味着从理论上可以推断出*发生(move(obj1)) ，但**发生(move(obj2))*不能。为了证明这一点，我把它翻译成 Z3 如下：

```
(declare-datatypes () (( Obj obj1 obj2 )))
(declare-sort Action 0)

(declare-fun occurs (Action) Bool)
(declare-fun move (Obj) Action)

(assert (forall ((A Action)) (
    = (occurs A) (= A (move obj1))
)))

(check-sat)
(get-value ((occurs (move obj1))))
(get-value ((occurs (move obj2)))) 
```

问题是这给出了以下输出：

```
sat
(((occurs (move obj1)) true))
(((occurs (move obj2)) true)) 
```

我不明白，因为*发生*的定义为谓词为真提供了所有必要和充分条件，所以我认为*发生（move（obj2））*在任何模型中都不能为真。我究竟做错了什么？

**更新** 感谢 de Moura，我已经能够找到解决问题的方法。我需要做的是为动作提供*唯一的名称公理*，在我的例子中就是`move`函数。我需要声明，当它有两个不同的参数时，它`move`永远不会返回相同的排序元素。`Action`这可以通过多种方式完成，但我发现这是最简洁的版本：

```
(assert (forall ((o1 Obj) (o2 Obj)) 
    (=> (not (= o1 o2)) (not (= (move o1) (move o2)))))) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T21:58:13.703

你假设你没有断言的约束。例如，没有什么能阻止`move`成为常量函数。Z3生产的模型是正确的。您可以通过在`(get-model)`后面添加命令来获取模型`(check-sat)`。该命令`(declare-sort Action 0)`声明了一个未解释的排序。在Z3产生的模型中，sort的解释`Action`只包含一个元素，`occurs`并且`move`是常数函数。这是一个模型，因为它满足脚本中的所有断言。

# selenium - 在 Bamboo 中无法启动 Selenium 服务器

> ID：13119729
> 
> 赞同：1
> 
> 时间：2012-10-29T10:24:12.727
> 
> 标签：selenium, bamboo

我正在尝试通过 Bamboo 配置 Selenium 测试。我可以直接从命令行运行 Selenium 脚本，但是如果我通过 Bamboo 远程代理运行它总是会失败。错误是：

```
: Could not start Selenium session: Failed to start new browser session: Error while launching browser
    at com.thoughtworks.selenium.DefaultSelenium.start(DefaultSelenium.java:107) 
```

我从网上接受了一些建议，并为 Bamboo 远程代理服务选中了“允许服务与桌面交互”。但是，它不起作用。

有人有其他建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T00:36:27.100

您必须在控制台模式下运行 Bamboo 才能使其工作。此外，构建机器桌面必须处于活动状态 - 如果您希望鼠标模拟工作，则不能覆盖或最小化。我知道，对吧！

# c++ - (V)C++ (2010) 正则表达式，“递归捕获”

> ID：13119738
> 
> 赞同：0
> 
> 时间：2012-10-29T10:24:42.570
> 
> 标签：c++, regex, visual-c++

我想要匹配和捕获表达式的运算符和操作数，例如：

*   1
*   X
*   1 + x
*   x + y + 3 + 10
*   ETC...

所以在正则表达式中，

```
(\w+)(\s*([+])\s*(\w+))* 
```

似乎可以做到，但我如何获得匹配的捕获？注意 [+] 和 (\w+) 已经在 1 个捕获中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:29:52.123

不幸的是，这是不可能的（至少在我所知道的任何正则表达式中）。如果多次使用一个捕获组，则捕获将始终填充最后捕获的内容。简单的例子：`([a-z])*`应用于`abc`只会给你`c`。

我建议您使用正则表达式来检查有效格式。然后你可以在匹配的地方拆分字符串`\s*\b\s*`。对于最后一个示例，这应该会生成一个包含`x`, `+`, `y`, `+`, `3`,的数组。`+``10`

[下面](http://www.boost.org/doc/libs/1_39_0/libs/regex/doc/html/boost_regex/ref/regex_token_iterator.html#boost%5Fregex.ref.regex%5Ftoken%5Fiterator.examples)是一些示例代码，展示了如何使用正则表达式来拆分字符串，使用`boost::regex`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:38:27.353

也许这对于[System.CodeDom.Compiler](http://msdn.microsoft.com/en-us/library/z6b99ydt%28v=vs.80%29.aspx)来说会比 Regexes 更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T11:42:29.070

如果`boost`是您的一个选项，那么您可以使用`boost::regex`with `boost::match_extra`flag，然后`match_results::captures`包含`sub_match::captures`所有捕获项目的列表

# android - startActivityForResult 里面的 startActivityForResult

> ID：13119752
> 
> 赞同：5
> 
> 时间：2012-10-29T10:25:13.697
> 
> 标签：android, android-intent, android-activity

如果我打电话`startActivityForResult`并且开始的活动也在调用`startActivityForResult`另一个活动，
那么第一个活动是否可能会停止？
有没有办法防止它发生？
我应该传递我创建的每个意图什么上下文？

一些代码来计算过程

```
intent = new Intent(MainActivity.this, SettingsActivity.class);
startActivityForResult(intent, AbstractSettingsActivity.SETTINGS_ACTIVITY_REQUEST_CODE);

// this is inside the Settings activity
Intent intent = new Intent(getBaseContext(), SettingsTabsActivity.class);
startActivityForResult(intent, CUSTOMIZE_TAB_REQUEST_CODE);
// at this point i got ondstroy on main activity - main is not the root 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:30:37.740

在任何情况下（无论是它的`startActivity`还是`startActivityForResult`），当你开始一个新的活动时，你的 current将通过提升它的方法`Activity`进入**停止状态。**`onStop`它是[**Android Activity 生命周期**](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)的设计方式。它与上下文类型无关。

但是，如果您不想发生`onStop`，那么也许您可以尝试模拟预期的视图，通过[**`Dialogs`**](http://developer.android.com/guide/topics/ui/dialogs.html)该视图将导致您的 Activity 达到其`onPause`状态。

# vim - 遍历NERDTree时是否可以只查看文件内容？

> ID：13119754
> 
> 赞同：13
> 
> 时间：2012-10-29T10:25:16.437
> 
> 标签：vim, nerdtree

我可以遍历 NERDTree，但是要查看文件内容，我按*go*，一旦打开文件的缓冲区就会保持打开状态，直到我明确关闭它。这使得查看文件太不舒服了。

当我遍历 NERDTree 节点时，我想在*临时查看器缓冲区*中查看突出显示的文件内容，并且我想明确地选择一些遍历的文件进行编辑，比如按*e*。

当我关闭 NERDTree 缓冲区时，*临时查看器缓冲区*也将关闭，并且应该只为那些明确选择的文件打开缓冲区，而不是所有查看的文件。

那可能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-03-04T21:31:08.017

看起来这可能是对 NERDTree 的一个很好的功能请求:)

同时，你可以在你的 ~/.vimrc 中加入如下内容：

```
let g:nerd_preview_enabled = 0
let g:preview_last_buffer  = 0

function! NerdTreePreview()
  " Only on nerdtree window
  if (&ft ==# 'nerdtree')
    " Get filename
    let l:filename = substitute(getline("."), "^\\s\\+\\|\\s\\+$","","g")

    " Preview if it is not a folder
    let l:lastchar = strpart(l:filename, strlen(l:filename) - 1, 1)
    if (l:lastchar != "/" && strpart(l:filename, 0 ,2) != "..")

      let l:store_buffer_to_close = 1
      if (bufnr(l:filename) > 0)
        " Don't close if the buffer is already open
        let l:store_buffer_to_close = 0
      endif

      " Do preview
      execute "normal go"

      " Close previews buffer
      if (g:preview_last_buffer > 0)
        execute "bwipeout " . g:preview_last_buffer
        let g:preview_last_buffer = 0
      endif

      " Set last buffer to close it later
      if (l:store_buffer_to_close)
        let g:preview_last_buffer = bufnr(l:filename)
      endif
    endif
  elseif (g:preview_last_buffer > 0)
    " Close last previewed buffer
    let g:preview_last_buffer = 0
  endif
endfunction

function! NerdPreviewToggle()
  if (g:nerd_preview_enabled)
    let g:nerd_preview_enabled = 0
    augroup nerdpreview
      autocmd!
      augroup END
  else
    let g:nerd_preview_enabled = 1
    augroup nerdpreview
      autocmd!
      autocmd CursorMoved * nested call NerdTreePreview()
    augroup END
  endif
endfunction 
```

这可能是非常幼稚和讨厌的代码，但是通过一些调整可以完成您打算做的事情。

已编辑，版本 2 中的更改：

*   在自动命令上添加了嵌套，因此语法高亮有效
*   默认不开启，执行 :call NerdPreviewToggle() 开启/关闭

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-13T04:36:04.130

我通过考虑制表符来构建 DavidEG 的答案，因为我遇到了多个 nerdtree 制表符边缘情况。

```
function! PreviewNERDTreeFile()
  if !exists('t:previous_preview_buffer') | let t:previous_preview_buffer = 0 | endif
  let filename = substitute(getline('.'), '^\s*\|\s*$', '','g')
  let should_close_buffer_next_time = 1
  if (bufnr(filename) > 0) | let should_close_buffer_next_time = 0 | endif

  normal go
  if t:previous_preview_buffer > 0
    exe 'bwipeout ' . t:previous_preview_buffer
    let t:previous_preview_buffer = 0
  endif
  if should_close_buffer_next_time
    let t:previous_preview_buffer = bufnr(filename)
  endif
endfunction 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-02-06T05:27:50.997

Here's a NERDTree extension that uses the last active buffer as a preview window, and either hijacks that window or splits it with the original content depending on if you open with `o, s, i, gs, gi` etc.

[https://github.com/numEricL/nerdtree-live-preview](https://github.com/numEricL/nerdtree-live-preview)

# spring - 在 Spring 中从 Controller 返回文件

> ID：13119759
> 
> 赞同：14
> 
> 时间：2012-10-29T10:25:33.737
> 
> 标签：spring, spring-mvc

我是春天的新手。我有一个带有多个 GET 参数的 RequestMapping 控制器。他们返回一个 String 。但是一种方法需要返回“/res/”文件夹中的文件。我怎么做？

```
@RequestMapping(method = RequestMethod.GET,value = "/getfile")
public @ResponseBody 
String getReviewedFile(@RequestParam("fileName") String fileName)
{
    return //the File Content or better the file itself
} 
```

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-29T10:45:56.677

感谢@JAR.JAR.beans。这是链接：[从弹簧控制器下载文件](https://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers)

```
@RequestMapping(value = "/files/{file_name}", method = RequestMethod.GET)
@ResponseBody 
public FileSystemResource getFile(@PathVariable("file_name") String fileName) {
    return new FileSystemResource(myService.getFileFor(fileName)); 
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-29T13:43:48.343

可能这会有所帮助

```
@RequestMapping(method = RequestMethod.GET,value = "/getfile")
public @ResponseBody 
void getReviewedFile(HttpServletRequest request, HttpServletResponse response, @RequestParam("fileName") String fileName)
{
    //do other stuff
    byte[] file = //get your file from the location and convert it to bytes
    response.reset();
    response.setBufferSize(DEFAULT_BUFFER_SIZE);
    response.setContentType("image/png"); //or whatever file type you want to send. 
    try {
        response.getOutputStream().write(image);
    } catch (IOException e) {
        // Do something
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-07-21T22:05:21.850

另一种方式，虽然[Jatin 的回答](https://stackoverflow.com/a/13120095/2946008)更酷：

```
//Created inside the "scope" of @ComponentScan
@Configuration
public class AppConfig extends WebMvcConfigurerAdapter {
    @Value("${files.dir}")
    private String filesDir;

    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        registry
                .addResourceHandler("/files/**")
                .addResourceLocations("file:" + filesDir);
    }
} 
```

取自：

*   [http://www.baeldung.com/spring-mvc-static-resources](http://www.baeldung.com/spring-mvc-static-resources)
*   [https://spring.io/blog/2014/07/24/spring-framework-4-1-handling-static-web-resources](https://spring.io/blog/2014/07/24/spring-framework-4-1-handling-static-web-resources)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-01-03T23:04:12.197

这对我来说就像一个魅力：

```
@RequestMapping(value="/image/{imageId}", method = RequestMethod.GET)
    public ResponseEntity<byte[]> getImage(@PathVariable String imageId) {
        RandomAccessFile f = null;
        try {
            f = new RandomAccessFile(configs.getImagePath(imageId), "r");
            byte[] b = new byte[(int)f.length()];
            f.readFully(b);
            f.close();
            final HttpHeaders headers = new HttpHeaders();
            headers.setContentType(MediaType.IMAGE_PNG);
            return  new ResponseEntity<byte[]>(b, headers, HttpStatus.CREATED);
        } catch (Exception e) {
            return null;
        }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-02T10:25:03.917

如果您在本地 Windows 机器上工作，这可能对您有用：

```
@RequestMapping(value="/getImage", method = RequestMethod.GET)
    @ResponseBody
    public FileSystemResource getUserFile(HttpServletResponse response){

        final File file = new File("D:\\image\\img1.jpg");

        response.reset();
        response.setContentType("image/jpeg");

        return new FileSystemResource(file);
    } 
```

为了测试您的代码，您可以使用**Postman** “使用**发送和下载**而不仅仅是**发送**”

**返回**字节的****另一种方法**：**

 **```
@GetMapping("/getAppImg")
    @ResponseBody
    public byte[] getImage() throws IOException {

        File serveFile = new File("image_path\\img.jpg");

        return Files.readAllBytes(serveFile.toPath());
    } 
```**

# r - 计算R中某个范围内的所有可能组合

> ID：13119761
> 
> 赞同：1
> 
> 时间：2012-10-29T10:25:39.813
> 
> 标签：r

我正在尝试生成四个变量的所有组合，其中每个变量都是 0 到 10 之间的整数。在 R 中是否有一种简单的方法可以做到这一点？

```
X | Y | Z | W
-------------
0 | 0 | 0 | 0
1 | 0 | 0 | 0
1 | 1 | 0 | 0
1 | 1 | 1 | 0
.   .   .   .
.   .   .   .
.   .   .   .
10|10 |10 |10 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T10:26:59.477

如果`W`, `X`,`Y`并且`Z`存在

```
 expand.grid(W = W, X = X, Y = Y, Z = Z) 

    W X Y Z
1   0 0 0 0
2   1 0 0 0
3   2 0 0 0
4   3 0 0 0
5   4 0 0 0
6   5 0 0 0
7   6 0 0 0
8   7 0 0 0
9   8 0 0 0
10  9 0 0 0
11 10 0 0 0
12  0 1 0 0
13  1 1 0 0
14  2 1 0 0
15  3 1 0 0
... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:30:33.713

所有组合都可以用`table`. 转换为数据框会产生您正在寻找的内容。

```
> as.data.frame(table(W=0:10, X=0:10, Y=0:10, Z=0:10))[, c('W','X','Y','Z')]
    W X Y Z
1   0 0 0 0
2   1 0 0 0
3   2 0 0 0
4   3 0 0 0
5   4 0 0 0
6   5 0 0 0
7   6 0 0 0
8   7 0 0 0
9   8 0 0 0
10  9 0 0 0
11 10 0 0 0
12  0 1 0 0
13  1 1 0 0
... 
```

# android - Android：验证 EditText

> ID：13119767
> 
> 赞同：1
> 
> 时间：2012-10-29T10:25:58.030
> 
> 标签：android, android-edittext, ontouchlistener

我有 2 **`edittexts`**ans 2 **`imageviews`**，我希望按钮点击的意图只有在两个编辑文本都有一些价值并且两个图像视图都被触摸时才有效。
以下代码的问题是，当我运行应用程序时，意图在按钮单击时不起作用...

抱歉，代码格式不佳，但这里是：

```
iv_other.setOnTouchListener(new View.OnTouchListener() {

    public boolean onTouch(View arg0, MotionEvent event) {
            // TODO Auto-generated method stub
    switch (event.getAction()) {

    case MotionEvent.ACTION_DOWN:
      {
    anim1.start();
    mp.setLooping(true);
    mp.start();
    tv_your.setText("SCANNING....");
    count++;
       }
    break;
    case MotionEvent.ACTION_UP:
       {
    anim1.stop();
    mp.pause();
    iv_other.setImageResource(R.drawable.animation_0);
    tv_your.setText("Thumb Impression Captured");      
        }
    break;
        }
    return true;  
        }
    });
 iv_your.setOnTouchListener(new View.OnTouchListener() {
        public boolean onTouch(View arg0, MotionEvent event) {
                // TODO Auto-generated method stub
        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
          {
        anim.start();
        mp.setLooping(true);
        mp.start();
        tv_other.setText("SCANNING....");
        count++;
           }
        break;
        case MotionEvent.ACTION_UP:
           {
        anim.stop();
        mp.pause();
        iv_your.setImageResource(R.drawable.animation_0);
        tv_other.setText("Thumb Impression Captured");      
            }
        break;
            }
        return true;  
            }
        });
   converttostring();
    l1=yourname.length(); 
    if(l1!=0)
    {
        count1++;
    }
    l2=othername.length();
    if(l2!=0)
    {
        count1++;
    }
        while(count1>1)
    {
    result.setOnClickListener(new View.OnClickListener() {

        public void onClick(View arg0) {
            // TODO Auto-generated method stub
    if(count>1)
        {
                Intent next = new Intent("com.x9apps.compatibilityscanner.RESULT");
                startActivity(next);
        }   
    }
   });
    }
}
 private void converttostring() {
        // TODO Auto-generated method stub
      yourname =et_your.getText().toString();
      othername = et_other.getText().toString();
        }
    @Override
    public void onBackPressed() {
        // TODO Auto-generated method stub
        super.onBackPressed();
        finish();
    } 
```

这些是我正在使用的变量..请快速帮助 int count=0,l1,l2,count1=0; 静态字符串你的名字，其他名字；

# jquery - 显示空对话框

> ID：13119774
> 
> 赞同：0
> 
> 时间：2012-10-29T10:26:20.513
> 
> 标签：jquery, ajax

我想通过ajax返回一个html，我有这个

```
$("a[rel^='valora']").click(function(){
    var usuario= $(this).data('usuario');
    var idea= $(this).data('idea');
    $("#valorar").load(
            $.ajax({
                url: '{{path('valorarIdea')}}',
                data: {user: usuario, idea: idea},
                type: 'POST',
                dataType: 'html'
            })
    ).dialog()
}); 
```

我有一个这个模板一个div来打开de对话框

```
<div id="valorar" title="Valorar  una idea">

</div> 
```

这个打开的对话框，但没有在里面显示任何内容，我的 html 是一个模板 html.twig，其形式如下......

```
<form action="{{ path('valorarIdea') }}" method="post" {{ form_enctype(form) }}>
    {{ form_widget(form) }}
    </br>
    </br>
    <input type="submit" />
</form> 
```

如果我用其他类似的东西改变它

```
<p> hello! </p> 
```

也不行。

我错过了什么吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:32:58.807

您在加载调用中放置 ajax 调用。那是错的。看看这个：[http ://api.jquery.com/load/](http://api.jquery.com/load/)

```
.load(url, data, callbackfunction) 
```

**编辑**：你的例子：

```
$("#valorar").load( '{{path('valorarIdea')}}', data: {user: usuario, idea: idea}).dialog(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:30:45.950

试试这个`$('<div id="valorar"></div>').load().dialog();`

# math - 如何选择 9 个值使得

> ID：13119775
> 
> 赞同：1
> 
> 时间：2012-10-29T10:26:20.310
> 
> 标签：math, numbers, logic, constraints

给定 9 个变量 x1 x2 x3 x4 x5 x6 x7 x8 x9，我想给它们分配实数，这样：

```
exactly 1 pair among them sums to 2
exactly 2 pairs among them sum to 3
exactly 3 pairs among them sum to 4
exactly 4 pairs among them sum to 5
exactly 5 pairs among them sum to 6
exactly 6 pairs among them sum to 7
exactly 5 pairs among them sum to 8
exactly 4 pairs among them sum to 9
exactly 3 pairs among them sum to 10
exactly 2 pairs among them sum to 11
and exactly 1 pair among them sums to 12 
```

这是否可以以某种方式建模为约束满足问题？或者如何解决这个问题？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T14:10:57.807

由于您要求 1 对具有一定的总和，因此必须计算*无序*的变量对。此外，由于指定了 36 个总和，我们排除（我假设）向自身添加一个变量（因此不需要 36 个不一定不同的总和）。

您正在问一个表面上的编程问题，即它是否可以通过约束编程来解决。约束编程可以产生有限域的答案。在实数域上，如果没有进一步的了解，将有无数种可能性进行检查。

在搜索中，可以假设变量是按升序排列的，这会使这些变量的“加法表”的行和列也按升序排列。现在我们至少有一个有限的问题要探索。这张表的上下三角形是对称的，所以我们只需要找出其中一半或另一半是否可以填写即可。

这足够暗示吗？我注意到表中 2 和 12 条目的位置是确定的（作为两个最小和两个最大的总和）变量。我们可以像这样可视化加法表的上半部分：

```
 _  2  ?  ?  ?  ?  ?  ?  ?
     _  ?  ?  ?  ?  ?  ?  ?
        _  ?  ?  ?  ?  ?  ?
           _  ?  ?  ?  ?  ?
              _  ?  ?  ?  ?
                 _  ?  ?  ?
                    _  ?  ?
                       _ 12
                          _ 
```

我们可以给出一个相当简单的 Prolog 程序，它逐行选择条目，使用的事实是每行中第一个打开的条目必须是可用的最小条目（因为以后不会出现使用该条目的机会，如果一个大一个用于那里）以及连续行但相应列中的条目之间的差异在该行中是一个常数（包括对角线和下半部分条目）。

要看到这一点，请考虑第 i 行和第 j 列减去第 i 行和第 j 列：

```
(x_i + x_j) - (x_i' + x_j)  =  x_i - x_i' 
```

差异不取决于列！我们在这些行之间的每一列中得到相同的差异，例如，如果将 j 列更改为 j' 列（例如）。

将这些想法推得足够远，可以让人们手动解决问题。

# mongodb - mongo 控制台客户端理解 UTF-8

> ID：13119778
> 
> 赞同：1
> 
> 时间：2012-10-29T10:26:30.513
> 
> 标签：mongodb, utf-8, console

我将 UTF-8 文档保存到 MongoDb 中。当我显示到 mongo 控制台客户端时，出现错误或崩溃：

```
>db.folders.find();
错误：检测到非 ascii 字符

```

如何通过控制台客户端将文档数据查看到 MonoDb 中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T19:55:58.130

MongoDB 默认处理 UTF-8，无需配置。您的问题在于您的 PuTTy 配置。

尝试将选项“窗口 > 翻译 > 接收到的数据假定在哪个字符集中：”设置为 UTF-8。

# javascript - 不勾选时需要设置radio group的默认值

> ID：13119785
> 
> 赞同：4
> 
> 时间：2012-10-29T10:26:52.677
> 
> 标签：javascript, html, forms, post

在我的 html 表单中，我有一组单选按钮

```
<form action="receive.php" method="post">
    <input type="radio" name="rad" value="one" /> One <br />
    <input type="radio" name="rad" value="two" /> Two <br />
    <input type="radio" name="rad" value="three" /> Three <br />
    <input type="submit" value="submit" />
</form> 
```

我有一个没有选中单选按钮的场景。在这种情况下，我的服务器端 php 接收输入值为`false`. 我想要做的是将 false 更改为`null`or `undefined`。那可能吗？任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-29T10:36:11.367

你可以这样做：

```
<form action="receive.php" method="post">
    <input type="radio" name="rad" value="one" /> One <br />
    <input type="radio" name="rad" value="two" /> Two <br />
    <input type="radio" name="rad" value="three" /> Three <br />
    <input type="hidden" name="rad" value="null" />
    <input type="submit" value="submit" />
</form> 
```

现在，如果您没有选中任何单选按钮，您将获得“null”输入值，但请记住`"null"`与`NULL`PHP 中的不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:30:29.603

根据定义，单选按钮没有空值。

但是，您可以添加一个单选按钮，例如：

```
<form action="receive.php" method="post">
    <input type="radio" name="rad" value="one" /> One <br />
    <input type="radio" name="rad" value="two" /> Two <br />
    <input type="radio" name="rad" value="three" /> Three <br />
    <input type="radio" name="rad" value="null" /> null <br />
    <input type="submit" value="submit" />
</form> 
```

并将其用作您需要的空值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T03:47:41.660

这可以通过 .php 中的 if/else 语句来完成：

```
$radioInput = false;
if (!isset($_POST['rad'])){
    $radioInput = NULL;
}
else {
    $radioInput = $_POST['rad'];
} 
```

[http://php.net/manual/en/function.isset.php](http://php.net/manual/en/function.isset.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:52:48.180

如果**没有选择单选按钮**，请使用 javascript 返回**null**，在“提交”上单击**：**

 ****```
var radioChecked=0;
var radios=document.getElementsByName("rad");
for(var i=0;i<radios.length;i++)
{ if(radios[i].checked){
   radioChecked=radioChecked+1;
  }  }
if(radioChecked==0)
return null; 
```

希望它能解决你的问题。****

# sql - PostgreSQL 输入结束时的语法错误

> ID：13119786
> 
> 赞同：21
> 
> 时间：2012-10-29T10:26:53.680
> 
> 标签：sql, postgresql, go

我在 MySQL 和 PostgreSQL 中都使用了下一条 SQL 语句，但在 PostgreSQL 中失败了

```
db.Query(`SELECT COUNT(*) as N FROM email WHERE address = ?`, email) 
```

出现此错误：

```
pq: F:"scan.l" M:"syntax error at end of input" S:"ERROR" C:"42601" P:"50" R:"scanner_yyerror" L:"993" 
```

有什么问题？PostgreSQL 中的错误消息非常神秘。

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-10-29T10:32:27.233

您尚未提供有关语言/环境的任何详细信息，但无论如何我都会尝试一个疯狂的猜测：

MySQL 的预处理语句本身`?`用作参数占位符，但 PostgreSQL 使用`$1`等`$2`。尝试替换`?`with`$1`并查看它是否有效：

```
WHERE address = $1 
```

> PostgreSQL 中的错误消息非常神秘。

总的来说，我发现 Postgres 错误消息比竞争产品（咳咳，MySQL，*尤其是*Oracle）要好，但是在这种情况下，您已经设法使解析器感到困惑，超出了理智。:)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-29T10:32:02.120

你正在使用 Go 对吗？

尝试：

```
db.Query(`SELECT COUNT(*) as N FROM email WHERE address = $1`, email) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2020-02-08T00:01:50.553

在 golang 中我们使用的查询

*   MySQL 使用 ? 变体
*   PostgreSQL 使用枚举的 $1、$2 等 bindvar 语法
*   SQLite 两者都接受？和 $1 语法
*   Oracle 使用 :name 语法

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-04-07T22:40:00.170

就我而言，这是由于使用了 -- 行注释，在该注释中，负责与数据库交互的程序在我的查询的多行中读取为一条巨行。这意味着行注释破坏了查询的其余部分。解决方法是使用 /* 块注释 */ 代替。

# php - 从 html(php) 文件中删除换行符

> ID：13119788
> 
> 赞同：1
> 
> 时间：2012-10-29T10:27:03.270
> 
> 标签：php, html, split, line, break

我已经搜索过这个问题，我想从 html 中删除换行符，但是 html 文件中有一些拆分 php 行，例如：

```
<html>
<head>
<title><?='abc'?></title>
</head>
<?php
if($_SESSION['test'] == 'yes'){
echo 'hello';
}
?>
123456
43567
<?='13245tryt57u68'?>
</body>
</html> 
```

如何从此 php 文件中删除换行符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:43:48.647

你可以使用`ob_start();`

```
<?php ob_start();
//Start page output
?>
<html>
<head>
<title><?='abc';?></title>
</head>
<body>
<?php
if(isset($_SESSION['test']) && $_SESSION['test'] == 'yes'){
    echo 'hello';
}
?>
123456
43567
<?='13245tryt57u68';?>
</body>
</html>
<?php 
//End page output and assign the contents to a variable
$buffer = ob_get_contents();
ob_end_clean();

//Replace the new line with null
echo str_replace("\n",null,$buffer);
?> 
```

**结果：**

```
<html><head><title>abc</title></head><body>1234564356713245tryt57u68</body></html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:30:44.963

如果你想在你的 IDE 中使用它：使用替换功能，并用无字符替换 \n

如果您希望它用于客户端：您必须配置您的 htaccess 以在将文件发送到客户端时删除换行符/缩进，即使用 mod_pagespeed 扩展名： [http://www.the-art-of-web。 com/system/mod-pagespeed-settings/](http://www.the-art-of-web.com/system/mod-pagespeed-settings/)和 collapse_whitespace 选项

# python - ipython notebook YouTubeVideo类可以从时间偏移开始播放吗

> ID：13119791
> 
> 赞同：12
> 
> 时间：2012-10-29T10:27:15.210
> 
> 标签：python, ipython-notebook

如果我将 youtube 视频剪辑嵌入到 iPython 笔记本中：

```
from IPython.display import YouTubeVideo
YouTubeVideo("Pi9NpxAvYSs") 
```

有没有办法可以嵌入它，让它从特定时间开始播放？所以 1:47:03 - 1 小时 47 分 3 秒？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-29T11:48:54.793

## 更新

现在您可以从 youtube 播放器中使用您喜欢的[任何参数：](https://developers.google.com/youtube/player_parameters#parameter-subheader)

```
from datetime import timedelta

start=int(timedelta(hours=1, minutes=46, seconds=40).total_seconds())

YouTubeVideo("Pi9NpxAvYSs", start=start, autoplay=1, theme="light", color="red") 
```

* * *

## 旧答案

当前的[实现](https://github.com/ipython/ipython/blob/master/IPython/lib/display.py)不允许它，但它很容易扩展：

```
from datetime import timedelta

class YouTubeVideo(object):
    def __init__(self, id, width=400, height=300, start=timedelta()):
        self.id = id
        self.width = width
        self.height = height
        self.start = start.total_seconds()

    def _repr_html_(self):
        return """
            <iframe
                width="%i"
                height="%i"
                src="http://www.youtube.com/embed/%s?start=%i"
                frameborder="0"
                allowfullscreen
            ></iframe>
        """%(self.width, self.height, self.id, self.start) 
```

瞧：

```
YouTubeVideo("Pi9NpxAvYSs", start=timedelta(hours=1, minutes=47, seconds=3)) 
```

现在我们可以发送一个拉取请求:)

# xslt - 匹配 XSLT 中没有命名空间的节点

> ID：13119792
> 
> 赞同：1
> 
> 时间：2012-10-29T10:27:19.820
> 
> 标签：xslt, xslt-2.0

给定以下 XSLT：

```
<stylesheet version="2.0" 
    xmlns="http://www.w3.org/1999/XSL/Transform"
    xmlns:cm="http://api.example.com/schema">

    <template match="?">
        <element name="cm:Foo"><value-of select="?" /></element>
    </template>

</stylesheet> 
```

这个XML：

```
<a>
  <b>cat</b>
</a> 
```

如何匹配`a`节点并选择节点的值`b`？

请注意，它们没有任何命名空间，并且样式表中的默认命名空间已被使用，所以简单`match="a"`且`select="b"`不起作用（据我所知）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T14:47:14.193

@pgfearo 发布并删除了一个正确的答案。解决方案是设置`xpath-default-namespace=""`在`stylesheet`. 所以工作 xslt 将是：

```
<stylesheet version="2.0" 
    xmlns="http://www.w3.org/1999/XSL/Transform"
    xmlns:cm="http://api.example.com/schema"
    xpath-default-namespace="">

    <template match="a">
        <element name="cm:Foo"><value-of select="b" /></element>
    </template>

</stylesheet> 
```

如果不设置`xpath-default-namespace`它不匹配，这是有道理的，因为没有`a`或`b`节点与 XSL 转换命名空间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T12:02:24.717

一个 XML 文档（您的 XSLT 样式表）的默认名称空间不会以任何方式影响*另一个*XML 文档是否具有默认名称空间。

**只需使用**：

```
<xsl:template match="a">
  <xsl:value-of select="b"/>
</xsl:template> 
```

另外，请记住，XPath 总是将无前缀的名称视为属于“无命名空间”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T11:24:40.290

```
<xsl:template match="a">
  <xsl:value-of select="b"/>
</xsl:template> 
```

应该作为样式表代码中的默认命名空间对 XSLT 模式和 XPath 表达式无关紧要。所以`a`总是意味着在没有命名空间中具有本地名称的元素`a`，除非您使用 XSLT 2.0 和 set `xpath-default-namespace="..."`，请参阅[http://www.w3.org/TR/xslt20/#unprefixed-qnames](http://www.w3.org/TR/xslt20/#unprefixed-qnames)。你的`xmlns="..."`没关系。

# delphi - 降序通用 TObjectLIst

> ID：13119794
> 
> 赞同：1
> 
> 时间：2012-10-29T10:27:36.637
> 
> 标签：delphi, generics, delphi-xe2

假设我有一个基类：

```
 TPart = class
  private   
    FPartId: Integer;
  public
    property PartId: Integer read FPartId write FPartId;
  end; 
```

我有一个通用列表：

```
 TPartList = class(TObjectList<TPart>)
  public
    function IndexOfPart(PartId: Integer): Integer;
  end; 
```

现在，如果我从我的 TPart 下降：

```
 TModulePart = class(TPart)
  private
    FQuantity: Integer;
  public
    property Quantity: Integer read FQuantity write FQuantity;
  end; 
```

我现在想创建一个 TPartList 的后代，但能够返回一个 TModulePart 项。这样做：

```
 TModulePartList = class(TPartList)
  end; 
```

默认情况下会认为 Items 属性的类型是 TPart 而不是 TModulePart （自然）。我不想这样做：

```
 TModulePartList = class(TObjectList<TModulePart>)
  end; 
```

因为那时我错过了从 TPartList 中可能拥有的常用方法的继承。

有可能吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:32:47.577

你可以像这样做你想做的事：

```
TGenericPartList<T: TPart> = class(TObjectList<T>)
public
  function IndexOfPart(PartId: Integer): Integer;
end;
TPartList = TGenericPartList<TPart>;
TModulePartList = TGenericPartList<TModule>; 
```

如果你像这样设计它，你可以增加更多的灵活性：

```
TGenericPartList<T: TPart> = class(TObjectList<T>)
public
  function IndexOfPart(PartId: Integer): Integer;
end;
TPartList = TGenericPartList<TPart>;

TGenericModulePartList<T: TModule> = class(TGenericPartList<T>)
  procedure DoSomething(Module: T);
end;
TModulePartList = TGenericModulePartList<TModule>; 
```

# sql-server-2005 - sql server2005如何创建父子关系？

> ID：13119795
> 
> 赞同：0
> 
> 时间：2012-10-29T10:27:41.700
> 
> 标签：sql-server-2005, visual-studio-2008

如果我的 sql server 2005 中有两个表，并且我需要在这些表之间创建父子关系，以便我可以使用 vb.net 2008 中的绑定导航器检索该数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:30:50.637

将主键和外键添加到要关联为父项和子项的表中。

```
ALTER TABLE [dbo].[CHILD]  WITH CHECK ADD  CONSTRAINT [FK_PARENT__CHILD] 
FOREIGN KEY([ID]) REFERENCES [dbo].[PARENT] ([ID]) ON UPDATE CASCADE
ON DELETE CASCADE 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:30:59.110

您需要在两个表之间建立[外键](http://en.wikipedia.org/wiki/Foreign_key)关系。

基本上，这是一个表中的一列，其中包含另一个表中一行的 ID。

有两种设置方法。

1.  父母持有孩子的身份证。这仅在两个对象之间存在 1:1 关系时才有用。
2.  孩子持有父母的ID。这更有用，因为父母和多个孩子之间可以存在 1:many 关系。

来自 Wikipedia 页面的此示例说明了代码：

```
CREATE TABLE Supplier (
 SupplierNumber  INTEGER NOT NULL,
 Name            VARCHAR(20) NOT NULL,
 Address         VARCHAR(50) NOT NULL,
 TYPE            VARCHAR(10),
 CONSTRAINT supplier_pk PRIMARY KEY(SupplierNumber),
 CONSTRAINT number_value CHECK (SupplierNumber > 0) )

CREATE TABLE Invoices (
 InvoiceNumber   INTEGER NOT NULL,
 SupplierNumber  INTEGER NOT NULL,
 Text            VARCHAR(4096),
 CONSTRAINT invoice_pk PRIMARY KEY(InvoiceNumber),
 CONSTRAINT inumber_value CHECK (InvoiceNumber > 0),
 CONSTRAINT supplier_fk FOREIGN KEY(SupplierNumber)
    REFERENCES Supplier(SupplierNumber)
    ON UPDATE CASCADE ON DELETE RESTRICT ) 
```

# image - 快速确定图像是照片还是绘图

> ID：13119796
> 
> 赞同：3
> 
> 时间：2012-10-29T10:27:42.987
> 
> 标签：image, png, jpeg, bmp

有谁知道任何非常快速的算法来确定图像是照片还是图画？

主要目的是决定最适合 BMP 图像的格式是 PNG 还是 JPEG。我不希望带有线条的文件被 jpeg 模糊，但同时我也不希望存储无损照片。

目前，我只是从 PNG 和高质量 JPEG 中提取出最小的文件大小。这似乎适用于 99%。但是总有一些东西，比如图画的照片和带有很多渐变的图画，这会愚弄它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:35:31.870

您可以使用过滤器 1\. 使图片变成黑白 2\. 提高对比度然后计算像素，看看是否得到更多的白色像素，然后是黑色/灰色像素

也许是这样的：

```
if( whitePixels.Count >= ( whitePixels.Count + blackAndGreyPixels.Count ) / 100 * 70 ) {
    // is drawing
} else {
    // is photograph
} 
```

您应该测试 70% 标记，这取决于图像大小和您要比较的图像类型。

希望这可以帮助您了解简单的算法如何工作。

如果您需要更多帮助，您应该说出您想使用什么语言（PHP 用于服务器端，或者 .NET 用于客户端），然后我可以给您一个代码示例。

如果您觉得这很有用，请投票/标记为答案。

优雅

# extjs - Extjs - 多重验证 VType 电子邮件

> ID：13119799
> 
> 赞同：1
> 
> 时间：2012-10-29T10:27:51.443
> 
> 标签：extjs

我想在其上执行多重验证的电子邮件文本字段存在问题。详细说明： 1\. 经典格式电子邮件验证 2\. 独特的电子邮件检查

我可以覆盖电子邮件 VType 吗？还是我必须创建一个自定义 VType？如何在单个 VType 中使用两个不同的错误消息执行两个验证？

```
Thanks
Regards 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-03T11:07:19.863

`validator`您可以使用该属性覆盖默认验证。例如，如果您希望强制执行标准规则*和*其他一些规则（例如，由`isSomeOtherRules()`返回布尔值定义），请设置以下属性：

```
validator: function(value) {
    return Ext.form.VTypes.email(value) && isSomeOtherRules(value);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-18T19:21:29.907

扩展安德鲁的职位；我们可以返回验证消息（如下所示）以获得与 vtype 错误警报相同的外观：

```
 validator: function(value) {
                    if (!Ext.form.VTypes.cfpValidatePdf(value)) {
                        return 'File must be pdf';
                    } else if (!Ext.form.VTypes.cfpValidateFileNameSize(value)) {
                        return 'The maximum length of the filename is 64';
                    } else {
                        return true;
                    }
                } 
```

# sed - 排除域名与全局匹配的邮件

> ID：13119804
> 
> 赞同：1
> 
> 时间：2012-10-29T10:28:28.017
> 
> 标签：sed, awk, grep, cut, tr

全局域在“*@”选项中，当电子邮件与这些全局域之一匹配时，我需要将它们从列表中排除。

例子：

```
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@superuser.com
WF,test@stackapps.com
WF,test@stackexchange.com 
```

输出：

```
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@stackapps.com 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:59:57.107

你在同一个文件中有两种类型的数据，所以最简单的处理方法是先划分它：

```
<infile tee >(grep '\*@' > global) >(grep -v '\*@' > addr) > /dev/null 
```

然后用于`global`从以下位置删除信息`addr`：

```
grep -vf <(cut -d@ -f2 global) addr 
```

把它放在一起：

```
<infile tee >(grep '\*@' > global) >(grep -v '\*@' > addr) > /dev/null
cat global <(grep -vf <(cut -d@ -f2 global) addr) > outfile 
```

内容`outfile`：

```
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@stackapps.com 
```

清理临时文件`rm global addr`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-29T10:40:34.920

你可以这样做：

```
grep -o "\*@.*" file.txt | sed -e 's/^/[^*]/' > global.txt
grep -vf global.txt file.txt 
```

这将首先提取全球电子邮件，并在它们前面加上`[^*]`，将结果保存到`global.txt`. 然后将该文件用作 grep 的输入，其中每一行都被视为表单中的正则表达式`[^*]*@global.domain.com`。该`-v`选项告诉 grep 只打印与该模式不匹配的行。

使用 sed 进行就地编辑的另一个类似选项是：

```
grep -o "\*@.*" file.txt | sed -e 's/^.*$/\/[^*]&\/d/' > global.sed
sed -i -f global.sed file.txt 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T10:50:03.113

```
$ awk -F, 'NR==FNR && /\*@/{a[substr($2,3)]=1;print;next}NR!=FNR && $2 !~ /^\*/{x=$2;sub(/.*@/,"",x); if (!(x in a))print;}' OFS=, file file
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@stackapps.com 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-29T11:18:09.197

这是使用`GNU awk`. 像这样运行：

```
awk -f script.awk file.txt{,} 
```

内容`script.awk`：

```
BEGIN {
    FS=","
}

FNR==NR {
    if (substr($NF,1,1) == "*") {
        array[substr($NF,2)]++
    }
    next
}

substr($NF,1,1) == "*" || !(substr($NF,index($NF,"@")) in array) 
```

结果：

```
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@stackapps.com 
```

或者，这是单线：

```
awk -F, 'FNR==NR { if (substr($NF,1,1) == "*") array[substr($NF,2)]++; next } substr($NF,1,1) == "*" || !(substr($NF,index($NF,"@")) in array)' file.txt{,} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-29T13:27:51.890

这可能对您有用（GNU sed）：

```
sed '/.*\*\(@.*\)/!d;s||/[^*]\1/d|' file | sed -f - file 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-29T13:19:34.067

通过一次文件并允许将全局域与地址混合：

```
$ cat file
WF,*@stackoverflow.com
WF,test@superuser.com
WF,*@superuser.com
WF,test@stackapps.com
WF,test@stackexchange.com
WF,*@stackexchange.com
WF,foo@stackapps.com
$
$ awk -F'[,@]' '
   $2=="*" { glbl[$3]; print; next }
   { addrs[$3] = addrs[$3] $0 ORS }
   END {
      for (dom in addrs)
         if (!(dom in glbl))
            printf "%s",addrs[dom]
   }
' file
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@stackapps.com
WF,foo@stackapps.com 
```

或者如果您不介意 2-pass 方法：

```
$ awk -F'[,@]' '(NR==FNR && $2=="*" && !glbl[$3]++) || (NR!=FNR && !($3 in glbl))' file file
WF,*@stackoverflow.com
WF,*@superuser.com
WF,*@stackexchange.com
WF,test@stackapps.com
WF,foo@stackapps.com 
```

我知道第二个有点神秘，但它很容易转换为不使用默认操作和 awk 习语中的一个很好的练习:-)。

# javascript - 如何根据字符串中存在的数字对字符串进行排序，用 (.) 分隔

> ID：13119808
> 
> 赞同：5
> 
> 时间：2012-10-29T10:28:44.533
> 
> 标签：javascript, sorting

嗨，我想根据其中存在的数字对字符串进行排序，例如

*   1.1.act2
*   13.1.2.1.act3
*   2.1.4.act56
*   1.3.演员
*   3.1.3.args
*   13.1.3.4.acr

我想以某种方式做到这一点

*   1.1.act2
*   1.3.演员
*   2.1.4.act56
*   3.1.3.args
*   13.1.2.1.act3
*   13.1.3.4.acry

我如何在javascript中实现它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:37:55.953

您可以将该`Arrays` [`sort`](http://www.w3schools.com/jsref/jsref_sort.asp)方法与自定义迭代器函数一起使用。例如：

```
mylist = ["1.1.act2", "13.1.2.1.act3", "2.1.4.act56", "1.3.actorg", "3.1.3.args", "13.1.3.4.acr"];

mylist.sort(function(a, b) {
    a = a.split("."); b = b.split(".");
    var parts = Math.min(a.length, b.length);
    for(var i = 0; i < parts; ++i) {
        var numA = parseInt(a[i]); var numB = parseInt(b[i]);
        if (numA != numB)
            return numA > numB;
    }
}); 
```

这是一个存根，未经测试，但我想你知道我要去哪里

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-29T11:14:47.577

试试这个。此代码未优化，但可以正常工作

```
 <script type="text/javascript">
function fnc()
{
    var arr=new Array();
arr[0]="1.1.act2";
arr[1]="13.1.2.1.act3";
arr[2]="2.1.4.act56";
arr[3]="1.3.actorg";
arr[4]="3.1.3.args";
arr[5]="13.1.3.4.acr";

var it0=arr[0].split(".");
var it1=arr[1].split(".");
var it2=arr[2].split(".");
var it3=arr[3].split(".");
var it4=arr[4].split(".");
var it5=arr[5].split(".");

var newarr=new Array();
newarr[0]=parseInt(it0[0],10);
newarr[1]=parseInt(it1[0],10);
newarr[2]=parseInt(it2[0],10);
newarr[3]=parseInt(it3[0],10);
newarr[4]=parseInt(it4[0],10);
newarr[5]=parseInt(it5[0],10);

newarr.sort(function(a,b){return a-b});
alert(newarr);
for(i=0;i<arr.length;i++)
{

    if(newarr[i]==it0[0])
    {console.log(arr[0]);}
    else if(newarr[i]==it1[0])
    {console.log(arr[1]);}
    else if(newarr[i]==it2[0])
    {console.log(arr[2]);}
    else if(newarr[i]==it3[0])
    {console.log(arr[3]);}
    else if(newarr[i]==it4[0])
    {console.log(arr[4]);}
    else if(newarr[i]==it5[0])
    {console.log(arr[5]);}
    else if(newarr[i]==it6[0])
    {console.log(arr[6]);}
}
}
<input type="button" onclick="fnc()" value="click" /> 
```

# android - rs和android之间的数据传输？

> ID：13119809
> 
> 赞同：1
> 
> 时间：2012-10-29T10:28:46.400
> 
> 标签：android, renderscript

我正在使用渲染脚本。我想将数组的元素传递给渲染脚本，并希望对渲染脚本中的每个元素执行平方并将数据返回到 android 框架工作。

我正在尝试通过以下代码来做到这一点。

1.java代码 2.RS代码

但是通过这些代码，这件事是不可能的。请你告诉我我用这些代码做了什么错误。

==================================================== ===========================

# 爪哇代码

```
 public class SUM extends Activity {

private int[] input;
private int[] output;
private RenderScript mRS;
private Allocation mInAllocation;
private Allocation mOutAllocation;
private ScriptC_Sum mScript;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    input= new int[4];
    input[0]=0;
    input[1]=1;
    input[2]=2;
    input[3]=3;

    output =new int[4];

    createScript();
}

private void createScript() {

    mRS = RenderScript.create(this);

    mInAllocation    = Allocation.createSized(mRS, Element.U32(mRS),4);
    mOutAllocation   = Allocation.createTyped(mRS,mInAllocation.getType());
    mScript = new ScriptC_Sum(mRS, getResources(), R.raw.sum);

    mScript.bind_v_in(mInAllocation);
    mScript.bind_v_out(mOutAllocation);

    mScript.invoke_square(mInAllocation,mOutAllocation);

}
} 
```

==================================================== ========= RS 代码

```
#pragma version(1)
#pragma rs java_package_name(com.cdacb.mars.summation)

#include "rs_types.rsh"
#include "rs_graphics.rsh"
#include "rs_core.rsh"

int32_t *v_in ;
int32_t *v_out;

 void square(){

}

void root(int32_t *v_in,int32_t *v_out )
{

   square();

 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-01T23:18:30.453

几件事：

1-我发现您的 .rs 文件不能与您的 .java 文件同名

2- 您在根函数 (*v_out) 上声明了一个输出变量，但从未在函数内部计算它。

3-你的java数组都是整数。从[Renderscript API](http://developer.android.com/reference/renderscript/rs__cl_8rsh.html#a9243de1d67fcc847a89f95748d664b19)上的幂函数声明来看，它们都至少需要一个浮点数作为输入

这是我的java代码：

```
 public class Sum extends Activity {
    private float[] input;
    private float[] output;
    private RenderScript mRS;
    private Allocation mInAllocation;
    private Allocation mOutAllocation;
    private TextView t1;
    private ScriptC_Square mScript;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_sum);
        t1= new TextView(this);
        t1= (TextView)findViewById(R.id.textview1);

        input= new float[4];
        input[0]=0;
        input[1]=1;
        input[2]=2;
        input[3]=3;
        output =new float[input.length];
        createScript();
    }

    private void createScript() {
        mRS = RenderScript.create(this);

        mInAllocation    = Allocation.createSized(mRS, Element.F32(mRS),4);
        mOutAllocation   = Allocation.createTyped(mRS,mInAllocation.getType());
        mScript = new ScriptC_Square(mRS, getResources(), R.raw.square);

        mInAllocation.copyFrom(input);
        mScript.forEach_root(mInAllocation, mOutAllocation); // calls the forEach function to operate on the root function (each allocation input, will have a corresponding allocation output
        mOutAllocation.copyTo(output); // copy the result that was stored in mOutAllocation into the array output

        t1.setText(String.format("Input:%s\n\noutput:%s",
                                    ArrayToString(input), ArrayToString(output)));
    }

    /**
     * this function just print each element of a primitive float array into a text string
     * @param array
     * @return
     */
    public String ArrayToString(float[] array){

        String s="";
        for(int i=0; i<array.length; i++){
            s+= String.format("\nValue %d: %f", i, array[i]);
        }

        return s;
    }

} 
```

这是我的 Square.rs 文件：

```
#pragma version(1)
#pragma rs java_package_name(com.example.sum)//don't forget to change that package name

void root(const float *v_in, float  *v_out ){

    *v_out = pow(*v_in, 2); //use the internal pow function of Renderscript pow(float x, float y) = x ^y;

 } 
```

# cuda - 绑定的 CUDA 纹理读数为零

> ID：13119813
> 
> 赞同：6
> 
> 时间：2012-10-29T10:29:07.247
> 
> 标签：cuda, 2d, textures

我尝试从纹理中读取值并将它们写回全局内存。我确信写作部分有效，因为我可以将常量值放入内核中，并且可以在输出中看到它们：

```
__global__ void
bartureKernel( float* g_odata, int width, int height) 
{
    unsigned int x = blockIdx.x*blockDim.x + threadIdx.x;
    unsigned int y = blockIdx.y*blockDim.y + threadIdx.y;

    if(x < width && y < height) {
            unsigned int idx = (y*width + x);
            g_odata[idx] = tex2D(texGrad, (float)x, (float)y).x;

    }
} 
```

我要使用的纹理是具有两个通道的 2D 浮动纹理，因此我将其定义为：

```
texture<float2, 2, cudaReadModeElementType> texGrad; 
```

调用内核的代码用一些恒定的非零值初始化纹理：

```
float* d_data_grad = NULL;

cudaMalloc((void**) &d_data_grad, gradientSize * sizeof(float));
CHECK_CUDA_ERROR;

texGrad.addressMode[0] = cudaAddressModeClamp;
texGrad.addressMode[1] = cudaAddressModeClamp;
texGrad.filterMode = cudaFilterModeLinear;
texGrad.normalized = false;

cudaMemset(d_data_grad, 50, gradientSize * sizeof(float));
CHECK_CUDA_ERROR;

cudaBindTexture(NULL, texGrad, d_data_grad, cudaCreateChannelDesc<float2>(), gradientSize * sizeof(float));

float* d_data_barture = NULL;
cudaMalloc((void**) &d_data_barture, outputSize * sizeof(float));
CHECK_CUDA_ERROR;

dim3 dimBlock(8, 8, 1);
dim3 dimGrid( ((width-1) / dimBlock.x)+1, ((height-1) / dimBlock.y)+1, 1);

bartureKernel<<< dimGrid, dimBlock, 0 >>>( d_data_barture, width, height); 
```

我知道，将纹理字节设置为全“50”在浮点数的上下文中没有多大意义，但它至少应该给我一些非零值来读取。

我只能读零...

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T11:27:18.667

您正在使用`cudaBindTexture`将纹理绑定到由`cudaMalloc`. 在内核中，您使用`tex2D`函数从纹理中读取值。这就是它读取零的原因。

如果使用 将纹理绑定到线性内存`cudaBindTexture`，则使用`tex1Dfetch`内核内部读取它。

`tex2D`用于仅从使用该函数绑定到**间距线性内存**（由 分配`cudaMallocPitch`）的那些纹理中读取，或者使用该函数从`cudaBindTexture2D`那些绑定到**cudaArray的纹理中读取**`cudaBindTextureToArray`

这是基本表，其余的可以从编程指南中阅读：

**内存类型**-----------------**分配使用**-----**绑定使用**---------- -------------**读入内核**

线性存储器`cudaMalloc`........................ `cudaBindTexture`………………………………………………………………………………`tex1Dfetch`

音高线性记忆`cudaMallocPitch`………………………………………………………………………………………………`cudaBindTexture2D``tex2D`

cudaArray `cudaMallocArray`....................... `cudaBindTextureToArray`........ .....`tex1D` 或`tex2D`

3D cudaArray `cudaMalloc3DArray`……………………………………………………………………………………………………………………………………………………`cudaBindTextureToArray``tex3D`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T17:38:02.197

此外，使用 tex1Dfetch 的访问基于整数索引。但是，其余的都是基于浮点的索引，您必须添加 +0.5 才能获得您想要的确切值。

我很好奇你为什么要创建浮动并绑定到 float2 纹理？它可能会给出模棱两可的结果。float2 不是 2D 浮动纹理。它实际上可以用于表示复数。

```
typedef struct {float x; float y;} float2; 
```

我认为本教程将帮助您了解如何在 cuda 中使用纹理内存。 [http://www.drdobbs.com/parallel/cuda-supercomputing-for-the-masses-part/218100902](http://www.drdobbs.com/parallel/cuda-supercomputing-for-the-masses-part/218100902)

您显示的内核并没有从使用纹理中受益匪浅。但是，如果使用得当，通过利用局部性，纹理内存可以大大提高性能。此外，它对于插值很有用。

# ios - 在 iOS 中结合 jpg 和 alpha 以获取 png 图像后删除 matte(alpha bleed)

> ID：13119818
> 
> 赞同：1
> 
> 时间：2012-10-29T10:29:27.480
> 
> 标签：ios, png, quartz-graphics, alpha, jpeg

为了减小应用程序的大小，我在 png 图像上使用 jpg 和 alpha。我可以合并 jpg 和 alpha 图像以获取 png，但问题是它会留下边缘不清晰的 alpha 出血（哑光）。请帮我解决一下这个。

下面我编写的代码可以帮助我从 jpg 和 alpha 图像中获取 png 图像。请帮助我摆脱 alpha bleed（matte）。谢谢。

```
+ (UIImage*)pngImageWithJPEG:(UIImage*)jpegImage compressedAlphaFile:(UIImage*)alphaImage
{
CGRect imageRect = CGRectMake(0, 0, jpegImage.size.width, jpegImage.size.height);

//Pixel Buffer
uint32_t* piPixels = (uint32_t*)malloc(imageRect.size.width * imageRect.size.height * sizeof(uint32_t));

memset(piPixels, 0, imageRect.size.width * imageRect.size.height * sizeof(uint32_t));

CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
CGContextRef context = CGBitmapContextCreate(piPixels, imageRect.size.width, imageRect.size.height, 8, sizeof(uint32_t) * imageRect.size.width, colorSpace, kCGBitmapByteOrder32Little | kCGImageAlphaPremultipliedLast);

//Drawing the alphaImage to the pixel buffer to seperate the alpha values
CGContextDrawImage(context, imageRect, alphaImage.CGImage);

//Buffer to store the alpha values from the alphaImage
uint8_t* piAlpha = (uint8_t*)malloc(sizeof(uint8_t) * imageRect.size.width * imageRect.size.height);

//Copying the alpha values from the alphaImage to the alpha buffer
for (uint32_t y = 0; y < imageRect.size.height; y++) 
{
    for (uint32_t x = 0; x < imageRect.size.width; x++)
    {
        uint8_t* piRGBAPixel = (uint8_t*)&piPixels[y * (uint32_t)imageRect.size.width + x];

        //alpha = 0, red = 1, green = 2, blue = 3.
        piAlpha[y * (uint32_t)imageRect.size.width + x] = piRGBAPixel[1];
    }
}

//Drawing the jpegImage in the pixel buffer.
CGContextDrawImage(context, imageRect, jpegImage.CGImage);

//Setting alpha to the jpegImage
for (uint32_t y = 0; y < imageRect.size.height; y++) 
{
    for (uint32_t x = 0; x < imageRect.size.width; x++)
    {
        uint8_t* piRGBAPixel = (uint8_t*)&piPixels[y * (uint32_t)imageRect.size.width + x];

        float fAlpha0To1 = piAlpha[y * (uint32_t)imageRect.size.width + x] / 255.0f;

        //alpha = 0, red = 1, green = 2, blue = 3.
        piRGBAPixel[0] = piAlpha[y * (uint32_t)imageRect.size.width + x];
        piRGBAPixel[1] *= fAlpha0To1;
        piRGBAPixel[2] *= fAlpha0To1;
        piRGBAPixel[3] *= fAlpha0To1;
    }
}

//Creating image from the pixel buffer
CGImageRef cgImage = CGBitmapContextCreateImage(context);

//Releasing resources
CGContextRelease(context);
CGColorSpaceRelease(colorSpace);
free(piPixels);
free(piAlpha);

//Creating the pngImage to return from the cgImage
UIImage* pngImage = [UIImage imageWithCGImage:cgImage];

//Releasing the cgImage.
CGImageRelease(cgImage);

return pngImage;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:56:49.270

预乘 alpha 颜色空间可以更好地处理颜色溢出。尝试像这样预处理源像素：

```
r = r*a;
g = g*a;
b = b*a; 
```

要获得原始值，您通常会在读取图像后将其反转（将 RGB 值除以`a`if `a`> 0），但由于 iOS 本身以预乘 alpha 颜色工作，您甚至不必这样做。

* * *

也可以试试[PNG8+Alpha](http://pngquant.org)格式，有时可能比单独的 JPG+mask 小。

# jquery - 主复选框以选中/取消选中关联的 DIV

> ID：13119821
> 
> 赞同：1
> 
> 时间：2012-10-29T10:29:40.323
> 
> 标签：jquery, checkbox

我需要帮助来处理某种情况。

我有一种情况，我需要一个主复选框来选中/取消选中所有其他复选框。每个复选框都有一个关联的 .hide 类，因此当我取消选中每个复选框时，这将隐藏每个关联的内容 div。

然后，如果我取消选中其中一个复选框，则必须取消选中主复选框。

我在这里创建了一个我需要的示例 - [https://dl.dropbox.com/u/23044665/teste.html](https://dl.dropbox.com/u/23044665/teste.html)

谁能帮我这个？

非常感谢提前

我的代码是：

**jQuery**

```
$(document).ready(function(){

    $("#overlay-1").change(function() {
        $(".overlay-1").toggleClass("hide", this.unchecked)
    }).change();

    $("#overlay-2").change(function() {
        $(".overlay-2").toggleClass("hide", this.unchecked)
    }).change();

    $("#overlay-3").change(function() {
        $(".overlay-3").toggleClass("hide", this.unchecked)
    }).change();

}); 
```

**CSS**

```
 .hide {display:none;}
   .overlay-1 {background-color:#333; color:#FFF;}
   .overlay-2 {background-color:#666; color:#FFF;}
   .overlay-3 {background-color:#999; color:#FFF;}
   .overlay-1, .overlay-2, .overlay-3 { padding:20px; margin-top:20px;} 
```

**HTML**

```
 <div id="nav">
        <input type="checkbox" class="all" id="all" checked="checked"/> Check/Uncheck all<br />
        <input type="checkbox" name="overlay-1" id="overlay-1" checked="checked"> Overlay 1 <br/>
        <input type="checkbox" name="overlay-2" id="overlay-2" checked="checked"> Overlay 2 <br/>
        <input type="checkbox" name="overlay-3" id="overlay-3" checked="checked"> Overlay 3 <br/>
    </div>

    <div class="overlay-1">Overlay 1 Content</div>
    <div class="overlay-2">Overlay 2 Content</div>
    <div class="overlay-3">Overlay 3 Content</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:44:38.987

尝试这个：

```
 $('input[type="checkbox"]').change(function () {
        if ($(this).attr("id") != "all" && $(this).attr("checked") != "checked") {          
            $("#all").attr("checked", false);
        }           
    });

    $("#all").change(function () {
        var check = $("#all").attr("checked") == "checked" ? true : false;
        $('input[type="checkbox"]').each(function () {
            if ($(this).attr("id") != "all") {                  
                $(this).attr("checked", check);
            }
        });
    }) 
```

要显示所有 div 可能想要使用这种：

```
 $('input[type="checkbox"]').each(function () {
        if ($(this).attr("id") != "all" && $(this).attr("checked") == "checked") {          
            $("." + $(this).attr("id")).show();             
        }           
    }); 
```

在 $(document).ready

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:33:24.020

**试试这个演示** [http://jsfiddle.net/fzMLr/](http://jsfiddle.net/fzMLr/) **或者**你的版本是这样的：http: [//jsfiddle.net/p6hFD/](http://jsfiddle.net/p6hFD/)

更新：http: [//jsfiddle.net/KXcWv/3/](http://jsfiddle.net/KXcWv/3/)

休息应该有帮助`:)`

我在这里的旧回复：[复选框选中所有选项](https://stackoverflow.com/questions/11380555/checkbox-check-all-option)

**代码**

```
$('input[name="hulk"]').click(function(){

          $(this).nextAll('input[name="'+this.name+'Sub"]').prop('checked',this.checked);

});
​ 
```

**样本**

```
 $(document).ready(function() {
    $hulk = $("#overlay-1,#overlay-2,#overlay-3");
    $hulk.change(function() {
        $("." + this.id).toggleClass("hide", !this.checked);
        if ($('.test:checked').length == $hulk.length) 
            $('.all').prop('checked', true);
        else $('.all').prop('checked', false);

    });

    $('.all').click(function() {
        $(this).nextAll('input[type=checkbox]').prop('checked', this.checked);
        $hulk.trigger('change');
    });
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:57:29.237

试试这个**[演示](http://jsfiddle.net/pintu31/fN4Dm/1/)**

```
$("#overlay-1").change(function() {
    $(".overlay-1").toggleClass("hide", this.unchecked)
}).change();

$("#overlay-2").change(function() {
    $(".overlay-2").toggleClass("hide", this.unchecked)
}).change();

$("#overlay-3").change(function() {
    $(".overlay-3").toggleClass("hide", this.unchecked)
}).change();

    $('#all').change(function(){
        $('div[class|="overlay"]').toggleClass("hide");   
        var is_checked = $("#all").attr("checked") == "checked" ? true : false;
        $('input:checkbox').attr("checked", is_checked);                        
    }).change(); 
```

# python - Python - wxGrid.DeleteCols()：分段错误

> ID：13119826
> 
> 赞同：0
> 
> 时间：2012-10-29T10:29:49.717
> 
> 标签：python, wxpython, segmentation-fault

我正在使用 xyPython，特别是`wx.Grid`当我尝试从网格中删除一列时，程序崩溃并且终端显示“分段错误”

```
dataGrid.CreateGrid(30, 20) 
```

...

```
dataGrid.DeleteCols() 
```

这几乎是代码。我可以删除行，但不能删除列。如果我删除删除列行它工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-12T10:47:46.373

[http://www.wxpython.org/docs/api/wx.grid.Grid-class.html](http://www.wxpython.org/docs/api/wx.grid.Grid-class.html)

有参数`DeleteCols(self, pos, numCols, updateLabels)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T17:38:41.527

根据以下线程，您可能必须自己设置列标签，否则可能会出现错误：

[https://groups.google.com/forum/?fromgroups=#!topic/wxpython-users/IpARv4wVoqw](https://groups.google.com/forum/?fromgroups=#!topic/wxpython-users/IpARv4wVoqw)

然后在这个较新的线程中，据说您可能必须调用 IncRef：[https ://groups.google.com/forum/?fromgroups=#!topic/wxpython-users/I1kndNvIEEQ](https://groups.google.com/forum/?fromgroups=#!topic/wxpython-users/I1kndNvIEEQ)

# php - ExpressionEngine no_results 不工作

> ID：13119828
> 
> 赞同：5
> 
> 时间：2012-10-29T10:29:53.347
> 
> 标签：php, codeigniter, expressionengine

嗨，我有以下代码：

```
<div class="row-fluid">
    <div class="span12">
        <h3>Top 10 most popular</h3>
        <ul>
            {exp:channel:entries channel="faqs" dynamic="no" limit="10"}
                <li><a href="{url_title_path='help'}">{title}</a></li>
            {/exp:channel:entries} 
        </ul>

        <h3>Answer to selected question</h3>
        {exp:channel:entries channel="faqs" dynamic="yes" require_entry="yes" limit="1"}
             {if no_results} 
                <p>Click a question above to see the answer here</p>
             {/if}
            {answer}
        {/exp:channel:entries} 
    </div>    
</div> 
```

如您所见，我循环浏览了两次常见问题解答。第一个设置它来获取所有问题，然后如果用户点击一个问题，那么第二个循环应该开始向他们显示答案。除了第二个循环中的 no results 语句不起作用之外，这很好用。它永远不会得到输出。有谁知道为什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T10:34:53.710

你必须添加

```
require_entry="yes" 
```

到你的第二个循环，以便没有结果工作。

请参阅此处的文档[http://expressionengine.com/user_guide/modules/channel/channel_entries.html#require-entry](http://expressionengine.com/user_guide/modules/channel/channel_entries.html#require-entry)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-16T22:01:31.613

由于您在评论中提到您正在使用 Stash，因此以下内容应该可以`no_results`按预期工作。我刚刚对此进行了测试，它对我有用。

在此处下载 Stash 的测试版[https://github.com/croxton/Stash/tree/dev](https://github.com/croxton/Stash/tree/dev)（当前为 v2.3.5）。

请参阅GitHub 页面上关于[no_results_prefix](https://github.com/croxton/Stash/tree/dev#no_results_prefix--string)的文档。

您没有显示包装模板代码的周围 Stash 标记，但假设它是一个`stash:set`标记，请更新您的模板，如下所示：

```
{exp:stash:set name="page_content" no_results_prefix="stash"}
    <div class="row-fluid">
        <div class="span12">

            [...]

            <h3>Answer to selected question</h3>
            {exp:channel:entries channel="faqs" dynamic="yes" require_entry="yes" limit="1"}
                {!-- note prefix, which was defined in outer stash:set tag --}
                {if stash:no_results} 
                    <p>Click a question above to see the answer here</p>
                {/if}
                {answer}
            {/exp:channel:entries} 
        </div>    
    </div>
{/exp:stash:set} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-16T13:51:54.367

我将此作为错误报告给 EllisLab。它绝对不能正常工作。[https://support.ellislab.com/bugs/detail/21106](https://support.ellislab.com/bugs/detail/21106)

# oracle11g - 合并来自不同数据库的 oracle 表，该数据库在使用序列生成的主键上具有连接条件

> ID：13119830
> 
> 赞同：0
> 
> 时间：2012-10-29T10:29:55.850
> 
> 标签：oracle11g

我有一个需要从另一个数据库中的同一个表合并的表。

条件是复合主键中的一列是按顺序生成的，在另一个数据库中可能会有所不同。

在这种情况下，我们如何同步剩余的列？

前任。DB1：表：SRE_SERVICE_OPTION 列：（OPTION_SET_ID，OPTION_NAME，OPTION_VALUE，VALUE_ORDER）

DB2：表：SRE_SERVICE_OPTION 列：（OPTION_SET_ID，OPTION_NAME，OPTION_VALUE，VALUE_ORDER）

主键：OPTION_SET_ID、OPTION_NAME、VALUE_ORDER

我应该如何编写合并语句？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:50:40.867

您在分布式数据库中犯了经典错误。简而言之，通过使用两个单独的序列，您在表中的主键不一致。如果您的表在和上*都是*唯一的`OPTION_NAME`，您将只能使用 MERGE 。`OPTION_VALUE``VALUE_ORDER`

您唯一的另一个希望是您的表不包含它们之间的任何重复信息。如果是这样，您可以简单地从一个插入另一个。

否则，你是，恐怕要倒霉了。我会重新设计您的数据库，这样就不可能将重复的信息发送到两个具有单独、不一致的代理键的不同表中。

# xml - 在网站中插入 Site Catalyst -- 仅使用 XML

> ID：13119831
> 
> 赞同：1
> 
> 时间：2012-10-29T10:29:56.327
> 
> 标签：xml, porting, adobe-analytics

在一个网站中，我需要使用 XML 插入 SiteCatalyst 标记。我不能使用 JavaScript。

任何人都可以帮助我吗？

BR，普拉吉

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-08T07:19:18.670

Adobe 提供了通过数据插入 API 插入数据的可能性。在 Adob​​e Analytics 文档中搜索它。您必须调用 Analytics API 发送通常通过查询字符串参数发送的所有数据，这些数据在对 Adob​​e Server 的 POST 调用中附加到正文。

克劳迪奥。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T19:09:03.837

使用 XSLT 将 XML 转换为带有嵌入代码的 XHTML，如下例所示：

```
<xsl:template name="sitecatalyst">
   <xsl:param name="query"/>
   <xsl:param name="matches"/>
   <xsl:comment>
     SiteCatalyst : Google Mini Search Integration
   </xsl:comment>
   <script language="JavaScript" type="text/javascript" src="INSERT-DOMAIN-AND-PATH-TO-CODE/s_code.js"></script>
   <script language="JavaScript" type="text/javascript">
     <xsl:comment>
     s.eVar1="<xsl:value-of select='$query'/>"
     var s_code=s.t();if(s_code)document.write(s_code)
     </xsl:comment>
   </script>
   <script language="JavaScript" type="text/javascript">
     <xsl:comment>
     if(navigator.appVersion.indexOf('MSIE')>=0)
        document.write("unescape('%3C')+'!-'+'-'")
    </xsl:comment>
  </script>
   <xsl:comment>
     End SiteCatalyst code version: H.16.
   </xsl:comment>
</xsl:template> 
```

并将以下代码放在开始`body`标记中：

```
 <!-- *** Add Omniture SiteCatalyst code *** -->
 <xsl:choose>
   <xsl:when test="RES">
     <xsl:call-template name="sitecatalyst">
       <xsl:with-param name="query" select="Q"/>
     </xsl:call-template>
   </xsl:when>
   <xsl:otherwise>
     <xsl:call-template name="sitecatalyst">
       <xsl:with-param name="query" select="Q"/>
     </xsl:call-template>
   </xsl:otherwise>
 </xsl:choose> 
```

要在服务器端实现 HTTP 请求，需要一种支持 API 的语言，例如无[框架的 MXML](http://kb2.adobe.com/community/publishing/526/cpsid_52670.html)或非[XML 语言](https://github.com/chappy84/google-analytics-server-side)。

# liferay - Liferay Autologin Hook 在 portlet 中生成“您的请求未能完成”

> ID：13119836
> 
> 赞同：2
> 
> 时间：2012-10-29T10:30:21.990
> 
> 标签：liferay, liferay-6

我已经完成了一个自定义的自动登录过滤器，它似乎运行良好，但是当 Liferay 重定向到主页时（一旦用户通过身份验证），登录 portlet 显示一个我无法理解的错误。

错误显示“**您的请求未能完成**”，但用户已成功登录，如果我按 F5 或浏览页面，错误就会消失。

我的 Autologin 类实现是：

```
public String[] login(HttpServletRequest request,
        HttpServletResponse response) throws AutoLoginException {
    String[] credentials = new String[3];

    String p_id = request.getParameter("p_p_id");
    String userName = null;
    String password = null;
    if (p_id != null) {
        userName = request.getParameter("_" + p_id + "_login");
        password = request.getParameter("_" + p_id + "_password");
        //Custom authentication code required [...]
    }
    if (userName != null) {
        // New Login
        try {

            //We log as Test user...just for TEST
            long companyId = PortalUtil.getCompanyId(request);
            User user = UserLocalServiceUtil.getUserByScreenName(companyId, "Test");
            long userId = user.getUserId();
            String userPwd = user.getPassword();

            credentials[0] = Long.toString(userId);
            credentials[1] = userPwd;
            credentials[2] = Boolean.FALSE.toString();

        } catch (Exception e) {
            e.printStackTrace();
            throw new AutoLoginException(e);
        }
    return credentials;

    }
    return credentials;
} 
```

我还实现了一个始终返回 SUCCESS 的自定义身份验证器。

你知道我做错了什么吗？

非常感谢您！

![在此处输入图像描述](../Images/1465b4af5705d3b9e6656c7903922cb9.png)

伊万囟门

# compiler-errors - 如何解决错误：“snprintf”的类型冲突

> ID：13119837
> 
> 赞同：1
> 
> 时间：2012-10-29T10:30:25.323
> 
> 标签：compiler-errors, osx-lion, xcode4.5, llvm-gcc, llvm-clang

在我的应用程序中，我使用**Compiler for C/C++/Objective-C**是用于模拟器的**Apple LLVM 编译器 4.1 。**对于模拟器，这是可行的。当我为设备编译相同的代码时，我将**C/C++/Objective-C 的编译器**更改为**LLVM GCC 4.2。**这次我在 stdio.h “冲突类型”中遇到错误“sprintf”。

我正在使用 Mac OS x 10.7.4 Xcode 4.5(iOS 6)

这在 (Mac OS x 10.7.4 & Xcode 4.2.3(iOS 5)) && (Mac OS x 10.6.8 & Xcode 3.2.3(iOS 4)) 中运行良好。

LLVM 编译器的 iOS 5 和 iOS 6 有什么区别。有人请帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:33:13.583

在 Mac OS X 下编译通用应用程序时，使用数据类型时，我看到此警告`NSInteger`或`NSUInteger`：

```
NSInteger thing = 7;
NSLog(@"Thing is %ld", thing); 
```

这将在 64 位下工作，但在 32 位下会发出警告（提示；iOS 使用 32 位架构）。

`thing`在这种情况下，（丑陋的）解决方案是强制`long`：

```
NSLog(@"Thing is %ld", (long)thing); 
```

这将在任何地方工作。

这比：

```
#ifdef __x86_64
NSLog(@"Thing is %ld", thing);
#else
NSLog(@"Thing is %d", thing);
#endif 
```

# freeswitch - 使用 freeswitch 在注册的 sip 配置文件上拨打电话

> ID：13119840
> 
> 赞同：1
> 
> 时间：2012-10-29T10:30:36.333
> 
> 标签：freeswitch

我有一个使用 freeswitch 设置的 sip 配置文件

```
<include>
 <gateway name="[sipname]">
  <param name="register" value="false"/>
  <param name="username" value="not-used"/>
  <param name="password" value="not-used"/>
  <param name="realm" value="[ip address]"/>
  <param name="proxy" value="[ip address]"/>
 </gateway>
</include> 
```

我是否认为我应该能够拨打电话：

```
originate sofia/external/[phonenumber]@[ip address] '&javascript(/root/voice.js 20)' 
```

因为我不断收到 RECOVERY_ON_TIMER_EXPIRE 并且在我调查所有其他问题之前，我可能想检查一下我到目前为止做得是否正确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-02T21:41:35.477

**拨出网关**

基本形式：

> `*sofia/gateway/<gateway>/<number_to_dial>*`

示例 1：

> `*sofia/gateway/asterlink/18005551212*`

[http://wiki.freeswitch.org/wiki/Mod_sofia#Dial_out_of_a_gateway](http://wiki.freeswitch.org/wiki/Mod_sofia#Dial_out_of_a_gateway)

> `originate sofia/gateway/[sipname]/[phonenumber] &javascript('/root/voice.js 20')`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-04-05T18:45:30.450

谈论 FreeSWITCH 而不是 Asterisk。拨号命令不正确 - 通过网关它应该是：

fs_cli> 发起 sofia/external/[phonenumber]@[gateway name] '&yourscript'

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-09T09:34:56.383

```
originate {ignore_early_media=true,bridge_early_media=false,originate_timeout=24,call_timeout=24,execute_on_answer='sched_hangup 10 alloted_timeout',origination_uuid=f7f927c5-n6wv-a55j-m5cr-37c9-f7f934d95e,origination_caller_id_number=+12121112222}sofia/gateway/asterisk/+14171111111 handle_calls 
```

在这种情况下，星号是我的个人资料`/sip_profiles/external/asterisk.xml`

```
> sofia status gateway asterisk 
=================================================================================================
Name        asterisk
Profile     external
Scheme      Digest
Realm       192.241.203.11:5090
Username    FreeSWITCH
Password    no
From        <sip:FreeSWITCH@192.241.203.21:5090>
Contact     <sip:gw+asterisk@2.67.78.1:5090;transport=udp;gw=asterisk>
Exten       FreeSWITCH
To          sip:FreeSWITCH@192.241.203.11:5090
Proxy       sip:192.241.203.11:5090
Context     public
Expires     3600
Freq        3600
Ping        0
PingFreq    0
PingTime    0.00
PingState   0/0/0
State       NOREG
Status      UP
Uptime      290s
CallsIN     0
CallsOUT    2
FailedCallsIN   0
FailedCallsOUT  0 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-06-17T13:54:12.133

首先运行 fs_cli 和命令“sofia status”以检查网关是否已启动

# c# - 格式化从excel读取的日期中的日期？

> ID：13119847
> 
> 赞同：-1
> 
> 时间：2012-10-29T10:30:49.453
> 
> 标签：c#, asp.net, sql, sql-server

我正在将 excel 表导入到 sql server db 表中，excelsheet 具有：id|data（它是 mm/dd/yyyy 中的日期）我能够将数据上传到 db 表中，但我希望将日期转换为 yyyy/mm /dd 在将其发送到数据库之前。我尝试了一段代码，但没有成功

```
 DataTable dt7 = new DataTable();
        dt7.Load(dr);
        DataRow[] ExcelRows = new DataRow[dt7.Rows.Count];
        // Bulk Copy to SQL Server
        using (SqlBulkCopy bulkCopy = new SqlBulkCopy(sqlConnectionString))
        {
            bulkCopy.DestinationTableName = "ExcelTable";

            dt7.Rows.CopyTo(ExcelRows, 0);

            for (int i = 0; i < ExcelRows.Length; i++)//i represents the row
            {
                var oldDate = ExcelRows[i]["data"].ToString();
                var newDate = Convert.ToDateTime(oldDate);

                ExcelRows[i]["data"] = newDate.ToString("yyyy/MM/dd");
            }

            bulkCopy.WriteToServer(ExcelRows); 
```

错误：字符串未被识别为有效的日期时间。我已经尝试了数据库 nvarchar、varchar、datetime 中的所有 3 种数据类型。同样的错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T11:01:23.633

对于日期列，无法在此处以不同格式设置值 ExcelRows[i]["data"] = newDate.ToString("yyyy/MM/dd"); 如果您想要格式化日期，那么再使用一个字符串列并更新到该列以及您需要保存的相同内容。

# java - 如何判断我们使用的是web1.0还是2.0？

> ID：13119854
> 
> 赞同：1
> 
> 时间：2012-10-29T10:31:01.073
> 
> 标签：java, web

我正在研究一个基于 java-struts 的项目。实在不知道怎么找，是不是关于`web 1.o or 2.0.` 怎么找，哪里可以找版本之类的定义。

请帮忙 。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:35:23.593

你可以去`property`你的项目。`tab`在左侧面板上有一个名为`Project Facets`. 您可以单击它以查看您配置的所有技术及其版本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T10:41:11.193

[维基百科](http://en.wikipedia.org/wiki/Web_2.0)上有一个关于 Web 2.0 的页面。

Web 2.0 实际上只是一个方便的标签，用于以不同的方式思考网络。关键思想是，Web 是构建应用程序的平台，而不仅仅是向最终用户提供内容的一种方式。

它当然不是一套固定的技术，当然也不是您可以检测或测试的东西……或与一组标准进行比较。

# eclipse - 如何通过代码将项目导入 eclispe（无 GUI）

> ID：13119855
> 
> 赞同：0
> 
> 时间：2012-10-29T10:31:04.203
> 
> 标签：eclipse, eclipse-plugin, headless

我刚刚遇到了无头插件的问题。

我需要参考一些现有的 Java 项目来进行 JDT 分析，除了我必须将它们导入（不一定复制）到本地工作区`IWorkspaceRoot.getProject()`才能识别它们。

该项目将是一个文件夹或 .zip 文件。有人有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:32:07.717

您可以`loadProjectDescription`在`IWorkspace`. 这些方面的东西：

```
IWorkspace workspace = ResourcesPlugin.getWorkspace();
final IProjectDescription description = theWorkspace.loadProjectDescription(path);
final IProject project = workspace.getRoot().getProject(description.getName()); 
```

# iphone - 查看未在 UITabBarController 中调用的事件

> ID：13119857
> 
> 赞同：0
> 
> 时间：2012-10-29T10:31:31.950
> 
> 标签：iphone, objective-c, ios, uiview, uitabbarcontroller

我的自定义`UITabBarController`课程有点问题。My`UICustomTabBarController`是`UITabBarController`. 在我的`didSelectItem`事件中，我实现了以下代码：

```
- (void)tabBar:(UITabBar *)tabBar didSelectItem:(UITabBarItem *)item {
    [self showActivityIndicator];
} 
```

在我的`showActivityIndicator`方法中，我在当前视图中添加了一个活动指示器。它工作得很好。现在我想在当前视图消失时删除活动指示器。

**我发现了以下事件：**

```
-(void)viewDidDisappear:(BOOL)animated {
NSLog(@"hello");
}
-(void)viewWillDisappear:(BOOL)animated {
     NSLog(@"hello");
}
-(void)viewWillAppear:(BOOL)animated {
     NSLog(@"hello");
}
-(void)presentViewController:(UIViewController *)viewControllerToPresent animated:(BOOL)flag completion:(void (^)(void))completion  {
    NSLog(@"hello");
} 
```

不幸的是，他们都没有工作。他们没有被召唤。我做错什么了吗？谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:44:17.260

UITabBar 的委托属性是否在 .h 文件中设置？?

IE`<UITabBarDelegate,UITabBarControllerDelegate>`

# xml - 创建调用 Rest-API（google、flickr）并以 XML 响应的服务

> ID：13119858
> 
> 赞同：0
> 
> 时间：2012-10-29T10:31:35.810
> 
> 标签：xml, api, rest, service

我想编写一个可以使用查询术语从任何地方调用的服务。然后，该服务调用 Google API、FlickR API（可能还有更多）以根据查询词查找图像。然后应将找到的图像 (URL) 以 XML 格式返回给调用者。

编写此类服务的最简单/最有效的方法是什么？现在我刚开始，还不知道要使用哪种技术（语言，框架，..）。基本上，我对一切都持开放态度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T11:04:03.490

如果您有很多人访问您的网站，或者会有很多电话，那么请使用 WCF。它会给你很大的灵活性。

但是，如果您的通话受到限制，请使用普通的网络服务。

# c# - AppHarbor MassTransit CloudAMQP 持续消耗 1,9kB/s

> ID：13119860
> 
> 赞同：1
> 
> 时间：2012-10-29T10:31:46.610
> 
> 标签：c#, appharbor, masstransit, consumption, cloudamqp

使其工作后：
[AppHarbor MassTransit CloudAMQP 抛出异常 指定的端点均不可访问](https://stackoverflow.com/questions/13089807/appharbor-masstransit-cloudamqp-throws-exception-none-of-the-specified-endpoints) 现在我在 CloudAMQP 管理中看到我有 2 个连接不断消耗 1,9kB/s 和 1,4kB/s，这将很快耗尽我的 30 Mb

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T11:28:55.977

最新的 MassTransit NuGet 应该可以解决这个问题。Chris 更改了我们的轮询请求，因此数据使用量应该小得多。

[https://twitter.com/phatboyg/status/262752508349403136](https://twitter.com/phatboyg/status/262752508349403136)

如果没有，请通过邮件列表与我们联系。我认为其他一些人也有解决方法。[https://groups.google.com/forum/?fromgroups=#!forum/masstransit-discuss](https://groups.google.com/forum/?fromgroups=#!forum/masstransit-discuss)

# html - GWT SafeHtmlBuilder 如何在 div 中插入 html 代码

> ID：13119861
> 
> 赞同：3
> 
> 时间：2012-10-29T10:31:52.573
> 
> 标签：html, templates, gwt

我不知道我是否试图做一些违背 SafeHtmlBuilder 本质的事情。问题是我想将 html 代码（例如，一个 < a > 标签）放在一个 div 中并使其安全。所以这是我的代码：

```
SafeHtmlBuilder builder = new SafeHtmlBuilder();

builder.append(TEMPLATES.diagramHeader(
    BasicConstants.diagramHeaderId + "description", 
    newBox.getDescription());

newDiv.setInnerHTML(builder.toSafeHtml().asString()); 
```

还有我的模板：

```
@Template("<div id=\"{0}\">{1}</div>") /* Description */
SafeHtml diagramHeader(String idDesc, String description); 
```

当getDescription() 返回一个带有html 代码的字符串（例如，一个<a> 标记）并呈现newDiv 的内容时，我看不到超链接，我看到的是超链接的HTML 代码。

我想看超链接，我该怎么做？（我愿意为此牺牲 HTML 的安全性）。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-29T11:14:21.767

如果`description`模板的参数可以包含标记，那么它应该是类型`SafeHtml`。

然后你会使用[`SafeHtmlUtils.fromTrustedString(newBox.getDescription())`](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/safehtml/shared/SafeHtmlUtils.html#fromTrustedString%28java.lang.String%29)，因为你相信`newBox.getDescription()`是*安全*的。

* * *

作为旁注，我不明白为什么：

1.  你`SafeHtmlBuilder`只使用`append()`一次
2.  您使用`setInnerHTML`而不是`setInnerSafeHtml`（也许您没有使用 GWT 2.5？）

# c# - 无法将“System.Web.HttpInputStream”类型的对象转换为“System.IO.FileStream”MVC 3

> ID：13119863
> 
> 赞同：14
> 
> 时间：2012-10-29T10:31:57.763
> 
> 标签：c#, asp.net-mvc-3

我遇到了一个关于从 HttpInputStream 到 FileStream 的转换类型的问题。

我是怎么做的？

我有一个`HttpPostedFileBase`对象，我想要 FileStream。

我写：

```
public void Test(HttpPostedFileBase postedFile) {
  FileStream fileStream = (FileStream)(postedFile.InputStream); // throw exception

  FileStream anotherFileStream = postedFile.InputStream as FileStream; // null
} 
```

我也试过

```
public void Test(HttpPostedFileBase postedFile) {
  Stream stream = postedFile.InputStream as Stream;

  FileStream myFile = (FileStream)stream;

} 
```

但没有成功。

为什么 at `postedFile.InputStream`come `HttpInputStream`type ？

我该如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-05-24T16:05:56.197

```
public byte[] LoadUploadedFile(HttpPostedFileBase uploadedFile)
{
    var buf = new byte[uploadedFile.InputStream.Length];
    uploadedFile.InputStream.Read(buf, 0, (int)uploadedFile.InputStream.Length);
    return buf;
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-10-29T10:37:19.667

您从 HTTP 调用中获得的流是只读的顺序（不可搜索），并且 FileStream 是可读/写可搜索的。您需要首先将 HTTP 调用中的整个流读入一个字节数组，然后从该数组创建 FileStream。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-02-20T03:44:36.003

我使用了以下内容，它在相同的情况下工作得很好

```
MemoryStream streamIWant = new MemoryStream();
using (Stream mystream = (Stream)AmazonS3Service.GetObjectStream(AWSAlbumBucketName, ObjectId))                                                            
{
    mystream.CopyTo(streamIWant);
}
return streamIWant; 
```

GetObjectStream 返回问题中提到的相同类型的字符串。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-29T10:36:17.373

您可以使用该`.SaveAs`方法保存文件内容。`HttpInputSteam`可能是因为它是通过 http [浏览器] 上传的

```
 postedFile.SaveAs("Full Path to file name"); 
```

你也可以使用`CopyTo`

```
FileStream f = new FileStream(fullPath, FileMode.CreateNew);
postedFile.InputStream.CopyTo(f);
f.Close(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-06-21T12:35:52.200

下面的代码对我有用..

使用 BinaryReader 对象从流中返回一个字节数组，例如：

```
byte[] fileData = null;
using (var binaryReader = new BinaryReader(Request.Files[0].InputStream))
{
    fileData = binaryReader.ReadBytes(Request.Files[0].ContentLength);
} 
```

[如何从 HttpPostedFile 创建字节数组](https://stackoverflow.com/questions/359894/how-to-create-byte-array-from-httppostedfile)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-09-03T07:56:02.457

它会为你工作。IFormFile 文件；

```
 if (file != null)
        {
            byte[]? image = Array.Empty<byte>();
            await using var memoryStream = new MemoryStream();
            await file!.CopyToAsync(memoryStream);
            image = memoryStream.ToArray();
        } 
```

# android - 在不可选择的首选项中启用 ListView 分隔符

> ID：13119866
> 
> 赞同：5
> 
> 时间：2012-10-29T10:32:06.880
> 
> 标签：android

我希望即使在不可选择的项目上也能显示 Preferences ListView 分隔符。

案例1：项目不可选择（我需要的）并且没有分隔符（我不需要）：

```
<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android" >

    <PreferenceCategory
        android:title="@string/storage_usage">

        <Preference
            android:key="pref_available_space"
            android:title="@string/available_space"
            android:selectable="false"
            android:shouldDisableView="false"
            android:enabled="false" />

        <Preference
            android:key="pref_used_by_library"
            android:title="@string/used_by_library"
            android:selectable="false"
            android:shouldDisableView="false"
            android:enabled="false" />

        <Preference
            android:key="pref_available_time"
            android:title="@string/available_time"
            android:selectable="false"
            android:shouldDisableView="false"
            android:enabled="false" />

    </PreferenceCategory>

</PreferenceScreen> 
```

如果您想知道为什么，需要密钥来从代码中设置值。它只显示信息。

[截屏](http://i45.tinypic.com/345g654.png)

案例二：

如果我设置

```
selectable="true" 
```

这些项目是可选择的（我不需要的）并且显示了分隔符（我需要的）。

[截屏](http://i50.tinypic.com/xf8ec.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:59:34.377

为每个首选项设置标签`setTag()`。然后设置点击事件。它会正常工作

# android - 在edittext中设置密码的可见性

> ID：13119868
> 
> 赞同：2
> 
> 时间：2012-10-29T10:32:17.193
> 
> 标签：android

当 inputType 为文本时，此代码是正确的，但我希望密码类型编号相同。单击复选框时，我希望密码可见。

```
checkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
            @Override
            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                if(isChecked) {
                    password.setInputType(InputType.TYPE_TEXT_VARIATION_PASSWORD);
                } else {
                    password.setInputType(129);
                }
            }
        }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:52:56.123

您可以使用：

```
checkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
            @Override
            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                if(isChecked) {
                    password.setInputType(InputType.TYPE_NUMBER_VARIATION_PASSWORD);
                } else {
                    password.setInputType(InputType.TYPE_NUMBER_VARIATION_NORMAL);
                }
            }
        }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-22T10:13:43.683

已添加密码可见性切换功能以支持库版本 24.2.0，使您可以直接从 EditText 切换密码，而无需复选框。

您可以通过首先将支持库版本更新为 24.2.0 然后`numberPassword`在 TextInputEditText 上设置 inputType 来完成这项工作。这适用于输入类型`textPassword`和。`numberPassword``textWebPassword`

以下是如何做到这一点：

```
<android.support.design.widget.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <android.support.design.widget.TextInputEditText
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="@string/password"
            android:inputType="numberPassword"/>
</android.support.design.widget.TextInputLayout> 
```

[您可以在TextInputLayout](https://developer.android.com/reference/android/support/design/widget/TextInputLayout.html)的开发人员文档中获得有关新功能的更多信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:47:18.810

对于数字使用：

```
checkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
        @Override
        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
            if(isChecked) {
                password.setInputType(InputType.TYPE_NUMBER_VARIATION_PASSWORD);
            } else {
                password.setInputType(InputType.TYPE_NUMBER_FLAG_SIGNED);
            }
        }
    }); 
```

# jquery - 简单的 Jquery 在 Firefox 16.0.2 中不起作用

> ID：13119873
> 
> 赞同：1
> 
> 时间：2012-10-29T10:32:29.453
> 
> 标签：jquery, firefox

> **可能重复：**
> [Firefox 不会触发 $(document).ready(function() {](https://stackoverflow.com/questions/3327150/firefox-doesnt-fire-document-readyfunction)

下面的代码在我使用 Firefox 时没有提示消息框，并且我用 IE 和 Chrome 测试了下面的代码，它确实提示了消息框。有人经历过吗？

```
<html>
<head>
<title></title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/jscript" ></script>
<script type="text/jscript">
    $(document).ready(function () {
        alert('test');  
})       
</script>

</head>
<body>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:35:48.773

删除属性 : `type="text/jscript"`或将其替换为`text/javascript`，看看是否有效

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-29T10:36:05.943

错误在这里：

```
<script type="text/jscript"> 
```

它应该是这样的：

```
<script type="text/javascript"> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-29T10:40:13.967

将两个脚本标记的类型属性更改为`type="text/javascript"`而不是`type="text/jscript"`

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" 
        type="text/javascript" ></script>
<script type="text/javascript">
    $(document).ready(function () {
        alert('test');  
    });       
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-29T10:37:59.137

type="text/jscript" 可能是问题所在。如果您将其更改为 type="text/javascript" 它似乎确实有效。

# jms - 将消息从死信队列重新传递到失败端点

> ID：13119876
> 
> 赞同：2
> 
> 时间：2012-10-29T10:32:46.407
> 
> 标签：jms, activemq, message-queue, apache-camel

我有一条骆驼路线，例如：

```
<route errorHandlerRef="myDeadLetterErrorHandler">
    <from uri="activemq:queue:source"/>
    <to uri="activemq:queue:destA">
    <to uri="activemq:queue:destB">
    <to uri="activemq:queue:destC">
</route> 
```

当一个端点失败时，我设置了 redeliveryPolicy 以重试发送消息几次，如果它总是失败，则将消息重新传递到 DeadLetter 队列。

现在我正在寻找一种将消息从死信队列发送到失败端点的方法。有人有什么建议吗？

我正在考虑构建一个处理器来提取故障端点的信息，如下所示：

```
String lastEndpointUri = exchange.getProperty(Exchange.TO_ENDPOINT, String.class); 
```

然后构建某种动态路由......没有更简单的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:58:26.943

如果你相信你可以简单地重新发送消息，它会在以后工作，然后增加重新发送计数。

否则，您可能需要一个更复杂的解决方案，因为您可能会对消息进行一些更改以使其通过。也就是说，回答“为什么失败”的问题。在许多情况下，您需要人工查看消息/错误以确定是否可以完成某些操作。你需要什么逻辑很大程度上取决于你已经实现了什么。

对于暂时性错误（网络故障，数据库关闭问题，磁盘已满..等），只需按照您所说的重新发送，对于应用程序错误，您需要三思而后行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T18:13:30.753

另一种选择是只处理 Camel 中的错误，而不是依赖 DLQ 重新传递逻辑。这使您可以更好地控制特定的错误场景，并可以根据需要对它们进行分类/重试。

像这样的东西......有关更多详细信息，请参阅[民意调查消费者](http://camel.apache.org/polling-consumer.html)

```
//main route to process message from a queue (needs to be fast)
from("activemq:queue:mainQ").process(...);

//handle any errors by simply moving them to an error queue (for retry later)
onException(Exception.class)
    .handled(true).to("activemq:queue:mainErrorQ");

//retry the error queue
from("timer://retryTimer?fixedRate=true&period=60000")
    .bean(myBean, "retryErrors"); 

...

public void retryErrors() {
    // loop to empty queue
    while (true) {
        // receive the message from the queue, wait at most 3 sec
        Exchange msg = consumer.receive("activemq:queue.mainErrorQ", 3000);
        if (msg == null) {
            // no more messages in queue
            break;
        }

        // send it to the starting queue
        producer.send("activemq:queue.mainQ", msg);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T18:49:44.983

感谢大家的回答，我很快解决了将端点放在单独的路由中并为每个人设置相同的 redeliveryPolicy 的问题。

```
 <route>
        <from uri="activemq:queue:source"/>
        <to uri="activemq:queue:destA1">
        <to uri="activemq:queue:destB1">
        <to uri="activemq:queue:destC1">
    </route>

<route errorHandlerRef="myDeadLetterErrorHandler">
    <from uri="activemq:queue:destA1"/>
    <to uri="activemq:queue:destA">
</route>

<route errorHandlerRef="myDeadLetterErrorHandler">
    <from uri="activemq:queue:destB1"/>
    <to uri="activemq:queue:destB">
</route>

... 
```

通过这种方式，消息将始终传递到每个端点，如果一个端点失败并且当失败端点返回时，消息将被重新传递。

我认为boday提出的解决方案是正确的，将来我可能会尝试那个解决方案。我还发现，如果总消息顺序不重要，我们还可以使用**“代理重新传递”**，它使用特殊队列重新传递每条消息。 [http://activemq.apache.org/message-redelivery-and-dlq-handling.html](http://activemq.apache.org/message-redelivery-and-dlq-handling.html)

# android - 带有 WebView 的 TabView

> ID：13119878
> 
> 赞同：0
> 
> 时间：2012-10-29T10:32:47.813
> 
> 标签：android, webview, tabview

我在一个页面中有 3 个选项卡，每个选项卡都有一个活动正在调用，但是当我们调用活动 Web 视图时，我的选项卡消失了，整个页面仅由 Web 视图拍摄，请告诉我如何使用 Web 视图显示选项卡视图是我的第三个选项卡。当我使用返回键返回选项卡视图时，它只显示黑屏..

MainActivity.java

```
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    TabHost tabHost=getTabHost();
    // no need to call TabHost.Setup()       
    //First Tab
    TabSpec spec1=tabHost.newTabSpec("Tab 1");
    spec1.setIndicator("Registration",getResources().
    getDrawable(R.drawable.ic_launcher));
    Intent in1=new Intent(this,RegistrationActivity.class);
    spec1.setContent(in1);

    TabSpec spec2=tabHost.newTabSpec("Tab 2");
    spec2.setIndicator("Login",getResources().
    getDrawable(R.drawable.ic_launcher));
    Intent in2=new Intent(this,LoginActivity.class);
    spec2.setContent(in2);

    TabSpec spec3=tabHost.newTabSpec("Tab 2");
    spec3.setIndicator("WebView",getResources().
    getDrawable(R.drawable.ic_launcher));
    Intent in3=new Intent(this,WebViewActivity.class);
    spec3.setContent(in3);

    tabHost.addTab(spec1);
    tabHost.addTab(spec2);
    tabHost.addTab(spec3);
} 
```

网络视图活动

```
super.onCreate(savedInstanceState);
setContentView(R.layout.webview);

webView = (WebView) findViewById(R.id.webView1);
webView.getSettings().setJavaScriptEnabled(true);
webView.loadUrl("http://www.google.com");
webView.getParent(); 
```

主选项卡 xml

```
<?xml version="1.0" encoding="utf-8"?>

<TabHost android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:id="@android:id/tabhost"
    xmlns:android="http://schemas.android.com/apk/res/android">

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical">

        <ScrollView 
            android:layout_width="fill_parent"
            android:layout_height="0dip"
            android:layout_weight="90"> 

            <FrameLayout
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:id="@android:id/tabcontent" />

        </ScrollView> 

        <TabWidget
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:id="@android:id/tabs"/>

    </LinearLayout>
</TabHost> 
```

网页视图xml

```
<WebView
    android:id="@+id/webView1"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" /> 
```

# wpf - 使用自定义模板创建可重用的用户控件

> ID：13119879
> 
> 赞同：0
> 
> 时间：2012-10-29T10:32:48.370
> 
> 标签：wpf, templates

我做了一个用户控件，在我的控件中我有“Title”，图形上“Title”是一个TextBlock，但我希望那些使用mon control的人可以选择更改它，所以，第一个想法是创建一个属性从“DataTemplate”继承的“TitleTemplate”，我只是遵循 wpf 逻辑，但我找不到任何可以帮助我的教程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:49:38.263

我认为，您应该阅读有关*TemplateBinding*和*ContentPresenter*的更多信息。我建议你阅读这篇文章：

> [使用模板自定义 WPF 控件](http://msdn.microsoft.com/en-us/magazine/cc163497.aspx) 和 [Dr.WPF](http://drwpf.com/blog/category/control-templates/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T11:43:03.107

经过一番研究，我得出结论，最好的方法是创建一个**CustomControl**，而不是一个**UserControl**，因为我的控件不是其他控件的组合，我希望能有所帮助。

# vhdl - 非法重新声明作为 xilinx 中 IP 核的模块

> ID：13119880
> 
> 赞同：0
> 
> 时间：2012-10-29T10:32:48.650
> 
> 标签：vhdl, verilog, xilinx

我在 Xilinx 中准备了一个名为 Cache(Block Memory Generator) 的 IP 核。当我在我的模块中实例化它并合成它时，我收到一条错误消息`Illegal Re-declaration of module<Cache>`。由于它是 xilinx 的知识产权，因此无法更改其名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-05T15:35:14.560

这是您的 C 代码中的错误。`Cache`您使用以前使用过的名为“”的模块名称。

也许模块名称由 xilinx 在标准模块中使用，或者由您使用。也许您不止一次包含“ `Cache.h`”文件。

检查您的代码中是否有如下所示的行：

```
include "Cache.h" 
```

如果您发现不止一行，请尝试将其中一行注释掉并尝试重新编译您的项目。

# rspec - 如何在 Cloud9 上执行 RSpec

> ID：13119884
> 
> 赞同：3
> 
> 时间：2012-10-29T10:32:55.580
> 
> 标签：rspec, cloud9-ide

每次我尝试运行`rake spec`或`bundle exec rspec spec`出现 `Permission denied - bind(2)`错误时。痕迹：

```
/opt/rh/ruby193/root/usr/bin/ruby -S rspec ./spec/requests/user_pages_spec.rb ./spec/requests/static_pages_spec.rb ./spec/models/user_spec.rb 
/opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:861:in `initialize': Permission denied - bind(2) (Errno::EACCES) 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:861:in `open' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:861:in `open_server' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:759:in `block in open_server' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:757:in `each' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:757:in `open_server' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:1342:in `initialize' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:1624:in `new' 
from /opt/rh/ruby193/root/usr/share/ruby/drb/drb.rb:1624:in `start_service' 
from /var/lib/stickshift/32aa546379f04c6dadc139307dce80f1/app-root/data/lib/ruby/gems/gems/rspec-core-2.11.1/lib/rspec/core/drb_command_line.rb:17:in `run' 
from /var/lib/stickshift/32aa546379f04c6dadc139307dce80f1/app-root/data/lib/ruby/gems/gems/rspec-core-2.11.1/lib/rspec/core/runner.rb:63:in `run' 
from /var/lib/stickshift/32aa546379f04c6dadc139307dce80f1/app-root/data/lib/ruby/gems/gems/rspec-core-2.11.1/lib/rspec/core/runner.rb:8:in `block in autorun' 
rake aborted! 
/opt/rh/ruby193/root/usr/bin/ruby -S rspec ./spec/requests/user_pages_spec.rb ./spec/requests/static_pages_spec.rb ./spec/models/user_spec.rb failed 

Tasks: TOP => spec 
```

cloud9 是否支持规范？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T22:41:16.737

我能够在 cloud9 上运行 mini-test、test::unit 和 rspec 测试。我认为您遇到的错误是由于 spork 或尝试使用 drb （带有警卫或其他东西）

我试图让它也能正常工作，但我无法让 spork 绑定到 $PORT，而且似乎不允许您绑定到任何其他端口。

我也无法让警卫正常工作。它会看到文件已更改，但在运行规范时，我收到有关未知开关 -f -r -out 的错误。对此的研究指向捆绑器，并且可能需要在将命令发送到系统之前将它们用引号括起来。（也许）

如果你摆脱了任何与 drb 或 spork 相关的东西，我敢打赌你的测试会奏效。

# c# - SqlCeEngine 数据类型

> ID：13119891
> 
> 赞同：0
> 
> 时间：2012-10-29T10:33:22.860
> 
> 标签：c#, sql-server-ce

我想在数据库中创建日期类型列的表。但是我在SqlCeEngine 中找不到日期类型的名称。

我使用这段代码：

```
SqlCeConnection connection = new SqlCeConnection(conString);
connection.Open();
cmd.CommandText = "CREATE TABLE Licenses (id int IDENTITY PRIMARY KEY, start_date DATE_TYPE_HERE, end_date DATE_TYPE_HERE)";
cmd.ExecuteNonQuery();
connection.Close(); 
```

PS“日期”不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:35:32.863

SQL CE 中只有一种日期类型，它是`datetime`.

请参阅[SQL Server CE 中支持的数据类型](http://msdn.microsoft.com/en-us/library/aa275635%28v=sql.80%29.aspx)。

# ios - AVPlayerItem 奇怪的缓冲区观察者

> ID：13119894
> 
> 赞同：3
> 
> 时间：2012-10-29T10:33:41.823
> 
> 标签：ios, avfoundation, avplayer

我正在使用 AVPlayer 播放流式网络音频。我在这篇文章中观察了流媒体项目的状态：

[ios avplayer 触发流式传输超出缓冲区](https://stackoverflow.com/questions/6880817/ios-avplayer-trigger-streaming-is-out-of-buffer)

工作似乎很好，但我遇到了一个奇怪的问题。我在键“playbackBufferEmpty”之前遇到键“playbackLikelyToKeepUp”。我放了一个日志

> NSLog(@"___path: %@", 路径)

在函数的第一行

> 观察ValueForKeyPath.....

我收到的日志是：

```
...
2012-10-29 17:24:35.412 NhacSo[236:907] ___path: rate
2012-10-29 17:24:35.413 NhacSo[236:907] ___path: playbackLikelyToKeepUp
2012-10-29 17:24:35.415 NhacSo[236:907] ___path: playbackBufferEmpty
2012-10-29 17:24:35.416 NhacSo[236:907] ___path: rate
... 
```

你知道为什么我在“playbackBufferEmpty”之前收到“playbackLikelyToKeepUp”吗？谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T22:01:31.527

您首先收到playbackLikelyToKeepUp，因为该属性首先更改。我认为让您感到困惑的是，它从“是”变为“否”，而不是相反 - 也就是说，播放将不再能够跟上。

# security - 尝试使用 Actionscript Flex 在 Adob e Air 移动应用程序上发出 Https 请求

> ID：13119895
> 
> 赞同：1
> 
> 时间：2012-10-29T10:33:41.697
> 
> 标签：security, mobile, air, https, adobe

我尝试从移动 iOs 设备发出 https 请求。这不起作用。在 flashbuilder 模拟器（在 Mac 上）中，我必须接受自签名证书，但它工作正常。在移动设备上，我有

> 错误 2032

我在应用程序的 Web 迁移版本上也遇到了同样的问题。我在服务器根目录上添加了 crossdomain.xml：

```
site-control permitted-cross-domain-policies="master-only"
allow-access-from domain="*" secure="false" 
```

在项目中，我使用 mx.rpc.http.HTTPService 类。我试图更改目标类型但没有效果：

```
useProxy = true;
destination = 'DefaultHTTPS'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:05:33.033

我也遇到过同样的问题，之前也问过这个问题：

[来自 Air 应用程序的 iPad 上的 https 问题](https://stackoverflow.com/questions/10249793/problems-with-https-on-ipad-from-air-app)

不幸的是，这是不可能的。移动设备的 Air 套接字实现落后于桌面环境的实现，并且不支持 SSL。此时，您最好的选择是使用 ANE。

# java - 跳过 XML 中的 java 扩展，当它不可用时

> ID：13119896
> 
> 赞同：0
> 
> 时间：2012-10-29T10:33:46.140
> 
> 标签：java, xslt, saxon

我创建了 Java 扩展

```
xmlns:convert="java:com.package.GreateClass" 
```

这项工作，当*com.package.GreateClass*位于带有 XML 处理器的某个类路径中时。在其他情况下，我在扩展运行行中出现编译错误。*当com.package.GreateClass*不在带有 xml 处理器的类路径中时，我可以运行 XSL 转换并跳过运行吗？

PS 我使用 Saxon 9.1 XML 处理器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T12:57:47.453

尝试

```
use-when="function-available('java:com.package.GreateClass')" 
```

use-when 在 XSLT 中进行条件编译，如果在编译时条件为假，则忽略代码。

# vsto - 如何将单个自定义样式添加到功能区中的新 Word 选项卡

> ID：13119898
> 
> 赞同：1
> 
> 时间：2012-10-29T10:33:56.677
> 
> 标签：vsto

我们在 Word 2010 中创建了自定义样式，现在想要将其中一些作为按钮添加到功能区中的自定义选项卡中。

使用 Microsoft Office 的自定义 UI 编辑器，我使用 idMSO 值添加了新选项卡和放置按钮，但看不到添加我们创建的单个自定义样式的任何方式，因为我看不到任何引用其唯一控件名称的方式。

我这样做是否正确（使用 xml 中的选项卡创建 .dotm 文件）以及如何为单个样式添加按钮而不是样式下拉菜单。

谢谢

# cassandra - 将一个 02 Cassandra DB 配置为另一个的副本

> ID：13119900
> 
> 赞同：0
> 
> 时间：2012-10-29T10:34:01.960
> 
> 标签：cassandra

我有 02 cassandra db，是否可以将一个 db 配置为另一个 db 的副本？我加入了他们，这就是它所说的：

```
Note: Ownership information does not include topology, please specify a keyspace. 
Address         DC          Rack        Status State   Load            Owns                Token                                       
                                                                                           1                                           
127.0.0.1       datacenter1 rack1       Up     Normal  51.9 KB         100.00%             0                                           
127.0.0.2       datacenter1 rack1       Up     Normal  51.9 KB         0.00%               1 
```

当我在 127.0.0.1 中创建一些数据时，在 127.0.0.2 中没有更新数据，我是不是在这里误会了什么:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-19T21:18:02.840

我明白你在问什么，你想用这个设置实现什么？

我建议您调查此设置，我认为这可能符合您的目的。设置具有两个数据中心的 cassandra 集群，复制因子为 {DC1:1 和 DC2:1}，复制策略为“NetworkTopologyStrategy”。

这将相当于只运行一个镜像 cassandra db 更好。如果您的任何 DC 本身发生故障，那么使用数据库的应用程序将不会受到影响并且不会出现停机，因为它仍然可以访问来自其他 DC 的数据。

切坦

# css - 预加载 CSS 精灵

> ID：13119902
> 
> 赞同：0
> 
> 时间：2012-10-29T10:34:23.243
> 
> 标签：css, ruby-on-rails, css-sprites

我有一个 css 文件，其中包含对 chess.svg 的以下引用。有没有一种简单的方法可以让 chess.svg sprite 和其他 css 图像开始下载，而无需先等待整个 css 文件下载？如果重要的话，我正在使用 Ruby on Rails。

```
.piece {
  background-image: image-url('chess.svg');
  background-repeat: no-repeat;
  background-size: 384px 128px;
  width: 64px;
  height: 64px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T12:06:13.107

从来没有想过，但是如何制作一个只有精灵的非常小的 css 文件，并将其加载到主 application.css 之外呢？

```
<%= stylesheet_link_tag "preload", media: "screen" %>
<%= stylesheet_link_tag "application", media: "all" %> 
```

这样，您就可以在加载第一个 CSS 之后立即加载浏览器的图像，并且在第二个 CSS 中使用相同的精灵。

为了使这项工作，您不要`preload`在主 application.css 中包含该文件，因此请删除任何

```
*= require_tree . 
```

也从中...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T07:48:47.017

我通过添加引用的隐藏图像解决了我的问题`chess.svg`

# javascript - Visual Studio 2012 中的 TypeScript 构建

> ID：13119903
> 
> 赞同：0
> 
> 时间：2012-10-29T10:34:25.673
> 
> 标签：javascript, html, visual-studio-2012, typescript

我刚刚在 Visual Studio 2012 中构建了我的 typescript，第一天，在我构建了 .ts 文件之后，根据我制作的 typescript .ts 文件修改/调整了 .js 文件。

奇怪的是第二天打开项目，修改了.ts文件中的很多代码，编译后.js文件没有更新也没有修改，更糟糕的是出现如下错误：

1.  权限被拒绝执行文件

2.  命令 .... 以代码 1 退出

在构建输出中的错误：

> ------ 重建所有开始：项目：HTML5Viewer，配置：释放任何 CPU ------ 1> 无法写入文件 'C:/DevProject/PADS 4.x/Release 2/Source/PADS HTML5/PADS HTML5 Viewer/HTML5Viewer/methods.js' 1>EXEC : tsc.js(21005, 21) Microsoft JScript 运行时错误：Permission denied 1>C:\DevProject\PADS 4.x\Release 2\Source\PADS HTML5 \PADS HTML5 Viewer\HTML5Viewer\HTML5Viewer.csproj(73,5): 错误 MSB3073: 命令 ""C:\Program Files (x86)\Microsoft SDKs\TypeScript\0.8.0.0\tsc" "C:\DevProject\PADS 4.x\Release 2\Source\PADS HTML5\PADS HTML5 Viewer\HTML5Viewer\Viewer.ts" "C:\DevProject\PADS 4.x\Release 2\Source\PADS HTML5\PADS HTML5 Viewer\HTML5Viewer\methods.ts " "C:\DevProject\PADS 4.x\Release 2\Source\PADS HTML5\PADS HTML5 Viewer\HTML5Viewer\app.ts""以代码 1 退出。 ========== 全部重建：0 成功，1 失败，0 跳过 ==========

有什么解决办法吗？

我可以创建一个新项目并将所有 .ts 文件移动到新项目中，但这会很痛苦

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:44:05.853

我不知道您使用的是什么源代码控制系统，但是如果您已签入`.js`文件并且构建过程无法将其签出以进行更改，这将导致错误，例如您所拥有的错误。

您可以完全从源代码控制中排除该文件，也可以让您的构建过程签出该文件以对其进行编辑。

# java - 在使用 JavaCompiler 从另一个应用程序中编译类文件之后，我该如何运行它？

> ID：13119904
> 
> 赞同：0
> 
> 时间：2012-10-29T10:34:26.890
> 
> 标签：java, compilation

我目前有这个代码：

```
private void compile(){ 

        List<File> files = getListOfJavaFiles();

        //JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
        //compiler.run(null, null, null, srcDirectory.getPath()+"/Main.java");

        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
           StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, null);

           Iterable<? extends JavaFileObject> compilationUnits1 =
               fileManager.getJavaFileObjectsFromFiles(files);

           List<String> optionList = new ArrayList<String>();
           // set compiler's classpath to be same as the runtime's
           optionList.addAll(Arrays.asList("-classpath",System.getProperty("java.class.path")));

           //need to add options here.
           compiler.getTask(null, fileManager, null, optionList, null, compilationUnits1).call();

           //compiler.run(null, null, null, srcDirectory.getPath()+"/Main.java");
          // fileManager.close();

    } 
```

但是我现在被困住了，试图让它真正运行已编译的文件。我在控制台中没有看到任何输出，但是在我成功编译的 Main.java 文件中（我可以看到 .class 文件），我输入了 "System.out.println("Main class is running"); ，所以我希望在运行应用程序时看到这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:48:29.570

您可以创建一个 URLClassLoader 来加载新编译的类，或者您可以查看我编写的库，它将在内存中编译并默认加载到当前的类加载器中。

[http://vanillajava.blogspot.co.uk/2010/11/more-uses-for-dynamic-code-in-java.html](http://vanillajava.blogspot.co.uk/2010/11/more-uses-for-dynamic-code-in-java.html)

如果您生成了代码，它会在调试时将文件保存到源目录，以便您可以单步执行生成的代码（否则它会在内存中执行所有操作）

这种方式你只能加载一个类，所以如果你需要加载多个版本，我建议你实现一个接口并每次更改类的名称。

```
// this writes the file to disk only when debugging is enabled.
CachedCompiler cc = CompilerUtils.DEBUGGING ?
        new CachedCompiler(new File(parent, "src/test/java"), new File(parent, "target/compiled")) :
        CompilerUtils.CACHED_COMPILER;

String text = "generated test " + new Date();
Class fooBarTeeClass = cc.loadFromJava("eg.FooBarTee", "package eg;\n" +
    '\n' +
    "import eg.components.BarImpl;\n" +
    "import eg.components.TeeImpl;\n" +
    "import eg.components.Foo;\n" +
    '\n' +
    "public class FooBarTee{\n" +
    "    public final String name;\n" +
    "    public final TeeImpl tee;\n" +
    "    public final BarImpl bar;\n" +
    "    public final BarImpl copy;\n" +
    "    public final Foo foo;\n" +
    '\n' +
    "    public FooBarTee(String name) {\n" +
    "        // when viewing this file, ensure it is synchronised with the copy on disk.\n" +
    "        System.out.println(\"" + text + "\");\n" +
    "        this.name = name;\n" +
    '\n' +
    "        tee = new TeeImpl(\"test\");\n" +
    '\n' +
    "        bar = new BarImpl(tee, 55);\n" +
    '\n' +
    "        copy = new BarImpl(tee, 555);\n" +
    '\n' +
    "        // you should see the current date here after synchronisation.\n" +
    "        foo = new Foo(bar, copy, \"" + text + "\", 5);\n" +
    "    }\n" +
    '\n' +
    "    public void start() {\n" +
    "    }\n" +
    '\n' +
    "    public void stop() {\n" +
    "    }\n" +
    '\n' +
    "    public void close() {\n" +
    "        stop();\n" +
    '\n' +
    "    }\n" +
    "}\n");

// add a debug break point here and step into this method.
FooBarTee fooBarTee = new FooBarTee("test foo bar tee");
Foo foo = fooBarTee.foo;
assertNotNull(foo);
assertEquals(text, foo.s); 
```

# css - 关闭 Twitter Bootstrap 导航栏转换动画

> ID：13119906
> 
> 赞同：37
> 
> 时间：2012-10-29T10:34:41.980
> 
> 标签：css, twitter-bootstrap, css-transitions

就像[http://twitter.github.com/bootstrap](http://twitter.github.com/bootstrap)一样，

我现在工作的网站是响应式的。

我想删除**过渡动画**

当我单击折叠的导航栏菜单按钮时。

* * *

![在此处输入图像描述](../Images/800ea183fcc7bb150311fad05c57430f.png)

上图是我要问的截图。

在**TOP-RIGHT-CORNER**，有一个三行菜单按钮。

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2012-12-11T22:58:46.840

Bootstrap 完成响应式导航栏的过渡动画的方式与折叠的方式相同，即使用 CSS3 过渡。要仅关闭导航栏的转换（保留任何其他转换），您只需覆盖 CSS。

我建议`no-transition`在可折叠容器中添加一个类，例如（但名称可以是任意的）

```
<div class="nav-collapse no-transition"> 
```

然后定义一个 CSS 规则，该规则将禁用 Bootstrap 定义的 CSS3 转换（确保您的 CSS 规则在 bootstrap.css*之后*解析）：

```
.no-transition {
  -webkit-transition: height 0;
  -moz-transition: height 0;
  -ms-transition: height 0;
  -o-transition: height 0;
  transition: height 0;
} 
```

**但是，不要停在那里！**Bootstrap 的 JavaScript 是硬编码的，假设如果浏览器支持转换，就会发生转换。如果您只是进行上述更改，您会发现可折叠对象在一个打开/关闭周期后“锁定”，因为它仍在等待浏览器的转换结束事件触发。有两种不太理想的方法可以解决这个问题：

**第一个选项：**破解 bootstrap-collapse.js 以不等待转换结束事件。乱用 Bootstrap 从来都不是一个好主意，因为它会让未来的更新对你来说很痛苦。这种特殊的解决方法也需要类似地应用于您希望向其传递`no-transition`类的任何其他 Bootstrap JavaScript 组件。

[引导-collapse.js](https://github.com/twitter/bootstrap/blob/v2.3.2/js/bootstrap-collapse.js#L107)：107

```
 this.$element.hasClass('no-transition') || (this.transitioning = 1); 
```

**第二，推荐选项：**使用超短过渡时间而不是禁用过渡。这并没有完全消除您所要求的过渡动画，但它实现了类似的结果，并且可能对您的低功耗移动设备的性能没有明显的负面影响。这种方法的好处是您不必破解任何 Bootstrap JS 文件，*并且*可以应用于`no-transition`任何元素，而不仅仅是崩溃！

```
.no-transition {
  -webkit-transition: height 0.01s;
  -moz-transition: height 0.01s;
  -ms-transition: height 0.01s;
  -o-transition: height 0.01s;
  transition: height 0.01s;
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-11-19T19:52:29.517

Bootstrap 在动画过程中添加了折叠类，所以它必须被覆盖。

```
.navbar-collapse.collapsing {
  -webkit-transition: height 0.01s;
  -moz-transition: height 0.01s;
  -ms-transition: height 0.01s;
  -o-transition: height 0.01s;
  transition: height 0.01s;

} 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-05-02T22:07:12.540

使用 jQuery 禁用动画的一种[简单的非 CSS 方法](https://github.com/twbs/bootstrap/pull/16157)是：

```
$.support.transition = false 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2015-10-18T06:27:28.957

在调用 bootstrap.css 后将其添加到自定义 css 文件中

```
.collapsing {
  -webkit-transition: height 0.01s;
  -moz-transition: height 0.01s;
  -ms-transition: height 0.01s;
  -o-transition: height 0.01s;
  transition: height 0.01s;

} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-04-10T11:36:51.117

当然，即使在很短的时间内转换高度仍然会触发绘制，因此浏览器必须做一些工作，很可能会将帧速率降低到 30 左右。编辑引导文件也不理想，因为增加了更新的复杂性。

如果这仍然是您想对您的网站做的事情，那么好消息是当前的引导程序版本似乎不再具有导航栏的转换。[http://getbootstrap.com/components/#navbar](http://getbootstrap.com/components/#navbar)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-29T17:26:50.297

通过下面的代码，您将获得默认打开的导航栏。`container`诀窍是用 class和`nav-collapse`to设置 div 的高度`auto`。如果您还希望三行菜单按钮完全处于非活动状态`data-toggle="collapse"`，请从下面的代码中删除。

```
 <div class="navbar">
    <div class="navbar-inner">
    <div class="container" style="height:auto">

    <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">

    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    </a>

    <!-- Be sure to leave the brand out there if you want it shown -->
    <a class="brand" href="#">Project name</a>

    <!-- Everything you want hidden at 940px or less, place within here -->
    <div class="nav-collapse" style="height:auto">
    <!-- .nav, .navbar-search, .navbar-form, etc -->
<ul class="nav">
<li><a href="#">Link 1</a></li>   
 <li><a href="#">Link 2</a></li>
<li><a href="#">Link 3</a></li>
    </ul>
    </div>

    </div>
    </div>
    </div> 
```

# android - 在Horizo ntalScrollView中检测LinearLayout的选中项

> ID：13119911
> 
> 赞同：0
> 
> 时间：2012-10-29T10:35:02.010
> 
> 标签：android, textview, android-linearlayout, android-alertdialog, horizontalscrollview

我在 Horizo​​ntalScrollView 中有 LinearLayout，它是水平可滚动的。

```
 <HorizontalScrollView
android:id="@+id/scrollMessageFiles"
android:layout_width="fill_parent"
android:layout_height="65dp"
android:layout_below="@+id/editMessage"
android:orientation="horizontal"
android:weightSum="1.0" >
        <LinearLayout
    android:id="@+id/panelMessageFiles"
    android:orientation="horizontal"
    android:layout_width="wrap_content"
    android:layout_height="match_parent"
    android:background="#FFFFFF"
    >

        </LinearLayout>

        </HorizontalScrollView> 
```

我接下来以编程方式将 TextView 添加到我的 LinearLayout 和 ScrollView 中：

```
public void addFiles()
 {

    if(!FileManagerActivity.getFinalAttachFiles().isEmpty())
    {
             for (File file: FileManagerActivity.getFinalAttachFiles())
              {
                    View line = new View(this);
                    line.setLayoutParams(new LayoutParams(1, LayoutParams.MATCH_PARENT));
                    line.setBackgroundColor(0xAA345556);
                    informationView = new TextView(this);
                    informationView.setId(102);
                    informationView.setTextColor(Color.BLACK);
                    informationView.setTextSize(12);
                    informationView.setCompoundDrawablesWithIntrinsicBounds(
                            0, R.drawable.file_icon, 0, 0);
                    informationView.setText(file.getName().toString());
                    layout.addView(informationView, 0);
                    layout.addView(line, 1);

              }

      }

} 
```

它工作正常。我想检测在Horizo​​ntalScrollView 中选择了LinearLayout 的哪个项目。我下一个方法：

```
layout.setOnLongClickListener(new View.OnLongClickListener() {

        public boolean onLongClick(View v) {
            final CharSequence[] items = {"Open", "Delete", "Details"};

            final AlertDialog.Builder builder = new AlertDialog.Builder(NewMessageActivity.this);
            int childCount = layout.getChildCount()/2;

            for (int i = 0; i < childCount; i++) 
            {
                final View child = layout.getChildAt(i);

                if (child instanceof TextView)
                   builder.setTitle(((TextView)child).getText().toString());
            }

            builder.setItems(items, new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int item) {

                }
            });
            AlertDialog alert = builder.create();
            alert.show();
            return false;
        }
    }); 
```

但是 AlertBuilder 的标题设置为列表中的第一项，而不是我选择的那些。如何检测选择了哪个项目并将其名称设置为 AlertDialog 标题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T13:13:20.733

我通过以这种方式将 TextView 添加到 LinearLayout 来解决这个问题：

```
public void addFiles()
 {

    if(!FileManagerActivity.getFinalAttachFiles().isEmpty())
    {
        TextView tv[] = new TextView[FileManagerActivity.getFinalAttachFiles().size()];
             for (int i = 0; i< FileManagerActivity.getFinalAttachFiles().size();i++)
              {

                    View line = new View(this);
                    line.setLayoutParams(new LayoutParams(1, LayoutParams.MATCH_PARENT));
                    line.setBackgroundColor(0xAA345556);
                    tv[i] = new TextView(this);
                    tv[i].setId(i);
                    tv[i].setTextColor(Color.BLACK);
                    tv[i].setTextSize(12);
                    tv[i].setCompoundDrawablesWithIntrinsicBounds(
                            0, R.drawable.file_icon, 0, 0);
                    tv[i].setText(FileManagerActivity.getFinalAttachFiles().get(i).getName().toString());
                    tv[i].setOnLongClickListener(onclicklistener);
                    layout.addView(tv[i], 0);
                    layout.addView(line, 1);

              }

      }

} 
```

我将 setOnLongClickListener 添加到我的 TextView 的数组中，其长度等于我的列表长度。我的听众：

```
OnLongClickListener onclicklistener = new OnLongClickListener() {

    public boolean onLongClick(View arg0) {
        final CharSequence[] items = {"Open", "Delete", "Details"};

        final AlertDialog.Builder builder = new AlertDialog.Builder(NewMessageActivity.this);

        builder.setTitle(((TextView)arg0).getText().toString());
        builder.setItems(items, new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int item) {
                if (item == 1)
                    {  
                       FileManagerActivity.getFinalAttachFiles().remove(item);
                       layout.invalidate();
                    }

            }
        });
        AlertDialog alert = builder.create();
        alert.show();
        return false;
    }
}; 
```

这解决了我的问题。

# javascript - 禁用 Bootstrap 的 Collapse 打开/关闭动画

> ID：13119912
> 
> 赞同：83
> 
> 时间：2012-10-29T10:35:04.283
> 
> 标签：javascript, animation, twitter-bootstrap

禁用折叠组的打开/关闭动画的任何技巧？

* * *

## 回答 #1

> 赞同：163
> 
> 时间：2014-03-15T19:15:36.413

对于 Bootstrap **3**和**4**，它是

```
.collapsing {
    -webkit-transition: none;
    transition: none;
    display: none;
} 
```

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-10-29T10:37:13.723

### `Bootstrap 2`CSS解决方案：

```
.collapse {  transition: height 0.01s; } 
```

**注意**：设置`transition: none`禁用折叠功能。

* * *

### `Bootstrap 4`解决方案：

```
.collapsing {
  transition: none !important;
} 
```

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2014-06-10T19:22:16.500

如果你在使用 CSS 解决方案时发现展开前和折叠后的**1px**跳跃有点烦人，这里有一个用于**Bootstrap 3的简单****JavaScript**解决方案......

 **只需在代码中的某处添加：

```
$(document).ready(
    $('.collapse').on('show.bs.collapse hide.bs.collapse', function(e) {
        e.preventDefault();
    }),
    $('[data-toggle="collapse"]').on('click', function(e) {
        e.preventDefault();
        $($(this).data('target')).toggleClass('in');
    })
); 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-05-02T22:37:20.623

也许不是对这个问题的直接回答，但[官方文档](https://github.com/twbs/bootstrap/pull/16157/files)中最近添加的内容描述了如何使用 jQuery**完全**禁用转换：

```
$.support.transition = false 
```

* * *

[如已接受的答案中所述，](https://stackoverflow.com/a/22428493/1678416)`.collapsing`将CSS 过渡设置为无会删除动画。但这 - 在 Firefox 和 Chromium 中对我来说 - 在导航栏折叠时会产生不必要的视觉问题。

例如，访问 Bootstrap[导航栏示例](http://getbootstrap.com/examples/navbar-fixed-top/)并从接受的答案中添加 CSS：

```
.collapsing {
     -webkit-transition: none;
     transition: none;
} 
```

我目前看到的是当导航栏折叠时，导航栏的底部边框暂时变成两个像素而不是一个，然后令人不安地跳回一个。使用 jQuery，这个工件不会出现。**

# netbeans - Netbeans 拼写检查器不适用于注释

> ID：13119913
> 
> 赞同：3
> 
> 时间：2012-10-29T10:35:05.390
> 
> 标签：netbeans

如何为 PHPDoc 注释设置 netbeans 拼写检查器

```
/**
 * Comment
 */ 
```

和

```
// comment 
```

?

如果我在外面写字符串`<?php ... ?>`，那么拼写检查器就可以工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:37:27.217

Netbeans 拼写检查器不支持注释，因此您无法使用当前版本执行此操作。

也许你可以找到另一个插件？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-24T18:50:57.560

这目前被提议作为[Netbeans 问题跟踪器](http://netbeans.org/bugzilla/show_bug.cgi?id=189814)的增强功能，但仍未得到解决。

你可以在那里投票，以提高它的优先级。

# android - 如何将图像的 EXIF 方向应用为 android 中的 url

> ID：13119914
> 
> 赞同：5
> 
> 时间：2012-10-29T10:35:15.453
> 
> 标签：android, camera, exif

我正在处理我的应用程序中的相机图像，这些图像实际上是作为 urls 获取的。相机应用程序处于纵向模式。所以图像有时会左旋转或右旋转。我知道我们可以使用 EXIF 来从图库中获取正常的图像方向，在那里我们可以检查 exif 值并进行适当的更改。基本上这是 exif 的代码

```
ExifInterface exif = new ExifInterface("filepath");
exif.getAttribute(ExifInterface.TAG_ORIENTATION); 
```

所以我的问题是在我的情况下文件路径是什么，是 url 本身还是我应该为此创建一个文件.. 任何帮助将不胜感激....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:37:18.747

首先，您必须在 onActiviryResult 中获取 Uri，例如在 [拍照后在 onActivityResult 中获取图像 Uri？](https://stackoverflow.com/questions/5059731/get-image-uri-in-onactivityresult-after-taking-photo)
然后，当你有 Uri 时，你可以像这样得到文件路径： String filepath = getRealPathFromURI(someUri);

 `````
public String getRealPathFromURI(Uri contentUri) {
    String res = null;
    String[] proj = { MediaStore.Images.Media.DATA };
    Cursor cursor = getContentResolver().query(contentUri, proj, null, null, null);
    if(cursor != null && cursor.moveToFirst()){;
       int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
       res = cursor.getString(column_index);
    }
    cursor.close();
    return res;
} 
```` 

 `然后，如果文件路径不为空且不为空，您可以获取 EXIF 数据，检查它并在需要时旋转图像。
希望它会有所帮助。``

# jquery - 当用户点击多个链接时，几个动画同时播放，但我只想播放最后一个选择的动画。（初学者）

> ID：13119923
> 
> 赞同：0
> 
> 时间：2012-10-29T10:35:46.360
> 
> 标签：jquery

我在网上放了一个简单的例子：

[http://philiphannaart.nl/helpme/](http://philiphannaart.nl/helpme/)

当用户单击三个链接之一时，动画将开始。如果用户等待下一次点击直到动画完成，它就会起作用。但是，如果他在每个链接上快速单击它就会变得混乱和混乱。任何建议如何解决这个问题或在哪里寻找解决方案？

非常感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:50:36.547

只需在每个 .animate() 、 .fadeIn() 、 .fadeOut() 之前写 .stop()

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-29T10:48:07.827

您没有提供用于它的代码。

但正如我假设的那样，当您单击按钮时，您必须使用**.stop()在代码中播放动画。**

我做了一些事情：

```
var anigone = function() {
    $("#oneb").stop().fadeOut(1000);
    $("#twob").stop().fadeOut(1000);
    $("#threeb").stop().fadeOut(1000);
    $("#one").stop().fadeIn(0);
    $("#two").stop().fadeIn(0);
    $("#three").stop().fadeIn(0);    
}

var red = function() {

    anigone();

    var red2 = $('#one');
    red2.stop().delay(1000).animate({
        left: 330 
    }, 1000, function() {
     red2.stop().fadeOut(1000);
     $("#oneb").stop().fadeIn(1000);
    });
    $("#two").stop().delay(1000).animate({
    left:480  }, 1000);
    $("#three").stop().delay(1000).animate({
    left:630  }, 1000); 
    $("#four").stop().delay(1000).animate({
    left:790  }, 1000);
}

var green = function() {

    anigone();

    $("#one").stop().delay(1000).animate({
    left:180 }, 1000);
    var green2 = $('#two');
    green2.stop().delay(1000).animate({
        left: 330 
    }, 1000, function() {
     green2.stop().fadeOut(1000);
     $("#twob").stop().fadeIn(1000);
    });
    $("#three").stop().delay(1000).animate({
    left:480  }, 1000); 
    $("#four").stop().delay(1000).animate({
    left:630 }, 1000);
}

var blue = function() {

    anigone();

    $("#one").stop().delay(1000).animate({
    left:30 }, 1000);
    $("#two").stop().delay(1000).animate({
    left:180 }, 1000);
    var blue2 = $('#three');
    blue2.stop().delay(1000).animate({
        left: 330 
    }, 1000, function() {
     blue2.stop().fadeOut(1000);
     $("#threeb").stop().fadeIn(1000);
    });
    $("#four").stop().delay(1000).animate({
    left:480 }, 1000);
}

$("#red").live('click', function() {
red();
});
$("#green").live('click', function() {
green();
});
$("#blue").live('click', function() {
blue();
}); 
```

​</p>

# sql - 使用sql查询找出天数和夜数

> ID：13119925
> 
> 赞同：3
> 
> 时间：2012-10-29T10:35:52.320
> 
> 标签：sql, sql-server, sql-server-2008

我想在sql中找出给定日期范围内的天数和夜数。谁能帮我？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T11:34:36.660

尝试这样的事情：

```
declare @t table(datefrom datetime, dateto datetime)
insert @t values('2012-01-01 11:30', '2012-01-01 12:30')
insert @t values('2012-01-01 11:30', '2012-01-02 00:30')
insert @t values('2012-01-01 12:30', '2012-01-02 13:00')
insert @t values('2012-01-01 12:30', '2012-01-02 00:30')
insert @t values('2012-01-01 00:00', '2012-01-03 00:00')

select datefrom, dateto,
datediff(day, datefrom - .5,dateadd(minute, -1, dateto)) nights,
datediff(day, datefrom, dateadd(minute, -1, dateto)+.5) days
from @t t 
```

结果：

```
datefrom         dateto            nights days
2012-01-01 11:30 2012-01-01 12:30  1      1
2012-01-01 11:30 2012-01-02 00:30  2      1
2012-01-01 12:30 2012-01-02 13:00  1      2
2012-01-01 12:30 2012-01-02 00:30  1      1
2012-01-01 00:00 2012-01-03 00:00  2      2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:43:50.687

你有没有尝试过[`Datediff`](http://msdn.microsoft.com/en-us/library/ms189794%28v=sql.100%29.aspx)

夜晚

```
select DATEDIFF (d, getdate()-1,getdate()) 
```

天

```
select DATEDIFF (d, getdate()-1,getdate()) - 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:44:39.880

请参阅 AnandPhadke 的评论，这里是代码 :)

```
DECLARE @StartDate DATETIME = '2012-01-01'
DECLARE @EndDate DATETIME = '2012-02-01' 
SELECT DATEDIFF(DAY, @StartDate, @EndDate) AS [Days],  DATEDIFF(DAY, @StartDate, @EndDate) AS [Nights ] 
```

# java - 查找字符串中的重复字符并使用 Java 计算出现次数

> ID：13119926
> 
> 赞同：12
> 
> 时间：2012-10-29T10:35:58.103
> 
> 标签：java

如何查找字符串中某个字符的出现次数？

**例如：敏捷的棕色狐狸跳过了懒惰的狗**。

下面是一些示例输出，

```
'a' = 1
'o' = 4
'space' = 8
'.' = 1 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-10-29T10:40:24.233

您可以使用以下内容，前提是 String`s`是您要处理的字符串。

```
Map<Character,Integer> map = new HashMap<Character,Integer>();
for (int i = 0; i < s.length(); i++) {
  char c = s.charAt(i);
  if (map.containsKey(c)) {
    int cnt = map.get(c);
    map.put(c, ++cnt);
  } else {
    map.put(c, 1);
  }
} 
```

请注意，它将计算所有字符，而不仅仅是字母。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2016-10-13T12:54:46.970

Java 8 方式：

```
"The quick brown fox jumped over the lazy dog."
        .chars()
        .mapToObj(i -> (char) i)
        .collect(Collectors.groupingBy(Object::toString, Collectors.counting())); 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-05-11T11:05:01.597

```
 void Findrepeter(){
    String s="mmababctamantlslmag";
    int distinct = 0 ;

    for (int i = 0; i < s.length(); i++) {

        for (int j = 0; j < s.length(); j++) {

            if(s.charAt(i)==s.charAt(j))
            {
                distinct++;

            }
        }   
        System.out.println(s.charAt(i)+"--"+distinct);
        String d=String.valueOf(s.charAt(i)).trim();
        s=s.replaceAll(d,"");
        distinct = 0;

    }

} 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2012-10-29T10:39:42.173

```
import java.io.*;
public class CountChar 
{

    public static void main(String[] args) throws IOException
    {
      String ch;
      BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
      System.out.print("Enter the Statement:");
      ch=br.readLine();
      int count=0,len=0;
        do
        {  
          try
          {
          char name[]=ch.toCharArray();
              len=name.length;
              count=0;
              for(int j=0;j<len;j++)
               {
                  if((name[0]==name[j])&&((name[0]>=65&&name[0]<=91)||(name[0]>=97&&name[0]<=123))) 
                      count++;
               }
              if(count!=0)
                System.out.println(name[0]+" "+count+" Times");
              ch=ch.replace(""+name[0],"");          
          }
          catch(Exception ex){}
        }
        while(len!=1);
   }

} 
```

> **输出**

```
Enter the Statement:asdf23123sfsdf

a 1 Times

s 3 Times

d 2 Times

f 3 Times 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-10-29T10:42:50.097

更好的方法是创建一个[`Map`](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html)来存储您的计数。那将是一个`Map<Character, Integer>`

您需要遍历字符串的每个字符，并检查它是否是字母表。您可以为此使用[`Character#isAlphabetic`](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isAlphabetic%28int%29)方法。如果是`alphabet`，则增加其在 中的计数`Map`。如果该字符尚未在 中，`Map`则将其添加为`1`.

**注意**： -**`Character.isAlphabetic`**方法是新的**`Java 7`**。如果您使用的是旧版本，则应使用[`Character#isLetter`](http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#isLetter%28char%29)

```
 String str = "asdfasdfafk asd234asda";
    Map<Character, Integer> charMap = new HashMap<Character, Integer>();
    char[] arr = str.toCharArray();

    for (char value: arr) {

       if (Character.isAlphabetic(value)) {
           if (charMap.containsKey(value)) {
               charMap.put(value, charMap.get(value) + 1);

           } else {
               charMap.put(value, 1);
           }
       }
    }

    System.out.println(charMap); 
```

**输出**： -

```
{f=3, d=4, s=4, a=6, k=1} 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-02-20T15:25:55.253

如果你的字符串只包含字母，那么你可以使用这样的东西。

```
public class StringExample {
public static void main(String[] args) {
    String str = "abcdabghplhhnfl".toLowerCase();
    // create a integer array for 26 alphabets.
    // where index 0,1,2.. will be the container for frequency of a,b,c...
    Integer[] ar = new Integer[26];
    // fill the integer array with character frequency.
    for(int i=0;i<str.length();i++) {
        int j = str.charAt(i) -'a';
        if(ar[j]==null) {
            ar[j]= 1;
        }else {
            ar[j]+= 1;
        }
    }   
    // print only those alphabets having frequency greater then 1.
    for(int i=0;i<ar.length;i++) {
        if(ar[i]!=null && ar[i]>1) {
            char c = (char) (97+i);
            System.out.println("'"+c+"' comes "+ar[i]+" times.");
        }
    }
}
} 
```

**输出：**

```
 'a' comes 2 times.
 'b' comes 2 times.
 'h' comes 3 times.
 'l' comes 2 times. 
```

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2018-04-07T07:10:54.480

在 a 中查找重复项`String`：

## 示例 1：使用 HashMap

```
public class a36 {
    public static void main(String[] args) {
        String a = "Gini Rani";
        fix(a);
    }//main
    public static void fix(String a ){
        Map<Character ,Integer> map = new HashMap<>();
        for (int i = 0; i <a.length() ; i++ ) {
        char ch = a.charAt(i);
                map.put(ch , map.getOrDefault(ch,0) +1 );
        }//for

       List<Character> list = new ArrayList<>();
       Set<Map.Entry<Character ,Integer> > entrySet = map.entrySet();

       for (  Map.Entry<Character ,Integer> entry : entrySet) {
             list.add( entry.getKey()  ); 

             System.out.printf(  " %s : %d %n" ,  entry.getKey(), entry.getValue()           );
       }//for
       System.out.println("Duplicate elements => " + list);

    }//fix
} 
```

## 示例 2：在 Java 8 中使用 Arrays.stream()

```
public class a37 {
    public static void main(String[] args) {
        String aa = "Protijayi Gini";
        String[] stringarray = aa.split("");

    Map<String , Long> map =  Arrays.stream(stringarray)
        .collect(Collectors.groupingBy(c -> c , Collectors.counting()));
        map.forEach( (k, v) -> System.out.println(k + " : "+ v)        );
    }
} 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2018-02-10T16:49:50.653

这是不使用任何 Collection 且复杂度为 n 的实现。尽管公认的解决方案足够好并且也不使用 Collection，但它似乎并没有处理特殊字符。

```
import java.util.Arrays;

public class DuplicateCharactersInString {
    public static void main(String[] args) {
        String string = "check duplicate charcters in string";
        string = string.toLowerCase();
        char[] charAr = string.toCharArray();
        Arrays.sort(charAr);
        for (int i = 1; i < charAr.length;) {
            int count = recursiveMethod(charAr, i, 1);
            if (count > 1) {
                System.out.println("'" + charAr[i] + "' comes " + count + " times");
                i = i + count;
            } else
                i++;
        }
    }

    public static int recursiveMethod(char[] charAr, int i, int count) {
        if (ifEquals(charAr[i - 1], charAr[i])) {
            count = count + recursiveMethod(charAr, ++i, count);
        }
        return count;
    }

    public static boolean ifEquals(char a, char b) {
        return a == b;
    }
} 
```

输出 ：

```
' ' comes 4 times
'a' comes 2 times
'c' comes 5 times
'e' comes 3 times
'h' comes 2 times
'i' comes 3 times
'n' comes 2 times
'r' comes 3 times
's' comes 2 times
't' comes 3 times 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-08-04T19:11:18.280

```
public class dublicate 
{
public static void main(String...a)
{
    System.out.print("Enter the String");
    Scanner sc=new Scanner(System.in);
    String st=sc.nextLine();
    int [] ar=new int[256];
    for(int i=0;i<st.length();i++)
    {
        ar[st.charAt(i)]=ar[st.charAt(i)]+1;
    }
    for(int i=0;i<256;i++)
    {
        char ch=(char)i;
        if(ar[i]>0)
        {
            if(ar[i]==1)
            {
                System.out.print(ch);
            }
            else
            {
                System.out.print(ch+""+ar[i]);
            }
        }
    }

}
} 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-10-29T10:46:03.363

使用谷歌番石榴`Multiset<String>`。

```
Multiset<String> wordsMultiset = HashMultiset.create();
wordsMultiset.addAll(words);
for(Multiset.Entry<E> entry:wordsMultiset.entrySet()){
     System.out.println(entry.getElement()+" - "+entry.getCount());
} 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2015-09-14T15:59:13.293

```
import java.util.HashMap;
import java.util.Scanner;

public class HashMapDemo {

    public static void main(String[] args) {
        //Create HashMap object to Store Element as Key and Value 
        HashMap<Character,Integer> hm= new HashMap<Character,Integer>();
        //Enter Your String From Console
        System.out.println("Enter an String:");
        //Create Scanner Class Object From Retrive the element from console to our java application
        Scanner sc = new Scanner(System.in);
        //Store Data in an string format
        String s1=sc.nextLine();
        //find the length of an string and check that hashmap object contain the character or not by using 
        //containskey() if that map object contain element only one than count that value as one or if it contain more than one than increment value 

        for(int i=0;i<s1.length();i++){
            if(!hm.containsKey(s1.charAt(i))){
                hm.put(s1.charAt(i),(Integer)1);
            }//if
            else{
                hm.put(s1.charAt(i),hm.get(s1.charAt(i))+1);
            }//else

        }//for

        System.out.println("The Charecters are:"+hm);
    }//main
}//HashMapDemo 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2017-01-24T02:11:14.937

```
public static void main(String args[]) {
    char Char;
    int count;
    String a = "Hi my name is Rahul";
    a = a.toLowerCase();
    for (Char = 'a'; Char <= 'z'; Char++) {
        count = 0;
        for (int i = 0; i < a.length(); i++) {
            if (a.charAt(i) == Char) {
                count++;
            }
        }
        System.out.println("Number of occurences of " + Char + " is " + count);
    }
} 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2017-02-13T13:49:07.363

```
public static void main(String[] args) {
        String name="AnuvratAnuvra";
        char[] arr = name.toCharArray();
        HashMap<Character, Integer> map = new HashMap<Character, Integer>();

        for(char val:arr){          
            map.put(val,map.containsKey(val)?map.get(val)+1:1);         
        }

        for (Entry<Character, Integer> entry : map.entrySet()) {
            if(entry.getValue()>1){
            Character key = entry.getKey();
            Object value = entry.getValue();

            System.out.println(key + ":"+value);
            }
            }
    } 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2017-03-15T13:55:05.200

A类{

```
public static void getDuplicates(String S) {
    int count = 0;
    String t = "";
    for (int i = 0; i < S.length() - 1; i++) {
        for (int j = i + 1; j < S.length(); j++) {
            if (S.charAt(i) == S.charAt(j) && !t.contains(S.charAt(j) + "")) {
                t = t + S.charAt(i);
            }
        }
    }
    System.out.println(t);
} 
```

}

B类公共B类{

```
public static void main(String[] args){
    A.getDuplicates("mymgsgkkabcdyy");

} 
```

}

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2017-05-21T06:12:33.060

使用[Eclipse 集合](https://www.eclipse.org/collections/) `CharAdapter`和`CharBag`：

```
CharBag bag = 
    Strings.asChars("The quick brown fox jumped over the lazy dog.").toBag();

Assert.assertEquals(1, bag.occurrencesOf('a'));
Assert.assertEquals(4, bag.occurrencesOf('o'));
Assert.assertEquals(8, bag.occurrencesOf(' '));
Assert.assertEquals(1, bag.occurrencesOf('.')); 
```

注意：我是 Eclipse Collections 的提交者

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2017-05-21T06:26:39.217

您还可以通过遍历您的`String`并使用 a`switch`检查每个单独的字符来实现它，并在找到匹配项时添加一个计数器。啊，也许一些代码会更清楚：

**主要应用：**

```
public static void main(String[] args) {

        String test = "The quick brown fox jumped over the lazy dog.";

        int countA = 0, countO = 0, countSpace = 0, countDot = 0;

        for (int i = 0; i < test.length(); i++) {
            switch (test.charAt(i)) {
                case 'a':
                case 'A': countA++; break;
                case 'o':
                case 'O': countO++; break;
                case ' ': countSpace++; break;
                case '.': countDot++; break;
            }
        }

        System.out.printf("%s%d%n%s%d%n%s%d%n%s%d", "A: ", countA, "O: ", countO, "Space: ", countSpace, "Dot: ", countDot);

    } 
```

**输出：**

```
A: 1
O: 4
Space: 8
Dot: 1 
```

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2017-07-26T11:16:26.817

查找重复项的三种方法

```
public class WAP_PrintDuplicates {

    public static void main(String[] args) {

        String input = "iabccdeffghhijkkkl";

        findDuplicate1(input);
        findDuplicate2(input);
        findDuplicate3(input);

    }

    private static void findDuplicate3(String input) {

        HashMap<Character, Integer> hm = new HashMap<Character, Integer>();

        for (int i = 0; i < input.length() - 1; i++) {
            int ch = input.charAt(i);
            if (hm.containsKey(input.charAt(i))) {
                int value = hm.get(input.charAt(i));
                hm.put(input.charAt(i), value + 1);
            } else {
                hm.put(input.charAt(i), 1);
            }
        }
        Set<Entry<Character, Integer>> entryObj = hm.entrySet();
        for (Entry<Character, Integer> entry : entryObj) {

            if (entry.getValue() > 1) {
                System.out.println("Duplicate: " + entry.getKey());
            }
        }

    }

    private static void findDuplicate2(String input) {

        int i = 0;

        for (int j = i + 1; j < input.length(); j++, i++) {

            if (input.charAt(i) == input.charAt(j)) {
                System.out.println("Duplicate is: " + input.charAt(i));
            }
        }

    }

    private static void findDuplicate1(String input) {
        // TODO Auto-generated method stub
        for (int i = 0; i < input.length(); i++) {

            for (int j = i + 1; j < input.length(); j++) {

                if (input.charAt(i) == input.charAt(j)) {
                    System.out.println("Duplicate is: " + input.charAt(i));
                }
            }
        }
    }
} 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2016-05-31T04:24:56.020

```
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
import java.util.Set;
public class DuplicateCountChar{

    public static void main(String[] args) {
        Scanner inputString = new Scanner(System.in);
        String token = inputString.nextLine();
        char[] ch = token.toCharArray();
        Map<Character, Integer> dupCountMap =  new HashMap<Character,Integer>();

        for (char c : ch) {
            if(dupCountMap.containsKey(c)) { 
                dupCountMap.put(c, dupCountMap.get(c)+1);
            }else {
                dupCountMap.put(c, 1);
            }
        }

        for (char c : ch) {
            System.out.println("Key = "+c+ "Value : "+dupCountMap.get(c));
        }

        Set<Character> keys = dupCountMap.keySet();
        for (Character character : keys) {
            System.out.println("Key = "+character+ " Value : " + dupCountMap.get(character));
        }

    }** 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2016-06-18T09:52:20.380

在java中...使用for循环：

```
import java.util.Scanner;

/**
 *
 * @author MD SADDAM HUSSAIN */
public class Learn {

    public static void main(String args[]) {

        Scanner sc = new Scanner(System.in);
        String input = sc.next();
        char process[] = input.toCharArray();
        boolean status = false;
        int index = 0;
        for (int i = 0; i < process.length; i++) {
            for (int j = 0; j < process.length; j++) {

                if (i == j) {
                    continue;
                } else {
                    if (process[i] == process[j]) {
                        status = true;
                        index = i;
                        break;
                    } else {
                        status = false;

                    }
                }

            }
            if (status) {
                System.out.print("" + process[index]);

            }
        }
    }
} 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2016-11-04T05:42:58.630

```
 public class StringCountwithOutHashMap {
  public static void main(String[] args) {
    System.out.println("Plz Enter Your String: ");
    Scanner sc = new Scanner(System.in);
    String s1 = sc.nextLine();
    int count = 0;
    for (int i = 0; i < s1.length(); i++) {
        for (int j = 0; j < s1.length(); j++) {
            if (s1.charAt(i) == s1.charAt(j)) {
                count++;
            } 
        } 
        System.out.println(s1.charAt(i) + " --> " + count);
        String d = String.valueOf(s1.charAt(i)).trim();
        s1 = s1.replaceAll(d, "");
        count = 0;
    }}} 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2017-03-05T17:41:22.473

```
public class CountH {

    public static void main(String[] args) {
        String input = "Hi how are you";

        char charCount = 'h';
        int count = 0;

        input = input.toLowerCase();

        for (int i = 0; i < input.length(); i++) {

            if (input.charAt(i) == charCount) {
                count++;
            }

        }

        System.out.println(count);
    }
} 
```

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2017-03-25T18:49:34.257

```
public class DuplicateValue {

    public static void main(String[] args) {

        String s = "hezzz";

        char []st=s.toCharArray();

        int count=0;

        Set<Character> ch=new HashSet<>();
        for(Character cg:st){
            if(ch.add(cg)==false){
                int occurrences = Collections.frequency(ch, cg);
                count+=occurrences;
                if(count>1){
                System.out.println(cg + ": This character exist more than one time");
                }
                else{
                System.out.println(cg);
                }
            }
        }

        System.out.println(count);
    }
} 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2017-06-28T22:29:38.277

```
 Map<Character,Integer> listMap = new HashMap<Character,Integer>();                         
                       Scanner in= new Scanner(System.in);
                       System.out.println("enter the string");
                       String name=in.nextLine().toString();
                       Integer value=0;
                       for(int i=0;i<name.length();i++){

                                     if(i==0){
                                                   listMap.put(name.charAt(0), 1);
                                     }
                                     else if(listMap.containsKey(name.charAt(i))){
                                                                value=listMap.get(name.charAt(i));
                                                                listMap.put(name.charAt(i), value+1);

                                     }else listMap.put(name.charAt(i),1);

                       }

                       System.out.println(listMap); 
```

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2017-09-01T17:19:09.410

```
import java.io.*;
import java.util.*;
import java.text.*;
import java.math.*;
import java.util.regex.*;

public class Solution {

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        String reverse1;
        String reverse2;
        int count = 0;
        while(n > 0)
        {
            String A = sc.next();
            String B = sc.next();
            reverse1 = new StringBuffer(A).reverse().toString();
            reverse2 = new StringBuffer(B).reverse().toString();
            if(!A.equals(reverse1))
            {
                for(int i = 0; i < A.length(); i++)
                {
                    for(int j = 0; j < A.length(); j++)
                    {
                        if(A.charAt(j) == A.charAt(i))
                        {
                            count++;
                        }
                    }
                    if(count % 2 != 0)
                    {
                        A.replace(A.charAt(i),"");
                        count = 0;
                    }
                }
                System.out.println(A);
            }
            n--;
        } 
    }
} 
```

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2018-04-01T03:32:10.113

```
public class list {

    public static String name(Character k){
        String s="the quick brown fox jumped over the lazy dog.";
        int count=0;
        String l1="";
        String l="";
        List<Character> list=new ArrayList<Character>();
        for(int i1=0;i1<s.length();i1++){
            list.add(s.charAt(i1));
        }
        list.sort(null);
        for (Character character : list) {
            l+=character;
        }
        for (int i1=0;i1<l.length();i1++) {
            if((l.charAt(i1)==k)){
                count+=1;
                l1=l.charAt(i1)+" "+Integer.toString(count);
                if(k==' '){
                    l1="Space"+" "+Integer.toString(count);
                }
            }else{
                count=0;
            }
        }
        return l1;
    }
    public static void main(String[] args){
        String g = name('.');
        System.out.println(g);
    }
} 
```

* * *

## 回答 #26

> 赞同：0
> 
> 时间：2021-06-07T13:03:24.327

**查找字符出现的简单方法 >**

```
void findOccurrences() {
    String s = "The quick brown fox jumped over the lazy dog.";
    Map<String, Integer> occurrences = new LinkedHashMap<String, Integer>();

    for (String ch : s.split("")) {
        Integer count = occurrences.get(ch);
        occurrences.put(ch, count == null ? 1 : count + 1);
    }
    System.out.println(occurrences);
} 
```

这将打印输出为：

> {T=1, h=2, e=4, =8, q=1, u=2, i=1, c=1, k=1, b=1, r=2, o=4, w= 1, n=1, f=1, x=1, j=1, m=1, p=1, d=2, v=1, t=1, l=1, a=1, z=1, y=1，g=1，.=1}

* * *

## 回答 #27

> 赞同：0
> 
> 时间：2022-02-09T12:28:06.120

```
 String str = "anand";
    Map<Character, Integer> map
        = new HashMap<Character, Integer>();

    // Converting string into a char array
    char[] charArray = str.toCharArray();

    for (char c : charArray) {

        if (map.containsKey(c)) {

            // If character is present increment count by 1
            map.put(c, map.get(c) + 1);
        }
        else {

          // If character is not present
          //putting this character into map with 1 as it's value.
            map.put(c, 1);
        }
    }

    for (Map.Entry<Character, Integer> entry :
         map.entrySet()) {

            System.out.println(entry.getKey()
                               + " : "
                               + entry.getValue());
    } 
```

> **输出**：
> 
> a:2 n:2 d:1

* * *

## 回答 #28

> 赞同：-1
> 
> 时间：2016-03-05T15:44:47.723

```
public static void main(String[] args) {
        char[] array = "aabsbdcbdgratsbdbcfdgs".toCharArray();
        char[][] countArr = new char[array.length][2];
        int lastIndex = 0;
        for (char c : array) {
            int foundIndex = -1;
            for (int i = 0; i < lastIndex; i++) {
                if (countArr[i][0] == c) {
                    foundIndex = i;
                    break;
                }
            }
            if (foundIndex >= 0) {
                int a = countArr[foundIndex][1];
                countArr[foundIndex][1] = (char) ++a;
            } else {
                countArr[lastIndex][0] = c;
                countArr[lastIndex][1] = '1';
                lastIndex++;
            }
        }
        for (int i = 0; i < lastIndex; i++) {
            System.out.println(countArr[i][0] + " " + countArr[i][1]);
        }
    } 
```

* * *

## 回答 #29

> 赞同：-1
> 
> 时间：2016-05-13T06:33:21.127

```
//sample Input
/*2
7
saska
toro
winn
toro
vanco
saska
toro
3
edddddd
edddddd
edddddd*/
//sample output
/*4
  1*/

import java.util.ArrayList;
import java.util.Scanner;

public class MyTestWhere {

    /**
     * @param args
     */
    public static void main(String[] args) {
        int count, line;
        Scanner sn = new Scanner(System.in);
        count = sn.nextInt();
        sn.nextLine();          
        for (int i = 0; i < count; i++) { 
            line = sn.nextInt();
            sn.nextLine();
        //  String numArr[] = new String[line];
            ArrayList<String> Arr=new ArrayList<String>();
            String first = sn.nextLine();
            Arr.add(first);String f;
            for (int j = 1; j < line; j++) {
                f= sn.nextLine();
                for(int k=0;k<Arr.size();k++){
                    if(f.equalsIgnoreCase(Arr.get(k)))break;
                    else if(k== (Arr.size()-1)){Arr.add(f);}

                }
            }   

            System.out.println(Arr.size());

        }
    }
} 
```

* * *

## 回答 #30

> 赞同：-1
> 
> 时间：2018-04-19T05:00:18.353

```
import java.util.Scanner;

    class Test
    { 

        static String s2="";
        int l;
        void countDuplicateCharacters(String Str)
        {
            String S=Str.toLowerCase();
            for(int i=0;i<S.length();i++)
            {
                int k=1;
                boolean value=  repeatedCheck(S.charAt(i));
                if(value==true)
                    continue;
                for(int j=i+1;j<S.length();j++)
                {

                    if(S.charAt(i)==S.charAt(j))
                    {   k++;

                    }

            }
                System.out.println("character  '" +S.charAt(i)+"' : "+k);

                s2=s2+S.charAt(i);
            }

        }

        boolean repeatedCheck(char ch)
        {
            l=s2.length();
            for (int i=0;i<l;i++)
            {
                if(s2.charAt(i)==ch)
                {
                    return true;
                }
            }

            return false;
        }

    }

    public class Duplicacy {

        public static void main(String[] args) {
            Scanner sc=new Scanner(System.in);
            System.out.println("Enter any String");
            String s=sc.nextLine();
            Test t=new Test();
            t.countDuplicateCharacters(s);

        }} 
```

* * *

## 回答 #31

> 赞同：-1
> 
> 时间：2020-02-10T13:43:35.507

我用二维数组解决了这个问题。输入：aaaabbbcdefggggh 输出：a4b3cdefg4h

```
int[][] arr = new int[10][2];
    String st = "aaaabbbcdefggggh";
    char[] stArr = st.toCharArray();
    int i = 0;
    int j = 0;
    for (int k = 0; k < stArr.length; k++) {
        if (k == 0) {
            arr[i][j] = stArr[k];
            arr[i][j + 1] = 1;
        } else {
            if (arr[i][j] == stArr[k]) {
                arr[i][j + 1] = arr[i][j + 1] + 1;
            } else {
                arr[++i][j] = stArr[k];
                arr[i][j + 1] = 1;
            }
        }
    }
    System.out.print(arr.length);
    String output = "";
    for (int m = 0; m < arr.length; m++) {
        if (arr[m][1] > 0) {
            String character = Character.toString((char) arr[m][0]);
            String cnt = arr[m][1] > 1 ? String.valueOf(arr[m][1]) : "";
            output = output + character + cnt;

        }
    }
    System.out.print(output); 
```

* * *

## 回答 #32

> 赞同：-2
> 
> 时间：2017-06-10T21:25:53.210

```
public static void findDuplicate(String letter)
{

    for(int i=0; i<letter.length();i++)
    {
        for( int j=i+1; j<letter.length();j++)
        {
            if(letter.charAt(i)==letter.charAt(j))
            {
                System.out.println(letter.charAt(j));
                break;
            }
        }
    }
} 
```

findDuplicate("JAVA");

输出是：A

# php - 根据数据库中的值在 jquery 中选择下拉值

> ID：13119927
> 
> 赞同：0
> 
> 时间：2012-10-29T10:36:04.440
> 
> 标签：php, jquery, wordpress

我有一个带有单选的 HTML 下拉列表。我想根据从数据库中获得的值选择一个值。

```
<select name="aa">
    <option>BE</option>
    <option>TE</option>
    <option>SE</option>
</select> 
```

我从数据库中获取值“TE”，然后我尝试了这 3 种方法来设置选定的关联选项标签。

```
if($m_aa == "TE"){
$script = <<< EOF
<script type='text/javascript'>
    jQuery(document).ready(function($) {
        // $('#aa option:contains("' + BE + '")').attr('selected', 'selected'); //won't work
        // $('#aa option:eq(0)').attr('selected', 'selected'); //won't work
        $('#aa option:eq(1)').prop('selected', true); //won't work
     });
</script>
EOF;
echo $script;
}
....

<dropdown list> 
```

但是这三种可能性都行不通。Firebug 不会显示任何错误，如果我添加一个 alert(); 它会显示。所以从语法上来说应该没问题。我在 wordpress 插件中使用 jquery 1.8.6 版，我上面提到的这个功能应该在其中实现。

BR，迈贝克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:40:39.743

要设置 a 的选定选项，`<select>`您可以使用以下`.val()`功能：

```
<script type='text/javascript'>
    jQuery(document).ready(function($) {
        $('#aa').val('<?php echo $m_aa; ?>');
     });
</script> 
```

另外，我注意到你有`<select name="aa">`，你应该添加`id="aa"`代码才能工作，或者将选择器更改为`$('select[name=aa]')`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:39:42.900

尝试使用 jquery 版本 1.7.x

# php - 来自数组的mysqli查询

> ID：13119930
> 
> 赞同：1
> 
> 时间：2012-10-29T10:36:09.607
> 
> 标签：php, arrays, mysqli

我在 mysqli 查询中使用 IN 时遇到问题。到目前为止的代码是：

```
//to get array from first db
$c=array();
$q_query="SELECT * FROM is_user_detail_db WHERE company_name LIKE '%$q%'";
$q_result=mysqli_query($dbc, $q_query) or die("Could not get company name");
while($q_row=mysqli_fetch_assoc($q_result))
{
    $c[]=$q_row['user_id'];
}

//second query
$ids=join(',', $c);

$queryc="SELECT * FROM archive_agent_booking WHERE user_id IN ($ids)";
$resultc=mysqli_query($dbc, $queryc) or die("Could not access db");

while($rowc=mysqli_fetch_array($resultc))
{
    ...get returned data
} 
```

我得到的只是死亡声明，“无法访问数据库”。

# android - Android：如何为使用内容提供程序的列表视图的 OnItemClick 启动新活动

> ID：13119935
> 
> 赞同：1
> 
> 时间：2012-10-29T10:36:16.627
> 
> 标签：android, android-intent

通过使用内容提供商，我在我的应用程序的收件箱列表视图中增加了 SMS。现在在项目上单击我想在另一个活动中显示 SMS 文本。我已经实现了自定义列表视图。现在我不知道如何选择每个列表项并在点击时显示在新活动中。在 Stack flow 的回答中，有人提出了这个建议：

```
@Override
protected void onListItemClick(ListView l, View v, int position, long id) {
    Uri mailUri = ContentUris.withAppendedId(getIntent().getData(), id);
    startActivity(new Intent(Intent.ACTION_VIEW, mailUri));
} 
```

如果这段代码是正确的，那么我将如何配置下一个活动来对这个 ACTION_VIEW 采取行动？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T10:50:14.463

```
list.setOnItemClickListener(new OnItemClickListener() {
    @Override
    public void onItemClick(AdapterView<?> arg0, View arg1,int pos, long arg3) {
        Intent i= new Intent(currentClass.this,secondActivity.class);
        i.putExtra("string",Yourlist.get(pos).sms);
        startActivity(i);
        finish();                       
    }
}); 
```

＆在另一个活动上您可以通过以下方式收到：-

```
String msg=getIntent().getExtras().getString("string"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-30T12:00:26.087

```
lv.setOnItemClickListener(new OnItemClickListener() { 
public void onItemClick(AdapterView<?> parent, View view, int position, long id)  {   
switch(position)
{ case 0:
Intent firstIntent = new Intent(AndroidListViewActivity.this, SingleListItem.class);
startActivity(firstIntent);
break;
case 1:
Intent secondintent = new Intent(AndroidListViewActivity.this,jokes.class);               
startActivity(secondintent);
break; 
```

# wpf - 绑定到数据的表

> ID：13119936
> 
> 赞同：0
> 
> 时间：2012-10-29T10:36:27.437
> 
> 标签：wpf

我想通过 DataBinding 从数据模型构建表，但没有找到如何去做。我有这样的数据：

```
1.type CustomObj with slots:
- id
- a
- b    
2\. variable Content of type <List of CustomObj>

How to make a table like as below:

+--------------------+--------------------+--------------------+
|Identifier          |a slot              |b slot              |
+--------------------+--------------------+--------------------+
|'id from first eleme|'a from first elemen|b from first elemen |
|t                   |t                   |t                   |
+--------------------+--------------------+--------------------+
|...                 |...                 |...                 |
+--------------------+--------------------+--------------------+ 
```

我阅读了有关 FlowDocument 的信息，但没有找到如何通过 DataBinding 从 List 构建流文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:43:42.880

要实现您想要的，请使用[DataGrid](http://www.wpftutorial.net/DataGrid.html)。

创建一个`ObservableCollection<CustomObj>`并将 DataGrids 绑定`ItemsSource`到此 OC。

您的 DataGrid 可能如下所示：

```
<DataGrid ItemsSource="{Binding CustomObjList}">
    <DataGrid.Columns>
    <DataGridTextColumn Header="Identifier" Binding="{Binding id}" />
    <DataGridTextColumn Header="a Slot" Binding="{Binding a}" />
    <DataGridTextColumn Header="b Slot" Binding="{Binding b}" />
    </DataGrid.Columns>
</DataGrid> 
```

# string - 将字符串索引为字符

> ID：13119937
> 
> 赞同：6
> 
> 时间：2012-10-29T10:36:28.943
> 
> 标签：string, unicode, go

> 字符串的元素具有字节类型，可以使用通常的索引操作进行访问。

如何将字符串元素获取为 char ？

> “一些”[1] -> “o”

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-29T10:54:42.013

最简单的解决方案是将其转换为 runes 数组：

```
var runes = []rune("someString") 
```

请注意，当您对字符串进行迭代时，您不需要进行转换。[请参阅Effective Go](http://golang.org/doc/effective_go.html#for)中的此示例：

```
for pos, char := range "日本語" {
    fmt.Printf("character %c starts at byte position %d\n", char, pos)
} 
```

这打印

```
character 日 starts at byte position 0
character 本 starts at byte position 3
character 語 starts at byte position 6 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-29T10:55:53.380

Go 字符串通常但不一定是 UTF-8 编码的。在它们是 Unicode 字符串的情况下，术语“char[acter]”非常复杂，并且没有符文（代码点）和 Unicode 字符的一般/唯一双射。

无论如何，人们可以轻松地使用切片中的代码点（符文）并通过转换使用索引：

```
package main

import "fmt"

func main() {
        utf8 := "Hello, 世界"
        runes := []rune(utf8)
        fmt.Printf("utf8:% 02x\nrunes: %#v\n", []byte(utf8), runes)
} 
```

也在这里：[http ://play.golang.org/p/qWVSA-n93o](http://play.golang.org/p/qWVSA-n93o)

注意：通常希望通过索引访问 Unicode“字符”是一个设计错误。大多数文本数据是按顺序处理的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-19T21:51:31.087

另一种选择是包装`utf8string`：

```
package main
import "golang.org/x/exp/utf8string"

func main() {
   s := utf8string.NewString("")
   t := s.At(2)
   println(t == '')
} 
```

[https://pkg.go.dev/golang.org/x/exp/utf8string](https://pkg.go.dev/golang.org/x/exp/utf8string)

# java - 如何在 Eclipse 中从 MoDisco java 模型生成 java 代码？

> ID：13119940
> 
> 赞同：1
> 
> 时间：2012-10-29T10:36:43.960
> 
> 标签：java, eclipse, code-generation, eclipse-emf

我开始研究[MoDisco](http://www.eclipse.org/MoDisco/)。到目前为止，我可以从现有的 java 项目中发现一个 java 模型，并使用[ATL](http://www.eclipse.org/atl/)编写转换来修改我的 java 模型。但是我无法为修改后的 java 模型生成 java 代码。在[此演示](http://docatlanmod.emn.fr/MoDisco/MoDisco-Demo_September2011.htm)中，有从修改后的模型生成的 java 代码。一个名为[Acceleo](http://www.eclipse.org/acceleo/)的启动配置`JPAProject_Regeneration`用于此目的，如此屏幕截图所示： ![MoDisco 演示的屏幕截图](../Images/185b45bd60c5f9d5a88c72c9f8f21504.png)

有谁知道启动配置是什么样的？是否有解释创建此启动配置的教程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T13:51:04.427

提到的启动配置可以[在 eclipse svn](http://dev.eclipse.org/viewcvs/viewvc.cgi/plugins/trunk/org.eclipse.modisco.usecase.java.samplerefactoring/LaunchConfigurations/5-JPAProject_Regeneration.launch?view=log&root=Modeling_MODISCO&pathrev=4848)中找到。然而它并没有那么有用，因为它在很大程度上取决于一个非常具体的本地设置，其中包括硬编码的绝对路径。

MoDisco 还在插件中提供了一个发现者`org.eclipse.gmt.modisco.java.generation`。但是，此发现器在错误的扩展点下注册，因此在 UI 中不可用。请参阅[提交的错误](https://bugs.eclipse.org/bugs/show_bug.cgi?id=393037)。

另请注意，一旦发现者注册正确，它仅适用于 java 模型位于以 . 结尾的文件中`.javaxmi`。

*编辑：*
整个插件`org.eclipse.gmt.modisco.java.generation`似乎已被弃用，因为有一个新的 API 用于发现。我基于新 API 构建了一个与上述 MoDisco 插件相同的新插件。

# javascript - 如何将 javascript 参数从 asp.net 传递到 .focus

> ID：13119941
> 
> 赞同：0
> 
> 时间：2012-10-29T10:36:49.213
> 
> 标签：javascript, asp.net, parameter-passing

我在这里有点困惑。问题是我有一个 asp.net 文本框，当 maxlength 为 true 并且用户没有按下某些键时，我想将其切换到下一个文本框。我的 asp.net 代码是这样的：

```
<asp:TextBox ID="txbTransferBanknumber" Style="width: 50px;" MaxLength="4" 
Visible="true" runat="server" autocomplete="off"    onkeyup="autoTabNextTextBox(this,'txbTransferLedger')" CssClass="AutoTabFill" /> 
```

我的 autoTabNextTextBox 函数如下所示：

```
function autoTabNextTextBox(sender, nextTextBox) {

    var keyCode = (event.which) ? event.which : event.keyCode
    var mylength = $(sender).val().length;
    var maxlength = $(sender).attr('maxLength');

    if((keyCode != 37) && (keyCode != 39))
    {
        if ((keyCode != 8) && (keyCode != 16))
        {
            if (mylength == maxlength)
            {   
                $('.nextTextBox').focus();
                //nextTextBox.focus();                    
            }
        }
    }

} 
```

如何将参数 nextTextBox 传递给 .focus() ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:42:49.893

假设您有一个静态的[ClientIdMode](http://weblogs.asp.net/scottgu/archive/2010/03/30/cleaner-html-markup-with-asp-net-4-web-forms-client-ids-vs-2010-and-net-4-0-series.aspx)（意味着输出 HTML 元素的 id 是`txbTransferLedger`），那么您只需将 nextTextBox**参数**作为选择器的一部分包含（而不是您当前使用的**字符串）：** `nextTextBox`

```
$('#' + nextTextBox).focus(); 
```

**更新：**如果您不能使用静态的 ClientIdMode 并且因此无法完全控制输入元素的生成 id，那么另一种选择是使用类选择器。给每个输入元素一个唯一的类名（这可以是您正在使用的任何现有类的补充），例如：

```
<asp:TextBox ID="txbTransferLedger" CssClass="AutoFill TransferLedger" /> 
```

然后将所需的类名（`TransferLedger`在本例中）传递给`autoTabNextTextBox`函数而不是 ID。然后，您可以使用类选择器，如下所示：

```
$('input.' + nextTextBox).focus(); // e.g. $('input.TransferLedger').focus(); 
```

# asp.net - 使用 webservice 发送大数据

> ID：13119942
> 
> 赞同：0
> 
> 时间：2012-10-29T10:36:56.670
> 
> 标签：asp.net, web-services

我需要使用网络服务发送大数据。数据大小在 300 MB 到 700 MB 之间。Web 服务从 SQL 数据库生成数据并发送到客户端。它是 DataSet 的形式，大约有 20 到 25 个表。我尝试了来自 artical 的解决方案，[“如何：启用 Web 服务以发送和接收大量数据”](http://msdn.microsoft.com/en-us/library/aa528822.aspx)和 Microsoft WSE 3.0 的示例，但大多数情况下它给了我“System.OutOfMemoryException”。

我认为问题是 WebService 在服务器上的内存中缓冲数据并且它超过了限制。

我认为有两个替代方案，（1）一个接一个发送 DataTable，但有时一个 DataTable 可以有大约 100MB 到 150MB 的数据（2）在服务器上写入文件并使用 HttpWebRequest 传输（可以使用 FTP，但目前无法访问 FTP 服务器）

任何人都可以建议使用 webservice 解决这个问题吗？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T10:54:19.993

数据集将加载内存中的所有数据。它不适合传输大量数据。DataSet 在被序列化时会携带很多额外的信息。

如果您知道需要传输的表的结构，则创建一组`Serializable`对象并发送一组对象将有助于显着减少数据负载。

如果您必须使用，`DataSet`请查看启用 BinaryRemoting。

```
BinaryFormatter bf = new BinaryFormatter();
myDataSet.RemotingFormat = SerializationFormat.Binary;
bf.Serialize(s, ResultDataSet); 
```

通过这种方式减少数据负载后，最好将文件写入 http 服务器上可公开访问的位置。通过 http 托管它允许客户端比 ftp 更容易地下载文件。您可以通过授予用户适当的权限来控制对这些 http 文件夹的访问。

# css - jQuery Mobile，可折叠键值网格：使用图标调整标题 50/50

> ID：13119944
> 
> 赞同：1
> 
> 时间：2012-10-29T10:36:59.883
> 
> 标签：css, jquery-mobile, user-interface, web, icons

我有一堆表格/键值数据，当用户单击第一个时，我总是显示一个项目，其余的显示，就像[这个 jsFiddle](http://jsfiddle.net/g9g3v/)：

```
<div data-role="collapsible">
  <h3><div class="ui-grid-a">
      <div class="ui-block-a">Customer:</div>
      <div class="ui-block-b">Mario's Plumbing</div></div></h3>
  <ul data-role="listview">
  <li><div class="ui-grid-a">
      <div class="ui-block-a">Phone:</div>
      <div class="ui-block-b">1-800-MUS-ROOM</div></div></li>
  ...
  </ul>
</div> 
```

但是，当 jQuery Mobile 将图标添加到标题项（“客户：Mario's Plumbing”）时，值字段，即“Mario's Plumbing”，与 <ul> 列表中的值字段不对齐，即“1- 800 亩房间”。

我认为 jQuery 将图标与“客户：马里奥的管道”框并排放置 --- 这与我所看到的兼容：未对齐看起来大致像键字段的按钮宽度的 100% 和 50%值字段的按钮，考虑到我使用 ui-grid-a （它进行 50/50 拆分），我期望它。我希望图标成为左侧 50% 的一部分，即在该框内而不是在该框旁边。我可以这样做吗？如何？这可能是简单的 CSS 而我是一个 CSS 延迟 :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T12:14:51.140

看起来 jQuery 移动元素样式不能很好地结合在一起，在本例中是[可折叠块](http://jquerymobile.com/test/docs/content/content-collapsible.html)和[网格布局](http://jquerymobile.com/test/docs/content/content-grids.html)样式。

可折叠块添加了图标和填充标题的样式。

```
.ui-btn-inner {
    padding:.6em 20px;
} 
```

附加规则，将左侧填充得更多（将文本从图标上移开）

```
.ui-collapsible-heading .ui-btn-inner, .ui-collapsible-heading .ui-btn-icon-left .ui-btn-inner {
    padding-left: 40px;
} 
```

但这会将所有标题文本推左 40px。

我能找到纠正不匹配的唯一方法是添加一个额外的规则来将第二个块移到左边。通过添加以下规则，文本再次排列。

```
.ui-collapsible-heading .ui-btn-inner .ui-grid-a .ui-block-b {
    margin-left:-10px;
} 
```

在我的本地 Chrome 浏览器测试中，它似乎在不同的页面缩放级别下工作正常，但我还没有在移动设备上测试过。

**编辑：**此外，示例和小提琴中有一个错字，你有，`un-block-b`而不是*Mario's Plumbing*。`ui-block-b`

# cordova - Cordova 使用 persistent.js add() 污染日志

> ID：13119945
> 
> 赞同：0
> 
> 时间：2012-10-29T10:37:02.667
> 
> 标签：cordova, logging

我正在使用最新的 phonegap/cordova 2.1 版。当我执行 var allItems = Item.all(); 时，我在 Eclipse logcat 中的日志被代码污染了

```
allItems.list(null, function (results) {
    results.forEach(function (r) {
        console.log(r.id+ " " + r.lat + " " + r.long + " " + r.state);
    });
}); 
```

我得到一个输出（对于 100 行）

```
10-29 10:56:13.270: I/Web Console(5961):     } function (value) {
10-29 10:56:13.270: I/Web Console(5961):         if (value === undefined) {
10-29 10:56:13.270: I/Web Console(5961):             return getterCallback();
10-29 10:56:13.270: I/Web Console(5961):         } else {
10-29 10:56:13.270: I/Web Console(5961):             setterCallback(value);
10-29 10:56:13.270: I/Web Console(5961):             return scope;
10-29 10:56:13.270: I/Web Console(5961):         }
10-29 10:56:13.270: I/Web Console(5961):     } function (value) {
10-29 10:56:13.270: I/Web Console(5961):         if (value === undefined) {
10-29 10:56:13.270: I/Web Console(5961):             return getterCallback();
10-29 10:56:13.270: I/Web Console(5961):         } else {
10-29 10:56:13.270: I/Web Console(5961):             setterCallback(value);
10-29 10:56:13.270: I/Web Console(5961):             return scope;
10-29 10:56:13.270: I/Web Console(5961):         }
10-29 10:56:13.270: I/Web Console(5961):     } function (value) {
10-29 10:56:13.270: I/Web Console(5961):         if (value === undefined) {
10-29 10:56:13.270: I/Web Console(5961):             return getterCallback();
10-29 10:56:13.270: I/Web Console(5961):         } else {
10-29 10:56:13.270: I/Web Console(5961):             setterCallback(value);
10-29 10:56:13.270: I/Web Console(5961):             return scope;
10-29 10:56:13.270: I/Web Console(5961):         }
10-29 10:56:13.270: I/Web Console(5961):     } at :1149822901 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T16:58:14.383

解决方案是，对象是空的，因此返回了一个显示的函数，这是由persistance.js 中的错误引起的：请参阅persistance.js [add() function not working](https://stackoverflow.com/questions/13126293/persistence-js-add-function-not-working)

# ffmpeg - 将 h264 流转储到 mp4 容器中

> ID：13119951
> 
> 赞同：0
> 
> 时间：2012-10-29T10:37:17.420
> 
> 标签：ffmpeg, h.264, mp4

我想知道如何将网络摄像机中的 h264 原始流转储到 mp4 容器文件中。我需要用 C++ 来做，任何库？我可以自己做吗？

提前致谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-28T14:22:24.753

Windows 7 及更高版本具有可以编写视频容器的 API。在 MSDN 中搜索 Sink Writer 和 Microsoft Media Foundation。它是 DirectShow 的继任者。特别提到了对 MP4 文件接收器和 H.264 视频编码/解码的支持。这是一种选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-29T02:07:01.937

查看 libmp4v2 @ [https://code.google.com/p/mp4v2/](https://code.google.com/p/mp4v2/)

使用起来非常简单。

HandBrake 使用它。您可以从@https [://handbrake.fr/downloads.php](https://handbrake.fr/downloads.php)下载源代码以供参考

# android - 如何使用特殊字符将数据添加到 Web 服务？

> ID：13119953
> 
> 赞同：1
> 
> 时间：2012-10-29T10:37:22.820
> 
> 标签：android

我正在尝试向 Web 服务添加两个字符串，当我通过浏览器发送它时它工作正常，它返回“插入成功”但是当我运行我的应用程序时，它显示错误为 E/Responce(17407): Illegal character in query at index 74: [http://purple2.com/beerbro/addgroupon.php?userid=27&data=100001190851696,1|100001640732983,1|100002430763518,1|100002332633534,1|100000549596039,1|1375802933,1|1587585991,1|1569563632 ,1|100000132426450,1|100004296815391,1|1519195978,1](http://purple2.com/beerbro/addgroupon.php?userid=27&data=100001190851696,1|100001640732983,1|100002430763518,1|100002332633534,1|100000549596039,1|1375802933,1|1587585991,1|1569563632,1|100000132426450,1|100004296815391,1|1519195978,1) ，我认为“|”有问题 这但我无法在这里找到解决方案是代码 for(int i=0; i

```
data=data+friendid[i]+","+status[i]+"|";
          data.replaceAll("","%20");
        if(i==0){

        }
        else if(i==10)
        {
         String res=UrltoValue.getValuefromUrl(DataUrls.addfriendsurl+"?userid="+usid+"&data="+data.substring(0,data.length()-1));

         Log.e("res",DataUrls.addfriendsurl+"?userid="+usid+"&data="+data.substring(0,data.length()-1));
         Log.e("Responce",res);
         data="";

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T10:48:40.397

如果'|' 是问题然后使用 URLEncoder 并编码字符串

```
String data = URLEncoder.encode("100001190851696,1|100001640732983,1|100002430763518,1|100002332633534,1|100000549596039,1|1375802933,1|1587585991,1|1569563632,1|100000132426450,1|100004296815391,1|1519195978");
String mainURL = "http://purple2.com/beerbro/addgroupon.php?userid=27&data="+data; 
```

希望这对您有所帮助。

# delphi - 如何调试堆栈溢出？

> ID：13119955
> 
> 赞同：0
> 
> 时间：2012-10-29T10:37:33.333
> 
> 标签：delphi, delphi-7, stack-overflow, delphi-5, reportbuilder

我想知道有没有人有过类似的经历。我正在尝试追踪问题的根源，但我想出了 nil。我在 Delphi 5 中有一个项目，其中包含 Report Builder 报告。我需要升级版的报告生成器，所以我尝试在 Delphi 7 中运行该项目。当我的项目运行并单击按钮查看报告时，它可以正常查看。但是，如果我使用 paramstr 运行报告（showmainform 设置为 false）并显示报告过程运行，我会收到堆栈溢出错误。

原始代码是：

```
 if lowercase(ParamStr(1)) = 'termsexceeded' then begin
    reportsdata.termsexceeded.close;
    reportsdata.termsexceeded.open;
    reports.ppTermsExceeded.print;
    reportsdata.termsexceeded.close;
    application.terminate;
  end; 
```

它给了我 .print 函数的堆栈溢出错误。

在 Delphi 7 中工作的代码是：

```
 if lowercase(ParamStr(1)) = 'termsexceeded' then begin
    reportsdata.termsexceeded.close;
    reportsdata.termsexceeded.open;
    reports.left := -10000;
    reports.show;
    reports.ppTermsExceeded.print;
    reportsdata.termsexceeded.close;
    application.terminate;
  end; 
```

有没有人建议我如何调试它以查看问题出在我的 Delphi 7 还是 Reportbuilder 上？

报告表单的 .show 事件上没有任何事件。

任何有关如何深入了解这一点的建议将不胜感激。

问候

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-29T13:15:51.350

当您遇到堆栈溢出时，请使用调试器。当操作系统抛出异常时，它会中断你的程序，那时，你可以使用调试器的*调用堆栈*窗口来查看函数调用的路径。您可能会看到某个函数或函数序列重复了很多次。

找到重复模式后，请检查代码以了解其重复的原因。寻找一个条件应该已经改变，但没有。

# mysql - 选择包含一个或多个完全大写单词的记录

> ID：13119958
> 
> 赞同：3
> 
> 时间：2012-10-29T10:37:42.057
> 
> 标签：mysql, sql, regex, uppercase

我在 MYSql 数据库中有一个查询。我有一个表`order_det`，表的列`remarks_desc`包含以下条目：

表结构：

```
Table: order_det

Columns: rec_id, remarks_desc 
```

order_det 表中的示例记录

```
rec_id      remarks_desc
_________________________________________________________

1           a specific PROGRAMMING problem
2           A software Algorithm
3           software tools commonly USED by programmers
4           Practical, answerable problems that are unique to the programming profession
5           then you’re in the right place to ask your question
6           to see if your QUESTION has been asked BEFORE 
```

我的要求我只想选择包含更多以所有大写字母存储的单词的记录。从以上 6 条记录中，我只想选择以下 1,3,6 条记录：

```
rec_id      remarks_desc
__________________________________________________
1           a specific PROGRAMMING problem (it contains one all uppercase word PROGRAMMING)
3           software tools commonly USED by programmers (it contains one all uppercase word USED)
6           to see if your QUESTION has been asked BEFORE (it contains two all uppercase words QUESTION and BEFORE) 
```

我尝试使用 LIKE、REGEXP 将其存档，但结果不正确。请帮助我得到正确的结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T11:59:32.050

Here is the pretty straight forward stored function which returns amount of words in uppercase in row.

Cons:

*   it's stored function not pure SQL;
*   it uses `collate`
*   it uses regexp, but you can fill free to get rid of it using another inner loop for it;
*   it counts all words but you can add break if you reach 2.

Please find the function on the [following link](https://gist.github.com/3986663) (gist.github.com). It doesn't display correctly here.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T11:57:03.067

尝试：

```
SELECT rec_id, remarks_desc FROM order_det WHERE remarks_desc REGEXP '(^|[[:blank:]])[[:upper:]][[:upper:]]+([[:blank:]]|$)' 
```

我假设您要排除单字母大写单词。如果要排除字符串开头的大写单词，则需要调整正则表达式。

确保您的表排序规则区分大小写（_cs 不是 _ci）

我使用了来自[http://dev.mysql.com/doc/refman/5.1/en/regexp.html#operator_regexp的信息](http://dev.mysql.com/doc/refman/5.1/en/regexp.html#operator_regexp)

但是，如果您必须使用正则表达式从数据库中提取数据，那么值得考虑是否可以改进您的数据库设计。如果您需要数据库的良好性能，这一点尤其重要。

# iphone - NSDictionnary : objectForKey 返回 nil，即使键在字典中

> ID：13119963
> 
> 赞同：0
> 
> 时间：2012-10-29T10:38:01.907
> 
> 标签：iphone, ios

我在使用 NSDictionnary 时遇到了一个奇怪的问题......

我正在尝试为存在的键检索对象，该键是具有方法 objectForKey 的字典，但它返回 nil。

当我打印出整个字典时，我可以清楚地看到我正在寻找的键和值。

这是代码：

```
- (MObject *)GetWithMProperty:(MProperty *)prop {
    NSLog(@"We search an object for a property named %@", prop.Name);
    NSArray *keyArray =  [_dict allKeys];
    int count = [keyArray count];
    for (int i=0; i < count; i++) {
        MObject *tmp = [_dict objectForKey:[ keyArray objectAtIndex:i]];
        NSLog(@"Key = %@ | Object = %d", ((MProperty*)[keyArray objectAtIndex:i]).Name, tmp.GetTypeId);
        if (prop == [keyArray objectAtIndex:i])
            NSLog(@"Wouhou !");
        else
            NSLog(@"Too bad :(");
    }
    return [_dict objectForKey:prop];
} 
```

和堆栈跟踪：

```
2012-10-29 11:24:07.730 IOS6[1451:11303] We search an object for a property named Value
2012-10-29 11:24:07.730 IOS6[1451:11303] Key = Name | Object = 4
2012-10-29 11:24:07.731 IOS6[1451:11303] Too bad :(
2012-10-29 11:24:07.731 IOS6[1451:11303] Key = Value | Object = 0
2012-10-29 11:24:07.732 IOS6[1451:11303] Too bad :( 
```

这有点复杂，我正在使用 J2ObjC 编译一个功能齐全的引擎，因此我无法修改 MProperty 和 MObject 类（由引擎使用）。

MProperty 不符合 NSCopying 协议，所以我创建了一个名为 IPhoneMProperty 的类，它继承自 MProperty 并符合协议。

这是这个类：

```
@implementation IPhoneMProperty

- (id)initWithMProperty:(MProperty *)prop {
    self = [super initWithInt:prop.OwnerTypeId withNSString:prop.Name withInt:prop.TypeId withMBasicValue:prop.DefaultValue withInt:prop.Flags];
    return self;
}

- (id)copyWithZone:(NSZone *)zone {
    IPhoneMProperty *prop = [[IPhoneMProperty alloc] initWithMProperty:self];
    return prop;
}

@end 
```

我用来向字典添加对象和键的方法：

```
- (void)SetWithMProperty:(MProperty *)prop withMObject:(MObject *)obj {
    IPhoneMProperty *tempKey = [[IPhoneMProperty alloc] initWithMProperty:prop];
    [_dict setObject:obj forKey:tempKey];
} 
```

我希望它足够清楚，实际上这是我目前找到的唯一解决方案，但它不起作用:(

任何人都可以帮助我吗？

谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:46:04.840

问题存在于线路

```
 if (prop == [keyArray objectAtIndex:i]) 
```

相反，在你的类中实现`isEquals:`方法。`MProperty`

```
-(BOOL)isEquals:(MProperty*)inProp {
  if( [inProp.name isEqualToString:self.name] )return YES;

  return NO;
} 
```

而且，在这里，而不是线

```
 if (prop == [keyArray objectAtIndex:i]) 
```

使用以下行，

```
 if ([prop isEquals [keyArray objectAtIndex:i]]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:46:20.997

你在使用前分配了你的 _dict 对象吗？

如下修改您的代码并检查。

```
- (void)SetWithMProperty:(MProperty *)prop withMObject:(MObject *)obj {
    IPhoneMProperty *tempKey = [[IPhoneMProperty alloc] initWithMProperty:prop];
    if(!_dict) 
        _dict = [[NSMutableDictionay alloc]init];
    [_dict setObject:obj forKey:tempKey];
} 
```

希望对你有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T10:51:04.657

您可以尝试更改 if 条件以比较字符串之间的值吗？像这样 ：

```
if ([prop.Name isEqualToString:((MProperty*)[keyArray objectAtIndex:i]).Name])
            NSLog(@"Wouhou !");
        else
            NSLog(@"Too bad :(");
    } 
```

# android - 为 Android 构建 FFmpeg

> ID：13119966
> 
> 赞同：4
> 
> 时间：2012-10-29T10:38:04.500
> 
> 标签：android, ffmpeg

我现在已经花了将近一个星期的时间，试图让 FFmpeg "Angel"/"Happiness" 为 Android 构建。我已经尝试从互联网上构建脚本，但无济于事。我最接近的是使用[这个](http://dmitrydzz-hobby.blogspot.in/2012/04/how-to-build-ffmpeg-and-use-it-in.html "这个")。[正如作者自己所说，由于此错误](http://ffmpeg.org/trac/ffmpeg/ticket/853)，该脚本不适用于较新版本的 FFmpeg，该错误已在该票上被驳回，称“我找到了一个可以做到这一点的 Makefile”。这是令人沮丧的，这是在广阔的谷歌世界上唯一一个与我的问题接近的帖子。所以，提问时间：

有没有办法绕过上述错误？我正在尝试使用最新的 ffmpeg API，而“Love”只是在尝试使用 av_encode_video2() 和 av_free_frame() 时给了我“未定义的参考”错误。我正在处理的代码位于 /doc/examples/decoding_encoding.c 下的 ffmpeg git repo （从第 338 行开始的函数）。

更新：所以他们在“Angel”中取消了 codec_names.sh。抱歉之前没有注意到，但现在换个头像时问题依然存在。每次构建尝试时，编译器都会抛出一个特定的

```
start ndk-building...
/home/<user>/android-ndk/build/core/build-binary.mk:41: *** target file `clean' has both : and :: entries.  Stop. 
```

说什么！？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-31T17:23:37.770

鉴于根本没有任何回应，我假设那些在这个主题上知道他们的狗屎的人真的很忙于将他们的技能用于他们设法编译的任何东西。对于像我这样在网络的每个角落寻找毫无意义的答案的人来说，我有一个......不仅仅是体面的解决方法。

[Guardian Project](https://github.com/guardianproject/android-ffmpeg)是 github 上的一个很棒的资源，它为构建具有您选择的所有设置的 ffmpeg 二进制文件设置了完美的项目。但只是让它成功构建的一个大问题没有“无法创建可执行文件”错误。

所以..那里也有办法。不太灵活，但它可以让你免于失去比我确信你（像我一样）已经拥有的更多的头发。前往[这里](http://forum.xda-developers.com/showthread.php?t=1940495)并获利。通过运行`file`命令，我注意到这个二进制文件是动态链接的，这看起来很奇怪，但它确实有效。

此外，您必须先运行该`chmod`命令，然后才能在设备上使用它（作为二进制文件和所有文件）。因此，将其弹出到您的 res/raw/ 文件夹中，在需要时将其加载并编辑这些视频，就像没有明天一样！

# html - 无法播放 HTML5 视频

> ID：13119969
> 
> 赞同：1
> 
> 时间：2012-10-29T10:38:17.123
> 
> 标签：html

我无法播放 HTML5 视频。它不会在任何浏览器和 Firefox 中播放，它说“没有找到支持格式和 MIME 类型的视频”。我已经阅读了几个地方说要更改服务器上的 htaccess 文件，我已经通过添加：

```
AddType video/ogg .ogm
AddType video/ogg .ogv
AddType video/ogg .ogg
AddType video/webm .webm
AddType audio/webm .weba
AddType video/mp4 .mp4
AddType video/x-m4v .m4v 
```

在文件的顶部，但问题仍然存在......

这是HTML代码：

```
 <video controls="" width="944" height="416">
                    <source type="video/mp4" src="video/julebord2.mp4"></source>
                    <source type="video/webm" src="video/julebord2.webm"></source>
                    <source type="video/ogg" src="video/julebord2.ogv"></source>
                    <p>Your user agent does not support the HTML5 Video element.</p>
               </video> 
```

有谁知道是什么问题？

# c - 指向数组的指针的地址

> ID：13119972
> 
> 赞同：8
> 
> 时间：2012-10-29T10:38:42.047
> 
> 标签：c, arrays, pointers, multidimensional-array

下面是一个二维数组的例子。

```
int s[5][2] = {
            {0, 1},
            {2, 3},
            {4, 5},
            {6, 7},
            {8, 9}
        };

int (*p)[2]; 
```

如果我写`p = &s[0];`没有错误。但是如果我写有一个错误，`p = s[0];`即使会给出相同的地址。`&s[0]``s[0]`

请让我知道为什么会有差异，即使两者都给出相同的地址。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-29T10:43:51.463

地址相同，但类型不同。

`&s[0]`是类型的`int (*)[2]`，但是`s[0]`是类型的`int [2]`，衰减到`int *`.

结果是，在对 执行算术运算时`p`，它遍历数组的模式将取决于它的类型。如果你先写`p = &s[0]`然后访问`p[3][1]`，你就是在访问`s[3][1]`。另一方面，如果您编写`int *q = s[0]`，则只能使用`q`访问`s`eg的第一个子数组`q[1]`将访问`s[0][1]`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:46:11.770

关闭，但不完全。s 是指向数组第一个元素的指针。它也是该数组的别名——编译器知道它指向特定数量的元素。

因此，&s[0] 返回第一个元素的地址，而 s[0] 返回元素本身。

*p 然而只是一个指向 int 的指针。它可能比这更多的元素，但编译器肯定不知道。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-10-29T10:44:40.647

**当您尝试将数据类型分配`(int *)`给不同的数据类型时，**gcc**`(int **)`会显示警告。不确定其他编译器。**

# jquery - 如果幻灯片中只有一张图像，则隐藏 supersized_nav

> ID：13119973
> 
> 赞同：0
> 
> 时间：2012-10-29T10:38:47.123
> 
> 标签：jquery, supersized

所以我正在使用 Supersized 插件，当幻灯片中只有一张图片时，我想在下面隐藏这个 #supersized_nav。我尝试隐藏 #supersized_nav if .totalslides = '1' 但实际的总幻灯片没有在 HTML 中被调用...

```
<div id="supersized_nav">
View images
    <div id="slidecounter">
        <a id="prevslide" class="load-item">&lt;</a>
        <span class="slidenumber"></span> of <span class="totalslides"></span>
        <a id="nextslide" class="load-item">&gt;</a>
    </div> 
</div><!-- end supersized_nav --> 
```

感谢你们的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:40:03.783

如果我明白了，你应该这样做：

```
$(document).ready(function(){
     if($('#supersized img').length < 2) $('#supersized_nav').hide();
}); 
```

# php - 说明正则表达式中的字符数

> ID：13119976
> 
> 赞同：2
> 
> 时间：2012-10-29T10:38:59.707
> 
> 标签：php, regex, validation

我希望用户名长度为 4-32 个字符。

```
function validate_username($input)
{
    return (bool) preg_match('/^([a-z]+[a-z0-9_]*){4,32}$/i', $input);
} 
```

请问我的尝试有什么问题吗？

`var_dump(validate_username('h_q8Y'));`返回`FALSE`

但`var_dump(validate_username('h_q8Yewre_'));`回报`TRUE`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-29T10:43:05.880

`{4,32}`重复内括号匹配 4 次。您至少需要 4 个字母才能满足它。

要断言长度，您需要一个独立于字符类说明符的前瞻断言：

```
 preg_match('/^(?=.{4,32})([a-z]+[a-z0-9_]*)$/i'

                   |             |
             asserts length      |
                            checks char mix 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-29T10:42:42.687

你重复你的重复 4 到 32 次。我假设您想确保用户名以字母开头。在这种情况下，这可能是您正在寻找的：

```
preg_match('/^[a-z]\w{3,31}$/i', $input); 
```

注意`\w`相当于`[a-zA-Z0-9_]`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-29T10:43:01.933

你的**正则表达式是错误的**。这里

*   `([a-z]+[a-z0-9_]*)`匹配`h_q8Y`。
*   然后`{4,32}`意味着将有**至少 4 个**或**最多 32**个`h_q8Y`. 但是你只提供了一个`h_q8Y`。

因此它不起作用。

最好使用以下表达式。

```
/^[a-z]\w{3,31}$/i 
```

# html - 固定位置标题栏问题

> ID：13119978
> 
> 赞同：0
> 
> 时间：2012-10-29T10:39:07.353
> 
> 标签：html, css

我试图实现固定位置的标题栏。但是当我尝试将窗口调整为更小的宽度时，标题的右侧部分没有显示。如果我将位置更改为绝对位置，问题就解决了，但我失去了标题栏的固定效果。

```
#header {
position: fixed;
top: 0px;
display: block;
height:56px;
width: 100%;
padding-left: 0px;
background-color: #333333;
-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
-moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
z-index: 99999;
} 
```

这是html；

```
<body>
  <div id="mask"></div>
  <div id="wrapper">
    <div id="header">
        <div id="center">
            <a id="logoWrapper" href="/makale"><div id="logo"></div></a>
            <div id="categoryWrapper">

                <ul>
                   <li>...</li>
                   <li>...</li>
                 </ul>

            </div>
            <div id="searchWrapper">
                <div id="search">
                    <input type="text" />
                    <a id="searchBt" href="#"><img src="/images/site/search.png"></a>
                </div>

            </div>
        </div>
    </div>
    <div id="content">...</div>
  </div>
 </body> 
```

这是链接[http://sporapp.com/makale](http://sporapp.com/makale)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-29T10:43:16.347

我前段时间有同样的问题。看看我在那里的旧帖子->[使固定标题滚动水平](https://stackoverflow.com/questions/9785598/css-make-fixed-header-scroll-horizontal)

您可以使用 jQuery 或 Javascript 将 div 重新定位在页面顶部（有时会导致一些滞后效果）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-29T10:49:22.393

你好，我已经解决了你的问题。在调整窗口大小时，您必须`min-width`为部分添加 css 属性。`#header`

`CSS:`

```
#wrapper
{
background-color: #F4F4F4;
display: block;
height: auto;
min-height:100%;
min-width:980px;
overflow:auto;
width: 100%;
}

#header 
{
backgroung-color: #333333;
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
display: block;
height: 56px;
min-width: 1265px; // Here, if you want to adjust your min-width of header as per your need (for that you can use fire bug) else remains same
padding-left:0;
position: absolute;
top: 0;
z-index: 99999;
}

#header #center
{
margin: 0 auto;
width:980px;
} 
```

希望，它会帮助你。干杯。！！如果它对您有帮助，请将其标记为答案，以便其他人可以解决相同的问题。谢谢。！！

# android - Gradle 找不到 android 插件的类路径

> ID：13119996
> 
> 赞同：6
> 
> 时间：2012-10-29T10:40:13.643
> 
> 标签：android, gradle

我收到这个错误，说它找不到与 android 插件相关的类路径。使用 gradle 1.2 。

这是错误：

```
Could not find method classpath() for arguments [org.gradle.api.plugins:gradle-android-plugin:1.2.1] 
```

这是我的`build.gradle`文件

```
//setup external dependency plugins we will use to build a android application
buildscript {
    repositories {
        mavenCentral()
        maven {
            url "https://oss.sonatype.org/content/repositories/snapshots"
        }
    }

    dependencies {
        classpath 'org.gradle.api.plugins:gradle-android-plugin:1.2.1'
    }
}

//apply eclipse plugin
apply plugin: 'eclipse'

//apply android plugin
apply plugin: 'android'

apply plugin: 'maven'

task hello << {
    String value = 'wagwan'
    println 'Hello world!' + value.toUpperCase()
} 
```

谢谢

编辑：我现在收到的新错误：

```
FAILURE: Build failed with an exception.

* What went wrong:
Could not resolve all dependencies for configuration ':classpath'.
> Could not resolve group:org.gradle.api.plugins, module:gradle-android-plugin, version:1.2.1.
  Required by:
      :RssUnified:unspecified
   > Could not GET 'http://repo1.maven.org/maven2/org/gradle/api/plugins/gradle-android-plugin/1.2.1/gradle-android-plugin-1.2.1.pom'.
   > Could not GET 'https://oss.sonatype.org/content/repositories/snapshots/org/gradle/api/plugins/gradle-android-plugin/1.2.1/gradle-android-plugin-1.2.1.pom'.

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-29T11:06:51.657

如指南所示，`dependencies { classpath ... }`块必须进入内部`buildscript { ... }`。仅对于构建脚本，`classpath`定义了一个名为的配置。