# StackOverflow 问答 14190000-14190999

# php - 如何从zend框架中的插件触发索引控制器

> ID：14190011
> 
> 赞同：0
> 
> 时间：2013-01-07T04:45:07.370
> 
> 标签：php, zend-framework

我尝试使用插件为不同的模块分派引导程序。但是，由于某种原因，我无法为每个模块触发控制器，并且错误是“EXCEPTION_NO_CONTROLLER”。任何人都可以提供一些建议吗？

```
// Plugin Code:
class Plugin_AccessCheck extends Zend_Controller_Plugin_Abstract {
    public function __construct() {
    }

    public function dispatchLoopStartup(Zend_Controller_Request_Abstract $request) {
        if ('admin' == $request->getModuleName()) {
            require_once APPLICATION_PATH .'/modules/admin/Bootstrap.php';
            $moduleBootstrap = new Admin_Bootstrap();
            $moduleBootstrap->bootstrap();
        } else if('site' == $request->getModuleName()) {

        }
    }
}

// Module Bootstrap:
class Admin_Bootstrap extends Zend_Application_Module_Bootstrap{    
    public function Admin_Bootstrap() {
    }

    protected function _initAutoload() {
        define("localhost", "adrian");
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T11:54:59.763

所有模块引导程序都在*每个请求*上运行。

如果在将请求路由到单个模块时您希望​​执行一些处理，则注册一个插件 - 在应用程序引导程序或模块引导程序中；如上所述，它们都会运行 - 如果请求不是针对他的模块，则会提前退出。

有关进一步讨论，请参阅 MWOP 的这篇文章：

[http://www.mwop.net/blog/234-Module-Bootstraps-in-Zend-Framework-Dos-and-Donts.html](http://www.mwop.net/blog/234-Module-Bootstraps-in-Zend-Framework-Dos-and-Donts.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T07:30:22.233

我不确定..如果我不理解你的问题..你可以试试

```
public function dispatchLoopStartup(Zend_Controller_Request_Abstract $request)
{
   $request = Zend_Controller_Front::getInstance()->getRequest();
    if ('admin' == $request->getModuleName()) {

        require_once APPLICATION_PATH.'/modules/admin/Bootstrap.php';

        $moduleBootstrap = new Admin_Bootstrap();

        $moduleBootstrap->bootstrap();

    }
    else if('site' == $request->getModuleName()){
               $request->setModuleName('othermodule');
                $request->setControllerName('othercontroller');
                $request->setActionName('otherindex');
    }
} 
```

# iphone - Objective-C 重新加载问题

> ID：14190017
> 
> 赞同：1
> 
> 时间：2013-01-07T04:45:28.997
> 
> 标签：iphone, objective-c, ios, plist

我有一个包含条目数的图表。它使用`For`来自 plist 的循环加载数据..意味着一个一个..现在我想要这样一种方式，如果从中读取的数据`greater than 6`应该采用`substringToIndex:2`else`substringToIndex:6`

但问题是：数据在plist中并一个一个地获取它..我想要如果`greater than 6`那么它应该是`substringToIndex:2`整个值而不是下一个值。但是如果它超过6我怎么能重新加载数据来制作整个值`substringToIndex:2`

**代码**

```
- (void)drawRect:(CGRect)rect {

  int l=0;
  NSMutableArray *Array=[NSMutableArray arrayWithArray:[self readFromPlistForOneWeek]];
  NSMutableArray *items = [[NSMutableArray alloc] init];

  for (id object in [Array reverseObjectEnumerator]){

    if ([object isKindOfClass:[NSDictionary class]])
    {
        NSDictionary *objDict = (NSDictionary *)object;

        //problem part below 
           l++;
        if(l>6){
              str1=[str1 substringToIndex:2];
              tempItemi.isPercentage=YES;
              tempItemi.yValue=f;
              tempItemi.width=10;
              tempItemi.name=str1;      
              [items addObject: tempItemi];
          } else{
              str1 =[str1 substringToIndex:6];
              tempItemi.isPercentage=YES;
              tempItemi.yValue=f;
              tempItemi.width=10;
              tempItemi.name=str1;
              [items addObject: tempItemi];
          }
     } 
```

这给了我这样的输出

![输入图片](../Images/bf13b9c878b6a1276e7fe1e71c45e4f9.png) .

**在这里，如果值超过 6，则所有的都应该采用 subStringToIndex:2 ..不仅超过 6（不是图像中的最后 2 个）**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:36:48.517

您不必使用`if (l>6)`. 可以直接使用，

```
if ([Array count] > 6) 
```

上面的代码将不起作用，因为您在循环中递增它并在递增时检查它。您需要检查数组的计数。

# git - 是否可以使用 GitHub Pages 设置一个页面，该页面将从我的 GitHub 存储库获取文件？

> ID：14190018
> 
> 赞同：0
> 
> 时间：2013-01-07T04:45:30.833
> 
> 标签：git, deployment, github, github-pages

我想这样做，以便定期推送我的 GitHub 存储库将更新网页上的代码，以便我可以立即使用我的移动设备在任何地方对其进行测试（我一直依赖`python -m SimpleHTTPServer`，这是垃圾。我的意思是整洁，但显然不是为解决我的移动设备产生的昏昏欲睡的 HTTP 连接而设计的。

这可以使用某种`git`东西来完成，我可以获得第二个远程仓库以从另一个仓库自动拉取更改吗？或者其他的东西？

这就是`gh-pages`分支吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T04:50:55.643

哦，我想是这个。

[http://xlson.com/2010/11/09/getting-started-with-github-pages.html](http://xlson.com/2010/11/09/getting-started-with-github-pages.html)

大概就是这个了。听起来很有趣。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:38:51.053

gh-pages 分支允许您在本地更新 html 文件并将其推送到 github Web 服务器，该服务器从`http://youruser.github.com/yourproject`.

github 提供了一些自动工具，用于从 README.md（markdown 格式，此处用于格式化问答）引导网站，例如[自动生成器](https://help.github.com/articles/creating-pages-with-the-automatic-generator)，或使用[Jekill](http://tom.preston-werner.com/jekyll/)的站点+博客静态站点生成器。在 github 上，还有[其他几种](https://github.com/search?q=static%20site%20generator)可以与 gh-pages 一起使用的替代方案。

# html - 不能将 div/ul 定位在前一个 div 之上

> ID：14190019
> 
> 赞同：0
> 
> 时间：2013-01-07T04:45:32.553
> 
> 标签：html, css, css-position

我正在尝试设置选项卡菜单。我希望它向上移动，使其刚好超过前一个 div。但是，每当我将其向上移动时，它都会位于前一个 div 的下方。我试过改变 z-index 没有占上风。

[http://www.cable-warehouse.com/?page=test&id=156781](http://www.cable-warehouse.com/?page=test&id=156781)

这是以前的div：

```
#product {
    width: 950px;
    margin: auto;
    background: #FFFFFF;
    color: #434649;
    /* background: url(images/prod_bg.gif) repeat-x bottom; */
    border-left:solid 1px #cccccc;
    border-right:solid 1px #cccccc;
} 
```

这是我想坐在前一个 div 之上的 div：

```
.tabs {  /* div wrapper */
    margin-top:0px;
    position:relative;
    background:#FFFFFF;
    top:-30px;
    left:0;
}
.tabs ul { /* tabs */
    float:left;
    background:#fff;
    padding-top:4px;
    position:relative;
} 
```

HTML 的外观：

```
<div id="product">content here</div>
<div class="tabs"><ul><!-- tabs list --></ul></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T04:49:20.420

您的问题是选项卡包含在`overflow`设置为的元素中`hidden`。实际上，您似乎已将该样式设置为应用于所有`div`s。这是一个坏主意，这也是原因之一。`overflow: hidden;`仅在需要时选择性地应用。

# ruby-on-rails - 使用 lambda 在活动记录中的范围 - 在 Rails 控制台中返回无方法错误

> ID：14190024
> 
> 赞同：2
> 
> 时间：2013-01-07T04:45:59.463
> 
> 标签：ruby-on-rails, scope, rails-activerecord

在我的用户模型类中，我定义了 2 个范围，如下所示。

```
 scope :condition, lambda { where('updated_at >= ?', 3.day.ago) }

  scope :tardy, lambda {
    joins(:timesheets).group("users.id") & Timesheet.condition
  } 
```

然后我尝试运行**重新加载！**，然后**u =User.find 14**我得到下面的结果。

```
 User Load (0.3ms)  SELECT `users`.* FROM `users` WHERE `users`.`id` = 14 LIMIT 1
 => #<User id: 14, login: "janu", password: "janu", password_confirmation: nil, email: "janu@gmail.com", created_at: "2013-01-03 09:47:36", updated_at: "2013-01-03 09:47:36"> 
```

然后我运行**u.tardy.to_sql**，但是它返回以下错误。

```
NoMethodError: undefined method `tardy' for #<User:0x00000003cb5ea0>
    from /home/local/rajesh.co/.rvm/gems/ruby-1.9.3-p327/gems/activemodel-3.2.9/lib/active_model/attribute_methods.rb:407:in `method_missing'
    from /home/local/rajesh.co/.rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.2.9/lib/active_record/attribute_methods.rb:149:in `method_missing'
    from (irb):64
    from /home/local/rajesh.co/.rvm/gems/ruby-1.9.3-p327/gems/railties-3.2.9/lib/rails/commands/console.rb:47:in `start'
    from /home/local/rajesh.co/.rvm/gems/ruby-1.9.3-p327/gems/railties-3.2.9/lib/rails/commands/console.rb:8:in `start'
    from /home/local/rajesh.co/.rvm/gems/ruby-1.9.3-p327/gems/railties-3.2.9/lib/rails/commands.rb:41:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>' 
```

看，当我如下所示将两个范围连接在一起时，我也会遇到同样的错误。

```
 scope :tardy, lambda {
    joins(:timesheets).
    where("timesheets.updated_at >= ?", 3.days.ago).
    group("users.id")
  } 
```

你能帮我解决同样的问题吗？谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T04:48:39.470

您不能在特定记录上调用范围。当您调用 时`.find`，您将获得*一个特定的记录*，而不是可以链接到其他范围的关系/关联。

如果你想找到任何 id 为 14 的迟到用户，你必须颠倒方法调用的顺序：

```
User.tardy.find(14) 
```

您*仍然*无法运行`.to_sql`，因为您将再次获得一条记录。如果您真的希望 SQL 返回特定的 find-by-id，您可以使用

```
User.tardy.where(:id => 14).to_sql 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:14:44.357

错误出现在模型的范围定义上，meagar 的答案也适用于其中一个错误。

```
 scope :tardy, lambda {
    joins(:timesheets).group("users.id") && Timesheet.condition
  } 
```

在上面，我指定了**Timesheet.condition**，其中**条件**范围必须在**Timesheet 模型**而不是 User 模型中声明，因为我需要根据时间表更新时间对用户进行分组。因此，下面给定的范围必须存在于 Timesheet 模型中，如下所示。

```
scope :condition, lambda { where('updated_at >= ?', 3.day.ago) } 
```

运行**User.tardy**，我们将得到满足给定条件的所有更新时间表的**用户。**

**实现此目的的第二种简单方法是在用户模型**本身中定义一个范围：

```
scope :tardy, lambda {
    joins(:timesheets).
    where("timesheets.updated_at >= ?", 3.days.ago).
    group("users.id")
  } 
```

但是，这种跨模型范围违反了良好的面向对象设计原则：它包含确定是否更新 Timesheet 的逻辑，这是正确属于 Timesheet 类的代码。所以第一种方法更可取。

谢谢你们。

# drop-down-menu - 如何启动果园高级菜单？

> ID：14190027
> 
> 赞同：0
> 
> 时间：2013-01-07T04:46:32.287
> 
> 标签：drop-down-menu, content-management-system, orchardcms

抱歉问了一个愚蠢的问题，但我真的不知道如何在果园中添加插件菜单。

刚刚下载了orchard CMS进行测试，下载了一个名为advanced menu的小部件，但是我不知道它是如何工作的，它不像添加页面那样工作。

这个插件有教程吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-30T04:27:56.217

这是来自 pszmyd，Orchard 高级菜单的作者：

pszmyd Mod Michelle Foster • 3 年前

1.  您需要创建一个菜单 - 默认情况下存在“主”菜单。
2.  您需要进入所选菜单的管理屏幕（从右侧的管理菜单中）并添加您需要的菜单项
3.  创建一个小部件，它将显示您在前面的步骤中创建的菜单。有两个小部件可供选择 - 菜单小部件（仅呈现纯 HTML，没有任何样式）或样式菜单小部件（添加一些预配置的样式和脚本）。

链接：[http](http://www.szmyd.com.pl/blog/orchard-advanced-menu-1.3-released) ://www.szmyd.com.pl/blog/orchard-advanced-menu-1.3-released （评论往下看）

目前没有更广泛的教程可用，但如果您熟悉 Orchard，您应该能够弄清楚。

# hibernate - hibernate & c3p0 配置：我可以在单个 hibernate.cfg.xml 文件中配置所有 c3p0 参数吗？

> ID：14190033
> 
> 赞同：0
> 
> 时间：2013-01-07T04:46:57.070
> 
> 标签：hibernate, connection-pooling, c3p0

我有一些关于 c3p0 + Hibernate 的问题

从我在这里读到的：[c3p0&hibernate configuration](http://www.mchange.com/projects/c3p0/index.html#hibernate-specific)

看起来你必须设置一些具有特定休眠相关名称的参数，否则它将被休眠默认值覆盖。问题是如果我想配置另一个参数，比如 autoCommitOnClose，我可以在 hibernate.cfg.xml 中配置它吗或者我需要在单独的 c3p0 属性文件中配置它？，如果我可以在 hibernate.cfg.xml 文件中配置它，我必须使用什么休眠配置密钥名称（hibernate.c3p0.autoCommitOnClose 是正确的名称？）因为从我看到您需要将 c3p0 参数名称从 c3p0.maxPoolSize 更改为 hibernate.c3p0.max_size 以使 hibernate 正确地计算出来。

谢谢你的回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T08:08:05.603

在最近的休眠版本中（自 ~2006 年起），您可以在休眠配置中将 c3p0 属性设置为 hibernate.c3p0.propertyName。但是，如果设置了任何特定于休眠的属性名称，它们将使用 c3p0 样式名称覆盖任何配置。（如果设置了两种样式，hibernate 将在日志中发出警告。）

所以例如 hibernate.c3p0.autoCommitOnClose 应该可以工作。c3p0 的文档应该更新以反映这一点。

c3p0 数据源在池初始化时将其配置转储到 INFO 级别的日志中。您始终可以通过检查日志（或通过 JMX）来验证您认为正在设置的配置是否正确应用。在日志中搜索字符串“初始化 c3p0 池”

祝你好运！

# php - 从 ajax 下拉列表中强制 html 字段值，而不是用户输入

> ID：14190035
> 
> 赞同：0
> 
> 时间：2013-01-07T04:47:18.373
> 
> 标签：php, html, ajax

我有一个字段，它产生一个用户可以从中选择的下拉列表

```
 $(function() {
              $('.serial_number').live('focus.autocomplete', function() { 
                $(this).autocomplete("/admin/includes/getinvoiceajax.php", {
                    width: 300,
                    matchContains: true,
                    mustMatch: true,
                    selectFirst: false
                }); 
              });
            });

<input type="text" name="serial_number[]" id="serial_number" class="serial_number" />
<input type="text" name="serial_number[]" id="serial_number" class="serial_number" />
<input type="text" name="serial_number[]" id="serial_number" class="serial_number" />
<input type="text" name="serial_number[]" id="serial_number" class="serial_number" /> 
```

我设置了 mustMatch: true，因此用户只能从下拉列表中选择内容。有没有办法不允许从任何其他字段进行重复选择。由于我有一些这样的字段，因此可以允许用户为多个字段选择相同的值。我需要确保它们是独一无二的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T04:48:34.397

我的原始问题不允许下拉列表中不存在的值，我一提出问题就认为它是我们的。我不得不改变

```
mustMatch: false, 
```

到

```
mustMatch: true, 
```

我编辑了我原来的问题，问另一个与同一主题有关的问题。

# sublimetext2 - 正则表达式匹配空间不是 \n

> ID：14190038
> 
> 赞同：0
> 
> 时间：2013-01-07T04:47:22.280
> 
> 标签：sublimetext2

原文是

```
81277184956 0 31    10000    0    0  0  0  4
afdsf sadfdsf 
```

我想用字符“|”替换所有空格 通过 Sublime text 2 的正则表达式。

预期结果应该是

```
81277184956|0|31|10000|0|0|0|0|4
afdsf|sadfdsf 
```

如果我使用模式“\s+”，它也会匹配\n，这样两行就变成了一行。如何得到正确的结果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:14:55.713

您可以添加排除“^”。

```
\s+[^\n] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:17:03.717

使用`[[:blank:]]+`, 等于`[\x20\t]+`

单击[此处](http://www.geocities.jp/kosako3/oniguruma/doc/RE.txt)了解有关 Oniguruma 正则表达式语法的更多详细信息，Sublime Text 中使用的正则表达式模块。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-31T13:07:13.247

> `regex=re.compile(' ') a=regex.sub('|',a)`

这就是您可以轻松完成任务的方法。

# python - 如何在 Python 中将 datetime.timedelta 转换为分钟、小时？

> ID：14190045
> 
> 赞同：75
> 
> 时间：2013-01-07T04:48:07.177
> 
> 标签：python, django

我得到一个像这样的 start_date：

```
from django.utils.timezone import utc
import datetime

start_date = datetime.datetime.utcnow().replace(tzinfo=utc)
end_date = datetime.datetime.utcnow().replace(tzinfo=utc)
duration = end_date - start_date 
```

我得到这样的输出：

```
datetime.timedelta(0, 5, 41038) 
```

如何将其转换为正常时间，如下所示？

10分钟，1小时这样

* * *

## 回答 #1

> 赞同：153
> 
> 时间：2013-01-07T05:02:08.740

对象没有内置的格式化程序`timedelta`，但自己很容易做到：

```
days, seconds = duration.days, duration.seconds
hours = days * 24 + seconds // 3600
minutes = (seconds % 3600) // 60
seconds = seconds % 60 
```

或者，等效地，如果您使用的是 Python 2.7+ 或 3.2+：

```
seconds = duration.total_seconds()
hours = seconds // 3600
minutes = (seconds % 3600) // 60
seconds = seconds % 60 
```

现在您可以随心所欲地打印它：

```
'{} minutes, {} hours'.format(minutes, hours) 
```

例如：

```
def convert_timedelta(duration):
    days, seconds = duration.days, duration.seconds
    hours = days * 24 + seconds // 3600
    minutes = (seconds % 3600) // 60
    seconds = (seconds % 60)
    return hours, minutes, seconds
td = datetime.timedelta(2, 7743, 12345)
hours, minutes, seconds = convert_timedelta(td)
print '{} minutes, {} hours'.format(minutes, hours) 
```

这将打印：

```
9 minutes, 50 hours 
```

如果您想获得“10 分钟，1 小时”而不是“10 分钟，1 小时”，您也需要手动执行此操作：

```
print '{} minute{}, {} hour{}'.format(minutes, 's' if minutes != 1 else '',
                                      hours, 's' if minutes != 1 else '') 
```

或者您可能想编写一个`english_plural`函数来`'s'`为您完成这些工作，而不是重复自己。

根据您的评论，听起来您实际上希望将日子分开。这更容易：

```
def convert_timedelta(duration):
    days, seconds = duration.days, duration.seconds
    hours = seconds // 3600
    minutes = (seconds % 3600) // 60
    seconds = (seconds % 60)
    return days, hours, minutes, seconds 
```

如果要将其转换为单个值以存储在数据库中，然后将该单个值转换回格式化它，请执行以下操作：

```
def dhms_to_seconds(days, hours, minutes, seconds):
    return (((days * 24) + hours) * 60 + minutes) * 60 + seconds

def seconds_to_dhms(seconds):
    days = seconds // (3600 * 24)
    hours = (seconds // 3600) % 24
    minutes = (seconds // 60) % 60
    seconds = seconds % 60
    return days, hours, minutes, seconds 
```

所以，把它放在一起：

```
def store_timedelta_in_database(thingy, duration):
    seconds = dhms_to_seconds(*convert_timedelta(duration))
    db.execute('INSERT INTO foo (thingy, duration) VALUES (?, ?)',
               thingy, seconds)
    db.commit()

def print_timedelta_from_database(thingy):
    cur = db.execute('SELECT duration FROM foo WHERE thingy = ?', thingy)
    seconds = int(cur.fetchone()[0])
    days, hours, minutes, seconds = seconds_to_dhms(seconds)
    print '{} took {} minutes, {} hours, {} days'.format(thingy, minutes, hours, days) 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-01-07T05:04:27.910

A`datetime.timedelta`对应于两个日期之间的*差异*，而不是日期本身。它仅以天、秒和微秒表示，因为像月和年这样的较大时间单位不能完全分解（是 30 天 1 个月还是 0.9677 个月？）。

如果要将 a 转换`timedelta`为小时和分钟，可以使用该[`total_seconds()`](http://docs.python.org/2/library/datetime.html#datetime.timedelta.total_seconds)方法获取总秒数，然后进行一些数学运算：

```
x = datetime.timedelta(1, 5, 41038)  # Interval of 1 day and 5.41038 seconds
secs = x.total_seconds()
hours = int(secs / 3600)
minutes = int(secs / 60) % 60 
```

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2017-05-14T14:33:57.740

如果我们只需要打印表单的字符串，则不需要自定义帮助函数`[D day[s], ][H]H:MM:SS[.UUUUUU]`。[timedelta](https://docs.python.org/2/library/datetime.html#timedelta-objects)对象支持`str()`执行此操作的操作。它甚至可以在 Python 2.6 中使用。

```
>>> from datetime import timedelta
>>> timedelta(seconds=90136)
datetime.timedelta(1, 3736)
>>> str(timedelta(seconds=90136))
'1 day, 1:02:16' 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2019-02-16T08:59:58.600

我不认为计算自己是个好主意。

如果您只想要一个漂亮的输出，只需将其转换`str`为`str()`函数或直接`print()`它。

如果还有小时和分钟的进一步使用，您可以将其解析为`datetime`对象使用`datetime.strptime()`（并使用 mehtod 提取时间部分`datetime.time()`），例如：

```
import datetime

delta = datetime.timedelta(seconds=10000)
time_obj = datetime.datetime.strptime(str(delta),'%H:%M:%S').time() 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-01-07T04:55:29.417

只需使用[strftime](http://docs.python.org/2/library/datetime.html#strftime-strptime-behavior) :)

像这样的东西：

```
my_date = datetime.datetime(2013, 1, 7, 10, 31, 34, 243366, tzinfo=<UTC>)
print(my_date.strftime("%Y, %d %B")) 
```

* * *

将您的问题编辑为 format 后`timedelta`，您可以使用：

```
def timedelta_tuple(timedelta_object):
   return timedelta_object.days, timedelta_object.seconds//3600, (timedelta_object.seconds//60)%60 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-03-03T08:29:54.280

我定义了自己的辅助函数来将 timedelta 对象转换为 'HH:MM:SS' 格式 - 只有小时、分钟和秒，而无需将小时更改为天。

```
def format_timedelta(td):
    hours, remainder = divmod(td.total_seconds(), 3600)
    minutes, seconds = divmod(remainder, 60)
    hours, minutes, seconds = int(hours), int(minutes), int(seconds)
    if hours < 10:
        hours = '0%s' % int(hours)
    if minutes < 10:
        minutes = '0%s' % minutes
    if seconds < 10:
        seconds = '0%s' % seconds
    return '%s:%s:%s' % (hours, minutes, seconds) 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-10-08T02:42:36.977

这个（较旧的）问题的替代方法是从转换为秒的 timedelta 创建一个*相对时间*。这可以使用从[epoch](https://unix.stackexchange.com/q/26205/109137)`time.gmtime(...)`接受秒数的方法来完成：

```
>>> time.strftime("%H:%M:%S",time.gmtime(36901))  # secs = 36901
'10:15:01' 
```

而且，就是这样！（注意：这是[格式说明符的链接，`time.strftime()`](http://strftime.org/)因此可以根据需要将差异截断为任何单位。...）

值得注意的是，这种技术也是判断您当前时区是否实际上处于夏令时的好方法。（它提供了 0 或 1 小时的偏移量，这意味着它基本上可以解释为布尔值。）

```
import datetime
import pytz
import time

pacific=pytz.timezone('US/Pacific')
now=datetime.datetime.now()
# pacific.dst(now).total_seconds() yields 3600 secs. [aka 1 hour]
time.strftime("%-H", time.gmtime(pacific.dst(now).total_seconds()))
'1' 
```

这可以呈现为一个方法`is_standard_time(...)`，其中`1`意味着 true 和`0`意味着 false。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2020-05-19T04:54:20.537

```
# Try this code
from datetime import timedelta

class TimeDelta(timedelta):
    def __str__(self):
        _times = super(TimeDelta, self).__str__().split(':')
        if "," in _times[0]:
            _hour = int(_times[0].split(',')[-1].strip())
            if _hour:
                _times[0] += " hours" if _hour > 1 else " hour"
            else:
                _times[0] = _times[0].split(',')[0]
        else:
            _hour = int(_times[0].strip())
            if _hour:
                _times[0] += " hours" if _hour > 1 else " hour"
            else:
                _times[0] = ""
        _min = int(_times[1])
        if _min:
            _times[1] += " minutes" if _min > 1 else " minute"
        else:
            _times[1] = ""
        _sec = int(_times[2])
        if _sec:
            _times[2] += " seconds" if _sec > 1 else " second"
        else:
            _times[2] = ""
        return ", ".join([i for i in _times if i]).strip(" ,").title() 
```

```
# Test
>>> str(TimeDelta(seconds=10))
'10 Seconds'
>>> str(TimeDelta(seconds=60))
'01 Minute'
>>> str(TimeDelta(seconds=90))
'01 Minute, 30 Seconds'
>>> str(TimeDelta(seconds=3000))
'50 Minutes'
>>> str(TimeDelta(seconds=3600))
'1 Hour'
>>> str(TimeDelta(seconds=3690))
'1 Hour, 01 Minute, 30 Seconds'
>>> str(TimeDelta(seconds=3660))
'1 Hour, 01 Minute'
>>> str(TimeDelta(seconds=3630))
'1 Hour, 30 Seconds'
>>> str(TimeDelta(seconds=3600*20))
'20 Hours'
>>> str(TimeDelta(seconds=3600*20 + 3000))
'20 Hours, 50 Minutes'
>>> str(TimeDelta(seconds=3600*20 + 3630))
'21 Hours, 30 Seconds'
>>> str(TimeDelta(seconds=3600*20 + 3660))
'21 Hours, 01 Minute'
>>> str(TimeDelta(seconds=3600*20 + 3690))
'21 Hours, 01 Minute, 30 Seconds'
>>> str(TimeDelta(seconds=3600*24))
'1 Day'
>>> str(TimeDelta(seconds=3600*24 + 10))
'1 Day, 10 Seconds'
>>> str(TimeDelta(seconds=3600*24 + 60))
'1 Day, 01 Minute'
>>> str(TimeDelta(seconds=3600*24 + 90))
'1 Day, 01 Minute, 30 Seconds'
>>> str(TimeDelta(seconds=3600*24 + 3000))
'1 Day, 50 Minutes'
>>> str(TimeDelta(seconds=3600*24 + 3600))
'1 Day, 1 Hour'
>>> str(TimeDelta(seconds=3600*24 + 3630))
'1 Day, 1 Hour, 30 Seconds'
>>> str(TimeDelta(seconds=3600*24 + 3660))
'1 Day, 1 Hour, 01 Minute'
>>> str(TimeDelta(seconds=3600*24 + 3690))
'1 Day, 1 Hour, 01 Minute, 30 Seconds'
>>> str(TimeDelta(seconds=3600*24*2))
'2 Days'
>>> str(TimeDelta(seconds=3600*24*2 + 9999))
'2 Days, 2 Hours, 46 Minutes, 39 Seconds' 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-01-07T04:55:19.160

您想以该格式打印日期吗？这是 Python 文档：[http ://docs.python.org/2/library/datetime.html#strftime-strptime-behavior](http://docs.python.org/2/library/datetime.html#strftime-strptime-behavior)

```
>>> a = datetime.datetime(2013, 1, 7, 10, 31, 34, 243366)
>>> print a.strftime('%Y %d %B, %M:%S%p')
>>> 2013 07 January, 31:34AM 
```

对于时间增量：

```
>>> a =  datetime.timedelta(0,5,41038)
>>> print '%s seconds, %s microseconds' % (a.seconds, a.microseconds) 
```

但请注意，您应该确保它具有相关值。对于上述情况，它没有小时和分钟值，您应该从秒计算。

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2015-10-15T01:22:07.153

```
datetime.timedelta(hours=1, minutes=10)
#python 2.7 
```

# php - 如何根据变量名执行方法（例如：$this->$variable）

> ID：14190047
> 
> 赞同：0
> 
> 时间：2013-01-07T04:48:21.093
> 
> 标签：php

一直在想办法：

```
$utils = $this->load( 'helper', 'Utils' );
$action = $utils->getAction() . '()';
$this->${action};
} 
public function Name() { .... } 
```

`$action`应该是`$_GET`或`$_POST`操作键的值。

如何使用加载`$action`方法`$this->$action()`？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T04:52:46.133

您不想将 附加`()`到字符串，而是将它们添加到调用中。

像这样：

```
$utils = $this->load( 'helper', 'Utils' );
$action = $utils->getAction();
$this->$action(); 
```

它们被称为“变量函数” - [http://php.net/manual/en/functions.variable-functions.php](http://php.net/manual/en/functions.variable-functions.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T04:52:27.480

如果它可以是 $_GET*或*$_POST，那么您可以使用 $_REQUEST。

所以在你的情况下，它会是这样的：

```
$action = $_REQUEST['action'];
$this->$action(); 
```

但是您提供的代码的解决方案就是这样做：

```
$utils = $this->load( 'helper', 'Utils' );
$action = $utils->getAction();
$this->$action(); 
```

# html - html标签内的条件样式

> ID：14190053
> 
> 赞同：0
> 
> 时间：2013-01-07T04:48:38.907
> 
> 标签：html, css, jsp, tags, styles

是否可以在标签内使用条件样式，如下所示？

```
<body>
    <div id="InScreenAlertContainer"
    <!--[if IE]>
    <style>width=100%</style>
    <![endif]-->
    >
    ...
    </div>
...
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T04:54:26.213

**根据使用的浏览器使用条件样式表**

```
<!--[if IE 6]>
<link rel="stylesheet" type="text/css" href="iespecific.css" />
<![endif]--> 
```

来源： [http ://www.thesitewizard.com/css/excludecss.shtml](http://www.thesitewizard.com/css/excludecss.shtml)

**JQuery`.css`方法允许您指定在事件发生后生效的样式**

```
//On Button Click - applies a style on click.
$('#change').click(function()
{
    $('body').css('background-color',$('#color').val()); 
}); 
```

来源： [在运行时更改 CSS 规则](https://stackoverflow.com/questions/6998993/change-css-rule-at-runtime)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:05:33.383

**你可以试试这个：**

```
 #div{
        padding: 10px; /* standard */
        padding: 17px\9; /* IE 8 and below */
        *padding: 15px\9; /* IE 7 and below */
        _padding: 16px\9; /* IE 6 */
    } 
```

**或者**

```
<!--[if IE]><p>You are using Internet Explorer.</p><![endif]-->
<![if !IE]><p>You are not using Internet Explorer.</p><![endif]>

<!--[if IE 7]><p>Welcome to Internet Explorer 7!</p><![endif]-->
<!--[if !(IE 7)]><p>You are not using version 7.</p><![endif]-->

<!--[if gte IE 7]><p>You are using IE 7 or greater.</p><![endif]-->
<!--[if (IE 5)]><p>You are using IE 5 (any version).</p><![endif]-->
<!--[if (gte IE 5.5)&(lt IE 7)]><p>You are using IE 5.5 or IE 6.</p><![endif]-->
<!--[if lt IE 5.5]><p>Please upgrade your version of Internet Explorer.</p><![endif]-->

<!--[if true]>You are using an <em>uplevel</em> browser.<![endif]-->
<![if false]>You are using a <em>downlevel</em> browser.<![endif]>

<!--[if true]><![if IE 7]><p>This nested comment is displayed in IE 7.</p><![endif]><![endif]--> 
```

**参考 ：**

[参考链接 1](http://webdesignerwall.com/tutorials/css-specific-for-internet-explorer)

[参考链接 2](https://stackoverflow.com/questions/3890740/are-there-any-ie9-css-hacks)

[参考链接微软](http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:05:10.910

也许你可以尝试这样的事情，但我还没有测试过。

```
 <!--[if IE 6]>
    <style>
       .mywidht{
           width:100px;
        }
    </style>
    <![endif]--> 
```

# java - 使用 jpa 和 glassfish 3.0.1 休眠

> ID：14190060
> 
> 赞同：2
> 
> 时间：2013-01-07T04:49:40.000
> 
> 标签：java, hibernate, jpa-2.0, java-ee-6, persistence.xml

你好我在我的项目中`hibernate`使用的所有`jpa`东西并像新的（dao name）一样访问dao。（methdoname）......例如。`new OrdersDao().createOrder()` 所以我想问你以这种方式使用它是否是一种好习惯..或者如果有其他建议，请建议我...我问这个问题，因为在我的应用程序中点击几下导航后，我收到了连接消息并且应用程序崩溃了..错误如下所示。警告：RAR5117：无法从连接池 [mypoolname] 获取/创建连接。原因：com.sun.appserv.connectors.in``ternal.api.PoolingException：使用中的连接等于 max-pool-size 和过期的 max-wait-time。无法分配更多连接。警告：RAR5114：分配连接时出错：[分配连接时出错。原因：使用中的连接等于 max-pool-size 和过期的 max-wait-time。无法分配更多连接。]

## 严重：java.lang.IllegalStateException：事务未激活

这是我的 persistence.xml 文件...

* * *

```
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/persistence         http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
version="2.0"> 
<persistence-unit name="mypu" >
<provider>org.hibernate.ejb.HibernatePersistence</provider>
<non-jta-data-source>myjndi</non-jta-data-source>
<properties>
<property name="datanucleus.storeManagerType" value="true" />
<property name="hibernate.bytecode.use_reflection_optimizer"
value="false" />
<property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect" />
<property name="hibernate.hbm2ddl.auto" value="update" />
<property name="show_sql" value="true" />
</properties>
</persistence-unit>
</persistence> 
```

# javascript - 是否有用于在浏览器中呈现的 Scheme 语言的语法高亮插件？

> ID：14190062
> 
> 赞同：1
> 
> 时间：2013-01-07T04:50:00.097
> 
> 标签：javascript, scheme, syntax-highlighting

当我搜索时，“方案”这个词看起来像一个糟糕的关键字，因为有一个叫做“配色方案”的东西。

我找到了 highlight.js 插件，只支持 Lisp？
[http://softwaremaniacs.org/media/soft/highlight/test.html](http://softwaremaniacs.org/media/soft/highlight/test.html)

您是否建议在浏览器中突出显示方案代码的任何库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T04:51:06.023

Stack Overflow 使用[Google Prettify](https://code.google.com/p/google-code-prettify/)进行语法高亮。它[支持类 Lisp 语言，包括带有](http://google-code-prettify.googlecode.com/svn/trunk/README.html#langs)[扩展名](https://code.google.com/p/google-code-prettify/source/browse/trunk/src/lang-lisp.js)[的`lang-lisp.js`](https://code.google.com/p/google-code-prettify/source/browse/trunk/src/lang-lisp.js)Scheme 。

将脚本添加到您的页面后，标记将如下所示：

```
<pre class="prettyprint lang-scm">(define five 5)</pre> 
```

**[试试看。](http://jsfiddle.net/B4P4D/embedded/result,html/)**

# .net - 有什么方法可以在我的 ASP.NET MVC Web 应用程序中模拟声明主体？

> ID：14190066
> 
> 赞同：12
> 
> 时间：2013-01-07T04:50:23.090
> 
> 标签：.net, asp.net-mvc, asp.net-identity, claims-based-identity, claims

我有一些`ASP.NET MVC`控制器代码可以检查用户是否经过身份验证，如果是，它会检查它是否有特定的声明。工作正常。

我有一些单元测试，我需要模拟一个`IPrincipal`（这很容易做到）......但我不确定如何检查索赔！我通常会做类似的事情

```
public static ClaimsPrincipal ClaimsPrincipal(this Controller controller)
{
    return controller.User as ClaimsPrincipal;
} 
```

和一些控制器代码......

```
this.ClaimsPrincipal().HasClaim(x => x.......); 
```

但是当我在我的单元测试中测试这个时这一切都失败了..因为我不确定我怎么`mock`能`ClaimsPrincipal`

有任何想法吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-04-12T02:14:24.373

模拟 ClaimsPrincipal 并不太难

```
var cp = new Mock<ClaimsPrincipal>();
cp.Setup(m => m.HasClaim(It.IsAny<string>(),It.IsAny<string>()))
  .Returns(true); 
```

但是，这取决于您的控制器如何访问它。看看这个问题[How to mock Controller.User using moq](https://stackoverflow.com/questions/758066/how-to-mock-controller-user-using-moq)

这会给你这样的东西：

```
var cp = new Mock<ClaimsPrincipal>();
cp.Setup(m => m.HasClaim(It.IsAny<string>(), It.IsAny<string>())).Returns(true);

var sut = new UtilityController();

var contextMock = new Mock<HttpContextBase>();
contextMock.Setup(ctx => ctx.User).Returns(cp.Object);

var controllerContextMock = new Mock<ControllerContext>();
controllerContextMock.Setup(con => con.HttpContext).Returns(contextMock.Object);

sut.ControllerContext = controllerContextMock.Object;

var viewresult = sut.Index(); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-07T06:04:51.597

我不确定您所说的“模拟”是什么意思。但是您可以简单地从头开始创建 ClaimsPrincipal。首先创建一个 ClaimsIdentity - 添加您需要的声明和身份验证方法。然后用 ClaimsPrincipal 包装它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-09T02:20:48.550

而且大多数方法都是虚拟的，因此它们是可模拟的。

# regex - 正则表达式不适用于 sed

> ID：14190068
> 
> 赞同：10
> 
> 时间：2013-01-07T04:50:27.927
> 
> 标签：regex, sed

我在文件中有这个文本

```
"0000000441244"
"0000000127769" 
```

我想用'L'替换所有零

我正在尝试这个并且没有任何改变

`sed -e 's/0+/L/g' regex.txt`

`sed -e 's/(0+)/L/g' regex.txt`

我想知道我错在哪里

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-07T05:05:16.847

Posix 兼容版本应该使用`00*`而不是`0+`：

```
sed -e 's/00*/L/g' regex.txt 
```

附带说明一下，`g`如果您想转换`"000000012700009"`甚至`"000000012709"`转换为`"L127L9"`. 否则，`*`in`'s/00*/L/'`无论如何都会在开头包含所有零。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T05:02:38.200

在 Linux（GNU 版本的 sed）中，两者`sed -e 's/0\+/L/g' regex.txt`都`sed -r 's/0+/L/g' regex.txt`可以，但如果您使用的是 Mac（BSD 版本的 sed），它们都不起作用，相反，您必须使用： `sed -E 's/0+/L/g' regex.txt`.

实际上最后一个也适用于 Linux，所以它更便携。对于这个特殊问题，@perreal 的建议也是可移植的。但是当您确实需要`+`正则表达式中的其他元字符时，您最好知道如何解决它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T04:57:14.687

尝试这个

```
sed -e 's/0\+/L/g' regex.txt 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:00:50.800

如果您使用*除*GNU 之外的任何 Unix 风格，您可以自己安装 GNU sed 或直接切换到`awk`or`ruby`或`perl`.

例如：

```
ruby -e 'ARGF.each{|l|puts l.gsub(/0+/, "L")}' regex.txt 
```

使用 awk：

```
awk '{gsub("0+", "L"); print $0}' regex.txt 
```

在 Mac OS/X 上，扩展的正则表达式可以通过`-E`而不是`-e`.

来自“BSD通用命令手册”：

> ```
> -E    Interpret regular expressions as extended (modern) regular 
>       expressions rather than basic regular expressions (BRE's).
>       The re_format(7) manual page fully describes both formats. 
> ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-07T06:46:08.743

这可能对您有用（GNU sed）：

```
sed 'y/0/L/' file 
```

# zend-framework - 无法从 Zend_Db_Table_Rowset 检索行

> ID：14190075
> 
> 赞同：0
> 
> 时间：2013-01-07T04:50:57.483
> 
> 标签：zend-framework, zend-db

我已经成功地从我的数据库表中提取了一个行集到视图脚本中。我`var_dump($result)`在视图脚本上做了一个确认。但我无法获取各个行以正确显示其内容。

```
<?php
if($this->result)
    while($data =$this->result->getRow())
        var_dump($data); 
```

我收到错误消息（截断..）：

```
Message: No row could be found at position 0 
Stack trace:
#0 C:\wamp\www\events\application\views\scripts\event\fetch.phtml(6): Zend_Db_Table_Rowset_Abstract->getRow()
....
.... 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-07T05:40:44.187

我终于把它整理好了。该`getRow()`方法显然不适用于`while()`循环。我切换到`foreach()`循环并解决了。

虽然我仍然想知道为什么`while()`循环不起作用。

# r - 创建自定义时区

> ID：14190076
> 
> 赞同：3
> 
> 时间：2013-01-07T04:51:01.087
> 
> 标签：r, timezone

是否可以在 R 中创建自定义时区来处理日期时间对象？

更具体地说，我对处理 POSIXct 对象感兴趣，并希望创建一个与“美国/东部”相对应的时区 - 17 小时。具有类似偏移的时区不遵循与美国相同的夏令时惯例。

使用如此定义的时区的原因来自外汇交易，对于这种情况，美国东部标准时间下午 5 点是合理的“午夜”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:21:56.253

当您关心每天的特定“午夜”时间时，我假设您想要获得一个没有时间的日期，该日期在该时间切换。如果这是您的意图，那么简单地`17*3600`从您的时间向量中减去 17 小时（= 秒）并获取结果`POSIXct`值的日期如何？

这将避免复杂的时区操作，据我所知，这些操作通常不是由 R 本身而是由底层 C 库处理，因此它们可能难以在 R 中实现。相反，所有计算都将在 EST 中执行，并且您仍然会得到与当地午夜不同的切换时间。

# java - 我想在 HTTP 请求中设置值并在另一个与不同 zul 文件相关的独立 MVVM 中获取值

> ID：14190085
> 
> 赞同：0
> 
> 时间：2013-01-07T04:52:35.760
> 
> 标签：java, data-binding, mvvm, zk

我研究 ZK 框架已经有一段时间了。我无法弄清楚如何在 HTTP 请求中设置参数并在其他页面中获取它们？

我也无法使用`@GlobalCommand`注释。这实际上是如何`@GlobalCommand`工作的？

我不想将值发送到弹出窗口或模式对话框。我想通过 sendRedirect 等将值发送到独立的 zul 页面......

请提供这两件事的例子。

我做的例子`@GlobalCommand`

DemoVM.java

```
package com.nagarro.viewmodel;

import java.util.HashMap;
import org.zkoss.bind.BindUtils;
import org.zkoss.bind.annotation.BindingParam;
import org.zkoss.bind.annotation.Command;
import org.zkoss.bind.annotation.GlobalCommand;
import org.zkoss.zk.ui.Executions;
import org.zkoss.bind.annotation.NotifyChange;

public class DemoVM {

    private String value1;
    private String value2;

    @Command
    public void showModelWin() {
        final HashMap<String, Object> map = new HashMap<String, Object>();
        map.put("value1", this.value1);
        map.put("value2", this.value2);
        BindUtils.postGlobalCommand(null, null, "getValues", map);
        Executions.sendRedirect("ModelWindow.zul");
    }

    @GlobalCommand
    @NotifyChange({ "value1", "value2" })
    public void refreshvalues(@BindingParam("returnvalue1") String str1,
            @BindingParam("returnvalue2") String str2) {
        this.value1 = str1;
        this.value2 = str2;
    }

    public String getValue1() {
        return value1;
    }

    public void setValue1(String value1) {
        this.value1 = value1;
    }

    public String getValue2() {
        return value2;
    }

    public void setValue2(String value2) {
        this.value2 = value2;
    }
} 
```

演示.zul

```
<?page title="Demo Page" contentType="text/html;charset=UTF-8"?>
<zk>
    <window title="MVVM Modal window Passing arguments and return values"
        border="normal" apply="org.zkoss.bind.BindComposer" id="DemoVM"
        viewModel="@id('e') @init('com.nagarro.viewmodel.DemoVM')">
        Type any value and Press the Model Window Button
        <separator />
        Value 1 :
        <textbox value="@bind(e.value1)" />
        Value 2 :
        <textbox value="@bind(e.value2)" />
        <button label="Model Window" onClick=" @command('showModelWin')" />
    </window>
</zk> 
```

模型窗口VM.java

```
package com.nagarro.viewmodel;

import org.zkoss.bind.annotation.BindingParam;
import org.zkoss.bind.annotation.Command;
import org.zkoss.bind.annotation.ContextParam;
import org.zkoss.bind.annotation.ContextType;
import org.zkoss.bind.annotation.ExecutionArgParam;
import org.zkoss.bind.annotation.GlobalCommand;
import org.zkoss.bind.annotation.Init;
import org.zkoss.bind.annotation.NotifyChange;
import org.zkoss.zk.ui.Component;
import org.zkoss.zk.ui.Executions;
import java.util.HashMap;
import org.zkoss.bind.BindUtils;
import java.util.Map;

public class ModelWindowVM {

    private String value1;
    private String value2;

    @Init
    public void init(@ContextParam(ContextType.VIEW) Component view,
            @ExecutionArgParam("value1") String v1,
            @ExecutionArgParam("value2") String v2) {
        this.value1 = v1;
        this.value2 = v2;
    }

    @Command
    public void save() {
        Map<String, Object> args = new HashMap<String, Object>();
        args.put("returnvalue1", this.value1);
        args.put("returnvalue2", this.value2);
        BindUtils.postGlobalCommand(null, null, "refreshvalues", args);
        Executions.sendRedirect("Demo.zul");
    }

    @GlobalCommand("getValues")
    @NotifyChange({"value1","value2"})
    public void getValues(@BindingParam("value1") String value1, @BindingParam("value2") String value2){
        this.value1 = value1;
        this.value2 = value2;

    }
    public String getValue1() {
        return value1;
    }

    public void setValue1(String value1) {
        this.value1 = value1;
    }

    public String getValue2() {
        return value2;
    }

    public void setValue2(String value2) {
        this.value2 = value2;
    }

} 
```

模型窗口.zul

```
<?page title="Model Window Page" contentType="text/html;charset=UTF-8"?>
<zk>

    <window id="modalDialog"
        title="MVVM Modal window Passing arguments and retur values"
        width="420px" height="auto" border="normal" minimizable="false"
         maximizable="false" closable="true"
        action="hide: slideUp" apply="org.zkoss.bind.BindComposer"
        onCancel="@command('closeThis')"
        viewModel="@id('e') @init('com.nagarro.viewmodel.ModelWindowVM')">

        Change the values and Press the Ok Button to return changed
        values.
        <separator />
        Value 1 :
        <textbox value="@bind(e.value1)" />
        Value 2 :
        <textbox value="@bind(e.value2)" />
        <button label="Ok" onClick="@command('save')" />
    </window>
</zk> 
```

我使用了 BindUtils.postGlobalCommand() 方法，但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:52:59.333

我不确定您所说的http请求参数是什么意思。也许你想用[这样](http://books.zkoss.org/wiki/Example_of_execution_getParameter)
的参数调用 url ？

您也可以使用[`Executions.createComponents(...)`](http://www.zkoss.org/javadoc/6.5.1/zk/org/zkoss/zk/ui/Executions.html#createComponents%28java.lang.String,%20org.zkoss.zk.ui.Component,%20java.util.Map%29)而不是重定向
来将数据映射传递到新页面。
只需通过调用
`myComponent.setParent(null)`树中不需要的最高元素来分离不再需要
的组件，并将新组件附加到其父级。
如果您想更改 URL，可以使用[HTML5-History-API](http://blog.zkoss.org/index.php/2012/03/30/history-management-with-html5-history-api-in-zk/)。

`@GlobalCommand`可以调用 带有注释的方法[`postGlobalCommand(...)`](http://www.zkoss.org/javadoc/latest/zk/org/zkoss/bind/BindUtils.html#postGlobalCommand%28java.lang.String,%20java.lang.String,%20java.lang.String,%20java.util.Map%29)

## 编辑

但是您的问题是，您尝试调用一个`postGlobalCommand(...)`
此时不存在的方法，因为您尝试`getValues(...)`从
ModelWindow.zul 的 VM 实例调用，但是
客户端没有打开 ModelWindow.zul，因此没有实例`ModelWindowVM`. 请注意，VM 类实例
始终与其初始化的组件共存。

正如我上面提到的，解决问题的一种方法是使用`createComponents()`,
因为您可以简单地传递地图，现在您尝试将其传递给全局命令 to `createComponents()`。

## 在 zk 中访问数据的其他方式

在底部，描述了如何保存可
从所有 *.zul[或同一](http://www.zkoss.org/forum/listComment/10366)[桌面](http://books.zkoss.org/wiki/ZK_Developer%27s_Guide/Fundamental_ZK/Basic_Concepts/Page_and_Desktop)`Composer`的 VM 类访问的值。

或者您可以使用服务器端[事件队列](http://books.zkoss.org/wiki/ZK_Developer%27s_Reference/Event_Handling/Event_Queues)。

# html - PSD 到 Joomla 的转换教程

> ID：14190088
> 
> 赞同：2
> 
> 时间：2013-01-07T04:52:56.183
> 
> 标签：html, css, joomla, psd

我是 Joomla 的新手，并且正在阅读一些与基于 Joomla 的设计相关的教程。虽然我已经在我的机器上安装了 Joomla 并将我的 PSD 文件编码为 CSS/HTML，但我目前仍不知道如何将这个文件集成到 Joomla 包中。Joomla 有一个默认的 index.php 页面，它显示了如何用我的 HTML 页面替换它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:48:02.217

你可以参考下面的链接。如果您有任何问题，请告诉我。

[创建一个基本的 Joomla！模板](http://docs.joomla.org/Creating_a_basic_Joomla!_template)

[如何创建您的第一个 Joomla 模板](http://net.tutsplus.com/tutorials/other/creating-your-first-joomla-template/)

[如何构建 Joomla 模板：从头到尾](http://net.tutsplus.com/tutorials/php/how-to-build-a-joomla-template-start-to-finish/)

[使用 Joomla 创建模板：一步一步](http://net.tutsplus.com/tutorials/site-builds/create-a-template-with-joomla-step-by-step/)

[如何构建响应式 Joomla 模板？](http://forum.joomla.org/viewtopic.php?t=733804)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:10:17.003

您将希望将您的设计放入 Joomla 模板中。[本教程应该会有所帮助，从第 4 步开始](http://net.tutsplus.com/tutorials/other/creating-your-first-joomla-template/)。

为了节省时间，您可以尝试找到一个与您的设计结构非常匹配的模板并对其进行修改。

在该文件夹中，`joomlaroot/templates/yourtemplatename/`您可以编辑和任何其他文件以获得所需的外观。您添加到设计中的任何图像也应该放在模板目录中。`index.php``templateDetails.xml`

确保只编辑模板文件夹中的文件，否则如果您将来尝试更新 Joomla 安装，可能会发生坏事:)

# mysql - MySQL INSERT INTO... SELECT - 如何确定哪些选择子句导致 NULL？

> ID：14190089
> 
> 赞同：0
> 
> 时间：2013-01-07T04:52:56.897
> 
> 标签：mysql, select, insert

我正在尝试将一行插入到引用其他表中的键的表中。在某些情况下，插入/选择将失败，因为所选值不能为空。我想知道哪些选择失败，以便我可以根据需要在其他表中创建必要的行。

下面的例子有点做作，但应该说明这里的挑战：

```
CREATE TABLE TableOne
(
  TableOneId INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  Value VARCHAR(64) NOT NULL
) ENGINE=InnoDB;

CREATE TABLE TableTwo
(
  TableTwoId INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  Value VARCHAR(64) NOT NULL
) ENGINE=InnoDB;

CREATE TABLE DependentTable
(
  DependentId INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  TableOneId INT UNSIGNED NOT NULL,
  TableTwoId INT UNSIGNED NOT NULL,
  Value FLOAT NOT NULL,
  FOREIGN KEY (TableOneId) REFERENCES TableOne(TableOneId),
  FOREIGN KEY (TableTwoId) REFERENCES TableOne(TableTwoId)
) ENGINE=InnoDB;

INSERT INTO DependentTable (Value, TableOneId, TableTwoId) SELECT 1.0, TableOne.TableOneId, TableTwo.TableTwoId FROM TableOne,TableTwo WHERE TableOne.Value='TableOneValue' AND TableTwo.Value='TableTwoValue';

Query OK, 0 rows affected (0.00 sec)
Records: 0  Duplicates: 0  Warnings: 0 
```

如果 'TableOneValue' 或 'TableTwoValue' 不存在，则 select 将返回 null 并插入 0 行 - 正如预期的那样。但是，我希望获得一些其他信息，这些信息可以让我确定哪个值不存在，以便我可以创建它。

问题是，至少在我的实际情况下，盲目地创建每个值来满足外键引用将是过度杀伤/昂贵的，因为有多个外键并且其中一些依赖表将具有其他必需的依赖关系。我想更智能地处理它并确定哪些引用不存在，而只创建那些引用。

我可以尝试在依赖表中一个接一个地创建行，等到实际插入一行（而不是获取重复条目），然后再次尝试原始插入 - 但感觉应该有更好/更多优雅的方式来做到这一点......

提前感谢您的任何建议/想法...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:04:57.660

我要做的是将所有内容插入没有外键的中间表中。然后使用该表查询TableOne和TableTwo，查看TableOneId和TableTwoId中的哪些项在TableOne和TableTwo中不存在。然后进行调整、清理等。

`INSERT INTO IntermediateTable(DependentId, TableOneId, TableTwoId, Value) blah blah blah`

下面将向您显示缺失值（对 TableTwo 重复）：

`SELECT * FROM IntermediateTable i LEFT JOIN TableOne t1 ON t1.TableOneid = i.TableOneId WHERE t1.TableOneId IS NULL`

清理完成后，您可以将中间表中的所有内容复制到定义了外键的 DependentTable 中。

`INSERT INTO DependentTable SELECT * FROM IntermediateTable`-- 一切都已清理，因此现在 TableOne 和 TableTwo 中没有丢失的 id。

如果没有这个中间表，您将缺少一些可用于针对 TableOne 和 TableTwo 查询未定义 id 的东西。

# c# - 选择并插入命令 OLEDB 命令 c#

> ID：14190091
> 
> 赞同：2
> 
> 时间：2013-01-07T04:53:32.237
> 
> 标签：c#, oledb

我有一个带有两个选项卡的 excel 表，所以我想从一个选项卡中获取一行并插入另一个选项卡，我认为它与 sqlserver 或 mysql 中的相同。只需选择并插入..

我正在使用这个查询，但它说语法错误，不确定其中有什么问题。

```
 testCommand.CommandText = "Insert into [ActiveLicenses$]( Select * from [companies$] 
                             where [License Number] = '" + lnumber + "')";

  testCommand.ExecuteNonQuery(); 
```

**更新**

有没有办法直接从excel表中删除行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:05:43.287

您可以使用 SQL 从 Excel 中提取数据：

```
 using (OleDbDataAdapter da = new OleDbDataAdapter(
     "SELECT " + columns + " FROM [" + worksheetName + "$]", conn))
     {
       DataTable dt = new DataTable(tableName);
       da.Fill(dt);
       ds.Tables.Add(dt);
     } 
```

不幸的是，插入到 excel 中并不能以这种方式工作。我很确定您不能使用 OleDb 插入命令指定要写入的单元格，它会自动转到指定列中的下一个打开行。您可以使用更新语句解决它：

```
sql = "Update [Sheet1$A1:A10] SET A10 = 'YourValue'"; 
myCommand.CommandText = sql;
myCommand.ExecuteNonQuery(); 
```

我个人会使用 VSTO 而不是 oleDB。提取单元格后，只需使用代码打开电子表格并插入数据：

```
Excel.Workbook wb = xlApp.Workbooks.Open(filePath);
rng = wb.Range["A1"];
rng.Value2 = "data"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:41:30.767

一种更快的方法。

我将所有许可证放入 DataTable 并删除不需要的许可证不到 1 分钟。然后只需将 DataTable 导出到 Csv，这样我就可以在不到 1 分钟的时间内准备好文件。

下面的示例：

```
static List<string> licensecAll = new List<string>();
DataTable dt = new DataTable();
            OleDbDataAdapter dp = new OleDbDataAdapter("select * from [companies$]", testCnn);
            dp.Fill(dt);
            if (dt.Rows.Count > 0)
            {
                for (int i = dt.Rows.Count-1; i >= 0; i--)
                {
                    string lnum = dt.Rows[i][0].ToString();
                    Console.WriteLine("LICENSE NUMBER" + lnum);
                    if (!licensecAll.Contains(lnum))
                    {
                        Console.WriteLine("ROW REMOVED");
                        dt.Rows.RemoveAt(i);
                    }
                }

            } 
```

然后只需将数据表运行到 csv....

```
 public static void DataTable2CSV(DataTable table, string filename, string seperateChar)
    {

        StreamWriter sr = null;

        try
        {

            sr = new StreamWriter(filename);
            string seperator = "";
            StringBuilder builder = new StringBuilder();
            foreach (DataColumn col in table.Columns)
            {

                builder.Append(seperator).Append(col.ColumnName);

                seperator = seperateChar;
            }

            sr.WriteLine(builder.ToString());

            foreach (DataRow row in table.Rows)
            {

                seperator = "";
                builder = new StringBuilder();
                foreach (DataColumn col in table.Columns)
                {

                    builder.Append(seperator).Append(row[col.ColumnName]);
                    seperator = seperateChar;

                }

                sr.WriteLine(builder.ToString());

            }

        }

        finally
        {

            if (sr != null)
            {

                sr.Close();

            }

        }

    } 
```

# php - 在这个循环中表现得很奇怪认为最好只给你看代码。while ($row = mysql_fetch_array($enheder)) { echo"  " .$row['模型']。“ ” .$row['SN']。“ ” .$row['Softwarever']。“ ” .$row['KobtDato']. “ ” .$row

> ID：14190092
> 
> 赞同：-3
> 
> 时间：2013-01-07T04:53:32.953
> 
> 标签：php, html, mysql, forms, loops

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T04:58:29.883

您还没有关闭 if 条件也没有关闭表格单元格

`mysql`不推荐使用`mysqli`或`pdo`

```
<select name="dato"><?
while ($datorow = mysql_fetch_array($dato)) {
    if ($datorow['Servicenum'] == $row['ID1']) {
        ?>
        <option value="something">something</option>
        <?
    }// here was the mistake
}
?></select> 
```

# c++ - 什么时候使用directX，什么时候使用OpenGL？

> ID：14190095
> 
> 赞同：-3
> 
> 时间：2013-01-07T04:54:02.470
> 
> 标签：c++, opengl, directx, game-engine

> **可能重复：**
> [OpenGL 还是 DirectX？](https://stackoverflow.com/questions/1240625/opengl-or-directx)

我已经在网上找了一段时间了，我什至读过这篇文章：[OpenGL or DirectX?](https://stackoverflow.com/questions/1240625/opengl-or-directx)

但它要么并没有真正告诉我确切的区别是什么，要么人们只是发布“他们认为他们知道的东西”。

我真的很想确切地知道它们之间有什么区别，这样我至少可以尝试自己判断在创建游戏时使用哪个 API。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:01:11.460

正如评论所指出的那样，DirectX 主要与 Windows 相关联。OpenGL 将为您提供可移植性。但是，还有另一个主要区别。DirectX 是一个完整的游戏编程库，因为它支持图形、网络和声音编程等等。OpenGL 只是一个图形库，它不为您提供例如声音和网络功能。然而，图形明智的 OpenGL 可能会给你更好的性能，因为你可以真正调整它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T04:55:29.223

当您想限制自己使用 Windows 和 XBox 时，您可以使用 DirectX。当跨平台可行性很重要时，您会使用 OpenGL。

# swipe - 滑动分页

> ID：14190096
> 
> 赞同：0
> 
> 时间：2013-01-07T04:54:02.733
> 
> 标签：swipe, photoswipe

有很多用于移动网站的 jQuery 图片库插件和滑动手势插件。

我想在我的网站上合并其中的两个。使用一个没有问题，但如果我尝试在一个页面上使用两个。它似乎效果不佳。应该是冲突吧。

我使用[wookmark](http://www.wookmark.com/jquery-plugin)，它非常适合移动设备上的缩略图列表。我想将手指滑动分页应用于此图像列表。

我可以创建一个带有缩略图的列表页面......

现在我只想滑动下一页以获取更多图像。

类似的示例在这里：

[http://m.search.naver.com/search.naver?sm=mtb_hty.top&where=m_image&query=Amanda+Seyfried](http://m.search.naver.com/search.naver?sm=mtb_hty.top&where=m_image&query=Amanda+Seyfried)

# java - “最终静态字符串”和“静态字符串”之间的区别？

> ID：14190110
> 
> 赞同：9
> 
> 时间：2013-01-07T04:56:24.290
> 
> 标签：java

```
public static final String Test = "ABC";
public static String Test = "ABC"; 
```

请说明java中“final static String”和“static String”的区别。除了最后一个不能改变，还有什么区别？谢谢。在多线程和继承等更复杂的情况下，什么都没有改变？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-07T05:27:15.977

虽然以下描述取自 Android 文档，但可能有助于解决这个 Java 标记问题。

***考虑类顶部的以下声明：***

```
static int intVal = 42;
static String strVal = "Hello, world!"; 
```

*编译器生成一个类初始化方法，称为 ，该方法在第一次使用该类时执行。该方法将值 42 存储到 intVal 中，并从类文件字符串常量表中提取 strVal 的引用。稍后引用这些值时，将通过字段查找来访问它们。*

***我们可以使用“final”关键字改进问题：***

```
static final int intVal = 42;
static final String strVal = "Hello, world!"; 
```

*该类不再需要方法，因为常量进入 dex 文件中的静态字段初始值设定项。引用 intVal 的代码将直接使用整数值 42，而对 strVal 的访问将使用相对便宜的“字符串常量”指令而不是字段查找。*

***笔记：***

> 此优化仅适用于原始类型和字符串常量，而不适用于任意引用类型。不过，尽可能将常量声明为 static final 是一种很好的做法。

希望这会清楚。

[UseFinal](http://developer.android.com/training/articles/perf-tips.html#UseFinal)中的更多详细信息

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-07T04:58:13.567

当涉及到变量

*   `final Static String`- 常量，它是类变量
*   `static String`- 类变量而不是常量

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-07T05:02:06.727

这里还有更多

```
static final String s1;
static String s2; 
```

第 1 行不编译，第 2 行编译

原始类型还有更多。

```
final int x = 1;

void x() {
    int y = x + 1;
} 
```

字节码

```
ICONST_2
ISTORE 1 
```

这意味着`int y = 2`因为 x 是一个常数（尽管它不是静态的）

如果我们改变

```
int x = 1; 
```

字节码

```
ALOAD 0
GETFIELD Test1.x : I
ICONST_1
IADD
ISTORE 1 
```

JVM 读取 x 并计算 y

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T04:59:46.347

根据[维基](http://en.wikipedia.org/wiki/Final_%28Java%29#Final_variables)

> 如果该变量是一个引用，这意味着该变量不能被重新绑定以引用另一个对象。但是它引用的对象仍然是可变的，如果它最初是可变的。

但是，由于从开始`String`是**不可变的**，因此在这种情况下**差异是无关紧要**的，它只是一个**无论如何都不能修改的变量**。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-07T05:01:28.630

你自己说的：最后一个不能分配。据我所知，`final`修饰符提供了除此之外的其他行为。我能想到的唯一一件事`Test`是`public`，编译`static`器`final`会自动替换`Test`代码中所有出现`"ABC"`的. 基本上，final 可以防止将 String 分配给不同的引用，仅此而已。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-07T05:06:31.017

一个`final`类不能被子类化。这就像`sealed`C# 中的类。

方法`final`不能被覆盖。

一个`final`字段只能被初始化/分配一次，就像一个常量，但在编译时可能不一定知道。

`static`成员在类的所有实例上共享。

所以，`static final`通常是为了你永远不会再改变的东西，但不一定在编译时硬编码。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-07T05:09:03.500

将 java 变量声明为 static final 时，编译的 java 类会提高性能。

[检查这个](http://javapapers.com/core-java/explain-the-final-keyword-in-java/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-07T05:17:03.397

您不能更改最终的参考如下

```
public static final String Test1 = "ABC";
public static String Test2 = "ABC";
public static void testFinal()
{
    Test2 = Test1; //ok
    Test1 = Test2; //fail
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-07T05:45:04.527

我认为在字符串的情况下它们之间没有**其他**区别。

在多线程的情况下，建议我们应该尝试使对象不可变，这样就不会有对象状态发生不希望的状态更改的风险（由于不正确的同步或避免同步开销）。

`final`如果使用得当，关键字（在类、字段、方法等各个地方）有助于实现不变性，但`String`s 默认情况下是不可变的。

在继承的情况下，最终方法不能被覆盖，但这里又不是这种情况。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-01-07T06:01:32.363

final 静态字符串 - 常量，它是类变量，可以从任何类访问，但不能更改静态字符串 - 类变量，而不是常量，可以从任何类访问和更改

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-01-07T06:03:46.030

我认为第一个语句通常用于定义一个字符串常量。并且常量变量名建议使用“TEST”而不是“Test”。

```
public static final String TEST = "ABC"; 
```

第二个语句很少使用是有充分理由的。它可能会导致多线程上下文中的并发问题。我们可以在我们的类中有私有实例字符串字段：

```
private String test = "ABC"; 
```

希望这可以帮助！

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2013-01-07T05:03:09.353

final变量是实例变量，初始化后其值不能改变。

但是静态变量属于一个类。这将在所有实例之间共享。因此，当您更改实例中静态变量的值时，它会反映在所有实例中。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2013-01-07T05:28:20.497

字符串既可以声明为静态的，也可以声明为最终的。使用这两个访问说明符声明字符串的优点如下所述。

优点包括 final 和 static 的影响。

1.  不能重新分配声明为 final 的字符串。字符串作为常量工作。

2.  可以在没有对象或类名的帮助下调用声明为静态的字符串。

3.  静态变量不维护封装。将静态变量声明为 final，没有对象可以更改该值但可以访问它。

    ```
    public class Demo {

    static final String str = "Hello";

    public static void main(String args[]) {
    // str = "world"; // gives error
    System.out.println(str); // called without the help of an object
    System.out.println(Demo.str);// called with class name

    }
    } 
    ```

main() 方法中的第一条语句给出了错误，因为字符串 str 被声明为 final。

以下语句引发编译错误，因为字符串 str 被声明为 final。

```
Demo d1 = new Demo();
d1.str =  "World"; 
```

实时示例

static final String truth = "太阳从东方升起";

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2013-01-07T05:32:18.017

干得好：

1) `final static String`: 当你说 final 它是一个常数并且你不能在整个程序中改变它的值。它不是一个变量，你不能改变它的值。在 Java 中，我们使用 final 关键字来声明常量。在声明常量时，我​​们应该在所有大写字母后面加上下划线来分隔单词。例如：MAX_INPUT_TIME、CONNECTION_POOL_SIZE、MAX_USER 等。

2）`static String`：您可以将静态用于类的成员变量，而不能用于局部变量。静态变量是静态的，即使不创建类的实例也可以访问。因此，您可以通过`object.<static_variable_name>`或使用它们`ClassName.<static_variable_name>`。它们是可访问的，并且对于类的所有实例都具有相同的值。

例如：

```
Class A {
  static int counter;  // it will be default to 0
} 
```

现在在使用这个类时：

```
System.out.println(A.counter);  // output: 0
A.counter++;
System.out.println(A.counter);  // output: 1
// Declare an instance of class A
A o1 = new A();
o1.counter++;
System.out.println(o1.counter);  // output: 1
// Declare another instance of class A
A o2 = new A();
System.out.println(o1.counter);  // output: 1  
# You still get it one and not 0, if it was non-static you would get it as 0; 
```

例如，在这里，您可以使用静态变量来跟踪通过在构造函数本身中放置计数器增量而创建的对象数量。

# c# - .NET 3D，从哪里开始？

> ID：14190116
> 
> 赞同：5
> 
> 时间：2013-01-07T04:57:47.377
> 
> 标签：c#, 3d

我想将 3D 用于两个目的。一个是为我的应用程序以一种奇特的方式显示统计数据，另一个是制作一个简单的 3D 游戏。

我正在寻找的是一个最好是开源的库，因此我可以将它包含在我的 C# 项目中，而无需使用任何 dll，但如果没有其他选择，这没什么大不了的。我出售我的应用程序，因此我需要能够将库用于商业目的。如果我可以在 Blender 3D 中创建模型并将它们轻松导入库中，那将是完美的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T05:08:25.733

您是否考虑过使用[MOGRE](http://www.ogre3d.org/tikiwiki/tiki-index.php?page=MOGRE)，它是[OGRE](http://www.ogre3d.org/)的 .NET 包装器？OGRE 是 MIT 许可的，非常适合商业用途，而 MOGRE 似乎是 LGPL 许可的，因此也适合商业用途（如果您动态链接，则不必发布源代码）。

[快速搜索](https://www.google.com.au/webhp?q=ogre%20blender)会找到 Blender的插件以导出为 OGRE 的模型格式，所以你应该没问题。

您还可以使用[XNA](http://msdn.microsoft.com/en-us/centrum-xna.aspx)，它是由 Microsoft 编写的用于游戏开发的托管库。然而，最近（2013 年 1 月），微软似乎正在推动人们远离 XNA 进行 Windows 开发，并回到原生代码。

例如，在最后一个链接中，他们将 XNA 定位为适用于 Xbox Live Indie Games 和 Windows Phone 游戏，而 DirectX 则适用于 Windows。同样，[Microsoft Create 站点](http://create.msdn.com/)（如果我没记错的话）曾经有用于 Windows XNA 开发的资源，现在有 2 个用于 Windows Phone 和 XBox 的大图块，并且没有提及 Windows 开发。最后，（目前）没有迹象表明 Visual Studio 2012 中添加了 XNA 支持（但这可能是因为正在为即将推出的新 Xbox 开发新版本的 XNA）。

[MonoGame](http://www.monogame.net/)是 XNA 的开源实现（就像 Mono 是 .NET 的开源实现一样），但我不确定它的 3D 功能。

如果这没有帮助，还有很多关于这个主题的其他问题和答案：

*   [https://stackoverflow.com/questions/271138/best-3d-graphics-engine-for-net](https://stackoverflow.com/questions/271138/best-3d-graphics-engine-for-net)
*   [在 C# 中使用哪个 API 来绘制 3D 对象？](https://stackoverflow.com/questions/509990/which-api-to-use-to-draw-3d-objects-in-c)
*   [等等等等](https://stackoverflow.com/search?q=c%23+3d)……

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T05:03:09.223

C# 本身只是一种语言，它没有自己渲染的概念。“在您的项目中包含 3D”意味着该库必须适应您的渲染引擎，例如，如果您有 WPF 项目或 Windows 窗体项目，情况就不同了。可能有库（尤其是 Windows Presentation Foundation），但为什么不使用[Microsoft XNA](http://en.wikipedia.org/wiki/Microsoft_XNA)呢？它在托管环境中运行，它允许您完全用 C# 或任何其他 CLR 语言构建您的游戏/查看器/通用项目。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T05:10:24.367

Unity 旨在使您能够创建最佳的交互式娱乐或多媒体体验。 [http://unity3d.com/promo/unity4/?gclid=CMOSnf281bQCFUbf4AodohUAQQ](http://unity3d.com/promo/unity4/?gclid=CMOSnf281bQCFUbf4AodohUAQQ)

# jquery - 我的 jquery 插件抛出异常

> ID：14190121
> 
> 赞同：0
> 
> 时间：2013-01-07T04:58:24.557
> 
> 标签：jquery, exception, plugins

我正在做一个项目，让字体在将鼠标移到它上面时改变它的颜色。这是没有jquery插件的版本：这是html代码部分：

```
<div><a href="#" style="color:#000000;text-decoration:none;font-size:20px;" id="myFontDaemon"><strong>my web link places here</strong></a></div> 
```

这是javascript部分：

```
 var tColorTimer;
    var myColorCollection = ["#FF6682", "#26FF51", "#263FFF", "#FF16B1", "#FFB135", "#C2B5FF","#000000"];

    //bind event
    function changeFontColorWhenHover() {
        $("#myFont").bind("mouseover", function () {
            changeFontColor(0);
        });
    }

    //change font color
    function changeFontColor(m) {
        var colorValue = myColorCollection[m];
        $("#myFont").css("color", colorValue);
        if (m < 7) {
            tColorTimer = setTimeout('changeFontColor(' + (m + 1) + ')', 100);
        }
    }

    //init bind
    $(document).ready(function () {
        changeFontColorWhenHover();
    }); 
```

以上代码正常工作。但是当我将它们变成一个示例 jquery 插件时，它按预期抛出异常']'，我搜索了 jquery 插件很多但找不到我错过的东西。这是jquery插件部分：

```
 (function ($) {
    $.fn.fontdaemon = function () {
    this.each(function () {
        $(this).bind("mouseover", function () { // onmouseover event is raised
            changeFontColor($(this), 0);
        });
    });
    };

    var tColorTimer;

    var myColorCollection = ["#FF6682", "#26FF51", "#263FFF", 
    "#FF16B1", "#FFB135", "#C2B5FF", "#000000"];
function changeFontColor(obj, m) {
    var colorValue = myColorCollection[m];
    alert(m + "--" + colorValue);
    $(obj).css("color", colorValue);

    if (m < 7) {
        tColorTimer = setTimeout('changeFontColor(' + obj + "," + (m + 1) + ')', 50);
    }
    alert(m + "--" + colorValue);
};
})(jQuery); 
```

然后我使用下面的代码来调用它：

```
<script src="fontdaemon.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#myFontDaemon").fontdaemon();
    });
</script> 
```

当我将鼠标移到文本上时，它会改变它的颜色，但它只会改变为颜色数组中的第一个颜色，然后它会给我一个异常“预期']'”。

任何人都可以帮助我吗？谢谢。

PS：我google了很多，没找到解决办法，如有任何反馈，将不胜感激，再次非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:14:07.740

您的问题是您将字符串传递给`setTimeout`（不鼓励）。当您将字符串传递给`setTimeout`时，当超时已过时，它将`eval`在不访问您的局部变量的情况下将该字符串。由于`changeFontColor`无法从传递给的匿名函数中访问，因此`$`传递给的字符串中的代码`setTimeout`也无法访问它。

解决方案是将匿名函数传递给`setTimeout`：

```
setTimeout(function() { changeFontColor(obj, m + 1); }, 50); 
```

顺便说一句，`each`如果您正在做的只是`bind`ing，则没有必要使用；`bind`已经绑定到 jQuery 对象中的每个元素。因为已经是一个 jQuery 对象`$(obj)`，所以也没有必要这样做。`changeFontColor``obj`

# button - 单击清除按钮时如何修复返回 NSRangeException 的 UISearchBar？（固定的！！！）

> ID：14190123
> 
> 赞同：0
> 
> 时间：2013-01-07T04:59:05.423
> 
> 标签：button, uisearchbar, nsrangeexception

我在我的应用程序中实现了一个 UISearchBar，当我点击清除按钮并且找到一个项目时它会崩溃。就像我输入一些字符，应用程序搜索并显示 1 项，但是当我清除搜索时，它崩溃了。

我搜索了stackoverflow，我知道问题出在保存搜索项的数组上，因为当我点击清除按钮时，数组变为空并且tableview索引path.row无法显示。

此外，如果搜索没有返回任何项目并且我点击了清除按钮，我会收到一条类似的错误消息，这一次购买说我得到了一个空数组。

该应用程序停在这里：

```
NSDictionary *itemAtIndice =(NSDictionary *)[filteredCodigos objectAtIndex:indexPath.row]; 
```

问题是我根本不知道该怎么办！！！

这是错误：

```
 Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayM objectAtIndex:]: index 1 beyond bounds [0 .. 0]' 
```

这是我的代码::

```
- (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText {
if (searchText.length == 0) {
    isFiltered = NO;
} else {
    isFiltered = YES;
    filteredCodigos = [[NSMutableArray alloc]init];

    for (NSDictionary *item in values) {
        NSString *string = [item objectForKey:@"NAME"];

        NSRange stringRange = [string rangeOfString:searchText options:NSCaseInsensitiveSearch];

        if (stringRange.location != NSNotFound) {
            [filteredCodigos addObject:item];
        }
    }
}
[self.tableView reloadData];
}

- (void)searchBarSearchButtonClicked:(UISearchBar *)searchBar {
    [self.Pesquisa resignFirstResponder];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (isFiltered) {
        return [filteredCodigos count];

    }

    return values.count;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath    *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Cell"   forIndexPath:indexPath];

NSDictionary *itemAtIndex =(NSDictionary *)[values objectAtIndex:indexPath.row];
NSDictionary *itemAtIndice =(NSDictionary *)[filteredCodigos objectAtIndex:indexPath.row];

if (!isFiltered) {
    cell.textLabel.text = [itemAtIndex objectForKey:@"SYMBOL"];
    cell.detailTextLabel.font = [UIFont systemFontOfSize:10];
    cell.detailTextLabel.text = [itemAtIndex objectForKey:@"NAME"];
} else {
        cell.textLabel.text = [itemAtIndice objectForKey:@"SYMBOL"];
        cell.detailTextLabel.font = [UIFont systemFontOfSize:10];
        cell.detailTextLabel.text = [itemAtIndice objectForKey:@"NAME"];
       }
return cell;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:22:36.313

`filteredCodigos`在外部声明`searchBar:textDidChange:`并在多个地方使用，但分配给 in `searchBar:textDidChange:`。最有可能的是，其他一些代码正在尝试访问`filteredCodigos`未分配或为空的成员。启用异常断点将帮助您跟踪它。

作为旁注。您可能会查看 NSPredicate 来过滤您的项目而不是 for 循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T06:07:31.260

终于设法解决了这个问题。

我刚刚在给我错误的行替换了 indexPath.row 为 lastObject ：

所以，之前：

```
NSDictionary *itemAtIndice =(NSDictionary *)[filteredCodigos objectAtIndex:indexPath.row]; 
```

之后：

```
NSDictionary *itemAtIndice =(NSDictionary *)[filteredCodigos lastObject]; 
```

# php - 返回列中的所有值

> ID：14190127
> 
> 赞同：1
> 
> 时间：2013-01-07T05:00:23.003
> 
> 标签：php, mysql

我正在尝试`productnames`从我的 MySQL 表中返回所有内容。目前这只返回列中的名字

```
public function selectAll () 
{

    $stmt = Database::get()->query('SELECT * FROM retrofootball_products');
    while($row = $stmt->fetch())
    {
        return $row['productname'];

    }
} 
```

如何让它循环并选择所有产品名称？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:09:24.187

您可以做的一种方法是仅选择`productname`列，然后使用`$stmt->fetchAll(PDO::FETCH_ASSOC)`.

```
public function selectAll () 
{
    $stmt = Database::get()->query('SELECT `productname` FROM retrofootball_products');

    return $stmt->fetchAll(PDO::FETCH_ASSOC);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:03:14.430

做：

```
public function selectAll () {

    $stmt = Database::get()->query('SELECT * FROM retrofootball_products');
    $allCols = array();
    while($row = $stmt->fetch()) {
        $allCols[] = $row['productname'];
    }
    return $allCols;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T05:03:43.677

您直接返回导致问题的第一个值。将每条记录存储在数组中并返回该数组。

```
public function selectAll () 
{

$stmt = Database::get()->query('SELECT * FROM retrofootball_products');
while($row = $stmt->fetch())
{
    $arr[] = $row['productname'];

}
return $arr;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:07:40.740

您可以在使用 PDO 并使用 fetchAll 时避免循环。

```
public function selectAll () 
{

    $stmt = Database::get()->query('SELECT * FROM retrofootball_products');
    return $stmt->fetchAll();
} 
```

[http://php.net/manual/en/pdostatement.fetchall.php](http://php.net/manual/en/pdostatement.fetchall.php)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-07T05:03:53.330

虽然我也是 stmp 的新手，但我想这可能会奏效

```
$result = $stmt->get_result();
while ($row = $result->fetch_assoc())
{
// do something with $row
} 
```

# java - Spring 3.0 处理文件上传问题

> ID：14190128
> 
> 赞同：0
> 
> 时间：2013-01-07T05:00:37.577
> 
> 标签：java, spring-mvc, file-upload

我正在使用 Spring MVC 3.0 进行文件上传，我遵循了几个关于如何使用 spring 上传文件的在线教程。但是，我一直无法获取我的文件，提交表单时它始终为空。

请在下面找到我的代码：

看法：

```
<form:form  action="processXML" modelAttribute="uploadXML" method="post" enctype="multipart/form-data">
<div>
    <table>
        <tr>
            <td>
                <input name="uploadXML" type="file"/>
            </td>
        </tr>
    </table>
    <input type="submit"/>
</div> 
```

控制器：

```
@RequestMapping(value="processXML", method = RequestMethod.POST)
public ModelAndView processXML(@ModelAttribute("uploadXML") UploadXML uploadXML, ModelMap model) {

    logger.info("Start processing import file.");

    ModelAndView modelAndView = new ModelAndView("import");
    //modelAndView.addObject("courseId", courseId);

    logger.info("Data: " + uploadXML.getFile().getName());
    logger.info("Data 2: " + uploadXML.getFile().getContentType());
    logger.info("Data 3: " + uploadXML.getFile().getSize());

    return modelAndView;
} 
```

上传XML.java

```
public class UploadXML {

private MultipartFile file;

public MultipartFile getFile() {
    return file;
}

public void setFile(MultipartFile file) {
    this.file = file;
} 
```

}

我还包括：

```
<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/> 
```

进入我的 servlet.xml。

谁能给我一些帮助？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:10:14.857

首先尝试这个基本示例

```
 <form:form  action="processXML"  method="post" enctype="multipart/form-data">
        <div>
            <table>
                <tr>
                    <td>
                        <input name="uploadXMLFile" type="file"/>
                    </td>
                </tr>
            </table>
            <input type="submit"/>
        </div>
</form:form>

@RequestMapping(value="processXML", method = RequestMethod.POST)
public ModelAndView processXML(@RequestParam("uploadXMLFile") CommonsMultipartFile file, ModelMap model) {

    logger.info("Start processing import file.");

    ModelAndView modelAndView = new ModelAndView("import");
    //modelAndView.addObject("courseId", courseId);

    logger.info("Data: " + file.getName());

    logger.info("Data 3: " + file.getSize());

    return modelAndView;
} 
```

# php - PHP MySQLi 失败的准备查询将终止脚本中的所有未来代码/查询

> ID：14190133
> 
> 赞同：0
> 
> 时间：2013-01-07T05:01:14.513
> 
> 标签：php, mysqli, die

我试图弄清楚我应该如何解决这个问题。当我有一个 MySQLi 查询失败时，它会自动终止脚本的其余部分。例如

```
//Pure example code
$data = $mysqli->prepare("somequery");
$data->execute(); // Execute the prepared query.
//If the query above fails, the rest of the script doesn't get executed. 
```

基本上，我试图弄清楚当查询失败时如何阻止 PHP 终止脚本。有任何想法吗？由于假定的性能和安全性收益，我转向准备好的声明。重写所有内容以计划旧查询会很痛苦。

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:03:18.613

您需要实际检查是否成功，而不是盲目地执行`$data->execute()`when `data`may be `false`，这将引发错误并中止您的脚本。

从文档中，[`prepare`](http://php.net/manual/en/mysqli.prepare.php)...

> 如果发生错误，则返回语句对象或 FALSE。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:11:25.263

PHP 杀死*致命*错误的脚本。如果此行失败：

```
$data = $mysqli->prepare("somequery"); 
```

PHP 不会杀死您的脚本，而是`$data`设置为 false。该脚本将在下一行被终止：

```
$data->execute(); 
```

出现以下错误：

```
Fatal error: Call to a member function execute() on a non-object in... 
```

首先，您需要启用`error_reporting`，以便您能够自己诊断问题（并可能找出解决方案）。其次，正如@meagar 提到的，检查 mysqli 函数的返回值：

```
$data = $mysqli->prepare("somequery");
if($data === false) {
    echo $mysqli->error;
    // dying isn't the most graceful approach by the way
    die();
}
if($data->execute() === false) {
    echo $mysqli->error;
    die();
} 
```

从 mysql_* 更改为 mysqli 与您的问题无关。如果您使用的是 mysql_*，您仍然需要检查函数的返回值。一条通用规则：永远不要假设您的查询总是会成功。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:30:55.247

```
if($data = $mysqli->prepare("somequery")) {
// binding
  $data->execute(); // Execute the prepared query.
} 
```

从[文档](http://php.net/manual/en/mysqli.prepare.php)

# json - 如何在 Windows Phone 中反序列化 JSON？

> ID：14190134
> 
> 赞同：0
> 
> 时间：2013-01-07T05:01:14.623
> 
> 标签：json, deserialization, windows-phone

第一个 JSON 看起来像[这样](http://mobiilivantaa.lightscreenmedia.com/api/place/)

第二个 JSON 看起来像[这样](http://mobiilivantaa.lightscreenmedia.com/api/place/243)

我怎样才能反序列化它们？我一直在关注这个[例子](http://dotnetbyexample.blogspot.gr/2012/01/json-deserialization-with-jsonnet.html)，但它不起作用。这是我的代码。

```
 protected override void OnNavigatedTo(NavigationEventArgs e)
        {
            var w = new WebClient();
            Observable
              .FromEvent<DownloadStringCompletedEventArgs>(w, "DownloadStringCompleted")
              .Subscribe(r =>
              {
                  var deserialized =
                    JsonConvert.DeserializeObject<List<Place>>(r.EventArgs.Result);
                  PlaceList.ItemsSource = deserialized;
              });
            w.DownloadStringAsync(
              new Uri("http://mobiilivantaa.lightscreenmedia.com/api/place"));

            //For 2nd JSON
            //w.DownloadStringAsync(
                 //new Uri("http://mobiilivantaa.lightscreenmedia.com/api/place/243"));

        } 
```

这些是第一个 JSON 的类。

```
 public class Place
        {
            public string id { get; set; }
            public string title { get; set; }
            public string latitude { get; set; }
            public string longitude { get; set; }
            public string www { get; set; }
        }

        public class RootObjectJSON1
        {
            public List<Place> Places { get; set; }
        } 
```

这些是 JSON2 的类

```
public class Address
{
    public string street { get; set; }
    public string postal_code { get; set; }
    public string post_office { get; set; }
}

public class Image
{
    public string id { get; set; }
    public string filename { get; set; }
    public string path { get; set; }
}

public class RootObjectJSON2
{
    public string id { get; set; }
    public string title { get; set; }
    public string description { get; set; }
    public string latitude { get; set; }
    public string longitude { get; set; }
    public string www { get; set; }
    public string phone { get; set; }
    public string email { get; set; }
    public string contact_person { get; set; }
    public Address address { get; set; }
    public List<Image> images { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T07:06:14.210

看起来您应该反序列化对象 RootObjectJSON1 或 RootObjectJSON2，例如：

```
var deserialized = JsonConvert.DeserializeObject<RootObjectJSON1>(r.EventArgs.Result); 
```

此外，集合 Places 似乎应该以小写 p 开头，或者您需要告诉 Json.NET 这个属性应该用不同的名称反序列化，例如：

```
[JsonProperty(PropertyName="places")]
public List<Place> Places { get; set; } 
```

一般来说，我倾向于使用数组进行反序列化（根据我的经验效果更好），所以我建议将其重写为：

```
public class RootObjectJSON1
{
    public Place[] places { get; set; }
} 
```

[http://json2csharp.com/](http://json2csharp.com/)上有一个名为 json2csharp 的非常好的工具- 只需将 JSON 样本放在那里，它就会在 C# 中吐出类（不检测 DateTime，因此您可能需要更改它）。

# python - 在 Django 中合并查询集

> ID：14190140
> 
> 赞同：8
> 
> 时间：2013-01-07T05:02:02.577
> 
> 标签：python, django, merge, django-queryset

我有`models.py`：

```
class Game(models.Model):
    players1 = models.ManyToManyField(Player, related_name='games1')
    players2 = models.ManyToManyField(Player, related_name='games2')

    def get_all_players(self):
        return list(itertools.chain(self.players1.all(), self.players2.all())) 
```

我如何编写相同`get_all_players`的方法，但返回`QuerySet`，而不是`list`？

PS我知道有| 操作员：

```
def get_all_players(self):
    return self.players1.all() | self.players2.all() 
```

但它以一种非常奇怪的方式工作。此函数的结果包含的玩家数量多于玩家 1 + 玩家 2 中的玩家数量（结果包含一些玩家的重复）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2015-07-24T10:57:05.243

对于一个可能在语义上更清晰的解决方案：

```
def get_all_players(self):
    return (self.players1.all() | self.players2.all()).distinct() 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-01-07T05:08:45.247

这应该可以解决问题：

```
# On the top of the file:
from django.db.models import Q

# Game instance method:
def get_all_players(self):
    return Player.objects.filter(Q(games1__pk=self.pk) | Q(games2__pk=self.pk)) 
```

`Q`此处详细描述：[使用 Q 对象的复杂查找](https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects)。

# jquery - 如何在 jquery 中选择一个元素

> ID：14190147
> 
> 赞同：0
> 
> 时间：2013-01-07T05:02:48.413
> 
> 标签：jquery, jquery-selectors

给定下面的代码，如何在 dom 中找到以下元素？

```
<!-- START Main Navigation -->
<nav id="main-nav">
    <ul>
        <li>
            <a href="/">Home</a>    
            <ul>
                <li><a href="index.html">Layout 1</a></li>
            </ul>
        </li>
        <li>
            <a href="blog.html">Blog</a>
            <ul>
                <li><a href="blog.html">Blog</a></li>
            </ul>
        </li>
        <li>
        <a href="/Contact">Contact</a>
        </li>
    </ul>
</nav>
<!-- END Main Navigation --> 
```

我想找到指向 Home 的链接并将`class=active`属性应用到**它的父级** `<li>`

我怎样才能做到这一点？

我知道这是一个简单的问题，但我只是在学习 jquery。此外，代码中还有其他`<li><a href="/"....`内容，因此我需要以`<nav id="main-nav-list">`某种方式将其合并到选择中。

最后，每当我在联系人或博客中时，我都需要这样做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:10:53.220

```
$('#main-nav-list a').each(function () {
  if ($(this).text() == 'Home') $(this).parent().addClass('active');
}); 
```

**[jsFiddle 示例](http://jsfiddle.net/j08691/cRRR5/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:41:07.277

尝试这个，

```
$(document).ready(function() {
    $('#main-nav a').each(function () {
        if($(this).html()=='Home'){
            $(this).parent().attr('class','active');
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:05:16.777

你应该能够做这样的事情：

```
$('#main-nav-list li').first().addClass('active'); 
```

还有很多其他方法，但希望这是有道理的:)

那是假设“家”永远是第一个。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:07:07.403

有很多方法可以实现这一点，但下面的方法通过匹配链接文本来查找“主页”链接：

```
$('a:contains("Home")').addClass('active'); 
```

查看选择器文档：

[http://api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-07T05:09:51.537

```
$('ul#main-nav-list li > a.active').removeClass('active'); 
//First undo the current active :)

$('ul#main-nav-list li > a[href="/"]').addClass('active');  
//Then apply to the one you want 
```

也可以通过访问属性获取当前窗口的url来搜索对应的`a`标签。`window.location.href`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-07T05:22:10.373

试试这个，如果你只想定位具有精确字符串“Home”的元素。

```
$(document).ready(function() {
  $.each($("a"), function(index, node) {
         if($(node).html() == "Home") {
           $(node).parent("li").addClass("active");
         }
  });
}); 
```

JSFiddle 示例：http: [//jsfiddle.net/dharmavir/uqT6J/](http://jsfiddle.net/dharmavir/uqT6J/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-07T05:29:12.453

这是使用过滤器功能匹配链接中的确切文本的另一种方法：

[http://jsfiddle.net/aWVJg/](http://jsfiddle.net/aWVJg/)

```
$('#main-nav-list a').filter(
function () 
{
  return this.text === 'Home';
}).addClass('active'); 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-01-07T05:06:12.870

做这个：

```
$('ul#main-nav-list li:nth-child(1)').addClass('active') 
```

* * *

## 回答 #9

> 赞同：-3
> 
> 时间：2013-01-07T05:05:27.207

```
$('myElement').addClass(); 
```

不要粗鲁，但你对[jQuery](http://jquery.com/)有什么了解吗？看看 jQuery 的主页，他们解释了如何做到这一点。API 也很有帮助。

# javascript - 使用 jQuery eq() 和 not() 绑定不同的事件

> ID：14190155
> 
> 赞同：0
> 
> 时间：2013-01-07T05:03:19.117
> 
> 标签：javascript, jquery, html

HTML

```
<table border="1">
<tr>
<td>row 1, cell 1</td>
<td>row 1, cell 2</td>
<td>row 1, cell 3</td>
</tr>
<tr>
<td>row 2, cell 1</td>
<td>row 2, cell 2</td>
<td>row 2, cell 3</td>
</tr>
</table> 
```

JS

```
$(document).ready(function() {

  $("tr").find("td").eq(2).click(function(){
      alert('hi');
  });

  $("tr").find("td").not().eq(2).click(function(){
      alert('hi2');
  });

}); 
```

我在这里要做的是为`<td>`每行的每 3 个和每个其他`<td>`不同的点击函数绑定一个不同的点击事件。第一个功能有效，但我如何为`<td>`不是第三个的 ' 绑定事件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:09:11.100

将选择器传递给`not`方法。

```
$("tr").find("td").not(':eq(2)').click(function(){
     alert('hi2');
}); 
```

[http://jsfiddle.net/z9HUB/](http://jsfiddle.net/z9HUB/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:20:43.803

试试这个现场[小提琴](http://jsfiddle.net/yF4QW/)

```
 $(document).ready(function() {
      $("tr").find("td:eq(2)").click(function(){
        alert('hi2');
      });

      $("tr").find("td:not(:eq(2))").click(function(){
           alert('hi');
      });
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:11:05.933

尝试`$("td:not(:eq(2)")`

```
$("tr").find("td:not(:eq(2)").click(function(){
    alert('hi2');
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:11:41.753

你可以这样做：

```
$(document).ready(function() {

  $("tr").find("td:eq(2)").click(function(){
      alert('hi');
  });

  $("tr").find("td:lt(2)").click(function(){
      alert('hi2');
  });

}); 
```

# php - 具有动态源的 HTML5 音频元素

> ID：14190160
> 
> 赞同：9
> 
> 时间：2013-01-07T05:04:10.950
> 
> 标签：php, html, audio

我有一个基本的音频播放器：

```
<audio controls="controls" autoplay="true" loop="loop">
<source src="song.php" type="audio/mpeg" />
</audio> 
```

而不是直接指向 MP3 文件的源，我让它指向一个 PHP 文件，然后指向 MP3 文件，它可以工作。但是，当当前曲目结束时，PHP 文件指向一个新的 MP3 文件。所以，我遇到的问题是，当播放器循环播放新的 MP3 文件时，它完全停止工作。有没有办法解决？有没有办法通过播放列表或任何其他播放器来做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-11T03:25:28.407

从您的[重复问题](https://stackoverflow.com/questions/14271082/html5-audio-ended-function)中复制：

* * *

对于初学者，每次单击元素时都会附加一个新的事件处理程序。如果有人经常暂停音乐，他们就会遇到问题。

Intead，试试这个：

```
<audio id="audio" autoplay controls src="song.php" type="audio/mpeg"></audio>
<script type="text/javascript">
    document.getElementById('audio').addEventListener("ended",function() {
        this.src = "song.php?nocache="+new Date().getTime();
        this.play();
    });
</script> 
```

我假设这`song.php`是一个返回音频数据的 PHP 文件。`nocache`查询参数将确保每次都实际调用该文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:37:22.067

我认为问题是您需要在当前歌曲完成后发出请求，您可以将`ended`事件侦听器添加到音频元素中来实现这一点：

### HTML

```
<audio id="player" controls="controls" autoplay="true" loop="loop">
<source src="song.php" type="audio/mpeg" />
</audio> 
```

### Javascript

```
var audio = $("#player");
audio.addEventListener("ended", function(){
    $.post("song.php", function(result){
        audio.src = result;
        audio.pause();
        audio.load();//suspends and restores all audio element
        audio.play();
    });
}); 
```

**注意：**如果您仍然有问题，请在问题中包含 PHP 代码并检查您的 PHP 文件是否[获得了正确的标题](https://stackoverflow.com/q/13456397/670377)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-16T14:58:27.787

随机选择是否必须由 php 完成？

If not, it will perhaps be simpler to tell javascript to select a random ID in a range. Then pass it to your php script as a GET parameter.

IN the php side, do a mapping of IDs > MP3 files, so that the same ID always correspond to the same MP3\. You can use whatever you want: simple associative array, database, etc. In fact the IDs don't even have to be numbers.

IF you don't want that someone discover your mapping and said, call directly the wscript with ID X to download your MP3, you may change your mapping at each session for example.... the important thing is that a given ID always refer to the same MP3 at least during a reasonable period.

I whould also say that doing a redirection to the MP3 file from php may cause problems to some browsers. It is perhaps better to send the correct HTTP headers and actually return the file contents directly without redirecting. Quick example :

```
<?php
$file = "something.mp3";
header("Content-Type:audio/mpeg");
header("Content-LEngth:".filesize($file));
readfile($file);
?> 
```

More info about [readfile](http://php.net/readfile) and [header](http://php.net/header) functions

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:22:22.163

`Request ID`也许最好的方法是在查询字符串中有一个唯一的变量。然后对于每个请求，您可以确定它是循环请求还是新请求或随机化的新请求。

你知道怎么做吗？如果没有，我将包含代码。

# html - HTML5 语义标签的使用，搜索引擎会尊重大包装吗？

> ID：14190161
> 
> 赞同：2
> 
> 时间：2013-01-07T05:04:20.297
> 
> 标签：html, seo, semantic-markup

我打算将`<nav>`标签用于一些事情，但是，我想到了以下内容。

以以下标记为例：

```
<nav id="sidebar">

<div class="links">
<a href="/"></a>
<a href="/"></a>
<a href="/"></a>
</div>

<div class="links">
<a href="/"></a>
<a href="/"></a>
</div>

<div class="links">
<a href="/"></a>
</div>

<div class="statement">
random content here, unrelated to navigation
</div>

<div class="randomstuff">
unrelated to navigation, but still here
</div>

</nav> 
```

搜索引擎会尊重这种语义标签的使用吗？我的意思是，“忽略”或降低所有用导航标签（甚至是 div 等）包装的内容的优先级，即使不是直接的，甚至不一定是所有导航内容。

同样的问题`header`和`footer`标签与`div`s 里面。

提前感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-08T15:10:49.013

您不应该包含`nav`与导航无关的内容。不仅规范[非常清楚](http://www.w3.org/TR/html5/sections.html#the-nav-element)，它也会损害可访问性。

所以你的两个`div`元素（`.statement`和`.randomstuff`）需要脱离`nav`元素。只有当它们与 中的内容“相切相关”时`nav`，您才能将这两个元素放在 中的[`aside`元素](http://www.w3.org/TR/html5/sections.html#the-aside-element)中`nav`，但我认为您的内容并非如此。

> 我可以问一下对于包含在每个页面上但不是导航的一般页面内容，您会推荐什么 HTML5 标记？与页眉、页脚和导航服务相同的目的，阻止包含在结果中，因为它是通用的并且在每个页面上。

没有一般的答案；这取决于您的内容应该使用哪个元素。

您可以使用分段元素（`section`、`article`、`nav`、`aside`）和标题来创建整体结构（文档大纲）。现在每个部分（不要与`section`元素混淆！）*可以*有`header`/`footer`元素。就是这样。一个部分中没有包含在`header`/中的所有内容都可以被认为*是该部分*`footer`的主要内容。更细粒度的元素，例如或可以提供额外的线索，它们的内容所扮演的角色。*`address``small`*

 *现在，如果某些东西（搜索引擎、屏幕阅读器、人工智能……）想要使用您的文档，它可能会利用您的标记。这种情况是否以及在何种程度上取决于几个因素，如用例、意愿、技能、成本等。所以对于“搜索引擎...？”没有一般的答案，因为*a)*有*无数*的搜索引擎 (每个人每天都可以创建一个新的）和*b）*一些人（尤其是一般网络搜索的“大玩家”）不喜欢详细谈论这些东西。

但是我们可以*假设*对于所有这些用户代理/消费者的用例来说什么是有用的：

*   屏幕阅读器可能提供仅阅读主要内容的功能（忽略`nav`, `aside`, `footer`, ...）
*   博客文章搜索引擎可能会在里面的单词得分`article`高于里面`nav`/`aside`
*   对于导航搜索查询，搜索引擎可能会为 、 和更高的词评分`header`，而*对*`footer`研究查询的评分可能*较低*`small``address`
***   可读性插件可能会尝试通过忽略`nav`,`footer`和顶级`aside`元素来查找主要内容*   …</li>**

 **HTML 定义了所有元素的含义。如果所有 HTML 作者都尊重这一点，我们就可以构建和使用能够完美利用标记的用户代理。但实际上，作者可能（错误）使用`nav`“贬低”样板内容☺，这将迫使所有消费用户代理忘记`nav`（因为它可能包含其他非导航内容，这可能很重要）对于他们的用例）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T09:12:32.960

首先，任何与导航无关的内容都不应包含在`nav`标签中。

至于如果您（或其他任何人）有这样不正确的标记，搜索引擎将如何处理这些内容，这是任何人的猜测。

简短的回答：没有人知道！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T11:02:40.973

在整个区块周围使用 NAV 没有语义意义。使用通用 DIV 进行布局。

出于语义目的，您可以将多个 NAV 元素用于链接集，但规范非常开放，因此请按照您的意愿进行操作：

```
<div id="sidebar">

<nav>
<div class="links">
<a href="/"></a>
<a href="/"></a>
<a href="/"></a>
</div>
</nav>

<nav>
<div class="links">
<a href="/"></a>
<a href="/"></a>
</div>
</nav>

<nav>
<div class="links">
<a href="/"></a>
</div>
</nav>

<section>
<div class="statement">
random content here, unrelated to navigation
</div>

<div class="randomstuff">
unrelated to navigation, but still here
</div>
</section>

</div> 
```

你只需要诚实地问自己，“这读起来合乎逻辑吗？”。

事实是，有很多关于 HTML5 标签的**炒作。**就个人而言，我认为它们是一个好主意，但在实践中，现在只能猜测搜索引擎对它们的作用。

希望这可以帮助。米奇***

# svn - 如何使用共享的公共代码构建多个小型解决方案（迁移到 SVN）

> ID：14190165
> 
> 赞同：2
> 
> 时间：2013-01-07T05:04:37.737
> 
> 标签：svn, projects-and-solutions

我即将将我们的代码从 VSS2005 迁移到 VisualSVN（同时添加到 TeamCity）。

这给了我一次重组代码文件/文件夹的机会，我正在寻找一些关于如何构建多个小型解决方案的建议，这些解决方案通常包含其“区域”或每个项目共有的代码。

我有很多小型的内部应用程序——winforms、MVC3 站点、控制台/服务应用程序等，通常是特定于部门的。大多数部门都有一些与他们一起工作的“通用”代码，然后还有一些通用的通用代码，例如扩展方法，这对于大多数项目都是通用的。

默认情况下，VS2010 创建一个包含 .sln 文件的“解决方案”文件夹，然后在下面创建“项目”文件夹。这意味着一切都是很好的离散 - 但共享项目更加困难，因为项目看起来“特定于解决方案”

我知道你可以参考任何东西，但在磁盘结构上它“看起来”特定于解决方案

```
CommonCode
--CCProj1
--CCProj2
HR.ServiceApp
-HR.ServiceApp.sln
--HR.SmallApp1.DAL
--HR.SmallApp1.Service
HR.WinFormsApp
-HR.WinFormsApp.sln
--HR.SmallApp2.DAL
--HR.SmallApp2.WinForms 
```

另一种可能是这样的结构：

```
CommonCode
--CCProj1
--CCProj2
HR
-HR.Service.sln
-HR.WinForm.sln
--HR.DAL
--HR.Service
--HR.WinForms 
```

它将所有 HR 代码放在一个文件夹下 - 但是对于新用户来说，使用多种解决方案可能会变得有点不清楚？

任何关于其他人通常做什么的建议都会非常感激地接受（特别注意转向 SVN）

* * *

另一种选择

```
HR
-HR.Common
--HR.Common.Repository
---HR.Common.Repository.sln
----HR.Common.DAL
-----HR.Common.DAL.csproj
----HR.Common.BLL
-----HR.Common.BLL.csproj
-HR.Services
--HR.Services.Service1.sln
---HR.Services.Service1
----HR.Services.Service1.csproj
--HR.Services.Service2.sln
---HR.Services.Service2
----HR.Services.Service2.csproj 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T14:26:11.387

对您的团队来说，结构化的答案更多的是问题，而不是问答网站。正如您所展示的，有多种解决方案，每种解决方案都有其优点。这一切都取决于你的团队最舒服的方式。

就这与 SVN 的关系而言 - 它没有。SVN 将允许您随意构建，因为它与 IDE/编程语言等无关。

但是，在过渡阶段，您可以做的是创建代码的多个分支，组成不同的结构，以便您可以向您的团队演示每种不同的方式。做出决定后，将最佳代码合并到主干中。为了管理这个分支，你的 SVN 存储库的顶层应该有文件夹 trunk、branches 和 tags。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-10T14:35:42.027

我认为您必须保持逻辑软件配置和SVN结构分开。我会做这样的一般结构：

```
- trunk
    - <general structure>
- branches
    - release_bugfix01
        - <general structure>
    - release02_rc1
        - <general structure>
- tags
    - release01
    - release02 
```

其中“一般结构”是：

```
 - common_code_1
 - common_code_2
 - project_one
 - project_three
 - winform01
 - humanresources_MVC3_site
 - console_service_app01 
```

项目和公共代码的内部结构可以是你想要的任何形状，项目和公共代码之间的逻辑依赖关系必须在存储库之外定义。

[您可以在SVN Book](http://svnbook.red-bean.com/nightly/en/svn.tour.importing.html#svn.tour.importing.layout)中阅读有关标准布局的更多信息

# objective-c - 在 OSX 中处理文件系统事件

> ID：14190166
> 
> 赞同：0
> 
> 时间：2013-01-07T05:04:41.963
> 
> 标签：objective-c, cocoa, events

所以我使用 EventStream 来观察文件夹的变化。现在一切正常，当我更改文件夹中的文件时，我可以看到一个日志回调，但我似乎无法调用我的 folderWatch，它给出了错误“使用未声明的标识符'self'”。我可以在其他任何地方使用这个函数，只是不能在 fsEventsCallback 中使用。任何帮助，将不胜感激！

```
 void fsEventsCallback(ConstFSEventStreamRef streamRef,
                      void *clientCallBackInfo,
                      size_t numEvents,
                      void *eventPaths,
                      const FSEventStreamEventFlags eventFlags[],
                      const FSEventStreamEventId eventIds[]){

    [self folderWatch];

    NSLog(@"2");
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:07:51.387

原因是它`fsEventsCallback`是一个 C 函数而不是 Objective-C 实例方法，所以`fsEventsCallback`对`self`.

您可以使用 中的`info`字段`FSEventStreamContext`传递`self`给回调函数。下面的示例假定您的类被调用`Watcher`。

（如果你不使用 ARC，你可以省略所有的`__bridge`演员表。）

```
- (void)folderWatch
{

}

void fsEventsCallback(ConstFSEventStreamRef streamRef,
                      void *info,
                      size_t numEvents,
                      void *eventPaths,
                      const FSEventStreamEventFlags eventFlags[],
                      const FSEventStreamEventId eventIds[])
{
    Watcher *watcher = (__bridge Watcher *)info;
    [watcher folderWatch];
}

- (void)startWatching
{
    FSEventStreamContext context;
    context.info = (__bridge void *)(self);
    context.version = 0;
    context.retain = NULL;
    context.release = NULL;
    context.copyDescription = NULL;

    NSArray *pathsToWatch = @[@"/path/to/watch"];

    self.eventStream = FSEventStreamCreate(NULL,
                                 &fsEventsCallback,
                                 &context,
                                 (__bridge CFArrayRef)(pathsToWatch),
                                 kFSEventStreamEventIdSinceNow,
                                 1.0,
                                 kFSEventStreamCreateFlagFileEvents
                                 );
} 
```

# c# - 如何使用数据库 WPF 中的父/子创建动态 TreeView

> ID：14190169
> 
> 赞同：0
> 
> 时间：2013-01-07T05:05:03.493
> 
> 标签：c#, wpf, windows

我正在尝试使用以下代码创建动态树视图。我正在使用用户控制

控制负载

```
TreeViewItem treeviewItems = new TreeViewItem();
treeviewItems.ItemsSource = TreeViewDataSource.DefaultView;
treeviewItems.ItemTemplate = GetHierarchicalData(ID, Desc);
treeViewCntrl.Items.Add(treeviewItems);

public HierarchicalDataTemplate GetHierarchicalData(string id, string desc)
{
   HierarchicalDataTemplate hierdatatemp = null;
   try
   {
    hierdatatemp = new HierarchicalDataTemplate(typeof(DataTable));
    hierdatatemp.ItemsSource = new Binding(itemSourceBindingName);
    FrameworkElementFactory textBlock = new FrameworkElementFactory(typeof(TextBlock));
    textBlock.SetBinding(TextBlock.TextProperty, new Binding(desc));
    hierdatatemp.VisualTree = textBlock;
    }
    catch (Exception ex)
    {  }
    return hierdatatemp;
 } 
```

使用此代码，我可以添加一个项目，但它没有正确添加。首先它在下面添加一个空节点，然后添加项目。

我想要的是项目应该添加而不添加任何空节点，并且在单击父节点时，应该添加子节点。

如何将子节点添加到父节点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T05:28:01.567

```
public TreeViewItem CreateTreeViewItem(string nodeName, string headerText, string ImagePath)
{
        TreeViewItem treeViewItem = new TreeViewItem();
        try
        {
            StackPanel stackPanel = new StackPanel();
            Label lblHeaderText = new Label();
            Image imgFrontIcon;
            imgFrontIcon = new Image(); 

            stackPanel.Orientation = Orientation.Horizontal;

            if (ImagePath != null && ImagePath != string.Empty)
            {
                Uri uri = new Uri(@"pack://application:,,," + ImagePath);
                BitmapImage bitMapSource = new BitmapImage();
                bitMapSource.BeginInit();
                bitMapSource.UriSource = uri;
                bitMapSource.EndInit();
                imgFrontIcon.Source = bitMapSource;
            }

            lblHeaderText.Content = headerText;
            stackPanel.Children.Add(imgFrontIcon);
            stackPanel.Children.Add(lblHeaderText);
            nodeName = nodeName.Replace("-", "_");
            treeViewItem.Name = nodeName;
            treeViewItem.Header = stackPanel;
        }
        catch (Exception ex)
        { }
        return treeViewItem
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:17:02.217

我发现在 WPF 中使用树视图非常具有挑战性。这篇文章很有帮助：

[http://www.codeproject.com/Articles/26288/Simplifying-the-WPF-TreeView-by-Using-the-ViewMode](http://www.codeproject.com/Articles/26288/Simplifying-the-WPF-TreeView-by-Using-the-ViewMode)

# javascript - 如何防止 touchmove 事件使用 jquery / javascript 移动背景？

> ID：14190176
> 
> 赞同：1
> 
> 时间：2013-01-07T05:05:46.907
> 
> 标签：javascript, jquery, ipad, mobile, touchmove

目前我正在为 ipad Safari 开发一个网站

我用了

```
addEventListener('touchmove', function(e) { e.preventDefault(); }, true); 
```

以防止在拖动内容时背景移动。问题是当我允许拖动某些元素时

```
 addEventListener('touchmove', function(e) { 
    //alert (e.target.id);
    if ( e.target.className != 'issues' && e.target.id != 'dialog' && e.target.id != 'issuesBox') 
    e.preventDefault(); 
    return false;
    }, true); 
```

当我拖动元素时，它也会拖动背景，如何解决这个问题？我观察到这个问题可能是由 taphold 引起的，谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:30:57.493

您是否试图防止在某些元素上滚动？然后防止两者的默认值`touchstart`和`touchmove`事件。这是来自苹果的[文档。](https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html#//apple_ref/doc/uid/TP40006511-SW24)

根据我的经验，防止默认`touchstart`事件就足够了，例如，

```
$(document).on('touchstart', function (evt) {
    evt.preventDefault();
}); 
```

# python - 正则表达式查找字符串 python

> ID：14190177
> 
> 赞同：2
> 
> 时间：2013-01-07T05:05:54.210
> 
> 标签：python, regex

我有一个字符串

```
<a href="/p/123411/"><img src="/p_img/411/123411/639469aa9f_123411_100.jpg" alt="ABCDXYZ" /> 
```

在 Python 中找到 ABCDXYZ 的正则表达式是什么

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T05:12:54.563

不要使用正则表达式来解析 HTML。使用[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)。

```
from bs4 import BeautifulSoup as BS
text = '''<a href="/p/123411/"><img src="/p_img/411/123411/639469aa9f_123411_100.jpg" alt="ABCDXYZ" />'''
soup = BS(text)
print soup.find('img').attrs['alt'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T05:12:33.750

如果您正在寻找该`alt`属性的值，您可以这样做：

```
>>> r = r'alt="(.*?)"' 
```

然后：

```
>>> m = re.search(r, mystring)
>>> m.group(1)
'ABCDXYZ' 
```

`re.findall`如果你想找到不止一个，你可以使用。

但是，这段代码很容易被这样的东西愚弄：

```
<span>Here's some text explaining how to do alt="foo" in an img tag.</span> 
```

另一方面，它也无法拾取这样的东西：

```
<img src='/p_img/411/123411/639469aa9f_123411_100.jpg' alt='ABCDXYZ' /> 
```

你怎么处理？简短的回答是：你没有。XML 和 HTML 不是常规语言。

值得在这里指出的是，Python 的 re 引擎实际上并不是一个真正的正则表达式引擎——而且，最重要的是，它嵌入在图灵完备的编程语言中。所以显然*可以*围绕 Python 和`re`. [这个答案](https://stackoverflow.com/questions/4231382/regular-expression-pattern-not-matching-anywhere-in-string/4234491#4234491)显示了用 编写的解析器的一部分`perl`，其中正则表达式完成了大部分繁重的工作。但这并不意味着你*应该*这样做。你不应该首先编写解析器，因为已经存在完美的解析器，如果你这样做了，即使有更简单的方法来做你想做的事，你也不应该强迫自己使用正则表达式。对于快速和肮脏的游戏，正则表达式很好。对于生产程序，它'

说服你的老板让你使用解析器的一种方法是设计一套测试，这些测试显然都是有效的，而且如果没有完整的解析器，任何基于正则表达式的解决方案都无法处理这些测试。如果你能想出一个可以解析的测试，但只使用指数回溯，因此使用正则表达式需要 12 小时，而使用 bs4 需要 0.1 秒，那就更好了，但这有点棘手......</p>

当然，也值得在网上寻找文章（以及诸如此类的问题[以及](https://stackoverflow.com/questions/6751105/why-its-not-possible-to-use-regex-to-parse-html-xml-a-formal-explanation-in-la)其他[300](https://stackoverflow.com/questions/590747/using-regular-expressions-to-parse-html-why-not)个重复的问题）并挑选最好的文章展示给您的老板。

如果你真的无法说服你的老板，那么你就完成了。鉴于指定的内容，这是可行的。考虑到可能或可能不是真正的意图，只有读心术是行不通的。当您发现越来越多的实际案例失败时，您可以通过在正则表达式本身上添加越来越复杂的交替和/或上下文来破解它，或者可能使用一系列正则表达式和后过滤器，直到最后你得到厌倦了它，并为自己找到一份更好的工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:16:51.510

首先，免责声明：您不应该使用正则表达式来解析[HTML](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454)。您可以为此使用 BeautifulSoup

接下来，如果您真的很想使用正则表达式并且上面是您想要的确切情况，那么您可以执行以下操作：

```
<a href="[a-zA-Z0-9/]+"><img src="[a-zA-Z0-9/]+" alt="([a-zA-Z0-9/]+)" /> 
```

您可以通过匹配对象的组属性访问文本。

# java - JAVA内部是如何实现instanceof的？

> ID：14190189
> 
> 赞同：4
> 
> 时间：2013-01-07T05:07:04.517
> 
> 标签：java, performance, instanceof

现在我正在编写一个 ORM 框架并且非常关心性能。

在这个框架中，我必须使用`instanceof`并`Class.isAssignableFrom`检查类型兼容性。

`instanceof`所以我对和的表现有点怀疑`Class.isAssignableFrom`

它到底有多慢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T05:37:07.453

instanceof 应该更快，它是一个字节码操作

```
public static void main(String[] args) {
        boolean res1 = args instanceof Object; 
```

字节码

```
ALOAD 0
INSTANCEOF java/lang/Object
ISTORE 1 
```

相比于

```
boolean res2 = Object.class.isAssignableFrom(args.getClass()); 
```

字节码

```
LDC Ljava/lang/Object;.class
ALOAD 0
INVOKEVIRTUAL java/lang/Object.getClass()Ljava/lang/Class;
INVOKEVIRTUAL java/lang/Class.isAssignableFrom(Ljava/lang/Class;)Z
ISTORE 2 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T07:06:16.720

> JAVA内部是如何实现instanceof的？

简短的回答是它依赖于平台。

长答案是，您应该能够通过编写一个使用 的测试用例`instanceof`，在循环中运行它以确保它得到 JIT 编译，然后转储并检查本机代码来找出它是如何实现的。

但是，我认为这不会特别有指导意义。您真正想知道的是是否`instanceof`更快`Class.isAssignableFrom`。您可以通过仔细的微基准测试来衡量这一点。

FWIW，我预测您会发现它`instanceof`更快。（我希望 JIT 编译器能够以`instanceof`无法优化反射版本的方式进行优化。）

但最后，我建议您不要在这个阶段浪费时间进行这种级别的优化。使用 对此进行编码`instanceof`，并等到您有一些分析数据告诉您您的`instanceof`使用确实是性能瓶颈。（“关心性能”很好……但实际上，在性能成为关键问题之前，您需要做好更重要的事情。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T05:10:46.073

首先，如果您要对此进行微基准测试，请至少运行一个大循环并取平均值，因为您会在计时中看到很多噪音。
话虽如此，是的，反射很慢。如果您可以围绕它进行设计并使用其他任何东西，那就去做吧。
例如，如果您将使用的类集很小并且事先已知，请将它们保存在 a 中`Map<Class,[Something]>`并在那里查找它们 - 您需要所有子类都在该映射中，但查找速度会比一个 instanceof （这基本上就是很多快速序列化库如何避免反射）
如果你不想（不能）提前构建这个映射，你可以在运行时将它构建为缓存，然后你只需要调用 instanceOf 一次新班级

# intellij-idea - IntelliJ IDEA 12：设置/部署部署到 src/main/webapp 而不是 /?

> ID：14190192
> 
> 赞同：1
> 
> 时间：2013-01-07T05:07:25.503
> 
> 标签：intellij-idea

IntelliJ IDEA 12 有一个名为“部署”的设置，它可以根据请求或自动将更新的文件热部署到展开的文件夹中。除了它将/src/main/webapp/index.html复制到[指定的部署文件夹]/src/main/webapp/index.html。如何在不保留源代码文件夹结构的情况下将其从 /src/main/webapp 复制到指定的部署文件夹中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T09:07:40.227

我想，这可以帮助你。

去：

```
File -> Project Structure -> Chose your web module -> Chose Web facet in your module -> Edit your Web resource directories. 
```

![在此处输入图像描述](../Images/111f073d13f7946fa918266f7ceebe11.png)

# android - MergeAdapter 和 ViewPager

> ID：14190196
> 
> 赞同：0
> 
> 时间：2013-01-07T05:07:50.257
> 
> 标签：android, commonsware-cwac

所以我正在研究一个滚动布局，它有几个标题行（图片和诸如此类）和一个 ViewPager。我使用 MergeAdapter 是因为我想使用 Sticky List Headers 库来制作 ViewPager 指示器选项卡，从技术上讲，它理想地最终会成为一个列表项，当用户滚动时，它会粘在顶部。我所做的一切就像演示一样，但是当我运行我的代码时，我的 logcat 中出现错误：

```
01-07 00:02:19.009: W/dalvikvm(12044): threadid=1: thread exiting with uncaught exception (group=0x40e2d930)
01-07 00:02:19.063: E/AndroidRuntime(12044): FATAL EXCEPTION: main
01-07 00:02:19.063: E/AndroidRuntime(12044): java.lang.RuntimeException: You must override newView()!
01-07 00:02:19.063: E/AndroidRuntime(12044):    at com.commonsware.cwac.sacklist.SackOfViewsAdapter.newView(SackOfViewsAdapter.java:175)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at com.commonsware.cwac.sacklist.SackOfViewsAdapter.getView(SackOfViewsAdapter.java:147)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at com.commonsware.cwac.merge.MergeAdapter.getView(MergeAdapter.java:271)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.AbsListView.obtainView(AbsListView.java:2159)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.ListView.makeAndAddView(ListView.java:1831)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.ListView.fillDown(ListView.java:674)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.ListView.fillFromTop(ListView.java:735)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.ListView.layoutChildren(ListView.java:1652)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.AbsListView.onLayout(AbsListView.java:1994)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.FrameLayout.onLayout(FrameLayout.java:448)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.FrameLayout.onLayout(FrameLayout.java:448)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.FrameLayout.onLayout(FrameLayout.java:448)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1663)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1521)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.LinearLayout.onLayout(LinearLayout.java:1434)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at com.slidingmenu.lib.CustomViewAbove.onLayout(CustomViewAbove.java:849)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.RelativeLayout.onLayout(RelativeLayout.java:985)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.widget.FrameLayout.onLayout(FrameLayout.java:448)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.View.layout(View.java:14003)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewGroup.layout(ViewGroup.java:4375)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:1892)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1711)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:989)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4351)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.Choreographer.doCallbacks(Choreographer.java:562)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.Choreographer.doFrame(Choreographer.java:532)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)01-07          00:02:19.063: E/AndroidRuntime(12044):    at android.os.Handler.handleCallback(Handler.java:725)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.os.Handler.dispatchMessage(Handler.java:92)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.os.Looper.loop(Looper.java:137)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at android.app.ActivityThread.main(ActivityThread.java:5191)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at java.lang.reflect.Method.invokeNative(Native Method)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at java.lang.reflect.Method.invoke(Method.java:511)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
01-07 00:02:19.063: E/AndroidRuntime(12044):    at dalvik.system.NativeStart.main(Native Method) 
```

我有 MergeAdapter 和 SackOfViewsAdapter 的 jar 文件，所以我不知道发生了什么。如果我注释掉 ViewPager 的东西，我什至会得到同样的错误。

如果您想通过 addView、addViews 等添加 XML 元素，有没有一种方法必须构造您的 XML？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T12:31:51.727

不知何故，要么`MergeAdapter`认为其中的内容`SackOfViewsAdapter`比实际的要多，要么您`null`在提交给的视图列表中有一个条目（或者您通过添加`MergeAdapter` `addViews()`的单个条目。我的钱在场景中。`null` `View``addView()``null`

您应该能够自己确定是否是`null`入口问题，方法是检查您作为视图提供的内容`MergeAdapter`。

如果您无法追查问题，并且如果您可以创建一个示例项目来重现错误，请使用指向示例源代码的指针提交[问题](https://github.com/commonsguy/cwac-merge/issues)，我会查看它。

# c++ - 从另一个向量中减去一个向量

> ID：14190199
> 
> 赞同：0
> 
> 时间：2013-01-07T05:08:23.753
> 
> 标签：c++

我组织了两个结构向量。现在我需要删除从*点中**选择*的内容。

 *```
#include <StdAfx.h>;
#include <iostream>;
#include <vector>;

using namespace std;
struct SPoint
{
    int id;
    int X;
    int Y;
};

vector<SPoint> points;
vector<SPoint> chosen;

void print_vect(const vector<SPoint> & vect)
{
    for (int i = 0; i < vect.size(); ++i)
    {
        cout << vect[i].id << " (" << vect[i].X << "," << vect[i].Y << ")"<<endl;               
    }           

    cout << endl;   
}

int _tmain(int argc, _TCHAR* argv[])
{
    SPoint temp;
    for (int i = 0; i < 10; i++)
    {
        temp.id = i;
        temp.X = i;
        temp.Y = i;
        points.push_back(temp);
    }

    for (int i = 5; i < 10; i++)
    {
        temp.id = i;
        temp.X = i;
        temp.Y = i;
        chosen.push_back(temp);
    }

    cout << "Points:" << endl;
    print_vect(points);
    cout << endl << endl;

    cout << "Chosen:" << endl;
    print_vect(chosen);

    system("pause");

    return 0;
} 
```

似乎有 set_difference 功能。但是调试器告诉我我没有 '<' 方法。它讲述了这样的事情：

```
error C2784: 'bool std::operator <(const std::move_iterator<_RanIt> &,const std::move_iterator<_RanIt2> &)' : could not deduce template argument for 'const std::move_iterator<_RanIt> &' from 'SPoint 
```

我学习 C++ 中的过程编程。而且我不知道如何使用这种方法。在我看来，用“<”在这里做任何事情都是不可能的。

你能帮我做减法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:18:22.203

是的，你猜对了。这[std::set_difference](http://www.cplusplus.com/reference/algorithm/set_difference/)需要 < 运算符才能起作用。它使用它来检查相等性为 (!a

```
The comparison to check for equivalence of values, uses either
operator< for the first version, or comp for the second, in order to
test this; The value of an element, a, is equivalent to another one,
b, when (!a<b && !b<a) or (!comp(a,b) && !comp(b,a)). 
```

您需要做的就是添加如下功能

```
bool operator<(const SPoint& p1, const SPoint&p2){
    return p1.id <p2.id;
} 
```

假设您的`id`领域是一个独特的领域。现在您可以使用`std::set_difference`功能。这将按字段比较两个`SPoint`变量。`id`

请注意，两个范围都需要**排序**才能正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:59:38.530

你可以使用例如[`std::remove_if`](http://en.cppreference.com/w/cpp/algorithm/remove)：

```
std::remove_if(std::begin(points), std::end(points), [](const SPoint& point) {
    // Try to find the point in the `chosen` collection
    auto result = std::find_if(std::begin(chosen), std::end(chosen),
        [](const SPoint& p) {
            return (p.id == point.id)
        });

    // Return `true` if the point was found in `chosen`
    return (result != std::end(chosen));
}); 
```

请注意，我在上面的代码中使用了 C++11 [lambda 函数](http://en.wikipedia.org/wiki/C%2B%2B11#Lambda_functions_and_expressions)。*

# jquery - 处理 AJAX 返回的对象 JSON

> ID：14190203
> 
> 赞同：2
> 
> 时间：2013-01-07T05:08:47.730
> 
> 标签：jquery, json, each

好吧，这很奇怪。我正在使用 PLUpload，它有一个`onComplete`函数可以返回一个名为`info`. 这是它在 Chrome 开发控制台中返回的内容。

```
Object {response: "[{"id":"65","series":"","part":"","title":"","subt…,"file":"","product":"","type":"1","status":"2"}]", status: 200} 
```

```
var response = $.parseJSON(info['response']);

$.each(response, function(key, value) {
    console.log(value);
   $.each(value, function(k, v) { 
       console.log(v);
    });
}); 
```

`console.log(value)`在 Chrome 开发控制台中给了我这个：

```
Object {id: "69", title: "", ogv: "", webm: "", length: "0:12"…} 
```

我可以调低箭头并查看我的所有元素。所以我认为做一个`$.each`on`value`会产生任何东西，但不会产生任何`console.log(v)`回声。

但如果我这样做，`console.log(value['id'])`我会得到 65。所以这行得通。

为什么我不能用函数遍历这个对象`$.each`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:40:32.137

这可能被认为是 jQuery 中的一个错误，但是您正在迭代的对象有一个`length`属性。显然，`$.each`用于`length`迭代目的。你最好使用`for..in`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:52:52.060

`$.each`用于迭代集合（数组）。您正在尝试遍历对象的属性。这是通过`for..in`循环完成的。

```
var response = $.parseJSON(info["response"]);

$.each(response, function(key, value) {
    for (property in value) {
        if (value.hasOwnProperty(property))
            console.log(property + " -> " + value[property]);
    }
}); 
```

编辑：

此外，服务器正在返回一个包含一个对象的数组。如果您知道每次只收到一个对象，则可以简化为：

```
var value = $.parseJSON(info["response"])[0];

for (property in value) {
    if (value.hasOwnProperty(property))
        console.log(property + " -> " + value[property]);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:58:24.867

**$.each**不能迭代给定对象，因为您使用**长度**作为键，这也是 javascript 方法，这是 $.each 不使用[**hasOwnProperty**](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)方法的 jQuery 错误

[jQuery .each Bug](http://bugs.jquery.com/ticket/5499)也提到[`here`](https://github.com/jquery/sizzle/issues/21)

**所以最好使用带有hasOwnProperty**检查的核心javascript [`for..in`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in)方法

 **```
var op = { "id":"69", "title":"", "ogv":"", "webm":"", "length":"012" };
for(var i in op) { 
    if(op.hasOwnProperty(i)) {
         console.log(i + ':' + op[i] + '\n');
   }
} 
```**

# javascript - .filter() 返回未定义

> ID：14190205
> 
> 赞同：1
> 
> 时间：2013-01-07T05:08:50.493
> 
> 标签：javascript, jquery, filter, get, jquery-data

我对`.filter()`从`$.get()`.

```
$.get(url, function(data){
  $(data).filter('[ref=A]').html() // return undefined
}); 
```

HTML

```
<span ref='B'><span ref='A'>abc</span></span> 
```

如果我做

```
 $(data).filter('[ref=B]').html() // return <span ref='A'>abc</span> 
```

删除后`<span ref="B">`做

```
$(data).filter('[ref=A]').html()// return abc 
```

我的问题是如何获得带有标签的 HTML abc `<span ref="B">`？

我错误地使用了 filter() 吗？请指教。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T05:16:41.143

`.filter`仅适用于最外层的元素。你想用`.find`.

此外，最后一个跨度标记未关闭。

# android-menu - 图标在菜单中不可见

> ID：14190210
> 
> 赞同：0
> 
> 时间：2013-01-07T05:09:09.210
> 
> 标签：android-menu

在我的 Android 应用程序中，我创建了这样的菜单：

```
<menu xmlns:android="http://schemas.android.com/apk/res/android" >
    <item
        android:id="@+id/rymcium"
        android:title="rymcium"
        android:icon="@android:drawable/ic_delete"
        />
</menu> 
```

当我在旧的 Android 版本（在模拟的 Android 1.6 上）上运行它时，图标是可见的。当我在新的 Android 版本（真实或模拟的 Android 4）上运行它时，图标是不可见的。正常吗？我可以做些什么让它可见吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:26:19.347

这是因为我的活动使用了主题 android:Theme.Light（当我在 Eclipse 中创建项目时它是默认设置）。当我更改 android:style/Holo.ButtonBar 的主题时，图标是可见的。

# pointers - 将 typedef 结构指针初始化为 NULL

> ID：14190212
> 
> 赞同：0
> 
> 时间：2013-01-07T05:09:16.357
> 
> 标签：pointers, struct, initialization, typedef

```
#include<stdio.h>

typedef struct student{
int id;
int mark;
}stud;

typedef struct stud *s1;

void main(){
s1 = NULL;
printf("hi");
} 
```

请帮助我如何将结构指针初始化为 NULL。我在编译期间收到以下错误。

```
graph.c: In function ‘main’:  
graph.c:11:04: error: expected identifier or ‘(’ before ‘=’ token 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:11:27.073

您的意思是将变量定义`s1`为

```
stud *s1; 
```

现场演示：http: [//ideone.com/9ThCDi](http://ideone.com/9ThCDi)

您收到错误的原因是您声明`s1`是“指向结构螺柱的指针”的类型。这是错误的，原因有二：

1.  你不想`s1`成为一个类型；你想让它成为一个对象。
2.  你的结构是`struct student`. 但是您定义了一个名为`stud`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T07:00:29.123

使用**struct student *s1;**

代替

typedef 结构螺柱 *s1;

据我所知， typedef 仅在您定义自定义数据类型时使用。

# android - onLongClick() 仅在条件为真时才有效

> ID：14190214
> 
> 赞同：1
> 
> 时间：2013-01-07T05:09:39.337
> 
> 标签：android

```
 objImageButton.setOnLongClickListener(new OnLongClickListener() {
               public boolean onLongClick(View v) {
                   if(checkDiscrepancySubmitted(final_position))
                   {       
                   // TODO Auto-generated method stub
                       AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(FragmentActivity.this);
                       alertDialogBuilder
                       .setMessage("Do you wish to delete the logged defect ?")
                       .setCancelable(false)
                       .setPositiveButton("Yes",new DialogInterface.OnClickListener() 
                       {
                           public void onClick(DialogInterface dialog,int id) 
                           {
                               int idButton=objImageButton.getId();
                               EditText objNewEditText=(EditText) findViewById(idButton);
                               objNewEditText.setTextColor(R.color.blue);
                               removeDefect(final_position,idButton,objNewEditText);
                               Toast.makeText(FragmentActivity.this, "Unsaved defects deleted.", Toast.LENGTH_SHORT).show();
                           }
                       })
                       .setNegativeButton("No",new DialogInterface.OnClickListener() {
                           public void onClick(DialogInterface dialog,int id) {
                               dialog.cancel();
                           }
                       });
                       AlertDialog alertDialog = alertDialogBuilder.create();
                       alertDialog.show();
                       return false;
                   }
                   return false;
           }
}); 
```

因此，如您所见，在 内部`onLongClick()`，我有一个条件。只有当这个条件成立时，onLongClick() 才能工作。基本上，我希望仅在条件为真时才调用 Listener 函数。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:53:29.353

可能会解决您的问题。您可以将 Retrun 类型更改为“true”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:39:24.170

您可以尝试使用：`setOnLongClickListener(null)`如果您的条件为假，否则是您定义的侦听器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:33:18.270

有什么问题不能理解...

顺便说一句，您可以在 if 循环中设置 longclicklistener ...

如果循环（真）

```
set on longclickListener 
```

别的什么都没有……

# c++ - waitformultipleobjects 具有未知数量的句柄

> ID：14190217
> 
> 赞同：-1
> 
> 时间：2013-01-07T05:09:47.370
> 
> 标签：c++, windows, multithreading

这就是我需要做的—— 1\. 定义一个句柄threadHandle 并定义一个句柄数组h[20] ...其中数组中的每个条目都有值threadHandle。

1.  我的代码打开了 20 个线程，一旦完成，每个线程都必须向主线程发出信号，一旦它们都发出信号，主线程必须将某些内容记录到日志文件中。

我计划做类似的事情：

定义 threadHandle 和上面定义的句柄数组 h[20}。

Obnce 代码打开 20 个线程，执行 -`waitformultipleobjects(NULL,20,h,true,10000)`

现在代码将等待在等待返回之前设置 h 数组中的所有句柄。但是由于 h 的所有值都相同，所以等待函数返回错误。有没有办法解决这个问题？我基本上需要所有线程向调用线程发出信号……为 20 个线程中的每一个定义 20 个处理程序似乎也不是一个好主意。

我可以做这样的事情吗？-

定义 threadHandle 和句柄数组 h[20]。为向主线程发出信号的线程数维护一个变量计数。

```
waitforsingleobject(threadHandle) 
```

一旦返回，增加 count 并且如果 count < 20 重复上述等待语句。继续这样做直到 count = 20，然后登录到文件。当然，如果有任何等待超时，那么我们会将失败记录到日志文件中。

我正在尝试这个，但想知道是否有更好的方法来做到这一点。

TIA。阿南德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:16:34.667

创建 20 个事件对象。把它们的把手放进去`h`。将一个传递给您创建的每个线程。当线程需要向父级发送信号时，它会向该事件发送信号。父级等待事件句柄，当它们都发出信号时，它会写入日志。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T09:30:45.940

改为使用一个信号量（参见 CreateSemaphore() API，计数初始化为 0），所有线程都发出信号。WaitForSingleObject 在 for 循环中，最多计数 20。设置更容易，不会错过任何事件，并且适用于任意数量的线程（在合理范围内）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T09:03:41.117

`Maintain a variable count for the number of threads`. 是的，你可以这么做。

`nCount The number of object handles in the array pointed to by lpHandles. The maximum number of object handles is MAXIMUM_WAIT_OBJECTS. This parameter cannot be zero.`

nCount**没有**指定数组大小，而是指定要等待的句柄数。但是，它不得超过数组大小，并且两者都不得超过 MAXIMUM_WAIT_OBJECTS。

提示：这不限于特定的句柄，如线程句柄。您可以通过这种方式处理各种等待句柄的混合。（[MSDN WaitForMultipleObjects 函数](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687025%28v=vs.85%29.aspx)）

`But since all the values of h are the same...` **不**，它们不一样，返回值`WaitForMultipleObjects`会相应变化（WAIT_OBJECT_0 + nCount）。

# php - 通过curl将图像从url保存到本地文件夹

> ID：14190220
> 
> 赞同：0
> 
> 时间：2013-01-07T05:10:03.373
> 
> 标签：php, image, curl, save

嗨，我想将**图像**从 web **url**保存到我的**本地**文件夹。下面是我的代码

```
<?php
$url = 'http://dev.aviesta.com.mx/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/b/r/bridal-shoes1.jpg';
$saveto = '/var/www/';
  function grab_image($url,$saveto){
      $url = 'http://dev.aviesta.com.mx/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/b/r/bridal-shoes1.jpg';
      $saveto = '/var/www/';
      $ch = curl_init ($url);
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_BINARYTRANSFER,1);
    $raw=curl_exec($ch);
    curl_close ($ch);
    if(file_exists($saveto)){
        unlink($saveto);
    }
    $fp = fopen($saveto,'x');
    fwrite($fp, $raw);
    fclose($fp);
   }

?> 
```

我已经尝试过这段代码，但它对我不起作用请给我一些想法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:17:46.717

为什么使用 cURL？

```
$url = 'http://dev.aviesta.com.mx/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/b/r/bridal-shoes1.jpg';
$saveto = '/var/www/image_' . time() . '.jpg';

grab_image($url, $saveto);

function grab_image($url, $saveto) {

  // Assumes a correctly encoded URL
  $image = file_get_contents($url);
  if (!$image)
    return false;

  file_put_contents($saveto, $image); 
  if (!file_exists($saveto))
    return false;

  return true;
} 
```

还要确保检查 Web 服务器是否有权写入 /var/www/

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:06:22.070

在**php.ini**文件中进行了如下更改

```
allow_url_fopen = On
```

并取消注释以下行。

```
extension=php_curl.dll
```

## 或者

```
$img = file_get_contents('http://graph.facebook.com/'.$response['user_id'].'/picture?type=large');
$image_name = time().".jpg";
/* putting image into the orignal images folder to keep the original image */
$upload_path = "img".DS."origional_images".DS."";
file_put_contents("img".DS."origional_images".DS.$image_name, $img);
```

### 试过的代码

我根据您发布的评论尝试了以下代码。
不幸的是，在您的评论中，您在 url 链接末尾有多余的 ' 摆脱了多余的 '，它将按预期工作。

```
$img = file_get_contents('http://dev.aviesta.com.mx/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/b/r/bridal-shoes1.jpg');
$image_name = time().".jpg";

$upload_path = "img/";
file_put_contents("img/".$image_name, $img); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:17:58.827

使用`$fp = fopen($saveto, 'wb');`.

# objective-c - 如何更新动态生成的故事板中的自定义特定 UITableview 单元格？

> ID：14190236
> 
> 赞同：0
> 
> 时间：2013-01-07T05:11:51.833
> 
> 标签：objective-c, uitableview, uistoryboard

我正在用 Objective-c 开发我的第一个应用程序。在第一个视图控制器中，我能够使用包含附件按钮的动态原型单元生成 UITableview。当我单击附件按钮时，它将导航到下一个视图控制器，该控制器还将具有动态 UITableviewcells 和（自定义按钮）选择作为附件按钮。但是，当我单击特定的选择按钮时，相应的单元格内容应该在单击辅助按钮的单元格（在第一个屏幕中）中更新。我能够从第二个屏幕到第一个屏幕获取详细信息。但是，我在第一个屏幕中的自定义单元格没有更新？

请帮助是否有任何预定义的函数，我在参考文档中没有找到。

先感谢您..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:30:05.030

从 ios 5 开发开始就有一个解决方案算法。

1.在prepareSegue中取indexPath

```
// prepare selection info
NSIndexPath *indexPath = [self.tableView indexPathForCell:sender]; 
```

2.将其发送到第二个视图控制器

```
 UIViewController *destination = segue.destinationViewController;
    [destination setValue:self forKey:@"delegate"];

    id object = [self.tasks objectAtIndex:indexPath.row];
    NSDictionary *selection = [NSDictionary dictionaryWithObjectsAndKeys:indexPath,@"indexPath",object,@"object", nil];        
    [destination setValue:selection forKey:@"selection"]; 
```

3.第二个视图控制器稍后会将**indexPath发回**给第一个控制器

```
// prepare selection info back
NSIndexPath *indexPath = [_selection objectForKey:@"indexPath"];
id object = _textView.text;
NSDictionary *editedSelection = [NSDictionary dictionaryWithObjectsAndKeys:indexPath, @"indexPath", object, @"object", nil];
[_delegate setValue:editedSelection forKey:@"editedSelection"]; 
```

4.因此在第一个视图控制器的**getter方法中，该方法用于从第二个视图控制器****取回**indexPath，您通过indexPath取回表格单元格并更改其值

```
#pragma mark - Call back by destination view
-(void)setEditedSelection:(NSDictionary *)dict{
    NSIndexPath *indexPath = [dict objectForKey:@"indexPath"];
    UITableViewCell *cell = [self.tableView cellForRowAtIndexPath:indexPath];
    ....
} 
```

# android - setOnKeyListener 不适用于 EditText

> ID：14190242
> 
> 赞同：0
> 
> 时间：2013-01-07T05:12:16.723
> 
> 标签：android, android-edittext

我有一个 EditText，我用它来让人们搜索数据库。现在我拥有一切正常的东西，但是，当有人在 EditText 中输入内容时，我的 ListView 并没有按照我想要的方式更新。

我想要它，以便每当有人在 EditText 中输入任何内容时，它都会更新 ListView。但是，当我在其中输入文本时，似乎什么也没发生。

这是我的代码：

```
@Override
protected void onResume() {
    searchText = (EditText)findViewById(R.id.search_text);
    ImageView searchView = (ImageView)findViewById(R.id.button_exercises_search);
    ImageView searchDoneView = (ImageView)findViewById(R.id.button_exercises_search_done);

    if (isSearching) {
        searchView.setVisibility(View.GONE);
        searchDoneView.setVisibility(View.VISIBLE);         
        searchText.setVisibility(View.VISIBLE);         
    }
    else {
        searchView.setVisibility(View.VISIBLE);
        searchDoneView.setVisibility(View.GONE);        
        searchText.setVisibility(View.GONE);        
    }

    searchText.setOnKeyListener(new OnKeyListener() {
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            String query = searchText.getText().toString();

            if (query.length() > 0) {
                cursor = datasource.fetchFilterExercises(dayDataID, query);
            }
            else {
                cursor = datasource.fetchAddExercises(dayDataID);
            }
            dataAdapter.changeCursor(cursor);

            return false;
        }
    });

    super.onResume();
} 
```

这 2 个按钮只是图标，单击时会显示/隐藏 EditText 以进行搜索。我知道数据源正确地获取了我想要的数据等。当我在 EditText 中输入文本时，似乎什么也没发生`searchText`。我应该把它移到 onCreate() 中吗？或者？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T05:19:23.580

您可以尝试使用`searchText.addTextChangedListener(...)`并将所有逻辑移动到它的`afterTextChanged(...)`回调中。根据以下文件`View.OnKeyListener()`：

> 注册在此视图中按下硬件键时要调用的回调。软件输入法中的按键一般不会触发该监听器的方法。

希望这会对你有所帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:09:45.703

> 您可以尝试使用 ((EditText) findViewById(R.id.editText)).addTextChangedListener(...) 并移动所有逻辑

((EditText) findViewById(R.id.editText)) .addTextChangedListener(new TextWatcher() {

```
 @Override
                    public void onTextChanged(CharSequence s, int start,
                            int before, int count) {
         String query = searchText.getText().toString();

        if (query.length() > 0) {
            cursor = datasource.fetchFilterExercises(dayDataID, query);
        }
        else {
            cursor = datasource.fetchAddExercises(dayDataID);
        }
        dataAdapter.changeCursor(cursor);

                    }

                    @Override
                    public void beforeTextChanged(CharSequence s, int start,
                            int count, int after) {
                        // TODO Auto-generated method stub

                    }

                    @Override
                    public void afterTextChanged(Editable s) {
                        // TODO Auto-generated method stub

                    }
                }); 
```

> 希望这会帮助你..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:21:08.287

由于您正在使用 ListView 可能正在使用适配器，如果是，则添加此行 mAdapter.notifyDataSetChanged();

# php - simplexml_load_file 从 WP 提要重复生成相同的帖子

> ID：14190243
> 
> 赞同：0
> 
> 时间：2013-01-07T05:12:25.763
> 
> 标签：php, rss, simplexml

我`simplexml_load_file`用来从 wordpress 博客获取 rss 提要。这是我的代码

```
$rssfile = simplexml_load_file( "http://blog.sufuraamathi.com/?feed=rss2" );
$items = $rssfile->channel->item ;

foreach( $items as $item ) {
  $article = array();
  $article['title'] = $item->title;
  $article['link'] = $item->link; 
  $article['category'] = $item->category;
}

foreach( $items as $item ) { ?>
 <?php if($article['category']=="Uncategorized") { ?>

    <div><?php echo $article['title'];?></div>
<?php
} } ;

?> 
```

问题：它重复输出同一个帖子 x 次，其中 x 是帖子总数。目前该类别中只有两个帖子，`Uncategorized`其他类别中还有三个帖子。但代码回显以下内容：

```
<div>Hello world!</div>
<div>Hello world!</div>
<div>Hello world!</div>
<div>Hello world!</div>
<div>Hello world!</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:24:06.987

您的问题在您发布的代码的第五行。您必须取出第一个 foreach 循环的数组定义：

```
$rssfile = simplexml_load_file( "http://blog.sufuraamathi.com/?feed=rss2" );
$items = $rssfile->channel->item ;

$article = array();  // <- put it here
foreach( $items as $item ) {
  $article['title'] = $item->title;
  $article['link'] = $item->link; 
  $article['category'] = $item->category;
}
... 
```

因为您当前的解决方案会重置`$article`每一行的数组。但是为什么不在一个 foreach 循环中循环所有内容呢？如果您不`$article`用于其他目的，我看不到将`$item`数据分配给数组的用途。代码可以简化：

```
$rssfile = simplexml_load_file( "http://blog.sufuraamathi.com/?feed=rss2" );
$items = $rssfile->channel->item ;

foreach( $items as $item ) { ?>
 <?php if($item->category=="Uncategorized") { ?>
    <div><?php echo $item->title;?></div>
<?php
} } ?> 
```

# facebook - 为什么 file_get_contents() 不能与 Facebook oauth 交换令牌代码。

> ID：14190253
> 
> 赞同：0
> 
> 时间：2013-01-07T05:13:40.237
> 
> 标签：facebook, oauth, file-get-contents

我无法使用以下代码交换令牌代码：

```
extract($_GET);
$url=urlencode('http://'.DOMAIN.'/admin/');
$app_id=FB_APPID;
$fb_token=FB_TOKEN;
$secret=FB_SECRET;

if(SEND_NEWS_TO_FB){
    if($code=='none'){
            $state=rand(100000000,9999999999999999999);
            $_SESSION['state']=$state;
            $script="
            <script type='text/javascript'>
                    var scope=encodeURI('publish_stream,user_status');
                    var app_id=$app_id;
                    var state=$state;
                    var url=$js_url;
                    window.location.href='https://www.facebook.com/dialog/oauth?                                                                                            client_id='+app_id+'&redirect_uri='+url+'&scope='+scope+'&state='+state;

            </script>";
            echo $script;
    }

if($code!='none' && $_SESSION['state']==$state && $_SESSION['fb_token']!=1){
            $_SESSION['fb_token']=1;
            $token_url="https://graph.facebook.com/oauth/access_token?"
            ."client_id=" .$app_id
            ."&redirect_uri=" .$url
            ."&client_secret=" .$secret
            ."&code=" .$code;
            $response = file_get_contents($token_url);
            $params = null;
            parse_str($response, $params);
            $token=$params['access_token'];
            $qry="UPDATE `settings` SET `FB_token`='$token'";
            $result=mysql_query($qry);
        } 
```

将返回的 $token_url 放在我的浏览器中会给我一个带有令牌和过期时间的页面。运行脚本会返回一条非常模糊的“抱歉，出现问题”消息。我看到的几乎所有有问题的线程都是由于重定向 uri 的差异造成的，但是登录和令牌请求都从完全相同的位置获取 uri。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T22:50:54.110

There was a whitespace between the app_id value and '&redirect_url'. FYI, your browser (at least chromium) will urlencode the whitespace automatically which is why the url will work fine in the browser. I still am not sure how the space is there, but urlencode() fixes it for now.

# java - 使家庭意图带入特定的应用程序活动？

> ID：14190254
> 
> 赞同：0
> 
> 时间：2013-01-07T05:14:05.033
> 
> 标签：java, android, android-intent, android-launcher

我已经建立了一个包含不同包和活动的项目，比如：

```
com.example.package1.Activity1
com.example.package2.Activity2 
```

第一个包包含一个启动器。在我的项目清单文件中，此活动正在侦听主意图：

```
 // Launcher
        <activity android:name=".package1.Activity1" android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.HOME" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>

        // package2.activity1
        <activity android:name=".package2.activity1" android:label="@string/package2_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity> 
```

我的问题是，当用户单击`Home`启动器时未打开，而是将用户带到应用程序的最后打开的活动。`EG: User opens package2.MainActivity from default launcher > goes to another app > clicks home > package2.MainActivity is opened again.`

这是正常的吗？如何确保设备`Home`按钮转到 .package1.activity1？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T11:47:50.660

如果您尝试创建主屏幕替换，则该活动需要`<activity>`在清单中的标记中包含以下内容：

```
android:launchMode="singleInstance" 
```

这将确保该活动只存在一个实例，并且当该活动启动其他活动时，它们都将进入新任务，而不是主屏幕替换任务的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:39:05.017

我不确定，但请尝试以下代码：

```
// package2.activity1
    <activity android:name=".package2.activity1" android:label="@string/package2_name" >
        <intent-filter>
            <action android:name="android.intent.action.View" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity> 
```

# java - 正则表达式匹配完全限定的java变量

> ID：14190255
> 
> 赞同：0
> 
> 时间：2013-01-07T05:14:07.197
> 
> 标签：java, regex

是否有任何正则表达式来匹配完全限定的 java 变量？

例如：从以下示例行中获取变量名称。

```
public static final ByteOrder BIG_ENDIAN = ByteOrder.BIG_ENDIAN;
  ByteOrder order = null; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:46:47.477

```
String z = "public static final ByteOrder BIG_ENDIAN = ByteOrder.BIG_ENDIAN;\nByteOrder order = null;";
Pattern pattern = Pattern.compile("[^ =]+[ ]*=[^=]");
Matcher matcher = pattern.matcher(z);
while (matcher.find()) {
    String match = matcher.group();
    match = match.substring(0, match.length()-2).trim();
    System.out.println(match);
} 
```

将匹配任何作业。

# grails - 需要一个带有多个参数的 groovy-wslite POST 示例

> ID：14190257
> 
> 赞同：0
> 
> 时间：2013-01-07T05:14:15.117
> 
> 标签：grails, groovy

我需要使用参数用户名和密码对[https://example.com/api/login进行安全 POST。](https://example.com/api/login)我正在尝试将 wslite 插件与 Grails 一起使用，但我无法弄清楚语法。我已经检查了 github 上的单元测试，但没有一个给我我需要的东西。也许我只是没有把这些点联系起来。

无论如何，有没有人有一个 POST 的多个参数的例子？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T11:10:17.557

尝试以下示例发布您的请求。

```
def client = new RESTClient("https://example.com/api/login")
// for testing only!
client.httpClient.sslTrustAllCerts = true

def response = client.post() {
    charset "UTF-8"
    urlenc username: "test", password: "test" // here you can provide your params as a map
} 
```

# iphone - 表格单元格在同一位置绘图

> ID：14190258
> 
> 赞同：-1
> 
> 时间：2013-01-07T05:14:21.180
> 
> 标签：iphone, objective-c, ios, uitableview

我必须填充行数。当我使用

```
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier]; 
```

这一行，在滚动到某些行后，它会在同一位置重绘行。见下面的屏幕
![在此处输入图像描述](../Images/49a29d6a7bfe07a2d069e41bfad9bee1.png)

如果我让细胞为零，即

```
UITableViewCell *cell = nil; 
```

然后工作正常，但它需要更多的内存。现在我的问题是它为什么会发生。

> 使单元格为零与在同一位置重绘有什么关系？

这是我的代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    }

    UIButton *questionButton=[UIButton buttonWithType:UIButtonTypeCustom];
    questionButton.backgroundColor=[UIColor clearColor];
    questionButton.tag=indexPath.row+1;

    [questionButton setContentHorizontalAlignment:UIControlContentHorizontalAlignmentLeft];

    UIImageView *statusImageView=[[UIImageView alloc]initWithFrame:CGRectMake(190,25,23,23)];

    NSString *statusImageName=[[NSString  alloc]init];
    statusImageName=@"Right";
    [statusImageView setImage:[UIImage imageNamed:statusImageName]];
    [questionButton addSubview:statusImageView];

    if(indexPath.row%2==0)
    {
        [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarLeft"] forState:UIControlStateNormal];
        [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarLetSelected"] forState:UIControlStateHighlighted];
        CGRect topicButtonFrame=CGRectMake(0, 10, 250, 70);
        questionButton.frame=topicButtonFrame;

        NSLog(@"Even Rows =%d",indexPath.row);

        NSString *questionLabel=[NSString stringWithFormat:@" Question %d :",indexPath.row+1];
        [questionButton setTitle:questionLabel forState:UIControlStateNormal];
        //questionButton.titleLabel.textAlignment=NSTextAlignmentLeft;

        [questionButton.titleLabel setTextAlignment:UITextAlignmentLeft];
    }
    else
    {
        [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarRight"] forState:UIControlStateNormal];
        [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarRightSelected"] forState:UIControlStateHighlighted];
        CGRect topicButtonFrame=CGRectMake(100, 10, 250, 70);
        questionButton.frame=topicButtonFrame;

        NSString *questionLabel=[NSString stringWithFormat:@"     Question %d :",indexPath.row+1];
        [questionButton setTitle:questionLabel forState:UIControlStateNormal];
        questionButton.titleLabel.textAlignment=UITextAlignmentRight;
        [cell addSubview:questionButton];

    }

    [cell addSubview:questionButton];

    cell.selectionStyle=UITableViewCellSelectionStyleNone;
    return cell;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:28:25.660

的目的`dequeueReusableCellWithIdentifier`是使用更少的内存。如果屏幕可以容纳 4 或 5 个表格单元格，那么通过重用，即使表格有 1000 个条目，您也只需在内存中分配 4 或 5 个表格单元格。

因此，当您执行此操作时`UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];`，它会返回一个旧单元格以供重用。它不是一个新的单元实例。它包含初始化为旧数据的单元格的 UI 元素。要再次显示它，您需要重置所有 UI 元素并输入新值。

第二种方式放`UITableViewCell *cell = nil;`的时候没有重用。与仅使用表格单元格数组相比，第二种方式没有任何优势。如果您的表有 1000 个条目，那么您将在内存中分配 1000 个单元格。如果你打算这样做，你可以把它们放在一个数组中，然后用行号索引数组并返回单元格。这应该可以解释您的内存使用量激增，因为它没有重用任何单元实例。

对于具有固定单元格的小表，第二种解决方案可能是一个合理的解决方案，对于动态或大表重用是最好的方法......

**更新：**因为您要求提供一些代码。另请注意，您正在根据奇数或偶数进行 2 种类型的渲染。`reuse`因此，当您想显示偶数问题时，出来的单元格可能是奇数。在这种情况下，您需要在获得单元后（通过重用或创建新单元）重置单元，并让您的正常逻辑通过......

```
 [questionButton setBackgroundImage:[UIImage imageNamed:@"default.png"]];
    [questionButton setTitle:@"" forState:UIControlStateNormal];
    CGRect topicButtonFrame=CGRectMake(0, 0, 250, 70);
    questionButton.frame=topicButtonFrame; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:26:21.670

问题在这里：

```
 [cell addSubview:questionButton];
    }
    [cell addSubview:questionButton]; 
```

您正在添加 questionButton 两次。请在其他部分删除一个并尝试。

**更新 ：**

你可以试试这个只是为了确认是什么问题：

```
if(indexPath.row%2==0)
{
    UIButton *questionButton=[UIButton buttonWithType:UIButtonTypeCustom];
    questionButton.backgroundColor=[UIColor clearColor];
    questionButton.tag=indexPath.row+1;

    [questionButton setContentHorizontalAlignment:UIControlContentHorizontalAlignmentLeft];

    UIImageView *statusImageView=[[UIImageView alloc]initWithFrame:CGRectMake(190,25,23,23)];

    NSString *statusImageName=[[NSString  alloc]init];
    statusImageName=@"Right";
    [statusImageView setImage:[UIImage imageNamed:statusImageName]];
    [questionButton addSubview:statusImageView];
    [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarLeft"] forState:UIControlStateNormal];
    [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarLetSelected"] forState:UIControlStateHighlighted];
    CGRect topicButtonFrame=CGRectMake(0, 10, 250, 70);
    questionButton.frame=topicButtonFrame;

    NSString *questionLabel=[NSString stringWithFormat:@" Question %d :",indexPath.row+1];
    [questionButton setTitle:questionLabel forState:UIControlStateNormal];
    //questionButton.titleLabel.textAlignment=NSTextAlignmentLeft;

    [questionButton.titleLabel setTextAlignment:UITextAlignmentLeft];
    [cell addSubview:questionButton];
}
else
{
    UIButton *questionButton=[UIButton buttonWithType:UIButtonTypeCustom];
    questionButton.backgroundColor=[UIColor clearColor];
    questionButton.tag=indexPath.row+1;

    [questionButton setContentHorizontalAlignment:UIControlContentHorizontalAlignmentLeft];

    UIImageView *statusImageView=[[UIImageView alloc]initWithFrame:CGRectMake(190,25,23,23)];

    NSString *statusImageName=[[NSString  alloc]init];
    statusImageName=@"Right";
    [statusImageView setImage:[UIImage imageNamed:statusImageName]];
    [questionButton addSubview:statusImageView];
    [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarRight"] forState:UIControlStateNormal];
    [questionButton setBackgroundImage:[UIImage imageNamed:@"TopicsbarRightSelected"] forState:UIControlStateHighlighted];
    CGRect topicButtonFrame=CGRectMake(100, 10, 250, 70);
    questionButton.frame=topicButtonFrame;

    NSString *questionLabel=[NSString stringWithFormat:@"     Question %d :",indexPath.row+1];
    [questionButton setTitle:questionLabel forState:UIControlStateNormal];
    questionButton.titleLabel.textAlignment=UITextAlignmentRight;
    [cell addSubview:questionButton];

} 
```

# android - android:taskaffinity 是如何工作的？

> ID：14190262
> 
> 赞同：7
> 
> 时间：2013-01-07T05:14:48.870
> 
> 标签：android, taskaffinity

`android:taskaffinity`属性如何工作？

据我了解，按 Home 键会将活动移回堆栈，但不会被销毁。我很困惑。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-30T10:11:01.390

您确实为 activity2 和其他活动设置了不同的 android:taskAffinity。这将迫使android在（参见我的示例）时制作不同的堆栈。

```
 <activity android:name=".activity2" android:taskAffinity="com.example.act2" >
 </activity>

 <activity android:name=".activity1" android:taskAffinity="com.example.act1" >
 </activity> 
```

下面的顺序应该是正确的。为了

1.  开始活动2。
2.  按主页
3.  开始活动1。
4.  按返回 -> 应显示主屏幕。

# broker - 在kafka 0.8 producer，我们不能指定zk.connect而不指定broker.list

> ID：14190263
> 
> 赞同：2
> 
> 时间：2013-01-07T05:14:51.460
> 
> 标签：broker, producer, apache-kafka

我发现在 Kafka 0.72 中，我们可以指定 zk.connect 或 broker.list。但是在 Kafka 0.8 中，我们只能指定 broker.list ，不能指定 zk.connect 而不指定 broker.list。我认为，在这种情况下，我们无法通过 zookeeper 来平衡生产者。如果有人使用Kafka 0.8，或者对此有所了解？非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T22:36:49.353

您仍然可以使用 ZooKeeper 客户端来检索代理列表：

```
ZkClient zkClient = new ZkClient("localhost:2108", 4000, 6000, new BytesPushThroughSerializer());
List<String> brokerList = zkClient.getChildren("/brokers/ips"); 
```

据此，您不必在客户端“硬编码”代理列表，并且就系统架构而言，您是灵活的。但无论如何，这会再次添加 ZooKeeper 依赖项，这实际上对多个环境中的生产者来说是一个劣势。

如果您想详细了解所谓的“集群元数据 API”解决方案，请查看此链接：[https ://issues.apache.org/jira/browse/KAFKA-369](https://issues.apache.org/jira/browse/KAFKA-369)

最好的

预

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T08:25:28.323

在 Kafka 0.8 中，生产者通过新的集群元数据 API 进行负载平衡，并且为此目的使用 Zookeeper 已被删除。

# firebase - push() 目前在 Firebase 中不起作用，还是我做错了什么？

> ID：14190268
> 
> 赞同：1
> 
> 时间：2013-01-07T05:14:56.843
> 
> 标签：firebase

我有以下代码：

```
var myRootRef = new Firebase('https://myacct.firebaseIO.com');
var collectionRef = myRootRef.child('collection');
var pushRef = collectionRef.push();

pushRef.set('item1');
pushRef.set('item2');
pushRef.set('item3'); 
```

如果我转到 url：“https://myacct.firebaseIO.com”，我只会在集合中看到“item3”。我没有看到其他两个。似乎集合对象正在被重写而不是被添加到。如果我手动输入孩子的名字，一切都会奏效。例如，以下工作：

```
collectionRef.child(1).set('item1');
collectionRef.child(2).set('item2');
collectionRef.child(3).set('item3'); 
```

这是一个错误，还是我在使用方式上做错了`push`什么？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T05:36:43.913

您编写的代码按预期工作。push() 是一个帮助器，它创建对具有唯一名称的新子项的引用，它是在 Firebase 中创建项目列表的好方法。

您的代码可以重写如下：

```
var myRootRef = new Firebase('https://myacct.firebaseIO.com');
var collectionRef = myRootRef.child('collection');

collectionRef.push().set('item1');
collectionRef.push().set('item2');
collectionRef.push().set('item3'); 
```

push() 可以选择接受一个参数，该参数将被设置为新引用的值。因此，您可以像这样缩短代码：

```
collectionRef.push('item1');
collectionRef.push('item2');
collectionRef.push('item3'); 
```

您可以在此处阅读有关使用 push() 的更多信息： [https ://www.firebase.com/docs/managing-lists.html](https://www.firebase.com/docs/managing-lists.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-01T05:33:44.110

我无法在我的 Firebase 数据库中推送任何内容，解决方案是删除写入所需的身份验证。单击数据库（左侧面板），然后单击`Rules`选项卡。更改`write`为 auth == null。像这样：

```
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth == null"
  }
} 
```

# php - 我怎样才能让搜索引擎只抓取我的数据而其他人不抓取？

> ID：14190272
> 
> 赞同：2
> 
> 时间：2013-01-07T05:15:44.987
> 
> 标签：php, request, web-scraping, search-engine

我开发了一个 PHP 应用程序，它的主要目的是从数据库中获取数据。我想通过使用机器请求来防止从数据库中获取所有记录（我的意思是那些由非人类发出的请求，即像 CURL 这样的机制，你通常会通过 CAPTCHA 来阻止这样的请求。）。

我怎样才能让搜索引擎只抓取我的数据而没有其他人抓取我的数据而不会造成明显的可用性损害？

相关：[防止非人为生成的请求](https://stackoverflow.com/q/13781182/752603)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:45:03.123

要打开您的问题，我单击了链接，我的浏览器向 stackOverflow 服务器发出请求并请求此页面。这与 cURL 的作用相同……除了它不能处理 JavaScript。但同样，我没有代表我的浏览器解析 JavaScript。这又是一个程序。

我真正需要强调的是，实际上您无法阻止机器伪造用户活动。

但是，如果您有兴趣，这里有一些技巧。就个人而言，我更喜欢不直接涉及人类的方法。

*   向页面添加验证码挑战。
*   如果您的目标受众主要是使用现代浏览器的现代人，请使用一些 Ajax 页面加载。这将保留大多数低端刮刀，但不是全部。Google 可以处理一些 ajax 请求。参见哈希棒。
*   向页面添加验证码挑战。
*   如果您的目标受众主要是使用现代浏览器的现代人，请使用一些 Ajax 页面加载。这将保留大多数低端刮刀，但不是全部。Google 可以处理一些 ajax 请求。参见哈希棒。
*   记录用户的 IP 地址，并在短时间内寻找具有数千次点击的人。
*   为该站点添加一些防洪措施。您可以禁止（例如）每分钟处理一次以上的表单提交。
*   将令牌添加到表单并验证它。这至少会使抓取过程分为两步。
*   并让您的网站从数据库中获取一些数据。例如，如果您的应用程序是日历，您可以禁止所有请求显示超过一年的日期。

您不能通过其用户代理阻止机器人。cURL 和其他程序在发出请求时可以使用用户给定的不同用户代理。

您可以调整 googlebot 在 Google Web Master Central 中的行为方式。尝试将其与您的防洪机制相匹配。请记住，Google 建议您不要依赖其用户代理。

# c++ - 与调用函数相比，goto 语句是否有效？

> ID：14190274
> 
> 赞同：7
> 
> 时间：2013-01-07T05:16:01.353
> 
> 标签：c++, c, assembly, goto, machine-code

我在这里有以下 C++ 代码：

```
#include <iostream>

int main(int argc, const char * argv[])
{
    goto line2;
line1:
    std::cout << "line 1";
    goto line3;
line2:
    std::cout << "line 2";
    goto line1;
line3:
    std::cout << "line 3";
    goto line4;
line4:
    std::cout << "Hello, World!\n";
    return 0;
} 
```

如果我制作了一个更大的程序，比如说 10,000 行代码，并且我决定永远不会使用我自己编写的函数，我只会使用 goto 语句。我只使用全局变量。我在最佳实践方面有点疯狂，但它有一个非常具体的目的。问题是，使用 goto 语句跳转是否有效？如果我有 1000 个 goto 标签怎么办？

goto 语句是否直接转换为机器代码，告诉计算机只是跳转到不同的内存地址？与调用函数的成本相比，这样在机器中跳转的成本是否更低？

我想知道，因为我想编写一个非常高效的程序来进行一些计算，并且我需要非常高效而不求助于汇编/机器代码。

* * *

无需告诉我，就维护、代码的可理解性、最佳实践而言，这是一个坏主意，我非常清楚这一点，我只想回答这个问题。我不想在函数调用好用还是 goto 好用之间争论。

* * *

为了澄清这个问题，在这种仅将 goto 与 10,000 行程序一起使用的情况下，我担心它与使用函数的传统程序相比如何。有多种方法可以对这两个程序进行比较和对比，例如 CPU 缓存将如何执行。如果没有函数调用，它将提供什么样的节省。如果没有调用堆栈，这对 CPU 缓存有何影响，因为 CPU 缓存通常会保持堆栈关闭。因此，是否会出现由于未正确使用缓存而导致性能下降的情况。与时间效率方面的跳跃相比，调用函数的实际成本是多少。有很多方法可以在效率方面比较和对比两种编程风格。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-01-07T05:22:29.713

> goto 语句是否直接转换为机器代码，告诉计算机只是跳转到不同的内存地址？

是的。

> 与调用函数的成本相比，这样在机器中跳转的成本是否更低？

是的。

但是，当编译器看到函数调用时，它不必实际生成代码来调用函数。它可以利用函数的核心并将它们固定在调用所在的位置，甚至不会跳转。所以调用函数可能更有效！

此外，代码越小，效率越高（一般来说），因为它更可能适合 CPU 缓存。编译器可以看到这一点，并且可以确定函数何时较小最好内联，或者何时较大最好将其分离并使其成为真正的函数，以生成最快的代码（如果您将其设置为生成最快的代码）。您看不到这一点，因此您猜测并且可能猜错了。

这些只是一些明显的。编译器可以做很多其他的优化。让编译器决定。它比你聪明。它比我聪明。**编译器知道一切**。说真的，Cthulhu 可能是一个编译器。

你说不要，但我要说：我强烈建议你在决定这样做之前**分析你的代码，我几乎可以保证这不值得你花时间。**编译器（其中大部分是接近 AI 级别的智能）可能可以*通过常规函数调用生成更快或更快的代码，*更不用说维护方面了。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-01-07T05:21:53.850

> goto 语句是否直接转换为机器代码，告诉计算机只是跳转到不同的内存地址？

差不多。

> 与调用函数的成本相比，这样在机器中跳转的成本是否更低？

函数调用将进行非常相似的跳转，但在跳转之前，您必须为新函数设置新的堆栈框架，根据调用约定推送参数，最后设置任何返回价值和放松。是的，不这样做可能会更快。

> 我有点疯狂

是的。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-07T05:58:49.263

> 1)*问题是，使用 goto 语句跳转是否有效？如果我有 1000 个 goto 标签怎么办？*

从您的带有 4 个标签的小示例中，您**来回**`goto`跳转，不，它在性能方面效率不高。为了避免函数调用机制的开销，此方法禁用了编译器会自动为您执行的许多其他优化。我没有列出它们，但这[值得](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)一读。

 **> 2) *goto 语句是否直接转换为机器代码，告诉计算机只是跳转到不同的内存地址？*

是的（正如其他人正确指出的那样）

> 3)*与调用函数的成本相比，这样在机器中跳来跳去的成本是否更低？*

是的，只有当您的编译器是历史前的，并且没有内置任何优化机制时。否则否。

而且我不是在谈论最佳实践..

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-07T05:23:43.210

是的，从 goto 生成的机器代码将是一个直接的 JUMP。这可能会比函数调用更快，因为不需要对堆栈做任何事情（尽管没有任何要传递的变量的调用将被优化为可能同样快）。

当此代码无法正常工作时，上帝会帮助您。或者当其他人必须维护它时。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-07T05:34:33.200

很难准确地回答您的查询，这取决于您的程序的复杂性和其中 goto 语句的使用。

goto 语句等效于无条件跳转指令（例如 jmp ）。goto 的范围将在文件内。

Ritchie 建议避免使用 goto 语句，如果仍然想/必须使用 goto 语句，则使用自顶向下的方法，不要使用自底向上的方法。

好吧，这些是教科书的详细信息。

实际上，您应该非常确定在哪里使用 goto 语句以及在 goto 跳转后您的程序流程将在哪里，否则正如您提到的 1000 个 goto 语句，您也很难决定程序流程，忘记其他人。因此，进一步改进您的程序将非常困难。

还有许多其他工具，例如循环、条件语句、break 和 continue 语句、函数等，可以帮助您避免此类问题。

希望能帮助到你.....

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-07T05:25:04.570

简而言之，'GoTo' 语句可能很有效，但这就是它们的实际使用方式。根据 Herbert Schildt 的说法（**来自 GROUND UP 的 C++**), “没有需要使用 goto 语句的编程情况——它不是使语言完整所必需的项目。” 归根结底，许多程序员不喜欢该语句的主要原因是 goto 语句往往会使您的代码混乱和/或使其非常难以阅读，因为根据名称，goto 可以从一个地方跳到另一个地方。话虽如此，有时 goto 语句可以减少混乱并提高代码效率，但这完全取决于您如何使用它们以及使用它们的上下文。就个人而言，我建议使用函数调用，与几个 goto 语句相反；其他人可能不同意。**

# objective-c - 排序和过滤核心数据关系的更有效方法是什么？

> ID：14190277
> 
> 赞同：2
> 
> 时间：2013-01-07T05:16:22.233
> 
> 标签：objective-c, ios, core-data, nspredicate, nsfetchrequest

假设我有一个 Podcast 实体，它有很多情节，我很困惑其中哪一个是剔除和排序的首选选项：

```
// Always work with the relationship property
- (NSSet*)unfinishedEpisodes {
  NSArray* episodes = self.episodes.allObjects;

  NSPredicate* predicate = [NSPredicate predicateWithBlock:^BOOL(PodcastEpisode* episode, NSDictionary* bindings) {
    return !episode.isFinished;
  }];

  NSArray* unfinishedEpisodes = [episodes filteredArrayUsingPredicate:predicate];

  return [NSSet setWithArray:unfinishedEpisodes];
}

- (NSArray*)unfinishedEpisodesSortedByAge {
  NSSortDescriptor* sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@"date" ascending:YES];

  return [self.unfinishedEpisodes.allObjects sortedArrayUsingDescriptors:sortDescriptors];
} 
```

或者

```
// Fetch specific sets of data as needed
- (NSArray*)unfinishedEpisodes:(NSArray*)sortDescriptors {  
  NSFetchRequest* fetch = [[NSFetchRequest alloc] initWithEntityName:@"Episode"];

  NSPredicate* predicate = [NSPredicate predicateWithFormat:@"podcast == %@ AND playcount == 0", self];
  fetch.predicate = predicate;

  fetch.sortDescriptors = sortDescriptors;

  NSArray* results = [KRTDataManager.sharedManager.mainObjectContext executeFetchRequest:fetch error:nil];

  return results;
}

- (NSArray*)unfinishedEpisodesSortedByAge {
  NSSortDescriptor* sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@"date" ascending:YES];

  return [self unfinishedEpisodes:@[ sortDescriptor ]];
} 
```

我在 SQL 中尽可能多地做的那部分很难认为选项 1 更好，但我读过的大部分内容似乎表明，一旦播客对象进入，使用 (NSSet*) 剧集非常便宜存在。我对在这些情况下如何处理核心数据故障的理解非常不稳定，我意识到核心数据不应该真正与 SQL 数据库进行比较。不过，仅基于这两个选项的构造方式，我认为将谓词和排序描述符直接烘焙到 fetch 中会有一些好处；但也许这不足以弥补关系所提供的收益。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T08:41:11.370

第一个代码在处理大型结果集时效率低下，因为它在内存对象中运行。所有对象都必须加载到内存中，因此如果它们不存在，它们将在引发故障时*一一加载。*

第二个代码将在 sql 端完成所有操作，并为您提供已经过滤和排序的结果。CoreData 还使用内部缓存来优化此类查询，因此如果剧集尚未在其他地方加载，我更喜欢此选项。启用 CoreData 调试以查看 sql 查询的外观。[已经有一个答案如何做到这一点](https://stackoverflow.com/questions/822906/how-do-i-get-the-coredata-debug-argument-to-output-to-the-console)。

# java - 什么是 JVM GC 的大对象

> ID：14190280
> 
> 赞同：4
> 
> 时间：2013-01-07T05:16:30.213
> 
> 标签：java, garbage-collection, jvm

[Charlie Hunt 在他的演讲](http://www.infoq.com/presentations/Extreme-Performance-Java)中说大对象对 JVM GC 不利。因为：

1.  大对象的分配和初始化成本很高。

2.  不同大小的大对象会导致 Java 堆碎片化。

如何定义大对象？我怎么知道物体是否是大物体？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:37:18.890

定义取决于平台、JVM 和 JVM 配置。例如，下面是Michael Kopp[*在三大 JVM*](http://apmblog.compuware.com/2011/05/11/how-garbage-collection-differs-in-the-three-big-jvms/)博客文章中垃圾收集的不同之处的摘录：

> **大物体和小物体**
> 
> JRockit 在分配期间区分大对象和小对象。*对象被认为是大的限制取决于 JVM 版本、堆大小、垃圾收集策略和使用的平台。*（*斜体字*我的 - DL。）它通常在 2 到 128 KB 之间。大对象分配在线程局部区域之外，以防分代堆直接在老年代中。当您开始考虑它时，这很有意义。年轻代使用一个副本 ccollection。在某些时候，复制一个对象变得比在垃圾收集中遍历它更昂贵。

对于您的第二个问题，我不确定如何获得该阈值，但具体而言，您可以在 HotSpot 中*设置*它：

`-XX:PretenureSizeThreshold=2m`

有关此选项和许多其他选项的详细信息，请参阅 Alexey Ragozin 的[*HotSpot JVM 垃圾收集选项备忘单*](http://blog.ragozin.info/2011/09/hotspot-jvm-garbage-collection-options.html)`-XX`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:36:13.913

它的大小没有理论上的定义，但这取决于您的 JVM 配置，例如，如果年轻代很小，那么即使是小类也会导致过多的交换 (GC)。如果你的对象在你的 JVM 堆中足够大，那么 GC 将不得不做更多的工作来从堆中分配和声明它们。这将更频繁地导致“停止世界”问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-08T14:32:01.510

从 GC 的角度来看，大对象通常意味着：

*   **分配昂贵的对象**
*   **初始化昂贵的对象**

例如：大小为 10000 的数组列表。

# android - 动态更改键盘布局

> ID：14190289
> 
> 赞同：5
> 
> 时间：2013-01-07T05:17:12.983
> 
> 标签：android, keyboard, android-softkeyboard, ime

我正在创建自定义键盘。[我从Here](https://github.com/zeuxisoo/android-emoji-keyboard)得到了一个非常有用的演示。我想创建键盘的多个主题，所以我为键盘创建了另一个布局，但现在的问题是我不知道如何设置当前键盘的布局或必须重新加载键盘或必须做其他事情..改变键盘的设计没有任何想法。

我的概念是用户必须从活动中选择键盘主题，键盘设计会改变。

任何人都可以帮助我或有任何想法来解决这个问题..？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-07T12:56:36.137

获取更改自定义键盘布局的解决方案。

当键盘第一次加载 onCreateInputView() 被调用。之后，每次打开键盘时都会调用 onStartInputView(EditorInfo 属性，布尔重新启动)。

所以，现在键盘（主题）的布局必须在 onCreateInputView() 中定义就像这样

```
public KeyboardView mInputView;
public View onCreateInputView() {

    SharedPreferences pre = getSharedPreferences("test", 1);
    int theme = pre.getInt("theme", 1);

    if(theme == 1)
    {
        this.mInputView = (KeyboardView) this.getLayoutInflater().inflate(R.layout.input, null);
    }else
    {
        this.mInputView = (KeyboardView) this.getLayoutInflater().inflate(R.layout.input_2, null);

    }
    this.mInputView.setOnKeyboardActionListener(this);
    this.mInputView.setKeyboard(this.mQwertyKeyboard);
    return this.mInputView;
} 
```

并在 onStartInputView 中执行此操作

```
public void onStartInputView(EditorInfo attribute, boolean restarting) {
    super.onStartInputView(attribute, restarting);

    setInputView(onCreateInputView());
} 
```

# c++ - 我如何能够链接以下数据

> ID：14190291
> 
> 赞同：0
> 
> 时间：2013-01-07T05:17:22.690
> 
> 标签：c++, stl, map, multimap

我在以下代码中将 3 个元素（开始、停止）链接在一起时遇到问题。

```
 map <int, int> (start, stop) startomap;
 map <unsigned, <int, int> > (n1, startomap);
 map <string, unsigned> (s, n1) m3; 
```

从 m3 我能够链接 string 和 n1，我如何设置 map < string, > (s, startomap) m4；同时确保 s -> n-> start->to 之间的 1 对 1 关系 非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:24:06.273

你想要这个吗？

```
map <int, int>  startomap;
map<unsigned, map<int, int> > n1startomap;
map <string, map<unsigned, map<int, int> > > sn1startmap; 
```

# iphone - 基于页面的应用程序中的换行符

> ID：14190293
> 
> 赞同：1
> 
> 时间：2013-01-07T05:17:34.157
> 
> 标签：iphone, ios6, uilabel

在我基于页面的应用程序中，我想在 uilabel 中使用换行符，我尝试使用以下编码，

```
 @"The farmer and his wife were entranced with joy and danced cheerfully because of their goose lays \n a golden egg",

self.titlestring.frame = CGRectMake(53, 620, 0, 37);
self.titlestringcop.frame = CGRectMake(53, 620, 918, 37);
[self fadein];
[self.titlestring setText:self.dataobject1];
[self.titlestringcop setText:self.dataobject1];
textstring.numberOfLines = 0;
titlestringcop.numberOfLines = 0;
CGSize labelSize = [textstring.text sizeWithFont:textstring.font
                               constrainedToSize:textstring.frame.size
                                   lineBreakMode:textstring.lineBreakMode];
CGSize labelSize1 = [titlestringcop.text sizeWithFont:titlestringcop.font
                                    constrainedToSize:titlestringcop.frame.size
                                        lineBreakMode:titlestringcop.lineBreakMode];
textstring.frame = CGRectMake(
                              textstring.frame.origin.x, textstring.frame.origin.y,
                              textstring.frame.size.width, labelSize.height);
titlestringcop.frame = CGRectMake(
                                  titlestringcop.frame.origin.x,    titlestringcop.frame.origin.y,
                                  titlestringcop.frame.size.width, labelSize1.height); 
```

但是 in 没有显示出任何区别？我的代码有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:27:06.397

试试这一行，在代码中添加这些行并检查：

```
textstring.lineBreakMode = UILineBreakModeWordWrap;

titlestringcop.lineBreakMode = UILineBreakModeWordWrap; 
```

# javascript - 如何让 execCommand 更改我所见即所得的字体类型？

> ID：14190296
> 
> 赞同：5
> 
> 时间：2013-01-07T05:17:46.090
> 
> 标签：javascript, execcommand

我可以使用按钮使字体加粗，但在使用选择标签选择字体时不能。我有一系列的选择，如 Arial、Times、Courier 等，无法点击。这就是代码的样子

```
function fontEditor(){
var x=document.getElementById("fontName").selectedIndex;
var y=document.getElementById("fontName").options;
document.execCommand(x,"",y);
edit.document.focus(fontName);
} 
```

伴随着这个

```
<select id="fontName" onChange="fontEditor('font',[selectedIndex].value)">
<option value="Arial">Arial</option>
<option value="Calibri">Calibri</option>
<option value="Comic Sans MS">Comic Sans MS</option>
</select> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-07T08:58:38.793

尝试更改`function fontEditor()`为`function fontEditor(fontName)`.

```
function fontEditor(fontName) {
    document.execCommand("fontName", false, fontName);
    ...
} 
```

和：

```
<select onchange="fontEditor(this[this.selectedIndex].value)">
    <option value="Arial">Arial</option>
    <option value="Calibri">Calibri</option>
    <option value="Comic Sans MS">Comic Sans MS</option>
</select> 
```

# python - 我将如何将基于 python 的文件转换器/解析器上传到网络？

> ID：14190297
> 
> 赞同：0
> 
> 时间：2013-01-07T05:17:57.717
> 
> 标签：python, django, parsing, text-parsing

我编写了一个 python 脚本，它接受一个文本文件并重新组织文件中的信息。它取出某些信息并移动其他信息。所以基本上它会转换它。我想要人们可以访问的最简单的 Web 界面。在此界面上，有一个按钮可以上传您的文件，然后界面会在其上运行此脚本并将输出文件放在新页面或同一页面上以供查看或下载。最简单的方法是什么？我应该研究 Django 吗？我觉得这太基础了，我几乎不需要 Web 框架。我基本上只是在为这个或其他资源寻找一些好的关键字来谷歌。这个工具在网络术语中叫什么？一个框架（django 等）会帮助我这么多，还是有一种方法可以基本上拥有一个调用 python 脚本的 html 上传表单？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T05:19:29.773

虽然您可以使用原始[WSGI](http://www.python.org/dev/peps/pep-0333/)（较新的方式）或[Python 的`cgi`模块](http://docs.python.org/2/cgi.html)（可能更*传统*），但您可能希望研究一些构建在 WSGI 之上的*最小Web 框架。*这里有几个：

*   [烧瓶](http://flask.pocoo.org/)
*   [瓶子](http://bottlepy.org/)
*   [樱桃派](http://www.cherrypy.org/)
*   [网页.py](http://www.webpy.org/)

它们的设置和开始都非常简单。
选择一个并弄清楚如何做你需要的任何事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T07:00:56.973

[Utility Mill](http://utilitymill.com/)使这种实用程序包装变得非常容易。

# c# - 在 c# 中使用两个项目时使用带有存储过程的 LINQ 插入数据

> ID：14190299
> 
> 赞同：0
> 
> 时间：2013-01-07T05:18:07.983
> 
> 标签：c#, linq, stored-procedures

我的应用程序中有两个项目（层）。一个是`myApplication`，另一个是`myApplicationLib`。

我有`myApplication`层级的所有表格，我正在编写`myApplicationLib`层级的业务类。现在我想通过使用带有存储过程的 LINQ 将`myApplication`表单中的值插入 SQL Server 。`myApplicationLib`

如何将 DataContext 上的存储过程从一层调用到另一层？

请帮我。先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:36:25.533

为了保持数据访问/业务逻辑的抽象化，myApplicationLib 将包装所有数据访问（包括上下文和 LINQ）并通过方法公开实体/模型/DTO。例如，如果您有一个需要访问并在 Web 表单上显示的产品表，您可以：

*   创建一个名为 GetCategoryProducts 的方法，该方法返回 myApplicationLib 中的产品列表（您将在此处调用存储过程和/或使用 LINQ）

*   在 myApplication 中引用 myApplicationLib

*   调用 myApplicationLib 中的 GetCategoryProducts 方法并在 myApplication 中的 Web 表单上显示（如果需要，您可以在返回的产品列表上使用 LINQ）。

我建议研究用于此的常用设计的[存储库模式。](http://msdn.microsoft.com/en-us/library/ff649690.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:44:26.210

您可以构建这样的方法并将其放入您的 Datalayer 或.. 并从您的业务中调用它。

```
 public bool CallSp(string command, params object[] parameters)
        {
            int i;
            string com = command + " ";
            for (i = 0; i < parameters.Count() - 1; i++)
            {
                com += string.Format("{{0}} ,", i);
            }
            com += string.Format("{{0}}", i);

            //ctx is the datacontext
            //EF5
            ctx.Database.ExecuteSqlCommand(com, parameters);
            return true;
        }

        CallSp("exec SP", p1, p2, p3,...); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:36:36.527

以下是您通常会做的事情： 1\. 将 Application Form 中的值分配给 ApplicationLib 对象的所需属性 2\. 创建 LINQ 实体 3\. 调用 ExecuteMethod

显然，事情可能不像前面提到的那么简单，但它会让你开始。更多信息[在这里](http://www.codeproject.com/Articles/37938/Simple-6-steps-to-use-stored-procedure-in-LINQ)

# sql - 在表中显示输出

> ID：14190302
> 
> 赞同：0
> 
> 时间：2013-01-07T05:18:29.570
> 
> 标签：sql, sql-server, sql-server-2008

我对 SQL 很陌生，我需要这样的输出。我有一张桌子

```
Name    Price 
----------------
A        10    
B        20   
C        30 
```

和输出应该是

```
Name    Price    running  
--------------------------
A       10          10    
B       20          30  
C       30          60 
```

请告诉我此输出的查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:24:40.520

你需要这个：

```
select t1.Name, t1.Price,
    SUM(t2.Price) as running
    from your_table t1 inner join your_table t2
on t1.Name >= t2.Name
group by t1.Name, t1.Price
order by t1.Name 
```

## [演示 SQLFiddle](http://www.sqlfiddle.com/#!3/a3a14/2)

# jquery - 创建两个 mfupload 实例

> ID：14190305
> 
> 赞同：0
> 
> 时间：2013-01-07T05:19:03.393
> 
> 标签：jquery

我有个问题。我使用了一个名为 mfupload 的插件，它是一个 jquery 拖放文件上传插件。

[http://www.jscripts.info/mfupload.php](http://www.jscripts.info/mfupload.php)

要创建一个实例，我需要这样写：

```
$('#upload').mfupload(); 
```

现在，当我需要创建两个实例时，问题就开始了。

```
$('#upload').mfupload();
$('#upload2').mfupload(); 
```

该插件仅使用最后一个实例作为其工作 js 代码。我需要一种方法来使这两个实例工作。

任何帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T07:17:46.863

它非常简单。更改您的代码

`$('#upload').mfupload(); $('#upload2').mfupload();`

进入

```
$('#upload, #upload2').mfupload(); 
```

谢谢

# batch-file - 系统找不到指定的路径

> ID：14190307
> 
> 赞同：3
> 
> 时间：2013-01-07T05:19:14.147
> 
> 标签：batch-file

当我执行批处理文件并将输出写入文本文件时，我在命令提示符中收到错误消息“系统找不到指定的路径”。我必须找到我的批处理脚本中的哪一行引发了这个错误或找不到的路径。

注意：由于我的脚本中有这么多行，我无法遍历每一行并检查路径。

当出现此错误时，我必须获取导致此错误的路径或行。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T08:50:47.357

调试此类错误的最快方法是

*   `@echo off`如果您的脚本顶部有它，请删除
*   删除任何`>nul`命令的任何 's 或类似内容
*   `pause`在脚本的最后添加一个

现在运行脚本并查看每个命令的输出，直到找到错误为止，然后您可以看到它是针对哪个命令执行的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:24:41.310

查看批处理中需要路径的第一个位置，即像“copy”或“del”这样的调用，在它之后创建一个新行并放入**exit**。进一步向下重复批处理文件，直到出现问题。

# javascript - 如何在 javascript 单元测试期间加载二进制文件？

> ID：14190312
> 
> 赞同：4
> 
> 时间：2013-01-07T05:19:51.710
> 
> 标签：javascript, jasmine, arraybuffer, karma-runner

在我的应用程序中，用户使用 HTML5 拖放来处理二进制文件。这部分代码工作正常。在 chrome 中，我拖动一个二进制文件并使用 FileReader 创建一个 arrayBuffer。这一切似乎都很好。我正在为此功能编写测试，但我很茫然。如何将二进制文件加载到我的单元测试中？对于我正在测试的那段代码，我只需要一个 arrayBuffer。目前，我正在手动创建 arrayBuffer，但这不是一个可持续的解决方案。为了使我的测试有效，我需要能够随时输入一个新的二进制文件并进行新的测试。我的测试环境是testacular+jasmine。

```
( function() {"use strict";
    function loadSimpleDataView() {
      //instead of defining ArrayBuffer, 
      //I want it to be generated based upon an external file
      var buffer = new ArrayBuffer(4), dataView = new DataView(buffer), int8View = new Int8Array(buffer);
      int8View.set([0x00,0x01,0x02,0x03]);

      return dataView;
    }

    describe('mymodule', function() {

      it('mytest', function() {
        var dataView  = loadSimpleDataView();

        expect(dataView).toBeDefined();
        //do rest of tests
      });
    });
  }()); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-26T15:10:27.807

我通过将二进制文件编码为十六进制字符串、将其填充到 blob 中并调用获取 File 对象的函数来解决了这个问题。我正在使用 Jasmine 测试文件加载功能。FileLoader 是我编写的具有函数 loadFromFile 的类。

> ```
>  beforeEach(function() {
>     return this.fileLoader = new FileLoader()  });
> 
>   it("can load this bin file safely", function() {
>     var blob, fileContentsEncodedInHex;
> 
>     fileContentsEncodedInHex = ["\x45\x6e\x63\x6f\x64\x65\x49\x6e\x48\x65\x78\x42\x65\x63\x61\x75\x73\x65\x42\x69\x6e\x61\x72\x79\x46\x69\x6c\x65\x73\x43\x6f\x6e\x74\x61\x69\x6e\x55\x6e\x70\x72\x69\x6e\x74\x61\x62\x6c\x65\x43\x68\x61\x72\x61\x63\x74\x65\x72\x73"];
> 
>     blob = new Blob(fileContentsEncodedInHex);
> 
>     this.fileLoader.loadFromFile(blob);
>   }); 
> ```

File loader 类中的函数看起来像这样（在 coffeescript 中）。您绝对应该在您的商业代码中添加错误处理...

> ```
>  #
>   # Load the file
>   #
>   # @param [File] file
>   #   The DOM file object
>   #
>   loadFromFile: (file) ->
>     # create the file reader
>     # assign the file load handler
>     # read the array as a buffer, which will trigger the handler
>     reader = new FileReader()
>     reader.onloadend = this._handleOnLoadEnd
>     reader.readAsArrayBuffer(file)
>     return 
> ```

我编写了以下小型 python 应用程序以将文件内容输出为十六进制编码的字符串，该字符串可用作 javascript 字符串的内容。（仅供参考，这是我大约 12 年来的第一个 python 脚本，我确信它效率不高，但它很快）非常感谢输出字符串的同事。我不确定为什么代码块在显示器中被屠杀。我很抱歉。

> ```
> import sys
> fulldoc = ""
> with open('your file', 'rb') as readFile:  
>     while 1:  character = readFile.read(1)
>         if not character:
>           break
>         fulldoc = fulldoc + "\\x" + character.encode("hex")
> print fulldoc 
> ```

其他花絮...我不知道您的确切情况，但我建议以下...

如果您需要随时添加新的二进制文件并重新运行测试，那么您应该对随机添加的每种二进制文件进行测试。测试正面和负面文件（即，应该与您的应用程序一起使用的文件，不应该与您的应用程序一起使用的文件）。这就是单元测试框架的用途。将来，如果您发现某个文件由于代码中的错误而破坏了您的应用程序，您可以修复该错误，添加一个新的单元测试来加载该二进制文件，然后测试应该会通过。如果您碰巧在某个时候意外破坏了文件处理代码，单元测试总是在那里向您显示问题所在。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T03:29:02.227

我使用 grunt 来构建我的项目并运行我的单元测试。下面是我`grunt.js`的`testacular.conf.js`, 和测试 ( `javaclassstreamreader.spec.js`)。简而言之，grunt 启动，`grunt-server`它被配置为提供二进制数据文件。Testacular 被配置为代理`grunt-server`. 在测试中，`XMLHttpRequest`用于检索二进制文件。一切正常，但似乎有点复杂。有没有更简单的方法？

grunt.js：

```
/*global module:false*/
module.exports = function(grunt) {"use strict";

  // Project configuration.
  grunt.initConfig({
    pkg : '<json:package.json>',
    meta : {
      banner : '/*! <%= pkg.title || pkg.name %> - v<%= pkg.version %> - ' + '<%= grunt.template.today("yyyy-mm-dd") %>\n' + '<%= pkg.homepage ? "* " + pkg.homepage + "\n" : "" %>' + '* Copyright (c) <%= grunt.template.today("yyyy") %> <%= pkg.author.name %>;' + ' Licensed <%= _.pluck(pkg.licenses, "type").join(", ") %> */'
    },
    lint : {
      files : ['grunt.js', 'src/*.js', 'src/public/js/**/*.js', 'src/specs/**/*.js']
    },
    watch : {
      files : '<config:lint.files>',
      tasks : 'default'
    },
    exec : {
      ensure_generated_directory : {
        command : 'mkdir -p generated/js/'
      }
    },
    clean : {
      all : ['generated']
    },
    jshint : {
      files : '<config:lint.files>',
      options : {
        curly : true,
        eqeqeq : true,
        forin : true,
        immed : true,
        latedef : true,
        newcap : true,
        noarg : true,
        sub : true,
        undef : true,
        unused : true,
        strict : true,
        boss : true,
        eqnull : true,
        es5 : true,
        browser : true,
        jquery : true,
        devel : true
      },
      globals : {
        //jasmine
        describe : false,
        it : false,
        expect : false,
        //commonjs
        require : false,
        exports : true,
        //angular
        angular : false
      }
    },
    'closure-compiler' : {
      frontend : {
        closurePath : 'closure-compiler',
        js : ['src/*.js', 'src/public/js/**/*.js'],
        jsOutputFile : 'generated/js/complete-app.js',
        options : {
          externs : 'externs.js',
          compilation_level : 'SIMPLE_OPTIMIZATIONS',
          language_in : 'ECMASCRIPT5_STRICT',
          logging_level : 'ALL',
          debug : null,
          warning_level : 'verbose',
          summary_detail_level : 3,
          formatting : ['PRETTY_PRINT', 'PRINT_INPUT_DELIMITER'],
          common_js_entry_module : 'src/public/js/app.js',
          process_common_js_modules : null,
          process_jquery_primitives : null,
          common_js_module_path_prefix : 'src'
        }
      }
    },
    testacularServer : {
      integration : {
        options : {
          keepalive : true
        },
        configFile : 'testacular.conf.js',
        autoWatch : false,
        singleRun : true
      }
    },
    server : {
      port : 18081,
      base : './src/specs/data'
    }
  });

  // Default task.
  grunt.registerTask('default', 'lint exec:ensure_generated_directory closure-compiler server testacularServer:integration');
  grunt.loadNpmTasks('grunt-contrib-watch');
  grunt.loadNpmTasks('grunt-closure-compiler');
  grunt.loadNpmTasks('grunt-exec');
  grunt.loadNpmTasks('grunt-contrib-clean');
  grunt.loadNpmTasks('grunt-testacular');
}; 
```

testacular.conf.js：

```
// Testacular configuration
// Generated on Tue Jan 01 2013 03:17:01 GMT-0500 (EST)
/*global basePath:true */
/*global files:true */
/*global JASMINE:false */
/*global JASMINE_ADAPTER:false */
/*global exclude:true */
/*global reporters:true */
/*global port:true */
/*global runnerPort:true */
/*global colors:true */
/*global logLevel:true */
/*global LOG_INFO:false */
/*global autoWatch:true */
/*global browsers:true */
/*global captureTimeout:true */
/*global singleRun:true */

// base path, that will be used to resolve files and exclude
basePath = '.';

// list of files / patterns to load in the browser
files = [
  JASMINE,
  JASMINE_ADAPTER,
  'src/public/lib/jquery/1.7.2/jquery-1.7.2.min.js',
  'src/public/lib/jquery-ui/1.8.20.custom/jquery-ui-1.8.20.custom.min.js',
  'src/public/lib/angular/1.0.1/angular-1.0.1.min.js',
  'src/public/lib/filer.min.js',
  'generated/js/complete-app.js',
  'src/specs/**/*.spec.js'
];

// list of files to exclude
exclude = [
];

// test results reporter to use
// possible values: 'dots', 'progress', 'junit'
reporters = ['progress'];

// web server port
port = 18080;

// cli runner port
runnerPort = 9100;

//proxy
proxies = {
    '/test-data/': 'http://localhost:18081/'
};

// enable / disable colors in the output (reporters and logs)
colors = true;

// level of logging
// possible values: LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG
logLevel = LOG_INFO;

// enable / disable watching file and executing tests whenever any file changes
autoWatch = true;

// Start these browsers, currently available:
// - Chrome
// - ChromeCanary
// - Firefox
// - Opera
// - Safari (only Mac)
// - PhantomJS
// - IE (only Windows)
browsers = ['Chrome'];

// If browser does not capture in given timeout [ms], kill it
captureTimeout = 5000;

// Continuous Integration mode
// if true, it capture browsers, run tests and exit
singleRun = false; 
```

javaclassstreamreader.spec.js：

```
/*global module$javaclassstreamreader:false */
/*global waitsFor:false */
/*global runs:false */
/*global dump:false */

( function() {"use strict";

    var JavaClassStreamReader = module$javaclassstreamreader.JavaClassStreamReader;

    function loadSimpleDataView(callback) {
      var dataView;
      var xhr = new XMLHttpRequest();
      xhr.open('GET', '/test-data/MyInterface.class', true); 
      xhr.responseType = 'arraybuffer';
      xhr.onload = function() {
          dataView = new DataView(this.response);
          callback(dataView);
      };
      xhr.onerror = dump;
      xhr.send();
    }

    describe('javaclassstreamreader', function() {

      it('reader can be constructed', function() {
        var hasData = false,reader;

        loadSimpleDataView(function(dataView) {
          reader = new JavaClassStreamReader(dataView);
          hasData = true;
        });

        waitsFor(function() {
          return hasData;
        }, "Never retrieved file", 3000);
        runs(function() {

          expect(reader.offset).toBe(0);

          var firstBytes = reader.getU4();
          dump(firstBytes.toString(16));
          expect(firstBytes).toBe(0xcafebabe);
          expect(reader.maxOffset).toBe(126);
        });
      });

    });

  }()); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-09-02T18:55:08.463

我认为您可以在不同的端口上运行额外的 grunt 服务器来提供二进制文件。在最新版本的 karma 中，您可以定义一些关于 karma 服务器如何包含和提供文件的详细信息。因此，您将在文件中包含您的测试数据，并告诉 Karma 服务，但不要观看或包含这些文件

```
files = [
  JASMINE,
  JASMINE_ADAPTER,
  'src/public/lib/jquery/1.7.2/jquery-1.7.2.min.js',
  'src/public/lib/jquery-ui/1.8.20.custom/jquery-ui-1.8.20.custom.min.js',
  'src/public/lib/angular/1.0.1/angular-1.0.1.min.js',
  'src/public/lib/filer.min.js',
  /* NEW LINE NEEDED BELOW! */
  {pattern: 'src/specs/data/**', watched: false, included: false, served: true},
  'generated/js/complete-app.js',
  'src/specs/**/*.spec.js'
]; 
```

然后在您的测试中，您需要将文件的正确位置放入 xhr.open 方法中。如果你将一个空字符串传入 xhr.open('GET','')，然后转储 responseText，你会得到一个输出，其中包含的所有脚本/文件都被传递给 Karma，然后你会查找以“/base/”开头，有时以“/absolute/”开头的路径。不确定 100% Karma 在做什么，但我尝试使用 '/base/' 作为 xhr.open 路径的前缀，它似乎工作:)

```
 var url = '/base/src/specs/data/MyInterface.class';
 xhr.open('GET', url, true); 
```

我还在从事一个项目，该项目涉及在客户端读取二进制数据文件，并与 Karma 一起进行测试，因此很高兴阅读您的问题以获得灵感。我最终发现 Karma 中的新功能在简化方法方面非常有用！

# java - Eclipse 安装在 C 盘吗？

> ID：14190313
> 
> 赞同：1
> 
> 时间：2013-01-07T05:20:07.703
> 
> 标签：java, windows, eclipse, ide, installation

我有一个可能有点愚蠢的问题。我正在从 Netbeans 更改为 Eclipse，我注意到 Eclipse 没有安装在我的 C: 驱动器上，也没有出现在开始菜单上，也没有出现在删除程序窗口中。当我运行安装时，它会打开，我必须从该文件中使用它。

我用错了吗？或者它应该是这样的？如果没有，我该如何正确安装eclipse？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T05:21:57.480

> 我用错了吗？或者它应该是这样的？如果没有，我该如何正确安装eclipse？谢谢。

不应安装 Eclipse。在 Windows 上下载 zip 文件，解压缩并运行 eclipse.exe 就可以了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T05:24:30.123

只需在您方便的任何地方解压缩 Eclipse 下载。然后在“eclipse/”根文件夹下浏览并执行“eclipse.exe”（在 Windows 上）。

您也可以“右键单击，发送到，桌面”Eclipse.exe 以使其更易于启动。

就如此容易 ：）

PS：

请务必先安装 Java JDK：

*   [http://java.com](http://java.com)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T05:25:39.063

您可能希望将存档解压缩到`C:\`驱动器的根目录，从而创建文件夹，或者如果您已经`C:\eclipse`将提取的 eclipse 文件夹移动到驱动器的根目录，则可以将其移动到驱动器的根目录。`C:\`由于 Eclipse 没有任何安装程序，因此 Eclipse 文件夹内会有一个名为`eclipse.exe`. 您可以双击该文件来运行 Eclipse。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:23:32.930

这意味着你还没有安装 eclipse。您正在使用的是`already installed`一个。- 在 Windows 中，您不需要安装它。下载一个 zip 文件并使用它。

# iphone - 如何在长 NSString 中找到动态数字？

> ID：14190318
> 
> 赞同：1
> 
> 时间：2013-01-07T05:21:11.863
> 
> 标签：iphone, ios, ipad

我有一个非常大的`NSString`，其中包含大约 1500 个字符。在这个字符串中，我需要提取一个电话号码，它可能会经常变化，因为它是一个动态数据。电话号码的格式为`251-221-2000`，我该如何提取？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T05:29:18.653

查看上一个关于正则表达式和`NSString`.

[使用正则表达式搜索 NSString](https://stackoverflow.com/questions/4353834/search-through-nsstring-using-regular-expressio)

在您的情况下，适当的正则表达式将是`@"\\d{3}-\\d{3}-\\d{4}"`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:27:53.200

这听起来像是正则表达式的完美候选者。您可以使用`NSRegularExpression`该类来实现这一点。[您可以在http://www.regextester.com](http://www.regextester.com)测试您的正则表达式

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:31:16.687

```
NSString *yourString = @"Your 1500 characters string ";
NSError *error = NULL;
NSRegularExpression *regex = [NSRegularExpression         
regularExpressionWithPattern:@"\d{3}-\d{3}-\d{4}"
options:NSRegularExpressionCaseInsensitive
error:&error];
[regex enumerateMatchesInString:yourString options:0 range:NSMakeRange(0, [yourString length]) usingBlock:^(NSTextCheckingResult *match, NSMatchingFlags flags, BOOL *stop){
// your code to handle matches here
}]; 
```

让我知道它是否有效。

# mongodb - mongodb 索引和缩放

> ID：14190319
> 
> 赞同：0
> 
> 时间：2013-01-07T05:21:31.880
> 
> 标签：mongodb, sharding, distributed-database

阅读 MongoDB 索引文档后，我对以下断言感到有些困惑和不安： http: [//docs.mongodb.org/manual/applications/indexes/#ensure-indexes-fit-ram](http://docs.mongodb.org/manual/applications/indexes/#ensure-indexes-fit-ram)

> 如果您拥有并使用多个集合，则必须考虑所有集合上所有索引的大小。索引和工作集必须能够同时放入 RAM。

那么，当分片中添加新节点时，这应该如何扩展？假设我所有的 576 个节点都以 8Gb 为界，并且我有 12 个 4Gb 的集合（包括它们相关的索引）和 3 个 16Gb 的集合（包括索引）。分片传播如何在节点之间进行，以便高效查询 12 个集合？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:03:51.493

分片时，您将数据分布在不同的分片中。mongos 进程将查询路由到它需要从中获取数据的分片。因此，您只需要查看分片所持有的数据。引用[何时使用分片](http://docs.mongodb.org/manual/core/sharding/#when-to-use-sharding)：

> 如果出现以下情况，您应该考虑部署分片集群：
> 
> *   您的数据集接近或超过系统中单个节点的存储容量。
> *   您系统的活动工作集的大小将很快超过您系统的最大 RAM 容量。

还要注意工作集！=整个集合。工作集定义为：

> MongoDB 定期使用的数据集合。该数据通常（或最好）保存在 RAM 中。

例如，您有 1TB 的数据，但通常只使用/查询 50GB。该子集最好保存在 RAM 中。

# object - 为什么JVM的GC喜欢不可变对象？

> ID：14190328
> 
> 赞同：9
> 
> 时间：2013-01-07T05:22:20.407
> 
> 标签：object, garbage-collection, jvm, immutability

我知道 JVM GC 喜欢短期对象的原因，因为它可以在次要 GC 中收集。但是为什么 JVM GC 喜欢不可变对象呢？

[编辑：查理亨特在他的演讲](http://www.infoq.com/presentations/Extreme-Performance-Java)中说 GC 喜欢不可变对象。

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-15T00:20:16.210

如果 GC 可以知道一个对象不包含对任何 gen0 对象的任何引用，那么在执行 gen0 收集时可以忽略它。同样，如果一个对象不包含对任何 gen0 或 gen1 对象的任何引用，则在执行 gen1 收集时可能会忽略它。在收集过程中可以忽略的对象越多，收集的速度就越快。

如果一个对象在 gen0 GC 中幸存下来，则可以确定它持有引用的任何 gen0 对象都将被提升为 gen1；同样，如果一个不包含任何 gen0 引用的对象在 gen1 GC 中幸存下来，则它包含的任何 gen1 引用都将被提升为 gen2。*因此，一旦在 gen0 收集期间检查了一个对象，除非它被修改*，否则在下一次 gen1 收集之前不需要再次检查它。同样，在 gen1 收集期间检查的对象在下一次 gen2 收集之前不需要检查，*除非它被修改*。

知道对象是否被修改是一个棘手的问题，但关键是如果对象没有被修改，这对 GC 非常有利。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T07:43:57.963

感谢您的链接..觉得很好:)

**来自介绍**：GC 喜欢小的不可变对象和短暂的对象。

**编辑：**

较小的对象具有较短的内存占用，这意味着在收集后不会有太多的内存压缩开销（内存压缩对于大对象来说很慢，因为它们在被 GC 回收后会留下更大的内存空洞）。短期对象也很好，因为它们在次要 GC 周期中被收集。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-11T14:12:21.437

我从 Brian Goetz 的[文章](http://www.ibm.com/developerworks/java/library/j-jtp01274/index.html)中找到了答案。

> 在大多数情况下，当持有者对象被更新以引用不同的对象时，新的所指对象是一个年轻的对象。如果我们通过调用 setValue() 来更新一个 MutableHolder，我们就创造了一个旧对象引用一个新对象的情况。另一方面，通过创建一个新的 ImmutableHolder 对象，一个较年轻的对象正在引用一个较旧的对象。后一种情况，大多数对象指向较旧的对象，对分代垃圾收集器来说要温和得多。如果旧代中的 MutableHolder 发生了变异，则必须在下一次次要集合中扫描卡上包含 MutableHolder 的所有对象以查找从旧到新的引用。对长期存在的容器对象使用可变引用增加了在收集时跟踪从旧到新的引用所做的工作。

# android - 创建路线小部件

> ID：14190330
> 
> 赞同：-1
> 
> 时间：2013-01-07T05:22:25.813
> 
> 标签：android, android-layout, android-widget

我需要为 android 应用程序创建新的小部件。它必须看起来像：

![小部件示例](../Images/7910d6cb6ba8f2cdb19cfedaa2a30ed5.png)

有谁知道该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T12:24:05.877

我想先向您展示一些讨论。通过[这个](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/a-aukCotc_g)。在那里你可以找到一些关于为什么你没有那个 GUI 选项的讨论。[这](http://code.google.com/p/tree-view-list-android/)是您尝试执行的操作的示例。

# jquery - 点击 *EDIT* 渲染部分（自定义到集合中的特定项目）如何传递参数？

> ID：14190348
> 
> 赞同：0
> 
> 时间：2013-01-07T05:24:44.217
> 
> 标签：jquery, ruby-on-rails, ruby-on-rails-3

RoR 假人在这里，所以请放轻松。我正在遍历实用程序对象的集合，并且对于每个对象，我都希望有一个“编辑”链接，当单击该链接时，会呈现一个包含该账单的特定编辑信息的部分。

我想渲染一个部分并将 u.id 参数传递给该部分，以便我可以显示特定于实用程序的信息。请记住，我不擅长 Rails，我该如何做到这一点？我正在处理的视图是 users#show 中的部分 render_uts。谢谢！

**编辑**：我几乎让它工作。部分在点击时呈现。但我不知道如何将 u.id 或任何参数传递给部分。

显示.html.erb

```
<% @utilities.each do |u| %>
     <%= link_to u.name, '/users/show', :remote => true %>
<% end  %> 
```

_utilEdit.html.erb

```
<%= Utility name should go here? %> 
```

在我的用户控制器中的 show 方法结束时：

```
respond_to do |format|
   format.js
end 
```

在 show.js.erb 中：

```
$("#editUtil").prepend('<%= escape_javascript(render 'utilEdit') %>'); 
```

（$("#editUtil") 是我的占位符。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T20:24:35.067

首先，在您的 show.html.erb 中，您应该传递一个实用程序 id 来显示操作：

```
<% @utilities.each do |u| %>
 <%= link_to u.name, utility_path(u), :remote => true %>
 <!-- or if you have some strange routes -->
 <%= link_to u.name, "/utilities/#{u.id}", :remote => true %>
<% end %> 
```

然后你应该在你的表演动作中找到实用程序

```
def show
  @utility = Utility.find(params[:id])
end 
```

在你的 partial(_utilEdit.html.erb) 你应该这样写：

```
<%= utility.name %> 
```

在 show.js.erb 你应该通过@utility：

```
$("#editUtil").prepend('<%= escape_javascript(render :partial => 'utilEdit', :locals => {:utility => @utility}) %>'); 
```

阅读有关局部变量和变量的更多信息：[局部变量中的局部变量](http://guides.rubyonrails.org/layouts_and_rendering.html#passing-local-variables)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:30:51.613

我实际上不明白你想要什么假设你想编辑实用程序，因为它是你可以使用的成员路由`edit_utility_path(u)` 或者你想在同一个 UI 中渲染部分，你可以像本地人一样传递`<%= render :partial=>"...",:locals=>{"utility_id"=>u.id} %>`，或者你可以将对象作为选项传递参考[rails docs](http://guides.rubyonrails.org/layouts_and_rendering.html)

# opencart - 如何在 opencart 中添加“按价格筛选产品”

> ID：14190349
> 
> 赞同：1
> 
> 时间：2013-01-07T05:24:50.450
> 
> 标签：opencart

我正在尝试在 opencart 中按价格添加产品过滤器，那么该怎么做呢？

还在产品页面中添加此功能

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-01T12:40:50.023

按照以下步骤，您可以轻松为打开的购物车前端页面添加价格过滤器

过滤器I类别→过滤器-->插入-->添加过滤器。给--> 1000,2000 甚至更多。现在保存过滤器。

Filter II Extension-->Modules-->点击Filter。启用 Column Left Status 进行维护。

Filter III Catalog -->Products-->点击Edit Go to Links-->Type Filter Amount If Product Price 2500 ，然后保持过滤值价格（2000 – 3000）范围。问候梅加拉

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-07T06:21:54.920

实际上，没有必要添加价格过滤器。当客户访问您商店中的任何类别时，可以为产品列表自动生成价格范围过滤器。

我为我的商店使用高级产品过滤器模块（包括价格范围过滤器）> [http://www.myluvme.com/index.php?route=product/category&path=88_95](http://www.myluvme.com/index.php?route=product/category&path=88_95)。

它确实帮助我的客户专注于他们正在寻找的东西，这将创造更多的销售。

该模组使用默认主题开箱即用，只需进行一些小的调整即可使用开发人员立即为我完成的自定义主题。我喜欢它建立在 oc 的框架上。

它也应该有助于促进您的在线销售。我建议你尝试一下。您可以在以下位置找到它：

[http://www.ocaddons.com/product/opencart-module-advanced-products-filters-module-include-price-range](http://www.ocaddons.com/product/opencart-module-advanced-products-filters-module-include-price-range)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-03T12:35:10.003

与许多其他购物车不同的是，OpenCart 中没有内置过滤器，不幸的是，它可以被视为正常可用的电子商务商店过滤器。OpenCart 过滤器是一个超级笨拙的功能，用户不太清楚如何管理它。在我们公司，我们使用了一个名为 Brainy Filter 的扩展[http://www.opencart.com/index.php?route=extension/extension/info&extension_id=19184](http://www.opencart.com/index.php?route=extension/extension/info&extension_id=19184)他们有两个 OpenCart 版本，但当然你应该使用 2.x而不是旧的 1.5.x 版本。我们尝试过的所有其他过滤器似乎要么只是垃圾，要么界面非常混乱。

# android - 特殊计算器的Android逻辑

> ID：14190352
> 
> 赞同：1
> 
> 时间：2013-01-07T05:25:05.023
> 
> 标签：android, logic

我试图制作一个计算器，它可以从用户那里输入面板数量。然后它将根据不同面板尺寸的组合显示一些选项 - 3、5、7、11、13。组合值可以是总面板尺寸的 1 或 2 的 +-。输出将以以下格式显示：2 x 9 面板、1 x 7 面板或 2 X 13 面板或 3 X 9 面板。

下面是计算代码：

```
int available_ar[]= {13, 11, 7, 5, 3};
int result_ar[]= {0, 0, 0, 0, 0};
int[][] panel_options_ar= new int[10][5];

// ********Calculation Part********
for (int k=0 ; k< result_ar.length ; k++)
{
    result_ar[k]= panel-2+k;
}

for (i=0; i< result_ar.length; i++){
    x= result_ar[i];
    for (j=0; j< available_ar.length; j++){
        while (x>=available_ar[j]){
            x= x- available_ar[j];
            panel_options_ar[i][j]= panel_options_ar[i][j]+ 1;
        }
    }
}

// ********Display part********
for (i=0; i< result_ar.length; i++){
    for (j=0; j< available_ar.length; j++){
        if (panel_options_ar[i][j]> 0){
           text1 = text1+" "+panel_options_ar[i][j]+" x "+available_ar[j]+" Panel,";
        }
        else {
           break;
        }
    }
    text= text+"\n"+text1; 
}
Toast.makeText(getApplicationContext(), text, Toast.LENGTH_LONG).show(); 
```

输出显示：

```
10 X 13 panel,
10 X 13 panel, 10 X 13 panel, 
10 X 13 panel, 10 X 13 panel, 10 X 13 panel,
10 X 13 panel, 10 X 13 panel, 10 X 13 panel, 10 X 13 panel,
10 X 13 panel, 10 X 13 panel, 10 X 13 panel, 10 X 13 panel, 10 X 13 panel, 
```

这不是我的预期输出。我想我在逻辑上犯了一些错误。但我找不到问题所在。

# magento - 停止添加到购物车并向 Magento 中的用户提供消息

> ID：14190358
> 
> 赞同：2
> 
> 时间：2013-01-07T05:25:39.933
> 
> 标签：magento

我已经在 Magento 中成功设置了一个绑定到自定义添加到购物车事件的观察者。现在，在某种情况下，我需要停止添加到购物车事件（或者甚至删除它？），并向用户发送一条消息。

目前，该产品设置为允许每个订单的最大数量为 1。如果用户尝试添加超过 1 个，Magento 会显示错误消息并阻止将项目添加到购物车。

截图：[链接] [http://cl.ly/image/3V2C2j1S0f37](http://cl.ly/image/3V2C2j1S0f37)

理想情况下，我想从我的观察者那里模仿相同的功能，但我完全不知道如何解决这个问题，因为我是 Magento 的新手。

我读过我需要抛出一个异常。但是当我这样做时，它只是把我带到了一个错误页面。想知道我是否需要以某种方式添加此修改版本：

```
Mage::helper('cataloginventory')->__('The maximum quantity allowed for purchase is %s.', '<span class="sku-failed-qty" id="sku-stock-failed-' . $item->getId() . '">' . ($item->getQtyMaxAllowed()  * 1) . '</span>'); 
```

任何帮助或指针将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T21:51:04.887

您可以尝试以下方法。这将检查数量是否大于 1。如果是这种情况，我们会将数量更新为 1。我们还添加了一条通知消息，以便通知用户数量变化。

```
<checkout_cart_product_add_after>
<observers>
    <company_module_name>
        <type>singleton</type>
        <class>Company_Module_Model_Observer</class>
        <method>checkItem</method>
    </company_module_name>
</observers> 
```

```
public function checkItem($obj) {       
    //check if qty is more then 1
    if($obj->getProduct()->getQty() > 1) {
    //set notice to inform the visitor that there is a maximum
    Mage::getSingleton('core/session')->addNotice('The maximum quantity allowed for purchase is 1.');

    //get the event 
    $event = $obj->getEvent();

    //get the product we have added
    $product = $event->getProduct();

    //get the quote item
    $quoteItem = $event->getQuoteItem();

    //change the qty to 1 allowed
    $quoteItem->setQty(1);

    //recalc totals
    $quoteItem->getQuote()->collectTotals();

    //save the item
    $quoteItem->getQuote()->save();
} 
```

===== 编辑 ======

另一种选择是：

```
<controller_action_predispatch_checkout_cart_add>
    <observers>
        <aquait_aquait_name>
            <type>singleton</type>
            <class>Aquait_Aquait_Model_Observer</class>
            <method>checkfunction</method>
        </aquait_aquait_name>
    </observers>
</controller_action_predispatch_checkout_cart_add>

public function checkfunction($observer) 
{
    if ($observer->getEvent()->getControllerAction()->getFullActionName() == 'checkout_cart_add') {
        $productId = Mage::app()->getRequest()->getParam('product');
        $product = Mage::getModel('catalog/product')->load($productId);
        if (Mage::app()->getRequest()->getParam('qty') > 1) {
            Mage::getSingleton('core/session')->addNotice('The maximum quantity allowed for purchase is 1.');
            Mage::app()->getResponse()->setRedirect($product->getProductUrl());
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T20:14:13.370

特征：

*   之后清除错误信息
*   跳过所有“添加到购物车”代码
*   之后重定向到您选择的页面

在尝试了所有可以想象的事情以尝试优雅地中止“添加到购物车”之后，我设法将各个部分组合起来，并通过单步调试源发现了标志 FLAG_NO_DISPATCH。其他更改参数或设置重定向的尝试将被“添加到购物车”过程中的某些代码覆盖。

```
 Mage::app()->getResponse()->setRedirect($store_product->getProductUrl());
    Mage::getSingleton('checkout/session')->addError(Mage::helper('checkout')->__('Sorry, the price of this product has been updated. Please, add to cart after reviewing the updated price.'));
    $observer->getControllerAction()->setFlag('', Mage_Core_Controller_Varien_Action::FLAG_NO_DISPATCH, true); 
```

您可以收到通知，而不是错误：

```
Mage::getSingleton('core/session')->addNotice('Sorry, this product is currently not available...'); 
```

# php - 如何在 dot net 应用程序中知道我的 php 会话信息？

> ID：14190359
> 
> 赞同：0
> 
> 时间：2013-01-07T05:25:44.260
> 
> 标签：php, asp.net, outlook-addin

我在 php-zend 中使用 SQL server 2008r2 开发了一个网站，我们可以在其中创建请求。我正在使用 C# 在 asp.net 中为 Outlook 构建一个加载项，以直接从电子邮件创建请求。

但是在从 Outlook 创建请求时，我想知道那个人是否已经登录到网站。如果没有，那么他需要先登录网站，然后只有他可以从 Outlook 创建请求。

所以基本上我想同步我的网站和 Outlook 加载项应用程序。我也搜索了活动目录，但不知道如何实现。

谁能帮我？

非常感谢提前，

毛萨米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:08:37.593

它并不是真的为此而设计的。您需要在本地计算机上为您的网站设置的 cookie 中查找 phpsessid 值。

这基本上是不可能的，因为，

*   每个浏览器和操作系统都以不同的方式存储 cookie，检查所有主要的浏览器 cookie 存储会很麻烦而且很慢
*   如果在添加运行时浏览器处于打开状态，则 cookie 可能会对它们进行排他锁定
*   隐私浏览不会将 cookie 值保存到磁盘

在您的插件中使用身份验证。

# iphone - 在选择 UITableViewCell 时导航到新的 DetailViewController

> ID：14190370
> 
> 赞同：2
> 
> 时间：2013-01-07T05:26:48.627
> 
> 标签：iphone, objective-c, ios

问题：在选择一个特定的 时，应该打开`uitableviewcell`一个新的。`DetailViewController`我已经编写了代码，`didSelectRowAtIndexPath`但是当我单击单元格时，它向我显示运行时错误。

我试过打电话，`[self.navigationController presentModalViewController:jacket animated:YES ];`但是当我这样做时，我的视图控制器没有打开。

我尝试的另一种方法是通过 `[self.navigationController performSegueWithIdentifier:@"JacketDetails" sender:self ];`.

我在检查器中有“JacketDetails”的segued 中的指定标识符，但在这里我得到一个运行yime 错误。我已经从`UITABLEVIEWCELL`to上钩了 Segue `VIEWCONTROLLER`。

当我单击该行时`JacketDetailViewController`应该打开。我已经创建了类`JacketDetailViewController`，并且`New ViewController`我已经在检查器中为此设置了类。

我不知道为什么它没有显示 segue ，我已经在检查器中给出了标识符并正确地连接`tableviewcell`到新的视图控制器。

在`JacketDetailViewController`我想显示夹克列表。目前它是空白的`ViewController`。

我的代码如下。你能提出一个解决方案吗？我是这个领域的自学初学者。我可能犯了一些小错误。我已经用谷歌搜索了我的问题并试图解决它，但我已经在这里停留了几天。

```
TshirtDetailViewController.m

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Navigation logic may go here. Create and push another view controller.

    [tableView deselectRowAtIndexPath:indexPath animated:YES ];

    JacketDetailController *jacket =[[JacketDetailController alloc]init];

    NSInteger index =indexPath.row;

    NSLog(@"Row:%d",index);

    NSString *titleString = [[NSString alloc] initWithFormat:[jackets objectAtIndex:indexPath.row]];

    NSLog(@"%@",titleString);
    jacket.title=titleString;

    // ...
    // Pass the selected object to the new view controller.

    [self.navigationController performSegueWithIdentifier:@"JacketDetails" sender:self ];

  //  [self.navigationController presentModalViewController:jacket animated:YES ];

}

@end 
```

控制台中的错误：

```
2013-01-07 10:52:21.020 KidsShopee[617:f803] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Receiver (<UINavigationController: 0x6a5fac0>) has no segue with identifier 'JacketDetails''

*** First throw call stack:

(0x13bf052 0x1550d0a 0xdd24b 0x3e8e 0xa671d 0xa6952 0x92e86d 0x1393966 0x1393407 0x12f67c0 0x12f5db4 0x12f5ccb 0x12a8879 0x12a893e 0x16a9b 0x1b08 0x1a65 0x1)
terminate called throwing an exception(gdb) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:30:32.710

尝试使用这些行打开视图：

```
 YoutubeViewController *objYoutubeViewController = [[YoutubeViewController alloc]initWithNibName:@"YoutubeViewController" bundle:[NSBundle mainBundle]];
    [self.navigationController pushViewController:objYoutubeViewController animated:YES];
    [objYoutubeViewController release]; 
```

代替 YoutubeViewController 给出您的视图控制器类名称并更改这些行

根据你和检查。如果你使用情节提要，请尝试如下：

```
UIStoryboard *mainStoryboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
 bookmarkViewController *myVC = (bookmarkViewController *)[mainStoryboard instantiateViewControllerWithIdentifier:@"bookmarkViewController"]
[self presentModalViewController:myVC animated:YES]; 
```

代替 bookmarkViewController 给出您的控制器名称并检查。在拖放视图中

controller in main storyboard give right class name like below images: ![enter image description here](../Images/c5a65c940d9a6e8f70b59d986b82d305.png)

in place of my bookmarkViewController name give your view controller name that you want to open.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:16:38.090

Don't call `performSegueWithIdentifier:sender:` on the navigation controller! Only your custom viewController can have segues. Call it on self.

Replace

```
[self.navigationController performSegueWithIdentifier:@"JacketDetails" sender:self ]; 
```

with

```
[self performSegueWithIdentifier:@"JacketDetails" sender:[tableView cellForRowAtIndexPath:indexPath]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:31:50.347

Can try with this-

```
JacketDetailController *jacket =[[JacketDetailController alloc]initWithNibName:@"JacketDetailController" bundle:nil];];///Change string as your nib name. 
```

Then if its navigation base application-

```
[self.navigationController pushViewController:jacket animated:YES]; 
```

Then is its viewController base application-

```
[self presentModalViewController:jacket animated:YES]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:42:01.030

Based on the error you are getting "has no segue with identifier 'JacketDetails'", something is not right with your call to the segue. I have found that I have problems with seque names working properly unless I copy and paste from the name I gave the seque in the storyboard into my .m file. Even if the spelling and case is correct, I have found many times, copying and pasting has fixed the problem.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-07T05:42:15.057

If you hooked up a segue in the storyboard from the table view cell to another controller, then you don't need any of this code at all to make the segue fire. You should be implementing prepareForSegue to pass the information you need to the detail controller, but no other code is necessary.

# asp.net - gridview 页脚中的下拉列表

> ID：14190372
> 
> 赞同：0
> 
> 时间：2013-01-07T05:27:03.270
> 
> 标签：asp.net, gridview

我有 asp 网格视图，我创建了 4 列（Id、Name、数量、价格）和一个页脚。我已经限制了数据库中的所有 4 列。在页脚模板中，我添加了一个下拉列表项。一切正常，但问题是在所有 4 列之后添加了页脚模板下拉列表，但我想将下拉页脚添加到第二列（名称）。

请为我的英语道歉 n 帮助我

我使用了以下代码：

```
<asp:GridView ID="gv_page2" runat="server" AutoGenerateColumns="False" 
            BackColor="White" BorderColor="#999999" BorderStyle="Solid" BorderWidth="1px" 
            CellPadding="3" ForeColor="Black" GridLines="Vertical" ShowFooter="True"> 
          <AlternatingRowStyle BackColor="#CCCCCC" />
          <FooterStyle BackColor="Black" />
          <HeaderStyle BackColor="Black" Font-Bold="True" ForeColor="White" />
          <PagerStyle BackColor="#999999" ForeColor="Black" HorizontalAlign="Center" />
          <SelectedRowStyle BackColor="#000099" Font-Bold="True" ForeColor="White" />
          <SortedAscendingCellStyle BackColor="#F1F1F1" />
          <SortedAscendingHeaderStyle BackColor="#808080" />
          <SortedDescendingCellStyle BackColor="#CAC9C9" />
          <SortedDescendingHeaderStyle BackColor="#383838" />
          <Columns>
          <asp:BoundField  DataField="PRO_ID" HeaderText="PRO_ID" />
          <asp:BoundField DataField="NAME" HeaderText="NAME" ItemStyle-Width="100px"/>
          <asp:TemplateField HeaderText="Quantity">
          <ItemTemplate> <asp:TextBox runat="server" Width="100px"></asp:TextBox></ItemTemplate>
          </asp:TemplateField>
          <asp:BoundField HeaderText="PRICE" ItemStyle-Width="80px"/>
          <asp:BoundField  HeaderText="TOTAL_PRICE"/>
          <asp:TemplateField>
          <FooterTempenter code herelate >
          <asp:DropDownList  ID="ftrDDL" runat="server" DataTextField="PRO_ID" AppendDataBoundItems="true" DataSourceID="" Width="130px" EnableViewState="true" >
          <asp:ListItem Text="SELECT ONE" Value=""></asp:ListItem>
          </asp:DropDownList>
          </FooterTemplate>
          </asp:TemplateField>
          </Columns>

    </asp:GridView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:41:57.897

使用为名称提交的模板

```
<asp:GridView ID="gv_page2" runat="server" AutoGenerateColumns="False" BackColor="White"
            BorderColor="#999999" BorderStyle="Solid" BorderWidth="1px" CellPadding="3" ForeColor="Black"
            GridLines="Vertical" ShowFooter="True">
            <AlternatingRowStyle BackColor="#CCCCCC" />
            <FooterStyle BackColor="Black" />
            <HeaderStyle BackColor="Black" Font-Bold="True" ForeColor="White" />
            <PagerStyle BackColor="#999999" ForeColor="Black" HorizontalAlign="Center" />
            <SelectedRowStyle BackColor="#000099" Font-Bold="True" ForeColor="White" />
            <SortedAscendingCellStyle BackColor="#F1F1F1" />
            <SortedAscendingHeaderStyle BackColor="#808080" />
            <SortedDescendingCellStyle BackColor="#CAC9C9" />
            <SortedDescendingHeaderStyle BackColor="#383838" />
            <Columns>
                <asp:BoundField DataField="PRO_ID" HeaderText="PRO_ID" />
                <asp:TemplateField HeaderText="Name">
                    <ItemTemplate>

                    </ItemTemplate>
                    <FooterTemplate>
                        <asp:DropDownList ID="ftrDDL" runat="server" DataTextField="PRO_ID" AppendDataBoundItems="true"
                            DataSourceID="" Width="130px" EnableViewState="true">
                        </asp:DropDownList>
                    </FooterTemplate>
                </asp:TemplateField>
                <asp:TemplateField HeaderText="Quantity">
                    <ItemTemplate>
                        <asp:TextBox ID="TextBox1" runat="server" Width="100px"></asp:TextBox></ItemTemplate>
                </asp:TemplateField>
                <asp:BoundField HeaderText="PRICE" ItemStyle-Width="80px">
                    <ItemStyle Width="80px"></ItemStyle>
                </asp:BoundField>
                <asp:BoundField HeaderText="TOTAL_PRICE" />
            </Columns>
        </asp:GridView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:35:51.270

是否需要在页脚中添加下拉列表？

我建议将下拉列表添加到名称列。页脚将始终最后加载。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:36:38.607

您需要修改第二列的模板

```
 <asp:TemplateField HeaderText="Name">
            <ItemTemplate>
                <asp:Label ID="lblName" Text='<%#     Databinder.Eval(Container.DataItem,"Name") %>'
                    runat="server" Width="100px"></asp:Label></ItemTemplate>
                <FooterTemplate>
                <asp:DropDownList ID="ftrDDL" runat="server" DataTextField="PRO_ID" AppendDataBoundItems="true"
                    DataSourceID="" Width="130px" EnableViewState="true">
                    <asp:ListItem Text="SELECT ONE" Value=""></asp:ListItem>
            </FooterTemplate>
        </asp:TemplateField> 
```

我没有测试过代码，但这应该可以工作。如果它不起作用，请告诉我

# android - android线程退出蓝牙数据读取功能中未捕获的异常

> ID：14190378
> 
> 赞同：0
> 
> 时间：2013-01-07T05:27:52.403
> 
> 标签：android, multithreading, bluetooth

我正在使用下面的代码从外部硬件读取数据。设备，但应用程序崩溃异常。***线程以未捕获的异常退出***

这是我通过外部设备读取数据的代码：

```
 private class ConnectedThread extends Thread {
            private final BluetoothSocket mmSocket;
            private InputStream mmInStream;
            private OutputStream mmOutStream;
            private InputStream mByteQueue;
            private byte[] mReceiveBuffer;
            public ConnectedThread(BluetoothSocket socket) {
                Log.d(TAG, "create ConnectedThread");
                mmSocket = socket;
                InputStream tmpIn = null;
                OutputStream tmpOut = null;
                // Get the BluetoothSocket input and output streams
                try {
                    tmpIn = socket.getInputStream();
                    tmpOut = socket.getOutputStream();
                } catch (IOException e) {
                    Log.e(TAG, "temp sockets not created", e);
                }
                mmInStream = tmpIn;
                mmOutStream = tmpOut;
            }
            public void run() {
                Log.i(TAG, "BEGIN mConnectedThread");
                // Keep listening to the InputStream while connected
                while (true) {
                    try {
                        // Read from the InputStream
                        bytes = mmInStream.read(buffer);

                        sb.append(bytesToHex(buffer));
                    }

catch (IOException e) {
                    Log.e(TAG, "disconnected", e);
                    testModeOnScreen.sendMailTest("ricky.khatri@techvalens.com","Received bytes"+e.toString(),"IOEXCEPTION");//mahmoud.elsabrouty@eid-solutions.com
                    connectionLost();
                    //break;
                }
                 }
             }
 } 
```

这段代码是调用线程：

```
mConnectedThread = new ConnectedThread(socket);
        mConnectedThread.start();
try {
            mConnectedThread.join();

testModeOnScreen.sendMailTest("ricky.khatri@techvalens.com","Raw Data:===>"+sb.toString(),"RECEIVED DATA IN HEX STRING"+buffer.length);
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

这是logcat：

```
D/BluetoothReadService(21039): connect to: 00:06:66:45:DE:6E
D/BluetoothReadService(21039): setState() 0 -> 2
I/BluetoothReadService(21039): BEGIN mConnectThread
E/BluetoothService.cpp(  234): stopDiscoveryNative: D-Bus error in StopDiscovery: org.bluez.Error.Failed (Invalid discovery session)
D/dalvikvm(20213): GC_CONCURRENT freed 414K, 54% free 3130K/6791K, external 841K/1036K, paused 1ms+2ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Device:PropertyChanged from /org/bluez/370/hci0/dev_00_06_66_45_DE_6E
D/BluetoothService(  234): updateDeviceServiceChannelCache(00:06:66:45:DE:6E)
D/BluetoothService(  234):  uuid(application): 00001101-0000-1000-8000-00805f9b34fb 1
D/BluetoothService(  234): Making callback for 00001101-0000-1000-8000-00805f9b34fb with result 1
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:PropertyChanged from /org/bluez/370/hci0
D/BluetoothService(  234): new handle 10008
D/BluetoothReadService(21039): connected
D/BluetoothReadService(21039): create ConnectedThread
I/BluetoothReadService(21039): BEGIN mConnectedThread
D/dalvikvm(21052): GC_CONCURRENT freed 58K, 48% free 2798K/5379K, external 1487K/1741K, paused 3ms+2ms
D/dalvikvm(21052): GC_CONCURRENT freed 3K, 48% free 2809K/5379K, external 3814K/4496K, paused 1ms+2ms
D/dalvikvm(21052): GC_CONCURRENT freed 1K, 48% free 2817K/5379K, external 5255K/5782K, paused 4ms+8ms
D/dalvikvm(21052): GC_CONCURRENT freed 1K, 48% free 2826K/5379K, external 6708K/7223K, paused 1ms+6ms
D/dalvikvm(21052): GC_CONCURRENT freed 12K, 48% free 2847K/5379K, external 7287K/9064K, paused 2ms+1ms
I/Ads     (21052): To get test ads on this device, call adRequest.addTestDevice("A8B81027D5AFA70ABB40D69832B8A12C");
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/ActivityManager(  234): Displayed com.abworkouts/.AbWorkoutsActivity: +1s272ms
I/Ads     (21052): adRequestUrlHtml: <html><head><script src="http://www.gstatic.com/afma/sdk-core-v40.js"></script><script>AFMA_buildAdURL({"preqs":0,"u_sd":1,"slotname":"a14e2a1804aace4","u_w":320,"msid":"com.abworkouts","js":"afma-sdk-a-v4.1.0","isu":"A8B81027D5AFA70ABB40D69832B8A12C","format":"320x50_mb","net":"wi","app_name":"2.android.com.abworkouts","hl":"en","u_h":480,"u_audio":3,"u_so":"p"});</script></head><body></body></html>
I/Ads     (21052): Received ad url: <"url": "http://googleads.g.doubleclick.net:80/mads/gma?preqs=0&u_sd=1&u_w=320&msid=com.abworkouts&js=afma-sdk-a-v4.1.0&isu=A8B81027D5AFA70ABB40D69832B8A12C&format=320x50_mb&net=wi&app_name=2.android.com.abworkouts&hl=en&u_h=480&u_audio=3&u_so=p&output=html&region=mobile_app&u_tz=-120&client_sdk=1&ex=1&slotname=a14e2a1804aace4&caps=sdkAdmobApiForAds_di&jsv=41", "afmaNotifyDt": "null">
D/lights  (  234): set_light_buttons: brightness=255
W/KeyCharacterMap(21052): Can't open keycharmap file
W/KeyCharacterMap(21052): Error loading keycharmap file '/system/usr/keychars/cyttsp_key.kcm.bin'. hw.keyboards.65539.devname='cyttsp_key'
W/KeyCharacterMap(21052): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  234): GC_CONCURRENT freed 1435K, 35% free 8104K/12423K, external 1865K/2102K, paused 6ms+29ms
W/webcore (21052): Can't get the viewWidth after the first layout
I/Ads     (21052): onReceiveAd()
D/dalvikvm(20213): GC_CONCURRENT freed 407K, 55% free 3113K/6791K, external 848K/1036K, paused 2ms+2ms
D/dalvikvm(20671): GC_EXPLICIT freed 156K, 49% free 2781K/5379K, external 743K/1036K, paused 90ms
D/lights  (  234): set_light_buttons: brightness=0
D/kernel  (  126): [113741.460449] bq27520 0-0055: bq27520_handle_soc_worker() capacity=90 (90) flags=0x128 ctrl_status=0x28b soh_state=0x3, valid=1
D/lights  (  234): set_light_battery: color=0xff00ff00, mode=0
W/dalvikvm(21039): threadid=10: thread exiting with uncaught exception (group=0x2aac8578)
E/JavaBinder(  234): !!! FAILED BINDER TRANSACTION !!!
E/kernel  (  126): [113743.098999] binder: 20149: binder_alloc_buf, no vma
D/kernel  (  126): [113743.098999] binder: 234:8767 transaction failed 29201, size 228-4
E/JavaBinder(  234): !!! FAILED BINDER TRANSACTION !!!
E/kernel  (  126): [113743.099426] binder: 20149: binder_alloc_buf, no vma
D/kernel  (  126): [113743.099426] binder: 234:8767 transaction failed 29201, size 88-4
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  117): GC_EXPLICIT freed 11K, 49% free 2762K/5379K, external 743K/1036K, paused 167ms
D/dalvikvm(20796): GC_EXPLICIT freed 283K, 50% free 3033K/5959K, external 743K/1036K, paused 134ms
D/dalvikvm(  117): GC_EXPLICIT freed <1K, 49% free 2762K/5379K, external 743K/1036K, paused 53ms
D/dalvikvm(  117): GC_EXPLICIT freed <1K, 49% free 2762K/5379K, external 743K/1036K, paused 37ms
D/dalvikvm(21091): Trying to load lib /data/data/com.sonyericsson.android.bootinfo/lib/libMiscTaAccessor.so 0x2afc6210
D/dalvikvm(21091): Added shared lib /data/data/com.sonyericsson.android.bootinfo/lib/libMiscTaAccessor.so 0x2afc6210
I/Process (21039): Sending signal. PID: 21039 SIG: 9
E/kernel  (  126): [113748.968505] binder: release proc 21039, transaction 1176367, not freed
W/GpsLocationProvider(  234): Unneeded remove listener for uid 1000
D/kernel  (  126): [113749.117797] binder: 330:330 transaction failed 29189, size 88-0
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(20213): GC_CONCURRENT freed 415K, 54% free 3133K/6791K, external 841K/1036K, paused 2ms+2ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Device:PropertyChanged from /org/bluez/370/hci0/dev_00_06_66_45_DE_6E
D/dalvikvm(20611): GC_CONCURRENT freed 360K, 47% free 3173K/5959K, external 747K/1036K, paused 2ms+11ms
D/dalvikvm(21101): GC_CONCURRENT freed 320K, 49% free 2964K/5703K, external 1358K/1870K, paused 2ms+2ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  330): GC_CONCURRENT freed 730K, 53% free 3323K/6983K, external 1876K/2388K, paused 1ms+6ms
I/ActivityManager(  234): Displayed com.empowereddefence/.SplashScreen: +344ms
D/dalvikvm(21101): GC_CONCURRENT freed 10K, 48% free 2977K/5703K, external 2048K/2470K, paused 6ms+2ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/ActivityManager(  234): Displayed com.empowereddefence/.HomeScreen: +431ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(20213): GC_CONCURRENT freed 410K, 55% free 3108K/6791K, external 848K/1036K, paused 1ms+2ms
I/ActivityManager(  234): Displayed com.empowereddefence/.ApplicationTabActivity: +378ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(21101): GC_CONCURRENT freed 159K, 45% free 3178K/5767K, external 2491K/3111K, paused 2ms+14ms
I/iddd-events(  124): Event com.sonyericsson.idd.probe.android.network::CellLocationChanged was discarded since it was not active.
W/GpsLocationProvider(  234): Duplicate add listener for uid 10152
D/PhoneWindow(21101): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@2b025280 has no id.
D/EF-BTBee(21101): >>Starting Discovery
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:PropertyChanged from /org/bluez/370/hci0
I/ActivityManager(  234): Displayed com.empowereddefence/.bluetooth.SearchDeviceActivity: +251ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(94:39:E5:E1:99:52)
D/EF-BTBee(21101): >>showDevices
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(00:06:66:45:DE:6E)
D/EF-BTBee(21101): >>showDevices
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(68:EB:AE:7B:78:AB)
D/EF-BTBee(21101): >>showDevices
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(50:2D:1D:57:40:AD)
D/EF-BTBee(21101): >>showDevices
D/dalvikvm(20213): GC_CONCURRENT freed 410K, 54% free 3130K/6791K, external 841K/1036K, paused 1ms+3ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:PropertyChanged from /org/bluez/370/hci0
D/EF-BTBee(21101): >>unregisterReceiver
D/EF-BTBee(21101): >>Finished
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(20213): GC_EXPLICIT freed 232K, 55% free 3083K/6791K, external 813K/1036K, paused 106ms
D/EF-BTBee(21101): >>Click device
D/BluetoothReadService(21101): connect to: 00:06:66:45:DE:6E
D/BluetoothReadService(21101): setState() 0 -> 2
I/BluetoothReadService(21101): BEGIN mConnectThread
E/BluetoothService.cpp(  234): stopDiscoveryNative: D-Bus error in StopDiscovery: org.bluez.Error.Failed (Invalid discovery session)
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Device:PropertyChanged from /org/bluez/370/hci0/dev_00_06_66_45_DE_6E
D/BluetoothService(  234): updateDeviceServiceChannelCache(00:06:66:45:DE:6E)
D/BluetoothService(  234):  uuid(application): 00001101-0000-1000-8000-00805f9b34fb 1
D/BluetoothService(  234): Making callback for 00001101-0000-1000-8000-00805f9b34fb with result 1
D/dalvikvm(21052): GC_CONCURRENT freed 545K, 49% free 3087K/6023K, external 9288K/11336K, paused 3ms+9ms
D/webviewglue(21052): nativeDestroy view: 0x2a74a0
D/webviewglue(21052): nativeDestroy view: 0x2b06a0
D/BluetoothReadService(21101): connected
D/BluetoothReadService(21101): create ConnectedThread
I/BluetoothReadService(21101): BEGIN mConnectedThread
D/dalvikvm(21052): GC_CONCURRENT freed 40K, 50% free 3071K/6023K, external 11798K/13846K, paused 1ms+5ms
W/kernel  (  126): [113785.020996] select 19978 (wsandroid.suite), adj 10, size 3510, to kill
W/kernel  (  126): [113785.021026] select 20846 (ackageinstaller), adj 10, size 4643, to kill
W/kernel  (  126): [113785.021057] send sigkill to 20846 (ackageinstaller), adj 10, size 4643
I/Ads     (21052): To get test ads on this device, call adRequest.addTestDevice("A8B81027D5AFA70ABB40D69832B8A12C");
I/Ads     (21052): adRequestUrlHtml: <html><head><script src="http://www.gstatic.com/afma/sdk-core-v40.js"></script><script>AFMA_buildAdURL({"preqs":1,"u_sd":1,"slotname":"a14e2a1804aace4","u_w":320,"msid":"com.abworkouts","js":"afma-sdk-a-v4.1.0","isu":"A8B81027D5AFA70ABB40D69832B8A12C","format":"320x50_mb","net":"wi","app_name":"2.android.com.abworkouts","hl":"en","u_h":480,"u_audio":3,"u_so":"p"});</script></head><body></body></html>
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/ActivityManager(  234): Displayed com.abworkouts/.AbWorkoutsActivity: +1s9ms
I/Ads     (21052): Received ad url: <"url": "http://googleads.g.doubleclick.net:80/mads/gma?preqs=1&u_sd=1&u_w=320&msid=com.abworkouts&js=afma-sdk-a-v4.1.0&isu=A8B81027D5AFA70ABB40D69832B8A12C&format=320x50_mb&net=wi&app_name=2.android.com.abworkouts&hl=en&u_h=480&u_audio=3&u_so=p&output=html&region=mobile_app&u_tz=-120&client_sdk=1&ex=1&slotname=a14e2a1804aace4&askip=1&caps=sdkAdmobApiForAds_di&jsv=41", "afmaNotifyDt": "null">
D/lights  (  234): set_light_buttons: brightness=255
W/KeyCharacterMap(21052): Can't open keycharmap file
W/KeyCharacterMap(21052): Error loading keycharmap file '/system/usr/keychars/cyttsp_key.kcm.bin'. hw.keyboards.65539.devname='cyttsp_key'
W/KeyCharacterMap(21052): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  330): GC_CONCURRENT freed 739K, 53% free 3321K/6983K, external 1876K/2388K, paused 1ms+6ms
D/dalvikvm(20213): GC_CONCURRENT freed 343K, 54% free 3128K/6791K, external 820K/1036K, paused 4ms+2ms
W/webcore (21052): Can't get the viewWidth after the first layout
I/Ads     (21052): onReceiveAd()
W/dalvikvm(21101): threadid=10: thread exiting with uncaught exception (group=0x2aac8578)
I/Process (  234): Sending signal. PID: 21101 SIG: 9
W/GpsLocationProvider(  234): Unneeded remove listener for uid 1000
E/kernel  (  126): [113791.191711] binder: release proc 21101, transaction 1177884, not freed
E/kernel  (  126): [113791.191711] binder: release proc 21101, transaction 1177885, not freed
D/lights  (  234): set_light_buttons: brightness=0
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Device:PropertyChanged from /org/bluez/370/hci0/dev_00_06_66_45_DE_6E
D/dalvikvm(20213): GC_CONCURRENT freed 407K, 55% free 3117K/6791K, external 869K/1036K, paused 1ms+2ms
I/InputDispatcher(  234): Dropped event because of pending overdue app switch.
I/InputDispatcher(  234): Dropped event because of pending overdue app switch.
I/InputDispatcher(  234): Dropped event because of pending overdue app switch.
D/lights  (  234): set_light_buttons: brightness=255
D/kernel  (  126): [113804.855285] binder: 330:330 transaction failed 29189, size 88-0
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
W/KeyCharacterMap(  407): Can't open keycharmap file
W/KeyCharacterMap(  407): Error loading keycharmap file '/system/usr/keychars/cyttsp_key.kcm.bin'. hw.keyboards.65539.devname='cyttsp_key'
W/KeyCharacterMap(  407): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
D/dalvikvm(20213): GC_CONCURRENT freed 370K, 54% free 3154K/6791K, external 847K/1036K, paused 1ms+2ms
D/dalvikvm(21118): GC_CONCURRENT freed 54K, 48% free 2800K/5379K, external 1343K/1855K, paused 2ms+4ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/ActivityManager(  234): Displayed com.empowereddefence/.SplashScreen: +372ms
D/dalvikvm(21118): GC_CONCURRENT freed 8K, 48% free 2817K/5379K, external 2033K/2455K, paused 5ms+2ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/ActivityManager(  234): Displayed com.empowereddefence/.HomeScreen: +411ms
D/lights  (  234): set_light_buttons: brightness=0
D/dalvikvm(20213): GC_CONCURRENT freed 452K, 55% free 3119K/6791K, external 869K/1036K, paused 2ms+2ms
D/dalvikvm(19978): GC_EXPLICIT freed 21K, 48% free 2914K/5511K, external 743K/1036K, paused 97ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(21118): GC_CONCURRENT freed 363K, 48% free 3117K/5895K, external 2254K/2455K, paused 2ms+2ms
I/ActivityManager(  234): Displayed com.empowereddefence/.ApplicationTabActivity: +371ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  234): GC_CONCURRENT freed 1059K, 36% free 8037K/12423K, external 2123K/2652K, paused 4ms+16ms
I/iddd-events(  124): Event com.sonyericsson.idd.probe.android.network::CellLocationChanged was discarded since it was not active.
W/GpsLocationProvider(  234): Duplicate add listener for uid 10152
D/PhoneWindow(21118): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@2afd9510 has no id.
D/EF-BTBee(21118): >>Starting Discovery
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:PropertyChanged from /org/bluez/370/hci0
W/kernel  (  126): [113825.539550] select 19978 (wsandroid.suite), adj 10, size 3550, to kill
W/kernel  (  126): [113825.539550] select 20868 (id.defcontainer), adj 10, size 3706, to kill
W/kernel  (  126): [113825.539581] send sigkill to 20868 (id.defcontainer), adj 10, size 3706
W/kernel  (  126): [113825.639282] select 19978 (wsandroid.suite), adj 10, size 3550, to kill
W/kernel  (  126): [113825.639312] send sigkill to 19978 (wsandroid.suite), adj 10, size 3550
I/ActivityManager(  234): Displayed com.empowereddefence/.bluetooth.SearchDeviceActivity: +266ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(68:EB:AE:7B:78:AB)
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(94:39:E5:E1:99:52)
D/EF-BTBee(21118): >>showDevices
D/EF-BTBee(21118): >>showDevices
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(00:06:66:45:DE:6E)
D/EF-BTBee(21118): >>showDevices
D/dalvikvm(20213): GC_CONCURRENT freed 401K, 55% free 3122K/6791K, external 847K/1036K, paused 2ms+2ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:DeviceFound from /org/bluez/370/hci0
D/BluetoothService(  234): updateDeviceServiceChannelCache(50:2D:1D:57:40:AD)
D/EF-BTBee(21118): >>showDevices
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Adapter:PropertyChanged from /org/bluez/370/hci0
D/EF-BTBee(21118): >>unregisterReceiver
D/EF-BTBee(21118): >>Finished
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  330): GC_CONCURRENT freed 732K, 53% free 3324K/6983K, external 1876K/2388K, paused 1ms+2ms
D/dalvikvm(18376): GC_CONCURRENT freed 2081K, 37% free 8755K/13895K, external 1108K/1620K, paused 14ms+7ms
D/dalvikvm(20213): GC_CONCURRENT freed 420K, 55% free 3119K/6791K, external 869K/1036K, paused 2ms+2ms
D/EF-BTBee(21118): >>Click device
D/BluetoothReadService(21118): connect to: 00:06:66:45:DE:6E
D/BluetoothReadService(21118): setState() 0 -> 2
I/BluetoothReadService(21118): BEGIN mConnectThread
E/BluetoothService.cpp(  234): stopDiscoveryNative: D-Bus error in StopDiscovery: org.bluez.Error.Failed (Invalid discovery session)
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Device:PropertyChanged from /org/bluez/370/hci0/dev_00_06_66_45_DE_6E
D/BluetoothService(  234): updateDeviceServiceChannelCache(00:06:66:45:DE:6E)
D/BluetoothService(  234):  uuid(application): 00001101-0000-1000-8000-00805f9b34fb 1
D/BluetoothService(  234): Making callback for 00001101-0000-1000-8000-00805f9b34fb with result 1
D/dalvikvm(20611): GC_CONCURRENT freed 333K, 46% free 3339K/6087K, external 747K/1036K, paused 8ms+42ms
I/Ads     (21052): To get test ads on this device, call adRequest.addTestDevice("A8B81027D5AFA70ABB40D69832B8A12C");
I/Ads     (21052): adRequestUrlHtml: <html><head><script src="http://www.gstatic.com/afma/sdk-core-v40.js"></script><script>AFMA_buildAdURL({"preqs":2,"u_sd":1,"slotname":"a14e2a1804aace4","u_w":320,"msid":"com.abworkouts","js":"afma-sdk-a-v4.1.0","isu":"A8B81027D5AFA70ABB40D69832B8A12C","format":"320x50_mb","net":"wi","app_name":"2.android.com.abworkouts","hl":"en","u_h":480,"u_audio":3,"u_so":"p"});</script></head><body></body></html>
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/ActivityManager(  234): Displayed com.abworkouts/.AbWorkoutsActivity: +338ms
D/BluetoothReadService(21118): connected
D/BluetoothReadService(21118): create ConnectedThread
I/BluetoothReadService(21118): BEGIN mConnectedThread
I/Ads     (21052): Received ad url: <"url": "http://googleads.g.doubleclick.net:80/mads/gma?preqs=2&u_sd=1&u_w=320&msid=com.abworkouts&js=afma-sdk-a-v4.1.0&isu=A8B81027D5AFA70ABB40D69832B8A12C&format=320x50_mb&net=wi&app_name=2.android.com.abworkouts&hl=en&u_h=480&u_audio=3&u_so=p&output=html&region=mobile_app&u_tz=-120&client_sdk=1&ex=1&slotname=a14e2a1804aace4&askip=2&caps=sdkAdmobApiForAds_di&jsv=41", "afmaNotifyDt": "null">
D/lights  (  234): set_light_buttons: brightness=255
W/webcore (21052): Can't get the viewWidth after the first layout
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
I/Ads     (21052): onReceiveAd()
D/dalvikvm(18376): GC_EXPLICIT freed 749K, 38% free 8619K/13895K, external 1108K/1620K, paused 185ms
W/dalvikvm(21118): threadid=11: thread exiting with uncaught exception (group=0x2aac8578)
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
W/kernel  (  126): [113851.539062] select 20796 (son.eventstream), adj 9, size 4715, to kill
W/kernel  (  126): [113851.539093] send sigkill to 20796 (son.eventstream), adj 9, size 4715
D/dalvikvm(20213): GC_CONCURRENT freed 372K, 54% free 3154K/6791K, external 847K/1036K, paused 1ms+3ms
D/lights  (  234): set_light_buttons: brightness=0
I/Process (21118): Sending signal. PID: 21118 SIG: 9
E/JavaBinder(  234): !!! FAILED BINDER TRANSACTION !!!
W/GpsLocationProvider(  234): Unneeded remove listener for uid 1000
E/kernel  (  126): [113854.632080] binder: 21118: binder_alloc_buf, no vma
D/kernel  (  126): [113854.632141] binder: 234:273 transaction failed 29201, size 60-0
D/kernel  (  126): [113854.634613] binder: 234:9603 transaction failed 29189, size 56-0
E/InputDispatcher(  234): channel '2b565930 com.empowereddefence/com.empowereddefence.ApplicationTabActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x8
E/InputDispatcher(  234): channel '2b565930 com.empowereddefence/com.empowereddefence.ApplicationTabActivity (server)' ~ Channel is unrecoverably broken and will be disposed!
D/kernel  (  126): [113854.831542] binder: 330:330 transaction failed 29189, size 88-0
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  407): GC_CONCURRENT freed 1952K, 53% free 4159K/8711K, external 5958K/6629K, paused 2ms+23ms
E/BluetoothEventLoop.cpp(  234): event_filter: Received signal org.bluez.Device:PropertyChanged from /org/bluez/370/hci0/dev_00_06_66_45_DE_6E
V/alogcat (21025): created
D/alogcat (21025): canceling periodic saves
V/alogcat (21025): started
V/alogcat (21025): resumed
D/alogcat (21025): starting ...
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(21025): GC_CONCURRENT freed 383K, 49% free 3006K/5831K, external 1166K/1678K, paused 2ms+12ms
I/ActivityManager(  234): Displayed org.jtb.alogcat/.LogActivity: +348ms
D/CustomizationProvider(20671): openFile -- START uri=content://com.sonyericsson.provider.customization/settings/com.sonyericsson.textinput.uxp
D/dalvikvm(  330): GC_CONCURRENT freed 743K, 53% free 3316K/6983K, external 1876K/2388K, paused 2ms+11ms
D/lights  (  234): set_light_buttons: brightness=255
W/KeyCharacterMap(21025): Can't open keycharmap file
W/KeyCharacterMap(21025): Error loading keycharmap file '/system/usr/keychars/cyttsp_key.kcm.bin'. hw.keyboards.65539.devname='cyttsp_key'
W/KeyCharacterMap(21025): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
D/dalvikvm(20213): GC_CONCURRENT freed 448K, 55% free 3119K/6791K, external 869K/1036K, paused 1ms+3ms 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T10:34:01.070

我遇到了同样的问题，GC_CONCURRENT 它是一个垃圾收集器，我认为这是因为您尝试在短时间内向设备发送大量大尺寸数据而设备认为是洪水，我把“Thread.sleep(5 ）“对我来说，每进行 5 次交易后它就会起作用。

# java - jsf中SelectItem中的工具提示

> ID：14190381
> 
> 赞同：3
> 
> 时间：2013-01-07T05:27:58.257
> 
> 标签：java, html, jsf

我`t:selectItem`在一个`s:selectOneMenu`. 我的 itemLabel 太长，无法在`selectOneMenu`窗口内看到。有谁知道，如何获得每个 selectItem 的工具提示？欣赏这个方向的任何想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T08:10:34.473

你可以用`javascript`这个。由于您没有提供任何代码示例，我使用以下示例。您可能会抓住这个概念并将其应用于您的要求。

```
<h:form id="myForm">
    <h:selectOneMenu id="myCombo">
        <f:selectItem itemLabel="Label1"/>
        <f:selectItem itemLabel="Label2"/>
        <f:selectItem itemLabel="Label3"/>
    </h:selectOneMenu>
</h:form> 
```

您的`javascript`代码应如下所示。

```
<script>
    window.onload = function(){
         var options = document.getElementById("myForm:myCombo").options;
         for(var i = 0; i &lt; options.length; i++) {
             options[i].title = options[i].innerHTML;
         }
    }
</script> 
```

# php - Htaccess 仅访问子域

> ID：14190389
> 
> 赞同：0
> 
> 时间：2013-01-07T05:29:20.447
> 
> 标签：php, .htaccess, dns, cross-domain, subdomain

我只想让人们查看我的子域而不是原始域。而且我只希望我查看原始域（我的意思是我的 IP）。

```
hello.example.com -> view by anyone
example.com -> only view by me 
```

有没有可以用于 htaccess 的脚本？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:39:49.997

在您的主域上创建一个 htaccess 文件并在其中写入以下内容：

```
Order deny, allow
Deny from all
Allow from 123.45.67.89 
```

在上面的代码中使用您的 IP。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:43:13.603

您可以永久重定向到 hello.example.com。这将确保每个人都在 hello.example.com 下访问您的网站。这将更适合您的用户。

```
 RewriteEngine On

 RewriteCond %{HTTP_HOST} ^example.com [nc]
 RewriteRule ^hello/(.*)$ http://hello.example.com/$1 [r=301,nc] 
```

如果你真的想显示 403 Forbidden，你可以这样做

```
 RewriteEngine On

 RewriteCond %{HTTP_HOST} ^example.com [nc]
 RewriteRule ^hello/(.*)$ / [r=403,nc] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:59:43.523

我想出了答案。我在位于**example.com的 htaccess 中添加了此代码**

```
order deny,allow
deny from all
allow from MYIP 
```

并将此代码发送到**hello.example.com**

```
order deny,allow
allow from all 
```

我不确定这是否是正确的方法，但它可以帮助我阻止人们查看 example.com（主域）但仍然让他们查看子域（hello.example.com）

# php - 这个数组排序有什么问题

> ID：14190394
> 
> 赞同：-2
> 
> 时间：2013-01-07T05:29:31.427
> 
> 标签：php, html, arrays, sorting

这是我的代码：

```
 <?php
    $a=array(10,8,6,5);
    $b=count($a);
    for($i=0;$i<($b-1);$i++)
    {
        for($j=1;$j<($b);$j++)
        {
            if($a[$j]<$a[$i])
            {
            $temp = $a[$j];
            $a[$j]=$a[$i];
            $a[$i]=$temp;
            }

        }

    } 
```

我只想知道上面的代码有什么问题？因为如果我采用 3 个数组值，它可以正常工作，但 4 个它不起作用....有人可以对相同的代码进行修改，还请简要解释为什么它在循环中没有任何问题？我不是在寻找不同的代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:39:47.007

您错误地修改了冒泡排序算法。使用标准一。

```
<?php
    $a=array(10,8,6,5);
    $b=count($a);
    for($i=0;$i<($b);$i++) //Changes over here
    {

        for($j=0;$j<($b);$j++) //Changes over here
        {
            if($a[$j]>$a[$i]) //Changes over here
            {
            $temp = $a[$j];
            $a[$j]=$a[$i];
            $a[$i]=$temp;
            }

        }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:31:49.413

为什么你有手动排序[`sort`](http://php.net/sort)？

```
$a = array(10,8,6,5);
sort($a);
var_dump($a); 
```

同样，你为什么要使用临时变量[`list`](http://php.net/list)？

```
list($a[$i],$a[$j]) = array($a[$j],$a[$i]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:43:43.213

试试下面的代码可能会有所帮助。

```
<?php

function pr($array = array())
{
    echo "<pre>";
        print_r($array);
    echo "</pre>";
}
    $a = array(10,8,6,5);
    $b = count($a);
    for($i=0;$i <= ($b-1);$i++)
    {
        for($j=0; $j < ($b);$j++)
        {
            if($a[$j] < $a[$i])
            {
                $temp = $a[$j];
                $a[$j]=$a[$i];
                $a[$i]=$temp;
            }
        }
    }
    pr($temp);

    pr($a);
?>
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:48:34.100

```
<?php
$a=array(8,6,5);
$b=count($a);
for($i=0;$i<($b);$i++)
{

    for($j=0;$j<($b);$j++)
    {
        if($a[$j]<$a[$i])
        {
        $temp = $a[$j];
        $a[$j]=$a[$i];
        $a[$i]=$temp;
        }

    }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-07T05:55:22.143

内部循环不需要执行 n 次（其中 n=要排序的元素数）。每次执行外部循环时，末尾的另一个元素（用于升序）位于正确的位置。所以，内循环不应该检查这些元素。

```
<?php 
$a=array(10,8,6,5);
$b=count($a);
for($i=0;$i<($b);$i++){
    for($j=0;$j<($b-$i);$j++){ // this change will save time
        if($a[$j]>$a[$i]){
               $temp = $a[$j];
               $a[$j]=$a[$i];
               $a[$i]=$temp;
        }
    }

}
?> 
```

# c++ - 如何将信号从 C 发送到 QML？

> ID：14190397
> 
> 赞同：1
> 
> 时间：2013-01-07T05:30:18.433
> 
> 标签：c++, signals, qml

> **可能重复：**
> [Qt 中的 C++ SIGNAL 到 QML SLOT](https://stackoverflow.com/questions/8834147/c-signal-to-qml-slot-in-qt)

如何`C++`向 QML 发送信号？我使用 Connect() 将信号从 QML 连接到`SignalHandler`in没有问题`C++`。但是有没有办法反过来呢？我一直试图让它工作，但 QML在 QML 中创建信号处理程序时说**Unknown Signal 。**

所以我想在 C++ 中发出一个信号：

```
emit mySignal(); 
```

在 QML 中接收信号：

```
onMySignal:
{

} 
```

谢谢！

# jquery - jquery中的图像源更改事件

> ID：14190398
> 
> 赞同：3
> 
> 时间：2013-01-07T05:30:25.057
> 
> 标签：jquery

我有幻灯片。我想根据当前图像的高度和宽度更改幻灯片的包装类高度和宽度，因为我需要使用 jquery 获取图像<> src 加载，我尝试跟随以获取图像 src 更改事件，但它不起作用，

```
$('.classname img').load(function(){
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:45:13.863

您可以使用 width() 和 height() 轻松获取图像高度和重量。无论如何，看看这个 - [http://jsfiddle.net/xdcj5/](http://jsfiddle.net/xdcj5/)我希望这会对你有所帮助。

如果您需要获取图像的 src 属性，那么您可以尝试这样 -

```
var imgLink = $('img').attr('src'); 
```

如果甚至无法正常工作，请尝试使用实时功能[http://api.jquery.com/live/](http://api.jquery.com/live/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:32:03.587

尝试使用 attr() 方法，为 src 属性指定属性。

二传手

```
$('.classname img').attr('src','YourImageLocation'); 
```

吸气剂

```
var imgUrl=$('.classname img').attr('src'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:35:07.223

尝试

```
$('.classname img').attr('src', 'image.jpg').load(function() {  
  console.log("image loaded");
}); 
```

这是一个可能有助于[加载图像的jQuery事件的SO问题](https://stackoverflow.com/questions/910727/jquery-event-for-images-loaded)

# ssrs-2008 - 折线图中的动作操作后更新/刷新SSRS中的隐藏参数

> ID：14190402
> 
> 赞同：0
> 
> 时间：2013-01-07T05:30:51.390
> 
> 标签：ssrs-2008, action, drilldown

我是 SSRS 报告的新手。我有一个 SSRS 报告，其中有一个带有折线图的主报告和一个显示详细信息的子报告。在点击数据点（系列属性）的折线图中，必须根据数据点值更新子报表详细信息。为了获取所选折线图的值，使用了一个隐藏参数，然后将其传递给子报表以获取相应的数据。

我还有一些参数，所以选择其中一个参数我必须重置隐藏的参数值，但该值不会重置并显示使用折线图操作属性设置的最后一个值。

有什么方法可以在更新钻取报告后重置隐藏参数。我正在使用 Web 服务在报告中显示数据。

提前致谢

苏普里亚·哈梅斯拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T08:09:19.467

假设您希望将从主报告中获得的参数重置为子报告，您可以执行以下操作：从子报告中，您可以将参数发送回主报告并放入操作屏幕/参数 - 硬编码将“重置”您的参数的值。这样，主报表中的参数总是会根据您在子报表中输入的硬编码值进行重置。

# c# - 如何在 .exe 文件中包含音乐？

> ID：14190405
> 
> 赞同：2
> 
> 时间：2013-01-07T05:31:04.210
> 
> 标签：c#, wpf, exe

> **可能重复：**
> [为 WPF MediaPlayer 使用 DLL 资源](https://stackoverflow.com/questions/6827267/use-dll-resources-for-wpf-mediaplayer)

我有一个名为 的文件夹`Sounds`，其中包含一个名为 的音乐文件`theme.mp3`。该文件夹位于项目的根文件夹中。

我想将此文件直接包含在`.exe`文件中。

目前，我只能从外部文件夹中读取音乐。如何将音乐文件包含在我的`.exe`?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:34:02.453

您可以[将其作为资源嵌入，而](http://msdn.microsoft.com/en-us/library/ms950960.aspx)不是作为流读取并播放。或者检索并存储在临时文件夹中并像以前一样播放。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T05:34:24.373

添加`theme.mp3`到您的项目（项目 -> 添加现有项目）。然后将该项目项的构建操作设置为“嵌入式资源”。

[然后在运行时，您可以通过Assembly.GetManifestResourceStream](http://msdn.microsoft.com/en-us/library/5kx66y1a%28v=VS.85%29.aspx)方法读取 MP3 流。[Assembly.GetManifestResourceNames](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.getmanifestresourcenames%28v=vs.85%29.aspx)方法可以帮助您发现在运行时已知的嵌入文件的名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T05:39:12.580

右键项目->属性->资源->添加文件

# android - 在android中实现一对一和群聊

> ID：14190410
> 
> 赞同：14
> 
> 时间：2013-01-07T05:31:41.200
> 
> 标签：android, chat

我正在开发一个 Android 应用程序，我必须在其中实现**聊天消息**。我**想要一对一聊天**或**群聊**。

但我不知道如何开始。请帮我解决这个问题。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-01-07T05:46:50.093

一个简单的聊天机制将具有 2 个基本功能

1.  将消息发送到服务器（包含有关收件人的信息）

2.  从服务器接收消息（指定为我的用户名）

第一步很简单，我们可以创建一个 Web 服务，该服务将接受包含有关收件人的附加信息的消息。我们可以使用任何服务器端语言来创建它。

第 2 步，即从服务器获取消息可以使用 2 种技术完成，从服务器拉消息（使用轮询），或从服务器推送消息到 android 手机

1.  轮询：在这种情况下，android 设备将在几秒钟后继续访问服务器，以检查是否有消息可供用户使用。这再次可以在客户端使用一个简单的异步任务来实现，该任务将在 2-3 秒后继续调用 Web 服务。如果我们计划仅在用户访问应用程序时启用聊天（没有像 gmail 或 facebook 这样的通知），这很好用，这样我们就可以在不使用时终止轮询服务（否则它会占用资源）。

2.  推送通知：更好的选择是使用推送通知。Android 提供谷歌云消息或 GCM ( [http://developer.android.com/google/gcm/index.html](http://developer.android.com/google/gcm/index.html) ) 这将有助于轻松实现从服务器推送。否则，您可以根据您的要求尝试第三方 API，例如 urbanairship 或 pushwoosh。推送通知将帮助用户即使在不使用应用程序时也能接收消息。

所以简而言之，一个接收消息的 web 服务和一个推送通知机制应该足以在 android 中实现聊天服务。

关于 UrbanAirship 的一点点

我在我的一个推送通知项目中使用了 UA，因为我需要同时支持 iOS 和 Android。如果您只想支持 Android GCM 也可能是一个不错的选择。

回到 UA，查看示例代码和用法：[https ://docs.urbanairship.com/display/DOCS/Home](https://docs.urbanairship.com/display/DOCS/Home)

它的工作方式很简单，当有人安装应用程序并连接到互联网时，应用程序将自己注册到 UA 服务。为每个已安装的应用程序指定一个唯一代码（此时您可以捕获用户名和唯一代码并将其存储在数据库中的某个位置）。Next UA 提供了一个 API，您可以使用该 API 使用 UA 提供的唯一代码将消息推送给指定的收件人。这些消息可以被android应用程序接收并根据要求使用。即使应用程序没有运行，我们也可以像收到电子邮件或消息时一样显示通知

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-29T07:23:14.593

You can use an existing platform like [Scringo](http://www.scringo.com). It gives you a one-on-one chat as well as group chat (both the client and the server) as well as the push notification service.

# typo3 - 在 extbase 框架中获取打字稿值

> ID：14190414
> 
> 赞同：6
> 
> 时间：2013-01-07T05:31:59.863
> 
> 标签：typo3, typoscript, extbase

我是 extbase(MVC) 框架的新手，我们如何在扩展中获取打字稿值：

例如：假设我有一些打字稿值，例如：

```
plugin.tx_some-extname.somevlaueX = XXXX
plugin.tx_some-extname.somevlaueY = yyyy
plugin.tx_some-extname.somevlaueZ = zzzz 
```

我将如何在控制器的特定操作中获得这些值。我希望这是有道理的？？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-07T05:46:41.317

在范围内声明值`settings`（在设置字段中），即：

```
plugin.tx_some-extname.settings {
    myXsetting = XXXX
} 
```

因此，所有内容都可以在(as )`settings`中的插件中访问：`$this->settings``array`

```
$valX = $this->settings['myXsetting']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-03-26T16:56:48.090

在 TYPO3-7.6 + 中，可以使用以下命令检索扩展的整个 TypoScript

```
$typoScript = $this->configurationManager->getConfiguration( $this->configurationManager::CONFIGURATION_TYPE_FRAMEWORK); 
```

其中第一个参数存在 3 个不同的选项：

```
$this->configurationManager::CONFIGURATION_TYPE_SETTINGS
$this->configurationManager::CONFIGURATION_TYPE_FRAMEWORK
$this->configurationManager::CONFIGURATION_TYPE_FULL_TYPOSCRIPT 
```

函数的可选`$this->configurationManager->getConfiguration()`扩展键可以作为第二个参数和插件名称作为第三个参数。所以整个命令看起来像这样：

```
$typoScript = $this->configurationManager->getConfiguration( $this->configurationManager::CONFIGURATION_TYPE_FRAMEWORK, $extensionKey,  $pluginName ); 
```

考虑静态模板必须包含在后端模板中才能返回所需的输出。

ConfigurationManager 是一个实例 `TYPO3\CMS\Extbase\Configuration\ConfigurationManager`

# jquery - jquery - 手风琴堆栈

> ID：14190416
> 
> 赞同：1
> 
> 时间：2013-01-07T05:32:03.250
> 
> 标签：jquery

我在[小提琴中找到了](http://jsfiddle.net/jhunlio/tyeKJ/2/)**jquery、html、css**代码

有人知道如何添加活动状态，您的回复很有帮助。

```
$("#accordion > li").click(function(){

    if(false == $(this).next().is(':visible')) {
        $('#accordion > ul').slideUp(300);
    }
    $(this).next().slideToggle(300);
});

$('#accordion > ul:eq(0)').hide(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:51:17.213

您可以将一个类添加到单击的选项卡

CSS：

```
#accordion li.active {
    background: red;
} 
```

javascript:

```
$("#accordion > li").click(function(){
    //remove the 'active' class from the currently selected tab
    $('.active').removeClass('active'); 

    //assign the active class to the tab that was just clicked
    $(this).addClass('active');

    if(false == $(this).next().is(':visible')) {
        $('#accordion > ul').slideUp(300);
    }
    $(this).next().slideToggle(300);
});

$('#accordion > ul:eq(0)').hide(); 
```

[http://jsfiddle.net/ZjBTk/](http://jsfiddle.net/ZjBTk/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:55:36.110

创建一个类`active`样式 it.. 并`active`在单击时将 this() 类添加到 li。

试试这个...

**jQuery**

```
$("#accordion > li").click(function(){
  $("#accordion > li").removeClass();
   $(this).addClass('active');
if(false == $(this).next().is(':visible')) {
    $('#accordion > ul').slideUp(300);
}
$(this).next().slideToggle(300);
});

$('#accordion > ul:eq(0)').hide(); 
```

**CSS**

```
#accordion li.active{
  background-color: red;
} 
```

在这里[摆弄](http://jsfiddle.net/tyeKJ/5/)

# objective-c - Facebook 喜欢在 iTunes 应用商店

> ID：14190418
> 
> 赞同：0
> 
> 时间：2013-01-07T05:32:09.960
> 
> 标签：objective-c, facebook, facebook-like

有没有办法以编程方式在 iTunes App Store 上为使用 Objective-c 的应用程序激活 Facebook Like？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:38:23.667

我很害怕，但我认为您可能必须将其用作 facebook 开发人员生成的代码中的 Web 视图：[https ://developers.facebook.com/docs/reference/plugins/like/](https://developers.facebook.com/docs/reference/plugins/like/)

# html - Firefox 分词在随机点中断短词

> ID：14190420
> 
> 赞同：9
> 
> 时间：2013-01-07T05:32:16.727
> 
> 标签：html, css

我正在`break-word`创建一个容器，这样极长的单词就不会溢出。虽然 Chrome 和 Safari 处理得非常好，但 Firefox 和 IE 似乎喜欢随机断词——甚至是短词，在最荒谬的地方。请参阅下面的屏幕截图：

![在此处输入图像描述](../Images/71046ce91cbec195decf90739e566e9e.png)

这是我用来防止破坏单词的代码：

```
.break-word {
-ms-word-break: break-all;
word-break: break-all;
word-break: break-word;
-webkit-hyphens: auto;
-moz-hyphens: auto;
hyphens: auto;
} 
```

这是我用于容器和文本的 CSS：

```
.wrap {
position: relative;
text-align: center;
margin: 40px auto 20px;
padding: 50px;
border: 4px double #f7f7f7;
display: block;
}
.quote-text {
font-size: 40px;
line-height: 50px;
font-weight: 400;
} 
```

HTML

```
 <div class="wrap break-word">
     <div class="row-fluid quotation-marks">&ldquo;&rdquo;</div>
     <span class="quote-text">
       Having a partner definitely allows you to take more risks.
     </span>
     <span class="author">Arianna Huffington</span>
   </div> 
```

为什么会这样？关于如何让单词在所有浏览器中正常中断的任何线索？Firefox 绝对是一个优先事项。

提前致谢！

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-01-07T06:41:09.070

您正在加倍使用 CSS 参数。试试这个..

```
.break-word {
-ms-word-break: break-all;
-ms-word-wrap: break-all;
-webkit-word-break: break-word;
-webkit-word-wrap: break-word;
word-break: break-word;
word-wrap: break-word;
-webkit-hyphens: auto;
-moz-hyphens: auto;
hyphens: auto;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T06:29:56.453

我通过将断字代码更改为：

```
.break-word {
word-break: break-word;
word-wrap: break-word;
} 
```

话不再奇怪地断断续续。我只是不确定这在跨浏览器支持方面有多安全（因为我只用最新版本的 Chrome、Firefox 和 Safari 进行了测试）

`en-US`显然，只有显式声明才支持断字。如果有人有更有效的答案/解释，我很乐意接受您的回答。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-07T08:57:06.167

删除`word-break: break-all`. 它的含义是它创建了您所描述的确切问题：指示浏览器将单词随意分解。

使用`word-wrap: break-all`更明智（或不那么荒谬），因为它告诉浏览器只有在没有其他方法可以使线条适合可用宽度时才断字。但它也违反了英语和大多数其他语言的规则：在任意位置打断一个单词是不正确的。所以也把它拿走。

断字更有意义，但它对浏览器的支持有限，并且出于明显的原因，它需要声明文本的语言（因为断字规则强烈依赖于语言）。[您可以使用基于 JavaScript 的断](http://code.google.com/p/hyphenator/)字，例如 Hyphenator.js来处理不支持 CSS 断字的浏览器

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-22T21:58:12.310

```
word-break:keep-all; 
```

为我解决了问题

# java - 使用 Dojo 绘制条形图

> ID：14190422
> 
> 赞同：0
> 
> 时间：2013-01-07T05:32:21.640
> 
> 标签：java, dojox.charting

如何使用 Dojo 绘制条形图？我有一个包含 2 列`empid`和`empsalary`. `empid`我想用x 轴和`empsalary`y 轴在 dojo 中绘制条形图。请建议。

在此先感谢
拉胡尔库马尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T13:18:19.020

这是使用 Dojo 图表绘制条形图的脚本：

```
<script>
require([
    // Require the basic chart class
    "dojox/charting/Chart",

    // Require the theme of our choosing
    "dojox/charting/themes/MiamiNice",

    // Charting plugins:

    //  We want to plot Columns
    "dojox/charting/plot2d/Columns",

    //  We want to use Markers
    "dojox/charting/plot2d/Markers",

    //  We'll use default x/y axes
    "dojox/charting/axis2d/Default",

    // Wait until the DOM is ready
    "dojo/domReady!"
], function(Chart, theme) {

    // Define the data
    var chartData = [10000,9200,11811,12000,7662,13887,14200,12222,12000,10009,11288,12099];

    // Create the chart within it's "holding" node
    var chart = new Chart("chartNode");

    // Set the theme
    chart.setTheme(theme);

    // Add the only/default plot
    chart.addPlot("default", {
        type: "Columns",
        markers: true,
        gap: 5
    });

    // Add axes
    chart.addAxis("x");
    chart.addAxis("y", { vertical: true, fixLower: "major", fixUpper: "major" });

    // Add the series of data
    chart.addSeries("Monthly Sales",chartData);

    // Render the chart!
    chart.render();

});

</script>

<div id="chartNode" style="width:800px;height:400px;"></div> 
```

[请在 Dojo 教程中](http://dojotoolkit.org/documentation/tutorials/1.8/charting/)找到详细说明

# php - 如何将xml数据插入数据库

> ID：14190423
> 
> 赞同：-6
> 
> 时间：2013-01-07T05:32:22.190
> 
> 标签：php, xml, zend-framework

我想将 XML 数据插入数据库，但有些字段没有插入 我有这样的 XML 数据

```
SimpleXMLElement Object (
    [person-id] => 4562
    [name] => gopi 
    [category] => working 
    [lead-commission] => SimpleXMLElement Object ( )
    [expire-date] => SimpleXMLElement Object ( )
    [manufactur-date] => SimpleXMLElement Object ( )
    [type] => medicine [sale-commission] => 1.00%
) 
```

我要插入数据库的代码

```
foreach($xml->link AS $value)
{
    $data['person-id']= $value->{'person-id'};
    $data['name']= $value->{'name'};  
    $data['category']= $value->{'category'};
    $data['lead-commission']= $value->{'lead-commission'};
    $data['expire-date']= $value->{'expire-date'};
    $data['manufacture-date']= $value->{'manufactur-date'};
    $data['type']= $value->{'type'};
    $data['sale-commission']= $value->{'sale-commission'};
} 
```

但是我无法在我的数据库中插入**lead-commission**、**expire-date**、**manufactur-date**，你能帮我如何插入这些字段吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-07T06:06:38.110

您可以使用此函数并将 XML 转换为 PHP 数组

> [http://www.lalit.org/lab/convert-xml-to-array-in-php-xml2array/](http://www.lalit.org/lab/convert-xml-to-array-in-php-xml2array/)

然后使用“ `print_r()`”查看字段和数组结构。相应地插入数据。

希望提供的链接有帮助

# javascript - jQuery tokenInput 搜索结果在页面底部

> ID：14190424
> 
> 赞同：1
> 
> 时间：2013-01-07T05:32:32.563
> 
> 标签：javascript, jquery, css, jquery-tokeninput

`enter code here` 我在 jQuery Tokeninput 中遇到了某种问题。

搜索结果似乎在页面底部。我不知道这里真正的问题是什么。这似乎是一个CSS问题。

我制作了一个视频来说明问题所在。

[http://screencast.com/t/oez0zd4mNz](http://screencast.com/t/oez0zd4mNz)

这是我的jsfiddle代码：

[http://jsfiddle.net/NPfGC/](http://jsfiddle.net/NPfGC/)

它在那里工作，但在我的网站上它不起作用，搜索结果在底部。

我在我的网站上创建了一个页面供您查看：[http ://discovrd.com/weird](http://discovrd.com/weird)

对此有什么想法吗？您的想法将不胜感激和奖励！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T07:11:22.490

这个我已经解决了。

我`jquery-1.8.3.min.js`在我的网站上使用，然后我将其更改为`jquery-1.7.1.min.js`然后它解决了错误。我不确定是否`jquery-1.8.3.min.js`是一个错误的脚本，但我想改变它解决了我的问题。解决方案有点奇怪，但它有效。

谢谢！

# python - 将层次结构添加到 numpy 结构化数组

> ID：14190425
> 
> 赞同：1
> 
> 时间：2013-01-07T05:32:36.200
> 
> 标签：python, numpy, recarray

我想采用具有多个命名字段的现有数组，并创建一个新数组（或将其更改到位），其中一个字段的分层 dtype 等于原始 dtype。那是，

```
newarray = np.array(oldarray, dtype=[('old',oldarray.dtype)]) 
```

这样`newarray['old']`在形状和结构上与`oldarray`

这是一个例子：

```
In [1]: import numpy as np

In [2]: dt = np.dtype([('name',np.str_,2),('val',np.float_)])

In [3]: constants = np.array([('pi',3.14),('e',2.72)],dtype=dt)

In [4]: constants
Out[4]: 
array([('pi', 3.14), ('e', 2.72)], 
      dtype=[('name', '|S2'), ('val', '<f8')])

In [5]: numbers = constants.astype([('constants',dt)]) 
```

但这给了我所有的零：

```
In [6]: numbers
Out[6]: 
array([(('', 0.0),), (('', 0.0),)], 
      dtype=[('constants', [('name', '|S2'), ('val', '<f8')])]) 
```

如果我尝试制作副本，我也会遇到同样的问题：

```
In [7]: numbers = np.array(constants,dtype=[('constants',dt)])

In [8]: numbers
Out[8]: 
array([(('', 0.0),), (('', 0.0),)], 
      dtype=[('constants', [('name', '|S2'), ('val', '<f8')])]) 
```

另外：有人知道*为什么*会这样吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T13:03:24.093

您可以[`view`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.view.html)使用新的 dtype (http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.view.html) 获取原始数组：

```
>>> import numpy as np
>>> dt = np.dtype([('name',np.str_,2),('val',np.float_)])
>>> constants = np.array([('pi',3.14),('e',2.72)],dtype=dt)
>>> 
>>> numbers = constants.view([('constants',dt)])
>>> 
>>> numbers['constants']
array([('pi', 3.14), ('e', 2.72)], 
      dtype=[('name', '|S2'), ('val', '<f8')]) 
```

请注意，结果数组`numbers`是原始数组的视图，因此其中一个的更改也会影响另一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:32:36.200

我可以通过列出原始数组来解决问题：

```
In [9]: numbers = np.array([constants],dtype=[('constants',dt)])

In [10]: numbers
Out[10]: 
array([[(('pi', 3.14),), (('e', 2.72),)]], 
      dtype=[('constants', [('name', '|S2'), ('val', '<f8')])]) 
```

但是当我查看它时，当然我在列表中多了一个嵌套：

```
In [11]: numbers['constants']
Out[11]: 
array([[('pi', 3.14), ('e', 2.72)]], 
      dtype=[('name', '|S2'), ('val', '<f8')])

In [12]: numbers['constants']['name']
Out[12]: 
array([['pi', 'e']], 
      dtype='|S2') 
```

我真的只想要列表中的第一项：

```
In [13]: numbers[0]
Out[13]: 
array([(('pi', 3.14),), (('e', 2.72),)], 
      dtype=[('constants', [('name', '|S2'), ('val', '<f8')])]) 
```

我也可以通过之后展平阵列来实现这一点：

```
In [14]: numbers.flatten()
Out[14]: 
array([(('pi', 3.14),), (('e', 2.72),)], 
      dtype=[('constants', [('name', '|S2'), ('val', '<f8')])])

In [15]: numbers.flatten()['constants']
Out[15]: 
array([('pi', 3.14), ('e', 2.72)], 
      dtype=[('name', '|S2'), ('val', '<f8')])

In [16]: numbers.flatten()['constants']['name']
Out[16]: 
array(['pi', 'e'], 
      dtype='|S2') 
```

但这不是黑客行为吗？最后我真正想要的是这个数组：

```
In [17]: numbers = np.array([(('pi', 3.14),), (('e', 2.72),)],dtype=[('constants',dt)])

In [18]: numbers['constants']
Out[18]: 
array([('pi', 3.14), ('e', 2.72)], 
      dtype=[('name', '|S2'), ('val', '<f8')])

In [19]: numbers['constants']['name']
Out[19]: 
array(['pi', 'e'], 
      dtype='|S2') 
```

无需制作单项列表然后将其展平。有更好的想法吗？

# c# - asp.net web应用程序中的sql server会话模式

> ID：14190427
> 
> 赞同：1
> 
> 时间：2013-01-07T05:32:44.107
> 
> 标签：c#, asp.net, asp.net-mvc, sql-server-2008, asp.net-mvc-4

我有两个项目解决方案。第一个是使用 asp.net (.aspx) Web 应用程序。第二个是 mvc (.cshtml) Web 应用程序。第一个应用程序具有指向第二个应用程序的重定向链接。用户仅通过第一个应用程序登录。我想使用 sql server 会话模式将用户的用户登录详细信息和页面详细信息存储在 sqlserver 中。
任何建议都会有所帮助。谢谢

**编辑**
我尝试使用[Link](http://www.codeproject.com/Articles/32545/Exploring-Session-in-ASP-Net)中的 sql server 会话模式。会话值存储在 ASPState 数据库中。如何检查会话是否已过期以及过期会话中的值是否未使用。?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T12:04:55.537

以下代码检查会话是否过期。

```
protected void Page_Init(object sender, EventArgs e)
    {
        if (Context.Session != null)
        {
            if (Session.IsNewSession)
            {
                HttpCookie newSessionIdCookie = Request.Cookies["ASP.NET_SessionId"];
                if (newSessionIdCookie != null)
                {
                    string newSessionIdCookieValue = newSessionIdCookie.Value;
                    if (newSessionIdCookieValue != string.Empty)
                    {
                        // This means Session was timed Out and New Session was started
                        // Do whatever you want
                    }
                }
            }
        }
    } 
```

# java - 消除方形边缘按钮java

> ID：14190430
> 
> 赞同：1
> 
> 时间：2013-01-07T05:33:02.283
> 
> 标签：java, swing, jbutton, bufferedimage, shape

[JButton中不透明像素的事件检测](https://stackoverflow.com/questions/13825123/event-detection-on-opaque-pixels-in-jbutton)

使用在我上面的问题中找到的代码示例，我创建了几个带有不规则边缘的按钮，它们互锁，并且使用空布局来正确定位按钮。我遇到的问题是，尽管未在缓冲图像中的透明像素上检测到鼠标点击，但按钮仍采用矩形形状。这意味着稍后添加到面板的按钮会阻塞与其相邻的按钮部分。

我的问题是：有没有办法强制鼠标事件沿着 JButtons 的整个物理排列传播，直到它出现不透明像素，或者是否需要另一种解决方案？我看过涉及 Shape 的解决方案，但它们似乎非常昂贵，这就是为什么我想知道另一种方式。

我不太喜欢使用 JButtons，如果解决方案需要我离开它们，但我想找到一个便宜的解决方案，如果存在的话。

```
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.image.BufferedImage;
import java.net.URL;

import javax.imageio.ImageIO;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.SwingUtilities;

public class JButtonExample {

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                final JFrame frame = new JFrame();
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                MyButton button1 = null, button2 = null;

                try {
                    button1 = new MyButton(ImageIO.read(new URL("https://dl.dropbox.com/s/dxbao8q0xeuzhgz/button1.png")));
                } catch (Exception ex) {
                    ex.printStackTrace();
                }

                button1.addMouseListener(new MouseAdapter() {
                    @Override
                    public void mouseClicked(MouseEvent me) {
                        super.mouseClicked(me);
                        MyButton mb = ((MyButton) me.getSource());
                        if (!isAlpha(mb.getIconImage(), me.getX(), me.getY()))
                            JOptionPane.showMessageDialog(frame, "You clicked button 1");
                    }

                    private boolean isAlpha(BufferedImage bufImg, int posX, int posY) {
                        int alpha = (bufImg.getRGB(posX, posY) >> 24) & 0xFF;
                        return alpha == 0 ? true : false;
                    }
                });

                button1.setBounds(10, 10, 72, 77);

                try {
                    button2 = new MyButton(ImageIO.read(new URL("https://dl.dropbox.com/s/v16kyha0ojx1gza/button2.png")));
                } catch (Exception ex) {
                    ex.printStackTrace();
                }

                button2.addMouseListener(new MouseAdapter() {
                    @Override
                    public void mouseClicked(MouseEvent me) {
                        super.mouseClicked(me);
                        MyButton mb = ((MyButton) me.getSource());
                        if (!isAlpha(mb.getIconImage(), me.getX(), me.getY()))
                            JOptionPane.showMessageDialog(frame, "You clicked button 2");
                    }

                    private boolean isAlpha(BufferedImage bufImg, int posX, int posY) {
                        int alpha = (bufImg.getRGB(posX, posY) >> 24) & 0xFF;
                        return alpha == 0 ? true : false;
                    }
                });

                button2.setBounds(65, 0, 122, 69);

                frame.getContentPane().setLayout(null);

                frame.add(button1);
                frame.add(button2);

                frame.setSize(210, 130);
                frame.setVisible(true);
            }
        });
    }
}

class MyButton extends JButton {

    BufferedImage icon;

    MyButton(BufferedImage bi) {
        this.icon = ((BufferedImage) bi);
        setContentAreaFilled(false);
    }

    @Override
    public Dimension getPreferredSize() {
        return new Dimension(icon.getWidth(), icon.getHeight());
    }

    public BufferedImage getIconImage() {
        return icon;
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        g.drawImage(icon, 0, 0, null);
        g.dispose();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T05:45:05.433

好的，我已经制定了一个解决方案，可以为我的用例以足够的准确性完成我想要它做的事情。虽然有些细节可能有点骇人听闻，但我想我现在已经做到了。要创建`Area`的代码改编自[这里](https://stackoverflow.com/questions/7218309/smoothing-a-jagged-path/%22here%22)。

为了在我的大型程序的其他区域简单易用，我将每个按钮保留为独立的`JButton`. 当在任何按钮上检测到鼠标点击时，它会计算出现在父面板上的点击位置，然后将该位置作为 a 传递给父面板`Point`。然后父级遍历按钮数组，直到找到包含该点的按钮，并触发适当的方法。如果单击不在任何按钮包含的区域内，则没有效果。如果原始鼠标点击没有发生在以 a 为边界的正方形区域上`JButton`，则不进行处理。

`Area`尽管与程序的其余部分相比，生成 an 所需的计算相对昂贵，但我可以通过`Area`在启动时创建所有对象来解决这个问题，因为程序会启动并且每个区域都不会被启动的情况非常罕见用过的。

```
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Point;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.geom.Area;
import java.awt.geom.GeneralPath;
import java.awt.image.BufferedImage;
import java.net.URL;

import javax.imageio.ImageIO;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.SwingUtilities;

public class Example {

    private static int[][] pos = {{10, 10, 72, 77}, {65, 0, 122, 69}};

    public static MyButton[] buttons;

    private static URL[] src = new URL[2]; 

    private static MapPanel pane;

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                final JFrame frame = new JFrame();
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                try{
                    src[0] = new URL("https://dl.dropbox.com/s/dxbao8q0xeuzhgz/button1.png");
                    src[1] = new URL("https://dl.dropbox.com/s/v16kyha0ojx1gza/button2.png");
                } catch (Exception e){
                    e.printStackTrace();
                    System.exit(0);
                }

                pane = new MapPanel();
                pane.setLayout(null);

                buttons = new MyButton[2];

                for(int i = 0 ; i < buttons.length ; i++){
                    final int j = i;
                    try{
                        buttons[j] = new MyButton((ImageIO.read(src[j])), j, pos[j][0], pos [j][1]);
                    } catch (Exception e){
                        e.printStackTrace();
                        System.exit(0);
                    }
                    buttons[j].addMouseListener(new MouseAdapter(){
                        @Override
                        public void mouseClicked(MouseEvent me){
                            Point p = new Point(me.getX() + buttons[j].getX(), me.getY() + buttons[j].getY());
                            pane.check(p);
                        }
                    });
                    buttons[j].setBounds(pos[j][0], pos[j][1], pos[j][2], pos[j][3]);
                    pane.add(buttons[j]);
                }

                frame.setContentPane(pane);

                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setSize(210, 130);
                frame.setVisible(true);
            }
        });
    }
}

class MapPanel extends JLabel{

    public MapPanel(){
        super();
        this.setOpaque(true);
    }

    public void check(Point p){
    for(int i = 0 ; i < Example.buttons.length ; i++){
    if(Example.buttons[i].contains(p)){
            Example.buttons[i].clickDetected();
            break;
        }
        }
    }
}

class MyButton extends JButton {

    private BufferedImage icon;
    private int x, y, index;
    private Area area;

    MyButton(BufferedImage bi, int index, int x, int y) {
        this.icon = ((BufferedImage) bi);
        this.x = x;
        this.y = y;
        this.index = index;
        setContentAreaFilled(false);
        createArea();
    }

    @Override
    public Dimension getPreferredSize() {
        if(icon != null){
            return new Dimension(icon.getWidth(), icon.getHeight());
        } else {
            return super.getPreferredSize();
            }
    }

    public BufferedImage getIconImage() {
        return icon;
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        g.drawImage(icon, 0, 0, null);
        g.dispose();
    }

    private void createArea(){      
        GeneralPath gp = new GeneralPath();
        boolean cont = false;

        for(int xx = 0 ; xx < icon.getWidth() ; xx++){
            for(int yy = 0 ; yy < icon.getHeight() ; yy++){
                if(getAlpha(xx, yy) != 0){
                    if(cont){
                        gp.lineTo(xx, yy);
                        gp.lineTo(xx, yy+1);
                        gp.lineTo(xx+1, yy+1);
                        gp.lineTo(xx+1, yy);
                        gp.lineTo(xx, yy);
                    } else{
                        gp.moveTo(xx, yy);
                    }
                    cont = true;
                } else {
                    cont = false;
                }
            }
            cont = false;
        }

        gp.closePath();

        area = new Area(gp);        
    }

    @Override
    public boolean contains(Point p){
        if(area.contains(new Point((int)(p.getX() - this.x), (int) (p.getY() - this.y)))){
            return true;
        }
        return false;
    }

    private int getAlpha(int posx, int posy){
        return(icon.getRGB(posx, posy) >> 24) & 0x000000FF;
    }

    public void clickDetected(){
        JOptionPane.showMessageDialog(null, "You clicked button " + Integer.toString(this.index + 1) + ".");
    }
} 
```

如果有人能指出此代码（或代码之外）的任何问题，我也将不胜感激。我假设`GeneralPath`创建区域的方式是通过在满足标准的每个像素（在本例中为非透明像素）之上创建一个 1px 正方形，然后从路径包含的区域创建一个区域对象。如果我错了，请纠正我。

# javascript - Javascript 四舍五入到小数点后两位

> ID：14190433
> 
> 赞同：4
> 
> 时间：2013-01-07T05:33:15.493
> 
> 标签：javascript

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Round to 2 Decimal Places</title>
    <script type="text/javascript"
    src="http://ajax.microsoft.com/ajax/jQuery/jquery-1.4.2.min.js">
    </script>
    <script type="text/javascript">
        $(function() {
            $('input#txtNum').blur(function() {
                var amt = parseFloat(this.value);
                //$(this).val('$' + amt.toFixed(2));
                $(this).val((Math.round(amt*100))/100).toFixed(2);
            });

        });
    </script>
</head>
<body>
    Type a decimal number in the TextBox and hit Tab
    <br />
    <input id="txtNum" type="text" />
</body>
</html> 
```

当我输入值为 100.2569 时。结果显示 100.26，但是当我输入 56.999 时，它显示 57 而不是 57.00，或者如果我给出不带小数的值，它的显示不带小数，而小数点后没有两个附加两个零。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T05:36:08.237

你`toFixed`打错地方了：

```
$(this).val( (Math.round(amt*100)/100).toFixed(2) ); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-03-11T04:15:42.683

它比你想象的要简单：

```
amt.toFixed(2) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T10:52:19.670

这可以使用 Javascript 来完成，如下所示：

```
this.value = (Math.round(amt*100)/100).toFixed(2); 
```

如果是单个文本输入：

```
document.getElementById("txtNum").value = (Math.round(amt*100)/100).toFixed(2); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-08T00:22:33.240

下面的示例代码也有效。

```
ProperRoundCircle = function(num, decimal){ 
 return Math.round(parseFloat(Number) * Math.pow(10, decimal)) / Math.pow(10, decimal);
} 
```

# javascript - JavaScript For Loop 显示 window.location 的最后一次迭代

> ID：14190438
> 
> 赞同：-1
> 
> 时间：2013-01-07T05:33:46.020
> 
> 标签：javascript

我搜索并发现它是关于闭包和范围的。但不幸的是，我无法将这些示例解决方案实施到我的案例中。

这是我想要做的：

```
for (var i = 100; i < 110; i++ ) {
    window.location = "www.example.com/bet.php?ip=100.100.100." + i + "&bet=55";
} 
```

它应该从不同 IP 的相应循环范围提交一个赌注“55”，并在每次下注后等待大约 5 秒，直到出现 XML 结果。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T05:38:34.970

此循环仅适用于单次迭代。在第一次迭代中，页面将被重定向到新的 URL，此时 JS 停止运行。您将需要使用 AJAX 逐步请求不同的 URL 而无需重定向。

一种方法是，例如：

```
var iframe = document.createElement('iframe');
document.body.appendChild(iframe);
(function redirect(i){
    if(i < 110) {
        iframe.onload = function(){
            redirect(++i);
        }
        iframe.src = "http://www.example.com/bet.php?ip=100.100.100." + i + "&bet=55";
    }
})(99) 
```

这是一个演示：http: [//jsfiddle.net/udS33/](http://jsfiddle.net/udS33/)

# sql-server - Reporting Services 2005 计算单个组中列的百分比

> ID：14190439
> 
> 赞同：0
> 
> 时间：2013-01-07T05:33:51.890
> 
> 标签：sql-server, reporting-services, reportingservices-2005

经过一周的谷歌搜索后，我离我的问题的解决方案还差得远，希望有人能提供帮助。如果我已经回答了这个问题，我会提前道歉，尽管我搜索得很努力。

我正在创建一份我们称之为“老年债务人”的报告。此报告的一部分要求我们将去年总计、今年总计以及两者的百分比作为列。另一个要求是将“这一年”（即从今天追溯到1 年前）分成逾期30 天、逾期60 天和逾期90 天以上的帐户。我已返回一个数据集中的所有数据，其中包含以下列

(#) Accounts、Country、AccountType、OverdueAmount、OverdueTime（30、60、90 和去年）和 YearGroup（今年为 TY，去年为 LY）

我创建了 2 个行组（国家和帐户类型（国家的子组）和 2 个列组（总逾期和逾期时间 - 彼此无关...逾期时间将金额分成 30、60 90天等，而总逾期给我去年和今年的数字）

Total Overdue 使用以下方法在组中的 2 列之间拆分

```
=format(iif(Fields!YearGroup.Value = "LY",Sum(Fields!OverdueAmount.Value), iif((Fields!YearGroup.Value = "TY"), Sum(Fields!OverdueAmount.Value), 0)), "C") 
```

这很好用！我的问题是客户然后想要一个列旁边的列，基本上为他做了一个百分比 - 总和（今年 - 去年）/去年。所以基本上我想要这个布局

去年，今年，百分比

我尝试在组中创建另一列，但是这只是在前面的每个列旁边插入了一个新列，所以我最终得到了

去年，专栏，今年，专栏

然后我尝试在组旁边创建一个列，并使用“AccountType”行的范围和 iif 语句来区分去年和今年

```
 (iif(Fields!YearGroup.Value = "TY", sum(overdueamount.value), 0) -iif(fields!YearGroup.Value = "LY", sum(overdueamount.value), 0) 
```

试图得到一个基本的区别，它似乎想把所有的东西都加起来——一个例子是

```
Last year = $200
This Year = $100 
```

差价应该是 100 美元 - RS 告诉我是 300 美元！

（我已经尝试了无数次迭代，包括嵌套上面的 iif 语句）

无论 YearGroup 的值是多少，它似乎都在汇总所有内容 - 我感觉这就是 RS 呈现组的方式 - 如果其中一个年份值为 0（假设去年有 200 美元的帐户类型，而今年有$0) 然后它“似乎”也在做我想做的事。

我曾考虑在 SQL 中执行此操作，但我认为返回一个数据集太复杂了（我现在已经在做一些疯狂的联合以将其全部放入一个 DS 中）。

有没有办法根据组中 2 个动态创建的列之间的差异计算出 % 值？如果需要，很高兴尝试提供更多详细信息...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T10:49:11.563

我认为您需要在 Sum 函数中移动 iif 逻辑，如下所示：

```
= sum( iif(Fields!YearGroup.Value = "TY", overdueamount.value 
, iif(fields!YearGroup.Value = "LY", 0 - overdueamount.value , 0) ) ) 
```

BTW SSRS 2008+ 通过 ReportItems 集合优雅地解决了这一挑战......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T05:43:24.723

首先感谢迈克让我走上正确的道路！我意识到我需要对分区的第二部分进行转换，现在它运行良好！

干杯，我希望这个问题和这些答案对其他人有所帮助 - 经过 2 周的斗争，我终于可以把它放到床上了！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-24T02:40:32.793

在 SQL 中这样做实际上相当简单，使用 PARTITION：

```
SELECT DISTINCT
    CASE
        WHEN DatePart(Year, INV.DueByDate) = DatePart(Year, GetDate()) - 1 THEN 'Last Year'
        ELSE 'This Year'
    END YearGroup,
    SUM(INV.AmountDue) OVER(PARTITION BY    CASE
                                                    WHEN DatePart(Year, INV.DueByDate) = DatePart(Year, GetDate()) - 1 THEN 'Last Year'
                                                    ELSE 'This Year'
                                                END) TotalAmountOverDue,
    SUM(INV.AmountDue) OVER(PARTITION BY    CASE
                                                    WHEN DatePart(Year, INV.DueByDate) = DatePart(Year, GetDate()) - 1 THEN 'Last Year'
                                                    ELSE 'This Year'
                                                END) / Sum(INV.AmountDue) OVER() * 100 Percentage

FROM Invoice INV

WHERE INV.DueByDate >= '1/1/2012' 
```

# python - 如何使用 Python 查询时间键是最后五分钟的 mongodb？

> ID：14190441
> 
> 赞同：0
> 
> 时间：2013-01-07T05:34:18.510
> 
> 标签：python, mongodb, pymongo

我使用 fluent 和 mongodb 来存储我的 apache 访问日志。

python中的日志格式输出如下：

```
>>> collection.find_one({"host":"192.168.1.57"})

{u'_id': ObjectId('50dd5367febb00575f000088'),
u'agent': u'Mozilla/5.0 (X11; Linux x86_64; rv:17.0) Gecko/20100101 Firefox/17.0',
u'code': 200,
u'host': u'192.168.1.57',
u'method': u'GET',
u'path': u'/',
u'referer': None,
u'size': 8675,
u'time': datetime.datetime(2012, 12, 28, 8, 8, 7),
u'user': None} 
```

那么，如何查询访问时间为最后五分钟的日志呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:41:31.487

您可以通过在 MongoDB 文档中搜索 $gt 运算符或检查范围搜索来找到问题的答案：

[http://cookbook.mongodb.org/patterns/date_range/](http://cookbook.mongodb.org/patterns/date_range/)

# android - 尝试在 onPostExecute 方法中显示数据时，setText 抛出 nullpointerexception

> ID：14190443
> 
> 赞同：0
> 
> 时间：2013-01-07T05:34:27.770
> 
> 标签：android

我正在尝试从 servlet 获得响应并将其显示在模拟器上。能够获得响应，但是当我尝试在屏幕上显示响应时，setText 抛出空指针异常。查不出原因。我对android很陌生，请帮助我。

包 com.example.httptest；

```
import java.io.IOException;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.util.EntityUtils;

import com.demo.parser.XmlParser;

import android.os.AsyncTask;
import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;
import android.widget.TextView;

public class MainActivity extends Activity {

    public static final String url = "http://192.168.3.140:8080/HttpServlet/TestServlet";
    //public static final String url = "http://192.168.3.228/capture/employeeList.xml";
    String output = null;
    TextView outpuText;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    public void invokeServlet(View view){
        AsyncTest test = new AsyncTest();
        System.out.println("URL--------------"+url);
        setContentView(R.layout.activity_main);
        test.execute(new String[] { url });
    }

    private class AsyncTest extends AsyncTask<String, Void, String>{

        @Override
        protected String doInBackground(String... urls) {
            // TODO Auto-generated method stub
            String output = null;

            for(String url :urls){
                System.out.println("url1 "+url);
                output = getOutputFromUrl(url);
                System.out.println("output----------"+output);

                /*EditText text = (EditText) findViewById(R.id.output);

                 text.setText(output);

                */

            }

            return output;
        }

         private String getOutputFromUrl(String url) {
             System.out.println("in hereeeeeeeeeee");

                try {
                    DefaultHttpClient httpClient = new DefaultHttpClient();
                    HttpGet httpGet = new HttpGet(url);

                    HttpResponse httpResponse = httpClient.execute(httpGet);
                    HttpEntity httpEntity = httpResponse.getEntity();
                    output = EntityUtils.toString(httpEntity);
                    System.out.println("output1 "+output);
                   // XmlParser.XMLfromString(output);
                } catch (UnsupportedEncodingException e) {
                    e.printStackTrace();
                } catch (ClientProtocolException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                }
                return output;
            }

         protected void onPostExecute(String output){

             setContentView(R.layout.activity_main);
             outpuText.setText(output);

             setContentView(outpuText);
         }

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:41:03.673

在 setContentView() 之后添加`outpuText=(TextView)findViewbyId(R.id.textId);`onCreate 方法会帮助你。

不要忘记从 postExecute() 中删除 setContentView()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:41:22.610

1) 引用 outputText。我的意思是 outputText = (TextView) findViewById(R.id.textView1); 在 onCreate 方法中。

2) 移除 setContentView(R.layout.activity_main); 在 onPostExecute（字符串输出）中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:41:26.570

试试这个它解决了你的问题

```
 outpuText = (TextView)findViewById(R.id.textviewid); 
```

其中 textviewid 是您的文本视图 ID

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T04:25:53.273

Issue resolved by adding following step in onCreate method,

outpuText = new TextView(this);

Thanks for your time guys!!

# python - pygments 的 C 包装器

> ID：14190450
> 
> 赞同：1
> 
> 时间：2013-01-07T05:35:11.783
> 
> 标签：python, c, pygments

是否可以使用 C 应用程序中的 pygments？是否有用于 pygments 的 C 库？我需要从 C++ 程序中使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:36:49.790

[嵌入 Python](http://docs.python.org/3/extending/embedding.html)相当简单。然后你可以在你的应用程序中使用 Pygments。

特别是请看[第 5.3 节](http://docs.python.org/3/extending/embedding.html#pure-embedding)。在那里，他们使用用户输入的模块和函数名称，但您可以很容易地使用常量`"pygments"`等来调用 Pygments API 中的必要函数。

# objective-c - 微妙的图案背景 iOS png 文件

> ID：14190452
> 
> 赞同：0
> 
> 时间：2013-01-07T05:35:25.583
> 
> 标签：objective-c, ios

我正在开发一个通用应用程序，我想使用一些在微妙模式.com 上找到的背景，在下载它们时我只看到两个 png 文件（常规 png 和 2x png）。如何将它们同时用于 iPhone 和 iPad（包括视网膜显示器）？我是否必须缩放它们以支持所有分辨率？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:47:56.370

您需要创建一个图案作为视图的背景颜色。视图的大小无关紧要，如果您在项目中包含这两个文件，将自动选择视网膜版本。例如：

```
UIImage *bgimg = [UIImage imageNamed:@"gray_jean"];
self.view.backgroundColor = [UIColor colorWithPatternImage:bgimg]; 
```

如果您的项目中有 2 个文件：

```
gray_jean@2X.png
gray_jean.png 
```

它应该在任何情况下工作；图像将被平铺以填充任何视图背景，并且视网膜版本自动用于视网膜屏幕。不过要小心，因为在某些模式中，非视网膜版本是 PNG 文件，而@2x 视网膜版本是 JPEG 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T05:48:02.407

无需进行额外的缩放，因为模式应该是平铺的（并且您有常规和@2x 版本）。假设您有`pattern.png`和`pattern@2x.png`，这是平铺图像的简单方法。

```
UIColor *pattern = [UIColor colorWithPatternImage:[UIImage imageNamed:@"pattern"]];
[myViewController.view setBackgroundColor:pattern]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:48:43.327

是的。您需要为 iphone 和 ipad 使用不同的图像，并为视网膜显示使用不同的图像。如果您将 iphone 图像用于 ipad 或视网膜显示，它将显示为像素化。

因此，请确保为每种类型使用精确的分辨率图像。

请查看苹果的文档以获取解决方案的详细信息。

[**苹果图像分辨率**](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/IconsImages/IconsImages.html)

![分辨率图像](../Images/e104149a1e4f86d3d7d9469fc4d319a6.png)

# mysql - 不同数据库的 Varchar 和 Varchar2 的最大大小/长度

> ID：14190457
> 
> 赞同：-3
> 
> 时间：2013-01-07T05:35:55.210
> 
> 标签：mysql, sql, oracle, postgresql

VARCHAR 和 VARCHAR2 的大小限制在各种 SQL RDBMS 实现中是不同的还是相同的？感谢帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T06:00:25.730

首先`varchar`是用在MySQL`varchar2`中，用在Oracle中。此外，varchar 和 varchar2 的大小和限制因数据库而异。

参考来自：[http ://docs.oracle.com/cd/E12151_01/doc.150/e12155/oracle_mysql_compared.htm](http://docs.oracle.com/cd/E12151_01/doc.150/e12155/oracle_mysql_compared.htm)

> MySQL 和 Oracle 在它们支持的字符类型以及存储和检索字符类型值的方式上存在一些差异。
> 
> 对于长度小于 65,535 字节的字符类型，MySQL 支持 CHAR 和 VARCHAR 类型。CHAR 类型的最大长度可以是 255 字节，从 MySQL 3.23 开始，它也可以声明为 0 字节的长度。在 MySQL 5.0.3 之前，VARCHAR 类型的长度规范与 CHAR 类型相同。从 MySQL 5.0.3 开始，VARCHAR 类型的最大长度为 65,535 字节。Oracle 支持四种字符类型：CHAR、NCHAR、NVARCHAR2 和 VARCHAR2。可以为所有 Oracle 字符类型声明的最小长度为 1 个字节。CHAR 和 NCHAR 允许的最大大小为 2,000 字节，而 NVARCHAR2 和 VARCHAR2 允许的最大大小为 4,000 字节。
> 
> MySQL CHAR 值在存储时用空格填充到指定长度，并在检索值时删除尾随空格。另一方面，VARCHAR 值使用尽可能多的字符存储，但在 MySQL 5.0.3 之前，在存储和检索值时会删除尾随空格。如果值短于列长度，Oracle 会将其 CHAR 和 NCHAR 类型的值填充为列长度，并且在检索时不会删除尾随空格。对于 NVARCHAR2 和 VARVHAR2 数据类型列，Oracle 完全按照给定的方式存储和检索值，包括尾随空格。
> 
> 如果一个值被分配给一个超过其指定长度的字符类型列，MySQL 会截断该值并且不会产生错误，除非设置了 STRICT SQL 模式。如果分配给字符类型列的值超过其指定长度，Oracle 将生成错误。
> 
> 在 MySQL 中，每个字符类型（CHAR、VARCHAR 和 TEXT）列都有一个列字符集和排序规则。如果字符集或排序规则未在列定义中显式定义，则表字符集或排序规则是隐含的（如果指定）；否则，选择数据库字符或排序规则。在 Oracle 中，CHAR 和 VARCHAR2 类型的字符集由数据库字符集定义，而 NCHAR 和 NVARCHAR 类型的字符集由国家字符集定义。
> 
> 在 MySQL 中声明 CHAR 或 VARCHAR 类型时，默认长度语义是字符而不是 MySQL 4.1 及更高版本的字节。在 Oracle 中，CHAR 和 VARCHAR2 类型的默认长度语义是字节，NCHAR 和 NVARCHAR2 类型的默认长度语义是字符。
> 
> SQL Developer 会将 MySQL CHAR 和 VARCHAR 类型分别映射到 Oracle CHAR 和 VARCHAR2 类型。SQL Developer 将根据为相应的 MySQL CHAR 和 VARCHAR 数据类型列指定的最大长度所需的字节数来确定 Oracle CHAR 和 VARCHAR2 数据类型列的最大字节数。如果 MySQL VARCHAR2 列的数据超过 4000 字节，则将该列转换为 Oracle CLOB 数据类型列。

# c++ - OpenSSl RAND_bytes 由于缺乏不可预测性而返回错误的频率如何？

> ID：14190459
> 
> 赞同：4
> 
> 时间：2013-01-07T05:35:59.110
> 
> 标签：c++, openssl

RAND_bytes 的文档声称，如果生成的随机字节是可预测的，则该函数可能会返回错误。我的问题是这样的错误有多频繁？

可以在有限循环中调用 RAND_bytes（比如 5 次尝试）然后抛出异常是解决这个问题的合理方法，或多或少像这样：

```
 unsigned char random_bytes[4];
    uint8_t attempts = 0;
    while(RAND_bytes(random_bytes,sizeof(random_bytes)) != 1 && ++attempts != 5 ) { }
    if( attempts == 5)
    {
        throw std::runtime_error("random bytes too predictable after multiple attempts");
    } 
```

还是这个循环很傻，我应该在第一次尝试后扔掉？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T15:54:26.787

`/dev/random`基本上，如果（或）没有足够的熵，`/dev/urandom`那么`RAND_bytes`将失败。没有简单的方法可以确定呼叫何时会失败，但这不太可能。

# iphone - 我想在 iPhone 中以 2 倍的速度播放视频

> ID：14190461
> 
> 赞同：-1
> 
> 时间：2013-01-07T05:36:11.963
> 
> 标签：iphone, ios, uiview, mpmovieplayercontroller

我使用 MPMoviePlayerController 来播放视频。但是没有以 2 倍速度播放视频的方法/属性。

有没有其他方法可以以 2 倍速播放视频？

我用这种方法播放视频。

```
-(void)playMovie:(NSString *)fileName

{

NSLog(@" File name :: %@",fileName);

NSBundle *bundle = [NSBundle mainBundle];

NSString *moviePath = [bundle pathForResource:fileName ofType:@"mp4"];

NSLog(@"\n\n  moviePath :: %@",moviePath);

NSURL *url = [[NSURL fileURLWithPath:moviePath] retain];

moviePlayer = [[MPMoviePlayerController alloc] initWithContentURL:url];

moviePlayer.controlStyle = MPMovieControlStyleDefault;

moviePlayer.shouldAutoplay = YES;

moviePlayer.view.frame = [[UIScreen mainScreen] applicationFrame];

[moviePlayer.view setFrame:playVideoView.bounds];

[playVideoView addSubview:moviePlayer.view];

[moviePlayer setFullscreen:YES animated:YES];

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:40:05.883

`MPMoviePlayerController`符合`MPMediaPlayback` [协议](https://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMediaPlayback_protocol/Reference/Reference.html#//apple_ref/occ/intf/MPMediaPlayback)，它具有以下属性：

```
@property(nonatomic) float currentPlaybackRate 
```

# module - Fortran 模块的静态库

> ID：14190463
> 
> 赞同：8
> 
> 时间：2013-01-07T05:36:19.233
> 
> 标签：module, fortran

我不是一个非常专业的 Fortran 程序员，但现在我已经编写了许多子例程（在 Fortran 90 中），我必须将它们放在模块中（由其他子例程和程序中的“use”语句使用）以避免编写接口。我必须将这些模块与用 F77 编写的旧代码一起使用。我不希望编译器一次又一次地编译这些模块。所以我在编译这些模块后从“.o”文件创建了一个静态库：

`ar rc libmymath.a module1.o module2.o module3.o`

但是，我仍然需要保留这些模块的“.mod”文件，以便能够在我的代码中“使用”它们。

**我的问题：**是否可以将这些“.mod”文件打包在静态库存档“.a”中（就像我们对 .o 文件所做的那样），以便将所有内容都封装在单个文件静态库中？

PS：我的意思是在我的系统中的任何地方，它们都使用 gfortran 64 位。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-07T05:40:36.783

不，这是不可能的。

与 C/C++ 类似，`.mod`文件就像头文件。它描述了模块的内容，`USE <module>`与`#include <header>`.

这些 mod 文件是编译器（甚至通常是版本）特定的，并且是必需的，因为模块名称会破坏函数，因此需要一个查找表来查找结果函数名称。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-20T07:20:49.883

您只需将它们复制`.mod files`到您的`fortran finclude directory`.

例如，我正在使用`ubuntu`with `gcc -4.4.3`。我所做的是我已将库复制`librandom.a`到`/usr/local/lib`并将 mod 文件复制`random.mod`到`/usr/lib/gcc/i486-linux-gnu/finclude`.

现在我不必一次又一次地创建这些模组。我只需要用它`gfortran -o myfile myfile.f90 -lrandom`来编译我的程序并与库链接。当然，我必须在 myfile.f90 中使用“使用随机”。

干杯

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-02-20T19:41:47.947

一个简单的方法是编译

`gfortran myprog.f90 -I/path/to/mod_files -L /path/to/lib -lmylib`

`module.mod`目录中的位置`/path/to/mod_files`。`module.o`由_

`gfortran -c /path/to/mod_files/module.f90`

该库`mylib.a`是由

`ar rcv /path/to/lib/mylib.a /path/to/mod_files/module.o`

但是您仍然必须保留 .mod 文件。

我有同样的问题。

我希望我有所帮助。

# android - 如何在android的textview中缩进文本？

> ID：14190477
> 
> 赞同：1
> 
> 时间：2013-01-07T05:37:19.430
> 
> 标签：android, textview

我试图通过制作单独的段落来使文本更易于阅读。我尝试在字符串资源中的文本之前添加空格，但它不起作用。我想知道是否可以将属性添加到 textview 或字符串资源本身。

谢谢罗伯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:46:31.967

您可以将 \t 用于制表符 \n 用于换行符。它肯定有效。并将此属性写入您的 xml 中的 textview

```
android:singleLine="false" 
```

有关 Textview 的更多属性，请查看[此处](http://developer.android.com/reference/android/widget/TextView.html)

# c# - 将类中的属性直接绑定到 XAML

> ID：14190479
> 
> 赞同：7
> 
> 时间：2013-01-07T05:37:28.777
> 
> 标签：c#, wpf, mvvm

我很好奇，因为我正在学习更多关于与 WPF 绑定的知识，你必须设置数据上下文来简单地设置单个属性的 {binding path=} 吗？我只是好奇，因为我正在从背后的代码的 MVVM 示例中学习，看来我有一种情况我想绑定到不在 ViewModel 的数据上下文中的东西，我更喜欢中间类而不是背后的代码来引用捆绑。那么我可以为第二个数据上下文或类似的东西引用另一个类吗？或者我可以设置一个资源键并以某种方式引用该类吗？如果可能的话，我最终想访问一个单独的类中的属性。

例如：

```
<Window x:Class="WPFTestBinding.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:da="clr-namespace:WPFTestBinding.DataAccess"
        xmlns:main="clr-namespace:WPFTestBinding"
        Title="MainWindow" Height="350" Width="525">
    <Grid>
        <StackPanel>
            <Label Content="Here we go: "/>
            <TextBox x:Name="testtext" />
            <Label Height="50" />
            <!-- CODE BELOW WILL NOT WORK -->
            <TextBox Text="{Binding Path=TestID}" x:Name="testtext2" />
        </StackPanel>
    </Grid>
</Window> 
```

我知道我可以在后面的代码中设置 TextBox 的值，它适用于属性示例，但不适用于绑定。有没有办法对类的属性进行简单的绑定？我还没有找到一个简单的例子，我在网上搜索，在学习绑定时，大多数例子要么是非常密集的设置数据上下文集，要么是非常简单的静态资源示例。我只是好奇你是否可以使用 {Binding Path=} 并动态扩展其他一些属性来获取类中的代码。

其余代码非常简单：

```
namespace WPFTestBinding.DataAccess
{
    class Test
    {
        public string TestID { get { return "This is my test"; } }
    }
}

 public partial class MainWindow : Window
    {    
        public MainWindow()
        {
           InitializeComponent();

           DataAccess.Test t = new Test();

           testtext.Text = t.TestID;  // code behind works easily
         }
    } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-07T06:04:29.663

您可以像这样在 Xaml 中设置 DataContext：

```
<Window xmlns:da="clr-namespace:WPFTestBinding.DataAccess">
    <Window.DataContext>
        <da:Test/>
    <Window.DataContext>

    <TextBox Text="{Binding TestID}"/>
</Window> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-01-07T06:21:11.313

需要注意的几点：

*   您尝试绑定的属性`TestID`是只读的，因为它只有 get-accessor。因此，Binding应该是`OneWay`唯一的。
*   分配 DataContext：您可以分配持有模型的实例，例如 MainViewModel 与 ICollection<BaseViewModel> 属性（这将具有集合中的所有派生实例）或直接分配模型本身（如您的情况）。正如我在下面的代码中所做的那样。

**代码**

```
namespace WPFTestBinding.DataAccess
{
    class Test
    {
        public string TestID { get { return "This is my test"; } }
    }
}

public partial class MainWindow : Window
{    
    public MainWindow()
    {
       InitializeComponent();

       DataAccess.Test testInstance = new Test();
       this.DataContext = testInstance;
    }
} 
```

**XAML**

```
<TextBox Text="{Binding Path=TestID, Mode=OneWay}" x:Name="txtTestID" /> 
```

更多参考：

*   [MSDN - 数据绑定概述](http://msdn.microsoft.com/en-us/library/ms752347.aspx)
*   [MSDN - WPF 绑定模式](http://msdn.microsoft.com/en-us/library/system.windows.data.bindingmode.aspx)
*   [代码项目 - DataContext-in-WPF](http://www.codeproject.com/Articles/321899/DataContext-in-WPF)
*   [SO - DataContext 有什么用？](https://stackoverflow.com/questions/7262137/what-is-datacontext-for)
*   [SO - Datacontext 和 ItemSource 之间的区别](https://stackoverflow.com/questions/801233/difference-betwwen-datacontext-and-itemsource-in-wpf)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-01-07T06:00:16.250

未设置数据上下文。DataBinding 不知道从哪里获取 TestID。下面是正确的代码：

```
namespace WPFTestBinding.DataAccess
{
    class Test
    {
        public string TestID { get { return "This is my test"; } }
    }
}

public partial class MainWindow : Window
{    
    public MainWindow()
    {
       InitializeComponent();
       DataAccess.Test t = new Test();

       DataContext = t;           
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-05-18T11:15:38.293

1 - 您必须在InitializeComponent()**之前填充 Prop；**在 .cs 类中。

2 - 在窗口标签中使用它：DataContext="{Binding RelativeSource={RelativeSource Self}}"

3 - Label tag : Label Content="{Binding Currency}"

# python - Python QueryFrame 返回无，但 C++ 绑定有效

> ID：14190480
> 
> 赞同：1
> 
> 时间：2013-01-07T05:37:31.480
> 
> 标签：python, opencv

在 Ubuntu 10.04 上的 OpenCV 2.3.1（从源代码构建）中，C++ 片段

```
cvNamedWindow("Camera", 1);
CvCapture* capture = cvCaptureFromCAM(CV_CAP_ANY);
while (1) {
  IplImage* frame = cvQueryFrame(capture);
  cvShowImage("Camera", frame);
  key = cvWaitKey(10);
  ... 
```

将打开一个窗口并显示来自我的 ThinkPad 摄像头的视频，但是

```
import cv2.cv as cv
# or import cv
cv.NamedWindow("Camera", 1)
capture = cv.CaptureFromCAM(-1)
while True:
  frame = cv.QueryFrame(capture)
  cv.ShowImage("Camera", frame)
  key = cv.WaitKey(10)
  ... 
```

失败（窗口为灰色），因为`cv.QueryFrame`返回`None`（并且笔记本电脑摄像头上的灯不亮。）

知道这里可能发生了什么（以及我该如何补救）？`cv.QueryFrame`显示时有效`.jpg`，所以这似乎是相机问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:48:11.503

找到了一种解决方法，通过[opencv+python+linux+webcam = cannot capture frames](https://stackoverflow.com/questions/12717743/opencvpythonlinuxwebcam-cannot-capture-frames)，我将留在这里以供后代使用。

install `lib4vl`( `apt-get install libv4l-dev`) 在`cmake`构建步骤中`OpenCV`，通过`-D WITH_4VL=ON`。（我一直在关闭它。）

为什么 C++ 没有`lib4vl`但 Python 绑定要求它与网络摄像头一起工作是一个谜，也许一些 OpenCV 知识渊博的人可以解释。我很想听听解释。

# php - PHP中的日期时间计算

> ID：14190481
> 
> 赞同：2
> 
> 时间：2013-01-07T05:37:32.447
> 
> 标签：php, datetime, timezone

我陷入了php中时间计算的问题。我会用我的例子告诉你：

我在网络服务器上托管了一个问候网站，该服务器位于印度。这意味着服务器在印度时区运行。现在让我们认为今天的日期是“01/01/2013”​​，我想在第二天 02/01/2013 早上 0:00（12:00AM）向英国发送问候。如果我提交我的贺卡，我的 php 脚本将按印度时区发送这张贺卡，这意味着当印度凌晨 12 点时，脚本将运行并发送贺卡，英国将在确切时间前 5 小时收到这张贺卡。我知道如何获得我使用时间偏移来获得时间的任何国家的正确时间。

`$time = strtotime('H:m:s'.(time() - (serverOffset - ukOffset)))`

那么将时间设置为 00:00AM 或当前时间剩余多少小时到 00:00AM 的方法是什么。有什么手续吗？

**[新更新]**

**好的，我得到了解决方案**

```
$SERVER_OFFSET = 19800; //INDIA +5.50
$PARIS_TZ_HOUR = 1.0; //FRANCE-PARIS +1.00
$NEW_OFFSET = ($PARIS_TZ_HOUR * (60*60)); //new_offset 3600
$MINUTES = ($SERVER_OFFSET - $NEW_OFFSET)/60; 

// Lets date is: 2013-01-20 00:00:00
echo date('Y-m-d H:i:s', strtotime($MINUTES.'minutes', strtotime('2013-01-19'))); 
```

**简单来说：**
**（19800-3600）/60 = 270（分钟）**

270 分钟，这意味着 4.5 小时
所以当印度时间是 2013-01-20 00:00
那么它将是 2013-01-19 19:30:00 在法国
或者
如果印度时间是 2013-01-20 04:30 它会2013-01-20 00:00 在法国 :)
我使用分钟而不是添加小时，因为分钟会给你更准确的结果而不是小时。

就是这样，希望对大家有所帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:48:25.983

您始终可以使用 date_default_timezone_set() 设置时区，如下所示：

```
date_default_timezone_set('Europe/London'); 
```

但如果您不想这样做，您可以通过执行以下操作获取 00:00am (12am) 的时间戳：

```
$ukOffset = 60*60*5.5; // UK is 5 hours 30 mins behind India's time
$midnight = strtotime('7 January 2013');
$midnightUK = $midnight-$ukOffset; 
```

或者，如果您想查看从现在到现在还剩下多少时间，您可以执行以下操作：

```
$ukOffset = 60*60*5.5;
$midnight = strtotime('7 January 2013');
$midnightUK = $midnight-$ukOffset;
$difference = $midnightUK - (time()-$ukOffset); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:02:57.313

在 PHP 中，有不止一种方法可以实现您正在寻找的东西。

1）如果您特别寻找英国，您可以使用`gmdate`功能。[http://php.net/manual/en/function.gmdate.php](http://php.net/manual/en/function.gmdate.php)

2) 使用 DateTime 类的 setTimezone 方法。[http://php.net/manual/en/datetime.settimezone.php](http://php.net/manual/en/datetime.settimezone.php)

3) 使用 date_default_timezone_set 方法。[http://php.net/manual/en/function.date-default-timezone-set.php](http://php.net/manual/en/function.date-default-timezone-set.php)

您将在 php 在线手册中找到很好的示例，并且 2) 和 3) 都应该有助于您设置任何可能的时区并在指定时间触发事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:46:13.487

你为什么不在你的卡片脚本中设置你想在运行时使用的时区呢？

在脚本的顶部...

```
date_default_timezone_set('Europe/London'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:48:03.490

假设您的服务器比所需时区晚 5 小时，您可以执行类似的操作。

```
$date = date('h:i:s A', strtotime($today)+(60*60*5)); // $today is today date 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-07T14:36:03.207

使用 PHP 的 DateTime 类使这个问题变得微不足道。我设置了这段代码来演示：-

```
date_default_timezone_set('Asia/Kolkata');//As my dev machine is on GMT, you probably don't need this.
$date = new DateTime();
var_dump($date);
$date->setTimezone(new DateTimeZone('Europe/London'));
var_dump($date); 
```

输出：-

```
object(DateTime)[1]
  public 'date' => string '2013-01-07 19:44:08' (length=19)
  public 'timezone_type' => int 3
  public 'timezone' => string 'Asia/Kolkata' (length=12)
object(DateTime)[1]
  public 'date' => string '2013-01-07 14:14:08' (length=19)
  public 'timezone_type' => int 3
  public 'timezone' => string 'Europe/London' (length=13) 
```

基本上，这表明您可以使用服务器时间并将其直接与英国时间进行比较，以便在正确的时间发送您的消息。

有关详细信息，请参阅[DateTime^(文档)手册](http://php.net/DateTime)。

# perl - perl 中的命名空间、包和模块有什么区别？

> ID：14190483
> 
> 赞同：11
> 
> 时间：2013-01-07T05:37:45.583
> 
> 标签：perl

命名空间或包是否相同？我在只有包的地方使用 Perl。我知道还有其他编程语言也包含模块。

有什么不同？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-01-07T05:53:35.673

该`package`指令设置命名空间。因此，命名空间也称为包。

Perl 没有正式的模块定义。有很多差异，但以下内容适用于绝大多数模块：

*   带有`.pm`扩展名的文件。
*   该文件包含一个`package`涵盖整个代码的声明。（但见下文。）
*   该文件是根据该命名空间命名的`package`。
*   该文件应在执行时返回一个真值。
*   该文件预计每个解释器执行不超过一次。

遇到`.pm`包含多个包的文件并不少见。无论是单个模块、多个模块还是两者都有，还有待商榷。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-01-07T06:13:08.817

`Namespace`是一个通用计算术语，表示一组不同标识符的容器。同一个标识符可以独立出现在不同的命名空间中并引用不同的对象，一个明确标识对象的完全限定标识符由命名空间加上标识符组成。

Perl 使用[`package`](http://perldoc.perl.org/functions/package.html)关键字实现命名空间。

Perl*模块*完全是另一回事。它是一段 Perl 代码，可以使用`use`关键字合并到任何程序中。文件名应该以`.pm`- for Perl **M** **odule**结尾，并且它包含的代码应该有一个使用与文件名等效的包名的语句，包括它的路径。例如，写在一个名为的文件中的模块应该有一个类似.**`package``My/Useful/Module.pm``package``package My::Useful::Module`**

 **您可能一直在想的是一个*类*，它又是一个通用的计算术语，这一次意味着一种面向对象的数据。Perl 使用它的包作为类名，面向对象的模块将有一个*构造*子程序——通常被称为`new`——它会返回一个对数据的引用，[`blessed`](http://perldoc.perl.org/functions/bless.html)以使其以面向对象的方式运行。绝不是所有 Perl 模块都是面向对象的：有些可以是简单的子程序库。**

# android - Sencha touch2 配置问题.sencha 命令未找到

> ID：14190486
> 
> 赞同：0
> 
> 时间：2013-01-07T05:38:10.367
> 
> 标签：android, cordova, mobile, sencha-touch

我对电话间隙很陌生。我使用 windows vista 32 位。我面临在电话间隙中配置 sencha touch2 的问题。

[从这里链接](http://www.sencha.com/products/touch/download/)下载 sencha touch sdk 和工具。

当我在命令提示符中尝试命令“sencha generate app”时。我得到“sencha is not reoznise as command”

请帮助。我无法创建应用程序，除非并且直到 sencha 命令在我的系统上运行。我无法从这里移动前言。

谢谢你的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T07:25:18.663

根据 Sencha 文档，可能的解决方案是：

运行 sencha 时，如果在 OS X / Linux 上出现“sencha: command not found”或“'sencha' 未被识别为内部或外部命令、可运行程序或批处理文件”的错误消息。在 Windows 上，请按照以下步骤进行故障排除：

关闭所有现有的终端/命令提示符窗口并重新打开它们。

确保正确安装 Sencha SDK Tools： 安装目录存在。默认情况下，安装路径在 OS X 上为 /Applications/SenchaSDKTools-{version}，在 Linux 上为 /opt/SenchaSDKTools-{version}，C:\Program Files\SenchaSDKTools-{version}

SDK Tools 目录的路径被添加到系统的 PATH 环境变量中。从终端运行 echo $PATH（在 Windows 上为 echo %PATH%）。SDK 工具目录应显示在输出的一部分中。如果不是这种情况，请将其手动添加到您的 PATH 中。环境变量 SENCHA_SDK_TOOLS_{version} 设置，值为上述安装目录的绝对路径。例如：如果安装的版本是'2.0.0-beta2'，则必须设置一个SENCHA_SDK_TOOLS_2_0_0_BETA2。从终端运行 echo $SENCHA_SDK_TOOLS_2_0_0_BETA2（在 Windows 上为 echo %SENCHA_SDK_TOOLS_2_0_0_BETA2%）。如果输出为空，请手动设置环境变量。

请检查以下链接中的**故障排除标题**

[http://docs.sencha.com/touch/2-0/#!/guide/command](http://docs.sencha.com/touch/2-0/#!/guide/command)

**编辑：**

检查这些答案：

[[警告] 当前工作目录（C:\xampp\htdocs\sencha 文件夹）不是可识别的 Sencha SDK 或应用程序文件夹。](https://stackoverflow.com/questions/13291742/warn-the-current-working-directory-c-xampp-htdocs-sencha-folder-is-not-a-re?lq=1)

[SenchaSDKTools-2.0.0-beta3-windows 命令不起作用](https://stackoverflow.com/questions/11282455/senchasdktools-2-0-0-beta3-windows-command-not-working)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-28T20:54:55.350

你可能安装了 sencha sdk 但没有安装 Sencha Cmd

[http://www.sencha.com/products/sencha-cmd/download](http://www.sencha.com/products/sencha-cmd/download)

去这里...下载并安装 Sencha Cmd

# emacs - 将注释设置为与所有表单相同的缩进级别

> ID：14190488
> 
> 赞同：11
> 
> 时间：2013-01-07T05:38:19.703
> 
> 标签：emacs, elisp, indentation

默认情况下，注释的缩进级别对我来说似乎很陌生。

```
(defun example ()
  just
  some
                ; a comment
  words) 
```

如何调整它以使第一个分号与常规 Lisp 形式垂直对齐？

```
(defun example ()
  just
  some
  ; a comment
  words) 
```

我可以发现默认机制通过将注释与固定列对齐（可通过 查询`M-x comment-set-column`）来工作，并且可以修改`comment-indent-function`变量（将其设置为 nil 部分解决了我的问题）。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-07T08:56:47.450

根据使用的分号数量，Emacs 以不同的方式缩进 elisp 中的注释。如果你使用两个，你应该得到你想要的缩进：

```
(defun test-single ()
                                        ; A single semicolon
  nil)

(defun test-double ()
  ;; Do two semicolons make a colon ;)
  nil) 
```

此外，三个分号`;;;`根本不会重新缩进。通常，它们用于标记源文件中的新主要部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T13:19:06.547

您可以自定义注释缩进功能

代替 comment-indent-default 使用你自己的函数。

通过用 (save-excursion (forward-line -1)(current-indentation)) 替换最后一行 `comment-column' 来编写新的

应该提供一个起点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-01T19:10:22.480

如果您从中删除单个分号注释的大小写，`lisp-indent-line`它将按照您的意愿行事。

我已经在下面的代码中删除了它，你可以将它添加到你的 emacs 配置中：

```
(defun lisp-indent-line (&optional _whole-exp)
  "Indent current line as Lisp code.
With argument, indent any additional lines of the same expression
rigidly along with this one.
Modified to indent single semicolon comments like double semicolon comments"
  (interactive "P")
  (let ((indent (calculate-lisp-indent)) shift-amt
    (pos (- (point-max) (point)))
    (beg (progn (beginning-of-line) (point))))
    (skip-chars-forward " \t")
    (if (or (null indent) (looking-at "\\s<\\s<\\s<"))
    ;; Don't alter indentation of a ;;; comment line
    ;; or a line that starts in a string.
        ;; FIXME: inconsistency: comment-indent moves ;;; to column 0.
    (goto-char (- (point-max) pos))
      (if (listp indent) (setq indent (car indent)))
      (setq shift-amt (- indent (current-column)))
      (if (zerop shift-amt)
      nil
    (delete-region beg (point))
    (indent-to indent))
      ;; If initial point was within line's indentation,
      ;; position after the indentation.  Else stay at same point in text.
      (if (> (- (point-max) pos) (point))
      (goto-char (- (point-max) pos)))))) 
```

# jquery - 如何在ajax调用成功时重新加载jqgrid

> ID：14190494
> 
> 赞同：0
> 
> 时间：2013-01-07T05:38:38.230
> 
> 标签：jquery, json, jqgrid, struts2, struts2-jquery

我正在使用 struts 2.3.7、struts2-jquery-grid-plugin-3.5.0 和 hibernate 3.6。我想在进行 ajax 调用后重新加载 jqgrid。

我有一个包含三个按钮的 jDialog 框，单击按钮后，我们需要执行一些操作，例如 Ajax 调用，然后我必须重新加载 jqgrid 如何实现。

我的 jDialog

```
<sj:dialog 
         id="mybuttondialog"
        buttons="{
                'Approove':function() { approoveButton(); },
                'Cancel':function() { cancelButton(); },
                'Deny':function() { denyButton(); }
                }"
        autoOpen="false"
        modal="true"
        title="Assign Issues"
        width="375"
        resizable="false"
        draggable="true"
        closeTopics="closeThisDialog"
> 
```

我的 jqGrid 是

```
 <div id="targetDivToRefresh">
    <sjg:grid
        id="gridtable"
        caption="Issue-Summary"
        dataType="json"
        href="%{remoteurl}"
        pager="true"
        gridModel="gridModel"
        rowList="10,15,20"
        rowNum="15"
        rownumbers="true"
        reloadTopics="reloadGrid"
    >
        <sjg:gridColumn name="issue_id"  id="issueId"  index="id" title="Issue-ID" formatter="integer"  sortable="false"/>
        <sjg:gridColumn name="issue_description" index="id" title="Issue-Details"  sortable="false"/>
        <sjg:gridColumn name="issue_raised_date" index="date" title="Issue-Date"  formatter="date"  sortable="false"/>

        <sjg:gridColumn name="issue_id"   index="issues" title="Action" sortable="false" formatter="formatLink"/>
        <sjg:gridColumn name="assigned"  index="assigned" title="Assigned To"  sortable="false"/>
    </sjg:grid>
        </div> 
```

单击**“Acton”**列后，jDialog 框打开，我必须单击任何按钮，即 Approove、Deny 按钮来执行一些操作。完成 ajax 调用后，我必须重新加载 jqgrid。我使用 customFormatter 作为

```
function formatLink(cellvalue, options, rowObject) {

                      var issueId=rowObject.issue_id;

                        return "<a href='#' onClick='javascript:openDialog("+issueId+")'>" + issueId+ "</a>";

                }
                function openDialog(issue) {

                        global_id=issue;
                        $("#mybuttondialog").dialog().text('Your are going to assign Issue-Id:' + issue);
                        $("#mybuttondialog").dialog('open');

                } 
```

但是我尝试过这样的事情来重新加载网格：

```
$("#gridtable").trigger("reloadGrid"); // where #gridtable is my jqGrid idName 
```

请帮帮我，我是第一次使用jqgrid。

```
Edited Section 
```

实际上 ajax 调用处于演示阶段，但是代码如下。

```
function approoveButton()
        {
            $("#mybuttondialog").load("<s:property value='issueTrackerUrl'/>?id="+global_id);

        } 
```

这里的 issueTrackerUrl 是一个成功进行 ajax 调用的操作。在这里我重新加载 jqgrid

```
 function reload() 
        {
              $("#gridtable").trigger("reloadGrid"); 
        } 
```

![在此处输入图像描述](../Images/2f12e9e7982164a10568f0fff900ff74.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:43:07.287

您需要在 ajax 调用成功时触发重新加载功能，然后只有您可以重新加载网格。

```
$("#mybuttondialog").load("<s:property value='issueTrackerUrl'/>?id="+global_id,  function(responseText, statusText, xhr)
        {
                if(statusText == "success")
                        alert("Successfully loaded the content!");
                       $("#gridtable").trigger("reloadGrid");
                if(statusText == "error")
                        alert("An error occurred: " + xhr.status + " - " + xhr.statusText);
        }); 
```

在ajax成功调用那些行。issueTrackerUrl 应该返回成功或错误。

# c# - 如何将 Visual Studio 加载项转换为扩展程序？

> ID：14190496
> 
> 赞同：1
> 
> 时间：2013-01-07T05:38:51.333
> 
> 标签：c#, .net, visual-studio-2010, visual-studio-addins, visual-studio-extensions

我想知道是否可以轻松地将 Visual Studio 插件转换为 Visual Studio 扩展？该插件适用于 VS 2010。我想知道他们是否是这样做的特定方式，是否值得付出努力。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:10:43.177

一切都取决于您的加载项的功能和编写方式。将改变的主要代码是如何连接到 IDE 的各个部分；例如，如果您在菜单下公开一个命令，则用于连接到该菜单项的代码将发生变化。描述您的加载项的功能可能会在此处提供一些更好的建议。

没有“神奇”的转换工具；您可能只想使用 SDK 创建一个新的扩展项目，然后开始将您的代码迁移到它。

扩展模型绝对是“较新”的模型，也是 Visual Studio 可扩展性的发展方向；实际上拥有 .vsix 部署模型可以非常方便地部署您的扩展。

# python - 附加到子列表 附加到每个子列表

> ID：14190513
> 
> 赞同：1
> 
> 时间：2013-01-07T05:40:15.127
> 
> 标签：python, list, append

我正在编写一个包含 10 个桶列表的简单哈希表。该索引是使用内置计算的`hash()`，然后对表大小取模。但是，当我尝试将对象附加到该索引处的存储桶列表时，它会被附加到每个存储桶列表中。我尝试过以不同的方式定义 add_HT，但我一直得到相同的结果。我究竟做错了什么？

```
size = 10
HT = [ [] ] * size

def add_HT(data):
    index = hash(data) % size
    HT[index].append(data)

print HT

[[], [], [], [], [], [], [], [], [], []]

add_HT('hello')

[['hello'], ['hello'], ['hello'], ['hello'], ['hello'], ['hello'], ['hello'], ['hello'], ['hello'], ['hello']] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T05:42:55.313

`HT = [ [] ] * size`使`size`多个指针指向**同一个列表**。`add_HT`问题不在这里。您需要定义`HT`为`[[] for i in xrange(size)]`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T05:43:03.657

您将定义`HT`为对单个列表的十个引用。相反，像这样定义它：

```
HT = [[] for _ in xrange(size)] 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-07T06:05:44.380

正如 Volatility 和 kindall 已经解释的那样，`HT = [ [] ] * size`制作 10 个相同的 empty 副本`list`，而不是 10 个不同的 empty `list`s。`list`身份总是会咬新程序员——有时甚至会咬专家。

他们已经向您展示了如何解决问题并获得 10 个不同的 empty `list`s。但是还有另一种方法可以解决这个问题。如果您可以重写您的程序以完全不改变`list`s，那么它们是否相同并不重要：

```
def add_HT(data):
    index = hash(data) % size
    HT[index] = HT[index] + [data] 
```

现在：

```
>>> add_HT('hello')
>>> add_HT('goodbye')
>>> HT
[['goodbye'], ['hello'], [], [], [], [], [], [], [], []] 
```

这里发生的情况是，您每次追加时都会创建一个新存储桶，并替换旧存储桶，因此这些存储桶是不可变的。（您可能希望将它们存储为`tuple`s 而不是`list`s，以确保您不会意外地改变它们。）

您可以更进一步，不仅使每个`HT[i]`不可变，而且使其`HT`自身：

```
def add_HT(data):
    global HT
    index = hash(data) % size
    HT = [bucket if i != index else bucket + [data] for i, bucket in enumerate(HT)] 
```

有时使事物不可变会使代码更简单，有时更复杂。（在这种情况下，我认为第一个不可变版本与可变版本一样简单，但第二个版本的可读性要差得多。）有时它使代码更快，有时更慢。（在这种情况下，快速测试显示第一个速度大致相同，但第二个速度慢 50 倍，并且使用更多内存。另一方面，使用 PyPy 而不是 CPython，它们分别是 15% 和 30%较慢，分别……）但它总是更容易推理——你不必担心对象身份。除非它使事情更容易编写、更容易阅读、更快，否则你必须考虑权衡。但值得知道如何去做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T05:47:56.143

这是正确的版本：

```
size = 10
HT = [ [] for x in range(size)]

def add_HT(data):
    index = hash(data) % size
    HT[index].append(data)

print HT

add_HT('hello')
print HT 
```

输出：

```
>>> 
[[], [], [], [], [], [], [], [], [], []]
[[], ['hello'], [], [], [], [], [], [], [], []]
>>> 
```

# c - 显式关闭消息队列最佳实践

> ID：14190514
> 
> 赞同：3
> 
> 时间：2013-01-07T05:40:27.930
> 
> 标签：c, message-queue

```
gcc 4.72 c89 
```

我使用这本书作为做 mq_* posix 消息队列的参考。

```
The Linux Programming Interface by Michael Kerrisk page 1071 
```

但是，在这个示例片段中，我注意到他们打开了一个消息队列，从队列中获取了一些属性。但是，他们未能关闭它。

这不是不好的做法，因为如果所有消息队列描述符都没有返回给操作系统，可能会发生资源泄漏吗？我猜如果进程终止时会自动将所有资源返回给操作系统。但是，如果一个进程在服务器上 24/7 运行，那么这可能会产生重大影响。

非常感谢您的任何建议，

```
int main(int argc, char *argv[])
{
    mqd_t mqd;
    struct mq_attr attr;
    if (argc != 2 || strcmp(argv[1], "--help") == 0)
        usageErr("%s mq-name\n", argv[0]);

    mqd = mq_open(argv[1], O_RDONLY);
    if (mqd == (mqd_t) -1)
        errExit("mq_open");

    if (mq_getattr(mqd, &attr) == -1)
        errExit("mq_getattr");

    printf("Maximum # of messages on queue: %ld\n", attr.mq_maxmsg);
    printf("Maximum message size: %ld\n", attr.mq_msgsize);
    printf("# of messages currently on queue: %ld\n", attr.mq_curmsgs);

    exit(EXIT_SUCCESS);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:46:50.807

是的，这是一种不好的做法。
但是一旦进程退出，操作系统会回收所有分配给进程的资源。
在这种情况下，资源仅在队列使用结束和程序结束之间的很短的时间内泄漏
，这非常小，因此无关紧要。

如果进程持续运行，则**必须**清除所有显式获取的资源，否则会导致**资源泄漏**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-09T09:21:41.483

更令人担忧的是消息队列本身具有内核持久性。`mq_unlink(3)`直到您通过调用或重新启动系统将其删除后，才会删除消息队列。可以为消息队列分配多少内存有一个与用户 ID 相关的限制，这是由`mq_open(3)`-see `getrlimit(2)`/ `setrlimit(2)`manual page, resource强制执行的`RLIMIT_MSGQUEUE`。在现代台式机或服务器机器中，就总可用内存而言，默认限制相对较低（`ulimit -q`为`819200`我的现成 Ubuntu 12.04 /`x86_64`安装 16Gb RAM 内存提供），但可能存在不清理未使用的消息队列的情况可能会给用户造成故障，因为内核将拒绝允许打开更多的消息队列。

请参阅[`mq_overview(7)`](http://man7.org/linux/man-pages/man7/mq_overview.7.html) 手册页以供参考（包括指向上述手册页的链接）。

# android - AndEngine AnimatedSprite 不显示

> ID：14190521
> 
> 赞同：3
> 
> 时间：2013-01-07T05:40:44.693
> 
> 标签：android, andengine

我刚开始使用动画精灵并添加了一个，但它似乎不起作用，任何帮助将不胜感激。

它只是将精灵显示为一个黑盒子。但背景会显示出来。我发现如果我不使用`(bi~).load();`它会显示为一个黑盒子，但它有一个`load();`.

## 原木猫

```
01-07 10:47:48.049: W/System.err(2879): org.andengine.opengl.texture.atlas.buildable.builder.ITextureAtlasBuilder$TextureAtlasBuilderException: Could not build: 'AssetBitmapTextureAtlasSource(gfx/face_hexagon_tiled.png)' into: 'BitmapTextureAtlas'.
01-07 10:47:48.049: W/System.err(2879):     at org.andengine.opengl.texture.atlas.buildable.builder.BlackPawnTextureAtlasBuilder.build(BlackPawnTextureAtlasBuilder.java:87)
01-07 10:47:48.049: W/System.err(2879):     at org.andengine.opengl.texture.atlas.buildable.BuildableTextureAtlas.build(BuildableTextureAtlas.java:236)
01-07 10:47:48.059: W/System.err(2879):     at com.example.pilet.Game.onCreateResources(Game.java:48)
01-07 10:47:48.059: W/System.err(2879):     at org.andengine.ui.activity.BaseGameActivity.onCreateGame(BaseGameActivity.java:181)
01-07 10:47:48.059: W/System.err(2879):     at org.andengine.ui.activity.BaseGameActivity.onSurfaceCreated(BaseGameActivity.java:110)
01-07 10:47:48.059: W/System.err(2879):     at org.andengine.opengl.view.EngineRenderer.onSurfaceCreated(EngineRenderer.java:80)
01-07 10:47:48.059: W/System.err(2879):     at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1494)
01-07 10:47:48.059: W/System.err(2879):     at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240) 
```

## 我的课

```
private Camera mCamera;
private int c_width = 640;
private int c_height = 480;
private BuildableBitmapTextureAtlas mBitmapTextureAtlas;
private TiledTextureRegion pi;
private Scene mScene;

@Override
public EngineOptions onCreateEngineOptions() {
    mCamera = new Camera(0, 0, c_width, c_height);
    EngineOptions options = new EngineOptions(true,
            ScreenOrientation.LANDSCAPE_FIXED, new RatioResolutionPolicy(
                    c_width, c_height), mCamera);
    return options;
}

@Override
public void onCreateResources(
        OnCreateResourcesCallback pOnCreateResourcesCallback)
        throws Exception {
    BitmapTextureAtlasTextureRegionFactory.setAssetBasePath("gfx/");
    this.mBitmapTextureAtlas = new BuildableBitmapTextureAtlas(
            this.getTextureManager(), 32, 32, TextureOptions.NEAREST);
    this.pi = BitmapTextureAtlasTextureRegionFactory.createTiledFromAsset(
            this.mBitmapTextureAtlas, this, "face_box_tiled.png", 2, 1);
    try {
        this.mBitmapTextureAtlas
                .build(new BlackPawnTextureAtlasBuilder<IBitmapTextureAtlasSource, BitmapTextureAtlas>(
                        0, 0, 1));
        this.mBitmapTextureAtlas.load();
    } catch (Exception e) {
        Debug.e(e);
    }

    pOnCreateResourcesCallback.onCreateResourcesFinished();
}

@Override
public void onCreateScene(OnCreateSceneCallback pOnCreateSceneCallback)
        throws Exception {
    this.mScene = new Scene();
    this.mScene.setBackground(new Background(0.82f, 0.91f, 0.7121f));
    pOnCreateSceneCallback.onCreateSceneFinished(this.mScene);
}

@Override
public void onPopulateScene(Scene pScene,
        OnPopulateSceneCallback pOnPopulateSceneCallback) throws Exception {
    final AnimatedSprite piA = new AnimatedSprite(32, 32, pi,
            this.getVertexBufferObjectManager());
    piA.animate(100);
    this.mScene.attachChild(piA);

    pOnPopulateSceneCallback.onPopulateSceneFinished();
}

} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-31T10:51:06.793

看起来图集上没有足够的空间用于您的精灵纹理。尝试增加您的地图集大小，使其大于或等于您的精灵大小+填充。

# git - 在 git 存储库中提交未提交的文件

> ID：14190526
> 
> 赞同：0
> 
> 时间：2013-01-07T05:41:07.923
> 
> 标签：git, version-control

我是 GIT 的初学者，我的存储库在 BitBucket 上。几天前，我开始将代码提交到存储库。我不确定我在终端中使用的命令，但在我关闭终端之后它没有显示任何进度。

现在，我注意到我的存储库中有一部分代码。我必须上传一些上次没有进入存储库的文件。什么命令用于此目的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:54:08.670

在开始使用工具之前，最好先研究一下它。您至少应该阅读[git 教程](http://www.kernel.org/pub/software/scm/git/docs/gittutorial.html)、[git 指南](http://www.kernel.org/pub/software/scm/git/docs/everyday.html)，甚至可能是[git 词汇表](http://www.kernel.org/pub/software/scm/git/docs/gitglossary.html)，以了解您经常遇到的术语的真正含义。

简答：`git add --help`,,,`git commit --help``git push --help`

# java - 如何在项目级别配置 log4j？

> ID：14190529
> 
> 赞同：4
> 
> 时间：2013-01-07T05:41:23.030
> 
> 标签：java, log4j

我有一个 java 项目（注意：- 它不是一个 web 项目）。我正在使用 log4j 来记录消息。

目前我正在执行的步骤如下：

*   在项目级别创建了一个 log4j.properties 文件。

*   声明的 Logger logger = Logger.getLogger(MyClass.class);

*   然后使用 -> PropertyConfigurator.configure("log4j.properties"); 配置属性

*   然后使用 logger.debug("message"); 记录我的消息。

但是我觉得这种方法的问题是我必须在我的项目中的所有类中做同样的事情，即从声明开始的所有步骤`Logger logger`。

有什么方法可以让我在项目中只在一个地方配置一次 logger 变量，然后只使用声明的 logger 变量来记录消息？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T06:03:46.043

恕我直言，您不应该有一个用于正常记录目的的通用记录器。每个类都应该通过`Logger logger = Logger.getLogger(MyClass.class);`. 当您的类文件很少时，这似乎是一种开销，但最好遵循这一点。
通过遵循这种记录器模式，您可以灵活地在配置级别（在 log4j.properties 中）控制任何级别（整个应用程序或任何包或任何类）的日志记录级别。

你可以`log4j.properties`输入你的类路径，log4j 会自动拾取它。
`PropertyConfigurator.configure("log4j.properties");`不需要。

尽管如此，如果您想这样做，您可以创建自己的记录器类`MyLogger`，`static`其中包含对记录器的实际调用的记录方法。然后从您的个人课程中，您可以致电`MyLogger.log()`或`MyLogger.debug()`登录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:49:12.047

可以通过以下方式配置

```
# Set root logger level to DEBUG and its only appender to A1.
log4j.rootLogger=DEBUG, A1

# A1 is set to be a ConsoleAppender.
log4j.appender.A1=org.apache.log4j.ConsoleAppender

# A1 uses PatternLayout.
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n 
```

# jquery - 独立的 jQuery 拼写检查器存在吗？

> ID：14190534
> 
> 赞同：0
> 
> 时间：2013-01-07T05:41:58.787
> 
> 标签：jquery, asp.net, asp.net-mvc, asp.net-mvc-3

是否存在独立的 jQuery 拼写检查器？即，不使用 ajax/webservices/assembly。有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T05:45:28.163

如果您正在寻找客户端拼写检查库，我在我的 mvc 项目中使用了typo.js：

[http://www.chrisfinke.com/2011/03/31/announcing-typo-js-client-side-javascript-spellchecking/](http://www.chrisfinke.com/2011/03/31/announcing-typo-js-client-side-javascript-spellchecking/)

[https://github.com/cfinke/Typo.js](https://github.com/cfinke/Typo.js)

# android - Flurry 不会在 android 中记录任何内容

> ID：14190535
> 
> 赞同：5
> 
> 时间：2013-01-07T05:41:58.770
> 
> 标签：android, analytics, flurry

我之前实施过flurry。它工作正常。今天有了新版本的 sdk，flurry 没有在 logcat 中记录任何东西。

我的代码

Flurry.java

```
public class Flurry {

private static final String API_KEY = "xxxxxxxxxxxxxxxxxxxxxx";
private static Context mContext;

public static void init(Context c) {
    mContext = c;
}

public static Context getContext() {
    return mContext;
}

public static void onStartSession() {
    if (mContext != null) {
        Debug.e("", "startng flurry session...");

        FlurryAgent.setUserId(Utils.getUserId(mContext));
        FlurryAgent.setVersionName(Utils.getAppVersion(mContext));
        FlurryAgent.setLogEnabled(true);
        FlurryAgent.setLogEvents(true);
        FlurryAgent.onStartSession(mContext, API_KEY);
        // FlurryAgent.initializeAds(mContext);
    } else {
        Debug.e("", "mContext is null");
    }
}

public static void onEndSession() {
    if (mContext != null) {
        Debug.e("", "ending flurry session...");
        FlurryAgent.onEndSession(mContext);
    }
}
} 
```

在活动中

```
public class MainActivity extends TabActivity implements OnTabChangeListener {
/** Called when the activity is first created. */

TabHost tabHost;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.main);
    Flurry.init(this);
    Flurry.onStartSession();        

    setTabs();

}

@Override
protected void onDestroy() {
    Flurry.onEndSession();
    super.onDestroy();
}
} 
```

在 manifest.xml

```
<uses-permission android:name="android.permission.INTERNET" /> 
```

当我在它向我显示这样的日志之前实施时，但今天在另一个应用程序中实施时，我没有得到任何混乱的日志......可能是什么问题？

```
 4359            FlurryAgent  D  Initializing Flurry session
 4359            FlurryAgent  D  New session
 4359          TitleActivity  V  ::onResume::
 4359               Settings  W  Setting android_id has moved from android.provider.Settings.System to android.provider.Settings.Secure, returning read-only value.
 4359            FlurryAgent  I  loading persistent data: /data/data/com.xxxxxx/files/.flurryagent.-6ee7b2a3
  4359            FlurryAgent  D  Loading API key: ****************xxxx
 4359            FlurryAgent  D  Loading session reports
 4359            FlurryAgent  D  Persistent file loaded
 4359            FlurryAgent  D  generating report
 4359            FlurryAgent  D  Sending report to: http://data.flurry.com/aap.do
 4359            FlurryAgent  D  Report successful
 4359            FlurryAgent  D  Processing report response
 4359            FlurryAgent  D  Done sending initial agent report 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-10T11:35:45.433

我在使用 Flurry Analytics SDK v3.1.0（本周从 Flurry 创建和下载）时收到日志消息。

以下是配置 Flurry 以将消息写入 Android 日志的相关代码：

```
@Override
protected void onStart() {
    super.onStart();
    FlurryAgent.onStartSession(this, FLURRY_API_KEY);
    FlurryAgent.setLogEnabled(true);
    FlurryAgent.setLogEvents(true);
    FlurryAgent.setLogLevel(Log.VERBOSE);

}

@Override
protected void onStop() {
    super.onStop();
    FlurryAgent.onEndSession(this);
} 
```

这是证据

```
01-10 11:35:23.310: I/FlurryAgent(3915): loading persistent data: /data/data/com.ader/files/.flurryagent.624f614c
01-10 11:35:23.310: D/FlurryAgent(3915): Loading API key: ****************RY7Z
01-10 11:35:23.320: D/FlurryAgent(3915): Loading phoneId: AND2001447e7dcd4d3b
01-10 11:35:23.320: D/FlurryAgent(3915): Loading session reports
01-10 11:35:23.320: D/FlurryAgent(3915): Session report added: 1
01-10 11:35:23.320: D/FlurryAgent(3915): Session report added: 2
01-10 11:35:23.320: D/FlurryAgent(3915): Persistent file loaded
01-10 11:35:23.560: D/FlurryAgent(3915): generating report
01-10 11:35:23.570: D/FlurryAgent(3915): Sending report to: http://data.flurry.com/aap.do
01-10 11:35:29.610: D/FlurryAgent(3915): Report successful
01-10 11:35:29.610: D/FlurryAgent(3915): Done sending initial agent report 
```

我认为诀窍是您没有以下电话：

```
FlurryAgent.setLogLevel(Log.VERBOSE); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T18:57:31.703

这对我有用：

```
@Override
protected void onStart() {
    super.onStart();
    FlurryAgent.setLogEnabled(true);
    FlurryAgent.setLogLevel(Log.VERBOSE);
    FlurryAgent.onStartSession(this, "XXXXXXXXXXXXXXX");
    //System.out.println("Started Flurry");
}

@Override
protected void onStop() {
    super.onStop();     
    FlurryAgent.onEndSession(this);
    //System.out.println("Stopped Flurry");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-16T11:36:23.047

对于那些最近会遇到像我一样的问题的人。

```
FlurryAgent.setLogEnabled(true);
FlurryAgent.setLogEvents(true);
FlurryAgent.setLogLevel(Log.VERBOSE);
// must be last one
FlurryAgent.init(context, "some key"); 
```

我在扩展应用程序的类中初始化 Flurry。最后一次调用 init 很重要。

[这里](https://developer.yahoo.com/flurry/docs/analytics/gettingstarted/technicalquickstart/android/)提到了，在页面底部有 3 种方法：

> ...这应该在init之前调用。

# html - 身体背景图像不显示在网络浏览器中

> ID：14190541
> 
> 赞同：0
> 
> 时间：2013-01-07T05:42:36.490
> 
> 标签：html, cross-browser, background-image

所以，我已经看到了很多这些问题，但是我尝试了所有的解决方案，但发现它们都不起作用。这让我头疼，我再也受不了了。所以我的背景图片放置如下：

```
<body background="images/farmancover.jpg"/> 
```

这很简单，实际上在我的网站上查看：http: [//farmanp-ux.com](http://farmanp-ux.com)

现在，我的问题是背景图像没有显示在我的任何网络浏览器中，很难弄清楚。如果各位大侠能帮上忙，将不胜感激！我是这方面的新手，所以请温柔。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T05:45:57.100

```
<body style="background:url('images/farmancover.jpg');"> 
```

尽管您通常会将其添加到您的 CSS 文件中，而不是使用内联样式。

```
body {
  background:url('images/farmancover.jpg');
} 
```

特别是对于您的网站，图像可能不会显示，因为您的图像文件实际上是 `images/FarmanCover1.jpg`（注意 URL 区分大小写）。

以下应该会给你想要的效果。

```
<body style="background:url('images/FarmanCover1.jpg') no-repeat;"> 
```

您还有许多 HTML 错误，但以下内容已经过测试

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>
    Farman Pirzada - UX Designer - Harvesting creativity one at a time - Ohio, US
  </title>

  <!-- STYLES -->
  <link rel="stylesheet" type="text/css" href="http://www.farmanp-ux.com/css/style.css" />

  <meta content=
    "Farman Pirzada, UX Designer, CSS, HTML5, Web 2.0, portfolio" />
</head>

<body style="background:url('http://www.farmanp-ux.com/images/farmancover.jpg') no-repeat fixed;">
  <img src="http://www.farmanp-ux.com/images/farmanUX.png" class="center" alt="" />
  <div id="navmenu">
    <ul>
      <li><a href="farman.html">home</a></li>
      <li><a href="about.html">about</a></li>
      <li><a href="design.html">designs</a></li>
      <li><a href="services.html">services</a></li>
      <li><a href="contact.html">contact</a></li>
    </ul>
  </div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T05:47:01.513

如今， CSS 属性`body { background-image: url('images/farmancover.jpg'); };`似乎比将其指定为 HTML 的一部分更受欢迎。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T05:54:39.723

要实际使用大小合适的原始文件`farmancover.jpg`，`6.7MB`您需要将其转换为实际`.jpg`文件！即使这个文件名有扩展名`.jpg`，它也是一个带有错误扩展名的**Adob​​e PSD**项目文件。

话虽如此，拥有这样的文件大小是很奇怪的`.jpg`，这是一个问题的赠品。

![在此处输入图像描述](../Images/9310903e243cc8cbc84c053a09acb58b.png)

* * *

**首先**，确保您有一个有效的`.jpg`图像文件。

正确的文件名是[**farmancover.jpg**](http://farmanp-ux.com/images/farmancover.jpg)。

它在这个位置： http: [//farmanp-ux.com/images/farmancover.jpg](http://farmanp-ux.com/images/farmancover.jpg)

您的文件名也区分大小写。

那么正确的图像路径是：

```
'images/farmancover.jpg' 
```

要访问所有图像的文件夹内容，请使用以下 URL： http: [//farmanp-ux.com/images/](http://farmanp-ux.com/images/)

然后在您的 CSS 样式表中：http: [//www.farmanp-ux.com/css/style.css](http://www.farmanp-ux.com/css/style.css)

**改变这个：**

```
body
{background-repeat:none} 
```

**对此：**

```
body {
  background:url(http://www.farmanp-ux.com/images/farmancover.jpg) no-repeat center center;
  background-repeat:none
} 
```

在您的 CSS 样式表中还可以看到，每个 CSS 选择器的最后一个属性没有**分号**。请确保**每个**属性都以一个结尾。

* * *

**其次**，在您的 HTML 网页中，删除背景图像的**EXTRA** `body`标记。

**最终结果：**

[**带有背景图像的 jsFiddle 演示**](http://jsfiddle.net/eXKza/1/show/)

* * *

**额外：**使用[**在线教程**](http://paulmason.name/item/full-screen-background-image-pure-css-code)全屏显示背景图像，即使对于较旧的非 CSS3 浏览器，如 IE8，此方法在下面的小提琴中使用。

[**带有可缩放背景图像的 jsFiddle 演示**](http://jsfiddle.net/Sf6ST/show/)
*（`/show/`从 jsFiddle 中删除以访问编辑页面）*

# android - ChooserActivity 泄露了 IntentReceiver com.android.internal.app.ResolverActivity

> ID：14190551
> 
> 赞同：0
> 
> 时间：2013-01-07T05:43:52.060
> 
> 标签：android, android-intent

单击我的应用程序的按钮时，我正在尝试使用手机上的默认应用程序打开一个 xml 文件。在谷歌之后我发现并遵循了这个：[http](http://www.androidsnippets.com/open-file-with-default-application-using-intents) ://www.androidsnippets.com/open-file-with-default-application-using-intents ，我的代码就像：

```
Intent intent = new Intent();
intent.setAction(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.fromFile(_file), "application/*"); 
startActivity(intent); 
```

它可以在我的手机上运行，​​但是 logcat 出现了一些错误：

```
01-07 02:42:48.242: E/ActivityThread(11280): Activity com.android.internal.app.ChooserActivity has leaked IntentReceiver com.android.internal.app.ResolverActivity$1@417ffc78 that was originally registered here. Are you missing a call to unregisterReceiver()?
01-07 02:42:48.242: E/ActivityThread(11280): android.app.IntentReceiverLeaked: Activity com.android.internal.app.ChooserActivity has leaked IntentReceiver com.android.internal.app.ResolverActivity$1@417ffc78 that was originally registered here. Are you missing a call to unregisterReceiver()?
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.LoadedApk$ReceiverDispatcher.<init>(LoadedApk.java:763)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.LoadedApk.getReceiverDispatcher(LoadedApk.java:567)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ContextImpl.registerReceiverInternal(ContextImpl.java:1055)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ContextImpl.registerReceiver(ContextImpl.java:1042)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ContextImpl.registerReceiver(ContextImpl.java:1036)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.content.ContextWrapper.registerReceiver(ContextWrapper.java:341)
01-07 02:42:48.242: E/ActivityThread(11280):    at com.android.internal.content.PackageMonitor.register(PackageMonitor.java:65)
01-07 02:42:48.242: E/ActivityThread(11280):    at com.android.internal.app.ResolverActivity.onCreate(ResolverActivity.java:99)
01-07 02:42:48.242: E/ActivityThread(11280):    at com.android.internal.app.ChooserActivity.onCreate(ChooserActivity.java:53)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.Activity.performCreate(Activity.java:4467)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1925)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1986)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ActivityThread.access$600(ActivityThread.java:128)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1152)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.os.Looper.loop(Looper.java:137)
01-07 02:42:48.242: E/ActivityThread(11280):    at android.app.ActivityThread.main(ActivityThread.java:4449)
01-07 02:42:48.242: E/ActivityThread(11280):    at java.lang.reflect.Method.invokeNative(Native Method)
01-07 02:42:48.242: E/ActivityThread(11280):    at java.lang.reflect.Method.invoke(Method.java:511)
01-07 02:42:48.242: E/ActivityThread(11280):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
01-07 02:42:48.242: E/ActivityThread(11280):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:554)
01-07 02:42:48.242: E/ActivityThread(11280):    at dalvik.system.NativeStart.main(Native Method) 
```

我没有注册任何东西，也不知道如何解决“您是否错过了对 unregisterReceiver() 的调用”，我该如何更改我的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:49:17.930

我不是 100% 确定，但如果它工作正常并且抛出异常，你可能不需要对此做任何事情。这可能是您设备的问题，例如，供应商 Android 操作系统自定义错误。尝试在模拟器上测试它，如果它不会抛出异常，就让它保持原样。我认为你的代码很好。

# .net - 非模态表单无法在此应用程序中显示，在 installshield

> ID：14190552
> 
> 赞同：0
> 
> 时间：2013-01-07T05:44:08.420
> 
> 标签：.net, vb.net, winforms, installshield

我创建了一个 VB .NET 命令行应用程序来调用 Active X Dll。这将显示一个非模态表单。我通过 installshield 运行此应用程序以在安装软件时执行。但是我收到以下错误：

![在此处输入图像描述](../Images/b3b59457d18c2ab8e8b888309c1d61bc.png)

不能对 VB6 代码进行任何修改，因此有一种方法可以从 VB .Net 应用程序中调用非模态表单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:15:03.373

这篇文章可能会回答一些问题。据我了解，您无法从 ActiveX DLL 显示非模态表单，这两个选项是修改 DLL 以显示模态表单或将其重新编译为可执行文件。

[无法通过 ActiveX DLL、ActiveX 控件或属性页在此宿主应用程序中显示非模式表单](https://stackoverflow.com/questions/3975061/non-modal-forms-cannot-be-displayed-in-this-host-application-from-an-activex-dll)

该帖子主要只是链接到此知识库文章[http://support.microsoft.com/kb/176468](http://support.microsoft.com/kb/176468)

# java - 如何在java中读取excel数据，硒测试？

> ID：14190556
> 
> 赞同：1
> 
> 时间：2013-01-07T05:44:28.000
> 
> 标签：java, selenium, junit, selenium-webdriver

我在 java 中有一个 selenium webdriver 支持的代码，用于测试 Web 应用程序。我的代码如下：

```
package testcases;

import com.thoughtworks.selenium.Selenium;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebDriverBackedSelenium;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.*;
import java.util.regex.Pattern;

public class Untitled {
private Selenium selenium;

@Before
public void setUp() throws Exception {
        WebDriver driver = new FirefoxDriver();
        String baseUrl = "http://www.himalayanpalmistry.com/";
        selenium = new WebDriverBackedSelenium(driver, baseUrl);
}

@Test
public void testUntitled() throws Exception {
        selenium.open("/mabiz/");
        selenium.select("id=register_type", "label=für Unternehmen");
        selenium.click("id=rgst");
        selenium.waitForPageToLoad("30000");
        selenium.type("id=username", "javatesting1");
        selenium.type("id=password", "12345678");
        selenium.type("id=confirm_password", "12345678");
        selenium.type("id=name", "java testing");
        selenium.type("id=position", "java testing");
        selenium.type("id=company", "java testing");
        selenium.type("id=address", "java testing");
        selenium.type("id=zipcode", "12345");
        selenium.type("id=city", "safdj");
        selenium.type("id=phone", "kfajs");
        selenium.type("id=email", "tsandesh23@hotmail.com");
        selenium.click("id=show_contact_info");
        selenium.click("id=product_select3");
        selenium.click("id=term_condition1");
        selenium.click("name=submit_one");
        selenium.waitForPageToLoad("30000");
}

@After
public void tearDown() throws Exception {
        selenium.stop();
}
} 
```

我想修改此代码以读取 microsoft excel 数据并通过此代码进行许多测试。我的 excel 文件包含各种测试数据。提前谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T11:44:21.753

您可以使用此 api 从 java 读取 excel 行：http: [//jexcelapi.sourceforge.net/](http://jexcelapi.sourceforge.net/) 该教程很棒，可以在这里找到：[http ://www.andykhan.com/jexcelapi/tutorial.html](http://www.andykhan.com/jexcelapi/tutorial.html)

另外，请注意将脚本中的用户名和密码发布到 stackoverflow ;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:53:47.650

您可以使用 Apache POI 访问 Excel [http://poi.apache.org/spreadsheet/index.html](http://poi.apache.org/spreadsheet/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T05:59:02.120

Java 中有许多 API 可用于从 Excel 读取数据。

1.  JExcelApi。
2.  兴趣点

**解决问题**

将 Excel 保存为 CSV 文件（以防您不想使用任何外部 API）并将它们作为文本文件正常读取。但是使用逗号作为分隔符。

查看此链接以获取更多信息： [How to read and write excel file in java](https://stackoverflow.com/questions/1516144/read-write-excel-file-in-java)

我希望这有帮助 ：-）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-19T13:55:18.060

```
 1.Read excel example

    InputStream stream = new FileInputStream(projectFile.getPath());
    ExcelWorkbookContainer container = new ExcelWorkbookContainer(stream);
    Iterator<ExcelRecord> recordIterator = container.getRecordIterator(0);
    //NO TITLE
    recordIterator.next();

    while(recordIterator.hasNext()) {
        ExcelRecord record = recordIterator.next();
         clusterObj.setBrand(record.getValue(ClusterColum.BRAND.getColumIndex()));
    }
    stream.close();

///// poi example

public class ExcelWorkbookContainer {

    private String filename;
    private XSSFWorkbook workbook;

    /**
     * @param filename
     * @throws FileNotFoundException, IOException
     */
    public ExcelWorkbookContainer(String filename)
            throws FileNotFoundException, IOException {
        this(new FileInputStream(filename));
        this.filename = filename;
    }

    /**
     * @param inputStream
     * @throws FileNotFoundException, IOException
     */
    public ExcelWorkbookContainer(InputStream inputStream)
            throws IOException {
        if (inputStream == null) {
            throw new NullPointerException("Input Stream is null");
        }

        workbook = new XSSFWorkbook(inputStream);
    }

    /**
     * Create a composite iterator on the excel records
     * 
     * @param sheetId the id of the sheet for data extraction
     * @return composite iterator on the excel records
     */
    public Iterator<ExcelRecord> getRecordIterator(int sheetId) {
        return new ExcelRecordIterator(workbook.getSheetAt(sheetId));
    }

    /**
     * Create a composite iterator on the excel records
     * 
     * @param sheetId the id of the sheet for data extraction
     * @return composite iterator on the excel records
     */
    public Iterator<ExcelRecord> getRecordIterator(int sheetId, String[] headers) {
        return new ExcelRecordIterator(workbook.getSheetAt(sheetId), headers);
    }

    public String getFilename() {
        return filename;
    }

    public XSSFWorkbook getWorkbook() {
        return workbook;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-03T13:28:23.080

为了读写 Excel，我创建了一个名为 POIRE 的开源库，其中包含许多用户友好的方法。

[https://github.com/ssirekumar/POIRE](https://github.com/ssirekumar/POIRE)

[https://github.com/ssirekumar/POIRE/releases](https://github.com/ssirekumar/POIRE/releases)

**波尔**

它使用 POI 类使用 Java 处理 Microsoft Ms-office(Excel,Ms Word,PowerPoint) 文件。该 API 是在 POI 库之上开发的。它有许多处理 Ms-office 文件的方法（Excel、Ms Word、PowerPoint）。在 POI 中的 NPOIFSFileSystem 和 OPCPackage 类的帮助下，这些方法将适用于二进制文件（.xls、.doc、.ppt）和 XML（.xlsx、.docx、.pptx）。使用这些类，读取和写入文件会更快。

# rhomobile - Rhomobile 或 Appcelerator

> ID：14190558
> 
> 赞同：4
> 
> 时间：2013-01-07T05:44:41.533
> 
> 标签：rhomobile

我正在寻找一个平台来开发跨平台的移动应用程序。我们正在开发的应用程序有点复杂，我们需要它在 Android、iOS 和 Blackberry 上运行。

我们希望代码编写一次并在每个平台上运行而没有任何内存泄漏问题。我已经阅读了有关此的各种文章，但这都是理论性的，并没有给我一个明确的想法来选择我的框架，无论是 RHOmobile 还是 Appcelerator Titanium。

请准确建议一个平台开始并继续前进。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T12:42:21.180

如果我错了，请纠正我，但我认为 Appcelerator 只支持“原生”Android 和 iPhone。

我很久以前就尝试过 Appcelerator，所以我不再多说那个平台了，因为它现在可能已经大不相同并且更好了。

我目前正在评估 rhomobile 作为原生开发的开发，我可以说出我最初的想法。

优点：

*   摩托罗拉和 rhomobile 团队的大力支持。真的很大，他们速度很快，知道自己在做什么。
*   这很容易学习。我发现 Ruby 非常容易学习，如果你愿意，你几乎可以完全避免它，只做基础。该框架也非常简单明了，使用任何库通常只需要调用一个函数。
*   支持开箱即用的许多设备硬件功能（相机、条形码扫描仪等）
*   Rhhub、Rhoconnect、RhoGallery，看看它们，它们工作得很好，为平台带来了很多价值。

缺点：

*   Rhostudio（仍然）很烂。它是一个缺少任何现代 IDE 的所有强大功能的工具。幸运的是，您可以使用任何其他编辑器（如 Sublime 文本）进行开发并使用命令行。我使用 Rhostudio 只是为了构建和一些快速编辑以避免命令行。
*   就像每个框架一样，当你想做一些它还没有准备好做的事情时，这是一种痛苦。检查已包含的功能和库，并确保它具有您需要的一切。它允许您编写扩展，但这并不是您真正想要的。
*   如果它不像文档中描述的那样工作，为 windows mobile 和 blackberry 构建和部署（不使用 rhohub）可能会很痛苦。
*   很多过时的文档。许多事情并没有按照文档中的描述进行，或者您无法找到所需的详细信息。那就是启动板和谷歌组中的支持大放异彩的时候。
*   不知道为什么，但我一直觉得移动跨平台开发还没有实现，但它已经实现了......

我仍在学习，但这些是我对该平台的初步想法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T09:35:15.033

免责声明：我为 2011 年 7 月收购 RhoMobile 的摩托罗拉解决方案工作。

目前 (v2.2) RhoElements 面向 Windows Mobile、Windows CE、Big Windows（桌面）、Android、iOS、Windows Phone 7 和 Blackberry，并提供对 Windows Phone 8 的 beta 支持。

使用基于开源[Rhodes 框架](https://github.com/rhomobile/rhodes)的 RhoMobile 的 RhoElements 产品，您可以使用 HTML 页面（默认使用 jquery mobile）构建应用程序界面，然后使用为移动设备实现大量功能的 Ruby MVC 框架添加业务逻辑由 Ruby on Rails 提供。您可以下载该工具进行试用，观看一些视频并参与[MSI Launchpad](http://developer.motorolasolutions.com)上的论坛。

这是适合您工作的工具吗？只有你可以决定...

我可以补充一点，RhoElements 只是 RhoMobile Suite 中包含的产品之一，如果您需要同步和集成引擎，RhoConnect 与 Rhodes 完美集成，可以简化数据到设备的部署。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-27T04:12:11.363

这三个我都用过：PhoneGap、Titanium 和 RhoMobile。（虽然总的来说我不喜欢web语言跨平台，更喜欢C++/Java/Lua/ActionScript3）

钛是我最不喜欢的——但这更多与他们网站上的误导性声明有关。（顺便说一句 - 它没有编译为本机代码）。Titanium 与 RhoMobile 相比唯一可以想象的优势是 OpenGL API。但是，如果您想进入图形领域 - 您可能会选择更强大的 MarmaladeSDK 或 Adob​​eAIR 方法。

Ruby 比 JavaScript 更适合“复杂”应用程序。这绝对是 RhoMobile 相对于 Titanium 和 PhoneGap 的优势。Ruby 还强加了一种 MVC 方法，这将有助于组织一个复杂的应用程序。摩托罗拉的支持很好。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-10-15T18:07:55.910

不熟悉 RHomobile，但这是我在使用 Appcelerator、Native 和 Xamarin 多年后可以告诉你的（xamarin 仅几个月）

对我来说，毫无疑问，赢家是 Appcelerator。

Xamarin 吸引了我的 C# 开发人员，但是，即使在 3.0 中添加了 Xamarin Forms，仍然存在太多特定于平台的开发，这将大大提高成本。

与用 JavaScript 编写的 Appcelerator 相比，其中大约 95% 的代码将在所有平台上共享，同时仍提供接近原生的性能，这是您无法比较的

有了这两者，您将不得不学习原生移动布局的范例，如果您是 Web 开发人员，这将是一项艰巨的任务

网络泄露：这是关于 Appcelerator 的一个大神话，我认为这与 JavaScript 开发的低切入点直接相关。最重要的是，您可以在任何平台上编写泄漏代码。在大多数情况下，垃圾收集会为您处理，但如果您将全局引用分散在整个应用程序中，您将在任何平台上付出代价

至于平台本身的漏洞，Appcelerator 确实有一些报道，但他们的平台已经显着成熟

编译为本机：另一个神话。Appcelerator 是一种 JavaScript 运行时，采用桥接本机方法；这允许您使用 JavaScript 语言的所有功能；如果您是一名优秀的 JavaScript 开发人员，那么这将对您产生很大的吸引力

可维护性：这是我最喜欢的任何移动 MVC 框架与原生框架的区别。使用 Appcelerator 的 MVC 应用程序架构，我发现自己添加窗口、自定义控件、功能等比在 Native 或 Xamarin 中快得多

另一个考虑因素是测试周期在任何平台上都非常昂贵。在 JSFiddle、Codepen 等中测试代码的能力对我来说是无价的

硬件支持：我过去曾向 Appcelerator 抱怨过这个问题。当一个新的 OS 功能发布时，桥接本机方法将要求他们分散以将新功能内置到他们的桥中；这反过来又会导致新硬件功能支持的延迟。如果您对原生开发感到满意，并且您确实需要最新最好的硬件支持，您可以自己构建桥梁......过程非常简单

社区：这是我最喜欢 Appcelerator 的地方。您不会在 Stack Overflow 上找到很多 Appcelerator 问题，因为他们有自己的开发论坛，而且您通常会在几分钟内得到答案。我仍在等待几个月前我在 Xamarin 上提出的一个相当简单的问题得到回答；这是我可能对较新平台的一项保留

文档：查看每个平台并自行判断

采用率：您找到特定技术人才的可能性有多大，以及随着您职业生涯的发展，这些技能将如何轻松转化

最后，所有这些都可能无关紧要。跨平台移动领域发展如此之快，我鼓励你不断地选择许多平台，因为今天的赢家很可能是明天的遗产……哎呀，作为程序员，我们不知道已经

# vb.net - 使用安全/受保护的凭据在 vb.net 中发送邮件

> ID：14190561
> 
> 赞同：0
> 
> 时间：2013-01-07T05:45:11.993
> 
> 标签：vb.net, email, authentication, smtp

嗨，我正在使用以下代码从我的 Windows 基础应用程序发送

```
 Mail.Subject = "test email"
            Mail.To.Add("to@xyz.com")
            Mail.From = New MailAddress("from@abc.com")
            Mail.Body = "Hello"
            Dim attachment As System.Net.Mail.Attachment
            attachment = New System.Net.Mail.Attachment("AttachPath")
            Mail.Attachments.Add(attachment)
            Dim SMTP As New SmtpClient("smtp.abc.com")
            SMTP.EnableSsl = True
            SMTP.Credentials = New System.Net.NetworkCredential("xyz@.abc.com", "password")
            SMTP.Port = 25
            SMTP.Send(Mail) 
```

但我不想使用

```
SMTP.Credentials = New System.Net.NetworkCredential("xyz@.abc.com", "password") 
```

还有Interpub

任何人都可以解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:10:37.047

您也可以在 My.Settings 区域中进行设置，然后在需要时引用它，但也不那么安全，因为您可以打开它并自由查看...无论哪种方式，您仍然必须在安全的邮件服务器上提供您的凭据以某种方式，以便服务器可以在登录时对您进行身份验证。有很多方法可以做到这一点，例如，您可以：将您的凭据写入 PC 上某处的随机文本文件，或从数据库中提取它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T05:52:18.213

如果您不想使用该特定代码行，我想您需要配置您的服务器，以便它允许匿名身份验证。

或者，如果这不是您的意图，您可以使用`DefaultCredentials`：

```
SMTP.Credentials = CredentialCache.DefaultCredentials 
```

更多信息可以在这里找到：

*   [http://msdn.microsoft.com/en-us/library/system.net.credentialcache.defaultcredentials.aspx](http://msdn.microsoft.com/en-us/library/system.net.credentialcache.defaultcredentials.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T07:05:48.803

您可以做的最好的事情是保护您的凭据，将它们隐藏起来。典型的最终用户可能永远不会考虑使用像 ILSpy 这样的工具来窃取您的密码，所以不要担心它们。其他技巧涉及混淆用户名/密码，因此任何人都很难弄清楚用户名/密码在您的代码中来自何处。

如果您所做的只是上传文件，我的最终建议是使用不需要身份验证的不同技术。例如，您可以设置一个 FTP/SFTP 服务器，该服务器允许匿名读/写访问文件夹“崩溃报告”（我假设这就是您正在做的事情）。我相信有些服务器甚至允许创建文件，但拒绝修改/删除文件。

# r - 在R中生成递增序列

> ID：14190565
> 
> 赞同：0
> 
> 时间：2013-01-07T05:45:21.893
> 
> 标签：r, for-loop, sequence, replicate

> **可能重复：**
> [R中的重复值序列](https://stackoverflow.com/questions/6432067/sequence-of-repeated-values-in-r)

我正在尝试在 R 中生成一个递增的序列，总长度为 5952。我一直在手写它，但我怀疑必须有一种更简单的方法来做到这一点。这是示例：

```
v<- c(rep(1,96),rep(2,96),rep(3,96),rep(4,96), .... , rep(n,96) 
```

其中 n = 62。结果是一个长度为 5952 个元素的向量。我认为可能有用的一种方法是：

```
v = rep(NA, 96*62)
for(i in 1:62) {
v = c(rep(i,96))
} 
```

当然，这不起作用，结果只是 v = c(rep(62,96))。有小费吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T05:47:33.187

尝试：

```
rep(1:62,each=96)

length(rep(1:62,each=96))
[1] 5952 
```

# php - 当目录中有匹配的文件时，我需要显示一个 PDF 图标

> ID：14190570
> 
> 赞同：0
> 
> 时间：2013-01-07T05:46:11.147
> 
> 标签：php

我想显示一个链接到目录中文件的 PDF 图标，因为文件名与特定模式匹配。

我已经尝试使用下面的 PHP 脚本进行此操作，但我没有看到 PDF 图标，请告诉我哪里出错了。

提前致谢

## PHP 脚本

```
<?php
require_once 'config.php';

$dbh = new PDO($dsn, $dbuser, $dbpass);

$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$result = $dbh->query("
    SELECT a_aif.aif_id,
      a_aif.fee_source_id,
      a_aif.company_name_per_sedar,
      a_aif.document_filing_date,
      IF (a_aif_remaining.aif_id IS NULL, 0, 1) `match`
    FROM  a_aif
      LEFT JOIN a_aif_remaining
        ON a_aif_remaining.aif_id = a_aif.aif_id
    ORDER BY aif_id DESC");

$result->setFetchMode(PDO::FETCH_ASSOC);

$url = "http://www.theauditorsreport.com/_documents/fees/aifs/".$row[fee_source_id];
$imgsrc = "./images/pdf.gif";

?>

<table>
<tr>
    <th><b>Document ID</b></th>
    <th><b>Pubco Name</b></th>
    <th><b>Filing Date</b></th>
    <th><b>PDF</b></th>
</tr>
<?php foreach($result as $index => $row) : ?>
<tr data-recordId="<?=$row[fee_source_id];?>"
    class="<?=$row["match"] ? "match" : "";?>">
    <td><?php echo $row[fee_source_id]; ?></td>
    <td><?php echo $row[company_name_per_sedar]; ?></td>
    <td><?php echo $row[document_filing_date]; ?></td>
    <td><a href=<?php echo $url ?><img src=<?php echo $imgsrc ?></a></td>
</tr>
<? endforeach;?>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:49:52.653

此行似乎存在 HTML 错误：

```
<td><a href=<?php echo $url ?><img src=<?php echo $imgsrc ?></a></td> 
```

然而，它缺少一些更正（主要是标签的引号和结尾`<a>`，以及`<img>`标签）：

```
<td><a href="<?php echo $url ?>"><img src="<?php echo $imgsrc ?>"></a></td> 
```

希望这可以为您指明正确的方向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:01:02.860

***只需尝试以下操作：***

```
<?php
require_once 'config.php';

$dbh = new PDO($dsn, $dbuser, $dbpass);

$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$result = $dbh->query("
    SELECT a_aif.aif_id,
      a_aif.fee_source_id,
      a_aif.company_name_per_sedar,
      a_aif.document_filing_date,
      IF (a_aif_remaining.aif_id IS NULL, 0, 1) `match`
    FROM  a_aif
      LEFT JOIN a_aif_remaining
        ON a_aif_remaining.aif_id = a_aif.aif_id
    ORDER BY aif_id DESC");

$result->setFetchMode(PDO::FETCH_ASSOC);

$imgsrc = "./images/pdf.gif";

?>

<table>
<tr>
    <th><b>Document ID</b></th>
    <th><b>Pubco Name</b></th>
    <th><b>Filing Date</b></th>
    <th><b>PDF</b></th>
</tr>
<?php foreach($result as $index => $row) : ?>
<tr data-recordId="<?php echo $row['fee_source_id'];?>" class="<?php echo $row['match'] ? "match" : "";?>">
    <td><?php echo $row['fee_source_id']; ?></td>
    <td><?php echo $row['company_name_per_sedar']; ?></td>
    <td><?php echo $row['document_filing_date']; ?></td>
   <?php 
$filename = '/_documents/fees/aifs/'.$row['fee_source_id'].'.pdf';
if (file_exists($filename)) {?>
    <td><a href="http://www.theauditorsreport.com/_documents/fees/aifs/<?php echo $row['fee_source_id'].".pdf"; ?>" target="_blank" title="pdf<?php echo $row['fee_source_id']; ?>"><img border="0" title="pdf<?php echo $row['fee_source_id']; ?>" src="<?php echo $imgsrc; ?>" alt="pdf<?php echo $row['fee_source_id']; ?>" /></a></td>
<?php } else {?>
<td>&nbsp;</td>
<?php }?>
</tr>
<? endforeach;?>
</table> 
```

# c# - 全文搜索引擎列表及其对 .NET 的性能

> ID：14190575
> 
> 赞同：6
> 
> 时间：2013-01-07T05:46:34.703
> 
> 标签：c#, .net, sql-server, full-text-search, lucene.net

我正在寻找一个全文搜索引擎，它可以在 ASP.NET 中使用。

**这是我的场景：**我有 4000 万客户的姓名，我想通过搜索他们的姓名来找到他们的 CustomerId。我知道 MS-SQL 全文搜索可能是一个合理的解决方案，但由于它的安装、许可和一些 DBO 任务，我想知道是否还有其他解决方案。

我测试过[Lucene.net](http://blogs.apache.org/lucenenet/)，插入速度很慢，所以我放弃了！

我还看到了[hOOt](http://www.codeproject.com/Articles/224722/hOOt-full-text-search-engine)（我还没有测试过）。

**问：**有没有资源可以看全文搜索引擎的对比？哪个最适合我的需求？

# c# - 使用 C# 在表单中动态添加多个文本框

> ID：14190586
> 
> 赞同：0
> 
> 时间：2013-01-07T05:47:38.723
> 
> 标签：c#, sql-server

我正在尝试在运行时在表单中添加文本框。我还想在这些框中显示数据。数据是从数据库中获取的。我的代码有效，但我只能显示第一行，不明白为什么我使用的循环只运行一次。

在有人决定文本框重叠之前，请正确检查代码并给我一个合理的解释，说明这是怎么可能的，当我清楚地`Y`将`i`

我向你保证我已经尝试过，检查了 30 次，发现文本框没有相互重叠。即使我们认为文本框为了参数而相互重叠，您也必须同意我的观点，即可见的文本框将包含表格最后一行的数据，而不是像我这样的第一行数据。对不起，我厌倦了人们得出的结论，即文本框在明显不是重叠的情况下是重叠的。下面是我的代码。

```
var count=5; // dependent 

//SQL connection and data read begins
SqlCeConnection conn=new SqlCeConnection();
conn.ConnectionString=connection; //connection is a string variable which has the connection string details
conn.Open();
SqlCeCommand com=new SqlCeCommand();
com.Connection=conn;
com.CommandType=CommandType.Text;

for(int i=3; i<=count; i++) {
    com.CommandText="SELECT pname, cname, budget, advance, ddate FROM data WHERE (ID = @id)";
    com.Parameters.AddWithValue("@id", i);
    com.ExecuteNonQuery();
    SqlCeDataReader rd=com.ExecuteReader();

    while(rd.Read()) {
        pname=(rd["pname"].ToString());
        cname=(rd["cname"].ToString());
        budget=(rd["budget"].ToString());
        advance=(rd["advance"].ToString());
        ddate=(rd["ddate"].ToString());
    }

    TextBox tobj=new TextBox();
    tobj.Location=new Point(10, (40+((i-2)*20)));
    tobj.Tag=1;
    tobj.Text=pname;
    tobj.AutoSize=false;
    tobj.Width=150;
    tobj.ReadOnly=true;
    this.Controls.Add(tobj);

    TextBox tobj1=new TextBox();
    tobj1.Location=new Point(160, (40+((i-2)*20)));
    tobj1.Tag=2;
    tobj1.Text=cname;
    tobj1.AutoSize=false;
    tobj1.Width=150;
    tobj1.ReadOnly=true;
    this.Controls.Add(tobj1);

    TextBox tobj2=new TextBox();
    tobj2.Location=new Point(310, (40+((i-2)*20)));
    tobj2.Tag=3;
    tobj2.Text=budget;
    tobj2.AutoSize=false;
    tobj2.Width=100;
    tobj2.ReadOnly=true;
    this.Controls.Add(tobj2);

    TextBox tobj3=new TextBox();
    tobj3.Location=new Point(410, (40+((i-2)*20)));
    tobj3.Tag=4;
    tobj3.Text=advance;
    tobj3.AutoSize=false;
    tobj3.Width=100;
    tobj3.ReadOnly=true;
    this.Controls.Add(tobj3);

    TextBox tobj4=new TextBox();
    tobj4.Location=new Point(510, (40+((i-2)*20)));
    tobj4.Tag=5;
    tobj4.Text=ddate;
    tobj4.AutoSize=false;
    tobj4.Width=100;
    tobj4.ReadOnly=true;
    this.Controls.Add(tobj4);
}

com.Dispose();
conn.Close(); 
```

*   **更新：**

好的，现在我已经确认循环没有正常运行，并且还确定了导致问​​题的代码块。谁能建议我如何克服这个问题？

出现在循环内的代码块即使它应该运行 3 次也只运行一次。

```
 //SQL connection and data read begins

            int count =5;
            SqlCeConnection conn = new SqlCeConnection();
            conn.ConnectionString = connecion; //connection is a string variable which has the connection string details
            conn.Open();
            SqlCeCommand com = new SqlCeCommand();
            com.Connection = conn;
            com.CommandType = CommandType.Text;

            MessageBox.Show("The value of count just before the loop is " + count.ToString());
            for (int i = 3; i <= count; i++)
            {

                com.CommandText = "SELECT pname, cname, budget, advance, ddate FROM data WHERE (ID = @id)";
                com.Parameters.AddWithValue("@id", i);
                com.ExecuteNonQuery();
                SqlCeDataReader rd = com.ExecuteReader();
                while (rd.Read())
                {
                    pname = (rd["pname"].ToString());
                    cname = (rd["cname"].ToString());
                    budget = (rd["budget"].ToString());
                    advance = (rd["advance"].ToString());
                    ddate = (rd["ddate"].ToString());
                }
            }

            com.Dispose();
            conn.Close(); 
```

删除 SQL 部分可以使循环运行 3 次，但是如果我在循环中有 SQL 部分，它将无法工作。可以做些什么来克服这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T05:53:55.347

你的循环运行正常。问题是创建的所有文本框都重叠。在循环中完成一轮后， 更改`X`文本**框位置的位置。**

```
//Before strat loop
int xCoorCons=10;  
...
...
//inside loop    
tobj.Location = new Point(xCoorCons, (40+((i-2)*20)));  
...  
...
//at end of the loop
xCoorCons=xCoorCons+20; 
```

**编辑**

```
 try
            { 
                //your entire code
            }
            catch (Exception e) 
            { 
                MessageBox.Show(e.Message); 
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T14:43:46.733

正如 Ken Kin 指出的那样，问题与控件没有任何关系，而是与抛出的异常有关。

我终于发现了错误并解决了它，我正在发布工作代码，希望它可以帮助其他可能面临类似问题的人

```
SqlCeConnection conn = null;
                SqlCeCommand com = null;
                try
                {
                    //SQL connection and data read begins

                    conn = new SqlCeConnection();
                    conn.ConnectionString = connecion; //connection is a string variable which has the connection string details
                    conn.Open();
                    com = new SqlCeCommand();
                    com.Connection = conn;
                    com.CommandType = CommandType.Text;
                    com.CommandText = "SELECT pname, cname, budget, advance, ddate FROM data WHERE (ID = @id)";
                    com.Parameters.Add("@ID", SqlDbType.Int);
                    com.Prepare();
                    MessageBox.Show("The value of count just before the loop is " + count.ToString());

                    for (int i = 3; i <= count; i++)
                    {
                        com.Parameters[0].Value = i;
                        using (SqlCeDataReader rd = com.ExecuteReader())
                        if (rd.Read())
                        {
                            pname = (rd["pname"].ToString());
                            cname = (rd["cname"].ToString());
                            budget = (rd["budget"].ToString());
                            advance = (rd["advance"].ToString());
                            ddate = (rd["ddate"].ToString());

                            TextBox tobj = new TextBox();
                            tobj.Location = new Point(10, (40 + ((i - 2) * 20)));
                            tobj.Tag = 1;
                            tobj.Text = pname;
                            tobj.AutoSize = false;
                            tobj.Width = 150;
                            tobj.ReadOnly = true;
                            this.Controls.Add(tobj);

                            TextBox tobj1 = new TextBox();
                            tobj1.Location = new Point(160, (40 + ((i - 2) * 20)));
                            tobj1.Tag = 2;
                            tobj1.Text = cname;
                            tobj1.AutoSize = false;
                            tobj1.Width = 150;
                            tobj1.ReadOnly = true;
                            this.Controls.Add(tobj1);

                            TextBox tobj2 = new TextBox();
                            tobj2.Location = new Point(310, (40 + ((i - 2) * 20)));
                            tobj2.Tag = 3;
                            tobj2.Text = budget;
                            tobj2.AutoSize = false;
                            tobj2.Width = 100;
                            tobj2.ReadOnly = true;
                            this.Controls.Add(tobj2);

                            TextBox tobj3 = new TextBox();
                            tobj3.Location = new Point(410, (40 + ((i - 2) * 20)));
                            tobj3.Tag = 4;
                            tobj3.Text = advance;
                            tobj3.AutoSize = false;
                            tobj3.Width = 100;
                            tobj3.ReadOnly = true;
                            this.Controls.Add(tobj3);

                            TextBox tobj4 = new TextBox();
                            tobj4.Location = new Point(510, (40 + ((i - 2) * 20)));
                            tobj4.Tag = 5;
                            tobj4.Text = ddate;
                            tobj4.AutoSize = false;
                            tobj4.Width = 100;
                            tobj4.ReadOnly = true;
                            this.Controls.Add(tobj4);

                        }
                    }

                    //SQL operation ends
                }
                finally
                {
                    if (null != com) com.Dispose();
                    if (null != conn) conn.Dispose();
                }
            } 
```

# android - 如何通过代码获取android设备的MAC地址（WIFI已关闭）？

> ID：14190602
> 
> 赞同：2
> 
> 时间：2013-01-07T05:49:20.173
> 
> 标签：android, android-emulator, wifimanager

我需要设计一个应该显示设备 MAC 地址的 Android 应用程序。我已经完成了以下编码。

```
WifiManager wifimanager = (WifiManager) getSystemService(Context.WIFI_SERVICE);
WifiInfo winfo = wifimanager.getConnectionInfo();
String MACAddress = winfo.getMACAdress(); 
```

但问题是，这段代码只有在打开wifi时才有效，但我的要求是找到wifi是否打开的MAC地址。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T06:02:46.933

这是在不使用 wifi 管理器的情况下获取 Mac 地址的代码。

```
public static String getMACAddress(String interfaceName) {
    try {
        List<NetworkInterface> interfaces = Collections.list(NetworkInterface.getNetworkInterfaces());
        for (NetworkInterface intf : interfaces) {
            if (interfaceName != null) {
                if (!intf.getName().equalsIgnoreCase(interfaceName)) continue;
            }
            byte[] mac = intf.getHardwareAddress();
            if (mac==null) return "";
            StringBuilder buf = new StringBuilder();
            for (int idx=0; idx<mac.length; idx++)
                buf.append(String.format("%02X:", mac[idx]));       
            if (buf.length()>0) buf.deleteCharAt(buf.length()-1);
            return buf.toString();
        }
    } catch (Exception ex) { } 
    return "";

} 
```

某些 android 设备可能没有可用的 wifi 或正在使用以太网接线。并根据可用的网络调用此方法。

```
getMACAddress("wlan0"); //using wifi available
getMACAddress("eth0"); //using ethernet connection availale 
```

并且不要忘记设置清单权限。

```
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2018-03-27T09:25:32.147

```
 private TextView btnInfo;
    private View txtWifiInfo;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        txtWifiInfo = (TextView) findViewById(R.id.idTxt);
        btnInfo = (Button) findViewById(R.id.idBtn);
    }
    public void getWifiInformation(View view){
        WifiManager wifiManager = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);
        WifiInfo wifiInfo = wifiManager.getConnectionInfo();
        int ip = wifiInfo.getIpAddress();
        String macAddress = wifiInfo.getMacAddress();
        String bssid = wifiInfo.getBSSID();

        int rssi = wifiInfo.getRssi();
        int linkspeed = wifiInfo.getLinkSpeed();
        String ssid = wifiInfo.getSSID();
        int networkId = wifiInfo.getNetworkId();
        String ipAddress = Formatter.formatIpAddress(ip);
        String info = "Ipaddress: " + ipAddress +
                "\n" + "MacAddress: " +macAddress +
                "\n" + "BSSID: " + bssid +
                "\n" + "SSID: " + ssid +
                "\n" +  "NetworkId: "+ networkId;
                 // "\n" + "RSSI: " + rssi +
               // "\n" + linkspeed + "Link Speed: ";
        txtWifiInfo.setText(info);
    }
} 
```

# ruby-on-rails - 如何将 json 数据发布到 rails 应用程序？

> ID：14190607
> 
> 赞同：4
> 
> 时间：2013-01-07T05:49:58.313
> 
> 标签：ruby-on-rails, ruby-on-rails-3, curl

我想发送用户信息以进行注册，以下是请求

curl -H 'Content-Type: application/json' -H 'Accept: application/json' -X POST `http://localhost:3000/users.json`-d "{"user" : {"Email":sample@example.com, "password":qwerty, "密码确认“：qwerty}}”

但我收到一个错误

MultiJson::DecodeError (795: '{user : {Email:sample@example.com, password:qwerty, password_confirmation:qwerty}}'的意外令牌)

我不知道我做错了什么？请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T05:54:54.253

试试这个，

```
curl -H 'Content-Type: application/json'  -X POST http://localhost:3000/users.json -d "{\"user\":{\"email\":\"sample@example.com\", \"password\":\"qwerty\",\"password_confirmation\":\"qwerty\"}}" 
```

问题在于参数解析，需要在引号内。

# linux - 如何在linux中查找具有特定父目录的所有文件？

> ID：14190609
> 
> 赞同：17
> 
> 时间：2013-01-07T05:50:20.563
> 
> 标签：linux

如何在 linux 命令终端中找到具有特定父目录的所有文件？

我知道使用`find`这样的方式查找所有文件：

```
find . -name filename.extension 
```

但是是否可以找到所有`filename.extension`具有父目录的文件`foldername`？

我尝试了以下方法，但这不起作用：

```
find . -name foldername/filename.extension 
```

而且我找不到任何如何做到这一点的例子。

所以我期望的一些示例结果如下：

```
./example/project/website/foldername/filename.extension
./folder/demo/foldername/filename.extension
./more/files/foldername/filename.extension
./business/assets/foldername/filename.extension
./steven/foldername/filename.extension 
```

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-01-07T06:09:04.410

将`-path`switch 与[find一起使用](http://linux.die.net/man/1/find)

```
find . -path \*/foldername/filename.extension 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T06:09:20.990

试试这个

```
locate "/*/foldername/filename.extension" 
```

前提是您已更新索引`updatedb`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T06:21:36.300

你可以运行：

```
find ./ | grep 'foldername/filename.extension$' 
```

“find”命令将查找所有文件，“grep”将通过正则表达式过滤它们。

PS。您也可以使用“find”的“-exec”参数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-01-20T08:50:56.887

回答更通用的问题，我希望这会奏效

```
find . -path '*/foldername/*' 
```

但是，它不是**所有带有 parent 的文件，**而是给出**所有带有**的文件。这将只显示孩子：

```
find . -path '*/foldername/*' | sed 's|.*foldername/\([^/]*\).*|\1|' | sort -u 
```

或者

```
find . | egrep -o 'foldername/[^/]*' | sed 's|[^/]*/||' | sort -u 
```

但这并没有给出路径，所以

```
find . -iname foldername -exec find {} -maxdepth 1 -mindepth 1 \; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-05-25T14:32:13.960

1.  查找所有名为`examples`.
2.  然后省略谁有任何父目录名为`node_modules`.

**`find . -type d -name examples | grep -v node_modules`**

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2013-01-07T06:23:37.410

只在父目录中显示结果

`Find -maxdepth 1 -type f -name 'file.extension'`

# ruby-on-rails - 在 Ruby on Rails 中仅接受 HTTPS 请求

> ID：14190615
> 
> 赞同：2
> 
> 时间：2013-01-07T05:51:35.023
> 
> 标签：ruby-on-rails, ruby

对于某些操作，我只想接受 HTTPS 请求。
这是我的第一个代码，但我认为有更好的方法。

```
before_filter :reject_http_request, :only => [:fucntion_a, :function_b]

def reject_http_request
  scheme = request.protocol.to_s.downcase
  if scheme == 'http://'
    raise AccessDeniedException.new("Not allowed protocol scheme")
  end
  true
end 
```

如何改进此代码？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T06:01:45.153

[`rack-ssl-enforcer`](https://github.com/tobmatth/rack-ssl-enforcer)您可以使用gem在机架级别执行此操作。它可以配置为允许排除特定路径、主机和方法。

如果它满足您的需求，我建议您这样做而不是滚动您自己的解决方案。我们目前在生产中使用它并且效果很好。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-07T06:43:10.020

要强制 SSL 执行**特定操作**，您可以使用[`force_ssl`](http://api.rubyonrails.org/classes/ActionController/ForceSSL/ClassMethods.html#method-i-force_ssl).
对于**整个应用程序**，您只需执行以下操作：`config.force_ssl = true`在您的`environment.rb`文件中。
在这里阅读[更多](http://www.simonecarletti.com/blog/2011/05/configuring-rails-3-https-ssl/)。

# android - eclipse打不开，启动屏幕闪但是一直打不开

> ID：14190620
> 
> 赞同：3
> 
> 时间：2013-01-07T05:52:27.527
> 
> 标签：android, eclipse

我刚去打开Eclipse，它不会打开。启动屏幕闪烁，然后消失，Eclipse 永远不会打开。我的任务管理器没有将 Eclipse 显示为活动应用程序。

我下载了新版本的 Eclipse，但仍然遇到同样的问题。

到目前为止，我对 Eclipse 没有任何问题，并且不记得上次使用它时关闭它的任何问题。

我收到的 metadata.log 错误如下，尽管我不确定如何解释/修复：

```
!ENTRY org.eclipse.ui.workbench 4 0 2013-01-04 16:42:46.844
!MESSAGE Widget disposed too early! 
```

有没有人遇到过这个问题？关于它可能是什么的任何想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T11:28:46.823

我已经解决了这个问题，尽管效率较低。

在 eclipse.ini 中指定了 java.exe 的位置。通常默认位置很好，但有时可能会发生导致它不起作用的事情，您需要指定它的位置。这是我对可以在这里找到的内容的外行解释： [http ://wiki.eclipse.org/Eclipse.ini](http://wiki.eclipse.org/Eclipse.ini)

因此，为了解决这个问题，我需要将 .ini 文件中的默认位置更改为可行的位置。不过我不能完全破解，所以我下载了一个新版本的 JDK 和 Eclipse，这样默认位置就可以再次工作了。

Eclipse 现在再次运行良好。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-25T11:46:50.243

将以下行添加到 eclipse.ini 文件立即解决了我的问题：

```
-vm
C:\Program Files (x86)\Java\jdk1.7.0_75\bin\javaw.exe 
```

我在 vmargs 之前添加了这些行。它看起来如下所示：

```
...
--launcher.defaultAction
openFile
-vm
C:\Program Files (x86)\Java\jdk1.7.0_75\bin\javaw.exe
-vmargs
-Dosgi.requiredJavaVersion=1.5
-Dhelp.lucene.tokenizer=standard
-Xms40m
-Xmx512m 
```

有关 eclipse.ini 的更多信息，请访问此站点[http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example](http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-05-07T19:20:55.993

在我的例子中，eclipse.ini 文件（在 eclipse 目录中）的内存设置设置得太高并且没有足够的内存可用（由于 JBoss 和 Oracle 在本地运行）。

*我的设置：*

```
-Xms1024m
-Xmx4096m 
```

这导致了同样的行为。在这种情况下，要么减少这些内存设置（无论它们是什么），要么释放内存是解决方案（后者对我有用）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-27T01:13:36.060

尝试从这里重命名或删除最近的工作区建议文件，然后重新启动 Eclipse

C:\eclipseNeon\configuration.settings\org.eclipse.ui.ide.prefs

# ruby-on-rails - Rails 中是否有任何预先构建的主页设计/模板？

> ID：14190621
> 
> 赞同：1
> 
> 时间：2013-01-07T05:52:28.827
> 
> 标签：ruby-on-rails, ruby-on-rails-3

对于我的应用程序的主页，我暂时希望有一个标准的 SaaS 页面，但不想从 scatch 构建它，并且想知道 Rails 社区是否有东西。任何类型的预制设计或模板都可以为我做

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T07:56:13.850

如果您使用 Twitter Bootstrap 作为框架，那么您可以查看[Built With Bootstrap](http://builtwithbootstrap.com/)。

由于 Bootstrap 使用 SASS 和 LESS，可能会有一些示例供您参考，还可以查看同一站点中的 premuim 部分，大多数模板的价格约为 12-15 美元。

# git - 从 SourceAnywhere 导入 Git/GitHub

> ID：14190625
> 
> 赞同：2
> 
> 时间：2013-01-07T05:53:11.417
> 
> 标签：git, github, git-fast-import

我们目前使用[SourceAnywhere Hosted](http://www.dynamsoft.com/Products/SourceAnywhere-Hosting-Version-Control-Source-Control.aspx)作为我们的版本控制服务器。我希望迁移到 GitHub，并且真的很想保留我们 8 年多的历史。

是否有其他人成功完成此迁移并愿意分享他们的工具/流程？

现在，假设以前没有这样做过，我想我正在考虑`fast-import`使用 SourceAnywhere SDK 或命令行客户端编写一个 git 脚本。作为 git 新手，是否有任何现有的脚本或资源可以指导我作为起点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T23:41:25.997

我终于清理了我的项目并将其添加到 GitHub。你可以在这里找到它：[SAWHtoGit](http://github.com/dpolivy/SAWHtoGit)。

它在将历史导出到逻辑变更集方面做得很好，但有一些小限制：

*   由于 SourceAnywhere API 的限制，任何已在 SourceAnywhere 中删除的文件都不会导入到历史记录中。
*   只要您提供旧/新目录的映射，任何被“移动”的文件都可以被导入。

除此之外，它非常适合我们的目的，我们能够成功地将我们的代码和历史迁移到 GitHub。我希望它对其他人也有用！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T08:57:11.587

导入部分很简单：从初始存储库
中提取一组*连贯*的文件后，您可以将其添加到 git 存储库中，该存储库将检测任何修改/添加/删除。

“连贯” = 一组代表稳定状态的文件，例如“编译”：这些时间点通常由标签表示，尤其是在像 SAW 这样的文件级别工作的 repo 中（与 git 相反，它在存储库级别工作，每个修订代表完整*repo*的*内容）*

 *向 git 添加一组文件很简单：

```
git --work-tree=/path/to/extracted/file --git-dir=/path/to/git/repo/.git add -A
git --work-tree=/path/to/extracted/file --git-dir=/path/to/git/repo/.git commit -m "new revision from SAW import" 
```

困难在于确定要导入什么。
我建议列出所有标签，并使用它们来获取所有项目`GetProject -label`（使用[SAW CLI](http://www.dynamsoft.com/help/SAW%20Hosted/Command%20Line/Commands%20and%20Parameters.htm)）

请注意，每个项目都应该在自己的 Git 存储库中：这将避免大型臃肿的存储库，这将难以克隆，而不是使用 SAW 的集中式模型，您可以将所有项目放在一个引用中。

* * *

[OP](https://stackoverflow.com/users/1347600/dan) 丹[评论](https://stackoverflow.com/questions/14190625/git-github-import-from-sourceanywhere/14192635#comment19814012_14192635)：

> 我能够使用 SourceAnywhere COM SDK 编写一个小实用程序来提取我的历史记录（在 SDK 允许的范围内）并编写一个快速导入脚本以将其全部加载到 git 中。
> 虽然并非每个中间变更集都一定是“连贯的”，但最终结果与我们当前的状态相匹配，并且我们保留了大部分历史记录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:02:08.123

你可以看看其他 git-over-XYZ 实现是如何工作的。例如，[这是 git-svn](https://github.com/git/git/blob/master/git-svn.perl)的代码，[这是 git-cvsimport 的代码](https://github.com/git/git/blob/master/git-cvsimport.perl)（都在 Perl 中）。*

# eclipse - Eclipse Kepler 64 位未在 Windows 7 上运行

> ID：14190628
> 
> 赞同：1
> 
> 时间：2013-01-07T05:53:46.843
> 
> 标签：eclipse, java

我在linux中使用eclipse没有问题。但是尝试在 Windows 7 上运行它时，我遇到了许多人似乎已经面临的普遍问题。我尝试了所有解决方案，但没有一个对我有用，我得到了这个：

![在此处输入图像描述](../Images/1bef3e7e4376567df26d111b1139f6b1.png)

我当前的 eclipse.ini 看起来像这样：

```
-startup
plugins/org.eclipse.equinox.launcher_1.3.0.v20121114-150939.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v20121107-162306
-product
org.eclipse.epp.package.cpp.product
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
256M
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
256m
--launcher.defaultAction
openFile
--launcher.appendVmargs
-vm
C:\Program Files (x86)\Java\jre7\bin\javaw.exe
-vmargs
-Dosgi.requiredJavaVersion=1.7
-Dhelp.lucene.tokenizer=standard
-Xms40m
-Xmx512m 
```

-Windows 7 和 Eclipse 都是 64 位的。
-java 从 java.com 自动安装在 C:\Program Files (x86)\Java\jre7 （旧版本已卸载），版本匹配，并设置环境变量中的路径：

> C:\Program Files\Common Files\Microsoft Shared\Windows Live;C:\Program Files (x86)\Common Files\Microsoft Shared\Windows Live;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem ;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;C:\Program Files\ThinkPad\Bluetooth Software\;C:\Program Files\ThinkPad\Bluetooth Software\syswow64;C:\Program Files\Broadcom\WHL\; C:\Program Files\Broadcom\WHL\syswow64;C:\Program Files\Broadcom\WHL\SysWow64\;C:\Program Files\Broadcom\WHL\SysWow64\syswow64;C:\Program Files\Intel\WiFi\bin \;C:\Program Files\Common Files\Intel\WirelessCommon\;C:\Program Files (x86)\Common Files\Lenovo;C:\Program Files (x86)\Common Files\Ulead Systems\MPEG;C:\ Program Files\Common Files\Lenovo;C:\Program Files (x86)\Windows Live\Shared;C:\SWTOOLS\ReadyApps;C:\Program Files (x86)\Intel\Services\IPT\;C:\Program Files (x86)\Symantec\VIP Access Client\;C:\Program Files\MATLAB\R2011a\bin;C:\Program Files (x86)\Java\jre7\bin\

我将ini文件中的512（s）更改为1024，希望增加内存来解决问题。也没有用。

你能帮我解决这个问题吗？非常感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-08T08:33:29.590

答案在问题的评论中，但为了让那些可能偶然发现同样错误的人更清楚：

这个问题中引用的*eclipse.ini*定义了应该运行 Eclipse 的虚拟机：

> `-vm C:\Program Files (x86)\Java\jre7\bin\javaw.exe`

默认情况下，此路径表示 32 位 Java（`c:\program files\Java\...`默认安装 64 位 Java）。但是问题指出

> -Windows 7 和 Eclipse 都是 64 位的。

32 位 Java 不能用于启动 64 位 Eclipse（64 位 Java 也不能运行 32 位 Eclipse）。需要做两件事来解决这个问题：

*   安装 64 位 vm（如何在[Java JRE 64-bit download for Windows 中进行了概述？](https://stackoverflow.com/questions/2038858/java-jre-64-bit-download-for-windows)）
*   修复*eclipse.ini*文件，使其指向正确的位置。默认情况下，这将`C:\Program Files\Java\jre7\bin\javaw.exe`用于 Java 7 JRE。

# solr - 使我的 solr 结果多样化

> ID：14190631
> 
> 赞同：0
> 
> 时间：2013-01-07T05:53:56.033
> 
> 标签：solr

我想使 solr 返回的结果多样化。假设这是我的模式。

```
<field name="id" type="string" indexed="true" stored="true" required="true"/>
<field name="description" type="text" indexed="true" stored="true" multiValued="false" />
<field name="domain" type="text" indexed="true" stored="true" multiValued="false" /> 
```

对于域字段，当前存储了 3 种类型（google、yahoo、bing）。

每当我进行查询时，Solr 的顶级结果大多来自 Yahoo 域。如果我想混合所有这 3 个域的顶级结果，我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T10:11:47.877

您可能想看看[分组（又名字段折叠）](http://wiki.apache.org/solr/FieldCollapsing)。实际上，您可以按域 ( `groupfield=domain`) 对结果进行分组，并配置您希望为每个组返回多少个结果（`group.limit=10`例如，默认值 = 1）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T04:44:19.103

要解决此分页问题，​​您可以使用参数**group.format=simple**以传统响应格式为您提供分组结果。

请求 URL 可能看起来像这样，

```
<ip>:<port>/context-root/select?q=*:*&group=true&group.field=domain&group.format=simple 
```

# php - jQuery 无法处理加载的内容

> ID：14190633
> 
> 赞同：-1
> 
> 时间：2013-01-07T05:54:02.337
> 
> 标签：php, javascript, jquery, css

我正在一个网站上工作，当用户单击菜单上的一个选项时，内容会自行加载（通过 Ajax 调用）到一个 div 框中，该框出现在屏幕的中心。我遇到的问题是我无法弄清楚为什么所有 javascript/jquery 代码似乎都不适用于任何加载的内容。我需要在加载的内容本身中重新声明所有 javascript 和 jquery 文件才能运行。

本质上，用户从菜单中单击“用户列表”：

```
 $('#users_list').live("click", function(event) {
    event.preventDefault();
    $('.prompt_content').load('users.php?page=1', function() {
        showprompt();
    });
    }); 
```

然后 div 框出现在屏幕中央，其中包含所有用户名和一个小头像。当用户将光标悬停在用户信息框上时，我正在尝试更改用户信息框的背景颜色。

```
$('.user_info').hover(function() {
    $(this).prev('td').css("background-color", "#F0F0F0");
    $(this).css("background-color", "#F0F0F0");
}, 
function() {
    $(this).prev('td').css("background-color", "white");
    $(this).css("background-color", "white");
});

$('.user_avatar').hover(function() {
    $(this).next('td').css("background-color", "#F0F0F0");
    $(this).css("background-color", "#F0F0F0");
}, 
function() {
    $(this).next('td').css("background-color", "white");
    $(this).css("background-color", "white");
}); 
```

仅当我在要加载其内容的页面顶部重新声明我的 jquery 链接时，这似乎才有效...

这是标记（请原谅内联 css，它只是用于调试）：

```
<table>
    <tr>
        <td style="padding: 10px;" class="user_avatar" id="user_10">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_10">Dave Gilbert
        </td>
        <td style="padding: 10px;" class="user_avatar" id="user_15">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_15">Norman De luca
        </td>
    </tr>
    <tr>
        <td style="padding: 10px;" class="user_avatar" id="user_24">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_24">Test user 1
        </td>
        <td style="padding: 10px;" class="user_avatar" id="user_17">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_17">Test user 2
        </td>
    </tr>
    <tr>
        <td style="padding: 10px;" class="user_avatar" id="user_21">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_21">Test user 3<br />
        </td>
        <td style="padding: 10px;" class="user_avatar" id="user_18">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_18">Test user 4
        </td>
    </tr>
    <tr>
        <td style="padding: 10px;" class="user_avatar" id="user_22">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_22">Test user 5
        </td>
        <td style="padding: 10px;" class="user_avatar" id="user_16">
            <img src="images/noavatar.jpg">
        </td>
        <td style="padding: 10px; word-wrap: break-word;" class="user_info" id="user_16">Leonard Klein
        </td>
    </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:03:18.727

这是因为它在 dom 中不可用，并且您正在直接访问`.hover()`动态内容，因此您必须使用`.on()`处理程序：

```
$(document).on('hover', '.user_info', function() {
   $(this).prev('td').css("background-color", "#F0F0F0");
   $(this).css("background-color", "#F0F0F0");
},function() {
   $(this).prev('td').css("background-color", "white");
   $(this).css("background-color", "white");
}); 
```

`Instead using $(document)`您可以使用最近的父现有 div 或任何元素，例如：

```
$('.prompt_content').on('hover', '.user_info', function() {
   $(this).prev('td').css("background-color", "#F0F0F0");
   $(this).css("background-color", "#F0F0F0");
},function() {
   $(this).prev('td').css("background-color", "white");
   $(this).css("background-color", "white");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:06:30.920

问题是您在添加动态元素*之前*附加事件，因此它们不受影响。要解决此问题，您必须执行以下操作：

```
// attach to the closest parent element that is on the loaded page (not ajax)
$("body").on({ 
    mouseenter: function () {
        $(this).prev('td').css("background-color", "#F0F0F0");
        $(this).css("background-color", "#F0F0F0");
    },
    mouseleave: function () {
        $(this).prev('td').css("background-color", "white");
        $(this).css("background-color", "white");
    }
}, '.user_info'); // <- selector here 
```

# swt - 在 Composite 中使用 EditorPart

> ID：14190634
> 
> 赞同：1
> 
> 时间：2013-01-07T05:54:02.093
> 
> 标签：swt, eclipse-rcp

我是 RCP 的新手，我正在尝试创建一个新的视图或编辑器。在目前的状态下，我正在扩展`ViewPart`.

我想要实现的布局是`SashForm`双方都有一个`CTabFolder`. 的一侧`SashForm`基本上是`MultiPageEditorPart`. 其中一个选项卡应该是具有语法突出显示和类似功能的特定语言的编辑器。据我了解，我可以对此进行扩展`AbstractTextEditor`（并且可能将其用作 a 的一个选项卡`MultiPageEditorPart`）。

如果我尝试使用`ViewPart`包含 a 的顶级容器来实现此布局`SashForm`，则无法将 a 添加`EditorPart`到`SashForm`. 当然，我可以从头开始实现这个编辑器，`Composite`但我想避免这种情况。

我也愿意使用`EditorPart`or`MultiPageEditorPart`作为顶级容器，但是我必须找到一种方法来使`SashForm`布局正常工作。整个编辑器应该首先被拆分，然后每一面都应该有标签。

有谁知道如何解决这个问题？

如果有什么不清楚的请询问。我有一种感觉，我把这句话说得有点复杂。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T12:04:44.287

我认为您要实现的目标非常复杂，可能需要大量额外的工作。看到编辑器不仅是按某种顺序排列的不同控件，而且它具有许多任何编辑器类都期望工作的附加功能。这些包括选择服务和操作栏等，您需要连接以确保顺利运行。

也就是说，应该可以实现您所希望的。您可以查看其`MultiPageEditorPart`本身的源代码，了解它如何将单个编辑器转换为多页面编辑器，该编辑器能够在其每个页面上托管一个完全独立的编辑器。`MultiPageEditorPart`如果您希望您的编辑器托管两个由窗框分隔的 s，您将需要实现类似的功能。如果你想继续，你应该开始实施一些东西，如果你遇到任何问题，把它们贴在这里。那时您将能够获得更好的帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T20:46:09.560

我认为您应该只制作一个`ViewPart`在左侧具有某种文本编辑组件的组件，而不是试图找到一种使用`EditorPart`. 真正`EditorPart`为您购买的是脏标志管理和保存支持；语法高亮等等，你可以自己添加到文本编辑组件中（我很惊讶我刚才在互联网上闲逛时发现了这么少的插入式文本组件；我希望能找到“一些”，但我发现“基本上没有任何”）。

您可以在此处看到使用组件进行非常基本的语法突出显示的一种方法`StyledText`：[JavaSourceCodeViewer](http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/JavaSourcecodeViewer.htm)

要查看语法高亮和自动完成等更健壮的实现，请查看 Eclipse 用于编辑 Java 源代码的类：`CompilationUnitEditor`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-11T09:44:42.737

你需要 MultiPageEditorSite 之类的东西。在实现 EditorSiteDelegate 时使用它作为灵感。例如，MultiPageEditorSite 支持页面之间的单独键绑定。

```
class ChildEditorSite implements IEditorSite {
    IEditorSite parent;
    public Object method() {
       return parent.method();
    }
} 
```

使用此类，您可以在主 EditorPart 中轻松执行以下操作：

```
class MyCoolPart extends EditorPart {
    public void createControl(Composite parent) {
         EditorPart child1 = new MyChild();
         child1.init(new ChildEditorSite(getEditorSite()), myInput);
         EditorPart child2 = new MyChild();
         child2.init(new ChildEditorSite(getEditorSite()), myInput);

         child1.createPartControl(parent);
         child2.createPartControl(parent);
    }
} 
```

处理 MyCoolPart 时，请务必正确处理您的孩子。请注意，这只适用于最基本的情况。作为 DocumentEditor 或依赖于 IPersistablePart 或实现侦听器/适配器以确认保存的 EditorPart 可能需要更多的生命周期管理......

# mongodb - 无法获取覆盖查询以仅在 mongodb 中使用索引

> ID：14190637
> 
> 赞同：5
> 
> 时间：2013-01-07T05:54:06.093
> 
> 标签：mongodb, indexing, mongoid

我正在尝试使用覆盖索引在使用 mongodb 的应用程序上实现词干文本搜索。

我有以下索引集：

```
ensureIndex({st: 1, n: 1, _id: 1}); 
```

但是，当我在查询上运行 explain() 时，无论我做什么，我都无法让 indexOnly 读取为真。

```
db.merchants.find({st: "Blue"}, {n:1,_id:1}).explain()
{
    "cursor" : "BtreeCursor st_1_n_1__id_1",
    "nscanned" : 8,
    "nscannedObjects" : 8,
    "n" : 8,
    "millis" : 0,
    "nYields" : 0,
    "nChunkSkips" : 0,
    "isMultiKey" : true,
    "indexOnly" : false,
    "indexBounds" : {
        "st" : [
            [
                "Blue",
                "Blue"
            ]
        ],
        "n" : [
            [
                {
                    "$minElement" : 1
                },
                {
                    "$maxElement" : 1
                }
            ]
        ],
        "_id" : [
            [
                {
                    "$minElement" : 1
                },
                {
                    "$maxElement" : 1
                }
            ]
        ]
    }
} 
```

我已经发现索引中键的顺序很重要。例如，如果我使用 {_id, n:1, st:1} 它根本没有使用这个索引来执行查询。我还在某处读到，太少的文档可能会使用 explain() 触发不可预测的行为，因为多种策略同样快。但是在这种情况下，我看到它使用了正确的索引，但它不仅仅使用了索引。这是怎么回事？

我正在使用 mongoid，我相信 mongo 2.0.8。

更新：

切换到使用 Mongoid v3.1.4 和 mongod v2.2

这是 mongod 从 mongoid 看到的查询： Mon Jul 15 10:47:26 [conn14] runQuery called spl_development.merchants { $query: { st: { $regex: "cr", $options: "i" } } , $explain: true } Mon Jul 15 10:47:26 [conn14] query spl_development.merchants query: { $query: { st: { $regex: "cr", $options: "i" } }, $explain: true } ntoreturn:0 keyUpdates:0 locks(micros) r:212 nreturned:1 reslen:393 0ms

所以投影不会被发送到 mongod 层，只是在应用层处理它。不理想！

这已被认为是 mongoid 中的一个错误，可以在此处进行跟踪： [https ://github.com/mongoid/mongoid/issues/3142](https://github.com/mongoid/mongoid/issues/3142)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T06:39:21.477

我希望您的查询不能使用覆盖索引，因为您有一个包含在索引中的数组的字段。这是在解释中建议的`"isMultiKey" : true`。

如文档中所述（[创建支持涵盖查询的索引](http://docs.mongodb.org/manual/applications/indexes/#indexes-covered-queries)）：

> 如果集合中任何文档中的任何索引字段包含数组，则 MongoDB 无法使用覆盖查询。如果索引字段是数组，则索引变为多键索引，无法支持覆盖查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:32:16.697

我无法重现 2.2.2 中的问题，但添加`.sort({n: 1, _id: 1})`到链中。因为您没有排序，所以您`find`以 mongo 希望使用的任何顺序请求文档，如果这与索引中的顺序（例如 order）不匹配，`$natural`它仍然必须阅读文档。

```
db.merchants.find({st: "Blue"}, {n:1,_id:1}).sort({n: 1, _id: 1}).explain() 
```

# xslt - Umbraco 当前成员详细信息以逗号分隔的多个文本字符串列表

> ID：14190641
> 
> 赞同：0
> 
> 时间：2013-01-07T05:54:18.257
> 
> 标签：xslt, umbraco, comma

我正在创建一个从当前成员获取属性的宏。该属性使用“多个文本字符串”数据类型，每个文本字符串包含一个媒体 ID、版本号以及添加的日期和时间。

```
<xsl:output method="xml" omit-xml-declaration="yes"/>

<xsl:param name="currentPage"/>

<xsl:template match="/">

        <xsl:if test="count(umbraco.library:GetCurrentMember()/assetDownloads/values/value) > 0">
                <ul>
                        <xsl:for-each select="umbraco.library:GetCurrentMember()/assetDownloads/values/value">
                                <li>
                                        <xsl:if test="./preview != ''">
                                                <img>
                                                        <xsl:attribute name="src">
                                                                <xsl:value-of select="./preview" />
                                                        </xsl:attribute>
                                                </img>
                                        </xsl:if>
                                        <p><xsl:value-of select="current()"/></p>       
                                </li>
                        </xsl:for-each>
                </ul>
        </xsl:if>

</xsl:template> 
```

结果如下：

*   1475,1,28-Dec-12 01:26:45

*   1475,1,28-Dec-12 01:27:03

第一个值是媒体类型 ID，第二个值是版本号，第三个值是下载日期和时间。

如何分隔字符串以便显示来自媒体类型的详细信息？我想显示媒体类型的预览图像和媒体类型的节点名称。

有人可以帮助我吗？

干杯，合资企业

这是如何将第一个值显示为预览图像和节点名称：

```
<!-- First value as preview image and nodeName -->
<xsl:if test="position() = 1">
    <img>
        <xsl:attribute name="src">
            <xsl:value-of select="umbraco.library:GetMedia(., 0)/preview" />
        </xsl:attribute>
    </img>
    <p><xsl:value-of select="umbraco.library:GetMedia(., 0)/@nodeName" /></p>
</xsl:if> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T09:48:45.117

`, (Comma)`尝试使用通过以下方式分隔的 Umbraco 拆分功能

```
<xsl:variable name="contentSplit" select="umbraco.library:Split(current(), ',')" /> 
```

重构代码：

```
<xsl:if test="count(umbraco.library:GetCurrentMember()/assetDownloads/values/value) > 0">
  <ul>
    <xsl:for-each select="umbraco.library:GetCurrentMember()/assetDownloads/values/value">
      <li>
        <xsl:if test="./preview != ''">
          <img>
            <xsl:attribute name="src">
              <xsl:value-of select="./preview" />
            </xsl:attribute>
          </img>
        </xsl:if>
        <p>

          <!-- Split values via , comma using below function -->
          <xsl:variable name="contentSplit" select="umbraco.library:Split(current(), ',')" />

          <xsl:for-each select="$contentSplit/value">

            <!-- First value as media type id -->
            <xsl:if test="position() = 1">
              Media Type Id: <xsl:value-of select="." />
            </xsl:if>

            <!-- Second value as version number -->
            <xsl:if test="position() = 2">
              Version: <xsl:value-of select="." />
            </xsl:if>

            <!-- Third value as date and time of download -->
            <xsl:if test="position() = 3">
              Date Time: <xsl:value-of select="." />
            </xsl:if>

          </xsl:for-each>

        </p>       
      </li>
    </xsl:for-each>
  </ul>
</xsl:if> 
```

如果您需要更多解释，请告诉我，谢谢

# android - 在详细信息片段上更改列表片段的字体

> ID：14190648
> 
> 赞同：4
> 
> 时间：2013-01-07T05:55:10.860
> 
> 标签：android, android-layout, android-fragments, android-listfragment, android-fonts

我正在尝试使用 android 4.0 实现片段。我在 DummyContent.java 文件的列表片段中添加了三个项目

```
static {
    // Add 3 sample items.
    addItem(new DummyItem("1", "Videos"));
    addItem(new DummyItem("2", "Images"));
    addItem(new DummyItem("3", "Story"));
} 
```

这些视频、图像、故事出现在片段的左侧，点击每个它的项目都会在右侧显示详细片段的详细信息。

我想更改这些列表视图的字体，但问题是列表片段使用系统 textview 如下

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // TODO: replace with a real list adapter.
    setListAdapter(new ArrayAdapter<DummyContent.DummyItem>(getActivity(),
            android.R.layout.simple_list_item_activated_1,
            android.R.id.text1, DummyContent.ITEMS));
} 
```

这不允许我将字体应用于`android.R.id.text1`

请帮我

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T06:53:48.080

一种方法是扩展`ArrayAdapter`和覆盖该`getView`方法以获取`TextView`：

```
public class MyArrayAdapter<T> extends ArrayAdapter<T> {

    public MyArrayAdapter(Context context, List<T> items) {

        super(context, android.R.layout.simple_list_item_activated_1, android.R.id.text1, items);
    }

    public MyArrayAdapter(Context context, T[] items) {

        super(context, android.R.layout.simple_list_item_activated_1, android.R.id.text1, items);
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        View view = super.getView(position, convertView, parent);
        TextView textView = (TextView) view.findViewById(android.R.id.text1);
        textView.setTypeface(Typeface.createFromAsset(getContext().getAssets(), "font/segoeuil.tff"));

        return view;
    }
} 
```

然后，您将像这样设置您的适配器：

```
setListAdapter(new MyArrayAdapter<DummyContent.DummyItem>(getActivity(), DummyContent.ITEMS); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:01:10.973

您可以使用自己的自定义布局而不是预定义的布局创建这样的 xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
say your layout name be custom.xml
<TextView xmlns:android="http://schemas.android.com/apk/res/android" 
 android:id="@+id/cust_view"  
    android:layout_width="match_parent" 
    android:textSize="12dp"
    android:padding="6dp"
    android:layout_height="wrap_content" /> 
```

您可以为此布局提供自己的字体。然后像这样设置适配器

```
setListAdapter(new ArrayAdapter<DummyContent.DummyItem>(getActivity(),
            R.layout.custom,
            android.R.id.text1, DummyContent.ITEMS)); 
```

我希望这能帮到您

# ruby - 如何用递增的值填充数组 Ruby

> ID：14190652
> 
> 赞同：6
> 
> 时间：2013-01-07T05:55:31.983
> 
> 标签：ruby, arrays, project

我正在尝试解决[http://projecteuler.net/problem=1](http://projecteuler.net/problem=1)。

我想创建一个方法，它接受一个整数，然后创建一个包含它前面的所有整数的数组，并将整数本身作为数组中的值。

以下是我到目前为止所拥有的。代码不起作用。

```
def make_array(num)
  numbers = Array.new num  
  count = 1

  numbers.each do |number|
    numbers << number = count
    count = count + 1
  end

  return numbers    
end

make_array(10) 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-07T05:58:50.223

`(1..num).to_a`是您在 Ruby 中需要做的所有事情。

`1..num`将创建一个以任何值`Range`开始`1`和结束的对象`num`。`Range`对象有方法通过枚举范围内的每个元素`to_a`来将它们炸毁。`Arrays`

对于大多数目的，您实际上并不需要`Array`-`Range`可以正常工作。这包括迭代（考虑到您正在处理的问题，这是我假设您想要的）。

也就是说，知道如何创建这样的`Array`“手工”是宝贵的学习经验，因此您可能需要继续努力。提示：你想从一个空数组 ( `[]`) 开始，而不是从 . 开始`Array.new num`，然后迭代一些东西`num.times`，并将数字添加到`Array`. 如果你已经从一个`Array`size开始`num`，然后将`num`元素推入其中，你最终会得到两个`num`元素。如果像您的情况一样，您*在迭代数组时*添加元素，则循环永远不会退出，因为对于您处理的每个元素，您都会添加另一个元素。这就像用磁铁的排斥面追逐一个金属球。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-08T10:01:49.220

回答欧拉问题：

```
(1 ... 1000).to_a.select{|x| x%3==0 || x%5==0}.reduce(:+) # => 233168 
```

有时，单行代码比我认为的更详细的代码更具可读性。

假设您正在通过 ProjectEuler 上的示例学习 Ruby，我将解释该行的作用：

```
(1 ... 1000).to_a 
```

将创建一个编号为 1 到 999 的数组。Euler-Question 想要*低于*1000 的数字。在 Range 中使用三个点将创建没有边界值本身的数组。

```
.select{|x| x%3==0 || x%5==0} 
```

仅选择可被 3 或 5 整除的元素，因此是 3 或 5 的倍数。其他值被丢弃。此操作的结果是一个只有 3 或 5 倍数的新数组。

```
.reduce(:+) 
```

最后，此操作会将数组中的所有数字相加（或将其减少为一个数字）：解决方案所需的总和。

我想说明的是：很多你每天都要手工编写的方法已经集成在 ruby​​ 中，因为它是程序员为程序员设计的语言。务实；）

# objective-c - IOS 从另一个视图访问一个视图

> ID：14190656
> 
> 赞同：0
> 
> 时间：2013-01-07T05:55:56.590
> 
> 标签：objective-c, ios, uiview, uiviewcontroller

基本上我有一个具有两个子视图的视图控制器。我希望将这些视图连接起来。触摸事件应该从另一个视图触发事件，反之亦然。我想过两种解决方案。

1-) 通过视图控制器访问视图

2-) 每个视图都有一个指向另一个视图的指针

我是 IOS 的新手，据我从其他问题中了解到，不建议从视图访问视图控制器。那么，你们建议我怎么做？

编辑：

我在编码方面没有取得太大进展，但我的第一个观点是：

```
@interface PaintView : UIView
-(id)initWithFrame:(CGRect)frame andController:(ViewController*)ctrl; 
```

我将控制触摸事件并访问我的视图控制器：

```
-(void) touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
     //[self.controller somethingThatAccessToOtherView]
} 
```

第二个视图将与那个非常相似。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:24:11.717

为什么不使用委托模式！
因为这两个视图相互通信.. 它本质上类似于“每个视图都有一个指向另一个视图的指针”，但方式更加灵活

[这](https://stackoverflow.com/questions/1051842/simple-delegate-example)是一个关于它的线程和

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:28:38.800

如果您想要最简单、最肮脏且不推荐的操作方式。用某种独特的标签标记你的两个视图（例如，-20 和 -21 或其他东西。所以在你创建视图的视图控制器中，你执行以下操作。

```
[v1 setTag:-20];
[v2 setTag:-21]; 
```

然后你可以从说，v2，下面做。

```
[self.superview viewWithTag:-20]; 
```

获取对 v1 的引用。但是，这假定了相同的超级视图，并且不是一种很好的做事方式，除非您确定视图层次不会改变（我在说，这是您制作的一个小部件，没有其他人会接触到您）无论如何，我已经很好地记录了它）。

更好的方法是使用委托模式。ViewController 是每个子视图的委托。触摸时，子视图会调用一些方法，例如

```
[delegate iwastouched:self]; 
```

并且委托有一个类似的方法

```
-(void) iwastouched:(UIView *) someview {
     if(someview == v1){
         //view 1 was touched, do something to view two
     }
     if(someview == v2){
         //view 2 was touched, do something to view one
     } 
} 
```

另一种不好的做法是使用通知。地狱，有尽可能多的方法可以做到这一点。有些不是那么好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:22:51.040

而不是这样做，在 的子类中`UIViewController`，您应该有两个成员。这些成员将代表每个子视图。

现在，在 的子类中`UIViewController`，添加您感兴趣的 touch 方法。在此方法中，识别生成任何触摸事件的视图。

根据它，将事件传递给其他视图。

您不应该将 UIViewController 作为子类的 iVar `UIView`。

# java - 无法分配最终的局部变量连接。它必须为空白且不使用复合赋值

> ID：14190662
> 
> 赞同：0
> 
> 时间：2013-01-07T05:56:43.280
> 
> 标签：java, android, facebook

我已经使用“内容”字符串从网站以及在 facebook 集成中获取数据以在墙上共享当前页面的数据（内容），我试图在声明前添加 final，但是这会在 bundle 中引发以下错误。 .. 最终局部变量连接无法赋值。它必须为空白且不使用复合赋值。我该如何纠正这个？

```
private String headerContent;
  public String html,content;
     private Facebook mFacebook;
        private AsyncFacebookRunner mAsyncRunner;
    private Bundle bundle;
    public String description,title;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single_list_item);

    facebook.setOnClickListener(new View.OnClickListener() {

        //@Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Bundle params = new Bundle();

            mFacebook.dialog(Singlemenuitem.this, "feed",params,
               (DialogListener) new SampleDialogListener());            

              }

    });

    if (bundle != null)

    {

        headerContent = bundle.getString("Header_Content");
content=bundle.getString("content");

        url = bundle.getString("url");
        webView.loadUrl(url);
    } 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:00:58.683

你不能做变量`final`。`final`必须使用初始化表达式或在构造函数中初始化变量。您正在分配给它`onCreate`，这在对象的生命周期中为时已晚。

与其制作变量`public`，不如制作它`private`并提供一个访问器方法。

```
private String content;

public String getContent() {
    return content;
} 
```

# php - 删除数组键，只留下数据

> ID：14190663
> 
> 赞同：1
> 
> 时间：2013-01-07T05:56:44.997
> 
> 标签：php, arrays

我有一个来自数据库的数组，我只想留下`productnames`没有要显示的数组结构。

```
public function selectAll () 
{
    $stmt = Database::get()->query('SELECT `productname` FROM retrofootball_products');
    return $stmt->fetchAll(PDO::FETCH_ASSOC);
} 
```

这个的输出是

```
Array ( [0] => Array ( [productname] => Manchester City 1981 Centenary FA Cup Final Shirt ) [1] => Array ( [productname] => Manchester City 1999 Playoff Winning Shirt ) ) 
```

我想留下来

```
Manchester City 1981 Centenary FA Cup Final Shirt, Manchester City 1999 Playoff Winning Shirt 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T06:00:04.287

如果你想用逗号分隔使用[implode](http://php.net/manual/en/function.implode.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:00:26.033

您可以使用[implode](http://php.net/manual/fr/function.implode.php)：

```
implode(',', $smt->fetchAll(PDO::FECTH_ASSOC)); 
```

# python - 修改 Python 2D 列表中的元素 [0][0]

> ID：14190665
> 
> 赞同：2
> 
> 时间：2013-01-07T05:57:11.510
> 
> 标签：python

> **可能重复：**
> [追加到子列表追加到每个子列表](https://stackoverflow.com/questions/14190513/append-to-a-sublist-appends-to-every-sublist)

二维列表初始化为`grid=[[False]*N] *N`

打印网格产生：

```
[[False, False, False, False], [False, False, False, False], [False, False, False, False], [False, False, False, False]] 
```

现在我希望第 1 行和第 1 列中的元素为真。我只希望第 1 行和第 1 列中的元素为真。其他元素必须为假。

`grid[0][0]=True`

在我将 grid[0][0] 设置为 true 后，打印网格会产生：

`[[True, False, False, False], [True, False, False, False], [True, False, False, False], [True, False, False, False]]`

但是现在每一行的第一个元素都是真，但我只希望第一行的第一个元素是真。

请帮忙。我是 Python 新手。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:00:14.957

将单个引用数据类型相乘只会创建相同类型的多个引用。这意味着 [True]*N 实际上是元素 [True] 的相同实例的 N 倍

因此，改变一个会在不经意间改变另一个

正如您在以下示例中看到的，

```
>>> grid = [[True]]*10
>>> grid = [True]*10
>>> [id(e) for e in grid]
[505379788, 505379788, 505379788, 505379788, 505379788, 505379788, 505379788, 505379788, 505379788, 505379788] 
```

它显示所有元素实际上都是同一个实例。

但是因为这里的元素不是可变类型，所以在这里更改不会成为问题，因为更改其中一个元素只会分配一个新实例。

可变类型发生问题

```
>>> [id(e) for e in grid]
[66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744]
>>> grid[0][0]=False
>>> [id(e) for e in grid]
[66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744, 66523744]
>>> grid
[[False], [False], [False], [False], [False], [False], [False], [False], [False], [False]] 
```

要克服它，您需要了解哪些是可变类型并避免复制它，而是创建相同可变类型的新多个实例

所以这里作为一个列表是一个可变类型，你需要创建多个实例，可能通过列表理解

```
[[False]*N for _ in range(N)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T05:59:52.080

就像[这个问题](https://stackoverflow.com/q/14190513/1907098)一样，您的列表实际上指向同一个列表。相反，将您的列表定义为：

```
[[False] * N for i in xrange(N)] 
```

或者在 Python 3 中：

```
[[False] * N for i in range(N)] 
```

然后修改一个元素将**仅**修改该元素。

请注意，Python 3`range`函数也适用于 Python 2 - 但是在 Python 2 中，该`range`函数返回一个列表，而不是`range`Python 3 中的`xrange`对象和 Python 2 中的对象，它们都是迭代器。

# web-config - 限制特定用户对特定页面的访问

> ID：14190669
> 
> 赞同：0
> 
> 时间：2013-01-07T05:57:39.533
> 
> 标签：web-config, authorization, vb.net-2010

使用 vb.net 。它包含一个名为 trlist.aspx 的页面。我想允许特定用户（xxx，yyy）访问该页面。不允许其他人。我在 web.config 中进行了一些更改。但我无法获得结果。即，特定用户的访问未被拒绝。他们能够访问它。

```
 web.config 
```

* * *

```
 <location path="trlist.aspx">
<system.web>
  <authorization>
    <allow users="xxx,yyy"/> 

    <deny users="*"/>  
  </authorization>

</system.web> 
```

# ruby-on-rails - 为现有的 Rails 应用程序设计

> ID：14190670
> 
> 赞同：1
> 
> 时间：2013-01-07T05:57:40.283
> 
> 标签：ruby-on-rails, devise

我已经构建了一个 ROR 应用程序。现在我需要实现设计功能。我有现有的用户数据登录，所以我不想使用设计 Sign_in 、 sign_up 等视图。关于如何实现这一目标的任何建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:20:23.890

最简单的方法是生成新视图并通过添加旧视图的样式和标记来自定义它们。

或者查看示例应用程序并将所需的表单复制到现有视图中，例如：

对于登录页面（新会话），设计生成此代码

在 **app/views/devise/sessions/new.html.erb**

```
<h2>Sign in</h2>

<%= form_for(resource, :as => resource_name, :url => session_path(resource_name)) do |f| %>
  <div><%= f.label :email %><br />
  <%= f.email_field :email %></div>

  <div><%= f.label :password %><br />
  <%= f.password_field :password %></div>

  <% if devise_mapping.rememberable? -%>
    <div><%= f.check_box :remember_me %> <%= f.label :remember_me %></div>
  <% end -%>

  <div><%= f.submit "Sign in" %></div>
<% end %>

<%= render "devise/shared/links" %> 
```

所以我想说最好的选择是生成它们，并将您视图中的代码复制到由设计生成的代码中，或者将设计生成的代码复制到您的视图中（第一个选项更好，因为它保留了默认的设计路由）并且您不需要将设计控制器映射到您的自定义视图。

如果您**确实需要**使用旧视图，只需添加相应的表单和字段，并将设计控制器映射到相应**的视图，这种方式更复杂，**但可以完成，请阅读：[https ://github.com/plataformatec /devise#configuring-controllers](https://github.com/plataformatec/devise#configuring-controllers)了解更多信息。

# java - 调用 CallVoidMethod 时出现 NoSuchMethodError

> ID：14190672
> 
> 赞同：1
> 
> 时间：2013-01-07T05:58:21.883
> 
> 标签：java, c++, java-native-interface, nosuchmethoderror, jnienv

我正在从我的 jni 类中调用一个非静态函数，但我的游戏得到了

> NoSuchMethodError

我已经给出了以下功能

jni类

```
void InitializeJni()
{
    cocos2d::JniMethodInfo methodInfo;
    if (! JniHelper::getStaticMethodInfo(methodInfo, CLASS_NAME, "Start", "()V"))
    {
        return ;
    }
    methodInfo.env->CallStaticVoidMethod(methodInfo.classID, methodInfo.methodID);
    methodInfo.env->DeleteLocalRef(methodInfo.classID);
}

JNIEXPORT void JNICALL Java_com_games_Game_MyClass_nativeObjectCallBack(JNIEnv *env, jobject obj)
{
    jclass cls = env->GetObjectClass(obj);
    jmethodID mid = env->GetMethodID(cls, "Init", "()V");
    if (mid == 0)
        return;
    env->CallVoidMethod(obj, mid); 
```

Java 类

```
public static native void nativeObjectCallBack();

public void Init()
{
    //my code
}

public static void Start()
{
    ((CYWGameAndroid)CYWUtil.GetInstance().GetContext()).runOnUiThread(new Runnable()
    {
        @Override
        public void run() 
        {
            nativeObjectCallBack();
        }
    });
} 
```

谁能告诉我为什么会这样

这是我的 logcat 输出

```
01-07 16:53:49.987: D/dalvikvm(11832): GetMethodID: method not found: Ljava/lang/Class;.Init:()V
01-07 16:53:52.049: D/AndroidRuntime(11832): Shutting down VM
01-07 16:53:52.049: W/dalvikvm(11832): threadid=1: thread exiting with uncaught exception (group=0x4001d5a0)
01-07 16:53:52.109: E/AndroidRuntime(11832): FATAL EXCEPTION: main
01-07 16:53:52.109: E/AndroidRuntime(11832): java.lang.NoSuchMethodError: Init
01-07 16:53:52.109: E/AndroidRuntime(11832):    at com.games.Game.MyClass.nativeObjectCallBack(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T08:53:07.777

`CallVoidMethod()`应该使用实例参数而不是 classID 参数调用。

# c - 我可以使用它的地址从另一个编译单元调用静态函数吗？

> ID：14190673
> 
> 赞同：3
> 
> 时间：2013-01-07T05:58:23.403
> 
> 标签：c, static-functions

> **可能重复：**
> [其他文件中的静态函数访问](https://stackoverflow.com/questions/2182598/static-function-access-in-other-files)

IIRC，静态函数在自己的“编译单元”之外不可见，我认为这是一个 .C 文件。

我可以将其地址作为参数传递给另一个单元中的函数，以便第二个单元稍后将调用第一个单元的静态函数作为回调吗？

我猜测静态函数的“可见性”是它对链接器的可见性，因此，虽然我不能在 unit2.c 中直接调用 unit1.c 的静态函数，但我可以传递它的地址并按地址调用它。

谁能证实这一点？抱歉，这些天我的 C 有点生锈了。提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:00:42.953

是的，你可以这样调用静态函数

# django - 如何从数据库中仅获取选定的列并在 Django 中对其进行格式化？

> ID：14190675
> 
> 赞同：0
> 
> 时间：2013-01-07T05:58:24.383
> 
> 标签：django, templates

我只想显示数据库中的选定列，例如：

```
Select coloum1, coloum2, coloum3 from Table1; 
```

我只想显示三列。使用`Entry.objects.all()`不允许我这样做。现在，在检索每一列后，我得到这种格式的数据：

```
ok.py 172.16.0.161 January 07, 2013, 11:36AM January 07, 2013, 11:36AM 0 bytes 
```

我想在不同的列中显示每个元素，例如：

```
name    host               Date                          Date
ok.py   172.16.0.161       11:36AM January 07, 2013      2013, 11:36AM 0 bytes 
```

我尝试在模板中使用简单的 for 循环：

```
{% for i in query %}
{{ i }}
{% endfor %} 
```

这将检索所有元素，例如：

```
ok.py 172.16.0.161 January 07, 2013, 11:36AM January 07, 2013, 11:36AM 0 bytes
hello.py 172.16.0.161 January 07, 2013, 11:36AM January 07, 2013, 11:36AM 0 bytes 
```

如何在不同的列中向用户展示它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T07:07:28.870

你可以用[`values_list`](https://docs.djangoproject.com/en/1.4/ref/models/querysets/#values-list)这个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T08:17:30.503

您可以使用`Entry.objects.values('field1','field2','field3')`which 将返回一个列表字典，即`[{'field1':value1,'field2':value2,'field3':value3},..]`

或者，您也可以使用`Entry.objects.values_list('field1','field2','field3')`which 将返回值的元组列表，即`[(value1,value2,value3),..]`. 如果您尝试从数据库中仅获取一个字段，则可以`Entry.objects.values_list('field1',flat=True)`使用 flat 参数将返回值列表而不是值的元组列表，即 [value1a,value1b,value1c]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:16:35.750

如果*query*是一个查询集，那么变量*i*是一个对象。

您可以像通常使用*object.attribute*语法一样获取对象属性（即*i.name*、*i.host*等）

使用您从循环中拉出的属性制作一个常规的 html。

您可以执行原始 sql 查询，如下例所示： first_person = Person.objects.raw('SELECT name, address from myapp_person') for some model Person

您绝对应该查看 django 文档。 [https://docs.djangoproject.com/en/1.4/](https://docs.djangoproject.com/en/1.4/)

# google-bigquery - 有没有办法确定一个表的碎片程度？

> ID：14190677
> 
> 赞同：1
> 
> 时间：2013-01-07T05:58:48.897
> 
> 标签：google-bigquery

这与：[Google BigQuery 运行查询缓慢](https://stackoverflow.com/questions/13739160/google-bigquery-is-running-queries-slowly)

我正在尝试确定我正在使用的某些表是否存在此合并问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T20:58:04.023

目前，不，没有办法判断表的碎片程度。一般来说，我们希望对用户隐藏这些信息，并在表格过于碎片化时做正确的事情并合并。但是，这是我们正在考虑添加的内容，因为它可以在问题发生时提供可见性。

# html - CSS3动画滞后

> ID：14190679
> 
> 赞同：0
> 
> 时间：2013-01-07T05:58:51.597
> 
> 标签：html, css, slideshow

好吧，我正在尝试制作一个纯 CSS3 图像幻灯片。（是的，我知道使用 JQuery 可以更轻松地完成它。）我无法让它在我的浏览器 chrome 上运行，所以我还没有为其他浏览器添加语法。

我的 HTML 是...

```
 <div class="slide-show">
                <img src="pictures/slide-1.jpg" alt="Broken Earth" class="slide-1"/>
                <img src="pictures/slide-2.jpg" alt="World Map" class="slide-2"/>
                <img src="pictures/slide-3.jpg" alt="Sunset" class="slide-3"/>
                <img src="pictures/slide-4.jpg" alt="Ursumian Flag" class="slide-4"/>
            </div> 
```

我的CSS是...

```
.slide-show {

    border-style: solid;
    border-width: 3px;
    border-color: #746d27;
    overflow: visible;
    width: 600px;
    height: 300px;
    position: relative;
    margin-left: auto;
    margin-right: auto;
    top: 30px;

}

.slide-1 {

    position: relative;
    -webkit-animation-name: one;
    -webkit-animation-duration: 20s;
    -webkit-animation-timing-function: linear;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-play-state: running;
    width: 600px;
    height: 300px;

}

.slide-2 {

    position: relative;
    -webkit-animation-name: two;
    -webkit-animation-duration: 20s;
    -webkit-animation-timing-function: linear;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-play-state: running;
    width: 600px;
    height: 300px;

}

.slide-3 {

    position: relative;
    -webkit-animation-name: three;
    -webkit-animation-duration: 20s;
    -webkit-animation-timing-function: linear;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-play-state: running;
    width: 600px;
    height: 300px;

}

.slide-4 {

    position: relative;
    -webkit-animation-name: four;
    -webkit-animation-duration: 20s;
    -webkit-animation-timing-function: linear;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-play-state: running;
    width: 600px;
    height: 300px;

}

@-webkit-keyframes one {

    0%   {left: 0px; top: 0px;}
    15%  {left: 0px; top: 0px;}
    20%  {left: 600px; top: 0px;}
    21%  {left: 600px; top: 300px;}
    22%  {left: -600px; top: 300px;}
    23%  {left: -600px; top: 0px;}
    95%  {left: -600px; top: 0px;}
    100% {left: 0px; top: 0px;}

}

@-webkit-keyframes two {

    0%   {left: -600px; top: -305px;}
    15%   {left: -600px; top: -305px;}
    20%   {left: 0px; top: -305px;}
    35%   {left: 0px; top: -305px;}
    40%   {left: 600px; top: -305px;}
    41%   {left: 600px; top: -5px;}
    42%   {left: -600px; top: -5px;}
    43%   {left: -600px; top: -305px;}
    100%   {left: -600px; top: -305px;}

}

@-webkit-keyframes three {

    0%   {left: -600px; top: -610px;}
    35%   {left: -600px; top: -610px;}
    40%   {left: 0px; top: -610px;}
    55%   {left: 0px; top: -610px;}
    60%   {left: 600px; top: -610px;}
    61%   {left: 600px; top: -310px;}
    62%   {left: -600px; top: -310px;}
    63%   {left: -600px; top: -610px;}
    100%   {left: -600px; top: -610px;}

}

@-webkit-keyframes four {

    0%   {left: -600px; top: -915px;}
    55%   {left: -600px; top: -915px;}
    60%   {left: 0px; top: -915px;}
    75%   {left: 0px; top: -915px;}
    80%   {left: 600px; top: -915px;}
    81%   {left: 600px; top: -615px;}
    82%   {left: -600px; top: -615px;}
    83%   {left: -600px; top: -915px;}
    100%   {left: -600px; top: -915px;}

} 
```

请注意，“幻灯片”类确实将“溢出”设置为“可见”。这样我就可以确保所有图像都正确移动。当他们这样做时，这将被切换到“隐藏”。共有 4 张图片，每张只能进出舞台总共 2 秒，每张总共要花 3 秒坐在舞台上。为什么我在最后一张幻灯片中有延迟？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T08:18:42.943

不要只使用 -webkit-，为每个“样式”添加另一个没有 -webkit-

另外，能提供demo吗？

# ruby - 用另一个文件中的数据替换一个文件中的部分内容

> ID：14190690
> 
> 赞同：1
> 
> 时间：2013-01-07T05:59:59.640
> 
> 标签：ruby, regex, jruby

我有一个 html 文件`myfile.html`，其中包含一个带有如下行的脚本：

```
var json = '[{"name":"Hydrogen","number":"1","symbol":"H","weight":"1.00794"},{"name":"Helium","number":2,"symbol":"He","weight":4.002602},{"name":"Lithium","number":3,"symbol":"Li","weight":6.941},{"name":"Beryllium","number":4,"symbol":"Be","weight":9.012182},{"name":"Boron","number":5,"symbol":"B","weight":10.811},{"name":"Carbon","number":6,"symbol":"C","weight":12.0107}]'; 
```

分配给变量的单引号内的字符串`json`实际上会有所不同。我想用另一个文件的全部内容替换这个字符串`myjson.json`。

我在这里尝试了代码： [在 Ruby 中的文件中查找和替换，在](https://stackoverflow.com/questions/6915327/find-and-replace-in-a-file-in-ruby) 这里： [搜索并替换为 ruby​​ 正则表达式](https://stackoverflow.com/questions/4703309/search-and-replace-with-ruby-regex) ：

```
replace = File.read("myjson.json")
changefile = File.read("myfile.html")
changefile.sub( %r{var json = '[^<]+';}, replace ) 
```

但它不工作。我不确定它是否是我做错的正则表达式，或者它是否更多。

# 更新

阅读下面的回复后，我的第一次尝试是：

```
replace = File.read("myjson.json")
changefile = File.read("myfile.html")
changefile.sub!(%r{var json = '.+'}, replace)
puts changefile 
```

这确实找到了正确的，但删除了所有`var json = ''`并用 myjson.json 替换它 - 我想保留`var json =` 并且只替换两个单引号之间的内容。所以我尝试了：

```
replace = File.read("myjson.json")
changefile = File.read("myfile.html")
changefile.sub!(%r{var json = '.+'}, "var json = 'replace'")
puts changefile 
```

但这只是将其替换为`var json = 'replace'`

我想使用原件`var json =`来查找位置，但我不希望它被删除。

所以我做了一些我知道是愚蠢和错误的事情，但它奏效了：

```
replace = File.read("myjson.json")
changefile = File.read("myfile.html")
changefile.sub!(%r{var json = '.+'}, "var json = 'thanksforthehelptinman'")
changefile.sub!(%r{thanksforthehelptinman}, replace)
puts changefile 
```

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:25:43.083

正则表达式不正确，因为`[`and`]`保留在正则表达式中。你需要逃避它们：

```
%r{var json = '\[.+\]'} 
```

我不能更准确，因为我不知道你的 JSON 文件中有什么，但这应该让你进入球场。

此外，除非您分配`changefile.sub`给某些东西，否则替换将被丢弃。您可以执行以下两项操作之一：

```
changefile = changefile.sub(%r{var json = '\[.+\]'}, json) 
```

或变异`changefile`：

```
changefile.sub!(%r{var json = '\[.+\]'}, json) 
```

# android - 如何调试 dalvikvm 拒绝操作码？

> ID：14190692
> 
> 赞同：0
> 
> 时间：2013-01-07T06:00:10.353
> 
> 标签：android, dalvik

我如何理解这些错误？这是与错误相关的所有日志猫。所有其他都是 GC 类型的消息。

```
01-07 19:14:08.536: W/dalvikvm(5780): VFY: register2 v4-5 values 6,24
01-07 19:14:08.536: W/dalvikvm(5780): VFY:  rejecting opcode 0xce at 0x004a
01-07 19:14:08.536: W/dalvikvm(5780): VFY:  rejected Lnz/co/great_ape/headsup/sat_track/SGP4unit_sgp4;.sgp4 (Lnz/co/great_ape/headsup/sat_track/SGP4SatData;D[D[D)Z
01-07 19:14:08.536: W/dalvikvm(5780): Verifier rejected class Lnz/co/great_ape/headsup/sat_track/SGP4unit_sgp4; 
```

我知道代码，大约有 400 行`sgp4 satellite tracking software`（不是我的代码）。

当我创建这个类的一个实例（它有 400 多行）时触发了这个问题，我通过简单地注释掉所有代码，然后取消注释部分直到错误返回，将问题跟踪到这部分代码，

这里的所有变量都是双精度数。那么，为什么 android 会拒绝使用 OP_DIV_DOUBLE 和 OP_DIV_DOUBLE_2ADDR 之类的操作码的代码

无论如何，这是代码部分。

```
 /* -------------- update for short period periodics ------------ */
            if(satrec.method == 'd')
            {
                cosisq = cosip * cosip;
                satrec.con41 = 3.0 * cosisq - 1.0;
                satrec.x1mth2 = 1.0 - cosisq;
                satrec.x7thm1 = 7.0 * cosisq - 1.0;
            }
            mrt = rl * (1.0 - 1.5 * temp2 * betal * satrec.con41) +
                    0.5 * temp1 * satrec.x1mth2 * cos2u;
            su = su - 0.25 * temp2 * satrec.x7thm1 * sin2u;
            xnode = nodep + 1.5 * temp2 * cosip * sin2u;
            xinc = xincp + 1.5 * temp2 * cosip * sinip * cos2u;
            mvt = rdotl - nm * temp1 * satrec.x1mth2 * sin2u / xke;
            rvdot = rvdotl + nm * temp1 * (satrec.x1mth2 * cos2u +
                    1.5 * satrec.con41) / xke; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T04:11:34.150

行。这样的代码似乎从来没有任何问题，只是方法的长度和变量的数量。在方法之外声明它们解决了这个问题。

您可以在此处获取更多信息：

[https://groups.google.com/forum/?fromgroups=#!topic/android-developers/lxiTkNzOvZY](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/lxiTkNzOvZY)

# php - 寻找格式化一个数组的想法？

> ID：14190697
> 
> 赞同：0
> 
> 时间：2013-01-07T06:00:36.103
> 
> 标签：php, arrays, codeigniter

我有一个如下所示的三维数组。

```
 Array
(
[d1] => Array
    (
        [c1] => Array
            (
                [t1] => Array
                    (
                        [a1] => 1
                        [a2] => 2
                        [a3] => 1
                        [a4] => 1
                        [a5] => 1
                        [a6] => 1
                        [a7] => 1
                    )

                [t2] => Array
                    (
                        [a1] => 0
                        [a2] => 1
                        [a3] => 0
                        [a4] => 1
                        [a5] => 2
                        [a6] => 0
                        [a7] => 1                            
                    )

                [t3] => Array
                    (
                        [a1] => 1
                        [a2] => 3
                        [a3] => 2
                        [a4] => 4
                        [a5] => 2
                        [a6] => 2
                        [a7] => 3                            
                    )
            )

        [c2] => Array
            (
                [t1] => Array
                    (
                        [a1] => 1
                        [a2] => 2
                        [a3] => 1
                        [a4] => 2
                        [a5] => 2
                        [a6] => 1
                        [a7] => 2                            
                    )

                [t2] => Array
                    (
                        [a1] => 0
                        [a2] => 1
                        [a3] => 0
                        [a4] => 1
                        [a5] => 0
                        [a6] => 0
                        [a7] => 0                           
                    )

                [t3] => Array
                    (
                        [a1] => 1
                        [a2] => 1
                        [a3] => 1
                        [a4] => 1
                        [a5] => 2
                        [a6] => 1
                        [a7] => 2                            
                    )
            )

    )
[d2] => Array
    (
        [c1] => Array
            (
                [t1] => Array
                    (
                        [a1] => 1
                        [a2] => 2
                        [a3] => 1
                        [a4] => 1
                        [a5] => 1
                        [a6] => 1
                        [a7] => 1
                    )

                [t2] => Array
                    (
                        [a1] => 0
                        [a2] => 1
                        [a3] => 0
                        [a4] => 1
                        [a5] => 2
                        [a6] => 0
                        [a7] => 1                            
                    )

                [t3] => Array
                    (
                        [a1] => 1
                        [a2] => 3
                        [a3] => 2
                        [a4] => 4
                        [a5] => 2
                        [a6] => 2
                        [a7] => 3                            
                    )
            )

        [c2] => Array
            (
                [t1] => Array
                    (
                        [a1] => 1
                        [a2] => 2
                        [a3] => 1
                        [a4] => 2
                        [a5] => 2
                        [a6] => 1
                        [a7] => 2                            
                    )

                [t2] => Array
                    (
                        [a1] => 0
                        [a2] => 1
                        [a3] => 0
                        [a4] => 1
                        [a5] => 0
                        [a6] => 0
                        [a7] => 0                           
                    )

                [t3] => Array
                    (
                        [a1] => 1
                        [a2] => 1
                        [a3] => 1
                        [a4] => 1
                        [a5] => 2
                        [a6] => 1
                        [a7] => 2                            
                    )
            )

    )

) 
```

这是数组的 PHP 代码：

```
$data = array(
  'd1' => array(
    'c1' => array(
      't1' => array(
        'a1' => 1,
        'a2' => 2,
        'a3' => 1,
        'a4' => 1,
        'a5' => 1,
        'a6' => 1,
        'a7' => 1,
      ),
      't2' => array(
        'a1' => 0,
        'a2' => 1,
        'a3' => 0,
        'a4' => 1,
        'a5' => 2,
        'a6' => 0,
        'a7' => 1,
      ),
      't3' => array(
        'a1' => 1,
        'a2' => 3,
        'a3' => 2,
        'a4' => 4,
        'a5' => 2,
        'a6' => 2,
        'a7' => 3,
      ),
    ),
    'c2' => array(
      't1' => array(
        'a1' => 1,
        'a2' => 2,
        'a3' => 1,
        'a4' => 2,
        'a5' => 2,
        'a6' => 1,
        'a7' => 2,
      ),
      't2' => array(
        'a1' => 0,
        'a2' => 1,
        'a3' => 0,
        'a4' => 1,
        'a5' => 0,
        'a6' => 0,
        'a7' => 0,
      ),
      't3' => array(
        'a1' => 1,
        'a2' => 1,
        'a3' => 1,
        'a4' => 1,
        'a5' => 2,
        'a6' => 1,
        'a7' => 2,
      ),
    ),
  ),
  'd2' => array(
    'c1' => array(
      't1' => array(
        'a1' => 1,
        'a2' => 2,
        'a3' => 1,
        'a4' => 1,
        'a5' => 1,
        'a6' => 1,
        'a7' => 1,
      ),
      't2' => array(
        'a1' => 0,
        'a2' => 1,
        'a3' => 0,
        'a4' => 1,
        'a5' => 2,
        'a6' => 0,
        'a7' => 1,
      ),
      't3' => array(
        'a1' => 1,
        'a2' => 3,
        'a3' => 2,
        'a4' => 4,
        'a5' => 2,
        'a6' => 2,
        'a7' => 3,
      ),
    ),
    'c2' => array(
      't1' => array(
        'a1' => 1,
        'a2' => 2,
        'a3' => 1,
        'a4' => 2,
        'a5' => 2,
        'a6' => 1,
        'a7' => 2,
      ),
      't2' => array(
        'a1' => 0,
        'a2' => 1,
        'a3' => 0,
        'a4' => 1,
        'a5' => 0,
        'a6' => 0,
        'a7' => 0,
      ),
      't3' => array(
        'a1' => 1,
        'a2' => 1,
        'a3' => 1,
        'a4' => 1,
        'a5' => 2,
        'a6' => 1,
        'a7' => 2,
      ),
    ),
  ),
); 
```

现在我想将此数组拆分为几个数组并将这些数组放入一个数组中，如下所示。

```
 Array
(
[0] => Array 
        (
            [d1] => d1
            [c1] => c1
            [t1] => t1
            [a1] => 1
            [a2] => 2
            [a3] => 1
            [a4] => 1
            [a5] => 1
            [a6] => 1
            [a7] => 1
        )
[1] => Array 
        (
            [d1] => d1
            [c1] => c1
            [t1] => t2
            [a1] => 0
            [a2] => 1
            [a3] => 0
            [a4] => 1
            [a5] => 2
            [a6] => 0
            [a7] => 1
        )
[2] => Array 
        (
            [d1] => d1
            [c1] => c1
            [t1] => t3
            [a1] => 1
            [a2] => 3
            [a3] => 2
            [a4] => 4
            [a5] => 2
            [a6] => 2
            [a7] => 3
        )
[3] => Array 
        (
            [d1] => d1
            [c1] => c2
            [t1] => t1
            [a1] => 1
            [a2] => 2
            [a3] => 1
            [a4] => 2
            [a5] => 2
            [a6] => 1
            [a7] => 2
        )
[4] => Array 
        (
            [d1] => d1
            [c1] => c2
            [t1] => t2
            [a1] => 0
            [a2] => 1
            [a3] => 0
            [a4] => 1
            [a5] => 0
            [a6] => 0
            [a7] => 0
        )
[5] => Array 
        (
            [d1] => d1
            [c1] => c2
            [t1] => t3
            [a1] => 1
            [a2] => 1
            [a3] => 1
            [a4] => 1
            [a5] => 2
            [a6] => 1
            [a7] => 2
        )
[6] => Array 
        (
            [d1] => d1
            [c1] => c1
            [t1] => t1
            [a1] => 1
            [a2] => 2
            [a3] => 1
            [a4] => 1
            [a5] => 1
            [a6] => 1
            [a7] => 1
        )
[1] => Array 
        (
            [d1] => d2
            [c1] => c1
            [t1] => t2
            [a1] => 0
            [a2] => 1
            [a3] => 0
            [a4] => 1
            [a5] => 2
            [a6] => 0
            [a7] => 1
        )
[7] => Array 
        (
            [d1] => d2
            [c1] => c1
            [t1] => t3
            [a1] => 1
            [a2] => 3
            [a3] => 2
            [a4] => 4
            [a5] => 2
            [a6] => 2
            [a7] => 3
        )
[8] => Array 
        (
            [d1] => d2
            [c1] => c2
            [t1] => t1
            [a1] => 1
            [a2] => 2
            [a3] => 1
            [a4] => 2
            [a5] => 2
            [a6] => 1
            [a7] => 2
        )
[9] => Array 
        (
            [d1] => d2
            [c1] => c2
            [t1] => t2
            [a1] => 0
            [a2] => 1
            [a3] => 0
            [a4] => 1
            [a5] => 0
            [a6] => 0
            [a7] => 0
        )
[10] => Array 
        (
            [d1] => d2
            [c1] => c2
            [t1] => t3
            [a1] => 1
            [a2] => 1
            [a3] => 1
            [a4] => 1
            [a5] => 2
            [a6] => 1
            [a7] => 2
        )
) 
```

寻找任何想法如何进行......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T06:22:16.903

假设`$data`是您原来的多维数组：

```
$final = array();
foreach($data as $di => $dv){
    foreach($dv as $ci => $cv){
        foreach($cv as $ti => $tv){
            $final[] = array_merge(array("d" => $di, "c" => $ci, "t" => $ti), $tv);
        }
    }
}
var_dump($final); 
```

[你可以在这里](http://codepad.org/QLvegIQL)看到一个演示

# .net - 母版页的屏幕分辨率问题

> ID：14190699
> 
> 赞同：-1
> 
> 时间：2013-01-07T06:00:43.317
> 
> 标签：.net, html

我在.net 中有一个母版页。我有一个图像列表作为模块图标顶部。我在 div 下使用了 div ，当我将分辨率从高更改为低时，它会下降两行，请建议我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:07:25.327

你的问题不是那么详细..所以我试图回答你非常基本的问题。如果您在 中使用`px`了高度和宽度，请`CSS`删除它们..并尝试以百分比形式给出高度和宽度。

```
width: 100%;
height: 100%;
position: absolute; 
```

# google-drive-api - Google Drive API - 为第 3 方应用分配配额

> ID：14190706
> 
> 赞同：2
> 
> 时间：2013-01-07T06:01:42.347
> 
> 标签：google-drive-api

**介绍**

1.  Google 为其订户提供约 5Gb 的存储空间
2.  此存储可用于存储任意文件
3.  Google 发布了与存储交互的 API，即 GDrive SDK

**用例：**

*   第三方应用程序（例如用户订阅的网站）被授予对部分订阅者 GDrive 存储（配额）的访问权限
*   应用程序代表用户管理分配的配额。
*   托管配额上的部分内容可以被广大公众访问（由第三部分应用程序控制）。

Google 是否支持上述用例？以什么方式？是否有任何其他应用程序支持这种用例？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-08T01:15:59.337

这是一个非常好的用例，感谢提出它。抱歉，很遗憾目前无法使用 Google Drive SDK。

# ruby-on-rails - 如何通过另一个模型设置 has_many 关系但需要唯一性？

> ID：14190711
> 
> 赞同：0
> 
> 时间：2013-01-07T06:02:22.643
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有 4 个模型：`Products`, `Vendors`, `Categories`, `CategoryProducts`（加入模型）。

*   供应商有许多产品。
*   产品属于供应商。
*   一个产品有很多类别。
*   供应商通过产品有许多类别。

这就是我的模型现在的设置方式：

`Vendor.rb`

```
class Vendor < ActiveRecord::Base

  attr_accessible :name, :description, :category_ids, :product_ids, :user_id

    has_many :products, :dependent => :destroy
    has_many :categories, :through => :products
    belongs_to :owner, :class_name => "User",
        :foreign_key => "user_id"   
end 
```

`Product.rb`

```
class Product < ActiveRecord::Base
  attr_accessible :name, :description, :price, :vendor_id, :category_ids

    belongs_to :vendor
    has_many :category_products do
           def with_categories
             includes(:category)
           end
    end

    has_many :categories, :through => :category_products

end 
```

`Category.rb`

```
class Category < ActiveRecord::Base
  attr_accessible :name, :product_ids, :category_ids
    has_many :category_products do
         def with_products
           includes(:product)
         end
       end

  has_many :products, :through => :category_products

end 
```

的连接模型`Product & Category`：

`CategoryProduct.rb`

```
class CategoryProduct < ActiveRecord::Base
  attr_accessible :product_id, :category_id, :purchases_count

    belongs_to :product
  belongs_to :category

  validates_uniqueness_of :product_id, :scope => :category_id
end 
```

当我尝试在命令行上获取供应商的类别时，它会返回很多重复的结果——主要是因为它本质上是返回该供应商拥有的每个产品的类别。

这是一个示例，其中`v = Vendor.first`：

```
1.9.3p194 :008 > v.products.count
   (0.3ms)  SELECT COUNT(*) FROM "products" WHERE "products"."vendor_id" = 10
 => 8 
1.9.3p194 :009 > v.categories.count
   (0.3ms)  SELECT COUNT(*) FROM "categories" INNER JOIN "category_products" ON "categories"."id" = "category_products"."category_id" INNER JOIN "products" ON "category_products"."product_id" = "products"."id" WHERE "products"."vendor_id" = 10
 => 13 
1.9.3p194 :010 > Category.count
   (7.8ms)  SELECT COUNT(*) FROM "categories" 
 => 2 
```

`v.products.count`有些产品有多个类别，这就是和之间存在差异的原因`v.categories.count`。

我如何才能`v.categories.count`向我展示唯一数量的类别（在这种情况下，最大值是`2`）？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:11:51.850

我认为这很简单。只需使用以下`uniq`方法。

```
v.categories.uniq.count 
```

要将其置于关联级别，您可以使用`:uniq => true`如下选项。

```
has_many :categories, :uniq => true 
```

# java - 在android嵌套的PreferenceScreen上显示向上/后退按钮？

> ID：14190713
> 
> 赞同：13
> 
> 时间：2013-01-07T06:02:39.850
> 
> 标签：java, android, android-actionbar

我有一个两级 PreferenceScreen：

```
<PreferenceScreen>
general settings
   <PreferenceScreen android:key="adv_settings">
   more advanced settings
   </PreferenceScreen>
</PreferenceScreen> 
```

我的问题是第二个屏幕不会自动在操作栏上显示后退/向上按钮。如何使向上按钮出现在 adv_settings 上？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-27T00:37:39.137

您可以通过编写与应用程序主题一起使用的自定义 ActionBar 样式来添加箭头。

**res/values-v11/styles.xml：（**或将这些添加到您现有的styles.xml）

```
<?xml version="1.0" encoding="utf-8"?>
<resources>    
  <style name="MyTheme" parent="@android:style/Theme.Holo.Light">
    <item name="android:actionBarStyle">@style/MyActionBar</item>
  </style>

  <style name="MyActionBar" parent="@android:style/Widget.Holo.ActionBar">
    <item name="android:displayOptions">showHome|homeAsUp|showTitle</item>
  </style>
</resources> 
```

然后在你的 AndroidManifest.xml 中应用这个主题：

```
<application android:theme="@style/MyTheme"> 
```

*注意*：添加此箭头的明显方法应该是调用：

```
getActionBar().setDisplayHomeAsUpEnabled(true); 
```

一旦第二个屏幕加载，但我认为有一个 Android 错误，其中 getActionBar() 总是返回第一层 ActionBar 对象，而不是当前可见的对象，因此动态设置箭头失败。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-08T21:38:06.087

这可能需要更多工作，但您可以创建两个 PreferenceAtivity 文件，每个文件都有自己的 PreferenceFragment。每个 PreferenceFragment 都有自己的 PreferenceScreen XML（第一级屏幕和第二级屏幕）。从第一级屏幕中，您启动第二个 PreferenceActivity，并在标签内添加一个 Intent。在第二个 PreferenceActivity 中，您可以通过以下方式设置主页图标：

```
ActionBar bar = getActionBar();
bar.setDisplayHomeAsUpEnabled(true); 
```

然后还有一个主页按钮的处理程序：

```
@Override
public boolean onOptionsItemSelected(MenuItem item)
{
    if (item.getItemId() == android.R.id.home) {
        finish();
    }

    return false;
} 
```

资产：

```
FirstPreferenceActivty
FirstPreferenceFragment
pref_first.xml (layout with PreferenceScreen and Prefernce nodes)

SecondPreferenceActivty
SecondPreferenceFragment
pref_second.xml (layout with PreferenceScreen and Prefernce nodes) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T14:40:14.983

如果按钮没有自动出现，您可以像在这些链接上那样手动添加它：

[Android：如何制作自定义 PreferenceScreen？](https://stackoverflow.com/questions/8922977/android-how-can-make-custom-preferencescreen)

[http://pastebin.com/334Eip35](http://pastebin.com/334Eip35)

该 SO 问题的第二个答案中有一个示例代码，其中的代码段可能来自另一个 pastebin 位置。

# jquery - 如何将两个单选按钮值发送到 mvc4 中的控制器？

> ID：14190717
> 
> 赞同：0
> 
> 时间：2013-01-07T06:02:54.953
> 
> 标签：jquery, asp.net-mvc, radio-button

当我创建新产品时，我需要定义它是否是本地的。产品模型具有布尔类型的**IsLocal**属性。

这是视图：

```
<form action="/Product/Create" method="post" id="Product_Form">
        <div>
            <label>Local</label>
            <input type="radio" name="IsLocal" id="IsLocal" value="yes" checked="checked" tabindex="10" />
        </div>

        <div>
            <label>Not local</label>
            <input type="radio" name="IsLocal" value="no" tabindex="11" />
        </div>

      <div id="yes">
          //some fields looks when product is local.
        </div>
        ...
        <input type="submit" value="Create" class="large" tabindex="17" />
 </form> 
```

首先，选中**本地单选按钮。**当我检查**Not local**时，某些字段会隐藏在此代码中。

```
<script>
      $("input:radio[name='IsLocal']").click(function () {
      $('#yes').hide();
      $('#' + $("input:radio[name='IsLocal']:checked").val()).show(); });
</script> 
```

但是，我应该使用我找到的 jquery 函数将值发送到控制器。

```
jQuery.post('/Product/Create', {
                    Name: jQuery('#Name').val(),
                    IsLocal: jQuery('#IsLocal').val(),
                    ImagePath: jQuery('#ImagePath').val(),
                    CategoryId: jQuery('#CategoryId').val(),
                    Price: jQuery('#Price').val(),
                    ............................ 
                    formname: 'Product_Form',
                    formtype: 'ProductF'
} 
```

**问题是， IsLocal 总是错误的。**但是，其他字段的值正确地进入控制器。我应该怎么做，根据检查发送**IsLocal值？**（抱歉英语不好）

**编辑：**

我改变`<input>`了`@Html.RadioButtonFor()`：

```
@Html.RadioButtonFor(model => model.IsLocal, true, new { id = "IsLocal_true", value = "yes", Checked = "checked" })

@Html.RadioButtonFor(model => model.IsLocal, false, new { id = "IsLocal_false", value = "no" }) 
```

`IsLocal`有效，但现在隐藏面板不起作用。现在，我必须如何更改此脚本？隐藏和显示`<div id="yes">`标签。

```
<script>
      $("input:radio[name='IsLocal']").click(function () {
      $('#yes').hide();
      $('#' + $("input:radio[name='IsLocal']:checked").val()).show(); });
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:08:14.037

试试这个：jQuery('#IsLocal').is(":checked")

```
jQuery.post('/Product/Create', {
                    Name: jQuery('#Name').val(),
                    IsLocal: jQuery('#IsLocal').is(":checked"),
                    ImagePath: jQuery('#ImagePath').val(),
                    CategoryId: jQuery('#CategoryId').val(),
                    Price: jQuery('#Price').val(),
                    ............................ 
                    formname: 'Product_Form',
                    formtype: 'ProductF'
} 
```

**供您编辑**

在此处查看演示[http://jsfiddle.net/43GsG/4/](http://jsfiddle.net/43GsG/4/)

HTML：

```
@Html.RadioButtonFor(model => model.IsLocal, true, new { name = "IsLocal", id = "IsLocal_true", value = "yes", Checked = "checked" })

@Html.RadioButtonFor(model => model.IsLocal, false, new { name = "IsLocal", id = "IsLocal_false", value = "no" }) 
```

JS：

```
$("input[name=IsLocal]").click(function () {
    if($('#IsLocal_true').is(":checked")){
      $('#yes').show();
    }
    else {
      $('#yes').hide();
    }
  }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:09:02.227

如果您想要选择单选按钮的值，最好按照以下方式进行。

> jQuery('input:radio[name=IsLocal]:checked').val();

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T06:12:57.647

尝试 ：

```
 jQuery('#IsLocal').attr('checked'); 
```

# android - Android：如何在活动之上获得覆盖

> ID：14190719
> 
> 赞同：2
> 
> 时间：2013-01-07T06:03:05.920
> 
> 标签：android

当用户第一次安装我的应用程序时，我想向他解释每个活动的作用（如快速提示），它应该如下图所示

![在此处输入图像描述](../Images/e6d1c278051c5d8d474407420534ec77.png)

它应该有取消按钮，并且在第一次安装后不应该重复，

我需要建议或任何有用的链接，如何实现它，感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:33:04.510

无论用户是否查看了您的指令，您都可以使用 SharePreference 来存储状态。只需将名为“instructionViewed”的布尔值添加到 SharePreference。每次启动应用程序时，检查该值。如果为真，则不显示指令。如果为假，则显示说明。当用户单击取消按钮时，将值设置为 true。

SharePreference 是一个非常易于使用的类来帮助存储一些信息。你可以谷歌如何使用它。

希望这有帮助。

* * *

```
 @Override
    protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.testpage);

         //Check SharePreference
         boolean instructionViewed = checkInstrunctionState();

         //If the instruction is not viewed, show instruction.    
         if(!instructionViewed){
               RelativeLayout yourLayout = createYourOwnUi();
               FrameLayout contentView  = (FrameLayout)(getWindow().getDecorView().findViewById(android.R.id.content));
               FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(MATCH_PARENT,MATCH_PARENT);
               contentView.addView(yourLayout, lp);
             }
        } 
```

# c# - 有解决我的情况的算法吗？

> ID：14190722
> 
> 赞同：0
> 
> 时间：2013-01-07T06:03:18.773
> 
> 标签：c#

我在我的一个项目中遇到了一些问题，我希望你们能澄清一下这个问题。

情况是这样的；我有一组 12 人分为 4 组。这是一系列 3 轮比赛中的初始阵容。

我的问题是这个；我怎样才能在接下来的两轮中重新渲染这些组，以便之前没有见过的组中的人？

我希望重新渲染的组是唯一的，例如。在接下来的两轮中，第 1 人不得与第 2 人或第 3 人组队。如果第 1 人在第二轮中与第 4 人和第 5 人组队，则这些人也应在最后一轮中被排除在外。

**第 1 组**

第 1 人，第 2 人，第 3 人

**第 2 组**

第 4 人、第 5 人、第 6 人

**第 3 组**

第 7 人，第 8 人，第 9 人

**第 4 组**

10 人，11 人，12 人

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:16:33.630

尝试这个：

```
for (i = 0 to NrGroups-1) do // NrGroups = 4
{
   newGroup + (i+1) = Arr[i] + 
                      Arr[(i+(Arr.length/NrPersonsInGroup))%Arr.length] + 
                      Arr[(i+(Arr.length/NrPersonsInGroup+1))%Arr.length]; // NrPersonsInGroup = 3
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T21:51:21.620

听起来你需要一个[组合](http://en.wikipedia.org/wiki/Combination)算法。有关性能等组合的更多详细信息，请[在此处查看](https://stackoverflow.com/questions/127704/algorithm-to-return-all-combinations-of-k-elements-from-n?lq=1)，对于带有解释的代码示例，您可以[在此处查看](http://www.codeproject.com/Articles/26050/Permutations-Combinations-and-Variations-using-C-G#)。
您的具体实现是 12 人组合，一次取 3 个，不重复。这为您提供了 220 个可能的组。
检查相同的两个人以前是否曾在一个组中的一种方法是保留已形成的组的记录，并根据记录检查任何新组，以查看被比较的两个组是否有任何两个共同的人。

# c# - 返回常量值的函数

> ID：14190730
> 
> 赞同：4
> 
> 时间：2013-01-07T06:04:17.273
> 
> 标签：c#, .net, visual-studio-2010, enums, .net-4.5

我有一个以下函数，它接受一个枚举值并基于枚举值返回一个常量值（它在不同的类中）。现在我收到“缺少常量初始化程序”错误。

```
public const int Testfunction(TESTENUM TestEnum)
{
    switch(TestEnum)
    {
      case TestEnum.testval1:
         return testclass.constvalue;
      case TestEnum.testVal2:
         return testclass.constvalue1;
      case TestEnum.testVal3:
         return testclass.constvalue2;
    }
} 
```

1.  函数的返回类型究竟是怎样的？（我正在使用对象返回类型，这不会引发任何错误）

2.  有没有其他选择可以实现相同的目标？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-01-07T06:25:03.840

这里发生的是编译器认为您正在尝试声明一个名为 Testfunction 的公共常量整数字段，并且非常惊讶地发现没有`= 123;`跟随标识符。它告诉你它期望初始化器。

在 C# 编译器中的许多地方，开发团队预计 C 和 C++ 用户会错误地使用常见的 C/C++ 语法。例如，有一条特殊的错误消息`int x[];`指出您可能指的是`int[] x;`. 这是编译器可以从检测常见错误并描述如何修复它的专用错误消息中受益的另一个示例。如果您认为这是一个很好的功能，您可能会考虑请求该功能。

更一般地说，C# 中的“const”的含义与 C 或 C++ 中的含义不同。C# 没有不改变状态的“const 函数”的概念，也没有提供潜在可变数据的只读视图的“const 引用”的概念。在 C# 中，“const”仅用于声明字段（或本地）将被视为编译时常量。（而“readonly”用于声明一个字段只写在构造函数中，这也很有用。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T06:06:29.090

从函数返回类型中删除“const”关键字应该可以解决问题

应该是这样的

```
public int Testfunction(TESTENUM TestEnum)
{
    ... 
```

返回类型不能声明为常量

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T06:06:20.397

.NET 方法不能返回`const`任何类型..

那里的`const`关键字无效：删除它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-07T06:45:39.257

最有可能的工作代码：

```
public static class TestClass
{
    public const int constValue1 = 1;
    public const int constValue2 = 2;
    public const int constValue3 = 3;
}

enum TestEnum
{
    testVal1, testVal2, testVal3
}

public int TestFunction(TestEnum testEnum)
{
    switch (testEnum)
    {
        case TestEnum.testVal1:
            return TestClass.constValue1;
        case TestEnum.testVal2:
            return TestClass.constValue2;
        case TestEnum.testVal3:
            return TestClass.constValue3;
    }
    return 0; // all code paths have to return a value
} 
```

* * *

首先，根据[const (C# Reference)](http://msdn.microsoft.com/en-us/library/e6w8fe1b%28v=vs.100%29.aspx)：

> **const**关键字用于修改字段或局部变量的声明。它指定字段或局部变量的值是常数，这意味着它不能被修改。

在 C# 中，`const`仅用作字段（如`TestClass.constValue1`）或局部变量的修饰符，不适用于函数返回类型。

* * *

所以你来自伟大的 C/C++ 王国。考虑到我对 C/C++ 的知识非常有限，C/C++ 中的`const`返回类型仅对指针有意义......

```
// C++ code
const int m = 1;

// It returns a pointer to a read-only memory
const int* a(){
    return &m;
} 
```

* * *

但除非您使用不安全的代码，否则**C# 中没有指针**。只有**值类型**（如`int`// `DateTime`/ `TestEnum`structs）和**引用类型**（如`string`/classes）。网上还有很多要读的。

就像`int`C# 中的值类型一样，当您返回它时，它会被**复制**。因此，即使您返回“常量`int`”，返回的值*也不是常量*，修改返回值也*不会*“更改常量并导致 SegFault”。

* * *

嗯，忘记回答你的问题了……

1.  函数的返回类型究竟是怎样的？（我正在使用对象返回类型，这不会引发任何错误）

    就像我在上面的代码中显示的那样，`int`.
    `const int blah = 1`只声明一个`blah`类型的变量/字段，`int`不能修改它（通过做`blah = 2`）。在 C#`const int`中*不是*类型。

2.  有没有其他选择可以实现相同的目标？

    嗯...我想我实际上不需要回答这个...

# c - 使用管道、tee() 和 splice() 将数据发送到多个套接字

> ID：14190731
> 
> 赞同：12
> 
> 时间：2013-01-07T06:04:17.683
> 
> 标签：c, linux, pipe, zero-copy

我正在使用 tee() 复制一个“主”管道，以使用 splice() 写入多个套接字。自然，这些管道将以不同的速率清空，具体取决于我可以将多少 splice() 连接到目标套接字。因此，当我接下来将数据添加到“主”管道然后再次 tee() 时，我可能会遇到这样一种情况，即我可以将 64KB 写入管道，但只能将 4KB 写入“从属”管道之一。我猜如果我将所有“主”管道拼接（）到套接字，我将永远无法将剩余的 60KB 发送到该从管道。真的吗？我想我可以跟踪一个 tee_offset （从 0 开始），我将它设置为“unteed”数据的开头，然后不要 splice() 越过它。所以在这种情况下，我会将 tee_offset 设置为 4096 并且不会拼接更多，直到我' 我能够将它全部连接到其他管道。我在正确的轨道上吗？对我有什么提示/警告吗？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-01-07T17:28:02.910

如果我理解正确，您有一些实时数据源，您希望多路复用到多个套接字。你有一个单一的“源”管道连接到生成数据的任何东西，并且你有一个“目标”管道用于每个要发送数据的套接字。您正在做的是使用`tee()`将数据从源管道复制到每个目标管道，`splice()`并将其从目标管道复制到套接字本身。

您将在这里遇到的基本问题是，如果其中一个套接字根本无法跟上 - 如果您生成数据的速度比发送数据的速度快，那么您就会遇到问题。这与您使用管道无关，这只是一个基本问题。因此，您需要选择一种策略来应对这种情况——我建议您处理这种情况，即使您不认为它很常见，因为这些事情以后经常会出现在您身上。您的基本选择是关闭有问题的套接字，或者跳过数据直到它清除其输出缓冲区 - 例如，后一种选择可能更适合音频/视频流。

然而，与您使用管道有关的问题*是，在 Linux 上，管道缓冲区的大小有些不灵活。*`tee()`自 Linux 2.6.11（在 2.6.17 中添加调用）以来，它默认为 64K - 请参阅[管道手册页](http://www.kernel.org/doc/man-pages/online/pages/man7/pipe.7.html)。`F_SETPIPE_SZ`从 2.6.35开始，可以通过选项`fcntl()`（参见[fcntl 手册页](http://www.kernel.org/doc/man-pages/online/pages/man2/fcntl.2.html)）将这个值更改为由 指定的限制`/proc/sys/fs/pipe-size-max`，但是与用户空间中的动态分配方案相比，按需更改缓冲仍然更尴尬。这意味着您应对慢速套接字的能力将受到一定限制——这是否可以接受取决于您期望接收和能够发送数据的速率。

假设这种缓冲策略是可以接受的，那么您的假设是正确的，您需要跟踪每个目标管道从源中消耗了多少数据，并且只有丢弃所有目标管道已经消耗的数据才是安全的。`tee()`由于没有偏移量的概念，这有点复杂- 您只能从管道的开头复制。这样做的结果是您只能以最慢套接字的速度进行复制，因为`tee()`在从源消耗了一些数据之前，您不能使用复制到目标管道，并且您不能这样做*，*直到所有套接字都有您将要使用的数据。

你如何处理这取决于你的数据的重要性。如果你真的需要 and 的速度`tee()`，`splice()`并且你确信慢速套接字将是一个极其罕见的事件，你可以做这样的事情（我假设你使用的是非阻塞 IO 和单线程，但是类似的东西也适用于多个线程）：

1.  确保所有管道都是非阻塞的（用于`fcntl(d, F_SETFL, O_NONBLOCK)`使每个文件描述符非阻塞）。
2.  `read_counter`将每个目标管道的变量初始化为零。
3.  使用类似[epoll()](http://www.kernel.org/doc/man-pages/online/pages/man4/epoll.4.html)的东西等到源管道中有东西。
4.  循环遍历所有`read_counter`为零的目标管道，调用`tee()`以将数据传输到每个目标管道。确保您传递`SPLICE_F_NONBLOCK`标志。
5.  `read_counter`每个目标管道的增量为 传输的数量`tee()`。跟踪最低的结果值。
6.  找到 - 的最低结果值，`read_counter`如果它不为零，则丢弃源管道中的数据量（例如，使用在`splice()`上打开目标的调用`/dev/null`）。丢弃数据后，从*所有*`read_counter`管道上减去丢弃的数量（因为这是最低值，所以这不会导致它们中的任何一个变为负数）。
**   **从步骤3**开始重复。*

 *注意：过去让我感到困惑的一件事是`SPLICE_F_NONBLOCK`影响管道上的`tee()`and`splice()`操作是否是非阻塞的，而`O_NONBLOCK`你设置的 with`fnctl()`会影响与其他调用（例如`read()`and `write()`）的交互是否是非阻塞的。如果您希望所有内容都是非阻塞的，请同时设置。还要记住使您的套接字不阻塞，否则`splice()`将数据传输到它们的调用可能会阻塞（除非这是您想要的，如果您使用的是线程方法）。

正如你所看到的，这种策略有一个主要问题——一旦一个套接字阻塞，一切都会停止——该套接字的目标管道将被填满，然后源管道将变得停滞不前。因此，如果您到达步骤**4**`tee()`中返回的阶段，那么您将要关闭该套接字，或者至少“断开”它（即，将其从循环中取出），这样您就不会向它写入任何其他内容直到其输出缓冲区为空。您选择哪种取决于您的数据流是否可以从跳过的部分中恢复。`EAGAIN`

 **如果您想更优雅地处理网络延迟，那么您将需要做更多的缓冲，这将涉及用户空间缓冲区（这会否定`tee()`and的优点`splice()`）或者可能是基于磁盘的缓冲区。基于磁盘的缓冲几乎肯定会比用户空间缓冲慢得多，因此不合适，因为您可能想要很高的速度，因为您首先选择了`tee()`，`splice()`但我提到它是为了完整性。

如果您最终在任何时候从用户空间插入数据，那么值得注意的一件事是`vmsplice()`调用，它可以执行从用户空间到管道的“收集输出”，其方式与`writev()`调用类似。如果您正在做足够的缓冲以将数据拆分到多个不同的分配缓冲区（例如，如果您使用池分配器方法），这可能很有用。

最后，您可以想象在“快速”使用方案之间交换套接字，`tee()`并且`splice()`如果它们跟不上，则将它们移至较慢的用户空间缓冲。这将使您的实现复杂化，但是如果您正在处理大量连接并且只有很小一部分连接速度很慢，那么您仍然会减少复制到用户空间的数量，这在一定程度上涉及到。然而，这只是应对瞬态网络问题的短期措施——正如我最初所说的，如果你的套接字比你的源慢，你就会遇到一个根本问题。你最终会达到一些缓冲限制，需要跳过数据或关闭连接。

总的来说，我会仔细考虑为什么您需要速度，`tee()`以及`splice()`对于您的用例，简单地在内存或磁盘上进行用户空间缓冲是否更合适。但是，如果您确信速度将始终很高，并且可以接受有限的缓冲，那么我上面概述的方法应该可以工作。

另外，我应该提到的一件事是，这将使您的代码非常特定于 Linux - 我不知道这些调用在其他 Unix 变体中得到支持。`sendfile()`调用比 更受限制，`splice()`但可能更便携。如果您真的希望事物具有可移植性，请坚持使用用户空间缓冲。

让我知道是否有任何我已经介绍过的内容，您想了解更多详细信息。***

# javascript - 将图像绑定到鼠标光标

> ID：14190739
> 
> 赞同：1
> 
> 时间：2013-01-07T06:05:08.417
> 
> 标签：javascript, jquery, css, image

我想使用 jQuery 将图像与鼠标光标绑定。

以下代码适用于 Firefox，但不适用于 IE8。

```
$('#cursor').css({
       left:  e.pageX,
       top:   e.pageY
    });
//"cursor" is the id of the <img>. 
```

我们有替代方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:07:40.183

我怀疑你没有使用 jQuery 来绑定你的事件监听器。对于 IE，用于鼠标坐标的属性是`e.clientX`和`e.clientY`

```
if(typeof e.pageX !== "undefined"){
    $('#cursor').css({
           left:  e.pageX,
           top:   e.pageY
    });
} else {
    $('#cursor').css({
           left:  e.clientX,
           top:   e.clientY
    });
} 
```

当然，如果你使用 jQuery 绑定你的监听器，你不必担心这一点，因为传递给与 jQuery 绑定的处理程序的事件对象具有在跨浏览器`pageX`和属性中标准化的鼠标坐标：`pageY`

```
$('document').mousemove(function (evt) {
    $('#cursor').css({
       left:  evt.pageX,
       top:   evt.pageY
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T06:07:56.873

尝试将其位置设置为绝对并操作顶部和左侧属性。你可以像这样使用 jQuery 来做到这一点：

```
$("#cursor").css({"position":"absolute","left":e.pageX+"px","top":e.pageY+"px"}); 
```

或者您可以使用普通的旧 Javascript 并执行以下操作：

```
document.getElementById("cursor").style.position = "absolute";
document.getElementById("cursor").style.left = e.pageX+"px";
document.getElementById("cursor").style.top = e.pageY+"px"; 
```

但根据 IE 的版本，您可能需要使用 clientX 和 clientY 而不是 pageX 和 pageY。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:08:30.820

尝试：

```
$('#cursor').css({'top': e.clientY, 'left': e.clientX}); 
```

# xpages - 服务器端脚本在大量使用后停止工作

> ID：14190741
> 
> 赞同：0
> 
> 时间：2013-01-07T06:05:22.383
> 
> 标签：xpages, lotus-notes

我已经用 XPages 构建了一个选项卡式应用程序。我的问题是，当我打开很多标签时，每个服务器端脚本都停止工作。我仍然得到部分刷新，但他没有执行任何服务器端脚本。完全刷新后，每个想法都会再次起作用。我可以在每台服务器上重现这个。

任何想法如何解决这个问题？

更新（更多详细信息）我使用 iframe 并在每个选项卡中创建一个复杂的视图（带有中继器）我打开选项卡不是为了快速一切工作都很完美，但如果我打开选项卡快速没有任何工作，它影响到每个脚本。

我没有收到客户端脚本错误，也没有收到服务器端脚本错误。其中一些脚本很简单，例如 document.replaceItemValue("fieldname", "value"); 我在函数中只设置了一个打印语句，但它也不会执行。

如果他遇到内存问题，服务器似乎会删除 xpages 会话

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T08:54:45.090

你需要仔细检查。这听起来不像是“繁重”的使用，更像是并发问题。请注意，您在脚本库中定义的任何变量都是应用程序范围的。如果多个调用更新相同的值，您可能会遇到这种行为。范围变量用于保留值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T07:52:58.157

问题的解决方案是，我必须增加 xsp.persistence.file.maxviews 属性的数量

# android - 从 sd 卡到画廊视图的图像

> ID：14190749
> 
> 赞同：0
> 
> 时间：2013-01-07T06:05:57.183
> 
> 标签：android, android-sdcard

我想将图像从 sd 卡显示到画廊视图我正在使用代码，它从 drawable 获取图像..但我想更改为 SD 卡

```
private Gallery gallery;
private ImageView imgView;
int position;
private Integer[] Imgid = { R.drawable.a_1, R.drawable.a_2, R.drawable.a_3,
        R.drawable.a_4, R.drawable.a_5, R.drawable.a_6, R.drawable.a_7 };

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    position = 0;
    imgView = (ImageView) findViewById(R.id.ImageView01);
    imgView.setImageResource(Imgid[0]);

    gallery = (Gallery) findViewById(R.id.examplegallery);
    gallery.setAdapter(new AddImgAdp(this));

    gallery.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView parent, View v, int position,
                long id) {
            imgView.setImageResource(Imgid[position]);
            GalleryExample.this.position = position;
        }
    });

    imgView.setOnLongClickListener(new View.OnLongClickListener() {
        public boolean onLongClick(View v) {

            AlertDialog alertDialog = new AlertDialog.Builder(
                    GalleryExample.this).create();
            alertDialog.setTitle("Confirmation");
            alertDialog
                    .setMessage("Do you want to set this image as wallaper?");
            alertDialog.setButton("Yes",
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,
                                int which) {

                            Bitmap bitmap = BitmapFactory.decodeResource(
                                    getResources(), Imgid[position]);
                            try {
                                GalleryExample.this.setWallpaper(bitmap);
                            } catch (IOException e) {
                                // TODO Auto-generated catch block
                                e.printStackTrace();
                            }
                            Log.d("Gallery Example", "Image setted.");

                        }
                    });

            alertDialog.show();
            return true;
        }
    });

}

public class AddImgAdp extends BaseAdapter {
    int GalItemBg;
    private Context cont;

    public AddImgAdp(Context c) {
        cont = c;
        TypedArray typArray = obtainStyledAttributes(R.styleable.GalleryTheme);
        GalItemBg = typArray.getResourceId(
                R.styleable.GalleryTheme_android_galleryItemBackground, 0);
        typArray.recycle();
    }

    public int getCount() {
        return Imgid.length;
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        ImageView imgView = new ImageView(cont);

        imgView.setImageResource(Imgid[position]);
        imgView.setLayoutParams(new Gallery.LayoutParams(100, 100));
        imgView.setScaleType(ImageView.ScaleType.FIT_XY);
        imgView.setBackgroundResource(GalItemBg);

        return imgView;
    }
} 
```

但是我想从 SD 卡中获取图像我该如何修改呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:09:44.050

试试这个 ：：

这篇博客文章有一个很好的例子。它向您展示了如何使用适配器：[http](http://mihaifonoage.blogspot.com/2009/09/displaying-images-from-sd-card-in.html) : //mihaifonoage.blogspot.com/2009/09/displaying-images-from-sd-card-in.html 但是我将扩展 CursorAdapter 而不是 BaseAdapter。

要从特定文件夹中获取图像，请参阅[此](https://stackoverflow.com/questions/10549417/displaying-images-from-specific-folder-in-sd-card-in-grid-view)链接。

希望这可以帮助你:)

# visual-studio-2010 - Visual Studio 属性表自动包含

> ID：14190750
> 
> 赞同：2
> 
> 时间：2013-01-07T06:06:01.373
> 
> 标签：visual-studio-2010, dependency-properties

为简化起见，假设我已经编写了两个库，Lib1 和 Lib2。每个库都有一个配置：静态 (.lib) 版本 Win32 (/MD)。每个库都有一个属性表（分别为 include_lib1.props 和 include_lib2.props）。给定库的属性表：

*   导出库目录下生成的 .lib 的路径
*   在包含目录下导出库源的路径
*   将生成的 .lib 的名称添加到链接器的输入要求中。

* * *

依赖项：

*   Lib1 没有依赖项（即，它只包含 Microsoft.Cpp.Win32.user）。
*   Lib2 有一个依赖项：Lib1（即，Lib2 包括 Microsoft.Cpp.Win32.user 和 include_lib1.props）。

* * *

现在我想写一个应用程序。从表面上看，它只依赖于 Lib2——但由于 Lib2 是使用 Lib1 构建的，因此应用程序需要*Lib1.props*和 Lib2.props*（即，它尝试与 Lib1.lib 链接，但由于 Lib1 的属性表不是那里说在哪里可以找到它）。

我的问题是：有没有办法让它在我包含 include_lib2.props 时自动包含 include_lib1.props——或者做一些等效的事情？

* * *

*这本身就很奇怪——这些库是用 /MD 构建的，可能是这样吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T01:21:33.617

答案似乎只是将一个属性表添加*到*另一个属性表中。右键单击属性表可以添加现有的。

这以模块化、简洁的方式很好地解决了这个问题。更改后的属性表可以在多个地方使用。将其添加到新项目会递归添加依赖的属性表，可以在属性页中查看。

# facebook - getLoginStatus() 在 firefox/ie 中没有得到响应

> ID：14190755
> 
> 赞同：0
> 
> 时间：2013-01-07T06:06:34.983
> 
> 标签：facebook, firefox

以下代码在 Firefox 或 IE 中似乎不起作用，但在 Chrome 中运行良好。我希望有人可能对我做错了什么有所了解。它用于在 Facebook 画布中运行统一游戏。

```
<script type='text/javascript'>
var appID = 'xxxxxxxxxxxxxxxxxxx';
var connected = false;
var loggedin = false;
var purchaseResult = "Failed";
var inviteResult = "Failed";

window.fbAsyncInit = function() {
// init the FB JS SDK
FB.init({
  appId      : appID, // App ID from the App Dashboard
  status     : true, // check the login status upon init?
  cookie     : true, // set sessions cookies to allow your server to access the session?
  oauth      : true, // enable OAuth 2.0
  frictionlessRequests : true,
  xfbml      : false  // parse XFBML tags on this page?
});

// Additional initialization code such as adding Event Listeners goes here
//Get the current login status.
document.getElementById("text").innerText = "Getting login status";
console.log("Getting login status");
    FB.getLoginStatus(function(response) {
      console.log("got response");
      var user_box = document.getElementById("login");
      //document.getElementById("text").innerText = "Got response: " + response.status;
  if (response.status === 'connected') {
    // the user is logged in and has authenticated your
    // app, and response.authResponse supplies
    // the user's ID, a valid access token, a signed
    // request, and the time the access token 
    // and signed request each expire
    var uid = response.authResponse.userID;
    console.log("Getting login status returned user id: " + uid);
    var accessToken = response.authResponse.accessToken;
    //user_box.style.visibility = 'hidden';
    loggedin = true; 
    //document.write("Connected to facebook");
  } else if (response.status === 'not_authorized') {
    // the user is logged in to Facebook, 
    // but has not authenticated your app
    user_box.style.display = 'block';
    FB.Event.subscribe('auth.login', function(response) {
      // Let unity know the user has logged in
      GetCurrentUser();
      user_box.style.display = 'none';
    });
  } else {
    // the user isn't logged in to Facebook.
    FB.Event.subscribe('auth.login', function(response) {
      // Let unity know the user has logged in
      GetCurrentUser();
      user_box.style.display = 'none';
    });
    user_box.style.display = 'block';
  }

  if (loggedin) {
    GetCurrentUser();
  }
}, true);
}; 
```

我在那里有日志消息以检查发生了什么，但只有在 Chrome 中我才能在“获取登录状态”之后收到任何消息。

谢谢，安德鲁。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:35:34.460

试试你的`Additional initialization code`这个-

```
if (typeof(FB) != 'undefined' && FB != null )
{

    // your code

} 
```

# android - activateBackgroundIndicator 的颜色选择器不起作用

> ID：14190764
> 
> 赞同：2
> 
> 时间：2013-01-07T06:07:38.640
> 
> 标签：android, android-layout

我试图让列表视图中的选定项目保持突出显示。搜索后，activatedBackgroundIndicator 应该是最简单的方法，但我似乎无法让它工作。这是我的代码段

对于我的单个项目布局，我有 res/layout/simplerow.xml

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:padding="10dp"
android:gravity="bottom"
android:textAppearance="?android:attr/textAppearanceMedium"
android:background="?android:attr/activatedBackgroundIndicator" >
</TextView> 
```

和我的颜色选择器，我有 res/drawable/playerbg.xml

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:state_selected="true" android:drawable="@drawable/frame_selected"/>
<item android:state_activated="true" android:drawable="@drawable/frame_activated"/>
<item android:state_pressed="true" android:drawable="@drawable/frame_pressed" />
</selector> 
```

我可以看到颜色选择器正在工作，因为当我按下其中一个项目时，我得到了 picture_frame_pressed。但我无法让任何颜色保持高亮。我正在使用在具有 android 4.2 的真实设备上运行的 API 17

# c++ - 识别导致内存错误的变量

> ID：14190767
> 
> 赞同：1
> 
> 时间：2013-01-07T06:07:40.200
> 
> 标签：c++, debugging, memory, gdb, segmentation-fault

所以我现在几次遇到一个奇怪的错误，我正在寻找一些好的方向来识别问题。

基本上我看到的是一个段错误。症状如下：

1.  它仅在程序处于发布模式而不是调试时发生。
2.  它显示为段错误，GDB 告诉我它位于函数末尾的`_list_release`//`_free()`中。`free()`

    `Program received signal SIGSEGV, Segmentation fault.`

    `0xb0328af8 in _list_release () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3`

    `(gdb) bt`

    `0 0xb0328af8 in _list_release () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3`

    `1 0xb032a464 in __free () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3`

    `2 0xb0329f7d in free () from /usr/qnx650/target/qnx6/x86/lib/libc.so.3`

3.  我没有使用任何动态内存（Eigen（或其他库）中可能出现的内存除外）

4.  我可以在函数结束之前打印所有局部变量，所以它不是双重释放的。

上次发生这种情况时，这是一个适合所有这些问题的内存故障。恼人的是，这次我找不到问题所在。

我想做的是以下内容：

1.  这将非常有用：如何在调试模式下强制此错误，然后 GDB 会更有帮助。
2.  找出导致问题的小虫子的最佳方法是什么。**注意：**我不能使用 valgrind，它在我使用的操作系统（QNX）上不起作用

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T07:31:48.887

> 它显示为段错误，GDB 告诉我它在 _list_release/_free()/free()

通常，*任何*崩溃`free()`都是堆损坏的迹象（双重释放、对已释放内存的写入、释放未分配（例如堆栈或全局）内存或堆缓冲区溢出）。

> 我没有使用任何动态内存

是的，你*是*。您通过其他库间接这样做的事实是无关紧要的。

> 我可以在函数结束之前打印所有局部变量，所以它不是双重释放的。

正如许多评论者已经说过的那样，您的结论并不成立：您可以很好地访问释放的内存，它甚至可能仍然包含合理的值。

> 如何在调试模式下强制此错误，然后 GDB 会更有帮助。

*   您可以使用“-O2 -g”（“发布”模式但启用调试信息）进行构建。
*   GDB 可能*不会*更有帮助——GDB 在调试堆损坏方面有点无用。

> 追踪什么小虫子的最佳方法是什么

你有几个选择：

*   将您的代码移植到可以使用[Valgrind](http://valgrind.org)或[AddressSanitizer的平台](http://code.google.com/p/address-sanitizer/)
*   使用许多调试 malloc 实现之一（dmalloc、mpatrol 等）。QNX 有[一个](http://community.qnx.com/sf/wiki/do/viewPage/projects.core_os/wiki/Debug_Malloc).
*   非常仔细地阅读代码，确保您不会将更多的数据写入可能是 malloc 的缓冲区中。

# database - 如何在 wordpress 的页面上显示自己的搜索查询结果

> ID：14190771
> 
> 赞同：1
> 
> 时间：2013-01-07T06:07:54.583
> 
> 标签：database, wordpress, function

我现在正在研究wordpress。我有一些表格、老师、课程和列表课程的数据库。列表课程是教师和课程之间的连接表。我想制作一个用户可以搜索老师的页面。用户可以根据老师教的课搜索老师。例如，用户选择初中数学，所以按下提交按钮后，网页将显示结果。

我试图手动创建自己的页面，而不是从 wordpress。我调用了 get_header() 函数等等，然后将我的 php.code 放在下面，但它不起作用。现在，我正在尝试创建一个函数，但我不知道如何发送参数进行查询以及如何显示结果。

任何帮助表示赞赏。谢谢！:)

# django - Django + mod_wsgi + apache: ImportError: No module named

> ID：14190773
> 
> 赞同：2
> 
> 时间：2013-01-07T06:07:58.077
> 
> 标签：django, apache, mod-wsgi

设置我的第一个应用程序。我从 django 开发服务器开始，现在正在将东西转移到 apache 设置，以便我可以在我的目标产品环境中编码。我已经成功设置了 mod_wsgi 并获得了成功的“Hello World！”。现在我遇到问题实际上让我的应用程序在 apache 中响应它在 django 开发服务器中的方式。

这是我的目录结构：

*   /var/www/www.example.com/ [站点目录]

    *   示例 [我的应用]

        *   wsgi.py

        *   设置.py

    *   users [我写的另一个 django 模块]

    *   trips [我写的又一个 django 模块]

现在，在我的虚拟主机文件中，我有以下行：WSGIScriptAlias / /var/www/www.example.com/Example/wsgi.py

在我的 wsgi.py 文件中，我有以下几行：

```
sys.path.append('/var/www/www.example.com/Example')
sys.path.append('/var/www/www.example.com/trips')
sys.path.append('/var/www/www.example.com/users') 
```

然而，这是我得到的错误：

```
[Sun Jan 06 21:37:46 2013] [error] [client 127.0.0.1] ImportError: No module named trips 
```

我需要做什么才能让 django 和 mod_wsgi 识别我的旅行和用户应用程序？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T12:50:37.893

不要将每个模块都添加到 sys.path。相反，您应该添加`/var/www/www.example.com`到 sys.path。

# iphone - 根据不同的偏好或排序类型重新加载或刷新 MKMapView

> ID：14190774
> 
> 赞同：6
> 
> 时间：2013-01-07T06:08:03.973
> 
> 标签：iphone, ios, mkmapview, reload

我有一个应用程序，其中地图视图有几个引脚和注释。这些引脚应该根据我的视图中的各种排序选项刷新或重新加载。例如，图钉代表各种建筑物，过滤选项如图书馆、博物馆、电影院、所有景点等。

我试过使用

```
[MapView reloadInputViews]; 
```

基于选择选项后的过滤数组。但它根本不适合我。任何想法如何实施？提前致谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T08:37:14.507

使用`[MKMapView removeAnnotations:]`和`[MKMapView addAnnotation:]`更改地图上的图钉。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T06:29:44.040

由于您的过滤器选项是完全不同的实体，您应该简单地删除地图上的所有图钉，然后使用新的过滤数据循环适当的数组以添加新的图钉。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T09:47:31.003

1.  使用 [MKMapView removeAnnotations:] 删除所有注释 2\. 根据新排序重新创建注释数组 3\. 将新注释添加到地图

# c# - 从 javascript 调用 ac#.net 函数

> ID：14190778
> 
> 赞同：0
> 
> 时间：2013-01-07T06:08:14.927
> 
> 标签：c#, javascript, asp.net

我正在使用 C#.net 创建一个应用程序。

我正在尝试在数据库中的数据更新后立即更新我的页面。
我已经将数据库中的一个值存储在一个标签中，并且每次我都调用一个函数，该函数将相同的值存储在另一个标签中，然后我比较两个标签。
代码是

我的网页.aspx.cs 是

```
public partial class _Default : System.Web.UI.Page
{
    SqlConnection con = new SqlConnection();
    protected void Page_Load(object sender, EventArgs e)
    {
        con.ConnectionString = ConfigurationManager.ConnectionStrings["cn"].ConnectionString;
        if (con.State == System.Data.ConnectionState.Closed)
        {
            con.Open();
        }
        SqlDataAdapter adp = new SqlDataAdapter("SELECT name from Master where id= 10"), con);
        DataSet ds = new DataSet();
        adp.Fill(ds);
        Label2.Text = Convert.ToString(ds1);
    }
    protected String CodeBehind()
    {
        SqlDataAdapter adp = new SqlDataAdapter("SELECT name from Master where id= 10"), con);
        DataSet ds = new DataSet();
        adp.Fill(ds);
        String ds2 = Convert.ToString(ds1);
        return (ds2);
    }
    protected int compare()
    {
        string abc = Label2.Text;
        string abcd = Label3.Text;
        if (abc == abcd)
        { 
            return(0);
        }
        else
        {
            return (1);
        }
     }
 } 
```

我的前端 javascript 代码是

```
 <script type="text/JavaScript">
    function AutoRefresh() {
        document.getElementById('<%= Label3.ClientID %>').innerHTML = '<%= CodeBehind() %>';
        var res = '<%= compare() %>'
        if ( res == 1) {
            alert("same");
            setTimeout("location.reload(true);", 60000);
        }
        else {
         alert("different")
             abx();
         }
     }
     function abx() {
         AutoRefresh();
     } 
```

但是有一个问题，当我调用函数代码隐藏时，它正在执行整个后端代码，因此两个标签的值同时更新。

我只想每次都调用函数后面的代码，并且只想更新一次 label2 的值。

有人可以告诉我我该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:19:36.573

你不能从 JavaScript 调用 C# 函数——如果可以的话，想象一下那些有恶意的人会做什么？

您需要在这里使用 Ajax，并从您的 Web 表单中发布/获取信息。

您的 JavaScript 代码除了重新加载您的页面之外什么都不做 - 这意味着将发生一个完整的页面加载周期，因此您的所有代码都在执行。您还混淆了客户端和服务器端代码，并且误解了 ASPX 引擎如何呈现其内容。

我将[JQuery 用于我的 Ajax](http://api.jquery.com/jQuery.ajax/)（您可以不使用 JQuery，但 JQuery 使它更快更容易），但您还需要让 Ajax 调用可以访问您的函数。使用回调来更新您的标签：

```
 $.ajax({
          url: "/url/to/your/post/page"
         }).done(function ( data ) {
                    // Check validity of "data"
                      $("#label2").val("Updated!"); 
        }); 
```

值得注意的是，您可以做更多的事情。有关 $ajax() 文档，请参阅我的链接。

就“/url/to/your/post/page”而言，因为您使用的是 Web 表单，所以您需要创建一个页面，将正确的内容返回给您的 ajax 函数。稍后我会发布更多信息。

在尝试执行像定时 AJAX 回调这样复杂的事情之前，您确实需要首先了解 JavaScript 和 C# 之间的区别 - 您的 <%=%> 标记在 HTML 输出到客户端之前呈现，并且客户端完全看不到您的 C# 类或其方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T10:13:33.600

相应地更新您的代码：

```
protected void Page_Load(object sender, EventArgs e)
{
    if(!IsPostBack)
    {
        con.ConnectionString = ConfigurationManager.ConnectionStrings["cn"].ConnectionString;
        if (con.State == System.Data.ConnectionState.Closed)
        {
        con.Open();
        }

        Label2.Text = CodeBehind();
    }
}

protected String CodeBehind()
{
    SqlDataAdapter adp = new SqlDataAdapter("SELECT name from Master where id= 10"), con);
    DataSet ds = new DataSet();
    adp.Fill(ds);
    String ds2 = Convert.ToString(ds1);        
    return (ds2);
} 
```

并从函数 AutoRefresh() 中删除这一行

```
setTimeout("location.reload(true);", 60000); 
```

希望能帮助到你 ：）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:31:02.143

首先，您需要确定您的方法。这可以通过两种方式完成。

1.  每隔`x`几秒钟轮询一次服务器，看看值是否发生变化。为此，您可以使用 AJAX 调用[AJAX Web Service](http://msdn.microsoft.com/en-us/magazine/cc163499.aspx)或[PageMethods](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)。在这两种情况下，您都无法访问页面中的控件。如果您想访问控件，您的整个页面事件生命周期将触发（这是您当前的问题）。

2.  让您的服务器向您的客户端发出该值已更改的信号。这可以通过各种技术来完成。最好的方法是使用[SignalR](http://signalr.net)库。

使用 SignalR 将帮助您轻松扩展应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T10:51:40.543

如果您想通过使用 ASP.NET AJAX 来实现这一点，您可以使用 UpdatePanel 和 Timer Controls，这里有一个教程[教程：如何按时间间隔刷新 UpdatePanel 控件，](http://msdn.microsoft.com/en-us/library/cc295400.aspx)否则您可以使用 jQuery Ajax。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-07T06:28:23.590

尝试使用 Page.IsPostBack 属性

# asp.net-mvc-4 - MVC 4 中的@Html.MailTo 在哪里？

> ID：14190779
> 
> 赞同：5
> 
> 时间：2013-01-07T06:08:19.870
> 
> 标签：asp.net-mvc-4, mailto

我在许多论坛上读到建议使用@Html.MailTo 使用本地客户端发送电子邮件（即类似于锚点中的“mailto：”。

但是当我尝试这样做时，我根本没有在智能感知中找到“MailTo”选项......我是否缺少某些东西，或者它现在已经过时，或者它是否是客户 HtmlHelper？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T06:47:22.170

`@Html.Mailto`是的特点之一`ASP.NET MVC 3 Futures`。ASP.NET MVC 3 Futures 包含一系列功能，这些功能将来可能会成为 ASP.NET MVC 的一部分。

为了使用它，您需要从[codeplex下载它](http://aspnet.codeplex.com/releases/view/58781)

[您可以在Imran Baloch 的博客文章](http://weblogs.asp.net/imranbaloch/archive/2011/07/26/using-the-features-of-asp-net-mvc-3-futures.aspx)中查看所有功能

希望能帮助到你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T15:57:52.473

您可以使用`@Html.DisplayFor`诸如`@Html.DisplayFor(modelItem => Model.emailAddress)`，它将产生一个电子邮件链接。

# iphone - UITableview Cell在删除方法中添加按钮

> ID：14190780
> 
> 赞同：0
> 
> 时间：2013-01-07T06:08:22.167
> 
> 标签：iphone, objective-c, xcode

在我的`UITableview`我有用户删除行的选项，我已经这样做了，但是在这里我需要添加一个带有**DELETE按钮的****EDIT**按钮，如图所示， **![在此处输入图像描述](../Images/b15acccebb0c0266c1f1fa21c46f8cac.png)**

 **另外，当用户单击编辑时，我想允许用户编辑**ROW TEXT** .. 是否可能..？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T07:15:26.927

首先，您应该问自己是否真的需要那个编辑按钮。

用户已经告诉你他想通过点击 tableView 的编辑按钮来编辑 tableView。在我看来，绝对不需要另一个编辑按钮，用户会假设他在编辑模式下所做的一切都会编辑数据。

有两种选择：

1.  当用户在编辑模式下点击单元格时，将编辑放在您推送的另一个视图控制器中。
    为此，您必须将`editingAccessoryType`单元格的 设置为`UITableViewCellAccessoryDisclosureIndicator`，以指示可以选择该单元格。
    并且`allowsSelectionDuringEditing`tableView 必须设置为 YES。
    其他一切就像在不编辑时处理行选择一样。只需`[tableView isEditing]`在`tableView:didSelectRowAtIndexPath:`.

2.  将单元格的 UILabel 替换为 UITextField，`borderStyle`其`UITextBorderStyleNone`字体与 UILabel 相同。设置`enabled`为否。这样它看起来就像一个 UILabel。
    实现`setEditing:animated:`UITableViewController 以在编辑模式下启用每个 textField

    ```
    - (void)setEditing:(BOOL)editing animated:(BOOL)animated {
        [super setEditing:editing animated:animated];
        for (UITableViewCell *cell in [self.tableView visibleCells]) {
            UITextField *tf = ...
            tf.enabled = editing;
        }
    } 
    ```

    当用户在编辑模式下点击 UITextField 时，他可以输入文本。

* * *

如果您确实需要该编辑按钮，请在`- (void)setEditing:(BOOL)editing animated:(BOOL)animated`编辑为“是”时添加它，并在编辑为“否”时将其删除。我不会添加和删除它，而是使用`setHidden:`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T06:12:46.857

对的，这是可能的。您必须使用`UITextField`来显示文本。当用户单击编辑按钮时，您必须保存按钮的标签。保存此标记，以便您知道单击了哪一行。然后重新加载表。重新加载表格时，请确保将特定行的`userInterActionEnabled`属性设置为 true。`UITextField`它将允许用户编辑文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:25:43.033

创建自定义单元格并添加您的`UIButtons`and`UITextField`并实现一些逻辑。只需从下面的链接中参考教程。

对于自定义单元格，只需查看以下带有教程和演示的链接：

1.  [ipad 编程中的自定义表格视图单元格](http://www.edumobile.org/iphone/ipad-development/custom-table-view-cells-in-ipad-programming/)
2.  [创建自定义表视图单元](http://jainmarket.blogspot.in/2009/05/creating-custom-table-view-cell.html)
3.  [IB中的自定义UITableViewCell](http://www.galloway.me.uk/tutorials/custom-uitableviewcell/)**

# mysql - EXISTS 与 IN 的子查询 - MySQL

> ID：14190788
> 
> 赞同：25
> 
> 时间：2013-01-07T06:08:54.863
> 
> 标签：mysql, sql, phpmyadmin, query-optimization, subquery

以下两个查询是子查询。两者都是一样的，对我来说都很好。但问题是方法 1 查询需要大约 10 秒才能执行，而方法 2 查询需要不到 1 秒。

我能够将方法 1 查询转换为方法 2，但我不明白查询中发生了什么。我一直试图自己弄清楚。我真的很想了解以下两个查询之间的区别以及性能提升是如何发生的？它背后的逻辑是什么？

我是这些先进技术的新手。我希望有人会在这里帮助我。鉴于我阅读了没有给我线索的[文档。](http://dev.mysql.com/doc/refman/5.0/en/exists-and-not-exists-subqueries.html)

方法一：

```
SELECT
   *       
FROM
   tracker       
WHERE
   reservation_id IN (
      SELECT
         reservation_id                                 
      FROM
         tracker                                 
      GROUP  BY
         reservation_id                                 
      HAVING
         (
            method = 1                                          
            AND type = 0                                          
            AND Count(*) > 1 
         )                                         
         OR (
            method = 1                                              
            AND type = 1                                              
            AND Count(*) > 1 
         )                                         
         OR (
            method = 2                                              
            AND type = 2                                              
            AND Count(*) > 0 
         )                                         
         OR (
            method = 3                                              
            AND type = 0                                              
            AND Count(*) > 0 
         )                                         
         OR (
            method = 3                                              
            AND type = 1                                              
            AND Count(*) > 1 
         )                                         
         OR (
            method = 3                                              
            AND type = 3                                              
            AND Count(*) > 0 
         )
   ) 
```

方法二：

```
SELECT
   *                                
FROM
   `tracker` t                                
WHERE
   EXISTS (
      SELECT
         reservation_id                                              
      FROM
         `tracker` t3                                              
      WHERE
         t3.reservation_id = t.reservation_id                                              
      GROUP BY
         reservation_id                                              
      HAVING
         (
            METHOD = 1 
            AND TYPE = 0 
            AND COUNT(*) > 1
         ) 
         OR                                                     
         (
            METHOD = 1 
            AND TYPE = 1 
            AND COUNT(*) > 1
         ) 
         OR                                                    
         (
            METHOD = 2 
            AND TYPE = 2 
            AND COUNT(*) > 0
         ) 
         OR                                                     
         (
            METHOD = 3 
            AND TYPE = 0 
            AND COUNT(*) > 0
         ) 
         OR                                                     
         (
            METHOD = 3 
            AND TYPE = 1 
            AND COUNT(*) > 1
         ) 
         OR                                                     
         (
            METHOD = 3 
            AND TYPE = 3 
            AND COUNT(*) > 0
         )                                             
   ) 
```

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2013-01-07T10:55:42.640

An[**`Explain Plan`**](http://dev.mysql.com/doc/refman/5.5/en/execution-plan-information.html)会告诉你为什么你应该使用`Exists`. 通常问题来了`Exists vs Count(*)`。 `Exists`是比较快的。为什么？

*   关于 NULL 带来的挑战：当**子查询返回时`Null`，对于 IN，整个查询变为`Null`**。所以你也需要处理它。但是使用`Exist`，它只是一个`false`. 更容易应付。根本`IN`无法与任何东西相比，`Null`但`Exists`可以。

*   例如，一旦**找到/匹配**`Exists (Select * from yourtable where bla = 'blabla');`了一次命中，您就会得到真/假。

***   在这种情况下`IN`，排序会根据`Count(*)`选择**所有**匹配行的位置，`WHERE`因为它正在比较所有值。** 

 ****但也不要忘记这一点：**

*   `EXISTS``IN`对: 当子查询结果非常大时高速执行。
*   `IN`领先`EXISTS`：当子查询结果非常小时。

**更多详情参考：**

*   [使用 IN 的子查询](http://wiki.lessthandot.com/index.php/Subquery_typo_with_using_in)。
*   [IN - 子查询优化](http://dev.mysql.com/doc/refman/5.0/en/in-subquery-optimization.html)
*   [加入与子查询](https://stackoverflow.com/questions/2577174/join-vs-subquery)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-07T06:14:40.587

方法 2 很快，因为它使用`EXISTS`运算符，我`MySQL`不加载任何结果。正如您的[文档](http://dev.mysql.com/doc/refman/5.0/en/exists-and-not-exists-subqueries.html)链接中提到的那样，它省略了`SELECT`子句中的任何内容。它只检查与条件匹配的第一个值，一旦找到它就会设置条件`TRUE`并移动以进行进一步处理。

另一方面，方法 1 具有`IN`加载所有可能值然后匹配它的运算符。仅在找到完全匹配时才设置条件`TRUE`，这是一个耗时的过程。

因此，您的方法 2 很快。

希望能帮助到你...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-09-20T08:04:37.940

**EXISTS**运算符是返回 true 或 false 的布尔运算符。EXISTS 运算符通常用于[子查询](http://www.mysqltutorial.org/mysql-subquery/)中以测试“<em>exist”条件。

```
SELECT 
    select_list
FROM
    a_table
WHERE
    [NOT] EXISTS(subquery); 
```

如果子查询返回任何行，则**EXISTS**运算符返回 true，否则返回 false。

此外，一旦找到匹配的行， **EXISTS运算符就会立即终止进一步的处理。**由于此特性，您可以在某些情况下使用**EXISTS**运算符来提高查询的性能。

**NOT**运算符否定**EXISTS**运算符。换句话说，如果子查询没有返回行， **NOT EXISTS**返回 true，否则返回 false。

您可以在子查询中使用**SELECT ***、**SELECT column**、**SELECT a_constant**或任何内容。结果是一样的，因为 MySQL 忽略了出现在*SELECT*子句中的**select_list 。**

 *原因是**EXISTS**运算符基于“至少找到”原则工作。一旦找到至少一个匹配的行，它就会返回 true 并停止扫描表。

另一方面，当**IN**运算符与子查询组合时，MySQL 必须先处理子查询，然后使用子查询的结果来处理整个查询。

一般的经验法则是，如果子查询包含大量数据，则**EXISTS**运算符提供更好的性能。

但是，如果从子查询返回的结果集非常小，则使用**IN运算符的查询将执行得更快。**

有关详细说明和示例：[MySQL EXISTS - mysqltutorial.org](http://www.mysqltutorial.org/mysql-exists/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T07:36:00.277

第二种方法更快，因为你有这样的“WHERE t3.reservation_id = t.reservation_id”。在第一种情况下，您的子查询必须对表进行全面扫描以验证信息。然而，在 2o 方法中，子查询确切地知道它在寻找什么，一旦找到它就会检查有条件。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2014-04-15T14:12:23.893

他们的官方文档。[Exists 的子查询优化](http://dev.mysql.com/doc/refman/5.5/en/subquery-optimization-with-exists.html)***

# objective-c - 奇怪的继承错误 iOS

> ID：14190792
> 
> 赞同：0
> 
> 时间：2013-01-07T06:09:05.860
> 
> 标签：objective-c, ios, uitableview, inheritance

好的，所以我决定将我的**UITableView 代表**的代码移到另一个类中。一个子类，如果你愿意的话，一个子类，这样可以更容易地访问我的**Cellforrowwithindexpath**函数在所述子类中执行的所有元素。

但是现在有个小问题...

**就UItableView**而言，它工作正常，但是当我尝试使用**导航控制器**将视图推送到顶部时，它不起作用，然后我发现 self ...在我的主类中实际上是一个实例我的**子类**...什么？所以自我实际上并不等于自我......

谁能告诉我我在这里做错了什么？

**编辑**：所以我把它改成了一个代表的子类，它工作正常，以防万一其他人遇到这个问题，但我仍然对为什么它首先发生感到困惑......

**代码：**

```
@interface OpenGameList : MainMenuViewContoller <UITableViewDelegate,UITableViewDataSource>
{

}

@end 
```

在我**的 MainMenuViewController 的 viewDidLoad**函数中

```
_openGameList = [[OpenGameList alloc] init];
_openGameList.delegate = self;

friendsTable.delegate = _openGameList;
friendsTable.dataSource = _openGameList; 
```

在那之后，似乎在**MainMenuViewController**中对 self 的任何使用都等于**OpenGameList**因此为什么使用`[[fromView navigationController] pushViewController:toView animated:NO];`不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:40:07.093

`self`总是指向实际实例化的对象——派生最多的类。

当您有一个子类的实例，并且您向 发送消息时`self`，如果有子类的实现，将始终被调用。不管你是在超类的实现文件中还是在子类的实现文件中。

这是多态性的基本要素：它允许子类覆盖父类的行为。举个`-[UIView drawRect:]`例子。要调用子类的绘图代码，当调用代码时，需要`UIView`调用`[self drawRect:]`的是子类的绘图实现。

记住超类和子类不是父对象和子对象，而是适用于同一对象的越来越少的特定类型，这可能会有所帮助。A`UITableView`也是一个`UIScrollView`, `UIView`, and `NSObject`，但是当你做一个时，有**一个对象就是所有这些东西，并且`self`总是指那个那个。**

# image - 如何在html5中替换图像的一部分

> ID：14190794
> 
> 赞同：0
> 
> 时间：2013-01-07T06:09:25.577
> 
> 标签：image, html, canvas

这是我第一次在这里提问，对不起我的英语水平。我的用法如下：我们使用websocket作为服务器与客户端通信。服务器向客户端发送图像，每次图像之间只有一点点差异。那么，如何以最高性能显示图像？我想，我可以从图像的类型数组中获取不同的字节，然后替换它们，但是如何实现呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:15:45.283

如果您的服务器知道与之前的不同之处，那么它可以创建一个仅包含不同位的透明图像，您可以将该图像堆叠在前一个图像的顶部。在和以前一样的地方，可以只是透明的（没有图像数据）。相对少量的不同数据应该压缩成一个非常小的图像文件。

# android - 如何从 Dialog 转到 BackStack Activity

> ID：14190795
> 
> 赞同：-2
> 
> 时间：2013-01-07T06:09:30.777
> 
> 标签：android, android-dialog

我有一个 Activity，它有一个按钮和两个 TextView。当我按下 Activity 上的按钮时，会出现一个对话框，其中有两个 editText 和 Done Button。当用户在对话框中的 EditText 中给出一些值并按 DOne 时，我想要。然后此对话框消失并显示上一个活动并在活动 textView 上设置文本（我从对话框中的用户获得）...我该怎么做...。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:22:20.400

参考这个[链接](http://developer.android.com/reference/android/app/Activity.html)：

Button 的第一个 Onclick() 调用你的 Activity 像这样；

```
Intent intent = new Intent(getActivity(), DIALOG_ACTIVITY.class);
startActivityForResult(intent, REQUEST_CODE); 
```

这将在 Onclick() 方法中打开 Done Button Set Result 的 Dialog Activity 和 OnClick()

```
 Intent intent = new Intent();
  setResult(RESULT_OK, intent);
  finish(); 
```

这个结果你将进入你的主要活动只是覆盖这个结果

```
 @Override
    Protected void onActivityResult(int requestCode, int resultCode, Intent data) {
            // TODO Auto-generated method stub
            super.onActivityResult(requestCode, resultCode, data);

} 
```

＆不要忘记像这样在清单文件中声明活动。

```
<activity android:name=".MainActivity"
              android:label="@string/app_name">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity android:name=".DIALOG_ACTIVITY"
              android:label="@string/app_name">

    </activity> 
```

# cassandra - CQL 选择语句仅返回行键

> ID：14190796
> 
> 赞同：0
> 
> 时间：2013-01-07T06:09:31.507
> 
> 标签：cassandra, cql

列族是

```
create column family markers
with comparator = UTF8Type 
and default_validation_class=UTF8Type 
and key_validation_class=UUIDType 
and column_metadata=
[
 {
  column_name : userid,
  validation_class : UTF8Type, index_type: KEYS
 },
 {
  column_name : activated,
  validation_class : UTF8Type, index_type: KEYS
 },
 {
  column_name : latitude,
  validation_class : DoubleType, index_type: KEYS
 },
 {
  column_name : longtitude,
  validation_class : DoubleType, index_type: KEYS
 },
 {
  column_name : altitude,
  validation_class : DoubleType, index_type: KEYS
 },
 {
  column_name : area,
  validation_class : DoubleType, index_type: KEYS
 },
 {
  column_name : title,
  validation_class : UTF8Type, index_type: KEYS
 },
 {
  column_name : memo,
  validation_class : UTF8Type, index_type: KEYS
 },
 {
  column_name : picdata,
  validation_class : BytesType
 }]; 
```

当我查询“从 ([rowkeys]) 中的标记中选择 * ”时，结果仅包含行键。

但是，如果我查询“从标记中选择 *”，则结果包含所有列。

为什么如果使用 'where in ()' ，结果只有行键？？？

对不起我的英语..

谁来帮帮我TT

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-14T16:14:18.800

您的 CQL 语法错误。

它应该是：

```
SELECT * FROM markers WHERE <CLAUSE>; 
```

在您的示例中，您的“in ([rowkeys])”声明无效。我很惊讶它甚至给你一个错误的 CQL 语句的结果。

一个有效的查询将是：

```
SELECT * FROM markers where latitude > 60.0; 
```

# mysql - 如何在 MySQL 中选择带空格的列名

> ID：14190798
> 
> 赞同：109
> 
> 时间：2013-01-07T06:09:36.220
> 
> 标签：mysql, sql

我正在开发一个项目，其中另一个开发人员创建了一个列名如`'Business Name'`. 那是两个词之间的空格。如果我运行一个`SELECT`带有“企业名称”的语句，它会说没有名称为“企业”的列。

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：188
> 
> 时间：2013-01-07T06:13:29.703

通常第一步是首先不要这样做，但如果已经这样做了，那么你需要正确引用你的列名：

```
SELECT `Business Name` FROM annoying_table 
```

通常这类东西是由使用过 Microsoft Access 之类的东西的人创建的，并且总是使用 GUI 来做他们的事情。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2015-09-29T14:27:54.600

如果双引号不起作用，请尝试将字符串包含在方括号内。

例如：

```
SELECT "Business Name","Other Name" FROM your_Table 
```

可以更改为

`SELECT [Business Name],[Other Name] FROM your_Table`

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2017-12-07T04:40:17.703

您需要使用反引号而不是单引号：

单引号 - `'Business Name'`- 错误

反引号 - ``Business Name``- 正确

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-08-04T15:09:29.783

每个人都有自己的但正确的编码方法是重命名插入下划线的列，这样就没有间隙。这将确保编码时零错误。打印列名以供公共显示时，您可以搜索并替换以将下划线替换为空格。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-03-07T00:07:52.747

我遇到了 MS Access 问题。

反引号对 MySQL 有好处，但它们会产生奇怪的错误，例如 MS Access 中的“Invalid Query Name: Query1”，仅对于 MS Access，使用方括号：

它应该看起来像这样

```
SELECT Customer.[Customer ID], Customer.[Full Name] ... 
```

* * *

## 回答 #6

> 赞同：-5
> 
> 时间：2014-09-01T00:00:17.277

我认为双引号也可以：

```
SELECT "Business Name","Other Name" FROM your_Table 
```

但我只在 SQL Server 而不是 mySQL 上测试，以防有人使用 MS SQL Server。

# apache-flex - 如何从另一个父应用程序表单的子级访问一个父应用程序的子级属性到同一个项目？- 柔性

> ID：14190799
> 
> 赞同：0
> 
> 时间：2013-01-07T06:09:36.700
> 
> 标签：apache-flex

我有一个孩子说父应用程序 PA_1 的 CH_1，我想在单个 flex 应用程序中从父应用程序 PA_2 的子 CH_2 访问该 CH_1 的属性。希望这个问题可以理解。

等待回复。

# jquery - jQuery多值更新问题

> ID：14190805
> 
> 赞同：0
> 
> 时间：2013-01-07T06:10:06.310
> 
> 标签：jquery

我有以下 jQuery 代码，它不能按我的预期工作。我确定我做错了什么，但我没有看到。基本上，如果博客没有发布，当我点击图片时，它会访问我的数据库并相应地更新它。这一切都很好。

1.  我点击 .not_published
2.  .not_published 的内容使用显示 ajax-loader.gif 的图像标记进行更改
3.  当服务器返回成功消息时，我将 #not_published 父级的 html 更新为新内容，其中包括将 .not_published 替换为 .published。

![博客文章列表](../Images/7cf35585020e82987185767b2b6edaeb.png)

当我单击 .not_published 时，我得到的只是 ajax 图像加载，它就在那里。如果我`alert("message');`在成功函数中添加一个，它工作正常。

![加载图像](../Images/23ec8f8cd7dd6eb404954a1e167ec293.png)

列出第 3 点不起作用。我不知道为什么。请看下面的代码：

jQuery代码：

```
$(document).on('click','.not_published', function(){
       var ID = $(this).siblings("p").text();
        $(this).html("<img style=\"padding-left:15px;\" src=\"/img/admin/ajax-loader.gif\">");
        $.ajax({
            url: "/posts/publish/"+ID,
            type: "post",
            data: '',
            success: function(responseText, statusText, xhr, $form){
                $(this).parent().html("<span class=\"published\"><img style=\"width:20px;\" src=\"/img/admin/checkmark_green.png\"></span><p style=\"display: none\">ID</p>");
            },
            error: function(responseText){
                alert(responseText);
            }   
        });
}); 
```

HTML 代码

```
<div id="publish">
    <span id="not_published">
        <img style="width:20px"  src="/img/admin/checkmark_red.png">
    </span>"
    <p style="display: none">1</p>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:15:21.820

您正在使用 ID #publish 和 #not_published。尝试使用类而不是使用多个 #not_published 像 .not_published

并在发送前检查 var ID

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:24:43.940

将元素存储在 AJAX 请求之外的变量中，但在你这样做之前......在成功处理程序日志`this`到控制台中。这不是你想的那样。

如评论中所述，还将 ID 更改为类

```
$(document).on('click','.not_published', function(){
       var ID = $(this).siblings("p").text();
        var $el=$(this).html("<img style=\"padding-left:15px;\" src=\"/img/admin/ajax-loader.gif\">");

        $.ajax({
            url: "/posts/publish/"+ID,
            type: "post",
            data: '',
            success: function(responseText, statusText, xhr, $form){
                 /* change $(this) to $el defined above*/
                $el.parent().html("<span class=\"published\"><img style=\"width:20px;\" src=\"/img/admin/checkmark_green.png\"></span><p style=\"display: none\">ID</p>");
            },
            error: function(responseText){
                alert(responseText);
            }   
        });
}); 
```

# iphone - 为什么 UIView 框架是由浮动组成的？

> ID：14190807
> 
> 赞同：3
> 
> 时间：2013-01-07T06:10:22.943
> 
> 标签：iphone, objective-c, ios, ios4

从技术上讲，x、y、宽度和高度表示一组与像素相关的维度。我不能有 200.23422 像素那么为什么他们使用浮点数而不是整数？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-07T06:25:00.150

浮点数的原因是现代 CPU 和 GPU 经过优化，可以并行处理许多浮点数。iOS 和 Mac 都是如此。

使用 Quartz，您无需处理单个像素，但您绘制的所有内容始终是抗锯齿的。当您有一个坐标 1.0, 1.0 时，这实际上为坐标原点的 2x2 像素添加了颜色。

这就是为什么在整数坐标处绘制时可能会出现模糊线条的原因。在非视网膜上，您必须绘制 0.5 的偏移量。从技术上讲，您需要偏移 0.25 才能在 Retina 显示器上绘制精确的像素。虽然在那里它并不重要，因为在那个像素大小上你真的看不到它了。

长话短说：您不直接处理像素，而是图形引擎为您在浮点坐标和像素之间映射。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T06:20:06.393

决议独立性。

您希望保持 UI 的数学表示尽可能准确，仅在您实际需要绘制到输出设备时才转换为像素 int 值（即使那样，也不是真的）。这样您就可以对视图应用任意数量的转换，并且仍然可以获得准确的结果。

此外，还可以渲染线条，例如，以半像素宽度甚至更小宽度呈现可见结果 - 系统使用智能抗锯齿来显示细线。

这与几十年来一直使用的矢量绘图原理相同（Adobe 的 PostScript、SVG 等）。事实上 Quartz 是基于 PDF 的，它是 PostScript 的现代版本。NeXT 在当时使用了 Display PostScript，然后它被认为是相当具有革命性的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T06:13:27.893

尺寸实际上是在非视网膜屏幕上与像素具有 1 比 1 关系的点，但对于视网膜屏幕，1 点 = 2 像素。所以在视网膜屏幕上你实际上可以增加半个点。

# android - 在android中使用graph api实现Facebook墙流

> ID：14190811
> 
> 赞同：0
> 
> 时间：2013-01-07T06:10:44.410
> 
> 标签：android, facebook-graph-api

我的 ImageLoader 类-------->

```
 private Bitmap decodeFile(File f){
        try {
            //decode image size
            BitmapFactory.Options o = new BitmapFactory.Options();
            o.inJustDecodeBounds = true;
            BitmapFactory.decodeStream(new FileInputStream(f),null,o);

            //Find the correct scale value. It should be the power of 2.

            final int REQUIRED_SIZE=Wall.width;
            final int REQUIRED_SIZE1=Wall.height;
//            final int REQUIRED_SIZE=250;
//         
            int width_tmp=o.outWidth, height_tmp=o.outHeight;
            int scale=1;
//            while(o.outWidth/scale/2>=REQUIRED_SIZE && o.outHeight/scale/2>=REQUIRED_SIZE)
////                scale*=2;
            while(true){
                if((width_tmp/2<REQUIRED_SIZE)||(height_tmp/2<REQUIRED_SIZE1))
                    break;
                width_tmp/=2;
                height_tmp/=2;
                scale*=2;
            }

            //decode with inSampleSize
            BitmapFactory.Options o2 = new BitmapFactory.Options();
            o2.inJustDecodeBounds = true;
            BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
            o2.inSampleSize=scale;
            o2.inJustDecodeBounds = false;
//            o2.inSampleSize=2;
            return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);

        } catch (FileNotFoundException e) {}
        return null;
    } 
```

我想使用图形 api 在我的应用程序中显示 facebook 墙流。

墙流包含以下内容 1) 个人资料图片 2) 名称、发布的消息、发布的图像 3) 喜欢、评论选项 我从 facebook graph api [https://graph.facebook.com/me/home?access_token=](https://graph.facebook.com/me/home?access_token=) "+访问令牌；

在这个我得到了 page1 的数据，我使用“分页”来获取第二页的数据，同样用于获取第三页。

但是当我尝试显示第一页时，因为我得到了更多的图像

```
Bitmap size exceeds VM Budget error:Out of Memory error 
```

我想知道，其他 facebook 应用程序如何管理这个问题，我观察到他们一次只加载较少数量的记录。如果我以分页方式获取数据，如何做这些事情？

```
public class Wall extends Activity {

    private Button btnSettings,btnLogout,btnUpdate,btnWall,btnCheckin,btnPubfinder,btnCamera;

    public String accesstoken,wallres,str_likevariable="",webserv,currentweb;

    protected static JSONArray jsonArray;
    JSONObject jsonObject = null;
    MyProgressDialog dialog;

     private PullToRefreshListView listView;

     ArrayList<String> msg=new ArrayList<String>();
     ArrayList<String> name=new ArrayList<String>();
     ArrayList<String> id=new ArrayList<String>();
     ArrayList<String> objid=new ArrayList<String>();
     ArrayList<String> profimg=new ArrayList<String>();
     ArrayList<String> img=new ArrayList<String>();
     ArrayList<String> pic=new ArrayList<String>();
     ArrayList<String> comment=new ArrayList<String>();
     ArrayList<String> likes=new ArrayList<String>();
     ArrayList<String> weburl=new ArrayList<String>();
     ArrayList<String> like_or_unlike=new ArrayList<String>();
     ArrayList<String> date=new ArrayList<String>();

     ImageLoader imageLoader;
     Handler mHandler;
     View footerView;

     private int previousTotal = 0,j=0;

     public  static int width,height;
     public boolean loading = true,isScrolling,scroll=true,boolisLoad=true,boolDialog=true,addFooter=false;
     MySimpleArrayAdapter adapter;

     static {

       StrictMode.setThreadPolicy( new StrictMode.ThreadPolicy.Builder().permitAll().build());
   }

  //onCreate 
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.wall);

        //To get device dimensions
        android.view.WindowManager w = getWindowManager(); 
        Display d = w.getDefaultDisplay(); 
       width = d.getWidth(); 
        height = d.getHeight(); 
      System.out.println(width);
      System.out.println(height);

        btnSettings=(Button)findViewById(R.id.settings);
        btnLogout=(Button)findViewById(R.id.logout);
        btnCamera=(Button)findViewById(R.id.camera);
        btnUpdate=(Button)findViewById(R.id.update);
        btnWall=(Button)findViewById(R.id.wall);
        btnCheckin=(Button)findViewById(R.id.checkin);
        btnPubfinder=(Button)findViewById(R.id.pubfinder);

       ButtonListener listener=new ButtonListener();

       btnSettings.setOnClickListener(listener);
       btnLogout.setOnClickListener(listener);
       btnUpdate.setOnClickListener(listener);
       btnWall.setOnClickListener(listener);
       btnCheckin.setOnClickListener(listener);
       btnPubfinder.setOnClickListener(listener);
       btnCamera.setOnClickListener(listener);
       //access token 
        accesstoken=Login.mFacebook.getAccessToken();

        Log.e("accesstoken",accesstoken);

        //first page webservice
        webserv="https://graph.facebook.com/me/home?access_token="+accesstoken;
        Log.e("firstweb",webserv);

        //pullToRefresh Listview
        listView= (PullToRefreshListView ) findViewById(R.id.walldata);
        listView.setDivider(null);
        //footer view
        footerView = ((LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE)).inflate(R.layout.listfooter, null, false);
//        this.mHandler = new Handler();
        listView.addFooterView(footerView);
//
//        this.mHandler.postDelayed(m_Runnable,5000);

        SessionStore.restore(Login.mFacebook, Wall.this);

        SessionEvents.removeAllAuthListener();

        listView.setOnRefreshListener(new OnRefreshListener() {

//          @Override
            public void onRefresh() {
                // Your code to refresh the list contents goes here

                scroll=true; //to keep the scroll at position where it has hits the load more data 

                pic.clear();
                id.clear();
                name.clear();
                msg.clear();
                img.clear();
                profimg.clear();      
                objid.clear();
                comment.clear();
                weburl.clear();
                adapter.clear();
                likes.clear();
                like_or_unlike.clear();
                date.clear();

                addFooter=true; // to add the footer view again after removing in pullToRefresh

                 previousTotal = 0;
                 loading = true;

                listView.removeFooterView(footerView);
                listView.setAdapter(null);

                j=0;

                webserv="https://graph.facebook.com/me/home?access_token="+accesstoken;
                 Log.e("inpull",webserv);

                System.out.println(listView.getCount());
                 doInBack dob=new doInBack();
                 dob.execute(); 
                System.out.println(listView.getCount());

                    Log.e("hi","doback called");

            }
        });
//        

        listView.setOnScrollListener(new  OnScrollListener() {

            private int threshold = 0;
//          
            public void onScrollStateChanged(AbsListView view, int scrollState) {
////                
                  if (scrollState != 0) {  
                    isScrolling = true; 
                }
                else {   
                   isScrolling = false;  //To load the data when the scroll is in offstate
                  adapter.notifyDataSetChanged();

                }  

            }

          public void onScroll(AbsListView view, int firstVisibleItem,int visibleItemCount, int totalItemCount) 
          {     

              // TODO Auto-generated method stub

              if (loading) {
                  if (totalItemCount > previousTotal) {
                    Log.e("in loading","in load");
                      loading = false;
                      previousTotal = totalItemCount;
                  }
              } 

                   if (!loading && (firstVisibleItem + visibleItemCount+2) == totalItemCount+1){

                       System.out.println(firstVisibleItem);
                       System.out.println(visibleItemCount);
                       System.out.println(totalItemCount);
                       scroll=false;

                       Log.v("in gridview loading more","grid load");
//                      
                       doInBack dob=new doInBack();
                       dob.execute();  
                       adapter.notifyDataSetChanged();
//                       doback(webserv);
                    loading = true;
                   }
              }
//          }

      });

        doInBack dob=new doInBack();
            dob.execute();     
//        doback(webserv);
        Log.e("hi","doback called");

        }
/

    private class ButtonListener implements View.OnClickListener{

        public void onClick(View v) {
            if(v.equals( btnSettings)){
            Intent myintent=new Intent(Wall.this,Settings.class);
            startActivity(myintent);
            finish();
            }

        else if(v.equals(btnLogout)){
            try {
                String res=Login.mFacebook.logout(Wall.this);

                Log.e("response",res);
                System.out.println(res);
                System.out.println(Login.mFacebook.isSessionValid());

                //if(res.equals("true"))
                //{
                    Intent in=new Intent(Wall.this,Login.class);
                    startActivity(in);
                    finish();
                //}
            } catch (MalformedURLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            }

        else if(v.equals(btnUpdate)){
            Update.i=0;
            Intent myintent=new Intent(Wall.this,Update.class);
            startActivity(myintent);
            finish();
            }   

        else if(v.equals(btnCamera)){
            Intent myintent=new Intent(Wall.this,CameraActivity.class);
            startActivity(myintent);
            finish();
            }

        else if(v.equals(btnWall)){
//          Intent myintent=new Intent(Wall.this,Wall.class);
//          startActivity(myintent);
//          finish();
            }

        else if(v.equals(btnCheckin)){
            Intent myintent=new Intent(Wall.this,Checkin.class);
            startActivity(myintent);
            finish();
            }

        else if(v.equals(btnPubfinder)){
            Intent myintent=new Intent(Wall.this,PubFinder.class);
            startActivity(myintent);
            finish();
            }

        }
    }

    class doInBack extends AsyncTask<URL, Integer, Long>
    {
        protected void onPreExecute() 
        { if(boolDialog){
            dialog=MyProgressDialog.show(Wall.this, null,null);
        }
        }
//      currentweb= webserv;
        @Override
        protected Long doInBackground(URL... arg0) {

            currentweb=webserv;

//      
            Log.e("hi","doback parsing");

            try
            {   
//              if(urlval>0){
                    wallres=UrltoValue.getValuefromUrl(currentweb);
                    Log.e("wallrespages",wallres);
    }
                JSONObject jobj1=new JSONObject(wallres);

                JSONObject jobj2=jobj1.getJSONObject("paging");
                webserv= jobj2.getString( "next");

                 jsonArray = jobj1.getJSONArray("data");

                 for(int i=0;i<jsonArray.length();i++){

                     jsonObject = jsonArray.getJSONObject(i);

                    if(jsonObject.has("message")||jsonObject.has("picture")) {

                        try{

//                        msg[j]=jsonObject.getString("message");
                            if(jsonObject.has("message"))
                            {

                                msg.add(jsonObject.getString("message"));   
                            }
                            else{
                                msg.add("");    
                            }
                        }
                        catch(Exception e){
                            e.printStackTrace();
                        }

                        try{

//                            msg[j]=jsonObject.getString("message");
                                if(jsonObject.has("picture"))
                                {
                                    String firstpicture=jsonObject.getString("picture");
                                    String secondpicture=firstpicture.replaceAll("_s.jpg", "_n.jpg");
                                     Log.e("picurl",secondpicture);
                                     pic.add(secondpicture);

                                }
                                else{
                                    pic.add("");
                                }
                            }
                            catch(Exception e){
                                e.printStackTrace();
                            }

                        objid.add(jsonObject.getString("id"));

                          JSONObject jobj=jsonObject.getJSONObject("from");
                           name.add(jobj.getString("name"));
                           id.add(jobj.getString("id"));

                           if(jsonObject.getString("type").equals("checkin")){
                               name.set(i,jobj.getString("name")+" "+"is at"+" "+jsonObject.getString("name"));
                            }
                       Log.e("id",id[j]);
                           profimg.add("http://graph.facebook.com/"+id.get(j)+"/picture?type=square");

                           JSONObject commentjobj=jsonObject.getJSONObject("comments");
                            comment.add(commentjobj.getString("count"));

                            if(jsonObject.has("likes")) {

                                   Log.e("likeornot","likre");
                                JSONObject likesjobj=jsonObject.getJSONObject("likes");
                                likes.add(likesjobj.getString("count"));

                               String postid=jsonObject.getString("id");
//                                  graph_or_fql = "fql";
                                    String query = "SELECT likes.user_likes FROM stream WHERE post_id = \'" + postid + "'";

//                                                        Log.d("finalThreadID", finalThreadID);
                                    Bundle params = new Bundle();
                                    params.putString("method", "fql.query");
                                    params.putString("query", query);
//                                                        Utility.mAsyncRunner.request(null, params, new LikesListener());

                                String fqlResponse = Login.mFacebook.request(params);

                                   System.out.println(fqlResponse);

                                   JSONArray JOLikeresponse=new  JSONArray(fqlResponse);

                                  if(JOLikeresponse.length()!=0){
                                   JSONObject JOLikeObject = JOLikeresponse.getJSONObject(0);

                                if ( JOLikeObject.has("likes")) {
                                    String optlike,optlikesarray;
                                    JSONObject optLikes=JOLikeObject;
                                    JSONArray optLikesArray;
                                    try{

                                         optLikes = JOLikeObject.getJSONObject("likes");
                                         optlike="like";
                                    }
                                    catch(Exception e){

                                         optlike="unlike";
                                    }
//                                  
                                    if(optlike.equals("like")){

                                    if (optLikes.has("user_likes")) {
                                        String getUserLikes = optLikes.getString("user_likes");

                                        if (getUserLikes.equals("true")) {
                                            like_or_unlike.add("Unlike");
                                        } else if (getUserLikes.equals("false")) {
                                            like_or_unlike.add("Like");
                                        }
                                    }
                                    else {

                                           like_or_unlike.add("Like");
                                    }
                                } else {

                                       like_or_unlike.add("Like");
                                }

                                }
                                //if likes object is not there in like response
                                else {

                                       like_or_unlike.add("Like");
                                }
                                  }

                               //if the like response Array length is zero   
                                else {

                                       like_or_unlike.add("Like");
                                }//FQL query object

                            }

                    //If likes are not there        
                               else{
                                   likes.add("0");
                                   like_or_unlike.add("Like");
                               }

                            weburl.add(currentweb);

                           Log.e("comment", comment.get(j));

                           String getCreatedTime = jsonObject.getString("created_time");

                           SimpleDateFormat formatter = getDateFormat();
                           ParsePosition pos = new ParsePosition(0);
                           long then = formatter.parse(getCreatedTime, pos).getTime();
                           long now = new Date().getTime();

                           long seconds = (now - then)/1000;
                           long minutes = seconds/60;
                           long hours = minutes/60;
                           long days = hours/24;

                           String friendly = null;
                           long num = 0;
                           if (days > 0) {
                               num = days;
                               friendly = days + " day";
                           } else if (hours > 0) {
                               num = hours;
                               friendly = hours + " hour";
                           } else if (minutes > 0) {
                               num = minutes;
                               friendly = minutes + " minute";
                           } else if(seconds>0) {
                               num = seconds;
                               friendly = seconds + " second";
                           }
                           else{
                               friendly = "few seconds";
                           }
                           if (num > 1) {
                               friendly += "s";
                           }
                           String postTimeStamp = friendly.toLowerCase() + " ago";
                           Log.e("date",postTimeStamp );
                           date.add(postTimeStamp);

                           j++;
                    }
                    }

            }

            catch(Exception e)
            {
                e.printStackTrace();
            }

            return null;
        }

        protected void onPostExecute(Long result) { 

            try
            {   if(addFooter){
                 listView.addFooterView(footerView);
            }

                addFooter=false;
                System.out.println(scroll);
                if(scroll){

                 adapter=new MySimpleArrayAdapter(Wall.this,R.layout.wall,pic,name,msg,id,profimg,comment,objid,weburl,likes, like_or_unlike,date);
                listView.setAdapter(adapter);
                  listView.postDelayed(new Runnable() {

//                      @Override
                        public void run() {

                            listView.onRefreshComplete();
                        }
                    }, 2000);
                if(boolDialog){
                dialog.dismiss();
                }
                }

         else{
//           adapter=new MySimpleArrayAdapter(Wall.this,R.layout.wall,pic,name,msg,id,profimg,bitmap,comment,objid,weburl);
             adapter.notifyDataSetChanged();
              listView.postDelayed(new Runnable() {

//                  @Override
                    public void run() {

                        listView.onRefreshComplete();
                    }
                }, 2000);
            }
                if(boolDialog){
                dialog.dismiss();
                }
            }

            catch(Exception e)
            {
                e.printStackTrace();
                if(boolDialog){
                    dialog.dismiss();
                    }
            }
            boolDialog=false;       
    }

    }

    private static SimpleDateFormat getDateFormat() {
        return new SimpleDateFormat("yyyy-MM-dd'T'hh:mm:ssZ");
    }

public class MySimpleArrayAdapter extends ArrayAdapter<String> {
    private Activity context;
    ArrayList<String> namear,msgar,idar,profimage,postimage,commentsnum,objectid,urlString,likescount,like_or_ulike,datesofpost;
    TextView name1, message1,comments,commentsnumber, likesnumber,likes,dateofpost;
    ImageView profimg,postimg;
  ImageLoader imageLoader;
  Bitmap[] bitdata;
//  ViewHolder holder ;

//  View rowView;

  public MySimpleArrayAdapter(Activity c,int i,ArrayList<String> postpic, ArrayList<String> names,ArrayList<String> msg,ArrayList<String> id,ArrayList<String> proimg,ArrayList<String> comment,ArrayList<String> objid,ArrayList<String> web,ArrayList<String> likecount,ArrayList<String> unlike_or_like,ArrayList<String> dates) {

      super(c, i, names);
    Log.e("adapter","adap");
    this.context = c;
    this.namear = names;
    this.msgar = msg;
    this.idar = id;
    this.profimage=proimg;
    this.postimage=postpic;
//    this.bitdata=bit;
    this.commentsnum=comment;
    this.objectid=objid;
    this.urlString=web;
    this.likescount=likecount;
    this.like_or_ulike=unlike_or_like;
    this.datesofpost=dates;
   this.imageLoader = new ImageLoader(context);
  }
//  public View getView(final int position, View convertView, ViewGroup parent) {
////        View view;
//      TextView title1,id,name1,dispdate,loc;
//      ImageView image,delete,arrow;
//      View view = convertView;
////        view = inflater.inflate(R.layout.myfav_row, parent, false);
//      LayoutInflater inflator = context.getLayoutInflater();
//      view = inflator.inflate(R.layout.myfav_row, null);

  @Override
  public View getView(final int position, View convertView, ViewGroup parent) {

            // code to load images

      View rowView=convertView ;
      LayoutInflater inflator =   getLayoutInflater();
      rowView = inflator.inflate(R.layout.walldata, null);

     name1 = (TextView) rowView.findViewById(R.id.name);
     message1 = (TextView) rowView.findViewById(R.id.msg);
     profimg= (ImageView) rowView.findViewById(R.id.profile_pic);
     postimg= (ImageView) rowView.findViewById(R.id.picpost);
     comments = (TextView) rowView.findViewById(R.id.comment);
     likes = (TextView) rowView.findViewById(R.id.like);
     commentsnumber = (TextView) rowView.findViewById(R.id.commentnumber);
     likesnumber = (TextView) rowView.findViewById(R.id.likesnumber);
     dateofpost = (TextView) rowView.findViewById(R.id.datepost);
//     rowView.setTag(holder);
     Log.e("user",idar.get(position));

    Log.e("adapter","adap");
     name1.setText(namear.get(position));
    if(msgar.get(position)!=""){
         message1.setText(msgar.get(position));

    }
    else
    {
         message1.setVisibility(View.GONE);
    }
    if(!isScrolling){
    if(!postimage.get(position).equals(""))
    {try{
         imageLoader.DisplayImage(postimage.get(position).replace(" ", "%20"), postimg) ;
//      Bitmap b= imageLoader.getBitmap(postimage.get(position));
//      postimg.setImageBitmap(b);

    }
    catch(Exception e){
        e.printStackTrace();
    }
    }
    else
    {
         postimg.setVisibility(View.GONE);
    }
    }
    try{
      imageLoader.DisplayImage(profimage.get(position).replace(" ", "%20"),  profimg) ;

    }
    catch(Exception e){
       e.printStackTrace();
    }
    dateofpost.setText(datesofpost.get(position));
     commentsnumber.setText(commentsnum.get(position));
     likesnumber.setText(likescount.get(position));
     likes.setText(like_or_ulike.get(position));

     likes.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
//          if(likes.getText().toString().equals("Like")){
               TextView t=(TextView)v;
              TextView likescountmodify = null;
              View parent = (View) t.getParent();
                if (parent != null) {
                    likescountmodify =  (TextView)parent.findViewById(R.id.likesnumber);

                }

                int i=  Integer.parseInt(likescount.get(position));

           if(like_or_ulike.get(position).equals("Like")){
                Log.e("inlike","like");
                like_or_ulike.set(position, "Unlike");
                t.setText(like_or_ulike.get(position));
                UrltoValue.getValuefromUrl("https://graph.facebook.com/"+objectid.get(position)+"/likes?access_token="+accesstoken+"&method="+"post");
//             listView.getAdapter().getItemAt(position);
               j=i+1;
               String s=Integer.toString(j);
            likescount.set(position, s);
            likescountmodify.setText(likescount.get(position));

            }
            else{
                Log.e("unlike","unlike");
                like_or_ulike.set(position, "Like");
                t.setText(like_or_ulike.get(position));
                UrltoValue.getValuefromUrl("https://graph.facebook.com/"+objectid.get(position)+"/likes?access_token="+accesstoken+"&method="+"DELETE");

                   j=i-1;
                 String s=Integer.toString(j);
                likescount.set(position, s);
                likescountmodify.setText(likescount.get(position));
            }
        }
    });

     comments.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent myintent=new Intent(Wall.this,Comments.class);
            myintent.putExtra("name", namear.get(position));
            myintent.putExtra("profimg", profimage.get(position));
            myintent.putExtra("message", msgar.get(position));
            myintent.putExtra("postpic", postimage.get(position));
            myintent.putExtra("objectid", objectid.get(position));
            myintent.putExtra("commentsnum",commentsnum.get(position));
            myintent.putExtra("webservice", urlString.get(position));
            startActivity(myintent);
            finish();

        }
    });

    return rowView;

  }
} 
```

请帮忙

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T15:00:44.967

您应该尝试将`Bitmap`您显示的 s 的大小限制为接近图像视图的大小，这样当您实际想要显示较低分辨率的图像时，您就不会因为在内存中放置大图像而浪费内存。我通常使用此功能将图像文件的大小调整为更接近我想要的大小。

```
// decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f) {
    try {
        // decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f), null, o);

        // Find the correct scale value. It should be the power of 2.
        int width_tmp = o.outWidth, height_tmp = o.outHeight;
        int scale = 1;
        while (true) {
                if (width_tmp / 2 < REQUIRED_SIZE || height_tmp / 2 < REQUIRED_SIZE)
                        break;
                width_tmp /= 2;
                height_tmp /= 2;
                scale *= 2;
        }

        // decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize = scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {
        // TODO: Do something
    }
    return null;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T05:45:59.530

// 使用 Option 类而不是 BitmapFactory.Options

```
Options opts = new Options(); 
                    opts.inJustDecodeBounds = true; 
                    BitmapFactory.decodeFile(path, opts); 
                    Log.e("optwidth",opts.outWidth+""); 
                    opts.inJustDecodeBounds = false; 
                    if(opts.outWidth>500){ 
                            opts.inSampleSize = 4; 
                            mBitmap = BitmapFactory.decodeFile(path, opts); 
                    } 
                    else mBitmap = BitmapFactory.decodeFile(path, opts); 
```

注意：它会降低图像的质量，但据我所知，它肯定可以消除位图的内存不足错误。有关更多详细信息，请查看此链接：[处理大型位图](https://stackoverflow.com/questions/2220949/handling-large-bitmaps)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:41:46.197

他们可能正在缓存记录或帖子，并在该时刻显示（加载）用户可见的记录。有关如何执行此操作，请查看 developer.android.com 中的此示例应用程序 ->

[有效地显示位图](http://developer.android.com/training/displaying-bitmaps/index.html)。

# jquery - 返回带有 json 和 codeigniter 的数组

> ID：14190814
> 
> 赞同：0
> 
> 时间：2013-01-07T06:11:30.740
> 
> 标签：jquery, html, ajax, json, codeigniter

我想创建一个工具来使用 ajax、json 和 CodeIgniter 的组合打印数据。但是当数据返回时，ajax出现错误。我做了ajax和控制器。

阿贾克斯

```
 formPembayaran.on('submit', function(e){
        e.preventDefault();
        var serialized = $(this).serialize(), print = [];
            $.ajax({
            async: false,
            type: 'POST',
            url: '<?php echo base_url('pembayaran/simpanitempembayaran'); ?>',
            data: serialized,
            success: function(value){
                print['head'] = value.print.head;
                print['body'] = value.print.body;
                print['foot'] = value.print.foot;
            }
        });
        if (print.status === true) {
            var popup = '<!DOC'+'TYPE HT'+'ML PUBLIC "-//W3C//DTD HT'+'ML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">' +
            '<ht'+'ml><he'+'ad><title>Cetak Materi Iklan Baris</title>' +
            '<st'+'yle type="text/css">' +
                    '@media print {' +
                            'body {' +
                                    'font-size: 11px;' +
                            '}' +
                            'button#printing {' +
                                    'display: none;' +
                            '}' +
                    '}' +
                    '.center, h3 {' +
                            'text-align: center;' +
                    '}' +
                    'div#page_head {' +
                            '-webkit-column-count: 2; -webkit-column-gap: 1.5em; -moz-column-count: 2; -moz-column-gap: 1.5em; -o-column-count: 2; -o-column-gap: 1.5em; column-count: 2; column-gap: 1.5em;' +
                    '}' +
                    'div#page_body {' +
                            '-webkit-column-count: 2; -webkit-column-gap: 1.5em; -moz-column-count: 2; -moz-column-gap: 1.5em; -o-column-count: 2; -o-column-gap: 1.5em; column-count: 2; column-gap: 1.5em;' +
                    '}' +
                    '#page_body, #page_foot {' +
                            'margin-top: 10px;' +
                    '}' +
            '</st'+'yle>' +
            '</he'+'ad><bo'+'dy>' +
            '<button id="printing" type="button" onClick="javascript:window.print();">Cetak Materi</button>' +
            '<pre>' +
            '<div id="content">' +
            '<div id="page_head">' + print.head + '</div>' +
            '----------------------------------------------------------------------------------------------------------' +
            '<div id="page_body">' + print.body + '</div>' +
            '<div id="page_foot">' + print.foot + '</div>' +
            '</div>' +
            '</pre>' +
            '</bo'+'dy></ht'+'ml>';
            var width = 860;
            var height = 800;
            var left = (screen.width/2)-(width/2);
            var top = (screen.height/2)-(height/2);
            var testpopup = window.open('','Printer','toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width='+width+', height='+height+', top='+top+', left='+left);
            testpopup.document.write(popup);
            testpopup.document.close();
        }
        return false;

    }); 
```

带json的控制器

```
function simpanItemPembayaran() {

    $idMakanan = $this->input->post('id-makanan');
    $namaMakanan = $this->input->post('nama-makanan');
    $hargaMakanan = $this->input->post('harga-makanan');

    $idMinuman = $this->input->post('id-minuman');
    $hargaMinuman = $this->input->post('harga-minuman');

    $tanggalItemPembayaran = $this->input->post('tanggal-pembayaran');
    $tanggalPembayaran = date("Y-m-d", strtotime($tanggalItemPembayaran));
    $idKasir = $this->input->post('id-kasir');

    if (($idMakanan[0] == NULL) && ($idMinuman[0] == NULL)) {
        $this->session->set_flashdata('flashError', '<b>WARNING!</b> Form pembayaran makanan dan minuman kosong');
    } else {
        foreach ($idMakanan as $keyMakanan => $makananId) {
            if ($makananId != NULL) {
                $simpanItemMakanan = $this->pembayaran_model->insertItemMakanan($makananId, $hargaMakanan[$keyMakanan], $tanggalPembayaran, $idKasir);
            }
        }

        foreach ($idMinuman as $keyMinuman => $minumanId) {
            if ($minumanId != NULL) {
                $simpanItemMinuman = $this->pembayaran_model->insertItemMinuman($minumanId, $hargaMinuman[$keyMinuman], $tanggalPembayaran, $idKasir);
            }
        }
        $this->session->set_flashdata('flashSuccess', 'Berhasil menyimpan item makanan atau minuman ke database');
        $print['status'] = true;
        $print['head'] = '<b>PT. BP. Kedaulatan Rakyat</b><br/>';
        $print['head'] = '<b>PT. BP. Kedaulatan Rakyat</b><br/>';
        $print['head'] = '<b>PT. BP. Kedaulatan Rakyat</b><br/>';
        $print['body'] = '<b>PT. BP. Kedaulatan Rakyat</b><br/>';
        $print['body'] = '<b>PT. BP. Kedaulatan Rakyat</b><br/>';
        $print['body'] = '<b>PT. BP. Kedaulatan Rakyat</b><br/>';
        $print['foot'] = '<b>Website : www.kr.co.id; E-mail : alamatemail@mail.com; Bank yyy Cabang www No. TTT</b>';
    }
    echo json_encode(array('print'=>$print));
} 
```

将数据恢复到 ajax 时发生错误。请帮忙。谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:18:12.477

正如我在你的代码中看到的

```
type: 'POST',
url: '<?php echo base_url('pembayaran/simpanitempembayaran'); ?>', 
```

应该 ：

```
type: 'POST',
url: '<?php echo base_url("pembayaran/simpanitempembayaran"); ?>', 
```

**更新：**这是显示 json 数据的示例。[http://jsfiddle.net/jogesh_pi/CRAcC/1/](http://jsfiddle.net/jogesh_pi/CRAcC/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T11:51:43.040

尝试`dataType: 'json'` 在您的 ajax 调用中包含 dataType 是您期望从服务器返回的数据类型。

```
 $.ajax({
            async: false,
            type: 'POST',
            dataType: 'json',
            url: '<?php echo base_url('pembayaran/simpanitempembayaran'); ?>',
            data: serialized,
            success: function(value){
                print['head'] = value.print.head;
                print['body'] = value.print.body;
                print['foot'] = value.print.foot;
            }
        }); 
```

或者你可以使用`$.getJSON`而不是ajax

# regex - 使用正则表达式模式匹配的 shell 脚本

> ID：14190816
> 
> 赞同：1
> 
> 时间：2013-01-07T06:11:45.207
> 
> 标签：regex, shell, awk

我有一个文件说 abc.txt 其中包含..

```
<mapping number=1 name=m1> 
<transformation type=aggregator name=agg_m1> /> 
<transformation type=joiner name=j_m1 /> 
</mapping>

<mapping number=2 name=m2> 
<transformation type=router name=rtr_m2> /> 
<transformation type=joiner name=j_m2 /> 
</mapping> 
```

我需要一个相同订单形式的输出。即，我需要以相同的顺序从映射中获取名称字段，并从转换中获取类型和名称字段：

```
name=m1
type=aggregator name=agg_m1
type=joiner name=j_m1
name=m2
type=router name=rtr_m2
type=joiner name=j_m2 
```

我已经使用命令 'awk' 来获取输出，但我得到的输出格式如下，这是不正确的：

```
name=m1
name=m2
type=aggregator name=agg_m1
type=joiner name=j_m1
type=router name=rtr_m2
type=joiner name=j_m2 
```

我也尝试使用“grep”和“sed”命令，但我得到了所需的输出，因为没有保留顺序。我需要获取保留订单的输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:45:39.030

这是一种使用方法`grep`：

```
grep -oE "(name|type)=[^ >]* *[^ >]*" file 
```

结果：

```
name=m1
type=aggregator name=agg_m1
type=joiner name=j_m1
name=m2
type=router name=rtr_m2
type=joiner name=j_m2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T07:08:23.527

```
 perl -lne '$_=~m/^[^\s]*\s([^\/\>]*)/g;print $1' your_file 
```

测试如下：

```
> cat temp
<mapping number=1 name=m1>
<transformation type=aggregator name=agg_m1> />
<transformation type=joiner name=j_m1 />
</mapping>

<mapping number=2 name=m2>
<transformation type=router name=rtr_m2> />
<transformation type=joiner name=j_m2 />
</mapping>
> perl -lne '$_=~m/^[^\s]*\s([^\/\>]*)/g;print $1' temp
number=1 name=m1
type=aggregator name=agg_m1
type=joiner name=j_m1

number=2 name=m2
type=router name=rtr_m2
type=joiner name=j_m2

> 
```

如果您不需要`number`，请使用以下正则表达式：

```
perl -lne '$_=~m/^[^\s]*\s[number=\d]*([^\/\>]*)/g;print $1' your_file 
```

# html - 我如何创建一个可点击的链接，该链接链接到 html 中同一页面中的文本框

> ID：14190819
> 
> 赞同：0
> 
> 时间：2013-01-07T06:11:55.840
> 
> 标签：html

我想要一个html格式，我可以通过单击它来选择正文文本，它将出现在html同一页面的文本框中。例如，让我们说正文部分中的文本“示例” . 如果我点击它，它是文本“示例”将出现在同一页面的文本框中。提前谢谢...

```
<html>
<body>
    name <input type=text name=name>
    example[<- I WANT THIS TEXT TO BE APPEAR ON THE NAME TEXT BOX IF I CLICK ON IT]
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:59:17.350

检查以下代码。我不清楚您上面所说的选择过程，但是在您选择文本后我有两个解决方案。希望能帮助到你。我用过 jQuery。

**解决方案 1：** 我提供了一个链接以在文本框中显示选择。

**html:**

```
<div> 
<p>THIS TEXT TO BE APPEAR ON THE NAME TEXT BOX IF I CLICK ON IT</p><br/>
<a href="#" id='click'> click</a><br/>
<input type='text' id='box1' value="Select Text" /> 
</div> 
```

**javascript/jQuery:**

```
if(!window.Kolich){
  Kolich = {};
}

Kolich.Selector = {};
Kolich.Selector.getSelected = function(){
  var t = '';
  if(window.getSelection){
    t = window.getSelection();
  }else if(document.getSelection){
    t = document.getSelection();
  }else if(document.selection){
    t = document.selection.createRange().text;
  }
  return t;
}

Kolich.Selector.mouseup = function(){
  var st = Kolich.Selector.getSelected();
  if(st!=''){
    $('#box1').val(st);
  }
}

$(document).ready(function(){
 $('#click').click(Kolich.Selector.mouseup);
}); 
```

**解决方案2：**

**HTML：**

```
 <div> 
 <p>Thisdt I want to extract</p>
 <input type='text' id='box1' value="Select Text" /> 
 </div> 
```

**javascript/jQuery:**

```
if(!window.Kolich){
  Kolich = {};
}

Kolich.Selector = {};
Kolich.Selector.getSelected = function(){
  var t = '';
  if(window.getSelection){
    t = window.getSelection();
  }else if(document.getSelection){
    t = document.getSelection();
  }else if(document.selection){
    t = document.selection.createRange().text;
  }
  return t;
}

Kolich.Selector.mouseup = function(){
  var st = Kolich.Selector.getSelected();
  if(st!=''){
    $('#box1').val(st);
  }
}

$(document).ready(function(){
  $(document).bind("mouseup", Kolich.Selector.mouseup);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T07:08:18.517

试试下面的代码。双击任何单词后，它会显示在文本框中。

```
<html>
<head>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("body").dblclick(function () {
                $("#test").val(getSelectionText());
            });
        });

        function getSelectionText() {
            var text = "";
            if (window.getSelection) {
                text = window.getSelection().toString();
            } else if (document.selection && document.selection.type != "Control") {
                text = document.selection.createRange().text;
            }
            return text;
        }
    </script>
</head>
<body>
    <input id="test" type="text" name="name" value="" />
    <div>
        Lucky day</div>
    <p>
        Hello world!
    </p>
</body>
</html> 
```

# android - 在Android中的网格中随机设置图像

> ID：14190820
> 
> 赞同：1
> 
> 时间：2013-01-07T06:12:02.937
> 
> 标签：android, gridview, random

我正在使用来自 Android 开发者网站的“网格视图”示例的一个版本：http: [//developer.android.com/resources/tutorials/views/hello-gridview.html](http://developer.android.com/resources/tutorials/views/hello-gridview.html) 我想在到达网格中随机显示图像并且每次点击时图像位置都会改变。有人可以举例说明如何实现这一点（即需要编辑什么）？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:22:24.420

您需要实现一个自定义[ListAdapter](http://developer.android.com/reference/android/widget/ListAdapter.html)，您需要在其中检查哪些项目是可见的，然后选择一个不可见的随机图像。但请注意，一个完全随机的列表会使您的用户感到困惑。更好地随机排序您的图像，并在一个实例中将它们可视化。

# spring-mvc - 调用一个弹簧控制器的不同方法

> ID：14190825
> 
> 赞同：0
> 
> 时间：2013-01-07T06:12:42.810
> 
> 标签：spring-mvc

在我的控制器中有不同的方法我想用一个表单动作来调用它们。我不知道如何将请求映射到具有不同提交按钮值的特定方法，当我运行我的索引页面时，它直接从它们转到控制器它可以从`view()`我的控制器呈现视图，并且在`Search .jsp`打开时我得到了我的输入字段上的默认`0`值`EmployeeId`我不知道它为什么会发生请帮助我春天的新人

这是我的控制器

```
 package com.nousinfo.tutorial.controllers;

import java.util.List;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;

import com.nousinfo.tutorial.model.EmployeeForm;
import com.nousinfo.tutorial.service.impl.EmployeeServiceImpl;
import com.nousinfo.tutorial.service.model.EmployeeBO;

@Controller
@RequestMapping("/search")
public class SearchEmployeeController {

    private EmployeeServiceImpl employeeServiceImpl;

    public void setEmployeeServiceImpl(EmployeeServiceImpl employeeServiceImpl) {
        this.employeeServiceImpl = employeeServiceImpl;
    }

    @RequestMapping(value = "/searchspring", method = RequestMethod.GET)
    public ModelAndView view(
            @ModelAttribute("employeeForm") EmployeeForm employeeForm)
            throws Exception {
        ModelAndView model = new ModelAndView();
        model.addObject("employeeForm", employeeForm);
        model.setViewName("Search");

        return model;
    }

    @RequestMapping(value = "/employeeNo", method = RequestMethod.POST)
    public ModelAndView searchByEmpNo(
            @ModelAttribute("employeeForm") EmployeeForm employeeForm)
            throws Exception {
        ModelAndView model = new ModelAndView();
        model.addObject("employeeForm", employeeForm);
        Long i = employeeForm.getEmployeeNumber();

        EmployeeBO employeeBO = employeeServiceImpl.getEmployee(i);
        System.out.println(employeeBO);
        model.addObject("employeeBO", employeeBO);

        model.setViewName("EmployeeDetail");
        return model;
    }

    @RequestMapping(value = "/empByName", method = RequestMethod.POST)
    public ModelAndView searchByEmployeeName(
            @ModelAttribute("employeeForm") EmployeeForm employeeForm) {
        ModelAndView model = new ModelAndView();
        model.addObject("employeeForm", employeeForm);
        List<EmployeeBO> employeeBOs = employeeServiceImpl
                .findEmployees(employeeForm.getFirstName());
        model.addObject("listEmployeeBO", employeeBOs);
        model.setViewName("EmployeeList");
        return model;

    }

    @RequestMapping(value = "/empByDeptId", method = RequestMethod.POST)
    public ModelAndView searchByDeptId(
            @ModelAttribute("employeeForm") EmployeeForm employeeForm) {
        ModelAndView model = new ModelAndView();
        model.addObject("employeeForm", employeeForm);
        List<EmployeeBO> employeeBOs = employeeServiceImpl
                .getAllEmployeeByDeptid(employeeForm.getDepartmentId());
        model.addObject("listEmployeeBO", employeeBOs);
        model.setViewName("EmployeeList");

        return model;

    }

} 
```

这是我的 index.jsp

```
 <%@ page language="java" contentType="text/html; charset=UTF-8"
pageEncoding="UTF-8"%>

<%  
response.sendRedirect("/EmployeeWebSpring/search/searchspring");
%> 
```

这是我的 search.jsp

```
 <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://www.springframework.org/tags" prefix="spring"%>

<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>

<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<fmt:setBundle basename="ApplicationResources" />
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Employee Search Page</title>

</head>
<body>
    <form:form action="/EmployeeWebSpring/search/empByName"  commandName="employeeForm" method="post">
        <table border="0">

            <tr>
                <td>Employee_ID</td>
                <td><form:input path="employeeNumber"  /></td>
                <td><input type="submit" name="method" value="FindById" /></td>
            </tr>
            <tr>
                <td>Employee_Name</td>
                <td><form:input path="firstName" /></td>
                <td><input type="submit" name="method" value="FindByName" /></td>
            </tr>

            <tr>
                <td>Employee_Name</td>
                <td><form:input path="departmentId" /></td>
                <td><input type="submit" name="method" value="FindByDeptNO" /></td>
            </tr>
            <tr>
                <td colspan="2" align="center"><font size=3>For
                        Searching the employees by<b>Employee Name</b><br />you can use %
                        match all the records with the given pattern
                </font><br /> <font size="2"> <i>e.g <b> for search by</b>EmployeeName<br />
                            matches alL the employees whose name starts with character <b>S</b></i></font></td>
            </tr>
        </table>
    </form:form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T05:34:43.313

作为基于单击的按钮为同一表单配置不同端点的替代方法（使用 HTML 中的单独表单或通过 JS 更改表单操作），您可以使用注释的`params`属性`RequestMapping`将表单提交进一步缩小到特定的控制器方法基于按钮的值（或任何其他表单提交字段）。有关更多详细信息，请参阅[Spring 文档。](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-params-and-headers)

使用此策略，您的请求映射将如下所示：

```
@RequestMapping(value = "/employeeSearch", method = RequestMethod.POST, params="method=FindByName")
public ModelAndView searchByEmployeeName(
        @ModelAttribute("employeeForm") EmployeeForm employeeForm) {
...

@RequestMapping(value = "/employeeSearch", method = RequestMethod.POST, params="method=FindByDeptNO")
public ModelAndView searchByDeptId(
        @ModelAttribute("employeeForm") EmployeeForm employeeForm) {
...

@RequestMapping(value = "/employeeSearch", method = RequestMethod.POST, params="method=FindById")
public ModelAndView searchByEmpNo(
        @ModelAttribute("employeeForm") EmployeeForm employeeForm)
        throws Exception {
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T03:14:23.653

> 我不知道如何将请求映射到具有不同提交按钮值的特定方法

以单独的形式进行每个搜索。每个表单映射到不同的控制器方法。像这样：

```
<form:form action="empById" method="post" commandName="searchBean">
    Employee_ID
    <form:input path="employeeNumber"  />
    <input type="submit" name="method" value="FindById" />
</form:form>
<form:form action="empByName" method="post" commandName="searchBean">
    Employee_Name
    <form:input path="firstName" />
    <input type="submit" name="method" value="FindByName" />
</form:form>
<form:form action="empByDeptNo" method="post" commandName="searchBean">
    Employee_Name
    <form:input path="departmentId" />
    <input type="submit" name="method" value="FindByDeptNO" />
</form:form> 
```

现在不同的搜索请求将映射到正确的控制器方法。

> 我的 EmployeeId 输入字段默认值为 0 我不知道为什么会发生

在将 EmployeeForm 的实例添加到模型之前，请将其初始化为您希望在搜索页面中看到的默认值。

# perl - 如何只拆分 div 标签而不进行任何移动？

> ID：14190826
> 
> 赞同：-4
> 
> 时间：2013-01-07T06:12:42.840
> 
> 标签：perl

我是新的 XML-Twig...我想要拆分 para 标记....

XML 文件：

```
<xml>
   <p class="indent">text <i>text<i> incluce <div>text</div> ateas</p>
   <p class="text">text text incluce <div>text</div> <b>ateas<b></p>
   <p class="text">text <p>text</p> incluce <div>text</div> ateas</p>
</xml> 
```

在这里，我想要拆分 Para 标签。我如何拆分以及如何在没有内联 para 标签和 div 标签的情况下分配 para 标签...

我需要输出为：

```
<xml>
<p class="indent">text <i>text</i> incluce</p>
<div>text</div>
<p class="indent">ateas</p>
<p class="text">text text incluce</p>
<div>text</div>
<p class="text"><b>ateas</b></p>
<p class="text">text</p>
<p>text</p>
<p class="text">incluce</p>
<div>text</div>
<p class="text">ateas</p>
</xml> 
```

这个怎么分啊。。。。

脚本：

```
#!/usr/bin/perl
use warnings;
use strict;
use XML::Twig;
open(my $output , '>', "output.xml") || die "can't open the Output $!\n";
my $xml = XML::Twig->new( twig_handlers => { p => \&split_tag } );
$xml->parsefile("sample.xml");
$xml->print($output);
sub split_tag {
my ($twig, $p) = @_;
$_->wrap_in('p', $p->atts) for $p->children('#TEXT');
$p->erase;
} 
```

但我无法获得提取输出.. 我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T07:01:47.110

此代码似乎符合您的新要求。如果这不起作用，*请*在请求更多免费代码之前尝试自己修复它。

我忽略了示例数据的第三行，因为嵌套`<p>`元素在 HTML 中是非法的。

```
use strict;
use warnings;

use XML::Twig;

my $twig = XML::Twig->new(
  twig_handlers => { p => \&split },
  pretty_print => 'indented',
);

$twig ->parsefile('sample.xml');
$twig->print_to_file('output.xml');

sub split{
  my ($twig, $p) = @_;
  return if $p->contains_only_text;

  my @children = $p->cut_children;
  my @newchildren;

  my $newpara = $p->copy;
  for my $child (@children) {
    if ($child->is_elt and $child->tag eq 'div') {
      push @newchildren, $newpara if $newpara->has_children;
      push @newchildren, $child;
      $newpara = $p->copy;
    }
    else {
      $child->paste(last_child => $newpara);
    }
  }

  push @newchildren, $newpara if $newpara->has_children;
  $p->replace_with(@newchildren);
} 
```

**输出**

```
<xml>
  <p class="indent">text <i>text</i> incluce </p>
  <div>text</div>
  <p class="indent"> ateas</p>
  <p class="text">text text incluce </p>
  <div>text</div>
  <p class="text"> <b>ateas</b></p>
  <p class="text">text <p>text</p> incluce </p>
  <div>text</div>
  <p class="text"> ateas</p>
</xml> 
```

# excel - 在 Excel 单元格中仅在几分钟内格式化

> ID：14190828
> 
> 赞同：0
> 
> 时间：2013-01-07T06:12:53.923
> 
> 标签：excel, excel-2007

我正在使用 excel 2007。我需要帮助格式化单元格以仅显示分钟。假设如果实际持续时间是 30 秒，它应该显示 0.5

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T10:03:33.307

最简单的方法是将您的时间值乘以**1440**（一天中的分钟数），因此如果 A1 包含 5:20，则在 B1 中使用此公式得到 320

`=A1*1440`

此解决方案适用于任何时间值，甚至超过 24 小时的值，例如将 33:20 转换为 2000

编辑：我注意到您提到“格式”-您可以将 A1 自定义格式为 [m]（您需要包含方括号），这也将在我的示例中显示 320 或 2000，而无需在另一个单元格中使用公式...... ...但这只会显示一个整数，所以你不能用它来获得 0.5 30 秒

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:21:21.417

=(HOUR(A1))*60+MINUTE(A1)+ IF(SECOND(A1)>30, INT(1+ SECOND(A1)/60), SECOND(A1)/60)

# ios - 如何在经典/非视网膜显示中处理 CGAffineTransformMakeTranslation

> ID：14190831
> 
> 赞同：4
> 
> 时间：2013-01-07T06:13:12.643
> 
> 标签：ios, cgaffinetransform

在我的应用程序的一个页面中，有三个视图。在每个视图中有 4 到 5 个控件，所有三个视图都在一个`UIScrollView`. 在某一时刻，我隐藏了中间视图并翻译`lastview`视图代替了中间视图。代码如下：

```
lastview.transform = CGAffineTransformMakeTranslation(0, -270); 
```

问题是它在视网膜显示器上工作，而不是在非视网膜显示器上工作；例如 3GS 显示器。

# javascript - Javascript 的抽象 Iphone/Android 函数调用？

> ID：14190835
> 
> 赞同：0
> 
> 时间：2013-01-07T06:13:36.483
> 
> 标签：javascript, android, iphone

在 Iphone 中，我需要使用，

```
 window.location = 'myscheme://FunctionName?Param1=Value1&.........'; 
```

但在安卓中，

```
Android.FunctionName(params); 
```

这对我有用，

```
if(window.Android)
    Android.FunctionName(params);
else
    window.location = 'myscheme://FunctionName?Param1=Value1&.........'; 
```

但是对每个功能都这样做对我来说很痛苦。是否可以抽象这些细节并使用单个函数来调用两者。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T10:49:54.807

这对我有用，但不知道好不好，

```
var iphoneUrl = 'myScheme://{0}?{1}'
function callNativeFunction(functionName) {
    var args = Array.prototype.slice.call(arguments, 1);
    if (window.andriod) {
        andriod[functionName].apply(andriod, args);
    }
    else {
        var params = '';
        for (var i = 0, len = args.length; i < len; i++) {
            params += 'param' + (i + 1) + '=' + encodeURIComponent(args[i]) + '&';
        }
        params = params.slice(0, -1);// remove last &
        window.location = iphoneUrl.format(functionName, params);
    }
}
callNativeFunction('functionName', 'param1'); 
```

这是String.Format，

```
String.prototype.format = function () {
    var args = arguments;
    return this.replace(/{(\d+)}/g, function (match, number) {
        return typeof args[number] != 'undefined'
          ? args[number]
          : match
        ;
    });
}; 
```

# .net - 为什么 DataContext.Connection.ConnectionString 无法获取密码

> ID：14190836
> 
> 赞同：2
> 
> 时间：2013-01-07T06:13:36.807
> 
> 标签：.net, linq, linq-to-sql

```
class Program
{
    private const string Sqlconnstr = "Data Source=.;Initial Catalog = LINQtoSQL;UID = Scarface;PWD = kaka1983513!;";

    static void Main(string[] args)
    {
        var dataContext = new DataContext(Sqlconnstr);
        var books = dataContext.GetTable<Book>();
        var query = from book in books
                    select book;
        var list = query.ToList();  //If i uncomment this line,i can't get the full string without 'PWD = 123456'.
        Console.WriteLine(dataContext.Connection.ConnectionString);

        Console.ReadLine();
    }
} 
```

如何使用`'PWD = 123456'`after`query.ToList()`命令获取完整的字符串。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T07:32:02.603

我不确定您*为什么*需要重新读取连接信息，但我认为您遇到的问题是[PersistSecurityInfo](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.connectionstring%28v=vs.110%29.aspx)：

> 当设置为 false 或 no（强烈推荐）时，如果连接打开或曾经处于打开状态，则不会将密码等安全敏感信息作为连接的一部分返回。重置连接字符串会重置所有连接字符串值，包括密码。公认的值是**true**、**false**、**yes**和**no**。

此连接字符串参数的默认值为`false`。

# iphone - 选择表格单元格时附件视图背景消失

> ID：14190837
> 
> 赞同：2
> 
> 时间：2013-01-07T06:13:47.990
> 
> 标签：iphone, ios5, uitableview, uilabel, background-color

我正在使用带有背景的文本标签作为我的`cell.accessoryView`. 当`Table`被选中时，我的附件视图背景 ( `label.backgroundColor`) 消失。我可以通过设置来恢复标签的文本颜色`label.highlightedTextColor`。但我无法恢复它的背景颜色。有类似的东西`highlightedTextBackgroundcolor`吗`selectedBackgroundView`？

```
UIImage *indicatorImage = [UIImage imageNamed:DISTANCE_BUBBLE];
cell.accessoryView = [[UIImageView alloc]initWithImage:indicatorImage];

distanceLabel=[[UILabel alloc]initWithFrame:cell.accessoryView.bounds];

distanceLabel.textColor=[UIColor whiteColor];
distanceLabel.textAlignment=UITextAlignmentCenter;
distanceLabel.font=[UIFont boldSystemFontOfSize:13.0];
distanceLabel.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:DISTANCE_BUBBLE]];
distanceLabel.numberOfLines = 0;
distanceLabel.lineBreakMode = UILineBreakModeWordWrap;
cell.accessoryView=distanceLabel; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T09:36:19.530

子类 UITableViewCell。

它会给你更多的控制，让你的 cellForRowAtIndexPath 方法更整洁。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T09:12:15.893

将您的附件视图创建为一个视图，其中包含一个视图中的背景和标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:34:41.563

**编写以下代码可能对您有所帮助。**

///////////////////////////////////////// ///////////// **编辑代码**//////////////////////////// ////////////////////////////////////

**用于显示单元格辅助视图的背景颜色**

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Foobar"];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"Foobar"];

        cell.selectionStyle = UITableViewCellSelectionStyleBlue;
        cell.textLabel.textColor = [UIColor blackColor]; 
    }
    UIImageView *colorView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];

    CGRect rect = CGRectMake(0.0f, 0.0f, 30.0f, 30.0f);
    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();

    CGContextSetFillColorWithColor(context, [[UIColor redColor] CGColor]);
    CGContextFillRect(context, rect);

    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();

    UIGraphicsEndImageContext();

    [colorView setImage:image];

    [cell setAccessoryView:colorView];

    cell.textLabel.text=[self.listOfFrnd objectAtIndex:indexPath.row];

    return cell;
} 
```

**显示单元格的背景图 附件视图**

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Foobar"];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"Foobar"];

        cell.selectionStyle = UITableViewCellSelectionStyleBlue;
        cell.textLabel.textColor = [UIColor blackColor];
    }
    UIImageView *colorView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];

    CGRect rect = CGRectMake(0.0f, 0.0f, 30.0f, 30.0f);
    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();

    CGContextSetFillColorWithColor(context, [[UIColor redColor] CGColor]);
    CGContextFillRect(context, rect);

    UIGraphicsEndImageContext();

    [colorView setImage:[UIImage imageNamed:@"apple.png"]];

    [cell setAccessoryView:colorView];

    cell.textLabel.text=[self.listOfFrnd objectAtIndex:indexPath.row];

    return cell;
} 
```

在我尝试之后，发现如果您使用超过一个单元的**accessoryView**则它只显示一个**accessoryView**。我不确定我是对的，但可能是真的:) 谢谢 :)

# c# - C#将int转换为小端十六进制字符串

> ID：14190839
> 
> 赞同：4
> 
> 时间：2013-01-07T06:13:52.013
> 
> 标签：c#, int, substring, converter, endianness

我想将一个 int 转换为 little endian 十六进制字符串。然后去掉最后两个零。

这是我的诠释：

```
int score = 2516000; 
```

想要返回的结果：

```
20642600 
```

子字符串之后的最后一个字符串

```
206426 
```

这样做最简单的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:37:26.460

```
var reversedBytes = System.Net.IPAddress.NetworkToHostOrder(2516000); // 543434240
var hex = reversedBytes.ToString("x");                                // 20642600
var trimmed = hex.Substring(0, hex.Length - 2); 
```

其他解决方案中的`hex.TrimEnd('0')`方法将撕掉所有尾随零，而不仅仅是最后一个 2。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:21:36.767

```
var reversedBytes = System.Net.IPAddress.NetworkToHostOrder(2516000); // 543434240
var hex = reversedBytes.ToString("x");                                // 20642600
var trimmed = hex.Substring(hex.Length >= 2 
                                ? hex.Length - 2 
                                : hex.Length);                        // 206426 
```

已编辑：已修复`trimmed`以匹配用户请求的说明。

# opengl - glTexImage2DMultisample 给出 SNORM 内部格式错误

> ID：14190841
> 
> 赞同：1
> 
> 时间：2013-01-07T06:14:11.710
> 
> 标签：opengl, textures, opengl-3

当使用 snorm 内部格式调用 glTexImage2DMultisample 时，会出现 GL_INVALID_ENUM 错误。当我检查[http://www.opengl.org/sdk/docs/man3/xhtml/glTexImage2DMultisample.xml](http://www.opengl.org/sdk/docs/man3/xhtml/glTexImage2DMultisample.xml)时，它没有指定任何错误 GL_INVALID_ENUM 的操作。该 API 是否支持 snorm 格式？

# css - 页脚高度不起作用

> ID：14190842
> 
> 赞同：1
> 
> 时间：2013-01-07T06:14:32.613
> 
> 标签：css, html, footer

我的母版页有以下代码。

问题出在 FOOTER 标签上。

```
 <%@ Master Language="VB" CodeFile="MasterPage.master.vb" Inherits="MASTER_MasterPage"    %>

 <!DOCTYPE html>

 <html xmlns="http://www.w3.org/1999/xhtml">
 <head runat="server">
 <title></title>
 <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
<script src="../JS/jq.js" type="text/javascript"></script>
<script src="../JS/jqui.js" type="text/javascript"></script>
<script src="../JS/script.js" type="text/javascript"></script>
<style type="text/css">

    html
    {
        background: url(images/bg.jpg) no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
    }

    #bigDiv
    {
        margin: auto;
        width: 1000px;
        height: 1000px;
        background-color: rgba(255,255,255,0.5);
    }

    header
    {
        height: 100px;
        background-color: white;
        font-family: "Source sans pro";
    }

    #menu a
    {
        text-decoration: none;
        color: white;
    }

    .menuItem
    {
        width: 20%;
        float: left;
        background-color: gray;
        height: 50px;
        font: normal 18px 'Fjalla One',sans-serif;
        color: white;
        padding-top: 30px;
        text-align: center;
        cursor: pointer;
    }

    #contentMain
    {
        float: left;
        width: 80%;
        background-color: rgba(255,255,255,0);
        height: 100%;
        overflow-y: scroll;
    }

    #content
    {
        height: 800px;
        background-color: rgba(255,255,255,0);
        font-family: "Source sans pro";
    }

    #contentAd
    {
        float: left;
        width: 20%;
        background-color: orange;
        height: 100%;
    }

    footer
    {
        text-align: center;
        background-color: gray;
        font-family: "Source sans pro";
        height:100px
    }

        footer a, label
        {
            text-decoration: none;
            color: white;
        }
</style>

</head>
<body>
<form id="form1" runat="server">
    <div id="bigDiv">
        <header>
            <h1>HR Softwares</h1>
            <h4>Advanced softwares and coaching</h4>
        </header>
        <div id="menu">
            <div class="menuItem">HOME</div>
            <div class="menuItem">SERVICES</div>
            <div class="menuItem">PRODUCTS</div>
            <div class="menuItem">CONTACT US</div>
            <div class="menuItem">NEWS</div>
        </div>
        <div id="content">
            <div id="contentMain">
                <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server"></asp:ContentPlaceHolder>
            </div>
            <div id="contentAd">
                s
            </div>
        </div>
        <footer>
            <a href="contactus.aspx">Contact us</a>
            <label>| </label>
            <a href="feedback.aspx">Feedback</a>

        </footer>
    </div>

</form>
</body>
</html> 
```

每当我尝试设置 FOOTER 的高度时，页脚的高度在 CONTENT 和 CONTENTMAIN div 的后面，我希望它出现在 CONTENT div 的下方，但它不起作用。

出于测试目的，我将 CONTENT 和 CONTENTMAIN 的不透明度设置为 0，以便您可以看到其后 FOOTER 的高度。我希望 FOOTER 按照流程显示在 CONTENT div 下方。

**更新**：

明确：页脚中的两个都解决了我的问题。总之谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:55:13.643

试试这个，我希望这对你有帮助。CSS

```
.footer
    {
        text-align: center;
        background-color: gray;
        font-family: "Source sans pro";
        height:100px
    } 
```

HTML

```
<div class="footer">
            <a href="contactus.aspx">Contact us</a>
            <label>| </label>
            <a href="feedback.aspx">Feedback</a>

        </div> 
```

# php - 是否有相当于 sqlite3_limit 的 PHP？

> ID：14190849
> 
> 赞同：7
> 
> 时间：2013-01-07T06:14:54.477
> 
> 标签：php, sqlite

我试图将 SQLITE_MAX_COMPOUND_SELECT 设置为高于 500（当前限制）我看到了这个 - [http://www.sqlite.org/c3ref/limit.html](http://www.sqlite.org/c3ref/limit.html)来设置运行时限制，后来意识到它提到了“SQLITE C 接口”在标题中。

是否有任何 PHP 等价物？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T09:15:03.930

[SQLite 3](http://php.net/book.sqlite3)扩展和[PDO](http://php.net/book.pdo)似乎都没有公开该功能。

PHP 可能正在使用系统的 sqlite3 库。在这种情况下，如果您控制服务器，则可以“简单地”使用更高的默认值重新编译库。

# python - 谷歌应用引擎，查询多个实体

> ID：14190853
> 
> 赞同：0
> 
> 时间：2013-01-07T06:15:29.437
> 
> 标签：python, google-app-engine

我有以下 2 个实体。

```
class Photo(db.Model):
    name=db.StringProperty()
    registerdate=db.DateTimeProperty()
    iso=db.StringProperty()
    exposure=db.StringProperty()

class PhotoRatings(db.Model):
    ratings=db.IntegerProperty() 
```

我需要执行以下操作。获取所有 iso=800 的照片 (Photo)，按评级 (PhotoRatings) 排序。我无法在 Photo 中添加评分，因为评分一直在变化，而且我每次都必须编写整个 Photo 实体。这将花费我更多的时间和金钱，并且应用程序的性能会受到影响。我读了这篇文章， [https://developers.google.com/appengine/articles/modeling](https://developers.google.com/appengine/articles/modeling) 但无法从中获得太多信息。

编辑：我想避免获取太多项目并手动执行匹配。我需要快速有效的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:40:41.443

您正在尝试使用显式非关系数据存储进行关系数据库查询。

正如您可能想象的那样，这会带来问题。如果您希望数据存储区为您对结果进行排序，它必须能够对您想要排序的内容进行索引。索引不能跨越多个实体类型，因此您不能拥有按`Photo`s 排序的 s索引`PhotoRatings`。

对不起。

* * *

但是，请考虑一下-哪种情况会更频繁地发生？查询此照片排序，或有人评价照片？很有可能，您的视图远多于操作，因此将评级存储为`Photo`实体的一部分可能不会像您担心的那么大。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T07:06:54.950

如果您查看[计费文档](https://developers.google.com/appengine/docs/billing)，您会注意到根据**更改**的属性数量对实体写入收费。

因此，您尝试做的事情不会降低写入成本，但肯定会增加读取成本，因为您将读取两倍数量的实体。

# zend-framework2 - 在 zf2 中放置公共变量和函数以跨控制器使用

> ID：14190854
> 
> 赞同：0
> 
> 时间：2013-01-07T06:15:38.670
> 
> 标签：zend-framework2

将公共变量和函数放入 Zend 框架 2（带有原则）的最佳/标准方法是什么，以便在所有模块中使用，特别是它们的控制器。

我在某处读到我们的控制器应该扩展另一个控制器（如 AppCommonController），而后者又扩展了 AbstractActionController。AppCommonController 然后将定义我们可以在任何扩展它的控制器中访问的公共变量和函数。

有没有更好/标准的方法来做到这一点？

- -更新 - -

例如，我想在我的大多数控制器（跨不同模块）中检查我的站点的当前模式（测试或实时），并因此希望在操作中执行必要的操作。

我在一些控制器中写了以下内容：

```
 private $__currentMode = '';

    public function __construct()
    {
        //following will be set to Live or Test depending on a session value
        $this->setCurrentMode('Live');
    }

    public function setCurrentMode($mode)
    {
        $this->__currentMode = $mode;
    }

    public function getCurrentMode()
    {
        return $this->__currentMode;
    } 
```

我认为将上述代码放在我需要检查当前模式的所有控制器中是一个坏主意。

所以我想把它（currentMode 属性和 getter/setter 函数）放在某个地方，我可以在任何需要的地方在所有控制器中访问它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T11:26:32.320

似乎这就是控制器插件的用途

首先创建一个控制器插件...

```
namespace Application\Controller\Plugin;

use Zend\Mvc\Controller\Plugin\AbstractPlugin;

class MyModeHelper extends AbstractPlugin
{
    protected $mode;

    public function __construct($mode)
    { 
        $this->mode = $mode;
    }

    public function getMode()
    {
        return $this->mode;
    }
} 
```

`getControllerPluginConfig()`然后在 Module.php 中使用方法告诉控制器管理器

```
// in Application/Module.php
public function getControllerPluginConfig()
{
    return array(
        'factories' => array(
            'myModeHelper' => function($sm) {
                // get mode from environment
                $mode = 'live';
                return new Controller\Plugin\MyModeHelper($mode);
            }
         )
      ); //fixed syntax error
    }
} 
```

插件现在应该在您在控制器中调用它的任何时候都可用

```
// in your controllers
public function indexAction()
{
    if ($this->myModeHelper()->getMode() == 'live') {
        // do live stuff
    } else {
        // do test stuff
    }
    return new ViewModel();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T07:31:38.230

好吧，很大程度上取决于功能。

首先：变量可能最好放在配置中。从那里开始，它们可以在任何`ServiceLocator`存在 a 的地方访问。

就函数而言，它在很大程度上取决于函数的作用。它们是某种 ControllerLogic 吗？那么你的方法`Mymodule\Stdlib\Controller\Mycontroller`可能是个好主意。

`Stdlib`查看当前在-Namespace下具有通用代码的“社区标准”是普遍接受的。

除了上述之外，我不知道该告诉你什么，因为你的问题很模糊。

# asp.net - 如何刷新中继器？

> ID：14190858
> 
> 赞同：0
> 
> 时间：2013-01-07T06:16:00.753
> 
> 标签：asp.net, repeater

我在页面上有一个重复器。我在页面加载中为它设置了数据源。

```
 LikeRepeater.DataSource = clsForumQuestionLikeViewFactory.GetAllByFieldDT(clsForumQuestionLikeView.clsForumQuestionLikeViewFields.QuestionID, id);
 LikeRepeater.DataBind(); 
```

我有一个链接按钮。单击它时，我将一条记录添加到数据库并为转发器设置数据源。

```
protected void ParentLikeButton_Click(object sender, EventArgs e)
{
 LikeRepeater.DataSource = clsForumQuestionLikeViewFactory.GetAllByFieldDT(clsForumQuestionLikeView.clsForumQuestionLikeViewFields.QuestionID, IDLabel.Value);
 LikeRepeater.DataBind();
} 
```

它有两个项目，但显示一个，中继器不刷新。

如何刷新它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:49:24.500

您的数据源已更新 ParentLikeButton_Click 事件，但在页面加载事件中您设置了旧数据源。所以每次添加数据时可能会更新，但是从页面加载它需要旧数据，所以你需要在页面加载事件检查条件 if(!IsPostBack) {第一次在这里绑定数据的 if(!isPostback) 条件下绑定数据}

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-07T06:23:29.683

1.  在设置其之前添加“LikeRepeater.DataSource = null”

# javascript - 如何在 HTML 文件输入控件中检查文件路径是否有效？

> ID：14190863
> 
> 赞同：0
> 
> 时间：2013-01-07T06:16:38.523
> 
> 标签：javascript, file, jsp, input, client-side-validation

我有这个 html 代码：

```
<html>
<head>
    <title>File Upload Example</title>
</head>
<body>
    <form action="uploadsuccess.jsp" enctype="multipart/form-data" method="post">
        Please specify a file:<br/> 
        <input type="file" id="theFile" name="theFile" size="40"/><br/>
        <input type="submit" value="Submit"/>
    </form>
</body>
</html> 
```

然后我尝试了这个：我浏览了一个具有完整文件路径的文件：**C:\abc.txt**。然后在物理硬盘中，我更改了文件名（或将其移动到其他地方）。在文件输入文本框仍然显示“C:\abc.txt”的情况下，我单击了提交按钮，结果是根本无法到达**uploadsuccess.jsp 。**在 Firefox 浏览器中，选项卡只是重新加载了一点，但页面没有。

当文件未找到或不存在时，浏览器似乎拒绝发布数据。

所以我想知道如何验证输入的文件路径是否存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:24:36.210

您无权访问文件系统，但是，由于 HTML5 File Api 规范，您可以访问一些文件属性，文件大小就是其中之一。所以你可以测试一下。由于它是 HTML5 规范的一部分，它只适用于现代浏览器（IE 不是其中之一）。

```
//Returns the file size for an form input.
document.getElementById("IdOfyourFileInput").files[0].size; 
```

# java - 按 id 查找父视图

> ID：14190864
> 
> 赞同：4
> 
> 时间：2013-01-07T06:16:48.370
> 
> 标签：java, android

我有一个有点复杂的布局，我在这个视图的 SwitchLayout 中添加了一个标签。

此视图中有一个 ImageButton。这是此按钮的小地图：

线性布局 -> 开关布局 -> 相对布局 -> 相对布局 -> 图像按钮

在某些时候，我想将标签附加到 SwitchLayout，但我所拥有的只是对 ImageButton 的引用。

我试图寻找一个ID，但似乎android只是向下搜索，所以

```
imageButton.findViewById(R.id.switchLayout); 
```

不起作用。

看起来我无法直接从 ImageButton 获取分配的标签。

这段代码：

```
imageButton.getTag() 
```

返回`null`

我发现的唯一一种解决方法是在这里，但它很难看：

```
ViewSwitcher viewSwitcher = (ViewSwitcher)imageButton.getParent().getParent().getParent();
viewSwitcher.getTag(); 
```

我想让耦合尽可能一周，所以我想知道是否有一种方法可以将标签分配给 viewSwitcher 及其所有子项，

或在父视图中查找ViewById。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-07T06:49:50.023

为什么不保留开关布局的参考？

```
// In activity
switchLayout = findViewById(R.id.switchLayout);
imageButton = findViewById(R.id.imageButton); 
```

如果你的方法还在activity中，可以直接访问switchLayout，如果没有，可以将switchLayout设置为imageButton标签，稍后再读取，

```
imageButton.setTag(switchLayout); 
```

或者如果你真的需要这样做，你可以递归地做，

```
public ViewParent findParentRecursively(View view, int targetId) {
    if (view.getId() == targetId) {
        return (ViewParent)view;
    }
    View parent = (View) view.getParent();
    if (parent == null) {
        return null;
    }
    return findParentRecursively(parent, targetId);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:29:40.763

声明并定义对 swtichlayout 的引用并直接获取标签。为什么要使用 imagebutton 获取 switchlayout 的标签。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-25T08:17:23.727

我在我的应用程序中使用这个 Kotlin 代码：

```
import android.view.View
import androidx.annotation.IdRes

fun <T : View> View.findParentViewById(@IdRes viewId: Int): T? {
    @Suppress("UNCHECKED_CAST")
    return when (this.id) {
        viewId -> this as? T
        else -> (parent as? View)?.findParentViewById<T>(viewId)
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T06:21:20.087

android 中的所有视图（控件）都是 type 的`View`，所以你可以使用它`getId()`来查找 id。您可以使用以下代码段

```
int parentId = ((View) arg0.getParent()).getId(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-22T18:15:34.180

已接受答案的 Kotlin 扩展功能版本：

```
fun View.findParentById(@IdRes id: Int): ViewGroup? {
    if (this.id == id) return this as? ViewGroup
    return (parent as? View)?.findParentById(id)
} 
```

# c# - 在 C# 中动态存储矩阵值

> ID：14190866
> 
> 赞同：6
> 
> 时间：2013-01-07T06:17:04.563
> 
> 标签：c#, arrays, multidimensional-array, jagged-arrays

我正在尝试在 c#.net 中构建应用程序

这里我有两个相同大小的一维数组例如，我有矩阵 M 和 N ，如下结构：

```
 M[0] M[1] M[2] M[3] M[4]
 N[0]   
 N[1]
 N[2]
 N[3]
 N[4] 
```

在这里，我为它们分配了 M[0].... & N[0]...... 的值，这样我就得到了一个矩阵，如下所示：

```
 5     6     4     8
4

8

7

2 
```

**注意**：我使这个值动态生成。我已经成功到这一步。

但我喜欢以这种格式将值存储在 2x2 矩阵中的另一个数组（可能是锯齿状数组或其他数组）中：

```
 A[0]  A[1]
 B[0]  5     4       (this is the values of M[0] and N[0])

 B[1]  6     4       (this is the values of M[1] and N[0])

 ..............
 B[4]  5     8       (this is the values of M[0] and N[1]) 
```

当 N[0] 的第一行完成时，它必须继续下一行。我只需要一些如何在 C# 中实现它？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:26:11.347

对于动态存储，您应该了解 2d 和 3d 的基础知识

**参考这里**

二维数组：[dotnetperls.com/2d-array](http://dotnetperls.com/2d-array)

多维数组： [msdn.microsoft.com/en-us/library/2yd9wwz4 (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/2yd9wwz4%28v=vs.71%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:44:15.067

您不能将值后期分配给数组。我建议您使用`List<List<int>>`，这是一个示例：

```
List<List<int>> val = new List<List<int>>();
List<int> M = new List<int>() { 1, 2, 3, 4, 5 };
List<int> N = new List<int>() { 5, 4, 3, 2, 1 };

foreach (int m in M)
{
    foreach (int n in N)
    {
        val.Add(new List<int> { m, n });
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-07T06:54:18.167

stackoverflow.com/questions/594853/dynamic-array-in-c-sharp 上面的结帐线程。或查看以下来源。

msdn.microsoft.com/en-us/library/system.collections.arraylist.aspx

# zend-framework2 - 如何在 ZF2 的列名前添加 Sql\Expression？

> ID：14190872
> 
> 赞同：9
> 
> 时间：2013-01-07T06:17:29.823
> 
> 标签：zend-framework2

如何获得这样的 Sql：

```
select * from foo where LOWER(foo_name) = 'test'; 
```

我得到的是如果 Sql\Expression 在右边，而不是在左边。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-07T10:58:56.600

您可以像这样使用代码片段。

```
$where = new Where();
$sql = new Sql($adapter);
$select = $sql->select();
$where->addPredicate(new Predicate\Expression('LOWER(foo_name) = ?', 'test' ));
$select->from('foo')->where($where); 
```

但是我不认为右侧的 Sql\Expression 在 Zend Framework 2 上是可能的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-11-11T08:46:40.243

你可以这样做：

```
$sql = new SQL($adaptor);
$select = $sql->select()->from(array('f'=>'foo'));
$select = $select->where('foo_name' => new \Zend\Db\Sql\Expression("LOWER('test')")); 
```

上面的查询将返回为：

```
SELECT `f`.* FROM `foo` AS `f` WHERE `foo_name` = LOWER('test'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-15T18:57:45.320

对于寻找类似的其他人来说，实际上有很多不同的方法可以实现这一点，从 ZF 2.2 开始

**链接（与接受的答案相同）**

```
<?php
$sql = new Sql($adapter);
$select = $sql->select();
$select->from( array( 'f' => 'foo' ) )
->where
->addPredicate( new Predicate\Expression( 'LOWER(f.foo_name) = ?', 'test' ) );

//SELECT `f`.* FROM `foo` AS `f` WHERE LOWER(f.foo_name) = :where1
//:where1 = 'test'
?> 
```

注意 Select::$where 的执行命令“()”的缺失允许您继续方法链接。Select::$where 有一个 __get Magic 方法 catch，它返回 Select 对象中受保护的 Select::$_where 属性，该对象是 Sql\Where 的一个实例。

**谓词\字面量 1**

```
<?php
$select->where( "LOWER(f.foo_name) = 'test'" );

//SELECT `f`.* FROM `foo` AS `f` WHERE LOWER(f.foo_name) = 'test'
?> 
```

**谓词\字面量 2**

```
<?php
$select->where( array( "LOWER(f.foo_name) = 'test'" ) );

//SELECT `f`.* FROM `foo` AS `f` WHERE LOWER(f.foo_name) = 'test'
?> 
```

如果提供给 Select::where 方法的数组或参数的索引值（列标识符）是字符串，则上述两个会自动为您创建一个 Predicate\Literal 对象。

**谓词\表达式（手动）**

```
<?php
$select->where( new Predicate\Expression( "LOWER(f.foo_name) = 'test'" ) );

//SELECT `f`.* FROM `foo` AS `f` WHERE LOWER(f.foo_name) = 'test'
?> 
```

# android - 仅在不扩展 MapActivity 的情况下获取粗略位置

> ID：14190874
> 
> 赞同：-1
> 
> 时间：2013-01-07T06:17:46.157
> 
> 标签：android, gps, location, android-service, android-maps-v2

如何在不创建或扩展 MapActivity 的情况下仅获取粗略位置并将纬度和经度数据发送到 Android 中的服务？

任何帮助都是不言而喻的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:28:11.997

```
How to get only coarse location without creating or extending MapActivity 
```

首先不需要`MapAcitvity`获取当前位置，你只需要使用`LoacaionManager`，但你必须使用`GoogleMap API`

这是 getCurrentLocation 的最佳[问题](https://stackoverflow.com/questions/3145089/what-is-the-simplest-and-most-robust-way-to-get-the-users-current-location-in-a)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:26:25.740

使用 LocationListener，您可以从位置管理器获取位置更新。您需要从 GPS PROVIDER 获取位置，它从 gps 接收器返回位置，以及您拥有的另一个选项 NETWORK PROVIDER，它将返回网络的位置，即塔、wifi 点等。

# yii - 在 YII 上停止多次登录？

> ID：14190876
> 
> 赞同：2
> 
> 时间：2013-01-07T06:17:50.133
> 
> 标签：yii

有没有办法在任何给定时间只允许一个人登录一个帐户？即如果我在 PC A 上登录，并尝试在 PC B 上登录，它必须说：“对不起，你已经登录了。” ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:26:50.223

当有人登录时创建一个包含 session_id 和 user_id 列的表，将其添加到表中并删除具有该 user_id 的任何其他行。
每当登录用户加载页面时，您都会检查该表以查看是否有与 session_id 和 user_id 匹配的记录，如果没有，则显示错误消息。

# facebook - 2013 年 2 月迁移生效后如何在朋友的时间线上发帖？

> ID：14190877
> 
> 赞同：2
> 
> 时间：2013-01-07T06:17:52.450
> 
> 标签：facebook, facebook-graph-api, post, facebook-opengraph, facebook-wall

**由于 Facebook 从 2013 年2 月 6 日**起取消了通过 Graph API 发布到朋友墙上的功能，我想知道是否有一些替代品可以发布到朋友的墙上。

到现在为止，我一直在使用**Feed API**来做这个 - using`to`参数，但它抛出了异常：

> (#200) 此应用程序禁用向其他用户发布动态消息

我找到的可能解决方案是：**OG: Mention Tagging**。但是除了使用 OpenGraph 之外，还有其他方法可以做到这一点吗？请帮忙。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-07T09:16:25.607

> 但是除了使用开放图之外，还有其他方法可以实现吗？

究竟完成了什么？

在任何类型的帖子中标记用户/朋友？仅适用于 Open Graph 故事或照片。（但请注意，如果用户实际上不在照片中，或者如果照片不是真实照片，而只是合成图像，则应用程序*不应该在照片中标记用户。）*

还是发到朋友的墙上？从 2013 年 2 月起，这*只能*使用 Feed 对话框来实现。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-03T11:03:54.400

如果您`to`在 Feed 对话框中使用该参数，您还需要指定一个有效的访问令牌。

我们实际上遇到了同样的问题，我们通过将 Feed Dialog 显示为 iframe 并动态调整`to`参数来解决这个问题。您可以在此处找到深入的答案 + 代码示例：[https ://stackoverflow.com/a/14532867/1406819](https://stackoverflow.com/a/14532867/1406819)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-29T08:06:31.757

2013 年 2 月将取消通过 API 发布到朋友墙上的可能性 – [https://developers.facebook.com/roadmap/#february-2013](https://developers.facebook.com/roadmap/#february-2013)：

如果您的应用程序已经失败，也许您在设置中启用了相应的迁移？无论如何，现在开发这样的东西没有多大意义，因为它在一周内不会再工作了。

“我们将取消通过 Graph API 在用户朋友的墙上发帖的功能。具体来说，针对 [user_id]/feed 的 [user_id] 与会话用户不同的帖子，或 target_id 用户与会话用户不同的 stream.publish 调用将失败。”</p>

如果您想允许人们发布到他们朋友的时间线，请调用提要对话框。通过用户提及标签或动作标签包含朋友的故事将显示在朋友的时间线上（假设朋友批准标签）。有关详细信息，请参阅[此博客文章](https://developers.facebook.com/blog/post/2012/10/10/growing-quality-apps-with-open-graph/)。

编辑：

@Sahil：如果现在有效，另请参阅[此答案。](https://stackoverflow.com/a/9411923/1045444)我不确定它现在是否有效。但是你应该尝试一次。我之前通过选择朋友并邀请他并在他的墙上也发布了一些工作流程。我还没有测试过这个，请确认我。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-31T16:27:47.637

在此处查看 FB.ui 文档以了解提要方法：[https ://developers.facebook.com/docs/reference/dialogs/feed/](https://developers.facebook.com/docs/reference/dialogs/feed/)

将“to”参数设置为朋友的 ID 将允许发布到时间线。to - 此故事将发布到的个人资料的 ID 或用户名。如果未指定，则默认为 from 的值。

有关更多信息，请参阅该页面下方的属性详细信息。请注意，使用它会触发确认对话框。

如果您使用的是 JS SDK，这里有一些东西可以帮助您入门：

```
var MY_ID = "1000000000000";
    function post(link, callback){
        var post = {};
        post.method = 'feed';
        if(!link.target)
        {
            link.target = MY_ID;
        }
        if(!link.from)
        {
            link.from = MY_ID;
        }

        post.to             = link.target;
        post.from           = link.from;
        post.link           = link.link;
        post.name           = link.name;
        post.picture        = link.picture;
        post.caption        = link.caption;
        post.description    = link.description;

        FB.ui(post, function(response){
            if(typeof callback=='function'){callback(response);}
        });
    } 
```

# r - 将曲线拟合到特定数据

> ID：14190883
> 
> 赞同：7
> 
> 时间：2013-01-07T06:18:26.637
> 
> 标签：r, gnuplot, curve-fitting, curve

我的论文中有以下数据：

```
28 45
91 14
102 11
393 5
4492 1.77 
```

我需要在其中拟合一条曲线。如果我绘制它，那么这就是我得到的。

![在此处输入图像描述](../Images/5c9dad5ce66a1f6e1157ad22498316bd.png)

我认为某种指数曲线应该适合这些数据。我正在使用 GNUplot。有人能告诉我什么样的曲线适合这个以及我可以使用哪些初始参数？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-02-24T10:14:27.637

以防万一*R*是一个选项，这里是您可能使用的两种方法的草图。

## 第一种方法：评估一组候选模型的拟合优度

这可能是最好的方法，因为它利用了您可能已经知道或期望的变量之间的关系。

```
# read in the data
dat <- read.table(text= "x y 
28 45
91 14
102 11
393 5
4492 1.77", header = TRUE)

# quick visual inspection
plot(dat); lines(dat) 
```

![在此处输入图像描述](../Images/a9d779f189cdb7802386d704c46882b1.png)

```
# a smattering of possible models... just made up on the spot
# with more effort some better candidates should be added
# a smattering of possible models...
models <- list(lm(y ~ x, data = dat), 
               lm(y ~ I(1 / x), data = dat),
               lm(y ~ log(x), data = dat),
               nls(y ~ I(1 / x * a) + b * x, data = dat, start = list(a = 1, b = 1)), 
               nls(y ~ (a + b * log(x)), data = dat, start = setNames(coef(lm(y ~ log(x), data = dat)), c("a", "b"))),
               nls(y ~ I(exp(1) ^ (a + b * x)), data = dat, start = list(a = 0,b = 0)),
               nls(y ~ I(1 / x * a) + b, data = dat, start = list(a = 1,b = 1))
)

# have a quick look at the visual fit of these models
library(ggplot2)
ggplot(dat, aes(x, y)) + geom_point(size = 5) +
    stat_smooth(method = lm, formula = as.formula(models[[1]]), size = 1, se = FALSE, color = "black") + 
    stat_smooth(method = lm, formula = as.formula(models[[2]]), size = 1, se = FALSE, color = "blue") + 
    stat_smooth(method = lm, formula = as.formula(models[[3]]), size = 1, se = FALSE, color = "yellow") + 
    stat_smooth(method = nls, formula = as.formula(models[[4]]), data = dat, method.args = list(start = list(a = 0,b = 0)), size = 1, se = FALSE, color = "red", linetype = 2) + 
    stat_smooth(method = nls, formula = as.formula(models[[5]]), data = dat, method.args = list(start = setNames(coef(lm(y ~ log(x), data = dat)), c("a", "b"))), size = 1, se = FALSE, color = "green", linetype = 2) +
    stat_smooth(method = nls, formula = as.formula(models[[6]]), data = dat, method.args = list(start = list(a = 0,b = 0)), size = 1, se = FALSE, color = "violet") +
    stat_smooth(method = nls, formula = as.formula(models[[7]]), data = dat, method.args = list(start = list(a = 0,b = 0)), size = 1, se = FALSE, color = "orange", linetype = 2) 
```

[![在此处输入图像描述](../Images/b98992f35d17978c635d58440a41f5a6.png)](https://i.stack.imgur.com/CJwcS.png)

橙色曲线看起来很不错。让我们看看当我们测量这些模型的相对拟合优度时它是如何排名的......

```
# calculate the AIC and AICc (for small samples) for each 
# model to see which one is best, ie has the lowest AIC
library(AICcmodavg); library(plyr); library(stringr)
ldply(models, function(mod){ data.frame(AICc = AICc(mod), AIC = AIC(mod), model = deparse(formula(mod))) })

      AICc      AIC                     model
1 70.23024 46.23024                     y ~ x
2 44.37075 20.37075                y ~ I(1/x)
3 67.00075 43.00075                y ~ log(x)
4 43.82083 19.82083    y ~ I(1/x * a) + b * x
5 67.00075 43.00075      y ~ (a + b * log(x))
6 52.75748 28.75748 y ~ I(exp(1)^(a + b * x))
7 44.37075 20.37075        y ~ I(1/x * a) + b

# y ~ I(1/x * a) + b * x is the best model of those tried here for this curve
# it fits nicely on the plot and has the best goodness of fit statistic
# no doubt with a better understanding of nls and the data a better fitting
# function could be found. Perhaps the optimisation method here might be
# useful also: http://stats.stackexchange.com/a/21098/7744 
```

## 第二种方法：使用遗传编程搜索海量模型

这似乎是一种在黑暗中进行曲线拟合的狂野射击。您不必一开始就指定太多，尽管也许我做错了...

```
# symbolic regression using Genetic Programming
# http://rsymbolic.org/projects/rgp/wiki/Symbolic_Regression
library(rgp)
# this will probably take some time and throw
# a lot of warnings...
result1 <- symbolicRegression(y ~ x, 
             data=dat, functionSet=mathFunctionSet,
             stopCondition=makeStepsStopCondition(2000))
# inspect results, they'll be different every time...
(symbreg <- result1$population[[which.min(sapply(result1$population, result1$fitnessFunction))]])

function (x) 
tan((x - x + tan(x)) * x) 
# quite bizarre...

# inspect visual fit
ggplot() + geom_point(data=dat, aes(x,y), size = 3) +
  geom_line(data=data.frame(symbx=dat$x, symby=sapply(dat$x, symbreg)), aes(symbx, symby), colour = "red") 
```

![在此处输入图像描述](../Images/c65f6d145a6a57e2497def7c2589c488.png)

实际上，视觉效果非常差。也许需要更多的努力才能从基因编程中获得高质量的结果……

学分：[G. Grothendieck](https://stackoverflow.com/users/516548/g-grothendieck)的[曲线拟合答案 1](https://stackoverflow.com/a/15045035/1036500)，[曲线拟合答案 2](https://stackoverflow.com/a/14659711/1036500)。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-09T14:57:20.920

你知道数据应该遵守的一些分析功能吗？如果是这样，它可以帮助您选择函数的形式，以适应数据。

否则，由于数据看起来像指数衰减，请在 gnuplot 中尝试这样的操作，其中将具有两个自由参数的函数拟合到数据：

```
 f(x) = exp(-x*c)*b
 fit f(x) "data.dat" u 1:2 via b,c
 plot "data.dat" w p, f(x) 
```

Gnuplot 将改变以 'via' 子句命名的参数以获得最佳拟合。统计信息打印到标准输出，以及当前工作目录中名为“fit.log”的文件。

c 变量将确定曲率（衰减），而 b 变量将线性缩放所有值以获得正确的数据幅度。

有关详细信息，请参阅[Gnuplot 文档中的曲线拟合部分](http://theochem.ki.ku.dk/on_line_docs/gnuplot/gnuplot_21.html)。

# cocoa - 音频单元：将生成的音频放入渲染回调中

> ID：14190884
> 
> 赞同：3
> 
> 时间：2013-01-07T06:18:31.070
> 
> 标签：cocoa, audio, core-audio, audiounit

我一直在尝试通过将 AURenderCallbackStruct 附加到音频单元的输入来操纵由 kAudioUnitType_Generator 音频单元生成的样本，但没有成功。我设法使用以下简单图表在 OS X 上运行：

```
(input callback) -> multichannel mixer -> (intput callback) -> default output 
```

但是我在以下（甚至更简单的）图表中失败了，这些图表以发电机单元开头：

```
speech synthesis -> (intput callback) -> default output           | fails in render callback with kAudioUnitErr_Uninitialized
audiofile player -> (intput callback) -> default output           | fails when scheduling file region with kAudioUnitErr_Uninitialized 
```

从设置 ASBD 格式到采样率，我几乎尝试了所有我能想到的方法，但我总是遇到这些错误。有谁知道如何设置一个图表，我们可以在其中操作来自这些不错的生成器单元的样本？

下面是使用语音合成的尝试失败的渲染回调函数和图形实例化方法。音频文件播放器对此几乎相同，当然，除了设置文件播放。如果我删除回调并在其中添加一个 AUGraphConnectNodeInput ，这两种设置都可以工作......

```
static OSStatus RenderCallback(void *inRefCon,
                                    AudioUnitRenderActionFlags *ioActionFlags,
                                    const AudioTimeStamp *inTimeStamp,
                                    UInt32 inBusNumber,
                                    UInt32 inNumberFrames,
                                    AudioBufferList *ioData) {

    AppDelegate *app = (AppDelegate *)inRefCon;
    AudioUnit inputUnit = app->_speechUnit;
    OSStatus status = noErr;

    status = AudioUnitRender(inputUnit, ioActionFlags, inTimeStamp, 0, inNumberFrames, ioData);
    // *** ERROR *** kAudioUnitErr_Uninitialized, code: -10867

    // ... insert processing code here...

    return status;
}

- (int)createSynthGraph {
    AUGRAPH_CHECK( NewAUGraph( &_graph ) );

    AUNode speechNode, outputNode;

    // speech synthesizer
    AudioComponentDescription speechCD = {0};
    speechCD.componentType = kAudioUnitType_Generator;
    speechCD.componentSubType = kAudioUnitSubType_SpeechSynthesis;
    speechCD.componentManufacturer = kAudioUnitManufacturer_Apple;

    // output device (speakers)
    AudioComponentDescription outputCD = {0};
    outputCD.componentType = kAudioUnitType_Output;
    outputCD.componentSubType = kAudioUnitSubType_DefaultOutput;
    outputCD.componentManufacturer = kAudioUnitManufacturer_Apple;

    AUGRAPH_CHECK( AUGraphAddNode( _graph, &outputCD, &outputNode ) );
    AUGRAPH_CHECK( AUGraphAddNode( _graph, &speechCD, &speechNode ) );

    AUGRAPH_CHECK( AUGraphOpen( _graph ) );
    AUGRAPH_CHECK( AUGraphNodeInfo( _graph, outputNode, NULL, &_outputUnit ) );
    AUGRAPH_CHECK( AUGraphNodeInfo( _graph, speechNode, NULL, &_speechUnit ) );

    // setup stream formats:
    AudioStreamBasicDescription streamFormat = [self streamFormat];
    AU_CHECK( AudioUnitSetProperty( _speechUnit, kAudioUnitProperty_StreamFormat, kAudioUnitScope_Output, 0, &streamFormat, sizeof(streamFormat) ) );

    // setup callback:
    AURenderCallbackStruct callback;
    callback.inputProc = RenderCallback;
    callback.inputProcRefCon = self;
    AUGRAPH_CHECK( AUGraphSetNodeInputCallback ( _graph, outputNode, 0, &callback ) );

    // init and start
    AUGRAPH_CHECK( AUGraphInitialize( _graph ) );
    AUGRAPH_CHECK( AUGraphStart( _graph ) );
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T20:32:52.420

您必须使用 将这些节点连接在一起`AUGraphConnectNodeInput`。*除非*它们已连接，否则不会在其中`AUGraph`初始化 AudioUnit 。图中未连接到其他单元的单元将不会被初始化。

 *您也可以在开始图表之前尝试手动初始化它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-29T10:30:24.370

当您的音频单元未初始化时，会出现 kAudioUnitErr_Uninitialized 错误。只需在设置问题属性之前初始化您的图表。这将初始化图中所有打开的音频单元。来自 AUGraph.h 中的 AUGraphInitialize 讨论：

> 在交互中涉及的每个打开的节点/AudioUnit（准备渲染）和 SubGraph 上调用 AudioUnitInitialize()。*

# java - 将 11 字节十六进制字符串转换为大小为 16 的字节数组

> ID：14190888
> 
> 赞同：0
> 
> 时间：2013-01-07T06:19:11.177
> 
> 标签：java, android, hex, bytearray

我有一个 11 字节的十六进制字符串`"0017333032CD4900186F41"`。我必须将此字符串转换为字节数组，并且做得很好并得到正确的结果。但是，按照特定的消息格式，我想将此十六进制字符串转换为大小为 16 而不是 11 的字节数组。这可能吗？

我试过`hex.getBytes("UTF-8")`了，这给了我一个大小为 32 的数组。是否可以将 11 字节十六进制字符串作为 16 字节数组？

此要求在 Java 中适用于 BlackBerry 应用程序。这已在 Android 和 iPhone 中成功实现。Android 正在使用`ByteConverter`Basic4Android 中的库来获得所需的结果：

```
Dim data() As Byte
data = Bconv.HexToBytes(data_hex) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:35:28.080

十六进制字符串表示一个有 2 位数字的字节 (16² = 256)。

所以用零填充字符串`data_hex`到右边，直到它的长度为 2*16 = 32。然后进行 HexToBytes 转换。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T06:37:49.640

尝试

```
String s = "0017333032CD4900186F41";
BigInteger bi = new BigInteger(s, 16);
byte[] a1 = bi.toByteArray();
byte[] a2 = new byte[16];
System.arraycopy(a1, 0, a2, 16 - a1.length, a1.length); 
```

# css - CSS 响应式网格系统

> ID：14190891
> 
> 赞同：0
> 
> 时间：2013-01-07T06:20:00.143
> 
> 标签：css

什么 CSS 响应式网格系统具有以下特点：

*   最大宽度：1024px（如何设置？）
*   12列或更多
*   嵌套网格
*   图像自动宽度

我试过[one%](http://onepcssgrid.mattimling.com/)，但不能做嵌套网格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:27:36.853

[Bootstrap](http://twitter.github.com/bootstrap/index.html)为您提供您想要的一切（可能比您想要的更多）。不过，您需要自己设置最大宽度。但这很容易：

```
.container {
  max-width: 1024px;
} 
```

[脚手架](http://twitter.github.com/bootstrap/scaffolding.html)页面在网格上有文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:27:48.267

我认为这应该可以解决问题。不过，我可能对您要查找的内容有误。

[http://www.gridsystemgenerator.com/gs03.php?GridWidth=1024&GridColumns=16&GridMarginLeft=10&GridMarginRight=10](http://www.gridsystemgenerator.com/gs03.php?GridWidth=1024&GridColumns=16&GridMarginLeft=10&GridMarginRight=10)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:52:08.630

```
body{
 margin:0;
padding:0;
} 
```

并检查[这个](http://www.960.gs)

# directory - 禁止目录内容，但允许 robots.txt 中的目录页面

> ID：14190893
> 
> 赞同：2
> 
> 时间：2013-01-07T06:20:11.273
> 
> 标签：directory, block, robots.txt

这是否适用于禁止目录下的页面，但仍允许该目录 url 上的页面？

```
Allow: /special-offers/$
Disallow: /special-offers/ 
```

允许：

www.mysite.com/special-offers/

但阻止：

www.mysite.com/special-offers/page1

www.mysite.com/special-offers/page2.html

ETC

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-13T09:37:46.863

看过谷歌自己的[robots.txt 文件](http://www.google.co.uk/robots.txt)后，他们所做的正是我所质疑的。

在第 136-137 行，他们有：

```
Disallow: /places/
Allow: /places/$ 
```

所以他们阻止了地点下的任何东西，但允许根地点 URL。与我的语法的唯一区别是顺序，即`Disallow`在先。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T07:33:56.147

### 标准

根据[HTML 4.01 规范，附录 B.4.1](http://www.w3.org/TR/html4/appendix/notes.html#h-B.4.1.1)中允许的值`Disallow`（没有双关语）是部分 URI（表示部分或完整路径），仅：

> “Disallow”字段指定不被访问的部分 URI。这可以是完整路径，也可以是部分路径；不会检索以该值开头的任何 URI。例如，
> 
> **禁止：/help**禁止 /help.html 和 /help/index.html，而
> 
> **禁止：/help/**将禁止 /help/index.html 但允许 /help.html。

我认为从那以后没有任何改变，因为当前的[HTML5 规范草案](http://www.w3.org/html/wg/drafts/html/master/)根本没有提及`robots.txt`。

### 扩展

然而，在实践中，许多机器人引擎（例如[Googlebot](http://support.google.com/webmasters/bin/answer.py?hl=en&answer=156449&from=35237&rd=1)）在他们接受的内容上更加灵活。例如，如果您使用：

```
Disallow: /*.gif$ 
```

然后 Googlebot 将跳过任何带有`gif`扩展名的文件。我认为你可以做这样的事情来禁止文件夹下的所有文件，但我不是 100% 确定（你可以用[Google Webmaster Tools](https://www.google.com/webmasters/tools/robots-analysis)测试它们）：

```
Disallow: /special-offers/*.*$ 
```

### 其他选项

无论如何，您不应该过分依赖这一点（因为每个搜索引擎的行为可能不同），因此如果可能的话，最好使用[元标记或 HTTP 标头](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag?hl=pt-BR)。例如，您可以配置您的网络服务器以将此标头包含在不应索引（或遵循）的所有响应中：

```
X-Robots-Tag: noindex, nofollow 
```

在您的特定网络服务器中搜索执行此操作的最佳方法。这是Apache 中的[一个示例](http://www.kahunaburger.com/2012/05/18/mod_rewrite-and-mod_headers-to-rewrite-headers/)[`mod_rewrite`](http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html)，结合以[`mod_headers`](http://httpd.apache.org/docs/2.2/mod/mod_headers.html)根据 URL 模式有条件地设置一些标头。免责声明：我自己没有测试过，所以我无法判断它的效果如何。

```
# all /special-offers/ sub-urls set env var ROBOTS=none
RewriteRule ^/special-offers/.+$ - [E=ROBOTS:none]

# if env var ROBOTS is set then create header X-Robots-Tag: $ENV{ROBOTS}
RequestHeader set X-Robots-Tag %{ROBOTS}e env=ROBOTS 
```

（注：`none`相当于`noindex, nofollow`）

# sql - 2000 数据库和 2008 R2 SQL 管理工作室

> ID：14190897
> 
> 赞同：0
> 
> 时间：2013-01-07T06:20:34.233
> 
> 标签：sql, sql-server, database, ssms

是否可以使用 2008 R2 SQL Management Studio 查询 2000 数据库，而无需将 2000 数据库升级到 2008？

我的 2000 数据库非常庞大，因此无法选择升级。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:46:38.803

我相信 SSMS 支持 2000 年及以上版本的所有 SQL Server 版本。

# location - 是否有任何 API 用于获取所有国家并通过国家/地区获取所有州/地区并再次通过州/地区获取其中的所有城市

> ID：14190898
> 
> 赞同：8
> 
> 时间：2013-01-07T06:20:33.987
> 
> 标签：location, state, region, country, city

我在 asp.net 中创建一个网页，我必须在下拉列表中填充所有国家/地区。在选择一个国家时，我需要将该国家/地区的所有州/地区填充到另一个下拉列表中。最后选择州/地区需要将该州/地区的所有城市填充到另一个下拉列表中。有没有实现这一点的api。谁能帮帮我吗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T05:48:40.400

[http://www.geonames.org/export/web-services.html](http://www.geonames.org/export/web-services.html)

[http://api.shopify.com/country.html](http://api.shopify.com/country.html)

[http://api.drupal.org/api/drupal/includes%21locale.inc/function/country_get_list/7](http://api.drupal.org/api/drupal/includes%21locale.inc/function/country_get_list/7)

您可能必须调用多个 API 才能实现此目的。希望这可以帮助。

# c++ - 函数调用中的 std::array 隐式初始化

> ID：14190900
> 
> 赞同：1
> 
> 时间：2013-01-07T06:20:47.677
> 
> 标签：c++, c++11, initializer-list

> **可能重复：**
> [什么时候可以在初始化列表中省略外括号？](https://stackoverflow.com/questions/11734861/when-can-outer-braces-be-omitted-in-an-initializer-list)

我`std::array`在 Visual Studio 2010 中使用，实际上`std::tr1::array`我遇到了一个烦人的问题。例如，我有一个以 a`array`作为参数的函数。

`void do_something(std::tr1::array<int, 5> data)`

但是，调用该函数`do_something({1,2,3});`不起作用并导致编译器错误

```
std::tr1::array<int, 5> data = {1,2,3};
do_something(data); 
```

做。我真的不明白为什么前者不起作用。我得到的错误告诉我我`)`在`{`. 这让我相信它不需要初始化列表，但我不明白为什么不这样做。我是否滥用了初始化列表？

编辑：`std::tr1::array`没有必要，`std::array`工作正常..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:35:01.283

试试这个

```
do_something({{1,2,3}}); 
```

`std::array`使用 2 组大括号进行初始化，但在某些情况下（例如您发布的示例），您可以省略外部虚假大括号。这可能会有所帮助：[C++11：正确的 std::array 初始化？](https://stackoverflow.com/q/14178264/964135)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T06:38:05.690

需要额外的大括号，因为`std::array`它是一个聚合和 POD，与标准库中的其他容器不同。`std::array`没有用户定义的构造函数。它的第一个数据成员是一个大小数组`N`（您将其作为模板参数传递），并且该成员直接使用初始化程序进行初始化。直接初始化的*内部*数组需要额外的大括号。

把它想象成：

```
struct A
{
     int data[2];
}; 
```

创建 的实例时需要多少个大括号`A`？

```
A a{1,2};      //wrong as per the Standard (the compiler might allow it)
A b{ {1,2 } }; //correct 
```

在`b`中，外部对`{}`用于*struct*，内部对`{}`用于*member-array*。

希望有帮助。

# spring - 如何在 JasperReport 表达式中使用 Spring bean？

> ID：14190912
> 
> 赞同：2
> 
> 时间：2013-01-07T06:21:53.193
> 
> 标签：spring, jasper-reports

我们如何使用**JasperReport 表达式**中 的**spring bean**来调用该 bean 的方法？正如我已经实现的那样，我们可以通过将**jar**文件添加到类路径来调用静态方法，但是如果方法不是静态的怎么办？

# objective-c - 查找字符串中出现的次数

> ID：14190915
> 
> 赞同：0
> 
> 时间：2013-01-07T06:21:58.603
> 
> 标签：objective-c, ios, xcode

我需要比较的字符串中有随机数据（名称）。数据（名称）并不总是相同的，但会采用这种格式。

例如，我有两个这样的 NSString：

```
NSString *string1= @"Jordan Mike Liam Taylor Jill Gordon Phil Mark";

NSString *string2= @"Marcus Tony Taylor Anny Keenan Brittany Gordon Mike"; 
```

基于这两个字符串，我们可以看到两个字符串都包含**Mike| 泰勒 | 戈登**

所以这两个字符串之间的相同数据的计数是 3。但是我无法通过代码让它工作。以下是我迄今为止所拥有的。我觉得我很接近但并不完全在那里，并且非常感谢社区的一些帮助。先感谢您！

```
NSMutableArray *tempArray= [[NSMutableArray alloc] init];
[tempArray addObject:string1];
[tempArray addObject:string2];

NSCountedSet *bag = [[NSCountedSet alloc] initWithArray:tempArray];

NSString *mostOccurring;
NSUInteger highest = 0;
for (NSString *s in bag)
{
    if ([bag countForObject:s] > highest)
    {
        highest = [bag countForObject:s];
        mostOccurring = s;
    }
}
NSLog(@"Most frequent string: %d", highest); 
```

**编辑代码**

```
NSUInteger highest = 1;
NSUInteger theCount=0;
for (NSString *s in bag)
{
    if ([bag countForObject:s] > highest)
    {
        highest = [bag countForObject:s];
        mostOccurring = s;

    }
if (highest ==2)
{
    theCount++;
}

}
NSLog(@"Most frequent string: %d", theCount); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T07:20:35.383

我迟到了回答这个问题，但请看这里：

```
NSString *string1= @"Jordan Mike Liam Taylor Jill Gordon Phil Mark a";
NSString *string2= @"Marcus Tony Taylor Anny Keenan Brittany Gordon Mike";
NSMutableSet *set1=[NSMutableSet setWithArray:[string1 componentsSeparatedByString:@" "]];
NSMutableSet *set2=[NSMutableSet setWithArray:[string2 componentsSeparatedByString:@" "]];
[set1 intersectSet:set2];

NSArray *intersect=[set1 allObjects];//intersect contains all the common elements

NSLog(@"Common count is  %ld.",[intersect count]); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:35:25.277

你根本不需要改变你的代码示例来实现你想要的：

```
 NSString *string1= @"Jordan Mike Liam Taylor Jill Gordon Phil Mark";
    NSString *string2= @"Marcus Tony Taylor Anny Keenan Brittany Gordon Mike";

    NSMutableArray *tempArray= [[NSMutableArray alloc] init];
    [tempArray addObjectsFromArray:[string1 componentsSeparatedByString:@" "]];
    [tempArray addObjectsFromArray:[string2 componentsSeparatedByString:@" "]];

    NSCountedSet *bag = [[NSCountedSet alloc] initWithArray:tempArray];

    NSUInteger repeats = 0;
    NSMutableArray *matches = [[NSMutableArray alloc] init];
    for (NSString *s in bag)
    {
        if ([bag countForObject:s] > 1)
        {
            repeats++;
            [matches addObject:s];
        }
    }
    NSLog(@"Number of names repeated: %ld", repeats);
    NSLog(@"Matches: %@", matches); 
```

# html - 无法在页面上居中无序列表？

> ID：14190920
> 
> 赞同：0
> 
> 时间：2013-01-07T06:22:30.477
> 
> 标签：html, css, html-lists

在互联网上浏览了一段时间后，我还没有找到一种方法来成功地将无序列表放在我的页面上。

这是列表的 HTML：

```
<div id="buttons">
<ul>
<li><a href="http://www.twitter.com/tommaxwelll"><img src="twitter.png" alt="twitter-icon" /></a></li>
<li><a href="http://www.github.com/tommaxwell"><img src="github.png" alt="github-icon" /></a></li>
<li><a href="http://www.instagram.com/tommaxwelll"><img src="instagram.png" alt="instagram-icon" /></a></li>
<li><a href="http://www.facebook.com/tommaxwelll"><img src="facebook.png" alt="facebook-icon" /></a></li>
</ul>
</div> 
```

这是其他 SO 帖子推荐的 CSS：

```
#buttons {
float: right;
position: relative;
left: -50%;
top:140px;
text-align: left;
}

#buttons ul {
list-style-type: none;
position: relative;
left: 50%;
}

#buttons li {
float: left;
position: relative;
} 
```

列表项上的 float:left 是我保持列表水平的方式。您还可以在此处查看相关网站：[http ://www.tommaxwell.me](http://www.tommaxwell.me)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:36:07.300

检查以下[http://jsfiddle.net/QGgdR/](http://jsfiddle.net/QGgdR/)

```
#sitecontent {
position: relative;
display: block;
margin: 140px auto 20px;
width: 100%;
max-width: 650px;
margin: 140px auto 0;
padding: 0 17px 4px 17px;
background-color: rgba(255, 255, 255, 0.7);
border: 1px solid rgba(191, 191, 191, 1);
}
#buttons {
margin: 20px auto 0;
display: block;
height: 50px;
}

#buttons ul {
margin: 0 auto;
padding: 0;
display: table;
list-style: none;
}

#buttons li {
float: left;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T06:35:07.460

像这样改变你的CSS

```
#buttons {
display: inline;
position: relative;
right: 37px; //change this to exactly center your ul 
text-align: left;
top: 140px;
}

#buttons ul {
display: inline-block;
list-style-type: none;
position: relative;
} 
```

和你的 html

```
<center><div id="buttons">
<ul>
<li><a href="http://www.twitter.com/tommaxwelll"><img src="twitter.png" alt="twitter-icon" /></a></li>
<li><a href="http://www.github.com/tommaxwell"><img src="github.png" alt="github-icon" /></a></li>
<li><a href="http://www.instagram.com/tommaxwelll"><img src="instagram.png" alt="instagram-icon" /></a></li>
<li><a href="http://www.facebook.com/tommaxwelll"><img src="facebook.png" alt="facebook-icon" /></a></li>
</ul>
</div></center> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:38:13.440

要使浮动列表居中，请尝试此操作。看起来有点奇怪但有效：

```
#buttons {
    top:140px; /* your specific code */ 
    float: left;
    width: 100%;
    overflow: hidden;
    position: relative;
}

#buttons ul {
    clear: left;
    float: left;
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    left: 50%;
    text-align: center;
}

#buttons ul li {
    display: block;
    float: left;
    list-style: none;
    margin: 0;
    padding: 0;
    position: relative;
    right: 50%;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-07T06:44:15.040

**你应该这样尝试：**

无需使用`position:relative;`和`position:absolute;`

```
#buttons{
  display:table;
  margin:0 auto;
} 
```

**[JsBin 链接](http://jsbin.com/izirik/3/watch)**

# javascript - IE中的jQuery多个版本noConflict

> ID：14190921
> 
> 赞同：1
> 
> 时间：2013-01-07T06:22:34.643
> 
> 标签：javascript, internet-explorer, jquery

我有一个使用 jQuery 1.8 编写的 javascript 小部件，它加载到使用 jQuery 1.3 的客户端网站上。如果没有一些非常丑陋的黑客，我无法让 noConflict 在 IE 中正常工作。这是我的小部件呈现后页面的样子：

```
<html>
<head>
   <script type="text/javascript" src="http://code.jquery.com/jquery-1.3.min.js"></script>
</head>
<html>
<body>
   <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
   <script>
     $jq = $.noConflict();
   </script>
</body>
</html> 
```

在 chrome 中，这很好用，$jq 被定义为 jQuery 1.8.3，但在 IE 8 中这不起作用，$jq 被定义为 jQuery 1.3。我的猜测是它的时间问题，脚本在新的 jQuery 加载之前被执行。我放入了一些回调定时器并且它可以工作，但我无法想象嵌入回调定时器是正确的方法。

有任何想法吗？

**编辑**

我不能命名 jQuery1.3，客户端在整个页面中使用它并且不想升级。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:29:19.830

```
<!-- load jQuery 1.5 -->
<script type="text/javascript" src="http://foo.com/jquery-1.5.js"></script>
<script type="text/javascript">
var jQuery_1_5 = $.noConflict(true);
</script>

<!-- load jQuery 1.6 -->
<script type="text/javascript" src="http://foo.com/jquery-1.6.js"></script>
<script type="text/javascript">
var jQuery_1_6 = $.noConflict(true);
</script> 
```

在这种情况下 -

利用

```
jQuery_1_6(document).ready(function($) {
  // Code using $ as usual goes here.
}); 
```

代替

```
jQuery(document).ready(function($) {
  // Code using $ as usual goes here.
}); 
```

见这里 - [http://blog.nemikor.com/2009/10/03/using-multiple-versions-of-jquery/](http://blog.nemikor.com/2009/10/03/using-multiple-versions-of-jquery/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T23:15:09.560

我最终选择了[LABjs](http://labjs.com/)，这是一个 javascript 加载器。这样我可以同步加载脚本并相应地在它们上执行代码：

```
<script>
   $LAB
   .script("framework.js").wait()
   .script("plugin.framework.js")
   .script("myplugin.framework.js")
   .wait(function(){
      myplugin.init();
      framework.init();
      framework.doSomething();
   });
</script> 
```

# oracle - 动态查询从行中获取动态列

> ID：14190922
> 
> 赞同：0
> 
> 时间：2013-01-07T06:22:41.350
> 
> 标签：oracle, plsql, oracle10g

我一直在尝试创建 PL/SQL 语句来创建动态查询以获取动态列。因为我对这些 Oracle PL/SQL 语句不太了解；我对几件事感到困惑。

是否必须具有用于创建动态查询的存储过程？

以下查询不会引发任何错误，甚至不会产生任何结果。我在以下查询中尝试做的是根据**FKBAB_SOURCE_ID获取****FKOD_AMOUNT**的总和，这是 PFS_SOURCE_ID 的外**键**。

 ****```
 declare
    sql_query varchar2(3000) := 'select FKOM_OFFICE_ID,FKBAM_BUDGET_ID ';
    begin
        for x in (select distinct PFS_SOURCE_ID,PFS_SOURCE_ENG from PBS_FC_SOURCE WHERE PFS_UPPER_SOURCE_ID!=0 )
        loop
            sql_query := sql_query ||
                ' , sum(case when FKBAB_SOURCE_ID = '||x.PFS_SOURCE_ID||' then FKOD_AMOUNT ELSE 0 end) as '||x.PFS_SOURCE_ENG;
                dbms_output.put_line(sql_query);
        end loop;
        sql_query := sql_query || ' FROM FMS_K_OFFICEWISE_DTL
        JOIN FMS_K_OFFICEWISE_MST ON FMS_K_OFFICEWISE_MST.FKOM_OFFICE_MST_ID=FMS_K_OFFICEWISE_DTL.FKOD_OFFICE_MST_ID
        JOIN FMS_K_BUDGET_ALLOCATION_DTL ON FMS_K_BUDGET_ALLOCATION_DTL.FKBAD_BUDGET_ALLOC_DTL_ID=FMS_K_OFFICEWISE_DTL.FKOD_BUDGET_ALLOC_AD_ID
        JOIN FMS_K_BUDGET_ALLOCATION_MST ON FMS_K_BUDGET_ALLOCATION_MST.FKBAM_BUDGET_ALLOC_ID=FMS_K_BUDGET_ALLOCATION_DTL.FKBAB_BUDGET_ALLOC_ID
        JOIN PBS_FC_BUDGET ON PBS_FC_BUDGET.PFB_BUDGET_ID=FMS_K_BUDGET_ALLOCATION_MST.FKBAM_BUDGET_ID
        GROUP BY FKOM_OFFICE_ID,FKBAM_BUDGET_ID ';
        dbms_output.put_line(sql_query);
    end; 
```

如何执行 'sql_query' ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T10:27:55.423

要得到答案（删除我的评论），这是 pl/sql，而不是 select 语句，所以你不能只运行它。

`execute immediate`您可以使用子句`INTO`将结果存储到一些变量或数组中。

但是您可以将查询设为游标，将游标放入流水线函数中，然后

```
select * from table(your_pipelined_function) 
```****

# ruby-on-rails - 如何在不计算包含的格式数据的情况下显示字符串的 n 个字符

> ID：14190923
> 
> 赞同：0
> 
> 时间：2013-01-07T06:22:47.340
> 
> 标签：ruby-on-rails, view

我正在为我的博客应用程序使用 CKEditor，并将格式数据保存在我的`:content`属性中。

例如，一个特定的@post.content 可能会像这样开始。

`<p>\r\n\t<span class=\"s1\" style=\"color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 1.1em; line-height: 1.7em;\">This is my text starting here. This is an really awesome entry, you see...`

条目的第一部分是所有格式数据，实际写入的内容以“这是我的文本从这里开始......”开始

我想做的是显示书面内容的前五十个字符。

我尝试过这样的事情，

```
<%= post.content.first(50).try(:html_safe) %> 
```

但这不会返回任何内容，除非格式化数据少于 50 个字符。

我如何才能显示书面内容的前 50 个字符？

如果不清楚，或者是否需要任何其他信息，请告诉我。非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T06:42:37.220

尝试使用[strip_tags](http://api.rubyonrails.org/classes/ActionView/Helpers/SanitizeHelper.html#method-i-strip_tags)方法

例如

```
 <%= truncate(strip_tags(post.content), :length => 50, :omission => '..').html_safe %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T06:42:41.923

一种方法是使用 Nokogiri 提取原始文本。

```
require 'nokogiri'

text = Nokogiri::HTML(post.content).text.strip 
```

以上将为您提供原始文本，您可以使用该`truncate`方法在其上显示前 50 个字符。

# objective-c - DatePicker 没有选择正确的日期

> ID：14190929
> 
> 赞同：1
> 
> 时间：2013-01-07T06:24:08.480
> 
> 标签：objective-c, ios, date, datepicker

我有一个`Button`在我的`view`。点击`Button`你会得到一个`datepicker`默认为今天的日期，然后用户可以选择他们想要搜索事件的日期。问题是，无论我选择什么日期，它总是返回当前日期并将其添加到我`TextField`放在 mu`Button`中的日期中。任何人都可以告诉我我错在哪里。我以编程方式设置日期选择器。

以下是我的代码，希望有人可以帮助我！

//点击按钮时显示日期选择器

```
 - (IBAction)startDateButtonAction:(id)sender
  {
     if ([popOverController isPopoverVisible]) {
    [popOverController dismissPopoverAnimated:YES];
  }
    UIViewController* popoverContent = [[UIViewController alloc] init]; //ViewController
    UIView *popoverView1 = [[UIView alloc] init];   //view
    datePicker          =[[UIDatePicker alloc]init];//Date picker
    datePicker.frame    =CGRectMake(0,0,240, 150);
    datePicker.datePickerMode = UIDatePickerModeDate;
    [datePicker setMaximumDate:[[NSDate date] dateByAddingTimeInterval:24*60*60*-6]];
    [datePicker setMinimumDate:[DateFormatter getSubtractedDateForomCurrentDateWith:35]];
    datePicker.date     = [DateFormatter getDateFromString:startDateLabel.text];
    datePicker.selected = YES;
    [datePicker addTarget:self action:@selector(datePickerValue)       forControlEvents:UIControlEventValueChanged];
    [popoverView1 addSubview:datePicker];
    popoverContent.view = popoverView1;
    popOverController = [[UIPopoverController alloc]    initWithContentViewController:popoverContent];
    [popOverController setPopoverContentSize:CGSizeMake(240, 150) animated:NO];
    [popOverController presentPopoverFromRect:startDateButton.frame inView:headerView   permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];
} 
```

//从日期选择器中选择任何日期时的动作函数

```
 - (void) datePickerValue
  {
     NSDateComponents *offsetComponents = [[NSDateComponents alloc] init];
     [offsetComponents setDay:-6]; 
     NSDate *labelStartDate = datePicker.date;
     startDate = [DateFormatter getOnlyDateComponentsFromDate:labelStartDate];
     NSDate *labelEndDate = [self addDayToDate:startDate Number:6];
     startDateLabel.text = [DateFormatter getDateStringddmmyyy:labelStartDate];
     endDateLabel.text   = [DateFormatter getDateStringddmmyyy:labelEndDate];
   } 
```

[包括这里使用的功能]

```
//used for getting date components
+(NSDate *) getOnlyDateComponentsFromDate:(NSDate *)date
{
unsigned int flags = NSYearCalendarUnit | NSMonthCalendarUnit | NSDayCalendarUnit;
NSCalendar* calendar = [NSCalendar currentCalendar];
NSDateComponents* components = [calendar components:flags fromDate:date];
NSDate* dateOnly = [calendar dateFromComponents:components];
return dateOnly;
}  

 - (NSDate *) addDayToDate:(NSDate *)date Number:(int) number
{
  NSDate *newDate = [date dateByAddingTimeInterval:60*60*24*number];
  return newDate;
} 
```

我正在使用 ARC。`datePicker.date`即使我选择任何其他日期，这里也只给我当前日期

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T08:09:00.590

我终于发现了我的错误。问题出在我的代码上，我在其中设置了 datePicker 的最大值和最小值。删除了设置最大值和最小值的代码，代码工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T08:29:55.777

您需要像这样初始化您的日期选择器。

```
 _datePicker = [[UIDatePicker alloc] initWithFrame:pickerFrame];
_datePicker.tag=1951;
_datePicker.datePickerMode=UIDatePickerModeDate;

[_datePicker addTarget:self action:@selector(ageChanged:) forControlEvents:UIControlEventValueChanged];
[_actionSheet addSubview:_datePicker]; 
```

对于您的这种方法：`ageChanged:`

-(void)ageChanged:(id)sender {

```
NSDate *datePicked = [_datePicker date];
NSLog(@"%@", datePicked);
formattedDate = [dateFormatter stringFromDate:datePicked]; 
```

}

并`dateFormatter`根据您的要求进行设置。在更改日期时，它将为您提供您在日期选择器中选择的日期。

我希望这对您的日期选择器有所帮助。

# javascript - 如何在 Java Script 上显示密码文本框的默认文本？

> ID：14190931
> 
> 赞同：0
> 
> 时间：2013-01-07T06:24:15.323
> 
> 标签：javascript, asp.net, textbox

```
<asp:TextBox TextMode="Password" ID="TxtBx_Password" runat="server" Width="175px" Text="Password" ForeColor="Gray" 
                    onblur="WaterMarkPwd(this, event);" onfocus="WaterMarkPwd(this, event);"></asp:TextBox> 
```

我正在使用此密码文本框并使用 WaterMarkPwd js 方法，如下所示，

```
<script type ="text/javascript">

function WaterMarkPwd(txtpwd, event) 
{
    var defaultText = "Password";

    // Condition to check textbox length and event type
    if (txtpwd .value.length == 0 & event.type == "blur") 
    {
        //if condition true then setting text color and 
        //default text in textbox
        txtpwd .style.color = "Gray";
        txtpwd .value = defaultText;
    }
    // Condition to check textbox value and event type
    if (txtpwd .value == defaultText & event.type == "focus") 
    {
        txtpwd .style.color = "black";
        txtpwd .value = "";
    }
 }
</script> 
```

问题是，如果我将其应用于具有文本模式 =“文本”的文本框，那么它可以正常工作，但是当我将其更改为文本模式 =“密码”时，它会显示加密文本，因为我在方法中设置它`defaultText = "Password";`

如何解决希望您的建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:30:24.367

如果您不关心兼容性，可以使用该`placeholder`属性为您的输入指定水印。

不幸的是，没有办法让`password`类型字段显示实际文本。您*可以*做的是改变您的方法并使用显示水印的覆盖元素。每当输入聚焦时隐藏它。

这是这种方法的演示：http: [//jsfiddle.net/tPtJR/](http://jsfiddle.net/tPtJR/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T06:30:01.560

您只需使用： **[占位符属性](http://www.w3schools.com/html5/att_textarea_placeholder.asp)**

```
<asp:TextBox TextMode="Password" ID="TxtBx_Password" runat="server" Width="175px"
Text="Password" Placeholder="Password"></asp:TextBox> 
```

## [演示 JSFiddle](http://jsfiddle.net/KCjZC/)

或者您可以在工作**[示例中使用](http://www.aspsnippets.com/demos/282/)****[jQuery 的 Watermark 插件](http://code.google.com/p/jquery-watermark/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:52:02.190

只需将您的功能更改为此即可

```
<script type ="text/javascript">

function WaterMarkPwd(txtpwd, event) 
{
    var defaultText = "Password";

    // Condition to check textbox length and event type
    if (txtpwd.value.length == 0 & event.type == "blur") 
    {
        //if condition true then setting text color and 
        //default text in textbox
        txtPwd.type = "text";
        txtpwd.style.color = "Gray";
        txtpwd.value = defaultText;
    }
    // Condition to check textbox value and event type
    if (txtpwd.value == defaultText & event.type == "focus") 
    {
        txtPwd.type = "password";
        txtpwd.style.color = "black";
        txtpwd.value = "";
    }
 }
</script> 
```

这是[jsFiddle](http://jsfiddle.net/g8bRL/)

我添加了两行，首先在你的 if 部分

```
txtPwd.type = "text"; 
```

在你的其他部分中排名第二

```
txtPwd.type = "password"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-16T09:03:41.477

```
<asp:TextBox ID="TxtBx_Password" CssClass="txt2" TextMode="Password" value="Password"      runat="server" onfocus="this.value=''" onblur="if(this.value == ''){ this.value ='Password';}"></asp:TextBox> 
```

您可以使用上述语法并将水印文本放入 value 属性中

# java - java中的正则表达式

> ID：14190933
> 
> 赞同：-2
> 
> 时间：2013-01-07T06:24:30.523
> 
> 标签：java, regex

我有正则表达式，但我不知道如何在 Java 中使用它。这是Java代码，

```
String inputString = "he is in cairo on 20-2-20 12  and he will be here on JANUARY 20 2013  the expected time to arrived is 100: 00 ";
String pattern = " ";
Pattern pt = Pattern.compile(pattern);
Matcher m = pt.matcher(inputString);
String resultString=null;
if(m.find()) {
    resultString = m.replaceAll(" ");
}
System.out.println(resultString); 
```

要求是：

1.  用单个空格删除任何空格替换。
2.  像这样的数据格式`dd-mm-yyyy`。
3.  如果数字之间有任何空格，则仅在数字之间将其删除。
4.  JANUARY 月份可能以这种格式出现：`JAN`.

预期的输出是：

```
he is in cairo on 20-2-2012  and he will be here on 20-01-2013  the expected time to arrived is 100:00 
```

我用过这个：

```
Matcher m = Pattern.compile("(\\d+)-(\\d+)?\\s*(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)").matcher(inputString);
String resultString=null;
String temp_str=null;
while (m.find()) {
    if (m.groupCount()==3) {
        int first = Integer.valueOf(m.group(1));
        int second = Integer.valueOf(m.group(2));
        String month = m.group(3);
        System.out.println("three parts");
        temp_str=m.replaceAll("\\1-\\2-\\3");
        System.out.println(temp_str);
    } else {
        int first = Integer.valueOf(m.group(1));
        String month = m.group(2);
        System.out.println("two parts");
       temp_str=m.replaceAll("\\1-\\2-\\3");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T07:29:02.700

非常感谢我找到了如下解决方案：

```
Matcher m = Pattern.compile("([0-9]{1,2}) ([0-9]{1,2}) ([0-9]{4})").matcher(inputString);
String resultString = null;
String temp_str = null;
while (m.find()) {
    if (m.groupCount() == 3) {
        int first = Integer.valueOf(m.group(1));
        int second = Integer.valueOf(m.group(2));
        String month = m.group(3);
        System.out.println("three parts" + month);
        if (month.matches("Jan"))
        {
            System.out.println("three parts wael");
            temp_str = m.replaceAll(first + "-" + second + "-" + "JANUARY");
        }
        System.out.println(temp_str);
    } 
    else {
        int first = Integer.valueOf(m.group(1));
        String month = m.group(2);
        System.out.println("two parts");
        temp_str = m.replaceAll("\\1-\\2-\\3");
    }
} 
```

# android - 从 twitter 导入联系人列表

> ID：14190934
> 
> 赞同：1
> 
> 时间：2013-01-07T06:24:30.603
> 
> 标签：android, twitter, twitter4j

我正在开发 android 应用程序并想使用 twitter 登录并从 twitter 导入联系人列表。我正在使用 twitter4j 库，我可以通过 android app 登录到 twitter。我想知道如何从 .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:57:08.747

您将拥有来自以下 api 的所有关注者 ID，

```
https://api.twitter.com/1/followers/ids.json?cursor=-1&screen_name=patel 
```

你可以从这个 api 获得所有关注者的信息，

```
https://api.twitter.com/1/users/lookup.json?user_id=401702563,1013369934,.... 
```

但是，这些 API 将从 2013 年 3 月起被 Twitter 弃用。相反，您可以尝试 Twitter api 1.1 版。

请参阅此[链接](https://dev.twitter.com/docs/api/1.1)。

# r - 如何在R中的数据框中按日期每8天获取值的总和

> ID：14190937
> 
> 赞同：6
> 
> 时间：2013-01-07T06:24:51.257
> 
> 标签：r, aggregate, time-series

我不需要经常使用 R 中的日期，但我想这相当容易。我有如下几年的每日数据，其中包含一些值，我想在每 8 天期间获取相关值的总和。最好的方法是什么？

您能提供的任何帮助将不胜感激！

```
 str(temp)
'data.frame':648 obs. of  2 variables:
 $ Date : Factor w/ 648 levels "2001-03-24","2001-03-25",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ conv2: num  -3.93 -6.44 -5.48 -6.09 -7.46 ...

head(temp)
Date              amount
24/03/2001  -3.927020472
25/03/2001  -6.4427004
26/03/2001  -5.477592528
27/03/2001  -6.09462162
28/03/2001  -7.45666902
29/03/2001  -6.731540928
30/03/2001  -6.855206184
31/03/2001  -6.807210228
1/04/2001   -5.40278802 
```

我尝试使用聚合函数，但由于某些原因它不起作用并且聚合方式错误：

```
z <- aggregate(amount ~ Date, timeSequence(from =as.Date("2001-03-24"),to =as.Date("2001-03-29"), by="day"),data=temp,FUN=sum) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T08:15:44.570

我更喜欢`xts`这种操作的包。

1.  我读了你的数据，作为动物园对象。查看格式选项的灵活性。

    ```
    library(xts)
    ts.dat <- read.zoo(text ='Date              amount
    24/03/2001  -3.927020472
    25/03/2001  -6.4427004
    26/03/2001  -5.477592528
    27/03/2001  -6.09462162
    28/03/2001  -7.45666902
    29/03/2001  -6.731540928
    30/03/2001  -6.855206184
    31/03/2001  -6.807210228
    1/04/2001   -5.40278802',header=TRUE,format = '%d/%m/%Y') 
    ```

2.  然后我提取给定时期的索引

    ```
    ep <- endpoints(ts.dat,'days',k=8) 
    ```

3.  最后，我将我的函数应用于每个索引的时间序列。

    ```
    period.apply(x=ts.dat,ep,FUN=sum )
    2001-03-29 2001-04-01 
    -36.13014  -19.06520 
    ```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-07T06:53:20.420

`cut()`在您的`aggregate()`命令中使用。

一些样本数据：

```
set.seed(1)
mydf <- data.frame(
    DATE = seq(as.Date("2000/1/1"), by="day", length.out = 365),
    VALS = runif(365, -5, 5)) 
```

现在，聚合。详情请参阅`?cut.Date`。您可以使用以下命令指定每个组中所需的天数`cut`：

```
output <- aggregate(VALS ~ cut(DATE, "8 days"), mydf, sum)
list(head(output), tail(output))
# [[1]]
#   cut(DATE, "8 days")      VALS
# 1          2000-01-01  8.242384
# 2          2000-01-09 -5.879011
# 3          2000-01-17  7.910816
# 4          2000-01-25 -6.592012
# 5          2000-02-02  2.127678
# 6          2000-02-10  6.236126
# 
# [[2]]
#    cut(DATE, "8 days")       VALS
# 41          2000-11-16 17.8199285
# 42          2000-11-24 -0.3772209
# 43          2000-12-02  2.4406024
# 44          2000-12-10 -7.6894484
# 45          2000-12-18  7.5528077
# 46          2000-12-26 -3.5631950 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-07T12:25:31.973

**滚动应用**。zoo 包有一个滚动应用功能，它也可以进行非滚动聚合。首先`temp`使用如下方式将数据框转换为动物园`read.zoo`：

```
library(zoo)
zz <- read.zoo(temp) 
```

然后它只是：

```
rollapply(zz, 8, sum, by = 8) 
```

`by = 8`如果您想要滚动总计，请 删除。

（请注意，`temp`您问题中的两个版本不一样。它们具有不同的列标题，并且 Date 列采用不同的格式。我在`str(temp)`这里假设了输出版本。对于`head(temp)`版本，必须向 . 添加`format = "%d/%m/%Y"`参数`read.zoo`。）

**聚合**。这是一个不使用任何外部包的解决方案。它`aggregate`基于原始数据框使用。

```
ix <- 8 * ((1:nrow(temp) - 1) %/% 8 + 1)
aggregate(temp[2], list(period = temp[ix, 1]), sum) 
```

请注意，`ix`看起来像这样：

```
> ix
[1]  8  8  8  8  8  8  8  8 16 
```

因此它将前 8 行的索引、后 8 行的索引分组，依此类推。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-07T06:56:52.710

这些不是日期分类变量。（没有自尊的程序会显示这样的日期，更不用说这些被标记为因素的事实。）[我后来注意到这些不是同一个对象。]此外，timeSequence 函数（至少在timeDate 包）也不返回 Date 类向量。因此，您期望两个不同的非 Date 对象以合理的方式对齐会有一种“正确的方式”是错误的。具有讽刺意味的是，仅使用 temp$Date 列就可以了，因为：

```
> z <- aggregate(amount ~ Date, data=temp , FUN=sum)
> z
        Date    amount
1  1/04/2001 -5.402788
2 24/03/2001 -3.927020
3 25/03/2001 -6.442700
4 26/03/2001 -5.477593
5 27/03/2001 -6.094622
6 28/03/2001 -7.456669
7 29/03/2001 -6.731541
8 30/03/2001 -6.855206
9 31/03/2001 -6.807210 
```

但是要以 8 天的间隔获取它，请使用`cut.Date`：

```
> z <- aggregate(temp$amount , 
                 list(Dts = cut(as.Date(temp$Date, format="%d/%m/%Y"), 
                 breaks="8 day")), FUN=sum)
> z
         Dts          x
1 2001-03-24 -49.792561
2 2001-04-01  -5.402788 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-04T00:10:19.103

一种更简洁的方法扩展到@G。格洛腾迪克方法。**注意**：不考虑日期是连续的还是不连续的，总和是根据固定的宽度计算的。

* * *

***代码***

```
 interval = 8 # your desired date interval. 2 days, 3 days or whatevea 
  enddate = interval-1 # this sets the enddate
  nrows = nrow(z)
  z <- aggregate(.~V1,data = df,sum) # aggregate sum of all duplicate dates
  z$V1 <- as.Date(z$V1)
  data.frame ( Start.date = (z[seq(1, nrows, interval),1]),
               End.date =  z[seq(1, nrows, interval)+enddate,1],
               Total.sum = rollapply(z$V2, interval, sum, by = interval, partial = TRUE)) 
```

* * *

***输出***

```
 Start.date   End.date   Total.sum
1  2000-01-01 2000-01-08   9.1395926
2  2000-01-09 2000-01-16  15.0343960
3  2000-01-17 2000-01-24   4.0974712
4  2000-01-25 2000-02-01   4.1102645
5  2000-02-02 2000-02-09 -11.5816277 
```

* * *

***数据***

```
 df <- data.frame(
  V1 = seq(as.Date("2000/1/1"), by="day", length.out = 365),
  V2 = runif(365, -5, 5)) 
```

# javascript - 如何在 Backbone.js 中将自定义函数从 Router 传递到 View 和 Template？

> ID：14190938
> 
> 赞同：1
> 
> 时间：2013-01-07T06:24:51.913
> 
> 标签：javascript, backbone.js

我有一个骨干路由器和六​​个骨干视图，它们加载（取决于用户的设置）两个模板之一。然而，两个模板使用相同的功能，我不想重复自己在两个模板或六个视图中定义功能。相反，我想在路由器中定义它。我知道如何将模型传递给视图和模板。但是，如何将我的自定义函数传递给视图，然后传递给模板，以便可以在其中任何一个中调用它？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-07T06:33:47.497

您可以创建一个所有其他视图都扩展的“超级”视图。

就像是：

```
var MySuperView = Backbone.View.extend({
  myReusableFunction: function() {
    // do stuff
  }
});

var View1 = MySuperView.extend({});
var View2 = MySuperView.extend({}); 
```

View1 和 View2 都将`myReusableFunction`可用。

# mongodb-query - 如何将Mongodb js返回值返回到shell脚本

> ID：14190946
> 
> 赞同：3
> 
> 时间：2013-01-07T06:25:27.037
> 
> 标签：mongodb-query

我开始使用 MongoDb 脚本。我的要求是查询 mongodb 的进程状态，并基于它在 shell 脚本中启动另一个进程。我编写了以下 js 来查询并从 mongodb 返回值：

```
var statusValue=db.Collections.find({"Name":"UV"},{Status:1,_id:0}).sort({Sequence:-1}).limit(1).map( function(u) { return u.Status; } );

print (statusValue); 
```

我从一个 shell 脚本调用这个 js。有没有办法将'statusValue'的值返回给调用shell？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-20T11:27:35.657

使用“--eval”选项获取返回值。例如： return=`mongo localhost/test --quiet --eval 'db.version()'` 用你自己的表达式替换“db.version()”。参考[官方文档](http://docs.mongodb.org/manual/tutorial/write-scripts-for-the-mongo-shell/#eval-option)。

# amazon-web-services - Amazon AWS RDS 创建数据库权限被拒绝

> ID：14190954
> 
> 赞同：4
> 
> 时间：2013-01-07T06:25:59.303
> 
> 标签：amazon-web-services, sql-server-2008, amazon-rds

我使用管理控制台创建了 AWS RDS MSSQL 实例，但无法创建新数据库。虽然创建一个表工作正常。

我错过了配置中的任何内容吗？我需要执行一个特殊的模式吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-19T16:42:53.843

根据文档，每个 RDS 实例最多可以创建 30 个数据库。 [http://aws.amazon.com/rds/faqs/#2](http://aws.amazon.com/rds/faqs/#2)

我们需要更多详细信息来调试您的特定问题。（用于创建 RDS 实例的参数、确切的错误消息等）

# android - 使用 Python 获取 jpeg 的像素值（SL4A android 4.0）

> ID：14190959
> 
> 赞同：2
> 
> 时间：2013-01-07T06:26:31.167
> 
> 标签：android, python, pixel, sl4a

我正在使用 Android 4.0 冰淇淋三明治在我的三星 Galaxy Tab 上开发一个项目。通过SL4A使用python我试图获取给定坐标（x，y）的jpeg（或png）图像的像素RGB值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T06:43:54.000

Android 脚本门面不包含任何可以做到这一点的东西。而且，据我所知，没有人将[PIL](http://www.pythonware.com/library/pil/handbook/image.htm)、[imageio](http://imageio.readthedocs.org/en/latest/)或任何其他流行的图像库移植到 SL4A。

然而，Kivy 的[Python for Android](http://txzone.net/2012/01/introducing-python-for-android/)发行版带有 PIL。如果你可以使用它，那就太好了。如果没有，也许你可以看看他们是如何`_imaging.so`构建的，并为 S4LA 构建它。

如果其中任何一个对您有用，这很容易：

```
jpg = PIL.Image.open('foo.jpg')
pixels = jpg.load()
r, g, b = pixels[x, y] 
```

或者，有一些纯 Python JPEG 库，例如[TonyJpegDecoder](http://davidf.sjsoft.com/files/pyjpeg/)或[NanoJPEG](https://github.com/sullerandras/nanojpeg-python)。尝试搜索 PyPI、ActiveState 和 Google 了解更多信息。（你可能想搜索与 Google App Engine 相关的东西，因为 GAE 与 Android 有类似的限制。）

这些都不像 PIL、libjpeg 的 Python 绑定等那样完整、功能齐全或简单，而且它们可能会非常慢。（来自 NanoJPEG 的文档：“在我的 core2duo 机器上解压缩 400x400 像素的图像需要 12 秒，而原始 C 代码需要 0.2 秒”……）

但是你应该能够做你需要的。例如（未经测试）：

```
with open('foo.jpg', 'rb') as f:
    jpegdata = f.read()
decoder = TonyJpegDecoder.TonyJpegDecoder()
bmp = decoder.DecompressImage(jpegdata)
bmpstr = ''.join(map(cur(bmp)))
bmprgb = bgr2rgb(bmpstr)
pos = y * decoder.Width + x
rgb = map(ord, bmprgb[pos*3:(pos+1)*3]) 
```

请注意，许多声称是“纯 Python”的库只是意味着它们通过包装 C 库`ctypes`而不是使用扩展模块，这在这种情况下不会直接提供帮助——但移植 libjpeg 之类的东西可能更容易或 FreeImage 比 PIL。（事实上​​，这可能只是“制作一个通用配方，运行构建脚本，然后推送，如果你幸运的话。）

作为一种真正疯狂的可能性，[PySide](http://thp.io/2011/pyside-android/)早在 PIL 之前就被移植到了 Android，因此您始终可以使用 Qt 为您进行图像处理。但老实说，移植 PIL 或 imageio 或至少 libjpeg 必须更容易。

# javascript - 在一次计算中求和单选按钮值和复选框值 - javascript 和 html

> ID：14190960
> 
> 赞同：2
> 
> 时间：2013-01-07T06:26:33.557
> 
> 标签：javascript, html, radio-button, checkbox

我正在尝试计算单选按钮和复选框的值。我有单选按钮按要求工作，但无法为复选框获取正确的脚本。我希望复选框有一个小计（工作正常），然后将该小计添加到单选按钮的计算中。以下是我到目前为止所拥有的。任何建议，将不胜感激。谢谢。

```
<form name="form1" id="form1" runat="server">
<legend>Header 1</legend>
    <p><input id="rdo_1" type="radio" value="3" name="price" onClick="DisplayPrice(this.value);"><label for="radio1">Radio 1</label></p>
    <p><input id="rdo_2" type="radio" value="2" name="price" onClick="DisplayPrice(this.value);"><label for="radio2">Radio 2</label></p>
    <p><input id="rdo_2" type="radio" value="1" name="price" onClick="DisplayPrice(this.value);"><label for="radio3">Radio 3</label></p>
</form>                    

<hr>

<form name="form2" id="form2" runat="server">
<legend>Header 2</legend>
    <p><input id="rdo_1" type="radio" value="100" name="price2" onClick="DisplayPrice(this.value);"><label for="rad1">Radio 1</label></p>
    <p><input id="rdo_2" type="radio" value="200" name="price2" onClick="DisplayPrice(this.value);"><label for="rad2">Radio 2</label></p>
</form>                             

<hr>

<form name="form3" id="form3" runat="server">
<legend>Header 3</legend>
    <p><input id="rdo_1" type="radio" value="3" name="price3" onClick="DisplayPrice(this.value);"><label for="ra1">Radio 1</label></p>
    <p><input id="rdo_2" type="radio" value="2" name="price3" onClick="DisplayPrice(this.value);"><label for="ra2">Radio 2</label></p>
    <p><input id="rdo_2" type="radio" value="1" name="price3" onClick="DisplayPrice(this.value);"><label for="ra3">Radio 3</label></p>
</form>      

<hr>
<form name="checkboxCalc" id="checkboxCalc">
    <p><input onClick="clickCh(this)" type="checkbox" class="checkbox" name="PROD_FBB" id="check01" value="300"/><label for="check01">Check 1</label></p>
    <p><input onClick="clickCh(this)" type="checkbox" class="checkbox" name="PROD_RHFG" id="check02" value="200"/><label for="check02">Check 2</label></p>
    <p><input onClick="clickCh(this)" type="checkbox" class="checkbox" name="PROD_LHFG" id="check03" value="200"/><label for="check03">Check 3</label></p>
</form>

<br />
<form name="form4" id="form4" runat="server">
    <label for="check01">Sub Total:&nbsp;</label><input id="price4" type="text" name="price4" readonly="readonly" >
</form>

<script language="JavaScript" type="text/javascript">
    var total = document.getElementById("price4")
    function clickCh(caller){
    if(caller.checked){
    add(caller)
    } else {
    subtract(caller)
    }
    }
    function add(caller){   total.value = total.value*1 + caller.value*1}
    function subtract(caller){  total.value = total.value*1 - caller.value*1}
</script>
<hr>

<p><label for="valueTotal">Value$:</label>
<input type="text" name="valueTotal" id="valueTotal" value="" size="2" readonly="readonly"></p>

<script type="text/javascript">
function DisplayPrice(price){
    var val1 = 0;
    for( i = 0; i < document.form1.price.length; i++ ){
        if( document.form1.price[i].checked == true ){
            val1 = document.form1.price[i].value;
        }
    }

    var val2 = 0;
    for( i = 0; i < document.form2.price2.length; i++ ){
        if( document.form2.price2[i].checked == true ){
            val2 = document.form2.price2[i].value;
        }
    }

    var val3 = 0;
    for( i = 0; i < document.form3.price3.length; i++ ){
        if( document.form3.price3[i].checked == true ){
            val3 = document.form3.price3[i].value;
        }
    }

    var val4 = 0;
    for( i = 0; i < document.form4.price4.length; i++ ){
            val4 = document.form4.price4[i].value;
        }

    var sum=parseInt(val1) + parseInt(val2) + parseInt(val3) + parseInt(val4);
    document.getElementById('valueTotal').value=sum;
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T08:53:43.700

在 Javascript 中，如果`there is single texbox of a specific name then length function will be return undefined`.

在这里你可以做两件事。

第一的`there is only single field of subtotal so u can assign value direct to val4 like given below`

```
val4 = document.form4.price4.value; 
```

第二`If you want to run for loop then`

```
 var val4 = 0;
  var form4 = document.form4.getElementsByTagName('input');
  for( i = 0; i < form4.length; i++ ){
       if(form4[i].type == 'text' && form4[i].name == 'price4'){
          if(isNaN(parseInt(form4[i].value)) == false){
               val4 = parseInt(parseInt(val4) + parseInt(form4[i].value));
           }
       }

    } 
```

已编辑

在功能

```
<script language="JavaScript" type="text/javascript">
      var total = document.getElementById("price4")
       function clickCh(caller){
           if(caller.checked){
             add(caller)
            } else {
           subtract(caller)
            }
            finalResult();
         }
       function add(caller){   total.value = total.value*1 + caller.value*1}
       function subtract(caller){  total.value = total.value*1 - caller.value*1}
        function finalResult(){
           var val1 = 0;
           for( i = 0; i < document.form1.price.length; i++ ){
             if( document.form1.price[i].checked == true ){
                 val1 = document.form1.price[i].value;
              }
             }

         var val2 = 0;
        for( i = 0; i < document.form2.price2.length; i++ ){
           if( document.form2.price2[i].checked == true ){
                val2 = document.form2.price2[i].value;
           }
          }

          var val3 = 0;
          for( i = 0; i < document.form3.price3.length; i++ ){
          if( document.form3.price3[i].checked == true ){
                    val3 = document.form3.price3[i].value;
           }
           }

           var val4 = 0;
          var form4 = document.form4.getElementsByTagName('input');
          for( i = 0; i < form4.length; i++ ){
           if(form4[i].type == 'text' && form4[i].name == 'price4'){
               if(isNaN(parseInt(form4[i].value)) == false){
                   val4 = parseInt(parseInt(val4) + parseInt(form4[i].value));
                 }
             }

            }

            var sum=parseInt(val1) + parseInt(val2) + parseInt(val3) + parseInt(val4);
            document.getElementById('valueTotal').value=sum;
        } 
    </script> 
```

我希望它对你有用

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T09:09:35.883

在您的代码中，您尝试添加“price4”的值，该值在开始时为空白......尝试添加“valueTotal”的值，这是单选按钮值的总和

试试这个代码......相同的代码有一些修改

```
<form name="form1" id="form1" runat="server">
<legend>Header 1</legend>
 <p>
 <input id="rdo_1" type="radio" value="3" name="price" onclick="DisplayPrice(this.value);"><label
      for="radio1">Radio 1</label></p>
  <p>
     <input id="rdo_2" type="radio" value="2" name="price" onclick="DisplayPrice(this.value);"><label
      for="radio2">Radio 2</label></p>
  <p>
      <input id="rdo_2" type="radio" value="1" name="price" onclick="DisplayPrice(this.value);"><label
      for="radio3">Radio 3</label></p>
  </form>
  <hr>
   <form name="form2" id="form2" runat="server">
    <legend>Header 2</legend>
   <p>
  <input id="rdo_1" type="radio" value="100" name="price2" onclick="DisplayPrice(this.value);"><label
      for="rad1">Radio 1</label></p>
   <p>
   <input id="rdo_2" type="radio" value="200" name="price2" onclick="DisplayPrice(this.value);"><label
      for="rad2">Radio 2</label></p>
    </form>
   <hr>
    <form name="form3" id="form3" runat="server">
    <legend>Header 3</legend>
    <p>
 <input id="rdo_1" type="radio" value="3" name="price3" onclick="DisplayPrice(this.value);"><label
      for="ra1">Radio 1</label></p>
      <p>
 <input id="rdo_2" type="radio" value="2" name="price3" onclick="DisplayPrice(this.value);"><label
      for="ra2">Radio 2</label></p>
   <p>
   <input id="rdo_2" type="radio" value="1" name="price3" onclick="DisplayPrice(this.value);"><label
      for="ra3">Radio 3</label></p>
   </form>
   <hr>
   <form name="checkboxCalc" id="checkboxCalc">
   <p>
   <input onclick="clickCh(this)" type="checkbox" class="checkbox" name="PROD_FBB" id="check01"
      value="300" /><label for="check01">Check 1</label></p>
    <p>
     <input onclick="clickCh(this)" type="checkbox" class="checkbox" name="PROD_RHFG"
      id="check02" value="200" /><label for="check02">Check 2</label></p>
    <p>
     <input onclick="clickCh(this)" type="checkbox" class="checkbox" name="PROD_LHFG"
      id="check03" value="200" /><label for="check03">Check 3</label></p>
     </form>
     <br />
     <form name="form4" id="form4" runat="server">
     <label for="check01">
 Sub Total:&nbsp;</label><input id="price4" type="text" name="price4" readonly="readonly">
     </form>
     <p>
     <label for="valueTotal">
      Value$:</label>
     <input type="text" name="valueTotal" id="valueTotal" value="" size="2" readonly="readonly"></p>
     <script language="JavaScript" type="text/javascript">
 var total = document.getElementById("valueTotal")
 var result = document.getElementById("price4")
 function clickCh(caller)
 {
      if (caller.checked)
      {
           add(caller)
      } else
      {
           subtract(caller)
      }
 }
 function add(caller) { result.value = total.value * 1 + caller.value * 1 }
 function subtract(caller) { result.value = result.value * 1 - caller.value * 1 }
 </script>
 <hr>
 <script type="text/javascript">
 function DisplayPrice(price)
 {
      var val1 = 0;
      for (i = 0; i < document.form1.price.length; i++)
      {
           if (document.form1.price[i].checked == true)
           {
                val1 = document.form1.price[i].value;
           }
      }

      var val2 = 0;
      for (i = 0; i < document.form2.price2.length; i++)
      {
           if (document.form2.price2[i].checked == true)
           {
                val2 = document.form2.price2[i].value;
           }
      }

      var val3 = 0;
      for (i = 0; i < document.form3.price3.length; i++)
      {
           if (document.form3.price3[i].checked == true)
           {
                val3 = document.form3.price3[i].value;
           }
      }

      var val4 = 0;
      for (i = 0; i < document.form4.price4.length; i++)
      {
           val4 = document.form4.price4[i].value;
      }

      var sum = parseInt(val1) + parseInt(val2) + parseInt(val3) + parseInt(val4);
      document.getElementById('valueTotal').value = sum;
 }
   </script> 
```

谢谢你。希望它会工作

# java - 如何从 Java 程序中异步运行 shell 脚本

> ID：14190961
> 
> 赞同：2
> 
> 时间：2013-01-07T06:26:33.937
> 
> 标签：java, shell, asynchronous

我想从Java程序中异步运行一个shell脚本——即在java程序开始执行那个shell脚本之后，它会继续执行其他操作——并且只有当shell脚本返回一个响应时才会做一些进一步的工作.. 即它不会显式停止并等待 shell 脚本的响应。

这可能/可行吗？我如何实现这样的功能？

基本上，我将使用单个服务器监控多个服务器，该服务器将管理所有这些服务器——为此，它将在每个服务器上运行 shell 脚本......因为有很多服务器，并且在 java 中它建议不要使用线程数超过 cpu 核心的数量...因此我需要一个不依赖于线程的解决方案（由于线程限制）...这样我就可以同时（或几乎同时）触发许多这样的 shell 脚本而无需等待其中一个脚本响应”（因为等待会影响其他 shell 脚本命令的处理）......另一个问题.. shell 命令需要在本地机器或远程机器上调用，并且需要两种类型的响应shell脚本执行（即本地执行和远程执行）...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-07T06:34:08.503

你试过什么吗？

您可以尝试以下方法：

```
ProcessBuilder builder = new ProcessBuilder("your command to launch script");
Process process = builder.start(); 
```

默认情况下它不会等待该过程完成，因此您可以接下来执行您的代码。

如果您想在流程完成后进行一些处理，您可以尝试：

```
int exitVal = process.waitFor(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T06:30:53.993

当您执行另一个进程并希望从中获取结果时，您通常必须读取该进程的输出，因为如果其输出缓冲区已满，该进程可能会阻塞。实现这一点的最简单方法是在 Java 应用程序中设置一个线程，该线程启动脚本，然后将其输出读入某个缓冲区。Java 应用程序的其他线程可以做他们想做的任何事情，如果进程完成，线程可以向其他人发出关于该事件的信号，然后终止。

我不知道您不使用比 CPU 更多的线程的建议是从哪里来的，但我一般不会坚持这一点。这对于工作线程来说是正确的，其中每个活动线程都让一个核心保持忙碌，但在您的情况下，大多数线程大部分时间都是空闲的。即使与空闲线程相关，也会有一些操作系统级别的资源开销，因此如果*确实有很多*进程，使用单个线程从所有流中读取会更好，但会复杂得多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:33:55.840

您可以在与应用程序主线程不同的线程中使用 Runtime.exec 或 ProcessBuilder 来异步运行您的 shell 脚本。

这篇[文章](http://www.java-tips.org/java-se-tips/java.util/from-runtime.exec-to-processbuilder.html)展示了如何使用 Runtime 或 ProcessBuilder。如果您不了解，请阅读这篇[文章以学习 Java 线程。](http://www.javaworld.com/jw-04-1996/jw-04-threads.html)

# android - android在异步任务线程中的视图上绘制覆盖

> ID：14190962
> 
> 赞同：0
> 
> 时间：2013-01-07T06:26:48.203
> 
> 标签：android, view, android-asynctask, overlay

请原谅这个模糊的问题，但我是 android 和 java 的新手，而且我读过的关于这个主题的所有东西都只提供了 xml 代码示例，这对我来说没有用，因为我正在以编程方式做所有事情。

所以我有一个绘制乐谱的应用程序，然后随着音乐的播放，我需要在当前播放的音符上覆盖某种光标（可以的矩形框），卡拉 OK 风格。

我创建这样的视图

```
Globals.mMainView = new MainView(context);
            Globals.mMainView.setLayoutParams(new LinearLayout.LayoutParams(0, LinearLayout.LayoutParams.WRAP_CONTENT, 60));
            layout.addView(Globals.mMainView); 
```

我将视图引用保存在全局中，以便以后找到它，（是的，我知道 Java 警察此时会来找我，但我以后可以找到更优雅的解决方案）。请注意，我的视图位于线性布局中，因为它旁边有另一个不相关的视图。

在主线程中绘制 onDraw 可以很好地渲染乐谱。

所以，当我按下播放按钮时，我会启动其中一个

```
class Play1Activity extends AsyncTask<String, Integer, Boolean> 
```

并在 doInBackground 中播放音频并定期调用具有播放位置的 publishProgress ，这反过来会导致 onProgressUpdate 在 UI 线程中运行，我认为它可以安全地进行绘图

现在，我想在主视图之上绘制一些东西（我有一个参考 Globals.mMainView），而不必重新绘制整个视图以节省 CPU 并使动画看起来不错。在 Windows 中，我可以绘制一个带有 XOR 标志的矩形，它反转我感兴趣的分数部分，然后再次执行相同的操作以取消绘制它，然后在下一个位置绘制。

在这一点上，我对android一无所知。也许有人可以建议我遵循的最佳路径。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:46:10.573

如果您知道应该重绘主视图的哪个部分，您可以调用`invalidate (Rect dirty)`或`invalidate (int l, int t, int r, int b)`在视图上。在这种情况下，唯一的脏区将被重绘。

# objective-c - 在 ios 中不包含 Tableview 的情况下创建 UIPopOver

> ID：14190966
> 
> 赞同：-3
> 
> 时间：2013-01-07T06:26:54.050
> 
> 标签：objective-c, ios, ipad, ios6

我想`PopOvers`在单击按钮并`textField`单击相同`UIView`（不是`ViewController`）时创建两个。在这些弹出窗口中，我需要加载单独的数组值。有没有办法创建它们并添加到`UIView`？

我已经`tableview`为 base添加了一个`UIView`，所以在不使用的情况下`tableviews`，如何`UIpopOvers`在其中创建和加载数组`popOvers`？如何处理选定的行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T06:32:35.203

此[链接](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPopoverController_class/Reference/Reference.html)可以帮助您创建一个`popover menu`.

或者您可以采用`UIImageView`具有形状的`popover menu`表格视图，这样可以轻松加载数组并处理选定的行。

我用第二种方法做了同样的事情。

快乐编码！

# android - 从 Datepicker 将日期格式化为 MM-DD-YYYY

> ID：14190968
> 
> 赞同：24
> 
> 时间：2013-01-07T06:27:02.167
> 
> 标签：android, datepicker, date-format

我有一个日期选择器。我的应用正在推送通知。我想以 01-07-2013 MM-dd-yyyy 格式显示日期。请在下面检查我的代码：

```
 //---Button view---
    Button btnOpen = ( Button ) findViewById( R.id.btEventDone );
    btnOpen.setOnClickListener( new View.OnClickListener() {

        public void onClick(View v) {  

            String strT = title.getText().toString();
            String strDes = description.getText().toString();

            // check if user did not input anything
            if( strT.isEmpty() || strDes.isEmpty() ){

                Toast.makeText( getBaseContext(), "You have blank fields!", Toast.LENGTH_SHORT ).show();

            }
            else{

            //---use the AlarmManager to trigger an alarm---
            AlarmManager alarmManager = ( AlarmManager ) getSystemService( ALARM_SERVICE );                 

            //---get current date and time---
            Calendar calendar = Calendar.getInstance();       

            //---sets the time for the alarm to trigger---
            calendar.set( Calendar.YEAR, date.getYear() );
            calendar.set( Calendar.MONTH, date.getMonth() );
            calendar.set( Calendar.DAY_OF_MONTH, date.getDayOfMonth() );                 
            calendar.set( Calendar.HOUR_OF_DAY, time.getCurrentHour() );
            calendar.set( Calendar.MINUTE, time.getCurrentMinute() );
            calendar.set( Calendar.SECOND, 0 );

            //---PendingIntent to launch activity when the alarm triggers---                    
            Intent i = new Intent( CalendarEvent.this, DisplayNotification.class );

            year = calendar.get( Calendar.YEAR );
            month = calendar.get( Calendar.MONTH );
            day = calendar.get( Calendar.DAY_OF_MONTH );

            hour = calendar.get( Calendar.HOUR );
            minute = calendar.get( Calendar.MINUTE );

            Date d = new Date(year, month, day);
            SimpleDateFormat dateFormatter = new SimpleDateFormat(
                            "MM-dd-yyyy");
            String strDate = dateFormatter.format(d);

            String strTitle = title.getText().toString();
            String strDescription = description.getText().toString();
            strDate = String.valueOf( month ) + "-" + String.valueOf( day ) + "-" + String.valueOf( year );

            StringBuilder sb = new StringBuilder();
            if(hour>=12){                      
              sb.append(hour-12).append( ":" ).append(minute).append(" PM");
            }else{
              sb.append(hour).append( ":" ).append(minute).append(" AM");
            }
            String strTime = sb.toString();

            //---assign an ID of 1---
            i.putExtra( "NotifID", notifID ); 
            i.putExtra( "Title", strTitle );
            i.putExtra( "Description", strDescription );
            i.putExtra( "Date", strDate  );
            i.putExtra( "Time", strTime );

            PendingIntent displayIntent = PendingIntent.getActivity(
                getBaseContext(), notifID, i, 0 );               

            //---sets the alarm to trigger---
            alarmManager.set( AlarmManager.RTC_WAKEUP, 
                calendar.getTimeInMillis(), displayIntent );
            finish();
        }

        }
    }); 

} 
```

**报警详情：**

```
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.alarmdetails);  

    //---look up the notification manager service---
    NotificationManager nm = ( NotificationManager ) 
        getSystemService( NOTIFICATION_SERVICE );

    title = ( EditText ) findViewById ( R.id.etDetailTitle );
    description = ( EditText ) findViewById ( R.id.etDetailDescription );
    date = ( EditText ) findViewById ( R.id.etDetailDate );
    time = ( EditText ) findViewById ( R.id.etDetailTime );
    done = ( Button ) findViewById ( R.id.btnAlarmDone );

    done.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            finish();
        }
    });

    //---cancel the notification---
    nm.cancel( getIntent().getExtras().getInt( "NotifID" ) ); 

    String strTitle = getIntent().getExtras().getString( "Title" );
    String strDescription = getIntent().getExtras().getString( "Description" );
    strDate = getIntent().getExtras().getString( "Date" );
    String strTime = getIntent().getExtras().getString( "Time" );
    title.setText( strTitle );
    description.setText( strDescription );
    date.setText( strDate );
    time.setText( strTime );

} 
```

**显示通知：**

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

//---get the notification ID for the notification; 
// passed in by the NotifyActivity---
int notifID = getIntent().getExtras().getInt( "NotifID" );
String strTitle = getIntent().getExtras().getString( "Title" );
String strDescription = getIntent().getExtras().getString( "Description" );
String strDate = getIntent().getExtras().getString( "Date" );
String strTime = getIntent().getExtras().getString( "Time" );

//---PendingIntent to launch activity if the user selects 
// the notification---
Intent i = new Intent( DisplayNotification.this, AlarmDetails.class );
i.putExtra( "NotifID", notifID );  
i.putExtra( "Title", strTitle );
i.putExtra( "Description", strDescription );
i.putExtra( "Date", strDate );
i.putExtra( "Time", strTime );

PendingIntent detailsIntent = 
    PendingIntent.getActivity(this, 0, i, 0);

NotificationManager nm = ( NotificationManager )
    getSystemService( NOTIFICATION_SERVICE );
Notification notif = new Notification(
    R.drawable.ic_launcher, 
    "iHealthFirst: Notification!",
    System.currentTimeMillis() );

CharSequence from = "iHealthFirst - New Notification";
CharSequence message = "This is your alert, click to view";        
notif.setLatestEventInfo(this, from, message, detailsIntent);
notif.flags = Notification.FLAG_INSISTENT;
notif.defaults |= Notification.DEFAULT_SOUND;

//---100ms delay, vibrate for 250ms, pause for 100 ms and
// then vibrate for 500ms---
notif.vibrate = new long[] { 100, 250, 100, 500};        
nm.notify( notifID, notif );

//---destroy the activity---
finish();
} 
```

我当前的应用程序仅以这种格式显示 Md-yyyy。我读过我们应该使用 SimpleDateFormat，但我不知道如何在我的应用程序中使用它。任何人都可以帮忙吗？谢谢。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2014-09-30T09:37:12.677

试试这个

```
int year = mDatePicker.getYear();
int month = mDatePicker.getMonth();
int day = mDatePicker.getDayOfMonth();

Calendar calendar = Calendar.getInstance();
calendar.set(year, month, day);

SimpleDateFormat format = new SimpleDateFormat("MM-dd-yyyy");
String strDate = format.format(calendar.getTime()); 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-01-07T06:36:34.120

检查这个：

[日期选择器和日历中的日期格式更改](https://stackoverflow.com/questions/14153811/date-format-change-in-datepicker-and-calendar/14153993#14153993#answers)

```
 year = calendar.get(Calendar.YEAR);
   month = calendar.get(Calendar.MONTH);
   day = calendar.get(Calendar.DAY_OF_MONTH);

    if(month < 10){

        month = "0" + month;
    }
    if(day < 10){

        day  = "0" + day ;
    }
    searchText.setText(day + "-" + month + "-" + year); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-02-24T01:25:25.307

一种简单的方法可能是简单地收集数据，然后使用 String.format：

```
 int year = calendar.get(Calendar.YEAR);
    int month = calendar.get(Calendar.MONTH) + 1;
    int day = calendar.get(Calendar.DAY_OF_MONTH);

    String dateString = String.format("%02d-%02d-%d", month, day, year);
    ((TextView) m_view.findViewById(R.id.dob)).setText(dateString); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-01-07T06:32:30.097

您可以添加以下代码：

```
Date d = new Date(year, month, day);
SimpleDateFormat dateFormatter = new SimpleDateFormat(
                "MM-dd-yyyy hh:mm");
strDate = dateFormatter.format(d); 
```

后

```
year = calendar.get( Calendar.YEAR );
month = calendar.get( Calendar.MONTH );
day = calendar.get( Calendar.DAY_OF_MONTH );

hour = calendar.get( Calendar.HOUR );
minute = calendar.get( Calendar.MINUTE ); 
```

所以你的 strDate 将是你想要的格式（MM-dd-yyyy）

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-08T07:05:55.133

只需使用此代码..

```
 date.setOnClickListener(new OnClickListener() 
        {

            public void onClick(View v) 
            {
                DatePickerDialog dateDlg = new DatePickerDialog(New_Quote_Activity.this, new DatePickerDialog.OnDateSetListener() 
                {

                         public void onDateSet(DatePicker view, int year,int monthOfYear, int dayOfMonth) 
                         {
                                CharSequence strDate = null;
                                    Time chosenDate = new Time();        
                                    chosenDate.set(dayOfMonth, monthOfYear, year);
                                    long dtDob = chosenDate.toMillis(true);

                                    strDate = DateFormat.format("MM/dd/yyyy", dtDob);

                                    txtDate.setText(strDate);
                        }}, year,month,day);

                      dateDlg.show();
               }
        }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-07T06:33:41.800

```
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

 public class MainClass {
     public static void main(String[] args) {
     String pattern = "MM-dd-yyyy";
     SimpleDateFormat format = new SimpleDateFormat(pattern);
   try {
      Date date = format.parse("01-07-2013");
      System.out.println(date);
   } catch (ParseException e) {
     e.printStackTrace();
    }

    System.out.println(format.format(new Date()));
 }
} 
```

希望它有帮助。

您也可以[参考文档](http://developer.android.com/reference/java/text/SimpleDateFormat.html)。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-07T06:34:52.793

> 我想以 01-07-2013 MM-dd-yyyy 格式显示日期。

是的，您可以通过以下步骤执行此操作。

> **第 1 步：**您首先必须将字符串转换为特定日期格式
> 
> **第 2 步：**使用 SimpleDateFormat 将日期转换为 MM-dd-yyyy 格式
> 
> **第 3 步：**转换为字符串并使用它。

您可以为此使用代码下方的用户。

```
 public class DateFormat {

   public static void main(String[] args) {
    // Put here what your are getting as String
    String mytime="Jan 7, 2013"; 
    SimpleDateFormat dateFormat = new SimpleDateFormat(
            "MMM dd, yyyy"); //Step1: Convert yout String to perticular Date Formate according to your Date String your are getting
    Date myDate = null;
    try {
        myDate = dateFormat.parse(mytime);

    } catch (ParseException e) {
        e.printStackTrace();
    }

    //Step2
    SimpleDateFormat timeFormat = new SimpleDateFormat("MM-dd-yyyy");
    String finalDate = timeFormat.format(myDate); 
    //Step3: Here you will get your Final Date. Set your String now to textview.
       }
} 
```

希望它会帮助你。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-07T06:35:17.480

试试这种方式：

> ```
> private int m_month, m_year, m_day;
>  SimpleDateFormat dateParser = new SimpleDateFormat("MM-dd-yyyy",
>             Locale.ENGLISH);
>  m_month = m_calendar.get(Calendar.MONTH) + 1;
>  m_year = m_calendar.get(Calendar.YEAR);
>  m_day = m_calendar.get(Calendar.DAY_OF_MONTH);
>  //for the datepicker listener.
>  m_calendar.set(Calendar.YEAR, p_year);
>  m_calendar.set(Calendar.MONTH, p_monthOfYear);
>  m_calendar.set(Calendar.DAY_OF_MONTH, p_dayOfMonth);
>  String m_sDate = dateParser.format(m_calendar.getTime()).toString(); 
> ```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-07T06:36:39.497

我尝试在我的项目中关注。它可能会帮助你。询问您是否有任何疑问。

```
try{
    SimpleDateFormat sdf = new SimpleDateFormat("MM-dd-yyyy");
    Date originalDate = new Date();   //it will give today's date.
    String dateString = sdf.format(originalDate);
    Date formattedDate = sdf.parse(dateString);

}catch(Exception e){
    e.printStackTrace();
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-12-02T14:23:44.170

试试这个：

```
 CharSequence formatted = DateFormat.format("MM/dd/yyyy", mDueDate);
        mDueDateView.setText(formatted); 
```

# iphone - 更改 headerView 子视图的标题

> ID：14190969
> 
> 赞同：0
> 
> 时间：2013-01-07T06:27:24.310
> 
> 标签：iphone, objective-c, ios, ipad

我有以下代码：

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section {
    UIView *header = [[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.frameWidth, 24.0)];
    [header setBackgroundColor:[UIColor grayColor]];

    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(20, 0, self.view.frameWidth - 100, header.frameHeight)];
    label.backgroundColor= [UIColor grayColor];
    label.textColor = [UIColor whiteColor];
    label.font = [UIFont boldSystemFontOfSize:17.0];

    [header addSubview:label];
    if (section == kEditInformationSection){
        label.text = [AHConstants kEditInformation];

        UIButton *editInformationButton = [[UIButton alloc] initWithFrame:CGRectMake(self.view.frameWidth - 50, 0, 50, header.frameHeight)];
        [editInformationButton setTag:1000];
        [editInformationButton setBackgroundColor:[UIColor grayColor]];
        [editInformationButton setTitle:[AHConstants kEdit] forState:UIControlStateNormal];
        [editInformationButton addTarget:self action:@selector(switchToEditMode:) forControlEvents:UIControlEventTouchUpInside];
        self.editInformationButton_ = editInformationButton;
        [header addSubview:self.editInformationButton_];
        self.tableHeaderView_ = header;
        return self.tableHeaderView_;
    } else if (section == kNotificationIntervalInfo){
         label.text = [AHConstants kNotificationInterval];
        return header;
    }

    return nil;
} 
```

在按钮操作上，我想更改按钮标题，所以我做了以下操作：

```
[self.editInformationButton_ setTitle:[AHConstants kDone] forState:UIControlStateNormal]; 
```

为什么这不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T07:00:22.850

采用`reloadSections:withRowAnimation`

```
//provide your index for section here
[[self yourTableView]reloadSections:[NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationFade]; 
```

只是`handle`这些方法`new title`：

```
-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section 
```

# python - 如何调用@app.before_request

> ID：14190972
> 
> 赞同：5
> 
> 时间：2013-01-07T06:27:36.520
> 
> 标签：python, redirect, flask, jinja2

我有一个简单的烧瓶应用程序，我想使用@app.before_request，但不知何故它不起作用！我敢肯定我没有正确地考虑这一点！显然它会被要求使用类似的东西：

```
return redirect(url_for('index')) 
```

但我需要它被要求：

```
return render_template('index.html') 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-07T08:47:10.843

如果您提供一些代码，可能会更好地理解您的问题，但是如果我理解正确，您想在请求之前呈现模板吗？

`before_request`用于在请求之前调用某些函数或执行某些操作。所以基本上它是为了准备你的应用程序来处理即将到来的请求。示例：初始化数据库连接并将其放入`g`对象中以供以后访问。

before_request 用法的示例（例如初始化 DB）是：

```
@app.before_request
def before_request():
    g.db = connect_db() 
```

如果你`@app.before_request`这样使用它，它就是装饰器。[在Flask 文档](http://flask.pocoo.org/docs/api/#flask.Flask.before_request)中可以找到更多内容

但另一件事是为什么你要`render_template`在请求之前？我认为你应该在视图中呈现模板，而不是在这个地方。您让请求到达您的应用程序、您的视图，然后在那里呈现模板。

# scala - Scala 继承与抽象类

> ID：14190973
> 
> 赞同：1
> 
> 时间：2013-01-07T06:27:39.793
> 
> 标签：scala

我是scala的新手，只是在做一些练习；我尝试了一个非常简单的程序，简述如下：

```
abstract class Device(val cds: Array[Char]) {
  var codes = Array[Char](cds: _*)
  def encrpt(code: Char): Char

  var nextDevice: Device

  def setNext(next: Device):Unit = {
    nextDevice = next
  }
}

//compiler error shows here
class Input(codes: Array[Char]) extends Device(codes) {
  override def encrpt(code: Char) = code
} 
```

您可以在第 21 行看到编译器错误，以下是消息： ***类 Input 需要是抽象的，因为未定义类型为 com.me.acm.problem1009.Device 的类 Device 中的变量 nextDevice（请注意，变量需要被初始化被定义）***

我很困惑这个错误，我的理解是在父类中定义一些变量和一个setter方法，所以子类可以使用它而无需再次定义它。这是直截了当的。

我想我错过了什么。有人可以向我解释一下并告诉我正确的方法是什么吗？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-07T06:36:06.847

在 Scala 中，变量不像在 Java（或许多其他语言）中那样具有默认值。因此，当您声明一个变量时，您必须始终指定它的初始值。

在您的代码中，您声明了一个变量`nextDevice`，但您没有给它一个值。由于 Scala 始终需要一个值，它会将您编写的内容解释为`nextDevice`一个*抽象*字段，因此编译器会告诉您它必须被覆盖。

例如，如果将该行更改为以下内容，以指定初始值，则错误将消失：

```
var nextDevice: Device = new Input(Array()) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-07T06:35:34.747

正如错误消息告诉你的那样，变量`nextDevice`需要在构造函数中初始化`Input`。

```
class Input(codes: Array[Char]) extends Device(codes) {
  override def encrpt(code: Char) = code
  nextDevice = null
} 
```

请注意，`null`在 Scala 中使用是不受欢迎的。您可能应该将变量的类型更改为`Option[Device]`

# c# - 别名和点网类型和 c# 类型

> ID：14190978
> 
> 赞同：1
> 
> 时间：2013-01-07T06:28:04.043
> 
> 标签：c#, .net, visual-studio-2010, .net-4.0, resharper

当我使用 resharper 工具时，它只是说“使用内置类型“string”而不是使用“String”。同样，它将 UInt32 转换为 uint。

我用谷歌搜索了这个，我只能找到它们是别名。别名表示“重复”。好的。但是，他们到底是什么意思呢？

1.  当两者相同时，为什么该工具建议对“String”和“UInt32”使用“string”和“uint”？
2.  此外，点网类型和 C# 类型之间有什么区别。

谷歌搜索了它，但找不到任何令人满意的答案。谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-07T06:38:57.220

Rafal 给出的答案总结了这一点，但我想做一些澄清：唯一需要使用关键字而不是类型名称的情况是在定义枚举的基础类型时——在这种情况下，使用后者是不允许的。

例子：

```
enum Foo : Int32
{
} 
```

以上不会编译。

此外，虽然我通常更喜欢使用关键字，但必须说，虽然在 .NET Framework 上运行的每种语言的类型都相同，但关键字却不同。例如，虽然在 C#`long`中是 的别名`Int64`，但在 C++/CLI 中，`long`实际上是`Int32`. 例如，在 CLI 语言之间移植代码时，这可能会造成一些混乱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T06:40:51.537

*   `String`and`string`是一样的，`UInt32`and也是一样的`uint`。

这只是由于 CLS 兼容，因此您可以编写 C# 类库并在 VB 程序中使用，反之亦然。

MSDN的一些摘录：

> 为了与其他对象完全交互而不管它们是用什么语言实现的，对象必须只向调用者公开那些它们必须与之交互的所有语言共有的特性。因此，定义了公共语言规范 (CLS)，它是许多应用程序所需的一组基本语言特性。CLS 规则定义了通用类型系统的一个子集；也就是说，所有适用于通用类型系统的规则都适用于 CLS，除非 CLS 中定义了更严格的规则。CLS 通过定义一组开发人员可以依赖以提供多种语言的功能来帮助增强和确保语言互操作性。

请参考[通用语言规范](http://msdn.microsoft.com/en-us/library/12a7a7h3.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T06:34:20.127

和之间没有区别`String`，`string`因为正如您所指出的那样，它们是别名 - 别名只是同一事物的不同名称。

至于为什么 Resharper 会做一些你应该在 resharper 专用网站上询问或寻求的事情。在我看来，这只是惯例的问题——你应该使用其中之一，为什么不使用大多数人使用的那个。

# c1-cms - 在 Composite C1 中批量创建外网用户

> ID：14190980
> 
> 赞同：1
> 
> 时间：2013-01-07T06:28:16.460
> 
> 标签：c1-cms

我正在建立一个网站，该网站将在不久的将来取代现有的网站。现有网站包含 aprox。我需要将 300 个用户“导入”到复合的外联网模块（我已购买）。

有没有办法批量创建用户到外联网模块？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T06:27:44.187

谢谢你。现在可以了。我以编程方式导入了用户。我在 Visual Studio 中打开了复合解决方案并添加了一个 aspx 页面。这是后面的代码。

```
using System;
using System.Collections.Generic;
using System.IO;
using Composite.Community.Extranet;
using Composite.Community.Extranet.Data;

public partial class ImportUsers : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        string path = Server.MapPath("UsersToImport.csv");
        StreamReader _streamReader = new StreamReader(path);

        IList<Guid> userIds = new List<Guid>();
        string line;
        while ((line = _streamReader.ReadLine()) != null)
        {
            string[] fields = line.Split(',');
            IExtranetUser extranetUser = new ExtranetUser();
            extranetUser.Name = fields[0];
            extranetUser.UserName = fields[1];
            extranetUser.Email = fields[2];
            extranetUser.IsApproved = true;

            IExtranetUser addedUser = ExtranetFacade.AddNewUser("Default", extranetUser);
            userIds.Add(addedUser.Id);

            ExtranetFacade.SetUsersForGroup("Default", new Guid("bc728100-e28e-4135-a14c-bead6e0b9b00"), userIds);
            Response.Write(string.Format("User: {0} added at {1}", addedUser.UserName, addedUser.CreationDate));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T11:19:02.097

是的，您可以导入现有的用户数据库。您可以通过编写脚本并在您的网站上执行该脚本来执行此操作，也可以通过直接操作底层 SQL 表/XML 文件（取决于您用于存储复合 C1 数据的内容）来执行此操作。您还可以构建一个提供程序，将您现有的用户数据库与 Composite C1 Extranet 链接起来。

**以编程方式导入用户**：对于脚本方法，请参阅[http://docs.composite.net/Packages/Community/Extranet/CompositeCommunityExtranetDeveloperGuide/Using-Extranet-Facade-Methods上描述的 AddNewUser 等方法](http://docs.composite.net/Packages/Community/Extranet/CompositeCommunityExtranetDeveloperGuide/Using-Extranet-Facade-Methods)

您可以将此脚本编写为在 Composite C1 网站上执行的 Web 服务、aspx 页面或类似内容。

如果您在默认设置中运行 Extranet，`providerName`则应为“默认”。

**直接操作物理数据存储**：这取决于您运行的数据存储。我建议您添加所需的组和测试用户，以帮助您在查看基础 XML 文件/SQL 表时识别数据。

*   如果您在 XML（默认）上运行，您应该关注位于文件夹 ~/App_Data/Composite/DataStores 中名为 Composite.Community.Extranet.DefaultProvider.DataTypes.DefaultProvider*.xml 的文件。有3个sush文件，一个用于组，一个用于用户，一个用于用户和组之间的关系。

*   如果您在 SQL Server 上运行，则应关注名为 Composite.Community.Extranet.DefaultProvider.DataTypes.DefaultProvider* 的 3 个表

在这两种情况下，您都需要将新条目添加到 User 表/xml 文件并将组关系匹配到 GroupUser 表/xml 文件。当您添加一个用户时，您提供一个唯一 ID，并且您可以重复使用此 ID 在 GroupUser 中注册用户。

完成更改后，您可以使用工具 | 强制 Composite C1 重新加载。在 C1 控制台中重新启动服务器命令。如果您在进行更改之前备份文件/表，您可以通过恢复备份轻松恢复（以防您需要重新开始）。

**编写用户/组提供程序**：如果您的用户数据在外部存储中并且您希望将其保留在那里，您还可以通过创建自定义提供程序在此现有用户存储和 Composite C1 Extranet 之间架起一座桥梁。如果这是相关的，请参阅[http://docs.composite.net/Packages/Community/Extranet/CompositeCommunityExtranetDeveloperGuide/Writing-Custom-Extranet-Providers](http://docs.composite.net/Packages/Community/Extranet/CompositeCommunityExtranetDeveloperGuide/Writing-Custom-Extranet-Providers)

# iis-7 - IIS7 上的自定义错误设置问题

> ID：14190983
> 
> 赞同：1
> 
> 时间：2013-01-07T06:28:32.653
> 
> 标签：iis-7, custom-errors

我在 IIS 7 上设置自定义错误时遇到了一个非常奇怪的错误。我有一个使用 JavaScript/Ajax/Jquery 的 ASP.NET MVC3 应用程序。我正在尝试将我的主机转移到另一个提供商并正在测试以确保一切正常。当自定义错误设置为“关闭”时，一切正常。
但是，通过重定向将其设置为“ON”会导致视图中的 JavaScript 显示在屏幕顶部！这是我的自定义错误设置如下：

```
<customErrors mode="On" defaultRedirect="/Errors/Error/Index">
      <error statusCode="404" redirect="/Errors/Error/Error404"></error>
    </customErrors> 
```

对于它的价值，我在我当前的供应商上有完全相同的设置，它工作得非常好！所以我不知道发生了什么。不幸的是，我的托管服务提供商似乎也不理解这个问题。请问有人可以帮忙吗？

编辑：当我删除 defaultRedirect 属性和错误元素时，它工作正常。它似乎不喜欢该属性或元素。

谢谢你，

# php - 如何使“domain.com/index.php/path”工作？

> ID：14190989
> 
> 赞同：1
> 
> 时间：2013-01-07T06:29:42.607
> 
> 标签：php, apache

不使用 .htaccess，`index.php/path`可以在服务器上工作，但不能在本地工作（*404 错误*）。那么 apache 上的配置是什么才能工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T06:34:18.113

尝试`AcceptPathInfo`在您的 Apache 配置中启用。见[http://httpd.apache.org/docs/2.2/mod/core.html#acceptpathinfo](http://httpd.apache.org/docs/2.2/mod/core.html#acceptpathinfo)