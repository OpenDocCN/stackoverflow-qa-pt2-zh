# StackOverflow 问答 14640000-14640999

# ios - 自定义用户位置图像未以图钉为中心

> ID：14640000
> 
> 赞同：2
> 
> 时间：2013-02-01T04:58:17.943
> 
> 标签：ios, mkmapview, mapkit, mkannotationview, userlocation

所以我真的很困惑。我用了：

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation {

    static NSString* AnnotationIdentifier = @"Annotation";
    MKPinAnnotationView *pinView = (MKPinAnnotationView *)[mapView dequeueReusableAnnotationViewWithIdentifier:AnnotationIdentifier];
    if (!pinView) {
        MKPinAnnotationView *customPinView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:AnnotationIdentifier];
        if (annotation == mapView.userLocation){
            customPinView.image = [UIImage imageNamed:@"303761_4417778996801_94858213_n.jpg"];
            [customPinView.layer setMasksToBounds:NO];
            [self setRoundedView:customPinView toDiameter:kPictureDiameter];
            [customPinView.layer setBorderColor:[UIColor whiteColor].CGColor];
            [customPinView.layer setBorderWidth:5.0f];
            [customPinView.layer setShadowColor:[UIColor blackColor].CGColor];
            [customPinView.layer setShadowOpacity:1.0f];
            [customPinView.layer setShadowRadius:20.0f];
            [customPinView.layer setShadowOffset:CGSizeMake(0, 0)];
            [customPinView setBackgroundColor:[UIColor whiteColor]];
        }
        return customPinView;
    } else {
        pinView.annotation = annotation;
    }

    return pinView;
} 
```

将我自己的图像添加到用户位置图钉。那行得通。不过有两个问题：

1.  阴影不起作用。

2.  我为用户位置图钉设置的图像偏离中心，如下所示： [用户位置图片](http://screencast.com/t/rqeofTrs9E44)

    ![在此处输入图像描述](../Images/282c5140e6527cabb645dc522a1e7712.png)

我试过玩弄 CGRect、CGPoint、设置框架、中心等（虽然我还没有尝试改变边界）但没有任何改变。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T07:32:38.163

就图像偏离中心而言，有两个想法：

1.  我通常`MKAnnotationView`在使用自己的图像进行注释时使用，而不是`MKPinAnnotationView`. 当我尝试使用`MKPinAnnotationView`时，我的图像不再居中。

2.  如果最坏的情况发生，您可以使用该`centerOffset`物业。我认为如果您使用`MKAnnotationView`.

关于你的影子：

1.  20 的阴影半径是如此之大，以至于它是如此分散以至于你几乎看不到它。当我使用 20 时，我几乎无法辨认。它在 10 时开始变得更加明显，在 5 时更明显。我认为这不是这里真正的问题，但是当你开始尝试时，使用一个数字这里足够低，所以你可以清楚地看到阴影。

2.  话虽如此，我认为这不是问题所在。我怀疑图像舍入算法。您可以尝试暂时将其注释掉并查看您的影子是否出现吗？但我在`MKAnnotationView`图像上使用阴影，效果很好。你能和我们分享你的舍入算法吗？

3.  如果不这样做，该图像是否与叠加层重合？（即图片后面的圆圈是什么）。我会再次尝试暂时删除它，看看是否会改变行为。当我使用 a`MKCircleView`时，它工作得很好，但让我们确保我们没有在那里做任何奇怪的事情（或任何其他绘图例程）。

# php - 遍历php中包含的文件

> ID：14640003
> 
> 赞同：-2
> 
> 时间：2013-02-01T04:58:20.770
> 
> 标签：php

我在这里有这个代码片段：

```
<?php
include('a.php');
include('b.php');
include('c.php');
include('d.php');
include('e.php');
?> 
```

我想循环运行这个文件并执行每个文件一次。我该怎么办？我是 php 新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:01:55.733

你可以做这样的事情......

```
<pre>
<?php 
set_time_limit (0);
$files = array('a', 'b', 'c', 'd', 'e',);
foreach($files as $f){
    include_once $f.".php";
    echo "finished file $f\n";
    flush();
}
?>
</pre> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:27:11.173

你可以这样做：

```
class Loader
{
   protected $files = array();

   public function __construct($files)
   {
       $this->files = $files;
   }
   public function Init()
   {
      foreach($this->files as $file)
      {
          if(file_exists($file)) 
          {
             require_once($file);
          }
      }
}

$loader = new Loader(array("a.php", "b.php","c.php","d.php"));

$loader->init(); 
```

无论您的文件位于何处（假设需要您问题中列出的所有文件的文件是`index.php`）。

你会想要`require`, 或者`include`这个文件 ( `Loader.php`) 在你的`index.php`文件中。例如：

***索引.php***

```
<?php
 // file index.php
  require_once('Loader.php');

  $loader = new Loader(array("a.php", "b.php","c.php","d.php"));

  $loader->init();

?> 
```

通过此设置，您的`index.php`文件将能够创建对象，并且您的代码将更有条理和模块化。

# android - 在android中运行epub文件时出错

> ID：14640004
> 
> 赞同：1
> 
> 时间：2013-02-01T04:58:27.070
> 
> 标签：android, epub3

我想在 android 中构建和运行 epub 内容并引用[http://www.siegmann.nl/epublib/android](http://www.siegmann.nl/epublib/android)并尝试实现相同但我收到类似错误

```
02-01 10:08:15.726: D/dalvikvm(27839): Late-enabling CheckJNI
02-01 10:08:15.926: I/dalvikvm(27839): Could not find method org.slf4j.LoggerFactory.getLogger, referenced from method nl.siegmann.epublib.epub.EpubReader.<clinit>
02-01 10:08:15.926: W/dalvikvm(27839): VFY: unable to resolve static method 4251: Lorg/slf4j/LoggerFactory;.getLogger (Ljava/lang/Class;)Lorg/slf4j/Logger;
02-01 10:08:15.926: D/dalvikvm(27839): VFY: replacing opcode 0x71 at 0x0002
02-01 10:08:16.066: I/dalvikvm(27839): Could not find method org.slf4j.Logger.error, referenced from method nl.siegmann.epublib.epub.EpubReader.getPackageResourceHref
02-01 10:08:16.066: W/dalvikvm(27839): VFY: unable to resolve interface method 4249: Lorg/slf4j/Logger;.error (Ljava/lang/String;Ljava/lang/Throwable;)V
02-01 10:08:16.066: D/dalvikvm(27839): VFY: replacing opcode 0x72 at 0x0045
02-01 10:08:16.066: I/dalvikvm(27839): Could not find method org.slf4j.Logger.error, referenced from method nl.siegmann.epublib.epub.EpubReader.processPackageResource
02-01 10:08:16.066: W/dalvikvm(27839): VFY: unable to resolve interface method 4249: Lorg/slf4j/Logger;.error (Ljava/lang/String;Ljava/lang/Throwable;)V
02-01 10:08:16.066: D/dalvikvm(27839): VFY: replacing opcode 0x72 at 0x000f
02-01 10:08:16.066: W/dalvikvm(27839): Exception Ljava/lang/NoClassDefFoundError; thrown while initializing Lnl/siegmann/epublib/epub/EpubReader;
02-01 10:08:16.066: D/AndroidRuntime(27839): Shutting down VM
02-01 10:08:16.066: W/dalvikvm(27839): threadid=1: thread exiting with uncaught exception (group=0x41e99930)
02-01 10:08:16.066: E/AndroidRuntime(27839): FATAL EXCEPTION: main
02-01 10:08:16.066: E/AndroidRuntime(27839): java.lang.ExceptionInInitializerError
02-01 10:08:16.066: E/AndroidRuntime(27839):    at com.example.epub2.MainActivity.onCreate(MainActivity.java:32)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.Activity.performCreate(Activity.java:5104)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.ActivityThread.access$600(ActivityThread.java:141)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.os.Looper.loop(Looper.java:137)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at android.app.ActivityThread.main(ActivityThread.java:5039)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at java.lang.reflect.Method.invokeNative(Native Method)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at java.lang.reflect.Method.invoke(Method.java:511)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
02-01 10:08:16.066: E/AndroidRuntime(27839):    at dalvik.system.NativeStart.main(Native Method)
02-01 10:08:16.066: E/AndroidRuntime(27839): Caused by: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory
02-01 10:08:16.066: E/AndroidRuntime(27839):    at nl.siegmann.epublib.epub.EpubReader.<clinit>(EpubReader.java:33) 
```

我的代码是::

```
 public class MainActivity extends Activity { 

/** Called when the activity is first created. */
@Override 
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_main);
    AssetManager assetManager = getAssets();
    try { 
      // find InputStream for book
      InputStream is = getAssets().open("ww.epub");
      Book book = new EpubReader().readEpub(is);
      // Load Book from inputStream

      // Log the book's authors
      Log.i("epublib", "author(s): " + book.getMetadata().getAuthors());

      // Log the book's title
      Log.i("epublib", "title: " + book.getTitle());

      // Log the book's coverimage property
      Bitmap coverImage = BitmapFactory.decodeStream(book.getCoverImage()
          .getInputStream());
      Log.i("epublib", "Coverimage is " + coverImage.getWidth() + " by "
          + coverImage.getHeight() + " pixels");

      // Log the tale of contents
      logTableOfContents(book.getTableOfContents().getTocReferences(), 0);
    } catch (IOException e) {
      Log.e("epublib", e.getMessage());
    }
}
private void logTableOfContents(List<TOCReference> tocReferences, int depth) {
    if (tocReferences == null) {
      return;
    }
    for (TOCReference tocReference : tocReferences) {
      StringBuilder tocString = new StringBuilder();
      for (int i = 0; i < depth; i++) {
        tocString.append("\t");
      }
      tocString.append(tocReference.getTitle());
      Log.i("epublib", tocString.toString());

      logTableOfContents(tocReference.getChildren(), depth + 1);
    }
  }
} 
```

是的，我导入了他们提到的两个 jar 库！我没有找到解决方案有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T04:27:50.740

```
02-01 10:08:15.926: I/dalvikvm(27839): Could not find method org.slf4j.LoggerFactory.getLogger, referenced from method nl.siegmann.epublib.epub.EpubReader.<clinit> 
```

这个错误表明你的包没有加载 jar 文件。您必须在 libs 文件夹中添加两个 jar 文件并将它们附加到构建路径

# php - PHP忽略配置文件

> ID：14640008
> 
> 赞同：0
> 
> 时间：2013-02-01T04:58:37.667
> 
> 标签：php, ubuntu, magic-quotes-gpc

我正在尝试在 PHP 中关闭 magic_quotes_gpc。我正在使用 Apache 和 Ubuntu 运行 PHP。

我在我的配置文件（/etc/php5/apache2/php.ini）中有：

```
magic_quotes_gpc Off 
```

在我使用 phpinfo() 创建页面的地方，它显示 magic_quotes_gpc 为 on。我还查看了已解析的附加 .ini 文件，但没有任何设置。

为什么 PHP 忽略这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:08:49.100

尝试在 php.ini 中添加/编辑

```
magic_quotes_gpc = Off 
```

添加重新启动您的apache服务以使其生效后

您可以使用 .htaccess 关闭它们：

```
php_flag magic_quotes_gpc Off 
```

如果可写 php.ini 也使用 php

```
ini_set('magic_quotes_gpc' , 0 ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:06:11.510

首先，它已被弃用，所以不要依赖它。嗯嗯嗯？

其次，检查

> 加载的配置文件

在下面`phpinfo()`

![在此处输入图像描述](../Images/6ff8d34b0cff8d2d520f4d0eb6c303b4.png)

还添加：

`php_flag magic_quotes_gpc Off`到你的`.htaccess`文件。

凉爽的？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:06:55.760

你最近做了这个改变吗？如果是这样，您必须重新启动 PHP 才能使其生效。

# php - php邮件不起作用

> ID：14640011
> 
> 赞同：-3
> 
> 时间：2013-02-01T04:59:01.713
> 
> 标签：php, email

我的联系页面上有一个联系表格，它是一个 php 页面。我正在收集用户的请求并尝试将其邮寄到 me@mydomain.com。但是，我尝试了所有不同的方式，但无法使用 php 发送邮件。我对 php 很陌生，我正在努力学习这门语言。这是代码示例。

这是我的 HTML

```
<h2>Your Details</h2></br>
<div class="form_row">
<input type="text" class="form_input" name="name" id="txtName" placeholder="Your Name"      />
</div>
<div class="form_row">
<input type="text" class="form_input" name="phone" id="txtPhone" placeholder="Phone Number" />
</div>
<div  class="form_row">
<input type="text" class="form_input" name="email" id="txtEmail" placeholder="Email" />
</div>
<div  class="form_row">
<textarea class="form_textarea" name="message" id="txtMessage" placeholder="Provide as much information you can regarding the project."></textarea>
<p><input type="submit" id="submit" class="button" value="Send"/></p>
                                                </div> 
```

这是我的 php 脚本

```
<?php
    if(isset($_POST['submit']))
    {           
        $to = "harish.upadhyayula@ritchsystems.com";
        $subject = 'Request for quote from - ritch systems website.';
        $from = 'Surekha';
        $phone = '410-555-4988';
        $message = 'Testing php mail by hard coding.';
        $headers =  "From: ".$from."\r\n" .  
                    "Phone: ".$phone;
        ini_set("sendmail_from", $from);
        if(mail( $to, $subject, $message, $headers ))
        {
        echo 'Mail Sent';
        }
        else {echo 'Something is wrong!';}
    }
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T05:04:38.493

在不在本地主机上的服务器上尝试这种类型（无法在 localhost 上发送邮件）

```
 $to = 'rsharma@gmail.com';
    $subject = 'Thanks for Registering on Dota Pub Stars!';
    $message = 'your msg';

        $headers = "MIME-Version: 1.0 \r\n";
        $headers .= "Content-type: text/html; charset=iso-8859-1\n"; //sending html
        $headers .= "From: $from\r\n";

mail($to, $subject, $message, $headers); 
```

# mysql - Codeigniter mysql where 不等于查询

> ID：14640014
> 
> 赞同：6
> 
> 时间：2013-02-01T04:59:28.520
> 
> 标签：mysql, codeigniter, where

Mysql codeigniter 查询无法正常工作。假设如果 mysql 表看起来像这样：

```
 user_id|user_name
       1|john
       2|alex
       3|sam 
```

这里**user_name**是唯一的

如果 user_name=john和user_id=1则以下查询应返回**false**，如果**user_name=john****和**user_id **=2****则**返回**true**。

 ****```
$this->db->get_where('user', array('user_name' => $name,'user_id !=' => $userid)); 
```

但它在**user_name=john**和**user_id=1**的情况下返回**true**。

 ****谁能建议我另一种查询不等于的方法。

print($this->db->last_query()) 给出：

SELECT * FROM (user) WHERE user_name = 'john' AND user_id != '1'

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:25:09.570

你为什么不使用简单`$this->db->query('your query');`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-11-04T04:40:28.383

只需尝试一下，在 where 函数中添加所需的条件。

```
$this -> db -> where('invitee_phone !=', $user_phone); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-05T09:36:13.160

您也可以按照以下方式进行。它对我有用

```
$total = 5;
$CI = get_instance();
$CI->load->database();
$CI->db->order_by('id','asc');
$topusers = $CI->db->get_where('users',array('user_type != 1  && `status` =' => 1),$total,0);
echo $CI ->db ->last_query();
die; 
```

如果仍然不适合您，您可以使用@rohit 建议： $this->db->query('your query');

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-21T06:54:12.443

**类型 1：**

使用`->where("column_name !=",$columnname)` 一列就可以了。

但是如果要检查多列，则必须在**where**子句中形成一个**数组。**

 **像这样

```
$whereArray = array(
                "employee_name" => $name,
                "employee_id !=" => $id,
        );

$this->db->select('*')->from('employee')->where($whereArray); 
```

**类型 2：**

我们可以在其中准确地写出我们想要的内容。

像

```
$thi->db->where(("employee_id =1 AND employee name != 'Gopi') OR designation_name='leader@gopis clan'"); 
```

*类型 2*适用于组合查询，我的意思是**括号**“（）”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-03-23T04:09:48.367

您可以按照以下代码：

```
$query = $this->db->select('*')->from('employee')->where('user_name', $name)->where('user_id !=', $userid)->get();
$last_query = $this->db->last_query();
$result = $query->result_array(); 
```

如果你通过 $name = 'john' 和 $userid = '1' 然后它返回空数组。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-08-24T13:03:50.243

使用的问题`$this->db->query('your query');`是它不便携。采用查询构建器方法的最重要原因之一是，无论您使用什么数据库驱动程序，CodeIgniter 都能确保语法正确。

如果可以进行一些讨论，我可能想听听为什么你的表中需要复合主标识符，我想看看你的表模式是什么样的。但是，我认为讨论的时间已经过去了。

实际上，您希望返回一个布尔结果，说明用户名和 id 组合的可用性——如果一个匹配，但不是两者都匹配，那么`true`（可用）。

为此，您需要在表中搜索具有两个限定条件的完全匹配的行，计算行数，将该整数转换为布尔值，然后返回相反的值（语法比解释简单）。

考虑一下这种干净、直接、便携的单线。

```
return !$this->db->where(['user_name' => $name,'user_id' => $userid])->count_all_results('user'); 
```

如果`false`计数是`> 0`并且计数是，这将返回。`true``0`**********

# c# - 将 JSON 反序列化为字符串数组

> ID：14640028
> 
> 赞同：8
> 
> 时间：2013-02-01T05:00:54.180
> 
> 标签：c#, .net, json

我刚刚开始涉足 C#，并且我一直在研究 JSON 反序列化有一段时间了。我正在使用 Newtonsoft.Json 库。我期待这样的字典数组的json响应

```
[{"id":"669","content":" testing","comments":"","ups":"0","downs":"0"}, {"id":"482","content":" test2","comments":"","ups":"0","downs":"0"}] 
```

现在我有：（注意：下载只是一个包含 json 字符串的字符串）

```
string[] arr = JsonConvert.DeserializeObject<string[]>(download); 
```

我尝试了许多不同的方法来做到这一点，每一种都失败了。是否有解析这种类型的 json 的标准方法？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-01T05:02:51.980

你有一个**对象**数组而不是字符串。创建一个映射属性并反序列化的类，

```
public class MyClass {
    public string id { get; set; }
    public string content { get; set; }
    public string ups { get; set; }
    public string downs { get; set; }
}

MyClass[] result = JsonConvert.DeserializeObject<MyClass[]>(download); 
```

JSON中只有几个基本类型，但是学习和识别它们是有帮助的。对象、数组、字符串等[http://www.json.org/](http://www.json.org/)和[http://www.w3schools.com/json/default.asp](http://www.w3schools.com/json/default.asp)是很好的入门资源。例如，JSON 中的字符串数组看起来像，

```
["One", "Two", "Three"] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-25T09:59:42.420

我实现了这一点，希望这对所有人都有帮助。

```
 var jsonResponse = 
  [{"Id":2,"Name":"Watch"},{"Id":3,"Name":"TV"},{"Id":4,"Name":""}]

 var items = JsonConvert.DeserializeObject<List<MyClass>>(jsonResponse); 
```

其中 MyClass 是实体

```
 public class MyClass
            {
                public int Id { get; set; }
                public string Name { get; set; }
            } 
```

# automation - 使用 Ranorex 自动化无法识别 Silverlight 应用程序上的对象

> ID：14640029
> 
> 赞同：0
> 
> 时间：2013-02-01T05:00:55.847
> 
> 标签：automation, ranorex

我无法使用 Ranorex 自动化识别 Silverlight 应用程序上的对象。整个应用程序被标识为单个窗口。ranorex 工具无法识别 Silverlight 应用程序中的下拉菜单、按钮等对象。有了这个，我无法继续我的自动化。请提供相同的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T15:09:52.760

Ranorex 论坛的以下主题中已经回答了类似的问题。[http://www.ranorex.com/forum/not-able-to-detect-ui-objects-inside-a-silverlight-appplicatn-t4335.html](http://www.ranorex.com/forum/not-able-to-detect-ui-objects-inside-a-silverlight-applicatn-t4335.html)

# firefox - 字体在 Firefox 18.0.1 中不起作用（包括代码和 URL）

> ID：14640041
> 
> 赞同：0
> 
> 时间：2013-02-01T05:01:36.950
> 
> 标签：firefox, plugins, browser, firefox-addon, font-face

您好，非常感谢您对我的问题的任何帮助。以下是事实：

URL 是 www.thecloudz.net，关于最顶部的导航链接，字体称为 brooklyn。URL 上的字体在 Safari 和 Chrome 中正确显示，但在 Firefox 中不正确。有人告诉我，我可能安装了一个干扰字体的插件。

URL 的字体设置如下，“岩盐”是 FF 中显示的默认字体，但根据下面的代码，它应该首先显示 brooklyn。为什么它可以在除 Firefox 之外的所有浏览器上运行？可以的话请帮忙，谢谢！

```
`/* CHANGES FONT FOR NAVIGATION */
@font-face {
    font-family: brooklyn;
    src: url('http://thecloudz.net/files/BROOKLYN.eot');
    src: url('http://thecloudz.net/files/BROOKLYN.eot?#iefix') format('embedded-    opentype'),
         url('http://thecloudz.net/files/brooklyn.woff') format('woff'),
         url('http://thecloudz.net/files/BROOKLYN.TTF') format('truetype');
}

#navigation ul li a {
    font-family: brooklyn, 'rock salt', serif;
    font-size: 1.3em;
    padding-top: 7px;
    height: 50px;
}` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T15:31:48.427

Firefox 执行同源策略。

`http://thecloudz.net/`并且`http://www.thecloudz.net/`不一样。

# wcf - CI 服务器上的 WCF 编译错误：找不到 Microsoft.VisualStudio.ServiceModel.targets

> ID：14640045
> 
> 赞同：20
> 
> 时间：2013-02-01T05:01:56.583
> 
> 标签：wcf, visual-studio-2012, continuous-integration

我在 CI 服务器上收到此错误：

> 错误 MSB4019：未找到导入的项目“C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\WCF\Microsoft.VisualStudio.ServiceModel.targets”

我的 WCF 服务库项目似乎引用了该文件，但 VisualStudio 文件夹`Program Files\MSBuild\Microsoft`不包含 WCF 文件夹。

我想我需要在服务器上安装一些东西。

我需要安装什么？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-06-24T09:35:05.500

好吧，这毁了我的早晨，但我们不要让它毁了其他人的。我在其他任何地方都找不到这些信息。您需要使用 VS Pro 2012 从开发机器中复制一些文件。

正如 aphexddb 所提到的，您需要将一些目标复制`C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\WCF`到 CI 服务器上的同一位置。

然后这引用了一个名为`Microsoft.VisualStudio.ServiceModel.Core`. 您可以在 GAC 或 IDE 目录中找到此程序集`C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE`。

将此复制到您的 CI 服务器并执行`gacutil.exe -i Microsoft.VisualStudio.ServiceModel.Core.dll`

这足以为我修复它。

这不是我第一次在我的 CI 服务器中发现我的 VS express 安装中缺少目标。我不禁觉得我可以从某个地方下载某种包来填充所有这些内容。有人知道这样的事情吗？如果没有，也许我们应该创建一个。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2019-11-14T09:01:10.067

在 vs2019 上仍然可以发生

> 错误 MSB4019：找不到导入的项目“C:\Program Files (x86)\Microsoft Visual Studio\2019\Professional\MSBuild\Microsoft\VisualStudio\v16.0\WCF\Microsoft.VisualStudio.ServiceModel.targets”。确认声明中的路径正确，并且该文件存在于磁盘上。

默认情况下，WCF 不作为“ASP.NET 和 Web 开发”工作负载的一部分安装。为了解决这个问题，

在 Visual Studio 安装程序 > 修改 > 单个组件选项卡上，搜索 wcf，检查，修改 - .targets 文件现在已安装，msbuild 构建正常。

MSBuild 自动检测：使用来自“C:\Program Files (x86)\Microsoft Visual Studio\2019\Professional\MSBuild\Current\bin”的 msbuild 版本“16.3.2.50909”

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-03-09T20:32:12.693

我在使用 Visual Studio 2017 时遇到了这个问题，对我来说，解决方案是修改我的 Visual Studio 安装以包含 Windows Communication Foundation 组件。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-03-05T18:54:44.913

[将此](http://druss.co/wp-content/uploads/2013/10/Microsoft.VisualStudio.ServiceModel.zip)文件提取 到文件夹中

C:\Program 文件 (x86)\MSBuild\Microsoft\VisualStudio\WCF

文件名为“Microsoft.VisualStudio.ServiceModel.targets”

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-01T20:41:23.130

遇到同样的问题。做了以下解决：

1.  安装了 Microsoft [Web 平台安装程序](https://www.microsoft.com/web/handlers/webpi.ashx/getinstaller/WDeploy.appids)

2.  将目录“C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\WCF”从带有 Visual Studio 2012 的开发笔记本电脑复制到构建服务器

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-04-23T18:29:03.380

我遇到了同样的错误——我的问题是 MS 修改了 MSBuild 在构建过程模板中查找 VS 版本的方式。

确保使用正确的构建过程模板。如果使用 TFS2013 和 VS2013 使用 TfvcTemplate.12.xaml

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-01-12T23:10:01.050

我遇到了同样的错误。就我而言，问题在于我的 Visual Studio 2008 项目没有正确升级，可能是由于我的源代码管理将文件标记为“只读”。为了修复它，我在 Visual Studio 2015 中加载了解决方案，并检查了所有内容。

.csproj 文件中的特定行从

```
<Import Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\WCF\Microsoft.VisualStudio.ServiceModel.targets" /> 
```

到

```
<Import Project="$(WcfServiceModelTargetPath)\Microsoft.VisualStudio.ServiceModel.targets" /> 
```

# android - 手动更改时间时获取 android.intent.action.TIME_SET 两次

> ID：14640050
> 
> 赞同：2
> 
> 时间：2013-02-01T05:02:35.433
> 
> 标签：android, time, action

我有一个`BroadcastReceiver`哪个手表`android.intent.action.BOOT_COMPLETED`，`android.intent.action.TIME_SET`还有`android.intent.action.TIMEZONE_CHANGED`。

```
<receiver android:name="SystemBroadcastReceiver">
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
            <action android:name="android.intent.action.TIME_SET" />
            <action android:name="android.intent.action.TIMEZONE_CHANGED" />
            <category android:name="android.intent.category.HOME" />
        </intent-filter>
</receiver> 
```

/** 不正确，见下文每当发生这些操作之一时，接收器将打开一个活动。一切正常，除了当我更改时钟的分钟部分时，`android.intent.action.TIME_SET`将激活两次，这导致活动打开两次。
我觉得这很奇怪，因为如果我改变时钟的小时部分，`android.intent.action.TIME_SET`只会激活一次。*/ 我的测试手机是 Galaxy Nexus 4.2.1。这是 4.2.1 中的系统错误还是我做错了什么？

------------由我自己编辑------------ 这是一些可能有帮助的日志。每当我更改分钟、小时或日期时，我的活动都会启动两次。

```
02-01 21:16:11.781: D/SystemClock(9012): Setting time of day to sec=1359724560
02-01 21:16:00.023: V/AlarmClock(8932): AlarmInitReceiver finished
02-01 21:16:00.031: D/SystemClock(9012): Setting time of day to sec=1359724560 
```

我不知道为什么我只是在系统设置部分更改了一次时间，但系统调用了两次设置时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T11:04:18.140

在我自己的 Nexus 上验证了这种行为。

但是，您不应该从 BroadcastReceiver 启动 Activity。我建议您使用[通知](http://developer.android.com/guide/topics/ui/notifiers/notifications.html)！

这样，您是否获得两次广播都没关系，因为通知只会更新，而不会重复。

# facebook - MVC4 Facebook 和多个子域

> ID：14640054
> 
> 赞同：1
> 
> 时间：2013-02-01T05:02:53.413
> 
> 标签：facebook, asp.net-mvc-4, single-sign-on

我目前有 4 个站点，最终将接近 100 个（我正在开发基于 Web 的游戏）我有主站点（即 www.domain.com），然后是每个服务器的子域（即 s1.domain.com s2。域.com)

我已经习惯了旧的会员 api，我可以使用简单的表单身份验证和机器密钥来做到这一点，但 Facebook 却让我望而却步。我有一个开发者帐户和我的应用程序 ID 以及所有这些好东西。

我的目标是用户使用 Facebook 访问 WWW 站点登录，从数据库中提取数据以了解他们过去曾在哪些服务器上玩过（如果他们以前玩过），然后将它们发送到保留 Facebook 身份验证的所选服务器。我知道它可能我已经看到至少一个其他游戏做到了（evony），但我找不到任何关于如何用 mvc4 实现它的信息。

有谁知道如何做到这一点或有链接到如何/博客/等我已经搜索过谷歌，到目前为止，我能想到的单点登录是会员提供者的旧方法。

提前谢谢了

# java - RCP 应用程序找不到新添加的视图

> ID：14640058
> 
> 赞同：1
> 
> 时间：2013-02-01T05:03:07.717
> 
> 标签：java, eclipse-plugin, eclipse-rcp, e4

我正在为 RCP RAP 开发人员使用 Eclipse Juno。我创建了一个带有单个视图的插件项目，它运行正常。但是，每当我尝试向该工作台添加新视图时，窗口就会更新。此外，如果我更改当前视图的 id，它也不起作用。如果我删除当前视图，它也会显示它。总的来说，视图部分并没有更新应用程序。有人知道答案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T08:12:26.200

您的更改未正确应用。

> Eclipse 4 将某些用户更改保留在您的应用程序中。在开发过程中，这可能会导致无法正确应用和显示更改的情况，例如，您定义了一个新菜单条目，而该条目未显示在您的应用程序中。

您必须`-clearPersistedState`为您的应用程序添加一个程序参数**或**在运行配置的主选项卡中设置`Clear`标志。

在[这里](http://www.vogella.com/articles/EclipseRCP/article.html#tutorial_clearpesistence)查看更多信息和更详细的描述。

# jquery - 如何在特定元素内选择 .not(this)

> ID：14640060
> 
> 赞同：2
> 
> 时间：2013-02-01T05:03:36.557
> 
> 标签：jquery, jquery-selectors, this

我创建了一个函数，在`li`单击元素时淡入一些描述性信息。该函数淡化列表中的新信息。不工作的线路是`$(".hover").not(".hover", this).fadeOut(200).removeClass("not-me");`并且理解它是下降到`.not(".hover", this)`.

我已经尝试过`.not(this)`，但这不能正常工作。大概是因为`this`它的部分还是从`li`元素中选取的，最初是从点击函数中选取的`$("ul li").click(function() {`。

有没有办法`.not(".hover", this)`成功使用？

**jQuery：**

```
$("ul li").click(function() {

  // Remove other divs with element currently shown
  $(".hover").not(".hover", this).fadeOut(200).removeClass("not-me");

  // Stop chosen element from fading out
  $(".hover", this).addClass("not-me").fadeIn(200);

}); 
```

**HTML：**

```
<li>
  <div class="hover">
     <h3>Header</h3>
     <p>Shot but breif description, cut me off if you need to.</p>
   </div>
   <img src="/images/1.jpg" alt="" />
</li>
<li>
  <div class="hover">
     <h3>Header</h3>
     <p>Shot but breif description, cut me off if you need to.</p>
   </div>
   <img src="/images/2.jpg" alt="" />
</li>
<li>
  <div class="hover">
     <h3>Header</h3>
     <p>Shot but breif description, cut me off if you need to.</p>
   </div>
   <img src="/images/3.jpg" alt="" />
</li> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T05:05:11.923

我想你正在寻找这个：

```
$("li").not(this).find(".hover"); 
```

这将为您提供所有`.hover`元素，不包括`this`.

* * *

您可能应该缓存该`$('li')`对象...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:05:41.543

`.not`只接受一个论点。而且，任何事情都不可能满足`$(".hover").not(".hover")`。只需使用`$(".hover").not(this)`

[http://api.jquery.com/not/](http://api.jquery.com/not/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T05:13:01.120

当您使用`.siblings()`. 从某种意义上说，它也是锚定的，它不考虑`<li>`当前的外部`<ul>`因素。

话虽如此，如果您稍后向页面添加更多列表，则您的初始选择器（`$('ul li')`除非有意）可能不合适。

```
$("ul li").click(function() {

  // Remove other divs with element currently shown
  $(this)
      .siblings() // get sibling li's
          .find('.hover') // and fadeout their inner .hover divs
              .fadeOut(200)
              .removeClass("not-me")
              .end()
          .end()
      .find('.hover')
          .fadeIn(200)
          .addClass("not-me")
}); 
```

# android - Android 垂直 Textview 选框小部件

> ID：14640064
> 
> 赞同：2
> 
> 时间：2013-02-01T05:04:14.077
> 
> 标签：android, widget, textview

我想知道是否可以在 Android 小部件中垂直创建 TextView 品牌。我已经尝试过水平，但我希望我的 textview 选框垂直。

已经在谷歌上搜索了几个小时，但没有找到我可以使用的有用的东西。有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:25:31.187

试试这个-->

将这些标签添加到您的`<TextView>`

```
android:ems = "1" 
android:multipleLine = true 
```

# node.js - 使用 nodejs 将图像“推送”到浏览器中

> ID：14640069
> 
> 赞同：1
> 
> 时间：2013-02-01T05:04:47.930
> 
> 标签：node.js, websocket

我是nodejs的新手。这是什么，这就是我想要做的。我正在做一个项目，一旦图像出现在数据库中，就需要将图像“推送”到浏览器的 DOM 中。

把它想象成 Pinterest，但是当新图像上传到 Pinterest 时，它会自动传送到浏览器，因此用户可以坐在那里观看屏幕上弹出的新图片。

我将不胜感激任何初学者对挑战的指导。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T05:32:26.300

这个问题有两个部分。首先是让您的所有服务器都知道您有一个新图像。第二个是将这些信息和图像提供给客户。

为了解决服务器之间的通信，我建议研究发布/订阅系统。 [Redis 可以用于此](http://howtonode.org/redis-pubsub)。基本上，将新图像插入数据库的服务器将“发布”一条消息，然后将其广播到所有“订阅”该类型消息的服务器。您的消息可能包含您刚刚插入的记录的 ID。

一旦你有了它，我建议使用[Socket.IO](http://socket.io/)来维护客户端和服务器之间的持久 Web 套接字或类似 Web 套接字的连接。您的服务器会收到有新图像的消息，然后在需要时查询数据库以获取详细信息。一旦他们有了这些详细信息，他们就可以向客户发送一条消息，其中包含可以访问图像的 URL。

# javascript - 动态加载的表单控件和链接不可点击

> ID：14640073
> 
> 赞同：0
> 
> 时间：2013-02-01T05:05:06.067
> 
> 标签：javascript, ajax, forms, button, textbox

*   在用户缩放页面之前，通过 AJAX 加载到 div 中的内容是不可点击的。这似乎在某处重置或重新映射了一些可点击的区域定义。

*   在其他一些情况下，“可点击区域”稍微偏离了一点，当鼠标光标在错误区域发生变化时，您会注意到它，而不是在我的输入字段/按钮/链接下。

*   这个问题出现在 Chrome 和 Mozilla 下，我没有使用 IE，但它也发生在那里。

从以上症状，可能是什么原因？

这是我用来加载元素的代码，（我怀疑它太相关了，因为内容正在被有效地加载）：

```
function reqHandler(xhr, section) {
    var x = xhr;
    var s = section;
    this.callback = function() {
        if (x.readyState == 4) {
            var ss = document.getElementById(s);
            if (ss != null) 
                ss.innerHTML = x.responseText;
            stripAndExecuteScript(x.responseText);
        }
    }
};

function loadInto(page,section, wait) {
    if (wait==null) wait = true;
    if (wait) makeWait(section);    
    xhr = createXMLHttpRequest();
    handler = new reqHandler(xhr, section);
    xhr.onreadystatechange = handler.callback;
    xhr.open("GET", page, true);
    xhr.send(null);
} 
```

stripAndExecute 只是评估加载内容的 javascript，但它没有被使用，加载的内容有简单的链接标签和一个表单，但无论如何这里是代码：

```
function stripAndExecuteScript(text) {
    var scripts = '';
    var cleaned = text.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, function(){
        scripts += arguments[1] + '\n';
        return '';
    });

    if (window.execScript){
        window.execScript(scripts);
    } else {
        eval(scripts);  

    }
    return cleaned;
} 
```

生成的 div 内容的 HTML：

```
<form id="users_form">
    <table>
        <colgroup><col width="65px">
        </colgroup><tbody><tr>
            <td colspan="2">Llene todos los campos</td>
        </tr>
        <tr>
            <td align="right">Nombre</td>
            <td><input class="text_field" name="name" value="" type="text"></td>
        </tr>
        <tr>
            <td align="right">E-Mail</td>
            <td><input class="text_field" name="email" value="" type="text"></td>
        </tr>
        <tr>
            <td align="right">Usuario</td>
            <td><input class="text_field" name="user" value="" type="text"></td>
        </tr>
        <tr>
            <td align="right">Contraseña</td>
            <td><input class="text_field" name="password" type="password"></td>
        </tr>
        <tr>
            <td align="right">Repita contraseña</td>
            <td><input class="text_field" name="password_confirm" type="password"></td>
        </tr>

        <tr class="type_display_block">
            <td align="right">Tipo</td>
            <td><select class="text_field" name="type" style="width:100%;">
                    <option value="0">Administrador</option>
                    <option value="1">Gerente</option>
                    <option value="2">Normal</option>
            </select></td>
        </tr><tr>       
            <td colspan="2"><a class="button" style="float: right;" href="javascript:void(0);" onclick="doDBinsert();"><img alt="Enviar" src="http://localhost/eclipse/mensajesInternos/img/check.png" height="25px" width="25px">Enviar
            </a></td>

        </tr>
    </tbody></table>
</form> 
```

变得不可点击的元素是底部的“Enviar”按钮。

注意：我没有使用 jQuery。

注意2：如果我将“Enviar”链接不在下一行而是在选择旁边的下一列中，如下所示：

```
<tr class="type_display_block">
            <td align="right">Tipo</td>
            <td><select class="text_field" name="type" style="width:100%;">
                    <option value="0">Administrador</option>
                    <option value="1">Gerente</option>
                    <option value="2">Normal</option>
            </select></td>

            <td colspan="2"><a class="button" style="float: right;" href="javascript:void(0);" onclick="doDBinsert();"><img alt="Enviar" src="http://localhost/eclipse/mensajesInternos/img/check.png" height="25px" width="25px">Enviar
            </a></td>

        </tr> 
```

也就是说，在 TD 而不是 TR 中，元素“Enviar”可以再次点击。实际上，我发现 Select 控件也导致其他部分的偏移量错误。这可以在 Mozilla Firefoz 和 Chrome 中的 windows 和 linux 下重现。

某种虫子？...

# java - 抽象方法

> ID：14640077
> 
> 赞同：0
> 
> 时间：2013-02-01T05:05:13.700
> 
> 标签：java, methods, abstract, overriding

java`abstract method`和in有什么区别？`method overriding`因为使用方法覆盖可以找到相同的结果。那么`abstract`方法的必要性是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:09:14.667

抽象方法迫使继承该方法的程序员为它定义一个实现，即类说“我需要这个函数的实现，这个类的具体实现必须提供”。

这与重写方法相反，重写方法*允许*（而不是*要求*）继承类更改该类对象的方法的实现。

特别是，可覆盖方法（或“虚拟”方法）具有覆盖方法可以调用的基本实现（其本身可以为空）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:24:07.550

为了使用子类，需要实现**抽象****方法。**您还必须实现非抽象方法，例如，在接口方法签名的情况下。

 **我认为说您以与**实现**接口的方法存根相同的方式**实现**抽象方法是正确的。**覆盖**与实现不同，因为您可以覆盖不是存根的方法。子类经常覆盖超类既不是接口也不是抽象类的方法。因此，覆盖这个术语比实现具有更广泛的含义。

 ****您可能会发现本教程很有帮助，因为它有一个非常清晰的定义。

[http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html](http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)

希望有帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:38:34.537

两者有不同的用法，无法比较。

**抽象类**的创建只是为了被其他类子分类。实现类**必须**实现其中声明**的所有抽象方法**。然而，**方法覆盖**`superclass`是子类从行为**“足够接近”**的继承对象覆盖方法，然后根据需要修改行为的能力。**抽象方法**是在没有实现的情况下声明的方法，需要在**子**类中实现。******

# javascript - 使用按钮更改 Javascript 选项卡？

> ID：14640082
> 
> 赞同：0
> 
> 时间：2013-02-01T05:06:18.290
> 
> 标签：javascript, jquery, html

我正在一个通过 javascript 实现选项卡的网站上工作，我想创建一个转到“下一个”选项卡的按钮。我不在乎是否必须将选项卡 ID 硬编码到 javascript 中或什么，但无论如何我都希望能够推进选项卡。

EDIT3：这是我所拥有的 jfiddle 实现。我只希望下一个按钮能够推进类似于单击它们的选项卡。谢谢！

[http://jsfiddle.net/Cd5qb/](http://jsfiddle.net/Cd5qb/)

这是我当前工作选项卡的代码，没有按钮：

```
var tabContents = $(".tab_content").hide(), 
    tabs = $("ul.tabs li");

tabs.first().addClass("active").show();
tabContents.first().show();

tabs.click(function() {
    var $this = $(this), 
        activeTab = $this.find('a').attr('href');
    if(!$this.hasClass('active')){
        $this.addClass('active').siblings().removeClass('active');
        tabContents.hide().filter(activeTab).fadeIn();
    }
    return false;
}); 
```

所以我正在尝试实现类似于 tabs.click 的按钮，这就是我到目前为止所得到的：

```
var tabbtn = $(".tabbutton");
tabbtn.click(function() {
    var listItem = document.getElementById('tab2');
    var $this = $(this), 
        activeTab = $this.find('a').attr('href');
    tabContents.hide().filter("#tab2").fadeIn();

    return false;
}); 
```

这实际上将显示右侧选项卡的信息，但不会更改突出显示的选项卡标题。

有人有想法么？在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:43:18.613

怎么样：

```
$(".tabbutton").click(function(){
    var nextTab = parseInt($("li.active").attr("id"), 10) + 1;
    if(nextTab === 4){ nextTab = 1; }
    $("#"+nextTab).click();
}); 
```

并为 li 项目添加一个数字等效 id？

工作小提琴在这里：http: [//jsfiddle.net/gugahoi/Cd5qb/1/](http://jsfiddle.net/gugahoi/Cd5qb/1/)

**更新：**

好的，[这是新的小提琴](http://jsfiddle.net/gugahoi/Cd5qb/2/)，只有按钮更改选项卡。

这是所有的js：

```
var tabContents = $(".tab_content").hide(), 
    tabs = $("ul.tabs li");

tabs.first().addClass("active").show();
tabContents.first().show();

$(".tabbutton").click(function(){
    var nextTab = parseInt($("li.active").attr("id"), 10) + 1;
    if(nextTab === 4){ nextTab = 1; }
    tabs.removeClass("active");
    $("#"+nextTab).addClass("active");
    tabContents.hide();
    $("#tab"+nextTab).fadeIn("slow");
}); 
```

这是 html 中唯一需要的更新：

```
<ul class="tabs clearfix">
    <li id="1"><a href="#">Tab1</a></li>
    <li id="2"><a href="#">Tab2</a></li>
    <li id="3"><a href="#">Tab3</a></li>
</ul> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-02T07:39:21.923

@ Gustavo Hoirisch：使用您之前的代码，我也确实从“tabContents”中删除了“active”并即将发布。无论如何，grt 工作。

# java - 源附件不包含源文件 Collections.class？

> ID：14640085
> 
> 赞同：-1
> 
> 时间：2013-02-01T05:06:22.347
> 
> 标签：java, android, eclipse, cordova

以下代码即时用于我的 android 应用程序。在第四行进行调试时，它正在停止并且下面的消息即将到来源附件不包含源文件 Collections.class。请给我一个建议

```
String userName = "ClientTeam";
String password = "hZhUmdqq";
String url = "jdbc:jtds:sqlserver:TEMPDB;instance=SqlExpress";
String JdbcDeriver="net.sourceforge.jtds.jdbc.Driver";
Class.forName(JdbcDeriver);
Connection conn = DriverManager.getConnection(url, userName, password); 
```

谢谢，卡纳。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:28:48.083

Is the right import in your code?

`import java.util.Collections;`

# c# - 在新窗口中打开下载的 pdf 文件

> ID：14640088
> 
> 赞同：0
> 
> 时间：2013-02-01T05:06:29.787
> 
> 标签：c#

当我使用以下代码下载 PDF 文件时，会出现一个对话框，其中包含打开、保存和取消按钮。如果我单击“打开”按钮，pdf 文件将在同一窗口中打开。

```
{
    Response.ContentType = "application/octet-stream";         
    Response.AddHeader("Content-Disposition", string.Concat("inline;filename= " + filename + ""));
    Response.TransmitFile("D:\\local\\Projects\\intranet\\Intranet\\Intranet\\Intranet\\PaySlip\\" + filename + ".pdf");
    Response.End();                
} 
```

现在，如何在新窗口中打开 pdf 文件？我可以通过更改代码在另一个窗口中打开文件吗？

请帮我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:11:42.013

链接应该是这样的：

```
<asp:HyperLink id="hyperlink1" NavigateUrl="document.pdf" Target="_blank"
Text="Open document in a new window"  runat="server"/> 
```

# java - DollarSigns 和 StartsWith() java 的问题

> ID：14640090
> 
> 赞同：0
> 
> 时间：2013-02-01T05:06:40.160
> 
> 标签：java, regex, startswith

我已经完全搜索了 Stackoverflow 和 Google 的所有方面，但没有发现任何可以帮助我解决问题的方法。

为什么这段代码：

```
if((w.startsWith("\\$", 0) || (w.startsWith("\\$", 1))){
} 
```

还有这个：

```
if((w.charAt(0) == '$') || (w.charAt(1) == '$' && w.charAt(0) == ' ')){
} 
```

还有这个：

```
 if((w.startsWith("\\$") || (w.startsWith(" \\$"))){
 } 
```

不工作？

我正在尝试测试字符串是否以美元符号或空格和美元符号开头，但由于某些奇怪的原因，我似乎无法找到与“以空格开头”部分相关的问题。

因为 charAt(0) == '$' 工作得很好......但如果我想测试它是否以空格开头，然后是美元符号，它不起作用。

没有错误......只是没有任何反应。任何指南/修复将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:10:35.387

无需转义`$`as`String.startsWith`只需要一个普通字符串作为参数，而不是正则表达式。

```
if (w.startsWith("$") || w.startsWith(" $")) 
```

就足够了。

如果您使用`String.startsWith(String prefix, int offset)`（我认为在这种情况下不需要）`0`作为偏移量，而不是 1，因为您必须从头开始检查 a `$`。如果您必须测试子字符串是否以前缀开头，则需要它。在这种情况下，给出子字符串的 beginIndex。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:14:03.760

只需执行两个`startsWith`表达式而不转义：

```
if (w.startsWith("$") || w.startsWith(" $")) {...} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:19:01.550

只是`trim`它。它删除前后的空格。

```
if(w.trim().charAt(0) == '$') {
  ...
} 
```

# sublimetext2 - 如何在 Sublime Text 2 中插入一列不断增加的数字？

> ID：14640093
> 
> 赞同：101
> 
> 时间：2013-02-01T05:06:59.063
> 
> 标签：sublimetext2

```
text
text
text
text 
```

编辑后，这些文本变为

```
1 text
2 text
3 text
4 text 
```

在 Notepad ++ 中使用 Column Editor 很容易，但我不知道如何在 Sublime Text 2 中做同样的事情。

* * *

## 回答 #1

> 赞同：122
> 
> 时间：2017-06-06T08:27:18.673

*Text Pastry*插件可以很好地完成这项工作。它提供了[插入数字语法](https://github.com/duydao/Text-Pastry/wiki/Examples#insert-nums-syntax)。

`CMD`用+ `SHIFT`+选择多行`L`（Sublime 默认）：

```
 text|
   text|
   text|
   text| 
```

将光标移动到您想要的位置：

```
 | text
 | text
 | text
 | text 
```

并通过点击++并输入带有*文本糕点*的数字：`CMD``ALT``N``1` `space` `1` `space` `0`

```
 1| text
 2| text
 3| text
 4| text 
```

哪里`1` `space` `1` `space` `0`代表：

*   整数开头`1`
*   增量`1`
*   填充前导零`0`

在 Windows 或 Linux 机器上替换`CMD`为。`CTRL`

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2020-09-26T23:35:34.560

这篇文章的副本[https://stackoverflow.com/a/64083371/5902698](https://stackoverflow.com/a/64083371/5902698)

您希望在您选择的每一行都有一个数字，但不一样。例如，您选择了 5 个光标，并且您想写 1 2 3 4 5。

选择你的 5 个光标（也许你可以使用快捷键`ctrl`++ `shift`）`L`
[![在此处输入图像描述](../Images/c2d21c81eeb69a1fed6b73d81b0acb5b.png)](https://i.stack.imgur.com/hg3de.png)

`ctrl`++`maj`和`P`选择算术 [![在此处输入图像描述](../Images/d6baabed46855161ad0fc69bb1e09a59.png)](https://i.stack.imgur.com/BZPhO.png)

因为你有 5 个游标，所以建议 1 2 3 4 5
[![在此处输入图像描述](../Images/3f306d3225519c5d810c409010b1ec5d.png)](https://i.stack.imgur.com/Lo9Mn.png) [![在此处输入图像描述](../Images/8f2dc90366e28a4ae884f5aae4bfb711.png)](https://i.stack.imgur.com/ZXdvV.png)

如果你愿意，你可以改变你的迭代步骤
[![在此处输入图像描述](../Images/85d612fb9f94f104cf31a8f8ca78ea26.png)](https://i.stack.imgur.com/By1qz.png)

或从 1 以外的其他数字开始
[![在此处输入图像描述](../Images/31a9ac6e172f607d954f718b51ca16aa.png)](https://i.stack.imgur.com/dQJ4D.png)

添加偶数
[![在此处输入图像描述](../Images/c63f878b8970c1cd23a133ed26da66f5.png)](https://i.stack.imgur.com/K5xWW.png)

* * *

## 回答 #3

> 赞同：43
> 
> 时间：2019-04-13T03:08:19.947

对于这种特殊情况，您可以使用**[增量选择](https://packagecontrol.io/packages/Increment%20Selection)**包。只需在每行开头有多个光标时按`Ctrl`+ `Alt`+ `I`( `Command`+ `Control`+ )。`I`除了[melinath](https://stackoverflow.com/users/787115/melinath)的答案，这里有一个如何做到这一点的例子：

您将首先需要[包控制](https://packagecontrol.io/)。安装这两个东西不应该超过 30 秒。

脚步：

1.  安装**包控制**。

*   打开命令面板：`Ctrl`++ （Mac ：`Shift`++ ）。`P``Command``Shift``P`
*   键入`Install Package Control`并单击以安装。

1.  安装**增量选择**包。

*   再次打开命令面板。
*   键入`Package Control: Install Package`，单击它并等待一小段时间。
*   键入`Increment Selection`并单击它进行安装。

1.  将行号添加到每行的开头。

*   `Ctrl`用+选择所有行`A`（Mac：`Command`+ `A`）
*   `Ctrl`使用++将选择更改为多行（Mac ：`Shift`++ ）`L``Command``Shift``L`
*   按`Home`(Mac: `Command`+`←</kbd>)`
*   使用`Ctrl`+ `Alt`+增量选择`I`（Mac：`Command`+ `Control`+ `I`）

结果：

[![增量选择.gif](../Images/fca05205cf226c0d039cc0a7645bf6b6.png)](https://i.stack.imgur.com/9kBFH.gif)

* * *

### *增量选择*的其他示例

 **增量选择*还可以替换数字、带前导零的前缀数字、增量字母、步长增量等。

```
 [1] text    [1] text    [1] ->  1| text  2| text  3|
   [a] text    [a] text    [a] ->  a| text  b| text  c|
  [01] text   [01] text   [01] -> 01| text 02| text 03|
[05,3] text [05,3] text [05,3] -> 05| text 08| text 11|
[5,-1] text [5,-1] text [5,-1] ->  5| text  4| text  3| 
```

提示：`[]`代表选择，`|`代表插入符号。

### 精选类似插件

*   [选择评估器](https://packagecontrol.io/packages/Selection%20Evaluator)`Ctrl`：用+ `Shift`+ `M`(Mac: `Command`+ `Shift`+ )评估选定的数学表达式`M`。

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2015-10-15T03:01:54.970

[IncrementSelection](https://github.com/yulanggong/IncrementSelection)插件启用此行为。如果您安装了[Package Control](https://packagecontrol.io)，您只需搜索并安装它。十分简单！

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-01-30T03:17:07.490

使用**Emmet**包试试这个：

```
 {$ text${newline}}*4 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-01-16T21:15:40.780

我的简单解决方法（直到现在我发现这个线程）是去我的电子表格编辑器那里生成序列，复制，回到 subl，将光标扩展到多行并粘贴。

这种方法可以应用于任何允许您扩展（克隆）光标的文本编辑器。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-07-16T04:54:38.450

您可以使用插件 ConyEdit 来执行此操作，使用它的命令行在行`cc.abl '#1 '`之前附加您想要的内容。*

# c# - 存储过程或函数需要未提供的参数

> ID：14640094
> 
> 赞同：20
> 
> 时间：2013-02-01T05:07:10.407
> 
> 标签：c#, sql, tsql, ado.net

我正在尝试通过调用存储过程将数据插入 SQL Server 数据库，但出现错误

> *过程或函数“插入”需要参数“@Emp_no”，但未提供*

我的存储过程称为`Insertion`. 我已经彻底检查过了，没有丢失任何参数，我也使用标签检查过它。标签显示值，但我不知道为什么会出现错误。

我的代码是

```
 try
    {
        SqlCommand cmd = new SqlCommand();
        cmd.Parameters.Clear();
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.CommandText = "Insertion";
        cmd.Connection = con;

        if (rdb_Male.Checked)
        {
            int @Emp_no = Convert.ToInt32(txtbx_Empno.Text);
            string @Emp_name = txtbx_Emp_Name.Text;
            double @phone = Convert.ToDouble(txtbx_Phone.Text);
            string @Email = txtbx_Email.Text;
            string @Password = txtbx_Pwd.Text;
            string @Gender = rdb_Male.Text;
            DateTime @Dob = Convert.ToDateTime(dob);
            string @Address = txtbx_Address.Text;
            string @Designation = txtbx_Designation.Text;
            string @Qualification = txtbx_Qual.Text;
            double @Experience = Convert.ToDouble(txtbx_Exp.Text);
            double @Salary = Convert.ToDouble(txtbx_Sal.Text);
            DateTime @Doj = Convert.ToDateTime(doj);
        }
        else if (rdb_Female.Checked)
        {
            int @Emp_no = Convert.ToInt32(txtbx_Empno.Text);
            string @Emp_name = txtbx_Emp_Name.Text;
            double @phone = Convert.ToDouble(txtbx_Phone.Text);
            string @Email = txtbx_Email.Text;
            string @Password = txtbx_Pwd.Text;
            string @Gender = rdb_Female.Text;
            DateTime @Dob = Convert.ToDateTime(dob);
            string @Address = txtbx_Address.Text;
            string @Designation = txtbx_Designation.Text;
            string @Qualification = txtbx_Qual.Text;
            double @Experience = Convert.ToDouble(txtbx_Exp.Text);
            double @Salary = Convert.ToDouble(txtbx_Sal.Text);
            DateTime @Doj = Convert.ToDateTime(doj);
        }

        if (con.State==ConnectionState.Closed)
            con.Open();

        LABEL.Text = txtbx_Empno.Text;

        cmd.ExecuteNonQuery();

        lbl_Errormsg.Visible = true;
        lbl_Errormsg.Text = "Record Inserted Successfully";

        con.Close();
    } 
```

并且存储过程是

```
ALTER PROCEDURE dbo.Insertion
(
@Emp_no int,
@Emp_name varchar(30),
@phone numeric(10,0),
@Email varchar(30),
@Password varchar(10),
@Gender varchar(6),
@Dob date,
@Address varchar(100),
@Designation varchar(20),
@Qualification varchar(20),
@Experience numeric(4,2),
@Salary numeric(10,2),
@Doj date
)
AS
 Begin
   Insert into Register (Emp_no, Emp_name, phone, Email, Password, Gender, Dob, Address, Designation, Qualification, Experience, Salary, Doj)
   Values(@Emp_no, @Emp_name, @phone, @Email, @Password, @Gender, @Dob, @Address, @Designation, @Qualification, @Experience, @Salary, @Doj)
 End 
```

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2016-07-04T12:23:36.823

只是提醒一下，它可能会为某人节省大量的灵魂搜索时间。如果您已遵循此处的建议，例如使用 AddWithValue 来传递参数，并且您已经验证了所有内容，但仍然收到错误消息“未提供”，请检查您是否设置了命令对象的 CommandType 属性到 CommandType.StoredProcedure。

不设置这个属性会产生同样的信息，相信我！希望它可以帮助某人。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-02-01T05:14:21.180

您需要使用`SqlCommand.Parameters.AddWithValue`：

```
cmd.Parameters.AddWithValue("@ParameterName", value); 
```

或`SqlCommand.Parameters.Add`对于其他数据类型：

```
cmd.Parameters.Add("@ParameterName", SqlDbType.Int, 5);
cmd.Parameters["@ParameterName"].Value = value; 
```

`SqlCommand.Parameters.AddWithValue``Add`替换了带字符串和对象参数的模棱两可的重载。有关详细信息，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparametercollection.addwithvalue.aspx)。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2017-07-14T12:59:35.660

对于其他人：我刚刚遇到同样的错误，因为我的参数之一为空。我们需要检查它，例如：

```
command.Parameters.AddWithValue("@phone", (object)phone?? DBNull.Value); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-01T05:12:04.020

您的 Insertion 存储过程是预期的`@Emp_no`（以及大约 15 个其他参数）。不传递参数就不能调用存储过程。

看看这个网站以供参考：

[http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparametercollection.addwithvalue.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-2](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparametercollection.addwithvalue.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-2)

在您定义变量的任何地方，请`Parameters.AddWithValue`改用：

```
cmd.Parameters.AddWithValue("@Emp_no ", Convert.ToInt32(txtbx_Empno.Text)); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-01T05:09:21.380

你需要使用这个：

```
cmd.Parameters.AddWithValue("@Emp_no", @Emp_no);
cmd.Parameters.AddWithValue("@Emp_name", @Emp_name);
cmd.Parameters.AddWithValue("@phone", @phone);
cmd.Parameters.AddWithValue("@Email", @Email);
cmd.Parameters.AddWithValue("@Password", @Password);
cmd.Parameters.AddWithValue("@Gender", @Gender);
cmd.Parameters.AddWithValue("@Dob", @Dob);
cmd.Parameters.AddWithValue("@Address", @Address);
cmd.Parameters.AddWithValue("@Designation", @Designation);
cmd.Parameters.AddWithValue("@Experience", @Experience);
cmd.Parameters.AddWithValue("@Salary", @Salary);
cmd.Parameters.AddWithValue("@Doj", @Doj); 
```

否则，它将为每个参数抛出该异常。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2018-06-19T18:51:12.757

这是可以做到的

```
using (var cmd = new SqlCommand("STORED_PROCEDURE_NAME", SqlConnection))
{
     cmd.CommandType = CommandType.StoredProcedure;
     cmd.Parameters.AddWithValue("@PARAM_NAME", PARAM_VALUE);
} 
```

请注意`AddWithValue`， 和`CommandType.StoredProcedure`两者都是必不可少的。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-02-15T16:14:06.553

“只有一个 Add 方法已过时，该方法接受参数名称的字符串和值的对象。正如您所指出的，对于这种情况，您应该调用 AddWithValue。”

[http://social.msdn.microsoft.com/Forums/en-US/15bb16a4-0cf1-4289-b677-3b9d98f09298/parametersaddwithvalue-output-parameter-in-adonet-2?forum=adodotnetdataproviders](http://social.msdn.microsoft.com/Forums/en-US/15bb16a4-0cf1-4289-b677-3b9d98f09298/parametersaddwithvalue-output-parameter-in-adonet-2?forum=adodotnetdataproviders)

并非所有 Parameter.Add 方法都已折旧。你想如何制作一个 OUTPUT 参数？您必须为此使用 Parameter.Add。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-04-12T12:52:21.633

这些天仍然存在相同的错误消息，涉及多个问题 - 我的问题是将空值传递给参数。答案是像这样进行空检查：

```
parameter.Value = (object)yourParamVal ?? DBNULL.Value; 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-07-07T02:30:33.603

避免参数集为 DBNull.value 的没有值的参数

# java - 无法找到带有标识符的组件的 Primefaces 数据表问题

> ID：14640095
> 
> 赞同：1
> 
> 时间：2013-02-01T05:07:17.837
> 
> 标签：java, html, primefaces

我的项目有以下错误。

严重：javax.faces.FacesException：找不到从“form_tab:tabView:form:tableList:loginButton”引用的标识符为“:form:messages”的组件。

这是我的 index.xhtml：

```
<h:form id="form_tab">  

    <p:growl id="growl" showDetail="true" />  

    <p:tabView id="tabView" dynamic="true">  

        <p:ajax event="tabChange" listener="#{tabBean.onTabChange}" update=":form_tab:growl"/>  

        <p:tab title="Godfather Part I" id="Godfather1">  
            <h:panelGrid columns="2" cellpadding="10">
           <h:form id="form" >
           <p:dashboard id="board" model="#{dashboardBean.model}">  

           <p:panel id="sports" header="Status" style="text-align: center; width: 1210px">

            <p:growl id="messages" showDetail="true"/>

            <p:dataTable id="tableList" var="table"   value="#{tableBean.table}"  editable="true" style="font-size: 10px; width: 500px" >

                <p:ajax event="rowEdit" listener="#{tableBean.onEdit}" update=":form:messages"  onstart="return myFunction()" />   
                <p:ajax event="rowEditCancel" listener="#{tableBean.onCancel}" update=":form:messages " oncomplete="javascript:location.reload(true)" onstart="return myFunction2();" />

                                           <p:column  headerText="ID" style="width:30px">
                                               <h:outputText value="#{table.ID}" style="font: medium "/>
                                           </p:column>

                                           <p:column headerText="name" style="width:200px">
                                               <p:cellEditor>
                                               <f:facet name="output">
                                                   <h:outputText value="#{table.name}" />
                                               </f:facet>
                                                   <f:facet name="input">
                                                       <p:inputText value="#{table.name}" style="width:200px"/>
                                               </f:facet>
                                               </p:cellEditor>
                                           </p:column>

                                           <p:column headerText="Date" style="width:100px">
                                               <p:cellEditor>
                                               <f:facet name="output">
                                                   <h:outputText value="#{table.initiateddate}" />
                                               </f:facet>
                                                    <f:facet name="input">
                                               <p:inputText value="#{table.initiateddate}" style="width:100px"/>
                                               </f:facet>
                                               </p:cellEditor>
                                           </p:column>

                                           <p:column headerText="Status">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.status}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.status}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column>

                                          <p:column headerText="TestingDoc">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.testingdoc}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.testingdoc}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column>
                                          <p:column headerText="TestingStartDate">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.teststartdate}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.teststartdate}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column>      
                                          <p:column headerText="ScheduledEndDate">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.scheduledenddate}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.scheduledenddate}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column>         
                                          <p:column headerText="TestStatue">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.teststatus}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.teststatus}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column>     
                                          <p:column headerText="Revised">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.revised}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.revised}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column>     
                                          <p:column headerText="Launch">
                                                <p:cellEditor>
                                               <f:facet name="output">
                                                       <h:outputText value="#{table.launch}" />
                                               </f:facet>
                                                     <f:facet name="input">
                                               <p:inputText value="#{table.launch}" style="width:100px"/>
                                               </f:facet>
                                                </p:cellEditor >
                                           </p:column> 

                                            <p:column headerText="TestStatus">
                                                <f:facet name="TestStatus">#{msgs.buttonHeader}</f:facet>
                                                     <h:outputLink value="http://localhost:8080/dashboardtables_4/faces/new.xhtml" >
                                                     <h:outputText value="#{table.egoname}" />
                                            <!--<h:commandButton value="{table.egoname}" />-->
                                                     <f:param name="route" value="#{table.egoname}" />
                                                     </h:outputLink>
                                            </p:column>

                                            <p:column headerText="LaunchStatus">
                                                <f:facet name="LaunchStatus">#{msgs.buttonHeader}</f:facet>
                                                    <h:outputLink value="http://localhost:8080/dashboardtables_4/faces/launch.xhtml" >
                                                    <h:outputText value="#{table.name}" />
                                            <!--<h:commandButton value="{table.name}" />-->
                                                    <f:param name="route" value="#{table.name}" />
                                                    </h:outputLink>
                                            </p:column>

                                           <p:column headerText="Options" style="width:50px">
                                               <p:rowEditor/>

                                           </p:column>

                                                   <f:facet name="footer" id="foot"> 

                                                       <h:panelGrid columns="8" cellpadding="5"   id="pane" >
                                                        <h:outputLabel  value="e_name" />
                                                        <p:inputText value="#{tableBean.e_name}"  id="ename" required="false" label="ename" />

                                                        <h:outputLabel value="initiate_date" />
                                                        <p:inputText value="#{tableBean.initiate_ddate}" id="initiatedate" required="false" label="initiatedate" />

                                                        <h:outputLabel value="agreement_status" />
                                                        <p:inputText value="#{tableBean.agreement_status}" id="agreementstatus" required="false" label="agreementstatus" />

                                                        <h:outputLabel value="testing_doc" />
                                                        <p:inputText value="#{tableBean.testing_doc}" id="testingdoc" required="false" label="testingdoc" />

                                                        <h:outputLabel value="teststart_date" />
                                                        <p:inputText value="#{tableBean.teststart_date}" id="teststartdate" required="false" label="teststartdate" />

                                                        <h:outputLabel value="scheduledend_date" />
                                                        <p:inputText value="#{tableBean.scheduledend_date}" id="scheduledenddate" required="false" label="scheduledenddate" />

                                                        <h:outputLabel value="test_status" />
                                                        <p:inputText value="#{tableBean.test_status}" id="teststatus" required="false" label="teststatus" />

                                                        <h:outputLabel value="revised_end" />
                                                        <p:inputText value="#{tableBean.revised_end}" id="revisedend" required="false" label="revisedend" />

                                                        <h:outputLabel value="launc_status" />
                                                        <p:inputText value="#{tableBean.launc_status}" id="launcstatus" required="false" label="launcstatus" />

                                                        <p:commandButton id="loginButton" value="AddNew" update=":form:messages" actionListener="#{tableBean.addNew}" oncomplete="javascript:location.reload(true)" onstart="return myFunction3();"/>
                                                        <p:commandButton type="reset" value="Clear" oncomplete="javascript:location.reload(true)"/>
                                                        </h:panelGrid>

                                            </f:facet>
                                       </p:dataTable>
            </p:panel>  

        </p:dashboard> 

        </h:form>

            </h:panelGrid>  
        </p:tab>  

        <p:tab title="Godfather Part II" id="Godfather2">  
            <h:panelGrid columns="2" cellpadding="10">  
                <p:graphicImage value="/images/godfather/godfather2.jpg" />  
                <h:outputText value=""/>  
            </h:panelGrid>  
        </p:tab>  

        <p:tab title="Godfather Part III" id="Godfather3">  
            <h:panelGrid columns="2" cellpadding="10">  
                <p:graphicImage value="/images/godfather/godfather3.jpg" />  
                <h:outputText value=""/>  
            </h:panelGrid>  
        </p:tab>  

    </p:tabView> 
```

这是什么原因？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:35:28.263

尝试`update="growl"`不使用任何表单 ID，它应该可以工作。如果您有任何问题，请告诉我。如果您想要为多个可以使用的组件进行 ajax 更新， `update="growl,secondid,thirdid"` 请托盘此代码并让我知道它是否有效？

```
<h:form id="form">  

<p:panel id="panel" header="New Person" style="margin-bottom:10px;">  
    <p:messages id="messages" />  
    <h:panelGrid columns="3">  
        <h:outputLabel for="firstname" value="Firstname: *" />  
        <p:inputText id="firstname"   
            value="#{pprBean.firstname}" required="true" label="Firstname">  
            <f:validateLength minimum="2" />  
        </p:inputText>  
        <p:message for="firstname" />  

        <h:outputLabel for="surname" value="Surname: *" />  
        <p:inputText id="surname"   
            value="#{pprBean.surname}" required="true" label="Surname"/>  
        <p:message for="surname" />  
    </h:panelGrid>  
</p:panel>  

<p:commandButton value="Ajax Submit" update="panel,display" id="ajax"  
         actionListener="#{pprBean.savePerson}" />  

<p:commandButton value="Non-Ajax Submit" actionListener="#{pprBean.savePerson}"   
        ajax="false" />  

<p:commandButton value="With Icon" actionListener="#{pprBean.savePerson}" id="withIcon"   
        update="panel,display" icon="ui-icon-disk" />  

<p:commandButton actionListener="#{pprBean.savePerson}" update="panel,display" id="iconOnly"  
        icon="ui-icon-disk" title="Icon Only"/>  

<p:commandButton value="Disabled" disabled="true" id="disabled" />  

<p:panel id="display" header="Information" style="margin-top:10px;">  
    <h:panelGrid columns="2">  
        <h:outputText value="Firstname: " />  
        <h:outputText value="#{pprBean.firstname}" />  

        <h:outputText value="Surname: " />  
        <h:outputText value="#{pprBean.surname}" />  
    </h:panelGrid>  
</p:panel> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-01T06:08:39.910

```
rubel/php.apk>woouej>?"{{$#R4or}oi4jji4r|<p:growl id="growl" showDetail="true" />  

<p:tabView id="tabView" dynamic="true">  

    <p:ajax event="tabChange" listener="#{tabBean.onTabChange}" update=":form_tab:growl"/>  

    <p:tab title="Godfather Part I" id="Godfather1">  
        <h:panelGrid columns="2" cellpadding="10">
       <h:form id="form" >
       <p:dashboard id="board" model="#{dashboardBean.model}">  

       <p:panel id="sports" header="Status" style="text-align: center; width: 1210px">

        <p:growl id="messages" showDetail="true"/>

        <p:dataTable id="tableList" var="table"   value="#{tableBean.table}"  editable="true" style="font-size: 10px; width: 500px" >

            <p:ajax event="rowEdit" listener="#{tableBean.onEdit}" update=":form:messages"  onstart="return myFunction()" />   
            <p:ajax event="rowEditCancel" listener="#{tableBean.onCancel}" update=":form:messages " oncomplete="javascript:location.reload(true)" onstart="return myFunction2();" />

                                       <p:column  headerText="ID" style="width:30px">
                                           <h:outputText value="#{table.ID}" style="font: medium "/>
                                       </p:column>

                                       <p:column headerText="name" style="width:200px">
                                           <p:cellEditor>
                                           <f:facet name="output">
                                               <h:outputText value="#{table.name}" />
                                           </f:facet>
                                               <f:facet name="input">
                                                   <p:inputText value="#{table.name}" style="width:200px"/>
                                           </f:facet>
                                           </p:cellEditor>
                                       </p:column>

                                       <p:column headerText="Date" style="width:100px">
                                           <p:cellEditor>
                                           <f:facet name="output">
                                               <h:outputText value="#{table.initiateddate}" />
                                           </f:facet>
                                                <f:facet name="input">
                                           <p:inputText value="#{table.initiateddate}" style="width:100px"/>
                                           </f:facet>
                                           </p:cellEditor>
                                       </p:column>

                                       <p:column headerText="Status">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.status}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.status}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column>

                                      <p:column headerText="TestingDoc">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.testingdoc}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.testingdoc}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column>
                                      <p:column headerText="TestingStartDate">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.teststartdate}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.teststartdate}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column>      
                                      <p:column headerText="ScheduledEndDate">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.scheduledenddate}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.scheduledenddate}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column>         
                                      <p:column headerText="TestStatue">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.teststatus}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.teststatus}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column>     
                                      <p:column headerText="Revised">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.revised}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.revised}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column>     
                                      <p:column headerText="Launch">
                                            <p:cellEditor>
                                           <f:facet name="output">
                                                   <h:outputText value="#{table.launch}" />
                                           </f:facet>
                                                 <f:facet name="input">
                                           <p:inputText value="#{table.launch}" style="width:100px"/>
                                           </f:facet>
                                            </p:cellEditor >
                                       </p:column> 

                                        <p:column headerText="TestStatus">
                                            <f:facet name="TestStatus">#{msgs.buttonHeader}</f:facet>
                                                 <h:outputLink value="http://localhost:8080/dashboardtables_4/faces/new.xhtml" >
                                                 <h:outputText value="#{table.egoname}" />
                                        <!--<h:commandButton value="{table.egoname}" />-->
                                                 <f:param name="route" value="#{table.egoname}" />
                                                 </h:outputLink>
                                        </p:column>

                                        <p:column headerText="LaunchStatus">
                                            <f:facet name="LaunchStatus">#{msgs.buttonHeader}</f:facet>
                                                <h:outputLink value="http://localhost:8080/dashboardtables_4/faces/launch.xhtml" >
                                                <h:outputText value="#{table.name}" />
                                        <!--<h:commandButton value="{table.name}" />-->
                                                <f:param name="route" value="#{table.name}" />
                                                </h:outputLink>
                                        </p:column>

                                       <p:column headerText="Options" style="width:50px">
                                           <p:rowEditor/>

                                       </p:column>

                                               <f:facet name="footer" id="foot"> 

                                                   <h:panelGrid columns="8" cellpadding="5"   id="pane" >
                                                    <h:outputLabel  value="e_name" />
                                                    <p:inputText value="#{tableBean.e_name}"  id="ename" required="false" label="ename" />

                                                    <h:outputLabel value="initiate_date" />
                                                    <p:inputText value="#{tableBean.initiate_ddate}" id="initiatedate" required="false" label="initiatedate" />

                                                    <h:outputLabel value="agreement_status" />
                                                    <p:inputText value="#{tableBean.agreement_status}" id="agreementstatus" required="false" label="agreementstatus" />

                                                    <h:outputLabel value="testing_doc" />
                                                    <p:inputText value="#{tableBean.testing_doc}" id="testingdoc" required="false" label="testingdoc" />

                                                    <h:outputLabel value="teststart_date" />
                                                    <p:inputText value="#{tableBean.teststart_date}" id="teststartdate" required="false" label="teststartdate" />

                                                    <h:outputLabel value="scheduledend_date" />
                                                    <p:inputText value="#{tableBean.scheduledend_date}" id="scheduledenddate" required="false" label="scheduledenddate" />

                                                    <h:outputLabel value="test_status" />
                                                    <p:inputText value="#{tableBean.test_status}" id="teststatus" required="false" label="teststatus" />

                                                    <h:outputLabel value="revised_end" />
                                                    <p:inputText value="#{tableBean.revised_end}" id="revisedend" required="false" label="revisedend" />

                                                    <h:outputLabel value="launc_status" />
                                                    <p:inputText value="#{tableBean.launc_status}" id="launcstatus" required="false" label="launcstatus" />

                                                    <p:commandButton id="loginButton" value="AddNew" update=":form:messages" actionListener="#{tableBean.addNew}" oncomplete="javascript:location.reload(true)" onstart="return myFunction3();"/>
                                                    <p:commandButton type="reset" value="Clear" oncomplete="javascript:location.reload(true)"/>
                                                    </h:panelGrid>

                                        </f:facet>
                                   </p:dataTable>
        </p:panel>  

    </p:dashboard> 

    </h:form>

        </h:panelGrid>  
    </p:tab>  

    <p:tab title="Godfather Part II" id="Godfather2">  
        <h:panelGrid columns="2" cellpadding="10">  
            <p:graphicImage value="/images/godfather/godfather2.jpg" />  
            <h:outputText value=""/>  
        </h:panelGrid>  
    </p:tab>  

    <p:tab title="Godfather Part III" id="Godfather3">  
        <h:panelGrid columns="2" cellpadding="10">  
            <p:graphicImage value="/images/godfather/godfather3.jpg" />  
            <h:outputText value=""/>  
        </h:panelGrid>  
    </p:tab>  

</p:tabView> 
```

[rubelx2.webs.com](http://rubelx2.webs.com)

# c# - DataContractJsonSerializer 日期序列化

> ID：14640096
> 
> 赞同：4
> 
> 时间：2013-02-01T05:07:21.027
> 
> 标签：c#, openrasta

有没有办法改变 DataContractJsonSerializer 序列化日期的方式？

目前，它将日期转换为：

{“日期”：“/日期（1260597600000-0600）/”}

我想将其转换为人类可读的日期格式。

我正在使用 openrasta 框架构建一个 RestApi。我可以编写 OperationInterceptors，它会在序列化/反序列化之前的某个阶段将 JSON 日期时间格式转换为人类可读的格式吗？或者还有其他方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-07-05T05:23:13.317

使用 DataContractJsonSerializer 构造函数传递您的序列化设置：

```
 var s = new DataContractJsonSerializer(
            typeof(YourTypeToSerialize),
            new DataContractJsonSerializerSettings
            {
                DateTimeFormat = new DateTimeFormat("yyyy-MM-dd'T'HH:mm:ss")
            }
        ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-14T11:28:24.583

最后我处理了这个问题如下（c＃）

```
 [DataMember]
    public string Date { get; set; }

    [IgnoreDataMember]
    public DateTime? DateForInternalUse { get; set; }

    [OnSerializing]
    public void OnSerializing(StreamingContext context)
    {
      Date = (DateForInternalUse != null) ? ((DateTime)DateForInternalUse).ToString(DateTimeFormatForSerialization) : null;
    }

    [OnDeserialized]
    public void OnDeserialized(StreamingContext context)
    {
      try
      {
        DateForInternalUse = !String.IsNullOrEmpty(Date) ? DateTime.ParseExact(Date, DateTimeFormats, null, DateTimeStyles.None) : (DateTime?)null;
      }
      catch (FormatException)
      {
        DateForInternalUse = null;
      }
    } 
```

在这种情况下，我们可以指定我们想要支持的格式，我保存在 web.config 中

```
<add key="DateTimePattern" value="yyyy-MM-dd,yyyy-MM-dd hh:mm:ss zzz,yyyy-MM-dd hh:mm:ss" /> 
```

让我知道进一步澄清。

# sql - 比较 MS 访问表中的行

> ID：14640098
> 
> 赞同：1
> 
> 时间：2013-02-01T05:07:27.020
> 
> 标签：sql, ms-access, duplicates, subquery, ms-access-2007

我在这两个表中有这样的值。我想检查 TableA 和 TableB 中的重复项

```
 TABLEA
    StaffName   Shift   Hrs
    ABC           1      12
    DEF                  23
    XYZ           2          

    TABLEB
    StaffN       Sft   Hrs
    ABC           1      12
    DEF                  23
    XYZ           2 
```

但是，当我做一个

```
 SELECT * FROM TABLEA 
  WHERE NOT EXISTS 
  (SELECT * FROM TABLEB.StaffN = TABLEA.StaffName AND
  TABLEB.Sft = TABLEA.Shift AND
  TABLEB.Hrs = TABLEA.Hrs); 
```

为什么我会返回 DEF 和 XYZ？是因为空值吗？以及如何更改我的选择语句以检查两个值是否为空，是否相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:49:24.453

您可以将您的 where 标准包装在`NZ`函数周围，看看是否有帮助，例如：

```
NZ(TABLEB.Hrs,0) = NZ(TABLEA.Hrs,0) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:50:12.487

是的，你怀疑 Null 是对的。

考虑“DEF”行中的 3 个值：DEF；空值; 23\. 人们可能会说这些行是重复的，因为两个表中的所有 3 个值都相同。

但是，子查询要求数据库引擎考虑是否`TABLEB.Sft = TABLEA.Shift`. 还有一个问题……一个 Null 永远不可能等于任何东西，甚至另一个 Null 也不可能。

看看这个立即窗口会话是否澄清了情况。

```
? 1 = 1
True
? 1 = 2
False
? 1 = Null
Null
? Null = Null
Null 
```

因此，当两个字段都为 Null 时，比较`TABLEB.Sft = TABLEA.Shift`被评估为 Null。db 引擎将仅包含比较为 的行`True`，因此排除了那些“DEF”行。同样的逻辑解释了为什么“XYZ”行被排除在外。

您需要一个比较，它`True`在两者都为 Null 时返回，并且`TABLEB.Sft`在两者都包含相同的非 Null 值时返回。 `TABLEA.Shift``True`

```
(TABLEB.Sft Is Null AND TABLEA.Shift Is Null)
OR
(TABLEB.Sft = TABLEA.Shift) 
```

试试这个查询：

```
SELECT *
FROM
    TABLEA AS a
    INNER JOIN TABLEB AS b
    ON a.StaffName = b.StaffN
WHERE
    (
        (a.Shift Is Null AND b.Sft Is Null)
        OR
        (a.Shift = b.Sft)
    )
    AND
    (
        (a.Hrs Is Null AND b.Hrs Is Null)
        OR
        (a.Hrs = b.Hrs)
    ); 
```

# jquery - 自定义 wordpress 垂直手风琴菜单

> ID：14640101
> 
> 赞同：0
> 
> 时间：2013-02-01T05:07:34.540
> 
> 标签：jquery, wordpress, menu, accordion

我有一个 wordpress 网站，我正在尝试创建一个自定义菜单。我需要它做的是，如果它有一个子“ul”，则将父级视为“手风琴头”，目前它可以工作，但最多 2 个级别，如果超过 2 个，则隐藏其余的。有什么帮助吗？

HTML：

```
<ul id="menu-interno" class="menu">
<li id="menu-item-629" class=""><a href="#">Home</a></li>
<li id="menu-item-635" class=""><a href="http://#">Mujeres</a>
    <ul class="sub-menu">
    <li id="menu-item-636" class=""><a href="#">Xiomi</a>
    <ul class="sub-menu">
        <li id="menu-item-637" class="">
        <a href="#">Xiomi &#8211; Pink Candy</a>
        </li>
        <li id="menu-item-638">
            <a href="#">Xiomi &#8211; Electric City</a>
        </li>
        <li id="menu-item-639">
        <a href="#">Xiomi &#8211; Cupcake Girl</a>
        </li>
    </ul>
</li>
</ul>
</li>
</ul> 
```

CSS：

```
#menu-interno{
float: left;
width: 280px;
/*border-top: 1px solid #999;
border-right: 1px solid #999;
border-left: 1px solid #999;*/
}
#menu-interno li a {
  font-size: 14px;
  font-weight: bold;
  text-transform: uppercase;
  text-decoration: none;
  color:#000 !important;
}
#menu-interno li ul {
  display: none; // used to hide sub-menus
  margin: 4px 0 15px;
}
#menu-interno li ul li a {
  font-size: 11px;
  font-weight: normal;
  color:#000 !important;
} 
```

查询：

```
$(document).ready(function () {

   $('#menu-interno > li > a').click(function(){
     if ($(this).attr('class') != 'active'){
       $('#menu-interno li ul').slideUp();
       $(this).next().slideToggle();
       $('#menu-interno li a').removeClass('active');
       $(this).addClass('active');
     }
   });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:46:58.783

不要使用 ul li 作为选择器，使用不同的类。

# java - JFileChooser 没有出现

> ID：14640103
> 
> 赞同：3
> 
> 时间：2013-02-01T05:07:52.717
> 
> 标签：java, swing, user-interface, jfilechooser

我有一个将`txt`文件作为输入的方法。我曾经通过键入文件的直接路径来使用字符串。但是每当我尝试使用不同的文件进行输入时，它就变得很麻烦。我尝试实施`JFileChooser`但没有运气。

这是代码，但什么也没发生。

```
public static JFileChooser choose;
File directory = new File("B:\\");
choose = new JFileChooser(directory);
choose.setVisible(true);        
File openFile = choose.getSelectedFile();

FileReader fR = new FileReader(openFile);
BufferedReader br = new BufferedReader(fR); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T05:13:49.177

根据有关[如何使用文件选择器的](http://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)Java 教程：

> 调出标准的打开对话框只需要两行代码：

```
//Create a file chooser
final JFileChooser fc = new JFileChooser();
...
//In response to a button click:
int returnVal = fc.showOpenDialog(aComponent); 
```

> showOpenDialog 方法的参数指定对话框的父组件。父组件影响对话框的位置和对话框所依赖的框架。

请注意[，根据文档](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFileChooser.html#showOpenDialog%28java.awt.Component%29)，它也可以是：

```
int returnVal = fc.showOpenDialog(null); 
```

> 如果 parent 为 null，则对话框不依赖于可见窗口，并且它被放置在与外观相关的位置，例如屏幕中心。

如果您还没有，  也可以阅读[Swing 中的并发。](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-09-23T14:43:01.860

没有阻塞代码（正如 David Kroukamp 建议的那样）。它解决了“不显示”的问题。

```
Runnable r = new Runnable() {

@Override
public void run() {
    JFileChooser jfc = new JFileChooser();
    jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
    if( jfc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION ){
        selected = jfc.getSelectedFile();
    }
}
}
SwingUtilities.invokeLater(r); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-07-12T11:30:41.260

我个人发现第一个对话框会显示，但后续对话框不会显示。我通过使用此代码重用相同的 JFileChooser 来修复它。

```
JFileChooser jfc = new JFileChooser();
File jar = selectFile(jfc, "Select jar to append to");
File append = selectFile(jfc, "Select file to append");

//When done, remove the window
jfc.setVisible(false);

public static File selectFile(JFileChooser jfc, String msg) {
    if (!jfc.isVisible()) {
        jfc.setVisible(true);
        jfc.requestFocus();
    }

    int returncode = jfc.showDialog(null, msg);
    if (returncode == JFileChooser.APPROVE_OPTION) return jfc.getSelectedFile();
    return null;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T05:18:56.107

对于`JFileChoosers`，您应该调用`objectName.showOpenDialog(Component parent)`或`objectName.showOpenDialog(Component parent)`。这些方法将返回一个整数，您可以使用该整数与 JFileChooser 中设置的静态常量进行比较，以确定用户是单击取消还是打开/保存。然后，您可以使用`getSelectedFile()`来检索用户选择的文件。

例如（可能有小错误）：

```
class Example {
    public static void main(String[] args) {
        JFileChooser jfc = new JFileChooser();
        File selected;

        if (jfc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {
            selected = jfc.getSelectedFile();
        }
    }
} 
```

Java API 是一个很好的资源，可以用来确定哪些对象可以做什么以及如何做。这是页面[`JFileChoosers`](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/JFileChooser.html)

当您搜索对象名称时，通常会找到 API 页面。他们通常也是第一个出现的结果。

# javascript - jQuery空字段验证

> ID：14640104
> 
> 赞同：0
> 
> 时间：2013-02-01T05:07:57.647
> 
> 标签：javascript, jquery, forms

当我提交带有空字段的表单时，我会在对话框中收到成功消息。相反，我想在对话框中显示错误消息。请帮助我找到解决方案。

我的html代码：

```
<form id="booking" action="" method="post">
  First Name:<input type="text" id="firstName" name="firstName" maxlength="30" /><br/>
  Last Name:<input type="text" id="lastName" name="lastName" maxlength="30"/><br/>
  Contact:<input type="text" id="contact" name="contact" maxlength="15"/><br/>
  Email: <input type="text" id="email" name="email" maxlength="30"/><br/>
  <input id="save" type="button" value="Save" />
  </form>
  <div id="dialog"></div> 
```

jQuery代码：

```
 $('#save').click(function(){
    if(('#firstName').length==0 && ('#lastName').length==0 && ('#contact').length==0 &&   ('#email').length==0){
     $('#dialog').attr('title','Error').text('All fields are required').dialog();
     }else{
     $('#dialog').attr('title','Success').text('Success').dialog();
     }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:18:28.967

`('#firstName')`-> 如果你使用 jQuery，这应该是`$('#firstName')`

此条件将始终返回 false ： `('#firstName').length==0 && ('#lastName').length==0 && ('#contact').length==0 && ('#email').length==0`

获取输入类型文本的值长度：

```
$('#firstName).val().length 
```

**更新：**

试试这个：

```
$('#save').click(function(){
    if($('#firstName').val().length==0 && $('#lastName').val().length==0 && $('#contact').val().length==0 &&   $('#email').val().length==0){
     $('#dialog').text('All fields are required').dialog({title:'Error'});
    } else{
     $('#dialog').text('Success').dialog({title:'Success'});
    }
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:10:45.047

试试这个，

```
$('#save').click(function(){
    if($('#firstName').val()=="" || $('#lastName').val()=="" || $('#contact').val()=="" ||   $('#email').val()==""){
     $('#dialog').attr('title','Error').text('All fields are required').dialog();
     }else{
     $('#dialog').attr('title','Success').text('Success').dialog();
     }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:11:38.230

它应该在您的 if 条件中为 OR，`||`您可以使用它`[val()][1]`来获取所选元素的值并检查它是否为空。

**你错过`$`了你的jQuery选择器**

```
if(('#firstName').val()==""
---^--- //here missing $ 
```

试试这个

```
$('#save').click(function(){
  if($('#firstName').val()=='' || $('#lastName').val()=='' || $('#contact').val()=='' ||  $('#email').val==''){
     $('#dialog').attr('title','Error').text('All fields are required').dialog();
  }else{
    $('#dialog').attr('title','Success').text('Success').dialog();
  }
}); 
```

# jquery - 不区分大小写的包含

> ID：14640107
> 
> 赞同：0
> 
> 时间：2013-02-01T05:08:12.750
> 
> 标签：jquery, contains

> **可能重复：**
> [是否有不区分大小写的 jQuery :contains 选择器？](https://stackoverflow.com/questions/187537/is-there-a-case-insensitive-jquery-contains-selector)

我试图在网上到处寻找以`contains`不区分大小写的方式使用 jQuery 选择器的方法，但我真的找不到任何与最新版本的 jQuery 一起实际运行的方法。

非常感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:13:01.307

这是一个自定义实现：

```
$.expr[':'].icontains = $.expr.createPseudo(function( text ) {
    text = text.toLowerCase();
    return function (el) {
        return ~$.text(el).toLowerCase().indexOf( text );
    }
}); 
```

像这样使用它：

```
$(':icontains(SoMeThInG)'); 
```

* * *

这是小提琴：http: [//jsfiddle.net/CTg86/](http://jsfiddle.net/CTg86/)

# javascript - 浏览器如何处理源代码中的 CSS 颜色名称

> ID：14640108
> 
> 赞同：0
> 
> 时间：2013-02-01T05:08:20.530
> 
> 标签：javascript, css

在将复杂的 CSS 颜色名称应用于 DOM 元素时，有没有办法覆盖 javascript 如何将复杂的 CSS 颜色名称转换为 rgb 值。

例如：`document.getElementById("colorMe").style.background = "lightblue"` 将`div.style`对象设置为背景 = `rgb(...)`。

但是， `document.getElementById("colorMe").style.background = "blue"`会将`div.style`对象设置为背景 = `blue`。

我想绕过 javascript 如何将该颜色转换为**复杂颜色名称**的 RGB 值。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:41:04.843

CSS 颜色的标准化格式用于`rgb(R,G,B)`不透明颜色和半透明颜色`rgba(R,G,B,A)`。无论您提供什么作为输入，它都会转换为其中一种格式作为输出，您无能为力。

但是，您可以将名称保存在其他位置，如下所示：

```
elem.setAttribute("data-color",elem.style.color = "lightblue"); 
```

然后就得到`elem.getAttribute("data-color")`，你有你的`lightblue`意见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:46:13.137

有一个标准叫做 webcolors...

[http://en.wikipedia.org/wiki/Web_colors](http://en.wikipedia.org/wiki/Web_colors)

当您的浏览器读取 lightblue 时，它​​只会将其转换为 173 216 230。

# ios - UIImagePickerController 未计入内存已保存

> ID：14640112
> 
> 赞同：4
> 
> 时间：2013-02-01T05:08:46.497
> 
> 标签：ios, objective-c, cocoa-touch, uikit

我允许用户从他/她的库中挑选视频。当照片库打开时，如果我要查看设置->常规->使用情况，似乎会在文档和数据中添加大约 1.5Mb。用户选择视频并对其进行压缩后，文档和数据中总共会添加大约 4.5Mb。我的问题是这个数据/内存似乎永远不会释放。这一切都是在完成任何类型的保存之前添加的。所以文件和数据使用量不断增加，我不知道为什么。我很确定一切都被释放了。

```
- (void)viewDidAppear:(BOOL)animated
 {
//[super viewDidAppear:animated];
      if (IsFirstCall) {

          UIImagePickerController *uploadPick = [[[UIImagePickerController alloc] init] autorelease] ;
          uploadPick.delegate = self;
          uploadPick.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
          uploadPick.mediaTypes = [[[NSArray alloc] initWithObjects:(NSString *) kUTTypeMovie, nil] autorelease];   

         [self presentViewController:uploadPick animated:YES completion:nil];
         //[uploadPick release];
    }
} 
```

任何帮助是极大的赞赏。我认为不可能在实际手机上使用文件管理器工具，它似乎只适用于模拟器。我花了很多时间试图弄清楚为什么会这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T22:58:22.867

A possibility of what is happening here is actually temporary files being saved. You mention that compressing the video seems to trigger this increase in space.

There's two ways that you could confirm this by one of two methods. By restarting the device you're testing on. Temporary items will get cleared away by the system either when additional space is required, or when the system shuts down.

The other method (and probably more informative) is to investigate the Application through the Xcode organiser. You can do this by selecting the Application on the device and browsing the Applications directory structure. Each application gets 3 directories, /Documents, /Library and /tmp.

For intensive operations, that may require the use of a lot of memory, certain libraries will save completed data out to disk, in order to free up memory. Once the operation is completed it will then pass you back a block of data that either references the data in the temporary file, or has the completed data loaded back into memory. This process is completely transparent to the user and developer, and takes advantage of the large amount of flash memory, rather than relying completely on the comparatively limited RAM.

In the event that it is not a temporary file, but rather something sitting within the Documents folder of the Application (or even the library), it could be useful to download it to your computer and attempt to investigate its contents, as it may give you some clues as to what is happening.

Hope this helps

Edited a point for clarity

# c# - 我为什么要指定 在方法 () ? 以及如何使用它？

> ID：14640114
> 
> 赞同：3
> 
> 时间：2013-02-01T05:08:47.533
> 
> 标签：c#, linq, generics, types, extension-methods

考虑到下面的应用程序代码，有 3 个重载的扩展方法执行相同的操作以及具有相同的输入和输出：

*   使用和调用和定义方法的参数有什么好处（或区别）？
*   为什么要使用它们（如果没有它们的相同方法 3 将被调用并执行相同操作）？
*   或者如何在方法中手动/显式使用它们（此类信息）？

代码：

```
namespace LINQ_CreatingYourFirstExtensionMethod   
{
  internal class Program  
  {
    private static void Main(string[] args)  
    {
      string[] aBunchOfWords = {"One", "Two", "Hello", "World", "Four", "Five"};  
      var iEnuResult =  from s in aBunchOfWords   
                        where s.Length == 5  
                        select s;
      iEnuResult.Write();  
      iEnuResult.Write<string>();
      iEnuResult.Write<object>();//same effect as above line
      Console.ReadKey();
    }  
  }  
} 
```

重载的扩展方法 Write()：

```
namespace LINQ_CreatingYourFirstExtensionMethod  
{  
   public static class Utils  
   {
     public static void Write(this IEnumerable<object> source) //****1 
     //public static void Write(this IEnumerable<string> source)//same effects as above line  
     {
       foreach (var item in source)  
       {
         Console.WriteLine(item);
       }
     }

    public static void Write<T>(this IEnumerable<T> source)//****2
    {
      foreach (var item in source)
      {
        Console.WriteLine(item);
      }
    }

    public static void Write(this IEnumerable source)//******3
    {
      foreach (var item in source)
      {
        Console.WriteLine(item);
      }
    }
  }
} 
```

**更新：**
你能给我任何最简单的说明为什么我需要

1.  使用调用方法`<Type>`
2.  定义一个方法使用 `<Type>`

如果没有它我可以做同样的事情吗？

**更新2：**
我没有立即写它，因为我认为从问题的上下文中很明显。

在当前代码中：

*   `iEnuResult.Write();`调用
    进入第一个方法：public
    static void Write(this IEnumerable source) // *** *1
*   iEnuResult.Write(); (或 iEnuResult.Write();) 调用
    进入第二个方法：public static void Write1(this IEnumerable source)// ***** *2

如果要注释掉

```
public static void Write1<T>(this IEnumerable<T> source)//*****2 
```

然后

```
iEnuResult.Write1<object>(); 
```

无法制作（仅`iEnuResult.Write();`）

如果同时评论第一种和第二种方法，则调用 3d 方法

```
iEnuResult.Write(); 
```

因此，可以`<Type>`在调用（调用）中调用带有和不带有 a 的“相同”方法，以及带有和不带有 a 的方法定义`<Type>`。

有多种组合（我会说几十种）可以做看似相同的事情，我看不出有太多理由。
所以，我想了解这种差异存在的目的是什么，如果有的话

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-03T15:29:18.047

专注于您的两个问题：

1.  为什么调用方法使用`<Type>`
2.  为什么定义一个方法使用`<Type>`

先说第二**个问题**。让我换个说法：我什么时候定义一个*泛型*方法？

当方法针对*多种*类型但*一次只针对一种*类型时，您将定义一个泛型方法。有两个很大的优点：

*   它确保（编译时）类型安全：`IEnumerable<string>`实际上只包含字符串，而不是奇数或其他任何东西。

*   这是一种无需装箱和拆箱即可使用类型的方法（即`object`分别将值类型转换为 和从 ）。正如[这里](http://msdn.microsoft.com/en-us/library/ms379564%28v=vs.80%29.aspx)所说：

    > 装箱和拆箱本身会导致显着的性能损失，但它也增加了托管堆的压力，导致更多的垃圾收集，这对性能不利。

如果您只有无类型方法 (3)，则在`IEnumerable`枚举无类型时 ( `IEnumerator.Current`returns `Object`) 将每个字符串装箱并再次取消装箱以调用特定于类型的`ToString()`方法。源列表可以包含*任何内容*（这在此处无关紧要，但它经常这样做）。

通用方法 (2) 跳过装箱和拆箱，并且是类型安全的。

第一种方法强制将任何输入参数（显式或隐式）转换为`IEnumerable<object>`. 再次，将发生装箱和拆箱。但另一个令人讨厌的事情是，并不总是有可用的隐式转换，这迫使方法的使用者在调用它之前显式地进行转换。其效果可以通过更改`select s`为来说明`select s.Length`。如果只有方法 1 可用，您将获得

> 实例参数：无法转换`'System.Collections.Generic.IEnumerable<int>'`为`'System.Collections.Generic.IEnumerable<object>'`

我认为一般的经验法则是避免使用类型`object`（或`IEnumerable<object>`等）的方法参数，除非没有其他选择。

简而言之：您的第二种方法是这里的最佳选择，因为它执行任何类型的任务，但避免装箱和拆箱。

现在你的**第一个问题**。什么时候需要在方法调用中指定泛型类型参数？我能想到三个原因（可能还有更多）：

1.  当没有`T`编译器可以推断泛型类型的类型的方法参数时。工厂方法通常属于此类。方法 like`T Create<T>()`必须由 eg 调用`Create<Customer>()`。构造函数是另一个例子：没有指定类型甚至不能调用泛型构造函数。
2.  当您想要强制使用特定的方法重载时。当继承类型混合了泛型和非泛型方法重载时，可能会发生这种情况。（顺便说一句，这不是良好设计的标志）。
3.  间接地当类型在编译时不知道但仅在执行时。请参阅[C# 中的泛型，使用变量的类型作为参数](https://stackoverflow.com/q/2107845/861716)。

# objective-c - 在游戏中的多个阶段重用层

> ID：14640118
> 
> 赞同：0
> 
> 时间：2013-02-01T05:09:06.770
> 
> 标签：objective-c, cocos2d-iphone

我正在尝试创建一个具有多个级别的游戏（目前为 10 个）。我为每个级别创建一个类，但是如果要添加更多级别，这将非常非常乏味。我的问题是，我怎样才能重用一个层/类来拥有游戏的所有级别？每个级别的唯一区别是目标的数量和目标的位置。除此之外，一切都差不多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:14:01.883

创建一个名为 LevelLayer 之类的类，它实现了其中一个级别的所有逻辑。现在，创建一个名为 Level1Layer 的新类，它实现了 LevelLayer。

现在逐步将特定于 level1 的代码从 LevelLayer 移动到 Level1Layer，直到 LevelLayer 只包含对所有级别有用的代码。

现在创建一个继承自 LevelLayer 的 Level2Layer。请注意，这个级别的大部分代码突然已经完成，可以通过基类 (LevelLayer) 上的方法调用。

通过迭代地执行此操作，您最终会得到一个基类 (LevelLayer)，它整合了与通用级别有关的所有代码，每个级别的特定代码被划分在与特定级别相对应的类中。

请注意，一段时间后，您应该已经达到这样一个点，即 level1 和 level2 都需要的代码在 LevelLayer 中，*只有*level1 需要的代码和数据在 Level1Layer 中，*只有*level2 需要的代码在 Level2Layer 中。

一段时间后，您可能会发现所有级别仅因特定数据项（例如包含地图的 int 数组）而有所不同。在这种情况下，您可能希望创建一个通过实现 LevelLayer 的构造函数获取此数据项的类（或从文件中反序列化，文件的路径提供给构造函数）。

此时，您将能够将大部分时间用于编辑数据文件（“级别”文件）而不是代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:15:24.283

我不知道 cocos2d 是什么，但通常在这种情况下，您会想要创建一个名为 LevelMap 之类的通用类，然后使该类可配置。对于游戏中的每个关卡，您都创建了该类的一个新实例，然后在代码中对其进行配置，或者让该类读取某种配置文件（想到 XML）来定义关卡的外观.

例如，您可以将 GameObjects 的二维数组传递给 LevelMap 的构造函数，然后让 LevelMap 将这些 GameObjects 集成到自身中作为布局，数组中的 [0,0] 位置位于左上角，[array.xLength - 1, array.YLength - 1] 是地图的右下角。或者你决定的任何约定。只要您选择在概念上熟悉的东西并始终如一地使用它，这真的没关系。

您可以通过创建以相同方式布置关卡的结构化文档来对 XML 做同样的事情，告诉类将所有目标放在哪里。

# android - 如何删除 Android EditText 光标指示器？

> ID：14640119
> 
> 赞同：1
> 
> 时间：2013-02-01T05:09:11.683
> 
> 标签：android, cursor, android-edittext

当我在视图上添加多行 EditText 时，

光标下方有一个光标指示器，看起来像一个蓝色和大滑块，可帮助用户找到光标位置。

它似乎只出现在多行 EditText 上。

我想从我的 EditText 中删除此指示器，以使 EditText 具有一个简单而细的条形光标。

请查看下面的蓝色光标指示器并告诉我。谢谢你。

[http://liuzhichao.com/wp-content/uploads/2012/06/20120602133745.png](http://liuzhichao.com/wp-content/uploads/2012/06/20120602133745.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:14:28.580

您可以使用`android:cursorVisible="false"`

或者

也有可用的 Java 函数：`setCursorVisible(false)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-31T09:06:27.573

对edittext的以下属性使用空图像。

```
 android:textSelectHandle="@drawable/empty_button" 
```

# git - Git，在给定源代码的情况下，如何找到提交号？

> ID：14640125
> 
> 赞同：0
> 
> 时间：2013-02-01T05:09:23.567
> 
> 标签：git, commit

我知道在文件 foo.cpp 今年已添加了以下行

```
if(engL.showPrompt()>engL.lessPrompt())
     executeScript(); 
```

如何找到推动此更改的提交？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:10:57.977

`git blame foo.cpp`将逐行显示最后一个对该行做出贡献的提交。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T05:32:20.053

如果更改不在最后一次提交中，您可以使用

```
git log -S"if(engL.showPrompt()>engL.lessPrompt()) executeScript()" -- path/to/file 
```

# c++ - g ++中链接错误“未定义的引用”时丢失了什么

> ID：14640127
> 
> 赞同：-2
> 
> 时间：2013-02-01T05:09:28.560
> 
> 标签：c++, gcc

> **可能重复：**
> [什么是未定义的引用/未解决的外部符号错误，我该如何解决？](https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix)

虽然 g++ 报告“错误：未定义对 'Log::flush()' 的引用”，这意味着我丢失了定义类 Log 的成员函数 flush 的源代码，如下所示：

```
class Log{   
   ... ...   
   int flush();   
   ... ... 
}; 
```

但是如果g++报“error: undefined reference to 'Log::outFile'”，丢失了什么？没有`()`所以这不是一个函数，那么为什么有什么需要定义的呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:11:20.660

[好吧，这不是*GCC 诊断输出危险*中的有趣练习吗！]

* * *

> 但是如果g++报“error: undefined reference to 'Log::outFile'”，丢失了什么？

`Log`很可能，被调用的静态数据成员的定义`outFile`。

猜测：

```
class Log
{
   int flush();
   // ... more functions ...

   static std::string outFile;
   // ... more data ...
}; 
```

你需要写：

```
std::string Log::outFile; 
```

恰好在一个翻译单元中；将它放在一个`.cpp`文件中，可能是您在其中放置`Log::flush()`.

# android - 如何创建一个计时器和后台服务，每 5 分钟调用一次获取位置（）（纬度和经度）

> ID：14640130
> 
> 赞同：0
> 
> 时间：2013-02-01T05:10:05.340
> 
> 标签：android

> **可能重复：**
> [如何以每 1 分钟的时间间隔获取当前位置？](https://stackoverflow.com/questions/7592569/how-to-fetch-the-current-location-in-every-1-min-of-interval)

iam 在工作位置类和另一个 sendms 类上创建

现在我需要在定时器的帮助下创建后台服务，以每 5 分钟后发送短信当前位置

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T07:53:22.980

为什么你不能对你的问题做一些研究。为这样一个简单的问题获得解决方案非常简单。

不要多次问同一个问题

[每5分钟后如何获取位置？](https://stackoverflow.com/questions/14640967/how-to-get-location-after-every-5-minute).

无论如何，如果您无法找到它，我可以最好地帮助我的水平

只是您有以下方法可以做到这一点，

1.  通过后台运行`Service`。

    *   创建一个`Service`注册`Location Listener`.
    *   创建一个`alarm`, 当`Service`被调用并设置你的`alarm time frequency`.

    *   创建一个`Broadcast Receiver`用于接收您的`alarm intent`.

    *   获取位置后，`unregister`您的`Location Listener`.
    *   当你觉得，没有必要去取位置然后停下来`Service`。

示例代码将非常冗长，因此您可以轻松获得网络跟踪示例，

*   创建一个`Service`
*   创建一个`alramIntent`和`register``BroadCast Receiver`
*   创建一个`BroadCast Receiver`和`register`它与一个`alarm Action.`
*   实施`Location Listener`.

    2.  通过`Timer`与`Runnable Thread`,
*   创建一个`Timer`.

*   `Schedule``Timer`with`TimerTask` `run`方法。您也可以安排初始启动持续时间和定期间隔呼叫时间延迟。
*   `Runnable interface`在预定时间发生时调用。
*   确保`Runnable Interface`运行`UI Thread`通过`this.runOnUIThread(your_runnable_interface)`
*   在`Runnable run()`方法中，注册您`LocationListener`的更新
*   然后做`unregiste`r in`onLocationChanged()`处理完您的新内容后执行`location.`
*   当你觉得，没必要`receive location`再`cancel`了`Timer`。

这是一个`Timer`使用示例，

```
//Declared Globally in class
Timer timer;
//Timer follows here

timer = new Timer();
timer.schedule(new TimerTask() {            
@Override
public void run() {
callRunnableMethod();
}
},Set your initial start time, Set your time delay for interval);

//callRunnableMethod() goes here

private void callRunnableMethod()
{
//This method is called directly by the timer
//and runs in the same thread as the timer.
//We call the method that will work with the UI
//through the runOnUiThread method.

context or this .runOnUiThread(Location_Runnable);
}

//Location_Runnable goes here

private Runnable Location_Runnable = new Runnable() {
public void run() {
//This method runs in the same thread as the UI.               
//Do something to the UI thread here

Just start calling or request for updates with your location listener here.
}
};

//Once you decided to stop the periodic location fetching then do cancel your timer,

timer.cancel(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:48:40.380

使用 LocationListener 并请求位置更新，详见此处以获取位置更新。我认为您需要一个上下文来执行此操作，但我希望本关于位置更新的教程会有所帮助。

[http://www.vogella.com/articles/AndroidLocationAPI/article.html](http://www.vogella.com/articles/AndroidLocationAPI/article.html)

# android - 崩溃并发修改

> ID：14640132
> 
> 赞同：1
> 
> 时间：2013-02-01T05:10:16.027
> 
> 标签：android

我的模拟器偶尔会崩溃，但现在从来没有在我正在测试的平板电脑上。

```
java.util.ConcurrentModificationException                                            
at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:346)      
at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:375)                
at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:373)                
at java.util.HashMap.writeObject(HashMap.java:1024)                                  
at java.lang.reflect.Method.invokeNative(Native Method)                              
at java.lang.reflect.Method.invoke(Method.java:521)                                  
at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1229)           
at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1215)           
at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1587)           
at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1859)      
at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1701)              
at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1665)              
at java.io.ObjectOutputStream.writeFieldValues(ObjectOutputStream.java:1153)         
at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:420)        
at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1251)           
at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1587)           
at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1859)      
at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1701)              
at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1665)              
at android.os.Parcel.writeSerializable(Parcel.java:1155)                             
at android.os.Parcel.writeValue(Parcel.java:1114)                                    
at android.os.Parcel.writeMapInternal(Parcel.java:479)                               
at android.os.Bundle.writeToParcel(Bundle.java:1552)                                 
at android.os.Parcel.writeBundle(Parcel.java:493)                                    
at android.app.ActivityManagerProxy.activityPaused(ActivityManagerNative.java:1574)  
at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:3292)          
at android.app.ActivityThread.access$2500(ActivityThread.java:125)                   
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2040)              
at android.os.Handler.dispatchMessage(Handler.java:99)                               
at android.os.Looper.loop(Looper.java:123)                                           
at android.app.ActivityThread.main(ActivityThread.java:4627)                         
at java.lang.reflect.Method.invokeNative(Native Method)                              
at java.lang.reflect.Method.invoke(Method.java:521)                                  
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)   
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)                      
at dalvik.system.NativeStart.main(Native Method) 
```

从日志看来，它发生在活动将要暂停时。我所有的活动都在访问一个通用的超类静态对象（全局数据），它里面确实有一些linkedhashmap，我正在使用 onSaveInstanceState 中的 putSerializable 保存这个全局数据。我试图将 globaldata 的保存/恢复放在我的基本活动类中 sattic 同步方法中，但它没有帮助。

我从您的经验中知道这是一些内部 android 错误（可能只是模拟器错误），或者如果我正在管理保存全局数据（其中包含 LinkedHashMap）错误。或者还有其他方法可以在活动之间共享公共数据吗？

谢谢

# android - 如何杀死一个应用程序及其所有线程/进程

> ID：14640134
> 
> 赞同：0
> 
> 时间：2013-02-01T05:10:19.137
> 
> 标签：android

我已经实施了 LVL 许可。有时进度条一直显示“正在检查许可证”并且卡在那里。我尽力找出发生这种情况的地方，但没有运气。当它发生时，进度条保持打开并且对应用程序的访问被阻止（甚至后退按钮不起作用）并且您必须点击主页的问题。当您再次单击该应用程序时，它会显示相同的进度条。让它工作的唯一时间是通过强制终止应用程序进行另一次许可证检查。

太好了，我的问题是。我放弃了了解应用程序为何卡住的原因（无法发布代码，因为它仅适用于 LVL 的 1000 行代码）。我需要帮助的是当用户按下返回或主页时如何摆脱卡住的状态？有没有办法可以杀死我的应用程序以及与之关联的所有后台进程（LVL 检查），所以当人们再次点击应用程序时，它会从头开始

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:35:13.183

利用

```
android.os.Process.killProcess(android.os.Process.myPid()); 
```

这将关闭您的应用程序并终止该进程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T15:11:16.293

我找到了解决方案。将 cancelListner 添加到 progressDialog 中，因为默认情况下它显然不可取消。添加取消操作将使后退按钮再次发挥作用，我杀死了线程

# algorithm - Choosing permutations with constraints

> ID：14640139
> 
> 赞同：0
> 
> 时间：2013-02-01T05:10:55.447
> 
> 标签：algorithm, combinatorics

> **Possible Duplicate:**
> [How to solve the “Mastermind” guessing game?](https://stackoverflow.com/questions/1185634/how-to-solve-the-mastermind-guessing-game)

I have to choose `k` items out of `n` choices, and my selection needs to be in the correct order (i.e. permutation, not combination). After I make a choice, I receive a hint that tells me how many of my selections were correct, and how many were in the correct order.

For example, if I'm trying to choose `k=4` out of `n=6` items, and the correct ordered set is `5, 3, 1, 2`, then an exchange may go as follows:

```
0,1,2,3
(3, 0) # 3 correct, 0 in the correct position

0,1,2,5
(3, 0)

0,1,5,3
(3, 0)

0,5,2,3
(3,0)

5,1,2,3
(4,1)

5,3,1,2
(4,4)

-> correct order, the game is over 
```

The problem is I'm only given a limited number of tries to get the order right, so if `n=6, k=4`, then I only get `t=6` tries, if `n=10,k=5` then `t=5`, and if `n=35,k=6` then `t=18`.

**Where do I start to write an algorithm that solves this?** It almost seems like a constraint solving problem. The hard part seems to be that I only know something for sure if I only change 1 thing at once, but the upper bound on that is way more than the number of tries I get.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:34:34.063

As I can see, this a variation of mastermind board game [http://en.m.wikipedia.org/wiki/Mastermind_(board_game)](http://en.m.wikipedia.org/wiki/Mastermind_(board_game))

Also, you can find more details about the problem in this paper

[http://arxiv.org/abs/cs.CC/0512049](http://arxiv.org/abs/cs.CC/0512049)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:48:26.413

A simple strategy for an algorithm is to come up with a next guess that is consistent with all previous hints. This will eventually lead to the right solution, but most likely not in the lowest possible number of guesses.

# python - 如何在python中对IP地址和子网掩码进行AND运算

> ID：14640142
> 
> 赞同：0
> 
> 时间：2013-02-01T05:11:05.790
> 
> 标签：python, python-3.x

> **可能重复：**
> [如何检查 ip 是否在 python 的网络中](https://stackoverflow.com/questions/819355/how-can-i-check-if-an-ip-is-in-a-network-in-python)

假设我有一个来自文件的目标 IP 地址`ip1 = 172.16.0.34`；而且我还有一个文件具有（子网，掩码，下一跳），即`172.16.0.0`，，，`255.255.255.0``117.120.10.1`

在与路由表中该条目的网络掩码进行“与”运算后，我必须检查传入地址 ip1 是否与特定路由的子网条目匹配。如果目标在掩码下匹配，则将该路由添加到此数据包的可行路由列表中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:56:47.150

我假设他们的字符串开始于：

```
ipadd = '192.168.1.1'
mask = '255.255.0.0'
anded = list()
for ip, m in zip(ipadd.split('.'),mask.split('.')):
   anded.append(str(int(ip) & int(m)))
subnet = '.'.join(anded) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:00:53.530

尝试将它们放在一个数组中然后比较！这只是我的建议...

# ruby-on-rails - 如何从命令提示符在后台启动 Rails 服务器

> ID：14640147
> 
> 赞同：-1
> 
> 时间：2013-02-01T05:11:24.870
> 
> 标签：ruby-on-rails, windows, ruby-on-rails-3

在我的 Rails 3 应用程序中，我使用瘦服务器来运行项目。现在我从命令提示符启动瘦服务器，例如：

```
c:<project_path> rails s 
```

这里命令提示符保留在我的桌面中，如果有时我关闭提示符，我必须再次重新启动它。为了避免这种情况，我想让命令提示符在后台运行。

可能吗。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:14:47.693

You can `detach` (`-d` command line flag) your server from the console.

# java - 无法理解此程序中的同步

> ID：14640149
> 
> 赞同：-1
> 
> 时间：2013-02-01T05:11:34.367
> 
> 标签：java, wait, synchronized

我不明白为什么我们需要`synchronized`这种`wait()`方法。`java.lang.IllegalMonitorStateException`删除此同步块后， 我可以得到。[http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ315_021.htm](http://www.linuxtopia.org/online_books/programming_books/thinking_in_java/TIJ315_021.htm)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:33:37.050

实际上，问题是：`wait()`必须在同步块中。我们可以参考：[Why must wait() always be in synchronized block](https://stackoverflow.com/questions/2779484/why-wait-should-always-be-in-synchronized-block)，AnthonyM 回答

# php - 尝试在 codeigniter 中删除 index.php

> ID：14640155
> 
> 赞同：1
> 
> 时间：2013-02-01T05:11:42.753
> 
> 标签：php, codeigniter

> **可能重复：**
> [如何删除 codeigniter 路径中的“index.php”](https://stackoverflow.com/questions/1445385/how-to-remove-index-php-in-codeigniters-path)

1.在codeigniter目录下创建一个.htaccess文件，代码如下

```
 <IfModule mod_rewrite.c>
     RewriteEngine On
     RewriteBase /ex/
     RewriteCond $1 ^(application|system|private|logs)
     RewriteRule ^(.*)$ index.php/access_denied/$1 [PT,L]
     RewriteCond $1 ^(index\.php|robots\.txt|opensearch\.xml|favicon\.ico|assets|forums)
     RewriteRule ^(.*)$ - [PT,L]
     RewriteRule ^(.*)$ index.php/$1 [PT,L]
  </IfModule> 
```

2.并更改`config['index_page']='index.php'` 为`config['index_page']=''`

但它不工作。我的 httpd.conf(/etc/apache2/) 是空白的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:39:30.963

确保您在 Apache 模块上启用**了 rewrite_module**

```
RewriteEngine On
RewriteBase /ex/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:38:07.287

在你的 .htaccess 文件中试试这个

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:42:08.327

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php/$0 [PT,L] 
```

# android - 无法在静态内部类的 TextView 中设置文本

> ID：14640165
> 
> 赞同：1
> 
> 时间：2013-02-01T05:12:31.960
> 
> 标签：android, textview, broadcastreceiver

我创建了一个应用程序，在其中我向我的活动发送广播，在这个广播中我发送两个值，一个是类型，另一个是徽章，我在扩展 BroadcastReceiver 的内部类中接收这些值但是当我我将在我的主类的 TextView 中设置这些值，然后它没有设置这些值，我无法理解为什么会发生这种情况。

以下是我的主要活动，其中存在内部类，它正在扩展 BroadcastReceiver：-

```
import java.util.List;
import android.widget.ScrollView;
import android.widget.ViewAnimator;

  public class TabActivity extends Activity implements OnClickListener{

        static String type;
        static String badges;
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);

            ................
        }

        public static class TabBroadcast extends BroadcastReceiver
        {

            @Override
            public void onReceive(Context context, Intent intent) {
                // TODO Auto-generated method stub

                SharedPreferences shrd = context.getSharedPreferences("Gallery", context.MODE_WORLD_READABLE);
                type = shrd.getString("type", "null");
                badges = shrd.getString("badge_count", "null");

                    badge_tips_text.setText(badge);

                /*Editor edit =  shrd.edit();
                edit.remove("type");*/

                Toast.makeText(context, "" + type + "\n" + badge_tips_text.getText().toString(), Toast.LENGTH_LONG).show();
            }

        }
    } 
```

我收到了值，但无法在 TextView 中设置它们，请回复任何帮助将是可观的。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:20:52.403

TabBroadcast 是 Activity 的内部类，然后尝试访问 UI 元素：

```
public class TabActivity extends Activity implements OnClickListener{

        static String type;
        static String badges;
        public TextView badge_tips_text;  //<<<< TextView declare here
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);

            ................
           //<<<< initilze  TextView   here after setContentView 
        }
public static class TabBroadcast extends BroadcastReceiver
        {

            @Override
            public void onReceive(Context context, Intent intent) {
                // TODO Auto-generated method stub
                    if(TabActivity.this.badge_tips_text !=null)
                    TabActivity.this.badge_tips_text.setText(badge);
                     // your code here ...

            }

        }

} 
```

并确保在调用 TextView.setText 之前已初始化 TextView

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-16T17:17:22.987

发生这种情况是因为广播接收器在不同的线程上运行。尝试使用从您的活动传递的处理程序：

创建广播类的地方使用：

```
new TabBroadcast(new Handler()); 
```

通过 TabBroadcast 构造函数传递处理程序，现在在 TabBroadcast onReceive 内部，您可以执行以下操作：

```
handler.post(new Runnable() {
    public void run() {
        myTextview.setText("Text");
    }
}); 
```

您需要将 myTextview 设置为 final

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:31:36.903

您不能`TextView`从静态内部类引用实例（非静态）。相反，通过构造函数传递所需的东西：

```
public static class TabBroadcast extends BroadcastReceiver{
  private final TextView textview;

  public TabBroadcast(TextView t){
    this.textview = t;
  }

  @Override
  public void onReceive(Context context, Intent intent) {
    t.setText("works");
  } 
} 
```

# android - 如何在android中更改配置时更改imageview的图像

> ID：14640170
> 
> 赞同：0
> 
> 时间：2013-02-01T05:13:10.747
> 
> 标签：android

作为 android 的新手，并且要求在更改手机方向时 imageview src 图像会发生变化（纵向到横向，反之亦然）。为 imageview 设置图像对我来说是可以的，但是如何才能实现上述要求。这件事可能吗在安卓。谢谢。一点帮助将不胜感激。这里我提到了两个包含一些图像视图的布局

1 纵向设计模式

![应用程序的肖像设计](../Images/35e965430ca5d91a8ea96bfbdd9a695d.png)

2.设计的横向模式 ![应用程序的景观设计](../Images/d0d073d9fbb5375e9d38dfcbaf4e23ce.png) 如果还有什么需要请问我。该应用程序是为 android 版本 2.3 和 api 级别 10 设计的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:49:14.423

尝试这个。

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    ImageView imageView = (ImageView)findViewById(R.id.imageView);
    if(getResources().getConfiguration().orientation == 2) {
        imageView.setImageDrawable(R.drawable.landscapeimage);
    } else if(getResources().getConfiguration().orientation == 1){
        imageView.setImageDrawable(R.drawable.portraitimage);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:19:32.627

you can create Layout-land and from that you can copy paste your code from the layout folder , and change the imageview to whatever you like. now when the user change orientation it will go to the layout-land. hope that help you.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T07:45:01.680

您必须创建新布局并将其放入指定的文件夹，例如：

```
- layout layout-800x400 
- layout-land 
- layout-land-800x400 
- layout-port
- layout-port-1232x800 
```

等等

在每个文件夹中调整布局取决于您希望它是什么样的设计。现在，如果它不起作用，您必须确定设备的尺寸或分辨率并将其添加为您的布局文件夹，如上面的示例，因为设备可能无法找到它的布局文件夹。

如需更多参考，请查看此链接 [http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T06:08:32.817

写在 onStart()

```
Display display = getWindowManager().getDefaultDisplay(); 
int width = display.getWidth();
int height = display.getHeight();

if(width<height){
   //in portrait mode

}
else{
   //in landscape mode.
} 
```

# java - 将字符串表达式拆分为标记

> ID：14640174
> 
> 赞同：0
> 
> 时间：2013-02-01T05:13:26.813
> 
> 标签：java, regex, string, split

我的输入就像

```
String str = "-1.33E+4-helloeeee+4+(5*2(10/2)5*10)/2"; 
```

我希望输出为：

```
1.33E+4
helloeeee
4
5
2
10
2
5
10
2 
```

但我得到的输出为

```
1.33, 4, helloeeee, 4, 5, 2, 10, 2, 5, 10, 2 
```

我希望在拆分“1.33e+4”后完全得到指数值

这是我的代码：

```
 String str = "-1.33E+4-helloeeee+4+(5*2(10/2)5*10)/2";
    List<String> tokensOfExpression = new ArrayList<String>();
    String[] tokens=str.split("[(?!E)+*\\-/()]+");
    for(String token:tokens)
    {   
         System.out.println(token);
         tokensOfExpression.add(token);
    }
    if(tokensOfExpression.get(0).equals(""))
    {
         tokensOfExpression.remove(0);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:57:08.413

我首先将 E+ 替换为一个明确的符号，例如

```
str.ReplaceAll("E+","SCINOT"); 
```

然后，您可以使用[StringTokenizer](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html)解析，当您需要评估以科学计数法表示的数字时替换`SCINOT`符号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:40:21.060

您不能使用单个正则表达式来做到这一点，因为 FP 常量在科学记数法中引入了歧义，并且在任何情况下，您都需要知道哪个标记是哪个标记，而无需重新扫描它们。您还错误地陈述了您的要求，因为您当然也需要输出中的二元运算符。您需要编写扫描仪和解析器。查看“递归下降表达式解析器”和“Dijkstra 分流场算法”。重置摘要是多余的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:57:29.887

使用 Matcher 更容易实现结果

```
 String str = "-1.33E+4-helloeeee+4+(5*2(10/2)5*10)/2";
    Matcher m = Pattern.compile("\\d+\\.\\d*E[+-]?\\d+|\\w+").matcher(str);
    while(m.find()) {
        System.out.println(m.group());
    } 
```

印刷

```
1.33E+4
helloeeee
4
5
2
10
2
5
10
2 
```

请注意，它需要对不同的浮点表达式进行一些测试，但它很容易调整

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T05:29:07.133

尝试这个

```
String[] tokens=str.split("(?<!E)+[*\\-/()+]"); 
```

# javascript - HTML5 headers.char utf-8 编码的 IE 问题显示为错误

> ID：14640175
> 
> 赞同：3
> 
> 时间：2013-02-01T05:13:29.890
> 
> 标签：javascript, internet-explorer, char, encode

我试图让我的网站在 IE 9 上运行。但从一开始，它就显示出许多错误。

```
HTML1114：来自（HTTP 标头）的代码页 iso-8859-1 覆盖了来自（META 标记）index.html 的冲突代码页 utf-8   

```

这是我在 IE 9 中加载时的错误，但它在 Firefox 和 Chrome 中运行良好。我使用的是 HTML 5，所以我的标题如下所示 -

```
<meta http-equiv='cache-control' content='0' >  
<meta http-equiv='ETag' content='o2389r-98ur0-w3894tu-q894' />  
<meta http-equiv='pragma' content='no-cache' />  
<meta name="expires" content="never"> 
```

由于这些错误，我被卡住了。并且没有 jQuery 或 javascript 有效。甚至无法登录。请帮助我。另外，建议我一个用于跟踪 javascript 的调试器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T05:25:24.640

**出现此错误是因为您在Content-Type HTTP Header**和**`<meta>`tag**中都指定了编码，并且它们指定了不同的代码页。

这不是错误，只是警告，我认为它不会破坏您的网页。Mozilla 只是不报告此类警告，但具有与 IE9 相同的行为。

尝试修改您的**Content-Type HTTP 标头**以提供 UTF-8 编码可能会解决此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:25:04.890

我相信您的服务器可能会覆盖您的元标记。这篇文章可能会有所帮助：

[http://social.msdn.microsoft.com/forums/is/web/thread/2b7be95a-a90b-425f-b799-1b68a6d94f77](http://social.msdn.microsoft.com/forums/is/web/thread/2b7be95a-a90b-425f-b799-1b68a6d94f77)

对于 javascript 调试，如果这不是一件复杂的事情，我使用命令 console.log ...

# jboss - 在 jboss 上使用 EAR 应用程序进行自动修补

> ID：14640176
> 
> 赞同：0
> 
> 时间：2013-02-01T05:13:39.017
> 
> 标签：jboss, ear, sql-update

是否有人在 ear 应用程序（在 jboss 服务器上）中部署了 autopatch（数据库升级工具）。Autopatch 支持开箱即用的战争类应用程序，但对于耳朵类应用程序，它需要一些扩展。此外，我无法在耳朵内的 ejb jar 中提供 .sql 文件作为查找自动补丁补丁的位置。Jboss 5 使用 VFS，因此没有可靠的方法来了解 jar 的完整 URL。

提前致谢。

# java - Java foreach 循环是否创建一个新对象？

> ID：14640184
> 
> 赞同：6
> 
> 时间：2013-02-01T05:14:19.637
> 
> 标签：java, foreach, garbage-collection

每次进入foreach循环时Java会创建一个新对象吗？我不是在谈论每次迭代，但是如果您有一个多次使用的 foreach 循环，那么它是否每次都在创建对象？

简单示例：

```
for(Object o : Objects)
{
    for(Object p : Objects2)
    {
    }
} 
```

**每次执行只会有一个`p`，还是会`p`为每个实例化`Object o`？每次退出时，垃圾收集器是否必须从 foreach 循环中恢复对象？**

更具体地说，我正在编写一些基于 Android 的游戏代码。它将以每秒给定的速率迭代所有游戏对象，或者根据情况尽可能快地迭代。

这可能是过早优化的情况，但如果使用显式`for`或`while`循环可以保证我不会从循环中收集过多的垃圾，那么我可以将其确立为项目的编码标准。

进一步来说：

```
public void update()
{
    for(GameObject gObj : gameObjects)
    {
        gObj.update();
    }
} 
```

从`update()`一个线程调用，该线程旨在根据我之前描述的时间进行调用。

**更新：** 我问是否`p`为每个`o`in创建了一个新的参考`Objects`。如果它将对象复制到`Objects2`. 那么虚拟机是否必须创建一个新的 Reference `p`，然后它是否会在外循环的迭代之间收集该引用？更具体地说，在我的情况下，它是否收集方法调用之间的引用？

**更新：** 来自对 Matt Ball 答案的评论。哪个会减少垃圾收集工作？

```
//Loop just to have it run a number of times
//Could be running the inner foreach numerous time for any reason
for(int i = 0; i < 1000; i++)
{
    for(Object o : Objects)
    {
        o.update();
    }
} 
```

对比

```
Iterator<Object> iter;
//Loop just to have it run a number of times
//Could be running the inner foreach numerous time for any reason
for(int i = 0; i < 1000; i++)
{
    iter = Objects.iterator();

    while(iter.hasNext());
    {
        iter.getNext().update();
    }
} 
```

**更新：** 比较范围：

```
import java.util.ArrayList;
import java.util.Iterator;

public class TestLoops
{
    public static Iterator<Object> it;
    public static ArrayList<Object> objects;

    public static void main(String... args)
    {
        objects = new ArrayList<Object>();

        it = objects.iterator();
        it = objects.iterator();

            //Every time we start a foreach loop, does it creates a new reference?
        Iterator<Object> newIt1 = objects.iterator();
        Iterator<Object> newIt2 = objects.iterator();       

    }
} 
```

产生这个字节码：

```
public class TestLoops {
public static java.util.Iterator<java.lang.Object> it;

public static java.util.ArrayList<java.lang.Object> objects;

public TestLoops();

    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void main(java.lang.String...);
    Code:
       0: new           #2                  // class java/util/ArrayList
       3: dup
       4: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
       7: putstatic     #4                  // Field objects:Ljava/util/ArrayList;
      10: getstatic     #4                  // Field objects:Ljava/util/ArrayList;
      13: invokevirtual #5                  // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      16: putstatic     #6                  // Field it:Ljava/util/Iterator;
      19: getstatic     #4                  // Field objects:Ljava/util/ArrayList;
      22: invokevirtual #5                  // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      25: putstatic     #6                  // Field it:Ljava/util/Iterator;
      28: getstatic     #4                  // Field objects:Ljava/util/ArrayList;
      31: invokevirtual #5                  // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      34: astore_1
      35: getstatic     #4                  // Field objects:Ljava/util/ArrayList;
      38: invokevirtual #5                  // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      41: astore_2
      42: return
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-01T05:17:45.330

for-each 循环不会发生神奇的对象构造。这个语法：

```
for(Object o : Objects)
{
    for(Object p : Objects2)
    {
    }
} 
```

只是这个**的**简写：

```
for(Iterator<Object> iter = Objects.iterator(); iter.hasNext();)
{
    Object o = iter.next();
    for(Iterator<Object> iter2 = Objects2.iterator(); iter2.hasNext();)
    {
        Object p = iter2.next();
    }
} 
```

* * *

> 是否会`iter2`为我拥有的每个对象创建一个引用`Objects`？

那要看`Objects2`从哪里来。它来自`o`? 这也取决于如何`Objects2.iterator()`实施。`Iterable#iterator()`预计将返回独立的迭代器，这意味着`Objects2.iterator()`几乎可以肯定`Iterator`每次调用都会返回一个新的。但这并*没有*说明遍历`Objects2`(using `iter2`) 中的对象是否会创建其他新对象。

总的来说，这听起来像是过早的优化。

* * *

> 哪个会减少垃圾收集工作？

**两者都不。**增强的 for 循环（又名 for-each 循环）只是语法糖。编译器生成的字节码是相同的。[完整示例：](https://github.com/mjball/Stack-Overflow-Q-A/tree/master/q14640184/src/com/stackoverflow)

```
package com.stackoverflow;

import java.util.Iterator;

public class Question14640184
{
    public void enhancedForLoop(Iterable<Object> objects1, Iterable<Object> objects2)
    {
        for(Object o1 : objects1)
        {
            for(Object o2 : objects2)
            {
                // do something
            }
        }
    }

    public void iteratorForLoop(Iterable<Object> objects1, Iterable<Object> objects2)
    {
        for(Iterator<Object> iter1 = objects1.iterator(); iter1.hasNext();)
        {
            Object o1 = iter1.next();
            for(Iterator<Object> iter2 = objects2.iterator(); iter2.hasNext();)
            {
                Object o2 = iter2.next();
            }
        }
    }
} 
```

编译：

```
✗ javac Question14640184.java
✗ javap -c Question14640184
Compiled from "Question14640184.java"
public class com.stackoverflow.Question14640184 extends java.lang.Object{
public com.stackoverflow.Question14640184();
  Code:
   0:   aload_0
   1:   invokespecial   #1; //Method java/lang/Object."<init>":()V
   4:   return

public void enhancedForLoop(java.lang.Iterable, java.lang.Iterable);
  Code:
   0:   aload_1
   1:   invokeinterface #2,  1; //InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
   6:   astore_3
   7:   aload_3
   8:   invokeinterface #3,  1; //InterfaceMethod java/util/Iterator.hasNext:()Z
   13:  ifeq    57
   16:  aload_3
   17:  invokeinterface #4,  1; //InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
   22:  astore  4
   24:  aload_2
   25:  invokeinterface #2,  1; //InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
   30:  astore  5
   32:  aload   5
   34:  invokeinterface #3,  1; //InterfaceMethod java/util/Iterator.hasNext:()Z
   39:  ifeq    54
   42:  aload   5
   44:  invokeinterface #4,  1; //InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
   49:  astore  6
   51:  goto    32
   54:  goto    7
   57:  return

public void iteratorForLoop(java.lang.Iterable, java.lang.Iterable);
  Code:
   0:   aload_1
   1:   invokeinterface #2,  1; //InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
   6:   astore_3
   7:   aload_3
   8:   invokeinterface #3,  1; //InterfaceMethod java/util/Iterator.hasNext:()Z
   13:  ifeq    57
   16:  aload_3
   17:  invokeinterface #4,  1; //InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
   22:  astore  4
   24:  aload_2
   25:  invokeinterface #2,  1; //InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
   30:  astore  5
   32:  aload   5
   34:  invokeinterface #3,  1; //InterfaceMethod java/util/Iterator.hasNext:()Z
   39: 
```

所以就像我说**的，for-each 循环*只是* [语法糖](http://en.wikipedia.org/wiki/Syntactic_sugar)。**

> 这是我刚刚关注的事情。

继续前进，朋友。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T05:18:32.663

这完全取决于 Iterable 返回的内容。如果它创建了一个新对象，那就这样吧。如果不是，则不是。例如，在数组的情况下，元素已经存在，因此不会创建对象。这同样适用于大多数收藏。

它几乎肯定会创建一个新对象的一种情况是 Iterable 本身是函数调用的结果，例如：

```
for (Object o : xyz.getIterable()) 
```

但这不是 for-each 循环的属性，而是函数调用的属性。

# c# - 如何在 webgrid MVC3 中单击排序和分页时点击 httpPost 操作？

> ID：14640188
> 
> 赞同：0
> 
> 时间：2013-02-01T05:14:38.650
> 
> 标签：c#, asp.net-mvc-3, webgrid

我是 MVC3 的新手

我有一个带有 webgrid 的页面和 httpget 上的一些搜索选项我的 webgrid 是空白的，因为我的功能就像 webgrid 在我的搜索之后会有一些数据（意味着在页面发布之后并且它工作正常）。现在，我正在使用带有一些自定义搜索过滤器的 webgrid。当我在 GRID 中单击、分页或排序时，它会转到 HttpGet 而不是 HttpPost，并且从 HttpGet 返回 null 值并且网格会消失。

我希望我没有让大家感到困惑。

谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:22:23.787

将控制器操作标记为`[HttpPost]`，并确保您通过提交表单来发布数据。

```
[HttpGet]
public ActionResult Search()
{

}

[HttpPost]
[ActionName("Search")]
public ActionResult SearchPost(/* search params*/)         //this method should get called
{
 /*your code*/`enter code here`
} 
```

# java - 从数据库中获取 Unicode 文本后，如何将其存储在文件中？

> ID：14640189
> 
> 赞同：1
> 
> 时间：2013-02-01T05:14:44.543
> 
> 标签：java, file, unicode

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:26:22.827

来自[文档](http://docs.oracle.com/javase/6/docs/api/java/io/PrintWriter.html#print%28java.lang.String%29)：

> 打印一个字符串。如果参数为空，则打印字符串“null”。否则，字符串的字符会按照平台**默认的字符编码**转换成字节，这些字节完全按照 write(int) 方法的方式写入。

这就是问题的原因。

相反，使用`FileOutputStream`and `OutputStreamWriter`：

```
OutputStreamWriter(OutputStream out, String charsetName) 
Create an OutputStreamWriter that uses the named charset. 
```

查看解决方案：[https ://stackoverflow.com/a/1001568/1360074](https://stackoverflow.com/a/1001568/1360074)

# angularjs - Angular.js e2e 测试对外部服务的 HTTP 请求

> ID：14640199
> 
> 赞同：3
> 
> 时间：2013-02-01T05:16:04.310
> 
> 标签：angularjs, testing, karma-runner

我正在尝试对 e2e 场景中的指令进行一些基本测试。代码工作得很好，我可以将新元素呈现给浏览器。这是我正在使用的代码。

这里是指令代码。

```
'use strict';

var directives = angular.module('lelylan.directives', [])

directives.directive('device', ['Device', function(Device) {
  var definition = {
    restrict: 'E',
    replace: true,
    templateUrl: 'js/templates/device.html',
    scope: { id: '@' }
  };

  definition.link = function postLink(scope, element, attrs) {
    scope.$watch('id', function(value){
      var device = Device.get({ id: scope.id }, function() {
        scope.device = device;
      });
    });
  };

  return definition
}]); 
```

这里是设备服务代码。

```
// Service Device
'use strict';

angular.module('lelylan.services', ['ngResource']).
  factory('Device', ['$resource', '$http', function($resource, $http) {

    var token = 'df39d56eaa83cf94ef546cebdfb31241327e62f8712ddc4fad0297e8de746f62';
    $http.defaults.headers.common["Authorization"] = 'Bearer ' + token;

    var resource = $resource(
      'http://localhost:port/devices/:id',
      { port: ':3001', id: '@id' },
      { update: { method: 'PUT' } }
    );

    return resource;
  }]); 
```

这里是应用程序代码。

```
'use strict';

angular.module('lelylan', ['lelylan.services', 'lelylan.directives']) 
```

这里是 index.html。

```
<!doctype html>
<html lang="en" ng-app="lelylan">
  <head>
    <meta charset="utf-8">
    <title>Lelylan Components</title>
    <link rel="stylesheet" href="css/app.css"/>
  </head>
  <body>

    <device id="50c61ff1d033a9b610000001"></device>

    <!-- In production use: <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.min.js"></script> -->
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-resource.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/directives.js"></script>
  </body>
</html> 
```

在阅读了[Angular 文档](http://docs.angularjs.org/api/ngMockE2E.%24httpBackend)并尝试了不同的解决方案后，我提出了以下测试，我尝试模拟我的后端请求。问题是请求仍然命中真正的服务。看起来我无法拦截请求。

```
// e2e test
'use strict';

describe('directives', function() {

  var resource = { id: '1', uri: 'http://localhost:3001/devices/1' };
  var myAppDev = angular.module('myAppDev', ['lelylan', 'ngMockE2E']);

  myAppDev.run(function($httpBackend) {
    $httpBackend.when('GET', 'http://localhost:3001/devices/1').respond(resource);
    $httpBackend.when('GET', /\/templates\//).passThrough();
  });

  beforeEach(function() {
    browser().navigateTo('../../app/index.html');
  });

  describe('when renders a device', function() {

    it('renders the title', function() {
      expect(element('.device .name').text()).toEqual('Closet dimmer');
    });

    it('renders the last time update', function() {
      expect(element('.device .updated-at').text()).toEqual('2012-12-20T18:40:19Z');
    })
  });
}); 
```

我想我缺少一些配置，但我无法真正理解哪些配置。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T09:23:25.687

[阅读这个问题](https://stackoverflow.com/questions/13899176/with-angularjs-end-to-end-tests-how-do-i-modify-scenarios-js-to-mock-an-ajax-re)的最后一条评论，我得到了最终的解决方案。

实际上我错过了一个重要的步骤，因为我必须使用一个使用模拟应用程序的 HTML 文件。让我们让代码说话。

1) 我用测试环境创建了一个 HTML 文件。主要区别在于我设置了 ng-app=test 并添加了两个新的 JS 文件。第一个是/test/e2e/app-test.js，是我创建测试模块的地方，第二个是/test/lib/angular-mocks.js。

```
<!doctype html>
<html lang="en" ng-app="test">
  <head>
    <meta charset="utf-8">
    <title>Lelylan Test</title>
    <link rel="stylesheet" href="css/app.css"/>
  </head>
  <body>

    <device id="1"></device>

    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-resource.js"></script>
    <script src="js/app.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>

    <!-- Test application with mocked requests -->
    <script src="../test/e2e/app-test.js"></script>
    <script src="../test/lib/angular/angular-mocks.js"></script>
  </body>
</html> 
```

现在，让我们看看我们如何实现测试模块。在这里，我定义了一个与我的主模块 (lelylan) 完全相同的模块，并添加了 ngMockE2E，它允许您访问 $httpBackend 并模拟 HTTP 请求。

```
'use strict';

var resource = { id: '1', uri: 'http://localhost:3001/devices/1' };

var test = angular.module('test', ['lelylan', 'ngMockE2E']);

test.run(function($httpBackend) {
  $httpBackend.when('GET', 'http://localhost:3001/devices/1').respond(resource);
  $httpBackend.when('GET', /\/templates\//).passThrough();
}); 
```

而已。运行 scripts/e2e-test.sh 就完成了。

# android - Android上的HTML5内容？

> ID：14640200
> 
> 赞同：0
> 
> 时间：2013-02-01T05:16:05.797
> 
> 标签：android, html

我想在 android 上显示 HTML5 内容，但我不知道支持哪些内容，以及我们如何显示这些内容？

有人可以建议我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T05:20:29.177

看看一个名为[Can I Use](http://caniuse.com/)的网站。它允许您查找元素和功能并查看浏览器支持的概述（包括 Android 的浏览器）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T09:34:28.563

Android 浏览器支持 HTML5 内容..

在安卓应用中

使用 webview 显示 HTML5 内容.. [http://developer.android.com/reference/android/webkit/WebView.html](http://developer.android.com/reference/android/webkit/WebView.html)

# android - 如何停止在android中加载webview

> ID：14640204
> 
> 赞同：1
> 
> 时间：2013-02-01T05:16:48.933
> 
> 标签：android, android-webview

我在标签栏应用程序上工作，未正确加载 webview 将调用 onReceiveError() 方法并在警报框中显示错误描述。显示警告框后，webview 显示为与任何浏览器相同的“网页不可用”内容。显示警告框后如何显示空白页。？警报框以重叠的方式显示在一个之后。如何将警报框显示到特定的标签栏。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:25:16.150

您可以尝试`webView.clearView()`显示一个空白页。这是[文档](https://developer.android.com/reference/android/webkit/WebView.html#clearView%28%29)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:56:40.407

简单的 ：

制作静态 html 错误页面并放入 assets 文件夹，在 onReceiveError() 中收到错误后，您可以使用自定义消息在 Web 视图中加载此静态 html 页面：

# wpf - WPF如何通知可观察集合中的多个项目已被集体修改

> ID：14640205
> 
> 赞同：1
> 
> 时间：2013-02-01T05:16:52.427
> 
> 标签：wpf, xaml

处理称为“MultiSelectTreeView”的自定义 WPF 控件，该控件继承自 System.Windows.Controls.TreeView。其目的是允许多选和拖放。

包含此 MultiSelectTreeView 控件的视图的 xaml 绑定了由底层视图模型公开的 ObservableCollection。

拖放操作可能涉及 ObservableCollection 上的许多删除/添加（或移动）操作，但是我需要将单个拖放操作的所有操作封装到命令对象中以支持撤消/将拖放重做为单个原子操作。

当我连接到 ViewModel.ObservableCollection 的 CollectionChanged 事件时，会触发多个事件，并且从 ViewModel 的角度来看，无法知道任何特定的添加/删除/移动事件是否会单独存在，或者它是否会成为系列的一部分事件，都与单个用户拖放有关。

我可以想象各种不可靠的解决方案，例如让 MultiSelectTreeView 控件深入了解其底层 ViewModel 的*可能*结构（以暂时解开 ObservableCollection 的 CollectionChanged 事件），但感觉根本不对。

也许我应该创建自己的 ObservableCollection 后代，它支持仅触发一个事件或类似这些事件的 .MoveRange() 方法。

我敢肯定，拥有超过几周 WPF 经验的人可能会提出比这些更好的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T20:28:55.590

我不确定这是否会对您有所帮助，但我今天刚刚遇到它。

[使用 INotifyCollectionChanged 进行批量更新](http://www.interact-sw.co.uk/iangblog/2013/02/22/batch-inotifycollectionchanged)

# php - 跳过foreach mysql中的重复条目

> ID：14640206
> 
> 赞同：0
> 
> 时间：2013-02-01T05:17:03.113
> 
> 标签：php, mysql, foreach, duplicate-data, skip

嗨朋友们，我需要**跳过****foreach**中的**重复**条目，而不是**继续**其余的条目，请告诉我该怎么做

 ****```
foreach($arr as $key=>$arr1)
{
    echo "<pre>";

$insert=mysql_query("INSERT INTO auth_user(id,username,first_name,last_name,email,password,is_active,date_joined) VALUES('".$key."','".$arr1['username']."','".$arr1['firstname']."','".$arr1['lastname']."','".$arr1['email']."','NULL','".$arr1['is_active']."','".$arr1['date_joined']."')",$conn1);

echo $insert .'<br/>';
if($insert)
    {
        echo "DATA MIGRATE FOR USER ".$key;
        $insert1=mysql_query("INSERT INTO stylequiz_score(user_id,style_quiz_score,style_quiz_answer) VALUES('".$key."','".$arr1['style_quiz_score']."','".$arr1['style_quiz_answer']."')",$conn1);
    }
    else
    {
       echo  ("Error In MIGRATION FOR USER ".$key . mysql_error());

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:32:38.010

使用 INSERT 语句的 IGNORE 修饰符：

```
$insert1=mysql_query("INSERT IGNORE INTO stylequiz_score(user_id,style_quiz_score,style_quiz_answer) VALUES('".$key."','".$arr1['style_quiz_score']."','".$arr1['style_quiz_answer']."')",$conn1); 
```

如果正在插入的行会出现重复键错误，则此修饰符会导致插入被跳过而没有错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:20:38.460

array_unique 将删除数组中的所有重复值。在你的情况下，试试这样。

```
$arr = array_unique($arr); 
```

你不需要做任何额外的功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:19:22.207

假设您在`$arr`

采用`array_unique`

```
$res_array = array_unique($arr); 
```

参考： http: [//php.net/manual/en/function.array-unique.php](http://php.net/manual/en/function.array-unique.php)

要检查数据库中的重复项，请将插入查询置于 if 条件中

```
$sql   = mysql_query("SELECT * FROM auth_user WHERE email = '".$arr1['email']."'");
if(mysql_numrows($sql) == 0){
   $insert=mysql_query("INSERT INTO auth_user(id,username,first_name,last_name,email,password,is_active,date_joined) VALUES('".$key."','".$arr1['username']."','".$arr1['firstname']."','".$arr1['lastname']."','".$arr1['email']."','NULL','".$arr1['is_active']."','".$arr1['date_joined']."')",$conn1);
}
else{
   $insert = false;
} 
```****

# facebook - 什么是用于 Facebook 的正确 xmlns

> ID：14640207
> 
> 赞同：2
> 
> 时间：2013-02-01T05:17:03.253
> 
> 标签：facebook, facebook-graph-api, facebook-like, facebook-comments

Facebook 关于这方面的文档不一致且令人困惑。

一、这里：[https ://developers.facebook.com/docs/reference/plugins/like/](https://developers.facebook.com/docs/reference/plugins/like/)

它说：

```
<html xmlns:fb="http://ogp.me/ns/fb#"> 
```

（如果您填写表格并单击获取代码按钮，然后单击 xfbml 标记。）

二、在此页面上：[https ://developers.facebook.com/docs/technical-guides/opengraph/opengraph-tutorial/#plugins](https://developers.facebook.com/docs/technical-guides/opengraph/opengraph-tutorial/#plugins)

它说：

```
xmlns:fb="https://www.facebook.com/2008/fbml" 
```

现在上面的两个网址解析为相同的网址： http: [//graph.facebook.com/schema/og/](http://graph.facebook.com/schema/og/)

三、但是我们有：[https ://developers.facebook.com/docs/opengraphprotocol/](https://developers.facebook.com/docs/opengraphprotocol/)

```
xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml" 
```

现在这里的第一个 url 甚至没有解析为有效的 xml 模式。

用于启用 FBLike、Comment 和 FB Connect 的正确 xmlns:og 是什么？

我知道在 HTML 5 的世界中，这并不重要，但对于旧版浏览器，我们应该怎么做？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T12:14:20.490

这是我目前使用的并且完美运行

```
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:20:24.653

这就是我现在正在做的事情。两个命名空间都指向同一个模式文档。

```
<html xmlns:og="http://ogp.me/ns/fb#" xmlns:fb="http://ogp.me/ns/fb#"> 
```

# c# - Console.Readline() 和设置断点之间的控制台应用程序状态差异

> ID：14640212
> 
> 赞同：0
> 
> 时间：2013-02-01T05:17:30.170
> 
> 标签：c#, visual-studio, console, breakpoints, visual-studio-debugging

以下代码的行为很奇怪，我试图理解原因：

```
NonAdminHttp.EnsureCanListenToWhenInNonAdminContext(8080);
EmbeddableDocumentStore db = new EmbeddableDocumentStore();
db.DataDirectory = @"C:\Google Drive\TradingFramework\RavenDatabase\";
db.UseEmbeddedHttpServer = true;
db.Initialize();

bool halt = true;

Console.WriteLine("Read to try server");
Console.ReadLine(); 
```

“bool halt”上面的代码初始化了一个 RavenDB 数据库，但它与这个问题的目的无关。我跑了2个场景：

*   a) 在 VS2012 中的 Debug 模式下设置一个断点`bool halt = true;`。那时我应该可以访问在 localhost:8080 上侦听的已创建 Web 服务器。事实并非如此。即使在断点之前将等待循环放入代码中也没有什么不同，`Thread.Sleep(xxx)`.

*   b）我删除了断点，代码执行暂停并在 line 处等待用户输入`Console.ReadLine();`。在这种情况下，位于 localhost:8080 的服务器会响应并且工作正常。

为什么会这样？为什么当我设置断点 vs Console.Readline() 时某些东西没有执行？请注意，我只是在测试/开发，但我试图了解它有什么不同？我一直认为 a) 和 b) 是一回事，它会中断代码执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T05:31:20.447

`Console.Readline()`不会中断执行，它只是等待用户的输入。应用程序中的其他线程继续正常运行。

断点实际上会停止执行以允许您查看应用程序的状态。在这种状态下，所有线程都暂停，因此没有任何响应端口 8080。

您可以打开命令提示符并键入`nestat -a`，在这种情况下，您应该在任一情况下看到有一个进程正在侦听端口 8080。

# ruby-on-rails - 如何重定向登录用户尝试在 Ruby 中访问 User.new 和 User.create？

> ID：14640214
> 
> 赞同：0
> 
> 时间：2013-02-01T05:17:36.683
> 
> 标签：ruby-on-rails, railstutorial.org

我已经完成了 Hartl 的 Rails 教程中的[第 9 章练习](http://ruby.railstutorial.org/book/ruby-on-rails-tutorial#sec-updating_deleting_exercises)。我已经尝试了很长时间，但无法破解问题 6：

> 登录用户没有理由访问控制器中的`new`和`create`操作。`Users`如果他们确实尝试访问这些页面，请安排将此类用户重定向到根 URL。

首先，我应该把这些测试放在哪里？目前我正在尝试，`user_pages_spec.rb`但我不确定这是否正确。然后我应该把逻辑本身放在哪里？

其次，这是我的测试应该是什么样子：

```
 describe "after signing-in" do
    before { sign_in(user) }
    describe "creating a new user" do
      before { put new_user_path }
      specify { response.should redirect_to(root_url) }
    end
  end 
```

在我执行上述操作的那一刻，RSpec 告诉我

```
预期的响应是重定向到 http://www.example.com/signin。 

```

但是当我在浏览器中测试它时，`http://localhost:3000/users/new`使用登录用户访问时，根本没有重定向（这对我来说更有意义，因为我没有编码）。

我什至从 github 下载了 Hartl 的代码，但我看不到他在哪里/是否包含此功能。

**编辑：** 我都有

```
 describe "creating a new user" do
   before { visit new_user_path }
   it { should_not have_selector 'title', text: full_title('Sign Up') }
 end 
```

和

```
 describe "creating a new user" do
   before { get new_user_path } # note the use of GET here not PUT
   specify { response.should redirect_to(root_url) }
 end 
```

正常工作。感谢@Peter de Ridder 的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T19:31:01.223

我不太确定为什么在调用 new_user_path 时有一个 put 请求。

```
describe "after signing-in" do
  let(:user) { FactoryGirl.create(:user) }
  before { sign_in user }

 describe "creating a new user" do
   before { get new_user_path }
   specify { response.should redirect_to(root_url) }
 end
end 
```

现在测试应该按预期工作。您仍然必须编写代码才能实际执行重定向。但是，嘿，这就是全部挑战。我个人会检查用户是否登录/存在。如果是这样，应该不再可以访问 new 和 create 操作。

# java - 它是哪种类型的驱动程序？如果我写

> ID：14640217
> 
> 赞同：-6
> 
> 时间：2013-02-01T05:17:49.620
> 
> 标签：java, mysql

它是哪种**类型**的驱动程序？（类型 1,2,3,4）如果我写 -

```
Connection con = null;
Statement stmt = null;
try
{
Class.forName("com.mysql.jdbc.Driver").newInstance(); 
con = DriverManager.getConnection("jdbc:mysql://localhost:3306/");
stmt =con.CreateStatement();
}
catch(Exception e)
{
e.printstacktrace();
} 
```

**如果编写了代码片段***，如何识别各种 *** ***TYPE的驱动程序？****是的，它是 MySQL 数据库驱动程序！**但是，我的意思是如何识别 JDBC 中的类型？**就像我们有 - Type1:JDBC-ODBC 桥。**类型 2：Native-API/部分 Java 驱动程序。**Type3：Net-Protocol/All-Java 驱动程序。**Type4：Native-Protocol/All-Java 驱动程序。***

 ** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T15:28:08.567

根据文档，[MySQL 的 Connector/J 驱动程序是 JDBC Type-4 驱动程序](http://dev.mysql.com/doc/refman/5.1/en/connector-j-overview.html)：

> MySQL Connector/J 是 JDBC Type 4 驱动程序。提供与 JDBC 3.0 和 JDBC 4.0 规范兼容的不同版本。类型 4 表示驱动程序是 MySQL 协议的纯 Java 实现，不依赖于 MySQL 客户端库。

您知道它是 Connector/J，因为参考手册还[指出](http://dev.mysql.com/doc/refman/5.1/en/connector-j-reference-configuration-properties.html)

> `java.sql.Driver`在 MySQL Connector/J中实现的类的名称是`com.mysql.jdbc.Driver`.

**编辑：（**响应问题的编辑）“识别”驱动程序类型的唯一方法是阅读驱动程序附带的文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-10-13T11:49:16.027

检查驱动程序 jar 中的清单文件。它将具有这样的内容：-

```
Manifest-Version: 1.0
Ant-Version: Apache Ant 1.6.5
Created-By: 1.5.0_30-b03 (Sun Microsystems Inc.)
Implementation-Vendor: Oracle Corporation
Implementation-Title: JDBC
Implementation-Version: 11.2.0.3.0
Repository-Id: JAVAVM_11.2.0.3.0_LINUX_110823
Specification-Vendor: Sun Microsystems Inc.
Specification-Title: JDBC
Specification-Version: 4.0
Main-Class: oracle.jdbc.OracleDriver 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:28:18.257

Well since the driver says "mysql" in it, it's the driver for MySQL. You can find out more about how to use this driver from this link: [http://dev.mysql.com/doc/refman/5.1/en/connector-j.html](http://dev.mysql.com/doc/refman/5.1/en/connector-j.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T05:29:05.560

This is an older looking piece of code, however I think the answer you're looking for is MySQL. It is a MySQL Database driver.

[http://dev.mysql.com/downloads/connector/j/](http://dev.mysql.com/downloads/connector/j/)

Hope that helps!*

# go - 如何在 Go 中的 fmt.Scanf() 之后刷新标准输入？

> ID：14640218
> 
> 赞同：5
> 
> 时间：2013-02-01T05:17:57.060
> 
> 标签：go, user-input, stdin

这是目前困扰我的一个问题。当从用户那里获得输入时，我想使用一个循环来要求用户重试，直到他们输入有效的输入：

```
// user_input.go
package main

import (
    "fmt"
)

func main() {
    fmt.Println("Please enter an integer: ")

    var userI int

    for {
        _, err := fmt.Scanf("%d", &userI)
        if err == nil {
            break
        }
        fmt.Println("Sorry, invalid input. Please enter an integer: ")
    }

    fmt.Println(userI)    
} 
```

运行上面，如果用户输入有效的输入，没问题：

*请输入整数：<br> **3** 

3
 退出代码0，进程正常退出。* 

但是尝试输入一个字符串呢？

*请输入一个整数：<strong>什么？
抱歉，输入无效。请输入一个整数：
 对不起，输入无效。请输入一个整数：
 对不起...*

等等，它会逐个字符地循环，直到字符串用完。即使输入一个字符循环两次，我假设它解析换行符。

无论如何，一定有办法在 Go 中刷新 Stdin？

PS 如果没有这样的功能，您将如何解决它以提供等效的功能？我什至都失败了...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T06:19:05.360

我会通过在每次失败后阅读直到行尾来解决这个问题。这将清除文本的其余部分。

```
package main

import (
    "bufio"
    "fmt"
    "os"
)

func main() {
    stdin := bufio.NewReader(os.Stdin)

    fmt.Println("Please enter an integer: ")

    var userI int

    for {
        _, err := fmt.Fscan(stdin, &userI)
        if err == nil {
            break
        }

        stdin.ReadString('\n')
        fmt.Println("Sorry, invalid input. Please enter an integer: ")
    }

    fmt.Println(userI)
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-06-16T21:29:20.543

唤醒一个老问题是不是很糟糕？

我更喜欢使用`fmt.Scanln`，因为 A）它不需要导入另一个库（例如阅读器）和 B）它不涉及显式 for 循环。

```
func someFunc() {
    fmt.Printf("Please enter an integer: ")

    // Read in an integer
    var i int
    _, err := fmt.Scanln(&i)
    if err != nil {
            fmt.Printf("Error: %s", err.Error())

            // If int read fails, read as string and forget
            var discard string
            fmt.Scanln(&discard)
            return
    }
    fmt.Printf("Input contained %d", i)
} 
```

但是，似乎应该有一个更优雅的解决方案。特别是在 fmt.Scanln 的情况下，读取在第一个非数字字节之后停止而不是“扫描行”似乎很奇怪。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-25T07:38:13.043

我知道这已经得到解答，但这是我的实现：

```
func flush (reader *bufio.Reader) {
    var i int
    for i = 0; i < reader.Buffered(); i++ {
        reader.ReadByte()
    }
} 
```

这应该适用于所有情况，包括不能使用“stdin.ReadString('\n')”的情况。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-09-23T07:07:38.373

我在获取用户输入时遇到了类似的问题，但以稍微不同的方式解决了它。添加到线程以防其他人发现这很有用：

```
package main

import (
    "bufio"
    "fmt"
    "os"
    "strings"
)

// Get first word from stdin
func getFirstWord() (string) {
    input := bufio.NewScanner(os.Stdin)
    input.Scan()
    ans := strings.Fields(input.Text())

    if len(ans) == 0 {
        return ""
    } else {
        return ans[0]
    }
}

func main() {
    fmt.Printf("Would you like to play a game?\n> ")
    ans := getFirstWord()
    fmt.Printf("Your answer: %s\n", ans)
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-05T07:39:54.533

很抱歉挖掘了这个备份，但我今天遇到了这个问题，想通过使用新的标准库功能来改进现有的答案。

```
import (
    "bufio"
    "fmt"
    "os"
)

func discardBuffer(r *bufio.Reader) {
    r.Discard(r.Buffered())
}

stdin := bufio.NewReader(os.Stdin)
var i int
for true {
    if _, err := fmt.Fscanln(stdin, &i); err != nil {
        discardBuffer(stdin)
        // Handle error, display message, etc.
        continue
    }
    // Do your other value checks and validations
    break
} 
```

基本思想是始终缓冲来自标准输入的读取。当您在扫描时遇到错误时，只需丢弃缓冲区内容即可。这样您就可以从一个空缓冲区开始进行下一次扫描。

或者，您可以在扫描之前丢弃缓冲区，这样用户之前的任何杂散输入都不会被拾取。

```
func fscanln(r *bufio.Reader, a ...interface{}) error {
    r.Discard(r.Buffered())
    _, err := fmt.Fscanln(r, a...)
    return err
}

stdin := bufio.NewReader(os.Stdin)
var i int
if err := fscanln(stdin, &i); err != nil {
    // Handle error
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-05-25T17:10:18.310

我使用这个片段来过滤不必要的前导空格/新行

```
in := bufio.NewReader(os.Stdin)
result, err = in.ReadString('\n')
for len(strings.TrimSpace(result)) == 0 {
    result, err = in.ReadString('\n')
} 
```

# iphone - 如何在 iphone 应用程序中滑动屏幕以查看我们在文本字段中输入的数据

> ID：14640220
> 
> 赞同：-2
> 
> 时间：2013-02-01T05:18:18.463
> 
> 标签：iphone, ipad, uitextfield

> **可能重复：**
> [让视图向上滑动为键盘腾出空间？](https://stackoverflow.com/questions/5892205/making-the-view-slide-up-to-make-room-for-the-keyboard)
> [Xcode/iOS5：当键盘出现时，向上移动 UIView](https://stackoverflow.com/questions/7952762/xcode-ios5-move-uiview-up-when-keyboard-appears)

当我们通常在文本字段中输入数据时，键盘会出现，它会隐藏我们在字段中输入的数据，所以屏幕是否应该向上滑动，以便我们可以看到在字段中输入的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:30:19.820

试试这个代码.......

```
 -(void)setViewMovedUp:(BOOL)movedUp
 {
 [UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:0.3]; // if you want to slide up the view

CGRect rect = self.view.frame;
if (movedUp)
{
    rect.origin.y -= moveKeyboard;
}
else
{
    rect.origin.y += moveKeyboard;
}
self.view.frame = rect;
[UIView commitAnimations];
}

  -(void)keyboardWillShow
 {
// Animate the current view out of the way
if (self.view.frame.origin.y >= 0)
{
    [self setViewMovedUp:YES];
}
else if (self.view.frame.origin.y < 0)
{
    [self setViewMovedUp:NO];
}
 }

 -(void)keyboardWillHide
 {
if (self.view.frame.origin.y >= 0)
{
    [self setViewMovedUp:YES];
}
else if (self.view.frame.origin.y < 0)
{
    [self setViewMovedUp:NO];
}
}

 - (void)viewWillAppear:(BOOL)animated
 {
[super viewWillAppear:animated];
// register for keyboard notifications
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow)
                                             name:UIKeyboardWillShowNotification object:nil];
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide)
                                             name:UIKeyboardWillHideNotification object:nil];
 }
 - (void)viewWillDisappear:(BOOL)animated
 {
[super viewWillDisappear:animated];
// unregister for keyboard notifications while not visible.
[[NSNotificationCenter defaultCenter] removeObserver:self name:UIKeyboardWillShowNotification object:nil];
[[NSNotificationCenter defaultCenter] removeObserver:self name:UIKeyboardWillHideNotification object:nil];
 } 
```

编辑：moveKeyboard 是浮动的。根据您的需要设置其值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:25:01.480

有通知 ( [`UIKeyboard[Will|Did][Show|Hide]Notification`](http://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html#//apple_ref/doc/uid/TP40009542-CH5-SW16)) 告诉您键盘即将出现或消失，您可以使用这些通知来触发移动视图的代码。有不同的方式来移动视图——你可以自己移动它们，根据需要调整它们的位置；您可以将它们全部放在一个视图中，这样您只需要移动容器；或者您可以将它们嵌入到滚动视图中并简单地调整滚动视图的内容偏移量。

请参阅 Apple 的文档[管理键盘](http://developer.apple.com/library/ios/#documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html)，尤其是名为“[移动位于键盘下方的内容”](http://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html#//apple_ref/doc/uid/TP40009542-CH5-SW7)的部分。那里也有示例代码，而且效果很好。

# python - 测试用例未为使用与 django contrib app 同名的应用程序运行

> ID：14640224
> 
> 赞同：0
> 
> 时间：2013-02-01T05:18:28.373
> 
> 标签：python, django, unit-testing

我刚刚意识到我将我的 django 应用程序`myproject.sites`命名为与内置 django 应用程序相同的名称，`'django.contrib.sites'`. （两者都在`INSTALLED_APPS`）

我刚刚为它编写完测试用例，发现当我尝试运行测试时它们不会运行：

```
manage.py test sites 
```

相反似乎运行`'django.contrib.sites'`，而不是`myproject.sites`。

我是否坚持重命名我的应用程序并重构我的所有代码，或者有什么方法可以运行为我创建的测试`myproject.sites`？

（如果我只运行所有测试，它可能会运行？还没有尝试过，因为运行我的应用程序的完整套件需要很长时间......）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:02:02.740

作为快速修复，只需将您`myproject.sites`的列表放在`INSTALLED_APPS`比`django.contrib.sites`. 默认的测试运行器会从`INSTALLED_APPS`.

对于较大的项目，我更喜欢使用[django-nose](https://github.com/jbalogh/django-nose)的额外功能，这将允许对运行哪些测试进行细粒度控制。

# python - NLTK bigram finder 的问题

> ID：14640230
> 
> 赞同：3
> 
> 时间：2013-02-01T05:18:47.357
> 
> 标签：python, nlp, nltk

我有一个标有“all.txt”的文本文件它包含一个普通的英文段落

出于某种原因，当我运行此代码时：

```
 import nltk
    from nltk.collocations import *
    bigram_measures = nltk.collocations.BigramAssocMeasures()
    trigram_measures = nltk.collocations.TrigramAssocMeasures()

    # change this to read in your data                                                                                                                                                   
    finder = BigramCollocationFinder.from_words(('all.txt'))

    # only bigrams that appear 3+ times                                                                                                                                                  
    #finder.apply_freq_filter(3)                                                                                                                                                         

    # return the 10 n-grams with the highest PMI                                                                                                                                         
    print finder.nbest(bigram_measures.pmi, 10) 
```

我得到以下结果：

```
 [('.', 't'), ('a', 'l'), ('l', '.'), ('t', 'x'), ('x', 't')] 
```

我做错了什么，因为我只收到信件？我要找的是单词而不是字母！

这是“all.txt”中内容的一个示例，因此您可以了解正在处理的内容：“反对这个计划的不仅仅是民主党人。全国各地的美国人都表示反对这个计划。我的民主同事和我有一个更好的计划，将加强道德规则，以改善国会问责制并确保适当考虑立法。共和党计划未能填补允许在议员阅读之前考虑立法的漏洞。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T05:36:28.697

第一个问题是您实际上并没有读取文件，您只是将包含文件路径的字符串传递给函数，第二个问题是您首先需要使用标记器。解决第二个问题：

```
from nltk.tokenize import word_tokenize
finder = BigramCollocationFinder.from_words(word_tokenize("This is a test sentence"))
print finder.nbest(bigram_measures.pmi, 10) 
```

产量`[('This', 'is'), ('a', 'test'), ('is', 'a'), ('test', 'sentence')]`

请注意，您可能想要使用不同的标记器——标记化包文档将详细解释各种选项。

在第一种情况下，您可以使用以下内容：

```
with open('all.txt', 'r') as data_file:
    finder = BigramCollocationFinder.from_words(word_tokenize(data_file.read()) 
```

# asp.net - 使用 PagedList 时模型项类型不明确

> ID：14640233
> 
> 赞同：0
> 
> 时间：2013-02-01T05:19:06.853
> 
> 标签：asp.net, asp.net-mvc-3, pagedlist

我正在 ASP.Net Mvc3 中开发一个网络调查应用程序。我在我的应用程序中使用 PagedList 单独对问题页面进行分页。

我收到以下错误：

```
The model item passed into the dictionary is of type
'PagedList.PagedList`1[SWSSMVC.Models.ViewModels.QuestionViewModel]', 
but this dictionary requires a model item of type 
'PagedList.IPagedList`1[SWSSMVC.Models.ViewModels.QuestionListViewModel]'. 
```

有一个类似性质的[问题。](https://stackoverflow.com/questions/6521775/the-model-item-passed-into-the-dictionary-is-of-type-models-app-but-what)据我了解，该解决方案说不指定匿名类型。有人可以指出我的代码在哪里我有匿名类型吗？我相信我已经用适当的模型输入了所有变量。

这是控制器的问题：

```
public class QuestionController : SessionController
{
    DBManager dbmgr = new DBManager();

    //
    // GET: /Question/

    public ActionResult Index(string currentSection, string currentPage, int? page)
    {
        int j;

        SectionSession = currentSection;
        PageSession = currentPage;

        var questionList = new QuestionListViewModel();

        int questionCount = dbmgr.getQuestionCount(currentPage);
        var question = new QuestionViewModel();
        for(int i=1 ; i<=questionCount; i++)
        {
            int questionid = dbmgr.getQuestionid(currentPage, i);
            string questiontext = dbmgr.getQuestion(questionid);

            List<string> oldchoices = dbmgr.getChoicesAns(questionid);
            ChoiceViewModel choice = new ChoiceViewModel();
            question = new QuestionViewModel { QuestionId = questionid, QuestionText = questiontext, Answer = oldchoices.Last()};

            for (j = 0; j < oldchoices.Count() - 1; j++)
            {
                if (oldchoices[j] != null)
                {
                    question.Choices.Add(new ChoiceViewModel { ChoiceId = j, ChoiceText = oldchoices[j] });
                }
            }
            questionList.Questions.Add(question);
        }

        int pageSize = 3;
        int pageNumber = (page ?? 1);

        return View(questionList.Questions.ToPagedList(pageNumber, pageSize));
    } 
```

有两种型号：

```
public class QuestionViewModel
{
    public int QuestionId { get; set; }
    public string QuestionText { get; set; }
    public List<ChoiceViewModel> Choices { get; set; }
    public string Answer { get; set; }
    [Required]
    public string SelectedAnswer { get; set; }
    public QuestionViewModel()
    {
        Choices = new List<ChoiceViewModel>();
    }
}

public class QuestionListViewModel
{
    public List<QuestionViewModel> Questions { set; get; }
    public QuestionListViewModel()
    {
        Questions = new List<QuestionViewModel>();
    }
} 
```

我正在输入我的部分-上述问题控制器的索引视图代码

```
@model PagedList.IPagedList<SWSSMVC.Models.ViewModels.QuestionListViewModel>
@{
    ViewBag.Title = "Index";
 }

 <h2>Questions</h2>

 @using (Html.BeginForm())
 {
    @Html.ValidationSummary(true)
    <fieldset>
       @foreach (var item in Model)
       {
           @Html.EditorFor(x => item.Questions)
       } 
```

我也有这样的编辑器模板

```
@model SWSSMVC.Models.ViewModels.QuestionViewModel
<div>
@Html.HiddenFor(x => x.QuestionId)
<h3> @Model.QuestionText </h3>
@foreach (var a in Model.Choices)
{
   <p>
      @Html.RadioButtonFor(b => b.SelectedAnswer, a.ChoiceText)  @a.ChoiceText 
   </p>
}
</div> 
```

我试图通过代码运行几次并且很难弄清楚。我也不知道如何将 questionList 设为 LINQ 变量，因为我的 questionList 又是由来自单独模型的问题和选择构成的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T13:42:42.073

PagedList 的创建者在这里。问题是这一行：

```
return View(questionList.Questions.ToPagedList(pageNumber, pageSize)); 
```

正在将 IPagedList 类型的模型向下发送到页面（因为扩展方法正在应用于 List 类型），但您的页面说它期待：

```
@model PagedList.IPagedList<SWSSMVC.Models.ViewModels.QuestionListViewModel> 
```

更改您的视图代码来代替应该修复它：

```
@model PagedList.IPagedList<SWSSMVC.Models.ViewModels.QuestionViewModel> 
```

# php - 进阶mysql

> ID：14640243
> 
> 赞同：0
> 
> 时间：2013-02-01T05:20:14.377
> 
> 标签：php, mysql

我用关键词标记照片，当点击链接后查看该照片时，我想检索具有相同关键词的照片集合的链接。我已经使用逗号分隔存储了标签关键词。任何人都可以建议我如何获得该数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:22:31.190

一个简单的解决方案是使用利用[LIKE 子句](http://dev.mysql.com/doc/refman/5.0/en/string-comparison-functions.html#operator_like)的查询：

```
SELECT * FROM `photo` WHERE `keywords` LIKE "%' . $keyword . '%" 
```

但是请记住，以逗号分隔的列表并不是执行此操作的最佳做​​法。通过将其保留在此列表中，您会占用不必要的空间，从而减慢传输时间并占用冗余空间。

理想情况下，您应该让另一个表处理标签（并将标签关键字链接到另一个表中）并简单地[加入](http://dev.mysql.com/doc/refman/5.0/en/join.html)表以获得您的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:30:24.813

MySQL 有一个`FIND_IN_SET()`可以用于此的函数：

```
SELECT * FROM Table WHERE FIND_IN_SET("tag", keywords) > 0 
```

# php - 使用 PHP 回显 print_r 的结果

> ID：14640248
> 
> 赞同：-5
> 
> 时间：2013-02-01T05:20:39.177
> 
> 标签：php, arrays, foreach, echo, google-places-api

有人可以教我如何回显这个 PHP 数组的结果吗？抱歉，我只是一个初学者，所以我不知道如何通过 print_r 回显结果。提前致谢。

这是测试结果。

```
Array
(
[html_attributions] => Array
    (
    )

[result] => Array
    (
        [address_components] => Array
            (
                [0] => Array
                    (
                        [long_name] => 101
                        [short_name] => 101
                        [types] => Array
                            (
                                [0] => street_number
                            )

                    )

                [1] => Array
                    (
                        [long_name] => South Capitol Boulevard
                        [short_name] => South Capitol Boulevard
                        [types] => Array
                            (
                                [0] => route
                            )

                    )

                [2] => Array
                    (
                        [long_name] => Boise
                        [short_name] => Boise
                        [types] => Array
                            (
                                [0] => locality
                                [1] => political
                            )

                    )

                [3] => Array
                    (
                        [long_name] => ID
                        [short_name] => ID
                        [types] => Array
                            (
                                [0] => administrative_area_level_1
                                [1] => political
                            )

                    )

                [4] => Array
                    (
                        [long_name] => US
                        [short_name] => US
                        [types] => Array
                            (
                                [0] => country
                                [1] => political
                            )

                    )

                [5] => Array
                    (
                        [long_name] => 83702
                        [short_name] => 83702
                        [types] => Array
                            (
                                [0] => postal_code
                            )

                    )

            )

        [formatted_address] => 101 South Capitol Boulevard #102, Boise, ID, United States
        [formatted_phone_number] => (208) 383-7990
        [geometry] => Array
            (
                [location] => Array
                    (
                        [lat] => 43.614959
                        [lng] => -116.20324
                    )

            )

        [icon] => http://maps.gstatic.com/mapfiles/place_api/icons/generic_business-71.png
        [id] => 91bf0748c063de6e9bf44c727ad51f4ef85d33ae
        [international_phone_number] => +1 208-383-7990
        [name] => U.S. Bank
        [photos] => Array
            (
                [0] => Array
                    (
                        [height] => 960
                        [html_attributions] => Array
                            (
                            )

                        [photo_reference] => CpQBiQAAAJ5QC7jSXHz6OUGp1FPaA55yn5BE9fZ6fxOzT1s4FFIIsvGvAecrFYK2eZZyrqI9nB8pRAdlwoJiSZkdxk-JtJawfmwCCr_fChdG-0T-iDyRnTlxRf5IAbsWb4r_AxX-B7uOlJCdoqzlqhdGmrA66ZDOKQLl-b_wabnfWFOEQFVCoUdJm4DuYWqva1kxH1ZWrRIQkc0ouj-W6VPrPWHm6V9jahoU-fIZnYc1jGMnhHKjgPdyDFR5aKM
                        [width] => 960
                    )

            )

        [reference] => CnRmAAAAMALLK7dmAZaKc0ESh4shESTdKRgs4a003f2Cm_ZQeCicE0kcbS54t5lZeQPgLQKmzH6PlzQRE_0TeHOw-1y6M_5esCUsMFmWbO0jDRSZ4ZTnXClSnof70T88tyIT7GXD_zXaQ13jSTgz_IfvSE6J4xIQxVgnzxjMyK2H5jrA9LyrTRoUueDADLmJEnqYUDYcS-Td_0VfVwQ
        [reviews] => Array
            (
                [0] => Array
                    (
                        [aspects] => Array
                            (
                                [0] => Array
                                    (
                                        [rating] => 0
                                        [type] => overall
                                    )

                            )

                        [author_name] => A Google User
                        [text] => Not helpful. Pain in the butt to work with. Tried to close my account multiple times and they'd just talk me in circles until I ran out of time and had to head to work or the store etc.
                        [time] => 1305826914
                    )

            )

        [types] => Array
            (
                [0] => atm
                [1] => bank
                [2] => finance
                [3] => establishment
            )

        [url] => https://plus.google.com/109932745180214578046/about?hl=en
        [utc_offset] => -420
        [vicinity] => 101 South Capitol Boulevard #102, Boise
        [website] => http://usbank.com/
        [address_fixed] => Array
            (
                [street_number] => 101
                [address_street_name] => South Capitol Boulevard
                [address_city] => Boise
                [address_state] => ID
                [address_postal_code] => 83702
            )

    )

[status] => OK
[errors] => Array
    (
    ) 
```

)

这是我的 PHP 脚本。

```
<?
require_once('googlePlaces.php');
//Searching a new place
$gplaces = New GooglePlaces;
$gplaces->SetLocation("43.612631,-116.211076");
$gplaces->SetRadius(50000);
$gplaces->SetTypes("bank");
$results = $gplaces->Search();

if($results[status] = "OK")
{
    $num_of_results = count($results[results]);

    $result_counter = 1;
    foreach($results[results] as $key=>$current_result)
        {
            if($result_counter >= 5)
                {
                    continue;   
                }

            $gplaces->SetReference($current_result[reference]);
            $details_result = $gplaces->Details();
            echo "<pre>";
            print_r($details_result);
            echo "</pre>";
            echo "<hr>";

            $result_counter++;
        }
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:24:51.237

最简单的形式：

```
echo '<pre>', htmlspecialchars(print_r($details_result, true)), '</pre>'; 
```

这将处理必要的 HTML 转义。如果那里有任何二进制数据并且在页面上使用 utf8 编码，则需要进一步[清理字符串](https://stackoverflow.com/questions/11709410/regex-to-detect-invalid-utf-8-string/11709412#11709412)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:23:39.880

```
echo $details_result['result']['address_components'][0]['long_name'] ; 
```

或者

```
foreach($details_result['result']['address_components'] as $res){
   echo $res['long_name'];
   echo "<br>";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:23:48.180

```
echo '<pre>' . print_r( $details, true ) . '</pre>'; 
```

# c# - 当我们使用时线程被中止

> ID：14640253
> 
> 赞同：17
> 
> 时间：2013-02-01T05:21:11.593
> 
> 标签：c#, asp.net

我收到以下异常：

> System.Threading.ThreadAbortException：线程被中止。
> 在 System.Threading.Thread.AbortInternal() 在 System.Threading.Thread.Abort(Object stateInfo) 在 System.Web.HttpResponse.End() 在 System.Web.HttpResponse.Redirect(String url, Boolean endResponse)
> 在 System.在taxi_selection.lnkbtnconfirm_Click(Object sender, EventArgs e) 的Web.HttpResponse.Redirect(String url)

我发现解决方案是使用：

```
Response.Redirect("home.aspx",false); 
```

但再次发生此错误。

对此有什么好的解决方案？

我的代码片段：

```
try
{
    Decimal Amount = 0;
    Int64 CabId = 0;
    String CabName = "";
    String CarImage = "";

    foreach (DataListItem gr in dtlstcars.Items)
    {
        RadioButton objcheck = (RadioButton)gr.FindControl("rdbtncarchecked");
        if (objcheck.Checked == true)
        {
            Literal ltrid = new Literal();
            ltrid = (Literal)gr.FindControl("ltrid");

            Label lbtaxiname = (Label)gr.FindControl("lbtaxiname");
            Label lbonewaycarprice = (Label)gr.FindControl("lbonewaycarprice");
            Label lbtwowaycarprice = (Label)gr.FindControl("lbtwowaycarprice");
            Image imgcar = (Image)gr.FindControl("imgcar");

            if (ltrid != null && lbtaxiname != null && imgcar != null && lbonewaycarprice != null && lbtwowaycarprice != null)
            {
                if (lbrootype.Text == "One")
                {
                    Amount = Convert.ToDecimal(lbonewaycarprice.Text);
                }
                else
                {
                    Amount = Convert.ToDecimal(lbtwowaycarprice.Text);
                }
            }
            CabId = Convert.ToInt64(ltrid.Text);
            CabName = lbtaxiname.Text;
            CarImage = imgcar.ImageUrl;
        }
   }
   if (lbroottype.Text != String.Empty && lbrouteid.Text != String.Empty && lbfrom.Text != String.Empty && lbpickupdate.Text != String.Empty && lbto.Text != String.Empty && lbpickupdate.Text != String.Empty && lbpickuptime.Text != String.Empty)
   { 
        Session.Add("BookingDetail", BookingDetail(lbroottype.Text, Convert.ToInt64(lbrouteid.Text), lbfrom.Text, lbto.Text, Convert.ToDateTime(lbpickupdate.Text), lbpickuptime.Text, Convert.ToDateTime(lbreturndate.Text), String.Empty, CabId, CabName, CarImage, Amount, txtPickupaddress.Text, txtDropaddress.Text, txtlandmark.Text, txtname.Text, ddmobilestdcode.SelectedValue, txtmobileno.Text, ddalternatestdcode.SelectedValue, txtalternateno.Text, txtemail.Text, lbdays.Text));//3
       Session.Remove("cart");
       Session.Remove("editcart");
       Response.Redirect("confirm");
   }
   else
   {
       Response.Redirect("home");
   }
}
catch (Exception ext)
{
    String msg = ext.Message;
    da.InsertRecordWithQuery("insert error_tbl values('" + msg + "')");
} 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-01T05:51:18.003

[http://support.microsoft.com/kb/312629](http://support.microsoft.com/kb/312629)

正如您在此处看到的，问题是您试图在 try/catch 块中使用 response.redirect。它抛出了一个异常。

您将呼叫更改为的解决方案`Response.Redirect(url, false)`应该有效。您需要确保在每次 Response.Redirect 调用时都执行此操作。

另请注意，这将继续执行，因此您必须处理它（防止它以其他方式继续执行）。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-01T05:50:59.493

当您不让页面的其余部分继续运行时，这就是重定向的工作方式。它停止线程并抛出该中止异常。您可以简单地将其忽略为：

```
try
{
    Response.Redirect("newpage.aspx", true);
}
catch (System.Threading.ThreadAbortException)
{
    // ignore it
}
catch (Exception x)
{

} 
```

## 注意力

如果您在不停止其余处理的情况下调用重定向，则可以使用[NoRedirect](https://addons.mozilla.org/en-us/firefox/addon/noredirect/)之类的插件停止重定向过程的黑客可以看到您页面的其余部分。！

为了证明我的观点，我提出一个问题：[Redirect to a page with endResponse to true VS CompleteRequest and security thread](https://stackoverflow.com/questions/14641143/redirect-to-a-page-with-endresponse-to-true-vs-completerequest-and-security-thre)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-01T05:51:00.553

`Response.Redirect`不指定`endResponse`参数 as `false`(默认为`true`) 将在`Response.End()`内部调用，因此将触发 a`ThreadAbortException`停止执行。

这里推荐两件事之一：

1.  如果您需要结束响应，请不要在 try/catch 中执行此操作。这将导致重定向失败。

2.  如果您不需要结束响应，请改为调用：

    Response.Redirect(url, false);

**在 try/catch 中：**

```
try {
    // do something that can throw an exception
    Response.Redirect(url, false);
    HttpContext.Current.ApplicationInstance.CompleteRequest();
} catch (SomeSpecificException ex) {
    // Do something with the caught exception
} 
```

**为了避免回发处理和 HTML 呈现，您需要做更多的事情：**

[http://web.archive.org/web/20101224113858/http://www.c6software.com/codesolutions/dotnet/threadabortexception.aspx](http://web.archive.org/web/20101224113858/http://www.c6software.com/codesolutions/dotnet/threadabortexception.aspx)

# prestashop - “sf-contener clearfix”结束标签在哪里？Prestashop 1.5.3.1

> ID：14640254
> 
> 赞同：0
> 
> 时间：2013-02-01T05:21:14.050
> 
> 标签：prestashop

我正在为 Prestashop 做一个项目，我有以下文件：

**块顶菜单.tpl**

**[https://github.com/PrestaShop/PrestaShop/blob/master/modules/blocktopmenu/blocktopmenu.tpl](https://github.com/PrestaShop/PrestaShop/blob/master/modules/blocktopmenu/blocktopmenu.tpl)**

我需要知道“sf-contener clearfix”的结束标签在哪里**</div>**

任何想法？

谢谢，对不起我的英语！

------ 编辑后的帖子 ------

我试过了，但对我没有用:(((

我在这里放置了“exampleDiv”：

**头文件.tpl**

```
<div id="header_right" class="grid_6 omega">
     {$HOOK_TOP}
     <div id="exampleDiv"></div>
</div> 
```

但我在 Firebug 中查看了这个结果：

```
<div id="header" class="grid_9 alpha omega">
   <a id="header_logo" href="#"></a>
   <div id="header_right" class="grid_6 omega">
   <div id="topMenu_bg_up"></div>
   <div class="sf-contener clearfix"></div>
   **i wanna to play here :D**
</div>

<div id="minic_slider" class="theme-default"></div>

<div style="display:none;">
   <div>
      <script type="text/javascript">
      <div id="exampleDiv"></div>
      **but it work in this other place :(**
   </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T10:07:28.527

这里： [https ://github.com/PrestaShop/PrestaShop/blob/master/themes/default/header.tpl#L84](https://github.com/PrestaShop/PrestaShop/blob/master/themes/default/header.tpl#L84)

#header_right 在 blocktopmenu.tpl 中关闭，顶部菜单显示在下方。

编辑：如果你想在topmenu之后添加内容，最好的方法是创建e模块，将它挂在toppage上并将它放在blocktopmenu之后。

# iphone - 从来自网络服务的位置创建多个折线的 MKOverlays

> ID：14640256
> 
> 赞同：1
> 
> 时间：2013-02-01T05:21:32.777
> 
> 标签：iphone, ios, mkmapview, mapkit, mkoverlay

我的应用程序是实时跟踪器，多个用户登录并通过将他们的坐标发送到我们的网络服务来更新他们的位置，然后每 2 分钟调用一次，让我们在我的`MapView`.

每次我从 Web 服务中获取用户的位置时`connectionDidFinishLoading`，我都会解析、创建并将它们添加`polyline`到：`pointsArray``overlay`

```
-(void) connectionDidFinishLoading: (NSURLConnection *) connection
{
userLatitudeArray = [[NSMutableArray alloc]init];
userLongitudeArray = [[NSMutableArray alloc]init];
userIdArray = [[NSMutableArray alloc]init];
userNameArray = [[NSMutableArray alloc]init];
userProfilePicArray = [[NSMutableArray alloc]init];
profilePicURLStringArray = [[NSMutableArray alloc]init];

[UIApplication sharedApplication].networkActivityIndicatorVisible = NO;

NSArray *trackingDict = [NSJSONSerialization JSONObjectWithData:empJsonData options:kNilOptions error:nil];

if ([trackingDict count] >= 2) {
    for (trackUsersCount = 0; trackUsersCount< trackingDict.count; trackUsersCount++) {
        NSLog(@"trackUsersCount %i", trackUsersCount);

        NSMutableArray *latlongArray = [[NSMutableArray alloc]init];
        latlongArray = [[trackingDict objectAtIndex:trackUsersCount]objectForKey:@"latlong"];

        [userLongitudeArray removeAllObjects];
        [userLatitudeArray removeAllObjects];

        for (int i = 0; i<latlongArray.count; i++) {
            [userLatitudeArray addObject:[[latlongArray objectAtIndex:i]objectForKey:@"lat"]];
            [userLongitudeArray addObject:[[latlongArray objectAtIndex:i]objectForKey:@"long"]];

        }

        NSString *name = [[trackingDict objectAtIndex:trackUsersCount]objectForKey:@"user_firstName"];

        // ProfilePIC URL
        profilePicURLString = [[trackingDict objectAtIndex:trackUsersCount]objectForKey:@"user_profilePicture"];

        [userNameArray addObject:name];
        [profilePicURLStringArray addObject:profilePicURLString];

        int i;
        if (userLatitudeArray.count>1) {

            for (i = 0; i<userLatitudeArray.count; i++) {
                CLLocationCoordinate2D userLocation;
                userLocation.latitude = [[userLatitudeArray objectAtIndex:i]doubleValue];
                userLocation.longitude = [[userLongitudeArray objectAtIndex:i] doubleValue];
                MKMapPoint * pointsArray = malloc(sizeof(CLLocationCoordinate2D)*userLongitudeArray.count);
                pointsArray[i] = MKMapPointForCoordinate(userLocation);
                polyline = [MKPolyline polylineWithPoints:pointsArray count:i];
                free(pointsArray);    
            }
            polyline.title = name;
            [mapView addOverlay:polyline];
        }
   }
  }
} 
```

我想要做的是控制`polyline`为每个用户创建的每一个，所以我可以更改它的颜色并通过单击一个按钮来隐藏/显示它们（一个显示/隐藏我的曲目，另一个显示/隐藏我的曲目和其他所有用户） ，这就是为什么我要为其添加标题。我现在可以看到我正在添加`polyline`相同的`overlay`内容，我认为这是错误的。但我不知道网络服务中会有多少用户，所以可以添加它们的多个叠加层。

最初我以为我可以删除`polyline`带有标题的特定内容，但后来我意识到随着`polyline.title`属性的更新，它正在删除所有内容。

任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:30:10.390

您可以收集一组与其他用户相关的轨迹，并为当前用户保留一条轨迹。如果您在`connectionDidFinishLoading`函数开始时清理数组并将其填充到您当前将叠加层添加到地图的位置，那么您将移动`addOverlay`到最后调用的新函数。

```
- (void) resetMap
{
  if (showOtherTracks)
  {
      [mapView addOverlays:otherUserTracks];
  } else {
      [mapView removeOverlays:otherUserTracks];
  }
  if (showMyTrack)
  {
      [mapView addOverlay:myTrack];
  } else {
      [mapView removeOverlay:myTrack];
  }
} 
```

您也可以在按下按钮并且状态更改时调用它。

# c++ - C ++从字符串发送字节？

> ID：14640264
> 
> 赞同：1
> 
> 时间：2013-02-01T05:22:08.257
> 
> 标签：c++, string

我正在编写一个与串行端口对话的小程序。我让程序在其中一条线路上运行良好；

```
unsigned char send_bytes[] = { 0x0B, 0x11, 0x00, 0x02, 0x00, 0x69, 0x85, 0xA6, 0x0e, 0x01, 0x02, 0x3, 0xf }; 
```

但是要发送的字符串是可变的，所以我想做这样的事情；

```
char *blahstring;
blahstring = "0x0B, 0x11, 0x00, 0x02, 0x00, 0x69, 0x85, 0xA6, 0x0e, 0x01, 0x02, 0x3, 0xf"
unsigned char send_bytes[] = { blahstring }; 
```

它不会给我一个错误，但它也不起作用..有什么想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-01T05:26:52.750

一个字节串是这样的：

`char *blahString = "\x0B\x11\x00\x02\x00\x69\x85\xA6\x0E\x01\x02\x03\x0f"`

另外，请记住，这不是常规字符串。如果您明确地将其声明为具有特定大小的字符数组，那将是明智的：

像这样：

```
unsigned char blahString[13] = {"\x0B\x11\x00\x02\x00\x69\x85\xA6\x0E\x01\x02\x03\x0f"};
unsigned char sendBytes[13];
memcpy(sendBytes, blahString, 13); // and you've successfully copied 13 bytes from blahString to sendBytes 
```

不是你定义的方式..

编辑：回答为什么你的第一个`send_bytes`有效，第二个无效：第一个，创建一个单独的字节数组。其中，第二个创建了一串 ascii 字符。所以 first 的长度`send_bytes`是 13 个字节，而 second 的长度`send_bytes`要高得多，因为字节序列是 ascii 等效于 second 中的单个字符`blahstring`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:28:13.533

`blahstring` is a string of characters.

1st character is 0, 2nd character is x, 3rd character is 0, 4th character is B etc. So the line

```
unsigned char send_bytes[] = { blahstring }; 
```

is an array (assuming that you preform a cast!) will have one item.

But the example that works is an array with the 1st character has a value 0x0B, 2nd character is of value 0x11.

# android - 如何在android中使用displaymetrics为所有设备做应用程序

> ID：14640269
> 
> 赞同：0
> 
> 时间：2013-02-01T05:23:01.420
> 
> 标签：android, android-emulator

嗨，我正在使用显示指标为所有设备做一个应用程序。我尝试使用下面的代码，但在某些设备中，如 1024/600,480/800 和密度 160，它工作完美。但在其他一些设备中，如 320/480 密度 160 文本大小是问题和显示图像时应用程序分发。请任何有想法的人建议我....

```
 register.class: 
  public class register extends Activity {
     /** Called when the activity is first created. */
       float screenHeight,screenWidth,screendensity;
          float textsize1;

        @Override
     public void onCreate(Bundle savedInstanceState) {
              super.onCreate(savedInstanceState);

        requestWindowFeature(Window.FEATURE_NO_TITLE);
   getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);
DisplayMetrics displaymetrics = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);
 screenHeight = displaymetrics.heightPixels;
 screenWidth = displaymetrics.widthPixels;
 screendensity = displaymetrics.densityDpi;
 Log.i("screenHeight",""+screenHeight);
 Log.i("screenWidth",""+screenWidth);
 Log.i("screendensity",""+screendensity);

 switch(displaymetrics.densityDpi){

 case DisplayMetrics.DENSITY_HIGH:

     //set text size
  textsize1=10;
     break;

 case DisplayMetrics.DENSITY_MEDIUM:

     //set text size
      textsize1=15;
     break;

 case DisplayMetrics.DENSITY_LOW:
       textsize1=8;
     //set text size
     break;
 }

    setContentView(R.layout.registerlh);

prntnm=(EditText)findViewById(R.id.parentedit);
    prntnm.setTextColor(Color.BLACK);
    InputFilter[] FilterArray1 = new InputFilter[1];
    FilterArray1[0] = new InputFilter.LengthFilter(20);
    prntnm.setFilters(FilterArray1);

    RelativeLayout.LayoutParams parentedit1 = (RelativeLayout.LayoutParams)   prntnm.getLayoutParams();    
    parentedit1.height=(int)(50*(screenHeight/600));

    parentedit1.width= (int)(300*(screenWidth/1024));

    parentedit1.topMargin=(int)(330*(screenHeight/600));
    parentedit1.leftMargin=(int)(670*(screenWidth/1024));
 }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:01:56.437

使用尺寸不硬编码值。对于文本使用“sp”，图像和其他使用“dp”

例子：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
<dimen name="textsize">15sp</dimen>
</resources> 
```

在每个 values 文件夹中使用 dimen.xml 文件（例如 values、values-v11、values-v14）并提供适当的大小。

使用这些值的示例：

```
textView.setTextSize(getResources().getDimension(R.dimen.textsize)); 
```

# asp.net - ASP.NET：为什么不能禁用控件状态

> ID：14640275
> 
> 赞同：2
> 
> 时间：2013-02-01T05:23:45.920
> 
> 标签：asp.net, viewstate, control-state

我知道 ASP.NET 不允许禁用控制状态。

有人知道**为什么**吗？我用谷歌搜索了很多，但只看到这是不可能的，但找不到“为什么？”

欢迎对此提出任何想法！

PS 在我的特殊情况下，我需要将很多项目放入一个不会用于服务器端事件的下拉列表中。我需要编写自己的自定义 DropDownList ... :(

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T05:28:24.950

控制状态与视图状态分离，因此可以在不破坏关键功能的情况下禁用视图状态。理论上，控件状态应该包含服务器控件正常运行所需的一切。

> ASP.NET 2.0 版中引入的控件状态类似于视图状态，但在功能上独立于视图状态。页面开发人员可以禁用页面的视图状态或单独的性能控制。但是，不能禁用控制状态。控件状态旨在存储控件的基本数据（例如分页器控件的页码），这些数据必须在回发时可用，以使控件即使在禁用视图状态时也能正常工作。

[http://msdn.microsoft.com/en-us/library/1whwt1k7(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/1whwt1k7(v=vs.100).aspx)

然而...... ASP.Net 在做出这种区分方面做得很差，尽管强制控制状态，禁用视图状态确实会破坏某些服务器控制。

在您的情况下，禁用下拉列表的视图状态应该会删除绝大多数状态数据；对于禁用视图状态的下拉菜单，控件状态通常非常小。我建议在编写自己的之前先尝试一下。

# android - 如何在 EditText 中选择文本并为 Android 中的富文本编辑提供工具提示

> ID：14640284
> 
> 赞同：0
> 
> 时间：2013-02-01T05:24:56.133
> 
> 标签：android, android-edittext

我们如何在 EditText 中选择部分文本。在选择了文本的那部分之后，我们如何提供一个工具提示来使该文本变得丰富，即在工具提示中提供不同的切换按钮类型的东西来改变字体样式、颜色、粗体、斜体等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:54:12.277

```
private class CustomTextWatcher implements TextWatcher 
{
    private EditText myEditText;

    public CustomTextWatcher(EditText e) 
    {
        myEditText = e;
    }

    public void beforeTextChanged(CharSequence s, int start, int count,int after) 
    {

    }

    public void onTextChanged(CharSequence s, int start, int before,
            int count) {
        //do the stuff you want to do here.
    }

    @Override
    public void afterTextChanged(Editable arg0) {

    }
} 
```

# php - 如何在橙色人力资源管理 2.7.1 中导入数据？

> ID：14640292
> 
> 赞同：0
> 
> 时间：2013-02-01T05:25:29.663
> 
> 标签：php, orangehrm

我只想将数据从橙色 hrm 2.6.3 传输到 2.7.1。

我从 Admin -> Data Import/Export 找到了员工的导出数据功能

我发现数据是从 PIM -> 配置 -> 数据导入/导出在 2.7.1 中导入的，但在示例 csv 中，我发现有很多列，例如所有帐户详细信息、国籍、国家/地区导出的 csv 中的字段。

或者有没有其他方法可以使用系统或直接从数据库将数据从 2.6.3 传输到 2.7.1。

如果有人有任何想法，请建议我。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-21T06:07:49.520

This is the instruction.

1.  in your old PC, go to localhost/xampp.
2.  then go to phpmyadmin section.
3.  and click on Export DataBase, and export your DataBase and save the file in your computer.
4.  go to new pc and access the localhost/xampp.
5.  then go to phpmyadmin section and import your database.
6.  Finish

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T06:27:38.380

这是“后端”方式。OrangeHRM数据迁移我没有什么特殊的方法，所以我只是使用通常的数据库转储。基本上，我会先转储数据库/表。然后，在导入新的数据库/表之前，我将删除当前的数据库/表（确保进行备份）。

如果要导入数据库，请尝试使用与旧数据库相同的名称，否则您可能需要删除`symfony/cache/orangehrm`文件夹、文件`lib/confs/Conf.php`和`symfony/config/databases.yml`文件并开始新安装。OrangeHRM 使用 YAML 库进行数据序列化。

不确定这两个版本之间的数据库结构是否有很多差异。

# php - CodeIgniter 分页，可能的路由问题？

> ID：14640293
> 
> 赞同：1
> 
> 时间：2013-02-01T05:25:36.797
> 
> 标签：php, codeigniter, pagination, routes

我正在尝试学习 CodeIgniter，但我遇到了分页问题。我是一个完整的新手，所以如果我错过了什么，我深表歉意。

分页显示在我的视图上很好，生成了它应该生成的所有内容，但是页面给了我一个 404。我怀疑它可能与路由或 uri_segment 有关（尽管我已将其更改为一大堆数字而没有成功了），但我不确定。

每个页面生成的 URL 是 /music3/music/20、/music3/music/40 等。

如果您需要我未包括的任何内容，请告诉我。

控制器：

```
$config['base_url'] = 'http://moefoster.com/music3/music/';
$config['total_rows'] = $this->db->count_all('Music');
$config['per_page'] = '20';
$config['num_links'] = '5';
$config['uri_segment'] = '2';

$this->pagination->initialize($config);

$data['music'] = $this->music_model->get_music($config['per_page'], $config['uri_segment']); 
```

模型：

```
public function get_music($num = 20, $offset = 0, $slug = FALSE) {
    if ($slug === FALSE) {
        return $this->db->select('*')->from('Music')->limit($num, $offset)->order_by('Release', 'desc')->get()->result_array();

    }

    $query = $this->db->get_where('Music', $num, $offset, array('Track' => $slug));
    return $query->row_array();

} 
```

路线：

```
$route['music'] = 'music';
$route['default_controller'] = "music";
$route['(:any)'] = 'pages/view/$1'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T12:23:44.797

您使用标准分页：/没关系，分页生成如下：

类/函数/分页编号

网址基础：

```
$config['base_url'] = 'http://moefoster.com/music/'; 
```

路线：

```
$route['music'] = 'music';
$route['music/(:num)'] = 'music/$1';
$route['default_controller'] = "music";
$route['(:any)'] = 'pages/view/$1'; 
```

但我在后端使用，\libraries\My_Pagination.php

```
<?php
if (! defined('BASEPATH')) exit('No direct script access allowed');

class MY_Pagination extends CI_Pagination
{
    var $offset = 0;
    var $pagination_selector = 'page';
    var $index_page;

    function MY_Pagination ()
    {
        parent::__construct();
        log_message('debug', "MY_Pagination Class Initialized");

        $this->index_page = config_item('index_page') != '' ? config_item('index_page') . '/' : '';
        $this->_set_pagination_offset();
    }

    function _set_pagination_offset ()
    {
        $CI = & get_instance();
        if (strstr($CI->uri->uri_string(), $this->pagination_selector)) {
            $segments = $CI->uri->segment_array();
            foreach ($segments as $key => $value) {
                if ($value == $this->pagination_selector) {
                    $this->offset = $CI->uri->segment($key + 1);
                    $this->uri_segment = $key + 1;
                    $uri = $CI->uri->uri_string();
                    $pos = strpos($uri, $this->pagination_selector);
                    $this->base_url = '/'.$this->index_page . substr($uri, 0, $pos + strlen($this->pagination_selector.'/'));
                }
            }        
        }
        else {
            $this->offset = 0;
            $this->uri_segment = 0;
            $this->base_url = '/'.$this->index_page . $CI->uri->uri_string() . '/' . $this->pagination_selector.'/';        
        }    
    }
} 
```

**示例控制器**

```
 function somefunction($somevariable){
        $config['total_rows'] = Model_Admin::getCountClankyCategory($somevariable); 
        $config['per_page'] = 25;
        $config['cur_tag_open'] = '#START SOME HTML#';
        $config['cur_tag_close'] = '#END SOME HTML#';
        $config['full_tag_open'] = '#START SOME HTML PAGINATION#';
        $config['full_tag_close'] = '#END SOME HTML PAGINATION#';  
        $this->pagination->initialize($config);          
      $data['content'] =  Model_Admin::getAllClankyCategory($somevariable,$config['per_page'],$this->pagination->offset);
.....
} 
```

**一些示例模型**

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Model_Admin extends CI_Model {
  private static $db;

  function __construct() 
  {
    parent::__construct();
    self::$db = &get_instance()->db;
  }
static function getAllClankyCategory($cat,$num,$offset)  {   
     self::$db->where('#MYTYPE#',$cat);
      return self::$db->get('#SOMETABLE#',$num,$offset)->result_array();   
    }

static function getCountClankyCategory($cat) {
         return self::$db->count_all_results('#SOMETABLE#');
     } 
```

那么如果你使用“一些硬代码路由”，比如路由，其他你使用没有这些路由

```
$route['admin/articles/cat/(:any)'] = "admin/cat/$1"; 
$route['admin/articles/cat/(:any)/(:num)'] = "admin/cat/$1/$2"; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-01T05:34:52.340

您可以查看我之前关于[分页](https://stackoverflow.com/questions/13519130/show-limited-no-of-page-links-in-codeigniter-pagination/13523440#13523440)的答案，该答案很好地解释了如何进行分页以及如何完美地处理网址.....

# android - 带设备的 SQLite 数据库

> ID：14640294
> 
> 赞同：0
> 
> 时间：2013-02-01T05:26:03.077
> 
> 标签：android, android-sqlite, sqlite

在我的 android 应用程序中，我使用 SQLite 数据库。它仅适用于模拟器。当我将我的 apk 文件安装到设备中时，它不会显示任何数据。但在我的模拟器中效果很好。我无法理解这个问题。

1）我是否将任何内容复制到设备以使其正常工作？

2）我创建的数据库对所有人都是通用的吗？

3）我是否为每个新用户备份数据库？

请有人解释

```
public class SQLiteAdapterv {

public static final String MYDATABASE_NAME2 = "MY_DATABASE2";
public static final String MYDATABASE_TABLE2 = "MY_VLGMAS";
public static final int MYDATABASE_VERSION = 1;
public static final String KEY_ID = "_id";
public static final String KEY_CONTENT1 = "Content1";
public static final String KEY_CONTENT2 = "Content2";

public static final String KEY_CONTENT3 = "Content3";
public static final String KEY_CONTENT4 = "Content4";
public static final String KEY_VCODE = "vcode";
public static final String KEY_VNAME = "vname";
public static final String KEY_DIVSEC= "divsec";

private static final String SCRIPT_CREATE_DATABASE1 =
          "create table " + MYDATABASE_TABLE2 + " ("
          + KEY_ID + " integer primary key autoincrement, "
          + KEY_VCODE + " text not null, "
          + KEY_VNAME + " text not null,"
          + KEY_DIVSEC + " text not null);";

private SQLiteHelper sqLiteHelper;
private  SQLiteDatabase sqLiteDatabase;
private Context context;

public SQLiteAdapterv(Context c)
{
    context=c;
}
public SQLiteAdapterv openToRead() throws android.database.SQLException {
      sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME2, null, MYDATABASE_VERSION);
      sqLiteDatabase = sqLiteHelper.getReadableDatabase();
      return this; 
     }
public SQLiteAdapterv openToWrite() throws android.database.SQLException {
      sqLiteHelper = new SQLiteHelper(context, MYDATABASE_NAME2, null, MYDATABASE_VERSION);
      sqLiteDatabase = sqLiteHelper.getWritableDatabase();
      return this; 
     }
public void close(){
      sqLiteHelper.close();
     }
public long insert(String vcode, String vname,String divsec){

      ContentValues contentValues = new ContentValues();
      contentValues.put(KEY_VCODE, vcode);
      contentValues.put(KEY_VNAME, vname);
      contentValues.put(KEY_DIVSEC, divsec);
      return sqLiteDatabase.insert(MYDATABASE_TABLE2, null, contentValues);
     }
public int deleteAll(){
      return sqLiteDatabase.delete(MYDATABASE_TABLE2, null, null);
     }
 public  Cursor queueAll(){
      String[] columns = new String[]{KEY_ID, KEY_VCODE, KEY_VNAME,KEY_DIVSEC};
      Cursor cursor = sqLiteDatabase.query(MYDATABASE_TABLE2, columns,
        null, null, null, null, null);
      return cursor;
     }
 public String getDivSec(String vname)
 {
     Cursor c=sqLiteDatabase.rawQuery("SELECT * FROM " + MYDATABASE_TABLE2 + " WHERE "+KEY_VNAME +"='"+ vname+"'",null);
     c.moveToFirst();
     String divsec="";
     if (c!=null)
     {
        divsec=c.getString(3);
     }
     c.close();
     return divsec;
 }

 public String[] getAllVillage()
 {
     int i=0;
     Cursor c=sqLiteDatabase.rawQuery("SELECT * FROM " + MYDATABASE_TABLE2 ,null);
     String[] villagelist=new String[c.getCount()];
     if (c.moveToFirst())
     {
         do
         {
             villagelist[i]=c.getString(2);
             i++;
         }while(c.moveToNext());
     }
     c.close();
    return villagelist;
 }
 public String getVcode(String vname)
 {
     Cursor c=sqLiteDatabase.rawQuery("SELECT * FROM " + MYDATABASE_TABLE2 + " WHERE "+KEY_VNAME +"='"+ vname+"'",null);
     c.moveToFirst();
     String vcode="";
     if (c!=null)
     {
        vcode=c.getString(1);
     }
     c.close();
     return vcode;
 }

 public class SQLiteHelper extends SQLiteOpenHelper
 {

    public SQLiteHelper(Context context, String name,
            CursorFactory factory, int version) {
        super(context, name, factory, version);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        db.execSQL(SCRIPT_CREATE_DATABASE1);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub

    }

 }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:22:28.333

Normally Sqlite data are stored in

```
 //data/data/<Your-Application-Package-Name>/databases/<your-database-name> 
```

But you can't see them unless you have root access. So You can store your database directly in SD card like this:

```
 static class  SQLiteHelper extends SQLiteOpenHelper {

 SQLiteHelper(final Context context) {
    super(context, Environment.getExternalStorageDirectory()
            + File.separator + "/DataBase/" + File.separator
            + DATABASE_NAME, null, DATABASE_VERSION);
} 
```

and now you can see created database in DataBase folder in /sdcard If you store ur databse in internal memory then you can also copy ur database from internal memory to SD card :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:35:10.080

是的，您需要将该数据库复制到 android 设备。有关解决方案，请参阅本 [教程](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)。

# asp.net-mvc-3 - Jquery-jtable中带有标签的文本框

> ID：14640302
> 
> 赞同：1
> 
> 时间：2013-02-01T05:26:52.687
> 
> 标签：asp.net-mvc-3, jquery-jtable

我想要一个文本框，我可以在其中输入标签作为 Jtable 中的字段之一。我对 Jtable 很陌生。我不知道这是否可能。

请参考附件中的图片。另外，我还想知道如何将这些来自标签文本框的多值数据存储在数据库中。

谢谢![在此处输入图像描述](../Images/3df96c16f68557729379725f6f0fb013.png)

# google-app-engine - 谷歌应用引擎中的Spring mvc重新定位映射

> ID：14640304
> 
> 赞同：1
> 
> 时间：2013-02-01T05:26:54.530
> 
> 标签：google-app-engine, spring-mvc

我在使用 Google Appengine 和 Spring mvc 资源映射时遇到了一个奇怪的问题

这是我的spring mvc资源映射xml内容

```
<bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping" />

<mvc:resources mapping="/images/**" location="/META-INF/static/images/" />
<mvc:resources mapping="/css/**" location="/META-INF/static/css/" /> 
```

在我的模板文件中，我将我的 css 文件引用为

```
<link href="/css/mystyle.css" type="text/css" rel="stylesheet" /> 
```

其中 mystyle.css 位于 war 文件夹中的 /META-INF/static/css/mystyle.css 中。

现在的问题是在运行应用程序时，我收到带有警告的 NumberFormatException

警告：/css/mystyle.css

并且 css 不会加载，但奇怪的是当我再次刷新时，它有时会毫无异常和警告地工作，有时却不会。

当我在 GAE 之外运行应用程序时，这个问题不存在，即我在 tomcat 服务器上运行，这很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T05:50:47.550

Google App Engine 有自己的静态文件映射，您可以在 appengine-web.xml 文件中使用。

请参阅[https://developers.google.com/appengine/docs/java/config/appconfig#Static_Files_and_Resource_Files](https://developers.google.com/appengine/docs/java/config/appconfig#Static_Files_and_Resource_Files)

# git - Git钩子，修改提交文件

> ID：14640306
> 
> 赞同：9
> 
> 时间：2013-02-01T05:26:59.817
> 
> 标签：git, bash, hook, commit, pre-commit-hook

我正在尝试编写一个 Git 预提交挂钩脚本。它应该在修改文件的开头写下提交日期。

我的问题是我无法将修改后的文件添加到以前的提交中。当我再次尝试调用 Git 提交时，它会递归运行。如何编写脚本，在修改文件末尾附加修改时间？

我的代码：

```
#!/bin/bash

files_modified=`git diff-index --name-only HEAD`

for f in $files_modified; do
    if [[ $f == *.groovy ]]; then
        $line = $(head -1 f)
        if [[ $line == "/%%*" ]];
           then
               sed -i 1d
           fi
           echo "/%% " + $(date +"%m_%d_%Y") + " %%\\" >> f
           git add f
    fi
done
git commit --amend #recursive
exit 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T07:33:41.390

您不能在*预*提交挂钩中修改提交。
而且您所做的类似于关键字扩展机制，这不是 Git（或任何 DVCS）的最佳实践，如“[通过 Git/Svn 为代码添加](https://stackoverflow.com/questions/1127177/to-put-the-prefix-revision-number-to-codes-by-git-svn/1127241#1127241)[前缀`?<revision-number>`](https://stackoverflow.com/questions/1127177/to-put-the-prefix-revision-number-to-codes-by-git-svn/1127241#1127241)”中所述。

其他方法包括：

*   生成一个包含您想要的信息的单独文件（*然后*提交）。
    参见例如“[将 Git SHA1 信息扩展为签入而不归档？](https://stackoverflow.com/a/2854493/6309) ”。
*   将该信息存储在 git note 中（与提交分开并且不更改 SHA1）。
    请参阅“[将 Git 注释添加到 blob](https://stackoverflow.com/a/9856913/6309) ”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-29T14:30:02.113

可能是带有[涂抹/清洁操作的](http://git-scm.com/book/en/Customizing-Git-Git-Attributes#Keyword-Expansion)[git 属性](http://git-scm.com/book/en/Customizing-Git-Git-Attributes)是您正在寻找的：

![在此处输入图像描述](../Images/cedeebf651986d9fc36c62c91a29d909.png)

![在此处输入图像描述](../Images/b3d1d3b450b33206ea43a55cf9a56f14.png)

相关： [使用 git smudge/clean 替换文件内容](https://stackoverflow.com/questions/14282083/use-git-smudge-clean-to-replace-file-contents)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-10-22T02:32:41.477

看看你的 pre-commit 钩子，你几乎有一些可以工作的东西。这是我认为需要的最小更改：

```
 #!/bin/bash
    files_modified=`git diff --cache --name-only --diff-filter=ACM`
            ### fix: use current branch; cached; and only files
    for f in $files_modified; do ### broken: if space in filename(s)
        if [[ $f == *.groovy ]]; then
            line=$(head -1 $f) ### fix: forgot a $ before f
            if [[ $line == "/%%*" ]];
            then
                sed -i 1d "$f" ### fix: forgot file argument
            fi
            echo "/%% " + $(date +"%m_%d_%Y") + " %%\\" >> $f
                    ### fix: forgot a $ before f
            git add -u $f ### fix: forgot a $ before f
        fi
    done
    ### undesired ### git commit --amend #recursive
    ### unneeded ### exit 
```

但是，我注意到您的实施存在几个问题。您将从文件顶部删除匹配“/%%*”的行，并在底部附加一个新行。每次运行此程序时，您将永远`/%% mm_dd_YYYY %%\`在文件末尾附加一个新行。这可能不是您想要的（1000 次提交之后，以前为空的文件将有 1000 行）。我认为你的意思是替换现有的生产线。在这种情况下，替换匹配行的 sed 翻译将起作用。

这是一个我认为更接近你想要的食谱：

```
 #!/bin/sh
    TMPFILE="/tmp/${0##*/}.$$"
    for f in $( git diff --cached --name-only --diff-filter=ACM ); do
            # XXX broken: if space in filename(s)
            case "$f" in
            *.groovy) : fall through ;;
            *) continue
            esac
            cp "$f" "$TMPFILE" || continue
            awk -v new="/%% $(date +%m_%d_%Y) %%\\" \
                    'NR==1{sub("^/%% .* %%\\\\$",new)}1' \
                    < "$TMPFILE" > "$f"
            git add -u -- "$f"
    done 
```

如果文件的第一行匹配`/%% ... %%\`，则使用当前日期/时间（在预提交挂钩时）更新它。

但是，这只是为了说明如何简单地完成它。这实际上不是一个完整的解决方案。上述脚本不适用于名称中包含空格、双引号、反斜杠、制表符等的文件。

对于一个完整的解决方案：

1.  使用以下预提交挂钩：

    ```
    #!/bin/sh
    git diff --cached --name-only -z --diff-filter=ACM |
            xargs -r0 .filters/myfilter 
    ```

2.  使用以下内容创建“.filters/myfilter”：

    ```
    #!/bin/sh
    TMPFILE="/tmp/${0##*/}.$$"
    for f in "$@"; do ### the only difference from above recipe
            case "$f" in
            *.groovy) : fall through ;;
            *) continue
            esac
            cp "$f" "$TMPFILE" || continue
            awk -v new="/%% $(date +%m_%d_%Y) %%\\" \
                    'NR==1{sub("^/%% .* %%\\\\$",new)}1' \
                    < "$TMPFILE" > "$f"
            git add -u -- "$f"
    done 
    ```

上面的实现可以处理你扔给它的任何文件名。

# bash - 计算一个字段中的值出现在另一个字段中的次数

> ID：14640309
> 
> 赞同：1
> 
> 时间：2013-02-01T05:27:16.617
> 
> 标签：bash, shell, awk

我最近在计算一个字段中某个值的重复次数方面获得了很大帮助，但我的下一步是根据另一个字段中的值 ($3) 计算一个字段中的值重复次数 ($1)结果在行尾，如下例所示：

输入文件
1,2,3
1,1,1
3,2,3
4,1,4
2,1,3
5,2,2
5,1,5
5,4,6

输出文件

```
1,2,3,1    
1,1,1,2    
3,2,3,1    
4,1,4,1    
2,1,3,1    
5,2,2,1    
5,1,5,3    
5,4,6,0 
```

如果可能的话，我正在考虑用 awk 来做这件事，但很高兴有任何其他建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:39:16.840

这是一种使用方法`awk`：

```
awk -F, 'FNR==NR { a[$1]++; next } { print $0, ($3 in a ? a[$3] : "0") }' OFS=, file file 
```

结果：

```
1,2,3,1
1,1,1,2
3,2,3,1
4,1,4,1
2,1,3,1
5,2,2,1
5,1,5,3
5,4,6,0 
```

解释：

```
FNR==NR { ... }   # for the first file in the arguments list

a[$1]++           # add column one to an array incrementing it's value.

next              # skip processing the rest of the code

{ ... }           # for every line in the second file in the arguments list

print $0          # print the line

($3 in a ? a[$3] : "0")    # ...followed by the value of the third field in the
                           # array if it is indeed in the array, else print "0".
                           # this is a ternary operator, much like an if/else 
                           # statement 
```

# javascript - Slides.js jQuery plugin not loading right in Chrome or Safari but fine in Firefox

> ID：14640311
> 
> 赞同：0
> 
> 时间：2013-02-01T05:27:48.603
> 
> 标签：javascript, jquery, plugins, slideshow

I am using this plugin: [http://slidesjs.com/](http://slidesjs.com/)

When I load my website: [http://26splitrockcove.com/](http://26splitrockcove.com/) in Firefox, this slideshow loads and works perfectly as it should. However when I load this website in Chrome or Safari it doesn't show anything, not even the preloading image, however it will soon show the slides, however it always waits until the last (or third) image in the slideshow, then when it transitions the transitions aren't how they should be.

Now, the really weird thing is that this only happens when you reload the page using the reload button, however if you click on the url and hit enter, in both Safari and Chrome - it works perfectly.

This is my javascript for it:

```
$(function(){
        $('.home .slides').slides({
            preload: true,
            preloadImage: 'assets/loading.gif',
            autoHeight: true, //before I used this, it didn't even show the third image at all
            play: 5000,
            slideSpeed: 1000,
            effect: 'slide',
            pagination: false,
            generatePagination: false,
            pause: 150,
            hoverPause: true
        }); 

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T17:51:23.990

我看了你的标记，看起来你忘记了一些 div/类。

**你的代码：**

```
<div class="slides">
    <div class="slideshow">
        <img src="photos/510ad67ebdf9c_thumb.jpg"/>
        <img src="photos/510ad71697e59_thumb.jpg"/>
        <img src="photos/510ad697b3734_thumb.jpg"/>
    </div>
</div> 
```

**你应该拥有的：**

```
<div class="slides">
    <div class="slides_container">
        <div>
            <img src="photos/510ad67ebdf9c_thumb.jpg"/>
        </div>
        <div>
            <img src="photos/510ad71697e59_thumb.jpg"/>
        </div>
        <div>
            <img src="photos/510ad697b3734_thumb.jpg"/>
        </div>
    </div>
</div> 
```

幻灯片 js javascript 查找“slides_container” div，然后根据它包含的 div 设置幻灯片。

资料来源：[slidesjs.com](http://slidesjs.com)

# solr - 您如何使用上帝监控 solr 服务器，而不是重新生成 bundle sunspot-solr start

> ID：14640312
> 
> 赞同：0
> 
> 时间：2013-02-01T05:27:48.900
> 
> 标签：solr, sunspot, sunspot-rails, sunspot-solr, god

问题是我用来启动 sunspot 的命令`bundle exec sunspot-solr start`本身会生成一个 solr 服务器，这是需要监控的实际进程，而不是原始命令。如果我只是设置 start 命令，那么它会不断尝试重新生成 sunspot-solr start，这是不必要的，因为底层 solr 进程仍在运行。知道如何正确监控吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T21:56:40.627

该`start`命令将 Sunspot 分叉到后台。您可能更喜欢使用该`run`命令，这会使 Sunspot 捆绑的 Solr 服务器在前台运行。这应该与 Foreman、Upstart 和 God 等工具更兼容。

# php - 任何带有 GD 库的 PHP 框架？

> ID：14640315
> 
> 赞同：-2
> 
> 时间：2013-02-01T05:28:21.187
> 
> 标签：php, gd

是否有任何 php 框架为 GD 库提供类？

我有一个项目，我必须将一个 png 与另一个 png 叠加

我熟悉大多数 php 框架。

编辑：SQL 在 PHP 中有可用的类，但是我们有包装器和可能更有组织的结构来访问它，称为模型。我在问那个上下文。

帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:33:28.297

[GD 通常用 PHP 编译](http://www.php.net/manual/en/ref.image.php)。不需要框架。

如果您的 PHP 副本没有，请参阅此处的安装说明： [http ://www.php.net/manual/en/image.installation.php](http://www.php.net/manual/en/image.installation.php)

# java - Morphia model for serializing HTTP Request in MongoDB

> ID：14640318
> 
> 赞同：1
> 
> 时间：2013-02-01T05:28:33.987
> 
> 标签：java, json, mongodb, schema, morphia

I am basically working on creating a restful API which produces surveys and consumes survey responses.

I want to use Morphia library for modelling the HTTP Request document in MongoDB.

I want to log incoming HTTP request data for a survey application and later planning to analyze the data by performing various kind of "rule matching" on that request data.

HTTP requests have a quite a lot of information in headers. I want to basically store those headers in a meaningful way.

There are some standard headers with specific values, and there are some custom headers with custom values. I want to treat standard headers like Referer,Cookie,URL etc as first class citizens for query the data later.

I am not intending to store request body in this model as it will have a variable size ranging from body of KiBs to many MiBs.

So following are kind of queries i'll be performing

*   Match HTTP Requests with Referer as major search engines. Match HTTP
*   Match requests where URL param is some kind of regex Match HTTP Request
*   Match requests where some Cookie and it's given value is present
*   and list goes on..

What should a Morhpia model look like to achieve I described above ?

Morphia : [http://code.google.com/p/morphia/](http://code.google.com/p/morphia/)

# mysql - Mysql 中的 Entityframework 与 NHibernate

> ID：14640319
> 
> 赞同：0
> 
> 时间：2013-02-01T05:28:36.123
> 
> 标签：mysql, entity-framework-4

嘿朋友我需要一个关于 EF 和 Nhibernate 的建议。目前我正在使用 MSSql 2008 R2 和实体框架在 MVC4 中开发应用程序。但现在我必须使用 Mysql 5.5 作为数据库。因为我对 mysql 完全陌生，所以我不知道 EF 是否支持它。

我在网上搜索并获取有关它的一些信息。但我想知道在 mysql 5.5中使用*** *NHibernate* ***或**EF**是否更好。以及mysql中的EF是否和MSSql一样

感谢您的任何建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:40:27.033

我个人的经验法则是，如果您仅使用 SQL Server 开发应用程序，则不要选择实体框架，因为它们正在迅速改进并带来出色的功能。

然而，如果您还必须使用其他数据库，Oracle 和 MySql 等，那么选择 NHibernate，他们的社区更大并且经过验证。

# android - 谷歌地图 当前位置 气球覆盖？

> ID：14640321
> 
> 赞同：0
> 
> 时间：2013-02-01T05:28:51.530
> 
> 标签：android, overlay, currentlocation, popup-balloons

我正在创建谷歌地图当前位置气球覆盖。

我使用 android-mapviewballoons 这段代码来显示气球。

此处当前位置显示正在工作。当我点击标记时，会出现错误（BalloonOverlayView 57,38 行和 BalloonItemizedOverlay 87,188,76 行）。

我知道错误在哪里，但我不明白那部分，任何人请帮助我

这是 LogCat 错误

```
02-01 05:09:31.606: W/Trace(1250): Unexpected value from nativeGetEnabledTags: 0
02-01 05:09:31.636: I/System.out(1250): 6666666666666
02-01 05:09:31.636: I/System.out(1250): 77777777
02-01 05:09:31.646: I/System.out(1250): 7777888888
02-01 05:09:31.656: I/System.out(1250): 33333333
02-01 05:09:31.756: I/System.out(1250): 1111111
02-01 05:09:31.756: W/Trace(1250): Unexpected value from nativeGetEnabledTags: 0
02-01 05:09:31.756: E/InputEventReceiver(1250): Exception dispatching input event.
02-01 05:09:31.766: E/MessageQueue-JNI(1250): Exception in MessageQueue callback: handleReceiveCallback
02-01 05:09:31.836: D/dalvikvm(1250): GC_CONCURRENT freed 275K, 11% free 3508K/3904K, paused 35ms+27ms, total 163ms
02-01 05:09:31.926: E/MessageQueue-JNI(1250): java.lang.NullPointerException
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.sygnet.locationingooglemap.BalloonOverlayView.setupView(BalloonOverlayView.java:57)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.sygnet.locationingooglemap.BalloonOverlayView.<init>(BalloonOverlayView.java:38)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.sygnet.locationingooglemap.BalloonItemizedOverlay.createBalloonOverlayView(BalloonItemizedOverlay.java:87)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.sygnet.locationingooglemap.BalloonItemizedOverlay.createAndDisplayBalloonOverlay(BalloonItemizedOverlay.java:188)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.sygnet.locationingooglemap.BalloonItemizedOverlay.onTap(BalloonItemizedOverlay.java:76)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.google.android.maps.ItemizedOverlay.onTap(ItemizedOverlay.java:453)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.google.android.maps.OverlayBundle.onTap(OverlayBundle.java:83)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.google.android.maps.MapView$1.onSingleTapUp(MapView.java:358)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.google.android.maps.GestureDetector.onTouchEvent(GestureDetector.java:562)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.google.android.maps.MapView.onTouchEvent(MapView.java:685)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.View.dispatchTouchEvent(View.java:7239)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2168)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1903)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at  android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1953)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1405)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.app.Activity.dispatchTouchEvent(Activity.java:2410)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1901)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.View.dispatchPointerEvent(View.java:7419)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:3220)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:3165)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:4292)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:4271)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:4363)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:179)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.os.MessageQueue.nativePollOnce(Native Method)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.os.MessageQueue.next(MessageQueue.java:125)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.os.Looper.loop(Looper.java:124)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at android.app.ActivityThread.main(ActivityThread.java:5039)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at java.lang.reflect.Method.invokeNative(Native Method)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at java.lang.reflect.Method.invoke(Method.java:511)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
02-01 05:09:31.926: E/MessageQueue-JNI(1250):   at dalvik.system.NativeStart.main(Native Method)
02-01 05:09:32.006: D/AndroidRuntime(1250): Shutting down VM
02-01 05:09:32.006: W/dalvikvm(1250): threadid=1: thread exiting with uncaught exception (group=0x40a70930)
02-01 05:09:32.096: E/AndroidRuntime(1250): FATAL EXCEPTION: main
02-01 05:09:32.096: E/AndroidRuntime(1250): java.lang.NullPointerException
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.sygnet.locationingooglemap.BalloonOverlayView.setupView(BalloonOverlayView.java:57)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.sygnet.locationingooglemap.BalloonOverlayView.<init>(BalloonOverlayView.java:38)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.sygnet.locationingooglemap.BalloonItemizedOverlay.createBalloonOverlayView(BalloonItemizedOverlay.java:87)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.sygnet.locationingooglemap.BalloonItemizedOverlay.createAndDisplayBalloonOverlay(BalloonItemizedOverlay.java:188)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.sygnet.locationingooglemap.BalloonItemizedOverlay.onTap(BalloonItemizedOverlay.java:76)
 02-01 05:09:32.096: E/AndroidRuntime(1250):    at com.google.android.maps.ItemizedOverlay.onTap(ItemizedOverlay.java:453)
 02-01 05:09:32.096: E/AndroidRuntime(1250):    at com.google.android.maps.OverlayBundle.onTap(OverlayBundle.java:83)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.google.android.maps.MapView$1.onSingleTapUp(MapView.java:358)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.google.android.maps.GestureDetector.onTouchEvent(GestureDetector.java:562)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.google.android.maps.MapView.onTouchEvent(MapView.java:685)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.View.dispatchTouchEvent(View.java:7239)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2168)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1903)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at   android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2174)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1917)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1953)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1405)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.app.Activity.dispatchTouchEvent(Activity.java:2410)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1901)
 02-01 05:09:32.096: E/AndroidRuntime(1250):    at android.view.View.dispatchPointerEvent(View.java:7419)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:3220)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:3165)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:4292)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:4271)
 02-01 05:09:32.096: E/AndroidRuntime(1250):    at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:4363)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:179)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.os.MessageQueue.nativePollOnce(Native Method)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.os.MessageQueue.next(MessageQueue.java:125)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.os.Looper.loop(Looper.java:124)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at android.app.ActivityThread.main(ActivityThread.java:5039)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at java.lang.reflect.Method.invokeNative(Native Method)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at java.lang.reflect.Method.invoke(Method.java:511)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-01 05:09:32.096: E/AndroidRuntime(1250):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
 02-01 05:09:32.096: E/AndroidRuntime(1250):    at dalvik.system.NativeStart.main(Native Method) 
```

这是 BalloonItemizedOverlay.java

```
 public abstract class BalloonItemizedOverlay<Item extends OverlayItem> extends ItemizedOverlay<Item> {

private static final long BALLOON_INFLATION_TIME = 300;
private static Handler handler = new Handler();

private MapView mapView;
private BalloonOverlayView<Item> balloonView;
private View clickRegion;
private View closeRegion;
private int viewOffset;
final MapController mc;
private Item currentFocusedItem;
private int currentFocusedIndex;

private boolean showClose = true;
private boolean showDisclosure = false;
private boolean snapToCenter = true;
private static boolean isInflating = false;

public BalloonItemizedOverlay(Drawable defaultMarker, MapView mapView) {
    super(defaultMarker);
    this.mapView = mapView;
    viewOffset = 0;
    mc = mapView.getController();
}

public void setBalloonBottomOffset(int pixels) {
    viewOffset = pixels;
}
public int getBalloonBottomOffset() {
    return viewOffset;
}

protected boolean onBalloonTap(int index, Item item) {
    return false;
}

protected void onBalloonOpen(int index) {}

@Override
public final boolean onTap(int index) {

    handler.removeCallbacks(finishBalloonInflation);
    isInflating = true;
    handler.postDelayed(finishBalloonInflation, BALLOON_INFLATION_TIME);
    System.out.println("6666666666666");
    currentFocusedIndex = index;
    currentFocusedItem = createItem(index);
    setLastFocusedIndex(index);

    onBalloonOpen(index);
    createAndDisplayBalloonOverlay();

    if (snapToCenter) {
        mc.animateTo(currentFocusedItem.getPoint());
    }

    return true;
}

protected BalloonOverlayView<Item> createBalloonOverlayView() {
    System.out.println("77777777");
    return new BalloonOverlayView<Item>(getMapView().getContext(), getBalloonBottomOffset());
}

protected MapView getMapView() {
    System.out.println("7777888888");
    return mapView;

}

public void hideBalloon() {
    if (balloonView != null) {
        balloonView.setVisibility(View.GONE);
        System.out.println("888888");
    }
    currentFocusedItem = null;
}

private void hideOtherBalloons(List<Overlay> overlays) {

    for (Overlay overlay : overlays) {
        if (overlay instanceof BalloonItemizedOverlay<?> && overlay != this) {
            ((BalloonItemizedOverlay<?>) overlay).hideBalloon();
            System.out.println("88886666666666688");
        }
    }       
}

public void hideAllBalloons() {
    if (!isInflating) {
        List<Overlay> mapOverlays = mapView.getOverlays();
        if (mapOverlays.size() > 1) {
            hideOtherBalloons(mapOverlays);
        }
        hideBalloon();
    }
}

private OnTouchListener createBalloonTouchListener() {
    return new OnTouchListener() {

        double startX;
        double startY;

        public boolean onTouch(View v, MotionEvent event) {

//              View l =  ((View) v.getParent()).findViewById(R.id.balloon_main_layout);
            Drawable d = v.getBackground();

            //Event Action Down
            if (event.getAction() == MotionEvent.ACTION_DOWN) {
                int[] states = {android.R.attr.state_pressed};
                if (d.setState(states)) {
                    d.invalidateSelf();
                    System.out.println("12122121212");
                }
                startX = event.getX();
                startY = event.getY();
                System.out.println("1111222211112222");
                return true;
            } 

            //Event Action Up
            else if (event.getAction() == MotionEvent.ACTION_UP) {
                int newStates[] = {};
                if (d.setState(newStates)) {
                    d.invalidateSelf();
                    System.out.println("0000011111");
                }
                if (Math.abs(startX - event.getX()) < 40 && Math.abs(startY - event.getY()) < 40 ) {
                    // call overridden method
                    onBalloonTap(currentFocusedIndex, currentFocusedItem);
                    System.out.println("12345678");
                }
                return true;
            } else {
                return false;
            }               
        }
    };
}

@Override
public Item getFocus() {
    return currentFocusedItem;
}

@Override
public void setFocus(Item item) {
    super.setFocus(item);   
    currentFocusedIndex = getLastFocusedIndex();
    currentFocusedItem = item;
    if (currentFocusedItem == null) {
        hideBalloon();
    } else {
        createAndDisplayBalloonOverlay();
    }   
}

private boolean createAndDisplayBalloonOverlay(){
    boolean isRecycled;
    if (balloonView == null) {
        balloonView = createBalloonOverlayView();
        clickRegion = (View) balloonView.findViewById(R.id.balloon_inner_layout);

        clickRegion.setOnTouchListener(createBalloonTouchListener());
        closeRegion = (View) balloonView.findViewById(R.id.balloon_close);
        if (closeRegion != null) {
            if (!showClose) {
                closeRegion.setVisibility(View.GONE);
                System.out.println("aaaaaaaa");
            } else {
                closeRegion.setOnClickListener(new OnClickListener() {
                    @Override
                    public void onClick(View v) {
                        hideBalloon();  
                        System.out.println("bbbbbbb");
                    }
                });
            }
        }

        if (showDisclosure && !showClose) {
            View v = balloonView.findViewById(R.id.balloon_disclosure);
            if (v != null) {
                v.setVisibility(View.VISIBLE);
                System.out.println("cccccccc");
            }
        }
        isRecycled = false;
    } 
    else {
        isRecycled = true;
    }

    balloonView.setVisibility(View.GONE);

    List<Overlay> mapOverlays = mapView.getOverlays();
    if (mapOverlays.size() > 1) {
        hideOtherBalloons(mapOverlays);
    }

    if (currentFocusedItem != null)
        balloonView.setData(currentFocusedItem);

    GeoPoint point = currentFocusedItem.getPoint();
    MapView.LayoutParams params = new MapView.LayoutParams(
            LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT, point,
            MapView.LayoutParams.BOTTOM_CENTER);
    params.mode = MapView.LayoutParams.MODE_MAP;

    balloonView.setVisibility(View.VISIBLE);
    System.out.println("dddddddd");
    if (isRecycled) {
        balloonView.setLayoutParams(params);
    } 
    else {
        mapView.addView(balloonView, params);
    }

    return isRecycled;
} 

public void setShowClose(boolean showClose) {
    this.showClose = showClose;
}

public void setShowDisclosure(boolean showDisclosure) {
    this.showDisclosure = showDisclosure;
}

public void setSnapToCenter(boolean snapToCenter) {
    this.snapToCenter = snapToCenter;
}

public static boolean isInflating() {
    return isInflating;
}

private static Runnable finishBalloonInflation = new Runnable() {
    public void run() {
        isInflating = false;
    }
};

} 
```

这是 BalloonOverlayView.java

```
public class BalloonOverlayView<Item extends OverlayItem> extends FrameLayout  {

LinearLayout layout;
private TextView title;
MainActivity main;
private CharSequence tvLocation;

public BalloonOverlayView(Context context, int balloonBottomOffset) {

    super(context);

    setPadding(10, 0, 10, balloonBottomOffset);

    layout = new LimitLinearLayout(context);
    layout.setVisibility(VISIBLE);

    setupView(context, layout);

    FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    params.gravity = Gravity.NO_GRAVITY;

    addView(layout, params);
}

protected void setupView(Context context, ViewGroup parent) {
    try {
    LayoutInflater inflater = (LayoutInflater) context
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View v = inflater.inflate(R.layout.balloon_overlay, parent);
    title = (TextView) v.findViewById(R.id.balloon_item_title);
    System.out.println("00000000000");
    }
    catch(Exception e)
    {
        System.out.println("1111111");
        title.setText(tvLocation);
    }

//      title.setText(tvLocation);
}

public void setData(Item item) {
    layout.setVisibility(VISIBLE);
    setBalloonData(item, layout);
    System.out.println("1113333");
}

protected void setBalloonData(Item item, ViewGroup parent) {
    if (item.getTitle() != null) {
        title.setVisibility(VISIBLE);
        title.setText(item.getTitle());
        title.setText(tvLocation);

        System.out.println("222222222");
    } else {
        title.setText("");
        title.setVisibility(GONE);
        System.out.println("111222222");
    }
}

private class LimitLinearLayout extends LinearLayout {

    private static final int MAX_WIDTH_DP = 280;

    final float SCALE = getContext().getResources().getDisplayMetrics().density;

    public LimitLinearLayout(Context context) {
        super(context);
        System.out.println("33333333");
    }

    public LimitLinearLayout(Context context, AttributeSet attrs) {
        super(context, attrs);
        System.out.println("444444");
    }

    @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        int mode = MeasureSpec.getMode(widthMeasureSpec);
        int measuredWidth = MeasureSpec.getSize(widthMeasureSpec);
        int adjustedMaxWidth = (int)(MAX_WIDTH_DP * SCALE + 0.5f);
        int adjustedWidth = Math.min(measuredWidth, adjustedMaxWidth);
        int adjustedWidthMeasureSpec = MeasureSpec.makeMeasureSpec(adjustedWidth, mode);
        System.out.println("555555555");
        super.onMeasure(adjustedWidthMeasureSpec, heightMeasureSpec);
    }
}

} 
```

这是 balloon_overlay.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/balloon_main_layout"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:background="@drawable/balloon_overlay_bg_selector"
android:minWidth="200dip"
android:orientation="horizontal"
android:paddingBottom="25dip"
android:paddingLeft="10dip"
android:paddingRight="0dip"
android:paddingTop="0dip" >

<LinearLayout
    android:id="@+id/balloon_inner_layout"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginTop="6dip"
    android:layout_weight="1" >

    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:gravity="center_vertical"
        android:minHeight="40dip"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/balloon_item_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="@android:color/primary_text_light"
            android:textSize="@string/txtsize"
            android:text="" />

    </LinearLayout>
    <ImageView
        android:id="@+id/balloon_disclosure"
        android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        android:layout_gravity="center_vertical"
        android:src="@drawable/balloon_disclosure"
        android:visibility="gone" />

</LinearLayout>

<ImageView
    android:id="@+id/balloon_close"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:paddingBottom="10dip"
    android:paddingLeft="10dip"
    android:paddingRight="5dip"
    android:paddingTop="5dip"
    android:src="@drawable/balloon_overlay_close" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:42:58.050

使用此代码，它对我来说工作正常：

```
public class CurrentLocationOverlay extends ItemizedOverlay<OverlayItem>{

    private ArrayList<OverlayItem> mapOverlays = new ArrayList<OverlayItem>();
    private MapView mapView;
    private Context context;

    //pin point drawable
    private Drawable marker;

    //balloon background
    private Drawable viewDrawable;

    private LinearLayout viewBubble;

    public CurrentLocationOverlay(Drawable defaultMarker) {
        super(boundCenterBottom(defaultMarker));
    }

    /**
     * 
     * @param defaultMarker
     * @param activity
     * @param context
     * @param mapView
     */
    public CurrentLocationOverlay(Drawable defaultMarker , Context context, MapView mapView) {
        this(boundCenterBottom(defaultMarker));
        this.mapView = mapView;
        this.context = context;
        marker = defaultMarker;
        growPopUpAnim = AnimationUtils.loadAnimation(context, R.anim.grow_from_bottom);
        viewDrawable =  context.getResources().getDrawable(R.drawable.currlocpopup);
    }

    @Override
    protected OverlayItem createItem(int i) {
        return mapOverlays.get(i);
    }

    @Override
    public int size() {
        return mapOverlays.size();
    }

    /**
     * 
     * @param gp
     * @param title
     * @param msg
     */
    public void addOverlay(GeoPoint gp , String title , String msg) {
        OverlayItem overlay = new OverlayItem(gp, title, msg); 
        mapOverlays.add(overlay);
        this.populate();
    }

    @Override
    protected boolean onTap(int index) {
        final int position = index;
            Log.v("Overlay index", "" + position);
            GeoPoint p = mapOverlays.get(index).getPoint();
            addBubble(p , position);
        return true;
    }

    /**
     * 
     * @param point
     * @param mapView
     */
    private void addBubble(GeoPoint point , int index) {
        dimissbubble(mapView);
        // if there isn't any bubble on the screen enter
        if (viewBubble == null) {
            viewBubble = new LinearLayout(context);
            viewBubble.bringToFront();
            viewBubble.setBackgroundDrawable(viewDrawable);

            TextView tv = new TextView(context);
            tv.setText(mapOverlays.get(index).getTitle());
            tv.setTextSize(16);
            tv.setTextColor(Color.WHITE);
            tv.setTypeface(null, Typeface.BOLD);

            viewBubble.setGravity(Gravity.CENTER_HORIZONTAL);

            viewBubble.setPadding(10, 10, 10, 10);

            viewBubble.addView(tv);

            MapView.LayoutParams mvlp = new MapView.LayoutParams(
                    MapView.LayoutParams.WRAP_CONTENT,
                    MapView.LayoutParams.WRAP_CONTENT, point,
                    0,  -marker.getIntrinsicHeight(),
                    MapView.LayoutParams.BOTTOM_CENTER);

            mvlp.mode = MapView.LayoutParams.MODE_MAP;

            mapView.addView(viewBubble, mvlp);
            viewBubble.startAnimation(growPopUpAnim);

            // And the event.
            viewBubble.setOnClickListener(new OnClickListener() {
                // When we touch the bubble it is removed. And make null
                // viewBubble to reuse it.
                @Override
                public void onClick(View v) {
                    mapView.removeView(viewBubble);
                    viewBubble = null;
                }
            });
        }
    }

    /**
     * 
     * @param mapView
     */
    private void dimissbubble(MapView mapView) {
        if (viewBubble != null) {
            mapView.removeView(viewBubble);
            viewBubble = null;
        }
    }
} 
```

添加这个：

```
 GeoPoint p = new GeoPoint(
                        (int) (location.getLatitude() * 1E6), 
                        (int) (location.getLongitude() * 1E6));

CurrentLocationOverlay currentLocationOverlay = new  CurrentLocationOverlay(mDrawable,context, mapView);
currentLocationOverlay.addOverlay(p ,"Current Location" , "");
mapView.getOverlays().add(currentLocationOverlay); 
```

# javascript - hide only value not its childrens

> ID：14640322
> 
> 赞同：1
> 
> 时间：2013-02-01T05:28:53.493
> 
> 标签：javascript, jquery, css, ajax

> **Possible Duplicate:**
> [jQuery: Find the text of a list item that contains a nested ul](https://stackoverflow.com/questions/1023199/jquery-find-the-text-of-a-list-item-that-contains-a-nested-ul)

```
<div id="pro">
<ol></ol>
<li id="4331">Region
      <ul>
         <li id="4332">Asia</li>
         <li id="6621">Europe</li>
      </ul>
</li>
</div> 
```

If I Click on Region only display Asia & Europe and Hide the Region when is clicked

i am using the .hide() method here is what i did so far:

```
$(document).ready(function() {
    $("li").live("click", function(event) {
        $("li").hide(); 
        event.cancelBubble = true;
        loadChild($(this).attr("id"), event);
        return false;
    })
}); 
```

my current output is:

```
<div id="pro">
<li id="4331" style="display: none;">
Region
   <ul>
      <li id="4332">Asia</li>
      <li id="6621">Europe</li>
   </ul>
</li>
</div> 
```

It hides everything...

but I want to hide only the parent Region
I want to be able to click on it and after clicking hide Region and show Asia And Europe only.

if possible to display both at different div like

click on Region its display in div 1 and there child on div 2

then also give the answer how it possible..

Please help me out with this thanks.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:32:38.650

您不能在`display: none`不影响所有子项的情况下将元素设置为（或其同类）。就是那样子。通过将父级和子级设置`font-size`为某个可见值，仍然可以在显示子级内容的同时伪隐藏“父级”内容：`0``font-size`

[http://jsfiddle.net/ExplosionPIlls/MPCEa/](http://jsfiddle.net/ExplosionPIlls/MPCEa/)

`event.cancelBubble = true;`可以替换为`e.stopPropagation()`。

`$("li").hide();`在方法的范围内应该是`$(this).hide()`。否则会影响到文档中的*所有* `<li>`s。

`.live`死了。将您的代码至少更新到 jQuery 1.7 并使用`.on`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:51:34.967

你不能真正隐藏它，但你可以通过抓住文本节点并删除它来删除它。

```
$("li#4331").contents().filter(function() {
  return this.nodeType == 3;
}).remove(); 
```

[http://jsfiddle.net/TLpk9/6/](http://jsfiddle.net/TLpk9/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:05:55.793

`<span>`如果你可以用标签包裹“区域” ，你可以有更好的控制。

# java - Selenium WebDriver findElements() Fails on Single Quotes

> ID：14640323
> 
> 赞同：0
> 
> 时间：2013-02-01T05:29:01.610
> 
> 标签：java, html, selenium, selenium-webdriver

My goal is to parse a block of HTML code like below to obtain the text, comments and replies fields as separate parts of the block:

```
<div id='fooID' class='foo'>
<p>
    This is the top caption of picture's description</p>
<p>
    T=<img src="http://www.mysite.com/images/img23.jpg" alt="" width="64" height="108"/>       </p>
<p>
    And here is more text to describe the photo.</p> 
<div class=comments>(3 comments)</div>
<div id='reply13' class='replies'>
   <a href=javascript:getReply('13',1)>Show reply </a></div>
</div> 
```

My problem is that Selenium's WebDriver does not seem to support non-string identifiers in the HTML (notice that the class field in the HTML is 'foo' and as opposed to "foo"). From all examples that I have seen in both the Selenium docs and in other SO posts, the latter format is what WebDriver commonly expects.

Here is the relevant part of my Java code with my various (unsuccessful) attempts:

```
java.util.List<WebElement> elementList =    driver.findElements(By.xpath("//div[@class='foo']"));
java.util.List<WebElement> elementList = (List<WebElement>)  ((JavascriptExecutor)driver).executeScript("return $('.foo')[0]");
java.util.List<WebElement> elementList = driver.findElements(By.xpath("//div[contains(@class, 'foo')]"));
java.util.List<WebElement> elementList = driver.findElements(By.cssSelector("div." + foo_tag)); // where foo_tag = "'foo'".replace("'", "\'");
java.util.List<WebElement> elementList = driver.findElements(By.cssSelector("'foo'")); 
```

Is there a sure way of handling this? Or is there an alternative, better way of extracting the above fields? Other info:

1.  I'm an HTML noob, but have made efforts to understand the structure of the HTML code/tags
2.  Using Firefox (and, accordingly, FirefoxDriver)

Your help/suggestions greatly appreciated!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T09:26:58.920

这是无效的 HTML，所以 Selenium 没有机会。你应该修复它。

您将有更好的机会使用 HTMLAgilityPack：

[http://htmlagilitypack.codeplex.com/](http://htmlagilitypack.codeplex.com/)

*当涉及到格式不*正确的（这是）HTML时，它会好一点。

下面是一个 SO 帖子，其中包含一些不同语言的一些不同选项，以及 HTMLAgilityPack 等工具。你应该找到一个合适的：

[HTML抓取的选项？](https://stackoverflow.com/questions/2861/options-for-html-scraping)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:33:43.943

问题是据我所知，html规范不知道单引号。因此，Selenum 网络驱动程序没有问题，问题在于 html。你有机会编辑html代码吗？

# image - 在 knockoutjs 中显示图像在 foreach 和 if 条件下不起作用

> ID：14640328
> 
> 赞同：0
> 
> 时间：2013-02-01T05:29:33.367
> 
> 标签：image, knockout.js

最近我开始研究knockoutjs ...我已经从数据库中获取数据以显示在html表上...我已经应用了foreach循环，因为我的DataTable返回了不止一行。我的一个名为“MaritalStatus”的字段是一个 BIT 类型，所以在我看来它显示的是真/假...而不是那个我想显示 Tick & Cross 的图像...这是我的观点：

```
<form action="" method="get">
<div style="width: 990px; background-color: White; height: 710px;">
    <table id="tbllist" align="center" style="border: 5px #fff solid;">
        <tr>
            <td colspan="6">
                <h2>
                    Employee List</h2>
            </td>
        </tr>
        <tr>
            <td colspan="6" style="padding: 0px;">
                <div id="title_p">
                    Listing</div>
            </td>
        </tr>
        <tr>
            <th align="left">
                Employee Code
            </th>
            <th align="left">
                Employee Name
            </th>
            <th align="left">
                Contact Number
            </th>
            <th align="left">
                Marital Status
            </th>
            <th align="left">
                Email ID
            </th>
            <th align="left">
            </th>
        </tr>
        <tbody data-bind="foreach:Employees">
            <tr style="border-bottom: 1px solid #000000;">
                <td>
                    <span data-bind="text: EmployeeCode"></span>
                </td>
                <td>
                    <span data-bind="text: EmployeeName"></span>
                </td>
                <td>
                    <span data-bind="text: ContactNumber"></span>
                </td>
                <td>
                     <!-- here instead of true/false i wanna show an image like tick for true & cross for false?????-->
                    <span data-bind="text: MaritalStatus"></span>
                </td>
                <td>
                    <span data-bind="text: EmailID"></span>
                </td>
            </tr>
        </tbody>
        <tbody>
            <tr style="border-bottom: 1px solid #000000;">
                <td>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</form> 
```

> 和我的视图模型（续上）：

```
var EmpViewModel = function () {
        //Make the self as 'this' reference
        var self = this;
        //Declare observable which will be bind with UI 
        self.EmployeeCode = ko.observable("0");
        self.EmployeeName = ko.observable("");
        self.ContactNumber = ko.observable("");
        self.MaritalStatus = ko.observable("");
        self.EmailID = ko.observable("");

        //The Object which stored data entered in the observables
        var EmpData = {
            EmpCode: self.EmployeeCode,
            EmpName: self.EmployeeName,
            ContactNumber: self.ContactNumber,
            MaritalStatus: self.MaritalStatus,
            EmailID: self.EmailID
        };

        //Declare an ObservableArray for Storing the JSON Response
        self.Employees = ko.observableArray([]);

        GetEmployees(); //Call the Function which gets all records using ajax call

        //Function to Read All Employees
        function GetEmployees() {
            //Ajax Call Get All Employee Records
            $.ajax({
                type: "GET",
                url: "/Exercise/GetEmployees/",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {
                    self.Employees(data); //Put the response in ObservableArray....This Also Works-----ko.mapping.fromJS(data, {}, self.Employees);

                },
                error: function (error) {
                    alert(error.status + "<--and--> " + error.statusText);
                }
            });
            //Ends Here
        }
    };

    ko.applyBindings(new EmpViewModel());
     //var data = '{"Employees":[{ "ID": 2, "EmployeeCode": "E 007", "EmployeeName": "Ravi kant", "Dob": null, "Age": null, "Address": null, "ContactNumber": "8285611607", "EmailID": "sunny.kant.kumar@gmail.com", "City": null, "MaritalStatus": true, "IsReference": false, "CityList": null, "CList": null }, { "ID": 4, "EmployeeCode": "E 002", "EmployeeName": "sunny kumar", "Dob": null, "Age": null, "Address": null, "ContactNumber": "8285611607", "EmailID": "sunny.kant.kumar@gmail.com", "City": null, "MaritalStatus": false, "IsReference": false, "CityList": null, "CList": null }, { "ID": 6, "EmployeeCode": "E 002", "EmployeeName": "sunny kumar", "Dob": null, "Age": null, "Address": null, "ContactNumber": "8285611607", "EmailID": "sunny.kant.kumar@gmail.com", "City": null, "MaritalStatus": false, "IsReference": false, "CityList": null, "CList": null }, { "ID": 7, "EmployeeCode": "123", "EmployeeName": "sunny kumar", "Dob": null, "Age": null, "Address": null, "ContactNumber": "8285611607", "EmailID": "sunny.kant.kumar@gmail.com", "City": null, "MaritalStatus": true, "IsReference": false, "CityList": null, "CList": null }, { "ID": 8, "EmployeeCode": "123", "EmployeeName": "fd", "Dob": null, "Age": null, "Address": null, "ContactNumber": "8285611607", "EmailID": "sunny.kant.kumar@gmail.com", "City": null, "MaritalStatus": true, "IsReference": false, "CityList": null, "CList": null}]}'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:49:46.397

更改`self.MaritalStatus = ko.observable("");`为`self.MaritalStatus = ko.observable(false);`

并使用它

```
<img src="tick.png" data-bind="visible : MaritalStatus" />

<img src="cross.png" data-bind="visible : !MaritalStatus"/> 
```

代替

```
<span data-bind="text: MaritalStatus"></span> 
```

检查这个**[JSFiddle](http://jsfiddle.net/vHWZD/)**

# php - 如何在 php 页面上显示存储在数据库中的图像？

> ID：14640332
> 
> 赞同：0
> 
> 时间：2013-02-01T05:30:34.650
> 
> 标签：php, mysql, image, blob

我已将图像上传到数据库中的表中，我想使用 php 在页面上显示图像。到目前为止，它所做的只是显示一大块丑陋的代码，我只是想知道如何更改它以呼应实际图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:32:24.430

```
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAA6CAYAAABs1g18AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABRhJREFUeNrsXY+VsjAMR98twAo6Ao4gI+gIOIKOgCPICDoCjCAjXFdgha+5C3dcv/QfFB5i8h5PD21Bfk3yS9L2VpGnlGW5kS9wJMTHNRxpmjYRy6SycgRvL18OeMQOTYQ8HvIoJKiiz43hgHkq1zvK/h6e/TyJQXeV/VyWBOSHA4C5RvtMAiCc4ZB9FPjgRI8+YuKcrySO515a1hoAY3nc4G2AH52BZsn+MjaAEwIJICKAIR889HljMCcyrR0QE4v/q/BVBQva7Q1tAczG18+x+PvIswHEAslLbfGrMZKiXEOMAMy6LwlisQCJLPFMfKdBtli5dIihRyH7A627Iaiq5sJ1ThP9xoIgSdWSNVIHYmrTQgOgRyRNqm/M5PnrFFopr3F6B41cd8whRUSufUBU5EL4U93AYRnIWimCIiSI1wAaAZpJ9bPnxx8eyI3Gt4QybwWa6T/BvbQECUMQFkhd3jSkPFgrxwcynuBaNT/u6eJIlbGOBWSNIUDFEIwPZFAtBfYrfeIOSRSXuUYCsprCXwUIZWYnmEhJFMIocMDWjn206c2EsGLCJd42aWSyBNMnHxLEq7niMrY2qyDbQUbqrrTbwUPtxN1ZZCitQV4ZSd6DyoxhmRD6OFjuRUS/KdLGRHYowJZaqYgjt9Lchmi3QYA/cXBsHK6VfWNR5jgA1DLhwfFe4HqfODBpINEECCLO47LT/+HSvSd/OCOgQ8qE0DbHQUBqpC4BkKMPYPkFY4iAJXhGAYr1qmaqQDbECCg5A2NMchzR567aA4xcRKclI405Bmt46vYD7/Gcjqfk6GP/kh1wovIDSHDfiAs/8bOCQ4cf4qMt7eH5Cucr3S0aWGFfjdLHD8EhCFvXQlSqRrY5UV2O9cfZtk77jUFMXeqzCEZqSK4ICkSin2tE12/3rbVcE41OBjBjBPSdJ1N5lfYQpIuhr8axnyIy5KvXmkYnw8VbcwtTNj7fDNCmT2kPQXA+bxpEXkB21HlnSQq0gD67jnfh5KavVJa/XQYEFSaagWwbgjNA+ywstLpEWTKgc5gwVpsyO1bTII+tA6B7BPS+0PiznuM9gPKsPVXbFdADMtwbJxSmkXWfRh6AZhyyzBjIHoDmnCGaMZAKjd5hyNJYCBGDOVcg28AXQ5atAVDO3c4dSALQnYblfa3M4kc/cyA7gMIUBQCTyl4kugIpy8yA7ACqK8Uwk30lIFGOEV3rPDAELwQkr/9YjkaCPDQhCcsrAYlF1v8W8jAEYeQDY7qn6tNGWudfq+YUEr6uq6FZzBpJMUfWFDatLHMCciw2mRC+k81qCCA1DzK4aUVfrJpxnloZWCPVnOgYy8L3GvKjE96HpweQoy7iwVQclVutLOEKJxA8gaRCjSzgNI2zhh3bQhzBCQQPIHGaHaUd96GJbZz3Smmjy16u6j3FuKyNxcBarxqWWfYFE0tVVO1Rl3t1Mb05V00MQCJ71YHpNaMcsjWAfkQvPPkaNC7LqTG7JAhGXTKYf+VDeXAX9IvURoAwtTFHvyYIxtnd5tPkywrPafcwbeSuGVwFau3b76NO7SHQrvqhfFE8kM0Wvpv8gVYiYBlxL+fW/34bgP6bIC7JR7YPDubcHCPzIp4+cum7U6NlhZgK7lua3KGLeFwE2m+HblDYWSHG2SAfINuwBBfxbJEIuWZbBH4fAExD7cvaGVyXyH0dhiAYc92z3ZDfUVv+jgb8HrHy7WVO/8BFcy9vuTz+nwADAGnOR39Yg/QkAAAAAElFTkSuQmCC" alt="Slim"/> 
```

IE ：

```
<img src="data:image/png;base64,your databse string from database" alt="Slim"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:35:04.673

试试下面的代码，一些部分取自[这里](https://stackoverflow.com/questions/2633908/php-display-image-with-header)

```
$filename = basename($file);
$file_extension = strtolower(substr(strrchr($filename,"."),1));

switch( $file_extension ) {
    case "gif": $ctype="image/gif"; break;
    case "png": $ctype="image/png"; break;
    case "jpeg":
    case "jpg": $ctype="image/jpg"; break;
    default:
}
header('Content-type:'.$ctype);
readfile($file); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:35:31.910

```
$query = mysql_query('select image from table');

$row = mysql_fetch_assco($query);

$image = $row['image'];

echo "<img src='type:image/png;path/yourpath/'$image>"; 
```

# jsf - jsf组件渲染问题

> ID：14640335
> 
> 赞同：1
> 
> 时间：2013-02-01T05:30:56.660
> 
> 标签：jsf, jsf-2

```
<h:commandLink value="Request Permission" rendered="#{dataTableWidgetVar.permissionStatus} eq null?true:false">
<f:setPropertyActionListener value="#{DocData}" target="#{requestController.docResult}" />
                                                   </h:commandLink>

<h:outputText value="#{dataTableWidgetVar.permissionStatus}" rendered="#{dataTableWidgetVar.permissionStatus} eq 'Request Pending'?true:false"> 
```

在上面的代码中，我有一个`commandlink`和一个`outputtext`。我在某些条件下渲染它们。

1.  `commandlink`将呈现何时`"#{dataTableWidgetVar.permissionStatus}`将为空。
2.  `outputtext``"#{dataTableWidgetVar.permissionStatus}`将在等于字符串值*"Request Pending"*时呈现。

但是，当我运行这段代码时，它什么也没显示。既不是*commandlink*也不是*outputtext*。

我想知道我在这里做错了什么。

是条件`#{dataTableWidgetVar.permissionStatus} eq null?true:false"`还是其他什么问题？我已经通过在相同的 xhtml 页面上打印值进行了测试，`#{dataTableWidgetVar.permissionStatus}`以确保即使我得到了这些值，并且它们存在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:43:52.957

尝试

```
rendered="#{dataTableWidgetVar.permissionStatus eq 'Request Pending'? true:false}" 
```

# regex - 正则表达式所有 0 和 1 的 4 个字符或更少，仅使用 | () * 和连接

> ID：14640336
> 
> 赞同：0
> 
> 时间：2013-02-01T05:30:57.723
> 
> 标签：regex, regular-language

不使用“扩展”正则表达式运算符，例如 {}、?、^ 和 +，**仅**使用| () * 和 concat，如果语言中的唯一字符是 0 和 1，正则表达式如何找到长度为 4 或更短的所有字符串？

正则表达式应匹配：

0 或 1

10 或 01

111 或 110 或其他长度 3 个字符串

0011 或 0010 或其他长度为 4 的字符串

但不是 01101 或任何 5 或更长的字符串。

我能够为该语言绘制一个确定性的有限状态自动机，但未能成功确定正则表达式。

我的猜测是它不能使用 * 并且类似于 (0|1)(0|1)(0|1)(0|1) 但我没有办法制作最后三组括号可选的。

编辑：这是一个家庭作业问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:41:01.790

这可以通过这个正则表达式轻松实现：`^[01]{1,4}$`. 我不明白为什么不想`{}`在正则表达式中使用。

`[01]`将允许这两个数字之一，并`{1,4}`声明可能只有 1 到 4 个零或一。`^`并`$`指明字符串的开始和结束。

如果你仍然不想使用`{}`，你可以这样做：

```
^(([01][01][01][01])|([01][01][01])|([01][01])|([01]))$ 
```

如果您也不允许使用`[]`，则可以使用此正则表达式。

```
^(((0|1)(0|1)(0|1)(0|1))|((0|1)(0|1)(0|1))|((0|1)(0|1))|((0|1)))$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:13:59.950

(0|1)|(00|01|10|11)|(000|001|010|011|100|101|110|111)|(0000|0001|0010|0011|0100|0101|0110|0111 |1000|1001|1010|1011|1100|1101|1110|1111)

# android - 是否可以在特定时间段后停止视频

> ID：14640338
> 
> 赞同：0
> 
> 时间：2013-02-01T05:31:06.227
> 
> 标签：android, android-mediaplayer, mediacontroller

我目前正在使用此代码播放音频和视频文件，但我需要能够在特定时间范围（如 30 秒）后停止视频/音频文件。是否可以使用我一直在尝试但未成功的 videoview 和 mediacontroller。

有人可以给我一些可以执行此功能的代码片段。

```
public class AudioActivity extends Activity {
TextView audioTitleValue;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    /** REMOVE TITLE **/
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.moveplay);
    overridePendingTransition(R.anim.fadein, R.anim.fadeout);

    final VideoView audioView = (VideoView) findViewById(R.id.VideoView);
    final MediaController mediaController = new MediaController(this);
    mediaController.setAnchorView(audioView);

    Bundle extras = getIntent().getExtras();
    String pathfile = extras.getString("key");
    Log.v("key = ",pathfile);

    Uri audio = Uri.parse(pathfile);
    audioView.setMediaController(mediaController);
    audioView.setVideoURI(audio);
    audioView.start();
} 
```

}

以及相关的 xml 文件

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#000000"
android:orientation="vertical" >
<LinearLayout
    android:id="@+id/linearLayout1"
    android:layout_width="fill_parent"
    android:layout_height="35dp" >
    <TextView
        android:id="@+id/textView2"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_gravity="center"
        android:paddingLeft="25dp"
        android:paddingTop="7dp"
        android:text="@string/app_name"
        android:textColor="#999999" />
</LinearLayout>
<ImageView
    android:id="@+id/imageView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:paddingTop="35dp"
    android:src="@drawable/musicplayergraphic" />
<VideoView
    android:id="@+id/VideoView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
</VideoView> 
```

# python - 基于值提取字典对

> ID：14640342
> 
> 赞同：1
> 
> 时间：2013-02-01T05:31:25.257
> 
> 标签：python

我想根据它们的*值*从该字典中复制对，以便将它们分配给新变量。根据我的研究，基于键执行[此](https://stackoverflow.com/questions/5352546/best-way-to-extract-subset-of-key-value-pairs-from-python-dictionary-object)操作似乎很容易 ，但在我的情况下，值就是我正在跟踪的值。

```
things = ({'alpha': 1, 'beta': 2, 'cheese': 3, 'delta': 4})

```

在虚构的语言中，我可以像这样分配变量 -

```
smaller_things =  all values =3 in things 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:39:30.750

您可以使用`.items()`遍历这些对并进行如下更改：

```
smaller_things = {}
for k, v in things.items():
    if v == 3:
        smaller_things[k] = v 
```

如果你想要一个单行并且只需要返回键，列表理解将做到这一点：

```
smaller_things = [k for k, v in things.items() if v == 3]

>>> things = { 'a': 3, 'b': 2, 'c': 3 }
>>> [k for k, v in things.items() if v == 3]
['a', 'c'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:43:31.470

这个答案是根据我对你问题的理解。字典是一种哈希表，字典的主要内涵是为值提供非整数索引。字典中的键就像索引一样。

假设考虑“数组”，数组中的元素由索引寻址，我们有元素的索引而不是索引的元素。就像我们在字典中的值有键（非整数索引）一样。

并且有一个暗示字典中的值是不可散列的，我的意思是字典中的值是可变的，字典中的键是不可变的，只是值可以随时更改。

简单地说，通过使用字典中的值来解决任何事情都不是好方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:44:11.003

您可以反转字典并从中提取：

```
keys_values = { 1:"a", 2:"b"}
values_keys = dict(zip(keys_values.values(), keys_values.keys()))
print values_keys
>>>  {"a":1, "b":2} 
```

这样你就可以用标准的字典语法做任何你需要的事情。

潜在的缺点是如果您在原始字典中有非唯一值；原始中具有相同值的项目在反向字典中将具有相同的键，因此您不能保证哪个原始键是新值。并且可能某些值是不可散列的（例如列表）。

除非你有强迫自己聪明的需要，否则迭代项目更容易：

```
for key, val in my_dict.items():
    if matches_condition(val):
        do_something(key) 
```

# ios - 我们没有从 facebook 获得所有帖子

> ID：14640345
> 
> 赞同：0
> 
> 时间：2013-02-01T05:31:49.453
> 
> 标签：ios, facebook-graph-api, iphone-developer-program

这是我获取帖子的查询

```
 NSString *fqlquery= @"SELECT post_id,message FROM stream WHERE source_id = '100005146987508' limit 10000";
             self.newurl=[NSString stringWithFormat:@"https://graph.facebook.com/fql?q=%@  &access_token=%@",fqlquery,appDelegate.session.accessToken]; 
```

它返回

```
{
   "data": [

   ]
} 
```

看来我们没有得到所有的结果。我们做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T10:47:42.610

我重现了这个错误。要求

```
SELECT post_id, actor_id, target_id, message, source_id FROM stream WHERE filter_key in (SELECT filter_key FROM stream_filter WHERE uid=me()) AND source_id='xxx' 
```

返回大约 40 行

要求

```
SELECT post_id, actor_id, target_id, message, source_id FROM stream WHERE source_id='xxx' 
```

仅返回 2 行

我认为你会增加限制`filter_key in (SELECT filter_key FROM stream_filter WHERE uid=me())`

# ruby-on-rails - 在 Rails 中正确管理时区

> ID：14640346
> 
> 赞同：1
> 
> 时间：2013-02-01T05:31:50.680
> 
> 标签：ruby-on-rails, timezone

我有一个用 RoR 编写的后端，我需要管理来自世界各地不同对等方的许多请求。我有以下问题：

*   更改`config.timezone`每个请求是否合适？

    *   如果**是**：

        *   假设 2 个请求同时到达我的服务器。两者的时区会不同吗？（意味着，会有两个不同的地方`config.timezone`吗？）
        *   我找不到任何方法来使用所需的 UTC 设置配置时区，例如`Time.zone = 'UTC+X'`
    *   如果**没有**：

        *   你知道有什么方法可以轻松正确地管理它吗？我有很多时区操作要做，那么在配置中设置它会更容易。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:54:16.987

基于对这个问题的回答： [在 Rails 中将时间从一个时区转换为另一个时区](https://stackoverflow.com/questions/1386871/convert-time-from-one-time-zone-to-another-in-rails)

由于线程问题，使用 config.timezone 似乎是一个坏主意。

我建议使用 ActiveSupport TimeZone 和 TimeWithZone 类。这使您可以按照以下方式进行操作：

```
# Return the simultaneous time in Time.zone or the specified zone
Time.now.in_time_zone                      # => Tue, 13 Jul 2010 01:20:55 EDT -04:00
Time.now.in_time_zone(Time.zone)           # => Tue, 13 Jul 2010 01:20:55 EDT -04:00
Time.now.in_time_zone("Asia/Vladivostok")  # => Tue, 13 Jul 2010 16:20:55 VLAST +11:00
Time.now.in_time_zone(-3.hours)            # => Tue, 13 Jul 2010 02:20:55 BRT -03:00

# Switch to a given timezone within a block
Time.use_zone "Asia/Vladivostok" do
  Time.zone.now # => Tue, 13 Jul 2010 16:20:55 VLAST +11:00
end 
```

示例代码来自[http://ofps.oreilly.com/titles/9780596521424/active-support.html](http://ofps.oreilly.com/titles/9780596521424/active-support.html)

在“时区转换”下查看

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:37:56.813

为每个请求更改不是一个好主意`config.timezone`，但是是的，应该根据每个请求处理时区。

查看[elabs的人员撰写的题为在](http://www.elabs.se)[Ruby on Rails](http://www.elabs.se/blog/36-working-with-time-zones-in-ruby-on-rails)中使用时区的优秀而全面的博文，以获取有关如何处理多个时区的建议。

Ryan Bates 修订版的[Time Zones RailsCasts 插曲](http://railscasts.com/episodes/106-time-zones-revised)是另一个很好的资源。

# node.js - 使用 mongoose 在 mongodb 中处理 upsert 函数时，TTL 无法正常工作

> ID：14640348
> 
> 赞同：0
> 
> 时间：2013-02-01T05:31:55.110
> 
> 标签：node.js, mongodb, mongoose, ttl

嗨，我在 mongodb 中遇到了一个称为 ttl 的概念，并在使用 mongoose 的插入操作中尝试了相同的概念。下面是代码

```
mongoose = require('mongoose');
var Schema = mongoose.Schema;
var META_CTS_DB = mongoose.createConnection('mongodb://localhost/META');
var ttl= require('mongoose-ttl');
var date1=new Date();
var ServiceSchema = new Schema({
_id:String, 
CURDATE:{type:Date,index:true},
SERVICE_PROTOCOL:String, 
});
ServiceSchema.plugin(ttl, { ttl:5000 });
var MasterDBdata = META.model('ServiceSchema',ServiceSchema,'API_KEY_91994094177912_SERVICE_ID_0008_SERVICE_CONFIG');
var item = new MasterDBdata({'_id':'SERVICE_ID_0006','CURDATE':date1,'SERVICE_PROTOCOL':'Nil'});
item.save(); 
```

ttl 对此工作正常，并且集合确实被删除了。但是当我对更新功能执行相同的操作时，如下所示

```
MasterDBdata.update({'_id':'SERVICE_ID_0006'},{'CURDATE':date1,'SERVICE_PROTOCOL':'hhl'},{upsert:true},function (err){

                                                        if (err) return handleError(err);
                                                        console.log('\n data stored in Database...')}); 
```

ttl 函数似乎无法正常工作。关于 ttl 的行为及其在这些函数上的性能的任何想法都会非常有帮助。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T14:21:05.143

该`mongoose-ttl`插件使用自己的隐藏`__ttl`字段来跟踪文档的到期时间，因此更新您自己的`CURDATE`字段不会有任何效果。

如果您使用的是 MongoDB 2.2，您应该使用对 TTL 集合的本机支持而不是插件，定义`CURDATE`为您在上一个问题中讨论的[关键字](https://stackoverflow.com/a/14597622/1259510)`expires`段。

# c++ - 当我访问数组的越界元素时，为什么不会出现运行时错误？

> ID：14640351
> 
> 赞同：0
> 
> 时间：2013-02-01T05:32:18.533
> 
> 标签：c++, c, arrays, runtime-error, indexoutofboundsexception

在下面的这段代码中，我尝试访问数组的第 '-1' 个元素，但没有收到任何运行时错误。

```
#include <stdio.h>

int A[10] = {0};

int main(){

    A[-1] += 12;

    printf("%d",A[-1]);

    return 0;
} 
```

当我运行代码时，它输出`12`这意味着它将 12 添加到不存在的 A[-1]。直到今天，每当我尝试访问越界元素时，都会遇到运行时错误。我以前从未在简单的代码上尝试过。

谁能解释为什么我的代码运行成功？

我在我的电脑和[ideone](http://ideone.com/hjoOJP)上运行它，在这两种情况下它都运行成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:34:54.250

C 和 C++ 没有任何边界检查。它是语言的一部分。这是为了使语言执行得更快。

如果您想要边界检查，请使用另一种具有它的语言。也许是Java？

当您的代码执行时，您很幸运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:38:48.477

在 C++（和 C）中，数组不会检查超出范围的索引。他们不是班级。

但是，在 C++11 中，您可以使用[`std::array<int,10>`](http://en.cppreference.com/w/cpp/container/array)并[`at()`](http://en.cppreference.com/w/cpp/container/array/at)用作：

```
std::array<int,10> arr;

arr.at(-1) = 100; //it throws std::out_of_range exception 
```

或者你可以使用[`std::vector<int>`](http://en.cppreference.com/w/cpp/container/vector)和[`at()`](http://en.cppreference.com/w/cpp/container/vector/at)成员函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T05:38:58.710

你看，当你像这样分配一个变量时，它会落在堆栈上。堆栈包含有关您调用的每个函数中的局部变量的小信息包，用简单的话来说。运行时能够检查您是否超出了分配的堆栈的范围，但不能检查您是否在堆栈的无效位置写入了一些数据。堆栈可能如下所示：

[4 字节 - 一些 ptr][4 字节 - A 的第一个元素][4 字节 - A 的第二个元素] ...

当您尝试分配给数组的第 -1 个元素时，实际上是在尝试读取数组之前的四个字节（四个字节，因为它是一个 int 数组）。您覆盖了堆栈中保存的一些数据 - 但它们仍在有效进程的内存中，因此系统没有抱怨。

尝试在 Visual Studio 中以发布模式运行此代码：

```
#include <stdio.h>

int main(int argc, char * argv[])
{
    // NEVER DO IT ON PURPOSE!
    int i = 0;
    int A[5];

    A[-1] = 42;
    printf("%d\n", i);

    getchar();
    return 0;
} 
```

* * *

**编辑：**回应评论。

我错过了一个事实，即 A 是全球性的。它不会保存在堆栈中，而是（很可能）保存在二进制模块的 .data 段中，但是其余的解释是：A[-1] 仍在进程的内存中，因此分配不会引发 AV。但是，这样的赋值将覆盖 A 之前的某些内容（可能是指针或二进制模块的其他部分），从而导致未定义的行为。

请注意，我的示例可能有效，也可能无效，具体取决于编译器（或编译器模式）。例如，在调试模式下，程序返回 0 - 我猜，内存管理器在堆栈帧之间插入一些哨兵数据以捕获缓冲区溢出/欠载等错误。

# iphone - 如何使应用程序的设计与 iPhone4/iPhone5/iPad 兼容？有什么捷径吗？

> ID：14640362
> 
> 赞同：0
> 
> 时间：2013-02-01T05:33:06.943
> 
> 标签：iphone, ios, cocoa-touch, xib

因为我正在开发一个需要在 iPhone4/iPhone5/iPad 上开发的应用程序。有人可以告诉我完整的流程或教程链接，以使应用程序与上述所有平台兼容。有一种自动调整大小和自动布局的方法，我不知道如何使用它？

据我说，我有两种方法来实现这个概念，要么为 iPhone4/iPhone4s/iPhone5 获取三个不同的 xib 文件，要么在检测到设备后以编程方式设置布局的框架。

你能告诉我实现这个概念的其他简单方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:37:38.557

如果您不想为每个使用三个不同的 xib 文件，那么您必须尝试这种方法

```
 CGRect screenBounds = [[UIScreen mainScreen] bounds]; 
```

在此之后根据设备设置您的代码

```
 if (screenBounds.size.height == 568)
{
    // code for 4-inch screen

}
else if (screenBounds.size.height == 1024)
{
    //code for ipad
}
else
{
    // code for 3.5-inch screen
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:50:55.310

如果你想让你的设计`compatible/migrated`，`iPhone5`请阅读这些文件和问题：-

1.  [兼容 iPhone 5 的低版本应用程序](https://stackoverflow.com/questions/13025567/how-to-make-iphone4-and-below-version-app-compatible-for-iphone5)

2.  [指导线](http://iphonedevsdk.com/forum/iphone-sdk-development/108724-running-older-version-app-with-new-iphone5.html)

3.  [帮助问题](https://stackoverflow.com/questions/12395200/how-to-develop-or-migrate-apps-for-iphone-5-screen-resolution?lq=1)

它将帮助您实现目标。

谢谢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:01:10.953

> 有什么捷径吗？

这在一定程度上取决于您希望应用程序的外观和工作方式。如果您希望 UI 大致相同而不管屏幕大小，那么您可能只需调整不同元素的大小和位置即可。但是，更多时候，您会希望充分利用可用的屏幕空间，因此与在较小屏幕上相比，您将在较大屏幕上拥有更多不同的*内容**。*在这些情况下，真的没有捷径可走：您需要仔细考虑应用程序将如何在每台设备上运行。

即使您确实希望在所有设备上使用*基本*相同的 UI，对于每个设备使用单独的 .xib 文件仍然有很多话要说。一旦您知道您想要在屏幕上显示哪些 UI 元素，将 .xib 组合在一起就非常快速和容易。拥有单独的 .xib 可以让您针对每种尺寸微调 UI。实际上，每个屏幕通常只需要两个 .xib——一个 iPad 大小的 .xib 和一个 iPhone 大小的 .xib。自动布局系统功能强大，可以让您在 iPhone 4 和 iPhone 5 大小的屏幕之间进行调整。

# jquery - Sharepoint 2010 / Jquery - 在内容编辑器 Web 部件编辑/保存中添加了多个属性

> ID：14640365
> 
> 赞同：1
> 
> 时间：2013-02-01T05:33:19.850
> 
> 标签：jquery, sharepoint, sharepoint-2010

我目前正在将我们的 CMS 从 MCMS 2002 迁移到 SharePoint 2010。其中一个 MCMS 模板允许用户添加自己的 CSS 和脚本。为了不剥离脚本和样式，我不得不将它们的内容导入到内容编辑器 Web 部件中。以下代码是导入内容的示例。

```
 <style type="text/css">
    ul#oakTabs { margin-left: 0; width: 100%; }
    ul#oakTabs li { display:inline; border: 1px solid #00CC99; cursor: pointer; background-color: #FFF; margin-right: 4px; padding: 2px 5px; color: #444455; height: 20px; line-height: 14px; font-weight: bold; }
    ul#oakTabs li.selected { border: 1px solid #009966; color: #FFFFFF; font-weight: bold; margin-right: 4px; padding: 2px 5px; text-decoration: none; background-color: #66CC99; background-image: none; height: 20px; }
    ul#oakTabs li span.tabArrowDown { position: relative; top: 5px; background-image: url(/Images/etsp/tabarrowdown.gif); background-repeat: no-repeat;padding: 0 7px 0 0; margin: 0; } 
    ul#oakTabs li span.tabArrowUp { position: relative; top: 5px; background-image: url(/Images/etsp/tabarrowup.gif); background-repeat: no-repeat; padding: 0 7px 0 0; margin: 0; }
    .tabContent { background-color: #FFF; margin: 0 0 10px 0; padding: 15px 10px 5px 20px; border-top: 3px solid #006600; border-right: 1px solid #CCC; border-bottom: 4px solid #006600; border-left: 1px solid #CCC; width: 100%; }
</style>

<script type="text/javascript">
    $(document).ready(function () {
        $("#oakTab01Btn").click(function () {
            $("#oakTabCont01").slideToggle("normal");
            $("#oakTab01Btn").toggleClass("selected");
            $("#oakTab01Btn span").toggleClass("tabArrowUp");
            $("#oakTabCont02, #oakTabCont03").slideUp("normal");
            $("#oakTab02Btn, #oakTab03Btn").removeClass("selected");
            $("#oakTab02Btn span, #oakTab03Btn span").removeClass("tabArrowUp").addClass("tabArrowDown");
        });

        $("#oakTab02Btn").click(function () {
            $("#oakTabCont02").slideToggle("normal");
            $("#oakTab02Btn").toggleClass("selected");
            $("#oakTab02Btn span").toggleClass("tabArrowUp");
            $("#oakTabCont01, #oakTabCont03").slideUp("normal");
            $("#oakTab01Btn, #oakTab03Btn").removeClass("selected");
            $("#oakTab01Btn span, #oakTab03Btn span").removeClass("tabArrowUp").addClass("tabArrowDown");
        });

        $("#oakTab03Btn").click(function () {
            $("#oakTabCont03").slideToggle("normal");
            $("#oakTab03Btn").toggleClass("selected");
            $("#oakTab03Btn span").toggleClass("tabArrowUp");
            $("#oakTabCont01, #oakTabCont02").slideUp("normal");
            $("#oakTab01Btn, #oakTab02Btn").removeClass("selected");
            $("#oakTab01Btn span, #oakTab02Btn span").removeClass("tabArrowUp").addClass("tabArrowDown");
        });
    });    
</script>

<div id="oakPageTabs">
    <ul id="oakTabs">
        <li id="oakTab01Btn">Menu 1 <span class="tabArrowDown">&nbsp;</span></li>
        <li id="oakTab02Btn">Menu 2 <span class="tabArrowDown">&nbsp;</span></li>
        <li id="oakTab03Btn">Menu 3 <span class="tabArrowDown">&nbsp;</span></li>
    </ul>
</div>
<div style="display: none" id="oakTabCont01" class="tabContent">
    <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
        incididunt ut labore et dolore magna aliqua.</p>
</div>
<div style="display: none" id="oakTabCont02" class="tabContent">
    <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
        incididunt ut labore et dolore magna aliqua.</p>
</div>
<div style="display: none" id="oakTabCont03" class="tabContent">
    <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
        incididunt ut labore et dolore magna aliqua.</p>
</div> 
```

**问题**

导入工作正常。但我注意到，每次修改和保存内容时，都会为每次保存到所有带有附加函数的 HTML 元素添加一个 jquery 属性。附加属性似乎仅在内容被编辑然后保存时才被添加。这是代码外观的示例。

```
 <ul id="oakTabs">
    <li id="oakTab01Btn" jquery17107623806633942214="1" jquery17103491321314889904="1"
        jquery17102665908125207371="1" jquery1710870082776749848="1">Menu 1 <span class="tabArrowDown">
            &#160;</span></li>
    <li id="oakTab02Btn" jquery17107623806633942214="2" jquery17103491321314889904="2"
        jquery17102665908125207371="2" jquery1710870082776749848="2">Menu 2 <span class="tabArrowDown">
            &#160;</span></li>
    <li id="oakTab03Btn" jquery17107623806633942214="3" jquery17103491321314889904="3"
        jquery17102665908125207371="3" jquery1710870082776749848="3">Menu 3 <span class="tabArrowDown">
            &#160;</span></li></ul> 
```

**要知道的事情**

*   它位于打开所有发布功能的 SharePoint 发布网站中。
*   除了编写多余的属性外，jquery 可以正常工作。
*   该问题可以在 nightandday.master 上的新发布站点中复制，并带有启动页面布局。

**我的理论**

当页面加载时，Jquery 将属性加载到 DOM。然后，当保存内容编辑器 Web 部件时，SharePoint 会抓取 DOM 并使用新属性保存 HTML。然后，当打开页面进行编辑时，SharePoint 会静态加载内容，但 JQuery 仍会将属性写入 DOM。因此，现在 DOM 和内容编辑器 Web 部件中显示的内容都有一个属性以供编辑。然后当页面再次保存时，DOM 中的 New 属性将被保存。

我不确定这个理论是否正确。任何帮助弄清楚到底发生了什么以及任何可能的修复将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T17:02:41.593

我对 SP2013 有同样的问题。我使用以下脚本在本地临时修复了它：

（“ *this* ”是您希望从中删除的元素）

```
var attributes = this.attributes;
for(var i = 0; i < attributes.length; i++) {
    if(attributes[i].nodeName.substring(0,6) == "jquery") {
        this.removeAttributeNode(attributes[i]);
        --i;
    }
} 
```

如 Chrome 开发工具中所示：

**前：**

![在此处输入图像描述](../Images/27a4a5aef354b12e65ea4d298326ea2b.png)

**后：**

![在此处输入图像描述](../Images/17dd69a62ebc3d5675fb0980953efe43.png)

# c++ - ifsteam的move构造函数是否被隐式删除了？

> ID：14640366
> 
> 赞同：12
> 
> 时间：2013-02-01T05:33:27.893
> 
> 标签：c++, gcc, c++11

我有以下简单的课程：

```
class Source
{
public:
    Source() = default;
    Source(Source const&) = delete;
    Source(Source&&) = default;

    explicit Source(std::string const& fileName)
     : inputStream(fileName), path_(fileName)
    {}

    ~Source() = default;

    auto path() const -> std::string
    {
        return this->path_;
    }

    std::ifstream inputStream;
private:
    std::string path_;
};

auto main(int argc, char* argv[]) -> int
{
    Source source(Source("test.txt"));
    cout << source.path() << "\n";

    return 0;
} 
```

根据[cppreference](http://en.cppreference.com/w/cpp/io/basic_ifstream/basic_ifstream) `ifstream`有一个`move`构造函数，但是当我尝试用 编译它时`MinGW 4.7.2`，我收到以下错误：

> ..\src\main.cpp:32:46：错误：使用已删除的函数 'cy::Source::Source(cy::Source&&)' 在 ..\src\main.cpp:10:0 包含的文件中: source.hpp:28:5: 注意: 'cy::Source::Source(cy::Source&&)' 被隐式删除，因为默认定义格式不正确：source.hpp:28:5: 错误：使用删除函数'std::basic_ifstream::basic_ifstream(const std::basic_ifstream&)' c:\mingw\bin../lib/gcc/mingw32/4.7.2/include/c++/fstream:420:11: 注意： 'std::basic_ifstream::basic_ifstream(const std::basic_ifstream&)' 被隐式删除，因为默认定义格式错误：c:\mingw\bin../lib/gcc/mingw32/4.7.2/include/ c++/fstream:420:11: 错误：使用已删除的函数 'std::basic_istream::basic_istream(const std::basic_istream&)'

难道我做错了什么？还是 cppreference 的文档不准确？还是 GCC 4.7.2 有错误？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-01T06:05:50.520

事实证明，GCC 的标准库实现还没有实现流类的移动和交换操作。有关gcc 标准库中 C++11 功能的当前状态的详细信息，请参见[此处。](http://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#iso.2011.specific)

感谢[Jesse Good](https://stackoverflow.com/users/906773/jesse-good)提供信息和链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-29T21:49:34.373

我意识到这个答案有点晚了，但是为了给一个不可移动的类移动语义，你可以编写一个非常简单的包装类。例如：

```
#include <memory>

template <typename T>
class swap_wrapper
{
    //! internal buffer to hold object (on heap)
    std::unique_ptr<T> p_obj;
public:
    //! allows any of objects constructors to be called directly
    template <typename... Args>
    explicit swap_wrapper(Args&&... args)
        :   p_obj(
                     new T( std::forward<Args>(args)... )
                     ) {    }

    //! swaps pointer value of T object is unchanged therefore this 
    //! function puts no requirement on base class.

    //! note p_obj is left as a nullptr so dereferencing will cause
    //! undefined behaviour.
    swap_wrapper (swap_wrapper &&other) noexcept
        : p_obj(nullptr)
    {
        swap(other);
    }

    //! swaps pointer like above,
    //! T object is not touched; just the pointer.
    swap_wrapper &operator = (swap_wrapper &&other) noexcept
    {
        swap(other);
        return *this;
    }

    //! uses swap member function of std:unique_ptr
    void swap(swap_wrapper &other) noexcept
    {
        std::swap(p_obj, other.p_obj);
    }

    //! operators to allow access to stream
    T& operator *() { return *p_obj; }
    T const& operator *() const { return *p_obj; }

    T * operator ->() { return p_obj.get(); }
    T const * operator ->() const { return p_obj.get(); }

};

//! overload of default swap (calls member function swap)
template <typename S>
inline void swap(swap_wrapper<S> &one, swap_wrapper<S> &two) noexcept
{ one.swap(two); } 
```

然后可以从函数返回这个包装器，作为右值参数传递，等等。

# codeigniter - 使用带有 codeigniter/zend lib 的 bugziila api 获取域的 bugzilla 用户列表？

> ID：14640368
> 
> 赞同：1
> 
> 时间：2013-02-01T05:33:29.863
> 
> 标签：codeigniter, zend-framework, bugzilla

我使用了这个但没有成功登录
[http://petehowe.co.uk/2010/example-of-calling-the-bugzilla-api-using-php-zend-framework/](http://petehowe.co.uk/2010/example-of-calling-the-bugzilla-api-using-php-zend-framework/)
这是我的代码
我没有得到回声'ASDASD'; o/p 在浏览器中，所以在 User.login 中出现问题

```
require_once 'C:\xampp\htdocs\eventBot\system\libraries\Zend\XmlRpc\Client.php';
echo "123";
$oClient = new Zend_XmlRpc_Client('http://info.mydomainname.com:8080/bugzilla/xmlrpc.cgi');
echo "hello";
$oHttpClient = new Zend_Http_Client();
echo "123";
$oHttpClient->setCookieJar();

$oClient->setHttpClient($oHttpClient);

$aResponse = $oClient->call('User.login', array(array(
'login'    => 'myloginname@domainname',
'password' => 'mypassword',
'remember' => 1
)));
echo "ASDASD";
echo "$aResponse";
$aResponse = $oClient->call('Bug.create', array(array(
'product'     => "My Product",
'component'   => "My Component",
'summary'     => "This is the summary of the bug I'm creating",
'version'     => "unspecified",
'description' => "This is a description of the bug",
'op_sys'      => "All",
'platform'    => "---",
'priority'    => "P5",
'severity'    => "Trivial"
)));
$iBugId = $aResponse['id'];

$aResponse = $oClient->call('User.logout');

echo "ddfgfd"; 
```

# javascript - 无法在对象内添加对象

> ID：14640379
> 
> 赞同：0
> 
> 时间：2013-02-01T05:34:48.017
> 
> 标签：javascript

我正在寻找一些数据来创建对象列表，我想在父对象中添加一些对象。尽管创建了内部对象，但没有使用它创建任何属性...

这就是我想要做的：

```
for(var i in data){
    if(parseInt(data[i].prevr) == 0){
        nodes[data[i].id] = new Object();
        nodes[data[i].id].name = data[i].name;
        nodes[data[i].id].child = new Object();
    }else if(parseInt(data[i].prevr) > 0){  
        console.log('test');
        nodes[data[i].prevr].child[data[i].id] = new Object();
        nodes[data[i].prevr].child[data[i].id].name = data[i].name; 
    }
 }
console.log(JSON.stringify(nodes[5])); 
```

结果在 console.log 中显示：

```
test
{"name":"Test2","child":{}} 
```

为什么它不会为子对象创建数据？

我的变量`data`持有：

```
[{"id":"3","name":"Test2","prevr":"0"}
{"id":"4","name":"Test3","prevr":"3"}] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:38:30.250

```
for(var i in data){
    if ( !data.hasOwnProperty(i) ) continue;

    if ( parseInt(data[i].prevr, 10) == 0 ) {
        nodes[data[i].id] = { name: data[i].name, child : {} };
    }
    else if ( parseInt(data[i].prevr, 10) > 0 ) {  
        console.log('test');
        nodes[data[i].prevr].child[data[i].id] = { name: data[i].name };
    }
 }
console.log(JSON.stringify(nodes[5])); 
```

# ios - 调整 UINavigationController 高度

> ID：14640383
> 
> 赞同：0
> 
> 时间：2013-02-01T05:35:00.937
> 
> 标签：ios, objective-c, xcode

有没有办法让我的 UINavigationController 高度达到一定的大小？我不希望它占据整个高度？我想在底部放一个工具栏。或者有没有首选的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:18:00.940

You can add the bottom toolbar as subview of the viewcontroller. There is no need for resizing

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:18:08.563

Your question doesn't make sense. A controller doesn't have a height.
You might be talking about the `UINavigationBar` but it does not take the entire height if the screen. And if you are using a `UINavigationController`, then you also have a toolbar as a property all set up for you.

Just set the `toolbarItems` property in your view controller.
[Reference](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instp/UIViewController/toolbarItems)

# iphone - UITextView 背景图像不适合 UITextView 框架的框架大小

> ID：14640385
> 
> 赞同：0
> 
> 时间：2013-02-01T05:35:07.527
> 
> 标签：iphone, ios, uiimageview, uiimage, uitextview

我正在开发一个需要为大文本放置 UITextView 的应用程序。我有一个大小为 180X89 的背景图像（与 UITextView 帧大小相同）。将图像放在 UITextView 后面时，一切看起来都很好，但是，当用户点击文本区域并出现键盘时，光标出现在图像边缘之外。

我希望光标出现在文本框中。

**获取 UITextview 的代码**

```
CGRect textViewFrame = CGRectMake(125.0f, 155.0f, 180.0f, 90.0f);
UITextView *textView = [[UITextView alloc] initWithFrame:textViewFrame];
textView.returnKeyType = UIReturnKeyDone;
textView.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:  @"textbox.png"]];
textView.delegate = self;
[self.view addSubview:textView]; 
```

![我用作背景的文本框的图像](../Images/e55d8f8d3057b1dcf38761075a6d9421.png) ![屏幕截图显示光标位于背景图像外的左角](../Images/023739555d48d3b61a1d305ff00432fa.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:55:11.050

尝试这个：

```
UIImage     *bgImage     = [UIImage imageNamed:@"textbox.png"];
UIImageView *bgImageView = [[UIImageView alloc] initWithImage:bgImage];

CGRect textViewFrame = CGRectMake(125.0f, 155.0f, 180.0f, 90.0f);
bgImageView.frame    = textViewFrame;

UITextView *textView = [[UITextView alloc] initWithFrame:textViewFrame];

textView.returnKeyType = UIReturnKeyDone;
textView.delegate      = self;

[self.view addSubview:bgImageView];
[self.view addSubview:textView]; 
```

或者类似的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T05:41:16.263

有非常简单的方法。只需在 TextView 后面使用 UIImageView 并将 UITextView 背景颜色设置为清晰颜色。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T05:43:10.443

在这种情况下，您可以做的是将其尺寸`UITextView`缩小一点，以便它只出现在您的背景图像中，并使用框架（导入框架的标题）给出角半径`UITextView`。这种方法也会使边缘有点圆润，使其看起来像你上面提供的图像。`<QuartzCore>``textview.layer.cornerRadius = 10;``UITextView`

因此，简而言之，添加`UIImageView`然后添加`UITextView`上面的内容并将 textview 的背景设置为 clearcolor 。希望这可以帮助 ！！！:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T05:47:24.227

在您的视图上添加 UIImageView，然后在 UIImageView 上添加 UITextView，内框为

```
CGPointMake(10,10) as Origin 
```

和`CGSizeMake(imageView.frame.size.width - 20.0, imageView.frame.size.hieght - 20.0) as Size`文本视图。

# android - 如果从 Fragment 调用 DialogFragment 将抛出 ClassCastException

> ID：14640397
> 
> 赞同：7
> 
> 时间：2013-02-01T05:36:45.900
> 
> 标签：android, fragment, android-dialogfragment

如果从 Fragment 调用，我的 DialogFragment 会抛出*ClassCastException*，而如果从 Activity 调用它会正常工作。我已经看过其他几个有类似问题的问题，基本上这些问题与导入有关，但我无法在我的实现中解决它。这是我对 DialogFragment 的实现。

```
导入 android.app.AlertDialog；
导入android.app.Dialog；
导入android.app.DialogFragment；

公共类 HotspotScanDialog 扩展 DialogFragment {

    SetupHotspotDialogListener mListener;

    @覆盖
    公共对话 onCreateDialog(Bundle savedInstanceState) {
        ...

        .setAdapter(hotspotAdapter, new DialogInterface.OnClickListener() {
            @覆盖
            public void onClick(DialogInterface dialog, int which) {
                mListener.onHotspotSelectedListener(hotspotAdapter.getItem(
                        其中).toString());
            }
        })...
    }

    公共接口 SetupHotspotDialogListener {
        公共无效 onHotspotSelectedListener（字符串选择）；

    }

    @覆盖
    公共无效 onAttach（活动活动）{
        super.onAttach(活动);

        尝试 {
            mListener = (SetupHotspotDialogListener) 活动；
        } 捕捉（ClassCastException 忽略）{
            // 只是为了确定是否有人会指着我的投掷
            // ClassCastException 我自己也试过没有这个代码。
            抛出新的 ClassCastException(activity.toString()
                    + "必须实现NoticeDialogListener");
        }
    }
}

```

这是我使用上述 DialogFragment 的片段：

```
导入 android.app.AlertDialog；
导入android.app.DialogFragment；
导入android.support.v4.app.Fragment；
导入 com.xxx.yyy.ui.compontent.dialog.HotspotScanDialog；
导入 com.xxx.yyy.ui.compontent.dialog.HotspotScanDialog.SetupHotspotDialogListener；

公共类 SmartMode 扩展片段实现 SetupHotspotDialogListener {

    私人无效showWifiSelectionDialog（）{
        DialogFragment setupWifiSelectionDialog = new HotspotScanDialog();

        /*
         * 使用 getFragmentManager() 只会说“方法
         * DialogFragment 类型中的 show(FragmentManager, String) 不是
         * 适用于参数 (FragmentManager, String)"
         */

        setupWifiSelectionDialog.show(getActivity().getFragmentManager(),
                Keys.TAG.toString());
    }

    @覆盖
    公共无效 onHotspotSelectedListener（字符串选择）{
        // Log.d(TAG,selection);
    }
}

```

这是错误日志：

> 02-01 13:11:32.750：E/AndroidRuntime(15061)：致命异常：主要 02-01 13:11:32.750：E/AndroidRuntime(15061)：java.lang.ClassCastException：com.milanix.tuki.UiMainActivity@ 41d75350 必须实现 NoticeDialogListener 02-01 13:11:32.750: E/AndroidRuntime(15061): at com.xxx.yyy.ui.compontent.dialog.HotspotScanDialog.onAttach(HotspotScanDialog.java:122) 02-01 13:11: 32.750: E/AndroidRuntime(15061): 在 android.app.FragmentManagerImpl.moveToState(FragmentManager.java:787) 02-01 13:11:32.750: E/AndroidRuntime(15061): 在 android.app.FragmentManagerImpl.moveToState(FragmentManager .java:1035) 02-01 13:11:32.750: E/AndroidRuntime(15061): 在 android.app.BackStackRecord.run(BackStackRecord.java:635) 02-01 13:11:32.750: E/AndroidRuntime(15061 ): 在 android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1397) 02-01 13:11:32.750: E/AndroidRuntime(15061): 在 android.app.FragmentManagerImpl$1.run(FragmentManager.java:426) 02-01 13:11:32.750: E/AndroidRuntime(15061):在 android.os.Handler.handleCallback(Handler.java:615) 02-01 13:11:32.750: E/AndroidRuntime(15061): 在 android.os.Handler.dispatchMessage(Handler.java:92) 02-01 13 :11:32.750: E/AndroidRuntime(15061): 在 android.os.Looper.loop(Looper.java:137) 02-01 13:11:32.750: E/AndroidRuntime(15061): 在 android.app.ActivityThread。 main(ActivityThread.java:4898) 02-01 13:11:32.750: E/AndroidRuntime(15061): at java.lang.reflect.Method.invokeNative(Native Method) 02-01 13:11:32.750: E/AndroidRuntime (15061): 在 java.lang.reflect.Method.invoke(Method.java:511) 02-01 13:11:32.750: E/AndroidRuntime(15061): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller。运行（ZygoteInit.java:1006）02-01 13:11:32.750：E/AndroidRuntime（15061）：在 com.android.internal.os.ZygoteInit.main（ZygoteInit.java:773）02-01 13:11： 32.750：E/AndroidRuntime（15061）：在 dalvik.system.NativeStart.main（本机方法）

我想知道是否有人可以暗示这个问题。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-01T08:17:52.433

来自[文档](http://developer.android.com/reference/android/app/Fragment.html)：

```
 onAttach(Activity) called once the fragment is associated with its activity. 
```

在您的代码中

```
 mListener = (SetupHotspotDialogListener) activity; 
```

行抛出`ClassCastException`，因为您的活动没有实现`SetupHotspotDialogListener`接口。（`Fragment`与包含它的活动直接相关，并且`DialogFragment`因为`DialogFragment`extends `Fragment`）。

再次来自[文档](http://developer.android.com/guide/components/fragments.html#EventCallbacks)

在某些情况下，您可能需要一个片段来与活动共享事件。一个好的方法是在片段内定义一个回调接口并要求宿主活动实现它。当Activity通过接口接收到回调时，它可以根据需要与布局中的其他片段共享信息。

因此，如果您想从中创建`FragmentDialog`，`Fragment`我建议通过对活动的回调来组织它：

1.  使用`SmartMode` `Fragment`一种方法（如`createDialogRequest()`.
2.  让您的活动实现该接口
3.  然后，当您需要创建对话框时，将回调发送`Fragment`到`Activity`
4.  将“显示对话逻辑”放入`Activity`

它看起来像片段要求活动创建对话框，活动显示对话框。

编辑：我想我已经找到了更好的实现你需要的东西。我写了一个`fragment dialog`从片段创建的简单示例，并将`fragment dialog`回调事件接收到片段中。

活动：

```
public class MyFragmentActivity extends FragmentActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_my_fragment);

        // first start of activity
        if (savedInstanceState == null) {
            // put fragment to activity layout 
            MyFragment fragment = new MyFragment();
            FragmentTransaction ft = getSupportFragmentManager().beginTransaction();
            ft.replace(R.id.fragmentContainer, fragment, "fragment");
            ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);
            ft.commit();
        }
    }

} 
```

分段：

```
public class MyFragment extends Fragment implements MyDialogInterface {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        super.onCreateView(inflater, container, savedInstanceState);

        View fragmentView = inflater.inflate(R.layout.fragment, null);

        // button which shows dialog
        Button showDialogButton = (Button) fragmentView.findViewById(R.id.showDialog);
        showDialogButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                // create fragment dialog.
                FragmentDialog dialog = FragmentDialog.getInstance(MyFragment.this);
                dialog.show(getActivity().getSupportFragmentManager(), "dialog");
            }
        });

        return fragmentView;
    }

    @Override
    public void onClickEvent() {
        // receive click events from dialog fragment
        Log.e(getClass().getSimpleName(), "onClickEvent");
    }

} 
```

片段对话框：

```
public class FragmentDialog extends DialogFragment {

    public interface MyDialogInterface extends Serializable {
        public void onClickEvent();
    }

    private MyDialogInterface callbackListener;

    /**
     * dialogInterface - instance of MyDialogInterface which will handle
     * callback events
     */
    public static FragmentDialog getInstance(MyDialogInterface dialogInterface) {
        FragmentDialog fragmentDialog = new FragmentDialog();

        // set fragment arguments
        Bundle args = new Bundle();
        args.putSerializable("dialogInterface", dialogInterface);
        fragmentDialog.setArguments(args);

        return fragmentDialog;
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setStyle(STYLE_NO_TITLE, 0);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

        View pushDialogView = getActivity().getLayoutInflater().inflate(R.layout.fragment_dialog, null);

        // get reference to MyDialogInterface instance from arguments
        callbackListener = (MyDialogInterface) getArguments().getSerializable("dialogInterface");

        Button cancelButton = (Button) pushDialogView.findViewById(R.id.button);
        cancelButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                // send click event
                callbackListener.onClickEvent();
            }
        });

        return pushDialogView;
    }

} 
```

我使用了支持 4 个库片段

```
android.support.v4.app.Fragment
android.support.v4.app.DialogFragment
android.support.v4.app.FragmentActivity 
```

和布局：

`activity_my_fragment.xml`：

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:id="@+id/fragmentContainer"
   android:layout_width="match_parent"
   android:layout_height="match_parent" /> 
```

`fragment.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="match_parent"
   android:layout_height="match_parent"
   android:background="#a00"
   android:orientation="vertical" >

   <Button
     android:id="@+id/showDialog"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:text="show doalog" />
</LinearLayout> 
```

`fragment_dialog.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="match_parent"
   android:layout_height="match_parent"
   android:background="#fe3"
   android:orientation="vertical" >

   <Button
      android:id="@+id/button"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="click me" />
 </LinearLayout> 
```

这个想法是发送对将捕获回调事件的接口的引用。

# vb.net - 比较两个日期并过滤 Sql Server

> ID：14640398
> 
> 赞同：1
> 
> 时间：2013-02-01T05:36:48.163
> 
> 标签：vb.net, sql-server-2008, validation, date

在我的软件中，我有一个**注册日期**和**到期日期**，如下所示：

![在此处输入图像描述](../Images/1674e56e46c9a87ed212ac30ab0d2703.png)

我正在将它们更新到数据库中，如下所示：

![在此处输入图像描述](../Images/d1ebf417d4e4a49f9ea53e4e2dd71270.png)

现在我想从我的**数据库中****过滤**所有已经**完成****过期日期**的记录并给它们一些颜色。（或）我可以将到期日期与今天的日期进行比较。

 ******对于按名称过滤，我这样做了：

```
 Dim Name As String = "%" + txtName.Text.ToString + "%"
 Me.CustomersBindingSource.Filter = " FirstName LIKE '" & Name & "'" 
```

以类似的方式，我可以为到期日做点什么吗？如果是，我该如何进行？

任何建议都非常受欢迎..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:18:54.740

为什么你不能使用这样的东西：

```
Me.CustomersBindingSource.Filter = " ExpiryDate > '" & System.DateTime.Now.ToString("yyyyMMdd") & "'" 
```******

# java - 如何在 REST 服务启动时连接 MySql 数据库？

> ID：14640399
> 
> 赞同：2
> 
> 时间：2013-02-01T05:37:01.270
> 
> 标签：java, rest

**将 REST 服务与 Apache Tomcat 7 和 Jersey Jars 一起使用。**

我正在开发一个android应用程序，它通过java中的REST服务获取并在服务器上发布一些数据。对于来自android客户端的每个请求，REST服务器打开数据库连接，执行查询，返回结果并关闭数据库连接..

```
public String postPerson(
            MultivaluedMap<String, String> personParams
            ) {

                 EmployeeData empD=new EmployeeData();
                 //Connecting with database on empty constructor

                 int id = personParams.getFirst(EMPLOYEE_ID);

                String employeeDepartment=empD.getDepartment(id);
                //Getting department name 

                empD.disconnectDb();

                return(empD);                                     
    } 
```

上述场景运行良好，但响应时间不高。现在我想在 REST 服务启动时创建数据库连接，以减少对 android 客户端的响应时间。我怎样才能做到这一点？？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T21:28:59.920

查看以下链接。我希望这些链接能解决您的问题，但请记住，永远不要在同一个数据库连接上执行并发事务。通过遵循该过程，您还可以在服务启动时建立与星号管理界面的连接。

[http://www.programcreek.com/2009/07/put-database-connection-to-servletcontextlistener/](http://www.programcreek.com/2009/07/put-database-connection-to-servletcontextlistener/)

[http://docs.oracle.com/cd/B15904_01/web.1012/b14017/filters.htm#i1000654](http://docs.oracle.com/cd/B15904_01/web.1012/b14017/filters.htm#i1000654)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:33:00.220

您需要使用连接池来增加响应时间，因为动态创建连接的成本很高。

[Apache DBCP](http://commons.apache.org/dbcp/)是一个很好的连接池库。

这是一个关于如何使用 Apache DBCP 使用连接池的[示例](http://svn.apache.org/viewvc/commons/proper/dbcp/trunk/doc/PoolingDataSourceExample.java?view=markup)

# java - 是什么 部署描述符中的标记？

> ID：14640412
> 
> 赞同：1
> 
> 时间：2013-02-01T05:38:40.407
> 
> 标签：java, xml, servlets

`<web-app xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee web-app_2_4.xsd" version="2.4">`

这是`<webapp>`我输入的标签，`Head First: Servlets and JSP`它说我不必记住这个，我应该简单地复制粘贴这个。那不是我的习惯。

只是好奇这一切意味着什么。

如果有人能用简单的话解释标签的各种属性是什么，我会很高兴。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:24:01.110

您的网址中有一个轻微的拼写错误`schemaLocation`，应该是[http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd](http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd)。在该链接之后，您将找到 web.xml 文档中允许的 xml 标记的 XSD（或 XML 模式定义）的定义。此外，xsd 包含所有标签的有用文档，特别是`<webapp>`标签被描述为：

> web-app 元素是 Web 应用程序的部署描述符的根。请注意，此元素的子元素可以是任意顺序。因此，distributable、session-config、welcome-file-list、jsp-config、login-config 和 locale-encoding-mapping-list 元素的多样性从“？” 到此架构中的“*”。但是，部署描述符实例文件不能包含 session-config、jsp-config 和 login-config 的多个元素。当welcome-file-list 或locale-encoding-mapping-list 有多个元素时，容器必须连接元素内容。可分发元素的多次出现是多余的，当只有一个可分发元素时，容器会以完全相同的方式处理这种情况。

注意：如果您在与 servlet 3.0 兼容的容器上运行，则可以将 xsd模式更新`version`为[http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd](http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd)。`3.0``schemaLocation`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:55:24.753

`<web-app>`为您的整个 Web 应用程序提供配置，其中包含`id`servlet 规范版本等关键信息

更详细[的在这里](http://www.caucho.com/resin-3.0/config/webapp.xtp#web-app)

# google-app-engine - Google App Engine SSL 的 CNAME 设置，所有域都一样吗？

> ID：14640415
> 
> 赞同：1
> 
> 时间：2013-02-01T05:38:48.020
> 
> 标签：google-app-engine

我想使用 Google App Engine 自定义域 ssl。

我已经有一个使用 App Engigne SSL 作为应用程序 ID 的域 (DomainA)。

域的 CNAME 设置是“ghs-svc-https-cXX.ghs-ssl.googlehosted.com”（XX 是 2 位数字），并且运行良好。

现在我想将 App Engine SSL 用于另一个域（DomainB）作为另一个应用程序 ID。

DomainA 和 DomainB 的 CNAME 设置是否相同？

我想对两个域都使用 SNI+VIP。

或者每个域的 CNAME 设置的 2 位数不同？

我可以在 Google Apps SSL 设置页面上检查 DomainB 的 CNAME 设置，但我无法为 DomainB 选择 V​​IP，因为我还没有通过第一次结帐。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-04T10:45:57.260

每个域名都必须有一个单独的 VIP。

# c# - .Net 中图像的多语言支持

> ID：14640423
> 
> 赞同：3
> 
> 时间：2013-02-01T05:39:10.093
> 
> 标签：c#, .net, winforms

我有一个使用 .net 构建的桌面应用程序。我希望它支持多语言。我可以使用资源来做到这一点。问题是我应该为有文字的图像做什么？我应该包括不同语言的所有图像吗？如果是这样，那么这将使其变得困难并且还会增加其大小。

我刚刚读到在Android中有“9补丁图像”，是不是有类似的东西？

我想添加背景图片，并在上面写文字。此背景图像应在不改变图像质量的情况下自动调整为该语言的文本大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:55:21.387

我想不出任何方法来避免使用 WinForms 分离图像。WPF，没问题。网络应用，没问题。我在 Button 控件上同时使用了文本和图像，但这并没有完全缩放。我尝试在 PIctureBox 上使用标签，但使用标签控件无法实现透明度。我还尝试使用 WebBrowser 控件进行此操作——这样的事情可能会起作用，但需要进一步研究，并且可能会显着改变您的部署（因为您需要从某些 http 服务器提供本地化）。

所以我认为没有简单的方法可以做到这一点——我找不到比单独维护图像更容易的事情了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T09:11:23.257

在我的一个项目中，我在图像顶部显示了文本。由于该网站是多语言的，所以没有文字是图像的一部分。相反，文本显示在图像顶部，使用 css 属性作为绝对位置。这必须在具有多种语言的所有浏览器中进行测试，因为每种语言的文本大小不同，这可能会破坏 UI。因此考虑到所有支持的语言，必须为文本提供足够的空间

# java - xml升序解析

> ID：14640427
> 
> 赞同：2
> 
> 时间：2013-02-01T05:39:23.147
> 
> 标签：java, android

我需要按升序解析 XML 代码。我的 XML 代码如下：

```
<node label="Tree Data">
<node name="View" type="Page">
<node name="Organisational Structure" type="Page"/>
<node name="Experience" type="Page"/>
<node name="Expertise" type="Language">
<node name="Flex" type="Language"/>
<node name="Android" type="Language"/>
<node name="Java" type="Language"/>
</node>
<node name="Project" type="Project">
<node name="Sabre" type="Project"/>
<node name="Android Project" type="Project"/>
<node name="Media Framework" type="Project"/>
<node name="CCD" type="Project"/>
<node name="Redbus" type="Project"/>
<node name="India Today" type="Project"/>
<node name="Money Control" type="Project"/>
</node>
</node>
<node name="Reorganize" type="Action"/>
<node name="Add New Employee" type="Action">
<node name="Dir" type="Page"/>
<node name="P.M" type="Page"/>
<node name="S.E" type="Page"/>
<node name="JUN" type="Page"/>
<node name="EMP" type="Page"/>
</node>
<node name="Add Project Members" type="Action"/>
</node> 
```

我编写了以下java代码以升序对其进行排序

Java代码：

```
import java.io.IOException;
import java.io.StringWriter;
import java.net.URL;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.transform.OutputKeys;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerException;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;

import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.NamedNodeMap;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;
import org.xml.sax.SAXException;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MainActivity extends Activity {

    Document dom;

    public MainActivity() {
        MainActivity();

        ArrayList<String> listName = getGroups();
        Collections.sort(listName);
        for (String name : listName) {
            System.out.println("name:" + name);
        }

    }

    private ArrayList<String> getGroups() {
        ArrayList<String> alNames = null;
        try {
            alNames = new ArrayList<String>();
            Element documentElement = (Element) dom.getDocumentElement();
            System.out.println("root element is :"
                    + documentElement.getNodeName());
            NodeList childNodes = documentElement.getElementsByTagName("node");

            for (int i = 0; i < childNodes.getLength(); i++) {

                if (childNodes.item(i).getNodeType() == Node.ELEMENT_NODE) {
                    Element element = (Element) childNodes.item(i);
                    if (((Element) childNodes.item(i)).hasAttribute("name")) {
                        String name = element.getAttribute("name");
                        String type = element.getAttribute("type");

                        alNames.add(name);
                        System.out.println("name : " + name);
                        System.out.println("type : " + type);
                    }
                }
            }
        } catch (Exception e) {
        }
        return alNames;

    }

    private void MainActivity() {
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();

        try {
            String sURL = "http://hhjjhhjcom";
            URL url = new URL(sURL);
            DocumentBuilder db = dbf.newDocumentBuilder();

            dom = db.parse(new InputSource(url.openStream()));

        } catch (ParserConfigurationException pce) {
            pce.printStackTrace();
        } catch (SAXException se) {
            se.printStackTrace();
        } catch (IOException ioe) {
            ioe.printStackTrace();
        }
    }
} 
```

我的 logcot 显示以下输出：

```
02-01 11:02:24.368: I/System.out(798): root element is :node
02-01 11:02:24.368: I/System.out(798): name : View
02-01 11:02:24.377: I/System.out(798): type : Page
02-01 11:02:24.397: I/System.out(798): name : Organisational Structure
02-01 11:02:24.397: I/System.out(798): type : Page
02-01 11:02:24.397: I/System.out(798): name : Experience
02-01 11:02:24.397: I/System.out(798): type : Page
02-01 11:02:24.397: I/System.out(798): name : Expertise
02-01 11:02:24.397: I/System.out(798): type : Language
02-01 11:02:24.397: I/System.out(798): name : Flex
02-01 11:02:24.397: I/System.out(798): type : Language
02-01 11:02:24.397: I/System.out(798): name : Android
02-01 11:02:24.397: I/System.out(798): type : Language
02-01 11:02:24.397: I/System.out(798): name : Java
02-01 11:02:24.407: I/System.out(798): type : Language
02-01 11:02:24.407: I/System.out(798): name : Project
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : Sabre
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : Android Project
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : Media Framework
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : CCD
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : Redbus
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : India Today
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : Money Control
02-01 11:02:24.407: I/System.out(798): type : Project
02-01 11:02:24.407: I/System.out(798): name : Reorganize
02-01 11:02:24.407: I/System.out(798): type : Action
02-01 11:02:24.407: I/System.out(798): name : Add New Employee
02-01 11:02:24.448: I/System.out(798): type : Action
02-01 11:02:24.448: I/System.out(798): name : Dir
02-01 11:02:24.448: I/System.out(798): type : Page
02-01 11:02:24.448: I/System.out(798): name : P.M
02-01 11:02:24.448: I/System.out(798): type : Page
02-01 11:02:24.448: I/System.out(798): name : S.E
02-01 11:02:24.448: I/System.out(798): type : Page
02-01 11:02:24.448: I/System.out(798): name : JUN
02-01 11:02:24.448: I/System.out(798): type : Page
02-01 11:02:24.448: I/System.out(798): name : EMP
02-01 11:02:24.448: I/System.out(798): type : Page
02-01 11:02:24.467: I/System.out(798): name : Add Project Members
02-01 11:02:24.467: I/System.out(798): type : Action
02-01 11:02:24.467: I/System.out(798): name:Add New Employee
02-01 11:02:24.467: I/System.out(798): name:Add Project Members
02-01 11:02:24.467: I/System.out(798): name:Android
02-01 11:02:24.487: I/System.out(798): name:Android Project
02-01 11:02:24.487: I/System.out(798): name:CCD
02-01 11:02:24.487: I/System.out(798): name:Dir
02-01 11:02:24.487: I/System.out(798): name:EMP
02-01 11:02:24.487: I/System.out(798): name:Experience
02-01 11:02:24.487: I/System.out(798): name:Expertise
02-01 11:02:24.487: I/System.out(798): name:Flex
02-01 11:02:24.487: I/System.out(798): name:India Today
02-01 11:02:24.487: I/System.out(798): name:JUN
02-01 11:02:24.487: I/System.out(798): name:Java
02-01 11:02:24.487: I/System.out(798): name:Media Framework
02-01 11:02:24.487: I/System.out(798): name:Money Control
02-01 11:02:24.487: I/System.out(798): name:Organisational Structure
02-01 11:02:24.487: I/System.out(798): name:P.M
02-01 11:02:24.487: I/System.out(798): name:Project
02-01 11:02:24.487: I/System.out(798): name:Redbus
02-01 11:02:24.487: I/System.out(798): name:Reorganize
02-01 11:02:24.487: I/System.out(798): name:S.E
02-01 11:02:24.487: I/System.out(798): name:Sabre
02-01 11:02:24.487: I/System.out(798): name:View 
```

但我需要如下输出：

```
name:Add New Employee
type="Action"

name:Add Project Members
type="Action" 
```

等等......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:44:31.057

只需将解析结果存储到 ArrayList 中，然后您可以根据需要对数据进行排序。我认为这是所有开发人员在解析后对数据进行排序的最佳方法。

您可以参考此链接在 ArrayList 中[对数据进行排序。](http://www.mkyong.com/java/how-to-sort-an-arraylist-in-java/)

希望你明白了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:56:42.830

首先，没有办法在你去的时候以排序的方式读取文件。

将数据存储在一个对象中，例如：

```
public class XmlEntry implements Comparable<XmlEntry>{
    private final String mName;
    private final String mType;

    public String getName() {
        return mName;
    }

    public String getType() {
        return mType;
    }

    public XmlEntry(String name, String type) {
        mName = name;
        mType = type;
    }

    @Override
    public int compareTo(XmlEntry xmlEntry) {
        //--sort by name--
        return mName.compareTo(xmlEntry.getName());
    }
} 
```

添加完成后创建`ArrayList<XmlEntry>`并添加项目`alEntries.add(new XmlEntry(name,type))`，调用`Collections.sort(alEntries)`.

您可以更改`XmlEntry`类以保存任意数量的字段，并将其比较方法设置为按字段的任意组合进行排序。

# jvectormap - IE7中的Jvectormap错误

> ID：14640430
> 
> 赞同：0
> 
> 时间：2013-02-01T05:39:30.247
> 
> 标签：jvectormap

我在 IE7 中遇到此错误，并且在实时网站 (jvectormap.com/) 中遇到同样的问题。

有人可以解决我的问题吗？

网页错误详情

用户代理：Mozilla/4.0（兼容；MSIE 8.0；Windows NT 6.1；Trident/4.0；SLCC2；.NET CLR 2.0.50727；.NET CLR 3.5.30729；.NET CLR 3.0.30729；Media Center PC 6.0；InfoPath。 2；.NET4.0C；.NET4.0E) 时间戳：2013 年 2 月 1 日星期五 05:30:11 UTC

消息：属性仅在 v:image 上有效 行：7 字符：8124 代码：0 URI：http: [//jvectormap.com/js/jquery-jvectormap-1.2.2.min.js](http://jvectormap.com/js/jquery-jvectormap-1.2.2.min.js)

消息：属性仅对 v:image 有效行：388 字符：1 代码：0 URI：http: [//jvectormap.com/js/css3-mediaqueries.js](http://jvectormap.com/js/css3-mediaqueries.js)

# c++ - 无 Unicode 库和 Windows 语言环境

> ID：14640432
> 
> 赞同：1
> 
> 时间：2013-02-01T05:39:37.127
> 
> 标签：c++, windows, unicode, c++-cli, locale

我正在使用（似乎是）ansi（或 ascii？？） dll 库。我认为是这样的，因为 lib 提供的头文件显示了使用 char* 和 LPSTR 和 LPCSTR 的函数以及带有 char 数组的结构。

这个 dll 是通过 ::LoadLibrary 从一个 cpp/cli 类库中加载的，该类库包装了它的功能并将其公开给 c#。c# 控制台应用程序和各种其他类库使用此 cli 库来执行操作。

我可以制作 cli 程序集 ether mutibyte 或 Unicode（据我所知，在语言支持方面是相同的），并且 c# 应用程序始终是 Unicode。

这个本地 dll 本质上是一个适当的后端服务器的代理，它在服务器之间来回传递信息。

我遇到的问题是，如果操作系统语言环境（对于非 Unicode 应用程序）将其运行设置为该特定语言，则本机 dll 库只能针对特定语言正确运行。即，如果我希望应用程序正确使用中文字符，则需要设置该区域设置。我发现难以理解的是为什么区域设置对经纪人很重要。我知道，如果服务器是 ansi 应用程序，如果用户不想在其上存储任何 Unicode 中文，则在服务器上设置区域设置是有意义的，因此它会在客户端中，但不是在只是传递事情的中间人中。此外，整个事情变得非常混乱。

是否可以将 Unicode 传递给 c++ 中的 char 数组之类的东西？在这种情况下甚至可以工作吗？

这是我正在考虑的一个场景：

*   c# app获取url编码的字符串
*   c# app解码字符串并将其传递给cli
*   cli以某种方式将String^（或者此时应该是byte []）转换为char []并将其传递给本机lib

这真的有可能吗？就内存布局而言，我的意思是 char 只是一个字节，不是吗？

我以正确的方式接近这个吗？有没有更好的方法来完成跨语言支持。请注意，供应商在记录中说无法在 api 中混合语言，但这不是我想要的。我只是不想为我想要支持的每种语言在单独的操作系统上运行软件实例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T09:11:55.693

在这种情况下令人困惑的是，DLL 的接口已损坏。在以下意义上被打破：*它不支持所有的 Unicode 代码点*。这与参数的类型无关：char 数组[非常](http://www.utf8everywhere.org)适合支持所有 unicode。

我们怎么知道呢？这是因为，根据您的说法，它的作用取决于系统区域设置。

那么该怎么办？如果 DLL 源代码不在您的控制之下，您将不会拥有它。但是，您可以通过设置语言环境来解决一个 ANSI 代码页的问题。它不适用于某些语言。

最好是敦促 DLL 供应商支持 unicode。最好的编码当然是 UTF-8 - 这样它就不会破坏现有代码，因为 LPCSTR 类型保持不变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-03T05:17:13.830

我最终使用了这里描述的方法：

[是否可以在 Windows 中为每个应用程序设置 ANSI 编码](https://stackoverflow.com/questions/14653176/is-it-possible-to-set-ansi-encoding-per-application-in-windows#comment20479699_14653176)

这对我有用

# odata - 如何在不使用 JayData 过滤器的情况下按键检索实体

> ID：14640434
> 
> 赞同：1
> 
> 时间：2013-02-01T05:39:47.543
> 
> 标签：odata, jaydata

JayData 在 EntitySet 上有一个名为`find(keyValue, cb)`. 但是，此方法转换为以下 OData 查询：

```
http://localhost/api/MyEntitySet?$filter=(Id eq 1)&$top=2 
```

为什么 OData 提供程序不通过键查询？像这样：

```
http://localhost/api/MyEntitySet(1) 
```

我发现在这种情况下第二个查询更自然，也更容易调试。有没有办法强制 JayData 使用第二个查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-26T15:11:45.337

现在它似乎受到支持，但尚未记录。我已经测试了 1.3.6 版。请求被翻译成

```
http://localhost/api/MyEntitySet(1) 
```

我找到的唯一文档在这里（搜索“OData 提供者的新 find()”）：

```
http://jaydata.org/blog/release-notes 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T10:52:32.623

抱歉，我们现在不支持此功能。您可以将其添加到我们的待办事项 ( [http://jaydata.org/backlogs](http://jaydata.org/backlogs) ) 或在 github 上打开一个问题。

# php - 更新用户级别

> ID：14640440
> 
> 赞同：0
> 
> 时间：2013-02-01T05:40:14.673
> 
> 标签：php, logging

我正在尝试通过一个简单的表单来更新用户级别，但它向我显示未定义的索引并且没有更新级别有人会帮助我这样做吗？

```
<h3>Update User Level</h3>
<form action="" method="POST">
UserID:<br/>
<input type="text" name="upduser" maxlength="30"> <br/>
Designation code:<br>
<?php
//require 'config.php';
$options = '';
$filter=mysql_query("select`user_dsgntn_code` from `hr_user`");
while($row = mysql_fetch_array($filter)) {
    $options .="<option>" . $row['user_dsgntn_code'] . "</option>";
}
            $dropdown="<form id='designation' name='designation' method='POST' action=''>
                <select name='updlevel' onchange='showUser(this.value)'>
                  " . $options . "
                </select>
            </form>";
        echo $dropdown;
        //do_alert("$options");
        ?>
<br>
<input type="submit" value="Update Level">
</form>
<?
//require 'config.php';

if ( isset( $_POST['upduser'] ) && ! empty ( $_POST['upduser'] )&&
isset ($_POST['updlevel']));
{
$updtuser=$_POST['upduser'];
$updtlevel=$_POST['updlevel'];
$sql_upd="update `hr_user` set user_dsgntn_code='$updtlevel' WHERE user_id='$updtuser'";
$result = mysql_query($sql_upd) or die(mysql_error());
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:00:15.380

删除`<select>`.

```
<h3>Update User Level</h3>
<form action="" method="POST">
UserID:<br/>
<input type="text" name="upduser" maxlength="30"> <br/>
Designation code:<br>
<?php
//require 'config.php';
$options = '';
$filter=mysql_query("select`user_dsgntn_code` from `hr_user`");
while($row = mysql_fetch_array($filter)) {
    $options .="<option>" . $row['user_dsgntn_code'] . "</option>";
}
            $dropdown="<select id='designation' name='updlevel' onchange='showUser(this.value)'>
                  " . $options . "
                </select>";
        echo $dropdown;
        //do_alert("$options");
        ?>
<br>
<input type="submit" value="Update Level">
</form> 
```

# java - 如何从 jasper 导出到带有图像和单元格边框的标准 excel 文件，并且 excel 文件看起来像普通的 excel 文件？

> ID：14640444
> 
> 赞同：1
> 
> 时间：2013-02-01T05:40:32.597
> 
> 标签：java, jsp, jasper-reports, ireport, export-to-excel

我正在使用 jasper 报告在我的 liferay 自定义 portlet JSP 页面中导出我的 excel 报告。

现在发生的情况是，当我将 IS_IGNORE_GRAPHICS 属性设置为 false 时，它​​会在 excel 报告中显示图像。但是 excel 报告的列没有显示任何边框。如果我将其设置为 true，那么它不会显示图像，然后每一列都带有边框..现在我想要的是 excel 报告上的图像以及 excel 报告的单元格边框。

以下是我的 jrxml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="RestaurantReport" language="groovy" pageWidth="595" pageHeight="520" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isFloatColumnFooter="true">
    <property name="ireport.zoom" value="1.1000000000000032"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>
    <property name="net.sf.jasperreports.export.xls.ignore.graphics" value="false"/>
    <style name="table">
        <box>
            <pen lineWidth="1.0" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <subDataset name="Table Dataset 1"/>
    <field name="advertisename" class="java.lang.String"/>
    <field name="camp_name" class="java.lang.String"/>
    <field name="ad_location" class="java.lang.String"/>
    <field name="clicked" class="java.lang.Integer"/>
    <field name="impression" class="java.lang.Integer"/>
    <field name="filter_start_date" class="java.util.Date"/>
    <field name="filter_end_date" class="java.util.Date"/>
    <field name="ctr" class="java.lang.Float"/>
    <field name="restaurantname" class="java.lang.String"/>
    <field name="medianame" class="java.lang.String"/>
    <variable name="RestaurantTotal" class="java.lang.Integer" resetType="Group" resetGroup="Restaurant Name" calculation="Sum">
        <variableExpression><![CDATA[$F{impression}]]></variableExpression>
    </variable>
    <variable name="RestaurantGrandTotal" class="java.lang.Integer" calculation="Sum">
        <variableExpression><![CDATA[$F{impression}]]></variableExpression>
    </variable>
    <variable name="CTR Total" class="java.lang.Float" resetType="Group" resetGroup="Restaurant Name" calculation="Sum">
        <variableExpression><![CDATA[$F{ctr}]]></variableExpression>
    </variable>
    <variable name="CTRGrandtotal" class="java.lang.Float" calculation="Sum">
        <variableExpression><![CDATA[$F{ctr}]]></variableExpression>
    </variable>
    <variable name="ClickTotal" class="java.lang.Integer" calculation="Sum">
        <variableExpression><![CDATA[$F{clicked}]]></variableExpression>
    </variable>
    <variable name="ClickGrandTotal" class="java.lang.Integer" resetType="Group" resetGroup="Restaurant Name" calculation="Sum">
        <variableExpression><![CDATA[$F{clicked}]]></variableExpression>
    </variable>
    <group name="Restaurant Name" isReprintHeaderOnEachPage="true">
        <groupExpression><![CDATA[$F{restaurantname}]]></groupExpression>
        <groupHeader>
            <band height="50">
                <staticText>
                    <reportElement mode="Opaque" x="0" y="30" width="149" height="20" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                        <paragraph firstLineIndent="4"/>
                    </textElement>
                    <text><![CDATA[Advertise Name]]></text>
                </staticText>
                <staticText>
                    <reportElement mode="Opaque" x="412" y="30" width="46" height="20" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                    </textElement>
                    <text><![CDATA[Click]]></text>
                </staticText>
                <staticText>
                    <reportElement mode="Opaque" x="283" y="30" width="78" height="20" isPrintInFirstWholeBand="true" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                        <paragraph firstLineIndent="2"/>
                    </textElement>
                    <text><![CDATA[AD Location]]></text>
                </staticText>
                <staticText>
                    <reportElement mode="Opaque" x="458" y="30" width="51" height="20" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                    </textElement>
                    <text><![CDATA[Impression]]></text>
                </staticText>
                <textField>
                    <reportElement x="0" y="10" width="284" height="20"/>
                    <textElement verticalAlignment="Middle">
                        <font isBold="true" isUnderline="false"/>
                    </textElement>
                    <textFieldExpression><![CDATA["Restaurant Name : "+ $F{restaurantname}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement mode="Opaque" x="149" y="30" width="134" height="20" isPrintInFirstWholeBand="true" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                        <paragraph firstLineIndent="4"/>
                    </textElement>
                    <text><![CDATA[Campaign]]></text>
                </staticText>
                <staticText>
                    <reportElement mode="Opaque" x="509" y="30" width="46" height="20" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                    </textElement>
                    <text><![CDATA[CTR (%)]]></text>
                </staticText>
                <staticText>
                    <reportElement mode="Opaque" x="361" y="30" width="51" height="20" forecolor="#FFFFFF" backcolor="#0FAAC2"/>
                    <textElement verticalAlignment="Middle">
                        <font fontName="Times New Roman" size="10" isBold="true"/>
                        <paragraph firstLineIndent="4" leftIndent="10"/>
                    </textElement>
                    <text><![CDATA[Type]]></text>
                </staticText>
            </band>
        </groupHeader>
        <groupFooter>
            <band height="21">
                <textField pattern="###0.00">
                    <reportElement x="509" y="1" width="47" height="20"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Times New Roman"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$V{ClickTotal}/$V{RestaurantTotal}*100]]></textFieldExpression>
                </textField>
                <textField>
                    <reportElement x="412" y="0" width="46" height="21"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font fontName="Times New Roman" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$V{ClickTotal}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement x="270" y="1" width="142" height="20"/>
                    <textElement textAlignment="Right" verticalAlignment="Middle">
                        <font fontName="Times New Roman" isBold="true"/>
                        <paragraph leftIndent="5"/>
                    </textElement>
                    <text><![CDATA[Group Total ]]></text>
                </staticText>
                <textField pattern="" isBlankWhenNull="true">
                    <reportElement x="458" y="1" width="51" height="20"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
                        <font fontName="Times New Roman" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$V{RestaurantTotal}]]></textFieldExpression>
                </textField>
            </band>
        </groupFooter>
    </group>
    <background>
        <band splitType="Stretch"/>
    </background>
    <pageHeader>
        <band height="113">
            <image scaleImage="RetainShape" isUsingCache="true">
                <reportElement x="414" y="0" width="139" height="65"/>
                <imageExpression><![CDATA["C:\\Liferay\\tomcat-7.0.27\\webapps\\eMenuAdvertise-portlet\\img\\eMenuLogo.png"]]></imageExpression>
            </image>
            <textField pattern="MM/dd/yyyy h.mm a Z">
                <reportElement x="30" y="0" width="100" height="20"/>
                <textElement textAlignment="Justified">
                    <font fontName="Times New Roman" isUnderline="false"/>
                </textElement>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>
            <textField pattern="MM/dd/yyyy">
                <reportElement x="30" y="93" width="64" height="20"/>
                <textElement textAlignment="Justified" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$F{filter_start_date}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="0" y="0" width="30" height="20"/>
                <textElement>
                    <font fontName="Times New Roman" isBold="true"/>
                </textElement>
                <text><![CDATA[Date : ]]></text>
            </staticText>
            <staticText>
                <reportElement x="94" y="93" width="19" height="20"/>
                <textElement verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[To:]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="93" width="30" height="20"/>
                <textElement verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[From:]]></text>
            </staticText>
            <textField pattern="MM/dd/yyyy">
                <reportElement x="113" y="93" width="100" height="20"/>
                <textElement textAlignment="Justified" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$F{filter_end_date}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="130" y="23" width="283" height="67"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial Black" size="16" isBold="true" isUnderline="false"/>
                </textElement>
                <text><![CDATA[Restaurant Report]]></text>
            </staticText>
        </band>
    </pageHeader>
    <columnHeader>
        <band/>
    </columnHeader>
    <detail>
        <band height="18" splitType="Immediate">
            <textField>
                <reportElement mode="Transparent" x="0" y="1" width="149" height="15"/>
                <textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
                    <font fontName="Times New Roman" size="9"/>
                    <paragraph lineSpacing="Single" firstLineIndent="5"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{advertisename}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement mode="Transparent" x="283" y="1" width="78" height="15" backcolor="#FFFFFF"/>
                <textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
                    <font fontName="Times New Roman" size="9"/>
                    <paragraph lineSpacing="Single" firstLineIndent="5"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{ad_location}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement mode="Transparent" x="458" y="1" width="51" height="15"/>
                <textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
                    <font fontName="Times New Roman" size="9"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{impression}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement mode="Transparent" x="412" y="1" width="46" height="15"/>
                <textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
                    <font fontName="Times New Roman" size="9"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{clicked}]]></textFieldExpression>
            </textField>
            <line direction="BottomUp">
                <reportElement x="0" y="16" width="555" height="1"/>
                <graphicElement>
                    <pen lineWidth="0.5" lineStyle="Solid"/>
                </graphicElement>
            </line>
            <textField>
                <reportElement x="149" y="1" width="134" height="15"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="9"/>
                    <paragraph firstLineIndent="5"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{camp_name}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="509" y="1" width="46" height="15"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{ctr}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="361" y="1" width="51" height="15"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="9"/>
                    <paragraph firstLineIndent="5" leftIndent="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{medianame}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <columnFooter>
        <band/>
    </columnFooter>
    <pageFooter>
        <band height="23" splitType="Immediate">
            <textField>
                <reportElement x="226" y="0" width="80" height="20"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Times New Roman" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report">
                <reportElement x="308" y="0" width="40" height="20"/>
                <textElement verticalAlignment="Middle">
                    <font fontName="Times New Roman" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
    <lastPageFooter>
        <band height="20" splitType="Immediate">
            <textField evaluationTime="Report">
                <reportElement x="308" y="0" width="40" height="20"/>
                <textElement verticalAlignment="Middle">
                    <font fontName="Times New Roman" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="228" y="0" width="80" height="20"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Times New Roman" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
            </textField>
        </band>
    </lastPageFooter>
    <summary>
        <band height="20">
            <staticText>
                <reportElement x="257" y="0" width="155" height="20"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="11" isBold="true"/>
                    <paragraph rightIndent="5"/>
                </textElement>
                <text><![CDATA[Grand Total]]></text>
            </staticText>
            <textField pattern="###0" isBlankWhenNull="false">
                <reportElement x="458" y="0" width="51" height="20"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="11" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{RestaurantGrandTotal}]]></textFieldExpression>
            </textField>
            <textField pattern="###0.00">
                <reportElement x="509" y="0" width="45" height="20"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="11" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{ClickGrandTotal}/$V{RestaurantGrandTotal}*100]]></textFieldExpression>
            </textField>
            <textField pattern="###0">
                <reportElement x="412" y="0" width="46" height="20"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Times New Roman" size="11" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{ClickGrandTotal}]]></textFieldExpression>
            </textField>
        </band>
    </summary>
    <noData>
        <band/>
    </noData>
</jasperReport> 
```

这些是我在导出到 excel 文件之前设置的属性

```
exporterXLS.setParameter(JRXlsExporterParameter.JASPER_PRINT,
                jasperPrint);
        exporterXLS.setParameter(JRXlsExporterParameter.OUTPUT_STREAM,
                byteArrayOutputStream);
        exporterXLS.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER,
                Boolean.FALSE);
        exporterXLS.setParameter(
                JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);
        exporterXLS.setParameter(
                JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS,
                Boolean.TRUE);
        exporterXLS.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN,
                Boolean.TRUE);
        exporterXLS.setParameter(
                JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS,
                Boolean.TRUE);
        exporterXLS.setParameter(JRXlsExporterParameter.IS_ONE_PAGE_PER_SHEET,
                Boolean.FALSE);
        exporterXLS.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE,
                Boolean.FALSE);

        exporterXLS.setParameter(JRXlsExporterParameter.IS_IGNORE_GRAPHICS,
                Boolean.FALSE); 
```

任何人都可以请指导我**如何从 jasper 导出到带有图像单元格边框的标准 excel 文件，并且 excel 文件看起来像普通的 excel 文件。**其他问题是**它甚至没有正确对齐**。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-05T09:21:10.563

使用上述功能，我已经设置了所有参数，这有助于我实现这一目标..为仍然有问题的人发布这个使用 jasper.thanx 导出 excel 文件

```
 private void SetExcelReportParameter(JRXlsExporter exporterXLS,
                JasperPrint jasperPrint, ByteArrayOutputStream byteArrayOutputStream) {

            exporterXLS.setParameter(JRXlsExporterParameter.JASPER_PRINT,
                    jasperPrint);
            exporterXLS.setParameter(JRXlsExporterParameter.OUTPUT_STREAM,
                    byteArrayOutputStream);
            exporterXLS.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER,
                    Boolean.FALSE);
            exporterXLS.setParameter(
                    JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, Boolean.FALSE);
            exporterXLS.setParameter(
                    JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS,
                    Boolean.TRUE);
            exporterXLS.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN,
                    Boolean.TRUE);

            exporterXLS.setParameter(
                    JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS,
                    Boolean.TRUE);
            exporterXLS.setParameter(JRXlsExporterParameter.IS_ONE_PAGE_PER_SHEET,
                    Boolean.FALSE);
            exporterXLS.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE,
                    Boolean.TRUE);

            exporterXLS.setParameter(JRXlsExporterParameter.IS_IMAGE_BORDER_FIX_ENABLED,
                    Boolean.TRUE);
            exporterXLS.setParameter(JRXlsExporterParameter.IS_FONT_SIZE_FIX_ENABLED,
                    Boolean.TRUE);

            exporterXLS.setParameter(JRXlsExporterParameter.IS_IGNORE_GRAPHICS,
                    Boolean.FALSE);

        } 
```

# jquery - 让 jQuery 循环在一页上运行多个实例的问题

> ID：14640448
> 
> 赞同：0
> 
> 时间：2013-02-01T05:41:14.177
> 
> 标签：jquery, cycle

前段时间我开始了一个关于让 jQuery 循环插件的多个实例在一个页面上运行的主题，每个实例都使用一组单独的控件。链接：[需要多个 jQuery 循环滑块来使用不同的上一个/下一个按钮](https://stackoverflow.com/questions/14296221/need-multiple-jquery-cycle-sliders-to-use-different-prev-next-buttons)

我得到的回应似乎是正确的想法，但我无法让它发挥作用。我仍在学习 javascript，有时很难将东西放在正确的位置，但我尝试添加我能想到的任何地方给我的代码，但没有任何效果。这是我的原始脚本：

```
$('.slides').cycle({ 
        fx:      'scrollHorz', 
        speed:  'slow', 
        timeout: 0, 
        nowrap: true,
        pause:   1,
        prev: $('.slider-arrow-left'),
        next: $('.slider-arrow-right'),
        cssBefore:{ 
            top: 0,
            opacity: 1,
            display: 'block'
        }, 
        animOut: {  
            top: 360
        },
        before: function(curr, next, opts){
            var $curr = $(curr);
            var $next = $(next);
        },
        pause: 1,
        pager: '.slider-controls',
        pagerAnchorBuilder: function (idx, slide) {
            return '.slider-controls li:eq(' + idx + ') a';
        }
    }); 
```

提供的解决方案代码：

```
$('.slides').each(function(){
     /* look for controls only within this instance*/
        var nextBtn=$(this).parent().find('.slider-arrow-left');
            $(this).cycle({ 
            next: nextBtn
        });
        var prevBtn=$(this).parent().find('.slider-arrow-right');
            $(this).cycle({ 
            prev: prevBtn
        });
    }); 
```

这是正确的代码吗？如果是这样，有人可以给我完整的代码吗？我的基本 HTML 布局是这样的（完整的代码在页面上重复了 4 次）：

```
<div class="slider">
<div class="slides">
    <div class="slide">
        Images
    </div>
    <div class="slide">
        Images
    </div>

</div>
<img src="images/arrow-L.png" alt="Left" class="slider-arrow-left"/>
<img src="images/arrow-R.png" alt="Right" class="slider-arrow-right"/>
</div><!--slider--> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-02T03:50:31.297

好的，我现在明白你的问题了。

首先，要让箭头显示我需要将它的样式设置为，`left: 0;`因为这是你可以在小提琴中进行的。

其次，要在一页中有多个“循环”插件，您需要为它们分配不同的名称，并为其箭头属性分配不同的名称，否则它们将控制相同的东西。不确定您是否需要这么多属性，但决定不修改它。

这是工作小提琴：http: [//jsfiddle.net/gugahoi/gbYhB/12/](http://jsfiddle.net/gugahoi/gbYhB/12/)

主要变化是：

**HTML**

```
<h3>Website Design</h3>
<div class="slider">
    <div class="slides" id="cycleOne">  <!-- Added ID -->
...
...
    <img src=".../arrow-L.png" alt="Left" class="slider-arrow-left move-left"/> <!-- Added class 'move-left' to target with jquery-->
    <img src=".../arrow-R.png" alt="Right" class="slider-arrow-right move-right"/> <!-- Added class 'move-right' to target with jquery-->
</div><!--slider-->
<h3>Print Design</h3>
<div class="slider">
    <div class="slides" id="cycleTwo">  <!-- Added ID -->
    ...
    ...
    <img src=".../arrow-L.png" alt="Left" class="slider-arrow-left move-left2"/> <!-- Added class 'move-left2' to target with jquery-->
    <img src=".../arrow-R.png" alt="Right" class="slider-arrow-right move-right2"/>  <!-- Added class 'move-right2' to target with jquery-->
</div><!--slider--> 
```

**JavaScript**

```
$('#cycleOne').cycle({  // id of first cycle
    ...
    prev: $('.move-left'),  // Targeting classes for the first set of arrows
    next: $('.move-right'), // to control the first cycling
    ...
});
$('#cycleTwo').cycle({  // id of second cycle
    ...
    prev: $('.move-left2'), // Targeting classes for the second set of arrows
    next: $('.move-right2'),// to control the second cycling
    ...
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-02T10:38:45.837

```
$('.slides').each(function(){
    /* look for controls only within this instance*/
    $(this).cycle({ 
        fx:      'scrollHorz', 
        speed:  'slow', 
        timeout: 0, 
        nowrap: true,
        pause:   1,
        prev: $(this).parent().find('.sl_prev'),
        next: $(this).parent().find('.sl_next'),
    });
});
```

# webserver - 围攻基准测试

> ID：14640450
> 
> 赞同：0
> 
> 时间：2013-02-01T05:41:17.843
> 
> 标签：webserver, benchmarking, siege

我需要在 linux 服务器中对 apache 网站进行基准测试。我已经配置了 Siege，它工作正常..

当我在本地主机上运行 siege 时，我得到事务率，即 625.00 trans/sec

```
command is : siege -b -c 200 -r 10 http://localhost 
```

当我在不同站点上运行相同的围攻时，我得到不同的交易率，即 99.21 trans/sec

```
siege -b -c 200 -r 10 http://apache.org 
```

我想知道当我为不同的站点运行时，我的 Apache 服务器是如何被使用的。请澄清这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-31T05:30:11.593

您本地主机中的网站自然比现场托管的网站要快。服务器响应时间在本地服务器中会非常快。

# php - 如何组合 3 个数组并删除重复项？

> ID：14640454
> 
> 赞同：0
> 
> 时间：2013-02-01T05:41:49.053
> 
> 标签：php, arrays

我有 3 个数组。我需要使用 Names 作为键组合它们，删除重复项（名称重复）；只有最有价值的必须保留（基于销售数组的高价值）。我想知道是否有任何简单的方法可以做到这一点。我脑子里只有几个无聊的 foreach 操作。

```
  [名称] => 数组
        (
            [0] => 阿德鲁·沃森
            [1] => 玛丽亚·琼斯
            [2] => 阿德鲁·沃森
        )

```
[sales] => Array
    (
        [0] => 12,000.00
        [1] => 11,900.00
        [2] => 11,800.00
    )

[time] => Array
    (
        [0] => 31-Jan-13    
        [1] => 30-Jan-13    
        [2] => 29-Jan-13    
    ) 
```

输出应该是这样的：

```
   [Adrew Watson] => 销售额 => 12,000.00
                          时间 => 2013 年 1 月 31 日

        [玛丽亚琼斯] => 销售额 => 11,900.00
                          时间 => 2013 年 1 月 30 日

```

我认为这将是一个关联数组，其中的重复项被 "value" 删除。请注意，每个数组（例如 sales ）的值已经按 DESC 排序

            回答 #1

赞同：3

时间：2013-02-01T05:45:30.960

```
// Assumed from your output the arrays have the indexes Names, sales and time
$names = array('Names' => array('Adrew Watson','Maria Jones','Adrew Watson'));
$sales = array('sales' => array('12,000.00','11,900.00','11,800.00'));
$time = array('time' => array('31-Jan-13','30-Jan-13','29-Jan-13'));
$new = array();

foreach ($names['Names'] as $key => $value)
{
    if (isset($new[$value])) continue; // if already exists, skip

    $new[$value] = array(
        'sales' => $sales['sales'][$key],
        'time' => $time['time'][$key]);
}

print_r($new); 
```

输出：

```
Array
(
    [Adrew Watson] => Array
        (
            [sales] => 12,000.00
            [time] => 31-Jan-13
        )

    [Maria Jones] => Array
        (
            [sales] => 11,900.00
            [time] => 30-Jan-13
        )

) 
```

根据您的以下评论：

如果`Name`要从数组中删除 a ，可以在运行上述代码**后**执行此操作，例如：

```
unset($new['Maria Jones']); // remove Maria Jones 
```

            回答 #2

赞同：1

时间：2013-02-01T05:46:18.967

这可以通过[array_merge](http://php.net/manual/en/function.array-merge.php)  而不是[array_unique来完成](http://php.net/manual/en/function.array-unique.php) 

```
<?php
$array1 = array("orange", "apple", "grape");
$array2 = array("peach",  "plumb","apple");
$array3 = array("lemon", "plumb");
$newArray = array_merge($array1, $array2, $array3);

$result = array_unique($newArray);
print_r($result); 
```

[**活生生的例子**](http://codepad.viper-7.com/bz89TN)

```

# ios - 使用 popviview 控制器时如何将 Uiimage 从一个视图控制器传递到另一个视图控制器？

> ID：14640456
> 
> 赞同：0
> 
> 时间：2013-02-01T05:41:58.607
> 
> 标签：ios, uiimageview, crop, popviewcontroller

我有两个视图控制器。

1.  第一个 UIViewController 包含一个 UIImage，当我单击“裁剪”按钮时，转到第二个视图控制器我通过推送视图控制器传递图像，这里我正在裁剪我的 UIImage。

2.  在裁剪图像后的第二个 UIViewController 中，单击“完成”按钮，我需要将裁剪的图像传递给第一个视图。

问题是当我使用弹出视图控制器时，图像没有通过。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:14:46.027

1）在第一个视图控制器标题中创建一个 UIIMAGE *变量。

2）在弹出之前从第二个视图控制器设置 uiimage 变量。

3）弹出第二个视图控制器。

如果这不起作用，请创建一个由 uiimage 变量组成的单例类

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:22:29.180

像这样试试。第一个视图控制器应该有一个属性

```
@property (assign)UIImage *croppedImage; 
```

第二个视图控制器应该有

```
@property (assign)FirstViewController *first; 
```

弹出设置前

```
first.croppedImage = self.image; 
```

# ios - iOS - UIAlertView outton - 其他按钮无法正常工作

> ID：14640460
> 
> 赞同：0
> 
> 时间：2013-02-01T05:42:24.137
> 
> 标签：ios, cocoa-touch

我的应用程序有问题。问题是当我按下 AlertView 上的取消按钮时。它没有显示应该出现在我的输出中的“取消”文本。确认和显示密码按钮工作正常，都显示 NSLogs，只有取消按钮不显示。这是我的代码。请耐心等待我，因为我是 Xcode 的新手。

```
- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex
{
     NSString *title = [alertView buttonTitleAtIndex:buttonIndex];
    if([title isEqualToString:@"Confirm"])
    {
    UITextField *password = [alertView textFieldAtIndex:0];
    NSLog(@"Password: %@", password.text);

        if (buttonIndex != [alertView cancelButtonIndex])
        {
             NSLog(@"cancel");
        }
        else
        {

            NSLog(@"confirm");

            entries = [[NSMutableArray alloc]init];
            NSString *select = [NSString stringWithFormat:@"SELECT * FROM summary2 WHERE username = '%s' and pass = '%s'",[self.lbUser.text UTF8String],[password.text UTF8String]];
            sqlite3_stmt *statement;
            if (sqlite3_prepare(user, [select UTF8String], -1, &statement, nil)==SQLITE_OK)
            {
                if(sqlite3_step(statement)==SQLITE_ROW)
                    {
                     NSLog(@"database updated");
                    [self updatedatabase];
                    UIAlertView *alert3 = [[UIAlertView alloc]initWithTitle:@"Done" message:@"Account was updated successfully!" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
                    [alert3 show];
                    }
                else
                    {

                        NSLog(@"Authentication Failed!");
                        UIAlertView *alert2 = [[UIAlertView alloc]initWithTitle:@"Failed" message:@"Wrong Password! Account was not updated." delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
                        [alert2 show];

                    NSLog(@"fail");
                    }

            }

        }
    }
    else if([title isEqualToString:@"View Password"])
    {
        UITextField *password = [alertView textFieldAtIndex:0];
        NSLog(@"Password: %@", password.text);

        if (buttonIndex != [alertView cancelButtonIndex])
        {
            NSLog(@"cancel");
        }
        else
        {

            NSLog(@"confirm");

            entries = [[NSMutableArray alloc]init];
            NSString *select = [NSString stringWithFormat:@"SELECT * FROM summary2 WHERE username = '%s' and pass = '%s'",[self.lbUser.text UTF8String],[password.text UTF8String]];
            sqlite3_stmt *statement;
            if (sqlite3_prepare(user, [select UTF8String], -1, &statement, nil)==SQLITE_OK)
            {
                if(sqlite3_step(statement)==SQLITE_ROW)
                {
                    NSLog(@"database updated");
                    [self switchbtn];

                }
                else
                {
                     //switch1.on=YES;
                    NSLog(@"Authentication Failed!");
                    UIAlertView *alert2 = [[UIAlertView alloc]initWithTitle:@"Failed" message:@"Wrong Password! Cannot view password." delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
                    [alert2 show];

                    NSLog(@"fail");
                }

            }

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T05:49:18.137

根据您的 if,if-else 语句，您只是在寻找“查看密码”和“确认”按钮。if 语句中没有用于检查取消按钮的分支。

# android - 在 RelativeLayout 中放置控件以使其显示相同的正确方法是什么

> ID：14640462
> 
> 赞同：0
> 
> 时间：2013-02-01T05:42:31.083
> 
> 标签：android, android-layout, android-resolution

在相对布局中放置控件的正确方法是什么，以便无论设备分辨率如何，它都显示相同。我想这已经足够清楚了，如果我们使用`dp`值来提供边距，例如`android:layout_marginTop="17dp"`它显示在 mdpi、xhdpi、hdpi 的不同位置。

有人可以给它一个完整的 guenine 解决方案吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:44:39.417

对于不同的屏幕尺寸，您应该有不同的布局。例如，对于 xhdpi 屏幕，您创建 layout-xhdpi 文件夹并将 xhdpi 屏幕的 layout.xml 放在那里。其他屏幕尺寸也是如此。没有办法让一种布局在所有显示器上看起来都完全相同。

看到这个：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# java - 使用 XALAN 调用 dateNow()

> ID：14640466
> 
> 赞同：0
> 
> 时间：2013-02-01T05:42:59.907
> 
> 标签：java, xml, xslt

我正在使用由 JAVA 方法调用的 XSL，我试图通过给出类的绝对路径来修复它，但我认为它不会起作用，因为我没有找到使用绝对类路径在 XSL 中调用方法的任何地方所以我试图保持在服务器环境中。这是我的代码，我已经给出了类路径，我也调用了方法..但没有得到正确的输出。这是调用方法的正确方法吗？

```
<xsl:stylesheet
        xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:xalan="http://xml.apache.org/xalan"
        xmlns:datetime="java:com.ibm.date"
        exclude-result-prefixes="xalan"
        version="1.0">

  <xsl:output method="xml" encoding="UTF-8" omit-xml-declaration="yes" indent="no" />
  <xsl:strip-space elements="*" />

  <xsl:template name="RootToAcknowledgeInventoryRequirement">
    <xsl:param name="Root" />
    <xsl:variable name="PromiseHeader" select="$Root/PromiseHeader" />
    <xsl:variable name="today" select="datetime:dateNow()" />
    <xsl:variable name="OrganizationCode">
      <xsl:value-of select="$PromiseHeader/@OrganizationCode" />
    </xsl:variable>

    <_inv:AcknowledgeInventoryRequirement releaseID="">
      <_wcf:ApplicationArea>
        <oa:CreationDateTime xsi:type="udt:DateTimeType">
          <xsl:value-of select="datetime:dateNow()" />
        </oa:CreationDateTime>
      </_wcf:ApplicationArea> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:48:45.500

正如您提到的 XLAN 处理器，它的版本是 XSLT 1.0。

因此，默认情况下，它不具备任何为其带来当前日期时间值的日期时间函数。

XSLT 2.0 支持

```
<xsl:value-of  select="current-dateTime()"/>
<xsl:value-of  select="current-date()"/>
<xsl:value-of  select="current-time()"/> 
```

你应该使用 Machael Kay 的 Saxon 最新版本。

现在，为了解决问题，EXSLT 已成为良好的实践：

[从此链接](http://www.exslt.org/date/index.html)下载代码，复制`date.xsl`到您的 xsl 文件位置。将其导入您的 xsl。

```
<xsl:stylesheet version="1.0" 
    xmlns:date="http://exslt.org/dates-and-times" 
    extension-element-prefixes="date"
    ...>

    <xsl:import href="date.xsl" />

    <xsl:template match="//root">
       <xsl:value-of select="date:date-time()"/>
    </xsl:template>
</xsl:stylesheet> 
```

解决方案 2：将日期时间值作为参数传递给 XSL。在需要时将其用作变量。

# php - 我想在 zend 框架的 where 子句中使用 if

> ID：14640472
> 
> 赞同：0
> 
> 时间：2013-02-01T05:43:18.153
> 
> 标签：php, mysql, zend-framework, zend-db-table

以下是我的查询的 `where if(teler.arrange ="Y",(teler.id_to IN ('1940')),0) GROUP BY`一部分`,`

我将如何在目前这样的 Zend 查询中拥有它

`$objSelect->Orwhere('teler.id IN (?))', $where['id']);`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T09:47:51.677

这很简单：

```
$objSelect->orWhere('if(teler.arrange ="Y", (teler.id_to IN (?)), 0)', $where['id'])
          ->group('to'); 
```

# jquery - 免费的 Jquery 滑块，侧面显示图像？

> ID：14640473
> 
> 赞同：0
> 
> 时间：2013-02-01T05:43:19.413
> 
> 标签：jquery, plugins

有谁知道像这样在侧面显示图像的 jQuery 滑块插件？

![在此处输入图像描述](../Images/e313fa7a64dbdcc7115b34993874be9c.png)

我在谷歌上找不到它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T05:56:49.437

您正在寻找的具体内容是**JQuery Carousel**希望这会有所帮助:) 它有一个列表！

[http://www.tripwiremagazine.com/2012/12/jquery-carousel.html](http://www.tripwiremagazine.com/2012/12/jquery-carousel.html)

快速更新有关轮播的答案。对于那些感兴趣的人，我认为它们不再是一个很好的实践——它们仍然很好，但现在极简主义和滚动更受 UI 的青睐，让用户点击浏览图像太乏味了。

有趣的网站：[http ://shouldiuseacarousel.com/](http://shouldiuseacarousel.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:49:22.903

你的意思是免费的还是付费的？

这是一个来自 CodeCanyon 的 4 美元。

[http://codecanyon.net/item/jquery-carousel-evolution/full_screen_preview/490018](http://codecanyon.net/item/jquery-carousel-evolution/full_screen_preview/490018)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T05:55:38.943

[http://www.bkosborne.com/jquery-feature-carousel](http://www.bkosborne.com/jquery-feature-carousel)

[https://github.com/nicklockwood/iCarousel](https://github.com/nicklockwood/iCarousel)

这两个应该可以帮助您完成您想做的事情！我不认为很难找到`jquery` 他们被称为的方式`carousel`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T05:59:03.863

尝试这个 ：

[http://fredhq.com/projects/roundabout](http://fredhq.com/projects/roundabout)

Roundabout 是高度可定制的，具有广泛的 API，可以实现一些非常惊人的结果。

演示：

[http://fredhq.com/projects/roundabout/demos/standard](http://fredhq.com/projects/roundabout/demos/standard)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-01T06:00:20.043

我希望它会帮助你

[http://css-tricks.com/moving-boxes/](http://css-tricks.com/moving-boxes/)

您可以根据需要修改样式。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-01T05:55:09.360

免费选项：

在这里我找到了我认为的开发者页面的两页！？也许？！

[http://www.catchmyfame.com/catchmyfame-jquery-plugins/jquery-infinite-carousel-plugin/](http://www.catchmyfame.com/catchmyfame-jquery-plugins/jquery-infinite-carousel-plugin/)

一个运行良好的演示

[http://www.catchmyfame.com/jquery/infinitecarousel3/demo/d3.html](http://www.catchmyfame.com/jquery/infinitecarousel3/demo/d3.html)

和一个有插件的站点

[http://www.insidepublicidad.com/slider/index.html](http://www.insidepublicidad.com/slider/index.html)

干得好！;)

# php - 如何将此 PHP 转换为 express.js/node

> ID：14640474
> 
> 赞同：0
> 
> 时间：2013-02-01T05:43:23.023
> 
> 标签：php, javascript, node.js, post, express

我正在尝试创建一个端点来获取发布数据并将其保存到 png 文件中。此 PHP 代码执行此操作：

```
if (isset($GLOBALS["HTTP_RAW_POST_DATA"]))
{
    // Get the data
    $imageData=$GLOBALS['HTTP_RAW_POST_DATA'];

    // Remove the headers (data:,) part.  
    // A real application should use them according to needs such as to check image type
    $filteredData=substr($imageData, strpos($imageData, ",")+1);

    // Need to decode before saving since the data we received is already base64 encoded
    $unencodedData=base64_decode($filteredData);

    // Save file.  This example uses a hard coded filename for testing, 
    // but a real application can specify filename in POST variable
    $fp = fopen( 'test.png', 'wb' );
    fwrite( $fp, $unencodedData);
    fclose( $fp );
} 
```

我是新来表达的，我有这个：

```
app.use (function(req, res, next) {
    var data='';
    req.setEncoding('utf8');
    req.on('data', function(chunk) { 
       data += chunk;
    });

    req.on('end', function() {
        req.body = data;
        next();
    });
});

app.post('/upload', function(req, res){

    var testData = req.body;

    return res.send(testData);

}); 
```

我得到一个空白对象。即使正在发布实际数据。有人可以告诉我一个快速编写上述代码的好方法吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:10:58.273

所以从处理程序中获取它：

```
var fs = require('fs');

app.post('/upload', function(req, res){

    var image = req.body;
    var noHeader = image.substring(image.indexOf(',') + 1);
    var decoded = new Buffer(noHeader, 'base64');

    fs.writeFile('testfile.png', decoded, function(err){

        res.send('done!');

    });

}); 
```

# php - 用户登录脚本：用户可以使用任何用户名和密码登录

> ID：14640476
> 
> 赞同：0
> 
> 时间：2013-02-01T05:43:32.157
> 
> 标签：php, mysql, login, login-script

我正在尝试制作一个简单的用户登录系统。但是，我拥有会话的所有内容，并且工作正常，但用户登录名不适用于数据库。我可以输入任何用户名和密码并登录。

这是我的登录页面：

```
<?php
session_start();

$db_host = "localhost";             // Place the database host here
$db_username = "data_user";  // Place the username for the MySQL database here
$db_pass = "password";          // Place the password for the MySQL  database here
$db_name = "database_name";     // Place the name for the MySQL database here

if (isset($_POST['username']))
{
// MySQL Connection
$db_link = mysql_connect("$db_host","$db_username","$db_pass") or die ("could not connect to mysql. Make sure you have correctly inputed your host, username, and password.");
mysql_select_db("$db_name") or die ("no database could be found.");

$username = mysql_real_escape_string($_POST['username']);
$password = mysql_real_escape_string($_POST['password']);

// MySQL Query
$result = mysql_query("SELECT * FROM users WHERE
username = '$username' AND password = '$password' ");

if(!$result) {
    $_SESSION['error'] = '<span style="color:red">Login Failed</span>';
} else 
    {
    $row = mysql_fetch_assoc($result);
        $_SESSION['userid'] = $row['id'];
        $_SESSION['username'] = $username;
    }
    mysql_close($db_link);
}
header('Location: ./')
?> 
```

我正在使用 Bootstraps 登录。所以这是我的登录html：

```
 <div id="login" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
   <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Login</h3>
  </div>
  <div class="modal-body">

    <form class="form-horizontal" action="login.php" method="post">
  <div class="control-group">
    <label class="control-label" for="inputUsername">Username</label>
    <div class="controls">
      <input name="username" type="text" id="inputUsername" placeholder="Username">
    </div>
  </div>
  <div class="control-group">
    <label class="control-label" for="inputPassword">Password</label>
    <div class="controls">
      <input name="password" type="password" id="inputPassword" placeholder="Password">
    </div>
  </div>
  <div class="control-group">
    <div class="controls">
      <label class="checkbox">
        <input type="checkbox"> Remember me
      </label>
    </div>
  </div>
  </div>
   <div class="modal-footer">
    <button type="submit" class="btn btn-primary">Sign in</button>
    </form>
  </div>
</div> 
```

这是使用引导程序的非常基本的登录。我的注销工作正常，这很好，但是无论如何，任何人都可以向我解释为什么它没有连接到数据库并且您可以使用您可以想象的任何用户名和密码登录吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T05:56:11.510

```
if(!$result) { 
```

是错误的检查。即使没有行，这也将返回有效。如果查询执行失败，它只会返回 false。您应该检查行数，可能使用**[mysql_num_rows](http://php.net/mysql_num_rows)**。

```
$num_rows = mysql_num_rows($result);
if($num_rows!=1)
{
echo "Bad U/P";
} 
```

注意：是时候停止使用**mysql_***函数并转移到 mysqli 或 PDO

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-01T05:49:27.963

SQL 语句

```
SELECT * FROM users WHERE username = '$username' AND password = '$password' 
```

将在行值将`$result`不会为假。

这意味着如果出现无效的用户名/密码对，结果集没有行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:41:13.637

这听起来可能很傻，

但是您是否真的创建了名为“database_name”和用户“data_user”的数据库？

```
$db_host = "localhost";
$db_username = "data_user";
$db_pass = "password";
$db_name = "database_name"; 
```

我相信您没有为数据库输入正确的详细信息。如果没有，请这样做并告诉我们。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T06:15:01.227

使用**PDO**：[快速教程 »](http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)

```
$sth = $dbh->prepare( "SELECT `password` FROM `table` WHERE `username` = ?" );

$sth->execute( array( $username ) );

$returned_password = $sth->fetchColumn; 
```

...并且通过进行这样的查询，意味着您不需要`WHERE password`，意味着您不需要为`password`列编制索引（从效率上讲）。

--

从结果中，与用户输入的密码进行比较：

```
if ( $returned_password == $password )
    // OK
else
    // NOT OK 
```

...或者如果您以前将密码存储在某个哈希值中，这是一个非常好的做法：

```
if ( $returned_password == md5( $password ) )
    // OK
else
    // NOT OK 
```

... 至于为什么您当前的脚本允许任何登录，请参阅@Hanky Panky ㇱ 的回答。

祝你好运！

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-02-01T05:47:55.123

`print_r($row);`

打印 $row 行时显示的内容会返回数据

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2013-02-01T05:48:17.980

尝试编辑以下行

```
$row = mysql_fetch_assoc($result);
        $_SESSION['userid'] = $row['id'];
        $_SESSION['username'] = $username;
    } 
```

至

```
$row = mysql_fetch_assoc($result);
        $_SESSION['userid'] = $row[0]['id'];
        $_SESSION['username'] = $username;
    } 
```

仅仅因为您使用了 mysql_fetch_assoc ，结果数组将是行和列的关联数组。

# apache - 在tomcat 7中运行servlet时抛出FileNotFoundException（权限被拒绝）

> ID：14640485
> 
> 赞同：0
> 
> 时间：2013-02-01T05:45:04.793
> 
> 标签：apache, servlets, tomcat7

运行 servlet 应用程序时，某些文件会写入应用程序文件夹，在此期间服务器会抛出

```
Caused by: java.io.FileNotFoundException: config.dbf.0 (Permission denied)
at java.io.RandomAccessFile.open(Native Method)
at java.io.RandomAccessFile.<init>(RandomAccessFile.java:216)
at java.io.RandomAccessFile.<init>(RandomAccessFile.java:101)
at jdbm.recman.RecordFile.getRaf(RecordFile.java:125)
at jdbm.recman.RecordFile.<init>(RecordFile.java:104) 
```

我正在尝试在 mac os x 上运行它，并且还提供了写入 catalina.policy 文件的权限。并且还尝试使用 chmod 授予系统对 755,777 文件的访问权限。是与操作系统有关的问题还是与 catalina.policy 文件中的文件权限方案有关？，我没有收到任何安全异常

每当我在 windows 平台上尝试它时它运行良好，但是当我在基于 mac 或 unix 的系统上运行它时，它会抛出这个异常，问题是一旦部署了 war 文件，就会创建一个名为 pcdb 的小数据库，因此在创建时存在问题db 文件本身，这些 db 文件是大约 8 个文件的小块

# javascript - 使用javascript删除除字母数字和空格之外的所有字符

> ID：14640486
> 
> 赞同：23
> 
> 时间：2013-02-01T05:45:07.393
> 
> 标签：javascript, regex

我喜欢“[从字符串中删除非字母数字字符。遇到 [\] 字符问题](https://stackoverflow.com/questions/9364400/remove-not-alphanumeric-characters-from-string-having-trouble-with-the-char)”所提供的解决方案，但是我将如何在保留空格的同时做到这一点？

我需要在清理字符串后根据空格对字符串进行标记。

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-02-01T05:47:49.023

```
input.replace(/[^\w\s]/gi, '') 
```

无耻地从另一个答案中窃取。 `^`在字符类中的意思是“不是”。所以这是“not” `\w`（相当于`\W`）而不是 not `\s`，它是空格字符（空格、制表符等）`。如果需要，您可以只使用文字。`

 `* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-11-21T12:06:54.243

我知道这是一个旧线程，但如此受欢迎，出现在 Google 搜索的顶部。因此，作为替代方案，3limin4t0r 接受的答案和评论启发了我：

```
.replace(/\W+/g, " ") 
```

恕我直言

```
const input = document.querySelector("input");
const button = document.querySelector("button");
const output = document.querySelector("output");

button.addEventListener("click", () => {
    output.textContent = input.value.replace(/\W+/g, " ");
})
```

```
<input>
<button>Replace</button>
<p>
  <output></output>
</p>
````

# c# - 使用对象插入 ObjectDataSource

> ID：14640496
> 
> 赞同：1
> 
> 时间：2013-02-01T05:46:52.210
> 
> 标签：c#, asp.net, objectdatasource

我正在尝试学习 ASP.NET，并希望使用 ObjectDataSource 来选择并插入数据库。我正在使用一个业务类，该类具有一个以对象作为参数的插入方法。我看过的几个消息来源说这是一种正确的方法，但我一直无法找出如何在文件后面的代码中使用 c# 插入数据库。我有一个表单，它使用正常工作的 ObjectDataSources 从其他两个表中提取，但我需要使用一个按钮将我正在创建的记录插入到表中。我似乎无法将我创建的对象添加到 ObjectDataSource 的 InsertParameters 中，所以我想知道是否有这样做的方法。

insert 方法的签名如下所示：

```
public static void InsertIncident(Incident incident) 
```

Visual Studio 生成的 ASP 代码如下所示：

```
<asp:ObjectDataSource ID="ObjectDataSource1" runat="server"
  DataObjectTypeName="Incident" InsertMethod="InsertIncident"
  OldValuesParameterFormatString="original_{0}"  SelectMethod="GetIncidents" 
  TypeName="IncidentDB"></asp:ObjectDataSource> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T19:30:06.173

我现在觉得有点傻，但我发现我做错了什么。我根本不需要使用 ObjectDataSource 来插入对象。我应该直接调用 insert 方法。

```
if (IsValid)
{
  Incident i = new Incident();
  i.CustomerID = Convert.ToInt32(ddlCustomer.SelectedValue);
  i.ProductCode = ddlProduct.SelectedValue;
  i.DateOpened = DateTime.Today;
  i.Title = txtTitle.Text;
  i.Description = txtDescription.Text;

  try
  {
    IncidentDB.InsertIncident(i);
  }
  catch (Exception ex)
  {
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:14:10.260

尝试将您的 ObjectDataSource 更改为以下内容：

```
<asp:ObjectDataSource ID="ObjectDataSource1" runat="server" DataObjectTypeName="Incident" InsertMethod="InsertIncident" SelectMethod="GetIncidents" TypeName="IncidentDB"></asp:ObjectDataSource> 
```

然后，尝试添加 DetailsView 以在数据库中插入记录：

```
<asp:DetailsView ID="insertData_DetailsView" runat="server" Height="50px" Width="400px" AutoGenerateRows="False" DataSourceID="ObjectDataSource1" DefaultMode="Insert" GridLines="None"> 
```

只需确保您的 DV 中有正确的 DataSourceID。

这对我来说可以。

谢谢。

# c++ - 与显式初始化相比，了解 C++ 中的复制初始化

> ID：14640498
> 
> 赞同：8
> 
> 时间：2013-02-01T05:47:05.430
> 
> 标签：c++, constructor, initialization

为什么第一个注释行编译正确，而第二个没有？

为什么可以`a`将自身作为构造函数参数，但`b`不能？
两人不是在做同样的事情吗？

```
class Foo { Foo &operator =(Foo const &); /* Disable assignment */ };

int main()
{
    Foo a = a;  // OK
    Foo  b(b);  // error C2065: 'b' : undeclared identifier
} 
```

* * *

## 更新

由于它似乎依赖于编译器，因此问题似乎比我想象的更严重。
所以我想问题的另一部分是，以下代码是否有效？

它在 GCC 中出现错误，但 Visual C++ 执行得很好。

```
int main()
{
    int i = 0;
    { int *i(&i); }
    return i;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:54:17.307

在您的第一个代码中，两个声明都应该编译。海合会就在那里。Visual C++ 编译器有错误。

在第二个代码中，内部声明不应该**编译**。GCC 也是正确的，而 VC++ 是错误的。

**GCC 在这两种情况下都是正确的**。

*从语法*的角度来看，类似`int a=a+100;`and的代码`int a(a+100);`很好。它们可能会调用未定义的行为，具体取决于它们是在*静态存储持续时间*还是*自动存储持续时间*中创建的。

 ***```
int a = a + 100; //well-defined. a is initialized to 100
                 //a on RHS is statically initialized to 0
                 //then a on LHS is dynamically initialized to (0+100).
void f()
{
   int b = b + 100; //undefined-behavior. b on RHS is uninitialized

   int a = a + 50; //which `a` is on the RHS? previously declared one?
                   //No. `a` on RHS refers to the newly declared one.
                   //the part `int a` declares a variable, which hides 
                   //any symbol with same name declared in outer scope, 
                   //then `=a+50` is the initializer part.
                   //since a on RHS is uninitialized, it invokes UB
} 
```

请阅读与上述每个声明相关的评论。

请注意，具有*静态存储持续时间*的变量在编译时静态初始化为零，如果它们具有初始化程序，那么它们*也在*运行时动态初始化。*但是具有自动存储持续时间*的 POD 类型的变量不是静态初始化的。

有关*静态初始化与动态初始化*的更多详细说明，请参见：

*   [什么是 C++ 中对象的动态初始化？](https://stackoverflow.com/questions/5945897/what-is-dynamic-intialization-of-object-in-c)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T15:01:54.627

正如您所注意到的，在您的第一个示例中，即使语法没问题，行为也是未定义的。因此允许编译器拒绝代码（但是必须保证未定义的行为；它在这里，但如果从未实际执行过无效初始化，则不会如此）。

你的第二个例子有一个类型错误：只要看到它的声明器，它就可见，特别是它在它自己的初始化程序中是可见的。MSVC++ 延迟了可见性：这是该编译器中一个已知的不合格问题。例如，使用 EDG 编译器（具有 Microsoft 模式）：

```
$ ./cfe --strict x.c
"x.c", line 4: error: a value of type "int **" cannot be used to initialize an
          entity of type "int *"
      { int *i(&i); }
               ^

1 error detected in the compilation of "x.c".
$ ./cfe --microsoft x.c
"x.c", line 4: warning: variable "i" was declared but never referenced
      { int *i(&i); }
             ^ 
```***

# android - 屏幕尺寸与三星 Galaxy S3 和 Nexus One 的兼容性

> ID：14640499
> 
> 赞同：2
> 
> 时间：2013-02-01T05:47:09.250
> 
> 标签：android, screen-orientation

我正在尝试创建一个我想在*Samsung Galaxy S3*和*Nexus One*上运行的应用程序。但后来我才知道这两款设备的屏幕尺寸都是正常的。如何制作适合这两种设备的布局？

应该创建什么类型的文件夹以及该文件夹的清单中的任何条目..？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T05:58:49.543

**三星 Galaxy s3 - 4.8 英寸（普通屏幕） 分辨率 - 720 * 1280 XHDPI**

和

**Nexus one - 3.7 英寸（普通）480 * 800 HDPI**

两个设备都应该使用一个布局（**正常）。**您可以为两者创建不同的图像集，因为一个是**hdpi**另一个是**xhdpi**。

编辑：添加示例表

```
MDPI    X Large 10.1 inches 1280w * 800h(landscape) Samsung Tablet
MDPI    Large   7 inches    1024h * 600w    HTC Flyer
MDPI    Large   7 inches    976h * 600 w    Samsung  GT P6620 
```

# c# - 如何使用 OpenXML 保存文档模板

> ID：14640501
> 
> 赞同：0
> 
> 时间：2013-02-01T05:47:21.327
> 
> 标签：c#, ms-word, openxml

我需要使用 OpenXML 替换值并保存模板文档。我替换了值，但无法打开模板文档。

我的代码是：

```
private void SavePart(OpenXmlPart part, string text)
{
   using (StreamWriter sw = new StreamWriter(part.GetStream(FileMode.Create)))
   {
      sw.Write(text);
   }
} 
```

我需要打开那个“部分”文档。

# android - 使用相对布局膨胀布局时出错

> ID：14640503
> 
> 赞同：0
> 
> 时间：2013-02-01T05:47:25.947
> 
> 标签：android, android-intent, android-imageview, android-relativelayout

我不明白错误发生在哪里，我的应用程序倾向于“强制关闭”。这个你能帮我吗。我以前从未见过这样的错误。这是我的 xml 文件：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/black_red_texture"
tools:context=".AddictionDetails" >

<ImageView
    android:id="@+id/imageViewAddictionDetailsBack"
    android:layout_width="25dp"
    android:layout_height="25dp"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:src="@drawable/arrow_left"
    android:clickable="true" />

<TextView
    android:id="@+id/textViewAddictionDetails"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignBottom="@+id/imageView1"
    android:layout_centerHorizontal="true"
    android:text="Addiction Details"
    android:textSize="20sp" />

<TableLayout
    android:layout_width="250dp"
    android:layout_height="wrap_content"
    android:layout_alignParentEnd="false"
    android:layout_below="@id/textViewAddictionDetails"
    android:layout_centerHorizontal="true"
    android:background="#AAA8A8A8"
    android:shrinkColumns="1" >

    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingTop="10dp" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:text="Today:" />

        <TextView
            android:id="@+id/textview_today"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:layout_weight="1"
            android:text="today" />
    </TableRow>

    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingTop="10dp" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:text="Yesterday:" />

        <TextView
            android:id="@+id/textview_yesterday"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:layout_weight="1"
            android:text="yesterday" />
    </TableRow>

    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingTop="10dp" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:text="This Week:" />

        <TextView
            android:id="@+id/textview_this_week"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:layout_weight="1"
            android:text="this week" />
    </TableRow>

    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingTop="10dp" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:text="This Month:" />

        <TextView
            android:id="@+id/textview_this_month"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:layout_weight="1"
            android:text="this month" />
    </TableRow>

    <TableRow
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="10dp"
        android:paddingTop="10dp" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:gravity="right"
            android:text="Total:" />

        <TextView
            android:id="@+id/textview_total"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:layout_weight="1"
            android:text="total" />
    </TableRow>
</TableLayout>
</RelativeLayout> 
```

这是我的源文件：

```
package com.addictioncounterapp;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import android.app.Activity;
import android.content.Intent;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;
import android.widget.TextView;

public class AddictionDetails extends Activity 
{
TextView tv_addiction_name, tv_today, tv_yesterday, tv_this_week, tv_this_month, tv_total;
ImageView iv_back;

@Override
protected void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_addiction_details);

    tv_addiction_name = (TextView) findViewById(R.id.textViewAddictionDetails);
    tv_total = (TextView) findViewById(R.id.textview_total);
    tv_today = (TextView) findViewById(R.id.textview_today);
    tv_yesterday = (TextView) findViewById(R.id.textview_yesterday);
    tv_this_week = (TextView) findViewById(R.id.textview_this_week);
    tv_this_month = (TextView) findViewById(R.id.textview_this_month);

    iv_back = (ImageView) findViewById(R.id.imageViewAddictionDetailsBack);
    iv_back.setClickable(true);
    iv_back.setOnClickListener(new OnClickListener()
                                    {
                                        @Override
                                        public void onClick(View v)
                                        {
                                            Intent intent = new Intent(AddictionDetails.this, StartActivity.class);
                                            startActivity(intent);
                                        }
                                    }
                                );

    Intent intent = getIntent();
    String cat_name = intent.getStringExtra("cat_name");

    tv_addiction_name.setText(cat_name);

    SQLiteDatabase db = openOrCreateDatabase("AddictionCounter.db", SQLiteDatabase.OPEN_READWRITE, null);

    Cursor cursor = db.query("category", new String[]{"cat_id"}, "cat_name=?", new String[]{cat_name}, null, null, null);

    //----------------------fetching id-------------------

    int cat_id = 0;
    if(cursor.getCount() > 0)
        while(cursor.moveToNext())
            cat_id = cursor.getInt(0);
    cursor.close();

    //----------------------fetching total-------------------

    int total;
    cursor = db.query("counter", new String[]{"cat_id"}, "cat_id=?", new String[]{cat_id+""}, null, null, null);
    total = cursor.getCount();
    tv_total.setText(total+"");

    //----------------------fetching today's count---------------

    cursor = db.query("counter", new String[]{"counter_entry_date"}, "cat_id=?", new String[]{cat_id+""}, null, null, null);

    Calendar cal1 = Calendar.getInstance();
    SimpleDateFormat dateFormat1 = new SimpleDateFormat("dd/MM/yyyy");

    String todays_date = dateFormat1.format(cal1.getTime());
    String cursor_date;
    int counter = 0;
    if(cursor.getCount() > 0)
    {
        while(cursor.moveToNext())
        {
            cursor_date = cursor.getString(0)+"";
            if(cursor_date.equals(todays_date))
                counter++;
        }
    }
    tv_today.setText(counter+"");

    //----------------------fetching yesterdays count------------------

    Calendar cal2 = Calendar.getInstance();
    SimpleDateFormat dateFormat2 = new SimpleDateFormat("dd/MM/yyyy");
    cal2.add(Calendar.DATE, -1);

    String yesterdays_date = dateFormat2.format(cal2.getTime());

    counter = 0;
    cursor.moveToFirst();
    if(cursor.getCount() > 0)
    {
        while(cursor.moveToNext())
        {
            cursor_date = cursor.getString(0)+"";
            if(cursor_date.equals(yesterdays_date))
                counter++;
        }
    }
    tv_yesterday.setText(counter+"");

    //-------------------------fetching current week count--------------------

    ArrayList<String> current_week_dates = new ArrayList<String>();

    Calendar c = Calendar.getInstance();
    c.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);
    SimpleDateFormat df = new SimpleDateFormat("dd/MM/yyyy");
    for (int i = 0; i < 7; i++)
    {
        current_week_dates.add(df.format(c.getTime()));
        c.add(Calendar.DATE, 1);
    }

    counter=0;
    cursor.moveToFirst();
    while(cursor.moveToNext())
    {
        if(current_week_dates.contains(cursor.getString(0)))
        {
            counter++;
        }
    }
    tv_this_week.setText(counter+"");

    //----------------------fetching current month count--------------------

    cursor.moveToFirst();
    counter=0;

    Date date = new Date();
    SimpleDateFormat sdf;

    sdf = new SimpleDateFormat("MM/yyyy");
    String current_month= sdf.format(date);

//      Toast.makeText(getBaseContext(), current_month, Toast.LENGTH_SHORT).show();

    while(cursor.moveToNext())
    {
        if((cursor.getString(0)).matches("(.*)"+current_month))
        {
            counter++;
        }
    }
//      Toast.makeText(getBaseContext(), counter+"", Toast.LENGTH_SHORT).show();

    tv_this_month.setText(counter+"");
    cursor.close();
}
} 
```

这是我的错误日志：

```
02-01 10:58:03.904: D/dalvikvm(403): GC_EXTERNAL_ALLOC freed 53K, 53% free 2559K/5379K, external 716K/1038K, paused 76ms
02-01 10:58:10.544: D/dalvikvm(403): GC_EXTERNAL_ALLOC freed 25K, 52% free 2620K/5379K, external 8173K/8699K, paused 65ms
02-01 10:58:10.584: E/dalvikvm-heap(403): 6400000-byte external allocation too large for this process.
02-01 10:58:10.704: E/GraphicsJNI(403): VM won't let us allocate 6400000 bytes
02-01 10:58:10.714: D/dalvikvm(403): GC_FOR_MALLOC freed 2K, 52% free 2618K/5379K, external 8173K/8699K, paused 50ms
02-01 10:58:10.714: D/skia(403): --- decoder->decode returned false
02-01 10:58:10.714: D/AndroidRuntime(403): Shutting down VM
02-01 10:58:10.714: W/dalvikvm(403): threadid=1: thread exiting with uncaught exception (group=0x40015560)
02-01 10:58:10.755: E/AndroidRuntime(403): FATAL EXCEPTION: main
02-01 10:58:10.755: E/AndroidRuntime(403): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.addictioncounterapp/com.addictioncounterapp.AddictionDetails}: android.view.InflateException: Binary XML file line #1: Error inflating class <unknown>
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.os.Looper.loop(Looper.java:123)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-01 10:58:10.755: E/AndroidRuntime(403):  at java.lang.reflect.Method.invokeNative(Native Method)
02-01 10:58:10.755: E/AndroidRuntime(403):  at java.lang.reflect.Method.invoke(Method.java:507)
02-01 10:58:10.755: E/AndroidRuntime(403):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-01 10:58:10.755: E/AndroidRuntime(403):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-01 10:58:10.755: E/AndroidRuntime(403):  at dalvik.system.NativeStart.main(Native Method)
02-01 10:58:10.755: E/AndroidRuntime(403): Caused by: android.view.InflateException: Binary XML file line #1: Error inflating class <unknown>
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.LayoutInflater.createView(LayoutInflater.java:518)
02-01 10:58:10.755: E/AndroidRuntime(403):  at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:568)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.LayoutInflater.inflate(LayoutInflater.java:386)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
02-01 10:58:10.755: E/AndroidRuntime(403):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:207)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.Activity.setContentView(Activity.java:1657)
02-01 10:58:10.755: E/AndroidRuntime(403):  at com.addictioncounterapp.AddictionDetails.onCreate(AddictionDetails.java:27)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
02-01 10:58:10.755: E/AndroidRuntime(403):  ... 11 more
02-01 10:58:10.755: E/AndroidRuntime(403): Caused by: java.lang.reflect.InvocationTargetException
02-01 10:58:10.755: E/AndroidRuntime(403):  at java.lang.reflect.Constructor.constructNative(Native Method)
02-01 10:58:10.755: E/AndroidRuntime(403):  at java.lang.reflect.Constructor.newInstance(Constructor.java:415)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.LayoutInflater.createView(LayoutInflater.java:505)
02-01 10:58:10.755: E/AndroidRuntime(403):  ... 21 more
02-01 10:58:10.755: E/AndroidRuntime(403): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:460)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:336)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:697)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.content.res.Resources.loadDrawable(Resources.java:1709)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.content.res.TypedArray.getDrawable(TypedArray.java:601)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.View.<init>(View.java:1951)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.View.<init>(View.java:1899)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.view.ViewGroup.<init>(ViewGroup.java:286)
02-01 10:58:10.755: E/AndroidRuntime(403):  at android.widget.RelativeLayout.<init>(RelativeLayout.java:173)
02-01 10:58:10.755: E/AndroidRuntime(403):  ... 24 more
02-01 10:58:12.765: I/Process(403): Sending signal. PID: 403 SIG: 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:35:50.073

您是否尝试增加内存 AVD ？只是一个建议...

# sql - Sql-过滤选择

> ID：14640504
> 
> 赞同：1
> 
> 时间：2013-02-01T05:47:31.177
> 
> 标签：sql, oracle, oracle10g

```
SELECT DISTINCT x1.NUM_KANBAN_ID ID, 
                TO_CHAR(x1.DT_CREATE,'YYYY-MM-DD') CREATED,
                x5.TXT_PLANT_CD CD,
                TO_CHAR(x4.DT_FIRST_VIEWED,'YYYY-MM-DD') VIEWED,
                TO_CHAR(x4.DT_DUE,'YYYY-MM-DD') DUE, x4.
                TXT_SHUTTLE_NUMBER SHUTTLE, 
                (select count(*) 
                 from WEDI_ASN_TO_DIMENSION t8 
                 where t8.TXT_MATCH_CD='1' 
                 AND t8.NUM_DIMENSION_ID=x2.NUM_DIMENSION_ID AND t8.NUM_MATCH_ID = x1.NUM_KANBAN_ID) ASN, 
                 x1.TXT_JIT_CALL_NUM,
                 x2.NUM_VENDOR_ID VENDOR_ID 
 FROM WEDI_KANBAN x1, WEDI_DIMENSION x2, WEDI_USER_VENDORS x3, WEDI_KANBAN_TO_DIMENSION x4, WEDI_PLANT x5
 WHERE x5.NUM_PLANT_ID = x2.NUM_PLANT_ID AND 
       x1.TXT_STATUS_CD = 'C' AND
       x2.NUM_VENDOR_ID = x3.NUM_VENDOR_ID AND 
       x4.NUM_DIMENSION_ID = x2.NUM_DIMENSION_ID AND 
       x1.NUM_KANBAN_ID = x4.NUM_KANBAN_ID AND 
       x1.DT_CREATE < SYSDATE - 15 AND
       x5.TXT_PLANT_CD LIKE '%'  AND
       x2.TXT_MATERIAL_NUM LIKE '%' AND 
       ((x4.TXT_SHUTTLE_NUMBER IS NULL) OR (x4.TXT_SHUTTLE_NUMBER LIKE '%')) AND 
       x4.DT_DUE < SYSDATE - 10 
 ORDER BY VENDOR_ID 
```

在上面的查询中，我应该显示 ASN 仅为 1 或 2 的 id。如果 ASN 有这样的 0,1,2 我不应该显示这些 ID。通常，如果 id 的 ASN 为 0，则不应显示。请建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:52:26.647

最简单的解决方案是：

```
select * 
from (your query)
where 0 not in (select ASN from (your query)) 
```

为了不写两次查询：

```
with (your query) as A
select * 
from a 
where 0 not in (select asn from a) 
```

或者

```
with (your query) as A
select * 
from a 
where not exists (select * from a where asn = 0) 
```

但是，当存在等于零的 ASN 时，存在重写查询以不返回任何行的可能性，但查询很难理解，并且几乎可以肯定有问题，因为您需要 DISTINCT 子句。那是个坏兆头。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:58:13.027

`(ASN = 1) Or (ASN = 2)`在您的 Where 语句中添加类似的内容

# python - 从 tesseract 导入 image_to_string 时出现 Python 错误

> ID：14640509
> 
> 赞同：14
> 
> 时间：2013-02-01T05:47:51.230
> 
> 标签：python, ocr, tesseract

`image_to_string`我最近在 python 中使用了 tesseract OCR，当我尝试从 tesseract导入时，我一直收到错误消息。

导致问题的代码：

```
# Perform OCR using tesseract-ocr library
from tesseract import image_to_string
image = Image.open('input-NEAREST.tif')
print image_to_string(image) 
```

以上代码导致的错误：

```
Traceback (most recent call last):  
file "./captcha.py", line 52, in <module>  
from tesseract import image_to_string  
ImportError: cannot import name image_to_string 
```

我已经验证了 tesseract 模块已安装：

```
digital_alchemy@roaming-gnome /home $ pydoc modules | grep 'tesseract'
Hdf5StubImagePlugin _tesseract          gzip                sipconfig
ORBit               cairo               mako                tesseract 
```

我相信我已经获得了所有必需的软件包，但不幸的是我只是停留在这一点上。看来该功能不在模块中。

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-06-18T17:20:05.510

似乎对我有用的另一种可能性是修改 pytesseract ，而不是 import Image 它具有 from PIL import Image

修改 pytesseract 后在 PyCharm 中工作的代码：

```
from pytesseract import image_to_string
from PIL import Image

im = Image.open(r'C:\Users\<user>\Downloads\dashboard-test.jpeg')
print(im)

print(image_to_string(im)) 
```

我通过 PyCharm 内置的包管理安装的 Pytesseract

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:56:02.580

您安装的模块的语法是否正确？根据此页面上的使用示例，该`image_to_string`功能看起来像是来自 PyTesser： [https ://code.google.com/p/pytesser/](https://code.google.com/p/pytesser/)

您的导入看起来像是针对 python-tesseract 的，其中列出了更复杂的使用示例： [https ://code.google.com/p/python-tesseract/](https://code.google.com/p/python-tesseract/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-08-15T02:51:19.240

对于 windows 遵循以下步骤

```
pip3 install pytesseract 
pip3 install pillow 
```

还需要安装 tessaract-ocr [https://github.com/tesseract-ocr/tesseract/wiki](https://github.com/tesseract-ocr/tesseract/wiki) 否则你会得到一个错误 Tessract is not on path

Python代码

```
from PIL import Image
from pytesseract import image_to_string

print ( image_to_string(Image.open('test.tif'),lang='eng')  ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-13T10:16:47.057

什么对我有用：

在我安装了 pytesseract 表单[tesseract-ocr-setup-3.05.02-20180621.exe 之后](https://github.com/UB-Mannheim/tesseract/wiki) ，我添加了该行 `pytesseract.pytesseract.tesseract_cmd="C:\\Program Files (x86)\\Tesseract-OCR\\tesseract.exe"` 并使用上面的代码形式这是所有代码：

```
import pytesseract
from PIL import Image

pytesseract.pytesseract.tesseract_cmd="C:\\Program Files (x86)\\Tesseract-OCR\\tesseract.exe"
im=Image.open("C:\\Users\\<user>\\Desktop\\ro\\capt.png")
print(pytesseract.image_to_string(im,lang='eng')) 
```

我正在使用带有 PyCharm 社区版 2018.2.3 x64 的 Windows 10

# sockets - TCP 和 Unix 域套接字的性能如何随着进程数量和有效负载大小而扩展？

> ID：14640512
> 
> 赞同：0
> 
> 时间：2013-02-01T05:47:58.463
> 
> 标签：sockets, tcp, scalability, unix-socket

假设我和一些工人在同一台机器上拥有一台服务器，每个工人都在与它交谈。他们可能正在通过 TCP 或 Unix 域套接字进行通信。性能如何随工人数量和消息大小而变化？

当我谈到性能时，我不仅要寻找平均延迟，还要寻找 p90 和 p99 延迟。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:06:39.540

至于 TCP，你可以自己测量它的性能（[像这样](https://stackoverflow.com/a/1650906/184968)）。做几个测试。设置缓冲区的长度以读取或写入并在服务器模式下运行[iperf](https://www.google.com/search?q=iperf&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla:ru:official&client=firefox-a)并在客户端模式下运行一些 iperf 进程。然后更改缓冲区的长度以读取或写入。

# php - javascript中的md5等价物

> ID：14640514
> 
> 赞同：0
> 
> 时间：2013-02-01T05:48:01.760
> 
> 标签：php, javascript, hash, md5

> **可能重复：**
> [如何使用 javascript 计算文件的 md5 哈希值](https://stackoverflow.com/questions/768268/how-to-calculate-md5-hash-of-a-file-using-javascript)
> [我可以在发送到 php 页面之前将密码转换为 javascript 中的 md5 吗？](https://stackoverflow.com/questions/9554565/can-i-convert-password-to-md5-in-javascript-before-sending-to-php-page)

是否有任何函数或方法可以使用 JavaScript 作为 php 中的哈希来加密字符串？我要求用户在那里设置密码，我不希望在 php 对其应用散列之前，密码以字符串格式出现在服务器上。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T05:51:03.090

`md5`是一种散列方法，而不是一种加密方法。这是一种可以用任何语言实现的通用算法，所以我确信那里存在 JavaScript 版本。

但是，您的逻辑是有缺陷的。为什么要在客户端对密码进行哈希处理？然后可以在发送到服务器的途中捕获经过哈希处理的密码，这比服务器单独对其进行哈希处理更糟糕。这不提供任何保护。

在相关说明中，`md5`是一个非常不安全的哈希。使用`bcrypt`.

* * *

散列与加密之间的区别在于，前者创建摘要，而后者创建可以解密的加密内容。哈希摘要无法转换回原始数据，因为它（故意）丢失了。散列用于身份验证，加密用于保密。

* * *

扩展客户端哈希是*最多*与服务器端散列一样有效的事实，请考虑在将散列摘要与存储在数据库中的值进行比较时完成身份验证的事实。

您存储的值是`md5`原始密码的值。要进行身份验证，您必须接收密码，使用`md5`，然后将其与数据库中的摘要进行比较。这意味着`md5`最多只能调用一次。如果你想在JS中调用它，那么它不会在php中调用。这意味着如果有人拦截了`md5`它，就好像他们拦截了原始密码一样有效，因为他们可以发布`md5`到您的服务器，而无需进行额外的哈希处理。

如果您*还在*服务器端进行了`md5`散列，那不会有任何区别，因为会收到相同的未散列值（相对于 PHP 操作）。事实上，它*不太*安全，因为重复相同的哈希会增加冲突的可能性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T05:51:29.967

唯一正确的答案是：**不要使用 md5 加密密码**

如果您担心通过未加密的连接传输纯文本密码，请**使用加密连接**。

# c# - 如何编写查询以使用会话值检查数据库值

> ID：14640518
> 
> 赞同：0
> 
> 时间：2013-02-01T05:48:32.290
> 
> 标签：c#, asp.net-mvc-3

谁能帮我？我在变量中获取会话值，例如

```
var user = Session["UserName"]; 
```

通过这个我会得到一个登录的员工的用户名。现在我想要指定那个员工，所以我写了

```
var data=from u in db.EmployeeTabs.Where(p=>p.EmpName==user).Select(v=>v.Designation) 
```

现在变量数据可能包含登录的员工的指定。现在我想要一个条件，基于我想要重定向页面的条件，所以我想要一个 if 条件

```
if(val(data)=="Receptionist") 
```

那么它应该显示一个`Register.cshtml`页面，所以我应该写什么？以及在哪里写？意味着在控制器中？或者我应该在控制器中创建一些方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T10:19:01.867

我建议阅读[本教程](http://www.asp.net/mvc/tutorials/mvc-music-store)对您的代码进行一些假设，我认为您想要类似的东西

```
public ActionResult Index()
{          
    var user = Session["User"];
    using (var db = new YourEntity())
    {
        var data = from u in db.EmployeeTabs.Where(p => p.EmpName == user).Select(v => v.Designation);
        if (data == null)
        {
           return RedirectToAction("Register");
        }

        Switch(data.First().Designation)
        {
           case "Receptionist":
               return RedirectToAction(Register);
        }
   }

   return View();
}

public public ActionResult Register()
{
    return View();
} 
```

# magento - 将 magento CMS 页面添加到导航栏

> ID：14640521
> 
> 赞同：1
> 
> 时间：2013-02-01T05:48:48.993
> 
> 标签：magento

我是 Magento 的新手，完全迷路了。我在将 CMS 页面分配给导航栏时遇到问题。

从管理类别说，我正在创建一个子类别联系我们，并希望在单击该联系我们菜单时在前端显示一个名为联系我们的 cms 页面。我该怎么做？单击菜单后，它应该转到类似的页面`mysite.com/contact-us.html`。它会去那里，但它显示没有与选择匹配的产品。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:10:34.283

您可以使用此代码在导航中动态获取所有 cms 页面

将此代码放在topcontainer下面的头文件中

```
 <?php $collection = Mage::getModel('cms/page')->getCollection()->addStoreFilter(Mage::app()->getStore()->getId());?>
<?php  $collection->getSelect()
->where('is_active = 1'); ?>
<ul id="nav">
<?php foreach ($collection as $page): ?>
<?php $PageData = $page->getData(); ?>
<?php// print_r($PageData);?>
<?php if($PageData['identifier']!='no-route' && $PageData['identifier']!='enable-cookies' && $PageData['identifier']!='home2') { ?>
<li>
<a href="/magento/index.php/<?php echo $PageData['identifier']?>"><span><?php echo $PageData['title'] ?></span></a>
</li>
<?php } ?>
<?php endforeach; ?>
</ul> 
```

注意根据您的域更改这部分代码“/magento/index.php/”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-11T09:26:00.023

创建一个类别

创建您的 cms 页面

创建一个 URL 重写，将您的类别重定向到您的 cms 页面。

因此，您将在菜单中有一个链接，该链接将重定向到您的 CMS 页面。

例子：

类别：

*   名称：关于我们

*   URL 键：about-us

*   编号：4

内容管理系统页面：

*   名称：关于我们

*   URL 键：about-us

网址重写：

*   类型：定制

*   ID路径：about-us

*   请求路径：catalog/category/view/id/4

*   目标路径：about-us/

*   重定向：永久

# jquery - Google Chart 首次仅使用 Javascript、Google Chart Tool 和 App Engine 工作

> ID：14640522
> 
> 赞同：0
> 
> 时间：2013-02-01T05:48:59.820
> 
> 标签：jquery, ajax, google-app-engine, google-visualization

每次用户从一些下拉菜单中选择值并提交它们时，我都需要更新图表。

我正在编写 Python 脚本来处理选定的选项并根据用户的选择从数据库中获取数据，然后使用字符串替换技术将数据传递给 HTML。javascript 从 Python 中获取数据，并使用谷歌图表 API 生成图表。

但这仅适用于一次。第一次后，用户选择并提交选择，图表保持不变。我可以使用 firebug 工具看到数据是正确的。

有人可以帮我吗？谢谢！

下面是我的javascripts：

```
script src="http://www.google.com/jsapi?key=ABQIAAAA1Vvq5pLyw5IAAQQtCIurLhSCGfxgLuOmAJcC-OBbFOMYrpib_BSypK7Qf_9YkaT-2SzpuOBRKp6Bqw" type="text/javascript"></script>
    <script type="text/javascript">
      google.load("jquery", "1.3.2");
    </script>

      <!--Load the AJAX API-->
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        <script type="text/javascript">
            google.load('visualization', '1', {packages: ['corechart']});
        </script>
        <script type="text/javascript">
            google.setOnLoadCallback(drawVisualization);
            function drawVisualization() {
                        var data = new google.visualization.DataTable();
                        {%if chart_Data%}
                            data.addColumn('string','Date Time');
                            data.addColumn('number','Wireless Mini CCB Controls');
                            data.addColumn('number','FNX App Controls');
                            data.addColumn('number','Hoist Status');
                            data.addRows({{chart_Data}});

                            //var data = google.visualization.arrayToDataTable({{chart_Data}});

                        var options = {
                                title: 'Status of Hoists',
                                vAxis: {title: 'Status of Hoists'},
                                isStacked: true
                        };

                            var chart = new google.visualization.SteppedAreaChart(document.getElementById('status_chart'));
                            chart.draw(data, options);
                        {% endif %}
  } 
```

下面是我处理下拉列表菜单选择并将“GET”请求发送到我的 Python 处理程序的函数，它将返回一个替换字符串 {{chart_Data}}：

```
function monitorHoist(hoist_to_monitor,month,day,year){

            var hoist_to_monitor_text = document.getElementById('hoist_to_monitor').options[document.getElementById('hoist_to_monitor').selectedIndex].value
            var month_text = document.getElementById('month').options[document.getElementById('month').selectedIndex].value
            var day_text = document.getElementById('day').options[document.getElementById('day').selectedIndex].value
            var year_text = document.getElementById('year').options[document.getElementById('year').selectedIndex].value
            $.ajax({
            type: 'GET',  
            url: '/all?command=monitor&hoist_to_monitor=' + hoist_to_monitor_text +'&month='+month_text+'&day='+day_text+'&year='+year_text,
            //data: hoist_to_monitor_text,month_text,day_text,year_text,
            timeout: 60000,
            success: function(data) {
              $("#status").html('Success in sending request.');
              //drawVisualization();
            },
            error: function(XMLHttpRequest, textStatus, errorThrown) {
              $("#status").html('Timeout sending request.');
            }
        });
      } 
```

下面是图表的划分：

```
<div id='status_chart' style="width: 900px; height: 500px;"></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-03T19:39:40.067

问题是您没有解析字段的`reqId`值`tqx`（请参阅[实现 ChartTools 数据源协议](https://developers.google.com/chart/interactive/docs/dev/implementing_data_source#requestformat)）。

如果您使用`gviz_api`（[https://code.google.com/p/google-visualization-python/](https://code.google.com/p/google-visualization-python/)），那么您必须将值传递`req_id`给方法`ToJsonResponse`。

# java - 管理活动加载时间的良好做法

> ID：14640523
> 
> 赞同：3
> 
> 时间：2013-02-01T05:49:00.463
> 
> 标签：java, android, android-activity, oncreate

我一直在阅读很多答案来解决这个问题，但不知何故我没有得到一个合适的解决方案。我是一个初学者，可能是因为这个原因。

我正在通过单击活动 A 的按钮创建一个新活动 B。B 有很多 UI。所以加载大约需要 10 秒。它显示一个黑屏直到。

```
public class B extends Activity
{

    Dialog dialog_sec1__participant_name;
    Dialog dialog_sec1__fathers_name;
    Dialog dialog_sec1_address;
    .
    .
    .
    .
    //lot more
    Button btn_section_preview;
    Button btn_sec1_address;
    .
    .
    //lot more

    CustomObj mObject = null;
    CustomObj2 mObject2 = null;
    .
    .
    .

    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.B);

    mObject = new CustomObj();
    mObject2 = new CustomObj();
    .
    .

    txt_sec1_preview_household_id=(TextView)findViewById(R.id.a11);
    txt_sec1_preview_date_of_interview=(TextView)findViewById(R.id.a22);
    txt_sec1_preview_time_of_interview=(TextView)findViewById(R.id.a33);
    .
    .
    .
    // Lot more, including setting view to Dialog.

    .
    .
    .
    // and lot of onclick listners

      btn_section_preview.setOnClickListener(new View.OnClickListener()
          {

            @Override
            public void onClick(View arg0)
            {
                //doing my job here
            }
        });
         .
         .
         .
         . 
```

此视图中有很多 UI 组件。我现在的结构是这样的。现在 ，

1.  如何减少加载时间？
2.  如果上面的方法不是好方法，有什么好方法（实践）来做。

请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:32:11.447

如果您有大约 200 个从上到下排列的元素，您可以尝试使用 ListView，它会为您处理延迟加载。因此，在开始一个活动时，您将只加载可见元素。或者尝试使用另一种方法来实现延迟加载，以 ViewStub 为例。所以这里的主要思想是划分你的布局并允许它部分加载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T05:52:55.740

如果您的活动需要 10 秒才能加载，则在某些情况下您必须达到 ANR 限制 ( [http://developer.android.com/training/articles/perf-anr.html](http://developer.android.com/training/articles/perf-anr.html) )。

如果没有有关您的 UI 的详细信息，我只能推测并提供一些一般性提示：

*   不要一次初始化所有对话框。为什么还要初始化每个对话框？为什么你甚至需要多个对话框实例？为什么不等到对话框被触发再创建关联对象呢？为什么不只保留对当前/最后一个显示而不是所有显示的引用？
*   你说你有很多 OnClickListeners。确保使用单个 OnClickListener 对象并简单地将引用传递给多个视图。这样，您只创建一个对象，而不是多个可能会影响性能的对象。
*   您在 onCreate() 中所做的任何事情都会减慢 Activity 的启动速度，因此请限制您在那里所做的工作。如果一开始不需要它，那么稍后再初始化它！
*   不惜一切代价避免在 onCreate() / UI 线程中阻塞调用。也就是说，任何网络调用或数据库调用。根据您的示例，您似乎很好......但是延迟 10 秒，必须假设您在 onCreate() 调用中进行了阻塞调用（或者可能是 onStart()/onResume() ？）。如果需要，请使用 AsyncTask/Thread。

有关支持文档，请查看[http://developer.android.com/training/articles/perf-tips.html#ObjectCreation](http://developer.android.com/training/articles/perf-tips.html#ObjectCreation)（对象创建从来都不是免费的！）另外，我知道它已经被推荐了，但是布局优化如果您的 UI 很复杂，这非常重要：http: [//developer.android.com/training/improving-layouts/index.html](http://developer.android.com/training/improving-layouts/index.html)

希望有帮助！祝你好运

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:34:46.797

在 UI 加载之前，您可以使用进度条。您还应该阅读优化布局的[最佳实践。](http://developer.android.com/training/improving-layouts/index.html)

# php - PHP如何用substr和strrpos在末尾检索字符串

> ID：14640530
> 
> 赞同：0
> 
> 时间：2013-02-01T05:49:31.257
> 
> 标签：php, string

我有这个字符串 abc_123_test，我试图从字符串中获取“测试”。我目前有这个代码。

```
$string = 'abc_123_test';

$extracted_string = substr( $string, 0, strrpos( $string, '_' ) ); 
```

但是，这将获取字符串的第一部分，直到“abc_123”。所以这似乎与我想要的相反。我想通过使用 strrpos，它会得到相反的结果，但显然我错过了一些东西。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T05:53:34.063

`strrpos` *确实*颠倒了它寻找最后一个的感觉，但是你仍然在从字符串的开头到那个点做子字符串。

您可以使用：

```
substr ($string, strrpos( $string, '_' ) + 1 ); 
```

获取字符串的最后一位而不是起始位。它从最后一个位置开始`_`，因为你省略了长度，它给了你字符串的其余部分。

毫无疑问，有更好的方法来实现这一点，但是，如果你将自己限制在`substr`and `strrpos`，这将正常工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-01T05:51:29.633

尝试：

```
array_pop(split('_', $string)); 
```

**键盘示例**：[http ://codepad.org/JkOaS0oc](http://codepad.org/JkOaS0oc)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-01T05:53:14.467

您可能想改用explode。

```
echo end(explode('_', $string)); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-01T05:54:40.677

尝试这个：

```
 array_pop(explode('_', $string)); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-01T05:54:15.460

尝试

```
substr( $string, strrpos( $string, '_' )+1) 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-01T05:54:34.877

尝试：

$extracted_string = substr($string,strrpos($string, '_')+1);

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-02-01T06:11:30.150

使用explode()试试这个简单的方法

```
$string = 'abc_123_test';
$string = explode('_',$string);
print_r($string);
echo $string[2]; //output test 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-02-01T05:55:29.177

我认为您需要使用以下代码：

```
 $extracted_string = substr( $string, strrpos( $string, '_' )+1); 
```

substr($string, 0, strrpos($string, '_')); - 这从第 0 个位置开始。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-02-01T05:58:01.503

您可以尝试使用此代码从以下字符串中获取“测试”

```
$string = 'abc_123_test';

echo substr($string,8,11); 
```

好运

# javascript - 动态下拉Jsp

> ID：14640532
> 
> 赞同：0
> 
> 时间：2013-02-01T05:49:46.980
> 
> 标签：javascript, json, jsp

我想要一个下拉列表，当我更改第一个下拉列表时会发生变化。我确定我的 servlet 是正确的，因为它返回了我需要的值，但是我的 servlet 没有运行。当我调试时，它没有命中 servlet 中的断点。

我认为这与我的javascript有关。

这是JSP文件：

```
 <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%> 

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"     
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>

<SCRIPT type="text/javascript" src="dropDownOnderdelen.js"></script>
<title>File Uploading Form</title>
</head>
<body>
<h3>File Upload:</h3>
 Select a file to upload: <br />
<form action="/Racing/UploadServlet" method="post"
                    enctype="multipart/form-data">
 <input type="file" name="file"  />
<br />
Logische Naam: <input type="text" name="logicalName"><br>
Stuknr(automatisch,nog niet geimplementeerd): <input type="text" name="partNr"><br>
Kost: <input type="text" name="cost"><br>

Assembly:
<select name = "assembly">
 <c:forEach var ="assembly" items="${Assemblys}">
 <option value="${assembly.id}">${assembly.name}</option>
 </c:forEach>
 </select>
 <select id="onderdeel">
 <option>Kies eerst een assembly</option>
 </select>
 <br>
  <textarea name="comments" cols="25" rows="5">
  Verdediging Design
  </textarea><br>
  <input type="submit" value="Upload File" />
 </form>
 </body>
 </html> 
```

这是javascript文件

```
 $(document).ready(function() {
   $('#assembly').change(function() {
    var selectedValue = $(this).val();
    var servletUrl = 'OnderdelenServlet?value=' + selectedValue;

    $.getJSON(servletUrl, function(options) {
        var dropdown2 = $('#onderdeel');
        $('>option', dropdown2).remove(); // Clean old options first.
        if (options) {
            $.each(opts, function(key, value) {
                dropdown2.append($('<option/>').val(key).text(value));
            });
        } else {
            dropdown2.append($('<option/>').text("Please select dropdown1"));
        }
    });
  });
}); 
```

servlet 没问题，我很确定，所以没必要把它放在这里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:49:50.840

You have used

$('#assembly').change ===> # stands for ID (element ID)

in your javascript

where as in your JSP file you have < select> as < select name = "assembly">

so assign "ID" as well to you < select> box < select name = "assembly" id="assembly">

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:24:15.403

在同样的情况下我在做什么

纪律是我的第一个组合ID；

```
$("#discipline").change(function() {
         var data = $("#discipline option:selected").text();

                $.ajax({
                      type: 'POST',
                      url: 'registerdcodes?type=discipline&discipline='+data,
                      success:function(data){  
                    fillComboBox(data,$("#codes"));//populating secondcombo
                      }
                    });

     }); 
```

还添加了 fillcombo 方法：

如果您需要“请选择您的选项”作为第一个项目通过`isSelectRequired` `true`

而 villlagesString 是由 | 操作的 bigString

// 例如：villagesString 应该是这样的 .. villagesString ="option1|option2|option3|option4";

```
 function fillComboBox(villagesStrings,box,isSelctRequired){
        if(villagesStrings !=null){
            var villagesStrings = villagesStrings.split('|');
            if(isSelctRequired){
            box.append("<option value='null'>Please select your option</option>");
            }
            for (var i = 0, l = villagesStrings.length-1; i <l; i++){
                var id =villagesStrings[i].substring(0,2);
                var qtn =villagesStrings[i].substring(0,villagesStrings[i].length)
                box.append("<option value="+qtn+">"+qtn+"</option>");
        }
        }

        } 
```

# c# - SQL to Linq with SUM, ISNULL, and Left Join：如何进行良好的 linq 查询？

> ID：14640538
> 
> 赞同：0
> 
> 时间：2013-02-01T05:50:33.283
> 
> 标签：c#, linq, sql-to-linq-conversion

我在将 SQL 转换为 LINQ 语法时遇到问题。这是我的查询。

```
select ISNULL(Sum(b.Total),0) as 'TotalOP', isnull(Sum(e.Total),0) as 'TotalLPB',  
isnull(Sum(b.Total),0) - isnull(Sum(e.Total),0) as 'Difference'  
from OP a  
left join OP_Detail b on a.ID_Ps_OP = b.ID_Ps_OP  
left join LPB_OP c on a.ID_Ps_OP = c.ID_Ps_OP  
left join LPB d on c.ID_Ps_LPB = d.ID_Ps_LPB and d.ModifyStatus != 'D'  
left join LPBDetail e on d.ID_Ps_LPB = e.ID_Ps_LPB  
where a.ModifyStatus != 'D' 
```

该查询在 SQL 中运行良好。

至于信息：
1\. OP_Detail 包含了OP的商品。它有一个名为 Total 的字段，其中包含 OP 中的交易金额。
2\. LPB_OP 是 LPB 和 OP 之间的连接器。3\. LPB_Detail 包含LPB 的货物。它有一个名为 Total 的字段，其中包含 LPB 中的交易金额。

是否有任何 linq 语法可以处理这些 sum、isnull 和左连接问题？

特别是这一行：
left join LPB d on c.ID_Ps_LPB = d.ID_Ps_LPB and d.ModifyStatus != 'D'

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T09:03:32.383

也许你可以尝试这样的事情：

```
var lstQuery = 
(from A in OP
from B in OP_Detail
from C in LBP_OP
from D in LPB 
from E in LPBDetail
where 
A.ID_Ps_OP = B.ID_Ps_OP &&
A.ID_Ps_OP = C.ID_Ps_OP &&
((C.ID_Ps_LPB = D.ID_Ps_LPB) && (D.ModifyStatus != 'D')) &&
D.ID_Ps_LPB = E.ID_Ps_LPB
select new
{
A, B, C, D, E
}).ToList();

double dTotalOP = 0;
double dTotalLPB = 0;
double dDifference = 0;

foreach (var record in lstQuery)
{
    dTotalOp += record.B == null ? 0 : record.B.Total;
    dTotalLPM += record.E == null ? 0 : record.E.Total;
    dDifference += dTotalOp - dTotalLPM;
} 
```

# c# - 如何使用 C# XML 序列化反序列化以下文件，其中根本身是 IEnumerable？

> ID：14640545
> 
> 赞同：1
> 
> 时间：2013-02-01T05:51:23.533
> 
> 标签：c#, .net, xml, xml-serialization

```
<results>
    <result>
        <egov_ref_no>20121203001</egov_ref_no>
        <status>OK</status>
        <err_code>01</err_code>
    </result>
    <result>
        <egov_ref_no>20121203002</egov_ref_no>
        <status>OK</status>
        <err_code>02</err_code>
    </result>
    <result>
        <egov_ref_no>20121203003</egov_ref_no>
        <status>OK</status>
        <err_code>03</err_code>
    </result>
</results> 
```

上面的代码显示根节点已经是一个 IEnumerable ，而在在线示例中它们只是元素。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T06:19:45.313

如果你有一个结果对象，你可以将 a`XmlRootAttribute`传入`XmlSerializer`构造函数。在这种情况下，它的“结果”

例子：

```
List<Result> results = new List<Result>();

XmlSerializer xmlSerializer = new XmlSerializer(typeof(List<Result>), new XmlRootAttribute("results"));

using (FileStream stream = new FileStream(@"C:\Test.xml", FileMode.Open))
{
    results = (List<Result>)xmlSerializer.Deserialize(stream);
} 
```

我的结果对象：

```
[XmlType(TypeName = "result")]
public class Result
{
    [XmlElement(ElementName = "egov_ref_no")]
    public long EgovRefNo { get; set; }

    [XmlElement(ElementName = "status")]
    public string Status { get; set; }

    [XmlElement(ElementName = "err_code")]
    public int ErrorCode { get; set; }
} 
```

这将返回为`List<Result>`

![在此处输入图像描述](../Images/443999b9edc687e554a7263404256d3d.png)

# android - android中Listview的奇怪行为

> ID：14640551
> 
> 赞同：0
> 
> 时间：2013-02-01T05:51:46.383
> 
> 标签：android, android-layout, listview, android-listview

main.xml 文件是：

```
<ListView
    android:id="@+id/listViewMovies"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:cacheColorHint="@android:color/transparent"
    android:divider="#0EBDFE"
    android:dividerHeight="2dp"
    android:fadingEdge="none" /> 
```

这是我的 listview 的 onclick 事件：

```
listViewMovies.setOnItemClickListener(new OnItemClickListener() {

    @Override
    public void onItemClick(AdapterView<?> arg0, View view, int pos,
                long arg3) {
        // TODO Auto-generated method stub
        Log.i("MainActivity", "clicked position: " + pos);
        Intent intent = new Intent(getApplicationContext(),
                    MovieDetailsActivity.class);
        intent.putExtra("id", arrayIds.get(pos));
        intent.putExtra("name", arrayTitles.get(pos));
        intent.putExtra("release_date", arrayReleaseDate.get(pos));
        intent.putExtra("casts", arrayAbridgedCast.get(pos));
        intent.putExtra("critics_consensus",
                    arrayCriticsConsensus.get(pos));
        intent.putExtra("synopsis", arraySynopsis.get(pos));
        intent.putExtra("trailor", arrayLinks.get(pos));
        intent.putExtra("thumb_img", arrayThumbPosters.get(pos));
        intent.putExtra("profile_img", arrayProfilePosters.get(pos));
            startActivity(intent);
    }
}); 
```

但有时会调用点击事件，但有时不会。

谁能建议我应该有什么问题？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-01T06:32:51.483

您是否在为任何具有列表项按钮的 xml 文件进行膨胀。如果是这样，那么按钮会阻止列表项上的单击事件。为了克服这个你可以添加

```
<Button
   android:id="@+id/button"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:focusable="false"
    android:focusableInTouchMode="false"/> 
```

希望它会帮助你..

# java - 为什么ServletContextAware接口的setServletContext方法会报错？

> ID：14640556
> 
> 赞同：0
> 
> 时间：2013-02-01T05:52:29.547
> 
> 标签：java, spring

我已经实现了如下的方法，但是有一个错误提示 - 删除覆盖注释，它应该在那里。在什么情况下会出现这个错误？因此，我的 bean 没有被创建，我无法运行该应用程序。

```
@Override
 public void setServletContext(ServletContext servletContext) {
} 
```

控制台上显示的错误是 - “MenuHelper 类型的方法 setServletContext(ServletContext) 必须覆盖超类方法”。但是该方法存在并且未被发现。如果我删除该方法，应该有一个错误说添加未实现的方法 - 这也没有出现。请帮助我解决这种情况。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:59:58.773

如果没有看到您的其余代码，我无法确定，但是从那个错误中我猜您的类没有`ServletContextAware`正确实现。

# algorithm - 双向链表

> ID：14640558
> 
> 赞同：-2
> 
> 时间：2013-02-01T05:52:47.307
> 
> 标签：algorithm, data-structures, linked-list

解释如何实现双向链表，每个项目只使用一个指针值 np[x] 而不是通常的两个（下一个和上一个）。假设所有指针值都可以解释为 k 位整数，定义 np[x] 为 np[x] = next[x] XOR prev[x]，next[x 的 k 位“异或” ] 和上一个 [x]。（值 NIL 用 0 表示。）一定要描述访问列表头部需要哪些信息。展示如何在这样的列表上实现 SEARCH、INSERT 和 DELETE 操作。还展示了如何在 O(1) 时间内反转这样的列表。

资料来源：Cormen 第三版的 CLRS 10.2-8

PS：这不是作业问题。我正在练习/修改数据结构。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T08:49:19.717

将指针称为“常规”整数。因此，您可以对其进行任何整数运算，包括异或。

对于每个节点，存储`xorValue = next ^ previous`.

为什么有帮助？
如果你从前端迭代到后端——你知道在哪里`previous`，并且你有它的价值，所以你可以用`next = xorValue ^ previous`.
当从最后一个迭代到第一个时，同样的想法也适用：`previous = xorValue ^ next`.

这已经足够了，因为如果不从最后一个到第一个或从第一个到最后一个迭代，您将无法到达链表中的任何位置 - 所以`previous`OR的值`next`是您已知的，正如我们所看到的 - 这就是您获得另一个。

基于此，您可以创建（类似 c 的**伪代码**）：

```
struct Node { 
   void* data;
   int xorValue;
}
Node* next(Node* node, void* previous) { 
    return (Node*)(node->xorValue ^ (int)previous));
}
Node* previous(Node* node, void* next) { 
    return (Node*)(node->xorValue ^ (int)next));
} 
```

对于头/尾元素 - 将上一个/下一个值（相应地）简单地视为 NULL (0)，并按原样存储下一个元素。它的工作原理是`next ^ 0 = next`

# ssl - openssl 为 STARTTLS 协商 SSL 加密

> ID：14640560
> 
> 赞同：14
> 
> 时间：2013-02-01T05:52:58.367
> 
> 标签：ssl, smtp, openssl, starttls

我正在使用 openssl 正常连接到 SMTP 服务器（不加密），发送 STARTTLS 命令，协商 SSL 加密，然后与加密会话进行交互。

这是我正在使用的命令（通过 telnet）：

```
openssl s_client -starttls smtp -crlf -connect 1.2.3.4:25 
```

如何确保 TLS 握手成功？

这是迄今为止使用的命令序列：

```
<< 220 example.com ESMTP ready
>> EHLO localhost
<< 250-smtp.mail.yahoo.com
<< 250-PIPELINING
<< 250-AUTH PLAIN LOGIN CRAM-MD5
<< 250 STARTTLS
>> STARTTLS
<< 220 2.0.0 Start TLS
>> openssl s_client -starttls smtp -crlf -connect 127.0.0.1:587 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-01T12:00:21.447

您似乎混淆了 shell（您在其中键入`telnet`or之类的命令`openssl`）和套接字的协议。

使用 telnet 连接到 SMTP 等协议的端口是一种快速破解方法，它允许您直接输入在为该协议实现客户端时通常必须编程的内容。它可以对基于文本的协议工作一点，但它有局限性。特别是，您将很难以这种方式键入 TLS 握手：首先，您可能无法在键盘上为需要发送的某些字节找到正确的键；其次，您当然无法阅读服务器发送给您的内容。简而言之，这种方法没有任何意义。

`openssl s_client -starttls smtp -crlf -connect 127.0.0.1:587`已经完成了您尝试使用 telnet 执行的操作：它打开与该服务器的连接，发送`EHLO`SMTP 命令，发送`STARTTLS`SMTP 命令，然后开始握手。OpenSSL 命令本身根本不是 SMTP 协议的一部分，并且不能在 SMTP 套接字上发送。运行此命令时您将获得的应该类似于已执行握手的 telnet 会话，因为您应该能够以与 telnet 相同的方式使用其标准输入/输出。

话虽如此，发送 SMTP 命令`telnet`和`openssl s_client`发送 SMTP 命令充其量都是调试技术。

# compiler-construction - Compiler 如何处理数据类型

> ID：14640562
> 
> 赞同：1
> 
> 时间：2013-02-01T05:53:01.237
> 
> 标签：compiler-construction, types

我很难理解像 C++ 这样的编译器是如何处理数据类型的。当从键盘输入任何内容时，比如说数字 123，我们会在屏幕上看到相同的数字，但取决于数据类型，它的存储方式不同。即使输入了相同的键盘敲击，转换数据类型的算法是什么？为什么数字的存储方式和显示方式不同？例如，在上述情况下，如果数字 123 是 int 类型，它将存储为 01111011（1 个字节），但是如果它是字符串类型，它将存储在 3 个字节（每个数字一个字节）中。但在这两种情况下，我们都会在屏幕上看到相同的数字。计算机是否使用不同的字节来存储和显示数字？我的问题是，当我们输入任何数字时，它是否会通过 ASCII 表并查找该数字的字符代码，然后编译器会进行某种处理以将该数字存储在适当的数据类型中并显示该数字？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:07:18.697

你真的很想买一本关于编译器的书来正确回答这个问题，但特别是对于数字字符串，你会在编译的词法分析阶段这样做。

编译器扫描程序的文本并尝试形成标记，这些将是语法的基本构建块，因此字符串、{、数字等......

所以假设你得到这样的东西

`int i = 10`

您的编译器扫描此行并尝试创建标记。首先它扫描 i、n、t，然后当它到达空间时它停止，因为它会将空间视为分隔符。它根据其内部列表检查值“int”并生成适当的令牌。

它继续遍历字符串并检测变量 i、等号，然后是数字。

它告诉字符串“10”中的数字的方式可能是引号，但这取决于语言。

这就是为什么你有像 10L 或 10f 这样的东西来表明你正在创建一个 long 或 float 值。否则编译器无法分辨。

见[http://en.wikipedia.org/wiki/Lexical_analysis](http://en.wikipedia.org/wiki/Lexical_analysis) [http://en.wikibooks.org/wiki/Compiler_construction](http://en.wikibooks.org/wiki/Compiler_construction)

甚至可能是[https://www.coursera.org/course/compilers](https://www.coursera.org/course/compilers)

# solr - 从 nutch 集中爬行

> ID：14640563
> 
> 赞同：0
> 
> 时间：2013-02-01T05:53:04.077
> 
> 标签：solr, nutch

我正在使用 nutch 1.2 和 solr 3.1.0 以及 NUTCH-828-1-20100608 补丁来获取过滤器。

我不明白如何过滤 fetch，也不明白补丁是如何工作的。[这个链接](http://lucene.472066.n3.nabble.com/Focused-crawling-with-nutch-td3656343.html)帮助我修补了文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T18:03:29.387

请先浏览 wiki [0]。有很多可用的文档，您可以根据自己的要求对其进行自定义。

[0] - [http://wiki.apache.org/nutch/FrontPage](http://wiki.apache.org/nutch/FrontPage)

# iphone - 导入 Titanium Studio 项目时出错

> ID：14640564
> 
> 赞同：0
> 
> 时间：2013-02-01T05:53:07.010
> 
> 标签：iphone, ios, titanium, titanium-mobile

我正在导入一个项目，该项目已成功导入。当我尝试构建时，出现此错误

```
[ERROR] :  ** BUILD FAILED **
[ERROR] :  The following build commands failed:
[ERROR] :   Ld build/Debug-iphonesimulator/MyApp.app/MyApp normal i386
[ERROR] :  (1 failure) 
```

如何解决这个问题？清洁按钮也被禁用

**编辑**
我现在已经更改了项目，我已经在我的工作区中导入了另一个项目，但是我在项目的文件夹上得到了一个红十字标记（就像我们在构建文件时在 Android dev 的情况下在 Eclipse 中遇到的错误一样丢失），但是其余所有文件似乎都没有错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T04:48:31.443

我创建了另一个项目，将旧项目的资源粘贴到其中并正在构建代码

# android - 在 Android 模拟器而不是 API 模拟器中运行 GCM Demo 应用程序

> ID：14640572
> 
> 赞同：0
> 
> 时间：2013-02-01T05:53:40.907
> 
> 标签：android, emulation, google-cloud-messaging

我已按照[此](http://developer.android.com/google/gcm/demo.html)页面中的说明开发 GCM 演示应用程序。该应用程序在 API 模拟器中运行良好。如何修改应用程序以使其在普通的 Android 模拟器或真实设备中运行？

# c++ - 在 C++ 中，是否有可能在调用我的函数以根据我的程序需要返回不同类型时做一些时髦的事情？

> ID：14640576
> 
> 赞同：1
> 
> 时间：2013-02-01T05:54:07.307
> 
> 标签：c++, casting

考虑 Zaita 在[cplusplus.com](http://cplusplus.com/forum/articles/6046/)上发布的有用代码，特别是安全获取数字的部分，在我的情况下修改为函数：

```
int get_number()
{
   /**
    * cplusplus.com/forum/articles/6046
    * gets number from input stream
    **/

   string input = "";
   int number = 0;

   while (true)
   {
      getline(cin, input);
      stringstream checks(input);
      if (checks >> number)
         return number;
      cout << "Please enter a valid number\n";
   }
} 
```

现在，我的问题是：我可以删除`int`get_number() 的函数定义的第一行，并在我的代码顶部用我可能想要返回的所有类型声明它，例如做一些这样的声明：

```
double get_number();
int get_number();
long get_number();
unsigned short get_number();
...
... 
```

并以某种方式让它根据我想存储函数返回的变量来做不同的返回？目前我只是在将名称更改为`get_someType`

我希望我可以用这种语法做类似声明：

```
int get_number(int);
double get_double(double);
...
... 
```

我的愿望是做类似的事情：

```
int x;
x = get_number(int); 
```

我相信这不会起作用！因为用没有名字的参数来定义函数的源代码是不可能的......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T06:01:27.617

首先，您发现的 get_number 实现写得很糟糕：您认为当您在输入中获得 EOF 时会发生什么？它会尽可能快地打印“请输入一个有效的数字\n”，直到你杀死程序......

其次，您不能重载返回类型——这意味着您不能拥有仅在返回类型上有所不同的函数。

最后，C++ 有模板可以做我认为你想要的......

```
template <typename T>
bool get(T& x)
{
    std::string input;
    if (!getline(std::cin, input))
        return false;
    stringstream checks(input);
    if (checks >> x)
        return true;
    cout << "Please enter a valid value\n";
} 
```

然后你可以使用`if (get(my_int)) ...`or`if (get(my_double))`等​​等..

由于输入不能保证成功，你真的应该提供一个布尔返回类型（如图所示），或者一旦明确输入不能成功就抛出异常。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T05:59:15.513

您正在寻找[功能`template`s](http://en.cppreference.com/w/cpp/language/function_template)！

这段代码有问题（请不要使用 cplusplus.com 作为参考），因为它不检查`std::cin`是否收到了来自的输入。

一个模板化的例子看起来像这样（未经测试）：

```
#include <string>
#include <sstream>
#include <iostream>
#include <stdexcept>

template <typename T>
T get_number()
{
    std::string input = "";
    T number; // Don't initialise to zero
    bool done = false;

    while (!done)
    {
        if (std::getline(std::cin, input)) // check for success
        {
            std::istringstream checks(input);
            if (checks >> number)
            {
                done = true;
            }
            else
            {
                std::cout << "Please enter a valid number\n";
            }
        }
        else
        {
            throw std::runtime_error("No input was received\n");
        }
    }
    return number;
}

int main()
{
    try
    {
        int i = get_number<int>();
        float f = get_number<float>();
        double d = get_number<double>();
        char b = get_number<char>();
    }
    catch (const std::runtime_error& e)
    {
        std::cerr << e.what() << std::endl;
    }
} 
```

要将我的评论合并到这个答案中......在类模板或函数模板中，`typename`可以用作`class`声明模板类型的替代方法。我更喜欢[**`typename`**](http://en.cppreference.com/w/cpp/keyword/typename)因为我们处理的是 POD 类型而不是`class`es。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-01T06:02:25.313

这可以通过模板来完成。

在这里你可以找到一些初学者的模板教程（从58开始..） [http://thenewboston.org/list.php?cat=16](http://thenewboston.org/list.php?cat=16)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-01T05:59:54.420

您可以使用模板，但据我所知，您的函数也必须具有该模板类型的参数，如：

```
template <class T>
T get_number(T arg)
{
   /**
    * cplusplus.com/forum/articles/6046
    * gets number from input stream
    **/

   string input = "";
   T number = 0;

   while (true)
   {
      getline(cin, input);
      stringstream checks(input);
      if (checks >> number)
         return number;
      cout << "Please enter a valid number\n";
   }
} 
```

模板 ( `T`) 的类型在编译时根据传递给函数的参数类型进行解析。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-01T06:03:00.287

```
template<class T>
T get_number()
{
   /**
    * cplusplus.com/forum/articles/6046
    * gets number from input stream
    **/

   string input = "";
   T genericobj;

   while (true)
   {
      getline(cin, input);
      stringstream checks(input);
      if (checks >> genericobj)
         return genericobj;
      cout << "Please enter a valid input\n" ;
   }
} 
```

# mysql - 向 wordpress 添加一个表格，然后显示来自 scrapy 的内容

> ID：14640578
> 
> 赞同：0
> 
> 时间：2013-02-01T05:54:15.003
> 
> 标签：mysql, wordpress, scrapy

我编写了一个成功抓取数据并将其保存在独立数据库中的爬虫蜘蛛......一个表。

我想在网站上显示这些数据。

我最近决定使用 wordpress 作为我网站的基础，然后意识到它本身使用 mysql，那么为什么不向它添加另一个表来保存抓取的数据呢？

所以我的问题是这些。

1.  这样做是可取的还是拥有一个独立的数据库更好。
2.  如何在 wordpress 中显示查询/表中的数据行。我是否使用帖子或页面。我应该使用什么 php？（我认为连接到 wp 数据库与连接到外部数据库会有所不同）
3.  在scrapy管道中，如何连接wordpress数据库来存储抓取的数据？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:17:51.457

我无法回答 wordpress 的特定主题，但我会尝试其余的：

广告 1）
我会使用单独的数据库。这样，您可以更轻松地备份您的 wordpress 网站以及抓取的结果。如果一个数据没有另一个数据就不能存在，我只会例外，因为它们之间存在（出于某些原因）依赖关系。但我认为情况并非如此，所以我会将它们分开。

广告 3)
几乎和你已经做的一样。我假设您已经连接到数据库，因为您提到了它。根据您的操作方式，您只需更改要连接的数据库的连接字符串。

# java - 如何使用 Java 7 WatchService 省略对某些文件的检测

> ID：14640589
> 
> 赞同：0
> 
> 时间：2013-02-01T05:54:49.070
> 
> 标签：java, events, watchservice

我已经成功地向监视器注册了 CREATE、MODIFY 和 DELETE 事件，它们对我来说工作得很好。对于我的问题，我想在触发 CREATE 事件后进行一些文件修改，例如“重命名”，因此接下来也会触发 MODIFY 事件，但是我不想要它。这次我可以省略 MODIFY 事件吗？

```
 if(event.kind().equals(StandardWatchEventKinds.ENTRY_CREATE)){
                try{
                    if(!name.toString().startsWith("~")){
                            Path tempPath = Paths.get(path+"/~temp_"+name.getFileName());
                            Path oldPath = Paths.get(path+"/"+name.getFileName());
                            Files.move(oldPath, tempPath, StandardCopyOption.REPLACE_EXISTING);
                            PDFStamp.stampPDF(tempPath.toString(), oldPath.toString());
                            omitPath.put(name, name);
                            Files.delete(tempPath);
                    }
                }catch(Exception e){
                    e.printStackTrace();
                }   
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:03:30.433

你应该看看[jpathwatch](http://jpathwatch.wordpress.com/)

它支持像`ENTRY_RENAME_FROM`\这样的事件`TO`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:01:30.503

我认为没有办法告诉监视服务暂时忽略事件。我建议您在代码中执行此操作。

但是，您似乎在这里所做的是通过让监视服务通知您刚刚创建了新文件来创建文件的备份。但我认为这不会奏效。当您的代码收到事件时，旧版本的文件可能已经被新版本覆盖。然后您的`move`呼叫会将新文件移动到“临时”位置。

我建议您获取创建文件的代码以在打开新文件*之前备份原始文件。*您的代码将更简单、更可靠并且更易于移植。

# python - python语法错误输出

> ID：14640590
> 
> 赞同：0
> 
> 时间：2013-02-01T05:54:49.490
> 
> 标签：python

请您通过使用我的代码修复错误来帮助我。当我打印最后一行时，我收到一条语法错误消息：

```
import math

m_ = 900         # identifier for normal distribution mean   [mm]
s_d = 1          # identifier for normal distribution standard deviation [mm]

print "DISTRIBUTION OF A PLATE WIDTH:" " MEAN", "=",m_,"," "STD DEV", "=", s_d
print ""
print "Using functions from the math library ..."

# The probability density function(pdf) for a normal distribution with mean m_ and 
standard deviation s_d    
ftotal = 0
term = 0.0
count = 0
while abs(term) > 911:
    ftotal += term
    count += 1
    term = term * xx / float(count)

print "x"  "          " " f(x)" "           " " F(x)"
print "890" ""  (1 / ((s_d * (2 * math.pi) ** -0.5)) * math.exp((- (x - m_) ** 2) / (2 * (s_d) ** 2),   0.5 * (1 + math.erf((x - m_) / s_d * m.sqrt(2)) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T06:28:44.283

在 while 循环之前定义 x。从最后两行你用 890 表示 x 所以我猜`x = 890`。

```
x = 890
#your while loop goes here

print "x"  "          " " f(x)" "           " " F(x)"
print "890" ,  (1 / ((s_d * (2 * math.pi) ** -0.5))) * math.exp((- (x - m_) ** 2) / (2 * (s_d) ** 2))  , 0.5 * (1 + math.erf((x - m_) / s_d * math.sqrt(2))) 
```

我不记得确切的公式，但是如果正确输入上述表达式，您将不会收到语法错误。

# vb.net - 有没有办法将项目转换为 VS 模板？

> ID：14640591
> 
> 赞同：0
> 
> 时间：2013-02-01T05:55:06.217
> 
> 标签：vb.net, winforms, visual-studio-2010

我创建了一个看起来很酷的表单主题，它非常小，不包含任何与 UI 无关的代码。所以我认为它对于 Visual Studio 模板来说是完美的，因此我可以将它包含在我的项目中，这样我就不必将元素和代码复制并粘贴回我添加到项目中的每个表单中。该项目是WinForms。

如果它们不是一种干脆利落的方式，那么我将把它复制为模板。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T05:58:17.490

看看[Templify](http://opensource.endjin.com/templify/)和[一篇介绍它的博客文章](http://blog.endjin.com/2010/10/introducing-templify/)。

不过，我不确定它是否会按表单工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:43:54.187

您或许应该查看 Visual Studio 的[导出模板](http://msdn.microsoft.com/query/dev10.query?appId=Dev10IDEF1&l=EN-US&k=k%28VS.EXPORTTEMPLATEWIZARD%29&rd=true)功能。

# android - 我想在android中将 file:///storage/sdcard0/blue.jpg 转换为 content://media/external/images/media/3163

> ID：14640596
> 
> 赞同：0
> 
> 时间：2013-02-01T05:55:26.107
> 
> 标签：android

我想从我的应用程序上传图像、音频和视频文件。如果我使用图库 ( `content://media/external/images/media/3163`) 选择图像，它可以正常工作，但如果我选择使用文件管理器 ( `file:///storage/sdcard0/blue.jpg`)，它就不起作用。

```
uri=intent.getData();
String[] filePathColumn = { MediaStore.Images.ImageColumns.DATA };
if (uri != null) {
     Cursor cursor = RootActivity.rootContext.getContentResolver().query(Uri.parse(uri),filePathColumn, null, null, null);
} 
```

如果光标返回 null `uri = file:///storage/sdcard0/blue.jpg`，有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:57:36.933

尝试如下：

```
button.setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            Intent intent = new Intent();
            intent.setType("image/*");
            intent.setAction(Intent.ACTION_GET_CONTENT);
            startActivityForResult(
                    Intent.createChooser(intent, "Select Picture"),
                    SELECT_PICTURE);
        }
    }); 
```

并在您的活动中添加两种方法

```
 public void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (resultCode == RESULT_OK) {
        if (requestCode == SELECT_PICTURE) {

            Uri selectedImageUri = data.getData();
            String s1 = data.getDataString();
            //String s1 = selectedImageUri.getPath();
            Log.e("GetPath",s1);
            Log.e("OK",""+selectedImageUri);

            selectedImagePath = getPath(selectedImageUri);
            if(selectedImagePath==null && s1 != null)
            {
                selectedImagePath = s1.replaceAll("file://","");
            }

            Intent intent = new Intent(this, PhotoEditorActivity.class);
            intent.putExtra("path", selectedImagePath);
            startActivity(intent);
            finish();

        }
                  }
               }

//Return the path of the file.
   public String getPath(Uri uri) {

    try{
    String[] projection = { MediaStore.Images.Media.DATA };
    Log.e("OK 1",""+projection);
    Cursor cursor = managedQuery(uri, projection, null, null, null);
    Log.e("OK 2",""+cursor);
    if(cursor==null)
    {
        return null;

    }
    int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
    Log.e("OK 3",""+column_index);
    cursor.moveToFirst();
    Log.e("OK 4",""+cursor.getString(column_index));
    return cursor.getString(column_index);
    }
    catch(Exception e)
    {
        Toast.makeText(PhotoActivity.this, "Image is too big in resolution please try again", 5).show();
        return null;
    }

} 
```

并将这个 int 添加为类成员

```
 private static final int SELECT_PICTURE = 1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:12:47.773

试试这个代码：

```
public String getRealPathFromURI(Uri contentUri) {
    String[] proj = { MediaStore.Images.Media.DATA };
    Cursor cursor = managedQuery(contentUri, proj, null, null, null);
    int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
    cursor.moveToFirst();
    return cursor.getString(column_index);
} 
```

# drop-down-menu - 我想让我的下拉菜单键盘可以访问吗？

> ID：14640599
> 
> 赞同：0
> 
> 时间：2013-02-01T05:55:36.690
> 
> 标签：drop-down-menu, accessibility

我已经搜索了使下拉菜单键盘可访问并找到了一些演示，但它仍然没有让我满意。

查看菜单结构：[http ://www.heart.org/HEARTORG/GettingHealthy/GettingHealthy_UCM_001078_SubHomePage.jsp](http://www.heart.org/HEARTORG/GettingHealthy/GettingHealthy_UCM_001078_SubHomePage.jsp)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-02T14:43:50.157

首先，它不仅关乎菜单可通过键盘导航，还关乎菜单本身的键盘可访问性。

正如[WAI-ARIA](http://www.w3.org/WAI/intro/aria)所说，应该可以识别页面区域并使键盘用户能够轻松地在区域之间移动，而不必多次按 Tab。这就是 ARIA 的**标志性角色**：应用程序、横幅、补充、内容信息、主、导航、表单、搜索、树、树视图等。

现代用户代理提供 ARIA 支持：Firefox、Opera、Safari、Internet Explorer 8/9 JAWS、Window-eyes、NVDA、VoiceOver。

Web Accessibility 杰出人物 Steve Faulkner 在[2009 年的一篇博客文章](http://www.paciellogroup.com/blog/2009/07/wai-aria-implementation-in-javascript-ui-libraries/)中声称“许多流行的 Javascript UI 库正在为其小部件和组件添加 WAI-ARIA 支持”。jQuery 计划从 2.0 开始支持 ARIA，但尚未为任何工作版本提供支持；我已经测试了自己[Google Web Toolkit 的菜单栏示例](http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwMenuBar)，它支持 ARIA，允许键盘导航。您可以查看您最喜欢的 Javascript 库以获取 ARIA 支持...

如果您想自己编写菜单树代码，Open Ajax Alliance 的[这个树视图示例可能会对您有所帮助。](http://oaa-accessibility.org/example/41/)

# javascript - Javascript If-else

> ID：14640601
> 
> 赞同：2
> 
> 时间：2013-02-01T05:55:49.117
> 
> 标签：javascript

尝试做我的第一个 Javascript if / else。基本上我想根据从单选框字段中选择的数字显示 DIV。如果选择了选项 3，我希望 div 1、2 和 3 可见。我显然在某个地方出错了。非常感谢您的想法/帮助。

```
<script type="text/javascript" >

$(document).ready(function() {

$("input[name$='supplier']").click(function() {

var test = $(this).val();

if (test=1)
{
$("div.hidesupplier").hide();
$("#suppliersourced1").show();
}

else if (test=2)
{
$("div.hidesupplier").hide();
$("#suppliersourced1").show();
$("#suppliersourced2").show();
}

else if (test==3)
{
$("#suppliersourced1").show();
$("#suppliersourced2").show();
$("#suppliersourced3").show();
}

});
});
</script>

Number of Suppliers:
<label><input name="supplier" type="radio" value="1">1.</label> 
<label><input name="supplier" type="radio" value="2">2.</label>
<label><input name="supplier" type="radio" value="3">3.</label>

<div id="suppliersourced1" class="CF hidesupplier" style="display: none;">Supplier One</div>
<div id="suppliersourced2" class="CF hidesupplier" style="display: none;">Supplier Two</div>
<div id="suppliersourced3" class="CF hidesupplier" style="display: none;">Supplier Three</div> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T06:00:40.270

更清洁和更快的版本是：

```
$("input[name$='supplier']").click(function() {
    var test = $(this).val();
    $("div.hidesupplier").each(function() {

        // get the id of the current supplier, eg: "suppliersourced1"   
        var myID = $(this).attr('id');

        // get the last character and convert it to a number
        myID = parseInt(myID.substring(myID.length()-1, 1), 10);

        // show all with id less than or eq to test 
        // hide all with id more than test
        if(myID <= test) $(this).show(); else $(this).hide();
    });
}); 
```

*更简洁*，因为您几乎没有重复的代码。*更快*，因为您不会盲目隐藏所有内容并显示特定元素，而是一次性隐藏和显示适当的元素。*更快*还因为要传输、解析和执行的 JS 代码字节数更少。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-01T05:57:25.097

在前两个条件中，您有 = 而不是 ==。

# windows-phone-8 - 我可以创建 BackgroundAudioPlayer 和 BackgroundAgent 吗？

> ID：14640603
> 
> 赞同：0
> 
> 时间：2013-02-01T05:55:51.020
> 
> 标签：windows-phone-8, windows-phone

我可以为文件传输创建多个代理，例如 BackgroundAudioPlayer 和 BackgroundAgent 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:19:54.303

由于允许这些后台进程的运行时间非常有限，BackgroundAudioPlayer 代理或 BackgroundAgent 都不适用于文件传输。

如果可能，您应该[使用后台文件传输](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202959%28v=vs.105%29.aspx)功能。通过这种方式，您一次最多可以创建 25 个传输请求，只要满足传输条件，即使您的应用未运行，操作系统也会继续下载您的文件。

# playframework - NoAvailableHostsException 卡桑德拉插入

> ID：14640606
> 
> 赞同：2
> 
> 时间：2013-02-01T05:56:01.537
> 
> 标签：playframework, cassandra, astyanax

我在将数据写入 cassandra 时遇到问题。

使用 ConnectionPoolType.BAG 时，我们观察到：

```
NoAvailableHostsException("No hosts to borrow from") exception being thrown.
Caused by: com.netflix.astyanax.connectionpool.exceptions.NoAvailableHostsException:       
NoAvailableHostsException: [host=None(0.0.0.0):0, latency=0(0), attempts=1]No hosts to borrow from
at com.netflix.astyanax.connectionpool.impl.BagOfConnectionsConnectionPoolImpl.borrowConnection(BagOfConnectionsConnectionPoolImpl.java:93) ~[astyanax-1.56.24-SNAPSHOT.jar:na]
at com.netflix.astyanax.connectionpool.impl.BagOfConnectionsConnectionPoolImpl.access$000(BagOfConnectionsConnectionPoolImpl.java:31) ~[astyanax-1.56.24-SNAPSHOT.jar:na]
at com.netflix.astyanax.connectionpool.impl.BagOfConnectionsConnectionPoolImpl$BagExecuteWithFailover.borrowConnection(BagOfConnectionsConnectionPoolImpl.java:158) ~[astyanax-1.56.24-SNAPSHOT.jar:na]
at com.netflix.astyanax.connectionpool.impl.AbstractExecuteWithFailoverImpl.tryOperation(AbstractExecuteWithFailoverImpl.java:67) ~[astyanax-1.56.24-SNAPSHOT.jar:na]
at com.netflix.astyanax.connectionpool.impl.AbstractHostPartitionConnectionPool.executeWithFailover(AbstractHostPartitionConnectionPool.java:253) ~[astyanax-1.56.24-SNAPSHOT.jar:na]
at com.netflix.astyanax.thrift.ThriftColumnFamilyQueryImpl$6$3.execute(ThriftColumnFamilyQueryImpl.java:739) ~[astyanax-1.56.24-SNAPSHOT.jar:na] 
```

此外，我们尝试使用 ConnectionPoolType.ROUND_ROBIN 但我们再次观察到 ConnectionTimeOut 错误。

## 想知道我们的配置是否正常？

客户端配置。我们正在使用 Astyanax java 客户端。

```
 context = new AstyanaxContext.Builder()
                .forCluster("clustername")
                .forKeyspace("keyspace")
                .withAstyanaxConfiguration(new AstyanaxConfigurationImpl()
                        .setDiscoveryType(NodeDiscoveryType.NONE)
                        .setCqlVersion("3.0.0")
                        .setConnectionPoolType(ConnectionPoolType.BAG) // We also tried ConnectionPoolType.ROUND_ROBIN
                )
                .withConnectionPoolConfiguration(
                        new ConnectionPoolConfigurationImpl("poolname")
                                .setPort(9160)
                                .setMaxConnsPerHost(20)
                                .setInitConnsPerHost(10)
                                .setSeeds("host1:9160,host2:9160,host3:9160")
                                .setMaxTimeoutWhenExhausted(11000) // Default : 2000
                                .setConnectTimeout(10000) // Default : 2000
                )
                .withConnectionPoolMonitor(new Slf4jConnectionPoolMonitorImpl())
                .buildKeyspace(ThriftFamilyFactory.getInstance());context.start(); 
```

更新 ：

我正面临从游戏框架连接到 cassandra 集群的问题。我们正在使用 astyanax java 客户端连接到集群。

当我们使用“play start”启动播放应用程序时，一切似乎都工作正常，但是当我们使用“play dist”命令创建一个 dist 并启动服务时，它会抛出以下异常。

play dist 和 play start 和有什么区别？

更新 2：我正在我的机器上进行测试，cassandra 的单个实例。我以“简单策略”为策略创建了键空间。

我的盒子上的 Cassandra：ReleaseVersion：1.1.7。版本 1.1.6 也失败了。

运行 nodetool -h localhost 给出以下输出。

地址 DC Rack Status State Load Effective-Ownership Token
127.0.0.1 datacenter1 rack1 Up Normal 130.44 KB 100.00% 129209944818829357072522096381370300409

* * *

**关闭线程** 我的问题是因为一些冲突的旧库。我为 hive 和 cassandra 添加了依赖项，可能存在一些不匹配。

谢谢您的帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-02-22T10:07:56.340

我在尝试截断表时遇到了类似的问题（astyanax.version=1.0.6）。截断是一个很长的操作，因为首先 Cassandra 做了一个*sync*，即从内存中刷新所有数据。这是很多数据，所以会发生读取超时。解决此问题的一种方法是先调用`cassandraClient.send_truncate()`，然后再重复`try{cassandraClient.recv_truncate();}`。但是如果抛出超时异常*，*我们仍然会得到一个“NoAvailableHostsException ...没有可以借用的主机”。该异常的原因是在thrift的深处，通过向某个执行程序提交异步作业来关闭连接。补救措施是增加重试之间的时间（1000 毫秒太小，5000 对我有用）。

# cakephp - CakePHP：如何使用表单助手在按钮标题中使用 HTML 实体

> ID：14640609
> 
> 赞同：3
> 
> 时间：2013-02-01T05:56:14.437
> 
> 标签：cakephp, html-entities

我想使用复选标记作为按钮的文本。我想要的实体是`&#x2713;`，但是当我使用表单助手将它作为按钮的文本放入时，它总是将前导＆符号转换为`&amp;`，以便文本显示而不是实体。

这是我创建按钮的方式：

```
echo $this->Form->button(
    '&#x2713;', 
    array(
        'type' => 'submit', 
        'id' => $checklistItem['ChecklistItem']['id'], 
        'escape' => 'false'
    )
); 
```

生成的 HTML 如下所示：

`<button type="submit" id="1">&amp;#x2713;</button>`

这显然不会呈现实体。

我已经通过设置进行了尝试，`'escape' => 'true'`但这根本没有效果。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:12:59.183

您不需要将其转义为 false，默认情况下将其转义为 false。

```
 echo $this->Form->button('&#x2713;',  
          array(
               'type' => 'submit', 
               'id' => $checklistItem['ChecklistItem']['id']
           )
  ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:14:06.477

您需要将转义移动到按钮的第三个元素：

```
echo $this->Form->button(
    '&#x2713;', 
    array(
        'type' => 'submit',
        'id' => $checklistItem['ChecklistItem']['id'], 
    ),
    array('escape' => 'false')
); 
```

此外，这已经在[这里](https://stackoverflow.com/questions/7263680/cakephp-html-helper-image-within-a-link-gets-escaped)得到了回答。

# python - 如何正确处理数据库连接？

> ID：14640610
> 
> 赞同：0
> 
> 时间：2013-02-01T05:56:16.737
> 
> 标签：python, database

我想优化我的系统，以便能够处理大量用户。即使网站永远不会流行，我也想做正确的事情。

无论如何，我目前正在使用 2 个数据库解决方案的组合：

```
1.) Either SQL (mysql, postgre) via SQLAlchemy OR MongoDB
2.) Redis 
```

我使用 Redis 作为“热”数据库（因为它的速度要快得多，并且可以减轻主数据库解决方案的压力），而不是通过 cron 任务在两个之间同步数据。我使用 Redis 进行会话管理、统计等。但是，如果我的 Redis 服务器崩溃，站点将保持运行（回退到 sql/mongo）。

所以这是我的数据设计。现在我想做正确的连接。

由于 99% 的页面都需要 sql/mongo 和 redis，所以我目前的设计如下：

```
- When new HTTP request comes in, I connect to all databases
- When page finishes rendering, I disconnect from databases 
```

现在显然我正在做很多连接/断开连接。我已经计算出这个模型可以维持相当数量的访问者，但是我想知道是否有更好的方法来做到这一点。

请求之间的持久连接会提高性能/负载，还是打开连接的数量会阻塞服务器？你会推荐创建一个连接池吗？如果是这样，什么时候应该创建连接池以及模型应该如何访问它（或从中获取连接对象）。

如果这些问题很愚蠢，我很抱歉，但我是新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:18:19.887

If you are going to leave connections open, you should definitely consider pooling to avoid crudding up the system with per-session connections or something of the like (as long as they are locked properly to avoid leaking). That said, the necessity of doing this isn't clear. If you can quantify the system with some average/worst-case connection times to the databases, you'd be able to make a much more informed decision.

Try running a script(s) to hammer your system and investigate DB related timing. This should help you make an immediate decision about whether to keep persistent connections and a handy DB load script for later on.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:07:47.880

我不认为这是预先优化事物的好方法。您不知道瓶颈会出现在哪里，而且您可能只是在浪费时间在将来大部分不需要的事情上。

如果您将使用 ORM，以后可以更改数据库类型，所以现在您可以使用任何类型。无论如何，如果您的网站受欢迎程度会提高，您将需要获得更多服务器，添加一些任务队列（芹菜）等。您以后可以做很多事情来优化。现在，您应该只专注于让您的网站受欢迎并使用可以在未来扩展的技术。

# python-2.7 - TclError: 错误 #args 错误

> ID：14640619
> 
> 赞同：4
> 
> 时间：2013-02-01T05:56:54.990
> 
> 标签：python-2.7, tkinter

我不知道出了什么问题，但我不断得到这个

> Tkinter 回调 Traceback 中的异常（最近一次调用最后一次）：文件“/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/lib-tk/Tkinter.py”，第 1410 行，**调用** 返回 self。 func(*args) 文件“/Users/Zane/Desktop/Factorial GUI.py”，第 72 行，在reveal2 self.text2.insert(0.0, message) 文件“/Library/Frameworks/Python.framework/Versions/7.3/ lib/python2.7/lib-tk/Tkinter.py"，第 2986 行，插入 self.tk.call((self._w, 'insert', index, chars) + args) TclError: wrong # args: 应该是“.22186144.22187184 插入索引字符？tagList chars tagList ...？”

这是我的代码：`

```
from Tkinter import*

class App(Frame):

def fac(self, n):

    if n >= 0:
        if n == 1 or n == 0:
            return 1
        else:
            return n*self.fac(n-1)
    else:
        print('Error')

def per(self, n, r):

    y = (self.fac(n)) / self.fac(n - r)
    print (y)

def __init__(self, master):

    Frame.__init__(self,master)
    self.grid()
    self.create_widgets()

def create_widgets(self):
    self.instruction1 = Label(self, text = "Factorial:")
    self.instruction1.grid(row = 0, column = 0, columnspan = 1, sticky = W)

    self.password1 = Entry(self)
    self.password1.grid(row = 0, column = 1, sticky = W)

    self.submit_button1 = Button(self, text ="Enter", command = self.reveal1)
    self.submit_button1.grid(row = 2, column = 0, sticky = W)

    self.text1 = Text(self, width = 30, height = 1, wrap = WORD)
    self.text1.grid(row = 3, column = 0, columnspan = 2, sticky = W)

    self.instruction2 = Label(self, text = "Permutation:")
    self.instruction2.grid(row = 4, column = 0, columnspan = 1, sticky = W)

    self.password2 = Entry(self)
    self.password2.grid(row = 4, column = 1, sticky = W)

    self.password3 = Entry(self)
    self.password3.grid(row = 6, column = 1, sticky = W)

    self.submit_button2 = Button(self, text ="Enter", command = self.reveal2)
    self.submit_button2.grid(row = 7, column = 0, sticky = W)

    self.text2 = Text(self, width = 30, height = 1, wrap = WORD)
    self.text2.grid(row = 8, column = 0, columnspan = 2, sticky = W)

def reveal1(self):

    y = int(self.password1.get())

    message = self.fac(y)

    self.text1.delete(0.0, END)
    self.text1.insert(0.0, message)

def reveal2(self):

    y = int(self.password2.get())
    z = int(self.password3.get())

    message = self.per(y, z)

    self.text2.delete(0.0, END)
    self.text2.insert(0.0, message)

root = Tk()
root.title('Factorial')
root.geometry("340x300")
app = App(root)

root.mainloop() 
```

`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-01T12:39:57.180

几乎唯一的方法来得到你所说的你发布的代码所得到的错误，是`insert`当要插入的数据是时调用该方法`None`。`message`来自`per`, 但`per`返回`None`是因为您没有明确返回任何其他内容。

尝试调试时首先要尝试的事情之一是检查您发送给失败函数的数据是否与您认为的一样。`insert`您可以通过简单地打印出传递给消息的值以非常低技术的方式做到这一点。这立即告诉我那`message`是`None`。一旦我了解了这一点，就很容易回答“为什么没有？”这个问题。

# ruby-on-rails - AngularJS 和 Rails-e2e 睾丸测试。如何登录用户来测试角度页面？

> ID：14640621
> 
> 赞同：2
> 
> 时间：2013-02-01T05:56:59.030
> 
> 标签：ruby-on-rails, testing, tdd, angularjs, karma-runner

这是我面临的问题。有我正在处理的代码。代码大多是用带有 Haml 视图文件的 Rails 编写的典型 MVC。

该应用程序的一部分是利用 AngularJS 在浏览器中执行所有很酷的 MVC。

这里没有问题。

为了使用应用程序的这一部分，用户必须登录，这里出现了问题：

我注意到以下有趣的行为：
如果我指示我的测试去并使用 chrome 访问登录（或任何其他）页面

```
beforeEach(function() {
  browser().navigateTo('/help');
}); 
```

通过以下测试：

```
it('should scream for help', function() {
  expect(element('#test').text()).toMatch('Help!');
}); 
```

和 HTML

```
<div>
  <h1>Help</h1>
  <p id="test">Help!</p>
</div> 
```

我得到的是冻结的浏览器，其余的测试没有执行。现在，在我向网站元素添加角度的那一刻：

```
<div ng-app>
  <h1>Help</h1>
  <p id="test">Help!</p>
</div> 
```

测试按预期运行（红色和绿色）。

这导致我的问题是我几乎不知道如何登录我的用户（使用“之前所有”块），以便我可以愉快地执行我的角度功能测试。

对于非 JavaScript 的东西，我使用 RSpec 和 Capybara，我可以方便地调用 sign_in 用户。

有人知道如何登录用户（使用非语言页面）吗？也许有更好的方法来处理这个测试？我正在考虑使用 PhantomJS，就像您在 Railscasts 第 391 集中看到的那样，但我想使用 Google 推荐的工具。我不够聪明，无法重新发明轮子:)。

高度赞赏所有建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T02:48:38.787

好吧，这就是我所做的（如果您有更好的解决方案，我将不胜感激）：

1.  我用睾丸
2.  由于登录表单没有“启用角度”，我将 ng-app 添加到 div 环绕表单
3.  我在输入字段中添加了 ng-model "login" 和 "password"
4.  因为我有我可以使用的

    input('password').enter('PASSWORD GOES HERE');

5.  然后只需单击提交，等等。

现在，这是棘手的：

当我想执行我工作中“肉和土豆”的所有测试时，我得到了：

```
warn (proxy): Proxy Request failed - Error: socket hang up 
```

我已经意识到这是由于 testacular 在从服务器获得用户登录的响应之前执行剩余指令引起的。

所以我添加了 pause(); （如果您遇到同样的问题，您可以添加任何您想要让它稍等片刻的东西）

绿色

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-05T23:24:14.230

基本上你想将用户登录名/密码发布到 beforeEach 中的登录表单。为此编写一个函数，查看 angular-scenario.js 中的 browser() 对象。

# iphone - ios 应用程序在调用具有下划线格式的属性时崩溃

> ID：14640622
> 
> 赞同：3
> 
> 时间：2013-02-01T05:57:00.037
> 
> 标签：iphone, ios, objective-c, properties

我在 .h 中声明了一个变量：

```
@property (nonatomic, retain) NSString *var; 
```

当我使用以下方法调用属性变量时：

```
 _var = sumthing; 
```

该应用程序崩溃，当我将其称为：

```
 self.var = sumthing; 
```

它运作良好。

这两种情况有什么区别吗？

注意：我没有使用`@synthesize`过，因为不需要专门写这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:05:32.350

您应该在使用时使用`self.var`保留，以便它在内部调用 setter 方法来保留它。如果直接赋值，setter方法不会被调用，释放时会崩溃。`sumthing``@property``sumthing`

基本上 a`self.var = sumthing;`等价于分配`sumthing`给`var`然后保留它（`var = [sumthing retain];`）。当您直接执行此操作时，它仅执行分配部分而不是保留。所以当被释放时，当你使用并且你的应用程序崩溃`sumthing`时，你将指向一个已发布的变量。`var`

如果您仍然想在不使用的情况下使用它`self.var`，您可以尝试使用`_var = [sumthing retain];`which could work。

这与 synthesize 无关，因为您不再需要使用它。你可以跳过它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:50:10.950

Have you @synthesized property of your var with _var..? If not it will directly treat it as var. don't use _var.

# asp.net-mvc - 复杂类型的 ASP.NET MVC 参数绑定失败

> ID：14640631
> 
> 赞同：1
> 
> 时间：2013-02-01T05:58:16.447
> 
> 标签：asp.net-mvc, binding, asp.net-mvc-4, model-binding

我在使用 ASP.Net 时遇到了问题，导致我的头发掉光了。我可以使用不同的方法来绑定模型的某些部分，但没有一种方法可以绑定所有数据。

控制器动作签名

```
// Post: Profile/{customerId}/SetKnockOutQuestions/{profileId}
[AcceptVerbs(HttpVerbs.Post)]
public ActionResult SetKnockOutQuestions(Int32 customerId,
    Int32 profileId,
    Int32 parentProfileId,
    IEnumerable<ProfileKnockOutQuestionModel> questions)
{ 
```

ProfileKnockOutQuestionModel 类的相关数据成员

```
public sealed class ProfileKnockOutQuestionModel {

    /// <summary>
    /// Parameterless constructor is required for auto-passing GET/POST data to controller actions.
    /// </summary>
    public ProfileKnockOutQuestionModel() { }

    [Required]
    [DisplayName("Lead Type Id")]
    public Int32 AdminLeadType { get; set; }

    //[Required]
    //[DisplayName("Question Type")]
    [UIHint("GridForeignKey")]
    public Int16 QuestionTypeId { get; set; }

    [Required]
    [DisplayName("Question Text")]
    public String QuestionText { get; set; }

    [Required]
    [DisplayName("Pass Answer")]
    public String Answer1Text { get; set; }

    [Required]
    [DisplayName("Fail Answer")]
    public String Answer2Text { get; set; }

    [Required]
    [DisplayName("Price")]
    [DataType(DataType.Currency)]
    [Range(0, Int16.MaxValue)]
    public Decimal Price { get; set; }

    public Int32 ProfileKnockOutQuestionId { get; private set; }

    public Int32 ProfileId { get; private set; }

    public Int32 ParentProfileId { get; private set; }

    public Int32 CustomerId { get; private set; }

    public Int32 AdminKnockOutQuestionId { get; private set; } 
```

尝试以 JSON 编码的 javascript 代码发送数据

```
$.ajax({
    url: "/mvc/Profiles/78219/SetKnockOutQuestions/1605111",
    data: JSON.stringify({ questions: data,
        parentProfileId : 1605105 
    }),
    type: "POST",
    contentType: "application/json; charset=utf-8"
}); 
```

发送此数据（为简洁起见）

```
{
"questions":[
   {
     "AdminKnockOutQuestionId":8,
     "AdminLeadType":4,
     "Answer1Text":"Ya really!",
     "Answer2Text":"no wai",
     "CustomerId":78219,
     "ParentProfileId":1605105,
     "Price":2,
     "ProfileId":1605111,
     "ProfileKnockOutQuestionId":0,
     "QuestionText":"Really? Auto",
     "QuestionTypeId":0
   }, 
```

但是一旦我们开始行动，模型绑定器只绑定了字符串、价格和 AdminLeadType。其余数据全为零。在注意到所有正确解析的字段都具有它们并且没有任何改变之后，我尝试将`[Required]`and属性添加到其余的数字字段。`[DisplayName("")]`

我尝试发送的另一种方式是作为常规形式的编码帖子。

AXAJ javscript

```
$.ajax({
    url: "/mvc/Profiles/78219/SetKnockOutQuestions/1605111",
    data: { questions: data,
        parentProfileId : 1605105 
    },
    type: "POST",
}); 
```

这会导致如下的帖子正文（从 Chrome 的网络检查器复制/粘贴；我可以发布未解析的 url 编码版本，但请相信我，与号等都是按顺序排列的）：

```
questions[0][AdminKnockOutQuestionId] = 8
questions[0][AdminLeadType] = 4
questions[0][Answer1Text] = Ya really!
questions[0][Answer2Text] = no wai
questions[0][CustomerId] = 78219
questions[0][ParentProfileId] = 1605105
questions[0][Price] = 2
questions[0][ProfileId] = 1605111
questions[0][ProfileKnockOutQuestionId] = 0
questions[0][QuestionText] = Really? Auto
questions[0][QuestionTypeId] = 0 
```

这有相反的问题。根本没有任何约束，因为模型状态吓坏了，说所有字符串值都丢失了，即使我可以在 Request 对象的 VS 调试器视图中清楚地看到它们。

我的模型绑定到底做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:53:05.933

您的属性有私人二传手。您不可能期望模型绑定器能够绑定它们。所以添加公共设置器：

```
public sealed class ProfileKnockOutQuestionModel 
{
    /// <summary>
    /// Parameterless constructor is required for auto-passing GET/POST data to controller actions.
    /// </summary>
    public ProfileKnockOutQuestionModel() { }

    [Required]
    [DisplayName("Lead Type Id")]
    public Int32 AdminLeadType { get; set; }

    //[Required]
    //[DisplayName("Question Type")]
    [UIHint("GridForeignKey")]
    public Int16 QuestionTypeId { get; set; }

    [Required]
    [DisplayName("Question Text")]
    public String QuestionText { get; set; }

    [Required]
    [DisplayName("Pass Answer")]
    public String Answer1Text { get; set; }

    [Required]
    [DisplayName("Fail Answer")]
    public String Answer2Text { get; set; }

    [Required]
    [DisplayName("Price")]
    [DataType(DataType.Currency)]
    [Range(0, Int16.MaxValue)]
    public Decimal Price { get; set; }

    /// <summary>
    /// Public setters are required for passing GET/POST data to controller actions.
    /// </summary>
    public Int32 ProfileKnockOutQuestionId { get; set; }

    /// <summary>
    /// Public setters are required for passing GET/POST data to controller actions.
    /// </summary>
    public Int32 ProfileId { get; set; }

    /// <summary>
    /// Public setters are required for passing GET/POST data to controller actions.
    /// </summary>
    public Int32 ParentProfileId { get; set; }

    /// <summary>
    /// Public setters are required for passing GET/POST data to controller actions.
    /// </summary>
    public Int32 CustomerId { get; set; }

    /// <summary>
    /// Public setters are required for passing GET/POST data to controller actions.
    /// </summary>
    public Int32 AdminKnockOutQuestionId { get; set; }

    ...
} 
```

一旦您想要绑定的所有属性都具有公共设置器，您的 AJAX 请求就可以了：

```
$.ajax({
    url: "/mvc/Profiles/78219/SetKnockOutQuestions/1605111",
    data: JSON.stringify({ 
        questions: data,
        parentProfileId : 1605105 
    }),
    type: "POST",
    contentType: "application/json; charset=utf-8"
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:44:24.460

我认为我从未发布过数组，但我不知道它为什么不起作用。

我想提几件可能有帮助的事情：

首先，在您的第二次尝试中，我相信您必须使用 ajax 的**传统**参数，以便 asp mvc 接受它。

其次，我认为您不需要使用 JSON.stringify 来发布 JSON，因此您可能想尝试删除它。

最后，如果所有其他方法都失败了，请制作一个像这样的新模型

```
public class ProfileQuestions
{
    public Int32 customerId {get;set;}
    public Int32 profileId {get;set;}
    public Int32 parentProfileId {get;set;}
    public IEnumerable<ProfileKnockOutQuestionModel> questions {get;set;}
} 
```

并将您的操作更改为

```
public ActionResult SetKnockOutQuestions(
    ProfileQuestions profileQs)
{ 
```

我知道最后一个选项肯定会起作用

# ruby-on-rails - 方法名称后带有“=（参数）”的方法的含义和用途是什么

> ID：14640634
> 
> 赞同：-3
> 
> 时间：2013-02-01T05:58:44.763
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我的一个模块中有以下方法

```
def current_user
end

def current_user=(new_user)
end 
```

我想知道的是该方法的用途`current_user=(new_user)`。我也想知道以下事情 1.我们可以在模型中声明这样的方法，控制器 2.如何调用这些方法 3.这些东西的文档链接

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:14:54.903

默认情况下，ruby 中的所有变量都是私有的。只能通过方法（通常称为 geter 和 setter）来访问它们。所以

```
def current_user
end 
```

是吸气剂和

```
def current_user=(new_user)
end 
```

是二传手

为了更好地理解，你可以阅读这篇文章：http: [//zetcode.com/lang/rubytutorial/oop2/](http://zetcode.com/lang/rubytutorial/oop2/)

UPD：您可以在控制器、模型中使用此类方法 - 在任何类中

# r - 根据不同行中值之间的差异拆分数据框

> ID：14640643
> 
> 赞同：3
> 
> 时间：2013-02-01T05:59:22.970
> 
> 标签：r, split

我不确定我是否以正确的方式处理这个问题，但我想做的是根据值之间的差异将数据框分成几组。例如，使用下面的数据，我想根据 MIN 列中的值之间的差异进行拆分，因此如果差异大于 2，则创建拆分，在下面的示例中，我最终会得到 4 个拆分数据集。

```
MIN SEC PT  CO2R    CO2D    PAR
58  10  5   375.7   -11.6   1002
58  20  5   375.4   -11.6   1001
58  33  5   375.2   -11.6   1001
58  43  5   375.2   -11.5   1000
58  54  5   375.3   -11.8   1000
2   0   5   375.5   -6.3    1001
2   8   5   375.3   -6  1000
2   21  5   375.2   -6.1    997
2   37  5   375.3   -6.2    993
2   51  5   375.4   -6.2    1003
5   20  5   376.3   -7.6    1000
5   35  5   376.1   -7.3    1000
5   52  5   375.9   -7.3    1000
6   5   5   376 -7.8    1000
6   23  5   376.1   -8  1002
10  2   5   376.3   -3.3    1003
10  14  5   376.3   -3.1    1003
10  27  5   376.5   -3.4    1003
10  41  5   376.7   -3.7    1006
10  55  5   376.8   -3.9    997 
```

当每个数据子集都有唯一元素时，我以前使用过 split 函数，但是在这个数据集中我没有任何唯一可以从中拆分的元素。也许这个功能不是我需要的？任何提示表示赞赏！

谢谢，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T06:23:53.400

您可以使用它`diff`来查找连续值之间的差异并`split`拆分数据框。假设您的数据框被称为`dat`：

```
# create an index for differences > 2
idx <- c(0, cumsum(abs(diff(dat$MIN)) > 2))

# split the data frame
split(dat, idx) 
```

结果（4 个数据框的列表）：

```
$`0`
   MIN SEC PT  CO2R  CO2D  PAR
1  58  10  5 375.7 -11.6 1002
2  58  20  5 375.4 -11.6 1001
3  58  33  5 375.2 -11.6 1001
4  58  43  5 375.2 -11.5 1000
5  58  54  5 375.3 -11.8 1000

$`1`
   MIN SEC PT  CO2R CO2D  PAR
6    2   0  5 375.5 -6.3 1001
7    2   8  5 375.3 -6.0 1000
8    2  21  5 375.2 -6.1  997
9    2  37  5 375.3 -6.2  993
10   2  51  5 375.4 -6.2 1003

$`2`
   MIN SEC PT  CO2R CO2D  PAR
11   5  20  5 376.3 -7.6 1000
12   5  35  5 376.1 -7.3 1000
13   5  52  5 375.9 -7.3 1000
14   6   5  5 376.0 -7.8 1000
15   6  23  5 376.1 -8.0 1002

$`3`
   MIN SEC PT  CO2R CO2D  PAR
16  10   2  5 376.3 -3.3 1003
17  10  14  5 376.3 -3.1 1003
18  10  27  5 376.5 -3.4 1003
19  10  41  5 376.7 -3.7 1006
20  10  55  5 376.8 -3.9  997 
```

# sql - 提高 Ruby 脚本处理 CSV 的性能

> ID：14640648
> 
> 赞同：4
> 
> 时间：2013-02-01T05:59:52.937
> 
> 标签：sql, ruby, performance, csv, sqlite

我编写了一个 Ruby 脚本来执行以下操作：

1.  将一个非常大（2GB/12,500,000 行）的 CSV 读入 SQLite3
2.  查询数据库
3.  将结果输出到新的 CSV

在我看来，这似乎是最简单、最合乎逻辑的方法。这个过程需要定期配置和重复，因此需要脚本。我使用 SQLite 是因为数据总是以 CSV 形式出现（无法访问原始数据库），而且将处理卸载到（易于更改的）SQL 语句更容易。

问题是步骤 1 和 2 需要很长时间。我一直在寻找[提高 SQLite 性能的](https://stackoverflow.com/questions/1711631/how-do-i-improve-the-performance-of-sqlite)方法。我已经实施了其中一些建议，但收效甚微。

*   SQLite3 的内存中实例
*   使用事务（大约第 1 步）
*   使用准备好的语句
*   `PRAGMA synchronous = OFF`
*   `PRAGMA journal_mode = MEMORY`（不确定这在使用内存数据库时是否有帮助）

毕竟，我得到以下时间：

*   阅读时间：17m 28s
*   查询时间：14m 26s
*   写入时间：0m 4s
*   经过时间：31m 58s

当然，我使用与上述帖子不同的语言，并且存在编译/解释等差异，但是插入时间约为 79,000 条记录/秒对 12,000 条记录/秒 - 慢了 6 倍。

我也尝试过索引部分（或全部）字段。这实际上具有相反的效果。索引需要很长时间，以至于查询时间的任何改进都完全被索引时间所掩盖。此外，由于需要额外的空间，执行该内存数据库最终会导致内存不足错误。

SQLite3 不是适合这种数据量的数据库吗？我也尝试过使用 MySQL，但它的性能更差。

最后，这是代码的精简版本（删除了一些不相关的细节）。

```
require 'csv'
require 'sqlite3'

inputFile = ARGV[0]
outputFile = ARGV[1]
criteria1 = ARGV[2]
criteria2 = ARGV[3]
criteria3 = ARGV[4]

begin
    memDb = SQLite3::Database.new ":memory:"
    memDb.execute "PRAGMA synchronous = OFF"
    memDb.execute "PRAGMA journal_mode = MEMORY"

    memDb.execute "DROP TABLE IF EXISTS Area"
    memDb.execute "CREATE TABLE IF NOT EXISTS Area (StreetName TEXT, StreetType TEXT, Locality TEXT, State TEXT, PostCode INTEGER, Criteria1 REAL, Criteria2 REAL, Criteria3 REAL)" 
    insertStmt = memDb.prepare "INSERT INTO Area VALUES(?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8)"

    # Read values from file
    readCounter = 0
    memDb.execute "BEGIN TRANSACTION"
    blockReadTime = Time.now
    CSV.foreach(inputFile) { |line|

        readCounter += 1
        break if readCounter > 100000
        if readCounter % 10000 == 0
            formattedReadCounter = readCounter.to_s.reverse.gsub(/...(?=.)/,'\&,').reverse
            print "\rReading line #{formattedReadCounter} (#{Time.now - blockReadTime}s)     " 
            STDOUT.flush
            blockReadTime = Time.now
        end

        insertStmt.execute (line[6]||"").gsub("'", "''"), (line[7]||"").gsub("'", "''"), (line[9]||"").gsub("'", "''"), line[10], line[11], line[12], line[13], line[14]
    }
    memDb.execute "END TRANSACTION"
    insertStmt.close

    # Process values
    sqlQuery = <<eos
    SELECT DISTINCT
        '*',
        '*',
        Locality,
        State,
        PostCode
    FROM
        Area
    GROUP BY
        Locality,
        State,
        PostCode
    HAVING
        MAX(Criteria1) <= #{criteria1}
        AND
        MAX(Criteria2) <= #{criteria2}
        AND
        MAX(Criteria3) <= #{criteria3}
    UNION
    SELECT DISTINCT
        StreetName,
        StreetType,
        Locality,
        State,
        PostCode
    FROM
        Area
    WHERE
        Locality NOT IN (
            SELECT
                Locality
            FROM
                Area
            GROUP BY
                Locality
            HAVING
                MAX(Criteria1) <= #{criteria1}
                AND
                MAX(Criteria2) <= #{criteria2}
                AND
                MAX(Criteria3) <= #{criteria3}
            )
    GROUP BY
        StreetName,
        StreetType,
        Locality,
        State,
        PostCode
    HAVING
        MAX(Criteria1) <= #{criteria1}
        AND
        MAX(Criteria2) <= #{criteria2}
        AND
        MAX(Criteria3) <= #{criteria3}
eos
    statement = memDb.prepare sqlQuery

    # Output to CSV
    csvFile = CSV.open(outputFile, "wb")
    resultSet = statement.execute
    resultSet.each { |row|  csvFile << row}
    csvFile.close

rescue SQLite3::Exception => ex
    puts "Excepion occurred: #{ex}"
ensure
    statement.close if statement
    memDb.close if memDb
end 
```

请随意取笑我天真的 Ruby 编码 - 不会杀死我的东西有望让我成为更强大的编码器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T08:14:32.823

一般来说，如果可能的话，您应该尝试`UNION ALL`代替`UNION`，以便不必检查两个子查询的重复项。但是，在这种情况下，SQLite 必须`DISTINCT`在单独的步骤中执行。这是否更快取决于您的数据。

根据我的`EXPLAIN QUERY PLAN`实验，以下两个索引对这个查询最有帮助：

```
CREATE INDEX i1 ON Area(Locality, State, PostCode);
CREATE INDEX i2 ON Area(StreetName, StreetType, Locality, State, PostCode); 
```

# sql - 执行后复制表

> ID：14640651
> 
> 赞同：0
> 
> 时间：2013-02-01T06:00:03.607
> 
> 标签：sql

我想在执行该查询后创建新表

```
create table newTable as select * from oldTable 
```

但是，这似乎不起作用。执行一些查询后如何获取新表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:02:45.403

我不确定您使用的是什么 DBMS 或遇到了什么错误，因此我将尝试为多个系统回答。

如果您使用的是 Oracle 或 PostgreSQL（可能还有一些其他系统适用此规则），那么您的语法似乎是正确的。只要确保你的新表还不存在——否则它会出错。如果您尝试插入现有表 - 但是我认为情况并非如此 - 您可以尝试类似 -

```
INSERT INTO newTable SELECT * FROM oldTable 
```

另一方面，如果您使用的是 T-SQL (SQL Server)，您可以 SELECT INTO 新表。新表将使用旧表的模式创建。

[您可以在MSDN Library](http://msdn.microsoft.com/en-us/library/ms188029%28v=sql.105%29.aspx)阅读更多关于 INTO 条款的信息。

您的代码应如下所示 -

```
SELECT *
INTO newTable 
FROM oldTable 
```

而且，指定列名和过滤器也以类似的方式工作 -

```
SELECT  Column1, Column2, Column3, ...
INTO    newTable 
FROM    oldTable
WHERE   <Filter Condition> 
```

无论如何，如果您指定详细信息，您将获得更多帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:04:00.167

一般的语法如下：

```
CREATE TABLE new_table
  AS (SELECT * FROM old_table); 
```

例如：

```
CREATE TABLE suppliers
  AS (SELECT id, address, city, state, zip
      FROM companies
      WHERE id > 1000); 
```

尝试删除星号 (*) 并添加括号。

阅读[此处](http://www.techonthenet.com/sql/tables/create_table2.php)了解更多示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T07:29:01.140

正如您所说，您想在执行后将值复制到新表中是否使用游标运行存储过程让游标关闭然后使用查询如下

从表2中选择*进入表1

如果你想复制选定的列去

从表 2 中选择 Coloumn1 ,column2,... 到 table1 中......

# java - 即使我已经说过清单中定义的权限，在运行时检查权限也会失败

> ID：14640657
> 
> 赞同：0
> 
> 时间：2013-02-01T06:01:03.407
> 
> 标签：java, android, permissions, android-ndk

我在 RecSched 应用程序/项目的清单中定义了以下权限：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.recschedapk"
    android:versionCode="1"
    android:versionName="1.0" >
    <permission android:name="com.example.recschedapk.permission.DEADLY_ACT"
        android:label="DeadlyActivity"
        android:description="@string/permdesc"
        android:permissionGroup="android.permission-group.COST_MONEY"
        android:protectionLevel="dangerous" />
        :
        :
</manifest> 
```

我已在 WebApp 的其他应用程序（项目）中指定了此权限：

```
<uses-permissiom android:name="com.example.recschedapk.permission.DEADLY_ACT" /> 
```

在 WebApp.java 文件中，我定义了以下函数以在运行时检查权限：

```
private boolean checkPermission()
    {

        String permission = "com.example.recschedapk.permission.DEADLY_ACT";
        int res = getBaseContext().checkCallingOrSelfPermission(permission);
        Log.d("PERMCHECK", "int val : "+ res);
        return (res == PackageManager.PERMISSION_GRANTED);            
    } 
```

对上述函数的调用：

```
 if((this.checkPermission())
        return new VideoBroadCastObject(this); 
```

无论如何，通话似乎都失败了。这里是安卓新手。谁能告诉我这里的问题是什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:14:27.930

> 如果您当前未处理 IPC，则此功能将始终失败。

另一个应用程序不拥有/声明此权限，唯一的条件是正在执行的代码`checkPermission()`必须属于已被授予此权限的进程/pid。这意味着`checkPermission()`必须从 IPC 调用中执行。也就是说，`IBinder`您从其他进程收到的一个调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-04T17:48:00.657

我不知道你的流程是什么，但你可以试试这个......

```
private boolean checkPermission() {
    String permission = "com.example.recschedapk.permission.DEADLY_ACT";
    int res = getBaseContext().checkPermission(permission, Binder.getCallingPid(), Binder.getCallingUid());
    Log.d("PERMCHECK", "int val : "+ res);
    return (res == PackageManager.PERMISSION_GRANTED);            
} 
```

# c# - WCF 响应问题

> ID：14640665
> 
> 赞同：0
> 
> 时间：2013-02-01T06:01:56.010
> 
> 标签：c#, wcf, silverlight

![这是服务方法实现](../Images/96bc357d8c25efd2438b1291211869bc.png)

我遇到了一些奇怪的问题。我有一个 WCF 服务，它公开了一种保存用户定义对象的 Observablcollection 的方法。这个对象有一个 byte[] 属性，它也返回相同的集合给客户端。

当我调用此方法时，完成的事件不会被触发，如果我再次调用相同的方法，它会开始重复执行该方法，直到 wcf 超时。

猜猜那里出了什么问题？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:20:46.030

How large is you collection? There are chances that this is happening due to sending huge data from server to client than max limit specified by HTTP response.

# r - 在 R 中转换 data.frame

> ID：14640668
> 
> 赞同：3
> 
> 时间：2013-02-01T06:02:02.577
> 
> 标签：r, dataframe, transform

我有以下数据框：

```
foo <- data.frame( abs( cbind(rnorm(3),rnorm(3, mean=.8),rnorm(3, mean=.9),rnorm(3, mean=1))))
colnames(foo) <- c("w","x","y","z")
rownames(foo) <- c("n","q","r")
foo
#            w         x         y         z
# n 1.51550092 1.4337572 1.2791624 1.1771230
# q 0.09977303 0.8173761 1.6123402 0.1510737
# r 1.17083866 1.2469347 0.8712135 0.8488029 
```

我想要做的是将其更改为：

```
newdf
# 1     n    w 1.51550092
# 2     q    w 0.09977303
# 3     r    w 1.17083866
# 4     n    x 1.43375725
# 5     q    x 0.81737606
# 6     r    x 1.24693468
# 7     n    y 1.27916241
# 8     q    y 1.61234016
# 9     r    y 0.87121353
# 10    n    z 1.17712302
# 11    q    z 0.15107369
# 12    r    z 0.84880292 
```

有什么办法呢？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-01T06:13:28.707

有*几种*方法可以做到这一点。这是一个：

```
set.seed(1)
foo <- data.frame( abs( cbind(rnorm(3),
                              rnorm(3, mean=.8),
                              rnorm(3, mean=.9),
                              rnorm(3, mean=1))))
colnames(foo) <- c("w","x","y","z")
rownames(foo) <- c("n","q","r")
foo
#           w          x        y         z
# n 0.6264538 2.39528080 1.387429 0.6946116
# q 0.1836433 1.12950777 1.638325 2.5117812
# r 0.8356286 0.02046838 1.475781 1.3898432
data.frame(rows = row.names(foo), stack(foo))
#    rows     values ind
# 1     n 0.62645381   w
# 2     q 0.18364332   w
# 3     r 0.83562861   w
# 4     n 2.39528080   x
# 5     q 1.12950777   x
# 6     r 0.02046838   x
# 7     n 1.38742905   y
# 8     q 1.63832471   y
# 9     r 1.47578135   y
# 10    n 0.69461161   z
# 11    q 2.51178117   z
# 12    r 1.38984324   z 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-01T06:13:24.673

`reshape2:::melt()`特别适合这种转变：

```
library(reshape2)

foo <- cbind(ID=rownames(foo),  foo)
melt(foo)
# Using ID as id variables
#    ID variable     value
# 1   n        w 1.7337416
# 2   q        w 0.5890877
# 3   r        w 0.2245508
# 4   n        x 0.5237346
# 5   q        x 0.9320455
# 6   r        x 0.8156573
# 7   n        y 1.9287306
# 8   q        y 1.1604229
# 9   r        y 1.7631215
# 10  n        z 0.3591350
# 11  q        z 0.9740170
# 12  r        z 0.5621968 
```

# eclipse - 在 Eclipse 中检索 java 元素的 javadoc url

> ID：14640672
> 
> 赞同：0
> 
> 时间：2013-02-01T06:02:21.477
> 
> 标签：eclipse, url, javadoc, eclipse-jdt

Eclipse 中是否有 API 方法来检索元素的 Javadoc 的 URL？

我注意到 org.eclipse.jdt.ui.JavaUI 似乎有一个静态函数来完成这一点。你给它一个元素，如果它存在，它会返回 URL。

我遇到的问题是我想将它与我在 Eclipse 中使用的插件结合使用。您通常无法访问 JDT 类，除非您绕道而行，而 Eclipse 开发人员不鼓励这样做。所以我的问题是是否有另一种（简单的）方法来获取不需要我走得太远的元素的 Javadoc URL？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T01:20:05.777

如果你解析源代码，你可以得到类层次结构。然后可以使用相同的 URL 访问： http: [//docs.oracle.com/javase/6/docs/api/](http://docs.oracle.com/javase/6/docs/api/)加上类路径。例如，对于 ArrayList 类， [http ://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html。](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)

# windows - 为什么在windows平台有pdb文件时我们需要map文件？

> ID：14640676
> 
> 赞同：3
> 
> 时间：2013-02-01T06:02:31.263
> 
> 标签：windows, debugging, pdb

如标题所述，我认为 pdb 文件是地图文件的超集。我问这个问题的原因是因为我现在负责维护一个旧系统，该系统将同时生成 pdb 和映射文件。我想知道当 pdb 文件可用时是否不需要映射文件！

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-01T14:41:44.970

我也想知道这一点，并决定看看 John Robbins 在他的“调试应用程序”一书中所说的话。他说地图文件是“程序全局符号和源代码和行号信息的唯一文本表示”，无需任何支持程序即可读取。他接着说微软会定期更改符号表格式，如果您的客户运行您的程序的非常旧版本，可能很难找到可以解释符号表的旧版本符号引擎在那个非常老的程序的 PDB 文件中。但是由于映射文件只是一个文本文件，您只需在记事本中打开映射文件，就可以轻松地将崩溃地址映射到符号！

# iphone - 什么时候为自定义 UITableViewCell 调用 layoutSubviews？

> ID：14640680
> 
> 赞同：15
> 
> 时间：2013-02-01T06:02:48.303
> 
> 标签：iphone, ios, cocoa-touch, uitableview

什么时候在方法中`layoutSubviews`调用自定义？下面，我需要在设置属性后被调用。我是否正确设置了此设置？我希望能够使用，因为我听说它对性能更好。`UITableViewCell``UITableViewCells` `cellForRowAtIndexPath``layoutSubviews``FiltersTableViewCellItem``layoutSubviews`

```
- (UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier = @"FiltersTableViewCell";
    FiltersTableViewCell *filtersTableViewCell = [[self dequeueReusableCellWithIdentifier:cellIdentifier] retain];
    FiltersTableViewCellItem *filtersTableViewCellItem = [[self.filtersTableViewCellItems objectAtIndex:[indexPath row]] retain];

    if (!filtersTableViewCell)
    {
        filtersTableViewCell = [[FiltersTableViewCell alloc] initWithFiltersTableViewCellItem:filtersTableViewCellItem];
        filtersTableViewCell.delegate = self;
    }
    else
    {
        filtersTableViewCell.filtersTableViewCellItem = filtersTableViewCellItem;
    }
    return [filtersTableViewCell autorelease];
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-01T08:32:15.600

`layoutSubviews`在之后的某个时间点被调用，`tableView:willDisplayCell:`之后被调用`tableView:cellForRowAtIndexPath:`。您可以通过在相关方法中设置断点并查看它们被命中的顺序来验证这一点。例如，在`tableView:cellForRowAtIndexPath:`. 然后将以下方法添加到`FiltersTableViewCell`

```
- (void)layoutSubviews
{
    [super layoutSubviews];
} 
```

并在那里设置一个断点。然后运行应用程序，看看会发生什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-28T18:40:46.060

设置项目后尝试调用 setNeedsLayout。

```
filtersTableViewCell.filtersTableViewCellItem = filtersTableViewCellItem;
[filtersTableViewCell setNeedsLayout]; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-01T07:14:32.867

如this [answer](https://stackoverflow.com/a/5330162/1247984)中所述，在很多情况下都会调用它。我还要说，当可重用项目从可重用单元队列中出列时，它可能会被调用。在查找可重用项目之前尝试设置 FiltersTableViewCellItem。

# android - 如何进行下一步按钮操作？

> ID：14640682
> 
> 赞同：0
> 
> 时间：2013-02-01T06:02:58.780
> 
> 标签：android, textview, radio-button

在显示下一个问题时，我在 Next 按钮中遇到问题。

在我第一次设置文本中，我得到了正确的问题并匹配了四个选项答案。我需要的是。

我有一个 Next 按钮，用于显示下一个问题和答案。当我单击下一个按钮时，我可以获得下一个问题的下四个选项。但是我四次点击下一步后无法得到下一个问题，它显示下一个问题，但答案是正确的。

我做错了什么？我错过了什么？

任何帮助，将不胜感激。

> ```
>  protected String doInBackground(String... Args) {
> List<NameValuePair> params = new ArrayList<NameValuePair>();
>     System.out.println("cool");
> params.add(new BasicNameValuePair("tid", tid));
> json = jsonParser.makeHttpRequest(url_get_quesurl, "GET", params);
> System.out.println("ques value got");
> Log.d("All Groups: ", json.toString());
>     System.out.println("question");
> try {
> int success = json.getInt(TAG_SUCCESS);
> System.out.println("Success");
> if (success == 1) {
> System.out.println("Success");
> groups = json.getJSONArray(TAG_GROUP);
> System.out.println("Result Success+++"+groups);
> for (int i = 0; i < groups.length();i++) {
> JSONObject c = groups.getJSONObject(i);
>       String question = c.getString(TAG_QUES);
>   System.out.println("Checking ::"+question);
> ques1.add(question);
> String answer = c.getString(TAG_ANSW);
> System.out.println("Checking ::"+answer);
> answ1.add(answer);
>        }
>     } else {
>         showAlert();
>     }
> } catch (JSONException e) {
>     System.out.println("Error "+e.toString());
> }
> return null;
>      }  
>      protected void onPostExecute(String file_url) {
>      pDialog.dismiss();
>      ques1=new ArrayList<String>(new ArrayList<String>(ques1));
>         //  j=0;
>         TextView txtque = (TextView) findViewById(R.id.que_txt); 
>         txtque.setText(ques1.get(j));                      // here im getting the question
>                                                  //   and answers in radiobutton text
>         answ1=new ArrayList<String>(new ArrayList<String>(answ1));
>         btn_practice1.setText(answ1.get(0));
>         btn_practice2.setText(answ1.get(1));
>         btn_practice3.setText(answ1.get(2));
>         btn_practice4.setText(answ1.get(3));
>         btn_practicerg.setOnCheckedChangeListener(new OnCheckedChangeListener() {
>             @Override
>             public void onCheckedChanged(RadioGroup group, int checkedId) { 
>                 RadioButton radioButton = (RadioButton) findViewById(checkedId);
>                // Toast.makeText(Question.this, "" + radioButton.getText(), 2000).show(); 
>                 TextView txtRadio = (TextView) findViewById(R.id.rdtxt); 
>                 txtRadio.setText("" + radioButton.getText());
>             }
> });
>     Button nextBtn = (Button) findViewById(R.id.nxt_btn);
>     nextBtn.setOnClickListener(new Button.OnClickListener(){
>       public void onClick(View v){  
>       j++;
>     TextView txtque = (TextView) findViewById(R.id.que_txt); 
>     txtque.setText(ques1.get(j));              // here im not getting the next question
>                                             //   but i can get the next four options in              
>                                             //    radiobutton text
>     k++;
>     btn_practice1.setText(answ1.get((k*4)+0));
>     btn_practice2.setText(answ1.get((k*4)+1));
>     btn_practice3.setText(answ1.get((k*4)+2));
>     btn_practice4.setText(answ1.get((k*4)+3));
>      }
>    });
>     Button previousbtn = (Button) findViewById(R.id.prv_btn);
> previousbtn.setOnClickListener(new Button.OnClickListener(){
> public void onClick(View v){
> j--;
> TextView txtque = (TextView) findViewById(R.id.que_txt); 
> txtque.setText(ques1.get(j));              // here also im not getting the perivous question
>                                         //     but i cant get perivous four options in 
>                                        //      radiobutton text
> k--;
> btn_practice1.setText(answ1.get((k*4)+0));
> btn_practice2.setText(answ1.get((k*4)+1));
> btn_practice3.setText(answ1.get((k*4)+2));
> btn_practice4.setText(answ1.get((k*4)+3));
>   }
> });
>   } 
> ```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T07:19:21.230

我假设，您正在尝试管理问题及其在`next/previous buttons click`.

我在我的一个应用程序中实现了与您想要的相同：

Step1@`int count=0`全局取一个定义。

Step2@ 最初调用活动时，第一个问题将显示选项。

`setValues(count);`// 这里我在 setValues 命名方法中为 textview 设置问题和选项。

Step3@`onClick of NextButton`检查条件如下：

```
if (count == question.size() - 1) {
    finish();
    break;
} 

else {
count++;
setValues(count);
   } 
```

Step4@`onClick of PreviousButton`检查条件如下：

```
if (count <= 0) {
Toast.makeText(OnPurposeUPSQuesAcitivty.this, "First Record",Toast.LENGTH_SHORT).show();
break;
} else {
count--;
setValues(count);
} 
```

您的`setValue`方法如下所示：

```
public void setValues( int j) {
txtque.setText(ques1.get(j));            

btn_practice1.setText(answ1.get(j);
btn_practice2.setText(answ1.get(j);
btn_practice3.setText(answ1.get(j);
btn_practice4.setText(answ1.get(j);
} 
```

............

最后一点@ 在查看您的代码后，我没有发现您如何为选项设置值。

这

> btn_practice1.setText(answ1.get((k*4)+0));

你会解释上面的代码行吗，会更新我的答案，否则你可以按照我上面提到的步骤明智地使用我的解决方案。

# c++ - 如何在 Microsoft C++ 构建工具中抑制 D9025 警告

> ID：14640690
> 
> 赞同：7
> 
> 时间：2013-02-01T06:03:57.583
> 
> 标签：c++, visual-studio, msbuild, suppress-warnings

我正在使用 Microsoft C++ 编译器和构建工具编译一个库。我的构建环境设置了编译标志 /GL，但对于特定的库，我需要关闭该标志。我可以使用 /GL- 执行此操作，但我收到警告 D9025，它只是告诉我我正在覆盖以前的设置。我想压制这个警告。但是命令行选项 /wd 只分叉 Cxxx 错误和警告，而不是 Dxxx 警告。如何抑制 D9025 警告？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-03T18:11:26.520

你不能抑制 D9025，你必须修复它。[命令行警告 D9025](http://msdn.microsoft.com/en-us/library/8k3f51f1.aspx)表示您在 cl.exe 命令行上有冲突的选项。在你的情况下，你有这样的事情：

```
cl ... /GL ... /GL- ... 
```

编译器实际上使用了在命令行中最后指定的选项，但该命令行非常混乱。

在您的 .vcxproj 文件中，确保您为 WholeProgramOptimization 属性设置了正确的选项。您的配置部分可能如下所示：

```
<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
  ...
  <WholeProgramOptimization>false</WholeProgramOptimization>
</PropertyGroup> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-11-26T18:21:40.237

这有点老了，但万一其他人经历过这个并降落在这里......

很难准确地说出这个用户发生了什么，但在 Visual Studio 中，这个问题可能出现在以下实例中：

右键单击：

*   有问题的项目 => 属性
*   配置属性 => C/C++ => 命令行

举例：

*   如果您查看“所有选项”，可能会有这个选项：/MT
*   在底部的“附加选项”框中，它可能有：/MD

这些是冲突的——因此发出警告。

要修复它，请删除附加选项中的 /MD。

然后浏览至：配置属性 => C/C++ => 代码生成。

将运行时库设置为：/MD

同样，这只是发生这种情况的一种情况，但如果用户使用 makefile（将 RuntimeLibrary 设置为一个值，然后使用 AdditionOptions 将其设置为有争议的值），可能会发生类似的情况

顺便说一句，这只是一个警告，它最终会使用 AddtionOptions 中指定的值。

# java - 将 ArrayList 从一个类保存到另一类

> ID：14640693
> 
> 赞同：0
> 
> 时间：2013-02-01T06:04:14.000
> 
> 标签：java, arraylist

我想将 ArrayList 保存`main()`到我的新 ArrayList 中，它是 getTles(ArrayList input_list_of_strings) 中的子字符串。我怎么做？我知道我们需要处理循环并将其添加到 subString。此外，我想将代码中的字符串单词分解为小的子字符串。示例：“SCHOOLWORK”将分解为“SC”、“HOO”、“LWO”、“RK”。

```
import java.util.ArrayList;

public class HW2 {

    public static ArrayList getTiles(ArrayList input_list_of_strings) {
        // create a substring by go through the loop first, then .... (instruction)
        ArrayList<String> subString = new ArrayList<>();
        return input_list_of_strings;       
    }

    public static void main(String[] args) {
        // TODO Auto-generated method stub
        ArrayList<String> input_words = new ArrayList<String>();
        input_words.add("SCHOOLWORK");
        input_words.add("BALCONY");
        input_words.add("INSIST");
        input_words.add("SALTPETER");
        input_words.add("BOLTON");
        input_words.add("KITSCHY");
        input_words.add("CLIENTELE");
        System.out.print(getTiles(input_words));    
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:43:57.100

你没有保存任何东西。您将按`ArrayList`值传递到您的方法中。我还认为，设计接口而不是具体实现非常重要（也就是说，您将使用`List`它），并且您键入它以便您的方法中需要的行为不涉及强制转换或临时变量。

这就是我的意思。

```
public static List<String> getTiles(List<String> inputList) {
    // criteria for dividing up the strings themselves
    // logic to modify the list in-place or create a new copy to return
} 
```

# python - 从 IPython 控制台复制代码，使用标准 Python 提示符自动重新格式化

> ID：14640695
> 
> 赞同：3
> 
> 时间：2013-02-01T06:04:53.673
> 
> 标签：python, customization, command-prompt, ipython

有没有办法让 IPython 控制台自动重新格式化复制的代码，例如，

```
In [131]: a = [1, 2, 3]

In [132]: a
Out[132]: [1, 2, 3] 
```

使用标准 Python 提示符，即

```
>>> a = [1, 2, 3]
>>> a
[1, 2, 3] 
```

动机是：

1.  行号（也许还有额外的换行符）在这里没有意义。
2.  标准格式很容易与 doctest 一起使用。

有趣的是，IPython 的 Qt 控制台同时提供“复制”和“复制（原始文本）”，“复制”的默认行为导致以下结果：

```
a = [1, 2, 3]

a
Out[132]: [1, 2, 3] 
```

显然，可以实现某种自动重新格式化。有没有办法自定义这个功能？

我知道`PromptManager`哪个可用于自定义显示的提示（例如， http: [//nb.nathanamy.org/2012/09/terminal-productivity/](http://nb.nathanamy.org/2012/09/terminal-productivity/)）。但是，IPython 提示符（带有数字）在交互式会话中很有用。我只希望重新格式化复制的版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-20T14:25:45.417

您可以设置 iPython 配置并查看[本文的 ipython 部分](http://nathangrigg.net/2012/09/terminal-productivity/)。

以下是步骤：

1.创建个人资料

```
$ ipython profile create 
```

2.将以下行修改为~/.config/ipython/profile_default/ipython_config.py

`c.PromptManager.in_template = '>>> '`

之后，iPython 将像您预期的那样工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:24:41.150

我不知道有任何内置方法可以做到这一点，但也许你可以通过定义自己的 %magic 函数来帮助自己。

就像是

坚持[文档](http://ipython.org/ipython-doc/stable/interactive/reference.html#defining-your-own-magics)以了解如何定义和注册自定义魔法，然后尝试以下操作：

```
from IPython.core.magic import (register_line_magic, register_cell_magic,
                            register_line_cell_magic)

@register_line_magic
def export_prompt(start, end):
    "Exporting input and output within given limits"
    for i in range(start, end):
        in_ = In.get(i)
        out_ = Out.get(i)
        print in_
        print out_

# We delete this to avoid name conflicts for automagic to work
del export_prompt 
```

我自己试试看，看看好不好用。

**编辑** 似乎它不能立即起作用，你必须弄清楚如何访问`In`和`Out`内部自定义魔法。但我会留下答案以供参考，也许其他人可以完成样本。

# c# - 如何使用 C#/xaml 在“网格”Windows 8 应用程序开发中启用点击效果？

> ID：14640697
> 
> 赞同：1
> 
> 时间：2013-02-01T06:05:15.313
> 
> 标签：c#, xaml, windows-8

当我点击网格时如何给动画点击效果。它看起来像瓷砖和功能很好。我是否必须改变一些混合才能实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:19:25.683

It sounds like you are looking for a 'tilt' effect. This is not available out-of-the-box, but there are a number of solutions available online:

*   [http://www.sharpgis.net/post/2012/03/02/TiltEffect-for-Windows-8-Metro-XAML.aspx](http://www.sharpgis.net/post/2012/03/02/TiltEffect-for-Windows-8-Metro-XAML.aspx)
*   [http://blog.thomaslebrun.net/2012/09/windows-8-how-to-add-tilt-effect-to-your-controls/](http://blog.thomaslebrun.net/2012/09/windows-8-how-to-add-tilt-effect-to-your-controls/)

I think your best option is the 'Callisto' set of utilities:

[https://github.com/timheuer/callisto](https://github.com/timheuer/callisto)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-08T11:34:39.457

您缺少正确的语法：xaml reference->

```
xmlns:sg="using:Callisto.Controls" 
```

和用法->

```
sg:Tilt.IsTiltEnabled="True" 
```

另请查看： [https ://github.com/timheuer/callisto/wiki/TiltEffect](https://github.com/timheuer/callisto/wiki/TiltEffect)

# qt - Qt 应用程序的多平台崩溃报告系统

> ID：14640700
> 
> 赞同：5
> 
> 时间：2013-02-01T06:05:36.467
> 
> 标签：qt, mingw, crash-reports, crash-dumps, google-breakpad

我正在创建一个多平台 Qt 应用程序，我希望崩溃报告系统在用户计算机发生崩溃时生成崩溃报告。稍后，我应该能够查看堆栈跟踪以及崩溃报告中的所有调试信息。我看过google-breakpad。

但是要使用它，我似乎需要转向 Windows 的 MSVC。现在我在 Windows 上使用 MinGW，我需要花费大量时间和精力来使用 MSVC 编译所有不同的库。有什么方法可以使用 MinGW 并且仍然可以使用 google-breakpad？或者是否有其他可以在 Windows 上运行多平台并支持 mingw 的替代方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-14T22:45:04.570

[libcrashreporter-qt](https://github.com/dschmidt/libcrashreporter-qt) “应该提供将 Google Breakpad 崩溃报告轻松集成到 Qt 应用程序中”。

它包含 breakpad 的补丁，使其可以使用 MinGW 工具链构建。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-16T19:44:21.197

除了google-breakpad，我不知道任何开放的多平台崩溃报告系统。甚至 google-breakpad 也不支持 MinGW，据我所知，您仍然可以从您的应用程序中获取回溯。项目[Dr. Mingw](https://github.com/jrfonseca/drmingw/blob/master/README.md)提供了很棒的 dll：mgwhelp.dll 和 exchndl.dll。使用您需要：

*   使用调试信息进行编译。请参阅 Mingw 博士的常见问题解答。
*   在您的应用程序二进制文件中包含 mgwhelp.dll 和 exchndl.dll
*   并在应用程序启动时通过显式调用 LoadLibrary("exchndl.dll") 加载 exchndl.dll

例如像这样：

```
QFile drmingw("exchndl.dll");
if(drmingw.exists())
{// If don't want create reports just delete exchndl.dll from installer
    LoadLibrary(L"exchndl.dll");
} 
```

崩溃后，您将在二进制所在的同一目录中找到带有回溯的文件*binary_name.RPT 。*

我还能做什么？

*   在发布模式下剥离调试符号。

> ```
> win32:!win32-msvc*{
>     # Strip debug symbols.
>     QMAKE_POST_LINK += objcopy --only-keep-debug bin/${TARGET} bin/${TARGET}.dbg &&
>     QMAKE_POST_LINK += objcopy --strip-debug bin/${TARGET} &&
>     QMAKE_POST_LINK += objcopy --add-gnu-debuglink="bin/${TARGET}.dbg" bin/${TARGET}
> } 
> ```

*   每次运行检查 .RPT 文件是否存在并发送或保存在报告目录中。例如，我使用 gist 来收集报告。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T12:08:37.953

Breakpad 目前不支持 MinGW。我预计这种情况不会很快改变，除非有人贡献了这个端口，因为谷歌和 Mozilla 都对 MinGW 没有任何兴趣。我不知道有任何其他像 Breakpad 那样以跨平台方式工作的崩溃报告库。

# sql - 如果将具有多个表的查询作为输入动态给出，则找出在哪个表中缺少记录

> ID：14640702
> 
> 赞同：0
> 
> 时间：2013-02-01T06:05:45.947
> 
> 标签：sql, vb.net, dynamic, db2

我正在尝试在 Vb.net 中创建一个应用程序；因为用户将给出一个带有多个表的查询作为输入。如果没有返回记录，我的程序必须分析该查询并针对查询中给出的条件查明在哪个表中缺少记录。

例如：

```
SELECT table1.column1, table2.column2 
FROM table1
   , table2 
WHERE table1.column1 = table2.column3
   and table2.column2 = Y; 
```

在表 2 中，记录可能存在，而表 1 可能丢失。这意味着我的程序必须通知用户 table1 中的记录不存在。

用户将动态查询，我的程序必须对其进行分析。 **是否可以创建具有此功能的应用程序？**

首先，我需要分离查询，为此我需要获取给定查询中存在的表名，并将 where 子句关联到每个表

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T17:14:10.360

这是可能的。但是做对了，让它变得健壮，可能需要做很多工作。

对用户如何编写 sql 查询有任何限制吗？如果没有，您将不得不准备分析任意复杂的查询，包括（取决于您的用户）CTE、子查询等。

但是如果你真的想试试这个，首先看一下 FROM 子句的语法图，[这里](http://msdn.microsoft.com/en-us/library/ms177634.aspx). 这向您展示了 FROM 子句可以采用的所有形式。

您的程序将必须能够确定语法图的哪个“分支”有效，并在此基础上确定子句中的哪个单词表示表名。它必须这样做，以便它可以判断 WHERE 子句中的哪些词引用了该表中的字段。

为此，您首先需要一个标记器（能够从 SQL 语句中提取单词和符号），然后很可能需要一个基于有限状态机的解析器。

就像我说的，这将是很多工作。

# ruby-on-rails - 在另一种方法中包含验证方法

> ID：14640705
> 
> 赞同：0
> 
> 时间：2013-02-01T06:05:54.643
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一个验证方法必须验证在另一种方法中分配的值，我怎样才能让它在验证之前识别这些值？pay_must_be_same_to_amount 方法需要一些来自 create_items_from_readings 方法的值

```
class Invoice < ActiveRecord::Base
  attr_accessible :approved_by, :due_date, :invoice_date, :reading_ids, :terms, :customer_id, :customer, :status, :reference_no, :payment_method, :amount, :payment_date

  has_many :invoice_items, :dependent => :destroy
  belongs_to :customer, :inverse_of => :invoices

  validate :pay_must_be_same_to_amount

  def create_item_from_readings
    item = invoice_items.new
    item.rate = customer.unit_cost

    readings_in_this_period = customer.unbilled_readings.where('date_of_reading <= ?',  invoice_date).order(:date_of_reading)
    return nil if readings_in_this_period.empty?

    self.reading_ids = readings_in_this_period.collect(&:id).join(',')

    total_units = 0
    readings_in_this_period.each do |reading|
      total_units = total_units + reading.units_used1 + reading.units_used2 + reading.units_used3
    end

    item.amount = total_units * customer.unit_cost * customer.ct_ratio
    item.tax_amount = (item.amount * Settings.vat) if customer.pays_vat

    invoice_from_reading = readings_in_this_period.first.previous_reading
    invoice_from_reading ||= readings_in_this_period.first
    invoice_to_reading = readings_in_this_period.last

  #Select Item description based on Phase type
    if customer.phase_type == 'Single Phase'
      item.description = "Electricity used from #{invoice_from_reading.date_of_reading.strftime('%d/%m/%Y')} with readings #{invoice_from_reading.reading1} to #{invoice_to_reading.date_of_reading.strftime('%d/%m/%Y')} with   reading #{invoice_to_reading.reading1} - #{total_units.to_i} total units"
    else
      item.description = "Electricity used from #{invoice_from_reading.date_of_reading.strftime('%d/%m/%Y')} with readings, R1: #{invoice_from_reading.reading1}, R2: #{invoice_from_reading.reading2}, R3: #{invoice_from_reading.reading3} to #{invoice_to_reading.date_of_reading.strftime('%d/%m/%Y')} with  readings, R1: #{invoice_to_reading.reading1}, R2:#{invoice_to_reading.reading2}, R3: # {invoice_to_reading.reading3}- #{total_units.to_i} total units"
    end
  end 
end 
```

验证方法如下，需要将上面的item.amount与Invoice类中的金额进行比较

```
 def pay_must_be_same_to_amount
  if item.amount < self.amount && item.amount != self.amount
    self.errors.add :amount, 'The payment amount should be equal to amount on invoice' 
  end
 end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:25:17.457

一些评论：`create_item_from_readings`太复杂了。我不知道它应该做什么，但如果你运行它，我相信它会返回一个字符串（最后一个`if`语句中的两个之一）。

如果您需要做的只是`item.amount`与发票`amount`属性进行比较，那很简单。您几乎可以使用您编写的验证方法，还可以根据需要使用其他一些方法。

```
def item_amount
  total_units * customer.unit_cost * customer.ct_ratio
end

def total_units
  readings_in_this_period.inject(0) {|total,r| total + r.units_used1 + r.units_used2 + r.units_used3 }
end

def pay_must_be_same_to_amount
  if item_amount != amount
    errors.add :amount, 'The payment amount should be equal to amount on invoice'
  end
end 
```

这两种补充方法的代码只是从您的较长方法中修改的代码。

一个好的实践规则是，如果一个方法长于一行，并且您无法通过浏览它来判断它的用途，那么它就太长了（这并不*总是*正确的，但对于复杂的方法值得考虑）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T16:46:55.360

问题的解决方案是

```
def pay_must_be_same_to_amount
 sum = 0
 self.invoice_items.each do |invoice_item|
  sum = sum + invoice_item.amount
end
 if sum != self.amount
  self.errors.add :amount, 'The payment amount should be equal to amount on invoice' 
 end
end 
```

# python - Python 扭曲反应器 - 地址已在使用中

> ID：14640711
> 
> 赞同：9
> 
> 时间：2013-02-01T06:06:14.033
> 
> 标签：python, macos, sockets, twisted

我正在按照教程[http://www.raywenderlich.com/3932/how-to-create-a-socket-based-iphone-app-and-server](http://www.raywenderlich.com/3932/how-to-create-a-socket-based-iphone-app-and-server)在 Mac OS X 环境中使用套接字编程创建示例。

我正在为 reactor.listenTCP(80, factory) 使用 post 80 编写。当我运行 server.py 文件时，出现错误：

```
File "server.py", line 10, in <module>
    reactor.listenTCP(6, factory)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/twisted/internet/posixbase.py", line 436, in listenTCP
    p.startListening()
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/twisted/internet/tcp.py", line 641, in startListening
    raise CannotListenError, (self.interface, self.port, le)
twisted.internet.error.CannotListenError: Couldn't listen on any:80: [Errno 48] Address already in use. 
```

源代码如下：

```
from twisted.internet.protocol import Factory, Protocol
from twisted.internet import reactor

class IphoneChat(Protocol):
    def connectionMade(self):
        self.factory.clients.append(self)
        print "clients are ", self.factory.clients

    def connectionLost(self, reason):
        self.factory.clients.remove(self)

factory = Factory()
factory.protocol = IphoneChat
factory.clients = []
reactor.listenTCP(80, factory)
print "Iphone Chat server started"
reactor.run() 
```

如果我正在使用另一个端口，例如 6 等，它工作正常。我只是想知道，如何将端口 80 用于同一应用程序。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-02T20:13:54.520

打开活动监视器，搜索 Python 并终止进程。您可能搞砸了一次关闭服务器。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-08-06T14:59:29.910

我也遇到了这个问题，其实，刚刚。

这是我所做的：

```
MacBook-Air:Desktop user$ sudo lsof -i:80
COMMAND  PID USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME
Python  1276 root    3u  IPv4 ******      0t0  TCP *:http (LISTEN)
MacBook-Air:Desktop user$ sudo kill 1276
MacBook-Air:Desktop user$ sudo python server.py 
Iphone Chat server started 
```

然后一切顺利。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-03-23T14:15:43.487

对我来说，问题是 apache 已经在端口 80 上监听。似乎很多人通过这篇文章和其他有这个问题的人在谷歌上搜索，但我没有看到这个特定的答案。这对我有用，所以我想我会添加它以防万一它有帮助：运行 Mac/Mavericks 但该问题会出现在默认运行 Apache 的任何其他系统上......或者人们可能会忘记它正在运行。

做过

```
sudo lsof -i TCP:80 | grep LISTEN 
```

拿到

```
httpd      20 root    4u  IPv6 0x1d12a12e12345b12      0t0  TCP *:http (LISTEN)
httpd     109 _www    4u  IPv6 0x1d12a12e12345b12      0t0  TCP *:http (LISTEN)
httpd     437 _www    4u  IPv6 0x1d12a12e12345b12      0t0  TCP *:http (LISTEN)
httpd     438 _www    4u  IPv6 0x1d12a12e12345b12      0t0  TCP *:http (LISTEN)
httpd     439 _www    4u  IPv6 0x1d12a12e12345b12      0t0  TCP *:http (LISTEN) 
```

做过

```
sudo apachectl stop 
```

之后服务器在端口 80 上工作得很好。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-01T07:43:41.057

如果另一个应用程序已将套接字绑定到此端口，则您无法侦听该端口。例如读取[socket.bind](http://docs.python.org/2/library/socket.html#socket.socket.bind)

# iphone - 我们可以在 Xcode 中为 sqlite 提供硬编码路径吗？

> ID：14640712
> 
> 赞同：0
> 
> 时间：2013-02-01T06:06:28.540
> 
> 标签：iphone, objective-c, xcode

我是 iPhone 开发和 Mac OS 的新手，请多多包涵。但我努力深入，但找不到问题的解决方案。

我通过命令提示符在 sqlite 中创建了一个数据库。数据库保存在 Users/Dnamto/resources.db

但是当我尝试使用以下代码片段在我的 iPhone 应用程序中打开这个数据库时

```
// Get the documents directory
    dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

    docsDir = [dirPaths objectAtIndex:0];

    // Build the path to the database file
    databasePath = [[NSString alloc]initWithString: [docsDir stringByAppendingPathComponent:@"resources.db"]]; 
```

数据库无法打开。应用程序正在搜索的数据库路径是：/Users/Dnamto/Library/Application Support/iPhone Simulator/6.0/Applications/C82C3DAF-4E95-49A7-9A4F-4D69B056DC9D/Documents/resources.db

谁能帮我获得正确的数据库路径。我们能否对 DB 路径进行硬编码，以便我的应用程序链接到它。如果是，请提供代码片段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:11:24.850

**你不能。在真实设备中，您无法获得硬编码路径。**

**你需要一个相对路径。**

您的问题是您的数据库不在文档目录中。

您需要将数据库添加到主包中，并且在运行时需要检查 db 是否存在于文档目录中，如果没有，则需要使用`NSFileManager.`

您可以使用以下代码将数据库文件从捆绑包复制到文档目录。

```
NSString *documentsDirectory = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
NSString *sourcePath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"resource.db"];
NSString *folderPath = [documentsDirectory stringByAppendingPathComponent:@"resource.db"];
NSError *error;
[[NSFileManager defaultManager] copyItemAtPath:sourcePath toPath:folderPath error:&error]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:14:11.773

在应用程序中添加您的数据库并检查 db 是否存在于 doc 目录中，如果没有，则需要将其复制到 doc 目录中然后访问它。对于 cppy doc 目录中的 db，请使用以下代码片段

```
- (void)copyDatabaseIfNeeded {

    BOOL success;

    NSFileManager *fileManager = [NSFileManager defaultManager];
    success = [fileManager fileExistsAtPath:[self getDBPath]];
    NSString *databasePath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"dbname.sqlite"];
    if(success)
    {
        return;// remove old one.
    }
    [fileManager copyItemAtPath:databasePath toPath:[self getDBPath] error:nil];
} 
```

要打开数据库，请使用以下代码片段

```
-(void)openDatabase
{
    @try
    {
        [self copyDatabaseIfNeeded];
        if(sqlite3_open([[self getDBPath] UTF8String], &mainDatabase)==SQLITE_OK)
        {
            NSLog(@"Database opened");
        }
    }
    @catch (NSException *exception)
    {
        NSLog(@"Exception in openDatabase %@ :%@",exception.name,exception.reason);
    }
}

- (NSString *)getDBPath
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);
    NSString *documentsDir = [paths objectAtIndex:0];
    return [documentsDir stringByAppendingPathComponent:@"dbname.sqlite"];
} 
```

使用以下代码段关闭数据库。

```
-(void)closeDatabase:(sqlite3_stmt*)statement
{
    @try
    {
        sqlite3_finalize(statement);
        sqlite3_close(mainDatabase);
    }
    @catch (NSException *exception)
    {
        NSLog(@"Exception in DatabaseController closeDatabase %@ :%@",exception.name,exception.reason);
    }
} 
```

# c++ - 使用 vi[m] 自动为#define 生成值

> ID：14640713
> 
> 赞同：4
> 
> 时间：2013-02-01T06:06:33.267
> 
> 标签：c++, c, vim, macros, vi

截至目前，我在一个`.h`文件中有以下内容：

```
#define ONE 
#define TWO
#define THREE
#define FOUR
..
.
#define FIFTY 
```

使用`vi[m]`，我们如何为宏生成替换文本，应该如下所示：

```
#define ONE 1
#define TWO 2
#define THREE 3
#define FOUR 4
..
.
#define FIFTY 50 
```

问题陈述：给定下限 (1)、上限 (50) 和步长（即一次递增 1 或 2 或 3 等）-`vi`在上述宏中自动生成值的命令是什么？

更新：我没有选择使用`enum`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T06:30:12.357

继续并在`#define ONE`（它应该处于最终状态的位置）后面加上一个“1”。转到该行的开头（将光标放在 # 上）并按以下键（其中 Ca 表示“ctrl+a”）：

> `q` `q` `# record macro q`
> `3` `w` `h` `y` `$` `j` `$` `p` `C-a` `^` `q` `# end macro q`
> `4` `8` `@` `q` `# repeat macro 48x`

现在解释：

*   `q``q`= 录制一个名为“q”的宏
*   `3``w`= 向右移动三个单词
*   `h`= 左移一个字符（在数字前的空格上）
*   `y``$`= 拉到行尾
*   `j`= 下移一行
*   `$`= 到行尾
*   `p`= 粘贴
*   `C-a`= 增加光标下的数字
*   `^`= 转到行首
*   `q`= 停止录制宏
*   `4``8``@``q`= 运行宏 48 次

如果你不明白，或者我理解错了，请告诉我。它在我的电脑上正常工作。如果您想一次增加一个以上，只需将该乘数放在 Ca 前面（例如 3C-a）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-01T08:41:41.700

行选择 ( `C-V`) 所有行并输入

```
:r !awk '{print $0, NR}' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-01T10:17:45.583

首先，我假设所有这些`#define`行都是连续的，也就是说，中间没有空行或其他行，例如这种情况不存在：

```
#define foo

#define bar
whatever
#define another 
```

***我在这个答案的末尾添加了一个解决方案***

* * *

那么可能有两种不同的情况，第一种更简单，`#define block`位于文件的开头。这意味着第一`#define`行的第一名。

在这种情况下，你可以这样做

```
:%s/^#define.*/\=submatch(0)."  ".line(".")/g 
```

`#define`这将只是在每个语句的末尾添加行号。

另一种情况是，您`#define statement block`位于文件的中间位置。

**这个解决方案更通用，也适用于第一个场景。**

你可以添加一个映射

```
:nnoremap <leader>do :let x=line(".")<cr>:%s/^#define.*/\=submatch(0)." ".(line(".")-x+1)/g<cr> 
```

然后将光标移动到第一条`#define`语句，按`<leader>do`，它将为您完成工作。这样，您就不必手动插入“1”，也不必录制宏。

它的工作原理如下： ![在此处输入图像描述](../Images/bd86007a1c0ce24876e662bb371caf99.png)

**vim 中的外部 cmd (awk)**

awk 是文本处理的核武器，在这种情况下使用 awk 也是一个不错的方法。例如，它可以处理那些分开的#define 语句：您的文件如下所示：

```
/*
   comments
*/
#define ONE 

//comment
#define TWO

//empty lines
#define THREE

#define FOUR 
```

如果你在 vim 中输入：

```
:%!awk '/^\#define/{$0= $0" "++x}1' 
```

你的文件变成：

```
/*
   comments
*/
#define ONE  1

//comment
#define TWO 2

//empty lines
#define THREE 3

#define FOUR 4 
```

# javascript - 具有多列和分类建议的 Javascript 自动补全

> ID：14640719
> 
> 赞同：0
> 
> 时间：2013-02-01T06:06:57.590
> 
> 标签：javascript, jquery, jquery-ui, jquery-plugins, yui

是否有任何 JavaScript 自动完成功能可以在多列设计中显示分类建议，例如[http://www.healthgrades.com/](http://www.healthgrades.com/)。如果有 jquery 或 YUI 插件会更好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:27:17.277

最好创建自己的自动完成功能，因为您知道要显示哪些数据以及如何显示，您可以使用`table structure`或`ul-li structure`. 另一件事是您的后端显示的所有内容取决于您的后端需要哪些查询来提取数据。正如我所想，您的主要问题只是设计。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:32:07.723

这是您可能会使用的 MultiColumn[插件。](https://github.com/deaconsoftware/jQueryUI.MulticolumnAutocomplete)

# json - canoo webtest json

> ID：14640722
> 
> 赞同：0
> 
> 时间：2013-02-01T06:07:37.433
> 
> 标签：json, webtest, canoo, canoo-webtest

我正在尝试使用 canoo webtest 在 Jboss 7.1 上测试我的休息服务。下面是请求。我无法将 json 内容传递给服务器。然而，这同样适用于 curl 脚本。当我打印请求对象时，它在我的服务中显示为空白。也尝试使用soapAction true/false，但没有任何效果。请有任何建议。”

```
 <config host="localhost"
            port="8080"
            protocol="http">
            <header name="USEIR_ID" value="myusername"/>
            <header name="USER_PASSWORD" value="mypassword"/>
            <header name="Content-type" value="application/json"/>
         </config>
        <invoke method="post" url="/service/createPackage/getPackage" description="get package status"
            content='{signature:{applicationId:100,subInvId:2664}}' soapAction="true">
         </invoke> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T08:52:55.927

我能够解决这个问题。解决方案是在调用标签中。method="post" 应设置为“POST”（全部大写）。

# indexing - elasticsearch：如何索引仅作为停用词的术语？

> ID：14640732
> 
> 赞同：2
> 
> 时间：2013-02-01T06:08:37.977
> 
> 标签：indexing, elasticsearch, stop-words

我在后台使用 elasticsearch 构建自己的小型搜索非常成功。但是我在文档中找不到一件事。

我正在索引音乐家和乐队的名字。有一个乐队叫做“The The”，由于停用词列表，这个乐队永远不会被索引。

我知道我可以完全忽略停用词列表，但这不是我想要的，因为搜索“谁”等其他乐队的结果会爆炸。

那么，是否可以在索引中保存“The The”但根本不禁用停用词？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-02T11:16:41.547

您可以使用[同义词过滤器](http://www.elasticsearch.org/guide/reference/index-modules/analysis/synonym-tokenfilter.html)将其转换`The The`为单个标记，例如`thethe`，停用词过滤器不会将其删除。

首先，配置分析器：

```
curl -XPUT 'http://127.0.0.1:9200/test/?pretty=1'  -d '
{
   "settings" : {
      "analysis" : {
         "filter" : {
            "syn" : {
               "synonyms" : [
                  "the the => thethe"
               ],
               "type" : "synonym"
            }
         },
         "analyzer" : {
            "syn" : {
               "filter" : [
                  "lowercase",
                  "syn",
                  "stop"
               ],
               "type" : "custom",
               "tokenizer" : "standard"
            }
         }
      }
   }
}
' 
```

然后用字符串测试它`"The The The Who"`。

```
curl -XGET 'http://127.0.0.1:9200/test/_analyze?pretty=1&text=The+The+The+Who&analyzer=syn' 

{
   "tokens" : [
      {
         "end_offset" : 7,
         "position" : 1,
         "start_offset" : 0,
         "type" : "SYNONYM",
         "token" : "thethe"
      },
      {
         "end_offset" : 15,
         "position" : 3,
         "start_offset" : 12,
         "type" : "<ALPHANUM>",
         "token" : "who"
      }
   ]
} 
```

`"The The"`已被标记为`"the the"`, 和`"The Who"`as`"who"`因为前面的内容`"the"`已被停用词过滤器删除。

## 停还是不停

这让我们回到是否应该包含停用词？你说：

```
I know I can ignore the stop words list completely 
but this is not what I want since the results searching 
for other bands like "the who" would explode. 
```

你是什​​么意思？怎么爆？索引大小？表现？

最初引入停用词是为了通过删除可能对查询的相关性影响不大的常用词来提高搜索引擎的性能。然而，从那时起，我们已经走了很长一段路。我们的服务器比 80 年代时的能力要强大得多。

索引停用词不会对索引大小产生巨大影响。例如，对单词进行索引`the`意味着将单个术语添加到索引中。您已经有数千个术语 - 索引停用词也不会对大小或性能产生太大影响。

实际上，更大的问题是它`the`非常常见，因此对相关性的影响很小，因此搜索`"The The concert Madrid"`会优先于`Madrid`其他术语。这可以通过使用[shingle](http://www.elasticsearch.org/guide/reference/index-modules/analysis/shingle-tokenfilter.html)过滤器来缓解，这将导致这些令牌：

```
['the the','the concert','concert madrid'] 
```

虽然`the`可能很常见，`the the`但并不常见，因此排名会更高。

您不会单独查询 shingled 字段，但您可以将针对由标准分析器（没有停用词）标记的字段的查询与针对 shingled 字段的查询结合起来。

我们可以使用多字段以`text`两种不同的方式分析字段：

```
curl -XPUT 'http://127.0.0.1:9200/test/?pretty=1'  -d '
{
   "mappings" : {
      "test" : {
         "properties" : {
            "text" : {
               "fields" : {
                  "shingle" : {
                     "type" : "string",
                     "analyzer" : "shingle"
                  },
                  "text" : {
                     "type" : "string",
                     "analyzer" : "no_stop"
                  }
               },
               "type" : "multi_field"
            }
         }
      }
   },
   "settings" : {
      "analysis" : {
         "analyzer" : {
            "no_stop" : {
               "stopwords" : "",
               "type" : "standard"
            },
            "shingle" : {
               "filter" : [
                  "standard",
                  "lowercase",
                  "shingle"
               ],
               "type" : "custom",
               "tokenizer" : "standard"
            }
         }
      }
   }
}
' 
```

然后使用`multi_match`查询来查询该字段的两个版本，从而使 shingled 版本更具“提升”/相关性。在此示例中`text.shingle^2`，我们希望将该字段提升 2 的方法：

```
curl -XGET 'http://127.0.0.1:9200/test/test/_search?pretty=1'  -d '
{
   "query" : {
      "multi_match" : {
         "fields" : [
            "text",
            "text.shingle^2"
         ],
         "query" : "the the concert madrid"
      }
   }
}
' 
```

# android - MediaRecorder IOException：准备失败

> ID：14640734
> 
> 赞同：7
> 
> 时间：2013-02-01T06:08:42.270
> 
> 标签：android, media-player

我想使用 MediaRecorder 录制语音，我的代码是：

```
 public void record(View v) {
       Log.d(TAG, "record");

    this.mediaRecorder.setAudioChannels(1);
    this.mediaRecorder.setAudioSamplingRate(44100);
    this.mediaRecorder.setAudioEncodingBitRate(64000);
    this.mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);
    this.mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);
    this.mediaRecorder.setOutputFile(this.file.getAbsolutePath());
    this.mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);
    try {
        this.mediaRecorder.prepare();
        this.mediaRecorder.start();

        // update the buttons
        this.setButtonsEnabled(false, true, false);
    } catch (IOException e) {
        Log.e(TAG, "Failed to record()", e);
    }
} 
```

或者

```
 public void record(View v) {
    Log.d(TAG, "record");
    this.mediaRecorder = new MediaRecorder();
    this.mediaRecorder.setAudioChannels(1);
    this.mediaRecorder.setAudioSamplingRate(8000);

    this.mediaRecorder.setAudioEncodingBitRate(16);
    this.mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);
    this.mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.RAW_AMR);
    this.mediaRecorder.setOutputFile(this.file.getAbsolutePath());

    this.mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);

    try {
        this.mediaRecorder.prepare();
        this.mediaRecorder.start();

        // update the buttons
        this.setButtonsEnabled(false, true, false);
    } catch (IOException e) {
        Log.e(TAG, "Failed to record()", e);
    }
} 
```

在三星上一切正常，但在戴尔上两种方法都不成功

这是logcat：

```
 02-01 13:56:51.094: E/AudioRecorderDemoActivity(1397): Failed to record()
 02-01 13:56:51.094: E/AudioRecorderDemoActivity(1397): java.io.IOException: prepare failed.
 02-01 13:56:51.094: E/AudioRecorderDemoActivity(1397):     at android.media.MediaRecorder._prepare(Native Method)
 02-01 13:56:51.094: E/AudioRecorderDemoActivity(1397):     at android.media.MediaRecorder.prepare(MediaRecorder.java:524)
 02-01 13:56:51.094: E/AudioRecorderDemoActivity(1397):     at com.marakana.android.audiorecorderdemo.AudioRecorderDemoActivity.record(AudioRecorderDemoActivity.java:69)
 02-01 14:05:20.074: E/AndroidRuntime(1790): FATAL EXCEPTION: main
 02-01 14:05:20.074: E/AndroidRuntime(1790): java.lang.IllegalStateException: Could not execute method of the activity 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-17T07:18:36.143

这是一个大问题，但有一个非常小的解决方案

在大多数情况下，我们从 this.file.getAbsolutePath() 获得的文件名包含 file:/// 作为前缀

```
 ////////////////////////////////////////////////* INCORRECT CODE */
    this.mediaRecorder.setOutputFile(this.file.getAbsolutePath());
    /*the above line sets a file url beginning with a "file:///"
    //however, since this setOutputFile requires us to send a
    //string referring to the uri, we will have to get rid of the
    //"file:///" and simply write the uri */
    ////////////////////////////////////////////////* CORRECTED CODE BELOW */
    this.mediaRecorder.setOutputFile(this.file.getAbsolutePath().substring(8));
    /*the above line of code extracts the string uri eliminating
    // file:/// */ 
```

希望你觉得这个答案有帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-01T06:45:42.310

首先，您的代码看起来不错。您是否在清单文件中添加了所需的权限？

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.RECORD_AUDIO" /> 
```

如果是，则尝试替换：

```
this.mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4); 
```

经过

```
this.mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP); 
```

不要忘记检查您的视频文件的路径是否正确。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T11:35:36.540

我删除了

`this.mediaRecorder.setAudioEncodingBitRate(16);`

在方法2，现在它正在工作。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-10-27T04:31:04.577

将引发此异常。如果以下任何事情失败：

找不到文件：确保您指定的输出文件位置存在，否则会抛出文件未找到异常

写入权限：您必须在清单文件中指定写入权限。

记录权限：在清单文件中指定记录权限。

你可以用这个..

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.RECORD_AUDIO"/>
```

你仍然得到错误..尝试显示错误。像这样

```
try{
        mRecorder.prepare();

    } catch (IOException e) {
        Log.e(LOG_TAG, "prepare() failed");
       System.out.println(""+e);    //to display the error
    } 
```

mRecorder.start();

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-14T22:53:09.043

对于定位版本 >= 10+ 的设备，您需要使用[MediaStore](https://developer.android.com/reference/android/provider/MediaStore) api，在我的情况下找不到文件，因为该文件超出了我的应用程序的范围存储。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-12T08:46:05.613

实际上，iam 在我的应用程序构建时也遇到了同样的问题，我得到了一个完美的解决方案是我们应该设置所有权限，如 RECORD_AUDIO、READ_EXTERNAL_STORAGE、WRITE_EXTERNAL_STORAGE，我们应该设置这些权限 AndroidManifest.xml 和运行时也。我只是粘贴我的代码下面，它的kotlin代码和运行成功

```
 //Here when the app opening time 
    <!--MainActivity-->

    class MainActivity: AppCompatActivity() {

        companion object{
            var permissionAccepted = false
            var permissions = arrayOf(android.Manifest.permission.RECORD_AUDIO,
                android.Manifest.permission.READ_EXTERNAL_STORAGE,
                android.Manifest.permission.WRITE_EXTERNAL_STORAGE)
        }

        override fun onCreate(savedInstanceState: Bundle?) {
            super.onCreate(savedInstanceState)

            ActivityCompat.requestPermissions(this, permissions,CODE_PERMISSIONS)

            setContentView(R.layout.activity_main)
        }

        @RequiresApi(Build.VERSION_CODES.M)
        override fun onRequestPermissionsResult(
            requestCode: Int,
            permissions: Array<out String>,
            grantResults: IntArray
        ) {
            super.onRequestPermissionsResult(requestCode, permissions, grantResults)
            when (requestCode) {
                REQUEST_CODE_PERMISSIONS -> {
                    permissionAccepted = grantResults[0]
                                                == PackageManager.PERMISSION_GRANTED                                     
                            && grantResults [1] == PackageManager.PERMISSION_GRANTED
                            && grantResults[2] == PackageManager.PERMISSION_GRANTED
                }
            }
            if (!permissionAccepted){
                requestPermissions(permissions, REQUEST_CODE_PERMISSIONS)
            }
        }

    }

    <!--VoiceRecordActivity-->

    class VoiceRecordActivity: AppCompatActivity() {

        private var mediaRecorder: MediaRecorder? = null

        override fun onCreate(savedInstanceState: Bundle?) {
            super.onCreate(savedInstanceState)
            setContentView(R.layout.activity_voice_record)

            //i used touch listner
            audio_message_send.setOnTouchListener{ v, event ->
                    if (permissionAccepted)
                    {
                        //Log.e("TAG","permission accepted:$permissionAccepted")
                        if (event.action == MotionEvent.ACTION_DOWN) {
                            startRecording()

                        }
                        if (event.action == MotionEvent.ACTION_UP) {
                            stopRecording()
                        }
                    }else{
                        //Log.e("TAG","permission accepted:$permissionAccepted")
                        requestPermissions(permissions, REQUEST_CODE_PERMISSIONS)
                    }
                    false
                }
        }

            private fun startRecording() {
                       mFile = Environment.getExternalStorageDirectory().absolutePath                       
                    +"/$formattedDate-FC00$random.aac"
                if (mediaRecorder == null){
                this.mediaRecorder = MediaRecorder().apply {
                    setOutputFile(mFile)
                    setAudioSource(MediaRecorder.AudioSource.MIC)
                    setAudioChannels(1)
                    setOutputFormat(MediaRecorder.OutputFormat.AAC_ADTS)
                    setAudioEncoder(MediaRecorder.AudioEncoder.AAC)

                    //Log.e("TAG", "mFIle: $mFile")

                    try {
                        this.prepare()
                        this.start()

                    } catch (e: IOException) {
                        e.printStackTrace()
                        Log.e("TAG", "error: Prepare() failed")
                    } catch (e: InterruptedException) {
                        e.printStackTrace()
                    } catch (e: InterruptedException) {
                        e.printStackTrace()
                    }
                }
            }else{
                this.mediaRecorder!!.prepare()
                this.mediaRecorder!!.start()
            }
        }

    private fun stopRecording() {
        mediaRecorder!!.apply {
            try {
                stop()
                release()
            }catch (e: IOException){
                Log.e("TAG","error: stop${e.printStackTrace()}")
            }
            mediaRecorder = null
        }
    }

    override fun onStop() {
            super.onStop()
            if(mediaRecorder != null) {
                mediaRecorder!!.release()
                mediaRecorder = null
            }
        }
} 
```

# vb.net - 如何将 32 位整数转换为 2 个短裤

> ID：14640736
> 
> 赞同：1
> 
> 时间：2013-02-01T06:09:05.847
> 
> 标签：vb.net

在 vb.net 中，如何将 32 位整数转换为 2 个短裤？并重建它们？

前 16 位将转到第一个值，后 16 位将转到第二个值

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T06:23:59.877

您可以使用[BitConverter 类](http://msdn.microsoft.com/en-us/library/3kftcaf9.aspx)。

```
dim i16a, i16b as short
dim i32 as integer = somevalue
dim b() as byte

b = BitConverter.GetBytes(i32)
i16a = BitConverter.ToInt16(b, 0)
i16b = BitConverter.ToInt16(b, 2) 
```

你可以用同样的方法重建，只需在使用 BitConverter.ToInt32 之前先将 4 个字节复制到一个数组中。

# tcl - tcl中两个字母数字值的比较

> ID：14640737
> 
> 赞同：2
> 
> 时间：2013-02-01T06:09:08.943
> 
> 标签：tcl

谁能帮我比较 tcl 中的两个字母数字值。

如果说我有两个版本值

```
set val1 "2.1.a"
set val2 "1.2.a" 
```

如果我想获得两个值的最大值，即 $val1 （如上例所示），我该怎么做？

除了逐个字符比较之外还有什么办法吗？

可能的一组值：

```
1.0
1.1a
1.2.3f
2.1 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T06:24:45.687

尝试如下操作：

```
set val1 "2.1.a"
puts $val1
set val2 "1.2.a"
puts $val2
puts [string compare $val2 $val1] 
```

它对字符串 string1 和 string2 执行逐个字符的比较。返回 -1、0 或 1，具体取决于 string1 在字典上是否小于、等于或大于 string2

通过[此链接](http://wiki.tcl.tk/10163)了解更多详情；希望它能解决你的问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T17:54:05.270

我会将版本字符串分解成一个列表，一一比较：

```
# Breaks the version string into a list of tokens
proc tokenize {v} {
    set v [string map { " " "" } $v]
    set result {}
    foreach token [split $v ".-"] {
        set tokens_scanned [scan $token "%d%s" number alpha]
        if {$tokens_scanned == 0} {lappend result $token}         ;# is alpha, e.g. beta
        if {$tokens_scanned == 1} {lappend result $number}        ;# is number, e.g. 5
        if {$tokens_scanned == 2} {lappend result $number $alpha} ;# is both, e.g. 5beta
    }
    return $result
}

# Examples of versions this function handles:
# 1, 1a, 1.5, 3.2b, 3.2.1, 3.2.1-beta1
proc compare_version {v1 v2} {
    # Sanitize the data
    set v1 [tokenize $v1]
    set v2 [tokenize $v2]

    foreach token1 $v1 token2 $v2 {
        if {$token1 < $token2} { return -1 }
        if {$token1 > $token2} { return 1 }
    }
    return 0
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-02-13T16:22:54.990

根据 Tcl 文档，要比较 tcl 中的两个版本号，您应该使用 package 命令：

```
package vcompare version1 version2 
```

比较由 version1 和 version2 给出的两个版本号。如果 version1 是比 version2 更早的版本，则返回 -1，如果它们相等，则返回 0，如果 version1 比 version2 晚，则返回 1。

# c# - 数据网格上的 Sql 数据库更新

> ID：14640739
> 
> 赞同：0
> 
> 时间：2013-02-01T06:09:36.880
> 
> 标签：c#, sql

我想知道这是否是一种不好的做法。我有一页 50 行的数据网格，每行大约有 10 个文本框。页面功能非常简单，只需一个按钮即可在 ms sql 中更新和保存。当用户单击按钮时，需要很长时间才能保存。我在带有隐藏 id 字段 id 的 sql 循环中使用更新。简单更新表的最佳方法是什么？

```
 for (int i=0; i<options_bind.Items.Count; i++) 

 {

 if (((CheckBox)options_bind.Items[i].FindControl("check_Save")).Checked )
     { 
      call sql update one by one here
     }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:27:07.480

使用**SqlCommanBuilder**将数据绑定到 datagridview

```
 sqlDataAdapter = new SqlDataAdapter(selectQueryString, sqlConnection);
        sqlCommandBuilder = new SqlCommandBuilder(sqlDataAdapter);

        dataTable = new DataTable();
        sqlDataAdapter.Fill(dataTable);
        bindingSource = new BindingSource();
        bindingSource.DataSource = dataTable;

        yourDataGridView.DataSource = bindingSource; 
```

然后在更新事件

```
 try
            {
                sqlDataAdapter.Update(dataTable);
            }
           catch (Exception exceptionObj)
            {
                MessageBox.Show(exceptionObj.Message.ToString());
            } 
```

# javascript - 如何通过javascript访问“资源”中的“图像”

> ID：14640740
> 
> 赞同：0
> 
> 时间：2013-02-01T06:09:41.890
> 
> 标签：javascript, google-chrome-devtools

我正在使用谷歌浏览器。

![](../Images/00a75ae8a7fb76da021f1f2d9bc4fbb4.png)

这些图像落后于浏览器，所以我需要离开去访问它并清理它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:40:12.883

你在[问如何解决错误的问题](http://www.perlmonks.org/?node_id=542341)。如果您的高频 ajax 调用返回他们不需要的图像，那么您正在进行错误的 ajax 调用。当您应该治疗原因时，删除文件将治疗症状。

首先找到一种不下载它们的方法。ajax 调用的结果可以进行范围限定、过滤，甚至可以手动解析。没有理由让您的 ajax 调用的完整结果存储这些您不想要的额外资源。如果您想具体了解如何进行过滤，则需要发布生成 ajax 调用的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:15:45.043

_generated_background_page.html 是由安装在 Google Chrome 中的扩展程序创建的文件。如果您在网站上工作（不是 Chrome 扩展程序），则这些文件不是由该网站提供的，可以安全地忽略。

另外......少量图像不会在现代浏览器上造成任何有意义的延迟。

# django - Django & node.js：抛出参数[1]；// 未处理的“错误”事件

> ID：14640741
> 
> 赞同：3
> 
> 时间：2013-02-01T06:09:49.327
> 
> 标签：django, node.js, socket.io

我正在尝试[Realtime Django的 Django socket.io 和 node.js 示例](https://github.com/mburst/django-realtime-tutorial.git)

当我尝试从浏览器发送消息时，我从节点服务器收到错误消息

```
events.js:71
        throw arguments[1]; // Unhandled 'error' event
                       ^
Error: connect ECONNREFUSED
    at errnoException (net.js:770:11)
    at Object.afterConnect [as oncomplete] (net.js:761:19) 
```

由于我从 node.js 和 socket.io 开始，我无法找出这个错误。

请告诉我我做错了什么。

如果可能的话，也有人建议一些 django、node.js 和 socket.io 的工作示例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T14:52:35.413

该示例使用 redis 作为数据库后端，使用节点 redis-client。你有安装redis数据库吗？看起来这就是问题所在。

如果你有，redis-client 模块提供了一个可选的选项参数，你可以在 createClient 中定义主机、端口等（如果你没有以标准方式安装 redis）：

```
var sub = redis.createClient(...maybe put an options object here...); 
```

# c# - 如何在后面的c#代码中将值绑定到gridview中的超链接

> ID：14640747
> 
> 赞同：0
> 
> 时间：2013-02-01T06:10:20.637
> 
> 标签：c#, gridview, binding, hyperlink

我有一个自定义网格，我在后面的 c# 代码中绑定了数据。我已经为我的一个专栏提供了一个超链接字段。如果我单击超链接值，它应该导航到该超链接值的详细信息页面。代码如下，

```
 protected void grd_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            HyperLink myLink = new HyperLink();
            myLink.Text = e.Row.Cells[2].Text;
            e.Row.Cells[2].Controls.Add(myLink);
            myLink.NavigateUrl = "Estimation.aspx?EstimateID=" + EstimateID + "&VersionNo=" + VersionNo;
        }
    } 
```

如果我单击该链接，该页面将被导航，但我没有获得该页面中已经预加载的详细信息。请给我有关如何合并它的建议。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:51:26.250

尝试以下解决方案：

第 1 页，即您的列表页面：ASPX 代码：

```
<asp:GridView ID="GridView1" runat="server" 
        onrowdatabound="GridView1_RowDataBound">
    <Columns>
    <asp:TemplateField>
    <ItemTemplate>
        <asp:HyperLink ID="HyperLink1" runat="server">HyperLink</asp:HyperLink>
    </ItemTemplate>
    </asp:TemplateField>
    </Columns>
    </asp:GridView> 
```

代码背后：

```
protected void Page_Load(object sender, EventArgs e)
    {
        List<Data> lstData = new List<Data>();
        for (int index = 0; index < 10; index++)
        {
            Data objData = new Data();
            objData.EstimateID = index;
            objData.VersionNo = "VersionNo" + index;
            lstData.Add(objData);
        }

        GridView1.DataSource = lstData;
        GridView1.DataBind();
    }

    public class Data
    {
        public int EstimateID { get; set; }
        public string VersionNo { get; set; }
    }
    protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            HyperLink HyperLink1 = e.Row.FindControl("HyperLink1") as HyperLink;
            HyperLink1.NavigateUrl = "Details.aspx?EstimateID=" + e.Row.Cells[1].Text + "&VersionNo=" + e.Row.Cells[2].Text;
        }
    } 
```

第 2 页是您的详细信息页面：后面的代码：

```
protected void Page_Load(object sender, EventArgs e)
    {
        Response.Write(Request.QueryString["EstimateID"].ToString());
        Response.Write(Request.QueryString["VersionNo"].ToString());
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:27:10.153

您需要从网格行数据`EstimateID`中获取值。`VersionNo`查看[GridViewRowEventArgs](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridviewroweventargs.row.aspx)的文档，您会看到有一个 .Row 属性。

所以你的代码需要是这样的：

```
myLink.NavigateUrl = "Estimation.aspx?EstimateID=" + e.Row.Cells[4].Text + "&VersionNo=" + e.Row.Cells[5].Text; 
```

或者，您可能需要获取与网格行关联的数据项，在这种情况下，请查看 e.Row.DataItem、[GridViewRow.DataItem 属性](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridviewrow.dataitem.aspx)。需要将此 DataItem 转换为您绑定到网格的数据类型，以便从中获取数据，这可能类似于：

```
((MyCustomDataRow)e.Row.DataItem).EstimateID 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:57:49.610

您需要在 RowDataBound 事件中做一些小改动

myLink.Attributes.Add("href","你的网址");

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T06:29:37.303

您可以使用此重定向，阅读[此](http://www.ezineasp.net/post/ASP-Net-HyperLink-NavigateUrl-Property.aspx)

```
<asp:HyperLink ID="HyperLink1"   
               runat="server"   
               NavigateUrl="Default2.aspx">  
                 HyperLink  
</asp:HyperLink> 
```

添加带有链接的属性只需添加

```
HyperLink1.Attributes.Add (""); 
```

# sql - SQL查询从给定的整数列表中随机选择一个整数？

> ID：14640748
> 
> 赞同：0
> 
> 时间：2013-02-01T06:10:28.167
> 
> 标签：sql, sql-server, select, sql-server-2008-r2

我有一个`SELECT`查询产生的整数列表。

整数列表不是顺序的！例如，它可能包含如下值

```
 1,2,3,8,12,17,20,23,28,30,... 
```

我想从该列表中**随机选择一个整数！**我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:11:25.993

根据您的陈述：“*从该列表中****随机****选择一个整数***”，您可以`NEWID()`在这种情况下使用。**

 **```
SELECT TOP 1 colName
FROM tableName
ORDER BY NEWID() 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/40d47/2)

其他链接

*   [新ID()](http://msdn.microsoft.com/en-us/library/ms190348.aspx)**

# mysql - 如何从完整备份中提取单表数据？

> ID：14640753
> 
> 赞同：0
> 
> 时间：2013-02-01T06:10:58.247
> 
> 标签：mysql, linux, unix, mysqldump, percona

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:20:59.647

我创建了一个 bash 脚本来将完整的 DB 转储到每个表的一个 SQL 文件中。

签出并下载 gist 将[MySQL 转储 SQL 文件拆分为每个表一个文件](https://gist.github.com/1608062)

提取单个表运行`mysql_splitdump.sh daily_3101013.sql mytable`。

```
#!/bin/bash

####
# Split MySQL dump SQL file into one file per table
# based on http://blog.tty.nl/2011/12/28/splitting-a-database-dump
####

if [ $# -lt 1 ] ; then
  echo "USAGE $0 DUMP_FILE [TABLE]"
  exit
fi

if [ $# -ge 2 ] ; then
  csplit -s -ftable $1 "/-- Table structure for table/" "%-- Table structure for table \`$2\`%" "/-- Table structure for table/" "%40103 SET TIME_ZONE=@OLD_TIME_ZONE%1"
else
  csplit -s -ftable $1 "/-- Table structure for table/" {*}
fi

[ $? -eq 0 ] || exit

mv table00 head

FILE=`ls -1 table* | tail -n 1`
if [ $# -ge 2 ] ; then
  mv $FILE foot
else
  csplit -b '%d' -s -f$FILE $FILE "/40103 SET TIME_ZONE=@OLD_TIME_ZONE/" {*}
  mv ${FILE}1 foot
fi

for FILE in `ls -1 table*`; do
  NAME=`head -n1 $FILE | cut -d$'\x60' -f2`
  cat head $FILE foot > "$NAME.sql"
done

rm head foot table* 
```

# php - 使用 php 向多人发送电子邮件

> ID：14640764
> 
> 赞同：0
> 
> 时间：2013-02-01T06:12:25.020
> 
> 标签：php, sendmail

我在这里有一个 php 电子邮件脚本，但它只需要一封电子邮件。我如何设置它以接收多封电子邮件，最多 500 封？如果我要这样输入它们.... `email1@aol.com, email2@aol.com, email3@aol.com`ect 用逗号分隔？

```
From Address: <input type="text" id="from" value="fakeemailer@albertyw.mit.edu" size="40"><br>
Recipient Address: <input type="text" id="to" size="40"><br>
Subject: <input type="text" id="subject" size="40"><br>
Message: <br><textarea id="message" cols="50" rows="10"></textarea><br>
<input type="submit" onclick="javascript:sendmail()" value="SEND">

$headers = $_POST['headers'];
$from = $_POST['from'];
$to = $_POST['to'];
$subject = $_POST['subject'];
$message = $_POST['message'];
$headers .="From: $from";

mail($to, $subject, $message, $headers) or die("EMAIL FAIL");
echo $to."<br-->";
echo $subject."<br>";
echo $message."<br>";
echo $headers."<br>";
echo 'EMAIL SENT'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:15:04.987

正如您在问题中所说的那样。逗号分隔多个收件人。

[PHP 手册中的Mail()](http://php.net/manual/en/function.mail.php "邮件（）")是一个很好的起点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:17:57.030

尝试这个

```
<input type="text" id="to" value="fakeemailer@albertyw.mit.edu, email2, email3, email4" name="to"> 
```

# jquery - 获取选定行jqGrid的列名

> ID：14640765
> 
> 赞同：0
> 
> 时间：2013-02-01T06:12:27.353
> 
> 标签：jquery, jqgrid

有没有办法让我获得所选行的列名`jqGrid`？例如，在小提琴上：http: [//jsfiddle.net/5B2Wh/43/](http://jsfiddle.net/5B2Wh/43/)

如果我单击内容为“Merge C”的单元格，它将返回“客户端”，这是它所在的列名。

我尝试使用下面的代码，但它只发送未定义的。

```
var cm = jQuery("#scrgrid").jqGrid("getGridParam", "colModel");
alert(cm.name); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:27:00.643

`colModel`是一个数组，您必须从中选择相关的列。

```
$("#scrgrid").jqGrid({
    ...
    onCellSelect: function(row, col, content, event) {
        var cm = jQuery("#scrgrid").jqGrid("getGridParam", "colModel");
        alert(cm[col].name);
    }
}); 
```

但是，这在您的网格中不起作用，因为您启用了编辑，这会禁用选择单元格的能力。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:29:20.720

做：

```
...onCellSelect: function(id,cellidx,cellvalue) {  
    var cm = jQuery("#list").jqGrid("getGridParam", "colModel");
    var colNameAttr = cm[cellidx];
    console.log(colNameAttr.name); //gives column name
}
... 
```

# java - Java双链表栈尾错误

> ID：14640769
> 
> 赞同：0
> 
> 时间：2013-02-01T06:12:56.483
> 
> 标签：java, linked-list, stack, push

我搜索了很多，发现了很多类似的答案，但对我的确切问题没有任何帮助。

我正在为我的双链表做一个推送方法，而头部的指针工作正常，尾部的下一个和前一个指针不起作用请帮忙。

```
public class MyStack<E> implements MyDeque {

    private Node<E> head;
    private Node<E> tail;
    private int size;

    public MyStack() {
        head = null;
        tail = null;
        size = 0;
    }
    public void push(Object element) {
        Node<E> newNode = new Node(element);
       if(size == 0) {
           Node temp = new Node(head);
           head = newNode;
           head.next = head;
           head.previous = head;
           tail = head;
           tail.next = head;
           tail.previous = temp;          

          }
       else {     

           newNode.previous = head;
           head = newNode;
           newNode.next = tail;
           (tail.next).previous = tail;

       }//else statement
       size++;
    }//push()

    public Object peek() {
        if (size==0) return null;
        else
            return head;
    }

    public Object pop() {

      size--;
      if(size == 0) 
          return null;
      else {

         Node temp = new Node(head.previous);
         head = head.previous;
         head.next = tail;
         head.previous = temp;

         return head;

      }//else

    }//pop()

    @Override
    public int size() {

        return size;
    }

     private class Node<E> {
        private E data;
        private Node<E> next;
        private Node<E> previous;

        public Node(E data) {
            this.data = data;
            this.next = null;
            this.previous = null;
        }
        public Node(E data, Node<E> next, Node<E> previous) {

            this.data = data;
            this.next = next;
            this.previous = previous;

        }//constructor

        public String toString() {
            return data+"";
        }

    }//class Node<E>
    public String toString() {

        return (head+" Head\n" + head.next  +" Head.Next\n" + head.previous+ " Head.previous\n"
                + tail+" Tail\n" + tail.next+" tail.next\n" + tail.previous+" tail.previous\n"); 

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:34:06.017

当堆栈为空时推送对象的情况看起来不正确。添加的第一个节点应分配给 head。然后尾部成为新节点的头部，这个新节点成为尾部节点的尾部，新节点本身成为尾部。

通常在堆栈的末尾（尾部）添加和删除元素。该代码并没有很清楚地说明您要对*head*和*tail*成员做什么。*如果您将它们命名为firstNode*和*lastNode*，您可能会更清楚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:35:29.247

我实际上可以看到这段代码的一些问题

```
public class MyStack<E> implements MyDeque {

private Node<E> head;
private Node<E> tail;
private int size;

public MyStack() {
    head = null;
    tail = null;
    size = 0;
} 
```

这看起来不错

```
public void push(Object element) {
    Node<E> newNode = new Node(element);
   if(size == 0) {
       Node temp = new Node(head);
       head = newNode;
       head.next = head;
       head.previous = head;
       tail = head;
       tail.next = head;
       tail.previous = temp;          

      }
   else {     

       newNode.previous = head;
       head = newNode;
       newNode.next = tail;
       (tail.next).previous = tail;

   }//else statement
   size++;
}//push() 
```

有点困惑为什么你要接受一个对象而不是你的通用 E。

你真的不需要这里的 temp 值，事实上，当你设置时，你看起来像是打破了以前的值`tail.previous = temp`

在您的 else 中，您没有正确设置 tail.previous。最后一行应该是`tail.previous = head`. 你也错过了head.next

所以清理了一下

```
public void push(E element) {
    Node newNode = new Node(E);
    if(size == 0) {
        head = newNode;
        head.next = head;
        head.previous = head;
        tail = head;
    } else {
        newNode.previous = head;
        head.next = newNode;
        newNode.next = tail;
        tail.previous = newNode;
        head = newNode;
    }
    size++;
} 
```

在您的 pop 方法中，您可能希望在大小检查后移动您的大小减量，否则 1 元素堆栈在弹出时将返回 null。

编辑：使用单链表可能会更容易，或者至少不是循环双向链表。

最后添加可能是更传统的做事方式。

# c# - 访问用户控制页面中的类

> ID：14640783
> 
> 赞同：0
> 
> 时间：2013-02-01T06:14:22.117
> 
> 标签：c#, asp.net

我有一个类`a.cs`，其中我有一个方法`save()`，我有一个用户控件`b.ascx`，我想`GridView`使用 save 方法绑定一个。类似的东西

```
gridview1.datasource = //want to call save method here 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T08:07:07.783

1.  首先确保您的方法和您的类修饰符是`public`.

2.  确保你有你的`using`类（如果你的类位于另一个项目/类库中）`namespace``UserControl`

在此示例中，我的类和 UserControl 位于同一项目中。

![Web 应用程序项目结构示例](../Images/c8951cd6136d5af04bf13f6a9d5dbe06.png)

我假设你的课是这样的：

```
namespace WebApplication1
{
    public class MyClass
    {
        public object Save()
        {
            throw new NotImplementedException();
        }
    }
} 
```

在您的用户控件上，就像这样：

```
namespace WebApplication1
{
    public partial class MyUserControl : System.Web.UI.UserControl
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            MyClass obj = new MyClass();
            myGridView.DataSource = obj.Save();
            myGridView.DataBind();
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:26:36.743

要将方法绑定到属性，您可以这样做：

将此添加到您的资源中

```
<ObjectDataProvider x:Key="aName" MethodName="Save"      //Save is the name of your method
                    ObjectType="{x:Type Namespace:a}" /> //a is the class name 
```

然后你可以简单地将它绑定到你的`DataSource`. 例如：

```
DataSource="{Binding Source={StaticResource aName}}" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:43:29.677

尝试这个

```
a aliasOfClass = new a(); // if your class has constructor defined 
```

现在使用

```
gridview1.datasource = aliasOfClass.save(); 
```

如果您的类没有定义构造函数，则将方法设为静态并像这样使用

```
gridview1.datasource = a.save(); 
```

# c# - 使用 for 循环在 umbraco 中传递数组的字符串值

> ID：14640790
> 
> 赞同：0
> 
> 时间：2013-02-01T06:14:58.960
> 
> 标签：c#, razor, for-loop, umbraco

我正在尝试将数组值一一传递给图像

```
<img src="@crops.Find("@name", "boxes[0]").url" alt="" /> 
```

例如第一次 box[0] = box-1x1 ，类似地，当

```
foreach (var node in Model.Children) 
```

循环第二次运行，盒子值应该是 box[1] ，即 box-2x1 ，我只是想出一种方法，如何运行 for 循环以将这些值传递 8 次，因为数组大小为 0-8

```
 @{ @* Initialize box styles:list.Add(node.UrlName);*@
    string[] boxes = { "box-1x1", "box-2x1", "box-1x1" , "box-2x1" ,"box-2x2", "box-1x2", "box-1x1" , "box-2x1","box-1x1" };
    var list = new List<string>();
    foreach (var node in Model.Children)
        {
            dynamic croping = @Model.mainImage.mediaItem.Image.mediaCropper;
            foreach (dynamic crops in croping)
                {   
                    if (crops.GetType().ToString() != "System.String")
                            {   
                                <img src="@crops.Find("@name", "boxes[0]").url" alt="" />
                            }   
                }   
        }

 } 
```

任何人都可以为我提供任何帮助或建议。任何帮助将不胜感激谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:25:43.907

如果您想在循环中使用索引，请使用`for`循环，而不是`foreach`. 或者，在循环`int index = 0`之前定义一个变量，并在每次迭代后将其推进 1。`foreach`

例如：

```
int index = 0;
foreach (var node in Model.Children)
{
    // Do your stuff
    // ...
    <img src="@boxes[index]" />
    // ...

    index++;
} 
```

# php - 标识 HTML 表类列标题

> ID：14640791
> 
> 赞同：0
> 
> 时间：2013-02-01T06:14:59.543
> 
> 标签：php, jquery, html, codeigniter, datatables

我有一个由 Codeigniter 中的 HTML 表类创建的 HTML 表。大多数但不是所有列中的最后一列是包含两个图标的操作列。一个用于编辑图标，一个用于删除图标。该表还具有正在呈现的数据表。因此，默认情况下，所有列都是可排序的，如果表包含不可排序的列，我想禁用所有表上的该列。

我的问题是应用它的最佳方法是什么。我是否应该尝试找出如何将 id 应用于该列，然后在 js 中尝试找出如何调用该列并禁用该功能，或者最好的选择是什么，或者我的所有其他选择是什么？

# c# - 不使用项目符号和数字呈现的项目符号和编号列表

> ID：14640796
> 
> 赞同：1
> 
> 时间：2013-02-01T06:15:20.010
> 
> 标签：c#, .net, asp.net-mvc, bulletedlist

我正在绑定一个由列表和文本组成的解码 html。但它无法呈现项目符号/数字，以防万一`OL LI/UL LI`

标记：

```
@HTML.Raw(httputlity.htmldecode(model.defn)) 
```

解码后的定义值为

```
<ol><li>test</li><li>test2</li></ol>Sample text 
```

显示为

```
test
test2
Sample Text 
```

必须显示为

```
1\. test
2\. test2
Sample Text
test2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:02:08.080

很简单，你必须为那个OL标签写一个CSS类

```
ol.yourOLCLASS
{
  list-style-type:number;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:30:11.373

1、2 和项目符号由浏览器解析`<ul>`和`<ol>`标记呈现。它们不是 HTML 的一部分

不太确定我是否理解您的问题。

# c# - 使用 Sharepoint 的 COM dll 的 Windows 8 应用程序出现错误“无法解析程序集或 Windows 元数据文件 'System.Web.Services.dll'”？

> ID：14640799
> 
> 赞同：0
> 
> 时间：2013-02-01T06:15:32.177
> 
> 标签：c#, sharepoint-2010, windows-8, windows-runtime, sharepoint-clientobject

我使用 Windows 8 C# XAML 创建了一个示例应用程序，以使用 COM Dlls 获取 SharePoint 2010 的站点信息。我添加了以下参考：

```
 C:\Program Files\Common Files\microsoft shared\SharePoint Client\Microsoft.SharePoint.Client.dll
    C:\Program Files\Common Files\microsoft shared\SharePoint Client\Microsoft.SharePoint.Client.Runtime.dll 
```

但是当我构建项目时，它给了我以下错误：

```
Error1: Cannot resolve Assembly or Windows Metadata file 'System.Web.Services.dll' E:\Windows 8 And Sharepoint Example\SharePointCOMApp\SharePointCOMApp\SharePointCOMApp.csproj

Error2: Type universe cannot resolve assembly: System.Web.Services, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a. SharePointCOMApp 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-03T06:27:54.563

您的术语“COM dlls”起初让我感到困惑，但后来我意识到您在谈论[Client Object Model](http://www.microsoft.com/en-us/download/details.aspx?id=21786)而不是[Component Object Model](http://www.microsoft.com/com/default.mspx)。

当前[没有可用于 WinRT 的 SharePoint 客户端 dll](http://social.msdn.microsoft.com/Forums/en-AU/winappswithcsharp/thread/6f3a3803-945d-4765-8964-7e5228d52fd8)。只有 Silverlight 和 .NET 可供下载。显然，您引用了这两个之一并遇到了错误，因为它们引用了 .NET for Windows Store 应用程序中不可用的其他库（即`System.Web.Services.dll`）。

您可以查看开源[SharePoint WinRT 客户端](http://sharepointwinrt.codeplex.com/)库。根据您的情况，它可能对您有用。

# wordpress - wordpress 页面上重复的永久链接

> ID：14640803
> 
> 赞同：0
> 
> 时间：2013-02-01T06:15:54.870
> 
> 标签：wordpress, permalinks

首先我有 www.mywebsite.com/blog/ 这是 www.mywebsite.com 下的另一个 wordpress 博客。

然后我在 www.mywebsite.com 中创建了一个页面，该页面的 URL 为 www.mywebsite.com/blog/。

我想将第一个 www.mywebsite.com/blog 更改为 www.mywebsite.com/blog2 这样它就不会再让我感到困惑了。

在管理面板中更改永久链接后。我无法再访问 www.mywebsite.com/blog。

有什么方法可以访问原始 www.mywebsite.com/blog2/wp-admin 的页面吗？并查看重复的页面 www.mywebsite.com/blog/?

如果我的问题让您感到困惑，请发表评论。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-21T20:35:20.380

移动您的网站时，请提供[移动 wordpress 的指南，](http://codex.wordpress.org/Moving_WordPress)或者在这种情况下更好地[提供更改 wordpress url 的指南](http://codex.wordpress.org/Changing_The_Site_URL)。

假设您更改了无法移动文件的 URI，但仍然可以访问登录页面（通过重定向或其他方式），您可以轻松恢复安装。

`wp-login.php`可用于（重新）设置 URI。找到这一行：

```
require( dirname(__FILE__) . '/wp-load.php' ); 
```

并在下面插入以下行：

```
 //FIXME: do comment/remove these hack lines. (once the database is updated)
update_option('siteurl', 'http://your.domain.name/the/path' );
update_option('home', 'http://your.domain.name/the/path' ); 
```

运行它（一次），你就完成了。测试您的网站以确保其正常工作。如果更改涉及您博客的新地址，请确保您让人们知道新地址，并考虑在您的 .htaccess 文件中添加一些重定向说明以将访问者引导到新位置。从您的`wp-login.php`.

# hadoop - 在 Apache Pig 中取消分组

> ID：14640807
> 
> 赞同：2
> 
> 时间：2013-02-01T06:16:10.480
> 
> 标签：hadoop, mapreduce, apache-pig

Apache Pig 是否支持 UNGROUP 操作？我想没有。那么有人可以帮我解决这个问题吗？我有一排表格

```
1,a-b-c
2,d-e-f
3,g-h 
```

我想将其扩展为表格

```
1,a
1,b
1,c
2,d
2,e
2,f
3,g
3,h 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T07:00:16.523

您可能应该使用内置函数`STRSPLIT`将第二个字段拆分为多个标记，然后应用`FLATTEN`为每个元素创建 1 行。像这样的东西：

```
A = LOAD 'input.txt' as (id, data);

B = FOREACH A GENERATE id, FLATTEN(STRSPLIT(data,'-')); 
```

# 3d - 使用碰撞检测制作透明 3d 对象

> ID：14640812
> 
> 赞同：0
> 
> 时间：2013-02-01T06:17:00.313
> 
> 标签：3d, unity3d

我是unity3d的新手，我只想制作一个透明的方形区域，当一个物体进入那个方形区域或触摸那个区域时，我应该让知道一些物体进入或触摸这个区域。请让我知道或建议我如何完成这项任务。这对我来说会很棒。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T15:57:33.127

Box collider 将起作用，如果您只想知道他们何时输入点击是触发器，那么在您的脚本中有 OnTriggerEnter 函数来处理您的逻辑

这是统一对撞机的链接 [http://docs.unity3d.com/Documentation/ScriptReference/Collider.html](http://docs.unity3d.com/Documentation/ScriptReference/Collider.html)

# android - 如何将自定义条目添加到生成的 Android MANIFEST.MF

> ID：14640815
> 
> 赞同：5
> 
> 时间：2013-02-01T06:17:08.537
> 
> 标签：android, android-manifest

Android SDK 在构建 apk 文件时会自动生成 META-INF/MANIFEST.MF。是否可以向此文件添加自定义条目？我正在使用需要它的旧版 jar。

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T16:20:37.780

中的条目是使用[jarsigner](http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/jarsigner.html)工具`META-INF`生成的。此文件的格式已指定。因此，即使您在此文件中添加一些条目，验证过程似乎也不会通过。

# ios - 如何在没有干净构建的情况下创建 XCode 存档

> ID：14640816
> 
> 赞同：6
> 
> 时间：2013-02-01T06:17:11.793
> 
> 标签：ios, xcode, build, archive

我们有一个相当大的代码库，需要很长时间来清理构建。每当我们归档构建（Product->Archive）时，归档过程首先清理所有，然后构建。

这似乎不必要且耗时，我们希望能够在没有干净构建的情况下创建存档。增量构建应该没问题。

有人知道如何在 XCode 归档过程中禁用“全部清除”步骤吗？非常感谢，我在这方面的搜索只提供了关于如何更快地构建的建议（这对我们来说不是有用的建议）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-04T23:06:44.853

是的，有可能。

正如我所怀疑的那样，这可以从命令行完成。我们花了一段时间才弄清楚这一点。这是我们的 TeamCity 构建脚本的摘录。基本上你生成一个构建（干净或增量是你的选择），然后从构建中生成和 .ipa。这是一个选项（开发人员身份和配置文件 ID 当然被删除）：

```
export CODESIGN_ALLOCATE="/Applications/Xcode.app/Contents/Developer/usr/bin/codesign_allocate"

xcodebuild -project <PROJECT NAME>.xcodeproj -target <PROJECT NAME> -configuration Release -sdk iphoneos -arch armv7 ONLY_ACTIVE_ARCH=NO CONTRIB_PATH=%system.agent.home.dir%/Contrib2 CODE_SIGN_IDENTITY="iPhone Developer: <DEV NAME> (ID)"  
PROVISIONING_PROFILE=<PROFILE ID>

rm -rf Payload
mkdir Payload

cp -R build/Release-iphoneos/ Payload/

rm ~/<PROJECT NAME>.ipa
xcrun -sdk iphoneos PackageApplication -v Payload/<PROJECT NAME>.app -o ~/<PROJECT NAME>.ipa --sign "iPhone Developer: <DEV NAME> (ID)" --embed ~/Library/MobileDevice/Provisioning\ Profiles/<PROFILE ID>.mobileprovision 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:24:28.923

设置一个持续集成服务器怎么样，这样每次提交都可以触发一个导致归档构建的过程。. . （希望在先运行测试等之后），以及发布 API 文档等。

它仍将花费相同的时间，但由于它在每次签入代码后在后台运行，并且最新的候选版本将始终可用 - 您可能不会注意到。

否则，您会遇到头疼的问题，您必须在发布模式下进行开发而不是调试等 -**它只是无法正常工作**。

这是一个 (OSX) 项目的示例，其中包含一个可以由持续集成服务器运行的构建脚本。我用的是 Bamboo，但如果你想要一些免费的东西，比如 Jenkins：

[https://github.com/jasperblues](https://github.com/jasperblues)

在上面的项目中，每个成功的构建（每当有人提交代码时触发）都会将 API 文档和测试覆盖率报告发布到 github 页面。. . 对于 iOS 项目，你也可以让它进行归档。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-01T06:22:10.813

增量构建*不适*用于存档。清理的重点是因为有时您可能会在清理修复的增量构建中遇到问题。这是在开发过程中可以接受的问题，但 Archive 是为分发构建而设计的，分发构建根本不应该有这种风险。

更不用说，您的正常构建过程是构建一个 Debug 构建，而 Archive 将构建一个 Release 构建，因此无论如何您都需要重新构建大部分应用程序（自上次 Release 构建以来发生的任何变化）。

# android - Youtube视频在android webview中单击全屏模式时冻结

> ID：14640822
> 
> 赞同：0
> 
> 时间：2013-02-01T06:17:37.060
> 
> 标签：android, youtube, android-webview, fullscreen

我可以在 android webview 中播放 YouTube 视频，但是当我点击 youtube 的“全屏”模式时，视频冻结但我仍然可以听到音频。我已将 PluginsEnabled 设置**为**true **，**并将**PluginState.ON**设置为 webview。任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T08:02:28.007

尝试设置此属性，这可能会有所帮助

在 android manifest 中设置`android:hardwareAccelerated="true"`in application 标签。

并将所有这些属性设置为 webview

```
 articleView.getSettings().setJavaScriptEnabled(true);
        articleView.getSettings().setPluginsEnabled(true);
        articleView.getSettings().setUserAgentString("Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/534.36 (KHTML, like Gecko) Chrome/13.0.766.0 Safari/534.36"); 
```

希望这可以帮助

# hibernate - 为什么我在尝试使用 Hibernate 时收到 NoClassDefFoundError？

> ID：14640823
> 
> 赞同：0
> 
> 时间：2013-02-01T06:17:51.470
> 
> 标签：hibernate

我使用 Eclipse Juno。我使用 Hibernate 创建了一个动态 Web 应用程序。我将 Hibernate 库添加到我的项目中。我的 servlet 中出现以下错误：

> java.lang.NoClassDefFoundError: org/hibernate/cfg/Configuration

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-01T06:25:21.537

您是否添加了所有相关的 Hibernate jar 文件。

也许 Tomcat 无法使用 Hibernate jar。

右键单击您的项目 -> 构建路径 -> 配置构建路径，然后从构建路径中删除休眠集。现在将 jars 导入 WEB-INF/lib 文件夹

# unity3d - Unity Performance - Coroutines vs FSM on update

> ID：14640824
> 
> 赞同：3
> 
> 时间：2013-02-01T06:17:55.580
> 
> 标签：unity3d, coroutine, state-machine, fsm

我刚开始学习 Unity 脚本，我很难理解为什么有些人更喜欢协程而不是状态机。

我确实理解代码对于某些程序员来说可能更具可读性，但我不明白为什么有些人说使用协程对性能更可取。

我在 Unity 中使用 C#，据我了解，[C# 编译器将 IEnumerator 转换为 state machine](http://csharpindepth.com/articles/chapter6/iteratorblockimplementation.aspx)。

所以也许我在这里遗漏了一些东西。使用协程而不是 FSM 循环来处理行为和状态是否会更好地提高运行时性能？如果是，为什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-03T19:24:35.163

在某些情况下使用协程会更快，因为您可以方便地安排 Unity 以特定间隔执行操作，而不是每帧都执行操作，从而节省处理时间。真正节省时间的是调度，而不是协程。

以您在 Unity 文档中突出显示的示例（在其他答案中的评论中）为例，其中说：

> 使用协程。Update 调用的问题在于它们每帧都会发生。很可能只能每 5 秒检查一次与玩家的距离。这将节省大量的处理能力。

这就是说，使用的协程`WaitForSeconds( 5f )`会比每帧检查距离更快。这并不意味着这样做一定比拥有自己的`Update`逻辑（每五秒检查一次距离）更快。

`Update`话虽如此，如果协程方法仍然比基于每五秒检查一次的逻辑更快（尽管没有那么明显），我不会感到惊讶，因为您仍然可以节省每帧检查当前帧的时间你的游戏代码。是的，在 Unity 的引擎循环中的某个地方，这个时间检查仍在进行，并用于确定是否进入下一个协程步骤，但它可能已经高度优化并且无论如何都会发生，所以协程没有添加太多额外的时间检查逻辑作为`Update`基于 - 的方法。

顺便说一句，有关 Unity 可能如何实现协程的一个很好的概述，请参阅这篇[博](http://www.altdevblogaday.com/2011/07/07/unity3d-coroutines-in-detail/)文。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-03-01T17:17:43.590

你必须小心你使用协程的目的。它们非常适合您不想挂起游戏的长时间运行的操作。

但是，您必须非常小心在协程中产生的频率。每次屈服时，协程恢复需要一些时间（多帧）。如果你产生太多，你的协程将比它需要的处理慢。例如，我正在研究寻路系统。我正在使用协程在运行寻路算法时定期产生。这导致寻路代码花费的时间比应有的要长得多。我发现在 Update 中执行此操作要快得多。

协程非常适合执行长时间运行的异步任务，例如 Web 请求或在后台下载某些内容等。我不知道我是否会建议将协程用于您的主游戏处理循环。（尤其是输入）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T08:35:47.510

我不认为有一个普遍的答案。这在很大程度上取决于您在代码中所做的事情。写得不好的协程可能比写得好的 FSM 慢，反之亦然。我想说代码的可读性和可理解性总是胜过潜在的（并且在这种状态下是无形的）性能提升。如果您遇到特定的性能问题，请在遇到它时解决它。所以我建议您使用对您和您的团队最直观的方法。

# scheme - scp cons-stream 是如何实现的？

> ID：14640833
> 
> 赞同：6
> 
> 时间：2013-02-01T06:18:32.523
> 
> 标签：scheme, sicp

我正在研究 scip 的流部分，并被困在如何定义流上。

以下是我的代码：

```
(define (memo-func function)
  (let ((already-run? false)
        (result false))
    (lambda ()
      (if (not already-run?)
          (begin (set! result (function))
                 (set! already-run? true)
                 result)
          result))))

(define (delay exp)
  (memo-func (lambda () exp)))

(define (force function)
  (function))

(define the-empty-stream '())
(define (stream-null? stream) (null? stream))
(define (stream-car stream) (car stream))
(define (stream-cdr stream) (force (cdr stream)))

(define (cons-stream a b) (cons a (memo-func (lambda () b)))) 
```

如果我按照书中描述的方式定义整数：

```
(define (integers-starting-from n)
   (cons-stream n (integers-starting-from (+ n 1))))
(define integers (integers-starting-from 1)) 
```

我收到一条消息：正在中止！：超出最大递归深度。

我猜*延迟*功能不起作用，但我不知道如何修复它。我在我的 Mac 上运行 MIT 方案。

## 更新 1

所以现在使用 cons-stream 作为宏，可以定义整数。

但后来我又遇到了另一个错误。

```
(define (stream-take n s)
  (cond ((or (stream-null? s)
             (= n 0)) the-empty-stream)
        (else (cons-stream (stream-car s)
                           (stream-take (- n 1) (stream-cdr s))))))

(stream-take 10 integers)
;ERROR - Variable reference to a syntactic keyword: cons-stream 
```

## 更新 2

请忽略上面的*更新1*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-01T06:36:44.010

`cons-stream`需要是一个宏才能使您的示例代码正常工作。否则，调用`cons-stream`将急切地评估其所有参数。

试试这个（未测试）：

```
(define-syntax cons-stream
  (syntax-rules ()
    ((cons-stream a b)
     (cons a (memo-func (lambda () b)))))) 
```

PS`delay`由于类似的原因，您也需要成为宏。然后在你修复之后`delay`，你就可以直接`cons-stream`使用了`delay`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-14T08:54:51.767

您不能将延迟定义为一个函数，因为在调用它之前，Scheme 会评估它的参数——这正是您想要推迟的。SICP明确表示延迟应该是一种特殊形式。

# ios - iTunes 查找？bundleId 方法不适用于我的应用

> ID：14640834
> 
> 赞同：9
> 
> 时间：2013-02-01T06:18:41.223
> 
> 标签：ios, objective-c, app-store, app-store-connect, itunes-store

我正在尝试通过这种方法查找我的应用程序：http: [//itunes.apple.com/US/lookup ?bundleId=com.writingfuture.where2](http://itunes.apple.com/US/lookup?bundleId=com.writingfuture.where2)

但它总是回来

```
{
 "resultCount":0,
 "results": []
} 
```

* * *

我在商店中的应用状态非常好（准备出售）。这是一个细节：

*   捆绑包 ID：com.writingfuture.where2

*   苹果账号：467311933

*   类型：iOS应用

*   版本：2.0.1

*   状态：待售

*   创建日期：2012 年 12 月 4 日

*   发布日期：2012 年 12 月 10 日

* * *

我不知道为什么我不能用这种方法查找我的应用程序。你们有什么想法吗？

提前致谢，

冠军

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-02-06T06:53:55.203

看起来您的应用仅在泰国店面提供 - 因此查找应在基本查找 URL 中包含国家/地区代码：

*   [http://itunes.apple.com/th/lookup?bundleId=com.writingfuture.where2](http://itunes.apple.com/th/lookup?bundleId=com.writingfuture.where2)

使用 bundleId 的替代方法是简单地通过 adamID 查找：

*   [http://itunes.apple.com/th/lookup?id=467311933](http://itunes.apple.com/th/lookup?id=467311933)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-09-24T10:15:23.240

如果您的应用仅在泰国可用，您应该在请求中添加有关国家/地区的信息

[http://itunes.apple.com/lookup?bundleId=com.writingfuture.where2&country=th](http://itunes.apple.com/lookup?bundleId=com.writingfuture.where2&country=th)

# matlab - 了解matlab中的循环

> ID：14640838
> 
> 赞同：2
> 
> 时间：2013-02-01T06:18:57.300
> 
> 标签：matlab, loops

以下代码在从每一行中选择一个随机数后减去容差。我在这里犯了一个小错误。我不想从过渡中减去对角线元素的容差。我该如何解决？任何帮助表示赞赏。

```
clear all;
close all;
clc;

tolerance= 0.01;

Transition = [0.06  0.47    0   0.47    0   0   0;
              0.47  0.06    0.47    0   0   0   0;
              0 0.47    0.06    0.47    0   0   0;
              0.47  0   0.47    0.037   0.023   0   0;
              0 0   0   0.023   0.037   0.47    0.47;
              0 0   0   0   0.47    0.06    0.47;
              0 0   0   0   0.47    0.47    0.06];
len=length(Transition);
Dij=Transition;
% Assigned status of all the sites at given time k
S_k= [0 1 1 1 1 0 0];
for i=1:7 
    while(1)
        sel=randi(7);
        if(Dij(i,sel)~=0)
            show(i)=sel;
            break;
        end
    end
    Dij(i,sel)=Dij(i,sel)-tolerance;
 end 
```

我想进行这个循环，直到非对角元素之一为零。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-01T08:01:56.257

如果我理解正确，那么您只需要更改此行

```
if(Dij(i,sel)~=0) 
```

包括它也不在对角线上的条件

```
if((Dij(i,sel) ~= 0) && (i ~= sel)) 
```

除非您仍然想在对角线上调用 show() 而只是不做减法，在这种情况下只需将该逻辑向下移动，即

```
 Dij(i,sel)=Dij(i,sel)-tolerance*(i ~= sel); 
```

但也只是多了一条评论。`while(1) break;`不是一个很好的构造。你可以只拥有`while(Dij(i, sel)~= 0)`and`Dij(i, sel) = 0`就在上面，并且根本不需要调用 break。

最后，我的理解是，如果所有列都为 0，你已经打开了一个无限循环。也许这永远不会发生，但只是需要考虑的事情。

# windows-phone-7 - how can we add background images to FullModeItemTemplate in listpicker wp7

> ID：14640840
> 
> 赞同：3
> 
> 时间：2013-02-01T06:19:18.167
> 
> 标签：windows-phone-7, windows-phone-7.1, listpicker

Is there any way to add backbround image to `FullModeItemTemplate` in `ListPicker` i want to implement this in my app

my xaml code is:

```
<toolkit:ListPicker x:Name="listPicker1" Grid.Row="0" ExpansionMode="ExpansionAllowed" HorizontalAlignment="Left" Margin="0,18,0,0" VerticalAlignment="Top" Width="300" FullModeHeader="Select City" Background="White" BorderBrush="White" Header="Select City">
            <toolkit:ListPicker.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Cities}" Width="250" />
                    </StackPanel>
                </DataTemplate>
            </toolkit:ListPicker.ItemTemplate>
            <toolkit:ListPicker.FullModeItemTemplate>
                <DataTemplate>
                        <TextBlock Text="{Binding Cities}" Width="300" Margin="0,0,0,20" FontSize="44"/>
                </DataTemplate>
            </toolkit:ListPicker.FullModeItemTemplate>
        </toolkit:ListPicker> 
```

thanks in advance

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-07T11:57:41.357

您可以在应用程序中从 Windows Phone 工具包创建 ListPickerPage.xaml 文件的副本，设置背景并将 tge PickerPageUri 属性设置为新页面。例如;

```
<toolkit:ListPicker 
   x:Name="ListPicker"
   ...
   PickerPageUri="/Controls/ListPickerPage.xaml"
/> 
```

# javascript - 对元素列表进行排序的排序技术

> ID：14640849
> 
> 赞同：-1
> 
> 时间：2013-02-01T06:20:09.650
> 
> 标签：javascript, jquery

我正在尝试使用 javascript/jquery 对元素列表进行排序。

但是这是第一次进行排序，这很好，但是如果我再次单击，它应该会转到未排序的视图。

这个过程应该像这样继续......

这是演示链接：

[`Sorting Demo`](http://jsfiddle.net/mvysZ/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:36:40.220

我认为下面的代码是您正在搜索的内容（在第一次单击时按升序排序，在下次单击时按逆序排序。）：

```
var sort_ascend= true;
    function sort() {
        var mylist = $('#sorting_list ul');
        var listitems = mylist.children('li').get();
        mylist.empty();
        if(sort_ascend){
            listitems.sort(function (a, b) {
                return $(a).text().toUpperCase().localeCompare($(b).text().toUpperCase());
            })
        }
        else{
            listitems.reverse(function (a, b) {
                return $(a).text().toUpperCase().localeCompare($(b).text().toUpperCase());
            })
        }
        sort_ascend = !sort_ascend;
        $.each(listitems, function (idx, itm) { mylist.append(itm); });
    } 
```

# c# - Decryption password using Salt in C#

> ID：14640851
> 
> 赞同：1
> 
> 时间：2013-02-01T06:20:23.013
> 
> 标签：c#, .net, encryption, saltedhash

Currently i am using salt to encrypt the password.

```
public static SaltedHash Create(string password) 
        {
            string salt = _createSalt();
            string hash = _calculateHash(salt, password);
            return new SaltedHash(salt, hash);
        }

private static string _createSalt() 
        {
            byte[] r = _createRandomBytes(SALT_LENGTH);
            return Convert.ToBase64String(r);
        }
private static byte[] _createRandomBytes(int len) 
        {
            byte[] r = new byte[len];
            new RNGCryptoServiceProvider().GetBytes(r);
            return r;
        }
private static string _calculateHash(string salt, string password) 
        {
            byte[] data = _toByteArray(salt + password);
            byte[] hash = _calculateHash(data);
            return Convert.ToBase64String(hash);
        }
private static byte[] _toByteArray(string s) 
        {
            return System.Text.Encoding.UTF8.GetBytes(s);
        }
private static byte[] _calculateHash(byte[] data) 
        {
            return new SHA1CryptoServiceProvider().ComputeHash(data);
        }
/// <summary>
        /// This method verifies a password from a SaltedHash class.
        /// <param name="password">The password to verity</param>
        /// <returns>Boolean</returns>
        /// </summary>
        public bool Verify(string password) 
        {
            string h = _calculateHash(_salt, password);
            return _hash.Equals(h);
        }
/// <summary>
        /// This method creates a SaltedHash object from a salt and hash value. 
        /// <param name="salt">Salt value</param>
        /// <param name="hash">Hash value</param>
        /// <returns>SaltedHash class</returns>
        /// </summary>
        public static SaltedHash Create(string salt, string hash) 
        {
            return new SaltedHash(salt, hash);
        } 
```

Now encryption is fine. Now using the same technique i want to decrypt the password.

How to do this ? Thanks.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-01T06:23:59.020

You are not *encrypting* the password, you are *hashing* it.

The idea of a hash is that it is a one-way function where it is computationally cheap to create a hash from original text, but computationally expensive to start with a hash and end up with plain text that would create that hash value.

Although there are various attacks to break SHA1 (your hash algorithm), there is no straightforward approach to "decrypt" the hashed value ("decrypt" in quotes means to find an input value that would correspond to the salted, hashed output value).

If you really do want to encrypt text, look into algorithms such as AES (also supported by the .NET framework).

# android - Error While connecting to SQL server in android application using eclipse

> ID：14640852
> 
> 赞同：1
> 
> 时间：2013-02-01T06:20:37.577
> 
> 标签：android, eclipse, sql-server-2008-r2

I am finding exception on `"conn = DriverManager.getConnection(connString, username, password);` Line.

```
public void query2() {
    Log.i("Android", " MySQL Connect Example.");
    Connection conn = null;
    try {
        String driver = "net.sourceforge.jtds.jdbc.Driver";
        System.out.println("*************inside class 1**************");
        Class.forName(driver).newInstance();

       // test = com.microsoft.sqlserver.jdbc.SQLServerDriver.class;
        System.out.println("*************inside class 2**************");
        String connString = "jdbc:jtds:sqlserver://localhost:1433;" +
                "DatabaseName=test;user=sa;password=sa1;";
        System.out.println("*************inside class 3**************");
        String username = "sa";
        String password = "sa1";
        conn = DriverManager.getConnection(connString, username, password);
        Log.w("Connection", "open");
        Statement stmt = conn.createStatement();
        ResultSet reset = stmt.executeQuery("select * from titles");

        // Print the data to the console
        while (reset.next()) {
            Log.w("Data:", reset.getString(3));
            // Log.w("Data",reset.getString(2));

        }
        conn.close();

    } catch (Exception e) {
        Log.w("Error connection", "" + e.getMessage());
    }
} 
```

My Log cat display:

```
 02-01 06:42:36.845: I/Android(1187):  MySQL Connect Example.
  02-01 06:42:39.365: I/System.out(1187): *************inside class 1**************
  02-01 06:42:40.843: I/System.out(1187): *************inside class 2**************
  02-01 06:42:42.396: I/System.out(1187): *************inside class 3**************
  02-01 06:42:45.220: D/dalvikvm(1187): GC_CONCURRENT freed 161K, 10% free 2606K/2888K, paused 74ms+72ms, total 233ms
  02-01 06:43:00.970: W/Error connection(1187): null 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:59:43.227

您的连接字符串看起来格式不正确。MySQL 默认端口也是 3306。除非您更改端口号，否则您应该使用 3306。从 Connstring 中提取用户名和密码。如果您正在使用

```
getConnection (ConnStr, User, Password) 
```

你不需要在 conn 字符串中设置它，因为你在调用中传递它。

试试这个 conn 字符串，它是裸露的，但应该连接。确保使用 getConnection 并传入用户名/密码

```
jdbc:jtds:sqlserver://localhost:3306/test 
```

如果这不起作用，您将需要向 Logcat 输出更多信息和错误。看[这里](http://developer.android.com/tools/debugging/debugging-log.html)了解如何使用 Logcat。您的帖子中的 Logcat 中没有任何错误消息，只有 Info 和 Warning

# android - How to reposition objects in Android layout?

> ID：14640857
> 
> 赞同：0
> 
> 时间：2013-02-01T06:21:08.557
> 
> 标签：android

I've added two controls, say Text Box.

But it is added side by side.

I want to move the objects, like in Visual Studio.

Can anyone help me how to do it?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:30:48.360

您可以使用相对布局来放置您的视图，以便您可以将它们可变地放置，例如左侧、右侧、上方、下方、对齐等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:31:40.247

你想要一个高于另一个？试试RelativeLayout，你可以指定layout_below。

# magento - How to get oauth_access token and secret in Magento 1.7

> ID：14640858
> 
> 赞同：0
> 
> 时间：2013-02-01T06:21:13.657
> 
> 标签：magento, rest, magento-1.7

I'm new to Magento. I want to make connection to Magento using REST API. I've founded Consumer Key & Consumer Secret. But I don't know how to find oauth_access token & secret in Magento 1.7.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-08T22:44:01.690

请使用消费者密钥和消费者秘密创建一个初始呼叫，Magento 将使用 URL 进行应答，您将在其中找到所需的数据。

请看这个答案：[How to get Access Token and Access Token Secret from Magento 1.7 REST API](https://stackoverflow.com/questions/13263343/how-to-get-access-token-and-access-token-secret-from-magento-1-7-rest-api)

# ios - 通过蓝牙发送联系人

> ID：14640866
> 
> 赞同：0
> 
> 时间：2013-02-01T06:22:15.920
> 
> 标签：ios, iphone, xcode

您好，我想知道如何通过蓝牙将联系人发送到另一台设备。我使用了此代码，但它来自图像。我只是想知道如何发送联系人。

[https://github.com/unixpickle/ImageTransfer](https://github.com/unixpickle/ImageTransfer)

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:15:18.733

看[Apple Doc的Project BTLE Transfer Bluetooth](http://developer.apple.com/library/ios/#samplecode/BTLE_Transfer/Introduction/Intro.html)

这是一个演示项目，可以将您在外围设备上写入的任何文本传输到中央设备。

以同样的方式，您可以使用编码传输您的联系人代替文本

我希望这能解决你的问题。

# c# - 如何在设置页面中设置列表选择器并从独立存储设置中存储和检索值？（内部描述）

> ID：14640867
> 
> 赞同：3
> 
> 时间：2013-02-01T06:22:27.770
> 
> 标签：c#, windows-phone-7, xaml, windows-phone-8

我不明白我是如何在列表选择器中出错并将值保存在 IsolatedStorageSettings 中的，

我试过了，

设置.cs

```
 // Our isolated storage settings
    IsolatedStorageSettings isolatedStore;

    // The isolated storage key names of our settings
    const string ListPickerSettingKeyName = "ListPickerSetting";

    // The default value of our settings
    const int ListPickerSettingDefault = 0;

    /// <summary>
    /// Constructor that gets the application settings.
    /// </summary>
    public Settings()
    {
        try
        {
            // Get the settings for this application.
            isolatedStore = IsolatedStorageSettings.ApplicationSettings;

        }
        catch (Exception e)
        {
            Debug.WriteLine("Exception while using IsolatedStorageSettings: " + e.ToString());
        }
    }

    /// <summary>
    /// Property to get and set a ListPicker Setting Key.
    /// </summary>
    public int ListPickerSetting
    {
        get
        {
            return GetValueOrDefault<int>(ListPickerSettingKeyName, ListPickerSettingDefault);
        }
        set
        {
            AddOrUpdateValue(ListPickerSettingKeyName, value);
            Save();
        }
    }

    /// <summary>
    /// Get the current value of the setting, or if it is not found, set the 
    /// setting to the default setting.
    /// </summary>
    /// <typeparam name="valueType"></typeparam>
    /// <param name="Key"></param>
    /// <param name="defaultValue"></param>
    /// <returns></returns>
    public valueType GetValueOrDefault<valueType>(string Key, valueType defaultValue)
    {
        valueType value;

        // If the key exists, retrieve the value.
        if (isolatedStore.Contains(Key))
        {
            value = (valueType)isolatedStore[Key];
        }
        // Otherwise, use the default value.
        else
        {
            value = defaultValue;
        }

        return value;
    }

    /// <summary>
    /// Save the settings.
    /// </summary>
    public void Save()
    {
        isolatedStore.Save();
    } 
```

在我的 MainPage.xaml 中，

```
 <toolkit:ListPicker Name="lstSetting" SelectionMode="Single" Foreground="DarkBlue" SelectedIndex="{Binding Source={StaticResource Settings}, Path=ListPickerSetting, Mode=TwoWay}" >
                        <toolkit:ListPickerItem Content="item1" />
                        <toolkit:ListPickerItem Content="item2" />
                    </toolkit:ListPicker> 
```

当所选索引为1时，实际问题是未显示item2，

请有人告诉我如何在所选索引中显示所选项目。. .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T15:10:03.493

看起来路径与属性名称不匹配。不`Path=Setting`应该`Path=ListPickerSetting`取而代之吗？

此外，设置需要实现[INotifyPropertyChanged](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged%28v=vs.95%29.aspx)以便当属性更改时，控件将知道它需要获取新值。

# javascript - YQL Unexpected Token Illegal error

> ID：14640871
> 
> 赞同：1
> 
> 时间：2013-02-01T06:22:41.737
> 
> 标签：javascript, yql

I am trying to scrape the rss feed of vimeo using YQL, here is [link to my code on jsbin](http://jsbin.com/udagis/1/edit)

But I keep on getting the folowing error in the console

```
Uncaught SyntaxError: Unexpected token ILLEGAL 
query.yahooapis.com/v1/public/yql?q=%20SELECT%20*%20FROM%20rss%20WHERE%20ur…channels%2Fstaffpicks%2Fvideos%2Frss%22&format=json&callback=top_stories:1 
```

I am following the [yql documentation given here](http://developer.yahoo.com/yql/guide/yql-tutorials.html#), and have double checked everything. [Here is the link to a sample code given in the yql documentation](http://jsbin.com/idoyid/1/edit), which works fine.

Need help figuring out what is the error.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-02T01:31:20.300

之后有一个额外的空间`q=`。尝试删除 %20。[在此处](http://query.yahooapis.com/v1/public/yql?q=SELECT%20%2a%20FROM%20rss%20WHERE%20url=%22http://vimeo.com/channels/staffpicks/videos/rss%22&format=json&callback=top_stories)尝试相同的查询，删除空格。

# r - 如何使用 ggplot 创建多面线图？

> ID：14640872
> 
> 赞同：25
> 
> 时间：2013-02-01T06:22:46.107
> 
> 标签：r, ggplot2, curve, facet

我有一个使用此代码创建的数据框：

```
require(reshape2)
foo <- data.frame( abs( cbind(rnorm(3),rnorm(3, mean=.8),rnorm(3, mean=.9),rnorm(3, mean=1))))
qux <- data.frame( abs( cbind(rnorm(3),rnorm(3, mean=.3),rnorm(3, mean=.4),rnorm(1, mean=2))))
bar <- data.frame( abs( cbind(rnorm(3,mean=.4),rnorm(3, mean=.3),rnorm(3, mean=.9),rnorm(3, mean=1))))

colnames(foo) <- c("w","x","y","z")
colnames(qux) <- c("w","x","y","z")
colnames(bar) <- c("w","x","y","z")

rownames(foo) <- c("n","q","r")
rownames(qux) <- c("n","q","r")
rownames(bar) <- c("n","q","r")

foo <- cbind(ID=rownames(foo),foo)
bar <- cbind(ID=rownames(bar),qux)
qux <- cbind(ID=rownames(bar),qux)

foo$fn <- "foo"
qux$fn <- "qux"
bar$fn <- "bar"

alldf<-rbind(foo,qux,bar)
alldf.m <- melt(alldf) 
```

我想要做的是创建一个*刻面*`ggplot`格式的线曲线，所以它会创建一个像这样的图形：

 *![在此处输入图像描述](../Images/86181176a474d4a8c615bae375d1f5a9.png)

实际的图表不包含向上的线 - 这只是一个草图，以便线条分离清晰。

我当前的代码不起作用：

```
 library(ggplot2)
    p <- ggplot(data=alldf.m, aes(x=variable)) + 
           geom_line(aes(colour=ID),alpha=0.4)
    p <- p + facet_wrap( ~ fn)
    p 
```

最好的方法是什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-01T06:28:31.630

试试这个：

```
ggplot(data=alldf.m, aes(x=variable, y = value, colour = ID, group = ID)) + 
  geom_line() + facet_wrap(~fn) 
```

![在此处输入图像描述](../Images/c7af8c0168802568082020d63f8acf16.png)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-01T06:45:02.187

即使是 ggplot2 也是 OP 需要的，但我认为这个例子也适用于`lattice`：

```
library(lattice)
xyplot(data=alldf.m, value~variable|fn, type ='b', groups = ID, auto.key = T) 
```

![在此处输入图像描述](../Images/3faa5aa01296e901d022d65fafb2e4ca.png)

并使用 `latticeExtra`我们可以得到一些`ggplot2`解决方案：

```
 p <-  xyplot(data=alldf.m, value~variable|fn, type ='b', groups = ID, auto.key = T)
 update(p , par.settings = ggplot2like()) 
```

![在此处输入图像描述](../Images/dec04cb27e55e4d3a2596570d2d8d4bd.png)*

# mysql - SQL如何根据给定条件进行选择？

> ID：14640873
> 
> 赞同：1
> 
> 时间：2013-02-01T06:22:50.443
> 
> 标签：mysql, sql, database

假设我们有这样的时间表

```
course    day

  A       MONDAY

  A       WEDNESDAY

  B       MONDAY

  C       WEDNESDAY 
```

我的问题是，我如何选择周一和周三的课程？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T07:31:59.153

这种类型的问题称为关系除法。

```
SELECT  course
FROM    tableName
WHERE   day IN ('Monday', 'Wednesday')
GROUP   BY course
HAVING  COUNT(*) = 2 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/4d956/1)

该解决方案比使用连接灵活得多，因为即使您有其他条件，查询的结构也不会改变。*如果要搜索三个值怎么办？你会提供另一个加入吗？*那么在这个查询中，只有值会改变，

*   [SQLFiddle Demo（*搜索三个值*）](http://sqlfiddle.com/#!2/3f054/1)

其他来源：

*   [关系划分的SQL](http://www.simple-talk.com/sql/t-sql-programming/divided-we-stand-the-sql-of-relational-division/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:32:38.927

[用于示例查询执行的小提琴链接](http://sqlfiddle.com/#!4/19681/4/0)

```
create table schedule (course varchar2(10),day varchar2(20));
insert into schedule values('A','MONDAY');
insert into schedule values('A','WEDNESDAY');
insert into schedule values('B','MONDAY');
insert into schedule values('C','WEDNESDAY');

select s1.course
 from 
  schedule s1,schedule s2 
 where 
  s1.course=s2.course 
 AND
  s1.day='MONDAY'
 AND
  s2.day='WEDNESDAY'; 
```

**输出**

```
| COURSE |
----------
|      A | 
```

# html - 网页浏览与页面卷曲动画 ios

> ID：14640878
> 
> 赞同：0
> 
> 时间：2013-02-01T06:23:44.697
> 
> 标签：html, ios, uiwebview, uipageviewcontroller, page-curl

我有一个包含一些数据的html文件，因为我在webview中显示这个用户必须向下滚动才能查看信息，我想知道我是否可以提供页面卷曲动画来查看html的内容所以让用户更容易通过在页面之间滑动来阅读信息，

我应该使用 pageviewcontroller 吗？还是有任何其他库可以让我对自定义（webview）产生页面卷曲效果？我该如何进行？是否可以在一个页面上显示一些 html 信息，然后用户转到下一页？我如何实现这一点，它是一个 html 文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:21:41.757

如果您想要那种分页，那么也许您可以尝试叶子库[https://github.com/brow/leaves](https://github.com/brow/leaves)您可以使用它来分页各种 UIWebView 正如您在叶子示例中看到的那样，您必须渲染页面在 renderPageAtIndex 中。然后你可以使用类似的东西：

```
- (void) renderPageAtIndex:(NSUInteger)index inContext:(CGContextRef)ctx { 
```

CGSize 屏幕尺寸 = CGSizeMake(320,480);

UIGraphicsBeginImageContext(screensize); CGContextRef 上下文 = UIGraphicsGetCurrentContext(); CGFloat scalingFactor = screensize.width/webView.frame.size.width; CGContextScaleCTM(context, scalingFactor,scalingFactor);

[webView.layer renderInContext: ctx]; }

您必须先加载 webview。

# api - 有foursquare开发者路线图吗？

> ID：14640885
> 
> 赞同：0
> 
> 时间：2013-02-01T06:24:16.777
> 
> 标签：api, foursquare

我只是想知道foursquare是否有开发者路线图。我们正在使用foursquare api开发一个应用程序，当foursquare api发生变化时，我们不想破坏它的功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T17:05:32.650

为确保未来 Foursquare API 更改不会破坏您的应用程序，请确保为您的所有 API 请求提供[版本参数。](https://developer.foursquare.com/overview/versioning)此参数是您提供的日期，基本上表示“使用在该日期运行的 API 版本”。现在，如果 API 确实发生了变化，您的应用程序将从以前版本的 API 获得结果，并且您有足够的时间过渡到新版本。

一般来说，您可以通过关注 Foursquare[工程博客](http://engineering.foursquare.com/)和[@foursquareAPI](https://twitter.com/foursquareAPI)来保持最新状态。开发者网站上还有一个[变更日志](https://developer.foursquare.com/docs/changelog)。

# jquery - Grails Datepicker Onchange 事件

> ID：14640886
> 
> 赞同：1
> 
> 时间：2013-02-01T06:24:20.440
> 
> 标签：jquery, grails

我需要在 grails datepicker 中使用 onchange 事件，但简单地使用 onchange 事件在日期选择器中不起作用。

这是代码：

```
<td>g:datePicker name="A"precision="month"years="${(startDate.getAt(Calendar.YEAR))..
(EndDate?.getAt(Calendar.YEAR))}"  value="${FIRst}"</td> 
```

我需要为上面的代码添加 onchange 事件。我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:48:18.940

我建议你使用 jquery 来做到这一点。因为 g:datepicker 会分成不同的部分，在你的情况下 2 选择（月份和年份）。IE：

```
$(document).ready(function() {
$('#A_month').live('change', function() {
 ...your code here....
});

$('#A_year').live('change', function() {
 ...your code here....
});
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:54:26.850

我们在我们的应用程序中遇到了类似的问题并使用了[日历插件](http://www.grails.org/plugin/calendar)。除了允许 javascript onChange 之外，用户体验也更好。安装插件并使用它的 datePicker 标签，如：

```
<calendar:datePicker name="myDatePicker" dateFormat="%m/%d/%Y" value='${Date.parse("MM/dd/yyyy",myHistory?.myDate)}'  onChange="setMyDate(this.value);"/> 
```

如果您不能使用该插件，则通过您自己的 taglib 渲染 g:datePicker，如下所示：

```
def customDatePicker = {
    def dateP = g.datePicker(name:'test')
    dateP = dateP.replaceAll("<select ", "<select onChange='javascript:alert(10000)' ")
    out << dateP
} 
```

# asp.net-mvc - 我怎样才能安装mvc4

> ID：14640892
> 
> 赞同：2
> 
> 时间：2013-02-01T06:25:00.327
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-mvc-2, asp.net-mvc-4

我的机器上安装了 Visual Studio 2010 和 mvc2。现在我想安装 mvc4。我怎样才能做到这一点..

我尝试安装 mvc3 和 mvc4。但两次尝试都失败了。除了 mvc3.setup 和 mvc4.setup 之外，我还需要下载和安装任何东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-04-01T16:31:36.447

在 Visual Studio 中安装 ASP.NET MVC 首先去这个链接[https://www.asp.net/mvc/mvc4?ocid=soc-n-at-loc--TI-TP&WT.mc_id=soc-n-at- loc--TI-TP](https://www.asp.net/mvc/mvc4?ocid=soc-n-at-loc--TI-TP&WT.mc_id=soc-n-at-loc--TI-TP)并安装您正在使用的版本，如 Visual Studio 2012，您将获得该版本的 MVC 4 祝您好运

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:55:43.447

您可以从此处下载独立安装程序：http: [//www.microsoft.com/en-us/download/details.aspx?id=30683](http://www.microsoft.com/en-us/download/details.aspx?id=30683)

确保在运行 MVC 安装程序之前为 Visual Studio 2010 安装了 SP1。

您无需安装 ASP.NET MVC 3 即可安装 ASP.NET MVC 4。它还可以与 ASP.NET MVC 1 和 2 一起工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T13:47:37.213

您可以使用此链接[http://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC4VS2010_Loc](http://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC4VS2010_Loc)您可以在[http://www.asp.net/mvc/mvc4](http://www.asp.net/mvc/mvc4)中找到该链接并将安装它使用网络平台安装程序（更容易）。

# asp.net - 日期格式的正则表达式：dd-mm-yyyy

> ID：14640893
> 
> 赞同：-3
> 
> 时间：2013-02-01T06:25:13.587
> 
> 标签：asp.net

我想检查必须`dd-mm-yyyy`使用正则表达式格式的日期，它还必须检查闰年日期。

我`RegularExpressionValidator`用来检查日期。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-29T18:18:23.663

试试这个。这个对我有用！

```
ValidationExpression="(^((((0[1-9])|([1-2][0-9])|(3[0-1]))|([1-9]))-(((0[1-9])|(1[0-2]))|([1-9]))-(([0-9]{2})|(((19)|([2]([0]{1})))([0-9]{2}))))$)" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:54:06.473

试试这个正则表达式 -

```
^(((((0[1-9])|(1\d)|(2[0-8]))-((0[1-9])|(1[0-2])))|((31-((0[13578])|(1[02])))|((29|30)-((0[1,3-9])|(1[0-2])))))-((20[0-9][0-9]))|(29-02-20(([02468][048])|([13579][26]))))$ 
```

[从这里](http://www.regexlib.com/?AspxAutoDetectCookieSupport=1)得到它

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-05-29T18:29:10.543

此正则表达式还处理闰年：

> ^(((0[1-9]|[12]\d|3[01])/(0[13578]|1[02])/((19|[2-9]\d)\d{ 2}))|((0[1-9]|[12]\d|30)/(0[13456789]|1[012])/((19|[2-9]\d)\d{ 2}))|((0[1-9]|1\d|2[0-8])/02/((19|[2-9]\d)\d{2}))|(29 /02/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048] ]|[3579][26])00))))$

比赛
[29/02/2000]、[30/04/2003]、[01/01/2003]

不匹配
[29/02/2001]、[30-04-2003]、[1/1/1899]

您也可以查看此链接： http: [//www.codeproject.com/KB/aspnet/LengthValidation.aspx](http://www.codeproject.com/KB/aspnet/LengthValidation.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T06:40:05.353

您可以使用**javascript**检查闰年[以获取更多信息](https://stackoverflow.com/questions/8175521/javascript-to-find-leap-year)

```
isLeap = new Date(year, 1, 29).getMonth() == 1 
```

**正则表达式**

```
^(?:^(?:(?:(?:(?:(?:0?[13578]|1[02])/31)|(?:(?:0?[13-9]|1[0-2])/(?:29|30)))/(?:1[6-9]|[2-9]\d)\d{2})|(?:0?2/29/(?:(?:(?:1[6-9]|[2-9]\d)(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))|(?:(?:0?[1-9])|(?:1[0-2]))/(?:0?[1-9]|1\d|2[0-8])/(?:(?:1[6-9]|[2-9]\d)\d{2}))$)$ 
```

这些允许但不需要在个位数的月份/天数中使用前导零。如果您不希望这样，请替换 0 的所有实例？与 0。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-29T19:32:19.347

您可以使用[CustomValidator](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.customvalidator.aspx)并让客户端验证变得简单，并在服务器端使用 DateTime.TryParse 来获得明确的验证。虽然我怀疑你不需要你的代码一直工作到 9999 年（不，我不能立即看到提供的正则表达式是否能在很远的将来工作）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-01-11T18:05:27.400

来自 Microsoft DN，但已修改为与 20xx 和 19xx 年一起使用以用作 DOB

```
^(((((0[1-9])|(1\d)|(2[0-8]))/((0[1-9])|(1[0-2])))|((31-((0[13578])|(1[02])))|((29|30)-((0[1,3-9])|(1[0-2])))))/((((20[0-9][0-9]))|(29-02-20(([02468][048])|([13579][26]))))|(((19[0-9][0-9]))|(29-02-19(([02468][048])|([13579][26]))))))$ 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2018-12-31T14:07:01.273

**对于 dd/MM/yyyy 甲酸盐**

```
(((0|1)[0-9]|2[0-9]|3[0-1])\/(0[1-9]|1[0-2])\/((19|20)\d\d))$ 
```

# java - 从文本文件中读取字符

> ID：14640895
> 
> 赞同：-3
> 
> 时间：2013-02-01T06:25:17.847
> 
> 标签：java, search, char

我想从文本文件中搜索字符存在的时间。例如，一个文本文件包含

```
a bbb a abab bnbn 
```

我只想读a而不是a。我希望结果是：

a = 2

```
private void compute3() {
        String[] reservedWord = new String[] {"a", "b", "c", "d", "e", "f", "g", "h",
        "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C",
        "D", "E", "F", "G", "X", "Y", "Z"};
        ArrayList<String> cntStr = new ArrayList<String>();
         int cnt=0;
         int cnt3=0;
            try {
        FileInputStream fis = new FileInputStream(chooser.getSelectedFile());
        BufferedReader br = new BufferedReader(new InputStreamReader(fis));

        while(br.ready()){

                    StringTokenizer st = new StringTokenizer(br.readLine(), " ");

                    while(st.hasMoreTokens()){
                        String txt = st.nextToken();
                        for(cnt = 0;cnt<reservedWord.length;cnt++){
                            if(txt.contains(reservedWord[cnt])){
                                cntStr.add(reservedWord[cnt]);

                            }
                        }
                    }

                }

        br.close();

                int cnt2;
                ArrayList<String> counterPerWord = new ArrayList<String>();
                int counter = 0;

                for(cnt = 0;cnt<reservedWord.length;cnt++){

                    counter = 0;

                    for(cnt2 = 0;cnt2<cntStr.size();cnt2++){

                        if(reservedWord[cnt].equals(cntStr.get(cnt2))){

                        counter++;
                        }

                    }
                    //counter which is int becomes String
                    counterPerWord.add(counter + "");
                }

                cnt = 0;
                int N2 = 0;
                int n2 = 0;
                while(cnt!=counterPerWord.size()){
                    jTextArea6.append(reservedWord[cnt] + " = " + counterPerWord.get(cnt) + "\n");
                    System.out.println(reservedWord[cnt] + " = " + counterPerWord.get(cnt));
                    N2 = N2 + Integer.parseInt(counterPerWord.get(cnt));
                    cnt++;

                }

                   if(n2 >= 1){
                       n2++;
                   }

                //N1 = N1 * 2;
                jTextField7.setText("" + N2 + "");
                System.out.println("N2: " + N2);
                System.out.println("");
                jTextField5.setText("" + n2 + "");
               //System.out.println("n1:" + n1);

            } catch (Exception e) {
            e.printStackTrace();

    }} 
```

它还从单词中获取其他字符。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:48:40.127

```
public static void main(String[] args) throws Exception {
    FileReader fr = new FileReader("test.txt");// your file path
    BufferedReader br = new BufferedReader(fr);
    String line = "";
    String singleChar = ""; // to store single length character

    while ((line = br.readLine()) != null) {
        String[] tokens = line.split(" ");
        for (int i = 0; i < tokens.length; i++) {
            if (tokens[i].trim().length() == 1) {
                singleChar = singleChar + tokens[i]; // storing single
                // length character
            }
        }

    }
    char[] charArray = singleChar.toCharArray();// converting singleChar to
    // char Array.

    Map<Character, Integer> map = new HashMap<Character, Integer>(); // Map
    // to store character and its frequency.
    for (int i = 0; i < charArray.length; i++) {
        if (Character.isAlphabetic(charArray[i])) { // checking the given
            // character is alphabet . Its means it will not count digits or
            // anything other that alphabet.
            Integer count = map.get(charArray[i]); // if not in map
            if (count == null)
                map.put(charArray[i], 1);
            else
                map.put(charArray[i], count + 1);
        }
    }

    for (Map.Entry<Character, Integer> entry : map.entrySet())
        // Iterating over map and printing character and its frequency
        System.out.println("Character is " + entry.getKey()
                + " and its count is" + entry.getValue());

} 
```

Text in file(Input):

```
a bbb a abab bnbn a a b b A A B B 1 1 2 2 
```

Output:

```
Character is b and its count is2
Character is A and its count is2
Character is B and its count is2
Character is a and its count is4 
```

Try this . I think this is what you exactly want.

# mysql - mysql 行顺序重新计算

> ID：14640899
> 
> 赞同：0
> 
> 时间：2013-02-01T06:25:40.503
> 
> 标签：mysql

假设我们有表格：

```
announces_id    announces_pos   announces_title 
```

如何通过单个查询重新计算所有announces_pos？示例：将 id 2 上的announces_pos 设置为 3，应重新计算所有下一行（announces_pos > 3）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:33:06.577

你需要老位置。比将新旧位置之间的所有位置加 1。

```
DO @old_pos:=announces_pos FROM announces WHERE announces_id = 2;
UPDATE announces SET announces_pos = IF(announces_id = 2, 3, announces_pos + 1) WHERE announces_pos BETWEEN 3 AND @old_pos; 
```

# nfc - pn532卡仿真模式和pn532虚拟卡模式

> ID：14640900
> 
> 赞同：2
> 
> 时间：2013-02-01T06:25:42.050
> 
> 标签：nfc

## pn532卡仿真模式

我想知道 pn532 卡 emultion 。我成功运行“iso 14443-4A 仿真模式”，但它没有像 mifare card 这样的数据块。我怎样才能制作块数据？什么框架运行“mifare经典卡模式”。在 samconfiguration 的虚拟卡模式下，我如何获得 sam（安全访问模块）？我有 arduino mega adk 和 nfc shield v1.0 (pn532)。在这种情况下，如何将“sam”连接到 nfc shield (pn532)？. 请帮我 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-12T00:55:12.610

您可以将 PN532 用作可以包含 NDEF 消息（块数据？）的 NFC 标签 4 卡。如果您使用 Arduino，[https://github.com/Seeed-Studio/PN532](https://github.com/Seeed-Studio/PN532)适合您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T15:53:58.930

我相信如果配置正确，PN532 可以使用与 SWP/HCI 协议（单线连接，ETSI TS 102 603、102 622）兼容的智能卡执行卡仿真。

如果您可以获得支持此协议的示例测试卡，并且您知道其密钥，那么您可以进行 APDU (ISO 14443-4) 卡仿真。

# iphone - 使用 drawrect 的自定义 UITableViewCell 的选定状态（带动画）

> ID：14640906
> 
> 赞同：3
> 
> 时间：2013-02-01T06:26:15.287
> 
> 标签：iphone, ios, core-graphics

我正在尝试确定将 drawRect 用于下图中的单元格的最佳方法，并且仍然在选定和非选定状态之间进行动画处理：

![自定义 UITableViewCell](../Images/bd16885b93948e1f62b649431a8fb3ae.png)

我已经看到了一些建议，其中最先进的似乎是[这个](http://blog.giorgiocalderolla.com/2011/04/16/customizing-uitableviewcells-a-better-way/)：

但它仍然看起来很老套，所以我不太喜欢它。感觉必须有一个更清洁的方法。

我想另一种选择可能是有两个不同的 UIView，一个绘制未选中状态，一个绘制选中状态（后者可能是前者的子类，绘制矩形略有不同。）然后你可以添加两者那些内容视图，并在它们之间隐藏/淡入淡出？那不会很好地支持编辑模式或配件，但也许没关系？

或者，也许您遵循相同的方法，但分别将它们粘贴到 backgroundView 和 selectedBackgroundView 中？

或者，如果您尊重这种单元格结构，也许您真的只将背景（我猜上图中的棕褐色）绘制到 backgroundView 中，将较深的棕褐色绘制到 selectedBackgroundView 中，并在添加到 contentView 的子类 uiview 中绘制其他所有内容？但是然后你在几个不同的地方绘图（我想创建你自己的上下文），并且仍然会遇到文本/装饰图像没有动画的问题，假设这些改变了颜色。

那么这里的答案是什么？

# java - sqlitejdbc在哪里下载？

> ID：14640907
> 
> 赞同：39
> 
> 时间：2013-02-01T06:26:18.237
> 
> 标签：java, sqlite, jakarta-ee, jdbc

我在 SQLite 官方网站上找到了下载[URL](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)`http://www.zentus.com/sqlitejdbc`，. 但是使用此链接会导致：

> 404 未找到。

sqlitejdbc 有什么问题？我在哪里可以找到官方网站？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-07-15T14:41:17.443

**原帖：** 他们已经从 Google Code 转移到了 BitBucket。这是 BitBucket 回购：[https ://bitbucket.org/xerial/sqlite-jdbc](https://bitbucket.org/xerial/sqlite-jdbc)

**2015 年 8 月 13 日更新：** 现在他们去了 GitHub： [https ://github.com/xerial/sqlite-jdbc](https://github.com/xerial/sqlite-jdbc)

我留下了 bitbucket 链接，因为那里有大量的项目信息，即使代码已移至 git hub。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-01T06:47:26.103

You can download it from [here](http://code.google.com/p/sqlite-jdbc/) or from [here](https://docs.google.com/file/d/0B_fr-xSMZrJMODgzOTdjYTEtYjQwNy00YTE1LTkzZDktM2NmZjAxYjQ3OTAx/edit?authkey=CJ3zrpUP&num=50&sort=name&layout=list&pli=1#)

# java - Hibernate OneToMany 映射 - 实体集在哪里保存？

> ID：14640917
> 
> 赞同：2
> 
> 时间：2013-02-01T06:26:45.643
> 
> 标签：java, hibernate, orm, hibernate-annotations

我有两个名为`Customer`和的实体类`Activity`。

`Customer`有`customerId`, `customerName`,`activities`这里`activities`持有一组`Activity`对应于每个`Customer`映射`@OneToMany(mappedBy = "customer")`关系。

该类`Customer`的定义如下（为了清楚起见，我删除了其他字段和一些 getter 和 setter）：

```
@javax.persistence.Entity
@Table(name = "CUSTOMER")
public class Customer extends Entity {

    private String customerId;
    private String customerName;
    private Set<Activity> activities;

    @NaturalId
    @Column(name = "CUSTOMER_ID", nullable = false)
    public String getCustomerId() {
        return customerId;
    }

    @Column(name = "CUSTOMER_NAME", nullable = false)
    public String getCustomerName() {
        return customerName;
    }

    @OneToMany(mappedBy = "customer", fetch = FetchType.LAZY)
    @Cascade(CascadeType.SAVE_UPDATE)
    public Set<Activity> getActivities() {
        return activities;
    }
} 
```

`Activity`有`activityId`, `activityName`,`customer`由`customerId`with`@ManyToOne`关系映射。

`Activity`类定义如下：

```
@javax.persistence.Entity
@Table(name = "ACTIVITY")
public class Activity extends Entity {

    private String activityId;
    private String activityName;
    private Customer customer;

    @NaturalId
    @Column(name = "ACTIVITY_ID", nullable = false)
    public String getActivityId() {
        return activityId;
    }

    @Column(name = "ACTIVITY_NAME", nullable = false)
    public String getActivityName() {
        return activityName;
    }

    @ManyToOne
    @JoinColumn(name = "CUSTOMER_ID", nullable = false)
    public Customer getCustomer() {
        return customer;
    }
} 
```

在保存一个新的之前`Activity`，我将它添加`Activity`到`activities`集合中`Customer`。

我想知道：

*   哪里得救了`activities`？`Customer`
*   两个实体的更新和删除操作将如何相互影响？
*   `@OneToMany`这是建立和`@ManyToOne`建立关系的正确方式吗？
*   我可以添加列名`activities`吗？

我是hibernate的初学者，任何指针都会对我很有帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:05:30.700

**- 客户的活动在哪里得到保存？**

它们不会在数据库中的任何地方保存为“客户的活动”。当需要客户的活动时，使用`customer_id`列上的连接查询将它们与客户一起加载，或者稍后加载（延迟加载）使用过滤`customer_id`列的单独查询。

**- 两个实体的更新和删除操作将如何相互影响？**

删除活动不会影响客户，但下次加载活动时，删除的活动将不再是集合的一部分。

如何使用 cascade 属性定义客户活动的删除`@ManyToOne`，例如：

`@OneToMany(mappedBy = "customer", cascade = CascadeType.REMOVE)`

基本上，所需的行为取决于活动是否可以在没有客户的情况下独立存在：如果是，则可以删除客户，并且`customer_id`可以在活动表上将该字段设置为 null。否则，属于客户的活动将被“级联删除”。或者在一个客户首先删除其所有活动之前无法删除客户。

**- 创建@OneToMany 和@ManyToOne 关系的方法是否正确？**

是的，这是正确的。

**- 我可以在活动上添加列名吗？**

不，这没有任何意义。一列只能包含一个 ID，活动是一个集合。

我希望这有帮助。

# php - 有什么问题或抛出新异常？

> ID：14640918
> 
> 赞同：11
> 
> 时间：2013-02-01T06:26:46.700
> 
> 标签：php, exception, throw, parse-error

我在`public function __construct()`a中使用此代码`class`：

```
$this->mConnection = mysql_connect(BASE_DB_HOST,BASE_DB_USER,BASE_DB_PASS) or throw new Exception("Couldn't connect to database."); 
```

`BASE_DB_HOST`,`BASE_DB_USER`并且`BASE_DB_PASS`被定义。我收到以下错误：

> **解析错误：语法错误，第****6**行**/home/...**中的意外 T_THROW

 **我不允许使用`or`带有例外的构造吗？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-01T06:30:45.953

尝试像这样使用，让我知道它是否适合你-

```
<?php
function throwException() {
    throw new Exception("Couldn't connect to database.");
}

$this->mConnection = mysql_connect(BASE_DB_HOST,BASE_DB_USER,BASE_DB_PASS) OR throwException();
?> 
```

参考 - [http://www.php.net/manual/en/language.exceptions.php#81960](http://www.php.net/manual/en/language.exceptions.php#81960)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-23T03:47:57.663

`or`另一种方法是在逻辑运算符之后在匿名函数中抛出异常。

```
$this->mConnection = mysql_connect(BASE_DB_HOST,BASE_DB_USER,BASE_DB_PASS) or call_user_func(function() { throw new Exception("Couldn't connect to database."); }); 
```**

# rest - 如何使用 camel-cxf 在 RESTful Web 服务中调用方法？

> ID：14640924
> 
> 赞同：0
> 
> 时间：2013-02-01T06:27:35.673
> 
> 标签：rest, apache-camel, cxfrs

我想使用 apache camel 调用休息服务。目前我正在使用 cxfrs 组件来配置我的端点。我的路线如下所示：

```
from("cxfrs://http://127.0.0.1:8080/RestServiceApp/?resourceClasses="com.sample.Server.HelloWorld").log("Route Started"); 
```

我的问题是我想调用服务器类中存在的方法（在我的例子中是 HelloWorld）。您能告诉我如何调用特定方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:39:51.093

Camel 不调用资源类方法。从 Camel 网站[http://camel.apache.org/cxfrs.html](http://camel.apache.org/cxfrs.html)上的文档：

> 此类仅用于配置 JAXRS 属性。在将消息路由到端点期间不会执行这些方法，而是由路由本身负责所有处理。

您需要编写一个自定义的处理逻辑，例如如下：

```
<from uri="cxfrs://http://127.0.0.1:8080/RestServiceApp/?resourceClasses="com.sample.Server.HelloWorld">
<choice>
    <when>
        <simple>${header.operationName} == 'operation1'</simple>
        <to uri="direct:operation1" />
    </when>
    <when>
        <simple>${header.operationName} == 'operation2'</simple>
        <to uri="direct:operation2" />
    </when>
    ....
</choice> 
```

# c# - 具有 N 位精度的十进制正则表达式

> ID：14640926
> 
> 赞同：0
> 
> 时间：2013-02-01T06:27:45.963
> 
> 标签：c#, asp.net, regex, asp.net-mvc-3

我想`decimal`在我的应用程序中验证以下范围内的a `MVC3`。

> **0.000000001 至 100.000000000**

这是`Regex`我尝试过的，但它不起作用：

> **(^100([.]0{1,9})?)$|(^\d{1,9}([.]\d{1,9})?)$**

```
 [RegularExpression(@"(^100([.]0{1,9})?)$|(^\d{1,9}([.]\d{1,9})?)$", 
   ErrorMessage ="Decimal value should be between 0.000000000 to 100.000000000")]
  [Range(0, 100, ErrorMessage = " % must be between {1} and {2}")]
  [Display(Name = "Percentage:")]
  public double? Percentage { get; set; } 
```

谁能看到我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:40:16.250

在您的第二种选择中，您允许点前有 1 到 9 位数字。

```
(^100([.]0{1,9})?)$|(^\d{1,9}([.]\d{1,9})?)$
                           ^ 
```

将此更改为

```
^(100(\.0{1,9})?|\d{1,2}(\.\d{1,9})?)$ 
```

您仍然可以通过将分数移出交替来“简化”这一点

```
^(100|\d{1,2})(\.\d{1,9})?$ 
```

请注意，此表达式确实允许像“00.1”这样的前导零。

**[在 Regexr 上](http://regexr.com?33k97)查看**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:32:09.917

```
^(1\d\d|[1-9]\d|\d)\.\d{0,8}[1-9]$ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-02T00:55:27.700

```
^(?:(?:[1]\d)|(?:[1-9]))?\d\.\d{9}$ 
```

这将匹配您的范围。此外，它不会匹配小数点前双零的奇数情况，例如：00.000000000。因此，00.000000000 将不是有效数字。

如果你想要它在 0 的右边有可变的小数位，那么你可以使用类似的东西：

```
^(?:(?:[1]\d)|(?:[1-9]))?\d\.\d{1,9}$ 
```

编辑：句子措辞

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T06:43:08.383

这将是所需的正则表达式：

```
(\d|[1-9]\d)(\.\d{1,9})?|100(\.0{1,9})? 
```

在您的正则表达式中，`(^\d{1,9}([.]\d{1,9})?)$`匹配一到九位数字**（可能是九个 0 到九个 9）**，后跟可选的小数部分。这就是问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-01T06:32:53.627

我相信这应该可以解决问题。

```
\d+\.\d{9} 
```

# c# - 用于比较文件夹和文件的 WInforms 应用程序

> ID：14640927
> 
> 赞同：1
> 
> 时间：2013-02-01T06:27:52.120
> 
> 标签：c#, winforms, compare

我正在开发一个win forms应用程序，它将比较两个文件夹的内容。我不想只比较文件名及其长度。如果两个文件之间存在差异，我想将它们展示给用户。我完成了 UI 部分，我也能够获取文件夹内容，但现在我对如何比较文件的内容有点困惑。我应该用什么来比较内容？我还如何向用户显示两个文件之间的“差异”。任何建议将不胜感激。

# box-api - 通过传递用户名和密码从 Box 中获取未过期的访问令牌或从框中获取访问令牌。？

> ID：14640928
> 
> 赞同：5
> 
> 时间：2013-02-01T06:28:03.957
> 
> 标签：box-api

我使用 Box Api 获得了访问令牌，但它会在 1 小时后到期。我在这里想要的是，

我需要永不过期的访问令牌，或者通过将我的 Box 用户 ID 和密码传递给 API 来获取访问令牌。

如果上述事情是可能的，请告诉我方法。

提前致谢..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-02T16:04:53.867

你有所谓的承载令牌和刷新令牌。Bearer 令牌有效期为 1 小时，Refresh 令牌有效期为 60 天。刷新令牌可以换成另一对令牌，这会在您进行刷新时重置两个时钟。

Box 没有您可以通过 OAuth2 中的用户名密码授权获得的令牌，因为这对于需要通过其 ActiveDirectory / Okta / Ping / 2-factor / SecureID 登录流程进行 SSO 的企业客户来说本质上不起作用。

您可能想要的是一个为您处理令牌刷新的 SDK。大多数用户不必再次登录，除非他们去度假几周。Box 已经发布[了几个 SDK](http://developers.box.com/sdks/)，都在 github 上具有开源许可证。他们中的大多数会自动为您刷新令牌。

我们最近（2014 年初）还添加了一些增强功能，以帮助多服务器实现更顺畅地使用刷新令牌流程，包括允许您使用旧刷新令牌在狭窄的时间窗口内多次获取新令牌. 这有助于尝试跨多个线程（或服务器）获取新令牌的多线程环境。它还有助于解决网络中断并且您实际上没有从初始刷新调用中取回新令牌对的情况。

# ios - 将 NSString 转换为 NSDate

> ID：14640929
> 
> 赞同：4
> 
> 时间：2013-02-01T06:28:08.007
> 
> 标签：ios, objective-c, nsstring, nsdate

> **可能重复：**
> [将 NSString 转换为 NSDate（然后再返回）](https://stackoverflow.com/questions/3917250/converting-nsstring-to-nsdate-and-back-again)

我向 flickr api 发出请求，它以以下格式返回日期

```
"2013-02-01T06:25:47Z" 
```

我如何将其转换为 NSDate 格式？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-01T06:31:49.987

这是一个简单的，将 NSString 转换为 NSDate 我们使用 NSDateformatter 使用 dateFromString 方法。我们需要为 NSString 提供现有样式的 Dateformatter 样式

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ssZ"];
NSDate *date = [dateFormatter dateFromString:@"2013-02-01T06:25:47Z"];
NSTimeZone *pdt = [NSTimeZone timeZoneWithAbbreviation:@"PDT"];
[dateFormatter setTimeZone:pdt];
[dateFormatter setDateFormat:@"HH:mm:ss zzz"];
[dateFormatter setDateFormat:@"K:mm a, z"];
NSString * updated String = [dateFormatter stringFromDate:date]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-01T06:38:58.753

您可以使用以下功能：

```
-(NSDate *)getDateFromString:(NSString *)pstrDate
{
    NSDateFormatter *df1 = [[[NSDateFormatter alloc] init] autorelease];
    [df1 setDateFormat:@"yyyy-MM-dd'T'HH:mm:ssZ"];
    NSDate *dtPostDate = [df1 dateFromString:pstrDate];
    return dtPostDate;
} 
```

希望，对你有帮助。

此函数将接受您的字符串日期并返回 NSDate 值。

干杯!

# jquery - Raty 在引导弹出窗口中不起作用

> ID：14640931
> 
> 赞同：1
> 
> 时间：2013-02-01T06:28:16.383
> 
> 标签：jquery, twitter-bootstrap, raty

我在[bootstrap](http://twitter.github.com/bootstrap/javascript.html#popovers) popover 中添加了 raty 。它在引导弹出窗口中不起作用，但在外部起作用。这是一个[js 小提琴](http://jsfiddle.net/4FujN/2/)。我错过了什么吗？谢谢

这是一个评级代码。在弹出窗口内我无法点击评级。

```
$('.ratings').raty({
    click: function(score, evt) {
        alert(score);
    }
 }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T07:04:08.533

由于您在单击“悬停我”链接时正在更改 DOM，因此您可能需要重新加载 jQuery.raty 插件。他们似乎没有任何内置函数来处理这个问题，所以我找到的解决方案是再次调用相同的东西。另请注意，当用户必须实际“单击”才能看到弹出窗口时，您编写了“悬停”。[你可以在这里](http://jsfiddle.net/gugahoi/KZBW6/2/)找到我的小提琴，下面是小代码更新。

```
$('.link-container a').popover({
    content : function() {
        return $(this).siblings('.popover-content').html();
    }
}).click(function(e) {
    e.preventDefault();  //not sure this is necessary
    $('.ratings').raty({
        click: function(score, evt) {
            alert(score);
        }
    });
});

$('.ratings').raty({
    click: function(score, evt) {
        alert(score);
    }
}); 
```

# c# - 绑定到 MVVM 中的 TextBlock Width 属性

> ID：14640932
> 
> 赞同：0
> 
> 时间：2013-02-01T06:28:26.363
> 
> 标签：c#, wpf, mvvm

在我看来，我有一个`TextBlock`控件，它`Width`取决于`Text`属性。

我正在寻找某种方法将 TextBlocks 绑定`Width`到模型中的属性，其工作方式如下：

1.  的设置`Width`必须基于自动完成`Text`
2.  在我的按钮单击中，我想检索宽度

我已经尝试过下面的代码，但如果我没有在视图模型的构造函数中明确设置它，它会保持为`Width`0。试过但没有区别，有什么建议吗？`Mode=OneWayToSource``Mode=OneWay`

**看法：**

```
<Grid>
    <TextBlock Text="Some text" Width="{Binding TextWidth,Mode=OneWayToSource}" />
    <Button Content="Show Width" Height="30" Width="90" Command="{Binding ShowTextWidth}" />
</Grid> 
```

**查看型号：**

```
public event PropertyChangedEventHandler PropertyChanged;

public void OnPropertyChanged(string propertyName)
{
    if (PropertyChanged != null)
        PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
}

private DelegateCommand<object> showTextWidth;
public DelegateCommand<object> ShowTextWidth
{
    get { return showTextWidth; }
    set { showTextWidth = value; }
}

private double textWidth;
public double TextWidth
{
    get { return textWidth; }
    set 
    { 
        textWidth = value;
        OnPropertyChanged("TextWidth");
    }
}

public ViewModel()
{
    //If I explicitly specify the width it works:
    //TextWidth = 100;
    ShowTextWidth = new DelegateCommand<object>(ShowWidth);
}

private void ShowWidth(object parameter)
{
    MessageBox.Show(TextWidth.ToString());
} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T10:52:50.997

[最终由 Maleak](https://stackoverflow.com/questions/7653566/getting-window-properties-in-viewmodel)创建了一个附加行为，其灵感来自 Kent Boogaarts 将[只读 GUI 属性推回 ViewModel](https://stackoverflow.com/questions/1083224/pushing-read-only-gui-properties-back-into-viewmodel)，无法相信将 ActualWidth 的值推入视图模型是如此复杂！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:54:10.860

Width 是 TextBlock 上的 DependencyProperty。在这种情况下，它是绑定的目标，而 TextWidth 是绑定的源。OneWayToSource 似乎是要走的路，您在 ViewModel 中将 TextWidth 设置为 100，它不会传播到 TextBlock 上的 Width 因为它是 OneWayToSource 是正确的，然后 Width（Target）将 TextWidth（Source）设置为 Double.NaN 因为 OneWayToSource 和这就是为什么你看到0 ...

ActualWidth 应该像 sa_ddam213 所说的那样工作，但也要考虑到 TextBlock 在 Text 更改时不会在 Width (ActualWidth) 上增长，因为它跨越了 Grid 布局的总宽度。将其放在 ColumnDefinition 中，并将 Width 设置为 Auto 或使您的 Horizo​​ntalAlignment Left 以在 Text 更改时查看 ActualWidth 更改。

我对您的源代码进行了一些更改。考虑在您的按钮上使用 CommandParameter？看看链接...

[WpfApplication10.zip](https://docs.google.com/file/d/0B-KhmdyEQF-0bi0xYVRNcWp1eDg/edit?usp=sharing)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T07:14:21.753

如果您选择可以为您处理的布局面板，您实际上不需要设置宽度。

例如。width=auto 的 columndefinition 会随着您的文本而增长

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T07:17:05.700

要根据包含的 Text 设置宽度，您可以将 Width-Property 绑定到 Text-Property 并使用如下转换器：

```
<TextBlock Width="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource TextToWidth}}" 
```

您的转换器可能如下所示：

```
TextBlock tb = new TextBlock();
tb.Text = value.ToString();
tb.Measure(new Size(int.MaxValue, 20)); //20 if there shouldnt be a linebreak
return tb.DesiredSize.Width; 
```

# c# - 尝试从后面的代码访问 ASP.Net 变量时，“<”附近的语法不正确

> ID：14640933
> 
> 赞同：1
> 
> 时间：2013-02-01T06:28:29.693
> 
> 标签：c#, asp.net

这个修复可能很容易。当我复制并粘贴它时它可以工作，但是我`SelectCommand`的太长了，我需要从后面的代码中获取它。

`Aspx`文件：

```
<asp:SqlDataSource ID="sds_Dashboard" runat="server" ConnectionString="<%$
                   ConnectionStrings:MyDbConn %>"
                   SelectCommand="<%= SelectCommand.ToString() %>"> 
```

`Cs`文件：

```
public partial class Dashboard : System.Web.UI.Page
{
    public string SelectCommand = "Select * from .....";
} 
```

错误：

> '<' 附近的语法不正确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:46:15.023

您可以`SelectCommand`在`SqlDataSource`代码隐藏`Page_Load`而不是*aspx*文件中设置：

```
sds_Dashboard.SelectCommand = "Select * from ....."; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T07:52:40.983

尝试将您的 ASP.NET 代码更改为以下内容：

```
<asp:SqlDataSource ID="sds_Dashboard" runat="server" ConnectionString="<% ConnectionStrings:MyDbConn %>" /> 
```

然后从后面的代码，在一些 If/Else 块之后，试试这个：

```
sds_Dashboard.SelectCommand = "Select * FROM ..."; 
```

它现在应该可以正常工作了。

谢谢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-01T06:42:16.723

您的代码中可能有一个恒定的换行符：

```
ConnectionString="<%$ //HERE
                   ConnectionStrings:MyDbConn %>" 
```

. 但我的担心有点不同，为什么你不能`select`在看起来像这样的窗口中自定义定义你的语句：

![在此处输入图像描述](../Images/13fb6736919d83c190ae8ed09266308d.png)

而不是在代码隐藏中？

# haskell - 如何在 Haskell 中获取 range 函数的类型签名？

> ID：14640936
> 
> 赞同：5
> 
> 时间：2013-02-01T06:28:49.723
> 
> 标签：haskell, types

Haskell 中的许多由 Haskell 中的特殊字符组成的函数都是中缀函数。其中包括`*`, `+`, `==`,`/`等。要获取此类函数的类型签名，请将函数放在括号中并执行`:t`，如下所示：

```
GHCi> :t (==)
(==) :: Eq a => a -> a -> Bool 
```

我想尝试获取 range 函数的类型签名`[a..a]`，但似乎这个函数是中缀的，但只能在 list 中使用`[]`。我尝试了以下所有方法，但都没有奏效：

```
GHCi> :t (..)
<interactive>:1:2: parse error on input `..'
GHCi> :t ([..])
<interactive>:1:3: parse error on input `..'
GHCi> :t [..]
<interactive>:1:2: parse error on input `..'
GHCi> :t ..
<interactive>:1:1: parse error on input `..' 
```

有谁知道如何获取范围函数的类型签名？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-01T06:33:22.397

这`..`不是一个函数，它实际上是语法糖。它被翻译成以下几个函数之一：`enumFrom`、`enumFromThen`或。`enumFromTo``enumFromThenTo`

它不可能是一个正常的功能，因为它有四种以不同方式工作的形式。也就是说，所有这四个都是有效的：

```
[1..]     -- enumFrom 1
[1,2..]   -- enumFromThen 1 2
[1..10]   -- enumFromTo 1 10
[1,2..10] -- enumFromThenTo 1 2 10 
```

这些表格分别使用了我提到的四个功能。

如果它只是一个普通的运算符，`1..`会给你一个部分应用的功能；相反，它会生成一个列表。此外，对于普通函数，`[1,2..10]`符号将被解析为`[1,(2..10)]`实际上它全部变成一个函数，将所有三个数字作为参数。

这些函数都是`Enum`类的一部分，因此该`..`符号适用于属于它的任何类型。例如，您可以编写`[False ..]`并获取 list `[False, True]`。（不幸的是，由于当前的解析模棱两可，你不能写`[False..]`，因为它假设`False`是一个模块。）

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-01T06:32:29.997

尝试使用 lambda。

```
> :t \x y -> [x..y] 
```

该符号只是语法糖`enumFrom`，`enumFromTo`因此它实际上没有常规类型。

# linux - 为什么 tar 包含的文件多于提供的文件？

> ID：14640937
> 
> 赞同：1
> 
> 时间：2013-02-01T06:29:01.203
> 
> 标签：linux, tar

我使用以下命令创建了一个 tar：

```
 tar -cvf demo.tar a.txt b.txt 
```

当我检查 demo.tar 中包含的内容时，我得到：

![在此处输入图像描述](../Images/588c7f84fd435c9fc4dd342d31d7722c.png)

当我试图弄清楚“./._a.txt”中的内容时，我找不到它：

![在此处输入图像描述](../Images/db6fc07c31802091c130b379af828606.png)

我的问题是：这个东西“./._a.txt”是什么以及如何摆脱它？

我正在使用 bsdtar 2.8.3。

# google-app-engine - Struts 2 GAE 没有为命名空间映射操作 [/]

> ID：14640938
> 
> 赞同：1
> 
> 时间：2013-02-01T06:29:16.743
> 
> 标签：google-app-engine, indexing, struts2, namespaces, action-mapping

我正在为项目需求学习 Struts 2，但遇到了一些问题。

在本教程之后：

[http://www.mkyong.com/google-app-engine/google-app-engine-struts-2-example/](http://www.mkyong.com/google-app-engine/google-app-engine-struts-2-example/)

我做了额外的事情：

*   在 war 文件夹中添加了一个 index.jsp
*   将 web.xml 更改为

    ```
    <?xml version="1.0" encoding="utf-8"?>
    <web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
        xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
        version="2.5">
        <filter>
            <filter-name>struts2</filter-name>
            <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
        </filter>

        <filter-mapping>
            <filter-name>struts2</filter-name>
            <url-pattern>/*</url-pattern>
        </filter-mapping>

        <listener>
            <listener-class>com.mkyong.listener.Struts2ListenerOnGAE</listener-class>
        </listener>
        <welcome-file-list>
            <welcome-file>index.jsp</welcome-file>
        </welcome-file-list>
    </web-app> 
    ```

现在，当我重建和加载

```
 http://localhost:8888 
```

而不是看到我应该在我的 index.jsp 中的内容，我得到了一个

```
 Error 404 There is no Action mapped for namespace [/] and action name [] associated with context path []. 
```

有人可以指出我正确的方向吗？我在 SO 中看到了一些其他类似的问题，但他们的解决方案不适用于 Struts 2 + GAE 的这个特定示例。

我的 struts.xml

```
 <struts>
        <package name="user" namespace="/User" extends="struts-default">
            <action name="Login">
                <result>pages/login.jsp</result>
            </action>
            <action name="Welcome" class="com.mkyong.user.action.WelcomeUserAction">
                <result name="SUCCESS">pages/welcome_user.jsp</result>
            </action>
        </package>
    </struts> 
```

**文件夹结构**

我不能发布图片所以， http: [//i.imgur.com/KSPmaMr.png](http://i.imgur.com/KSPmaMr.png)

**用于下载的完全相同的库**

[http://www[dot]mediafire[dot]com/?utliwvcmo63o8l7](http://www[dot]mediafire[dot]com/?utliwvcmo63o8l7)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T07:02:15.897

好的，我有你的问题，

将您的 struts.xml 更改为此

```
 <struts>
       <package name="default" extends="struts-default" namespace="/">
            <action name="Login">
                <result>pages/login.jsp</result>
            </action>
            <action name="Welcome" class="com.mkyong.user.action.WelcomeUserAction">
                <result name="SUCCESS">pages/welcome_user.jsp</result>
            </action>
        </package>
    </struts> 
```

我想这会起作用，因为如果您将 struts.xml 文件放在根目录中， **filterDispatcher**会在根文件夹中搜索**struts.xml文件。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T07:16:48.843

@Eleazar我遵循了您在问题中提到的mykong教程链接。`index.html`就我看到的教程而言，没有用。`<welcome-list>`当应用程序启动时未提及任何操作时使用文件。

在该教程的*第 8 步*中，他们提供了`url`运行`http://localhost:8888/User/Login.action`测试所需的内容。它与欢迎列表中的文件无关......

**更新：**

您收到该错误是因为您已将 struts2 过滤器添加为`/*`，并且您的操作命名空间是 for `/User`。没有操作命名空间`/`。使用名称空间=“/”添加名称=“默认”的包，即`<package name="default" extends="struts-default" namespace="/"></package>`会解决您的问题。会打`<welcome-file>`

# css - 如何在 knockoutJS 中更改验证消息的默认颜色

> ID：14640948
> 
> 赞同：4
> 
> 时间：2013-02-01T06:30:21.607
> 
> 标签：css, knockout-validation

> 我已经通过 knockoutJS 在 HTML 页面上应用了验证..当我想单击提交按钮时，验证效果很好，但消息显示为黑色......我希望它显示为红色..这是我的一小部分查看页面：

```
 <tr>
            <td align="right" style="width: 30%;">
                <b>Name :</b>
            </td>
            <td align="left" style="width: 70%;">
                <input data-bind="value: EmployeeName" placeholder="Employee Name" class="txt"
                    type="text" />
            </td>
        </tr> 
```

> 和我的视图模型（续上）：

```
var EmpViewModel = function () {

        //Make the self as 'this' reference
        var self = this;
        //Declare observable which will be bind with UI 
        self.EmployeeCode = ko.observable("").extend({ required: { message: 'Please enter your Employee Code.'} }); //WANT TO CHANGE THIS MESSAGE TEXT COLOR TO RED..
        self.EmployeeName = ko.observable("").extend({ required: { message: 'Please enter your Name.'} });
        self.Dob = ko.observable("").extend({ required: { message: 'Please enter your Date of Birth.'} });
        self.Age = ko.observable("").extend({ number: true, required: { message: 'Please enter your Age.'} });
        self.ContactNumber = ko.observable("").extend({ number: true, required: { message: 'Please enter your Contact Number.'} });
        self.EmailID = ko.observable("").extend({ email: true, required: { message: 'Please enter your EmailID.'} });
        self.Address = ko.observable("").extend({ required: { message: 'Please enter your Address.'} });
        self.MaritalStatus = ko.observable("");
        self.City = ko.observable("");
        self.Is_Reference = ko.observable("");

        //The Object which stored data entered in the observables
        var EmpData = {
            EmpCode: self.EmployeeCode,
            EmpName: self.EmployeeName,
            Dob: self.Dob,
            Age: self.Age,
            ContactNumber: self.ContactNumber,
            MaritalStatus: self.MaritalStatus,
            EmailID: self.EmailID,
            Address: self.Address,
            City: self.City,
            Is_Reference: self.Is_Reference
        };

        self.errors = ko.validation.group(this, { deep: true, observable: false });

        //Declare an ObservableArray for Storing the JSON Response
        self.Employees = ko.observableArray([]);

        //Function to perform POST (insert Employee) operation
        self.save = function () {
            // check if valid
            if (self.errors().length > 0) {
                self.errors.showAllMessages();
                return;
            }
            //Ajax call to Insert the Employee
            $.ajax({
                type: "POST",
                url: "/Exercise/Save/",
                data: ko.toJSON(this), //Convert the Observable Data into JSON
                contentType: "application/json",
                success: function (data) {
                    alert(data);
                    window.close();
                    opener.location.reload(true);
                },
                error: function () {
                    alert("Failed");
                }
            });
            //Ends Here
        };
    }

    ko.applyBindings(new EmpViewModel()); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:39:23.793

您可以创建自定义消息模板。

```
<script type="text/html" id="myCustomTemplate">
    <span 
         class="yourCustomCssClass" 
         data-bind="if: field.isModified() && !field.isValid(), 
                    text: field.error"></span>
</script> 
```

并配置敲除验证来使用它：

```
ko.validation.init({ messageTemplate: 'myCustomTemplate' }); 
```

或者像这里描述的那样：[https ://github.com/ericmbarnard/Knockout-Validation/wiki/Configuration](https://github.com/ericmbarnard/Knockout-Validation/wiki/Configuration)

# c# - 实体框架在调用 SaveChanges 时创建新记录

> ID：14640951
> 
> 赞同：3
> 
> 时间：2013-02-01T06:30:47.997
> 
> 标签：c#, entity-framework, entity-framework-5

我有两个实体：

```
public class Order:Entity
{
   public virtual User User { get; set; }
   ...
}

public class User:Entity
{
   public virtual ICollection<Order> Orders { get; set; }
   ...
} 
```

接下来，我创建订单：

```
var order = _orderService.CreateTransientOrder(orderNumbers, PcpSession.CurrentUser);
PcpSession.Order = order; 
```

这是`CreateTransientOrder`。它只是 create `Order`，但不保存到数据库中：

```
public Order CreateTransientOrder(string orderNumbers, User currentUser)
{
   ...fill fields
   order.User = currentUser;
   return order;
} 
```

现在一切都好。接下来，我将订单保存到数据库：

```
_orderService.CreateOrder(PcpSession.Order); 
```

这是`CreateOrder`：

```
public void CreateOrder(Order order)
{
    order.OrderDate = DateTime.Now;
    _repository.Save(order);
    _repository.SaveChanges();
} 
```

这是我`Save`的存储库方法：

```
public void Save<T>(T entity) where T : class, IEntity
{
    _context.Set<T>().Add(entity);
} 
```

当`SaveChanges`在数据库中调用创建具有新 ID 的新用户并且订单具有新的 User_Id 时。在该`CreateOrder`方法的调试器中，Id 等于当前用户。哪里有问题？
谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:48:14.660

用户可能没有被上下文跟踪。当您将订单添加到上下文时，它还会添加相关实体，然后在保存更改时创建一个新用户（或尝试）。`Attach()`用户调用之前的上下文`_context.Set<T>().Add(entity);`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:51:20.297

我猜这个问题与您提供的代码无关。它似乎与您正在初始化的位置有关`PcpSession.CurrentUser`。

似乎`PcpSession.CurrentUser`对象没有附加到上下文中。在进行`Order`相关调用之前将此实体获取到上下文或附加它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-23T10:32:53.600

如果不在上下文中附加，则需要附加您的实体。

以 Repository Generic 为例

```
> public void Add(T entity)
>         {
>             entity.Create = DateTime.Now;
>             db.Set<T>().Attach(entity);  // Add Line 
>             db.Set<T>().Add(entity);
>             Save();
>         } 
```

我不知道它是否干净，但它可以解决问题

# android - 将编码文件存储为容器格式

> ID：14640953
> 
> 赞同：1
> 
> 时间：2013-02-01T06:31:12.030
> 
> 标签：android, video, synchronization, containers, video-encoding

我正在尝试使用 Media Codec API 在 android 中实现视频压缩器，

我已成功将文件解码为原始格式并对其进行编码并获得不同的编码轨道（视频和音频）。如何将这些文件存储为容器格式？是否有任何内置功能可以做同样的事情。

如何同步音频、视频和字幕文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-24T23:23:12.423

Android 4.3 (API 18) 添加了[MediaMuxer](http://developer.android.com/reference/android/media/MediaMuxer.html)类。这允许您将原始 H.264 视频流转换为 .mp4 文件，可选择合并音频流。

每帧数据都带有一个演示时间戳。

# java - 在 fxml 中定义您的自定义类

> ID：14640959
> 
> 赞同：2
> 
> 时间：2013-02-01T06:31:34.167
> 
> 标签：java, javafx

我有一个名为“语言”的自定义类，我想在 fxml 中定义它，例如：

```
<Language fx:value="getBundle">
</Language> 
```

语言直接扩展`Object`，而不是任何 JavaFX 组件。显然它抛出了以下异常：

> 无法将 com.bl.commons.Language@69435 强制转换为 javafx.scene.Node 类

那么我该怎么做呢？我想要的是，我的大部分模式都在那个类中，我想直接调用`Language`fxml 本身的方法并设置内容。如果这是不可能的，那么还有其他选择吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T16:34:37.643

据我所知，您的类**必须以**某种方式扩展`Node`才能添加到其他元素的子元素列表中（当您将它放在 FXML 中的任何位置时，您正在执行此操作），因为这些子元素存储为`ObservableList<Node>`.

请注意，这并不意味着您必须做任何特别的事情，只需执行以下操作：

```
public class Language extends Node // or StackPane or whatever
{
    public Language()
    {
        super();
        // ...carry on...
    }
} 
```

如果`Language`已经扩展了其他东西，您将希望使该类扩展`Node`或重新考虑您的类层次结构。

# android - 每5分钟后如何获取位置？

> ID：14640967
> 
> 赞同：-2
> 
> 时间：2013-02-01T06:32:16.393
> 
> 标签：android

我正在使用[此链接](http://www.vogella.com/articles/AndroidLocationAPI/article.html)进行定位服务并且它有效

现在我想创建 BackgroundService，它调用一个每 5 分钟获取一次位置的函数。我想我需要为此使用计时器，请告诉我如何管理这个位置类被调用之间的 5 分钟间隔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T12:38:03.290

```
public class LocationService extends Service {      
    private Timer timer; 
    private  long UPDATE_INTERVAL ;
    public static final String Stub = null;
    LocationManager mlocmag;
    LocationListener mlocList ;
    private double lat,longn;

    @Override
    public void onCreate() {
        super.onCreate();
        webService = new WebService();
         mlocmag = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
         mlocList = new MyLocationList();

        Location loc = mlocmag.getLastKnownLocation(LocationManager.GPS_PROVIDER);
        if (loc == null) {
            loc = mlocmag.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
        }
        timer  = new Timer();       // location.
        UpdateWithNewLocation(loc); // This method is used to get updated
        mlocmag.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0,mlocList);
    }

    @Override
    public IBinder onBind(Intent arg0) {
        return null;
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        if (timer != null) {
            timer.cancel();
        }
        mlocmag.removeUpdates(mlocList);
    }

    @Override
    public boolean stopService(Intent name) {
        return super.stopService(name);
    }

    private void UpdateWithNewLocation(final Location loc) {
        final SharedPreferences prefs = getSharedPreferences(Const.COMMON_SHARED, Context.MODE_PRIVATE);
        userId = prefs.getString(Const.COMMON_USERID, null);
        gps = prefs.getInt(Const.COMMON_GPS, 0);

        UPDATE_INTERVAL = 500000;

        timer.scheduleAtFixedRate(new TimerTask() {
            @Override
            public void run() {
        if (loc != null) {
            final double latitude = loc.getLatitude(); // Updated lat
            final double longitude = loc.getLongitude(); // Updated long

            String response = null ;
                if (lat != latitude || longn != longitude ) {

                    response = webService.updateLatandLong(userId, latitude, longitude);
                    lat = latitude;
                    longn = longitude;

                }
        }

        else {
            String latLongStr = "No lat and longitude found";
        }

    }
        }, 0, UPDATE_INTERVAL);
    }

    public class MyLocationList implements LocationListener {

        public void onLocationChanged(Location arg0) {
            UpdateWithNewLocation(arg0);
        }

        public void onProviderDisabled(String provider) {
            Toast.makeText(getApplicationContext(), "GPS Disable ",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderEnabled(String provider) {
            Toast.makeText(getApplicationContext(), "GPS enabled",
                    Toast.LENGTH_LONG).show();
        }

        public void onStatusChanged(String provider, int status, Bundle extras) {

        }

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:51:53.980

用这个：

```
Timer timer = new Timer();
                timer.schedule(new TimerTask() {
                    public void run() {
//your code to get lat long

                    }
                }, 0, 500000); 
```

# java - JavaScript：在 a 中包含/附加对象/按钮

> ID：14640971
> 
> 赞同：0
> 
> 时间：2013-02-01T06:32:31.717
> 
> 标签：java, javascript, jquery, html, css

我有一个很长的 javascript 代码，它基本上有一个表单并生成按钮。

我想将按钮放在一个标签内，这样我就可以将它们的外观固定为一个组。

我如何实现这一目标？

我知道我基本上必须使用“document.createElement（“span”）”，但我有点卡在那里......请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T06:35:29.387

你使用 JQuery 吗？它有 .wrap() 方法，或者当你生成表单和按钮时，直接将按钮包装在一个“跨度”中，祝你好运！

# android - 没有在移动设备中收到我的 Android 应用程序的更新通知

> ID：14640974
> 
> 赞同：1
> 
> 时间：2013-02-01T06:32:47.747
> 
> 标签：android, google-play

对于应用程序版本 1.0，我有 4 个 apk（支持不同的屏幕分辨率）。在 1.0 的清单中，最小 sdk 为 7，具有不同的兼容屏幕过滤器。再次对于应用程序版本 1.1，我放了 4 个 apk（支持不同的屏幕分辨率）。在 manifest 1.1 中，min sdk 为 8，具有不同的兼容屏幕过滤器。现在在开发者控制台中上传apks时我没有遇到任何问题。所有 8 个 apk 都处于活动模式。昨天我为 1.2 版更新了另外 4 个 apk，在 manifest min sdk 中，过滤器与 1.1 版相同。现在我收到了这个错误：**错误：APK 版本 3404400,2802221,2401211 支持与其他更高版本的 APK 相同的设备。它不会被送达。请停用 APK。** 所以我已经停用了旧版本的 1.1 apks。但仍然在移动设备中，我没有收到更新通知。是否需要停用除新的 apk 之外的所有 apk，即 1.2 版的 4 个 apk。请帮忙！！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T10:19:53.377

通过停用所有旧版本的 apk 解决

# ember.js - 路由器中是否有类似“didInsertElement”的钩子？

> ID：14640978
> 
> 赞同：1
> 
> 时间：2013-02-01T06:32:54.393
> 
> 标签：ember.js, ember-router

使用第三方框架，我想设置选定的值。

在 ember.js 新路由器中将视图插入 DOM 后是否有任何钩子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T13:41:02.350

同意上面的卡尔。但是，也许您只是以一种糟糕的方式提出了这个问题。在新路由器中，您有`setupController`，当 Ember 移动到该路由时会调用它。因此，例如，如果您进入`/#/dashboard`，则`DashboardController`、`DashboardView`、`DashboardRoute`都将被初始化。

除了此时您可以使用`didInsertElement`on之外`DashboardView`，您还有`setupController`可以在`DashboardRoute`. 在这里，您可以设置控制器，也许可以做任何您想做的事情：

*（`setupController`只有在您进入路线时才会调用，但在您进入路线时视图不会呈现。为此您需要`didInsertElement`，仅此而已。`setupController`用于设置控制器，可以是被认为是一个永远存在的单身人士。）*

```
var DashboardRoute = Ember.Route.extend({
    setupController: function(controller) {
        // We're in the route, so let's do something now.
        controller.set('myText', 'Add this to the controller!');
    }
}); 
```

# xpages - 如何在本地化网站上更改日期时间格式？

> ID：14640981
> 
> 赞同：1
> 
> 时间：2013-02-01T06:33:04.917
> 
> 标签：xpages, date-format, setlocale

我有一个针对不同语言的本地化网站

用户可以选择在配置文件中使用哪种语言，这将在PageLoad之前应用

```
context.setLocalString("en") 
```

我相信“en”默认为 en-US，因此网站上的日期以美国格式显示，所以我知道我可以使用它。

```
context.setLocale(new Locale("en","gb")) 
```

setLocal 的问题在于它不会更新 HTML lang="en" 属性，因此事件虽然在使用 setLocal 后日期是正确的，但使用的语言文件仍然是英语（美国）而不是英语（英国）。（即不是 html lang="en-gb"）

因此，当来自英国的用户在他们的个人资料中将他们的语言设置为 en-uk 时，他们会得到美国语言文件。

所以我试着这样做

```
 context.setLocale(new Locale("en","gb"))
 context.setLocalString("en-GB") 
```

但随后 setLocalString 会覆盖 setLocalString ，反之亦然。所以看起来我不能同时使用它们

有什么方法可以在 beforePageLoad 上添加代码，以确保 html lang 属性都使用正确的语言进行更新，并且我的日期以语言集的正确格式显示？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-01T11:15:47.953

尝试在*beforeRenderResponse*期间直接在视图根中设置语言环境，而不是使用*上下文*对象：

 *```
<xp:this.beforeRenderResponse>
    <![CDATA[#{javascript:
       facesContext.getViewRoot().setLocale( new java.util.Locale("en-GB") );
    }]]>
</xp:this.beforeRenderResponse> 
```

或者您可以按照此处所述在阶段侦听器中切换区域设置：http: [//openntf.org/XSnippets.nsf/snippet.xsp ?id=xpages-localization-setter](http://openntf.org/XSnippets.nsf/snippet.xsp?id=xpages-localization-setter)

**编辑：**

语言环境设置有点奇怪。使用*context.setLocaleString()*时，您必须在*en*和*GB*之间使用下划线（正如 Panu Haaramo 回答的那样），但这不会解决问题，因为*ViewRootRender*在渲染时仅使用语言设置来生成*lang*属性HTML 输出。

 ***这

```
new java.util.Locale("en", "GB").getLanguage() 
```

将仅返回*en*，“GB”被忽略。

使用*context.setLocaleString*将带来相同的结果，因为它只解析给定的字符串并将其转换为*java.util.Locale*，它返回与描述相同的结果。

但是使用未定义的 Locale 会生成小写的*lang*属性。铁这个

```
<xp:this.beforeRenderResponse>
   <![CDATA[#{javascript:
      facesContext.getViewRoot().setLocale( new java.util.Locale("en-Blabla-Blubb") );
   }]]>
</xp:this.beforeRenderResponse> 
```

生成以下 HTML 标记：

```
<html lang="en-blabla-blubb"> 
```

这就是为什么这个答案顶部的代码将 lang 属性设置为*en-gb*，但这仍然不正确：它应该将其设置为*en-GB*，如下所述：[w3.org：最佳实践：在 XHTML 和 HTML 内容中指定语言](http://www.w3.org/TR/i18n-html-tech-lang/#ri20030112.213801634)****

# build - 如何在（tfs）构建脚本中获取 TFS uri？

> ID：14640983
> 
> 赞同：4
> 
> 时间：2013-02-01T06:33:08.953
> 
> 标签：build, tfs

我有需要 tfs 访问权限的自定义组件（在 tfs 构建工作流脚本中）（因此需要 tfs 项目 uri，例如[https://tfsstuf.insomewhere.fi:8080/tfs/](https://tfsstuf.insomewhere.fi:8080/tfs/)）。该 uri 在任何 tfs 构建工作流属性中都可用吗？我已经尝试过查看 BuildAgent 属性等，但到目前为止还没有运气。

另一种可能的解决方案是某处有可用的项目集合对象，因为自定义组件从该 uri 创建它。

这样做的原因是我不希望在构建脚本内部对 uri 进行硬编码，因为它可能会改变。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-02T13:26:35.497

就是这样：

```
 BuildDetail.BuildServer.TeamProjectCollection.Uri.AbsoluteUri 
```

在此处阅读更多信息：[TFS 2010 TfsUrl 位置](http://social.msdn.microsoft.com/Forums/en-NZ/tfsbuild/thread/3d094a1a-7c3e-40de-9405-2f7d61f6e062)

# c# - 任务异常长时间处于 WaitingToRun 状态

> ID：14640984
> 
> 赞同：4
> 
> 时间：2013-02-01T06:33:08.513
> 
> 标签：c#, concurrency, task

我有一个程序可以处理并行运行的各种任务。单个任务充当各种管理器，确保在运行下一个任务之前满足某些条件。但是，我发现有时某个任务会长时间处于 WaitingToRun 状态。这是以下代码：

```
mIsDisposed = false;
mTasks      = new BlockingCollection<TaskWrapper>(new ConcurrentQueue<TaskWrapper>());

Task.Factory.StartNew(() => {
    while (!mIsDisposed) {
         var tTask = mTasks.Take();
         tTask.task.Start();
         while (tTask.task.Status == TaskStatus.WaitingToRun) {
             Console.WriteLine("Waiting to run... {0}", tTask.task.Id);
             Thread.Sleep(200);
         }
         tTask.ready.Wait();
     }
     mTasks.Dispose();
});

DoWork();
DoWork();
DoWork();
DoWork();
DoWorkAsync();
DoWorkAsync();
DoWorkAsync();
DoWorkAsync();
DoWorkAsync();
DoWork(); 
```

TaskWrapper 非常简单地定义为：

```
private class TaskWrapper
{
    public Task task  { get; set; }
    public Task ready { get; set; }
} 
```

目前仅在 2 个地方添加了任务：

```
public void DoWork()
{
    DoWorkAsync().Wait();
}

public Task DoWorkAsync()
{
    ManualResetEvent next = new ManualResetEvent(false);

    Task task  = new Task(() => ActualWork(next));
    Task ready = Task.Factory.StartNew(() => next.Wait());

    mTasks.Add(new TaskWrapper() {
        task  = task,
        ready = ready
    });
    return task;
} 
```

哪里`ActualWork(next)`来电`next.Set()`。

在允许下一个工作项继续之前，这会将工作排队并等待直到`next`已设置。您可以等待整个任务完成，然后通过调用`DoWork()`或一次排队多个任务（应该在`next`设置后运行）继续。

然而，当通过添加任务时`DoWorkAsync()`，在调用之后`tTask.task.Start()`，`tTask.task`会处于 WaitingToRun 状态很长一段时间（如 30 秒到一分钟），然后神奇地开始运行。我已经使用 while 循环对此进行了监控，并且`Waiting To Run... #`会显示相当长的一段时间。

呼叫`DoWork()`总是立即运行。我确信这与调用`Wait`设置为运行的任务有关。

我很茫然，在这里。

**更新：**

我已经设法使代码工作，但我仍然想知道为什么首先会出现问题。

经过一些实验性的更改，我设法解决了自己的问题，但这更像是“哦，所以我不能那样做”，而不是一个好的解决方案。事实证明，我的问题是让任务排队运行太快。通过修改`DoWorkAsync()`为不再使用`Task.Factory.StartNew`并更改`tTask.ready.Wait()`为`tTask.ready.RunSynchronously`我已经设法解决了我的问题。

`TaskScheduler`延迟我的任务安排是否有原因？我是否饱和了一些基础资源？这里发生了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T08:52:12.227

线程将在系统的线程池中运行。线程池始终具有最小数量的可用线程（请参阅[ThreadPool.SetMinThreads()](http://msdn.microsoft.com/en-us/library/system.threading.threadpool.setminthreads.aspx)）。如果您尝试创建多于该数量的线程，则在每个新线程启动之间将引入大约 500 毫秒的延迟。

线程池中还有一个最大线程数（请参阅[ThreadPool.GetMaxThreads()](http://msdn.microsoft.com/en-us/library/system.threading.threadpool.getmaxthreads.aspx)），如果达到该限制，将不会创建新线程；它会等到一个旧线程死亡，然后再安排一个新线程（或者更确切地说，重新安排旧线程来运行你的新线程，当然）。

不过，您不太可能达到该限制 - 它可能超过 1000。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-22T14:01:14.403

好的，我刚刚遇到了类似的问题。运行了一些创建和启动任务的代码，但任务从未启动（它只是将状态更改为 WaitingToRun）

在尝试了此线程中的其他选项无济于事后，我想了更多，并意识到调用此方法的代码本身是在延续任务中调用的，该任务已指定在 UI 任务调度程序上运行（如它需要更新用户界面）...

所以像

```
void Main()
{
    var t1 = new Task(() => Console.WriteLine("hello, I'm task t1"));
    t1.ContinueWith(t => CreateAndRunASubTask(), TaskScheduler.FromCurrentSynchronizationContext());
    t1.Start();

    Console.WriteLine("All tasks done with");
}

// Define other methods and classes here
public void CreateAndRunASubTask()
{
    var tsk = new Task(() => Console.WriteLine("hello, I'm the sub-task"));
    tsk.Start();
    Console.WriteLine("sub-task has been told to start");
    tsk.Wait();
    // the code blocks on tsk.Wait() indefinately, the tsk status being "WaitingToRun"
    Console.WriteLine("sub-task has finished");
} 
```

修复结果非常简单 - 在指定延续任务时，您需要指定 TaskContinuationOption：TaskContinuationOptions.HideScheduler

这具有...的效果（取自 XML 注释）

> 通过调用 System.Threading.Tasks.Task.Run(System.Action) 或 System.Threading.Tasks.Task.ContinueWith(System.Action{System.Threading.Tasks.Task}) 等方法指定由 continuation 创建的任务查看默认调度程序 (System.Threading.Tasks.TaskScheduler.Default) 而
> 不是作为当前调度程序运行此延续的调度程序。

即（在我的例子中）

```
t1.ContinueWith(t => 
    CreateAndRunASubTask(), 
    System.Threading.CancellationToken.None, 
    TaskContinuationOptions.HideScheduler,
    TaskScheduler.FromCurrentSynchronizationContext()); 
```

希望这对某人有所帮助，因为它困扰了我一段时间！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-02T12:30:21.130

刚遇到类似的问题。

我有一堆类似的任务正在运行无限循环，其中一个任务有时会永久保持在 WaitingToRun 状态。

以这种方式创建任务对我有用：

```
_task = new Task(() => DoSmth(_cancellationTokenSource.Token), TaskCreationOptions.LongRunning);
_task.Start(); 
```

# .net - 从 VB.net 中的字符串中删除空格字符

> ID：14640986
> 
> 赞同：1
> 
> 时间：2013-02-01T06:33:20.930
> 
> 标签：.net, vb.net, char

我想删除字符串中的所有空格字符。例如我的字符串是“Hello World”，我想要的输出是“HelloWorld”

当我使用此代码时：

```
str.Replace(Chr(39), "") 
```

输出是：“Hello World”

有剩余空间

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-01T06:36:25.340

你只需要使用：[String.Replace](http://msdn.microsoft.com/en-us/library/fk49wtc1.aspx)

```
str.Replace(" ", ""); 
```

并删除前导/尾随空格：[String.Trim](http://msdn.microsoft.com/en-us/library/t97s7bs3.aspx)

```
str.Trim(); 
```

输出：`HelloWorld`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-03T06:14:14.237

```
 May also try this:

   Trim(Replace("Hello World", " ", "")) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T06:37:33.717

只需使用`str.Replace(" ", "")`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-02-02T10:22:25.000

```
Dim MyString  as String= "Hello World
    = Trim(Replace(MyString, " ", "")) 
```

# php - 如何在 Windows Azure 上使用 PHP 云服务访问 ConfigurationSettings？

> ID：14640989
> 
> 赞同：2
> 
> 时间：2013-02-01T06:33:35.250
> 
> 标签：php, azure, azure-web-roles

我希望能够从 Windows Azure 云服务（Web 角色）中的 PHP 应用程序中访问 ConfigurationSettings，但我似乎无法使其工作。我在我的 ServiceDefinition.csdef 中配置了这个，我在我的 cscfg 文件中配置了相应的设置：

```
<ConfigurationSettings>
    <Setting name="DBSERVER" />
    <Setting name="DBNAME" />
    <Setting name="DBUSERNAME" />
    <Setting name="DBPASSWORD" />
</ConfigurationSettings> 
```

我曾尝试过`RoleEnvironment::getConfigurationSettings()`使用“新”PHP SDK 之类的操作，但它似乎不起作用。

我进行了搜索和搜索，但找不到任何有关如何完成此操作的示例或指导。指针或想法？谢谢！

# java - 如何使用多个 POJO 更新数据库中的同一个表？

> ID：14640993
> 
> 赞同：1
> 
> 时间：2013-02-01T06:34:00.010
> 
> 标签：java, spring, hibernate

我有两个 A 类和 B 类对象（两者都映射到同一个表，并且在我的休眠配置中有一个。两个对象中的标记也引用数据库中表的主键。）。

当用户使用我的应用程序时，会在某个时间点更新对象 A。稍后更新对象 B。有时，会发生异常，我认为这是因为我正在使用这样的多个对象（下面打印的消息）

> org.hibernate.StaleObjectStateException：行被另一个事务更新或删除（或未保存值映射不正确）：

我是否需要覆盖这些对象的 equals 方法（如[本问题所述](https://stackoverflow.com/a/2949574/1990904)？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:44:45.153

当版本检查（乐观锁）失败时，通常会抛出 StaleObjectStateException。这在并发环境中是很常见的事情。您可能需要适当的逻辑来处理此异常，例如向失败事务的用户提供一些有用的消息，例如“嗨，您打算更新的数据刚刚被另一个用户更新”或“您正在尝试更新过期数据“胡说八道。总而言之，我认为您不需要对映射做任何事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:56:54.507

可能是旧事务未提交，flush() 也很有用，因为无法保证会话何时执行 JDBC 调用，只能保证它们的执行顺序 - 除非您使用 flush()。

# php - 在 jQuery 上通过 PHP 提交表单

> ID：14640994
> 
> 赞同：0
> 
> 时间：2013-02-01T06:34:02.973
> 
> 标签：php, jquery, forms, dynamic, submit

我有一个注册表单，目前在一个用 jQuery 编码的弹出模式窗口中。我在底部有一个 PHP 提交按钮，并且我添加了 jQuery 代码来阻止按钮提交。这是因为它会在我提交页面时阻止我的模式窗口关闭。我现在的问题是提交表格是不可能的。有没有办法在所有这些拥挤的弹出窗口和 jQuery 上提交我的表单？说是否可以使用 AJAX 或 jQuery 提交表单并允许我的 PHP 处理它。

因为我是用 PHP 编写的，所以有相当多的服务器端验证正在进行，所以这样做的目的是让我的查看者在模式窗口关闭之前修复他们的验证错误。

这是我的 jQuery，我不再打扰它，因为它可以满足我的需要。

```
$(document).ready(function() {
    $('a.modal-window').click(function() {          
                //Getting the variable's value from a link 
        var loginBox = $(this).attr('href');   
        $(loginBox).fadeIn(300);        
        var popMargTop = ($(loginBox).height() + 24) / 2; 
        var popMargLeft = ($(loginBox).width() + 24) / 2;           
        $(loginBox).css({ 
            'margin-top' : -popMargTop,
            'margin-left' : -popMargLeft
        });         
        // Add the mask to body
        $('body').append('<div id="mask"></div>');
        $('#mask').fadeIn(300);         
        return false;
    });     
    // When clicking on the button close or the mask layer the popup closed
    $('a.close, #mask').live('click', function() { 
      $('#mask , .login-popup').fadeOut(300 , function() {
        $('#mask').remove();  
    }); 
    return false;
    });
}); 
```

这是我用来阻止表单提交的代码：

```
$(function () {
    $(':submit').click(function (event) {
        event.preventDefault();
        // submit the form dynamically
    });
}); 
```

下面是我的表格，尽管它在那里供观看，但可能并不重要。

```
<form method="post" id="loginform"  action="<?php echo $_SERVER['PHP_SELF']?>">
                <table style="color: white;">
                    <tr><th style="float:left;">Register a new account with us.</th></tr>
                    <tr><td>Username</td><td><input type="text" name="txtUser"/></td></tr>
                    <tr><td>Password</td><td><input type="text" name="txtPass"/></td></tr>
                    <tr><td>Email</td><td><input type="text" name="txtEmail"/></td></tr>
                    <tr><td>Confirm Email</td><td><input type="text" name="txtEmail2"/></td></tr>
                    <tr><td>First Name</td><td><input type="text" name="txtFname"/></td></tr>
                    <tr><td>Last Name</td><td><input type="text" name="txtLname"/></td></tr>
                    <tr><td>Address</td><td><input type="text" name="txtAddress"/></td></tr>
                    <tr><td>City</td><td><input type="text" name="txtCity"/></td></tr>
                    <tr><td>Postal Code</td><td><input type="text" name="txtPostal"/></td></tr>
                    <tr><td>Birth Year</td><td><input type="text" name="txtBirth"/></td></tr>
                    <tr><td>Gender</td><td><input type="radio" id="radio-1-1" name="radicalSex" class="regular-radio" value="m" selected="true" /><label for="radio-1-1"></label> Male</td></tr>
                    <tr><td></td><td><input type="radio" id="radio-1-2" name="radicalSex" class="regular-radio" value="f"/><label for="radio-1-2"></label> Female</td></tr>
                    <tr><td colspan='2' style="color: #FF6600;float:left;font-size:70%;"><?php echo $Error;?></td></tr>
                    <tr><td colspan="2"><input type="submit" name="btnRegister" ID="btnBlueTemp" value="Submit Registration" /></td></tr>
                    <tr><td colspan='2' style="float:left; font-size:70%;">Address information is optional</td></tr>
                </table>      
          </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T06:39:31.357

然后，通过 ajax 提交表单

[jQuery AJAX](http://api.jquery.com/jQuery.ajax/)

在发送请求的 AJAX URL 上，您可以编写必要的验证代码并相应地返回。例如。如果某个表单元素不符合验证，您可以相应地将标志作为 json 值抛出。

有可能，为什么不呢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T06:42:52.713

您需要在将表单数据发布到 PHP 之前对其进行序列化。

```
<script type="text/javascript">
    var frm = $('#loginform');
    frm.submit(function () {
        $.ajax({
            type: frm.attr('method'),
            url: frm.attr('action'),
            data: frm.serialize(),
            success: function (data) {
                alert('submitted');
            }
        });

        return false;//stop actual form submit
    });
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-01T06:55:38.947

让我举个例子说明如何做到这一点。

```
<html>
    <head>
    <title></title>

    <script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script>
        $(document).ready(function(){ 
            function validate(name, addr){
                if(name=="") {
                    alert('Name is Blank');
                    return false;
                } else if(addr=="") {
                    alert('Address is Blank');
                    return false;
                } else {
                    return true;
                }
            }
            $("#save").click(function(event){ 
                event.preventDefault();
                var name = $("#name").val();
                var addr = $("#addr").val();
                if(validate(name,addr)){
                    $.ajax({
                        type:'POST',
                        data:'name='+name+'&addr='+addr,
                        url:'test2.php',
                        success:function(data) {
                            alert(data);
                        }
                    })  
                }               
            });
        });
    </script>
    </head>
    <body>
    <form name="frm" method="POST" action="">
        <input  type="text" name="name" id="name" value=""/><br>
        <input type="text" name="addr" id="addr" value="" /><br>
        <input type="submit" name="save" id="save" value="Save"/>
    </form>
    </body>
</html> 
```

现在在 test2.php 你可以做你的 php 代码

```
<?php
    if(isset($_POST['name'])) {
        echo $_POST['name'];
    }
?> 
```

希望这能给你一个想法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-01T06:42:05.280

在客户端完成所有输入验证后，只需提交表单...

```
$("#loginform").submit(); 
```

然后您将让您的服务器完成其余的验证。

如果您想留在页面中并显示来自服务器的验证输出，则。您应该使用 Ajax 提交。

它将您的表单数据发送到服务器，然后您可以进行服务器验证，并输出任何错误。您将在您的 Ajax`complete`处理程序中获得此信息，您可以使用它向用户显示错误消息。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-01T06:51:11.460

要阻止表单重新加载页面，您不需要调用任何阻止方法，因为简单的脚本请求就可以解决问题。

例如，

```
$('#loginForm').submit(function() {
  // Do the relevant tasks needed here, form is already prevented from being submitted
}); 
```

查看此[演示](http://jsfiddle.net/MxgEf/7/)以获取有关我所指内容的更多信息

# android - 不同文本视图android的单击监听器

> ID：14640999
> 
> 赞同：3
> 
> 时间：2013-02-01T06:34:41.480
> 
> 标签：android

我已经为夏洛克片段中的不同文本视图实现了单击侦听器这是我的代码

```
 getView().findViewById(R.id.tv_plan).setOnClickListener(btn1Listener);
  getView().findViewById(R.id.tv_plan1).setOnClickListener(btn1Listener); 
```

和我的听众代码

```
 private View.OnClickListener btn1Listener = new View.OnClickListener() {

      @Override
      public void onClick(View v) 
      {
            android.support.v4.app.FragmentManager fm = getActivity().getSupportFragmentManager();
            String title=null;
            String tag=null;
               switch(v.getId())
              {
                case R.id.tv_plan:
                      System.out.println("Plan ids"  +v.getId());
                    title= "My Plan"; tag = "viewplan_dialog";
                    Utilsdialog dialog_vwplan = new Utilsdialog(context, R.layout.child,title, tag);
                    System.out.println("Before showing dialog tag");
                    dialog_vwplan.show(fm, tag);
                    System.out.println("SUCCESS");
                     break;
                case R.id.tv_plan1:
                    System.out.println("Plan ids"  +v.getId());
                    title= "Change plan"; tag = "changeplan_dialog";
                    Utilsdialog dialog_chgplan = new Utilsdialog(context, R.layout.child,title, tag);
                    dialog_chgplan.show(fm, tag);
                     break;

                 }
      }

  }; 
```

我的代码总是调用最后一个指定的监听器，即**tv_plan1**监听器，但我需要为两个文本视图提供 onclick 监听器。我当前的代码为两个文本视图点击调用 tv_plan1 ......请帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-01T06:38:56.847

试试这个，使用`Button`而不是`TextView`.

首先实现您的活动`OnClickListener`。

```
 public class Auctions extends Activity implements OnClickListener {

   private Button menu_Btn;
private Button deal_Btn;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.xml);
            menu_Btn = (Button) findViewById(R.id.menu);
    deal_Btn = (Button) findViewById(R.id.deals);
}  
 public void onClick(View v) {
    switch (v.getId()) {

     case R.id.menu:{
                  System.out.println("Plan ids"  +v.getId());
                title= "My Plan"; tag = "viewplan_dialog";
                Utilsdialog dialog_vwplan = new Utilsdialog(context, R.layout.child,title, tag);
                System.out.println("Before showing dialog tag");
                dialog_vwplan.show(fm, tag);
                System.out.println("SUCCESS");
                 break;
     }
            case R.id.deals:{
                System.out.println("Plan ids"  +v.getId());
                title= "Change plan"; tag = "changeplan_dialog";
                Utilsdialog dialog_chgplan = new Utilsdialog(context, R.layout.child,title, tag);
                dialog_chgplan.show(fm, tag);
                 break;
       }

    default:
        break;
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T06:55:11.177

你能用这个吗？

```
<Button
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:onClick="test"
    android:text="Datepicker"
    android:textColor="#FFFFFF" />

<Button
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:onClick="test"
    android:text="Test 2"
    android:textColor="#FFFFFF" /> 
```

在[文档上](http://developer.android.com/reference/android/view/View.html#attr_android%3aonClick)

然后在您的活动中：

```
public void test(View v) {
    Toast.makeText(this, "hello", Toast.LENGTH_SHORT).show();
} 
```