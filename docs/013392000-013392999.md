# StackOverflow 问答 13392000-13392999

# java - 如何运行循环以从扫描仪获取不确定数量的输入？

> ID：13392004
> 
> 赞同：-1
> 
> 时间：2012-11-15T05:27:35.093
> 
> 标签：java, command-line, input, java.util.scanner

我想将一行整数作为命令行输入。但我不知道用户将输入多少整数。那么如何在正确的时间停止我的扫描仪对象。是否有类似 hasNext() 的方法可以在 while 循环中使用？例如：我的输入可能是：

```
2 3 4 5
or 
9 1 3 4 5 6 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T05:34:00.257

您可以轻松地使用 String.split() 来获取所有输入的数组。例如：

```
String[] input = in.nextLine().split(); 
```

然后，您可以根据需要访问每个元素。希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:43:30.603

您可以使用[`Scanner`](http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html)如下：

```
Scanner scan=new Scanner(System.in);
String input=scan.readLine();
String[] nums=input.split();
int[] numbers=nums.length;
for(int i=0;i<nums.length;i++){
    numbers[i]=Integer.parseInt(nums[i]);
} 
```

此代码将整体`String`作为输入，然后将它们拆分并转换为`Integer`

# hsqldb - 我可以运行有限制的 DELETE 吗？

> ID：13392007
> 
> 赞同：0
> 
> 时间：2012-11-15T05:27:53.373
> 
> 标签：hsqldb

我需要在 HSQLDB 中运行如下查询：

```
delete from mytable where username = ? and password = ? and name = ? limit 1; 
```

本质上，我最多只想从数据库中删除*一行*，前提是该行符合我的上述条件。这在 HSQLDB 中可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:45:01.033

是的，试试这个：

```
delete from mytable where username = ? and password = ? and name = ? and rownum() <= 1 
```

该表达式`rownum() <= n`还用于将巨大的删除或更新分解为更小的块。例如，删除一些 1000000 行可以以 100000 行为单位进行。

# wordpress - WordPress。制作自定义帖子类型布局

> ID：13392013
> 
> 赞同：1
> 
> 时间：2012-11-15T05:28:22.720
> 
> 标签：wordpress, layout, tabs, custom-post-type

我知道如何在 Wordpress 中创建自定义帖子类型。但是如何设置这种帖子类型的布局或设计？

我想要一个标题，下面应该是一张图片。然后是 2 个选项卡。每个都有不同的内容。看截图：

![在此处输入图像描述](../Images/6d6387b3b80739c3c96c1ef1be801d18.png)

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T08:54:48.347

在您的主题中获取您的 single.php 页面。此页面用于生成普通帖子页面的模板。将其保存在名称下`single-yourposttype.php`。更改此页面的内容以创建您的模板，使用`title()`, `content()`，就像在`single.php`页面中的普通帖子一样。如果您还需要在标题中更改某些内容，请为此帖子类型调用不同的标题，方法是替换`get_header();`为`get_header('posttype');`并创建一个修改后的版本，该版本将在查看您的帖子类型页面时调用`header.php`。`header-youposttype.php`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-03T10:40:46.957

戴夫，我使用 WordPress 术语：页面 = 称为“页面”的帖子类型，由“page.php”控制。“post” = 由“single.php”控制。自定义帖子类型 = 由“single-yourposttype.php”控制（例如，如果您的自定义帖子类型是“视频”，则为“single-videos.php”）。我想您希望以这种方式显示一种类型的所有自定义帖子，而不仅仅是一个帖子（否则，没有意义）。所以这正是我在之前的回答中解释的如何做。对于标签，您只需要创建一个标签系统（可能像[http://jqueryui.com/tabs/](http://jqueryui.com/tabs/)）并调整您的模板（同样，您的模板将是 single-nameofyourposttype.php）。如果您已准备元框以将每个选项卡的内容保存在两个不同的字段中，`get_post_meta()`[http://codex.wordpress.org/Function_Reference/get_post_meta](http://codex.wordpress.org/Function_Reference/get_post_meta)）检索每个选项卡的内容。但也许你的困难更多是在担心显示它之前准备你的自定义帖子类型管理员。您需要创建“元框”（额外字段，以便您可以为自定义帖子类型输入不同类型的内容：在这种情况下：每个标签都有一个文本编辑器，可以上传照片等，只是就像普通帖子的内容区域一样）。您可以在此处阅读有关创建元框的更多信息： http://wp.smashingmagazine.com/2011/10/04/create-custom-post-meta-boxes-wordpress/ 或此处：[http :](http://wp.smashingmagazine.com/2011/10/04/create-custom-post-meta-boxes-wordpress/) [//thomasgriffinmedia.com/blog /2011/07/how-to-automatically-add-meta-boxes-to-custom-post-types/](http://thomasgriffinmedia.com/blog/2011/07/how-to-automatically-add-meta-boxes-to-custom-post-types/) 起初它可能看起来有点压倒性，但一旦你明白了，一切都非常容易和高效。

# jquery - jQuery .delay 不起作用

> ID：13392014
> 
> 赞同：0
> 
> 时间：2012-11-15T05:28:23.110
> 
> 标签：jquery

这很奇怪。我有一个 div，我希望该 div 在 5 秒内向下滑动。所以我正在使用这个脚本：

```
$('.land_leadform').hide(0).delay(5000).slideDown(5000); 
```

如果我使用`.delay(5000)`动画根本不起作用。但是如果我使用

```
$('.land_leadform').hide(0).slideDown(5000); 
```

它工作正常。

不工作的原因可能是什么`.delay`？这是一个已知问题还是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:38:12.170

`.delay`仅在您处理动画队列时才有效。`.hide()`并且`.show()`没有参数不与动画队列交互。通过添加`.hide(1)`and`.show(1)`之前`.delay()`使幻灯片动画在队列中等待。

# c# - 如何更改动态过滤器控件的顺序？

> ID：13392017
> 
> 赞同：5
> 
> 时间：2012-11-15T05:28:47.643
> 
> 标签：c#, asp.net, .net, dynamic-data, asp.net-dynamic-data

我有一个 ASP.NET 动态数据站点，该站点具有多个使用元数据构建的过滤器控件，例如：

```
[ScaffoldTable(true), MetadataType(typeof(Fees.Metadata))]
public partial class Fees
{
    public class Metadata
    {
        [FilterUIHint("DateRange")]
        public object InvoiceDate;
    }
{ 
```

如何以特定方式订购这些过滤器。看起来很随意。我可以使用元数据属性还是应该修改页面模板，这是怎么回事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-19T04:54:15.817

好的，所以我最终只是手动重新排序自定义代码隐藏页面上的控件列表，如下所示：

```
Control date_filter = FilterRepeater.Controls[1];
FilterRepeater.Controls.RemoveAt(1);
FilterRepeater.Controls.Add(date_filter); 
```

在页面上的 3 个控件中，这会将第 2 个控件取出并将其添加到末尾。

如果我需要再次使用，我可能会创建一个方法并搜索控件名称。

这是一个粗略的解决方案，但它适合我这个临时场景。如果有人找到更好的方法，请告诉我。

* * *

好的更好的方法：

1.  安装这个： http: [//nuget.org/packages/NotAClue.DynamicData.Extensions](http://nuget.org/packages/NotAClue.DynamicData.Extensions)
2.  添加参考“使用 NotAClue.ComponentModel.DataAnnotations;” 如果您使用的是单独的实体页面
3.  将 [Filter(Order=1)] 元数据标签添加到属性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-04T21:50:50.280

最后，这很简单。我有四个过滤器，现在它们以正确的顺序出现......您需要做的就是在类元数据定义中添加一个 Display/Order 指令，例如：其中“n”是出现的顺序。

在我使用的元数据定义中（VB - 所以你需要将它转换为你的场景）..

我的文件名：OpCoProductRev.vb

```
<MetadataType(GetType(OpCoProductRevMetadata))>
Partial Public Class OpCoProductRev

End Class

Partial Public Class OpCoProductRevMetadata

    <Required()>
    <DisplayName("xxxx")>
    <UIHint("xxxx")>
    <FilterUIHint("xxxxFilter")>
    <Display(Order:=1)>
    Public Property xxxx As Object

    <Required()>
    <DisplayName("yyyyy")>
    <UIHint("yyyyy")>
    <FilterUIHint("yyyyyFilter")>
    <Display(Order:=2)>
    Public Property yyyyy As Object

    <Required()>
    <DisplayName("zzzzzz")>
    <UIHint("zzzzzz")>
    <FilterUIHint("zzzzzzFilter")>
    <Display(Order:=3)>
    Public Property zzzzzz As Object

    <Required()>
    <DisplayName("aaa")>
    <UIHint("aaa")>
    <FilterUIHint("aaaFilter")>
    <Display(Order:=4)>
    Public Property aaa As Object

End Class 
```

希望能帮助到你...

# ruby-on-rails - 在每个循环中按月分组

> ID：13392018
> 
> 赞同：-1
> 
> 时间：2012-11-15T05:28:53.423
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

在我的以下代码中，我必须按月对风险进行分组。谁能帮我按月分组

```
 analysis_response.histories.each do |month, history|
            @low = 0
            @medium = 0
            @high = 0
            if history != nil
              risk = get_risk(history.probability, history.consequence)
              if risk === 0
                @low += 1
              elsif risk === 1
                @medium += 1
              elsif risk === 2
                @high += 1
              end
            end
          end 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:08:05.500

为什么不试试这个？（简单的一种）

```
month_risk = {}
analysis_response.histories.each do |month, history|
  @low = 0
  @medium = 0
  @high = 0
  if history != nil
    risk = get_risk(history.probability, history.consequence)
    if risk === 0
      @low += 1
    elsif risk === 1
      @medium += 1
    elsif risk === 2
      @high += 1
    end
  end
  month_risk[month] = {low: @low, medium: @medium, high: @high}
end

# You can get them via month_risk[month][:low] etc, where month is sym or str as you like 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:57:13.777

如果您正在使用 Rails 或已包含`active_support`，那么您可以`group_by`像这样使用：

```
analysis_response.histories.group_by(&:month) 
```

根据月份的类型，您将获得如下所示的哈希：

```
{
  :jan => [<history>, <history>],
  :feb => [<history>],
  ...
  :dec => [<history>, <history>]
} 
```

要按风险分组，请执行以下操作：

```
risk_levels = [:low, :medium, :high]
analysis_response.histories.compact.group_by do |month, history|
  risk_levels[get_risk(history.probability, history.consequence)]
end 
```

产生这样的哈希：

```
{
  :low => [<history>, <history>],
  :medium => [<history>, <history>],
  :high => [<history>, <history>]
} 
```

如果您尝试按月对风险级别进行分组，请执行以下操作：

```
grouped_histories = {}
risk_levels = [:low, :medium, :high]
analysis_response.histories.group_by(&:month).each_pair do |month, histories|
  risk_histories = histories.compact.group_by do |history|
    risk_levels[get_risk(history.probability, history.consequence)]
  end
  risk_histories.each_pair do |risk, history_list|
    grouped_histories[:month][risk] = history_list.size
  end
end 
```

给你这个：

```
{
  :jan => {
            :low => 1,
            :medium => 2
            :high => 0
          },
  :feb => {
            :low => ...you get the idea
          }
} 
```

# mysql - mysql重启

> ID：13392019
> 
> 赞同：1
> 
> 时间：2012-11-15T05:29:01.750
> 
> 标签：mysql, linux, mysql-error-1045

我无法进入 mysql，因为我收到以下消息：

```
 ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO) 
```

我可以通过杀死 mysql 并使用 --skip-grant-tables 重新启动它来解决这个问题

但是突然我无法停止mysql。每次我杀了它，它都会重新开始

```
 betty@bettypc:~$ sudo killall -v mysqld
    [sudo] password for betty: 
    Killed mysqld(4503) with signal 15
    betty@bettypc:~$ ./doMysqld
    Mysql daemon is already running
    betty@bettypc:~$ sudo killall -v mysqld
    Killed mysqld(4965) with signal 15
    betty@bettypc:~$ ps -ef | grep mysql
    mysql     5077     1  2 00:03 ?        00:00:00 /usr/sbin/mysqld
    betty     5175  4900  0 00:03 pts/0    00:00:00 grep --color=auto mysql
    betty@bettypc:~$ sudo killall -9 mysqld
    mysql     5185     1  4 00:03 ?        00:00:00 /usr/sbin/mysqld
    betty     5283  4900  0 00:03 pts/0    00:00:00 grep --color=auto mysql 
```

我该怎么办？

# c++ - Direct X 9 - 三角形未出现

> ID：13392021
> 
> 赞同：2
> 
> 时间：2012-11-15T05:29:14.087
> 
> 标签：c++, rendering, directx, directx-9, direct3d9

目前，在开始编写程序之前，我正在使用 DirectX 做一些测试用例。现在，我已经把下面的代码弄乱了一天左右。我在网上查看类似问题时修改了代码。但最终，它也没有按照我想要的方式工作。有人能告诉我我到底做错了什么吗？也许其他人可以解决这个问题。

```
// TetrisClone.cpp : Defines the entry point for the application.
//

#include "stdafx.h"
#include "TetrisClone.h"
#include <d3d9.h>
#include <d3dx9.h>

#define MAX_LOADSTRING 100
#define SCREEN_WIDTH 800
#define SCREEN_HEIGHT 600

#define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZ|D3DFVF_DIFFUSE)

//for testing purposes
struct CUSTOMVERTEX
{
    FLOAT x, y, z; //position
    DWORD color; //Color
};

// global declarations for Direct3d
LPDIRECT3D9 d3d;    // the pointer to our Direct3D interface
LPDIRECT3DDEVICE9 d3ddev;    // the pointer to the device class
LPDIRECT3DVERTEXBUFFER9 g_pVB = NULL;

// function prototypes
void initD3D(HWND hWnd);    // sets up and initializes Direct3D
void render_frame(void);    // renders a single frame
void cleanD3D(void);    // closes Direct3D and releases memory
void init_graphics(void);    // 3D declarations

// Global Variables:
HINSTANCE hInst;                                // current instance
TCHAR szTitle[MAX_LOADSTRING];                  // The title bar text
TCHAR szWindowClass[MAX_LOADSTRING];            // the main window class name

// Forward declarations of functions included in this code module:
ATOM                MyRegisterClass(HINSTANCE hInstance);
BOOL                InitInstance(HINSTANCE, int);
LRESULT CALLBACK    WndProc(HWND, UINT, WPARAM, LPARAM);
INT_PTR CALLBACK    About(HWND, UINT, WPARAM, LPARAM);

int APIENTRY _tWinMain(HINSTANCE hInstance,
                     HINSTANCE hPrevInstance,
                     LPTSTR    lpCmdLine,
                     int       nCmdShow)
{
    UNREFERENCED_PARAMETER(hPrevInstance);
    UNREFERENCED_PARAMETER(lpCmdLine);

    // TODO: Place code here.
    MSG msg;
    HACCEL hAccelTable;

    // Initialize global strings
    LoadString(hInstance, IDS_APP_TITLE, szTitle, MAX_LOADSTRING);
    LoadString(hInstance, IDC_TETRISCLONE, szWindowClass, MAX_LOADSTRING);
    MyRegisterClass(hInstance);

    // Perform application initialization:
    if (!InitInstance (hInstance, nCmdShow))
    {
        return FALSE;
    }

    hAccelTable = LoadAccelerators(hInstance, MAKEINTRESOURCE(IDC_TETRISCLONE));

    // Main message loop:
    while(TRUE)
    {
        // Check to see if any messages are waiting in the queue
        while(PeekMessage(&msg, NULL, 0, 0, PM_REMOVE))
        {
            // Translate the message and dispatch it to WindowProc()
            TranslateMessage(&msg);
            DispatchMessage(&msg);
        }

        // If the message is WM_QUIT, exit the while loop
        if(msg.message == WM_QUIT)
            break;

        render_frame();
    }

    cleanD3D();
    return (int) msg.wParam;
}

//
//  FUNCTION: MyRegisterClass()
//
//  PURPOSE: Registers the window class.
//
//  COMMENTS:
//
//    This function and its usage are only necessary if you want this code
//    to be compatible with Win32 systems prior to the 'RegisterClassEx'
//    function that was added to Windows 95\. It is important to call this function
//    so that the application will get 'well formed' small icons associated
//    with it.
//
ATOM MyRegisterClass(HINSTANCE hInstance)
{
    WNDCLASSEX wcex;

    wcex.cbSize = sizeof(WNDCLASSEX);

    wcex.style          = CS_HREDRAW | CS_VREDRAW;
    wcex.lpfnWndProc    = WndProc;
    wcex.cbClsExtra     = 0;
    wcex.cbWndExtra     = 0;
    wcex.hInstance      = hInstance;
    wcex.hIcon          = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_TETRISCLONE));
    wcex.hCursor        = LoadCursor(NULL, IDC_ARROW);
    wcex.hbrBackground  = (HBRUSH)(COLOR_GRAYTEXT);
    wcex.lpszMenuName   = MAKEINTRESOURCE(IDC_TETRISCLONE);
    wcex.lpszClassName  = szWindowClass;
    wcex.hIconSm        = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_SMALL));

    return RegisterClassEx(&wcex);
}

//
//   FUNCTION: InitInstance(HINSTANCE, int)
//
//   PURPOSE: Saves instance handle and creates main window
//
//   COMMENTS:
//
//        In this function, we save the instance handle in a global variable and
//        create and display the main program window.
//
BOOL InitInstance(HINSTANCE hInstance, int nCmdShow)
{
   HWND hWnd;

   hInst = hInstance; // Store instance handle in our global variable

   hWnd = CreateWindow(szWindowClass, szTitle, WS_OVERLAPPEDWINDOW,
      CW_USEDEFAULT, CW_USEDEFAULT, SCREEN_WIDTH, SCREEN_HEIGHT, NULL, NULL, hInstance, NULL);

   if (!hWnd)
   {
      return FALSE;
   }

   ShowWindow(hWnd, nCmdShow);

   // set up and initialize Direct3D
   initD3D(hWnd);

   UpdateWindow(hWnd);

   return TRUE;
}

//
//  FUNCTION: WndProc(HWND, UINT, WPARAM, LPARAM)
//
//  PURPOSE:  Processes messages for the main window.
//
//  WM_COMMAND  - process the application menu
//  WM_PAINT    - Paint the main window
//  WM_DESTROY  - post a quit message and return
//
//
LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    int wmId, wmEvent;
    PAINTSTRUCT ps;
    HDC hdc;

    switch (message)
    {
    case WM_COMMAND:
        wmId    = LOWORD(wParam);
        wmEvent = HIWORD(wParam);
        // Parse the menu selections:
        switch (wmId)
        {
        case IDM_ABOUT:
            DialogBox(hInst, MAKEINTRESOURCE(IDD_ABOUTBOX), hWnd, About);
            break;
        case IDM_EXIT:
            DestroyWindow(hWnd);
            break;
        default:
            return DefWindowProc(hWnd, message, wParam, lParam);
        }
        break;
    case WM_PAINT:
        hdc = BeginPaint(hWnd, &ps);
        // TODO: Add any drawing code here...
        EndPaint(hWnd, &ps);
        break;
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
    default:
        return DefWindowProc(hWnd, message, wParam, lParam);
    }
    return 0;
}

// Message handler for about box.
INT_PTR CALLBACK About(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam)
{
    UNREFERENCED_PARAMETER(lParam);
    switch (message)
    {
    case WM_INITDIALOG:
        return (INT_PTR)TRUE;

    case WM_COMMAND:
        if (LOWORD(wParam) == IDOK || LOWORD(wParam) == IDCANCEL)
        {
            EndDialog(hDlg, LOWORD(wParam));
            return (INT_PTR)TRUE;
        }
        break;
    }
    return (INT_PTR)FALSE;
}

/***
    Direct3d functions

***/

// this function initializes and prepares Direct3D for use
void initD3D(HWND hWnd)
{
    d3d = Direct3DCreate9(D3D_SDK_VERSION);    // create the Direct3D interface

    D3DPRESENT_PARAMETERS d3dpp;    // create a struct to hold various device information

    ZeroMemory(&d3dpp, sizeof(d3dpp));    // clear out the struct for use
    d3dpp.Windowed = TRUE;    // program windowed, not fullscreen
    d3dpp.SwapEffect = D3DSWAPEFFECT_DISCARD;    // discard old frames
    d3dpp.hDeviceWindow = hWnd;    // set the window to be used by Direct3D

    // create a device class using this information and information from the d3dpp stuct
    d3d->CreateDevice(D3DADAPTER_DEFAULT,
                      D3DDEVTYPE_HAL,
                      hWnd,
                      D3DCREATE_SOFTWARE_VERTEXPROCESSING,
                      &d3dpp,
                      &d3ddev);

    init_graphics();
}

// this is the function used to render a single frame
void render_frame(void)
{

    // clear the window to a deep blue
    d3ddev->Clear(0, NULL, D3DCLEAR_TARGET, D3DCOLOR_XRGB(0, 40, 100), 1.0f, 0);

    d3ddev->BeginScene();    // begins the 3D scene

        //set FVF
    d3ddev->SetFVF(D3DFVF_CUSTOMVERTEX);

    //setting stream source
    d3ddev->SetStreamSource(0, g_pVB, 0, sizeof(CUSTOMVERTEX));

    // do 3D rendering on the back buffer here

    //drawing triangle
    d3ddev->DrawPrimitive(D3DPT_TRIANGLELIST, 0, 1);

    d3ddev->EndScene();    // ends the 3D scene

    d3ddev->Present(NULL, NULL, NULL, NULL);    // displays the created frame
}

// this is the function that puts the 3D models into video RAM
void init_graphics(void)
{
    // create the vertices using the CUSTOMVERTEX struct
    CUSTOMVERTEX vertices[] =
    {
        { 400.0f, 62.5f, 0.0f, D3DCOLOR_XRGB(0, 0, 255), },
        { 650.0f, 500.0f, 0.0f, D3DCOLOR_XRGB(0, 255, 0), },
        { 150.0f, 500.0f, 0.0f, D3DCOLOR_XRGB(255, 0, 0), },
    };

    // create a vertex buffer interface called v_buffer
    d3ddev->CreateVertexBuffer(3*sizeof(CUSTOMVERTEX),
                               0,
                               D3DFVF_CUSTOMVERTEX,
                               D3DPOOL_MANAGED,
                               &g_pVB,
                               NULL);

    VOID* pVoid;    // a void pointer

    // lock v_buffer and load the vertices into it
    g_pVB->Lock(0, 0, (void**)&pVoid, 0);
    memcpy(pVoid, vertices, sizeof(vertices));
    g_pVB->Unlock();
}

// this is the function that cleans up Direct3D and COM
void cleanD3D(void)
{
    g_pVB->Release();
    d3ddev->Release();    // close and release the 3D device
    d3d->Release();    // close and release Direct3D
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T13:47:05.907

由于您没有设置相机并且没有对顶点进行任何变换，因此，您应该将顶点设置在长方体的范围内（透视投影变换后），即

```
-1 << 1 << 1
-1 << y << 1
 0 << z << 1 
```

以下更改将使您的三角形可见。

```
 CUSTOMVERTEX vertices[] =
    {
        { 0.0f, 0.0, 0.0f, D3DCOLOR_XRGB(0, 0, 255), },
        { 0.0f, 1.0f, 0.0f, D3DCOLOR_XRGB(0, 255, 0), },
        { 1.0f, 0.0f, 0.0f, D3DCOLOR_XRGB(255, 0, 0), },
    }; 
```

有很多原因可以导致 Direct3D 程序中的几何/模型不可见，我在下面列出了一些。

*   禁用/启用照明

通常，我们需要在渲染过程中启用光照，但如果您使用 LT(Lit and Transformed) 顶点格式，这意味着您为顶点定义颜色并为其使用屏幕坐标，这告诉 Direct3D 引擎：“嘿，做不照亮和变换我的顶点，我会这样做！”，在你的代码中你没有使用 LT 格式，这意味着你应该变换和照亮你的顶点，但是你没有任何灯光设置，所以你会得到一个黑色的三角形，事实上，你什么也没得到，因为顶点坐标不在视野范围内。

*   顶点坐标

我们通常在物体空间中指定顶点坐标，然后将它们变换到世界空间->视图空间->投影空间->屏幕空间，在你上面的代码中，你没有做任何转移，但是你的顶点坐标太大了，透视变换后超出长方体范围，范围为-1 << x << 1, -1 << y << 1, 0 << z << 1。

*   背面剔除模式

这也是需要考虑的一个非常重要的因素，默认情况下，Direct3D 使用会剔除逆时针定义的所有面，有关详细信息，请参阅此线程[Odd behavior when trying to create triangle using TriangleStrip Topologu](https://stackoverflow.com/questions/13296440/odd-behaviour-when-trying-to-create-triangle-using-trianglestrip-topologu/13300848#13300848)。

*   相机设置

首先，确保您的相机正对您正在绘制的内容，然后设置正确的距离。您为顶点使用大坐标，因此，您应该将相机设置为远离您正在渲染的几何体，否则您将什么也看不到。

*   你什么都没画

这个项目看起来有点搞笑，但确实发生了，当我们想测试渲染是否有效时，我们总是将渲染函数中的一些代码注释掉并绘制其他内容，我们也可以测试程序是否在没有任何绘制的情况下工作代码，然后我们忘记了取消注释绘图代码，这导致屏幕上没有任何内容。我最初学习D3D时遇到了这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:17:16.203

我可以通过一些调整来渲染你的场景！

我注意到的第一件事是，您的 FVF 没有以我习惯的方式定义，即在没有相机的情况下进行渲染。（不是 100%）在你的情况下，如果你想要没有相机的位置和颜色，你会使用

```
 #define D3DFVF_CUSTOMVERTEX (D3DFVF_XYZRHW|D3DFVF_DIFFUSE) 
```

而不是你所拥有的。

这也意味着您需要更改自定义顶点结构以添加 w 组件，此链接可能会帮助您了解 w 的用途。在基本术语中，XYZRHW 意味着这些点已经被转换到屏幕空间，而不是世界空间。（谷歌快速搜索：[http](http://www.gamedev.net/topic/200077-xyz-rhw/) ://www.gamedev.net/topic/200077-xyz-rhw/ ）

```
struct CUSTOMVERTEX
{
    FLOAT x, y, z, w; //position
    DWORD color; //Color
}; 
```

通过此更改，您还需要更改 init_graphics 中的顶点，尝试类似这样的操作，（您所拥有的但添加了 w 组件）我还删除了一些困扰我的额外逗号。

```
CUSTOMVERTEX vertices[] =
{
    { 400.0f, 62.5f, 0.0f, 1, D3DCOLOR_XRGB(0,0,255) },
    { 650.0f, 500.0f, 0.0f, 1, D3DCOLOR_XRGB(0,255,0) },
    { 150.0f, 500.0f, 0.0f, 1, D3DCOLOR_XRGB(255,0,0) }
}; 
```

其次，在您的 init_graphics 函数中，您的顶点缓冲区锁锁定的大小为 0！更改它以锁定您拥有的顶点数，在本例中为 3。

```
g_pVB->Lock(0, 3*sizeof(CUSTOMVERTEX), (void**)&pVoid, 0); 
```

注意你使用 memcpy 的方式，如果你在函数之间传递顶点数据，你的指针会降级，导致 sizeof 只检索数组中一个元素的大小。在您当前的代码中根本没有必要更改它，但它在未来可能很重要，您应该知道。使用这样的东西会让这在我眼中更具未来性。

```
memcpy(pVoid, vertices, 3*sizeof(CUSTOMVERTEX)); 
```

如果我没有忘记任何东西，那应该足以让您启动并运行。祝你好运！

# sql - 在同一张表的 2 列之间做 +

> ID：13392022
> 
> 赞同：-4
> 
> 时间：2012-11-15T05:29:14.850
> 
> 标签：sql, oracle

我如何在同一张表中对 2 列求和？什么是正确的sql做一个加号

示例：
我在同一张表上有 2 列：currentcharges & overduecharge
我需要做一个语句 currentcharge + overduecharge。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T05:54:52.617

```
select currentcharge + overduecharge as total_charge from the_table 
```

别名 ("total_charge") 是可选的，但如果您稍后需要参考计算列时会很有帮助。

# iphone - 将 CG 结构序列化为适当对象的最佳实践

> ID：13392023
> 
> 赞同：2
> 
> 时间：2012-11-15T05:29:21.110
> 
> 标签：iphone, objective-c, ios, serialization, core-graphics

将基于 CoreGraphics 结构的值（例如 , 等）存储到适当的对象中以便存储在集合类中的最佳实践是`CGRect`什么`CGPoint`？

您可以使用`NSValue`：

```
 NSMutableArray *values = [NSMutableArray array];

    CGRect rect = CGRectMake(0, 0, 100, 100);
    NSValue *value = [NSValue valueWithCGRect:rect];

    [values addObject:value];

    CGRect rectValue = [values[0] CGRectValue]; 
```

或`NSString`：

```
 NSMutableArray *values = [NSMutableArray array];

    CGRect rect = CGRectMake(0, 0, 100, 100);
    NSString *string = NSStringFromCGRect(rect);

    [values addObject:string];

    CGRect rectValue = CGRectFromString(string); 
```

只是想知道我是否缺少某些东西，并且其中一个比另一个有优势。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:34:48.727

第一种方式更“规范”，因为它在内存中占用的空间更小，并且不需要太多 CPU 来进行转换。由于转换为十进制并返回，也不存在精度损失的可能性：`struct`s 内的浮点数以其本机格式存储。

公平地说，这两种方法之间的差异可以忽略不计，除非您需要处理数以万计的对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:34:24.603

两种方法都有效。使用`NSValue`很可能比使用`NSString`方法更有效。字符串处理通常比`NSValue`.

如果您只做一些事情，那么总体上可能没有什么不同。但是，如果您有很多这些要转换，请使用该`NSValue`方法以获得更好（更快）的性能。

# java - java中的Unix时间戳创建

> ID：13392030
> 
> 赞同：5
> 
> 时间：2012-11-15T05:29:56.400
> 
> 标签：java, date, time

> **可能重复：**
> [从 Date() 获取 unix 时间戳](https://stackoverflow.com/questions/7784421/getting-unix-timestamp-from-date)

我有约会

```
Fri, 09 Nov 2012 23:40:18 GMT 
```

以及我应该如何将它转换为 Unix 时间戳，如 java 中的“1352504418”

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-15T05:32:54.950

首先获取**日期对象**，然后**以毫秒为单位获取时间（01/01/1970 00:00:00 之后的毫秒）**，最后将毫秒除以 1000 得到秒，**即 UNIX 时间**。你完成了。

例如

```
 String dateString = "Fri, 09 Nov 2012 23:40:18 GMT";
    DateFormat dateFormat = new SimpleDateFormat("EEE, dd MMM yyyy hh:mm:ss z");
    Date date = dateFormat.parse(dateString );
    long unixTime = (long) date.getTime()/1000;
    System.out.println(unixTime );//<- prints 1352504418 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-15T05:34:06.083

[`Date.getTime`](http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime%28%29)提供“自 1970 年 1 月 1 日 00:00:00 以来的毫秒数”，与 Unix 时间 * 1000 相同。

# python - 算法 - 如何快速确保每个组中的元素都是唯一的

> ID：13392031
> 
> 赞同：0
> 
> 时间：2012-11-15T05:29:59.640
> 
> 标签：python, algorithm

不知道如何在标题中解释问题。

这是问题所在：

假设我们有 4 组：

```
(a, b, c, d)
(e, f)
(g, h, i)
(j, k, l, m, n) 
```

现在给了我一个 4 元素元组，例如`(a, e, h, m)`，两个都不是来自一个组，所以我返回 True。如果给定`(a, b, e, g)`，则`a, b`来自一组，返回 False。

然后这是我目前的想法，我给每个元素一个以组号开头的 id 并测试是否重复。

```
g1 = ['1a', '1b', '1c', '1d']
g2 = ['2e', '2f']
g3 = ['3g', '3h', '3i']
g4 = ['4j', '4k', '4l', '4m', '4n']

def test(elements):
    if len(elements) != 4:
        return False

    stack = []
    for e in elements:
        mark = e[:1]
        if mark in stack:
            return False
        stack.append(mark)

    ga = set(g1 + g2 + g3 + g4)
    return set(elements).issubset(ga)

print test(('1a', '1b', '2e', '3g'))
print test(('1a', '2e', '3g', '4m')) 
```

但我认为字符串比较不是一个非常优雅的解决方案，这可以通过另一种更快的算法来完成吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T05:33:09.877

如果所有元素都是可散列的，我会使用`set.intersection`：

```
g1 = set(['1a', '1b', '1c', '1d'])
g2 = set(['2e', '2f'])
g3 = set(['3g', '3h', '3i'])
g4 = set(['4j', '4k', '4l', '4m', '4n'])

sets = [g1,g2,g3,g4]
test_this = ['1a','2e','3g','4j']

all(len(s.intersection(test_this)) <= 1 for s in sets) 
```

或者，如果您不想更改 g1,g2 的类型 ...您可以更改的类型`test_this`：

```
g1 = ['1a', '1b', '1c', '1d']
g2 = ['2e', '2f']
g3 = ['3g', '3h', '3i']
g4 = ['4j', '4k', '4l', '4m', '4n']
lists = [g1,g2,g3,g4]
test_this = set(['1a','2e','3g','4j'])

all( len(test_this.intersection(lst)) <= 1 for lst in lists ) 
```

这里的美妙之处在于它`all`足够聪明，可以短路——而且由于我们使用的是生成器表达式，我们不需要预先计算所有的交点。只要所有先前的交叉点的长度小于或等于 1，Python 只会继续计算交叉点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T05:38:42.327

只是在解释器中玩耍，与 mgilson 相同，但您不需要检查`len()`，现有的 set() 评估为 True。

```
>>> g1 = ['1a', '1b', '1c', '1d']
>>> g2 = ['2e', '2f']
>>> g3 = ['3g', '3h', '3i']
>>> g4 = ['4j', '4k', '4l', '4m', '4n']
>>>
>>> groups = (g1, g2, g3, g4)
>>> t1 = ('1a', '1b', '2e', '3g')
>>> t2 = ('1a', '2e', '3g', '4m')
>>>
>>> all(set(t2).intersection(g) for g in groups)
True
>>> all(set(t1).intersection(g) for g in groups)
False
>>> 
```

# java - 接受自定义队列的线程池执行器

> ID：13392033
> 
> 赞同：0
> 
> 时间：2012-11-15T05:30:09.110
> 
> 标签：java, javascript, jakarta-ee

一般`ThreadPoolExecutor`接受/访问`Queue<Runnable>`. 是否有任何方法可以接受/访问自定义队列，即某种对象类型的队列`Queue<some class object>`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T05:43:53.597

`CustomObject`不，您的参数中没有任何方法。

`Runnable`是一个接口。

您实际上会将您`CustomObject`的 s 队列作为`Runnable`.

你只需要确保你`CustomObject`实现了`Runnable`接口。

# python - Python：即使以不同方式导入模块，也使类变量静态化

> ID：13392038
> 
> 赞同：5
> 
> 时间：2012-11-15T05:30:41.247
> 
> 标签：python, class, static, import

让我们考虑如下的包结构：

```
myApp
|-- myPackage
|    |-- __init__.py 
|    +-- myModule.py
|-- __init__.py
+-- main.py 
```

myModule.py 包含一个类，例如：

```
class MyClass( object ):
    _myList = []

    @classmethod
    def test( cls ):
        cls._myList.append( len( cls._myList ) )
        return cls._myList

    def __init__( self ):
        return

    pass 
```

如您所见，没有什么花哨的，我只是将列表定义为静态类变量。现在让我们考虑 main.py 中的代码：

```
from myApp.myPackage.myModule import MyClass as MyClassAbs
from myPackage.myModule import MyClass as MyClassRel

if __name__ == '__main__':

    print '\n  myList'
    print 'MyClassAbs().test():', MyClassAbs().test() #< Prints [0].
    print 'MyClassRel().test():', MyClassRel().test() #< Prints [0] but should be [0, 1].
    print 'MyClassAbs.test():', MyClassAbs.test() #< Prints [0, 1] but should be [0, 1, 2].
    print 'MyClassRel.test():', MyClassRel.test() #< Prints [0, 1] but should be [0, 1, 2, 3].

    print '\n  myList ids'
    print id( MyClassAbs().test() )
    print id( MyClassRel().test() )
    print id( MyClassAbs.test() )
    print id( MyClassRel.test() )

    print ''
    print 'MyClassAbs == MyClassRel:', MyClassAbs == MyClassRel #< Prints False
    print 'isinstance( MyClassAbs(), MyClassRel ):', isinstance( MyClassAbs(), MyClassRel ) #< Prints False
    print 'isinstance( MyClassRel(), MyClassAbs ):', isinstance( MyClassRel(), MyClassAbs ) #< Prints False

    pass 
```

问题是，在我的代码中，我从同一个模块导入了两次相同的类，但方式不同：一次是绝对导入，一次是相对导入。如代码的最后一部分所示，即使类相同，它们也不相等，因为它们的模块被独特地注册到 sys.modules 中：

```
'myApp.myPackage.myModule': <module 'myApp.myPackage.myModule' from '/full/path/myApp/myPackage/myModule.py'>
'myPackage.myModule': <module 'myPackage.myModule' from '/full/path/myApp/myPackage/myModule.py'> 
```

因此，它们的表示不同：

```
'MyClassAbs': <class 'myApp.myPackage.myModule.MyClass'>
'MyClassRel': <class 'myPackage.myModule.MyClass'> 
```

那么......有没有办法将此变量设置为静态的好？

**编辑：**
上面的代码显然只是减少了我真正的问题。实际上，我基本上有一段代码，它检查递归嵌套在文件夹中的所有模块，并注册其中包含的类。以这种方式注册的所有类都可以使用通用语法进行实例化，例如

```
myApp.create( 'myClass' ) 
```

这就是为什么我有时最终有 2 个对象指向同一个类，但它们以不同的方式导入。一个已通过 imp.load_module() 调用自动导入，另一个将由用户通过常规导入语句直接导入。如果用户决定手动导入一个类，他应该仍然可以访问相同的静态类变量，而不是在同一个但自动注册的类中定义的变量。希望它有意义吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-15T05:41:47.837

不。（至少，不是没有非常丑陋和脆弱的黑客。）当您以这两种不同的方式导入它时，该模块实际上被导入了两次。如果再次导入，Python 通常会重新使用已经导入的模块，但这不是基于导入的实际文件，而是基于相对于`sys.path`. 因此，如果您`myModule.py`绝对导入一次，相对导入一次，则整个文件实际上会执行两次。如果您执行以下操作，您可以看到这一点：

```
from myApp.myPackage import myModule
import myApp.myPackage.myModule as sameModule
import myPackage.myModule
print myModule is sameModule
print myModule is myPackage.myModule 
```

您应该看到`True`第一个打印（因为前两个导入是通过相同的路径），但`False`第二个（因为第三个导入使用不同的路径）。这也是为什么您会看到该模块在`sys.modules`.

因为整个模块被导入了两次，所以实际上有两个不同的类称为 MyClass，而不是一个。没有合法的方式让这两个类共享它们的状态。就好像您从两个不同的模块导入了两个不同的类。即使它们碰巧在同一个源文件中定义，当您像这样双重导入它们时，它们也不会以任何方式链接。（链接它们有*一种*邪恶的方法，即您可以在模块中包含代码以手动检查它是否以不同的名称导入，然后手动`sys.modules`将当前导入的模块设置为已导入的模块. 但这是个坏主意，因为很难判断导入的内容是否真的是同一个模块，而且还因为踩到`sys.modules`如果原始导入或新导入因任何原因失败，可能会导致奇怪的错误。）

真正的问题是，为什么要两次导入模块？第二个问题是，你为什么要使用相对进口？解决方案是使用绝对导入只导入一次模块，然后你就没有问题了。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-15T06:28:57.457

当涉及到 python 时，其他语言中的“静态”变量有很多需要回答的问题。当谈到这种语言时，我也发现这种思维方式让我很头疼。

很难说出你的最终目标是什么，但值得注意的是，你可以通过在模块中声明它来创建一个“静态”变量（|cough| 一个“模块”变量？）。所以 myModule 的结构可能类似于：

```
modList = []

class MyClass(object):
    def __init__(self):
        self._myList = [len(modList),]

    def appendLenToModList(self):
        modList.append(len(self._myList)) 
```

The modList is initialized on the `import` and should serve you as a singleton/static var. If you really want to mess with it directly I'm pretty sure you can even use it from myApp using the namespace `myPackage.myModule.modList`; but some accessors to formalize its use and purpose might be advisable.

# c# - Linq Boolean 返回异常 DROPDOWNLIST 有一个无效的 SelectedValue，因为它不存在于项目列表中

> ID：13392040
> 
> 赞同：2
> 
> 时间：2012-11-15T05:30:54.487
> 
> 标签：c#, asp.net, linq, detailsview

我有一个绑定到 linq 数据源的下拉列表。这个下拉列表显示了所有的 Bowzer 号码，除了那些在数据库中状态设置为 false 的号码。
假设我有一个之前创建的记录，现在我想编辑现在设置为 false 的 bowzer。我被这个异常抛出，我不知道如何处理它。

> “bowzerddl”有一个无效的 SelectedValue，因为它不存在于项目列表中。参数名称：值

这是我的 LinqDataSource 的代码

```
<asp:LinqDataSource ID="LinqBowzerDS" runat="server" ContextTypeName="ShippingWeb.ShippingDbDataContext"
EntityTypeName="" Select="new (bowzer_id, bowzer_no)" TableName="Bowzers" 
OrderBy="bowzer_no"  Where="expiry_date &gt;= DateTime.Now && status==True"> 
```

当我单击 detailsView 的 EDIT 按钮（我的下拉列表所在的位置）时，我得到了一个我之前提到的异常。有什么办法可以捕捉到这个异常？并且在编辑时，只显示那些状态为 True 的记录？

这是我的详细信息查看的代码

```
<asp:DetailsView ID="DetailsView1" runat="server" AutoGenerateRows="False" CellPadding="4"
            DataSourceID="LinqDataSource1" Height="50px"

            Width="363px" 
            DataKeyNames="challan_id" ForeColor="#333333" GridLines="None" 
            ondatabound="DetailsView1_DataBound" onmodechanged="DetailsView1_ModeChanged" 
         > 
```

```
 <asp:TemplateField HeaderText="Bowzer No">
        <EditItemTemplate>
            <asp:DropDownList ID ="bowzerddl" runat="server"
            DataSourceID="LinqBowzerDS"
            DataTextField="bowzer_no"
            DataValueField="bowzer_id"
            selectedValue='<%#  bind("bowzer_id") %>'
            AppendDataBoundItems="true"
            >
            <asp:ListItem Selected="True" Value="">(None)</asp:ListItem>
            </asp:DropDownList>

        </EditItemTemplate>
        <ItemTemplate>
            <asp:Label ID="lblbowzer" runat="server" Text='<%# Eval("Bowzer.Bowzer_no") %>'>                                                                                                                                      </asp:Label>
        </ItemTemplate>

    </asp:TemplateField>

    <asp:CommandField ShowEditButton="True" />

</Fields>
<FooterStyle BackColor="#5D7B9D" ForeColor="White" Font-Bold="True" />
<HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
<PagerStyle ForeColor="White" HorizontalAlign="Center" BackColor="#284775" />
<RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
</asp:DetailsView> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:14:56.460

我从这个链接解决了[答案 No 16](http://go4answers.webhost4life.com/Example/dropdownlist-selectedvalue-which-94546.aspx)

> 这对我们有用：

```
 protected void PreventErrorOnbinding(object sender, EventArgs e)
     {
         dropdownlist  theDropDownList = (DropDownList)sender;
         theDropDownList.DataBinding -= new EventHandler(PreventErrorOnbinding);
         theDropDownList.AppendDataBoundItems = true;
         ListItem li = new ListItem("Make a selection >>","");
         theDropDownList.Items.Insert(0, li);
         try
         {
             theDropDownList.DataBind();
         }
         catch (ArgumentOutOfRangeException)
         {
             theDropDownList.SelectedValue = "";
         }
     } 
```

> 在控件上添加 ondatabinding="PreventErrorOnbinding"
> 
> 由于选定的值设置为“”，它总是选择下拉列表中的第一个项目。

# python - 实时馈送期间的龙卷风阻塞

> ID：13392045
> 
> 赞同：0
> 
> 时间：2012-11-15T05:31:55.723
> 
> 标签：python, mongodb, tornado

在我的龙卷风应用程序中，我将让用户访问我的数据库并请求数据。由于我的应用程序正在对这些数据进行实时分析，因此每个客户端都将在很长一段时间内连接到数据库。因此这会使应用程序阻塞？

那么如果我使用 AsyncMongo 会解决这个问题并使应用程序非阻塞吗？我希望同时用户使用该应用程序？否则，每个客户在使用该应用程序时可能会阻塞几分钟。

将客户端连接到服务器中的 mongodb 的 Handler 是 websocket。

我也会使用@web.asynchronous gen 装饰器吗？还是使用多处理更好？

我对此很陌生，所以两者都没有经验，但是会寻找最容易掌握和实施的方法吗？

很高兴看到一些示例/教程代码。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T12:58:19.203

*>使应用程序阻塞？*

使您的应用程序阻塞的大致原因是您使用的框架：Django 正在阻塞。龙卷风是非阻塞的。

*> AsyncMongo*

这是一个异步数据库驱动程序，但它很旧并且有一段时间没有更新了。使用它可以使您的数据库调用异步。但最好使用同步[PyMongo](https://github.com/mongodb/mongo-python-driver)，因为它由 10 代人维护，并确保您的查询快速返回。python 有一个新的实验性异步库，称为[Motor](http://architects.dzone.com/articles/motor-asynchronous-mongodb)

*>@web.asynchronous gen 装饰器*

gen 是一种使您的异步查询更易于阅读的方法。这与多处理无关

*>架构与阻塞*

如果您继续阅读并将数据反馈给客户端，那么是的，它会阻塞。任何一个

1.  不要使用龙卷风
2.  更改您的架构，使连接不会保持打开状态
3.  使用异步驱动程序，如 AsyncMongo 或 Motor

# java-native-interface - 进行 JNI 调用时，RFT 抛出 unsatisfiedLinkError

> ID：13392054
> 
> 赞同：2
> 
> 时间：2012-11-15T05:33:01.940
> 
> 标签：java-native-interface, rft

我在 Rational Functional Tester 脚本中有两行代码，它调用在 dll 中定义的方法（为 jni 调用创建）。但我收到错误：[java.lang.UnsatisfiedLinkError] - com/JniSleep.jniWait()V.]。

导入资源.Script1Helper；

导入 com.JniClass；

公共类 Script1 扩展 Script1Helper {

```
static {
    System.load("C:/VisualStudioProject/JniClass/Debug/JniClass.dll");

}
public void testMain(Object[] args) 

{

        JniClass jniClass = new JniClass();
        jniClass.jniWait(); //error thrown here

} 
```

}

如果我在普通的 java 类（不是 RFT 脚本）中运行相同的代码，在同一个 RFT 项目中，它就像一个魅力（下面的代码）。

导入 com.JniClass；

公共类 testTimer {

```
/**
 * @param args
 */

    // TODO Auto-generated method stub
    static {
        System.load("C:/VisualStudioProject/JniClass/Debug/JniClass.dll");
    }
    public static void main(String[] args) {

            JniClass jniClass = new JniClass();
            jniClass.jniWait();

    } 
```

}

为什么代码在 RFT 脚本中不起作用？我也尝试在本机库设置中设置 ddl，但这没有帮助。任何人都可以请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T05:55:58.533

如果同样的事情在 RFT 之外工作正常，你可以尝试将包含本机实现的 DLL 复制到 RFT 的自定义文件夹中吗？以下注册表将告诉您机器上 Customization 文件夹的位置是什么 [HKEY_LOCAL_MACHINE\SOFTWARE\Rational Software\Rational Test\8\Rational FT Customization Directory]

在进行这些更改之前/之后关闭/重新打开 RFT。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T16:43:00.287

你的代码说

```
import com.JniClass; 
```

而你的错误说

```
com/JniSleep 
```

**这两个包必须相等。**我闻到了 Java 原生定义和生成的 C 头文件之间的差异。你在这两种情况下都使用完全相同的 DLL 吗？它有哪些标题？`Java_com_JniClass`还是`Java_com_JniSleep`？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-19T20:17:32.013

在 RFT System.load 中不起作用。您需要在要包含的 jar 文件中显式调用 System.load 以访问本机方法。包含此 jar 文件并将 DLL 放入系统“PATH”目录之一后，该 dll 在 RFT 中加载良好。

# java - 使用 Maven 生成 Jaxb 类时包被删除，生成的 Maven 包名称不正确

> ID：13392057
> 
> 赞同：4
> 
> 时间：2012-11-15T05:33:17.313
> 
> 标签：java, maven, xsd, jaxb, jaxb2-maven-plugin

我尝试使用 jaxb2-maven-plugin 从 XSD 生成 Jaxb 类。

我能够在一个包中获取 jaxb 类，但我的其他包正在被删除。这是什么原因？如何克服这个？请你给建议。

以下是我尝试过的

```
<bulid>
    <pluginManagement>
    <plugins>
        <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>jaxb2-maven-plugin</artifactId>
        <version>1.5</version>
        <executions>
            <execution>
                <phase>generate-sources</phase>
                <goals>
                    <goal>xjc</goal>
                </goals>
            </execution>
        </executions>
        <configuration>
            <schemaDirectory>src/main/xsd</schemaDirectory>
            <outputDirectory>src/main/java</outputDirectory>
        </configuration>
        </plugin>
    </plugins>
    </pluginManagement>
    </bulid> 
```

和 xsd 看起来像这样：

```
<?xml version="1.0" encoding="UTF-8"?><xsd:schema targetNamespace="com.test.jaxb.model" 
        xmlns:ns="com.test.jaxb.model" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<xsd:complexType name="TestResults">
        <xsd:sequence>
            <xsd:element maxOccurs="unbounded" minOccurs="0" name="testSuites" type="Q1:TestSuiteRun"/>
        </xsd:sequence>
        <xsd:attribute name="testProject" type="xsd:string"/>
    </xsd:complexType>

    <xsd:complexType name="TestCaseRun">
        <xsd:complexContent>
            <xsd:extension base="Q1:TestRun">
                <xsd:sequence>
        <xsd:element name="result" type="Q1:Severity"/>
      <xsd:element maxOccurs="unbounded" minOccurs="0" name="variations" type="Q1:VariationRun">
                    </xsd:element>
                </xsd:sequence>
                <xsd:attribute name="variationCount" type="xsd:int"/>
            </xsd:extension>
        </xsd:complexContent>
    </xsd:complexType>

    </xsd:schema> 
```

我已经给出了 targetNamespace="com.test.jaxb.model" 但是在生成之后我只能看到包名下的 jaxb 类：model.jaxb.test.com..

为什么包名被颠倒了，为什么我的其他包被删除了？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-15T06:39:11.657

您的主要问题是您使用的是`src/main/java`as `<outputDirectory>`。这样做有两个主要问题。

1.  生成的源将位于在正常情况下受版本控制的目录结构中。您将如何处理生成的源？他们应该被*检查*吗？您的 VCS 将发出信号，表明已找到尚未添加的新文件。
2.  调用时生成的源**不会**被删除`mvn clean`。

您应该完全删除`<outputDirectory>src/main/java</outputDirectory>`并让 maven 和插件完成他们的工作。

如果您删除这些行，您将生成源代码`target/generated-sources`，并且它们**将**`compile`在我认为是您想要的阶段编译。

* * *

关于颠倒的包名，我相信你应该改成`targetNamespace`这样：

```
<xsd:schema targetNamespace="http://www.test.com/jaxb/model"
    ... 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-15T07:35:42.993

问题解决了 ：

```
<bulid>
    <pluginManagement>
    <plugins>
        <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>jaxb2-maven-plugin</artifactId>
        <version>1.5</version>
        <executions>
            <execution>
                <phase>generate-sources</phase>
                <goals>
                    <goal>xjc</goal>
                </goals>
            </execution>
        </executions>
        <configuration>
            <schemaDirectory>src/main/xsd</schemaDirectory>
            <outputDirectory>src/main/java</outputDirectory>
            <packageName>com.test.jaxb.model</packageName>
            <clearOutputDir>false</clearOutputDir>
        </configuration>
        </plugin>
    </plugins>
    </pluginManagement>
    </bulid> 
```

我从 xsd 中删除了 targetNameSpace

mvn jaxb2:xjc 工作！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-05-29T16:07:39.517

在配置标签下添加以下属性。

```
<clearOutputDir>false</clearOutputDir> 
```

# javascript - 从文件中抓取随机行

> ID：13392059
> 
> 赞同：13
> 
> 时间：2012-11-15T05:33:51.647
> 
> 标签：javascript, node.js

我不知道该怎么做。我应该从哪里开始？我已经用谷歌搜索了这个，但没有一个关于如何从文本文件中提取随机行的结果。

我唯一找到的是[https://github.com/chrisinajar/node-rand-line](https://github.com/chrisinajar/node-rand-line)，但是它不起作用。如何从文本文件中读取随机行？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-15T05:40:57.443

您可能希望查看用于读取文件的 node.js 标准库函数[fs.readFile](http://nodejs.org/api/fs.html#fs_fs_readfile_filename_encoding_callback)，并最终得到以下内容：

```
const fs = require("fs");
// note this will be async
function getRandomLine(filename, callback){
  fs.readFile(filename, "utf-8", function(err, data){
    if(err) {
        throw err;
    }

    // note: this assumes `data` is a string - you may need
    //       to coerce it - see the comments for an approach
    var lines = data.split('\n');

    // choose one of the lines...
    var line = lines[Math.floor(Math.random()*lines.length)]

    // invoke the callback with our line
    callback(line);
 })
} 
```

如果阅读整个内容并拆分不是一种选择，那么也许可以看看[这个堆栈溢出](https://stackoverflow.com/questions/6831918/node-js-read-a-text-file-into-an-array-each-line-an-item-in-the-array)的想法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T05:44:01.273

我没有方便的 No​​de 来测试代码，所以我不能给你确切的代码，但我会做这样的事情：

1.  以字节为单位获取文件大小，选择一个随机字节偏移量
2.  将文件作为流打开
3.  使用[此代码段](https://gist.github.com/1785026)发出行（或[readline](http://nodejs.org/api/readline.html)，但最后我使用它有一个讨厌的错误，它基本上不起作用）
4.  在阅读时跟踪您在文件中的位置。当您通过您选择的偏移量时，选择该行并返回它。

请注意，这并非完全随机。较长的行将被赋予更大的权重，但这是唯一无需读取整个文件来获取行数的方法。

此方法允许您获得“随机”行，而无需将整个文件保存在内存中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-07-01T17:31:58.477

我有同样的需要从超过 100 Mo 的文件中随机选择一行。
所以我想避免将所有文件内容存储在内存中。
我最终对所有行进行了两次迭代：首先获取行数，然后获取目标行内容。
代码如下所示：

```
const readline = require('readline');
const fs = require('fs');
const FILE_PATH = 'data.ndjson';

module.exports = async () =>
{
    const linesCount = await getLinesCount();
    const randomLineIndex = Math.floor(Math.random() * linesCount);
    const content = await getLineContent(randomLineIndex);
    return content;
};

//
// HELPERS
//

function getLineReader()
{
    return readline.createInterface({
        input: fs.createReadStream(FILE_PATH)
    });
}

async function getLinesCount()
{
    return new Promise(resolve =>
    {
        let counter = 0;
        getLineReader()
        .on('line', function (line)
        {
            counter++;
        })
        .on('close', () =>
        {
            resolve(counter);
        });
    });
}

async function getLineContent(index)
{
    return new Promise(resolve =>
    {
        let counter = 0;
        getLineReader().on('line', function (line)
        {
            if (counter === index)
            {
                resolve(line);
            }
            counter++;
        });
    });
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:03:56.393

我可以给你一个建议，因为我没有任何演示代码

1.  使用逐行读取文件`buffered reader`
2.  将每一行存储在一个字符串数组中
3.  创建一个方法`int returnRandom(arraySize)`
4.  将数组大小传递给函数
5.  计算之间的随机`0`数`arraySize`
6.  返回随机数
7.  从字符串数组中打印给定的索引

# django - 芹菜 - 超过最大重试次数后重新提交失败的任务链

> ID：13392062
> 
> 赞同：1
> 
> 时间：2012-11-15T05:34:03.283
> 
> 标签：django, celery, django-celery, djcelery

我在 Django 中使用芹菜。我必须为用户提供一个选项来检查失败的任务，必要时对失败的任务数据进行修改并再次提交。我见过这个线程 [-Celery Storing unrecoverable task failures for later resubmission](https://stackoverflow.com/questions/11600792/celery-storing-unrecoverable-task-failures-for-later-resubmission)。所以我知道 celery 不存储任务的原始 args 和 kwargs，我们需要注意这一点。我可以这样做。但是，如果我有一个提交链“SubTask1 | SubTask2 | SubTask3”的主任务“MainTask1”，并且如果 SubTask2 失败，那么我看到在 SubTask2 成功之前不会执行 SubTask3。但是如果 SubTask2 在最大重试次数后失败，则 SubTask3 永远不会提交。

我的问题是——

1.  当 SubTask2 失败时，我可以坚持 args 和 kwargs。但是如何获取链中剩余任务的信息呢？

2.  celery_taskmeta 表的“result”和“meta”列中究竟存储了什么？

3.  何时填充表 celery_tasksetmeta？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T16:36:33.420

1.  您可以为此使用结果（例如`AsyncResult(id).ready`，请参阅[http://docs.celeryproject.org/en/latest/reference/celery.result.html](http://docs.celeryproject.org/en/latest/reference/celery.result.html)），但这不能通过 amqp 后端可靠地完成，因为只有一个进程可以检索结果。

2.  后端 APi 中使用的名称不一致且已过时。这是因为术语随着时间的推移发生了相当大的变化，并且自 celery 0.1 以来后端几乎向后兼容。起初，任务仅在成功或失败时才存储数据。这使用了字段`status`和`result`. 最终，我意识到很容易将其扩展到支持随任务进行而更新的任意状态，而这只是在已经存在的基础上实现的。

    result 字段包含任务成功时任务的返回值，或任务失败时引发的异常。自定义状态可以在此字段中存储任意数据，因此在较新的术语中，任务状态可以附加信息，这就是存储信息的位置。

    元字段是后来添加的，因为我厌倦了一直添加新字段（并强迫用户迁移模式），它用于不需要索引的新字段，目前它只保存`children`属性，这是一个任务启动的子任务 ID 列表

    希望有一天能把它清理干净。大多数其他“成长的烦恼”在很久以前就已经被重构了，但结果后端仍然存在。

3.  `GroupResult.save`（以前的TaskSetResult）用于存储组结果以供以后检索，因此您只需保留组ID即可获取组中的任务ID列表。此功能目前仅由 Redis 结果后端用于实现和弦，这将在未来改变，因为它对于具有许多任务的组不是很有效。save 选项是由用户请求实现的，但我认为包含它是我的一个错误选择，用户最好这样做（比如存储您提到的任务参数/kwargs）。

# javascript - JavaScript 中的大数组

> ID：13392064
> 
> 赞同：2
> 
> 时间：2012-11-15T05:34:06.073
> 
> 标签：javascript, arrays

我`< 1300`在列表中有大约数组。未来阵列数量有望增长

这就是我列出它们的方式：

```
var listofarrays{
 listone:['string element', 'another string element'],
 listtwo:['string element', 'another string element'],
 listhree:['string element', 'another string element'],
 listfour:['string element', 'another string element']
// ... and so on ... the lists over contain a lot of arrays.
//I figured it was best to not copy/paste it all.
}; 
```

我的问题是：

1.  添加更多数组会有什么问题吗？
2.  如何使用最少的存储空间来保存所有这些数组？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:51:51.767

1.  添加 = 性能降低。
2.  如何解决？我建议使用 AJAX 加载所需的数据。

我举了一个更好的可视化 JQuery Autocomplete 的例子：

*   旧方式：http: [//jqueryui.com/autocomplete/#default](http://jqueryui.com/autocomplete/#default)
*   AJAX方式：http: [//jqueryui.com/autocomplete/#remote](http://jqueryui.com/autocomplete/#remote)

希望有帮助:)

# erlang - 钢筋释放不是以奇怪的错误开始的

> ID：13392071
> 
> 赞同：0
> 
> 时间：2012-11-15T05:34:40.747
> 
> 标签：erlang, release, erlang-otp, rebar

在 MacOS 下进行“钢筋生成”时，一切运行良好。在 linux (gentoo) 下执行相同操作时，启动发布失败，出现与 asn1_db 相关的错误。这是否意味着主机系统上的 erlang 安装在某种意义上被破坏了？

```
Exec: /home/apis/smsapi/rel/smsapi/erts-5.9/bin/erlexec -boot /home/apis/smsapi/rel/smsapi/releases/1/smsapi -mode embedded -config /home/apis/smsapi/rel/smsapi/releases/1/sys.config -args_file /home/apis/smsapi/rel/smsapi/releases/1/vm.args -- console 
Root: /home/apis/smsapi/rel/smsapi
{"init terminating in do_boot",{'cannot load',asn1_db,get_file}}

Crash dump was written to: erl_crash.dump
init terminating in do_boot () 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T08:21:01.527

Rebar 找不到`asn1_db`模块，它是`asn1`Erlang 应用程序的一部分。一些发行版为此应用程序有一个单独的包，名为`erlang-asn1`. 也许这就是Gentoo的情况？

您可以尝试将以下内容添加到您的`reltool.config`：

```
{app, asn1, [{incl_cond, exclude}]} 
```

这将从发布中排除应用程序。

# macos - 无法为文件获取应用范围的书签 - OS X 沙盒

> ID：13392077
> 
> 赞同：11
> 
> 时间：2012-11-15T05:34:56.223
> 
> 标签：macos, appstore-sandbox

我一直在网上搜索和 Apple 的帮助，以寻求有关这方面的某种指导，但最终还是失败了。我想知道是否有人遇到过类似的情况，或者可能对正在（或没有）发生的事情有所了解。

我正在尝试为应用程序在以后的会话中调用的文件获取应用程序范围的书签。在用户选择后，我可以确认路径本身已正确添加到沙箱中，因为我可以在会话期间打开（并重新打开）它。

但是，尝试获取安全范围的书签以稍后访问它是行不通的。

这就是我正在做的事情：

```
NSURL *url = [[NSURL alloc] initFileURLWithPath:path];
NSError *error = nil;
NSData *bookmarkData = [url
           bookmarkDataWithOptions:(1UL << 11) //NSURLBookmarkCreationWithSecurityScope
           includingResourceValuesForKeys:nil
           relativeToURL:nil
           error:&error];
[url release]; 
```

我已经尝试过使用`url`从字符串生成的`path`方法以及仅使用例如 NSSavePanel 的结果对其进行测试`URL`。（由于遗留原因，该字符串`path`是我希望能够使用的字符串。）

我不得不使用 for 的值`bookmarkDataWithOptions`而不是常量，因为由于一些其他遗留代码的原因，我不得不使用`NSURLBookmarkCreationWithSecurityScope`不可用的 10.6 SDK 进行编译。

我可以确认路径指向有问题的文件为“/Users/me/Documents/document.ext”，并且`NSURL`似乎正确初始化（或至少反映了相同的路径）。

该应用程序包括权利`com.apple.security.files.bookmarks.app-scope`。

无论如何，这是行不通的。该代码导致 a`bookmarkData`为 0x0 和 an`error`为 0x0，控制台显示：`ScopedBookmarkAgent: Failed to retrieve app-scope key, aborting.`

如果我更改`relativeToURL`为is`url`而不是`nil`并将权利更改为`com.apple.security.files.bookmarks.document-scope`，那么它似乎可以正常工作 - 也就是说，`bookmarkData`至少获得一个非零值并且不会记录任何错误。但我很确定这不是我想要的（即文档范围的书签）。

有什么明显的我做错了吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-16T05:28:29.513

令我永远感到羞耻的是，这是我的错。

不知何故，在将项目移动到另一台机器进行测试和调试时，开发版本的代码签名被关闭了。

显然，这会导致事情（几乎）静默失败，没有错误代码，控制台中只有一条神秘消息，没有其他迹象表明其他任何事情都无法正常工作。

把它留在这里，以防其他人错误地做同样的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-05-20T01:25:37.320

您好 2019 年及以后的 Google 员工。我遇到了同样的问题并通过重做我的开发证书来解决它。只需取消选中“自动管理签名”并重新选中（可能切换到不同的团队并切换回来）。

# regex - 文件重命名器正则表达式以删除重复的字符串

> ID：13392080
> 
> 赞同：0
> 
> 时间：2012-11-15T05:35:04.450
> 
> 标签：regex, capture, replace, file-rename

我有像这些例子这样的文件夹名称

```
sons.of.anarchy.s05e01.hdtv.x264-2hd.nfo - sons.of.anarchy.s05e01.hdtv.x264-2hd.
sons.of.anarchy.s05e03.hdtv.x264-asap.nfo - sons.of.anarchy.s05e03.hdtv.x264-asap.
Jump.3.training.Or.Wand.3410.7200k.Blade.DD.5.1.x300-NTb - Jump.3.training.Or.Wand.3410.7200k.Blade.DD.5.1.x300-NTb. 
```

以及类似这些示例的文件名称

```
sons.of.anarchy.s05e01.hdtv.x264-2hd.nfo - sons.of.anarchy.s05e01.hdtv.x264-2hd.mp4
Jump.3.training.Or.Wand.3410.7200k.Blade.DD.5.1.x300-NTb - Jump.3.training.Or.Wand.3410.7200k.Blade.DD.5.1.x300-NTb.avi 
```

我想构建一个正则表达式，它将重命名文件/文件夹并删除重复的字符串。

像这样的文件夹：

```
sons.of.anarchy.s05e01.hdtv.x264-2hd
sons.of.anarchy.s05e03.hdtv.x264-asap
Jump.3.training.Or.Wand.3410.7200k.Blade.DD.5.1.x300-NTb 
```

像这样的文件

```
sons.of.anarchy.s05e01.hdtv.x264-2hd.mp4
Jump.3.training.Or.Wand.3410.7200k.Blade.DD.5.1.x300-NTb.avi 
```

最终我的目标是让名字看起来像这样：

```
Sons Of Anarchy S05E01
Sons Of Anarchy S05E03
Jump 3 Training Or Wand
Sons Of Anarchy S05E01.mp4
Jump 3 Training Or Wand.avi 
```

我使用自定义表达式来删除特定的字符串、句点和连字符，这需要几个步骤。以下是我在 Renamer 中用于清理名称的一些表达式：

```
Find: [\.\-_/~\[\])("] and I replace with a space

Find: \s*$ and I replace with nothing to Remove spaces at the end of Names 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T12:54:08.550

您可以使用正则表达式模式来做到这一点

```
^(.*?)([.]\w*|)\s+[-]\s+\1([.](?=$))?([.]\w*|)$ 
```

更换

```
$1$4 
```

请参阅此**[Perl 演示](http://ideone.com/bCeHyW)**。

* * *

要了解有关正则表达式的更多信息，请访问[此站点](http://www.regular-expressions.info/)。

# c++ - 在循环中创建的变量名？

> ID：13392081
> 
> 赞同：0
> 
> 时间：2012-11-15T05:35:10.840
> 
> 标签：c++, stl

我想知道是否可以使用字符串流在循环中创建链接到我的类的变量名？

例如我有这个：

```
for(int i=1; i<6; i++){
   std::stringstream button;
   button << "Button" << i;
   CreateButton button();

   button.function_name();
} 
```

当我尝试它时，我无法访问该类的功能。

该功能不可用......所以我想知道我是否只是覆盖字符串流。如果我有办法做我想做的事吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T05:44:18.393

你想要一个按钮数组或向量。

```
#include <vector> //must include this

std::vector<CreateButton> buttons(6);

for(int i= 0; i<6; i++)
{
   button[i].function_name();
} 
```

在这里，您可以将其`button[0]`视为一个变量、`button[1]`另一个变量、`button[2]`另一个变量等等。这样，您就有了六个变量。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T05:40:25.603

稍微增强你的代码，这是你想要做的吗？

```
#include <vector>
std::vector<CreateButton> buttons;

// create buttons
for(int i=1; i<6; i++){
   std::stringstream ss;
   ss<< "Button" << i;
   buttons.emplace_back(CreateButton(ss.str()));
}

// use buttons
for(int i=1; i<6; i++){
  buttons[i].function_name();
}; 
```

# telerik - Telerik kendo-ui vs RadControls

> ID：13392082
> 
> 赞同：1
> 
> 时间：2012-11-15T05:35:53.643
> 
> 标签：telerik, telerik-mvc, kendo-ui

以速度/性能为最终目标，您会选择哪个，为什么？

带有 Telerik RadControls 的 ASP.Net Web 表单或带有 Telerik Kendo-UI 的 ASP.Net MVC

我们主要需要一个可以进行内联更新的分层网格。我们正在替换用 Powerbuilder 编写的桌面应用程序，用户已经习惯了响应速度非常快的应用程序。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T23:36:40.770

我用两只手投票给 KendoUI。

这些小部件的设计速度非常快，响应速度更快。该框架并未严格限制于服务器端技术，这意味着您很快就可以将 Grid 绑定到 WebAPI 控制器或常规控制器，或者如果您使用 JavaScript 声明小部件，您甚至可以绑定到服务。

有框架功能，如 MVVM、验证、Drag*n*Drop、模板，可让您最大限度地自定义视图。

它是一种潜力巨大的新产品。您将看到 Ajax 控件具有更多内置功能（因为它们较旧），但几乎所有这些功能都可以通过灵活的 Kendo 框架特性来实现。如果您想保持最新状态，请使用 KendoUI - Ajax 控件具有的小部件迟早也会添加到 KendoUI 中。

# android - 如何在后台运行的android中停止和启动线程

> ID：13392084
> 
> 赞同：0
> 
> 时间：2012-11-15T05:36:06.783
> 
> 标签：android, multithreading, thread-sleep

我有两个 web 服务，它们通过线程在后台运行。如果网络出现故障，我会经常检查我的网络连接，我会显示一个带有“RESYNC”按钮的对话框。

我的意图是，当我单击 RESYNC 按钮时，未完成的线程必须重新开始。

我使用 thread.interupt() 停止线程并使用 thread.start 重新开始。

这不能正常工作，它会显示错误，就像您的线程已经在运行一样。

任何人都可以帮助我如何停止线程并重新启动它。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T05:54:12.777

不要`thread.stop()`用于终止线程。

您可以使用 volatile 标志：

```
private volatile boolean running = true;

public void stop() {
  running = false;
}

public void run() {
  while(running) {
    // your code
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T05:39:44.693

线程无法重新启动，您可以通过`stop()`;停止它

要重新开始，您必须创建 Thread 的新实例，然后调用 start。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T05:43:55.610

在你的 run() 方法上有一段时间（条件）。在您的 while 循环中是您希望线程在运行时执行的操作。通过线程上的 setter 方法将条件变量的值更改为 false。不推荐使用 java 中的 stop() 方法。

# php - 推杆式喊话箱

> ID：13392085
> 
> 赞同：1
> 
> 时间：2012-11-15T05:36:14.730
> 
> 标签：php, jquery, pusher

我想建立一个只有小组成员才能说话的喊话箱。例如，我有 5 个组，每个组有 60 个成员，我用 PHP/MySQL/jQuery 做了一个类似的喊话框，但随着成员的增加，活动很慢。我遇到了 Pusher（[http://www.pusher.com](http://www.pusher.com)）。

我只想知道我的方法应该是什么，我可以根据他们的组来隔离成员并可以使用喊话箱。

我对 Pusher 的事件触发器感到困惑。谁能解释一下我应该如何做这个方法，我还需要将shoutbox消息保存在mysql数据库中以供历史记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T16:20:22.290

您似乎可能希望为每个组使用一个[通道- 使用通道来路由和过滤数据。](http://pusher.com/docs/channels)

如果有不同类型的组事件，例如`new_shout`、`shout_updated`、 ，您将使用事件`shout_deleted`。

Pusher 目前不提供消息历史记录，因此您需要自己存储。

# visual-c++ - 有没有办法以编程方式创建 hyper-v 机器？

> ID：13392087
> 
> 赞同：1
> 
> 时间：2012-11-15T05:36:53.667
> 
> 标签：visual-c++, hyper-v

有没有办法以编程方式（在 C++ 中）创建 hyper-v 机器。我在 Windows 2k8 R2 服务器中安装了管理程序。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-27T09:56:59.933

可能最好从 PowerScript 示例开始，然后回到 C++ 应该是什么。

这是[一个使用 WMI 创建 VM 对象的示例](http://blogs.msdn.com/b/virtual_pc_guy/archive/2008/05/28/scripting-vm-creation-with-hyper-v.aspx)。WMI 对象在 C++ 中将是相同的，因此您应该能够翻译此示例。

接下来，您需要将 VHD 附加到 VM 以充当根设备，并且您需要启动该 VM。有关详细示例，请查看[OpenStack 的 Hyper-V 驱动程序如何实现 VM 创建](https://github.com/openstack/nova/blob/master/nova/virt/hyperv/vmops.py)。同样，WMI 对象在 C++ 中是相同的，因此您应该能够转换为 C++

# perl - 如何插入子xml树枝

> ID：13392089
> 
> 赞同：1
> 
> 时间：2012-11-15T05:37:14.370
> 
> 标签：perl, xml-twig

我需要在子元素中插入一个子元素。我有两个孩子，第一个孩子剪切并粘贴到第二个孩子作为第一个孩子插入。

xml:

```
 <fn id="fn1_1">
    <label>1</label>
    <p>The distinguished as &amp;#x2018;bisexuation.&amp;#x2019;</p>
  </fn> 
```

我试过

```
sub fngroup{
my ($xml_twig_content, $fn_group) = @_;
@text = $fn_group->children;
my $cut;
foreach my $fn (@text){
$cut = $fn->cut if ($fn->name =~ /label/);
if ($fn =~ /p/){
$fn->paste('first_child', $cut);
}
}
} 
```

我无法处理它。如何剪切标签并将标签标签粘贴到 p 标签作为 first_child。

我需要：

```
<fn id="fn1_1">
 <p><label>1</label> The distinguished as &amp;#x2018;bisexuation.&amp;#x2019;</p>
 </fn> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:23:22.477

您的代码有几个问题：首先应该将处理程序应用于`fn`，而不是`fngroup`，然后您正在测试`$fn =~ /p/`而不是`$fn->name =~ /p/`.

所以这会起作用：

```
#!/usr/bin/perl

use strict;
use warnings;

use XML::Twig;

XML::Twig->new( twig_handlers => { fn => \&fn})
         ->parse( \*DATA)
         ->print;

sub fn {
    my ($xml_twig_content, $fn) = @_;
    my @text = $fn->children;
    my $cut;
    foreach my $fn (@text){
        $cut = $fn->cut if ($fn->name =~ /label/);
        if ($fn->name =~ /p/){
            $cut->paste(first_child => $fn);
        }
    }
}

__DATA__
<foo>
  <fngroup>
    <fn id="fn1_1">
      <label>1</label>
      <p>The distinguished as &amp;#x2018;bisexuation.&amp;#x2019;</p>
    </fn>
  </fngroup>
</foo> 
```

虽然它是不必要的复杂。为什么不让处理程序简单：

```
sub fn {
    my ($twig, $fn) = @_;
    $fn->first_child( 'label')->move( first_child => $fn->first_child( 'p'));
} 
```

# php - 找出从特定日期到现在经过多少个月的天数（28、29、30、31）

> ID：13392091
> 
> 赞同：3
> 
> 时间：2012-11-15T05:37:27.103
> 
> 标签：php, timestamp

我们如何使用 php.ini 计算从特定日期到当前日期时间过去了多少个月，并考虑每月的天数（例如：-January 31, Feb 28/29）。我尝试使用 diff() 函数无法解决我的问题。因为它计算过去了多少个 30 天。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T06:11:54.177

一个简单的方法：

```
$datetime1 = new DateTime('2012-11-15');
$datetime2 = new DateTime('2012-12-15');
$interval = $datetime1->diff($datetime2);
echo $interval->format('%R%m months'); // output : +1 months 
```

您应该使用 DateInterval。它真的很强大。 [http://www.php.net/manual/en/class.dateinterval.php](http://www.php.net/manual/en/class.dateinterval.php)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T05:54:52.197

只是按照人的方式去做；如果这一天在今天之前，则减去月份并加一。

```
$timestamp = strtotime('January 28');

list($old_year, $old_month, $old_day) = explode('-', date('Y-m-d', $timestamp));
list($now_year, $now_month, $now_day) = explode('-', date('Y-m-d'));

$months_ago = 12 * ($now_year - $old_year) + $now_month - $old_month;
if ($old_month < $now_month && $old_day < $now_day) {
    ++$months_ago;
}

echo $months_ago; 
```

# embedded - 为什么上传的二进制文件大小比实际大小小很多？

> ID：13392092
> 
> 赞同：10
> 
> 时间：2012-11-15T05:37:39.827
> 
> 标签：embedded, avr, msp430

我只使用过 AVR 和 MSP430，但对它们来说都是如此。编译和静态链接后，我的最终 ELF 二进制文件大约是 208kB，而 Intel Hex 二进制文件大约是 41kB。AVRDUDE 告诉我它正在上传大约 18kB。这里到底发生了什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-15T05:57:08.457

> 我最终的 ELF 二进制文件大约是 208kB

是的，因为 ELF 不是原始机器代码。它是一种通用的可执行格式，具有重定位信息、动态加载信息、只读数据的不同部分、可写数据和代码等。其中大多数与微控制器无关，因为它没有操作系统，没有动态加载设施，所以大多数额外的信息可以被剥离。

> Intel Hex 二进制文件大约为 41kB。AVRDUDE 告诉我它正在上传大约 18kB。

两个原因。一，英特尔十六进制文件在每行末尾包含校验和。如果您使用合理的平均行长度来剪切这些文件，您可以预期文件会缩小几个百分点，例如缩小到 36kB。然后，英特尔 Hex 文件被命名为“hex”文件是有原因的。它们不包含原始二进制数据，而是十六进制形式的原始二进制数据——即一个真实字节使用两个字节编码。因此，当 AVRdude 上传代码时，它会将其转换为原始二进制文件（这是 AVRs 处理器可以运行的），然后数据大小再次减少了 50%。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T11:45:34.803

目标代码包括额外的元数据，包括符号表和调试器信息。如果您使用的是 GNU 工具链，大多数数据通常可以通过编译器和/或链接器选项或*strip实用程序剥离。*

一个十六进制文件使用 2 个十六进制数字字符来表示一个字节，加上记录开销，所以总是比二进制长度略多一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T14:49:39.327

正如上面其他人所说，HEX 文件格式是 ascii 可打印的，这使得通过通信链接（例如 7 位调制解调器/终端）传输更容易，与 Motorola .s19 非常相似：

[http://en.wikipedia.org/wiki/Intel_HEX](http://en.wikipedia.org/wiki/Intel_HEX)

[http://en.wikipedia.org/wiki/S19_%28file_format%29](http://en.wikipedia.org/wiki/S19_%28file_format%29)

# iphone - iOS：检测 WIFI 是否已通过身份验证？

> ID：13392093
> 
> 赞同：4
> 
> 时间：2012-11-15T05:37:44.567
> 
> 标签：iphone, ios, uiwebview, wifi

有时当您连接到星巴克 Wifi 时，身份验证页面不会自动弹出。当您开始使用 Safari 时，会显示身份验证页面（您对 Wifi 条款按“同意”的页面）。有什么方法可以检测我的应用程序中的设备上是否已经显示了身份验证页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:46:32.720

尝试在某个地方下载一个您知道永远不会移动的文件（[www.google.com](http://www.google.com)），并且您已经知道其内容（这是困难的部分）。

将下载的内容与应下载的内容进行比较，您就会知道您是否在某个身份验证页面上。

# python - 如何阻止 Django 缓存动态模板？

> ID：13392095
> 
> 赞同：1
> 
> 时间：2012-11-15T05:37:53.367
> 
> 标签：python, django, caching

我对 Django 很陌生，我正在尝试让我的网站将服务器状态显示为文本。但是，此文本是动态的。我不明白为什么，如果我进入我的模型并将服务器状态功能更改为返回“猫”，我在浏览器中没有看到“猫”出现 5 分钟。

根据我目前所了解到的情况，我怀疑这与服务器端的 Django 缓存模板有关。我尝试删除 .pyc 文件，使用 @never_cache，编辑 settings.py 以使用 DummyCache，并清除浏览器缓存，但均无济于事。

有谁知道发生了什么，或者可能的修复方法是什么？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T08:33:29.733

更改代码后，请确保您正在重新启动服务器，例如 apache 或 fastcgi。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:24:42.400

确保您的设置中的 MIDDLEWARE_CLASSES 中没有缓存活动。还要检查下面的链接： [https ://docs.djangoproject.com/en/dev/topics/cache/#the-per-site-cache](https://docs.djangoproject.com/en/dev/topics/cache/#the-per-site-cache)

# wpf - WPF4 DataGrid 删除 RowDetailsTemplate 的 DataGrid 中的行

> ID：13392097
> 
> 赞同：1
> 
> 时间：2012-11-15T05:38:14.510
> 
> 标签：wpf, datagrid, rowdetailstemplate

我有一个 WPF4 DataGrid 控件，它的 RowDetailsTemplate 中包含另一个 DataGrid 控件。我在 DataGrid 控件上添加了一个 PreviewKeyDown 事件，并监视它们是键盘操作。如果按键盘上的 Delete 键，我将删除 DataGrid 控件中的 SelectedItems。我的问题是当我想删除 RowDetailsTemplate DataGrid 控件中的一行时。路由事件，Parent DataGrid 中定义 RowDetailsTemplate 的行也被删除。我知道这是因为 RoutedEvent.RoutingStrategy 设置。但是我怎么能只删除 RowDetailsTemplate DataGrid 中的行呢？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:51:56.043

只需将附加行为添加到嵌套数据网格。这样它就不会再冒泡已删除的事件了..

# xquery - 在 xquery 中编写可重用代码并启动 xquery / marklogic

> ID：13392100
> 
> 赞同：0
> 
> 时间：2012-11-15T05:38:44.960
> 
> 标签：xquery, marklogic

我是 Marklogic 和 Xquery 的初学者。

* * *

1\. 我想知道如何使用marklogic 使xquery 中的面向对象编程模块（如类、接口等）成为可能。
2\. 从哪里开始？是否有任何在线资源可以教授诸如“在 MarkLogic / XQuery 中构建我的 Hello World 应用程序”之类的教程？

* * *

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:15:12.083

XQuery 不是面向对象的，而主要是一种函数式语言，因此类和接口之类的构造不是很明显。编写函数库很容易，只需在序言中添加一个模块子句即可。您可以在其他模块或主模块（没有模块子句的 XQuery 文件）中导入此类模块。

MarkLogic 确实提供了一个有趣的构造，它能够将函数作为参数传递，并将它们保存在变量中。XQuery 3.0（由最新版本的 MarkLogic 部分支持）提供了类似的规定，如动态函数调用和内联函数。

关于使用 MarkLogic 构建典型和完整的 web 应用程序，有很多框架可以帮助您。有 runDMC， http: [//developer.marklogic.com](http://developer.marklogic.com)是基于它的。还有洛克希。您可能还对在 MarkLogic 中构建 REST api 感兴趣。在这种情况下，MarkLogic 6 具有内置功能，对于旧版本，值得关注 Corona。这些，以及一些教程和相当多的博客文章都可以在[http://developer.marklogic.com上找到](http://developer.marklogic.com)

！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-02T16:13:58.130

您问题的最简单答案：XQuery != JAVA

# selenium - Autoit ControlSetText 函数不插入文件路径

> ID：13392104
> 
> 赞同：1
> 
> 时间：2012-11-15T05:39:06.830
> 
> 标签：selenium, webdriver, autoit

以下解决方案是针对“如何使用 Selenium webdriver 自动上传文件”而发布的

```
var Autoit = new AutoItX3();
const string widowTitle = "File Upload";
Autoit.WinWait(widowTitle, "File &name:", 10);
Autoit.ControlSetText(widowTitle, "", "[CLASS:Edit; INSTANCE:1]", pathToFile);
Autoit.ControlClick(widowTitle, "", "[CLASS:Button; INSTANCE:1]");
Autoit.WinWaitClose(widowTitle, "File &name:", 10); 
```

追问：在上面的例子中，pathToFile 没有更新文件上传对话框中的路径。

我尝试使用其他 AutoIt 功能来更新文件路径但徒劳无功。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T06:51:09.767

要将文件类型文件名上传到文件输入元素：

```
import org.openqa.selenium.*
import org.openqa.selenium.firefox.*
import java.util.concurrent.*

driver = new FirefoxDriver()
driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS)
driver.get("http://www.htmlcodetutorial.com/forms/_INPUT_TYPE_FILE.html")
driver.findElementByName("upfile").sendKeys("c:\\temp\\myFile.txt")
driver.findElementByCssSelector("td.content input[type='submit']").click() 
```

不要单击文件输入字段，只需使用 sendKeys，文件选择对话框会自动处理。

# prolog - swi-prolog 否定

> ID：13392108
> 
> 赞同：8
> 
> 时间：2012-11-15T05:39:33.223
> 
> 标签：prolog, negation

我很难在 Prolog 中寻找关于否定的明确答案，所以如果这是一个明显的问题，我深表歉意：

我正在尝试编写一个简单的代码，从逻辑上说“如果 X 喜欢 Y 并且只喜欢 Y，X 和 Y 就会彼此相爱”。我的 .pl 代码如下所示：

```
likes(mary,john).
likes(mary,chad).
likes(john,mary).

loves(X,Y):- likes(X,Y), \+likes(X,Z). 
```

然后我运行我的程序并简单地问：

```
?- loves(X,Y). 
```

但它总是假的。按照我的逻辑，它应该回来说“X=john, Y=mary”。

我尝试了一些将否定与削减分开的组合，尝试使用多行来定义“爱”......我可能错过了否定的主要原则，或者也许有更简单的方法来实现我正在尝试的内容在这里做。如果您能提供帮助，请告诉我！

我正在使用 Debian 软件管理器中的 SWI-Prolog (swipl)，如果这有帮助的话，尽管我怀疑这会产生很大的不同。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-15T07:47:09.583

您的问题是，`Z`当您的规则要求时它不受约束`\+likes(X,Z)`，那么至少总会有 Z=Y 使loves/2 无效。我的意思是，既然喜欢（X，Y）是真的，那么肯定会是真的喜欢（X，Z）。

以这种方式更改它：

```
loves(X,Y):- likes(X,Y), \+ (( likes(X,Z), Z \= Y )). 
```

你会得到

```
?- loves(X,Y).
X = john,
Y = mary. 
```

# string - 查找由列表组成的列表的大小

> ID：13392111
> 
> 赞同：0
> 
> 时间：2012-11-15T05:40:07.727
> 
> 标签：string, list, haskell

我一直在尝试在 Haskell 中创建一个函数，该函数将一个包含列表的列表作为输入，并且（听起来可能很简单）我希望这个函数检查输入是否是具有 (m,n) 维度的正确表. 如果不是，它将返回`(0,0)`。例如，如果我输入：

```
[[1,7,2,1],[2,2,7,8],[3,2,0,1]] 
```

我去拿：

```
(3,4) 
```

我需要这个函数来拒绝我程序中的无效输入。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-15T06:03:05.210

首先，要回答您的实际问题，请不要`(0, 0)`用作例外结果。您的函数类型应为：

```
matrixDim :: [[a]] -> Maybe (Int, Int) 
```

如果矩阵无效，则结果为`Nothing`。现在首先检查第一个子列表的长度是多少。我假设一个矩阵必须至少有一行和一列：

```
matrixDim [] = Nothing 
```

`Maybe`现在您可以使用作为 monad的事实：

```
matrixDim (xs:xss) = do
    let w = length xs
    guard (w > 0)
    (w', h) <- matrixDim xss <|> return (w, 0)
    guard (w == w')
    return (w, h + 1) 
```

现在让我们回到手头的实际问题：列表不是您想要的。对于此类应用程序，更好的数据类型是在其中一个`Data.Array.*`模块中定义的数组。一个更具实验性的替代方案是使用[repa](http://hackage.haskell.org/package/repa) ，您可以免费获得并行化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:02:16.757

```
dim :: [[a]] -> (Int, Int)
dim ls = let x = length ls
             ys = map length ls
         in case ys of
             h:t -> if all (==h) t then (x, h) else (0, 0)
             [] -> (0, 0) 
```

# php - 新的 Azure PHP API - generateSharedAccessUrl

> ID：13392112
> 
> 赞同：1
> 
> 时间：2012-11-15T05:40:07.907
> 
> 标签：php, azure

在 Azure PHP API 的互操作性版本中，有一个服务调用“generateSharedAccessUrl”来生成“密码”以访问私有容器内的 blob。

在微软发布的新版本中似乎没有相同的调用。

使用新（2012 年 10 月）版本，如何设置共享访问 url 密钥？

以下是旧电话的精简版：

```
 $storageClient->generateSharedAccessUrl(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:10:31.560

SAS 令牌支持目前不在 GitHub Azure PHP SDK 中，并且基于一些讨论似乎有一些最终添加它的计划，但是我没有关于何时或它将可用的任何进一步信息。还请求同一 SDK的[工作项。](https://github.com/WindowsAzure/azure-sdk-for-php/issues/628)

如果您的项目有必要，您可以选择编写自己的代码来实现它或利用 CodePlex 上可用的先前版本。由于 SDK 是开源的，您可以将代码提交回 SDK 以使其对其他人有用。

# typescript - TypeScript compile 使用 Web Essentials 1.8 使 VS2012 崩溃

> ID：13392120
> 
> 赞同：0
> 
> 时间：2012-11-15T05:41:10.273
> 
> 标签：typescript, web-essentials

我刚刚更新到 Web Essentials 1.8，现在每当我构建/编译任何 TypeScript 文件时，它都会导致 VS2012 崩溃。知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-23T17:54:06.480

获取修复此问题的最新夜间版本：http: //madskristensen.net/custom/webessentials2012.vsix? [1.8.9.1](http://madskristensen.net/custom/webessentials2012.vsix?1.8.9.1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:59:36.610

仍然崩溃，但找到了临时修复（请参阅我的问答帖子）： http: [//visualstudiogallery.msdn.microsoft.com/07d54d12-7133-4e15-becb-6f451ea3bea6/view/Discussions/0 ?showDiscussionForm=True](http://visualstudiogallery.msdn.microsoft.com/07d54d12-7133-4e15-becb-6f451ea3bea6/view/Discussions/0?showDiscussionForm=True)

# css - 如何在 Rails 3.1+（资产管道）和 haml 中正确包含 IE 的条件 css 文件？

> ID：13392126
> 
> 赞同：1
> 
> 时间：2012-11-15T05:41:45.873
> 
> 标签：css, ruby-on-rails-3, haml, asset-pipeline

我在网上搜索的解决方案不起作用。我目前安装了 rails 3.1 和 haml。该文件`ie.css`位于`app/assets/stylesheets`.`application.css`

我尝试了以下方法，但它不起作用：

```
%html
  %head 
    = stylesheet_link_tag 'application', :media => 'all' 
    <!–[if (IE)]><!–&gt;
    <link href=”ie.css” media=”screen” rel=”stylesheet” type=”text/css” />
    <!–&lt;![endif]–&gt; 
```

应用程序.rb：

```
 config.assets.precompile += %w(ie.css) 
```

应用程序.css：

```
 *= require_self
 *= require_tree . 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:31:36.667

```
/[if IE] 
  = stylesheet_link_tag 'ie' 
```

# regex - 可变大小环视如何工作

> ID：13392129
> 
> 赞同：1
> 
> 时间：2012-11-15T05:42:11.613
> 
> 标签：regex, regex-lookarounds

当 RegEx 引擎到达 RegEx 中的多个环视部分时，它们是如何在内部工作的。

我已经阅读了这篇[优秀的文章](http://perl.plover.com/Regex/article.html)，但它不包括环视。任何人都可以用类似的方法大致解释一下环视（负面，正面，后面，向前）机制吗？

（我也很想知道引擎如何解释以下正则表达式：（`RegEx`s 是不同的正则表达式字符串，可能是可变大小的，即包含`+`或`*`）

```
RegEx (?<!RegEx)(?<=RegEx)(?!RegEx)(?=RegEX) RegEx (?<!RegEx)(?<=RegEx)(?!RegEx)(?=RegEx)  RegEx 
```

，我不想知道与它们匹配的内容，但我想知道引擎如何与它们匹配，它们只是示例。谢谢

**NFA（非确定性有限自动化）图或任何类似的图对于说明该主题非常有用。**

请不要让我参考regular-expressions.info，我已经读过了！它只是使用了两个非常简单的例子，我想大致了解引擎机制。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-24T10:21:56.060

Lookahead 很简单：当引擎遇到一个lookahead 表达式时，它会保存当前位置并正常检查是否匹配。如果不是，则返回失败（允许引擎检查正则表达式早期部分的其他选项）。如果是，它会恢复保存的位置并继续检查正则表达式的其余部分。

向后看更难。在 Python 中，对它们有一个限制，即它们必须是固定大小的。这使得评估变得容易：当遇到它时，检查前面的 [width] 字符是否与表达式匹配，其余的就像前瞻一样工作。如果你不使用这个固定大小的限制，评估会变得慢很多。这并不意味着算法变得复杂：它可以简单地尝试当前位置之前的所有字符串（它之前的 0 个字符、它之前的 1 个字符、它之前的 2 个字符等，直到有一个匹配，或者到达字符串的开头）。

至于顺序，正则表达式默认是贪婪的。这意味着在类似 的表达式中`.*(s?)`，`(s?)`永远不会匹配任何内容，因为如果有 s，它已经被 匹配了`.*`。如果您不想要这个，请在​​ or`?`之后添加一个。`*``+`

现在到你的例子：

*   `/.*a(?=.*)/`匹配任何内容，包括最后一个`a`（它是贪婪的）。`(?=.*)`总是匹配，所以它毫无价值：如果省略，正则表达式是相同的。
*   `/.*a(?!a*)/`从不匹配任何东西：否定前瞻中的表达式始终匹配（如果只是“0 次`a`”）。由于它是负数，这意味着前瞻总是失败。
*   `/.*a(?=[^a]*)(?=[x])(?![c]*)/`从不匹配任何东西。引擎将首先尝试`.*a`匹配所有内容，包括最后一个`a`. 这之后永远不会有另一个`a`，因此第一次先行总是成功（仅第一次）。如果后面没有，则下一个前瞻将失败`x`（注意括号在那里没有用；`[x]`与 相同`x`）。如果失败，它将尝试更短的字符串 for `.*a`，直到（第一个和）第二个前瞻匹配。请注意，如果第二个匹配，第一个前瞻总是匹配，所以它没有用。但是，第三个前瞻破坏了这一切：（`[c]*`与 相同`c*`）总是匹配（在任何位置，您都可以说“这个空字符串是字符 c 的 0 倍的列表”），这意味着否定前瞻总是失败。

您可能会发现有趣的是，如果模式是非贪婪的，会发生什么。例如，`/.*?a/`将匹配包含`a`, 直到并包括`a`字符串中的第一个（而不是最后一个）的任何内容。

# php - 使用 jQuery File Upload 在 url 上使用 mod_rewrite 时，文件上传返回不完整 (IE7,8,9)

> ID：13392131
> 
> 赞同：0
> 
> 时间：2012-11-15T05:42:27.697
> 
> 标签：php, jquery

在通过 .htaccess 重写 url 的页面上通过 jQuery File Upload（使用在 git 页面上找到的自动提交代码）在 Internet Explorer 中上传文件时，文件被正确上传，但是没有链接大小或删除按钮出现，直到页面被刷新。然后它会正确显示。

我在没有重写的 url 上使用了完全相同的代码，它按预期工作。这只发生在 Internet Explorer 中。我在 LAMP 服务器上运行 JFU。

猜测一下，我认为它没有正确返回 JSON 响应，但是我对 JS 的了解非常有限，不知道该往哪里看，所以我希望有些人能够指出我正确的方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:14:55.067

你试过这个吗

```
RewriteEngine On
RewriteCond %{SERVER_PORT} !^443$
RewriteRule ^(.*) https://www.SITE.COM$1 [L,R] 
```

# php - 未定义的变量 - Switch 语句在 PHP 中是否具有作用域

> ID：13392132
> 
> 赞同：2
> 
> 时间：2012-11-15T05:42:39.870
> 
> 标签：php, arrays, variables, scope, switch-statement

大家好，这是我第一次发帖，我觉得这会很好，因为我完全卡住了。我的理解是 PHP 中的 switch 和 If/else 语句没有变量范围。

我的问题是我有一个包含大约 5 行值的 CSV 文件（示例文件），我需要将其放入 mySQL DB 表中（列标题在我的 switch 语句的“案例”中表示）但无论如何我'正在解析 CSV 文件并检查以确保数据在它应该在的列中并将其存储在变量中。然后，我将所有变量存储在一个数组中，该数组被序列化，然后传递到我的 SQL 查询中。

我继续收到错误 SCREAM: Error suppress denied for ( ! ) 注意：未定义的变量：C:\wamp\www\lcimport\serialize.php 中的公司在第 98 行

但我知道这些变量是存在的，因为我可以回显它们并且它们会被调用。但除非这些错误消失，否则我的查询将不会运行，因此不会填充我的数据库表。

我究竟做错了什么？

```
 <?php
//define some constants
$db = 'lc';
mysql_connect('localhost', 'root', ''); 
mysql_select_db($db);
 mysql_error();
$uid = md5(uniqid(time()));

//we only have this here to be a row counter
$row = 1;
if (($handle = fopen("C:\\wamp\\www\\lcimport\\4records.csv", "r")) !== FALSE) {
    while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {
        $num = count($data);
        //var_dump($data);
       // echo $data[0];
        echo '';
        if ($row === 1) {
        $header = $data;
       }     

        $row++;
        for ($c=0; $c < $num; $c++) {
            //echo $data[$c] . "<br />\n";
            if ($row === 2) continue;
             switch ($header[$c] ){
              case "Contact":
                      $contact = explode (" ", $data[$c]);
                      $firstName =  $contact[0];
                      $lastName =  $contact[1];
              break;

              case "Company":
                    $company = $data[$c];

              case "Address1":
              //store
                    $address1 = $data[$c];

              break;

              case "Address2":
                    $address2 = $data[$c];

              break;

              case "Address3":
                    $address3 = $data[$c];

              break;

              case "City":
                    $city = $data[$c];

              break;

              case "State":
                    $state = $data[$c];

              break;

              case "Zip":
                    $zip = $data[$c];

              break;

              case "Phone1":
                    $phone1 = $data[$c];
              break;

              case "Phone2":
                     $phone2 = $data[$c];
              break; 

              case "Phone 3":
                    $phone3 = $data[$c];
              break;

              case "Fax":
                    $fax = $data[$c];
              break;          

              case "Accountno":
                    $accountNo = $data[$c];
              break;

              default:
                $junk = $data[$c];
              break;

             }

        }       
        echo $company;  
            $meta = serialize(Array(
                    "firstname" => $firstName,
                    "lastname" => $lastName,
                    "lawfirmname" => $company,
                    'address' => $address1,
                    'city' => $city,
                    'state' => $state,
                    'zip' => $zip,
                    'fulladdress' => '',
                    'officenumber' => $phone1,
                    'faxnumber' => $fax,
                    'mobilenumber' => $phone2,
                    'email' =>'nothing',
                    'website' => 'somthing.com',
                    'privacy' => 0,
                    'status' =>1
                    )); 

        mysql_query("INSERT INTO `mg_profiles` (meta) VALUES ($meta)");
        mysql_error();

    }
    fclose($handle);
    }

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:59:27.327

**如果所有其他变量都存在并且工作正常**，那么缺少的`break;`应该是公司案例的问题。

在循环中与关系数据库进行通信不是一个好主意，将结果存储到数组中会提高内存和处理效率，并且在获得所有数据后，只需使用简单的请求进行插入，因为

```
INSERT INTO `mg_profiles` (meta) VALUES (...), (...), (...) 
```

完美运行。

PHP 有一个[命令](http://php.net/manual/en/function.list.php)来处理这样的进程：

```
while (($data = fgetcsv($handle, 1000, ",")) !== false) {
    if ($row == 1 || $row == 2) {
        $row++;
        continue;
    }
    list ($contact, $company, $address1 /*, ...*/) = $data;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:49:45.057

只需在条件语句之前定义它（在 if() 之前）

```
$company = ''; 
```

由于 $company 仅在条件语句中出现，当条件失败时，它是未定义的，因此错误

# haskell - 需要最简单的 Haskell 程序

> ID：13392134
> 
> 赞同：6
> 
> 时间：2012-11-15T05:43:01.233
> 
> 标签：haskell

谁能给我提供少于五行的代码，我可以将它们保存为 .hs 并作为 haskell 程序运行并见证奇迹发生吗？互联网有时是如此复杂。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-15T05:49:28.093

```
main = putStrLn "Hello, World!" 
```

来自[http://www.haskell.org/haskellwiki/Haskell_in_5_steps](http://www.haskell.org/haskellwiki/Haskell_in_5_steps)

互联网并没有那么糟糕！

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-11-16T19:45:41.770

应该有人提到`interact`哪个简单实用：

```
main = interact reverse 
```

```
*$ cat interact.hs | runhaskell interact.hs
esrever tcaretni = 尼亚姆* 
```

因此与

```
main = interact (unwords . reverse . words) 
```

```
*$ cat interact.hs | runhaskell interact.hs
字） 。逆转 。（unwords 交互 = 主要* 
```

或进口

```
import Data.List
 main = interact (intersperse '\n') 
```

```
*$ 回声“你好” | runhaskell interact.hs
H
e
l
l
○* 
```

或者，现在编译：

```
main = interact showCharcount 
  where showCharcount str = show (length str) ++ "\n" 
```

```
*$ ghc --make -O2 interact.hs -o 字符数
$ echo "你好世界" | ./字符数
12* 
```

在这种情况下，开始做一些穷人的基准测试是有意义的：

```
*$ 时间猫 /usr/share/dict/words | ./字符数
2486813
实际0m0.096s* 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-11-15T14:56:38.153

这个答案更侧重于“看到奇迹发生”：

```
data Expression = Greeting | Leaving

f :: Expression -> String
f Greeting = "Hi there!"
f Leaving  = "Ok, bye!"

main = putStrLn (f Greeting) 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-11-15T21:14:51.993

所有的斐波那契数字怎么样？好吧，为了简洁起见，你可以打印 100 个这样的东西.. ;)

```
fibs = 1 : scanl (+) 1 fibs
main = print $ take 100 fibs 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-11-18T01:28:07.200

汉明数是没有任何大于 5 的素因数的数字。即它们的形式为 2^i*3^j*5^k。其中前 20 个是：

```
[1,2,3,4,5,6,8,9,10,12,15,16,18,20,24,25,27,30,32,36] 
```

第500000个是：

```
1962938367679548095642112423564462631020433036610484123229980468750 
```

打印第 500000 个的程序（经过短暂的计算）是：

```
merge xxs@(x:xs) yys@(y:ys) =
  case (x`compare`y) of
    LT -> x:merge xs yys
    EQ -> x:merge xs ys
    GT -> y:merge xxs ys

hamming = 1 : m 2 `merge` m 3 `merge` m 5
  where
    m k = map (k *) hamming

main = print (hamming !! 499999) 
```

这比您想要的 5 行代码要长。当然它可以打高尔夫球，但我宁愿自然地写它，看看你用任何其他语言计算这个数字需要多少行，并具有合理的执行时间。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-11-15T05:56:09.000

[Haskell 的快速入门](http://learnyouahaskell.com/chapters)。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-11-15T16:24:05.227

打印每个数字：

```
main = mapM_ print [1..] 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2012-11-16T03:56:32.600

你可以高兴起来。这`greet`是一个函数，它接受一个名字并用它打招呼：

```
greet xs = "\nHello, " ++ xs

main = do
   putStrLn $ unlines ["Hi! I'm a Haskell program.", "Who are you?"]
   fmap greet getLine >>= putStrLn 
```

`main`用于`unlines`将字符串列表转换为单个换行符分隔的字符串，然后使用`putStrLn`. `getLine`返回用户输入的文本行（不带换行符）然后应用于该行`greet`。最后，我们将其作为输入推送到另一个`putStrLn`.

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2012-11-16T04:20:42.277

这个有点密集，绝对不是最简单的，但它确实使用了`[1..]`你可以称之为魔法的无限列表。

```
described name list = putStrLn ("\n" ++ name) >> mapM_ print (zip [1..] list)
main = let somenums = [1..100] in do
   described "Some cubes:" [ x^3 | x <- somenums]
   described "Some powers:" $ map (2^) somenums
   described "Some triangle numbers:" $ scanl (+) 0 somenums 
```

该`described`函数打印一个描述，然后打印一个与其位置配对（压缩）的列表。我在几个数字序列上使用它。整数数据默认为`Integer`，这就是它可以愉快地告诉你的原因`2^100`。`Int`数据类型更有限，（`maxBound :: Int == 2147483647`），但当然需要更少的时间和空间。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2015-04-22T05:47:42.663

来自[Tutorials/Programming Haskell/String IO](https://wiki.haskell.org/Tutorials/Programming_Haskell/String_IO)注意多个启动的简短示例；例如相当于 bash `cat < myFile.txt`，

```
main = interact id 
```

where`interact`将函数（在本例中为标识函数`id`）应用于来自标准输入（此处`myFile.txt`）的内容。

编译运行如下，

```
ghc --make short.hs
./short < myFile.txt 
```

# ms-project - MSPDI 生成项目文件

> ID：13392145
> 
> 赞同：0
> 
> 时间：2012-11-15T05:44:00.013
> 
> 标签：ms-project, mpxj

我的 asp.net-application 解析 mpp 文件并将数据保存在 db 中。然后我想使用 mspdi 生成具有相同数据的 xml 项目文件。除了主要的第一项任务外，所有工作都很好。在解析过程中，我得到一个隐藏在 ms 项目中的任务，该任务是所有其他任务的父级。它是什么？如何以编程方式添加此“主要隐藏任务”？通常的加法会出错。

UPD：我使用 mpxj。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T21:16:58.890

可以通过 Project.ProjectSummaryTask 访问该任务 #0。该任务无法通过 Project.Tasks 获得

# facebook - Facebook：查看有多少用户批准了特定权限

> ID：13392149
> 
> 赞同：1
> 
> 时间：2012-11-15T05:44:10.390
> 
> 标签：facebook, facebook-opengraph

在哪里可以查看我的用户已批准的权限列表？

最初我的应用程序没有请求`publish_actions`烫发，上周我们开始要求烫发。

**我在哪里可以查看与此烫发相关的统计信息？**– 批准、拒绝等的人数？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T06:56:32.520

如果您前往您的应用程序设置，有一个见解选项卡，在该选项卡下有一个增长选项，其中详细说明了 Auth Dialog 转换和权限集等。应该是您需要的所有数据。

![权限组](../Images/6acf107bc978760c8cbdfd582739793d.png)

如果您想将这些指标挂钩到一些内部仪表板，也可以通过[API访问它。](https://developers.facebook.com/docs/reference/api/#analytics)

# jquery - 输入文本字段值返回 false

> ID：13392154
> 
> 赞同：0
> 
> 时间：2012-11-15T05:44:48.657
> 
> 标签：jquery, ajax, user-input, validation, textinput

我有使用 ajax 验证的 html 表单。但是，当我想检索州和城市的值时，它们总是返回 false。我尝试了一切，但我不知道发生了什么，因为每个其他文本字段都返回它的输入值。这是我的代码

```
<input type="text" id="city" value="City"/>
<input type="text" id="state" value="State"/> 
```

还有一些javasctipt

```
 var city = $("#city").val();
 var state = $("#state").val(); 
```

当我提醒城市和州时，返回`false`

# c# - 在切换情况下，如果我们将“默认”写为任何单词或单个字母，它不会引发错误

> ID：13392156
> 
> 赞同：15
> 
> 时间：2012-11-15T05:44:52.947
> 
> 标签：c#, switch-statement

在 a`switch`中，如果我们写任何单词或单个字母而不是`default` 它，则不会引发错误。例如

```
switch(10)
{
    case 1:
    break;

    hello:
    break;
} 
```

它运行而不会引发错误。

谁能解释这是如何工作的？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-15T05:50:23.603

它正在编译，因为它`hello:`是一个标签，因此可以是一个`goto`. 当我编译这个时，我收到关于未引用标签的警告（因为我没有 goto）

这是您可以在 LINQPad 中使用的示例 - 您会注意到它同时打印“1”和“hello”：

```
switch(1)
{
    case 1:
        "1".Dump();
        goto hello;
    break;

    hello:
        "hello".Dump();
        break;
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-11-15T05:50:28.187

`switch`与声明无关。它是（由于不好的做法而很少使用）[`goto`语句](http://msdn.microsoft.com/en-us/library/13940fs2.aspx)的标签标识符。

```
goto something2;
something1:
    Console.WriteLine("world");
    goto done;
something2:
    Console.WriteLine("hello");
goto something1;
done: 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-15T05:54:37.157

对于您的示例，您可以看到以下代码片段：

```
switch (10)
{
    case 1:
        break;

    hello:
        Console.Write("In hello label");
        break;
    case 2:
        goto hello;
        break;
} 
```

在上面，您正在为 switch 语句中的 goto 语句定义一个标签。如果 switch 语句落到`case 2`，那么它会去标签`hello`。由于您的原始代码片段没有 a`goto hello;`您将收到未引用标签的警告。

您的标签`hello` 不必对 switch 语句做任何事情（除了在内部定义）。

# blackberry - 单击链接时如何打开我的黑莓应用程序？

> ID：13392158
> 
> 赞同：0
> 
> 时间：2012-11-15T05:44:55.053
> 
> 标签：blackberry

我设计了一个黑莓应用程序，它运行良好。但我需要我的应用程序以两种方式打开。一个是当我的应用程序被点击时它应该打开并且这工作正常。第二种打开方式是每当点击邮件中的链接时，我的应用程序就会打开。我有一点想法，我们必须通过 Httpregistry 在我们的应用程序中注册链接。如果这是真的，请帮助我如何做到这一点，否则请为我提供实现该功能的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T12:24:13.457

您有 3 种不同的选择：

*   HttpFilterRegistry，如果您将应用程序的一个类注册为 HTTP 过滤器，则每次单击链接时都会调用您的应用程序（也应与电子邮件一起使用，未经测试）

*   StringPatternRepository：您可以定义在文本中找到给定字符串模式时要执行的操作。在这里解释：http: [//supportforums.blackberry.com/t5/Java-Development/Leverage-pattern-matching-in-BlackBerry-smartphone-applications/ta-p/445053](http://supportforums.blackberry.com/t5/Java-Development/Leverage-pattern-matching-in-BlackBerry-smartphone-applications/ta-p/445053)

*   实现一个浏览器插件（仅在浏览器中工作）来处理特定的 mime 类型： http: [//www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/browser/plugin/BrowserContentProvider。 html](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/browser/plugin/BrowserContentProvider.html)

我会先尝试使用 HTTP 过滤器，StringPattern 有很多副作用。

您还必须至少启动一次应用程序才能注册字符串模式或 HTTP 过滤器。可以通过定义在系统启动时调用的备用入口点来完成。

# java - 如何直接从 GXT 中的外部 *.xml 文件将项目添加到简单组合框中？

> ID：13392159
> 
> 赞同：0
> 
> 时间：2012-11-15T05:44:55.657
> 
> 标签：java, xml, combobox, gxt, uibinder

我在使用 GXT SimpleComboBox 时遇到了一些困难。有人可以告诉我如何从外部 *.xml 文件添加组合框项目吗？这里有更多细节：

我有这个 information.ui.xml 文件作为 uibinder。在这里，我使用以下代码添加了一个简单的组合框：

```
<row:VerticalLayoutContainer borders="true">
    <f:SimpleComboBox ui:field="listBoxField"></f:SimpleComboBox>
</row:VerticalLayoutContainer> 
```

其次，在代码隐藏类（在我的例子中是 information.java）中，我声明了 ui 字段：

```
@UiField
SimpleComboBox<String> listBoxField; 
```

然后，在 asWidget() 方法块中，我手动添加了一些条目，如下所示：

```
listBoxField.add("A");
listBoxField.add("B");
listBoxField.add("C");
listBoxField.add("D");
listBoxField.add("E");
listBoxField.add("F");
listBoxField.add("G");
listBoxField.add("H"); 
```

这是一种硬编码方法。现在我愿意摆脱硬编码部分。我想直接从外部 *.xml 文件添加 listBoxField 项（A、B、C...H）。谁能帮助我如何做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T09:28:33.110

从字面上看，有数以千计的指南（在 SO 和其他地方）描述了从 XML 文件读取数据所需的步骤。谷歌是你的朋友……

不过，我会用一个问题来回答您的问题：为什么它必须是 XML 文件？怎么样，`ResourceBundle`甚至更好，数据库支持。使用数据库，您不必在每次 XML 或包更改时重新部署您的应用程序......

干杯，

# java - 关于java：从`String.class`获取`String[].class`，如果`String.class`是“运行时类型”怎么办？

> ID：13392160
> 
> 赞同：33
> 
> 时间：2012-11-15T05:45:16.207
> 
> 标签：java, arrays, class, reflection, runtime

这是一个变量`Class<?> cls`，现在我想获取另一个`Array Class Object`是哪个组件类型`cls`。

例如，如果`cls`= `String.class`，我想得到`String[].class`; 如果`cls`= `int.class`，我想得到 ，`int[].class`我该怎么办？

你看，这很容易`String.class`得到`String[].class`：

```
Class<?> arrayCls = String[].class;
if(arrayCls.isArray()){
    Class<?> cls = arrayCls.getComponentType();
} 
```

但我找不到简单的方法来做相反的事情。

这是一种可能的解决方案：

```
Class<?> clazz = String.class;
Class<?> arrayClass = Array.newInstance(clazz,0).getClass(); 
```

请问有什么方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2014-12-12T10:53:14.980

HRgiger 的回答有所改善：

```
@SuppressWarnings("unchecked")
static <T> Class<? extends T[]> getArrayClass(Class<T> clazz) {
    return (Class<? extends T[]>) Array.newInstance(clazz, 0).getClass();
} 
```

它们都在调用时实例化一个数组对象。要获取数组类型，请使用

```
Class<?> childType = ...;
Class<?> arrayType = getArrayClass(childType); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-11-15T06:00:46.277

也许试试`Class.forName(String)`？

编辑：这是一个代码片段。

```
Class<?> arrayClass = String[].class;
System.out.println(arrayClass);
Class<?> namedClass = Class.forName("[L" + String.class.getName() + ";");
System.out.println(namedClass);
System.out.println(arrayClass == namedClass); 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-11-15T06:35:30.090

我发现的另一个技巧是在 util 方法上使用可变参数。

```
public static void main(String[] args) throws ClassNotFoundException {

    Class<?> demo = Main.<String>getArrayClass();
    System.out.println(demo);
}

static <T> Class getArrayClass(T... param){
    return param.getClass();
} 
```

# python - JSON解码字符串

> ID：13392162
> 
> 赞同：1
> 
> 时间：2012-11-15T05:46:00.633
> 
> 标签：python, json, python-2.7

我正在尝试使用解码 JSON 字符串

```
json.loads(request.POST.get('d')) 
```

其中 d 是一个包含 JSON 字符串的 POST 参数。

我在堆栈跟踪中收到以下错误：

```
ValueError: Unterminated string starting at: line 1 column 22 (char 22) 
```

这是 JSON 字符串：

```
{"data":{"40":{"html":"<span style=\"color:#ffffff;\">test</span>","background":"transparent"},"41":{"html":"","background":"transparent"},"42":{"html":"","background":"transparent"}},"action":"save"} 
```

但是，如果我不在 data->40->html 中应用 span 标签，它会起作用

```
{"data":{"40":{"html":"test","background":"transparent"},"41":{"html":"","background":"transparent"},"42":{"html":"","background":"transparent"}},"action":"save"} 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:55:40.200

我想源字符串中有反斜杠。

当我解析

```
"""{"data":{"40":{"html":"<span style=\"color:#ffffff;\">test</span>","background":"transparent"},"41":{"html":"","background":"transparent"},"42":{"html":"","background":"transparent"}},"action":"save"}""" 
```

使用 json.loads()，它会失败并出现类似的错误。

但是，当我禁用转义序列（r'' 字符串文字）时，它可以工作：

```
r"""{"data":{"40":{"html":"<span style=\"color:#ffffff;\">test</span>","background":"transparent"},"41":{"html":"","background":"transparent"},"42":{"html":"","background":"transparent"}},"action":"save"}""" 
```

显然，`'\"'`在您的字符串中被转义并导致在`'"'`您构造字符串时，可能在 JS(?) 中。还没有看到构建它的代码，但尝试添加一个额外的反斜杠：`'\\"'`

更新：您可以在字符串中`r'\'`替换为。`r'\\'`但最好先了解字符串的外观。当您将字符串正文插入到您的消息中时，您是从哪里得到的？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:55:55.827

你怎么知道那是你得到的字符串？这个对我有用：

```
>>> ss = r'{"data":{"40":{"html":"<span style=\"color:#ffffff;\">test</span>","background":"transparent"},"41":{"html":"","background":"transparent"},"42":{"html":"","background":"transparent"}},"action":"save"}'
>>> json.loads(ss)
{u'action': u'save', u'data': {u'42': {u'html': u'', u'background': u'transparent'}, u'40': {u'html': u'<span style="color:#ffffff;">test</span>', u'background': u'transparent'}, u'41': {u'html': u'', u'background': u'transparent'}}} 
```

请注意，我使用了一个原始字符串，`ss`因为否则`\"`只会`"`在字符串中被替换，导致`'"<span style="color:#ffffff;">test</span>"'`由于明显的原因它不起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-16T14:15:14.950

这对我们有用：

```
json.loads(request.POST.get('d').encode('string-escape')) 
```

# java - ServiceWrapper 中的错误

> ID：13392163
> 
> 赞同：1
> 
> 时间：2012-11-15T05:46:00.943
> 
> 标签：java, android, rest

为了调用 Web 服务，我在 xml 布局中创建了一个列表视图，我授予了 Internet 权限，并使用了 stackoverflow 中给出的代码，

```
 HttpHost target = new HttpHost(ServiceWrapper.SERVER_HOST,ServiceWrapper.SERVER_PORT);
    HttpGet get = new HttpGet("/list");
    String result=null;
    HttpEntity entity = null;
    HttpClient client = new DefaultHttpClient();
    try {
      HttpResponse response=client.execute(target, get);
      entity = response.getEntity();
      result = EntityUtils.toString(entity);
     } catch (Exception e) {
      e.printStackTrace();
     } finally {
      if (entity!=null)
       try {
        entity.consumeContent();
       } catch (IOException e) {}
     }
     return return;
} 
```

xml布局代码是这样的：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical" android:layout_width="fill_parent"
android:layout_height="fill_parent">
<ListView android:layout_width="match_parent" 
    android:id="@+id/listView1"
    android:layout_height="match_parent" 
    android:scrollingCache="false"
    android:background="#ffffff" 
    android:cacheColorHint="#00000000">
</ListView> 
```

但是在这里我在 ServiceWrapper 中遇到错误，我是否必须包含任何其他类？有任何想法吗？

# php - 如何在两个不同表的php中显示信息

> ID：13392166
> 
> 赞同：0
> 
> 时间：2012-11-15T05:46:13.997
> 
> 标签：php, html

> **可能重复：**
> [如何在 php 中显示两个具有相同数据的不同表的信息，但名称或 id 不同](https://stackoverflow.com/questions/13382808/how-to-display-the-information-in-php-of-two-different-table-with-same-data-in-i)

此代码显示表的两个信息只想显示我选择的一个表信息

因为有两个表菜单和非菜单。

并且在这 2 个表中，n 个字段和项目作为输入给出，所以当我选择表中的一个项目时，将显示这些项目的信息

因为当我选择表格的特定项目时，它会同时显示表格信息。

任何尝试n帮助..

```
<?php
session_start();
if(isset($_GET['id']))
{
    $_SESSION['n']=$_GET['id'];
}

$n=$_SESSION['n'];

$con=mysql_connect("localhost","root","");
mysql_select_db("menu",$con);
$sql="select * from menus where id=$n";
$result=mysql_query($sql);
$row=mysql_fetch_array($result);
echo "<table border=0 width=100%  ><tr>";
echo "<td><h1><img src=\"images/veg.jpg\" height=35 width=35  /> $row[tittle]</h1></td>"; ?> 
<?php echo" <td><h1><img src=\"images/telephone1.jpg\" height=35 width=35  /> $row[phone]    </h1></td>";
//<img src="images/Kapu-Lighthouse.jpg"  title="Non veg" width="210" height="150" />

//echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>";
// echo "- $row[phone]"; 
echo "</tr></table>";
?> 
    <img src="upload/<?php  echo $row['photo'];?>" height=300 width= 550 alt="" />
    <?php
echo "<br> <a href=index.php>back</a>";

?>                    

   <?php
    echo"<h4>$row[address]</h4>";
   ?>          
<h1>Gallery</h1>

<table  border=7  cellspacing=10 > <tr>

<td><img src="upload/<?php  echo $row['gallery'];?>" height=150 width= 160 alt="" /> </td>
  <td><img src="upload/<?php  echo $row['gallery1'];?>"height=150 width= 160 /> </td>
  <td><img src="upload/<?php  echo $row['gallery2'];?>"height=150 width= 160 /> </td>
  <td><img src="upload/<?php  echo $row['gallery3'];?>"height=150 width= 160 /> </td>
  <td><img src="upload/<?php  echo $row['gallery4'];?>"height=150 width= 160 /> </td>
</tr>
</table>
<?php mysql_close($con);   ?>
<!-- End veg items to be displayed in menu.php -->

 <!-- Non veg items to be displayed in menu.php -->
         <?php

                    if(isset($_GET['nid']))

{
    $_SESSION['n']=$_GET['nid'];
}

$n=$_SESSION['n'];

$con=mysql_connect("localhost","root","");
mysql_select_db("menu",$con);
$sql="select * from nonmenu where id=$n";
echo "$sql";
$result=mysql_query($sql);
$row=mysql_fetch_array($result);

echo "<table border=0 width=100%  ><tr>";
echo "<td><h1><img src=\"images/non-veg.jpg\" height=35 width=35  /> $row[ntittle]</h1></td>"; ?> 
<?php echo" <td><h1><img src=\"images/telephone1.jpg\" height=35 width=35  /> $row[nphone]    </h1></td>";
//<img src="images/Kapu-Lighthouse.jpg"  title="Non veg" width="210" height="150" />

//echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>";
// echo "- $row[phone]"; 
echo "</tr></table>";
?> 
    <img src="upload/<?php  echo $row['nphoto'];?>" height=300 width= 550 alt="" />
    <?php
echo "<br> <a href=index.php>back</a>";

?>                    

   <?php
    echo"<h4>$row[naddress]</h4>";
   ?>          
<h1>Gallery</h1>

<table  border=7  cellspacing=10 > <tr>

<td><img src="upload/<?php  echo $row['ngallery'];?>" height=150 width= 160 alt="" /> </td>
  <td><img src="upload/<?php  echo $row['ngallery1'];?>"height=150 width= 160 /> </td>
  <td><img src="upload/<?php  echo $row['ngallery2'];?>"height=150 width= 160 /> </td>
  <td><img src="upload/<?php  echo $row['ngallery3'];?>"height=150 width= 160 /> </td>
  <td><img src="upload/<?php  echo $row['ngallery4'];?>"height=150 width= 160 /> </td>
</tr>
</table>
<?php mysql_close($con); ?>
<!-- End Non veg items to be displayed in menu.php -->

        </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:02:02.880

使主题独占。如果我理解正确，这可能会起作用：

```
if(isset($_GET['id']) && (!isset($_GET['nid']))) {
// id tasks
die;
}

if(isset($_GET['nid']) && (!isset($_GET['id'])) ) { 
// nid tasks
die;
} 
```

更新：

```
<?php
session_start();
if ( isset( $_GET[ 'id' ] ) && ( !isset( $_GET[ 'nid' ] ) ) ) {
  $_SESSION[ 'n' ] = $_GET[ 'id' ];
  $n = $_SESSION[ 'n' ];
  $con = mysql_connect( "localhost", "root", "" );
  mysql_select_db( "menu", $con );
  $sql    = "select * from menus where id=$n";
  $result = mysql_query( $sql );
  $row    = mysql_fetch_array( $result );
  echo "<table border=0 width=100%  ><tr>";
  echo "<td><h1><img src=\"images/veg.jpg\" height=35 width=35  /> $row[tittle]</h1></td>";
 ?>

<?php echo" <td><h1><img src=\"images/telephone1.jpg\" height=35 width=35  /> $row[phone]    </h1></td>";
  //<img src="images/Kapu-Lighthouse.jpg"  title="Non veg" width="210" height="150" />
  //echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>";
  // echo "- $row[phone]";
  echo "</tr></table>";
  ?>
<img src="upload/<?php  echo $row[ 'photo' ];?>" height=300 width=550 alt="" />
<?php
  echo "<br> <a href=index.php>back</a>";
  echo"<h4>$row[address]</h4>";
  ?>
<h1>Gallery</h1>
<table border=7 cellspacing=10>
  <tr>
    <td><img src="upload/<?php  echo $row[ 'gallery' ];?>" height=150 width=160 alt="" /></td>
    <td><img src="upload/<?php  echo $row[ 'gallery1' ];?>" height=150 width=160 /></td>
    <td><img src="upload/<?php  echo $row[ 'gallery2' ];?>" height=150 width=160 /></td>
    <td><img src="upload/<?php  echo $row[ 'gallery3' ];?>" height=150 width=160 /></td>
    <td><img src="upload/<?php  echo $row[ 'gallery4' ];?>" height=150 width=160 /></td>
  </tr>
</table>
<?php mysql_close( $con ); ?>
<!-- End veg items to be displayed in menu.php -->
<!-- Non veg items to be displayed in menu.php -->
<?php
}; die;
if ( isset( $_GET[ 'nid' ] ) && ( !isset( $_GET[ 'id' ] ) ) ) {
  $_SESSION[ 'n' ] = $_GET[ 'nid' ];
  $n = $_SESSION[ 'n' ];
  $con = mysql_connect( "localhost", "root", "" );
  mysql_select_db( "menu", $con );
  $sql = "select * from nonmenu where id=$n";
  echo "$sql";
  $result = mysql_query( $sql );
  $row    = mysql_fetch_array( $result );
  echo "<table border=0 width=100%  ><tr>";
  echo "<td><h1><img src=\"images/non-veg.jpg\" height=35 width=35  /> $row[ntittle]</h1></td>"; ?>
<?php echo" <td><h1><img src=\"images/telephone1.jpg\" height=35 width=35  /> $row[nphone]    </h1></td>";
  //<img src="images/Kapu-Lighthouse.jpg"  title="Non veg" width="210" height="150" />
  //echo " - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>";
  // echo "- $row[phone]";
  echo "</tr></table>";
  ?>
<img src="upload/<?php  echo $row[ 'nphoto' ];?>" height=300 width=550 alt="" />
<?php
  echo "<br> <a href=index.php>back</a>";
  echo"<h4>$row[naddress]</h4>";
  ?>
<h1>Gallery</h1>
<table border=7 cellspacing=10>
  <tr>
    <td><img src="upload/<?php  echo $row[ 'ngallery' ];?>" height=150 width=160 alt="" /></td>
    <td><img src="upload/<?php  echo $row[ 'ngallery1' ];?>" height=150 width=160 /></td>
    <td><img src="upload/<?php  echo $row[ 'ngallery2' ];?>" height=150 width=160 /></td>
    <td><img src="upload/<?php  echo $row[ 'ngallery3' ];?>" height=150 width=160 /></td>
    <td><img src="upload/<?php  echo $row[ 'ngallery4' ];?>" height=150 width=160 /></td>
  </tr>
</table>
<?php
  mysql_close( $con );
//End Non veg items to be displayed in menu.php
}; die;
?>
</div>
</div> 
```

# typo3 - FE渲染：如何在typo3中的blockquote标签上有一个自定义类

> ID：13392168
> 
> 赞同：0
> 
> 时间：2012-11-15T05:46:18.747
> 
> 标签：typo3, typoscript, rte

我在我的 RTE 中插入了一个块引用标签（twitter 引用）。保存时，数据库中的一切都正常（....），但在前端却不行。

我的标签

```
<blockquote class="twitter-tweet">... 
```

是转换为

```
<blockquote style="margin-bottom:10;margin-top:0;">... 
```

我使用了许多 TS 配置。我使用的最后一个是：

```
lib.parseFunc_RTE.externalBlocks.blockquote.callRecursive.tagStdWrap.HTMLparser.tags.blockquote.overrideAttribs > 
```

但它并没有解决它。

有人可以帮助我吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-20T19:54:04.027

在页面设置中添加：

```
tt_content.text.20.parseFunc.externalBlocks.blockquote.callRecursive.tagStdWrap.HTMLparser.tags.blockquote.fixAttrib.style.unset=1 
```

或将您的代码以***lib.parseFunc_RTE 开头。***在页面设置中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-05T07:43:36.750

你可以试试这个：

```
 RTE.config.tt_content.bodytext.proc.tags {
        blockquote.allowedAttribs = id, class, title, alt
    } 
```

# c++ - 错误：从“void”转换为非标量类型“std::vector” 完整的错误信息： error: conversion from 'void' to non-scalar type 'std::vector<std::basic_string<char, 5402="" std::char_traits<cha="" 问问题="" 2012-11-15t05:46:21.893="" 次="" this="" question="" shows="" research="" effort;="" it="" is="" useful="" and="" clear="" -1="" does="" not="" show="" any="" unclear="" or="" bookmark="" question.="" activity="" on="" post.="" 完整的错误信息：="" error:="" conversion="" from="" 'void'="" to="" non-scalar="" type="" 'std::vector<std::basic_string<char,="" std::char_traits<char="">, std::allocator <char>>, std::allocator<std::basic_string<char, std::char_traits<char="">, std::allocator <char>> > >' requested 1 #include <iostream>2 #include <iomanip>3 #include <fstream>4 #include <vector>5 using namespace std; 6 7 token parseLine(string s, char i); 53 int main() 54 { 55 string line; 56 char delim = '|'; 57 ifstream inputStream("test.txt"); 58 59 while( getline(inputStream, line) ) 60 { 61 vector <string>tokens = parseLine( line, delim); 62 if(tokens[0][0] != '#') 63 { 64 cout << tokens[0]; 65 cout << tokens[1]; 66 cout << tokens[2]; 67 } 68 } 69 } 请原谅 8-52 行跳过，它被注释掉了“不起作用的东西”。 我不确定如何声明parseLine，我尝试的任何方法都不起作用：void、、、、int等double；string 有关如何声明parseLine以使其执行我想要的操作的任何指示？ 尝试在某个地方下载一个您知道永远不会移动的文件（www.google.com），并且您已经知道其内容（这是困难的部分）。 将下载的内容与应下载的内容进行比较，您就会知道您是否在某个身份验证页面上。 c++ 4 1 回答 1 This answer is useful 1 parseLine()必须返回一个vector<string>： vector <string>parseLine(string s, char i); 如果它应该适合第 61 行。但是由于您返回 atoken它也可能是 vector <token>parseLine(string s, char i); 你的意图。 于 2012-11-15T05:56:05.967 回答 Related 2 php - 为什么空格会在 PHP 中导致致命错误？ 2 c++ - C++ 中的分区和组合（组合）实现 1 php - 导致 MySQL 失败的特殊字符 2 javascript - 当滑块句柄的工具提示重叠时如何隐藏 div（显示滑块范围） 1 javascript - D3.js中json文件的堆积面积图 1 ruby-on-rails-3.2 - rails-i18n translations seem to be not loaded 1 jquery-ui - MVC 4 Razor 开发环境和 IIS 之间的用户界面差异 2 javascript - 克隆音频对象 3 php - 在 PHP 中使用不同的字体 2 java - 无法使用数据存储删除对象，在 dao 和 ds 上查询（使用 `id`）返回零结果 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</token></string></string></string></vector></fstream></iomanip></iostream></char></std::basic_string<char,></char></std::basic_string<char,>

> ID：13392169
> 
> 赞同：-1
> 
> 时间：
> 
> 标签：c++

完整的错误信息：

```
error: conversion from 'void' to non-scalar type 'std::vector<std::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::basic_string<char, std::char_traits<char>, std::allocator<char> > > >' requested 
```

```
 1 #include <iostream>
  2 #include <iomanip>
  3 #include <fstream>
  4 #include <vector>
  5 using namespace std;
  6
  7 token parseLine(string s, char i);
 53 int main()
 54 {
 55    string line;
 56    char delim = '|';
 57    ifstream inputStream("test.txt");
 58
 59    while( getline(inputStream, line) )
 60    {
 61       vector<string> tokens = parseLine( line, delim);
 62       if(tokens[0][0] != '#')
 63       {
 64          cout << tokens[0];
 65          cout << tokens[1];
 66          cout << tokens[2];
 67       }
 68    }
 69 } 
```

请原谅 8-52 行跳过，它被注释掉了“不起作用的东西”。

我不确定如何声明`parseLine`，我尝试的任何方法都不起作用：`void`、、、、`int`等`double`；`string`

有关如何声明`parseLine`以使其执行我想要的操作的任何指示？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:56:05.967

`parseLine()`必须返回一个`vector<string>`：

```
vector<string> parseLine(string s, char i); 
```

如果它应该适合第 61 行。但是由于您返回 a`token`它也可能是

```
vector<token> parseLine(string s, char i); 
```

你的意图。

# android - android: Flurry Ads Banner 采取全屏模式

> ID：13392173
> 
> 赞同：3
> 
> 时间：2012-11-15T05:46:35.703
> 
> 标签：android

我正在我的应用程序中实施乱舞横幅广告。但它需要全屏。我的主要活动.xml 是

```
<?xml version="1.0" encoding="UTF-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/background"
android:orientation="vertical" >

<FrameLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:id="@+id/bannerframe" >
</FrameLayout>

<SeekBar
    android:id="@+id/volumeBar"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="5dp" />

<android.support.v4.view.ViewPager
    android:id="@+id/pager"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />

 </LinearLayout> 
```

在java中我正在做这个代码。

```
FrameLayout fViewGroup = (FrameLayout)findViewById(R.id.bannerframe);
FlurryAgent.onStartSession(appContext, "My API Key is here");
FlurryAgent.initializeAds(appContext);
FlurryAgent.getAd(appContext, "Deer Hunting Calls",fViewGroup,FlurryAdSize.BANNER_TOP, 0); 
```

以下是我得到的屏幕截图。 ![在此处输入图像描述](../Images/36febb38c16921b96d7971131169607f.png)

有谁知道为什么add会全屏？？？我已经用fill_parent、warp_content、match_parent等尝试了android:layout_width和height中的所有选项，但仍然得到相同的结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-19T11:18:33.303

问题解决了。我在dp中使用了宽度和高度......以下是使用过的标签..

```
 <FrameLayout
        android:id="@+id/flurryBanner"
        android:layout_width="320dp"
        android:layout_height="50dp"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true" >
  </FrameLayout> 
```

代码如：

```
FrameLayout flurryBanner;
flurryBanner = (FrameLayout) findViewById(R.id.flurryBanner);
FlurryAgent.initializeAds(appContext);
FlurryAgent.getAd(appContext, "My App",flurryBanner,FlurryAdSize.BANNER_TOP, 0); 
```

工作真棒...

# php - 检查 HTML 表单中的 $_SESSION 并根据结果进行分支

> ID：13392177
> 
> 赞同：1
> 
> 时间：2012-11-15T05:47:20.287
> 
> 标签：php, forms, session

HTML 中的现有代码允许访问者订购随附图像中显示的项目。现有代码使用表单和使用输入字段 (type="submit") 创建的“订购”按钮将适当的尺寸、价格、折扣和其他字段发送到 Yahoo 商店进行处理。

我需要更改此代码，以便在访问者单击“订购”按钮（在 PHP 中检查 $_SESSION）或单击“订购”按钮（onclick）之前检查用户是否已登录。如果用户未登录，则需要将访问者重定向到登录/注册页面，以便他们可以加入组织，然后将他们返回到他们之前所在的产品页面。如果他们已经成功登录，它应该提交表单并将变量发送到 Yahoo 商店。雅虎商店代码有效，我不希望任何人知道和/或对其进行故障排除，但我需要了解如何最好地：1）检查访问者是否已登录，2）如果已登录，请指定“订单”按钮是 type="submit" （目前是这样） 3) 如果未登录，指定“订购”按钮读取“登录”，并在单击时将访问者重定向到 login_logout.php 例程（弹出窗口），然后将访问者返回到之前的位置，他们现在可以看到原始状态的“订购”按钮，并且可以下订单。注意： session_start(); 正在另一个名为“login_logout.php”的 PHP 文件中处理。

```
The area that I'm working with is the <p class="submit"> paragraph. 
```

原始 HTML 代码：

```
<form action="<!--#ystore_order id=ae009 -->" method="post">
  <h1><!--#ystore_catalog id=ae009 field=name --></h1>
  <div class="productImage">
    <!--#ystore_catalog id=ae009 field=image format=html -->
  </div>

  <div class="order">
   <p class="salePrice">
  <em>For Sale Price:</em>
  Enter your <a href="http://www.mydomain.com/coderequest.html" target="_blank"     class="external">promo code  </a> at checkout
   </p>
   <p class="regularPrice"><em>Regular Price</em> <!--#ystore_catalog id=ae009 field=price format=html --></p>
   <p class="options"><!--#ystore_catalog id=ae009 field=options format=html --></p>
   <p class="sole"><!--#ystore_catalog id=ae009 field=sole --></p>
   <p class="size">
       <a onclick="MM_openBrWindow('../../Size_Chart.html','SizeChart1','width=910,height=255')"><!--#ystore_catalog id=ae009 field=size --></a> 
   </p>
   <p class="size">*Validate width/size availability</p>
<!--******************************************************************************************-->
   <p class="submit">
      <input type="submit" value="Order" />
   </p>
<!--******************************************************************************************-->  
  </div>

  <h2 class="manufacture"><!--#ystore_catalog id=ae009 field=name --></h2> 
  <p class="style"><em>Style</em> <!--#ystore_catalog id=ae009 field=label --></p>
  <p class="description"><!--#ystore_catalog id=ae009 field=caption --></p>
  <p class="link"><a href="<!--#ystore_catalog id=ae009 field=productlink -->" target="_blank" class="external">Additional Product Information</a></p>
</form> 
```

这是我想做的事情：

```
<form ...>               
  <div class="order"...>
     ....... additional lines of code .......
   <p class="submit">
      <?php if($_SESSION['logged_in']) {    ?>
        <p><input type="submit" value="Order" /></p>
      <?php } else { ?> 
        <p><input type="button" src="http://mydomain.com/login_logout.php" value="Login" /></p>
      <?php } ?>
   </p>   
  </div>
  <...miscellaneous irrelevant bs...>
</form> 
```

但是，当我在表单语句中执行此操作时，它似乎不起作用。我在这里接近正确的方法吗？我知道我正在使用服务器端语言处理客户端功能，但如果我只是检查 $_SESSION 状态，这有关系吗？我查看了尽可能多的其他常见问题解答，这些常见问题解答与表单语句中的 PHP 有任何关系，还考虑了从 Input field 语句中的 onclick="zzzzz.js" 指令调用 PHP 函数。似乎没有任何工作或直接适用于我的场景。提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:52:18.783

代替

```
if($_SESSION['logged_in']) 
```

尝试

```
if(isset($_SESSION['logged_in'])) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:54:05.807

这可能不是您问题的答案，但我想指出以下行不起作用，

`<p><input type="button" src="http://mydomain.com/login_logout.php" value="Login" /></p>`

页面不会重定向到`login_logout.php`。

这是重定向的正确方法，

```
<p><input type="button" onclick="window.location='http://mydomain.com/login_logout.php'" value="Login" /></p> 
```

# mef - IronRuby 错误：Microsoft.Scripting.Actions.Calls.OverloadInfo（尝试移植 MEF）

> ID：13392178
> 
> 赞同：1
> 
> 时间：2012-11-15T05:47:41.590
> 
> 标签：mef, ironruby

我正在尝试从允许 IronRuby 导入/导出 MEF 部件的博客文章中升级一些 4 年前的代码。

代码位于：[https ://github.com/JogoShugh/IronRubyMef](https://github.com/JogoShugh/IronRubyMef)

不幸的是，尝试运行时出现此错误：

```
Method not found: 'Microsoft.Scripting.Actions.Calls.OverloadInfo[] 
Microsoft.Scripting.Actions.Calls.ReflectionOverloadInfo.CreateArray
(System.Reflection.MemberInfo[]) 
```

我在 IronRuby 论坛上只找到了一个参考，并发送了另一个注释。但是，有没有其他人知道可能导致这种情况的原因？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-13T23:09:29.090

该错误通常是在从 ruby​​ 脚本调用 Object.new 时引起的。当然，这应该可以工作，IronRuby 1.1.3 似乎带有一个错误，如果您执行 Object.methods 它实际上列出了 :new 但它在调用时失败。

修复有点简单，只需将其添加到您的 Ruby 程序初始化之前，在任何需要调用之前：

```
class System::Object
  def initialize
  end
end

requires 'some/module'

# Rest of your code... 
```

现在，当任何脚本调用 Object.new 时，它都会正常工作。我写了一篇关于这个问题的帖子：http: [//marcel.bowlitz.com/continuous-integration/custom-resources-in-visual-studio-test-项目](http://marcel.bowlitz.com/continuous-integration/custom-resources-in-visual-studio-test-projects)
**更新：** IronRuby 1.1.4（在[http://github.com/IronLanguages/main](http://github.com/IronLanguages/main)中找到）修复了这个问题。您已签出代码并构建。

# java - 将 graphics2d 添加到 JFrame

> ID：13392179
> 
> 赞同：0
> 
> 时间：2012-11-15T05:47:47.100
> 
> 标签：java, swing, jframe, graphics2d

我是java新手。我正在尝试制作小行星克隆游戏，但遇到了麻烦。

我不确定如何将 graphics2d 对象添加回 jframe。任何帮助，将不胜感激。另外，我计划在此基础上添加更多内容，如果看起来有点傻，请见谅。
目前 jframe 绘制但我没有在里面得到任何对象。

主班

```
import java.applet.*;
import javax.swing.*;

public class Program extends JApplet
{
public void init()
{
    String[] s = new String[0];
    main(s);
};

public static void main(String[] args)
{
    System.out.println("Launching Window");
    Window w = new Window();
    w.setSize(700, 600);
    w.setLocation(50,50);
    w.setVisible(true);
    w.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    System.out.println("Launching Game");
    Game g = new Game();

    while(g.play)
    {
        System.out.println("Looping");
        g.tick();
        w.repaint();
    };
}
}; 
```

Gui Stuff（不确定我是否需要这个或与game.java合并）

```
import javax.swing.*;

public class Window extends JFrame
{
    private JPanel panel;

    public Window()
    {
        panel = new JPanel();
        add(panel);
    };

}; 
```

Game.java，程序的主要逻辑，还不完整

```
import java.applet.*;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.util.*;

public class Game implements KeyListener
{
    public static int xmax = 800;
    public static int ymax = 600;

    private LinkedList<Rock> rocks = new LinkedList();
    private LinkedList<Laser> lasers = new LinkedList();
    private Ship ship;

    private int score = 0;
    public boolean play = true;

    public Game()
    {
        ship = new Ship(xmax/2, ymax/2);    //Game objects
        rocks.add(new Rock(50, 50, 50));
    };

    public void reinit()
    {
        ship = null;
        rocks.clear();
        lasers.clear();
        score = 0;
    };

    public void tick()
    {
        for(int i = 0; i < rocks.size(); i++)   //Check to see if bullets hit unit, remove that unit
        {
            for(int j = 0; j < lasers.size(); j++)
            {
                if(rocks.get(i).hit(rocks.get(j)))
                {
                    if(rocks.get(i).size > 20)  //if rocks bigger than 20 spawn some more rocks
                    {
                        rocks.add(new Rock(rocks.get(j).x, rocks.get(j).y, rocks.get(j).size/3));   //add three rocks on hit
                        rocks.add(new Rock(rocks.get(j).x, rocks.get(j).y, rocks.get(j).size/3));
                        rocks.add(new Rock(rocks.get(j).x, rocks.get(j).y, rocks.get(j).size/3));
                    };
                    rocks.remove(j);                                                                //remove hit rock
                    lasers.remove(i);                                                               //remove laser
                };
            };
        };

        for(int i = 0; i < rocks.size(); i++) //move units
        {
            rocks.get(i).tick();
        };

        for(int i = 0; i < lasers.size(); i++) //move bullets
        {
            lasers.get(i).tick();
        };

        ship.tick();
    };

    public void keyPressed(KeyEvent e) 
    {
        if(e.getKeyCode()==KeyEvent.VK_SPACE)
            lasers.add(new Laser(ship.x, ship.y, ship.angle));
        if (e.getKeyCode()==KeyEvent.VK_UP)
            ship.thrust();
        if (e.getKeyCode()==KeyEvent.VK_LEFT)
            ship.left();
        if (e.getKeyCode()==KeyEvent.VK_RIGHT)
            ship.right();
        if (e.getKeyCode()==KeyEvent.VK_Q)
            play = false;
    };

    public void keyReleased(KeyEvent e)
    {

    };

    public void keyTyped(KeyEvent e)
    {

    };

}; 
```

保存对象的通用类

```
import java.lang.Math;

public class Coords
{
    public static double RAD = 0.0174532925;
    public static int xmax = 800;
    public static int ymax = 600;

    public double x     = 0.0;
    public double y     = 0.0;
    public double dx    = 0.0;
    public double dy    = 0.0;
    public double vel   = 0.0;
    public double size = 0.0;
    public double angle= 0.0;
    public double da    = 0.0;

    public Coords()
    {
    };

    public void reinit()
    {
        x       = 0.0;
        y       = 0.0;
        dx      = 0.0;
        dy      = 0.0;
        vel     = 0.0;
        size    = 0.0;
        angle   = 0.0;
        da      = 0.0;
    };

    public void rot()
    {

    };

    public boolean oob(int xmax, int ymax)
    {
        if((x < xmax) && (x > 0) && (y < ymax) && (y > 0))
            return true;
        return false;
    };

    public boolean hit(Coords in)
    {
        if((in.x + in.size > x) && (in.x < x + size) && (in.y + in.size > y) && (in.y < y + size))
            return true;
        return false;
    };

    public void tick()
    {
        x = (dx + x) % xmax;
        y = (dy + y) % ymax;
        angle = (angle + da) % 360;
    };
}; 
```

宇宙飞船级

```
import java.applet.*;
import java.lang.Math;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.awt.BasicStroke;
import java.awt.Color;
import java.awt.Graphics2D;

public class Ship extends Coords
{
    private ImageIcon imageIcon;
    private Image image;

    public Ship(double x_in, double y_in)
    {
        imageIcon = new ImageIcon(getClass().getResource("images/ship.png"));
        image = imageIcon.getImage();

        x = x_in;
        y = y_in;
    };

    public void thrust()
    {
        dx = dx + (vel * Math.sin(angle * RAD));  //Move points based on speed
        dy = dy + (vel * Math.cos(angle * RAD));
    };

    public void left()
    {
        da--;
    };

    public void right()
    {
        da++;
    };

    public void draw(Graphics graphics)
    {
        Graphics2D g = (Graphics2D)graphics;
        g.rotate(angle);
        g.drawImage(image, (int)x, (int)y, null);
    };
}; 
```

激光类

```
import java.applet.*;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.awt.BasicStroke;
import java.awt.Color;
import java.awt.Graphics2D;

public class Laser extends Coords
{
    private ImageIcon imageIcon;
    private Image image;

    public Laser(double x_in, double y_in, double angle_in)
    {
        imageIcon = new ImageIcon(getClass().getResource("images/laser.png"));
        image = imageIcon.getImage();

        angle = angle_in;

        vel = 20;
    };

    public void draw(Graphics graphics)
    {
        Graphics2D g = (Graphics2D)graphics;
        g.rotate(angle);
        g.drawImage(image, (int)x, (int)y, null);
    };
}; 
```

小行星类

```
import java.applet.*;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.awt.BasicStroke;
import java.awt.Color;
import java.awt.Graphics2D;
import java.util.Random;

public class Rock extends Coords
{
    private ImageIcon imageIcon;
    private Image image;

    public Rock(double x_in, double y_in, double size_in)
    {
        imageIcon = new ImageIcon(getClass().getResource("images/rock.png"));
        image = imageIcon.getImage();

        x = x_in;
        y = y_in;
        size = size_in;

        Random random = new Random();
        int r = random.nextInt();
        angle = r % 360;
        vel = r % 5;
    };

    public void draw(Graphics graphics)
    {
        Graphics2D g = (Graphics2D)graphics;
        g.rotate(angle);
        g.drawImage(image, (int)x, (int)y, null);
    };
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T19:35:19.590

我可以想出很多方法来解决这个问题。您将遇到的最大问题是同步更新以防止模型在开始渲染时开始更新。

## 基础知识

为了获得合理的结果，您将需要一个模型、一个视图和一个驱动程序/控制器。

该模型负责维护游戏资产的状态。视图负责将模型渲染到屏幕上，控制器负责更新模型和视图以及协调输入。

您或多或少地设置了这些基本概念。

认为我可能会改变。

*   我倾向于使用s 的[键绑定。](http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)`KeyListener`键绑定克服了`KeyListener`焦点管理的限制
*   使用`JPanel`（或其他类似容器）而不是直接绘制到任何顶级容器（例如`JFrame`或`JApplet`）。这有很多好处，Swing 容器默认是双缓冲的，您现在可以通过简单地将游戏面板添加到您选择的顶级容器来选择部署。
*   我会从游戏面板向控制器发送关键事件（而不是将控制器作为侦听器直接附加到视图）。这主要是个人选择，但它使您能够对传入事件进行排队并更好地控制这些输入的处理方式

你需要的东西

*   您的驱动程序将需要线程化。这意味着驱动程序将在它自己`Thread`的事件调度线程之外运行。这允许 UI 继续更新，同时驱动程序正在更新模型并准备输出和处理输入。线程可能需要“等待”以在周期之间保持帧速率（并允许 UI 自行绘制）。

## 到屏幕及其他地方

让你的游戏出现在屏幕上比某些人想象的要复杂一些。

最基本的方法是简单地更新模型并调用`repaint`负责绘制它的组件，然后让渲染器简单地`paint`处理模型。

这种方法的问题是；

1.  不可能知道油漆何时/实际发生
2.  在进行重绘时可能会更改模型，这将导致脏漆以及模型和视图之间的不一致

您需要的是某种方式来生成视图并将该视图更新到屏幕上。

`BufferedImage`基本思想是让视图生成控制器可以请求的后备缓冲区（例如 a ）。然后控制器将使用来自模型的信息更新此缓冲区。然后它将请求视图使用此缓冲区更新自身。

视图需要同步请求以确保虚拟视图之间的切换不在绘制周期内执行。

这通常意味着控制器能够在绘制周期之间产生许多“更新”而不影响视图，并且视图应该始终绘制（尽可能接近）最新的“帧”。

为了同步开关，您可以使用受保护的代码块（`synchronized`语句中的代码块）。这样做的问题是，您还需要`synchronize`使用绘画方法，这绝不是一个好主意。

相反，您应该使用`SwingUtilities#invokeAndWait`. 这将用于调用视图的 switch 方法，传入最新的缓冲区。这将确保更新请求将在事件调度线程中发生，这意味着绘制方法不可能运行（因为它也在事件调度线程中运行）。它还会在切换发生时“停止”控制器。

我个人会设置一个`BufferedImage`s 池（通常是两个，但它需要具有根据需要增长和缩小的能力）。这个想法是，当控制器请求一个“缓冲区”时，您弹出队列的最顶部缓冲区并返回它。如果队列中不存在，您将创建一个新的并返回它。

当缓冲区被返回（并且你切换它们）时，你将把这个缓冲区返回到队列中。

我会在后台有一些计时器定期触发以清理池（删除多余的缓冲区）以确保我们不会不必要地咀嚼内存，但这只是我;）

# c# - 如何验证文本框？

> ID：13392181
> 
> 赞同：-1
> 
> 时间：2012-11-15T05:48:07.567
> 
> 标签：c#

```
public bool ValidateText(String strName)
{
    try
    {
        // declaring string variable here
        String strpattern;
        // regex pattern setting 
        strpattern = @"^[a-zA-Z][a-zA-Z0-9']{20}$";
        // checking for matching with given string here
        Regex regex = new Regex(strpattern);
        // returns status here
        return regex.IsMatch(strName);
    }
    catch (Exception ex)
    {
        return false;
    }
} 
```

当我尝试像 q''''''''''''''''' 这样插入名称时，它返回的是字符串值而不是布尔值。plz，让我知道我在这个特定的功能中出错了吗？？？

我需要验证 TextBox 中的文本。换句话说，如果 TextBox 内的 Text 与给定的不匹配，`pattern`则应将其转换为匹配的字符串。应该检查每个用户输入的字符或用户是否粘贴了字符集合。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T05:57:12.237

也许这就是你要找的。

```
 public bool ValidateText(String strName)
        {
            try
            {
                // declaring string variable here
                String strpattern;
                // regex pattern setting 
                strpattern = @"^[a-zA-Z][a-zA-Z0-9']{20}$";
                // checking for matching with given string here
                if (!Regex.Match(strName, strpattern))
                {
                  return false;
                }
                else
                  return true;

            }
            catch (Exception ex)
            {
                ////handle exception
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:59:30.510

从您的问题中，除了问题标题之外没有任何描述

> 如何验证文本框？

我可以从这个和您的代码中理解的是您正在尝试使用正则表达式模式验证输入文本框字段吗？

为此，您的代码似乎是完美编写的。

我认为你没有得到**正确**的是你正在使用的正则表达式模式！

[使用this](http://www.regular-expressions.info/javascriptexample.html)或[this](http://www.regextester.com/)测试您的正则表达式。

我还建议您[阅读此内容。](http://www.regular-expressions.info/index.html)

# php - 对服务器发送的事件感到困惑

> ID：13392182
> 
> 赞同：1
> 
> 时间：2012-11-15T05:48:13.640
> 
> 标签：php, javascript, web, server-sent-events

我有一个`sse.php`读取数据并将其发送回客户端的页面。

它工作得很好，除了它每 N 秒开始一次。

我知道 EventSource 每 N 秒重新连接一次，并且我的 php 脚本一次又一次地启动。

我如何确定第一个连接是什么连接，什么只是保持重新连接？

然后我会知道运行阅读脚本的连接和不连接的连接。

在 WebSockets 上，我知道它只连接一次，然后我只发送数据。

如何获得与上证所相同的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-25T14:26:05.810

EventSource 仅连接那些，仅在连接关闭时重新连接

您可以使用“Last-Event-ID”来了解哪些数据已交付给 ES。

例如：

```
data: test
id: 123 
```

<-- 此时连接被断开，`Last-Event-ID: 123`http头将在重新连接请求中

# jquery - JSON 对象上的 .grep

> ID：13392184
> 
> 赞同：11
> 
> 时间：2012-11-15T05:48:38.757
> 
> 标签：jquery, json

我正在尝试使用 grep 来过滤 Javascript 对象，如下所示：

```
var options = { 
    5: {
        group: "2",
        title: "foo"
    },
    9: {
        group: "1",
        title: "bar"
    }
};

var groups = $.grep(options, function(e){ return e.group == 2 }); 
```

我得到的结果是空的，我猜这与封闭对象的非顺序键有关。任何想法如何解决这一问题？

## 更新

我尝试了几种不同的 grep 方法，包括使用

```
for (key in option) 
```

grep option[key] 但我无法让他工作。最后我走了一条不同的路线，如下所示：

```
var option_ids = new Array();
for (key in option) {
    if ( option[key]['group'] == 2 ) option_ids.push(option[key]['id']);
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-15T06:47:03.247

你不能对一个对象进行[grep](http://api.jquery.com/jQuery.grep/)并期望得到一个理智的结果。但是，您可以`grep`遍历数组，因此我们只需要使用以下命令获取键列表`Object.keys`：

```
$.grep(Object.keys(options), function (k) { return options[k].group == 2; })
//=> ["5"] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-06T14:00:22.187

这是一个过滤器函数，用于过滤数组和对象：

```
function filter(target, func) {
  if (target instanceof Array) {
    return target.filter(func);
  } else {
    var result = {};
    $.each(Object.keys(target).filter(function (value) {
      return func.call(null, target[value]);
    }), function (i, value) {
      result[value] = target[value];
    });
  }
} 
```

# mysql - 从 MySQL SELECT 中删除列

> ID：13392189
> 
> 赞同：0
> 
> 时间：2012-11-15T05:49:17.907
> 
> 标签：mysql, select

我正在根据客户数量从数据库中提取名称列表：

```
SELECT Name, count(CustName) FROM orders GROUP BY Name; 
```

它返回：

```
+--------+-----------------+
| Name   | count(CustName) |
+--------+-----------------+
| Abel   |               3 |
| Jones  |               2 |
| Murphy |               1 |
| Zenith |               1 |
+--------+-----------------+ 
```

我现在如何只列出 count(CustNames) >= 2 的名称？我不想看到 count(CustName) 列。

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T05:50:59.093

```
SELECT 
      Name
FROM orders 
GROUP BY Name
HAVING count(CustName) >= 2; 
```

# php - 使用 php 创建 PDF 文档时出错

> ID：13392190
> 
> 赞同：0
> 
> 时间：2012-11-15T05:49:25.647
> 
> 标签：php, pdf

我从一本关于创建 pdf 文档的电子书 o'oreilly 编程 PHP 中获得了这段代码我在 Windows 7 上运行 wamp 服务器并启用了 PDFLIB

```
 $pdf = pdf_new();
    pdf_open_file($pdf);
    pdf_set_info($pdf,'Creator','hello.php');
    pdf_set_info($pdf,'Author','Rasmus Lerdorf');
    pdf_set_info($pdf,'Title','Hello world (PHP)');
    pdf_begin_page($pdf,612,792);
    $font = pdf_findfont($pdf,'Helvetica-Bold','host',0);
    pdf_setfont($pdf,$font,38.0);
    pdf_show_xy($pdf,'Hello world!',50,700);
    pdf_end_page($pdf);
    pdf_set_parameter($pdf, "openaction", "fitpage");
    pdf_close($pdf);
    $buf = pdf_get_buffer($pdf);
    $len = strlen($buf);
    header('Content-Type: application/pdf');
    header("Content-Length: $len");
    header('Content-Disposition: inline; filename=hello.pdf');
    echo $buf;
    pdf_delete($pdf); 
```

但是当我运行它时，我得到了错误

```
 Fatal error: Uncaught exception 'PDFlibException' with message 'pdf_open_file() expects exactly 2 parameters, 1 given' in C:\wamp\www\phpPdf\index.php:3 Stack trace: #0 C:\wamp\www\phpPdf\index.php(3): pdf_open_file(Resource id #2) #1 {main} thrown in C:\wamp\www\phpPdf\index.php on line 3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:52:38.637

错误消息的意思正是它所说的：“pdf_open_file() 需要 2 个参数，1 个给定”

您需要给它一个文件名作为第二个参数。

见： http: [//php.net/manual/en/function.pdf-open-file.php](http://php.net/manual/en/function.pdf-open-file.php)

除此之外，文档还指出 pdf_open_file 是一个已弃用的函数，因此您应该使用：[http ://www.php.net/manual/en/function.pdf-begin-document.php](http://www.php.net/manual/en/function.pdf-begin-document.php)

# ruby - 将 Ruby 的线程哈希/上下文传递给另一个线程

> ID：13392193
> 
> 赞同：4
> 
> 时间：2012-11-15T05:49:35.223
> 
> 标签：ruby, multithreading, ruby-on-rails-3.2

有没有办法将线程的上下文（基本上是`Thread.current`哈希）传递给另一个线程。

我正在`Thread.new`从现有线程做一个，我希望这个新线程能够访问当前（即调用线程的）哈希。

这是在 ruby​​ MRI 1.9.3/Rails 3.2.8 环境中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-06-14T12:42:28.867

如果您需要传递光纤本地值，请使用：

```
Thread.current[:foo] = 'bar'
Thread.new(Thread.current) do |parent_context|
  parent_context.keys.each do |k|
    Thread.current[k] = parent_context[k]
  end

  puts Thread.current[:foo]
end.join 
```

但是对于线程本地值，您应该使用[Thread#thread_variable_set](https://ruby-doc.org/core-2.5.0/Thread.html#method-i-thread_variable_set)和[Thread#thread_variable_get](https://ruby-doc.org/core-2.5.0/Thread.html#method-i-thread_variable_get)：

```
Thread.current.thread_variable_set(:foo, 'bar')
Thread.new((Thread.current)) do |parent_context|
  puts parent_context.thread_variable_get(:foo)
end.join 
```

[查看文档](https://ruby-doc.org/core-2.5.0/Thread.html#method-i-thread_variable_get)以了解光纤和线程本地值之间的差异

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:27:04.110

```
Thread.new do
  $binding = binding
  msg = "Message from another thread"
end.join

Thread.new($binding){|b| eval("p msg", b)}.join
# => "Message from another thread" 
```

# c# - 从表中读取数据无效的转换

> ID：13392194
> 
> 赞同：0
> 
> 时间：2012-11-15T05:49:35.090
> 
> 标签：c#, asp.net, casting

我的用户表有一个名为`Admin`which is的字段`tinyint(1)`。1 为管理员，0 为普通用户。

我想在用户登录时设置一个会话变量，该变量是真还是假，具体取决于他们是否是管理员。

```
if ((int)Reader["Admin"] == 0)
{
    HttpContext.Current.Session["Admin"] = false;
}
else
{
    HttpContext.Current.Session["Admin"] = true;
} 
```

`Reader`是一个`SqlDataReader`。该代码产生以下错误：

> System.InvalidCastException：指定的强制转换无效。

如何正确`Reader["Admin"]`转换为 int？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T05:54:28.850

那是因为 tinyint 变成了 System.Byte 不能显式地转换为 System.Int32

您将不得不使用[Convert.ToInt32(Byte)](http://msdn.microsoft.com/en-us/library/7hk2thbx.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:53:17.300

`tinyint``Byte`在 C# 中转换为。将演员/条件更改为

```
 (Byte)Reader["Admin"] == 0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T06:13:01.577

检查以下链接

[如何在 c# 中将 t-sql 的“tinyint”转换为整数？](https://stackoverflow.com/questions/1922094/how-can-you-convert-tinyint-of-t-sql-to-integer-in-c)

[关于 CLR 类型转换的 MSDN 参考](http://msdn.microsoft.com/en-us/library/ms131092.aspx)

# printing - 在下一次 DOS 打印时将打印头移回打印位置的 VB6 代码

> ID：13392208
> 
> 赞同：0
> 
> 时间：2012-11-15T05:50:59.353
> 
> 标签：printing, vb6, dos

在我的 Visual Basic 6.0 程序中，我使用 DOS 打印功能进行高速打印。我面临的问题是，当打印开始时，纸张没有移回打印辊的打印开始位置。现在打印从纸张被撕下的最后一个位置开始。按打印机的按钮重置纸张非常困难且浪费时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:59:40.017

我正在使用这些转义码

```
ESC_RESET = Chr$(&H1B&) & Chr$(&H40&)
ESC_FORM_FEED = Chr$(&HC&) 
```

编辑：检查[第 3 部分：爱普生转义码的命令表](http://support.epson.ru/products/manuals/000352/part3.pdf)。搜索反向进纸 (ESC j)。

# list - Haskell HXT 解析行和列并获取 [[String]] 而不是 [String]

> ID：13392210
> 
> 赞同：2
> 
> 时间：2012-11-15T05:51:18.043
> 
> 标签：list, haskell, spreadsheet, hxt

我正在尝试使用 HXT 解析 ods（libreoffice 电子表格）文件并遇到问题。在电子表格中，一行有许多单元格（所有单元格名称为“cell”），而电子表格有很多行（所有单元格名称为 row）。当我尝试获取单元格的文本时，代码将它们混合在一起，最终得到一大堆不按行分隔的单元格......

尝试解析以下内容时：

```
<spreadsheet>
    <row>
       <cell> <p>ABC</p> </cell>
       <cell> <p>DEF</p> </cell>
       <cell> <p>GHI</p> </cell>
    </row>
    <row>
       <cell> <p>abc</p> </cell>
       <cell> <p>def</p> </cell>
       <cell> <p>ghi</p> </cell>
    </row>
    <row>
       <cell> <p>123</p> </cell>
       <cell> <p>456</p> </cell>
       <cell> <p>789</p> </cell>
    </row>
</spreadsheet> 
```

使用代码：

```
import Text.XML.HXT.Core

play arg = do { results <- runX (processor arg) ; print results }
atTag x = getChildren >>> isElem >>> hasName x

processor filename =
    readDocument [withValidate no] filename >>>
    atTag "spreadsheet" >>>
    atTag "row" >>>
    atTag "cell" >>>
    atTag "p" >>>
    getChildren >>> getText 
```

它给出 [ABC, DEF, GHI, abc, def, ghi, 123, 456, 789] 而我想要的是 [[ABC, DEF, GHI], [abc, def, ghi], [123, 456, 789] ]。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T11:41:23.067

您可以使用[`listA`](http://hackage.haskell.org/packages/archive/hxt/9.3.1.1/doc/html/Control-Arrow-ArrowList.html#v:listA)在适当的位置将结果收集到列表中：

```
import System.Environment (getArgs)
import Text.XML.HXT.Core

processor filename =
  readDocument [withValidate no] filename
    />  hasName "spreadsheet"
    />  hasName "row"
    >>> listA (getChildren >>> hasName "cell" /> hasName "p" /> getText)

main = fmap head getArgs >>= runX . processor >>= print 
```

这将打印您想要的结果。

请注意，我使用的是提供的`/>`and`hasName`而不是您的`atTag`，但如果您想坚持使用`atTag`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:10:48.187

[它不是 HXT，但您可以使用以下方法通过xml-conduit](http://hackage.haskell.org/package/xml-conduit)解决它：

```
{-# LANGUAGE OverloadedStrings #-}
import Text.XML
import Text.XML.Cursor
import qualified Data.Text as T

main = do
    c <- fmap fromDocument $ Text.XML.readFile def "foo.xml"
    print $ c $// element "row" >=> perRow
  where
    perRow row = [row $/ element "cell" >=> perCell]
    perCell cell = [T.strip $ T.concat $ cell $// content] 
```

# infragistics - 在运行时根据另一列的值填充 Ultrawebgrid ValueList

> ID：13392211
> 
> 赞同：0
> 
> 时间：2012-11-15T05:51:20.913
> 
> 标签：infragistics, ultrawebgrid

我有一个带有名为 WorkCategory 的 valuelist 列的**Ultrawebgrid**（在 Page_Load 中静态加载值）。

当用户为**WorkCategory**选择一个值（在*AfterCellUpdated*事件中捕获）时，将根据**WorkCategory**值列表的选定值创建并加载第二个名为**WorkSubCategory**的 ValueList并填充以供用户选择。

 **加载网格时，在正确显示**WorkSubCategory**列值时，当单击单元格本身选择另一个值时，不会显示 valuelist 下拉列表，因为在**WorkCategory**下拉列表更改值之前不会创建此下拉列表。这对用户来说是很沮丧的，因为如果他们想要更改工作子类别，他们必须首先将工作类别更改为另一个值，然后将其更改回所需的值，然后访问工作子类别上的下拉列表柱子。

我想要做的是在 *page_load* 上加载和可用的值列表，以便能够编辑**WorkSubCategory**值列表，而不必先更改**WorkCategory**列的值。我试图在 Page_Load 上调用的方法的代码隐藏中做到这一点；当网格加载正常时，单击**WorkSubCategory**列会引发令人讨厌的 javascript 异常。

关于如何实现这一点的任何想法？我应该把它连接到哪个事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T14:11:55.227

将 BeforeEnterEditMode 用于包含依赖于另一个值的 ValueList 的单元格，然后无论该值是在服务器还是客户端上设置的都无关紧要。为了使值列表依赖于行中的另一个值，逻辑仍然需要在客户端作为服务器端，您只能为列设置一个 ValueList。 [如何将值列表从一行更改为另一行](http://devcenter.infragistics.com/Support/KnowledgeBaseArticle.aspx?ArticleID=2906)有一个示例。**

# jquery - 为什么这个 javascript 不起作用？有任何想法吗

> ID：13392212
> 
> 赞同：1
> 
> 时间：2012-11-15T05:51:26.843
> 
> 标签：jquery, javascript-events

这是一个 Jsfiddle [http://jsfiddle.net/EzLnH/](http://jsfiddle.net/EzLnH/)。
如果我将功能更改为

```
$(document).bind('keypress', function(event) {
    if (event.which === 77 && event.shiftKey) {
        alert('You pressed ctrl+m');
    }
});​ 
```

它可以工作，但 jsfiddle 中的功能没有
任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:56:47.933

改变它`$(document).on("keydown"...`为我工作。您现在应该使用 .on，.bind 在 jQuery 1.8+ 中已弃用。问题是“按键”部分，但看起来修饰键不会被按键事件拾取。

这是[小提琴](http://jsfiddle.net/EzLnH/2/)

# jquery - jquery 不能在 IE 中工作，但可以在 Chrome 和 FireFox 中工作

> ID：13392213
> 
> 赞同：1
> 
> 时间：2012-11-15T05:51:31.667
> 
> 标签：jquery, html, captcha

我使用以下程序使用 jquery 创建验证码。它在**Firefox 和 Chrome**中运行良好。但是当我在**IE 中执行它时它不起作用**，这意味着**我不能将数字从一个地方移动到另一个地方（不能拖动）** .如何解决这个问题？

```
 <html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
        <title>Jquery Captcha</title>
        <script type="text/javascript" src="js/jquery-1.3.2.js"></script>
        <script type="text/javascript" src="js/ui.core.js"></script>
        <script type="text/javascript" src="js/ui.sortable.js"></script>
            <style type="text/css">
                body{
                    background-color: #2daebf;
                }
                form.registration{
                    width:600px;
                    margin: 10px auto;
                    padding:10px;
                    font-family: "Trebuchet MS";   
                }
                form.registration fieldset{
                    background-color:#707070;
                    border:none;
                    padding:10px;
                    -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -moz-border-radius: 15px;
                    -webkit-border-radius: 15px;                          
                    padding:6px;
                    margin:0px 30px 0px 0px;
                }
                form.registration legend{
                    text-align:left;
                    color:#fff;
                    font-size:14px;
                    padding:0px 4px 15px 4px;
                    margin-left:20px;
                    font-weight:bold;
                }
                form.registration label{
                    font-size: 18px;
                    width:200px;
                    float: left;
                    text-align: right;
                    clear:left;
                    margin:4px 4px 0px 0px;
                    padding:0px;
                    color: #FFF;
                    text-shadow: 0 1px 1px rgba(0,0,0,0.8);
                }
                form.registration input{
                    font-family: "Trebuchet MS";
                    font-size: 18px;
                    float:left;
                    width:300px;
                    border:1px solid #cccccc;
                    margin:2px 0px 4px 2px;
                    color:#00abdf;
                    height:26px;
                    padding:3px;
                    -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-border-radius: 5px;
                    -moz-border-radius: 5px;
                }
                form.registration input:focus, form.registration select:focus{
                    background-color:#E0E6FF;
                }
                form.registration select{
                    font-family: "Trebuchet MS";
                    font-size: 20px;
                    float:left;
                    border:1px solid #cccccc;
                    margin:2px 0px 2px 2px;
                    color:#00abdf;
                    height:32px;
                    -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-border-radius: 5px;
                    -moz-border-radius: 5px;
                }
                .button, .button:visited{
                    float:right;
                    font-weight:bold;
                    display: inline-block; 
                    padding: 5px 10px 6px; 
                    color: #fff; 
                    text-decoration: none;
                    -moz-border-radius: 5px; 
                    -webkit-border-radius: 5px;
                    -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    text-shadow: 0 -1px 1px rgba(0,0,0,0.25);
                    border-bottom: 1px solid rgba(0,0,0,0.25);
                    cursor: pointer;
                    margin-top:95px;
                    margin-right:15px;
                }
                .button:hover{
                    background-color: #007d9a; 
                }
                #sortable {
                    list-style-type: none;
                    margin: 5px 0px 0px 16px;
                    padding: 0;
                }
                #sortable li {
                    margin: 3px 3px 3px 0;
                    padding: 1px;
                    float: left;
                    width: 35px;
                    height: 35px;
                    font-size: 20px;
                    text-align: center;
                    line-height:35px;
                    cursor:pointer;
                    -moz-border-radius:5px;
                    -webkit-border-radius:5px;
                    -moz-box-shadow: 0 1px 1px rgba(0,0,0,0.5);
                    -webkit-box-shadow: 0 1px 1px rgba(0,0,0,0.5);
                    text-shadow: 0 -1px 1px rgba(0,0,0,0.25);
                    background:#2daebf url(images/overlay.png) repeat-x scroll 50% 50%;
                    color:#fff;
                    font-weight:normal;
                }
                .captcha_wrap{
                    border:1px solid #fff;
                    -moz-border-radius:10px;
                    -webkit-border-radius:10px;
                    -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                    float:left;
                    height:120px;
                    overflow:auto;
                    width:150px;
                    overflow:hidden;
                    margin:0px 0px 0px 210px;
                    background-color:#fff;
                }
                .captcha{
                    -moz-border-radius:10px;
                    -webkit-border-radius:10px;
                    font-size:12px;
                    color:#BBBBBB;
                    text-align: center;
                    border-bottom:1px solid #CCC;
                    background-color:#fff;
                }
            </style>
            <script type="text/javascript">
                (
                function($){

                    $.fn.shuffle = function() {
                        return this.each(function(){
                            var items = $(this).children();

                            return (items.length)
                                ? $(this).html($.shuffle(items,$(this)))
                            : this;
                        });
                    }

                    $.fn.validate = function() {
                        var res = false;
                        this.each(function(){
                            var arr = $(this).children();
                            res =    ((arr[0].innerHTML=="1")&&
                                (arr[1].innerHTML=="2")&&
                                (arr[2].innerHTML=="3")&&
                                (arr[3].innerHTML=="4")&&
                                (arr[4].innerHTML=="5")&&
                                (arr[5].innerHTML=="6"));
                        });
                        return res;
                    }

                    $.shuffle = function(arr,obj) {
                        for(
                        var j, x, i = arr.length; i;
                        j = parseInt(Math.random() * i),
                        x = arr[--i], arr[i] = arr[j], arr[j] = x
                    );
                        if(arr[0].innerHTML=="1") obj.html($.shuffle(arr,obj))
                        else return arr;
                    }

                })(jQuery);

                $(function() {
                    $("#sortable").sortable();
                    $("#sortable").disableSelection();
                    $('ul').shuffle();

                    $("#formsubmit").click(function(){
                        ($('ul').validate()) ? alert("Correct") : alert("wrong");
                    });
                });
            </script>
        </head>
        <body>
            <form class="registration">

                <fieldset>
                    <legend>Let's see if you are a human</legend>
                    <div class="captcha_wrap">
                        <div class="captcha">
                               Drag to order
                        </div>
                        <ul id="sortable">
                            <li class="captchaItem">1</li>
                            <li class="captchaItem">2</li>
                            <li class="captchaItem">3</li>
                            <li class="captchaItem">4</li>
                            <li class="captchaItem">5</li>
                            <li class="captchaItem">6</li>
                        </ul>
                    </div>
                    <a id="formsubmit" class="button">Register</a>
                </fieldset>
            </form>
        </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:52:06.357

我使用更新的 jQuery 1.8.2 尝试了您的代码。它工作正常。我看到的唯一问题是，当您在 IE 中拖动时，尤其是最后一个框说 6 over 3，它显示在 3 个单独的行中，但是一旦放下，它们就会按顺序返回。

# iphone - iAd 横幅显示在模拟器上，但不显示在设备上

> ID：13392216
> 
> 赞同：0
> 
> 时间：2012-11-15T05:52:12.427
> 
> 标签：iphone, ios, iad

我正在开发我的 iPhone 应用程序，并将 iAd 横幅集成到应用程序的所有视图中，共享在应用程序委托上创建的独特横幅对象。

我能够在模拟器上显示 iAd 测试横幅并且它工作正常，但是当我尝试从 Xcode 在 iPhone 3GS iOS 5.1 上安装该应用程序时，根本不会显示 iAd 测试横幅。在横幅委托 didFailToReceiveAdWithError 上，我一直收到以下错误：

错误域 = ADErrorDomain 代码 = 3“操作无法完成。广告库存不可用” UserInfo = 0x58dd80 {ADInternalErrorCode = 3，NSLocalizedFailureReason =广告库存不可用}

这是正常的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-16T21:07:59.510

我对 iPad 也有同样的问题。我正在运行带有 iOS 4.3 的 iPad 2，并得到“操作无法完成。广告资源不可用。” 每次出错。我在模拟器中进行了尝试，对于在 iPad 上运行的每个可用 iOS，我都收到了错误消息。我应该注意到它是在 iPad 上运行的 iPhone 应用程序——我不知道这是否与事情有关。所以我的想法是，也许 iAds 不能在 iPad 上运行的 iPhone 应用程序中运行......希望我能给你一个更具体的答案，如果我得到一个，我会尝试回来发布。也很感激听到你的发现。

编辑：我刚刚发现了这份技术说明，其中包含有关在 iPad 上以兼容模式运行的 iPhone 应用程序的信息：“在 iPad 上以兼容模式运行的手机应用程序不会显示开发中的测试广告或在兼容环境中运行的已部署应用程序中的实时广告。为确保您的应用能够为所有客户显示 iAd 横幅，请确保您开发的应用支持所有可能的设备。” [http://developer.apple.com/library/ios/#technotes/tn2264/_index.html](http://developer.apple.com/library/ios/#technotes/tn2264/_index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T05:55:10.370

是的，这看起来很正常。这意味着您的应用没有足够的广告资源。也许库存很少，或者可能不适用于您的特定区域。

如果您希望为您的应用提供更多广告资源，我建议您使用[AdMob 中介](https://developers.google.com/mobile-ads-sdk/docs/admob/mediation)等广告中介系统。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T05:00:31.617

“在 iPad 上以兼容模式运行的 iPhone 应用程序将不会显示开发中的测试广告或在兼容环境中运行的已部署应用程序中的实时广告。”

来自技术说明 TN2264。

# oracle - 使用触发器激活触发器

> ID：13392217
> 
> 赞同：-2
> 
> 时间：2012-11-15T05:52:26.440
> 
> 标签：oracle, plsql

是否可以编写触发器来激活另一个触发器？或者我可以将 2 个触发器放入 1 个触发器中吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T06:32:26.503

只需在下方添加即可启用

*ALTER TRIGGER trigger_name ENABLE*

或 FOR 禁用

*ALTER TRIGGER trigger_name 禁用*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:17:59.987

当适当的 DML 对其表发出问题时，触发器会触发。没有调用触发器的概念。

如果您想跨不同事件共享代码，这很容易做到：

```
create or replace trigger ins_upd_emp 
before insert or update on emp
for each row
begin
     --  do this only for new records
     if inserting then
          :new.id := emp_seq.nextval;
     end if;

     --  do this for all records
     :new.last_activity_user := user;
     :new.last_activity_date := sysdate;
end; 
```

请注意 INSERTING 关键字如何隔离一个事件的活动。当您想要共享一些操作但不是全部时，请使用这些关键字。 [了解更多](http://docs.oracle.com/cd/E11882_01/appdev.112/e25519/triggers.htm#CIHEHBEB)。

请记住，触发器让我们陷入可怕的混乱，正是因为它们的调用超出了我们的控制。仅将触发器用于最简单的操作。将复杂的逻辑构建到触发器中是不好的，原因有很多：

1.  多行语句的性能可能很差
2.  触发器是不可见的；开发人员在诊断问题时总是忘记检查它们
3.  让触发器做他们不应该做的事情会导致可怕的混乱。

# python - 舒适的python web框架

> ID：13392218
> 
> 赞同：0
> 
> 时间：2012-11-15T05:52:27.743
> 
> 标签：python, web-frameworks

我尝试基于bottle.py 制作一个python web 框架我对几个可用的web 框架不满意。有些太严格了。强迫我学习这么多外星人的东西。有些已经足够好了，但它隐藏了很多东西，那里有很多魔法。有些太简单了，所以制作“hello world”以外的东西会很困难。

我熟悉 PHP，我喜欢 CodeIgniter。但我认为python比PHP好。我喜欢空格缩进和它的一致性，而且 python 有很多可用的包。但是，我找不到任何舒适的网络框架。所以，我试着做一个：[https ://github.com/goFrendiAsgard/kokoropy](https://github.com/goFrendiAsgard/kokoropy)

在继续构建之前，**我需要确定是否有任何 Web 框架简单、面向 MVC、可移植、易于学习、明确并且已经具有自动路由（类似于 codeIgniter）？** 我玩过 django，发现它太难了，太受限制了。（可能只是我） Web2py 很好。但我讨厌模型是如何自动加载的。我也不喜欢它隐式导入东西的方式。有很多解决方法，比如 add if 0: import things 等，但这对我来说似乎很棘手。

另外，**你对我的“手工”网络框架有什么看法？**它还没有完成，但我会做一些类似 core_model 和 core_controller 类的东西。它将类似于 CodeIgniter，但具有更多限制性的发布功能（例如：应该有 action_ 前缀以使该功能可通过浏览器访问）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:12:38.620

你看过 python web 框架的 pylons 吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:17:24.157

在我看来，django 是用于高级 Web 编程的最成熟的 Python 框架。对于较低级别的任务，有一些选择（twisted、gevent 和其他一些，尽管我更喜欢这两个）。

大约 5 年前，我已经在开发一个 Web 框架。它有效，被用于多个项目，从教育的角度来看，开发过程很有用。

然而，虽然现在有很多基于它的代码，但我承认尝试开发自己的框架并在实际项目中使用它是我的错误。一个小团队不可能做出与 django 相媲美的框架。Django 开发得更快，测试更好，一个庞大的社区发现了错误等等。它有很多第三方插件，并且已经支持了很多我目前甚至没有想到的东西。

所以，我的建议是：如果你的开发目标是教育和更深入地了解 Python、WSGI、Web 开发等，你可以继续开发你的框架。开发一个非常高兴。:-) 但是，如果您的目标是在此基础上构建真正的项目，请不要将时间浪费在自己的框架上。您可以使用 django（这是我的偏好：我认为遵循主流通常是合理的），或者不使用，这取决于您。但不是自己的框架。

对不起，如果我的意见令人失望，当然这只是基于我个人经验的意见。

# excel - 如何使用键盘在 Excel 单元格中下拉菜单？

> ID：13392224
> 
> 赞同：32
> 
> 时间：2012-11-15T05:53:43.727
> 
> 标签：excel, drop-down-menu, cell

我在 Excel 单元格中创建了一个下拉菜单。每次我想在该单元格中输入一个值时，在我使用键盘将焦点导航到该单元格后，我无法使用键盘删除下拉菜单。我必须使用鼠标单击向下箭头，然后从菜单中进行选择。

![在此处输入图像描述](../Images/df82e15a506c9a5a42b1014777d391fa.png)

我想知道是否有键盘快捷键可以实现相同的功能？（我很确定那里会有一些捷径......）

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-11-15T06:26:33.737

键盘快捷键是

`Alt`+`Down Arrow`

然后向左箭头选择顶部，然后再次向上/向下从内部选择。输入选择。

# android - 仅对来自网站的注册用户进行登录验证

> ID：13392226
> 
> 赞同：0
> 
> 时间：2012-11-15T05:54:04.933
> 
> 标签：android, authentication

我是android应用程序的新手。我做了一个登录页面，只有网站上已经注册的用户才能登录。当用户输入他的用户名和密码时，我想对注册用户进行身份验证。如何验证用户名和密码。我正在使用以下代码，请查看并帮助我。单击登录按钮时，会显示一些错误。

主.java

```
 public class Main extends Activity implements OnClickListener {

       Button ok,back,exit;
      TextView result;

     @Override
        public void onCreate(Bundle savedInstanceState) {

   super.onCreate(savedInstanceState);
   setContentView(R.layout.activity_main);

   // Login button clicked
   ok = (Button)findViewById(R.id.btn_login);
   ok.setOnClickListener(this);

   result = (TextView)findViewById(R.id.lbl_result);

          }

         public void postLoginData() {
       // Create a new HttpClient and Post Header
       HttpClient httpclient = new DefaultHttpClient();

   /* login.php returns true if username and password is equal to saranga */
   HttpPost httppost = new HttpPost("http://yoursite.com/wp-login.php");

   try {
       // Add user name and password
    EditText uname = (EditText)findViewById(R.id.txt_username);
    String username = uname.getText().toString();

    EditText pword = (EditText)findViewById(R.id.txt_password);
    String password = pword.getText().toString();

       List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
       nameValuePairs.add(new BasicNameValuePair("username", username));
       nameValuePairs.add(new BasicNameValuePair("password", password));
       httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

       // Execute HTTP Post Request
       Log.w("", "Execute HTTP Post Request");
       HttpResponse response = httpclient.execute(httppost);

       String str = inputStreamToString(response.getEntity().getContent()).toString();
       Log.w("", str);

       if(str.toString().equalsIgnoreCase("true"))
       {
        Log.w("", "TRUE");
        result.setText("Login successful");  
       }else
       {
        Log.w("", "FALSE");
        result.setText(str);            
       }

   } catch (ClientProtocolException e) {
    e.printStackTrace();
   } catch (IOException e) {
    e.printStackTrace();
   }
    }

    private StringBuilder inputStreamToString(InputStream is) {
          String line = "";
           StringBuilder total = new StringBuilder();
           // Wrap a BufferedReader around the InputStream
             BufferedReader rd = new BufferedReader(new InputStreamReader(is));
                    // Read response until the end
                  try {
               while ((line = rd.readLine()) != null) {
               total.append(line);
                }
              } catch (IOException e) {
              e.printStackTrace();
                       }
                // Return full string
             return total;
              }

              public void onClick(View view) {
                if(view == ok){
                 postLoginData();
                 }
                 }

                } 
```

错误

```
 Execute HTTP Post Request
   Default buffer size used in BufferedReader constructor. It would be better to be       explicit if an 8k-char buffer is required.
  <html><head>    <title>yoursite.com: The Leading Website Site on the    Net</title>            <script type="text/javascript">;        if(self != top)    top.location.href = 'http://'+location.hostname+'/?redir=frame&  uid=yoursite50a47fe3380989.09080642';        </script>        <script   type="text/javascript" src="http://return.bs.domainnamesales.com  /return_js.php?d=yoursite.com&s=1352957923"></script>    </head>    <frameset cols="1,*,1"    border=0>        <frame name="top"   src="tg.php?uid=yoursite50a47fe3380989.09080642" scrolling=no frameborder=0 noresize   framespacing=0 marginwidth=0 marginheight=0>        <frame   src="search.php?uid=yoursite50a47fe3380989.09080642" scrolling="auto" framespacing=0  marginwidth=0 marginheight=0 noresize>        <frame   src="page.php?yoursite50a47fe3380989.09080642"></frame>    </frameset>      <noframes>        yoursite.com has been connecting our visitors with providers of Computer  Networking, Dedicated Web Servers, Email Domain Hosting and many other related  services for nearly 10 years. Join thousands of satisfied visitors who found Ftp Hosts, Ftp Servers, Host, Internet Servers, and Linux Servers.<br/>    </noframes></html>
FALSE 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:00:04.957

试试这个例子。

[http post方法将空值传递给服务器](https://stackoverflow.com/questions/13134019/http-post-method-passing-null-values-to-the-server/13134287#13134287)

在这里，您必须将用户名和密码发送到 Web 服务器，您将根据请求从服务器获得响应。所以如果使用是 reg 与否，你必须在服务端检查。

我有`JSON`用来检索响应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T08:03:11.787

如果您真正正确地检查 logcat，您会发现您已经实现了您想要实现的目标。

您尝试了什么：发送 HTTP POST 请求以进行登录。你得到的回应是：HTML 页面。

您的 webapp 不会为该特定 HTTP POST 请求返回 true/false。而您正在检查**true**。

解决方案：
1\. 解析 HTML 页面以确定是否成功登录（不推荐）
2\. 重新设计您的 Web 应用程序以返回 xml/json 响应。您可以同时拥有网页和可从任何其他应用程序使用的 API。

您应该注意的其他事项：
1\. 切勿在 UI 线程上进行网络调用。最终可能会得到**ANR**
2。永远不要让没有 TAG 的 Log 语句。标签使调试更容易。当您编写大量代码并处理比这更复杂的问题时，您将理解这一点。

希望这可以帮助。

# iphone - 如何设计适用于横向和纵向模式的 UIview？

> ID：13392230
> 
> 赞同：0
> 
> 时间：2012-11-15T05:54:17.563
> 
> 标签：iphone, ios, cocoa-touch, uiview, xib

我已经为我的应用程序开发了纵向模式的所有视图，现在我们计划让用户灵活地在纵向和横向模式之间进行切换，我已经阅读了一些与此相关的文档，其中他们提供了调整控件位置的选项（X， Y）在xib中基于方向，但在某些情况下还不够，我需要创建一个新列，因为在这种情况下横向与纵向相比具有更大的宽度，我需要创建新视图吗？或者有什么办法处理吗？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T05:59:12.257

这个问题非常开放。这实际上取决于您选择的设计以及您要完成的工作。对于某些视图，只需正确设置 UIViewAutoresizingMask 即可轻松重用它们。这将拉伸或收缩它，或者在调整其父级大小时坚持边距。您还可以覆盖 layoutSubviews 以更好地控制视图的子视图在更改大小时将执行的操作。另一种设计是更上一层楼，并使用两个不同的 ViewController：一个用于每个方向，具有完全不同的视图。当设备旋转时，控制器会以某种奇特的过渡方式交换它们的视图。所以你看到你有多种选择。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:47:02.597

我认为对于简单的设计，您可以使用 uiautoresizingmask 来使用方向方法来更改控件的框架

# java - 应该如何为多个 Web 角色实现 RequiresAuthentication 注解？

> ID：13392235
> 
> 赞同：1
> 
> 时间：2012-11-15T05:54:41.713
> 
> 标签：java, authentication, struts2, annotations, security

我正在开发一个带有*Hibernate* Web 应用程序的*Struts2 。*我正在阅读[*Ian Roughley 所著的《实用 Apache Struts 2 web 2.0 项目*](https://rads.stackoverflow.com/amzn/click/com/1590599039)》一书。在那本书中，作者展示了 3 种方法来进行访问 Web 资源的身份验证：*基于容器*、使用*Acegi*库和*自定义*模式。*[](https://rads.stackoverflow.com/amzn/click/com/1590599039)*

 ***因此，我的应用程序至少有 3 种模式，并且必须根据此访问操作。

我采用自定义模式，因为它最适合我（考虑到我正在使用*Struts2*进行开发）。

自定义模式将 a`SecurityInterceptor`和 a`SecureStack`用于*struts.xml*操作。`@RequiresAuthentication`当在我想提供限制的操作类的顶部添加注释时，身份验证工作。

下面是`RequiresAuthentication`书中给出的注解的定义：

```
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
public @interface RequiresAuthentication {
} 
```

所以作者明确指出，如果需要更复杂的基于角色的安全性，可以增强注释以指定允许调用操作的角色。所以我想知道应该如何为 3 种或更多模式实现此注释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T11:55:55.173

因此，在您的自定义注释中添加一些变量（例如角色）并在拦截器中检查它的值。

```
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
public @interface RequiresAuthentication {
   public String[] roles();
} 
```

但是您确实应该考虑使用一些安全框架（例如 Spring Security、Apache Shiro）而不是您的自定义解决方案。***

# javascript - 如何检查本地存储变量是否为空或未定义？

> ID：13392241
> 
> 赞同：21
> 
> 时间：2012-11-15T05:55:17.997
> 
> 标签：javascript

我有这个代码：

```
var sideBar = localStorage.getItem('Sidebar'); 
```

我想检查是否在 if 语句中定义了 sideBar 并且不为空。我有点困惑我知道有一个：`sideBar == undefined`和`sideBar != null`

但是我有没有一种好方法可以在 if 中对这两个测试进行测试：

```
if (??) 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-15T06:03:37.783

检查变量是否已定义且不为空的最佳实践：

```
if (typeof sideBar !== 'undefined' && sideBar !== null) 
```

**编辑**意识到您不是在检查是否未定义，而是在检查它是否已定义，因此再次编辑以更准确地回答您的请求

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-08-04T10:17:36.920

正如[W3 手册](http://www.w3.org/TR/webstorage/#dom-storage-getitem)明确解释的那样：**getItem(key)**方法必须返回与给定键关联的当前值。**如果与对象关联的列表中不存在给定键，则此方法必须返回 null。**

这意味着，无需检查未定义，如果未定义，则 getItem() 方法的结果将为空。你只需要检查null。

```
if (localStorage.getItem("Sidebar") !== null) {
//...
} 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-11-15T06:30:56.993

1.  `localStorage``null`使用 Strings 来保存数据，即，在推理vs.`undefined`等时，您总是必须考虑 JavaScript 字符串逻辑。
2.  如果您设置“sideBar”，请确保您不使用“虚假”值。对于 Strings 那只是空的 String `""`。如果您在检查变量之前做了其他事情（例如，一些数学）`if`，您需要考虑其他情况。

以下是一些测试，展示了 JavaScript 如何处理 if 语句中的某些值：

```
> ("")? true : false
false                 # empty string         -> if fails
> (0)? true : false
false                 # Number 0             -> if fails
> ("0")? true : false
true                  # String "0"           -> if succeeds
> (null)? true : false
false                 # JavaScript null      -> if fails
> ("someText")? true : false
true                  # any other String     -> if succeeds
> (" ")? true : false
true                  # a space character    -> if succeeds 
```

我不会对`null`and使用尴尬的双重检查`undefined`。如果你直接检查结果`localStorage.getItem`的结果是要么`null`要么`String`。如果您随后还将空字符串`""`视为“虚假”，则可以使用简单的`if`语句：

```
var sideBar = localStorage.getItem('Sidebar');

if(sideBar) {
   // do something with the sideBar
}
else {
   // do something without the sideBar
} 
```

要对从未在 localStorage 中设置的 sideBar 进行真正的检查，您需要添加对空字符串的检查并将其视为“已定义”：

```
if(sideBar || sideBar === "") {
    // sideBar defined, maybe even as empty String
}
else {
    // sideBar not set in localStorage
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-15T05:58:06.137

是的，您将两者结合在一起（意味着两者都必须为真）`&&`

所以......`if (sideBar === undefined && sideBar !== null)`当且仅当每个条件评估为真时才会评估为真。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-15T06:02:11.703

这应该可行，并且没有“如果”之外的方法，即使它是三元运算符，

```
if( !value ) {
} 
```

这将检查值是否为“truethy”，并应涵盖“null”和“undefined”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-15T05:59:04.073

如果语句可以使用 && 连接

建议使用'==='。例如 if (sideBar === undefined && sideBar !== null)

[http://www.w3schools.com/jsref/jsref_undefined.asp](http://www.w3schools.com/jsref/jsref_undefined.asp)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-01-01T10:23:30.523

## 只需要使用 ES2020 nullish coalescing operator 的简单方式

> 空值合并运算符 (??) 是一个逻辑运算符，当其左侧操作数为空或未定义时返回其右侧操作数，否则返回其左侧操作数。

### 解决方案

```
 const sideBar = localStorage.getItem('Sidebar') ?? false;

if(sideBar) {
  // true
} else {
  // false
} 
```

#### 顺便说一句，您不需要`undefined`在使用该`localStorage.getItem`方法时进行检查。

> Storage 接口的 getItem() 方法在传递一个键名时，将在给定的 Storage 对象中返回该键的值，如果该键不存在，则返回 null。

### 参考

[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator)

[https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem](https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem)

# jsp - 在 JSTL 中将 00:00:00 拆分为 00:00

> ID：13392249
> 
> 赞同：1
> 
> 时间：2012-11-15T05:56:25.463
> 
> 标签：jsp, jstl

如何使用 fn:split 或 fn:join 从 00:00:00 获取 00:00？我有以下某些步骤：

```
 <c:set var="datetime" value="${row.starttime}"></c:set>
         <c:set var="times" value="${fn:split(datetime,' ')}"></c:set>
         <c:set var="time" value="${fn:split(times[1],':')}"></c:set> 
```

我从 sql 查询结果中得到了日期时间值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:32:29.773

如果`row.starttime`是 a `java.util.Date`，您可以使用[formatDate](http://www.tutorialspoint.com/jsp/jstl_format_formatdate_tag.htm)来获得 00:00 （我假设小时和分钟），如下所示：

```
<fmt:formatDate value="${date}" pattern="kk:mm" /> 
```

如果 row.starttime 是一个字符串，您可以使用子字符串来获取前五个字符：

```
${fn:substring("00:00:00", 0, 5)} 
```

第二种解决方案假定格式始终为`hh:mm:ss`(fe 06:32:00 而不是 6:32:0)

# image - 在 Windows 8 中覆盖屏幕键盘以从笔输入中获取图像而不是文本

> ID：13392262
> 
> 赞同：1
> 
> 时间：2012-11-15T05:57:43.820
> 
> 标签：image, authentication, windows-8, pen

我需要从用户用他的笔（手指）在 Windows 8 的屏幕键盘上写的内容中获取图像而不是文本，就像这样：

[http://blogs.msdn.com/cfs-filesystemfile.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-43-49-metablogapi/6560.image19_5F00_60633FC8.png](http://blogs.msdn.com/cfs-filesystemfile.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-43-49-metablogapi/6560.image19_5F00_60633FC8.png)

这样做的目的是，我需要要求用户放置他的标志，然后获取其 .bmp/.png/.whatever 图像，并将其发送到图像识别器以验证用户身份。

是否可以在 Windows 8 中以编程方式覆盖笔输入并获取图像作为用户输入的结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T15:24:57.843

即使在笔模式下，屏幕键盘也只会返回文本。例如，这就是它可以与记事本互操作的方式。

如果您在 windows8 桌面上工作，那么您可以简单地使用 InkCanvas。见[http://blogs.msdn.com/b/bsinghal/archive/2007/12/11/wpf-using-the-inkcanvas-control.asp](http://blogs.msdn.com/b/bsinghal/archive/2007/12/11/wpf-using-the-inkcanvas-control.asp)

您可能还希望尝试 Metro 应用程序的墨水示例 [http://code.msdn.microsoft.com/windowsapps/Input-simplified-ink-sample-11614bbf](http://code.msdn.microsoft.com/windowsapps/Input-simplified-ink-sample-11614bbf)

# ssl - Heroku 上的一个应用程序上的多个 SSL 域

> ID：13392265
> 
> 赞同：1
> 
> 时间：2012-11-15T05:57:50.003
> 
> 标签：ssl, heroku

我想在 Heroku 上创建一个多租户 Rails 应用程序。我希望每个租户（用户）都拥有自己的 SSL 域。所以[https://user1.com](https://user1.com)和[https://user4.com](https://user4.com)都指向同一个应用。

我知道如何将[多个域指向一个应用程序](https://stackoverflow.com/questions/6360944/multiple-domains-pointing-to-single-heroku-rails-app-via-nameservers-displaying)，但是[让多个 SSL 域指向一个应用程序似乎会更棘手，](https://stackoverflow.com/questions/7552734/ssl-certificate-for-several-domains-one-ip)因为服务器显然会在看到 HOST 标头之前看到 IP 并提供 SSL。

Heroku 上的一个应用程序上是否可以有多个 SSL 域？我该怎么做？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-15T06:28:23.497

你可以做到，Heroku[在这里](https://devcenter.heroku.com/articles/ssl-endpoint#serving-multiple-domains)提供最少的解释。

# c# - 将特定字段插入数据库

> ID：13392267
> 
> 赞同：-1
> 
> 时间：2012-11-15T05:58:01.290
> 
> 标签：c#, asp.net

![在此处输入图像描述](../Images/b4d11ef8b348bf06877e461db667b17b.png)

我有一个像上面这样的结构，它们是单独的控件而不是网格视图，所以当用户填写相应的部分时，它应该被输入到数据库中，但所有其他字段也被插入。

```
 InsertObjectives(lblCommunication.Text, tbObj1.Text, tbRating.Text, tbStrength.Text,   cmn.Type, cmn.Contribution, cmn.ContributionRemarks);
        InsertObjectives(lblDomain.Text, tbObj2.Text, tbRating1.Text, tbStrength1.Text, cmn.Type, cmn.Contribution, cmn.ContributionRemarks);
        InsertObjectives(lblLeadership.Text, tbObj3.Text, tbRating2.Text, tbSTrength2.Text, cmn.Type, cmn.Contribution, cmn.ContributionRemarks);
        InsertObjectives(lblBehavior.Text, tbObj4.Text, tbRating3.Text, tbStrength3.Text, cmn.Type, cmn.Contribution, cmn.ContributionRemarks);

public void InsertObjectives(string lbl, string txtobj, string tbrating, string       tbstr,string strType,string strContribution,string strRemarks)
    {
        Common cmn = new Common();
        cmn.InsertObject(lbl, txtobj, tbrating, tbstr,strType,strContribution,strRemarks);

    } 
```

对这个问题有什么帮助吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:06:35.497

同样，您可以对其余字段执行此操作：

```
if (tbObj1.Text.Length > 0 && 
    tbRating.Text.Length > 0 && 
    tbStrength.Text.Length > 0)
{
    InsertObjectives(lblCommunication.Text, tbObj1.Text, tbRating.Text, tbStrength.Text,   cmn.Type, cmn.Contribution, cmn.ContributionRemarks);
} 
```

或者，定义这个方法：

```
bool CheckInputReady(params TextBox[] txtBoxes)
{
    bool inputReady = true;

    for (int i = 0; i < txtBoxes.Length; i++)
    {
        if (String.IsNullOrEmpty(txtBoxes[i].Text))
        {
            inputReady = false;
            break;
        }
    }
    return inputReady;
} 
```

用法：

```
if (CheckInputReady(tbObj1, tbRating, tbStrength))
{
    InsertObjectives(lblCommunication.Text, tbObj1.Text, tbRating.Text, tbStrength.Text,   cmn.Type, cmn.Contribution, cmn.ContributionRemarks);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:06:24.313

尝试检查数据访问代码中的空字符串并插入。

在

```
Common.cs 
```

方法

```
InsertObject(params1, etc){

   if(!String.IsNullOrEmpty(params1){
//send to DB or prepare parameters
 }
} 
```

# objective-c - NSTask/NSPipe 从 Unix 命令读取

> ID：13392271
> 
> 赞同：6
> 
> 时间：2012-11-15T05:58:17.310
> 
> 标签：objective-c, cocoa, nstask, nspipe

我正在编写一个 Cocoa 应用程序，它需要执行 UNIX 程序并在生成时逐行读取其输出。我这样设置了 NSTask 和 NSPipe：

```
task = [[NSTask alloc] init];
pipe = [NSPipe pipe];
[task setStandardOutput:pipe];
//... later ...
[task setArguments:...];
[task setLaunchPath:@"..."];
[task launch];
handle = [[task fileHandleForReading] retain]; 
```

该命令不会终止，直到程序告诉它使用`[task terminate]`. 我尝试了几种从句柄读取的方法，例如`-readInBackgroundAndNotify`、`while([(data = [handle availableData]) length] > 0)`和`-waitForDataInBackgroundAndNotify`，但管道似乎从未产生任何数据。有什么方法可以“戳”`NSTask`或`NSPipe`刷新数据吗？

**编辑**：与`-readInBackgroundAndNotify`：

```
[handle readInBackgroundAndNotify];
notification_block_t handlerBlock =
    ^(NSNotification *notification) {
         NSData *data = [[notification userInfo]
                             objectForKey: NSFileHandleNotificationDataItem];
         /*... do stuff ...*/
         [self addNotification: handle block: handlerBlock];
     };
[self addNotification: handler block: handlerBlock];
//...
- (void)addNotification:(id)handle block:(notification_block_t)block {
    [[NSNotificationCenter defaultCenter]
         addObserverForName: NSFileHandleReadCompletionNotification
         object: handle
         queue: [NSOperationQueue mainQueue]
         usingBlock: block];
} 
```

与`-waitForDataInBackgroundAndNotify`：

```
[handle waitForDataInBackgroundAndNotify];
notification_block_t handlerBlock =
    ^(NSNotification *notification) {
        NSData *data = [handle availableData];
        /*... do stuff ...*/
    };
[self addNotification: handler block: handlerBlock]; 
```

带`while`循环：

```
[self startProcessingThread: handle];
//...
- (void)startProcessingThread:(NSFileHandle *)handle {
    [[NSOperationQueue mainQueue]
         addOperation: [[[NSInvocationOperation alloc]
                             initWithTarget: self
                             selector: @selector(dataLoop:)
                             object: handle] autorelease]];
}
- (void)dataLoop:(NSFileHandle *)handle {
    NSData *data;
    while([(data = [handle availableData]) length] > 0) {
        /*... do stuff ...*/
    }
} 
```

**编辑2**：参数设置如下（命令为`tshark`）：

```
NSArray *cmd = [NSArray arrayWithObjects:@"-R", @"http.request", 
                                         @"-Tfields", @"-Eseparator='|'", 
                                         @"-ehttp.host", @"-ehttp.request.method", 
                                         @"-ehttp.request.uri", nil];
cmd = [[cmd arrayByAddingObjectsFromArray:[self.ports map:^(id arg1, NSUInteger idx) {
           return [NSString stringWithFormat:@"-d tcp.port==%d,http", [arg1 intValue]];
       }]] 
        arrayByAddingObject:[@"dst " stringByAppendingString:
            [self.hosts componentsJoinedByString:@" or dst "]]];
[self.tsharktask setArguments:cmd]; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-15T17:13:26.297

这是我通常如何做的一个工作示例：

```
 task = [[NSTask alloc] init];
    [task setLaunchPath:...];
    NSArray *arguments;
    arguments = ...;
    [task setArguments:arguments];

    NSPipe *outPipe;
    outPipe = [NSPipe pipe];
    [task setStandardOutput:outPipe];

    outFile = [outPipe fileHandleForReading];
    [outFile waitForDataInBackgroundAndNotify];
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(commandNotification:)
                                                 name:NSFileHandleDataAvailableNotification 
                                               object:nil];    

    [task launch];

- (void)commandNotification:(NSNotification *)notification
{
    NSData *data = nil;
    while ((data = [self.outFile availableData]) && [data length]){
        ...
    }   
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-08T06:02:59.480

这是获取任务输出的异步解决方案。

```
task.standardOutput = [NSPipe pipe];
[[task.standardOutput fileHandleForReading] setReadabilityHandler:^(NSFileHandle *file) {
NSData *data = [file availableData]; // this will read to EOF, so call only once
NSLog(@"Task output! %@", [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding]);

// if you're collecting the whole output of a task, you may store it on a property
//maybe you want to appenddata
//[weakself.taskOutput appendData:data];
}]; 
```

希望可以帮助某人。

# c++ - 内存中的 IWICimagingFactory 解码器

> ID：13392272
> 
> 赞同：2
> 
> 时间：2012-11-15T05:58:38.627
> 
> 标签：c++, windows

我目前正在使用 IWICImagingFactory api 调用 CreateDecoderFromFilename，它采用文件名来创建解码器。但是，我已经将文件加载到一个数组中并且想要使用它。有谁知道该怎么做？API 似乎有点晦涩难懂。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:07:04.750

听起来您想用来[`SHCreateMemStream`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb773831.aspx)创建`IStream`内存缓冲区的接口，然后用于[`IWICImagingFactory::CreateDecoderFromStream`](http://msdn.microsoft.com/en-us/library/windows/desktop/ee690309.aspx)从该流创建解码器。

# iphone - 以特定方向移动 CAEmitterCell 动画

> ID：13392280
> 
> 赞同：1
> 
> 时间：2012-11-15T05:59:25.170
> 
> 标签：iphone, ios, core-animation

我需要将`CAEmitterCell`粒子向“U”方向移动。粒子从 X 位置开始一直向下移动直到“Y”，然后返回到 X + delta 位置，形成一条形状为“U”的路径。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-17T17:11:51.590

玩玩后`CAEmitterCell`可以通过粒子实现曲线动画。

`CAEmitterCell`属性将实现这一点。使用`velocity`,应该可以解决问题`xAcceleration`:)`yAcceleration`

# javascript - Singleton Pattern in Javascript

> ID：13392282
> 
> 赞同：-1
> 
> 时间：2012-11-15T05:59:26.730
> 
> 标签：javascript, design-patterns, singleton

I'm reading *Javascript Patterns* recently.And I don't understand the code below when it talks about singleton pattern:

```
function Universe(){
    var instance;
    Universe=function Universe(){
        return instance;
    };
    Universe.prototype=this;

    //the new Universe below,refers to which one?The original one,
    //or the one:function(){return this;} ??
    instance=new Universe();

    instance.constructor=Universe;

    instance.bang="Big";

    return instance;
}
Universe.prototype.nothing=true;
var uni=new Universe();
Universe.prototype.everything=true;
var uni2=new Universe();

uni===uni2;//true 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T06:07:45.870

Not much going on here. The main focus should be on the constructor, it is returning an instantiated Universe for you. So anyone that calls it will have a reference to the same instance. Notice how the constructor is pointing to the Universe function.

I wouldn't use this pattern, as the new keyword implies a new instance is being created, and it seems a little too esoteric for my taste. In JS you can perfectly just have an object literal, often used with a namespace pattern:

```
(function(ns, window, undefined) {
    ns.singleton = {
        bang: 'Big'
    };

    window.ns = ns;
})(ns || {}, window);

console.log(window.ns.singleton.bang === 'Big'); 
```

Granted, this isn't a true singleton, but it does not need to be instantiated, and anyone who uses it will have the same values.

For more singleton implementations, see [Javascript: best Singleton pattern](https://stackoverflow.com/questions/1635800/javascript-best-singleton-pattern?rq=1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T13:20:05.710

Your code is messy.

I would use this pattern:

```
var universe = function(){

  var bang = "Big"; //private variable

  // defined private functions here    

  return{  //return the singleton object 
    everything : true,
    // or nothing : true, I don't guess your logic

    // public functions here (closures accessing private functions and private variables)
    getBang : function(){ return bang; } 
  };
}(); 
```

You can then call for example:

```
alert(universe.everything); // true
alert(universe.getBang()); //true
alert(universe.bang); //Undefined property ! Cause private ;) 
```

Since, it's a **singleton**, there's no need to define share methods to `prototype` object because there would be one instance. (hence the function expression and not function declaration).

All the beauty of this design is the benefit of scope chain and closures (public functions).

# c++ - 无法将文本文件中的行读入字符串

> ID：13392283
> 
> 赞同：2
> 
> 时间：2012-11-15T05:59:27.500
> 
> 标签：c++, string, file, sockets, line

我有一个看起来像这样的文本文件

用户 1|密码1 用户
2|密码 2

我有一个字符串，比如“user1|password1”。我需要将文本文件的每一行与这个字符串进行比较。

```
 FILE *fp;
    fp = fopen("user_info_file.txt", "r");
    while(fgets(str, 10, fp)!=NULL){
    n = write(newsockfd, "STR:", 4);
    n = write(newsockfd, str, 15);} 
```

然后继续strcmp。我使用 write 函数，因为我让服务器将其写入客户端。

我刚刚将 15 作为随机值（它在范围内）以查看是否正在读取任何文本。但是当它打印 str 时，str 不包含任何内容。它只是打印为“STR：”，然后我在下一行得到提示。

请告诉我如何将 user_info_file.txt（至少第一行）中的数据读入 str。我已经花了几个小时在这上，但我似乎无法得到它。新手，请多多包涵。

编辑：基本上我正在创建一个 IM 应用程序。用户通过输入他们的用户名和密码进行注册，这些用户名和密码被发送到服务器，服务器以我上面写的形式将其存储在 user_info_file 中。用户注册后，他们需要能够登录。他们输入用户名和密码，我再次将其发送到服务器。然后我需要服务器将此字符串与 user_info_file 中的现有条目进行比较以验证登录。所以我需要服务器检查 user_info_file 的每一行并将其与用户输入的内容进行比较。

所以我有

```
char* str = new char[256];
    FILE *fp;
    fp = fopen("user_info_file.txt", "r");
    while(fgets(str, 10, fp)!=NULL){
    n = write(newsockfd, "STR:", 4);
    n = write(newsockfd, str, 15);}
    if(strcmp(buffer, str) == 0)
        n = write(newsockfd, "Logged in", 9);
    else
        n = write(newsockfd, "No such username", 16); 
```

基本上我正在尝试将 user_info_file 的每一行读入 str。然后我在每个读取行之后将 str 与缓冲区进行比较。缓冲区存储客户端发送的登录信息。如果它们匹配，则登录应该成功。

但是，当我写 str 时，它不会打印任何东西。15 是 str 它应该写入的字符数，对吗？因此，即使数字是 5，它也应该至少打印“user1”或“user2”或 user_info_file 的某些行的前 5 个字符。但看起来根本没有任何东西从文件中读取到 str 中。

我希望我已经说清楚了。我能做些什么？我无计可施。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:54:36.893

我认为在您的情况下，使用**fgets**函数逐个字符地读取文件并不方便。我建议你使用**fscanf**，它**为你提供了更多**的机会：比如同时读取不同格式的值。在这里，我得到了一些代码片段，以演示如何使用 fscanf 从文件中获取所需的信息：

```
int main(void)
{
    char str[256];
    char checkLogin[256];
    char checkPassword[256];
    FILE *fp = fopen("user_info_file.txt", "r");
    /*while(fgets(str, 10, fp)!=NULL){
    n = write(newsockfd, "STR:", 4);
    n = write(newsockfd, str, 15);}*/
    int scanSucceed = 1;
    do
    {
        scanSucceed = fscanf(fp,"%s|%s ", checkLogin, checkPassword); 
        if (!strcmp(checkLogin, buffer))
        {
        // in case if password for that login match
            if (!strcmp(checkPassword, password))
            {
                ValidLogin = true;
                scanSucceed = -1; // exit from while loop
            }
        }
    }
    while(scanSucceed != -1); // while string was read
} 
```

# javascript - JQUERY：根据选择框值更改选择框更新表单上的文本输入数

> ID：13392288
> 
> 赞同：1
> 
> 时间：2012-11-15T05:59:39.443
> 
> 标签：javascript, jquery, onchange

HTML

```
<select name="select" id="select">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
</select>
<br>
<input id="bla" type="text" name="attendant[]"> 
```

jQuery

```
$("select").change(function() {

    var select = parseFloat($('#select').val());
    $('#bla').after('<br><input id="bla" type="text" name="attendant[]">');

 });​ 
```

大家好，上面是我创建的代码。我需要更改选择框以根据选择框的值更新表单字段的数量。如果用户更改为 4，则屏幕上应显示 4 个表单字段。如果值更改为 1，则屏幕上应该只有一个。

几天前才开始使用 JQuery 不太好，因此不胜感激。

谢谢

这是我正在研究的 JSFiddle。 [http://jsfiddle.net/andrewvmail/b5Gqg/3/](http://jsfiddle.net/andrewvmail/b5Gqg/3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:02:19.280

试试这个

**HTML**

```
 <select name="select" id="select">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
</select>
<br>
<div class="template" style="display:none">
   <input type="text" name="attendant[]" />
</div>
<div id="container" >

</div> 
```

**Javascript**

```
$("select").change(function() {

    var select = parseInt($('#select').val() , 10);
    var $clone = $('.template').clone().html();
    console.log($clone);
    var html = '';
    for(var i = 0;i< select ; i++){
        html += $clone;
    }
    $('#container').empty().html(html);
 }).change();​ 
```

您可以在不使用`.clone()`.. 的情况下达到相同的效果。那是不必要的..

```
$("select").change(function() {

    var select = parseInt($('#select').val() , 10);
    var $clone = $('.template').html();
    var html = '';
    while(select > 0){
        html += $clone;
        select--;
    }
    $('#container').empty().html(html);
 }).change();​ 
```

**[检查小提琴](http://jsfiddle.net/sushanth009/b5Gqg/7/)**

**[无克隆](http://jsfiddle.net/sushanth009/b5Gqg/8/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:15:26.757

**小提琴：http:** [//jsfiddle.net/b5Gqg/6/](http://jsfiddle.net/b5Gqg/6/)

```
var bla = $('#bla');
$("select").change(function(){
    var len = parseInt($(this).val());
    $('input').remove();
    while(len--) bla.clone().insertAfter('select');
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T06:12:35.307

试试这个

```
$("select").change(function() {

var fieldParent=$('#fields_parent');

$(fieldParent).children().remove();

for(var i=0;i<parseInt($(this).val());i++)
{
        $('<input type="text" id="txtInput_' + i + '"></input>').appendTo(fieldParent);
} 
```

});

在 jsfiddle 上更新相同。

# python - 基于其 MRO 创建一个类的扁平化表示

> ID：13392291
> 
> 赞同：3
> 
> 时间：2012-11-15T05:59:48.590
> 
> 标签：python

我将如何创建由多个基类/mixin 组成的类的扁平表示。有没有图书馆可以做这样的事情？例如：

```
class Foo(object):
    def a(self):
        return 

class Bar(object):
    def b(self):
        return

class Baz(Foo, Bar):
    pass 
```

我希望能够创建一个扁平类的文本表示，如下所示：

```
class Baz(object):
    def a(self):
        return

    def b(self):
        return 
```

这个想法是创建一个文本编辑器插件（在我的例子中是 ST2），以允许用户右键单击类名并选择一个选项以打开一个选项卡，并显示扁平类以供参考。

当然，该工具需要足够聪明才能将超级调用视为基本包含。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:34:15.040

AFAIK，大多数执行此操作的工具都是通过执行代码和询问定义的类来完成的。一个简单的实现可能是：

```
import inspect
import textwrap

def print_def(cls):
    print('class %s:' % cls.__name__)
    for name, member in inspect.getmembers(cls):
        if not name.startswith('__') and member is not None:
            source = inspect.getsource(member)
            source = textwrap.dedent(source)
            for l in source.split('\n'):
                print('    %s' % l) 
```

为了说明这一点，假设您正在查询的文件包含以下定义：

```
class A:
    def a_method(self):
        self.a = 4
        return self.a

    def overridden(self):
        print('This is A')

class B:
    def b_method(self):
        print([1, 2, 3])
        return 4

class C(A, B):
    def c_method(self):
        pass

    def overridden(self):
        print('This is C') 
```

然后：

```
>>> vars = {}
>>> execfile('myfile.py', {}, vars)
>>> print_def(vars['C'])
class C:
    def a_method(self):
        self.a = 4
        return self.a

    def b_method(self):
        print([1, 2, 3])
        return 4

    def c_method(self):
        pass

    def overridden(self):
        print('This is C') 
```

你需要决定你想让它对成员做什么，比如`__repr__`and `__doc__`，这个实现只是忽略它们。

# windows - Delphi SelectDirectory 网络驱动器的奇怪行为

> ID：13392293
> 
> 赞同：2
> 
> 时间：2012-11-15T05:59:50.690
> 
> 标签：windows, delphi

我收到了客户的错误报告。我的程序使用Delphi的选择目录功能，让他选择程序使用的几个目录，允许在网络驱动器上。以下是错误报告中的相关摘录：

> 尝试更改目录时，网络驱动器未显示在对话框中。在浏览菜单中打开“计算机”时，仅显示本地驱动器。迂回的解决方案是让对话框保持打开状态，断开网络驱动器，然后重新连接网络驱动器。然后它会出现在对话框中。更改下一个文件夹位置时，必须重新进行。我发现主要技术人员经常这样做，因为它似乎正在重置。

起初我以为这一定是 Windows 没有拾取目录，所以我让他检查两台计算机（客户端和带有网络驱动器的计算机）上的网络位置是否设置为工作，以检查驱动器是否正常映射到客户端，检查网络发现是否已打开，并检查他是否可以在资源管理器中看到驱动器正常。他做到了，但错误仍然存​​在。

我没有在谷歌或 QC 报告中发现任何与此相关的信息，SelectDirExtOpts 的[文档](http://docs.embarcadero.com/products/rad_studio/delphiAndcpp2009/HelpUpdate2/EN/html/delphivclwin32/FileCtrl_TSelectDirExtOpts.html)似乎表明网络驱动器应该“正常工作”。

所以我的问题是：以前有没有人遇到过类似的事情？可能是 Windows 问题，还是 Delphi 问题？

非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T07:19:35.793

只要您包含该`sdShowShares`标志，它确实应该可以工作。

如果您查看`SelectDirectory`函数的源代码，您会发现它只不过是设置`SHBrowseForFolder`和读取结果而已。

`SHBrowseForFolder`是一个 Windows Shell API 函数：

```
function SHBrowseForFolder; external shell32 name 'SHBrowseForFolderW'; 
```

Delphi 必须正确解释它返回的结果`SHBrowseForFolder`，因为驱动器在重新连接后正确显示。所以我会说这是客户端机器上的 Windows 问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-02-03T13:24:55.683

然而， Delphi`SelectDirectory`是一个包装器`SHBrowseForFolder`- 应该注意的是，该`SelectDirectory`函数不显示**XE2 和更早版本上**的 Delphi/C++ Builder 版本的映射网络驱动器，看起来如此。在较新的版本上，它似乎可以正常工作并显示共享网络驱动器。

下面的代码应该适用于所有**较新**版本的 Delphi：

```
AOptions := [sdNewUI, sdShowShares];
Result := SelectDirectory(Caption, Root, Directory, AOptions, nil); 
```

较旧的 Delphi/C++ Builder 版本的用户可能希望`SHBrowseForFolderW`直接调用。可以在以下位置找到一些示例代码：[https ://docs.microsoft.com/en-us/windows/win32/api/shlobj_core/nf-shlobj_core-shbrowseforfolderw](https://docs.microsoft.com/en-us/windows/win32/api/shlobj_core/nf-shlobj_core-shbrowseforfolderw)

# java - 当触摸其中的按钮时，如何获取 ListView 单元格的位置？

> ID：13392294
> 
> 赞同：0
> 
> 时间：2012-11-15T05:59:57.837
> 
> 标签：java, android, eclipse, android-listview

`Button`以下是我的每个单元格上的 a 的一些 XML `ListView`：

```
android:onClick="buttonTouched" 
```

这就是我的 ListActivity 上所说的：

```
public void buttonTouched(View v) 
{
    // how do I get the "position" of the cell this view is on?
} 
```

如何获取`position`被触摸的按钮的单元格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:10:22.707

在您的适配器中试试这个：

```
@Override
public View getView(final int position, View convertView, ViewGroup parent)
{
    View row = convertView;
    YourWrapper wrapper = null;

    if (row == null)
    {
        row = inflater.inflate(R.layout.layout, parent, false);
        wrapper = new YourWrapper (row);
        row.setTag(wrapper);
    }
    else
        wrapper = (YourWrapper) row.getTag();

    wrapper.getButton().setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            // What you want
        }
    });

    return row;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:20:28.130

由于我在同一行上有许多按钮，因此我最终只是将适配器中的标签设置为所需的位置，然后在按钮触摸时获取标签：

```
public void imageClick(View v) 
{
    int position = (Integer) v.getTag();
} 
```

我走这条路的原因是因为我需要在 ListActivity 中完成单击以访问我需要的一些不在适配器中的数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T08:19:04.260

请看一下：[OnItemClickListener](http://developer.android.com/reference/android/widget/AdapterView.OnItemClickListener.html)。实现示例：[自定义 ListView 上的 setOnItemClickListener](https://stackoverflow.com/questions/4709870/setonitemclicklistener-on-custom-listview)。

由于您在列表视图的每一行中有 3 个按钮，并且您有 3 个不同的实现，因此还有另一种方法可以做到这一点。

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder = null;

    if(null == convertView){
        holder = new ViewHolder();
        convertView = inflater.inflate(LAYOUT_RESOURCE, null);
        holder.btn1 = (Button) convertView.findViewById(R.id.btn1);
        holder.btn2 = (Button) convertView.findViewById(R.id.btn2);
        holder.btn3 = (Button) convertView.findViewById(R.id.btn3);
        //setting tag to reduce hierarchy lookup
        convertView.setTag(holder);
    } else {
        //getting tag to obtain the already found views
        holder = (ViewHolder) convertView.getTag();
    }
    //Updating fields
    holder.btn1.setOnClickListener(commonListener); 
    holder.btn2.setOnClickListener(commonListener); 
    holder.btn3.setOnClickListener(commonListener); 
    //returning the populated view
    return convertView;
}

OnClickListener commonListener = new OnClickListener(){

    @Override
        public void onClick(View v) {
            switch(v.getId()){
                case R.id.btn1:
                //do your work
                break;
            case R.id.btn2:
                //do your work
                break;
                case R.id.btn3:
                //do your work
                break;
                default:
                break;
            }
        }
    }); 
/**
 * Holder class to improve performance. Helps in reducing the lookup for
 * views.
 * 
 */
private static class ViewHolder {

    Button btn1;
    Button btn2;
    Button btn3;
} 
```

希望这可以帮助。

# jquery - 占位符在 Firefox 中不起作用

> ID：13392299
> 
> 赞同：0
> 
> 时间：2012-11-15T06:00:21.180
> 
> 标签：jquery, html, css

```
.txt1::-webkit-input-placeholder::before {
       color:#c2c3c3;
       content:"Hey Brad,\A Tell us what's on your mind";
    }
    .txt1::-moz-input-placeholder::before {
       color:#c2c3c3;
       content:"Hey Brad,\A Tell us what's on your mind";
    } 
```

占位符在 Firefox 中不起作用，Chrome 很好

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:19:01.410

Webkit 用于`::-webkit-input-placeholder`定位占位符文本：

```
.txt1::-webkit-input-placeholder:before {
    color:#c2c3c3;
    content:"Hey Brad,\A Tell us what's on your mind";
} 
```

虽然 Firefox 用于`:-moz-placeholder`定位占位符文本：

```
.txt1:-moz-placeholder:before {
    color:#c2c3c3;
    content:"Hey Brad,\A Tell us what's on your mind";
} 
```

您已添加`input`到 Firefox 的选择器，这不是必需的。对于 Firefox，您应该只在选择器的开头包含一个冒号，而不是两个。我还建议删除选择器后的多余冒号`::before`并将其更改为，`:before`因为这些是不必要的。使用我上面的代码示例，你应该很好。希望这可以帮助！如果您有任何问题，请告诉我。

来源：[https ://developer.mozilla.org/en-US/docs/CSS/:-moz-placeholder](https://developer.mozilla.org/en-US/docs/CSS/:-moz-placeholder)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:55:03.817

试试这个：

```
.txt1::-moz-placeholder::before {
  color:#c2c3c3;
  content:"Hey Brad,\A Tell us what's on your mind";
} 
```

我认为不`input`应该删除`-moz-input-placeholder`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T10:22:07.980

为什么不能在`input`标签中添加占位符？例如：

```
input type="" placeholder="any text" 
```

# tridion - 如何识别运输包属于哪个物品类型

> ID：13392302
> 
> 赞同：0
> 
> 时间：2012-11-15T06:00:40.693
> 
> 标签：tridion, tridion-2011, tridion-content-delivery

要将运输包提供给搜索引擎（FAST），我们想知道运输包属于哪个项目类型。

例如。如果我发布一个页面，我如何从传输包中识别该传输包属于页面或多媒体组件或内容组件。

调查：做了一些调查后发现，当我们发布一个Page时，在Pages.xml中我们只有一个元素下的元素。但是当我们发布任何组件时，元素下可能有多个元素。或者有时我们没有 Page.xml 本身。但是是的，从这么多信息中我们无法确定传输包属于页面还是组件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T08:00:11.450

无法回答这个问题，因为运输包裹可以包含多种不同类型的物品。

但是，您可以编写一个自定义部署器处理器，它查看包内部以查看它包含哪些类型的项目。然后您可以选择调用超级方法（并让正常处理继续），或实现您自己的逻辑，或两者都做。

处理器可以在 cd_deployer_conf.xml 中配置。将包含类的 jar 文件放到 Tridion\lib 文件夹中，以便部署者可以访问它。

# ios - 没有为参数“appIdName”提供值

> ID：13392307
> 
> 赞同：3
> 
> 时间：2012-11-15T06:01:02.500
> 
> 标签：ios, provisioning

每当我尝试对配置、向门户添加设备等进行任何操作时，都会收到此错误消息：

`No value was provided for the parameter 'appIdName'.`

我看过这篇文章： [在配置时没有为参数“appIdName”提供任何值](https://stackoverflow.com/questions/12884434/no-value-was-provided-for-the-parameter-appidname-when-provisioning)

但是，这并不适用，因为我已按照说明进行操作，但没有成功。我必须手动创建我的团队供应配置文件（以及任何其他配置文件）才能正常工作。这很痛苦，甚至添加设备也会引发此错误。知道发生了什么吗？对于其他在 iOS 中开发的人来说，这是一个常见问题吗？我已经在 iOS 工作了 4 年了，从来没有遇到过这样的事情。

我的个人资料设置为过期。我点击了更新，并得到了这个错误，按照上面的文章没有任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T15:52:42.070

这几天我一直有同样的问题。我按照另一篇文章中的说明（在[配置时没有为参数“appIdName”提供值）](https://stackoverflow.com/questions/12884434/no-value-was-provided-for-the-parameter-appidname-when-provisioning)没有运气。这对我有用：

打开钥匙串访问 从钥匙串类别中选择“登录” 从类别中选择“我的证书”

删除与配置文件关联的所有证书。

我还做的是清理我的配置门户中的所有内容。我撤销了所有证书（分发和开发）和所有配置文件。

在 Xcode 中打开管理器，选择左上角的配置文件，然后单击刷新。

按照说明创建新的配置文件和证书。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-28T03:44:51.800

我也遇到了同样的问题，对我有用的是按照此处的说明进行操作： [https ://developer.apple.com/ios/manage/overview/index.action](https://developer.apple.com/ios/manage/overview/index.action)

然后启动助手。这些步骤似乎比这里描述的更当前：

[在 Xcode 中管理您的工作流程 - 在 iOS 设备上测试您的应用程序](http://developer.apple.com/library/ios/#referencelibrary/GettingStarted/RoadMapiOS/chapters/CreateYourAppinXcode/StartYourProjectinXcode/StartYourProjectinXcode.html)

希望这会帮助其他人。

# javascript - 使用 WebBrowser 控件，调用 javascript 函数不会触发 DocumentCompleted 事件

> ID：13392312
> 
> 赞同：1
> 
> 时间：2012-11-15T06:01:35.963
> 
> 标签：javascript, browser, compact-framework

在我的 C# 代码中，我在表单中使用 WebBrowser 控件来显示我的数据。最初我通过 webViewer.DocumentText = someHtml; 填写我的数据。(1) 正如预期的那样，这会产生 Navigating、Navigated 和 DocumentCompleted 事件的序列。

然后在稍后阶段我调用 webViewer.Navigate(new Uri("javascript:myFunction(x,y)")); (2) 由于我在 Compact Framework 上，我知道这是调用某些 javascript 的唯一方法。（如[本次讨论](https://stackoverflow.com/questions/3135586/call-javascript-function-from-net-compact-framework-in-webbrowser-control)中所见）现在，就事件而言，我只收到 Navigating 事件，仅此而已......，而不是其他事件。WebBrowser.ReadyState 也将永远停留在“正在加载”。我对这种行为有点困惑。

我已将 myFunction 简化为最简单的方法，以证明此行为与该函数的实际内容无关（好像它包含无限循环或一些严重错误）。

虽然确实调用了 myFunction，但处于 Loading 状态的 ReadyState 将阻止 DocumentText 的进一步更新，如 (1) 中所做的那样，这会阻止进一步的正常执行。

我想我可能错过了有关使用此控件的某些内容，也许有一种方法可以重置其状态，如果它不自动发生，但我已经没有想法了。有什么提示吗？

# macos - 如何从 OS x 应用程序刷新浏览器 URL

> ID：13392313
> 
> 赞同：0
> 
> 时间：2012-11-15T06:01:42.767
> 
> 标签：macos, cocoa, browser, nsurl, nsworkspace

我正在从我的 OS x 应用程序中打开一个网址。我这样做如下

`[[NSWorkspace sharedWorkspace] openURL:[NSURL URLWithString:urlString]];`

我正在做一个按钮动作。但是每当我按下按钮时，都会为我打开一个新标签。无论如何我可以阻止它吗？我需要实现的是，如果选项卡已经打开，请刷新它，而不是为 url 打开一个新选项卡。可以实现吗？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T10:26:39.160

尝试从您的可可应用程序中调用 applescript，如下所示：

```
NSAppleScript *run = [[NSAppleScript alloc] initWithSource:@"tell application \"Safari\" to do Javascript \"location.reload(true)\" in current tab of window 1"];
[run executeAndReturnError:nil]; 
```

该脚本假定要刷新的 url 在第一个 Safari 窗口的当前选项卡中打开。我还没有尝试过。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-08T11:48:18.780

这是您正在预览的浏览器的问题，而不是您的应用程序的问题。通常，当您在已打开**该 URL 的浏览器中打开相同的 URL**时，它会检测到这一点并刷新相应的窗口或选项卡。

您可以通过将书签拖到桌面来轻松地进行测试；然后双击它以在默认浏览器中打开。例如，Safari 将正确刷新。

所以：

*   通过确保您没有更改您的 URL 来修复您的代码
*   尝试使用其他浏览器，不要使用伪造的 Apple 脚本修复代码中其他软件的错误。因为，我真的不希望任何应用程序刷新我***当前的***选项卡（如果你重新加载的不是你的 html 文档，而是我的购物篮在刷新时会丢失怎么办？）
*   或者，如果您使用的是脚本，请确保在尝试刷新之前绝对获得正确的选项卡

编辑：检查了 Crome 和 FF，他们确实打开了新标签...

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-15T10:27:40.903

**如果你不是沙盒，你可以使用applescript**

```
NSString *s = @"tell application \"Safari\"\
    activate\
end tell\
\
tell application \"System Events\"\
    tell process \"Safari\"\
        keystroke \"r\" using {command down}\
    end tell\
end tell";

NSAppleScript *run = [[NSAppleScript alloc] initWithSource:script];
[run executeAndReturnError:nil]; 
```

# jquery - jQuery 特殊 div 高度动画

> ID：13392314
> 
> 赞同：0
> 
> 时间：2012-11-15T06:01:49.080
> 
> 标签：jquery, html, jquery-animate, height

有没有办法通过允许 div 的顶部和底部展开来为 jQuery 中的 div 高度设置动画？我想在 LDS 主页上做类似的事情：www.lds.org。顶部横幅图像左侧的 div 是我想要的类型。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:32:05.267

您可以通过在动画其高度的同时向上移动 div 来创建它向上和向下方向扩展的错觉。

```
<html>

<head>
<script type="text/javascript" src="jquery-1.8.0.min.js"></script>
<script>
$(document).ready( function() {
    var d = $('div');
    d.css('top', '250px').css('height', 0);
    d.animate( {
        height: '500px',
        top: 0
    } , 3000 );
} );
</script>
<style>
div {
    width: 500px;
    height: 500px;
    background: #f00;
    position: absolute;
}
</style>
</head>

<body>
<div></div>
</body>

</html> 
```

# ios - 嵌套 UINavigationController 中的视图方向不正确

> ID：13392315
> 
> 赞同：0
> 
> 时间：2012-11-15T06:01:52.110
> 
> 标签：ios, uinavigationcontroller

我希望我的所有视图都处于纵向模式。这有效，除非我将 a 推`UINavigationController`到另一个上。在这种情况下，内部的视图`secondaryNavigationController`将遵循设备方向。这是我如何调用`UINavigationControllers`.

```
[secondaryNavigationController setNavigationBarHidden:YES];
[[appDelegate secondaryNavigationController navigationBar] setHidden:YES];
[mainNavigationController presentModalViewController:[appDelegate secondaryNavigationController] animated:YES]; 
```

我所有的观点都实现了这个方法，但它似乎没有帮助。

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:34:49.313

小心：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
```

[由于它已在 iOS 6.0 上被弃用](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/UIViewController/shouldAutorotateToInterfaceOrientation:)。目前这里有一些`UIViewControllers`内部旋转的问题`UINavigationControllers`，或者`UITabBarControllers`。为了解决这个问题，在您的情况下，您应该对它进行子类化`UINagivationController`或为其创建一个类别（尽管 Apple 不鼓励第二个而不是第一个）。您可以使用[它](https://stackoverflow.com/questions/12504464/ios-6-uitabbarcontroller-supported-orientation-with-current-uinavigation-control)（这种情况是针对 a 的`UITabBarController`，但您可以理解逻辑）来检查如何进行子分类。然后，您可以为您执行以下操作`UIViewControllers`：

```
-(BOOL)shouldAutorotate
{
    return YES;
}

-(NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskPortrait;
} 
```

尽管您允许旋转（返回 YES），但它`UIViewController`始终是纵向的。这里的逻辑是，如果您来自`UIViewController`Landscape，如果您返回 NO，您的`UIViewController`, 将留在 Landscape。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-02T03:32:35.863

这是对我有用的完整答案，基于 iYaniv 的评论和 Jacky Boy 的答案。

我采用了 iYaniv 的类别并将其作为子类`UINavigationController`而不是类别（这是您应该做的）。`UINavigationController *`然后我用替换了所有实例`myUINavigationController *`。然后在我所有的`UIViewControllers`.

```
/* myUINavigationController.h */

#import <UIKit/UIKit.h>

@interface myUINavigationController : UINavigationController

@end 
```

和

```
/* myUINavigationController.m */

#import "myUINavigationController.h"

@interface myUINavigationController ()

@end

@implementation myUINavigationController

-(BOOL)shouldAutorotate
{
    return [[self.viewControllers lastObject] shouldAutorotate];
}

-(NSUInteger)supportedInterfaceOrientations
{
    return [[self.viewControllers lastObject] supportedInterfaceOrientations];
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return [[self.viewControllers lastObject] preferredInterfaceOrientationForPresentation];
}

@end 
```

# java - 如果配置加载失败如何停止部署

> ID：13392319
> 
> 赞同：0
> 
> 时间：2012-11-15T06:02:14.383
> 
> 标签：java, jakarta-ee, glassfish

在部署我的战争文件时，我将配置加载到数据库中的单例中。如果数据库中缺少任何必需的配置变量，我希望应用程序停止。

在 Java 中，我会执行 System.exit(1)，但如果我理解正确，这将杀死 JVM，即 glassfish。

如何杀死应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:07:43.560

覆盖 Servlet 的[Servlet.init](http://docs.oracle.com/javaee/5/api/javax/servlet/Servlet.html#init%28javax.servlet.ServletConfig%29)方法：

```
@Override
public void init(ServletConfig config) throws ServletException {
   super.init(ServletConfig); 

//load config from database, and eventually launch an exception of type ServletException
// for example throw new RequiredConfigMissingException(...);
} 
```

并在缺少所需配置的情况下启动 ServletException 类型的异常（最好扩展它）：

```
public class RequiredConfigMissingException extends ServletException 
```

Application Server 不会加载您的 Web 应用程序并停止部署，并将错误写入应用程序服务器日志。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:45:51.147

我通过抛出 ExceptionInInitializerError 设法获得了所需的结果。由于异常发生在 @Startup 单例的 @PostConstruct 方法中，它会停止部署。

我将查看 web.xml 文件。感谢所有的帮助。

# javascript - jquery触发器没有打开链接

> ID：13392325
> 
> 赞同：2
> 
> 时间：2012-11-15T06:02:46.843
> 
> 标签：javascript, jquery

```
<a id="divLink" href="http://google.com" target="_blank">GOOGLE</a>   
<a id="divLinkOpen" href="#" >Open</a>

$('#divLinkOpen').unbind('click').click(function() {     
    $('#divLinkOpen').trigger("click");
}); 
```

触发不打开谷歌链接

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T06:09:22.193

不能通过触发事件打开链接，可以改变对象的`href`属性`location`或对象的使用`open`方法`window`。

```
$('#divLinkOpen').click(function() {     
    location.href = $('#divLink')[0].href;
    // window.open($('#divLink')[0].href)
}); 
```

请注意，您正在触发单击元素的事件，这样您的单击处理程序将递归执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:16:17.387

不确定您要在这里实现什么。

```
$('#divLinkOpen').trigger("click"); 
```

上面的链接触发点击 divLinkOpen 而不是 divLink。即使您将其更改为

```
$('#divLink').trigger("click"); 
```

由于 divLink 元素没有单击事件处理程序，它仍然无法工作。

我会在这里选择未定义的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T06:18:46.717

你是这个意思吗？

```
<a id="divLink" href="http://google.com" target="_blank">GOOGLE</a>   
<a id="divLinkOpen" href="#">Open</a>

    $('#divLinkOpen').click(function() {     
        $('#divLinkOpen').unbind('click');
        window.open($('#divLink').attr('href'));
    }); 
```

# java - 为什么我的程序没有退出 while 循环？

> ID：13392326
> 
> 赞同：0
> 
> 时间：2012-11-15T06:02:54.387
> 
> 标签：java, input, while-loop, java.util.scanner

代码：

```
int size=0;
Scanner in = new Scanner(System.in);     
System.out.println("Enter size of the Graph");
size = in.nextInt();
System.out.println(size);
for (int i = 1; i <= size; i++) {
    Scanner in2 =new Scanner(System.in);
    while(in2.hasNextInt()){
        int num = in2.nextInt();
        System.out.print("(" + i + "," + num + ")"+",");
        System.out.println();
    }
    System.out.println("out of the while loop");
} 
```

输入输出：

```
Enter size of the Graph
4
4
2 3 4
(1,2),
(1,3),
(1,4),
2 5 6
(1,2),
(1,5),
(1,6), 
```

如您所见，我的程序不存在 while 循环。它仍然打印 i=1 的值。我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:06:11.447

```
int num = in2.nextInt(); 
```

之后尝试添加`in2.nextLine();`。

笔记：

你不应该做`new Scanner(System.in);`多次。

```
Scanner in2 = new Scanner(System.in); // this is useless just use in 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:07:50.680

您的程序一直在等待新的提要，以终止它 - 您应该指示输入已结束（或提供非`int`输入）。

要指示提要已结束 - 您应该提供 EOF -`ctrl+D`在 linux 和`ctrl+Z`Windows 中。

# wpf - 用一些十进制值绑定的空文本框

> ID：13392329
> 
> 赞同：0
> 
> 时间：2012-11-15T06:03:10.093
> 
> 标签：wpf

我有一个绑定到一些十进制值的文本框。现在，如果我在其中输入 100 之类的内容并将其完全清除（空）。我保存数据，它以十进制值保存 1。同样，如果我尝试 200 并清除文本框，它会节省 2。记住十进制值不为空。有任何想法吗？

```
<TextBox 
    Height="23" 
    VerticalAlignment="Center" 
    Text="{Binding Discount,Mode=TwoWay}" 
    MaxLength="50" 
    TabIndex="28" 
    Grid.Row="2" 
    Grid.Column="1" 
    local:FocusExtension.IsFocused=
        "{Binding Path=IsDiscountFocused,Mode=TwoWay}" 
    Margin="5,0,0,0"/> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T08:39:28.393

由于默认情况下 String.Empty 不能转换为小数。最后一个有效值保存在属性中。您应该使用如下转换器。

WPF

```
<Window.Resources>
    <local:ValueConverter x:Key="valueConverter" />
</Window.Resources>

<TextBox Text="{Binding Path=Value, Mode=TwoWay, Converter={StaticResource valueConverter}}" /> 
```

转换器：

```
public class ValueConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        return value;
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        if (value is string && (string)value == "")
        {
            return 0;
        }

        return value;
    }
} 
```

清除：

```
public decimal Value
{
    get { return (decimal)GetValue(ValueProperty); }
    set { SetValue(ValueProperty, value); }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T08:19:41.170

我假设您的视图模型中的 Discount 属性如下所示：

```
public decimal Discount {get;set;} 
```

如果你使用退格键并清除你的文本框，你会得到一个绑定异常，因为“”不能转换为十进制。所以最后一个数字保留在您的财产中。实际上这应该在使用 UpdateSourceTrigger=Propertychanged 时发生。但是您可以尝试使用十进制吗？如果这没有帮助，您还可以添加一个转换器以将“”转换为您的视图模型可以处理的值。

编辑：我没有看到你最后的评论。但如果您想要一个空文本框为 0，则只需在“”为输入时使用转换器返回 0。

# php - Codeigniter 网址重定向

> ID：13392336
> 
> 赞同：0
> 
> 时间：2012-11-15T06:03:43.100
> 
> 标签：php, html, css, codeigniter

每当我尝试访问它重定向到登录页面的业务控制器时，我都会在 codeigniter 上开发一个应用程序。这是网址[http://www.atms.com.au/index.php/business](http://www.atms.com.au/index.php/business)。我找不到为登录而检查会话变量的位置 这是控制器

```
<?php
class Business extends Controller
{
    function Business()
    {
        parent::Controller();
        $this->load->model('members_model');
    }

    function index()
    {
        $this->session->set_userdata( $this->session_name, true) ;
        $this->session->set_userdata( "atms_member_login_id", $this->login_id);
        if($this->input->post('submit_business_info'))
        {           
            $business_name = $data['business_name'] = $this->input->post('business_name');
            $data['business_description'] = $this->input->post('description');
            $data['status'] = '1';

            if($_FILES['business_logo']['name'])
            {
                $prev_image = $this->input->post('prev_image');
                $logo = upload_image('business_logo', $this->config->item('business_logo_root'), array('dest' => $this->config->item('business_logo_root'), 'size' => array('w' => 127, 'h' => 127), 'ratio' => false), $prev_image);

                if($logo)
                    $data['business_logo'] = $logo;
                else
                    $data['business_logo'] = $prev_image;
            }

            $this->general_db_model->update('atms_members_info_tmp', $data, 'member_id = '.member_id());

            $member_detail = $this->general_db_model->getMemberDetail('atms_members_info', member_id());
        //debug_array($member_detail);
            $clinics = $this->input->post('clinic');

            if(!empty($clinics))
            {

                foreach($clinics as $key=>$clinic)
                {

                    if(array_values_exist($clinic))
                    {       

                        if($clinic_id = $clinic['clinic_id'])
                        {

                            unset($clinic['clinic_id']);
                            $this->general_db_model->update('atms_members_clinic_info_tmp', $clinic, 'clinic_id = '.$clinic_id);

                            $data['provider_no'] = 'updated';
                            $this->general_db_model->update('atms_members_info_tmp', $data, 'member_id = '.member_id());

                                        }
                                    else
                                {
                                $clinic['member_id'] = member_id();
                            $this->general_db_model->insert('atms_members_clinic_info_tmp', $clinic);
                            $data['provider_no'] = 'updated';
                            $this->general_db_model->update('atms_members_info_tmp', $data, 'member_id = '.member_id());

                        }
                    }
                }

                    $link = site_url()."/admin/members/update_details/".$member_detail->id;
                    $message = '';
                    $message.= 'Dear '.$business_name.',<br/><br/>';
                    $message.= $business_name.' had update business listing. So please approve it.<br/>';   
                    $message.= " Link: <a href='".$link."' > Update Link</a><br/>";             
                    $message.= 'Thank You.<br/>';                               
                    $subject = "Approve Update business listing.";

                    //$to = $this->settings->item('admin_email');
                    $to = $this->settings->item('admin_email');
                    $from =$member_detail->email;
                    //die($message);
                    $header = config_item('project_title');     

                    $this->my_library->send_email($to , $subject, $message, $header, $from);

            }

            $this->session->set_flashdata('success_message', 'Your business details successfully updated. Note: your updates must be approved by the administrator before displaying on the site.');
            redirect(current_url());
            die();
        }

        $data['info'] = $this->members_model->get_member_details(member_id());
        $data['clinics'] = $this->members_model->get_member_clinics(member_id());       
        $this->load->view('site/member/business_v', $data);
    }
}
?> 
```

这就是视图

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <?php $this->load->view('site/inc/head');?>
</head>
<body>
<div id="wrapper">
  <div id="headerWrapper">
    <div id="header">
      <div class="top">
        <?php $this->load->view('site/inc/header');?>
      </div>
      <div id="menu">
        <?php $this->load->view('site/inc/menu');?>
      </div>
      <div id="bannerIn" class="">
        <h1>Update My Details</h1>
      </div>
    </div>
  </div>
  <!-- end #header -->
  <div id="pageWrapper">
    <div id="page" class="clf">
      <div id="content">
        <div class="wideForm">
        <?php 
            global_message();
        ?>
        <form method="post" enctype="multipart/form-data" id="businessForm" name="businessForm">
        <ul class="clf">
            <li>
              <label>Business Name</label>
              <div class="inpWrapwide">
                <input type="text" class="text" name="business_name" id="business_name" value="<?php echo $info->business_name;?>" />
              </div>
            </li>
            <li>
              <label>Add Logo</label>

                <div class="inpWrap file">
                    <input type="file" name="business_logo" id="addlogo" value="<?php echo $info->business_logo;?>" />
                    <input type="hidden" name="prev_image" value="<?php echo $info->business_logo;?>" />

                </div>
                <div style="padding:5px;"><em><?php echo $info->business_logo;?></em></div>
            </li>
            <li>
              <label>Description</label>
              <div class="txtWrap">
                <textarea name="description" rows="4" cols="60"><?php echo $info->business_description;?></textarea>
              </div>
            </li>
            <?php 
            $count = 1;
            if(count($clinics) > 0) : 
                    foreach($clinics as $key=>$clinic):
            ?>
            <div id="clinic_<?php echo $count;?>">
                <li>
                    <h3 style="float:left;">Clinic <?php echo $key+1;?></h3>
                    <input type="hidden" name="clinic[<?php echo $count;?>][clinic_id]" value="<?php echo $clinic->clinic_id;?>" />
                    <span style="padding-left:10px;"><a href="javascript:;" onclick="removeClinic(<?php echo $count;?>, <?php echo $clinic->clinic_id;?>);" class="remove_clinic"><img src="<?php echo config_item('site_images');?>close.gif" /></a></span>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Address 1</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_address_1]" value="<?php echo $clinic->clinic_address_1;?>" />                
                    </div>
                </dd>
                <dd class="lastItem">

                    <label>Address 2</label>
                   <div class="inpWrap">
            <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_address_2]" value="<?php echo $clinic->clinic_address_2;?>" />                                        
                   </div>
                </dd></dl>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Suburb</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_suburb]" value="<?php echo $clinic->clinic_suburb;?>" />                
                    </div>
                </dd>
                <dd class="lastItem">
                    <label>State</label>

                     <?php echo select_states('clinic['.$count.'][clinic_state_id]', $clinic->clinic_state_id);?>                                       

                </dd></dl>
                </li>

                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Postcode</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_postcode]" value="<?php echo $clinic->clinic_postcode;?>" />                
                    </div>
                </dd>
                <dd class="lastItem">
                    <label>Phone</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_telephone]" value="<?php echo $clinic->clinic_telephone;?>" />                
                    </div>
                </dd></dl>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Mobile</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_mobile]" value="<?php echo $clinic->clinic_mobile;?>" />                
                    </div>
                </dd>
                <dd class="lastItem">
                    <label>Email</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_email]" value="<?php echo $clinic->clinic_email;?>" />                
                    </div>
                </dd></dl>
                <dl class="clf">            
                <dd>
                    <label>Website</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_website]" value="<?php echo $clinic->clinic_website;?>" />                
                    </div>
                </dd>
                </dl>
                </li>
            </div>
            <?php $count++; endforeach; ?>    
            <?php else: 
            ?>
            <div>
                <li>
                    <h3>Clinic 1</h3>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>City</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_address_1]" value="" />                
                    </div>
                </dd>
                <dd class="lastItem">
                    <label>State</label>
                    <div class="inpWrap">
                        <?php echo select_states('clinic['.$count.'][clinic_state_id]');?>

                    </div>
                </dd></dl>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Postcode</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_postcode]" value="" />                
                    </div>
                </dd>
                <dd class="lastItem">
                    <label>Phone</label>
                    <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_telephone]" value="" /> 
                </dd></dl>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Mobile</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_mobile]" value="" />                
                    </div>
                </dd>
                <dd class="lastItem">
                    <label>Email</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_email]" value="" />                
                    </div>
                </dd></dl>
                </li>
                <li class="split">
                <dl class="clf">            
                <dd>
                    <label>Website</label>
                    <div class="inpWrap">
                        <input type="text" class="text" name="clinic[<?php echo $count;?>][clinic_website]" value="" />                
                    </div>
                </dd>
                </dl>
                </li>
            </div>  
            <?php $count++;?>  
            <?php endif; ?>

            <div id="new_clinics">
                <!--appends new clinics here-->
            </div>
          </ul>

           <input type="button" class="add_clinic" value="Add more clinic" name="add_clinic" />
           <div class="buttons clf">
                <input type="button" class="cancel" value="cancel" onclick="window.location = '<?php echo current_url();?>';" />
                <input type="submit" class="update" value="update" name="submit_business_info" />
           </div>
        </form>
      </div>
      </div>
      <!-- end #content -->
      <div id="sidebar">
        <?php $this->load->view('site/inc/login_sidebar');?>
      </div>
      <!-- end #sidebar --> 

    </div>
  </div>
  <!-- end #page --> 
</div>
<div id="footerWrapper">
  <div id="footer">
    <?php $this->load->view('site/inc/footer');?>
  </div>
</div>
<!-- end #footer --> 

<textarea style="display:none;" id="template">
<div class="transform" id="clinic_{0}">
    <li>
        <h3 style="float:left;">Clinic {0}</h3>
        <span style="padding-left:10px;"><a href="javascript:;" onclick="removeClinic({0});" class="remove_clinic"><img src="<?php echo config_item('site_images');?>close.gif" /></a></span>
    </li>
    <li class="split">
    <dl class="clf">            
    <dd>
        <label>City</label>
        <div class="inpWrap">
            <input type="text" class="text" name="clinic[{0}][clinic_address_1]" value="" />                
        </div>
    </dd>
    <dd class="lastItem">
        <label>State</label>
        <div class="inpWrap">
           <?php echo select_states('clinic[{0}][clinic_state_id]');?>               
        </div>
    </dd></dl>
    </li>
    <li class="split">
    <dl class="clf">            
    <dd>
        <label>Postcode</label>
        <div class="inpWrap">
            <input type="text" class="text" name="clinic[{0}][clinic_postcode]" value="" />                
        </div>
    </dd>
    <dd class="lastItem">
        <label>Phone</label>
        <div class="inpWrap">
       <input type="text" class="text" name="clinic[{0}][clinic_telephone]" value="" /> 
       </div>         
    </dd></dl>
    </li>
    <li class="split">
    <dl class="clf">            
    <dd>
        <label>Mobile</label>
        <div class="inpWrap">
            <input type="text" class="text" name="clinic[{0}][clinic_mobile]" value="" />                
        </div>
    </dd>
    <dd class="lastItem">
        <label>Email</label>
        <div class="inpWrap">
            <input type="text" class="text" name="clinic[{0}][clinic_email]" value="" />                
        </div>
    </dd></dl>
    </li>
     <li class="split">
    <dl class="clf">            
    <dd>
        <label>Website</label>
        <div class="inpWrap">
            <input type="text" class="text" name="clinic[{0}][clinic_website]" value="" />                
        </div>
    </dd>
    </dl>
    </li>
</textarea>

<script type="text/javascript">

jQuery(document).ready(function(){
    jQuery('.bannerLinks a').wrapInner('<span></span>');
     $("input[type=file]").filestyle({ 
     image: "<?php echo config_item('site_images');?>browse.gif",
     imageheight : 22,
     imagewidth : 68,
     width : 250
 });
 jQuery('.file div').hover(function(){
     //var _b = jQuery(this).attr("background");
     //jQuery(this).css("background","<?php echo config_item('site_images');?>browse_h.gif");
     }, function(){
         //jQuery(this).css("background","<?php echo config_item('site_images');?>browse.gif");
     });

    $("#businessForm").validate();  

    var template = jQuery.format($("#template").val());
    function addClinic() {
        $(template(i++)).appendTo("div#new_clinics");
        $('div.transform').jqTransform({imgPath:'<?php echo config_item('site_asset');?>jqtransform/img/'});
    }

    var i = <?php echo $count;?>;

    $(".add_clinic").click(addClinic);
});

function removeClinic(index, cid)
{
    if(cid)
    {
        if(confirm('Are You Sure?'))
        {
            $.post('<?php echo admin_url('members/remove_clinic_tmp');?>', {clinic_id : cid}, function(data){});
        }
        else
            return false;
    }

    $('div#clinic_'+index).remove();

}

</script>
</body>
</html> 
```

我很沮丧地发现登录检查的位置。谁能帮我谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-19T22:53:06.763

我的建议是去看看应用程序/核心中的主控制器。也许控制器类就在那里扩展。此外，正如人们所说，将旧式构造函数转换为 PHP 5+ __construct()。尝试在您的应用程序中设置一些断点，以查看它去哪里和不去哪里。我认为它应该与核心控制器的扩展有关。

# android - 在 Phonegap 和应用程序崩溃中使用 iFrame

> ID：13392342
> 
> 赞同：2
> 
> 时间：2012-11-15T06:04:30.510
> 
> 标签：android, mobile, iframe, cordova

我已经在 Eclipse 上为 Android 创建了一个带有 PhoneGap 2.0.0 的应用程序，但是当我尝试在模拟器或我的手机上运行该应用程序（*签名应用程序没有错误*）时，它只显示**静态 html 页面**。当我转到使用**iFrame**将另一个网页加载到其中的页面时，它***只是崩溃***了。这是我在模拟器上看到的屏幕，我的手机上也显示了相同的消息（*SE Xperia X10*）

出现错误的模拟器截图：

![图像](../Images/fd8a7b77492bba363006ab127408988e.png)

显示消息后，应用程序立即崩溃。如果我需要添加任何其他权限或添加其他设置或进行任何更改以使其正常运行，请告诉我，因为 iFrame 在浏览器（包括手机/桌面浏览器）上的 Phonegap 之外正常运行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T03:28:59.570

至少某些版本的 PhoneGap 使用 iframe 与本地层通信。

我最熟悉 iOS 版本，其中浏览器对 iframe 的支持存在明确的错误（[https://issues.apache.org/jira/browse/CB-593](https://issues.apache.org/jira/browse/CB-593)）。我不知道在 android 上是否存在类似的系统级问题，但您的代码中可能很容易出现不希望第二个 iframe 存在的部分代码。

# javascript - javascript代码不允许页面在没有登录的情况下加载

> ID：13392344
> 
> 赞同：0
> 
> 时间：2012-11-15T06:04:46.500
> 
> 标签：javascript

我编写了一个登录页面。如果登录凭据正确，我必须将页面重定向到另一个页面。

如果我复制主页的 URL/路径并粘贴到地址栏中，它不应该加载。它必须重定向到登录页面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T06:29:20.127

最好使用服务器端语言来验证用户请求，即`Asp.net, PHP, JSP`等。如果你不能使用服务器端脚本而不是使用`HTML5` [sessionStorage](http://www.javascriptkit.com/javatutors/domstorage.shtml)。

```
sessionStorage.setItem("mykey", "Some Value") ; 
```

现在获取您的密钥值`home page`进行身份验证，如果`null or undefined`然后重定向到登录页面。

```
var value = sessionStorage.mykey;
if(value =='undefined' || value == null || value == undefined)
{
   window.location.href="/login";
} 
```

**注意：**以下浏览器支持 DOM 存储（sessionStorage 和 localStorage）- FF3.5+、Chrome4+、Safari4+、Opera10.5+ 和 IE8+。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:07:37.633

如果您尝试在未登录的情况下访问主页。服务器应该返回重定向响应。它不是从客户端完成的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:07:54.297

最好用 java 代码而不是 javascript 来完成这种任务。无论如何解决方案：

使用 scriplet 在 jsp 页面上获取用户 ID。

```
<script>
var user = '<%= request.getUserPrincipal()%>';
            if (user == 'null')
                window.location.href="/login";
</script> 
```

如果值为 null 则用户未登录。在这种情况下使用 window.location.href (javascript) 重定向用户。

将登录页面 URL 替换为您的 URL。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:17:31.787

它需要管理会话。一般来说，所有这些类型的会话管理都是由 Java、.NET 等服务器端技术完成的。

您也可以使用 JavaScript 来做到这一点，但它的安全性和可靠性非常低。

如果登录成功，则创建一个浏览器 cookie，它只存储一个布尔值，表示他是有效用户并重定向到主页。在主页中检查登录 cookie 值。如果其值无效，则通过显示异常消息再次重定向用户登录页面。

# javascript - 返回嵌入式文档时基于文档字段和嵌入式文档字段的结构查询

> ID：13392348
> 
> 赞同：1
> 
> 时间：2012-11-15T06:05:18.247
> 
> 标签：javascript, mongodb, database

我正在尝试在 mongo 数据库中查询嵌入式文档。我正在根据文档中的字段和嵌入文档中的字段进行查询。

这是一个带有几个文档的示例。

**文件 1**

```
{
  token: 'foo'
  services: [
  {
    service: 'one',
    data: {...}
  },
  {
    service: 'two',
    data: {...}
  }
  ]
} 
```

**文件 2**

```
{
  token: 'bar'
  services: [
  {
    service: 'one',
    data: {...}
  },
  {
    service: 'two',
    data: {...}
  }
  ]
} 
```

我想`{service: 'one', data: {...}}`从第一个文档中获取嵌入式文档。但是我不太确定如何构造查询。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T09:43:47.817

如果 doc 1 和 doc 2 代表同一个集合中的两个文档，那么您需要通过一些明确的标识符（如 id 或 name 等）获取第一个文档，然后从代码中读取 services 数组的第一个元素。

如果 doc 1 和 doc 2 是查询的结果，并且您需要过滤匹配 {service: 'one', data: {...}} 的文档，那么由于 services 是一个数组，您需要使用 $elemMatch。

```
coll.find( { services : { $elemMatch : { service : "one", data: { ... } } } } ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:26:02.800

如果您有这样的集合：

```
 var coll =  {
      token: 'foo',
      services: [
        {
          service: 'one',
          data: {}
        },
        {
          service: 'two',
          data: {}
        }
      ]
    } 
```

您可以`service: 'one'`使用以下方式访问对象：`coll.services[0]`查询。

**更新** 如果你想按字段选择对象，你可以试试这个：

```
$.grep(coll.services, function(e) { return e.service == 'one' }); 
```

# cocoa - 当 NSTextField 中的内容增加时如何调整 NSTextField 的大小

> ID：13392349
> 
> 赞同：3
> 
> 时间：2012-11-15T06:05:18.150
> 
> 标签：cocoa, nstextfield, nstextview

我有 NSTextField 但我必须显示的内容不是固定的，它会动态增长。有什么简单的方法可以让我们动态改变大小。提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-03-29T08:30:00.433

文本字段的委托需要随着文本的变化而更新大小。

诀窍是您必须手动更新`stringValue`属性，以避免错误：

```
override func controlTextDidChange(obj: NSNotification) {
  guard let field = obj.object as? NSTextField else {
    return
  }

  // re-apply the string value, this is necessary for the text field to correctly calculate it's width
  field.stringValue = field.stringValue

  // calculate the new dimensions
  let maxWidth: CGFloat = 500
  let maxHeight: CGFloat = 50
  let size = renameField.sizeThatFits(NSSize(width: maxWidth, height: maxHeight))

  // apply them
  field.frame = NSRect(x: field.frame.origin.x, y: field.frame.origin.y, width: size.width, height: size.height)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:23:23.987

没有通过 Interface Builder 设置的选项。

但是你可以通过代码来做：你可以在实现的 NSTextField 上设置一个委托

```
- (void)controlTextDidChange:(NSNotification *)aNotification; 
```

每次调用委托时，根据您上面的想法调整控件的大小。

还有，这个。

Jerry Krinock 的 NSString/NSAttributedString 上有一个很棒的类别，它允许您根据文本的宽度计算文本的高度，反之亦然：

[http://www.sheepsystems.com/sourceCode/sourceStringGeometrics.html](http://www.sheepsystems.com/sourceCode/sourceStringGeometrics.html)

**2016 年 3 月编辑**：

现在，由于 Mac OS 应用程序的 Autolayout 功能有助于增加和减小文本字段甚至 NSWindow 的大小，因此您可以非常容易地使用它们。只需从窗口的任一侧放置约束，并将约束设置为 ( >= desiredMinimumSize )，就完成了！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T23:21:48.437

如果您只是显示内容，而不是在文本字段中输入，那么您应该使用一个标签，该标签可以在 IB 中设置为“Size To Fit Content”。这将导致标签足够大以容纳内容。

# java - Multisocket - 如何计算有多少数据报包即将到来

> ID：13392350
> 
> 赞同：0
> 
> 时间：2012-11-15T06:05:20.213
> 
> 标签：java

所以我通过多播通过UDP发送音频。并且发送方每 10 毫秒发送一个原始音频 UDP 数据包。不幸的是，它时不时会丢失一个数据包。所以我所做的就是尝试为发送/接收计时，这样我就可以在我错过了一个时解决。

这是我目前拥有的：

```
prevReceived = System.currentTimeMillis();
                    socket.receive(recv);
                    long messageReceived = System.currentTimeMillis();
if (dateDiff > 20) {
 ... Missed packet add the previous packet 
```

我遇到的问题是有时 java 多套接字接收方法需要 70 毫秒才能接收消息。但是当我检查 Microsoft 网络监视器时，发送仍在发送消息。

所以我想知道是否有办法查看多套接字对象是否有任何待处理的数据包：socket.count() 或其他东西。还是数据包从套接字时间接收时间。例如像recv.timestamp() 这样的东西。

到目前为止，我还没有找到任何东西，也无法弄清楚为什么当 Microsoft 网络监视器每 10 毫秒处理一次消息时，它需要 70 毫秒来处理消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:41:03.860

Apache mina 可以统计你的数据报包。

[http://mina.apache.org/mina/userguide/ch2-basics/sample-udp-server.html](http://mina.apache.org/mina/userguide/ch2-basics/sample-udp-server.html)

[http://mina.apache.org/mina/userguide/user-guide-toc.html](http://mina.apache.org/mina/userguide/user-guide-toc.html)

# java - 比较字节值？

> ID：13392351
> 
> 赞同：23
> 
> 时间：2012-11-15T06:05:33.333
> 
> 标签：java, comparison, byte

我很想知道为什么，当我将`byte`数组与值进行比较时......

```
boolean match = ((data[0] & 0xFF) == 0xFE); 
```

...返回`true`，而...

```
boolean match = (data[0] == 0xFE); 
```

...才不是？`data`是一个`byte`数组

```
data[0] = (byte) 0xFE; 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-11-15T06:19:47.353

```
boolean match = ((data[0] & 0xFF) == 0xFE); 
```

比较整数，因为 0xFF 是一个整数，这个表达式**会将你的字节放大** `data[0]`到一个 int 并将括号内的内容与第二个 int 进行比较`0xFE(254)`。正如您所说`data[0]`，`(byte)0xFE`它将首先缩放为整数`0xFE`并与整数进行比较`0xFE`，所以这是可行的。

```
boolean match = (data[0] == 0xFE); 
```

将一个字节与 int 进行比较`0xFE`：`254`

```
data[0] = (byte) 0xFE; 
```

是一个字节（所以它是有[符号](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)的），它的值为`-2`.

`-2`不等于`254`，所以这就是为什么您必须将 data[0] 作为一个字节进行比较或将其放大为一个整数，然后再将其与整数进行比较`0xFE`。

更简单的比较可能是

```
boolean match = (data[0] == (byte)0xFE); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T06:12:08.247

我相信这与将 0xFF 提升为带有符号扩展的 int 有关。在第一个表达式中，0xFE 也被提升为一个 int，因此 的结果`data[0] & 0xFF`也是一个 int 并且完成了一个 int 比较。

但是在第二个代码示例中，没有执行任何操作，因此没有提升到 int。也就是说，data[0] 没有被提升为 int，但 0xFE 是一个 int。

# iphone - 核心数据实体关系，如实体内部的数组？

> ID：13392357
> 
> 赞同：1
> 
> 时间：2012-11-15T06:06:20.163
> 
> 标签：iphone, ios, cocoa, core-data, entity

所以我正在制作一个类似待办事项的应用程序。现在我已经制作了我想要添加一个功能的应用程序，其中每个任务都可以有子任务，例如：

任务：图书报告 子任务： - 获取信息 - 汇总和打印信息 - 将信息粘贴到纸上

为了澄清，我有点希望核心数据实体像一个数组一样运行。

现在我尝试自己尝试并做到了，但发生的事情是当我添加任务和删除任务时，子任务仍然存在。

我真的很困惑我需要如何设置我的实体。任何帮助表示赞赏！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:11:33.437

您需要创建与另一个实体的一对多关系，并在子实体中创建一个互惠的“反向”关系。

看一下这个：

[http://timroadley.com/2012/02/19/core-data-basics-part-4-relationships/](http://timroadley.com/2012/02/19/core-data-basics-part-4-relationships/)

必须在模型编辑器中创建反向关系：

![在此处输入图像描述](../Images/243f5ce5f1ce0c2ce083b9332aae1ed7.png)

# javascript - 需要将街景小人放在地图的中心

> ID：13392364
> 
> 赞同：1
> 
> 时间：2012-11-15T06:06:47.540
> 
> 标签：javascript, jquery, google-maps, google-street-view

我在这里有一个演示[http://jsfiddle.net/coderslay/vQVTq/1/](http://jsfiddle.net/coderslay/vQVTq/1/)

我的**Js**文件

```
var fenway = new google.maps.LatLng(42.345573,-71.098326);
var panoramaOptions = {
    enableCloseButton : true,
    visible: false
};
var panorama = new  google.maps.StreetViewPanorama(document.getElementById("pano"), panoramaOptions);
var mapOptions = {
  center: fenway,
  zoom: 14,
  mapTypeId: google.maps.MapTypeId.ROADMAP,
  streetView : panorama
};
var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

google.maps.event.addListener(panorama, "visible_changed", function() {
    if (panorama.getVisible() && $("#pano").is(':visible')){
        //moving the pegman around the map
    }else if(panorama.getVisible() && $("#pano").is(':hidden')){
        $("#pano").show();
        $("#map_canvas").removeClass('bigmap');
        $("#map_canvas").addClass('minimap');
            latLngBounds = new google.maps.LatLngBounds();
            latLngBounds.extend( new google.maps.LatLng(panorama.getPosition().lat(), panorama.getPosition().lng()));
    map.panToBounds(latLngBounds);
    map.fitBounds(latLngBounds);
    }
    google.maps.event.addListener(panorama, "closeclick", function() {
        $("#pano").hide();  
        $("#map_canvas").removeClass('minimap');
        $("#map_canvas").addClass('bigmap');         
    });
    }); 
```

我的**css**文件

```
#container {
width:500px;
height: 500px ;
position: relative;
}

#map_canvas, 
#pano {
    position: absolute;
    top: 0;
    left: 0;
}

#map_canvas {
    z-index: 10;
}

.bigmap{
    width:100%;
    height:100%;
}

.minimap{
    width:50%;
    height:100%;
}​ 
```

现在发生的事情是，当我这样做时`map.panToBounds(latLngBounds); map.fitBounds(latLngBounds);`，街景小人就会出现在整个地图的中心，而不管街景和普通视图如何。我希望街景小人显示在法线贴图的中心。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:25:54.387

在我看来，即使您将地图的宽度更改为 50%，Google 仍然认为它是 100%，并且不知道动态调整它。您可以尝试删除然后以新宽度添加新地图。

或者，尝试使用地图`panBy()`功能向左平移 250 像素。

PS：为什么 pano 设置为 100% 宽度而不是 50%？

# algorithm - 如何在verilog中声明一个二维数组？我想将 4x4 矩阵作为输入

> ID：13392365
> 
> 赞同：-1
> 
> 时间：2012-11-15T06:06:52.553
> 
> 标签：algorithm, encryption, verilog

我正在创建一个 AES verilog 代码，我需要在一个 4x4 矩阵中收集 16 个输入 [7:0] 每个输入，所以我需要定义它并实现矩阵的初始化。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T08:43:29.757

如果您询问如何创建 Verilog 输入以获取该数组，您可能有多个输入、打包数组或在某些情况下未打包数组。

多个输入：

```
module aes (
  input [7:0] data_1,
  input [7:0] data_2,
  //...
  input [7:0] data_16
); 
```

解包数组

```
module aes #(
  parameter DATA_W = 8,
  parameter BYTE_COUNT = 16,
) (
  input [DATA_W*BYTE_COUNT -1:0] data
); 
```

Packed Array，不像其他类型那样常见：

```
module aes #(
  parameter DATA_W = 8,
  parameter BYTE_COUNT = 16,
) (
  input [DATA_W-1:0] data [0:BYTE_COUNT-1]
); 
```

我不确定多维数组作为端口的支持情况如何，但在 SystemVerilog 2001 中支持多维数组类型。

要将数据保存为 4x4 数组：

```
reg [7:0] data [0:3][0:3]; 
```

如果这不是输入矩阵，而是移位并存储在触发器中，则初始化将由复位信号或另一个清除信号完成，用于异步复位：

```
integer x, y;
always @(posedge clk or negede rst_n) begin
  if (~rst_n) begin
    for (x=0,x<4,x=x+1) begin
      for (y=0,y<4,y=y+1) begin
        data[x][y] <= 8'h00 ;
      end
    end
  end
  else begin
    //Control on rising edge of clk
  end
end 
```

注意： for 循环在编译时展开，硬件中没有任何动态。

# javascript - 跳转点搜索 jn JavaScript

> ID：13392366
> 
> 赞同：2
> 
> 时间：2012-11-15T06:06:54.067
> 
> 标签：javascript, algorithm, search, path-finding

我想通过 JavaScript 实现一个 8 向寻路算法。我找到了一个算法，跳转点搜索。我看到它非常好，但我找不到这个算法的简单演示。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T12:09:20.047

你会发现[这个演示](http://qiao.github.com/PathFinding.js/visual/)很有帮助。

# java - 如何设置 Java 线程的 cpu 核心亲和力？

> ID：13392379
> 
> 赞同：14
> 
> 时间：2012-11-15T06:08:15.697
> 
> 标签：java, linux

我搜索了以前关于类似主题的帖子，但找不到合适的答案，因此提出了这个问题。非常感谢您帮助回答它。

我知道通过 Linux 中的 taskset 命令设置进程对特定 CPU 内核的亲和性。但是我想设置一个 Java 线程对特定 cpu 核心的亲和性，以便属于同一进程的其他线程可以在所有剩余的核心上运行。例如，如果我有一个包含 10 个线程和 4 核机器的进程，我想为一个线程保留 core-1，并让剩余的 9 个线程在剩余的 3 核上运行。可以做到吗？怎么做？

谢谢萨钦

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-15T19:12:27.327

假设 2241 是您的 java 进程的 pid。跑：

```
jstack 2241 
```

这为您提供了一个线程列表。在那里找到你的并注意 nid 字段。说 nid=0x8e9，它将以 10 为基数转换为 2281。然后运行：

```
taskset -p -c 0 2281 
```

完毕。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-15T06:11:35.970

不幸的是，您不能将 Java 线程分配给特定的内核。但是，您可以做的是设置[线程优先级](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Thread.html#setPriority%28int%29)来确定线程的优先级（假设这会完成同样的事情）

或者，您可以使用 JNI，但这完全是矫枉过正。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-15T06:23:50.447

请记住，您运行的 Java 应用程序实际上是在 JVM 中运行的，而 JVM 又在 OS 上运行。为了让您能够直接与 CPU 交互，您需要一种低级编程语言（例如 C）。

正如另一个答案中所建议的那样，您可以使用 JNI 与较低级别的语言（如 C）进行交互以执行您想要的操作，但是您必须将并发（在该较低级别语言中管理的线程）委托给它......

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-06-12T15:12:43.450

您可以使用 JNA 在纯 Java 中执行此操作。不需要使用任务集。请记住，除非您之前已将内核与内核/用户线程和硬件中断**隔离开来，否则线程关联是没有意义的。**我隶属于 Coral Blocks，该公司开发了[CoralThreads](http://www.coralblocks.com/index.php/2014/04/getting-started-with-coralthreads/)，正是这样做的。

# actionscript-3 - 为什么 Flash Builder 4.6 Profiler 似乎泄漏字符串，而调试模式 GC 却如预期的那样

> ID：13392384
> 
> 赞同：4
> 
> 时间：2012-11-15T06:08:44.727
> 
> 标签：actionscript-3, flash, flash-builder

在对我的类进行单元分析时，我注意到 String 类无休止地累积（在我的大型应用程序中占用了 90% 以上的内存）。幸运的是，这*只是*在Flash Builder 4.6的*Profiler*模式下运行时。在调试或部署（作为 AIR）中，使用嵌入式屏幕内存分析器（Mr Doobs Stats）按预期降低内存使用量。

为了验证我制作了一个测试应用程序，它只是一个持续加载文本文件的 URLLoader。当使用 URLLoaderDataFormat.String 在 Profiler 模式下运行时，String 数据永远不会被 GC 处理并持续增长，而使用 URLLoaderDataFormat.BINARY 数据几乎立即被 GC 处理并保持水平。

我不愿称其为错误，因为它可能是 Profiler 工作方式的必要部分……但也许这对于 Profiler 来说是不正常的？这是我的 StackOverflow 查询的本质。

无论如何，这对我来说已经浪费了几个工作日，所以如果你在谷歌上搜索，想知道为什么 String 类会像疯了一样增长，而从来没有让 GC 考虑在 Profilier 之外测量你的应用程序内存使用情况以进行验证。就我而言，我被误导以为我在使用 Master Strings 时遇到了一些问题——尽管了解 Master Strings 及其对内存的影响（[请参阅](http://webcache.googleusercontent.com/search?q=cache%3alMfXUk1B6LgJ%3ajunkbyte.com/wp/as3/flash-string-weirdness/%20&cd=4&hl=en&ct=clnk&gl=us)：）不要像我一样被误导。

# jquery - 具有水平线和垂直线的两行滑块？

> ID：13392397
> 
> 赞同：1
> 
> 时间：2012-11-15T06:10:58.063
> 
> 标签：jquery, html, css

我正在从事网络开发工作，我完成了从右向左移动并在单个 < Li > 内移动的滑块，但我想创建具有水平线和垂直线的两行滑块。

谁能帮我发展。![](../Images/01adf6b9ee4af1a571a4f04a84103ebd.png)

![在此处输入图像描述](../Images/01adf6b9ee4af1a571a4f04a84103ebd.png)

如您所见，我要创建下图

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T09:52:54.550

我找到了一个新的 jquery 插件。你可以试试这个插件

[http://jsabdul.wordpress.com/2013/01/17/multiple-rows-carousel/](http://jsabdul.wordpress.com/2013/01/17/multiple-rows-carousel/)

![图片](../Images/c73155bfbf7ba42a6504a0285be1687f.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T06:36:51.087

我不清楚您对“具有水平线和垂直线的两行滑块”的确切含义。根据图片我可以想到2个解决方案：

1.  您使用普通列表，但每个列表包含两项：

    ```
     <ul id="slider">
          <li>
           <span class="row">
            <span class="row_item"><a href="#"><img src="topimage1.jpg"></a></span>
            <span class="row_item"><a href="#"><img src="topimage4.jpg"></a></span>
           </span> 
         </li>
          <li>
           <span class="row">
            <span class="row_item"><a href="#"><img src="topimage2.jpg"></a></span>
            <span class="row_item"><a href="#"><img src="topimage5.jpg"></a></span>
           </span> 
          </li>
          <li>
           <span class="row">
            <span class="row_item"><a href="#"><img src="topimage3.jpg"></a></span>
            <span class="row_item"><a href="#"><img src="topimage6.jpg"></a></span>
           </span> 
          </li>
        </ul>

    .row, .row_item{display:block;} 
    ```

2.  您使用两个不同的列表，都由同一组箭头控制：

    ```
     <ul id="top_slider">
              <li></li>
          </ul>
          <ul id="bottom_slider">
              <li></li>
          </ul>

     And an example of jquery (I assume you're using some slider plugin with a `moveFOrward()` 
     callback, or similar. If you developed your own, adjust accordingly. ):

     $('#arrow_left').click(function(e){
        $('#top_slider').moveForward();
        $('#bottom_slider').moveForward();
        e.preventDefault();
     }); 
    ```

# mysql - 如何使用 MySQL 计算现有和不存在的值？

> ID：13392398
> 
> 赞同：4
> 
> 时间：2012-11-15T06:11:00.087
> 
> 标签：mysql, sql, count

我是 MySQL 新手。

我有一张带有答案 ID 的表格。答案可能如下所示：`a1, a2, a3 ...`，但由于某些问题，有些是`NULL`，有些是空白的，有些是其他类似的`1 a`等等。

`a1 a2 a3`现在我想清楚地计算 ids 的数量。但是如何做到这一点，留下其他人喜欢`NULL`，空白和垃圾。

输出应如下所示

```
atype count 
a1      45
a2       0
a3      56 
```

如果特定答案没有行条目，则计数应为 0。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:26:29.463

# 解决方案 1：两个查询

您应该使用包含所需（正确）答案类型的表格：

```
| id | answer |
---------------
| 1  | a1     |
| 2  | a2     |
etc. 
```

然后您可以计算表中实际存在的结果：

```
SELECT atype, COUNT( * ) cnt FROM answers JOIN mytable 
    ON mytable.atype=answers.answer GROUP BY answers.answer; 
```

*（替换`mytable`为适当的表名）。*

当然，这只会返回现有结果。要计算零行，您可以查找未出现在表格中的答案：

```
SELECT answer, '0' AS cnt FROM answers WHERE answer NOT IN(
    SELECT DISTINCT answer FROM answers JOIN mytable WHERE answer=mytable.atype ); 
```

[这是一个例子。](http://sqlfiddle.com/#!2/ac481/3)

# 解决方案 2：计数器表

另一种方法是使用计数器表：

```
| id | answer | cnt |
---------------------
| 1  | a1     | 0   |
| 2  | a2     | 0   |
etc. 
```

然后每次要计算结果时，请执行以下操作：

```
UPDATE answers SET cnt=0;

UPDATE answers SET cnt=
    (SELECT cnt FROM 
        ((SELECT answers.answer, COUNT(*) AS cnt 
          FROM answers JOIN mytable ON answers.answer=myTable.aType 
          GROUP BY answers.answer) AS tbl) 
     WHERE answers.answer=tbl.answer) 
WHERE EXISTS 
    (SELECT cnt FROM 
        ((SELECT answers.answer, COUNT(*) AS cnt
          FROM answers JOIN mytable ON answers.answer=mytable.atype
          GROUP BY answers.answer) AS tbl) 
     WHERE answers.answer=tbl.answer); 
```

这将更新您的答案表中的计数器值，您`SELECT * FROM answers ORDER BY answer`可以获得结果。

但是请注意：我相信第二个版本虽然方便，但由于需要所有子查询，因此将比第一个版本占用更多的计算能力。

[这是这个例子](http://sqlfiddle.com/#!2/374e9/3)（更新语句在左边！）

# 解决方案 3：写入时更新

在我看来，对于像你这样的用例，最好和性能最低的解决方案是创建一个计数器表，就像我在 #2 中描述的那样，但是**在用户回答问题时更新计数器值**，而不是重新每次您想知道计数时计算所有条目。

这很容易做到。每次正确回答问题时，增加`answers`表中的计数器：

```
UPDATE answers SET cnt=cnt+1 WHERE answers.answer='a1'; 
```

再次，您的查询将是

```
SELECT * FROM answers ORDER BY answer; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:13:41.317

```
select a.atype,count(*) as `Count`
from
 (select 'a1' as atype union all
  select 'a2' as atype union all
  select 'a3' as atype )a
left join <your_table> b
on a.atype =b.atype
group by atype 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:43:58.643

我试图展示所有主要的选择，每个查询后面都有演示链接。链接包含说明

```
select AType,count(*) as Count from tb2
where atype!='' and atype is not null and atype!='0' group by atype 
```

[Link1 (Best One) 计算除 balank 0 和 null 之外的每个（现有）类型的答案](http://sqlfiddle.com/#!2/6d02a/6)

```
select (select count(id) from tb2 where atype='a1') as A1,(select count(id) from
tb2 where atype='a2') as A2,(select count(id) from tb2 where atype='a3') as A3; 
```

[Link2（简单且最适合您）仅计算 a1、a2 或 a3 类型的答案（我的旧方法获得与 link3 相似的结果）](http://sqlfiddle.com/#!2/6d02a/2)

```
select AType,count(*) as Count from tb2
where atype in('a1','a2','a3') group by atype 
```

[Link3 只计算 a1、a2 或 a3 类型的答案。](http://sqlfiddle.com/#!2/6d02a/7)

第一个和最后一个链接不考虑那些完全不存在于数据中的类型。例如，如果没有 a2 类型的答案，那么第一个和第三个查询将只告诉类型 a1 和 a3 的答案数量，并且不会提及 atype=a2 的答案。但是第二个查询确实如此。

# c++ - 从 C++ 应用程序将源命令传递给 bash 的问题

> ID：13392406
> 
> 赞同：0
> 
> 时间：2012-11-15T06:12:08.943
> 
> 标签：c++, bash, qt, command-line, environment-variables

我正在开发一个工作应用程序，允许用户在终端上快速设置环境变量。通过在每个终端中设置路径，我们确保不同目录中具有相同名称的文件不会导致应用程序测试出现问题。我正在使用 Qt 构建基于 c++ 的程序，并且所有数据类型基本相同。

我正在使用以下代码调用终端中的命令，应用程序从该终端中使用*system()*启动。**我可以使用代码在 bash 中运行命令；但是，当我尝试使用带参数的命令时遇到了问题。** *这可能是 source 似乎无法正常工作的原因，因为 source 命令后跟文件名。*看来我删除了 bash 命令后附加的参数。

我的代码：

```
void assignTerminalToPath(QString path)
{
    QString data = "";
    QString currentUsersHomeDirectory = QDir::homePath();
    QString tmpScriptLocation = currentUsersHomeDirectory;
    QByteArray ba;
    tmpScriptLocation += "/.tmpSourceFile";
    QFile tmpSourceFile(tmpScriptLocation);
    if(tmpSourceFile.open(QFile::WriteOnly | QFile::Truncate))
    {
        QTextStream output(&tmpSourceFile);
        data.append("export PATH=.:");
        data.append(path);
        data.append(":$PATH");
        output << QString("#!/bin/bash\n");
        output << data;
        tmpSourceFile.close();
    }
    data.clear();
    data.append("/bin/bash -c source ");
    data.append(tmpScriptLocation);
    ba = data.toLatin1();
    const char *cStr = ba.data();
    system(cStr);
} 
```

也许我没有正确引用 bash 并且我需要 -c 之外的东西？

参考[使用 C/C++ 执行 shell/bash 命令](http://www.serverhostingsecrets.com/tutorials/execute-shell-command-using-cc/)

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:23:00.547

`source`不是你可以调用的程序，它是嵌入的 bash 命令。它被设计为由 bash 处理而不调用另一个 bash 副本，因此可以在当前 bash 副本中更改环境变量。

但是，您不能将 source 作为`system()`. `system()`即使您确实成功了，一旦返回，调用者应用程序更改环境变量的效果将完全丢失。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-15T07:43:07.490

尝试使用双引号将参数括起来的命令（“command - arg1 - to arg2”）以传递到函数 system() 中。

用过的：

char *com = "\"命令 -arg1 -arg2\"";

系统（com）；

# c++ - C++ 模板元编程：模板类型上的编译时间条件运算符

> ID：13392407
> 
> 赞同：3
> 
> 时间：2012-11-15T06:12:24.450
> 
> 标签：c++, templates, reflection, metaprogramming, variant

我正在使用模板元编程来创建 Variant 和 Functor（通用仿函数）数据类型。我有一个有趣的问题，需要以某种方式处理特定参数类型的参数。理想情况下，我想使用某种编译时条件运算符来处理给定参数，如果条件满足，则使用方法 A，如果条件失败，则使用 B。

*高级问题总结*：

*   我需要通过变体的内部值将变体传递给函数指针的调用，或者将变体本身传递给调用，具体取决于预期的参数类型是否为 Variant 类型。

**详情**：

调用 Functor 时，会使用一组 Variants 来模拟函数参数。这是我的 Functor 的重载构造函数之一的示例：

```
Variant operator()( Variant arg0, Variant arg1, Variant arg2 ); 
```

Variant 可以用我传递给它的任何类型的数据来构建。这一切都很好，直到我得到这段代码（这是一个特定的函子调用助手类，用于需要 3 个参数的签名）：

```
template <typename R, typename T0, typename T1, typename T2>
Variant StaticFnCall3( MultiFnPtr fn, Variant& arg0, Variant& arg1, Variant& arg2 )
{
  return reinterpret_cast<typename VoidToType<R>::type(*)(T0, T1, T2)>(fn.StaticFn)( arg0.GetValue<T0>( ), arg1.GetValue<T1>( ), arg2.GetValue<T2>( ) );
} 
```

每个 Functor 存储一个函数指针，函数指针存储在一个名为 MultiFnPtr（多功能指针）的 union 中。当调用 Functor 时，联合被类型转换为适当的签名类型，如上所示。传递给 Functor 的每个 Variant 都通过 GetValue 方法转换为 Variant 中保存的值。这意味着我将在调用期间传递给 Functor 的每个变体的内部数据转换为它们各自的值。要转换为的值的类型是从将模板化的 StaticFnCall 与 MultiFnPtr 的签名匹配推导出来的。

下面是 GetValue 的实现：

```
template <typename TYPE>
const TYPE& VariantBase::GetValue( void ) const
{
  return *reinterpret_cast<TYPE *>(data);
} 
```

问题是我试图将一个函数签名包装在一个将 Variant 作为其参数类型之一的 Functor 中。只要在调用 Functor 时将 Variant 传递给采用 Variant 的参数，这就很好。但是，我需要将任意类型传递给采用 Variant 的参数。然后 GetValue 将用于将任意类型转换为 Variant *，当我希望改为使用 Variant 的构造函数创建一个 Variant 以传递给被调用的函数指针时，这会导致该任意类型的数据被解释为字面上的 Variant函子内。

我一直在尝试想出一种将值直接传递给 StaticFnCall 的函数指针的方法，而不是在相应的模板类型是 Variant 时使用 GetValue。我查找了 std::enable_if 和 sfinae 但正在努力寻找一个解决方案。这是我要实现的伪代码示例：

```
template <typename R, typename T0, typename T1, typename T2>
Variant StaticFnCall3( MultiFnPtr fn, Variant& arg0, Variant& arg1, Variant& arg2 )
{
  return reinterpret_cast<typename VoidToType<R>::type(*)(T0, T1, T2)>(fn.StaticFn)( (IF_IS_VARIANT) ? arg0 : arg0.GetValue<T0>( ), (IF_IS_VARIANT) ? arg1 : arg1.GetValue<T1>( ), (IF_IS_VARIANT) ? arg2 : arg2.GetValue<T2>( ) );
} 
```

**编辑**：

所以我发现我可以使用模板化的全局函数并使用模板专业化以两种方式之一处理参数。但是，这不是编译时解决方案，因为全局函数会导致分支，除非该函数是内联的。

```
template<typename T>
const T ArgHandle( const RefVariant& arg )
{
  return arg.GetValue<T>( );
}

template<>
const Variant ArgHandle<Variant>( const RefVariant& arg )
{
  return Variant( arg );
} 
```

由于函数 ArgHandle 在编译时具有重载分辨率，我想可能有某种方法可以在没有函数调用的情况下实现我想要的行为。采用：

```
#define ARG( NUM ) \
  ArgHandle<T##NUM>( arg##NUM )

template <typename R, typename T0, typename T1, typename T2>
Variant StaticFnCall3( MultiFnPtr fn, RefVariant& arg0, RefVariant& arg1, RefVariant& arg2 )
{
  return reinterpret_cast<typename VoidToType<R>::type(*)(T0, T1, T2)>(fn.StaticFn)( ARG( 0 ), ARG( 1 ), ARG( 2 ) ) );
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T01:02:41.957

我不明白你为什么不只是在这部分问题之后停下来：

```
template <typename TYPE>
const TYPE& VariantBase::GetValue( void ) const
{
  return *reinterpret_cast<TYPE *>(data);
} 
```

并添加一个模板特化`Variant`：

```
template <>
const VariantBase& VariantBase::GetValue<VariantBase>( void ) const
{
  return *this;
} 
```

并完成它。有什么不适合这个吗？似乎您稍后在您的问题中围绕此解决方案进行了讨论，但是到那时您已经引入了无意义的`ArgHandle`函数、宏和辅助函数，这只是一团糟。

就个人而言，我会完全摆脱这个`GetValue`函数，只提供隐式类型转换运算符，这样你就可以编写`fn(arg0, arg1, arg2)`. 但我想这取决于你的代码的其余部分是什么样的。

# c# - 如何将 System.Collections.Specialized.StringCollection 类型转换为字符串 []

> ID：13392411
> 
> 赞同：28
> 
> 时间：2012-11-15T06:12:39.697
> 
> 标签：c#, c#-4.0

我的类库中的一些函数接受`string[]`作为参数。

我想将我的转换`System.Collections.Specialized.StringCollection`为`string[]`.

是否可以使用一些衬里，或者我必须使用循环创建数组？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-11-15T06:15:41.287

使用[StringCollection.CopyTo(string[],index)](http://msdn.microsoft.com/en-us/library/system.collections.specialized.stringcollection.copyto.aspx)将内容复制到字符串数组。**所有 .Net 框架都支持这一点。**

```
System.Collections.Specialized.StringCollection sc = new System.Collections.Specialized.StringCollection();
sc.Add("Test");
sc.Add("Test2");

string[] strArray = new string[sc.Count];
sc.CopyTo(strArray,0); 
```

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-11-15T06:16:32.837

试试这个

```
System.Collections.Specialized.StringCollection strs = new  System.Collections.Specialized.StringCollection();
strs.Add("blah"); 
strs.Add("blah"); 
strs.Add("blah"); 

string[] strArr = strs.Cast<string>().ToArray<string>(); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-11-15T06:17:04.767

这可以解决问题：

```
System.Collections.Specialized.StringCollection sc = new System.Collections.Specialized.StringCollection();
/*sc.Add("A");
sc.Add("B");*/
string[] asArray = sc.Cast<string>().ToArray(); 
```

免责声明：我不知道它的性能特征是什么。

# ios - UICollectionView insertItemsAtIndexPaths：抛出异常

> ID：13392413
> 
> 赞同：4
> 
> 时间：2012-11-15T06:12:50.550
> 
> 标签：ios, uiimageview, uicollectionview

UICollectionView：我做错了。我只是不知道怎么做。

## 我的设置

我在装有 iOS 6.0.1 的 iPhone 4S 上运行它。

## 我的目标

我有一个表格视图，其中一个部分专门用于图像：![表格视图部分的屏幕截图](../Images/60de5599954bc595eddb7df6e8f1460d.png)

当用户点击“添加图片...”单元格时，系统会提示他们从照片库中选择一张图片或使用相机拍摄一张新图片。该应用程序的那部分似乎工作正常。

当用户第一次添加图像时，“无图像”标签将从第二个表格单元格中删除，并在其位置添加以编程方式创建的 UICollectionView。那部分似乎也工作正常。

集合视图应该显示他们添加的图像，这就是我遇到麻烦的地方。（我知道随着图像数量的增加，我将不得不跳过一些障碍来让表格视图单元格自行放大。我还没有那么远。）

当我尝试将项目插入集合视图时，它会引发异常。稍后再谈。

## 我的代码

我有负责表视图的 UITableViewController 也充当集合视图的委托和数据源。这是相关代码（我省略了我认为与此问题无关的控制器位，包括方法中的行，例如`-viewDidLoad`。我也省略了大部分图像采集代码，因为我认为它不相关）：

```
#define ATImageThumbnailMaxDimension 100

@interface ATAddEditActivityViewController ()
{
    UICollectionView* imageDisplayView;
    NSMutableArray* imageViews;
}

@property (weak, nonatomic) IBOutlet UITableViewCell *imageDisplayCell;
@property (weak, nonatomic) IBOutlet UILabel *noImagesLabel;
@end

@implementation ATAddEditActivityViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    UICollectionViewFlowLayout* flowLayout = [[UICollectionViewFlowLayout alloc] init];
    flowLayout.scrollDirection = UICollectionViewScrollDirectionVertical;

    imageDisplayView = [[UICollectionView alloc] initWithFrame:CGRectMake(0, 0, 290, 120) collectionViewLayout:flowLayout];  // The frame rect still needs tweaking
    imageDisplayView.delegate = self;
    imageDisplayView.dataSource = self;
    imageDisplayView.backgroundColor = [UIColor yellowColor];  // Just so I can see the actual extent of the view
    imageDisplayView.opaque = YES;
    [imageDisplayView registerClass:[UICollectionViewCell class] forCellWithReuseIdentifier:@"Cell"];

    imageViews = [NSMutableArray array];
}

#pragma mark - UIImagePickerDelegate
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    /* ...code defining imageToSave omitted... */

    [self addImage:imageToSave toCollectionView:imageDisplayView];

    [self dismissModalViewControllerAnimated:YES];
}

#pragma mark - UICollectionViewDelegate
- (BOOL)collectionView:(UICollectionView *)collectionView shouldShowMenuForItemAtIndexPath:(NSIndexPath *)indexPath
{
    return YES;
}

#pragma mark - UICollectionViewDatasource
- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
    UICollectionViewCell* cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"Cell" forIndexPath:indexPath];
    [[cell  contentView] addSubview:imageViews[indexPath.row]];
    return cell;
}

- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
{
    return [imageViews count];
}

#pragma mark - UICollectionViewDelegateFlowLayout
- (CGSize)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout*)collectionViewLayout sizeForItemAtIndexPath:(NSIndexPath *)indexPath
{
    return ((UIImageView*)imageViews[indexPath.item]).bounds.size;
}

#pragma mark - Image Handling
- (void)addImage:(UIImage*)image toCollectionView:(UICollectionView*)cv
{
    if ([imageViews count] == 0)  {
        [self.noImagesLabel removeFromSuperview];
        [self.imageDisplayCell.contentView addSubview:cv];
    }

    UIImageView* imageView = [[UIImageView alloc] initWithImage:image];
    /* ...code that sets the bounds of the image view omitted... */

    [imageViews addObject:imageView];
    [cv insertItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:[imageViews count]-1 inSection:0]]];
    [cv reloadData];
}

@end 
```

总结一下：

*   集合视图在`-viewDidLoad`方法中实例化和配置
*   接收所选图像调用的 UIImagePickerDelegate 方法`-addImage:toCollectionView`
*   ...创建一个新的图像视图来保存图像并将其添加到数据源数组和集合视图中。这是产生异常的行。
*   UICollectionView 数据源方法依赖于 imageViews 数组。

## 例外

> 由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：“无效更新：第 0 节中的项目数无效。更新 (1) 后现有节中包含的项目数必须等于该节中包含的项目数更新前的部分 (1)，加上或减去从该部分插入或删除的项目数（1 插入，0 删除），加上或减去移入或移出该部分的项目数（0 移入，0 移动出去）。'

如果我解析正确，这告诉我的是（全新的！）集合视图认为它是用单个项目创建的。所以，我添加了一个日志`-addImage:toCollectionView`来测试这个理论：

```
NSLog(@"%d", [cv numberOfItemsInSection:0]); 
```

有了那条线，就永远不会抛出异常！调用`-numberOfItemsInSection:`必须强制集合视图查询其数据源并意识到它没有项目。或者其他的东西。我在这里推测。但是，好吧，无论如何：此时集合视图仍然不显示任何项目，所以我仍然做错了什么，我不知道是什么。

## 综上所述

1.  当我尝试将项目添加到新创建和插入的集合视图时，我遇到了一个奇怪的异常......除非我`-numberOfItemsInSection:`在尝试插入之前调用。
2.  即使我设法通过一个阴暗的解决方法来克服异常，这些项目仍然不会显示在集合视图中。

抱歉小说的问题。有任何想法吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-07-22T23:42:49.637

不幸的是，接受的答案是不正确的（尽管它在正确的轨道上）；问题是您在应该刚刚插入项目时调用了 reloadData 和 insertItems。所以而不是：

```
[imageViews addObject:imageView];
[cv insertItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:[imageViews count]-1 inSection:0]]];
[cv reloadData]; 
```

做就是了：

```
[imageViews addObject:imageView];
[cv insertItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:[imageViews count]-1 inSection:0]]]; 
```

这不仅会给你一个很好的动画，它可以防止你低效地使用 tableview（在 1-cell 集合视图中不是什么大问题，但对于更大的数据集来说是一个大问题），并避免像你看到的那样崩溃，其中两种方法都试图修改集合视图（其中一种——reloadData——与其他方法不兼容）。

顺便说一句，reloadData 对 UICollectionView 不是很友好；如果您确实有一个相当大的和/或复杂的集合，并且在调用 reloadData 之前或之后不久发生了插入，则插入可能会在 reloadData 完成之前完成——这将可靠地导致“无效的项目数”崩溃（同样如此用于删除）。调用 reloadSections 而不仅仅是 reloadData 似乎有助于避免这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-19T16:05:50.097

面临同样的问题，但我的原因是我忘记将集合视图数据源连接到视图控制器

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-15T19:19:30.207

这是因为 [单元格计数] 不等于 [实际索引计数] + [插入索引]。有时 dispatch_async 不包括数组插入数据和 insertItemsAtIndexPaths 的块。我遇到了有时崩溃的问题。它不会导致每次崩溃。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-15T15:14:16.283

只是一个猜测：在您插入第一张图像时，集合视图可能尚未加载其数据。但是，在异常消息中，集合视图声称“知道”插入之前的项目数 (1)。因此，它可能会延迟加载其数据`insertItemsAtIndexPaths:`并将结果作为“之前”状态。此外，您不需要在插入后重新加载数据。

长话短说，移动

```
[cv reloadData]; 
```

最多得到

```
if ([imageViews count] == 0)  {
    [self.noImagesLabel removeFromSuperview];
    [self.imageDisplayCell.contentView addSubview:cv];
    [cv reloadData];
} 
```

# php - mysqli_num_rows() 需要参数，尽管同一页面上的早期查询有效

> ID：13392427
> 
> 赞同：1
> 
> 时间：2012-11-15T06:14:31.220
> 
> 标签：php, mysql, phpmyadmin, mysqli

在我的 MySQL 数据库中查询表时出现错误。当传递的变量中没有值时，这是标准的 mysqli_num_rows ：

```
Warning: mysqli_num_rows() expects parameter 1 to be mysqli_result, boolean given in folder/file.php on line 29 
```

问题是我找不到语法错误。我已经看过很多次了。这是我的代码：

```
$sql_messages = "SELECT * FROM messages WHERE to='$userid'";
$result_messages = $mysqli->query($sql_messages);
$num_rows_messages = mysqli_num_rows($result_messages); 
```

我尝试了一个 fetch 数组，但这给了我类似的错误。我想没有任何东西传递到 $result_messages 中。我回显了 $userid，它有一个值，我检查了我的数据库，有一个表 'messages' 和一个字段'to'。我已连接到正确的数据库，因为在此查询之前我有此代码：

```
$sql="SELECT * FROM users WHERE firstname='$firstname' && lastname='$lastname'";
$result = $mysqli->query($sql);
$row = mysqli_fetch_array($result); 
```

这很好用。这是页面上的第三个查询，是否有某种限制？有没有人看到我忽略的语法错误？谢谢，如果是小错误，请见谅！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T06:17:40.663

这是因为`$mysqli->query()`返回了 boolean `FALSE`，[根据`mysqli::query()`docs](http://php.net/manual/en/mysqli.query.php)，它在发生错误时会执行。您可以通过访问[`$mysqli->errno`](http://php.net/manual/en/mysqli.errno.php)和获取有关错误的更多详细信息[`$mysqli->error`](http://php.net/manual/en/mysqli.error.php)。

我猜问题的根源在于查询引用了一个名为 的列`to`，这是一个[MySQL 保留字](https://dev.mysql.com/doc/refman/5.6/en/reserved-words.html)。尝试`to`用反引号将查询中的单词括起来。像这样：

```
$sql_messages = "SELECT * FROM messages WHERE `to`='$userid'"; 
```

确实，尽管您应该避免命名列和表的保留字。如果可行，请考虑重命名该列。

# jquery - 悬停在跨度上时如何附加类

> ID：13392428
> 
> 赞同：0
> 
> 时间：2012-11-15T06:14:34.107
> 
> 标签：jquery

**我的 HTML**

```
<span class="lead_button">
  <img class="NFButtonLeft" src="/templates/web/images/0.png">
  <button type="submit" class="NFButton" id="cf_ce-submit-button">Send</button>
  <img src="/templates/web/images/0.png" class="NFButtonRight">
</span> 
```

我想做的是，当我想添加一个名为 and 的类时，`hover`我想添加一个类。所以最终的输出看起来像这样`span``NFh``images``button`

```
<span class="lead_button">
  <img class="NFButtonLeft NFh" src="/templates/web/images/0.png">
  <button type="submit" class="NFButton NFh" id="cf_ce-submit-button">Send</button>
  <img src="/templates/web/images/0.png" class="NFButtonRight NFh">
</span> 
```

如何使用 jQuery 实现这一点？多谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:32:32.920

这正是您所需要的。

```
<script>
$(document).ready(function() {
    $('.lead_button').hover(function(){
        $(this).children().each(function(){
            $(this).addClass("NFh");

        });
    });
    $('.lead_button').mouseout(function(){
        $(this).children().each(function(){
            $(this).removeClass("NFh");

        });
    });
});
</script>
<span class="lead_button">
    <img class="NFButtonLeft" src="/templates/web/images/0.png">
    <button type="submit" class="NFButton" id="cf_ce-submit-button">Send</button>
    <img src="/templates/web/images/0.png" class="NFButtonRight">
</span> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:17:51.797

尝试

```
$(document).ready(function() {
    $('span.lead_button').hover(function() {
        $(this).find('img, button').removeClass('NFH').addClass('NFH');
    });
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T06:18:47.963

```
$("span").hover(function() {
    $(this).children().addClass("NFh");
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:19:04.997

```
$('.lead_button').hover(
    // Event on Mouse Hover
    function(){
       $(this).find('img').addClass('NFh');
       $(this).find('#cf_ce-submit-button').addClass('NFh');
    }, 
   // Event on Mouse Out
   //function(){
      // Event goes here
   //}
); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:20:06.680

您可以使用`.find()`函数来捕获跨度内的按钮和图像元素。

```
$('span.lead_button').hover(function(){  
      $(this).find('img, button').addClass('NFH'); 
}); 
```

**[检查小提琴](http://jsfiddle.net/sushanth009/KYMrA/)**

# javascript - “_gaq 未定义” IE7 和 IE8 中的 Google Analytics 错误

> ID：13392438
> 
> 赞同：3
> 
> 时间：2012-11-15T06:15:44.693
> 
> 标签：javascript, google-analytics, google-analytics-api

我**得到 _gaq is undefined** error in IE7 和 IE8

我的脚本如下

```
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-XXXXX']);
    _gaq.push(['_setDomainName', 'yyy.com']);
    _gaq.push(['_trackPageview']); 
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js?';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script> 
```

我可以为 _gaq 分配默认值吗？ [参考这个链接](https://stackoverflow.com/questions/3104622/what-does-this-mean-var-gaq-gaq)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-16T20:38:21.717

Based on your reply to my comment, the answer to this question is

Google Analytics moved to a new, more modern way of handling events several years ago, allowing browsers to load a complete page without having to wait for a response from the GA servers. Whereas in the past, you were guided to put the `<script>` snippet provided by google near the end of the page (just before the closing body tag), now you should instead include the tag somewhere in the `<head>` section of your HTML.

The new script works by defining a javascript variable `_gaq` as an array, that is treated like a queue. Pageviews, events and other stuff you want to track is pushed onto the array, which is effectively instant. When there is time, the GA code will check the array for contents and pop them off, processing the requests to the GA server until the array is empty.

A side effect of the `_gaq` variable is that the script tag must be in the HTML before it is referenced, or else you'll get the JS error `_gaq is undefined`.

For example [as documented here in the Google Analytics event tracking guide](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#SettingUpEventTracking) you might want to know when a user plays a video on your site like this:

```
<a href="#" onClick="_gaq.push(['_trackEvent', 'Videos', 'Play', 'Baby\'s First Birthday']);">Play</a> 
```

Notice the reference to the variable `_gaq` here. If not defined already, you'll get the error.

Short answer: put the async javascript snippet in the `<head>` of your HTML.

# asp.net - 如何在网格视图中设置模板字段的样式（附加 aspx 页面和 CSS）

> ID：13392441
> 
> 赞同：4
> 
> 时间：2012-11-15T06:15:46.700
> 
> 标签：asp.net, css, gridview, styles

我正在尝试设置我的第二列“导师名称”的样式，因为我使用了 css 它为整个网格提供了样式我还尝试了“控制样式 css 类 =（其他一些 css 文件）”和“项目样式水平对齐 = 右”并且还更改属性 align = right 通过在 css 文件中使用 # 但模板字段不允许“id”实现 css 我的 .aspx 页面和 css ar 下面，

```
.mGrid {   
    width: 100%;   
    background-color: #fff;   
    margin: 0px 0 0px 0;   
    border:  0px #525252;   

}  

.mGrid table
{
    border:0px;
}

.mGrid td {   
    padding: 2px;   
    border-width:  0px ;   
    background-color:#3A3F3E;
    color: #fff;   
    text-align:left;
}  
td#Mname  {   
    text-align:left;
}  
.mGrid th {   
    padding: 4px 2px;   
    color: #fff;  
    background-color:#3A3F3E; 
    border-width: 0px ;   
    font-size: 0.9em;   
    text-align:center;
}  

<asp:GridView  Width="300px" ID="GridView1" runat="server" AutoGenerateColumns="False"
                    Font-Size="10pt" OnRowCreated="GridView1_RowCreated" CssClass="mGrid">
                    <Columns>
                        <asp:BoundField DataField="mentor_id" HeaderText="Image" />
                        <asp:TemplateField HeaderText="Image">
                            <ItemTemplate>
                                <asp:Image ID="Image2" runat="server" ImageUrl="~/images/small_image.png" />
                            </ItemTemplate>
                        </asp:TemplateField>

                        <asp:TemplateField  HeaderText="Mentor Name">
                        <ItemTemplate>
                            <asp:Label ID="Label1" Text='<%#Eval("mentor_FirstName")+ "</br> " + "<b>Experience: </b>"+Eval("mentor_experience") %> ' runat="server"></asp:Label>
                        </ItemTemplate>
                        </asp:TemplateField>
                    </Columns>
                </asp:GridView> 
```

希望您的建议提前谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T06:22:24.853

使用`td+td`它将应用于第二`td`个网格。

```
.mGrid td+td {   
     text-align:left !important;
}
.mGrid td+td+td {   
     text-align:left !important;
} 
```

这是一个很好的帖子。 [使用 css 为表格中的最后一个 td 设置样式](https://stackoverflow.com/questions/359821/styling-the-last-td-in-a-table-with-css)

# sencha-touch-2 - 我可以使用直接加载模型，但不能从其他服务器加载

> ID：13392443
> 
> 赞同：0
> 
> 时间：2012-11-15T06:15:57.547
> 
> 标签：sencha-touch-2

```
 **I am getting result for the below coding** 
                Ext.define('User', {
                    extend: 'Ext.data.Model',
                    fields: ['id', 'name', 'age'],
                    proxy: {
                        type: 'rest',
                        url : 'http://localhost:8085/sencha-touch-2.0.1.1-gpl/sencha-touch-2.0.1.1/docs/guides/data/examples/model_with_proxy/data/users/',
                        reader: {
                            type: 'json',
                            root: 'users'
                        }
                    }
                });
                **But when i try to get from other server i can't.I have tried this coding given below**
                Ext.define('User', {
                    extend: 'Ext.data.Model',
                    fields: ['id', 'name', 'age'],
                    proxy: {
                        type: 'jsonp',
                        url : 'http://docs.sencha.com/touch/2-1/guides/data/examples/model_with_proxy/data/users/',
                        reader: {
                            type: 'json',
                            root: 'users'
                        }
                    }
                });
                var userStore;
                Ext.require('Ext.data.Store');
                Ext.onReady(function() {
                    // Uses the User Model's Proxy
                    userStore = Ext.create('Ext.data.Store', {
                        model: 'User',
                        autoLoad: true
                    });
                     // Gives us a reference to the User class
                    var User = Ext.ModelMgr.getModel('User');
                        var ed = Ext.create('User', {
                        name: 'Ed Spencer',
                        age : 25
                    });
                        // We can save Ed directly without having to add him to a Store first because we
                    // configured a RestProxy this will automatically send a POST request to the url data/users
                    ed.save({
                        success: function(ed) {
                            console.log("Saved Ed! His ID is "+ ed.getId());
                        }
                    });

                    // Load User 1 and do something with it (performs a GET request to /users/1)
                    User.load(1, {
                        success: function(user) {
                            console.log("Loaded user 1: " + user.get('name'));
                        }
                    });
                    }); 
```

**我收到错误** Uncaught TypeError: Object [object Object] has no method 'writeRecords' ext-all.js:18 资源解释为脚本但使用 MIME 类型 text/html 传输：“http://docs.sencha.com/ touch/2-1/guides/data/examples/model_with_proxy/data/users/?_dc=1352957198178&page=1&start=0&limit=25&callback=Ext.data.JsonP.callback1"。ext-all.js:18 Uncaught SyntaxError: Unexpected token :

如果有人知道可以和我分享

# php - 如何解决这些警告？

> ID：13392445
> 
> 赞同：0
> 
> 时间：2012-11-15T06:16:14.437
> 
> 标签：php, wordpress

我正在使用 WordPress 主题滑块，在此我使用了piecemaker。谁能帮我吗？

> 警告：include() [function.include]: URL file-access is disabled in server configuration in ..wp-content\themes\TheProfessional\page-full.php on line 8
> 
> 警告：包括（http://localhost/caterer/wp-content/plugins/theme-slider/wp-theme-slider.php）[function.include]：无法打开流：在..中找不到合适的包装器wp-content\themes\TheProfessional\page-full.php 在第 8 行
> 
> 警告：include() [function.include]：无法打开“http://../wp-content/plugins/theme-slider/wp-theme-slider.php”以包含（include_path='.;Drive:\ xampp\php\pear\') 在第 8 行的 ..\wp-content\themes\TheProfessional\page-full.php

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T11:11:31.013

这是因为包含使用 url (http://) 的文件是此错误背后的原因。您必须使用文件的目录路径而不是 url 路径来包含文件。由于文件来自某个插件和主题，因此将您的代码更改为此

```
include(bloginfo('template_directory').'/page-full.php');
include (WP_PLUGIN_DIR.'/theme-slider/wp-theme-slider.php'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:28:12.633

您的指令 allow_url_include 已关闭，如果您可以控制您的主机，则需要在 php.ini 配置中打开它并重新启动 apache，如果您无法直接访问您的主机，您可以在在 wordpress 的根文件夹中的 index.php 文件的顶部打开它。

```
ini_set(‘allow_url_fopen’,'ON’); 
```

如果没有按概述工作 - 这是更详细的博客文章： [附加信息](http://goffgrafix.com/blog/index.php/2010/04/if-your-server-sets-the-allow_url_fopen-and-allow_url_include-php-directives-off/)

# c - 将 void * 分配和取消引用 C 中的数组指针

> ID：13392448
> 
> 赞同：1
> 
> 时间：2012-11-15T06:16:28.433
> 
> 标签：c, arrays, pointers, void-pointers

我有一个指向固定大小整数元素数组的指针。填充该数组后，我将其分配给 void *pBuff。稍后，我需要通过 void 指针访问数组元素，但我没有这样做。

这是使用C的代码：

```
void * pBuff = NULL;

int
set_data(void *pBuff)
{
    int ptr = 10, i;
    int phy_bn[8] = {0};
    int (*pPB)[8];

    for(i=0; i<8; i++){
        phy_bn[i] = ptr;
    }

    pPB = &phy_bn;
    pBuff = pPB;

    return 0;
}

int main()
{
    int i;

    set_data(&pBuff);

    for(i =0 ; i <8; i++){
         printf("\ndata : %d\n", *(int *)pBuff[i]);
    }
    return 0;
} 
```

它会针对 *(int *)pBuff[i]提示将*“void”术语错误转换为非“void” 。*

任何帮助将不胜感激。

谢谢，

-山姆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:25:26.173

除了您需要使用的事实之外：

```
((int*)pBuff)[i] 
```

您在代码中拥有的是**Undefined Behavior**。

```
pBuff = pPB; 
```

`pBuff`指向函数本地的数组，其生命周期不存在于函数范围之外。所以你有一个指针指向一些不需要存在但有时似乎存在的东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T06:20:33.917

您可能应该取消引用`*`or `[]`，*而不是*同时使用 :-)

如果您的意图是在`i`指向`int`s 的 void 指针的该位置获取整数，请使用：

```
((int*)pBuff)[i] 
```

`((int*)pBuff)`变成`pBuff`指向整数的指针，后面`[i]`的指针`i`在该位置获取第 ' 个整数。

所以你的循环是：

```
for (i = 0 ; i < 8; i++)
     printf ("\ndata : %d\n", ((int*)pBuff)[i]); 
```

* * *

您可能应该注意的另一件事是返回指向基于堆栈的变量的指针。这些变量在函数退出时*消失*，此时取消引用指向它们的指针是未定义的行为。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:20:10.767

`pBuff[i]`是非法的，因为`pBuff`是`void*`. 这是运算符优先级的问题：

```
((int *)pBuff)[i] 
```

您不需要`pBuff`再次取消引用第一个`*`，因为`[i]`已经这样做了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:24:02.827

它应该是

```
void * pBuff = NULL;

int
set_data(void *pBuff)
{
    int ptr = 10, i;
    int *phy_bn = (int*)malloc(sizeof(int)*8);
    //this is needed so that it is valid for pBuff to point phy_bn even if it is getting out of scope

    for(i=0; i<8; i++){
        phy_bn[i] = ptr;
    }

    pBuff = phy_bn;

    return 0;
}

int main()
{
    int i;

    set_data(&pBuff);

    for(i =0 ; i <8; i++){
         printf("\ndata : %d\n", ((int*)pBuff)[i]);
    }
    return 0;
} 
```

# asp.net-mvc - 创建可以轻松集成到现有应用程序中的 MVC 应用程序

> ID：13392449
> 
> 赞同：0
> 
> 时间：2012-11-15T06:16:28.767
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我创建了一个自定义 MVC 论坛应用程序。但我开始认为，虽然它按原样工作得很好，但我需要让它在其他 MVC 应用程序中工作（事实上我已经被问到过）。

MVC 应用程序构建/开发以使其尽可能容易地集成到现有 MVC 应用程序的最佳方式是什么？

领域？从一开始就在子文件夹中开发？或者只是你必须在必要时处理并合并配置/控制器冲突。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T11:10:01.060

无需 Config 或 ... 。你只需要在你的登录模型和它的控制器中创建能力。一个完整的示例是在 Asp.net MVC 4 中，Microsoft 添加了更多库以从其他站点/配置文件进行身份验证。该模型还更改了一些属性。看到这个技术或者下载 MVC 4 框架来学习它。这很简单。

# eclipse - 将 Devloader 用于 Tomcat 7 时出错

> ID：13392453
> 
> 赞同：0
> 
> 时间：2012-11-15T06:16:51.653
> 
> 标签：eclipse, tomcat7

我刚刚关注[了这篇](http://docs.codehaus.org/display/TYNAMO/Developing+with+Tomcat+and+Eclipse)文章，并收到以下错误。到目前为止，谷歌搜索没有帮助。请建议：

2012 年 11 月 15 日下午 2:06:51 org.apache.catalina.core.AprLifecycleListener init INFO：在 java.library.path: .:/ 上找不到允许在生产环境中获得最佳性能的基于 APR 的 Apache Tomcat Native 库Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java Nov 15, 2012 2:06:51 PM org.apache.coyote.AbstractProtocol init INFO: Initializing ProtocolHandler ["http-bio-8080 "] 2012 年 11 月 15 日下午 2:06:51 org.apache.coyote.AbstractProtocol init INFO: Initializing ProtocolHandler ["ajp-bio-8009"] 2012 年 11 月 15 日下午 2:06:51 org.apache.catalina.startup .Catalina 加载信息：初始化在 1569 毫秒内处理 2012 年 11 月 15 日下午 2:06:52 org.apache.catalina.core.StandardService startInternal INFO：启动服务 Catalina 2012 年 11 月 15 日下午 2:06:52 org.apache.catalina .core.StandardEngine startInternal 信息：启动 Servlet 引擎：Apache Tomcat/7.0.32 Nov 15, 2012 2:06:52 PM org.apache.catalina.startup.HostConfig deployDescriptor 信息：部署配置描述符 /usr/local/apache-tomcat-7.0.32/conf/ Catalina/localhost/MavenWeb.xml 2012 年 11 月 15 日下午 2:06:52 org.apache.tomcat.util.digester.Digester startElement 严重：开始事件抛出错误 java.lang.VerifyError：类 org.apache.catalina.loader。 DevLoader 在 java.lang.ClassLoader.defineClassCond(ClassLoader.java:631) 在 java.lang.ClassLoader.defineClass(ClassLoader.java:615) 覆盖 java.lang.ClassLoader.defineClass1(Native Method) 的 final 方法 start.()V ) 在 java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141) 在 java.net.URLClassLoader.defineClass(URLClassLoader.java:283) 在 java.net.URLClassLoader.access$000(URLClassLoader.java:58) 在 java.net.URLClassLoader$1.run(URLClassLoader.java:197) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:190) at java.lang.ClassLoader.loadClass(ClassLoader .java:306）在 java.lang.ClassLoader.loadClass(ClassLoader.java:247) 在 org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:144) 在 org.apache.tomcat.util。 com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) 上 com.sun.org.apache.xerces.internal 上的 digester.Digester.startElement(Digester.java:1276)。 com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) 上的 parser.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179)。org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2756) 在 com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647) 在 com。 sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) 在 com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) 在 com. sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) 在 com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) 在 com. sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) 在 com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser。解析（SAXParserImpl.java:522）在 org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537) 在 org.apache.catalina.startup.ContextConfig.processContextConfig(ContextConfig.java:635) 在 org .apache.catalina.startup.ContextConfig.contextConfig(ContextConfig.java:599) 在 org.apache.catalina.startup.ContextConfig.init(ContextConfig.java:837) 在 org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig .java:387）在 org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) 在 org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) 在 org.apache.catalina。 org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:110) 中的 org.apache.catalina.util.LifecycleBase 中的 util.LifecycleBase.setStateInternal(LifecycleBase.java:401)。从 org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901) 在 org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877) 在 org.apache 开始(LifecycleBase.java:139) .catalina.core.StandardHost.addChild(StandardHost.java:633) 在 org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:655) 在 org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig .java:1628) 在 java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) 在 java.util.concurrent 的 java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)。 FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java .lang。Thread.run(Thread.java:680) Nov 15, 2012 2:06:52 PM org.apache.catalina.startup.HostConfig deployDescriptor 严重：错误部署配置描述符 /usr/local/apache-tomcat-7.0.32/conf /Catalina/localhost/MavenWeb.xml java.lang.VerifyError：类 org.apache.catalina.loader.DevLoader 覆盖 java.lang.ClassLoader 处的最终方法 start.()V.defineClass1(Native Method) 处 java.lang.ClassLoader .defineClassCond(ClassLoader.java:631) at java.lang.ClassLoader.defineClass(ClassLoader.java:615) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141) at java.net.URLClassLoader.defineClass(URLClassLoader. java:283) 在 java.net.URLClassLoader.access$000(URLClassLoader.java:58) 在 java.net.URLClassLoader$1.run(URLClassLoader.java:197) 在 java.security.AccessController。doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:190) at java.lang.ClassLoader.loadClass(ClassLoader.java:306) at java.lang.ClassLoader.loadClass(ClassLoader.java:247)在 org.apache.tomcat.util.digester.ObjectCreateRule.begin(ObjectCreateRule.java:144) 在 org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276) 在 com.sun.org.apache .xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) 在 com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179) 在 com.sun.org.apache .xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) 在 com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver。next(XMLDocumentFragmentScannerImpl.java:2756) 在 com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647) 在 com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl。 scanDocument(XMLDocumentFragmentScannerImpl.java:511) 在 com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) 在 com.sun.org.apache.xerces.internal.parsers.XML11Configuration。在 com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser 的 com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) 解析 (XML11Configuration.java:737)。在 org.apache.tomcat.util.digester.Digester.parse( Digester.java：1537) 在 org.apache.catalina.startup.ContextConfig.processContextConfig(ContextConfig.java:635) 在 org.apache.catalina.startup.ContextConfig.contextConfig(ContextConfig.java:599) 在 org.apache.catalina.startup.ContextConfig .init(ContextConfig.java:837) 在 org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:387) 在 org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) 在 org. apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) 在 org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:401) 在 org.apache.catalina.util.LifecycleBase.init(LifecycleBase. java:110) 在 org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139) 在 org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901）在 org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877) 在 org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633) 在 org.apache.catalina.startup.HostConfig .deployDescriptor(HostConfig.java:655) at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1628) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) 在 java.util.concurrent.FutureTask.run(FutureTask.java:138) 在 java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor. java:886) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) 在 java.lang.Thread.run(Thread.java:680) 2012 年 11 月 15 日下午 2:06:52 组织。 apache.coyote.AbstractProtocol 开始信息：启动 ProtocolHandler ["http-bio-8080"] 2012 年 11 月 15 日下午 2:06:52 org.apache.coyote.AbstractProtocol 开始信息：启动 ProtocolHandler ["ajp-bio-8009"] 2012 年 11 月 15 日 2:06： 52 PM org.apache.catalina.startup.Catalina 启动信息：服务器在 243 毫秒内启动

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-20T15:18:10.210

我通过使用 Sysdeo Eclipse Tomcat Launcher 插件 ( [http://www.eclipsetotale.com/tomcatPlugin.html#A3](http://www.eclipsetotale.com/tomcatPlugin.html#A3) ) 的 3.3 版解决了这个问题。

为此，DevLoader.jar 需要位于 TOMCAT_HOME/lib 中。

你会注意到在这个插件的 v3.3 中，有一个 DevLoader.zip 和一个 DevloaderTomcat7.jar。我将 DevloaderTomcat7.jar 复制到 TOMCAT_HOME/lib 并将其重命名为 DevLoader.jar（可能替换现有的 jar）。这解决了我的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-24T08:54:54.543

是的，我也明白。正如eeuser 回答的那样，您应该更新Sysdeo Eclipse Tomcat，复制DevloaderTomcat7.jar 并重命名为DevLoader.jar。

如果文件 ${appName}.xml 存在，则需要将其删除并再次更新上下文。

# jquery - 使用复选框和下拉列表的值检索数据表中的选定行并传递到控制器

> ID：13392457
> 
> 赞同：0
> 
> 时间：2012-11-15T06:17:24.043
> 
> 标签：jquery, asp.net-mvc-4, jquery-plugins, jquery-datatables

我的视图中有一个数据表（使用[Datatables 插件](http://www.datatables.net)）。它有一个称为多选的功能，效果很好。我可以选择多行。

我想知道如何将我选择的行发送到控制器。我正在使用 Jquery 来呈现表体。这是我到目前为止所做的代码。

```
<script type="text/javascript" charset="utf-8">
    $(document).ready(function () {
        $.get(
       '/Food/GetAllChild',
       function (data) {               
           var htmlstmp = "";
           for (var i = 0; i < data.length; i = i + 1) {
               htmlstmp += "<tr class=''>";
               htmlstmp += " <td>";
               htmlstmp += "<div class='divslno'>";
               htmlstmp += "<div class='tdlabel'>" + data[i].ChildId +"</div> </div>";
               htmlstmp += "</td>";  
               htmlstmp += "<td>";
               htmlstmp += "<div class='divname'>";
               htmlstmp += "<div class='tdlabel'>"+ data[i].Child_Name +"</div> </div>";
               htmlstmp += "</td>";
               htmlstmp += "<td>";
               htmlstmp += "<div class='divdeliveryitem'>";
               htmlstmp += "<select class='fordivdeliveryitemselector' id='" + data[i].ChildId + "'>";
               htmlstmp += "<option class='foodlist'>Select</option>"; 
               htmlstmp += "<option class='foodlist'>Menu 1</option>";                       
               htmlstmp += "</select>";
               htmlstmp += "</div>";
               htmlstmp += "</td>";
               htmlstmp += "<td>";
               htmlstmp += "<div class='deliverystatusrow1'>";
               htmlstmp += " <input type='checkbox' class='deliverystatuschb' value='false' />"; 
               htmlstmp += "</div>";
               htmlstmp += "</td>";
               htmlstmp += "<td>";
               htmlstmp += "<div class='divedit' id='" + data[i].ChildId + "'>EDIT </div>";
               htmlstmp += "</td>";
               htmlstmp += "<td>";
               htmlstmp += "<div class='selectedfoodchild' id='" + data[i].ChildId + "'>" + data[i].ChildId + "</div>";
               htmlstmp += "</td>";
               htmlstmp += "</tr>";
           }
           $('#childfoodattendancetbody').append(htmlstmp);

           var oTable = $('#example').dataTable({
               "iDisplayLength": 5,
               "bSort": false
           });
           $("#dt_example_fud tbody tr").click(function (e) {
               var nTr = $(this).parents('tr')[0];
               if ($(this).hasClass('row_selected')) {
                   $(this).removeClass('row_selected');
               }
               else {

                   $(this).addClass('row_selected');
               }
           });
           $("#btnsaveall").click(function () {
               var datatopost = new Object();

               var foodcategory = $('#foodcategory').val();
               var datetoday = $('#datetoday').val();

               if (foodcategory == "Select") {

                   alert("Please select Food Category");
               }
               else {

                   $("#example .row_selected").each(function (i, item) {

                       var chidltdid = $(item).find("td .tdlabel:eq(0)").html();
                       var newimenuid = $(item).find("td .selectedfoodchild#" + chidltdid + " :eq(5)").html();

                       datatopost["[" + i + "].ChildId"] = $(item).find("td .tdlabel:eq(0)").html();
                       datatopost["[" + i + "].Fooddelivery_Date"] = datetoday;
                       datatopost["[" + i + "].FoodDelivery_Type"] = foodcategory;  
                       datatopost["[" + i + "].FoodMenuId"] = $(item).find("td .selectedfoodchild#"+chidltdid+" :eq(5)").html();
                       datatopost["[" + i + "].FoodDelivery_Status"] = $(item).find("td .deliverystatuschb :eq(3)").attr("value");
                   }); 
               }                   

           });
            $.ajax({
                url: '@Url.Action("InsertData")',
                type: 'POST',
                traditional: true,
                data: datatopost,
                dataType: "html",
                success: function (response) {
                }
            });
</script> 
```

没有得到对象“ `datatopost`”中的复选框和下拉列表的值`$("#btnsaveall").click(function () {} )`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:20:20.770

这是一个简单的方法。使用jquery的serialize()方法

```
$.ajax({
            url: '@Url.Action("InsertData")',
            type: 'POST',
            traditional: true,
            data: $('#form_id').serialize(),// Take a look at  this
            dataType: "html",
            success: function (response) {
            }
        }); 
```

在控制器中

利用

```
echo '<pre>';
print_R($_POST); 
```

# javascript - jQuery：选择所有具有自定义属性的元素

> ID：13392463
> 
> 赞同：95
> 
> 时间：2012-11-15T06:18:19.970
> 
> 标签：javascript, jquery, jquery-selectors

> **可能重复：**
> [jQuery，按属性值选择，添加新属性](https://stackoverflow.com/questions/3724245/jquery-select-by-attribute-value-adding-new-attribute)
> [jQuery - 如何按属性选择](https://stackoverflow.com/questions/9210073/jquery-how-to-select-by-attribute)

请考虑以下代码：

```
<p>11111111111111</p>
<p MyTag="nima">2222222222</p>
<p>33333333333</p>
<p MyTag="Sara">>4444444444</p> 
```

我如何选择所有`p`带有属性的标签`MyTag`？

谢谢

* * *

## 回答 #1

> 赞同：201
> 
> 时间：2012-11-15T06:20:15.653

使用[“具有属性”选择器](http://api.jquery.com/has-attribute-selector/)：

```
$('p[MyTag]') 
```

或者选择该属性具有特定值的属性：

```
$('p[MyTag="Sara"]') 
```

“属性值以”、“属性值包含”等还有[其他选择器。](http://api.jquery.com/category/selectors/)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-11-15T06:29:00.890

正如我[在评论中给出](http://api.jquery.com/category/selectors/)的链接所述，这

```
$('p[MyTag]').each(function(index) {
  document.write(index + ': ' + $(this).text() + "<br>");}); 
```

作品（[可玩的例子](http://jsbin.com/epiros/2/edit)）。

# iphone - 按钮点击颜色变化

> ID：13392468
> 
> 赞同：0
> 
> 时间：2012-11-15T06:18:58.913
> 
> 标签：iphone, ios, uibutton, uicolor

在我的签名视图中，我想提供更改 Ibaction 颜色的选项。例如，如果用户单击红色按钮，则绘图颜色应为红色，这样，我尝试使用教程[http://www.edumobile.org/iphone/iphone-beginner-tutorials/digital-signature-application- in-iphone/](http://www.edumobile.org/iphone/iphone-beginner-tutorials/digital-signature-application-in-iphone/)，这里是着色代码

```
 CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), 1.0, 0.0, 0.0, 1.0); 
```

我的疑问是如何将其作为单独的按钮方法提供，并在单击时执行颜色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:35:59.703

嗨，只需将值作为变量和

如果你在里面写这段代码`drawrect method`

你可以更新`[self setNeedsDisplay];`

```
- (void)drawRect:(CGRect)rect
{
    CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), redValue, greenValue, blueValue, alpha);
}

-(IBAction)updateColor{

   redValue = red color code;
   greenValue = green color code;
   blueValue = blue color code;
  alphaValue = alpha value;

   [self setNeedsDisplay];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T11:11:29.660

您只需在单击红色按钮时编写此代码

```
 [button setBackgroundColor:[UIColor redColor]]; 
```

# html - 谷歌浏览器中的 HTML5 通知

> ID：13392469
> 
> 赞同：2
> 
> 时间：2012-11-15T06:18:58.990
> 
> 标签：html, google-chrome, notifications, chromium, html5-notifications

我看到了一个链接[http://dangercove.github.com/html5-notifications/](http://dangercove.github.com/html5-notifications/)。这里纯文本类型的通知适用于谷歌浏览器（版本 23）。但是 html 类型的通知不起作用。我在 chromium 浏览器（版本 17）中对其进行了测试。两种内容类型都有效。为什么 html 类型在 chrome 中不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:22:20.060

带有 HTML 的 HTML5 通知已被弃用：

[看这个教程](http://www.html5rocks.com/en/tutorials/notifications/quick/)

[见规格](http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification)

由于这是草稿，因此可能会发生变化，例如您现在所经历的。我知道，这很难过。

# javascript - 如何在鼠标悬停在第一个 div 上时显示两个 div，并在鼠标移出时隐藏相同的两个 div

> ID：13392475
> 
> 赞同：0
> 
> 时间：2012-11-15T06:19:51.307
> 
> 标签：javascript, jquery, html, css

我有一个 div，我在其中显示我的游戏名称（div2）当用户在此（div2）上移动鼠标时，两个 div（div1 和 div3）应该同时打开

**divs(div1 & div3) 将包含什么：**

*   div1 应该显示我的游戏的小图像，而
*   div3 应该显示关于我的游戏的小描述。

**div的位置**：

*   div2 应该在第二行可见。（在两个 div div1 和 div3 的中间）

*   div1 应该在顶部可见。（游戏图像）

*   div3 应该在底部可见。

而且，当用户将光标从 div1 和 div3 移出时，这两个 div 都应该隐藏并保持打开 div2。

我试图用下面的代码解决我的问题，但它根本没有帮助我。请检查下面的代码，并为我的问题提出一个好的解决方案。

我的代码：

```
 <html>
            <head>
                <title>This example will showw game description on over the game link (above div will show game image and below will show game details info)</title>
        <link href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
        <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
        <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>  
        <script>

        $(document).ready(function(){
          $("#d1").hover(function()
          {
            $("#d1").hide();
             $("#d2").show();
              $("#d3").show();
          });

           $("#maindiv").mouseout(function()
          {
            $("#d1").show();
             $("#d2").hide();
              $("#d3").hide();
          });
        });

        </script>
        </head>

        <body>
            <div id="maindiv">
            <div id="d1">Tic Tac Toe(This should hide on mouse over this div)</div>
            <div id="d2" style="display: none;"> <img src="http://www.infosys.com/SiteCollectionImages/cloud-ecosystem-hub-mm.jpg" title=" Image of Tic tac toe small image" /></div>
        </div> 
             <div id="d3" style="display: none;">
                 <table width="80px" height="26px" border="1">
                     <tr>
                          <td width="200px"> Information/description about tic tac toe in small para. blah blah blah  </td>
                     </tr>
                 </table>

             </div>

        </body>
        </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:50:28.540

试试这个：http: [//jsbin.com/uyoxip/1/edit](http://jsbin.com/uyoxip/1/edit)

```
 <div id="maindiv" style='margin:0 auto; width:100%;'>
       <div id="d2" style="display: none; float:left; width:500px;"> 
            <img src="http://www.infosys.com/SiteCollectionImages/cloud-ecosystem-hub-mm.jpg" title=" Image of Tic tac toe small image" />
       </div>
       <div id="d1" style='float:left; width:500px;'>
            Tic Tac Toe(This should hide on mouse over this div)
       </div>
       <div id="d3" style="display: none; float:left; width:500px;">
             <table width="80px" height="26px" border="1">
                 <tr>
                    <td width="200px"> 
                       Information/description about tic tac toe in small para. blah blah blah  
                    </td>
                 </tr>
             </table>
          </div>
       </div> 
```

脚本：

```
 $(document).ready(function(){
      $("#maindiv").hover(function(){

         $("#d2").stop().slideDown();
         $("#d3").stop().slideDown();
         $("#d1").stop().slideUp();

      },function(){

        $("#d1").stop().slideDown();
        $("#d2").stop().slideUp();
        $("#d3").stop().slideUp();
      });
    }); 
```

# jquery - 如何将参数传递给 JQuery 函数？

> ID：13392476
> 
> 赞同：11
> 
> 时间：2012-11-15T06:19:51.423
> 
> 标签：jquery, html

我想将值传递给 Jquery 函数。下面是 Javascript 示例代码。我想将此 javascript 函数转换为 jquery 函数。如何将状态名称传递给 jquery onclick 函数？

```
<a onclick="showState('state_name')">ADD STATE </a>

 function showState(state_name){
 openbox_state(state_name);
 } 
```

请帮我。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-11-15T06:29:37.003

您并不清楚您是否有一系列锚点来添加不同的状态，或者......？

如果这样做，您可以执行以下操作来记录每个链接的适当状态名称：

```
<a data-stateName="state_name">ADD STATE </a> 
```

然后在 JS 中，使用 jQuery：

```
$(document).ready(function() {
    $("a[data-stateName]").click(function() {
        openbox_state( $(this).attr("data-stateName") );
    });
}); 
```

这会从您的 html 中删除内联 JavaScript，然后使用 jQuery 将点击处理程序仅绑定到`<a>`具有`data-stateName`属性的那些元素。然后处理程序获取该属性的值以传递给`openbox_state()`函数。

文档就绪处理程序确保锚点单击绑定在文档实际就绪之前不会发生，即在元素被解析并且可以从 JS 访问之后。（如果将 JS 放在 body 元素末尾的脚本块中，则不需要准备好的处理程序。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:22:37.677

像这样：

```
 $('#MyID').click(function () {

        var StateName = $(this).text();
        showState(StateName);       
   }); 
```

然后对于 HTML，您可以像这样输入一些 ID：

```
<a id="MyID">ADD STATE </a> 
```

或者，如果您有很多状态（我假设这是您想要做的），那么您可以通过 CSS 类引用链接，如下所示：

```
<a class="StateSelector">ADD STATE </a> 
```

然后你的jQuery代码变成：

```
$('.StateSelector').click(function () {

      var StateName = $(this).text();
      showState(StateName);          
}); 
```

要连接事件处理，您可以将 jquery 代码放在文档就绪函数中，如下所示：

```
$(document).ready(function() {

    $('.StateSelector').click(function () {

          var StateName = $(this).text();
          showState(StateName);          
    });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T07:29:33.683

你可以这样做：

```
<a onclick="showState()" id="florida">ADD STATE </a>

 function showState(state_name){
    var state_name = $(this).attr('id')
    openbox_state(state_name);
} 
```

此函数将从链接中检索“id”值。然后，您可以将该值传递给您的“openbox_state()”函数。:-)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-15T06:28:59.267

如果你有多个`a`这样的不同参数。

```
<a onclick="showState('Delhi')">ADD STATE</a>
<a onclick="showState('Punjab')">ADD STATE</a>
<a onclick="showState('Gujrat')">ADD STATE</a>

function showState(state_name){
 openbox_state(state_name);
} 
```

然后你可以使用这样的自定义属性

```
<a state="Delhi">ADD STATE</a>
<a state="Punjab">ADD STATE</a>
<a state="Gujrat">ADD STATE</a>

$('a').click(function () {
   var StateName = $(this).attr("state");
   openbox_state(StateName);
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:28:16.370

```
<a>Montana</a>

$('a').on('click', function(){
     var state = this.text ;   // OR $(this).text();   OR   $(this).html();
     showState(state);
}); 
```

# matlab - 支持向量机与 Matlab

> ID：13392477
> 
> 赞同：0
> 
> 时间：2012-11-15T06:20:05.670
> 
> 标签：matlab, svm

我正在尝试对以下类型的数据集执行 SVM。

有很多谓词说（谓词：P1，P2，p3..Pn），每个谓词都与一个类变量V相关联。每个谓词可以是三种类型，每种类型都有一个与之关联的值，例如

```
(P1,red)=5  (Class 0)
(p1,green)=10 (class 1)
(p1,yellow)=15 (class 1)

(p2,red)=9(class 1)
(p2,green)=99(class 1)
(p2,yellow)=1( Class 0). 
```

在这种情况下，我应该如何拆分变量并在 MATLAB 中使用 SVM？还有一些谓词可能缺少某些值。例如，(p4,red) 可能会丢失。

# c# - 如何将屏蔽文本框值设置为十进制数字？

> ID：13392481
> 
> 赞同：4
> 
> 时间：2012-11-15T06:20:14.650
> 
> 标签：c#, winforms, decimal, maskedtextbox

我是 C# 新手，我在这里使用`masked textbox`并将掩码设置为`00.0`. 并且在数据库中，`decimal(3,1)` 当检索到屏蔽文本框时，各个字段存储在其中，如果我存储了 12.3、23.8、45.7 这些类型的值，我得到了解决方案，但如果我们使用 1.3、3.5、5.6 而不是这些，我得到了我的掩码文本框为 13.0, 35.0, 56.0 .... 如何处理此异常？对不起..！为我糟糕的英语提前谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T06:53:34.833

在设置回 时`MaskedTextBox`，尝试`decimal`根据某种格式转换值：

```
maskedTextBox1.Text = value.ToString("0#.#"); 
```

这样你会得到**01.3**而不是**13.0**

# java - BST 中节点的深度，包括重复项

> ID：13392486
> 
> 赞同：0
> 
> 时间：2012-11-15T06:20:44.187
> 
> 标签：java, binary-tree, depth

我已经实现了一个函数来查找二叉搜索树中节点的深度，但我的实现不处理重复项。我在下面有我的代码，并想就如何在此函数中考虑重复大小写提出一些建议。非常感谢您的帮助。

```
public int depth(Node n) {
    int result=0;
    if(n == null || n == getRoot())
        return 0;

    return (result = depth(getRoot(), n, result));
}
public int depth(Node temp, Node n, int result) {
    int cmp = n.getData().compareTo(temp.getData());

    if(cmp == 0) {
        int x = result;
        return x;
    }
    else if(cmp < 0) {
            return depth(temp.getLeftChild(), n, ++result);
        }
        else {
            return depth(temp.getRightChild(), n, ++result);
        }                   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:34:40.590

在您显示的代码中，没有办法让一个具有相同值的节点优于另一个节点。你需要有一些区分标准。您可以使用以下方法检索所有重复节点深度的列表，例如：

1.  找到节点的深度。
2.  查找从找到的节点出现的左子树的同一节点的深度 - 如果未找到则停止。
3.  将先前找到的节点的深度（在 1 中）添加到副本的深度
4.  查找从找到的节点（在 1 中）出现的右子树的同一节点的深度 - 如果未找到则停止。
5.  将先前找到的节点的深度（在 1 中）添加到副本的深度
6.  对左右子树重复。

另请参阅此处：[BST 中的重复是什么情况？](https://stackoverflow.com/questions/2548711/whats-the-case-for-duplications-in-bst)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:33:26.600

好吧，如果有重复，那么具有给定值的节点的深度本身就没有任何意义，因为可能有多个具有该值的节点，因此有多个深度。

*您*必须确定它的含义，这可能是（不一定是详尽的列表）：

*   具有该值的最深节点的深度。
*   具有该值的最浅节点的深度。
*   使用该值找到的第一个节点的深度。
*   具有该值的所有节点的平均深度。
*   具有该值的所有节点的深度范围（最小值/最大值）。
*   具有该值的所有节点的深度列表。
*   指示您的查询的错误代码毫无意义。

*在特定情况下，其中任何*一个都可能有意义。

* * *

当然，如果`n`是指向节点的实际指针，则根本不应该比较*节点的值，而*应该比较指针。这样，您只会找到*一个*匹配项，并且匹配的深度是有意义的。

类似下面的伪代码应该做的事情：

```
def getDepth (Node needle, Node haystack, int value):
    // Gone beyond leaf, it's not in tree

    if haystack == NULL: return -1

    // Pointers equal, you've found it.

    if needle == haystack: return value

    // Data not equal search either left or right subtree.

    if needle.data < haystack.data:
        return getDepth (needle, haystack.left, value + 1)

    if needle.data > haystack.data:
        return getDepth (needle, haystack.right, value + 1)

    // Data equal, need to search BOTH subtrees.

    tryDepth = getDepth (needle, haystack.left, value + 1)
    if trydepth == -1:
        tryDepth = getDepth (needle, haystack.right, value + 1)

    return trydepth 
```

当值相等时您必须搜索*两个*子树的原因是因为所需的节点可能位于任一子树中。如果值不相等，您就知道它在哪个子树中。因此，对于它们相等的情况，您检查一个子树，如果未找到，则检查另一个。

# php - PHPExcel：将col从1 xls添加到基于公共单元格的不同xls

> ID：13392499
> 
> 赞同：0
> 
> 时间：2012-11-15T06:22:43.960
> 
> 标签：php, phpexcel

PHP 5.3 和使用 PHPExcel 库 1.7.8

我想做一个phpexcel版本的vlookup。我在 1 个目录中有两个 xls 文件，它们是通过 php 上传的。

目录/fileA.xls 目录/fileB.xls

我需要根据 fileA col1 值的连接为每行引入一个值。

**我有**

文件A.xls

```
===========================
emp_no.   fname     lname  
===========================
1     Sam       Smith
5     Lea       Crosby
7     Harlan    Myers
--------------------------- 
```

文件B.xls

```
===========================
test_number emp_no.   score  
===========================
1           1         98
16          5         64
14          7         76

--------------------------- 
```

**我需要**

创建一个新的 fileC.xls 或重写 fileA.xls（追加新的'score COl？）

```
===========================
emp_no.   fname     lname    newCol_score 
===========================
1        Sam       Smith      98
5        Lea       Crosby     64
7        Harlan    Myers      76
--------------------------- 
```

看起来很简单，但我已经在谷歌上搜索了 3 个小时，什么也没有。找到了一篇类似的帖子，但该人希望将新数据放在单独的工作表中。我需要在同一个工作表中引入“分数”作为新文件或只是附加到 fileA.xls。只有一张包含所有数据的工作表。

感谢您的任何帮助或帮助链接....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-18T18:10:05.697

将工作簿 fileA.xls 和 fileB.xls 加载到不同的 PHPExcel 对象 $objPHPExcelA 和 $objPHPExcelB 中。然后您可以使用 addExternalSheet() 方法将工作表从 $objPHPExcelB 复制为 $objPHPExcelA 中的新工作表

```
$objPHPExcelA->addExternalSheet($objPHPExcelB->getActiveSheet()); 
```

那么您可以在新列中使用实际的 VLOOKUP() 公式。

另一种方法是像上面一样加载两个工作簿，遍历 $objPHPExcelA 中的行，读取 emp_no 列；然后逐行遍历 $objPHPExcelB 中的 emp_no 列，直到找到匹配项，然后从 $objPHPExcelB 的该行中的 score 列中读取值以存储在 $objPHPExcelA 中的新列中；重复，直到所有员工都已更新。

# javascript - ArcGIS Javascript API - 如何使用 jquery ajax 获取地图 url

> ID：13392500
> 
> 赞同：0
> 
> 时间：2012-11-15T06:22:45.363
> 
> 标签：javascript, arcgis

我可以得到mapUrl 使用函数fecthData。但它无法显示地图。如果我评论了警报行代码，它将显示地图。任何人都可以给我一些提示吗？提前致谢。

```
dojo.require("esri.map");
var mapLayer;
var mapUrl;
function init() {
   // use ajax to get map url
   fecthData("MapInfo?id=1", function (d) {mapUrl = d.mapUrl;});

   map = new esri.Map("map");
   // if um-commented below line, the map will show
   //alert("mapUrl"+mapUrl);

   // map layer
   mapLayer = new esri.layers.ArcGISDynamicMapServiceLayer(mapUrl);
   if ( mapLayer == undefined )
       return;
   dojo.connect(mapLayer, "onLoad", initFunc);
   map.addLayer(mapLayer);
}
function fecthData(varUrl, varFunc) {
   var options = {
    type: "POST",
    url: varUrl,
    data: "",
    contentType: "application/json;charset=utf-8",
    dataType: "json",
    cache: false,
    success: varFunc
 };
  //execute the ajax call and get a response
  var request = $.ajax(options);
}
dojo.addOnLoad(init); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T16:05:08.997

看起来您的“fecthData”在“init”执行结束后得到响应。我想您应该在“fecthData”完成后立即初始化您的地图，如下所示：

```
dojo.require("esri.map");
var map, mapUrl, mapLayer;

function init() {
   fecthData("MapInfo?id=1");
}
function fecthData(varUrl) {
   var options = {
    type: "POST",
    url: varUrl,
    data: "",
    contentType: "application/json;charset=utf-8",
    dataType: "json",
    cache: false,
    success: function (d) {
        mapUrl = d.mapUrl;
        if ( mapUrl == undefined )
            return;
        map = new esri.Map("map");
        mapLayer = new esri.layers.ArcGISDynamicMapServiceLayer(mapUrl);
        dojo.connect(map, "onLoad", someFunction); // layer object doesn't have any onLoad event, so I changed it
        map.addLayer(mapLayer);
    }
 };
 var request = $.ajax(options);
}
dojo.addOnLoad(init); 
```

或类似的东西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-10T05:54:15.940

现在好了。

```
dojo.require("esri.map");
var mapLayer;
var mapUrl;
function init() {
  fecthData("MapInfo?id=1",getMapInfo);
}

 function getMapInfo(data) {
    mapUrl= data.mapUrl;
    if ( mapUrl== undefined )
        return;
    map = new esri.Map("map");
    mapLayer = new esri.layers.ArcGISDynamicMapServiceLayer(mapUrl);
    if ( mapLayer == undefined )
       return;
    map.addLayer(mapLayer);
    dojo.connect(mapLayer, "onLoad", initFunc);
}
function fecthData(varUrl, varFunc) {
var options = {
    type: "POST",
    url: varUrl,
    data: "",
    contentType: "application/json;charset=utf-8",
    dataType: "json",
    cache: false,
    success: varFunc
};
//execute the ajax call and get a response
var request = $.ajax(options);
}
dojo.addOnLoad(init); 
```

# iphone - 在我的付费 iPhone 应用程序中意外启用了 iAds

> ID：13392511
> 
> 赞同：0
> 
> 时间：2012-11-15T06:24:41.723
> 
> 标签：iphone, app-store-connect, iad

在提交我的 iPhone 应用程序（付费版）时，我不小心在 iTunes Connect 中启用了 iAds。但是，我的应用程序中没有支持 iAd 的代码。我尝试按照 iTunes Connect 的说明进行操作，即上传一个新的二进制文件……但它仍然显示 iAds 已启用。我的应用程序会被拒绝吗？如果没有，iAd 会显示在我的应用程序上吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T09:08:00.243

广告不会显示，因为您的应用程序中没有支持它们的代码：启用广告只是意味着您的应用程序可以请求它们。

我认为应用程序获得批准不会有问题，但不确定

# c++ - SWIG：无法使用双指针访问构造函数

> ID：13392512
> 
> 赞同：1
> 
> 时间：2012-11-15T06:24:52.017
> 
> 标签：c++, python, swig

我是 SWIG 的新手。我创建了一个 python 模块来使用 c++ 类。

我的 cpp 标头代码是

分级复杂.h：

```
class GradedComplex
{
public:
  typedef std::complex<double> dcomplex;
  typedef Item<dcomplex> item_type;
  typedef ItemComparator<dcomplex> comparator;
  typedef std::set<item_type, comparator> grade_type;

private:
  int n_;
  std::vector<grade_type *> grade_;
  std::vector<double> thre_;

public:
  GradedComplex(int n, double *thre);
  ~GradedComplex();

  void push(item_type item);
  void avg(double *buf);
}; 
```

CPP代码是

```
#include <iostream>
#include "GradedComplex.h"
using namespace std;

GradedComplex::GradedComplex(int n, double *thre)
{
  n_ = n;
  for (int i = 0; i < n_; ++i)
  {
    thre_.push_back(thre[i]);
    grade_.push_back(new grade_type());
  }
}

GradedComplex::~GradedComplex()
{
  while (0 < grade_.size())
  {
    delete grade_.back();
    grade_.pop_back();
  }
}

void GradedComplex::push(item_type item)
{
  for (int i = 0; i < n_; ++i)
  {
    if (item.norm() < thre_[i])
    {
      grade_[i]->insert(item);
      break;
    }
  }
}

void GradedComplex::avg(double *buf)
{
  for (int i = 0; i < n_; ++i)
  {
    int n = 0;
    double acc = .0l;
    for (grade_type::iterator it = grade_[i]->begin(); it != grade_[i]->end(); ++it)
    {
      acc += (*it).norm();
      ++n;
    }
    buf[i] = acc / n;
  }
} 
```

我的 SWIG 接口文件是：

例子.i

```
/* File: example.i */
%module example
%{
#include "Item.h"
#include "GradedComplex.h"
#include "GradedDouble.h"
%}

%include <std_string.i>
%include <std_complex.i>
%include "Item.h"
%include "GradedComplex.h"
%include "GradedDouble.h"
%template(Int) Item<int>;
%template(Complex) Item<std::complex<double> >; 
```

我通过运行***python setup.py build_ext --inplace***这个命令生成了 python 模块。

现在我想从 python访问**GradedComplex(int n, double *thre)**

当我尝试访问**GradedComplex**时，它显示 ****TypeError: in method 'new_GradedComplex', argument 2 of type 'double *'* error***

如何从 python 模块传递双指针？请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T15:44:34.047

直接在构造函数中使用向量并利用 SWIG 的向量支持更简单：

在`.i`文件中：

```
%include <std_vector.i>
%template(DoubleVector) std::vector<double>;
%include "GradedComplex.h" 
```

在`.h`：

```
GradedComplex(const std::vector<double>& dbls); 
```

在`.cpp`：

```
GradedComplex::GradedComplex(const vector<double>& dbls) : thre_(dbls)
{
} 
```

`n_`可以走开，因为`thre_.size()`是同一回事。

调用它：

```
c=Item.GradedComplex([1.2,3.4,5.6]) 
```

SWIG 也可以处理返回向量，因此`avg`可以：

```
std::vector<double> GradedComplex::avg() { ... } 
```

# java - 循环遍历列表以将字符添加到 Java 中的字符串列表

> ID：13392515
> 
> 赞同：3
> 
> 时间：2012-11-15T06:25:00.520
> 
> 标签：java, foreach, linked-list

我正在尝试创建一个返回字符串链接列表的方法。有一棵树，树中的每个节点都存储一个字符。该方法应该找到通过树的所有可能路径。每个路径创建一个字符串，该字符串被添加到列表中。

在第二个 for 循环中似乎存在我无法弄清楚的问题。该方法仅返回在第一个 if 语句中添加的字符。

每个节点包含变量 childList，它是子节点的链表，和 nodevalue，它是节点存储的字符。

```
public LinkedList<String> findStrings() {
    LinkedList<String> paths = new LinkedList<String>();
    //add character to list if there are no children
    if (childList.isEmpty()){
        paths.add("" + nodevalue);
        return paths;
    }
    //use recursion to add paths from all children to the list
    for (TreeNode t : childList){
        paths.addAll(t.findStrings());
        //add nodevalue to the beginning of all strings in the list
        for (String s : paths){
            s = nodevalue + s;
        }
    }
    for (String s : paths) System.out.println(s); //for debugging
    return paths;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T06:35:09.703

当您更改`s`内部循环时，您只是重新分配变量`s`，而不是存储在链接列表中的值。相反，您应该遍历列表中的所有元素，一一更新它们。我认为这样的事情应该有效：

```
//use recursion to add paths from all children to the list
for (TreeNode t : childList){
    paths.addAll(t.findStrings());
    //add nodevalue to the beginning of all strings in the list
    int length = paths.size();
    for (int i=0; i<length; i++) {
        paths.offer(nodevalue + paths.poll());
    }
} 
```

`poll`从列表的前面取出第一项，`offer`并将结果放在后面。你把第一个项目拿下来，改变它，然后把它放在后面——重复`paths.size()`几次，你最终得到的是原始顺序中的更新项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:35:19.917

增强的 for 循环在这里没有帮助。

您将不得不使用传统的方法，如下所示：

```
for (int i=0; i<paths.size(); i++){
    paths.set(i, paths.get(i) + paths.get(i));
} 
```

这里：[`public E set(int index, E element)`](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html#set%28int,%20E%29)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:30:53.033

String 是一个不可变类型的赋值

```
s = nodevalue + s; 
```

不被认可

更好的解决方案应该是

```
for (TreeNode t : childList){
    final List<String> pathes = t.findStrings();
    for (final String path : pathes) {
      // add all pathes to paths list adding nodevalue to the beginning
      paths.add(nodevalue + path); 
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:37:35.030

正如迈克尔所说，您不能在每个循环中替换条目的值。而且由于字符串是不可变的，因此您无法更改现有字符串。

你需要执行一个正常的循环：

```
for (int i=0;i<paths.size(); i++) {
    paths.set(i, nodevalue +paths.get(i));
} 
```

请注意，您不会更改现有字符串的值，而是将其替换为同一位置的新字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:30:00.107

在本声明中：

```
for (String s : paths){
            s = nodevalue + s;
} 
```

你实际上并没有改变 s 的值。事实上，你不能像现在这样。for-each 循环不能更改它正在迭代的元素。

# xcode - 如何强制 xcode 在特定文件上使用 ARC？

> ID：13392521
> 
> 赞同：18
> 
> 时间：2012-11-15T06:26:13.750
> 
> 标签：xcode, build, xmpp, automatic-ref-counting, compiler-flags

我的项目包含 XMPPFramework，其中包含一个必须与 ARC 一起使用的文件。但是我的项目是非 ARC 并且由于链接到它的某些其他库而无法转换。

如何强制编译器仅在某个类上使用 ARC？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-11-15T07:17:53.880

这是[这个问题](https://stackoverflow.com/questions/6646052/how-can-i-disable-arc-for-a-single-file-in-a-project?rq=1)的反问题。不同之处在于您将使用`-fobjc-arc`而不是`-fno-objc-arc`.

# sql-server - 如何使用 SQL Server 备份链接服务器？

> ID：13392526
> 
> 赞同：3
> 
> 时间：2012-11-15T06:26:35.513
> 
> 标签：sql-server, linked-server, database-backups, database-restore

我想备份/恢复分布在一些链接服务器中的数据，这些链接服务器连接或链接在中央服务器中。我怎样才能做到这一点？

我在所有节点中都使用 SQL Server 2012。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-15T07:27:47.757

您可以使用远程机器在动态 SQL 中运行 sp_executesql 命令。

```
exec server.master.dbo.sp_executesql 'BACKUP DATABASE DBNAME1 to disk='\\Server\Share\backupfilename.bak'' 
```

或者你可以这样做

```
exec server.master.dbo.sp_executesql 'BACKUP DATABASE [DBNAME1] to disk='\\Server\Share\backupfilename.bak'' 
```

*这两行几乎相同，除了第二种语法中的方括号 []。*

# java - 处理无法连接Mysql

> ID：13392527
> 
> 赞同：0
> 
> 时间：2012-11-15T06:26:45.400
> 
> 标签：java, mysql, processing

我一直在努力将处理草图连接到我的 wamp 服务器中的 mysql，但我遇到了 sql 错误，说明访问被拒绝

这是我的代码：

```
MySQL msql;

void setup()
{
    size( 100, 100 );
    String user     = "root";
    String pass     = "xxxx";

    String database = "test";

    msql = new MySQL( this, "localhost", database, user, pass );

    if ( msql.connect() )
    {
        msql.query( "SELECT COUNT(*) FROM temp" );
        msql.next();
        println( "number of rows: " + msql.getInt(1) );
    }
    else
    {
        // connection failed !
    }
}

void draw()
{
    //  visual sketch ...
} 
```

我的用户名和密码在我的 phpmyadmin 甚至 mysql 控制台上都可以正常工作。但在处理中我得到这个错误。

```
SQL.connect(): Could not connect to the database ( jdbc:mysql://localhost/test ).

java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)
    at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:4612)
    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1296)
    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2412)
    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2445)
    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2230)
    at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:813)
    at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)
    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)
    at java.sql.DriverManager.getConnection(DriverManager.java:582)
    at java.sql.DriverManager.getConnection(DriverManager.java:185)
    at SQL.connect(SQL.java:132)
    at MySQL_example1.setup(MySQL_example1.java:65)
    at processing.core.PApplet.handleDraw(Unknown Source)
    at processing.core.PApplet.run(Unknown Source)
    at java.lang.Thread.run(Thread.java:662) 
```

# java - Java栈类如何违反可替换性规则和封装概念

> ID：13392530
> 
> 赞同：-2
> 
> 时间：2012-11-15T06:27:02.467
> 
> 标签：java, encapsulation, stack

我不明白。我知道这与堆栈不是向量有关。有人可以解释一下吗。

我猜它不可替代，因为堆栈不是向量。因此，如果您遇到使用向量的情况，您将无法使用堆栈。第二部分是一个猜测，但是如果您要创建一个私有类，那么您将不知道该类是如何使用的，并且可能会尝试将其实现为向量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:42:03.070

仅当您坚持对`Stack`堆栈建模而不是其他任何东西时，这才是正确的。就目前而言，`Stack`允许 stack-y 操作，此外，还允许 vector-y 随机访问操作。它可能是类固醇的堆栈，但它仍然是堆栈。

将其与一个名为的类进行比较，该类`LinkedList`也支持 LIFO 堆栈所需的方法。这是否使它成为非列表？

顺便说一句，请注意，`Stack`自`Vector`1998 年以来已停止使用。

# jquery - jQuery iframe 在 chrome 中加载，但不在 FF 和 IE 中

> ID：13392539
> 
> 赞同：0
> 
> 时间：2012-11-15T06:28:46.313
> 
> 标签：jquery, internet-explorer, firefox, iframe, mapbox

我在编写一些 jquery 编码以允许在不同的嵌入式 iframe 之间使用它们在 jquery 中的 id 进行切换时得到了一些帮助。

```
<div id="sins">
<iframe width='860' height='560' frameBorder='0' src='http://a.tiles.mapbox.com/v3/eibenm.Lust.html#4/36.13779999999999/-95.88870000000001' id="Image1" ></iframe>      
<iframe width='860' height='560' frameBorder='0' src='http://a.tiles.mapbox.com/v3/eibenm.Gluttony.html#4/36.13779999999999/-95.88870000000001' id="Image2" ></iframe>
</div><!-- sins -->

<div id="links">
<a href="#"><img src="Images/1Lust.png" width="160" height="50" id="button1" /></a>
<a href="#"><img src="Images/2Gluttony.png" width="160" height="50" id="button2" /></a> 
</div><!-- links -->

// this block will cause the sins maps to fade
// into each other on button clicks
$(document).ready(function() {
    $('#Image1').fadeIn(1500);
    var curr_img_id = 'Image1';
    $('#links img').click(function() {
        if($(this).attr('id').match(/(\d)$/)) {
            var new_img_id = 'Image' + RegExp.$1;
            $('#' + curr_img_id).fadeOut(1000, 0.0, function() {
                $('#' + new_img_id).fadeIn(1000);                   
            });
            curr_img_id = new_img_id;
        }
    });
}); 
```

完整代码见： [http ://users.humboldt.edu/eibenm/sheepallenge.html](http://users.humboldt.edu/eibenm/sheepallenge.html)

问题是这段代码在 chrome 和 safari 中完美运行，但我在 IE 和 FF 中遇到问题。初始 iframe 将按预期加载，但是当我单击链接切换到另一个链接时，它不会加载。我可以处理它不适用于 IE，但我更喜欢 FF 兼容性。任何帮助表示赞赏！

此外，我不确定这是否会影响任何事情，但嵌入式 iframe 是通过使用 mapbox.js 的 mapbox。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:10:47.710

当您单击链接时，框架正在完美加载，但这里的问题是该框架的源没有正确呈现。所以每次点击导航链接都需要手动重新加载iframe。出于测试目的，只需右键单击框架并单击重新加载，您将看到图像。你必须通过代码做同样的事情）

试试这个： [使用 jQuery 重新加载 iframe](https://stackoverflow.com/questions/4249809/reload-an-iframe-with-jquery)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:06:35.110

尝试这样的事情

```
$('#links img').click(function() {
    if($(this).attr('id').match(/(\d)$/)) {
        var new_img_id = 'Image' + RegExp.$1;
        $('#' + curr_img_id).fadeOut(1000, 0.0, function() {
            $('#' + new_img_id).fadeIn(1000);

            // hack for your code
             var iframe = document.getElementById(new_img_id);
             iframe.src = iframe.src;   
        });
        curr_img_id = new_img_id;
    }
}); 
```

# iphone - 使用 UINavigationController 在 UITabbarController 中不显示完整视图

> ID：13392541
> 
> 赞同：0
> 
> 时间：2012-11-15T06:28:53.523
> 
> 标签：iphone, ios, uinavigationcontroller, uitabbarcontroller, xib

在我的应用程序中动态使用 UINavigationcontroller 和 UITabbarcontroller 并添加视图

[UITabBarController 里面的 UINavigationController 就是](https://stackoverflow.com/questions/9356819/uinavigationcontroller-inside-of-uitabbarcontroller-issues) 这样出问题的。我能够同时获得 UITabbarController 和 UINavigationController。两者都工作正常。**但我的问题是此处视图未显示完整，如 XIB 中所示。例如，我在 XIB 中的点 (110,380) 添加了一个 UIButton。它不会显示在 IOS 设备中。**![在此处输入图像描述](../Images/5611d92c6e9db9c995ce5b6c8814c12f.png)

**上图是我的 XIB 这里的按钮下面没有显示在 IOSDevice**

![在此处输入图像描述](../Images/b9a9a1974a049d166e306daf10f90b13.png)

请任何人帮助解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T06:33:41.420

转到 Nib File ，在实用程序视图的右侧转到属性检查器。

现在设置顶部栏：导航栏

底栏：标签栏

然后设计你的视图。

![在此处输入图像描述](../Images/0702a6da63be1e8fa524445acd9f6ad1.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:35:54.290

在 Interface Builder 中尝试将底部栏设置为选项卡栏。![指标](../Images/d01d5b7b022eba93dd7a18d8e14f98ba.png)

# clojure - 如何将此文本解析为树？

> ID：13392545
> 
> 赞同：3
> 
> 时间：2012-11-15T06:29:05.643
> 
> 标签：clojure, tree

我想获取文本（下面的示例）并将其转换为可以遍历的嵌套数据结构：

```
Arbirarchy !
  dog, my friend
    Bailey the Great
  cats, my enemies
    Robert the Terrible
    Trev the Diner
    Gombas the Tasty
      Lenny Lion
  Alligators
    Sadly I have none 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T08:30:59.247

这是解决方案吗？

```
(defn parse [s]
  {(re-find #"(?m)^.+" s)
   (map parse (map #(str/replace % #"(?m)^\s{2}" "")
                   (map first (re-seq #"(?m)(^\s{2}.+(\n\s{4}.+$)*)" s))))}) 
```

你的字符串（假设“Gombas”是缩进的）：

```
(def s "hierarchy\n  dog\n    Bailey\n  cats\n    Robert\n    Trev\n    Gombas") 
```

测试

```
(parse s)
-> {"hierarchy" ({"dog" ({"Bailey" ()})}
                 {"cats" ({"Robert" ()}
                          {"Trev" ()}
                          {"Gombas" ()})})} 
```

# ios - 可以同时移动 UITableView 的某些选定行并对其进行排序吗？

> ID：13392549
> 
> 赞同：0
> 
> 时间：2012-11-15T06:29:34.253
> 
> 标签：ios, uitableview

是否可以在选择 uitablview 的同时移动它们？先感谢您！

# javascript - 使用 JavaScript 修改 Windows 8 的 XML RSS 源

> ID：13392551
> 
> 赞同：4
> 
> 时间：2012-11-15T06:29:37.640
> 
> 标签：javascript, iframe, windows-8, rss

目前正在为特定站点制作 Windows 8 RSS 阅读器应用程序。除了视频 [通常是 YouTube] 外，一切正常，因为该网站用于`<object></object>`嵌入视频而不是`<iframe>`. 结果只是一个大的空白对象块，视频应该在哪里。

我的第一个直觉是找到`<object></object>`标签并将其替换`<iframe>`为正确的 URL 并添加 src 属性。我创建了一个虚拟应用程序来测试此方法是否可行，并且解决方案是否有效，如果您更改的只是静态 HTML。

虚拟应用程序代码：

```
<body>
<div style="text-align: center;">
    <object width="853" height="480" id="test">
        <param name="movie" value="http://www.youtube.com/v/2rDs7W3WRIk?version=3&amp;hl=en_US"></param>
        <param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param>
        <embed src="http://www.youtube.com/v/2rDs7W3WRIk?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="853" height="480" allowscriptaccess="always" allowfullscreen="true"></embed>
    </object></div> 
```

编写并调用了以下函数，该函数确实有效。想做类似于 XML 文档的事情：

```
 function setHTML5video() {
    var listOfSrcs = document.getElementsByTagName("embed");
    for (var i = 0; i < listOfSrcs.length; i += 1) {
        var videoSrc = document.getElementsByTagName("embed")[i].getAttribute("src");
        var newSrc = videoSrc.replace("/v/", "/embed/");            
        //var newNode = '<iframe width="853" height="480" src="' + newSrc + '" frameborder="0" allowfullscreen></iframe>'; 
        var iFrame = document.createElement("iframe");
        iFrame.setAttribute("src", newSrc);
        document.getElementsByTagName("object")[i].replaceNode(iFrame);
        //WinJS.Utilities.setOuterHTMLUnsafe(test, newNode);
    }
} 
```

虚拟应用程序代码结束。

但是，由于缺乏对 Windows 8 API 的了解，并且尽管整天都在网上搜索答案，但我无法找到如何对从外部站点下载的 XML 提要执行相同操作。我可能缺少一些基本的东西。

```
function itemInvoked(z) {
        var currentArticle = articlesList.getAt(z.detail.itemIndex);                       
        WinJS.Utilities.setInnerHTMLUnsafe(articlecontent, currentArticle.content);
        articlelist.style.display = "none";
        articlecontent.style.display = "";
        mainTitle.innerHTML = currentArticle.title;             
        WinJS.UI.Animation.enterPage(articlecontent);        
    } 
```

当用户点击缩略图时，相应文章的 XML RSS 提要被拉出并注入到 id = "articlecontent" 中。我想在注入之前修改该提要。

```
<section id="content">
    <div id="articlelist" data-win-control="WinJS.UI.ListView"
         data-win-options="{ itemDataSource: mmoNewsPosts.ItemList.dataSource, itemTemplate: MMOItemTemplate }"></div> 
        <!-- Article Content -->       
    <div id="articlecontent"></div>        
        <!-- Article Content -->        
</section> 
```

编辑，因为似乎存在混淆，我已经通过 WinJS.xhr 加载了提要：

```
 function downloadMMOFeed(FeedUrl) {
  WinJS.xhr({ url: FeedUrl, responseType: "xml" }).then(function (rss) {
      pageTitle = rss.responseXML.querySelector("title").textContent;
      mainTitle.innerHTML = pageTitle;
      var items = rss.responseXML.querySelectorAll("item");
//more stuff...
for (var n = 0; n < items.length; n +=1) {
article.content = items[n].querySelector("description").textContent;
//more stuff... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T22:46:21.007

您不能只通过 XHR 加载 XML 提要，然后在将结果绑定到页面之前对其进行解析吗？例如：

```
 WinJS.xhr({
    url: "http://www.w3schools.com/xml/note.xml", responseType: "xml"
})
    .done(
        function (request) {
            var text = request.responseText;
            //TODO : Parse the XML returned by the server which is in var text

        }); 
```

在 Windows 8 中没有跨域限制，所以这样的事情是完全可能的。

# ios - 启动画面 iOS 仅在模拟器上显示且尺寸错误

> ID：13392552
> 
> 赞同：0
> 
> 时间：2012-11-15T06:29:54.757
> 
> 标签：ios, xcode, splash-screen

当我使用下面提到的代码时，我在 iPhone 模拟器上获得了所需的闪屏，但图片似乎放大了 2 倍：我只得到初始图片的左上角四分之一（= 启动图像），放大到全屏。在启动画面启动之前，启动图像本身会以正确的大小显示。

代码在 AppDelegate 中的 didFinishLaunchingWithOptions 中输入。

```
// Splash screen
    UIImageView*imageView=[[UIImageView alloc]initWithImage:[UIImage imageNamed:@"IMG_1357.png"]];
    [[navigationController view] addSubview:imageView];
    [[navigationController view] bringSubviewToFront:imageView];

    // as usual
    [self.window makeKeyAndVisible];

    //now fade out splash image
    [UIView transitionWithView:self.window duration:4.0f options:UIViewAnimationOptionTransitionNone animations:^(void){imageView.alpha=0.0f;} completion:^(BOOL finished){[imageView removeFromSuperview];}]; 
```

此外，启动画面似乎没有出现在设备上（iPhone 4S（Retina）和 iOS 6.0），只出现在模拟器上：在 iPhone 上运行时，它只显示启动图像。

这两个问题的原因和解决方案可能是什么？提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T23:57:03.017

1.  imageView 的设置框架，否则它与图像具有相同的大小
2.  设置正确的 contentMode
3.  尝试使用 self.window，而不是 [navigationController 视图]

例子：

```
UIImageView *imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"IMG_1357.png"]];
imageView.contentMode = UIViewContentModeScaleAspectFill;
imageView.frame = self.window.bounds;
[self.window addSubview:imageView];
[imageView release];

[self.window makeKeyAndVisible];

//now fade out splash image
[UIView transitionWithView:self.window
                  duration:4.0f
                   options:UIViewAnimationOptionTransitionNone
                animations:^(void) {
                    imageView.alpha = 0.0f;
                }
                completion:^(BOOL finished ){
                    [imageView removeFromSuperview];
                }]; 
```

要在淡出之前添加 1 秒暂停：

```
int64_t delayInSeconds = 1.0;
dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds * NSEC_PER_SEC);
dispatch_after(popTime, dispatch_get_main_queue(), ^(void){
    [UIView transitionWithView:self.window
                      duration:4.0f
                       options:UIViewAnimationOptionTransitionNone
                    animations:^(void) {
                        imageView.alpha=0.0f;
                    }
                    completion:^(BOOL finished ){
                        [imageView removeFromSuperview];
                    }];
}); 
```

或者

```
[self performSelector:@selector(_hideSplash:) withObject:imageView afterDelay:1.0];

- (void) _hideSplash:(UIView *)view
{
    [UIView transitionWithView:self.window
                      duration:4.0f
                       options:UIViewAnimationOptionTransitionNone
                    animations:^(void) {
                        view.alpha=0.0f;
                    }
                    completion:^(BOOL finished ){
                        [view removeFromSuperview];
                    }];    
} 
```

# python - 删除 QGraphicsItem 的父级

> ID：13392555
> 
> 赞同：2
> 
> 时间：2012-11-15T06:30:01.387
> 
> 标签：python, qt, pyqt, parent, qgraphicsitem

我有一个`QGraphicsItem`叫它`child_item`是另一个`QGraphicsItem`叫的孩子`parent_item`。我需要取消父母身份`child_item`，`parent_item`这样`child_item`就没有父母了。

但是当我尝试`childItem.setItemParent(None)`我的脚本崩溃时。

显然这是因为当您以这种方式删除 a`QGraphicsItem`的父项时，该项目将返回给 Qt ...

现在我刚刚创建了一个`global_parent` `QGraphicsItem`，因此如果任何项目需要取消父级，我将简单地将其置于父级下`global_parent`，如果 a`QGraphicsItem`有父级，`global_parent`我的代码将表现得就像它没有父级一样，但我想要一个更好的解决方案。

请问有什么想法吗？

## 我的一些代码：

```
POINT_SIZE = 7
class Test_Box(QGraphicsItem):
    # Constants
    WIDTH           = 50 * POINT_SIZE
    HEIGHT          = 13 * POINT_SIZE
    RECT            = QRectF(0, 0, WIDTH, HEIGHT)
    CORNER_RADIUS   = 1.5 * POINT_SIZE

    def __init__(self, position, parent=None):
        super(Test_Box, self).__init__(parent)

        # Settings
        self.setFlags(  self.flags()                            |
                        QGraphicsItem.ItemIsSelectable          |
                        QGraphicsItem.ItemIsMovable             |
                        QGraphicsItem.ItemIsFocusable           |
                        QGraphicsItem.ItemSendsScenePositionChanges )
        self.setPos(position)

    def boundingRect(self):
        return Test_Box.RECT

    def paint(self, painter, option, widget):
        # Draw Box
        brush   = QBrush()
        painter.setBrush(brush) 
        painter.drawRoundedRect(Test_Box.RECT, Test_Box.CORNER_RADIUS, Test_Box.CORNER_RADIUS)

    def itemChange(self, change, variant):
        super(Test_Box, self).itemChange(change, variant)
        if change == QGraphicsItem.ItemScenePositionHasChanged:
            self.setParentItem(None)
        return QGraphicsItem.itemChange(self, change, variant) 
```

调用 setItemParent 并将项目的父项设置为另一个项目确实有效，因此我同时使用通用父项。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T12:09:20.743

如果这`setParent`不是错字，那是你的问题。A`QGraphicsItem`没有`setParent`方法，这应该会给你一个错误。你应该使用[`setParentItem`](http://doc.qt.digia.com/qt/qgraphicsitem.html#setParentItem)：

```
children.setParentItem(None) 
```

**编辑**

我根据您的项目创建了一个测试用例：

```
import sys
from PyQt4.QtGui import *
from PyQt4.QtCore import *

POINT_SIZE = 7
class Test_Box(QGraphicsItem):
    # Constants
    WIDTH           = 50 * POINT_SIZE
    HEIGHT          = 13 * POINT_SIZE
    RECT            = QRectF(0, 0, WIDTH, HEIGHT)
    CORNER_RADIUS   = 1.5 * POINT_SIZE

    def __init__(self, position, parent=None):
        super(Test_Box, self).__init__(parent)

        # Settings
        self.setFlags(  self.flags()                            |
                        QGraphicsItem.ItemIsSelectable          |
                        QGraphicsItem.ItemIsMovable             |
                        QGraphicsItem.ItemIsFocusable           |
                        QGraphicsItem.ItemSendsScenePositionChanges )
        self.setPos(position)

    def boundingRect(self):
        return Test_Box.RECT

    def paint(self, painter, option, widget):
        # Draw Box
        brush   = QBrush()
        painter.setBrush(brush) 
        painter.drawRoundedRect(Test_Box.RECT, Test_Box.CORNER_RADIUS, Test_Box.CORNER_RADIUS)

    def itemChange(self, change, variant):
        super(Test_Box, self).itemChange(change, variant)
        if change == QGraphicsItem.ItemScenePositionHasChanged:
            self.setParentItem(None)
        return QGraphicsItem.itemChange(self, change, variant)

class Window(QWidget):
    def __init__(self, parent=None):
        super(Window, self).__init__(parent)

        self.scene = QGraphicsScene()

        self.item1 = Test_Box(QPointF(0, 0))
        self.item2 = Test_Box(QPointF(20, 20))
        self.item11 = Test_Box(QPointF(10, 5), self.item1)

        self.scene.addItem(self.item1)
        self.scene.addItem(self.item2)

        self.view = QGraphicsView(self.scene)

        self.listItems = QPushButton('list')
        self.listItems.clicked.connect(self.printItems)

        layout = QHBoxLayout()
        layout.addWidget(self.view)
        layout.addWidget(self.listItems)
        self.setLayout(layout)

    def printItems(self):
        for item in self.scene.items():
            print item, item.parentItem()

app = QApplication(sys.argv)

w = Window()
w.show()

sys.exit(app.exec_()) 
```

它按预期工作，但我确实发现了一些奇怪的行为。如果我不保留`Window`类中项目的引用，即如果我执行以下操作，那么当我移动项目时应用程序会崩溃。

```
class Window(QWidget):
    def __init__(self, parent=None):
        super(Window, self).__init__(parent)

        self.scene = QGraphicsScene()

        item1 = Test_Box(QPointF(0, 0))
        item2 = Test_Box(QPointF(20, 20))
        item11 = Test_Box(QPointF(10, 5), item1)

        self.scene.addItem(item1)
        self.scene.addItem(item2)

        self.view = QGraphicsView(self.scene)

        self.listItems = QPushButton('list')
        self.listItems.clicked.connect(self.printItems)

        layout = QHBoxLayout()
        layout.addWidget(self.view)
        layout.addWidget(self.listItems)
        self.setLayout(layout)

    def printItems(self):
        for item in self.scene.items():
            print item, item.parentItem() 
```

我实际上不知道会发生什么，但看起来这些项目是垃圾收集的，这不应该发生，因为`addItem`这会给 the 所有权`scene`并且应该保持项目“活着”。这可能是 PyQt 中的一个错误，但我不确定。

# php - OCI-Lob::import 函数是否流式传输数据？

> ID：13392556
> 
> 赞同：0
> 
> 时间：2012-11-15T06:30:10.607
> 
> 标签：php, oracle, blob

我正在使用[`OCI-LOB::import`](http://www.php.net/manual/en/oci-lob.import.php)将文件存储到数据库中。

1.  如果文件很大，大于 php[`memory_limit`](http://www.php.net/manual/en/ini.core.php#ini.memory-limit)设置会发生什么？是否会`OCI-LOB::import`以较小的块进行流式传输并将文件数据发送到数据库？
2.  是否有任何 OCI 功能可以控制与 LOB 相关的数据流？最重要的是，例如设置块大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T08:13:26.113

1）大数据写入lob时不用担心php的memory_limit

`OCI-Lob::write`2）您可以使用函数将数据按块写入lob对象

```
$chunkSize = 1024;
$f = fopen ($filename, 'r');
while ($buf = fread($f, $chunkSize))
{
    $lob->write($buf);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T08:17:29.450

从 PHP 5.3.18 源码检查后`oci8_lob.c`发现

1.  `OCI-LOB::import`使用固定大小的缓冲区读取文件数据并写入 LOB 描述符。缓冲区的长度设置为 8192 字节，并且在源代码中进行了硬编码。这意味着，`OCI-LOB::import`使用 8K 大小的块将数据发送到数据库。
2.  无法修改 使用的块大小，`OCI-LOB::import`因为它在源代码中是硬编码的。

# php - PHP Web 应用程序抛出“打开的文件太多”

> ID：13392557
> 
> 赞同：0
> 
> 时间：2012-11-15T06:30:24.953
> 
> 标签：php, apache, exec, fopen, shell-exec

我有一个 Web 应用程序，它使用 php 的本机函数写入文件，例如`fopen()`，`fwrite()`在进程结束时写入文件后，我关闭文件句柄`fclose()`。

Web 应用程序还使用`exec()`和`shell_exec()`在某些地方执行外部程序。

此 Web 应用程序主要部署在 Linux 服务器上。最近在生产服务器上，我们注意到它无法写入文件并抛出此错误的问题：

> “打开的文件太多”

所以我的问题是：执行上述操作（文件写入和通过 PHP 执行外部命令）是否可能导致此问题并打开了太多打开的文件，我现在收到此错误？

我确保在打开文件句柄进行写入/读取时，我会关闭它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:47:10.863

可能吗？当然。甚至有可能，因为 ulimit 是每个进程的限制。

也许有一个流程问题使您的`fclose`代码无法运行（例如异常或 else 块？）。

做一些调试。甚至像在 fopen() 上增加一个计数器并在 fclose() 上减少它这样的基本操作也会说明问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:35:40.237

这是因为您超过了默认打开文件数。您可以使用 增加打开文件的最大数量`ulimit`。检查[此](http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/)以获取更多详细信息。

# php - MySQL PDO 事务异常

> ID：13392558
> 
> 赞同：-1
> 
> 时间：2012-11-15T06:30:48.477
> 
> 标签：php, mysql, transactions, pdo

假设我有一堆使用 PHP/MySQL PDO 以连续顺序运行的查询。所以理想情况下，我从 BeginTransaction 开始，并以提交结束。

现在，假设其中一个查询在提交之前的运行过程中引发了异常。当我捕捉到异常来处理它时，我是否必须回滚？或者只是忽略假设它会自动回滚，因为没有进行提交调用？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:56:18.637

如果你想确定的话，你可以尝试在 catch 块中调用回滚函数。 [http://www.php.net/manual/en/pdo.rollback.php](http://www.php.net/manual/en/pdo.rollback.php)

# integer - 如何反转 MIPS 中的整数？

> ID：13392563
> 
> 赞同：0
> 
> 时间：2012-11-15T06:31:00.287
> 
> 标签：integer, mips, reverse

如何反转用户在 MIPS 中输入的整数？例如，如果用户输入 4352，那么它会将其反转为 2534 并输出。另一个问题是，如果数字是 4200，那么反过来就是 24，没有前导零。

我有整数加载程序，我知道如何输出它。我该怎么做才能扭转它？通常我会将它转换为字符串并以这种方式反转它，但我不知道如何在 MIPS 中做到这一点，也找不到太多。

我知道我可以取这个数字并将其修改 10 以获得纬度数字，并添加 0x30 以获得 ascii 数字。但在那之后我迷路了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T20:16:35.430

这个片段应该这样做（对于非负整数）：

```
 li $a1, 1234       # $a1 contains input number

     xor $a2, $a2, $a2  # $a2 will hold reverse integer
     li $t1, 10
     beqz $a1, end
loop:
     divu $a1, $t1      # Divide number by 10
     mflo $a1           # $a1 = quotient
     mfhi $t2           # $t2 = reminder
     mul $a2, $a2, $t1  # reverse=reverse*10
     addu $a2, $a2, $t2 #         + reminder    
     bgtz $a1, loop
end: 
     j end              # Here $a2 contains the reversed integer 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T06:50:23.237

在类似于 C 的伪语言中，算法可以写成：

```
i = the_number;
r = 0;
while (i > 0)
{
   r = r * 10 + i % 10;
   i = i / 10;
} 
```

其中 % 是 mod 运算符。对于实际的 MIPS 汇编代码，请阅读对问题的评论......虽然翻译伪代码应该不会太难。无论如何，你可以用 C 编写它，编译成 MIPS，然后看看编译器是如何翻译它的......

# iphone - 如何在IOS中动态调用类方法？

> ID：13392564
> 
> 赞同：1
> 
> 时间：2012-11-15T06:31:16.340
> 
> 标签：iphone, objective-c, ios, ipad, uicolor

我在这里遇到了一个问题`UIColor`。

我将从网络服务中获取颜色名称，例如

> 红色，蓝色，洋红色.......等等。

我如何使用它设置视图的背景颜色。

我只能找到具有这些颜色名称（`[UIColor redColor], [UIColor blueColor], [UIColor magentaColor]`）的类方法，但我无法编写以编程方式调用这些方法的代码，因为我得到的颜色名称是动态的。

请帮忙.....

谢谢你。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-15T06:39:51.950

像这样的东西应该工作：

```
NSString *colorFromWeb = @"Red"; // for example
NSString *selectorName = [NSString stringWithFormat:@"%@Color", [colorFromWeb lowercaseString]];
SEL selector = NSSelectorFromString(selectorName);

if ([UIColor respondsToSelector:selector])
    UIColor *color = [UIColor performSelector:selector]; // Equivalent to [UIColor redColor]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T06:46:12.393

在这里你可以遵循两种方法。

**1)**`color`在这里，您可以通过传递这些即将到来的颜色的名称来调用方法。

正如`Scott`他的回答中所解释的那样。

```
 NSString *colorFromWeb = @"Red"; // for example
  NSString *selectorName = [NSString stringWithFormat:@"%@Color", [colorFromWeb lowercaseString]];
  SEL selector = NSSelectorFromString(selectorName);

  if ([UIColor respondsToSelector:selector])
  UIColor *color = [UIColor performSelector:selector]; // Equivalent to [UIColor redColor]; 
```

**2）**。在上述方式中，您可能会遇到一些麻烦，假设您有一些`color`名称形式 Your`WebService`不存在，`UIColor Class`那么在这种情况下，您将无法获得**理想的颜色，或者您的应用程序可能会崩溃等。** 在这里我建议您应该询问`RGB float`您的值`Webservice Provider`。通过这种方式，您可以轻松地通过这些`RGB`并可以`Color`使用这些`RGB`

这是一些演示。

```
 [UIColor colorWithRed:redRGB green:greenRGB blue:blueRGB alpha:1.0]; 
```

您只需 要从 WebService获取`redRGB`,`greenRGB`和。`blueRGB`在这你可以'面对任何`Crash`。

我希望它可以清除给你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:39:34.550

键值编码机制允许您使用属性名称的字符串表示形式与类的属性进行交互。

```
NSString* colorString = @"redColor";
UIColor* color = [UIColor valueForKey:colorString]; 
```

# android - 将对象序列化为android中的文件

> ID：13392571
> 
> 赞同：1
> 
> 时间：2012-11-15T06:32:24.593
> 
> 标签：android, serialization

现在写我有这个类，我希望能够使用序列化保存和打开：

```
public class Region
implements Serializable
{
private final int      inputNumberOfColumnsAlongXAxis;
private final int      inputNumberOfColumnsAlongYAxis;
private double         inputDataScaleReductionOnXAxis;
private double         inputDataScaleReductionOnYAxis;

private int            numberOfColumnsAlongXAxis;
private int            numberOfColumnsAlongYAxis;
private int            cellsPerColumn;                // Z-Axis dimension
private float          inhibitionRadius;
private final float    percentMinimumOverlapScore;
private final float    minimumOverlapScore;

// ----------------------------------------------------------
/**
 * Save the current Region object on the view into a file named
 * "TrainedRegion".
 */
public static byte[] serializeObject(Object region)
{
    // TODO: save with current timestamp and use open pop-up
    // String timeStamp = "" + System.currentTimeMillis() / 1000;
    // String fileName = ("Region created at timestamp(seconds): " +
    // timeStamp);
    ByteArrayOutputStream baos = new ByteArrayOutputStream();

    try {
      ObjectOutput objectOutput = new ObjectOutputStream(baos);
      objectOutput.writeObject(region);
      objectOutput.close();

      // Get the bytes of the serialized object
      byte[] bytesOfSerializedObject = baos.toByteArray();

      return bytesOfSerializedObject;
    } catch(IOException ioe) {
      Log.e("serializeObject", "error", ioe);

      return null;
    }
}

// ----------------------------------------------------------
/**
 * Returns a previously saved Region object with the given name.
 *
 * @param fileName
 * @return A previously saved Region object.
 */
public static Object deserializeObject(byte[] bytes)
{
    // TODO: later read Region object saved in file named by the time stamp during
    // saving.
    // ObjectInputStream inputStream = new ObjectInputStream(new
    // FileInputStream(fileName));

    try {
        ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(bytes));
        Object object = in.readObject();
        in.close();

        return object;
      } catch(ClassNotFoundException cnfe) {
        Log.e("deserializeObject", "class not found error", cnfe);

        return null;
      } catch(IOException ioe) {
        Log.e("deserializeObject", "io error", ioe);

        return null;
      }
}
} 
```

以下是在我的“屏幕”类中，它充当我上面的模型和我的视图（屏幕）的控制器：

```
// ----------------------------------------------------------
/**
 * I want to be able to open a Region instance that was saved.
 */
public void openClicked() 
{
    // open the file created below in save method and write all the bytes into
    // the global region instance for this class. How can do this?

    this.region = (Region) this.region.deserializeObject(savedRegionInBytes);
}

// ----------------------------------------------------------
/**
 *
 */
public void saveClicked()
{
    this.savedRegionInBytes = this.region.serializeObject(this.region);

    // TODO: write savedRegionInBytes to a file. How can I do this?
} 
```

此外，如果有一种更简单的方法可以将对象序列化为 android 中的文件，我很想听听。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T08:05:46.827

这基本上就是这样做的方法。但是你不必像你那样处理字节。我使用这两种方法将 Serializable 对象写入和读取到 Android 应用程序中的私有文件。

```
public static boolean saveRegion(Context context, Region region) {
    try {
        FileOutputStream fos = context.openFileOutput(REGION_FILENAME, Context.MODE_PRIVATE);
        ObjectOutputStream oos = new ObjectOutputStream(fos);
        oos.writeObject(region);
        oos.close();
    } catch (IOException e) {
        e.printStackTrace();
        return false;
    }

    return true;
}

public static Region getRegion(Context context) {
    try {
        FileInputStream fis = context.openFileInput(REGION_FILENAME);
        ObjectInputStream is = new ObjectInputStream(fis);
        Object readObject = is.readObject();
        is.close();

        if(readObject != null && readObject instanceof Region) {
            return (Region) readObject;
        }
    } catch (IOException e) {
        e.printStackTrace();
    } catch (ClassNotFoundException e) {
        e.printStackTrace();
    }

    return null;
} 
```

# dart - 何时在 Dart 中使用 Future.handleexception 以及何时尝试捕获

> ID：13392572
> 
> 赞同：3
> 
> 时间：2012-11-15T06:32:31.240
> 
> 标签：dart

我正在尝试在 Dart 中真正获得 Futures，并且我注意到我遇到的几乎每个示例都使用 handleException 来处理完成 Future 的异常。然而 API 文档指出“在大多数情况下，不需要调用 handleException，因为如果未来的值正在被消耗，与此 Future 关联的异常会自然传播。如果您需要做一些特殊的本地异常处理相关的，请仅调用 handleException到这个特定的未来的价值。”

那么我什么时候需要“特殊的本地异常处理”？有人可以更详细地解释一下吗？是否有一些代码我真的不能通过让异常传播来轻松运行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T17:02:30.927

Mads Ager 给了我这个答案：

基本上，这相当于在直线代码中使用 try-catch：

```
int doSomethingElse() {
  try {
    return thisMightFail();
  } catch(e) {
    return -1;
  }
}

void doSomething() {
  int value = doSomethingElse();
  // operate on value
} 
```

使用期货是这样的（未经测试）：

```
Future<int> doSomethingElse() {
  return thisMightFail().transformException((e) => -1);
}

void doSomething() {
  doSomethingElse().then((value) {
    // operate on value
  });
} 
```

所以这是针对本地异常处理而不是全局异常处理。如果您从不使用对应于始终在非异步代码中处理顶级异常的 handleException 或 transformException。

# api - 如何使用 API 检索任何 Salesforce 对象的列表视图？

> ID：13392577
> 
> 赞同：2
> 
> 时间：2012-11-15T06:32:50.813
> 
> 标签：api, rest, soap, salesforce

我想通过 API 检索任何 salesforce 对象的所有列表视图。怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-04-30T23:33:58.183

这是一个老问题，但是，使用 REST API 和 Salesforce 的查询语言，您可以使用端点：

```
{your instance url}/services/data/v32.0/query?q=SELECT Id,Name FROM {object type} 
```

或者

使用端点：

```
{your instance url}/services/data/v32.0/sobjects/{object type}/listviews 
```

一些例子：

获取所有列表视图：[https](https://na16.salesforce.com/services/data/v32.0/query?q=SELECT) ://na16.salesforce.com/services/data/v32.0/query?q= SELECT Id,Name FROM ListView

要获取具有对象类型帐户的所有列表视图：[https ://na16.salesforce.com/services/data/v32.0/sobjects/Account/listviews](https://na16.salesforce.com/services/data/v32.0/sobjects/Account/listviews)

在 PHP 中：

```
$url = "{your instance url}/services/data/v32.0/sobjects/Account/listviews";
$headers = array('Authorization: OAuth ' . {your access token});
$ch = curl_init ();  
curl_setopt ( $ch, CURLOPT_URL, $url );  
curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, TRUE );  
curl_setopt ( $ch, CURLOPT_FOLLOWLOCATION, TRUE );  
curl_setopt ( $ch, CURLOPT_HTTPHEADER, $headers);  

$requestBody = curl_exec ($ch);
$result = json_decode($requestBody, true); 
```

当然，您需要先通过 OAUTH 登录以获取访问令牌和实例 URL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-25T23:57:13.203

如果您正在寻找的是 SOAP api，它被称为`describeSObject`- 用于特定对象，或“describeGlobal” - 用于您组织的所有数据。

有关 SOAP 消息，请参阅下面的参考链接： [http://wiki.developerforce.com/page/Sample_SOAP_Messages_(10.0_API)](http://wiki.developerforce.com/page/Sample_SOAP_Messages_(10.0_API))

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:18:31.727

为给定对象创建一个[StandardSetController](http://www.salesforce.com/us/developer/docs/apexcode/index_Left.htm#StartTopic=Content/apex_pages_standardsetcontroller.htm)（您将用于实例化它的查询可以具有“LIMIT 1”或其他内容，无需选择所有记录）。然后使用`getListViewOptions()`.

请记住，它将返回对当前用户可见的视图（因此只有公共视图+标记为“仅对我可见”的视图）。

**编辑：** 要从外部访问它（通过 SOAP 或 REST API）...我不知道通过 REST 调用获取这些的方法。您可能需要编写一些 Apex 并公开将返回此数据的自定义 REST 资源。这并不难，有关示例，请参见[http://www.salesforce.com/us/developer/docs/apexcode/index_Left.htm#StartTopic=Content/apex_rest_code_sample_basic.htm](http://www.salesforce.com/us/developer/docs/apexcode/index_Left.htm#StartTopic=Content/apex_rest_code_sample_basic.htm)。

# java - Java泛型使用难度

> ID：13392580
> 
> 赞同：3
> 
> 时间：2012-11-15T06:33:11.937
> 
> 标签：java, generics

我是java的新手..我很难理解泛型。据我了解，我编写了以下演示程序来理解泛型，但有错误..需要帮助。

```
class GenDemoClass <I,S> 
{
    private S info;
    public GenDemoClass(S str)
    {
        info = str;
    }
    public void displaySolidRect(I length,I width)
    {
        I tempLength = length;
        System.out.println();
        while(length > 0)
        {
            System.out.print("          ");
            for(int i = 0 ; i < width; i++)
            {
                System.out.print("*");
            }
            System.out.println();
            length--;
        }
        info = "A Rectangle of Length = " + tempLength.toString() + " and Width = " + width.toString() + " was drawn;";     
    }

    public void displayInfo()
    {
        System.out.println(info);
    }
}

public class GenDemo
{
    public static void main(String Ar[])
    {
        GenDemoClass<Integer,String> GDC = new GenDemoClass<Integer,String>("Initailize");
        GDC.displaySolidRect(20,30);
        GDC.displayInfo();
    }
} 
```

如果我在then 代码中用`Integer`and替换类型变量 I 和 S似乎可以工作..错误是`String``GenDemoClass`

```
error: bad operand types for binary operator '>'
                while(length > 0)
                             ^
  first type:  I
  second type: int
  where I is a type-variable:
    I extends Object declared in class GenDemoClass 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T06:42:09.873

问题是大多数对象不能与 > 运算符一起使用。

如果您声明您的类型`I`必须是 的子类型`Number`，那么您可以在比较中将类型 I 的实例转换为 int 基元。例如

```
class GenDemoClass <I extends Number,S> 
{

public void displaySolidRect(I length,I width)
    {
        I tempLength = length;
        System.out.println();
        while(length.intValue() > 0)
        {

        } 
```

在这一点上，你已经沉没了，因为你不能`length`像你想要的那样修改值——它是不可变的。为此，您可以使用普通的 int。

```
public void displaySolidRect(I length,I width)
    {
        int intLength = length.intValue();
        int intHeight = width.intValue();
        System.out.println();
        while(intLength > 0)
        {
           // iterate as you normally would, decrementing the int primitives
        } 
```

在我看来，这不是对泛型的适当使用，因为您不会比使用原始整数类型获得任何好处。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:38:51.880

如果您将不是整数的东西传递到`I length`文件中会发生什么？现在你不是说它应该是任何特定的类型，所以如果你要传入，比如说，一个字符串，这行会发生什么？

```
while(length > 0) 
```

在这里你假设`length`是一个整数，当你非常清楚地将它一般地定义为`I`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:41:05.557

你应该`instanceof`在使用前检查

```
if (I instanceof Integer){ 
   // code goes here

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:40:00.227

该`>`操作对任意类无效`I`。

# java - Java 多线程 两个线程实例是同一个线程对象

> ID：13392583
> 
> 赞同：4
> 
> 时间：2012-11-15T06:33:29.407
> 
> 标签：java, multithreading

[我对此](http://osgi-in-action.googlecode.com/svn-history/r15/trunk/chapter04/dynamics/simple_tracker/src/org/foo/log/Activator.java)代码的片段感到困惑：

```
void stopTestThread() {

    // thread should cooperatively shutdown on the next iteration, because field is now null
    Thread testThread = m_logTestThread;
    m_logTestThread = null;
    if (testThread != null) {
      testThread.interrupt();
      try {testThread.join();} catch (InterruptedException e) {}
    }
  } 
```

这是否意味着 testThread 和 m_logTestThread 是不同的实例，但指向内存中的同一个对象，所以它们是同一个线程？

如果有，目的是`if (testThread != null)`什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:38:06.750

> 这是否意味着 testThread 和 m_logTestThread 是不同的实例，但指向内存中的同一个对象，所以它们是同一个线程？

这是部分正确的。其实`testThread`和`m_logTestThread`是两个不同的`references`不是`instances`。并且两个引用都指向同一个`Thread`对象。因此，仅仅`reference` `m_logTestThread`指出指向`null`并不意味着`testThread`引用也指向`null`。

您还可以通过一个简单的示例在实践中看到它：-

```
String str = "abc";
String strCopy = str;  // strCopy now points to "abc"
str = null;  // Nullify the `str` reference

System.out.println(strCopy.length()); // Will print 3, as strCopy still points to "abc" 
```

因此，即使您将其中一个引用设置为 null，另一个引用仍然指向同一个 Thread 对象。一个对象在`0 reference`指向它或存在`circular reference`.

请参阅此链接： -[循环参考 - wiki 页面](http://en.wikipedia.org/wiki/Circular_reference)以了解究竟是什么`Circular Refeference`。

> “如果（testThread！= null）”的目的是什么？

这很简单。您可以从条件推断，它正在检查`testThread`引用是否指向一个`null`对象。这样`null check`做是为了，您不会`NPE`在`if-construct`其中尝试中断该引用指向的线程。因此，如果该引用指向`null`，那么您没有与该引用关联的任何线程来中断。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T06:40:08.590

> 这是否意味着 testThread 和 m_logTestThread 是不同的实例，但指向内存中的同一个对象，所以它们是同一个线程？

`testThread`并且 `m_logTestThread`是指向同一`Thread`对象实例的两个引用。（说T）

```
Thread testThread = m_logTestThread; 
```

这条线意味着`testThread`将开始指向指向的相同对象`m_logTestThread`。即两者都指向T。

```
m_logTestThread = null; 
```

这条线表示`m_logTestThread`将开始指向`null`，即不再指向 T。但是，它没有改变`testThread`，`testThread`仍然指向 T。

> “如果（testThread！= null）”的目的是什么？

因为`testThread`可能 OR 可能不是`null`，因此在使用之前使用此条件进行进一步计算`testThread`。

# image - 关于如何实现色轮的想法，并在计算机中使用 RGB 查找相关信息？

> ID：13392590
> 
> 赞同：1
> 
> 时间：2012-11-15T06:34:48.333
> 
> 标签：image, image-processing, colors

![在此处输入图像描述](../Images/f9b129d2a7f599406c9b494d075fc918.png)

这是一个色轮，通常来自网络。我想创建类似用户输入`Yellow`颜色代码的东西，我能够找到`Yellow`紫色的补色。另外，我想找到附近的颜色，`light green`和`light orange`。如何以计算机科学的方式实现它？或任何现有的算法这样做？谢谢。

# ruby - 在 FTP 上使用 RVM 会出现错误“RVM 不是函数...”

> ID：13392591
> 
> 赞同：0
> 
> 时间：2012-11-15T06:34:50.983
> 
> 标签：ruby, function, ftp, rvm

我正在登录 FTP 服务器并使用我们自己的服务器版本的 ruby​​ 和 gemset：

```
rvm use 1.9.2@'...' 
```

但我得到了错误：

```
RVM is not a function, selecting rubies with 'rvm use...' will not work. 
```

我是否将其添加`[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"`到我的`.bashrc`? 或者这里是怎么回事？

提前感谢您的帮助。

**编辑：**我发现这只发生在我在服务器上运行“屏幕”会话时。为什么是这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:43:40.497

尝试：

```
source "$HOME/.rvm/scripts/rvm" && rvm use 1.9.2@gemset 
```

# php - 字符串内的文本替换

> ID：13392592
> 
> 赞同：0
> 
> 时间：2012-11-15T06:34:58.130
> 
> 标签：php, regex

我有一个看起来像这样的字符串：

```
$data = '
 Some string
 [code=cpp]
 int a = 5;
 [/code]
 Another string
 [code=php]
 echo "5";
 [/code]'; 
```

还有一个接受 2 个参数的函数：代码标签内的数据和语言（cpp、php、...）：

```
function Foo($data, $lang) { echo ...RESULT...; } 
```

`$data`使用我的`Foo`函数替换所有代码标签的最佳方法是什么？结果应该是：

```
$data = 
 'Some string' . 
 Foo('int a = 5;', 'cpp') .
 'Another string' . 
 Foo('echo "5";', 'php'); 
```

* * *

```
function Foo($matches)
{
    echo SOME_ANOTHER($matches[2], $matches[1]);
}
preg_replace_callback('#\[code=(.*?)\](.*?)\[/code\]#si' , 'Foo', $data); 
```

但是此代码不会将文本保存在代码标签之外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:06:11.053

```
function Foo($matches)
{
    return SOME_ANOTHER($matches[2], $matches[1]);
}
echo preg_replace_callback('#\[code=(.*?)\](.*?)\[/code\]#si' , 'Foo', $data); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:26:25.253

我不完全理解您的问题，但这可能会为您指明正确的方向。

```
<?php

$data = '
 Some string
 [code=cpp]
 int a = 5;
 [/code]
 Another string
 [code=php]
 echo "5";
 [/code] closing string';

 $d = preg_replace_callback('#\[code=(.*?)\](.*?)\[/code\]#si' , 'Foo', $data);

 var_dump($d);

 function Foo($matches){

    $code = trim($matches[2]);
    $lang = trim($matches[1]);

    //do what you want with the code ie:  int a = 5;
    //return 'FOO('.trim($code).', '.trim($lang) . ')'; 

    //run the side code...
    return exec($code); 
 }

?> 
```

# java - 更新字段

> ID：13392593
> 
> 赞同：0
> 
> 时间：2012-11-15T06:34:58.800
> 
> 标签：java, grails, groovy

我是 grails 的新手，我有一个包含以下简单类的应用程序：

```
class Person{
String name
}

class Voter{
String voteAddress
String counter
Person person
} 
```

现在，我正在尝试仅更新 Voter 类的字段人员。现在我有下面的代码，但它不工作，我知道这是错误的，但我还是尝试了：

```
def updatePersonFieldOnly{
 def voterInstance = Voter.get(params.id)
 voterInstance.properties=params

 def personInstance = Voter.findById(12)

 voterInstance.person = personInstance

 ......some other code to update
 .....
} 
```

现在，当动作执行时，我得到了这个错误：

无法将 java.lang.String 类型的属性值转换为属性 person 所需的类型 proj.Person；嵌套异常是 java.lang.IllegalStateException：无法将类型 [java.lang.String] 的值转换为属性人员所需的类型 [proj.Person]：找不到匹配的编辑器或转换策略

我仍在阅读 grails 的文档。那么有人可以帮我解决这个问题吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:39:53.157

看起来您在 params 映射中有一个名为“person”的属性，Grails 正试图将其转换为“Person”对象。尝试将该字段更改为“person.id”，Grails 应该会自动获取与该 id 对应的 Person 对象并将其与“person”对象匹配。

有关详细信息，请参阅“数据绑定和单端关联”部分下的[DataBinding 。](http://grails.org/doc/2.1.0/guide/single.html#dataBinding)

# asp.net - .NET 应用程序中的自动 Ado.Net 层生成工具

> ID：13392602
> 
> 赞同：1
> 
> 时间：2012-11-15T06:35:52.070
> 
> 标签：asp.net, .net, linq, ado.net, data-access-layer

我已经阅读了一些关于 .Net 应用程序中 ADO.Net 数据访问层的自动代码生成的文章。有一些可用的工具，例如 CodeSmith 或 LLBLGen Pro。有没有人有使用这些工具的经验？使用这些工具比使用 LINQ 更好吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T22:13:10.693

更好的是主观的-但是，我了解您真正想问的问题。本质上，我对哪种工具最适合（最好）工作的问题的回答是：这取决于工作。Linq -> SQL 是较老的技术，M$ 没有更新或改进的计划。我会远离它......如果你想要类似的功能实体框架或另一个 ORM 是最好的。

NoSQL 现在是巨大的，并且由于没有数据库开发或映射或 ORM 层需要处理，因此大大提高了生产力。只需创建您的实体并存储它们！我对这些的建议是：

乌鸦数据库

沙发底座

MongoDB

里亚克

雷迪斯

卡桑德拉

还有一些图形数据库可用于以某种方式相关的“事物”的“网络”……我使用的两个如下：

Neo4j（流行，基于 java，有 .net 客户端）

Sones（基于.net - 街区的新孩子）

至于 SQL 数据库——嗯，有些公司不想忍受范式转变，或者要求公司只使用 x 数据库，等等……在这些情况下，你必须使用你必须工作的任何东西和。ORM 可以在这个领域提供帮助......下面列出了一些流行的 ORM：

实体框架 (M$)

NHibernate（非常流行）

亚音速（较旧但仍在使用）

小巧玲珑

大量的

PetaPOCO

至于常规的 ado.net 并解决您的主要问题 - 没有很多框架可以为普通 ado.net 等生成数据层......但我确实找到了这些，结果证明它在我的项目：

[http://www.elencysolutions.co.uk/](http://www.elencysolutions.co.uk/) （非开源）

[http://spgen.codeplex.com/](http://spgen.codeplex.com/SourceControl/list/patches)（开源和可定制）

[http://www.nettiers.com/](http://www.nettiers.com/)（开源但有点旧）

# c# - 在 Codedom 中使用不安全代码构建程序

> ID：13392604
> 
> 赞同：2
> 
> 时间：2012-11-15T06:36:01.220
> 
> 标签：c#, codedom, unsafe

我正在尝试从使用 Codedom 的应用程序中编译一些不安全的代码，但每次我收到一条错误消息说我必须使用“/unsafe”。我已经用谷歌搜索了这个问题并添加了：

```
Parameters.CompilerOptions = "/unsafe"; 
```

到我的代码域代码。有什么简单的解决方案吗？

编辑：如果还不清楚，我的解决方案不起作用。

编辑：这是课程。

```
 public static bool Compile(string EXE_Name, string Source)
    {
        var Compiler = new CSharpCodeProvider();
        var Parameters = new CompilerParameters
        {
            CompilerOptions = "/unsafe"
        };
        CompilerResults cResults = default(CompilerResults);

        Parameters.GenerateExecutable = true;
        Parameters.OutputAssembly = EXE_Name;
        Parameters.ReferencedAssemblies.Add(typeof(System.Xml.Linq.Extensions).Assembly.Location);
        Parameters.ReferencedAssemblies.Add("System.dll");
        Parameters.ReferencedAssemblies.Add("System.Core.dll");
        Parameters.ReferencedAssemblies.Add("System.Data.dll");
        Parameters.ReferencedAssemblies.Add("System.Data.DataSetExtensions.dll");
        Parameters.ReferencedAssemblies.Add("System.Deployment.dll");
        Parameters.ReferencedAssemblies.Add("System.Windows.Forms.dll");
        Parameters.ReferencedAssemblies.Add("System.Drawing.dll");
        Parameters.ReferencedAssemblies.Add("System.Xml.dll");

        Parameters.CompilerOptions = " /target:winexe";
        Parameters.TreatWarningsAsErrors = false;

        cResults = Compiler.CompileAssemblyFromSource(Parameters, Source);

        if (cResults.Errors.Count > 0)
        {
            foreach (CompilerError CompilerError_loopVariable in cResults.Errors)
            {
                CompilerError error = CompilerError_loopVariable;
                MessageBox.Show("Error: " + error.ErrorText, "", MessageBoxButtons.OK, MessageBoxIcon.Error);
            }
            return false;
        }
        else if (cResults.Errors.Count == 0)
        {
            return true;
        }
        return true;
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:52:25.977

它对我有用 - 也许您没有正确设置参数？

```
using System.CodeDom.Compiler;
using Microsoft.CSharp;

class Test
{
    public static void Main(string[] args)
    {
        var compiler = new CSharpCodeProvider();
        var parameters = new CompilerParameters { 
            CompilerOptions = "/unsafe"
        };
        var source = "unsafe struct Foo {}";
        var result = compiler.CompileAssemblyFromSource(parameters, source);
        // No errors are shown with the above options set
        foreach (var error in result.Errors)
        {
            Console.WriteLine(error);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-31T17:02:53.750

```
var Parameters = new CompilerParameters
    {
        CompilerOptions = "/unsafe"
    }; 
```

然后：

```
Parameters.CompilerOptions = " /target:winexe"; 
```

您只需将“/unsafe”替换为“/target:winexe”。利用：

```
Parameters.CompilerOptions += " /target:winexe"; 
```

# android - 在 eclipse-Android 4.2-Unable to build: 文件 dx.jar 没有从 SDK 文件夹中加载

> ID：13392617
> 
> 赞同：1
> 
> 时间：2012-11-15T06:37:42.537
> 
> 标签：android

我在 Eclipse(Indigo) 中使用 SDK Manager 和 ADT 21.0.0.v201210310015-519525 更新了 Android 4.2 SDK。

我创建了一个新项目，构建并尝试运行它。我得到了错误

[2012-11-15 11:38:19 - MyApp] 未知错误：无法构建：未从 SDK 文件夹加载文件 dx.jar！

如何解决这个问题？我用谷歌搜索了很多。但我没有找到解决这个问题的任何正确方法。我有干净的项目并尝试过，但这也行不通。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-04T13:16:06.520

**1.**打开安卓 SDK 管理器。

**2.**前往`Tools`→ `Options`。

**3.**点击`Clear Cache`→ `Close`。

**4.**转到包→重新加载。

您现在应该会在“Android 4.2 (API17)”下看到更多可用的软件包，并且您应该能够毫无问题地安装它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:05:15.423

我昨天更新 Eclipse 而不是 Android SDK 时遇到了这个问题。确保您的 Android SDK 已更新。否则你可能想看看这个答案..

[Android ADT 错误，未从 SDK 文件夹加载 dx.jar](https://stackoverflow.com/questions/5228453/android-adt-error-dx-jar-was-not-loaded-from-the-sdk-folder)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T15:33:45.880

它也发生在我身上，尝试关闭并重新启动 Eclipse。

清理项目并运行。

这个对我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-29T07:49:45.473

在我的情况下，platform-tools 文件夹中没有 lib 文件夹，所以我只需在 platform-tools 文件夹中创建一个新的 lib 文件夹，然后粘贴我在该 lib 文件夹的 buildtools 文件夹中找到的 dx.jar ......它对我有用:)

# php - VB.NET http 响应

> ID：13392618
> 
> 赞同：0
> 
> 时间：2012-11-15T06:37:46.777
> 
> 标签：php, vb.net, http, webrequest

我正在尝试将 2 个变量发布到 php 脚本，然后返回网站上显示的文本。

我是VB6，我是按照以下方式完成的，效果很好。有人可以告诉我如何在 VB.NET 中执行此操作吗？

```
Public Function GetHTTPResponse() As String

Dim sPost$
sPost$ = "http://www.somedomain.com/somescript.php"
sPost$ = sPost$ & "?variable1=MYVAR1"
sPost$ = sPost$ & "&variable2=MYVAR2"

'=======================================================
'"?" Prefix 1st Variable, "&" prefix for subsequent vars
'=======================================================
Dim iPos&
iPos = InStr(sPost, "?")
If (iPos = 0) Then
    Exit Function
End If

Dim sDomain$
sDomain$ = Left$(sPost, (iPos - 1))

'====================================
'Pack the post data into a byte array
'====================================
Dim sPostData As String
sPostData = Right$(sPost, Len(sPost) - iPos)

Debug.Print sPostData

Dim bytpostdata() As Byte
pBuildPostData bytpostdata(), sPostData

'=============================
'Write the byte into a variant
'=============================
Dim varPostData As Variant
varPostData = bytpostdata
'=================
'Create the Header
'=================
Dim sHeader$
sHeader = "application/x-www-form-urlencoded" + Chr(10) + Chr(13)
'=============
'Post the data
'=============
Dim xmlhttp As Object
Set xmlhttp = CreateObject("MSXML2.ServerXMLHTTP")

xmlhttp.Open "POST", sDomain, False
xmlhttp.setRequestHeader "Content-Type", sHeader
xmlhttp.sEnd varPostData

Dim sRet$
sRet = xmlhttp.responseText

GetHTTPResponse = sRet

End Function 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T06:37:15.130

我终于在这里找到了解决方案：

[http://www.pcreview.co.uk/forums/using-webclient-webrequest-webresponse-post-postdata-and-get-result-t1222629.html](http://www.pcreview.co.uk/forums/using-webclient-webrequest-webresponse-post-postdata-and-get-result-t1222629.html)

# jquery - 有人可以告诉我如何在母版页中的按钮单击上注册 jquery 功能

> ID：13392619
> 
> 赞同：0
> 
> 时间：2012-11-15T06:38:05.013
> 
> 标签：jquery, asp.net

大家好，我有一个母版页，其中有一个按钮，我在其中编写了一些脚本，如下所示

```
<script type="text/javascript">

    $(document).ready(function () {
        $("#btnMaster").click(f2());
    });
    function f2() {
        if (isDirty == 1) {
            jConfirm('Can you confirm this?', 'Confirmation Dialog', function (r) {
                if (r == true) {
                    document.location.href = "http://localhost:2758/Waitingweb/Status.aspx";

                }
                else
                    return false;

            });
            //return false;
            return false;
        }
        else {

        }
    }
</script> 
```

在我的母版页加载中，我写如下

```
if (!IsPostBack)
    {
        //Page.ClientScript.RegisterStartupScript(Page.GetType(), "PostbackClick", "$('#btnMaster').click();", true);
        Page.ClientScript.RegisterStartupScript(this.GetType(), "click", "f2();", true);
        Page.ClientScript.RegisterStartupScript(this.GetType(), "myScript", "<script type=\"text/JavaScript\" language=\"javascript\">f2();</script>");
    } 
```

但是在处理内容页面中的按钮时我无法触发所需的内容，所以有人可以帮助我解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:42:15.603

您只需在单独的 .js 文件中创建 f2 函数并使用标记和 src="youfile.js" 运行该文件，就像您执行此操作并调用 jQuery 文件一样，因此在这种情况下，您的所有页面都可以看到f2 函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:05:24.980

在按钮控件的 OnClientClick 上可以调用如下函数：

```
<asp:Button ID="btSaveForm" runat="server" OnClientClick="f2();" />

 also check your button click jquery function:

<script type="text/javascript" language="javascript">
 $(document).ready(function()
 {
     $('#addButton').click(function() 
     { 
        // write your code here 
     });
 }); 
```

# jersey - 从泽西岛返回 JSONP

> ID：13392623
> 
> 赞同：9
> 
> 时间：2012-11-15T06:38:48.607
> 
> 标签：jersey, jsonp

我目前正在使用 Jersey 来返回 JSON。如何改为返回 JSONP？例如，我目前的 RESTful 方法是：

```
@GET
@Produces(MediaType.APPLICATION_JSON)
public List<Order> getOrders() {
    return OrderRepository.getOrders();
} 
```

我想在 Tomcat 上部署（不想要求使用 GlassFish）。我对泽西岛的唯一依赖是：

```
 <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-json</artifactId>
        <version>1.9.1</version>
    </dependency>

    <dependency>
        <groupId>com.sun.jersey</groupId>
        <artifactId>jersey-server</artifactId>
        <version>1.9.1</version>
    </dependency> 
```

需要哪些额外的依赖？代码将如何变化？

谢谢。
纳雷什

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-15T10:13:30.710

看看 Jersey 中的[JSONP](http://java.net/projects/jersey/sources/svn/show/tags/jersey-1.9.1/jersey-1.9.1/jersey/samples/jsonp?rev=5806)示例（尤其是[ChangeList资源）（您可以在](http://java.net/projects/jersey/sources/svn/content/tags/jersey-1.9.1/jersey-1.9.1/jersey/samples/jsonp/src/main/java/com/sun/jersey/samples/jsonp/resources/ChangeList.java?rev=5806)[此处](http://repo1.maven.org/maven2/com/sun/jersey/samples/jsonp/1.9.1/jsonp-1.9.1-project.zip)下载整个项目）。

你基本上需要做的是这样的：

```
@GET
@Produces(MediaType.APPLICATION_JSON)
public JSONWithPadding getOrders() {
    return new JSONWithPadding(new GenericEntity<List<Order>>(OrderRepository.getOrders()){});
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-10-14T12:48:36.537

正如@s_t_e_v_e 所说，修改正确答案很重要。它应该是这样的：

```
@GET
@Produces({"application/javascript"})
public JSONWithPadding getOrdersJSonP(@QueryParam("callback") String callback) {
    List<Order> orderList = OrderRepository.getOrders();
    return new JSONWithPadding(new GenericEntity<List<Order>>(orderList){}, 
                callback);
    } 
```

# javascript - 组合地理定位框架

> ID：13392630
> 
> 赞同：3
> 
> 时间：2012-11-15T06:39:39.803
> 
> 标签：javascript, geolocation, ip-geolocation

基本上，有多种地理定位方式 - GPS、WiFi 定位（天钩）、IP、小区三角测量。

是否有任何框架/服务能够使用所有这些？（或至少前三个）

尝试最精确的一种，如果失败 - 回退到不太精确的一种（GPS 关闭、在室内、用户禁止小区检测等）。我检查过 Google Gears - 它只使用 IP 和 GPS。

最好的一个是 Javascript 框架（可用于 Web 应用程序），但任何一个都可以仔细观察。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T18:07:25.963

你为什么不使用 HTML5 原生方法？

```
getCurrentPosition(success_callback,error_callback) 
```

# entity-framework - 使用 Entity Framework 5 和 nuget 重新创建表

> ID：13392634
> 
> 赞同：16
> 
> 时间：2012-11-15T06:39:53.937
> 
> 标签：entity-framework, nuget, entity-framework-migrations

我正在使用 Code First 创建一个表。

我创建了类、映射文件并在 nuget 中发出了 add-migration 命令，然后是 update-database 命令

然后我改变了班级，像个白痴一样删除了桌子。

我删除了迁移类文件

我发出了一个 add-migration 命令

当我发出 update-database 命令时，出现以下错误：

> System.Data.SqlClient.SqlException (0x80131904)：找不到对象“dbo.CorrectiveActionPlan”，因为它不存在或您没有权限。在 System.Data.SqlClient.SqlConnection.OnError（SqlException 异常，布尔 breakConnection，操作`1 wrapCloseInAction) at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) 在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) 在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject state&Obj, Boolean dataReady) 在 System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout) 在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource `1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite) at System.Data.SqlClient.SqlCommand.ExecuteNonQuery() at System.Data.Entity.Migrations.DbMigrator.ExecuteSql(DbTransaction transaction, MigrationStatement migrationStatement) at System.Data.Entity.Migrations.Infrastructure.MigratorLoggingDecorator.ExecuteSql(DbTransaction transaction, MigrationStatement migrationStatement) at System.Data.Entity.Migrations.DbMigrator.ExecuteStatements(IEnumerable`1 migrationStatements) 在 System.Data.Entity.Migrations.Infrastructure.MigratorBase。 ExecuteStatements（IEnumerable`1 migrationStatements) at System.Data.Entity.Migrations.DbMigrator.ExecuteOperations(String migrationId, XDocument targetModel, IEnumerable`System.Data.Entity.Migrations.Infrastructure.MigratorLoggingDecorator.ApplyMigration(DbMigration migration, DbMigration lastMigration) 在 System.Data.Entity.Migrations.DbMigrator.ApplyMigration(DbMigration migration, DbMigration lastMigration) 的 1 个操作，布尔降级，布尔自动System.Data.Entity.Migrations.DbMigrator.Upgrade（IEnumerable 1 pendingMigrations，字符串 targetMigrationId，字符串 lastMigrationId）`1 pendingMigrations, String targetMigrationId, String lastMigrationId)
> at System.Data.Entity.Migrations.Infrastructure.MigratorLoggingDecorator.Upgrade(IEnumerable`
> 在 System.Data.Entity.Migrations.DbMigrator.Update(String targetMigration) 在 System.Data.Entity.Migrations.Infrastructure.MigratorBase.Update(String targetMigration) 在 System.Data.Entity.Migrations.Design.ToolingFacade.UpdateRunner.RunCore () 在 System.Data.Entity.Migrations.Design.ToolingFacade.BaseRunner.Run() ClientConnectionId:a6e92a35-cc9e-4867-97a5-0a274081d853 找不到对象“dbo.CorrectiveActionPlan”，因为它不存在或您没有权限。

如何强制 EF 重新创建表？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-11-15T07:05:01.863

我找到了我的答案。

我删除了 [dbo].[__MigrationHistory] ​​中与我的迁移相对应的行

然后我删除了新的迁移文件

我重新运行了添加迁移

然后重新运行 update-database -verbose

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-26T02:48:24.967

我为**代码优先迁移**保留了一些选项，它们取决于您需要删除表或删除记录的原因。这是我的方法：

*   如果您修改了模型并且映射导致错误导致您无法更新表，您可以**使用 SQL Management Server Studio 删除整个数据库并删除迁移文件夹**您可能需要保存脚本以重新填充您的测试数据使用 sql 脚本或保存您的 Configuration.cs 文件，当您执行更新数据库命令时，数据将被重新填充。

    下面是一个存储过程的脚本示例，它只删除表数据：

    ```
    USE [DatabaseName]
    GO
    SET ANSI_NULLS ON
    GO
    SET QUOTED_IDENTIFIER ON
    GO
    CREATE PROCEDURE [dbo].[sp_DeleteAllYardPenaltyRecords]
    AS
    EXEC sp_MSForEachTable 'ALTER TABLE ? NOCHECK CONSTRAINT ALL'
    EXEC sp_MSForEachTable 'ALTER TABLE ? DISABLE TRIGGER ALL'
    EXEC sp_MSForEachTable 'DELETE FROM ?'
    EXEC sp_MSForEachTable 'ALTER TABLE ? CHECK CONSTRAINT ALL'
    EXEC sp_MSForEachTable 'ALTER TABLE ? ENABLE TRIGGER ALL'
    EXEC sp_MSFOREACHTABLE 'SELECT * FROM ?' 
    ```

*   如果您只想删除数据，可以使用包管理器控制台命令：`PM> Update-Database -TargetMigration $InitialDatabase`& 删除创建的迁移文件，即：“201502210525393_example_with_error.cs”并再次重新运行“Add-Migration new_example.cs”。这会将数据库恢复到其**初始快照**

*   或者您可以使用您的方法：删除`[dbo].[__MigrationHistory]`& 迁移文件中的行，即：'201502210525393_example_with_error.cs' 然后重新运行`add-migration`并`update-database`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-03-12T00:00:53.130

您可以删除数据库，然后从包管理器控制台运行“update-database”命令，所有内容都将重新创建，包括您所做的任何更新。

# javascript - 解析xml javascript-将标签显示为文本

> ID：13392637
> 
> 赞同：0
> 
> 时间：2012-11-15T06:40:05.133
> 
> 标签：javascript, xml-parsing

假设xml是：

```
<title><script>alert("Hello");</script></title> 
```

下面的代码返回 null。

```
txt=xmlDoc.getElementsByTagName("title")[0].childNodes[0].nodeValue; 
```

我希望 txt 具有以下值，并且我想将其显示为文本。

```
<script>alert("Hello");</script> 
```

我如何解析xml？

xml 也可以是这样的：

```
<title><sample>alert("Hello");</sample></title> 
```

我只想将标题标签中的全部内容作为文本而不考虑标题标签的内容

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:14:50.477

这是解决方案！

```
<script type="text/javascript">
var xml = "<title><sample>alert(1);</sample></title>";
if (window.DOMParser)
{
    parser=new DOMParser();
    xmlDoc=parser.parseFromString(xml,"text/xml");

    var data = xmlDoc.getElementsByTagName("title");
    for (i=0;i<data.length;i++){
        document.write("<div class='script'>")
        document.write("&lt;"+xmlDoc.getElementsByTagName("title")[i].childNodes[0].nodeName+">"+xmlDoc.getElementsByTagName("sample")[i].childNodes[0].nodeValue+"&lt;/"+xmlDoc.getElementsByTagName("title")[i].childNodes[0].nodeName+">");
        document.write("</div>")
    }
}
</script> 
```

注意脚本标签“< script>”中的空白，这将避免执行其中的脚本，如果删除此空白，则脚本将被执行，并且输出将显示在警报中而不是文档正文中。

还要注意我在 xml 字符串中使用的反斜杠“\”，这是因为 JavaScript 以标签结尾，所以添加反斜杠将使其成为字符串的一部分。

# excel - 我可以使用 CountIf 函数来计算包含某些日期关键字的单元格的数量吗？

> ID：13392638
> 
> 赞同：1
> 
> 时间：2012-11-15T06:40:05.873
> 
> 标签：excel, date

我有一组看起来像这样的数据：

11/8/12 5:20

11/7/12 15:57

11/7/12 13:51

11/7/12 10:47

11/7/12 8:00

就在 Excel 中，我希望能够计算 11/8/12 的行数，以及从 11/7 开始的行数等。我有一个很长的日期和时间列表，但我只对日期感兴趣。

我试过 =COUNTIF(A1:A235, "<11/8/12 5:20") 在 11/8 之前获取所有内容，但显然这不起作用，因为我需要输入时间。有谁知道如何：

1）使时间戳无关？2）以某种方式搜索“包含”某个日期值的行并计算包含该值的行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:48:02.277

您可以在单元格中插入应使用的日期，例如 F7，然后您的公式将如下所示

```
=COUNTIF(E8:E12;"<"&F7) 
```

然后如果您的F7*将*包含*countif*将返回 3`11/7/12 14:00`

 **注意：预计英国日期 11/7/12 是 dd/mm/yy*

编辑：日期功能

当我看到另一个答案时，我想展示另一种方法，即文化安全。每当我们放置一些代表日期的字符串时，可能会发生同事具有不同的区域设置*（例如英国 dd/mm/yy 与美国 mm/dd/yy）*

这就是为什么我将它`date`放入单独的单元格中，无论文化如何，都代表日期。如果所有这些都必须放在一个单元格中，正确的方法是使用 Date 函数

```
=COUNTIF(E8:E12;"<"&DATE(2012;7;11)+TIME(14;0;0)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T12:59:42.653

在 Excel 中，日期是整数，时间是小数值，因此您可以简单地在一个日期和下一个日期（日期 +1）之间计数，以在一个日期获取所有内容，例如 11/7 的所有内容

`=COUNTIF(A1:A235, ">=11/7/12")-COUNTIF(A1:A235, ">="&"11/7/12"+1)`

或者在 Excel 2007 或更高版本中，您可以使用 COUNTIFS

`=COUNTIFS(A1:A235, ">=11/7/12",A1:A235,"<"&"11/7/12"+1)`

对于任何一个，您都可以使用带有 Radim 建议的日期的单元格引用，即 B1 中的日期

`=COUNTIFS(A$1:A$235,">="&B1,A$1:A$235,"<"&B1+1)`

使用最后一个版本，您可以简单地列出 B1 中的所有日期，然后使用 C1 中复制的公式来获取每个日期的计数*

# java - 访问自定义字段 Salesforce

> ID：13392640
> 
> 赞同：1
> 
> 时间：2012-11-15T06:40:11.180
> 
> 标签：java, salesforce, apex-code, force.com

我在 Salesforce 的联系人对象中创建了一个自定义字段，其 API 名称为“Resume_Text__c”，并且我正在通过编写以下 SOQL 使用 Java 实现进行 SOAP 调用以获取该字段的值。

```
SELECT  Resume_Text__c FROM Contact 
```

但是执行查询会引发以下异常。

```
No such column 'Resume_Text__c' on entity 'Contact'. If you are attempting to use a custom field, be sure to append the '__c' after the custom field name. Please reference your WSDL or the describe call for the appropriate names.' 
```

那么如何通过 Soap API Java 实现访问自定义字段呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:57:31.143

每当您在实施中使用**Enterprise.wsdl**文件时，您需要确保每次在 Salesforce.com 环境中创建一些新字段和对象时，**刷新 Enterprise.wsdl**以导入所有依赖映射，否则将与**合作伙伴一起使用。 wsdl** _

# java - 如何修复java中的连接重置异常？

> ID：13392642
> 
> 赞同：2
> 
> 时间：2012-11-15T06:40:35.340
> 
> 标签：java, youtube, youtube-api

我正在尝试将视频上传到 youtube：我的代码是：

```
private static void uploadVideo(YouTubeService service) throws IOException {
    System.out.println("First, type in the path to the movie file:");

    File videoFile = new File(readLine());

    if (!videoFile.exists()) {
      System.out.println("Sorry, that video doesn't exist.");
      return;
    }

    System.out.println(
        "What is the MIME type of this file? (ex. 'video/quicktime' for .mov)");

    String mimeType = readLine();

    System.out.println("What should I call this video?");
    String videoTitle = readLine();

    VideoEntry newEntry = new VideoEntry();

    YouTubeMediaGroup mg = newEntry.getOrCreateMediaGroup();

    mg.addCategory(new MediaCategory(YouTubeNamespace.CATEGORY_SCHEME, "Entertainment"));
    mg.setTitle(new MediaTitle());
    mg.getTitle().setPlainTextContent(videoTitle);
    mg.setKeywords(new MediaKeywords());
    mg.getKeywords().addKeyword("gdata-test");
    mg.setDescription(new MediaDescription());
    mg.getDescription().setPlainTextContent(videoTitle);
    mg.setPrivate(false);
    mg.addCategory(new MediaCategory(YouTubeNamespace.DEVELOPER_TAG_SCHEME, "mydevtag"));
    mg.addCategory(new MediaCategory(YouTubeNamespace.DEVELOPER_TAG_SCHEME, "anotherdevtag"));
    newEntry.setGeoCoordinates(new GeoRssWhere(37.0,-122.0));
    MediaFileSource ms = new MediaFileSource(videoFile, mimeType);

    newEntry.setMediaSource(ms);

    try {

      service.insert(new URL(VIDEO_UPLOAD_FEED), newEntry);

    } catch (ServiceException se) {
      System.out.println("Sorry, your upload was invalid:");
      System.out.println(se.getResponseBody());
      return;
    }

    System.out.println("Video uploaded successfully!");
  }

        switch(uploader.getUploadState()) {
          case COMPLETE:
            output.println("Uploaded successfully");
            break;
          case CLIENT_ERROR:
            output.println("Upload Failed");
            break;
          default:
            output.println("Unexpected upload status");
            break;
        }

     } 
```

当我运行它时，它显示异常：

```
java.net.SocketException: Connection reset
at java.net.SocketInputStream.read(SocketInputStream.java:189)
    at java.net.SocketInputStream.read(SocketInputStream.java:121)
    at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
    at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:641)
    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:589)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1319)
    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)
    at com.google.gdata.client.http.HttpGDataRequest.checkResponse(HttpGDataRequest.java:490)
    at com.google.gdata.client.http.HttpGDataRequest.execute(HttpGDataRequest.java:470)
    at com.google.gdata.client.http.GoogleGDataRequest.execute(GoogleGDataRequest.java:534)
    at com.google.gdata.client.media.MediaService.insert(MediaService.java:353)
    at ytupload.YouTubeWriteClient.uploadVideo(YouTubeWriteClient.java:514)
    at ytupload.YouTubeWriteClient.main(YouTubeWriteClient.java:837) 
```

我从 main 调用的函数。上传（服务）；其中 service = new YouTubeService(clientId,developerKey); 我该如何修复这个错误？我浪费了一天的时间..但无法弄清楚。请建议。

编辑：VIDEO_UPLOAD_FEED ="http://gdata.youtube.com/feeds/api/users/abc123/uploads"

如果我想将视频文件的路径作为一些 http url 给出呢？请建议。提前感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:05:42.843

您是否成功设置了服务上的用户凭据？它可能用于创建与服务器的连接。

```
service.setUserCredentials(User, Password); 
```

看看[这个](https://stackoverflow.com/questions/11256455/video-is-rotated-when-upload-on-youtube-android)

# java - 复制两个向量java

> ID：13392653
> 
> 赞同：1
> 
> 时间：2012-11-15T06:41:27.993
> 
> 标签：java, vector, copy

我试图编译以下代码行并得到错误：

```
 public class c
  {
   vector<a> variables;
   void create_c(Vector<a> l)
   {    
     Vector<a> variables = new Vector<a>();
     variables.setSize(l.size()); // so that variables has enough capacity to store l
     /*variables= l.clone();*/
     Collections.copy(variables, l);
    }

   } 
```

我正在尝试使用 clone() 方法或 Collections.copy() 方法将一个向量的内容复制到另一个向量。in 向量实际上是另一个具有自己的方法和变量的类。

```
 public class a
 {

 int a;
 void add_a(int y)
 {
 a=y;
 }

 } 
```

虽然大多数人都建议使用 Arraylist()，但我也想使用 Vector 来实现它并检查性能。所以，如果有人能给我一个涉及向量的解决方案，我会很高兴。

代码的问题是我在 Collections.copy(variables,l) 处收到错误消息“类型不匹配：无法从对象转换为向量”。如果我注释掉 Collections.copy() 并在下一行中使用 clone() 语句尝试它，我会得到同样的错误。

我还必须提到，我的 a 类是一个公共类，在同一个包中拥有自己的文件。

我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T08:05:16.363

首先你需要注意以下几点

*   `variables= l.clone()`可以通过转换为您的 Vector 来解决编译错误。像这样`variables = (Vector<a>)l.clone()`（顺便说一句，忽略类型转换警告）
*   给定的代码`Collections.copy(variables, l);`编译得很好，没有任何错误
*   尝试`Java Naming Conventions`始终使用

`Collections.copy()`为您提供收藏的浅表副本。使用以下示例制作您的收藏的深层副本。

*   这里被复制的类应该实现`Cloneable`接口并覆盖`clone`方法
*   迭代原始集合并将克隆的对象添加到目标集合
*   该`createCopy`函数返回深度复制的集合
*   注意控制台打印语句中复制向量和原始向量的内存位置的差异

`TestCopy`班级_

```
package com.test;

import java.util.Vector;

public class TestCopy {

    private Vector<ClassToCopy> createCopy(Vector<ClassToCopy> classToCopy) {
        Vector<ClassToCopy> localVariable = new Vector<ClassToCopy>();
        for(ClassToCopy classVar:classToCopy)
            try {
                localVariable.add((ClassToCopy)classVar.clone());
            } catch (CloneNotSupportedException e) {
                e.printStackTrace();
            }
        return localVariable;
    }

    public static void main(String[] args) {

        Vector<ClassToCopy> originalVector = new Vector<ClassToCopy>();

        TestCopy testCopy = new TestCopy();
        originalVector.add(new ClassToCopy(1));
        originalVector.add(new ClassToCopy(2));
        originalVector.add(new ClassToCopy(3));
        originalVector.add(new ClassToCopy(4));
        System.out.println(originalVector);

        Vector<ClassToCopy> copiedVector = testCopy.createCopy(originalVector);
        System.out.println(copiedVector);

    }

} 
```

`ClassToCopy`班级_

```
package com.test;

public class ClassToCopy implements Cloneable {

    private int varA;

    /**
     * Constructor for ClassToCopy.
     * @param varA <tt></tt>
     */
    public ClassToCopy() {
        this(-1);
    }

    /**
     * Constructor for ClassToCopy.
     * @param varA <tt></tt>
     */
    public ClassToCopy(int varA) {
        super();
        this.varA = varA;
    }

    /**
     * Gets the varA.
     * 
     * @return <tt> the varA.</tt>
     */
    public int getVarA() {
        return varA;
    }

    /**
     * Sets the varA.
     *
     * @param varA <tt> the varA to set.</tt>
     */
    public void setVarA(int varA) {
        this.varA = varA;
    }

    /* (non-Javadoc)
     * @see java.lang.Object#toString()
     */
    @Override
    public String toString() {
        return "ClassToCopy : "+super.toString()+" [varA=" + varA + "]";
    }

    /* (non-Javadoc)
     * @see java.lang.Object#clone()
     */
    @Override
    protected Object clone() throws CloneNotSupportedException {
        // TODO Auto-generated method stub
        return super.clone();
    }

} 
```

我得到的输出

```
[ClassToCopy : com.test.ClassToCopy@19821f [varA=1], ClassToCopy : com.test.ClassToCopy@addbf1 [varA=2], ClassToCopy : com.test.ClassToCopy@42e816 [varA=3], ClassToCopy : com.test.ClassToCopy@9304b1 [varA=4]]
[ClassToCopy : com.test.ClassToCopy@190d11 [varA=1], ClassToCopy : com.test.ClassToCopy@a90653 [varA=2], ClassToCopy : com.test.ClassToCopy@de6ced [varA=3], ClassToCopy : com.test.ClassToCopy@c17164 [varA=4]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:12:19.213

嗨 Floose 尝试以下方法。这是工作 。

```
import java.util.Collections;
import java.util.Vector;

public class VectorCopyTest {

Vector<String> variables;

   void create_c(Vector l)
   {    
     Vector<String> variables = new Vector<String>();
     variables.setSize(l.size()); // so that variables has enough capacity to store l
     /*variables= l.clone();*/
     Collections.copy(variables, l);
     System.out.println(variables.size());
    }

   public static void main(String a[]){
       Vector<String> variables1 = new Vector<String>();
       variables1.addElement("hi");
       variables1.addElement("hello");
       VectorCopyTest copyTest = new VectorCopyTest();
       copyTest.create_c(variables1);
   } 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-31T10:58:20.107

```
Vector newVector = (Vector) oldVector.clone(); 
```

上面的代码仅适用于深度复制向量。

# javascript - 如何使用javascript验证帐号？

> ID：13392654
> 
> 赞同：0
> 
> 时间：2012-11-15T06:41:52.140
> 
> 标签：javascript

`var expression=/[0-9]{4}\s[0-9]{4}\s[0-9]{2}\s[0-9]{10}/;`

这是 iam 用于验证帐号的表达式。它工作得很好。但我需要通过 - 而不是空间来验证它。我该怎么做？

```
例如：XXXX-XXXX-XX-XXXXXXXXXX (4+4+2+10)
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:43:54.047

只需将所有这些`'\s'`标记替换为`'-'`. 在字符类范围之外`'[]'`，`'-'`被视为普通字符（在范围内，您必须因此对其进行转义`'\-'`：）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T06:53:35.303

替换`\s`为`-`你得到：

```
var expression=/[0-9]{4}-[0-9]{4}-[0-9]{2}-[0-9]{10}/;
expression.test('4444-4444-22-01234567890') /*return true*/ 
```

替换`\s`为`""`你得到：

```
var expression=/[0-9]{4}[0-9]{4}[0-9]{2}[0-9]{10}/;
expression.test('444444442201234567890') /*return true*/ 
```

# c++ - PropertyGrid 中的按钮

> ID：13392664
> 
> 赞同：4
> 
> 时间：2012-11-15T06:42:34.917
> 
> 标签：c++, user-interface, wxwidgets

有没有办法将属性设置为按钮或将按钮添加到属性？查看网格示例，我注意到您可以执行以下操作

```
wxPGEditor* editorButton = wxPropertyGrid::RegisterEditorClass(someButton);
propertyGrid->SetPropertyEditor(wxT("Name"), editorButton ); 
```

但是，我希望有不同的按钮，而不仅仅是一种类型，这将支持。

**编辑**：通过不同的按钮，我的意思是不需要使用编辑器的按钮。我想做的是设置一个 onClick 回调函数，就像你通常为 wxButton 设置的那样，但将它设置为一个属性。

**EDIT2**：为了清楚起见，我希望属性字段本身只是一个按钮。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T02:17:52.303

您必须创建一个自定义 wxPGEditor，它根据存储在属性中的数据中继按钮事件。wxPGProperty 可以存储用户定义的数据（`wxClientData`），这些数据可用于存储回调函数。

首先，您必须定义将在按钮事件上调用的处理程序的函数签名。

```
typedef bool (wxEvtHandler::*ButtonEventMethod)(wxPGProperty*); 
```

处理程序接收附加属性作为参数，如果属性被修改，则应返回 true。

现在需要一个基于 wxClientData 的类来存储回调：

```
struct ButtonData : wxClientData {
    ButtonData(ButtonEventMethod method, wxEvtHandler* handler)
        : _method(method), _handler(handler) {}
    bool call(wxPGProperty* property) {
        return (*_handler.*_method)(property);
    }
private:
    ButtonEventMethod _method;
    wxEvtHandler* _handler;
}; 
```

这个类只是存储了方法的地址和它所属的类。编辑器将从属性中提取此对象并执行该`call()`方法，该方法又执行回调：

```
class ButtonEventEditor : public wxPGTextCtrlAndButtonEditor {
protected:
    virtual bool OnEvent(wxPropertyGrid* propgrid, wxPGProperty* property,
        wxWindow* wnd_primary, wxEvent& event) const {
            // handle the button event
            if( event.GetEventType() == wxEVT_COMMAND_BUTTON_CLICKED )
                // extract the client data from the property
                if( ButtonData* btn = dynamic_cast<ButtonData*>(property->GetClientObject()) )
                    // call the method
                    return btn->call(property);
            return wxPGTextCtrlAndButtonEditor::OnEvent(propgrid,property,wnd_primary,event);
    }
}; 
```

总结一下，可以编写一个将方法“绑定”到属性的函数：

```
void BindButton(wxPGProperty* property, ButtonEventMethod method, wxEvtHandler* handler) {
    property->SetClientObject(new ButtonData(method,handler));
} 
```

还有一个宏使它更简单：

```
#define BIND_BUTTON(property,method,handler,editor) \
    property->SetEditor(editor); \
    BindButton(property,static_cast<ButtonEventMethod>(method),handler) 
```

现在您可以将成员函数绑定到属性：

```
// register the editor
wxPGEditor* editor = propertyGrid->RegisterEditorClass(new ButtonEventEditor());

// create a property
wxPGProperty* prop = propertyGrid->Append(new wxStringProperty("StringProperty"));

// bind method foo to the property
BIND_BUTTON(prop,&Frame::foo,this,editor); 
```

该方法`foo`可能如下所示：

```
bool Frame::foo(wxPGProperty* p) {
    p->SetValue("foo");
    return true;
} 
```

这只是演示 wxPGProperty 如何存储回调的示例（而不是创建多个 wxPGEditor）。回调存储（此处为 ButtonData）可以修改为存储[`std::function`](http://en.cppreference.com/w/cpp/utility/functional/function)or [`boost::function`](http://www.boost.org/doc/libs/1_52_0/doc/html/function.html)（这需要 C++11 或 boost）。

另一种方法是将回调信息存储在 wxPGEditor 实例中。但是，这将需要多个编辑器实例，一个用于每个不同的回调函数。

* * *

**更新**

> 在您单击字符串字段之前，实际的“按钮”不会显示

在选择属性之前，不会激活编辑器。您必须创建一个自定义`wxPGProperty`返回一个自定义`wxPGCellRenderer`来控制属性的表示（当它没有被编辑时）。不幸的是，这会产生一种错觉并要求用户单击按钮两次：首先激活属性（和编辑器），然后才是实际的按钮。想到的一种解决方案是`Click to edit`在单元格中显示文本或属性值的简短摘要。

虽然可以让自定义属性创建一个按钮并忽略编辑器系统，但属性网格并非设计为以这种方式工作，这种“黑客”可能会导致一些问题。但是，我在最后添加了那个hack。

> 有一个字符串字段，当我只想让按钮占据整个属性时

这只是我用作示例基类的编辑器的副作用，并且很容易更改。由于不需要 wxTextCtrl，只需`wxPGEditor`直接基于编辑器并自己创建控件（单个按钮）即可：

```
class ButtonEventEditor : public wxPGEditor {
protected:
    virtual wxPGWindowList CreateControls(wxPropertyGrid* propgrid, 
        wxPGProperty* property, const wxPoint& pos, const wxSize& size) const {
            // create and return a single button to be used as editor
            // size and pos represent the entire value cell: use that to position the button
            return wxPGWindowList(new wxButton(propgrid,wxPG_SUBID1,"Edit",pos,size));
    }
    // since the editor does not need to change the primary control (the button)
    // to reflect changes, UpdateControl is just a no-op
    virtual void UpdateControl(wxPGProperty* property, wxWindow* ctrl) const {}
    // and here we remove the call to the base class because it is abstract
    virtual bool OnEvent(wxPropertyGrid* propgrid, wxPGProperty* property,
        wxWindow* wnd_primary, wxEvent& event) const {
            if( event.GetEventType() == wxEVT_COMMAND_BUTTON_CLICKED )
                if( ButtonData* btn = dynamic_cast<ButtonData*>(property->GetClientObject()) )
                    return btn->call(property);
            return false;
    }
}; 
```

> 使用这种方法，似乎只能有一个属性编辑器

如果您的意思是 total:`wxPropertyGrid::RegisterEditorClass`只需向属性网格注册一个编辑器（网格将获得编辑器的所有权，并在属性网格被销毁时自动将其删除）。您可以注册任意数量的编辑器。您将编辑器设置为特定属性，而不是整个属性网格。

如果您的意思是同时：是的，不幸的是，在任何给定时间只能激活一个属性编辑器。

* * *

**黑客**

让我用我之前提到的 hack 来完成这个。

首先我们需要一个自定义`wxPGCellRenderer`来定位属性网格上的按钮：

```
class ButtonMover : public wxPGCellRenderer {
public:
    // pointer to the button from the property
    ButtonMover(wxButton* btn) : _btn(btn) {}
protected:
    virtual bool Render(wxDC &dc, const wxRect &rect, 
        const wxPropertyGrid *propertyGrid, wxPGProperty *property, 
        int column, int item, int flags) const {
            if( column == 0 ) { // 0 = label, 1 = value
                // instead of actually drawing the cell,
                // move the button to the cell position:
                wxRect rc(rect);
                // calculate the full property width
                rc.SetWidth(propertyGrid->GetClientRect().width-rect.GetX());
                _btn->SetSize(rc); // move button
                _btn->Show(); // initially hidden, show once 'rendered' (moved)
            }
            return true;
    }
private:
    wxButton* _btn;
}; 
```

现在我们可以创建自定义属性：

```
class ButtonProperty : public wxPGProperty {
public:
    // [parent] should be the property grid
    // [func] is the event handler
    // [button] is the button label
    // [label] is the property display name (sort name with autosort)
    // [name] is the internal property name
    ButtonProperty(wxWindow* parent, wxObjectEventFunction func,
        const wxString& button, const wxString& label=wxPG_LABEL,
        const wxString& name=wxPG_LABEL) 
        : wxPGProperty(label,name), _btn(new wxButton(parent,wxID_ANY,button)), 
            _renderer(_btn) {
                // connect the handler to the button
                _btn->Connect(wxEVT_COMMAND_BUTTON_CLICKED,func);
                _btn->Hide(); // when it's off the grid, it's not rendered 
                              // (thus not moved properly)
    }
protected:
    virtual wxPGCellRenderer* GetCellRenderer(int column) const {
        return &_renderer; // return button mover
    }
    virtual const wxPGEditor* DoGetEditorClass () const {
        return 0; // not using an editor
    }
private:
    wxButton* _btn; // the button attached to the property
    mutable ButtonMover _renderer; // the button mover
}; 
```

不再需要编辑器后，您现在可以将事件处理程序直接附加到属性：

```
propertyGrid->Append( new ButtonProperty(
    propertyGrid, // parent window
    wxCommandEventHandler(Frame::OnClick1), // event handler
    "Click me!") // button label
);

propertyGrid->Append( new ButtonProperty(
    propertyGrid,
    wxCommandEventHandler(Frame::OnClick2), 
    "Edit this!")
); 
```

处理程序看起来像这样：

```
void OnClick1(wxCommandEvent& event) {
    //TODO ...
} 
```

# xcode - Xcode：malloc_error_break 上的自动（永久）断点？

> ID：13392665
> 
> 赞同：2
> 
> 时间：2012-11-15T06:42:41.247
> 
> 标签：xcode, gdb, breakpoints, lldb

`malloc_error_break`是否可以在 Xcode 下设置自动（或永久）断点？（如果它在 Xcode 中而我错过了，请指出）。我希望它可以在 Xcode 下的任何地方工作——从 GDB 到 LLDB，再到新旧项目。我真的很希望它可以在设备上工作，但这可能会有些牵强（设备上的 malloc 保护[似乎有些问题）。](https://stackoverflow.com/questions/13396907/xcode-guard-malloc-and-on-device-debugging-libgmalloc-dylib-image-not-found)

我在想`.lldbinit`可能会有所帮助，但 LLDB 有点扼杀了这个想法。看来 LLDB 不遵守`.lldbinit`（根据`breakpoint list`）（[http://lldb.llvm.org/tutorial.html](http://lldb.llvm.org/tutorial.html)）中设置的断点。LLDB 也忽略了`.lldbinit-Xcode`（感谢 Rob）中的断点。

`.gdbinit`也可能有用，但我们可能会遇到[无法在 .gdbinit 中设置挂起断点中](https://stackoverflow.com/questions/12078313/unable-to-set-pending-breakpoints-in-gdbinit)讨论的错误。这是 Apple，他们的 QA 流程完全崩溃，所以我不希望它被修复。

总而言之，以下内容不适用于此 Mac（MacBook Pro，10.8）和 Xcode（4.5.2）：

```
riemann: jwalton$ cat ~/.lldbinit
# http://lldb.llvm.org/tutorial.html
# Not honored by LLDB
breakpoint set --name malloc_error_break
# Shot in the dark since the previous is not honored
breakpoint set pending --name malloc_error_break
riemann: jwalton$ cat ~/.gdbinit 
set breakpoint pending on
set breakpoint malloc_error_break
set breakpoint pending auto 
```

编辑（2013/02/07）：另见[lldb 等效于 .gdbinit 和未来中断？](http://prod.lists.apple.com/archives/xcode-users/2013/Feb/msg00067.html).

杰夫

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:45:40.153

## 更新

有一种简单的方法可以在 Xcode 中设置永久的、所有项目的断点。

打开任何项目。转到断点导航器。在 上创建符号断点`malloc_error_break`。然后，右键单击导航器中的断点，并从弹出菜单中选择 Move Breakpoint To > User。Xcode 将用户断点应用于所有项目。

有关视频，请参阅[此博客文章](http://qwan.org/2013/06/18/how-to-snatch-the-error-code-from-the-trap-frame-in-xcode/)的第 2 步。

## 原来的

LLDB 有自己的 init 文件，称为...（请打鼓）`.lldbinit`...。你也可以在那里设置断点。[来自WWDC 2012](https://developer.apple.com/videos/wwdc/2012/)的“Session 415 - Debugging with LLDB”视频从29 分 43 秒开始深入讨论了这个文件。你甚至可以制作一个`.lldbinit-Xcode`LLDB 仅在 Xcode 下运行时才加载的文件。

对于 GDB 挂起断点问题，我没有任何建议。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T20:25:36.640

关于您的 gdb 断点，Mac OS X gdb 与通用 FSF gdb 略有不同，您应该可以在`b malloc_error_break`此处设置永久断点或在最坏的情况下使用`fb malloc_error_break`（Apple-gdb 特定`future-break`命令使其显式）。

Xcode 4.5 中的 lldb 存在一个错误，即`.lldbinit`未添加文件中设置的断点。与其说是设计缺陷，不如说是错误，实际上，断点被添加到*目标*中，并且在`.lldbinit`读取文件时，lldb 还没有设置目标。我认为 Greg Clayton 几个月前在 svn 存储库 lldb 源中修复了该问题，创建了一个占位符，用于应用从那时起安装在任何新创建的目标中的此类设置。使用 svn lldb 源，放入`br s -n malloc_error_break`你的`.lldbinit`应该可以正常工作。

# scala - 在scala中唯一标识演员

> ID：13392666
> 
> 赞同：3
> 
> 时间：2012-11-15T06:42:55.163
> 
> 标签：scala, actor, identify

我正在 scala 中构建一个简单的日志记录类，它将所有日志信息写入文件。这是家庭作业的一部分。因此，我不能在 java 或 scala 或 akka 库中使用已经可用的记录器。你们中的任何人都可以告诉如何在scala中唯一标识演员，即每个演员是否有资源ID或任何其他ID。如果是这样，如何访问它？

我尝试在演员对象上使用 hashCode() 。但它并没有给出预期的结果，因为每个对象的值都会发生变化，并且可以为单个参与者创建许多对象。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T06:59:23.030

如果您使用的是 akka 演员，您可以通过查看 self.path 来获取演员的名称（self 是一个 ActorRef）

[http://doc.akka.io/api/akka/2.0.4/#akka.actor.ActorPath](http://doc.akka.io/api/akka/2.0.4/#akka.actor.ActorPath)

编辑：

如果您使用的是 scala 演员，那么您可以执行类似...

```
class MyActor(name: String) extends Actor { 
  def act() {
    receive {
      case _ => println("Message on actor: " + name)
    }
  } 
}
val actor1 = new MyActor("actor1")
val actor2 = new MyActor("actor2") 
```

# osgi - OBR 中的 SCR 服务问题

> ID：13392667
> 
> 赞同：1
> 
> 时间：2012-11-15T06:42:55.117
> 
> 标签：osgi, obr

通过 SCR 声明的服务不会作为一项功能反映在 OBR xml 中，而具有 Blueprint 的服务则可以（我正在通过 Maven Bundle Plugin 构建）。

下面作为示例的标记不会出现在带有 SCR 服务的捆绑包的 xml 中：

```
<capability name='service'>
      <p n='service' v='com.abc.xyz'/>
    </capability> 
```

通过添加“Export-Service”标头，我们在 OBR 中获得了 SCR 服务的功能标记，但“Export-Service”标头已被弃用。当特定捆绑包中的服务有需求且未找到该功能时，OBR 部署将失败。

# objective-c - Objective C 基础

> ID：13392669
> 
> 赞同：0
> 
> 时间：2012-11-15T06:43:27.393
> 
> 标签：objective-c, ios, oop

```
@implementation GroupedInexedViewController
{
    NSDictionary *names;
}
- (void)viewDidLoad
{
    [super viewDidLoad];
    NSString *path = [[NSBundle mainBundle] pathForResource:@"PropertyList"
                                                 ofType:@"plist"];
    NSDictionary *dict = [[NSDictionary alloc] initWithContentsOfFile:path];
    names = dict;
    [dict release];
} 
```

解除分配'dict'会影响'names'吗？我的意思是它是否也取消分配“名称”？我在另一篇文章中看到这是一种不好的做法？但为什么？

编辑：ARC被禁用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:49:01.073

由于您手动调用发布，我将假设您没有使用自动引用计数 (ARC)。

这里有一些术语混淆。

它不会解除分配`names`。您正在减少`dict`调用 release 时的引用计数。一旦该引用计数达到 0，内存将被释放。

问题是您没有`dict`先`names`调用`retain`.`dict`

保留一个对象会增加它的引用计数。

您可以选择创建`*names`一个属性，它将为您处理内存管理，或者您可以通过调用 retain 手动增加引用计数：`names = [dict retain];`

如果这样做，还必须在 dealloc 方法内部实现一个方法`dealloc`。`release` `names`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:49:22.803

您的代码分配`names`. 是指向对象的指针，因此当您将其值分配给另一个指针 ( ) 时，两个指针都引用同一个对象，可以认为是相同的。`dict``dict``names`

所以是的，当你释放时`dict`，你也在释放`names`。

顺便说一句，您可以`names`直接分配给，而无需通过`dict`：

```
names = [[NSDictionary alloc] initWithContentsOfFile:path]; 
```

而且，如果您可以启用 ARC，则无需担心释放对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:52:42.887

简而言之，如果您不使用 ARC，是的：取消分配`dict`会影响`names`. 这是因为您将`names`指针分配给`NSDictionary`已分配的单曲。

如果您想在 dealloc 时`names`保留，则需要发送一条消息：`NSDictionary``dict``dict``retain`

```
names = [dict retain]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-15T07:05:32.923

到目前为止，似乎没有任何答案提到 ARC 和非 ARC (MRC) 用法**之间**的区别以及属性和实例变量之间的区别。

首先，属性实际上只是由实例变量支持的 setter 和 getter 方法。当您设置属性 like`self.dict = someObject;`并且该属性被声明为`strong`or`retain`时，则`someObject`保留。

但是，如果您只有一个实例变量（不是属性）并且您正在使用 MRC，那么仅写入`dict = someObject;`重复指针但不会增加引用计数 - 如果您`[someObject release]`在此之后写入，您应该假设它`dict`也无效（即使这两个指针指向的对象实际上并没有被释放——这是引用计数的规则）。

如果您使用 ARC，则分配给变量也会将引用计数增加一 - 因此，如果`someObject`引用计数为 1，则写入`dict = someObject;`会将对象的引用计数（现在由 和指向*）*增加到 2。`dict``someObject`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:48:42.397

dict 和 names 是两个不同的变量，不要混用！！！

仅当您分配、复制、可变复制、保留时才“释放”。否则，如果在自动释放模式下创建。

如果您使用的是 ARC，则不需要“发布”编译器来处理所有这些新分配的空间。

# javascript - 一组可供 Rails 应用程序使用的 CoffeeScript/JavaScript 类和方法

> ID：13392670
> 
> 赞同：5
> 
> 时间：2012-11-15T06:43:34.100
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3, coffeescript, ruby-on-rails-3.2

我正在使用 Rails 3.2.9。当我将 CoffeeScript 代码添加到目录`.js.coffee`中的文件时`/app/assets/javascripts`，我会在所有网页中获得生成的 JavaScript。问题是所有的 JavaScript 都包含在：

```
(function() {
  // my code
}).call(this); 
```

所以我定义的任何方法在我在其他文件中编写的任何其他 CoffeeScript 代码中都不可见。用 Rails 编写一组可重用的 CoffeeScript 类和方法的正确方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-15T07:21:04.107

最简单的做法是命名所有类。如果您的应用程序被称为“应用程序”，那么在发生其他任何事情之前在您的初始化代码中：

```
// Set up the namespace.
window.app = { } 
```

然后在您的所有`.coffee`文件中：

```
class app.Pancakes
    #... 
```

然后，您将拥有一个全局命名空间，并通过该命名空间引用所有内容：

```
pancakes = new app.Pancakes 
```

同样对于简单的功能：

```
app.where_is = (pancakes, house) -> ...

# And elsewhere...
x = app.where_is(...) 
```

有多种方法可以设置和部分隐藏命名空间，但它们都是上述方法的变体，简单的命名空间与 Rails 资产管道很好地配合。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-15T09:47:35.317

此外，您可以像这样在 coffeescript 文件中定义类：

```
class this.Person
  constructor: (attr = {}) ->
    ... 
```

通过这种方式，定义被附加到全局命名空间。

# python - 复选框在 python web.py 中不起作用

> ID：13392677
> 
> 赞同：0
> 
> 时间：2012-11-15T06:43:56.953
> 
> 标签：python, checkbox, web.py

我正在使用 web.py 框架来创建小型网页。我有一个基本的 html，它有一个带有四个复选框字段的表单，如下所示

**主页.html**

```
$def with ( )
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Home</title>
</head>
 <body>
   <form method="POST" action="/checkboxes">
      <p>check_1     <input type="checkbox" id="curly_1" value="" name="curly_1"/></p>
      <p>check_2     <input type="checkbox" id="curly_2" value="" name="curly_2"/></p>  
      <p>check_3     <input type="checkbox" id="curly_3" value="" name="curly_3"/></p>  
      <p>check_4     <input type="checkbox" id="curly_4" value="" name="curly_4"/></p>      
      <button id="submit" name="submit">Submit</button>
   </form>
 </body>
</html> 
```

**索引.py**

```
import os
import sys
import web
from web import form

render = web.template.render('templates/')

urls = (
  '/checkboxes',   'Checkboxes',  
)
app = web.application(urls, globals())

class Checkboxes:

    def POST(self):
        i = web.input(groups = {})
        print i,">>>>>>>>>>>>"
        raise web.seeother('/checkboxes')

if __name__ == "__main__":
    web.internalerror = web.debugerror
    app.run() 
```

**结果：**

```
<Storage {'curly_3': u'', 'submit': u'', 'curly_4': u'', 'curly_1': u'', 'groups': [], 'curly_2': u''}> >>>>>>>>>>>> 
```

所以从 html 视图中我可以看到四个`checkbox`字段，我检查了所有复选框并单击了提交按钮，现在它应该进入`Checkboxes`课堂并应该在 post 方法中打印输入的结果（选中的复选框），如我上面所示.

但结果我得到空字符串（无结果），如上所示，

谁能告诉我上面的代码有什么问题

另外如何获取选中的复选框的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:07:03.537

web.input() 返回的字典中存在复选框元素的名称表示该字段已被选中。否则，它不会出现在字典中。尝试检查表单上四个复选框的子集，我想你会明白我的意思。

更多详情：[https ://groups.google.com/forum/#!searchin/webpy/checkbox/webpy/PVBdPv7kGDM/IqgLptUEN-EJ](https://groups.google.com/forum/#!searchin/webpy/checkbox/webpy/PVBdPv7kGDM/IqgLptUEN-EJ)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T11:01:46.960

如果您只需要选中或未选中所有复选框值，则可以像 ajax 调用一样处理它。对于此更改输入类型提交到按钮。然后选中所有输入复选框并将其值填充到 json 中。然后它的值检索您的控制器发布方法。

# php - JavaScript 确认消息中的错误

> ID：13392678
> 
> 赞同：2
> 
> 时间：2012-11-15T06:44:14.970
> 
> 标签：php, javascript, jquery, html, confirmation

我是 JavaScript 新手。我找不到此代码的错误。

```
<td class="paid">
  <a href="invoice.php?id=<?php echo $invoice_result['id']; ?>" onclick="confirm()">
    <img src="images/view_3.gif"/>
  </a>
</td>

<script type="text/javascript">
 function confirm() {
   if (confirm("Do you realy want do delete this vehicle?")) {
     return true;
   } else {
       return false;
   }
 }
</script> 
```

帮我找出我的错误..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:48:43.490

请检查这个

```
<td class="paid"><a href="invoice.php?id=<?php echo $invoice_result['id']; ?>" onclick="confirmChk()"><img src="images/view_3.gif"/></a></td>

    <script type="text/javascript">
    function confirmChk(){
    if(confirm("Do you realy want do delete this vehicle?")){
    return true;
    }
    else{
    return false;
    }
    }
    </script> 
```

注意：问题出在您的函数名称上，我将其**更改**为**confirmChk**

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:48:35.820

您正在尝试重载“确认”功能，这是内置功能，因此您的代码无法正常工作。将函数的名称从更改为`confirm`其他名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T06:54:44.960

试试这个...

```
<td class="paid">
<span onclick="return confirm('Do you realy want do delete this vehicle?')">
<a href="invoice.php?id=<?php echo $invoice_result['id']; ?>"><img src="images/view_3.gif"/></a>
</span>
</td> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:47:17.147

将您的函数名称更改为确认以外的名称。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:53:28.673

用这个

```
onClick="return confirm('Do you realy want do delete this vehicle?');" 
```

..

```
<td class="paid"><a href="invoice.php?id=<?php echo $invoice_result['id']; ?>"
onClick="return confirm('Do you realy want do delete this vehicle?');">
<img src="images/view_3.gif"/></a></td> 
```

由于保留字的原因，错误发生在您身上`confirm`。

也检查一下[javascript 中的保留字](http://www.javascripter.net/faq/reserved.htm) [http://www.javascripter.net/faq/reserved.htm](http://www.javascripter.net/faq/reserved.htm)**

# mysql - 如何从服务器上的“java.sql.ResultSet”获取客户端上的数据源文件？

> ID：13392681
> 
> 赞同：0
> 
> 时间：2012-11-15T06:44:39.303
> 
> 标签：mysql, gwt, datasource

如何从服务器上的“java.sql.ResultSet”获取客户端上的数据源文件？我的服务器代码可以从 MYSQL 获取数据。我想在客户端将数据显示给 ListGrid。我想使用 DataSource 类型将数据添加到 ListGrid 。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:52:34.900

您不能在客户端使用 sql。GWT 不实现任何 sql（Result、DataSource、SQLException 等）。只需将您的结果放入包含 java 原语的序列化类中。您当然可以查看 SmartGWT 或 SmartClient，但您必须为[SmartGWT DataSource](http://www.smartclient.com/smartgwt/javadoc/com/smartgwt/client/data/DataSource.html)付费。

# xml - 当 xsl 本身的第一页足够时避免第二页

> ID：13392683
> 
> 赞同：0
> 
> 时间：2012-11-15T06:44:53.593
> 
> 标签：xml, xslt, xsl-fo

我已经找到了问题的解决方案，要感谢你们所有人，因为没有你们及时的解决方案，并建议这是不可能实现的，非常感谢..！！

已经解决了这个问题，非常感谢..!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T17:31:42.413

要解决您的问题，请将以下所有内容保留在单个表中并将其添加到表头中。参考您的 xsl，将所有内容视为单独的表。

```
 Store Number : 59998
                      Department Sales Report 
----------------------------------------------------------------------
 xxxx                xxxx                                       Amount   
----------------------------------------------------------------------- 
```

因此，如果表体没有内容，则表头不会重复。

# asp.net - 检查页面标题中的会话值

> ID：13392687
> 
> 赞同：1
> 
> 时间：2012-11-15T06:45:33.207
> 
> 标签：asp.net, css

如何检查标题中的会话值并选择样式表链接？

```
<head>
     // if session["culture"] equal EN choose  
     // <link href="/CSS/MenuEN.css" rel="stylesheet" type="text/css" />
     // else choose
     // <link href="/CSS/MenuFA.css" rel="stylesheet" type="text/css" />
</head> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:33:11.817

试试这个 ：

```
<head>
    <asp:PlaceHolder ID="MyLink" runat="server">
        <link href="/CSS/Menu<%= Session["Culture"].ToString() %>.css" rel="stylesheet" type="text/css" />
    </asp:PlaceHolder>
</head> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:54:17.443

试试这个

```
protected void Page_Load(object sender, EventArgs e)
{
        HtmlLink link = new HtmlLink();
        link.Attributes.Add("rel", "stylesheet");
        link.Attributes.Add("type", "text/css");
        if (Session["culture"] == "EN")
            link.Href = "/CSS/MenuEN.css";
        else
            link.Href = "/CSS/MainFA.css";
        this.Header.Controls.Add(link);
} 
```

或这个

```
<head>
<%= (Session["culture"] == "EN") ? 
    "<link href='/CSS/MenuEN.css' rel='stylesheet' type='text/css' />" : 
    "<link href='/CSS/MainFA.css' rel='stylesheet' type='text/css' />"
%>
</head> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T07:19:25.610

我用那个

```
HtmlLink link = new HtmlLink();
    if (Session["Culture"].ToString() == "EN")
        link.Href = "/CSS/MenuEN.css";
    else if (Session["Culture"].ToString() == "FA")
        link.Href = "/CSS/MenuFA.css";
    link.Attributes.Add("rel", "stylesheet");
    link.Attributes.Add("type", "text/css");
    this.head.Controls.Add(link); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-15T07:22:16.520

我可能会做这样的事情......

```
<head>
<asp:PlaceHolder id="linkEN" runat="server">
<link href="/CSS/MenuEN.css" rel="stylesheet" type="text/css" />
</asp:PlaceHolder>
<asp:PlaceHolder id="linkFA" Visible="false" runat="server">
<link href="/CSS/MainFA.css" rel="stylesheet" type="text/css" />
</asp:PlaceHolder>
</head> 
```

然后在你的代码中......

```
protected PlaceHolder linkEN;
protected PlaceHolder linkFA;

void Page_Load(object sender, EventArgs e)
{
        if (Session["culture"] != "EN")
        {
            linkEN.Visible = false;
            linkFA.Visible = true;
        }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-16T05:25:52.490

我使用此代码。

```
HtmlLink link = new HtmlLink();
    if (Session["Culture"].ToString() == "EN")
        link.Href = "/CSS/MenuEN.css";
    else if (Session["Culture"].ToString() == "FA")
        link.Href = "/CSS/MenuFA.css";
    link.Attributes.Add("rel", "stylesheet");
    link.Attributes.Add("type", "text/css");
    this.head.Controls.Add(link); 
```

# html - 如何将下标应用于html组合框中的字母

> ID：13392690
> 
> 赞同：2
> 
> 时间：2012-11-15T06:45:41.690
> 
> 标签：html, combobox, option, subscript, superscript

我正在尝试在 html 选择组合框的选项标签中应用字母表的下标。对于数字，我通过用一些 unicode 替换它找到了解决方案，但没有找到字母表。我已经试过了`<option>sample<sub>e</sub></option>`。有没有可能的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T08:36:49.553

由于`option`元素内容被解释为纯文本，因此您不能在此处使用标记。您可能会考虑为菜单使用其他标记，用`select`一组单选按钮（或者，取决于所需的逻辑，复选框）替换元素，可能样式类似于下拉列表或其他东西。

*原则上*，使用`option`，您仍然可以使用任何 Unicode 字符。但是字体支持施加了严重的限制。即使是下标数字也不安全。Unicode 中也有*下*标字母，但它们不构成系统集，因为它们的定义是为了支持某些注音符号，而不是一般的下标。此外，它们在平面 1 中，例如 U+1D64 LATIN SUBSCRIPT SMALL LETTER U “ᵤ”，很少有字体包含平面 1 字符。

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T06:50:08.323

据我所知，这是不可能的。我也试过谷歌搜索只是为了确认，有一些结果表明我是正确的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T06:57:25.110

通常，您无法在选择元素中设置列表样式（也无法设置日期和时间输入小部件的样式）。

相反，您可以使用 JavaScript 将您的代码替换`select`为自定义代码。更多相关信息可以在 The Filament group 的“渐进式增强设计”一书中找到，在他们的[网站](http://filamentgroup.com/dwpe/)或谷歌中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T07:14:54.953

据我所知，无法直接在 select 元素中为选项下标或上标。通过javascript动态操作选项元素内的文本样式对我来说是一种选择。**

# ldap - 带有哈希和明文选项的openldap身份验证？

> ID：13392691
> 
> 赞同：0
> 
> 时间：2012-11-15T06:45:52.643
> 
> 标签：ldap

我知道 ldap 目录可以将用户密码存储为明文或散列（使用一种可用算法）。

客户端以明文格式发送用户密码。身份验证服务器检查存储的密码是散列形式还是明文形式...取决于将来自客户端的密码与存储值进行比较的情况。

为了使连接安全，我们可以使用 TLS，但是我们是否需要仅以明文形式将密码从客户端发送到服务器..

**我们是否可以选择客户端以散列格式发送密码？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T09:32:40.860

除非 LDAP 客户端对 BIND 操作使用无密码 SASL 方法，否则密码应通过安全连接以明文形式发送。只有这样，目录服务器才能强制执行密码质量规则、密码历史记录等。出于这个原因，软件专业人员应该拒绝发送预编码密码的想法。

目录服务器应配置为使用具有最长可用摘要的加盐[SHA-2](http://en.wikipedia.org/wiki/SHA2)（专业质量的目录服务器支持具有 512 位摘要的加盐 SHA-2）。否则，如果需要使用像 DIGEST-MD5 这样的低安全性 SASL 方法，则服务器需要访问密码；因此，密码应存储在可用的最强可逆加密中，我认为是[AES](http://en.wikipedia.org/wiki/Advanced_Encryption_Standard)。

总而言之，如果使用简单的 BIND 操作进行身份验证：

*   将服务器配置为拒绝非安全连接
*   通过安全连接以明文形式发送密码
*   配置服务器的密码策略以使用可用的最长加盐 SHA-2 摘要存储密码

# java - 字节码操作能否在运行时更改 Java 方法的返回类型？

> ID：13392692
> 
> 赞同：1
> 
> 时间：2012-11-15T06:45:56.590
> 
> 标签：java, proxy, javassist, cglib, bytecode-manipulation

我想知道是否可以通过字节码操作来做这样的事情：

```
public class Foo {
    public int getBlah() {
       return 1;
    }
}

public void hi(int x) {
    System.out.println("hi: " + x);
}

public void hi(String x) {
    System.out.println("wow: " + x);
} 
```

现在我想打电话：

```
hi(foo.getBlah()); 
```

并调用 String 参数的重载 hi 方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T17:56:11.047

你能处理一个*标记的值*吗`hi(int x)`？如果是，你可以这样做：

```
public void hi(int x) {
    if (x == Integer.MIN_VALUE) {
        String newParam = getTheParamFromProxySomehow();
        hi(newParam);
        return;
    }    
    System.out.println("hi: " + x);
} 
```

基本上是：

*   通过代理拦截`getBlah()`方法
*   保存（在一个`ThreadLocal`？）你想传递给重载`hi`方法的任何字符串参数
*   返回标记的值，例如`0`,`-1`或`Integer.MIN_VALUE`
*   做上面的伎俩

它有点hacky，当你没有原语时它看起来最好，所以你可以`null`用作你的标记值。希望有人有更好的答案。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T23:39:17.600

即使您可以更改返回类型，也无法解决问题。编译器在编译时决定调用哪个重载方法的实现。更改返回类型不会更改调用的方法。字节码仍会`hi(int x)`使用 a 调用该方法，`String`并且可能会导致错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-16T03:38:32.460

你的问题太笼统了。但是为了发挥你的想象力，看看我关于在[ASM](http://asm.ow2.org/)框架的帮助下在 Java 中[操作重载的旧博客。](http://www.jroller.com/eu/entry/operation_overloading_in_java)这是那里的一个小例子：

```
 BigInteger val = Evaluator.evaluate(new Evaluation() {
        public int evaluate(int x, int y) {
          return x - y;
        }
      }, new BigInteger("2"), new BigInteger("3")); 
```

# c# - 无法使用 C# 使用 ExcelPackage 创建带有撇号的 XLSX

> ID：13392693
> 
> 赞同：2
> 
> 时间：2012-11-15T06:45:57.370
> 
> 标签：c#, excelpackage

我正在使用`Excelpackage.codeplex.com`创建 xlsx。

当用撇号 (') 写一个字符串时，我得到一个`System.Xml.XPath.XPathException`异常。

如何使用该包编写带有 ' 的 xlsx 单元格？

```
private void ExportApostrphoe()
    {
        DataTable dt = new DataTable();
        dt.Columns.Add("ID", typeof(int));
        dt.Columns.Add("Name");

        dt.Rows.Add(1, "Ben");
        dt.Rows.Add(2, "Joe's");
        dt.Rows.Add(3, "Mike");

        FileInfo newFile = new FileInfo(@"c:\1.xlsx");
        using (ExcelPackage xlPackage = new ExcelPackage(newFile))
        {
            OfficeOpenXml.ExcelWorksheet worksheet = xlPackage.Workbook.Worksheets.Add("Sheet1");
            for (int x = 0; x < dt.Columns.Count; ++x)
            {
                DataColumn column = dt.Columns[x];
                worksheet.Cell(1, 1 + x).Value = column.Caption;

            }
            for (int x = 0; x < dt.Columns.Count; ++x)
            {
                for (int y = 0; y < dt.Rows.Count; ++y)
                {
                    worksheet.Cell(2 + y, 1 + x).DataType = "text";
                    worksheet.Cell(2 + y, 1 + x).Value = Convert.ToString(dt.Rows[y][x]);

                }

            }
            xlPackage.Save();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-01T18:17:40.597

尝试更新 ExcelCell.cs 中的以下代码搜索`XmlNode stringNode`并更新与以下代码相同的代码。创建一个dll。它对我有用。

```
 XmlNode stringNode = _xlWorksheet.xlPackage.Workbook.SharedStringsXml.SelectSingleNode(string.Format("//d:si[d:t='{0}']", System.Security.SecurityElement.Escape(Value)), _xlWorksheet.NameSpaceManager); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-05T05:44:41.623

该库的 Codeplex 站点有一些帖子通过更改源代码和重新编译库来引用修复，但为了更快地修复，我已经能够通过用“右单引号”替换单引号来解决它。

所以“Bob's”最终变成了“Bob's”——这对我的目的来说是完全可以接受的。

我把它写成一个扩展方法：

```
public static string ReplaceSingleQuote(this string s) {
  if (!string.IsNullOrEmpty(s))
    return s.Replace('\u0027', '\u2032');
  else
    return s;
} 
```

所以例如你会改变这一行：

```
worksheet.Cell(2 + y, 1 + x).Value = Convert.ToString(dt.Rows[y][x]); 
```

至 ：

```
worksheet.Cell(2 + y, 1 + x).Value = Convert.ToString(dt.Rows[y][x]).ReplaceSingleQuote(); 
```

# java - 为什么我不能重用 InputStream？

> ID：13392694
> 
> 赞同：0
> 
> 时间：2012-11-15T06:45:58.067
> 
> 标签：java

```
public static String getTextOf(String xsl) throws Exception {
      DocXHandler docxh1 = new DocXHandler(ACE.getInputFilePath());
      InputStream inputDocumentXMLStream = docxh1.getInputDocumentXMLZERO();
    return new Cache().getXSLOutput(inputDocumentXMLStream, xsl);
} 
```

使用不同的 xsl 参数将调用上述方法超过 100 次。现在每次 InputStream inputDocumentXMLStream 都被赋值（是的，超过 100 次）。当我试图重构这段代码时，只有一次 InputStream 将被赋值。我的代码现在变成了这样，

```
 public static String getTextOf(String xsl) throws Exception {
     return new Cache().getXSLOutput(inputDocumentXMLStream, xsl);
   } 
```

通过将 inputDocumentXMLStream 更改为全局属性。我第一次得到正确的结果，但第二次得到以下错误，

```
Unexpected end of ZLIB input stream 
```

所以请告诉我如何再读一遍？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T06:50:47.853

如错误消息所述，您只能读取一次流，然后您处于 EOF。你试图做的事情没有意义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:02:32.083

**到达蒸汽末端后，您无法重新开始读取输入流，**因为它仅单向移动。

我认为解决您的问题的最佳方法是一次完全解析您的 XML 文件并将值放在一些 java 对象中。完成后，您可以简单地使用映射来检索所需的值。**这也将非常有效。**

例如

```
 Object parseValueMap = paseXML(inputDocumentXMLStream);//use appropriate object
    //^ called only once, you may use some libraries such as JAXB to parse the xml 
```

假设`xsl`是一个路径表达式，您可能希望将路径应用于在上述步骤中创建的 Java 集合。您可以使用以下库`JXPath`：

```
 String value = JXPathEvaluator(parseValueMap, xsl); 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T07:04:45.437

我不确定您在做什么`getXSLOutput`以及为什么需要读取相同的输入流 100 次，但是为了避免 EOF，您可以使用[mark(int)](http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#mark%28int%29)在方法中标记流的开始并在结束时`getXSLOutput`调用[reset](http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#reset%28%29)同样的方法。不过好像做错事了……

为了获得更好的结果，请尝试读取一次并将内容存储在 Java 中的数据类型中，然后处理 100 次。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T06:58:46.917

对于每个 xls 文件，您必须解析文件并创建 Java 的 Excel 文档实例。该 Java 实例将为您提供 InputStream。因此，在这种情况下，您无处可逃。

但是对于同一个文件，您可以使用相同的 InputStream。那将是一个单一的单元或工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T06:53:10.283

您不能在不关闭文件的情况下重用输入流。所有文件 I/O 函数都依赖 EOF 来停止。

# sql - UTC时间戳的ODBC标量函数？

> ID：13392698
> 
> 赞同：1
> 
> 时间：2012-11-15T06:46:20.937
> 
> 标签：sql, odbc, timestamp, utc

问题：

以下 ODBC 序列

```
{fn NOW()} 
```

返回本地时间的当前时间戳。

是否有任何 ODBC 标量函数以 UTC 形式返回当前时间戳？

**请注意：**
**ODBC**函数，而不仅仅是任何特定于供应商的函数，如 GETUTCDATE。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T12:15:53.653

我对同样的问题感兴趣，但似乎答案是否定的 - ODBC 无法告诉您当前的 UTC。

# c++ - 如何在 Poco::HTTPClientSession 中获取下载大小？

> ID：13392702
> 
> 赞同：1
> 
> 时间：2012-11-15T06:47:02.433
> 
> 标签：c++, download, poco, windows-networking

```
HTTPClientSession session(uri.getHost(), uri.getPort());
HTTPRequest req(HTTPRequest::HTTP_GET, path, HTTPMessage::HTTP_1_1);
session.setTimeout(Poco::Timespan(20,0));
session.sendRequest(req);
HTTPResponse res;
istream& rs = session.receiveResponse(res);

File saveTo(request.name,File::WriteOnly,true);
char aux_buffer[1024];
rs.read(aux_buffer, 1024);
std::streamsize n = rs.gcount();
while (n > 0){
    saveTo.write(aux_buffer,n);
    if (rs){
        rs.read(aux_buffer, 1024);
        n = rs.gcount();
    }
    else n = 0;
    } 
```

}

如何在下载之前获取下载大小？因为有时我得到损坏的文件，所以我想检查大小。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T17:00:16.830

您可以使用[`HTTPResponse::getContentLength()`](http://pocoproject.org/docs-1.5.0/Poco.Net.HTTPMessage.html#18624)或`getContentLength64()`：

> 返回此消息的内容长度，如果不存在 Content-Length 标头，则可能是 UNKNOWN_CONTENT_LENGTH。

请注意，您必须先调用`HTTPClientSession::receiveResponse()`才能接收标头。您可能还需要检查`HTTPResponse::getStatus()`以验证请求是否正常以及`HTTPResponse::getContentType()`您是否期望特定类型。

对于 PDF，您可以检查文件本身的开始/结束标记。正确的 PDF 文件应以`%PDF-X.Y%`（其中 XY 代表版本）开头，并以`%%EOF`可能后跟 0x0D 和/或 0x0A 结尾。PDF 文件可能包含多个`%%EOF`标记。

# c# - 绑定到依赖属性

> ID：13392705
> 
> 赞同：0
> 
> 时间：2012-11-15T06:47:15.740
> 
> 标签：c#, silverlight, windows-phone-7

我有一个简单的自定义用户控件：

```
<Grid x:Name="LayoutRoot">
    <StackPanel>
        <TextBlock Text="{Binding DisplayText}"/>
        <TextBlock Text="{Binding PersonName}"/>
    </StackPanel>
</Grid> 
```

我在 MainPage.xaml 中使用它，如下所示：

```
<local:WindowsPhoneControl1 x:Name="customControl" DisplayText="test">

</local:WindowsPhoneControl1> 
```

如果在 MainPage.xaml.cs 我这样做：

```
PersonName = "George";
customControl.DataContext = this; 
```

然后显示了*George*，但没有显示*test*。这是有道理的，但我不知道如何绑定到 DisplayText 属性。

当然，以下内容将不起作用，因为不会显示*George ：*

```
customControl.DataContext = customControl; 
```

请注意，这应该适用于 WP/silverlight 开发，所以像 AncestorType 这样的东西可能不可用（不一定有用）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:58:29.770

可能有不止一种方法可以做到这一点。这是一个：为您的用户控件添加一个依赖属性`PersonName`，以及一个常规属性`DisplayText`（不需要DP，因为您没有绑定到它）。

```
public static readonly DependencyProperty = 
    DependencyProperty.Register("PersonName", typeof(string), typeof(MyUserControl), null);

public string DisplayText { get; set; }
public string PersonName
{
    get { return (string)GetValue(PersonNameProperty); }
    set { SetValue(PersonNameProperty, value); }
} 
```

然后，将用户控件设置`DataContext`为`LayoutRoot`（在构造函数中初始化之后）。

```
public MyUserControl()
{
    InitializeComponent();
    LayoutRoot.DataContext = this;
} 
```

* * *

**编辑**以下方式可能更简单（肯定更直接），但需要 Silverlight 5。您可以`DisplayText`使用[`RelativeSource`](http://msdn.microsoft.com/en-us/library/system.windows.data.relativesource.ancestortype%28v=vs.95%29.aspx).

```
 <TextBlock Text="{Binding RelativeSource={RelativeSource AncestorType=UserControl},
                              Path=DisplayText}"/> 
```

所以这里用户控件的 DataContext 仍然可以设置为`MainPage`，并且这一元素的数据源可以指向用户控件的代码隐藏类。

# php - Joomla 2.5 插件在文章中包含组件和直接 PHP 冲突

> ID：13392708
> 
> 赞同：0
> 
> 时间：2012-11-15T06:47:31.750
> 
> 标签：php, plugins, joomla, get

所以我正在构建一个包含插件包含组件和直接 PHP 插件的 Joomla 2.5 站点。我正在尝试在文章视图中执行以下操作：

```
 $lstart = $_GET['lstart'];
    $limitstart = $_GET['limitstart'];

    if($lstart == 1) { ?>
       {component url='index.php?option=com_content&view=category&layout=blog&id=15&news_check=1&limitstart=4'}
    <?php } else { ?>
       {component url='index.php?option=com_content&view=category&layout=blog&id=15&news_check=1&limitstart=0'}
    <?php } ?> 
```

我收到以下错误：

```
 Parse error: syntax error, unexpected $end in /nfs/c06/h06/mnt/157252/domains/bigideaadv.com/html/wright_specialty2_OLD/plugins/content/DirectPHP/DirectPHP.php(56) : eval()'d code on line 4 
```

我不能将插件包含组件和直接 PHP 代码混合在一起吗？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T12:47:46.740

如果这个 PHP 是一个精确的副本，那么问题可能是第一个`echo`语句有一个额外的单引号，即 ' 在右大括号 } 之前。

所以，如果`$limitstart = 10`，第一个`echo`会产生：

```
{component url='index.php?option=com_content&view=category&layout=blog&id=15&news_check=1&limitstart='10''} 
```

这可能会导致 Include Component 插件出现问题。它们应该能够一起运行，唯一的事情是确保 Direct PHP 插件在您的其他插件之前排序。

# sql-server-2008 - 在 OPENROWSET 查询中传递日期时间参数

> ID：13392712
> 
> 赞同：1
> 
> 时间：2012-11-15T06:47:52.727
> 
> 标签：sql-server-2008, openrowset

当我在`OPENROWSET`查询中传递 datetime 参数时，出现以下错误：

> 从字符串转换日期和/或时间时转换失败

```
SELECT * FROM OPENROWSET('SQLNCLI',
    'SERVER=localhost;UID=test;PWD=test', 
    'set FMTONLY OFF exec testdatabase.dbo.Proc_Salaryslip_PF '','','','',''5112'','','','','',''8'',''2012'','','',''0'',''1'',A,20120401,20130301,''Y'',''Y'','',A,admin,0,N,'',''18'' ') 
```

请提出一些解决方案，我的项目取决于您的回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:04:34.747

这些看起来很可疑`20120401,20130301`。如果将它们传递给`datetime`参数，您将获得：

> 将数据类型 int 转换为日期时间时出错。

由于您将它们作为整数而不是字符串文字传递。要解决这个问题，您必须将它们引用为字符串。

但由于这不是您得到的错误，因此您将另一个参数作为字符串传递给`datetime`参数。

这是您使用的参数列表，每个参数一行。检查您的程序声明。

```
exec testdatabase.dbo.Proc_Salaryslip_PF 
',',
',',
'5112',
',',
',',
'8',
'2012',
',',
'0',
'1',
A,
20120401,
20130301,
'Y',
'Y',
',A,admin,0,N,',
'18' 
```

# c# - 在 Wpf 和 WinForms 上使用 StreamSocket

> ID：13392720
> 
> 赞同：2
> 
> 时间：2012-11-15T06:48:43.603
> 
> 标签：c#, tcpclient, windows-store-apps

**如您所知，Microsoft 刚刚为 Windows 商店应用程序删除了 .Net**上的整个**System.Net.Sockets**，现在您应该使用**StreamSocketListener**如果您想要**TcpListener**，**StreamSocket** for **TcpClient**等。第一次看起来您可能丢失了 TcpClient 和那些东西，但对我来说，StreamSocket 非常令人愉快，我也想在我的 Windows 窗体和 WPF 应用程序中使用它以用于常规桌面版本。这是我的问题，是否可以在 WinForms 和 WPF 上使用 Windows.Networking.Sockets.StreamSocket 以及那些东西（.Net 4.5 而不是 .Net 用于 Windows 商店应用程序），因为这样我就可以为它们编写相同的代码。此外 StreamSocket 更方便。

 ******* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T06:52:53.527

来自 MSDN，

支持的最低客户端 - Windows 8 [Windows 应用商店应用程序、桌面应用程序]

支持的最低服务器 - Windows Server 2012 [Windows 应用商店应用程序、桌面应用程序]

最低支持手机 - Windows Phone 8

所以我的猜测是，只要您使用 .Net 4.5 并且应用程序在这些操作系统上运行，您就可以将它与任何东西一起使用。******

# c - C 运算符优先级不起作用

> ID：13392723
> 
> 赞同：1
> 
> 时间：2012-11-15T06:49:00.447
> 
> 标签：c

> **可能重复：**
> [谁能解释这些未定义的行为（i = i++ + ++i，i = i++ 等……）](https://stackoverflow.com/questions/949433/could-anyone-explain-these-undefined-behaviors-i-i-i-i-i-etc)

我对**&&** ++ 和 *****的运算符首选项感到困惑

```
int i=-1,k=-1,y,n;
y=++i*++i;
n=++k&&++k;
printf("%d %d %d %d",i,y,k,n); 
```

输出 gcc：1 1 0 0

在这里，对于 y 的情况，最初 i 增加一次，即 i=0，然后 i 再次增加，即 i=1 现在 i*i 完成，即 25 **，因为 ++ 的优先级高于 ***

在第二种情况下，即使 ++ 比 && 具有更高的偏好， k 也不会增加到 1。有人可以解释一下这种现象吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-15T06:54:12.313

`y = ++i * ++i;`和类似的子句调用未定义的行为，因为它们在两个序列点之间多次修改变量。从字面上看，你可以期待任何事情发生。

`n = ++k && ++k;`实际上不是 UB，因为该`&&`运算符是一个逻辑 AND 运算符，并且它是使用短路计算的 - 所以该表达式中有*一个*序列点，但另一个仍然是错误的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-15T06:54:43.583

他们在这里是不同的。

首先，`++i*++i`是未定义的行为。有两个副作用，并且没有序列点来拆分它们。

二`++k&&++k`是短路。因为`++k`是 0。表达式应该是 0。不需要计算第二个`++k`。重要的`&&`是序列点。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-15T06:55:04.307

运算符的优先级并不决定这些运算符的计算顺序。评估顺序未指定。

优先级规则仅声明 that`y=++i*++i;`被解释为`y=(++i)*(++i);`和`n=++k&&++k;`as `n=(++k)&&(++k);`，但除此之外，允许编译器以任何顺序实际执行它们。

这条规则有一些例外；例如，标准要求逻辑和运算符 ( `&&`) 短路；所以这样一个表达式的左边必须在右边之前计算。

例如，考虑表达式`a = b+++c`。优先规则要求将此表达式解释为`a = (b++) + c`; 但是编译器可以自由地按照以下任何顺序执行它：

*   将 b 加一并将旧值存储在临时值中，然后将 c 和临时值相加，然后将结果存储在 a
*   将 b 和 c 的值相加，然后将结果存储在 a 中，然后递增 b
*   将 b 和 c 的值相加并将它们存储在临时变量中，然后递增 b 的值，然后将临时变量分配给 a

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-15T06:54:23.743

这是`undefined behaviour`在两个序列点之间两次更改变量的值。

`y=++i*++i;` 在这里，您在两个序列点之间修改 i 两次。

对于序列点，请阅读此[链接](https://stackoverflow.com/questions/4176328/undefined-behavior-and-sequence-points)

`n=++k&&++k;`但这是定义明确的行为，因为`&&`它是一个序列点。在这里你得到`n == 0`因为逻辑短路`&&`

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-11-15T06:55:20.377

优先级在这里无关紧要。

在第一种情况下：`++i * ++i`，您有未定义的行为，因为您修改`i`了两次而没有中间的序列点。

在第二种情况下，您有一个`&&`，它定义了一个序列点，因此您已经定义了行为。具体来说，使用`&&`，评估左操作数，然后当且仅当它产生非零值时，评估右操作数。结果是`and`两个结果的逻辑。在您的情况下，`k`开始为`-1`，因此当`++k`评估左侧的 时，结果为 0。由于它为 0，因此根本不评估右侧操作数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-15T06:55:05.080

根据我的理解，将会发生的事情是这样的：

```
(++k)    && (++k)    -->  ans1 && ans2
-1 -> 0      0 -> 1        0   &&  1   = 0
                              ^ The rest will not be calculated. 
```

所以首先评估 ++k 但仍然会导致对第一个 ++k 的单独答案（因为相同运算符的从左到右顺序）

因此答案将是 0。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-15T06:55:37.870

```
y=++i*++i; 
```

这是未定义的行为（语言标准不保证变量的输出每次都相同）。

```
n=++k&&++k; 
```

由于`&&`是短路运算符，如果结果可以由第一个操作数本身确定，它将不会操作第二个操作数。由于第一个操作数变为`0`结果为假，即`0`

# ios - 将对象的值分配给ios中的另一个对象

> ID：13392731
> 
> 赞同：0
> 
> 时间：2012-11-15T06:50:12.553
> 
> 标签：ios

我在 ios 教程中看到过这个语句。我可以知道这个语句的含义。这是否意味着将 sender 对象的 velue 指向另一个对象 s。

```
UISlider *s=(UISlider *)sender; 
```

任何人都可以帮助我。在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:14:12.750

它的类型转换`sender`为`UISlider*`. 你告诉编译器“相信我，我知道`sender`是一个`UISlider*`”。一旦分配给`s`，那么您可以`s`在`UISlider`没有改进类型检查 (if `id`) 且没有警告 (if`sender`是指定类型的 objc 对象) 的情况下使用。如果它不是 a `UISlider`，那么您的程序可能会在运行时遇到错误。

另请注意，`sender`它通常与执行操作的对象/控件相关联，并且通常使用 type 声明`id`，例如`- (IBAction)performSomeAction:(id)sender`. 在那种情况下，`UISlider * s = (UISlider*)sender;`是多余的。我喜欢更简单的`UISlider * s = sender;`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T08:15:21.477

It's typecasting. Here the sender is typecast-ed to type `UISlider`.

It's similar to `C` Syntax,

```
int x = (int)aValue; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T06:53:36.240

通常，采用发送方参数的方法将类型命名为`sender`as `id`。`id`是通用对象指针。该代码的重点是将发送者的类型转换为`UISlider*`，以便您可以在其上调用 UISlider 的方法而不会生成编译器警告。

# r - 如何选择一些具有一定规律性的列

> ID：13392740
> 
> 赞同：0
> 
> 时间：2012-11-15T06:50:53.423
> 
> 标签：r

我的数据框有 1440 列，如下所示：

y180 y181 y182 y183 y184 y185 y186 y187 y188 y189 y190 y191 ...

我想创建一个保存 y180、y185、y190、y195 等的新数据框。你有什么建议吗？

先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:07:53.033

如果要选择数据框的每 5 列，请`dat`使用以下命令：

```
dat[ , c(TRUE, rep(FALSE, 4))] 
```

如果您的列未按名称排序，则以下命令也有效。它选择数字可被 5 整除的行：

```
dat[ , !as.numeric(sub("y", "", names(dat)) %% 5] 
```

# google-chrome - 从内容脚本/背景到注入代码的消息传递？

> ID：13392741
> 
> 赞同：0
> 
> 时间：2012-11-15T06:51:08.210
> 
> 标签：google-chrome, google-chrome-extension

我正在制作 Chrome 扩展程序。

我需要在 [内容脚本 ---> 注入代码] 或 [背景 ---> 注入代码] 之间进行通信。

注入代码是通过[这种方法](https://stackoverflow.com/a/9517879/938089?building-a-chrome-extension-inject-code-in-a-page-using-a-content-script)注入的代码。

[这个答案](https://stackoverflow.com/questions/9915311/chrome-extension-code-vs-content-scripts-vs-injected-scripts)说

> 注入脚本的行为就像它们被页面本身包含一样，并且没有以任何方式连接到扩展

它是否正确？有没有单一的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T10:08:45.300

您可以使用 chrome.extension.sendMessage 和它的侦听器从内容脚本\注入脚本与后台页面和 chrome.tabs.sendMessage 与其侦听器进行通信，以从后台页面与内容脚本\注入脚本进行通信

# sql-server - 合并与截断和插入

> ID：13392743
> 
> 赞同：9
> 
> 时间：2012-11-15T06:51:28.417
> 
> 标签：sql-server, sql-server-2008

我最近升级到 MSSQL 2008 R2 并且想知道“新”合并功能是否比截断和插入更新表更有效/更快，因为每个表都有数百万行。如果有人能提供一些他们的表现数据，那就太好了，但任何解释都会有所帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:03:53.690

不确定我是否正确理解了您`TRUNCATE`的观点。`INSERT`如果没有，请随时纠正我。

`MERGE`是一种机制，可以`UPDATE`对现有行执行操作，或者在未找到现有行的情况下执行`INSERT`.

您建议`TRUNCATE`and `INSERT`，这将删除 MERGE 的使用，因为一切都是 INSERT。我不知道`MERGE`在这种情况下 a 是否会更快，因为我从未尝试过，但我会假设`MERGE`决定是否使用 a`UPDATE`或`INSERT`确实会产生一些开销的部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T08:06:31.490

我之所以使用`MERGE`是因为我需要跟踪数据更改（保持行的校验和），但是因为似乎每次我看不到任何特定的使用理由时您只需要“克隆”该数据`MERGE`，毕竟`MERGE`做了某种检查（对主键进行检查，并在 each 上添加附加条件`WHEN`）；通过使用`TRUNCATE`然后大量使用，`INSERT`您不应该拥有所有这些条件

顺便说一句，不要把这当作 100% 正确，我没有任何性能测试可以作为证明；我建议你尝试这两种操作，看看哪一种需要更多时间 =)

# ruby-on-rails - Bootstrap-Sass 和 Formtastic 的 Textarea 大小问题

> ID：13392744
> 
> 赞同：1
> 
> 时间：2012-11-15T06:51:28.507
> 
> 标签：ruby-on-rails, twitter-bootstrap, sass, formtastic

**问题：**我不确定为什么我的输入文本框的宽度是固定的（太小以至于不适合屏幕），并且我无法通过适当的方式更改大小。谁能帮我找出是什么原因造成的？

在我的部分形式中：

```
<%= semantic_form_for @post do |f| %>
<%= f.inputs do %>
    <%= f.input :name, :input_html => { :size => 10000 } %>
    <%= f.input :content, :input_html => {:size => 100000 } %>
<% end %>
<%= f.actions do %>
    <%= f.action :submit, :as => :button %>
    <%= f.action :cancel, :as => :link %>
<% end %>
<% end %> 
```

![在此处输入图像描述](../Images/3cd9ecec6e2ac5cc082bfeaabec5b7bb.png)

**更新：**我发现

```
<%= f.input :name, :input_html => { :style => "width: 80%" } %> 
```

成功更改文本区域的大小。

**新问题：**怎么会

```
<%= f.input :content, :input_html => {:size => 100000 } %> 
```

无法工作？

**再添加一个问题。** 当用户登录时，我想简单地将他的名字传递给 :name 符号。所以我想在条件下将输入类型设置为隐藏，但我不确定在这种情况下formtastic语法是如何工作的......我试过了：

```
<%= f.input :name, :as => hidden, :name => <%= current_user.name %> %> 
```

而且我还尝试简单地摆脱 name 变量的输入区域，并设置

```
<% @post.name = current_user.name %> 
```

但是这样做的问题是，这种方式没有通过需要存在名称输入的验证检查。

这两次尝试都失败了。有没有人可以给我答案*1）文本框大小问题和 2）获取输入问题？*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-16T00:23:06.210

经过更多研究，我找到了解决这两个问题的方法。但是对于第一个问题，这只是一种解决方法，我仍然不确定为什么我不能编辑文本框的宽度，而只能编辑高度。

第一个问题的解决方案：

```
<%= f.input :content, :input_html => {:class => 'span10' } %> 
```

第二个问题的解决方案：

```
<%= f.input :name, :input_html => {:value => @post.name } %> 
```

对于第一个问题，我认为 formtastic 会根据[this](https://github.com/justinfrench/formtastic/blob/master/app/assets/stylesheets/formtastic.css#L190-199)自动将表单的最大宽度设置为 72% ，这导致 :cols => somesize 不起作用。

# android - 片段着色器中可用的最大纹理数量是多少

> ID：13392746
> 
> 赞同：2
> 
> 时间：2012-11-15T06:51:35.760
> 
> 标签：android, opengl-es-2.0

我现在正在使用 opengl es 2.0 开发 android 系统。我知道为了获得片段着色器中可用纹理的最大数量，我可以尝试获取 GL_MAX_TEXTURE_IMAGE_UNITS 的值。但是，我发现这个常量的值是 34930。但是我从一本书中看到，片段着色器中只能使用 8 个纹理。我想知道 34930 的值是什么意思？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-15T06:59:31.710

该值只是 OpenGL 枚举 GL_MAX_TEXTURE_IMAGE_UNITS 的整数值。这不是可用的纹理单元的数量。

要获得可用纹理单元的数量，您必须使用

```
int[] max = new int[1];
glGetIntegerv(GL_MAX_TEXTURE_IMAGE_UNITS, max, 0); 
```

# android - Android：如何使用 MediaMetadataRetriever 获取图像？

> ID：13392747
> 
> 赞同：3
> 
> 时间：2012-11-15T06:51:36.170
> 
> 标签：android

我正在android上开发一个音乐播放器，但我遇到了一个我不知道为什么的错误。我认为我做对了，但它不起作用。

我确实搜索了很多 MediaMetadataRetriever，但我仍然没有看到我的问题是什么。

我使用 MediaMetadataRetriever 来获取有关我的歌曲的信息。一切正常，但 getEmbeddedPicture()。每当调用 getEmbeddedPicture 时，我都会收到此消息：11-15 13:36:11.101: E/MediaMetadataRetrieverJNI(460): getEmbeddedPicture: 调用 getEmbeddedPicture 失败。

我知道这个方法只在调用 setDataSource 之后调用，我做到了，但我仍然得到那个错误（当然，我的歌曲中有图像，我使用的是 android 2.3.3）。

这是代码：

```
mediaInfo.setDataSource(filePath);//filePath is correct.
byte[] img = mediaInfo.getEmbeddedPicture();//cause error
if (img != null)
    imgAlbum.setImageBitmap(BitmapFactory.decodeByteArray(img, 0,img.length)); 
```

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-22T06:03:27.763

以下应该有效：

```
MediaMetadataRetriever retriever = new MediaMetadataRetriever();
retriever.setDataSource(filePath);
byte[] art = retriever.getEmbeddedPicture();

if( art != null ){
    imgAlbum.setImageBitmap( BitmapFactory.decodeByteArray(art, 0, art.length));
}
else{
    imgAlbum.setImageResource(R.drawable.no_image);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-22T19:24:44.603

尝试[FFmpegMediaMetadataRetriever](https://github.com/wseemann/FFmpegMediaMetadataRetriever)：

```
FFmpegMediaMetadataRetriever retriever = new FFmpegMediaMetadataRetriever();
retriever.setDataSource(filePath);
byte[] image = retriever.getEmbeddedPicture();
if (image != null) {
    imgAlbum.setImageBitmap(BitmapFactory.decodeByteArray(image, 0,image.length));
}
retriever.release(); 
```

# html - 您如何从搜索引擎中隐藏部分网站

> ID：13392751
> 
> 赞同：0
> 
> 时间：2012-11-15T06:51:55.673
> 
> 标签：html, seo, hide, search-engine

我注意到 Pinterest 和其他一些网站允许用户选择是否不希望自己的名字被搜索引擎索引。我想在我们的网站上做类似的事情。本质上，我想让用户在有人在 Google/etc 上搜索他们的名字时不会显示他们在留言板上的评论。

不确定它是否相关，但我们正在使用 Ruby on Rails。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T06:59:15.340

在您的服务器的根目录中使用`robots.txt`来告诉机器人是否索引您的网站。[http://www.robotstxt.org](http://www.robotstxt.org)

如果您只想隐藏网站的一部分，您可以使用`googleon`和`googleoff`标签，请按照以下步骤操作：http: [//perishablepress.com/tell-google-to-not-index-certain-parts-of-your-page/](http://perishablepress.com/tell-google-to-not-index-certain-parts-of-your-page/)

还要记住，robots.txt 只是机器人的指南。它实际上并没有禁止他们或任何人进入您的网站。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-16T14:35:30.907

没有标准的方法告诉搜索引擎一个页面应该只被部分索引。您可以禁止对*整个*页面进行索引（ -元素或 HTTP 标头的`noindex`值）或抓取（在文件中），但不能禁止特定部分。 一个例外是从外部源包含的内容，该外部源本身被阻止爬行（例如，元素）。`meta``robots``X-Robots-Tag``Disallow``robots.txt` *`iframe`*

 *当然，您可以使用一些“hacks”，例如利用搜索引擎无法（或不希望）索引使用 JavaScript 插入的某些元素或内容。但这可能随时中断。搜索引擎会变得更好，并且将来可能会开始索引此类内容。

可能的解决方案（但没有权衡）：

*   权限系统：使这些特定用户的帖子只有注册用户才能阅读，所以搜索引擎根本看不到他们。权衡：如果用户（不允许将其内容/名称编入索引）引用此类受限帖子的文本，则它会再次出现在搜索索引中。

*   当这样的特定用户在那里发布时，不允许对整个页面进行索引。权衡：此线程没有搜索引擎结果

*   匿名化这些特定用户的名称。权衡：社区可能会受到影响。

一般来说，我会尽量避免实现这样的功能（或至少不依赖它）。*它要么*是公共董事会，*要么*是私人董事会。如果需要，我只允许线程启动器使用它。当用户创建一个新线程时，他可以选择它是私有线程还是公共线程。如果是私有线程，则整个页面将获得`noindex`（或更好：权限限制）。所有其他用户都会被告知他们是在私人线程还是公共线程上发帖。因此，如果有人想保持“私密”，他只会在私密线程中发帖。*

# eclipse - 输出太多leed eclipse死掉了，怎么控制呢

> ID：13392760
> 
> 赞同：2
> 
> 时间：2012-11-15T06:52:58.993
> 
> 标签：eclipse, output, nsight

最近我用nsight做CUDA编程。有时我在命令行中打印很多。leed eclipse 输出太多呀。但是在终端中我只使用 ctrl+c。在eclipse中如何控制输出流。我不希望日食卡住。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T08:52:07.877

**1 限位输出**

您可以将输出控制台限制在

```
Window -> Preferences -> Run/Debug -> Limit console output 
```

![在此处输入图像描述](../Images/4e3dbbe6779c7a0b7447e32587564266.png)

**2 替代输出流**

或者，您可以为您的运行/调试配置定义另一个输出流。

```
Run -> Debug Configurations -> select your configuration -> Tab "Common" 
```

![在此处输入图像描述](../Images/68638aedad73b915a9b472c2cda0020b.png)

# objective-c - 获取结果控制器 - 将对象分组到部分

> ID：13392763
> 
> 赞同：0
> 
> 时间：2012-11-15T06:53:11.173
> 
> 标签：objective-c, ios, xcode, cocoa-touch, ios6

核心数据的新手，陷入了一些棘手的境地。我有带有列的表格：

项目，价值

其中有一些数据：

电子邮件首页，abc@xyz.com

电子邮件工作，xyz@abc.com

电话回家, 1234567890

电话工作，0987654321

地址，伦敦

地址工作，爱丁堡

我正在尝试拥有一个获取结果控制器（FRC），它将表格中的上述数据分组到以下部分：

第 1 节：

电话回家, 1234567890

电话工作，0987654321

第 2 节：

电子邮件首页，abc@xyz.com

电子邮件工作，xyz@abc.com

第 3 节：

地址，伦敦

地址工作，爱丁堡

任何人都可以请帮助如何创建可以实现此目的的排序描述符。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T21:23:11.300

您可以向您的实体添加另一个`sectionnum`类型为“Integer 16”的属性：

```
sectionnum, item, value
-----------------------
2, email-home, abc@xyz.com
2, email-work, xyz@abc.com
1, phone-home, 1234567890
1, phone-work, 0987654321
3, address-home, London
3, address-work, Edinburgh 
```

然后在（第一个）排序描述符中使用`sectionnum`as 键，并在节名键路径中使用：

```
NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"YourEntity"];
NSSortDescriptor *s1 = [NSSortDescriptor sortDescriptorWithKey:@"sectionnum" ascending:YES];
request.sortDescriptors = @[s1];

fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:request
                     managedObjectContext:self.context
                       sectionNameKeyPath:@"sectionnum"
                                cacheName:nil]; 
```

# mysql - WHERE 子句仅在日期时间字段 MYSQL 中

> ID：13392764
> 
> 赞同：2
> 
> 时间：2012-11-15T06:53:12.730
> 
> 标签：mysql, sql

我想做一个查询以返回我的日期时间字段的日期为“14”的所有结果。请问我该怎么做？我正在使用 MySQL。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T06:54:55.960

[有一个名为DAYOFMONTH](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayofmonth)的内置函数

```
SELECT *
FROM tableName 
WHERE DAYOFMONTH(dateColumn) = 14 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/e2536/1)

资源

*   [星期天](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayofmonth)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T06:55:28.297

您可以在 mysql 中使用[**EXTRACT()**](http://www.w3schools.com/sql/func_extract.asp)函数从给定日期中提取日期

```
select * 
from your_table
where EXTRACT(DAY FROM Date_col)=14 
```

# [SQL小提琴演示](http://www.sqlfiddle.com/#!2/79433/1)

# asp.net - ASP.NET Ajax Timer 计数显示错误

> ID：13392766
> 
> 赞同：1
> 
> 时间：2012-11-15T06:53:21.580
> 
> 标签：asp.net, ajax, timer, asp.net-ajax, countdowntimer

我创建了一个在线考试网站，我想在其中实现 ajax 计时器。我已经编写了代码，但问题是我正在初始化一个会话，并为计时器添加秒数，假设为 10 秒。当页面加载它显示从 6 秒。所以我觉得当页面预渲染完成时计时器已经开始这就是为什么它从 6 秒而不是 10 秒显示

这是代码。如果任何机构可以建议如何从 10 秒开始显示将是非常好的。

**.aspx 文件代码**

```
<body>
<form id="form1" runat="server">
<div>
    <asp:ScriptManager ID="ScriptManager1" runat="server">

    </asp:ScriptManager>

    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
    <ContentTemplate>
        <asp:Timer ID="Timer1" runat="server" Interval="1000" OnTick="Timer1_Tick">
        </asp:Timer>
           <asp:Label ID="Label1" runat="server" Text="Remaining Time :"></asp:Label>&nbsp;<asp:Label ID="lblTime" runat="server" Text=""></asp:Label>
    </ContentTemplate>
    </asp:UpdatePanel>        
</div>
</form> 
```

**cs文件代码**

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        Session["time"] = DateTime.Now.AddSeconds(10);
    }
}

protected void Timer1_Tick(object sender, EventArgs e)
{
    if (lblTime.Text != "TimeOut!")
    {
        TimeSpan time1 = new TimeSpan();
        time1 = (DateTime)Session["time"] - DateTime.Now;
        if (time1.Seconds <= 0)
        {
            lblTime.Text = "TimeOut!";
            ScriptManager.RegisterStartupScript(this, this.GetType(), "StartUpScript1", "alert('hello')", true);

        }
        else
        {
            lblTime.Text = time1.Hours.ToString("#00") + ":" + time1.Minutes.ToString("#00") + ":" + time1.Seconds.ToString("#00");
        }
    }
    else
    {
        //Timer1.Interval = 0;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:01:45.923

然后你将值存储在 Session 中，它们是不变的。
您的页面已加载，并且时间已设置。加载后，Timer 将 Ajax 调用发送到`Timer1_Tick`，它会获取过期的时间。

您需要在`Timer1_Tick`方法中为 Time 设置移动代码，如下所示：

```
protected void Timer1_Tick(object sender, EventArgs e)
{
    if (Session["time"] == null)
        Session["time"] = DateTime.Now.AddSeconds(10); 
```

其他方法是使用[javascript 或 jquery 作为倒数计时器](http://www.tripwiremagazine.com/2012/09/jquery-countdown-scripts.html)- 这将照常工作，但会删除对服务器的页面回发。

# sql - ORA-00903: 无效的表名

> ID：13392772
> 
> 赞同：3
> 
> 时间：2012-11-15T06:53:35.900
> 
> 标签：sql, oracle

我有以下数据库表：

```
CREATE TABLE pontaje
    (
    coda        NUMBER(4) REFERENCES angajati( coda ),
    data        DATE,           
    ore         NUMBER(3)   
    ); 
```

当我运行代码时：

```
SELECT coda, SUM(ore) AS totalore
FROM   pontaje,
GROUP BY coda 
```

我明白了`ORA-00903: invalid table name`。

但我知道该表的存在是因为：`SELECT * FROM pontaje`有效。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-15T06:55:09.513

删除表名后的逗号。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-15T06:55:56.100

```
SELECT coda, SUM(ore) AS totalore
FROM pontaje                       -- << remove comma
GROUP BY coda 
```

# java - 只是有点困惑，因为我不知道 java 中 Hex int 的“底部”位是什么意思

> ID：13392773
> 
> 赞同：3
> 
> 时间：2012-11-15T06:53:44.320
> 
> 标签：java, bit

`int`对于某个编程项目，我需要对java中设置为的“底部两位”执行操作`0x0000`，但是我不确定哪一端`int`是“底部”，哪一端是“顶部”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:03:04.953

术语通常是“高位”是最重要的（第一个），“低位”是最不重要的（最后一个）。位位置由从右开始计数的从零开始的位置引用，这对应于位的数值`2` ^(`position`)

假设“底部”是“低”的同义词，这将使“底部两位”成为*最后*两位，或位置`1`和位`0`。

在 java 中，您可以使用[位掩码](http://en.wikipedia.org/wiki/Mask_%28computing%29)获取这些位：

```
int i; // some integer
int bottomTwoBits = i & 3; // 3 is "11" in binary 
```

# java - 在设置类的上下文后获取类实例

> ID：13392778
> 
> 赞同：0
> 
> 时间：2012-11-15T06:54:24.457
> 
> 标签：java, android

我想知道在我这样做之后如何从 Gameview 类中调用一个 int 值：`setContentView(new GameView(this, this));`。在设置内容视图之后设置一个新实例 `GameView game = new GameView(this , this );`只会使我的程序崩溃。还有其他方法可以检索我的 int 值吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T08:10:41.603

我在它`system.gc`启动后添加了一个`setContentView(new GameView(this, this));`确实有助于解决崩溃的部分。但是如果代码仍然可以正常工作，那么仍然没有得到证明。

# mysql - 如何在本地设置谷歌云 SQL

> ID：13392779
> 
> 赞同：1
> 
> 时间：2012-11-15T06:54:31.523
> 
> 标签：mysql, google-app-engine, python-3.x

如何以在 GAE 和本地测试环境中都适用的方式在 python 中以编程方式设置谷歌云 SQL？

当我在本地设置时，控制台总是说：

> MySQLdb 未安装或加载。

但是当我打开终端并编写 python 和 python 命令行环境运行时。它在终端中运行良好，但在 GAE 中它在 GAE 控制台中显示以下内容。

> RDBMS API 不可用，因为无法加载 MySQLdb 库。

我正在为 GAE 使用 python 2.7.3。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-10T10:36:28.683

您可以在下面的链接中参考官方帮助/演练。

[https://developers.google.com/appengine/docs/python/cloud-sql/#Python_Using_a_local_MySQL_instance_during_development](https://developers.google.com/appengine/docs/python/cloud-sql/#Python_Using_a_local_MySQL_instance_during_development)

您需要遵循的重要事项是

1.  确保 MySql 已安装在本地，您可以通过在终端中键入 MySQL 来访问它。
2.  你必须在你的 python 路径中安装[MySQLdb库。](http://sourceforge.net/projects/mysql-python/)按照它的安装指南，不要忘记更改下载文件夹中可用的 site.cfg 中的 mysql_config 变量，否则将无法安装。设置好 site.cfg 后运行以下命令。确保终端中的当前目录是您刚刚从[MySQLdb 链接下载的 MySQLdb](http://sourceforge.net/projects/mysql-python/)

    **sudo /System/Library/Frameworks/Python.framework/Versions/2.7/bin/python setup.py install**

3.  在本地 MySql 中创建一个测试数据库或在该本地数据库中导入实时转储，以便本地和实时环境的表结构相同

4.  以下是上面页面中的简单代码，适用于本地和实时环境

* * *

```
import os
import MySQLdb
import webapp2

INSTANCE_NAME = 'your-project-id:your-instance-name'

class SQ(webapp2.RequestHandler):
    def get(self):
        # Display existing guestbook entries and a form to add new entries.
        if (os.getenv('SERVER_SOFTWARE') and
            os.getenv('SERVER_SOFTWARE').startswith('Google App Engine/')):
            db = MySQLdb.connect(unix_socket='/cloudsql/' + INSTANCE_NAME, db='guestbook', user='root')
        else:
            db = MySQLdb.connect(host='127.0.0.1', port=3306, db='guestbook', user='root')

        cursor = db.cursor()
        cursor.execute('select id,guestName,content from enteries')

        for row in cursor.fetchall():
            self.response.write("(id) " + str(row[0]) + " | (name) " + str(row[1]) + " | (content) " + str(row[2]) + "</BR>" )

        db.close() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:01:30.487

再次阅读您的问题后，您似乎在说您已经安装了 MySQLdb，但 GAE 没有发现它。假设路径不是问题，您使用的是最新版本的 SDK 吗？要检查的另一件事是您的运行时 - 您是否使用`python27`GAE Python 版本？Python 3.x 与 AppEngine 不兼容`python`，因此您将`python27`在`runtime`. `app.yaml`不确定您是否说可以在 shell 中正常导入它，但如果不是，您需要确保它在您的路径上（Linux: `export PYTHONPATH="$PYTHONPATH:/path/to/MySQLdb/"`）。

为了在本地使用 Cloud SQL，您必须安装 MySQLdb 库。MySQLdb 是一个允许 Python 连接 MySQL 数据库的库，当您在本地模拟 Cloud SQL 时，您所做的就是建立与本地 MySQL 数据库的连接。因此，您需要安装一个可以处理 Python->MySQL 交互的库，而 GAE 需要的是 MySQLdb。

如果您在 Linux 上，请运行`sudo apt-get install python-mysqldb`. 如果您使用其他东西（甚至是 Linux），您可以在[此处](http://sourceforge.net/projects/mysql-python/)找到该库。

# javascript - 如何在 webview 中嵌入 javascript

> ID：13392784
> 
> 赞同：1
> 
> 时间：2012-11-15T06:54:47.937
> 
> 标签：javascript, android, webview

我正在使用 WebView 加载 html 页面，但 javascript 不起作用，我已经这样做了

```
WebView w=new WebView(this);
w.getSettings().setJavaScriptEnabled(true);

w.loadUrl("file:///android_asset/test.html");
setContentView(w); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:34:05.843

网页javascript的哪一部分不起作用？因为像 window.open 这样的函数需要其他设置。喜欢：

```
w.getSettings().setJavaScriptCanOpenWindowsAutomatically(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:10:57.970

您需要明确启用 javascript 才能使其正常工作。调用 setJavaScriptEnabled(true);

# symfony - Symfony2：如何制作 web 服务器的根页面 Symfony 的索引页面

> ID：13392785
> 
> 赞同：0
> 
> 时间：2012-11-15T06:54:52.543
> 
> 标签：symfony

我的**example.com**服务器上有多个项目，类似于：

```
project1/...
project2/...
symfony2/... 
```

每次运行 example.com 时，如何使根页面 - “example.com”重定向到**symfony2/web/app_dev.php ？**

基本上，我的问题是如何修复路由，以便 Symfony 的索引页面成为我的 Web 服务器根页面。

我尝试了一些 .htaccess 魔法，但没有奏效：

```
RewriteEngine on
RewriteBase /

RedirectMatch permanent ^/$ http://example.com/web/app_dev.php 
```

这只会在我运行 example.com 时将我重定向到 web/app_dev.php，但 URL 仍然存在于导航栏中。

我想要的是在 example.com 上看到 web/app_dev.php 打开。

如果问题形成模糊，我深表歉意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:09:29.520

看来我需要的是

```
DirectoryIndex web/app_dev.php 
```

在 .htaccess 中。

现在 example.com 总是打开 Symfony 索引页面。

# android - 在 Android 中读取 POS 标签模型

> ID：13392791
> 
> 赞同：4
> 
> 时间：2012-11-15T06:55:11.820
> 
> 标签：android, machine-learning, nlp, opennlp

我尝试在普通 Java 应用程序上使用[openNLP POS 模型进行 POS 标记。](http://opennlp.sourceforge.net/models-1.5/)现在我想在Android平台上实现它。我不确定 Android 的要求或限制是什么，因为我无法读取模型（二进制文件）并正确执行 POS 标记。

我尝试从外部存储中获取 .bin 文件并将其放入外部库中，但仍然无法正常工作。这些是我的代码：

```
InputStream modelIn = null;
POSModel model = null;

String path = Environment.getExternalStorageDirectory().getPath() + "/TextSumIt/en-pos-maxent.bin";

modelIn = new BufferedInputStream( new FileInputStream(path));
model = new POSModel(modelIn); 
```

我得到的错误：

```
11-15 06:39:35.072: W/System.err(565): opennlp.tools.util.InvalidFormatException: The profile data stream has an invalid format!
11-15 06:39:35.177: W/System.err(565):  at opennlp.tools.dictionary.serializer.DictionarySerializer.create(DictionarySerializer.java:224)
11-15 06:39:35.177: W/System.err(565):  at opennlp.tools.postag.POSDictionary.create(POSDictionary.java:282)
11-15 06:39:35.182: W/System.err(565):  at opennlp.tools.postag.POSModel$POSDictionarySerializer.create(POSModel.java:48)
11-15 06:39:35.182: W/System.err(565):  at opennlp.tools.postag.POSModel$POSDictionarySerializer.create(POSModel.java:44)
11-15 06:39:35.182: W/System.err(565):  at opennlp.tools.util.model.BaseModel.<init>(BaseModel.java:135)
11-15 06:39:35.197: W/System.err(565):  at opennlp.tools.postag.POSModel.<init>(POSModel.java:93)
11-15 06:39:35.197: W/System.err(565):  at com.main.textsumit.SummarizationActivity.postagWords(SummarizationActivity.java:676)
11-15 06:39:35.205: W/System.err(565):  at com.main.textsumit.SummarizationActivity.generateSummary(SummarizationActivity.java:252)
11-15 06:39:35.205: W/System.err(565):  at com.main.textsumit.SummarizationActivity.onCreate(SummarizationActivity.java:127) 
```

是什么导致它无法正确读取模型？我应该如何解决这个问题？请帮忙。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T12:06:47.163

对于它的价值，如果这仍然是一个问题：我在尝试在不同的上下文（非 Android）中使用 POS 模型时遇到了类似的问题，在我的情况下，它似乎是从 bin 文件中提取失败，而不是模型本身的任何东西。它似乎是存档中 tags.tagdict 文件的本地文件（如此处建议的[http://sharpnlp.codeplex.com/discussions/263620](http://sharpnlp.codeplex.com/discussions/263620)），所以如果您目前不需要它（而且我不需要简单的场景）然后尝试将其从存档中删除。（但请保持存档完好无损，因为它预计将以压缩形式到达。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-12-10T04:01:33.553

试试这个，它对我有用

```
 System.setProperty("org.xml.sax.driver", "org.xmlpull.v1.sax2.Driver");
    try {
        AssetFileDescriptor fileDescriptor = 
        context.getAssets().openFd("en_pos_maxent.bin");
        FileInputStream inputStream = fileDescriptor.createInputStream();
        POSModel posModel = new POSModel(inputStream);
        posTaggerME = new POSTaggerME(posModel);
    } catch (Exception e) {} 
```

# c# - 如何读取 VCard 文件？

> ID：13392796
> 
> 赞同：1
> 
> 时间：2012-11-15T06:55:30.447
> 
> 标签：c#, .net, regex

我想阅读 VCard 文件。

我使用[这个](http://www.codeproject.com/Articles/17393/vCard-Reader-with-Lightweight-Approach)样本。

但是当我对这个文件使用这个解决方案时。

```
BEGIN:VCARD
VERSION:4.0
N:Gump;Forrest;;;
FN: Forrest Gump
ORG:Bubba Gump Shrimp Co.
TITLE:Shrimp Man
PHOTO:http://www.example.com/dir_photos/my_photo.gif
TEL;TYPE=work,voice;VALUE=uri:tel:+1-111-555-1212
TEL;TYPE=home,voice;VALUE=uri:tel:+1-404-555-1212
ADR;TYPE=work;LABEL="42 Plantation St.\nBaytown, LA 30314\nUnited States of America"
 :;;42 Plantation St.;Baytown;LA;30314;United States of America
EMAIL:forrestgump@example.com
REV:20080424T195243Z
END:VCARD 
```

找不到电子邮件/电话/地址的参数。

例如，我将此正则表达式用于电话

```
 RegexOptions options = RegexOptions.IgnoreCase | RegexOptions.Multiline | RegexOptions.IgnorePatternWhitespace;
    regex = new Regex(@"(\n(?<strElement>(TEL)) (;*(?<strAttr>(HOME|WORK)))* (;(?<strType>(VOICE|CELL|PAGER|MSG|FAX)))*  (;(?<strPref>(PREF)))* (;[^:]*)*  (:(?<strValue>[^\n\r]*)))", options); 
```

但 strAttr,strType 的值为空。

如何为这些设置正则表达式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:45:49.433

您可以尝试找到现有的库，而不是重新发明轮子。[比如这个](http://www.thoughtproject.com/Libraries/vCard/index.htm)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T10:30:48.887

我将此正则表达式用于地址：

```
 regex = new Regex(@"(?<strElement>(ADR)) (;(?<strAttr>[^\n\r]*))? (:(?<strPo>([^;]*)))  (;(?<strBlock>([^;]*)))  (;(?<strStreet>([^;]*)))  (;(?<strCity>([^;]*))) (;(?<strRegion>([^;]*))) (;(?<strPostcode>([^;]*)))(;(?<strNation>[^\n\r]*))", options); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:12:36.187

你使用什么选项？

如果您不使用`IgnorePatternWhitespace`，则表达式中的空格是个问题。

另一个问题是，您在“VOICE”之前检查一个`;`，但在您的字符串中有一个`,`

你真的需要所有这些`*`量词吗？如果你想让某些东西成为可选的，最好使用`?`量词，它只匹配 0 或 1 次。

# java - 按下后退按钮清除堆栈活动

> ID：13392799
> 
> 赞同：3
> 
> 时间：2012-11-15T06:55:49.617
> 
> 标签：java, android

我有 4 项活动：

```
Menu -> screen 1
Menu items -> screen 2
Detailed View -> screen 3
Ordered item -> screen 4 
```

在菜单活动（屏幕 1）中，我有一个按钮 onclick，它转到 MenuItems 活动（屏幕 2，它是列表视图），单击列表视图中的任何项目时，它会转到此活动中的相应项目详细视图（屏幕 3）我有一个名为有序视图的按钮，单击此按钮将转到已订购项目（屏幕 4），在此屏幕 4 中，我有一个按钮将转到屏幕 2。

这是流量

```
Screen 1 ->screen 2->screen 3->screen 4->screen 2 
```

问题：现在完成基本流程后，当我在屏幕 2 中单击返回时，它会进入屏幕 4，再次单击返回它会进入屏幕 3，这导致用户没有多次单击返回按钮，因为活动已经存在于堆。

如何处理这个我的意思是后退按钮导航。

我尝试过使用标志，但它对我不起作用。

我也提到了这个

1.  [Android：点击返回时删除一系列活动](https://stackoverflow.com/questions/5802089/Android-remove-a-series-of-activites-on-clicking-back)

2.  [注销时，清除 Activity 历史堆栈，防止“返回”按钮打开仅登录的 Activity](https://stackoverflow.com/questions/3007998/on-logout-clear-activity-history-stack-preventing-back-button-from-opening-l)

**编辑我得到了答案：** 所以我的几个朋友在这里回答了我使用了这个 **Intent.FLAG_ACTIVITY_CLEAR_TOP**

所以

```
screen 1->screen 2->screen 3-> screen 4->screen 2 
```

因此，在屏幕 4 中，我必须设置此标志，以便清除该活动之上的所有活动。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-15T07:14:39.457

```
Intent intent= new Intent(this, screen 1.class);
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:11:18.717

您必须在每个意图之后使用 finish() 以便此活动将关闭。

您可以将功能从 4 活动到 2 活动。在它之后也使用完成。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T07:13:55.800

您要做的是将屏幕 2 设置为清单中的 launchMode singleTop。这可确保您的堆栈中一次只有其中一项活动。您还想在您的意图中设置清除顶部标志。

```
Intent a = new Intent(this,A.class);
a.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(a); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T07:32:20.710

您必须在每个意图之后使用 finish() 以便此活动将关闭。

您可以将功能从 4 活动到 2 活动。在它之后也使用完成。

[http://nanostuffs.com/Blog/?p=607](http://nanostuffs.com/Blog/?p=607)

您必须检查此链接中的链接使用子活动作为选项卡的主要活动。

# asp.net - 为不使用 IIS 的 asp.net 提供 appSettings 的外部路径

> ID：13392802
> 
> 赞同：1
> 
> 时间：2012-11-15T06:56:13.373
> 
> 标签：asp.net, web-config

我正在开发一个 asp.net Web 应用程序，并且我将 appSettings 键/值信息保存在单独的配置文件名“CommonSettings.config”文件中，该文件位于“D:/Common”文件夹而不是 web.config 文件 appSettings 部分。我修改了 web 应用程序的 web.config 文件，将 appSetting 部分指向如下路径：

```
<configuration>
     <appSettings file="D:/Common/CommonSettings.config">
</configuration> 
```

这通过调试器起作用。但它在 IIS 7 上托管应用程序时给了我一个权限问题错误。我尝试向用户“IIS_IUSRS”提供对 CommonSettings.config 文件的访问权限，但没有锻炼。任何机构都可以建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T10:31:28.340

仅出于测试目的，将对该文件的“所有人”角色的访问权限添加到该文件中。如果它会有所帮助，那么您肯定知道那是严格的 NTFS 问题，您只需要找到需要分配权限的正确角色。可能是 IIS 工作进程在其他角色而不是 IIS_IUSRS 下运行。

# jquery - 验证带 2 个小数位的数字字段

> ID：13392806
> 
> 赞同：1
> 
> 时间：2012-11-15T06:56:24.420
> 
> 标签：jquery, asp.net, validation

```
 $(document).ready(function () {
       $("#btnSubmit").click(function () {
           var textvalue = $("#txtNumeric").val();
           validateDecimal(textvalue);
           return true;
       });

   });

   function validateDecimal(value) {
       var RE = new RegExp(/^\d*\.\d\d$/);
       if (RE.test(value)) {
            return true;
       } else {
           alert("formate numeric with 2 decimal places!");
           return false;
       }
   } 
```

我正在使用这个脚本来验证我的文本数字字段值，小数点后 2 位。它在验证时工作正常。但如果文本数字字段值正确，我不会从该文本字段获取任何值到页面后面的 ASP.NET 代码（default.aspx.cs）。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T08:46:09.273

而不是将验证逻辑放入`onclick`处理程序。我建议您改为放入`submit`事件处理程序。

```
$("form").submit(function () {
       var textvalue = $("#txtNumeric").val();
       return validateDecimal(textvalue);
} 
```

数据应正确发布到服务器端脚本。

# java - 来自不同包的启动器的活动意图过滤器操作名称

> ID：13392808
> 
> 赞同：0
> 
> 时间：2012-11-15T06:56:26.407
> 
> 标签：java, android, android-intent, manifest, launcher

我很困惑。

我有两个来自不同包的活动，比如说“com.exampleone.a”和“com.exampletwo.b”。他们在同一个项目下。

在单个清单 xml 中，出于效率原因，我选择将“com.exampleone”声明为包，即

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="com.exampleone"
          ....../> 
```

因此，对于我使用的其他活动的意图过滤器......

```
<intent-filter>
    <action android:name="com.exampletwo.b" />
    <category android:name="android.intent.category.DEFAULT" />
</intent-filter> 
```

所以在我的程序中，当我想访问 com.exampletwo.b 时，我会使用...

```
Intent myIntent = new Intent("com.exampletwo.b");
startActivity(myIntent); 
```

* * *

碰巧（是的，生活），我最终决定我必须使用活动“com.exampletwo.b”作为启动器。所以我试着把它改成一个发射器......

```
<intent-filter>
    <action android:name="com.exampletwo.b" />
    <category android:name="android.intent.category.LAUNCHER" />
</intent-filter> 
```

...这不起作用（它给出了“未找到启动器活动”错误）。而且我无法将动作重命名为...

```
<intent-filter>
    <action android:name="android.intent.action.MAIN" />
    <category android:name="android.intent.category.LAUNCHER" />
</intent-filter> 
```

...因为那样我就很难引用此活动（请注意，在整个项目中，我一直在使用“com.exampletwo.b”作为我的意图）。

有没有办法让启动器工作，最好不用重命名？

我想我可以通过创建一个虚拟启动器活动来完成这个工作，但是有没有更简单的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T20:54:25.733

为什么不做一个活动，你可以选择其他活动开始。类似 LauncherActivity、FromOnePackageAct、FromTwoPackageAct。然后在 LauncherActivity 你可以跳转到其他：

```
public class LauncherActivity...
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Intent intent = new Intent(this, FromOnePackageAct.class);//here´s the trick
    from.startActivity(intent);
//  from.finish(); this is optional 
```

希望这可以为您提供一个想法:-)

# jsoup - 使用 jsoup 消毒/清洁后如何保留 html 正文

> ID：13392810
> 
> 赞同：1
> 
> 时间：2012-11-15T06:56:36.450
> 
> 标签：jsoup

我是jsoup新手。我正在尝试清理以下 HTML 字符串。字符串 html = `"<html><head><body bgcolor=\"red\"><p>sidd</p></body></html></head>"`;

我想保留身体标签，所以我制作了我的白名单如下

```
 Whitelist w = Whitelist.relaxed();
    w.addTags("html");
    w.addTags("head");
    w.addTags("body");
    w.addAttributes("body","bgcolor"); 
```

输出为`<p>sidd</p>`. 有人可以告诉我如何在经过清理的输出中保留“body”标签吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T16:23:00.207

您可以使用`parse()`- 方法：

```
final String html = "<html><head><body bgcolor=\"red\"><p>sidd</p></body></html></head>";

Document doc = Jsoup.parse(html); // Make shure you import 'org.jsoup.nodes.Document'

System.out.println(doc); // Output your html or whatever 
```

**输出：**

```
<html>
 <head></head>
 <body bgcolor="red">
  <p>sidd</p>
 </body>
</html> 
```

如果您只需要 body-tag 使用`doc.select("body")`. 输出：

```
<body bgcolor="red">
 <p>sidd</p>
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-06T12:16:36.570

使用 jsoup 解析不会清理 html

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-14T15:36:10.040

有一个 body() 方法可以只给你身体：

```
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;

public class so {

    public static void main(String[] args) {

        String html = "<html><head><body bgcolor=\"red\"><p>sidd</p></body></html></head>";
        Document doc = Jsoup.parse(html);
        System.out.println(doc.body());
    }
} 
```

输出：

```
<body bgcolor="red">
 <p>sidd</p>
</body> 
```

# iphone - UIScroll 视图中的 UITableview - 触摸 tableview 时禁用滚动视图的滚动

> ID：13392814
> 
> 赞同：1
> 
> 时间：2012-11-15T06:57:16.100
> 
> 标签：iphone, ios, uitableview, uiscrollview

我有一个 UITableview 作为子视图添加到 uiscrollview。表格视图通过旋转使其水平。所以我可以水平滚动表格视图。我的滚动视图本身就是一个水平滚动。现在的问题是当我滚动我的表格视图并到达最后一行时，它正在滚动滚动视图本身。当我触摸 Tableview 时，我不想禁用滚动视图的滚动。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:28:56.677

规定 uiscrollview 的内容高度

```
[scrollView setContentSize:CGSizeMake(scrollView.contentSize.width, 200)]; 
```

您可以设置 tableview 的高度而不是 200。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T08:40:15.457

您可以将 TableView 放在另一个 ScrollView 上，然后当您使用内部滚动视图时，将 outterScrollView scrollingEnabled 设置为 NO。

# java - 如何使用 java swing 文本框输入日期并存储在 mysql 数据库中？

> ID：13392824
> 
> 赞同：1
> 
> 时间：2012-11-15T06:58:18.873
> 
> 标签：java, mysql, jdbc

我想做的事 ？

我有一个**客户**类，它有一个可变的出生日期//出生日期

我正在尝试使用 java Swing 文本字段从用户那里获取输入。

将其转换为 java 日期，然后转换为 java.sql.Date，以便我可以将其存储在我的 MySQL 数据库中。

这是 Customer 类的 setter 方法

```
public  void setDOB(java.sql.Date dob)
{
    DateOfBirth = dob;
} 
```

这是我的 Swing 类（应用程序窗口加载器）的代码

```
//Date
            if(textField_5.getText().isEmpty())
                lblerr.setVisible(true);
            else
            {
                try {
                    SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-YYYY");
                    Date dob = null;
                    dob = sdf.parse(textField_5.getText());
                    java.sql.Date sqlDate = new java.sql.Date(dob.getTime());
                    c1.setDOB(sqlDate);

                } catch (ParseException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                allinfoisentered = true;
            } 
```

textField_5 - 是用户输入日期的字段。

我使用以下不同的输入测试了我的应用程序：

1.  1993 年 12 月 12 日
2.  10-05-1970

问题是：存储在 MySQL 表中的值是 1992-12-27，我有一种强烈的感觉，这是一些默认日期。

我想知道，我如何将字符串解析为日期，然后将其发送到 MySQL 表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:17:27.343

（正如评论中所讨论的......）

你有两个问题：

*   您的解析格式不正确。它应该使用“yyyy”而不是“YYYY”
*   更重要的是（IMO）您的错误处理不正确。您正在使用此`catch`块：

    ```
    catch (ParseException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
    ```

    ...这意味着即使解析失败，您也会插入除日期之外的所有数据，这些数据不会被设置。无论如何，您*应该*能够从日志文件中获取信息，但可能您没有记录`System.err`，或者您没有查看日志。

错误处理*非常*重要。如果在解析数据时发生异常，我*希望*您根本不想插入记录 - 相反，错误应该向上传播到堆栈，*迫使*您注意它，并且不会丢失信息。所以你可能想要这样的东西：

```
catch (ParseException e) {
    throw new DataValidationException(
        "Error parsing date: " + textField_5.getText(), e);
} 
```

（`DataValidationException`这只是一个虚构的例外 - 你应该考虑你想在你的应用程序中一致地使用什么。）

发生错误时，有两件事非常重要：

*   你当时应该妥善处理。这通常意味着中止当前操作，尽管在某些情况下您可以重试，或者在没有一些不重要信息的情况下继续。
*   您应该捕获足够的信息以便以后了解错误。

# php - 如何在zend框架2中创建一个复选框组

> ID：13392828
> 
> 赞同：1
> 
> 时间：2012-11-15T06:59:04.887
> 
> 标签：php, forms, checkbox, zend-form, zend-framework2

我正在尝试创建一个复选框组，例如：

```
Checkbox Label
|_| Checkbox1
|_| Checkbox2
... 
```

我发现这段代码只呈现一个复选框

```
$this->add(array(
        'name' => 'checkbox',
        'type' => 'Zend\Form\Element\Checkbox',
        'options' => array(
            'label' => 'A checkbox ',
            'checked_value' => 'good',
            'unchecked_value' => 'bad',

        )
    )); 
```

有任何想法吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:54:31.900

我认为这就是你要找的东西：http: [//framework.zend.com/manual/2.0/en/modules/zend.form.elements.html#multicheckbox-element](http://framework.zend.com/manual/2.0/en/modules/zend.form.elements.html#multicheckbox-element)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-16T20:33:37.897

有文章包含多复选框处理的完整示例（包括在数据库中存储/读取）：

[Zend Framework 2：扩展 Zend\Form 以添加 Select、Multicheckbox、Email、Date、Textarea 和 Radio 元素](http://samsonasik.wordpress.com/2012/10/01/zend-framework-2-extending-zendform-to-add-select-multicheckbox-emaildate-textarea-and-radio-element/)

# android - 升级时如何检测以前安装的应用程序的版本名称

> ID：13392840
> 
> 赞同：2
> 
> 时间：2012-11-15T07:00:11.843
> 
> 标签：android

有什么方法可以检测到在 android.xml 中安装的应用程序的先前版本。

例如，我有一个 android 应用程序。在这个 android 应用程序的早期版本中，我使用了自动生成的 UUID。现在我们在该应用程序的下一个版本中进行了更改，并在 UUID 的位置使用 ANDROID_ID。现在假设用户将应用程序从旧版本升级到新版本，在这种情况下，我想检测手机上是否安装了以前版本的应用程序，以及是否安装了以前安装的应用程序的版本名称。

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T09:44:33.663

由于以前的开发人员没有更新版本名称，您可能会使用应用程序的最后更新时间。如果它比要求的旧，则更新它。

PackageInfo 类具有 lastUpdateTime 属性。在这里如何使用它：

```
private Date getLastUpdateTime() {
    PackageInfo pi;
    try {
        pi = getPackageManager().getPackageInfo(getPackageName(), 0);
        Date resultdate = new Date(pi.lastUpdateTime);
        return resultdate;
    } catch (final NameNotFoundException e) {
        return null;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T08:14:17.907

如果您的应用程序已更新。您的旧版本已被替换。但是共享偏好必须保留（如果用户没有清除应用数据）。

检查您是否可以从共享首选项中读取 UUID YES 新版本 NO 旧版本。因此，您可以大致检测到安装的版本。

# php - 使用 PHP 正则表达式验证用户名

> ID：13392842
> 
> 赞同：14
> 
> 时间：2012-11-15T07:00:26.893
> 
> 标签：php, regex

我正在尝试使用正则表达式验证 PHP 中的用户名，而我提交的所有内容都未通过检查。我对此还是很陌生。

`if ( !preg_match('/^[A-Za-z]{1}[A-Za-z0-9]{5-31}$/', $joinUser) )`

规则：

*   必须以字母开头
*   6-32 个字符
*   只限字母和数字

我一直在使用[这个在线测试仪](http://www.regular-expressions.info/javascriptexample.html)和[这个](http://regexpal.com/)。我读[了这个线程](https://stackoverflow.com/questions/1221985/how-to-validate-a-user-name-with-regex)和[这个线程](https://stackoverflow.com/questions/168956/yahoo-username-regex)，但不能理解太多，因为它们似乎比我的复杂一点（前瞻？和各种特殊字符）。

在阅读了我链接到的第一个线程之后，似乎我是一个不太明白说“字母”如何影响被认为是可接受的内容的人，即外国字符、重音字符等。我真的只看英文字母（这是 ASCII 吗？）和数字 0-9。

谢谢。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-11-15T07:05:24.703

唯一的问题是，你拼错了最后一个量词。

`{5-31}`必须`{5,31}`

所以你的正则表达式是

```
if ( !preg_match('/^[A-Za-z][A-Za-z0-9]{5,31}$/', $joinUser) ) 
```

你可以跳过`{1}`，但它不会受到伤害。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-15T07:19:43.367

显然，您需要更改的只是 5-31 中的 5,31。

工作示例：

```
if (preg_match('/^[A-Za-z]{1}[A-Za-z0-9]{5,31}$/', "moo123"))
{
    echo 'succeeded';
}
else
{
    echo 'failed';
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-15T07:06:14.720

试试这个：

```
if ( !preg_match('/^[A-Za-z][A-Za-z0-9]{5,31}$/', $joinUser) ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-27T14:49:43.423

另一个答案：

```
if (strlen($username) >= 5 && strlen($username) <= 31 && 
ctype_alnum($username)){

     echo "valid username";

}else{

     echo "invalid username";

} 
```

# ruby-on-rails-3 - Rake, Active Record - Rails rake 任务，更新数据库中的记录

> ID：13392843
> 
> 赞同：0
> 
> 时间：2012-11-15T07:00:54.543
> 
> 标签：ruby-on-rails-3, activerecord

我有一个 rake 任务，应该更新数据库中的记录，但无济于事。从 rake 调用时它的工作方式是否有所不同？

这是我所拥有的，它运行没有错误，但它不会更新数据库中的记录

```
task :remove_vintage_from_slugs => :environment do
 wine = Wine.find_by_id(22)
 wine.slug = "new value"
 wine.save
end 
```

## 更新

葡萄酒。保存！返回真？
1.9.2-p318 :001 > wine = Wine.find_by_id(23) 1.9.2-p318 :002 > wine.slug =“测试” 1.9.2-p318 :003 > wine.save！=> 真

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:19:47.983

两件事情：

1.  默认情况下，保存始终运行验证。如果其中任何一个失败，则取消操作并保存返回 false。但是，如果您提供 :validate => false，则完全绕过验证。

2.  有一系列与保存相关的回调。如果任何 before_* 回调返回 false，则取消操作并且 save 返回 false。

在控制台中检查保存是否由于某种原因返回 false。更好的是你应该使用保存！（一声巨响）。带保存！验证始终运行。如果其中任何一个失败，ActiveRecord::RecordInvalid 就会被提升。

# linux-kernel - 设备驱动程序代码在哪里执行？内核空间还是用户空间？

> ID：13392857
> 
> 赞同：11
> 
> 时间：2012-11-15T07:02:51.273
> 
> 标签：linux-kernel, operating-system, device-driver

**第1部分：**

对于那里的 linux/unix 专家，请您帮助我了解设备驱动程序。据我了解，驱动程序是一段代码，它直接与硬件交互并公开一些 api 来访问设备。我的问题是这段代码在哪里运行，用户空间还是内核空间？

我知道在内核空间中执行的代码有一些额外的权限，比如访问任何内存位置（如果我错了，请纠正）。如果我们安装一个第三方驱动，如果它在内核空间运行，这对整个系统不会有害吗？任何操作系统如何处理这个？

**第2部分：**

让我们以 USB 设备（相机、键盘..）为例，系统如何识别这些设备？系统如何知道要安装哪个驱动程序？驱动程序如何知道读写数据的设备地址？

（如果这太大而无法在这里回答，请提供一些好的文档或教程的链接..，我已经尝试过但找不到这些答案。请帮助）

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-15T11:57:04.557

**第1部分**

在 linux 上，驱动程序在内核空间中运行。是的，正如您所说，这对安全有重大影响。驱动程序中的大多数异常都会关闭内核，可能会损坏内核内存（带来各种后果）。有缺陷的驱动程序也会对系统安全产生影响，恶意驱动程序绝对可以为所欲为。

MacOSX 和 Window NT 内核上的一个趋势是*用户空间驱动程序*。一段时间以来，Microsoft 一直在推动[Windows 用户空间驱动程序框架](http://www.google.co.uk/url?sa=t&rct=j&q=&esrc=s&source=web&cd=4&ved=0CDoQFjAD&url=http://download.microsoft.com/download/f/0/5/f05a42ce-575b-4c60-82d6-208d3754b2d6/umdf_intro.ppt&ei=TtGkUOe3D-eQ0AXS64CADQ&usg=AFQjCNEjqCAMSDjehVNekPW7vBQKgHDV6w)，MacOSX 长期以来一直为 Firewire 和 USB 驱动程序提供用户空间 API，并为许多 USB 外围设备提供类兼容的驱动程序。在 MacOSX 上安装 3rd 方内核模式设备驱动程序是很不寻常的。

可以说，Windows 过去因内核恐慌而声名狼藉的原因可归咎于几乎每部手机、相机和打印机都附带的（通常质量较差的）内核模式驱动程序。

Linux 图形驱动程序几乎都是在用户空间中实现的，只有最少的内核驻留部分，[Fuse](http://fuse.sourceforge.net)允许在用户空间中实现文件系统。

**第2部分**

USB、Firewire、MCI（以及 PCI-e）都具有枚举机制，总线驱动程序可以通过该机制将设备与驱动程序匹配。实际上，这意味着所有设备都会公开描述它们的元数据。

元数据中包含 DeviceID、VendorID 以及设备提供的功能和相关 ClassID 的描述。ClassID 有助于通用[类驱动程序](http://en.wikipedia.org/wiki/Class_driver)。

从概念上讲，操作系统将尝试找到专门支持 VendorID 和 DeviceID 的驱动程序，然后回退到支持 ClassID(s) 的驱动程序。

[将设备与驱动程序匹配是Linux 设备模型](http://www.bravegnu.org/device-model/device-model.html)的核心概念，用于匹配的精确匹配标准是`match()`特定总线驱动程序中的功能。

一旦设备驱动程序被绑定到设备上，它就会使用总线驱动程序（或由它提供的寻址信息）来执行读写操作。对于 PCI 和 Firewire，这是一个内存映射的 IO 地址。对于 USB it 总线寻址信息。

[Linux 文档树](http://kernel.org/doc/Documentation/driver-model/)提供了对 Linux 设备模型设计的一些见解，但并不是真正的入门级阅读。

我还建议阅读[Linux 设备驱动程序（第 3 版）](http://lwn.net/Kernel/LDD3/)

# javascript - 为什么在 Internet Explorer 中访问 localStorage 对象会引发错误？

> ID：13392872
> 
> 赞同：5
> 
> 时间：2012-11-15T07:04:58.730
> 
> 标签：javascript, internet-explorer, local-storage, modernizr

我正在处理一个客户端问题，Modernizr 意外未检测到`localStorage`Internet Explorer 9 中的对象支持。我的页面正确使用 HTML 5 doctype ( `<!DOCTYPE html>`) 并且开发人员工具报告该页面的浏览器模式为 IE9 和文档IE9 标准的模式，所以我希望这可以工作。

我已经在 Modernizr 中调试了以下`try`/`catch`块，发现一旦`localStorage`访问对象就会引发 JavaScript 错误。

```
tests['localstorage'] = function() {
    try {
        localStorage.setItem(mod, mod);
        localStorage.removeItem(mod);
        return true;
    } catch(e) {
        return false;
    }
}; 
```

在某些机器上，JavaScript 错误的消息是`The system cannot find the file specified.`. 在其他情况下，它只是`Invalid argument.`和 Internet Explorer 在引发错误之前阻塞了整整 5 分钟。

**是什么导致访问`localStorage`对象在 Internet Explorer 上引发错误？**

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-15T07:05:58.337

我发现如果最低级别的子域与Internet Explorer[上的文件掩码和文件名属性的限制](https://web.archive.org/web/20141231102443/http://msdn.microsoft.com/en-us/library/aa578688.aspx)`localStorage`中记录的保留设备名称之一匹配，那么访问该对象将引发错误。

之所以会出现此问题，是因为 Internet Explorer 在内部尝试在访问对象时使用保留的设备名称来访问文件系统`localStorage`，以满足[`Storage`对象初始化步骤](http://www.w3.org/TR/webstorage/#the-localstorage-attribute)。

这当然是一个非常极端的情况，但是如果您的页面来自一个服务器，其最低级别的子域恰好是`con`, `prn`, `aux`, `clock$`, `nul`, `com1`, `com2`, `com3`, `com4`, `com5`, `com6`, `com7`, `com8`, `com9`, `lpt1`, `lpt2`, `lpt3`, `lpt4`, `lpt5`, `lpt6`, `lpt7`, `lpt8`, 或`lpt9`（例如`http://prn.example.com`）那么这很可能就是您看到此问题的原因。

在这种情况下选择一个不是保留设备名称的较低级别的子域解决了这个问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-22T19:42:18.970

我们遇到了类似的问题，因为我们在机器上运行了 CCleaner。

要解决：

Internet 选项 -> 浏览历史记录 -> 删除：

确保检查除第一个选项（保留收藏的网站数据）以外的所有选项。

我们能够修复，然后再次使用 CCleaner 重现此问题，然后再次修复。

访问此站点了解更多信息： http: [//grekai.wordpress.com/2013/02/24/localstorage-the-system-cannot-find-the-path-specified/](http://grekai.wordpress.com/2013/02/24/localstorage-the-system-cannot-find-the-path-specified/)

# java - 如何将当前方法的参数放入列表

> ID：13392875
> 
> 赞同：0
> 
> 时间：2012-11-15T07:05:05.370
> 
> 标签：java, variadic-functions

我有两种方法

```
public void login(String userName, String password)
{

}

public void login(String userName, String password, Object loginOption)
{

} 
```

我希望用某种方法让他们都被独奏：

```
public boolean getThingsDone(Object...vargs)
{
    //Do The Real Action
    return true;
} 
```

所以我必须进行不同的函数调用：

```
public void login(String userName, String password)
{
    getThingsDone(userName,password);
}

public void login(String userName, String password, Object loginOption)
{
    getThingsDone(userName,password,loginOption);
} 
```

有什么方法可以将不同的参数放入一个列表中，这样我就可以进行相同的调用

```
getThingsDone(parameterList); 
```

我不知道，但将这两种方法都声明为 login(String ...vargs)，但这会使其他人使用此方法感到困惑。

有没有人遇到过这个问题？任何提示将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:07:57.700

您可以创建`Login`具有三个属性的类： - `username, password, loginOption`。

```
public class Login {
    private String username;
    private String password;
    private Object loginOptions;

    // Constructors
    // public accessors.
} 
```

并在您的登录方法`Login`中将引用作为参数传递：-

```
public void login(Login login) {

} 
```

所以，如果你想通过`loginOptions`，这样称呼它： -

```
login(new Login(username, password, loginOptions)); 
```

否则，只需使用一个`2-parameterized constructor`类`Login`：-

```
login(new Login(username, password)); 
```

并从登录方法中调用其他方法，如下所示：-

```
getThingsDone(login); 
```

Now in that method, check : - `if (login.getLoginOptions() != null)`. If it is null, then do things related to `username` and `password`. And if it is not null, then do things related to all of them.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-15T07:14:33.160

```
public void login(String userName, String password, Object loginOption) 
```

This method should do the thing and should be able to handle the situation when `loginOption` is null.

Then you could invoke it as follows:

```
public void login(String userName, String password) {
    login(userName, password, null); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:09:13.543

You can pass an array list and use the length to do what ever you need. Why not use overloaded methods and modularize the rest of the code?

# android - 解析没有 Arrayname 的 Json

> ID：13392878
> 
> 赞同：0
> 
> 时间：2012-11-15T07:05:16.450
> 
> 标签：android, json

我在我的应用程序中解析一个 json 数组。我收到错误。

以下是我的活动代码：

```
ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();
         // Creating JSON Parser instance
            JSONParser jParser = new JSONParser();

            // getting JSON string from URL
//            JSONObject json = jParser.getJSONFromUrl(URL);

            try {
                JSONArray   json = new JSONArray(jParser.getJSONFromUrl(URL));

            try {
                // Getting Array of Contacts
//                contacts = json.getJSONArray(" ");

                // looping through All Contacts
                for(int i = 0; i < json.length(); i++){
                    JSONObject c = json.getJSONObject(i);

                    // Storing each json item in variable
                    String id = c.getString("name");
                    System.out.println("id ="+id );
//                    String name = c.getString(TAG_NAME);
//                    String email = c.getString(TAG_EMAIL);
//                    String address = c.getString(TAG_ADDRESS);
//                    String gender = c.getString(TAG_GENDER);
//             
//                    // Phone number is agin JSON Object
//                    JSONObject phone = c.getJSONObject(TAG_PHONE);
//                    String mobile = phone.getString(TAG_PHONE_MOBILE);
//                    String home = phone.getString(TAG_PHONE_HOME);
//                    String office = phone.getString(TAG_PHONE_OFFICE);

                }
            } catch (JSONException e) {
                e.printStackTrace();
            }
            } catch (JSONException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            } 
```

我的解析器代码：

```
public class JSONParser {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";

    // constructor
    public JSONParser() {

    }

    public String getJSONFromUrl(String url) {

        // Making HTTP request
        try {
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();
//            is=EntityUtils.toByteArray(httpEntity);

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return json;

    }
} 
```

但我收到错误。我的 LOGCAT 如下：

```
11-15 12:24:46.788: E/JSON Parser(279): Error parsing data org.json.JSONException: Value <!DOCTYPE of type java.lang.String cannot be converted to JSONObject
11-15 12:24:46.788: W/System.err(279): org.json.JSONException: Value <!DOCTYPE of type java.lang.String cannot be converted to JSONArray
11-15 12:24:46.816: W/System.err(279):  at org.json.JSON.typeMismatch(JSON.java:107)
11-15 12:24:46.826: W/System.err(279):  at org.json.JSONArray.<init>(JSONArray.java:91)
11-15 12:24:46.826: W/System.err(279):  at org.json.JSONArray.<init>(JSONArray.java:103)
11-15 12:24:46.826: W/System.err(279):  at com.newspaper.MainActivity.onCreate(MainActivity.java:43)
11-15 12:24:46.826: W/System.err(279):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-15 12:24:46.836: W/System.err(279):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
11-15 12:24:46.845: W/System.err(279):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-15 12:24:46.845: W/System.err(279):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-15 12:24:46.856: W/System.err(279):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-15 12:24:46.856: W/System.err(279):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-15 12:24:46.866: W/System.err(279):  at android.os.Looper.loop(Looper.java:123)
11-15 12:24:46.866: W/System.err(279):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-15 12:24:46.866: W/System.err(279):  at java.lang.reflect.Method.invokeNative(Native Method)
11-15 12:24:46.866: W/System.err(279):  at java.lang.reflect.Method.invoke(Method.java:521)
11-15 12:24:46.866: W/System.err(279):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-15 12:24:46.877: W/System.err(279):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-15 12:24:46.886: W/System.err(279):  at dalvik.system.NativeStart.main(Native Method) 
```

我的json回复：

```
[{"seqNum": 1, "sectionId": 2780, "name": "Top Stories", "displayOptions": {"allowComments": false, "showOnFrontPage": true, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 4}, "urlPath": "/top-stories/"}, {"seqNum": 2, "sectionId": 3044, "name": "Breaking News", "displayOptions": {"allowComments": false, "showOnFrontPage": true, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/breaking-news/"}, {"seqNum": 3, "sectionId": 3391, "name": "Assembly Elections 2011", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 15}, "urlPath": "/assembly-elections-2011/"}, {"seqNum": 3, "sectionId": 3256, "name": "The India Cables", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/the-india-cables/"}, {"seqNum": 3, "sectionId": 2782, "name": "International", "displayOptions": {"includeInNavBar": true, "articlesToShow": 5, "allowComments": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "showOnFrontPage": false}, "urlPath": "/international/"}, {"seqNum": 3, "sectionId": 2810, "name": "States", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/states/"}, {"seqNum": 3, "sectionId": 2811, "name": "Cities", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/cities/"}, {"seqNum": 4, "sectionId": 2781, "name": "National", "displayOptions": {"includeInNavBar": true, "articlesToShow": 5, "allowComments": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "showOnFrontPage": true}, "urlPath": "/national/"}, {"seqNum": 4, "sectionId": 2784, "name": "Business", "displayOptions": {"allowComments": false, "showOnFrontPage": true, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/business/"}, {"seqNum": 4, "sectionId": 2789, "name": "Science and Technology", "displayOptions": {"includeInNavBar": true, "articlesToShow": 5, "allowComments": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "showOnFrontPage": false}, "urlPath": "/science-and-technology/"}, {"seqNum": 5, "sectionId": 2785, "name": "Sport", "displayOptions": {"allowComments": false, "showOnFrontPage": true, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/sport/"}, {"seqNum": 6, "sectionId": 2786, "name": "Life and Style", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/life-and-style/"}, {"seqNum": 7, "sectionId": 2787, "name": "Education", "displayOptions": {"includeInNavBar": true, "articlesToShow": 5, "allowComments": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "showOnFrontPage": false}, "urlPath": "/education/"}, {"seqNum": 10, "sectionId": 2790, "name": "Arts", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/arts/"}, {"seqNum": 10, "sectionId": 3051, "name": "Editorial", "displayOptions": {"includeInNavBar": true, "articlesToShow": 2, "allowComments": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "showOnFrontPage": true}, "urlPath": "/editorial/"}, {"seqNum": 11, "sectionId": 3010, "name": "Opinion", "displayOptions": {"includeInNavBar": true, "articlesToShow": 3, "allowComments": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "showOnFrontPage": true}, "urlPath": "/opinion/"}, {"seqNum": 12, "sectionId": 4309, "name": "MetroPlus Theatre Fest 2011", "displayOptions": {"allowComments": false, "showOnFrontPage": false, "includeInNavBar": false, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/metroplus-theatre-fest-2011/"}, {"seqNum": 13, "sectionId": 2997, "name": "Slideshows", "displayOptions": {"allowComments": false, "showOnFrontPage": true, "includeInNavBar": true, "ads": {"adPlacement": {"bottomAdSlot": true, "topAdSlot": true}}, "articlesToShow": 5}, "urlPath": "/slideshows/"}] 
```

请帮助我。提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:13:39.213

看起来您没有从服务器获得 JSON 结构。`System.out.println(json);`在该行之后添加一个`json = sb.toString();`以查看您实际得到的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:22:29.130

java.lang.String 类型的 DOCTYPE 无法转换为 JSONArray；它说，响应字符串不是 json 格式，而是像 Tom 所说的 html，

```
 is.close();
 json = sb.toString();
 Log.i(TAG, json);  //add this log 
```

你可以通过 Log.i 看到真正的 josn 字符串。可能不是你的真实反应

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:49:52.617

看到这个：[iso-8859-1 vs utf-8 android](https://stackoverflow.com/questions/8464868/iso-8859-1-vs-utf-8-android) **[首先检查字符集的内容类型标题]**

我相信你有一个问题：
`BufferedReader reader = new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);`

只需记录 Mejonzhan 提到的最终 json 字符串，以确认它。

希望这可以帮助。

# android - Android - 如何检查文本视图当前是否显示键盘输入

> ID：13392879
> 
> 赞同：0
> 
> 时间：2012-11-15T07:05:16.667
> 
> 标签：android, focus, textview

我有一个文本视图获得键盘焦点的活动。

我为父视图设置了一个 ontouchlistener；如果点击超出了文本视图的范围，我将使用隐藏我的文本视图；

```
InputMethodManager imm = (InputMethodManager)getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);
imm.hideSoftInputFromWindow(textView.getWindowToken(), 0); 
```

我唯一的问题是，如果没有显示键盘并且单击了父级，它会不断触发这两行，这最终会导致无用的事务（我希望尽可能多地保存处理..）

我一直在尝试使用一些 textview 方法，如 hasfocus 或 isfocused 等，但我似乎找不到一个只触发文本视图的方法来显示键盘...

有谁知道这是否可能？

下面的 if 语句是我想放置方法的地方..

```
public boolean onTouch(View v, MotionEvent event) {
        if (event.getAction() == MotionEvent.ACTION_DOWN) {
            if (textView.*SOME METHOD HERE*?) {
                Log.e(TAG, "LOSING FOCUS");
                InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);
                imm.hideSoftInputFromWindow(textView.getWindowToken(), 0);
            }
        }
                    return true;
    } 
```

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-15T07:12:58.260

检查配置。keyboardHidden 值将保存是否有任何键盘。除非有面部键盘（想想黑莓风格），否则这将起作用。如果这些很重要，您将需要一些更复杂的逻辑，包括键盘字段和 hardKeyboardHidden 字段。

# .htaccess - 如何区分.htaccess中链接重写中的子域和主域？

> ID：13392883
> 
> 赞同：1
> 
> 时间：2012-11-15T07:05:33.347
> 
> 标签：.htaccess, dns, subdomain

在 .htaccess 文件中我该怎么做？？？

1.  如果用户通过主域访问，链接将是：
    domain.com/subdomain/category
    domain.com/subdomain/news
    domain.com/subdomain/about
    domain.com/subdomain/product

2.  如果用户通过子域访问，链接将是：
    subdomain.domain.com/category
    subdomain.domain.com/news
    subdomain.domain.com/about
    subdomain.domain.com/product

# c# - AjaxFileUpload 获取文件流

> ID：13392889
> 
> 赞同：1
> 
> 时间：2012-11-15T07:06:06.213
> 
> 标签：c#, asp.net, c#-4.0

`System.IO.Stream`我想像这样使用 AjaxFileUpload获取文件。这是经典的 FileUpload 组件。

```
System.IO.Stream theStream = fileUpload.PostedFile.InputStream; 
```

有人可以告诉我该怎么做吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-14T10:47:05.470

如果您正在处理`UploadComplete`事件，那么您可以从事件参数的`GetStreamContents`（作为流）和`GetContents`（作为字节数组）方法中获取流`AjaxFileUploadEventArgs`

例如

```
protected void afu_OnUploadComplete(object sender, AjaxFileUploadEventArgs file) 
{ 
    using (var stream = file.GetStreamContents())
    {
        // Read the stream...
    }
} 
```

您可以查看源代码中可用的内容[`AjaxFileUploadEventArgs`](http://ajaxcontroltoolkit.codeplex.com/SourceControl/latest#Server/AjaxControlToolkit/AjaxFileUpload/AjaxFileUploadEventArgs.cs "AjaxFileUploadEventArgs")- 远不止文档中的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-25T12:24:53.750

您可以暂时保存文件，然后读取它以获取您的 FileStream。它可能有点脏，但它对我有用。

VB.NET：

```
Dim tempPath As String = System.IO.Path.GetTempFileName()
yourAjaxFileUpload.SaveAs(tempPath)
Using fs As FileStream = File.OpenRead(tempPath)
    'Do stuff with fs here
End Using
File.Delete(tempPath) 
```

C＃：

```
string tempPath = System.IO.Path.GetTempFileName();
yourAjaxFileUpload.SaveAs(tempPath);
using (FileStream fs = File.OpenRead(tempPath)) {
    //do stuff with fs here
}
File.Delete(tempPath); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-20T07:42:55.813

如果有人想在您保存图像之前进行转换（例如：Png 到 jpg）。下面可能对**ajaxcontroltoolkit**中的**asyncfileuploader有所帮助**

```
 Protected Sub FileUploadComplete(ByVal sender As Object, ByVal e As EventArgs)
    Try
        Dim id As String = Session("MBRId")
        Dim contentType As String = AsyncFileUploadProfileImage.ContentType
        If (contentType = "image/jpeg" Or contentType = "image/png") Then
            Dim filename As String = System.IO.Path.GetFileName(AsyncFileUploadProfileImage.FileName)
            Dim TOjpegImage = System.Drawing.Image.FromStream(AsyncFileUploadProfileImage.FileContent)
            TOjpegImage.Save(Server.MapPath("img_prof/" + id + ".jpg"), System.Drawing.Imaging.ImageFormat.Jpeg)
            Dim Ext As String = System.IO.Path.GetExtension(AsyncFileUploadProfileImage.FileName)
            'Commented working save due to conversion of image above
            ' AsyncFileUploadProfileImage.SaveAs(Server.MapPath("img_prof/") + id + Ext)
            lblMesg.Text = "File Uploaded Successfully"

        Else
            lblMesg.Text = "We support only images of type jpg and png"
        End If
    Catch ex As Exception
        iHelperClasses.ErrorLogger.ErrorWriter("Method:FileUploadComplete()Error:" + ex.Message)
    End Try

End Sub 
```

# java - 从 JfreeChart 中的最大范围值获取域值

> ID：13392891
> 
> 赞同：0
> 
> 时间：2012-11-15T07:06:10.440
> 
> 标签：java, dataset, plot, jfreechart

我正在使用 JFreeChart 1.0.14，我想从最大范围值中获取域值。我使用 XYLineChart，现在我使用以下代码获得范围值的最大值：

```
Number maximum = DatasetUtilities.findMaximumRangeValue(dataset);
maximum.floatValue();
String intensityMax = String.valueOf(maximum);
test.setText(intensityMax); //test is a jTextField 
```

但是如何从最大范围值中得到对应的域值呢？

例如，我的最高值（y 轴）是 8212，对应于 510（x 轴）。如何获得 Y 的对应值？

关于这个问题，我还有另一个问题。我想将 ValueMarker 置于最大范围值。不，我试过这个，但我不明白问题出在哪里（我没有收到错误，也没有任何反应）：

```
Number maximum = DatasetUtilities.findMaximumRangeValue(dataset);
ValueMarker max = new ValueMarker(maximum.floatValue());
max.setPaint(Color.orange);
max.setLabel("highest value");
plot.addDomainMarker(max); 
```

我期待着任何帮助，尊敬的，安德鲁

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:02:29.630

关于您的第二点，您正在找到 Range 最大值，但将标记添加到 Domain 轴。如果您这样修改代码：

```
Number maximum = DatasetUtilities.findMaximumRangeValue(dataset);
ValueMarker max = new ValueMarker(maximum.floatValue());
max.setPaint(Color.orange);
max.setLabel("Highest Value");
max.setLabelTextAnchor(TextAnchor.CENTER_LEFT);
plot.addRangeMarker(max,Layer.BACKGROUND); 
```

你会得到一个这样的图表：

![在此处输入图像描述](../Images/46cf3f5d236a8422fc7c6b5067519b11.png)

在你的第一点，考虑这个图表：

![在此处输入图像描述](../Images/3020c3bf02265cd1898950f0a73c07ce.png)

有四个“最大”范围阀，因此对应于最大值的域值将是 2.5、4、6.g 和 8。XYSeries 没有提供唯一范围 (y) 值。

你可以这样做

```
 Number xValue = DatasetUtilities.findMinimumDomainValue(dataset);
    for (int seriesIndex = 0 ; seriesIndex < dataset.getSeriesCount() ; seriesIndex++){
        for (int itemIndex = 0 ; itemIndex < dataset.getItemCount(seriesIndex) ; itemIndex ++){
            Number yValue = dataset.getY(seriesIndex, itemIndex);
            if (yValue.equals(maximum)){
                if (dataset.getX(seriesIndex, itemIndex).floatValue() > xValue.floatValue())
                    xValue = dataset.getX(seriesIndex, itemIndex);
            }
        }
    }
    ValueMarker maxX = new ValueMarker(xValue.floatValue());
    maxX.setPaint(Color.red);
    maxX.setLabelTextAnchor(TextAnchor.CENTER_LEFT);
    plot.addDomainMarker(maxX,Layer.BACKGROUND); 
```

![在此处输入图像描述](../Images/2de0cc43d1f6a8661ddada646b47e3cc.png)

# objective-c - 在 iOS 中循环遍历 uint8_t * 的所有元素

> ID：13392892
> 
> 赞同：6
> 
> 时间：2012-11-15T07:06:13.853
> 
> 标签：objective-c, ios

```
uint8_t *var;
var=//something; 
```

现在我想遍历这个 var 的每个元素如何做到这一点请帮助

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T07:30:43.820

像普通 C 一样制作循环。`uint8_t *var`只是一个 C 数组。

```
for (uint8_t i = 0; i < ARRAY_LENGTH; ++i) {
    var[i] = ...; // Do whatever you want
} 
```

例如

```
uint8_t *v = (uint8_t *)malloc(5 * sizeof(uint8_t));

for (uint8_t i = 0; i < 5; ++i) {
    v[i] = i;
}

for (uint8_t i = 0; i < 5; ++i) {
    NSLog(@"%d\n", v[i]);
}

free(v); 
```

请注意，`uint8_t`这与`unsigned char`：

```
#ifndef _UINT8_T
#define _UINT8_T
typedef unsigned char         uint8_t;
#endif /*_UINT8_T */ 
```

# eclipse - 通过插件将C库导入eclipse

> ID：13392897
> 
> 赞同：1
> 
> 时间：2012-11-15T07:06:34.613
> 
> 标签：eclipse, eclipse-plugin

我已经使用我的 C 源代码构建了一个 C 库，并且我已经准备好了 lib 文件。

现在我想通过 eclipse 插件将此 lib 文件导入到我的 eclipse 中。

我想开发一个包含这些lib文件的eclipse插件，这样我就可以在eclipse中使用我的旧源代码，就像包含android源代码的应用程序开发人员的android插件一样。

我不知道该怎么做。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-15T08:15:20.540

Eclipse it's just an IDE, C and C++ support for development purposes are provided by other packages or plugins if you will, the most popular one is [CDT](http://www.eclipse.org/cdt/downloads.php).

You can install cdt by simply using the Help menu in your Eclipse.

But in my experience Eclipse is probably one of the worst IDE for development, the C and C++ situation is even worst.

# c# - 处理数据选择的特殊字符输入

> ID：13392899
> 
> 赞同：0
> 
> 时间：2012-11-15T07:06:34.733
> 
> 标签：c#, .net, sql-server, linq, ado.net

**更新**

当 '\' 是转义助手时，需要对以下四个字符进行转义 `%[]_`

1.  [http://msdn.microsoft.com/en-us/library/aa933232(v=sql.80).aspx](http://msdn.microsoft.com/en-us/library/aa933232(v=sql.80).aspx) - 喜欢
2.  [在 SQL Server 中转义字符串，以便在 LIKE 表达式中使用它是安全的](https://stackoverflow.com/questions/258757/escape-a-string-in-sql-server-so-that-it-is-safe-to-use-in-like-expression)
3.  [如何在 SQL Server 中转义 _？](https://stackoverflow.com/questions/2300285/how-do-i-escape-in-sql-server)

**问题**

尽管我搜索了很多，但在堆栈溢出中我找不到与以下内容完全匹配的问题。

我有一个名为 Log_Description 的数据库列。它有两条记录。

1) “样本百分比值记录”

2）“样品免费记录”

我正在使用 SQL 命令并设置参数，如下所示

```
commandText = commandText + “Log_Description LIKE @Log_Description”;
command.Parameters.AddwithValue(“@Log_Description”, “%”+obj. LogDescription+”%”); 
```

假设用户输入“%”作为 txtLogDescription 文本框的搜索参数，我只需要显示第一条记录。但目前它正在显示这两个记录。

1.  有哪些可能的方法来克服这个问题？
2.  还有哪些其他字符可能会导致上述代码出现此类问题？

注意：我不能阻止用户输入“%”作为输入

注意：我使用 SQL Server 作为数据库

**编辑**：

我现在使用的解决方案是[转义转义字符不起作用 - SQL LIKE 运算符](https://stackoverflow.com/questions/13861004/escaping-the-escape-character-does-not-work-sql-like-operator)

```
 private static string CustomFormat(string input)
    {
        input = input.Replace(@"\", @"\\");
        input = input.Replace(@"%", @"\%");
        input = input.Replace(@"[", @"\[");
        input = input.Replace(@"]", @"\]");
        input = input.Replace(@"_", @"\_");
        return input;
    } 
```

**LINQ**方法（性能受到影响）如下

```
 Collection<Log> resultLogs = null;

        if (!String.IsNullOrEmpty(logSearch.LogDescription))
        {
            resultLogs = new Collection<Log>();
            var results = from o in logs where o.LogDescription.Contains(logSearch.LogDescription) select o;
            if (results != null)
            {
                foreach (var log in results)
                {
                    resultLogs.Add((Log) log);
                }
            }
        }
        else
        {
            resultLogs = logs;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:47:27.167

至于转义`%`，请参阅 Tommy Grovnes 对该问题的评论。

如果您可以使用 a`List<T>`而不是 a `Collection<T>`（请参见[此处](https://stackoverflow.com/questions/419914/when-to-use-collectiont-vs-listt)），则可以更简洁地编写：

```
var descr = logSearch.logDescription;
var results = (
    from o in logs
    where String.IsNullOrEmpty(descr) ||
            o.LogDescription.Contains(descr)
    select o
).ToList(); 
```

如果您仍然需要`Collection<T>`，可以将 LINQ 查询的结果包装在 Collection 构造函数中：

```
var results = new Collection<Log>((
    from o in logs
    where String.IsNullOrEmpty(descr) ||
            o.LogDescription.Contains(descr)
    select o
).ToList()); 
```

# javascript - 如何在鼠标悬停在第三个 div 上时显示两个 div

> ID：13392900
> 
> 赞同：1
> 
> 时间：2012-11-15T07:06:34.693
> 
> 标签：javascript, jquery, html, css

我正在尝试像这样实现`this(click me)`。在页面按钮上，您会发现 4 张图像，在鼠标悬停时，它们会显示信息。我正在寻找同样的东西。下面是我的代码，但它不像上面给出的网站那样工作。

```
<html>
<head>
<link href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="http://code.jquery.com/jquery-1.8.2.js"></script>
<script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
<script>

            $(document).ready(function(){
              $("#d2").hover(function()
              { 
                  $("#d3").show();
              });

               $("#maindiv").mouseout(function()
              {
                $("#d1").show(); 
                  $("#d3").hide();
              });
            });

            </script>
</head>

<body>
<div id="d2" > <img width="160px" src="http://www.infosys.com/SiteCollectionImages/cloud-ecosystem-hub-mm.jpg" title=" Image of Tic tac toe small image" /></div>
<div id="maindiv">
  <div id="d3" style="display: none;">
    <table width="80px" height="26px" border="1">
      <tr>
        <td width="200px"> Information/description about tic tac toe in small para. blah blah blah </td>
      </tr>
    </table>
  </div>
</div>
</body>
</html> 
```

请帮我解决这个问题。

**我的问题。Div 没有以良好的动画风格隐藏。在显示 div(div name= d3) 的同时。我的页面应该很少向下滚动。当鼠标离开我的 div（div name=maindiv）时。我实现与上面给出的 [链接](http://www.infosys.com/pages/index.aspx)相同。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T07:15:18.147

**请试试这个演示** [http://jsfiddle.net/PkQm5/](http://jsfiddle.net/PkQm5/)

您还可以在此处阅读许多其他效果：[http ://docs.jquery.com/Effects](http://docs.jquery.com/Effects)

您还可以使用`slideDown`和`slideUp`或`slideToggle`

希望这符合原因`:)`

**代码**

```
$(document).ready(function() {
    $("#d2").hover(function() {
        $("#d3").show("slow");
    });

    $("#maindiv").mouseout(function() {
        $("#d1").show("slow");
        $("#d3").hide("slow");
    });
});​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:44:29.057

好的，这就是我得到的，它基本上复制了它们的行为：[jsfiddle](http://jsfiddle.net/jMDNG/)

但请注意，他们有一个相当复杂的类修改系统（如果你已经看过源代码，你一定已经注意到了）。主要的技巧是将 css 设置为`position:absolute; bottom:-1px;`，其中底部设置会导致它随着高度的修改而上升而不是下降。

希望这对你有用，祝你好运！

# objective-c - ios：将指南针添加到 ARView

> ID：13392903
> 
> 赞同：2
> 
> 时间：2012-11-15T07:06:53.023
> 
> 标签：objective-c, ios, orientation, augmented-reality, compass-geolocation

我想在以下项目中向 ARView 添加指南针：http: [//developer.apple.com/library/ios/#samplecode/pARk/Listings/pARk_ARView_m.html#//apple_ref/doc/uid/DTS40011083-pARk_ARView_m-DontLinkElementID_5](http://developer.apple.com/library/ios/#samplecode/pARk/Listings/pARk_ARView_m.html#//apple_ref/doc/uid/DTS40011083-pARk_ARView_m-DontLinkElementID_5)

我用了`- (void) locationManager:(CLLocationManager *)manager didUpdateHeading:(CLHeading *)newHeading`

但它似乎没有被执行。请帮我解决这个问题。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:26:40.583

[请参阅位置感知编程指南](http://developer.apple.com/library/ios/documentation/userexperience/conceptual/LocationAwarenessPG/GettingHeadings/GettingHeadings.html#//apple_ref/doc/uid/TP40009497-CH5-SW1)中的以下引用。此外，您可能希望在应用程序中检查您的位置配置（在 iOS 6 中的“隐私”下），`Settings`以确保您的应用程序被授权进行位置操作。

根据指南：

> 接收航向事件的步骤如下：
> 
> 1.  创建一个`CLLocationManager`对象。
> 2.  `headingAvailable`通过调用类方法确定是否有航向事件。（在 iOS 3.x 和更早版本中，`headingAvailable`改为检查属性的值。）
> 3.  将 a 分配`delegate`给位置管理器对象。
> 4.  如果您想要真正的北值，请启动位置服务。
> 5.  调用该`startUpdatingHeading`方法开始传递航向事件。

# objective-c - 如何在 iOS 上实现安全的 FTP 连接

> ID：13392907
> 
> 赞同：3
> 
> 时间：2012-11-15T07:07:01.607
> 
> 标签：objective-c, ios, sftp, cfnetwork

Apple 提供了 CFNetwork 指南，其中描述了如何使用 FTP。我有兴趣使用 SFTP。到处都建议使用 chilkat ftp 库，但他的功能列表太大，不需要付费。有没有办法连接到 SFTP 仅用于下载、上传和查看目录列表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-31T20:35:17.493

/n 软件 IP*有效！适用于 iOS 的 SSH (www.nsoftware.com/ipworks/ssh/) 是另一种商业解决方案。它包括一个 SFTP 库以及许多其他 iOS 通信库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-27T03:36:22.027

SFTP 只是 SSH 协议的扩展。我会寻找一个开源 SSH 库，例如[这个](http://www.libssh.org/). 大多数都支持 SFTP 协议。

需要注意的一点是，如果您打算在 App Store 应用程序中使用它，您可能希望从库中删除服务器功能，因为 Apple 可能不允许这样做。如果有一些偶然的机会，该库甚至可以使用 SSH 服务器功能构建和运行，如果您不启用服务器，您也许可以将它放入 App Store。

当然，如果您自己删除服务器支持听起来并不那么花哨，我敢肯定那里有具有仅限客户端功能的库。

# javascript - 如何仅在 jsp 中从 mysql 上传 Web 上的图像

> ID：13392909
> 
> 赞同：1
> 
> 时间：2012-11-15T07:07:09.153
> 
> 标签：javascript, html, jsp

目前我正在开发一个完全使用 eclips 的 html+jsp 网站。现在我的问题是上传文件。我能够将图像从本地机器显示到我的 html 页面，但我想将该图像存储到 mysql 数据库中，然后显示在主网页上。

假设我在第一页有两个页面，操作员从其本地计算机中选择任何图像，然后它也会显示在同一页面的图像视图上，当操作员单击上传图像时，图像将显示在网站上。

如前所述，我可以在操作员页面上显示图像，但如何将其保存在 mysql 数据库中，然后在网站上检索它。

是否可以仅在 .jsp 文件中执行此任务？

这是我从本地机器显示图像的代码，

```
 <div class="file">
<ul class="thumbnails">
<li class="span4">
<a href="#" class="thumbnail">
<div id="imgThumbId"></div>
</a>
</li>
</ul>
<form action="advertise.jsp">
<fieldset>
        <legend>Upload Image</legend>
        <label for="file">Choose photo</label>
        <input type="file" name="file" id="file" /><br/>
        <input type="submit" name="upload" id="upload" value="Upload photo"  onclick="PreviewRecipeImage();"/>
    </fieldset>
    </form>
    </div> 
```

这是javascript代码

```
<script type="text/javascript">

 function PreviewRecipeImage(){

var file = document.getElementById('file').files[0]; // create img tag for selected recipe image file
var img = document.createElement("img");
img.id = "imgid";
img.classList.add("obj");
img.file = file;
//img.width = 90;
//img.height = 90;
//ClearThumb1Image();

 document.getElementById('imgThumbId').appendChild(img);// append img tag to recipe image tag

var reader = new FileReader();
reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);
reader.readAsDataURL(file);

}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-17T07:24:52.380

```
<div class="file" >
<ul class="thumbnails">
<li class="span4">
<a href="#" class="thumbnail">
<div id="imgThumbId"></div>
</a>
</li>
</ul>
<form action="advertise.jsp" enctype="multipart/form-data">
<fieldset>
        <legend>Upload Image</legend>
        <label for="file">Choose photo</label>
        <input type="file" name="file" id="file" /><br/>
        <input type="submit" name="upload" id="upload" value="Upload photo"  onclick="PreviewRecipeImage();"/>
</fieldset>
</form>
</div> 
```

形式上使用`enctype="multipart/form-data"`。

要处理多部分/表单数据，请使用以下 servlet 代码。并在您的代码中导入[Apache Commons FileUpload包。](http://commons.apache.org/fileupload/)

```
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        List<FileItem> items = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);
        for (FileItem item : items) {
            if (item.isFormField()) {
                // Process regular form field (input type="text|radio|checkbox|etc", select, etc).
                String fieldname = item.getFieldName();
                String fieldvalue = item.getString();
                // ... (do your job here)
            } else {
                // Process form file field (input type="file").
                String fieldname = item.getFieldName();
                String filename = FilenameUtils.getName(item.getName());
                InputStream filecontent = item.getInputStream();
                // ... (do your job here)
            }
        }
    } catch (FileUploadException e) {
        throw new ServletException("Cannot parse multipart request.", e);
    }

    // ...
} 
```

# objective-c - NSJSONSerialization 中的不可变 NSJSONReadingOptions

> ID：13392910
> 
> 赞同：2
> 
> 时间：2012-11-15T07:07:13.253
> 
> 标签：objective-c, ios, nsjsonserialization

要反序列化 JSON 字符串，我使用以下方法：

```
+ (id)JSONObjectWithData:(NSData *)data options:(NSJSONReadingOptions)opt error:(NSError **)error 
```

但是，我发现读取选项返回可变对象。有没有一种方法可以让我接收不可变的对象？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-15T07:19:17.683

如果您的`NSJSONReadingOptions`参数包含`NSJSONReadingMutableContainers`. 确实，当我调用`options`of 时`0`，我得到一个 standard `NSDictionary`，但如果我使用`NSJSONReadingMutableContainers`，我得到一个`NSMutableDictionary`. 你用什么来实现你的`options`价值？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-02-22T20:12:35.033

为了更好的可读性，您可以使用`kNilOptions`而不是`0`.

来自[http://www.raywenderlich.com/5492/working-with-json-in-ios-5](http://www.raywenderlich.com/5492/working-with-json-in-ios-5)

> ...`kNilOptions`只是 0 的常量——我发现它的名字非常具有描述性，所以我总是更喜欢它而不是 0 的值作为方法参数。

# php - 使用 php 脚本提取 zip 文件

> ID：13392911
> 
> 赞同：0
> 
> 时间：2012-11-15T07:07:13.223
> 
> 标签：php

我有一个 zip 文件，我使用以下代码提取该 zip 并将所有提取的文件放在另一个位置。

```
$zip = new ZipArchive;
echo $zip;
if ($zip->open("$pwd/wordpress-3.4.2.zip") === TRUE) {
    $zip->extractTo("$pwd/Repo/");
    $zip->close();
    echo 'ok';
} else {
    echo 'failed';
} 
```

但我无法提取任何文件，无论它是否在浏览器中显示“ok”。我找不到的代码中的错误是什么。从“http://wordpress.org/latest.zip”站点下载 zip 文件的另一件事。我使用了下面编写的代码。在这里我也无法下载文件。

```
$foo = system('wget http://www.myserver.com/file.txt ~',$output); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T08:48:21.257

您还可以使用：

```
exec('wget http://wordpress.org/latest.zip -O temp.zip');
exec('unzip temp.zip -d /somedir'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:20:15.720

看来`ZipArchive`需要引用包含该类的库。

还要确保在您的 php.ini 文件中，您已启用使 zip 文件功能在您的服务器上工作的库。（在 PHP 5.3 下默认加载 zip 扩展名）

再次确保要提取文件的目录具有写入权限。

# c# - 将文件读取的VB代码转换为c#

> ID：13392912
> 
> 赞同：0
> 
> 时间：2012-11-15T07:07:26.837
> 
> 标签：c#, vb6-migration

我需要将一段代码从 VB 转换为 C#。我应该用什么来代替 FileSystemObject 和 TextStream？

下面的代码所做的是它读取目录中已经存在的文件并将文件的内容添加到字段中。

```
Private Sub Read_abc_File()
    Dim FileSystem As FileSystemObject
    Dim abcFile As TextStream
    Dim abcLine As String, abcSection As String
    Dim abcFilename As String
    Const Read As Integer = 1

    abcFilename = "abc.txt"

    Set FileSystem = New FileSystemObject

    If Not FileSystem.FileExists(abcFilename) Then
        FileSystem = Null
        Exit Sub
    End If

    Set abcFile = FileSystem.OpenTextFile(abcFilename, Read, False)

    Do While abcFile.AtEndOfStream <> True
        abcLine = abcFile.ReadLine

        If abcLine > " " Then
            If Left$(abcLine, 1) = "[" Then
                abcSection = abcLine
            Else
                Select Case abcSection
                    Case "[Datafiles]"
                        DataFilename.AddItem abcLine
                    Case "[Locations]"
                        Location.AddItem abcLine
                    Case "[Formats]"
                        Format.AddItem abcLine
                    Case "[Categories]"
                        Category.AddItem abcLine
                End Select
            End If
        End If            
    Loop

    abcFile.Close
    Set abcFile = Nothing
    Set FileSystem = Nothing
End Sub 
```

任何建议/答案表示赞赏。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:22:19.580

这是一个让你开始的代码片段，我认为你应该能够完成这项工作。

```
使用系统；
使用 System.IO；

静态无效主要（字符串 [] 参数）
{
    字符串文件名 = "abc.txt";

    if (!File.Exists(fileName))
        返回;

    使用 (FileStream 文件 = File.OpenRead(fileName))
    使用 (StreamReader reader = new StreamReader(file))
    {
        而（！reader.EndOfStream）
        {
            字符串行 = reader.ReadLine();
        }
    }
}
```

# perl - 在 perl 中打开 Excel 文件并打印行数

> ID：13392913
> 
> 赞同：2
> 
> 时间：2012-11-15T07:07:47.480
> 
> 标签：perl, excel, count, row

我正在使用 Win32::OLE 模块打开一个 excel 文件并获取行数。问题是当我对 excel 文件路径进行硬编码时，它工作正常，但是当我动态传递路径时，它会抛出一个错误，提示“无法在 unblessed 参考上调用方法工作簿”。请找到以下示例代码。

```
use OLE;
use Win32::OLE::Const 'Microsoft Excel';

my $xapp= Win32::OLE->GetActiveObject('Excel.Application')
            or do { Win32::OLE->new('Excel.Application', 'Quit')};
    $xapp->{'Visible'} = 0;
    my $file='excel.xlsx';
    my $fileName="c:/users/mujeeb/desktop/".$file;
    print $fileName;
    my $wkb = $xapp->Workbooks->Open($fileName); //here i am getting error coz i am passing dynamic fileName;
    my $wks = $wkb->Worksheets('Sheet1');
    my $Tot_Rows=$wks->UsedRange->Rows->{'Count'}; 
    print $Tot_Rows."\n";
    $xapp->close; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-15T11:41:12.813

在文件名中使用反斜杠。

文件名提供给 excel，而 excel 不会理解正斜杠。Perl 不转换它们，因为 Perl 不知道字符串是一个文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-11T12:16:38.440

您可以使用这行代码将路径更改为 OLE 的可读路径：

```
my $file='excel.xlsx';
my $fileName="c:/users/mujeeb/desktop/".$file;
$fileName=~s/[\/]/\\/g;
print $fileName; 
```

输出：

```
c:\\users\\mujeeb\\desktop\\excel.xlsx 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T07:24:38.560

你确定存在一个名为的方法`Open`吗？因为我在`Win32::OLE`. 此外，您必须添加`use Win32::OLE;`您的代码。

# java - Maven Web 模块未从 Eclipse 内部运行

> ID：13392915
> 
> 赞同：0
> 
> 时间：2012-11-15T07:07:55.227
> 
> 标签：java, eclipse, maven

我已经配置了 Maven 多模块项目，当我在做

```
mvn clean install 
```

它正在为父项目中的两个模块创建 War 和 Jar 文件，当我在 Tomcat6 中部署 war 文件时它工作正常。

但是当我试图从 eclipse 内部运行 web 模块时。

> 右键单击项目->在服务器上运行->选择Tomcat作为服务器

然后项目不工作。

Web 模块依赖于 java 项目，该项目也是**Multimodule**项目的一部分，所以我将此（Java）项目的依赖项添加到我的 Web 项目中，但在 Web 项目 Java 构建路径中不包含此依赖项。谁能知道我该如何解决日食的这个问题？正如我在日食中看到的

workspace_maven.metadata.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\web\WEB-INF\lib

我没有在这里找到 Java 项目。但是当我在做的时候

```
mvn clean install 
```

并在 Tomcat 中部署包含我的 Java 项目 jar 文件的**/WEB-INF/lib** 目录。我的 Web 模块 Pom.xml 文件...

```
<?xml version="1.0"?>
<project
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"
    xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.test</groupId>
        <artifactId>demo_parent</artifactId>
        <version>1.0.0</version>
    </parent>
    <groupId>org.csdc</groupId>
    <artifactId>demo-web</artifactId>
    <version>7.0.0</version>
    <packaging>war</packaging>
    <name> web Maven Webapp</name>
    <url>http://maven.apache.org</url>

      <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.test</groupId>
            <artifactId>core-java</artifactId>
            <version>5.0.0</version>
        </dependency>

    </dependencies>  

    <build>
        <finalName>amanda-web</finalName>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-eclipse-plugin</artifactId>
                <version>2.9</version>
                <configuration>
                    <downloadSources>true</downloadSources>
                    <downloadJavadocs>true</downloadJavadocs>
                    <wtpversion>2.0</wtpversion>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
            </plugin>
            <plugin>
                <groupId>org.apache.tomcat.maven</groupId>
                <artifactId>tomcat6-maven-plugin</artifactId>
                <version>2.0</version>
            </plugin>
        </plugins>
    </build>
</project> 
```

而我的父 pom.xml 文件...

```
 <?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.test</groupId>
    <artifactId>demo_parent</artifactId>
    <version>1.0.0</version>
    <packaging>pom</packaging>
    <modules>

        <module>demo-web</module>
        <module>core-java</module>
    </modules>

    <build>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>2.5.1</version>
                    <configuration> 
                        <source>1.5</source>
                        <target>1.5</target>
                    </configuration>
                </plugin>

            </plugins>

        </pluginManagement>
    </build>
    <properties>
        <maven.compiler.source>1.5</maven.compiler.source>
        <maven.compiler.target>1.5</maven.compiler.target>
    </properties>
</project> 
```

**注意：-* *我已经从父 pom.xml 中删除了存储库和依赖项，以使 pom 简短。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-15T07:15:05.450

你应该需要[apache maven 插件](http://tomcat.apache.org/maven-plugin.html)

目标应该是`tomcat:run`

它将在您的目标文件夹中下载新的 tomcat 实例，并在该 tomcat 上部署您的战争。

您可以设置该 tomcat 的所有设置，也可以参考`configuration`插件标签中的设置 XML。

您可以将其作为调试模式运行，并且可以即时查看所有更改。（仅限 Java、JSP 文件。无 XML 和属性）

为了您的帮助，我添加了一个代码，可以帮助您在安装 web 模块时运行 tomcat 服务器并部署 WAR。

该应用程序将安装在 tomcat 5 和根上下文中。您可以通过 URL 访问它：`http://localhost:8080/`

```
<project>
...
<build>
  <finalName>myWAR</finalName>
    <plugins>
        <plugin>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
               <source>1.6</source>
               <target>1.6</target>
            </configuration>
        </plugin>
        <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>tomcat-maven-plugin</artifactId>
        <configuration>
                <path>/</path>
        </configuration>
        <executions>
            <execution>
                <id>RUN_TOMCAT</id>
                <phase>install</phase>
                <goals>
                  <goal>run</goal>
                </goals>
                <inherited>false</inherited>
                <configuration>
                </configuration>
            </execution>
        </executions>
        </plugin>
    </plugins>
</build>
</project> 
```

# php - 单击时显示特定行的 SQL 数据

> ID：13392917
> 
> 赞同：2
> 
> 时间：2012-11-15T07:08:02.770
> 
> 标签：php, jquery, sql, html-table

我目前有 2 张桌子，顶部和底部。对于顶部，会有我从我的 SQL 数据库中调出的数据行。至于底部，数据来自与顶部表相同的数据库，但显示的字段不同。这些字段都在我的 SQL 数据库中的同一行中。

基本上，单击顶部表格上的任何行时，底部表格将显示更多信息，这些信息也在 SQL 数据库的同一行中。我不确定如何专门为某一行显示数据，现在，当我单击顶部表格上的任何行时，它会显示 SQL 中的所有行。

表格代码：

```
<table id="table_id">
<thead>
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody>
                <?php
                while ($row = mysql_fetch_array($results)) {
                    ?>
                    <tr data-details="c01" class="itemDetails">
                        <td><?=$row['name']?></td>
                        <td><?=$row['address']?></td>
                    </tr>
                    <?php
                }
                ?>
            </tbody>
</table>
</div>
<br /><br />    
<div>
    <table border=1 id="c01" class="aside hidden">
                <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                <?php
                while ($row = mysql_fetch_array($results2)) {
                    ?>
                    <tr>
                        <td><?=$row['product']?></td>
                        <td><?=$row['quantity']?></td>
                        <td><?=$row['price']?></td>
                    </tr>
                    <?php
                }
                ?>
            </tbody>
        </table> 
```

Jquery 的代码：

```
<script>
$(document).ready(function () {
$('table.hidden').hide();
$('tr.itemDetails').click(function() {
    var id = $(this).data('details');
    $('table.hidden').hide();
    $('#'+id).show();
});
}); 
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T08:07:31.417

如果我理解正确，此代码将帮助您：

```
 $(function() {
    $('table.hidden').css('display','none');
    $('tr.itemDetails').click(function() {
        var index = $(this).index();
        $('table.hidden').css('display', 'block');
        $('table.hidden tr').css('display', 'none');
        $('table.hidden tr:first-child').css('display','table-row');
        $('table.hidden tr:nth-child(' + (index + 1) + ')').css('display','table-row');
    });
}); 
```

工作示例：[jsfiddle](http://jsfiddle.net/pyhAY/17/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T08:17:55.167

您几乎完成了这项工作，但似乎您正试图隐藏/显示所有整个表格。所以你需要隐藏/只显示特定的行。

代替

```
$('table.hidden').hide();
$('#'+id).show(); 
```

它应该更新为

```
$('table.hidden tr').hide();
$('table.hidden tr #'+id).show(); 
```

你的 HTML 应该是

```
 <tbody>
                <?php
                while ($row = mysql_fetch_array($results2)) {
                ?>
                    <tr id="<?=$row['id']?>">
                        <td><?=$row['product']?></td>
                        <td><?=$row['quantity']?></td>
                        <td><?=$row['price']?></td>
                    </tr>
                <?php
                }
                ?>
            </tbody> 
```

我希望本指南可以提供帮助。

# java - Haxe：构建到 android 目标时崩溃

> ID：13392919
> 
> 赞同：1
> 
> 时间：2012-11-15T07:08:28.727
> 
> 标签：java, android, haxe

我是**Haxe**的新手。今天我通过阅读[http://www.haxenme.org](http://www.haxenme.org)中的说明安装它；

并下载“准确示例”。

我使用 FalshDevelop 运行示例，当我将它构建到 flash( `nme test "Acurate Example.nmml" flash`) 时，它运行良好！但是当我使用时`nme test "Acurate Example.nmml" android`，它崩溃了！

我已经设置好android变量了。

请帮助我，在此先感谢！

PS：这里的错误：

```
C:\Documents and Settings\Neusoft\桌面\11yue\HaXe\Demos\Actuate_Example>nme test
 "Actuate Example.nmml" android
haxelib run hxcpp Build.xml haxe -Dactuate -Dandroid -Dcpp -Dhaxe_208 -Dmobile -
Dnme -Dnme_install_tool -Dtrue
mkdir obj/android
mkdir obj/android/src
mkdir obj/android/src/nme
mkdir obj/android/src/nme/display
mkdir obj/android/src/nme/events
mkdir obj/android/src/nme/geom
mkdir obj/android/src/nme/text
mkdir obj/android/src/nme/errors
mkdir obj/android/src/nme/utils
mkdir obj/android/src/com
mkdir obj/android/src/com/eclecticdesignstudio
mkdir obj/android/src/com/eclecticdesignstudio/motion
mkdir obj/android/src/com/eclecticdesignstudio/motion/actuators
mkdir obj/android/src/haxe
mkdir obj/android/src/haxe/io
mkdir obj/android/src/nme/media
mkdir obj/android/src/cpp
mkdir obj/android/src/com/eclecticdesignstudio/motion/easing
mkdir obj/android/src/cpp/zip
mkdir obj/android/src/nme/filters
mkdir obj/android/src/cpp/rtti
mkdir obj/android/src/nme/net
mkdir obj/android/src/nme/installer
mkdir obj/android/src/cpp/io
mkdir obj/android/src/com/eclecticdesignstudio/motion/_Actuate
mkdir obj/android/src/cpp/io/_Process
mkdir obj/android/__pch
mkdir obj/android/__pch/haxe
Creating obj/android/__pch/haxe/hxcpp.h.gch...
arm-linux-androideabi-g++ -Iinclude --sysroot=D:/AndroidDev/android-ndk-r5/platf
orms/android-5/arch-arm -ID:/AndroidDev/android-ndk-r5/sources/cxx-stl/gnu-libst
dc++/4.4.3/include -ID:/AndroidDev/android-ndk-r5/sources/cxx-stl/gnu-libstdc++/
4.4.3/libs/armeabi/include -ID:\HaXe_ProgramFiles\Motion-Twin\haxe\lib\hxcpp\2,0
8,1//include -Iinclude -fpic -fvisibility=hidden -ffunction-sections -funwind-ta
bles -fstack-protector -fno-short-enums -D__ARM_ARCH_5__ -D__ARM_ARCH_5T__ -D__A
RM_ARCH_5E__ -D__ARM_ARCH_5TE__ -D_LINUX_STDDEF_H  -Wno-psabi -march=armv5te -mt
une=xscale -msoft-float -fomit-frame-pointer -fexceptions -fno-strict-aliasing -
finline-limit=10000 -DANDROID -Wa,--noexecstack -O2 -DNDEBUG -c -frtti -o obj/an
droid/__pch/haxe/hxcpp.h.gch D:\HaXe_ProgramFiles\Motion-Twin\haxe\lib\hxcpp\2,0
8,1//include/hxcpp.h
Called from ? line 1
Called from BuildTool.hx line 1342
Called from BuildTool.hx line 591
Called from BuildTool.hx line 626
Called from BuildTool.hx line 760
Called from BuildTool.hx line 791
Called from BuildTool.hx line 174
Uncaught exception - Error creating pch: 1 - build cancelled
Error : Build failed 
```

它会弹出一个带有消息的错误对话框：

> cc1plus.exe-error;应用程序无法正常启动（0xc0000005）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T17:28:10.580

您可以尝试测试 Pirate Pig 样本，看看是否可以编译吗？

# openlayers - 如何在openlayers的地图中为所有图纸创建表格？

> ID：13392921
> 
> 赞同：0
> 
> 时间：2012-11-15T07:08:37.503
> 
> 标签：openlayers

是否可以报告地图中的所有编辑？就像我们创建一个新点或新线或新多边形一样，是否可以为此创建表，以便我们可以将更改传达给数据库。我看到了绘制功能示例，其中我们可以通过按下 shift 按钮来绘制地图。但是是否可以像该示例（徒手模式）那样从地图中删除某些功能？有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T08:28:06.803

如果您只在矢量图层上添加或删除特征，那么事件“featureadded”和“featureremoved”可以帮助您收集更改。

# android - 以像素表示模型大小

> ID：13392923
> 
> 赞同：0
> 
> 时间：2012-11-15T07:09:05.867
> 
> 标签：android, opengl-es-2.0

我有一个 SurfaceView 对象，它将渲染一个立方体。立方体大小可能会因某些以像素表示的输入而异。例如，可能有一项任务：调整立方体的大小，使正面宽 200 像素。给定 OpenGL 中的这样一个模型表示，例如：

```
public final static float[] VERTICES = new float[]{
  // f 1 2 3 4
  0.49f, -0.49f, -0.49f,
  0.49f, -0.49f, 0.49f,
  -0.49f, -0.49f, 0.49f,
... and so on 
```

，我不知道如何实现它。它与截锥体有某种关系吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:42:54.163

你需要：

*   在屏幕上投影您的顶点（使用模型 * 视图 * 投影矩阵）
*   找到投影的边界框
*   调整您的模型转换以获得您需要的大小

为了顺利进行，我只需为相机设置动画以更接近/更接近立方体，并在每一帧检查边界框大小以查看是否应该停止为相机设置动画。

# android - 如何在第一个活动中调用第二个活动值？

> ID：13392929
> 
> 赞同：0
> 
> 时间：2012-11-15T07:09:56.927
> 
> 标签：android

我在第一个活动中调用第二个活动值，但它没有显示。告诉我为什么？如果我在第一个活动中声明公共静态字符串并在第二个活动中调用显示完美但是如果我在第二个活动中声明公共静态字符串值并且在第一个活动中调用显示为 null 告诉我为什么？

```
 import android.widget.EditText;
  import android.widget.TextView;
  import android.widget.Toast;

  public class ButtonExample extends Activity
 {
   Button b1;

  String Latitude500;

 public void onCreate(Bundle savedInstanceState)
{
 super.onCreate(savedInstanceState);
 setContentView(R.layout.main);

  b1 = (Button) findViewById(R.id.button1);

 Latitude500=textview.Latitude1nazeer;

 TextView t3 = (TextView) findViewById(R.id.textView2);

t3.setText(""+Latitude500);

 b1.setOnClickListener(new OnClickListener()
 {
 public void onClick(View v)
 {

  Intent intent = new Intent(ButtonExample.this, textview.class);

startActivity(intent);

 }
  });

         public class textview extends Activity {

  public static String Latitude1nazeer;

  EditText Latituden1;

     public void onCreate(Bundle savedInstanceState)
  {
   super.onCreate(savedInstanceState);
   setContentView(R.layout.laymenu);

   Latituden1 = (EditText) findViewById(R.id.editText2);
   String ln = Latituden1.getText().toString();

   Latitude1nazeer=ln;

  }
          }

         <manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.mypackage"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="8" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name=".ButtonExample"
        android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
     <activity android:name=".textview" > </activity>   
</application>

 </manifest> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:15:01.500

这是因为，在第二个活动中为字符串赋值之前，您正在阅读第一个活动。所以它是空的。

在第二个活动中这样声明`public static String Check="check"`

在第一个活动中打印此值。你开始知道这个

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T07:20:20.287

***不要这样做！这是非常糟糕的做法。***

您的问题的简单答案是因为活动 2 在您启动之前尚未初始化。活动是 Activity 类型的对象，就像任何其他对象一样。活动没有什么神秘之处——除了，如果它们不是活动的活动，Android 保留杀死它们的权利。

除非绝对必要，否则您不应该从 Activity 中传递任何东西。经验法则是，生命周期大于活动的任何内容都不应引用该活动中的任何内容。这就是为什么 Android 有 Intents 用于活动之间的进程间通信。

由于静态在 Activity A 中声明，然后在 Activity B 中被引用，因此 Activity B 现在处于前台。Android 可以销毁 Activity A。如果确实如此，那么您只是泄露了整个 Activity 以及它也有引用的所有资源。

有几种解决方案，但对我来说，正确的答案是重新考虑你的设计。为什么一项活动需要直接访问另一项活动中的任何内容？我确信有一些非常奇怪的设计可能会暗示这一点，但我想不出任何合理的解释来说明这样做是“正常”的 Android 开发。

可能的解决方案，按照我个人偏好的正确顺序：

*   如果字符串的值是可变的，则在具有 Intent 的捆绑包中的活动之间传递字符串的值。评价 - 非常好。
*   如果字符串是固定的，把它放到strings.xml中。评价 - 非常好。
*   如果它真的是全球性的（并且认真思考），那么扩展您的 Application 类。评级 - 我开始闻到一些东西
*   使用静态字符串创建一个单独的类。评级 - 在键盘上玩了一整天后，闻起来比我的脚更难闻。

请停下来想一想。还请编辑您的问题以解释您要做什么以及为什么要这样做。

现在不要担心代码，先找到正确的解决方案，然后再担心代码。

[编辑] 对于可能的未来读者来说，不仅仅是这个特定问题的部分答案。

想象一下，您创建了自己的课程。该类具有具有视图层次结构的用户界面。它有一些位图可以使 UI 看起来更漂亮，并且可以保存对各种数据的引用，例如填充 UI 的字符串。它还可能有一个适配器来连接到某些数据结构。它有一个静态字段，以便其他对象可以访问此类实例中的数据。

让我们暂时搁置关于“是静态的邪恶”和“全局变量”的讨论。

您创建此类的一个实例，其他对象开始引用它。到目前为止一切都很好，因为您控制了该对象的生命周期并且可以编写代码以确保在您想要释放它时没有任何东西可以保留对它的引用。

现在想象一下，我告诉过你应用程序之外的东西可以通过取消引用它并允许垃圾收集器收集它使用的内存来破坏该对象。垃圾收集器检查对象并看到它被取消引用。但是等一下，有一个静态类级别字段，另一个对象引用了该字段。由于静态必须在类级别，无论是作为变量还是作为静态方法，垃圾收集器不会释放该对象。您现在有一个对象位于您的堆上，它使用的所有内存都无法再引用。

你还会认为以上是一个安全的解决方案吗？

这里的关键是活动就是这样。它是 Activity 类的对象实例。但在 Android 上，该对象具有一些特殊属性，其中之一是 Android 可以杀死该对象，而无需进一步回调您的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:13:26.607

不要使用静态字段在活动之间共享数据。静态字段只有在它们的类被 JVM 加载时才会存在，Android 对此不做任何保证。正确的做法是将数据放入[Intent](http://developer.android.com/reference/android/content/Intent.html)中。请阅读[意图](http://developer.android.com/guide/components/intents-filters.html)指南。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T07:13:52.050

添加`onResume()`方法，`ButtonExample`因为当您的应用程序恢复或用户按下 textview 上的后退按钮时调用此方法

```
@Override
public void onResume()
{
    Log.v("Resuming", "onResume");
    t3.setText(""+Latitude500); // set text here
    super.onResume();
} 
```

我的偏好是避免对应用程序使用静态变量。您可以使用`SharedPreferences` 或意图在应用程序组件之间共享数据

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-15T07:21:49.190

Android 已经有了通过方法 startActivityForResult() 将一个活动中的值获取到另一个活动的方法。这个[链接](http://developer.android.com/reference/android/app/Activity.html#startActivityForResult%28android.content.Intent,%20int%29)可以指导你。

# .net - 如何在 .NET 中的时间单位之间进行转换？

> ID：13392930
> 
> 赞同：-3
> 
> 时间：2012-11-15T07:10:12.343
> 
> 标签：.net, datetime, time, integer

哪些`.NET`函数允许时间单位之间的转换？

例如：如果我有一个`Integer`我知道以分钟为单位的持续时间，那么`.NET`将该数字转换为毫秒的最佳方法是什么？

```
Dim durationInMinutes as Integer = 10
Dim durationInMilliseconds As Integer = <???>(10);  // what is the function to use here? 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T07:13:51.973

```
int minutes = 5;
int milliseconds = TimeSpan.FromMinutes(minutes).TotalMilliseconds; 
```

# linux - 在 Linux 中使用 Copy-On-Write 的 fork() 之后，父子节点如何共享页面？

> ID：13392931
> 
> 赞同：2
> 
> 时间：2012-11-15T07:10:24.557
> 
> 标签：linux, kernel

我对 fork() 用例感兴趣。

1）fork后，内核为子进程创建一个新的PCB。它将父级中所有页表条目的权限更改为只读。然后它在新的子 PCB 中复制父页面目录和表格。这个对吗？还是父进程和子进程共享它们？

2）如果内核在复制页面后将它们全部更改为只读，那么内核如何知道页面的实际权限？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T03:07:42.240

我认为1）中的意见是正确的，在fork（）期间，内核将为子进程创建一个新的task_struct，并复制mm_struct和页表，它与依赖于clone_flags的父进程共享资源。它会使 is_cow_mapping() 的 MMU 条目无效，并将相关的页表条目标记为只读。

2）的答案：内核仅将页表条目is_cow_mapping（）更改为只读，当孩子或父母想要访问这些地址范围时，内核将复制并标记为读/写。

如果在 fork() 之后调用 exec()，将建立一个全新的虚拟空间，从 parent 复制的旧虚拟空间将被丢弃。

# ios - 如何在表格视图自定义期间调用方法“willDisplayFooterView”？

> ID：13392938
> 
> 赞同：3
> 
> 时间：2012-11-15T07:11:00.807
> 
> 标签：ios, uitableview, uiscrollview, delegates, ios6

我想调用这些方法：

```
- (void)tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)section NS_AVAILABLE_IOS(6_0);
- (void)tableView:(UITableView *)tableView willDisplayFooterView:(UIView *)view forSection:(NSInteger)section NS_AVAILABLE_IOS(6_0); 
```

但我不能！完全没有反应。我正在模拟器 iOS 6.0 上进行测试

```
- (void) tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)section
{
    DLog(@"0>>");
    CGRect originalRect = view.frame;
    UIImageView *imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"shadow_top.png"]];
    [imageView setFrame:CGRectMake(0.0f, originalRect.size.height - imageView.frame.size.height, imageView.frame.size.width, imageView.frame.size.height)];
    [view addSubview:imageView];
}

- (void) tableView:(UITableView *)tableView willDisplayFooterView:(UIView *)view forSection:(NSInteger)section
{
     DLog(@"0>f>");
    UIImageView *imageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"shadow_bottom.png"]];
    [imageView setFrame:CGRectMake(0.0f, 0.0f, imageView.frame.size.width, imageView.frame.size.height)];
    [view addSubview:imageView];
} 
```

其他委托方法工作正常！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:13:34.130

你不调用这些方法。表格视图将调用这些方法的实现（如果它们存在），让您知道它即将显示页眉或页脚视图。

这些是您提供的可选方法。表视图不提供它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-24T00:59:02.623

您只需在视图控制器中注释此方法： (UIView *) tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{ }

现在方法 (void)tableView:(UITableView *)tableView willDisplayHeaderView:(UIView *)view forSection:(NSInteger)

将被调用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-19T20:07:32.447

这个答案适用于 Swift。

为您实现以下方法：

```
func tableView(_ tableView: UITableView, willDisplayFooterView view: UIView, forSection section: Int) {}
func tableView(_ tableView: UITableView, didEndDisplayingFooterView view: UIView, forSection section: Int) {} 
```

有必要实现这两个其他方法，将视图页脚添加到您的 tableView。

```
func tableView(_ tableView: UITableView, viewForFooterInSection section: Int) -> UIView? {}
func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat {} 
```

# c# - 如何在 ASP.Net 中将 sqlconnecton 设置为数据目录。我正在使用 C# 表单

> ID：13392939
> 
> 赞同：2
> 
> 时间：2012-11-15T07:11:09.527
> 
> 标签：c#, ado.net

这是我当前的 sql 连接

```
Data Source=.\SQLEXPRESS;AttachDbFilename=C:\Kenneth\VisualStudioProjects\Emp - Trainee\Emp - Trainee\sample.mdf;Integrated Security=True;User Instance=True 
```

如果我更改`AttachDbFilename=|Datadirectory|sample.mdf`它不起作用，因为它仅适用于网站 ASP.NET

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:42:21.173

`DataDirectory`在您的 C# 代码中设置

```
AppDomain.CurrentDomain.SetData("DataDirectory", @"C:\Kenneth\VisualStudioProjects\Emp - Trainee\Emp - Trainee\"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:51:36.483

DataDirectory 除非设置使用：

```
AppDomain.CurrentDomain.SetData("DataDirectory", "c:\\MyDataDirectory"); 
```

将指向应用程序文件夹。如果从 Visual Studio 调试应用程序，这将是 bin\Debug 文件夹。试着把你的数据库放在你编译的 exe 所在的地方。

# iphone - 在 EKReminder 中设置 startDateComponents 时出现“无效的日期组件”错误

> ID：13392942
> 
> 赞同：0
> 
> 时间：2012-11-15T07:11:20.330
> 
> 标签：iphone, ios, reminders, ekevent

我想保存一个提醒，但是当我设置 StartDateComponents 时，它总是说 Invalid date component。我尝试了几种方法（您可以查看我的注释代码）来设置值，但失败了。

```
EKReminder *reminder = [EKReminder reminderWithEventStore:appDelete.eventStore];

        NSCalendar *gregorian = [NSCalendar currentCalendar];//[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];

        reminder.title = @"title";
        NSString *timeStr = @"20121115070800";

        NSDateFormatter *inputFormatter = [[NSDateFormatter alloc] init];
        [inputFormatter setCalendar:gregorian];
        [inputFormatter setDateFormat:@"yyyyMMddHHmmss"];
        [inputFormatter setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"UTC"]];
        NSDate *parseDate = [inputFormatter dateFromString:timeStr];

        NSDateComponents *dateComponents = [gregorian components:( NSYearCalendarUnit | NSMonthCalendarUnit |  NSDayCalendarUnit )
                                                       fromDate:parseDate];
        NSDateComponents *timeComponents = [gregorian components:( NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit )
                                                       fromDate:parseDate];
        NSDateComponents *dateComps = [[NSDateComponents alloc] init];
        [dateComps setDay:[dateComponents day]];
        [dateComps setMonth:[dateComponents month]];
        [dateComps setYear:[dateComponents year]];
        [dateComps setHour:[timeComponents hour]];
        // Notification will fire in one minute
        [dateComps setMinute:[timeComponents minute]];
        [dateComps setSecond:[timeComponents second]];
        [dateComps setTimeZone:[NSTimeZone localTimeZone]];

        reminder.calendar = /*[NSCalendar autoupdatingCurrentCalendar];*/[eventStore defaultCalendarForNewEvents];
        reminder.calendar = [EKCalendar calendarWithEventStore:eventStore];

        //NSDateComponents *comp = [[NSDateComponents alloc] init];
        /*comp.calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
        comp.year = [[timeStr substringToIndex:3] integerValue];
        comp.month = [[timeStr substringWithRange:NSMakeRange(4,2)] integerValue];
        comp.day = [[timeStr substringWithRange:NSMakeRange(6, 2)] integerValue];
        comp.hour = [[timeStr substringWithRange:NSMakeRange(8, 2)] integerValue];
        comp.minute = [[timeStr substringWithRange:NSMakeRange(10, 2)] integerValue];
        comp.second = [[timeStr substringWithRange:NSMakeRange(12, 2)] integerValue];*/

        //reminder.startDateComponents = [gregorian components:     (NSYearCalendarUnit|NSMonthCalendarUnit|NSDayCalendarUnit/*|NSHourCalendarUnit|NSMinuteCalendarUnit|NSSecondCalendarUnit*/) fromDate:parseDate];

        [reminder setStartDateComponents:dateComps];// this line will throw the error:Invalid date component 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T20:14:23.533

主要问题似乎是这两行：

```
reminder.calendar = /*[NSCalendar autoupdatingCurrentCalendar];*/[eventStore defaultCalendarForNewEvents];
reminder.calendar = [EKCalendar calendarWithEventStore:eventStore]; 
```

替换为这一行：

```
reminder.calendar = [eventStore defaultCalendarForNewReminders]; 
```

以下是完整的工作代码，其中还包括一些额外的完整性：

```
EKEventStore *eventStore = [[EKEventStore alloc] init];
[eventStore requestAccessToEntityType:EKEntityMaskEvent completion:^(BOOL granted, NSError *error) {
    if (granted)
    {
        EKReminder *reminder = [EKReminder reminderWithEventStore:eventStore];

        NSCalendar *gregorian = [NSCalendar currentCalendar];//[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];

        reminder.title = @"title44433333";
        NSString *timeStr = @"20121115070800";

        NSDateFormatter *inputFormatter = [[NSDateFormatter alloc] init];
        [inputFormatter setCalendar:gregorian];
        [inputFormatter setDateFormat:@"yyyyMMddHHmmss"];
        [inputFormatter setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"UTC"]];
        NSDate *parseDate = [inputFormatter dateFromString:timeStr];

        NSDateComponents *dateComponents = [gregorian components:( NSYearCalendarUnit | NSMonthCalendarUnit |  NSDayCalendarUnit )
                                                        fromDate:parseDate];
        NSDateComponents *timeComponents = [gregorian components:( NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit )
                                                        fromDate:parseDate];
        NSDateComponents *dateComps = [[NSDateComponents alloc] init];
        [dateComps setDay:[dateComponents day]];
        [dateComps setMonth:[dateComponents month]];
        [dateComps setYear:[dateComponents year]];
        [dateComps setHour:[timeComponents hour]];
        // Notification will fire in one minute
        [dateComps setMinute:[timeComponents minute]];
        [dateComps setSecond:[timeComponents second]];
        [dateComps setTimeZone:[NSTimeZone localTimeZone]];

        reminder.calendar = [eventStore defaultCalendarForNewReminders];   //here is the replacement

        [reminder setStartDateComponents:dateComps];// this line will throw the error:Invalid date component

        NSError *error = nil;
        [eventStore saveReminder:reminder commit:YES error:&error];
        if (error) NSLog(@"error = %@", error);
    }

}]; 
```

# asp.net - 将值从后面的代码插入到 asp.net 标记

> ID：13392943
> 
> 赞同：0
> 
> 时间：2012-11-15T07:12:03.567
> 
> 标签：asp.net

我的代码中有一个脚本管理器：

```
<asp:ScriptManager ID="masterScriptManager" runat="server" EnablePageMethods="True"
            EnablePartialRendering="true" ScriptMode="Auto" AsyncPostBackTimeout="360">
            <Scripts>
                <asp:ScriptReference Path="~/scripts/web_resource.ashx?type=1&v=<%=version %>" />
            </Scripts>
        </asp:ScriptManager> 
```

我想在脚本参考的路径末尾添加版本信息。我也尝试过，`<%#`但我只看到编码字符而不是版本号。我应该改变什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:20:14.030

一种解决方案可能是在某些控件/页面生命周期事件（即`Load`）期间将此脚本引用添加到控件或页面的代码隐藏中。

# jquery - Primefaces 日历，为周末和节假日应用自定义样式

> ID：13392947
> 
> 赞同：2
> 
> 时间：2012-11-15T07:12:50.150
> 
> 标签：jquery, primefaces

我想在 p:calendar 的周末和节假日申请 css。我正在尝试 `beforeShowDay`使用 jQuery 调用事件并根据条件设置 css。

```
<script>
    $(document).ready(function(){
       $(".hasDatepicker").datepicker("option", "beforeShowDay", function (date) {
          //If condition true
          return [true,'holidays'];
          //else
          return [true,''];
       });
    });     
</script>

<style>
    .holidays {background-color: wheat;}
</style>

<h:form prependId="false">
      <p:calendar/>
</h:form> 
```

但该事件并没有被解雇。还有什么我遗漏的，或任何其他方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-15T09:04:44.250

你应该使用`beforeShowDay`属性

> beforeShowDay ：在显示日期之前执行的回调，用于自定义日期显示。
> 
> 使用 beforeShowDay javascript 回调自定义每个日期的外观。该函数返回一个包含两个值的数组，第一个是标志，指示日期是否显示为启用，第二个参数是添加到日期单元格的可选样式类。以下示例禁用星期二和星期五。（PrimeFaces 用户指南第 50 页）

```
<p:calendar value="#{dateBean.date}" beforeShowDay="tuesdaysAndFridaysDisabled" />

function tuesdaysAndFridaysDisabled(date) {
    var day = date.getDay();
    return [(day != 2 && day != 5), '']
} 
```

* * *

**jQuery 解决方案**

如果您想在不修改 primefaces 元素的情况下解决它，但使用 jquery datepicker`beforeShowDay`属性，请查看本教程[Primefaces calendar – highlight dates](http://bluefoot.info/howtos/primefaces-calendar-highlight-dates/)

# iphone - iOS 应用程序崩溃报告，我如何阅读它，它是什么意思？

> ID：13392951
> 
> 赞同：0
> 
> 时间：2012-11-15T07:13:04.687
> 
> 标签：iphone, ios, cocoa-touch

我最近的一个应用程序由于没有在兼容模式下在 iPad 上运行而被拒绝。但是，我解决了这个问题，它们通过 xcode 在我的 iPad 模拟器上的 iOS6 上的兼容模式下正常加载。所以我重新上传了我的应用程序，大约 7 小时后，它已经进入审核并以同样的原因被拒绝，他们说应用程序在 iPad 上崩溃了。

那么，我如何专门读取苹果返回的 .crash 文件呢？

# android - 使用 Android support-v4 库在 pre-honeycomb 设备上的操作栏

> ID：13392952
> 
> 赞同：1
> 
> 时间：2012-11-15T07:13:06.347
> 
> 标签：android

我想在 pre-honeycomb 设备上设计操作栏 UI。在我的谷歌之后，我得到了 ActionBarSherlock 库。我可以在不使用此 ActionbarSherlock 库的情况下进行设计吗？是否可以通过使用 Android support-v4 库本身在预蜂蜜梳设备上设计操作栏？

基本上我试图在不使用第三方库的情况下进行设计。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T07:23:45.023

不，你不能。操作栏未包含在 support-v4 库中。要在 pre-honeycomb 设备上使用动作栏，您可以使用 SherlockActionBar，也可以尝试开发一些东西来模拟这个栏。类似于制作自定义视图并将此视图包含在所有布局 xml 文件中。但是，这样做的努力太大了。毕竟，SherlockActionBar 对我来说很容易使用。

# android - 在 android 应用程序中注销 Facebook 时出错

> ID：13392954
> 
> 赞同：1
> 
> 时间：2012-11-15T07:13:20.163
> 
> 标签：android

在我的`android`应用程序中，使用 facebook 帐户我可以登录到我的应用程序，但是当我尝试从 facebook（从应用程序）注销时，显示错误。

这是我的代码。

```
mAsyncRunner.logout(this, new RequestListener() {
        @Override
        public void onComplete(String response, Object state) {
            Log.d("Logout from Facebook", response);
            if (Boolean.parseBoolean(response) == true) {
                runOnUiThread(new Runnable() {

                    @Override
                    public void run() {
                        // make Login button visible

                    }

                });

            }
        } 
```

错误

> 11-15 06:58:22.480: E/AndroidRuntime(947): 致命异常: Thread-98 11-15 06:58:22.480: E/AndroidRuntime(947): java.lang.IllegalArgumentException: 无效的上下文参数 11-15 06:58:22.480: E/AndroidRuntime(947): 在 android.webkit.CookieSyncManager.createInstance(CookieSyncManager.java:86) 11-15 06:58:22.480: E/AndroidRuntime(947): 在 com.facebook.Utility .clearCookiesForDomain(Utility.java:370) 11-15 06:58:22.480: E/AndroidRuntime(947): at com.facebook.Utility.clearFacebookCookies(Utility.java:394) 11-15 06:58:22.480: E /AndroidRuntime(947): 在 com.facebook.Session.closeAndClearTokenInformation(Session.java:673) 11-15 06:58:22.480: E/AndroidRuntime(947): 在 com.facebook.android.Facebook.logoutImpl(Facebook. java:652) 11-15 06:58:22.480: E/AndroidRuntime(947): at com.facebook.android.AsyncFacebookRunner$1。运行（AsyncFacebookRunner.java:86）

这是为了`Utility.java`解决一个错误，即如果`CookieSyncManager`从未创建过 CookieManager 可能无法实例化。

```
CookieSyncManager syncManager = CookieSyncManager.createInstance(context); 
```

请为此提出任何解决方案...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-12T21:43:00.563

我在一个旧应用程序中遇到了这个错误，该应用程序仍在使用这个问题中使用的现已弃用的注销方法。由于时间不够，我选择修补 SDK 以快速修复而不是升级。

正如堆栈跟踪所暗示的，问题在于在这一行，传递给 CookieSyncManager 的上下文参数为空：

android.webkit.CookieSyncManager.createInstance(CookieSyncManager.java:86)

如果再往上看，可以看到传入的 Context 参数是 Facebook SDK 中 Session 类的 staticContext 成员变量。无论出于何种原因，他们将此变量设置为 null，因此当调用注销时，应用程序会因此异常而崩溃。

为了解决这个问题，我刚刚编辑了 Session 类以使 initializeStaticContext 成为公共方法。然后，在调用注销之前调用它：

```
Session.initializeStaticContext(this.getApplicationContext());
mAsyncRunner.logout(... 
```

当然，这不是最好的解决方案，但它可以完成工作。

# apache - 移动浏览器上的 jWebSocket

> ID：13392959
> 
> 赞同：3
> 
> 时间：2012-11-15T07:13:45.110
> 
> 标签：apache, mobile, websocket

我开发了一个使用`jWebSocket`.

我已经将它放在一起`Apache Server`并使用桌面浏览器访问该站点工作正常。

但它不适用于移动浏览器，也就是说，我可以看到静态网站，但没有进行动态更改（使用`WLAN`; 在使用相同的笔记本电脑上`WLAN`一切正常）。可以访问所需的端口，但没有与`jWebSocketServer`.

我已经`iPhone`用浏览器`Safari 6`和.`Android phone 2.3``WebKit``Opera 12`

至少 Safari 和 Opera 原生支持`WebsSockets`，所以我想知道移动浏览器和桌面浏览器在此功能方面是否存在一般差异？

（在互联网上，我没有发现任何关于带有 jwebsocket 的移动 Web 应用程序，有本地应用程序的客户端，但这不适合我的需要。）

提前致谢！

# java - 接口类实现Runnable

> ID：13392965
> 
> 赞同：0
> 
> 时间：2012-11-15T07:14:04.980
> 
> 标签：java

有一个接口类，还有一个实现这个接口的类。如果这个接口被做成“extends Runnable”，那么在另一个实现这个接口类的类中就会有冲突。为什么 ？我如何实现另一个实现接口类的类？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:15:39.743

在Java中，一个接口可以扩展另一个接口，但一个接口不能实现另一个接口。你可以使用这样的东西：

```
YourClass implements YourInterface, Runnable { ... } 
```

或者替代方案可能是这样的：

```
YourInterface extends Runnable { ... }
YourClass implements YourInterface { ... } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T07:21:23.067

不会有任何歧义，因为接口中的所有方法都是抽象的。这也是Java中不允许一个类扩展多个类的原因。

# android - 如果用户离线，我应该将数据存储在 sqlite 中吗？

> ID：13392966
> 
> 赞同：0
> 
> 时间：2012-11-15T07:14:06.763
> 
> 标签：android, offline-caching

我有一个简单的 android 应用程序，它使用 jSoup 从 URL 获取数据。我有一个肮脏的解决方案，TOAST 给我一个在线或离线警告。我希望能够将用户上次查询新信息时的数据存储在用户离线的情况下。我不知道从哪里开始？我阅读了有关数据缓存、SQLite 等的信息……

存储来自 jsoup 解析的数据的最佳方法是什么，以便在用户离线时可以检索它？

到目前为止，这是我的代码：

```
public class SlockActivity extends SherlockActivity {
    private TextView textView;
    private String url = "http://www.backcountryskiers.com/sac/sac-full.html";
    private String noDangerUrl = "http://www.sierraavalanchecenter.org/sites/default/files/images/danger_icons_and_bars/0_nodangerrate.png";
    private ImageView image;
    private TextView tvWX;

    // GLOBAL RESOURCES
    private static SlockActivity instance = null;

    // private ProgressDialog dialog = new ProgressDialog(SlockActivity.this);

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {

        menu.add("Emergency")
                .setIcon(R.drawable.emergencyicon)
                .setShowAsAction(
                        MenuItem.SHOW_AS_ACTION_IF_ROOM
                                | MenuItem.SHOW_AS_ACTION_WITH_TEXT);
        menu.add("Weather")
                .setIcon(R.drawable.wx_icon)
                .setShowAsAction(
                        MenuItem.SHOW_AS_ACTION_IF_ROOM
                                | MenuItem.SHOW_AS_ACTION_WITH_TEXT);
        menu.add("Refresh")
                .setIcon(R.drawable.ic_refresh)
                .setShowAsAction(
                        MenuItem.SHOW_AS_ACTION_IF_ROOM
                                | MenuItem.SHOW_AS_ACTION_WITH_TEXT);

        return true;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        textView = (TextView) findViewById(R.id.todaysReport);
        image = (ImageView) findViewById(R.id.dangerRose);
        tvWX = (TextView) findViewById(R.id.todaysWX);

        boolean check = isOnline();
        if (check == true) {
            Toast.makeText(this, "Internet is Connected", Toast.LENGTH_LONG)
                    .show();
            fetcher task = new fetcher();
            task.execute();
        }

        else {

            Toast.makeText(this, "Failed to connect to internet.",
                    Toast.LENGTH_LONG).show();
            textView.setText("No Network Connection and attempt to get Cached Data did not work. ");
        }

    }

    public static Bitmap getBitmapFromURL(String src) {
        try {
            Log.e("src", src);
            URL url = new URL(src);
            HttpURLConnection connection = (HttpURLConnection) url
                    .openConnection();
            connection.setDoInput(true);
            connection.connect();
            InputStream input = connection.getInputStream();
            Bitmap myBitmap = BitmapFactory.decodeStream(input);
            Log.e("Bitmap", "returned");
            return myBitmap;
        } catch (IOException e) {
            e.printStackTrace();
            Log.e("Exception", e.getMessage());
            return null;
        }

    }

    class fetcher extends AsyncTask<String, Void, String> {
        // HERE DECLARE THE VARIABLES YOU USE FOR PARSING
        private ProgressDialog dialog = new ProgressDialog(SlockActivity.this);
        private Document doc = null;
        private Elements content = null;
        private Document parse = null;
        private String results = null;
        private Element dangerRatingImg = null;
        private String dangerRatingSrc = null;
        private Bitmap bimage;

        @Override
        protected String doInBackground(String... params) {
            try {
                doc = Jsoup.connect(url).get();
                Log.e("Jsoup", "...is working...");
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                Log.e("Exception", e.getMessage());
            }

            content = doc.select("#content");
            parse = Jsoup.parse(doc.html());
            results = doc.select("#content").outerHtml();

            // find rating image...
            dangerRatingImg = doc.select("img").first();
            dangerRatingSrc = dangerRatingImg.absUrl("src");
            // Get the rating image
            bimage = getBitmapFromURL(dangerRatingSrc);

            return results;
        }

        @Override
        protected void onPostExecute(String result) {
            dialog.dismiss();
            // smooth out the long scrolling...
            textView.setMovementMethod(ScrollingMovementMethod.getInstance());
            // Set this after the load so the background is the picture without
            // the textviews background in
            textView.setBackgroundResource(R.drawable.tvbg);
            // Set the rating image
            //
            // DO THE IMAGE REPLACE ON URL COMPARE THING HERE>>>>>>>
            if (dangerRatingSrc.equals(noDangerUrl)) {
                image.setImageDrawable(getResources().getDrawable(
                        R.drawable.nodanger));
            }
            //
            // image.setImageBitmap(bimage);
            image.setPadding(0, 10, 0, 30);
            // image.setScaleType(ScaleType.FIT_XY);

            // return the summary
            results = parse.select("#reportSummary").outerHtml();
            // String reportDate = parse.select("#reportDate").outerHtml();
            textView.setText(Html.fromHtml(results));
            // textView.append(Html.fromHtml("<a href='#'><em>Read Full Report &raquo;</em></a>"));
            textView.setPadding(30, 20, 20, 10);
            // ditch the dialog, it's all loaded.
            tvWX.setText(Html.fromHtml("Today's High: <b>26F</b>"));
        }

        @Override
        protected void onPreExecute() {
            // before we get the async results show this
            dialog.setMessage("Loading Latest Update from the Sierra Avalanche Center...");
            dialog.show();
        }

    }

    // check network connectivity
    public boolean isOnline() {
        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo netInfo = cm.getActiveNetworkInfo();
        if (netInfo != null && netInfo.isConnectedOrConnecting()) {
            Log.i("Network", "IS CONNECTED");
            return true;
        }
        Log.i("Network", "IS NOT-CONNECTED");
        return false;
    }

    public void onClickFullReport(View v) {
        Intent intentFullReport = new Intent(getBaseContext(),
                FullReportActivity.class);
        intentFullReport.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
        startActivity(intentFullReport);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T07:52:22.223

我建议按照文档中的描述将字符串写入您的应用程序只能读取的文件：http: [//developer.android.com/guide/topics/data/data-storage.html#filesInternal](http://developer.android.com/guide/topics/data/data-storage.html#filesInternal)

将“数据”写入文件“filename.txt”：

```
String FILENAME = "filename.txt";
String string = "data";

FileOutputStream fos = openFileOutput(FILENAME, Context.MODE_PRIVATE);
fos.write(string.getBytes());
fos.close(); 
```

再读一遍：

```
FileInputStream fis = context.openFileInput(FILENAME);
StringBuffer fileContent = new StringBuffer("");

byte[] buffer = new byte[1024];
int length;
while ((length = fis.read(buffer)) != -1) {
    fileContent.append(new String(buffer));
}
String string = fileContent.toString(); 
```

# sql - 如何从数据库中删除所有内容（表、视图、存储过程、函数）？

> ID：13392969
> 
> 赞同：8
> 
> 时间：2012-11-15T07:14:24.527
> 
> 标签：sql, sql-server

我想删除数据库、表、视图、存储过程和函数中的所有内容。我找到了一些链接，但它们不适用于复杂的数据库。它未能删除表。这是我自己在这个网站上找到的脚本版本并对其进行了调整。

```
/* Drop all non-system stored procs */ 
DECLARE @name VARCHAR(128) 
DECLARE @SQL VARCHAR(254)
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'P' AND category = 0 ORDER BY [name]) 
SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.procedures WHERE [name] = @name)

WHILE @name is not null 
BEGIN 
    SELECT @SQL = 'DROP PROCEDURE [' + @schema + '].[' + RTRIM(@name) +']' 
    EXEC (@SQL) 
    PRINT 'Dropped Procedure: ' + @name 

    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'P' AND category = 0 AND [name] > @name ORDER BY [name])
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.procedures WHERE [name] = @name) 
END 
GO 

/* Drop all views */ 
DECLARE @name VARCHAR(128) 
DECLARE @SQL VARCHAR(254)
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'V' AND category = 0 ORDER BY [name]) 
SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.views WHERE [name] = @name)

WHILE @name IS NOT NULL 
BEGIN 
    SELECT @SQL = 'DROP VIEW [' + @schema + '].[' + RTRIM(@name) +']' 
    EXEC (@SQL) 
    PRINT 'Dropped View: ' + @name 
    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'V' AND category = 0 AND [name] > @name ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.views WHERE [name] = @name)
END 
GO 

/* Drop all Foreign Key constraints */ 
DECLARE @name VARCHAR(128) 
DECLARE @constraint VARCHAR(254) 
DECLARE @SQL VARCHAR(254) 
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME) 
SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME)

WHILE @name is not null 
BEGIN 
    SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
    WHILE @constraint IS NOT NULL 
    BEGIN 
        SELECT @SQL = 'ALTER TABLE [' + @schema + '].[' + RTRIM(@name) +'] DROP CONSTRAINT [' + RTRIM(@constraint) +']' 
        --BEGIN TRY        
            EXEC (@SQL)
            PRINT 'Dropped FK Constraint: ' + @constraint + ' on ' + @name
        --END TRY
        --BEGIN CATCH
        --  PRINT (@SQL)
        --END CATCH
        SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' AND CONSTRAINT_NAME <> @constraint AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
    END 
SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME) 
SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME)
END 
GO 

/* Drop all Primary Key constraints */ 
DECLARE @name VARCHAR(128) 
DECLARE @constraint VARCHAR(254) 
DECLARE @SQL VARCHAR(254) 
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME) 
SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME)

WHILE @name IS NOT NULL 
BEGIN 
    SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
    WHILE @constraint is not null 
    BEGIN 
        SELECT @SQL = 'ALTER TABLE [' + @schema + '].[' + RTRIM(@name) +'] DROP CONSTRAINT [' + RTRIM(@constraint)+']' 
        IF @SQL LIKE '%PK_arrival_detail%' BEGIN PRINT @SQL END
        EXEC (@SQL) 
        PRINT 'Dropped PK Constraint: ' + @constraint + ' on ' + @name 
        SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' AND CONSTRAINT_NAME <> @constraint AND TABLE_NAME = @name ORDER BY CONSTRAINT_NAME) 
    END 
SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME) 
SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME)
END 
GO 

/* Drop all tables */ 
DECLARE @name VARCHAR(128) 
DECLARE @SQL VARCHAR(254) 
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'U' AND category = 0 ORDER BY [name]) 
SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.tables WHERE [name] = @name)

WHILE @name IS NOT NULL 
BEGIN 
    SELECT @SQL = 'DROP TABLE [' + @schema + '].[' + RTRIM(@name) +']' 
    EXEC (@SQL) 
    PRINT 'Dropped Table: ' + @name 
    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'U' AND category = 0 AND [name] > @name ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.tables WHERE [name] = @name)
END 
GO 

/* Drop all functions */ 
DECLARE @name VARCHAR(128) 
DECLARE @SQL VARCHAR(254) 
DECLARE @schema VARCHAR(128)

SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] IN (N'FN', N'IF', N'TF', N'FS', N'FT') AND category = 0 ORDER BY [name]) 
SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.objects WHERE [name] = @name)

WHILE @name IS NOT NULL 
BEGIN 
    SELECT @SQL = 'DROP FUNCTION [' + @schema + '].[' + RTRIM(@name) +']' 
    EXEC (@SQL) 
    PRINT 'Dropped Function: ' + @name 
    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] IN (N'FN', N'IF', N'TF', N'FS', N'FT') AND category = 0 AND [name] > @name ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.objects WHERE [name] = @name)
END 
GO 
```

问题仅在于删除约束和删除表。对于与另一个表有关系的表，它总是失败。如何修复我的脚本以使其适用于更复杂的数据库？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-16T10:40:54.187

您提供的脚本即将完成。我在这里和那里调整了一些 where 条件，以使其在复杂情况下更加稳健。此版本支持删除 2 个同名但架构不同的对象。我还添加了一个部分来删除数据库触发器，因为它可能会阻止您在某些情况下删除表。

我已经使用[AdventureWorks 数据库](http://msftdbprodsamples.codeplex.com/)和我自己的数据库（这有点非常复杂）对此进行了测试。

```
 /* Drop all non-system stored procs */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @SQL VARCHAR(254)
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'P' AND category = 0 ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.procedures WHERE [name] = @name)

    WHILE @name is not null 
    BEGIN 
        SELECT @SQL = 'DROP PROCEDURE [' + @schema + '].[' + RTRIM(@name) +']' 
        --PRINT (@SQL)
        EXEC (@SQL) 
        PRINT 'Dropped Procedure: ' + @name 

        SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'P' AND category = 0 ORDER BY [name])
        SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.procedures WHERE [name] = @name) 
    END 
    GO 

    /* Drop all database triggers */
    DECLARE @name VARCHAR(128) 
    DECLARE @SQL VARCHAR(254)

    SELECT @name = (SELECT TOP 1 T.name FROM sys.triggers AS T WHERE T.parent_id = 0 /* database trigger */ ORDER BY [name])

    WHILE @name is not null 
    BEGIN 
        SELECT @SQL = 'DROP TRIGGER [' + RTRIM(@name) +'] ON DATABASE' 
        EXEC (@SQL) 
        PRINT 'Dropped TRIGGER: ' + @name 

        SELECT @name = (SELECT TOP 1 T.name FROM sys.triggers AS T WHERE T.parent_id = 0 /* database trigger */ AND [name] > @name ORDER BY [name])
    END 
    GO 

    /* Drop all views */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @SQL VARCHAR(254)
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'V' AND category = 0 ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.views WHERE [name] = @name)

    WHILE @name IS NOT NULL 
    BEGIN 
        SELECT @SQL = 'DROP VIEW [' + @schema + '].[' + RTRIM(@name) +']' 
        EXEC (@SQL) 
        PRINT 'Dropped View: ' + @name 
        SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'V' AND category = 0 AND [name] > @name ORDER BY [name]) 
        SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.views WHERE [name] = @name)
    END 
    GO 

    /* Drop all Foreign Key constraints */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @constraint VARCHAR(254) 
    DECLARE @SQL VARCHAR(254) 
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME) 
    SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME)

    WHILE @name is not null 
    BEGIN 
        SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
        WHILE @constraint IS NOT NULL 
        BEGIN 
            SELECT @SQL = 'ALTER TABLE [' + @schema + '].[' + RTRIM(@name) +'] DROP CONSTRAINT [' + RTRIM(@constraint) +']' 
            BEGIN TRY
                EXEC (@SQL)
                PRINT 'Dropped FK Constraint: ' + @constraint + ' on ' + @name
            END TRY
            BEGIN CATCH
                PRINT (@SQL)
            END CATCH
            SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' AND CONSTRAINT_NAME <> @constraint AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
        END 
    SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME) 
    SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'FOREIGN KEY' ORDER BY TABLE_NAME)
    END 
    GO 

    /* Drop all Primary Key constraints */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @constraint VARCHAR(254) 
    DECLARE @SQL VARCHAR(254) 
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME) 
    SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME)

    WHILE @name IS NOT NULL 
    BEGIN 
        SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
        WHILE @constraint is not null 
        BEGIN 
            SELECT @SQL = 'ALTER TABLE [' + @schema + '].[' + RTRIM(@name) +'] DROP CONSTRAINT [' + RTRIM(@constraint)+']' 
            --PRINT @SQL
            EXEC (@SQL)
            PRINT 'Dropped PK Constraint: ' + @constraint + ' on ' + @name 
            SELECT @constraint = (SELECT TOP 1 CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' AND CONSTRAINT_NAME <> @constraint AND TABLE_NAME = @name AND CONSTRAINT_SCHEMA = @schema ORDER BY CONSTRAINT_NAME) 
        END 
    SELECT @name = (SELECT TOP 1 TABLE_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME) 
    SELECT @schema = (SELECT TOP 1 CONSTRAINT_SCHEMA FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE constraint_catalog=DB_NAME() AND CONSTRAINT_TYPE = 'PRIMARY KEY' ORDER BY TABLE_NAME)
    END 
    GO 

    /* Drop all tables */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @SQL VARCHAR(254) 
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'U' AND category = 0 ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.tables WHERE [name] = @name)

    WHILE @name IS NOT NULL 
    BEGIN 
        SELECT @SQL = 'DROP TABLE [' + @schema + '].[' + RTRIM(@name) +']' 
        EXEC (@SQL) 
        PRINT 'Dropped Table: ' + @name 
        SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] = 'U' AND category = 0 ORDER BY [name]) 
        SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.tables WHERE [name] = @name)
    END 
    GO 

    /* Drop all functions */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @SQL VARCHAR(254) 
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] IN (N'FN', N'IF', N'TF', N'FS', N'FT') AND category = 0 ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.objects WHERE [name] = @name)

    WHILE @name IS NOT NULL 
    BEGIN 
        SELECT @SQL = 'DROP FUNCTION [' + @schema + '].[' + RTRIM(@name) +']' 
        EXEC (@SQL) 
        PRINT 'Dropped Function: ' + @name 
        SELECT @name = (SELECT TOP 1 [name] FROM sysobjects WHERE [type] IN (N'FN', N'IF', N'TF', N'FS', N'FT') AND category = 0 AND [name] > @name ORDER BY [name]) 
        SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.objects WHERE [name] = @name)
    END 
    GO 

    /* Drop all types */ 
    DECLARE @name VARCHAR(128) 
    DECLARE @SQL VARCHAR(254) 
    DECLARE @schema VARCHAR(128)

    SELECT @name = (SELECT TOP 1 [name] FROM sys.types WHERE is_user_defined = 1 ORDER BY [name]) 
    SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.types WHERE [name] = @name)

    WHILE @name IS NOT NULL 
    BEGIN 
        SELECT @SQL = 'DROP TYPE [' + @schema + '].[' + RTRIM(@name) +']' 
        EXEC (@SQL) 
        PRINT 'Dropped type: ' + @name 
        SELECT @name = (SELECT TOP 1 [name] FROM sys.types WHERE is_user_defined = 1 AND [name] > @name ORDER BY [name]) 
        SELECT @schema = (SELECT TOP 1 schema_name(schema_id) FROM sys.types WHERE [name] = @name)
    END 
    GO 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T07:18:33.350

请参考以下链接： [删除 SQL Server 数据库中的所有对象](http://blog.falafel.com/blogs/AdamAnderson/09-01-06/T-SQL_Drop_All_Objects_in_a_SQL_Server_Database)

[列出数据库的架构名称和表名称](http://blog.sqlauthority.com/2009/06/17/sql-server-list-schema-name-and-table-name-for-database/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-15T13:39:00.770

我通常会建议与其他答案相同的方法，但是由于这似乎对您不起作用，所以这是一个完全不同的角度...

以正确的顺序生成 drop 语句以绕过约束是复杂的，但幸运的是，模式修改工具有一个完整的利基市场来为您解决这个问题。这是一种对我有用的方法：

1.  在本地 SQL Server 上创建一个空白数据库，该数据库使用相同版本的 SQL Server 作为目标
2.  下载[Red Gate SQL Compare](http://www.red-gate.com/products/sql-development/sql-compare/)试用版（其他类似供应商产品也可以使用）
3.  SQL 将本地空白数据库与目标数据库进行比较，并运行它为您生成的脚本

同样，并不是说红门是唯一的工具。其他供应商声称具有类似的功能，只是我使用的是 Red Gate。另请注意，如果您尝试将其嵌入到更大的进程或脚本中，他们有一个[SDK 。](http://www.red-gate.com/products/sql-development/sql-comparison-sdk/)

# linux - pstack 作为分析工具有多可靠？

> ID：13392972
> 
> 赞同：2
> 
> 时间：2012-11-15T07:14:45.870
> 
> 标签：linux, debugging, linux-kernel, profiling

我一直在使用 pstack（定期在循环中调用）来代替真正的分析工具。我注意到，即使顶部的该 pid 的 cpu 使用率超过 85%，pstack 显示 pid 在 I/O 上被阻塞的频率比 CPU 受限的频率更高。

pstack 是如何实现的？当 pstack 在 I/O 上实际被阻塞时，是否有任何理由更容易附加到 pid？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T14:27:37.733

您说您`pstack`在循环中定期调用 - 即在与您正在分析的进程 (A) 不同的进程 (B) 中。如果它们在单核中运行，那么当 A 被阻塞时，B 更有可能“唤醒”。

无论如何，我会`pstack`手动触发，理论上不需要太多样本。*相反，我*得到的样本需要仔细检查，而不仅仅是集中在一起。

一般来说，最好在 I/O 时间和 CPU 时间进行采样，因为 I/O 和 CPU 浪费都会使您的程序变慢。如果它有点夸大其中之一，那是相当无害的，假设您的真正目标是精确识别要优化的事物，而不是仅仅获得模糊事物（如函数）的精确测量。

# java - eclipse窗口构建器中的多个窗口

> ID：13392976
> 
> 赞同：5
> 
> 时间：2012-11-15T07:14:56.507
> 
> 标签：java, eclipse, swing, windowbuilder

我正在使用 Eclipse 的 Google Window Builder 来创建我的程序的 UI 方面。我需要创建一个首选项窗口，以便用户可以更改程序的不同设置。我希望用户能够按菜单中的“首选项”按钮来打开一个单独的窗口。我遇到的问题是我不知道如何通过 Window Builder 直观地创建或添加组件到这个单独的窗口。有没有一种方法可以通过 Window Builder 创建一个不是主 jframe 程序的子级的 jpanel？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-15T14:26:26.847

右键单击要存储新窗口文件的包。转到“新建 -> 其他”并选择“WindowBuilder -> Swing Designer -> JDialog”。为新窗口的类写一个名称。这将打开一个编辑器，选择窗口底部的“设计”选项卡。现在您可以自定义这个新窗口。

要从主 JFrame 打开此窗口，您需要执行以下操作：

```
MyNewWindowClass newWindow = new MyNewWindowClass();
newWindow.setVisible(true); 
```

# ios5 - 协议委托实现不起作用

> ID：13392983
> 
> 赞同：1
> 
> 时间：2012-11-15T07:15:37.410
> 
> 标签：ios5, delegates, protocols

我正在实现我的 UIViewController 类的协议。我需要在另一个类中执行此协议的方法。但它不起作用。

下面是代码。请帮帮我。

```
///This is my Header Class

#import <UIKit/UIKit.h>

@protocol PauseViewDelegate <NSObject>

- (IBAction)ResumeButtonPressed:(id)sender;
- (IBAction)MenuButtonPressed:(id)sender;
- (IBAction)RestartButtonPressed:(id)sender;

@end

@interface PauseViewController : UIViewController

@property (nonatomic, retain) id<PauseViewDelegate> pauseDelegate;

@end

////This is implementation class protocol Methods.

#import "PauseViewController.h"

@interface PauseViewController ()

@end

@implementation PauseViewController
@synthesize pauseDelegate;

- (IBAction)ResumeButtonPressed:(id)sender
{
    NSLog(@"resume delegate");
        [pauseDelegate ResumeButtonPressed:sender];

}
- (IBAction)RestartButtonPressed:(id)sender
{
    NSLog(@"Restart delegate");
    [self.view removeFromSuperview];
    [pauseDelegate RestartButtonPressed:sender];
}
- (IBAction)MenuButtonPressed:(id)sender
{
    NSLog(@"Menu delegate");
    [self.view removeFromSuperview];
    [pauseDelegate MenuButtonPressed:sender];
} 
```

我在不同的视图控制器中使用这些方法，但它不起作用。

# c# - 没有 .asmx 扩 展名的 Web 服务

> ID：13392984
> 
> 赞同：0
> 
> 时间：2012-11-15T07:15:38.413
> 
> 标签：c#, .net, web-services, asmx

我正在从它的 wsdl 文件中模拟一个 Web 服务。在原始 wsdl 中，我看到：

```
 <soap:address location="http://localhost:13080/Core/ws/broker"/> 
```

在我的实现中，我有：

```
<soap12:address location="http://localhost:13080/Core/ws/broker/Broker.asmx"/> 
```

如何从`Broker.asmx`可以将我的服务称为原始服务的路径中删除 asmx 部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T07:34:26.157

如果它托管在 IIS 中，您可以将“broker.asmx”设置为默认文档。因此，当您打开 ..../ws/broker 时，IIS 会自动假定您的意思是 .../ws/broker/broker.asmx

# jpa - 使用 EclipseLink 和多个 jar 进行 @MappedSuperclass 静态编织

> ID：13392986
> 
> 赞同：0
> 
> 时间：2012-11-15T07:15:46.030
> 
> 标签：jpa, orm, jpa-2.0, eclipselink, toplink

我的实体对象分散在多个罐子中。
在 jar AI 中有一个基类名称 MyBase，它带有 @MappedSuperclass 注释。
在 jar B 中有一个派生自 MyBase 的实体类。
问题是因为编织是在 jar 文件的上下文中完成的（我使用的是 maven 插件），所以基类（MyBase）没有被检测（尽管它应该）。
如果我将派生类从 jar B 移动到 A，那么编织过程也将处理基础。
由于我正在从事一个大型项目，因此以模块化方式进行开发对我来说至关重要。
EclipseLink 不支持这种方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T08:15:08.167

我发现覆盖此限制的唯一方法是在定义 @MappedSuperclass 基类的 jar 中添加一个临时实体类，并在编织过程后将其删除。
悲伤，但真实;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-19T15:40:04.680

我不确定 maven 插件，但你应该能够在两个 jar 上使用静态编织器，你需要调用它两次来编织两个，并且需要在 weavers 类路径上的两个 jar 来调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-17T00:11:14.193

或者，您可以将包含您的超类的 jar 指定为 inpath - 如此处和[此处所解释](http://www.eclipse.org/aspectj/doc/released/devguide/bytecode-concepts.html)[的](http://www.eclipse.org/articles/Article-Introducing-AJDT/article.html)：

> **管理多个项目**
> 
> 构建 AspectJ 源代码需要两个不同的阶段；编译 .java 和 .aj 文件中的源代码以生成 .class 文件，然后将方面应用于生成的 .class 文件。第二个阶段，称为编织，是 AspectJ 和 Java 编译器之间的主要区别。Java 编译过程由类路径设置控制，这使得编译器可以解析类型。AspectJ 编译过程使用相同的类路径设置，并且在 Eclipse 中以完全相同的方式进行配置。但是，此设置不足以在所有情况下控制编译和编织步骤。这就是为什么 AspectJ 项目有两个额外设置可用的原因。
> 
> 首先，有 inpath 设置。此处指定的任何内容都将可供编织器使用，因此将编织任何适用的方面。可以通过右键单击项目，选择“属性”，然后转到“AspectJ InPath”部分，将条目添加到项目的输入路径中。条目可以是 JAR 文件或目录（类文件夹），例如另一个项目的 bin 目录。在可能与方面编织之后，inpath 上的任何内容都会发送到项目的输出。
> 
> 第二个附加设置是方面路径。虽然 inpath 控制要编织的内容列表，但 aspectpath 控制要编织到该列表中的内容。换句话说，在方面路径上指定的任何方面都可用于编织过程，就像它们以源代码形式存在于项目中一样。此设置由 AspectJ Aspect Path 属性页控制，可以包含 JAR 文件或目录。
> 
> 每个项目的属性页的 AspectJ 部分中也存在一个输出 JAR 设置。此设置导致编译器将类文件直接输出到 JAR 文件，而不是项目的输出文件夹。

像你一样让我发疯 - 希望这会有所帮助。;)

# java - 从 Json/Map 构造对象（带注释）

> ID：13392987
> 
> 赞同：0
> 
> 时间：2012-11-15T07:15:46.823
> 
> 标签：java

我有这个类，我通过基于其注释创建一个 JSON 对象来坚持：

```
@Entity(name = "user")
public class User { 
    @Id 
    private String id;
    @Column
    private String name;
    @Column
    private Integer age;
    public User() {}
public User(String id, String name, String age) {}
// ... code omitted
}

boolean ok = createEntity(new User("uid1", "eli", 25)); 
```

上面的方法会将 User 对象转换为表示 JSON 对象的 Map，例如：

```
map.put("ID", "uid1");
map.put("name", "eli");
map.put("age", 25); 
```

这工作正常。但是，我需要基于响应映射创建一个 User 对象，该响应映射包含与上述类似形式的值，首先我以 JSON 字符串的形式从服务器获取响应：

```
{
    "id" : "uid2",
    "name" : "ben",
    "age" : 20
} 
```

我的意思是，如果我将此 JSON 字符串解析为地图：

```
map.put("id", "uid2");
map.put("name", "ben");
map.put("age", 20); 
```

如何构造一个用户对象，将地图中的值填充到正确的`@Column`字段？

更新：

我知道 Jackson 库，但这里的想法是我需要使用注释，因为我正在构建一个需要对类进行注释的库。我只是在从 json/map 创建对象并将正确的值分配给正确的字段的方法之后

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:18:13.257

使用[杰克逊](http://jackson.codehaus.org/)图书馆。它将您的对象转换为 json，而无需对其进行注释。

# c# - 使用实体框架没有概念架构错误

> ID：13392992
> 
> 赞同：0
> 
> 时间：2012-11-15T07:16:02.110
> 
> 标签：c#, visual-studio, iis, entity-framework-5

我正在使用实体框架创建一个网站，并且由于从 VS2010 更改为 VS2012（处理 DBContexts 而不是 ObjectContexts）而获得了相当多的乐趣。我不得不重新创建实体模型几次，我想我已经把它全部整理好了，但我现在在登台机器上收到以下错误：

```
Server Error in '/' Application.

Parser Error

Description: An error occurred during the parsing of a resource required to service this request. Please review the following specific parse error details and modify your source file appropriately. 

Parser Error Message: No Conceptual Schema node to embed as a resource

Source Error: 

[No relevant source lines] 
```

一切都在本地机器上运行。数据模型指向网络上相同的 sql server 数据库，用于本地和暂存（目前，下一个技巧是让暂存指向实时数据，但这对于不同的 SO 问题来说是个问题:)。

我发现关于“无概念架构...”错误消息的信息很少，但我检查了“启用 32 位应用程序”是否设置为 true，如下所示： [编译错误：[无相关源代码行]](https://stackoverflow.com/questions/3491943/compilation-error-no-relevant-source-lines)

有谁知道如何处理这个错误？我迷路了。

# c++ - 在 Open GL 中计算曲面的法线

> ID：13392995
> 
> 赞同：3
> 
> 时间：2012-11-15T07:16:11.030
> 
> 标签：c++, opengl, graphics

我正在尝试为我的地形生成器添加阴影/照明。但是由于某种原因，即使在我计算了表面法线之后，我的输出仍然看起来是块状的。

```
set<pair<int,int> >::const_iterator it;

for ( it = mRandomPoints.begin(); it != mRandomPoints.end(); ++it )
{
    for ( int i = 0; i < GetXSize(); ++i )
    {
        for ( int j = 0; j < GetZSize(); ++j )
        {
            float pd = sqrt(pow((*it).first - i,2) + pow((*it).second - j,2))*2 / mCircleSize;
            if(fabs(pd) <= 1.0)
            {
                mMap[i][j][2] += mCircleHeight/2 + cos(pd*3.14)*mCircleHeight/2; ;
            }

        }
    }
}

/*
    The three points being considered to compute normals are 
    (i,j)
    (i+1,j)
    (i, j+1)
*/

for ( int i = 0; i < GetXSize() -1 ; ++i )
{
    for ( int j = 0; j < GetZSize() - 1; ++j )
    {
        float b[] = {mMap[i+1][j][0]-mMap[i][j][0], mMap[i+1][j][1]-mMap[i][j][1], mMap[i+1][j][2]-mMap[i][j][2] };
        float c[] = {mMap[i][j+1][0]-mMap[i][j][0], mMap[i][j+1][1]-mMap[i][j][1], mMap[i][j+1][2]-mMap[i][j][2] };
        float a[] = {b[1]*c[2] - b[2]*c[1], b[2]*c[0]-b[0]*c[2], b[0]*c[1]-b[1]*c[0]};

        float Vnorm = sqrt(pow(a[0],2) + pow(a[1],2) + pow(a[2],2));

        mNormalMap[i][j][0] = a[0]/Vnorm;
        mNormalMap[i][j][1] = a[1]/Vnorm;
        mNormalMap[i][j][2] = a[2]/Vnorm;

    }
} 
```

然后在绘制这个时，我使用以下

```
float*** normal = map->GetNormalMap();

for (int i = 0 ; i < map->GetXSize() - 1; ++i)
{
    glBegin(GL_TRIANGLE_STRIP);

    for (int j = 0; j < map->GetZSize() - 1; ++j)
    {

        glNormal3fv(normal[i][j]);

        float color = 1 - (terrain[i][j][2]/height);
        glColor3f(color,color, color);
        glVertex3f(terrain[i][j][0], terrain[i][j][2], terrain[i][j][1]);
        glVertex3f(terrain[i+1][j][0], terrain[i+1][j][2], terrain[i+1][j][1]);
        glVertex3f(terrain[i][j+1][0], terrain[i][j+1][2], terrain[i][j+1][1]);
        glVertex3f(terrain[i+1][j+1][0], terrain[i+1][j+1][2], terrain[i+1][j+1][1]);
    }

    glEnd();
} 
```

编辑：初始化代码

```
glFrontFace(GL_CCW);
glCullFace(GL_FRONT); // glCullFace(GL_BACK); 
glEnable(GL_CULL_FACE);
glEnable(GL_DEPTH_TEST);
glShadeModel(GL_SMOOTH);
glEnable(GL_POLYGON_SMOOTH);
glMatrixMode(GL_PROJECTION); 
```

我是否正确计算了法线？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-15T08:14:26.290

除了 Bovinedragon 建议的内容之外`glShadeModel(GL_SMOOTH);`，您可能应该使用每个顶点法线。这意味着每个调用`glVertex3f`之前都会有一个`glNormal3fv`调用，该调用将定义所有相邻面的平均法线。要获得它，您可以简单地将这些相邻的法向量相加并归一化结果。

![在此处输入图像描述](../Images/649bdfb0c1c1e36014e50decd61ca956.png)

参考这个问题：[Technologies to smooth face edges in OpenGL](https://stackoverflow.com/questions/954039/techniques-to-smooth-face-edges-in-opengl)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-15T07:56:36.310

您是否将 glShadeModel 设置为 GL_SMOOTH？

见：[http ://www.khronos.org/opengles/documentation/opengles1_0/html/glShadeModel.html](http://www.khronos.org/opengles/documentation/opengles1_0/html/glShadeModel.html)

除了光照之外，此设置还会影响顶点颜色。您似乎说即使在照明之前它也是块状的，这让我认为这是问题所在。

# ios - 为什么 imagepicker 说没有视频

> ID：13392996
> 
> 赞同：-1
> 
> 时间：2012-11-15T07:16:19.263
> 
> 标签：ios, uiimagepickercontroller

我的 ipod 中有视频，但图像选择器说没有视频，如果有人可以破解它，我会很感激

```
UIImagePickerController *videopicker = [[UIImagePickerController alloc]init];
videopicker.delegate = self;
videopicker.mediaTypes =
[[NSArray alloc] initWithObjects: (NSString *) kUTTypeMovie, nil];
videopicker.sourceType = UIImagePickerControllerSourceTypeSavedPhotosAlbum;
[self presentModalViewController:videopicker animated:YES];
videopicker.wantsFullScreenLayout = YES; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T20:25:33.537

下面的代码对我来说工作正常，它显示了照片和视频

```
if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeSavedPhotosAlbum]) {

            UIImagePickerController *apicker = [[UIImagePickerController alloc] init];
            apicker.delegate = self;
            apicker.sourceType = UIImagePickerControllerSourceTypeSavedPhotosAlbum;
            **apicker.mediaTypes = [UIImagePickerController availableMediaTypesForSourceType:UIImagePickerControllerSourceTypeSavedPhotosAlbum];**
            [self presentModalViewController:apicker animated:YES];
        }
    } 
```

# java - 拆分和修剪字节数组

> ID：13392997
> 
> 赞同：0
> 
> 时间：2012-11-15T07:16:21.170
> 
> 标签：java, split, byte

我有一个字节数组包含一些由 7 分隔的字节，我想拆分这些字节，然后修剪分隔的字节。ie-14 必须从分离的字节数组的左右删除。

> **例子：**
> 
> 输入：{-14, 2, 54, 23, -14, 7, 5, 73, 12, -14, -14, 7}
> 输出：{2, 54, 23} , {5, 73, 12}
> 
> 输入：{34, 64, 23, -14, 43, -14, 7, 7, 42, 2, -14}
> 输出：{34, 64, 23, -14, 43} , {42, 2}

**编辑**
应该删除空数组。例如，如果 7 在输入数组的第一个或末尾，则应将其删除。

更多示例：

> 输入：{7, 34,21,7}
> 输出：{34,21}
> 
> 输入：{-14,-14,7,7,34,21,-14, 7,-14}
> 输出：{34, 21}

**结束编辑**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T07:43:09.967

只需遍历数组，维护一个`left`指示最后一次拆分位置的索引。当您遇到拆分位置或数组末尾时，您会使用第二个索引`right`来表示该位置。现在增加`left`和减少`right`以修剪序列。然后创建表示的子序列的副本。

```
int left = 0, right, pos;
for (pos = 0; pos <= a.length; ++pos) {
  if (pos < a.length && a[pos] != 7)
    continue; // no need to split, so simply go on
  for (right = pos; right != left; --right) // drop trailing -14s
    if (a[right - 1] != -14)
      break;
  // "right" now is one past the last element we want to keep
  for (; left != right; ++left) // drop leading -14s
    if (a[left] != -14)
      break;
  if (left != right) {
    byte[] b = new int[right - left];
    System.arraycopy(a, left, b, 0, right - left);
    res.add(b);
  }
  left = pos + 1;
} 
```

# javascript - 悬停图像旋转 45 度

> ID：13392999
> 
> 赞同：2
> 
> 时间：2012-11-15T07:16:27.160
> 
> 标签：javascript, jquery, html, css, rotation

当我将鼠标悬停在上面时，我正在尝试将图像旋转 45 度（实际上我真的想让它来回摆动）。我尝试将 CSS 与变换旋转一起使用，但没有成功。有没有人有任何想法（jQuery，javascript也许）？

```
 a:hover{
            behavior:url(-ms-transform.htc);
            /* Firefox */
            -moz-transform:rotate(45deg);
            /* Safari and Chrome */
            -webkit-transform:rotate(45deg);
            /* Opera */
            -o-transform:rotate(45deg);
            /* IE9 */
            -ms-transform:rotate(45deg);
            /* IE6,IE7 */}

 <div id="main">
    <span class="box"><a href=""><img src="blog-icon.png"></img></a></span>
 </div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-15T07:19:41.567

您似乎将悬停设置为**锚点**而不是**图像**..

代替

```
a:hover{ 
```

应该

```
img:hover{ 
```

**[检查小提琴](http://jsfiddle.net/sushanth009/9kAdP/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T07:23:01.593

在 webkit 浏览器中，在内`transform`联元素上被忽略。

要完成这项工作，您需要添加`a { display:block; }`到您的 CSS 中。（内联块也可以）

演示：http: [//jsfiddle.net/6Df6W/](http://jsfiddle.net/6Df6W/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-15T07:28:50.517

我已经多次使用它并且效果很好：

[http://code.google.com/p/jqueryrotate/](http://code.google.com/p/jqueryrotate/)

```
$(".box a img").rotate(45); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-15T07:27:54.143

**尝试这个：**

```
$("a img").rotate({ 
   bind: 
     { 
        mouseover : function() { 
            $(this).rotate({animateTo:45})
        },
        mouseout : function() { 
            $(this).rotate({animateTo:0})
        }
     } 

});​ 
```