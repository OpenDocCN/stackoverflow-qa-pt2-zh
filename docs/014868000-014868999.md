# StackOverflow 问答 14868000-14868999

# online-compilation - 个人测试用例检查，如 InterviewStreet.com

> ID：14868000
> 
> 赞同：-1
> 
> 时间：2013-02-14T04:49:11.393
> 
> 标签：online-compilation

我建立了自己的**在线评委**来主持。评委与[SPOJ](http://spoj.pl)、[Codechef](http://www.codechef.com)、[UVA](http://uva.onlinejudge.org/)等`Intra-College Programming Contest`相似且一样好 。目前，我的在线判断使用与上述三个网站相同的逻辑来检查是否，答案是。即，它会根据标准运行用户程序，并将用户程序生成的输出文件与 .When 用户输出文件匹配预期的输出文件，则判定为else 。 `Correct(Accepted) or Wrong``official test cases``standard(expected) output file``correct answer``Wrong Answer`![在此处输入图像描述](../Images/5a22ba2e8c7bc788204e8c9187f7702b.png)

现在，我想添加一个`Individual test case scoring system`类似[InterviewStreet.com](https://www.interviewstreet.com/)的功能。用户根据**通过的测试用例数（接受）**获得积分。[参考上图]。我想不出一种有效的方法/方式来实现它。

我最初的入侵是：

将每个测试用例（假设总共有**T**个测试用例）**输入**在 T 个单独的输入文件中（in1.txt、in2.txt、in3.txt、...inT.txt），并将预期输出放在另一个 T 个单独的文件中（out1 .txt,out2.txt,out3.txt,....outT.txt) 并运行用户程序 T 次，每个输入测试用例（输入文件）运行一次。

但这听起来不太好。当测试用例的数量`T`很大时，编译服务器会很慢，因为用户程序必须运行**T**次。

请建议我一些快速有效的实施个人测试用例评分系统的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T09:57:55.400

您可以免费使用我们的工具 :)

# python - 使用 LazyLoader 和 Python BeautifulSoup 抓取页面

> ID：14868003
> 
> 赞同：3
> 
> 时间：2013-02-14T04:49:54.823
> 
> 标签：python, python-2.7, lazy-loading, beautifulsoup

我在玩 BeautifulSoup，到目前为止我很喜欢。

问题是我要废弃的网站有一个lazyloader......而且它只废弃了网站的一部分。

我可以提示如何进行吗？我必须看看lazyloader是如何实现的并参数化其他任何东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-27T11:37:15.740

原来问题本身不是 BeautifulSoup，而是页面本身的动态。对于这种特定情况。

页面返回页面的一部分，因此需要对 headers 进行分析并相应地发送到服务器。这本身不是 BeautifulSoup 问题。

因此，了解数据在特定站点上的加载方式非常重要。它并不总是“加载整个页面，处理整个页面”的范例。在某些情况下，您需要加载页面的一部分并向服务器发送特定参数，以便继续加载页面的其余部分。

# c# - c# 发布http请求慢

> ID：14868007
> 
> 赞同：0
> 
> 时间：2013-02-14T04:50:11.877
> 
> 标签：c#

我正忙于必须将数据上传到站点的 ac# 应用程序。我使用 http post 上传数据，但对于我们的应用程序来说太慢了。上传少量数据大约需要 1.5 秒。我尝试了两种不同的方法。

方法1，使用WebRequest：

```
WebRequest request = WebRequest.Create(packet.url.ToString());
                request.Method = "POST";
                request.Proxy = null;
                byte[] byteArray = Encoding.UTF8.GetBytes(packet.postData);
                request.ContentType = "application/x-www-form-urlencoded";
                request.ContentLength = byteArray.Length;
                Stream dataStream = request.GetRequestStream();
                dataStream.Write(byteArray, 0, byteArray.Length);
                dataStream.Close();
                WebResponse response = request.GetResponse();
                dataStream = response.GetResponseStream();
                StreamReader reader = new StreamReader(dataStream);
                string responseFromServer = reader.ReadToEnd();
                reader.Close();
                dataStream.Close();
                response.Close(); 
```

方法2，使用WebClient：

```
string responseFromServer;
                using (WebClient wc = new WebClient())
                {
                    wc.Headers[HttpRequestHeader.ContentType] = "application/x-www-form-urlencoded";
                    responseFromServer = wc.UploadString(packet.url, packet.postData);
                } 
```

两者都具有完全相同的延迟。我在javascript中测试了同样的东西。我使用 xmlhttprequest 将相同的数据发布到服务器，上传数据的时间不到 0.5 秒。请让我知道在 C# 中是否有更快的方法来执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:19:34.077

You should set `Proxy = null`, it increases the overall speed of all HTTP requests.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:54:28.233

您应该在一个请求中发送所有数据量，因为 AppDeveloper 说 webrequest 需要很长时间来初始化。我可以让你做这样的事情：因为我认为你有一个 - 列表，并且对于每个单独的 postData 你提出一个新的网络请求。因此，您应该将整个 List 解析为 JSON，然后通过 WebRequest 将完整的 List 发布到服务器。这将需要 2 秒，但您将在 2 秒内发送整个数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-24T12:05:23.403

旧线程，但这可能适合你 - `ServicePointManager.UseNagleAlgorithm = false;`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T05:08:11.193

尝试第一次连接有点慢，除此之外其他连接似乎正常。

在第一次尝试连接到主机时，`HttpWebRequest`做了很多工作，它必须维护`ConnectionPool`和处理许多其他事情。`HttpWebRequest`本身就很复杂。

如果只有第一个请求变慢，请不要担心。

现在，`xmlhttprequest`响应迅速，因为浏览器倾向于在相当长的时间内为任何支持它的主机保持连接。因此反应更快！

# java - 干扰 emma 的静态初始化程序

> ID：14868009
> 
> 赞同：1
> 
> 时间：2013-02-14T04:50:14.660
> 
> 标签：java, junit, code-coverage, emma, static-initializer

我编写了一个类，其中包含 JUnit/emma 的每一行（它是一个相当基本的类）。

Emma 的 eclipse 输出以绿色（覆盖）显示所有行。但是，艾玛的报告 (HTML) 显示我错过了 1 条指令。它以黄色突出显示类（公共类 X）。

错过的指令似乎与“静态初始化程序”有关。我对他们很熟悉，而这个特殊的班级没有

```
static {

} 
```

挡在里面。它根本没有静态方法。它确实有 4 个公共静态最终整数。它还包含一个枚举。

HTML 输出表明：

```
class X$1
<static initializer> 
```

作为未涵盖的指令（和方法）。

这个神秘的指令是从哪里来的？我该如何测试它？

我在这个文件中没有任何内部类，我什至无法解释 $1 的来源。

# android - 具有动态数据的循环视图寻呼机

> ID：14868015
> 
> 赞同：2
> 
> 时间：2013-02-14T04:50:39.857
> 
> 标签：android, android-viewpager, android-pageradapter

我面临 ViewPager 使其循环的问题。我有一个动态数据列表，每次滑动时，都必须使用动态数据更新视图。例如，我在列表中有大约 5 个对象说 A、B、C、D、EI 能够从 A -> B -> C -> D -> E 再次从 E -> D -> C 滑动 - > B -> A. 但我应该让它像在 E 之后那样循环，它应该在向右滑动时转到 A，在 A 之后它应该在向左滑动时转到 E。请有人告诉我如何做到这一点。非常感谢。

这是我迄今为止尝试过的代码片段。

```
public class FlingActivity extends BaseActivity implements OnClickListener{

private ViewPager pager;
private int position;
private int total;
private ArrayList<DataBean> beanList;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);     
    setContentView(R.layout.main);

    if (this.getIntent().hasExtra("position")) {
        position = (int) this.getIntent().getExtras().getInt("position");
    }
    if(getIntent().hasExtra("listDetails")) {
        beanList = (ArrayList<DataBean>)getIntent().getSerializableExtra("listDetails");
    }

    if(beanList != null){
        total = beanList.size();
        pager = (ViewPager) findViewById(R.id.pager);
        ((RelativeLayout) findViewById(R.id.right_arrow)).setOnClickListener(this);
        ((RelativeLayout) findViewById(R.id.left_arrow)).setOnClickListener(this);  
        pager.setVisibility(View.VISIBLE);

        pager.setAdapter(new MyPagerAdapter(beanList));
        pager.setOnPageChangeListener(new OnPageChangeListener() {
            int lastPosition;
            int posOffset=0;
            public void onPageSelected(int arg0) {
                position=arg0;
            }

            public void onPageScrolled(int arg0, float arg1, int arg2) {
                if(arg0!=0 && arg1==0 && arg2 == 0){
                    lastPosition=arg0;
                }
            }

            public void onPageScrollStateChanged(int arg0) {
                if(position == total - 1){
                    position=total + 1;
                }
                if(arg0 == ViewPager.SCROLL_STATE_IDLE && position > total){
                    pager.setCurrentItem(0, true);
                }
            }
        });
        pager.setCurrentItem(position, true);

    }

}   

public void onClick(View v) {
    switch(v.getId()) {
    case R.id.left_arrow:
        if(pager != null) {
            pager.setCurrentItem(pager.getCurrentItem() - 1, true);
        }

        break;
    case R.id.right_arrow:
        if(pager != null) {             
            pager.setCurrentItem(pager.getCurrentItem() + 1, true);
        }

        break;
    }       
}

private class MyPagerAdapter extends PagerAdapter {
    private ArrayList<DataBean> beanList;
    public MyPagerAdapter(ArrayList<DataBean> list) {
        this.beanList = list;
    }

    public int getCount() {
        return beanList.size();
    }

    public Object instantiateItem(View collection, int position) {
        View view = LayoutInflater.from(getApplicationContext()).inflate(R.layout.item_view, null);

        DataBean dataBean = beanList.get(position); 
        TextView name = (TextView) view.findViewById(R.id.name);
        name.setText(dataBean.getName());

        TextView description = (TextView) view.findViewById(R.id.desc);
        description.setText("Description " 
                                + dataBean.getDesc());

        ((ViewPager) collection).addView(view, 0);
        return view;            
    }

    @Override
    public void destroyItem(View arg0, int arg1, Object arg2) {
        ((ViewPager) arg0).removeView((View) arg2);
    }

    @Override
    public boolean isViewFromObject(View arg0, Object arg1) {
        return arg0 == ((View) arg1);
    }       
} 
```

}

在上面的代码中，转到 E 后，页面会自动滑到 A，但实际上只有当用户滑动时它才应该转到 A。

# iphone - 保存 250 mb 数据后 iPad 应用程序崩溃

> ID：14868019
> 
> 赞同：3
> 
> 时间：2013-02-14T04:51:04.903
> 
> 标签：iphone, ios, ipad

我在我的 iPad 应用程序中从服务器同步大约 5000 张图像。这些图像的大小约为 2.5 GB，我的 iPad 也有足够的空间。

但是在仅同步 375 张图像后，我的应用程序开始崩溃，原因如下

```
malloc: *** mmap(size=1048576) failed (error code=12)
*** error: can't allocate region
*** set a breakpoint in malloc_error_break to debug 
```

`2013-02-14 06:20:50.058 AAA[1250:907] ***`

```
Terminating app due to uncaught exception 'NSMallocException',
 reason: 'Attempt to allocate 1048576 bytes for NS/CFData failed'

*** First throw call stack: 
```

我正在使用核心数据将图像保存在文档目录中。

如果有任何保存应用程序数据的限制，请指导我。我在主线程上执行的所有这些操作。

```
 for (int i = 0; i < [shadowElement3 count]; i++)
        {
            NSMutableArray* array = [[NSMutableArray alloc] init];
            Product* failedBankInfo = [NSEntityDescription insertNewObjectForEntityForName:@"Product"                                                                    inManagedObjectContext:context];

            NSXMLElement* element11    = [shadowElement3 objectAtIndex:i];
            NSString* strPath = [element11 stringValueForNode:@"B1_COD"];

            NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES);
            NSString *documentsDirectory = [paths objectAtIndex:0];
            NSString *savedImagePath = [documentsDirectory stringByAppendingPathComponent:strPath];

            NSLog(@"%@",[element11 stringValueForNode:@"img"]);
            NSData* receivedData = [NSData dataWithContentsOfURL:[NSURL URLWithString:              [element11 stringValueForNode:@"img"]]];
            [receivedData writeToFile:savedImagePath atomically:YES];

            [array addObject:savedImagePath]; 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T06:25:49.480

有几件事：

1.  您似乎每次通过循环都在重新创建数组。
2.  看起来您正在创建很多自动释放的对象。鉴于您可能要创建几千个，您可能希望将它们包装在 @autoreleasepool 块中。
3.  您每次通过循环重新创建的几个变量似乎是相同的。将它们拉出循环。
4.  将上下文的撤消管理器设置为零。这将有助于减少内存开销。
5.  最后，我不确定您是否在主线程上执行此操作，但如果您的数据连接速度较慢， dataWithContentsOfURL 会阻塞主线程。您可能希望确保您在主线程之外执行此操作。这是另一个问题的主题。
6.  您可能想要使用`enumerateObjectsUsingBlock:`而不是 for/loop。请参阅[此处](https://stackoverflow.com/questions/4486622/when-to-use-enumerateobjectsusingblock-vs-for/4487012#4487012)了解原因。

尝试这样的事情：

```
NSMutableArray* array = [[NSMutableArray alloc] initWithCapacity:[shadowElement3 count]];
NSXMLElement* element11;
NSString* strPath;
NSString *savedImagePath;
Product* failedBankInfo;

NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES);
NSString *documentsDirectory = [paths objectAtIndex:0];

[context setUndoManager:nil];

for (int i = 0; i < [shadowElement3 count]; i++)
{

   @autoreleasepool{
      failedBankInfo = [NSEntityDescription insertNewObjectForEntityForName:@"Product"                                                                    inManagedObjectContext:context];
      element11 = [shadowElement3 objectAtIndex:i];
      strPath = [element11 stringValueForNode:@"B1_COD"];
      savedImagePath= [documentsDirectory stringByAppendingPathComponent:strPath];

      NSData* receivedData = [NSData dataWithContentsOfURL:[NSURL URLWithString:                       [element11 stringValueForNode:@"img"]]];
      [receivedData writeToFile:savedImagePath atomically:YES];
      [array addObject:savedImagePath];

      // you don't seem to be doing anything with the Managed Object you created,
      // I assume you are saving the path.  So do so and batch save the context.
      // This will help free up memory.
      failedBankInfo.pathName = savedImagePath;
      if ( i % 100 ==0 ){
          NSError *error;
          [context performBlock:^{

             [context save:&error];
             // handle error

             // reset the context cause you don't seem to be doing anything else
             // with the objects.  This will free up memory
             [context reset];
          }];
      }
  }

}

// One last save
NSError *error;
[context performBlock:^{
    [context save:&error];
    // handle error is exercise for the reader.

    // reset the context cause you don't seem to be doing anything else
    // with the objects.  This will free up memory
    [context reset];
}]; 
```

祝你好运。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-14T05:57:42.360

您可能需要使用自动释放[池](https://developer.apple.com/library/mac/ipad/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html)。根据该文件，“如果您编写一个创建许多临时对象的循环。”

# matlab - Matlab自动关闭串口

> ID：14868021
> 
> 赞同：4
> 
> 时间：2013-02-14T04:51:18.067
> 
> 标签：matlab, serial-port

以下指南展示了如何使用 matlab 打开和读取串口：

[串行 fOpen](http://www.mathworks.com.au/help/matlab/ref/serial.fopen.html)

它是这样完成的：

```
s = serial('COM1');
fopen(s)
fprintf(s,'*IDN?')
idn = fscanf(s);
fclose(s) 
```

我有一个程序可以不断获取串行输出并绘制它：

```
figure
s = serial('COM11');
fopen(s)

while(true)

    if (strcmp(comsStatus, 'open') == 1)

        tline(i) = str2num(fgetl(s));
        i = i+1
        plot(tline(1:i-1))
        drawnow
    end
end

fclose(s) 
```

我想做的是自动跳出while循环。但是似乎没有一个简单的迹象表明该系列何时停止播放。fgetl(s) 部分将等到某些事情真正通过。有没有办法让这个超时？有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T06:49:17.777

您可以按如下方式修改 while 循环：

```
figure
s = serial('COM11');
fopen(s)

while(s.BytesAvailable > 0)
        if (strcmp(comsStatus, 'open') == 1)

            tline(i) = str2num(fgetl(s));
            i = i+1
            plot(tline(1:i-1))
            drawnow
        end
    end

fclose(s) 
```

参考： [http ://home.iitb.ac.in/~rahul./ITSP/serial_comm_matlab.pdf](http://home.iitb.ac.in/~rahul./ITSP/serial_comm_matlab.pdf)

也来自个人经验。

# excel-formula - IF 结果错误

> ID：14868030
> 
> 赞同：-1
> 
> 时间：2013-02-14T04:52:08.067
> 
> 标签：excel-formula

如果我们有 45 岁或以上的人并且他们的服务年限为 2 年或以上，我想要一个公式的帮助`if`我必须能够进行 2 年的 vlookup 并给出终止员工通知期的结果.

*   年龄在 H24 是 45
*   在 C61 服务的年份是 1
*   R73 中的年份表 2 和 V73 中的通知期周数为 1。

我已经放了`in =IF(H24>=45,C61>=2,VLOOKUP(2,R73:V73,5,))`，这导致 FALSE 而不是 0 的结果。

如果我将 Years of service 更改为 2 我得到 - 我已经 put `in =IF(H24>=45,C61>=2,VLOOKUP(2,R73:V73,5,))`，这将导致 FALSE 而不是 0 的结果。

如果我将 Years of service 更改为 1 或 2 并且之前更改为 43 我得到 - 我已经输入`in =IF(H24>=45,C61>=2,VLOOKUP(2,R73:V73,5,))`，这将导致 FALSE 而不是 1 的结果。

帮助！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:15:23.487

听起来你的 IF 语句应该是这样的结构：

```
=IF(AND(H24>=45, C61>=2), Value-If-True, Value-If-False) 
```

因为您希望员工年满 45 岁或以上，服务年限为 2 年或以上。

此外，您还需要通过在 IF 块之外对其进行测试来仔细检查您的 VLOOKUP 行为是否符合预期，如下所示：

```
=VLOOKUP(2,R73:V73,5) 
```

检查该结果是否是您所期望的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-14T00:13:40.077

这个问题有很多不完全正确的地方，因此将其分开可能具有一定的教育价值。

下图中的上半部分表示您使用的语法以及为什么您的三个测试的结果是您发现的（除了我认为第二个测试会返回 TRUE 而不是 FALSE）：

![SO14868030 示例](../Images/8c99938517b522301c56cffa4e2e9ea1.png)

[IF](http://office.microsoft.com/en-gb/excel-help/if-HP005209118.aspx)函数语法的第一个元素是*logical_test*。在哪里`H24>=45`H24 是 45 的*value_if_true*（勾选，上分支）被评估（对于你的前两个测试）。正如您所指出的，对于第一个测试，C61`1`如此`=C61>=2`返回 FALSE。对于第二个测试，我相信它会返回 TRUE（尽管你想要一个数字）。

对于您的第三次测试，*logical_test*失败，第二次（带有交叉的较低分支）被采用。这与 VLOOKUP 函数发生了意外。

在较低的块中是@Samuel 的构造的表示。这里*logical_test*是复合的——两个元素（[AND](http://office.microsoft.com/en-gb/excel-help/and-function-HP010069828.aspx)）必须“通过”才能进入上层分支，图像中的*value_if_false*设置为`0`。

[但是VLOOKUP](http://office.microsoft.com/en-gb/excel-help/vlookup-HP005209335.aspx)也有一两个问题。这`V`是垂直的，提供的范围是水平的。因此，无论使用什么搜索词（*lookup_value* -`2`在上面的块中），结果总是会是 V73 中的任何内容，从您的测试来看，这似乎是`FALSE`返回 FALSE 的内容。该链接提到*table_array*需要“两列或多列数据”。

返回 V73 中的值的部分原因是尚未输入查找函数中的第四个参数 ( *range_lookup*`TRUE` )，假设为它。在这种情况下，“返回精确或近似匹配”。如果未找到完全匹配，则“返回小于 lookup_value 的下一个最大值”——前提是范围按升序排序，否则“VLOOKUP 可能无法给出正确的值”。

因此，对于查找函数，您需要根据数据布局决定是 VLOOKUP 还是 HLOOKUP，扩展至至少两列或两行，并且可能添加`FALSE`为第四个 ( *range_lookup* ) 参数。

# css - 在 LESS 中的属性名称中使用变量（动态属性/属性名称插值）

> ID：14868042
> 
> 赞同：31
> 
> 时间：2013-02-14T04:53:27.410
> 
> 标签：css, less, vendor-prefix

我注意到用 SASS 编写的 inuit.css 有一个 .vendor 混合：

```
@mixin vendor($property, $value...){
    -webkit-#{$property}:$value;
       -moz-#{$property}:$value;
        -ms-#{$property}:$value;
         -o-#{$property}:$value;
            #{$property}:$value;
} 
```

有没有办法在 LESS 中使用 e() 和 @{ } 等一些奇怪的功能来复制它？

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-03-15T22:20:06.143

## 更新：少 >= 1.6

从 1.6 版开始（参见**[变更日志](https://github.com/less/less.js/blob/master/CHANGELOG.md)**），属性名称插值在 LESS 中实现。所以你不再需要任何魔法了。（对于旧版本，请参阅我的原始答案。）

您的 mixin 基本上可以按原样工作：

较少的：

```
.vendor(@property; @value){
    -webkit-@{property}: @value;
       -moz-@{property}: @value;
        -ms-@{property}: @value;
         -o-@{property}: @value;
            @{property}: @value;
}

/*example*/
.test {
    .vendor(transform, translateX(20px));
} 
```

CSS：

```
.test {
  -webkit-transform: translateX(20px);
  -moz-transform: translateX(20px);
  -ms-transform: translateX(20px);
  -o-transform: translateX(20px);
  transform: translateX(20px);
} 
```

* * *

## 原始答案：LESS < 1.6

就我而言，less 没有添加对动态插入属性的支持，这在之前已经讨论过很多次了，请参阅：

*   [LESS CSS 用不同的前缀转义整个 CSS 规则？](https://stackoverflow.com/questions/14920935/less-css-escape-entire-css-rule-with-different-prefixes/14943680#14943680)

*   [通用的`vendors` mixin](https://stackoverflow.com/questions/7084150/generic-vendors-mixin)

*   [LESS 圆角桌](https://stackoverflow.com/questions/9530267/rounded-corner-tables-with-less)

所以它通常的做法是使用参数混合和模式匹配......所以它有点硬编码......但是属性和不同的供应商无论如何有时需要一些不同的参数格式，所以多一点控制以这种方式添加。

## 解决方法 #1：将动态生成的属性注入到属性值中

解决方法的第一个选项有点难看，但我试过了，它在[http://less2css.org](http://less2css.org/)上运行。因此，我尝试将动态创建的属性注入到您硬编码的另一个属性的值中（我只是在`-inj`这里给了一个随机的“供应商”名称并为其分配了值`ect`，但是如果您可能想要使用有用的东西代替已经在所有供应商 mixin 中添加了一个元素）

```
.vendors(@property, @value, @pre: ect) {
    -inj:~"@{pre}; -webkit-@{property}: @{value}; -moz-@{property}: @{value}; -ms-@{property}: @{value}; -o-@{property}: @{value}; @{property}: @{value}";
} 
```

我们可以在一个例子上试一试——也许值得一试……让我们尝试一下transform short：

**较少的：**

```
.test-class{
    .vendors(transform, matrix(1,0,0,1,20,20));
    .vendors(transform-origin,"10px 10px");
} 
```

**CSS 输出：**

```
.test-class {
    -inj: ect; -webkit-transform: matrix(1, 0, 0, 1, 20, 20); -moz-transform: matrix(1, 0, 0, 1, 20, 20); -ms-transform: matrix(1, 0, 0, 1, 20, 20); -o-transform: matrix(1, 0, 0, 1, 20, 20); transform: matrix(1, 0, 0, 1, 20, 20);
    -inj: ect; -webkit-transform-origin: 10px 10px; -moz-transform-origin: 10px 10px; -ms-transform-origin: 10px 10px; -o-transform-origin: 10px 10px; transform-origin: 10px 10px;
} 
```

这似乎产生了有效的css，但感觉有点不对=）

* * *

## 解决方法 #2：将动态生成的属性注入到以下类的名称中（最高 v1.3.3）

所以我对这个想法进行了更多尝试......并想到了一种不会产生不必要属性的方法。它将动态创建的属性注入到下一个类的名称中。让我告诉你我是如何让它工作的：

**1）**让我们定义一个通用的vendor mixin（该`@rest`参数将用于稍后排列多个vendor块）

```
.vendors(@property, @value, @rest:"") {
    @inject:~"@{rest} -webkit-@{property}: @{value}; -moz-@{property}: @{value}; -ms-@{property}: @{value}; -o-@{property}: @{value}; @{property}: @{value};";
} 
```

**2)**构造一个我们希望供应商包含在其中的虚拟类/规则集，但我们将其作为一个 mixin，最后构造下一个类 - 所以我们确实创建了一个将递归构建两个或多个类的 mixin。例如（使用与上面相同的示例）我们可以编写如下内容（注意`@inject`在第二次`.vendor()`调用中使用 将两个供应商块绑定在一起）：

```
.test(@nextclass){
    .vendors(transform, "matrix(2,0,0,2,20,20)");
    .vendors(transform-origin,"10px 10px", @inject);
    (~"{@{inject}} .@{nextclass}"){/*next class properties*/};
} 
```

**3)**现在我们将这个 mixin 包装到另一个类中以在 css 中显示：

```
.this-class{
    .test(next-class);
} 
```

生成的**CSS**将包括：

```
.this-class {
  -webkit-transform: matrix(2, 0, 0, 2, 20, 20);
  -moz-transform: matrix(2, 0, 0, 2, 20, 20);
  -ms-transform: matrix(2, 0, 0, 2, 20, 20);
  -o-transform: matrix(2, 0, 0, 2, 20, 20);
  transform: matrix(2, 0, 0, 2, 20, 20);
  -webkit-transform-origin: 10px 10px;
  -moz-transform-origin: 10px 10px;
  -ms-transform-origin: 10px 10px;
  -o-transform-origin: 10px 10px;
  transform-origin: 10px 10px;
}
.next-class {
  /*next class properties*/
} 
```

输出将全部在一行中。

**编辑：**要获得更好的格式，您可以包含 and 的 javascript 插值`"\n"`，`"\t"`请参阅下面评论中 Scott 的建议。

这样，您现在可以使用供应商 mixin 链接多个类，而无需任何不必要的属性。

* * *

## 解决方法 #3：使用递归将动态生成的属性注入到以下类 (v1.4.0) 的名称中

我之所以添加这个原因，是因为 Scott 在其中一个评论中指出，1.4 版带来的更改不允许使用解决方法 #2。但如果我们有一点足智多谋，我们可以克服这个问题。让我们看看上述解决方法的问题是什么并修复它们。

**1）第一个问题**是“`(~".@{index}") { ...`不推荐使用选择器插值”，因此我们需要在单独的步骤中进行字符串插值。实现这一点就足以`.vendors`从上面注入一个 mixin。

**少：（**使用斯科特的换行建议）：

```
@nl: `"\n\t"`;        
.vendors(@property, @value) {
    @inject:~"@{nl}-webkit-@{property}: @{value};@{nl}-moz-@{property}: @{value};@{nl}-ms-@{property}: @{value};@{nl}-o-@{property}: @{value};@{nl}@{property}: @{value};";
}
.test(@nextclass){
    .vendors(transform, "matrix(2,0,0,2,20,20)");
    @inj: ~"{@{inject}`'\n'`} `'\n'`.@{nextclass}";
    @{inj} {/*next class properties*/}
}
.this-class{
    .test(next-class);
} 
```

**CSS 输出：**

```
.this-class {
    -webkit-transform: matrix(2,0,0,2,20,20);
    -moz-transform: matrix(2,0,0,2,20,20);
    -ms-transform: matrix(2,0,0,2,20,20);
    -o-transform: matrix(2,0,0,2,20,20);
    transform: matrix(2,0,0,2,20,20);
} 
.next-class {
    /*next class properties*/
} 
```

**2）第二个问题**是“mixin 中的变量不再‘泄漏’到它们的调用范围内”，但我注意到在 1.4.0 beta 中，如果一个变量只在 mixin 中引入，它仍然可以从包括规则集，因此只需一点递归，您就可以构造`.vendors`块，并在最后一步将它们分配给一个新变量，然后将其用于注入。我也很兴奋，使用了`extract()`这个版本的less引入的新功能。使用变量`@i`，我们分配递归级别（要注入的供应商块的数量）。

**较少的：**

```
@nl: `"\n\t"`; 
.multi(@props,@vals,1,@inj) {
    @property: extract(@props, 1);
    @value: extract(@vals, 1);
    @inject:~"@{inj}@{nl}-webkit-@{property}: @{value};@{nl}-moz-@{property}: @{value};@{nl}-ms-@{property}: @{value};@{nl}-o-@{property}: @{value};@{nl}@{property}: @{value};";
}

.multi(@props,@vals,@i,@inj:"") when (@i > 0) {
    @property: extract(@props, @i);
    @value: extract(@vals, @i);
    @injnext:~"@{inj}@{nl}-webkit-@{property}: @{value};@{nl}-moz-@{property}: @{value};@{nl}-ms-@{property}: @{value};@{nl}-o-@{property}: @{value};@{nl}@{property}: @{value};";
    .multi(@props,@vals,(@i - 1),@injnext);
}

@properties: "transform-origin" "transform";
@values: "10px 10px" "matrix(2,0,0,2,20,20)";

// string of other properties you want to include in the same class
@p: ~"@{nl}width:20px; @{nl}height:12px; @{nl}background-color:#000;";

.this-class {
    .multi(@properties,@values,2,@p);
    @inj: ~"{@{inject}`'\n'`} `'\n'`.next-class ";
    @{inj} {/**/}
} 
```

**CSS 输出：**

```
.this-class {
  width:20px;
  height:12px;
  background-color:#000;
  -webkit-transform: matrix(2, 0, 0, 2, 20, 20);
  -moz-transform: matrix(2, 0, 0, 2, 20, 20);
  -ms-transform: matrix(2, 0, 0, 2, 20, 20);
  -o-transform: matrix(2, 0, 0, 2, 20, 20);
  transform: matrix(2, 0, 0, 2, 20, 20);
  -webkit-transform-origin: 10px 10px;
  -moz-transform-origin: 10px 10px;
  -ms-transform-origin: 10px 10px;
  -o-transform-origin: 10px 10px;
  transform-origin: 10px 10px;
}
.next-class {
  /*next class properties*/
} 
```

现在这在 1.4.0 测试版中对我来说效果很好，但让我们看看未来会带来什么。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-10T03:40:08.487

我只是想补充一点，您可以使用“减号”作为属性名称，解析器会忽略它，但会添加字符串的其余部分。这样你就不会得到一个空的`inject:;`或 inj 属性。它仍然很老套，但是嘿...... :)

```
.prefix(@property, @value) {
    -:~";-webkit-@{property}: @{value}; -moz-@{property}: @{value}; -ms-@{property}: @{value}; -o-@{property}: @{value}; @{property}: @{value}";
} 
```

**例子：**

```
.prefix(transition, "all .2s, color 0s"); 
```

**将输出：**

```
-webkit-transition: all .2s, color 0;
-moz-transition: all .2s, color 0;
-ms-transition: all .2s, color 0;
-o-transition: all .2s, color 0;
transition: all .2s, color 0; 
```

# silverlight - ItemsControl + Textbox + MVVM + EventTrigger 未触发

> ID：14868043
> 
> 赞同：1
> 
> 时间：2013-02-14T04:53:35.647
> 
> 标签：silverlight, xaml, mvvm, eventtrigger

由于我将 View 移到 ItemsControl 中，因此无法在 ViewModel 中触发 EventTrigger。这是我的命令声明，应该在 LostFocus 上触发：

```
public ICommand UpdateOrdersCommand { get; set; }
public void UpdateOrders(object param)
{
    UpdateFields();
} 
```

我的容器 XAML：

```
<UserControl.Resources>
  <WMS:PurchasingModel x:Key="ViewModel" />
  <DataTemplate x:Key="myDataTemplate1">
    <WMSViews:Purchasing1 />
  </DataTemplate>
</UserControl.Resources>

<Grid x:Name="LayoutRoot"
      Background="White"
      DataContext="{StaticResource ViewModel}">
  <ItemsControl ItemsSource="{Binding Path=ColPurchasing}"
                ItemTemplate="{StaticResource     myDataTemplate1}">
    <ItemsControl.ItemsPanel>
      <ItemsPanelTemplate>
        <StackPanel Orientation="Vertical" />
      </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
  </ItemsControl>
</Grid> 
```

我的观点，这个 EventTrigger 曾经在 LostFocus 上触发：

```
<Classes:TextBoxEx TabIndex="1"
                   x:Name="tbFoodSales"
                   HorizontalAlignment="Left"
                   Height="23"
                   Margin="55,79,0,0"
                   TextWrapping="Wrap"
                   VerticalAlignment="Top"
                   Width="61"
                   TextAlignment="Right"
                   Text="{Binding Path=FoodSales, Mode=TwoWay}">
  <i:Interaction.Triggers>
    <i:EventTrigger EventName="LostFocus">
      <i:InvokeCommandAction Command="{Binding UpdateOrdersCommand}" />
    </i:EventTrigger>
  </i:Interaction.Triggers>
</Classes:TextBoxEx> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T10:36:54.853

您可以通过这种方式与元素绑定：

```
<Classes:TextBoxEx TabIndex="1"
                   x:Name="tbFoodSales"
                   HorizontalAlignment="Left"
                   Height="23"
                   Margin="55,79,0,0"
                   TextWrapping="Wrap"
                   VerticalAlignment="Top"
                   Width="61"
                   TextAlignment="Right"
                   Text="{Binding Path=FoodSales, Mode=TwoWay}">
  <i:Interaction.Triggers>
    <i:EventTrigger EventName="LostFocus">
      <i:InvokeCommandAction Command="{Binding ElementName=UserControlName, Path=DataContext.UpdateOrdersCommand}" />
    </i:EventTrigger>
  </i:Interaction.Triggers>
</Classes:TextBoxEx> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:57:01.350

“UpdateOrdersCommand”绑定将在实际项目上查找该命令。EG 如果“ColPurchasing”是“Purchase”对象的集合，它将尝试查找 Purchase.UpdateOrdersCommand

我猜你的 UpdateOrdersCommand 实际上在你的“ViewModel”类中

根据您的结构，以下可能有效

```
Command="{Binding ElementName=LayoutRoot, Path=DataContext.UpdateOrdersCommand}" /> 
```

这告诉绑定在 LayoutRoot 的 DataContext 上查找命令，在您的情况下应该是您的“ViewModel”。这适用于 Silverlight 并且可能适用于 WPF，但如果您使用的是 WPF，我认为使用 RelativeSource 绑定有更好的方法。

另一种选择是将“LostFocus”命令添加到您的项目的 ViewModel (EG Purchase.LostFocus) 并绑定到此。然后，您可以让此命令调用父“ViewModel”类的 UpdateOrders 方法，或者让它引发“ViewModel”侦听的事件。

输出窗口（调试 > 窗口 > 输出）是我有一段时间没有发现的有用的东西。这显示了失败的绑定以及尝试解析的绑定路径。

# android - SQLite 查询是否应该在 Async Task Android 中

> ID：14868044
> 
> 赞同：0
> 
> 时间：2013-02-14T04:53:37.267
> 
> 标签：android, android-asynctask, android-contentprovider, android-syncadapter

我将通过使用帐户身份验证为用户创建帐户来为我的应用程序实现一个抽象同步适配器。这意味着我所有的 REST 方法调用都将被放入同步服务中以完成。我与此相关的问题是，我的所有 contentprovider 调用是否应该从一个单独的线程（如异步任务）完成？或者我应该创建一个扩展异步任务的单独类？我只想知道我的应用程序的最佳实践。

如果有人有任何带有同步适配器的实现示例，那将是很棒的，尽管这似乎不太可能，因为我到处都看过。

感谢您的任何建议！

# javascript - 如何让 Dijit Editor 保留？

> ID：14868049
> 
> 赞同：1
> 
> 时间：2013-02-14T04:54:13.200
> 
> 标签：javascript, editor, dojo, html-entities

Dijit 编辑器`&nbsp;`从用户输入中删除所有实体。

使用 Dijit 编辑器，进入 HTML 模式，在里面输入一些文本`&nbsp;`。回到 WYSIWYG 模式，回到 HTML 模式，然后看到你的实体消失了。

有什么解决方法吗？

HTML

```
<h1>Test file for Editor &amp;nbsp support</h1>
<div id="br" data-dojo-type="dijit.Editor" data-dojo-props='plugins:["viewsource"]'><p>a&nbsp;b</p></div> 
```

Javascript

```
require(['dijit/dijit', 'dijit/Editor', 'dijit/_editor/plugins/ViewSource', 'dojo/parser'], function(dijit, editor, viewSource, parser){}); 
```

同样在这里玩：http: [//jsfiddle.net/ABaYL/2/](http://jsfiddle.net/ABaYL/2/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T08:32:53.910

我认为这个问题与道场无关。

实体并没有消失。它被转换成它的性格。实体“ ” 被转换为其表示为字符“”。所以实体表示仍然存在。如果要显示 ，写“&nbsp;” 没有空格，但我想你已经知道了，因为你设法显示   在你的帖子里。甚至 stackoverflow 编辑器也会过滤   对其表示。

看看这里：

[http://www.web2generators.com/html/entities](http://www.web2generators.com/html/entities)

# java - 数组列表 克隆（）

> ID：14868050
> 
> 赞同：0
> 
> 时间：2013-02-14T04:54:15.787
> 
> 标签：java, performance, arraylist, clone

我有一个关于 Java 中 ArrayList 的 clone() 方法的问题。

```
ArrayList<HeavyOjbect> original = new ArrayList<HeavyOjbect>();
original.add(new HeavyOjbect(0));
original.add(new HeavyOjbect(1));
original.add(new HeavyOjbect(2));
ArrayList<Integer> copy = original;
copy.remove(0); 
```

原始 -> [HeavyOjbect1，HeavyOjbect2]

复制-> [HeavyOjbect1，HeavyOjbect2]

现在使用 clone() 方法

```
ArrayList<HeavyOjbect> original = new ArrayList<HeavyOjbect>();
original.add(new HeavyOjbect(0));
original.add(new HeavyOjbect(1));
original.add(new HeavyOjbect(2));
ArrayList<Integer> copy = (ArrayList<HeavyOjbect>) original.clone();
copy.remove(0); 
```

原始 -> [HeavyOjbect0，HeavyOjbect1，HeavyOjbect2]

复制-> [HeavyOjbect1，HeavyOjbect2]

正确的 ？

但我不知道克隆是做什么的。它会克隆每个 HeavyObject 吗？我的意思是如果克隆 1000 倍我的 ArrayList，内存会爆炸吗？

**编辑：所以克隆**

```
new HeavyOjbect(0) -> @10
new HeavyOjbect(1) -> @20
new HeavyOjbect(1) -> @30

original(ref1 to @10, ref1 to @20, ref1 to @30)
copy(ref2 to @10, ref2 to @20, ref2 to @30) 
```

正确的 ？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T04:56:56.883

[http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#clone()](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#clone())

> public Object clone()
> 返回此 ArrayList 实例的浅表副本。（元素本身不会被复制。）

只复制对您的 s 的*引用；*`HeavyObject`每个克隆`ArrayList`都将包含对完全相同对象的引用。不会创建新`HeavyObject`的 s。

**编辑添加：**这是“浅”和“深”副本之间的区别。如果它是一个深层副本，那么每个副本`HeavyObject`也会被制作，正如你所说......你的记忆会爆炸。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:02:33.237

clone() method is used to create a copy of an object of a class which implements Cloneable interface. By default it does field-by-field copy as the Object class doesn't have any idea in advance about the members of the particular class whose objects call this method. So, if the class has only primitive data type members then a completely new copy of the object will be created and the reference to the new object copy will be returned. But, if the class contains members of any class type then only the object references to those members are copied and hence the member references in both the original object as well as the cloned object refer to the same object. So it will not does any memory explode.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T04:57:34.310

在这份声明中

```
ArrayList<Integer> copy = original; 
```

您正在引用`copy`引用也指向`original`对象。

如果您通过`copy`引用修改对象，它也会在`original`对象上发生变化。

**克隆：**

clone() 方法将提供同一对象的另一个副本，因此如果您更改`copy`对象，它将反映在`original`对象中。

# telerik - 无法在竹子上使用 Nunit 运行 Telerik 测试；启动浏览器时出现异常

> ID：14868051
> 
> 赞同：1
> 
> 时间：2013-02-14T04:54:16.437
> 
> 标签：telerik, continuous-integration, nunit, bamboo, telerik-test-studio

此消息是关于我目前面临的问题。下面给出的步骤描述了我正在做什么以及我卡在哪里的过程。

1.  我通过 Visual Studio 2010 在 Telerik 测试工作室中创建了功能测试用例
2.  将其转换为 Nunit 单元测试用例。
3.  创建的 Nunit 测试用例通过 Nunit runner (CI) 连接到 Bamboo Continuous Integration Server
4.  Telerik 测试工作室 Nunit 项目在连接到 CI 服务器时不起作用
5.  检测到错误：-

这是错误日志。

> System.NullReferenceException ：对象引用未设置为对象的实例。

错误和失败：

> 测试错误：NUnitLoginTest.WebTest1UnitTest.SampleWebAiiTest System.NullReferenceException：对象引用未设置为对象的实例。在 ArtOfTest.WebAii.Core.Manager.SetupDialogMonitoring() 在 ArtOfTest.WebAii.Core.Manager.LaunchNewBrowser(BrowserType browserToLaunch, Boolean waitForBrowserToConnect, ProcessWindowStyle windowStyle, String arguments) 在 ArtOfTest.WebAii.Core.Manager.LaunchNewBrowser(BrowserType browserToLaunch) 在E:\Anu\Payroll\virtual\NUnitLoginTest\NUnitLoginTest\WebTest1UnitTest.cs:line 140 中的 NUnitLoginTest.WebTest1UnitTest.SampleWebAiiTest()

注意：在本地机器上运行测试时，我遇到了同样的错误。我正在使用控制台启动 Bamboo。

已经尝试在 Windows 服务上启用“允许服务与桌面交互”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T23:53:55.590

您是正确的，Bamboo 必须在控制台模式下运行。如果您还没有发现，那么您的 UI 测试机器必须有一个活动桌面才能进行 UI 测试。我们的墙板机位于远离其大型壁式显示器的壁橱中，恰好有一个未用于任何用途的面板，现在，通过远程桌面，它始终保持 UI 测试机处于活动状态。

我已经实现了你正在尝试的东西，但有点不同。我是一名软件开发人员，还管理我们的构建服务器。我们的测试团队使用 Telerik Test Studio，只希望以最简单的方式让一组 UI 测试每隔几个小时运行一次。上面提到的我们的一台构建机器现在负责此任务，并且已经安装了 Test Studio 的 ArtOfTest.Runner 部分。

我们的测试人员使用测试列表功能 (mytests.ailist)，但我知道这也适用于单个测试 (mytest.tstest)。该项目只有一次导出到 Visual Studio。之后，他们只是构建测试并将它们添加到测试列表中。他们的整个解决方案是源代码控制。我确实修改了所有组件的 bin 部署的 vs 项目，以确保所有 dll 都到达构建机器。

遵循 ArtOfTest.Runner 安装说明后，您应该能够从任何路径运行它。所以在构建机器上试试这个：[AnyPath]\ArtOfTest.Runner C:[full path to test or list file]

如果你能让它发挥作用，那么你就是那里的 1/2 路。

为了用 Bamboo 开始这个，我们这样做：

1.  从源代码管理中签出整个项目
2.  构建它（确保 dll 进入 bin）
3.  使用 NAnt 脚本启动测试

最初使用 NAnt 脚本的原因是因为我们不知道我们的路径是否始终相同并且需要计算它。虽然我们现在总是知道路径，但它仍然使事情变得更简单。

竹任务配置：

```
Executable: NAnt
Build File: [Relative path from root of project]\RunMyTestList.build
Targets: all
Environment Variable: LIST="OneSetOfTests.aiilist" 
```

RunMyTestList.build NAnt 脚本如下所示：

```
<?xml version="1.0"?>
<project default="all">
    <property name="ArtOfTest.Executable" value="ArtOfTest.Runner.exe" />
    <property name="ArtOfTest.ListFile" value="${path::get-full-path(environment::get-variable('LIST'))}" />
    <property name="returncode" value="" />
    <target name="all">
        <echo message="Start ArtOfTest.Runner: ${ArtOfTest.ListFile}" />
        <exec program="${ArtOfTest.Executable}"
                resultproperty="returncode"
                commandline="list=&quot;${ArtOfTest.ListFile}&quot;"
                failonerror="true"/>
        <echo message="Finish ArtOfTest.Runner: ${returncode}"/>
    </target>
</project> 
```

所以现在测试将运行。但是我们只会在构建中获得成功或失败，而不是您（和我）可能想要的 Bamboo 的详细列表。这是因为它实际上是一个 NAnt 脚本而不是一个测试。但这最终成为一种祝福。ArtOfTest.Runner 编写非常好的结果文件，比任何单元测试日志都要好。我们不得不与测试人员共享构建机器上的结果文件夹，他们通常无法访问，但现在他们可以映射该共享并在 Test Studio 中打开结果文件，甚至查看分步屏幕截图。

我不认为这个配置是完美的，我可能会更多地调整它。我们的关键项目是我们使用 Bamboo 进行所有构建、测试和部署，因此我们对使用其他任何东西来启动 UI 测试没有兴趣。到目前为止，每个人都非常高兴。希望我能帮上忙。

# android - SQLite 为什么我们将 db 复制到 assets 文件夹中

> ID：14868052
> 
> 赞同：3
> 
> 时间：2013-02-14T04:54:46.323
> 
> 标签：android, sqlite

有一种混乱。

在很多例子中，我发现他们正在处理文件夹`database`中。`assets`

我不知道他们为什么这样做。这样做有什么好处。

有人能解释一下吗？请

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T05:10:09.177

具有默认数据和表结构的数据库通常是预先构建的并包含在 assets 文件夹中。然后我们在运行时将其从 assets 文件夹复制到内部或外部存储中，因为 assets 文件夹仅在编译时准备好，我们无法修改其中的数据。因此，为了能够从我们的应用程序写入数据库，我们必须首先将其复制到我们可以访问的存储空间的一部分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:05:26.313

有时，您可能希望拥有准备好的数据的 db。想想地址簿或邮政编码的东西。如果您不将这些信息放在资产文件夹中，那么构建基本信息会很痛苦（当然，您可以通过网络获取数据，但这不是重点）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T09:26:10.060

有一些很好的理由，例如：

`Android`1-使用一些 GUI 工具（如`SQLiteBrowser`等）很容易在环境之外创建您的数据库。

2-如果你想有一些`default`数据，你可以很容易地做到。您可以在外部插入插入您的默认数据`Android envirenment`。

# scroll - -webkit-overflow-scrolling:touch 和“点击状态栏滚动到顶部”

> ID：14868053
> 
> 赞同：15
> 
> 时间：2013-02-14T04:54:48.400
> 
> 标签：scroll, mobile-safari, vertical-scrolling, mobile-webkit

[在 iPhone 上导航到这个 fiddle](http://cdpn.io/DtGyK)并注意即使有`-webkit-overflow-scrolling:touch`声明，“点击到顶部”功能仍然有效。这是在运行 iOS 6.1 的 iPhone 4 和运行 iOS 5.0.1 的 iPhone 4S 上测试的。

这个测试提出了一个问题：**声明是否`-webkit-overflow-scrolling:touch`会影响 iOS 中的“*点击状态栏滚动到顶部*”行为？**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-09-08T17:12:44.020

如果您放置`-webkit-overflow-scrolling:touch`除 之外的任何元素`document.body`，它将破坏默认的*点击状态栏以滚动到顶部*行为。

GitHub 上有一个小脚本，可以[替代缺少的滚动到顶部的 iOS 溢出滚动](http://prud.github.io/ios-overflow-scroll-to-top/)。您可以将它放在您的应用程序标题中以实现几乎相同的结果。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-14T17:21:19.243

根据我的经验，它确实会影响它。我不知道有一种方法可以让这两个功能同时工作，至少从 iOS 6.1 开始。

我也有来自[jQuery Mobile 文档](http://jquerymobile.com/test/docs/pages/touchoverflow.html)的引用来支持这一点：

> -webkit-overflow-scrolling:touch 属性似乎禁用了在状态栏中点击时间时将您滚动到页面顶部的事件。我们希望 Apple 修复此问题，因为它是一个非常有用的功能。

很遗憾 Apple 将其设置为这样，因为我也很想使用此功能，但滚动到顶部的功能对我来说更重要。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-23T00:09:05.960

您的小提琴不会破坏“点击状态栏以滚动到顶部”行为，因为您已应用于`-webkit-overflow-scrolling: touch;`元素`body`。如果将其应用于`body`行为中断内的任何元素。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-15T21:25:40.090

有办法解决这个问题 - <a href="http://www.artspot.eu/blog/2010/12/29/extending-iscroll-scroll-to-the-top-by-tapping-the-status-bar /" rel="nofollow">http://www.artspot.eu/blog/2010/12/29/extending-iscroll-scroll-to-the-top-by-tapping-the-status-bar/

> iScroll 的创建者 Matteo Spinelli 在[推文](http://twitter.com/#!/Cubiq/status/20032230675972096)中透露，实际上实现这一点并不难。当您点击状态栏时，会触发窗口对象上的滚动事件。使用事件侦听器，您可以轻松调用 scrollTo 函数以滚动到列表顶部。
> 
> ```
> window.addEventListener('scroll', function(){
>   yourscrollobject.scrollTo(0,0,duration);
> }, false); 
> ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-28T16:19:59.250

正如这里的大多数答案所指出的那样，放置`-webkit-overflow-scrolling: touch`除 document.body 以外的任何元素都会导致问题。如果您使用的是固定标头并且不想添加任何依赖项，那么对于使用 JQuery 的任何人来说，这应该可以解决问题：

```
$('.fixed-header').on('click',function(e){
    var $scrollingElement = $('.scrolling-element');

    $scrollingElement.css('overflow','hidden');
    $scrollingElement.animate({ scrollTop: 0 }, "fast", function() {
        $scrollingElement.css('overflow','auto');
    });
}); 
```

切换`overflow`属性的目的是用于使用动量滚动的设备。这会立即停止任何动量并执行滚动动画。我将滚动元素设为变量，这样我们就不会不必要地多次查询 DOM。希望这可以帮助别人。如果您宁愿放手，链接到的 github 项目 @patrick 看起来是另一个很棒的解决方案。

# asp.net - 如何在 ASP 中单击保存网格视图的所有行值

> ID：14868054
> 
> 赞同：1
> 
> 时间：2013-02-14T04:54:54.663
> 
> 标签：asp.net, gridview, datagridview

您好，我正在尝试通过单击保存所有 gridview 值。

这是我尝试过的代码。

```
protected void imgbtnSave_Click(object sender, ImageClickEventArgs e)
{
     // DAL and Other Code here

 foreach (GridViewRow row in gvServicePort.Rows)
    {
      Label _lblOneID = gvServicePort.Rows[row.RowIndex].FindControl("lblOneID") as Label;
        objserRtnDtls.TerminalID = Convert.ToInt16(_lblOneID .Text);

     RadioButton _lblTwo = gvServicePort.Rows[row.RowIndex].FindControl("rdDirectPOL") as RadioButton;   

         if (_lblIsPOL.Checked == true)
            objserRtnDtls.IsPOL = true;
        else
            objserRtnDtls.IsPOL = false;  
         int i = dalSPM.ServicePort_Update(objserRtnDtls, objSerRtn);
} 
```

但是在这里，对于前两次迭代，我将返回值作为 1，然后返回 0，并且它没有保存在 DB 中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:19:04.757

一个问题可能是_lblTwo 从未用于填充objserRtnDtls。我假设它可能是 _lblIsPOL。我根据这个假设调整了下面的代码。

根据上面的评论，我还包括了对 DataRow 的检查（优秀点 mshsayem）。

```
protected void imgbtnSave_Click(object sender, ImageClickEventArgs e)
{
    // DAL and Other Code here

    foreach (GridViewRow row in gvServicePort.Rows)
    {
        if (row.RowType == DataControlRowType.DataRow)
        {
            // wire up the controls in this row
            Label _lblOneID = (Label)row.FindControl("lblOneID");
            RadioButton _rdIsPOL = (RadioButton)row.FindControl("rdDirectPOL"); // renamed _lblTwo to _rdIsPOL

            // load the control data into your object
            objserRtnDtls.TerminalID = Convert.ToInt16(_lblOneID.Text);
            objserRtnDtls.IsPOL = _rdIsPOL.Checked; // renamed _lblIsPOL to _rdIsPOL to match the RadioButton above

            // attempt to update the database
            int i = dalSPM.ServicePort_Update(objserRtnDtls, objSerRtn);
        }
    }
} 
```

另一个问题是，您可能需要考虑在每次 foreach 迭代结束时重置 objserRtnDtls，这样您就不会意外留下对象最后一行的旧数据。如果您有重复的数据并尝试插入，如果 TerminalID 在您的数据库中应该是唯一的，则它可能会失败。我不知道 objSerRtn 做了什么，所以你必须在那里自己判断。

# java - 如何将两个 6 位二进制值组合成一个 12 位二进制值并转换为 int？

> ID：14868055
> 
> 赞同：-1
> 
> 时间：2013-02-14T04:55:12.707
> 
> 标签：java, binary, int

我有一个 ADC，它输出一个 12 位的值，每个位由真或假表示。如何将其转换为 int？

例如：

**12位值为111111000001**

```
//getLevel returns true or false
boolean bit0 = getLevel(channel0);//true
boolean bit1 = getLevel(channel1);//true
boolean bit2 = getLevel(channel2);//true
boolean bit3 = getLevel(channel3);//true
boolean bit4 = getLevel(channel4);//true
boolean bit5 = getLevel(channel5);//true
boolean bit6 = getLevel(channel6);//false
boolean bit7 = getLevel(channel7);//false
boolean bit8 = getLevel(channel8);//false
boolean bit9 = getLevel(channel9);//false
boolean bit10 = getLevel(channe10);//false
boolean bit11 = getLevel(channe11);//true

///do something to convert bit0 - bit11 to an int == 4033 
```

任何想法如何去做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:00:17.593

将位存储在 BitSet 中。

```
BitSet bits = new BitSet();
//set the bit fields...

//convert bitset to integer
int bitInteger = 0;
for(int i = 0 ; i < bits.length(); i++) {
    if(bits.get(i)) {
        bitInteger |= (1 << i);   //logical OR each bit into the integer and shift left
    }
} 
```

# java - 如何使用pdfbox获取字段的位置？

> ID：14868059
> 
> 赞同：7
> 
> 时间：2013-02-14T04:55:42.943
> 
> 标签：java, pdfbox

我被困在一个领域。我需要`PDAcroForm`在一个 pdf 中识别字段的位置。我需要对字段的 x 和 y 值进行一些处理。

知道怎么做吗？COS 对象中是否存在信息？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-15T14:29:43.190

我今天遇到了同样的问题。以下代码适用于我的情况：

```
private PDRectangle getFieldArea(PDField field) {
  COSDictionary fieldDict = field.getDictionary();
  COSArray fieldAreaArray = (COSArray) fieldDict.getDictionaryObject(COSName.RECT);

  float left = (float) ((COSFloat) fieldAreaArray.get(0)).doubleValue();
  float bottom = (float) ((COSFloat) fieldAreaArray.get(1)).doubleValue();
  float right = (float) ((COSFloat) fieldAreaArray.get(2)).doubleValue();
  float top = (float) ((COSFloat) fieldAreaArray.get(3)).doubleValue();

  return new PDRectangle(new BoundingBox(left, bottom, right, top));
} 
```

编辑：karthicks 代码更短。所以我现在使用这段代码：

```
private PDRectangle getFieldArea(PDField field) {
  COSDictionary fieldDict = field.getDictionary();
  COSArray fieldAreaArray = (COSArray) fieldDict.getDictionaryObject(COSName.RECT);
  PDRectangle result = new PDRectangle(fieldAreaArray);
  return result;
} 
```

如果要测试返回的矩形是否正确，可以使用此代码：

```
private void printRect(final PDPageContentStream contentStream, final PDRectangle rect) throws IOException {
  contentStream.setStrokingColor(Color.YELLOW);
  contentStream.drawLine(rect.getLowerLeftX(), rect.getLowerLeftY(), rect.getLowerLeftX(), rect.getUpperRightY()); // left
  contentStream.drawLine(rect.getLowerLeftX(), rect.getUpperRightY(), rect.getUpperRightX(), rect.getUpperRightY()); // top
  contentStream.drawLine(rect.getUpperRightX(), rect.getLowerLeftY(), rect.getUpperRightX(), rect.getUpperRightY()); // right
  contentStream.drawLine(rect.getLowerLeftX(), rect.getLowerLeftY(), rect.getUpperRightX(), rect.getLowerLeftY()); // bottom
  contentStream.setStrokingColor(Color.BLACK);
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-07-08T09:14:40.603

接受的答案不再起作用。我已经尝试过这种方法并收到`NullPointerException`了一些元素。在 PDFBOX 2.x 中，您无需直接查询 COS 对象树即可获取矩形。

有关字段位置的信息存储在`PDAnnotationWidget`. 可以有更多与该字段关联的小部件。获取第一个（不检查这些是否为一个）。

```
PDRectangle rectangle = field.getWidgets().get(0).getRectangle(); 
```

要获得所有矩形（如果可以有更多）：

```
List<PDRectangle> rectangles = field.getWidgets().stream().map(PDAnnotation::getRectangle).collect(Collectors.toList()); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-18T05:40:27.960

我能够得到这样的细节

```
 COSDictionary trailer = document.getDocument().getTrailer();
   COSDictionary root = (COSDictionary) trailer.getDictionaryObject(COSName.ROOT);
   COSDictionary acroForm = (COSDictionary) root.getDictionaryObject(COSName.getPDFName("AcroForm"));
   if (null != acroForm) {
    COSArray fields1 = (COSArray) acroForm.getDictionaryObject(COSName.getPDFName("Fields"));
    for (int l = 0; l < fields1.size(); l++) {
     COSDictionary field = (COSDictionary) fields1.getObject(l);
     COSArray rectArray= (COSArray)field.getDictionaryObject("Rect");
     PDRectangle mediaBox = new PDRectangle( rectArray ); 
System.out.println("mediaBox: " + mediaBox.getLowerLeftX()  +"||" +mediaBox.getLowerLeftY());
System.out.println("mediaBox: " + mediaBox.getUpperRightX()  +"||" + mediaBox.getUpperRightY()); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-10-21T05:52:07.813

使用以下代码获取最新的 PdfBox 依赖版本

```
private PDRectangle getFieldArea(PDField field) {
    COSDictionary fieldDict = field.getCOSObject();
    COSArray fieldAreaArray = (COSArray) fieldDict.getDictionaryObject(COSName.RECT);
    PDRectangle rectangle = new PDRectangle(fieldAreaArray);
    System.out.println(rectangle);
    return rectangle;
} 
```

# javascript - ajax初学者，请帮助（php中的json编码和ajax中的数据变量）

> ID：14868064
> 
> 赞同：2
> 
> 时间：2013-02-14T04:55:54.007
> 
> 标签：javascript, jquery, ajax

javascript 和 ajax 的初学者。我浪费了两天时间无法解决这个问题......

我有processor.php，其中包含：`echo json_encode('ok');`

我的 ajax 将表单提交到该文件并收到响应正常。

现在我想在我的函数中使用它：

```
success: function (data) {
if (data == "ok") {
//do smth
} 
```

不幸的是，如果这永远不会评估为真。

我检查警报（数据）；在成功函数内部，我得到“好的”

这里有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:11:32.773

`json_encode('ok')`是`"ok"`，不是`ok`。尝试比较`data == '"ok"'`，或以其他方式处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:34:58.023

将其更改`echo json_encode('ok');`为`echo 'ok'`;

# appdomain - AppDomain.Unload 的错误？

> ID：14868065
> 
> 赞同：1
> 
> 时间：2013-02-14T04:55:59.927
> 
> 标签：appdomain

[我已经实现了与如何加载 .NET 程序集以进行反射操作并随后卸载它](https://stackoverflow.com/questions/225330/how-to-load-a-net-assembly-for-reflection-operations-and-subsequently-unload-it)的第 4 个答案类似的代码？

当我尝试加载两个程序集，一个调试和另一个版本时，我收到 FileLoadException，并显示消息“无法从同一应用程序域中的新位置加载”

我正在使用的代码是：

```
private String rootAssembly;

private void button1_Click(object sender, EventArgs e)
{
    rootAssembly = "{...path to release version...}\TestApp.exe";
    TempLoadAssembly();
}

private void button2_Click(object sender, EventArgs e)
{
    rootAssembly = "{...path to debug version...}\TestApp.exe";
    TempLoadAssembly();
}

public void TempLoadAssembly()
{
    AppDomain tempDomain = AppDomain.CreateDomain("TemporaryAppDomain");
    tempDomain.DoCallBack(LoaderCallback);
    AppDomain.Unload(tempDomain);
}

private void LoaderCallback()
{
    Assembly assembly = Assembly.ReflectionOnlyLoadFrom(rootAssembly);
    IList<CustomAttributeData> customAttributeDatas = CustomAttributeData.GetCustomAttributes(assembly);
    // do other work here
} 
```

我的代码中是否存在错误，或者无法加载程序集的两个版本？我在新的临时域上调用 AppDomain.Unload() 来回避这个问题，但它似乎不起作用。

# php - PHP strtotime 和 JavaScript Date.parse 返回不同的时间戳

> ID：14868066
> 
> 赞同：21
> 
> 时间：2013-02-14T04:56:02.233
> 
> 标签：php, javascript, date, datetime, timestamp

我在 JavaScript 中得到相同的日期时间秒值，它由`strtotime()`PHP 给出。但我在 JavaScript 中需要相同的值。

**PHP 代码**

```
echo strtotime("2011-01-26 13:51:50");
// 1296046310 
```

**JavaScript 代码**

```
var d = Date.parse("2011-01-26 13:51:50");
console.log(d);
// 1296030110000 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-14T05:00:17.157

您需要使用相同的时区进行合理的比较：

```
echo strtotime("2011-01-26 13:51:50 GMT");
// 1296049910

var d = Date.parse("2011-01-26 13:51:50 GMT") / 1000;
console.log(d);
// 1296049910 
```

**更新**

根据标准，仅支持 RFC 2822 格式的日期：

```
Date.parse("Wed, 26 Jan 2011 13:51:50 +0000") / 1000 
```

要生成这样的日期，您可以`gmdate('r')`在 PHP 中使用：

```
echo gmdate('r', 1296049910); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-14T05:04:11.813

JavaScript 使用毫秒作为时间戳，而 PHP 使用秒。结果，您得到的日期非常不同，因为它相差了 1000 倍。

**样本**

`echo date('Y-m-d', TIMESTAMP / 1000);`

**评论回复**

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

    function toTimestamp(year,month,day,hour,minute,second)
    {
        var datum = new Date(Date.UTC(year,month-1,day,hour,minute,second));
        return datum.getTime()/1000;
    }

    $(function()
    {
        console.log(toTimestamp(2011,01,26,13,51,50));

    });

</script>

<?php

echo $the_date = strtotime("2011-01-26 13:51:50");
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-14T09:35:58.753

`strtotime()`并`Date.parse()`产生分辨率分别为秒和毫秒的 UNIX 时间戳。但是，如果输入字符串中缺少时区信息，则假定为本地时间。`2011-01-26T13:51:50`因此，即使使用 PHP（或 JavaScript）在两台机器上生成时间戳，输入字符串也可能在不同机器上产生不同的输出。

解决方案是在字符串中明确指定时区。这应该在任何机器上产生相同的结果：

```
Date.parse("Jan 26, 2011 13:51:50 GMT+0500") / 1000; // 1296031910
strtotime("Jan 26, 2011 13:51:50 GMT+0500");         // 1296031910 
```

# javascript - 是否可以使用 javascript 读取受密码保护的 excel 文件？

> ID：14868067
> 
> 赞同：0
> 
> 时间：2013-02-14T04:56:06.653
> 
> 标签：javascript, php, phpexcel

我已经搜索过使用 PHP 读取 excel 文件，我找到了 PHPExcel，但它不支持受密码保护的文件。现在我在想是否有其他语言可以插入到我的PHP代码中，比如javascript？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:01:01.933

您无法使用 javascript 阅读它，因为您必须为此使用服务器端。如果 phpexcel 不起作用，只需谷歌搜索一个可以使用密码读取 excel 文档的库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:27:26.437

您会发现支持读取受密码保护的文件的库非常少。...[以下](https://stackoverflow.com/questions/3930975/alternative-for-php-excel)是用于读取 Excel 文件的 PHP 选项列表：COM 是一个选项，PUNO 也是如此，Ilia 的扩展也可以处理密码。我所知道的 JavaScript 中没有什么会有所帮助。所以你的其他选择是使用另一种语言，如 Java。

# java - FragmentHostTab Android 中缺少选项卡

> ID：14868072
> 
> 赞同：0
> 
> 时间：2013-02-14T04:56:56.033
> 
> 标签：java, android, android-fragments, android-tabhost

在 android 中开发基于选项卡的应用程序，我有两个选项卡 Tab1，Tab2 就像 ios 一样总是在屏幕上。Tab1 包含具有列表视图的 Activity1，因此当我单击列表视图上的项目时，它应该打开另一个包含一些数据的活动，但我错过了屏幕中的选项卡。

以前用过`TabActivity`，现在不推荐使用了，我不能用`ActivityGroup`，所以我想用`FragmentTabHost`

我该如何`FragmentTabHost`解决这个问题或任何其他解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:23:43.047

在选项卡中添加 ListFragment。单击项目时，您应该使用 Fragment Maneger &FragmentTransaction 替换另一个片段。并且您应该使用 getChildFragmentManeger() 来获取 FragmentManeger。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:01:59.330

you can add supportv4 library, if you search on android developer page you cam get this .jar library... if you add that to your project build path.. then you cam use tht class.

# java - 尝试在不同的 JPanel 上重新绘制

> ID：14868080
> 
> 赞同：0
> 
> 时间：2013-02-14T04:58:15.907
> 
> 标签：java, swing, jframe, jpanel, jlabel

我有一个`JFrame`，里面有两个`JPanel`实例。

我曾经`repaint()`画过框架。但问题是我想要两个不同`repaint()`的面板有两个不同的。

```
Jpanel panel = new JPanel();
panel.setLayout(new BoxLayout(panel, BoxLayout.X_AXIS));
panel.add(image1);  //image1 and image2 is of its own class type.
panel.add(image2);
frame.add(panel,BorderLayout.CENTER);

frame.pack();
frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
frame.setSize((int)width*2, (int)height);
frame.setVisible(true);

frame.repaint(); 
```

我知道，我还没有`repaint()`在`JPanel`,... 上使用过这方面的帮助.. 我使用它的工作量很小。

我们可以，只是`repaint()`在一个特定的`JPanel`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:09:50.577

`JFrame#repaint`将重新绘制整个框架及其内容。

`JPanel#repaint`将重新绘制面板的实例及其子项。

这将适用于所有组件，因为它们继承`repaint`自`Component`

# javascript - jQuery 1.9.1 中的切换脚本

> ID：14868081
> 
> 赞同：3
> 
> 时间：2013-02-14T04:58:24.863
> 
> 标签：javascript, jquery

我刚刚将一个站点升级到 1.9.1，下面的 scipt 不再工作：

**脚本**

```
$(document).ready(function(){
    $("#button").toggle(function() {
        $(this).text('Hide content');
    }, function() {
        $(this).text('Show content');
    });
    $('#button').click(function(){
       $("#content_div").slideToggle("medium");
    });
}); 
```

**HTML**

```
<a href="#" id="button">Show content</a> 
```

我不太擅长 jQuery，所以我希望有人可以帮助我处理这个脚本，如果答案包含对解决方案的解释（尝试学习 jQuery），我将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:03:14.193

[这个功能`.toggle`在 jQuery 1.9 中被移除](http://api.jquery.com/toggle-event/)

有多种方法可以处理这个问题。一种是在内部简单地跟踪对象的点击状态。

```
$("#button").on('click', function () {
    if ($(this).data('clicked')) {
        //functionality state 2
    }
    else {
        //functionality state 1
    }
    $(this).data('clicked', function (_, data) { return !data; });
}); 
```

您甚至可以使用整数和模数来管理两个以上的状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:28:21.653

我认为以下内容为您提供了您正在寻找的全部功能。这对我来说是不言自明的，但话又说回来，我写了它哈哈。所以让我知道它是否有意义并做你需要做的事情:)

```
$(document).ready(function(){
        $('#button').click(function(){
            var txt = "Show Content";
            if ($("#button").html()==txt)
            {
                txt = "Hide content";
            }
            $("#button").html(txt);

            $("#content_div").slideToggle("medium");
        });
    }); 
```

# javascript - 使用 java 脚本注入另一个页面

> ID：14868089
> 
> 赞同：0
> 
> 时间：2013-02-14T04:59:05.403
> 
> 标签：javascript, html, ajax

我需要在当前页面加载时注入一些存在于另一个页面（url）中的数据。下面是我正在使用的代码。但它不起作用，下面的代码是否有问题，我该如何调试这个问题？

```
function loadHTML(url, storage)
{
    var xhr = createXHR();
    xhr.onreadystatechange=function()
    { 
        if(xhr.readyState == 4)
        {
            //if(xhr.status == 200)
            {
                storage.innerHTML = getBody(xhr.responseText);
            }
        } 
    }; 

    xhr.open("GET", url , true);
    xhr.send(null); 

} 

function loadWholePage(url)
{
    /**
        storage is the div id where I want to inject html
    */
    var y = document.getElementById("storage");
    loadHTML(url, y);
}   

window.onload = function()
{
   loadWholePage('link_to_the_page') ;
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:09:51.063

您遇到了跨域脚本问题。请参阅[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)。

据我所知，[JSONP](http://remysharp.com/2007/10/08/what-is-jsonp/)可以帮助您解决这个问题。

JSONP（[带填充的 JSON](http://en.wikipedia.org/wiki/JSONP)）提供了一种从不同域中的服务器请求数据的方法，由于相同的来源策略，典型的 Web 浏览器禁止这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:15:41.663

您的函数 createXHR() 和 getBody() 可能存在一些问题。发布您为这些功能编写的代码。此外，为了调试，您可以在调用 getBody() 之前放置一个 console.log 并检查什么是 responseText。

```
if(xhr.readyState == 4)
{
if(xhr.status == 200)
{
console.log(xhr.responseText);
storage.innerHTML = getBody(xhr.responseText);
}
} 
```

# php - 我想在 php 中创建一个图表，从数据库中获取值

> ID：14868093
> 
> 赞同：0
> 
> 时间：2013-02-14T04:59:50.900
> 
> 标签：php, phpgraphlib

我有一个 php 网站，它接受员工姓名、日期、上班时间和下班时间等输入。现在我想根据日期和时间创建一个图表。查看员工准时的图表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:03:14.083

You could easily pull your values from the database and use something like pchart ([http://pchart.sourceforge.net/](http://pchart.sourceforge.net/)) to chart the data ?

# algorithm - 嵌套哈希的正确数据结构

> ID：14868094
> 
> 赞同：0
> 
> 时间：2013-02-14T04:59:54.910
> 
> 标签：algorithm, data-structures

表示如下关系的正确数据结构是什么？例如，我是否更好地将其表示为一棵树？如果是这样，那三个人会是什么样子？我的目标是让 A 类的实例在内存中具有最佳的内存足迹，并快速插入到任何级别的嵌套。

每个嵌套字典云都有数百万个项目，E 类的大小可以约为每个类 10MB。

```
 public class A
    {
        private Dictionary<int, B> someName;
    }

    public class B
    {
        private Dictionary<int, C> someName;
    }

    public class C
    {
        private Dictionary<int, D> someName;
    }

    public class D
    {
        private Dictionary<int, E> someName;
    }

    public class E
    {
           //10 Mb worth of properties
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:42:49.053

外部存储器上有许多算法和数据结构，由于您的数据量非常大，因此可能包含您想要的内容。

当我们处理外部内存问题时，我们通常使用每个操作的 I/O 来评估数据结构的有效性。

![输入输出模型](../Images/64eccf859805e955e203e587d1dbfb5b.png)

您正在考虑将其表示为一棵树，我认为这是一个有前途的解决方案。基本上，我们需要一个搜索树，类似于 B 树。更具体地说，外部存储器上的平衡 B 树。

我认为你可以使用权重平衡的 B-tree，它是 B-tree 和 BB[α]-tree 的组合，来解决这个问题。

具有参数 b 和 k(b>8,k≥8) 的权重平衡 B-tree 具有以下约束：

1.  所有叶子都在同一级别，并且包含 k/4 到 k 个元素。

2.  级别 l 的内部节点 v 具有 w(v) < b^l * k。

3.  除根外，第 l 层的内部节点 v 的 w(v)> 1/4 * b^l * k。

4.  根有多个孩子。

我们可以推断内部节点度在 (1/4 * b^l * k) / (b^l*k) = 1/4b 和 (b^l * k) / (1/4 * b^l- 1 * k) = 4b。

具有分支参数 b 和叶参数 k=Ω(B) 的权重平衡 B 树具有以下属性：

![权重平衡的 B 树](../Images/c05c27b52a8c61f58d27b3bb1c16cfea.png)

1.  空格：O(N/B)
2.  高度：O(log(b, N/k))
3.  O(log(b, N)) 更新后的重新平衡操作

证明不是很复杂，可以在[Lars Arge](http://cs.au.dk/~large/)编写的[External Memory Geometric Data Structures](http://www.daimi.au.dk/~large/ioS06/ionotes.pdf)中看到。关于外部存储器数据结构的笔记非常好，我强烈推荐你阅读。您可以从阅读 L.Arge 的一些[讲义](http://www.daimi.au.dk/~large/ioS07/)开始，它可以快速帮助您理解这种数据结构并做出决定。

# java - Java 和 C++ 进程之间最快的 IPC

> ID：14868095
> 
> 赞同：-5
> 
> 时间：2013-02-14T05:00:02.943
> 
> 标签：java, c++, ipc

假设：两者都在同一个盒子上运行。

在所有可用选项中，有什么建议？

速度和可靠性是解决方案应该达到的两个方面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:04:52.960

这听起来像是非常适合套接字的任务。

# php - PHP json_encode 从 unicode 字符返回空值

> ID：14868096
> 
> 赞同：2
> 
> 时间：2013-02-14T05:00:06.813
> 
> 标签：php, json

我有以下数组：

```
Array
(
    [BookDateID] => 4
    [HotelName] => Adams’ Inn
) 
```

**输出：**

```
{"BookDateID":"4","HotelName":null} 
```

有什么魔法吗？

**顺便说一句，**我有一个替代解决方案，通过循环遍历每个数组并让它们 mb_convert_encoding(str,'HTML-ENTITIES') 但我希望字符保持不变，因为我必须将它插入数据库。

```
foreach($array as $key=>$value){
    $array[$key] = mb_convert_encoding($value,'HTML-ENTITIES');
}

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:35:51.223

`json_encode`需要 UTF-8 编码的数据。确保数据是 UTF-8 编码的；目前它可能是 Latin-1 编码的。如何做到这一点取决于数据的来源。阅读[每个程序员绝对、积极需要了解的关于编码和字符集的知识，以便在 Web 应用程序中处理文本](http://kunststube.net/encoding/)和[前后处理 Unicode](http://kunststube.net/frontback/)。

# jquery - JQuery动画切换点击多个元素

> ID：14868101
> 
> 赞同：0
> 
> 时间：2013-02-14T05:00:31.117
> 
> 标签：jquery, jquery-animate

# [演示在这里](http://jsfiddle.net/KWBgS/)

我正在建立一个信息显示器；当用户单击缩略图时，会在其下方打开一个框以显示特定于该缩略图的信息（信息来自 XHR，在 jfiddle 中无法正常工作）。打开盒子不是问题 - 我正在尝试正确关闭盒子。

我想做的是：

```
if (box is closed) {
    open box;
}

if (box for this thumb is open) {
    close box;
}

if (box for another thumb is open) {
   close other box;
   on complete of close, open new box;
} 
```

我还想创建一个单独的函数来关闭我可以附加到关闭框图标的框。

我最好怎么做？我看不出有多清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:20:23.567

Haven't you answered your own question? [.toggle()](http://api.jquery.com/toggle/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T17:01:43.500

在玩了一段时间重建代码后，我找到了解决方案。我认为其中的关键是使用 index() 将单击的按钮识别为接下来需要发生的事情的参考点。

Javascript：

```
//store for dropdown activity: false=inactive/true=active
var ddopen = false;
//store for last clicked button
var index;

//Create and animate/activate dropdown container
$.fn.ddExpand = function (btnNo) {
    // Identify parents of the button clicked, amd create the animating container
    var btn = $('#'+btnNo);
    btn.parent().after('<div class="box"></div>');

    //load content into container
    $('.box').load('test2.html #content'+btnNo);
    $('.box').show().animate({'height':'300px'}, 1000, function () {
        $('.content').fadeIn();     
    });
    //Declare dropdown as open/active
    ddopen = true;
    // Store button index for later reference
    index = btnNo;
}

//Deactivate/close and delete dropdown container
$.fn.ddCollapse = function (btnNo) {
    $('.content').fadeOut();
    $('.box').animate({'height':'0px'}, 500, function () {
        $(this).remove();

        //If function parameter IS a number, reactivate dropdown according to new button index / else / Declare dropdown as closed/deactivated
        (btnNo!=false) ? $(this).ddExpand(btnNo) : ddopen = false;
    });

}

$('.button').on('click', function () {
    //Capture index of button
    var btnNo = $('.button').index(this);
    //Silently add index of button as id attribute to button for later reference. This will also allow for extensibility should more buttons be added.
    $(this).attr('id', btnNo);

    //If dropdown is inactive
    if (ddopen == false) {
        //active dropdown according to button index
        $(this).ddExpand(btnNo);
    } else { //if dropdown is already active
        //if the button clicked now is different to last button clicked
        if (btnNo != index) {
            //pass new button index on to collapse current dropdown and reactive with new index
            $(this).ddCollapse(btnNo);
        } else { //if button clicked now is the SAME as last button clicked
        // close/deactivate existing dropdown and return to default state
        $(this).ddCollapse(false);
        }
    }
});

//process close button added to loaded content
$('body').on('click', '.close', function () {
    // close/deactivate existing dropdown and return to default state
    $(this).ddCollapse(false);
}); 
```

HTML

```
<div class="btnCase">
    <div class="button"></div>
</div>
<div class="btnCase">
    <div class="button"></div>
</div>
<div class="btnCase">
    <div class="button"></div>
</div>
<div class="btnCase">
    <div class="button"></div>
</div>
<div class="btnCase">
    <div class="button"></div>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:41:42.813

我过去做过的一种方法是将标记 css 类添加到打开的框中。如果您使用 jQuery animate，您可以轻松地做到这一点，方法是使用完整的回调将类添加到您刚刚打开的元素中。

一旦你有了它，你的逻辑，在触发动画的单击处理程序中，执行以下操作：1）检查被单击/正在打开的元素是否具有打开的类，如果是，则设置一些临时标志来指示这一点.

2) 对所有具有打开类的元素进行 jQuery 搜索，并为它们的关闭设置动画。

3）如果您的标志告诉您单击的元素尚未打开，请为其打开设置动画，否则什么也不做。

这是一个简化的示例，我有多个 div 在单击时会变大和半透明，但一次只能有一个很大，单击已经展开的 div 会将其缩小回正常状态。

```
$('div').on('click', pop);

function pop(event) {
    debugger;
    var alreadyPopped = false;
    if ($(event.target).hasClass('popped')) {
        alreadyPopped = true;
    }
    $('.popped').animate({
        height: 50, width: 50, opacity: 1
    }, 1000, "linear", function(e) {
      $('.popped').removeClass('popped');
    });

    if (!alreadyPopped) {
        $(event.target).animate({
        height: 200, width: 200, opacity: 0.5
    }, 1000, "linear", function(e) {
     $(event.target).addClass('popped');
    });
    }    
} 
```

现场演示：http: [//jsfiddle.net/ijoukov/zA87j/1/](http://jsfiddle.net/ijoukov/zA87j/1/)

# c++ - How to see the informations and compiler flags for .o files in linux?

> ID：14868105
> 
> 赞同：1
> 
> 时间：2013-02-14T05:01:26.000
> 
> 标签：c++, boost, command, centos

I am using CentOS 6.02 64 bit. I want to see the information and used compiler flags in .o files. Is there any command or way to see that? I have seen the architecture of .a file by using *objdump*. But couldn't seen the information for .o files.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:59:01.190

没有从目标文件中提取编译器标志的通用方法。您可以通过使用和不使用诸如 -fverbose-asm （仅影响 asm 生成的 gcc 标志）之类的无操作开关进行两次编译并比较对象来看到这一点 - 它们将是相同的。然而，有一些编译器特定的扩展允许您在编译期间插入它们，例如`-frecord-gcc-switches`在较新版本的 gcc 中，它将使用的标志放在 section 中`.GCC.command.line`。不同的编译器还向 .comment 部分插入了各种信息，例如我使用 gcc 4.7.2 进行的编译显示：

```
$objdump -s -j.comment <objfile>

objfile:     file format elf64-x86-64

Contents of section .comment:
 0000 00474343 3a202847 4e552920 342e372e  .GCC: (GNU) 4.7.
 0010 3200                                 2. 
```

当然，您可以使用与 .a 文件相同的方式获取体系结构，使用`objdump -f`.

# php - Uploading multiple files at a time in codeigniter with different names

> ID：14868106
> 
> 赞同：0
> 
> 时间：2013-02-14T05:01:51.787
> 
> 标签：php, html, codeigniter, file-upload

I aam new to codeigniter, can any one tell me how do we can upload multiple files to the server at a same time with different names in codeigniter.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:23:25.103

创建多个文件上传表单。这里我指的是控制器中的`upload`方法。`users`

```
<form method="post" action="<?php echo base_url('users/upload/'); ?>" enctype="multipart/form-data">
    <label for="upload">Select : </label>
    <input type="file" name="upload[]" id="upload" multiple="multiple" />
    <input type="submit" name="fsubmit" id="fsubmit" value="Upload" />
</form> 
```

`upload`并在您的方法中编写以下代码。

```
public function upload()
{
    if (isset($_FILES['upload']['name'])) {
        // total files //
        $count = count($_FILES['upload']['name']);
        // all uploads //
        $uploads = $_FILES['upload'];

        for ($i = 0; $i < $count; $i++) {
            if ($uploads['error'][$i] == 0) {
                move_uploaded_file($uploads['tmp_name'][$i], 'storage/' . $uploads['name'][$i]);
                echo $uploads['name'][$i] . "\n";
            }
        }
    }
} 
```

该目录`storage`是示例。您可以移动您选择的文件。**注意**它不是用于多个文件上传的纯 CodeIgniter 方法。希望这有帮助谢谢！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:36:10.813

您可以通过以下方式上传具有不同名称的文件

在视野中

```
<?php echo form_open_multipart('upload/do_upload');?>

<input type="file" name="userfile1" size="20" />

<input type="file" name="userfile2" size="20" /> 
```

在控制器中只需将字段名称传递给 do_upload 方法

```
function do_upload()
    {

    $this->upload_file('userfile1');
    $this->upload_file('userfile2');

            $this->load->view('upload_form', $error);
    }

 function upload_file($field_name){
       $config['upload_path'] = './uploads/';
        $config['allowed_types'] = 'gif|jpg|png';
        $config['max_size'] = '100';
        $config['max_width']  = '1024';
        $config['max_height']  = '768';

        $this->load->library('upload', $config);

        if ( ! $this->upload->do_upload($field_name))
        {
            return array('error' => $this->upload->display_errors());

        }
        else
        {
            $data = array('upload_data' => $this->upload->data());

        }
  } 
```

欲了解更多信息，请阅读 CI 用户指南[用户指南](http://ellislab.com/codeigniter/user-guide/libraries/file_uploading.html)

# jsf-2 - 如何从订单列表中传递选定的对象并在服务器端提交

> ID：14868109
> 
> 赞同：0
> 
> 时间：2013-02-14T05:02:05.667
> 
> 标签：jsf-2, primefaces

```
<h:panelGrid columns="2">
                        <h:outputText value="Search Results List"/>
                        <p:commandButton value="Add user" process="@this" styleClass="btn-primary" style=" margin-bottom: 20px;margin-left: -80px;width:75px;" action="#{testBean.addUser(user)}"/>
                        <p:orderList styleClass="resultBox" style="color: #263F6A;" var="user" value="#{testBean.contacts}" 
                            itemLabel="#{user.firstName}"  itemValue="#{user.firstName}" controlsLocation="none">
                        </p:orderList>
                    </h:panelGrid> 
```

我正在使用primefaces orderlist，我已经设法从后端获取orderlist，现在我已经从orderist中选择了一个项目并且必须将其发送到服务器端进行查询..我已经发布了上面的代码来做到这一点..我是由于用户对象为空而面临问题。如何从订单列表中发送选定的项目并通过服务器发送它也请解释一下 process="@this" 。我正在使用 primefaces 3.4.2 和 JSf2 websphere8。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:12:40.383

p:orderList 不是数据组件。您不能像那样将数据发送到后端。检查[这个](http://code.google.com/p/primefaces/issues/detail?id=2713)。尝试使用 dataTable 并在其中显示值。您可以将 f:setPropertyActionListener 用于 dataTable。

还要了解@this，请查看此[链接](https://stackoverflow.com/questions/5699088/what-is-the-function-of-this-exactly)

**编辑**：检查 primefaces[展示](http://www.primefaces.org/showcase/ui/datatableRowSelectionByColumn.jsf)以使用数据表传递数据，还有[这个](http://www.primefaces.org/showcase/ui/datatableRowSelectionInstant.jsf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-09T12:59:38.813

请改用 selectOneListbox。唯一的区别是，您必须自己实现排序。

[http://www.primefaces.org/showcase/ui/selectOneListbox.jsf](http://www.primefaces.org/showcase/ui/selectOneListbox.jsf)

# sql-server-2008 - How to enable Windows Authentication for DNN

> ID：14868118
> 
> 赞同：1
> 
> 时间：2013-02-14T05:03:14.350
> 
> 标签：sql-server-2008, dotnetnuke

Sorry my question might be duplicate but i dint find any correct solution.So im posting this question again...

First i have deployed a DNN website with sql server authentication.Site was working fine. Later we re installed the sql server 2008\. So im trying to give windows authentication to connect the site.

In web config connectionstring:i have removed the username and password and gave Integrated security="true" .

In IIS :Site -> Authentication -> windows Authentication ->enabled and all others disabled.

once i browse the site is redirecting to DNN install Wizard

Need Help.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T17:12:42.527

在 SQL Server 中，您是否配置了应用程序池（在 IIS 中）使用的 Windows 帐户来让 DBOwner 访问数据库？

还要确保更改数据库中的两个连接字符串。

根据您使用的 IIS 版本，该帐户可能会有所不同。旧版本可能会使用“网络服务”，而新版本也可能使用“网络服务”或应用程序池特定帐户，如“iis apppool\dnndev”

您还需要确保您没有尝试将 DOMAIN 帐户分配给数据库，除非这当然是 IIS 配置使用的（而不是本地帐户）

# grid - Windows Store App: Grid implementation with inline editing

> ID：14868123
> 
> 赞同：2
> 
> 时间：2013-02-14T05:03:52.320
> 
> 标签：grid, windows-store-apps

I am creating a Windows Store app using HTML & JS. Here I want to provide a grid like interface to user with inline editing. Is their any control which is similar to jqGrid? I tried with jqGrid but it seems that jqGrid is not compatible with Windows Store App.

What is the best way to implement it?

# actionscript-3 - 从 Flex 前端（由 BlazeDS 连接）上的 Java（Apache Tomcat）后端获取堆栈跟踪

> ID：14868131
> 
> 赞同：2
> 
> 时间：2013-02-14T05:04:24.593
> 
> 标签：actionscript-3, apache-flex, blazeds

我正在使用 BlazeDS 将我的 Flex 前端连接到我的 Java 后端，并且想知道是否有任何方法可以在将异常传递到前端的情况下获得完整的堆栈跟踪。当我在 Flex 的异常处理程序中设置断点时，我只看到一条基本消息、故障字符串等。

将不胜感激任何帮助。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T21:45:11.827

您可以创建一个自定义异常；然后在最高级别捕获所有服务器端异常，并使用原始异常的堆栈跟踪作为属性重新抛出您的自定义异常。您应该能够访问此客户端。

此外，如果您在服务器端使用 Spring，则[Spring BlazeDS 集成可以使用](http://www.springsource.org/spring-flex)[异常转换](http://static.springsource.org/spring-flex/docs/1.5.x/reference/html/index.html#exception-translators)器将服务器端异常转换为更清晰的客户端异常。

# php - 如何使值留在复选框中？

> ID：14868137
> 
> 赞同：1
> 
> 时间：2013-02-14T05:04:56.247
> 
> 标签：php

如何使值保留在复选框中？

我的问题是当我提交表单时，值不会保留（在表单中）。

下面是我的代码：

```
Mca<input type="checkbox" name="qual[]" id="Mca" value="Mca" 
           <?php if($qual == "Mca") { echo ' checked="checked"' ; } ?>>
 Mtech<input type="checkbox" name="qual[]" id="Mtech" value="Mtech" 
          <?php if($qual == "Mtech") { echo "checked"; } ?>>
 Btech<input type="checkbox" name="qual[]" id="Btech" value="Btech" 
          <?php if($qual == "Btech") { echo "checked"; } ?>> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:11:55.510

试试这个，因为`$qual`它是一个数组。

```
/* Your $qual should be */ <?php $qual = $GET['qual']; ?>

<?php if($qual == "Mca") 
```

必须改为：

```
<?php if(in_array("Mca",$qual) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:17:40.680

Try using better code for your form:

```
<?php

$checkboxes = array('Mca', 'Mtech', 'Btech');

foreach($checkboxes as $k => $v){

echo '<input '.($v==$qual[$k]? 'checked="checked" ': '').'type="checkbox" name="qual[]" id="'.$v.'" value="'.$v.'">';

}
?> 
```

# sql - SQL 触发器未按预期工作

> ID：14868140
> 
> 赞同：0
> 
> 时间：2013-02-14T05:05:09.103
> 
> 标签：sql, triggers

我有一个如下的 SQL 触发器

```
GO
create trigger ExpDateCheckCard
On Card 
FOR Insert, Update
As
Declare @expDate as DateTime
Select @expDate = inserted.ExpirationDate from inserted
if (YEAR(@expDate) < 1971 )
BEGIN
     UPdate Card set ExpirationDate = '1900-01-01 00:00:00' FROM Card, inserted
                                where inserted.RecordID = Card.RecordID
END 
```

如果我根据触发器运行时插入/更新的每条记录的触发器是正确的，它将检查该记录的 ExpirationDate 列中的 YEAR，如果该值小于 1971，那么它将使用更新查询中的日期对其进行更新.

奇怪的是它没有按预期工作。

if 条件似乎不起作用。

这个特定的触发器有什么问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:02:47.860

**是**的 - 您编写此触发器的方式肯定存在根本性错误。

**SQL Server（假设这是您正在使用的）不会每行触发一次触发器（包括您自己在内的许多人）似乎认为 -每批次**触发一次触发器，这可能会一次更新或插入 10、20、50 行.

因此，`Inserted`触发器内的伪表可以（并且**将！**）包含多行 - 在这种情况下 - 你的语句在这里选择了什么？

```
Select @expDate = inserted.ExpirationDate from inserted 
```

要么你只得到一个随机行（50 行）并处理它（并忽略所有其他 49 行），否则你会得到一个错误....

您需要牢记这一点来编写触发器 - 您**必须**始终假设`Inserted`(and `Deleted`) 将包含多行！

因此，您需要将触发器更改为：

```
CREATE TRIGGER ExpDateCheckCard
ON dbo.Card 
FOR Insert, Update
AS
  UPDATE dbo.Card 
  SET ExpirationDate = '1900-01-01 00:00:00' 
  FROM dbo.Card c
  INNER JOIN inserted i ON i.RecordID = c.RecordID
  WHERE YEAR(i.ExpirationDate) < 1971 
```

（*我还将您的旧式 JOIN 语法（以逗号分隔的表列表）更改为自 1992 年以来一直存在的 ANSI 标准 - 请**不要**使用以逗号分隔的表列表！使用**正确的**ANSI JOIN*。请参阅此博客文章了解更多背景信息：[要踢的坏习惯：使用旧式 JOIN](https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-old-style-joins)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:14:00.140

试试这个：

```
create trigger ExpDateCheckCard
    On Card 
    FOR Insert, Update
    As
    BEGIN
    Declare @expDate as DateTime
    Select @expDate = inserted.ExpirationDate from inserted
    if (YEAR(@expDate) < 1971 ) Begin

         UPdate Card set ExpirationDate = '1900-01-01 00:00:00' FROM Card, inserted
                                    where inserted.RecordID = Card.RecordID
    end
    END 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:26:21.927

您必须尝试此代码

```
CREATE TRIGGER ExpDateCheckCard AFTER INSERT,Update ON Card
   FOR EACH ROW

   Declare @expDate as DateTime
   Select @expDate = inserted.ExpirationDate from inserted
   if (YEAR(@expDate) < 1971 )
   BEGIN
      update Card 
      set ExpirationDate = '1900-01-01 00:00:00' FROM Card, inserted
      where inserted.RecordID = Card.RecordID
   END 
```

# php - Cake php模型验证不起作用

> ID：14868147
> 
> 赞同：2
> 
> 时间：2013-02-14T05:06:05.743
> 
> 标签：php, mysql, cakephp

我想在表中插入记录。为此，我有模型、视图和控制器。我的代码中的一切都运行良好，但我的验证模型代码没有显示任何验证消息。我该怎么办？我在下面给出代码：

我的控制器代码：

```
 public function send_money()
        {

         $this->layout='agent';
         $this->Agent->create();
         $this->Agent->set($this->data);

           if(empty($this->data) == false)
            {
                //$this->Agent->saveAll($this->data['Agent'], array('validate' => 'only')); //This code Id New
                $this->Agent->saveAll($this->data['Agent']);
                $this->Session->setFlash('Information Added Successfully.');
                $this->redirect('send_money');

            }
            else
            {
                $this->set('errors', $this->Agent->invalidFields());    
            }

        }

And My Model Code is :

    App::uses('AppModel', 'Model');
    /**
     * Admin Login Model
     *
     */
     class Agent extends AppModel
     {
        public $name='Agent';
        public $usetables='agents';

        public $validate = array(

         'contact' =>array(
          'rule' => 'notEmpty', // or: array('ruleName', 'param1', 'param2' ...)
          'allowEmpty' => false,
          'message'    => 'Please Enter Contact No.'
        ),
         'name' =>array(
          'rule' => 'notEmpty', // or: array('ruleName', 'param1', 'param2' ...)
          'allowEmpty' => false,
          'message'    => 'Please Enter Name.'
        ),

         'email_add' =>array(
          'rule' => 'email', // or: array('ruleName', 'param1', 'param2' ...)
          'allowEmpty' => false,
          'message'    => 'Please Enter Valid Email.'
        ),
        );

     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:17:27.710

Use this in your controller:

```
if($this->Agent->validates($this->data)) { 
```

Instead of:

```
if(empty($this->data) == false) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-09T04:58:17.227

尝试这个：

```
 public function send_money()
    {

     $this->layout='agent';
     $this->Agent->create();
     $this->Agent->set($this->data);

       if($this->Agent->saveAll($this->data['Agent'])) {
            $this->Session->setFlash('Information Added Successfully.');
            $this->redirect('send_money');
        }
        else {
            $this->set('errors', $this->Agent->invalidFields());    
        }

    } 
```

注意：要记录错误验证，请使用此`debug($this->Agent->validationErrors);`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:15:45.850

改变：

```
$this->Form->create('Agents', 
```

至

```
$this->Form->create('Agent', 
```

由于您的模型名称`Agent`不是`Agents` 请参见此处：[模型验证](http://book.cakephp.org/2.0/en/models/data-validation/validating-data-from-the-controller.html)

# jquery - JQuery UI手风琴标题未正确呈现

> ID：14868148
> 
> 赞同：2
> 
> 时间：2013-02-14T05:06:27.733
> 
> 标签：jquery, ruby-on-rails, jquery-ui

我正在使用 Jquery UI 手风琴小部件。我使用 H4 作为我的标题标记。但是当它呈现时，标题中的向下箭头会呈现在标题文本的顶部。

看一看：

![在此处输入图像描述](../Images/0c2a3fcb8037c578057ceaf488efde21.png)

请帮我解决一下这个。

我的标记是这样的：

```
<div class="sections">
  <h4>Title1</h4>
  <div class="section">
    <!-- stuff -->
  </div>
  .
  .
  .
</div> 
```

和咖啡脚本来激活它：

```
$( ".sections" ).accordion({ header: "h4",collapsible: true }) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:11:45.990

在 CSS 文件的最后添加这些行。

```
.ui-accordion .ui-accordion-icons {
    padding-left: 35px !important;
} 
```

# php - Zend 中的阿拉伯语 pdf

> ID：14868149
> 
> 赞同：1
> 
> 时间：2013-02-14T05:06:37.143
> 
> 标签：php, zend-framework, zend-pdf

我是 Zend 框架的新手。现在我遇到了 Zend pdf 的问题。我正在尝试制作一个包含阿拉伯语和英语的 pdf 文档。但我无法在 zend 中打印阿拉伯语。

请帮助我提供任何教程或示例代码链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:11:59.410

这仍然是 Zend_pdf 中的一个问题，我建议您使用 TCPDF 这里是该 [http://www.tcpdf.org/的链接](http://www.tcpdf.org/)

通过那里的例子

[http://www.tcpdf.org/examples.php](http://www.tcpdf.org/examples.php)

如果您仍想坚持使用 zend pdf，此链接可能会有所帮助。

[http://devzone.zend.com/1064/zend_pdf-tutorial/](http://devzone.zend.com/1064/zend_pdf-tutorial/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-13T11:29:13.187

//为zend pdf应用字体文件（.ttf）。例如下面将允许在 pdf 文件中使用阿拉伯语。

```
$font = Zend_Pdf_Font::fontWithPath(Mage::getBaseDir() . '/lib/LinLibertineFont/d7133c37aa7eda77090163c25c4bb89a.ttf'); 
```

// 通过调用以下函数应用有从右到左显示单词问题的阿拉伯语单词。

```
function converttext($part)
{ 
if (strlen($part) != strlen(utf8_decode($part)))
{ 
  preg_match_all('/./us', $part, $ar);
  $part = join('', array_reverse($ar[0]));
}

  return $part;

} 
```

//仍然有问题，应用替代解决方案在头部添加以下行。

```
ini_set('default_charset', 'utf-8'); 
```

# asp.net-mvc - 如何使用ajax和mvc在客户端绑定值

> ID：14868150
> 
> 赞同：0
> 
> 时间：2013-02-14T05:06:41.707
> 
> 标签：asp.net-mvc, jquery

我需要绑定 html 列表框中的值。但是ajax并在客户端返回值。但它具有适当的重新运行值。我认为它的返回格式是错误的。如何改变这个？我的代码如下

```
 public ActionResult value(bool sta1, bool sta2)
        {
                // my code
            return Json(Selectedstudents.ToList(), JsonRequestBehavior.AllowGet);
        } 
```

阿贾克斯：

```
 $.ajax({
       //my code
        dataType: 'json',
        success: function (data) { // not trigger here
          // my code
            }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:11:53.947

```
$.ajax ( {
       url : "/ControllerName/Value"
       type:  'Get'
       data : { val1 : value1, val2:value2 }
       datatype: 'json'
       success : function(data) {
                           $("#listboxid").html(data);
                               do something...
        }
}); 
```

并在控制器中

```
public JsonResult value(bool val1, bool val2)
        {
                // my code
            result.Data = Selectedstudents.ToList();
            result.JsonRequestBehavior = JsonRequestBehavior.AllowGet;
            return result;

        } 
```

# c++ - C++中类的隐式成员函数

> ID：14868154
> 
> 赞同：5
> 
> 时间：2013-02-14T05:06:57.657
> 
> 标签：c++

C++ 中类的隐式成员函数是：根据 wiki： [http ://en.wikipedia.org/wiki/Special_member_functions](http://en.wikipedia.org/wiki/Special_member_functions)

**默认构造函数**（如果没有显式声明其他构造函数）

**如果没有明确声明移动构造函数或移动赋值运算符，则复制构造函数**。如果声明了析构函数，则不推荐生成复制构造函数。

**如果没有显式声明复制构造函数、移动赋值运算符或析构函数，则**移动构造函数。****

 ****如果没有明确声明移动构造函数或移动赋值运算符，则复制赋值运算符**。如果声明了析构函数，则不推荐生成复制赋值运算符。

**如果没有显式声明复制构造函数、复制赋值运算符或析构函数，则**移动赋值运算符。****

 ****析构函数**

按照下面的链接：

[http://archives.cs.iastate.edu/documents/disk0/00/00/02/43/00000243-02/lcpp_136.html](http://archives.cs.iastate.edu/documents/disk0/00/00/02/43/00000243-02/lcpp_136.html)

如果没有声明类的构造函数（具有任意数量的参数），则默认构造函数（即没有参数的构造函数，（第 12.1 节 [Ellis-Stroustrup90]）。

如果没有声明复制构造函数，则复制构造函数（第 12.1 节 [Ellis-Stroustrup90]）。

如果没有声明析构函数，则为析构函数（第 12.4 节 [Ellis-Stroustrup90]）。

**如果没有声明赋值运算符，则赋值运算**符（[Ellis-Stroustrup90] 的 5.17 和 12.8 节）。****

 **按照下面的链接：

[http://www.picksourcecode.com/ps/ct/16515.php](http://www.picksourcecode.com/ps/ct/16515.php)

默认构造函数

复制构造函数

赋值运算符

默认析构函数

**地址运算符**

有人可以给出以下代码示例：**移动构造函数、复制赋值运算符、移动赋值运算符、赋值运算符、地址运算符** ，它们被用作隐式成员函数而不是显式定义。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T05:17:27.513

```
#include <iostream>

/* Empty struct. No function explicitly defined. */    
struct Elem
{ };

/* Factory method that returns an rvalue of type Elem. */
Elem make_elem()
{ return Elem(); }

int main() {

  /* Use implicit move constructor (the move may be elided
     by the compiler, but the compiler won't compile this if
     you explicitly delete the move constructor): */
  Elem e1 = make_elem();

  /* Use copy assignment: */
  Elem e2;
  e2 = e1;

  /* Use move assignment: */    
  e2 = make_elem();

  /* Use address operator: */    
  std::cout << "e2 is located at " << &e2 << std::endl;

  return 0;
} 
```

上面的示例使用了一个空类。您可以用具有真正移动语义的数据成员（即移动与复制真正不同的成员）填充它，例如 a `std::vector`，您将自动获得移动语义，而无需专门为您的类定义移动构造函数或移动赋值运算符。******

# javascript - 在 appFog 上运行 NodeJS 应用程序

> ID：14868162
> 
> 赞同：2
> 
> 时间：2013-02-14T05:07:49.070
> 
> 标签：javascript, node.js, express, websocket

我要做的就是将我的小 nodeJS 应用程序部署到免费托管网站 appFog 上。无论我在客户端或服务器端设置了哪些端口。我一直收到错误消息：

> 事件.js:71
> 
> 抛出参数[1]；// 未处理的“错误”事件
> 
> ^ 错误：听 EADDRINUSE

当这是在本地主机上运行的笔记本电脑/台式机上时，一切正常。

所以这就是我要做的：

**客户端：**

> this.connection = new WebSocket('ws://super1onate.aws.af.cm:1337');

**服务器端：**

```
var express = require("express"); // load the express module 
var app = express(); // App now holds the server object

// What ports to listen on 
app.listen(process.env.VCAP_APP_PORT ||1337);  

server.listen(process.env.VCAP_APP_PORT || 1337, function() {
     console.log((new Date()) + " Server is listening on port " + webSocketsServerPort); }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:17:07.513

Your server code looks ok. What is events.js? It looks like maybe you're including a module that's trying to bind to a port it shouldn't.

Once you get your server running, I don't think your client code will work. As far as I can tell, AppFog doesn't support websockets, and if it does, you'll probably want to hit port 80, not 1337.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:05:37.803

好吧，我会回答我自己的问题。

AppFog 不支持 WebSocket。websockets =/= socket.io btw fyi

无论如何，根据这个网站： http: [//feedback.appfog.com/forums/171983-appfog/suggestions/3543100-add-websocket-support-to-node-js](http://feedback.appfog.com/forums/171983-appfog/suggestions/3543100-add-websocket-support-to-node-js)

# python - Python中“无”类型的单元测试

> ID：14868170
> 
> 赞同：23
> 
> 时间：2013-02-14T05:09:20.230
> 
> 标签：python, unit-testing, assertion, nonetype

我将如何测试不返回任何内容的函数？

例如，假设我有这个功能：

```
def is_in(char):
    my_list = []
    my_list.append(char) 
```

然后如果我要测试它：

```
class TestIsIn(unittest.TestCase):

    def test_one(self):
    ''' Test if one character was added to the list'''
    self.assertEqual(self.is_in('a'), # And this is where I am lost) 
```

我不知道要断言该函数等于什么，因为没有任何返回值可以与之进行比较。

assertIn 会*起作用*吗？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2014-02-11T23:29:35.323

所有 Python 函数都会返回一些东西。如果不指定返回值，`None`则返回。因此，如果您的目标确实是确保某事不返回值，您可以说

```
self.assertIsNone(self.is_in('a')) 
```

（但是，这无法区分没有显式返回值的函数和有返回值的函数`return None`。）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-14T05:15:39.477

单元测试的重点是测试函数所做的事情。如果它没有返回一个值，那么它实际上在做什么？在这种情况下，它似乎没有做任何事情，因为`my_list`它是一个局部变量，但如果你的函数实际上看起来像这样：

```
def is_in(char, my_list):
    my_list.append(char) 
```

然后你会想要测试是否`char`真的附加到列表中。您的测试将是：

```
def test_one(self):
    my_list = []
    is_in('a', my_list)
    self.assertEqual(my_list, ['a']) 
```

由于该函数不返回值，因此无需对其进行任何点测试（除非您需要确保它不返回值）。

# sts-springsourcetoolsuite - pom.xml 没有这样的文件或目录

> ID：14868172
> 
> 赞同：4
> 
> 时间：2013-02-14T05:09:46.253
> 
> 标签：sts-springsourcetoolsuite, pom.xml, springsource

我在构建项目时遇到了问题。我在 Linux 平台上使用 springsource 工具 (STS) 版本 3.1.0。在我将项目导入 STS 后，springsource 工具告诉我 pom.xml 文件中的“没有这样的文件或目录”。该文件实际上存在于正确的路径中。我认为该项目运行良好，因为我尝试在另一台计算机上使用相同的程序导入相同的项目。

当我使用控制台用maven编译项目时，它们都编译成功了。

我也尝试了以下但仍然无法正常工作： 1\. 重新安装 STS。2.重新导入工程。3.创建用户配置文件并重新导入项目。4\. 使用旧版本的 STS (3.0.0)

我想将项目导入我的计算机，以便我可以使用。请建议解决问题。谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-02-02T13:45:14.870

在 Eclipse Luna SR1 中的 pom.xml 上出现“没有这样的文件或目录”错误。

追查到是M2E对工作空间内其他项目的错误解析造成的。

所以有2个解决方案：

1.  关闭工作区中的另一个项目（错误的项目依赖项）。
2.  或者在错误的项目上通过 M2E 禁用工作空间解析（右键单击项目，Maven --> 禁用工作空间解析）。

显然，如果您需要打开两个项目，那么选项 2\. 是要走的路。然后，依赖项目从本地 Maven 存储库获取依赖项，因此要刷新它，您必须构建依赖项并将其安装到本地存储库（mvn install）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-27T21:01:19.970

我有同样的问题。仍然没有找到任何聪明的解决方案，但这有时对我有用：

*   关闭日食
*   转到控制台并使用更新标志“mvn clean install -U”进行 maven 全新安装
*   重新启动计算机（注销并重新登录没有帮助）
*   启动 eclipse 并刷新和重建你的项目

# javascript - 从多级 JSON 对象中选择性地提取数据

> ID：14868175
> 
> 赞同：0
> 
> 时间：2013-02-14T05:09:56.117
> 
> 标签：javascript, json, if-statement, loops

我有一个包含 143 个其他对象的数组的多级 JSON 对象。

在此对象上运行 console.log(obj) 会显示：

```
0: Object
  ActFTEs: 0.00
  Actual: 11111
  Bud_Month: "October"
  FY_CD: 2013
  Mission_Name: "RST"
__proto__: Object
1: Object
  ActFTEs: 0.00
  Actual: 10000
  Bud_Month: "FY Total"
  FY_CD: 2013
  Mission_Name: "RST" 
```

等等......通过所有 143 个对象。但是，名称/值对 Mission_Name:"RST" 仅在前*n 个*对象中普遍存在。

例如，obj 43 包含：

```
43: Object
   ActFTEs: 0.00
   Actual: 10000
   Bud_Month: "FY Total"
   FY_CD: 2013
   Mission_Name: "VAO" 
```

我创建了以下函数，但这仍然返回与“Bud_Month”相关的名称/值对的全部 143 个值。

```
function get_dataArray() {
 var arr = [];
 var i= 0;
 for (i=0;i<jsonobj.row.length;i++) {   
    if (jsonobj.row[i][name]="RST") {
         arr[i] = jsonobj.row[i]["Bud_Month"];
    }    
 } 
 console.log(arr);
 return arr;
} 
```

这将返回：

```
["October", "FY Total", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "FY Total", "October", "November", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "November", "October", "November", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "FY Total", "October", "FY Total", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "FY Total", "October", "November", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "November", "October", "FY Total", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "FY Total", "October", "November", "December", "January", "February", "March", "April", "May", "June", "July", "August", "September", "November", "October", "FY Total", "December", "January", "February", "March", "April", "May", "June"…] 
```

有人对如何仅在包含 Mission_Name:"RST" 的名称/值对的对象中返回“Bud_Month”的值有任何建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:12:53.977

```
if (jsonobj.row[i][name]="HST") {
     arr[i] = jsonobj.row[i]["Bud_Month"];
} 
```

应该是：

```
if (jsonobj.row[i][name]=="RST") {
     arr[i] = jsonobj.row[i]["Bud_Month"];
} 
```

# eclipse - 以前的 Eclipse 的 Blackberry 插件

> ID：14868176
> 
> 赞同：1
> 
> 时间：2013-02-14T05:09:56.470
> 
> 标签：eclipse, blackberry, blackberry-eclipse-plugin, blackberry-jde

如何在 Eclipse 中安装以前的黑莓插件，即 1.5.2.201204302029

![在此处输入图像描述](../Images/623645cf607f795942c2bc2c83b95c6a.png)

但从 url [http://www.blackberry.com/developers/jar/win/java安装后](http://www.blackberry.com/developers/jar/win/java)

和其他 [https://bdsc.webapps.blackberry.com/android/downloads/eclipseplugin/beta/](https://bdsc.webapps.blackberry.com/android/downloads/eclipseplugin/beta/)

我得到版本 2.0.0.201207181003 但我想要它的以前版本，即 1.5.2.201204302029
![在此处输入图像描述](../Images/72f58cc4a7576d054441d8d64d62a411.png)

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-16T11:30:19.737

看来您需要手动选择旧版本。试试看：window->preferences->java->installed jres，你看，他们都睡在那里，选择你想要的。

# c# - 渲染 GridView 项目文本

> ID：14868180
> 
> 赞同：0
> 
> 时间：2013-02-14T05:10:29.130
> 
> 标签：c#, asp.net, grid, render

这是尝试渲染网格项（单元格）失败的脚本。想法是处理输入值并将其返回到单元格 - 渲染。

ASP

```
 <asp:GridView ID="GridView_stations" runat="server" AutoGenerateColumns="False" 
    DataSourceID="mailreport" AllowSorting="True" Width="100%" AllowPaging="True">
    <Columns>
        <asp:BoundField DataField="id" HeaderText="ID" SortExpression="id" >
        <HeaderStyle HorizontalAlign="Center" Width="70px" />
        <ItemStyle HorizontalAlign="Center" />
        </asp:BoundField>
        <asp:BoundField DataField="name" ItemStyle-CssClass="padding-left" HeaderText="Name" SortExpression="name" >
                <HeaderStyle  CssClass="padding-left" HorizontalAlign="Left" />
                <ItemStyle CssClass="padding-left"></ItemStyle>
        </asp:BoundField>
        <asp:TemplateField>
            <ItemTemplate>
                <asp:Button runat="server" Text='<%#renderthis(Eval("id"))%>' CommandArgument='<%#Eval("id")%>' OnClick="DoRedirect"  />
             </ItemTemplate>
        </asp:TemplateField>
        <asp:BoundField DataField="description" ItemStyle-CssClass="padding-left" HeaderText="Description" 
            SortExpression="description" >
        <HeaderStyle CssClass="padding-left" HorizontalAlign="Left" />

<ItemStyle CssClass="padding-left"></ItemStyle>
        </asp:BoundField>
        <asp:BoundField DataField="name" HeaderText="Last report" 
            SortExpression="name" >
        <HeaderStyle HorizontalAlign="Center" Width="120px" />
        <ItemStyle HorizontalAlign="Center" />
        </asp:BoundField>
        <asp:BoundField DataField="name" HeaderText="Status" SortExpression="name" >
        <HeaderStyle HorizontalAlign="Center" Width="100px" />
        <ItemStyle HorizontalAlign="Center" />
        </asp:BoundField>
    </Columns>
</asp:GridView> 
```

C＃

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace MailReport
{
    public partial class WebForm1 : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
        protected string renderthis(string sender)
        { 
            string str = sender.ToString()+"-str";
            return str;
        }
        protected void DoRedirect(object sender, EventArgs e)
        {
            Button theButton = sender as Button;
            Response.Redirect("Newpage.aspx?ID=" + theButton.CommandArgument);
        }
    }
} 
```

错误：

```
 Compilation Error

    Description: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately. 

    Compiler Error Message: CS1502: The best overloaded method match for 'MailReport.WebForm1.renderthis(string)' has some invalid arguments

    Source Error:
    Line 25: <asp:Button runat="server" **

Text='<%#renderthis(Eval("id"))%>'** CommandArgument='<%#Eval("id")%>' OnClick="DoRedirect"  /> 
```

请你能帮我理解这个错误以及如何继续。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:15:10.950

改变这个功能

从

```
protected string renderthis(string sender)
{ 
    string str = sender.ToString()+"-str";
    return str;
} 
```

到

```
protected string renderthis(object sender)
{ 
    if(sender!=null)
    {
        string str = sender.ToString()+"-str";
        return str;
    }
    return "";
} 
```

# php - Laravel：使用 $_GET 或 $_POST 进行搜索

> ID：14868183
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:10:53.863
> 
> 标签：php, forms, query-string, laravel

在所有 laravel 教程中，他们都使用 POST 方法来处理表单。对于搜索，我认为最好让 FORM 使用 GET，这样一旦表单被提交，查询字符串就会附加到 URL，控制器可以直接处理它。

如果它是 POST 方法，那么表单将提交给中间控制器，中间控制器对其进行处理并重定向到某个结果控制器。如果不使用中间控制器，搜索字符串将不再在 URL 中可用。出于各种原因，我希望在 URL 中包含我的查询字符串。

如果我在 laravel 表单中使用 GET 方法可以吗？

```
{{ Form::open('search', 'GET') }} 
```

或者使用 POST 方法有什么特别的好处吗？

这是一个基于 laravel 构建的示例应用程序：

[http://www.bootsnipp.com](http://www.bootsnipp.com)

搜索页面不附加任何查询字符串。我不希望这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:18:19.927

[Laravel 为控制器提供了 RESTful 选项](http://laravel.com/docs/controllers#restful-controllers)。通过打开 RESTful，您的控制器可以响应 RESTful 命令，例如`POST`、和`GET``DELETE``PUT`

使用该`Form::open()`方法，您可以选择四个选项中的任何一个。如果您决定使用`GET`- 那么您`get_method()`将被调用。如果您决定使用`POST`- 那么您`post_method`将被调用。

按照一般的 RESTful 命令，您将用于`POST`创建记录。当您检索记录时，`GET`是合适的选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:22:05.890

根据搜索经验，请始终使用 GET。对于隐藏数据，请使用帖子，例如登录。

甚至谷歌我们使用 get 方法进行搜索。

# php - 嗨，我想使用像 php 中的参考那样的谷歌地图，我怎样才能得到这张地图

> ID：14868187
> 
> 赞同：1
> 
> 时间：2013-02-14T05:11:35.350
> 
> 标签：php, google-maps, google-maps-api-3, maps, google-apps

我正在发送一个参考链接我想要一个像这样的谷歌地图，任何人都可以帮助我吗

对此。[http://www.reclamefolder.nl/kaart](http://www.reclamefolder.nl/kaart)

上面的网站有一个地图，标记上有多个公司的指针和标志

指针我如何在 PHP 中使用这个。

谢谢！[在此处输入图片描述][1]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:19:36.560

您可以使用[**GoogleMap3**](https://developers.google.com/maps/documentation/javascript/examples/)来完成，这为您提供了有关如何使用 Google Map 的指南。

您还可以使用 jQueryGoogleMap3 来使用 Google [**Map3**](http://gmap3.net)。

# asp.net - 无法更新自动刷新参考 'ajaxcontroltoolkit.dll 和 commonlogging.dll

> ID：14868188
> 
> 赞同：12
> 
> 时间：2013-02-14T05:11:39.810
> 
> 标签：asp.net, asp.net-ajax

> 无法更新自动刷新参考 'ajaxcontroltoolkit.dll 和 commonlogging.dll

每次构建项目时我都会收到此警告，但项目运行良好，本地系统没有中断，但上传到服务器后我在 godaddy 中收到错误页面。这是godaddy共享主机服务器出现500错误的原因吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-18T13:13:41.337

我对 AjaxControlToolkit 也有同样的问题。我不知道是什么原因造成的，但只需使用 NuGet 将工具包重新安装到我的项目中，就可以修复它。

按照以下步骤安装软件包：

1.  右键单击您的项目并选择管理 NuGet 包。
2.  在在线存储库中搜索所需的包。就我而言，这是“ajaxcontroltoolkit”。
3.  在出现的结果列表中找到该包，然后单击其上的“安装”按钮。

它的作用是删除包的所有先前引用（旧的 DLL 和 web.config 文件中的引用），并用更新的正确引用替换它们

就是这么简单。

希望这可以帮助你

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2018-04-29T17:34:25.160

在项目的 bin 文件夹中查找一个名为的文件 - 在您的情况下：

```
ajaxcontroltoolkit.dll.refresh 
```

这将有一个不正确的 dll 文件路径。您需要更新 dll 现在所在位置的路径。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-21T14:20:06.347

遇到同样的问题并为其 DLL 手动创建一个 .refresh 文件有所帮助。一旦我发现相对路径的来源是解决方案文件夹，并将其放在 .refresh 中，一切都适用于这个和其他引用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-09T22:19:07.707

我希望这对某人有所帮助...我使用 VS2017 并且有一个带有 28 个警告的 ASP 项目：

> 无法更新自动刷新引用“XXXXX.dll”。找不到程序集 'F:\Program Files (x86)\Microsoft Web Tools\Packages\...</p>

...嗯...该**目录已被删除！**

更糟（或更好）当我创建一个新的 ASP 项目时，引用在解决方案资源管理器中的处理方式略有不同......并且新项目中引用的程序集位于 C:\Program Files (x86)\Microsoft Visual Studio \共享

要修复我的警告...我编辑了 .refresh 文件。

> 您可以通过以下方式执行此操作： 1：双击警告。2：在 Bin 文件夹下的解决方案资源管理器中导航到它。

并改变（示例）

```
..\..\..\..\..\..\..\Program Files (x86)\Microsoft Web Tools\Packages\AspNet.ScriptManager.bootstrap.3.0.0\lib\net45\AspNet.ScriptManager.bootstrap.dll 
```

到

```
C:\Program Files (x86)\Microsoft Visual Studio\Shared\Packages\AspNet.ScriptManager.bootstrap.3.0.0\lib\net45\AspNet.ScriptManager.bootstrap.dll 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-24T08:15:53.053

我有同样的问题/为我解决的只是在 Bin 文件夹上做一个“刷新文件夹”。

# asp.net-mvc - 防止在 Asp.net MVC 中上传大图像文件

> ID：14868189
> 
> 赞同：1
> 
> 时间：2013-02-14T05:11:42.087
> 
> 标签：asp.net-mvc

我有一个用 asp.net MVC 和 C# 编写的网站。我们有上传照片的功能，我正在使用 jquery.form.js 来提交图像，因为我们还必须显示图像的预览。

我想阻止用户上传大小超过 2 mb 的图像。这可能吗 ？我们不允许使用闪光灯或银光。

目前我正在检查 post 方法中的 ContentLength 属性，如果大小大于 2mb，则会显示错误。

我想知道是否可以通过其他方式进行检查？我担心用户是否尝试上传 20 MB 的图像，这会减慢整个服务器的速度？

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:16:46.533

You can set the maximum size of a request in `web.config`:

```
<configuration> 
    <system.web> 
        <httpRuntime maxRequestLength="2097152" /> 
    </system.web> 
</configuration> 
```

You'll then need to catch and respond to the corresponding "max request length exceeded" exception.

# facebook - 使用 facebook 开发 Flash 应用程序

> ID：14868196
> 
> 赞同：0
> 
> 时间：2013-02-14T05:12:02.930
> 
> 标签：facebook, air, adobe

我正在开发一个应用程序，我想在其中创建 Flash 按钮、文本字段、标签，因此为此我需要哪些工具。我已经在我的系统上下载并安装了 Adob​​e，它具有以下配置

*   英特尔酷睿 i3 处理器
*   Windows 7 家庭版
*   64位操作系统

Adobe AIR 安装成功，但我不知道如何使用 Adob​​e AIR，所以请告诉我如何使用 Adob​​e AIR，并告诉我还需要哪些其他工具？请指导我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:50:40.543

如果你想添加 Flash 按钮、文本框等，那么你必须下载并安装 Flash Professional CS5，因为这个 IDE 是创建任何与 Flash 相关的东西所必需的。

你已经安装了adobe AIR，那很好，但只有AIR是不够的，你必须通过CS5制作SWF文件才能得到东西。

# android - SL4A Python 脚本找不到文件

> ID：14868198
> 
> 赞同：1
> 
> 时间：2013-02-14T05:12:31.933
> 
> 标签：android, python, file, sl4a

因此，在将我的 python 脚本和文本文件（无扩展名）推送到`/sdcard/sl4a/scripts`. 不幸的是，当我使用 SL4A 在终端内运行脚本时，它会退出并出现一个回溯错误，指出我的文件尚未找到（当它试图打开它进行读取时）。我检查了目录并找到了其中的文件`ref`。有什么我想念的吗？

编辑：我没有提到我实际上并没有“打开”文件本身，而是使用 linecache 模块来获取行。我不认为这应该有所作为。

# jquery - 翻转 jQuery 的计时

> ID：14868201
> 
> 赞同：0
> 
> 时间：2013-02-14T05:12:46.803
> 
> 标签：jquery, html, css

我想在`fadeTo()`这段代码中添加一个函数，这样翻转不是瞬时的。

```
// JavaScript Document

function initRollovers() {
if (!document.getElementById) return

var aPreLoad = new Array();
var sTempSrc;
var aImages = document.getElementsByTagName('img');

for (var i = 0; i < aImages.length; i++) {      
    if (aImages[i].className == 'imgover') {
        var src = aImages[i].getAttribute('src');
        var ftype = src.substring(src.lastIndexOf('.'), src.length);
        var hsrc = src.replace(ftype, '_o'+ftype);

        aImages[i].setAttribute('hsrc', hsrc);

        aPreLoad[i] = new Image();
        aPreLoad[i].src = hsrc;

        aImages[i].onmouseover = function() {
            sTempSrc = this.getAttribute('src');
            this.setAttribute('src', this.getAttribute('hsrc'));
        }   

        aImages[i].onmouseout = function() {
            if (!sTempSrc) sTempSrc = this.getAttribute('src').replace('_o'+ftype, ftype);
            this.setAttribute('src', sTempSrc);
        }
    }
}
}

window.onload = initRollovers; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:01:37.400

尝试这个 ：

```
// JavaScript Document
$(window).ready(function () {
initRollovers();
})

function initRollovers() {
if (!document.getElementById) return

var aPreLoad = new Array();
var sTempSrc;
var aImages = document.getElementsByTagName('img');

for (var i = 0; i < aImages.length; i++) {
    if (aImages[i].className == 'imgover') {
        var src = aImages[i].getAttribute('src');
        var ftype = src.substring(src.lastIndexOf('.'), src.length);
        var hsrc = src.replace(ftype, '_o' + ftype);

        aImages[i].setAttribute('hsrc', hsrc);

        aPreLoad[i] = new Image();
        aPreLoad[i].src = hsrc;

        $(aImages[i]).mouseenter(function () {
            sTempSrc = this.getAttribute('src');
            sCurrent = this;
            $(sCurrent).fadeOut(function () {
                this.setAttribute('src', this.getAttribute('hsrc'));
                $(sCurrent).fadeIn();
            });

        })

        $(aImages[i]).mouseleave(function () {
            $(sCurrent).fadeOut(function () {
                if (!sTempSrc) sTempSrc = this.getAttribute('src').replace('_o' + ftype, ftype);
                this.setAttribute('src', sTempSrc);
                $(sCurrent).fadeIn();
            })

        })
    }
}
} 
```

# javascript - .toUpperCase() 按钮将 TextArea 中的所有文本大写

> ID：14868206
> 
> 赞同：0
> 
> 时间：2013-02-14T05:13:31.230
> 
> 标签：javascript, textarea, capitalize

为了让按钮出现以单击以将 textarea 中的所有文本转换为大写字母，我需要做什么？不只是第一个字母，而是每一个字母。

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T05:15:16.937

你可以使用 css 来做到这一点，使用 text-transform:uppercase;

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:17:01.837

try this

```
$('#buttonID').click(function() {
   var upperString = $('#textAreaID').val().toUpperCase();
   $('#textAreaID').val(upperString);
}); 
```

Or using JavaScript

```
document.getElementById('buttonID').onclick = function() {
   var uppperString = document.getElementById('textAreaID').value.toUpperCase();
   document.getElementById('textAreaID').value = upperString;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:21:22.263

```
$("#my_textarea").css({textTransform:"uppercase"}) 
```

# python - 我的自定义 heroku python buildpack 在每次推送时下载要求

> ID：14868207
> 
> 赞同：4
> 
> 时间：2013-02-14T05:13:47.110
> 
> 标签：python, django, heroku, buildpack

我分叉了默认的 python buildpack 并添加了几行，它们基本上将 phantonjs 和 casperjs 可执行文件添加到我的环境中。此处的代码：[https](https://github.com/tapanpandita/heroku-buildpack-python) ://github.com/tapanpandita/heroku-buildpack-python 。我所做的更改很少（从此处的第 163-196 行[https://github.com/tapanpandita/heroku-buildpack-python/blob/主/bin/compile#L163](https://github.com/tapanpandita/heroku-buildpack-python/blob/master/bin/compile#L163)）。

但是，现在的问题是，当我推送到heroku master 时，所有的需求都被重新下载了。这使得部署过程非常缓慢。在我使用默认构建包之前，这不是问题。知道我可能做错了什么吗？这是一个 django 应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T21:06:37.910

尝试更改您的 buildpack，以便您可以在您的 repo 中提供 phantomjs 和 casperjs 可执行文件。

# c# - 是否有任何像样的库可以在 C# 中生成 Web 文档？

> ID：14868214
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:14:22.777
> 
> 标签：c#, asp.net, msdn

我正在考虑在运行时生成网络文档。这意味着生成 html、JavaScript 和 css。有没有高级库？或者我将通过使用 File.Create("Default.aspx") 创建 html 文档，然后使用大量 HtmlTextWriter.WriteBlaBlaBla()

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:16:14.597

您的业​​务需求似乎不清楚，但请尝试使用 HTMLtextwriter 更好地控制您的代码

# magento - Magento 模块 SQL 不运行

> ID：14868228
> 
> 赞同：3
> 
> 时间：2013-02-14T05:15:45.723
> 
> 标签：magento, installation, magento-1.7, magento-1.6

我的模块将正确设置，并且所有相关文件都已正确安装。但是没有创建数据库表。

我已按照[本](http://magentocookbook.wordpress.com/2009/06/28/magento-module-sql-setup/)教程进行操作。

我的配置 xml 如下。

```
<?xml version="1.0"?>
<config>
  <modules>
    <Myname_Mygateway>
      <version>1.0.0</version>
    </Myname_Mygateway>
  </modules>
  <global>
    <resources>

      <Mygateway_setup>
        <setup>
          <module>Myname_Mygateway</module>
        </setup>
        <connection>
          <use>core_setup</use>
        </connection>
      </Mygateway_setup>

      <Mygateway_write>
        <connection>
          <use>core_write</use>
        </connection>
      </Mygateway_write>

      <Mygateway_read>
        <connection>
          <use>core_read</use>
        </connection>
      </Mygateway_read>

    </resources>
    <models>
      <mygateway>
        <class>Myname_Mygateway_Model</class>
      </mygateway>
    </models>
    <helpers>
      <mygateway>
        <class>Myname_Mygateway_Helper</class>
      </mygateway>
    </helpers>
    <blocks>
      <mygateway>
        <class>Myname_Mygateway_Block</class>
      </mygateway>
    </blocks>
  </global>
  <default>
    <payment>
      <mygateway>
        <model>mygateway/standard</model>
        <active>1</active>
        <order_status>pending</order_status>
        <title>My Gateway</title>
        <payment_action>sale</payment_action>
        <allowspecific>0</allowspecific>
        <sort_order>1</sort_order>
      </mygateway>
    </payment>
  </default>
  <frontend>
    <routers>
      <mygateway>
        <use>standard</use>
        <args>
          <module>Myname_Mygateway</module>
          <frontName>mygateway</frontName>
        </args>
      </mygateway>
    </routers>
  </frontend>
</config> 
```

我有一个名为 .php 的文件`/sql/mygateway_setup/mysql4-install-1.0.0.php`，但它没有运行。

**我试过什么**

*   尝试从 core_resource 中删除与我的模块相关的任何条目
*   更改版本号
*   匹配版本号

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:09:53.693

按照以下步骤进入管理面板。

运行编译器：

管理员 => 系统 => 工具 => 编译 > 启用 => 运行编译过程。

重新索引数据：

管理员 => 系统 => 索引管理 =>

勾选所有复选框，然后单击右上角下拉菜单中的“重新索引数据”提交。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:47:13.790

首先，将您的 xml 中的每个单词都更改为小写，例如（到 .second 事情是在您的 xml 中创建模型，例如

```
 <mygateway_mysql4>
                <class>Mygateway_Model_Mysql4</class>
                <entities>
                    <mygateway>
                        <table>mygateway</table>
                    </mygateway>

                </entities>
            </mygateway_mysql4> 
```

有关详细信息和分步过程，您可以研究这些文章[Link1](http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/custom_module_with_custom_database_table)、[Link2](http://theblog.enova-tech.net/2011/09/create-custom-magento-module-tutorial/)。

希望它能解决你的问题

# oracle - 如何在 Oracle 11gr2 中安装程序选项

> ID：14868229
> 
> 赞同：3
> 
> 时间：2013-02-14T05:15:46.317
> 
> 标签：oracle, plsql, oracle11gr2

我一直在尝试在我的计算机上本地安装的 Oracle 11gR2 上创建 PL/SQL 包和运行过程，但我一直收到 ORA-00900 错误。根据这篇[文章](http://www.techonthenet.com/oracle/errors/ora00900.php)，似乎没有安装程序选项。

这是我登录时 sqlplus 的输出：

```
C:\Users\NgCH>sqlplus

SQL*Plus: Release 11.2.0.1.0 Production on Thu Feb 14 13:11:34 2013

Copyright (c) 1982, 2010, Oracle.  All rights reserved.

Enter user-name: system@orcl
Enter password:

Connected to:
Oracle Database 11g Release 11.2.0.1.0 - 64bit Production

SQL> 
```

我该如何安装它？如果我必须重新安装 Oracle，我必须在安装程序中选择哪些选项？我选择了企业版，桌面类。

谢谢。

编辑：

这是我尝试在 DBeavor（64 位）v2.0.6 中执行到具有 Oracle 瘦连接的本地 Oracle 数据库的*非常简单的包代码：*

```
CREATE OR REPLACE PACKAGE TEST AS

hello_world constant varchar(20) := 'hello world';

END TEST; 
```

来自 DBeavor 的错误：

```
Error occurred during SQL query execution

Reason:
SQL Error [900] [42000]: ORA-00900: invalid SQL statement 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:57:05.417

我遵循了评论中的建议，并了解到我的问题根本不在于我的 Oracle 数据库安装。

我在尝试运行一些 pl/sql 脚本时使用了 DBeaver，由于某种原因，我不知道它在 ORA-00900 上失败了。发布问题后，我在 Toad for Oracle 中运行了相同的脚本，它可以正常工作。在 SQL Plus 中运行相同的脚本也可以。

我还不知道是什么导致了 DBeaver 中的错误，但至少现在我知道错误代码 ORA-00900 并不意味着我的数据库缺少任何程序选项功能。事后看来，我可能应该在发布问题之前先在 SQL Plus 中测试我的脚本。

无论如何，谢谢你们的评论，它真的帮助了我很多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-25T12:34:00.587

DBeaver 无法执行 PL/SQL，因为他们认为它是特定于 Oracle 的，事实就是如此。这可能会在未来的某个时间实施。

# cocoa-touch - 未调用“initWithNibName”方法

> ID：14868240
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:17:19.033
> 
> 标签：cocoa-touch

```
NSString *nibName = @"SampleViewController"
UIViewController *controller = [[UIViewController alloc] initWithNibName:nibName bundle:nil]; 
```

使用上面的代码移动到“SampleViewController”xib ......它工作正常，但`initWithNibName`方法没有在`SampleViewController`. 任何人都可以帮助我触发生命周期方法`SampleViewController`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:31:52.610

UIViewController 是实现 SampleViewController 的父级。因此，您需要使用 SampleViewController 类实例而不是 UIViewController。

```
SampleViewController *controller = [[SampleViewController alloc] initWithNibName:@"SampleViewController" bundle:[NSBundle mainBundle]]; 
```

# jquery - 防止加载隐藏 iframe 的内容

> ID：14868252
> 
> 赞同：14
> 
> 时间：2013-02-14T05:18:17.203
> 
> 标签：jquery, iframe, load, modal-dialog, hidden

我有很多隐藏`<div>`标签，`(display: none)`当我想加载 jQuery 模式时，我会调用这些标签。这些`<div>`标签中的每一个都包含一个`<iframe>`调用不同页面的标签。

为了不让我的页面加载缓慢，我想知道是否有办法阻止`<iframe>`加载页面，直到我`<div>`在模态中调用？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-14T05:20:05.343

您可以通过在 iframe 的 html 中提供空的 src 并稍后通过 jquery / javascript 分配 src 来在呈现 html 后加载 iframe。

*html*

```
<iframe id="iframe1" ></iframe> 
```

*Javascript，iframe 可以加载一些动作，比如按钮点击*

```
document.getElementById('iframe1').src="/default.aspx"; 
```

正如[kern3l](https://stackoverflow.com/users/731634/kern3l)所说，我们可以在iframe中添加data属性来保存src而不是硬编码。

*html*

```
<iframe id="iframe1" data-frameSrc="/default.aspx"></iframe> 
```

*Javascript*

```
ifrmame1 = $('#iframe1')
ifrmam1.src = ifrmam1.data("frameSrc"); 
```

您还可以在 jquery 中创建一个新框架并分配 src，这将加载带有空白框架的页面。

```
$('<iframe>', {
   src: '/default.aspx',
   id:  'myFrame',
   frameborder: 0,
   scrolling: 'no'
   }).appendTo('#parentDivId'); 
```

或者

```
var iframe = document.createElement('iframe');
iframe.frameBorder=0;
iframe.width="300px";
iframe.height="250px";
iframe.id="myFrame";
iframe.setAttribute("src", '/default.aspx');
document.getElementById("parentDivId").appendChild(iframe); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T05:50:12.650

只需使用一个 iframe：

```
<iframe id='page' src=''></iframe> 
```

然后`assign src`在：`each click`_`button/link`

## 假设这是html：

```
<ul>
  <li><a href='myfolder/myPage1.html'>Page 1</a></li>
  <li><a href='myfolder/myPage2.html'>Page 2</a></li>
</ul> 
```

## 然后jQuery：

```
$('ul li a').click(function(e){
   e.preventDefault();
   $('#page').attr('src', $(this).attr('href'));
}); 
```

# mysql - While connecting to mysql showing socket error

> ID：14868253
> 
> 赞同：0
> 
> 时间：2013-02-14T05:18:26.217
> 
> 标签：mysql, ruby, rubygems

I have mysql server installed and it contains data also. I was trying to connect to mysql from ruby code. For that purpose I installed mysql gem using `gem install mysql`. The connection part in my program is giving below

```
require 'rubygems'
require 'mysql'
require 'csv'
$user_name = "root"
$pas_wrd = "password"
def mysql_connect(db_name)
begin
  db = Mysql.real_connect("localhost", "#{$user_name}", "#{$pas_wrd}", "#{db_name}")
  return db
rescue Mysql::Error => e
  puts "Error code: #{e.errno}"
  puts "Error message: #{e.error}"
  puts "Error SQLSTATE: #{e.sqlstate}" if e.respond_to?("sqlstate")
end
end 
```

It was written some day before and done the job. But when I try to use the same code It shows a mysql gem error,something like 'initialize' not found. By searching I found a solution like re-installing the gem. for re-installing I user the command `rvmsudo gem install mysql`. The above problem was solved. But it showing another error like

```
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2) 
```

I tried manually using `mysql -u root -p`

it is also showing the same error.

My mysql `my.cnf` content is given below.

```
[client]
port            = 3306
socket          = /var/run/mysqld/mysqld.sock

[mysqld_safe]
socket          = /var/run/mysqld/mysqld.sock
nice            = 0

[mysqld]
user            = mysql
pid-file        = /var/run/mysqld/mysqld.pid
socket          = /var/run/mysqld/mysqld.sock
port            = 3306
basedir         = /usr
datadir         = /var/lib/mysql
tmpdir          = /tmp
lc-messages-dir = /usr/share/mysql
tmpdir          = /home/presoft/Documents
skip-external-locking 
```

The mysql is not running in my system.

```
ps aux | grep mysql
presoft   3823  0.0  0.0   4368   816 pts/0    S+   10:41   0:00 grep --color=auto mysql 
```

I tried to start using using `sudo /etc/init.d/mysql start` which gave the result of

```
Rather than invoking init scripts through /etc/init.d, use the service(8)
utility, e.g. service mysql start

Since the script you are attempting to invoke has been converted to an
Upstart job, you may also use the start(8) utility, e.g. start mysql
start: Job failed to start 
```

Can any one help me to find a solution because db containing large amount of valuable data.

Thanks

Regards.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:26:42.547

利用

`service mysql start`

这将启动 mysql 服务。较新的 linux 机器将 mysql 视为服务

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:46:47.960

我从上面的答案提示中解决了这个问题。问题是我的 mysql 服务器已损坏。

所以我首先运行命令

```
sudo apt-get purge mysql-common mysql-server 
```

它将删除所有 mysql 文件和配置而不删除数据。运行后请仔细观察过程并做需要充分的任何警告或错误来。我收到了类似的警告

```
dpkg: warning: while removing mysql-common, directory '/etc/mysql' not empty so not removed. 
```

所以我删除了文件并重新运行上述命令。执行成功后。我使用重新安装了mysql

```
sudo apt-get install mysql-common mysql-server 
```

然后设置root密码。进入服务器后数据是安全的。

# java - Thread.interrupt() 后中断不起作用

> ID：14868256
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:18:35.653
> 
> 标签：java, multithreading, user-interface, awt, event-dispatch-thread

以下代码用于具有多线程的 SlotMachine GUI。当我点击应用程序中的停止按钮时。我希望每个线程都被中断，进入 catch，打印一个错误，继续几个“回合”然后中断。不幸的是，当停止按钮被按下时，它不会进入捕捉器并且不会断裂。实际上，数字似乎加快了。有人可以阐明一下吗？为什么即使在 Thread.interrupt(); 之后线程也不会中断？谢谢！

```
import java.awt.*;
import java.awt.event.*;
import java.util.Random;

@SuppressWarnings("serial")
public class SlotMachine extends Frame {
private TextField textWindow1, textWindow2, textWindow3, resultWindow;
private int count1 = 0, count2 = 0, count3 = 0, result1 = 0, result2 = 0,
        result3 = 0;
private Button toggleButton;
public static final int HEIGHT = 150;
public static final int WIDTH = 100;
Random generator = new Random();

public static void main(String[] args) {
    SlotMachine counterWindow = new SlotMachine();
    counterWindow.setVisible(true);

}// main

public SlotMachine() {
    setSize(WIDTH, HEIGHT);

    addWindowListener(new WindowDestroyer());
    setTitle("Slot Machine");
    setBackground(Color.orange);

    setLayout(new FlowLayout());

    textWindow1 = new TextField(1);
    add(textWindow1);
    textWindow1.setText("*");

    textWindow2 = new TextField(1);
    add(textWindow2);
    textWindow2.setText("*");

    textWindow3 = new TextField(1);
    add(textWindow3);
    textWindow3.setText("*");

    toggleButton = new Button("Start");
    toggleButton.addActionListener(new ToggleButtonListener());
    add(toggleButton);

    resultWindow = new TextField(10);
    add(resultWindow);
    resultWindow.setText("");

}

private class box1Thread extends Thread {

    public void run() {
        while (true) {
            try {
                Thread.sleep(50);
                result1 = (count1++) % 4;
                textWindow1.setText(Integer.toString(result1));
            } catch (InterruptedException e) {
                System.err.println("Interrupted.");
                int randomInt = generator.nextInt(25);
                for (int i = 0; i < randomInt; i++) {
                    result1 = (count1++) % 4;
                    textWindow1.setText(Integer.toString(result1));
                }
                break;
            }

        }
    }
}

private class box2Thread extends Thread {

    public void run() {
        while (true) {
            try {
                Thread.sleep(50);
                result2 = (count2++) % 4;
                textWindow2.setText(Integer.toString(result2));
            } catch (InterruptedException e) {
                System.err.println("Interrupted.");
                int randomInt = generator.nextInt(25);
                for (int i = 0; i < randomInt; i++) {
                    result2 = (count2++) % 4;
                    textWindow2.setText(Integer.toString(result2));
                }
                break;
            }
        }
    }
}

private class box3Thread extends Thread {

    public void run() {
        while (true) {
            try {
                Thread.sleep(50);
                result3 = (count3++) % 4;
                textWindow3.setText(Integer.toString(result3));
            } catch (InterruptedException e) {
                System.err.println("Interrupted.");
                int randomInt = generator.nextInt(25);
                for (int i = 0; i < randomInt; i++) {
                    result3 = (count3++) % 4;
                    textWindow3.setText(Integer.toString(result3));
                }
                break;
            }
        }
    }
}

private class ToggleButtonListener implements ActionListener {

    public void actionPerformed(ActionEvent e) {
        box1Thread counter1Thread = new box1Thread();
        box2Thread counter2Thread = new box2Thread();
        box3Thread counter3Thread = new box3Thread();
        if (e.getActionCommand().equals("Stop")) {

            counter1Thread.interrupt();
            counter2Thread.interrupt();
            counter3Thread.interrupt();

            toggleButton.setLabel("Start");
            if (result1 == result2 && result2 == result3) {
                resultWindow.setText("You Win!");
            } else {
                resultWindow.setText("Sorry, You Lose!");
            }
        }

        else if (e.getActionCommand().equals("Start")) {

            counter1Thread.start();
            counter2Thread.start();
            counter3Thread.start();
            toggleButton.setLabel("Stop");
            resultWindow.setText("");

        }
    }
}

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:21:31.677

每次`actionPerformed()`调用时，您都在创建新线程。您需要创建一次线程并保存这些引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:25:21.003

我认为问题在于事件处理过程。实际上，当您按下停止时，actioncommand 仍处于“开始”状态。而不是设置标签，尝试使用

```
toggleButton.setActionCommand("Stop"); 
```

[设置动作命令](http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/Button.html#setActionCommand%28java.lang.String%29)

# vim - TeX-PDF and VIM configuration

> ID：14868265
> 
> 赞同：1
> 
> 时间：2013-02-14T05:19:27.493
> 
> 标签：vim, latex

I somehow cannot get the [TeX-PDF](http://www.vim.org/scripts/script.php?script_id=3230) plugin to compile the files appropriately. It states in the [plugin description](http://www.vim.org/scripts/script.php?script_id=3230) that it defaults ot pdflatex, which I have on my Windows 7, it is mapped in the path variable. It spits out the error:

```
compiled with errors 
```

which is baically an undefined case (there are no errors in the file, it compiles with pdflatex from the cmd well).

I tried almost all of the solutions for VIM (like vim-latex, atp, etc) but I can't get them to work with pdflatex. I just want to be able to avoid the process in the command line. I need a step by step, or really well explained guide, because I am sick of reading all the manuals from top to bottom, and not having a result.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:00:18.590

如果你

```
:set shellcmdflag=/k 
```

从 Vim 调用的任何外部 shell 命令都会*使*控制台窗口保持打开状态。您将看到插件用于编译的确切命令行，并可以从那里调查问题所在。找到问题后，您需要“向后工作”以查看如何将修复程序放入插件中；也许有一个设置会影响编译。（我自己不知道/使用插件。）

# ios - UICollectionView：如何检测滚动何时停止

> ID：14868269
> 
> 赞同：65
> 
> 时间：2013-02-14T05:19:34.520
> 
> 标签：ios, objective-c, ios6, uicollectionview

我正在使用 a`UICollectionView`快速滚动浏览一组缩略图。滚动结束后，我想显示当前缩略图的更大高分辨率版本。

如何检测用户何时完成滚动？我确实实现`didEndDisplayingCell`了，但这只会告诉我某个特定单元格何时滚动；它没有告诉我滚动动作何时真正完成。

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2013-02-15T23:15:13.717

```
NS_CLASS_AVAILABLE_IOS(6_0) @interface UICollectionView : UIScrollView 
```

`UICollectionView`是 的子类`UIScrollView`。所以如果你已经设置了委托并实现了`UIScrollViewDelegate`，你应该能够以同样的方式检测到`UIScrollView`。

例如：-

```
- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView; 
```

根据[文档](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIScrollViewDelegate_Protocol/Reference/UIScrollViewDelegate.html#//apple_ref/occ/intfm/UIScrollViewDelegate/scrollViewDidEndDecelerating:)，上述方法应该告诉滚动视图何时结束减速滚动运动。

* * *

## 回答 #2

> 赞同：60
> 
> 时间：2013-10-24T18:36:46.810

只是为了覆盖你的基础，你应该实现这两个 UIScrollViewDelegate 方法。在某些情况下，可能没有减速（并且`scrollViewDidEndDecelerating`不会被调用），例如，页面完全滚动到位。在这种情况下，请在`scrollViewDidEndDragging`.

```
- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate
{
  if (!decelerate) {
    [self updateStuff];
  }
}

- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView
{
  [self updateStuff];
} 
```

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2015-08-18T11:25:44.053

这里要注意一个重要的事实。

在用户启动的滚动（即平移手势）上调用此方法：

`- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView;`

或在**Swift**中：

`func scrollViewDidEndDecelerating(_ scrollView: UIScrollView)`

另一方面，在所有手动（以编程方式）启动的滚动（如`scrollRectToVisible`or `scrollToItemAtIndexPath`）上都会调用这个：

`- (void)scrollViewDidEndScrollingAnimation:(UIScrollView *)scrollView`

或在**Swift**中：

`func scrollViewDidEndScrollingAnimation(_ scrollView: UIScrollView)`

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2017-09-12T14:20:02.977

Abey M 和 D6mi 的 Swift 3 版本的答案：

当滚动是由用户操作引起的

```
public func scrollViewDidEndDragging(_ scrollView: UIScrollView, willDecelerate decelerate: Bool) {
    if (!decelerate) {
        //cause by user
        print("SCROLL scrollViewDidEndDragging")
    }
}

public func scrollViewDidEndDecelerating(_ scrollView: UIScrollView) {
    //caused by user
    print("SCROLL scrollViewDidEndDecelerating")
} 
```

当滚动由代码操作（以编程方式）引起时：（如“scrollRectToVisible”或“scrollToItemAtIndexPath”）

```
public func scrollViewDidEndScrollingAnimation(_ scrollView: UIScrollView) {
    //caused by code
    print("SCROLL scrollViewDidEndScrollingAnimation")
} 
```

笔记：

*   将这些函数放在您的 UIScrollViewDelegate 或 UICollectionViewDelegate 委托中。
*   如果您没有单独的委托，请让您当前的类扩展您的类文件顶部的 UIScrollViewDelegate op

.

```
open class MyClass: NSObject , UICollectionViewDelegate 
```

并在您 viewWillAppear 的某处使该类成为自己的代表

```
override open func viewWillAppear(_ animated: Bool) {
    super.viewWillAppear(animated)
    // ...
    self.myScrollView.delegate = self
    // ...
} 
```

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2017-06-20T13:49:08.337

斯威夫特 3 版本：

```
func scrollViewDidEndDecelerating(_ scrollView: UIScrollView) {
    // Your code here
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-08-27T21:57:25.053

如果你想使用可见的索引路径：

```
- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView
{
    [self scrollingFinish];
}
- (void)scrollingFinish {

    if([self.collectionView indexPathsForVisibleSupplementaryElementsOfKind:UICollectionElementKindSectionHeader]){
        NSIndexPath *firstVisibleIndexPath = [[self.collectionView indexPathsForVisibleSupplementaryElementsOfKind:UICollectionElementKindSectionHeader] firstObject];
        [self.collectionView scrollToItemAtIndexPath:firstVisibleIndexPath atScrollPosition:UICollectionViewScrollPositionTop animated:YES];
        [NSObject cancelPreviousPerformRequestsWithTarget:self];
    }
} 
```

# javascript - 使当前迭代自身重复

> ID：14868273
> 
> 赞同：2
> 
> 时间：2013-02-14T05:19:53.137
> 
> 标签：javascript, loops

有没有办法让当前的迭代在循环中重复？

```
var repeated = false;

var total = 0;

for (var i = 0; i < 50; i++)
{
    total += i;

    if (i == 33 && !repeated)
    {
        repeated = true;
        repeat; // imaginary
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:21:33.213

`i`只需从“重复”中减去 1

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:21:58.167

当然，只需从 中减去 1 即可`i`。

```
var repeated = false;

var total = 0;

for (var i = 0; i < 50; i++)
{
    total += i;

    if (i == 33 && !repeated)
    {
        repeated = true;
        i--;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:32:12.773

你可以试试这个，不需要重复：

```
var total = 0;
for (var i = 0; i < 50; i++)
{
    total += i;
    if (i == 33)
    {
       total += i;
    }
} 
```

# php - 不填充，按钮内联

> ID：14868279
> 
> 赞同：1
> 
> 时间：2013-02-14T05:20:55.873
> 
> 标签：php, html, css, twitter-bootstrap

我正在使用 html、php 和 bootstrap 创建一些列表和按钮。我的第一个问题是我编写了一个脚本来填充“选择”下拉列表。它应该转到“sounds/”目录并使用 .wav 文件填充自身。“选择”正确显示，只是没有填充列表。我在目录中确实有 .wav 文件，并且我授予了目录本身的完全权限。所以不是这样。

我的另一个问题是如何在“选择”下拉菜单中放置一个按钮。我不想在下一行。

```
<!--CALL TAB-->
<div id="call">
  <div class="container">
  <div class="hero-unit">
      <h5>Call Functions -</h5>
      <h6>Test Paragraph</h6>

      <br>

      <h6> Select a Sound One -</h6>
      <div class="row">
        <div class="span2">
          <select id="sound1">
            <?php 
              foreach(glob('sounds/*.wav') as $filename){
              $rest = substr($filename, 7);    
              echo "<option>".$rest."</option>";
              }
            ?>
          </select>
        </div>
      </div>

      <br>

      <h6> Select a Sound Two -</h6>
      <div class="row">
        <div class="span2">
          <select id="sound2"> 
            <?php 
              foreach(glob('sounds/*.wav') as $filename){
              $rest = substr($filename, 7);    
              echo "<option>".$rest."</option>";
              }
            ?>
          </select>
        </div>
      </div>

      <br>

      <h6>Volume - </h6>
      <div id="slider-range-max">
      </div>
    <div class="row">
      <div class="span6">
        <br>
        <p><a class="btn btn-large btn-primary" href="index.html">Play <i class="icon-   play"></i></a> <a class="btn btn-large btn-danger" href="index.html">Pause <i class="icon-pause"></i></a>
      </div>
    </div>
  </div>

  <hr>

    <footer>
      <p>&copy; FOOTER</p>
    </footer>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:40:51.940

获取选择旁边的按钮很简单。如果您没有将`select`or`button`设置为`block`元素，那么它们应该彼此相邻出现（内联块）。如果下面的 HTML 对您不起作用（按钮不在选择旁边），请尝试同时`float: left;`添加`select`和`button`.

对于您的`glob()`，您确定路径正确吗？执行此操作的 PHP 文件与`sounds`文件夹在哪里？你的目录结构是什么？

[http://jsfiddle.net/3JQeZ/](http://jsfiddle.net/3JQeZ/)

```
<div class="row">
    <div class="span2">
        <select id="sound1">
            <option>1 option</option>
            <option>2</option>
            <option>3</option>
        </select>
        <button>Button</button>
    </div>
</div> 
```

# java - Java - 仅使用一个私有关键字定义私有字段

> ID：14868284
> 
> 赞同：2
> 
> 时间：2013-02-14T05:21:17.620
> 
> 标签：java, field, private

有没有办法让我只使用一个`private`关键字来定义私有字段？我真正要问的是：有没有我可以做的事情看起来像这样：

```
private {
    int x;
    int y;
    Object myObject;
    //etcetera
}; 
```

and `x`, `y`, and`myObject`都将被创建为私有字段

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:26:56.007

不，不可能在一个块中定义不同数据类型的变量。最接近的是：

```
private int x,y;
private Object myObject; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:33:35.707

至少在java中你不能那样做。因为在java中

**有几种变量：**

1.  类中的成员变量——这些被称为字段。
2.  方法或代码块中的变量——这些被称为局部变量。
3.  方法声明中的变量——这些被称为参数。

每个变量都有自己的**访问修饰符**，例如：

1.  `public`修饰符——该字段可从所有类访问。
2.  `private`修饰符——该字段只能在其自己的类中访问。

因此，您必须执行以下操作：

```
private int x,y;
private Object myObject; 
```

# jakarta-ee - 通过“纯”类覆盖 EJB 3 无状态会话 bean 的方法

> ID：14868287
> 
> 赞同：0
> 
> 时间：2013-02-14T05:21:28.507
> 
> 标签：jakarta-ee, ejb, ejb-3.0

我们有一个带有 EJB 3.0 模块的应用程序。我们想要覆盖 EJB 实现中的业务逻辑。可能吗？

一旦我覆盖，如何查找或注入被覆盖的会话 bean？

```
public interface TestRemote {
    public String result(String arg1, String arg2);
}

@Stateless
public class TestBeanOne implements TestRemote {
    public String result(String arg1, String arg2) {
        return "TestBeanOne " + arg1 + arg2;
}

//Is the below code possible?
public class TestBeanTwo extends TestBeanOne {
    public String result(String arg1, String arg2) {
        return "TestBeanTwo " + arg1 + arg2;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T11:08:57.087

您应该了解 EJB 本质上仍然是一个简单的 Java 类。Java 类可以实现的一切都可以通过 EJB 实现。因此，只要查找类，任何会话 Bean。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:37:07.410

是的，该代码是可能的，您只需要对其进行注释即可。注释可以被部署描述符覆盖。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-15T00:04:14.277

假设`TestBeanTwo`该类不是`@Stateless`故意的，则该类将不是无状态会话 bean，因此无法作为 EJB 查找或注入。即使在文件`@Stateless`中有声明， bean 类也不会暴露接口，而只是一个碰巧可用的无接口视图。`ejb-jar.xml``TestBeanTwo``TestRemote``public String result(String, String)`

EJB 3.1 规范在该部分`4.9.2.1 Session Bean Superclasses`（第 121 页）中说：

*允许会话 bean 类具有本身就是会话 bean 类的超类。但是，对于这种情况，没有适用于注释处理或部署描述符的特殊规则。出于处理特定会话 bean 类的目的，所有超类处理都是相同的，无论超类本身是否是会话 bean 类。在这方面，使用会话bean类作为超类仅仅代表了实现继承的方便使用，但不具有组件继承语义。*

在规范的同一页面上：

*特定会话 bean 公开的客户端视图不会被恰好定义会话 bean 的子类继承。*

我认为规范中的这两个摘录很好地解释了这个问题。

# php - PDO Prepared 语句不返回任何结果

> ID：14868296
> 
> 赞同：0
> 
> 时间：2013-02-14T05:22:38.490
> 
> 标签：php, mysql, pdo, parameter-passing

```
function db_execute($sql,$db,$array)
{
    require(getcwd() . '/config/config.php');

    if (empty($array))
    { 
        $array = "";
        print "Something wrong";
    }
    $connection = db_connect($db_host,$db_username,$db_password,$db);
    $q = $connection->prepare($sql, array(PDO::ATTR_CURSOR => PDO::CURSOR_FWDONLY));

    $q ->execute(array($array));

    if(!$q)
    {
        die("Error! " . $connection->errorInfo());
    }

    $result = $q -> fetchAll();

    return $result; 
}

$sql = "SELECT VALUE FROM users WHERE :id = :idnum";
$array = array(':id' => 'USER_ID', ':idnum' => '2');

printFormattedArray($array);
printFormattedArray(db_execute($sql,"user_db",$array)); 
```

出于某种原因，我无法从此函数中获得任何结果来返回任何结果。但是当我将查询替换为

```
$sql = "SELECT VALUE FROM users WHERE USER_ID = 2"; 
```

它给了我所需的结果。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:35:47.070

基本上，您有 2 个选择。

.1。避免在查询中使用动态标识符。
所以，去你的第二个查询。

```
$sql   = "SELECT VALUE FROM users WHERE USER_ID = :idnum";
$array = array(':idnum' => '2');
$data  = db_execute($sql, $array); 
```

.2\. 如果你需要动态标识符，你也需要一个独特的*占位符*。
所以，你的代码就像

```
$sql   = "SELECT VALUE FROM users WHERE ?n = ?i";
$data  = db_execute($sql, 'USER_ID', 2); 
```

还，

*   **永远不要**在查询执行函数中连接。连接一次，然后使用打开的连接
*   始终将您的 PDO 设置为报告 mysql 错误

连接后添加此代码

```
$connection->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION ); 
```

# c - C 中的网络编程（简单的服务器演示代码混淆）

> ID：14868297
> 
> 赞同：1
> 
> 时间：2013-02-14T05:22:45.147
> 
> 标签：c, networking

我正在从 Jon Erickson 的书 Hacking, the Art of Exploitation 中学习，我对他提供的简单代码示例感到困惑。代码是设置一个简单的服务器，但是当我编译它（没有错误）并运行代码时，它挂起

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include "hacking.h"

#define PORT 7890   // the port users will be connecting to

int main(void) {
int sockfd, new_sockfd;  // listen on sock_fd, new connection on new_fd
struct sockaddr_in host_addr, client_addr;  // my address information
socklen_t sin_size;
int recv_length=1, yes=1;
char buffer[1024];

if ((sockfd = socket(PF_INET, SOCK_STREAM, 0)) == -1)
    fatal("in socket");

if (setsockopt(sockfd, SOL_SOCKET, SO_REUSEADDR, &yes, sizeof(int)) == -1)
    fatal("setting socket option SO_REUSEADDR");

host_addr.sin_family = AF_INET;      // host byte order
host_addr.sin_port = htons(PORT);    // short, network byte order
host_addr.sin_addr.s_addr = INADDR_ANY; // automatically fill with my IP
memset(&(host_addr.sin_zero), '\0', 8); // zero the rest of the struct

if (bind(sockfd, (struct sockaddr *)&host_addr, sizeof(struct sockaddr)) == -1)
    fatal("binding to socket");

if (listen(sockfd, 5) == -1)
    fatal("listening on socket");

while(1) {    // Accept loop
    sin_size = sizeof(struct sockaddr_in);
    new_sockfd = accept(sockfd, (struct sockaddr *)&client_addr, &sin_size);
    if(new_sockfd == -1)
        fatal("accepting connection");
    printf("server: got connection from %s port %d\n", inet_ntoa(client_addr.sin_addr), ntohs(client_addr.sin_port));
    send(new_sockfd, "Hello World!\n", 13, 0);
    recv_length = recv(new_sockfd, &buffer, 1024, 0);
    while(recv_length > 0) {
        printf("RECV: %d bytes\n", recv_length);
        dump(buffer, recv_length);
        recv_length = recv(new_sockfd, &buffer, 1024, 0);
    }
    close(new_sockfd);
}
return 0;
} 
```

我做了一点 printf() 来找出我挂在哪里，结果就在这条线上

```
sin_size = sizeof(struct sockaddr_in); 
```

我不确定这是否与我的环境有关，或者我缺少某些东西。本书使用的环境无法再更新（Ubuntu的一些旧版本）。所以我目前正在使用最新的。

有人可以向我解释为什么该程序不起作用吗？

如果在学习网络章节之前需要了解一些基础知识，请告诉。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:27:17.707

在收到来自客户端程序的传入连接`accept`后，该程序才会继续运行。`sizeof`您的 printf 显示 accept 被调用但被阻止。

您需要使用正确的选项（IP / 端口）编译和运行客户端以连接到此服务器程序。

**更新** 如果 192.168.42.248 来自书中，那么您可能正在尝试连接到错误的 IP。试试`telnet 127.0.0.1 7890`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:30:10.963

它是一个服务器，它会“挂起”，直到你连接到端口 7890。这就是程序的重点（更多细节，它会阻塞，因为[`accept()`](http://linux.die.net/man/2/accept)正在等待连接）

假设您正在运行 unix，请在运行时尝试`echo "hi there" | nc localhost 7890`在同一台机器上输入终端，您将看到它是如何“解除阻塞”的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:41:23.860

根据您线程中飞来飞去的所有评论，我建议使用以下命令行连接 telnet：`telnet localhost 7890`

telnet 将要连接的主机和要连接到该主机的端口作为参数。使用“localhost”类似于使用环回 IP 127.0.0.1。

为什么连接服务器可以解决“挂起”？accept 是阻塞的，您可以在[手册页](http://linux.die.net/man/2/accept)或编程环境的任何其他文档中阅读。这意味着该函数在客户端连接之前不会返回。连接后，该函数返回为连接客户端创建的可用于通信的套接字的句柄。

# c - 是否有可能对于两个正整数 i 和 j，(-i)/j 不等于 -(i/j)？

> ID：14868303
> 
> 赞同：3
> 
> 时间：2013-02-14T05:23:07.057
> 
> 标签：c, math

是否有可能对于两个正整数 i 和 j， (-i)/j 不等于 -(i/j) ？我不知道这是否可能......我认为这可能是关于位的问题，或者是 char 类型的溢出或其他问题，但我找不到它。有任何想法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-14T06:35:32.360

在 C99 之前，这是可能的，因为负操作数的除法是实现定义的；它可以是代数除法或向零舍入。C99 将其定义为向零舍入。

例如，C89 允许`(-1)/2 == -1`，而 C99 要求`(-1)/2 == 0`. 在所有情况下，`-(1/2) == 0`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T06:36:52.813

**使用无符号整数表示 i 和 j 时**确实有可能（你说的是正整数，对吧？:P）。

例如，以下程序的输出`(-i)/j 2147483647 -(i/j) 0`在我的 Intel 64 位 OSX 机器中（无符号整数是 32 位长）

```
#include <stdio.h>

int main()
{
  unsigned int i = 1;
  unsigned int j = 2;
  printf("(-i)/j %u -(i/j) %u\n", (-i)/j, -(i/j));

  return 0;
} 
```

查看汇编程序，`negl`intel 指令用于计算否定。`negl`执行[二进制补码](http://en.wikipedia.org/wiki/Two%27s_complement)。二进制补码结果在解释为无符号值时会导致不匹配。但不要简单地相信我的话，这里有一个例子：

例如，假设 8 位字，对于 i=1 和 j=2

二进制形式： i=00000001 j=00000010

-(i/j) = twos_complement(00000001/00000010) = twos_complement(00000000) = 00000000

-(i)/j = twos_complement(00000001)/00000010 = 11111111 / 00000001 = 1111111（十进制为 127）

由无符号表示触发的不匹配甚至在使用 C99 编译器时也会发生。正如@R 所说，在 c99 之前的编译器中也可能发生另一个不匹配，因为[除以负数是实现定义的](https://stackoverflow.com/a/3604984/1914440)。

# objective-c - 如何在 PHP Web 服务中传递参数？

> ID：14868305
> 
> 赞同：0
> 
> 时间：2013-02-14T05:23:20.813
> 
> 标签：objective-c, web-services, nsurlrequest

我正在开发一个必须调用 PHP Web 服务的应用程序。我正在传递所有提到的参数，但响应仍然给出没有空字符串的输出。

这些是 PHP Web 服务的以下参数：

```
method: POST 
parameters: {
title fname lname conNo pwd email city state country
} 
```

这些是成功和不成功响应的条件：

```
Respons:

    case a: On Sucessfull Registration

 {
    'userName' : 'fName', 'outhProvider' : 'normal', 'status' : 'success' 'userId' : 'userId',
    'title' : 'title', 'firstName' : 'fName', 'lastName' : 'lName', 'city' : 'city', 'contactNo' : 'conNo', 'state' : 'state',
    'country' : 'country'
    }

    case b: On Duplicate Registration 
{
    “status” : “Data already exist” }

    case c: On Data not sufficient
     {
        “status” : “No data supplied” } 
```

我使用的 Post 方法是：-

```
-(void)RegisterUser
{
    NSString *strnew=[[NSString alloc]init];
    strnew=@"buyer";

    SBJSON *json = [SBJSON new];
    json.humanReadable = YES;
    responseData = [[NSMutableData data] retain];

    NSString *service = @"http://www.ajatus.in/ajatus_templates/Templaton/wp-content/plugins/realestate/registrationJson.php";

    NSString *requestString = [NSString stringWithFormat:@"{\"title\":\"%@\",\"fName\":\"%@\",\"lName\":\"%@\",\"conNo\":\"%@\",\"pwd\":\"%@\",\"email\":\"%@\",\"city\":\"%@\",\"state\":\"%@\",\"country\":\"%@\"}",titlename.text,fname.text,lname.text,contactno.text,password.text,email.text,city.text,state.text,country.text];

    NSData *requestData = [NSData dataWithBytes: [requestString UTF8String] length: [requestString length]];

    NSString *urlLoc=@"";
    urlLoc = [urlLoc stringByAppendingString:service];

    NSLog(@"URL:- %@",urlLoc);

    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:
                                    [NSURL URLWithString: urlLoc]];
        NSString *postLength = [NSString stringWithFormat:@"%d", [requestData length]];
    [request setHTTPMethod: @"POST"];
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
    [request setHTTPBody: requestData];

    self.connection = [NSURLConnection connectionWithRequest:request delegate:self];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:30:40.467

您必须使用一些键值来获取所有数据，例如这行代码：

```
NSString* latestvalue = [[[json objectForKey:@"countries"] objectAtIndex:0] objectForKey:@"countryName"]; 
```

# java - Java 应用程序中的脚本集成

> ID：14868308
> 
> 赞同：0
> 
> 时间：2013-02-14T05:23:27.363
> 
> 标签：java, javascript

我有一个 java 应用程序（可运行的 jar）和 VB 脚本，我用它们远程登录到远程机器并执行一些 cmd。所以，我首先执行 vbs 文件，然后运行我的 jar（一切正常）。

但是，现在我想集成脚本和我的 java jar，这样，运行 jar 应该首先触发脚本，然后是 Java 相关任务。

我遇到的几件事是-

我无法从 Java 触发 Vbs（javax.script - 如果我错了，请纠正我）。因此，重写脚本的可能选项是 - Javascript（不知道我的 Javascript 文件会有什么，因此在 Java 类中读取它之后，我可以将其写入 Socket 输出流。）

PHP（我使用Java桥尝试过这个，但它给出了一些错误，说需要安装cgi。而且，我相信它还需要在执行我的jar之前在主机上安装PHP。所以我不会再用这种方法.)

长话短说，我不想创建任何依赖项 - 我正在寻找可以将任何外部库与我的 jar 打包（如果需要）并使用它来执行我的脚本的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:30:27.803

您可以在外部命令中执行 VB 脚本。互联网上有很多资源可以解释如何做到这一点 - 例如，[这个链接](http://www.rgagnon.com/javadetails/java-0014.html)还解释了如何从 java 中启动 VB-Script。但是我不知道您是否需要 Java 中脚本的输出。如果是这样，您将不得不收听已创建进程的输出流。您也应该通过该链接找到一个示例（使用 processbuilder）

如果您将脚本打包在 jar 中，我担心您必须将其解压缩到临时文件夹并在那里执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:35:58.310

我所见过的最接近 VB 脚本作为一种 JVM 语言的答案在这里。 [Visual Basic 或 VBScript 作为 Java 脚本引擎](https://stackoverflow.com/questions/3793234/visual-basic-or-vbscript-as-java-scripting-engine)

你看过这个关于 JVM 语言的维基百科条目吗？ [http://en.wikipedia.org/wiki/List_of_JVM_languages](http://en.wikipedia.org/wiki/List_of_JVM_languages)

另外，您是否考虑过使用 Ant 并从 java 以编程方式使用它？

另一种选择是使用 Java 中的 groovy/Ant。

# java - android中的圆形图像水平滚动视图，这样当我到达最后一个图像时，第一个会出现，当我到达第一个图像时，最后一个会出现

> ID：14868309
> 
> 赞同：2
> 
> 时间：2013-02-14T05:23:36.713
> 
> 标签：java, android, horizontalscrollview, circular-list

您好，我正在使用[幻灯片演示](https://github.com/blessenm/SlideshowDemo)参考的水平图像滚动。

现在我想让它变成圆形，这样当我的第 43 张图像出现时，滚动不会停止，它应该与第一个图像一起出现。

我已经添加了这样的图像。

```
public void addImagesToView() {
    for (int j = 0; j < Utility.image_array.length; j++) {
        final Button imageButton = new Button(this);
        imageButton.setBackgroundResource(Utility.image_array[j]);
        imageButton.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        System.gc();
        Runtime.getRuntime().gc();
        imageButton.setTag(i);
        imageButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View arg0) {
                if (isFaceDown) {
                    /*
                     * if (clickTimer != null) { clickTimer.cancel();
                     * clickTimer = null; } clickedButton = (Button) arg0;
                     * stopAutoScrolling();
                     * clickedButton.startAnimation(scaleFaceUpAnimation());
                     * clickedButton.setSelected(true); clickTimer = new
                     * Timer();
                     * 
                     * if (clickSchedule != null) { clickSchedule.cancel();
                     * clickSchedule = null; } clickSchedule = new
                     * TimerTask() { public void run() {
                     * startAutoScrolling(); } };
                     * clickTimer.schedule(clickSchedule, 1500);
                     */
                }
            }
        });

        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(
                256, 256);
        params.setMargins(0, 25, 0, 25);
        imageButton.setLayoutParams(params);
        horizontalOuterLayout.addView(imageButton);
    }
} 
```

我只想知道我们如何才能使这 43 个图像平滑地循环，这样当我向右滚动并到达最后一个图像时，它应该与第一个图像一起向右滚动，依此类推。与左滚动相同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-12T13:12:51.390

这是 InfiniteScrollView 可以帮助您或为您提供滚动和循环滚动的想法 [https://github.com/satansly/InfiniteScrollView](https://github.com/satansly/InfiniteScrollView)

我希望对你有所帮助。

# html - 显示带有动态信息的 AdSense 广告

> ID：14868312
> 
> 赞同：1
> 
> 时间：2013-02-14T05:24:28.393
> 
> 标签：html, adsense, ads

我想从动态内容的广告感上展示广告，IE调用一个API并发送一些关键字来获取广告，这可能吗？

例如：

```
Adsense.GetAdsForKeywords("car, subaru, auckland"); 
```

否则，请在页面上标记要与 adsense EG 一起使用的字词

```
<span class="adsense-words">car,subaru,auckland</span> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T11:18:25.193

您不能为您的广告选择关键字，Google 会根据您网站的文字内容自动为您的网站选择广告，如此处所述[链接](http://support.google.com/adsense/bin/answer.py?hl=en&answer=32844)。

但是你可以做**Section Targeting**，为了强调部分之间的内容，你可以使用它作为 folows

```
<!-- google_ad_section_start -->

your preferred content goes here, google will emphasize more on this section, you can put your keywords span here

<span class="adsense-words">car,subaru,auckland</span>

<!-- google_ad_section_end --> 
```

[关于部分定位的参考](http://support.google.com/adsense/bin/answer.py?hl=en&answer=23168)

# android - Android PackageManger -- 异常

> ID：14868315
> 
> 赞同：0
> 
> 时间：2013-02-14T05:24:57.677
> 
> 标签：android, performance

当获取在设备中运行的包列表时，我从我的 logcat 中获取了 execption 代理存根异常

> **这是我使用的代码**
> List packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);
> 
> **这是我得到的例外**
> 
> （互斥体：tll=0 tsl=0 tscl=0 ghl=0）“main”prio=5 tid=1 NATIVE | group="main" sCount=1 dsCount=0 obj=0x40ab1478 self=0x112f910 | sysTid=1801 nice=0 sched=0/0 cgrp=默认句柄=1074439528 | schedstat=( 0 0 0 ) utm=465 stm=85 core=1 at android.os.BinderProxy.transact(Native Method) at android.content.pm.IPackageManager$Stub$Proxy.getInstalledApplications(IPackageManager.java:1930) at android.app.ApplicationPackageManager.getInstalledApplications(ApplicationPackageManager.java:414) 在 com.informate.smnpd.DataUsageAppManager.processData1(DataUsageAppManager.java:237) 在 com.informate.smnpd.DataUsageAppManager.processData(DataUsageAppManager.java:114) 在 com .informate.smnpd.BackgroundService.getData(BackgroundService.java:667) 在 com.informate.smnpd.ManualUpdate.onClick(ManualUpdate.java:221) 在 android。

谁能指导我为什么在安装包名称时会发生此异常。提前致谢

# php - 无法生成带有徽标的 pdf

> ID：14868319
> 
> 赞同：0
> 
> 时间：2013-02-14T05:25:06.183
> 
> 标签：php, dompdf

`template_header.php`如果我在文件中添加徽标，我将无法打印我的 PDF 。如果我启用`include_once("template_header.php")`它不会生成任何 PDF，它会报告此错误消息：

```
PHP Fatal error:  Call to undefined function imagecreatetruecolor() 
```

如果我禁用我的标题（即在该`include_once`行上方），它会生成一个没有徽标且仅包含文本的 PDF。

我尝试在下面启用，但同样的问题仍然存在：

```
define("DOMPDF_ENABLE_REMOTE", true); 
```

我的 dompdf 版本。是`dompdf_0-6-0_beta3`。

谁可以帮我这个事？

下面是更新的代码

```
require_once("dompdf/dompdf_config.inc.php"); 
$dompdf = new DOMPDF();
$html = '
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>booking</title>
<link rel="stylesheet" href="style/style.css" type="text\css" media="screen" />

</head>
<body>

<div align="center" id="mainwrap">
<?php include_once("template_header.php")?>

</div>
</body>
</html>';
$dompdf = new DOMPDF(); 
$dompdf->load_html($html);
$dompdf->render();
$dompdf->stream("sample.pdf"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:37:06.700

请在 php.ini 中检查您的 GD 库安装。

然后在 php 文件中运行`<?php phpinfo(); ?>`并检查 GD 库

![在此处输入图像描述](../Images/192e25e740b0043afaf335ff601253e5.png)

更新 -

检查`php.ini`并寻找`extension=php_gd2.dll`

如果`;`[评论] 然后取消评论并重新启动服务。

# iphone - Avplayer 无法在 iphone 视网膜显示中调整为全屏

> ID：14868322
> 
> 赞同：0
> 
> 时间：2013-02-14T05:25:34.683
> 
> 标签：iphone, objective-c, video, ios6

我在 iphone 5 中播放视频时遇到问题。视频在 iphone 中完全全屏播放，但问题出在视网膜显示器上。它不适合全屏并在右侧留下白色的thik bar。

我尝试了以下代码，但它在视网膜显示中不起作用

```
 outputURL = [NSURL fileURLWithPath:filePath];
    av = [[AVPlayer alloc] initWithURL:outputURL];
    AVPlayerLayer *layer = [AVPlayerLayer playerLayerWithPlayer:av];
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad)
    {
        [layer setFrame:CGRectMake(0, -20, 1024, 670)];
    }
    else
    {
        [layer setFrame:CGRectMake(0, -10, 480, 287)];
    }

    if([layer.videoGravity isEqualToString:AVLayerVideoGravityResizeAspect])
    {
        layer.videoGravity = AVLayerVideoGravityResizeAspectFill;
    }
    else
    {
        layer.videoGravity = AVLayerVideoGravityResizeAspect;
    }
    [self.view.layer addSublayer:layer];
    av.actionAtItemEnd = AVPlayerActionAtItemEndNone;
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(moviePlayBackDidFinish:) 
                                                 name:AVPlayerItemDidPlayToEndTimeNotification
                                               object:[av currentItem]]; 
```

请帮我解决一些问题。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T13:26:29.257

在代码的第 6 行中，您将 AVPlayerLayer 的宽度设置为 480 像素，但 iPhone 5 屏幕的宽度为 568 像素（横向时）。所以这行不通。

这应该可以解决您的问题：

```
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad)
{
    [layer setFrame:CGRectMake(0, -20, self.view.frame.width, 670)];
}
else
{
    [layer setFrame:CGRectMake(0, -10, self.view.frame.width, 287)];
} 
```

但我想知道为什么你需要 -20/-10 垂直偏移以及这些帧高度来自哪里，也许不是 if/else 块，这也可以为你工作：

```
[layer setFrame:self.view.bounds]; 
```

# json - 在循环通过数据库数据集时，将唯一哈希数据放入 JSON 对象而不使用数组的最佳方法是什么？

> ID：14868323
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:25:48.237
> 
> 标签：json, perl, hash

我需要将数据放入 JSON 对象，但因为我使用的是`%data`哈希并且它具有相同的地址，所以我在我的 JSON 对象中重复获取相同的数据。

这是生成 JSON 的代码。

```
 while (my ($orderID, $possessorName, $itemDescription, $...) = $sth->fetchrow_array) 
        {
            %data = (orderID => $orderID, possessorName => $possessorName, itemDescription => $itemDescription,...);

            $query_results{"job$index"} = {"data" => \%data};

            $index++;

        }

        return $json_obj->pretty->encode(\%query_results, {ascii => 1, pretty => 1}); 
```

问题是我的数据集中的最后一项掩盖了所有以前的项目，所以我最终得到了一个包含相同数据的大型 JSON。我想我可以使用一组哈希值，但这看起来真的很混乱和草率。如何编写最简洁的代码来获取我的数据？如果散列数组是最好的方法，请告诉我，我会做的。我都准备好知道如何或可以自己解决。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:50:13.453

当您尝试时会发生什么：

```
my $index = 0;
my %query_results;

while (my ($orderID, $possessorName, $itemDescription, $...) = $sth->fetchrow_array) {
    my %data = (orderID => $orderID, possessorName => $possessorName, itemDescription => $itemDescription,...);
    $query_results{"job$index"}{'data'} = \%data;
    $index++;
} 
```

以前，您使用了`%data`在外部范围内声明的哈希；或者更糟糕的是，你没有`use strict; use warnings`这样做`%data`实际上是一个隐含的全局。现在，我们声明了循环`%data` *内部*，这使得所有的哈希都不同。

您还可以将哈希复制到新的 hashref 中`{%data}`。

也就是说，您甚至不需要该变量：

```
$query_results{"job$index"}{data} = {
  # anonymous hashref here
  orderID          => $orderId,
  possessorName    => $possessorName,
  itemDescription  => ...
}; 
```

# iphone - 如何在 ARC 模式下释放 goolable 实例变量

> ID：14868328
> 
> 赞同：1
> 
> 时间：2013-02-14T05:26:43.433
> 
> 标签：iphone, objective-c

我在我的 h 文件中创建了多个实例

> ```
> IBOutlet UIImageView *imageView;
> IBOutlet UIImageView *subImageView; 
> ```

```
IBOutlet UIImageView *arrowRight;
IBOutlet UIImageView *arrowLeft;
IBOutlet UIImageView *arrowDown; 
```

我的项目处于 ARC 模式

我必须在 dealloc () 方法中将它们设置为 nil 才能释放它们吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:41:29.590

如果在释放对象之一后不需要全局实例，最好的方法是将全局指针设置为`nil`in `dealloc`。

```
- (void)dealloc {
    gYourGlobalPointer = nil;
} 
```

请注意，在 ARC 中您不能调用`[super dealloc]`， dealloc 将自动发送到您的超类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:44:48.223

您可以将它们设为 nil， `viewDidUnload`如下所示：

```
- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
    self.myOutlet = nil;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T06:49:00.467

在 ARC 中，您根本不必担心释放属性的实例名副其实。编译器将为您处理它们。

如果要手动释放，则必须将 nil 分配给指向特定实例的所有强变量。

# python - 熊猫重新索引具有重复键的数据框

> ID：14868329
> 
> 赞同：3
> 
> 时间：2013-02-14T05:26:43.733
> 
> 标签：python, pandas, reindex

这是问题的一个例子：

```
>>> df = DataFrame({'a':[1,2]},index=[datetime.today(),datetime.today()+timedelta(days=1)])
>>> df
                            a
2013-02-15 09:36:14.665272  1
2013-02-16 09:36:14.857322  2
>>> dup_index = datetime.today()
>>> df2 = DataFrame({'a':[2,3]},index=[dup_index,dup_index])
>>> df2
                            a
2013-02-15 09:37:11.701271  2
2013-02-15 09:37:11.701271  3
>>>
>>> df2.reindex(df.index,method='ffill')
Traceback (most recent call last):
...
Exception: Reindexing only valid with uniquely valued Index objects 
```

我希望将 df2 与 df 合并。因为索引时间不匹配，我希望将 df2 时间与 df 中最接近的最后一次匹配，即第一行。我想出的解决这个问题的一种人为方法是在第二个时间序列中添加一个假的微秒值，使其变得独一无二。但这对于大数据帧来说很慢。不允许这样做有什么特别的原因吗？这似乎是一件合乎逻辑的事情。我有没有更好的方法来克服这个限制？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T15:06:21.130

我最近遇到了类似的问题。我通过首先从`df2`. 这样做会让您考虑保留哪个以及丢弃哪个。不幸的是，pandas 似乎没有很好的方法来删除基于重复索引条目的重复项，但是这种解决方法（向 'index' 列添加`df2`）应该可以做到：

```
>>> df2['index'] = df2.index
>>> df3 = df2.drop_duplicates(cols='index', take_last=True).reindex(df.index, method='ffill')
>>> del df3['index']
>>> df3
                             a
2013-02-21 09:51:56.615338 NaN
2013-02-22 09:51:56.615357   3 
```

当然，您可以设置 'take_last=False' 以获得 a 列的值 2。

我注意到您说“我希望将 df2 时间与 df 中最接近的最后时间相匹配，即第一行”。我不太明白这个说法。df 中与 df2 中时间最接近的时间是第二行，而不是第一行。如果我误解了您的问题，请告诉我，我会更新此答案。

作为参考，这是我的测试数据：

```
>>> df
                            a
2013-02-21 09:51:56.615338  1
2013-02-22 09:51:56.615357  2
>>> df2
                            a
2013-02-21 09:51:57.802331  2
2013-02-21 09:51:57.802331  3 
```

# xcode - XCode 构建错误“架构 x86_64 的未定义参考

> ID：14868330
> 
> 赞同：0
> 
> 时间：2013-02-14T05:26:46.863
> 
> 标签：xcode, macos, linker, compiler-errors, shared-libraries

所以我试图将一个静态库链接到 xcode，但我不断收到此错误：ld: '__ZN6Assimp8ImporterC2Ev' in /Users/myname/Library/Developer/Xcode/DerivedData/myproject-fgstrusvlsalcmaqizaayqhaluvj/Build/Products/Debug/libraryname。 a(Importer.o) 包含未定义的架构 x86_64 参考命令 /Developer/usr/bin/clang++ 失败，退出代码为 1

有没有人在这里看到过这个错误，我该如何修复它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:29:51.980

您在项目设置中的“仅使用 Active Architecture 构建”下有什么？

如果您在构建阶段不小心在“编译源”中添加了头文件，我似乎也记得遇到问题。

# perl - Perl 和 Rose::DB Postgres 事务

> ID：14868333
> 
> 赞同：1
> 
> 时间：2013-02-14T05:26:56.727
> 
> 标签：perl, postgresql, transactions, rose-db-object

我整天都在为这个问题苦苦挣扎。在我松开所有头发之前，我想我会在这里问。

# 描述

我将 Perl 5.10.1 与 Rose::DB 和 PostgreSQL 8.4（在 Debian Linux 上）一起使用。

我需要对我的“trans”对象进行一些更改，使其位于单个事务块中（即更改全部写入或回滚）。但是，我就是无法让它工作。

我已经在 AutoCommit ON 和 OFF 的情况下进行了尝试。

在下面的示例代码中，$db 是在脚本开始时建立的 Rose::DB 连接（使用：my $db = My::DB->new;）。所有 Rose::DB 对象都继承自一个基类 (My::Base)。这个基类有一个用于 DB 连接的可继承子类：

```
sub init_db
{
    My::DB->new_or_cached
} 
```

DB 连接对象 (My::DB) 包含连接字符串和设置：

```
_ _PACKAGE_ _->use_private_registry;

_ _PACKAGE_ _->register_db(
    driver          => 'pg',

database        => 'xx',
host            => 'localhost',
username        => 'xx',
password        => 'xx',

    connect_options => {
        AutoCommit      => 0,  -- changed to suit SCENARIO 1 and 2 below
        RaiseError      => 1,
    }
); 
```

# 场景 1：自动提交关闭

自动提交 0 和 RaiseError 1

```
my $trans = shift;

eval {
    $trans->...        -- Make changes to object
    $trans->save;

    # die "testing";   -- Cause a rollback using "die"

    $db->commit or die $db->error;
};

if ($@)
{
    warn "aborted: $@";

    eval {
        $db->rollback;
    };
} 
```

回滚案例：​​有效（没有更改写入数据库）

提交案例：**失败**（没有更改写入数据库）

# 场景 2：自动提交开启

自动提交 1 和 RaiseError 1

```
my $trans = shift;

eval {
    $db->begin_work or die $db->error;

    $trans->...        -- Make changes to object
    $trans->save;

    # die "testing";   -- Cause a rollback using "die"

    $db->commit or die $db->error;
};

if ($@)
{
    warn "aborted: $@";

    eval {
        $db->rollback;
    };
} 
```

回滚案例：**​​失败**（写入数据库的更改）

提交案例：有效（写入数据库的更改）

您可以提供的任何帮助或建议将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:26:01.427

您可能打开了多个数据库连接。如果您提交的连接与具有事务的连接不同，则该行为正是人们所期望的。

我建议您重新检查您的程序流程，以确保您只有一个连接。

# grails - grails emacs 模式 - “无法打开加载文件” “项目模式”

> ID：14868334
> 
> 赞同：2
> 
> 时间：2013-02-14T05:27:00.127
> 
> 标签：grails, emacs, elisp

我正在尝试`emacs`用于 grails 开发。[在grails-emacs-mode](http://code.google.com/p/emacs-grails-mode/)上试过

在我的 ubuntu 12.04 上有`emacs`和。`emacs23`

```
prayag@prayag:~$ ls -l /usr/share/emacs[tab][tab]
emacs/   emacs23/ 
```

正如 grails-emacs-mode 所建议的那样，我将文件复制`grails-mode.el`到`primary.org`我的`emacs23/site-list`

```
prayag@prayag:~$ ls -l /usr/share/emacs23/site-lisp/
total 32
-rw-r--r-- 1 root root  3013 Nov 17 00:39 debian-startup.elc
drwxr-xr-x 2 root root  4096 Nov 17 00:39 dictionaries-common
-rw-r--r-- 1 root root 18205 Feb 14 01:11 grails-mode.el
-rw-r--r-- 1 root root     0 Feb 14 01:11 primary.org
-rw-r--r-- 1 root root   106 Sep 22 01:16 subdirs.el 
```

然后，由于主目录中不存在文件，因此在`init.el`内部创建。内容_`.emacs.d``.emacs``init.el`

```
(require 'grails-mode)
(setq grails-mode t)
(setq project-mode t)
(add-to-list 'auto-mode-alist '("\.gsp$" . nxml-mode)) ; Use whatever mode you want for views.
(project-load-all) ; Loads all saved projects. Recommended, but not required. 
```

现在，opening`emacs23`在菜单栏中没有显示任何 grails。

我也试过

```
M-x
load-file .emacs.d/init.el 
```

抛出

```
Warning (initialization): An error occurred while loading `/home/prayag/.emacs.d/init.el':

File error: Cannot open load file, project-mode

To ensure normal operation, you should investigate and remove the
cause of the error in your initialization file.  Start Emacs with
the `--debug-init' option to view a complete error backtrace. 
```

![grails-emacs](../Images/b37f17d54500c0ad595d6672bfdb2a6d.png)

启动`emacs23 --debug-init`时，抛出以下错误。

```
Debugger entered--Lisp error: (file-error "Cannot open load file" "project-mode")
  require(project-mode)
  eval-buffer(#<buffer  *load*<2>> nil "/usr/share/emacs/23.3/site-lisp/grails-mode.el" nil t)  ; Reading at buffer position 422
  load-with-code-conversion("/usr/share/emacs/23.3/site-lisp/grails-mode.el" "/usr/share/emacs/23.3/site-lisp/grails-mode.el" nil t)
  require(grails-mode)
  eval-buffer(#<buffer  *load*> nil "/home/prayag/.emacs.d/init.el" nil t)  ; Reading at buffer position 23
  load-with-code-conversion("/home/prayag/.emacs.d/init.el" "/home/prayag/.emacs.d/init.el" t t)
  load("/home/prayag/.emacs.d/init" t t)
  #[nil "\205\264 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:32:08.043

我根本不知道圣杯模式。我刚刚单击了您的链接，他们声明项目模式是一个依赖项：

> 依赖项：项目模式是唯一的依赖项。

因此，您还必须安装它。[链接到 Emacs 项目代码](http://code.google.com/p/emacs-project-mode/)。我希望你这个项目没有额外的依赖...

附带说明：**稍后**，尝试安装最后一个 emacs (v24)，它嵌入了一种非常方便的方式来处理包安装和处理包依赖项。我刚刚检查了它，它存在于另一个（但非常了解）存储库中：Marmalade-repo.org。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T11:48:27.613

[grails-mode](http://code.google.com/p/emacs-grails-mode/)需要 emacs-grails-mode 页面上提到的 project-mode。因此，您还需要安装[project-mode](http://code.google.com/p/emacs-project-mode/)。

[还从这里](https://github.com/russel/Emacs-Groovy-Mode)获取剩余的 groovy 包（除了 grails-mode 之外的所有包）。

[emacs-grails-mode-ext](https://github.com/rimerosolutions/emacs-grails-mode-ext)是对 grails-mode 的适度贡献，允许您直接从 emacs 运行 Grails 命令。对于给定的项目（项目模式），您可以运行 Grails 命令，例如*create-domain-class*、*create-service*等。

我还从[这里使用了](http://www.emacswiki.org/TextMate)*ido-find-file-in-tag-files*函数，我将它绑定到*Cx CMf* 。

 *使用 emacs-grails-mode 的简单指南：

*   从命令行或*eshell*创建项目-> *grails create-app yourapp*
*   使用*dired*，转到您的 Grails 项目文件夹
*   *Mx project-new* -> 创建一个新项目(project-mode)
*   *Mx project-save* -> 保存项目
*   *Mx project-load-and-select* -> 你的项目名称作为参数
*   如果您使用菜单栏，还有一个 Grails 菜单

如果你安装了 emacs24，你也可以在这里使用[我当前的 emacs 设置。](https://github.com/rimerosolutions/emacs-rimero-setup)我相信它适用于 Ubuntu 12.04，但我不确定。我通常在 OSX 上从源代码构建 emacs，或者在 Ubuntu 中使用[emacs-snapshot 。](https://launchpad.net/~cassou/+archive/emacs)

希望这可以帮助。*

# command-line-arguments - 什么是标准使用论证风格？

> ID：14868338
> 
> 赞同：1
> 
> 时间：2013-02-14T05:27:27.000
> 
> 标签：command-line-arguments

我正在为我正在做的一些研究制作一些命令行工具。我希望这些工具遵循有关 Unix 中命令行程序的常用约定。

我应该使用标志还是只列出参数？

```
program one two three
program -a one -b two -c three 
```

*   输入文件通常在命令列表中的哪个位置，或者将其更好地`<`放入程序中？
*   输出文件名呢？
*   我应该为输出格式指定文件扩展名，还是让我的程序自动添加正确的扩展名？
*   当用户输入无效命令时，是否有典型的“正确用法”消息？
*   是否需要“--help”或“-h”？

另外，是否有某种我可以包含的头文件有助于管理这些头文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:36:31.207

如果您正在寻找“标准”，那么您可能会比查看[**GNU 的命令行接口标准**](http://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html)更糟糕。其他标准可用。

就这方面的编码而言，看看[**`boost::program_options`**](http://www.boost.org/doc/libs/1_53_0/doc/html/program_options.html). 这不仅可以节省您编写大量自己的代码，而且可以很好地格式化呈现给用户的选项（您要求的原型“正确使用”消息）。

在回答您的具体问题时：

> *   输入文件通常在命令列表中的哪个位置，或者将其 < 放入程序中更好？

我希望这些出现在命令行的末尾。就像在 GNU中一样`grep`。如果您只处理一个文件并希望将其`stdin`用作输入源，那么大多数用户不会感到惊讶。

如果您的命令处理大量文件，那么必须在文件名之前指定一个开关是不常见的。想想`cat`。

> *   输出文件名呢？

A `-o`or`--output`选项相当普遍。如果您的文件只需要一个输入和一个输出，那么`program inputfile outputfile`很多用户不会感到惊讶。如果没有指定输出文件，也许你会输出到`stdout`; 这不会是不寻常的行为，并允许您的用户通过其他命令（例如，等）管道输出`grep`，*他们*`less`还可以使用.*`>`*

 *> *   我应该为输出格式指定文件扩展名，还是让我的程序自动添加正确的扩展名？

这大概是一个有待商榷的问题。如果我指定了输出文件名，我希望在程序不更改名称的情况下找到创建（或在提示后替换）该文件。

> *   当用户输入无效命令时，是否有典型的“正确用法”消息？

再次以 GNU`grep`为例：

```
grep: unrecognized option '--incorrect'
Usage: grep [OPTION]... PATTERN [FILE]...
Try 'grep --help' for more information. 
```

这不会让太多用户感到惊讶，并且如果他们在没有让信息淹没他们的情况下犯了错字，就不会给他们指明正确的方向。

> *   是“ `--help`”还是“ `-h`”？

这取决于你的客户！当这个选项不可用时，我觉得很沮丧。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:32:11.800

通常来说，标志用于提供选项，参数用于传递信息。如果您有输入、输出文件作为命令行参数，请使用 -i -o 等标志，因此顺序无关紧要。如果您想（并且需要）提供文档，则需要 -h。*

# android - 我的 ListView 背景选择器不会突出显示选定的行

> ID：14868339
> 
> 赞同：2
> 
> 时间：2013-02-14T05:27:36.477
> 
> 标签：android, listview, selector

我使用[这个 SO question](https://stackoverflow.com/questions/2562051/listview-item-background-via-custom-selector)作为指导，但是当我单击一行时，它不会保持突出显示。我的代码有什么问题？

score_list.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <ListView
        android:id="@+id/score_list"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_above="@+id/keyboard"
        android:listSelector="@drawable/selector"
        android:choiceMode="singleChoice"
        android:divider="#CCCCCC"
        android:dividerHeight="1dp"
        android:paddingLeft="15dp"
        android:paddingRight="15dp" />
...
</RelativeLayout> 
```

可绘制/选择器.xml

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_focused="true" android:drawable="@color/highlight"/>
    <item android:state_pressed="true" android:drawable="@color/highlight"/>
</selector> 
```

score_row_item.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/scoreRowLayout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal"
    android:background="@drawable/row_selector" >
...
</LinearLayout> 
```

可绘制/row_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_selected="true" android:drawable="@color/highlight" />
    <item android:state_activated="true" android:drawable="@color/highlight" />
    <item android:drawable="@color/transparent" />
</selector> 
```

**此代码现在可以正常工作。**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T05:37:05.583

尝试使用`state_activated`您的 row_selector。

# highcharts - Highcharts：列向下钻取：JSON

> ID：14868344
> 
> 赞同：1
> 
> 时间：2013-02-14T05:28:05.380
> 
> 标签：highcharts

我正在尝试创建一个向下钻取的 Highcharts 柱形图。只要数据是硬编码的，我就可以使用这些示例并使其工作。我还可以获得一个使用 MySQL 数据库中数据的示例。

我需要知道的是如何在系列中调用。

例子：

```
/// This needs to be data from the MySQL (a total sum) of X-data
name = 'Browser brands', 
data = [{
y: 55.11,
color: colors[0],
////// this drill down needs the a breakdown of the data
drilldown: {
name: 'MSIE versions',
categories: ['MSIE 6.0', 'MSIE 7.0', 'MSIE 8.0', 'MSIE 9.0'],
data: [10.85, 7.35, 33.06, 2.81],
color: colors[0]
}
 ///////// I need another drill that will show a breakdown of the data again
}
/// This needs to be data from the MySQL (a total sum) of y-data
name = 'Browser brands', 
data = [{
y: 55.11,
color: colors[0],
////// this drill down needs the a breakdown of the data
drilldown: {
name: 'MSIE versions',
categories: ['MSIE 6.0', 'MSIE 7.0', 'MSIE 8.0', 'MSIE 9.0'],
data: [10.85, 7.35, 33.06, 2.81],
color: colors[0]
}
///////// I need another drill that will show a breakdown of the data again
} 
```

所以理论上我怎么能有一个图表，第一个系列在单击任一列时显示总 X、Y、Z，它显示该数据的细分，当单击下一列中的任一列时再次显示数据的细分。

我知道有多个 MySQL 查询，多个数组。我只是不明白如何在需要时给他们打电话

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T14:00:01.893

看看这部分：

```
click: function() {
                 var drilldown = this.drilldown;
                 if (drilldown) { // drill down

                     this.series.chart.setTitle({
                         text: drilldown.name
                     });

                     setChart(drilldown.name, drilldown.categories, drilldown.data, drilldown.color, drilldown.level);
                 } else { // restore
                    setChart(name, categories, data, null, level);
                 }
              } 
```

只需在那里使用您的 $.getJSON()，然后在 $.getJSON() 中使用 setChart() 方法处理来自 AJAX 的数据。像这样的东西（未经测试）：

```
click: function() {
                 var drilldown = this.drilldown;
                 if (drilldown) { // drill down
                     var chart = this.series.chart;
                     $.getJSON(...., function(data){
                         chart.setTitle({
                             text: data.name
                         });
                         setChart(data.name, data.categories, data.data, data.color, data.level);
                     });
                 } else { // restore
                    setChart(name, categories, data, null, level);
                 }
              } 
```

# android - 如果单击每个按钮并应保持非活动状态，如何禁用它，以便用户不再在 android 中单击同一个按钮？

> ID：14868345
> 
> 赞同：1
> 
> 时间：2013-02-14T05:28:19.233
> 
> 标签：android, button

我是 android 新手，希望得到您的帮助。

我在一个活动中有五个按钮。每个按钮通向不同的活动。单击每个按钮时，我们将进入一个活动，在该活动中我执行数据库插入功能，而在返回用户时，我们将进入保留五个按钮的主要活动。

现在，我想要的是我希望用户知道他已经点击了哪个按钮，以避免用户的困惑。那就是我想在他完成每个按钮所引导的活动中的插入后禁用该按钮。

这是我尝试过的：

```
public class ResourcesActivity extends Activity {
    static boolean isBtnVenueClikced = false; {

        public void buttonListeners() {
            venue_btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    isBtnVenueClikced = true;
                    Log.i("In button venue click isBtnVenueClikced ", isBtnVenueClikced + "");
                    Intent venue_intent = new Intent(getApplicationContext(), VenueActivity.class);
                    venue_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(venue_intent);

                }

            });
            food_cost_btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    Log.i("In Food Button isBtnVenueClikced ", isBtnVenueClikced + "");
                    //isBtnFoodClicked = true;
                    Intent food_intent = new Intent(getApplicationContext(), FoodAndBeveragesActivity.class);
                    food_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(food_intent);

                }
            });
            accomodation_btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                    //isBtnAccClicked = true;
                    Intent accomodation_intent = new Intent(getApplicationContext(), AccomodationActivity.class);
                    accomodation_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(accomodation_intent);

                }
            });
            guest_details_btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                    //isBtnGuestClicked = true;
                    Intent guest_details_intent = new Intent(getApplicationContext(), GuestDetailsActivity.class);
                    guest_details_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(guest_details_intent);

                }
            });
            miscl_btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                    //isBtnOtheClicked = true;
                    Intent others_intent = new Intent(getApplicationContext(), OthersActivity.class);
                    others_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(others_intent);

                }
            });
        }

        @Override
        protected void onResume() {
            // TODO Auto-generated method stub
            super.onResume();
            Log.i("In onResume isBtnVenueClikced ", isBtnVenueClikced + "");
            //checkcliks();
            //isBtnVenueClikced = false;
            if (isBtnVenueClikced == false) {
                venue_btn.setEnabled(true);
            } else {
                venue_btn.setEnabled(false);
            }

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:42:43.057

`startActivityForResult(intent, requestCode);`在使用单击按钮的请求代码启动活动时使用方法。并且在您返回时的第二个活动中刚刚设置`setResult(RESULT_OK);`，这意味着在第二个活动中一切都很好，在第一个活动中您将获得回调方法的结果

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        // TODO Auto-generated method stub
        super.onActivityResult(requestCode, resultCode, data);
    } 
```

因此，您可以通过检查请求代码来禁用此方法中的按钮。

希望这可以帮助你

**编辑：**

首先取五个常量，例如

```
private final int VENUE_BUTTON_REQUEST_CODE = 0; 
```

在您的点击监听器中

```
venue_btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                   Intent venue_intent = new Intent(getApplicationContext(), VenueActivity.class);
                    venue_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivityForResult(venue_intent,VENUE_BUTTON_REQUEST_CODE);

                }

            }); 
```

在你的回调方法中这样做

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
       if(requestCode == VENUE_BUTTON_REQUEST_CODE){
     venue_btn.setEnable(false);
      }
        super.onActivityResult(requestCode, resultCode, data);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:45:33.170

好吧，您可以尝试一个简单的解决方案

当用户单击按钮时，您可以进入共享首选项，通知用户单击了哪个按钮。

例如

```
food_cost_btn.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {

        Log.i("In Food Button isBtnVenueClikced ", isBtnVenueClikced + "");

        context.getSharedPreferences("myPref", Context.MODE_PRIVATE).edit()
            .putBoolean("food_cost_btn", true).commit();

        Intent food_intent = new Intent(getApplicationContext(), FoodAndBeveragesActivity.class);
        food_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
        startActivity(food_intent);

    }
}); 
```

在 onResume 中，您将编写以下内容。

```
if (context.getSharedPreferences("myPref", Context.MODE_PRIVATE)).getBoolean("food_cost_btn", false)) {
    food_cost_btn.setEnabled(false);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:49:14.683

像这样在一个数组中取出所有 5 个按钮

```
Buttons[] buttons={venu_btn,foodcost_btn,accomadation_btn,guest_detail_btn,misc_btn}; 
```

现在在所有 onclick 侦听器中，您正在执行常见任务，所以让我们先减少代码...

为取另一个数组

```
Class[] classes={VenueActivity.class,FoodAndBeveragesActivity.class,AccomodationActivity.class,GuestDetailsActivity.class,OthersActivity.class}; 
```

//设置点击监听

```
for(int i=0;i<buttons.length;i++)
{
buttons[i].setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            Intent commonintent = new Intent(getApplicationContext(),classes[i]);
            others_intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY | Intent.FLAG_ACTIVITY_CLEAR_TOP);
//send selected class index that is i
             commonintent.putExtra("index",String.valueOf(i));
            startActivity( commonintent);
        }
    });
} 
```

在您的活动中使用额外的字符串从活动返回时获取索引。//您也可以使用 sharedPreference 保存它们，但我建议您使用额外的意图

```
 String index=getIntent().getExtras().getString("index");
    if(index!=null && index.length!=null)
    {
    int i=Integer.parseInt(index);
    buttons[i].setEnable(false);
    } 
```

# javascript - 进行简单的 ajax 调用

> ID：14868347
> 
> 赞同：0
> 
> 时间：2013-02-14T05:28:30.573
> 
> 标签：javascript, ruby-on-rails, ajax

我已经处理了仅对应于某个控制器中的操作的 ajax 调用。

我通常会在控制器中有一个动作（让我们称之为“喜欢”动作），并且要进行 ajax 调用，我会这样做：

在视图中`<%= link_to 'like', like_path, :remote => true %>`，以及在部分**js**文件中，类似于`$('.some_class').html("<%= j render 'some_partial' %>");`

然后，将进行不显眼的 ajax 调用。

这一次，我想要一个更简单的 ajax 调用：当我点击一个链接时，我想用另一个 div 替换一个 div。但是该功能在我单击链接之前运行。

鉴于，

```
$(function teacher_function(){
    $(.become_teacher).html("<%= j render 'become_teacher' %>");
});

<div class="become_teacher">
    change this div
</div>

<%= link_to_function "ajax call", "teacher_function()" %> 
```

在 _become_teacher.html.erb 中，我必须`some message`放在 become_teacher 类 div 中。

这似乎是一个非常简单的 javascript 问题，但我想知道在 Rails 应用程序中执行此操作的最常规方法，因为所有 Rails 文档总是进行与控制器中的某个操作相对应的 ajax 调用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:32:37.160

我会先从有意义的、合法的语法开始：

```
function teacher_function() {
    $(".become_teacher").html("<%= j render 'become_teacher' %>");
}

<div class="become_teacher">
    change this div
</div>

<%= link_to_function "ajax call", "teacher_function()" %> 
```

不过，这里没有 Ajax。

# java - 如何在android中消失按钮

> ID：14868349
> 
> 赞同：1
> 
> 时间：2013-02-14T05:28:38.157
> 
> 标签：java, android

我正在开发用户从数据库中搜索特定项目的界面。我的 xml 文件中有一个 EditText 和按钮。所以我想在单击按钮后暂时消失按钮和 EditText，以便用户可以查看所需的详细信息。我如何在同一活动中实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:31:04.630

```
edittxt.setVisibility (View.INVISIBLE);
btn.setVisibility (View.INVISIBLE); 
```

或者

```
edittxt.setVisibility (View.GONE);
btn.setVisibility (View.GONE); 
```

`View.INVISIBLE`意味着，视图仍然会在屏幕上占据空间。然而，`View.GONE`这意味着它们不会在屏幕上占据空间。如果您愿意，请提供更多[信息。](http://developer.android.com/reference/android/view/View.html#setVisibility%28int%29)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:32:25.390

试试这个

```
button.setVisibility(View.GONE); 
```

当你想要比

```
button.setVisibility(View.VISIBLE); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:31:36.077

消失意味着看不见，

```
edittext.setVisibility(View.INVISIBLE); 
```

你可以看到edittext，

```
edittext.setVisibility(View.VISIBLE); 
```

# javascript - 更改 Linkedin 公司简介插件宽度

> ID：14868355
> 
> 赞同：10
> 
> 时间：2013-02-14T05:29:03.817
> 
> 标签：javascript, css, linkedin

我一直在试图弄清楚如何更改我们可以[在这里](https://developer.linkedin.com/plugins/company-profile-plugin)创建的 Linkedin Company Profile 宽度的大小。他们会给你两个脚本标签，它们会在你的站点中为你创建小部件。没有其他的。所以你无法控制你的CSS。

我苦苦挣扎了好几天，终于弄明白了。即使使用标签，我也尝试在网站上添加内联样式，`!important`但它仍然采用`linkedin.css`. 我尝试了各种可能的样式，但没有奏效。

由于 SO 允许以问答形式分享知识，我想到了分享这个。请看下面的答案。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-14T05:29:03.817

这是一个如何为插件提供宽度的示例：

```
<script src="http://platform.linkedin.com/in.js" type="text/javascript"></script>
<script type="IN/MemberProfile" data-id="http://www.linkedin.com/in/xxx" data-format="inline" data-width="400"></script> 
```

您可以将`data-width="400"`属性添加到脚本标记。就这样。

# r - 如何在 FinancialInstrument 中设置期货工具以从 CSIdata 中查找数据

> ID：14868358
> 
> 赞同：2
> 
> 时间：2013-02-14T05:29:30.797
> 
> 标签：r, blotter, financialinstrument

**背景**

我正在尝试设置我的交易分析环境。我正在针对不同经纪人的期货运行一些基于规则的策略，并试图将来自不同经纪人的交易汇总在一个地方。我使用`blotter`包作为我的主要分析工具。

想法是使用`blotter`和`PerformanceAnalytics`分析我正在运行的各种策略的实时表现。

**手头的问题**

我未来 EOD 数据的来源是 CSIData。这些期货的所有 EOD OHLC 价格都以 CSV 格式存储在以下目录结构中。对于每个期货，都有单独的目录，并且每个期货合约都有一个带有 OHLC 价格系列的 csv 文件。

```
|   
+---AD
|       AD_201203.TXT
|       AD_201206.TXT
|       AD_201209.TXT
|       AD_201212.TXT
|       AD_201303.TXT
|       AD_201306.TXT
|       AD_201309.TXT
|       AD_201312.TXT
|       AD_201403.TXT
|       AD_201406.TXT
|       AD_54.TXT
...      
+---BO2
|       BO2195012.TXT
|       BO2201201.TXT
|       BO2201203.TXT
|       BO2201205.TXT
|       BO2201207.TXT
|       BO2201208.TXT
|       BO2201209.TXT
|       BO2201210.TXT
|       BO2201212.TXT
|       BO2201301.TXT

... 
```

我已经成功地为所有期货定义了根合约（例如，在上述情况下`AD`等`BO2`），我将使用`FinancialInstrument`CSIData 符号作为主要标识符。

我现在正在努力解决如何定义所有实际的个人未来合同（例如`AD_201203`等`AD_201206`）并使用`setSymbolLookup.FI`.

关于如何做到这一点的任何指示？

为了设置单独的未来合约，我查看了`?future_series`and `?build_series_symbols`，但是，它们支持的后缀似乎只是未来月份代码格式。所以我有一种感觉，我只能手动设置每个单独的未来合同。例如

```
build_series_symbols(data.frame(primary_id=c('ES','NQ'), month_cycle=c('H,M,U,Z'), yearlist = c(10,11)))
 [1] "ESH0" "ESM0" "ESU0" "ESZ0" "NQH0" "NQM0" "NQU0" "NQZ0" "ESH1" "ESM1" "ESU1" "ESZ1" "NQH1" "NQM1" "NQU1" "NQZ1" 
```

我不知道从哪里开始挖掘我的问题的第二部分，即从 CSI 为这些期货设置价格查找。

PS：如果这不是此类问题的正确论坛，我很高兴将其移至正确的部分，甚至可以在完全不同的论坛上提问。

PPS：有较高声誉的人可以用`FinancialInstrument`和标记这个问题`CSIdata`吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T13:11:34.993

第一部分只是工作。

```
R> currency("USD")
[1] "USD"
R> future("AD", "USD", 100000)
[1] "AD"
Warning message:
In future("AD", "USD", 1e+05) :
  underlying_id should only be NULL for cash-settled futures
R> future_series("AD_201206", expires="2012-06-18")
[1] "AD_201206"
R> getInstrument("AD_201206")
primary_id :"AD_201206"
currency   :"USD"
multiplier :1e+05
tick_size  : NULL
identifiers: list()
type       :"future_series" "future"
root_id    :"AD"
suffix_id  :"201206"
expires    :"2012-06-18" 
```

关于第二部分，我从未使用过`setSymbolLookup.FI`. 如果我要走那条路，我要么`setSymbolLookup`直接使用，要么设置一个仪器属性。`src`

但是，我可能会创建一个`getSymbols`方法，也许，如果你给它一个参数`getSymbols.mycsv`，它知道如何找到你的数据。`dir`然后，我将`setDefaults`采用您的`getSymbols`方法（假设您的大部分数据都是这样存储的）。

我用 保存数据`saveSymbols.days()`，并`getSymbols.FI`每天使用。`getSymbols.FI`我认为调整读取 csv 文件而不是 RData 文件不会很费力。因此，我建议查看该代码。

然后，你可以

```
setDefaults("getSymbols", src="mycsv")
setDefaults("getSymbols.mycsv", dir="path/to/dir") 
```

或者，如果您愿意

```
setSymbolLookup(AD_201206=list(src="mycsv", dir="/path/to/dir")) 
```

或（本质上是同一件事）

```
instrument_attr("AD_201206", "src", list(src="mycsv", dir="/path/to/dir") 
```

# android - 如何在 Android 2.2 中素描或绘制阴影画？

> ID：14868362
> 
> 赞同：0
> 
> 时间：2013-02-14T05:29:52.933
> 
> 标签：android, canvas, shader, paint, sketching

![Android中的阴影绘画](../Images/f3b46206753803aa583759fa127e269e.png)

我曾在我的应用程序中使用 Paint。它工作正常。我需要的是，如果用户希望绘制阴影画或阴影图之类的东西，那么如果他/她单击阴影按钮，那么他们必须能够绘制阴影图。这该怎么做？

[视频：Android 中的阴影绘画](http://www.youtube.com/watch?v=NG988owhORY)

像上面的视频一样，用户必须能够绘制阴影画。我已经用谷歌搜索了很多关于这个的内容。我没有找到链接:(

此应用程序有任何链接、示例或文章吗？

任何想法或建议将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T21:53:46.867

这并不是真正的“着色器”问题。然而....

您指示的应用程序会保存笔所在位置的记录。在某些（用户选择的）情况下，当笔移动时，应用程序将在当前笔位置和选定的其他先前笔位置之间快速绘制许多模糊线。

所描述的模式是线条绘制方式的不同调整，以及添加这些线条的规则。

希望这能让你走上自己的道路——我敢肯定，你可以在 html5 中粗略处理类似的东西，或者快速处理以自学很多关于动态的知识。

# c++ - 基于 TLV 编码对数据结构进行编码

> ID：14868365
> 
> 赞同：0
> 
> 时间：2013-02-14T05:30:08.177
> 
> 标签：c++, encoding, tlv

我必须对基于 X.690 编码的数据结构中存在的参数进行编码。假设，我的结构是：

```
struct Data_Struct
{
   parameter1
   parameter2
   parameter3
} 
```

这些参数中的一些或全部可能具有有效数据，例如，`parameter1`和`parameter3`。然后我应该只编码`parameter1`并`parameter3`使用 TLV 编码。我是否必须遵循顺序程序才能遵循这一点。喜欢，

```
Check whether parameter 1 is present
    If present, find the tag of the parameter from a lookup table and encode it
Check whether parameter 2 is present
    If present, find the tag of the parameter from a lookup table and encode it
Check whether parameter 3 is present
    If present, find the tag of the parameter from a lookup table and encode it 
```

*   由于程序是重复的，我可以模块化吗？
*   最好的方法是什么？
*   有没有办法按顺序访问参数？
*   我怎样才能在参数和它的标签之间建立关系？

值的长度是可变的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:12:06.223

您将需要创建一个包含成对成员和标签的表，例如`{&Data_Struct::parameter1, TagForParam1}`. 这是不可避免的，因为编译器无法猜测该标签。

您还需要定义您认为“空”或“有效数据”的内容。这可能取决于类型。例如是`+INF`一个有效的浮点值吗？所以，添加重载函数`bool IsValid(T)`

您现在可以编写一个遍历表、检索每个参数、检查其是否有效并将其写入输出流的通用例程。

这里的一个小挑战是 的类型`&Data_Struct::parameter1`可能不同于`&Data_Struct::parameter2`; 所以你的表必须通过包装器、指向基类的指针或类似的东西来保存它。

# javascript - 在html文件中将阿拉伯数字转换为阿拉伯/波斯数字

> ID：14868380
> 
> 赞同：3
> 
> 时间：2013-02-14T05:31:14.883
> 
> 标签：javascript, converter, arabic, digits

我正在尝试将纯文本阿拉伯数字转换为东阿拉伯数字。所以基本上取*1 2 3...*并将它们转换为*١‎ ٢‎ ٣‎...*。该函数转换**所有**数字，包括标签中包含的任何数字，即`H1`.

```
 private void LoadHtmlFile(object sender, EventArgs e)
        {
            var htmlfile = "<html><body><h1>i was born in 1988</h1></body></html>".ToArabicNumber(); ;
            webBrowser1.DocumentText=htmlfile;
        }

    }
    public static class StringHelper
    {
        public static string ToArabicNumber(this string str)
        {
            if (string.IsNullOrEmpty(str)) return "";
            char[] chars;
            chars = str.ToCharArray();
            for (int i = 0; i < str.Length; i++)
            {
                if (str[i] >= '0' && str[i] <= '9')
                {
                    chars[i] += (char)1728;
                }
            }
            return new string(chars);
        }
    } 
```

我还尝试仅针对 InnerText 中的数字，但它也没有工作。下面的代码也更改了标签号。

```
private void LoadHtmlFile(object sender, EventArgs e)
        {
            var htmlfile = "<html><body><h1>i was born in 1988</h1></body></html>" ;
            webBrowser1.DocumentText=htmlfile;
        }

        private void webBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
        {
            webBrowser1.Document.Body.InnerText = webBrowser1.Document.Body.InnerText.ToArabicNumber();
        } 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:03:52.223

您可以使用正则表达式来查找 HTML 中介于 '>' 和 '<' 字符之间的部分，并对其进行操作。这将阻止代码处理标签名称和属性（样式等）。

```
// Convert all English digits in a string to Arabic digit equivalents
public static string ToArabicNums(string src)
{
    const string digits = "۰۱۲۳۴۵۶۷۸۹";
    return string.Join("", 
        src.Select(c => c >= '0' && c <= '9' ? digits[((int)c - (int)'0')] : c)
    );
}

// Convert all English digits in the text segments of an HTML 
// document to Arabic digit equivalents
public static string ToArabicNumsHtml(string src)
{
    string res = src;

    Regex re = new Regex(@">(.*?)<");

    // get Regex matches 
    MatchCollection matches = re.Matches(res);

    // process in reverse in case transformation function returns 
    // a string of a different length
    for (int i = matches.Count - 1; i >= 0; --i)
    {
        Match nxt = matches[i];
        if (nxt.Groups.Count == 2 && nxt.Groups[1].Length > 0)
        {
            Group g = nxt.Groups[1];
            res = res.Substring(0, g.Index) + ToArabicNums(g.Value) +
                res.Substring(g.Index + g.Length);
    }

    return res;
} 
```

这并不完美，因为它根本不检查标签之外的 HTML 字符说明符，例如通过 Unicode 值指定字符的构造`&#<digits>;`（`&#1777;`for 1 等），并将替换其中的数字。它也不会在第一个标签之前或最后一个标签之后处理任何额外的文本。

样本：

```
Calling: ToArabicNumsHtml("<html><body><h1>I was born in 1988</h1></body></html>")
Result: "<html><body><h1>I was born in ۱۹۸۸</h1></body></html>" 
```

使用您喜欢的任何代码`ToArabicNums`进行实际转换，或通过传入转换函数对其进行概括。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:55:13.427

使用正则表达式。这是我自己使用的 JavaScript 代码：

```
function toIndic(n) {
    var ns = ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'];

    return n.toString().replace(/\d/g, function (m) { 
        return ns[m];
    });
} 
```

为确保您只转换数字，您可以使用更好的正则表达式：\b[0-9]+\b

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:15:44.287

此功能可以将英语转换为波斯语、阿拉伯语和 ordu

```
function convertDigitIn(enDigit){ // PERSIAN, ARABIC, URDO
    var newValue="";
    for (var i=0;i<enDigit.length;i++)
    {
        var ch=enDigit.charCodeAt(i);
        if (ch>=48 && ch<=57
        {
            // european digit range
            var newChar=ch+1584;
            newValue=newValue+String.fromCharCode(newChar);
        }
        else
            newValue=newValue+String.fromCharCode(ch);
    }
    return newValue;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-05T17:24:42.757

只需在文档末尾添加它，它就可以正常工作:-)

```
<script type="text/javascript">
    $(document).ready(function() {
        var map = ["&\#1632;","&\#1633;","&\#1634;","&\#1635;","&\#1636;","&\#1637;","&\#1638;","&\#1639;","&\#1640;","&\#1641;"]

        document.body.innerHTML = document.body.innerHTML.replace(
            /\d(?=[^<>]*(<|$))/g,
            function($0) { return map[$0] }
        );
    });
</script> 
```

# asp.net - HTML 文件制作演示者错误

> ID：14868381
> 
> 赞同：0
> 
> 时间：2013-02-14T05:31:29.270
> 
> 标签：asp.net

这是我的代码它可以正常工作任何人都可以指导我如何改进此代码以制作更好的 HTML 文件以在 CMS 应用程序中使用

请创建名为“图像”的文件夹以正常工作

生成的 HTML 文件将存储在项目文件夹中

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeBehind="HTMLMaker.aspx.cs" Inherits="HTML5Demo.HTMLMaker" ValidateRequest="false"  %>

    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
        <title></title>
    </head>
    <body>
        <form id="form1" runat="server">
        <div>
         <asp:ScriptManager ID="Scriptmanager1" runat="server">
            </asp:ScriptManager>
            <table border="1" cellpadding="5" cellspacing="5">
                <tr>
                    <td colspan="2">
                        <b>HTML Maker</b>
                    </td>
                </tr>
                <tr>
                    <td>
                        <asp:Label Text="Title" ID="lblTitle" runat="server" />
                    </td>
                    <td>
                        <asp:TextBox runat="server" ID="txtTitle" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <asp:Label Text="Image" ID="lblImage" runat="server" />
                    </td>
                    <td>
                        <asp:FileUpload runat="server" ID="fluImage" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <asp:Label Text="Description" ID="lblDescription" runat="server" />
                    </td>
                    <td>
                        <asp:TextBox runat="server" ID="txtDescription" TextMode="MultiLine" Columns="25"
                            Rows="5" />
                    </td>
                </tr>
                <tr>
                    <td colspan="2" align="center">
                        <asp:Button Text="Submit" ID="btnSubmit" OnClick="btnSubmit_Click" runat="server" />
                    </td>
                </tr>
            </table>
    </div>
        </form>
    </body>
    </html> 
```

**.cs 文件**

```
using System;
using System.IO;
using System.Text;

 public partial class HTMLMaker : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {

        }
        protected void btnSubmit_Click(object sender, EventArgs e)
        {
            string ImagePath = string.Empty;
            string ImageName = string.Empty;
            string FileName = Server.MapPath("~/") + txtTitle.Text + ".html";
            if (fluImage.HasFile)
            {
                ImageName = DateTime.Now.ToString("yyyyMMddhhmmss") + Path.GetExtension(fluImage.FileName);
                ImagePath = Server.MapPath("~/Images/") + ImageName;
                fluImage.SaveAs(ImagePath);
            }

            using (FileStream fs = new FileStream(FileName, FileMode.Create))
            {
                using (StreamWriter w = new StreamWriter(fs, Encoding.UTF8))
                {
                    w.WriteLine("<!DOCTYPE html>");
                    w.WriteLine("<html lang=\"en\">");
                    w.WriteLine("<head>");
                    w.WriteLine("<title>" + txtTitle.Text + "</title>");
                    w.WriteLine("</head>");
                    w.WriteLine("<body>");
                    w.WriteLine("<div>");
                    w.WriteLine("<img src='Images/" + ImageName + "' alt=" + fluImage.FileName + "  />");
                    w.WriteLine("</br>");
                    w.WriteLine("<div>");
                    w.WriteLine(txtDescription.Text);
                    w.WriteLine("</div>");
                    w.WriteLine("</div>");
                    w.WriteLine("</body></html>");
                    w.Dispose();
                }
                fs.Dispose();
            }
        }
    } 
```

// 加密 && 解密 // 公共类 EncryptionDecryption {

```
 public EncryptionDecryption()
    {
    }
    private static string keyString = "552F79D3-1F36-48ab-934C-4629C2274D43";
    private const string strTamperProofKey = "astkvsnanvpi";
    public static string TamperProofStringEncode(string strValue, string strKey)
    {
        System.Security.Cryptography.MACTripleDES mac3des = new System.Security.Cryptography.MACTripleDES();
        System.Security.Cryptography.MD5CryptoServiceProvider md5 = new System.Security.Cryptography.MD5CryptoServiceProvider();
        mac3des.Key = md5.ComputeHash(System.Text.Encoding.UTF8.GetBytes(strKey));
        return System.Convert.ToBase64String(System.Text.Encoding.UTF8.GetBytes(strValue)) + System.Convert.ToChar("-") + System.Convert.ToBase64String(mac3des.ComputeHash(System.Text.Encoding.UTF8.GetBytes(strValue)));
    }

    public static string TamperProofStringDecode(string strValue, string strKey)
    {
        String strDataValue = "";
        String strCalcHash = "";
        strValue = strValue.Trim();
        strValue = strValue.Replace(" ", "+");

        System.Security.Cryptography.MACTripleDES mac3des = new System.Security.Cryptography.MACTripleDES();
        System.Security.Cryptography.MD5CryptoServiceProvider md5 = new System.Security.Cryptography.MD5CryptoServiceProvider();
        mac3des.Key = md5.ComputeHash(System.Text.Encoding.UTF8.GetBytes(strKey));

        try
        {
            strDataValue = System.Text.Encoding.UTF8.GetString(System.Convert.FromBase64String(strValue.Split(System.Convert.ToChar("-"))[0]));

            strCalcHash = System.Text.Encoding.UTF8.GetString(mac3des.ComputeHash(System.Text.Encoding.UTF8.GetBytes(strDataValue)));
        }
        catch
        {
            throw new ArgumentException("Invalid TamperProofString");
        }
        return strDataValue;
    }
    public static string GetEncrypt(string value)
    {
        if (new HandleNull().CheckNull<string>(value).Trim().Length == 0) return value;
        return TamperProofStringEncode(value, strTamperProofKey);
    }
    public static string GetDecrypt(string value)
    {
        if (new HandleNull().CheckNull<string>(value).Trim().Length == 0) return value;
        return TamperProofStringDecode(value, strTamperProofKey);
    } 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-21T12:12:53.857

更改此行的代码，然后尝试 w.WriteLine("");

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:50:20.820

这条线是错误的

```
w.WriteLine("<img src='Images/" + ImageName + "' alt=" + fluImage.FileName + "  />"); 
```

您需要将`alt`值括在引号中

# python - 如何在 django 模板中链接 {% includes %}

> ID：14868386
> 
> 赞同：1
> 
> 时间：2013-02-14T05:32:07.177
> 
> 标签：python, html, django

我有一个`base.html`看起来像这样的文件：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>

{% block header %}{% endblock %}

</head>
<body>

{% block content %}{% endblock %}

{% block footer %}{% endblock %}
</body>
</html> 
```

我有一个文件，`auth.html`扩展了这个：

```
{% extends "base.html" %}

{% block content %}

[MY CONTENT]

{% endblock %} 
```

这工作正常，但我也想有一个单独的`header.html`文件插入`header`上面的块。

**构建`auth.html`并`header.html`包含两者并同时扩展的正确方法是什么`base.html`？**

我尝试在 中添加`{% include header.html %}`一行`auth.html`，结构`header.html`如下：

```
{% extends "base.html" %}

{% block header %}

[HEADER CONTENT HERE]

{% endblock %} 
```

但这没有用。我应该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:42:31.127

你需要`{{ block.super }}`：

> 如果您需要从父模板中获取块的内容，则 {{ block.super }} 变量可以解决问题。如果您想添加到父块的内容而不是完全覆盖它，这很有用。

它隐藏在[模板继承](https://docs.djangoproject.com/en/1.4/topics/templates/#template-inheritance)文档中。

* * *

假设您想`header`在`auth.html`. `header`定义在`index.html`：

你`auth.html`会看起来像：

```
{% extends "index.html" %}

{% block header %}
{{ block.super }} 
Your extra stuff, which will come after whatever was in the header block
{% endblock %} 
```

# python - 将 PDF 转换为 600dpi 和 jpg 96 dpi 的 TIFF

> ID：14868387
> 
> 赞同：2
> 
> 时间：2013-02-14T05:32:07.863
> 
> 标签：python, linux, imagemagick

我想使用 ImageMagick 从 Python 脚本将 pdf 转换为 600 dpi 的 tiff 和 96 dpi 的 jpg。

我使用 (imagemagick) 命令行完成了这项任务，但我想在 python 中使用 Imagemagick 将 pdf 转换为 tiff 和 jpg，

你能帮帮我吗……

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:38:08.413

**首先，您必须加载 imagemagick 库的包装器**

使用[PythonMagick](https://www.imagemagick.org/download/python/)：

```
from PythonMagick import Image 
```

或使用[pgmagick](https://pypi.org/project/pgmagick/)：

```
from pgmagick import Image 
```

**然后，独立于您加载的库，以下代码将转换和调整图像大小**

```
img = Image()
img.density('600')  # you have to set this here if the initial dpi are > 72

img.read('test.pdf') # the pdf is rendered at 600 dpi
img.write('test.tif')

img.density('96')  # this has to be lower than the first dpi value (it was 600)
# img.resize('100x100')  # size in px, just in case you need it
img.write('test.jpg')  

# ... same code as with pythonmagick 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:49:07.410

可以使用**[subprocess 模块](http://docs.python.org/2/library/subprocess.html)**执行 imagemagick 命令

```
import subprocess
params = ['convert', "Options", 'pdf_file', 'thumb.jpg']
subprocess.check_call(params) 
```

# c# - RadSpell 显示红线

> ID：14868393
> 
> 赞同：0
> 
> 时间：2013-02-14T05:32:36.027
> 
> 标签：c#, asp.net, telerik

我有一个`multiline checkbox`. 我想用`RadSpell`.
但是每次我在它上插入文本时`textbox`都不会显示`red lines`。

我怎样才能做到这一点？

这是我的代码。

```
<telerik:RadTextBox ID="textbox1" runat="server" TextMode="MultiLine" Rows="4" 
              Columns="51" Width="401px" Font-Size="10" Font-Names="Calibri" />
<telerik:radspell id="RadSpell1" runat="server" DictionaryLanguage="English"
     controltocheck="textbox1" spellcheckprovider="PhoneticProvider" 
     supportedlanguages="en-US,English" ButtonType="None"/> 
```

**注意**：不需要按钮。
我只想显示所有拼写错误的单词。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T15:01:19.237

这是一个浏览器功能——内联拼写检查。所有现代浏览器都有它。好吧，IE 没有，但我们为什么要称它为现代呢？;-) RadSpell 可以为您做的是一个带有建议和信息的弹出窗口。

编辑：忘了提及您可以通过编程方式触发 RadSpell 的检查：[http](http://www.telerik.com/help/aspnet-ajax/spell-client-side-api.html) ://www.telerik.com/help/aspnet-ajax/spell-client-side-api.html 。寻找 startSpellCheck() 方法。例如在 onblur 事件中。

# java - 在android中将数据从一个片段传递到下一个片段

> ID：14868395
> 
> 赞同：0
> 
> 时间：2013-02-14T05:32:42.813
> 
> 标签：java, android, android-fragments, onitemclicklistener, pass-data

在我的一个项目中，我正在使用 2 个片段。一个片段正在显示项目列表。所以我希望在第一个片段中选择主题时，应该在另一个片段中更改详细信息。我可以从一个片段传递数据到其他，但视图没有改变。在哪种方法中我应该实现第二个片段的视图，以便它可以相应地改变。请给我很好的教程或例子。

在这里我必须开发一个android示例，我必须运行应用程序意味着在我的第一个片段的水平列表视图上很好地显示类别名称。我必须单击任何类别意味着如何在第二个片段上传递类别名称。请给我解决方案对于这个问题。

我使用了以下代码：

```
public class Home extends FragmentActivity{

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
} 
```

第一个片段代码：

```
public class MainActivity extends Fragment {
static final String URL = "http://dev2.mercuryminds.com/webservices/new_feed_articls.xml";

 static String KEY_CATEGORY = "Categories";

 static final String KEY_TITLE = "Category";
 LazyAdapter adapter;

 @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
     View view = inflater.inflate(R.layout.activity_main,
                container, false); 

    final ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();
    XMLParser parser = new XMLParser();
        String xml = parser.getXmlFromUrl(URL); // getting XML from URL
        Document doc = parser.getDomElement(xml); // getting DOM element

        NodeList nl = doc.getElementsByTagName(KEY_TITLE);

        // looping through all song nodes &lt;song&gt;
        for (int i = 0; i < nl.getLength(); i++) {
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>   ();
            Element e = (Element) nl.item(i);
            map.put( KEY_TITLE,((Element)nl.item(i)).getAttribute("name"));

           // map.put(KEY_TITLE, parser.getValue(e, KEY_TITLE));
            songsList.add(map);
        }
        HorizontalListView list = (HorizontalListView) view.findViewById(R.id.listView1);
    adapter = new LazyAdapter(getActivity(), songsList);
      list.setAdapter(adapter);

       list.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            HashMap<String, String> map = songsList.get(position);
            Intent in = new Intent();
            in.setClass(getActivity(), SubCate.class);
           // in.putExtra(KEY_TITLE, map.get(KEY_TITLE));

                     startActivity(in); 
        }  

     });
        return view;
    }} 
```

我如何在第二个活动中显示类别名称...请给我这些代码...

**编辑：**

嗨，我在第一次活动中更改了代码：

```
 HashMap<String, String> map = songsList.get(position);
            SubCate frag = (SubCate) getFragmentManager().findFragmentById(R.id.frag_2);
            if (frag != null && frag.isInLayout()) {
            frag.setText(getCapt(map));
            }
            }
            private String getCapt(HashMap<String, String> map) {
            if (map.containsValue("notchbolly")) {
            return "dadad";
            }
                return "veeman"; 
```

关于下一个活动：

```
public void setText(String item) {
 TextView view = (TextView) getView().findViewById(R.id.cate);
 view.setText(item);
  } 
```

在 if (map.containsValue("notchbolly")) 上直接提及名称时，它的唤醒效果很好。但是我必须直接显示名称而不提及名称。如果我必须单击任何类别，则表示类别名称显示在下一个片段上。我能怎么做 ？？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-29T12:33:16.613

使用接口方法，我们可以在片段之间传输数据

在fragmentA中创建接口并将数据发送到该接口并在fragmentB中实现该接口方法并获取所需的数据

以下代码对您有用

片段A中的代码：

```
 public class FragmentA extends Fragment  {

    // interface method
    public    InterfaceDataCommunicatorBetweenfragmentAToFragmentB     iInterfaceDataCommunicatorBetweenfragmentAToFragmentB;

    // Data to send
    String mDataString;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

        // use this line where u send data  
        iInterfaceDataCommunicatorBetweenfragmentAToFragmentB.upDatedData(mDataString);

        View view = inflater.inflate(R.layout.sent_box, container, false);

        return view ;
    }

    /**
         * Interface method to send data to fragmentB
         * 
         */
        public interface InterfaceDataCommunicatorBetweenfragmentAToFragmentB                                       {
            public void upDatedData(String data);

        }
    } 
```

片段B中的代码：

```
 class FragmentB extends Fragment implements InterfaceDataCommunicatorBetweenfragmentAToFragmentB {

    // interface method
    public InterfaceDataCommunicatorBetweenfragmentAToFragmentB iInterfaceDataCommunicatorBetweenfragmentAToFragmentB;

    // fragmentA data
    String mgetUpdatedData

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

            View view = inflater.inflate(R.layout.get_box, container, false);

        return view ;
    }

   /**
     * Interface method coming from fragment a to fragmentB after  implement interface in fragmentB
     */
    public void upDatedData(String data) {
        this.mgetUpdatedData = data;
    }

    @Override
    public void onAttach(Activity activity) {
        // TODO Auto-generated method stub
        super.onAttach(activity);
        try {
            iInterfaceDataCommunicatorBetweenfragmentAToFragmentB = (InterfaceDataCommunicatorBetweenfragmentAToFragmentB ) activity;
        } catch (ClassCastException e) {
            throw new ClassCastException(activity.toString()
                    + " must implement interface");
        }

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:01:54.340

你需要实现接口机制。

有关详细信息，请参阅以下链接。

[http://developer.android.com/guide/components/fragments.html#CommunicatingWithActivity](http://developer.android.com/guide/components/fragments.html#CommunicatingWithActivity) [http://developer.android.com/training/basics/fragments/communicating.html](http://developer.android.com/training/basics/fragments/communicating.html)

# security - 仅用于登录的 SSL 安全通信？

> ID：14868397
> 
> 赞同：2
> 
> 时间：2013-02-14T05:33:17.360
> 
> 标签：security, http, ssl

我已经读到，当仅使用 SSL 登录时，您并不能真正保护您的 API，但在我看来，像[HMAC](http://en.wikipedia.org/wiki/Hash-based_message_authentication_code)这样的东西可以启用它：

*   客户端通过 SSL 连接，发送凭据，并接收会话 ID cookie 以及会话密钥。
*   API 调用是通过普通的旧 HTTP/whatever 进行的，但包括时间戳 + 随机数和 (payload+timestamp+nonce+secret) 的哈希值，可以由服务器重新生成以验证客户端是否拥有密钥并防止重播。

我错过了什么让这不安全？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:37:54.573

仅将 HTTPS 用于密码输入然后回退到 HTTP 的站点容易受到多种攻击，包括会话 cookie 窃听（又名 Firesheep）和 MITM 攻击。这就是为什么这些站点不安全，安全人员建议使用站点范围的 SSL；仅使用 HTTPS 输入密码的网站“做错了”

# javascript - 如何使用画布绘制图像精灵？

> ID：14868399
> 
> 赞同：1
> 
> 时间：2013-02-14T05:33:31.377
> 
> 标签：javascript, image, html, canvas

我想使用画布绘制图像精灵。

代码不起作用。如何改进我的代码。

我有一些错误。

```
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

var Game = {

 draw_image: function(img, sourceX, sourceY, sourceW, sourceH, destX, destY, destW, destH){

var img = new Image();   // Create new img element
img.src = 'images/background.png'; // Set source path
img.onload = function(){
            canvas.width = 1000;
            canvas.height = 500;
            ctx.drawImage(img, sourceX, sourceY, sourceW, sourceH, destX, destY, destW, destH);
};
}

var BACKGROUND = {
  image_top:    { x:   5, y:   5, w: 1280, h: 480 , dx:0 ,dy:0   ,dw:500 ,dh:500 },
  image_body:   { x:   5, y: 495, w: 1280, h: 480 , dx:0 ,dy:150 ,dw:500 ,dh:350},
  image_bottom: { x:   5, y: 985, w: 1280, h: 480 , dx:0 ,dy:300 ,dw:500 ,dh:200 }
};

for(var n = 0 ; n < BACKGROUND.length ; n++) {
     draw_image(nameImage, BACKGROUND[n].x,BACKGROUND[n].y, BACKGROUND[n].w, BACKGROUND[n].h, BACKGROUND[n].dx, BACKGROUND[n].dy, BACKGROUND[n].dw, BACKGROUND[n].dh );
    }
}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T11:11:29.173

要创建精灵动画，了解它的工作原理很重要。

您需要以像素精度制作精灵表（1 像素可能会弄乱您的动画）。

像[这里](http://fc01.deviantart.net/fs29/f/2008/053/a/f/RPG_Maker_Sprite__Miles02___PW_by_taintedpurple.png)一样，角色总是在相同大小的区域中，当你制作你的精灵时让它变得简单。

有了这个，你可以为你拥有的每个精灵创建一个对象：

```
function Sprite(_position, _numberFrame, _framesize, _image, _duration){
    this.position = _position;      //Array like { x : 0, y : 0 }
    this.rendersize = _rendersize;  //Array like { width : 50, height : 80 }
    this.framesize = _framesize;    //Array like { width : 50, height : 80 }
    this.image = _image;            //Image object
    this.chrono = new Chrono(_duration); //Explanation below
} 
```

要获得更高的动画精度，您可以添加一个将管理动画时间的计时：

```
function Chrono(_duration){
    this.currentTime = 0;
    this.lastTime = 0;
    this.timeElapse = 0;
    this.duration = _duration;
}

Chrono.prototype.countTime = function(){
    this.currentTime = Date.now();

    if(this.lastTime != 0)
        this.timeElapse += this.currentTime - this.lastTime;

        this.lastTime = Date.now();

    if(this.timeElpase >= this.duration && this.lastTime != 0){
        this.timeElapse = 0;
        return TRUE;
    } else {
        return FALSE;
    }
} 
```

然后动画你的精灵的功能可能像：

```
Sprite.prototype.render = function(){
    if(this.position.x <= this.image.width && this.chrono.countTime()){
        this.position.x += this.framesize.x;
    } else {
        this.position.x = 0;
    }
    ctx.drawImage(this.image, 
                  this.position.x, this.position.y, 
                  this.framesize.width, this.framesize.height,
                  this.rendersize.width, this.rendersize.height
                 );
} 
```

我希望我是清楚和有帮助的，

干杯

PS：问题或优化想法的评论

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:50:48.683

这段代码有很多问题要让这个精灵动画工作。我不会指出您的代码存在任何问题，但我强烈建议您在尝试编写此类代码之前先阅读一些有关[函数和变量范围的信息。](http://jqfundamentals.com/chapter/javascript-basics)

另一个简单（并且最适合新手）的解决方案是使用画布框架作为[EaselJS](http://www.createjs.com/)，这样您就可以执行以下操作来为精灵设置动画：

```
var data = {
     images: ["images/background.png"],
     frames: {width:50, height:50},
     animations: {run:[0,4], jump:[5,8,"run"]}
 };
 var animation = new createjs.BitmapAnimation(data);
 animation.gotoAndPlay("run"); 
```

# asp.net-mvc - 获取 Json“500 内部服务器错误”时面临问题

> ID：14868400
> 
> 赞同：0
> 
> 时间：2013-02-14T05:33:33.553
> 
> 标签：asp.net-mvc, asp.net-mvc-3

下面是我的区域

![在此处输入图像描述](../Images/b4781319d40ec0f7329bdee26464bf93.png)

**控制器**

```
public JsonResult Get_JSon()
{
    List<AdminModule> mod = new List<AdminModule>();
    mod.Add(new AdminModule { MyName = "1" });
    mod.Add(new AdminModule { MyName = "2" });
    mod.Add(new AdminModule { MyName = "3" });

    return Json(mod);
} 
```

**模型**

```
public class AdminModule
{
    [Required]
    public String MyName { get; set; }
} 
```

**看法**

```
@model _1.Areas.Admin.Models.AdminModule
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutPage1.cshtml";
}
<div id="formContainer_Json" style="display:none" 
      data-url="@Url.Action("Get_JSon", "Admin", new { area = "Admin" })">
</div>
<input id="BTN_Json" onclick="return GetJsonR()" type="button" value="Button" />
@section Scripts {
    <script type="text/javascript" 
             src="@Url.Content("~/areas/admin/scripts/myscript.js")"></script>
} 
```

**脚本**

```
function GetJsonR() {
    var $formContainer = $('#formContainer_Json');
    var url = $formContainer.attr('data-url');
    $.get(url, null, function (data) { return false; });
    return false;
} 
```

困惑是 - 提交按钮以获取 Json 结果 **500 内部服务器错误**

同样在标题中，它显示以下信息...

```
<title>This request has been blocked because sensitive information could be 
disclosed to third party web sites when this is used in a GET request. To 
allow GET requests, set JsonRequestBehavior to AllowGet.</title> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:43:51.610

替换下面的行...

```
return Json(mod); 
```

与下面...

```
return Json(mod, JsonRequestBehavior.AllowGet); 
```

# r - 将连续整数运行折叠到范围字符串

> ID：14868406
> 
> 赞同：22
> 
> 时间：2013-02-14T05:33:59.060
> 
> 标签：r, design-patterns, range

我在一个列表中有一些数据，我需要寻找连续运行的整数（我的大脑认为`rle`但不知道如何在这里使用它）。

查看数据集并解释我所追求的更容易。

**这是数据视图：**

```
$greg
 [1]  7  8  9 10 11 20 21 22 23 24 30 31 32 33 49

$researcher
[1] 42 43 44 45 46 47 48

$sally
 [1] 25 26 27 28 29 37 38 39 40 41

$sam
 [1]  1  2  3  4  5  6 16 17 18 19 34 35 36

$teacher
[1] 12 13 14 15 
```

**期望的输出：**

```
$greg
 [1]  7:11, 20:24, 30:33, 49

$researcher
 [1] 42:48

$sally
 [1] 25:29, 37:41

$sam
 [1]  1:6, 16:19 34:36

$teacher
 [1] 12:15 
```

使用基本包如何用最高和最低之间的冒号和非连续部分之间的逗号替换连续跨度？请注意，数据从整数向量列表到字符向量列表。

**MWE数据：**

```
z <- structure(list(greg = c(7L, 8L, 9L, 10L, 11L, 20L, 21L, 22L, 
    23L, 24L, 30L, 31L, 32L, 33L, 49L), researcher = 42:48, sally = c(25L, 
    26L, 27L, 28L, 29L, 37L, 38L, 39L, 40L, 41L), sam = c(1L, 2L, 
    3L, 4L, 5L, 6L, 16L, 17L, 18L, 19L, 34L, 35L, 36L), teacher = 12:15), .Names = c("greg", 
    "researcher", "sally", "sam", "teacher")) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-14T05:52:56.047

我认为`diff`是解决方案。您可能需要一些额外的摆弄来处理单例，但是：

```
lapply(z, function(x) {
  diffs <- c(1, diff(x))
  start_indexes <- c(1, which(diffs > 1))
  end_indexes <- c(start_indexes - 1, length(x))
  coloned <- paste(x[start_indexes], x[end_indexes], sep=":")
  paste0(coloned, collapse=", ")
})

$greg
[1] "7:11, 20:24, 30:33, 49:49"

$researcher
[1] "42:48"

$sally
[1] "25:29, 37:41"

$sam
[1] "1:6, 16:19, 34:36"

$teacher
[1] "12:15" 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-14T06:01:10.200

使用`IRanges`：

```
require(IRanges)
lapply(z, function(x) {
    t <- as.data.frame(reduce(IRanges(x,x)))[,1:2]
    apply(t, 1, function(x) paste(unique(x), collapse=":"))
})

# $greg
# [1] "7:11"  "20:24" "30:33" "49"   
# 
# $researcher
# [1] "42:48"
# 
# $sally
# [1] "25:29" "37:41"
# 
# $sam
# [1] "1:6"   "16:19" "34:36"
# 
# $teacher
# [1] "12:15" 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-02-14T06:07:08.177

这是使用`diff`和`tapply`返回字符向量的尝试

```
runs <- lapply(z, function(x) {
  z <- which(diff(x)!=1); 
  results <- x[sort(unique(c(1,length(x), z,z+1)))]
  lr <- length(results)
  collapse <- rep(seq_len(ceiling(lr/2)),each = 2, length.out = lr)
  as.vector(tapply(results, collapse, paste, collapse = ':'))
  })

runs
$greg
[1] "7:11"  "20:24" "30:33" "49"   

$researcher
[1] "42:48"

$sally
[1] "25:29" "37:41"

$sam
[1] "1:6"   "16:19" "34:36"

$teacher
[1] "12:15" 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-02-14T06:06:08.240

我有一个与 Marius 非常相似的解决方案，他的作品和我的一样，但机制略有不同，所以我想我不妨把它贴出来：

```
findIntRuns <- function(run){
  rundiff <- c(1, diff(run))
  difflist <- split(run, cumsum(rundiff!=1))
  unname(sapply(difflist, function(x){
    if(length(x) == 1) as.character(x) else paste0(x[1], ":", x[length(x)])
  }))
}

lapply(z, findIntRuns) 
```

产生：

```
$greg
[1] "7:11"  "20:24" "30:33" "49"   

$researcher
[1] "42:48"

$sally
[1] "25:29" "37:41"

$sam
[1] "1:6"   "16:19" "34:36"

$teacher
[1] "12:15" 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-02-14T07:55:07.190

另一个简短的解决方案`lapply`and `tapply`：

```
lapply(z, function(x)
  unname(tapply(x, c(0, cumsum(diff(x) != 1)), FUN = function(y) 
    paste(unique(range(y)), collapse = ":")
  ))
) 
```

结果：

```
$greg
[1] "7:11"  "20:24" "30:33" "49"   

$researcher
[1] "42:48"

$sally
[1] "25:29" "37:41"

$sam
[1] "1:6"   "16:19" "34:36"

$teacher
[1] "12:15" 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-03-29T11:13:26.820

派对迟到了，但这里有一个`deparse`基础的单线：

```
lapply(z,function(x) paste(sapply(split(x,cumsum(c(1,diff(x)-1))),deparse),collapse=", "))
$greg
[1] "7:11, 20:24, 30:33, 49L"

$researcher
[1] "42:48"

$sally
[1] "25:29, 37:41"

$sam
[1] "1:6, 16:19, 34:36"

$teacher
[1] "12:15" 
```

# php - 在导入的 php 页面上强制 CSS 完整性

> ID：14868409
> 
> 赞同：0
> 
> 时间：2013-02-14T05:34:44.503
> 
> 标签：php, html, css

我正在尝试将包含带有单独 CSS 和 js 文件的 HTML 脚本的 php 文件导入另一个包含我的页眉和页脚的 php 文件。页眉和页脚来自一个模板，该模板使用了一个非常混乱和复杂的 CSS，它基本上对几乎 10 个不同位置/文件中的所有内容都有规则。当我将我的 php 导入这个主模板页面时，所有导入页面的样式也继承自基本模板，它基本上覆盖了我的东西。有没有一种方法可以强制每个 php/html 脚本保持自己的样式，而不必在将它们从一个文件导入到另一个文件时相互继承？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:52:29.147

### 你是如何导入文件的？

你的答案是使用`include()`还是`require()`答案是**否定**的！生成 html 代码后，所有这些都将显示在同一页面中，这就是所有`css`和`js`文件都应用于您的 html 的内容。

您可以做的是将 css 和 js 文件添加到文件中（例如：）`assets.php`，建立订单，然后将其导入`main.php`并解决 html 上的类和 id 的所有问题以避免覆盖。

* * *

**编辑：**关于 CSS 加载顺序

加载 CSS 文件的顺序对应用样式的影响很小。对某个元素应用什么样式取决于 CSS 规则中使用的选择器的特殊性。即使稍后声明具有较低特异性的样式，较高的特异性也会推翻较低的特异性。

*   [CSS 特异性：你应该知道的事情](http://coding.smashingmagazine.com/2007/07/27/css-specificity-things-you-should-know/)
*   [CSS 特殊性的细节](http://css-tricks.com/specifics-on-css-specificity/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:21:26.210

您需要命名您的 css 和 javascript 空间，以防止它们被您的页眉和页脚污染。

有很多名称间距模式......但让我建议一些：

**css：**对于您导入的每个页面.. 您可以运行这样的 jQuery 脚本：

```
jQuery(document).ready(function() {
    jQuery('body').attr('id','importedPagei');
} 
```

然后当您导入 css .. 您应该创建一个构建脚本，将属性附加`body#importedPagei`到您正在调用的每个 css

即这是在运行构建脚本之前导入页面的 css 示例：

```
.style1 {
color:red
} 
```

在运行 jQuery 脚本之后：

```
body#importedPagei .style1 {
color:red
} 
```

所以让我们说之前......你的标题模板有以下类：

```
//header.css 
h1 {
color: red;
} 
```

在您导入的文件中

```
//importedFile.css
h1 {
color:blue;
} 
```

那么旧解决方案中的最终结果将覆盖您的模板标题样式：

```
//old final outcome
h1 {
color:blue;
} 
```

但是使用上面提出的解决方案，您将拥有（如前所述）：

```
//importedFile.css
body#importedPagei h1 {
color: red;
} 
```

并且由于您使用 jQuery 将 id 属性附加到 importFile.html 的主体节点，因此 html 将如下所示

```
<body id="importedFile">
  ..
  <h1>hello world</h1>
  ..
</body> 
```

所以在这种情况下..使用css级联规则..导入文件的css选择器比模板的强..所以最终应用的样式将是`color: red`

**javascript：** 您还可以使用构建脚本选择性地为特定页面导入特定的 javascript 文件。

另一种干净的方法是使用[js.node 模块](http://nodejs.org/docs/latest/api/modules.html).. javascript 的问题是所有内容都在全局命名空间中.. 有一些您可以使用的[名称间距模式](http://addyosmani.com/blog/essential-js-namespacing/).. 但是 node.js 提供了一个内置且非常干净的解决方案为了它。因此，您可以在最终代码中包含所有 javascript，但让 node.js 负责对其进行划分。这完全取决于你想投入多少时间来解决这个问题

# android - 访问默认日历 ID

> ID：14868413
> 
> 赞同：2
> 
> 时间：2013-02-14T05:35:37.343
> 
> 标签：android, android-calendar, android-event

我正在开发一个在日历中设置事件和提醒的应用程序。我使用的代码如下。

```
private void addReminder(int statrYear, int startMonth, int startDay, int startHour, int startMinut, String title){
    Calendar beginTime = Calendar.getInstance();
    beginTime.set(statrYear, startMonth, startDay, startHour, startMinut);
    long startMillis = beginTime.getTimeInMillis();

    // String to access default google calendar of device for Event setting.
    String eventUriString = "content://com.android.calendar/events";

    ContentValues eventValues = new ContentValues();
    eventValues.put(Events.CALENDAR_ID, 1);
    eventValues.put(Events.TITLE, title);
    eventValues.put(Events.DESCRIPTION, "Discription");
    eventValues.put(Events.EVENT_TIMEZONE, "India");
    eventValues.put(Events.DTSTART, startMillis);
    eventValues.put("eventStatus", 1);
    eventValues.put("visibility", 3);
    eventValues.put("transparency", 0);
    eventValues.put(Events.HAS_ALARM, 1);

    // Set Event in calendar.
    Uri eventUri = getContentResolver().insert(Uri.parse(eventUriString), eventValues);
    // Getting ID of event in Long.
    long eventID = Long.parseLong(eventUri.getLastPathSegment());

    /***************** Event: Reminder(with alert) Adding reminder to event *******************/
    // String to access default google calendar of device for reminder setting.
    String reminderUriString = "content://com.android.calendar/reminders";      
    ContentValues reminderValues = new ContentValues();

    reminderValues.put("event_id", eventID);
    reminderValues.put("minutes", 1);
    reminderValues.put("method", 1);        

    //Setting reminder in calendar on Event.
    Uri reminderUri = getContentResolver().insert(Uri.parse(reminderUriString), reminderValues);
} 
```

现在，此代码可以正常工作，可以在“Samsung Galaxy S2”和除“Sony Xperia”之外的其他设备上添加提醒。

我无法设置提醒，可能是因为我无法获得设备的日历。所以我认为我必须在我的应用程序中获取设备的默认日历 ID。这样我就可以在每台设备上设置提醒。

请建议我，我是在正确的方式还是有任何其他问题，因为“Sony Xperia”中没有设置提醒。我在“Samsung Galaxy S2”和一些“Samsung and LG and Sony Xperia”设备上测试了这段代码。

请建议我该怎么做。

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-26T08:34:21.707

我认为日历 id 从 1 开始分配给日历。因此，如果存在内置默认日历，则 id 为 1，否则用户必须在存在 id=1 的日历之前添加日历

# javascript - tr 元素不可点击吗？

> ID：14868421
> 
> 赞同：0
> 
> 时间：2013-02-14T05:36:35.617
> 
> 标签：javascript, jquery, html, dom

当我将处理程序绑定到元素时

`$('tr').on('click', handler)`

然后当我触发元素的点击事件时，什么也没有发生

`$('tr').trigger('click')`

而是可以响应事件中的元素

`$('tr td:first').trigger('click')`

那么这是否意味着该`<tr>`元素不可点击？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:21:22.653

你的处理函数是做什么的？这对我来说似乎很好用：

```
function handler(e){
    alert(e.target);
}

// attach event
$('tr').on('click', handler);

// manually trigger click
$('tr').trigger('click'); 
```

[活生生的例子](http://jsfiddle.net/LnUNC/)。

`<tr>`是 DOM 对象，因此您应该能够将事件附加到它们

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:43:06.227

`stopPropagation()`也会有所帮助。

```
$('tr').click(function(e){
       e.stopPropagation(); 
});
```

# mysql - MySQL 限制 Varchar 选择

> ID：14868422
> 
> 赞同：0
> 
> 时间：2013-02-14T05:36:37.467
> 
> 标签：mysql, database

我不确定我在搜索什么命令，所以我不可能在 Google 上找到它，因为我能找到的最接近的东西是限制返回的行数。

我有一张邮政编码表，有些是 5 个字符（12345），有些是较长的 5 个字符 -dash- 4 个字符（12345-1234）。我想选择所有邮政编码，以便长度限制为 5 个字符（它们看起来都像 12345）。

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:40:31.440

```
select SUBSTRING(zipcode,1,5) as zip_code from zipcode_table; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:40:38.023

采用[`SUBSTR`](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_substr)

```
SELECT SUBSTR(zip, 1, 5) AS zip FROM yourtable 
```

这是[sqlfiddle](http://sqlfiddle.com/#!2/ae5ef/1)

# emacs - Autoconf：检测是否安装了emacs

> ID：14868423
> 
> 赞同：1
> 
> 时间：2013-02-14T05:36:46.000
> 
> 标签：emacs, configure, autoconf, automake

检测是否安装了 emacs 的最佳方法是什么？nesC编译器构建（显然）需要安装emacs，我想修改他们的配置脚本来检测这个，但我不知道有什么`AC_`宏可以检测emacs......

可靠地检测到这一点的最佳方法是什么——检查 /usr/bin/emacs？检查结果`which emacs`（假设系统有`which`...）？

相关：[https ://github.com/tinyos/nesc/issues/1](https://github.com/tinyos/nesc/issues/1)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T12:54:37.147

如果您也使用 Automake，则可以使用`AM_PATH_LISPDIR`宏。如果设置，它会获取`EMACS`环境变量的值，否则会在路径中查找`emacs`或。`xemacs`

```
AM_PATH_LISPDIR
AS_IF([test "$EMACS" = no], [AC_MSG_ERROR([cannot find Emacs])]) 
```

它还尝试运行 emacs 以确定 elisp 文件的安装位置。有关更多详细信息，请参阅[文档](http://www.gnu.org/software/automake/manual/html_node/Emacs-Lisp.html)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-14T10:58:23.417

用于`AC_ARG_VAR`向用户公开变量（并在 中列出`./configure --help`）并`AC_PATH_PROGS`检查 emacs/xemacs。如果您只想要 GNU emacs，请`AC_PATH_PROG([EMACS], [emacs], [no])`改用。

```
AC_ARG_VAR([EMACS], [Path to emacs.])
AS_IF([test -z "$EMACS"], [AC_PATH_PROGS([EMACS], [emacs], [no])])

# If you want to fail out if you can't find emacs:
AS_IF([test "$EMACS" = no],
  [AC_MSG_ERROR([emacs is required to build. Install it, or set $EMACS])]) 
```

# javascript - 提交表单的“Enter”键在 IE 9/10 中不起作用

> ID：14868424
> 
> 赞同：0
> 
> 时间：2013-02-14T05:36:46.617
> 
> 标签：javascript, jquery

```
$(function(){
    $('.inviteClass').keypress(function() {
        if(event.keyCode=='13') {
            doPost();
        }
}); 
```

在这里，我有一个小要求。按键盘 Enter 提交表单，它在 FireFox 和 Chrome 以及 IE 7 和 8 中工作正常，但在 IE9 和 IE 10 中不工作。

请帮我。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T06:35:03.737

**注意事项：**

1.  您缺少右括号。
2.  另外，将选择器更改为`window`
3.  使用`.on()`功能
4.  使用`.which`事件的属性。请参阅 jQuery[文档](http://api.jquery.com/event.which/)
5.  键码是一个整数 - 去掉引号
6.  添加一个`return false;`以阻止事件冒泡到表单（并可能提交表单两次）。请参阅[使用 jQuery 在“输入”上提交表单？](https://stackoverflow.com/questions/699065/submitting-a-form-on-enter-with-jquery?rq=1)

**最终代码：**

```
$(function() {
    $(window).on('keydown', function(event) {
        if(event.which == 13) {
            doPost();
            return false;
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:42:02.920

尝试

```
$('.inviteClass').keypress(function (e) {
  c = e.which ? e.which : e.keyCode;
  if (c == 13) {
    doPost();
    e.preventDefault();
    return false;    //<---- Add this line
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:42:14.380

您必须使用 jQuery 的 event.which，也将 '13' 更改为 13（也缺少右括号）：

```
$(function(){
    $('.inviteClass').keypress(function(event) {
        if(event.which == 13) {
            doPost();
        }
    });
}); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-14T05:40:26.027

请尝试使用 keydown 事件并像这样在函数中传递事件对象

```
$(function(){$('.inviteClass').keydown(function(event){if(event.keyCode=='13'){doPost();}}); 
```

或者

```
$(function(){$('.inviteClass').keypress(function(event){if(event.keyCode=='13'){doPost();}}); 
```

希望对你有帮助

谢谢

# xml - 使用 Azure Rest API 以编程方式将管理证书添加到 Azure

> ID：14868428
> 
> 赞同：0
> 
> 时间：2013-02-14T05:37:05.097
> 
> 标签：xml, api, rest, azure

IM 尝试使用 Windows Azure 服务管理 REST API 参考以编程方式添加管理证书

以下是使用的片段

```
public async void AddManagmentCertificate(string subscriptionId, string version)
        {
            string hittingurl = "https://management.core.windows.net/{0}/certificates";
            hittingurl = String.Format(hittingurl, "subidgoeshere");
            XmlDocument addcertDoc = await HelperMethods.PostXmlDocument(hittingurl,"2012-03-01");
            XmlNamespaceManager nsmgr = new XmlNamespaceManager(addcertDoc.NameTable);
            nsmgr.AddNamespace("rest", xmlnamespace);
            if (addcertDoc != null)
            {
                XmlNodeList certadded = addcertDoc.SelectNodes("//rest:SubscriptionCertificateThumbprint", nsmgr);

                if (certadded.Count > 0)
                {
                    string thumbprint = certadded[0].InnerXml.ToString();
                    if (String.IsNullOrEmpty(thumbprint))
                    {

                    }
                    else
                    {
                        LoadData();
                    }
                }

            }

        }

 public static async Task<XmlDocument> PostXmlDocument(string hittingUrl,string Version)
        {
            HttpWebRequest request;
            XmlDocument responsebody = new XmlDocument();

            Uri uri = new Uri(hittingUrl);

            request = (HttpWebRequest)HttpWebRequest.Create(uri);

            request.Method = "POST";
            request.Headers.Add("x-ms-version", Version);
            string certpath = HttpContext.Current.Server.MapPath(@"Certificates\epgwin8dashboard.cloudapp.net.cer");

            request.ClientCertificates.Add(X509Certificate2.CreateFromCertFile(certpath));

            request.ContentType = "application/xml";
            request.ContentLength = 0;

            HttpWebResponse webresponse = null;

            try
            {

                webresponse = (HttpWebResponse)await request.GetResponseAsync();

            }
            catch (Exception)
            {

            }

            HttpStatusCode statuscode = webresponse.StatusCode;
            if (webresponse.ContentLength > 0)
            {
                using (XmlReader reader = XmlReader.Create(webresponse.GetResponseStream()))
                {
                    responsebody.Load(reader);

                }
            }

            if (statuscode.Equals(HttpStatusCode.OK))
            {

                return responsebody;

            }
            else
            {
                return null;
            }

        } 
```

请告诉我还有什么需要改进才能使这个工作没有错误

我被 411 错误返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:24:45.547

试试这个代码。我为此创建了一个简单的控制台应用程序。

```
using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Net;
using System.Text;
using System.Threading.Tasks;
using System.Xml;
using System.Security.Cryptography;
using System.Security.Cryptography.X509Certificates;

namespace StackOverflowAddManagementCertificate
{
    class Program
    {
        private static string requestPayloadFormat =
            @"<SubscriptionCertificate xmlns=""http://schemas.microsoft.com/windowsazure"">
                <SubscriptionCertificatePublicKey>{0}</SubscriptionCertificatePublicKey>
                <SubscriptionCertificateThumbprint>{1}</SubscriptionCertificateThumbprint>
                <SubscriptionCertificateData>{2}</SubscriptionCertificateData>
            </SubscriptionCertificate>";

        private static string subscriptionId = "your subscription id";

        private static string certificateThumbprint = "certificate thumbprint for validating service management API request";

        private static string x_ms_version = "2012-03-01";

        private static string certificateFile = @"full path of the certificate file which needs to be uploaded e.g. D:\mytest1.cer";
        static void Main(string[] args)
        {
            try
            {
                //First read the certificate from certificate store which will be used to authenticate the request.
                X509Store certificateStore = new X509Store(StoreName.My, StoreLocation.CurrentUser);
                certificateStore.Open(OpenFlags.ReadOnly);
                X509Certificate2Collection certificates = certificateStore.Certificates;
                var matchingCertificates = certificates.Find(X509FindType.FindByThumbprint, certificateThumbprint, false);
                var managementCert = matchingCertificates[0];

                X509Certificate2 cert = new X509Certificate2(certificateFile);
                var pk = Convert.ToBase64String(cert.GetPublicKey());
                var tp = cert.Thumbprint;
                var rawData = Convert.ToBase64String(cert.RawData);

                var requestBody = string.Format(CultureInfo.InvariantCulture, requestPayloadFormat, pk, tp, rawData);

                var requestBodyBytes = Encoding.UTF8.GetBytes(requestBody);

                string requestUrl = string.Format(CultureInfo.InvariantCulture,
                                                  "https://management.core.windows.net/{0}/certificates", subscriptionId);

                HttpWebRequest req = (HttpWebRequest)WebRequest.Create(requestUrl);
                req.Method = "POST";
                req.ContentType = "application/xml";
                req.ContentLength = requestBodyBytes.Length;
                req.Headers.Add("x-ms-version", x_ms_version);
                req.ClientCertificates.Add(managementCert);
                using (Stream s = req.GetRequestStream())
                {
                    s.Write(requestBodyBytes, 0, requestBodyBytes.Length);
                }
                using (HttpWebResponse resp = (HttpWebResponse)req.GetResponse())
                {
                    var status = resp.StatusCode;
                }

            }
            catch (WebException webEx)
            {
                var resp = webEx.Response;
                using (var respStream = resp.GetResponseStream())
                {
                    using (StreamReader sr = new StreamReader(respStream))
                    {
                        string s = sr.ReadToEnd();
                    }
                }

                throw;
            }
        }
    }
} 
```

# angularjs - 如何在（或作为）指令名称中使用 {{expression}}？

> ID：14868431
> 
> 赞同：1
> 
> 时间：2013-02-14T05:37:15.573
> 
> 标签：angularjs, angularjs-directive

我有两个类限制指令，命名`fooThing`和`barThing`.

`baz`我的模板范围中有一个变量 ,设置为`foo`或`bar`。

如何在元素的指令*名称中使用该范围变量？*

当我这样做时`<div class="{{baz}}-thing"></div>`，`{{baz}}`已正确替换，但未加载指令。

当我这样做时`<div class="foo-thing"></div>`，该指令已正确加载。

我有一种预感，这与 Angular 的摘要/编译周期有关，但恐怕我不知道如何解决它。

*我怎样才能让 Angular首先*编译模板的那部分，以便评估我的表达式，然后让它*再次*编译，以便将其识别为指令？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T23:07:02.880

正如 Anders 所建议的那样，创建一个创建指令（一种指令工厂）的指令是我所追求的。[Guillaume86](https://stackoverflow.com/users/172074/guillaume86)提供[了一个很好的方法](http://bit.ly/Y0pomA)来做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:37:41.293

为此，您的模板必须首先在作用域上编译和执行（以替换 {{baz}}），然后再次编译并执行以使“foo-thing”指令运行。这是可能的，但它可能会导致其他问题。

你可以做的是创建一种指令工厂，一个创建另一个指令的指令。这是一个例子：

```
<!doctype html>
<html ng-app="myApp">
<head>
    <script src="http://code.angularjs.org/1.1.2/angular.min.js"></script>
    <script type="text/javascript">
    var myApp = angular.module("myApp", []);
    myApp.directive('factory', function($compile) {
        return {
            restrict: 'A',
            scope: {
                type: '=factory'
            },
            replace: true,
            link: function($scope, elem, attrs) {
                var compiled = $compile('<'+ $scope.type +'></'+ $scope.type +'>')($scope);
                elem.append(compiled);
            }
        };
    });
    myApp.directive('concrete', function() {
        return {
            restrict: 'E',
            template: "<div>I'm concrete!</div>",
            link: function($scope, elem, attrs) {

            }
        };
    });

    function MyCtrl($scope, $timeout) {
        $scope.directiveType = "concrete";
    }
    </script>
</head>
<body>
    <div ng-controller="MyCtrl">
        <div factory="directiveType"></div>
    </div>
</body>
</html> 
```

# windows-7 - 使用 nginx 创建一个虚拟机，但文件在主机 Windows 上

> ID：14868432
> 
> 赞同：0
> 
> 时间：2013-02-14T05:37:20.840
> 
> 标签：windows-7, nginx, debian, virtualbox

这是我想要实现的目标：

*   我想在 Windows 上开发（我所有的工具都在那里）并在 Linux 上进行测试（软件效果最好的地方）。
*   我不想每次进行更改时都推送到第三台服务器并拉入来宾操作系统。
*   因此，在理想情况下，我只需从 Windows 中更改文件，该更改也可以在来宾的 /mnt 中使用，因为我共享了文件夹，并且浏览器应该在重新加载时向我显示更改。

我试图做的事情：

*   我在 Windows 7 主机上安装了 Debian 作为访客操作系统。
*   然后我从 Windows 共享了一个文件夹，并将其安装在 /mnt 上。
*   我在我的 Windows 7 /etc/hosts 文件中添加了一个条目，以允许我从自定义 myproj.dev 域名访问 192.168.56.101。
*   我设置了第二个仅主机适配器以提供对 192.168.56.101 的访问
*   然后我在来宾操作系统中配置了 nginx，现在我正在尝试创建一个虚拟主机，其根目录是 /mnt 上的共享文件夹。
*   我以 root 身份运行 nginx，因为 /mnt 及其内容仅由 root 拥有（和分组），我认为无法使用 chgrp 更改它，因为它是一个共享文件夹。

我导航到服务器时得到的输出是：

```
~óv·ÿ~óv·~óv·ÿ~óv·~óv·ÿ~óv·~óv·ÿ~óv·~ov·ÿ~óv·~óv·ÿ~óv·~ov·ÿ~ov·~ óv·ÿ~óv·~óv·ÿ~óv·~óv·ÿ'•¶~óv·A¶Ï\jµ¶~ov·Àp´¶Ïå•¶~ov·@A¶ÿvç¶~óv·€ B¶Ï$–¶~óv·€A¶Ï?^¤¶~óv·@f¢¶ÿa–¶~óv·ÀA¶ÏuÄ¶~óv·ÀÄ¶Ï¢–¶~ov·B¶Ï„ ¢5¶~ov·@T4¶Ïì–¶~ov·@B¶Ï."]¶."]¶À#\¶À#\¶ÿL¶L¶€a¶€a¶ÿ‹¶~ov ·a¶Ï~óv·~óv·ÿ~óv·~óv·ÿ~óv·~ov·ÿÈ`:¶~ov·À¼9¶ïÏB2¶~ov· 1¶ÿ@~¶¶~ov·€¨ ´¶ÿí%£¶í%£¶0¢¶0¢¶ÿÐ7¶~óv·ÀB¶Ï8¶~óv·C¶ÿ:8¶~óv·@C¶ÿ~8¶~óv·€C¶ Ï"C&¶~óv·@O%¶ÏÉ8¶~óv·ÀC¶ÿ9¶~óv·D¶ÿE9¶~óv·@D¶Ï“P‰¶~ov·@‰¶Ïß9¶~ov·€ D¶Ï8:¶~óv·ÀD¶ÿ':¶~óv·E¶

```

/mnt 包含一个[Laravel](http://www.laravel.com)安装，它是纯英语，而不是其他语言。

我正在尝试做的事情有可能吗？我是否错过了某个关键步骤？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-01T06:57:05.700

nginx 配置文件的顶部有一个“用户”配置。

当我将其设置为“root”时，一切正常 -

`user root;`

如果您不想授予所有访问权限，可以将其设置为“www-data”（如果您有该用户）。

`user www-data;`

但要使其正常工作，您必须将“www-data”用户添加到“vboxsf”组 -

`usermod -a -G vboxsf www-data`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T16:46:16.453

我想问题是......不能在 NTFS 驱动器上设置八进制权限。

正如我在 G+ 上所写...

只需桥接网络接口和 FTP/SFTP 即可。

您可以下载 VMware，创建容器并使用 VMplayer，以防您不想花钱购买它（它会自动桥接虚拟 NIC，无需手动桥接）。

曾经写过如何为 web 开发设置 proFTPd 的博客：

[http://www.codefx.biz/2012/01/proftpd-making-apache-owner-uploaded-files-directories](http://www.codefx.biz/2012/01/proftpd-making-apache-owner-uploaded-files-directories)

我只使用 hgfs 导出 Excel 2007 文件 - 用于打开/保存文件我使用 FTPrush（提示：您可能需要添加 * 作为文件类型以使用文本编辑器打开，否则它可能无法按预期打开某些文件类型。

很难说出输出来自哪里——曾经尝试禁用 nGinx 吗？

最佳实践是启用完整的 PHP 错误输出并调查日志文件。似乎是来自 nGinx 的一些混乱；只见过一次与 Memcached 类似的东西。日志文件应该提供洞察力......很可能尚未相应配置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T16:56:33.837

它可能不太理想，但 WinSCP 具有两个主机之间的自动同步功能。

我过去使用 apache 设置了类似的 vm 设置，没有问题。我没有足够的经验来帮助 nginx。

# c# - DropDownList Asp.net 的奇怪行为

> ID：14868440
> 
> 赞同：0
> 
> 时间：2013-02-14T05:39:01.367
> 
> 标签：c#, asp.net, drop-down-menu

`DropDownList`我的Asp.net中发生的奇怪行为

**我的代码：**

```
 <asp:DropDownList ID="DDLFromMinutes" runat="server" Width="20%">
                                <asp:ListItem Text="00" Value="00"></asp:ListItem>
                                <asp:ListItem Text="15" Value="15"></asp:ListItem>
                                <asp:ListItem Text="30" Value="30"></asp:ListItem>
                                <asp:ListItem Text="45" Value="45"></asp:ListItem>
                            </asp:DropDownList> 
```

但是，当我运行它时，例如，如果 15 是选定值，我会在我的`DropDownList`

在 FireBug 中调试时得到以下信息：

```
<select id="ContentPlaceHolder1_DDLFromMinutes" style="width:20%;" name="ctl00$ContentPlaceHolder1$DDLFromMinutes">
<option value="00" selected="selected">30</option>
<option value="15">15</option>
<option value="30">30</option>
<option value="45">45</option>
</select> 
```

后面的代码：

```
string Frominput = seprateFromTime[1];
                string Frommin = Frominput.Substring(0, 2);
                DDLFromMinutes.SelectedItem.Text = Frommin;
                if (DDLFromMinutes.Items.Count > 0)
                {
                    DDLFromMinutes.SelectedIndex = DDLFromMinutes.Items.IndexOf(DDLFromMinutes.Items.FindByText(Frommin));
                } 
```

![在此处输入图像描述](../Images/6164c5c0f4ee5892dd8a7453120e6355.png)

保存数据时使用`DDLFromMinutes.SelectedItem.Text`这可能是一个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:04:30.623

您需要使用 MyDropDown.SelectedValue 而不是 selectedItem.Text。

详细信息：[MSDN](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listcontrol.selectedvalue.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:23:48.347

你想得到下拉列表的值吗？如果是这样，我认为您需要将 SelectedItem 更改为 SeletedValue。

# assembly - 汇编确定输入逻辑

> ID：14868449
> 
> 赞同：0
> 
> 时间：2013-02-14T05:40:12.130
> 
> 标签：assembly, x86, tasm

谁能帮助我如何从汇编语言程序开始？我的任务是编写一个程序，要求用户输入（只是一个字母、数字或特殊字符），程序将确定用户的输入是字母、数字还是特殊字符。有什么想法吗？请帮忙！在这里不要求确切的代码，因为我想学习如何去做。我计划一步一步弄清楚，但任何帮助将不胜感激。非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:07:22.783

假设您的用户输入在`al`...

 `````
cmp al, 'A'
jb not_upper
cmp al, 'Z'
ja not_upper
; arrange to print "uppercase" or "alpha" or "letter"
not_upper:
cmp al, 'a'
jb not_lower
cmp al, 'z'
ja not_lower
; arrange to print "lowercase" or whatever
not_lower:
cmp al, '0'
; etc... 
```` 

`一种更快的方法是创建一个查找表并将输入用作其中的索引 - 消除所有条件跳转。对于您的第一个程序，以天真的方式可能会更好......``

# ruby-on-rails - 何时使用 at 符号 (@)、冒号 (:) 以及 rspec / rails 中的变量名？

> ID：14868458
> 
> 赞同：3
> 
> 时间：2013-02-14T05:40:50.977
> 
> 标签：ruby-on-rails, rspec, capybara, railstutorial.org

我已经完成了 Hartl 的 Rails 教程，但仍然存在一个困惑：我什么时候使用`@variable`，什么时候应该使用`:variable`，什么时候才是`variable`正确的？

这是我从[教程](http://ruby.railstutorial.org/book/ruby-on-rails-tutorial#code-micropost_dependency_test)中获取的一些示例代码：

```
describe "micropost associations" do
    before { @user.save }
    let!(:older_micropost) do 
      FactoryGirl.create(:micropost, user: @user, created_at: 1.day.ago)
    end
    let!(:newer_micropost) do
      FactoryGirl.create(:micropost, user: @user, created_at: 1.hour.ago)
    end
    .
    .
    .
    it "should destroy associated microposts" do
      microposts = @user.microposts.dup
      @user.destroy
      microposts.should_not be_empty
      microposts.each do |micropost|
        Micropost.find_by_id(micropost.id).should be_nil
      end
    end
  end
  .
  .
  .
end 
```

相比于：

```
describe Micropost do
  let(:user) { FactoryGirl.create(:user) }
  before { @micropost = user.microposts.build(content: "Lorem ipsum") } 
```

以下是这个（和其他代码）为我提出的一些更具体的问题：

1.  是否`@user`需要`@`在第一个片段中，因为它是主题还是..？
2.  我是否总是使用 声明新变量`:`？（实际上我很确定情况并非如此，但我不明白为什么和为什么。）
3.  当我稍后引用我使用创建的变量时`:`，我会`:`再次使用吗？例如，如果我要执行`print(:older_micropost)`or `print(older_micropost)`，有区别吗？（参见`let`第二个片段中的语句）。
4.  它们在一个街区内的工作方式与在`before`街区外的工作方式相同吗？我发现某些代码只能在`before`块内部/外部工作（例如`older_micropost.destroy`）。

我在别处寻找过这个问题的答案，但我找不到关于 、 和什么都没有的`@`讨论`:`。

编辑：这是第三段代码，这次是我自己的。我已经评论了哪些有效，哪些无效：

```
describe "deleting a user following" do
  let(:userid) { @user.id }
  before { print(@user.id.inspect) # this works
           @user.destroy }         # this works
  @user.destroy                    # this doesn't
  print(@user.id.inspect)          # this doesn't
  subject { other_user }
  its(:followed_users) { should_not include(userid) }
end 
```

（显然我没有同时运行所有 4 行注释代码，我在 before 块内运行两行或在外面运行两行）

为什么这些语句只能在 before 块内工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T04:27:07.567

他混合了旧的和新的 RSpec 语法，这使得它有些混乱。

RSpec 的原始化身自始至终都使用实例变量。所以：

```
before { @user = User.new }

it "should be valid" do
  @user.should be_valid
end 
```

RSpec 后来获得了使用以下方法为变量赋值的能力`let`：

```
let(:user) { User.new }

it "should be valid" do
  user.should be_valid
end 
```

`let`将符号作为参数并定义一个方法，该方法在引用该方法时产生指定的结果。的主要优点`let`是它是惰性求值的。这使您可以延迟变量设置，这在嵌套示例时效果特别好。

您可以像 Hartl 那样混合和匹配这两种范式，但这可能会让人感到困惑。最好使用一种风格或另一种风格。

> @user 是否需要第一个片段中的 @ 因为它是主题或..？

它需要使用 @ 或不使用（使用`let`）定义，然后始终以相同的方式引用。`@user`和`user`不是一回事。

> 我是否总是使用 : 声明新变量？（实际上我很确定情况并非如此，但我不明白为什么和为什么。）

: 是符号的前缀。您只能在`let`.

> 当我稍后引用我使用 : 创建的变量时，我会再次使用 : 吗？例如，如果我要执行 print(:older_micropost) 或 print(older_micropost)，有区别吗？（参见第二个片段中的 let 语句）。

引用变量时使用方法名称，而不是符号。所以`micropost`，不是`:micropost`。

> 它们在前块内的工作方式与在块外的工作方式相同吗？我发现某些代码只能在前块内部/外部工作（例如，older_micropost.destroy）。

在示例正文中工作的任何代码也应该在 before 块中工作。将代码放在示例之外是*行不通*的，例如：

```
let(:user) { User.new(:name => "Phil") }

before { puts user.name } # "Phil"

it "sets the name" do
  puts user.name # "Phil"
end

puts user.name # undefined local variable or method `user' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:46:07.583

这是一个实例变量，意味着每当您需要将信息从控制器传递到视图或反之亦然时，我们通常会使用它`@variable`

Now`:`用于符号，意味着它们大部分时间类似于字符串，但在内存方面它们比简单字符串便宜，因为它一次比较整个字符串。

有关这方面的更多信息，请阅读文章[http://www.robertsosinski.com/2009/01/11/the-difference-between-ruby-symbols-and-strings/](http://www.robertsosinski.com/2009/01/11/the-difference-between-ruby-symbols-and-strings/)

# algorithm - mapreduce 中是否有可以并行执行的非交换reducer？

> ID：14868461
> 
> 赞同：4
> 
> 时间：2013-02-14T05:40:58.743
> 
> 标签：algorithm, hadoop, parallel-processing, mapreduce, distributed-computing

中值和均值等一些运算是不可交换的。这种情况下似乎只能有一个reducer，因为reducer需要有全局视图。map-reduce 中是否有可以并行执行的非交换reducer？当遇到非交换操作时，人们真的会使用 map-reduce 吗？或者只是在一些非常强大的机器上运行它？是否有将非交换运算分解为交换运算的常用方法？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:14:45.780

我不知道“交换”是否是在这里使用的正确词，但我明白你在说什么。

在 hadoop 中，post-mapping 阶段实际上分为两个步骤： a`Combiner`和 a `Reducer`，具有相同的签名。在`Combiner`映射器上运行以减少输出的大小，然后再进行键排序并发送到减速器。如果您只指定 a `Reducer`，那么它将用于两者；但是您可以将它们分开来做比您想象的更多的事情。

进行计数操作的简单案例使用计数归约器，可用于合并步骤和归约步骤。这减少了通过网络多次发送相同密钥的需要。

您可以通过定义不同的组合器和归约器来实现类似的计算平均值的效率。例如，映射器输出一个`(number, 1)`对应于数值和计数为 1 的值。组合器可以将一组值映射到一个`(sum, count)`元组或一个`(mean, count)`元组，而归约器可以使用计数的权重来聚合这些值以产生平均值。（顺便说一句：使用[Kahan summation](http://en.wikipedia.org/wiki/Kahan_summation_algorithm)可以大大减少添加大量数字的错误）。这允许映射器进行一些组合，就像在一个简单的计数示例中一样。

你可以在一个 map-reduce 步骤中做很多聪明的事情。但是，我认为这对于中位数来说是不可能的。在这种情况下，您实际上必须通过一台机器的状态发送所有数字。

# r - 基因排序微阵列

> ID：14868462
> 
> 赞同：1
> 
> 时间：2013-02-14T05:41:00.413
> 
> 标签：r, bioinformatics, bioconductor

我想知道是否有人熟悉用于排序和获取差异表达基因的 Bioconductor RankProduct 包。有关该软件的一些信息如下[纸](http://bioinformatics.oxfordjournals.org/content/22/22/2825.full)、[手册](http://www.bioconductor.org/packages/release/bioc/manuals/RankProd/man/RankProd.pdf)、[文档](http://www.bioconductor.org/packages/2.11/bioc/vignettes/RankProd/inst/doc/RankProd.pdf)。

我在使用程序时遇到了一些问题，可能是因为我对 R 语言知之甚少。我试图用我自己的数据复制上面 pdf 文件中的步骤。虽然我自己的数据集不像示例中那样在 afffy .cel 文件中，但仅作为制表符分隔文件中的行和列。我有两个条件（1 和 2，每个复制 = 4）

这是我的代码：

```
library(RankProd)
library(preprocessCore)

#Read expression data
#gdata <- read.table(file="data2.txt", sep="\t", header=T) #9000 rows of genes X 8 columns of chips
gdata <- read.table(file="data2.txt", sep="\t", header=T, row.names=1) #9000 rows of genes X 8 columns of chips

#colnames(gdata)

# This vector contains the microarray sample names
SampleNames= names(data.frame(gdata[,-1]))
#names(datExpr)=gdata[,1]

# This vector contains the gene names
datExpr.gnames= gdata$GeneName

# Since the first column contains the gene names, exclude it.
# dataExp is then the matix required
datExpr=data.frame(gdata[,-1])

#convert data into matrix form
datExpr <- as.matrix(datExpr)

#data normalization - quantile normalization
#datExpr.log.norm <- normalize.quantiles((log2(datExpr)),copy=TRUE) #with logged data
datExpr <- datExpr.log.norm
#datExpr.norm <- normalize.quantiles(datExpr,copy=TRUE) #without logged data
#datExpr <- datExpr.norm

# Identify two class data - control/treatment (or condition 1/condition2)
nl <- 4
n2 <- 4
cl <- rep(c(0,1), c(nl, n2))

datExpr.cl <- cl

# data were generated under identical or very similar conditions except the
# factor of interest (e.g., control and treatment),
origin <- rep(1, nl + n2)

datExpr.origin <- origin

# Data anslysis
datExpr.sub <- datExpr[,which(datExpr.origin == 1)]
datExpr.cl.sub <- datExpr.cl[which(datExpr.origin == 1)]
datExpr.origin.sub <- datExpr.origin[which(datExpr.origin == 1)]

#Rank product analysis and output
#RP.out <- RP(datExpr.sub, datExpr.cl.sub, num.perm = 100, logged = TRUE,na.rm = FALSE,    plot = FALSE, rand = 123)

RP.out <- RPadvance(datExpr.sub, datExpr.cl.sub, datExpr.origin.sub, num.perm = 100,logged = TRUE,
                na.rm = FALSE, gene.names = datExpr.gnames, plot = FALSE,rand = 123)

# Output a table of the identified genes based on user-specified selection criteria
topGene(RP.out, cutoff = 0.05, method = "pfp", logged = TRUE,logbase = 2, gene.names = datExpr.gnames) 
```

我确实运行了代码，但是我在一种情况下差异表达基因的倍数变化与另一种情况相比，要么是 0，要么是无穷大。我想知道是否有任何对此程序有经验的人可以帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:40:08.530

乍一看，我注意到的是

```
#datExpr.log.norm <- normalize.quantiles((log2(datExpr)),copy=TRUE) #with logged data
datExpr <- datExpr.log.norm 
```

这里只要第一行被注释掉 datExpr 就会变成空的。

# json - 使用 jquery ajax 从跨域解析 JSON

> ID：14868463
> 
> 赞同：0
> 
> 时间：2013-02-14T05:41:01.570
> 
> 标签：json, jquery

我试图从跨域解析 json，但我**在 jquery 插件中收到类似 405（不允许方法）的错误（我只使用来自谷歌的最新插件）**任何解决方案或建议对我都有很大帮助。

谢谢芭莎

**这是我的代码**

```
$(document).ready(function() {
    $.ajax({
    type: "GET",
    url: "http://myurl.com/webservice&callback=?",          
    contentType: "application/json; charset=utf-8",
    crossDomain: true,
    dataType: "jsonp",
    data: "{}",
    Accept: "",
    beforeSend: setHeader,
    success: OnGetAllMembersSuccess,
    error: OnGetAllMembersError,                
    });
});     
function setHeader(req) {
    req.setRequestHeader("Authentication", "Basic credentials");
    req.setRequestHeader("Content-Type", "application/json");
    req.setRequestHeader("Accept", "application/json");
}    

function OnGetAllMembersSuccess(data, status) {
    alert(status);
    $.each(data.result, function(key, value) {              
        $("#result").append(key+" : "+value);
        $("#result").append("<br />");
    });
}

function OnGetAllMembersError(request, status, error) {
    alert(status);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T09:45:41.873

使用 jsonp 作为 dataType 时，需要在服务器端绑定一个回调函数。例如，如果您需要像 {"id":"myId"} 这样的 json 响应，则在服务器端它应该像 " mycallback({"id":"myId"})";

此外，您还需要在客户端编写该函数。

```
function mycallback(json)
{alert(json);} 
```

# vb.net - 如果 ms-access 要求提供不必要的 uid 和密码怎么办？

> ID：14868466
> 
> 赞同：0
> 
> 时间：2013-02-14T05:41:06.270
> 
> 标签：vb.net, ms-access, crystal-reports

我使用 ms 访问作为数据库，我没有任何 uid 和密码。即使在运行水晶报告时是这样，它也会要求输入 uid 和密码。对于每个条目，它都会显示“登录失败”。是否有任何内部设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T18:18:08.847

如果您没有登录名和密码，则任何虚拟凭据都可能足以绕过该错误。查看此链接以获取示例：

[如何通过 OLE DB 在 ADO 中打开安全的 Access 数据库](http://support.microsoft.com/kb/191754)

# android - 插入数据库的麻烦

> ID：14868467
> 
> 赞同：0
> 
> 时间：2013-02-14T05:41:18.580
> 
> 标签：android

我试图向数据库中插入一些值，它显示没有找到这样的表的异常。

我在 OpenHelper 类中用于创建数据库的代码是

```
//Call Details Table
static final String Tablenamecall = "call_details";
static final String key_idcall = "key_idcall";
static final String datecall = "datecall";
static final String timecall = "timecall";
static final String toaddcall = "toaddcall"; 
```

查询表创建

```
public void onCreate(SQLiteDatabase db) 
{

    db.execSQL("CREATE TABLE "+Tablenamecall+"("+key_idcall+" INTEGER PRIMARY KEY, "+datecall+" TEXT, "+timecall+" TEXT, "+toaddcall+" TEXT)");

} 
```

插入表格的代码是

```
 //Call Details Insertion Here

public void calldetails_insertion(String date11 ,String time11 ,String to11) 
{
    SQLiteDatabase db=this.getWritableDatabase();
    ContentValues cv=new ContentValues();

     cv.put(datecall, date11);
     cv.put(timecall, time11);
     cv.put(toaddcall, to11);

     db.insert(Tablenamecall, datecall, cv);

     db.close();
     Log.v("DB", "Inset_User OK"); 
} 
```

我在活动中使用的代码是

```
 OpenHelper db_obj =  new OpenHelper(context);
            db_obj.calldetails_insertion(dateString, timeString,phoneNumberString); 
```

日志猫输出是

```
 02-14 11:15:30.674: I/System.out(9716): The Data is28-1-2013
02-14 11:15:30.674: I/System.out(9716): The Time is1-12
02-14 11:15:30.674: I/System.out(9716): The Phone Number Is855-214
02-14 11:15:31.774: E/DataBase(9716): opened
02-14 11:15:31.794: I/SqliteDatabaseCpp(9716): sqlite returned: error code = 1, msg = no such table: call_details, db=/data/data/com.example.reminder/databases/Reminder
02-14 11:15:31.824: E/SQLiteDatabase(9716): Error inserting timecall=1-12 datecall=28-1-2013 toaddcall=855-214
02-14 11:15:31.824: E/SQLiteDatabase(9716): android.database.sqlite.SQLiteException: no such table: call_details: , while compiling: INSERT INTO call_details(timecall,datecall,toaddcall) VALUES (?,?,?)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteCompiledSql.<init>(SQLiteCompiledSql.java:68)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteProgram.compileSql(SQLiteProgram.java:143)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteProgram.compileAndbindAllArgs(SQLiteProgram.java:361)
    02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteStatement.acquireAndLock(SQLiteStatement.java:260)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:112)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1718)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1591)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at com.example.reminder.OpenHelper.calldetails_insertion(OpenHelper.java:87)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at com.example.reminder.callcomposer$3.onClick(callcomposer.java:134)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.view.View.performClick(View.java:3511)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.view.View$PerformClick.run(View.java:14105)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.os.Handler.handleCallback(Handler.java:605)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.os.Handler.dispatchMessage(Handler.java:92)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.os.Looper.loop(Looper.java:137)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at android.app.ActivityThread.main(ActivityThread.java:4424)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at java.lang.reflect.Method.invokeNative(Native Method)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at java.lang.reflect.Method.invoke(Method.java:511)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
02-14 11:15:31.824: E/SQLiteDatabase(9716):     at dalvik.system.NativeStart.main(Native Method)
02-14 11:15:31.824: V/DB(9716): Inset_User OK 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:19:48.223

尝试如下：

将您的创建表查询主键更改为自动增量并插入数据，如下所示：

> ```
> db.execSQL("CREATE TABLE "+Tablenamecall+" ("+key_idcall+" INTEGER PRIMARY KEY AUTOINCREMENT, "+datecall+" TEXT, "+timecall+" TEXT, "+toaddcall+" TEXT)" 
> ```

```
 public void calldetails_insertion(String date11 ,String time11 ,String to11) 
 {
     SQLiteDatabase db=this.getWritableDatabase();
     ContentValues cv=new ContentValues();
      cv.put(datecall, date11);
      cv.put(timecall, time11);
      cv.put(toaddcall, to11);
      db.insert(Tablenamecall, null, cv); <---- check this line and change it.
      db.close();
      Log.v("DB", "Inset_User OK"); 
  } 
```

# ruby - 将矩阵转换为 Ruby 中的简化行梯形形式

> ID：14868469
> 
> 赞同：1
> 
> 时间：2013-02-14T05:41:24.000
> 
> 标签：ruby, matrix, linear-algebra

我正在开发一个用 ruby​​ 编写的[开源项目](https://github.com/fogonthedowns/Rubychem)，并且我遇到了一个算法需要使用[Linear Algebra](http://www.saintjoe.edu/~karend/m244/ChemicalEquations.pdf)的领域。我正在寻找一种宝石来将矩阵转换为简化的行梯形形式。

基本上遵循这个（非常详细的）系列步骤：

[http://www.math.odu.edu/~bogacki/cgi-bin/lat.cgi?c=rref](http://www.math.odu.edu/~bogacki/cgi-bin/lat.cgi?c=rref)

转换

```
require 'matrix'
Matrix[[12, 0, -1, 0], [26, 0, 0, -2], [0, 2, -2, -1]] 
```

至

```
Matrix[[1,0,0,-1/13],[0,1,0,-37/26],[0,0,1,-12/13]] 
```

这可以通过几个步骤使用标准 ruby​​ 库来完成吗？还是存在线性代数宝石？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:45:36.240

这有帮助吗 - [http://rubyforge.org/projects/linalg/](http://rubyforge.org/projects/linalg/)？

基本描述阅读 - Linalg 是一个快速的、基于 LAPACK 的用于实数和复杂矩阵的库。当前功能包括：奇异值分解、一般矩阵的特征向量和特征值、最小二乘、LU、QR、Schur、Cholesky、独立的 LAPACK 绑定。

# regex - 正则表达式匹配没有标点符号的邮政编码

> ID：14868471
> 
> 赞同：3
> 
> 时间：2013-02-14T05:41:35.717
> 
> 标签：regex, grep

我有一个包含一堆不同邮政编码的文件：

```
12345
12345-6789
1234567890
12345:6789
12345-7890
12:1234678 
```

我只想匹配格式为`12345`or的代码`12345-6789`，但忽略所有其他形式。

我有我的正则表达式：

`grep -E '\<[0-9]{5}\>[^[:punct:]]|\<[0-9]{5}\>-[0-9]{4}' samplefile`

它匹配 the，`12345-6789`因为“或”子句匹配那个特定的子句。我很困惑为什么它不会在第一个匹配，`12345`因为我的表达应该说“匹配 5 个数字但忽略任何标点符号”。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-14T05:46:14.393

与所需输出匹配的表达式是：

```
egrep "^[0-9]{5}([-][0-9]{4})?$" samplefile 
```

表达式分解：

`^[0-9]{5}`- 找到以 5 位数字开头的行。`^`表示行首，`[0-9]{5}`正好是 0 到 9 之间的五位数字。

`([-][0-9]{4})?$`- 可能以破折号和四位数字结尾或根本没有。`()`将表达式组合在一起，`[-]`表示短划线字符，`[0-9]{4}`恰好表示 0 到 9 之间的四个数字，`?`表示组合表达式完全存在或不存在并`$`标记行尾。

**测试数据**

```
12345
12345-6789
1234567890
12345:6789
12345-7890
12:1234678 
```

在测试数据上运行表达式：

```
mike@test:~$ egrep "^[0-9]{5}([-][0-9]{4})?$" test.dat 
12345
12345-6789
12345-7890 
```

附加信息：`grep -E`也可以写成`egrep`. 这也适用于`grep -F`与 相同`fgrep`和`grep -r`与 相同的情况`rgrep`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:49:47.707

它不会匹配“12345”，但会匹配“12345a”。第一个子句需要以非标点字符结尾，就像你写的那样。

考虑迈克的回答；它更清楚。

# ios - 将 OpenCV 与 MonoTouch 链接会返回“架构 i386 的未定义符号”错误

> ID：14868472
> 
> 赞同：1
> 
> 时间：2013-02-14T05:41:41.427
> 
> 标签：ios, opencv, linker, xamarin.ios, ios-simulator

我收到此错误，我尝试将基于 OpenCV 的库添加到 MonoTouch 项目中：

```
Undefined symbols for architecture i386:
      "cv::isContourConvex(cv::_InputArray const&)", referenced from:
  aruco::MarkerDetector::detectRectangles(cv::Mat const&, std::vector<aruco::MarkerDetector::MarkerCandidate, std::allocator<aruco::MarkerDetector::MarkerCandidate> >&)in libAruco.a(markerdetector.o)
      "cv::warpPerspective(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, cv::Size_<int>, int, int, cv::Scalar_<double> const&)", referenced from:
  aruco::MarkerDetector::warp_cylinder(cv::Mat&, cv::Mat&, cv::Size_<int>, aruco::MarkerDetector::MarkerCandidate&)in libAruco.a(markerdetector.o)
  aruco::MarkerDetector::warp(cv::Mat&, cv::Mat&, cv::Size_<int>, std::vector<cv::Point_<float>, std::allocator<cv::Point_<float> > >)in libAruco.a(markerdetector.o)
      "cv::FileNodeIterator::readRaw(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned char*, unsigned long)", referenced from:
  cv::VecReaderProxy<float, 1>::operator()(std::vector<float, std::allocator<float> >&, unsigned long) constin libAruco.a(board.o)
      "cv::FileNodeIterator::FileNodeIterator(CvFileStorage const*, CvFileNode const*, unsigned long)", referenced from:
  cv::FileNode::begin() constin libAruco.a(board.o)
  cv::FileNode::end() constin libAruco.a(board.o) 
```

这只是存在此问题的完整 opencv 方法列表中的一个示例，因为它很容易超过 100 个。

我正在尝试在模拟器中运行它（我只有 monotouch 的试用版）。我正在为 xcode 中的 ipad 模拟器进行编译，并按照 Opencv 教程使用他们网站上的预构建框架设置我的项目。我可能想知道是否需要输入一些链接器标志，因为我的静态库没有我期望的那么大，因为它需要与几个 opencv 模块链接（这只是一种直觉，而不是必然表示任何东西）。

我想还有一点很重要，因为我对 iOS 和 MonoTouch 开发的经验很少，所以我可能会错过一些非常简单的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T13:33:45.583

您的静态库可能不是 FAT（多架构）库，或者可能不包含**i386**代码。

找出答案的简单方法是从终端窗口尝试：

```
lipo -info libAruco.a 
```

那应该返回如下内容：

```
Architectures in the fat file: libAruco.a are: i386 ... 
```

哪里`...`可能`armv7`（或更多）支持 iOS 设备。

OTOH 如果`i386`丢失，则意味着您的库未编译为在模拟器上工作。在这种情况下，您需要返回 Xcode 来构建此架构并使用`lipo`来创建 FAT 库（包括`arm`和`i386`架构）。

# math - 计算机科学数学

> ID：14868480
> 
> 赞同：68
> 
> 时间：2013-02-14T05:42:06.923
> 
> 标签：math, computer-science

我已经阅读了关于这个主题的几个答案，但我仍然有疑问.. 有很多数学课程，我不知道先上哪一个。每个计算机科学家都应该参加哪些数学课？什么课程应该是第一个，为什么？

* * *

## 回答 #1

> 赞同：93
> 
> 时间：2013-02-14T06:02:51.983

非常好的和重要的问题！对数学的良好理解对于每个计算机科学家来说都是必不可少的，并且数学要求开始变得更加多样化。

*   [离散数学](http://en.wikipedia.org/wiki/Discrete_mathematics)是计算机科学最重要和最基础的课程，因此它通常在 CS 系而不是数学系提供。本课程将巩固您对算法的介绍，并教您如何在数学上证明事物，并为您提供分析数据结构和算法的基础知识。
*   [微积分](http://en.wikipedia.org/wiki/Calculus)虽然不直接用于入门级计算机科学课程，但通常是您的大学提供的一系列课程，用于提高您的数学技能。但是，当您开始涉足数值编程和机器学习等领域时，它将证明非常有用。这也是高级概率/统计课程的要求。
*   [概率](http://en.wikipedia.org/wiki/Probability)通常在您的离散数学课程中有所涉及，但您可能希望参加关于连续概率分布和[统计推断](http://en.wikipedia.org/wiki/Statistical_inference)的课程，可能在数学和统计系。这将使您更好地了解如何进行数值计算和模拟，并且对于[机器学习](http://en.wikipedia.org/wiki/Machine_learning)（计算机科学最重要的应用之一）是必不可少的。
*   [线性代数](http://en.wikipedia.org/wiki/Linear_algebra)是一门主要用于机器学习和（高级）算法类的课程，但它在计算机视觉、计算机图形学、机器学习和其他定量子学科中的重要性至关重要。

也就是说，如果有机器学习类的介绍，它们可能会涵盖足够的线性代数和其他你可以通过基本概率类获得的东西。然而，对于计算机科学研究生来说，对上述所有数学领域的良好理解是必不可少的。

除了本科数学之外，高级数学课程对计算机科学的某些理论领域（例如算法博弈论，与经济学相交）也很有用，尤其是在超越机器学习实践者开发新算法方面。这些课程包括：

*   [真实分析](https://en.wikipedia.org/wiki/Real_analysis)，包括[测度论](https://en.wikipedia.org/wiki/Measure_(mathematics))，你会发现，如果你研究概率和微积分足够长的时间，它们会再次收敛。当您开始使用涉及数字的算法时，分析通常是一件有用的事情。

*   [优化](https://en.wikipedia.org/wiki/Mathematical_optimization)，包括[线性优化](https://en.wikipedia.org/wiki/Linear_programming)、[凸优化](https://en.wikipedia.org/wiki/Convex_optimization)、[梯度下降](https://en.wikipedia.org/wiki/Gradient_descent)等。在很多情况下，“学习”一个机器学习模型基本上归结为优化一个目标函数，而这个函数的属性，比如它是否是凸的，对优化的难易程度有很大的影响。

*   [数值方法](https://en.wikipedia.org/wiki/Numerical_analysis)：有些人不会认为这*本身*就是数学课，但是在将算法和理论转化为浮点数学的不完美表示时，有许多实际问题需要解决。例如，[log-sum-exp 技巧](https://stackoverflow.com/a/15278480/586086)。

*   对于那些将从事“数据科学”和相关领域的人来说，高级统计，尤其是[因果推理](https://en.wikipedia.org/wiki/Causal_inference)非常重要。有很多事情要知道，主要是因为访问大量数据会为初学者带来[这个问题](https://xkcd.com/552/)。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-14T05:52:21.113

[组合](http://en.wikipedia.org/wiki/Combinatorics)数学、[数值分析](http://en.wikipedia.org/wiki/Numerical_analysis)、[离散数学](http://en.wikipedia.org/wiki/Discrete_mathematics)、[数理统计](http://en.wikipedia.org/wiki/Mathematical_statistics)、[概率论](http://en.wikipedia.org/wiki/Probability_theory)、[信息论](http://en.wikipedia.org/wiki/Information_theory)、[线性代数](http://en.wikipedia.org/wiki/Linear_algebra)、[λ演算](http://en.wikipedia.org/wiki/Lambda_calculus)、[数理逻辑](http://en.wikipedia.org/wiki/Mathematical_logic)、[范畴论](http://en.wikipedia.org/wiki/Category_theory)、[过程演算](http://en.wikipedia.org/wiki/Process_calculus)等。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-02-14T05:54:49.167

由于您指定了“计算机科学家”，我们将采取艰难的路线：

1.  算法分析依赖于微积分、微分方程和离散数学。（许多人认为算法分析是计算机科学和软件工程程序之间的主要区别）。
2.  计算机图形/科学可视化需要工程分析背景：数值方法、线性代数等。
3.  计算几何
4.  函数逼近
5.  集合论、逻辑/一阶微积分
6.  概率/统计
7.  名单还在继续:)

# jsp - 如何使用struts2重写URL地址？

> ID：14868487
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:42:36.557
> 
> 标签：jsp, url, struts2, tiles

我希望我的代码重新格式化 URL 并将它们显示如下（使用 / ）

```
 http://www.example.com/myProject/Profile/view.action
 http://www.example.com/myProject/Profile/edit.action 
```

但它显示它们如下（带 _ ）

```
http://www.example.com/myProject/Profile_view.action
http://www.example.com/myProject/Profile_edit.action 
```

为此，我将 struts.xml 文件中的“_”更改为“/”，但它不起作用

```
<action name="Profile/*" method="{1}" class="com.controller.Profile">
      <result name="view" tiles="viewProfile">viewProfile</result>
       <result name="edit" tiles="editProfile">editProfile</result>
  </action> 
```

我使用以下代码调用它

```
 <a href="Profile/view.action" >Profile</a> 
```

**请让我知道是否有任何其他方法可以实现它。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:56:01.070

你为什么把你的行为称为

`<a href="Profile/view.action" >Profile</a>`

但是您可以使用

```
<a href="view.action" >Profile</a> 
```

并在您的 xml 中进行了更改

```
<action name="view.action" method="{1}" class="com.controller.Profile">
      <result name="view" tiles="viewProfile">viewProfile</result>
       <result name="edit" tiles="editProfile">editProfile</result>
</action> 
```

你不能在你的映射中使用通配符**，**因为在你的操作中你没有指定任何东西。如果你真的想使用通配符，那么在你的操作中指定一个方法名称，就像这样

```
<a href="YOURMETHODNAMEview.action" >Profile</a> 
```

**在你的 xml**

```
 <action name="*view.action" method="{1}" class="com.controller.Profile">
          <result name="view" tiles="viewProfile">viewProfile</result>
           <result name="edit" tiles="editProfile">editProfile</result>
    </action> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T08:50:33.523

如果你真的想用斜线分隔你的动作，你应该使用`NAMESPACE`，试试这个：

```
<package name="profile" extends="struts-default" namespace="/Profile">
    <action name="*" method="{1}" class="com.controller.Profile">
      <result name="view" tiles="viewProfile">viewProfile</result>
      <result name="edit" tiles="editProfile">editProfile</result>
    </action>
</package> 
```

如果您尝试在 url 上使用参数，则应考虑使用

```
<constant name="struts.enable.SlashesInActionNames" value="true"/> 
```

在您的 Struts 2 配置文件中。

关于[Wildcart Mapping](http://struts.apache.org/release/2.0.x/docs/wildcard-mappings.html)文档，您也可以这样做：

```
 <action name="**" method="{1}" class="com.controller.Profile">
      <result name="view" tiles="viewProfile">viewProfile</result>
      <result name="edit" tiles="editProfile">editProfile</result>
    </action> 
```

`** matches zero or more characters including the slash ('/') character.`您还可以在 [Wildcart Mapping](http://struts.apache.org/release/2.0.x/docs/wildcard-mappings.html)文档中找到它。

您应该首先考虑您*真正*想要什么，*然后*进行配置和实现。

在你的情况下，Struts 2 认为你的动作有斜线，关于[动作配置](http://struts.apache.org/release/2.1.x/docs/action-configuration.html)

> **带有斜杠**
> 的动作名称 如果您的动作名称中包含斜杠（例如， `<action name="admin/home" class="tutorial.Admin"/>`），您需要通过 struts.xml 文件中的常量指定 ，特别允许在动作名称中使用斜杠 `<constant> name="struts.enable.SlashesInActionNames" value="true"/>`。
> 请参阅 JIRA 问题 WW-1383 进行讨论，因为将此属性设置为 true 会产生副作用。
> 
> **带有点和破折号的动作名称** 尽管动作命名非常灵活，但在使用点（例如）和/或破折号（例如）
> 时应该注意。虽然点表示法目前没有已知的副作用，但破折号表示法会导致为某些标签和主题生成的 JavaScript 出现问题。请谨慎使用，并始终尝试使用驼峰式操作名称（例如。 ）或下划线（例如。）。`create.user``my-action``createUser``my_action`

所以 Struts 2 会将你的斜杠转换为下划线。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-18T03:19:21.567

默认情况下，struts 不允许 / 在动作名称中。您可以通过使用命名空间或修改 struts 配置以允许破折号起作用来实现您想要的。

1.要使用命名空间，使用命名空间“/Profile”定义另一个包：

```
<package name="profile" extends="struts-default" namespace="/Profile">
<action name="*" method="{1}" class="com.controller.Profile">
  <result name="view" tiles="viewProfile">viewProfile</result>
  <result name="edit" tiles="editProfile">editProfile</result>
</action>
......
</package> 
```

如果您想在同一个命名空间下对许多操作进行分组，则此方法非常有用。

2.要允许破折号起作用，您有 2 个选项，在 struts.xml 中定义常量，如下所示：

```
<constant name="struts.enable.SlashesInActionNames" value="true"/>
<constant name="struts.mapper.alwaysSelectFullNamespace" value="false"/> 
```

或者在 struts.properties 中定义它：

```
struts.enable.SlashesInActionNames=true
struts.mapper.alwaysSelectFullNamespace=false 
```

之后，您可以在 struts.xml 中使用它：

```
<action name="Profile/*" method="{1}" class="com.controller.Profile">
  <result name="view" tiles="viewProfile">viewProfile</result>
   <result name="edit" tiles="editProfile">editProfile</result>
</action> 
```

# tableview - 无法将值插入 tableview - JavaFx

> ID：14868489
> 
> 赞同：1
> 
> 时间：2013-02-14T05:43:01.977
> 
> 标签：tableview, javafx, fxml

我是 JavaFx 的新手，我正在尝试创建一个 tableview，并且 fxml 是使用场景生成器创建的。如果我运行该程序，则该表未获取值。我发现这个问题在某种程度上符合我的要求（[javaFX 2.2 - Not able to populate table from Controller](https://stackoverflow.com/questions/13722892/javafx-2-2-not-able-to-populate-table-from-controller)），但我的代码也与之匹配。但我仍然无法获得表中的值。

我参考了以下视频：[http ://www.youtube.com/watch?v=HiZ-glk9_LE](http://www.youtube.com/watch?v=HiZ-glk9_LE)

我的代码如下，

主视图.java

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package controller;

import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Scene;
import javafx.scene.layout.AnchorPane;
import javafx.stage.Stage;

public class MainView extends Application {

    public static void main(String[] args) {
        launch(args);
    }

    @Override
    public void start(Stage primaryStage) throws Exception {
        try {
            AnchorPane page = FXMLLoader.load(MainView.class.getResource("MainView.fxml"));
            Scene scene = new Scene(page);
            primaryStage.setScene(scene);
            primaryStage.setTitle("Sample Window"); 
            primaryStage.setResizable(false); 
            primaryStage.show();
        } catch (Exception e) {
        }
    }
} 
```

主视图.fxml

```
<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane id="AnchorPane" prefHeight="400.0" prefWidth="600.0" xmlns:fx="http://javafx.com/fxml" fx:controller="controller.MainViewController">
  <children>
    <SplitPane dividerPositions="0.535175879396985" focusTraversable="true" orientation="VERTICAL" prefHeight="400.0" prefWidth="600.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
      <items>
        <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="100.0" prefWidth="160.0">
          <children>
            <TableView fx:id="tableID" prefHeight="210.0" prefWidth="598.0" tableMenuButtonVisible="true" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
              <columns>
                <TableColumn minWidth="20.0" prefWidth="40.0" text="ID" fx:id="tID" />
                <TableColumn prefWidth="100.0" text="Date" fx:id="tDate" />
                <TableColumn prefWidth="200.0" text="Name" fx:id="tName" />
                <TableColumn prefWidth="75.0" text="Price" fx:id="tPrice" />
              </columns>
            </TableView>
          </children>
        </AnchorPane>
        <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="100.0" prefWidth="160.0" />
      </items>
    </SplitPane>
  </children>
</AnchorPane> 
```

主视图控制器.java

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package controller;

import java.net.URL;
import java.util.ResourceBundle;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.cell.PropertyValueFactory;
import model.Table;

/**
 * FXML Controller class
 *
 */
public class MainViewController implements Initializable {

    /**
     * Initializes the controller class.
     */
    @FXML
    TableView<Table> tableID;
    @FXML
    TableColumn<Table, Integer> tID;
    @FXML
    TableColumn<Table, String> tName;
    @FXML
    TableColumn<Table, String> tDate;
    @FXML
    TableColumn<Table, String> tPrice;
    int iNumber = 1;
    ObservableList<Table> data =
            FXCollections.observableArrayList(
            new Table(iNumber++, "Dinesh", "12/02/2013", "20"),
            new Table(iNumber++, "Vignesh", "2/02/2013", "40"),
            new Table(iNumber++, "Satheesh", "1/02/2013", "100"),
            new Table(iNumber++, "Dinesh", "12/02/2013", "16"));

    @Override
    public void initialize(URL url, ResourceBundle rb) {
        // System.out.println("called");

        tID.setCellValueFactory(new PropertyValueFactory<Table, Integer>("rID"));
        tName.setCellValueFactory(new PropertyValueFactory<Table, String>("rName"));
        tDate.setCellValueFactory(new PropertyValueFactory<Table, String>("rDate"));
        tPrice.setCellValueFactory(new PropertyValueFactory<Table, String>("rPrice"));
        tableID.setItems(data);

    }
} 
```

表.java

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package model;

import javafx.beans.property.SimpleIntegerProperty;
import javafx.beans.property.SimpleStringProperty;

public class Table {

    SimpleIntegerProperty rID;
    SimpleStringProperty rName;
    SimpleStringProperty rDate;
    SimpleStringProperty rPrice;

    public Table(int rID, String rName, String rDate, String rPrice) {
        this.rID = new SimpleIntegerProperty(rID);
        this.rName = new SimpleStringProperty(rName);
        this.rDate = new SimpleStringProperty(rDate);
        this.rPrice = new SimpleStringProperty(rPrice);
        System.out.println(rID);
        System.out.println(rName);
        System.out.println(rDate);
        System.out.println(rPrice);
    } 

    public Integer getrID() {
        return rID.get();
    }

    public void setrID(Integer v) {
        this.rID.set(v);
    }

    public String getrDate() {
        return rDate.get();
    }

    public void setrDate(String d) {
        this.rDate.set(d);
    }

    public String getrName() {
        return rName.get();
    }

    public void setrName(String n) {
         this.rDate.set(n);
    }

    public String getrPrice() {
        return rPrice.get();
    }

    public void setrPrice(String p) {
       this.rPrice.set(p); 
    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:57:07.390

在 Table.java 中更改所有 getter 和 setter 名称，
将 getr* 更改为 getR* 将 setr*
更改为 setR*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T05:59:57.873

感谢@Uluk Biy。无论他提到什么，都需要更改，我发现我错过了FXML 文件中每一列的标签下的`<cellValueFactory>`and标签，如下所示，`<PropertyValueFactory>``<TableColumn>`

```
<TableColumn minWidth="20.0" prefWidth="40.0" text="ID" fx:id="tID" >
 <cellValueFactory>
    <PropertyValueFactory property="tID" />
  </cellValueFactory>
</TableColumn> 
```

与此类似，所有列都需要像这样更新。

进行此更改后，代码运行正常。我能够将值添加到行中。:)

# mysql - rake db:migrate 的问题

> ID：14868490
> 
> 赞同：0
> 
> 时间：2013-02-14T05:43:04.090
> 
> 标签：mysql, ruby-on-rails, ruby-on-rails-3

我是这个 Rails 的初学者。我正在努力修复以下错误

```
C:\library>rake db:migrate --trace
(in C:/library)
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Execute environment
** Execute db:migrate
==  CreateBooks: migrating
====================================================
-- create_table(:books)
rake aborted!
An error has occurred, all later migrations canceled:

Mysql::Error: Table 'books' already exists: CREATE TABLE `books` (`id`
int(11) D
EFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime,
`updated_at` date
time) ENGINE=InnoDB 
```

我手动删除了所有未解决问题的表现在使用 `rake db:drop db:create db:migrate` 但仍然收到 rake aborted 消息..

```
C:\library>rake db:drop db:create db:migrate

(in C:/library)
rake aborted!
Mysql::Error: Specified key was too long; max key length is 767 bytes: 
CREATE UN
IQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
```

我也没有 schema.rb 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:02:29.143

第一条消息可能是迁移失败但未正确退出的结果。在执行迁移之前拍摄数据库快照是个好主意，这样如果出现问题，您可以恢复到已知良好的配置。

第二条消息表明您正在尝试在一个“太大”的字段上创建索引，MySQL 无法执行此操作。由于 MySQL 处理 UTF-8 字符的方式，每个字符都分配了三个字节的键空间。这意味着任何超过 255 个字符的内容都需要有一个长度限制，否则它将无法工作，至少在抱怨它的 MySQL 版本中是这样。

看起来很奇怪的是它试图建立`schema_migrations`表格并失败了。您的 MySQL 配置是否有任何异常可能触发此问题？它是旧版本吗？建议使用 5.5 或更高版本。

# c - xyz 调试 [c/c 应用程序] 在 opencv eclipse

> ID：14868493
> 
> 赞同：0
> 
> 时间：2013-02-14T05:43:23.407
> 
> 标签：c, opencv, eclipse-cdt

我在 Windows 7 中使用带有 opencv 2.1 和 MinGW 的 Eclipse。我正在尝试显示图像，我成功构建了代码，但是当我尝试运行 xyz.exe 时，它​​显示 xyz 调试 [c/c++ 应用程序]。我在下面发布了我的代码

```
#include <stdio.h>
#include <cv.h>
#include <highgui.h>

int main( int argc, char** argv )
{
 IplImage* img = cvLoadImage("Koala.jpg");
 if (!img)
     printf("Image can NOT Load!!!\n");
 cvNamedWindow("Example",CV_WINDOW_AUTOSIZE);
 cvShowImage("Example", img);
 cvWaitKey(0);
 cvReleaseImage(&img);
 cvDestroyWindow("Example");

return 0;

} 
```

当我运行 xyz.exe 时，它​​没有显示图像，甚至没有显示空白窗口。图像有效并且在同一个文件夹中。

任何建议表示赞赏。

# php - 单击一次，表单提交两次

> ID：14868494
> 
> 赞同：0
> 
> 时间：2013-02-14T05:43:26.487
> 
> 标签：php, javascript, form-submit, double-submit-problem

我有一个`PHP`表格很大（大约 10-15 个字段）甚至更多的文件`hidden inputs`。

没有动作条目，也没有`onSubmit`。`However`表单主要通过 2 个链接提交，即

```
<a href="javascript:void(0)" onclick="return save_change('abc');" >
     <img src="qimages/publish-to-world.jpg" alt="Publish to world" border="0" />
</a> 
```

而另一个提交表单是这样的

```
<td id='save_td'>
     <a href="javascript:void(0)" onclick="return save_change('save');" class="thickbox">
        Save as draft
     </a>
 </td> 
```

`save_change`是一个非常大的函数，它验证输入并在未验证时返回 false 并在验证时提交表单。

**问题是：仅有时对于访问此页面的远程客户端，表单会在一次单击时提交两次——并非总是如此。**

我们无法最终复制该问题

# forms - ExtJS 4 ComboBox multiSelect 显示选中值的个数

> ID：14868497
> 
> 赞同：3
> 
> 时间：2013-02-14T05:43:48.383
> 
> 标签：forms, extjs, view, combobox, extjs4

我正在编写 POC，我的客户希望在多选组合框下方显示所选值的数量。

我可以从选择事件侦听器中获取值的数量，但希望将功能封装在组件本身中，而不是在执行 DOM 更新的地方使用*DIV 。*

多选组合框的代码如下：

```
Ext.onReady(function () {
    // The data store containing the list of states
    var states = Ext.create('Ext.data.Store', {
        fields: ['abbr', 'name'],
        data: [{
            name: 'ALABAMA',
            abbreviation: 'AL'
        }, {
            name: 'ALASKA',
            abbreviation: 'AK'
        }, {
            name: 'AMERICAN SAMOA',
            abbreviation: 'AS'
        }, {
            name: 'ARIZONA',
            abbreviation: 'AZ'
        }, {
            name: 'ARKANSAS',
            abbreviation: 'AR'
        }, {
            name: 'CALIFORNIA',
            abbreviation: 'CA'
        }, {
            name: 'COLORADO',
            abbreviation: 'CO'
        }, {
            name: 'CONNECTICUT',
            abbreviation: 'CT'
        }, {
            name: 'DELAWARE',
            abbreviation: 'DE'
        }, {
            name: 'DISTRICT OF COLUMBIA',
            abbreviation: 'DC'
        }, {
            name: 'FEDERATED STATES OF MICRONESIA',
            abbreviation: 'FM'
        }, {
            name: 'FLORIDA',
            abbreviation: 'FL'
        }, {
            name: 'GEORGIA',
            abbreviation: 'GA'
        }, {
            name: 'GUAM',
            abbreviation: 'GU'
        }, {
            name: 'HAWAII',
            abbreviation: 'HI'
        }, {
            name: 'IDAHO',
            abbreviation: 'ID'
        }, {
            name: 'ILLINOIS',
            abbreviation: 'IL'
        }, {
            name: 'INDIANA',
            abbreviation: 'IN'
        }, {
            name: 'IOWA',
            abbreviation: 'IA'
        }, {
            name: 'KANSAS',
            abbreviation: 'KS'
        }, {
            name: 'KENTUCKY',
            abbreviation: 'KY'
        }, {
            name: 'LOUISIANA',
            abbreviation: 'LA'
        }, {
            name: 'MAINE',
            abbreviation: 'ME'
        }, {
            name: 'MARSHALL ISLANDS',
            abbreviation: 'MH'
        }, {
            name: 'MARYLAND',
            abbreviation: 'MD'
        }, {
            name: 'MASSACHUSETTS',
            abbreviation: 'MA'
        }, {
            name: 'MICHIGAN',
            abbreviation: 'MI'
        }, {
            name: 'MINNESOTA',
            abbreviation: 'MN'
        }, {
            name: 'MISSISSIPPI',
            abbreviation: 'MS'
        }, {
            name: 'MISSOURI',
            abbreviation: 'MO'
        }, {
            name: 'MONTANA',
            abbreviation: 'MT'
        }, {
            name: 'NEBRASKA',
            abbreviation: 'NE'
        }, {
            name: 'NEVADA',
            abbreviation: 'NV'
        }, {
            name: 'NEW HAMPSHIRE',
            abbreviation: 'NH'
        }, {
            name: 'NEW JERSEY',
            abbreviation: 'NJ'
        }, {
            name: 'NEW MEXICO',
            abbreviation: 'NM'
        }, {
            name: 'NEW YORK',
            abbreviation: 'NY'
        }, {
            name: 'NORTH CAROLINA',
            abbreviation: 'NC'
        }, {
            name: 'NORTH DAKOTA',
            abbreviation: 'ND'
        }, {
            name: 'NORTHERN MARIANA ISLANDS',
            abbreviation: 'MP'
        }, {
            name: 'OHIO',
            abbreviation: 'OH'
        }, {
            name: 'OKLAHOMA',
            abbreviation: 'OK'
        }, {
            name: 'OREGON',
            abbreviation: 'OR'
        }, {
            name: 'PALAU',
            abbreviation: 'PW'
        }, {
            name: 'PENNSYLVANIA',
            abbreviation: 'PA'
        }, {
            name: 'PUERTO RICO',
            abbreviation: 'PR'
        }, {
            name: 'RHODE ISLAND',
            abbreviation: 'RI'
        }, {
            name: 'SOUTH CAROLINA',
            abbreviation: 'SC'
        }, {
            name: 'SOUTH DAKOTA',
            abbreviation: 'SD'
        }, {
            name: 'TENNESSEE',
            abbreviation: 'TN'
        }, {
            name: 'TEXAS',
            abbreviation: 'TX'
        }, {
            name: 'UTAH',
            abbreviation: 'UT'
        }, {
            name: 'VERMONT',
            abbreviation: 'VT'
        }, {
            name: 'VIRGIN ISLANDS',
            abbreviation: 'VI'
        }, {
            name: 'VIRGINIA',
            abbreviation: 'VA'
        }, {
            name: 'WASHINGTON',
            abbreviation: 'WA'
        }, {
            name: 'WEST VIRGINIA',
            abbreviation: 'WV'
        }, {
            name: 'WISCONSIN',
            abbreviation: 'WI'
        }, {
            name: 'WYOMING',
            abbreviation: 'WY'
        }]
    });

    // Create the combo box, attached to the states data store
    Ext.create('Ext.form.ComboBox', {
        labelAlign: 'top',
        labelPad: 10,
        fieldLabel: 'Choose State',
        store: states,
        queryMode: 'local',
        editable: false,
        displayField: 'name',
        valueField: 'abbreviation',
        renderTo: Ext.getBody(),
        multiSelect: true,
        width: 400,
        displayTpl: '<tpl for=".">' +
            '{name}' +
            '<tpl if="xindex < xcount">, </tpl>' +
            '</tpl>',
        listConfig: {
            itemTpl: '{name} <div class="chkbox"></div>'
        },
        listeners: {
            select: function (combo, records) {
                console.log(records.length);   
            }
        }
    });

}); 
```

有没有简单的方法来实现这一目标？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T06:16:02.253

您可以为组合框编写一个简单的插件。然后可以将其分配给应用程序的任何组合框。

例如：

```
Ext.define('comboSelectedCount', {
    alias: 'plugin.selectedCount',
    init: function(combo) {
        var fl = combo.getFieldLabel();
        combo.on({
            'select': function(me, records) {
                me.setFieldLabel(fl + ' (' + records.length + ' selected)');
            },
            'beforedeselect': function(me) {
                me.setFieldLabel(fl);
            }
        });
    }
}); 
```

在你的组合中：

```
plugins: ['selectedCount'], 
```

查看**[jsfiddle上的实时示例](http://jsfiddle.net/hURY8/)**

# cocoa-touch - 需要对 refreshObject:mergeChanges:YES 进行一些说明

> ID：14868498
> 
> 赞同：5
> 
> 时间：2013-02-14T05:43:49.753
> 
> 标签：cocoa-touch, core-data

**一些背景：**

我正在尝试将大量数据存储在本地数据库中，并且我希望尽可能高效地执行此操作。

**设想：**

有许多实体是相互关联的，例如地址与这样的联系人相关联：

> 地址 <<-> 联系人

为了管理关系，我在 NSManagedObject 的每个子类中编写了一个方法，下面是一些代码片段：

```
// class Contact
- (void)manageRelationships
{
    @autoreleasepool {
        LocalDBManager *localDBManager = [[LocalDBManager alloc] init];

        // managing relationships

        // map associated addresses

        NSPredicate *addressIdPredicate = [NSPredicate predicateWithFormat:@"%K == %@",ADDRESSID,self.addressid];

        // below method returns an object as fault by firing a fetch request against context
         NSSet *retrievedAddresses = [localDBManager retrieveManagedObjectsForEntity:ADDR_ENTITY withPredicate:addressIdPredicate asFault:YES withPropertyValues:NO error:nil];
        self.addresses = retrievedAddresses;

        // managing few more relationships         
    }

} 
```

**需要考虑的点：**

由于一个对象可以有多个关系，我知道在映射关系时内存消耗会增加。

**问题：**

一旦映射关系，我想将一个对象恢复为故障，而不会丢失所做的任何更改。

从苹果文档和一些谷歌搜索我开始知道我可以使用**refreshObject:mergeChanges:**方法。所以我打算在 manageRelationships 方法的代码块末尾添加以下行：

```
[[self managedObjectContext] refreshObject:self mergeChanges:YES]; 
```

我有点困惑，想知道——

> 这是否意味着对对象所做的任何更改都将存储在持久存储中，然后对象将出现故障？如果是，那么我可以认为它相当于 NSManagedObjectContext 的保存方法吗

请建议。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-14T08:47:12.827

首先，您不需要自己管理关系。让 CoreData 来处理。

> 当您访问故障中的数据时，Core Data 会自动解决（触发）故障。这种相关对象的延迟加载对于内存使用来说要好得多，对于获取与很少使用（或非常大）对象相关的对象来说要快得多。 [核心数据性能](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdPerformance.html#//apple_ref/doc/uid/TP40003468-SW1)

您可以通过简单地实例化联系人地址之间的一对多关系来做到这一点。

关于**refreshObject:mergeChanges:**你错了。它不等同于 save: 方法。如果将合并更改设置为 YES，则仅表示：

> 如果 flag 为 YES，则对象的属性值从存储中的值或上次缓存状态中重新加载，然后（在本地上下文中）所做的任何更改都将重新应用于那些（现在新更新的）值。 [可可触摸文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/CoreDataFramework/Classes/NSManagedObjectContext_Class/NSManagedObjectContext.html)

因此，如果您在托管对象 A 中进行了一些更改，然后进行了**[context refreshObject:A mergeChanges:YES]**，那么对象 A 仍将保持未保存状态。

# asp.net - 在 asp.net 中使用 .rdlc 报告

> ID：14868505
> 
> 赞同：2
> 
> 时间：2013-02-14T05:44:55.703
> 
> 标签：asp.net

我正在开发一个会计系统的网络应用程序。我需要通过 .rdlc 文件开发报告，但是当我要开始使用报告向导时。然后产生的错误。我附上了错误的打印屏幕。请检查并给出答案。 ![在此处输入图像描述](../Images/6388d0ad6edafc224b9a7d6c0cc88465.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:56:44.107

[请从http://ajaxcontroltoolkit.codeplex.com/releases/view/90063](http://ajaxcontroltoolkit.codeplex.com/releases/view/90063)下载 AjaxControlTookkit并安装。这应该可以解决您的问题。

# salesforce - 系统管理员的 Site.com 错误

> ID：14868507
> 
> 赞同：0
> 
> 时间：2013-02-14T05:45:11.390
> 
> 标签：salesforce, apex-code, visualforce

我正在尝试在我的组织中编辑 site.com 站点，通过我是系统管理员，它给了我访问级别错误，如下所示：

'您没有执行您请求的操作所需的访问级别。如果需要访问，请联系记录的所有者或您的管理员。

有什么建议吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:23:37.457

[检查来自https://salesforce.stackexchange.com/questions/5598/permission-problem-in-sales-forece](https://salesforce.stackexchange.com/questions/5598/permission-problem-in-sales-forece)和[http://boards.developerforce.com/t5/Force-com-Sites-Site-com](http://boards.developerforce.com/t5/Force-com-Sites-Site-com/page-is-showing-insufficient-privilege/td-p/233797)的安全提示[/page-is-showing-insufficient-privilege/td-p/233797](http://boards.developerforce.com/t5/Force-com-Sites-Site-com/page-is-showing-insufficient-privilege/td-p/233797)

如果您确定站点的安全性很好 - 尝试调试站点[https://salesforce.stackexchange.com/questions/1149/how-can-i-get-a-debug-log-for-the- sites-guest-user-public-profile](https://salesforce.stackexchange.com/questions/1149/how-can-i-get-a-debug-log-for-the-sites-guest-user-public-profile)（因为您可能会收到未显示在 VF 页面上的 Apex 错误）。

该网站曾​​经工作过还是新网站？如果它是新的，我赌的是权限（前 2 个链接），如果他有权访问您正在使用的对象，则应检查来宾用户个人资料...

最后但同样重要的是：他们在 5 天前修复了一个错误：[http](http://success.salesforce.com/issues_view?id=a1p30000000RivgAAC) ://success.salesforce.com/issues_view?id=a1p30000000RivgAAC也许您需要使用此解决方法，也许您只需克隆该站点即可工作正常...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-21T22:31:33.397

您必须检查您的个人资料，我猜有人为您创建了个人资料并委派您成为管理员，如果这不是您的问题，您必须转到您的个人信息并单击编辑，您可以找到一个涉及“站点发布者”的复选框，您必须选中它才能创建和发布您的站点:)

# ios - TDD：单元测试异步调用

> ID：14868519
> 
> 赞同：2
> 
> 时间：2013-02-14T05:46:09.960
> 
> 标签：ios, tdd, ocunit

伙计们：

我正在开发一个应用程序，并通过单元测试来构建它。

但是，我现在处于需要测试异步调用的情况。例如，

```
- (void)testUserInfoBecomesValidWhenUserIsBuiltSuccessfully
{
    if ( ![userBuilder userInfoUpToDate] )
    {
        [userBuilder buildUser];
    }

    STAssertTrue([userBuilder userInfoUpToDate], @"User information is not valid before building the user");
} 
```

测试这些东西的一般做法是什么？userInfoUpToDate 预计将异步更新。

谢谢！威廉

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-27T19:54:49.183

有时会很想测试你通常不会使用单元测试测试的东西。这基本上来自误解和测试一切的愿望。然后你意识到你不知道如何用单元测试来测试它。

你最好问问自己——我在这里测试什么？

我是否测试在请求完成之前数据不可用？

然后你可以编写测试的非异步版本，它将在请求完成后检查数据是否可用。

我是否在请求后测试响应是否正确保存？

您还可以使用逻辑中的标志对其进行测试。

您可以在不运行异步测试的情况下进行所有逻辑测试。

所以在底部我什至会问你为什么你认为你需要测试异步调用？

单元测试应该快速运行 - 所以将其视为不测试异步调用的另一个原因。想象一下运行这些测试的持续集成系统——它需要额外的时间。

并阅读您对另一个答案的评论 - 我认为在测试中使用异步并不常见。例如 TDD 书中的 Kent Beck。提到并发单元测试是可能的，但非常罕见。

那么 - 你真的想测试什么以及为什么？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T14:49:18.350

使用运行循环，轮询直到完成或达到超时： [https ://codely.wordpress.com/2013/01/16/unit-testing-asynchronous-tasks-in-objective-c/](https://codely.wordpress.com/2013/01/16/unit-testing-asynchronous-tasks-in-objective-c/)

# ios - 使用 uicollectionview 管理的图像集合的幻灯片

> ID：14868521
> 
> 赞同：0
> 
> 时间：2013-02-14T05:46:17.143
> 
> 标签：ios, uicollectionview

我正在使用 UICollectionView（具有水平布局）来管理图像集合。管理集合视图的视图控制器具有可见的底部工具栏，并带有一个播放按钮，用于开始集合中图像的幻灯片放映。我的问题是实现包含集合视图的幻灯片的最佳方式是什么？我最初的想法是尝试使用带有交叉溶解选项的 UIView 转换（transitionFromView 或 transitionWithView）使集合视图更改可见单元格，但我没有得到我期望的效果（可能我的代码有问题）。我的另一个想法是简单地向集合视图添加一个子视图来处理幻灯片。该子视图将有权访问数据源并能够遍历图像。大学教师' 不知道最后一个选项是否是解决问题的好方法。任何人都尝试过这个和/或解决这个问题的建议是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:49:39.603

我的想法是不需要集合视图。在滚动视图中放置显示图像的 imageview。在 timer 中改变 scrollview 的偏移量。所以看起来像幻灯片放映一样自动图像正在变化。

# javascript - 为什么 jQuery 将元素存储为函数？

> ID：14868523
> 
> 赞同：1
> 
> 时间：2013-02-14T05:46:29.393
> 
> 标签：javascript, jquery

我正在调用一个 ID 为 car 的 div，如下所示：

```
var car = $('#car');
console.log(car); 
```

当我记录它时，它会在控制台中像这样返回：

```
[div#car, context: document, selector: "#car", jquery: "1.9.0", constructor: function, init: function…] 
```

日志的“构造函数：函数”部分是否告诉我它已作为函数存储，如果是，为什么以及如何将其存储为对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:49:45.310

jQuery 在接受参数时创建函数实例。在这种情况下，您发送了一个选择器，它是元素的 id。收到此选择器后，jquery 使用`new`“内部”jquery 函数上的关键字。结果是一个函数对象。每次您使用`$`或`jQuery`向它询问一个 jquery 对象时，该对象是`new`发出给 jQuery 函数的结果。这个对象附加了很多东西，包括匹配选择器的元素数组，以及允许您访问 API 的 jQuery 原型。

所以，只是为了澄清。它是一个对象。它是由一个函数构造的。

* * *

## 编辑

下面是一些示例代码，可帮助您了解这是如何发生的。

**首先**，这个演示是一个简单的 jquery 对象：http: [//jsfiddle.net/PbdCt/](http://jsfiddle.net/PbdCt/)

html

```
<div id="car"></div> 
```

js

```
var car = $("#car");
console.log(car); 
```

**其次**，这是我写的一个例子

html

```
<div id="car"></div> 
```

js

```
var $ = (function(){
    var $ = function(sel){
        if( !(this instanceof $) ){
            return new $(sel);
        }
        this.selector = sel;
        this.element = document.getElementById(sel);
        this.constructor = $;
        this.init = function(){ /*init*/ };
    };

    return $;
})();

var car = $("car");
console.log(car); 
```

您会注意到它们都记录几乎完全相同的内容。中没有魔法`$`，它只是一个字符串，很像`Y`is or `jQuery`, or `HelloWorld`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:52:06.267

没有。constructor:function 表示它调用了 jQuery 构造函数，在给定的上下文中调用，选择器。它返回 jQuery 对象。

现在 car 是一个 jQuery 对象。

`car`您可以在对象上访问 jQuery 的所有方法。

# javascript - 无法对无效元素执行操作：UIAElementNil

> ID：14868524
> 
> 赞同：1
> 
> 时间：2013-02-14T05:46:51.200
> 
> 标签：javascript, ios-ui-automation

脚本抛出了一个未捕获的 JavaScript 错误：

```
Cannot perform action on invalid element: UIAElementNil from target.frontMostApp().mainWindow().popover().actionSheet().buttons()["Save Note"] 
```

代码：

```
var target = UIATarget.localTarget();
var app = target.frontMostApp();
var window = app.mainWindow();
target.logElementTree();
UIALogger.logPass("Stick Note Save Start"); 
app.navigationBar().toolbar().buttons()["Plus"].tap(); 
app.keyboard().typeString("Ki");
window.popover().actionSheet().buttons()["Save Note"].tap();
UIALogger.logPass("StickNoteSaveEnd"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T07:39:34.277

First of all, check correct hierarchy. Then, try to use "app.popover().actionSheet().buttons()["Save Note"].tap();" If it does not work for you, please give some details regarding elements structure/buttons.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T18:59:39.770

我认为从 javascript 访问操作表存在错误。[您可以在此处](https://stackoverflow.com/a/15287666/18159)查看我对类似问题的回答。

基本上我认为 actionSheet() 总是返回 nil 到按钮和元素。这不应该，但我所看到的一切都表明并非如此。

MikhailV 制定了一个功能来在[这里](https://stackoverflow.com/a/5331896/18159)点击正确的按钮。

# php - PHP：文件上传不验证文件类型

> ID：14868525
> 
> 赞同：0
> 
> 时间：2013-02-14T05:46:54.630
> 
> 标签：php, file-upload, if-statement, verification, file-type

我正在尝试上传图像文件。

我收到文件名并且确定并且没有错误，但是由于某种原因，当它到达我的文件类型时，如果/其他语句：

```
if($filetype != 'image/jpeg' || $filetype != 'image/jpg' || $filetype != 'image/png' || $filetype != 'image/gif') {
//ERROR - NOT CORRECT TYPE
}
else {
//CORRECT FILE TYPE..CONTINUE
} 
```

它总是会说文件类型错误。我尝试了几种不同大小的不同文件类型，但无济于事。

我的完整代码是：

```
 if(!$_FILES['photo'.$i]['error'])
  {
   echo "<br />NO ERRORS FOUND";

      //FILE TYPE CHECKER
      $filetype = $_FILES['photo'.$i]['type'];
      echo "<br />FILE TYPE: " . $filetype;

      if($filetype != 'image/jpeg' || $filetype != 'image/jpg' || $filetype != 'image/png' || $filetype != 'image/gif') {
        $valid_file = false;
        $message = 'Wrong file type. Please only upload jpg, jpeg, gif or png files';
      }//END FILE CHECKER IF

      else {
        echo "<br />FILE TYPE OK";
      }//END FILE TYPE CHECK ELSE

  } 
```

该行`echo "<br />FILE TYPE: " . $filetype;`显示我正在上传正确的文件类型（例如：FILE TYPE: image/png），只是 if 语句没有反应......

有人知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:49:18.670

使用 && 不 ||

```
if($filetype != 'image/jpeg' && $filetype != 'image/jpg' && $filetype != 'image/png' && $filetype != 'image/gif') {
//ERROR - NOT CORRECT TYPE
} 
```

最好使用[PHP File Info](http://php.net/manual/en/book.fileinfo.php)还将您的逻辑更改为：

```
$allowed_mimes = array('image/jpeg', 'image/jpg');
if(!in_array($filetype, $allowed_mimes)){
 //eeror
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:51:12.107

改变 || 到 && - 如果是 || 这将永远是真的。

```
if($filetype != 'image/jpeg' && $filetype != 'image/jpg' && $filetype != 'image/png' && $filetype != 'image/gif') { 
```

# actionscript-3 - 在数据网格中使用复选框过滤数据

> ID：14868528
> 
> 赞同：1
> 
> 时间：2013-02-14T05:47:08.280
> 
> 标签：actionscript-3, apache-flex, flex3, fms3

在选择数据网格中的复选框数据必须过滤和取消选择复选框时，数据网格中的默认数据必须出现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T11:24:25.907

这只是逻辑问题。

您不应该通过析取来混合三组的中间结果。首先，您应该在每个因素内部进行析取，然后对三个中间结果进行合取。

如果三个因素之一没有选定的变量，它可能不会对整体结果产生影响，因此您需要将初始值设置为 true。

```
<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" 
            layout="absolute" minWidth="955" minHeight="600" creationComplete="init()">
<mx:Script>
    <![CDATA[
        import mx.collections.ArrayCollection;

        [Bindable]public var DGcoll:ArrayCollection;
        private var DGarray:Array;

        private function init():void
        {
            DGarray = [
                {Gametype: '101P00l',   Bet: 500,   MaxPlayers:2, TotalPlayers:2, Status:"ok", RegTable:"rt"}, 
                {Gametype: '201P00l',   Bet: 1000,  MaxPlayers:6, TotalPlayers:5, Status:"ok", RegTable:"rt"},
                {Gametype: '201P00l',   Bet: 500,   MaxPlayers:2, TotalPlayers:2, Status:"ok", RegTable:"rt"},
                {Gametype: '101P00l',   Bet: 4000,  MaxPlayers:6, TotalPlayers:3, Status:"ok", RegTable:"rt"},
                {Gametype: 'Bestof3',   Bet: 5000,  MaxPlayers:6, TotalPlayers:2, Status:"ok", RegTable:"rt"},
                {Gametype: 'Bestof3',   Bet: 4000,  MaxPlayers:6, TotalPlayers:6, Status:"ok", RegTable:"rt"},
                {Gametype: '201P00l',   Bet: 500,   MaxPlayers:2, TotalPlayers:2, Status:"ok", RegTable:"rt"},
                {Gametype: '201P00l',   Bet: 500,   MaxPlayers:2, TotalPlayers:2, Status:"ok", RegTable:"rt"},
                {Gametype: '201P00l',   Bet: 500,   MaxPlayers:2, TotalPlayers:2, Status:"ok", RegTable:"rt"},
                {Gametype: '201P00l',   Bet: 500,   MaxPlayers:2, TotalPlayers:2, Status:"ok", RegTable:"rt"}
            ];

            addData();
        }

        public function addData():void
        {
            DGcoll = new ArrayCollection(DGarray);
            DGcoll.filterFunction=filterFunction;
        }

        public function filterFunction(item:Object):Boolean
        {
            if (checkAll.selected)
                return true;

            if(check101 && check201 && check3 && check2players && check6players && checklow && checkmedium && checkhigh)
            {
                if(!check101.selected && !check201.selected && !check3.selected && !check2players.selected && !check6players.selected && !checklow.selected && !checkmedium.selected && !checkhigh.selected)
                {
                    return true;
                }
                else
                {
                    var gametypeFactor:Boolean = true;

                    if (check101.selected || check201.selected || check3.selected)
                    {
                        var Fcheck101:Boolean =check101.selected ? item.Gametype == '101P00l' : false;
                        var Fcheck201:Boolean =check201.selected ? item.Gametype == '201P00l' : false;
                        var Fcheck3:Boolean =check3.selected ? item.Gametype == 'Bestof3' : false;

                        gametypeFactor = Fcheck101 || Fcheck201 || Fcheck3;
                    }

                    var maxPlayersFactor:Boolean = true;

                    if (check2players.selected || check6players.selected)
                    {
                        var Fcheck2players:Boolean=check2players.selected ?item.MaxPlayers=='2':false;
                        var Fcheck6players:Boolean=check6players.selected ?item.MaxPlayers=='6':false;

                        maxPlayersFactor = Fcheck2players || Fcheck6players;
                    }

                    var betFactor:Boolean = true;

                    if (checklow.selected || checkmedium.selected || checkhigh.selected)
                    {
                        var Fchecklow1:Boolean=checklow.selected ?item.Bet=='500':false;
                        var Fchecklow2:Boolean=checklow.selected ?item.Bet=='1000':false;

                        var Fcheckmedium1:Boolean=checkmedium.selected ?item.Bet=='1000':false;
                        var Fcheckmedium2:Boolean=checkmedium.selected ?item.Bet=='2000':false;
                        var Fcheckmedium3:Boolean=checkmedium.selected ?item.Bet=='3000':false;

                        var Fcheckhigh1:Boolean=checkhigh.selected ?item.Bet=='3000':false;
                        var Fcheckhigh2:Boolean=checkhigh.selected ?item.Bet=='4000':false;
                        var Fcheckhigh3:Boolean=checkhigh.selected ?item.Bet=='5000':false;
                        var Fcheckhigh4:Boolean=checkhigh.selected ?item.Bet=='10000':false;

                        betFactor = Fchecklow1 || Fchecklow2 || Fcheckmedium1 ||Fcheckmedium2 ||Fcheckmedium3 || Fcheckhigh1 || Fcheckhigh2 || Fcheckhigh3 || Fcheckhigh4;
                    }

                    return gametypeFactor && maxPlayersFactor && betFactor;
                }
            }
            else 
            {
                return true;   
            } 
        }

        private function onCbAllClick(evt:Event):void
        {
            check101.enabled = !checkAll.selected;
            check201.enabled = !checkAll.selected;
            check3.enabled = !checkAll.selected;
            check2players.enabled = !checkAll.selected;
            check6players.enabled = !checkAll.selected;
            checklow.enabled = !checkAll.selected;
            checkmedium.enabled = !checkAll.selected;
            checkhigh.enabled = !checkAll.selected;

            DGcoll.refresh();
        }

        private function onAnyCbClick(evt:Event):void
        {
            DGcoll.refresh();
        }
    ]]>
</mx:Script>

<mx:Canvas width="648" height="347" x="162" y="40">

    <mx:HBox x="30">
        <mx:Label text="Show all infos" fontSize="12"/>
        <mx:CheckBox id="checkAll" click="onCbAllClick(event)"/>
    </mx:HBox>

    <mx:Label x="95" y="21" text="Gametype" fontSize="12" width="140"/>
    <mx:Label x="311" y="21" text="Players" fontSize="12" width="98"/>
    <mx:Label x="468" y="21" text="Bet" fontSize="12" width="123"/>
    <mx:HBox height="47" y="49" width="608" x="30">
        <mx:CheckBox id="check101"  x="30" y="48" click="onAnyCbClick(event)" />
        <mx:Label text="101Pool" x="42" y="48"/>
        <mx:CheckBox id="check201"  x="67" y="48" click="onAnyCbClick(event)" />
        <mx:Label  text="201pool" x="79" y="48"/>
        <mx:CheckBox id="check3"  x="125" y="48" click="onAnyCbClick(event)"/>
        <mx:Label text=" Bestof3" x="147" y="48"/>
        <mx:CheckBox id="check2players"  x="214" y="48" click="onAnyCbClick(event)"/>
        <mx:Label text="2 Players" x="228" y="48"/>
        <mx:CheckBox id="check6players"  x="292" y="48" click="onAnyCbClick(event)"/>
        <mx:Label text="6 Players" x="307" y="48"/>
        <mx:CheckBox id="checklow"  x="371" y="48" click="onAnyCbClick(event)"/>
        <mx:Label text="Low" x="393" y="48"/>
        <mx:CheckBox id="checkmedium"  x="421" y="48" click="DGcoll.refresh();"/>
        <mx:Label text="Medium" x="443" y="48"/>
        <mx:CheckBox id="checkhigh" x="498" y="48" click="onAnyCbClick(event)"/>
        <mx:Label text="High" x="520" y="48"/>
    </mx:HBox>
    <mx:DataGrid  id="dg"  dataProvider="{DGcoll}" sortArrowSkin="mx.skins.ProgrammaticSkin" x="30" y="104" width="608" height="217">
        <mx:columns>
            <mx:DataGridColumn dataField="Gametype"/>
            <mx:DataGridColumn dataField="Bet"/>
            <mx:DataGridColumn dataField="MaxPlayers"/>
            <mx:DataGridColumn dataField="TotalPlayers"/>
            <mx:DataGridColumn dataField="Status"/>
            <mx:DataGridColumn dataField="RegTable"/>
        </mx:columns>
    </mx:DataGrid>
</mx:Canvas>
</mx:Application> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T05:01:54.243

```
 [Bindable] 
        public var DGcoll:ArrayCollection;

        public function addData():void
        {
            DGcoll=new ArrayCollection(DGarray);
            DGcoll.filterFunction=filterFunction;
             trace(filterFunction(DGcoll)); 
        }

        public function filterFunction(item:Object):Boolean
        {

            if(check101 && check201 && check3 && check2players && check6players && checklow && checkmedium && checkhigh)
            {
                if(!check101.selected && !check201.selected && !check3.selected && !check2players.selected && !check6players.selected && !checklow.selected && !checkmedium.selected && !checkhigh.selected)
                {
                return true;
                }
                else
                {
                        trace(" if filterfunction");
                var Fcheck101:Boolean =check101.selected ? item.Gametype == '101P00l' : false;
                var Fcheck201:Boolean =check201.selected ? item.Gametype == '201P00l' : false;
                var Fcheck3:Boolean =check3.selected ? item.Gametype == 'Bestof3' : false;
                var Fcheck2players:Boolean=check2players.selected ?item.MaxPlayers=='2':false;
                var Fcheck6players:Boolean=check6players.selected ?item.MaxPlayers=='6':false;
                var Fchecklow1:Boolean=checklow.selected ?item.Bet=='500':false;
                var Fchecklow2:Boolean=checklow.selected ?item.Bet=='1000':false;
                var Fcheckmedium1:Boolean=checkmedium.selected ?item.Bet=='1000':false;
                var Fcheckmedium2:Boolean=checkmedium.selected ?item.Bet=='2000':false;
                var Fcheckmedium3:Boolean=checkmedium.selected ?item.Bet=='3000':false;
                var Fcheckhigh1:Boolean=checkhigh.selected ?item.Bet=='3000':false;
                var Fcheckhigh2:Boolean=checkhigh.selected ?item.Bet=='4000':false;
                var Fcheckhigh3:Boolean=checkhigh.selected ?item.Bet=='5000':false;
                var Fcheckhigh4:Boolean=checkhigh.selected ?item.Bet=='10000':false;

                return Fcheck101 || Fcheck201 || Fcheck3 || Fcheck2players || Fcheck6players ||Fchecklow1 || Fchecklow2 || Fcheckmedium1 ||Fcheckmedium2 ||Fcheckmedium3 || Fcheckhigh1 || Fcheckhigh2 || Fcheckhigh3 || Fcheckhigh4;
                }

            }
            else 
            {
                trace("else");
                return true;   
            } 

        }

    ]]>
</mx:Script>
<mx:Canvas width="648" height="347" x="162" y="10">

    <mx:Label x="95" y="21" text="Gametype" fontSize="12" width="140"/>
    <mx:Label x="311" y="21" text="Players" fontSize="12" width="98"/>
    <mx:Label x="468" y="21" text="Bet" fontSize="12" width="123"/>
    <mx:HBox height="47" y="49" width="608" x="30">
    <mx:CheckBox id="check101"  x="30" y="48"  click="DGcoll.refresh();" />
    <mx:Label text="101Pool" x="42" y="48"/>
    <mx:CheckBox id="check201"  x="67" y="48" click="DGcoll.refresh();" />
    <mx:Label  text="201pool" x="79" y="48"/>
    <mx:CheckBox id="check3"  x="125" y="48" click="DGcoll.refresh();"/>
    <mx:Label text=" Bestof3" x="147" y="48"/>
    <mx:CheckBox id="check2players"  x="214" y="48" click="DGcoll.refresh();"/>
    <mx:Label text="2 Players" x="228" y="48"/>
    <mx:CheckBox id="check6players"  x="292" y="48" click="DGcoll.refresh();"/>
    <mx:Label text="6 Players" x="307" y="48"/>
    <mx:CheckBox id="checklow"  x="371" y="48" click="DGcoll.refresh();"/>
    <mx:Label text="Low" x="393" y="48"/>
    <mx:CheckBox id="checkmedium"  x="421" y="48" click="DGcoll.refresh();"/>
    <mx:Label text="Medium" x="443" y="48"/>
    <mx:CheckBox id="checkhigh" x="498" y="48" click="DGcoll.refresh();"/>
    <mx:Label text="High" x="520" y="48"/>
    </mx:HBox>
    <mx:DataGrid  id="dg"  dataProvider="{DGcoll}" sortArrowSkin="mx.skins.ProgrammaticSkin" x="30" y="104" width="608" height="217">
    <mx:columns>
        <mx:DataGridColumn dataField="Gametype"/>
        <mx:DataGridColumn dataField="Bet"/>
        <mx:DataGridColumn dataField="MaxPlayers"/>
        <mx:DataGridColumn dataField="TotalPlayers"/>
        <mx:DataGridColumn dataField="Status"/>
        <mx:DataGridColumn dataField="RegTable"/>
        <!--<mx:DataGridColumn dataField="Join"/>-->
    </mx:columns>
    </mx:DataGrid>
</mx:Canvas> 
```

# jquery - jquery next() 这个

> ID：14868530
> 
> 赞同：1
> 
> 时间：2013-02-14T05:47:17.800
> 
> 标签：jquery, this, next

我偶然发现了一个小问题。

试图制作一个简单的手风琴导航。使用 jquery，但注意到一些我无法弄清楚的事情。

这是我的代码

```
<div class="box"> Item 1</div>
<div class="text"> Text Box </div>
<div class="box"> Item 2</div>
<div class="text"> Text Box 2</div>
<div class="box"> Item 3</div>
<div class="text"> Text Box 3</div> 
```

JS

```
$('.box').click(function(){
    $('.text').slideUp()
    $(this).next().slideToggle()    
}) 
```

我想知道的是，如果我使用

```
 $(this).next().slideToggle() 
```

*一切正常。*

现在我尝试替换（this）如下：

```
 $('.text').next().slideToggle() 
```

但效果不同。我认为（这个）会与 div-text 或至少与 DOM 中的其他东西有关？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:49:49.730

click 事件中的`$(this)`代表事件的来源，另一方面 `$('.text')`代表所有具有`class`文本的元素的集合。 `$('.text').next().slideToggle()`将调用`slideToggle`selector 返回的集合的第一个元素`$('.text')`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T05:54:32.710

简而言之：

```
$(this) // <----Represents current target which got the event 
```

尽管：

```
$('.text') // <--- this is a collection of all elems with class '.text' so all
           // -----will be getting events simultaneosly. 
```

# sql - 加入 3 个无法正常工作的表

> ID：14868531
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:47:24.010
> 
> 标签：sql, sql-server, sql-server-2008

我正在尝试根据业务和订阅者 ID 获取成员。但这不能正常工作。请帮我解决这个问题。

```
SELECT distinct m.Fname,m.Created,m.[User_Name],b.Business_Name 
FROM dbo.Members m,dbo.Business b,dbo.Assign_Business a 
WHERE  m.Subcriber_id=a.Subscriber_id 
AND  a.Business_id=b.id 
AND b.Subcriber_id=a.Subscriber_id 
AND  a.Business_id='6' AND a.Subscriber_id='1' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:04:11.933

没有看到你的表的 DDL 很难说，但你可以试试

```
SELECT DISTINCT 
       m.Fname,m.Created,m.[User_Name],b.Business_Name 
  FROM dbo.Business b INNER JOIN 
       dbo.Assign_Business a ON a.Business_id=b.id AND 
                                a.Subscriber_id=b.Subcriber_id INNER JOIN
       dbo.Members m ON m.Subcriber_id=a.Subscriber_id
 WHERE a.Business_id=6 AND 
       a.Subscriber_id=1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:05:05.243

尝试以下操作：

```
SELECT DISTINCT
   m.Fname,
   m.Created,
   m.[User_Name],
   b.Business_Name 
FROM dbo.Members m
   INNER JOIN dbo.Assign_Business a ON m.Subcriber_id=a.Subscriber_id
   INNER JOIN dbo.Business b ON a.Business_id=b.id AND b.Subcriber_id=a.Subscriber_id 
WHERE  
   a.Business_id='6' AND a.Subscriber_id='1' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T06:00:45.213

尝试这个..

```
select distinct m.Fname,m.Created,m.[User_Name],b.Business_Name 
from dbo.Members m
left join dbo.Assign_Business a on m.Subcriber_id=a.Subscriber_id
left join dbo.Business b on a.Business_id=b.id 
 where a.Business_id='6' and a.Subscriber_id='1' and  b.Subcriber_id=a.Subscriber_id 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T06:01:40.933

第一步，干净地格式化你的代码。这对调试有很大帮助。

```
SELECT 
  distinct m.Fname,
           m.Created,
           m.[User_Name],
           b.Business_Name 
FROM 
  dbo.Members as M 
  inner join dbo.Assign_Business as A on M.Subscriber_Id = A.Subscriber_id
  inner join dbo.Business as B on B.id = A.Business_id and B.Subscriber_id = A.Subscriber_id 
WHERE
  A.Business_ID = '6'
  and A.Subscriber_id = '1' 
```

# wcf - 在类似于 asmx 的浏览器中调用 WCF 服务

> ID：14868534
> 
> 赞同：0
> 
> 时间：2013-02-14T05:47:35.073
> 
> 标签：wcf

我在 NET 4.0 中创建了一个 WCF 服务，它返回 XML，我使用 SoapUI 对其进行了测试，我可以看到所需的响应 xml。但是我的 WCF 服务会被第 3 方软件调用，他们想通过像 asmx 这样的 URL 来使用它。我用谷歌搜索，发现我需要使用 REST 指南。但是，我还没有找到一个正确的链接，显示使用 REST 制作 Web 服务，然后从类似于 Web 服务的浏览器访问该方法。

**下面是我用来返回 XML 格式的接口代码**

```
public interface IService1
{

    [WebGet(
        UriTemplate = "/GetDocument/",
        BodyStyle = WebMessageBodyStyle.Bare,
        ResponseFormat = WebMessageFormat.Xml)]

    [OperationContract, XmlSerializerFormat]
    XmlElement GetDocument();

    // TODO: Add your service operations here
} 
```

**下面是我的配置设置。**

```
<system.serviceModel>
<services>
  <service name="BritishLandXML.BritishLandXML1" behaviorConfiguration="metadataBehavior">
    <endpoint address="" binding="basicHttpBinding" contract="BritishLandXML.IService1" />        
    <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
  </service>
</services>

<bindings>
  <webHttpBinding>
    <binding>
      <security mode="None"></security>
    </binding>
  </webHttpBinding>
</bindings>

<behaviors>
  <endpointBehaviors>
    <behavior name="rest">
      <webHttp helpEnabled="true" faultExceptionEnabled="true" automaticFormatSelectionEnabled="true" />
    </behavior>
  </endpointBehaviors>

  <serviceBehaviors>
    <behavior name="metadataBehavior">
      <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
      <serviceMetadata httpGetEnabled="true"/>
      <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
      <serviceDebug includeExceptionDetailInFaults="true"/>
    </behavior>
  </serviceBehaviors>
</behaviors>
<serviceHostingEnvironment multipleSiteBindingsEnabled="true" /> 
```

请让我知道如何实现这一点以及需要哪些确切设置。

# c# - 如何发送“新”消息框之一？

> ID：14868535
> 
> 赞同：0
> 
> 时间：2013-02-14T05:47:43.100
> 
> 标签：c#, windows-8

我如何发送这个：

![在此处输入图像描述](../Images/0e639cc26947f620a4b011194254141b.png)

我记得在桌面 C# 中是 MessageBox.Show(All those arguments);

我不知道如何用谷歌搜索这样的问题，因为我对它们一无所知.. 帮助？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T05:49:41.843

那不是`MessageBox`，这是“吐司”。这是基础知识 - [http://code.msdn.microsoft.com/windowsapps/Toast-notifications-sample-52eeba29](http://code.msdn.microsoft.com/windowsapps/Toast-notifications-sample-52eeba29)

# java - Servlet 获取日期和时间

> ID：14868537
> 
> 赞同：1
> 
> 时间：2013-02-14T05:47:50.657
> 
> 标签：java, datetime, servlets, time, sqldatetime

我正在使用以下代码来获取日期和时间

```
public class offer extends HttpServlet {

@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {

    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
    try {

        out.println("<html>");
        out.println("<head>");
        out.println("<title>Servlet offer</title>");
        out.println("</head>");
        out.println("<body>");
        out.println("<h1> sv sugar mills</h1>");
        doPost(request,response);
        out.println("</body>");
        out.println("</html>");

    } finally {
        out.close();
    }
} 

 @Override
protected void doPost(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {
     response.setContentType("text/html;charset=UTF-8");
     PrintWriter out = response.getWriter();
     java.sql.Date sqlDate=null,ofrmonth=null,ctime=null;

    dat="14/02/2013";
    try
    {
     java.util.Date date=new SimpleDateFormat("dd/MM/yyyy").parse(dat);
     //ctime=new java.sql.Date(date.getTime());
     sqlDate = new java.sql.Date(date.getTime());
     out.println(sqlDate);
     out.Println(ctime);
    }
    catch(Exception e)
    {
     out.println(e);
    }
 }
@Override
public String getServletInfo() {
    return "Short description";
}// </editor-fold>

} 
```

此处，util.Date 变量日期显示为“Thu Feb 14 00:00:00 IST 2013”​​。所以我很容易得到 sql.Date 为“2013-02-14”。另外，我想从中获得时间。在 ctime 变量中，我想获取时间并显示它。格式应为 24 小时格式。但我不知道如何得到它。

我使用了一些函数，如 getHours() 和 getDate()，但我找不到解决方案。有人可以帮我争取时间。提前致谢

我需要时间为 00:00:00 (hh:mm:ss)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:59:13.827

尝试这个：

```
Calendar c = Calendar.getInstance();
c.setTime(sqlDate);
System.out.println(c.get(Calendar.HOUR));
System.out.println(c.get(Calendar.MINUTE));
System.out.println(c.get(Calendar.SECOND)); 
```

除非您为`Calendar`对象设置时区，否则以上将返回您机器时区的时间。

如果您想要作为输出`String`形式的单个`HH:mm:ss`，您可以使用[`SimpleDateFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)@zvzdhk 指出的 a 。

片段：

```
SimpleDateFormat sdf = new SimpleDateFormat("HH:mm:ss");
sdf.setTimeZone(TimeZone.getTimeZone("IST"));
System.out.println(sdf.format(sqlDate)); 
```

请注意，允许`TimeZone.getTimeZone`使用等参数。请阅读[文档](http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getTimeZone%28java.lang.String%29)以获取更多信息。`"GMT+5:30"``"PST"`

# c++ - 尝试将 const char* 转换为 long long 时程序崩溃

> ID：14868539
> 
> 赞同：0
> 
> 时间：2013-02-14T05:47:59.043
> 
> 标签：c++

程序运行时，长时间崩溃 thisLong = atoll(c); 这有什么原因吗？

```
string ConvertToBaseTen(long long base4) {
    stringstream s;
    s << base4;
    string tempBase4;
    s >> tempBase4;
    s.clear();
    string tempBase10;
    long long total = 0;
    for (signed int x = 0; x < tempBase4.length(); x++) {
         const char* c = (const char*)tempBase4[x];
         long long thisLong = atoll(c);
         total += (pow(thisLong, x));
    }
    s << total;
    s >> tempBase10;
    return tempBase10;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:52:47.670

[atoll](http://en.cppreference.com/w/c/string/byte/atoi)需要`const char*`作为输入，但`tempBase4[x]`只返回`char`.

如果要将字符串中的每个字符转换为十进制，请尝试：

```
for (signed int x = 0; x < tempBase4.length(); x++) {
   int value = tempBase4[i] -'0';
   total += (pow(value , x));
} 
```

或者，如果您想将整个 tempBase 转换为`long long`：

```
long long thisLong = atoll(tempBase4.c_str());
total += (pow(thisLong, x)); 
```

# html - 什么“填充底部：1px；” 对于 CSS 圆角框？

> ID：14868540
> 
> 赞同：0
> 
> 时间：2013-02-14T05:48:03.783
> 
> 标签：html, css

我有这些 HTML\CSS 用于一个简单的圆框。它运作良好，但我不明白为什么要放置“padding-bottom：1px;” 对于“盒子”。我可以看到有这个填充和没有这个填充之间的区别。只是不明白为什么它会这样工作。在 Chrome 中，底部的空间明显超过 1px。

[这](http://blurfun.com/temp/view.jpg)是图片比较差异，[这](http://blurfun.com/temp/round-box.html)是代码

```
 <div class="box">
 <h2>Lorem Ipsum</h2>
 <p>Lorem ipsum dolor sit amet, sapien.</p>
 </div>

.box {width: 348px; 
      background: #FF9 url(images/bottom.png) no-repeat left bottom;
      padding-bottom: 1px;}
.box h2 {background: url(images/top.png) no-repeat left top;
         margin-top: 0;
         padding: 20px 20px 0 20px;} 
```

非常感谢~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:03:55.930

`margin-bottom`你的被`<p>`添加到`padding`你的`box`。所以你看不到 1 px 而是 1px + 10px 。

```
.box p  {margin-bottom:0} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T17:13:42.743

填充避免边距折叠：

[http://www.w3.org/TR/CSS2/box.html#collapsing-margins](http://www.w3.org/TR/CSS2/box.html#collapsing-margins)

> 当且仅当 [...] 没有填充 [...] 将它们分开时，两个边距是相邻的

没有它，就像底部边距一样`.box`。

# php - 如何在不同目录中使用的函数中 require_once

> ID：14868541
> 
> 赞同：0
> 
> 时间：2013-02-14T05:48:07.107
> 
> 标签：php, function

我需要像这样的函数内部的文件：

```
function MyFunction(){
    require_once('../../myfile.php');
    //do stuff
} 
```

此功能可在站点上的任何位置使用，因此所需文件的路径不应更改。我尝试使用`chdir(dirname(__FILE__));`，但是稍后在 php 中更改了我的其他文件的目录，这是不需要的。

当我在整个网站的各个目录中时，我收到一条错误消息，指出所需文件无法打开流。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:35:53.217

在这种情况下，您应该使用绝对路径。

在你的`index.php`你应该得到你的 index.php 文件的位置，这将是你的参考点：

```
<?php

// store it in a constant, this info will not be changed anyway
define('APP_PATH',dirname(__FILE__));

//... rest of your code here 
```

而且，当您必须对该文件执行 require_once 时（假设文件`myfile.php`上方有 2 个目录`index.php`）：

```
require_once(dirname(dirname(APP_PATH)).DIRECTORY_SEPARATOR.'myfile.php'); 
```

或者如果`myfile.php`与 index.php 在同一目录中：

```
require_once(APP_PATH.DIRECTORY_SEPARATOR.'myfile.php'); 
```

**笔记**

`DIRECTORY_SEPARATOR`是路径分隔符的 PHP 常量（`/`在任何 Linux、Unix、Mac 等或`\`Windows 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T19:12:23.737

我将使用`require_once(__DIR__'/../myfile.php')`这个问题提供了类似的解决方案：

[php require_once 没有按我想要的方式工作.. 相对路径问题](https://stackoverflow.com/questions/2253625/php-require-once-not-working-the-way-i-want-it-to-relative-path-issue)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T05:49:24.643

我倾向于使用`$_SERVER['DOCUMENT_ROOT']`这样的东西。它依赖于您的文档根目录在您的虚拟主机文件中的设置位置。

# jquery - 客户端的 JSON 反序列化无法解析 json 字符串

> ID：14868544
> 
> 赞同：3
> 
> 时间：2013-02-14T05:48:22.397
> 
> 标签：jquery, asp.net-mvc-3, json.net

单击锚标记时，我的控制器的动作被击中。有一个在查询字符串中传递的参数。我正在使用以下代码将列表转换为序列化的 json 字符串。

```
public ActionResult EmployeeVote(string regionID)
 {
   var nomineeList = NomineeModel.GetNomineeByRegionID(Convert.ToInt16(regionID));
   ViewBag.NomineeList = JsonConvert.SerializeObject(nomineeList,Formatting.None);
   return View(ViewBag);
 } 
```

我认为这个 json 字符串的制作方式存在一些问题。

```
[{&quot;Id&quot;:0,&quot;EmpId&quot;:1,&quot;FirstName&quot;:&quot;First Last&quot;,&quot;Email&quot;:&quot;mail@xyz.com&quot;,&quot;Description&quot;:null,&quot;RegionID&quot;:0}] 
```

在客户端。但是模型列表在反序列化时会出错。

```
$(function () {
            var modelList = JSON.parse('@ViewBag.NomineeList');
           $(modelList).each((function () { //some logic});
 }); 
```

我想执行一个 each 循环来迭代模型列表以创建一些动态元素。有什么帮助吗？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T10:58:43.303

问题是`@ViewBag.NomineeList`它将对 json 字符串进行 HTML 编码。您需要防止这种情况发生，但仍要确保该字符串是有效的 javascript 字符串。

在控制器中：

```
ViewBag.NomineeList = new JavaScriptSerializer().Serialize(
    JsonConvert.SerializeObject(nomineeList, Formatting.None)
    ); 
```

`JavaScriptSerializer`确保字符串被保存以在 JS 中使用，因此对新行进行编码等。

然后，在视图中：

```
var modelList = JSON.parse(@Html.Raw(ViewBag.NomineeList)); 
```

*   用于`Html.Raw`防止 HTML 编码
*   不要将其括在引号中，因为这已经由`JavaScriptSerializer`

* * *

更新：我添加了一个示例，如何在不使用`JavaScriptSerializer`. 但我重新考虑了潜在的危险，并已将其删除。坚持使用上面的方法`JavaScriptSerializer`，它更安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T10:50:08.133

这是一个临时解决方案：
替换“”

```
ViewBag.NomineeList = JsonConvert.SerializeObject(nomineeList,Formatting.None).Remove(" &quot;"); 
```

也尝试使用[http://json.codeplex.com/](http://json.codeplex.com/)。

# asp.net-mvc - 使用 Url.action 调用控制器方法时仅获取第一个参数值。

> ID：14868552
> 
> 赞同：5
> 
> 时间：2013-02-14T05:49:14.363
> 
> 标签：asp.net-mvc, controller, url.action

我正在使用`Url.action`类似调用控制器方法，

```
location.href = '@Url.Action("Display", "Customer", new { username = "abc",name = "abcdef",country = "India",email = "abc@hmail.com",phone = "9456974545"})'; 
```

我的控制器方法是，

```
public void Display(string username, string name, string country, string email, string phone)
{    } 
```

在这种方法中，我只能得到第一个参数 ( `username`) 的值。它没有得到传递的其他参数值。所有其他值为空。

请建议我，有什么问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T06:33:51.130

默认情况下，`IHtmlString`使用 @ 块发出的每个内容（不是 ）都是`HTML encoded`由 Razor 自动发出的。

所以，`@Url.Action()`也被编码，你得到的是纯文本。并且`&`被编码为`&amp;`

如果您不想编码，那么您应该使用`@Html.Raw(@Url.Action("",""))`.

你的问题的答案是：

```
location.href = '@Html.Raw(@Url.Action("Display", "Customer", new { username = "abc",name = "abcdef",country = "India",email = "abc@hmail.com",phone = "9456974545"}))'; 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:28:49.413

'&' 编码为 '&' 存在问题

模型绑定器无法识别此值。您需要通过使用 Html.Raw 函数呈现链接来防止这种编码。

使用'@Html.Raw(Url.Action......)'

# linux - 无法启动脚本

> ID：14868556
> 
> 赞同：0
> 
> 时间：2013-02-14T05:49:18.403
> 
> 标签：linux, shell, unix

```
#!/bin/bash
value=$(<man.txt)
echo "$value"

if [ "$value" == "true" ]; then
    echo "startedif_manthan"
      ps -ef|grep sym |awk '{ print $2 }'|sudo  xargs kill -9;
      sleep 30;
    sudo sh /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server;
fi 
```

您好，我有这个脚本杀死一个进程并在一段时间内重新启动脚本。
它正常杀死脚本，但重新启动脚本（sudo sh /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server）运行不正常。

当我手动运行脚本时也会出现问题。
我不知道它是否是一个shell脚本。
但是当我尝试手动转到脚本位置并执行此命令时 ./sym --port 8082 --server 脚本正常运行。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:57:20.413

既然你说当你`cd`到脚本目录时它工作正常，那么在脚本中这样做：

```
#!/bin/bash
value=$(<man.txt)
echo "$value"

if [ "$value" == "true" ]
then
    echo "startedif_manthan"
    ps -ef|grep sym |awk '{ print $2 }'|sudo  xargs kill -9
    sleep 30
    (cd /var/www/symmetric-ds-3.1.6/bin; sudo sh ./sym --port 8082 --server)
fi 
```

# iphone - 无法使用 SLComposeViewController 将图像发布到 Facebook？

> ID：14868560
> 
> 赞同：3
> 
> 时间：2013-02-14T05:49:24.800
> 
> 标签：iphone, facebook, image, ios6, slcomposeviewcontroller

我想将图像发布到 facebook 和 twitter。我对 twitter 很好，但对使用 SLComposeViewController 类的 facebook 不满意。没有添加图像，我可以将文本和 url 发布到 facebook。问题是当我使用添加图像时，我无法发布此图像以及文本、网址。SLComposeViewController 在我发送时显示图像、文本和 url。我有正确的 appId，我没有收到任何错误。但问题仍然存在。我不知道问题出在哪里。请帮我。

```
 - (void)performFBRequestUploadForImage{

        [self showListOfFaceBookAccountsFromStore];
                if([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook])
            {
                SLComposeViewController *mySLComposerSheet = [SLComposeViewController         composeViewControllerForServiceType:SLServiceTypeFacebook];

                 SLComposeViewControllerCompletionHandler __block completionHandler=^(SLComposeViewControllerResult result){

                     NSString *output;
                    switch (result) {
                        case SLComposeViewControllerResultCancelled:
                            output = @"ACtionCancelled";
                            break;
                        case SLComposeViewControllerResultDone:
                            output = @"Post Successfull";
                            [self dismissViewControllerAnimated:YES completion:nil];
                            break;
                        default:
                            break;
                    }
                    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Face Book Message" message:output delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil];
                    [alert show];
                 };

                [mySLComposerSheet addImage:[UIImage imageNamed:@"images4.jpg"]];
                [mySLComposerSheet setInitialText:@"I am developer."];
                [mySLComposerSheet addURL:[NSURL URLWithString:@"http://stackoverflow.com/"]];
                [mySLComposerSheet setCompletionHandler:completionHandler];
                [self presentViewController:mySLComposerSheet animated:YES completion:nil];
            }

    }

- (void)showListOfFaceBookAccountsFromStore
{
    ACAccountStore *accountStore = [[ACAccountStore alloc] init];
    ACAccountType *accountType = [accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    if( [SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook] )
    {

        NSDictionary *options = @{
        @"ACFacebookAppIdKey" : myAppId,
        @"ACFacebookPermissionsKey" : @[@"publish_stream"],
        @"ACFacebookAudienceKey" : ACFacebookAudienceFriends};
        [accountStore requestAccessToAccountsWithType:accountType options:options completion:^(BOOL granted, NSError *error){
            if(granted) {
                ACAccount * account = [[accountStore accountsWithAccountType:accountType] lastObject];
                NSLog(@"Facebook user: %@",[account username]);
                if([account username]==NULL){
                    [self facebookAlert];
                } else {

                }

            }
            else{
                  NSLog(@"Read permission error: %@", [error localizedDescription]);
            }
        }];
    } else {
        [self facebookAlert];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:55:37.667

我在我的项目中使用下面的代码来发布它工作正常的图像。

```
 if([SLComposeViewController instanceMethodForSelector:@selector(isAvailableForServiceType)] != nil)
    {
        if([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook])
        {

            SLComposeViewController *controller = [SLComposeViewController composeViewControllerForServiceType:SLServiceTypeFacebook];

            SLComposeViewControllerCompletionHandler myBlock = ^(SLComposeViewControllerResult result){
                if (result == SLComposeViewControllerResultCancelled) {

                    NSLog(@"Cancelled");

                } else

                {
                    NSLog(@"Done");
                }

                [controller dismissViewControllerAnimated:YES completion:Nil];
            };
            controller.completionHandler =myBlock;

            [controller setInitialText:@"Check out my Christmas Gift!"];
            [controller addImage:@"gift.jpg"];

            [self presentViewController:controller animated:YES completion:Nil];

        } 
```

您只需尝试按照以下教程进行操作

1.  [教程 1](http://soulwithmobiletechnology.blogspot.com/2012/07/tutorial-how-to-use-inbuilt.html)

2.[教程2](http://www.mobile.safilsunny.com/iphone/integrating-facebook-ios/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:24:23.153

我检查了互联网，并注意到最近 1 或 2 天有一些与此问题相关的讨论，它们似乎与 Facebook 错误有关。因此，如果您的代码成功将消息和图像发布到 Twitter，请不要担心！你做得对。

[https://stackoverflow.com/questions/14868518/sharekit-not-sharing-link-to-facebook/](https://stackoverflow.com/questions/14868518/sharekit-not-sharing-link-to-facebook/)

[https://discussions.apple.com/thread/4805777](https://discussions.apple.com/thread/4805777)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-19T07:51:13.063

```
 I have resolved through open present-view controller in navigation-bar.it may help you.

 SLComposeViewController *controller = [SLComposeViewController   composeViewControllerForServiceType:SLServiceTypeFacebook];
    [controller setInitialText:shareFrom];
    [controller addImage:self.photoImageView.image];
    [controller addURL:[NSURL URLWithString:dayCareWebsite]];
    dispatch_async(dispatch_get_main_queue(), ^ {

        [self.navigationController presentViewController:controller animated:YES completion:nil];

    }); 
```

# python - 从不同的线程读取线程中动态设置的变量

> ID：14868572
> 
> 赞同：0
> 
> 时间：2013-02-14T05:49:54.587
> 
> 标签：python, multithreading

考虑这样做可能是错误的方法，但我试图在一个线程中动态设置一个变量，然后偶尔在另一个线程中读取该变量。在第一个线程中，我将每 30 秒检查一次某物的状态，并设置一个变量来指示它是向上还是向下。在第二个线程中，我将监听一个套接字，当有东西进入套接字时，我需要从第一个线程读取变量以确定 up/down 状态。

# vb.net - 显示报表表单后如何显示父表单？

> ID：14868573
> 
> 赞同：1
> 
> 时间：2013-02-14T05:49:58.900
> 
> 标签：vb.net, winforms, vb6-migration

我在同时显示父表单和报告表单时遇到问题。当用户单击父表单进行打印时，当用户单击是按钮时，它应该弹出是或否按钮，它应该打印表单屏幕截图图像，如果我们点击“否”按钮，它应该会显示水晶报告。

当我们单击“否”按钮时，它应该显示水晶报告。所以要显示我已经完成的消息框 me.hide()

```
if MsgBox('Do you want to print screen shot image?') then 
'Print screen shot image
me.Show()
else
'Show CxReport
me.Show()
end if 
```

当我这样做时，父表单会令人震惊并且无法执行操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-30T08:49:50.370

Atlast 我找到了访问父页面 hiddenField 值的方法，如下所示

```
function getParentPageHField() {
    var parentPageHField = window.opener.document.getElementById('hSelectedStandard').value;
    document.getElementById('hStandard').value = parentPageHField;
} 
```

感谢您的投入:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-24T09:54:04.743

在显示对话框时隐藏表单不是标准做法。完全删除 me.hide 和 me.show 行，然后重试。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-24T14:51:09.083

我知道这个问题是一个老问题，你现在可能已经弄清楚了，但我想我会添加一个答案以供将来参考。它们都有`Forms`一个[FormClosing](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.formclosing.aspx)和[FormClosed](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.formclosed.aspx)事件，您可以在创建表单时附加一个处理程序。这是我想说的一个简单的例子。

```
Public Class Form1

    Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
        Me.Hide()
        If MsgBox("Open Report?", MsgBoxStyle.YesNo) = MsgBoxResult.Yes Then
            Dim frm2 As Form2 = New Form2
            AddHandler frm2.FormClosed, AddressOf ReportClosing
            frm2.Show(Me)
        Else
            Me.Show()
            'Do your work for printing form here
        End If

    End Sub

    Private Sub ReportClosing(sender As Object, e As FormClosedEventArgs)
        'Remove handler to prevent memory leaks
        RemoveHandler DirectCast(sender, Form2).FormClosed, AddressOf ReportClosing
        Me.Show()
    End Sub

End Class 
```

# javascript - 用于查找 Jquery 的 CPU 和 Ram 使用情况的工具/插件

> ID：14868574
> 
> 赞同：0
> 
> 时间：2013-02-14T05:50:10.120
> 
> 标签：javascript, jquery, css, cpu, ram

我有一个使用 Jquery、css、HTML、json 和一些图像开发的应用程序。该应用程序的问题在于它在浏览器（Mozila）上运行得更快，但在真实设备（即烤箱）中运行速度稍慢。当我在 PC 的浏览器上运行应用程序时，我需要找出 CPU 和 Ram 的使用情况。有没有可以显示 CPU 和 Ram 使用情况的免费工具或插件？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T12:46:28.810

我有一个解决方案。将应用程序放入 Tomcat 7 后，我在 chrome 中运行了该应用程序。在 chrome 中，我们可以在开发人员工具中找到内存使用情况和 CPU 时间使用情况的选项。

# php - 导入序列在 python 中不起作用

> ID：14868577
> 
> 赞同：0
> 
> 时间：2013-02-14T05:50:13.883
> 
> 标签：php, python, serial-port, hex

我已经安装了`pyserial`2.5 并且我的 python 版本是 3.2.1 当我尝试导入串行时它显示选项但是当我运行相同的程序时出现错误`ImportError: No module named serial`并且我的编辑器`aptana studio`是否有更好的解决方案可以通过使用任何一个将十六进制数据发送到串行端口`python`或者`PHP`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T05:59:34.777

Pyserial 网站说 v2.5 最高可以工作 py 3.1 v2.6 表明它可以工作最高 py 3.2 .. 你试过了吗？

[http://pypi.python.org/pypi/pyserial](http://pypi.python.org/pypi/pyserial)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T12:08:05.050

我怀疑您已经通过将 Pyserial 直接解压缩到您的站点包文件夹来安装它。

如果您改为安装它

```
python3 setup.py install 
```

setup.py 会将文件转换为与 Python 3 兼容。

# c++ - 如何用断言做一些有用的事情？

> ID：14868578
> 
> 赞同：1
> 
> 时间：2013-02-14T05:50:19.983
> 
> 标签：c++, signals, assert, abort

我想做一些`assert`比`abort`ing 更有用的事情，包括刷新一些打开的文件和打印堆栈跟踪。

我阅读了一些关于断言的文章，例如[Andrei Alexandrescu 的 Assertions，](http://www.drdobbs.com/assertions/184403861)其中讨论了如何实现断言。但是，*即使在我的程序使用的第三方库*中，我也想自己替换断言处理程序。我了解我使用的大多数（但不是全部）编译器（gcc、MSVC、clang）和库（Qt、boost）都有设置用户定义的断言处理程序的选项。但是目前我`Abort,Retry,Ignore`对断言的功能不感兴趣，因此不在编译器/库特定的断言处理程序中查看我的代码。

据我了解，发送信号的`assert`调用，我可以捕获此信号并执行有用的任务吗？`abort``SIGABRT`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:41:45.197

`assert()`用你自己的实现劫持怎么样？在 Unix 系统上，您可以使用[LD_PRELOAD 技巧](https://stackoverflow.com/questions/426230/what-is-the-ld-preload-trick)来劫持`__assert_fail`（`assert()`它本身只是一个调用后者的宏）。

另一种可能性是按照您的建议捕获 SIGABRT。但是我看到一些要求：

1.  一种将调用与`assert()`接收到 SIGABRT 的其他可能原因区分开来的方法。这可能是`kill()`来自另一个线程或进程的调用，甚至可能是从堆管理函数（...）的健全性检查中对其自身的`abort()`调用。这可以通过 ABRT 信号处理程序来完成，通过检查进程的执行堆栈或在某些系统中传递给的上下文（那个 void* 参数没人知道如何使用）。`free()``malloc()``sigaction()`

2.  如果您决定捕获 SIGABRT，您应该记住，[信号处理程序“合法”不允许做很多事情](https://www.securecoding.cert.org/confluence/display/seccode/SIG30-C.+Call+only+asynchronous-safe+functions+within+signal+handlers)（甚至不能调用 printf），这使它们成为您要求做“更有用的事情”的不好候选人。

    因此，最好有一个专用线程永久等待信号`sigwait()`（基于如何`abort()`实现，这可能不是一个选项），或者在收到信号时由信号处理程序通知它可以完成大部分工作在信号处理程序上下文之外。

    此外，重要的是要注意，如果在其实现中，SIGABRT`abort()`专门发送到其调用线程，那么它的接收将是同步的，您可以自由调用异步不安全函数。

3.  通过自己捕获信号并修改线程的信号掩码，您可能会影响您提到的*那些第三方库*的信号行为（它们可能自己捕获 SIGABRT）。

4.  即使您使用自己的信号处理程序捕获 SIGABRT，您也无法恢复正常执行，信号是从调用发送到的，`abort()`因为（引用自 alarm(8)）：

> 如果**SIGABRT**信号被忽略，或者被返回的处理程序捕获，**abort()**函数仍将终止进程。它通过恢复**SIGABRT**的默认配置然后再次提高信号来实现这一点。

# asp.net - 仅允许直接在包含 ASP.NET 中的内容控件的内容页中使用内容控件

> ID：14868581
> 
> 赞同：36
> 
> 时间：2013-02-14T05:50:31.010
> 
> 标签：asp.net, master-pages

我有一个具有母版页和子页的应用程序。我的应用程序在本地主机（在我的 Intranet 上）上运行良好。但是，只要我将它放在 Internet 上的服务器上，单击任何菜单后都会出现下面显示的错误。

> 仅允许直接在包含内容控件的内容页面中使用内容控件。

![截屏](../Images/269496f158736dfaf0af780b0764dc8a.png)

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-14T05:57:03.037

在整个子页面中仔细检查您的开始和结束内容标签。

**确认他们**

*   存在
*   拼写正确
*   有身份证
*   有 runat="server"
*   有正确的 ContentPlaceHolderID

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-01-09T08:09:35.743

我有完全相同的问题。问题是我在结束内容标签后有**一些空格：**

```
</asp:Content> 
```

删除最后一个结束标记后的所有空格、换行符。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-02-14T07:29:38.053

我面临着类似的问题。您是否使用“内容”标签围绕您的代码？

```
<asp:Content>Add your HTML here</asp:Content> 
```

并为您的部分提供单独的内容标签。标题声明的标题内容和正文声明的正文内容。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2013-06-04T21:30:43.683

另一种可能性是行尾。我从源代码控制中复制了一个旧版本的代码，它强制执行 Unix 样式的行结尾。由于它不是结帐，它不会自动将行尾转换为 DOS/Windows 样式。错误消息是“仅允许直接使用内容控件...”错误，即使页面布局正确。似乎缺少 Windows 样式的换行符导致 ASPX 解析器失败。

我能够通过将代码粘贴到行尾不可知的编辑器中来修复它（这导致行尾被规范化为 Windows 样式），将其重新复制到剪贴板并将其粘贴回 Visual Studio，之后页面处理无误。

在 Tripati Subudhi 在问题中提出的案例中，部署过程中的某些内容完全有可能无意中将行尾转换为 Unix 样式，从而导致错误。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2014-01-21T12:46:07.460

另一个可能的问题是 HTML 注释，我有这些围绕内容控件 - 我相信 ASP.NET 将这些转换为幕后的文字控件 - 因此错误我

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2015-08-28T15:38:42.510

此错误的另一个潜在原因：标签的大小写错误。

改变`<asp:content>...`以`<asp:Content>...`解决我的问题。

故障案例的原因是 Visual Studio 2012（和 2013）中默认设置的内置*格式文档*功能。可以在 Tools->Options->Text Editor->HTML (Web Forms)->Formatting 中更改此设置：将标签大写设置为“as entered”，工作室将不再破坏您的文件。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-09-19T04:08:29.847

对我来说，我不喜欢我有一个 Assembly 和一个 Page 指令被注释掉：

```
<%--<%@ Assembly Name="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" %>--%>
<%--<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="MyPage.aspx.cs" Inherits="MyClass.MyPage" MasterPageFile="~/_layouts/MyProject/MasterPages/MasterPage.master" %>--> 
```

即使在那之后我有一个有效的 Page 指令，并且没有使用 System.Core 做任何事情。删除它们后，它加载正常。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-07-22T20:17:03.787

对我来说，这是两个具有相同 ID 的内容控件 - 该文件已在 Visual Studio 之外进行了编辑，因此不会发生重复 ID 的自动重命名。这个误导性错误突出显示了第二个内容控件中的第一个图像，其 ID 与第一个相同 - 多么疯狂！

复制整个页面并将其重新发布到自身上解决了它，因为此时 VS 重命名了重复的控件 ID。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2019-06-11T13:53:31.933

# 检查您的文档是否有非打印字符

我的母版页在文件开头包含*两个*`<%@ Master %>`UTF-8 BOM，因为我从另一个页面粘贴了指令。我能够通过退格来使其工作。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-05-17T15:54:15.683

我一直忽略了一个愚蠢的语法错误。`<`我的标签开头有一个额外的东西，我`MasterType`一辈子都看不到 ‍♂️。

```
<%@ Page Language="vb" AutoEventWireup="true" MasterPageFile="~/Site1.Master" CodeBehind="Default.aspx.vb" Inherits="SomeApp.Web._Default" %>

<<%@ MasterType VirtualPath="~/Site1.Master" %> 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-08-16T07:00:47.007

就我而言，我忘记添加 AjaxControlToolkit.dll 的程序集引用。

当我添加参考时，错误消失了。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-08-28T12:58:37.617

在 SharePoint 中，它发生是因为没有发布 pageLayout。

# actionscript-3 - 在 Flex 中嵌入应用程序背景图像在浏览器中返回 404 not found 错误

> ID：14868588
> 
> 赞同：1
> 
> 时间：2013-02-14T05:51:29.653
> 
> 标签：actionscript-3, flash, apache-flex, flex3

我正在使用 Flash Builder 3 创建应用程序。我需要为应用程序设置背景图像。我试图为我的 Flex 应用程序嵌入背景图像，这个语法可以正常工作：

```
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" 
layout="absolute" creationComplete="init()" width="468" height="400" 
fontFamily="Verdana" fontSize="10" fontWeight="bold" 
themeColor="#FFFFFF" cornerRadius="10" backgroundColor="#FFFFFF" backgroundImage="@Embed(source='../Assets/BG-468x350.gif')" borderColor="#111112" backgroundGradientAlphas="[1.0, 1.0]" backgroundGradientColors="[#CDEAD0, #CDEAD0]"> 
```

上面嵌入的图像可以正常工作，但是在 mozila（或任何其他浏览器）的 fir-bug 中，我注意到背景 flash 图像的 http 请求出现 404 Not Found 错误，同时尝试在 `http://arvind.abcd.com/loan/loan-advice-india/@Embed(source=%27../Assets/BG-468x350.gif%27)`

我无法弄清楚为什么会这样，所以请建议我可能的解决方案。提前感谢您在这里付出宝贵的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:33:28.760

我不知道我是对还是错，因为我不是一个普通的 flex 开发人员，因为我偶尔会有任务分配给我。我的意思是，我不知道该错误背后的原因是什么，为什么背景图像的 http 请求未找到 404 错误，但我有另一种方法来嵌入未收到 http 请求的背景图像，因此不返回 404未发现错误。

我使用的另一种方法是：

1.  首先，我将一个变量 BackgroundImage 声明为： `[Bindable] [Embed(source="../Assets/BG-468x350.gif")] protected var BackgroundImage:Class;`
2.  然后使用 preinitialize 方法 init() 将 declered BackgroundImage 变量分配给预定义 backgroundImage 变量，该方法在`<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" creationComplete="init()" width="468" height="350">` `public function init():void { Application.application.setStyle("backgroundImage", BackgroundImage);
    }`

我提到此解决方案适用于可能遇到类似错误的其他用户，但如果有人知道更好的解决方案，请在此处更新。谢谢大家。

# node.js - 在 Node.js 中设置计时器

> ID：14868590
> 
> 赞同：22
> 
> 时间：2013-02-14T05:51:41.210
> 
> 标签：node.js, settimeout, setinterval

我需要每 24 小时在 Node.js 中运行一次代码。我遇到了一个名为`setTimeout`. 下面是我的代码片段

```
var et = require('elementtree');
var XML = et.XML;
var ElementTree = et.ElementTree;
var element = et.Element;
var subElement = et.SubElement;
var data='<?xml version="1.0"?><entries><entry><TenantId>12345</TenantId><ServiceName>MaaS</ServiceName><ResourceID>enAAAA</ResourceID><UsageID>550e8400-e29b-41d4-a716-446655440000</UsageID><EventType>create</EventType><category term="monitoring.entity.create"/><DataCenter>global</DataCenter><Region>global</Region><StartTime>Sun Apr 29 2012 16:37:32 GMT-0700 (PDT)</StartTime><ResourceName>entity</ResourceName></entry><entry><TenantId>44445</TenantId><ServiceName>MaaS</ServiceName><ResourceID>enAAAA</ResourceID><UsageID>550e8400-e29b-41d4-a716-fffffffff000</UsageID><EventType>update</EventType><category term="monitoring.entity.update"/><DataCenter>global</DataCenter><Region>global</Region><StartTime>Sun Apr 29 2012 16:40:32 GMT-0700 (PDT)</StartTime><ResourceName>entity</ResourceName></entry></entries>'
etree = et.parse(data);
var t = process.hrtime();
// [ 1800216, 927643717 ]

setTimeout(function () {
  t = process.hrtime(t);
  // [ 1, 6962306 ]
  console.log(etree.findall('./entry/TenantId').length); // 2
  console.log('benchmark took %d seconds and %d nanoseconds', t[0], t[1]);
  //benchmark took 1 seconds and 6962306 nanoseconds
},1000); 
```

我想每小时运行一次上述代码并解析数据。作为参考，我使用一秒作为计时器值。任何想法如何进行都会很有帮助。

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-02-14T06:33:48.650

基本上有三种方式可以走

1.  `setInterval()`

该`setTimeout(f, n)`函数等待 n 毫秒并调用 function `f`。该函数每毫秒`setInterval(f, n)`调用一次。`f``n`

```
setInterval(function(){
  console.log('test');
}, 60 * 60 * 1000); 
```

`test`每小时打印一次。您可以将您的代码（除了 require 语句）放入`setInterval()`. 然而，这对我来说似乎有点丑陋。我宁愿选择：

2.  计划任务 大多数操作系统都有调度任务的方法。在 Windows 上，这称为“[计划任务](http://windows.microsoft.com/en-US/windows7/schedule-a-task)”，在 Linux 上查找 cron。

3.  [使用库](https://stackoverflow.com/questions/3785736/is-there-a-job-scheduler-library-for-node-js)正如我在回答时意识到的那样，甚至可以将其视为该问题的重复。

# android - android - 如何在单选列表视图中取消选中已选中的checkedtextview

> ID：14868591
> 
> 赞同：2
> 
> 时间：2013-02-14T05:51:44.663
> 
> 标签：android, android-listview, checkedtextview

我正在尝试取消选中单选列表中已选择的checkedtextview。我尝试使用以下代码，但它不起作用。请任何人都可以帮助我。我们怎么知道，我们正在尝试以语法方式选择已经选择的程序？

```
Code 
```

lstAttribs.setOnItemClickListener(new OnItemClickListener() {

```
 public void onItemClick(AdapterView arg0, View v, int nItemPosition,long arg3)
                {    
                    if(lstAttribs.isItemChecked(nItemPosition))                     
                    {   

                         lstAttribs.setItemChecked(nItemPosition, true); 

                    } 
                    else 
                    {
                        lstAttribs.setItemChecked(nItemPosition, false);            
                    }
                }
            }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-11-25T11:40:21.477

为时已晚，但可能对某些人有所帮助。

将您的列表视图选择模式设置为单选并声明值为 -1 的全局整数变量。

```
int cPos=-1;

listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);

    listView.setOnItemClickListener(new OnItemClickListener() {

                @Override
                public void onItemClick(AdapterView<?> parent, View view,
                        int position, long id) {
                    // TODO Auto-generated method stub

                    if (cPos == position) {
                        if(listView.isItemChecked(cPos)){
                            listView.setItemChecked(position, false);   
                        }else{
                            listView.setItemChecked(position, true);
                        }
                    } else {
                        listView.setItemChecked(position, true);
                    }
                    cPos = listView.getCheckedItemPosition();

                }
            }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T05:56:38.873

试试`lstAttribs.clearChoices()`。

# wcf - RE：更新服务参考更改 web 配置

> ID：14868598
> 
> 赞同：0
> 
> 时间：2013-02-14T05:52:45.657
> 
> 标签：wcf, web-config

当我更新我的`service references`时，它会修改`web config bindings`将 a 添加`default contract`到配置中。

我已经指定了我自己`generic contract`的，`web.config`但每次我这样做时`Update Service reference`它都会自动更改我拥有的内容并放置默认绑定。

有谁知道如何防止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:23:14.267

我可以想到2个解决方案。

1.  创建引用服务的单独 dll 并将此 dll 引用到主项目。

您的主要配置不会以这种方式修改。

1.  在编译应用程序时使用配置转换。

此转换将使默认配置适应您自己的需要。

# java - 如何在java中实现手写签名比较的特征提取算法？

> ID：14868603
> 
> 赞同：1
> 
> 时间：2013-02-14T05:53:02.223
> 
> 标签：java, playframework-2.0

我想在java中比较两个手写签名（签名的扫描图像）。我找到了用于离线签名验证的特征提取算法。我想在java中实现相同的算法。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:02:43.560

你可以看看：

1.  [OCR 小程序。](http://www.heatonresearch.com/articles/42/page1.html)
2.  [签名验证](http://code.google.com/p/signature-verification/)

# spring - Spring自动装配与原型的bean范围

> ID：14868604
> 
> 赞同：0
> 
> 时间：2013-02-14T05:53:26.807
> 
> 标签：spring

我在春天有一个问题，自动装配带有一个具有原型范围的 bean。所以基本上我正在编写一个带有 JPA 的代码。所以我在我的 DAO 层中自动装配我的实体管理器。我正在加载实体管理器通过使用 @configuraion Annotation 从一个类中。

```
@Configuration
public class DALConfigurationLoader {

    @Bean
    @Scope("prototype")
    public EntityManager getEntityManager() {
} 
```

当我这样做时，我期望对于每个请求它都应该得到一个新的 bean。

```
@Component
public class OfferPriceDomainDAOImpl  {

    @Autowired
    private EntityManager entityManager;
        public OfferPrice getOfferPrice(String offer_Price_Id) throws DataAccessException{
           //use entitymanager here 
        }

   } 
```

在这种情况下，它是所有错误请求的单个实体管理器。我希望每个方法都应该获得一个新的实体管理器。根据 jpa 规范，每个新请求都应该处理一个新的实体管理器......我如何自动装配一个具有原型范围的bean..

如果有人能回答我的问题，我将不胜感激..

谢谢， 斯瓦蒂

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:02:33.900

用于[`@PersistenceContext`](http://docs.oracle.com/javaee/6/api/javax/persistence/PersistenceContext.html)注入 EntityManager，而不是Spring 参考指南`@Autowired`的[JPA 部分所述](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/orm.html#orm-jpa-straight)。它会为您妥善处理生命周期。

至于为什么它没有像你想象的那样工作：每当你的 DAO 实例被创建时，它就会被注入一个 EntityManager。由于 EntityManager 是 scope=prototype，因此将为每个需要注入的 DAO 创建一个新的。但是，由于您的 DAO 是一个单例，因此只创建了其中一个，因此只需要一个 EntityManager。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-23T06:40:17.823

```
@Inject // or @Autowire
Provider<EntityManager> entityManagerProvider; 
```

然后使用 entityManagerProvider.get() 获取 EntityManager 实例。

我使用`javax.inject.Inject`而不是`Autowire`因为`Provider`在那里也定义了。这也适用于 Guice。

# html - 如何在线编辑 Heroku 应用程序？

> ID：14868605
> 
> 赞同：6
> 
> 时间：2013-02-14T05:53:30.083
> 
> 标签：html, css, heroku

如何在线编辑 Heroku 上托管的应用程序？我需要我的远程 HTML/CSS 设计器对托管在 Heroku 上的应用程序进行一些布局修复。非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T21:46:03.537

目前，您最好的选择可能是使用[Cloud9](https://c9.io)来共享和编辑源代码。您可以[直接从 Cloud9 部署到 Heroku](https://docs.c9.io/docs/deploying-via-cli)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:27:04.017

您无法在线编辑托管在 heroku 上的应用程序。如果您在 Github 或 Gitorious 上的其他地方托管了您的应用程序代码，您的设计师可能会在那里在线进行更改，然后您可以将代码推送到 Heroku

# python - Python BusinessHours 库错误

> ID：14868606
> 
> 赞同：0
> 
> 时间：2013-02-14T05:53:57.340
> 
> 标签：python

我正在使用 BusinessHours PyPi 包来计算日期之间的工作日和公共假期，但它似乎吐出了“未定义”错误（如下）。

他们给你一个如何调用包的例子。

```
eg: Class:  BusinessHours(datetime1,datetime2,worktiming=[9 ,18],weekends=[6,7],holidayfile=None)

Class Parameters:
datetime1   - The datetime object with the starting date.
datetime2   - The datetime object with the ending date.
worktiming  - The working office hours . A list containing two values start time and end time
weekends    - The days in a week which have to be considered as weekends sent as a list, 1 for monday ...  7 for sunday.
holidayfile - A file consisting of the predetermined office holidays.Each date starts in a new line and currently must only be in the format dd-mm-yyyy

from BusinessHours import BusinessHours
from datetime import datetime
testing = BusinessHours(datetime(2007,10,15),datetime.now())
print testing.getdays() 
```

使用此信息，我制作了以下测试脚本

```
from BusinessHours import BusinessHours
from datetime import datetime
holidaytextfile = 'holidays.txt' 

testing = BusinessHours(datetime(2013,02,01),datetime(2013,02,28),worktiming=[9 ,18],weekends=[6,7],holidayfile=holidaytextfile)
print testing.getdays() 
```

我的假期文件包含以下内容（只是 2 月的一个随机工作日）

```
07-02-2013 
```

当我运行脚本时，出现以下错误。

```
Traceback (most recent call last):
File "business_days", line 9, in ?
print testing.getdays()
File "/usr/lib/python2.4/site-packages/BusinessHours.py", line 63, in getdays
holidate = date(int(year) , int(month) , int(day))
NameError: global name 'date' is not defined 
```

这是包中的代码部分。

```
 60             for definedholiday in definedholidays:
 61                 flag=0;
 62                 day , month , year = definedholiday.split('-')
 63                 holidate = date(int(year) , int(month) , int(day))
 64                 for weekend in self.weekends:
 65                      #check if mentioned holiday lies in defined weekend , shouldnt deduct twice
 66                     if(holidate.isoweekday==weekend):
 67                         flag=1;
 68                         break; 
```

感谢任何人给我的任何帮助，我的 Python 版本是 2.4.3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:02:33.167

那个包写得不好。如果您查看[代码](http://pypi.python.org/packages/source/B/BusinessHours/BusinessHours-1.2.tar.gz#md5=514ecbb23d4aa8e0cea9f013e28c8fce)，它不会导入任何内容，而是尝试使用需要导入的 mobules 中的函数（例如`date`）。

看起来提交包裹的人只是没有做好。您可能需要实现自己的代码来执行此操作（可能使用他们的一些逻辑作为一般指南）。

# linq-to-entities - EF5 中的动态谓词构建

> ID：14868607
> 
> 赞同：0
> 
> 时间：2013-02-14T05:53:58.310
> 
> 标签：linq-to-entities, entity-framework-5, predicatebuilder

好的，

我必须构建一个谓词以从 EF5 中的已知实体中选择未知数量的列，并按*未知*数量的列进行过滤，其中一个始终是来自子集合的名称*。*

所以这就是我需要结束的

```
var q = db.Set<Entity>()
          .Where(e => e.Code.Contains("q") || e.Translations.FirstOrDefault(t => t.Culture.ID == "whatever").Description.Contains("q"))
          .Select(e => new
                       {
                           e.ID,
                           e.Code,
                           Name = e.Translations.FirstOrDefault(t => t.Culture.ID == "whatever").Description
                       }); 
```

但我不确定如何为表达式构建谓词

```
e.Translations.FirstOrDefault(t => t.Culture.ID == "whatever").Description.Contains("q") 
```

要选择的列和要过滤的字段以字符串数组的形式提供，在这种情况下，过滤器始终包含。

我熟悉构建谓词，这不是问题，更重要的是我以前从未研究过子集合，而且我现在完全处于“WTF”点:-)

朝着正确方向的任何和所有推动都将是最受关注的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T12:13:36.527

一种方法可能是使用 DynamicLinq。请参阅[http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx](http://weblogs.asp.net/scottgu/archive/2008/01/07/dynamic-linq-part-1-using-the-linq-dynamic-query-library.aspx)

如果您查看第三个查询，您应该能够执行以下操作：

```
 e.Translations
.Where("Culture.ID = 'whatever'") //Conditions defined as string as per example
.FirstOrDefault() //etc. 
```

关于`select an unknown number of columns from a known entity in EF5 AND filter by an unknown number of columns`，您可以在使用之前使用构建字符串所需的任何表达式。对于“包含”子句，它有点复杂 - 请参阅此处描述的方法 -[如何在动态 Linq 中编写 String.Contains](https://stackoverflow.com/questions/3440319/how-to-write-string-contains-in-dynamic-linq)

我实际上没有对此进行测试，因为我无法访问 EF5，但看起来 DynamicLinq 有基于 EF5 的问题（所以它应该可以工作） - [https://stackoverflow.com/questions/9929396/entity-framework -5-0-performance-with-dynamic-linq](https://stackoverflow.com/questions/9929396/entity-framework-5-0-performance-with-dyanmic-linq)

另外，我应该指出，我更愿意为此目的使用 PredicateBuilder，但我相信如果不提前知道字段名/使用某种反射（请参阅[在 Linq 查询中使用动态列名](https://stackoverflow.com/questions/13519992/using-dynamic-column-names-in-a-linq-query)），您将无法做到这一点。也值得承认这个答案（[https://stackoverflow.com/a/2497335/201648](https://stackoverflow.com/a/2497335/201648)），它建议了上述方法。

此外，可以使用 lambdas 为字段设置条件规则，如下所述：http: [//www.codeproject.com/Articles/28580/LINQ-and-Dynamic-Predicate-Construction-at-Runtime](http://www.codeproject.com/Articles/28580/LINQ-and-Dynamic-Predicate-Construction-at-Runtime)

```
// use tryparse to make sure we don't run a bogus query.
if (cbxUseEmployeeID.Checked &&
    int.TryParse(filterEmployeeId.Text, out emplId) &&
    emplId > 0) {

    // here's how simple it is to add a condition to the query.
    // Still not executing yet, just building a tree.
    predicate = predicate.And(e => e.EmployeeID == emplId);
} 
```

据我所知，这仍然需要您知道可能的字段集（我仍然认为它很酷且值得一提）。

# php - 跨多个页面的会话表单数据并插入到mysql中？

> ID：14868609
> 
> 赞同：2
> 
> 时间：2013-02-14T05:54:17.147
> 
> 标签：php, mysql

有人可以帮我吗，我试图提交超过 3 页的表格。每个都有 3 个文本区域字段，并且我使用会话开始来回显其他页面的表单数据。

所以最后我要做的就是回显表单数据并将其插入 mysql 表 ptb_registrations。

出于某种原因，虽然它不起作用并且我收到错误更新数据库错误。我已经为此工作了几个小时，很抱歉，我无法弄清楚。请有人可以帮助我并告诉我我可能会出错的地方。

第 1 页：

```
<?php
session_start();
?>

<form class="" method="post" action="register_p2.php">
<input type="text" id="first_name" name="first_name" placeholder="First Name" />
<input type="text" id="last_name" name="last_name" placeholder="Last Name" />
<input type="email" id="email" name="email" placeholder="Email"  />
<input type="submit" value="Next >"  />
</form> 
```

第2页：

```
<?php
session_start();
// other php code here

$_SESSION['first_name'] = $first_name;
$_SESSION['last_name'] = $last_name;
$_SESSION['email'] = $email;
?>
<form name="myForm" method="post" action="register_p3.php" onsubmit="return validateForm()" >
<input type="text" id="date_of_birth" name="date_of_birth" placeholder="D.O.B 10/02/1990" />
<input type="text" id="number" name="number" placeholder="Mobile Number" />
<input type="text" id="confirm" name="confirm" placeholder="Are You a UK resident?"  />
<input type="submit" value="Next >"  />
</form> 
```

第 3 页：

```
<?php
session_start();
// other php code here

$_SESSION['first_name'] = $first_name;
$_SESSION['last_name'] = $last_name;
$_SESSION['email'] = $email;
$_SESSION['dat_of_birth'] = $date_of_birth;
$_SESSION['number'] = $number;
?>

<form class="" method="post" action="register_p4.php">
<input type="text" id="display_name" name="date_of_birth" placeholder="Display Name" />
<input type="password" id="password" name="password" placeholder="Password" />
<input type="password" id="password2" name="password2" placeholder="Password (Confirm)"  />
<input type="submit" value="Next >"  />
</form> 
```

第4页：（mysql函数）

```
<?php
session_start();
// other php code here

$_SESSION['first_name'] = $first_name;
$_SESSION['last_name'] = $last_name;
$_SESSION['email'] = $email;
$_SESSION['dat_of_birth'] = $date_of_birth;
$_SESSION['number'] = $number;
$_SESSION['display_name'] = $display_name;
$_SESSION['password'] = $password;
?>

<?php
////// SEND TO DATABASE

/////////////////////////////////////////////////////////

// Database Constants
define("DB_SERVER", "localhost");
define("DB_USER", "root");
define("DB_PASS", "");
define("DB_NAME", "database");

// 1\. Create a database connection
$connection = mysql_connect(DB_SERVER,DB_USER,DB_PASS);
if (!$connection) {
    die("Database connection failed: " . mysql_error());
}

// 2\. Select a database to use
$db_select = mysql_select_db(DB_NAME,$connection);
if (!$db_select) {
    die("Database selection failed: " . mysql_error());
}
//////////////////////////////////////////////////////////////
$query="INSERT INTO ptb_registrations (ID,
first_name,
last_name,
email,
date_of_birth,
contact_number,
display_name,
password
 )
VALUES('NULL',
'".$first_name."',
'".$last_name."',
'".$email."',
'".$date_of_birth."',
'".$number."',
'".$display_name."',
'".$password."'
)";
mysql_query($query) or die ('Error updating database');
?>
<?php
function confirm_query($result_set) {
                if (!$result_set) {
                    die("Database query failed: " . mysql_error());
                }
        }
function get_user_id() {
    global $connection;
    global $email;
    $query = "SELECT *
                FROM ptb_registrations
                WHERE email = \"$email\"
                ";
        $user_id_set = mysql_query($query, $connection);
        confirm_query($user_id_set);
        return $user_id_set;
        }
?>
<?php
$user_id_set = get_user_id();
while ($user_id = mysql_fetch_array($user_id_set)) {
    $cookie1 = "{$user_id["id"]}";
    setcookie("ptb_registrations", $cookie1, time()+3600);  /* expire in 1 hour */

}
?>

<?php include ('includes/send_email/reg_email.php'); ?>

<? ob_flush(); ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:54:14.553

> 请有人可以帮助我并告诉我我可能会出错的地方。

你的代码本身就是可怕的。**因为**：

1) 你混合了会话和数据库的职责

2）您`mysql_query()`用于不期望结果集的查询。`INSERT, UPDATE, DELETE`应该使用查询`mysql_unbuffered_query()`

3) 你不要使用转义值，`mysql_real_escape_string()`这样你就容易受到 SQL 注入的攻击

4）您使用程序代码和全局状态

5）您使用不推荐使用`mysql_*`的功能而不是`PDO`或`MySQLi`

6）您使用字符串连接而不是`sprintf()`，这里：

```
 )
 VALUES(
    '".$first_name."',
    '".$last_name."',
    '".$email."',
    '".$date_of_birth."',
    '".$number."',
    '".$display_name."',
    '".$password."' 
```

7) 您不验证`$_SESSION`和中的任何内容`$_POST`。如果您设置了变量但它们不存在怎么办？

8）您的查询验证是错误的，这里：`confirm_query($result_set) {..`

我最好停在这里。

因此，您不必以这种方式编码，而是将职责分开。

对于会话，它应该如下所示：

文件`session.php`

```
function seesion_init(){
   if ( session_id() == '' ){
     return session_start();
   } else {
     return true;
   }
}

function session_set(array $values){
  foreach($values as $key => $val){
     $_SESSION[$key] = $val;
  }
}

/**
 * It will give you a confidence that you get an existing value
 * @param string $key
 */
function session_get($key){
    if ( isset($_SESSION[$key]) ){
         return $_SESSION[$key];
    } else {
       throw new RuntimeException(sprintf('Accessed to non-existing session variable %s', $key));
    }
} 
```

文件：`dbconnection.php`

```
<?php

define('HOST', '...');
define('USER', '...');
...

function connect(){

   if ( ! mysql_connect(...) ){
      die('...');
   }

   if ( ! mysql_select_db('DB_NAME_HERE') ){
       die('...');
   }
}

function query($query){
  return mysql_query($query); //<- Should only be used for SELECT queries
}

function ub_query($query){
   return mysql_unbuffered_query($query); // <- Should only be used for INSERT, DELETE, UPDATE queries
}

function fetch($result){
  return mysql_fetch_assoc($result);
} 
```

文件：`users.php`

```
require_once('dbconnection.php');

connect();

/**
 * Returns user id by his username
 * 
 * @return array on success
 *         FALSE if email does not exists  
 */
function get_user_id_by_email($email) {

   $query = sprintf("SELECT `id` FROM `ptb_registrations` WHERE `email` = '$email' LIMIT 1", mysql_real_escape_string($email));

   $result = ub_query($query);

   if ( $result ){
      return fetch($result);
   } else {
      return false;
   }

} 
```

等等。这里的概念是将每个脚本的职责分开，然后使用您需要的“部分”。

**回到原来的问题**

您想在表中插入一个值吗？然后首先验证这个值。问题是你不这样做。而已。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:04:42.063

这是不好的做法，整个脚本，但我相信您的 SQL 错误是因为您提供的 ID 为空。ID 可能是一个整数，并且很可能是自动递增的。改为这样做：

```
$query="INSERT INTO ptb_registrations (
    first_name,
    last_name,
    email,
    date_of_birth,
    contact_number,
    display_name,
    password
 )
 VALUES(
    '".$first_name."',
    '".$last_name."',
    '".$email."',
    '".$date_of_birth."',
    '".$number."',
    '".$display_name."',
    '".$password."'
 )"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:13:20.207

第 1 页：

```
<form class="" method="post" action="register_p2.php">
<input type="text" id="first_name" name="first_name" placeholder="First Name" />
<input type="text" id="last_name" name="last_name" placeholder="Last Name" />
<input type="email" id="email" name="email" placeholder="Email"  />
<input type="submit" value="Next >"  />
</form> 
```

这里不需要 session_start

第2页：

```
<?php
session_start();
// other php code here

$_SESSION['first_name'] = $_POST['first_name'];
$_SESSION['last_name'] = $_POST['last_name'];
$_SESSION['email'] = $_POST['email'];
?>
<form name="myForm" method="post" action="register_p3.php" onsubmit="return validateForm()" >
<input type="text" id="date_of_birth" name="date_of_birth" placeholder="D.O.B 10/02/1990" />
<input type="text" id="number" name="number" placeholder="Mobile Number" />
<input type="text" id="confirm" name="confirm" placeholder="Are You a UK resident?"  />
<input type="submit" value="Next >"  />
</form> 
```

添加了 $_POST

第 3 页：

```
<?php
session_start();
// other php code here

$_SESSION['dat_of_birth'] = $_POST['date_of_birth'];
$_SESSION['number'] = $_POST['number'];
?>

<form class="" method="post" action="register_p4.php">
<input type="text" id="display_name" name="date_of_birth" placeholder="Display Name" />
<input type="password" id="password" name="password" placeholder="Password" />
<input type="password" id="password2" name="password2" placeholder="Password (Confirm)"  />
<input type="submit" value="Next >"  />
</form> 
```

添加了 $_POST`$_SESSION['first_name'] = $_POST['first_name'];`

无需在 page3 中再次添加此部分：

```
$_SESSION['first_name'] = $first_name;
$_SESSION['last_name'] = $last_name;
$_SESSION['email'] = $email; 
```

第 4 页：

```
<?php
session_start();
// other php code here

$first_name = $_SESSION['first_name'];
$last_name  = $_SESSION['last_name'];
$email      = $_SESSION['email'];
$date_of_birth = $_SESSION['dat_of_birth'] ;
$number    =$_SESSION['number'];
$display_name = $_SESSION['display_name'];
$password  = $_SESSION['password'];
?>

<?php
////// SEND TO DATABASE

/////////////////////////////////////////////////////////

// Database Constants
define("DB_SERVER", "localhost");
define("DB_USER", "root");
define("DB_PASS", "");
define("DB_NAME", "database");

// 1\. Create a database connection
$connection = mysql_connect(DB_SERVER,DB_USER,DB_PASS);
if (!$connection) {
    die("Database connection failed: " . mysql_error());
}

// 2\. Select a database to use
$db_select = mysql_select_db(DB_NAME,$connection);
if (!$db_select) {
    die("Database selection failed: " . mysql_error());
}
//////////////////////////////////////////////////////////////
$query="INSERT INTO ptb_registrations (ID,
first_name,
last_name,
email,
date_of_birth,
contact_number,
display_name,
password
 )
VALUES('NULL',
'".mysql_real_escape_string($first_name)."',
'".mysql_real_escape_string($last_name)."',
'".mysql_real_escape_string($email)."',
'".mysql_real_escape_string($date_of_birth)."',
'".mysql_real_escape_string($number)."',
'".mysql_real_escape_string($display_name)."',
'".mysql_real_escape_string($password)."'
)";
mysql_query($query) or die ('Error updating database');
?>
<?php
function confirm_query($result_set) {
                if (!$result_set) {
                    die("Database query failed: " . mysql_error());
                }
        }
function get_user_id() {
    global $connection;
    global $email;
    $query = "SELECT *
                FROM ptb_registrations
                WHERE email = \"$email\"
                ";
        $user_id_set = mysql_query($query, $connection);
        confirm_query($user_id_set);
        return $user_id_set;
        }
?>
<?php
$user_id_set = get_user_id();
while ($user_id = mysql_fetch_array($user_id_set)) {
    $cookie1 = "{$user_id["id"]}";
    setcookie("ptb_registrations", $cookie1, time()+3600);  /* expire in 1 hour */

}
?>

<?php include ('includes/send_email/reg_email.php'); ?>

<? ob_flush(); ?> 
```

将会话分配给变量：

```
$first_name = $_SESSION['first_name']; 
```

不推荐使用 mysql_* 函数使用 mysqli_* 或 PDO

您的代码容易受到 mysql_injection 的影响：至少使用`mysql_real_escape_string`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:00:58.600

在`page2.php`你需要设置`session`如下。

因为`$first_name, etc..`没有申报。

**page2.php**

```
$_SESSION['first_name'] = $_POST['first_name'];
$_SESSION['last_name'] = $_POST['last_name'];
$_SESSION['email'] = $_POST['email'];
```

**page3.php**

```
$_SESSION['dat_of_birth'] = $_POST['date_of_birth'];
$_SESSION['number'] = $_POST['number'];
```

**page4.php**

```
$_SESSION['display_name'] = $_POST['display_name'];
$_SESSION['password'] = $_POST['password'];
```

在 page4.php 中再做一个变量声明。

```
$first_name = $_SESSION['first_name'];
$last_name = $_SESSION['last_name'];
$email = $_SESSION['email']; etc...
```

然后将其存储在数据库中。

# android - UriMatcher 不匹配模式

> ID：14868610
> 
> 赞同：1
> 
> 时间：2013-02-14T05:54:19.477
> 
> 标签：android, uri, android-contentprovider

我正在为一个 android 应用程序创建一个内容提供程序，但是我在使用[UriMatacher](http://developer.android.com/reference/android/content/UriMatcher.html)正确匹配 uri 时遇到了问题。

例如，我添加了 uri 来匹配（从链接中截取）

```
sURIMatcher.addURI("content://com.example", "people", PEOPLE);
sURIMatcher.addURI("content://com.example", "people/#", PEOPLE_ID);
sURIMatcher.addURI("content://com.example", "people/#/phones", PEOPLE_PHONES); 
```

然后尝试访问`contacts/people/1/phones`. 成功的匹配最终是 with`PEOPLE_ID`而不是`PEOPLE_PHONES`。

查询最初由此代码生成。

```
Uri uri = Uri.parse("content://com.example/people/#/phones");
ContentUris.appendId(uri.buildUpon(), 1).build(); 
```

在抛出一些日志语句后，我看到以下内容：

传递给[查询](http://developer.android.com/reference/android/content/ContentProvider.html#query%28android.net.Uri,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String%29)的 uri给出了这个：

```
content://com.example/people/1#/phones 
```

但`uri.getPath()`给出了这个：

```
/people/1 
```

uri 的第三个路径部分明显被删除，这就解释了为什么它匹配了错误的 uri。

来自 Android 开发者网站的示例似乎表明这不应该有问题。我是否错误地创建了uri？这只是一个错误吗？这是预期的功能吗（因此来自 android 开发人员的示例很糟糕）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:13:05.440

`Uri.parse()`不知道 的`UriMatcher`通配符；这里，`#`是URI的片段标识符，所以当你解析时`content://com.example/people/#/phones`，它变成了`content://com.example/people`+片段`/phones`。id 正确地附加到 URI 的末尾，然后片段被结转。在这种情况下，您不能依赖`ContentUris`，而是需要长期构建 Uri：

```
 path = new Uri.Builder()
                .scheme( ContentResolver.SCHEME_CONTENT )
                .authority( DataProvider.AUTHORITY )
                .appendPath( "people" )
                .appendPath( "1" )
                .appendPath( "phones" ) ).build(); 
```

# css - 用css居中文本

> ID：14868614
> 
> 赞同：0
> 
> 时间：2013-02-14T05:54:30.773
> 
> 标签：css

我正在`<span class="span4 offset4">`使用模板将文本插入到类中。
在 css 中，我使用 `text-align: centre;`了但文本没有居中。
它被推到 div 的左侧。
我可以看到这一点，因为当我将文本放入其中时，我也会为 div 的背景着色。
我什至尝试将消息包装在`<p>`标签中，但它什么也没做。

你能告诉我我做错了什么吗？

```
<p>{{= message }}</p> 
```

html

```
<div class="row">
  <span class="span4 offset4"></span>
</div> 
```

css

```
.span4.offset4
{    
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    font-size: 15px;
    font-weight: bold;
    min-height: 25px;
    text-align: centre;     
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T05:57:42.210

是`center`，不是`centre`。此外，`display: inline`元素不适用于`text-align`. 做跨度`display: block`什么的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:59:53.967

在行类中给 `text-align:center`你的父 div。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T05:59:11.973

尝试将这些行添加到 CSS

```
//to define size of div
.row
{
width:30%;
} 
```

然后将这些行添加到 .span4.offset4

```
margin:auto auto; 
```

# javascript - 如何在列表项悬停时切换类的可见性？

> ID：14868619
> 
> 赞同：1
> 
> 时间：2013-02-14T05:54:52.580
> 
> 标签：javascript, jquery, toggle

当我将鼠标悬停在“.block1”上时，我试图切换“.image1”的可见性，但我没有任何成功。我错过了什么？谁能帮我吗？

HTML：

```
<div class="container">
        <div class="wrapper">

            <section class="images">

                <article id="image" class="image1">
                    <div class="img"></div>
                </article>

                <article id="image" class="image2">
                    <div class="img"></div>
                </article>

                <article id="image" class="image3">
                    <div class="img"></div>
                </article>

            </section>
            <ul class="blocks">

                <li class="block1">Image1
                </li>
                <li class="block2">Image2
                </li>
                <li class="block3">Image3
                </li>

            </ul>

        </div>    
    </div> 
```

脚本：

```
$(document).ready(function () {
$(".block1").hover(function(){
    $(".image1").fadeTo("slow", 1);
    },function(){
        $(".image1").fadeTo("slow", 0);
});
}); 
```

这是我的[小提琴](http://jsfiddle.net/Lm3Z4/3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T05:58:09.303

我想你忘了在 jsfiddle 上选择 jQuery 框架。在页面中使用之前添加 jQuery 库。

在根目录下的 js 文件夹中添加网站中的库文件

```
<script type="text/javascript" src="/js/jQuery.min.js"></script> 
```

从[googleapis添加库](https://developers.google.com/speed/libraries/devguide#jquery)

```
<script src="http//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
```

**[现场演示](http://jsfiddle.net/Lm3Z4/4/)**

```
$(document).ready(function () {
    $(".block1").hover(function(){
        $(".image1").fadeTo("slow", 1);
        },function(){
            $(".image1").fadeTo("slow", 0);
    });
}); 
```

# javascript - 无法在第一页加载时在 Google Chrome 中使用 HTML5 和 getUserMedia() 从网络摄像头拍照

> ID：14868621
> 
> 赞同：5
> 
> 时间：2013-02-14T05:55:03.067
> 
> 标签：javascript, html, html5-canvas, html5-video, webcam

参考[HTML5Rocks 上的这篇文章，](http://www.html5rocks.com/en/tutorials/getusermedia/intro/)我正在尝试构建一个实用程序来从网络摄像头拍照。

下面是我的 HTML 代码片段：

```
<button type="button" name="btnCapture" id="btnCapture">Start my camera</button><br />
<video autoplay="true" id="video" style="height:240px;width:320px"></video><canvas id="canvas" style="display: none; height:240px;width:320px"></canvas><br />
<img id="capturedImage" src="/blank.gif" style="height:240px;width:320px"><input type="hidden" id="hdnImageBase64" name="hdnImageBase64"><br /> 
```

单击按钮后，`btnCapture`我启动网络摄像头并再次单击它它从网络摄像头捕获照片并将其放入图像`capturedImage`中。

下面是我的 JavaScript 代码：

```
var video = document.getElementById("video");
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var localMediaStream = null;
var capturedImage = document.getElementById("capturedImage");
var buttonTextCapturePicture = "Say Cheese!";

function onFailSoHard(e) {
    if (e.code == 1) {
        alert("Something went wrong! Either your webcam is not connected or you denied access to it.");
    } else {
        alert("getUserMedia() not supported in your browser. Try using latest version of Google Chrome or Opera.");
    }
}

function snapshot() {
    if (localMediaStream) {
        try {
            ctx.drawImage(video, 0, 0);
            capturedImage.src = canvas.toDataURL("image/png");
            document.getElementById("hdnImageBase64").value = canvas.toDataURL("image/png");
        } catch (e) {
            alert("Something went wrong while capturing you. Try refreshing the page. " + e);
        }
    }
}

video.addEventListener("click", snapshot, false);

function sizeCanvas() {
    setTimeout( function() {
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        capturedImage.height = video.videoHeight;
        capturedImage.width = video.videoWidth;
    }, 50);
}

var button = document.getElementById("btnCapture");
button.addEventListener("click", function(e) {
    if (localMediaStream) {
        snapshot();
        return;
    }
    if (navigator.getUserMedia) {
        navigator.getUserMedia("video", function(stream) {
            video.src = stream;
            localMediaStream = stream;
            sizeCanvas();
            button.textContent = buttonTextCapturePicture;
        }, onFailSoHard);
    } else if (navigator.webkitGetUserMedia) {
        navigator.webkitGetUserMedia({"video" : true}, function(stream) {
            video.src = window.webkitURL.createObjectURL(stream);
            localMediaStream = stream;
            sizeCanvas();
            button.textContent = buttonTextCapturePicture;
        }, onFailSoHard);
    } else {
        onFailSoHard({
            target : video
        });
    }
}, false); 
```

当`btnCapture`第一次单击按钮时，它会调用函数`sizeCanvas()`将画布和图像宽度和高度设置为视频的宽度和高度（即 320 和 240）。当第二次单击该按钮时，它会使用来自网络摄像头的 Base64 编码快照`canvas.toDataURL`并将其放入 image`capturedImage`中。

它适用于 Opera。但**在谷歌浏览器中，第一次加载页面时总是失败**。但是当刷新同一页面时，它可以工作。尝试调试时，我发现代码第一次`canvas.toDataURL`返回图像 Base64 `data:,`，因此无法绘制图像，导致`Resource interpreted as Image but transferred with MIME type text/plain: "data:,".`控制台出错。此外，如果我不调用该函数`sizeCanvas`，那么它会第一次工作，但图片不是我需要的尺寸并被裁剪。

有什么想法可以让我第一次在 Chrome 中使用它`sizeCanvas`吗？

谷歌浏览器：24.0.1312.57 歌剧：12.11

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-10-28T10:11:48.250

[现场演示](https://jsfiddle.net/vh1socdc/)

在 Chrome 和 FF 中运行良好。

```
(function() {

  var streaming = false,
      video        = document.querySelector('#video'),
      canvas       = document.querySelector('#canvas'),
      photo        = document.querySelector('#photo'),
      startbutton  = document.querySelector('#startbutton'),
      width = 320,
      height = 0;

  navigator.getMedia = ( navigator.getUserMedia ||
                         navigator.webkitGetUserMedia ||
                         navigator.mozGetUserMedia ||
                         navigator.msGetUserMedia);

  navigator.getMedia(
    {
      video: true,
      audio: false
    },
    function(stream) {
      if (navigator.mozGetUserMedia) {
        video.mozSrcObject = stream;
      } else {
        var vendorURL = window.URL || window.webkitURL;
        video.src = vendorURL.createObjectURL(stream);
      }
      video.play();
    },
    function(err) {
      console.log("An error occured! " + err);
    }
  ); 
```

我在这里找到的这段代码：[LINK DEVELOPER MOZILLA](https://developer.mozilla.org/en-US/docs/WebRTC/taking_webcam_photos)

更新：我将我的 Live Demo 更新为 JSFiddle，因为`getUserMedia()`它不再适用于不安全的来源。要使用此功能，您应该考虑将应用程序切换到安全源，例如 HTTPS。有关更多详细信息，请参阅[Chromium 项目](https://goo.gl/rStTGz)。

# c++ - C++ 错误的返回类型？

> ID：14868624
> 
> 赞同：0
> 
> 时间：2013-02-14T05:55:19.167
> 
> 标签：c++, return

我在 Visual Studio 中遇到两组错误，并带有以下类头...

编辑：对不起，伙计们忘了表明我确实包含了 Window。

```
#include "Window.h"

class Spark
{
    public:

        Window& getWindow();    // #1
        Window *win;            // #2
 }; 
```

#1 有以下问题：

```
error C2143: syntax error : missing ';' before '&'
error C4430: missing type specifier - int assumed. Note: C++ does not support default-int 
```

＃2有一个非常相似的故事......

```
error C2143: syntax error : missing ';' before '*'
error C4430: missing type specifier - int assumed. Note: C++ does not support default-int 
```

我是 C++ 新手，所以我可能搞砸了。我想用#1 做的是返回对 Window 对象的引用，而用#2 我试图创建一个指针，该指针将在创建该对象后设置为 window 对象（因此我使用的原因是指针）。

在四处寻找并盯着它看了一会儿之后，我看不出这两行有什么问题。看起来 VS 挂断了返回类型，并且基本上没有得到它。然而据我所知，我正确地构建了这些声明。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T05:57:01.943

通常会出现这种错误，因为`Window`在您尝试使用它时没有声明 in scope。

这可能是由许多问题引起的，其中一个可能是缺少`#include`.

您可以通过编译以下代码（使用`g++`）来查看其效果：

```
//typedef int xyzzy;
int main(void) {
    xyzzy plugh;
    return 0;
} 
```

输出是（注意最后一行）：

```
prog.cpp: In function 'int main()':
prog.cpp:3: error: 'xyzzy' was not declared in this scope
prog.cpp:3: error: expected `;' before 'plugh' 
```

但是，当您取消注释第一行时，它编译得很好。

您需要`Window`在尝试使用它之前声明。

如果，正如您似乎表明的那样，您认为您*确实*定义`Window`了，您需要检查一下。可能是您的声明`#ifdef`处于未激活状态，或者您将文件包含在阻止正确声明顺序或任何其他事情的循环中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T05:57:06.673

在我看来，这种类型似乎`Window`是未知的。包括`Window`声明的头文件，并确保您使用正确的命名空间或使用完全限定的类型名。

**更新：** 在循环依赖的情况下，您可以以某种方式删除依赖或使用前向声明来避免这种情况。`class Window;`只需在 Spark 的声明前放置一行：

```
class Window;

class Spark {
    Window *test;
} 
```

# javascript - 为 jquery 插件创建命名空间

> ID：14868628
> 
> 赞同：0
> 
> 时间：2013-02-14T05:56:15.593
> 
> 标签：javascript, jquery

考虑我有 2 个插件。即工具提示，弹出框。

现在我调用这些函数，像这样

> $('#target').tooltip('create');
> 
> $('#target').popover('hide');

但我想为这些函数创建一个公共命名空间，这样我就可以这样调用它们

> $('#target').mynamespace.tooltip('create');
> 
> $('#target').mynamespace.popover('hide');

我只是想不出办法做到这一点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:01:11.733

要维护`this`，您需要将命名空间设为另一个函数：

```
$.fn.mynamespace = function() {
    var that = this;

    return {
        tooltip: …,
        popover: …
    };
};

$('#target').mynamespace().tooltip('create') 
```

…或者使用一个看起来更好但旧浏览器不支持的属性。不过，这两种方式都不太适合整个 jQuery 语法，因此请尽可能避免。（例如，考虑选择更具体的名称。）

# android - 使用 JSON webservice 将图像显示到动态 gridview

> ID：14868633
> 
> 赞同：0
> 
> 时间：2013-02-14T05:56:54.433
> 
> 标签：android, json, web-services, gridview

我试图从 json URL 获取图像以在动态网格中显示它们，

我的安卓版本是：4.2

输出：不幸的是，应用程序已停止。

```
public class FreeCategory extends Activity {
public String[] mThumbs=null;

private Context mContext;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_free_category);

    Intent intent=getIntent();
    Intent intent2=getIntent();

    final GridView gridview=(GridView) findViewById(R.id.grid_view);
    gridview.setAdapter(new ImageAdapter(this));
} 
 public class ImageAdapter extends BaseAdapter {

 protected String getASCIIContentFromEntity(HttpEntity entity) throws IllegalStateException, IOException {
               InputStream in = entity.getContent();
                 StringBuffer out = new StringBuffer();
                 int n = 1;
                 while (n>0) {
                     byte[] b = new byte[4096];
                     n =  in.read(b);
                     if (n>0) out.append(new String(b, 0, n));
                 }
                 return out.toString();
            }

            protected  void doInBackground(Void... params) {
             HttpClient httpClient = new DefaultHttpClient();
             HttpContext localContext = new BasicHttpContext();
         HttpGet httpGet = new HttpGet( My URL);
         String text = null;
         String result = null;

         String name=null;
         String id=null;

         try {
               HttpResponse response = httpClient.execute(httpGet, localContext);
               HttpEntity entity = response.getEntity();
               text = getASCIIContentFromEntity(entity);
                   response.getEntity().getContent() );

                   text=text.replaceAll("&lt;", "<").replace("&gt;", ">");
                   int start=text.indexOf("<message>");
                   start=start+9;
                   int end=text.indexOf("</message>");
                   text=text.substring(start, end);

                   JSONArray ja = new JSONArray(text) ;

                                int n = ja.length();
                                for (int i = 0; i < n; i++) {

                                 JSONObject jo = ja.getJSONObject(i);

                                 mThumbs[i]=jo.getString("SubCatImage");
                                 name= jo.getString("SubcatName");
                                         //.split(",").toString();
                                  id= jo.getString("Subcatid");

                                }
         } catch (Exception e) {
                      e.getLocalizedMessage();
                   }

            }   

            public ImageAdapter(Context c){
                mContext = c;
            }

            public int getCount() {
                // TODO Auto-generated method stub
                return mThumbs.length;
            }

            public Object getItem(int position) {
                // TODO Auto-generated method stub
                return mThumbs[position];
            }

            public long getItemId(int position) {

                return 0;
            }

            public View getView(int position, View convertView, ViewGroup parent) {
                // TODO Auto-generated method stub
                 ImageView imageView;
                 if (convertView == null) { 
                     imageView = new ImageView(mContext);
                     imageView.setLayoutParams(new GridView.LayoutParams(85, 85));
                     imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
                     imageView.setPadding(8, 8, 8, 8);
                 } else {
                      imageView = (ImageView) convertView;
                 }

                 imageView.setImageURI(Uri.parse(mThumbs[position]));

                 return imageView;

            }

        }

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_free_category, menu);
    return true;
}} 
```

日志文件：

```
 02-13 18:38:51.359: D/dalvikvm(704): Not late-enabling CheckJNI (already on)
     02-13 18:38:53.399: D/dalvikvm(704): GC_FOR_ALLOC freed 47K, 3% free 9961K/10179K, paused 72ms
     02-13 18:38:53.429: I/dalvikvm-heap(704): Grow heap (frag case) to 12.753MB for 3085244-byte allocation
     02-13 18:38:53.529: D/dalvikvm(704): GC_CONCURRENT freed 1K, 3% free 12973K/13255K, paused 6ms+16ms
     02-13 18:38:53.980: D/dalvikvm(704): GC_FOR_ALLOC freed <1K, 3% free 12973K/13255K, paused 48ms
     02-13 18:38:54.059: I/dalvikvm-heap(704): Grow heap (frag case) to 19.377MB for 6947096-byte allocation
     02-13 18:38:54.189: D/dalvikvm(704): GC_CONCURRENT freed 0K, 2% free 19758K/20103K, paused 10ms+6ms
     02-13 18:38:55.059: D/gralloc_goldfish(704): Emulator without GPU emulation detected.
     02-13 18:38:55.190: W/TextLayoutCache(704): computeValuesWithHarfbuzz -- need to force to single run
     02-13 18:41:11.760: D/dalvikvm(704): GC_FOR_ALLOC freed 3353K, 17% free 17299K/20743K, paused 51ms
     02-13 18:41:11.799: I/dalvikvm-heap(704): Grow heap (frag case) to 19.922MB for 3088320-byte allocation
     02-13 18:41:11.981: D/dalvikvm(704): GC_FOR_ALLOC freed 6K, 15% free 20309K/23815K, paused 79ms
     02-13 18:41:12.099: D/dalvikvm(704): GC_CONCURRENT freed 1K, 15% free 20308K/23815K, paused 10ms+6ms
     02-13 18:41:12.449: D/dalvikvm(704): GC_FOR_ALLOC freed 25K, 15% free 20282K/23815K, paused 55ms
     02-13 18:41:12.519: I/dalvikvm-heap(704): Grow heap (frag case) to 26.520MB for 6951712-byte allocation
     02-13 18:41:12.649: D/dalvikvm(704): GC_CONCURRENT freed 0K, 12% free 27071K/30663K, paused 6ms+9ms
     02-13 18:41:13.839: W/TextLayoutCache(704): computeValuesWithHarfbuzz -- need to force to single run
     02-13 18:41:50.869: D/AndroidRuntime(704): Shutting down VM
     02-13 18:41:50.892: W/dalvikvm(704): threadid=1: thread exiting with uncaught exception (group=0x409961f8)
     02-13 18:41:50.919: E/AndroidRuntime(704): FATAL EXCEPTION: main
     02-13 18:41:50.919: E/AndroidRuntime(704): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.erpsecurity/com.example.erpsecurity.FreeCategory}: java.lang.NullPointerException
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.ActivityThread.access$600(ActivityThread.java:122)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.os.Handler.dispatchMessage(Handler.java:99)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.os.Looper.loop(Looper.java:137)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.ActivityThread.main(ActivityThread.java:4340)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at java.lang.reflect.Method.invokeNative(Native Method)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at java.lang.reflect.Method.invoke(Method.java:511)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at dalvik.system.NativeStart.main(Native Method)
     02-13 18:41:50.919: E/AndroidRuntime(704): Caused by: java.lang.NullPointerException
     02-13 18:41:50.919: E/AndroidRuntime(704):     at com.example.erpsecurity.FreeCategory$ImageAdapter.getCount(FreeCategory.java:242)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.widget.GridView.setAdapter(GridView.java:180)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at com.example.erpsecurity.FreeCategory.onCreate(FreeCategory.java:56)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.Activity.performCreate(Activity.java:4465)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
     02-13 18:41:50.919: E/AndroidRuntime(704):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)
     02-13 18:41:50.919: E/AndroidRuntime(704):     ... 11 more
     02-13 18:41:54.840: I/Process(704): Sending signal. PID: 704 SIG: 9
     02-13 18:50:26.289: W/ActivityThread(750): Application com.example.erpsecurity is waiting for the debugger on port 8100...
     02-13 18:50:26.389: I/System.out(750): Sending WAIT chunk
     02-13 18:50:26.541: I/dalvikvm(750): Debugger is active
     02-13 18:50:26.629: I/System.out(750): Debugger has connected
     02-13 18:50:26.629: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:26.829: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:27.029: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:27.229: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:27.439: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:27.639: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:27.840: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:28.099: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:28.299: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:28.546: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:28.794: I/System.out(750): waiting for debugger to settle...
     02-13 18:50:29.001: I/System.out(750): debugger has settled (1372)
     02-13 18:50:30.271: D/dalvikvm(750): GC_FOR_ALLOC freed 52K, 3% free 9962K/10179K, paused 57ms
     02-13 18:50:30.332: I/dalvikvm-heap(750): Grow heap (frag case) to 12.753MB for 3085244-byte allocation
     02-13 18:50:30.519: D/dalvikvm(750): GC_CONCURRENT freed 1K, 3% free 12973K/13255K, paused 23ms+4ms
     02-13 18:50:30.899: D/dalvikvm(750): GC_FOR_ALLOC freed <1K, 3% free 12974K/13255K, paused 32ms
     02-13 18:50:30.969: I/dalvikvm-heap(750): Grow heap (frag case) to 19.378MB for 6947096-byte allocation
     02-13 18:50:31.089: D/dalvikvm(750): GC_CONCURRENT freed 0K, 2% free 19758K/20103K, paused 4ms+9ms
     02-13 18:50:32.599: D/gralloc_goldfish(750): Emulator without GPU emulation detected.
     02-13 18:50:32.749: W/TextLayoutCache(750): computeValuesWithHarfbuzz -- need to force to single run
     02-13 18:52:00.749: D/dalvikvm(750): GC_FOR_ALLOC freed 3379K, 17% free 17301K/20807K, paused 53ms
     02-13 18:52:00.769: I/dalvikvm-heap(750): Grow heap (frag case) to 19.924MB for 3088320-byte allocation
     02-13 18:52:00.919: D/dalvikvm(750): GC_FOR_ALLOC freed 6K, 15% free 20311K/23879K, paused 53ms
     02-13 18:52:01.279: D/dalvikvm(750): GC_CONCURRENT freed 1K, 15% free 20312K/23879K, paused 5ms+7ms
     02-13 18:52:01.469: D/dalvikvm(750): GC_FOR_ALLOC freed 26K, 16% free 20286K/23879K, paused 64ms
     02-13 18:52:01.529: I/dalvikvm-heap(750): Grow heap (frag case) to 26.524MB for 6951712-byte allocation
     02-13 18:52:01.649: D/dalvikvm(750): GC_FOR_ALLOC freed 0K, 12% free 27075K/30727K, paused 56ms
     02-13 18:52:02.139: D/dalvikvm(750): GC_CONCURRENT freed 1K, 12% free 27078K/30727K, paused 5ms+11ms
     02-13 18:52:04.359: W/TextLayoutCache(750): computeValuesWithHarfbuzz -- need to force to single run

**above are my code and log file** 

Any help would be great full
Thanks in Advance

nw my error log file:
here is my error.log file:02-14 16:48:19.546: E/AndroidRuntime(893): FATAL EXCEPTION: main
02-14 16:48:19.546: E/AndroidRuntime(893): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.erpsecurity/com.example.erpsecurity.FreeCategory}: java.lang.NullPointerException
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.ActivityThread.access$600(ActivityThread.java:122)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.os.Looper.loop(Looper.java:137)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.ActivityThread.main(ActivityThread.java:4340)
02-14 16:48:19.546: E/AndroidRuntime(893):  at java.lang.reflect.Method.invokeNative(Native Method)
02-14 16:48:19.546: E/AndroidRuntime(893):  at java.lang.reflect.Method.invoke(Method.java:511)
02-14 16:48:19.546: E/AndroidRuntime(893):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
02-14 16:48:19.546: E/AndroidRuntime(893):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
02-14 16:48:19.546: E/AndroidRuntime(893):  at dalvik.system.NativeStart.main(Native Method)
02-14 16:48:19.546: E/AndroidRuntime(893): Caused by: java.lang.NullPointerException
02-14 16:48:19.546: E/AndroidRuntime(893):  at com.example.erpsecurity.FreeCategory$ImageAdapter.getCount(FreeCategory.java:134)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.widget.GridView.setAdapter(GridView.java:180)
02-14 16:48:19.546: E/AndroidRuntime(893):  at com.example.erpsecurity.FreeCategory.onCreate(FreeCategory.java:56)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.Activity.performCreate(Activity.java:4465)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
02-14 16:48:19.546: E/AndroidRuntime(893):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:02:54.963

mThumbs 在 getCount() 上为空，你应该重新检查 json 解析方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:10:00.937

检查来自 URL 的响应，可能是您没有获得关键字“ **SubCatImage** ”的任何值，这就是为什么您的数组没有被初始化，因此您得到空指针异常。在 getCount() 方法中，执行以下操作：-

```
 public int getCount() 
    {
        // TODO Auto-generated method stub
        if (mThumbs.length>0) 
        {
            return mThumbs.length;
        }
        else {
            return 0;
        }
    } 
```

# android - 三星 Galaxy S3 未显示在 android Visual Studio 2012 的选择设备列表单声道中

> ID：14868641
> 
> 赞同：3
> 
> 时间：2013-02-14T05:57:21.600
> 
> 标签：android, visual-studio, mono, galaxy, samsung-mobile

我在通过 Visual Studio 2012 在三星 Galaxy S3 上部署我的 mono for android 应用程序时遇到问题。选择设备列表不显示三星 Galaxy S3 设备，即使它通过 USB 插入 PC 并被识别为 GT-I9300我的 PC 设备列表。我已经安装了三星的 Kies 应用程序并更新了手机固件，但没有成功。以前我一直将我的应用程序部署到三星 Galaxy ACE plus，没有任何问题。

我是否必须在手机上启用某些设置才能使其正常工作？Visual Studio 的 Mono SDK 能识别这个特定的设备吗？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-11-28T14:23:59.787

尝试转到设置 > 开发人员，然后检查 USB 调试框（以及保持唤醒框以进行良好测量）。

除此之外，请参见此处：

[无法在设备上调试应用](https://stackoverflow.com/questions/17450918/cant-debug-app-on-device)

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:05:50.827

您是否安装了设备的 USB 驱动程序？有关更多信息，请参阅[此链接](http://developer.android.com/tools/extras/oem-usb.html)。

# solr - 为什么要针对 solr 中的默认字段搜索短语

> ID：14868646
> 
> 赞同：0
> 
> 时间：2013-02-14T05:57:56.420
> 
> 标签：solr, solrnet

这可能是一个非常愚蠢的问题，但我想知道为什么会这样。如果我在 solr 中使用 edismax 查询解析器并传递如下查询

```
q=IPhone5&wt=xml&edismax=true&qf=Product-Name-0^100&bq=(Product-Rating-0%3A7^300+OR+Product-Rating-0%3A8^400+OR+Product-Rating-0%3A9^500+OR+Product-Rating-0%3A10^600+OR+Product-Rating-0%3A*) 
```

那为什么它在默认字段中搜索？当我指定 qf 时，它应该在 qf 参数中指定的字段中搜索并提升那些具有更高评级的文档。

如果我的理解有误，请纠正我。注意：-我使用的是 SOLR 4.0 Alpha

谢谢， Pragyanshis

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T10:58:09.377

使用 RequestHandler 进行了一些更改，如下所示。

1.新增defType = edismax

```
<str name="defType">edismax</str> 
```

2.删除默认字段。

现在它正在按我的预期工作。

# iphone - 如何在 openears 词典及其语言模型和 .gram 文件中添加单词

> ID：14868647
> 
> 赞同：-1
> 
> 时间：2013-02-14T05:58:05.340
> 
> 标签：iphone, speech-recognition, text-to-speech, openears

我在 iphone 编程中使用 open ear sdk 进行语音识别和合成，但它是字典和 .gram 文件，它的语言模型文件只包含 8 个标准单词，我的应用程序中需要更多单词。如果我在它的 .gram 和 .language 模型和 .dic 文件中添加新词，我的应用程序就会崩溃。

请建议我如何在 openears 中添加新单词，因为我需要在这些文件中添加 20 个单词。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T08:12:43.053

OpenEars 开发人员在这里。请使用快速入门教程，它只需要几分钟，向您展示如何使用 OpenEars 的 LanguageModelGenerator 类，它将回答您的问题并为您提供可复制/粘贴的代码片段：[http ://www.politepix.com/ openears/tutorial](http://www.politepix.com/openears/tutorial)如果您有后续问题，OpenEars 论坛是提问的好地方：[http ://www.politepix.com/forums/openears](http://www.politepix.com/forums/openears)

# ios - 在 iOS 应用中仅允许横向模式

> ID：14868648
> 
> 赞同：1
> 
> 时间：2013-02-14T05:58:09.100
> 
> 标签：ios, ipad, ios4, screen-orientation

我阅读了[仅适用于 iPhone 或 iPad 的横向模式](https://stackoverflow.com/questions/2647786/landscape-mode-only-for-iphone-or-ipad)并按照步骤操作，应用程序以横向模式打开，但每当我重新分配视图时，它又会以纵向模式出现。我将 Landscape 保留为唯一受支持的分辨率，并且还覆盖了 souldAutoRotateToInterfaceOrientation。我正在使用 iOS 5.1。

谢谢。

代码：

```
-(BOOL) shouldAutoRotateToInterfaceOrientation:(UIInterfaceOrientation) interfaceOrientation{
return (interfaceOrientation == UIInterfaceOrientationLandscapeRight);
} 
```

# teradata - 即使文件中没有数据，terdata fastlod 也能工作？

> ID：14868651
> 
> 赞同：0
> 
> 时间：2013-02-14T05:58:15.730
> 
> 标签：teradata

我很想知道当输入文件中没有数据时，teradata FastLoad 是否工作正常（加载零行），或者快速加载将被中止，说文件中没有数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T16:08:27.613

当输入文件中没有数据时，Fastload 工作正常。不会中止快速加载。该表将在没有任何数据的情况下创建。

# filter - Windows Phone 8 是否支持 DirectShow 过滤器？

> ID：14868652
> 
> 赞同：0
> 
> 时间：2013-02-14T05:58:22.130
> 
> 标签：filter, windows-phone-8, directshow

我打算开发一个WP8的媒体播放器APP。但我不知道 WP8 是否支持 directshow 过滤器。有谁知道？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T06:43:52.513

不，不支持。您需要像 Win8 RT 下那样使用 Media Foundation。这是在 WinPhone8 上使用 MF 的演练：

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207074(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207074(v=vs.105).aspx)

# phpmyadmin - phpmyadmin 访问被拒绝 #1045

> ID：14868656
> 
> 赞同：0
> 
> 时间：2013-02-14T05:58:39.627
> 
> 标签：phpmyadmin, access-denied

我刚刚安装了 wamp server 2.2。当我 6 天前在我的笔记本电脑上安装它时，它立即运行良好，没有任何问题。我决定也将它放在我的家用台式电脑上。但是，当我尝试继续访问我的 localhost/phpmyadmin 时，我得到：

错误

> MySQL说：文档
> 1045 - 用户'root'@'localhost'的访问被拒绝（使用密码：NO）

我没有更改任何密码或任何东西。我所做的只是安装了 wamp 服务器。我已经看了很多，有些人建议改变：`$cfg['Servers'][$i]['AllowNoPassword'] = true;`到`$cfg['Servers'][$i]['AllowNoPassword'] = 'true';`（缺少引号是问题）。那没有帮助。没有设置密码，所以我不明白为什么它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:06:46.847

cud你没有密码就可以访问mysql控制台吗？首先从 wamp 的托盘菜单图标中尝试。

`MySQL >> MySQL console.`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:09:01.043

如果您可以通过 MYSQL 控制台登录，则更改 Root 密码

为 root@localhost 设置密码 = PASSWORD('yourpassword');

并设置

$cfg['Servers'][$i]['AllowNoPassword'] = true;

设置在：/etc/phpmyadmin/config.inc.php

不要更改：/usr/share/phpmyadmin/config.inc.php

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-27T03:54:41.337

我一整天都在处理这个问题，做了这个网站上建议的所有事情，以及其他网站上建议的解决方案，包括多次完全重新安装 WAMP。前一天我从 mysql 控制台输入了密码，但在尝试让 Dreamweaver 连接到数据库后，事情变得一团糟，我无法再打开 phpMyAdmin 窗口。最后一个超级简单的解决方案解决了这个问题 - 当错误消息屏幕再次出现时，在尝试打开 phpMyAdmin 时是一个小小的蓝色“？” 顶部的按钮（帮助按钮），我沮丧地单击它，它要求我输入密码，这是我提供的 - 我前一天创建的密码，突然出现了 phpMyAdmin 窗口。从那以后一直很好。如果一切都失败了，请尝试帮助按钮。无论出于何种原因，它对我有用。去搞清楚.....

# objective-c - 从detailviewcontroller传递值后ipad rootviewcontroller不重新加载数据

> ID：14868657
> 
> 赞同：0
> 
> 时间：2013-02-14T05:58:39.990
> 
> 标签：objective-c, uitableview, uistoryboardsegue

![在此处输入图像描述](../Images/404c460aee909b58401bee656fd21d7c.png)我有一个拆分视图，其中加载了一些模式视图以进行一些初始配置。在该配置过程的最后一步之后，用户需要选择一个选项，根视图控制器需要根据该选项重新加载数据。

我有以下代码：

这是来自配置的最后一个视图的按钮

```
RootListViewController *rootMenu = [[RootListViewController alloc]init];
rootMenu.matNum = matnum;
[rootMenu.tableView reloadData];

[self performSegueWithIdentifier:@"PushToMainStaff" sender:self]; 
```

这是 RootListView

```
@implementation RootListViewController
@synthesize matNum;
- (void)viewDidLoad
{
    [super viewDidLoad];

    NSLog(@"viewdidload root");

    if(matNum > 0){
        // just a test
        brackets = [NSArray arrayWithObjects:@"Category 1", @"Category 2", @"Category 3", nil];
        [self.tableView reloadData];
    }

} 
```

这是显示该根视图详细信息的单元格

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"CategoryCell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];

    // Configure the cell...

    cell.textLabel.text = [brackets objectAtIndex:indexPath.row];

    return cell;
} 
```

当我通过它不会通过

*   (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath

方法。它只会触发**reloadData**然后是**viewDidLoad** ，仅此而已。所以不确定我是否正确地传递或我处理整个流程的方式是错误的？

有什么想法吗？如果需要，我也可以发布故事板。

谢谢！！

# magento - Magento 分层导航 - 类别链接

> ID：14868658
> 
> 赞同：1
> 
> 时间：2013-02-14T05:58:47.087
> 
> 标签：magento

我在 magento 上有这个网站，其中在类别页面上，左侧有按类别过滤器浏览。

但问题是链接就像 www.domain.com/main-cat/?cat=32 因此，产品肯定会被拉出，但类别描述和图像与主要类别的描述和图像保持相同。

有没有办法将这些动态网址转换为 /main-cat/sub-cat ？

magento 版本 1.4.2

感谢和问候，

寿司

# ios - 为 Profile 构建时构建时间长

> ID：14868660
> 
> 赞同：0
> 
> 时间：2013-02-14T05:59:00.567
> 
> 标签：ios, xcode, build, instruments

我正在开发一个针对 iPad 的应用程序。该应用程序不是特别大或特别复杂。

每当我运行应用程序时，它都会在一分钟内构建（即使在 Clean 之后）。每当我尝试分析应用程序时，它会在 Instruments 出现前大约 12 分钟构建。大多数时候 Xcode 显示`Building 139 of 139 files`.

该应用程序有一些图像资源，使用核心数据，使用五个第 3 方“库”（包括作为源代码文件）。

为什么为 Profile 构建需要这么长时间？如何让 Xcode 构建更快？

**编辑：**

大部分时间都花在两个字符串如下

```
CompileC ***.m normal i386 objective-c com.apple.compilers.llvm.clang.1_0.compiler 
```

在构建日志中以灰色显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T09:44:53.117

最后，我在我的案例中找到了原因。

我的应用程序中派生了三个类，`NSManagedObject`每个类都有大约 200 个属性。

由于数据来自 Web 服务，因此这些类包含如下代码：

```
- (void) fillFrom:(NSDictionary*)dict
{
    self.id = [dict valueForKey:KEYS[0]];
    self.jobUid = [dict valueForKey:KEYS[1]];
    self.manufacturer = [dict valueForKey:KEYS[2]];
    self.model = [dict valueForKey:KEYS[3]];
    ...
} 
```

显然，我可以做得更好，但当时代码如上。每个属性一个任务。一种方法大约有 200 个作业。

**原因：**

`KEYS`是一个定义。

```
#define KEYS  @[ @"ID", @"JID", ... ] 
```

基本上，200个作业不仅仅是作业。还在幕后创建了大型自动发布的字符串数组的副本。

我将定义更改为

```
NSString* KEYS[] = { @"ID", @"JID", ..., nil }; 
```

然后修改了一些使用 KEYS 的其他代码，瞧，配置文件构建几乎与普通调试的一样快。

不幸的是，我无法准备一个小型测试项目来提交，但发布这个希望我的经验可能对其他人有用。

# r - 如何按组获取最大值

> ID：14868661
> 
> 赞同：5
> 
> 时间：2013-02-14T05:59:05.190
> 
> 标签：r, max

我有`data.frame`两列：`year`和`score`。年份从 2000 年到 2012 年，每年可以多次列出。在分数列中，我列出了每年的所有分数，每一行都有不同的分数。

我想要做的是过滤，`data.frame`所以只保留每年得分最高的行。

所以作为一个小例子，如果我有

```
year score
2000    18
2001    22
2000    21 
```

我只想回来

```
year score
2001    22
2000    21 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T06:10:25.127

使用`plyr`

```
require(plyr)
set.seed(45)
df <- data.frame(year=sample(2000:2012, 25, replace=T), score=sample(25))
ddply(df, .(year), summarise, max.score=max(score)) 
```

使用`data.table`

```
require(data.table)
dt <- data.table(df, key="year")
dt[, list(max.score=max(score)), by=year] 
```

使用`aggregate`：

```
o <- aggregate(df$score, list(df$year) , max)
names(o) <- c("year", "max.score") 
```

使用`ave`：

```
df1 <- df
df1$max.score <- ave(df1$score, df1$year, FUN=max)
df1 <- df1[!duplicated(df1$year), ] 
```

**编辑：**如果有更多列，data.table 解决方案将是最好的（我的意见:)）

```
set.seed(45)
df <- data.frame(year=sample(2000:2012, 25, replace=T), score=sample(25), 
               alpha = sample(letters[1:5], 25, replace=T), beta=rnorm(25))

# convert to data.table with key=year
dt <- data.table(df, key="year")
# get the subset of data that matches this criterion
dt[, .SD[score %in% max(score)], by=year]

#     year score alpha       beta
#  1: 2000    20     b  0.8675148
#  2: 2001    21     e  1.5543102
#  3: 2002    22     c  0.6676305
#  4: 2003    18     a -0.9953758
#  5: 2004    23     d  2.1829996
#  6: 2005    25     b -0.9454914
#  7: 2007    17     e  0.7158021
#  8: 2008    12     e  0.6501763
#  9: 2011    24     a  0.7201334
# 10: 2012    19     d  1.2493954 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-14T06:13:42.287

如果你知道 sql 这更容易理解

```
library(sqldf)
sqldf('select year, max(score) from mydata group by year') 
```

更新 (2016-01)：现在您也可以使用 dplyr

```
library(dplyr)
mydata %>% group_by(year) %>% summarise(max = max(score)) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-14T06:12:30.417

使用基础包

```
> df
  year score
1 2000    18
2 2001    22
3 2000    21
> aggregate(score ~ year, data=df, max)
  year score
1 2000    21
2 2001    22 
```

**编辑**

如果您需要保留其他列，则可以使用`merge`with`aggregate`来获取这些列

```
> df <- data.frame(year = c(2000, 2001, 2000), score = c(18, 22, 21) , hrs = c( 10, 11, 12))
> df
  year score hrs
1 2000    18  10
2 2001    22  11
3 2000    21  12
> merge(aggregate(score ~ year, data=df, max), df, all.x=T)
  year score hrs
1 2000    21  12
2 2001    22  11 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T06:11:34.663

```
data <- data.frame(year = c(2000, 2001, 2000), score = c(18, 22, 21))
new.year <- unique(data$year)
new.score <- sapply(new.year, function(y) max(data[data$year == y, ]$score))
data <- data.frame(year = new.year, score = new.score) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-14T06:37:31.953

一个班轮，

```
df_2<-data.frame(year=sort(unique(df$year)),score = tapply(df$score,df$year,max)); 
```

# database - 数据库表规范化（许多关系）

> ID：14868667
> 
> 赞同：0
> 
> 时间：2013-02-14T05:59:39.287
> 
> 标签：database, database-design, optimization, query-optimization

我有以下表格：

**商品 { item_id, item_name, item_price,......}**
**分区 { Division_id, Division_name, Division_address,.......}**
**仓库 { 仓库 ID, 仓库名称,........}**
**仓库分区 { partition_id, partition_name,........}**
**WarehouseRacks { rack_id, rack_name,.......}**

现在，为了跟踪项目的位置，我有下表（关系）。

**itemLocation { item_id, Division_id,warehouse_id, partition_id, rack_id, floor_number}**

它准确地跟踪项目的位置，但为了获得项目的位置信息，我必须加入五个可能导致性能问题的表。

此外，如果我们不获取整个字段，则该表没有任何主键。这会引起任何问题吗？有没有更好的方法来做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T15:19:38.250

考虑关系，因为您将信息放入关系数据库中。

这是我的关系猜测。随时纠正它们。

*   一个部门有一个或多个仓库。

*   一个仓库有一个或多个仓库分区。

*   一个仓库分区有一个或多个仓库货架。

*   仓库货架有一件或多件物品。

.

*   一个项目位于仓库货架上。

*   仓库货架位于仓库分区中。

*   仓库分区位于仓库中。

*   仓库位于一个部门中。

我希望这对您的数据库设计有所帮助。

编辑添加：我将布置表的索引。您应该能够创建其余的列。

```
Division
--------
Division ID
...

Warehouse
---------
Warehouse ID
Division ID
...

Warehouse Partition
-------------------
Warehouse Partition ID
Warehouse ID
...

Warehouse Rack
--------------
Warehouse Rack ID
Warehouse Partition ID
...

Item
----
Item ID
Warehouse Rack ID
Item Type ID
...

Item Type
---------
Item Type ID
Item name
Item Price 
```

每个表都有一个主 ID 盲键，可能是一个自动递增的整数或一个自动递增的 long。

除 Division 之外的所有表都有一个指向父表的外键。

Item 表中的一行代表一个项目。一件物品只能在一个仓库货架上。

现代关系数据库连接五个表应该没有性能问题。我已经看到了 30 个表连接。

构建您的系统，解决实际出现的性能问题，而不是花时间担心假设的性能问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T15:29:46.353

正如 Gilbert Le Blanc 所写，您可能不需要加入五个表 - 您可能只需要加入“WarehouseRacks”。

但是，您写道您需要“跟踪” - 这表明涉及时间方面。

这为您提供了以下架构：

```
Items { item_id, item_name, item_price,......}
Divisions { division_id, division_name, division_address,.......}
Warehouses { warehouse_id, division_id, warehouse_name,........}
WarehousePartitions { partition_id, warehouse_id partition_name,........}
WarehouseRacks { rack_id, partition_id, rack_name,.......} 
ItemLocation (rack_id, item_id, entry_time, quantity, floor_number) 
```

在 ItemLocation 中，所有 3 列都是复合主键的一部分 - 您实际上是在说“在任何时候在给定位置只能有一个项目的实例”。

您仍然必须加入五个表才能检索项目 ID（至少如果您需要地址和名称等）。假设您拥有现代硬件和数据库软件，这应该没问题 - u 除非您处理大量数据，否则外键/主键关系上的 5 路连接不太可能导致性能问题。鉴于您在评论中提到的数量，以及您将在 MySQL 上运行它的事实，我认为您无需担心连接的数量。

此模型的好处是您根本无法将无效数据插入到项目位置表中 - 您不能说该项目位于分区中不存在的机架中，或者说位于分区中不存在的仓库中分配; 如果仓库更改部门，您不必更新所有 item_location 记录。

我创建了一个[SQLFiddle](http://sqlfiddle.com/#!2/2148a/1)来展示它是如何工作的。

“item_location”表是其中最大的关注点——您必须选择是存储快照（这是本设计所做的）还是事务表。使用“快照”视图，您的代码始终会更新“数量”列，有效地表示“截至 entry_time，此机架的此楼层中有 x 个项目”。

“事务”模型允许您插入多条记录——通常在添加项目时为正数，在删除项目时为负数。该位置在任何时间点的项目是这些数量的总和，直到所需时间。

# objective-c - UIWebView 的高度以编程方式减去 44px？

> ID：14868668
> 
> 赞同：1
> 
> 时间：2013-02-14T05:59:51.110
> 
> 标签：objective-c, xcode, uiwebview

是否可以通过这样做来设置 UIWebView 的高度..

```
[webView.height: currentHeight - 44px]; 
```

所以本质上，我想获取 UIWebView 的高度，然后以编程方式使其距离底部短 44px。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T06:05:41.263

像这样保存旧框架：

```
CGRect oldFrame = WebView.frame; 
```

然后设置新框架：

```
CGRect newFrame =CGRectMake(oldFrame.origin.x, oldFrame.origin.y, oldFrame.size.width, oldFrame.size.height-44);
[WebView setFrame:newFrame]; 
```

而已 ：-）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:09:41.510

我想这应该足够了。

```
webView.frame = CGRectMake(webView.frame.origin.x, webView.frame.origin.y, webView.frame.size.width, webView.frame.size.height - 44); 
```

# grails - 访问grails域类中的属性文件

> ID：14868672
> 
> 赞同：1
> 
> 时间：2013-02-14T06:00:13.123
> 
> 标签：grails, properties, grails-domain-class

我有一个具有以下参数的属性文件

```
 PAGINATION1=10
 PAGINATION2=20 
```

在我的 config.groovy 文件中，我设置了

```
 grails.config.locations = ["classpath:default.properties","file:"+ fullPath] 
```

读取属性文件值。

我可以使用访问控制器中的属性值

```
 grailsApplication.config.PAGINATION1 
```

它工作正常。

我访问了我按照以下链接的属性文件

[http://burtbeckwith.com/blog/?p=993&cpage=1](http://burtbeckwith.com/blog/?p=993&cpage=1)

```
 class  Pagination  {

   int paginationNumber;

   static someMethod() {
    def grailsApplication = new Pagination().domainClass.grailsApplication
    def config = grailsApplication.config
    return config
}

    static constraints={
    def grailsConfig=someMethod();
    paginationNumber inList:[grailsConfig.PAGINATION1,'20','30','40']
} 
```

}

但我收到以下错误。

```
 Caused by MissingPropertyException: No such property: domainClass for class: com.nagra.ms.sam.util.Pagination
      ->>   32 | someMethod in com.nagra.ms.sam.util.Pagination

      |     42 | doCall    in com.nagra.ms.sam.util.Pagination$__clinit__closure1
      |     72 | evaluate  in org.grails.datastore.mapping.config.groovy.MappingConfigurationBuilder
      |     51 | createMappedForm in org.grails.datastore.mapping.config.AbstractGormMappingFactory
      |     41 | <init> .  in org.grails.datastore.mapping.document.config.DocumentPersistentEntity$DocumentCollectionMapping
      |     26 | <init>    in org.grails.datastore.mapping.document.config.DocumentPersistentEntity
      |     63 | createPersistentEntity in org.grails.datastore.mapping.document.config.DocumentMappingContext
      |    159 | addPersistentEntityInternal in org.grails.datastore.mapping.model.AbstractMappingContext
      |    152 | addPersistentEntity in     ''
      |     63 | getObject in org.grails.datastore.gorm.bean.factory.AbstractMappingContextFactoryBean
      |    334 | innerRun  in java.util.concurrent.FutureTask$Sync
      |    166 | run       in java.util.concurrent.FutureTask
      |   1110 | runWorker in java.util.concurrent.ThreadPoolExecutor
      |    603 | run       in java.util.concurrent.ThreadPoolExecutor$Worker
      ^    722 | run . . . in java.lang.Thread 
```

谁能知道如何访问域类中的属性文件值

# java - 将对象数组列表转换为字符串数组

> ID：14868679
> 
> 赞同：1
> 
> 时间：2013-02-14T06:01:12.220
> 
> 标签：java, arrays, jsp, arraylist

目前我有下面的代码，我试图从 Object 转换为 String 并且我得到一个异常错误。

将此 Object 数组转换为 String 数组以便它在我的 for 循环中工作的最佳方法是什么？或者有没有办法改变我的 for 循环来显示对象数组？

```
<%

          Class.forName("org.sqlite.JDBC");
            Connection conn = DriverManager.getConnection("jdbc:sqlite:/Users/rhysparker/Documents/workspace/Resource_Planner/WebContent/db/RESOURCE.SQLITE");
                Statement stat = conn.createStatement();

                ArrayList<ArrayList<String>> al = new ArrayList<ArrayList<String>>();

                ResultSet rs = stat.executeQuery("select project_name from project;");

                ResultSetMetaData metaData = rs.getMetaData();
                int columns = metaData.getColumnCount();

                while (rs.next()) {
                    ArrayList<String> record = new ArrayList<String>();
                    for (int i = 1; i <= columns; i++) {
                        String value = rs.getString(i);
                        record.add(value);
                    }
                    al.add(record);
                }

                String[] testing = (String[])al.toArray();

                for(int i=0;i<testing.length;i++) 
                { %> 
                <option value="<%=testing[i]%>"><%=testing[i]%></option><% 
                } 

                rs.close();
               conn.close();
            %> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:15:47.807

```
 I get an exception error. 
```

是的，因为`al`是类型`ArrayList<String>` `ArrayList<ArrayList<String>> al = new ArrayList<ArrayList<String>>();`

你正在把它转换成一个字符串数组

```
String[] testing = (String[])al.toArray(); 
```

所以它会在运行时抛出异常，比如 .

```
Exception in thread "main" java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String; 
```

如果您`Arraylist`在 arraylist 中添加，那么您有责任确保类型检查。

您可以执行以下操作：

```
for (ArrayList<String> list: al)
 {
    String[] testing = list.toArray(new String[0]); // or (String[]) arr.toArray();
    for(int i=0;i<testing.length;i++) 
     { %> 
        <option value="<%=testing[i]%>"><%=testing[i]%></option><% 
     }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:08:03.027

```
ArrayList<ArrayList<String>> list = new ArrayList<ArrayList<String>>();
String[] array = (String[])list.toArray(new String[list.size()]); 
```

你的意思是这样的？试试这个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:33:19.150

这是因为您`al`是多维的（ArrayList 的 ArrayList - 包含一个数据库表 - 我想）
下面的代码将帮助您填充`testing`数组

```
int maxColumn = 100;    //Assuming not more than 100 columns
int rowSize = a1.size();
String[] s1 = new String[maxColumn];
String[][] testing = new String[rowSize][maxColumn];    
for(int i=0; i<rowSize; i++)
{
    ArrayList a1 = al.get(i);
    s1 = a1.toArray();
    for(int j=0; j<s1.length; j++)
        testing[i][j] = s1[j];
} 
```

`testing`是具有表记录的二维数组。现在，您需要在`<option>`重要的领域中分配到哪一列
说您需要分配`column 3`
所以您`for-loop`将成为

```
for(int i=0;i<rowSize;i++) 
{ %> 
    <option value="<%= testing[i][3] %>"><%=testing[i]%></option>
<% } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:46:22.803

你得到一个例外，因为`al`你正在转换的数组列表中的元素是类型`ArrayList<String>`，当然，不能强制转换为`String[]`.

您必须使用二维数组才能使代码正常工作，因为您的列表`al`属于类型`ArrayList<ArrayList<String>>`，这意味着列表中的元素是另一个包含`String`

要解决您的问题，您必须手动循环遍历列表，然后将每个元素（即`ArrayList<String>`）转换为`String[]`

```
int yLen = al.size();
        int xLen = al.get(0).size();
        String[][] testing = new String[yLen][xLen];
        for(int a = 0; a < yLen; a++){
            testing[a] = al.get(a).toArray(testing[a]);
        } 
```

# c# - 正则表达式单词之间的多重间距

> ID：14868690
> 
> 赞同：0
> 
> 时间：2013-02-14T06:01:42.640
> 
> 标签：c#, .net, regex

我有这个 Reg exp

```
[a-zA-Z]+(([\'\,\.\-\s][a-zA-Z])?[a-zA-Z]*)*$ 
```

它允许单词之间有一个空格，我怎样才能使这个 reg exp 接受单词之间的多个空格以及最后一个单词之后和第一个单词之前的空格。如果用户输入带有多个空格的文本，我该如何修剪它一个空格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:03:23.933

在匹配之前将所有替换`\s+`为一个空格。它同时处理修剪和匹配，无需额外费用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:28:13.290

试试这个正则表达式：`[a-zA-Z]+((\s*[',.-]?\s*[a-zA-Z])?[a-zA-Z]*)*$`

# elasticsearch - Elasticsearch 搜索复数

> ID：14868691
> 
> 赞同：0
> 
> 时间：2013-02-14T06:01:46.090
> 
> 标签：elasticsearch, pyes

我似乎无法弄清楚如何让 elasticsearch（通过 pyes 访问）来搜索复数/单数术语。例如，当我进入 Monkies 时，我想返回带有 Belt 的结果。我看过[Elasticsearch 没有返回单数/复数匹配](https://stackoverflow.com/questions/8064961/elasticsearch-not-returning-singular-plural-matches)，但似乎无法理解。这是一些 curl 语句

```
curl -XDELETE localhost:9200/myindex

curl -XPOST localhost:9200/myindex -d '
{"index": 
  { "number_of_shards": 1,
    "analysis": {
       "filter": {
                "myfilter": {
                    "type" : "porter_stem",
                    "language" : "English"
                }
                 },
       "analyzer": {
             "default" : {                    
                 "tokenizer" : "nGram",
                 "filter" : ["lowercase", "myfilter"]
              },
             "index_analyzer" : {                    
                 "tokenizer" : "nGram",
                 "filter" : ["lowercase", "myfilter"]
              },
              "search_analyzer" : {                                                    
                  "tokenizer" : "nGram",
                  "filter" : ["lowercase", "myfilter"]
              }
        }
     }
  }
}
}'

curl -XPUT localhost:9200/myindex/mytype/_mapping -d '{
    "tweet" : {
        "date_formats" : ["yyyy-MM-dd", "dd-MM-yyyy"],
        "properties" : {
            "user": {"type":"string"},
            "post_date": {"type": "date"},
            "message" : {"type" : "string", "analyzer": "search_analyzer"}
        }
    }}'

curl -XPUT 'http://localhost:9200/myindex/mytype/1' -d '{
"user" : "kimchy",
"post_date" : "2009-11-15T14:12:12",
"message" : "belt knife is a cool thing"
}'

curl -XPUT 'http://localhost:9200/myindex/mytype/2' -d '{
"user" : "alwild",
"post_date" : "2009-11-15T14:12:12",
"message" : "second message with nothing else"
}'

curl -XGET localhost:9200/myindex/mytype/_search?q=message:belts 
```

我已经到了搜索腰带给我一些结果的地步……但现在它给出的结果太多了。我该怎么做才能让它只返回一个带有“腰带”的条目？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-15T07:35:21.853

默认情况下，您的查询是针对`_all`使用标准分析器的字段执行的，因此您没有词干。尝试使用查询进行搜索，例如`name:Monkies`. 出于生产目的，请使用`match`查询，它将在您的查询和字段映射之间正确连接分析器。

顺便说一下，Elasticsearch 可以很容易地比较不同的分析设置。相比：

```
http://localhost:9200/_analyze?text=Monkies&analyzer=standard 
```

对比

```
http://localhost:9200/_analyze?text=Monkies&analyzer=snowball 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T22:48:02.280

你能把它减少到几个 curl 调用，用这个映射创建你的索引，索引一些数据，并执行一个显示你没有预料到的结果的搜索吗？

# bash - Bash：如何在多个目录下递归地ftp某种文件类型

> ID：14868702
> 
> 赞同：1
> 
> 时间：2013-02-14T06:02:47.393
> 
> 标签：bash, recursion, ftp, wget, glob

可以有两个通配符吗？如果没有，是否有另一种方法来解决这个问题？

我正在尝试使用 Bash 从 ftp 服务器递归获取文件类型。但是，我遇到的问题是我试图从多个目录中删除文件。其中许多目录名称将具有匹配的字符串。客户端将查找具有匹配字符串的所有目录，并从每个目录中获取特定的文件类型。每个目录可以有许多具有相同扩展名的文件。

我试图做的是递归使用 wget 。

```
wget -r 'ftp://anonymous:@$HOST/$PATH/$DIRSTRING*/*.$FILEEXT 
```

这给了我一条错误消息，指出找不到 $PATH/$DIRSTRING*/ 文件或目录。

我知道 wget 支持通配符。但是，是否可以有两个通配符？如果没有，是否有另一种方法来解决这个问题？

此致

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-19T18:57:21.757

wget 不太适合这种 ftp 用法……但 lftp 非常擅长镜像 ftp 站点数据，它甚至支持 globbing！:) 对于您的示例：

```
lftp -e "mirror -I '$DIRSTRING*/*$FILEEXT' /$RPATH mirrorSite" ftp://anonymous@$HOST 
```

查看`man lftp`/镜像命令

# c - 在c中将多个参数传递给main

> ID：14868711
> 
> 赞同：0
> 
> 时间：2013-02-14T06:03:13.980
> 
> 标签：c, arguments, gnu

```
int main(int argc, char *argv[])    // Send the path as a parameter
{
    char ptr2[BUFSIZE]; 
    va_list list;
    va_start(list,argv[]);
} 
```

假设我得到了这个代码，如果我在这个 main 中有多个参数（比如我做了类似“./program car house student phone”之类的事情），每个参数都是不同的参数，我该如何把它们放在va_list？

我不知道我会收到多少个参数，但我需要把它放在一个 va_list 上，请帮助！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:06:33.603

没有便携的方法可以做到这一点。但是，您可以通过编写类似的东西将初始化传递`va_list`给您的其他函数`va_list`

```
va_list args;
va_start(args, argv); // or maybe argc? Whatever, this doesn't make sense anyway
// read: "please don't litter production code with UB"
call_the_function(foo, args);
va_end(args); 
```

顺便说一下：

> 我不知道我会收到多少论据。

这不是真的 - 这就是 的`argc`论点`main()`。

# wpf - XAML - 多次设置“内容”属性

> ID：14868713
> 
> 赞同：51
> 
> 时间：2013-02-14T06:03:34.107
> 
> 标签：wpf

WPF 和 XAML 非常新。我无法理解为什么我不能在下面的代码中将 WPF 控件放置在我想要的位置。我的问题是`<canvas></canvas>`标签在哪里。我放在这个地方的任何东西都给了我“属性‘内容’被设置了不止一次’

如果有人可以简单地解释 Content 属性的设置位置，那将是最有帮助的。

我检查了以下文章无济于事： [多次设置属性“内容” 多次](https://stackoverflow.com/questions/1331456/the-property-content-is-set-more-than-once) [设置属性内容 多次设置属性内容 多次](https://stackoverflow.com/questions/8639738/the-property-content-is-set-more-than-once) [设置](https://stackoverflow.com/questions/10384395/property-content-is-set-more-than-once) [属性“内容” Button WPF](https://stackoverflow.com/questions/14478253/the-property-content-is-set-more-than-once-button-wpf) [ControlTemplate 导致错误“属性‘内容’被设置了不止一次”](https://stackoverflow.com/questions/10706043/controltemplate-causeing-error-the-property-content-is-set-more-than-once)

```
<Window x:Class="PDFIndexer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
<Grid x:Name="ParentGrid">
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="1*" />
        <RowDefinition Height="25" />
    </Grid.RowDefinitions>
    <Menu Grid.Row="0" >
        <MenuItem Header="File" >
            <MenuItem Header="Open Project" Click="MenuItem_Click_1"></MenuItem>
            <MenuItem Header="Save Project"></MenuItem>
            <MenuItem Header="Close Project"></MenuItem>
            <Separator></Separator>
            <MenuItem Header="Exit"></MenuItem>
        </MenuItem>
        <MenuItem Header="Edit"></MenuItem>
    </Menu>
    <TabControl Grid.Row="1">
        <TabItem Header="Document Flow" >
            This is where the outline of the entire document will be placed.
            <Canvas></Canvas>
         </TabItem>
        <TabItem Header="Preview">
            This is where the preview will be drawn to screen.
        </TabItem>
        <TabItem Header="Resources">
            This is where the resources { graphic files, fonts, data files }
        </TabItem>
        <TabItem Header="Code Library">
            This is where the user can save re-usable bits of code. Useful when adding intel barcodes or Address blocks etc...
        </TabItem>
    </TabControl>

    <StatusBar Grid.Row="2">
        Items
    </StatusBar>
</Grid> 
```

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2013-02-14T06:28:06.130

通过将您的文本描述添加到您`TabItem`添加的内容中，然后当您添加画布时，您添加了一个额外的内容项目，这是[`TabItem`](http://msdn.microsoft.com/en-us/library/system.windows.controls.contentcontrol.content%28v=vs.100%29.aspx). 您需要使用一个控件，该控件可以容纳一[组子项，](http://msdn.microsoft.com/en-us/library/system.windows.controls.panel.children.aspx)例如 Canvas、Grid、StackPanel 等。试试这样的方法。

```
<TabControl Grid.Row="1">
    <TabItem Header="Document Flow">
        <Canvas>
            <TextBlock>
                This is where the outline of the entire document will be placed.
            </TextBlock>
        </Canvas>
    </TabItem>
    <TabItem Header="Preview">
        This is where the preview will be drawn to screen.
    </TabItem>
    <TabItem Header="Resources">
        This is where the resources { graphic files, fonts, data files }
    </TabItem>
    <TabItem Header="Code Library">
        This is where the user can save re-usable bits of code. Useful when adding intel barcodes or Address blocks etc...
    </TabItem>
</TabControl> 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-14T06:18:40.907

某些容器只允许 1 个元素，其他容器允许 >1 个元素。当您收到错误消息“内容”设置不止一次时，这意味着您已尝试将多种类型的元素放入仅允许 1 个元素的容器中。

也许试试这个（未测试）：

```
<TabItem Header="Document Flow" >
<StackPanel>
<TextBlock>This is where the outline of the entire document will be placed. </TextBlock>
<Canvas></Canvas>
</StackPanel>
</TabItem> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-14T06:17:47.297

尝试将内容包装`TabItem`在 a 中`Grid`并用于`TextBlock`显示文本：

```
<TabItem Header="Document Flow" >
    <Grid>
        <TextBlock Text="This is where the outline of the entire document will be placed."/>
        <Canvas></Canvas>
    </Grid>
</TabItem> 
```

# ruby-on-rails - 失败，错误 10068：“无效的运算符：$oid”

> ID：14868716
> 
> 赞同：9
> 
> 时间：2013-02-14T06:03:49.627
> 
> 标签：ruby-on-rails, mongodb, mongoid, sidekiq

刚刚更新到最新版本的 mongoid (3.1.0) 和 sidekiq (2.7.2)
现在我得到了错误：`failed with error 10068: "invalid operator: $oid"`
通过查看代码，我看到一个这样的选择：`@selector={"_id"=>{"$oid"=>"[some id]"}}`
这里有什么问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T06:53:54.243

将此添加到我`gemfile`修复的问题中：

```
gem 'multi_json', '1.5.1' 
```

我想最新版本（1.6.0）有问题

**编辑：** gem 已更新到修复此问题的新版本（1.6.1）。更多信息： [https ://github.com/intridea/multi_json/issues/89](https://github.com/intridea/multi_json/issues/89)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-24T13:46:58.950

这实际上正在发生，因为 BSON::ObjectId 不是 JSON 的一部分......所以当 Sidekiq 尝试将 args 序列化给工作人员时，它会呕吐。查看此评论：[https ://github.com/mperham/sidekiq/issues/951#issuecomment-19497803](https://github.com/mperham/sidekiq/issues/951#issuecomment-19497803)

修复只是在执行以下工作时将 ID 转换为字符串：

```
EmailSubscribe.perform_async(user.id.to_s) 
```

# c - 为什么报告的字符串长度减一？

> ID：14868728
> 
> 赞同：0
> 
> 时间：2013-02-14T06:05:10.763
> 
> 标签：c, pointers

我在理解这段代码时遇到了一些麻烦。为什么长度是3？如果我输入`hi`，长度为1。

```
#include <stdlib.h>
#include <stdio.h>

int len(char *s)  
{
    int i = 0; 
    while(*(++s) != '\0') 
        i++; 
    printf("%d", i);
    return i; 
} 

int main()
{
    len("this");
    getchar();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:26:21.063

不仅长度减 1，而且如果你给它一个空字符串作为你希望它返回 0 的参数，你最终可能会遇到访问冲突（尽管大多数时候你不会因为零bytes 在未初始化的内存中很常见）或随机数（基本上它将返回存储在 c-string 空字符串常量后面 1 个字节的非零字节数。

长度减 1，因为您使用的是前缀增量运算符，它被评估为该行中的第一件事：

```
while(*(++s)!='\0') 
```

具体来说，如果你看看你在那里做什么，长手，它会这样写：

```
char *s = "this";
int i = 0;

while (1) {
    s = s + 1;
    if (*s == '\0') break;
    i++;
}
printf("%d", i);
... 
```

你看到问题了吗？ `++s`首先增加指针。所以你跳过你的字符串的第一个字母。

无论如何，你可能想要的是这样的：

```
int len(const char *s) {

    int clen = 0;
    while (*s++ != '\0') clen++;
    return clen;

} 
```

当然，有人可能会问，当您拥有标准 C 库时`strlen()`，为什么要重新发明轮子。`strnlen()`也许这只是一个练习？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:08:40.820

`++s`在评估它之前增加值。这就是为什么你的答案比实际长度少一。使用`s++`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:09:04.710

`++s`是前缀增量，因此循环实际上将从第二个字符开始。最短的解决方法是将其更改为后缀增量：

```
while(*(s++) != '\0') 
```

或者：

```
while(*s++) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:12:31.903

读了几次问题后，我明白“len”的函数对于长度为2的字符串（如'hi'）返回1

这是因为以下行：`while (*(++s)!='\0')`

剖析条件导致以下语句（只是为了清楚您的代码会发生什么，当然这不是应该这样做的）

```
startover: 
    s = s + 1;
    if (*s != '\0') goto end;
        i = i + 1;
    goto startover; 
```

如您所见，在开始计数之前，您总是越过第一个字符。您可以改为使用来避免这种情况`s++`。这将在检查 '\0' 之后移动 s 的修改：

```
startover: 
    if (*s != '\0') goto end;
        s = s + 1;
        i = i + 1;
    goto startover; 
```

# ios - Objective-C 中是否有类似 D3 的 Nest 功能？

> ID：14868729
> 
> 赞同：0
> 
> 时间：2013-02-14T06:05:11.933
> 
> 标签：ios, objective-c, d3.js

嵌套意味着获取一组键值对并按指定的键对它们进行分层分组。有关示例，请参见此页面：http: [//bl.ocks.org/d/3176159/](http://bl.ocks.org/d/3176159/)。如果没有，我将尝试将[https://github.com/mbostock/d3/blob/master/src/core/nest.js](https://github.com/mbostock/d3/blob/master/src/core/nest.js)移植过来，但我不想重新发明轮子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T18:55:50.437

这是我想出的答案。如果您有改进的建议，请告诉我。

```
// Wrapper method
// keys are in order of hierarchy
- (NSMutableArray *)nestArray:(NSArray *)array withKeys:(NSArray *)keys
{
    return [self nestArray:array withKeys:keys depth:0];
}

// Private
// Assumes arrays of dictionaries with strings as the entries.
- (NSMutableArray *)nestArray:(NSArray *)array withKeys:(NSArray *)keys depth:(int)depth
{
    // Current key
    NSString *key = [keys objectAtIndex:depth];
    depth++;

    // Create dictionary of the keys
    NSMutableDictionary *map = [[NSMutableDictionary alloc] init];
    for (NSDictionary *dictionary in array) {
        NSString *value = [dictionary objectForKey:key];
        if ([map objectForKey:value]) {
            [[map objectForKey:value] addObject:dictionary];
        } else {
            [map setObject:[NSMutableArray arrayWithObject:dictionary] forKey:value];
        }
    }

    NSMutableArray *nest = [[NSMutableArray alloc] init];
    for (NSString *valkey in [map allKeys]) {
        NSMutableArray *values = [map objectForKey:valkey];
        if (depth < keys.count) {
            values = [self nestArray:[NSArray arrayWithArray:array] withKeys:keys depth:depth];
        }
        NSMutableDictionary *dictionary = [NSMutableDictionary dictionaryWithObjectsAndKeys:valkey,@"key",values,@"values", nil];
        [nest addObject:dictionary];
    }

    return nest;
} 
```

# xml - 使用 XSLT 对分组 XML 工作流中的数据求和

> ID：14868730
> 
> 赞同：0
> 
> 时间：2013-02-14T06:05:16.177
> 
> 标签：xml, xslt

我试图在我的 XSLT 中创建一个班级学分总和，但我不知道在哪里放置 sum 语句。

这是我创建的 sum 语句：

```
 <credit-sum><xsl:value-of select='format-number(sum(CRSMINCRED1),"##")'/></credit-sum> 
```

数据分为三组：

```
1\. by Area of Study
2\. By Degree
3\. By Requirement or Elective status 
```

我只想总结“必修”课程的学分。但是，当我将 sum 语句放入其中时，它只会单独显示每个班级的总数，而不是班级组。

这是 XSLT：

```
<?xml version="1.0"?><!-- DWXMLSource="STX049-2-8-13-parsed.xml" -->
<!DOCTYPE xsl:stylesheet>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="xml" indent="no"/>
<xsl:variable name="allSections" select="/CrystalReport/Group/Group/Group/Details/Section" />

<xsl:key name="kArea" match="Section" use="ACPGAREAOFSTUDY1"/>
<xsl:key name="kDegree" match="Section" use="concat(ACPGAREAOFSTUDY1, '+', ACPGDEGREE1)" />
<xsl:key name="kDepartment" match="Section" use="concat(ACPGAREAOFSTUDY1, '+', ACPGDEGREE1, '+', ICCB1)" />

<xsl:variable name="degreeFirsts" select="$allSections[generate-id() = generate-id(key('kDegree', concat(ACPGAREAOFSTUDY1, '+', ACPGDEGREE1))[1])]" />
<xsl:variable name="deptFirsts" select="$allSections[generate-id() = generate-id(key('kDepartment', concat(ACPGAREAOFSTUDY1, '+', ACPGDEGREE1, '+', ICCB1))[1])]" />

<xsl:template match="/">
<CrystalReport>
<Degrees>
<xsl:apply-templates select="$allSections[generate-id() = generate-id(key('kArea', ACPGAREAOFSTUDY1)[1])]" mode="group"/>
</Degrees>
</CrystalReport>
</xsl:template>

<xsl:template match="Section" mode="group">
<xsl:variable name="area" select="ACPGAREAOFSTUDY1" />
<xsl:text>&#xA;</xsl:text>
<areaofstudy><xsl:value-of select="$area"/></areaofstudy>
<xsl:apply-templates select="$degreeFirsts[ACPGAREAOFSTUDY1 = $area]" mode="degree"/>
</xsl:template>

<xsl:template match="Section" mode="degree">
<xsl:variable name="area" select="ACPGAREAOFSTUDY1" />
<xsl:variable name="degree" select="ACPGDEGREE1" />
<Degree>
<xsl:apply-templates select="$deptFirsts[ACPGAREAOFSTUDY1 = $area and ACPGDEGREE1 = $degree]" mode="department">
<xsl:sort select="ACADPROGRAMSID1" />
</xsl:apply-templates>
</Degree>
</xsl:template>

<xsl:template match="Section" mode="department">
<department><xsl:text>&#xA;</xsl:text><Degreetitle><xsl:apply-templates select="ACPGDEGREE1" /></Degreetitle>
<Certtitle><xsl:apply-templates select="CCD11" /></Certtitle><xsl:text>&#xA;</xsl:text>
<DegreeDesc><xsl:apply-templates select="ACPGCOMMENTS1" /></DegreeDesc>
<xsl:text>&#xA;ICCB Code </xsl:text><ICCBcode><xsl:apply-templates select="ICCB1" /></ICCBcode>
<xsl:text> | Field of Study Code: </xsl:text><ProgramID><xsl:apply-templates select="ACADPROGRAMSID1" /></ProgramID>

<xsl:variable name="courses" select="key('kDepartment', concat(ACPGAREAOFSTUDY1, '+', ACPGDEGREE1, '+', ICCB1))" />

<xsl:call-template name="CourseGroup">
<xsl:with-param name="courses" select="$courses[FlagElectives1 = 'N']" />
<xsl:with-param name="title" select="'Program Requirements'" />
</xsl:call-template>

<xsl:call-template name="CourseGroup">
<xsl:with-param name="courses" select="$courses[FlagElectives1 = 'Y']" />
<xsl:with-param name="title" select="'Program Electives'" />
</xsl:call-template>
<xsl:apply-templates select="ACPGHOMELANGNOTREQDRSN1" />
</department>
</xsl:template>

<xsl:template name="CourseGroup">
<xsl:param name="courses" />
<xsl:param name="title" />

<xsl:if test="$courses"><xsl:text>&#xA;</xsl:text>
<req-electitle><xsl:value-of select="$title" /></req-electitle>
<xsl:apply-templates select="$courses">
<xsl:sort select="FlagElectives1" order="ascending" />
<xsl:sort select="CRSSUBJECT1" />
<xsl:sort select="CRSNO1" />
</xsl:apply-templates>
</xsl:if>
</xsl:template>

<xsl:template match="Section">
<xsl:text>&#xA;</xsl:text>
<Details>
<class><deptname><xsl:apply-templates select="CRSSUBJECT1" /></deptname><xsl:text>  </xsl:text>
<courseno><xsl:apply-templates select="CRSNO1" /></courseno><xsl:text>  </xsl:text>
<classname><xsl:apply-templates select="CRSTITLE1" /></classname><xsl:text> </xsl:text>
<classcredit><xsl:apply-templates select="CRSMINCRED1" /></classcredit>
<xsl:apply-templates select="CRSMAXCRED1" />
</class>
</Details>
</xsl:template>

<xsl:template match="ACPGHOMELANGNOTREQDRSN1[string-length() != 0]">
<xsl:text>&#xA;</xsl:text><totalcredits><xsl:value-of select="normalize-space(.)" /></totalcredits>
</xsl:template>

<xsl:template match="CRSMAXCRED1[string-length() != 0]">
<xsl:text> to </xsl:text><maxcredits><xsl:value-of select="normalize-space(.)" /></maxcredits>
</xsl:template>

<xsl:template match="ACPGDEGREE1/text()">
<xsl:value-of select="concat(., ' DEGREE')"/>
</xsl:template>

<xsl:template match="CCD11/text()">
<xsl:value-of select="('CERTIFICATE')" />
</xsl:template>

</xsl:stylesheet> 
```

最终输出将被导入 Adob​​e InDesign 并应如下所示： ...

```
 ICCB Code 4903 | Field of Study Code: AIRC.CER.ENERG
 Program Requirements
 AIRC   2232    Energy Audits/Economics                     2
 AIRC   2240    Load Calculations and Duct Design           5
 AIRC   2260    Heating and Air Conditioning Contracting    3
 Total Credits                                             10 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:46:16.813

似乎`CourseCroup`模板是进行此更改的地方：

```
 <xsl:template name="CourseGroup">
    <xsl:param name="courses" />
    <xsl:param name="title" />
    <xsl:param name="requiredCourses" select="false()" />

    <xsl:if test="$courses">
      <xsl:text>&#xA;</xsl:text>
      <req-electitle>
        <xsl:value-of select="$title" />
      </req-electitle>
      <xsl:apply-templates select="$courses">
        <xsl:sort select="FlagElectives1" order="ascending" />
        <xsl:sort select="CRSSUBJECT1" />
        <xsl:sort select="CRSNO1" />
      </xsl:apply-templates>
      <xsl:if test="$requiredCourses">
        <credit-sum>
          <xsl:value-of select='format-number(sum($courses/CRSMINCRED1),"##")'/>
        </credit-sum>
      </xsl:if>
    </xsl:if>
  </xsl:template> 
```

然后您将只修改第一个`call-template`以添加额外的参数：

```
 <xsl:call-template name="CourseGroup">
    <xsl:with-param name="courses" select="$courses[FlagElectives1 = 'N']" />
    <xsl:with-param name="title" select="'Program Requirements'" />
    <xsl:with-param name="requiredCourses" select="true()" />
  </xsl:call-template> 
```

# android - 为什么膨胀的 viewGroup 不起作用？

> ID：14868736
> 
> 赞同：0
> 
> 时间：2013-02-14T06:05:37.783
> 
> 标签：android, xml, view, fonts, layout-inflater

所以基本上，我正在尝试更改 xml 布局的所有视图上的字体。这只能通过非 xml 方法来完成。出于某种原因，setFont 不适用于我的膨胀视图组子项。我想我的 viewGroup 是错误的......我怎样才能更好地实例化它？当我使用像按钮这样的常规视图时，代码可以工作，但我不想定义一百万个按钮和文本视图，所以我的解决方案是创建一个从布局创建的视图组，并遍历其中的所有视图以更改字体。请帮忙！

```
public static void applyFonts(final View v, Typeface fontToSet) {
    try {

        if (v instanceof ViewGroup) {
            ViewGroup vg = (ViewGroup) v;

            for (int i = 0; i < vg.getChildCount(); i++) {
                View child = vg.getChildAt(i);
                applyFonts(child, fontToSet);
            }
        } else if (v instanceof TextView) {
            ((TextView) v).setTypeface(fontToSet);

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    ViewGroup vg = (ViewGroup) inflater.inflate(R.layout.main, null);

    Typeface rockwellFont = Typeface.createFromAsset(getAssets(), "Rockwell.ttf");
     LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
     ViewGroup vg = (ViewGroup) inflater.inflate(R.layout.main, null);
     applyFonts(vg,rockwellFont);
     setContentView(vg); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:12:42.687

最好你扩展你想要自定义字体的视图像这样

```
package com.shahidawat.external;

    import com.shahidawat.R;
    import android.content.Context;
    import android.graphics.Typeface;
    import android.util.AttributeSet;
    import android.widget.TextView;

public class CustomTextView extends TextView {

        public CustomTextView(Context context) {
                super(context);
                init(context);

        }

        public CustomTextView(Context context, AttributeSet attrs, int defStyle) {
                super(context, attrs, defStyle);
                init(context);
        }

        public CustomTextView(Context context, AttributeSet attrs) {
                super(context, attrs);
                init(context);
        }

        private void init(Context context) {
                Typeface type = Typeface.createFromAsset(context.getAssets(),
                                "fonts/MonotypeCorsiva.ttf");

                setTypeface(type);
                setTextColor(context.getResources().getColor(R.color.black));
        }

} 
```

然后在 XML 中你可以这样做

```
<com.shahidawat.external.CustomTextView
        android:id="@+id/txtHeader"
        android:layout_width="match_parent"
        android:layout_height="30dp"
        android:layout_marginBottom="5dp"
        android:background="@drawable/separater"
        android:gravity="bottom|center_horizontal"
        android:text="Header"
        android:textSize="20sp"
        android:textStyle="bold" /> 
```

# php - 如何在html中为每个循环设置多个表结构？

> ID：14868741
> 
> 赞同：0
> 
> 时间：2013-02-14T06:06:04.463
> 
> 标签：php, css, html, cakephp

我想根据计划设置表格产品中的结构，我想这样显示

```
+------------------+---------------+---------------+
| product1         | product2      | product3      |
+------------------+---------------+---------------+
| product1plan1    | product2plan1 | product3plan1 |
+------------------+---------------+---------------+ 
| prouduct1plan2   | product2plan2 |               |
+------------------+---------------+---------------+
| product1plan3    |               |               |
+------------------+---------------+---------------+ 
```

但现在它向我展示了那样

```
 product1 | product1plan1 | product1plan2  product2 | product2plan1 | product2plan1 
```

这是我的代码

```
 <table>
<thead>
     <tr>
    <?php 
       foreach( $name as $product ) {
        $c = 0;
        foreach ($product as $key ) {
            $c++;
            ?>              
       <th>
                 <?php echo $key['Product']['name']; ?>
         <?php for($i = 0; $i < sizeof( $key['ProductPlan'] ); $i++ ) { ?>
         <th class= 'packages' id = "<?php echo $key['Product']['name'], $key['ProductPlan'][$i]['product_plan_id']?>" 
           onclick = "document.getElementById('<?php echo $key['Product']['name']?>').value='<?php echo $key['ProductPlan'][$i]['product_plan_id']?>';"
                >
            <div product_name='<?php echo $key['Product']['slug']?>' class='amounts amount-<?php echo $key['Product']['slug']?>'>
               <div class='tick'>
                  <?php echo $this->Html->image('tick.png', array('width'=>'25', 'height'=>'25'));?>
              </div>
             <div class='amount'>
         <?php echo $key['ProductPlan'][$i]['name'];?> $
             </div>
          </div>            
           </th>
           <?php } ?>
       </th>
     <?php } ?>         
   <?php } ?>
</tr>
  </thead> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:23:39.220

在没有看到工作示例的情况下很难弄清楚这一点，但是查看问题中的代码，您在 th 标签内有一个 th 标签，这就是您看到结果的原因。我相信如果你用 div 标签替换内部 th 标签，那应该可以解决问题。

但是， th 标签实际上应该用于表格标题，或者在您的示例中，产品名称。为此，您将需要 2 个循环：第一个创建带有产品名称的表格标题，第二个用于打印计划（在标题下方一行的表格单元格中）。

试试这个：

```
<table>
    <thead>
        <tr>
            <th>
                <?php 
                    foreach ($name as $product) {
                        foreach ($product as $key) {
                            echo $key['Product']['name'];
                        }
                    }
                ?>
            </th>
        </tr>
    </thead>

    <tbody>
        <tr>
            <?php 
                foreach($name as $product) {
                    $c = 0;
            ?>

            <?php 
                foreach ($product as $key) {
                $c++;
            ?>

            <td>
                <?php for($i=0;$i<sizeof($key['ProductPlan']);$i++) { ?>

                <div class   = 'packages'
                     id      = "<?php echo $key['Product']['name'],$key['ProductPlan'][$i]['product_plan_id']?>" 
                     onclick = "document.getElementById('<?php echo $key['Product']['name']?>').value='<?php echo $key['ProductPlan'][$i]['product_plan_id']?>';"
                >

                    <div product_name='<?php echo $key['Product']['slug']?>' class='amounts amount-<?php echo $key['Product']['slug']?>'>
                        <div class='tick'>
                            <?php echo $this->Html->image('tick.png', array('width'=>'25', 'height'=>'25'));?>
                        </div>

                        <div class='amount'>
                            <?php echo $key['ProductPlan'][$i]['name'];?> $
                        </div>
                    </div>
                </div>
                <?php }?>
            </td>

            <?php } ?>
            <?php } ?>
        </tr>
    </tbody>
</table> 
```

# java - Executor 服务在不等待任务完成的情况下终止

> ID：14868743
> 
> 赞同：0
> 
> 时间：2013-02-14T06:06:11.017
> 
> 标签：java, multithreading, executorservice

我有这样的执行人服务：

```
ExecutorService exec = Executors.newFixedThreadPool(4);
for(int i=0; i<4;i++) {
  Consumer consumer = new Consumer();
  exec.execute(new ConsumerstartUpThread(consumer));
} 
```

`ConsumerStartUpThread`实现了 runnable 并且它的 run 方法具有巨大的功能，这需要调用其他几个 API。现在，当我在调试模式下运行代码时，任务就完成了。当我正常运行它时，任务不完整，线程被终止。不是线程会等到所有任务完成吗？为什么他们没有完成任务就被解雇了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:21:24.377

尝试

```
ExecutorService exec = Executors.newFixedThreadPool(4);
List<Callable<Object>> tasks = new ArrayList<Callable<Object>>();
for (int i = 0; i < 4; i++) {
    tasks.add(Executors.callable(new ConsumerstartUpThread(new Consumer())));
}
exec.invokeAll(tasks);
exec.shutdown(); 
```

invokeAll 将等到所有任务终止（参见 API）。为了更简单，让 ConsumerstartUpThread 实现 Callable 而不是 Runnable

# javascript - 在 Phonegap 中显示联系人

> ID：14868750
> 
> 赞同：0
> 
> 时间：2013-02-14T06:07:18.550
> 
> 标签：javascript, android, cordova

当我必须打开此页面时，我想在不点击任何按钮的情况下显示手机中的所有联系人。这里 myFunction() 显示所有联系人。

```
 I have to call `myFunction()`, in this code. I dont know where to call this function. Help me

            var ar1 = new Array;
            var ar2 = new Array;
            var name, number;
            var counter = 1;

            document.addEventListener("deviceready", onDeviceReady, false);

            function onDeviceReady() {
                var options = new ContactFindOptions();
                options.filter = "";
                options.multiple = true;
                filter = [ "displayName", "phoneNumbers" ];
                navigator.contacts.find(filter, onSuccess, onError, options);               
            }

            function onSuccess(contacts) {
                 for ( var i = 0; i < contacts.length; i++) {
                    for ( var j = 0; j < contacts[i].phoneNumbers.length; j++) {
                        name = contacts[i].displayName;
                        number = contacts[i].phoneNumbers[j].value;
                        ar1.push(name);
                        ar2.push(number);  

// here i called myFunction(), but it's displaying one contact in multiple times                    
                         }
                    // here i called myFunction(), but it's displaying one contact in multiple times 
                    }
// Here i called myFunction(), the function is not calling
            }

            function onError(contactError) {
                alert('onError!');
            }

    //  where to call this function 
            function myFunction() {

                 $("#checkall").click(function() {
                    if ($(this).is(':checked')) {
                        $(":checkbox").attr("checked", true);
                    } else {

                        $(":checkbox").attr("checked", false);
                    }
                }); 

                 for ( var i = 0; i < ar2.length; i++) {

                    var newTextBoxDiv = $(document.createElement('div')).attr("id",
                            'TextBoxDiv' + counter);
                    newTextBoxDiv.after().html(
                            '<input type="checkbox" value="'
                                    + ar1[i] + '"/>'
                                    + ar1[i] + "   " + "   " + ar2[i] + '</br>');
                    newTextBoxDiv.appendTo("#TextBoxesGroup");

                } 
            }
            </script>
        </head>
        <body>

            </br>

        <div id="TextBoxesGroup">
                <div id="TextBoxDiv1">
                    <input type="checkbox" id="checkall" value="check" />selectAll</br> <br />
                    <br /> <br />
                </div>
            </div>

            </body>

        </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:28:23.920

我无法准确地抓住你想要的东西。

如果您想在应用启动时生成电话号码复选框列表，只需在 onSuccess() 回调结束时调用 myFunction()。

如果你想要另一个时间，你应该定义一个你想要的事件处理程序，如下所示。

```
$("#PhonenumberListButton" ).click( function() { myFunction(); } ); 
```

并且您的代码可能会在循环期间发生索引异常。

下面我们来思考一下。

1.  每个联系人都有 1 个姓名，但有 1 个或多个电话号码
2.  您的代码将每个姓名推入 ar1，并将联系人的每个电话号码推入 ar2
3.  所以 ar2.length 可以大于 ar1.length
4.  您生成的显示代码使用 ar2.length for 循环。如果任何联系人有 2 个或更多电话号码，它应该例外。这是在 onSuccess() 中停止循环的原因。

**固定代码**

```
 function onSuccess(contacts) {
             for ( var i = 0; i < contacts.length; i++) {
                name = contacts[i].displayName;
                ar1.push(name);

                ar2[i] = []; // array for multiple phone#.
                for ( var j = 0; j < contacts[i].phoneNumbers.length; j++) {
                    number = contacts[i].phoneNumbers[j].value;
                    ar2[i].push(number);
                }
             }

             myFunction(); // display phone numbers
        }

        function myFunction() {

             $("#checkall").click(function() {
                if ($(this).is(':checked')) {
                    $(":checkbox").attr("checked", true);
                } else {

                    $(":checkbox").attr("checked", false);
                }
            }); 

             for ( var i = 0; i < ar2.length; i++) {
                if ( ar2[i].length ) {  // avoid none phone# exception
                    var newTextBoxDiv = $(document.createElement('div')).attr("id",
                            'TextBoxDiv' + counter);
                    newTextBoxDiv.after().html(
                            '<input type="checkbox" value="'
                                    + ar1[i] + '"/>'
                                    + ar1[i] + "   " + "   " + ar2[i][0] + '</br>');
                    newTextBoxDiv.appendTo("#TextBoxesGroup");
                }
            } 
        } 
```

# java - 每个连接的 Netty 处理程序是唯一的吗？

> ID：14868752
> 
> 赞同：8
> 
> 时间：2013-02-14T06:07:20.607
> 
> 标签：java, netty

我一直在查看[Netty 网站](http://static.netty.io/3.5/xref/org/jboss/netty/example/proxy/HexDumpProxyInboundHandler.html)上的代理服务器示例：

示例源代码处理程序有一个 volatile 变量

```
private volatile Channel outboundChannel; 
```

它负责连接到另一台服务器以进行代理的通道。

这让我想知道这是否是为代理实现多个连接的正确且安全的方法。

我想允许多个连接（入站）连接到不同的出站，同时确保每个入站连接都唯一地链接到出站通道。

据我所知，Netty 会为每个连接生成一个新的管道。这是否意味着管道工厂新生成的处理程序专门用于新连接（通道）？

ps 如果我的 Netty 服务器有 1,000 个活动连接，这是否意味着有 1,000 个不同的管道？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-14T10:06:23.233

每个连接创建一个管道，但管道可能包含共享和独占处理程序。一些处理程序不保持状态，并且可以将单个实例插入到多个 [所有] 管道中。Netty 提供的可以共享的处理程序使用[ChannelHandler.Sharable](http://netty.io/3.6/api/org/jboss/netty/channel/ChannelHandler.Sharable.html)进行注释。请参阅本[教程](http://seeallhearall.blogspot.com/2012/06/netty-tutorial-part-15-on-channel.html)中标题为**共享和独占通道处理程序**的部分。

# ios - armv7s的ios bing maps sdk有解决方案吗？还是应该在 UIWebview 中使用 bing ajax control v7？

> ID：14868753
> 
> 赞同：1
> 
> 时间：2013-02-14T06:07:27.530
> 
> 标签：ios, bing-maps, iphone-5

arm7vs的ios bing maps sdk有解决方案吗？还是应该在 UIWebview 中使用 bing ajax control v7？

我在这个需要 bing 的应用程序中工作，并收到一个错误，指出 bing 的静态库不适用于 armv7s。我知道我可以通过在有效架构中删除它来删除对 armv7s 的支持，但我真的需要让应用程序在 iPhone 5 中运行。有什么建议或解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T02:52:28.963

大家好，我发现它适用于 iPhone 5，但它的性能有点不稳定。如果我在 iPhone 5 中优化了 bing maps ios sdk 的使用，我会添加更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:10:00.090

> 我可以通过在有效架构中删除它来删除对 armv7s 的支持，但我确实需要在 iPhone 5 中运行。

ARM 通常是一个尊重向后兼容性的平台。例如，如果您针对 ARMv6 进行编译，则所有代的 iOS 设备都将能够运行该应用程序（除非您使用仅在较新版本的 iOS 中可用的 API）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:47:45.303

如果您想尝试其他映射库，请查看[https://github.com/route-me/route-me](https://github.com/route-me/route-me)它确实支持多个映射提供程序。

# oracle-adf - 如何将自定义类从模型导入到 adf 中的视图控制器？

> ID：14868754
> 
> 赞同：1
> 
> 时间：2013-02-14T06:07:31.870
> 
> 标签：oracle-adf, jdeveloper

我在 adf 的模型层中有一些自定义类。我想在视图控制器中使用它们，但我无法导入它们。

这怎么可能？我的 jdev 版本是 11.1.1.5

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T06:59:31.597

右键单击您的 ViewController 项目 > 项目属性 > 依赖项 > 选择模型并单击铅笔。在这里您选择“构建输出”并按两次确定。重建您的应用程序，您应该能够从视图控制器中的模型访问类。

# android - 从支持 Android Ginger 面包的手机创建和添加事件和任务

> ID：14868756
> 
> 赞同：0
> 
> 时间：2013-02-14T06:08:00.873
> 
> 标签：android, android-calendar

我正在开发一个 Android 应用程序。作为其中的一部分，我需要在里面有日历，我可以在里面添加事件、任务。我遇到的几个答案表明我需要为此添加 Google 日历。我希望事件和任务只能驻留在我的应用程序中。所以，我需要为此使用手机的内置日历。

1.  是不是所有的安卓手机都内置了安卓日历应用程序？

2.  如果没有，我如何在我的应用程序中创建日历应用程序？是否有任何可用于此目的的 Android 库（支持 Even Ginger 面包）

# php - 未定义变量：查询，当表单选择仅发送空数据时（通过选择）

> ID：14868758
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:08:10.670
> 
> 标签：php, mysql, sql, forms, echo

我正在使用一个表单和一个接收 php 页面来回显来自数据库的数据，一个提出三个选择/菜单操作的表单，因此在接收页面中使用了三个不同的变量。

在三个选择/菜单上，我喜欢顶部列出的值是空的，并且使用如下代码显示一个“-”：

```
 <td>Alphabetical Company Name</td>
                          <td><select name="alpha" id="alpha">
                            <option value="">-</option>
                            <option value="a">A</option>
                            <option value="b">B</option>
                            <option value="c">C</option> 
```

因此，当用户打开 form.php 页面时，框中选择的第一个选项/值只是“-”。

我构建了接收表单结果的页面，以回显包含数据库中所选数据的表。

一切正常，但是当我没有在三个选择/菜单上选择任何值并单击提交按钮时，我得到一个：`notice: Undefined variable: query in ... Query was empty`

这里`query`提到的是指：`$result = mysql_query($query) or die(mysql_error());`

我认为，如果三个选择/菜单未发送任何值，则该`SELECT`过程不会启动，因此`$result = mysql_query($query)`不会收到任何值`query`，但是我该如何解决该问题（通常），以便当用户保持三个选择/menu 没有值，“未定义变量”警告/错误不会发生？

对不起，如果我的英语不清楚并且问题很基本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:23:14.597

我认为您的表格没有发布。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:39:00.757

通常，在我们将表单数据发送到服务器之前，我们必须验证客户端和服务器端必须的表单字段。

我们`jQuery or JavaScript`在客户端验证使用，在这里你使用`PHP`所以在服务器端使用它来验证，如下

```
if($_GET) 
{

   if($_GET['alpha'] != NULL && !empty($_GET['alpha'])
   {

    // your code here
   }
}
else
{
    // Handle error here
} 
```

> 将 $_GET 方法替换为您在表单中使用的任何表单方法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-14T10:47:04.420

我添加了这个：

```
else if(!($req && $req2 && $req3 == NULL))
{
$query = NULL;
} 
```

之前

`$result = mysql_query($query) or die(mysql_error());`

现在它工作正常，我只有消息“查询为空”，这是不言自明的。感谢大家的时间和答案

# magento - Magento 联系表格自定义

> ID：14868760
> 
> 赞同：0
> 
> 时间：2013-02-14T06:08:20.650
> 
> 标签：magento, customization

我正在尝试在联系表中添加几个字段，以便我的客户在写作时可以指明他们车辆的年份和型号。

我刚刚将我的 Magento 安装从 1.4.3 升级到 1.7.0.1。我以前的联系表格是一项黑客工作，这次我试图让它以正确的方式工作。环顾四周，我尝试`<input type="text" size="15" value="" id="model_ext" name="bike_model_ext" class="required-entry input-text">`在我的模板中添加 form.phtml，然后在 admin 的事务电子邮件模板中添加`{{var data.model_ext}}`。但这不起作用。我通过操作文本确保后端的模板是正确的。我也知道 form.phtml 是正确的，因为当元素发生变化时我会看到它们。

然后我重载了处理联系表格的控制器。我确认我的控制器正在处理它（它带有`echo "it works"; die();`）并且在那里，我正在寻找额外表单元素名称的 POST 数据，但是在这里，我也无法访问数据。环顾网络，我尝试了这个：

```
 $comment = $this->getRequest()->getPost('comment');
            $extras=Array( "year","make","model","model_ext" );
            foreach($extras as $field)
                    $comment .= "\n$field:\t".$this->getRequest()->getPost($field);
            $this->getRequest()->setParam('comment', $comment);
            parent::postAction(); 
```

但是，就像我的变量不存在一样。在这里，我再次知道我的代码正在执行，因为当我在那里出现任何问题时，联系表单会崩溃并显示错误消息。

我会在早上再做一次，但希望有一些我想念的简单的东西，这里有更多经验的人可以帮助我。

**编辑：**回答我使用 ID 键入变量，需要改为名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T21:24:32.147

对此修复感兴趣的人的答案。

表单生成的 $_POST 和 $_GET 值使用名称而不是 id。

在这种情况下，您必须使用bike_model_ext 而不是model_ext。

亲切的问候，

# python - 全局名称“加入”未定义 django

> ID：14868763
> 
> 赞同：1
> 
> 时间：2013-02-14T06:08:32.713
> 
> 标签：python, django

我正在使用以下

```
clear= join(('string', seed ,'Aviesta')); 
```

它给了我错误：未定义全局名称“加入”。请帮助！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T06:10:30.430

`join`是一个`str`方法，你需要在一个`str`实例上调用它：

```
In [31]: str.join??
Type:       method_descriptor
String Form:<method 'join' of 'str' objects>
Namespace:  Python builtin
Docstring:
S.join(iterable) -> string

Return a string which is the concatenation of the strings in the
iterable.  The separator between elements is S. 
```

* * *

```
In [32]: ''.join(('string', 'seed' ,'Aviesta'))
Out[32]: 'stringseedAviesta'

In [33]: '_'.join(('string', 'seed' ,'Aviesta'))
Out[33]: 'string_seed_Aviesta' 
```

# mysql - 称为并行的存储过程按顺序返回结果

> ID：14868765
> 
> 赞同：0
> 
> 时间：2013-02-14T06:08:44.430
> 
> 标签：mysql, database, stored-procedures

我们用MYSQL写了存储过程

如果从一个线程调用存储过程，则需要 2.5 秒才能返回结果

如果从 3 个线程调用存储过程，则返回结果大约需要 8.5 秒。每个线程都花费几乎相同的时间。

我们正在使用 MyISM，如果我们需要对并行执行的过程进行任何设置，请告诉我。我们只在存储过程中检索（选择）没有更新/插入完成

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:34:53.833

增加从 MySQL 中提取数据的线程数不一定会增加吞吐量。您在多个线程中执行相同的查询，这增加了上下文切换的开销。

要利用线程，您需要利用空闲时间（真正的空闲时间），例如输入/输出/网络延迟。例子：

*   一个线程从 MySQL 中提取一些数据并开始处理，比如通过接口发送通知。如果该接口是同步的，则线程被卡住。
*   让更多线程为您完成这项工作，即从 DB(Idle) 中提取数据并进行处理。

没有这种延迟/空闲线程只会产生 IMO 开销。

# android - Android card.io sdk 显示此设备无法使用相机读取卡号

> ID：14868766
> 
> 赞同：2
> 
> 时间：2013-02-14T06:08:49.140
> 
> 标签：android, card.io

我正在开发一个 android 应用程序，该应用程序可以通过信用卡付款，因为我正在使用适用于 android 的**CARD.IO SDK**。

我已经在我的代码中集成了 card.io sdk，但是当我启动应用程序时，它不允许我扫描任何卡。它显示一条消息**，此设备无法使用相机读取卡号**

这是我的代码：

包 org.my.scan 示例；

```
import io.card.payment.CardIOActivity;
import io.card.payment.CreditCard;
import org.my.scanExample.R;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

public class MyScanActivity extends Activity
{
    // You MUST register with card.io to get an app token. Go to https://card.io/apps/new/
    private static final String MY_CARDIO_APP_TOKEN = "app_id";
    private View v;
    final String TAG = getClass().getName();

    private Button scanButton;
    private TextView resultTextView;

    private int MY_SCAN_REQUEST_CODE = 100; // arbitrary int

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        resultTextView = (TextView)findViewById(R.id.resultTextView);
        scanButton = (Button)findViewById(R.id.scanButton);
    }

    @Override
    protected void onResume() {
        super.onResume();

        resultTextView.setText("card.io library version: " + CardIOActivity.sdkVersion() + "\nBuilt: " + CardIOActivity.sdkBuildDate());

        if (CardIOActivity.canReadCardWithCamera(this)) {
            scanButton.setText("Scan a credit card with card.io");
        }
        else {
            scanButton.setText("Enter credit card information");
            onScanPress(v);
        }
    }

    public void onScanPress(View v) {
        // This method is set up as an onClick handler in the layout xml
        // e.g. android:onClick="onScanPress"

        Intent scanIntent = new Intent(this, CardIOActivity.class);

        // required for authentication with card.io
        scanIntent.putExtra(CardIOActivity.EXTRA_APP_TOKEN, MY_CARDIO_APP_TOKEN);

        // customize these values to suit your needs.
        scanIntent.putExtra(CardIOActivity.EXTRA_REQUIRE_EXPIRY, true); // default: true
        scanIntent.putExtra(CardIOActivity.EXTRA_REQUIRE_CVV, false); // default: false
        scanIntent.putExtra(CardIOActivity.EXTRA_REQUIRE_ZIP, false); // default: false

        // hides the manual entry button
        // if set, developers should provide their own manual entry mechanism in the app
        scanIntent.putExtra(CardIOActivity.EXTRA_SUPPRESS_MANUAL_ENTRY, false); // default: false

        // MY_SCAN_REQUEST_CODE is arbitrary and is only used within this activity.
        startActivityForResult(scanIntent, MY_SCAN_REQUEST_CODE);
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

        String resultStr;
        if (data != null && data.hasExtra(CardIOActivity.EXTRA_SCAN_RESULT)) {
            CreditCard scanResult = data.getParcelableExtra(CardIOActivity.EXTRA_SCAN_RESULT);

            // Never log a raw card number. Avoid displaying it, but if necessary use getFormattedCardNumber()
            resultStr = "Card Number: " + scanResult.getRedactedCardNumber() + "\n";

            // Do something with the raw number, e.g.:
            // myService.setCardNumber( scanResult.cardNumber );

            if (scanResult.isExpiryValid()) {
                resultStr += "Expiration Date: " + scanResult.expiryMonth + "/" + scanResult.expiryYear + "\n"; 
            }

            if (scanResult.cvv != null) { 
                // Never log or display a CVV
                resultStr += "CVV has " + scanResult.cvv.length() + " digits.\n";
            }

            if (scanResult.zip != null) {
                resultStr += "Zip: " + scanResult.zip + "\n";
            }
        }
        else {
            resultStr = "Scan was canceled.";
        }
        resultTextView.setText(resultStr);
    }
} 
```

例外：

```
Failed to load native library: couldn't load cardIODecider : indLibrary returned null.
-processor type is not supported 
cardIoScanErrorNoDeviceSupport 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-14T20:07:09.193

通常，当本机库不在项目的 libs 目录中时，就会发生这种情况。该结构应如下所示，如果您将 sdk 解压缩到项目目录中，就会发生这种情况。

```
$ ls libs/*
libs/card.io.jar

libs/armeabi:
libcardioDecider.so

libs/armeabi-v7a:
libcardioDecider.so     libcardioRecognizer.so      libcardioRecognizer_tegra2.so   libopencv_core.so       libopencv_imgproc.so

libs/mips:
libcardioDecider.so

libs/x86:
libcardioDecider.so 
```

# php - 唯一标识 MySQL 条目

> ID：14868767
> 
> 赞同：1
> 
> 时间：2013-02-14T06:08:57.777
> 
> 标签：php, mysql

我难住了。这是我的相关代码：

```
while($data = mysql_fetch_array($getdata)){

$myid = $data["myid"]; //unique entry identifier for table rows
$method = $data["method"];
$category = $data["category"];
$company = $data["company"];
$datestarted = $data["datestarted"];
$initialfee = $data["initialfee"];
$ongoingfee = $data["ongoingfee"];

echo "</tr>";
echo "<tr>";
echo "<td class='mymenu' width='14%' height='60px'>";
echo $method;
echo "</td>";
echo "<td class='mymenu' width='20%' height='60px'>";
echo $category;
echo "</td>";
echo "<td class='mymenu' width='20%' height='60px'>";
echo $company;
echo "</td>";
echo "<td class='mymenu' width='12%' height='60px'>";
echo $datestarted;
echo "</td>";
echo "<td class='mymenu' width='12%' height='60px'>";
echo $initialfee;
echo "</td>";
echo "<td class='mymenu' width='12%' height='60px'>";
echo $ongoingfee;
echo "</td>";
echo "<td class='mymenu' width='10%'>";
echo "<input type='submit' name='' class='button' value='Remove'>";
echo "</td>";
} 
```

这里发生的事情是，将显示一个表，并且该表中的每一行都将如上所示。可以有任意数量的条目，但可能在 1-6 的范围内。每个条目的末尾都有一个删除按钮。单击后，用户将被转发到一个页面，然后该条目将从表中删除。我的问题是根据用户单击的“删除”按钮确定用户想要删除的条目。如果行数不是动态的，我可以提前给每个输入按钮一个唯一的名称，这会有所帮助。单击删除按钮后，如何在删除页面上唯一标识需要删除的行？我不能使用会话，因为每次创建新行时会话变量 $myid 都会改变。从数据库中提取不会

我有一个想法，将每个按钮的名称设置为每个唯一的 $myid，这将使唯一的 $myid 成为唯一的 $_POST 变量，该变量将根据按下的按钮移动到删除页面。在删除页面上，我只需将 $myid 设置为等于该帖子变量。但是，即使它是唯一可用的 post 变量，我如何在不知道其名称的情况下在删除页面上将其引用为等于 $myid ？因为我不知道到达删除页面的 $_POST 变量的名称。

答案可能很简单，但无论出于何种原因，今晚我都没有得到答案。

谢谢你的帮助。老实说，不知道没有这个论坛我会怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:12:32.227

为每一行创建一个新表单，其中包含一个隐藏字段，其中包含您要删除的记录的 ID。

```
echo "<form>";
echo "<td class='mymenu' width='10%'>";
echo "<input type='hidden' value='$id'>";
echo "<input type='submit' name='' class='button' value='Remove'>";
echo "</td>";
echo "</form>"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:20:47.317

试试这个@Lock 忘了`"`输入表格。

```
<?php
echo "<form>";
echo "<table><tr>";
echo "<td class='mymenu' width='10%'>";
echo "<input type='hidden' value='$id'>";
echo "<input type='submit' name='' class='button' value='Remove'>";
echo "</td>";
echo "</tr></table>";
echo "</form>";
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:17:20.707

一开始我想说你的`tr`tag不好放，创建一个`form`来解决你的问题

尝试这个：

```
while($data = mysql_fetch_array($getdata)){

    $myid = $data["myid"]; //unique entry identifier for table rows
    $method = $data["method"];
    $category = $data["category"];
    $company = $data["company"];
    $datestarted = $data["datestarted"];
    $initialfee = $data["initialfee"];
    $ongoingfee = $data["ongoingfee"];

    echo "<tr>";
    echo "<td class='mymenu' width='14%' height='60px'>";
    echo $method;
    echo "</td>";
    echo "<td class='mymenu' width='20%' height='60px'>";
    echo $category;
    echo "</td>";
    echo "<td class='mymenu' width='20%' height='60px'>";
    echo $company;
    echo "</td>";
    echo "<td class='mymenu' width='12%' height='60px'>";
    echo $datestarted;
    echo "</td>";
    echo "<td class='mymenu' width='12%' height='60px'>";
    echo $initialfee;
    echo "</td>";
    echo "<td class='mymenu' width='12%' height='60px'>";
    echo $ongoingfee;
    echo "</td>";

    echo "<td class='mymenu' width='10%'>";
    echo "<form>";
    echo "<input type='hidden' value='".$id."'>";
    echo "<input type='submit' name='' class='button' value='Remove'>";
    echo "</form>";
    echo "</td>";

    echo "</tr>";
} 
```

# php - cakephp：通过 postlink 在控制器中获取文本框值

> ID：14868772
> 
> 赞同：0
> 
> 时间：2013-02-14T06:09:22.307
> 
> 标签：php, cakephp, post, cakephp-2.0

我有一个文本框，我希望使用在控制器的文本框中输入的值 - 点击链接（不是表单提交）。所以我假设我必须使用 postlink 提交。但是我如何在 postlink 中获取该文本框的值？以下是我的代码：

```
<?php echo $this->Form->postLink(
            'Get Coords',
            array('action' => 'test', $this->request->data['Rideoffer']['PickFrom'])
            );
        ?> 
```

我得到一个错误`$this->request->data['Rideoffer']['PickFrom']`。data['Rideoffer']['PickFrom'] 是我 cakephp 文本框的名称（我在 firfox 检查元素中看到它）。我如何获得文本框的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:13:39.773

该`FormHelper::postLink`方法无法获取文本框值。该`postLink`方法几乎只是创建了一个`<a>`使用 Javascript 提交隐藏表单的链接元素。这是`postLink`吐出的示例：

```
<form action="/posts/delete/16" name="post_511c870e05d25" id="post_511c870e05d25" style="display:none;" method="post">
<input type="hidden" name="_method" value="POST"/>
</form>
<a href="#" onclick="if (confirm(&#039;Are you sure you want to delete # 16?&#039;)) { document.post_511c870e05d25.submit(); } event.returnValue = false; return false;">Delete</a> 
```

如您所见，当您单击`<a>`元素时，它会提交带有隐藏输入的表单。您可以通过将参数传递给 来更改此输入提交的值`postLink`，但您不能动态获取用户可以修改的文本框的值，并在不做任何额外操作的情况下将其与表单一起提交。

有两个类似的选项（一个稍微更多的 Javascript 重）：

1) 由于您使用的是 Javascript，因此您可以使用 Javascript（或 jQuery）将隐藏输入的值动态更改为用户键入的任何内容。更好的是，您可以这样做，以便 Javascript/jQuery 仅在用户单击链接时更新隐藏的表单输入。`postLink`请注意，甚至不使用该函数并自己完成所有表单内容（或使用 Cake 的 FormHelper）可能会更容易。

2）根本不要使用该`postLink`方法。使用文本框输入创建一个普通表单并模仿`postLink`它的作用。具体来说，您的表单不会有提交按钮。你基本上只是复制它吐出的东西。

```
<form action="test" name="UNIQUE_ID" id="UNIQUE_ID" method="post">
<input type="text" name="data[RideOffer][PickFrom]" value="POST"/>
</form>
<a href="#" onclick="if (confirm(&#039;This will submit the form.&#039;)) { document.UNIQUE_ID.submit(); } event.returnValue = false; return false;">Click</a> 
```

请注意，在上面的示例中，您应该匹配`UNIQUE_ID`为相同的值，并且还必须`style="display:none;"`从`<form>`标签中删除。

# xaml - ListViewItem 选择颜色覆盖

> ID：14868773
> 
> 赞同：2
> 
> 时间：2013-02-14T06:09:23.463
> 
> 标签：xaml, windows-runtime

我需要覆盖 ListViewItem 的预定义样式以使选择不可见。如果我将整个样式复制到我的资源中并进行编辑，我知道该怎么做。但我不敢相信没有比复制整个风格更轻松的方法了。所以我发现默认的 ListViewItem 样式使用以下画笔进行选择：

```
<UserControl.Resources>
    <SolidColorBrush x:Key="ListViewItemPointerOverBackgroundThemeBrush" Color="Yellow" />
    <SolidColorBrush x:Key="ListViewItemSelectedBackgroundThemeBrush" Color="Yellow" />
    <SolidColorBrush x:Key="ListViewItemSelectedForegroundThemeBrush" Color="Yellow" />
    <SolidColorBrush x:Key="ListViewItemSelectedPointerOverBackgroundThemeBrush" Color="Yellow" />
    <SolidColorBrush x:Key="ListViewItemSelectedPointerOverBorderThemeBrush" Color="Yellow" />
</UserControl.Resources> 
```

注意：我已将所有这些画笔放到我的 UserControl 中，并将它们全部设置为黄色。但是我的 UI 中没有任何黄色，唉。所以问题是：如何强制默认模板使用我覆盖的画笔？第二个（可选）问题：也许我做错了，有更好的方法来实现我的目标吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T09:20:06.300

您必须在 App.xaml 文件中覆盖它们，就像这样（至少我是这样做的）：

```
<ResourceDictionary.ThemeDictionaries>
    <ResourceDictionary x:Key="Default">
        <SolidColorBrush x:Key="ListViewItemSelectedPointerOverBorderThemeBrush" Color="Transparent" />
        <SolidColorBrush x:Key="ListViewItemPointerOverBackgroundThemeBrush" Color="Transparent" />
        <SolidColorBrush x:Key="ListViewItemSelectedPointerOverBackgroundThemeBrush" Color="Transparent" />
        <SolidColorBrush x:Key="ListViewItemSelectedBackgroundThemeBrush" Color="Transparent" />
    </ResourceDictionary>
</ResourceDictionary.ThemeDictionaries> 
```

如果您需要更多自定义（在我的情况下 ListView 项目是一些图片），这里有一个非常有用的链接，用于更改默认[颜色控件](http://social.msdn.microsoft.com/Forums/en-CA/winappswithcsharp/thread/957b333f-035f-448e-9f4a-213d1290ee51)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-14T10:29:57.087

正如 Vasile 所说，您需要覆盖画笔，这必须在 App 级别完成，据我所知，如果您只想更改一个控件或在一页上，您将需要对整个控件进行模板化。

如果你好奇，你可以在：C:\Program Files (x86)\Windows Kits\8.0\Include\WinRT\Xaml\Design 下找到所有的画笔

要覆盖您在 App.xaml/resource 字典中添加的列表视图颜色，我在此处添加了一些注释，以便您可以看到哪个画笔做了什么：

![在此处输入图像描述](../Images/65463700a95fcf69fee9760ed2251b77.png)

![在此处输入图像描述](../Images/02e3c9e42628cdfa17bb2c1b2879fa19.png)

```
 <ResourceDictionary x:Key="Default">

             <!--After selection - Background-->
            <SolidColorBrush x:Key="ListViewItemSelectedBackgroundThemeBrush" Color="Yellow"></SolidColorBrush>

             <!--When pointer hovers over an item - Background-->
            <SolidColorBrush x:Key="ListViewItemPointerOverBackgroundThemeBrush" Color="Red"></SolidColorBrush>

             <!--When the item is selected (first few milliseconds) - Background-->
            <SolidColorBrush x:Key="ListViewItemSelectedPointerOverBackgroundThemeBrush" Color="Green"></SolidColorBrush>

             <!--When the item is selected (first few milliseconds) - Border-->
            <SolidColorBrush x:Key="ListViewItemSelectedPointerOverBorderThemeBrush" Color="Black"></SolidColorBrush>

        </ResourceDictionary> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-28T08:35:39.203

在共享 App.xaml 中的 Windows 8.1 通用应用程序中，我使用此代码

```
<Application
    x:Class="XXX.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:XXX">

    <Application.Resources>
        <ResourceDictionary>
            <SolidColorBrush x:Key="ListViewItemPointerOverBackgroundThemeBrush" Color="Transparent" />
        </ResourceDictionary>
    </Application.Resources>
</Application> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T07:15:15.337

我以前一直在尝试类似的事情，但没有运气。我认为您只需要更新整个模板。

# android - 项目单击时的Android操作栏自定义下拉视图

> ID：14868774
> 
> 赞同：16
> 
> 时间：2013-02-14T06:09:30.747
> 
> 标签：android, android-actionbar, android-3.0-honeycomb

我正在为平板电脑编写一个 Android 应用程序。我已经使用操作栏来创建我的图标。但是，当单击其中一个菜单项时，我需要打开一个自定义视图。

我不想要自定义操作栏 - 单击“浏览主题”操作栏项目时，我需要扩展自定义视图。此视图需要显示为下拉菜单，但使用我自己的自定义布局，因为它不会用于导航。

![下拉式菜单](../Images/70e6c48325e7729dce1b2c83b8a84cf1.png)

这是我的 menu.xml

```
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@+id/menu_browse"
        android:title="Browse Subjects"
        android:showAsAction="always"
        android:actionLayout="@layout/action_layout_browse"
        android:actionProviderClass="au.com.pearson.f12catalogue.action_providers.BrowseProvider"
            />
    <item android:id="@+id/menu_settings"
        android:title="Settings"
        android:orderInCategory="100"
        android:showAsAction="never" />
</menu> 
```

我假设 ActionProviderClass 将允许我在单击操作栏项目时实例化自定义视图，但我无法解决 - 也许我走错了路。

对此的任何帮助将**不胜**感激！谢谢！

更新：感谢操作栏样式的链接，但我不想简单地设置下拉样式。我想膨胀一个自定义视图。该视图还将执行数据库查询等。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-18T03:24:14.303

好的，我自己制定了一个解决方案。基本上 actionProviderClass 用于在 actionBar 中实例化一个 actionView。在此类中，您可以将 onClick 侦听器附加到您膨胀的视图。单击时，我使用此侦听器在主框架中填充下拉视图。

例如

```
public class BaseProvider extends ActionProvider {

    protected final Context context;
    protected final int layout;
    protected final BaseProvider self;
    protected View view;
    protected int positionLeft = 0;
    protected Dropdown dropdown;

    public BaseProvider(Context context, int layout, Dropdown dropdown) {
        super(context);
        this.layout = layout;
        this.context = context;
        this.self = this;
        this.dropdown = dropdown;
    }

    @Override
    public View onCreateActionView() {
        LayoutInflater inflater = (LayoutInflater) context.getSystemService( Context.LAYOUT_INFLATER_SERVICE );

        View view = inflater.inflate(this.layout, null);

        view.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                self.onItemClick();
            }
        });
        this.view = view;
        return view;
    }

    public boolean onItemClick(){
        toggleDropdown();
        return true;
    }

    protected void toggleDropdown(){
        this.positionLeft = getRelativeLeft(view);
        DropdownInflater.getInstance().toggleDropdown(this.dropdown,this.positionLeft);
    }

    protected int getRelativeLeft(View view) {
        int[] loc = new int[2];
        view.getLocationOnScreen(loc);
        return loc[0];
    }
} 
```

# java - 使用 bufferedreader 读取 pdf 文件并写入 bytearrayoutputstream

> ID：14868775
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:09:38.313
> 
> 标签：java

如何读取 PDF 文件并将其写入`ByteArrayOutputStream`?

```
 /*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package javaapplication1;

import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileInputStream;
import net.sf.json.JSONObject;
import org.apache.commons.codec.binary.Base64;

public class NewClass2 {
    public static void main(String[] args) {
        try {
            File pdfFile = new File("C:\\Users\\311001\\Documents\\NetBeansProjects\\JavaApplication1\\src\\javaapplication1\\image\\test_01.pdf");
            FileInputStream input = new FileInputStream(pdfFile);
            ByteArrayOutputStream output = new ByteArrayOutputStream();
            byte[] buffer = new byte[65536];
            int l;
            while ((l = input.read(buffer)) > 0) {
                output.write(buffer, 0, l);
            }
            input.close();
            byte[] pdfBytes = output.toByteArray();
            String pdfInString = new String(Base64.encodeBase64(pdfBytes));
            JSONObject json1 = new JSONObject();
            json1.put("command", pdfInString);
            System.out.println(json1);
        } catch (Exception e) {
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:12:28.003

```
FileInputStream input = new FileInputStream (pdfFile);
ByteArrayOutputStream output = new ByteArrayOutputStream ();
byte [] buffer = new byte [65536];
int l;
while ((l = input.read (buffer)) > 0)
    output.write (buffer, 0, l);
input.close ();
byte [] pdfBytes = output.toByteArray (); 
```

# java - 外国语法 - 需要帮助理解

> ID：14868776
> 
> 赞同：0
> 
> 时间：2013-02-14T06:09:37.393
> 
> 标签：java, syntax, programming-languages

所以我已经编程了几年了，所以我并不是真正的新手——但我刚刚开始学习 Java（从 C++ 开始）。在学习一个库并查看它的示例（如果你必须知道的话，jMonkeyEngine3）时，我遇到了我似乎无法找到任何文档的外国语法。

这是代码（所有这些都在一个类的范围内）：

```
/** Custom Keybinding: Map named actions to inputs. */
private void initKeys() {
  // You can map one or several inputs to one named action
  inputManager.addMapping("Pause",  new KeyTrigger(KeyInput.KEY_P));
  inputManager.addMapping("Left",   new KeyTrigger(KeyInput.KEY_J));
  inputManager.addMapping("Right",  new KeyTrigger(KeyInput.KEY_K));
  inputManager.addMapping("Rotate", new KeyTrigger(KeyInput.KEY_SPACE),
                                    new MouseButtonTrigger(MouseInput.BUTTON_LEFT));
  // Add the names to the action listener.
  inputManager.addListener(actionListener, new String[]{"Pause"});
  inputManager.addListener(analogListener, new String[]{"Left", "Right", "Rotate"});

}

private ActionListener actionListener = new ActionListener() {
  public void onAction(String name, boolean keyPressed, float tpf) {
    if (name.equals("Pause") && !keyPressed) {
      isRunning = !isRunning;
    }
  }
}; 
```

我猜测定义部分 (15) 使用类中的默认构造函数创建了一个具有名为 actionListener 的私有作用域的 ActionListener 对象 - 然后覆盖/实现本身的 onAction 方法。然后在它的实现（11）中它只是引用这个创建的对象？那会是正确的吗？

非常感谢您的澄清。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:26:19.143

> 我猜定义部分 (15) 创建了一个 ActionListener 的对象

这种语法就是所谓的[匿名内部类](http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html)。在 JDK 8 出现之前，它与 Java 中的闭包或 lambda 表达式一样接近。您基本上是在动态创建一个新类。这实际上就像你说的一样：

```
private ActionListener actionListener = new MyActionListener();

class MyActionListener implements ActionListener {
    public void onAction(String name, boolean keyPressed, float tpf) {
        if (name.equals("Pause") && !keyPressed) {
            isRunning = !isRunning;
        }
    }
} 
```

另一种方式只是使用更少的行。

> 具有私有范围

对象并不完全是私有的。私有只是保存对对象的引用的字段的可见性。物体本身可以像任何物体一样被传递到任何地方。

> 名为 actionListener

这是包含对创建的 ActionListener 的引用的字段的名称。

> 在类中使用默认构造函数

实际上，ActionListener 是一个接口，因此没有构造函数。即使是匿名内部类在技术上也没有默认构造函数。相反，它有一个[“匿名构造函数”](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9.5.1)。

# javascript - CoffeeScript onbeforeunload 响应函数不是字符串

> ID：14868782
> 
> 赞同：1
> 
> 时间：2013-02-14T06:09:56.210
> 
> 标签：javascript, browser, coffeescript, onbeforeunload

如果他们在重新加载当前页面之前有任何未保存的电子邮件，我会尝试提示使用。未保存的电子邮件存储在称为未保存的哈希中。我在 CoffeeScript 中编写了脚本。

如果我使用此代码

```
 window.onbeforeunload = () ->
    return "Your emails are not saved.  Click \"Save Email\" on any email to save them all.  If you would like to discard your emails, just leave this page"  if unsaved.count > 0 
```

而不是用我收到的消息提示我：

```
function ( data, fn ) {
        return arguments.length > 0 ?
            this.on( name, null, data, fn ) :
            this.trigger( name );
    }

Are you sure you want to reload this page? 
```

CoffeeScript 被翻译为：

```
window.onbeforeunload = function() {
  if (unsaved.count > 0) {
    return "Your emails are not saved.  Click \"Save Email\" on any email to save them all.  If you would like to discard your emails, just leave this page";
  }
}; 
```

我应该如何让 CoffeeScript 返回字符串而不是函数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:14:29.167

这与 CoffeeScript 无关。该属性`window.onbeforeunload`需要一个字符串或 void 从您的函数返回值，但如果`unsaved.count <= 0`您要返回其他内容：

```
return $("form.edit_email_template").first().submit; 
```

因为返回值是非空的，它会尝试将`submit`函数转换为字符串。老实说，我不确定 CoffeeScript 生成该部分的原因，因为它似乎没有出现在原始脚本中。

也就是说，`void`如果您不想看到对话框，则应该返回：

```
if (unsaved.count > 0) {
    return 'your emails are not saved.';
} else if (window.onbeforeunload) {
    $("form.edit_email_template").first().submit();
} 
```

# google-app-engine - 谷歌应用引擎：哪个解决了竞态条件？交易还是比较和设置？

> ID：14868786
> 
> 赞同：2
> 
> 时间：2013-02-14T06:10:12.383
> 
> 标签：google-app-engine, concurrency, race-condition

在使用 Python 的 Google App Engine 上，我正在寻找竞争条件问题的解决方案，即多个用户试图同时增加某个计数器。我找到了其中两个：[transactions中描述的 increment_counter() 和](https://developers.google.com/appengine/docs/python/datastore/transactions)[compare-and-set](https://developers.google.com/appengine/docs/python/memcache/overview)中的 bump_counter() 。我的问题：1）他们都完全解决了比赛条件问题吗？2）如果是这样，哪个更好？

另外，是否有人可以详细说明它们中的每一个，因为我看不到代码如何解决问题。例如，1）在increment_counter()事务期间，如果另一个用户更新了计数器，事务会失败吗？2）同样，在比较和设置的bump_counter（）期间，如果另一个用户更新计数器，client.cas（）会失败吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:54:15.910

1.  是的，它们都**可以**消除竞争条件。

2.  第一个是使用数据存储，第二个是 memcache。所以他们不能相提并论。Memcache 是易失性的，可以随时清除 - 您不应该使用它来存储永久数据。所以在这方面数据存储事务更好。此外，事务可以确保一组实体的原子性，而 compare_and_set 仅确保一个内存缓存值的原子性。

3.  事务不做阻塞。如果他们检测到碰撞，他们就会失败，您需要将其回滚并自己再次重复。

4.  memcache 同上：您需要自己重复该过程。

# android - 如何将我的 Android 数据库放到某个“中央服务器”上？

> ID：14868787
> 
> 赞同：-2
> 
> 时间：2013-02-14T06:10:22.660
> 
> 标签：android, webserver, hosting, android-sqlite

我实际上是软件开发的新手，在这里需要详细的指导。我刚刚用**SQLite-Database开发了一个 android 应用程序**

现在当我完成这个应用程序时，数据库的数据量变得非常大。所以现在我想把这些数据放到某个**中央服务器上**

> **我该怎么办？？**

和

> **是否有任何其他可行的解决方案在财务和功能上会更好（意味着更好的性能）？**
> 
> **我的 SQLite 数据库代码会不会改变？？？**

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:13:35.337

将您的数据放在服务器上，但不要直接访问它。相反，编写一个 Web 服务，您可以从您的应用程序中查询它，并将必要的结果返回给您。

与尝试将原始应用程序连接到数据库相比，这将更易于维护和更安全地访问您的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-21T12:51:02.010

您可以使用 Google App Engine 并使用 Google Cloud Messaging 从云端发送接收数据...看看这里： [https ://developers.google.com/eclipse/docs/endpoints-androidconnected-gae](https://developers.google.com/eclipse/docs/endpoints-androidconnected-gae)

# scala - 如何绕过这个 scala 编译器擦除警告？

> ID：14868792
> 
> 赞同：0
> 
> 时间：2013-02-14T06:10:37.830
> 
> 标签：scala

我正在尝试编译此 scala 代码并收到以下编译器警告。

```
scala> val props: Map[String, _] = 
 |   x match {
 |     case t: Tuple2[String, _] => {
 |       val prop =
 |       t._2 match {
 |         case f: Function[_, _] => "hello"
 |         case s:Some[Function[_, _]] => "world"
 |         case _ => t._2
 |       }
 |     Map(t._1 -> prop)
 |   }
 |   case _ => null
 | }
<console>:10: warning: non-variable type argument String in type pattern (String, _) is unchecked since it is eliminated by erasure
       case t: Tuple2[String, _] => {
               ^
<console>:14: warning: non-variable type argument _ => _ in type pattern Some[_ => _] is unchecked since it is eliminated by erasure
           case s:Some[Function[_, _]] => "world"
                  ^ 
```

[关于如何在 Scala 上解决类型擦除](https://stackoverflow.com/questions/1094173/how-do-i-get-around-type-erasure-on-scala-or-why-cant-i-get-the-type-paramet)问题给出的答案？[或者，为什么我不能获取我的集合的类型参数？](https://stackoverflow.com/questions/1094173/how-do-i-get-around-type-erasure-on-scala-or-why-cant-i-get-the-type-paramet)似乎指向了同样的问题。但我无法在这种特定情况下推断出解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T06:56:11.257

使用`case t @ (_: String, _)`代替`case t: Tuple2[String, _]`和`case s @ Some(_: Function[_, _])`代替`case s:Some[Function[_, _]]`。

Scala 不能`match`使用类型参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:29:45.000

我会这样重写它：

```
x match {
  case (name, method) => {
    val prop =
      method match {
        case f: Function[_, _] => "hello"
        case Some(f: Function[_, _]) => "world"
        case other => other
      }

    Map(name -> prop)
  }
  case _ => null
} 
```

# sql-server-2008 - VBA ADO“无效的对象名称”错误；没有错误 SQL Server Management Studio

> ID：14868798
> 
> 赞同：1
> 
> 时间：2013-02-14T06:11:37.933
> 
> 标签：sql-server-2008, excel, ado, vba

我在 SQL Server 2008 中创建了一个函数。

我可以在 SSMS 中运行这两个语句而不会出错：

```
SELECT * FROM myFunction(myParam1,'myParam2');
SELECT * FROM dbo.myFunction(myParam,'myParam2'); 
```

但是在 VBA 中，这在执行查询时会在“myFunction”上给出“无效对象”错误：

```
Set db = New adodb.Connection
db.Open "Provider=SQLNCLI10;Data Source=aaaaa;Initial Catalog=db_ferm;Trusted_Connection=yes;"

Sql = "SELECT * FROM myFunction(" & theParam & ",'" & theParam2 & "') "
Set GetReport = db.Execute(Sql) 
```

这些“无效的对象名称”错误今天突然开始出现。即使现在在 SSMS 中，我偶尔也会得到它们，并且必须重置 Intellisense 缓存。

想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:23:47.177

菜鸟短信错误！

当我在 SMSS 中创建函数时，我在数据库下拉菜单中选择了“master”（不确定是如何发生的），并且针对该函数的所有 SMSS 查询测试都是在“master”中完成的。我的 ADO 连接字符串指向另一个数据库。所以找不到这个功能。

# c# - 使用ftp c#高效地异步上传多个文件

> ID：14868802
> 
> 赞同：2
> 
> 时间：2013-02-14T06:11:57.050
> 
> 标签：c#, optimization, asynchronous, ftp

我有这样的场景

```
while ( until toUpload list empty)
{
   create ftp folder (list.item);

   if (upload using ftp (list.item.fileName))
   {
     update Uploaded list that successfully updated;
   }
}

update database using Uploaded list; 
```

这里我使用同步方法在这个循环中上传文件。我有一个要求优化这个上传。我发现这篇文章[如何提高 FtpWebRequest 的性能？](https://stackoverflow.com/questions/1016690/how-to-improve-the-performance-of-ftpwebrequest?answertab=votes#tab-top)并按照他们提供的说明进行操作。因此我达到了 2000 秒到 1000 秒的时间。然后我开始使用异步上传，如 msdn 中的此示例所示。[http://msdn.microsoft.com/en-us/library/system.net.ftpwebrequest(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/system.net.ftpwebrequest(v=vs.90).aspx)。我改变了方法

```
if (upload using ftp (list.item.fileName)) 
```

至

```
if (aync upload using ftp (list.item.fileName)) 
```

但事情变得更糟了。时间变成1000s到4000s。

我必须将许多文件上传到我的 ftp 服务器。因此最好的方法应该是（猜测）异步的。有人帮助我如何以正确的方式做到这一点。我无法找到如何正确使用上面的 msdn 示例代码。

我的代码 - 同步（删除异常处理以节省空间）：

```
public bool UploadFtpFile(string folderName, string fileName)
{     
  try
  {
    string absoluteFileName = Path.GetFileName(fileName);           

    var request = WebRequest.Create(new Uri(
      String.Format(@"ftp://{0}/{1}/{2}",
         this.FtpServer, folderName, absoluteFileName))) as FtpWebRequest;
    request.Method = WebRequestMethods.Ftp.UploadFile;
    request.UseBinary = true;
    request.UsePassive = true;
    request.KeepAlive = true;
    request.Credentials = this.GetCredentials();
    request.ConnectionGroupName = this.ConnectionGroupName; 
    request.ServicePoint.ConnectionLimit = 8; 

    using (FileStream fs = File.OpenRead(fileName))
    {
      byte[] buffer = new byte[fs.Length];
      fs.Read(buffer, 0, buffer.Length);
      fs.Close();
      using(var requestStream = request.GetRequestStream())
      {
        requestStream.Write(buffer, 0, buffer.Length);
      }
    }

    using (var response = (FtpWebResponse)request.GetResponse())
    {
        return true;
    }
  }
  catch // real code catches correct exceptions
  {
     return false;  
  }
} 
```

异步方法

```
public bool UploadFtpFile(string folderName, string fileName)
{     
  try 
  {
    //this methods is exact method provide in msdn example mail method
    AsyncUploadFtp(String.Format(@"ftp://{0}/{1}/{2}", 
      this.FtpServer, folderName, Path.GetFileName(fileName)), fileName);

    return true;
  }
  catch // real code catches correct exceptions
  {
     return false;  
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-11T08:45:14.380

您是否尝试在`foreach`循环中使用它？

```
Task.Factory.StartNew(() => UploadFtpFile(folderName, filename)); 
```

# java - Writing Main method issue. Java GUI Lists

> ID：14868806
> 
> 赞同：1
> 
> 时间：2013-02-14T06:12:30.367
> 
> 标签：java, swing, list, user-interface, main

I can't figure out how to write a code for the main method, so that I would be able to store the selections of Months made by user in the String[] stringValues. This is my class MultipleIntervalSelection:

```
package february;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class MultipleIntervalSelection extends JFrame
{
   private JList monthList;           // List of months
   private JList selectedMonthList;   // Selected months
   private JButton button;            // To get selected items
   private JPanel monthPanel;         // To hold components
   private JPanel selectedMonthPanel; // To hold components
   private JPanel buttonPanel;        // To hold the button

   // The following array holds the values that will be
   // displayed in the monthList list component.
   private String[] months = { "January", "February", "March",
            "April", "May", "June", "July", "August",
            "September", "October", "November", "December" };
   /**
    *  Constructor
    */
   public MultipleIntervalSelection()
   {
      // Call the JFrame constructor.
      super("List Demo");

      // Specify an action for the close button.
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

      // Create a BorderLayout manager for the content pane.
      setLayout(new BorderLayout());

      // Build the panels.
      buildMonthPanel();
      buildSelectedMonthsPanel();
      buildButtonPanel();

      // Add the panels to the content pane.
      add(monthPanel, BorderLayout.NORTH);
      add(selectedMonthPanel, BorderLayout.CENTER);
      add(buttonPanel, BorderLayout.SOUTH);

      // Pack and display the window.
      pack();
      setVisible(true);
   }

   /**
    *  The buildMonthPanel method adds a list containing the
    *  names of the months to a panel.
    */

   private void buildMonthPanel()
   {
      // Create a panel to hold the list.
      monthPanel = new JPanel();

      // Create the list.
      monthList = new JList(months);

      // Set the list to multiple interval selection mode.
      monthList.setSelectionMode(
          ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);

      // Set the number of visible rows to 6.
      monthList.setVisibleRowCount(6);

      // Add the list to a scroll pane.
      JScrollPane monthListScrollPane = 
                         new JScrollPane(monthList);

      // Add the scroll pane to the panel.
      monthPanel.add(monthListScrollPane);
   }

   /**
    *  The buildSelectedMonthsPanel method adds a list to
    *  a panel. This will hold the selected months.
    */

   private void buildSelectedMonthsPanel()
   {
      // Create a panel to hold the list.
      selectedMonthPanel = new JPanel();

      // Create the list.
      selectedMonthList = new JList();

      // Set the number of visible rows to 6.
      selectedMonthList.setVisibleRowCount(6);

      // Add the list to a scroll pane.
      JScrollPane selectedMonthScrollPane =
                     new JScrollPane(selectedMonthList);

      // Add the scroll pane to the panel.
      selectedMonthPanel.add(selectedMonthScrollPane);
   }

   /**
    *  The buildButtonPanel method adds a button to a panel.
    */

   private void buildButtonPanel()
   {
      // Create a panel to hold the button.
      buttonPanel = new JPanel();

      // Create the button.
      button = new JButton("Get Selections");

      // Add an action listener to the button.
      button.addActionListener(new ButtonListener());

      // Add the button to the panel.
      buttonPanel.add(button);
   }

   /**
    *  Private inner class that handles the event when
    *  the user clicks the "Get Selections" button.
    */

   private class ButtonListener implements ActionListener
   {
      public void actionPerformed(ActionEvent e)
      {
         // Get all the items that were selected. 
         Object[] selections = monthList.getSelectedValues();

         // Display the items in selectedMonthList.
         selectedMonthList.setListData(selections);
      }

 private void getValues()
   {
      Object months;
      months  =  monthList.getSelectedValues();
      return months;
     }
   }
 } 
```

The following is my main class:

```
package february;

public class Alert { 

    public static void main(String[] args)  {
        MultipleIntervalSelection monthsInterval = new MultipleIntervalSelection();
        monthsInterval.setVisible(true);
         Object months = monthsInterval.getValues();
         String[] stringValues = (String[])months;
         System.out.println(stringValues);
    }
} 
```

The main method would execute, but there is no result in the console. I need the names (String values) of the months that were chosen by the user be saved in my String[] stringValues. Please, anybody, help mest

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T09:53:25.920

You have two options. Instead of using a `JFrame` you could use a `JDialog`.

A modal dialog will stop your programs execution at the the point it is made visible until it is closed.

![Dialog](../Images/bbe7848671c0de44a84fcece9098069c.png)

The other option is to use `JOptionPane`, which is significantly simpler...

![JOptionPane](../Images/c886b7785d1d351a2034232640a501e9.png)

```
public class TestOption {

    public static void main(String[] args) {
        new TestOption();
    }

    public TestOption() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                DialogPane dialogPane = new DialogPane();
                JDialog dialog = new JDialog((Frame) null, "Testing", true);
                dialog.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
                dialog.setLayout(new BorderLayout());
                dialog.add(dialogPane);
                dialog.pack();
                dialog.setLocationRelativeTo(null);
                dialog.setVisible(true);

                List<String> values = dialogPane.getValues();

                MultipleIntervalSelection options = new MultipleIntervalSelection();
                int result = JOptionPane.showConfirmDialog(null, options, "Options", JOptionPane.OK_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);
                if (result == JOptionPane.OK_OPTION) {
                    values = options.getValues();
                }
            }
        });
    }

    public class DialogPane extends JPanel {

        private MultipleIntervalSelection options;
        private boolean okay = false;

        public DialogPane() {

            setLayout(new BorderLayout());

            options = new MultipleIntervalSelection();
            add(options);

            JButton btnOkay = new JButton("Okay");
            JButton btnCancel = new JButton("Cancel");

            JPanel actions = new JPanel();
            actions.add(btnOkay);
            actions.add(btnCancel);

            add(actions, BorderLayout.SOUTH);

            btnOkay.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    okay = true;
                    dispose();
                }

            });
            btnCancel.addActionListener(new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    okay = false;
                    dispose();
                }

            });

        }

        protected void dispose() {
            SwingUtilities.getWindowAncestor(this).dispose();
        }

        public List<String> getValues() {

            return options.getValues();

        }

    }

    public class MultipleIntervalSelection extends JPanel {

        private JList monthList;           // List of months
        private JList selectedMonthList;   // Selected months
        private JPanel monthPanel;         // To hold components
        private String[] months = {"January", "February", "March",
                                                             "April", "May", "June", "July", "August",
                                                             "September", "October", "November", "December"};

        /**
         * Constructor
         */
        public MultipleIntervalSelection() {
            // Create a BorderLayout manager for the content pane.
            setLayout(new BorderLayout());

            // Build the panels.
            buildMonthPanel();

            // Add the panels to the content pane.
            add(monthPanel, BorderLayout.NORTH);
        }

        /**
         * The buildMonthPanel method adds a list containing the names of the months
         * to a panel.
         */
        private void buildMonthPanel() {
            // Create a panel to hold the list.
            monthPanel = new JPanel(new BorderLayout());

            // Create the list.
            monthList = new JList(months);

            // Set the list to multiple interval selection mode.
            monthList.setSelectionMode(
                            ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);

            // Set the number of visible rows to 6.
            monthList.setVisibleRowCount(6);

            // Add the list to a scroll pane.
            JScrollPane monthListScrollPane =
                            new JScrollPane(monthList);

            // Add the scroll pane to the panel.
            monthPanel.add(monthListScrollPane);
        }

        public List<String> getValues() {
            List<String> months;
            months = monthList.getSelectedValuesList();
            return months;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T17:45:16.250

JDialog is helpful, but you can use JFrame either. Here is the code I wrote for you:

```
 @SuppressWarnings("serial")
    public class Window extends JFrame {

        // Fields
        // specify here all private fields that you want in you application like JLabels etc...
        private JList monthsList;
        private String[] months = {"January", "February", "March" , "April", "May", "June", "July", "August", "September", "October", "November", "December"};

        // no args constructor
        public Window() {
            createUI();
        }
        @SuppressWarnings({ "unchecked", "rawtypes" })
        private void createUI() {
            Container contentPane = getContentPane();
            contentPane.setLayout(null);

            // Months Selection
            monthList = new JList(months);
            monthList.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
            monthList.setVisibleRowCount(5);
            monthList.setBounds(400, 16, 100, 50);
            JScrollPane monthScroll = new JScrollPane(monthsList);
            monthScroll.setBounds(180, 16, 135, 400);
            contentPane.add(monthsScroll);

            // set the content Pane window
            setTitle("Months");
            setSize(100,100);
            setVisible(true);

            }

        public void buttonActionPerformed(ActionEvent event) {

            this.buttonPressed = true;

            @SuppressWarnings("deprecation")
            Object[] monthObjects = monthsList.getSelectedValues();
            this.monthsSelected = Arrays.copyOf(monthObjects,monthObjects.length, String[].class);

            }

        // Method to diagnose Start button clicked to use in the Main
        public boolean VerifyButtonPressed() {

            return buttonPressed == true ? true : false;

        }

        // Methods to set the user specified value to the CurrentInput class fields

        public String[] getMonthsSelected() {
            return monthsSelected;
        }

    } 
```

Also, create a main class that will use the "public boolean VerifyButtonPressed()". This is the easiest way you can do the same work without JDialog.

# javascript - 如何通过actionLink调用javascript函数

> ID：14868813
> 
> 赞同：0
> 
> 时间：2013-02-14T06:12:54.427
> 
> 标签：javascript, asp.net-mvc-3

我无法通过asp.net mvc submitForm() 中的actionlink 按钮调用javascript 函数是我的函数我的代码是-：

```
 <script type="text/javascript">
        function submitForm(state) {

           if (state != "") {
                var ele = document.frmuser.elements;
                var strvalue = "";

                for (var i = 0; i < ele.length; i++) {

                    if (ele[i].type == "checkbox") {
                        if (ele[i].name == "chkactive[]") {
                            if (ele[i].checked == true) {
                                //var a = ele[i].value; alert(a);
                                if (strvalue != "")
                                    strvalue = strvalue + "," + ele[i].value;
                                else
                                    strvalue = ele[i].value;

                            }
                        }
                    }
                }
                alert(strvalue);
                    if(strvalue != "" && state !="")
                    {
                        //alert(strvalue);
                        if (state == "active") {
                            location.href = '<%=Url.Action("Deletechkuser")%>' + '/' + $('select[name=chkactive[]]').val();
                        }
                        if(state == "deactive")
                        {
                            location.href = '<%: Url.Action("Deletechkuser", "Home" )%>doctors/updateStatus/' + strvalue + '/is_active/N/' + document.getElementById('hdcurpage').value + '/' + document.getElementById('hdsortkey').value + '/' + document.getElementById('hdsortdir').value;
                        }
                        if(state == "delete")
                        {
                            location.href = '<%: Url.Action("Deletechkuser", "Home" )%>' + strvalue + '/is_deleted/Y/' + document.getElementById('hdcurpage').value + '/' + document.getElementById('hdsortkey').value + '/' + document.getElementById('hdsortdir').value;
                        }
                    }
                    else
                        {
                        alert('Please Select Atleast One Record');
                        document.getElementById("actions").options[0].selected=true;        
                        }
            }
        }
    </script> 
```

上面的代码是我的javascript函数，现在我想传递所有在strvalue中计数的选择值进入控制器我是什么我不知道，我无法`submitForm()`在按钮单击时调用函数

我的按钮代码是-：

```
<button class="deletebutton radius3"  id="delete" onclick="location.href='<%: Url.Action("Deletechkuser", "Home", new { id= submitForm(this.id);} )%>'">
          delete</button> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:40:08.270

我无法得到这条线：

*我想传递所有在strvalue中计数的选择值进入控制器我是什么我不知道*

如果您要在单击 ActionLink 时调用该`javascript`函数，您应该订阅该`onclick`事件。

```
@Html.ActionLink("Link Text","ActionName","ControllerName",new { @onclick="MyFunction();" },null) 
```

这是脚本：

```
<script type="text/javascript">
    function MyFunction(){
        //Do something
        alert('Hello world');
    }
</script> 
```

希望能帮助到你。

# c - storing original index in an array

> ID：14868816
> 
> 赞同：2
> 
> 时间：2013-02-14T06:13:06.247
> 
> 标签：c, arrays, merge

I am trying to perform a mergesort without actually rearranging the array. Let me explain a little better. Say I have an array:

```
3
5
6
7
0
4
1
2 
```

If 5 (currently at index 1) gets moved to index 6 for example I need my program to remember the index of where 5 was originally stored. How can I remember the original index?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:28:25.530

Make a parallel array of pointers to the original array. Sort the pointers, not the originals. Your index positions remain unchanged, and you now have a sorted "view" of the array.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:23:17.063

What you can do is use a structure for every element, and make an array of those structure objects. For example-

```
typedef struct
{
  int val;
  int index;
}element; 
```

Loop through the array, fill the *val* field with the value and the other with the original position.

When sorting, you compare on the *val* field, and leave the *index* intact. So now you have the original position, and the array can also be sorted.

# ios - 没有在自定义单元格标签内的 UIbutton 中执行操作

> ID：14868820
> 
> 赞同：1
> 
> 时间：2013-02-14T06:13:30.783
> 
> 标签：ios, uitableview, uibutton

我有以下设置：我有 UITableView，我在其中设置自定义单元格，称为 PBDetailsCell。

PBDetailsCell 包含 2 个标签：LeftLabel 和 RightLabel。我在右侧标签内设置了一个按钮，当在 PBDetailsCell 的右侧标签中按下该按钮时，我希望它调用在 UITableView 中设置的 buttonPressed: 方法。

我目前正在编写此代码，但似乎 buttonPressed 没有被调用...

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath

{    PBDetailsCell *cell = (PBDetailsCell *) [tableView dequeueReusableCellWithIdentifier:[PBDetailsCell reuseIdentifier]];
if(cell==nil){
    [[NSBundle mainBundle] loadNibNamed:@"PBDetailsCell" owner:self options:nil];
    cell=_detailCell;
    _detailCell=nil;
}

    cell.leftLabel.text = @"  Action";

    UIImage* img = [UIImage imageNamed:@"action.png"];
    UIButton* but = [[UIButton alloc] initWithFrame:CGRectMake(0, 5, cell.rightLabel.frame.size.width-20, cell.rightLabel.frame.size.height-10)];
    [but addTarget:self action:@selector(btnPressed:) forControlEvents: UIControlEventTouchUpInside];
    [but setImage:img forState:UIControlStateNormal];

    [cell.rightLabel addSubview:but];
} 
- (void)btnPressed:(id)sender
{ NSLog(@"Button pressed");} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:16:45.267

替换此行

```
[but addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchDown]; 
```

和

```
[but addTarget:self action:@selector(btnPressed:) forControlEvents:UIControlEventTouchUpInside]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:27:39.867

试试这个

为标签和按钮设置`setUserInteractionEnabled`为`yes`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:19:01.393

如果您使用的是自定义单元格，则使用 UITableCell 中的静态按钮并在 xib 中添加按钮和标签并连接按钮的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:24:27.243

事件必须是`UIControlEventTouchUpInside`。还尝试将单元格选择样式设置为`None`. 可能是细胞受到影响。

`cell.selectionStyle = UITableViewCellSelectionStyleNone`

# nginx - 配置 nginx 以访问 index 和 spec_runner 页面

> ID：14868825
> 
> 赞同：1
> 
> 时间：2013-02-14T06:14:17.297
> 
> 标签：nginx, configure

index.html 页面可以访问，但不是 spec_runner.html。我想访问两个不同的页面，一个用于应用程序，另一个用于测试。你可以帮帮我吗？谢谢，:)。我的配置如下

```
location ^~ /p/login      { rewrite .* /index.html last; }
location ^~ /specs        { index spec_runner.html; }

location ~* ^/(users|books) {
    proxy_pass http://api;                                                      
}                                                                             

location / {                                                                  
    root /home/user/project;                                    
    proxy_cache off;                                                            
    expires -1;
    add_header Cache-Control no-cache;                                         
    add_header Cache-Control private;                                          
} 
```

# c# - 限制在收件箱下列出文件夹

> ID：14868829
> 
> 赞同：0
> 
> 时间：2013-02-14T06:14:45.117
> 
> 标签：c#, vsto, outlook-addin

这里是每个文件夹的详细信息。现在我想限制它只列出“收件箱下的文件夹”实际上现在我想列出收件箱下的文件夹。（我在收件箱下创建了文件夹。我不想显示发件箱、草稿等。 。上 ）

我的代码。

```
private IEnumerable<MAPIFolder> GetAllFolders(Folders folders)
{
    foreach (MAPIFolder f in folders) 
    {
        yield return f;
        foreach (var subfolder in GetAllFolders(f.Folders)) 
        {
            yield return subfolder;
        }
    }
} 
```

按钮点击事件

```
private void button1_Click(object sender, EventArgs e)
{
    Microsoft.Office.Interop.Outlook.Application oApp  = 
        new Microsoft.Office.Interop.Outlook.Application();
    Microsoft.Office.Interop.Outlook._NameSpace ns = 
        (Microsoft.Office.Interop.Outlook._NameSpace)oApp.GetNamespace("MAPI"); 
    // in here i get the error "userd of unassign local variable".
    // without this line code works fine and return all the Folders & 
    // Sub folders.
    Microsoft.Office.Interop.Outlook.MAPIFolder oPublicFolder = 
        olNS.GetDefaultFolder(
            Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderInbox);

    foreach (var f in GetAllFolders(ns.Folders)) 
    {
        //if (f == oPublicFolder) continue;
        if (f.DefaultItemType == OlItemType.olMailItem) 
        {
            string ff = f.Name;
            //Some codings here

        }
    }

} 
```

这有时是一个愚蠢的问题，因为有时它可能非常简单。但我在这里向你求助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:20:15.447

```
// Create Application class and get namespace
Outlook.Application outlook = new Outlook.ApplicationClass();
Outlook.NameSpace ns = outlook.GetNamespace("Mapi");

    object _missing = Type.Missing;
    ns.Logon(_missing, _missing, false, true);

    // Get Inbox information in objec of type MAPIFolder
    Outlook.MAPIFolder inbox = ns.GetDefaultFolder(Outlook.OlDefaultFolders.olFolderInbox);

    // Unread emails
    int unread = inbox.UnReadItemCount;

    // Display the subject of emails in the Inbox folder
    foreach (Outlook.MailItem mail in inbox.Items)
    {
        Console.WriteLine(Wmail.Subject);
    } 
```

**获取收件箱中的子文件夹名称**

```
 Microsoft.Office.Interop.Outlook.Application outlook = new Microsoft.Office.Interop.Outlook.Application();
            Microsoft.Office.Interop.Outlook.NameSpace ns = outlook.GetNamespace("Mapi");

            object _missing = Type.Missing;
            ns.Logon(_missing, _missing, false, true);

            // Get Inbox information in objec of type MAPIFolder
            Microsoft.Office.Interop.Outlook.MAPIFolder inbox = ns.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderInbox);

            // Unread emails
            int unread = inbox.UnReadItemCount;

            // Display the subject of emails in the Inbox folder
            foreach (Microsoft.Office.Interop.Outlook.Folder folds in inbox.Folders)
            {
                Console.WriteLine(folds.Name);
            } 
```

# java - 将文件从objective-c发送到java

> ID：14868834
> 
> 赞同：2
> 
> 时间：2013-02-14T06:15:37.083
> 
> 标签：java, objective-c, file-upload, client-server

上传文件有问题。我正在将文件从objective-c发送到java；

服务器端：

记录器没有出现在tomcat中。

```
@RequestMapping(method = RequestMethod.POST)
public @ResponseBody MessageWrapper getMessage(@RequestBody MessageWrapper msg,  @RequestParam("photo") MultipartFile file) throws Exception {
logger.info("Send");
/*
    my code
*/

return msg;
} 
```

客户端：

```
__block ASIFormDataRequest *request = [ASIFormDataRequest requestWithURL:url];

[request setData:message.imageData withFileName:@"myphoto.jpg" andContentType:@"image/jpeg" forKey:@"photo"];

NSArray *toEmail = [message.to componentsSeparatedByString:@","];
NSArray *objects = [NSArray arrayWithObjects:toEmail, message.subject, message.content, nil];
NSArray *keys = [NSArray arrayWithObjects:@"to", @"subject", @"body", nil];

NSDictionary *msgDict = [NSDictionary dictionaryWithObjects:objects forKeys:keys];
NSString *jsonRequest = [msgDict JSONRepresentation];
NSData *requestData = [NSData dataWithBytes:[jsonRequest UTF8String] length:[jsonRequest length]];
[request setRequestMethod:@"POST"];
[request setUseCookiePersistence:NO];
[request addRequestHeader:@"Content-type" value:@"application/json"];
[request setRequestCookies:[NSMutableArray arrayWithObject:[self setKidCookieParams]]];
[request setDelegate:self];
[request setPostBody:[[NSMutableData alloc] initWithData:requestData]];
[request startAsynchronous]; 
```

它工作正常，没有以下几行：

```
[request setData:message.imageData withFileName:@"myphoto.jpg" andContentType:@"image/jpeg" forKey:@"photo"];
and server side like  this:
@RequestMapping(method = RequestMethod.POST)
 public @ResponseBody MessageWrapper sendMessage(@RequestBody MessageWrapper msg) throws Exception {
    logger.info("Send");
    /*
        my code
    */

  return msg;
 } 
```

请帮我。提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T13:03:15.520

您的问题是您混合了`@RequestBody`（假定使用完整的请求正文）和 a `@RequestParam`（它应该代表文件数据，将成为请求正文的一部分）。让请求主体完全被一个项目消耗并将其中的一部分作为另一个参数传入是行不通的。在 Objective-C 方面类似，您首先`photo`向请求正文添加一个参数，然后用`setPostBody:`.

相反，在服务器端，您需要将 声明`MessageWrapper msg`为单独的`@RequestParam`，并希望 JSONDeserializer 能够正确获取它。如果没有，首先使用`@RequestParam String msg`并查看是否至少到达了 JSON 字符串值，然后尝试使反序列化工作。

然后Objective-C部分也需要更新。我对Objective-C不是很熟悉，但是我觉得有必要，而不是`[request setPostBody:[[NSMutableData alloc] initWithData:requestData]];`你需要添加JSON部分作为这个multipart-fileupload的单独参数，并且请求头`Content-Type`应该是 `multipart/form-data`，表明你在这里上传了几个项目.

在这个 SO 问题上：[http 文件上传目标 C](https://stackoverflow.com/questions/3161657/http-file-upload-objective-c) 我找到了一个指向[http://cocoadev.com/wiki/HTTPFileUpload](http://cocoadev.com/wiki/HTTPFileUpload)的指针 正如那边所说，该页面几乎不可读，但在底部是一些提交数据的代码字典“名称”->“值”，其中“值”可以是字符串或文件，也许您可​​以根据自己的目的进行调整。这个例子手动构建了完整的请求主体——我不确定，但我认为同时在 Objective-C 中有更方便的选项。

例如，我想知道是否简单地调用类似的东西`[request addData:requestData forKey:@"msg"]`，但是，这里没有 Objective-C 环境，因此没有经过测试。

如果您真的想知道 http 文件上传幕后发生的事情（请这样做，了解这些东西会使编程变得更容易），请阅读有关文件上传的[RFC 1867](https://www.rfc-editor.org/rfc/rfc1867) （暂时忽略 HTML 部分并查看请求正文放在一起），或者举个简单的例子，例如看[这里](http://www.vivtek.com/rfc1867.html)或[这里](https://stackoverflow.com/questions/8659808/how-does-http-file-upload-work)。

# java - Apache commons 的 URLCodec 解码数据并用问号 (?) 替换字符

> ID：14868837
> 
> 赞同：0
> 
> 时间：2013-02-14T06:15:48.573
> 
> 标签：java, urlencode, apache-commons, apache-commons-net

我在使用 Apache commons 的 URLCodec 解码像“1º”这样的数据时面临一个问题。它被解码为“1？”。

这个问题有什么解决办法吗？

在我尝试使用以下代码之前：

String decodedData = new URLCodec().decode(data, "ISO-8859-1");

我也尝试过使用下面的代码。但这没有帮助。

String decodedData = new URLCodec().decode(data, "UTF-8");

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:48:28.257

根据文档，解码功能是接收标准 URL，并从中解码出值。www-form-urlencoded 编码值中只能有一组指定的 ASCII 值。

您的问题表明您提交的 URL 值的字符不在 www-form-urlencoded 的有效范围内。

那么答案是：我相信您正在尝试解码一个未正确 www-form-urlencoded 的值，这就是您的问题的根源。

您给出的值：1º，它是一个数字 1，后跟一个“阳性序数指示符”（假设在编辑此 StackOverflow 条目时没有任何失真）。阳性序数指标是十进制值 186，即十六进制值 00BA。

假设您从该值作为*未编码*数据开始，那么这两个字符序列的 www-form-urlencoded 值将取决于您使用的是 UTF-8 还是 ISO-8859-1。以下是每个的编码版本：

```
unencoded value:                           1º
www-form-urlencoded using ISO-8859-1 is:   1%BA
www-form-urlencoded using UTF-8 is:        1%C2%BA 
```

如果您采用编码形式，并将其通过解码器，您应该得到未编码的形式。但是，当您使用未编码的版本并尝试对其进行解码时，没有定义会发生什么。由于未定义，实际实现和实际结果可能会有所不同。它可能应该将异常作为无效编码抛出，但这也不能保证。

# c++ - 使用 PrintWindow API 截屏（客户区）

> ID：14868840
> 
> 赞同：4
> 
> 时间：2013-02-14T06:16:09.147
> 
> 标签：c++, mfc

我正在使用 PrintWindow API 截取特定窗口（hwnd）的屏幕截图。这工作得很好，它会截取整个窗口。我的问题是：我的窗口高度是 742，宽度是 653。如果我想在窗口中间的某个地方截屏（不是从 0,0 开始）。我将如何在 PrintWindow 中指定 x 和 y 轴。我的 snipnet 代码如下所示：

```
void Screenshot()
{
  CImage image;
  image.Create(imageWidth, imageHeight, 24);
  CImageDC imageDC(image);

  HWND hwnd = ::FindWindow(0,"EIML");

  PrintWindow(hwnd, imageDC, PW_CLIENTONLY);

  image.Save("H:\\out.jpg",ImageFormatJPEG);
  } 
```

我已经尝试过像 BitBlt 和 StretchBlt 这样的替代方法，我们可以选择指定 x 和 y 轴。但是对于我的项目时间效率是非常非常重要的。当我尝试使用 BitBlt 和 StretchBlt 时，时间效率约为 25 毫秒。但是当我用 PrintWindow 截屏时，它的时间效率是 6~8ms。所以这将非常适合我的项目。

但 PrintWindow API 总是从 (0,0) 捕获窗口图像。有人可以告诉我/建议我如何在指定位置截取窗口的屏幕截图，例如 x=20 和 y=30。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T10:35:40.097

显然，不可能为 指定一个矩形`PrintWindow`，因为它不接受这样的参数。

**可能**有一种解决方法。尝试为设备上下文指定剪辑区域，使用`SelectClipRgn`. 用于`CreateRectRgn`从矩形创建区域。如果幸运的话，WM_PAINT 处理程序会考虑到剪切区域。

`SetWindowOrg`您可以尝试使用/指定偏移量`SetViewportOrg`。

但这些只是提示，您需要自己进行研究。

# ruby-on-rails - 在网站 ruby rails 上跟踪访问者数据？

> ID：14868848
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:16:55.063
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems, ruby-on-rails-3.2

我想跟踪用户的信息，用户访问了哪些页面，从哪个 ip 到使用 ruby​​ on rails 的网站，我应该如何开始？学习网络访问者跟踪程序的好资源我是 ruby​​/rails 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:29:33.537

如果您想要比谷歌分析更深入的分析，那么 Kiss Metrics 可能就是您正在寻找的。您可以使用它来跟踪应用程序中发生的任意操作或事件。

[https://www.kissmetrics.com/](https://www.kissmetrics.com/)

**注意：**我不为亲吻指标工作……只是一个粉丝。

# html - Twitter Bootstrap 中 IE 的 CSS 类是什么？

> ID：14868849
> 
> 赞同：2
> 
> 时间：2013-02-14T06:16:56.213
> 
> 标签：html, css, internet-explorer, twitter-bootstrap

我正在使用 Twitter 引导程序。我想知道，是否有任何特定的 CSS 类将 IE 浏览器定义为 BODY 或 HTML 标签。我想专门为所有 IE 浏览器编写 CSS。

我知道引导程序为 IE 浏览器提供了一些 CSS 类到 HTML 标记中，我们可以在其中编写版本明智的 CSS，但我想编写适用于所有 IE 浏览器的所有 CSS。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:20:59.567

一个简单的解决方案是条件注释

```
<!--[if IE]> <body class="browser-ie"> <![endif]-->
<!--[if !IE]> --> <body> <!--<![endif]--> 
```

请注意，此解决方案不适用于 IE10 [https://msdn.microsoft.com/en-us/library/ie/hh801214(v=vs.85).aspx](https://msdn.microsoft.com/en-us/library/ie/hh801214(v=vs.85).aspx)

# cakephp - 从 CakePHP 中的一个表单将数据插入两个表（外键连接）

> ID：14868854
> 
> 赞同：0
> 
> 时间：2013-02-14T06:17:17.950
> 
> 标签：cakephp, cakephp-1.3

我在 CakePHP 中有一个表单，如下 **addticket.ctp**

```
 <html>
<?php
    echo $this->Form->create('Ticket', array('url' => array('controller' => 'tickets', 'action' =>'addtickets'),
        'enctype' => 'multipart/form-data'));
    echo $this->Form->input('title',array('label'=>'Title'));
    echo $this->Form->input('attachment', array('between'=>'<br />','type'=>'file',

        'label'=>'Attachment'));
    echo $this->Form->input('stepstoreproduce',array('label'=>'Steps To Reproduce'));
    echo $this->Form->input('category',array(
        'label'=>'Category',
        'options'=>array(
            'IT Support',
            'IT HelpDesk'
            )));
    echo $this->Form->input('priority',array(
        'label'=>'Priority',
        'options'=>array(
            'Low',
            'Medium',
            'High'
            )));
    echo $this->Form->input('Comment.comment',array(
        'type'=>'textarea',
        'label'=>'Comments'
        ));
    echo $form->input('public',array('type'=>'radio',
    'options' => array(
        '1'=>'Yes',
        '0'=>'No',
    ),
    'default'=>'0'));
    echo $form->input('created_by',array('value'=>$_SESSION['Auth']['User']['id'],'type'=>'hidden'));

    echo $this->Form->end('Submit Ticket');

?>
</html> 
```

我有带有以下代码的模型ticket.php

```
var $hasMany = array(
    'Comment' => array(
        'className'     => 'Comment',
        'foreignKey'    => 'ticket_id'
        )
); 
```

我有带有 addticket() 函数的tickets_controller，如下所示

```
 if ($this->Ticket->saveAll($this->data)){
            $this->Session->setFlash('Ticket created');
        } 
        else {
            $this->Session->setFlash('Cannot create a ticket');
        } 
```

**问题** 问题是我的数据库中有两个表：1.tickets 2.Comments（ticket_id 是外键）

我想将门票数据插入`tickets`表格并将评论数据插入`comments`表格。据我所知，将名称更改为`Comment.comment`将在评论表中插入数据。

但我想在评论表和 门票和评论中添加`userid`和。`ticket_id``created_by`

请帮助提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T02:25:29.527

我认为您需要在您拥有的每个输入字段前面明确放置一个模型名称。例如：

```
echo $this->Form->input('Ticket.title',array('label'=>'Title'));
echo $this->Form->input('Ticket.attachment', array('between'=>'<br />','type'=>'file',

    'label'=>'Attachment')); 
```

CakePHP 会自动在您的评论数据中设置ticket_id。有关更多详细信息，请参阅[http://book.cakephp.org/2.0/en/models/saving-your-data.html#model-saveall-array-data-null-array-options-array](http://book.cakephp.org/2.0/en/models/saving-your-data.html#model-saveall-array-data-null-array-options-array)。

而且我认为您应该在控制器中设置 user_id 而不是将其设置为视图中的隐藏字段，例如：

```
$this->data['Ticket']['created_by'] = $this->Auth->user('id');
$this->data['Comment']['created_by'] = $this->Auth->user('id'); 
```

# c# - C#使用内部具有变量名的字符串设置变量

> ID：14868861
> 
> 赞同：0
> 
> 时间：2013-02-14T06:18:13.097
> 
> 标签：c#, xml, system.reflection

*切换到串行化。

摘要：我已将所有变量预定义为 null / 0。我想使用来自 XML 文档的数据来设置它们。该文档包含与变量完全相同的名称。我不想使用一堆 else if，所以我试图根据我从 XML 文档中提取的名称来做。

```
using UnityEngine;
using System.Collections;
using System.Collections.Generic;
using System.Reflection;
using System.Text;
using System.Xml;
using System.IO;

public class ShipAttributes
{
    // Model Information
    string name;
    string modelName;
    string firingPosition;
    string cameraPosition;
    string cargoPosition;
    Vector3 cameraDistance;

    // Rotation
    float yawSpeed;
    float pitchSpeed;
    float rollSpeed;

    // Speed
    float maxSpeed;
    float cruiseSpeed;
    float drag;
    float maxAcceleration;
    float maxDeceleration;

    // Physics Properties
    float mass;

    // Collection Capacity
    float cargoSpace;

    // Combat [Defense]
    float structureHealth;
    float armorHealth;
    float shieldHealth;
    float shieldRadius;

    // Combat [Assault]
    float missileRechargeTime;
    float fireRate; 

    // Currency Related
    float cost;
    float repairMultiplier;

void PopulateShipList()
{
    if (shipList != null)
        return;

    string filepath = Application.dataPath + "/Resources/shipsdata.xml";

    XmlRootAttribute xml_Root = new XmlRootAttribute();
    xml_Root.ElementName = "SHIPS";
    xml_Root.IsNullable = true;
    //using (var stream = new FileStream(filepath, FileMode.Open, FileAccess.Read)) 
    //{
        StringReader stringReader = new StringReader(filepath);
        stringReader.Read();
        XmlReader xRdr = XmlReader.Create(stringReader);
        XmlSerializer xml_s = new XmlSerializer(typeof(List<ShipAttributes>), xml_Root);
        shipList= (List<ShipAttributes>)xml_s.Deserialize(xRdr);
    //}
}
public ShipAttributes LoadShip(string inName)
{
    PopulateShipList();
    foreach (ShipAttributes att in shipList)
    {
        if (att.name == inName)
        {
            att.shipList = shipList;
            return att;
        }
    }

    return null;
} 
```

*注意 XML 文件中的变量与类中的变量具有完全相同的格式和名称。类中的 maxSpeed 是 XML 文件中的 maxSpeed。

我的 XML 看起来像这样——

```
<?xml version="1.0" encoding="UTF-8 without BOM" ?>

     <SHIPS>
        <SHIP>
            <name>Default</name>
            <id>0</id>
            <modelName>Feisar_Ship</modelName>
            <firingPosition>null</firingPosition>
            <cameraPosition>null</cameraPosition>
            <cargoPosition>null</cargoPosition>
            <cameraDistance>null</cameraDistance>
            <yawSpeed>2000.0</yawSpeed>
            <pitchSpeed>3000.0</pitchSpeed>
            <rollSpeed>10000.15</rollSpeed>
            <maxSpeed>200000.0</maxSpeed>
            <cruiseSpeed>100000.0</cruiseSpeed>
            <drag>0.0</drag>
            <maxAcceleration>null</maxAcceleration>
            <maxDeceleration>null</maxDeceleration>
            <mass>5000.0</mass>
            <cargoSpace>150.0</cargoSpace>
            <structureHealth>100.0</structureHealth>
            <armorHealth>25.0</armorHealth>
            <shieldHealth>25.0</shieldHealth>
            <shieldRadius>30.0</shieldRadius>
            <missileRechargeTime>2.0</missileRechargeTime>
            <fireRate>0.5f</fireRate>
            <cost>0</cost>
            <repairMultiplier>1.0</repairMultiplier>
        </SHIP>   
     </SHIPS 
```

>

是的，是的，我知道……费萨尔！现在只是来自turbosquid的占位符。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:25:08.593

创建一个类来保存您正在读取的值并使用 XML 序列化。

[微软教程](http://support.microsoft.com/kb/815813)

[技术专业教程](http://tech.pro/tutorial/798/csharp-tutorial-xml-serialization)

[MSDN：XmlSerializer](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer.aspx)

**编辑 ：**

如果 XML 与您发布的类代码完全相同，则以下内容应允许您获得一个类`ShipAttributes`：

```
ShipAttributes attributes = null;
string filepath = "/path/to/xml";

using (var stream = new FileStream(filepath, FileMode.Open, FileAccess.Read)) {
    var xml_s = new XmlSerializer(typeof(ShipAttributes));

    attributes = (ShipAttributes)xml_s.Deserialize(stream);
} 
```

**编辑 2：多艘船**

在您的评论中，您说该文件包含多个`ShipAttribute`描述。处理方式同上，只是将文件反序列化为`List<ShipAttribute>`如下类型：

```
List<ShipAttributes> ships = null;
string filepath = "/path/to/xml";

using (var stream = new FileStream(filepath, FileMode.Open, FileAccess.Read)) {
    var xml_s = new XmlSerializer(typeof(List<ShipAttributes>));

    ships= (List<ShipAttributes>)xml_s.Deserialize(stream);
} 
```

完成此操作后，您就拥有了内存中的所有船只，并且可以使用 Linq 等从您需要的列表中选择一艘。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:36:31.880

**假设你的 XML 文件**

```
<?xml version="1.0" encoding="utf-8"?>
<Variables>      
    <VariableName1>1</VariableName1>
    <VariableName2>test</VariableName2>
    <VariableName3>test2</VariableName3>    
</Variables>

var data = XDocument.Load("YourXML.xml");
var xmldata = from x in data.Descendants("Variables")                        
                        select x;

notes.Select(_BuildPropertyFromElement);

private Yourclassname _BuildNoteFromElement(XElement element)
    {
      var type = typeof(**Yourclassname**);
      var Details = new Yourclassname();

      foreach (var propInfo in type.GetProperties())
      {
         var rawValue = element.Element(propInfo.Name).Value;
         var convertedValue = propInfo.PropertyType == typeof(DateTime) ?         (object)Convert.ToDateTime(rawValue) : rawValue;
            propInfo.SetValue(Details , convertedValue, null);
                }

                return Details ;
            } 
```

**YOURCLASSNAME 是类的名称，它具有您要设置的所有属性**

# python - Tornado/Python – 如何避免这种重复？

> ID：14868862
> 
> 赞同：0
> 
> 时间：2013-02-14T06:18:20.630
> 
> 标签：python, tornado

我是 Tornado 的新手，我有这个简化的代码来解决这个问题：

```
class LoginHandler(BaseHandler):
    def get(self):
        error_message = None
        title = "Log in to your account"

        self.render("login.html", error_message=error_message, title=title)

    def post(self):
        #function and params excluded for brevity of question
        error_message = self.authenticate_user()
        title = "Log in to your account"

        self.render("login.html", error_message=error_message, title=title) 
```

以及 title 变量被重复（似乎不必要） ，`self.render("login.html", error_message=error_message, title = title)`因为否则，我会收到错误“全局变量'title'或'error_message'未定义”，具体取决于我是使用`post`还是`get`呈现页面。

我对每一页都有不同的标题，我想知道如何简单地让一个`title`变量和一个`self.render("login.html"...)`每页处理程序（即`LoginHandler`）在调用 get 或 post 函数时起作用。我不喜欢逐字重复，但是当我在两个函数中不做同样的事情时，我很难避免错误消息。

我该如何解决这个问题？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:32:43.000

`title`您可以通过将变量和`error_message`变量初始化为类成员来避免重新声明它们。（我在变量名中使用了前导下划线`_`来表示这个值应该是私有的，并且只能在这个类中使用。）

```
class LoginHandler(BaseHandler):
    def __init__(self):
        # Call the BaseHandler's __init__ function to initialize parent's members
        BaseHandler.__init__()
        self._title = "Log in to your account"

    def get(self):
        self.render("login.html", error_message=None, title=self._title)

    def post(self):
        self.render("login.html", error_message=self.authenticate_user(), title=self._title) 
```

这样做的额外好处是您只需要`title`在一个地方更改，并且您不会冒着获得不同标题的风险，具体取决于方法是`get`还是`post`.

注意：似乎 in`error_message`不是必需的 - 它仅在单个案例中使用。`self.render()`调用不接收相同的参数，因此都是必需的。

# c# - 对象未初始化 [.NET Business Connector]

> ID：14868863
> 
> 赞同：0
> 
> 时间：2013-02-14T06:18:22.110
> 
> 标签：c#, axapta, dynamics-ax-2009, x++, business-connector

这是我的代码：

```
AxaptaObject dict = (AxaptaObject)DynAx.CallStaticClassMethod("Dictionary", "new");
object id = (object)dict.Call("enumName2Id", "TimeZone");
AxaptaObject dictEnum = (AxaptaObject)DynAx.CallStaticClassMethod("DictEnum", "new", id);
string s = (string)dictEnum.Call("index2Label", "2"); 
```

我收到以下错误：

```
Error executing code: Dictionary object not initialized. 
```

为什么在 Dictionary 对象的初始化过程中会抛出该错误？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:18:05.270

知道了！

代码如下：

```
int enumId = (int)ax.CallStaticClassMethod("Global", "enumName2Id", enumName);
AxaptaObject dictEnum = (AxaptaObject)ax.CreateAxaptaObject("DictEnum", enumId);
return (string)dictEnum.Call("index2Label", index); 
```

您必须使用“AxaptaObj.CreateAxaptaObject”。通过这种方式，您可以间接地用 C# 编写 X++ 代码来完成诸如此类的小型工作。我不确定性能因素。

# c++ - 除法算法。

> ID：14868867
> 
> 赞同：-2
> 
> 时间：2013-02-14T06:18:36.997
> 
> 标签：c++, algorithm

可能我已经在重新发明轮子了。

通常在 C 中，如果我们有 a=34 和 b=5，我们会得到 a/b=6。但是对于 100 位数字，我需要同样的东西。我写了一个名为 Int 的类。执行 a+b 和 ab 和 a*b。(a,b,c 是 Int 类型)

我重载了运算符 << ，>>，它将返回除以或乘以 10 的数字。

什么是最好的除法算法？（假设我将数字存储为以 10 为底的字符串”。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:21:59.297

也许您应该查阅[https://en.wikipedia.org/wiki/Division_%28digital%29](https://en.wikipedia.org/wiki/Division_%28digital%29)，特别是关于[大整数方法](https://en.wikipedia.org/wiki/Division_%28digital%29#Large_integer_methods)的部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:33:49.637

你在重新发明轮子。见： http: [//gmplib.org/](http://gmplib.org/)

# android - 多次使用相同的按钮

> ID：14868869
> 
> 赞同：0
> 
> 时间：2013-02-14T06:18:46.550
> 
> 标签：android, user-controls

我有 3 个按钮，分别是**修改、查看、清除**，我希望它用于 20 个活动。我想重新使用就像在android中的用户控件中一样？ **按钮 1 - 修改，按钮 2 - 清除，按钮 3 - 查看。** 让大家有共同的看法好不好？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:29:42.580

您可以将 3 个按钮保留在另一个布局中，例如 layout_button.xml，然后在需要时将其包含在您的活动布局中，例如：例如。这个你的活动布局：

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
 <-- Inflate your other elemnts of ur activity -->

<include
    android:layout_width="fill_parent"
    android:layout_x="0dp"
    android:layout_y="0dp"
    layout="@layout/layout_button" /> 
```

# coding-style - 为什么首选函数的单个退出点？

> ID：14868873
> 
> 赞同：1
> 
> 时间：2013-02-14T06:19:15.047
> 
> 标签：coding-style

一段时间以来，我一直在一个函数中使用多个 return 语句，我发现它更具可读性并且避免了许多条件块。我发现许多问答都建议一个函数的单一退出点，但我找不到一个合理的解释。许多代码分析工具建议为函数设置一个退出点。谁能告诉我为什么这种方法更可取？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:31:44.970

通过使用单个 return 语句，您通常会使用更少的代码。例如：

```
-(bool)testMethod {
If(condition)
return true;
} 
```

如果不满足条件，则返回false，因此无需添加} else { return false。

根据我的经验，最好尽可能高效地编写代码，而且通常有比编写一堆 if else 语句更有效的方法

# log4j - 使用 log4j.xml 实现基于同一日志文件的大小和时间的日志轮换

> ID：14868874
> 
> 赞同：0
> 
> 时间：2013-02-14T06:19:19.253
> 
> 标签：log4j

尝试在适用于单个日志文件的相同配置中实现基于大小和时间的轮换

[http://www.mailinglistarchive.com/html/log4j-user@logging.apache.org/2008-07/msg00355.html](http://www.mailinglistarchive.com/html/log4j-user@logging.apache.org/2008-07/msg00355.html) 但没有发生基于大小的旋转。尝试将大小设置为 3KB。如果我必须纠正任何事情，请告诉我。

# php - 如何用土耳其语显示 PHP 日期？

> ID：14868876
> 
> 赞同：3
> 
> 时间：2013-02-14T06:19:26.700
> 
> 标签：php, date, time, localization

如何以土耳其语显示日期？我正在尝试以下代码，但它根本不打印任何内容。

```
setlocale(LC_ALL, 'tr_TR.UTF-8');
echo strftime("%e %B %Y %A", time()); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T06:46:27.080

虽然我不懂土耳其语，但它正在打印输出

```
 14 Şubat 2013 Perşembe 
```

所以你的代码很好。希望你不会错过 php 标签。：/

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-30T21:00:26.180

```
<?php
            setlocale(LC_ALL, 'tr_TR.UTF-8');
            echo strftime("%e %B %Y %A", time());
          ?> 
```

打印出来：30 Ekim 2015 Cuma

代码工作正常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-03-07T11:08:14.370

“F”的 PHP 日期，它给出英文名称的月份以翻译为土耳其语给定示例

```
date("d F") 
```

你可以使用这个功能

```
 function convertMonthToTurkishCharacter($date){
    $aylar = array(
        'January'    =>    'Ocak',
        'February'    =>    'Şubat',
        'March'        =>    'Mart',
        'April'        =>    'Nisan',
        'May'        =>    'Mayıs',
        'June'        =>    'Haziran',
        'July'        =>    'Temmuz',
        'August'    =>    'Ağustos',
        'September'    =>    'Eylül',
        'October'    =>    'Ekim',
        'November'    =>    'Kasım',
        'December'    =>    'Aralık',
        'Monday'    =>    'Pazartesi',
        'Tuesday'    =>    'Salı',
        'Wednesday'    =>    'Çarşamba',
        'Thursday'    =>    'Perşembe',
        'Friday'    =>    'Cuma',
        'Saturday'    =>    'Cumartesi',
        'Sunday'    =>    'Pazar',
        'Jan' => 'Oca',
        'Feb' => 'Şub',
        'Mar' => 'Mar',
        'Apr' => 'Nis',
        'May' => 'May',
        'Jun' => 'Haz',
        'Jul' => 'Tem',
        'Aug' => 'Ağu',
        'Sep' => 'Eyl',
        'Oct' => 'Eki',
        'Nov' => 'Kas',
        'Dec' => 'Ara'

    );
    return  strtr($date, $aylar);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-07T08:13:04.270

```
 public function getTurkishDate(){
       $locale = 'tr_TR'; // a canonicalized locale
       $format = 'dd-MMMM-YYYY'; // ISO format codes, not the typical date ones
       $dt = new DateTime(); // a DateTime object
       $df = new IntlDateFormatter(
           $locale, // string locale
           IntlDateFormatter::NONE, // int date type
           IntlDateFormatter::NONE, // int time type
           'UTC', // string timezone
           IntlDateFormatter::GREGORIAN, // int cal type
           $format // string pattern
       );
       return $df->format($dt); //string 07-Ağustos-2018
    } 
```

或者

```
 public function getTurkishDate(){
        $locale = 'tr_TR'; // a canonicalized locale
        $format = 'dd-MMMM-YYYY-EEEE'; // ISO format codes, not the typical date ones
        $dt = new DateTime(); // a DateTime object
        $df = new IntlDateFormatter(
            $locale, // string locale
            IntlDateFormatter::NONE, // int date type
            IntlDateFormatter::NONE, // int time type
            'UTC', // string timezone
            IntlDateFormatter::GREGORIAN, // int cal type
            $format // string pattern);
        return $df->format($dt); //string 07-Ağustos-2018-Salı
    } 
```

或者

```
 public function getTurkishDate(){
        $locale = 'tr_TR'; // a canonicalized locale
        $format = 'dd-MMMM-YYYY-ee'; // ISO format codes, not the typical date ones
        $dt = new DateTime(); // a DateTime object
        $df = new IntlDateFormatter(
            $locale, // string locale
            IntlDateFormatter::NONE, // int date type
            IntlDateFormatter::NONE, // int time type
            'UTC', // string timezone
            IntlDateFormatter::GREGORIAN, // int cal type
            $format // string pattern);
        return $df->format($dt); //string 07-Ağustos-2018-02
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-04-01T01:07:10.133

在代码之前添加它。

```
setlocale (LC_ALL, 'tr_TR.UTF-8', 'tr_TR', 'tr', 'turkish'); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-04-18T20:31:39.187

您可以通过以下方式获取当前日期和时间：

```
<?php
date_default_timezone_set("Europe/Istanbul");
//echo "The time is " . date("H:i") . "<br>";
//echo "Today is " . date("Y-m-d") . "<br>";
//echo "Today is " . date("l");
$now_time = date("H:i");
$now_date = date("Y-m-d");
?> 
```

# jquery - 这里的 .divClicked 是什么？

> ID：14868881
> 
> 赞同：4
> 
> 时间：2013-02-14T06:19:45.237
> 
> 标签：jquery

什么是.div 点击这里？？

```
$("div#div1").bind("click.divClick",function(){alert("Div Clicked");}) 
```

有人问我这个问题，我没有答案。它是事件类型还是命名空间？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T06:29:54.567

jQuery 中的事件可以这样写：

```
<event-type>[.<event-namespace>] 
```

在您的情况下，`click.divClick`它只是一个`click`事件，只是它是在`divClick`命名空间中组织的。

使用命名空间的一个优点是当您需要取消绑定事件侦听器时：

```
$(el).bind('click', function() { alert('click 1'); };
$(el).bind('click.divClick', function() { alert('click 2'); };

$(el).unbind('click.divClick'); 
```

最后一行将只注销`click 2`事件处理程序而不影响`click 1`事件处理程序。

您还可以取消注册命名空间中的所有事件：

```
$(el).unbind('.divClick'); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-19T09:06:05.860

它是命名空间。如果 eventType 字符串包含句点 (.) 字符，则事件是命名空间的。句点字符将事件与其命名空间分开。例如调用.bind('click.name', handler)，字符串click为事件类型，字符串name为命名空间。命名空间允许我们解除绑定或触发某种类型的某些事件，而不会影响其他事件。有关更多信息，请参阅 .unbind() 的讨论。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T06:25:15.430

这似乎是一个自定义事件。

你可以这样称呼它

```
$('mySelector').trigger("click.divClick"); 
```

请参阅文档：[jQuery`.bind()`文档](http://api.jquery.com/bind/)

# java - Weblogic到tomcat迁移性能问题

> ID：14868885
> 
> 赞同：1
> 
> 时间：2013-02-14T06:20:13.863
> 
> 标签：java, performance, tomcat

我们成功地将 Web 应用程序从 Weblogic 迁移到了 tomcat 7。Web 应用程序是使用构建的。

1.  春天
2.  jsp
3.  使用 weblogic 数据源

当我们迁移到 Tomcat 时，我们开始使用 DBCP。但考虑更改为 Tomcat JDBC 连接池。请建议这会有所帮助。

应用程序必须在服务器端执行一些繁重的事务。

但是 tomcat 无法提供我们在 weblogic 中获得的性能和稳定性。

在 tomcat 上运行的 GC 线程太多，这导致应用程序挂起。几乎 2/7 的总时间花在 GC 上。

这是JVM初始化字符串

```
JAVA_OPTS="$JAVA_OPTS -server -Xms120G -Xmx120G -Xmn60G -XX:PermSize=512m -XX:MaxPermSize=512m -XX:MaxNewSize=40G -XX:NewSize=40G -Xloggc:$CATALINA_HOME/logs/gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:+DisableExplicitGC -XX:+CMSClassUnloadingEnabled -XX:+UseLargePages -XX:LargePageSizeInBytes=1200m" 
```

请帮助我调整 tomcat 以获得更好的性能和稳定性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T09:53:08.027

A few questions immediately jump out:

*   What profiling and analysis have you done to lead you to believe that you need 120 GiB of heap space?
*   Are you aware of the GC implications of a very large heap?
*   Do you have enough physical memory for the entire Java process, not just the heap?
*   Why are you explicitly setting the max size of the young generation to 60 GiB and new to 40 GiB?

If we take a look at the options you've specified:

```
-server 
-Xms120G 
-Xmx120G 
-Xmn60G 
-XX:PermSize=512m 
-XX:MaxPermSize=512m 
-XX:MaxNewSize=40G 
-XX:NewSize=40G 
-XX:+PrintGCDetails 
-XX:+PrintGCTimeStamps 
-XX:+UseConcMarkSweepGC 
-XX:+CMSIncrementalMode 
-XX:+DisableExplicitGC 
-XX:+CMSClassUnloadingEnabled 
-XX:+UseLargePages 
-XX:LargePageSizeInBytes=1200m 
```

**It reads like a list by someone who's read one too many 'Java performance' blogs.** If you can't explain what each option does and why you've added it as an argument, remove the option.

Typically, the JVM handles itself well - often making better decisions about things like how much eden space it needs etc. If you're going to set much more than the heap and perm gen sizes (and even then...) you really need to know what you're doing...

Unfortunately, **there are no magic settings** and that's especially true if your application is particularly heavy.

Start from a set of realistic base settings, use tools like JVisualVM, JMeter, MAT et al. to look at an overview of the behaviour of your application. Record metrics on performance, heap usage, concurrent threads, throughput (peak and average), time spent doing garbage collection and the stability of your app. Each time you make a change, record the same metrics and record the results. Eventually, you'll have an application tuned properly and you'll understand whether each setting is actually having a positive effect on performance.

# centos - 通过 Centos 6.3 安装 freenx

> ID：14868887
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:20:19.320
> 
> 标签：centos

安装freenx服务器时出现问题，抱怨没有/usr/lib64/nx。

设立如下：

```
> yum install nx freenx 
```

但在控制台日志中：

```
[root@q182 ~]# yum install nx freenx
Loaded plugins: fastestmirror, refresh-packagekit, security
Loading mirror speeds from cached hostfile
 * base: mirror.netcologne.de
 * epel: mirror.imt-systems.com
 * extras: mirror.netcologne.de
 * rpmforge: mirror1.hs-esslingen.de
 * updates: mirror.netcologne.de
Setting up Install Process
Package nx-3.5.0-2.1.el6.centos.x86_64 already installed and latest version
Package freenx is obsoleted by freenx-server, trying to install freenx-server-0.7.3-18.el6.x86_64 instead
Resolving Dependencies
--> Running transaction check
---> Package freenx-server.x86_64 0:0.7.3-18.el6 will be installed
--> Processing Dependency: /usr/lib64/nx for package: freenx-server-0.7.3-18.el6.x86_64
--> Processing Dependency: /usr/lib64/nx for package: freenx-server-0.7.3-18.el6.x86_64
--> Finished Dependency Resolution
Error: Package: freenx-server-0.7.3-18.el6.x86_64 (atrpms)
           Requires: /usr/lib64/nx
 You could try using --skip-broken to work around the problem
 You could try running: rpm -Va --nofiles --nodigest
[root@q182 ~]# 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T01:46:17.833

只需添加`--enablerepo=atrpms-bleeding`到您的 yum 命令，nx 依赖项就会从那里安装。

# python - xvfbwrapper 不工作

> ID：14868888
> 
> 赞同：2
> 
> 时间：2013-02-14T06:20:37.397
> 
> 标签：python, selenium, python-2.6

我想在不打开浏览器的情况下运行 python selenium 脚本。我在 rhel 上安装了 xvfbwrapper-0.1.3，并编辑了我的代码：

```
from selenium import webdriver,selenium
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import Select
from selenium.common.exceptions import NoSuchElementException
import unittest, time
from xvfbwrapper import Xvfb

class SeleTry(unittest.TestCase):
   def setUp(self):
        try:
            vdisplay = Xvfb(width=1280, height=720)
            vdisplay.start()
            self.driver = webdriver.Firefox()
            self.driver.implicitly_wait(10)
         .....//rest of the code// 
```

当我试图执行它时，它会抛出一个错误：

```
 'The browser appears to have exited before we could connect. The output was: Error: cannot open display: :1013\n' 
```

因为我是新手，所以我不知道我出了什么问题？

# php - CodeIgniter - 使 URL 更短

> ID：14868891
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:20:47.963
> 
> 标签：php, codeigniter, url-rewriting

我是 CodeIgniter 的新手。
我做了一个网站，我希望我的网址更短。
例如，现在的 url 是

```
http://example.com/planner/planner/index.php/planner/main 
```

我想成为

```
 http://example.com/planner/planner/main. 
```

首先，我删除了 index.php 标记，但在那之后 url 给了我一个 404 错误。
我想删除 index.php 和控制器名称。

有人知道我该怎么做吗？

PS。我的 URL 仅适用于 index.php 标记...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:30:32.597

制作.htaccess

```
RewriteBase /
RewriteEngine on
RewriteCond $1 !^(index\.php|images|css|js|robots\.txt|favicon\.ico)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?$1 [L] 
```

编辑 MYAPPLICATION_FOLDER\config\config.php

```
$config['index_page'] = ''; 
```

阅读用户指南

[http://ellislab.com/codeigniter/user-guide/general/urls.html](http://ellislab.com/codeigniter/user-guide/general/urls.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:32:27.327

您可以使用以下代码从您的网址中删除 index.php。

```
RewriteEngine on
RewriteCond $1 !^(index\.php|images|robots\.txt)
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

但是为了进一步缩短您的 url，您需要通过 codeIgniter 起诉路由重映射功能。您可以在 URL 路由下的[codeigntier 用户指南](http://ellislab.com/codeigniter/user-guide/general/routing.html)中清楚地找到它。

路由规则在您的 application/config/routes.php 文件中定义。在其中您将看到一个名为 $route 的数组，它允许您指定自己的路由条件。可以使用通配符或正则表达式指定路由

```
 Wildcards 
```

典型的通配符路由可能如下所示：

```
 $route['product/:num'] = "catalog/product_lookup"; 
```

在路由中，数组键包含要匹配的 URI，而数组值包含它应该重新路由到的目标。在上面的示例中，如果在 URL 的第一段中找到文字单词“product”，并且在第二段中找到数字，则使用“catalog”类和“product_lookup”方法。

您可以匹配文字值，也可以使用两种通配符类型：

(:num) 将匹配仅包含数字的段。(:any) 将匹配包含任何字符的段。

注意：路由将按照定义的顺序运行。较高的路线总是优先于较低的路线。例子

以下是一些路由示例：

```
 $route['journals'] = "blogs"; 
```

第一段中包含单词“journals”的 URL 将被重新映射到“blogs”类。

```
 $route['blog/joe'] = "blogs/users/34"; 
```

包含段 blog/joe 的 URL 将被重新映射到“blogs”类和“users”方法。ID 将设置为“34”。

```
 $route['product/(:any)'] = "catalog/product_lookup"; 
```

第一个段为“product”的 URL，第二个段中的任何内容都将重新映射到“catalog”类和“product_lookup”方法。

```
 $route['product/(:num)'] = "catalog/product_lookup_by_id/$1"; 
```

第一个段为“product”，第二个段为数字的 URL 将被重新映射到“catalog”类，“product_lookup_by_id”方法将匹配作为变量传递给函数。

# memory-management - 内存分配和结构

> ID：14868893
> 
> 赞同：0
> 
> 时间：2013-02-14T06:21:09.167
> 
> 标签：memory-management, memory-address

我们如何使用一块连续的内存块，使其一部分与其余部分链接？例如，如果我使用 malloc 分配一个连续的字节块，现在我想以这样一种方式构造它，即块的初始部分将被构造为指向剩余部分的指针。这意味着指针和指向对象应该是连续的......？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:47:52.690

这个问题对我来说没有多大意义。假设您想要大小为 sizeBytes 的 nItems（意味着它们的大小都相同），您不需要存储指针，因为您可以在需要时计算分配内存的偏移量。所以你可能在你的问题中遗漏了一些标准。这是你如何做到的：

```
void *block = malloc(nItems * sizeBytes); 
```

然后要进入`n-th`对象，您只需执行以下操作：

```
void *myMemory = block + n * sizeBytes; 
```

你可能想在那里做一些边界检查......

但这太容易了，所以我猜你确实有不同大小的结构，你想在一个 malloc 中分配并访问它们。因此，这不仅仅是弄清楚“子内存块”的地址是什么的问题，而是您想知道如何转换它，以便以后可以理解该对象（假设它是一个 C 结构） . 所以我想我不得不说我仍然对这个问题感到困惑。

您可能想要/需要每个内存“子块”应该具有的指针、大小和结构类型。然后，这将指示您的标题信息应该是什么样子。粗略地说，您需要计算“元数据”和“有效负载数据”所需的存储空间，然后将这些东西放在一起。

但这并不是一件容易实现的事情，因为您必须弄清楚如何告诉分配/初始化内存块的函数，对象的混合将是什么（以及每个子对象的布局顺序）。

恐怕这个问题被严重低估了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:39:03.470

如果你想要一个对象类型的二维数组，你可以这样做：

```
int entries = xSize * ySize;            // create a 2D array of xSize by ySize dimensions
size_t buffSize = entries * objectSize; // objectSize is number of bytes for your object
void *block = malloc(buffSize); 
```

现在访问二维数组中的任何条目：

```
void *thingie = block + y * xSize + x; 
```

现在 thingie 指向对应于 x, y 的块。如果您愿意，您还可以更改内存对象的布局。上面我做了排专业。你可以这样做：

```
void *thing = block + x * ySize + y; 
```

那将是专栏专业。以上可以扩展到n维：

```
int entries = xSize * ySize * zSize;    // create a 3D array of xSize, ySize, zSize dimensions
size_t buffSize = entries * objectSize; // objectSize is number of bytes for your object
void *block = malloc(buffSize); 
```

接着：

```
void *thingie = block + z * ySize * xSize + y * xSize + x; 
```

获得您在 3D 立方体中的记录。你可以把它带到你想要的任何维度，当然，如果你在大维度空间中处理大型对象，你迟早会炸毁你的记忆。

# amazon-ec2 - 在 ec2 上使用 ubuntu

> ID：14868897
> 
> 赞同：0
> 
> 时间：2013-02-14T06:21:19.457
> 
> 标签：amazon-ec2

我很好奇在 EC2 上安装非标准 Linux（特别是 Ubuntu）操作系统的方法。有什么方法可以在 Ubuntu EC2 上安装 Ubuntu 10.04 而不是似乎可用的 12.10？有什么值得信赖的在线图片可以指点我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:35:23.420

[您可以在Alestic.com](http://www.alestic.com)网站上找到来自 Canonical 的官方 AMI 。使用右上角的选择框选择所需的区域，然后找到 Ubuntu 版本回到 8.04 的 AMI ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-15T09:10:52.363

我认为您可以转到社区 AMI，从左侧菜单中检查（选择）Ubuntu，然后将版本（10.04）放在搜索框中，然后按 Enter。这应该为您提供名称中包含 10.04 的 AMI，并且可能是您想要的 Ubuntu 版本。

# php - php 中无法识别的值

> ID：14868906
> 
> 赞同：0
> 
> 时间：2013-02-14T06:22:05.870
> 
> 标签：php

```
<form action="" method="post">
<?php
$i=0;
while(i<4){ ?> 
<input type="checkbox" name="<?php echo 'chkApprove_'.$i; ?>"/>
<?php
}

?>
<input type="submit" name="btnsubmit"/>
</form>

if(isset($_POST['btnsubmit']))
 {

    $i=0;
    while($i<4)
    {
        echo $i;
        $chek=$_POST['chkApprove_'.$i];// Error Undefined Index

        $i++;
    }
 } 
```

错误显示为未定义索引：chkApprove_0...chkApprove_3。我在这里做错什么了吗。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:25:15.633

在“i”之前的while循环中缺少$。并且 $i 没有增加。

```
<?php
$i=0;
while($i<4){ ?> 
 <input type="checkbox" name="<?php echo 'chkApprove_'.$i; ?>"/>
<?php
     $i++;
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:28:52.070

试试这个：你从`$i=0`但不增加开始`$i++`。

```
<form action="" method="post">
<?php
    $i=0;
    while($i < 4)
    { 
?> 
    <input type="checkbox" name="<?php echo 'chkApprove_'.$i; ?>"/>
<?php
    $i++;
    }
?>
<input type="submit" name="btnsubmit"/>
</form>
<?php
if(isset($_POST['btnsubmit']))
{
    $i=0;
    while($i < 4) {
        echo $i;
        $chek=$_POST['chkApprove_'.$i];// Error Undefined Index
        $i++;
    }
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:25:38.970

好吧，您有语法错误，并且忘记在此循环中增加 $i ：

```
 $i=0;
while(i<4){ ?> 
<input type="checkbox" name="<?php echo 'chkApprove_'.$i; ?>"/>
<?php
} 
```

应该

```
 $i=0;
while($i<4){ ?> 
<input type="checkbox" name="<?php echo 'chkApprove_'.$i; ?>"/>
<?php
$i++;
} 
```

因为你没有在初始循环中增加 $i ，但是在后面的循环中你这样做了，你得到了未定义的索引

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:25:57.027

您更正的代码：

```
<form action="" method="post">
    <?php
$i=0;
while($i<4){
    ?>
    <input type="checkbox" name="<?php echo 'chkApprove_' . $i; ?>"/>
    <?php
    $i++;
    }
    ?>
    <input type="submit" name="btnsubmit"/>
</form>
<?php
if (isset($_POST['btnsubmit'])) {

    $i = 0;
    while ($i < 4) {
        echo $i;
        $chek = $_POST['chkApprove_' . $i];
        // Error Undefined Index

        $i++;
    }
} 
```

# maintenance - 代码维护，更换代码

> ID：14868908
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:22:09.613
> 
> 标签：maintenance

如果我正在维护一个代码库并想要替换一些代码，我是否应该删除它，对更改以及它被替换的原因发表评论，然后实施新代码？或者我应该注释掉我要替换的代码部分，说明原因并放入新代码？当您牺牲内存速度时，我可以看到执行后者，反之亦然，但是是否有其他情况推荐使用后者？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:27:24.860

您可能应该只删除旧代码并放入新代码。只有当新代码本身应该被注释时，你才应该在代码中添加注释。在您的版本控制系统和任务/问题跟踪器中的评论消息中描述删除的内容、添加的内容以及原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:30:32.800

这些是我的建议：

1.  假设这是正确的版本控制，您应该只替换代码。这就是版本控制系统的美妙之处，您可以回滚到以前的更改。

2.  如果可能的话，让代码自我记录，而不是在里面放注释来解释。

3.  如果您有版本控制，我不建议注释掉代码，因为它可能不会被清理，并且以后任何人都可以猜测。他们可能会认为代码被注释掉是有原因的。

4.  确保您的所有代码在提交之前都经过正确测试。

# c# - 在不破坏索引的情况下修剪 linq2sql 查询中的字段

> ID：14868909
> 
> 赞同：0
> 
> 时间：2013-02-14T06:22:11.770
> 
> 标签：c#, sql, linq-to-sql

我加入了来自 2 个不同表的邮政编码，这些表有大量数据并在邮政编码上编入索引。

如果我修剪 t.zipplus4 上的数字，则连接有效，因此两个邮政编码字段都只有 5 位数字。
不幸的是，使用 substring 或 replace 会破坏索引，因此查询时间过长。
我显然不能使用修剪启动？bc 它不存在于 sql 中。
在 sql left([Zip Code], 5) 中，索引可以正常工作。
linq有什么办法可以解决这个问题吗？

例子：

```
 var query = (from t in db.test
             join g in db.test2 on t.zipplus4 equals g.zip
             select t).ToList(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T09:01:10.540

c# 中最接近的等价物`LEFT`是[`String.Substring`](http://msdn.microsoft.com/en-us/library/system.string.substring%28v=vs.110%29.aspx)方法，它转换为 tsql 的`SUBSTRING`函数，这不是您的选择。

如果你只是想修剪不必要的空格，使用[`String.Trim`](http://msdn.microsoft.com/en-us/library/t97s7bs3.aspx)方法，它会被转换成类似`LTRIM(RTRIM([t0].[zipplus4]))`.

您可以尝试使用 tsql `LIKE`（从问题中不清楚是否`LIKE`适合此处）[`SqlMethods.Like`](http://msdn.microsoft.com/en-us/library/system.data.linq.sqlclient.sqlmethods.like.aspx)：

```
var query = (from t in db.test
             from g in db.test2
             where SqlMethods.Like(t.zipplus4, g.zip + '%')
             select t).ToList(); 
```

但我不确定这是否会破坏索引。

如果这一切都不适合您，请考虑为此创建[一个存储过程](http://weblogs.asp.net/scottgu/archive/2007/08/16/linq-to-sql-part-6-retrieving-data-using-stored-procedures.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-16T19:05:22.717

在不破坏索引的情况下，不可能在 linq 中进行修剪。答案是为 ado.net 放弃 linq2sql，以便获得所有 sql 功能。

# java - 如何在 JAVA 中使用 PDFBox 从 PDF 创建图像

> ID：14868910
> 
> 赞同：2
> 
> 时间：2013-02-14T06:22:34.947
> 
> 标签：java, pdf, pdfbox

我想从 PDF 的第一页创建图像。我正在使用 PDFBox 。在网上研究后，我发现了以下代码片段：

```
public class ExtractImages
 {
    public static void main(String[] args)
    {
        ExtractImages obj = new ExtractImages();
            try 
            {
                obj.read_pdf();
            }

            catch (IOException ex)
            {
                System.out.println("" + ex);
            }

    }

    void read_pdf() throws IOException 
    {
            PDDocument document = null; 
            try 
            {
                document = PDDocument.load("H:\\ct1_answer.pdf");
            }
            catch (IOException ex)
            {
                System.out.println("" + ex);
            }

            List<PDPage>pages =  document.getDocumentCatalog().getAllPages();
            Iterator iter =  pages.iterator(); 

            int i =1;
            String name = null;

            while (iter.hasNext()) 
            {
                PDPage page = (PDPage) iter.next();
                PDResources resources = page.getResources();
                Map pageImages = resources.getImages();
                if (pageImages != null) 
                { 
                    Iterator imageIter = pageImages.keySet().iterator();
                    while (imageIter.hasNext()) {
                        String key = (String) imageIter.next();
                        PDXObjectImage image = (PDXObjectImage) pageImages.get(key);
                        image.write2file("H:\\image" + i);
                        i ++;
                    }
                }
            }

        }

 } 
```

在上面的代码中没有错误。但是这段代码的输出什么都没有。我原以为上面的代码会产生一系列图像，这些图像将保存在 H 盘中。但是从这段代码生成的代码中没有图像。为什么 ？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T20:42:50.447

不要试图变得粗鲁，以下是您发布的代码在其主工作循环中的作用：

```
PDPage page = (PDPage) iter.next();
PDResources resources = page.getResources();
Map pageImages = resources.getImages(); 
```

它从 PDF 文件中获取每一页，从页面中获取资源，并提取*嵌入的图像*。然后它将这些写入磁盘。

如果您想成为一名称职的软件开发人员，您需要能够研究和阅读文档。对于 Java，这意味着 Javadocs。谷歌搜索`PDPage`（或明确访问 apache 站点）会[找到 PDPage 的 Javadoc](http://pdfbox.apache.org/apidocs/org/apache/pdfbox/pdmodel/PDPage.html)。

在该页面上，您可以找到将 图像`convertToImage()`转换`PDPage`为图像的方法的两个版本。问题解决了。

除了 ...

不幸的是，他们`java.awt.image.BufferedImage`会根据您提出的其他问题返回一个问题，因为您正在使用的 Android 平台不支持它。

简而言之，你不能在 Android 上使用 Apache 的 PDFBox 来做你想做的事情。

在 StackOverflow 上搜索你会发现同样的问题以不同的形式多次提出，这将导致你这样做：[https](https://stackoverflow.com/questions/4665957/pdf-parsing-library-for-android/4766335#4766335) ://stackoverflow.com/questions/4665957/pdf-parsing-library-for-android/4766335#4766335与以下您会感兴趣的答案：[https ://stackoverflow.com/a/4779852/302916](https://stackoverflow.com/a/4779852/302916)

不幸的是，即使是上述答案所说的那个也可以工作......不是很用户友好；没有“如何”或我能找到的文档。它也被标记为“alpha”。对于虚心的人来说，这可能不是什么东西，因为它需要阅读和理解他们的代码才能开始使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:49:47.370

我复制了上面的代码并将以下库添加到我在 Eclipse 中的构建路径中。这是工作。

[Apache PDFBox 1.7.1 库](http://pdfbox.apache.org/download.html#pdfbox)

[Commons Logging 1.1.1 库](http://commons.apache.org/logging/download_logging.cgi)

# html - 在一个文本框中输入的文本被填充到另一个文本框中

> ID：14868913
> 
> 赞同：0
> 
> 时间：2013-02-14T06:23:11.480
> 
> 标签：html, css, twitter-bootstrap, angularjs, angularjs-directive

这是我的 angularjs 应用程序的 html 代码的一部分

```
<input type="text" class="input-xlarge" id="user_name" ng-model="myModel.text" 
       name="user_name" rel="popover" data-content="Enter your first and last name."
       data-original-title="Full Name">

<input type="text" class="input-xlarge" id="user_email" ng-model="myModel.text"
        name="user_email" rel="popover" data-content="What’s your email address?" 
        data-original-title="Email"> 
```

这是我的控制器代码

```
 function MyCtrl2($scope) {
         var initial = {text1: 'initial value'};
         var ini = {text2: 'initialvalue'};
         $scope.myModel = angular.copy(initial);
         $scope.myModel = angular.copy(ini);
}

MyCtrl2.$inject = ['$scope']; 
```

我在第一个文本框中写的内容也会自动填充到第二个文本框中。

为什么会发生。

如何避免。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:28:54.693

因为您的两个字段都具有相同的`ng-model`.

`ng-model`为避免这种情况，请为每个输入字段使用不同的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:37:03.700

因为您的两个输入字段都与相同的模型名称**myModel.text 关联**

# url - Opencart seo url 在信息页面中不起作用

> ID：14868916
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:23:17.543
> 
> 标签：url, seo, opencart

通过[点击此链接](http://www.nixstudio.com/seo-friendly-url-opencart/)，我在我的 opencart 商店中启用了 SEO URL。除信息页面外，每个页面都运行良好。我仍然收到那个丑陋的网址

`http://example.com/?route=information/information&information_id=8`

代替

```
http://example.com/privacy-policy 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:35:25.980

您确定您`Catalog >> information >> Privacy Policy`在管理面板中输入了信息页面的 SEO 关键字吗？

除此之外，您可以在表中检查您的数据库（使用 phpmyadmin ），`url_alias`看看是否有类似的行`some_number | information_id=8 | privacy-policy`

# templates - 访问 ICanHaz 对象内的 Mustache 对象

> ID：14868922
> 
> 赞同：3
> 
> 时间：2013-02-14T06:23:47.163
> 
> 标签：templates, mustache, icanhaz.js

我在我的项目中使用 icanhaz。根据文档，它说它也包括 Mustache.js。

现在我想访问嵌入的 Mustache 对象的 to_html() 方法，如下所示。

```
var message = Mustache.to_html(template, json, true); 
```

但是，我收到错误“未定义胡子”。由于 Mustache 已经包含在 iCanHaz.js 中，并且我也成功地使用了 ICanHaz 的其他方法，所以我不应该仅仅为了调用这个单一方法而再次包含整个 Mustache 库，或者我应该吗？

我只想让我的模板呈现为普通字符串，并用我的 json 对象替换值。任何其他简单和轻量级的方式也值得赞赏。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-14T20:59:40.530

无需直接使用 Mustache 对象。

传递`true`给您的普通 ICanHaz 渲染方法以获取 HTML 字符串：

```
var message = ich.myTemplate(json, true); 
```

# jsf - 单击链接重定向到新选项卡

> ID：14868926
> 
> 赞同：0
> 
> 时间：2013-02-14T06:24:00.453
> 
> 标签：jsf

我正在研究 JSF。我有这样的要求。当我单击链接时，它应该在新选项卡中打开目标。但是目标页面不在我的项目中。这是一个单独的应用程序。

我尝试了一个 href，h:link 没有任何效果。这是我最后尝试的。但它一次又一次地在新标签中打开同一页面。

```
 <h:commandLink value="#{item.title}" target="http://localhost:89/kordil_edms/documents.php" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:29:08.077

试试这个 -

```
 <a href="http://localhost:89/kordil_edms/documents.php" target="_blank"> Open </a> 
```

# c# - 在多线程环境中使用 .Net UdpClient

> ID：14868927
> 
> 赞同：5
> 
> 时间：2013-02-14T06:24:05.573
> 
> 标签：c#, .net, multithreading, thread-local, udpclient

我有一个服务于一些线程的类的实例（我们称之为 A），这个实例只通过 UdpClient 类发送 UDP 数据包。它在其构造函数中初始化 UdpClient 并且仅用于发送数据包。

它看起来像：

```
public class A{

private UdpClient m_Client;
public class A(string host, int port){

    m_Client = new UdpClient(host, port);
}

public void Send(string dataToSend){

 var data= encoding.GetBytes(dataToSend);
 client.BeginSend(data, data.Length, null, null);
}

} 
```

我的问题是：

我知道 UdpClient 不是线程安全的（根据 MSDN 文档），在不使用锁定机制的情况下支持多线程的最佳方法是什么？

1.  在每次发送时创建 UdpClient 的新实例？（只需使用一些本地 UdpClient 变量）。表现？

2.  为 UdpClient 使用 ThreadLocal？但是在这种情况下如何处理 UdpClient 呢？

3.  还有其他解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T09:34:03.717

最终我相信我当前的实现应该没有问题（只要微软不会改变 UdpClient 类的实现）。

对谁感兴趣： [http ://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/cbdd9818-00f0-499f-a935-d8e555899d64](http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/cbdd9818-00f0-499f-a935-d8e555899d64)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-17T11:25:38.633

我认为这里最好`UdpClient`的方法是在每次调用该方法时创建一个新方法。这样，您可以确保代码是安全的。性能不太可能是一个问题，如果分析表明它是一个问题，那么你应该开始解决这个问题。

此外，您不应该忘记`EndSend()`在每个之后调用`BeginSend()`（最好是在回调中）。

# android - 播放 You Tube 直播时出错

> ID：14868933
> 
> 赞同：0
> 
> 时间：2013-02-14T06:24:34.363
> 
> 标签：android, youtube, live-streaming

我正在尝试通过 Android 应用播放 You Tube Live 流。这是我用来播放直播的代码，

```
 btnvideo.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {

            startActivity(new Intent(Intent.ACTION_VIEW,Uri.parse("http://www.youtube.com/myjoyonlinetube")));
            Log.i("Video", "Video Playing....");

            }
        }); 
```

但是当我运行该应用程序时，它会加载 You Tube Mobile 主题，但是当我按下流的播放按钮时，它会给出“此客户端不支持实时事件播放”。我通过更改代码尝试了很多次，但没有成功。

我正在使用 Android 2.3.3 应用程序 Galaxy Y 智能手机。

请帮我播放那个直播。

提前致谢。

**编辑：上面的代码可以很好地播放正常的 You Tube 视频。但它仅不适用于 URl 中的上述直播流等直播流。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-06-19T07:57:16.510

此问题与设置为 Web 视图的客户端有关。您需要将用户代理设置为 Web 视图的“Chrome”。

例如。webview.getSettings().setUserAgentString("Chrome");

# c# - 用于验证单击按钮的 Ajax 函数：

> ID：14868945
> 
> 赞同：0
> 
> 时间：2013-02-14T06:25:36.587
> 
> 标签：c#, asp.net, ajax, asp.net-ajax

在我的页面中，我有一个下拉
Panel1
Panel2
按钮来移动下一个
onclick 显示 Panel1 中的下拉数据。面板 2 显示先前选择的数据。

当没有选择indropdown Panel1 设置为不可见时。

现在我想要如果在按钮的 dropdown.onclick 中没有选择任何内容，则会显示一条警报消息
“请为 panel1 选择数据，然后移动下一个”
，我之前使用 javascript 函数和 Next 按钮上的自定义验证功能完成了此操作。但现在我想将它升级到 Ajax。

Javascript代码：

```
 function Validate(sender, args)
    {
            if (document.getElementById("ctl00_rightContainer_ContentTable1_Panel1").style.display == 'none') {
                args.IsValid = false;
            }
            else {
                args.IsValid = true;
            }

    } 
```

但是在尝试了 ajax 函数之后，我使用了可见属性，并且我在 javascript 中得到一个错误，说对象未找到，因为加载时 Panel1 是不可见的。我已经将我的休息功能升级到 ajax，但我不知道我应该这样做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:43:03.323

如果通过 AJAX 你的意思是 Asp.net 更新面板那么它很容易但我不喜欢它。

将面板放在 UpdatePanels 中

不要忘记在顶部添加 ScriptManager：

```
<asp:ScriptManager runat="server" id="sc1"/>

<asp:UpdatePanel ID="up1" runat="server">
</asp:UpdatePanel> 
```

对于下拉菜单，将 AutoPostBack 设置为 true。

下拉列表将有一个 selectedIndex 和 selectedindex 检查验证并显示下一个面板或消息

您可以显示这样的消息：

在标签中

或者

警报或一些 jQuery 弹出窗口

ScriptManager.RegisterStartUpScript(this.Page , typeof(Page) , "alertV" , "alert('Errors');" , true);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:43:35.787

如果您将`Visible`服务器控件的属性设置为`false`它根本不会呈现，并且您无法从客户端代码中显示它。尝试设置`style="display:none;"`。这种方式面板将被呈现但不显示在页面上，您可以从 JavaScript 显示它。

# ios - 如何从 view.window 中删除多个选择器

> ID：14868947
> 
> 赞同：0
> 
> 时间：2013-02-14T06:25:44.943
> 
> 标签：ios, uipickerview

在我的按钮单击应用程序中，我将pickerview添加到下面的窗口中是代码显示

```
- (IBAction)btnMake:(id)sender
{
     pickerViewMake = [[UIPickerView alloc] initWithFrame:pickerFrame];
        pickerViewMake.showsSelectionIndicator = YES;
        pickerViewMake.dataSource = self;
        pickerViewMake.delegate = self;
        [pickerViewMake setBackgroundColor:[UIColor clearColor]];

        [viewPicker addSubview:pickerViewMake];

        [self.view.window addSubview:pickerViewMake];
    }

-(void)removeAllPicker
{   
    [pickerViewMake removeFromSuperview];
    [pickerViewModel removeFromSuperview];
    [pickerViewYear removeFromSuperview];
    [pickerViewTrim removeFromSuperview];
} 
```

删除所有选择器是用于从超级视图中删除选择器的方法，它可以工作问题是，在多次单击 btnMake 时，选择器视图的锥体数向上然后 removeallPicker 方法调用，而不是选择器视图不会从超级视图中删除。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:48:32.140

试试下面的方法

```
if (<instance>) 
    {
        [<instance> removeFromSuperview],<instance> = nil;
    } 
```

在此创建您的选择器之后，它不会创建多次，它只会创建一次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:29:34.643

做一件事，创建一个**BOOL**变量并在**viewdidload**中设置为 yes 并检查函数，如果是，则选择器来并在**btnmake**方法中将其设为 no。

# php - PHP 搜索：使用 Jquery 更改 php 值

> ID：14868948
> 
> 赞同：0
> 
> 时间：2013-02-14T06:25:48.257
> 
> 标签：php, jquery, ajax

我有一个漫画网站。它的一个功能是允许用户搜索漫画……搜索将立即解析输入并根据匹配的标题和关键字返回缩略图结果。

最初，搜索将返回所有结果，并且边界搜索框将无限向下扩展，包含每个漫画结果。我认为将结果限制为 4 个可能是一个不错的选择，如果用户选择这样做，则显示类似“加载 5 个剩余图像”的消息。

如果他们单击该消息，我希望限制 php 变量被删除或更改。

到目前为止，它加载了限制，并显示了一个链接......

![在此处输入图像描述](../Images/00a083c366759cf20d77248689883d6d.png)

**编辑：最新代码：**

**search_field.php（页面中包含的搜索文件...此文件通过 JQuery 调用 search.php）：**

```
<?php $site = (isset($_GET['site']) ? ($_GET['site']) : null); ?>

<div id="sidebar" class="searchborder">
<!--Allow users to search for comic-->
<!--<span class="search">Search for <?php// echo (($site == "artwork") ? 'artwork' : 'a comic'); ?> </span>-->

<script type="text/javascript">

    function GetSearch(mySearchString){
     $.get("./scripts/search.php", {_input : mySearchString, _site : '<?php echo $site ?>'},
            function(returned_data) {
                $("#output").html(returned_data);
            }
        );

    }

</script>
<center>
    <table>
        <tr>
            <td>

                <span class="search">
                <img src="./images/SiteDesign/Search.png" />
                    <input type="text" onkeyup="GetSearch(this.value)" name="input" value="" />
                    <!--<input id="site" type="hidden" value="<?php// echo $site; ?>">-->
                </span>
            </td>
        </tr>
    </table>
</center>
<span id="output">  </span>

 </div> 
```

* * *

**search.php，用于解析字符串并返回结果的文件：**

```
<?php
//Query all images:
include 'dbconnect.php';

$site = $_GET['_site'];
$input = (isset($_GET['_input']) ? ($_GET['_input']) : 0); 
$siteChoice = (isset($_GET['_choice']) ? ($_GET['_choice']) : $site);
$start = (isset($_GET['_start']) ? ($_GET['_start']) : null);

echo "start: " . $start;

//if user goes to hittingtreeswithsticks.com... no "site" value will be set... so I need to set one
if ($site == null) {
$site = "comics";
}

if ($siteChoice == "artwork") {
$sql = "SELECT id, title, keywords, thumb FROM artwork";
$thumbpath = "./images/Artwork/ArtThumbnails/";
}
else if ($siteChoice == "comics") {
$sql = "SELECT id, title, keywords, thumb FROM comics";
$thumbpath = "./images/Comics/ComicThumbnails/";
}
else {
$sql = "SELECT id, title, keywords, thumb FROM $site";
if ($site == "artwork") {
    $thumbpath = "./images/Artwork/ArtThumbnails/";
}
else {
    $thumbpath = "./images/Comics/ComicThumbnails/";
}
}
/* For this to work, need all comics replicated in an "All Comics" file along with "All Thumbnails"
else {
$sql = "SELECT id, title, thumb FROM comics 
        UNION 
        SELECT id, title, thumb FROM artwork";
$thumbpath = "./images/AllThumbnails/";
}*/

$imgpaths = $mysqli->query($sql);
mysqli_close($mysqli);

$idresult = array();
$imgresult = array();
$thumbresult = array();

//CHECK IF $INPUT == IMAGE PATH
if (strlen($input) > 0)
{
while ($row = $imgpaths->fetch_assoc()) 
{
    //query against key words, not the image title (no one will remember the title)
    if (stripos($row['keywords'], $input) !== false || strtolower($input)==strtolower(substr($row['title'],0,strlen($input))))
    //if (strtolower($input)==strtolower(substr($row['title'],0,strlen($input))))
    {
        array_push($idresult, $row['id']);
        array_push($imgresult, $row['title']);
        array_push($thumbresult, $row['thumb']);
    }
}   
//ECHO RESULTS ARRAY 
if(count($imgresult) == 0) 
{
    echo "<p>no suggestions</p>";
}
else 
{

    echo "<ul>";
        $k = 0;
        $max = 4;
        if (count($imgresult) > $max) {
            while ($k < count($imgresult) && $k < $max)
            {
                echo '<li>
                        <span class="sidebarimages"><a href=".?action=viewimage&site=' . $siteChoice . '&id=' . $idresult[$k] . '">
                        <img src="./scripts/thumber.php?img=.'.$thumbpath.$thumbresult[$k].'&mw=90&mh=90"/></a></span>
                      </li>'; 
            $k++;
            }
            $difference = count($imgresult)-$k;
            echo "<br/><i><a href='.?action=homepage&site=" . $siteChoice . "&start=4'  class='loadSearch'>load " . $difference  . " more result" . (($difference != 1) ? 's' : '') . "... </a></i>";
        }
        else {
            while ($k < count($imgresult))
            {
                echo '<li>
                        <span class="sidebarimages"><a href=".?action=viewimage&site=' . $siteChoice . '&id=' . $idresult[$k] . '">
                        <img src="./scripts/thumber.php?img=.'.$thumbpath.$thumbresult[$k].'&mw=90&mh=90"/></a></span>
                      </li>'; 
            $k++;
            }
        }

    echo "</ul>";
}
}
?>
<script type="text/javascript">

$(".loadSearch").click(function() {

//alert("Test");

$.get("./search.php", {_start : 4}, 
    function (returned_data) {
        $("#moreResults").html(returned_data);
    }
);

});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:38:30.080

试试这个：

```
<script type="text/javascript">

$("#loadSearch").click(function() {
    $.get('URL WITH QUERY', function(data) {
        $('#results').html(data);
    });
});

</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:49:17.970

从我得到的所有你需要的是，当单击“加载更多”时，只应显示新结果。

加载更多必须是与您的搜索 url 相同的 url。

```
Search/Autocomplete URL - example.com/autocomplete?q=xkd
Load More URL - example.com/autocomplete?q=xkd&start=4&max=1000 
```

只需在您的网址中添加两个参数。`start and max`. 将它们传递给您的查询，您将获得准确的结果。

仅验证`Start < Max`and 是整数`intval()`而不是 0 `empty()`。此外，如果`Max <= 4`那么不显示负载更多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T07:56:48.890

我会把你所有的结果都还给我，然后试着确定你的结果。如果超过 4 个，则循环出前 4 个结果。如果用户单击加载更多按钮，您将从第 4 个元素开始循环。这样，您只需访问服务器一次（每次搜索）。

尝试以 json 格式返回结果，以便您可以在 html 文件中按照自己喜欢的方式对其进行格式化。

在伪代码中：

```
searchTerm = 'hello';
resultsFromServer = getResults($searchterm);
resultcounter = count(resultsFromServer);

if(resultcounter > 4)

   loop 4 results

else

   loop all results

$(".loadSearch").click(function(e) {

//alert("Test");

e.preventDefault();

$.get("./search.php", {_start : 4}, 
    function (returned_data) {
        $("#moreResults").html(returned_data);
    }
); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T00:33:52.980

我最终选择了 jquery 显示和隐藏功能。

**PHP 片段：**

```
//ECHO RESULTS ARRAY 
if(count($imgresult) == 0) 
{
    echo "<p>no suggestions</p>";
}
else 
{

    echo "<ul>";
        $k = 0;
        $max = 4;

            while ($k < count($imgresult) && $k < $max)
            {
                echo '<li>
                        <span class="sidebarimages"><a href=".?action=viewimage&site=' . $siteChoice . '&id=' . $idresult[$k] . '">
                        <img src="./scripts/thumber.php?img=.'.$thumbpath.$thumbresult[$k].'&mw=90&mh=90"/></a></span>
                      </li>'; 
                $k++;
            }

            $difference = count($imgresult)-$k;

            echo '<div id="moreResults">';
            while ($k < count($imgresult))
            {
                echo '<li>
                        <span class="sidebarimages"><a href=".?action=viewimage&site=' . $siteChoice . '&id=' . $idresult[$k] . '">
                        <img src="./scripts/thumber.php?img=.'.$thumbpath.$thumbresult[$k].'&mw=90&mh=90"/></a></span>
                      </li>';

                $k++;
            }
            echo '</div>';

        if (count($imgresult) > $max) {
            ?>
            <br /><a href="#" id="showMore">Load <?php echo $difference; ?> more result<?php echo (($difference != 1) ? 's' : ''); ?>...</a>
            <?php
        }

    echo "</ul>";
}
} 
```

**查询：**

```
<script type="text/javascript">
$("#moreResults").hide();

$("#showMore").click(function() {
    $("#moreResults").show();
    $("#showMore").hide();

}); 
```

# c++ - 如何从具有相应优先级队列的列表中删除元素？

> ID：14868950
> 
> 赞同：2
> 
> 时间：2013-02-14T06:25:55.063
> 
> 标签：c++, list, priority-queue

我有一个 std::list 对象，比如兔子。每只兔子都有两个属性：ID 和重量。在这个列表中，兔子按照 ID 的顺序排列。然后我使用 std::priority_queue 来存储指向该兔子列表的指针，按重量顺序排列。

现在我将使用这个priority_queue 来删除priority_queue 和原始列表中最轻的N 个兔子。 ***问题****是：如何在**原始**列表中删除？*
示例代码：

```
#include <queue>
using namespace std;
list<Rabbit> rabbitArmy; 
priority_queue<Rabbit, vector<Rabbit*>, CompareWeight> rabbitSortByWeight;

for (int i = 0; i < 999; i++) {

    .....

    // each rabbit has different ID and Weight, codes omitted
    Rabbit rabbit(randomID, randomWeight); 
    rabbitArmy.push_back(rabbit);
    rabbitSortByWeight.push(&rabbitArmy.back());
}

// Now I'll delete N lightest rabbits in the priority_queue
for (int i = 0; i < N; i++) 

    rabbitSortByWeight.pop(); 
```

原名单呢？

顺便说一句，如果我有一个列表，那么我想把它放在priority_queue中，有没有比一个接一个地推送元素更好的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:31:28.710

为什么不简单地使用[top](http://www.cplusplus.com/reference/queue/priority_queue/top/)方法`std::priority_queue`来获取即将被弹出的元素的值，并使用std::list的[remove方法呢？](http://www.cplusplus.com/reference/list/list/remove/)

例如（假设队列存储指向列表元素的指针：

```
myList.remove(*(myQueue.top()); 
```

或（如果队列还存储引用）：

```
myList.remove(myQueue.top()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:54:49.343

所以这就是 Arch 的代码不能*正常*工作的原因，我认为最好将它展示给 OP。缺少的链接是从 std::list<> 中删除的*相等性。* `operator ==()`没有它就`std::list<T>::remove()`无法比较发送的对象是否是正在检查删除的对象。

```
#include <iostream>
#include <iterator>
#include <list>
#include <vector>
#include <queue>
#include <iomanip>
#include <ctime>
using namespace std;

// my rabbit (I don't have yours).
struct Rabbit
{
    Rabbit(int weight=0, int size=0)
       : weight(weight), size(size) {};

    int weight;
    int size;

    // needed for std::list<>::remove()
    bool operator ==(const Rabbit& other)
    {
        return weight == other.weight
            && size == other.size;
    }
};

// write to output stream
std::ostream& operator <<(std::ostream& os, const Rabbit& rabbit)
{
    os << '[' << setw(2) << rabbit.weight << ',' << setw(2) << rabbit.size << ']';
    return os;
}

// functor for comparing two rabbits by address
struct CompareRabbitPtrs
{
    bool operator ()(const Rabbit* left, const Rabbit* right)
    {
        return right->weight < left->weight ||
              (right->weight == left->weight && right->size < left->size);
    }
};

// some typedefs to make life a little easier. first the list
typedef std::list<Rabbit> RabbitList;

// now the priority_queue
typedef std::priority_queue<Rabbit*, std::vector<Rabbit*>, CompareRabbitPtrs> RabbitQueue;

int main()
{
    // seed RNG
    std::srand((unsigned)time(0));

    RabbitList rabbits;
    RabbitQueue rq;

    // load up your rabbits.
    for (int i=1;i<12;++i)
    {
        rabbits.push_back(Rabbit(std::rand() % 10 + 3,std::rand() % 20 + 5));
        rq.push(&rabbits.back());
    }

    // show rabbits
    std::copy(rabbits.begin(), rabbits.end(),
              ostream_iterator<Rabbit>(cout,"\n"));
    cout << endl;

    // remove top N rabbits, in this case 2
    for (int i=0;i<2;++i)
    {
        rabbits.remove(*rq.top());
        rq.pop();
    }

    // show rabbits again.
    std::copy(rabbits.begin(), rabbits.end(),
              ostream_iterator<Rabbit>(cout,"\n"));

    return 0;
} 
```

**样品运行输出**

```
[11,17]
[ 6,17]
[ 8,11]
[12,14]
[ 7, 8]
[ 6,19]
[11,16]
[10,19]
[ 6,21]
[10,14]
[ 7,13]

[11,17]
[ 8,11]
[12,14]
[ 7, 8]
[11,16]
[10,19]
[ 6,21]
[10,14]
[ 7,13] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:05:00.067

有两种方法可以解决这个问题。

该示例假设一个`Rabbit`具有公共`id`成员的类。

**1.**我只是将我所有的兔子存储在一个列表中，然后对兔子*进行*分类。如果兔子已经以特定顺序在列表中 - 这可能是一个问题。

```
std::list<Rabbit> l;
for(int i=0; i<10; i++) 
    l.push_back(Rabbit(rand() % 10));   

auto comp = [](const Rabbit& a, const Rabbit& b) -> bool{ return a.id > b.id; };
l.sort<decltype(comp)>(comp);

int numToRemove = 3;
for(int i=0; i<numToRemove; i++) l.pop_back(); 
```

这将删除 id 最低的 3 只兔子。

**2.**我会完全跳过列表，直接使用`priority_queue`. 这样，当你把兔子弹出来时，一切都得到了排序。请注意，还有其他限制`priority_queue`可能不适合您的需要。

```
auto comp = [](Rabbit* a, Rabbit* b) { return a->id > b->id; };
std::priority_queue<Rabbit*, std::vector<Rabbit*>, decltype(comp)> q(comp);

for(int i=0; i<10; i++) 
    q.push_back(new Rabbit(rand() % 10));   

int numToRemove = 3;
for(int i=0; i<numToRemove; i++)
{
    delete q.top();;
    q.pop();
} 
```

# css - VS2012 MVC 4 Intellisense for CSS Classes 在部分视图中不起作用

> ID：14868954
> 
> 赞同：3
> 
> 时间：2013-02-14T06:26:15.273
> 
> 标签：css, visual-studio-2012, intellisense, partial-views

问题：

我有一个嵌入 CSS 的母版页，我正在尝试通过 VS2012 intellisense 在我的部分视图上访问 CSS 类。

研究与解决方案：

我现在花了很多时间试图解决这个问题，并注意到了一些关于这个问题的其他 stackoverflow 帖子：

[在部分视图和内容页面中查看 CSS Intellisense - Visual Studio 2010？](https://stackoverflow.com/questions/4009040/viewing-css-intellisense-in-partial-views-and-content-pages-visual-studio-2010)

[http://weblogs.asp.net/jeffwids/archive/2009/06/07/why-does-visual-studio-not-resolve-my-css-class-names.aspx](http://weblogs.asp.net/jeffwids/archive/2009/06/07/why-does-visual-studio-not-resolve-my-css-class-names.aspx)

[为什么 Visual Studio 无法解析我的 CSS 类名称？](https://stackoverflow.com/questions/961629/why-does-visual-studio-not-resolve-my-css-class-names)

[http://derekreynolds.wordpress.com/2012/11/30/why-does-visual-studio-not-resolve-my-css-class-names-or-js-method-names/](http://derekreynolds.wordpress.com/2012/11/30/why-does-visual-studio-not-resolve-my-css-class-names-or-js-method-names/)

有人还发布了一段视频，显示了我遇到的确切问题： [http ://www.youtube.com/watch?v=1bp1TxswSHQ](http://www.youtube.com/watch?v=1bp1TxswSHQ)

提供的解决方案是在部分视图页面上使用带有 @if (false) {... 技巧的相对路径：

```
@if (false) {
    <link type="text/css" rel="Stylesheet" href="../../content/css/styles.css"/>
} 
```

或者，在局部视图上使用以下内容：

```
<link rel="stylesheet" runat="server" media="screen" href="~/content/css/styles.css" /> 
```

这些似乎都不适合我。

我正在使用 VS 2012 Express。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-16T06:00:25.260

VS 2012 似乎不支持 .cshtml 文件中的 css 智能感知。

[http://connect.microsoft.com/VisualStudio/feedback/details/790808/no-intellisense-in-html-editor-to-show-the-classes-in-my-css-file](http://connect.microsoft.com/VisualStudio/feedback/details/790808/no-intellisense-in-html-editor-to-show-the-classes-in-my-css-file)

我在 VS 2013 RC 中尝试过，它按预期工作。

# android - 图像动画和滑动以更改 android 中的图像？

> ID：14868955
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:26:14.773
> 
> 标签：android, android-animation, android-imageview, android-image

![在此处输入图像描述](../Images/2dcc797f51db531b9dcee47b4f5f48ea.png)

如何像这样一张一张地切换图像，在android中可以像tat一样做。谁能知道帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:28:36.183

你应该使用coverflow小部件。

[http://www.inter-fuser.com/2010/02/android-coverflow-widget-v2.html](http://www.inter-fuser.com/2010/02/android-coverflow-widget-v2.html) 这是一个链接

# spring-batch - 没有定义名为“springbatch.readerDataSource”的bean

> ID：14868959
> 
> 赞同：0
> 
> 时间：2013-02-14T06:26:28.927
> 
> 标签：spring-batch

在执行我的工作时，我遇到了异常

> 设置 bean 属性“dataSource”时无法解析对 bean“springbatch.readerDataSource”的引用；嵌套异常是 org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'springbatch.readerDataSource' is defined at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329)

注意——我没有创建单独的阅读器文件。只是使用 JdbcCursorItemReader。

**我的配置文件**

```
<bean id="itemReader" 
        class="org.springframework.batch.item.database.JdbcCursorItemReader" scope="step">
        <property name="dataSource" ref="springbatch.batchDataSource"/>
        <property name="sql"  
                  value=
                    "select Cust_Id  from Customer   "/>
        <property name="rowMapper">
            <bean class="com.insurance.premiumrecalculation.batch.CustDto" />
         </property>
    </bean>

    <bean id="policy.premium.recalculation.PremiumRecalculationWriter" 
        class="com.insurance.premiumrecalculation.batch.PremiumRecalculationProcessWriter" scope="step"/>

    <batch:job id="policy.job.premiumRecalculation" 
        job-repository="springbatch.jobRepository" parent="springbatch.job.baseJob">

        <batch:step id="policy.step.premiumrecalculation" parent="springbatch.step.baseStep">
            <batch:tasklet allow-start-if-complete="false" transaction-manager="powTransactionManager">                                   
                <batch:chunk commit-interval="10"                    
                    reader="itemReader"
                    writer="policy.premium.recalculation.PremiumRecalculationWriter"/>                    
            </batch:tasklet>
        </batch:step>
    </batch:job> 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T11:11:00.587

此错误的来源是以下行：

```
<property name="dataSource" ref="springbatch.batchDataSource"/> 
```

这意味着您需要将 id 为“springbatch.batchDataSource”的 bean 定义配置为您的环境的数据源，但似乎不存在。您可以使用以下内容作为模板；不要忘记提供您的数据库驱动程序和连接信息。

```
<bean id="springbatch.batchDataSource" class="org.apache.commons.dbcp.BasicDataSource">
    <property name="driverClassName" value="org.hsqldb.jdbcDriver" />
    <property name="url" value="jdbc:hsqldb:mem:testdb" />
    <property name="username" value="sa" />
    <property name="password" value="" />
</bean> 
```

# multithreading - 有没有办法在 Node.JS 中的工作人员/线程/某些东西之间共享内存？

> ID：14868965
> 
> 赞同：21
> 
> 时间：2013-02-14T06:27:15.557
> 
> 标签：multithreading, node.js, parallel-processing, fork

我有一个 Node 应用程序，它访问一个静态的、大型 (>100M)、复杂的内存中数据结构，接受查询，然后通过 HTTP 向客户端提供该数据的一小部分。

大多数查询可以在十分之一秒内得到答复。节点万岁！

但是，对于某些查询，搜索此数据结构需要几秒钟的时间。这很糟糕，因为其他人都必须等待。

为了有效地为更多客户服务，我想使用某种并行性。

但是，因为这个数据结构太大了，我想在worker或者线程或者你有什么之间共享它，所以我不烧几百兆。这将是非常安全的，因为不会写入数据结构。任何其他语言的典型“fork()”都可以做到。

然而，据我所知，在 Node 中进行并行处理的所有标准方法都明确地使这成为不可能。为了安全起见，他们不希望您分享任何内容。

但是有办法吗？

背景：

将这种数据结构放在数据库中，或者使用 memcached 或类似的东西是不切实际的。

WebWorker API 库和类似的库只允许短序列化消息传入和传出工作线程。

Node 的集群使用了一个名为“fork”的调用，但它实际上并不是现有进程的一个 fork，它正在产生一个新进程。所以再一次，没有共享内存。

可能真正正确的答案是使用类似文件系统的访问共享内存，即 tmpfs 或 mmap。有一些节点库使 mount() 和 mmap() 可用于类似的事情。不幸的是，必须在同步查找和读取之上实现复杂的数据结构访问。我的应用程序使用字典数组等。不必重新实现所有这些会很好。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-16T07:01:27.897

我尝试从 nodejs 编写共享内存访问的 C/C++ 绑定。[https://github.com/supipd/node-shm](https://github.com/supipd/node-shm)

仍在进行中（但为我工作），也许有用，如果有错误或建议，请通知我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-03T20:45:09.033

大多数 Web 应用程序大部分时间都在等待网络缓冲区和数据库读取。Node.js 旨在擅长这种 io 绑定工作。如果您的工作真正受 CPU 的约束，那么另一个平台可能会为您提供更好的服务。

有了这个...

1.  使用 process.nextTick（甚至可能是嵌套块）来确保昂贵的 CPU 工作是正确异步的，并且不允许阻塞您的线程。这将确保一个客户发出昂贵的请求不会对所有其他客户产生负面影响。

2.  使用 node.js 集群为系统中的每个 CPU 添加一个工作进程。工作进程都可以绑定到单个 HTTP 端口并使用 Memcached 或 Redis 共享内存状态。Worker 还有一个消息传递 API，可用于保持进程内内存缓存同步，但它有一些一致性限制。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:46:35.393

使用 waf 构建是旧样式（节点 0.6 及以下），新构建是使用 gyp。

您应该查看节点集群 ( [http://nodejs.org/api/cluster.html](http://nodejs.org/api/cluster.html) )。不清楚这是否会在没有更多详细信息的情况下对您有所帮助，但这会使用 fork 在同一台机器上运行多个节点进程。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T08:11:46.257

实际上 Node 确实支持生成过程。我不确定 Node 的分叉与真正的分叉有多接近，但您可以尝试一下：

[http://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options](http://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options)

顺便说一句：Node 不适合这样做是不正确的。它与任何其他语言/网络服务器一样适合。您始终可以在不同的端口上触发多个服务器实例，并在前面放置一个代理。

如果您需要更多内存 - 添加更多内存。：） 它是如此简单。此外，您应该考虑将所有这些数据放在专用的内存数据库中，例如 Redis 或 Memcached（如果您需要复杂的查询，甚至是 Couchbase）。您不必再担心复制该数据。

# lucene - 如何使用 lucene 搜索以副词/否定词为前缀的单词？

> ID：14868966
> 
> 赞同：0
> 
> 时间：2013-02-14T06:27:20.860
> 
> 标签：lucene

我是Lucene的新手。我想知道如何使用 Lucene 搜索可能带有副词前缀的单词。该文档仅包含单词，并且没有以它们为前缀的副词。

**例如**：如果要搜索的词是“非常漂亮”，而我的文档只包含漂亮，那么我想要一个 Hit。这个词也可以用否定前缀，比如“不是很漂亮”，或者我根本没有前缀，比如“漂亮”。我只是不能放弃前缀，因为我需要跟踪否定进一步处理的流程。

我尝试了模糊搜索，但结果并不那么令人满意。有没有办法找到完成这个？我找不到相关的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T20:17:03.613

如果我这样做，我会在“词性标记”和“自然语言处理”上进行谷歌搜索。一旦你标记了你的词性，你就可以应用 Lucene 索引。

实现这一点的一种方法是使用它们的标签来索引单词，例如：

```
n:he v:is a:a aj:big n:man 
```

为了

```
he is a big man 
```

where `he`and`man`是名词，`is`是动词，`a`是冠词，`big`是形容词。

# f# - 如果存在，如何使 ToString() 返回描述枚举属性？

> ID：14868969
> 
> 赞同：3
> 
> 时间：2013-02-14T06:27:28.227
> 
> 标签：f#

我刚刚在 C# 上发现了这样的问题，并将一些代码转换为 F#，但遗憾的是它仍在返回它的名称。问题是：我的错误在哪里？或者当我想获得 ABToString()

这是我的尝试：

```
[<TypeConverter(typedefof<EnumToStringUsingDescription>)>]
type FontVariant =
    | [<Description("small-caps")>] smallCaps = 0 
```

和

```
type EnumToStringUsingDescription() =
    inherit TypeConverter()
    override X.CanConvertFrom(context : ITypeDescriptorContext, sourceType : Type) =
        sourceType.Equals(typedefof<Enum>);
    override X.CanConvertTo(context : ITypeDescriptorContext, destinationType : Type) =
        (destinationType.Equals(typedefof<String>));
    override X.ConvertFrom(context : ITypeDescriptorContext, culture : System.Globalization.CultureInfo, value : obj) =
        base.ConvertFrom(context, culture, value);
    override X.ConvertTo(context : ITypeDescriptorContext, culture : System.Globalization.CultureInfo, value : obj, destinationType : Type) =
        if (not <| destinationType.Equals(typedefof<String>)) then
            raise <| new ArgumentException("Can only convert to string.", "destinationType");

        if (not <| value.GetType().BaseType.Equals(typedefof<Enum>)) then
            raise <| new ArgumentException("Can only convert an instance of enum.", "value");

        let name = value.ToString();
        let attrs = 
            value.GetType().GetField(name).GetCustomAttributes(typedefof<DescriptionAttribute>, false);
        if (attrs.Length > 0) then attrs.[0]
        else value 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T16:00:55.340

正如罗伯特所提到的，因为枚举不能有成员，因此你不能覆盖`ToString`，你可以做这样的事情，作为一种妥协：

```
type FontVariant =
  | ``small-caps`` = 0 
```

然后，`printf`按需要工作：

```
printfn "%A" FontVariant.``small-caps`` 
```

```
> 小型股
```

此外，John 建议使用有区别的工会是一个很好的建议。它们看起来就像枚举，减去数值：

```
type FontVariant =
  | SmallCaps
  override this.ToString() =
    match this with
    | SmallCaps -> "small-caps" 
```

使用`%O`格式（`%A`将使用反射并打印案例名称）。

```
printfn "%O" FontVariant.SmallCaps 
```

如果您需要数值，如枚举提供的那样，您可以定义一个属性：

```
member this.Value =
  match this with
  | SmallCaps -> 0

printfn "%d" FontVariant.SmallCaps.Value 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-14T08:02:28.400

这里有几个问题。首先，添加 TypeConverter 不会影响`.ToString()`. 其次，您的转换返回的是属性，而不是属性中的描述。这是一个工作函数。

```
let getEnumDescription (value: Enum) =
   let typ = value.GetType()
   let name = value.ToString();
   let attrs = typ.GetField(name).GetCustomAttributes(typedefof<DescriptionAttribute>, false)
   if (attrs.Length > 0) then (attrs.[0] :?> DescriptionAttribute).Description :> obj
   else name :> obj 
```

也就是说，如果可用，某些库/框架将使用类型转换器。可能看起来像这样。可能你也必须实现 ConvertFrom/CanConvertFrom，我不确定。

```
type EnumToStringUsingDescription() =
    inherit TypeConverter()
    override X.CanConvertTo(context : ITypeDescriptorContext, destinationType : Type) = (destinationType.Equals(typedefof<String>))
    override X.ConvertTo(context : ITypeDescriptorContext, culture : System.Globalization.CultureInfo, value : obj, destinationType : Type) =
       let typ = value.GetType()
       if (not <| typ.IsEnum) then raise <| new ArgumentException("Can only convert from enum.", "value");
       if (not <| typ.Equals typeof<string>) then raise <| new ArgumentException("Can only convert to string.", "destinationType");
       getEnumDescription (value :?> Enum) 
```

# c++ - 继承中调用构造函数的顺序

> ID：14868971
> 
> 赞同：1
> 
> 时间：2013-02-14T06:27:39.123
> 
> 标签：c++, inheritance, constructor, destructor

我是 C++ 编程语言的新手，我对在继承中调用构造函数的顺序感到困惑。我的问题是，即使派生类没有继承构造函数和析构函数，为什么在我创建派生类对象时会调用基类构造函数。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:02:10.600

构造函数的目的是定义数据成员的初始化方式。由于派生类从基类继承数据成员，因此派生类的任何构造函数不仅必须定义如何初始化特定于派生类的数据成员，还必须定义来自基类的数据成员。

执行此操作（并且 C++ 标准要求）的自然方法是调用基类构造函数。如果您没有在派生类构造函数的初始化列表中包含特定的构造函数调用，则基类的默认构造函数将用于初始化基类成员。

```
struct base
{
   int _i;               // a data member
   base():_i(0) {}       // default constructor
   base(int i):_i(i) {}  // special constructor
};

struct derived : base
{
  int _j;                         // a data member specific to the derived class
  derived(int i, int j):_j(j) {}  // user-defined constructor for the derived class
}; 
```

上面的示例说明了派生类构造函数如何初始化其 member `_j`，但是`_i`来自基类的 member 必须使用基类构造函数进行初始化。

按照上面的写法，`base::base()`编译器会自动调用默认构造函数，即`_i`初始化为0。

但是您可以通过包含对特定构造函数的调用来更改该行为：

```
struct derived : base
{
  int _j;
  derived(int i, int j):base(i),_j(j) {}  // user-defined constructor for the derived class
}; 
```

构造函数调用的顺序是：首先调用基类的构造函数，然后是派生类特定成员的初始化程序。这是很自然的，因为从某种意义上说，派生类是基类的*扩展*，并且认为派生类对象的基类部分*首先存在*是有意义的。

# python - 如何将输出重定向到客户端

> ID：14868974
> 
> 赞同：2
> 
> 时间：2013-02-14T06:27:53.390
> 
> 标签：python, xml-rpc

我是一个相对较新的 Python 程序员，我创建了这个 XMLRPC Server 函数，如下所示：

```
def shell(self, command, username):
    if username in loggedIn:
        return os.system(command)
    else:
        string = time.asctime() , " not logged in"
        string = "".join(string)
        return string 
```

对于客户端，我写了

```
command = raw_input ("$ ")
if command == "exit":
    exit()
else:
    server.shell(command, username) 
```

但是，当我在客户端程序中运行命令时，输出将在服务器窗口而不是客户端窗口中，如下所示：

```
#client side
$ ls

#server side
#some results
localhost - - [14/Feb/2013 14:26:25] "POST /RPC2 HTTP/1.0" 200 - 
```

而且 cd 命令也坏了（即即使发出命令，我也无法更改到其他目录）。有没有办法这样做，如果有，怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:15:24.027

os.system 不将输出返回到命令行，只返回返回码。如果要捕获 stdout/stderr，则必须使用 subprocess.Popen。然后，您还可以提供一个工作目录来执行您的命令（使用 cwd 参数）。据我所知， cd 可能在 shell 中工作，但不会更改 python 实例的工作目录。因此，下一次调用将不会在您更改到的目录中运行。将 Popen 与 cwd 一起使用应该可以。

# ruby-on-rails - 如何将 ROR 安装到 ubuntu 12.04？sqlite3 出现错误

> ID：14868975
> 
> 赞同：0
> 
> 时间：2013-02-14T06:27:53.697
> 
> 标签：ruby-on-rails, ruby, ubuntu-12.04, sqlite3-ruby

我是 ROR 的新手。因此，当我尝试安装 ROR 时。当我尝试启动 rails( `rails s`) 时，我收到这样的错误：

```
Could not find gem 'sqlite3 (>= 0) ruby' in the gems available on this machine.
Run `bundle install` to install missing gems.

P.S. I'm working on Ubuntu 12.04 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:30:55.947

尝试

```
sudo apt-get install libsqlite3-dev 
```

和

```
sudo gem install sqlite3-ruby 
```

然后运行

```
bundle install 
```

您只需阅读错误消息即可。

```
Run `bundle install` to install missing gems. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:06:43.877

RyanBigg 的博客非常适合为 ubuntu 安装 ROR。因此，以下链接可能会对您有所帮助。
[http://ryanbigg.com/2010/12/ubuntu-ruby-rvm-rails-and-you/](http://ryanbigg.com/2010/12/ubuntu-ruby-rvm-rails-and-you/)

# php - php-move_upload_file 文件大小问题

> ID：14868980
> 
> 赞同：0
> 
> 时间：2013-02-14T06:28:09.333
> 
> 标签：php

我在移动上传的文件时遇到问题。在移动超过 2MB 的文件时，并没有移动到我想要的位置。我应该怎么做才能使大小高达 2GB 的文件在上传时移动到特定位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:32:05.813

在您的 php ini 中更改这些值

```
max_execution_time 36000
max_input_time 60
upload_max_filesize 2000M
post_max_size 2000M 
```

您可以使用 .htaccess 并在您的 php 代码中使用`ini_set("max_execution_time",3600);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:32:45.633

更改您的 php.ini 文件配置，其中 `upload_max_filesize = 2M`. 只需将其值更改为更大一些

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:38:58.547

```
ini_set('post_max_size', '2048M');
ini_set('upload_max_filesize', '2048M');
and you may need to look at setting php's memory limit up also:
ini_set('memory_limit', '128M'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:41:06.640

默认情况下，php.ini 文件中的最大上传大小设置为 2M，您需要将其更改为更大的值。

更改 php.ini 文件中的以下变量：

```
upload_max_filesize
post_max_size 
```

将这些设置为您想要的值。

注意：post_max_size 值必须大于 upload_max_filesize

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-14T06:44:31.247

```
note: php.ini file max execution time change 

if ($_FILES["file"]["error"] > 0)
    {
    echo "Return Code: " . $_FILES["file"]["error"] . "<br>";
    }
  else
    {
    echo "Upload: " . $_FILES["file"]["name"] . "<br>";
    echo "Type: " . $_FILES["file"]["type"] . "<br>";
    echo "Size: " . ($_FILES["file"]["size"] / 1024) . " kB<br>";
    echo "Temp file: " . $_FILES["file"]["tmp_name"] . "<br>";

    if (file_exists("upload/" . $_FILES["file"]["name"]))
      {
      echo $_FILES["file"]["name"] . " already exists. ";
      }
    else
      {
      move_uploaded_file($_FILES["file"]["tmp_name"],
      "upload/" . $_FILES["file"]["name"]);
      echo "Stored in: " . "upload/" . $_FILES["file"]["name"];
      }
    } 
```

# c# - 将子高度或宽度设置为父控件与android中的“match_parent”相同

> ID：14868984
> 
> 赞同：7
> 
> 时间：2013-02-14T06:28:16.680
> 
> 标签：c#, xaml, windows-8, windows-phone-8

我有一个包含网格的页面，并且在该网格中有一张地图。但我无法将地图的大小设置为与网格大小相同。虽然我可以在代码中将其设置为

```
MyMap.Height = LayoutRoot.ActualHeight;
MyMap.Width = LayoutRoot.ActualWidth; 
```

但是我怎样才能在 xaml 中设置它。

```
<phone:PhoneApplicationPage
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:maps="clr-namespace:Microsoft.Phone.Maps.Controls;assembly=Microsoft.Phone.Maps"
    x:Class="MapSample.MainPage"
    mc:Ignorable="d"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    SupportedOrientations="Portrait" Orientation="Portrait"
    shell:SystemTray.IsVisible="True">

    <Grid x:Name="LayoutRoot" Background="Red">
        <maps:Map x:Name="MyMap" HorizontalAlignment="Left" VerticalAlignment="Top" Center="47.6097, -122.3331" ZoomLevel="10"/>
    </Grid>

</phone:PhoneApplicationPage> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-14T07:50:32.077

您应该将地图控件的`HorizontalAlignment`and设置为`VerticalAlignment``Stretch`

```
<maps:Map x:Name="MyMap"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch"
          Center="47.6097, -122.3331"
          ZoomLevel="10" /> 
```

# android - 在 Sherlock 操作栏 android 中更改子菜单文本的大小和颜色

> ID：14868985
> 
> 赞同：1
> 
> 时间：2013-02-14T06:28:19.123
> 
> 标签：android, actionbarsherlock, submenu, textcolor

我正在开发使用 Sherlock 操作栏的小型 android 应用程序。在我的操作栏中，我正在使用子菜单。一切正常，唯一的问题是我无法覆盖该子菜单文本的样式。我想更改子菜单标题的颜色和文本以及下拉列表文本的颜色和大小。我通过以下方式尝试了这个......

```
// displaying sub menu
 SubMenu subMenu1 = menu.addSubMenu("Coupons");
    subMenu1.add("Co1");
    subMenu1.add("co2");
    subMenu1.add("co3");

    MenuItem subMenu1Item = subMenu1.getItem();
    //subMenu1Item.setIcon(R.drawable.fb_br);
    subMenu1Item.setTitle("Cards");
    subMenu1Item.setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS | MenuItem.SHOW_AS_ACTION_WITH_TEXT); 
```

我试图以这种方式覆盖 style.xml 中的文本样式

```
 <style name="AppTheme" parent="@style/Theme.Sherlock.Light">
<item name="android:dropDownListViewStyle">@style/MyDropDownListView</item></style>
 <style name="MyDropDownListView" parent="android:style/Widget.ListView.DropDown">
    <item name="android:textColor">#FFFFFF</item>
</style> 
```

但它不工作。我做错了什么吗？..这是怎么回事..需要帮助..谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T05:51:12.130

自定义定义一个主题，如

```
 <style name="Theme.MyTheme" parent="Theme.Sherlock.Light">
        <item name="android:actionMenuTextColor">@color/white</item>
    </style> 
```

这可能会改变菜单项的颜色。

或者将它们添加到操作栏的自定义视图 xml 中。

# ember.js - 从 Ember 视图中调用控制器操作

> ID：14868989
> 
> 赞同：10
> 
> 时间：2013-02-14T06:28:41.550
> 
> 标签：ember.js

我有一个带有`onClick`视图事件的提交按钮。此事件检查一个标志，并根据条件允许提交表单。我希望`submit`调用控制器上的操作。做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-14T09:36:12.177

这是基于 albertjan 示例的另一种解决方案，适用于您必须在视图中执行一些逻辑然后委托给控制器的情况。这就是我理解你的问题的方式：

**哈佛商学院：**

```
<script type="text/x-handlebars" data-template-name="index">
    <button {{action submit target="view"}} >Sumbit</button>
</script> 
```

**看法：**

```
App.ThingView = Ember.View.extend({
    submit : function(){
            //do the view part of your logic
        var object = //do whatever you may need
        this.get("controller").send("submitInController", object); //you do not have to send object, if you do not need to
    }
}); 
```

**控制器：**

```
App.ThingController = Em.ObjectController.extend({
    submitInController: function(model) {
        // do the controller part of your logic
    }
}); 
```

**注意：**您视图中的呼叫也会冒泡到您当前的路线。所以这基本上是相同的代码，当使用动作助手时，ember 正在执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T08:09:37.937

我将在控制器上处理整个事件：

**哈佛商学院：**

```
<script type="text/x-handlebars" data-template-name="index">
    <button {{action "submit"}}>Sumbit</button>
</script> 
```

**控制器：**

```
App.ThingController = Em.ObjectController.extend({
    submit: function() {
        //handle things here!
        //change the state of your object here to reflect the changes that
        //the submit made so that the view shows these.
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-24T00:10:01.210

在 Ember 版本 1.0.0 中，我已经成功地将操作添加到控制器中自己的对象文字中。

**索引模板.html**

```
<script type="text/x-handlebars" data-template-name="index">
    <button {{action "submit"}}>Submit</button>
</script> 
```

**ThingController.js**

```
App.ThingController = Ember.ObjectController.extend({
    actions: {
        submit: function() {
            //handle things here!
            //change the state of your object here to reflect the changes that
            //the submit made so that the view shows these.
        }
    }
}); 
```

有关更多信息，请查看 Ember Guides 中的[`{{action}}`帮助文档](http://emberjs.com/guides/templates/actions/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-27T05:03:59.507

[如果视图使用ViewTargetActionSupport mixin](http://emberjs.com/api/classes/Ember.ViewTargetActionSupport.html)，您可以从视图触发操作。下面的例子演示了它的用法：

```
App.SomeController = Ember.Controller.extend({
    actions: {
        doSomething: function() {
            alert('Doing something!');
        }
    }
});

App.SomeView = Ember.View.extend(Ember.ViewTargetActionSupport, {
    someMethod: function() {
        this.triggerAction({action: 'doSomething'});
    }
}); 
```

# javascript - jQuery切换方法的正确使用

> ID：14868990
> 
> 赞同：1
> 
> 时间：2013-02-14T06:28:45.117
> 
> 标签：javascript, jquery, toggle

```
$('#btn2').toggle(
    function () {
        $('#btn2').text('show');
    },
    function () {
        $('#btn2').text('hide');                
    }
) 
```

这在我的计算机（在任何浏览器上）上不起作用。这可能是由于 jQuery 版本之间的方法发生了变化吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:33:55.997

根据您更新的功能请求，只需在两个内部文本值之间交替：

```
$('#btn2').click(function() {
    $(this).text( $(this).text()=='show'? 'hide':'show' );
}); 
```

* * *

这不是 的签名之一[`toggle`](http://api.jquery.com/toggle)。要使用它的隐藏/显示功能，请执行此操作`$(elem).toggle()`（显然，如果按钮被隐藏，它不能说“显示”，所以大概你正在切换其他东西）：

```
$(elem).toggle();
$('#btn2').text( $(elem).is(':visible') ? 'hide' : 'show' ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:47:05.143

试试这个：http: [//jsfiddle.net/W9JCR/](http://jsfiddle.net/W9JCR/)

```
$('#btn2').click(function () {
   ($(this).text()=='show') ? $(this).text('hide') : $(this).text('show');
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T06:45:14.880

见[小提琴](http://jsfiddle.net/pUtU6/)

[这个功能`.toggle`在 jQuery 1.9 中被移除](http://api.jquery.com/toggle-event/)

所以这[不适](http://jsfiddle.net/pUtU6/1/)用于 jQuery 1.9 或更高版本..

[在此处](http://jsfiddle.net/pUtU6/2/)查看另一种选择

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:33:07.497

是的，它仍然受支持。我认为您的代码的问题在于您使用了`text()`. 利用`val()`

```
$('#btn2').toggle(function () {
    $('#btn2').val('show');
    },function () {
        $('#btn2').val('hide');                
}); 
```

# android - 高分辨率设备 (XHDPI) 上的 GridView 内存不足问题

> ID：14868991
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:28:49.193
> 
> 标签：android, gridview, out-of-memory

我正在开发一个使用 GridView 的应用程序，并且 Gridview 中的每个图像都有一个小的描述，当我们单击任何显示此描述的图像时，我已经在不同的设备上进行了测试，它非常适合 MDPI 和 HDPI设备，但是当我在 XHDPI 设备（高分辨率设备）上对其进行测试时，出现内存不足错误。

我无法理解问题所在，这是我的活动：-

```
GridView gridView = (GridView) findViewById(R.id.grid_view);

        // Instance of ImageAdapter Class
        gridView.setAdapter(new ImageAdapter(getApplicationContext()));

        /**
         * On Click event for Single Gridview Item
         * */
        gridView.setOnItemClickListener(new OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) {

                // Sending image id to FullScreenActivity
                Intent i = new Intent(getApplicationContext(), TrafficDetails.class);
                // passing array index
                i.putExtra("id", position);

                startActivity(i);

            }
        }); 
```

这是我的 ImageAdapter，我在其中使用我的可绘制对象中的图像

```
 public Integer[] mThumbIds = {
            R.drawable.pic_1, R.drawable.pic_2,
            R.drawable.pic_3, R.drawable.pic_4,
            R.drawable.pic_5, R.drawable.pic_6,
            R.drawable.pic_7, R.drawable.pic_8,
            R.drawable.pic_9, R.drawable.pic_10,
            R.drawable.pic_11, R.drawable.pic_12,
            R.drawable.pic_13, R.drawable.pic_14,
            R.drawable.pic_15,R.drawable.pic_16,
            R.drawable.pic_17,R.drawable.pic_18,
            R.drawable.pic_19,R.drawable.pic_20,
            R.drawable.pic_21,R.drawable.pic_22,
            R.drawable.pic_23,R.drawable.pic_24,
            R.drawable.pic_25,R.drawable.pic_26,
            R.drawable.pic_27,R.drawable.pic_28,
            R.drawable.pic_29,R.drawable.pic_30,
            R.drawable.pic_31,R.drawable.pic_32,
            R.drawable.pic_33,R.drawable.pic_34,
            R.drawable.pic_35,R.drawable.pic_36,
            R.drawable.pic_37,R.drawable.pic_38,
            R.drawable.pic_39,R.drawable.pic_40,
            R.drawable.pic_41,R.drawable.pic_42,
            R.drawable.pic_43,R.drawable.pic_44,
            R.drawable.pic_45,R.drawable.pic_46,
            R.drawable.pic_47,R.drawable.pic_48,
            R.drawable.pic_49,R.drawable.pic_50,
            R.drawable.pic_51,R.drawable.pic_52,
            R.drawable.pic_53,
    };

    public String[] str_ary = {

// Description of all images
..................

    };

    // Constructor
    public ImageAdapter(Context c){
        mContext = c;
    }

    @Override
    public int getCount() {
        return mThumbIds.length;
    }

    @Override
    public Object getItem(int position) {
        return mThumbIds[position];

    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {     

        ImageView imageView = new ImageView(mContext);
        //  TextView txt = new TextView(mContext);
        imageView.setImageResource(mThumbIds[position]);
        imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);
        imageView.setLayoutParams(new GridView.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT));
        //    txt.setLayoutParams(new GridView.LayoutParams(500, 500));
        return imageView; 
```

请帮我解决这个问题，任何帮助都会很明显......

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T06:44:45.033

尝试如下：

```
ImageView imageView = new ImageView(mContext);
//  TextView txt = new TextView(mContext);
imageView.setImageResource(mThumbIds[position]);
imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);
imageView.setLayoutParams(
      new  GridView.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, 
         RelativeLayout.LayoutParams.WRAP_CONTENT));   
Bitmap m_d = BitmapFactory.decodeResource(mContext.getResources(), 
                                   mThumbIds[p_position]);
if (m_d != null)
{
     Bitmap resizedBitmap = Bitmap.createScaledBitmap(m_d, 100, 100, true);
     imageView.setImageBitmap(resizedBitmap);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:33:24.557

您可以使用此代码获取位图：

[https://stackoverflow.com/a/823966/1168654](https://stackoverflow.com/a/823966/1168654)

您可以使用处理位图大小

```
final int REQUIRED_SIZE=70; 
```

下面的链接从可绘制文件夹中获取位图，您必须结合这两个代码并在您的应用程序中使用它。

[https://stackoverflow.com/a/3035869/1168654](https://stackoverflow.com/a/3035869/1168654)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:58:05.697

这不是你的编码。好吧，但语法并没有错，这是您没有考虑过并正确计划它的方式。Android 会分配一定数量的内存供您的应用在运行时使用。假设 10MB 的 RAM（这取决于当前使用的内存量）假设您正在尝试加载 10 张图像，总共需要 15MB 的 RAM。Android 通常会尝试为您的应用提供额外的 5MB，但并不总是保证。那时，Android 只能说“内存不足”，您的应用程序就会崩溃。

请参考[这个](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:37:39.147

您应该使用 getView 中的 viewHolder。

下面是列表视图示例，但可以应用于 GridView :)

[ListView 的世界](http://dl.google.com/googleio/2010/android-world-of-listview-android.pdf)

# busybox - 如何在busybox上启用ps -ux选项？

> ID：14868998
> 
> 赞同：4
> 
> 时间：2013-02-14T06:29:18.213
> 
> 标签：busybox

我已经为我的嵌入式 linux 剥离了忙碌的盒子。目前忙碌的盒子只支持 ps -w 选项。

我需要对应用程序的 CPU 和内存使用情况进行采样，并且该示例应至少为每秒 5 次。顶部命令每秒提供 1 个样本。

我目前正在使用 ps -ux 获取此特定进程的 CPU 和内存使用情况，并使用 vmstat 和 meminfo 获取总体 CPU 和内存使用情况。我直接将从“ps -ux”、“meminfo”、“vmstat”获得的信息重定向到一个文件，稍后我将解析这个文件以查看这个特定进程在整体 CPU 和内存使用方面的趋势我每秒得到 3-5 个样本。

问题是我无法在忙碌的盒子上启用“ps -ux”。如何在具有精简 linux 版本的繁忙盒上启用 ps -ux 选项？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-22T14:35:23.137

`/proc`另一种选择是从内核的虚拟目录中读取您需要的任何进程统计信息。`/proc/PID/stat`有[各种各样的好东西](http://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/proc.html)，你可以随心所欲地阅读它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:39:01.177

我在这里看到的唯一解决方案是从[源代码](http://procps.sourceforge.net/)构建所需的*ps*版本。当然，不要忘记您需要交叉编译它，因为它适用于我假设在 ARM 或其他非 x86 架构上运行的嵌入式系统。之后，只需将嵌入式系统上的二进制文件替换为新建的二进制文件（不要忘记备份，以防万一）。