# StackOverflow 问答 16183000-16183999

# mysql - 从视图中搜索最大值和最小值

> ID：16183005
> 
> 赞同：0
> 
> 时间：2013-04-24T03:44:59.497
> 
> 标签：mysql

我想问一下我的 sql 以从视图中找到最大值和最小值。

我创建了一个视图：

```
create VIEW Count_Of_Appointment AS
SELECT ap.doctorID, COUNT(*) AS NumberOfAppointment, CONCAT(d.surname,'', d.given) AS doctor_name
FROM appointment AS ap Inner join doctor AS d
    ON ap.doctorid = d.doctorID
GROUP BY doctorID
ORDER BY COUNT(*) 
```

现在，我想从使用该视图中找到 min + 医生姓名。

这是我的代码：

```
SELECT a2.*
FROM
    (
    SELECT ap.doctorID, COUNT(*) AS Number, CONCAT(d.surname,'', d.given) AS doctor_name
    FROM appointment AS ap Inner join doctor AS d
        ON ap.doctorid = d.doctorID
    GROUP BY doctorID
    ORDER BY COUNT(*)
    )a2
INNER JOIN 
(
SELECT MIN(Number) AS NumberOfAppointment 
FROM
    (
    SELECT ap.doctorID, COUNT(*) AS Number, CONCAT(d.surname,'', d.given) AS doctor_name
    FROM appointment AS ap Inner join doctor AS d
        ON ap.doctorid = d.doctorID
    GROUP BY doctorID
    ORDER BY COUNT(*)
    )a1
)b 
ON a2.Number = b.NumberOfAppointment 
```

我在使用视图之前正在执行该代码。如何使用 FROM VIEW Count_Of_Appointment 转换它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T03:51:23.923

这是使用 MySQL 获取最小和最大聚合函数的方法

```
SELECT student_name, MIN(test_score), MAX(test_score)
    FROM student
    GROUP BY student_name; 
```

如果你想把它作为一个视图

```
CREATE VIEW vw_student_score AS 
   SELECT student_name, MIN(test_score), MAX(test_score)
    FROM student
    GROUP BY student_name; 
```

# mysql - Mac OS 上的 MySQL 连接访问

> ID：16183008
> 
> 赞同：0
> 
> 时间：2013-04-24T03:45:31.433
> 
> 标签：mysql, macos

一些程序试图不断访问我的 MySql 数据库。

我可以在一般日志中看到：

```
130424  0:43:59   112 Connect   Access denied for user 'lucas'@'localhost' (using password: NO)
          112 Connect   lucas@localhost as  on 
130424  0:44:01   113 Connect   Access denied for user 'lucas'@'localhost' (using password: NO)
          113 Connect   lucas@localhost as  on 
130424  0:44:03   114 Connect   Access denied for user 'lucas'@'localhost' (using password: NO) 
```

我找不到请求的来源。

我正在运行 Mac OS 10.8。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-13T06:10:14.370

如果您仍然遇到此问题，这是系统偏好设置中 MySQL 小部件的错误。在这里查看更多：

[https://stackoverflow.com/questions/18012711/register-the-pid-that-tries-to-connect-in-the-mysql-log](https://stackoverflow.com/questions/18012711/register-the-pid-that-tries-to-connect-in-the-mysql-log)

# java - VBO - 我可以在初始化时做什么？

> ID：16183009
> 
> 赞同：0
> 
> 时间：2013-04-24T03:45:33.727
> 
> 标签：java, android, opengl-es-2.0, vbo

我有一个与 [x, y, z, textureX, textureY,.....] 交错的 VBO，所有这些都可以正常工作和显示。我试图弄清楚在初始化时可以做什么并忘记了。

这是我目前正在尝试初始化的内容。

已编辑：修复了我的缓冲区的解除绑定并移动了一些代码。

```
 mPositionHandle = GLES20.glGetAttribLocation(mProgramHandle, "vPosition");
        mTextureUniformHandle = GLES20.glGetUniformLocation(mProgramHandle, "u_Texture");
        mTextureCoordinateHandle = GLES20.glGetAttribLocation(mProgramHandle, "a_TexCoordinate");

        GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, glBufferObjects.get(0));
        GLES20.glBufferData(GLES20.GL_ARRAY_BUFFER, interleavedBuffer.capacity() * BYTES_PER_FLOAT, interleavedBuffer, GLES20.GL_STATIC_DRAW);          

        //////////These are superfluous but I'd like to do them once since they never change///// 
        GLES20.glEnableVertexAttribArray(mTextureCoordinateHandle);
        GLES20.glVertexAttribPointer(mTextureCoordinateHandle, mTextureCoordinateDataSize, GLES20.GL_FLOAT, false,
                INTERLEAVED_VERTEX_TEXTURE_STRIDE, 3 * BYTES_PER_FLOAT);

        GLES20.glEnableVertexAttribArray(mPositionHandle);
        GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX, GLES20.GL_FLOAT, false,
                INTERLEAVED_VERTEX_TEXTURE_STRIDE, 0);
        ////////////////////////////////////////////////////

        mMVPMatrixHandle = GLES20.glGetUniformLocation(mProgramHandle, "uMVPMatrix");

        GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, 0);
        GLES20.glBindBuffer(GLES20.GL_ELEMENT_ARRAY_BUFFER, glBufferObjects.get(1));
        GLES20.glBufferData(GLES20.GL_ELEMENT_ARRAY_BUFFER,
                drawListBuffer.capacity() * BYTES_PER_SHORT,
                drawListBuffer,
                GLES20.GL_STATIC_DRAW);
        GLES20.glBindBuffer(GLES20.GL_ELEMENT_ARRAY_BUFFER, 0); 
```

这是有效的。我弄乱了一堆，但我不知道每个并条机需要什么，因为它需要或者我做错了。任何帮助，将不胜感激。

```
public void draw(float[] mvpMatrix) {
    GLES20.glUseProgram(mProgramHandle);
    GLES20.glUniform1i(mTextureUniformHandle, 0);

    GLES20.glActiveTexture(GLES20.GL_TEXTURE0);
    GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mTextureDataHandle);
    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, glBufferObjects.get(0));
    GLES20.glBindBuffer(GLES20.GL_ELEMENT_ARRAY_BUFFER, glBufferObjects.get(1));        

    GLES20.glEnableVertexAttribArray(mTextureCoordinateHandle);
    GLES20.glVertexAttribPointer(mTextureCoordinateHandle, mTextureCoordinateDataSize, GLES20.GL_FLOAT, false,
            INTERLEAVED_VERTEX_TEXTURE_STRIDE, 3 * BYTES_PER_FLOAT);

    GLES20.glEnableVertexAttribArray(mPositionHandle);
    GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX, GLES20.GL_FLOAT, false,
            INTERLEAVED_VERTEX_TEXTURE_STRIDE, 0);

    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mvpMatrix, 0);
    GLES20.glDrawElements(GLES20.GL_TRIANGLES, 6, GLES20.GL_UNSIGNED_SHORT, 0);

    GLES20.glBindBuffer(GLES20.GL_ARRAY_BUFFER, 0);
    GLES20.glBindBuffer(GLES20.GL_ELEMENT_ARRAY_BUFFER, 0);
} 
```

编辑：更新 - 如果我删除

```
 GLES20.glEnableVertexAttribArray(mTextureCoordinateHandle);
    GLES20.glVertexAttribPointer(mTextureCoordinateHandle, mTextureCoordinateDataSize, GLES20.GL_FLOAT, false,
            INTERLEAVED_VERTEX_TEXTURE_STRIDE, 3 * BYTES_PER_FLOAT);

    GLES20.glEnableVertexAttribArray(mPositionHandle);
    GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX, GLES20.GL_FLOAT, false,
            INTERLEAVED_VERTEX_TEXTURE_STRIDE, 0); 
```

从我的 draw() 它抛出一个 gl_draw_error_checks:418: GL_INVALID_OPERATION

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T16:35:44.377

如果您不使用扩展，则每帧都需要调用 glEnableVertexAttribArray 和 glVertexAttribPointer。

但是，如果扩展 OES_vertex_array_object 可用，那么您可以使用顶点数组对象将此信息与 VBO 数据一起存储。然后你只需要每帧调用 glBindVertexArray 和 glDrawArrays 。

# javascript - 从 JSON 对象 JavaScript 中减去数组

> ID：16183011
> 
> 赞同：0
> 
> 时间：2013-04-24T03:45:57.290
> 
> 标签：javascript, jquery, json

我有一个 Json 对象数组

```
 posturlContent = [
        { "Title": "Bbc news live", "Content": "<div>this is a test BBC </div>", "Uri": "http://bbc.co.uk" },
        { "Title": "CNN news live", "Content": "<div>this is a test CNN</div>", "Uri": "http://cnn.com" },
        { "Title": "Youtube news live", "Content": "<div>this is a test Youtube </div>", "Uri": "http://youtube.com" },
    ]; 
```

我有一个 JS 数组

```
uris =["http://cnn.com", "http://abcnews.com",...] 
```

我只需要在 uris 中的项目的 posturlContent 的输出，因此如下所示。

```
 posturlContent = [

        { "Title": "CNN news live", "Content": "<div>this is a test CNN</div>", "Uri": "http://cnn.com" }

    ]; 
```

我尝试使用它但返回空的 posturlContent

```
 $.each(uris, function(){
        var siteUrl = this.valueOf();
        posturlContent = $.grep(posturlContent, function(item){
            return item.Uri.toLowerCase() != siteUrl.toLowerCase();
        });
    }) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:00:56.750

我会使用逆逻辑，循环`posturlContent`，并`$.grep`检查：`uris``indexOf`

```
posturlContent = $.grep(posturlContent, function(item){
    return uris.indexOf(item.Uri) > -1;
}); 
```

[http://jsfiddle.net/ExBsa/](http://jsfiddle.net/ExBsa/)

注意：要在 IE <= 8 中支持 Array.indexOf，请使用[mdn polyfill](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf#Compatibility)，或者按照 vher2 的建议简单地使用 jQuery 的 $.inArray。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T04:02:36.507

你可以试试这个：

```
var tmp = [];
$.each(posturlContent, function(){
    if ($.inArray(this.Uri, uris) !== -1) {
        tmp.push(this);
    }
});
posturlContent = tmp; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T03:55:16.970

您的`.each()`循环有问题，因为您`posturlContent`在循环内部进行修改，在第二次迭代`posturlContent`中将是空的。

```
var original = posturlContent;
posturlContent = [];
$.each(uris, function(i, siteUrl) {
    posturlContent = posturlContent.concat($.grep(original, function(item) {
        return item.Uri.toLowerCase() == siteUrl.toLowerCase();
    }));
}) 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/mTJnH/1/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-11-27T08:00:38.730

```
var posturlContent = [
                      {"Title": "Bbc news live", "Content": "<div>this is a test BBC </div>", "Uri": "http://bbc.co.uk" },
                      { "Title": "CNN news live", "Content": "<div>this is a test CNN</div>", "Uri": "http://cnn.com" },
                      { "Title": "Youtube news live", "Content": "<div>this is a test Youtube </div>", "Uri": "http://youtube.com" },
                     ];

    var uris = ["http://cnn.com", "http://abcnews.com"]

    var outputArr = posturlContent.filter(function(data){
        for(var i=0; i<uris.length; i++) {
            return data.Uri == uris[i];
        }
    }); 
```

# android - 将 Activity 转换为简单的一键式 Facebook 3.0 登录

> ID：16183012
> 
> 赞同：1
> 
> 时间：2013-04-24T03:45:58.767
> 
> 标签：android, session, authentication, facebook-login, facebook-android-sdk

短短一周的时间里，我一直把头撞在墙上，试图将我的头包裹在 Facebook 最新的 Android SDK (3.0) 上，在我看来，Facebook 已经设法使最初没有被破坏的东西过于复杂化。

我要做的就是让 onCreate 中的代码在 onClick 中工作。我为实现这一目标而编写的活动代码如下，是的，它目前在启动时可以工作。（登录用户，向我的 api 发出请求并执行其假设的操作。）

我不需要也不想管理 Facebook 的“会话”，而不是绝对需要，我只是想让用户使用他们的 fb 凭据登录，打开一个会话，发出一个请求来获取用户信息，发送它直到我的 API 和使用我自己的 API/共享首选项/会话的接管。如果更容易将我指向一个片段的方向，该片段将说明我如何做到这一点。我在下面设置的权限与编辑我的活动相比，这也不仅仅是回答我的问题。

```
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import com.facebook.LoggingBehavior;
import com.facebook.Request;
import com.facebook.Response;
import com.facebook.Session;
import com.facebook.SessionState;
import com.facebook.Settings;
import com.facebook.model.GraphUser;
import com.loopj.android.http.JsonHttpResponseHandler;
import com.loopj.android.http.RequestParams;

public class Old_FB_Login_Activity extends Activity {
    private static final String URL_PREFIX_FRIENDS = "https://graph.facebook.com/me/friends?access_token=";

    private TextView textInstructionsOrLink;
    private Button buttonLoginLogout;
    private Session.StatusCallback statusCallback = new SessionStatusCallback();
 // List of additional write permissions being requested
    private static final List<String> PERMISSIONS = Arrays.asList("email","user_about_me","user_activities",
    "user_birthday","user_education_history", "user_events","user_hometown", "user_groups","user_interests","user_likes",
    "user_location","user_photos","user_work_history");

    SharedPrefs sharedprefs;
    // Request code for reauthorization requests.
    private static final int REAUTH_ACTIVITY_CODE = 100;

    // Flag to represent if we are waiting for extended permissions
    private boolean pendingAnnounce = false;
    protected String college;
    private Button buttonLogin; 

    @Override 
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.facebooklogin); 
        buttonLoginLogout = (Button)findViewById(R.id.buttonLoginLogout);
        buttonLogin = (Button)findViewById(R.id.login);
        textInstructionsOrLink = (TextView)findViewById(R.id.instructionsOrLink);
        sharedprefs = new SharedPrefs(getApplicationContext());  

        Settings.addLoggingBehavior(LoggingBehavior.INCLUDE_ACCESS_TOKENS);

        Session session = Session.getActiveSession();
        if (session == null) {
            if (savedInstanceState != null) {
                session = Session.restoreSession(this, null, statusCallback, savedInstanceState);
            }
            if (session == null) {
                session = new Session(this);
            }
            Session.setActiveSession(session);
            if (session.getState().equals(SessionState.CREATED_TOKEN_LOADED)) {
                session.openForRead(new Session.OpenRequest(this).setCallback(statusCallback).setPermissions(PERMISSIONS));
            }
        }

        updateView();
    }

    @Override
    public void onStart() {
        super.onStart();
        Session.getActiveSession().addCallback(statusCallback);
    }

    @Override
    public void onStop() {
        super.onStop();
        Session.getActiveSession().removeCallback(statusCallback);
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);
    }

    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        Session session = Session.getActiveSession();
        Session.saveSession(session, outState);
    }

    private void updateView() {
        Session session = Session.getActiveSession();
        if (session.isOpened()) {
            Log.i("permissions",session.getPermissions().toString());
            //makeLikesRequest(session);
            makeMeRequest(session);

            Log.i("token",session.getAccessToken());
            Log.i("token experation", session.getExpirationDate().toString());

            Intent i = new Intent(getApplicationContext(), FaceTestActivity.class);
            startActivity(i);
            /*buttonLoginLogout.setText(R.string.logout);
            buttonLoginLogout.setOnClickListener(new OnClickListener() {
                public void onClick(View view) { onClickLogout(); }
            });*/
        } else {
            textInstructionsOrLink.setText(R.string.instructions);
            buttonLoginLogout.setText(R.string.login);
            buttonLoginLogout.setOnClickListener(new OnClickListener() {
                public void onClick(View view) { onClickLogin(); }
            });
        }
    }

    private void onClickLogin() {
        Session session = Session.getActiveSession();
        if (!session.isOpened() && !session.isClosed()) {
            session.openForRead(new Session.OpenRequest(this).setCallback(statusCallback).setPermissions(PERMISSIONS));
        } else {

            Session.openActiveSession(this, true, statusCallback);
        }
    }

    private void onClickLogout() {
        Session session = Session.getActiveSession();
        if (!session.isClosed()) {
            session.closeAndClearTokenInformation();
        }
    } 

    private class SessionStatusCallback implements Session.StatusCallback {
        @Override
        public void call(Session session, SessionState state, Exception exception) {

        } 
    }

   /* private void makeLikesRequest(final Session session) {
        Request.Callback callback = new Request.Callback() {

            @Override
            public void onCompleted(Response response) {
                // response should have the likes

                 // If the response is successful
                if (session == Session.getActiveSession()) {

                    Log.i("likes response", response.toString());
                }

            }
        };
        Request request = new Request(session, "me/likes", null, HttpMethod.GET, callback);
        RequestAsyncTask task = new RequestAsyncTask(request);
        task.execute();
    } */

    private void makeMeRequest(final Session session) {
        // Make an API call to get user data and define a 
        // new callback to handle the response.
        Request request = Request.newMeRequest(session, 
                new Request.GraphUserCallback() {
            @Override
            public void onCompleted(GraphUser user, Response response) {
                // If the response is successful
                if (session == Session.getActiveSession()) {
                    if (user != null) {
                        // Set the id for the ProfilePictureView
                        // view that in turn displays the profile picture.
                        Log.i("user", user.toString());
                        JSONObject json = user.getInnerJSONObject();
                        Log.i("json me response", json.toString());

                        RequestParams params = new RequestParams();

                        String fb_token = session.getAccessToken().toString();
                        String fb_token_expires = session.getExpirationDate().toString();
                        Log.i("fb_token", fb_token);
                        params.put("fb_token",fb_token);
                        Log.i("fb_token_expires", fb_token_expires);
                        params.put("fb_token_expires",fb_token_expires);

                        if(user.getBirthday() != null){
                            String birthday = user.getBirthday();
                            Log.i("birthday_1",birthday);
                            params.put("birthday", birthday);
                        }

                        if(user.getFirstName() != null){
                            String firstName = user.getFirstName();
                            Log.i("first name_2", firstName);
                            params.put("first_name", firstName);
                        }

                        if(user.getLastName() != null){
                            String lastName = user.getLastName();
                            Log.i("last name_3", lastName);
                            params.put("last_name", lastName);
                        }  

                        if(user.getLink() != null){
                            String fb_link = user.getLink();
                            Log.i("fb_link_4", fb_link);
                            params.put("fb_link", fb_link);
                        }

                        if(user.getId() != null){
                            String fb_uid = user.getId();
                            Log.i("fb uid_5", fb_uid);
                            params.put("fb_uid", fb_uid);
                        }

                        if(user.getProperty("gender") != null){
                            String gender = user.getProperty("gender").toString();
                            Log.i("gender_6", gender);
                            params.put("gender", gender);
                        }

                        if(user.getProperty("email") != null){
                            String email = user.getProperty("email").toString();
                            Log.i("email_7", email);
                            params.put("fb_email", email);
                        }

                        if(user.getProperty("verified") != null){
                            String verified = user.getProperty("verified").toString();
                            Log.i("verified_8", verified);
                            params.put("verified", verified);

                        }

                        if(user.getProperty("bio") != null){
                            String bio = user.getProperty("bio").toString();
                            Log.i("bio_9", bio);
                            params.put("bio", bio);

                        }
                        if(user.getLocation().getProperty("name") != null){

                            String location = user.getLocation().getProperty("name").toString();
                            Log.i("location_10", location);
                            params.put("location", location);

                        } 

                        //user Location
                        JSONArray education_array = (JSONArray)user.getProperty("education");
                        if (education_array.length() > 0) {
                            String education_length= String.valueOf(education_array.length());
                            Log.i("education_length",education_length);
                            ArrayList<String> collegeNames = new ArrayList<String> ();
                            for (int i=0; i < education_array.length(); i++) {
                                JSONObject edu_obj = education_array.optJSONObject(i);

                                // Add the language name to a list. Use JSON
                                // methods to get access to the name field.

                              String type = edu_obj.optString("type");
                              Log.i("type of edu", type);
                              if(type.equalsIgnoreCase("college")){
                                  JSONObject school_obj = edu_obj.optJSONObject("school");
                                  college = school_obj.optString("name");
                                  //Log.i("college",college);

                              }

                            }  
                            params.put("college", college);
                            Log.i("college", college);

                        }

                        RestClient.post(FB_LOGIN_URL, params, new JsonHttpResponseHandler() {
                            @Override
                            public void onFailure(Throwable arg0, JSONObject arg1) {
                                // TODO Auto-generated method stub
                                super.onFailure(arg0, arg1);

                                Log.i("FAILED TO LOGIN:", arg1.toString());
                                Toast.makeText(getApplicationContext(), arg1.toString() , Toast.LENGTH_LONG).show();
                            }

                            @Override
                            public void onSuccess(JSONObject json) {

                                Log.i("Login Request Success:", json.toString());

                                    try {
                                        sharedprefs.createFBLoginSession(json);
                                    } catch (JSONException e) {
                                        // TODO Auto-generated catch block
                                        e.printStackTrace();
                                    }
                                    Intent i = new Intent(getApplicationContext(), TabHostFragmentActivity.class);
                                    startActivity(i);
                                    finish();

                            }
                        });

                    }
                }
                if (response.getError() != null) {
                    // Handle errors, will do so later.
                }
            }
        });
        request.executeAsync();
    } 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T05:22:37.180

您要查看的关键内容是 UiLifecycleHelper，[https://developers.facebook.com/docs/reference/android/3.0/UiLifecycleHelper/](https://developers.facebook.com/docs/reference/android/3.0/UiLifecycleHelper/)。您只需在活动的 onCreate 方法中创建 this 的实例，并传递 Session.StatusCallback 的实例来处理会话状态的更改（打开、关闭等）。然后，在活动的几个生命周期方法（onCreate、onResume 等）中插入对 UiLifecycleHelper 的调用。这应该取代旧的 FacebookActivity 过去所做的所有事情。

然后只需使用 LoginButton 启动登录过程[https://developers.facebook.com/docs/reference/android/3.0/LoginButton](https://developers.facebook.com/docs/reference/android/3.0/LoginButton)。

# java - JPA中的空版本字段？

> ID：16183013
> 
> 赞同：4
> 
> 时间：2013-04-24T03:46:08.707
> 
> 标签：java, hibernate, jpa, version, bean-validation

[http://docs.oracle.com/javaee/6/api/javax/persistence/Version.html](http://docs.oracle.com/javaee/6/api/javax/persistence/Version.html)中没有任何内容表示它*不能*为空。

运行后

```
import javax.validation.Validation;
import javax.validation.Validator;

import org.junit.Test;

import static org.junit.Assert.assertFalse;

public class Test
{
    @Test
    public void test()
    {
        //Using Hibernate Validator 4.1.0.Final...
        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();
        assertFalse(validator.validate(new Foo()).isEmpty()); //why does this fail??
    }
} 
```

Foo.class 简单的地方

```
import javax.persistence.Entity;
import javax.persistence.Version;

@Entity 
public class Foo
{
    @Version
    private final Integer version = null;
} 
```

测试失败并且没有报告@Version 验证错误。

那么这是否意味着@Version-annotated 字段可以为空？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-24T07:34:05.577

@Version 只是定义了一个特定的字段用于乐观锁定。它不会影响数据库本身的列，也不会影响验证。因此，如果要强制执行非空值，则必须使用其他注释。

如果您将版本字段保留为 null，您将在尝试执行更新时遇到异常。

# java - GWT Openlayer 绘制圆矢量特征

> ID：16183020
> 
> 赞同：-1
> 
> 时间：2013-04-24T03:47:23.523
> 
> 标签：java, gwt, gwt-rpc, gwt-openlayers

stackoverflow 用户，我需要绘制圆，在 Openlayer 的 GWT 包装器中，我使用了 DrawFeature、ModifyFeature 控件，但无法找到绘制圆的控件，或者任何带有示例的建议欢迎。例如：

```
import org.gwtopenmaps.openlayers.client.control.*;    
Vector vectorLayer = new Vector("Vector Layer");    
ModifyFeature mod = new ModifyFeature(vectorLayer); 
```

像这样是圆的任何绘制功能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-02T07:50:28.860

您想为圆启用 DrawFeature 还是想在您的图层上添加一个圆？

*   要为圆启用 DrawFeature：

    // 特征选项 DrawFeatureOptions drawFeatureOptions = new DrawFeatureOptions();

    ```
    // Handler option for circle
    RegularPolygonHandlerOptions handlerOptions = new RegularPolygonHandlerOptions();
    // 30 side is ok for a circle
    handlerOptions.setSides(30);
    handlerOptions.setSnapAngle(0);
    handlerOptions.setIrregular(false);

    // Add the handler option to the DrawFeatureOptions
    drawFeatureOptions.setHandlerOptions(handlerOptions);

    // create the draw feature control
    DrawFeature drawCircleFeatureControl = new DrawFeature(geometryFeaturesLayer, new RegularPolygonHandler(),
            drawFeatureOptions);

    // Add the control to the map
    map.addControl(drawCircleFeatureControl); 
    ```

*   在图层上添加圆圈

在 openlayers 中有一个 javascript 方法： OpenLayers.Geometry.Polygon.createRegularPolygon 我无法在 GWT openlayers 中找到它，所以你必须调用 javascript 方法：

```
 /**
 * Create a regular polygon around a radius. Useful for creating circles and the like.
 * 
 * @param origin {OpenLayers.Geometry.Point} center of polygon.
 * @param radius {Float} distance to vertex, in map units.
 * @param sides {Integer} Number of sides. 20 approximates a circle.
 * @param rotation {Float} original angle of rotation, in degrees.
 * @return Polygon
 */
public static native JSObject jsCreateRegularPolygon(JSObject origin, Float radius, Integer sides, Float rotation)
/*-{
    return $wnd.OpenLayers.Geometry.Polygon.createRegularPolygon(origin, radius, sides, rotation);
}-*/; 
```

然后从您的代码中调用它以创建您的圈子

```
JSObject polygonJSObject = jsCreateRegularPolygon(point, 100f, 30, 45f); // with 30 sides for a circle
Polygon circle = Polygon.narrowToPolygon(polygonJSObject); 
```

# python - AttributeError：“NoneType”对象没有属性“pack”

> ID：16183026
> 
> 赞同：0
> 
> 时间：2013-04-24T03:47:53.713
> 
> 标签：python, tkinter, pygame

我正在使用这段代码：

```
if imgAct < len(limg):
    img = ImageTk.PhotoImage(Image.open(path+limg[imgAct]))
    f=etiq.config(image = img)
    f.pack(side = "bottom", fill = "both", expand = "yes")
    f.pack(side = "bottom", fill = "both", expand = "yes") 
```

但我得到这个错误：

> **`AttributeError`:** `NoneType`对象没有属性`pack`

如何解决此错误？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T03:49:51.083

`f``None`在通话中设置为：

```
f = etiq.config (image = img) 
```

这就是导致错误的原因：

```
AttributeError: 'NoneType' object has no attribute 'pack' 
```

当你做`f.pack()`.

您需要对该`None`返回值进行排序。在这个特定方面，我无能为力，因为粗略的谷歌搜索`etiq`出现了[*“对于想要获得有关雌激素治疗的可靠事实的女性”*](http://www.etiq.info/)，我很确定这与您正在使用的图书馆无关： -)

# java - android（阿帕奇和谐）垃圾收集

> ID：16183029
> 
> 赞同：-1
> 
> 时间：2013-04-24T03:48:24.820
> 
> 标签：java, android, garbage-collection, dalvik

Sun JDK 有一个`java.lang.ref.Finalizer`类，在垃圾收集期间使用。在 Android 所基于的标准库 Apache Harmony 中，没有类。

我的问题是：dalvik/harmony 相当于`java.lang.ref.Finalizer`什么？我可以查看 dalvik 的哪些源代码来了解 VM 设计的垃圾收集方面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T03:54:46.673

[您可以按照 Android 开发者网站上](http://source.android.com/source/downloading.html)的说明找到所有 Android 源代码。这应该（据我所知）包括 Dalvik VM。

您只需要定义`finalize()`方法即可将终结器添加到类中。

# php - 我的 PHP sqrt 练习不起作用

> ID：16183036
> 
> 赞同：2
> 
> 时间：2013-04-24T03:49:05.527
> 
> 标签：php, algorithm, optimization, primes

我正在练习创建我能想到的最快的素数生成器的算法。这是我最新的工作代码：

```
 $p = array();
    function isPrime($i) {
        global $p;
        $s = $i / 2;
        foreach ($p as $n) {
            if ($n >= $s) return true;
            if ($i % $n == 0) return false;
        }
        return true;
    }
    $start = microtime(true);
    for ($i = 3, $k = 20000; $i <= $k; $i += 2) {
        isPrime($i) and $p[] = $i;
    }
    echo(microtime(true) - $start); 
```

但后来我意识到我可以优化`$s = $i / 2;`到`$s = sqrt($i);`，这将测试更少的数字。当我测试时，代码失败并将每个数字都作为质数。本质上 que sqrt 失败并且总是返回 true。

到底发生了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T03:58:18.407

原因就是这个说法

```
$s = $i / 2; 
```

`$i`将变量的一半值存储在`$s`此语句中

```
$s = sqrt($i); 
```

`$i`存储in 的平方根`$s`

# 整改代码

```
$p = array();
function isPrime($i) {
    global $p;
    //$s = $i / 2;
    $s = sqrt($i);
    foreach ($p as $n) {
        if ($n > $s) return true;  // The condition here should be $n > $s not $n >= $s
        if ($i % $n == 0) return false;
    }
    return true;
}
$start = microtime(true);
for ($i = 3, $k = 20000; $i <= $k; $i += 2) {
    isPrime($i) and $p[] = $i;
}
//echo(microtime(true) - $start);
echo "<pre>";
print_r($p); 
```

[小提琴](http://codepad.viper-7.com/lcOiz2)

# 输出

```
 Array
(
[0] => 3
[1] => 5
[2] => 7
[3] => 11
[4] => 13
[5] => 17
[6] => 19
[7] => 23
[8] => 29
[9] => 31
....... 
```

# android - 如何在我的 Android 应用程序中集成 Google 地图

> ID：16183049
> 
> 赞同：0
> 
> 时间：2013-04-24T03:50:16.583
> 
> 标签：android, google-maps, android-maps

我正在开发 Android 应用程序，其中需要显示地图。我工作了 3 天来整合，但没有得到任何积极的结果。

我跟着这个教程[`Google Maps Android API v2`](https://developers.google.com/maps/documentation/android/)。但是当我运行我的应用程序时。它只是给出例外

```
IOException processing: 26
java.io.IOException: Server returned: 3
at android_maps_conflict_avoidance.com.google.googlenav.map.BaseTileRequest.readResponseData(BaseTileRequest.java:115)
at android_maps_conflict_avoidance.com.google.googlenav.map.MapService$MapTileRequest.readResponseData(MapService.java:1473)
at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.processDataRequest(DataRequestDispatcher.java:1117)
at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.serviceRequests(DataRequestDispatcher.java:994)
at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher$DispatcherServer.run(DataRequestDispatcher.java:1702) 
```

这是我的代码：

活动：

```
public class DisplayMap extends  MapActivity{

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mapView);
    }

    @Override
    protected boolean isRouteDisplayed() {
        return false;
    }
} 
```

xml:

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent">

    <com.google.android.maps.MapView 
        android:id="@+id/mapView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:enabled="true"
        android:clickable="true"
        android:apiKey="AIzaSyA1MXQ1Hc4-VhOOfItFHA1WCsGFUGcJ-BQ"
        />

</RelativeLayout> 
```

显现：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.rakhi577.maptest"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <permission
        android:name="com.rakhi577.maptest.permission.MAPS_RECEIVE"
        android:protectionLevel="signature"/>
    <uses-permission android:name="com.rakhi577.maptest.permission.MAPS_RECEIVE"/>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
    <!-- The following two permissions are not required to use
     Google Maps Android API v2, but are recommended. -->
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true"/>

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <uses-library android:name="com.google.android.maps" />
        <activity
            android:name="com.rakhi577.maptest.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

    <meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="AIzaSyA1MXQ1Hc4-VhOOfItFHA1WCsGFUGcJ-BQ"/>

</manifest> 
```

我使用 debug.keystore 创建了地图。任何人都可以帮助我吗...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:54:43.667

将此代码用于谷歌地图我正在从 androidhive.com 执行此操作

```
import com.google.api.client.googleapis.GoogleHeaders;
import com.google.api.client.http.GenericUrl;
import com.google.api.client.http.HttpRequest;
import com.google.api.client.http.HttpRequestFactory;
import com.google.api.client.http.HttpRequestInitializer;
import com.google.api.client.http.HttpTransport;
import com.google.api.client.http.javanet.NetHttpTransport;
import com.google.api.client.http.json.JsonHttpParser;
import com.google.api.client.json.jackson.JacksonFactory;

@SuppressWarnings("deprecation")
public class GooglePlaces {

    /** Global instance of the HTTP transport. */
    private static final HttpTransport HTTP_TRANSPORT = new NetHttpTransport();

    // Google API Key
    private static final String API_KEY = "AIzaSyCRLa4LQZWNQBcjCYcIVYA45i9i8zfClqc";

    // Google Places serach url's
    private static final String PLACES_SEARCH_URL = "https://maps.googleapis.com/maps/api/place/search/json?";
    private static final String PLACES_TEXT_SEARCH_URL = "https://maps.googleapis.com/maps/api/place/search/json?";
    private static final String PLACES_DETAILS_URL = "https://maps.googleapis.com/maps/api/place/details/json?";

    private double _latitude;
    private double _longitude;
    private double _radius;

    /**
     * Searching places
     * @param latitude - latitude of place
     * @params longitude - longitude of place
     * @param radius - radius of searchable area
     * @param types - type of place to search
     * @return list of places
     * */
    public PlacesList search(double latitude, double longitude, double radius, String types)
            throws Exception {

        this._latitude = latitude;
        this._longitude = longitude;
        this._radius = radius;

        try {

            HttpRequestFactory httpRequestFactory = createRequestFactory(HTTP_TRANSPORT);
            HttpRequest request = httpRequestFactory
                    .buildGetRequest(new GenericUrl(PLACES_SEARCH_URL));
            request.getUrl().put("key", API_KEY);
            request.getUrl().put("location", _latitude + "," + _longitude);
            request.getUrl().put("radius", _radius); // in meters
            request.getUrl().put("sensor", "false");
            if(types != null)
                request.getUrl().put("types", types);

            PlacesList list = request.execute().parseAs(PlacesList.class);
            // Check log cat for places response status
            Log.d("Places Status", "" + list.status);
            return list;

        } catch (HttpResponseException e) {
            Log.e("Error:", e.getMessage());
            return null;
        }

    }

    /**
     * Searching single place full details
     * @param refrence - reference id of place
     *                 - which you will get in search api request
     * */
    public PlaceDetails getPlaceDetails(String reference) throws Exception {
        try {

            HttpRequestFactory httpRequestFactory = createRequestFactory(HTTP_TRANSPORT);
            HttpRequest request = httpRequestFactory
                    .buildGetRequest(new GenericUrl(PLACES_DETAILS_URL));
            request.getUrl().put("key", API_KEY);
            request.getUrl().put("reference", reference);
            request.getUrl().put("sensor", "false");

            PlaceDetails place = request.execute().parseAs(PlaceDetails.class);

            return place;

        } catch (HttpResponseException e) {
            Log.e("Error in Perform Details", e.getMessage());
            throw e;
        }
    }

    /**
     * Creating http request Factory
     * */
    public static HttpRequestFactory createRequestFactory(
            final HttpTransport transport) {
        return transport.createRequestFactory(new HttpRequestInitializer() {
            public void initialize(HttpRequest request) {
                GoogleHeaders headers = new GoogleHeaders();
                headers.setApplicationName("AndroidHive-Places-Test");
                request.setHeaders(headers);
                JsonHttpParser parser = new JsonHttpParser(new JacksonFactory());
                request.addParser(parser);
            }
        });
    }

} 
```

对于 api 密钥，你可以打开 androidhive.com 并注册到这个..你可以得到关于谷歌地图的教程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:16:40.333

Use Google maps v2

```
 <fragment  
      android:id="@+id/map"
      android:layout_width="match_parent"
      android:layout_height="match_parent"
       android:layout_below="@id/rg_views"
      android:name="com.google.android.gms.maps.SupportMapFragment"
      /> 
```

and A.java

Googlemap gm;

gm = ((SupportMapFragment)(getSupportFragmentManager().findFragmentById(R.id.map))).getMap();

A complete tutorial can be seen in this. [http://www.vogella.com/articles/AndroidGoogleMaps/article.html](http://www.vogella.com/articles/AndroidGoogleMaps/article.html)

And also in manifest file, set of permissions to be given

```
<uses-permission android:name=".LocationGoogleMapV2Demo.permission.MAPS_RECEIVE"/>

<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

<uses-feature
    android:glEsVersion="0x00020000"
    android:required="true"/> 
```

# r - stacking character vectors in R

> ID：16183062
> 
> 赞同：0
> 
> 时间：2013-04-24T03:51:57.130
> 
> 标签：r, character, unique

I have two factor variables in a data frame and the end goal is to combine both columns to find a list of the unique factors of both the columns combined (some of the factors in variable one are repeated in variable two). To do this I need a vector of length 2n to perform the 'unique' function on (stacked vector in code below). However I am having problems combining these two vectors using the 'stack' function.

```
x<-rep(c("a","b", "c"), each=3)
x<-as.vector(x)
y<-rep(c("a","b", "z"), each=3)
y<-as.vector(y)
combined<-data.frame(x,y)
stacked<-stack(combined) 
unique(stacked) 
```

I don't understand the error message I am getting on the 2nd last line. I know this must be something so simple but I just can't see it! If anyone knows or has a more elegant way of solving this problem please reply!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T03:56:38.850

The answer lies in the help file at `?stack`

```
 Note that ‘stack’ applies to _vectors_ (as determined by
 ‘is.vector’): non-vector columns (e.g., factors) will be ignored
 (with a warning as from R 2.15.0).  

> is.vector(factor("a"))
[1] FALSE 
```

Try:

```
stacked <- stack(lapply(combined,as.character))
stacked

   values ind
1       a   x
2       a   x
3       a   x
4       b   x
5       b   x
6       b   x
... 
```

..or as @Dwin points out, you could have created `combined` to be characters instead of factors in the first place by specifying `stringsAsFactors=FALSE` in your `data.frame` call.

# html - 在 bash 脚本中使用 lynx

> ID：16183066
> 
> 赞同：1
> 
> 时间：2013-04-24T03:52:29.000
> 
> 标签：html, bash, text, scripting, lynx

我正在尝试编写一个 bash 脚本，它将目录中的所有 html 文件转换为文本文件。

我想我可以使用 lynx 来做到这一点。如... lynx -dump index.1.html > index.1.txt

此命令在 shell 中运行良好，但是当我尝试在脚本中实现它时，我收到一条错误消息：./txtFiles/./.txt: No such file or directory

这是我的代码...

```
#!/bin/bash
mkdir txtFiles
for file in ./
do 
   lynx --dump $file > ./txtFiles/$file.txt

done 
```

任何人都知道我怎样才能让它正常运行？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:04:36.740

***.html 中的文件**怎么样？

“for file in”部分不知道您希望它读取当前目录中的所有文件。事实上，它根本不“知道”任何关于文件的信息——它只是期待一个单词列表。如果你给它*glob* "*.html"，bash 将根据当前目录中匹配该模式的所有文件为你创建该列表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-04T11:53:07.460

您需要给 $file 一个文件作为回报，但`for file in ./`将文件夹提供给 $file 这是不受欢迎的并导致错误。希望我有所帮助。

# c++ - C++：是否可以继承赋值运算符？

> ID：16183067
> 
> 赞同：0
> 
> 时间：2013-04-24T03:52:38.970
> 
> 标签：c++, templates, inheritance

以下 C++ 代码无法编译：

```
class BaseA {
protected:
    BaseA &operator = (const BaseA &rhs);
};

template<typename T>
class BaseB {
public:
    T &operator = (const T &rhs) {
        return *static_cast<T *>(this);
    };
};

class Derived :
    public BaseA,
    public BaseB<Derived> {
};

int main() {
    Derived foo;
    Derived bar;
    foo = bar;
    return 0;
}; 
```

当我尝试编译它时，我收到一个`BaseA &BaseA::operator = (const BaseA &)`未定义的投诉。在 stackoverflow 上还有其他几个类似的问题，但是它们似乎都与编译器自动生成`Derived &Derived::operator = (const Derived &)`调用`BaseA::operator = (const BaseA&)`. 在这种情况下，虽然`Derived`应该已经从`BaseB<Derived>`. 如果我按照另一个问题的建议并添加`using BaseB<Derived>::operator =;`到`Derived`编译器抱怨`Derived &operator = (const Derived &)`不能重载。

一个类根本不可能继承这个运算符吗？

**编辑：**要清楚，我很困惑为什么编译`Derived`器`Derived &operator = (const Derived &)`已经`T &operator (const T &) where [T = Derived]`从`Base<Derived>`. 我可以理解为什么通常会创建默认的复制赋值运算符并覆盖任何继承的赋值运算符，但在这种情况下`Derived`，它继承了一个与其复制赋值运算符具有*完全相同*签名的运算符。有没有办法`BaseB`让它的子类使用这个运算符？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T03:58:27.847

不，赋值运算符`operator=`不是继承的。你没有默认值

```
Derived& operator=(const BaseA& a); 
```

在你的派生类中。

但是，会创建一个默认赋值运算符：

```
Derived& operator=(const Derived& a); 
```

这从 调用赋值运算符`BaseA`。所以这不是继承赋值运算符的问题，而是通过派生类中默认生成的运算符调用它。还有一些注意事项：标准说（12.8）：

> 赋值运算符应该由一个只有一个参数的非静态成员函数来实现。因为复制赋值运算符 operator= 如果未由用户声明，则为类隐式声明（12.8），基类赋值运算符始终被派生类的复制赋值运算符隐藏。

然后派生的赋值运算符调用你的基础

> 非联合类 X 的隐式定义的复制/移动赋值运算符执行其子对象的成员复制/移动赋值。首先分配 X 的直接基类，按照它们在基说明符列表中的声明顺序，然后按照它们在类定义中声明的顺序分配 X 的直接非静态数据成员.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:12:28.343

赋值运算符是特殊的成员函数之一。如果您自己不提供一个，编译器将通过分配基数和成员来为您生成一个。如果任何基础没有赋值运算符，则会生成一个。

您的问题是您已经为 声明了赋值运算符`BaseA`，但没有提供定义。因为它是声明的，编译器不会为你生成一个，但它会尝试调用它来复制`BaseA`子对象。然后链接器将无法找到定义。

请注意，对于分配的特定情况，*继承*基本实现并没有真正意义。如果使用它，一旦一个基具有赋值运算符，对象的其余部分就不会被*赋值*。在大多数情况下，操作的语义会被破坏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T03:57:27.573

您可以继承基类运算符和所有其他方法，如果您没有在基类中声明它 - 默认赋值运算符将由编译器生成，如果您声明它 - 当您必须提供自己的实现时，您会收到错误由于 operator= 未在您的 BaseA 类中定义，仅声明。

# jquery - 通过jquery从本地时间格式化时间

> ID：16183068
> 
> 赞同：1
> 
> 时间：2013-04-24T03:52:43.950
> 
> 标签：jquery

我已通过此代码段将 UTC 时间转换为本地时间：

```
var dateLocal = new Date(startDate).toString(); 
```

这是我的结果：2013 年 4 月 24 日星期三 10:42:45 GMT+0700（东南亚标准时间）我想将结果格式化为：MM/dd/yyyy HH:mm:ss

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:02:04.613

你可以用纯javascript来做到这一点。我不认为 jquery 可以在这里提供帮助。

```
var dateString = (dateLocal.getMonth() + 1) + "/" + dateLocal.getDate() + "/" + dateLocal.getFullYear()+" "+dateLocal.getHours() + ":" + dateLocal.getMinutes() + ":" + dateLocal.getSeconds() ; 
```

这是一个[小提琴](http://jsfiddle.net/kENgx/)

似乎还有一个用于格式化日期字符串的[jquery 插件。](http://archive.plugins.jquery.com/project/jquery-dateFormat)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:14:40.943

使用 date.js 然后尝试使用以下代码

```
Date.parse(startDate).toString('MM/dd/yyyy H:i:s') 
```

# java - Identical Output of Two Objects from arraylist

> ID：16183071
> 
> 赞同：0
> 
> 时间：2013-04-24T03:53:15.197
> 
> 标签：java, arraylist, tostring

```
class Use {
public static void main(String[] args) throws IOException {
    Use u = new Use();
    BufferedReader br = new BufferedReader (new InputStreamReader(System.in));
    ArrayList<Square> sq = new ArrayList <Square>(); 
    int shapeChoice = 0;
    int customChoice = 0;
    int count = 0;
    String info1;
    boolean boolCase;
    System.out.println("Welcome, this program allows you to create and access    shapes, displaying the area and perimeter of each.");
    while (true){
        shapeChoice = Integer.parseInt(br.readLine());
        if (shapeChoice == 0) break;
        count++;
        sq.add(new Square(count, shapeChoice));
        String info = (sq.get(count-1).toString());
        System.out.println(info);
        if (count > 1) {
            info1 = (sq.get(count - 1).toString());
        System.out.println(info1);
        }
    }
    /*System.out.println("Enter Square Num");
    customChoice = Integer.parseInt(br.readLine());
    String info1 = (sq.get(customChoice - 1).toString());
    System.out.println(info1);*/
    for(int x = sq.size(); x > 0; x--){
        System.out.println(x);
        String info = (sq.get(x-1).toString());
        System.out.println(info);
    }       
}
}

abstract public class Test {
private static int s; //Base top
public Test(){
    s = 1;
}
Test(int s){
    this.s = s;
}
abstract public int findPerimeter();
abstract public int findArea();
public int getS() {
    return s;
}
public void setS(int s){
    this.s = s;
} 
```

}

```
class Square extends Test{
private static int numSquares = 0;
private int iD;
public Square(int iD){
    super();
    numSquares ++;
}
public Square(int s, int iD){
    super(s);
    numSquares ++;
}
public int getID(){
    return iD;
}
public void setID(int iD){
    this.iD = iD;
}
public int getNumSquares(){
    return numSquares;
}
@Override
public int findArea(){
    return (super.getS()*super.getS());
}
@Override
public int findPerimeter() {
    return (super.getS())*4; 
}
public String toString(){
    return "Area is "+findArea()+" and Perimeter is "+findPerimeter();
}
public void decreaseNum(){
    numSquares --;
}
public int getS(){
    return super.getS();
} 
```

}

My Test class creates a square, and I was using the main to create new squares, but when I output the info on the squares using the toString() method, it displays only the most recently created object's values.

How would I be able to fix that?

thanks a lot for reading!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:13:44.307

This is probably because you are using a static variable in the Test class to store what I am guessing is a non-static variable "s" which is meant to be the the side. The best way to check that you are actually getting back different objects is to append the Object.hashcode to the toString or to not override the toString method at all.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:15:36.120

```
 if (count > 1) {
            info1 = (sq.get(count - 1).toString());
 System.out.println(info1); 
```

This line prints only the last created Square. Maybe you wanted to loop through the array?

Edit :

You loop through it here

```
for(int x = sq.size(); x > 0; x--){
        System.out.println(x);
        String info = (sq.get(x-1).toString());
        System.out.println(info);
    } 
```

but this piece of code is never executed because you are in an infinite loop with `while (true)`

# python - 如何将 txt 文件中的数据放入 Grid 中？

> ID：16183073
> 
> 赞同：1
> 
> 时间：2013-04-24T03:53:42.563
> 
> 标签：python, file, grid

我正在尝试使用一个 .txt 文件，该文件的格式看起来像一个 python 网格中的矩阵。

这是我用来创建网格的类：

```
class Grid(object):
"""Represents a two-dimensional array."""

    def __init__(self, rows, columns, fillValue = None):
        self._data = Array(rows)
        for row in xrange(rows):
            self._data[row] = Array(columns, fillValue)

    def getHeight(self):
        """Returns the number of rows."""
        return len(self._data)

    def getWidth(self):
        "Returns the number of columns."""
        return len(self._data[0])

    def __getitem__(self, index):
        """Supports two-dimensional indexing with [][]."""
        return self._data[index]

    def __str__(self):
        """Returns a string representation of the grid."""
        result = ""
        for row in xrange(self.getHeight()):
            for col in xrange(self.getWidth()):
                result += str(self._data[row][col]) + " "
            result += "\n"
        return result 
```

它使用另一个名为 Array 的类来构建一维数组并将其变为二维数组。代码：`Grid(10, 10, 1)`将返回一个包含 10 行和 10 列的二维数组，网格中的每个数字都是 1。

**这是数组类**

```
class Array(object):
"""Represents an array."""

def __init__(self, capacity, fillValue = None):
    """Capacity is the static size of the array.
    fillValue is placed at each position."""
    self._items = list()
    for count in xrange(capacity):
        self._items.append(fillValue)

def __len__(self):
    """-> The capacity of the array."""
    return len(self._items)

def __str__(self):
    """-> The string representation of the array."""
    return str(self._items)

def __iter__(self):
    """Supports traversal with a for loop."""
    return iter(self._items)

def __getitem__(self, index):
    """Subscript operator for access at index."""
    return self._items[index]

def __setitem__(self, index, newItem):
    """Subscript operator for replacement at index."""
    self._items[index] = newItem 
```

我希望 1 是我拥有的文本文件中的值，如下所示：

```
9 9
1 3 2 4 5 2 1 0 1
0 7 3 4 2 1 1 1 1 
-2 2 4 4 3 -2 2 2 1
3 3 3 3 1 1 0 0 0
4 2 -3 4 2 2 1 0 0
5 -2 0 0 1 0 3 0 1
6 -2 2 1 2 1 0 0 1
7 9 2 2 -2 1 0 3 2
8 -3 2 1 1 1 1 1 -2 
```

9,9 代表矩阵的行和列。我可以使用列表的唯一地方是`readline().split()`将第一行变成列表的方法。

我当然有台词；

```
m = open("matrix.txt", "r")
data = m.read 
```

其中数据以字符串表示形式返回数字，因为它们是从文件夹中格式化的，但我需要一些方法来单独返回每个数字并将其设置为网格中的单元格。有任何想法吗？

**编辑：**我当前的代码：

```
g = map(int, m.readline().split())
data = m.read()
matrix = Grid(g[0], g[1], 1) 
```

g[0] 和 g[1] 来自具有行和列变量的列表。这样，任何遵循相同格式的 .txt 文件的第一行都是行和列变量。我试图弄清楚其余数据如何在不使用列表的情况下替换“1”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T04:07:39.857

这看起来如何：

```
with open('matrix.txt') as f:
    grid_data = [i.split() for i in f.readlines()] 
```

这将从文件中读取每个数组，将其格式化为值列表。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:04:35.293

```
import numpy
a_width = 9
a_height = 9
data_file = "matrix.dat"

a = numpy.array(open(data_file).read().split(),dtype=int).reshape((a_width,a_height))
#or another alternative below
a = numpy.fromfile("matrix.dat",dtype=int,sep=" ").reshape(9,9)

print a 
```

不同的解决方案

```
with open(data_file) as f:
    a = map(str.split,f)

print a 
```

这只是尼克伯恩斯代码的一个更简洁的版本

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:41:31.703

一个超级简单的答案（添加了一个新的答案，因为它比之前的要简单得多）

```
# create a grip object
new_matrix = Grid(9, 9)

with open('matrix.txt') as f:
    # loop through the data
    for i, line in enumerate(f.readlines()):
        line = line.split()

        # populate the new_matrix
        for j, value in enumerate(line):
            new_matrix[i][j] = value 
```

我喜欢这使用 Grid 类来填充矩阵。除了从文件中读取数据外，没有使用列表。

到了那里（我希望，我想！）

# sql - In 子句不起作用

> ID：16183078
> 
> 赞同：0
> 
> 时间：2013-04-24T03:54:22.577
> 
> 标签：sql

我有以下查询：

```
SELECT * 
FROM ZINVN 
WHERE ZINVN.GRID IN
(
        SELECT SMGRID 
        FROM SKU FULL JOIN OTBCLS ON SKU.SKCLCD = OTBCLS.SMCLCD
        WHERE SKSKU=800234
); 
```

这个查询不返回结果，而如果我在没有 in 子句的情况下运行它，它会返回预期的结果。

内部的查询也`()`运行良好并返回预期的结果。

我的查询中的问题在哪里？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:34:36.710

您应该为查询设置别名以指示列的来源。
此外，INNER JOIN 将比 FULL OUTER JOIN 更快，这不太有意义，原因
有两个： 1\. 使用该`WHERE SKU=`子句将 FULL JOIN 减少为 LEFT JOIN，因为行必须与左表匹配
2\. 将记录保存在LEFT 表没有任何用途，因为该子句`SMGRID`的目的是 NULL`IN()`

```
SELECT * 
FROM ZINVN 
WHERE ZINVN.GRID IN
(
        SELECT OTBCLS.SMGRID 
        FROM SKU JOIN OTBCLS ON SKU.SKCLCD = OTBCLS.SMCLCD
        WHERE SKU.SKSKU=800234
); 
```

当使用相关的 EXISTS 测试以下面的等效形式编写时，此存在测试通常执行得更快。

```
SELECT * 
FROM ZINVN 
WHERE EXISTS (
      SELECT 1
      FROM SKU JOIN OTBCLS ON SKU.SKCLCD = OTBCLS.SMCLCD
      WHERE SKU.SKSKU=800234 AND ZINVN.GRID=OTBCLS.SMGRID
      ); 
```

话虽如此，您是否检查过额外的空格是“ZINVN.GRID”和“OTBCLS.SMGRID”之间的区别？

# jquery - Jquery.ajax 请求使用 ruby -on-rails 中的部分模板更新页面

> ID：16183079
> 
> 赞同：0
> 
> 时间：2013-04-24T03:54:31.540
> 
> 标签：jquery, ruby-on-rails, ajax

我正在尝试使用 javascript/Jquery.ajax 请求来更新带有 ruby​​ on rails 中的部分模板的页面。部分被称为 _promotions.html.erb 我是 javascript 和 JQuery 的菜鸟，不太了解语法。从要更新的页面：

```
<div id="promotions"></div>
<script type="text/javascript"> 
  jQuery.ajax({
    url: "/promotions", // it routes to the following def
    type: "GET",
    dataType: "html"
    success: $(function(data){$('#promotions').write(data)})
  });
</script> 
```

从处理响应的 rails 控制器：

```
def promotions
  @items = Item.search("", 8) #the partial needs this variable during preprocessing
  respond_to do |format|
    format.html { render :partial => "promotions", :layout => false, }
  end
end 
```

我想将 _promotions.html.erb 渲染到页面中。最终，我希望能够定期重新呈现该 div 的内容而不刷新整个页面（因此 jquery 调用而不是通过 rails 预处理）。我哪里出错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T07:58:38.110

```
jQuery.ajax({
  url: "/promotions",
  type: "GET",
  dataType: "html", // You missed a comma.
  success: function(data){$('#promotions').html(data)}
}); 
```

没有 jQuery`.write()`方法。
另外，不要像以前那样包裹`function(data){$('#promotions').html(data)}`。`$(...)`

`$('#promotions')`返回 id Promotions 的 DOM 元素*，*但`$(function() {})`仅用于[绑定在文档准备好时运行的函数](http://api.jquery.com/jQuery/#jQuery3)。

# struts2 - struts2登录后返回调用者调用者页面

> ID：16183080
> 
> 赞同：1
> 
> 时间：2013-04-24T03:54:33.687
> 
> 标签：struts2, struts-config

我有一个 download.jsp 页面，该页面具有仅在他登录时才下载文件的功能。当他单击下载选项时，它会要求登录下载并重定向到登录页面，当他进行身份验证时，用户应重定向到 download.jsp

这是我的`struts.xml`文件

```
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <package name="default" extends="struts-default">
        <result-types>
            <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" />
        </result-types>
        <action name="loginAction" method="login" class="com.vaannila.action.LoginAction">
            <result name="sucess" type="tiles">welcome</result>
            <result name="failure" type="tiles">home</result>

        </action>
    </package>
</struts> 
```

在 LoginAction 类中，我只有一种方法 login 进行身份验证并返回成功或失败，并调用结果页面

登录后如何返回调用者页面download.jsp

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:15:04.170

您可以尝试实现上述功能的选项很少

`HTTP Referer`标题喜欢

```
final String refer = request.getHeader("Referer"); 
```

这个问题很少，防火墙和浏览器可以阻止它，这可能会导致一些问题，尽管我没有看到任何此类问题并且已经使用过几次。

其他更可靠的解决方案是使用隐藏文件或附加当前页面 URL 作为查询字符串，并在您的应用程序中使用它，例如

```
<a href="login?destination=theCurrentUrl">Login</a> 
```

您可以使用此变量找出当前页面的 URL，并在登录后将其重定向。

如果您使用的是 Spring 安全性，它具有此功能，它存储来自使用的信息，并在身份验证后重定向回同一页面。

希望这可以帮助你

# javascript - 如果两个形状重叠，这个 html canvas jsfiddle 中的像素是如何确定的

> ID：16183083
> 
> 赞同：0
> 
> 时间：2013-04-24T03:54:39.000
> 
> 标签：javascript, html, canvas, pixel

这是小提琴[http://jsfiddle.net/DV9Bw/526/](http://jsfiddle.net/DV9Bw/526/)

在重叠的部分有 2 个 strokeRect，一个红色另一个蓝色，如果您将鼠标悬停，重叠坐标处的像素为`(84,0,170) with respect to (R,G,B)`. 有人可以解释如何计算该像素，以及是否有办法禁用或提供替代混合方程？

# google-analytics - 如何检查 _gaq 是否已清空？

> ID：16183084
> 
> 赞同：2
> 
> 时间：2013-04-24T03:54:44.410
> 
> 标签：google-analytics

GA 对`ga.js`. 如果我理解正确，这意味着我们可以`_gaq.push`非常快地随心所欲，但队列将继续增长，并且只会慢慢清空，每秒一个事件。

假设我有一个按钮可以让浏览器离开。如果我是偏执狂类型，我如何确保`_gaq`在离开之前已清空（否则某些事件没有机会发送到 GA）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-25T04:59:45.157

一种可能性 - 使用 ga.js，您可以将函数对象推送到 _gaq 上，该对象可用于页面导航。（*更新：这不适用于检测速率限制*）

但是... GA 速率限制适用于“命中”，即向 GA 发送数据的命令。目前尚不清楚达到限制时如何进行限制——如果是通过限制 _gaq 命令执行，那么使用函数对象应该可以工作。

另一种可能性是切换到更新的 Universal Analytics，它允许在处理命中后运行 hitCallback 函数。此外，速率限制为每秒 20 + 2 次点击。

* * *

更新：我刚刚使用开发者工具控制台和网络面板在 Chrome 中运行了以下测试：

```
for (i = 0; i < 20; i++) {
  _gaq.push(['_trackEvent', 'test', 'test', 'test', i]);
  _gaq.push(function() {console.log(i + ': ' + new Date());});
} 
```

控制台日志显示 1 秒内的所有 20 个时间戳。 *网络日志仅显示前 10 个跟踪图像请求。*

我对测试的解释是“命中”命令的 GA 速率限制通过丢弃数据来工作。

# iphone - 动态加载分组表视图

> ID：16183090
> 
> 赞同：1
> 
> 时间：2013-04-24T03:55:20.757
> 
> 标签：iphone, ios, objective-c, uitableview, grouped-table

我正在尝试将信息显示到一个`UITableView`包含 2 个动态单元格的组中。每个分组`UITableView`需要调用 10 次到一个视图中；每个分组`UITableView`在其 2 个单元格中显示不同的信息。

现在我正在尝试显示我的数据库中存储在`posts`. 但是，当我运行此版本时，应用程序崩溃了。如果我将 return 更改`[self.posts count]`为`numberOfSectionsInTableView:`return `1`，我只能加载一个部分，如预期的那样。

我的问题是如何显示 10 个分组的表格部分，每个部分都有不同的信息？

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
//#warning Potentially incomplete method implementation.
// Return the number of sections.
return [self.posts count];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

NSInteger returnValue = 2;
switch (section) {
    case 0:
    {
        returnValue = 2;
        break;
    }
    default:
        break;
}

return returnValue;

}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

NSString *CellIdentifier1 = @"Cell";

UITableViewCell *cell;
if (indexPath.section==0)
{
    cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier1];
    if (cell == nil) {
                cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier1];
    }

    if (indexPath.row==0)
            {
                cell.textLabel.text = [[self.posts objectAtIndex:indexPath.row] objectForKey:@"name"];
            }
    if (indexPath.row==1)
            {
                cell.textLabel.text = [[self.posts objectAtIndex:indexPath.row] objectForKey:@"message"];
            }
}

return cell;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:02:30.827

当 section = 0 时，您正在创建单元格。您应该每次都创建单元格。您不能从`cellForRowAtIndexPath`方法返回 nil。

通过以下方式修改您的实现：

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {

    NSString *CellIdentifier1 = @"Cell";        
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier1];

    if (cell == nil)
    {
         cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier1];
    }

    if (indexPath.section==0)
    {
        if (indexPath.row==0)
        {
            cell.textLabel.text = [[self.posts objectAtIndex:indexPath.row] objectForKey:@"name"];
        }
        //Rest of the code..
    }
    else if(indexPath.section ==1)
    {
        //Do the work with section 1.
    }
    //do the work for other sections...

    return cell;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:05:28.500

编写的代码足以满足您的情况。只需删除 `if (indexPath.section==0){`.`cellForRowAtIndexPath`

**更新：**根据您的观点，以下代码就足够了。如果您正确存储到`posts`

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

NSString *CellIdentifier1 = @"Cell";

UITableViewCell *cell = nil;

    cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier1];
    if (cell == nil) {
                cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier1];
    }

    if (indexPath.row==0)
            {
                cell.textLabel.text = [[self.posts objectAtIndex:indexPath.section] objectForKey:@"name"];//Here modified `section` instead of `row`
            }
    else if (indexPath.row==1)
            {
                cell.textLabel.text = [[self.posts objectAtIndex:indexPath.section] objectForKey:@"message"];
            }

return cell;

} 
```

# java - java中的super怎么办？

> ID：16183093
> 
> 赞同：1
> 
> 时间：2013-04-24T03:55:39.940
> 
> 标签：java, inheritance

我被要求这样做：

> 设计并实现一个名为 MonetaryCoin 的类，该类派生自第 5 章中介绍的 Coin 类。在货币硬币中存储一个表示其价值的值，并为货币价值添加 getter 和 setter 方法。

Coin 类如下：

```
public class Coin
    { 
        public final int HEADS = 0; 
        public final int TAILS = 1; 
        private int face; 
        // --------------------------------------------- 
        // Sets up the coin by flipping it initially. 
        // --------------------------------------------- 
        public Coin () 
        { 
            flip(); 
         } 
         // -----------------------------------------------
        // Flips the coin by randomly choosing a face.
        // ----------------------------------------------- 
        public void flip() 
        { 
            face = (int) (Math.random() * 2); 
        } 
        // --------------------------------------------------------- 
        // Returns true if the current face of the coin is heads. 
        // ---------------------------------------------------------

        public boolean isHeads() 
        {
            return (face == HEADS); 
        } 

 // ---------------------------------------------------- 
 // Returns the current face of the coin as a string. 
 // ---------------------------------------------------- 

        public String toString() 
        { 
            String faceName; 

            if (face == HEADS) 
                faceName = "Heads";

            else
                faceName = "Tails";

            return faceName; 
        } 
} 
```

我想出了这个：

```
public class MonetaryCoinHW extends Coin
{

public MonetaryCoinHW(int face)
{
    setFace(face);
}

public int getFace()
{
    if (isHeads()) {
                    return HEADS;
                }
                return TAILS;
}

public void setFace( int newFace )
{
    while (newFace != getFace()) {
                     flip();
                }
      } 
```

但是，我不断收到语法错误......我没有正确使用“超级”吗？我完全糊涂了；我的错误是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T03:58:01.233

不，你没有`super()`正确使用。

`super()`调用超构造函数——在这种情况下，它将调用继承的`Coin()`. `Coin()`由于for内部不存在构造函数`Coin(int face)`，因此您的子类无法调用它。

有办法解决这个问题。我相信你需要跑步`setFace(face)`。这将正确初始化硬币的价值，我认为最适合您的问题。但是，您也可以将`Coin(int face)`构造函数添加到`Coin`类中。不过，您还必须提供`Coin`一种方法来保持价值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:04:14.220

类硬币需要具有以下构造函数才能使您的子类正常工作。

```
public Coin(int face) {
    this.face = face;
} 
```

这将解决问题 super(face)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:06:29.297

不，您没有正确调用超级。您需要具有一个参数为 int 的硬币构造函数。IE

```
public Coin (int face) 
{ 
      this.face = face;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:09:50.623

**任何一个**

**`super(face)`从你的班级**中删除**该行`MonetaryCoinHW`。和简单的调用**setFace(face)**。但还要注意，face 变量在您的超类中定义为私有的，因此您无法访问它。**

 ****默认情况下，它将调用超类的无参数构造函数。**

**或者**

在类中定义`Coin(int face)`构造函数`Coin`

如果你想做一些不同的事情，你只需要在 Coin 类中定义特殊的构造函数。**

# angularjs - angularjs，发布 $scope 和选择框

> ID：16183094
> 
> 赞同：1
> 
> 时间：2013-04-24T03:55:45.987
> 
> 标签：angularjs

我通过创建一个表单来搞乱 angularjs（顺便说一句，这很棒）。我从 json 加载数据，我可以成功读取数据，但我对我所做的 plunker 有几个问题。（[http://plnkr.co/edit/LHX40xHKmoB9onboeNrV?p=preview](http://plnkr.co/edit/LHX40xHKmoB9onboeNrV?p=preview)）

我那里有两张表格，都是一半的工作。在我继续之前，有一个对 angularjs pro 的请求：总的来说，我的 plunker 代码样式是正确的 angularjs 方式吗？我该如何改进它？谢谢。

无论如何，以下代码段是两种形式之间的区别：

***FORM#1：*** 为了使表单正常工作，我指定了 'json`country`中获取它的值`countries`

**JS**：

```
$scope.vm.country = data[0].countries[0]; 
```

**HTML：**

```
Country: <select ng-model="vm.country" ng-options="c.name for c in vm.countries"></select> 
```

***FORM#2：*** JSON 与 #2 略有不同。该`countries`数组称为`country`。选择选项 expr 引用自身 - 失败。此处提交的 json`on-click`具有正确的国家代码/名称值，这是我所追求的，但它也包含`cities`数组，这不是我想要的。

**JS**：

```
$scope.vm.country = data[0].country[0]; 
```

**HTML：**

```
Country: <select ng-model="vm.country" ng-options="c.name for c in vm.country"></select> 
```

我想确切地知道为什么选择框的行为方式与它们在 form2 中的行为方式相同。至于提交表单，显然不希望发送无用的数据。那么你将如何只发送你需要的东西`$scope.vm`呢？对于小型表单，手动将每个输入添加到新的 $scope 项目可以正常工作，但对于具有许多输入的大型表单，它并不理想。

**更新**

这是一个有效的解决方案，将适当的值放入单独的变量 ( `$scope.form`) 中。此外，`$watch`已更改为`ng-change`. 这可能对其他人有所帮助。

[http://plnkr.co/edit/NDSvKS0mEF1Wgp2CBIOB?p=preview](http://plnkr.co/edit/NDSvKS0mEF1Wgp2CBIOB?p=preview)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:47:43.247

这是一个微妙的错误。如果您查看您的 json 文件，您会注意到您的国家“列表”被命名为 country。**将其更改为国家**。它失败的原因是因为在控制器中设置 vm.country 时覆盖了整个列表。我已经分叉/更新了你的**[plunker](http://plnkr.co/edit/Zv8loPCeAsVDJahMJKdg?p=preview)**以显示一个简单的修复。

就表单数据而言，您可能希望将您的选择包装在表单元素中并以这种方式获取值。查看[Angularjs 的页面](http://docs.angularjs.org/api/ng.directive%3aform)。

> 总的来说，我的 plunker 代码风格是正确的 angularjs 方式吗？我该如何改进它？谢谢。

它一点也不差，因为它只有几个控制器。我在使用 Angular 时发现的一些可以帮助您的事情：

1) 对于这样的情况，调试 html 可能很烦人。幸运的是，angular 的“angular.element”方法返回了 html 以及检查元素范围的能力。观看这个[调试教程](http://www.youtube.com/watch?v=4TM6wG9UW7s)，了解它是如何工作的。无论您使用的是 firebug 还是 chrome 开发工具，都应该应用相同的概念。

2) 想办法尽可能避免使用 $watch 方法。原因是每次在您的应用程序中发生任何更新时都会调用此方法，即使更新与调用它的范围没有直接关系。作为一个建议，您可能希望在 select 语句中添加一个 ng-change 指令，该指令应该只在实际 dom 元素更改时触发，而不是让 $watch 在框架中的每个 $digest 触发。

希望这可以帮助。

# c - 奇怪的c左位移

> ID：16183101
> 
> 赞同：-2
> 
> 时间：2013-04-24T03:57:04.557
> 
> 标签：c, bit-manipulation

我正在尝试在 c 中进行左移位。

```
int a = 32;    
printf("%d\n", ~0 << a);    
printf("%d\n", ~0 << 32); 
```

所以我在 2 个 printf()s 以上运行，结果不同。我使用 dev-C++。我不明白为什么不一样。请帮我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T03:59:45.730

> 如果右操作数的值为负数或大于或等于提升的左操作数的宽度，则行为未定义。

那是来自C标准。在您开始对 32 位宽的值使用 32 位移位的那一刻，所有的赌注都被取消了。

*可能*发生的是编译器是常量*折叠* `~0 << 32`，因为这可以在编译时完全计算。

表达式`~0 << a`不能是常量折叠（除非它是一个非常聪明的编译器，可以确定`a`永远是 32）。

这可能会造成任何差异，但老实说，标准中没有任何内容可以阻止程序擦除您的硬盘或在 CPU 中创建一个迷你黑洞（市场反应除外），因为未定义的行为是未定义的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:01:35.843

您（可能）按类型中的位数移动（在您使用的任何系统上`>=`可能是 32 位）。`int`这是未定义的行为 - 允许编译器发出可以执行任何操作的代码。

# java - Java泛型：如何从方法中获取泛型类型？

> ID：16183105
> 
> 赞同：7
> 
> 时间：2013-04-24T03:57:44.697
> 
> 标签：java, class, generics, types

虽然我的问题是关于 Java 泛型的，但我已经放置了一些与 JPA 相关的代码来向您展示真实的上下文。

我正在使用基于 JPA 2.0 和 Criteria API 的查询。我所有的查询都遵循相同的模式（比较简单的属性；不需要路径导航），所以我正在尝试编写一个通用类来处理 JPA，同时将业务逻辑保留在单独的类中。我的目标是有一个方法，给定一个实体类型和一个存储定义标准的对（字段名称-> 所需值）的 Map，返回一个带有某些实体字段值的 bean（或 bean 集合） .

我所有的实体都实现了`Persistible`接口，而我所有的传输对象都继承自`QueryBean`. 我认为这些类与问题无关，所以我跳过了他们的代码。

以下代码是我第一种方法的片段（请假设 cb 是有效的 CriteriaBuilder 实例）：

```
protected <T extends QueryBean, TT extends Persistible> Collection<T> executeQueryEntity
        (Class<T> type, Class<TT> rootType, QueryConfig queryConfig, Map<String, Object> parameters) {
    // (...) Initialization goes here

    CriteriaQuery<T> c = cb.createQuery(type);

    // FROM CLAUSE
    Root<TT> root = c.from(rootType);

    // SELECT CLAUSE
    List<String> constructorParams = queryConfig.getTargetAttributes();
    Selection<?>[] selectArray = new Selection<?>[constructorParams.size()];
    for (int i = 0; i < constructorParams.size(); i++) {
        selectArray[i] = root.get(constructorParams.get(i));
    }
    c.select(cb.construct(type, selectArray));

    // WHERE CLAUSE
    for (String filter : parameters.keySet()) {
        if (queryConfig.getFieldConfiguration().get(filter).compareUsingEquals()) {
            // SOME PREDICATE
        }
        else {
            // SOME OTHER PREDICATE
        }
    }

    // (...) Rest of the code goes here
} 
```

我的QueryConfig界面如下：

```
public interface QueryConfig {

List<String> getTargetAttributes();
Map<String, FieldConfiguration> getFieldConfiguration();

} 
```

由于我已经在使用一个`QueryConfig`提供有关查询信息的类（例如 QueryBean 构造函数所需的参数或有关实体字段的信息），我认为从该类中获取实体类型而不是将其传递为一个类参数。[我从这个](https://stackoverflow.com/questions/4213972/java-generics-get-class-of-generic-methods-return-type)问题推断它不能直接完成，所以我尝试了以下解决方法：

像这样向 QueryConfig 添加方法：

```
Class< ? extends Persistible> getTargetEntity(); 
```

添加这样的中间方法：

```
public <T extends QueryBean> Collection<T> queryMany(Class<T> type, QueryConfig config, Map<String, Object> parameters) {
    executeQueryEntity(type, config.getTargetEntity(), parameters);
} 
```

但它不会编译。我相信这里解释了原因：[Type mismatch for Class Generics](https://stackoverflow.com/questions/163382/type-mismatch-for-class-generics)但我实际上不明白答案。我的问题是：有没有办法避免将`Class< TT >`参数传递给执行方法？这是处理问题的好方法还是我应该重构整个事情？也欢迎对代码进行任何改进！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:18:55.507

我不太明白你认为你的方法会起作用的原因： `QueryConfig`没有`Class< ? extends Persistible> getTargetEntity();`给出编译器可以引用的类型信息，为什么你认为编译器可以“猜测”你要返回的类型，并执行为您检查类型？

您可以做的一种方法是在 QueryConfig 中提供类型信息

```
public interface QueryConfig <T extends Persistable> {
  Class<T> getTargetEntity();
  List<String> getTargetAttributes();
  Map<String, FieldConfiguration> getFieldConfiguration();
} 
```

你的 queryMany 方法可以是：

```
public <T extends QueryBean, TT extends Persistible> 
Collection<T> queryMany(Class<T> type, 
                        QueryConfig<TT> config, 
                        Map<String, Object> parameters) {
    executeQueryEntity(type, config.getTargetEntity(), parameters);
} 
```

# vba - Excel - VBA：一劳永逸地为我的工作表的所有单元格设置标准格式

> ID：16183106
> 
> 赞同：0
> 
> 时间：2013-04-24T03:57:45.383
> 
> 标签：vba, excel

我在使用 excel 时遇到了一个非常烦人的问题：我有一些 VBA 宏，其目的是用一些内容填充其他一些单元格。我的问题是excel不断改变某些单元格的格式！谢谢，但我没有要求这个，每次它试图帮助我时，它只会让事情变得更糟。
当我右键单击单元格以设置标准格式然后再次尝试我的宏时...它会返回到 excel 更改！

这是我遇到的问题的一个示例：
![在此处输入图像描述](https://i.stack.imgur.com/R1tOF.jpg)

另一个例子是数字中的小数位数：如果我的宏正在复制/粘贴一个小数点后 11 位的数字，excel 只会保留 7 位！！很烦人！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-25T08:39:14.040

您只能通过将它们传递给字符串变量来复制您的值，例如

```
dim s as string
s = cstr(myrange.value)
mysecondrange.value = s 
```

如果您的问题仍然存在，则代码的另一部分存在问题。

另一个问题可能是格式化为通用的新单元格，在这种情况下，excel 将始终假定它知道更好地将格式更改为套件。根据您的目标，您可能需要使用相同的 VBA 代码自己设置格式，例如

```
 mysecondrange.numberformat = "@" 'to text 
 'or
 mysecondrange.numberformat = myrange.numberformat 'to other cells format 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:03:18.087

一种技术是将基础数据与格式化数据分开。首先创建您不关心格式的基本数据表。然后使用从基础数据表中提取数据的公式创建演示表，并完全锁定这些演示表。甚至 Excel 也无法重新格式化完全锁定的工作表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T08:19:55.217

您使用的是**Paste**还是**PasteSpecial**。

前者相当于`PasteSpecial xlPasteAll`包括格式。

也许您的代码可以使用`Range.PasteSpecial xlPasteValues`或`Range.PasteSpecial xlPasteFormulas`

# java - 在每个请求上对用户进行身份验证 - Spring MVC

> ID：16183108
> 
> 赞同：1
> 
> 时间：2013-04-24T03:57:51.233
> 
> 标签：java, servlets, spring-mvc, filter, interceptor

我的应用程序通过每个请求（标头）接收用户信用。在进行任何处理之前，我需要根据数据库验证用户信用。基于 REST 的调用。

这里最好的方法/标准做法是什么？

普通的 Servlet 过滤器？弹簧拦截器？还是有其他选择？

请注意，我需要在每次请求时连接到数据库？

感谢您的投入！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:15:23.273

您可以使用弹簧安全性。

[你可以在这里](http://www.mkyong.com/spring-security/spring-security-hello-world-example/)找到一个例子。

# c# - 如何使用从 SQL 表读取数据并从中生成 EXCEL 报告的 ASP.NET C# 代码/程序向 EXCEL 单元格添加单引号？

> ID：16183113
> 
> 赞同：0
> 
> 时间：2013-04-24T03:58:18.850
> 
> 标签：c#, asp.net, sql, excel, csv

当我有一个从 SQL 表读取数据并从中生成 EXCEL 报告的 ASP.NET C# 代码/程序时，如何向 EXCEL/CSV 单元格添加额外的单引号字符？所以产生的数字不是科学价值，它会是准确的（它是一个额外的单引号字符到将有数据的单元格）。我需要在数据之前添加单引号，但是添加后，单引号本身不会显示，而是会显示确切的数字。

问题在下图中，从 SQL Result 来看，它是一个准确的数字，但是当使用代码时，它会被四舍五入到科学值。图片： [http](http://photoadder.com/show-image.php?id=0ca30b7f4ba55fe359c889af62a278a4) ://photoadder.com/show-image.php?id=0ca30b7f4ba55fe359c889af62a278a4 （点击放大）

当我将单引号输入到我自己的 excel 中时，这就是结果。图片：[http ://photoadder.com/show-image.php?id=48366a8093afc8555bcf7c990fc3648e](http://photoadder.com/show-image.php?id=48366a8093afc8555bcf7c990fc3648e)

这是我的部分代码

```
public DataTable GetData()
{
   var dataTable = new DataTable();

   SqlConnection conn = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["connectionString"].ConnectionString);
   conn.Open();
   string query = "select * from table abc";

   SqlCommand cmd = new SqlCommand(query, conn);

   DataTable t1 = new DataTable();
   using (SqlDataAdapter a = new SqlDataAdapter(cmd))
   {
       a.Fill(t1);
   }
   return t1;
}
#endregion

protected void btnGenerateReport_Click(object sender, EventArgs e)
{
    System.Diagnostics.Debug.WriteLine("PLaccount system on click");

    var dataTable = GetData();

    StringBuilder builder = new StringBuilder();
    List<string> columnNames = new List<string>();
    List<string> rows = new List<string>();

    foreach (DataColumn column in dataTable.Columns)
    {
        columnNames.Add(column.ColumnName);
        if (column.ColumnName.ToString() == "PL_ACCOUNT_NUMBER")
        {

            System.Diagnostics.Debug.WriteLine("PLaccount system match");

        }
    }

    builder.Append(string.Join(",", columnNames.ToArray())).Append("\n");

    foreach (DataRow row in dataTable.Rows)
    {
        List<string> currentRow = new List<string>();

        foreach (DataColumn column in dataTable.Columns)
        {
            object item = row[column];

            currentRow.Add(item.ToString());
        }

        rows.Add(string.Join(",", currentRow.ToArray()));
    }

    builder.Append(string.Join("\n", rows.ToArray()));

    Response.Clear();
    Response.ContentType = "text/csv";
    Response.AddHeader("Content-Disposition", "attachment;filename=myfilename.csv");
    Response.Write(builder.ToString());
    Response.End(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:49:18.410

这是 Excel 导入 CSV 文件方式的长期问题。由于 CSV 文件不包含有关数据类型的任何信息，Excel 会根据字符串值进行一些猜测。当您的字符串值看起来像数字但不应该以这种方式解释时，这尤其令人烦恼……例如需要保留这些 0 的前导 0 的电话号码。

大多数导入 CSV 的应用程序可以识别某些字符串引用，例如将可能被误解为其他内容的字符串（包括嵌入逗号的字符串）包含在一对双引号中。Excel 在导入过程的第一部分处理此问题，因此您可以使用它将逗号放在字符串值中。不幸的是，它在开始解释值**之前**丢弃了双引号。

*（我可以高兴地扼杀为此编写 Excel CSV 导入器的人。）*

幸运的是，您可以在字符串值的开头使用单引号字符来鼓励 Excel 将其视为字符串，而不是尝试将其解释为数字。这在 CSV 中的工作方式与在 Excel 中的工作方式相同。

这是您的 CSV 中的（部分）行：

```
701,888888001074709,XXXXXXXXXXXXXXXXXXXX837659,2/27/2013 12:00:00 AM,... 
```

假设您只想将第二个值视为字符串，则需要更改输出方法以生成以下内容：

```
701,'888888001074709,XXXXXXXXXXXXXXXXXXXX837659,2/27/2013 12:00:00 AM,... 
```

Excel 将正确导入数据，但随后会隐藏单引号字符，就像您以这种方式在单元格中键入数据一样。对单元格的引用将获得单引号等之后的字符。

既然我已经解释了你*为什么*需要这样做，那么你应该弄清楚*如何*去做。

如果您尝试编写通用`DataTable`导出器，而不必指定需要引用的列，则需要执行以下操作之一：

1.  检查每一列的数据类型，并在每一列字符串前加上一个单引号（快速简单但不美观的选项）

2.  对于每个字符串列的值，请尝试将其解析为数字，并且如果可行，则仅在前面加上一个单引号。

3.  传入一个可选的列列表（按名称或索引）来引用。

在这三个中，提供一个可选的列列表来特别处理是我的偏好。

如果您不尝试通用解决方案，请尝试以下操作：

```
 foreach (DataRow row in dataTable.Rows)
    {
        List<string> currentRow = new List<string>();
        foreach (DataColumn column in dataTable.Columns)
        {
            object item = row[column];

            if (column.Ordinal == 1)
                currentRow.Add("'" + item.ToString());
            else
                currentRow.Add(item.ToString());
        }
        rows.Add(string.Join(",", currentRow.ToArray()));
    } 
```

# clojure - 如何处理clojure中的特定错误

> ID：16183114
> 
> 赞同：1
> 
> 时间：2013-04-24T03:58:19.053
> 
> 标签：clojure, quil

我正在将 clojure 与 quil 库一起使用，在代码中的某一时刻，我在文件夹中加载了一个随机图像，有时我会收到一条错误消息：

```
 Could not find a method to load ./data/images/367-014.jpg%3F0 
```

如果发现此错误，我怎样才能使代码继续运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-26T10:29:17.367

假设您无法以其他方式阻止您可能正在寻找的错误 try/catch。（但这个问题没有明确说明）

看：

[http://clojuredocs.org/clojure_core/1.2.0/clojure.core/try](http://clojuredocs.org/clojure_core/1.2.0/clojure.core/try)

# jquery - asp.net listview 项目的右击事件

> ID：16183117
> 
> 赞同：0
> 
> 时间：2013-04-24T03:58:43.543
> 
> 标签：jquery, asp.net, listview

我有一个列表视图，我需要为右键单击事件添加一个弹出窗口。目前我已经用jquery实现了它。但是页面的初始加载，右键单击不起作用。但是如果我刷新页面，那么右键单击就可以了。我查看了 html 源代码，我可以看到正确加载的所有标记和 jquery 变量。

这是我的标记。

```
<asp:ListView ID="lvKeywords" OnItemDataBound="lvKeywords_ItemDataBound" OnItemDeleting="lvKeywords_ItemDeleting" 
            DataKeyNames="Key" runat="server" OnItemUpdating="lvKeywords_OnItemUpdating" >
  <ItemTemplate>

      <div id="<%#Eval("Key") %>" class="fsKeywordItem">
          <asp:Literal ID="ltrlKeyword" runat="server"></asp:Literal>                 
      </div>

      <%--this is the popup--%>
      <div class="smartPopUp" id="<%#Eval("Suggession") %>" style="display: none;">
          <%-- there are some html controls here --%>
      </div>

      <script type="text/javascript">

            $(document).ready(function () {
               $("#" + '<%#Eval("Key") %>').mousedown(function (event) {
                    switch (event.which) {
                           case 3:
                                 event.preventDefault();
                                 showPopup('<%#Eval("Suggession") %>');
                           }
               });

               $("#" + '<%#Eval("Key") %>').bind("contextmenu", function (e) {
                    e.preventDefault();
               });
            });
      </script>
  </ItemTemplate>
</asp:ListView>

<script type="text/javascript">
   function showPopup(divId) {
      $("#" + divId).css("display", "block");
   }
</script> 
```

对这个问题有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T07:26:23.517

我认为这是因为 document.ready() 而发生的。所以删除 Listview 中的那个 jquery 部分并使用 javascript 来完成它。

所以，我会给你一个列表视图的例子。

```
 oncontextmenu='showPopup("popupDivId"); return false;' 
```

将其添加到您的 div 如下

```
 <div id="<%#Eval("Key") %>" class="fsKeywordItem" oncontextmenu='showPopup("popupDivId"); return false;'>
      <asp:Literal ID="ltrlKeyword" runat="server"></asp:Literal>                 
  </div>

  <%--this is the popup--%>
  <div class="smartPopUp" id="<%#Eval("Suggession") %>" style="display: none;">
      <%-- there are some html controls here --%>
  </div> 
```

这里会发生什么，oncontextmenu 将触发 rigth click 事件，然后我们在那里调用我们的函数。然后“return false”将停止右键单击事件的默认行为。这意味着它将停止浏览器的默认右键菜单。

希望您可以通过使用 oncontextmenu 找到解决方案。

:)

# visual-studio-2010 - 在 Visual Studio 中将“.inc”文件添加到汇编语言项目中

> ID：16183118
> 
> 赞同：1
> 
> 时间：2013-04-24T03:58:55.297
> 
> 标签：visual-studio-2010, masm, irvine32

在 Visual Studio 2010 中，如何将`.inc`文件添加到汇编语言项目中？在这里，我正在尝试添加`irvine32.lib`到项目中：

```
1>------ Build started: Project: p10, Configuration: Debug Win32 ------
1>LINK : fatal error LNK1104: cannot open file 'irvine32.lib'
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

在文件开头添加此行时出现此错误`.asm`：

```
include irvine32.inc 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:16:53.223

```
include PATHTOIRVINE\irvine32.inc
includelib PATHTOIRVINE\irvine32.lib 
```

# for-loop - 蛮力字符串猜测 bourne-shell 脚本的运行时间

> ID：16183122
> 
> 赞同：0
> 
> 时间：2013-04-24T03:59:24.230
> 
> 标签：for-loop, sh

我正在编写一个脚本来尝试猜测一个字符串。字符串长度为 12 个字符，可以是 18 个不同的字母数字字符之一。只有当我有一个完整的可能解决方案时，我才能确认我是否有正确的字符串。所以我已经完成了 12 个嵌套 for 循环，在最后一个循环中，检查我的答案，如果不正确则继续，如果正确则退出。它看起来像这样：

```
for char1 in A B C ... 7 8 9
do
    for char2 in A B C ... 7 8 9
    do
        .
        .
        .
        for char12 in A B C ... 7 8 9
        do
            if [ "${char1}${char2}..." = "HELLOWORLD33" ]
            then
                echo "okay"
                exit 0
            fi
        done
    done
done 
```

我的问题是：（1）我是否使用这种方法获得所有可能的组合？(2) 当我通过带有旧 64 位处理器的 Bourne Shell 运行此程序时（不确定速度），我预计这大约需要多长时间？

谢谢！

# node.js - 如何在 Node.js Express 应用程序中呈现预编译的 Jade (Pug) 模板？

> ID：16183126
> 
> 赞同：7
> 
> 时间：2013-04-24T04:00:05.473
> 
> 标签：node.js, express, pug

我有一个使用 Express 和 Jade（现在是 Pug）的 nodejs 应用程序。我想预编译翡翠模板以获得更好的性能。我已经能够使用`jade --client`将所有 .jade 文件编译为相应的 .js 将翡翠转换为 javascript。

如何在我的应用程序中使用这些 js 文件？我对nodejs / express没有太多经验，但我认为它必须需要更改渲染引擎？我已经阅读了说要使用的官方文档，`runtime.js`但我找不到任何文档来说明它的使用方式。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-06-14T20:55:30.643

Jade（现在的 Pug）是一个很棒的模板引擎，但是视图的编译消耗了很多资源。玉很*慢*。当然，您可以在生产环境中使用 express 的“缓存视图”功能来缓存已编译的视图，但已编译的视图存储*在内存*中会消耗大量资源。感谢Jade，我开发的最新的express app 800多毫秒响应了第一个请求，所以我不想改变模板引擎，所以我和你一样，决定编译Jade关于我的开发的意见环境并部署这些文件而不是原始视图。

为了使用编译后的视图，这些`.js`文件是由一个名为的函数组成的文件`template`，你需要使用jade*运行时*。运行时生成属性值并执行其他操作，例如*转义*值。该`template`函数接受一个用于动态*数据*的参数。

由于这些函数是为客户端编译的，编译后的视图依赖于一个全局的翡翠运行时（即`window.jade`）。在 node.js 中，您可以填充`GLOBAL`对象，即`GLOBAL.jade = require('jade/lib/runtime')`，但这不是一个好主意。我决定*修改*编译后的函数：

1.  我们可以*`require`*使用.`.js``module.exports`
2.  该函数接受第二个参数，即玉运行时。

以下代码片段使用`gulp`,`gulp-jade`和`gulp-replace`a 中的节点模块`.gulpfile`：

```
gulp.task('compile-jade', () => {
    // get all the jade files and compile them for client
    return gulp.src([
        '../views/**/*.jade'
    ]).pipe(jade({
        client: true
    }))
    // replace the function definition
    .pipe(replace('function template(locals)', 'module.exports = function(locals, jade)'))
    .pipe(gulp.dest('../views_js') );
}); 
```

现在我们已经更改了函数声明，我们可以加载已编译的文件（`.js`文件）而不是`.jade`文件。但是还有另一个问题。没有用于使用这些文件的预制模板引擎（据我所知）。所以我们需要定义一个新的引擎。这很容易：

```
let jade = require('jade/lib/runtime');
app.engine('js', function (filePath, options, callback) { // define the template engine
  let data = require(filePath)(options, jade);
  callback(null, data);
}); 
```

现在我们可以在 express 中更改视图相关设置：

```
app.set('view engine', 'js');
app.set('views', path.join(__dirname, 'views_js')); 
```

现在响应应用程序启动时的第一个请求对我来说需要 7 毫秒。请注意，`require`对于不存在的文件会引发错误，因此您可以考虑使用`try/catch`or promises 来处理可能的异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-04T17:18:02.197

您可以使用jade-runtime 模块（非官方）。当你这样做时`require("jade-runtime")`，它似乎向 GLOBAL 对象添加了一个“jade”对象，所以它可能只是这样工作。

对我有用的是将以下代码添加到包含（客户端模式）编译模板函数的文件中。

```
jade = require("jade-runtime").runtime
module.exports = 
```

请参阅[https://github.com/meryn/make-document-html](https://github.com/meryn/make-document-html)及其 Makefile 以查看它的工作情况（编译后的必需模板函数最终位于 lib/template.js 中）。但这也可以在 Node.js 本身中完成。

### 编辑

我需要补充一点，除非您想阻止 Jade 依赖项（就像我所做的那样），否则没有必要使用预编译的模板*文件*来获得预编译的好处。您可以在`templateFn = jade.compile(templateCode)`某处做并重用它。事实上，如果 express 没有缓存已编译的模板本身，我会感到惊讶`res.render(templateName, vars)`。如果没有，那就太浪费了。但是我没有快递的经验。您是否检查过 Express 渲染功能的作用？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-04T16:49:57.917

您可以尝试使用非常易于使用的 requirejs 模块。在您的服务器端代码中，您可以在一个文件夹中预编译您的翡翠文件，然后从客户端您可以调用 require 函数来运行您的预编译模板，如下所示：

```
require(['<template_name>'], function (parse) {
                document.getElementById(<div_id).innerHTML = parse({
                    locals: <data_to_be_passed>
                })
            }) 
```

# google-apps-script - Jotform 提交并集成到电子表格时触发 Google Apps 脚本

> ID：16183127
> 
> 赞同：2
> 
> 时间：2013-04-24T04:00:08.537
> 
> 标签：google-apps-script, jotform

有没有办法在集成并提交 Jotform 时触发 Google Apps 脚本？？？我想甚至是一种触发创建的新行的方法。

这是我正在寻找的流程。

Jotform 提交 >> Google 电子表格 >> 触发 Google Apps 脚本 >> 做一些事情

干杯...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-10T12:26:18.523

是的你可以，

使用脚本管理器将脚本添加到电子表格后，启用 onChange 事件触发器，如下所示：

**首先选择 Resources->Current project's triggers...**

![选择资源->当前项目触发器](https://i.stack.imgur.com/wnYwj.png)

**然后将触发器设置为：** ![设置触发器](https://i.stack.imgur.com/0tCQq.png)

**你可以在onChange**函数中做任何你想做的事情。这是一个将新插入的行作为电子邮件发送的示例：

```
function onChange(e){

    // sends newly inserted row as an email
    if (e.changeType == "OTHER") { // mean the sheet is updated via an api call

    var sheet = SpreadsheetApp.getActiveSheet();

    var rows = sheet.getLastRow();
    var columns = sheet.getLastColumn();

    var data = [];

    for (var i=1; i<columns; i++){
      data.push(sheet.getRange(rows, i).getValue());
    }

    MailApp.sendEmail("you@example.com", "autoTriggeredByJotform", Utilities.jsonStringify(data));
  }
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T15:34:23.193

我不确定是否可以使用谷歌电子表格触发谷歌应用脚​​本。我想应该有办法。

[https://developers.google.com/apps-script/understanding_events](https://developers.google.com/apps-script/understanding_events)

但是，可以在提交 JotForm 表单时触发外部 URL/脚本：

[http://www.jotform.com/help/51-How-to-Post-Submission-Data-to-Thank-You-Page](http://www.jotform.com/help/51-How-to-Post-Submission-Data-to-Thank-You-Page)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-30T11:17:51.713

如果您想使用 JotForm、Formstack、Zapier 等或除 Google Forms 之外的任何其他表单来触发 Ultradox，您将像我在过去 2 天中所遇到的那样为这个问题制定一个适当的解决方案。于 2012 年 11 月首次提出。

该解决方案将针对 JotForm 到 Ultradox 触发器进行定制。

从 New Ultradox > 将其命名为“触发器”> 将 1 分钟计时器设置为第一个块（否则触发器将在 JotForm 有机会将新表单数据写入工作表之前启动）> 插入 Google Apps 脚本 - 我的脚本块 > 单击创建并重命名为“触发器”> 将第 1 到 78 行替换为以下代码：

```
// The following method will be invoked whenever Ultradox executes the script
function execute(mode1) {
  var sheet = SpreadsheetApp.openById('1KFVcrrCpiPKn7pOz2sQoI5IPjiPNlNKuHpykhlKA0fY').getSheetByName('Submissions');
//Change the sheet Id and name as appropriate
   var lastRow = sheet.getLastRow();
   var response = UrlFetchApp.fetch('http://www.ultradox.com/batch?id=x5OPzk9iQ5LssjaeEgxScBMqXA3Pnc&chunk='+lastRow);} 
```

从脚本编辑器的第 4 行，更改工作表 ID（更改为您的响应表 ID，在其 URL 中找到）和响应所在的电子表格内的工作表选项卡的名称（不是电子表格的名称）> 转到您想要触发的 Ultradox > 单击文件 > 集成 > 复制您的集成 URL > 返回脚本，替换第 9 行的 URL，“&chunk=”是脚本的一部分，需要保留在 URL 的末尾。

单击发布 > 部署为 Web 应用程序 > 将谁有权访问应用程序：更改为任何人 > 部署 > 复制当前 Web 应用程序 URL。

返回到 Trigger Ultradox 并单击脚本块上的齿轮图标（如果不可用，请删除此块，添加另一个脚本块，单击选择，找到您创建的脚本并将其与此块相关联）将“应用程序 URL”粘贴到“输入”已发布的脚本 URL > 确定 > 单击文件 > 集成 > 复制您的集成 URL。

转到 JotForm 并打开自定义的“Thank You”页面 > 插入/编辑图像 > 将 Trigger Ultradox 中的集成链接粘贴到 Source > OK > 将新框调整为非常小的尺寸。请注意，每次打开感谢页面时都会触发您的 Ultradox :-)

流程摘要... JotForm 已提交 > 感谢页面 触发 Trigger Ultradox 1 分钟计时器 > 表单数据写入工作表 > 触发脚本从工作表中获取最后一个行号 > 脚本将此行号附加为“块” ' 到触发集成之前的 Ultradox 集成 URL。

您想将 Trigger 脚本放在您想要触发的 Ultradox 中，而不是将其作为单独的 Ultradox 吗？

您必须弄清楚如何将“lastRow”变量从触发脚本传递到“Pick row(s)”构建块。由于这将位于您的工作流程之上，因此您还必须为触发脚本制定“仅在以下条件为真时执行”，因此您可以触发其他行而不会干扰脚本。

# matlab - 在 matlab 中使用 mex 编译 C++ 时，如何摆脱 stdafx.h 错误？

> ID：16183133
> 
> 赞同：2
> 
> 时间：2013-04-24T04:01:20.183
> 
> 标签：matlab, compiler-errors, mex, stdafx.h

我正在尝试使用 mex 编译 C++ 代码，但无法成功编译。阅读一些相关博客，我安装了 Microsoft Visual C++ 2010 Express 和 Windows 软件开发工具包 (SDK) 7.1，但仍然出现此错误：

> facePart.cpp(5)：致命错误 C1083：无法打开包含文件：'stdafx.h'：没有这样的文件或目录

任何人都可以帮助我找出问题...？

我正在使用带有 matlab 版本 2011a 的 64 位 Windows 平台...

顺便说一句，在输入 mex -setup 后，它给了我这样的信息：

```
Please choose your compiler for building MEX-files:

Would you like mex to locate installed compilers [y]/n? y

Select a compiler: [1] Microsoft Visual C++ 2010 Express in C:\Program Files (x86)\Microsoft Visual Studio 10.0

[0] None

Compiler: 1

Please verify your choices:

Compiler: Microsoft Visual C++ 2010 Express Location: C:\Program Files (x86)\Microsoft Visual Studio 10.0

Are these correct [y]/n? y

************************************************************************* Warning: MEX-files generated using Microsoft Visual C++ 2010 require that Microsoft Visual Studio 2010 run-time libraries be available on the computer they are run on. If you plan to redistribute your MEX-files to other MATLAB users, be sure that they have the run-time libraries. *************************************************************************

Trying to update options file: C:\Users\JOY\AppData\Roaming\MathWorks\MATLAB\R2011a\mexopts.bat From template: C:\PROGRA~1\MATLAB\R2011a\bin\win64\mexopts\msvc100freeopts.bat

Done . . .

************************************************************************ Warning: The MATLAB C and Fortran API has changed to support MATLAB variables with more than 2^32-1 elements. In the near future you will be required to update your code to utilize the new API. You can find more information about this at: http://www.mathworks.com/support/solutions/en/data/1-5C27B9/?solution=1-5C27B9 Building with the -largeArrayDims option enables the new API. ************************************************************************ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T07:35:33.873

从您的代码中删除 #include "stdafx.h"，或创建一个空的 stdafx.h。

确保 C:\Users\JOY\AppData\Roaming\MathWorks\MATLAB\R2011a\mexopts.bat 不包含 /Yu "stdafx.h" 之类的选项

# ios - 使用自定义单元格在 TableView 中的任何索引处插入一行

> ID：16183134
> 
> 赞同：2
> 
> 时间：2013-04-24T04:01:26.963
> 
> 标签：ios, tableview

我是iOS新手。我尝试了更多时间搜索，但结果不是我的愿望。首先，我有 5 行带有自定义单元格。单元格仅包含文本，我想在包含一张图像的单元格的任何索引处添加一行。那么我们如何实现呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T05:02:51.497

从评论中我知道你对 UITableView 很陌生。所以请通过一些给定的教程。您将能够在 UITableView 中添加、删除编辑单元格

[UITableView 教程](http://www.iosdevnotes.com/2011/10/uitableview-tutorial/)
[教程2](http://iosmadesimple.blogspot.in/2012/10/adding-uitableview-tutorial.html)
[表格视图编程指南](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/tableview_iphone/ManageInsertDeleteRow/ManageInsertDeleteRow.html)

对于简单的插入，这样做

将按钮及其操作添加到视图

```
 -(IBAction)addNewRow:(UIButton *)sender
 {
  self.numberOfRows++;  // update the data source    
  NSIndexPath *indexPath = [NSIndexPath indexPathForRow:0 inSection:0];
   [self.tableview insertRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];

 } 
```

**编辑**

我想你需要这样的东西

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
NSString *cellID1=@"CellOne";
NSString *cellID2=@"CellTwo";

UITableViewCell *cell = nil;

if (0 == indexPath.row) {

    cell =[tableView dequeueReusableCellWithIdentifier:cellID1];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellID1];
    }
    cell.textLabel.text = @"New Cell";

}

else
{
    cell =[tableView dequeueReusableCellWithIdentifier:cellID2];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellID2];
    }
    cell.imageView.image = [UIImage imageNamed:@"Test.jpg"];
}

return cell;
} 
```

不要忘记增加单元格计数，即现在从 numberOfRows 返回 6。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:54:00.067

您可以从视图控制器中的任何位置将行插入表中

```
[tableView beginUpdates];
[tableView insertRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimation:(UITableViewRowAnimation)animation];
[tableView endUpdates]; 
```

给出适当的`indexPaths`和行的动画。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:04:18.493

在您的`tableView:cellForRowAtIndexPath:`方法中，区分您希望单元格与图像的索引路径并将其添加到那里，否则只设置 UITableViewCell 的文本。

# iphone - 将文档文件夹备份到 iCloud

> ID：16183137
> 
> 赞同：0
> 
> 时间：2013-04-24T04:01:53.113
> 
> 标签：iphone, ios, backup, icloud, nsdocument

我的应用程序为每个人构建独特的 PDF。由于它们不容易重新创建，并且需要在多个设备上使用，我希望将它们备份为 iCloud。理想的情况是它们是在一台设备上制作的，当在另一台设备上使用相同的 Apple ID 下载时，所有文档都已经存在。我该如何做到这一点？我在 APP ID 上启用了 iCloud，但那里没有什么可配置的，到目前为止我在这个主题上看到的一切都是如何阻止它备份到 iCloud。我认为这意味着它会自动执行，但是当我在不同的设备上安装时，文档不存在。我需要做什么？是否需要进行一些额外的编码步骤？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:09:14.887

你混淆了两件不同的事情：

*   将单个设备备份到 iCloud（备份）

*   应用程序通过 iCloud 与自身的其他实例共享/同步数据（文档和数据）

如果您希望在一台设备上从您的应用程序上传并下载到另一台设备上相同 iCloud 帐户的同一应用程序，您需要研究后者。

# primefaces - Primefaces (NullPointerException)

> ID：16183140
> 
> 赞同：0
> 
> 时间：2013-04-24T04:02:12.493
> 
> 标签：primefaces, nullpointerexception

这就是问题所在。我想在服务器（使用 Glassfish 3.x）代码上使用 primefaces，似乎没问题，但运行后，我得到了这个 NPE 错误。并且无法弄清楚，它来自哪里..

我的豆：

```
package mybean;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.RequestScoped;
import org.primefaces.model.chart.PieChartModel;

@ManagedBean(name = "chartBean")
@RequestScoped

public class ChartBean {

    private PieChartModel model;

    public ChartBean() {
        model = new PieChartModel();
        model.set("Brand 1", 540);
        model.set("Brand 2", 325);
        model.set("Brand 3", 702);
        model.set("Brand 4", 421);
        }

    public PieChartModel getModel() {
        return model;
    }
} 
```

和索引页：

```
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.prime.com.tr/ui">

    <h:head></h:head>
<f:view>
  <h:form>
    <h:outputText value="Hello My blog!!" />
    <h:inputText value="#{helloMyBlog.webFramework}" />
    <p:editor />
    <p:calendar navigator="true" pages="4"/>
    <p:pieChart value="#{chartBean.model}" />
   </h:form>
</f:view>
</html> 
```

什么会导致 NPE？（注意，因此无法呈现整个页面）

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-05T09:25:24.177

你有带有可访问 webFramework 的 helloMyBlog bean 吗？您的 PieChartModel 吸气剂不会返回图表，也许您应该在其中调用 ChartBean() 并返回它的值。

# ruby-on-rails - bundle exec rake assets:precompile

> ID：16183143
> 
> 赞同：11
> 
> 时间：2013-04-24T04:02:27.397
> 
> 标签：ruby-on-rails, ruby, rake, bundle

我一直在尝试让 RoR 与Passenger 和 Nginx 一起工作。伙计，这是一次冒险。我终于让服务器运行起来，它正在托管一个测试站点，好吧。我遇到了资产错误。我无法使用`bundle exec rake assets:precompile`. 以下是使用 --trace 的结果：

```
$ bundle exec rake assets:precompile --trace
** Invoke assets:precompile (first_time)
** Execute assets:precompile
/Users/pstachof/.rvm/rubies/ruby-1.9.3-head/bin/ruby /Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets --trace
** Invoke assets:precompile:all (first_time)
** Execute assets:precompile:all
** Invoke assets:precompile:primary (first_time)
** Invoke assets:environment (first_time)
** Execute assets:environment
** Invoke environment (first_time)
** Execute environment
** Invoke tmp:cache:clear (first_time)
** Execute tmp:cache:clear
** Execute assets:precompile:primary
rake aborted!
TypeError: 'undefined' is not a function (evaluating 'define.globalDomain.require.bind(define.globalDomain)')
  (in /Users/pstachof/.webserver/sites/stachtest1/app/assets/javascripts/application.js)
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:68:in `extract_result'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:28:in `block in exec'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:41:in `compile_to_tempfile'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:27:in `exec'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/uglifier-2.0.1/lib/uglifier.rb:167:in `really_compile'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/uglifier-2.0.1/lib/uglifier.rb:95:in `compile'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/compressors.rb:74:in `compress'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/processing.rb:265:in `block in js_compressor='
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/processor.rb:29:in `call'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/processor.rb:29:in `evaluate'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/tilt-1.3.7/lib/tilt/template.rb:77:in `render'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/context.rb:193:in `block in evaluate'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/context.rb:190:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/context.rb:190:in `evaluate'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/bundled_asset.rb:26:in `initialize'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:252:in `new'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:252:in `build_asset'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/index.rb:93:in `block in build_asset'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/caching.rb:19:in `cache_asset'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/index.rb:92:in `build_asset'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:169:in `find_asset'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/index.rb:60:in `find_asset'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/static_compiler.rb:19:in `block in compile'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:219:in `block in each_logical_path'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:206:in `block (2 levels) in each_file'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:196:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:196:in `each_entry'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:204:in `block in each_file'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:203:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:203:in `each_file'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/sprockets-2.2.2/lib/sprockets/base.rb:217:in `each_logical_path'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/static_compiler.rb:18:in `compile'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/assets.rake:56:in `internal_precompile'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/assets.rake:70:in `block (3 levels) in <top (required)>'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `block in execute'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:184:in `block in invoke_with_call_chain'
/Users/pstachof/.rvm/rubies/ruby-1.9.3-head/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/assets.rake:60:in `block (3 levels) in <top (required)>'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `block in execute'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:184:in `block in invoke_with_call_chain'
/Users/pstachof/.rvm/rubies/ruby-1.9.3-head/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:143:in `invoke_task'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block (2 levels) in top_level'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block in top_level'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:110:in `run_with_threads'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:95:in `top_level'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:73:in `block in run'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:160:in `standard_exception_handling'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:70:in `run'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/bin/rake:33:in `<top (required)>'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/bin/rake:23:in `load'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/bin/rake:23:in `<main>'
Tasks: TOP => assets:precompile:primary
rake aborted!
Command failed with status (1): [/Users/pstachof/.rvm/rubies/ruby-1.9.3-hea...]
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/file_utils.rb:53:in `block in create_shell_runner'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/file_utils.rb:45:in `call'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/file_utils.rb:45:in `sh'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/file_utils_ext.rb:37:in `sh'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/file_utils.rb:80:in `ruby'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/file_utils_ext.rb:37:in `ruby'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/assets.rake:12:in `ruby_rake_task'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/assets.rake:21:in `invoke_or_reboot_rake_task'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/gems/actionpack-3.2.13/lib/sprockets/assets.rake:29:in `block (2 levels) in <top (required)>'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `call'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:246:in `block in execute'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:241:in `execute'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:184:in `block in invoke_with_call_chain'
/Users/pstachof/.rvm/rubies/ruby-1.9.3-head/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:177:in `invoke_with_call_chain'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/task.rb:170:in `invoke'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:143:in `invoke_task'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block (2 levels) in top_level'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `each'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:101:in `block in top_level'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:110:in `run_with_threads'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:95:in `top_level'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:73:in `block in run'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:160:in `standard_exception_handling'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/lib/rake/application.rb:70:in `run'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/gems/rake-10.0.4/bin/rake:33:in `<top (required)>'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/bin/rake:23:in `load'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head@global/bin/rake:23:in `<main>'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/bin/ruby_noexec_wrapper:14:in `eval'
/Users/pstachof/.rvm/gems/ruby-1.9.3-head/bin/ruby_noexec_wrapper:14:in `<main>'
Tasks: TOP => assets:precompile 
```

如果我设置`config.assets.compile = true`并`config/environments/production.rb`重新启动服务器重新加载站点，我会在 production.log 中收到以下内容

```
Connecting to database specified by database.yml
Started GET "/" for 98.156.89.130 at 2013-04-23 22:45:35 -0500
Processing by HomeController#welcome as HTML
  Rendered home/welcome.html.erb within layouts/application (10.7ms)
Completed 500 Internal Server Error in 77ms

ActionView::Template::Error (application.js isn't precompiled):
    3: <head>
    4:   <title>Stachtest1</title>
    5:   <%= stylesheet_link_tag    "application", :media => "all" %>
    6:   <%= javascript_include_tag "application" %>
    7:   <%= csrf_meta_tags %>
    8: </head>
    9: <body>
  app/views/layouts/application.html.erb:6:in `_app_views_layouts_application_html_erb__451492169_16346550' 
```

如果我从 assets/javascript 目录中删除 application.js 文件（我根本没有修改）并编译一切顺利。我还尝试使用assets/javascript 目录中的文件进行编译，但删除了所有文本，但仍然失败。

我正在使用 rails 3.2.13、ruby 1.9.3 并且在本地安装了以下 gem

```
*** LOCAL GEMS ***

actionmailer (3.2.13)
actionpack (3.2.13)
activemodel (3.2.13)
activerecord (3.2.13)
activeresource (3.2.13)
activesupport (3.2.13)
arel (3.0.2)
bigdecimal (1.1.0)
builder (3.0.4)
bundler (1.3.5)
coffee-rails (3.2.2)
coffee-script (2.2.0)
coffee-script-source (1.6.2)
daemon_controller (1.1.2)
erubis (2.7.0)
execjs (1.4.0)
fastthread (1.0.7)
hike (1.2.2)
i18n (0.6.1)
io-console (0.3)
journey (1.0.4)
jquery-rails (2.2.1)
json (1.7.7, 1.5.5)
mail (2.5.3)
mime-types (1.23)
minitest (2.5.1)
multi_json (1.7.2)
passenger (3.0.19)
polyglot (0.3.3)
rack (1.4.5)
rack-cache (1.2)
rack-ssl (1.3.3)
rack-test (0.6.2)
rails (3.2.13)
railties (3.2.13)
rake (10.0.4, 0.9.2.2)
rdoc (3.12.2, 3.9.5)
rubygems-bundler (1.1.1)
rvm (1.11.3.7)
sass (3.2.8)
sass-rails (3.2.6)
sprockets (2.2.2)
sqlite3 (1.3.7)
thor (0.18.1)
tilt (1.3.7)
treetop (1.4.12)
tzinfo (0.3.37)
uglifier (2.0.1) 
```

这是 application.js 文件

```
// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or vendor/assets/javascripts of plugins, if any, can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// the compiled file.
//
// WARNING: THE FIRST BLANK LINE MARKS THE END OF WHAT'S TO BE PROCESSED, ANY BLANK LINE SHOULD
// GO AFTER THE REQUIRES BELOW.
//
//= require jquery
//= require jquery_ujs
//= require_tree 
```

当我继续使用这个设置时，我发现虽然它编译了 assets/javascript 目录中没有 application.js 文件的资产，并且看起来 css 正在正确编译，但刷新后它没有显示在网页上服务器和站点。如果我将样式直接放在网页中，它将按应有的方式呈现。

以下是相关文件：application.html.erb

```
<!DOCTYPE html>
<html>
<head>
  <title>Stachtest1</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= csrf_meta_tags %>
</head>
<body>
    <div id="content">
        Does this work...
    </div>

    <%= yield %>

    <div style="border: 1px solid #000;">
        This is a test to see about some styles
    </div>
</body>
</html> 
```

资产/样式表/application.css

```
.content
{
    border: 1px solid #999;
    padding: 5px;
} 
```

公共/应用程序.css

```
.content{border:1px solid #999;padding:5px} 
```

我不确定这是否是一个单独的问题，如果可以，我可以将其拉出但想添加它以防万一。

我的想法已经走到了尽头。任何想法或建议将不胜感激。如果我遗漏任何信息，请告诉我，我可以尽我所能填补空白。

谢谢你，帕特里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-01-27T23:02:21.193

尝试：

```
//= require_tree . 
```

代替

```
//= require_tree 
```

以点结尾。就像在指南中一样：http: [//guides.rubyonrails.org/asset_pipeline.html#manifest-files-and-directives](http://guides.rubyonrails.org/asset_pipeline.html#manifest-files-and-directives)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-02T20:31:55.363

在旧的已部署应用程序上更新 gem 后，我看到了同样的错误。我把它缩小到 uglifier，从 1.3.0 升级到 2.0.1。根据其[自述文件](https://github.com/lautis/uglifier/blob/master/README.md)，它需要一个 JS 解释器：

> 确保您的环境具有 ExecJS 支持的 JavaScript 解释器。安装 therubyracer gem 是一个安全的选择，并且在 PATH 中使用节点也可以。

但这不是一个硬依赖，所以它没有被捆绑器捕获。我还不想继续这样做，我在 Gemfile 中将 uglifier 切换回 1.3.0：

```
 gem 'uglifier', '1.3.0' 
```

一切都很好。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-24T06:02:16.767

检查删除以下行表单 application.js

```
//= require_tree 
```

`require_tree`递归加载 app/javascripts 目录中的所有文件

如果可行，则 app/assets/javascripts 目录中的其中一个 javascript 文件存在一些问题

检查目录中的所有文件或

在 application.js 中一一要求文件

```
//= require js_file_name 
```

# java - Java泛型参考不起作用

> ID：16183144
> 
> 赞同：-1
> 
> 时间：2013-04-24T04:02:28.403
> 
> 标签：java, android, generics

不知道这里发生了什么，我正在尝试做一些非常简单的事情，通过引用设置一个对象。我写了两次相同的代码，一次通过引用设置对象，一次返回新对象并将其设置在那里。这是代码

```
for (Person p : test) {
    bcPetDao.refreshRef(p.pet);
    Log.e("Woo1", "Name:" + p.pet);
    Log.e("Woo1", "Addess: " + p.pet.hashCode());
}
for (Person p : test) {
    p.pet = bcPetDao.refresh(p.pet);
}
Log.e("Woo2", "Name:" + test.get(0).pet); 
```

refresh 和 refreshRef 的代码是：

```
public T refresh(T object) {
    try {
        String id = cachedClass.idEntry.getKey().get(object).toString();
        return queryOne(new Query(cachedClass.idColName + " = ?", new String[] { id }, null, null, null, null));
    } catch (IllegalArgumentException e) {
        throw new RuntimeException(e);
    } catch (IllegalAccessException e) {
        throw new RuntimeException(e);
    }
}

public void refreshRef(T object) {
    try {
        String id = cachedClass.idEntry.getKey().get(object).toString();
        object = queryOne(new Query(cachedClass.idColName + " = ?", new String[] { id }, null, null, null, null));
        BcLog.e("In Ref name is: " + object.toString());
        BcLog.e("Addess: " + object.hashCode());
    } catch (IllegalArgumentException e) {
        throw new RuntimeException(e);
    } catch (IllegalAccessException e) {
        throw new RuntimeException(e);
    }
} 
```

Java 泛型有什么东西可以使它不只是工作吗？这是日志打印输出。

```
04-23 22:50:55.643: E/BcLog(30237): In Ref name is: ID: 119, name: 3fdb2a3ab1c0a2e8
04-23 22:50:55.643: E/BcLog(30237): Addess: 1090746752
04-23 22:50:55.643: E/Woo1(30237): Name:ID: 119, name: null
04-23 22:50:55.643: E/Woo1(30237): Addess: 1087524160
04-23 22:50:55.663: E/BcLog(30237): In Ref name is: ID: 118, name: 3fccb118500e0f1c
04-23 22:50:55.663: E/BcLog(30237): Addess: 1088206960
04-23 22:50:55.663: E/Woo1(30237): Name:ID: 118, name: null
04-23 22:50:55.663: E/Woo1(30237): Addess: 1087682616
04-23 22:50:55.684: E/BcLog(30237): In Ref name is: ID: 117, name: 3fe026bb4d24bfe2
04-23 22:50:55.684: E/BcLog(30237): Addess: 1088359352
04-23 22:50:55.684: E/Woo1(30237): Name:ID: 117, name: null
04-23 22:50:55.684: E/Woo1(30237): Addess: 1090724368
04-23 22:50:55.714: E/BcLog(30237): In Ref name is: ID: 116, name: 3fe26d6a3967d838
04-23 22:50:55.714: E/BcLog(30237): Addess: 1090659992
04-23 22:50:55.714: E/Woo1(30237): Name:ID: 116, name: null
04-23 22:50:55.714: E/Woo1(30237): Addess: 1088417312
04-23 22:50:55.734: E/BcLog(30237): In Ref name is: ID: 115, name: 3fef8ec496c0cdb2
04-23 22:50:55.734: E/BcLog(30237): Addess: 1088221128
04-23 22:50:55.744: E/Woo1(30237): Name:ID: 115, name: null
04-23 22:50:55.744: E/Woo1(30237): Addess: 1088572064
04-23 22:50:55.824: E/Woo2(30237): Name:ID: 119, name: 3fdb2a3ab1c0a2e8 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:09:18.410

Java 是按值传递的。当您调用`refreshRef( object )`时，该方法将拥有对象*引用*的本地副本（将其视为指针），因此在方法主体内分配此引用不会影响您传入的对象。

由于内存中只有一个对象副本，因此您可以更改引用的对象的成员，但不能更改实例本身。

# r - 通过 R 的特定行中的另一个条目规范化一列数据

> ID：16183147
> 
> 赞同：2
> 
> 时间：2013-04-24T04:02:47.367
> 
> 标签：r

所以我有一个数据集（这是一个玩具示例）

```
dates <- c(1,1,1,2,2,2,3,3,3)
dates2 <- c(-1,1,2,-1,1,2, -1, 2,3) 
amt <- c(1000, 100, 100, 1000, 100, 100, 1000, 100, 100)

dat <- cbind(dates, dates2, amt) 
```

对于数据帧 dat，我需要将 amt 单独除以，但仅限于 dates2 = -1 的地方。所以我会得到一个输出数据框，如：

```
clean
1 1 0.10  (IE 100 / 1000, for row 2)
1 2 0.10
2 1 0.10
2 2 0.10
3 2 0.10
3 3 0.10 
```

有人知道解决这个问题的简单方法吗？（我的大脑现在就像糊状）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:05:23.003

### 更新：

很好，一个班轮，@Arun 的赞美（在下面的评论中）：

```
DT[, amt := { amt <- amt/amt[dates2 == -1] }, by=dates][dates2 != -1] 
```

或者，更简洁地说，仍然是：

```
DT[, amt := amt/amt[dates2 == -1], by=dates][dates2 != -1] 
```

* * *

### 原答案：

```
library(data.table)

DT <- data.table(dat, key="dates")

# grab "-1" rows, at same time, change col name for simplicity
DT.dates2 <- setnames(DT[dates2==(-1)], "amt", "amt.d")

# remove rows where dates2 == -1
DT <- DT[dates2 != -1] 

# divide as required
DT[DT[dates==dates2][DT.dates2], amt := amt / amt.d] 
```

### 结果：

```
DT 

   dates dates2 amt
1:     1      1 0.1
2:     1      2 0.1
3:     2      1 0.1
4:     2      2 0.1
5:     3      2 0.1
6:     3      3 0.1
> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:05:03.950

```
 by(dat, dat[1], FUN= function(dfm) {
        dfm[ dfm$dates2 != -1, 3] <-dfm[ dfm$dates2!= -1, 3]/dfm[ dfm$dates2== -1, 3]
        return(dfm[ dfm$dates2 !=-1 ,])  } )
dates: 1
  dates dates2 amt
2     1      1 0.1
3     1      2 0.1
----------------------------------------------------------------------------- 
dates: 2
  dates dates2 amt
5     2      1 0.1
6     2      2 0.1
----------------------------------------------------------------------------- 
dates: 3
  dates dates2 amt
8     3      2 0.1
9     3      3 0.1 
```

`do.call(rbind, ...)`如果您希望它们再次作为数据框，您可以使用它们。

# c# - 连接表和 C# 类？

> ID：16183149
> 
> 赞同：0
> 
> 时间：2013-04-24T04:03:06.030
> 
> 标签：c#, oop, database-design

我有 ResorceTopices & Resources 表 m 到 m 关系以及 2 个表之间的连接。只是想知道我是否应该为联合编写类，如果我写一个应该像这样的代码？

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace BOL
{
    class Topic_Resorsce
    {
        public int Id { get; set; }
        public int TopicId { get; set; }
        public int ResorsceId { get; set; }
    }
} 
```

![在此处输入图像描述](https://i.stack.imgur.com/L4Mv4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:35:21.343

显然，你可以随心所欲地做，但我的回答是否定的。您的课程应如下所示：

```
公开课主题
{
     公共 int ID { 获取；放; }
     //任何其他字段应该存在
     公共资源资源 {get; 放; }

}

公共类资源
{
     公共 int ID { 获取；放; }
     //任何其他字段应该存在     
}

```

现在您创建一个数据访问层（或者最好使用 ORM，例如 EntityFramework（包含在 .NET 中）、NHibernate、NHydrate、Lightspeed 等），在您的类和数据库之间进行映射。

当然，有很多代码在 SQL 表和 POCO 之间具有一对一的映射——所以肯定已经完成了，我只是不鼓励这样做。

# android - 在android中使用意图

> ID：16183155
> 
> 赞同：-1
> 
> 时间：2013-04-24T04:03:41.057
> 
> 标签：android, android-intent

我是 android 新手，目前正在阅读一本名为`'Professional.Android.2.Application.Development'`. 我已经看到了一些给我的代码来开始应用程序开发，我注意到大多数 java 代码都包含意图。

我想知道为什么我们使用意图而不是事件或服务。

关于意图，我所知道的只是它们是对要执行的操作的抽象描述。

我也想知道意图在android中的重要性。

谁能给我解释一下，因为我是新手，有点困惑。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T04:23:33.943

## 什么是意图？

**Intent**基本上是在**组件**（例如**活动**、**服务、广播接收器**和**内容提供者**）之间传递的消息。因此，它几乎等同于传递给 API 调用的参数。API 调用和意图调用组件的方式之间的根本区别是：

*   API 调用是同步的，而基于意图的调用是异步的。
*   API 调用是编译时绑定，而基于意图的调用是运行时绑定。

当然，通过使用所谓的**显式意图，可以使意图完全像 API 调用一样工作，**这将在后面解释。但通常情况下，**隐式**意图是要走的路，这就是这里解释的内容。

想要调用另一个组件的一个组件只需要表达它的**意图**来完成一项工作。并且任何其他存在并声称可以通过**意图过滤器**完成此类工作的组件都由 android 平台调用以完成该工作。这意味着，两个组件都不知道彼此的存在，并且仍然可以协同工作，为最终用户提供所需的结果。

组件之间的这种隐形连接是通过意图、意图过滤器和 android 平台的组合来实现的。

这导致了巨大的可能性，例如：

*   在运行时混合和匹配或者更确切地说是即插即用的组件。
*   用定制开发的应用程序替换内置的 android 应用程序。
*   应用程序内部和跨应用程序的组件级重用。
*   如果我可以说，面向最细粒度的服务。
*   这是关于意图的附加描述，几乎是正式的。

意图是对要执行的操作的抽象描述。它可以与**startActivity**一起使用来启动一个**Activity，broadcastIntent**将其发送到任何感兴趣的**BroadcastReceiver**组件，以及**startService(Intent)**或**bindService(Intent, ServiceConnection, int)**与后台服务通信。

Intent 提供了一种在不同应用程序中的代码之间执行后期运行时绑定的工具。它最重要的用途是在活动的启动中，它可以被认为是活动之间的粘合剂。它基本上是一种被动数据结构，包含对要执行的操作的抽象描述。意图中的主要信息是：

*   **action** 要执行的一般动作，如 ACTION_VIEW、ACTION_EDIT、ACTION_MAIN 等。
*   **data** 要操作的数据，例如联系人数据库中的人员记录，以 Uri 表示。

对这个数据结构是android实现的，你阅读下面的文档是很有帮助的：

*   [Android Intent 第一个文档](http://www.skill-guru.com/blog/2011/01/18/how-to-move-from-one-screen-to-another-through-intent/)
*   [Android Intent 第二个文档](http://android.programmerguru.com/android-intent-example/)
*   [Android Intent 第三个文档](http://www.vogella.com/articles/AndroidIntent/article.html)
*   [Android Intent 原生文档](http://developer.android.com/reference/android/content/Intent.html)

# c++ - 在 OpenGL 中使用多边形绘制 2D 粗圆弧

> ID：16183156
> 
> 赞同：0
> 
> 时间：2013-04-24T04:03:55.890
> 
> 标签：c++, opengl, polygon, shapes

我想使用多边形绘制一个厚弧（类似于模拟表盘的彩色部分）。为此，我在多边形中添加了顶点，并且它在外圆周上工作正常，但它连接内圆周的末端（凹面）。

如果我在 Line 中添加这些顶点，相同的逻辑可以正常工作，但这会创建一个空/未填充的弧。

我添加顶点的逻辑是：

```
 for( float i = m_segmentVertex.size() - 1; i < vCount; i++ )
        {
            float x1 = (m_segmentVertex[ i ].x ) * cosA - m_segmentVertex[ i ].y * sinA;
            float y1 = (m_segmentVertex[ i ].x ) * sinA + m_segmentVertex[ i ].y * cosA;
            addVertex( vec3( x1, y1, 0.0f ) );
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:02:02.647

请注意，`GL_POLYGON`仅适用于凸多边形。

您必须对凹多边形进行三角剖分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:17:25.883

尝试使用三角扇并将表盘的中心作为第一个点。可能 addVertex( vec3( 0.0f, 0.0f, 0.0f ) ); 在你的循环之前。

我还建议将 i 设为 int 或 unsigned int，这里的浮点数没有意义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-29T06:10:59.177

这就是我通过三角测量动态创建多边形的方式：

```
//create thick colored segments
void CreateArcMesh( float sAngle, float eAngle, vec4 color, int thickness, int radius )
{
    ObjectMeshDynamic meshObj = new ObjectMeshDynamic();
    vec3 vertex[0];
    float dAngle = ( ( eAngle - sAngle ) / ( VERTEX_COUNT / 2.0f ) );
    float cosA = cos( DEG2RAD * dAngle );
    float sinA = sin( DEG2RAD * dAngle );

    meshObj.setMaterial( "material_base", "*" );
    meshObj.setProperty( "surface_base", "*" );
    meshObj.setMaterialParameter( "diffuse_color", color, 0 );
    //Add the material on both side as the indices for Triangle strip start from last vertex added
    Material material = meshObj.getMaterialInherit(0);
    material.setTwoSided( 1 );
    meshObj.addTriangleStrip( VERTEX_COUNT + 2 );

    vec3 startPos = vec3( radius * cos( DEG2RAD * sAngle ), radius * sin( DEG2RAD * sAngle ), 0.0f );
    vertex.append( startPos );

    vec3 secondPos = vec3( ( radius - thickness ) * cos( DEG2RAD * sAngle ), ( radius - thickness ) * sin( DEG2RAD * sAngle ), 0.0f );
    vertex.append( secondPos );

    float x1 = startPos.x * cosA - startPos.y * sinA;
    float y1 = startPos.x * sinA + startPos.y * cosA;
    vertex.append( vec3( x1, y1, 0.0f ) );

    x1 = secondPos.x * cosA - secondPos.y * sinA;
    y1 = secondPos.x * sinA + secondPos.y * cosA;
    vertex.append( vec3( x1, y1, 0.0f ) );

    forloop( int k = 0 ; VERTEX_COUNT + 2 )
    {
        x1 = ( vertex[ vertex.size() - 2 ].x ) * cosA - vertex[ vertex.size() - 2 ].y * sinA;
        y1 = ( vertex[ vertex.size() - 2 ].x ) * sinA + vertex[ vertex.size() - 2 ].y * cosA;

        vertex.append( vec3( x1, y1, 0.0f ) );
        meshObj.addVertex( vertex[k] );
    }

    vertex.clear();
    meshObj.updateBounds();
    meshObj.flush();
} 
```

# hadoop - 可以处理这些场景的好的hadoop文件夹结构是什么？

> ID：16183166
> 
> 赞同：0
> 
> 时间：2013-04-24T04:04:38.863
> 
> 标签：hadoop, mapreduce

HDFS 内部的文件夹结构应支持数据的年、月和日处理。如果我们必须处理过去 16 天/ 21 天，框架应该支持它。任何临时天数，除了指定天数和开始日期外，处理应该在没有人为干预的情况下完成。HDFS 路径规范应该是自动化的。默认将每天处理文件。

该框架应该与 Map Reduce 代码集成，因为它必须知道需要查看哪些文件夹才能开始工作。

当前： 例如：

/user/projectname/sourcefiles/datasetname/yyyy/mm/dd/timestamp/filename

但这并不能满足所有要求。例如，如果我们必须处理过去 16 天的数据。

“/user/projectname/sourcefiles/datasetname/yyyy/mm/[01][0-9]/timestamp/filename” 此路径将不起作用，因为第 19 天的文件也将包括在内。

以及如何确保 HDFS 文件夹结构和 Map Reduce 作业的时间戳同步？

谢谢你的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:05:54.213

如果您向 MAP Reduce 提供一个文件夹，它将处理该文件夹中的所有文件。您可以创建每周文件夹或每两周文件夹。我希望这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:54:07.630

你可以：

1.  使用路径通配 - 计算您希望处理的日期的路径字符串 - 见这里[http://books.google.co.il/books?id=Nff49D7vnJcC&pg=PA61&lpg=PA61&dq=path+globbing+pattern+hadoop&source=bl&ots= IihwWu8xXr&sig=g7DLXSqiJ7HRjQ8ZpxcAWJW0WV0&hl=en&sa=X&ei=Fp13Uey9AaS50QXJq4B4&ved=0CDAQ6AEwAQ#v=onepage&q=path%20globbing%20pattern%20hadoop&f=false](http://books.google.co.il/books?id=Nff49D7vnJcC&pg=PA61&lpg=PA61&dq=path%20globbing%20pattern%20hadoop&source=bl&ots=IihwWu8xXr&sig=g7DLXSqiJ7HRjQ8ZpxcAWJW0WV0&hl=en&sa=X&ei=Fp13Uey9AaS50QXJq4B4&ved=0CDAQ6AEwAQ#v=onepage&q=path%20globbing%20pattern%20hadoop&f=false)

2.  使用符号链接来帮助您拥有多个层次结构 - 但仅在 Java API 中可用 - 请参见此处[http://blog.cloudera.com/blog/2010/08/what%E2%80%99s-new-in-apache -hadoop-0-21/](http://blog.cloudera.com/blog/2010/08/what%E2%80%99s-new-in-apache-hadoop-0-21/)

# nhibernate - 在NHibernate的sql表达式中给出参数

> ID：16183167
> 
> 赞同：1
> 
> 时间：2013-04-24T04:04:56.810
> 
> 标签：nhibernate, collation

我想在 NHibernate 的查询中使用排序规则，显然唯一的方法（至少从我发现的）是通过添加一个 sql 表达式（[我可以在 nHibernate 中自定义查询结果的排序规则吗？](https://stackoverflow.com/questions/4201583/can-i-customize-collation-of-query-results-in-nhibernate)）

所以我有类似的东西

```
c.Add(Expression.Sql("Title COLLATE Divehi_90_BIN2 LIKE ?", 
                     title, 
                     NHibernateUtil.String)) 
```

但是，这与确切的字符串匹配，我想在两边都使用 % 。

`Title COLLATE Divehi_90_BIN2 LIKE %?%`给我一个错误，

但在标题上填充它：`"%" + title + "%"`作品。

我的问题是 - 有没有办法在 Expression.Sql 中正确提供参数，因为在两边使用 % 看起来像一个安全漏洞 - 我正在邀请查询注入。

PS。我无法在数据库级别更改列的排序规则，因为该列包含两种语言的数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T13:23:12.100

问题是它`%@p0%`不是带引号的字符串，即`'%@p0%'`.

从[NHibernate 文档](http://nhforge.org/doc/nh/en/#querycriteria-narrowing)看来，这是推荐的形式。

```
Expression.Sql("Title COLLATE Divehi_90_BIN2 LIKE ?", 
               String.Format("%{0}%", title),
               NHibernateUtil.String) 
```

请注意，字符串`String.Format("%{0}%", title)`将作为参数传入，因此您不会通过这种方法引发 sql 注入攻击。

# sql-server-2008 - securityadmin 角色 可以创建数据库

> ID：16183172
> 
> 赞同：1
> 
> 时间：2013-04-24T04:05:23.270
> 
> 标签：sql-server-2008, database-administration

我在**mssql 2008**`securityadmin`中担任角色。

 **根据 Doc`securityadmin`角色应该被视为`equivalent`sysadmin 角色 可以**创建数据库**吗？

角色和角色有什么**区别**`securityadmin``sysadmin`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:33:13.133

**系统管理员**

```
Members of the sysadmin fixed server role can perform any activity in the server. 
```

**安全管理员**

```
Members of the securityadmin fixed server role manage logins and their properties.
They can GRANT, DENY, and REVOKE server-level permissions.
They can also GRANT, DENY, and REVOKE database-level permissions 
if they have access to a database.
Additionally, they can reset passwords for SQL Server logins. 
```

**最后注：**

```
The ability to grant access to the Database Engine and to configure 
user permissions allows the security admin to assign most server permissions.
The securityadmin role should be treated as equivalent to the sysadmin role. 
```

**[对于任何查询，请参阅来源](http://msdn.microsoft.com/en-IN/library/ms188659.aspx)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T06:21:45.757

供参考..

如果我们明智地谈论范围

sysadmin 角色具有更大的范围，即服务器级别和数据库级别，并且是所有服务器数据库中的超级用户，可以执行任何服务器/管理员/数据库活动。

安全管理员角色也是一个服务器角色，但与系统管理员相比，其范围略小，并且缺少一些特权。

它已多次专门用于授予，拒绝，撤销服务器和数据库角色，对象的权限，也可用于执行作为子句。**

# sharepoint-2010 - 第一次尝试编辑 SharePoint 文件

> ID：16183175
> 
> 赞同：0
> 
> 时间：2013-04-24T04:05:33.817
> 
> 标签：sharepoint-2010, single-sign-on, remote-desktop

这是我第一次尝试编辑共享点文件。它用作另一台服务器上网站上 iframe 中的链接列表。但这与问题无关。我被要求修改链接列表，我只是想得到它并做到这一点。但是无论怎么做，对我来说似乎都不是很直观。

让我告诉你我已经采取的步骤以及事情是如何出错的，也许我可以得到一些建议。sharepoint 文件位于我远程登录的服务器上。我运行“Sharepoint 2010 中央管理”。在出现的页面上，我单击“应用程序管理”下的“管理 Web 应用程序”。

从那里，我看到了我要编辑的页面。但是当我单击项目的名称（以红色文本显示）时，该区域被突出显示但没有任何反应。在页面顶部的功能区菜单中，有一个名为“站点操作”的下拉菜单，但没有“编辑”选项。请指教。

![http://i67.photobucket.com/albums/h292/Athono/SSO/SSo1_zps60b19ba2.png](https://i.stack.imgur.com/hgWlp.png)

我得到了“登录”的用户名和密码，因为有人告诉我我需要它。这个想法是，也许我需要一个特殊的管理员帐户来查看缺少的菜单选项来编辑页面。但是一开始我不能用它来登录sharepoint系统所在的服务器。然后我发现我可以尝试使用它来登录“Sharepoint 2010 Central Administration”程序。但这没有用。

然后我试着看看台式电脑是否有什么我能做到的。我找到了“Microsoft SharePoint Workspace 2010”

我试过了，看起来很有希望” [http://i67.photobucket.com/albums/h292/Athono/SSO/SSO3_zpse15402e2.jpg](http://i67.photobucket.com/albums/h292/Athono/SSO/SSO3_zpse15402e2.jpg)

但是即使我可以看到文件名，我也无法编辑文件：http: [//i67.photobucket.com/albums/h292/Athono/SSO/SSO4_zpsca7d0f71.jpg](http://i67.photobucket.com/albums/h292/Athono/SSO/SSO4_zpsca7d0f71.jpg)

我回到服务器并尝试了其他一些事情。我试图将我在 Central Adminstration 中的帐户切换到有人建议具有更多权限的特殊帐户，但它不起作用。错误说“错误：访问被拒绝”。我尝试将网页放在地址栏中，而这只是打开了页面而没有任何编辑方式。

请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:01:21.393

中央管理不适用于内容编辑。这是具有各种配置选项的 SharePoint 的核心。您必须创建一个用于内容编辑的 Web 应用程序并在那里创建一个网站集。在该网站集中，您可以编辑页面、添加 Web 部件等。在您的情况下，您可以尝试为您的网站集使用发布门户模板并添加内容编辑器 Web 部件。在该内容编辑器 webpart 中，您可以为 iframe 放置 HTML。

# ruby - 线程安全：捕获 $stdout 的输出

> ID：16183177
> 
> 赞同：3
> 
> 时间：2013-04-24T04:06:00.087
> 
> 标签：ruby, multithreading, debugging, thread-safety, sidekiq

我想知道如何`$stdout`在 ruby​​ 的线程环境中捕获输出。

一些细节。我将捕获用于记录目的，并且我必须`sidekiq`在后台处理作业，以便线程。我编码：

```
@previous_stdout, $stdout = $stdout, StringIO.new
self.stdout = $stdout.string 
```

它抛出了我（对于某些线程）：

```
WARN: undefined method `string' for #<IO:<STDOUT>> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T05:52:03.383

如果您自己记录事情，请为每个作业保留一个 StringIO 日志并写入它：

```
@log = StringIO.new
@log.write 'debug message' 
```

Sidekiq 还提供日志记录选项：

[https://github.com/mperham/sidekiq/wiki/Logging](https://github.com/mperham/sidekiq/wiki/Logging)

否则你可以尝试一些真正的hacky，比如覆盖内核上的打印方法并同步它，这样你就不会意外地写入错误的$stdout。就像是：

```
require 'stringio'

module Kernel
  @@io_semaphore = Mutex.new

  [ :printf, :p, :print, :puts ].each do |io_write|
    hidden_io_write = "__#{io_write}__"

    alias_method hidden_io_write, io_write

    define_method(io_write) do |*args|
      @@io_semaphore.synchronize do
        $stdout = Thread.current[:log] || STDOUT
        self.__send__(hidden_io_write, *args)
        $stdout = STDOUT
      end
    end
  end
end

threads = 3.times.map do
  Thread.new do
    Thread.current[:log] = log = StringIO.new
    sleep(rand)
    puts "testing..."
    log.string
  end
end

logs = threads.map(&:value)
p logs
# => ["testing...\n", "testing...\n", "testing...\n"] 
```

# ios - 如何实现音频播放器界面？

> ID：16183178
> 
> 赞同：0
> 
> 时间：2013-04-24T04:06:13.160
> 
> 标签：ios, objective-c

我正在使用 AVAudioPlayer 播放 mp3 文件，但我需要实现如下所示的 ui 界面： ![在此处输入图像描述](https://i.stack.imgur.com/oH1j9.png)

我想它可能是我可以使用的iOS系统控件，但我找不到它是哪个控件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:12:55.717

那是一个 MPMoviePlayerController。[例如，比较我书中](http://www.apeth.com/iOSBook/ch28.html#_mpmovieplayercontroller)的这个插图：

![在此处输入图像描述](https://i.stack.imgur.com/6p0DS.png)

我书中的同一部分告诉你如何制作和使用其中之一。尽管有这个名字，但它非常适合使用用户界面播放音频。我们的屏幕截图之间的唯一区别是您当时在网络上存在 AirPlay 设备。

# python - Tweepy 2.0 挂在 ssl do_handshake() 上

> ID：16183179
> 
> 赞同：5
> 
> 时间：2013-04-24T04:06:15.333
> 
> 标签：python, ubuntu, ssl, tweepy

我有一个长时间运行的 Twitter 抓取脚本，偶尔会挂起，堆栈跟踪以结尾

```
"/usr/lib/python2.7/ssl.py", line 305: self._sslobj.do_handshake() 
```

我的问题是“为什么？” 和“我能做些什么来解决它？”。

在这种情况发生之前，它通常会持续一周左右。这最后一次，处理`tweepy`挂起的 4 个线程中有 3 个（第四个正在等待来自挂起线程的信息）。奇怪的是，线程挂起之间有相当长的延迟：首先，线程调用`api.followers_ids()`挂起，然后大约 12 分钟后线程调用`api.friends_ids()`挂起，然后 1 小时 12 分钟后（！）线程调用`api.search()`挂起。在所有这些之间有许多 api 调用。

我有一些代码可以在我发送`QUIT`信号时转储它的堆栈跟踪，并且对于挂起的线程，我得到了类似以下的内容。它们与（包括）第二个条目（`tweepy/binder.py, line 185, in _call`部分）相同。另外两个从`tweepy/cursor.py, line 85 in next`and到达那里`tweepy/cursor.py, line 60, in next`：

```
 File "myTwitterScrapingScript.py", line 245, in checkStatus
    status = api.rate_limit_status()
  File "/scratch/bin/python-virtual-environments/tweepy-2/local/lib/python2.7/site-packages/tweepy/binder.py", line 185, in _call
    return method.execute()
  File "/scratch/bin/python-virtual-environments/tweepy-2/local/lib/python2.7/site-packages/tweepy/binder.py", line 146, in execute
    conn.request(self.method, url, headers=self.headers, body=self.post_data)
  File "/usr/lib/python2.7/httplib.py", line 958, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 992, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 954, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 814, in _send_output
    self.send(msg)  File "/scratch/bin/python-virtual-environments/tweepy-2/local/lib/python2.7/site-packages/tweepy/binder.py", line 185, in _call
    return method.execute()
  File "/scratch/bin/python-virtual-environments/tweepy-2/local/lib/python2.7/site-packages/tweepy/binder.py", line 146, in execute
    conn.request(self.method, url, headers=self.headers, body=self.post_data)
  File "/usr/lib/python2.7/httplib.py", line 958, in request
    self._send_request(method, url, body, headers)
  File "/usr/lib/python2.7/httplib.py", line 992, in _send_request
    self.endheaders(body)
  File "/usr/lib/python2.7/httplib.py", line 954, in endheaders
    self._send_output(message_body)
  File "/usr/lib/python2.7/httplib.py", line 814, in _send_output
    self.send(msg)
  File "/usr/lib/python2.7/httplib.py", line 776, in send
    self.connect()
  File "/usr/lib/python2.7/httplib.py", line 1161, in connect
    self.sock = ssl.wrap_socket(sock, self.key_file, self.cert_file)
  File "/usr/lib/python2.7/ssl.py", line 381, in wrap_socket
    ciphers=ciphers)
  File "/usr/lib/python2.7/ssl.py", line 143, in __init__
    self.do_handshake()
  File "/usr/lib/python2.7/ssl.py", line 305, in do_handshake
    self._sslobj.do_handshake() 
```

线程挂起的时间有一些 tweepy 错误。这并不算太不寻常，尽管这个数字略高于正常水平。虽然第四个看起来很有趣..它发生在那个线程挂起之前。

*   `[Errno 110] : Connection timed out`在最后一次调用之前大约 7 分钟`followers_ids()`（中间有许多不同的 api 调用）
*   `[Errno 104] Connection reset by peer`大约 3 分钟后（再次，几次成功的通话之间）
*   `[Errno 110] Connection timed out``friends_ids()`大约在最后一次通话前 1.5 分钟。这是在`api.search()`线程中，该线程在第一个线程挂起前大约 5 分钟一直在等待 - 总共等待大约 15 分钟。
*   `[Errno 104] Connection reset by peer`在来自线程的最后一条消息之前大约 2 毫秒`friends_ids()`，并且在同一个线程中。刚刚收集的朋友 ID 页面看起来一切正常，并且这些调用没有错误。
*   `[Errno 104] Connection reset by peer`在`search`线程中，线程挂起后大约 17 分钟，`friends_ids`线程挂起前将近一个小时`search`。
*   `Failed to send request`大约 1.5 分钟后无故出现TweepError。
*   在接下来的 45 分钟内，还有3 个无缘无故`Failed to send request`的和一个。`[Errno 104] Connection reset by peer`
*   在线程最终挂起之前`search`，大约有 15 分钟没有错误，有很多`lookup_users`电话。`search`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-09T23:34:49.660

问题似乎在于 tweepy 没有实现超时。在最近的 tweepy 版本中，这个问题已经得到修复，并且从那以后（在连续几个月的数据收集中）这个问题就没有发生过。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-05T16:02:34.740

请更新以下内容：

pip install --upgrade 证书

# php - 如何浏览长文本并将其转换为 MySQL 的插入语句

> ID：16183185
> 
> 赞同：1
> 
> 时间：2013-04-24T04:07:05.883
> 
> 标签：php, mysql, regex

我有一个很长的文本，如下所示：

1- EM Smith、JP LAVERGNE、P. VIALLEFONT 和 J. DAUNIS。Recherches en série triazépine-1,2,4。J.杂环化​​学。12, 66 (1975)。

2- M. BENCHIDMI 和 EM ESSASSI。Synthèse de bis s-triazolo [4,3-b : 4,3-d] triazépines-1,2,4。J. 杂环化学，13, 885 (1976)。

3- LAVERGNE et P. VIALLEFONT。Hydrazinolyse d'azabenzodiazépinones et d'azabenzodiazépine-thiones de 1,5 型。四面体，33，28O7（1977）。

4-EM ESSASSI。"Synthèse et étude de RMN1H en présence de l'Eu(fod)3 des pyrazolo [1,5,4-ef] benzodiazépine-1,5 one-6 Bull. Soc. Chim. Belg., 96, 399 (1987) .

. . . .

并且列表继续超过 300 多个，我需要提取每一行并将其添加到 MySql 的插入查询中，删除列表编号并转义所有引号和双引号，我虽然使用正则表达式但结果是对我来说相当困难。

插入查询应如下所示：

```
INSERT INTO PUBLICATIONS (NAME,AUTHOR,CITE,PUB_YEAR) VALUES
("Recherches en série triazépine-1,2,4.", "E.M. Smith, J.P. LAVERGNE, P. VIALLEFONT et J. DAUNIS.","J. Heterocyclic Chem. 12, 66","1975"), 
( "Synthèse de bis s-triazolo [4,3-b : 4,3-d] triazépines-1,2,4.", "M. BENCHIDMI et E.M. ESSASSI.","J. Heterocyclic Chem., 13, 885","1976" ),
etc. 
```

我只是为文本提供了一些格式以产生一些想法，但它没有空格或下一行，它都在一个巨大的字符串中。

我的想法是使用类似的东西：

```
$string = "all my string"
$pattern = '/regex pattern/';
$replacement = 'result format';
echo preg_replace($pattern, $replacement, $string); 
```

我意识到拆分它可能是不可能的，因为没有特定的模式，所以我可以手动添加一个 \n\r 来拆分每一行

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T06:22:43.337

编辑：经过观察，这种模式可以完成这项工作，但我需要更多的数据来查看所有可能的异常，并更好地理解这种数据的“逻辑”。（但第一个答案总是一种方式。）

我见过的一些规则：

**作者：**

*   最终以 forname 首字母开头，后跟名称
*   所有作者用逗号和空格隔开，最后用~et~
*   以点和空格结尾

**标题：**

*   以大写开头，最后加上一个 qouble 引号
*   没有点
*   不要总是以数字结尾：
*   *   前面有逗号，后面有一个点和一个空格
*   *   或带有 - 之前和之后的空格
*   除非最后没有点

**引用：**

*   以大写开头
*   首字母大写的不同单词，可以用点缩写
*   后跟：逗号、空格、数字、逗号空格数字、空格。

**代码**

```
$subject = <<<LOD
1- E.M. Smith, J.P. LAVERGNE, P. VIALLEFONT et J. DAUNIS. Recherches en série triazépine-1,2,4\. J. Heterocyclic Chem. 12, 66 (1975).
2- M. BENCHIDMI et E.M. ESSASSI. Synthèse de bis s-triazolo [4,3-b : 4,3-d] triazépines-1,2,4\. J. Heterocyclic Chem., 13, 885 (1976).
3- LAVERGNE et P. VIALLEFONT. Hydrazinolyse d'azabenzodiazépinones et d'azabenzodiazépine-thiones de type 1,5\. Tetrahedron, 33, 28O7 (1977).
4- E.M. ESSASSI. "Synthèse et étude de RMN1H en présence de l'Eu(fod)3 des pyrazolo [1,5,4-ef] benzodiazépine-1,5 ones-6 Bull. Soc. Chim. Belg., 96, 399 (1987).
1O- J.M.F. BOURGOIN-DE-LA-VILLARDIERE. Recherches en série triazepine-1,2,4: 1 - détermination de la structure de la triazolotriazépinone obtenue par action de l'acétylacétate d'éthyle sur le diamino-3,4 triazole-1,2,4 J. Heterocyclic Chem., 13, 885 (1976).
LOD;
$pattern =
 '~# authors :
  (?(DEFINE)(?<FN>(?:[A-Z]\.){0,3}+(?(?<=\.)\h)) ) # ForName
  (?(DEFINE)(?<NM>[A-Z](?:[A-Z]++|[a-z]++)(?:-[A-Z](?:[A-Z]++|[a-z]++))*+)) # NaMe
  [O\d]++-\h(?<author>(?&FN)(?&NM)(?>(,\h(?&FN)(?&NM))*+\het\h(?&FN)(?&NM))?+)\.\h
  # titles :
  "?+(?<title>[A-Z][^.]+?(?:\.|(?:,|-)\d))\h
  # cites :
  (?<cite>(?:[A-Z][a-z]*+\.?+\h)*[A-Z][a-z]*+\.?+,?+\h[O\d]++,\h[O\d]++)\h
  # date :
  \((?<date>[^)]++)\) 
 ~x';               

preg_match_all($pattern, $subject, $matches, PREG_SET_ORDER);
foreach ($matches as &$match) {  //cosmetic
    foreach ($match as $key=>$value) {
        if (is_numeric($key)||$key=='NM'||$key=='FN') unset($match[$key]);
    }
} 
echo '<meta charset="UTF-8"/><pre>' . print_r($matches, true) . '</pre>'; 
```

--*编辑前回答*--

哇，您是否注意到作者、姓名和引用之间没有任何区别。一种方法是手动切片（作者、姓名和引用之间的简单换行符）（每行大约 5 秒，您在不到 30 分钟内完成，头头有头:)。

我这么说是因为我在作者、姓名和引用之间看到的唯一区别是无法与正则表达式匹配的感觉。

如果你让这个rebarbative工作，那么进行sql查询将很容易。例子：

```
1- E.M. Smith, J.P. LAVERGNE, P. VIALLEFONT et J. DAUNIS.
Recherches en série triazépine-1,2,4.
J. Heterocyclic Chem. 12, 66 (1975). 
```

就是这样，无需触摸数字或日期，正则表达式就可以完成这项工作。如果您执行此工作，请编辑您的消息以获得对正则表达式的帮助。

# android - 登录注册安卓

> ID：16183186
> 
> 赞同：0
> 
> 时间：2013-04-24T04:07:15.633
> 
> 标签：android, passwords

我正在注册一个 android 应用程序。最初，当密码和确认密码不一样时，会提示“密码和确认密码不匹配”，并且成功。但是，如果密码和确认密码与空白匹配，则应出现此语句，“不要将任何字段留空”，不幸的是它失败了。

请帮我检查是否有任何错误。

```
 btn2.setOnClickListener(new View.OnClickListener(){
            public void onClick(View v)
            {
                String username, password, cpassword, fullname, nric, address, phone, email;
                username = tf3.getText().toString();
                password = tf4.getText().toString();
                cpassword = tf5.getText().toString();
                fullname = tf6.getText().toString();
                nric = tf7.getText().toString();
                address = tf8.getText().toString();
                phone = tf9.getText().toString();
                email = tf10.getText().toString();

                if(password != cpassword)
                {
                    tv1.setText("Password & Confirm Password does not match.");
                }
                else if(username.equals("") || password.equals("") || cpassword.equals("") || fullname.equals("") || nric.equals("") || address.equals("") || phone.equals("") || email.equals(""))
                {
                    tv1.setText("Do not leave any field empty.");
                }
                else
                {
                    try
                    {
                        db.beginTransaction();
                        db.execSQL("insert into Members values('"+username+"','"+password+"','"+fullname+"','"+nric+"','"+address+"','"+phone+"','"+email+"');");
                        db.setTransactionSuccessful();
                        db.endTransaction();    
                    }
                    catch(Exception e)
                    {
                    }
                        tv1.setText("Register Complete.");
                }
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:57:33.857

比较密码和确认密码字段如下。

```
if(!password.equals(cpassword)){

    tv1.setText("Password & Confirm Password does not match.");

} 
```

希望它能帮助.. 总是使用**equals()**来比较两个字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:10:24.977

您以错误的方式比较它，只需比较您的密码和确认密码，如下所示，

```
if(!password.equals(cpassword)) 
```

在 Java 中，当您想要比较两个 String 变量时，您需要使用`equals()`String 类的方法。

```
 btn2.setOnClickListener(new View.OnClickListener(){
        public void onClick(View v)
        {
            String username, password, cpassword, fullname, nric, address, phone, email;
            username = tf3.getText().toString();
            password = tf4.getText().toString();
            cpassword = tf5.getText().toString();
            fullname = tf6.getText().toString();
            nric = tf7.getText().toString();
            address = tf8.getText().toString();
            phone = tf9.getText().toString();
            email = tf10.getText().toString();

            if(!password.equals(cpassword))  // Change is here
            {
                tv1.setText("Password & Confirm Password does not match.");
            }
            else if(username.equals("") || password.equals("") || cpassword.equals("") || fullname.equals("") || nric.equals("") || address.equals("") || phone.equals("") || email.equals(""))
            {
                tv1.setText("Do not leave any field empty.");
            }
            else
            {
                try
                {
                    db.beginTransaction();
                    db.execSQL("insert into Members values('"+username+"','"+password+"','"+fullname+"','"+nric+"','"+address+"','"+phone+"','"+email+"');");
                    db.setTransactionSuccessful();
                    db.endTransaction();    
                }
                catch(Exception e)
                {
                }
                    tv1.setText("Register Complete.");
            }
        }
    }); 
```

# c++ - 表达式必须具有指向类类型的指针

> ID：16183189
> 
> 赞同：11
> 
> 时间：2013-04-24T04:07:59.513
> 
> 标签：c++, list, pointers, struct, iterator

我有一个结构“MachineState”，并创建了一个“MachineState *”类型的列表。当我尝试遍历列表时，我不断得到“

```
error C2839: invalid return type 'MachineState **' for overloaded 'operator -> 
```

我正在使用 Microsoft Visual Studio 10。我用谷歌搜索了这个错误，我只能找到“-> 运算符必须返回一个类、结构或联合，或对一个的引用。”

```
Struct MachineState
{

   template <typename MachineTraits>
   friend class Machine;

   enum Facing { UP, RIGHT, DOWN, LEFT};
   MachineState()
    : m_ProgramCounter(1)
    , m_ActionsTaken(0)
    , m_Facing(UP)
    , m_Test(false)
    , m_Memory(nullptr)
    ,x(0)
    ,y(0)
    ,point1(25, 10)
    ,point2(10, 40)
    ,point3(40, 40)

   { }

   int m_ProgramCounter;
   int m_ActionsTaken;

   Facing m_Facing;
    bool m_Test;
    int x;
    int y;
    Point point1;
    Point point2;
    Point point3;

}; 
```

我将列表声明为

```
 std::list<MachineState*> zombs; 
```

这是我尝试遍历我的列表的地方，我不断收到错误，在“it->point1”上说表达式必须有一个指向类类型的指针。

```
 for(std::list<MachineState*>::iterator it = zombs.begin(); it != zombs.end(); it++)
     {
        Point points[3] = {it->point1, it->point2, it->point3};
        Point* pPoints = points;
        SolidBrush brush(Color(255, 255, 0, 0));
        m_GraphicsImage.FillPolygon(&brush, pPoints,3);
     } 
```

如果有人能解释我怎么了

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-04-24T04:11:50.890

`it`是指向a的***指针*****的迭代器***`MachineState`。*

 *您需要取消引用迭代器**，然后**是指针。

```
Point points[3] = {(*it)->point1, (*it)->point2, (*it)->point3}; 
```

**编辑：**

*取消引用*意味着*获取它所引用的东西*。

取消引用是使用`*`or`->`运算符完成的。

如果`it`是 a `MachineState`，您可以使用`it.point1`

如果`it`是指向 a 的指针**，**`MachineState`您可以使用`it->point1`或`(*it).point1`

如果`it`是 a 的**迭代器**，`MachineState`您也可以使用`it->point1`or`(*it).point1`

由于`it`is 是指向 a 的指针的迭代**器**`MachineState`，因此您必须使用`(*it)->point1`or`(**it).point1`*

# jquery - 如果链接名称包含字符串，则删除链接

> ID：16183190
> 
> 赞同：0
> 
> 时间：2013-04-24T04:08:03.733
> 
> 标签：jquery

我的页面上有一个链接列表。这是一个例子：

```
<a href="#">Link (tagMe)</a>
<a href="#">Link (anotherTag)</a>
<a href="#">Link (aThirdTag)</a> 
```

如何让 jQuery 检查我的所有链接并删除带有字符串“（anotherTag）”的链接，以便输出列表如下所示：

*   链接（tagMe）
*   链接（aThirdTag）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:10:29.413

您可以使用`:contains`选择器。

```
$('a:contains("anotherTag")').remove(); 
```

[http://jsfiddle.net/BbyWB/](http://jsfiddle.net/BbyWB/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:10:28.133

```
$('a').each(function() {
    if($(this).text().match(/\(anotherTag\)/))
        $(this).remove();
}); 
```

[http://jsfiddle.net/samliew/wLM5q/1/](http://jsfiddle.net/samliew/wLM5q/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:11:32.543

```
$("a:contains('anotherTag')").remove() 
```

[jsFiddle](http://jsfiddle.net/Pb8Mr/)

# jquery - jQuery加载网址

> ID：16183191
> 
> 赞同：0
> 
> 时间：2013-04-24T04:08:14.220
> 
> 标签：jquery, asp.net-mvc-3

我有两个选项卡作为 tab1 和 tab2，这两个调用相同的函数`uploadfile()`或相同的 url 那么当我们上传图像时如何刷新单个选项卡内容当我们上传图像时它会在关闭 div 之前自动添加到 div

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:11:15.670

我相信这两个标签都有唯一的 ID。

```
$('#youRtabIDFor1').load(LoadSomeThingViaAjaxCall);
$('#youRtabIDFor2').load(LoadSomeThingViaAjaxCall); 
```

# spring - 在 jsp hibernate 和 spring 中选择的索引更改事件的下拉列表中从数据库中填充文本框中的值

> ID：16183193
> 
> 赞同：0
> 
> 时间：2013-04-24T04:08:48.127
> 
> 标签：spring, hibernate, jsp

我有一个下拉菜单。在下拉列表中选择任何值时，我想使用 spring 和 hibernate 和 jsp 从数据库中填充文本框中的值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:47:20.190

First setup your web application with jsp, spring and hibernate.

Use javascript on the page which `onChange` event of drop down makes an ajax call to your service and set the textbox.

# .net - 基本的 .NET Windows 窗体控件是本机 Win32 控件吗？

> ID：16183195
> 
> 赞同：6
> 
> 时间：2013-04-24T04:08:55.923
> 
> 标签：.net, winforms, winapi

.NET Windows 窗体应用程序是否将等效的本机 Win32 控件用于文本框和按钮等基本控件？WPF 是非原生的，但 Windows 窗体的外观和感觉都非常原生。Button 控件上的动画看起来与 Win32 按钮完全一样。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-24T04:20:59.533

是的，他们是……有几个例外。

WinForms 中的某些内容是自定义绘制的。他们使用本机控件，但他们打开所有者绘制并在 C# 代码内部处理一些绘图逻辑。这样做的好处是它允许按钮之类的东西具有`BackColor`支持用户定义颜色而不是标准系统颜色的属性。一般来说，应该避免这种情况（至少在我看来），因为不仅效果难看，用户选择他们所做的配色方案也可能是有原因的。但平面设计师通常认为他们比用户更了解，所以选择存在。

像这样实现的控件通常会公开一个`FlatStyle`属性，该属性允许您更改它们的绘制方式（例如，[`ButtonBase.FlatStyle`](http://msdn.microsoft.com/en-us/library/system.windows.forms.buttonbase.flatstyle.aspx)）。使用`FlatStyle.Standard`.NET Framework 会执行其正常的所有者绘图，即使您没有使用异常设置自定义任何控件的属性。使用`FlatStyle.System`，控件由 Win32 直接呈现，无需任何所有者绘制或其他覆盖。

您可以很容易地分辨出按钮上的区别。当设置为 时`FlatStyle.System`，按钮上的蓝色悬停效果会逐渐淡入淡出。当设置为`FlatStyle.Standard`时，蓝色光芒会突然出现和消失。接近，但不完全相同。组合框做同样的事情（至少当它们的[`DropDownStyle`](http://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.dropdownstyle.aspx)属性设置为 时`ComboBoxStyle.DropDownList`）。

我建议将所有具有此类属性的控件设置为，`FlatStyle.System`除非您绝对需要此 FlatStyle 不支持的行为。

还有其他几个例外。某些 WinForms 控件在 Win32 中不存在，因此它们不受本机控件的支持。[DataGridView](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.aspx)是此类控件的一个很好的示例。

最后，[MenuStrip](http://msdn.microsoft.com/en-us/library/system.windows.forms.menustrip.aspx)和[ContextMenuStrip](http://msdn.microsoft.com/en-us/library/system.windows.forms.contextmenustrip.aspx)控件完全用 C# 代码编写并由 WinForms 手动绘制。它们不受本机 Win32 控件的任何支持。这就是为什么它们在 Windows Vista 及更高版本上看起来如此丑陋的原因，因为它们永远停留在使用 Office XP 风格。它在 Windows XP 上看起来很酷，但在更高版本上却显得很突兀。将渲染样式从[`Professional`](http://msdn.microsoft.com/en-us/library/system.windows.forms.toolstripprofessionalrenderer.aspx)to更改[`System`](http://msdn.microsoft.com/en-us/library/system.windows.forms.toolstripsystemrenderer.aspx)也无济于事。

相反，您需要将这些控件的原始版本[MainMenu](http://msdn.microsoft.com/en-us/library/system.windows.forms.mainmenu.aspx)和[ContextMenu](http://msdn.microsoft.com/en-us/library/system.windows.forms.contextmenu.aspx)添加到您的工具箱中。默认情况下，它们不包含在最新版本的 Visual Studio 中，但它们绝对仍然可以使用并且不会出现在任何地方。再次，我强烈建议使用它们，因为它们 100% 由本机 Win32 菜单支持，因此无论用户的 Windows 版本如何，它们看起来都应该如此。

# actionscript-3 - 无法创建 Flash 对象的动态实例

> ID：16183200
> 
> 赞同：0
> 
> 时间：2013-04-24T04:09:33.460
> 
> 标签：actionscript-3, flash, dynamic, multiple-instances

好的，所以我试图在屏幕上的不同位置显示对象正方形（电影剪辑）的多个实例。

```
var k1=0,k=0,p=0;
for (k1=0;k1<5;k1++)
{

drawrect(k,p);
k=k+101;

} 
```

上面的代码是我想在行中水平显示对象 om 屏幕的次数。

```
import flash.display.MovieClip;

function drawrect(x1:Number,y1:Number){
    // statements here
    trace("Hello world!");
var MC_squre:MovieClip= new MovieClip();
MC_squre.x=x1;
MC_squre.y=y1;

addChild(MC_squre);

}; 
```

这个函数正在尝试声明movieclip SQUARE的实例并将其放置在函数中的给定参数处。我可能想稍后再制作它和实例的数组。我尝试了这段代码

```
var square:Sprite = new Sprite();
addChild(square);
square.graphics.lineStyle(3,0x000000);
square.graphics.beginFill(0x0000FF);
square.graphics.drawRect(0,0,100,100);
square.graphics.endFill(); 
```

它有效，但我现在想通过库对象使用它，而不仅仅是在绘制的形状上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T13:56:22.677

你需要做的是让你在库中的对象可以被actionscript访问。为此，请进入该剪辑的属性，单击“高级”，然后选中“导出为 Actionscript”框。当按下“确定”时，你会得到这样的类不存在的警告，它会自动生成。那没问题。

无论您在属性中作为类名放置什么，您都必须使用它来实例化您的对象。如果是例如 MySquare，请使用它。所以你上面的代码看起来像这样：

```
 function drawrect(x1:Number,y1:Number){
    // statements here
    trace("Hello world!");
    var MC_squre:MovieClip= new MySquare();
    MC_squre.x=x1;
    MC_squre.y=y1;

    addChild(MC_squre);
}; 
```

# node.js - What is the proper way to close a client in restify?

> ID：16183201
> 
> 赞同：3
> 
> 时间：2013-04-24T04:09:38.520
> 
> 标签：node.js, client, restify

I have a restify server receiving a POST then it will reply with a POST call. I'm using the string client module. Below is the code:

```
var restify = require('restify');

var client = restify.createStringClient({
   url: 'https://xyz.com'
 });

var postdata = {
  ...
 };

 client.basicAuth('username','pass');

 client.post('/somepath',postdata,
            function(err, req, res, data) {
                if(err) ... else { ... };
                //should the close method be called here??
      }); 
```

The POST was successful but when I tested it in REPL, it appears the process never terminates. The seems to indicate the connection is still open. Should the connection be closed in the callback?

Any pointers would be greatly appreciated. Thx.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T16:41:04.423

Restify `StringClient` inherits from `HttpClient`... which has a `close()` method... did you try it?

# php - 需要帮助将按钮链接到 wordpress 主题定制器中的功能

> ID：16183206
> 
> 赞同：0
> 
> 时间：2013-04-24T04:09:54.897
> 
> 标签：php, javascript, wordpress, wordpress-theming

我为主题定制器创建了一个自定义控件，它是一个简单的按钮和标签。我将把它用作主题重置按钮，将主题 mod 设置清除为其原始状态。现在我已经添加了控件并让它显示在定制器上，我不确定应该在哪里添加代码来重置设置。

到目前为止，我只为 CSS 和文本更改创建了定制器设置。要删除设置，我将使用[删除主题 mods 功能。](http://codex.wordpress.org/Function_Reference/remove_theme_mods)

```
 <?php remove_theme_mods() ?> 
```

所以我的问题是我如何使用这个按钮来执行上面看到的 remove_mods 函数？关于该功能的文档非常少。

如果有另一种方法可以将主题 mod 设置重置为默认值并且这不是正确的方法，请加入。

这是我创建自定义按钮的代码。

```
function newtheme_customize_reset_control($wp_customize) {
    /**
     * Reset Control
     *
     */
    class newtheme_Customize_reset_Control extends WP_Customize_Control {
        public $type = 'button';

        public function render_content() {
    ?>
        <label>
                        <span class="customize-control-title"><?php echo esc_html( $this->label ); ?></span>
                                <div>
                                    <a href="#" class="button-secondary upload"><?php _e( 'Reset Settings' ); ?></a>

                            </div>
                    </label>
    <?php
        }
    } 
}
add_action( 'customize_register', 'newtheme_customize_reset_control', 1, 1 ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:44:03.167

在主题定制器中，您可以将自定义 javascript 注册到 wordpress 主题定制器

```
add_action('customize_preview_init', 'your_live_preview_function');

public static function your_live_preview_function() {
        wp_enqueue_script(
                'your-theme_customizer', //Give the script an ID
                get_template_directory_uri() . '/js/your-customizer-javascript-file.js', //Define it's JS file
                array('jquery', 'customize-preview'), //Define dependencies
                rand(1, 1000), //Define a version (optional) (but I use it for development as random so don't have to worry about cache etc.
                true //Specify whether to put in footer (leave this true)
        );

} 
```

在你的javascript文件中你可以做这样的事情

```
( function( $ ) {
wp.customize(
        'your_reset_button_control_id',
        function( value ) {
            value.bind(
                function( to ) {
                    jQuery.post( ajax_url, 
                    { 
                        action: 'your_ajax_action_for_calling_reset',
                        reset_value: to
                    },
                    function( response ) {
                        jQuery( '.reset-info' ).html( response );
                    }
                    );
                }
                );
        }
        );
} )( jQuery ); 
```

在ajax里面你可以做这样的事情

```
add_action('wp_ajax_your_ajax_action_for_calling_reset', 'your_ajax_action_for_calling_reset_callback_function');

function your_ajax_action_for_calling_reset_callback_function(){
$reset_value = esc_attr($_POST['reset_value']);

if($reset_value){
remove_theme_mods() ;
}
} 
```

Haaaaa 希望它有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-23T22:26:57.387

在定制器中使用`remove_theme_mods`用于显示默认值的问题是

*   定制器是一个预览，您可以在不保存的情况下退出，
*   单独的 theme_mods 被过滤，但不是整个 theme_mod 数组
*   theme_mods 包括菜单和小部件。

我还想要一个重置按钮，但我选择创建一个预设控件，其中一个预设是“默认值”。这种方式使用 a `select`，因此按钮不起作用没有问题（因为`bind`用于值更改并且按钮不会更改它们的值）。

诀窍是使用 ajax 检索所选预设，然后循环遍历 javascript 中的值，将它们分配给设置，以便这些更改将触发预览的刷新。我的代码包含过滤器，以便子主题可以添加更多选项和预设。预设可以是可用选项的子集。

这是**Preset 控件的 PHP**（只是一个普通的`select`，但没有设置的控件）：

```
$wp_customize->add_control( 'option_presets', array(
    'label'    => __( 'Use preset theme options', 'mytheme' ),
    'description' => __( 'Theme options will be set to the preset values.', 'mytheme' ),
    'section'  => 'mytheme_section',
    'settings' => array(),
    'type'     => 'select',
    'capability' => 'edit_theme_options',
    'choices'  => mytheme_option_presets_choices(),
) ); 
```

这是**其余的 PHP 函数**。

```
/**
 * Supply list of choices for option presets.
 */
function mytheme_option_presets_choices() {
    return apply_filters( 'mytheme_option_presets_choices', array(
        'none' => __( 'Select preset', 'mytheme' ),
        'defaults' => __( 'Defaults', 'mytheme' ),
        'dark' => __( 'Dark', 'mytheme' ),
    ) );
}

/**
 * Sanitize an option preset choice.
 */
function mytheme_sanitize_option_presets_choice( $input ) {
    $valid = mytheme_option_presets_choices();
    return array_key_exists( $input, $valid ) ? $input : 'none';
}

/**
 * Get the preset values for the chosen option preset.
 */
function mytheme_option_preset( $which ) {
    $values = array();
    if ( 'defaults' === $which ) {
        $values = mytheme_default_values();
    }
    if ( 'dark' === $which ) {
        $values = array(
            'body_textcolor' => '#f9f7f7',
            'background_color' => '#444244',
            'header_textcolor' => '#bf9a07',
            'area_classes' => array(
                'sidebar' => 'semi-black',
                'widgets' => 'box',
                ),
        );
    }
    return apply_filters( 'mytheme_option_preset', $values, $which );
}

/**
 * Add a nonce for Customizer for option presets.
 */
function mytheme_refresh_nonces( $nonces ) {
    $nonces['mytheme-customize-presets'] = wp_create_nonce( 'mytheme-customize-presets' );
    return $nonces;
}
add_filter( 'customize_refresh_nonces', 'mytheme_refresh_nonces' );

/**
 * Ajax handler for supplying option preset values.
 */
function mytheme_ajax_option_preset_values() {
    check_ajax_referer( 'mytheme-customize-presets', 'option_presets_nonce' );
    if ( ! current_user_can( 'edit_theme_options' ) ) {
        wp_die( -1 );
    }

    if ( empty( $_POST['option_preset'] ) ) {
        wp_send_json_error( 'mytheme_missing_preset_parameter' );
    }
    $preset = sanitize_text_field( wp_unslash( $_POST['option_preset'] ) );
    $values = mytheme_option_preset( $preset );
    if ( empty( $values ) ) {
        wp_send_json_error( array( 'message' => __( 'No preset found.', 'mytheme' ) ) );
    }
    else {   // Flatten the array.
        foreach ($values as $key => $avalue) {
            if ( is_array( $avalue ) ) {
                unset( $values[$key] );
                foreach ($avalue as $subkey => $subvalue) {
                    $values[$key . '[' . $subkey . ']'] = $subvalue;
                }
            }
        }
        wp_send_json_success( array( 'values' => $values ) );
    }
}
add_action( 'wp_ajax_mytheme_option_preset', 'mytheme_ajax_option_preset_values' ); 
```

然后只需一**点点 Javascript**即可发出 ajax 请求。这在`'customize_controls_enqueue_scripts'`操作中排队。*（我省略了错误消息的显示。）*

```
wp.customize.control( 'option_presets', function( control ) {
    control.element = new wp.customize.Element( control.container.find( 'select' ) );
    control.element.bind( function( preset ) {
        var request = wp.ajax.post( 'mytheme_option_preset', {
            option_presets_nonce: wp.customize.settings.nonce['mytheme-customize-presets'],
            wp_customize: 'on',
            customize_theme: wp.customize.settings.theme.stylesheet,
            option_preset: preset
        } );
        request.done( function( response ) {
            _.each( response.values, function( value, id ) {
                var setting = wp.customize( id );
                if ( setting ) {
                    setting.set( value );
                }
            } );
        } );
    } );
} ); 
```

# ios - 如何更改绘图颜色

> ID：16183208
> 
> 赞同：1
> 
> 时间：2013-04-24T04:09:59.787
> 
> 标签：ios, objective-c, core-plot

我正在使用核心绘图库来显示散点图。我在同一个图中显示两个图，我想显示第二个图是不同的颜色。如何显示以更改第二个绘图颜色请帮助我。我正在使用下面的代码

```
 // Start with some simple sanity checks before we kick off
if ( (self.hostingView == nil) || (self.graphData == nil) ) {
    NSLog(@"TUTSimpleScatterPlot: Cannot initialise plot without hosting view or data.");
    return;
}

if ( self.graph != nil ) {
    NSLog(@"TUTSimpleScatterPlot: Graph object already exists.");
    return;
}

// Create a graph object which we will use to host just one scatter plot.
CGRect frame = [self.hostingView bounds];
self.graph = [[[CPTXYGraph alloc] initWithFrame:frame] autorelease];

// Add some padding to the graph, with more at the bottom for axis labels.
self.graph.plotAreaFrame.paddingTop = 20.0f;
self.graph.plotAreaFrame.paddingRight = 30.0f;
self.graph.plotAreaFrame.paddingBottom = 50.0f;
self.graph.plotAreaFrame.paddingLeft = 50.0f;

// Tie the graph we've created with the hosting view.
self.hostingView.hostedGraph = self.graph;

// If you want to use one of the default themes - apply that here.
//[self.graph applyTheme:[CPTTheme themeNamed:kCPTDarkGradientTheme]];

// Create a line style that we will apply to the axis and data line.

CPTMutableLineStyle *lineStyle = [CPTMutableLineStyle lineStyle];
lineStyle.lineColor = [CPTColor whiteColor];
lineStyle.lineWidth = 2.0f;

// Create a text style that we will use for the axis labels.
CPTMutableTextStyle *textStyle = [CPTMutableTextStyle textStyle];
textStyle.fontName = @"Helvetica";
textStyle.fontSize = 14;
textStyle.color = [CPTColor whiteColor];

// Create the plot symbol we're going to use.
CPTPlotSymbol *plotSymbol = [CPTPlotSymbol snowPlotSymbol];
plotSymbol.lineStyle = lineStyle;
plotSymbol.size = CGSizeMake(8.0, 8.0);     

// Setup some floats that represent the min/max values on our axis.
float xAxisMin = 0;
float xAxisMax = 120;
float yAxisMin = -200;
float yAxisMax = 400;

// We modify the graph's plot space to setup the axis' min / max values.
CPTXYPlotSpace *plotSpace = (CPTXYPlotSpace *)self.graph.defaultPlotSpace;
plotSpace.xRange = [CPTPlotRange plotRangeWithLocation:CPTDecimalFromFloat(xAxisMin) length:CPTDecimalFromFloat(xAxisMax)];
plotSpace.yRange = [CPTPlotRange plotRangeWithLocation:CPTDecimalFromFloat(yAxisMin) length:CPTDecimalFromFloat(yAxisMax - yAxisMin)];

// Modify the graph's axis with a label, line style, etc.
CPTXYAxisSet *axisSet = (CPTXYAxisSet *)self.graph.axisSet;

axisSet.xAxis.axisLineStyle = lineStyle;
axisSet.xAxis.majorTickLineStyle = lineStyle;
axisSet.xAxis.minorTickLineStyle = lineStyle;
axisSet.xAxis.labelTextStyle = textStyle;
axisSet.xAxis.labelOffset = 3.0f;   
axisSet.xAxis.majorIntervalLength = CPTDecimalFromFloat(2.0f);
axisSet.xAxis.minorTicksPerInterval = 1;
axisSet.xAxis.minorTickLength = 5.0f;
axisSet.xAxis.majorTickLength = 7.0f;
// Define some custom labels for the data elements
axisSet.xAxis.labelRotation  = M_PI / 2;
axisSet.xAxis.labelingPolicy = CPTAxisLabelingPolicyNone;

NSArray *customTickLocations = [NSArray arrayWithObjects:[NSDecimalNumber numberWithInt:10], [NSDecimalNumber numberWithInt:20],[NSDecimalNumber numberWithInt:30],[NSDecimalNumber numberWithInt:40],[NSDecimalNumber numberWithInt:50],[NSDecimalNumber numberWithInt:60],[NSDecimalNumber numberWithInt:70],[NSDecimalNumber numberWithInt:80],[NSDecimalNumber numberWithInt:90],[NSDecimalNumber numberWithInt:100],[NSDecimalNumber numberWithInt:110],[NSDecimalNumber numberWithInt:120],nil];
NSArray *xAxisLabels= [NSArray arrayWithObjects:@"Jan",@"Feb", @"Mar",@"Apr",@"May",@"Jun",@"Jul",@"Aug",@"Sep",@"Oct",@"Nov",@"Dec", nil];
NSUInteger labelLocation     = 0;
NSMutableArray *customLabels = [NSMutableArray arrayWithCapacity:[xAxisLabels count]];
for ( NSNumber *tickLocation in customTickLocations ) {
    CPTAxisLabel *newLabel = [[CPTAxisLabel alloc] initWithText:[xAxisLabels objectAtIndex:labelLocation++] textStyle:axisSet.xAxis.labelTextStyle];
    newLabel.tickLocation = [tickLocation decimalValue];
    newLabel.offset       = axisSet.xAxis.labelOffset + axisSet.xAxis.majorTickLength;
    NSLog(@"%f",newLabel.offset);
    newLabel.rotation     = M_PI / 4;
    [customLabels addObject:newLabel];
    [newLabel release];
}

axisSet.xAxis.axisLabels = [NSSet setWithArray:customLabels];

//axisSet.yAxis.title = @"Data Y";
//axisSet.yAxis.titleTextStyle = textStyle;
//axisSet.yAxis.titleOffset = 40.0f;
axisSet.yAxis.axisLineStyle = lineStyle;    
axisSet.yAxis.majorTickLineStyle = lineStyle;
axisSet.yAxis.minorTickLineStyle = lineStyle;
axisSet.yAxis.labelTextStyle = textStyle;   
axisSet.yAxis.labelOffset = 3.0f;   
axisSet.yAxis.majorIntervalLength = CPTDecimalFromFloat(100.0f);
axisSet.yAxis.minorTicksPerInterval = 1;
axisSet.yAxis.minorTickLength = 5.0f;
axisSet.yAxis.majorTickLength = 7.0f;   

// Add a plot to our graph and axis. We give it an identifier so that we 
// could add multiple plots (data lines) to the same graph if necessary.
CPTScatterPlot *plot = [[[CPTScatterPlot alloc] init] autorelease];
plot.dataSource = self;
plot.identifier = @"mainplot";
plot.dataLineStyle = lineStyle;
plot.plotSymbol = plotSymbol;
[self.graph addPlot:plot];

CPTScatterPlot *plot2 = [[[CPTScatterPlot alloc] init] autorelease];

plot2.dataSource = self;
plot2.identifier = @"secondplot";
plot2.dataLineStyle = lineStyle;
plot2.plotSymbol = plotSymbol;
[self.graph addPlot:plot2]; 
```

# c# - 如何从后面的 aspx 代码中的通用主体中获取自定义数据？

> ID：16183217
> 
> 赞同：5
> 
> 时间：2013-04-24T04:10:47.597
> 
> 标签：c#, .net, asp.net-4.5

我正在构建一个应用程序并将其与活动目录集成。

因此，我将我的应用程序用户身份验证给活动目录用户，之后我将一些用户的数据存储为：`user group and user profile`到通用主体和用户身份到通用身份。

我的问题是当我想使用它时，我无法从通用主体获取用户配置文件数据。

有人可以告诉我怎么做吗？

```
 string cookieName = FormsAuthentication.FormsCookieName;
 HttpCookie authCookie = Context.Request.Cookies[cookieName];

 if (authCookie == null)
 {
       //There is no authentication cookie.
       return;
 }

 FormsAuthenticationTicket authTicket = null;

 try
 {
       authTicket = FormsAuthentication.Decrypt(authCookie.Value);
 }
 catch (Exception ex)
 {
      //Write the exception to the Event Log.
       return;
 }

 if (authTicket == null)
 {
      //Cookie failed to decrypt.
      return;
 }

 String data = authTicket.UserData.Substring(0, authTicket.UserData.Length -1);
 string[] userProfileData =   data.Split(new char[] { '|' });
 //Create an Identity.
 GenericIdentity id = 
                  new GenericIdentity(authTicket.Name, "LdapAuthentication");
 //This principal flows throughout the request.
 GenericPrincipal principal = new GenericPrincipal(id, userProfileData);
 Context.User = principal; 
```

注意：上面的代码在全局 asax 文件中，我想使用我存储在另一个名为`default.aspx`.

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-24T05:03:43.217

所以首先你不应该这样做：

```
GenericPrincipal principal = new GenericPrincipal(id, userProfileData);
                                                     //^^ this is wrong!! 
```

构造函数的第二个参数是**Roles**。请参阅[文档](http://msdn.microsoft.com/en-IN/library/system.security.principal.genericprincipal.genericprincipal.aspx)。

* * *

如果您想将数据存储到通用主体中，那么您应该做的是

1.  创建一个类`GenericIdentity`：

    ```
    class MyCustomIdentity : GenericIdentity
    {
      public string[] UserData { get; set;}
      public MyCustomIdentity(string a, string b) : base(a,b)
      {
      }
    } 
    ```

2.  像这样创建它：

    ```
    MyCustomIdentity = 
               new MyCustomIdentity(authTicket.Name,"LdapAuthentication");
                                                      //fill the roles correctly.
    GenericPrincipal principal = new GenericPrincipal(id, new string[] {}); 
    ```

3.  像这样在页面中获取它：

    Page类有一个[User](http://msdn.microsoft.com/en-IN/library/system.web.ui.page.user.aspx)属性[。](http://msdn.microsoft.com/en-IN/library/system.web.ui.page.aspx)

    因此，例如在页面加载中，您可以这样做：

    ```
     protected void Page_Load(object sender, EventArgs e) {
      MyCustomIdentity id =  (MyCustomIdentity)this.User.Identity
      var iWantUserData = id.UserData;
     } 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-12T13:26:35.317

您还可以使用以下代码：

```
FormsIdentity id = (FormsIdentity)HttpContext.Current.User.Identity;
string userData = id.Ticket.UserData 
```

# c# - 如何将 XML 节点值保存到字符串参数

> ID：16183220
> 
> 赞同：0
> 
> 时间：2013-04-24T04:11:23.050
> 
> 标签：c#, xml, xml-parsing, httphandler

我有一个将接收 XML 的自定义 HTTP 处理程序。我需要将节点保存到字符串参数中。这是 xml -

```
<?xml version="1.0" encoding="utf-8"?> 
<alp> 
    <trade_no>11q</trade_no> 
    <out_trade_no>22z</out_trade_no>  
    <trade_status>T</trade_status>
</alp> 
```

我试过这个 -

```
public void ProcessRequest(HttpContext context)
    {            
        var stream = context.Request.InputStream;
        byte[] buffer = new byte[stream.Length];
        stream.Read(buffer, 0, buffer.Length);
        string strXml = Encoding.UTF8.GetString(buffer);
        XmlTextReader reader = new XmlTextReader(new System.IO.StringReader(strXml));
        ..........
} 
```

还是使用 DOM？请给我一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T06:08:51.377

```
using (var reader = new StreamReader(stream))
{
   var response = reader.ReadToEnd();
} 
```

这里的响应包含收到的整个 xml。您可以在 DOM 中加载它并获取节点的 innerXml 以获取节点的字符串。

但是，如果您想处理流的 Xml 节点，我建议您使用 XPathReader 而不是 DOM 方法

如果您可以详细说明您想如何使用生成的 xml 或为什么要将其作为字符串，我可以提出更好的建议。

**编辑**

```
> I exactly need the node value, ie value of <trade_no> 
```

要获取 trade_no 的值，您可以使用 DOM 或 XPathReader。以下是 DOM 的示例

```
using(var reader = new StreamReader(stream))
{
    var response = reader.ReadToEnd();
    var document = new XmlDocument();
    document.LoadXml(response);
    var tradeNoNode = document.SelectSingleNode("//trade_no");

    if(tradeNoNode != null) {
        var tradeNo = tradeNoNode.InnerText;
    }
} 
```

要获得有效的解决方案，请使用[XPathReader](http://www.microsoft.com/en-hk/download/details.aspx?id=22677)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:16:36.247

You can use [LINQ XDocument](http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument.aspx)

```
var stream = context.Request.InputStream;
byte[] buffer = new byte[stream.Length];
stream.Read(buffer, 0, buffer.Length);
XDocument doc = XDocument.Parse(Encoding.UTF8.GetString(buffer));
var tradeNo = doc.Descendants("trade_no").FirstOrDefault().Value;
var outTradeNo = doc.Descendants("out_trade_no").FirstOrDefault().Value; 
```

# python - XML 文件作为命令行参数并在 Python 中解析

> ID：16183222
> 
> 赞同：0
> 
> 时间：2013-04-24T04:11:34.140
> 
> 标签：python, xml, xml-parsing

我正在尝试解析 Python 中的命令行参数，如下所示：

```
python test.py /home/Desktop/test.xml 
```

我找到了 getopt，但是这如何与三个参数一起工作？这个来源只显示4，我不知道如何减少。[http://www.tutorialspoint.com/python/python_command_line_arguments.htm](http://www.tutorialspoint.com/python/python_command_line_arguments.htm)

DOM 是解析 XML 文件的最有效方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:37:13.193

我会放弃`getopt`argparse [，](http://docs.python.org/3.4/library/argparse.html)[这里](http://docs.python.org/3.4/howto/argparse.html#id1)有一个很好的教程。`argparse`以更少的工作显示更好的错误。我认为`getopt`主要用于与 C API 的兼容性这两个模块，但是，支持较少的参数。在您的特定情况下，您可能需要执行以下操作

```
import argparse

def parse_args():
    parser = argparse.ArgumentParser(usage)
    help = "The file to operate on"
    parser.add_argument("infile", type=argparse.FileType('r'), help=help)
    args = parser.parse_args()
    return args.infile 
```

根据您的需要，[lxml](http://lxml.de/)可能非常有用/强大。我个人使用过[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)（对于一些不太复杂的 XML 内容）。标准库中推荐的模块是[ElementTree](http://docs.python.org/3.3/library/xml.etree.elementtree.html)，它有一个很好的 API，可以做很多 XML 的事情。

**编辑**：`getopt`不*推荐*使用，因为我之前错误地陈述过

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:18:25.927

单个命令行参数是一个简单的案例，不需要`getopt`或其他解析模块。尝试使用最后一个参数作为在任何 XML 库中使用的文件名。

对于 pythonic XML 处理，使用[ElementTree](http://docs.python.org/2/library/xml.etree.elementtree.html)。

```
import sys
import xml.etree.ElementTree as ET

if __name__ == '__main__':
    print 'args:', sys.argv
    print 'last arg:', sys.argv[-1]
    if len(sys.argv) <= 1:
        sys.exit()
    tree = ET.parse(sys.argv[-1])
    root = tree.getroot()
    for child in root:
        print child.tag, child.text 
```

（在了解基础知识后添加文件存在检查和错误处理）。

# xml - 为什么 XML 验证失败？

> ID：16183227
> 
> 赞同：1
> 
> 时间：2013-04-24T04:12:15.510
> 
> 标签：xml, validation, schema, saxparseexception

我有以下 XML 内容：

```
<?xml version="1.0" encoding="UTF-8"?>
<success>
  <accessedResource>/bioportal/provisional</accessedResource>
  <accessDate>2013-04-23 20:50:58.139 PDT</accessDate>
  <data>
    <classBean>
      <id>http://purl.bioontology.org/ontology/provisional/9cc8b147-e193-4d23-a3a1-9da34eeeb5a9</id>
      <fullId>http://purl.bioontology.org/ontology/provisional/9cc8b147-e193-4d23-a3a1-9da34eeeb5a9</fullId>
      <label>OzbbBugGbIINcdpSY</label>
      <synonyms>
        <string>ux0fBN http://www.ggiodpc.com/www.6shpFpANPwYnffbs9P5rsRN67oJWDZuQ.com.php</string>
      </synonyms>
      <definitions>
        <string>ux0fBN http://www.ggiodpc.com/www.6shpFpANPwYnffbs9P5rsRN67oJWDZuQ.com.php</string>
      </definitions>
      <relations>
        <entry>
          <string>provisionalRelatedNoteId</string>
          <string>Note_3df7809d-aac8-4cf8-b320-f3eecceacd4e</string>
        </entry>
        <entry>
          <string>provisionalTermStatus</string>
          <null/>
        </entry>
        <entry>
          <string>provisionalCreated</string>
          <date>2013-04-09 20:06:23.79 PDT</date>
        </entry>
        <entry>
          <string>provisionalPermanentId</string>
          <null/>
        </entry>
        <entry>
          <string>provisionalRelatedOntologyIds</string>
          <list>
            <int>1057</int>
          </list>
        </entry>
        <entry>
          <string>provisionalSubmittedBy</string>
          <int>38382</int>
        </entry>
        <entry>
          <string>provisionalUpdated</string>
          <null/>
        </entry>
        <entry>
          <string>provisionalSubclassOf</string>
          <org.openrdf.model.URI>
            <uriString>http://purl.bioontology.org/ontology/RID/RID0</uriString>
            <localNameIdx>-1</localNameIdx>
          </org.openrdf.model.URI>
        </entry>
      </relations>
    </classBean>
  </data>
</success> 
```

我想使用以下 XML 模式对其进行验证：

```
<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified"
           targetNamespace="http://bioontology.org/bioportal/classBeanSchema#"
           xmlns:c="http://bioontology.org/bioportal/classBeanSchema#">
    <xs:element name="success">
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="c:accessedResource"/>
                <xs:element ref="c:accessDate"/>
                <xs:element ref="c:data"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>
    <xs:element name="accessedResource" type="xs:string"/>
    <xs:element name="accessDate" type="xs:string"/>

    <xs:element name="data">
        <xs:complexType>
            <xs:all>
                <xs:element ref="c:list" minOccurs="0" maxOccurs="1"/>
                <xs:element ref="c:classBean" minOccurs="0" maxOccurs="1"/>
            </xs:all>
        </xs:complexType>
    </xs:element>
    <xs:element name="classBean">
        <xs:complexType>
            <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="c:fullId" maxOccurs="1" minOccurs="0"/>
                <xs:element ref="c:id" maxOccurs="1" minOccurs="0"/>
                <xs:element ref="c:label" maxOccurs="1" minOccurs="0"/>
                <xs:element ref="c:relations" maxOccurs="1" minOccurs="0"/>
                <xs:element name="type" type="xs:string" maxOccurs="1" minOccurs="0"/>
            </xs:choice>
        </xs:complexType>
    </xs:element>

    <xs:element name="fullId" type="xs:string"/>
    <xs:element name="id" type="xs:string"/>
    <xs:element name="label" type="xs:string"/>

    <xs:element name="relations">
        <xs:complexType>
            <xs:sequence>
                <xs:element minOccurs="0" maxOccurs="unbounded" ref="c:entry"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="entry">
        <xs:complexType>
            <xs:sequence>
                <xs:choice minOccurs="0" maxOccurs="unbounded">
                    <xs:element name="string" type="xs:string"/>
                    <xs:element ref="c:list"/>
                </xs:choice>
                <xs:element minOccurs="0" ref="c:int"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="list">
        <xs:complexType>
            <xs:sequence>
                <xs:choice minOccurs="0" maxOccurs="unbounded">
                    <xs:element minOccurs="0" maxOccurs="unbounded" ref="c:classBean"/>
                    <xs:element minOccurs="0" maxOccurs="unbounded" name="string" type="xs:string"/>
                </xs:choice>
            </xs:sequence>
        </xs:complexType>
    </xs:element>
    <xs:element name="int" type="xs:integer"/>

</xs:schema> 
```

对于验证，我使用以下代码片段：

```
SchemaFactory schemaFactory =  SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema schema = schemaFactory.newSchema(schemaFile);
Validator validator = schema.newValidator();
validator.validate(xmlFile); 
```

抛出以下异常，这表明 XML 文件在给定架构的情况下无效：

```
org.xml.sax.SAXParseException; systemId: file:/C:/xml.xml; lineNumber: 2; columnNumber: 10; cvc-elt.1: Cannot find the declaration of element 'success'. 
```

我不明白这个消息，因为在第 2 行我可以找到“成功”元素。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T04:51:41.997

根据您的架构，您的 XML 是错误的，请查看：

**XML:**

```
<classBean>
  <id>http://purl.bioontology.org/ontology/provisional/9cc8b147-e193-4d23-a3a1-9da34eeeb5a9</id>
  <fullId>http://purl.bioontology.org/ontology/provisional/9cc8b147-e193-4d23-a3a1-9da34eeeb5a9</fullId>
  <label>OzbbBugGbIINcdpSY</label>
  <synonyms>
    <string>ux0fBN http://www.ggiodpc.com/www.6shpFpANPwYnffbs9P5rsRN67oJWDZuQ.com.php</string>
  </synonyms>
  <definitions>
    <string>ux0fBN http://www.ggiodpc.com/www.6shpFpANPwYnffbs9P5rsRN67oJWDZuQ.com.php</string>
  </definitions> 
```

**XSD**

```
 <xs:element name="classBean">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element ref="c:fullId" maxOccurs="1" minOccurs="0"/>
        <xs:element ref="c:id" maxOccurs="1" minOccurs="0"/>
        <xs:element ref="c:label" maxOccurs="1" minOccurs="0"/>
        <xs:element ref="c:relations" maxOccurs="1" minOccurs="0"/>
        <xs:element name="type" type="xs:string" maxOccurs="1" minOccurs="0"/>
      </xs:choice>
    </xs:complexType>
  </xs:element> 
```

注意：“同义词”和“定义”不是“classBean”元素的有效子元素。

'entry' 元素也是如此，其中您有 'date' 和 'null' 作为子元素，但根据架构，它是无效的。还有一些错误。

SAX Parser 可能没有反映正确的错误行数。

# html - IE 不支持渐变效果

> ID：16183228
> 
> 赞同：0
> 
> 时间：2013-04-24T04:12:16.483
> 
> 标签：html, css, gradient

html

```
<div></div> 
```

css

```
div{
    width: 500px; 
    height: 500px; 
    background: linear-gradient(to top, #00f, #fff);
} 
```

有谁知道如何使 ie 用于渐变效果？

我也申请`filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00f', endColorstr='#fff');` 了，但它在 ie 中的工作方式不同。您可以在测试页面中看到这一点，复制并粘贴，然后查看它们之间的不同。IE 的颜色很深。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:21:27.690

**这是跨浏览器**解决方案应该具备的：

```
background: rgb(255,255,255);
background: -moz-linear-gradient(top,  rgba(255,255,255,1) 0%, rgba(0,0,255,1) 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(0,0,255,1)));
background: -webkit-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(0,0,255,1) 100%);
background: -o-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(0,0,255,1) 100%);
background: -ms-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(0,0,255,1) 100%);
background: linear-gradient(to bottom,  rgba(255,255,255,1) 0%,rgba(0,0,255,1) 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#0000ff',GradientType=0 ); 
```

[这是一个工作示例](http://jsfiddle.net/VnRds/4/)。我还建议为此使用一些梯度生成器。让你的生活轻松很多。例如尝试 c [olorzilla](http://www.colorzilla.com/gradient-editor/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:19:40.477

试试这个

```
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#0000ff', GradientType='0'); 
```

# python - 在 GAE Python 应用程序中获取 Google OAuth 刷新令牌

> ID：16183229
> 
> 赞同：1
> 
> 时间：2013-04-24T04:12:19.380
> 
> 标签：python, google-app-engine, oauth-2.0

我正在使用下面的代码通过交换 oauth 代码来获取 Google 刷新令牌。

```
access_token_uri = 'https://accounts.google.com/o/oauth2/token'
redirect_uri = selfURL + "oauth2callback?step=token"

params = urllib.urlencode({
       #'access_token_uri': access_token_uri,
        'code': code,
        'client_id': self.client_id,
        'client_secret': self.client_secret,
        'redirect_uri': redirect_uri,
        'grant_type': 'authorization_code'
    })
headers={'content-type':'application/x-www-form-urlencoded','Content-length':len(params),'Host':'accounts.google.com'}
response = urlfetch.fetch(
                              url=access_token_uri,
                              payload=params,
                              method='POST',
                              headers=headers,
                              allow_truncated=False,
                              follow_redirects=True,
                              deadline=100) 
```

但是它正在发送无效的请求响应

> {“错误”：“无效请求”}

有什么帮助吗？

# html - 尝试在 htaccess 文件中重定向 301 %E2%80%A6

> ID：16183230
> 
> 赞同：2
> 
> 时间：2013-04-24T04:12:25.563
> 
> 标签：html, .htaccess, redirect

我的 Google 网站管理员工具中有一个链接来自一个错误地发布了我的链接的大型网站。经过多次尝试让他们更改它，我将 301 指向正确页面的链接，因为我想要那个链接。问题是在我的 GWT 中，链接显示为

[http://www.otherdomain.com/%E2%80%A6crabble-word-finder](http://www.otherdomain.com/%E2%80%A6crabble-word-finder)

如果您将鼠标放在链接上，它看起来像

[http://www.otherdomain.com/...crabble-word-finder](http://www.otherdomain.com/...crabble-word-finder)

我尝试了我的 htaccess 文件，但它不起作用

```
Redirect 301 /...crabble-word-finder http://www.mydomain.com/scrabble-word-finder/ 
```

和

```
Redirect 301 /%E2%80%A6crabble-word-finder http://www.mydomain.com/scrabble-word-finder/ 
```

知道如何让这个重定向工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-31T18:16:34.893

一些黑客试图使用这种重定向来利用网站。

如果他们成功重定向，那么他们会尝试通过表单注入看似无害的内部链接，以便将流量重定向到他们的网站和/或获得链接汁 a-la 页面排名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:32:43.163

如果你只想将*/%E2%80%A6crabble-word-finder*重定向到/scrabble-word *-finder/*那么你可以简单地试试这个*.htaccess*代码：

```
RewriteEngine on
RewriteRule ^%E2%80%A6crabble-word-finder/?$ /scrabble-word-finder/ [R] 
```

刚刚考虑了`[R=301]`这个链接的标志：[https ://stackoverflow.com/a/15999177/2007055](https://stackoverflow.com/a/15999177/2007055)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-18T19:56:19.027

尝试使用引号：

```
Redirect 301 "/...crabble-word-finder" http://www.mydomain.com/scrabble-word-finder/ 
```

# javascript - jQuery追加和删除动态表行

> ID：16183231
> 
> 赞同：25
> 
> 时间：2013-04-24T04:12:27.137
> 
> 标签：javascript, jquery, html-table, tablerow, dom-traversal

我可以为一个表添加很多行，但我不能删除很多行。每个顺序添加我只能删除 1 行。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("#addCF").click(function(){
        $("#customFields").append('<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td><input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" /> &nbsp; <input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" /> &nbsp; <a href="javascript:void(0);" id="remCF">Remove</a></td></tr>');
        $("#remCF").on('click',function(){
            $(this).parent().parent().remove();
        });
    });
});
</script>

<table class="form-table" id="customFields">
<tr valign="top">
    <th scope="row"><label for="customFieldName">Custom Field</label></th>
    <td>
        <input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" /> &nbsp;
        <input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" /> &nbsp;
        <a href="javascript:void(0);" id="addCF">Add</a>
    </td>
</tr>
</table> 
```

[您可以在http://jsfiddle.net/3AJcj/](http://jsfiddle.net/3AJcj/)看到代码

我需要帮助。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-04-24T04:14:33.320

每页只能有一个唯一 ID。将这些 ID 更改为类，并更改 jQuery 选择器。

此外，将 .on() 移到 .click() 函数之外，因为您只需要设置一次。

[http://jsfiddle.net/samliew/3AJcj/2/](http://jsfiddle.net/samliew/3AJcj/2/)

```
$(document).ready(function(){
    $(".addCF").click(function(){
        $("#customFields").append('<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td><input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" /> &nbsp; <input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" /> &nbsp; <a href="javascript:void(0);" class="remCF">Remove</a></td></tr>');
    });
    $("#customFields").on('click','.remCF',function(){
        $(this).parent().parent().remove();
    });
}); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2015-11-20T02:26:50.523

您可以使用 jQuery 在图像中动态添加和删除这样的表行。 [![在此处输入图像描述](https://i.stack.imgur.com/Q2XLL.png)](https://i.stack.imgur.com/Q2XLL.png)

这是html部分...

```
<form id='students' method='post' name='students' action='index.php'>

    <table border="1" cellspacing="0">
      <tr>
        <th><input class='check_all' type='checkbox' onclick="select_all()"/></th>
        <th>S. No</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Tamil</th>
        <th>English</th>
        <th>Computer</th>
        <th>Total</th>
      </tr>
      <tr>
        <td><input type='checkbox' class='case'/></td>
        <td>1.</td>
        <td><input type='text' id='first_name' name='first_name[]'/></td>
        <td><input type='text' id='last_name' name='last_name[]'/></td>
        <td><input type='text' id='tamil' name='tamil[]'/></td>
        <td><input type='text' id='english' name='english[]'/> </td>
        <td><input type='text' id='computer' name='computer[]'/></td>
        <td><input type='text' id='total' name='total[]'/> </td>
      </tr>
    </table>

    <button type="button" class='delete'>- Delete</button>
    <button type="button" class='addmore'>+ Add More</button>
    <p>
    <input type='submit' name='submit' value='submit' class='but'/></p>
</form> 
```

接下来需要包含jquery...

```
<script src='jquery-1.9.1.min.js'></script> 
```

最后添加表格行的脚本...

```
<script>
  var i=2;
  $(".addmore").on('click',function(){
    var data="<tr><td><input type='checkbox' class='case'/></td><td>"+i+".</td>";
        data +="<td><input type='text' id='first_name"+i+"' name='first_name[]'/></td> <td><input type='text' id='last_name"+i+"' name='last_name[]'/></td><td><input type='text' id='tamil"+i+"' name='tamil[]'/></td><td><input type='text' id='english"+i+"' name='english[]'/></td><td><input type='text' id='computer"+i+"' name='computer[]'/></td><td><input type='text' id='total"+i+"' name='total[]'/></td></tr>";
        $('table').append(data);
        i++;
});
</script> 
```

另请参阅此动态添加和删除表行的[演示](http://demo.smarttutorials.net/auto_table/)和[教程](http://www.smarttutorials.net/add-remove-table-rows-jquery/)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-04-28T15:28:03.457

除了其他答案之外，我还想改进删除，使其更通用：

```
$(this).closest('tr').remove(); 
```

这会比使用好得多`$(this).parent().parent().remove();`，因为它不依赖于元素的深度。因此，行的结构变得更加灵活。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-04-24T04:17:07.267

Change ID to class :

```
$("#customFields").append('<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td><input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" /> &nbsp; <input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" /> &nbsp; <a href="javascript:void(0);" class="remCF">Remove</a></td></tr>');

$(".remCF").on('click',function(){
            $(this).parent().parent().remove();
        }); 
```

[http://jsfiddle.net/7BHDm/1/](http://jsfiddle.net/7BHDm/1/)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-24T04:14:47.067

这里有多个问题

1.  id 在页面中应该是唯一的
2.  对于动态元素，您需要使用[.on()使用事件委托](http://api.jquery.com/on/)

前任

```
$(document).ready(function(){
    $("#addCF").click(function(){
        $("#customFields").append('<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td><input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" /> &nbsp; <input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" /> &nbsp; <a href="javascript:void(0);" id="remCF">Remove</a></td></tr>');
    });

    $("#customFields").on('click', '#remCF', function(){
        $(this).parent().parent().remove();
    });

}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/u4ZV6/1/)

请参阅删除 id 属性的[此演示。](http://jsfiddle.net/arunpjohny/u4ZV6/2/)

```
$(document).ready(function(){
    $("#addCF").click(function(){
        $("#customFields").append('<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td><input type="text" class="code" name="customFieldName[]" value="" placeholder="Input Name" /> &nbsp; <input type="text" class="code" name="customFieldValue[]" value="" placeholder="Input Value" /> &nbsp; <a href="javascript:void(0);" class="remCF">Remove</a></td></tr>');
    });

    $("#customFields").on('click', '.remCF', function(){
        $(this).parent().parent().remove();
    });

}); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-12-27T05:12:06.777

**实时视图** [链接 Jsfiddle](https://jsfiddle.net/ashikjs/q81w4hdr/6/)

各种简单的方法可以解决它.....看看我新收集的代码。

```
 $(document).ready(function(){
            $(".add-row").click(function(){
                var name = $("#name").val();
                var email = $("#email").val();
                var markup = "<tr><td><input type='checkbox' name='record'></td><td>" + name + "</td><td>" + email + "</td></tr>";
                $("table tbody").append(markup);
            });

            // Find and remove selected table rows
            $(".delete-row").click(function(){
                $("table tbody").find('input[name="record"]').each(function(){
                    if($(this).is(":checked")){
                        $(this).parents("tr").remove();
                    }
                });
            });
        }); 
```

```
$(document).ready(function() {
  $(".add-row").click(function() {
    var name = $("#name").val();
    var email = $("#email").val();
    var markup = "<tr><td><input type='checkbox' name='record'></td><td>" + name + "</td><td>" + email + "</td></tr>";
    $("table tbody").append(markup);
  });

  // Find and remove selected table rows
  $(".delete-row").click(function() {
    $("table tbody").find('input[name="record"]').each(function() {
      if ($(this).is(":checked")) {
        $(this).parents("tr").remove();
      }
    });
  });
});
```

```
form {
  margin: 20px 0;
}
form input,
button {
  padding: 6px;
  font-size: 18px;
}
table {
  width: 100%;
  margin-bottom: 20px;
  border-collapse: collapse;
  background: #fff;
}
table,
th,
td {
  border: 1px solid #cdcdcd;
}
table th,
table td {
  padding: 10px;
  text-align: left;
}
body {
  background: #ccc;
}
.add-row,
.delete-row {
  font-size: 16px;
  font-weight: 600;
  padding: 8px 16px;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<form>
  <input type="text" id="name" placeholder="Name">
  <input type="text" id="email" placeholder="Email">
  <input type="button" class="add-row" value="Add Row">
</form>
<table>
  <thead>
    <tr>
      <th>Select</th>
      <th>Name</th>
      <th>Email</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <input type="checkbox" name="record">
      </td>
      <td>Peter Parker</td>
      <td>peterparker@mail.com</td>
    </tr>
  </tbody>
</table>
<button type="button" class="delete-row">Delete Row</button>
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-10-12T19:19:44.950

请尝试：

```
<script>
$(document).ready(function(){
    var add = '<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td>';
                add+= '<input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" />&nbsp;&nbsp;&nbsp;';
                add+= '<input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" />&nbsp;';
                add+= '<a href="javascript:void(0);" class="remCF">Remove</a></td></tr>';

    $(".addCF").click(function(){ $("#customFields").append(add); });

    $("#customFields").on('click','.remCF',function(){
        var inx = $('.remCF').index(this);
        $('tr').eq(inx+1).remove();
    });
});
</script> 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-12-27T08:10:06.567

```
<script>
    $(document).ready(function(){
        var add = '<tr valign="top"><th scope="row"><label for="customFieldName">Custom Field</label></th><td>';
        add+= '<input type="text" class="code" id="customFieldName" name="customFieldName[]" value="" placeholder="Input Name" />&nbsp;&nbsp;&nbsp;';
        add+= '<input type="text" class="code" id="customFieldValue" name="customFieldValue[]" value="" placeholder="Input Value" />&nbsp;';
        add+= '<a href="javascript:void(0);" class="remCF">Remove</a></td></tr>';

        $(".addCF").click(function(){ $("#customFields").append(add); });

        $("#customFields").on('click','.remCF',function(){
            var inx = $('.remCF').index(this);
            $('tr').eq(inx+1).remove();
        });
    });
</script> 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-12-23T10:02:13.107

```
$(document).ready(function () {
    Addrow();
})
$("#add").click(function () {
    Addrow();
})
rowcount = $("#tbuser td").closest.length;
function Addrow() {
    rowcount++;
    debugger
    var markup = "<tr><td></td><td><input type='text' name='stuclass' id='stuclass'/></td><td><select name='Institute' class='Institute_" + rowcount + "'></select></td><td><input type='text' name='obtmark' id='obtmark'/></td><td><input type='text' name='totalmark' id='totalmark'/></td><td><input type='text' name='per' id='per'/></td><td><button type='button' id='delete' onclick='deleterow(this);'>DELETE</button></td></tr>";
    $(".tbuser tbody").append(markup);

    $.ajax({
        type: 'GET',
        url: '@Url.Action("bindinst", "Home")',
        data: '',
        dataType: "json",
        success: function (data) {
            debugger;
            $(".Institute_" + rowcount).empty();
            $(".Institute_" + rowcount).append('<option Value="">--Select--</option>');
            $.each(data, function (i, result) {

                $(".Institute_" + rowcount).append('<option Value="' + result.Value + '">' + result.Text + '</option>');
            });
        },

    });

} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-01-23T13:21:11.373

```
<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script>`enter code here`
        $(document).ready(function () {
var result=1;
$('input').keyup(function(){`enter code here`
     $('tr').each(function () {
         var sum = $(this).find('td.combat').text();
         var combat = $(this).find('input.combat').val();
         if (!isNaN(sum) && sum.length !== 0 && !isNaN(combat) && combat.length !== 0) {
                 result = parseFloat(sum)*parseFloat(combat);
             }

         $(this).find('.total-combat').html(result);
        });
    });
 $('.add').click(function(){
        var sno = $(this).parent().siblings('.sno').text();
        var cust = $(this).parent().siblings('.cust').text();
        var price = $(this).parent().siblings('td.combat').text();
        var rowValue = [];
        $(this).closest('tr').find("input").each(function() {
                  rowValue.push($(this).val());
                  return $(this).val(); 
                 });

         var rowValue1 = [];
        $(this).closest('tr').find("span").each(function() {
                  rowValue1.push($(this).text());
                  return $(this).val(); 
                 });

                    var markup = "<tr><td class='sno'>" + sno + "</td><td class='custname'>" + cust +"</td><td class='price'>" + price +"</td><td><input type='text' class='newtext' value="+ rowValue[0] +"></td><td class='total'>" + rowValue1[0] +"</td><td><input type='submit' class='update' value='upd'><input type='button' class='del' value='del'></td></tr>";

        var rightcol = $(this).closest('tr').find(".cust");
        var row_count =  $('.tbl1 tbody tr').length;
        alert(row_count);

        if (row_count == 0) {

                        $(".tbl1 tbody").append(markup);

        }
        else
        {
            var tes=0;
            $('.tbl1 tbody tr').each(function(){
                        var leftcol = $(this).find(".custname");

                            if(rightcol.html() == leftcol.html()) {
                                alert(leftcol.html()+"-----------------"+rightcol.html());
                                $(this).find('.sno').text(sno);
                                $(this).find('.custname').text(cust);
                                $(this).find('.price').text(price);
                                $(this).find('.newtext').val(rowValue[0]);
                                $(this).find('.total').text(rowValue1[0]);
                                tes++;
                     }
            });
                if(tes==0){
                    $(".tbl1 tbody").append(markup);
                }    

        }

});
            $(".tb").on("click", ".update", function(e) {
                var rowValues = [];
                                    $(this).closest('tr').find("input").each(function() {
                                  rowValues.push($(this).val());
                                  return $(this).val(); 

                                 });
                    var total=$(this).closest('tr').find('.total').text();
                    var right_cols = $(this).closest('tr').find(".custname");

                $('.tbl tbody tr').each(function(){
                        var row = $(this);
                        var left_cols = $(this).find(".cust");
                            if(left_cols.html() == right_cols.html()) {

                                $(this).find('.text').val(rowValues[0]);
                                $(this).find('.total-combat').text(total);
                             }
                         });

        });         
                $(".tb").on("keyup", "input", function() {
                 $('tr').each(function () {
                     var sum = $(this).find('td.price').text();
                     var combat = $(this).find('input.newtext').val();
                     if (!isNaN(sum) && sum.length !== 0 && !isNaN(combat) && combat.length !== 0) {
                            result = parseFloat(sum)*parseFloat(combat);
                         }

                        $(this).find('.total').html(result);
                    });
                });
         $(".tb").on("click", ".del", function() {
                  $(this).closest('tr').remove();
              });
});

    </script>
<style>

    .table_style {
    width: 500px;
    margin: 0px auto;
    }
    table{
    width: 100%;
    border-collapse: collapse;
    }
    table tr td{
    width: 50%;
    border: 5px solid #ff751a;
    padding: 5px;
    }
    table tr th{
    border: 5px solid #79ff4d;
    padding: 5px;
    }
    input{
        width:35px;
    }
    .tbl1{
        margin-top: 50px;
        border: 0px solid #cdcdcd;
    }
    .btn{
        float:left;
    }
    </style>
        <title>E-Commerce-Table</title>
</head>
<body>

<div class="table_style">
    <caption>Price-List</caption>
<table class="tbl">
    <tr>
        <th>S.No</th>
        <th>P.Name</th>
        <th>Price</th>
        <th>Qnty</th>
        <th>Rate</th>   
        <th>action</th>
    </tr>
    <tbody>
    <tr>
        <td class="sno">1</td>
        <td class="cust">A</td>
        <td class="combat">5</td>
        <td class="tester"><input type="number" id="qnty1" name="Qnty" value="0" class="combat text"></td>
        <td><span class="total-combat"></span></td>
        <td><input type="submit" name="submit" value="Add" class="add"></td>
    </tr>
    <tr>
        <td class="sno">2</td>
        <td class="cust">B</td>
        <td class="combat">8</td>
        <td><input type="number" id="qnty2" name="Qnty" value="0" class="combat text"></td>
        <td><span class="total-combat"></span></td>
        <td><input type="submit" name="submit" value="Add" class="add"></td>
    </tr>
    <tr>
        <td class="sno">3</td>
        <td class="cust">C</td>
        <td class="combat">7</td>
        <td><input type="number" id="qnty3" name="Qnty" value="0" class="combat text"></td>
        <td><span class="total-combat"></span></td>
        <td><input type="submit" name="submit" value="Add" class="add"></td>
    </tr>
    <tr>
        <td class="sno">4</td>
        <td class="cust">D</td>
        <td class="combat">2</td>
        <td><input type="number" id="qnty4" name="Qnty" value="0" class="combat text"></td>
        <td><span class="total-combat"></span></td>
        <td><input type="submit" name="submit" value="Add" class="add"></td>
    </tr>
</tbody>

</table>

     <table class="tbl1">
        <thead>
            <tr>
                <th>S.No</th>
                <th>P.Name</th>
                <th>Price</th>
                <th>Qnty</th>
                <th>Rate</th>
                <th>action</th>
            </tr>
        </thead>
        <tbody class="tb">

        </tbody>
    </table>
    <button type="submit" name="addtocart" id="btn">Add-to-cart</button>
</div>

</body>
</html> 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-08-24T11:44:52.240

```
 // dynamically generate row by clicking plus icon
        $(document).on('click', '.add_row', function (e) {
            e.preventDefault();
            var configParamsObj = {
                placeholder: 'Select an option...', // Place holder text to place in the select
                minimumResultsForSearch: 3 // Overrides default of 15 set above
            };
            var $thisTable = $(this).closest('table').find('tbody');
            var copyRow = $thisTable.find('tr:first');
            var hasSelect2 = $thisTable.find('.singleSelectExample').length;
            if (hasSelect2 !== 0) $thisTable.find(".singleSelectExample").select2('destroy');
            $thisTable.prepend(`<tr>${copyRow.html()}</tr>`);
            if (hasSelect2 !== 0) {
                $thisTable.find('.singleSelectExample').select2().next().next().remove();
                $thisTable.find('select.singleSelectExample').select2(configParamsObj);
            }
            var $thisRow = $thisTable.find('tr:first');
            $thisRow.find('select').val('').trigger('change');
            $thisRow.find("input.datepicker").each(function (i, key) {
                var format = $(key).data('format');
                $(key).datetimepicker({
                    format: format,
                    showClear: true
                });
            });
            $thisRow.find("input.customdatepicker").each(function (i, key) {
                var format = $(key).data('format');
                $(key).datetimepicker({
                    format: format,
                    showClear: true,
                    minDate: new Date()
                });
            });
            $thisRow.find("input[type=text]").val("");
            $thisRow.find("input[type=hidden]").val("");
            $thisRow.find("input[type=number]").val("");
        });

        // remove added rows
        $(document).on("click", "a.removeRow ", function (e) {
            e.preventDefault();
            var thisRow = $(this).closest("tr");
            var totalRows = thisRow.closest('tbody').find('tr').length;
            if (totalRows > 1) thisRow.remove();
        }); 
```

# sapui5 - 如何使用 XMLModel 绑定 XML 数据？

> ID：16183238
> 
> 赞同：1
> 
> 时间：2013-04-24T04:13:03.847
> 
> 标签：sapui5

```
setXml: function(){
  oXMLModel = new sap.ui.model.xml.XMLModel();
  var sXML ="<res><SolutionsResponse><SolList><Solution><SupportedMobileDetails><SupportedMobileDetail><SupportedMobileDevice>Smartphone</SupportedMobileDevice><SupportedMobileOS>Blackberry</SupportedMobileOS><Version>6</Version><StatusDescription>Productive</StatusDescription><SupportedMobileURL>https://hxi-cust802.dev.sapbydesign.com/sap/cpa/ui/esdownloads/0194814131_0/Smartphone_Blackberry_2.0/SalesService.zip</SupportedMobileURL><SupportedMobileDeviceCode>2</SupportedMobileDeviceCode><SupportedMobileOSCode>4</SupportedMobileOSCode></SupportedMobileDetail></SupportedMobileDetails></Solution><Solution><SupportedMobileDetails><SupportedMobileDetail><SupportedMobileDevice>Tablet</SupportedMobileDevice><SupportedMobileOS>ios</SupportedMobileOS><Version>6</Version><StatusDescription>New</StatusDescription><SupportedMobileURL>https://hxi-cust802.dev.sapbydesign.com/sap/cpa/ui/esdownloads/0194814131_0/Smartphone_Blackberry_2.0/SalesService.zip</SupportedMobileURL><SupportedMobileDeviceCode>2</SupportedMobileDeviceCode><SupportedMobileOSCode>4</SupportedMobileOSCode></SupportedMobileDetail></SupportedMobileDetails></Solution><Solution><SupportedMobileDetails><SupportedMobileDetail><SupportedMobileDevice>Tablet</SupportedMobileDevice><SupportedMobileOS>ios</SupportedMobileOS><Version>6</Version><StatusDescription>New</StatusDescription><SupportedMobileURL>https://hxi-cust802.dev.sapbydesign.com/sap/cpa/ui/esdownloads/0194814131_0/Smartphone_Blackberry_2.0/SalesService.zip</SupportedMobileURL><SupportedMobileDeviceCode>2</SupportedMobileDeviceCode><SupportedMobileOSCode>4</SupportedMobileOSCode></SupportedMobileDetail><SupportedMobileDetail><SupportedMobileDevice>SmartPhone</SupportedMobileDevice><SupportedMobileOS>ios</SupportedMobileOS><Version>6</Version><StatusDescription>New</StatusDescription><SupportedMobileURL>https://hxi-cust802.dev.sapbydesign.com/sap/cpa/ui/esdownloads/0194814131_0/Smartphone_Blackberry_2.0/SalesService.zip</SupportedMobileURL><SupportedMobileDeviceCode>2</SupportedMobileDeviceCode><SupportedMobileOSCode>4</SupportedMobileOSCode></SupportedMobileDetail></SupportedMobileDetails></Solution></SolList></SolutionsResponse></res>";
  this.oModel = sap.ui.getCore().getModel(this.oController.sModelId);
  this.oModel.setXML(sXML);
  sap.ui.getCore().byId('rr1').setModel(this.oModel);
}, 
```

```
var oSixthCell = new sap.ui.commons.layout.MatrixLayoutCell();
var omainLayout = new sap.ui.commons.layout.HorizontalLayout('main');
var oRowRepeater = new sap.ui.commons.RowRepeater("rr1");
var matrixRow, matrixCell, control;
var oRowTemplate = new sap.ui.commons.layout.MatrixLayout("template");
matrixRow = new sap.ui.commons.layout.MatrixLayoutRow();

control = new sap.ui.commons.Link({
  press: function() {
    control = new sap.ui.commons.Link({
      press: function() {
        control = new sap.ui.commons.Link({
          press: function() {
            control = new sap.ui.commons.Link();
            control.bindProperty("text","type");
            matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
            matrixCell.addContent(control);
            matrixRow.addCell(matrixCell);
          }
        });
        control.bindProperty("text","version");
        matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
        matrixCell.addContent(control);
        matrixRow.addCell(matrixCell);
      }
    });
    control.bindProperty("text","os");
    matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
    matrixCell.addContent(control);
    matrixRow.addCell(matrixCell);
  }
});

control.bindProperty("text","/SupportedMobileDetail/SupportedMobileDevice");
matrixCell = new sap.ui.commons.layout.MatrixLayoutCell();
matrixCell.addContent(control);
matrixRow.addCell(matrixCell);
this.setXml();

var sXMl = this.oModel.getXML();
var sXMLOS = new sap.cp.core.util.XMLUtil(sXMl);
oVarXmlModelOS= new sap.ui.model.xml.XMLModel();
oVarXmlModelOS.setSizeLimit(5000);
oVarXmlModelOS.setXML(jQuery.sap.serializeXML(sXMLOS.Find('Solution')[0]));
omainLayout.setModel(oVarXmlModelOS);
oRowRepeater.bindRows("/", oRowTemplate);
omainLayout.addContent(oRowRepeater);
oSixthCell.addContent(omainLayout);
oDownloadTrialLayout.createRow(oSixthCell); 
```

我正在创建一个带有要绑定的 XML 数据的 SAPUI5 应用程序。我需要一些帮助来将 XML 绑定到我的结构。

# passwords - JavaCC：定义 *password* 标记或语法规则

> ID：16183239
> 
> 赞同：0
> 
> 时间：2013-04-24T04:13:09.007
> 
> 标签：passwords, token, grammar, rule, javacc

我使用 JavaCC 确实模拟了一小部分 SQL 语法，但在定义*密码*时遇到了问题。

我正在为一个写语法规则

```
CREATE USER user_name IDENTIFIED BY a_password 
```

声明，我被卡住了。由于密码可以与任何东西匹配`asdkj*!@#`，或`!@%^%ASDjnkj`等`_ASDJLJK@#&`。请注意，在 Oracle 中，输入不带单引号 ( `'`) 的密码是完全合法的。如果引号是强制性的，我可以很容易地解决这个问题，但不幸的是它们不是。

我尝试了很多方法来为这个密码定义一个令牌/语法规则，但它没有像我预期的那样工作，我尝试过的最新规则是：

```
TOKEN : {
< S_PASSWORD: ( < DIGIT > | < LETTER > |< S_PASSCHAR >)+ >
|  <#S_PASSCHAR : "!"|"@"|"#"|"$"|"%"|"^"|"&"|"*" > 
|  <#LETTER: ["a"-"z", "A"-"Z", "_"]>
|  <#DIGIT: ["0" - "9"]>
} 
```

但是因为`< S_PASSWORD >`可以匹配任何东西，所以我之前定义的任何其他标记都将与之匹配，并且我总是会收到这样的 JavaCC 警告：

> 警告：“#”不能匹配为第 33515 行第 13 列的字符串文字标记。它将匹配为 < S_PASSWORD >。

我的朋友也有类似的建议，但他们也没有奏效。有人可以帮我弄这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-27T18:56:39.570

假设有一些词法方法来判断密码的开始和结束位置，您可以使用词法状态。例如，如果序列 IDENTIFIED BY 后面只有空格，然后是密码，则您创建一个状态机，以便 IDENTIFIED 从 DEFAULT 转换为 S0。在 S0 中，空格被跳过并通过 BY 转换到 S1。在 S1 中，空格被跳过，密码字符序列是 PASSWORD 令牌；PASSWORD 令牌转换回 DEFAULT。当然，这仅在 IDENTIFIED BY 只能后跟密码时才有效。同样在 S0 中，您需要能够处理所有正常的东西，因此您的大多数令牌规则都应适用于 S0 和 DEFAULT 状态，但要过渡到 DEFAULT。有关词汇状态的更多信息，请参阅常见问题解答。

如果 BY 后面只跟密码，那就更容易了，因为你不需要 S0。

* * *

编辑

以下是一些示例规则。如果关键字 BY 后面只跟密码，则只需要两种状态

```
TOKEN : { <BY : "BY"> : S1>
<S1> TOKEN : { <PASSWORD : ( <PASSWORDCHAR> )+ } : DEFAULT }
<DEFAULT, S1> : SKIP { " " } // Stays in the same state. 
```

如果你可以使用 IDENTIFIED 后跟 BY 那么你需要三个状态

```
<DEFAULT, S0> TOKEN : { <CREATE : "CREATE"> : DEFAULT } // And similar for most token rules.
<DEFAULT, S0> TOKEN : { <IDENTIFIED : "IDENTIFIED"> : S1 }
<S0> TOKEN : { <BY : "BY"> : S1> // BYs that follow IDENTIFIED
<DEFAULT> TOKEN : { <BY : "BY"> : DEFAULT } BYs that don't follow IDENTIFIED.
<S1> TOKEN : { <PASSWORD : ( <PASSWORDCHAR> )+ } : DEFAULT }
<DEFAULT, S0, S1> : SKIP { " " } // Stays in the same state. 
```

# php - CakePHP - 密码确认不允许用户提交注册

> ID：16183240
> 
> 赞同：1
> 
> 时间：2013-04-24T04:13:14.300
> 
> 标签：php, validation, cakephp

我正在尝试为用户注册设置验证，但我遇到了麻烦。当我在 $validation 数组中**只有**电子邮件、角色和密码字段时（删除其他字段），它可以工作并保存一个新用户。当我尝试添加其他字段时，它会失败并给出 Flash 消息错误“无法保存用户。请重试。”

我很确定这是 re_password 检查。当我删除它的验证时，它可以工作。但是，当密码不同时，re_password 验证确实会显示错误，所以我不确定在哪里查看

这是我的用户表

```
id  |  email  |  password  |  location  | website  | role  | created |  modified 
```

这是验证要求。为了让它保存一个新用户，我必须删除除电子邮件、密码和角色之外的所有内容。

```
public $validate = array(
    'email' => 'email'
    ,
    'password' => array(
        'required' => array(
            'rule' => array('minLength', '8'),
            'message' => 'A password with a minimum length of 8 characters is required'
        )
    ),
    're_password' => array(
        'required' => array(
            'rule' => array('equalTo', 'password' ), 
            'message' => 'Both password fields must be filled out'
        )
    ),
    'role' => array(
        'valid' => array(
            'rule' => array('inList', array('admin', 'author')),
            'message' => 'Please enter a valid role',
            'allowEmpty' => false
        )
    ),
     'location' => array(
        'valid' => array(
            'rule' => array('notEmpty'),
            'message' => 'Please select a location'
        )
    )
); 
```

这是表格（选项数组在上面，认为没有必要显示）

```
 echo $this->Form->input('email');
    echo $this->Form->input('password');
    echo $this->Form->input('re_password', array('type'=>'password', 'label'=>'Re-Enter Password', 'value'=>'', 'autocomplete'=>'off'));
    echo $this->Form->input('location', array('options' => $options, 'label' => 'Select Nearest Location'));
    echo $this->Form->input('website',array('label'=>'Enter your website, such as www.example.com. ')); 
    echo $this->Form->input('role', array('type' => 'hidden', 'default' => 'user')); 
```

这是 User 模型中的 re_password 检查函数

```
function check_user_password($userid) { 
    $salt = Configure::read('Security.salt');
    $this->User->id = $userid;
    $hashed_password = $this->User->field('password');
    // check password  
    if($hashed_password == md5($data['User']['re_password'].$salt)) {  
        return true;
    } else {
        return false;
    }
} 
```

最后，这是 UsersController 中的 add 函数

```
public function add() {  
        if ($this->request->is('post')) {  
            $this->User->create();     //create initiates a form on User/add.ctp
            if ($this->User->save($this->request->data)) {  //save the form data
                $this->Session->setFlash(__('The user has been saved'));
                $this->redirect(array('controller' => 'demos', 'action' => 'index'));
            } else {
                $this->Session->setFlash(__('The user could not be saved. Please, try again.'));
            }
        }
    } 
```

如果您还有什么需要看的，请告诉我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T08:31:21.487

我相信您的 re_passwords valiadtion 规则 equalTo 将其值与字符串**密码**而不是实际字段进行比较。我喜欢为此使用自定义函数。

所以尝试替换 re_passwords 规则数组

```
 //'rule' => array('equalTo', 'password' ),
'rule' => array('equalToField', 'password'), 
```

并在该模型中声明 equalToField 函数

```
function equalToField($array, $field) {
    return strcmp($this->data[$this->alias][key($array)], $this->data[$this->alias][$field]) == 0;
} 
```

** 将来，当您似乎对验证规则有疑问时，请在您的控制器操作中尝试此操作（它比删除每条规则更快）

```
if ($this->User->save($this->request->data)) {
    ...
} else {
    debug($this->User->validationErrors);
    ...
} 
```

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T11:16:53.443

嗨，请根据您的要求使用以下代码：

通过将您自己的方法放在用户模型中来覆盖 equalTo 函数：

```
function equalTo( $field=array(), $compare_field=null ) 
{
    foreach( $field as $key => $value ){
        $v1 = $value;
        $v2 = $this->data[$this->name][ $compare_field ];
        if($v1 !== $v2) {
            return FALSE;
        } else {
           continue;
        }
    }
    return TRUE;

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-22T11:47:00.430

注意，在@luboss 的回答中，他声明：

```
function equalToField($array, $field) {
    return strcmp($this->data[$this->alias][key($array)], $this->data[$this->alias][$field]) == 0;
} 
```

当我们比较不一致的字段时，这是行不通的：strcmp 的左成员已经被散列，但不是右成员。这是作为 CakePHP 自动化发生的，因为该字段称为**password**。

我让它工作的方法是在*equalToField*助手中重用散列函数：

```
public function equalToField($array, $field) {
    $valueFirstOccurrence = $this->data[$this->alias][$field];
    $valueSecondOccurrence = Security::hash($this->data[$this->alias][key($array)], $type = 'sha1', $salt = true) ;
    return !strcmp($valueFirstOccurrence, $valueSecondOccurrence);
} 
```

**其他点：** 如果您有兴趣为密码字段添加 minLength 验证字段，您想先阅读这篇好文章： [minLength data validation is not working with Auth component for CakePHP](https://stackoverflow.com/questions/2749192/minlength-data-validation-is-not-working-with-auth-component-for-cakephp)

# android - Android 通过 ViewPager 打开 Fragment

> ID：16183243
> 
> 赞同：5
> 
> 时间：2013-04-24T04:13:33.580
> 
> 标签：android, android-fragments, android-viewpager

我是 android 编程的新手，我正在尝试制作一个应用程序，该应用程序使用来自一个主要片段活动的 viewpager 中的选项卡。The viewpager and tabs work fine but I want to have an options menu that when an item is selected, opens a completely new fragment, but I don't seem to be able to remove the view pager. 我希望能够将新片段放在主屏幕上的 viewpager 上，但尝试使用片段事务似乎不起作用

有任何想法吗？

感谢您的时间

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-04-06T15:28:56.897

确保这件事：

1）您的片段（例如：ViewPagerFragment1）将由viewpager选择，具有一个FrameLayout作为根布局，ID为“container”，例如：

```
<FrameLayout
android:layout_height="fill_parent"
android:layout_width="fill_parent"
android:id="@+id/container"
xmlns:android="http://schemas.android.com/apk/res/android">

       <LinearLayout.... and so on
</FrameLayout> 
```

2) 在 ViewPagerFragment1 类中，您必须在触发操作后将新片段替换/添加到 FrameLayout。例如：

```
 @Override
public void onClick(View view) {
    switch (view.getId()) {
        case R.id.selection:
            // Create new fragment and transaction
            NewFragment newFragment = new NewFragment();
            FragmentTransaction transaction = getFragmentManager().beginTransaction();

            transaction.replace(R.id.container, newFragment, "NewFragment");
            transaction.addToBackStack(null);

            transaction.commit();
            break;
         default:
            break;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T05:59:48.213

好吧，您将使用我假设的 ID添加`Fragment`到一些。只需确保您要添加的to 位于.`FrameLayout``FrameLayout``FrameLayout``Fragment``ViewPager`

例如，如果`ViewPager`和`FrameLayout`都在容器中，则`RelativeLayout`确保在. 这将堆叠在. 当添加到时，它将被绘制在顶部。`FrameLayout``ViewPager``XML``FragmeLayout``ViewPager``Fragment``FrameLayout`

# amazon-web-services - 亚马逊 SES 统计

> ID：16183250
> 
> 赞同：1
> 
> 时间：2013-04-24T04:14:19.700
> 
> 标签：amazon-web-services, amazon-ses, statistics

我面临一些与 Amazon SES Statistic 排序相关的问题，实际上我最近发送的邮件静态位于数据记录的中间，它应该在记录的顶部或底部，那么背后的原因是什么？

我的问题是，如果“GetSendStatistics”返回无序列表，我如何做一个简单的报告状态，包括返回多少电子邮件、无效电子邮件和发送的电子邮件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T18:31:47.693

您将需要自己使用 的`Timestamp`字段对数据进行排序[`SendDataPoint`](http://docs.aws.amazon.com/ses/latest/APIReference/API_SendDataPoint.html)。不幸的是，返回的列表`GetSendStatistics`没有排序。

发生这种情况是因为由于通过 Internet 发送电子邮件的特性和性质，服务器可能需要不同的时间来确定一封邮件（或一组邮件）是否被确认已退回，或将被退回。确定交付。请参阅AWS 论坛上的[此主题](https://forums.aws.amazon.com/message.jspa?messageID=222447)以了解类似问题以及对您所面临问题的一​​些见解。

# java - Android OpenCV 使用 MatOfKeyPoint 和 feature2d 检测

> ID：16183251
> 
> 赞同：7
> 
> 时间：2013-04-24T04:14:22.047
> 
> 标签：java, android, opencv

我无法正确使用 OpenCV Java 库，以下代码崩溃：

```
MatOfKeyPoint keypoints = new MatOfKeyPoint();
this.myFeatures.detect(inputImage, keypoints); 
```

我认为关键点是我传递给`detect`函数并接收回来的可变对象。例如，稍后我想做：

```
Features2d.drawKeypoints(inputImage, keypoints, outputImage); 
```

我在这里做错了什么？谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-24T04:52:57.473

问题已解决 - 您不仅必须转换颜色类型，而且 SURF 算法不可用，至少在我拥有的库中。这是工作代码：

```
myFeatures = FeatureDetector.create(FeatureDetector.FAST);
rgb = new Mat();
outputImage = new Mat();
keypoints = new MatOfKeyPoint();

Imgproc.cvtColor(inputImage, rgb, Imgproc.COLOR_RGBA2RGB);
myFeatures.detect(rgb, keypoints);
Features2d.drawKeypoints(rgb, keypoints, rgb);
Imgproc.cvtColor(rgb, outputImage, Imgproc.COLOR_RGB2RGBA); 
```

我希望他们返回的错误比`fatal signal 11`...

# c# - 如何使用点符号进行 LINQ 交叉连接

> ID：16183254
> 
> 赞同：0
> 
> 时间：2013-04-24T04:14:44.083
> 
> 标签：c#, linq, syntax, linq-to-objects

我知道如何用点表示法编写查询表示法连接，但是如何用点表示法编写交叉连接？

```
 List<Alpha> als = new List<Alpha>{new Alpha(), new Alpha()};
    List<Bravo> bros = new List<Bravo>{new Bravo(), new Bravo()};

    //so far so good.
    var res = from a in als
              from b in bros
              select new { A = a, B = b };

    var what = res.ToArray();

    //hmmmm.  Not so sure.
    var result = als.Join(bros, null, null, (x, y) => new { X = x, Y = y }); 
```

问这个问题的另一种方式：当 C# 编译器无形地将交叉连接查询表示法转换为点表示法时，那个点表示法是什么样的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:21:24.753

我想这是

```
als.SelectMany(x => bros, (a, b) => new {A = a, B = b}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:48:25.090

```
 als.SelectMany(a => bros.Select(b =>  new {A = a, B = b})); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-24T04:27:59.623

它应该看起来像这样：

```
var res = als.Join(bros,
    alsItem => alsItem.IdToJoin,
    brosItem => brosItem.OtherId,
    (alsItem, brosItem) => {X = alsItem, Y = brosItem}); 
```

# r - R postscript() 中文

> ID：16183258
> 
> 赞同：1
> 
> 时间：2013-04-24T04:15:08.247
> 
> 标签：r, postscript

我正在尝试设置 R postscript () 设备来显示汉字但没有成功。

我正在使用带有以下 R`sessionInfo()`信息的 Macbook Pro Mountain Lion 10.8.3：

* * *

```
R version 3.0.0 (2013-04-03) 
Platform: x86_64-apple-darwin10.8.0 (64-bit) 

locale: 
[1] en_US.UTF-8 

attached base packages: 
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached): 
[1] tools_3.0.0 
```

* * *

以下是我的主要代码

```
postscript("圖9-35plotmath.ps", horizontal = FALSE, height = 6) 
plot(c(-pi, -pi/2, 0, pi/2, pi), 1:5, type = "n", xaxt = "n", main = expression(paste(plain(sin) * phi, "與", plain(cos) * phi)), ylab = expression("sin" * phi), xlab = expression(paste("Phase Angle", phi))) 

axis(side = 1, at = c(-pi, -pi/2, 0, pi/2, pi), labels = expression(-pi, -pi/2, 0, pi/2, pi)) 

for(i in 1:5) 
{ 
    text(-2.5, i, substitute(list(xi, eta) == group("(", list(x, y), ")"), list(x = i, y = i+1))) 
} 

text(-1.7, 5, expression("一階微分"== {f * minute}(x)), adj = 0) 
text(-1.7, 4, expression("二階微分"== {f * second}(x)), adj = 0) 
text(-1.7, 3, pos = 4, expression(hat(beta) == (X^t * X)^{-1} * X^t *y)) 
text(-1.7, 2, pos = 4, expression(bar(x) == sum(frac(x[i], n), i == 1, n))) 
text(-1.7, 1.2, pos = 4, expression(paste(frac(1, sigma*sqrt(2*pi)), " ", plain(e)^{frac(-(x-mu)^2, 2*sigma^2)})), cex = 1.2) 

text(0.5, 4.6, pos = 4, expression(prod(plain(P)(X == k), k = 1, n))) 
text(0.5, 4, pos = 4, expression(integral(f(x)*dx, a,b))) 
text(0.5, 3, pos = 4, expression(union(A[i], i  == 1, n))) 
text(0.5, 2, pos = 4, expression(intersect(A[i], i  == 1, n))) 
text(0.5, 1, pos = 4, expression(lim(f(x), x %->% 0))) 

text(2, 4.5, pos = 4, expression(min(f(x), x > 0))) 
text(1, 3.5, pos = 4, expression(Y == beta[0] + list(beta[1]*X[1], ..., beta[p-1]*X[p-1]))) 
text(1.5, 2.5, pos = 4, expression(S^2 == sqrt(frac(sum((X[i]=bar(x))^2), n-1)))) 
dev.off() 
```

上述内容不起作用，生成的后记文件为所有这些汉字提供 [...]。然后，我尝试了以下方法：

在 postscript() 中使用现有的 GB1 字体。它给了我一个无法被 Mac Preview、Ghostscript 和 Photoshop 打开的 .ps 文件。

```
postscript("圖9-35plotmath.ps", horizontal = FALSE, height = 6, fonts=c("GB1")) 
plot(c(-pi, -pi/2, 0, pi/2, pi), 1:5, type = "n", xaxt = "n", family = "GB1", main = expression(paste(plain(sin) * phi, "與", plain(cos) * phi)), ylab = expression("sin" * phi), xlab = expression(paste("Phase Angle", phi))) 

...............(omitted) 
text(-1.7, 5, family = "GB1", expression("一階微分"== {f * minute}(x)), adj = 0) 
text(-1.7, 4, family = "GB1", expression("二階微分"== {f * second}(x)), adj = 0) 
..............(omitted) 
```

我也尝试使用 CIDFont() 添加一些字体，但它仍然提供了一个根本无法打开的 .ps 文件。

```
song = CIDFont("SimSun", "GBK-EUC-H", "GBK", "") 
postscriptFonts(song = song) 
postscript("圖9-35plotmath.ps", horizontal = FALSE, height = 6, family="song") 
plot(c(-pi, -pi/2, 0, pi/2, pi), 1:5, type = "n", xaxt = "n", family = "song", main = expression(paste(plain(sin) * phi, "與", plain(cos) * phi)), ylab = expression("sin" * phi), xlab = expression(paste("Phase Angle", phi))) 

..............(omitted) 

text(-1.7, 5, family = "song", expression("一階微分"== {f * minute}(x)), adj = 0) 
text(-1.7, 4, family = "song", expression("二階微分"== {f * second}(x)), adj = 0) 
.............(omitted) 
```

两种方法都没有警告，但 .ps 文件无法打开。

我发现很难理解 postscript() 中的字体和系列定义，其中 par(family = "SimSun") 在 pdf() 和 png() 设备中显示和保存以下内容完全没有问题。

我需要为高质量打印制作一个 postscript 文件。

再次感谢。

党卫军

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:31:02.790

这就是 Paul Murrell 和 Brian Ripley 在他们[2006 年 R-News 文章中的做法：](http://cran.r-project.org/doc/Rnews/Rnews_2006-2.pdf)

```
 pdf("chinese.pdf", width=3, height=1) 
 grid.text("\u4F60\u597D", y=2/3,
            gp=gpar(fontfamily="CNS1")) 
 grid.text("is 'hello' in (Traditional) Chinese",  y=1/3) 
 dev.off() 
```

![在此处输入图像描述](https://i.stack.imgur.com/tYSlD.png)

仅作记录，由 drammock 在 Mac 10.6.8 上的 R 3.0.0 中运行提供的代码在 MacGhostView 中打开时会产生以下结果：

![在此处输入图像描述](https://i.stack.imgur.com/SJIiY.png)

编辑：您可以使用以下命令检查 postscript 设备可用的字体：

```
names(postscriptFonts()) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T17:20:47.877

`cairo_ps()`在 Mac 上为我工作，两者都具有基本图形：

```
cairo_ps(filename="foo.eps", family="LiSong Pro")
plot.new()
text(0.5, 0.5, "這是漢字")
dev.off() 
```

...并带有网格：

```
library(grid)
cairo_ps(filename="foo.eps", family="LiSong Pro")
plot.new()
grid.text("這是漢字")
dev.off() 
```

# python - AssertionError：模型 ir.actions.url 不存在

> ID：16183260
> 
> 赞同：0
> 
> 时间：2013-04-24T04:15:17.367
> 
> 标签：python, xml, openerp

当单击将用户导航到 google.com 时，我将添加菜单项。我在论坛中尝试了代码，但它不起作用并给出了上述错误。

请建议我实施此问题并告诉我是否有其他方法可以做到这一点

```
 <record model="ir.actions.url" id="google_url">
        <field name="name">Google URL</field>
        <field name="url">http://www.google.com</field>
    </record>

    <menuitem id="google_url" name="Go google" parent="menu_bpl_logic"
        action="bpl_allowance_individual_data_action" sequence="" /> 
```

（如果我们需要在现有的 openerp 页面和框架内打开网页，那么上面的代码需要如何更改？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:41:34.100

使用`ir.actions.act_url`代替`ir.actions.url`

# python - 如何在 Pygame 中移动 Sprite

> ID：16183265
> 
> 赞同：5
> 
> 时间：2013-04-24T04:15:27.453
> 
> 标签：python, pygame, sprite

我试图让我的图像（鸟）在屏幕上上下移动，但我不知道该怎么做，这是我尝试过的，但我想弄清楚是否有人可以提供帮助伟大的！

```
import pygame
import os

screen = pygame.display.set_mode((640, 400))

running = 1

while running:
    event = pygame.event.poll()
    if event.type == pygame.QUIT:
        running = 0
    screen.fill([255, 255, 255])
    clock = pygame.time.Clock()
    clock.tick(0.5)
    pygame.display.flip()

    bird = pygame.image.load(os.path.join('C:\Python27', 'player.png'))
    screen.blit( bird, ( 0, 0 ) )

    pygame.display.update()

class game(object):
    def move(self, x, y):
        self.player.center[0] += x
        self.player.center[1] += y

    if event.key == K_UP:
        player.move(0,5)
    if event.key == K_DOWN:
        player.move(0,-5)

game() 
```

我试图让它在按下向下按钮时向下移动，在按下向上键时向上移动

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-24T07:50:25.273

正如 ecline6 所说，在这一点上，鸟是你最不担心的。

考虑读[这本书](http://inventwithpython.com/makinggames.pdf)..

现在，首先让我们清理你的代码......

```
import pygame
import os

# let's address the class a little later..

pygame.init()
screen = pygame.display.set_mode((640, 400))
# you only need to call the following once,so pull them out of the  while loop.
bird = pygame.image.load(os.path.join('C:\Python27', 'player.png'))
clock = pygame.time.Clock()

running = True
while running:
    event = pygame.event.poll()
    if event.type == pygame.QUIT:
        running = False

    screen.fill((255, 255, 255)) # fill the screen
    screen.blit(bird, (0, 0))    # then blit the bird

    pygame.display.update() # Just do one thing, update/flip.

    clock.tick(40) # This call will regulate your FPS (to be 40 or less) 
```

现在你的“鸟”不动的原因是：
当你对图像进行blit时，即：`screen.blit(bird, (0, 0))`，
The`(0,0)`是恒定的，所以它不会移动。

这是最终代码，带有您想要的输出（尝试一下）并阅读评论：

```
import pygame
import os

# it is better to have an extra variable, than an extremely long line.
img_path = os.path.join('C:\Python27', 'player.png')

class Bird(object):  # represents the bird, not the game
    def __init__(self):
        """ The constructor of the class """
        self.image = pygame.image.load(img_path)
        # the bird's position
        self.x = 0
        self.y = 0

    def handle_keys(self):
        """ Handles Keys """
        key = pygame.key.get_pressed()
        dist = 1 # distance moved in 1 frame, try changing it to 5
        if key[pygame.K_DOWN]: # down key
            self.y += dist # move down
        elif key[pygame.K_UP]: # up key
            self.y -= dist # move up
        if key[pygame.K_RIGHT]: # right key
            self.x += dist # move right
        elif key[pygame.K_LEFT]: # left key
            self.x -= dist # move left

    def draw(self, surface):
        """ Draw on surface """
        # blit yourself at your current position
        surface.blit(self.image, (self.x, self.y))

pygame.init()
screen = pygame.display.set_mode((640, 400))

bird = Bird() # create an instance
clock = pygame.time.Clock()

running = True
while running:
    # handle every event since the last frame.
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit() # quit the screen
            running = False

    bird.handle_keys() # handle the keys

    screen.fill((255,255,255)) # fill the screen with white
    bird.draw(screen) # draw the bird to the screen
    pygame.display.update() # update the screen

    clock.tick(40) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-03-07T09:36:10.510

键盘事件（参见[pygame.event](https://www.pygame.org/docs/ref/event.html)模块）仅在按键状态更改时发生一次。`KEYDOWN`每次按下某个键时，该事件发生一次。`KEYUP`每次释放键时发生一次。将键盘事件用于单个操作或逐步移动。

如果要实现连续运动，则必须使用`pygame.key.get_pressed()`. [`pygame.key.get_pressed()`](https://www.pygame.org/docs/ref/key.html#pygame.key.get_pressed)返回一个包含每个键状态的列表。如果按住某个键，则该键的状态为`True`，否则为`False`。用于[`pygame.key.get_pressed()`](https://www.pygame.org/docs/ref/key.html#pygame.key.get_pressed)评估按钮的当前状态并获得连续移动。

另请参阅[Key and Keyboard 事件](https://github.com/Rabbid76/PyGameExamplesAndAnswers/blob/master/documentation/pygame/pygame_keys_and_keyboard_event.md)和[How can I make a sprite move when key is按住](https://stackoverflow.com/questions/9961563/how-can-i-make-a-sprite-move-when-key-is-held-down)。

* * *

最小的例子：

[![](https://i.stack.imgur.com/3dmc6.gif)](https://i.stack.imgur.com/3dmc6.gif)

```
import pygame
import os

class Bird(object):
    def __init__(self):
        self.image = pygame.image.load(os.path.join('C:\Python27', 'player.png'))
        self.center = [100, 200]

    def move(self, x, y):
        self.center[0] += x
        self.center[1] += y

    def draw(self, surf):
        surf.blit(self.image, self.center)

class game(object):

    def __init__(self):
        self.screen = pygame.display.set_mode((640, 400))
        self.clock = pygame.time.Clock()
        self.player = Bird()

    def run(self):
        running = 1
        while running:
            self.clock.tick(60)
            event = pygame.event.poll()
            if event.type == pygame.QUIT:
                running = 0

            keys = pygame.key.get_pressed()
            move_x = keys[pygame.K_RIGHT] - keys[pygame.K_LEFT]
            move_y = keys[pygame.K_DOWN] - keys[pygame.K_UP]
            self.player.move(move_x * 5, move_y * 5)

            self.screen.fill([255, 255, 255])
            self.player.draw(self.screen)
            pygame.display.update()

g = game()
g.run() 
```

# java - Jspinner 和 JOptionPane

> ID：16183266
> 
> 赞同：0
> 
> 时间：2013-04-24T04:15:30.133
> 
> 标签：java, swing, user-interface, joptionpane, jspinner

我应该如何修改这段代码才能编译？我知道有很多问题...非常感谢〜我应该在statechanged中放入什么？我应该如何将 JSpinner 链接到 JOptionPane？（我创建的 btnEnter，我添加了 ChangeListener，然后该怎么办？）

```
import javax.swing.*;
import java.awt.Container;
import java.util.Calendar;
import java.util.Date;
import javax.swing.event.*;
import java.awt.event.*;
import java.awt.Graphics;
import java.lang.Comparable;
import javax.swing.JOptionPane; 
import javax.swing.JDialog;

public class JSpinnerr extends JApplet
implements ActionListener, ChangeListener{
private    static final long serialVersionUID = 2005L;

private    Container    window;
private    JButton      btnEnter;
private    JOptionPane  pane;
private    JLabel       favoriteJl;
private    JButton[]    choiceJb;
private    ButtonGroup  choiceBg;

//spinner.setEditor(new JSpinner.DateEditor(spinner, "MM/yyyy"));
public    void init() {
    window = new DoubleBufferedPanel();
    setContentPane(window);

    createAppearance();
    createGUI();
    createJOptionPane();

}

public void createAppearance(){
    window.setLayout(null);
}

public void createGUI(){
    favoriteJl = new JLabel("When are you going to graduate from High School?");
    favoriteJl.setSize(100, 30);
    favoriteJl.setLocation(20, 120);
    window.add(favoriteJl);

    btnEnter = new JButton("Enter");
    btnEnter.setSize(100, 30);
    btnEnter.setLocation(220, 120);
    btnEnter.addChangeListener(this);
    window.add(btnEnter);

    Date today = new Date();

    JSpinner dateJs = new JSpinner(new SpinnerDateModel(today, null, null,
                Calendar.MONTH));
    JSpinner.DateEditor dateDe = new JSpinner.DateEditor(dateJs, "MM/yy");
    dateJs.setEditor(dateDe);
    window.add(dateJs);

    setVisible(true);
}

public void createJOptionPane(){
    JOptionPane pane = new JOptionPane("Congratulations!");
    JDialog dialog = pane.createDialog(null, "Way to go! Please continue to work hard.");
    dialog.show();

    choiceBg = new ButtonGroup();
    choiceJb = new JButton[] {
        new JButton("Laugh"),
        new JButton("I am worry"),
        new JButton("I don't want to work anymore"),
        new JButton("Present Options") };
    for (int i = 0; i < choiceJb.length; i++) {
        choiceBg.add(choiceJb[i]);
        pane.add(choiceJb[i]);
    }
    window.add(pane);

}
public void actionPerformed(ActionEvent e) {
    //if(e.getSource() == )
    // {
    // }

    if(choiceJb[0].isSelected())
    {
        pane.showMessageDialog(this, "Laugh",
            "Don't laugh", pane.WARNING_MESSAGE);
    } 
    else if (choiceJb[1].isSelected()) {
        Object[] options = {"Because of my grades",
                "Because of my SAT scores"};
        int n = pane.showConfirmDialog(this, 
            "Why are you worry?", "I am worry", JOptionPane.YES_NO_OPTION,
            JOptionPane.QUESTION_MESSAGE,
            null,    
            options,  
            options[0]);
    } 
    else if (choiceJb[2].isSelected()) {
        Object[] reasons = {"I just want to chill out", "I have no incentive to work hard", "I am tired"};
        String s = (String)pane.showInputDialog(this, "What is the reason that you don't want to work anymore?",
            "Your reason?", pane.PLAIN_MESSAGE, null, reasons, "I just want to chill out");
    } 
    else if (choiceJb[3].isSelected()) {
        JOptionPane.showOptionDialog(this, "Present Options",
            "Simple Dialog", getButtonType(), getMessageType(),
            null, substrings(ButtonLabels), null);
    }

}
public void stateChanged(ChangeEvent e){
}

class DoubleBufferedPanel extends JPanel {
    private static final long    serialVersionUID = 44L;

    public void paint(Graphics g){
        super.paint(g);
    }
}
 } 
```

编辑版本导入 javax.swing。*; 导入 java.awt.Container；导入 java.util.Calendar；导入 java.util.Date；导入 javax.swing.event。*; 导入 java.awt.event.*；导入 java.awt.Graphics；导入 java.lang.Comparable；导入 javax.swing.JOptionPane；导入 javax.swing.JDialog；导入 java.awt.Dimension；导入 java.awt.FlowLayout；

```
public class JSpinnerrDemo extends JApplet
implements ActionListener, ChangeListener{
private    static final long serialVersionUID = 2005L;

private    Container    window;
private    JButton      btnEnter;
private    JOptionPane  pane;
private    JLabel       dateJl;
private    JButton[]    choiceJb;
private    ButtonGroup  choiceBg;
private    JDialog      dialog;

//spinner.setEditor(new JSpinner.DateEditor(spinner, "MM/yyyy"));
public    void init() {
    window = new DoubleBufferedPanel();
    setContentPane(window);

    createAppearance();
    createGUI();
    createJOptionPane();

}

public void createAppearance(){
    window.setLayout(null);
}

public void createGUI(){
    dateJl = new JLabel("When are you going to graduate from High School?");
    dateJl.setSize(400, 30);
    dateJl.setLocation(20, 120);
    window.add(dateJl);

    btnEnter = new JButton("Enter");
    btnEnter.setSize(100, 30);
    btnEnter.setLocation(220, 180);
    btnEnter.addActionListener(this);
    window.add(btnEnter);

    Date today = new Date();

    JSpinner dateJs = new JSpinner(new SpinnerDateModel(today, null, null,
                Calendar.MONTH));
    JSpinner.DateEditor dateDe = new JSpinner.DateEditor(dateJs, "MM/yy");
    dateJs.setEditor(dateDe);
    dateJs.setLocation(20, 160);
    dateJs.setSize(100, 30);
    window.add(dateJs);
    dateJs.addChangeListener(this);
    dateJs.setVisible(true);

}

public void createJOptionPane(){
    JOptionPane pane = new JOptionPane("Way to go! Please continue to work hard.");
    JDialog dialog = pane.createDialog(null, "Congratulations!");

    dialog.setSize(new Dimension(300, 150));
    dialog.setLocationRelativeTo(this);
    dialog.setLayout(new FlowLayout());
    dialog.setVisible(false);

    choiceBg = new ButtonGroup();
    choiceJb = new JButton[] {
        new JButton("Laugh"),
        new JButton("I am worry"),
        new JButton("I don't want to work anymore"),
        new JButton("What?") };
    for (int i = 0; i < choiceJb.length; i++) {
        choiceBg.add(choiceJb[i]);
        dialog.add(choiceJb[i]);
    }

}

public void actionPerformed(ActionEvent e) {
    if(e.getSource() == btnEnter)
    {
        dialog.setVisible(true);
        window.add(dialog);
        //JOptionPane.showMessageDialog( );
    }

    if(choiceJb[0].isSelected())
    {
        JOptionPane.showMessageDialog(this, "Laugh",
            "Don't laugh", JOptionPane.WARNING_MESSAGE);
    } 
    else if (choiceJb[1].isSelected()) {
        Object[] options = {"Because of my grades",
                "Because of my SAT scores"};
        JOptionPane.showOptionDialog(this,
            "Why are you worry?",
            "I am worry",
            JOptionPane.YES_NO_OPTION,
            JOptionPane.QUESTION_MESSAGE,
            null,     //do not use a custom Icon
            options,  //the titles of buttons
            options[0]); //default button title
        //  showConfirmDialog(Component parentComponent, Object message, String title, int optionType, int messageType, Icon icon)
    } 
    else if (choiceJb[2].isSelected()) {
        Object[] reasons = {"I just want to chill out", "I have no incentive to work hard", "I am tired"};
        JOptionPane.showInputDialog(this, "What is the reason that you don't want to work anymore?",
            "Your reason?", JOptionPane.PLAIN_MESSAGE, null, reasons, "I just want to chill out");

    } 
    else if (choiceJb[3].isSelected()) {
        Object[] optionss = {"Leave me alone",
                "Bye"};

        JOptionPane.showOptionDialog(this, "What what?",
            "What?",  JOptionPane.YES_NO_CANCEL_OPTION,
            JOptionPane.QUESTION_MESSAGE,
            null,
            optionss,
            optionss[0]);

    }
}

public void stateChanged(ChangeEvent e){
}

class DoubleBufferedPanel extends JPanel {
    private static final long    serialVersionUID = 44L;

    public void paint(Graphics g){
        super.paint(g);
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T21:28:07.287

的`ChangeListener`意思是`JSpinner` `dateJs`而不是`JButton` `btnEnter`。您可以使用：

```
dateJs.addChangeListener(new ChangeListener() {
   @Override
   public void stateChanged(ChangeEvent e) {
      SpinnerModel dateModel = dateJs.getModel();
      if (dateModel instanceof SpinnerDateModel) {
         Date date = ((SpinnerDateModel)dateModel).getDate();
         // do stuff with date...
      }
   }
}); 
```

*旁注：*

*   `show`不*推荐使用*该方法[，而使用 setVisible](http://docs.oracle.com/javase/7/docs/api/java/awt/Dialog.html#setVisible%28boolean%29)来显示`JDialog`窗口。
*   [Sun/Oracle 推荐](http://docs.oracle.com/javase/tutorial/uiswing/layout/none.html)使用[布局管理器](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)——它们管理组件的大小和定位。
*   除了`paint`方法`DoubleBufferedPanel`为空，Swing 中的自定义绘制应该通过覆盖`paintComponent`和调用来完成`super.paintComponent(g)`。

* * *

*编辑：*

您正在隐藏`dialog`变量。代替

```
JDialog dialog = pane.createDialog(null, "Congratulations!"); 
```

和

```
dialog = pane.createDialog(null, "Congratulations!"); 
```

# php - 在php中替换每个'用'

> ID：16183268
> 
> 赞同：4
> 
> 时间：2013-04-24T04:15:36.323
> 
> 标签：php, mysql, codeigniter

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T06:41:14.933

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T04:19:33.750

`str_replace`像这样使用

```
echo str_replace("’","'","Check men’s and women’s rest rooms"); 
```

# 输出

```
Check men's and women's rest rooms 
```

[代码小提琴](http://codepad.viper-7.com/n02jFT)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T06:29:05.373

听起来您在使用 Microsoft Word 的智能引号时遇到了问题。查看[此答案](https://stackoverflow.com/a/1262210/288357)，了解一些处理该问题的技巧。

我做了一个快速而肮脏的测试，[这个特殊的方法](https://stackoverflow.com/a/1262210/288357)奏效了：

```
$quotes = array(
    "\xC2\xAB"     => '"', // « (U+00AB) in UTF-8
    "\xC2\xBB"     => '"', // » (U+00BB) in UTF-8
    "\xE2\x80\x98" => "'", // ‘ (U+2018) in UTF-8
    "\xE2\x80\x99" => "'", // ’ (U+2019) in UTF-8
    "\xE2\x80\x9A" => "'", // ‚ (U+201A) in UTF-8
    "\xE2\x80\x9B" => "'", // ‛ (U+201B) in UTF-8
    "\xE2\x80\x9C" => '"', // “ (U+201C) in UTF-8
    "\xE2\x80\x9D" => '"', // ” (U+201D) in UTF-8
    "\xE2\x80\x9E" => '"', // „ (U+201E) in UTF-8
    "\xE2\x80\x9F" => '"', // ‟ (U+201F) in UTF-8
    "\xE2\x80\xB9" => "'", // ‹ (U+2039) in UTF-8
    "\xE2\x80\xBA" => "'", // › (U+203A) in UTF-8
);
$str = strtr($str, $quotes); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:49:51.150

# c# - Dynamic Build lambda with generic type

> ID：16183273
> 
> 赞同：0
> 
> 时间：2013-04-24T04:16:16.637
> 
> 标签：c#, lambda

How to build dynamic lambda function like below?

```
item => item.AnalyzeData.Any(subitem => 
subitem.DepartmentIDs.Any(subitem2 => subitem2 == "abc")) 
```

1.  `AnalyzeData` is custom class array type, `DepartmentIDs` is string array type
2.  The class of `AnalyzeData` has `DepartmentIDs` Property

So how to dynamic generator the above lambda expression via expression tree.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:31:21.520

经过一番研究，问题已经解决。现在将解决方案代码分享给有问题的其他人。

```
 [TestMethod]
    [Description("Dynamic generate lambda expression")]

    public void DynamicGenerateMethod1()
    {
        Item item1 = new Item()
                        {
                            ItemID = "test1",
                            AnalyzeData = new ItemAnalyzeData[]
                                              {
                                                  new ItemAnalyzeData()
                                                      {
                                                          DepartmentIDs = new []{"Department1","Department2"}
                                                      }, 
                                              }
                        };
        Item item2 = new Item()
        {
            ItemID = "test2",
            AnalyzeData = new ItemAnalyzeData[]
                                              {
                                                  new ItemAnalyzeData()
                                                      {
                                                          DepartmentIDs = new []{"Department3","Department4"}
                                                      }, 
                                              }
        };

        Expression<Func<Item, bool>> expectedExpression =
            item => item.AnalyzeData.Any(subitem => subitem.DepartmentIDs.Any(subitem2 => subitem2 == "Department3"));
        //Get Enumerable.Any generic method
        var anyPredicate =
            typeof(Enumerable).GetMethods().First(m => m.Name == "Any" && m.GetParameters().Length == 2);

        #region Build inner most lambda expression : subitem2 => subitem2 == "Department3"

        var subitem2Para = Expression.Parameter(typeof(string), "subitem2");
        var subitem2CompareValue = Expression.Equal(subitem2Para, Expression.Constant("Department3", typeof(string)));
        var subitem2CompareFun = Expression.Lambda<Func<string, bool>>(subitem2CompareValue, subitem2Para);

        #endregion

        #region Build center lambda expression : subitem => subitem.DepartmentIDs.Any( ... )

        var subitemPara = Expression.Parameter(typeof(ItemAnalyzeData), "subitem");
        var departmentIDsAnyMethodCall = anyPredicate.MakeGenericMethod(typeof(string));
        var subItemDepartmentIDsCall = Expression.Call(departmentIDsAnyMethodCall, Expression.Property(subitemPara, "DepartmentIDs"), subitem2CompareFun);
        var subitemCompareFun = Expression.Lambda<Func<ItemAnalyzeData, bool>>(subItemDepartmentIDsCall, subitemPara);

        #endregion

        #region Build outer most lambda expression : item => item.AnalyzeData.Any( ... )

        var itemExpr = Expression.Parameter(typeof(Item), "item");
        var analyzeAnyMethodCall = anyPredicate.MakeGenericMethod(typeof(ItemAnalyzeData));
        var itemAnalyzeDataCall = Expression.Call(analyzeAnyMethodCall, Expression.Property(itemExpr, "AnalyzeData"), subitemCompareFun);
        var itemCompareFun = Expression.Lambda<Func<Item, bool>>(itemAnalyzeDataCall, itemExpr);

        #endregion

        var method = itemCompareFun.Compile();

        var actualLambdaCode = itemCompareFun.ToString();
        var expectLambdaCode = expectedExpression.ToString();
        Assert.AreEqual(expectLambdaCode, actualLambdaCode);
        Assert.IsFalse(method.Invoke(item1));
        Assert.IsTrue(method.Invoke(item2));

    } 
```

# php - 从特定节点查找根索引数组的深度

> ID：16183274
> 
> 赞同：0
> 
> 时间：2013-04-24T04:16:21.903
> 
> 标签：php, multidimensional-array, depth

我有一个像

```
 Array
                (
                    [0] => Array
                        (
                            [id] => 81
                            [cata_key] => 908cbbcb86a1cf64b67c96ff
                            [cata_name] => Lunch
                            [app_key] => 2fabc0d9447c6375657dead4
                            [parentid] => 0
                            [subcategories] => Array
                                (
                                )

                        )

                    [1] => Array
                        (
                            [id] => 80
                            [cata_key] => baac98b4e73c05ebbf45bdc6
                            [cata_name] => Break Fast
                            [app_key] => 2fabc0d9447c6375657dead4
                            [parentid] => 0
                            [subcategories] => Array
                                (
                                    [0] => Array
                                        (
                                            [id] => 82
                                            [cata_key] => 5970b7afc450ef3b24573de9
                                            [cata_name] => Rise Products
                                            [app_key] => 2fabc0d9447c6375657dead4
                                            [parentid] => 80
                                            [subcategories] => Array
                                                (
                                                    [0] => Array
                                                        (
                                                            [id] => 83
                                                            [cata_key] => 82e36d8f821e14fc8db1d4da
                                                            [cata_name] => Dosha
                                                            [app_key] => 2fabc0d9447c6375657dead4
                                                            [parentid] => 82
                                                            [subcategories] => Array
                                                                (
                                                                    [0] => Array
                                                                        (
                                                                            [id] => 84
                                                                            [cata_key] => 49730020d850439dd7de8747
                                                                            [cata_name] => Masala Dosha
                                                                            [app_key] => 2fabc0d9447c6375657dead4
                                                                            [parentid] => 83
                                                                            [subcategories] => Array
                                                                                (
                                                                                )

                                                                        )

                                                                )

                                                        )

                                                )

                                        )

                                )

                        )

                ) 
```

我想从特定的内部数组 id 中找到根索引子数组的深度。例如我想从 parentid=0 找到根索引数组的深度，它应该是 1。从 parentId=0/80/82/83 开始的根索引子数组的深度应该是 4。

实际上我的目标是限制数组的深度。应该有深度限制。所以当任何人试图向这个数组添加一个子数组时，我们应该找出当前数组的深度。例如，数组深度限制为 4 ，并且任何人尝试在 cata_name= Masala Dosha 下添加子数组，深度已经达到并且不应允许添加新的子数组。但同时他可以在[cata_name] => Lunch下面添加一个子数组，因为它的深度只有1，深度限制是4。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T15:52:55.370

我看到你已经排除了一个答案，但这里有一个替代方案：

```
<?php
$arrayHandler = new ArrayHandler();
$arr = array();
//Adding array examples (without checking)
$arr[0]['subcategories'] = array('id'=>80);
$arr[0]['subcategories']['whatever'] = array('id'=>82);
$arr[0]['subcategories']['whatever']['whatever2'] = array('id'=>83);

//Will be added because this is fourth level from $arr[0]
$chk = $arrayHandler->addSubArray($arr[0], $arr[0]['subcategories']['whatever']['whatever2']['whatever3']); 
if ($chk !== false) {
    $arr[0]['subcategories']['whatever']['whatever2']['whatever3'] = array('id'=>84);
}

//Won't be added because this is fitfth level from $arr[0]
$chk = $arrayHandler->addSubArray($arr[0], $arr[0]['subcategories']['whatever']['whatever2']['whatever3']['whatever4']); 
if ($chk !== false) {
    $arr[0]['subcategories']['whatever']['whatever2']['whatever3']['whatever4'] = array('id'=>85);
}
echo print_r($arr,true);

class ArrayHandler {
    private $depthLimit = 4;
    private $depth = 1;

    public function addSubArray($checkFromNode, $addNode) {
        if (is_array($checkFromNode)) {
            //Do recursion as long as node is an array and count depth
            //If not an array anymore return value sent to this parameter
            foreach ($checkFromNode as $key=>$node) {
                if (is_array($node)) {
                    $this->depth++; 
                    $this->addSubArray($node, $addNode);
                }                       
            }

            if (intval($this->depth) > intval($this->depthLimit)) {
                return false;
            }

            return true;
        }

    }

}
?> 
```

输出将在示例中：

```
Array ( [0] => Array ( [subcategories] => Array ( [id] => 80 [whatever] => Array ( [id] => 82 [whatever2] => Array ( [id] => 83 [whatever3] => Array ( [id] => 84 ) ) ) ) ) ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T06:09:38.337

试试这个，它工作，但我不喜欢这个

[http://sandbox.onlinephpfunctions.com/code/9922bf9abec89477e5bd3a81c41feb953db604a1](http://sandbox.onlinephpfunctions.com/code/9922bf9abec89477e5bd3a81c41feb953db604a1)

```
$a=array(
array('id'=>81),
array('id'=>80,'subcategories'=>array('id'=>82,'subcategories'=>array('id'=>83,'subcategories'=>array('id'=>84,'subcategories'=>array())))),
);

echo "80:" . test($a,80);
echo PHP_EOL;
echo "81:" . test($a,81);
echo PHP_EOL;
echo "82:" . test($a,82);
echo PHP_EOL;
echo "83:" . test($a,83);

function test($a,$key){
    $aa=array();
    foreach($a as $v){
    $b=array();
    $content=print_r($v,true);
    $b['content']=$content;
    if(preg_match('/ {28}\[/',$content)){
    $b['over']=1;
    }else{
    $b['over']=0;
    }
    $aa[]=$b;
    }

    foreach($aa as $v){

        if(preg_match('/\[id\] => '.$key.'/',$v['content'])){
            return $v['over'];

        }

    }
    return 0;

} 
```

然后

```
80:1
81:0
82:1
83:1 
```

# javascript - ASP.NET 从 Javascript 调用函数背后的代码

> ID：16183275
> 
> 赞同：2
> 
> 时间：2013-04-24T04:16:23.867
> 
> 标签：javascript, asp.net, webmethod

我制作了一个我试图从 javascript 调用的 webmethod，但它似乎没有被触发。我从用户控件内的列表框中获取选定的索引值并将其传递给我的 web 方法以删除选定的用户。我查看了无数网站，但没有找到解决方案。我没有收到任何错误，其他一切似乎都在工作。我试过从后面代码中的公共子程序调用这个函数，也没有运气。任何建议都非常感谢！

```
<%@ Page Language="VB" AutoEventWireup="false" ClientIDMode="Static" CodeFile="Edit.aspx.vb" Inherits="_Default" %><%@ Register src="AdminEdit.ascx" tagname="AdminEdit" tagprefix="uc1" %>
<%@ Register TagPrefix="asp" Namespace="AjaxControlToolkit" Assembly="AjaxControlToolkit"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3
.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
        <script type="text/javascript">
        function YesNo() {
            var result = confirm("Are you sure you want to delete?");

            if (result == true) {
                //var strUser = e.options[e.selectedIndex].value;
                var e = document.getElementById('<%= newLb.clientID %>');
                //var e = document.getElementById("ListBox1");
                var si = e.selectedIndex;
                var sv = e.value;
                document.write("TRUEEEEE");
                PageMethods.DeleteUser(sv);
            }
            else {
                document.write("FALSEEEEEE");
            }
        }
</script>

</head>
<body>
    <form id="form1" runat="server">
    <asp:ScriptManager ID="A1" runat="server"  EnablePageMethods="true"></asp:ScriptManager>

    <div>

        <asp:HyperLink ID="HyperLink1" runat="server" NavigateUrl="~/Login.aspx">Login</asp:HyperLink>

    </div>
    <asp:HyperLink ID="HyperLink2" runat="server" 
        NavigateUrl="~/ChangePassword.aspx">Change Password</asp:HyperLink>
    <br />
    <asp:HyperLink ID="HyperLink3" runat="server" NavigateUrl="~/CreateUser.aspx">Create User</asp:HyperLink>
    <br />
    <asp:HyperLink ID="HyperLink4" runat="server" NavigateUrl="~/AddRole.aspx">Add Roles</asp:HyperLink>
        <br />
        <br />
        <uc1:AdminEdit ID="AdminEdit1" runat="server" />
    </form>
</body>
</html>
Public newLb As New ListBox
Protected Sub Page_Load(sender As Object, e As EventArgs) Handles Me.Load
    If Roles.IsUserInRole("admin") Then
    ElseIf Roles.IsUserInRole("editor") Then
        newLb = CType(AdminEdit1.FindControl("ListBox1"), ListBox)
    End If
End Sub
        <System.Web.Services.WebMethod()>
    Public Shared Function DeleteUser(ByVal uName As String) As String
        Dim u As MembershipUser
        Dim newEdit As New _Default
        Dim _newLb = newEdit.newLb
        _newLb.Items.RemoveAt(0)
        u = Membership.GetUser(uName)
        Try
            Membership.DeleteUser(u.UserName)
        Catch ex As Exception
            Return "Error:" & ex.Message
        End Try
        Return u.IsApproved.ToString
    End Function 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:36:12.833

我认为你应该使用`JSon`调用 web 方法，这里是简单的例子

```
 $.ajax({
 type: "POST",
 contentType: "application/json; charset=utf-8",
 url: "yourpage.aspx/yourmethod",
 data: "{}",
 dataType: "json",
 success: function(data) {
 //Write functionality to display data
 },
 error: function(result) {
 alert("Error");
 }
 }); 
```

这是可以帮助您的[链接 Link](http://www.aspdotnet-suresh.com/2012/03/how-to-call-aspnet-page-methods-from.html)

# .net - How to Host My Websocket

> ID：16183280
> 
> 赞同：0
> 
> 时间：2013-04-24T04:16:43.940
> 
> 标签：.net, wcf, node.js, iis, websocket

I have a websocket server application like the bellow. private static void InitializeSockets() { _sockets = new List();

```
 var server = new WebSocketServer("ws://localhost:1234");

   server.Start(socket =>
   {
   socket.OnOpen = () =>
   {
                Console.WriteLine("Socket is Opened..timeStame:  " + DateTime.Now);
                Console.WriteLine("Connected to  " +      socket.ConnectionInfo.ClientIpAddress);
                _sockets.Add(socket);

            };
            socket.OnClose = () =>
            {
                Console.WriteLine("Socket is Closed..timeStame:" + DateTime.Now);
                Console.WriteLine("Disconnected from  " + socket.ConnectionInfo.ClientIpAddress);
                _sockets.Remove(socket);
            };
            socket.OnMessage = message =>
            {
                Console.WriteLine(socket.ConnectionInfo.ClientIpAddress + " Message: "
                             + message + "   timeStame: " + DateTime.Now);
            };
        });

    } 
```

which is a Console C# Application and I have a Timer Object which is calling _socket.Send(value.ToString()); for all the connected client in every second.

```
static void timer_Elapsed(object sender, ElapsedEventArgs e)
    {
        Random rand = new Random();

        int value = rand.Next(0, 100);

        if (_sockets.Count > 0)
        {
            foreach (var _socket in _sockets)
            {
                _socket.Send(value.ToString());
            }
        }
    } 
```

And I have HTML client like the bellow. where status is a label to display the value from the server.

```
 function socketSetup  () {
         if (typeof (WebSocket) !== 'undefined') {
             var status = document.getElementById('status');

                status.innerHTML = "Connecting to server...";
                socket = new WebSocket('ws://localhost:1234');

                socket.onopen = function () {

                    console.log("onopen is Called..");
                    status.innerHTML = "Connection successful.";

                };
                socket.onclose = function () {
                    console.log("onclose is Called..");
                    status.innerHTML = "Connection closed.";
                };
                socket.onmessage = function (e) {

                    console.log("onmessage is Called..");

                    var jsonObject = eval('(' + e.data + ')');
                    status.innerHTML = jsonObject;
                    socket.send("Client Updated With :" + jsonObject);
                };
            } else
                alert("Your Browser does not support Web Socket");
        };
    </script> 
```

Every thing is working fine with MultiClient scenario too.... Now I just Want to host the Server and want to access from the anywhere.. Currently I am using .Net 4.0. I came to know that there is a provision is .net 4.5 to Host WCF service with websocket feature. I can't use .net 4.5\. and IIS8 too... :( Is there any option to host my server.??????? any option with node.js????

Thanks, Arijit

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:38:33.223

是的，node.js 和 socket.io 支持 Web 套接字。Node.js 需要作为它自己的服务运行，而不是托管在 IIS 中。

如果您想在 IIS 中托管 Web 套接字服务器，您将需要 Windows Server 2012（或 Windows 8）和 IIS 8.0。如[本文所述](http://www.iis.net/learn/get-started/whats-new-in-iis-8/iis-80-websocket-protocol-support)

[您可以使用iisnode](http://tomasz.janczuk.org/2011/08/hosting-nodejs-applications-in-iis-on.html)项目在 IIS 中托管 node.js 应用程序，但同样，一旦您这样做，您将需要 IIS8 来支持 Web 套接字。

# javascript - 在 jquery 库 jquery-1.4.2.min.js 上，我想在图像悬停时显示隐藏，但它不起作用

> ID：16183281
> 
> 赞同：0
> 
> 时间：2013-04-24T04:16:46.877
> 
> 标签：javascript, jquery

我在这方面犯了什么愚蠢的错误吗？我试过最接近和下一个，但它不支持这个库。我也不能改变自由。我想要函数通用，以便我可以多次使用此图标

```
 <span style="position:relative" class="iconblock">
                <img class="queicon" src="images/question_icon.gif"  alt="icon" /> 
                <span class="helpPopup hidden">test test test</span> 
```

```
$(".iconblock").mouseover(function() 
{
var sachin =  $(this).find("hidden");   
alert(sachin);  
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:18:45.240

```
$(this).find(".hidden"); 
```

你忘了`.`之前隐藏。

您也可以使用快捷方式来指定上下文 `$(".hidden",this)`

```
$(".iconblock").mouseover(function() 
{
  $(".hidden",this).removeClass('hidden');
}); 
```

[http://jsfiddle.net/cJbVY/](http://jsfiddle.net/cJbVY/)

如果您打算在鼠标悬停/鼠标移出时显示和隐藏，您可以试试这个

[http://jsfiddle.net/ze6Xy/](http://jsfiddle.net/ze6Xy/)

```
$(".iconblock").hover(function() 
{
  $(".helpPopup",this).toggleClass('hidden');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:39:30.703

只是想在这里提供帮助，您真的需要为此使用 JS/Jquery 吗？

HTML：

```
<span style="position:relative" class="iconblock">
   <img class="queicon" src="images/question_icon.gif"  alt="icon" />
   <span class="helpPopup hidden">test test test</span> 
```

在 CSS 中，类似：

```
.iconblock .hidden {
     display:none;
 }

.iconblock:hover .hidden {
     display:block;
 } 
```

# gwt - How to mkdirs on gwt when fileupload on client

> ID：16183282
> 
> 赞同：0
> 
> 时间：2013-04-24T04:16:50.343
> 
> 标签：gwt, gwtupload

i mode development in eclipse. the fileupload works just fine. but i will make directory to */var/wms/year/month/file.jpg* on linux. this my source code from client: add component to form

```
fileUpload = new SingleUploader(FileInputType.LABEL);
    fileUpload.setFileInputPrefix("PJ");
    fileUpload.addOnFinishUploadHandler(onFinishUploaderHandler);
    layoutContainerItemRight.add(fileUpload, formData); 
```

method is addOnFinishUploadHandler

```
private IUploader.OnFinishUploaderHandler onFinishUploaderHandler = new IUploader.OnFinishUploaderHandler() {
    public void onFinish(IUploader uploader) {
        if (uploader.getStatus() == gwtupload.client.IUploadStatus.Status.SUBMITING) {
            String month = VisionProperties.getBulan();
            String year = DateTimeFormat.getFormat( "d-M-yyyy" ).format( new Date() ).split( "-")[2];
            String strDirectoy = "/var/wms/" + year + "/" + month + "/";
            File file = new File(strDirectoy);
            if (!file.exists()) {
                file.mkdirs();
            }
        }

        if (uploader.getStatus() == gwtupload.client.IUploadStatus.Status.SUCCESS) {
        String msg  = uploader.getServerInfo().message;
        fileName    = msg.toString();
            if(selectWindow != 2){
                img.setUrl("servlet.gupld?show=&fieldname=" + fileName);
                itemPanel.render(img.getElement());
            }else{
                tb.setVisible(true);
                tb.setText("Download File "+uploader.getFileName());
            }
        }
    }
}; 
```

how to make directory file when upload file process?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T07:08:26.973

您正在尝试在 GWT [jre emulation](https://developers.google.com/web-toolkit/doc/1.6/RefJreEmulation?hl=fr)`java.io.File`中的包集不支持的客户端中使用。

如果您想在客户端执行此操作，则必须使用旧浏览器不支持且未在 gwt-core 中实现的 javascript [File Api 。](http://www.w3.org/TR/FileAPI/)使用 elemental，您只能将 Api 与 Chrome 一起使用，但我并不肯定。所以最好还是通过jsni来封装，gwtupload中已经计划好了，但是目前还没有具体的时间框架。请注意，使用 js File Api，您无法访问真实的文件系统，而是浏览器中的虚拟文件系统。要将创建的文件保存在本地文件系统中，您必须使用 iframe 下载它，以便它询问用户将其保存在哪里。

否则，如果您想在服务器端完成这项工作，`executeAction`如果您正在扩展`UploadAction`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T08:20:36.820

您不能在客户端执行此操作。您可以通过以下方式在服务器端执行此操作

1.  在通过另一个 rpc/http 调用将文件上传到服务器之前。
2.  在服务器端执行文件上传 servlet 时将文件上传到服务器之后。

即使在现代浏览器中，HTML5 FILE API 也仅限于只读行为。

参考 - 1\. [GWT 中的基本文件上传](https://stackoverflow.com/questions/1111130/basic-file-upload-in-gwt) 2.[如何从 GWT FileUpload 组件中检索文件？](https://stackoverflow.com/questions/14053937/how-to-retrieve-file-from-gwt-fileupload-component)

# sql - Oracle: Find the position of an error in dynamic SQL using SQL or PL/SQL

> ID：16183290
> 
> 赞同：8
> 
> 时间：2013-04-24T04:17:25.363
> 
> 标签：sql, oracle, plsql

How can I find the position of an error in a Dynamic SQL statement in PL/SQL or SQL?

From SQL*Plus I see the position of an error in, for example, an invalid SQL DML statement:

```
SYS@orcl> SELECT
       2    X
       3  FROM
       4    TABLEX
       5  /
  TABLEX
  *
ERROR at line 4:
ORA-00942: table or view does not exist 
```

SQL*Plus shows the error with the line number, and prints and marks that line with an asterisk where the error is found.

Converting to Dynamic SQL, I can get the error code (SQLCODE) and error message (SQLERRM):

```
SYS@orcl> SET SERVEROUTPUT ON
SYS@orcl> BEGIN
       2    EXECUTE IMMEDIATE 'SELECT X FROM TABLEX';
       3  EXCEPTION
       4    WHEN OTHERS THEN
       5      DBMS_OUTPUT.PUT_LINE('SQLCODE:' || SQLCODE);
       6      DBMS_OUTPUT.PUT_LINE('SQLERRM:' || SQLERRM);
       7  END;
       8  /
SQLCODE:-942
SQLERRM:ORA-00942: table or view does not exist 
```

But how do I get the position of the error in the Dynamic SQL string?

I see that Oracle provides a SQL Communications Area (SQLCA) that contains interesting information about an error. In particular:

*   the SQLCODE and SQLERRM fields (that might be the source of the data retrieved with the respective PL/SQL functions),
*   the SQLERRD field where the SQLERRD(5) element that gives the 'parse error offset'.

Is it possible to access SQLERRD from PL/SQL or SQL? If so, how? If not, what other technique can give the location of the error from PL/SQL or SQL?

(Here [http://docs.oracle.com/cd/B28359_01/appdev.111/b31231/chapter8.htm#BABIGBFF](http://docs.oracle.com/cd/B28359_01/appdev.111/b31231/chapter8.htm#BABIGBFF) the SQLCA is documented and accessed with Pro*C.)

(The answer here [how to declare SQLCA.SQLERRD?](https://stackoverflow.com/questions/10612636/how-to-declare-sqlca-sqlerrd) seems to indicate that SQLERRD is not defined in PL/SQL and therefore not accessible.)

(The discussion here [Why doesn't Oracle tell you WHICH table or view does not exist?](https://stackoverflow.com/questions/46380/why-doesnt-oracle-tell-you-which-table-or-view-does-not-exist) gives some suggestions to show bad SQL using trace files and to show the location of errors in some development tools.)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T06:32:54.417

通过动态 PL/SQL 运行语句会将相关的行号存储在错误堆栈中。

例如，此语句在第 4 行有错误：

```
declare
    v_count number;
    v_bad_sql varchar2(32767) := 
        'SELECT
            X
          FROM
            TABLEX';
begin
    execute immediate v_bad_sql into v_count;
exception when others then
    begin
        execute immediate
            'begin for i in ( '||v_bad_sql||') loop null; end loop; end;';
    exception when others then
        dbms_output.put_line(sqlerrm);
    end;
end;
/

ORA-06550: line 4, column 4:
PL/SQL: ORA-00942: table or view does not exist
ORA-00942: table or view does not exist
ORA-06550: line 1, column 18:
PL/SQL: SQL Statement ignored
ORA-00942: table or view does not exist 
```

这种方法有一些缺点：

1.  它需要一些额外的、丑陋的代码来捕获异常并重试 SQL。
2.  该示例仅适用于选择。您需要针对插入、更新、删除、合并、动态 PL/SQL 等进行调整。通常您应该知道它是哪种 SQL 语句。如果运气不好，您将需要解析语句，这可能非常困难。
3.  如果整个 PL/SQL 语句在一行上，则列号错误。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T09:02:17.310

你有一个用于在[dbms_utility中提取错误消息的包](http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_util.htm)

```
begin 
    .. generate error
exception when others then 
    dbms_output.put_line(
        dbms_utility.format_call_stack()      || chr(10) || 
        dbms_utility.format_error_backtrace() || chr(10) || 
        dbms_utility.format_error_stack())
end; 
```

# apache - 用于 PHP 和 Web2Py 的 Apache 配置

> ID：16183293
> 
> 赞同：2
> 
> 时间：2013-04-24T04:17:43.757
> 
> 标签：apache, web2py

我正在为家里设置一个服务器来运行各种事情。我会为你保存整个故事，但我试图让它通过 WSGI 运行 Web2Py，但还需要为我拥有的其他 Web 应用程序提供 PHP 文件。我尝试了 Web2Py 的安装脚本，但它“劫持”了整个 Apache 系统来运行 Web2Py 系统。

该设置目前适用于 PHP 和 SSL 页面，但我无法让它也处理 Web2Py 站点的请求。对于 Web2Py url ( `http://jupiter/web2py`)，我得到一个 Apache 目录列表。请帮忙。

目录结构是这样的：

*   /var/www --> Apache DocumentRoot
*   /var/www/scripts --> 各种 PHP 脚本
*   /var/www/web2py --> Web2Py

/etc/apache2/sites-available/default 文件设置如下：

```
NameVirtualHost *:80
<VirtualHost *:80>
    ServerAdmin me@yahoo.com
    ServerName jupiter.myhome.com

    WSGIDaemonProcess web2py user=www-data group=www-data display-name=%{GROUP}
    WSGIProcessGroup web2py
    WSGIScriptAlias /web2py /var/www/web2py/wsgihandler.py

DocumentRoot /var/www
<Directory />
    Options FollowSymLinks
    AllowOverride None
</Directory>

<Directory /var/www>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride None
    Order allow, deny
    allow from all
</Directory>

<Directory /var/www/web2py>
    AllowOverride None
    Order Allow,Deny
    Deny from all
    <Files wsgihandler.py>
        Allow from all
    </Files>
</Directory>

AliasMatch ^/([^/]+)/static/(.*) /var/www/web2py/applications/$1/static/$2
<Directory /var/www/web2py/applications/*/static/>
    Order Allow,Deny
    Allow from all
</Directory>

ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
<Directory "/usr/lib/cgi-bin">
    AllowOverride None
    Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
    Order allow,deny
    Allow from all
</Directory>

ErrorLog ${APACHE_LOG_DIR}/error.log

#comment
#comment
LogLevel warn

CustomLog ${APACHE_LOG_DIR}/access.log combined 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-11T15:20:57.543

我成功配置了一个 Joomla (PHP) 应用程序 + Web2py。您的 apache 配置似乎没问题。只需确保使用正确的 path_prefix 配置**/web2py/routes.py**（根据您的示例，它应该是“web2py”）：

```
routers = dict( 
 BASE = dict( 
 default_application='<your_default_app>', 
path_prefix='web2py', 
 ) 
) 
```

# d3.js - 如何从源代码构建 d3.js？

> ID：16183294
> 
> 赞同：1
> 
> 时间：2013-04-24T04:17:53.133
> 
> 标签：d3.js

d3 github存储库中的许多源文件如何生成文件“d3.js”和“d3.min.js”，构建它们需要哪些工具？

我看到一个 package.json 文件表明涉及 npm，还有一个 Makefile——我不确定哪个程序使用它。

1.  我需要什么工具来构建文件？
2.  我向这些工具发出什么命令？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-26T00:24:58.390

答案是 d3 使用 SMASH：

[https://github.com/mbostock/smash/wiki](https://github.com/mbostock/smash/wiki)

# php - 带有 PHP DOMDocument 的 xml 空标签

> ID：16183296
> 
> 赞同：3
> 
> 时间：2013-04-24T04:17:55.743
> 
> 标签：php, xml, xml-parsing

```
$xmlFile="<test>WPUBON</test>
    <test1>SAPRTA</test1>
    <test2></test2>
    <test3></test3> "; 
```

我有一个如上所述的字符串，我正在使用 PHP 解析它`DOMDocuments`

```
$xml = new DOMDocument("1.0", "UTF-8");
$xml->loadXML($xmlFile);
$xml->save("out/".$xmlFileName.".xml"); 
```

空标签的输出是`</test2>`我需要的，`<test2></test2>`因为应用程序需要处理这个xml。

请让我知道一种方法来做到这一点！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T04:23:56.713

检查手册页[`DOMDocument::save()`](http://www.php.net/manual/de/domdocument.save.php)。它支持选项[`LIBXML_NOEMPTYTAG`](http://www.php.net/manual/de/libxml.constants.php)。尝试这个：

```
$xml->save("out/".$xmlFileName.".xml", LIBXML_NOEMPTYTAG ); 
```

# javascript - 用户输入后更改 div 元素的文本

> ID：16183299
> 
> 赞同：0
> 
> 时间：2013-04-24T04:18:34.617
> 
> 标签：javascript, text, input

当一个人在文本框中写一些东西并使其成为用户写的文本时，我想更改 div“结果”的文本。有没有足够专业/聪明/知识渊博的人来帮助我？我是java脚本的新手，所以请帮助我。这是代码：

```
<!DOCTYPE HTML>
<html>
<head>

<script>
function updateText(text){
document.getElementById("result").innerHTML =text;
}
}</script>

</head>
<body>

<div id="text">
Write to change:<input id="slide" type="text" value=""
onchange="updateText(this.value);" />

</div>
<div id="result" style="height:40px;width:40px;border:1px solid #999"></div>
<br/>
</body>

</html> 
```

我还想知道如何将用户在提示框中写入的文本插入到页面的该元素中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:33:21.843

除了您在代码中使用了一个额外的“}”之外，您的代码绝对没问题。

```
<!DOCTYPE HTML>
    <html>
    <head>    
    <script>
    function updateText(text){
    document.getElementById("result").innerHTML =text;
    }
    </script>    
    </head>
    <body>    
    <div id="text">
    Write to change:<input id="slide" type="text" value=""
    onchange="updateText(this.value);" />
    </div>
    <div id="result" style="height:40px;width:40px;border:1px solid #999"></div>
    <br/>
    </body>    
    </html> 
```

但是在浏览器屏幕中，只有当您将控件远离文本字段时才能看到输出。输入一些内容后，尝试单击浏览器中的其他位置。

# c - 使用 C 指针进行位移

> ID：16183300
> 
> 赞同：0
> 
> 时间：2013-04-24T04:18:38.587
> 
> 标签：c, pointers, memory-address

我希望在 C 程序中实现一个堆栈，我正在考虑使用 unsigned char * 作为基础。这将是堆栈的底部，所有其他寄存器和信息将是该地址的位移。但是，我似乎无法理解如何正确执行此操作。我正在考虑做这样的事情......

```
//Info: Store 20 at address x0000007c

unsigned char * base = 0;
int address = x0000007c;
(base + address) = 20; 
```

C 编译器不喜欢这样，所以我想知道如何在不丢失指针的情况下解决这个问题或做类似的事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:20:21.177

编译器不喜欢你的代码，因为它在概念上是错误的；base + address 不是左值，即使它有错误的类型：你不能将 int 存储到 char* 中。但这在逻辑上是正确的：

```
 base[address] = 20; 
```

或者，等效地，

```
 *(base + address) = 20; 
```

尽管它在功能上不正确，因为 base 没有指向有效的内存。您需要分配堆栈，作为静态数组或通过 malloc，并将其分配给基，例如，

```
 unsigned char* base = malloc(STACKSIZE);
 if (!base) out_of_memory(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:26:30.730

对于堆栈，最简单的可能是使用两个指针，

```
enum { STACKSZ = 100 };
char *base = malloc(STACKSZ);
char *top = base; 
```

然后你可以用

```
*top++ = 'H'; 
```

并弹出

```
char x = *--top; 
```

并获得尺寸

```
int sz = top-base; 
```

请注意，此代码不检查堆栈溢出/下溢。

# c# - 找不到服务参考

> ID：16183304
> 
> 赞同：1
> 
> 时间：2013-04-24T04:19:03.513
> 
> 标签：c#, asp.net, service-reference

我创建了新网站（不是 web 项目），在解决方案资源管理器中右键单击项目并单击**添加服务参考**

然后我添加了一个 Web 服务提供商地址，创建了一个名为**App_WebReferences**的新文件夹。它包含 ServiceReference1 文件夹，其中包含三个文件（两个 .svcinfo 和一个 .wsdl）。

现在我使用此代码作为我的提供者指导：

```
var srv = new ServiceReference1.PaymentIFBindingSoapClient();
double result = srv.verifyTransaction(refNum, "10004738"); 
```

在localhost中编译和运行没有错误。但是当我将网站文件上传到服务器上的 ftp 时。**我收到以下错误消息**：

```
*Server Error in '/' Application.
Compilation Error
Description: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately. 
**Compiler Error Message:** CS0246: The type or namespace name 'ServiceReference1'     could not be found (are you missing a using directive or an assembly reference?)
Source Error:

Line 69:             ///WebService Instance
Line 70:             //
Line 71:             var srv = new ServiceReference1.PaymentIFBindingSoapClient();
Line 72:             
Line 73:             double result = srv.verifyTransaction(refNum, "10004738");

Source File: d:\domains\olomrayaneh.net\wwwroot\ebook\check_payment.aspx.cs    Line: 71 

Show Detailed Compiler Output:
Show Complete Compilation Source:

Version Information: Microsoft .NET Framework Version:2.0.50727.3643; ASP.NET     Version:2.0.50727.3634* 
```

我陷入了这个问题。有什么问题！？我该如何解决？

我应该说我试图添加这一行：

```
using ServiceReference1; 
```

然后错误消息行更改为具有相同消息的该行！

并且在 localhost 运行中再次没有错误消息！

我的网站是在 .Net Framework 3.5 中构建的

web.config -- 添加服务器引用后，这些行添加到 web.config 文件中：

```
 <system.serviceModel>
                <bindings>
   <basicHttpBinding>
    <binding name="PaymentIFBindingSoap" closeTimeout="00:01:00"
                 openTimeout="00:01:00" receiveTimeout="00:10:00"     sendTimeout="00:01:00"
     allowCookies="false" bypassProxyOnLocal="false"     hostNameComparisonMode="StrongWildcard"
     maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
     messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
     useDefaultWebProxy="true">
     <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
      maxBytesPerRead="4096" maxNameTableCharCount="16384" />
     <security mode="Transport">
      <transport clientCredentialType="None" proxyCredentialType="None"
       realm="" />
      <message clientCredentialType="UserName" algorithmSuite="Default" />
     </security>
    </binding>
    <binding name="PaymentIFBindingSoap1" closeTimeout="00:01:00"
     openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
     allowCookies="false" bypassProxyOnLocal="false"     hostNameComparisonMode="StrongWildcard"
     maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
     messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
     useDefaultWebProxy="true">
     <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
      maxBytesPerRead="4096" maxNameTableCharCount="16384" />
     <security mode="None">
      <transport clientCredentialType="None" proxyCredentialType="None"
       realm="" />
      <message clientCredentialType="UserName" algorithmSuite="Default" />
     </security>
    </binding>
   </basicHttpBinding>
  </bindings>
        <client>
   <endpoint     address="https://acquirer.samanepay.com:2789/payments/referencepayment.asmx"
    binding="basicHttpBinding" bindingConfiguration="PaymentIFBindingSoap"
    contract="ServiceReference1.PaymentIFBindingSoap" name="PaymentIFBindingSoap" />
  </client>
        </system.serviceModel> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T11:30:31.603

谢谢朋友。我已经解决了。

问题是我将所有数据复制到 wwwroot 文件夹下的子文件夹中，

但我应该将 App_WebReference 文件夹复制到 wwwroot 文件夹的根目录！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T07:00:19.603

通常所有服务引用都存储在项目的 web.config 文件中，该文件通常不会部署。只需检查您的服务器 web.config 文件是否还包含对您的服务的引用，如果没有从本地文件中添加它。

# svn - 在 Jenkins 构建期间提交 svn

> ID：16183305
> 
> 赞同：0
> 
> 时间：2013-04-24T04:19:21.217
> 
> 标签：svn, build, jenkins, commit

在由 Jenkins 管理的构建过程中，我们实际上更新了一些文件并将它们提交到存储库。由于这是由我们的构建帐户发生的，因此我很容易忽略此帐户的提交，以免触发额外的构建。

我的问题是，我想将我们在构建期间更新的文件包含在该构建的更改列表中，但是，Jenkins 显示了触发构建的提交中的更改以及上次 Jenkins 构建期间发生的更改（通过我们的构建过程）。

臭死了。如果 Jenkins 包含在更改列表中会很棒： 1\. 触发构建的更改 2\. 在构建过程中所做的任何更改，这些更改将包含在最终结果中。

有什么办法可以做到这一点？我没有看到任何明显的东西。我可以解释我们的开发团队正在发生的事情，但它仍然不能准确地反映更改列表中实际包含在先前构建中的内容，而不包括在此构建期间所做的更改。

我意识到我们可以改变我们的构建过程来不做这些更新，但现在这不是一个选择。

谢谢！

* * *

更新：如果我把工作分成两部分，这可能会奏效。第一个作业执行 repo 更改和提交，设置 SVN_REVISION 并触发第二个作业。第二项工作为新修订版进行实际构建。第二个作业应该反映正确的更改（原始提交触发器更改和第一个作业执行的 repo 更改）。我需要测试一下。非常欢迎其他人的意见。

# design-patterns - smalltalk 中的代理模式实现

> ID：16183309
> 
> 赞同：2
> 
> 时间：2013-04-24T04:19:37.883
> 
> 标签：design-patterns, smalltalk

我正在阅读 smalltalk 中的代理模式实现，它是使用 dosNotUnderstand 实现的。我没有得到它什么时候会像场景中那样调用这个方法。有人可以给我一个例子/场景。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T10:38:22.277

`doesNotUnderstand:`或者如果方法查找失败，则调用 DNU 而不是原始消息。下面的例子，

```
nil aSelectorThatDoesNotExist 
```

触发 Object 上的默认 DNU，这将引发`MessageNotUnderstood`异常。

`doesNotUnderstand:`您可以使用该协议轻松地将消息发送委托给另一个对象。例如，如果我在我的`Proxy`,

```
doesNotUnderstand: aMessage
    ^ target perform: aMessage selector withArguments: aMessage arguments 
```

它将所有未在`Proxy`自身上实现的消息转发到另一个`target`对象。这里重要的是`Proxy`对象应该实现尽可能少的方法，否则它们不能被转发。出于这个原因， [Pharo](http://pharo.org)或[Squeak](http://squeak.org)有一个`ProtoObject`只实现一组基本方法的方法。通常，代理继承自`ProtoObject`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-06T10:02:37.270

更简单地说，“执行”就像 Lisp 的“应用”。（应用 aFunction anArgumentList）

aFunction 和 anArgumentList 是要评估的表达式。

**例子：**

> （申请（汽车'（* +））'（2 3 4））= 24
> 
> (应用 (cadr '(* +)) '(2 3 4)) = 9

它可以实现计算的函数调用，（以及扩展计算的消息发送）。

# javascript - 如何将新的 li 永久添加到 jquery 功能区？

> ID：16183310
> 
> 赞同：0
> 
> 时间：2013-04-24T04:19:40.540
> 
> 标签：javascript, jquery

我正在使用 jQuery 在 PHP 应用程序中创建功能区菜单。

我正在使用这个[http://code.google.com/p/jquery-officebar/](http://code.google.com/p/jquery-officebar/)创建功能区菜单。

功能区菜单是在我的应用程序中创建的，但需要的是当您在一个菜单项上创建而不是在另一个选项卡中打开它时。之后我们需要能够单独关闭该选项卡。

功能区菜单是使用`<ul>`和`<li>`标签创建的。我试图添加一个新`li` `onclick`的菜单项。代码是：

```
$("#testRibbon ul").append('<li class="current"><span>Message Center</span></li>'); 
```

但我无法解决这个问题`li`。意味着当页面被刷新而不是`li`被删除。

谁能告诉我如何`li`在功能区菜单中添加新的`ul`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:29:41.613

利用

```
$("#testRibbon > ul").append('<li><a href="#" rel="my-rel" >Message Center</a></li>'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:27:35.153

我对您的评论的回复（如何在 AJAX 中执行此操作）：

这是一种混乱的方式，但这会给你（我认为）你想要的结果：

索引.php：

```
<?php session_start(); ?>
<!DOCTYPE html>
<html>
    <head>
        <title>AJAX</title>
        <style>
            .obj {
                padding:15px 15px;
                background:red;
            }
        </style>
    </head>
    <body>

        <div class="obj">Click Me</div>

        <ul class="items">
        </ul>

        <script type="text/javascript" src="jquery-1.8.0.min.js"></script>
        <script type="text/javascript">
            $(function() {

            //Retrieve current SESSION li tags

            $.ajax({
                type : 'POST',
                url : 'ajax.php',
                success: function(data) {
                    var json = $.parseJSON(data);
                    $.each(json, function(i, serverData) {
                        $('.items').append('<li class="item">' + serverData + '</li>');
                    });
                }

            });

            //add li tags and store to session

            var counter = 0;
            $('.obj').on('click', function() {

                counter++;
                $('.items').append('<li class="item">Foo' + counter + '</li>');

                var form_data,
                    li_array = new Array();

                $('.item').each(function() {
                    li_array.push( $(this).html() );
                });

                form_data = {
                    data : li_array
                };

                //set.php sets the SESSION data and appends the li tags to it for future reference
                $.ajax({
                    type : 'POST',
                    url : 'set.php',
                    data : form_data
                });

            });

        });
        </script>
    </body>
</html> 
```

ajax.php：

```
<?php
session_start();

echo json_encode($_SESSION['li']);

?> 
```

设置.php：

```
<?php
session_start();

$_SESSION['li'] = array();

foreach ($_POST['data'] as $data) { array_push($_SESSION['li'], $data); }

echo json_encode($_SESSION['li']);

?> 
```

注意：这将保留 li 标签。取消它们的方法是清除会话。

# java - Android ImageButton 浏览活动

> ID：16183316
> 
> 赞同：1
> 
> 时间：2013-04-24T04:20:09.263
> 
> 标签：java, android, imagebutton

我尝试使用 ImageButton 作为常规按钮从活动导航到活动。我有这个包含 6 个图像按钮的活动，我希望让你的用户在点击任何图像按钮时进入他们的适当活动。然而，这不起作用。谁能指导我如何做到这一点？

这是我的 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/book_shelf"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dip"
        android:gravity="center"
        android:text="WELCOME"
        android:textSize="40dip" />

    <RadioButton
        android:id="@+id/radioButton1"
        android:layout_width="102dp"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/radioButton2"
        android:layout_alignBottom="@+id/radioButton2"
        android:layout_alignParentLeft="true"
        android:layout_marginLeft="23dp"
        android:text="Autoplay" />

    <RadioButton
        android:id="@+id/radioButton2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/textView1"
        android:layout_marginLeft="33dp"
        android:layout_toRightOf="@+id/radioButton1"
        android:text="Read by self" />

    <ImageButton
        android:id="@+id/ImageButton01"
        android:layout_width="70dp"
        android:layout_height="80dp"
        android:layout_alignLeft="@+id/radioButton1"
        android:layout_alignTop="@+id/imageButton1"
        android:layout_marginLeft="15dp"
        android:src="@drawable/clown_icon" />

    <ImageButton
        android:id="@+id/imageButton1"
        android:layout_width="70dp"
        android:layout_height="80dp"
        android:layout_below="@+id/radioButton2"
        android:layout_marginTop="34dp"
        android:layout_toRightOf="@+id/radioButton1"
        android:src="@drawable/nurse_icon" />

    <ImageButton
        android:id="@+id/ImageButton03"
        android:layout_width="70dp"
        android:layout_height="80dp"
        android:layout_below="@+id/imageButton1"
        android:layout_marginTop="28dp"
        android:layout_toRightOf="@+id/radioButton1"
        android:src="@drawable/police_w_icon" />

    <ImageButton
        android:id="@+id/ImageButton02"
        android:layout_width="70dp"
        android:layout_height="80dp"
        android:layout_alignLeft="@+id/ImageButton01"
        android:layout_alignTop="@+id/ImageButton03"
        android:src="@drawable/m_girl_icon" />

    <ImageButton
        android:id="@+id/ImageButton04"
        android:layout_width="70dp"
        android:layout_height="80dp"
        android:layout_alignLeft="@+id/ImageButton02"
        android:layout_alignTop="@+id/ImageButton05"
        android:src="@drawable/firefighter_icon" />

    <ImageButton
        android:id="@+id/ImageButton05"
        android:layout_width="70dp"
        android:layout_height="80dp"
        android:layout_alignLeft="@+id/ImageButton03"
        android:layout_alignParentBottom="true"
        android:layout_marginBottom="36dp"
        android:src="@drawable/chef_w_icon" />

</RelativeLayout> 
```

这是我的 .java 文件的样子：

```
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageButton;
import android.app.Activity;
import android.content.Intent;

public class GirlMenuActivity extends Activity {
    ImageButton imagebtn1;
    ImageButton imagebtn2;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_menu_girl);

        addListenerOnButton();
    }

    public void addListenerOnButton() {
        imagebtn1 = (ImageButton) findViewById(R.id.ImageButton01);
        imagebtn1.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {

                Intent intent = new Intent
                        (getApplicationContext(), PracticeActivity.class);
                    startActivity(intent); 
            }
        });
    }
} 
```

如您所见，目前只实现了一个图像按钮。它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:37:17.193

请检查您的 XML 页面图像按钮 ID 并为其提供不同的 ID..然后输入您的意图代码...并定义您的第二个类并将其提供给 manifest.xml

```
 Intent intent = new Intent(MainActivity.this, second.class);
    startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:36:04.313

试试这个代码：

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_menu_girl);

         imagebtn1 = (ImageButton) findViewById(R.id.imageButton1);
        imagebtn1.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {

                Intent intent = new Intent
                        (GirlMenuActivity.this, PracticeActivity.class);
                    startActivity(intent); 
            }
        });
    }

} 
```

**PS**：*不要忘记`PracticeActivity`在清单文件中添加您的。*
重要的是检查您的其他活动。如果有一些东西会导致运行时错误，`oncreate`那么它也不会工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T06:51:18.783

**试试这个代码。希望它有帮助..**

```
imageButton1.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View arg0) {

            Intent i = new Intent
                    (MainActivity.this, SecondActivity.class);
                startActivity(i); 
        }
    });
} 
```

*然后对另一个图像按钮使用相同的...*

# url - 根据路径显示和隐藏 div

> ID：16183323
> 
> 赞同：0
> 
> 时间：2013-04-24T04:20:37.940
> 
> 标签：url, html, directory, show

提前致谢。我试图根据许多其他帖子和示例将其拼凑在一起，但似乎无法使其发挥作用。我所追求的似乎很简单：根据加载的页面是否在网站上的特定目录中显示和隐藏特定的 div。因此，例如，我希望 about-nav-on div 随时显示我网站上 /about 目录中的文件：www.mysite.com/about/about-us.html。

下面是我的脚本，但它什么也没做。您可能会猜到，其他 div 是我导航中的其他菜单项，其中 -on 是突出显示相应菜单项的那些。所以在下面的例子中，只有“关闭”的 div 显示，其他的都是隐藏的，除了最后一种情况，这是我要突出显示的，因为这个页面在 /about 目录中。

再次，提前感谢。并且要温柔。

```
$(document).ready(function() {
    if (location.pathname.split("/")[1] == 'about' ) {
        $('#nav-home').show();
        $('#nav-home-on').hide();
        $('#nav-believe').show();
        $('#nav-believe-on').hide();
        $('#nav-schedule').show();
        $('#nav-schedule-on').hide();
        $('#nav-directions').show();
        $('#nav-directions-on').hide();
        $('#nav-about').hide();
        $('#nav-about-on').show();
    }
}); 
```

哦，还有 PS：我还需要为根目录中的任何页面显示 nav-home-on div；那么我将如何解析该 URL？

DD

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T16:21:20.797

经过更多的研究和修改，我发现以下内容适用于我的问题的第一部分，尽管我不确定这个“if”语句在简单的英语中是如何发音的：

```
$(document).ready(function(){  
    if(window.location.href.indexOf("believe") > -1) {
       $('#nav-home').show();
       $('#nav-home-on').hide();
       $('#nav-believe').hide();
       $('#nav-believe-on').show();
       $('#nav-schedule').show();
       $('#nav-schedule-on').hide();
       $('#nav-directions').show();
       $('#nav-directions-on').hide();
       $('#nav-about').show();
       $('#nav-about-on').hide();
    }
 }); 
```

不过，如果我正在加载的文件位于根目录中，仍然可以使用有关如何显示/隐藏 div 的帮助。现在，我只是在使用：

```
 $(window).load(function(){  
        $('#nav-home').hide();
        $('#nav-home-on').show();
    } 
```

在主页上的脚本中。但我想在 .js 文件中找到一种方法来执行此操作。

# c# - 如何制作 /* 和 */ 一个字符串？

> ID：16183333
> 
> 赞同：-1
> 
> 时间：2013-04-24T04:21:39.067
> 
> 标签：c#

与此主题相关：[Making Quotation(' or ") a String Possible?](https://stackoverflow.com/questions/16161293/making-quotation-or-a-string-possible)

我的问题是如何在这段代码中制作`/*`和`*/`字符串：

```
 if (token == "commentOpen&Close" || token.StartsWith("/*") & token.EndsWith("*/"))
    {
        int length = line.Length - (index - start);
        string commentText = rtb.Text.Substring(index, length);
        rtb.SelectionStart = index;
        rtb.SelectionLength = length;
        int i = commentText.IndexOf(token);

        HighlighType.commentsType(rtb);
    } 
```

我应该在里面输入什么`token.StartsWith(" ")`？`token.EndsWith(" ")`

以及如何使 /* 和 */ 中的文本都具有突出显示功能，甚至不在一行中。

我猜在这段代码中的某个地方：

```
int length = line.Length - (index - start);
            string commentText = rtb.Text.Substring(index, length); 
```

* * *

那个回答：

```
if (token == "commentOpen&Close" || token.StartsWith(@"/*") & token.EndsWith(@"*/")) 
```

工作正常，但我猜他删除了它^^。但如果它还可以，我仍然需要第二个问题的帮助。关于如何在 /* 和 */ 中制作文本，即使不在一行中也可以使用高亮显示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:29:21.783

`&`在该行上将按位运算符更改为`&&`or`||`运算符。还要加上括号：

```
if (token == "commentOpen&Close" || (token.StartsWith("/*") && token.EndsWith("*/"))) 
```

# c - 凯撒密码；调试断言失败

> ID：16183337
> 
> 赞同：0
> 
> 时间：2013-04-24T04:22:24.053
> 
> 标签：c

我编写了代码来执行凯撒移位密码，从名为“input.txt”的文件中获取输入并将输出写入名为“output.txt”的文件中。它在技术上运行良好；输出几乎完美，但是当我运行它时，我收到一条`Debug Assertion Failed`消息，说明`Line 56`哪一行是关闭输出文件的行。错误还说：表达式：`(unsigned)(c+1) <= 256`。这是我的代码：

```
void cipher(char input[], int key);

int main()
{

    int i, key=0;
    char c, input[MAX];
    FILE *file1;
    file1 = fopen("input.txt","r");

    printf("Enter the key: ");
    scanf("%d", &key);
    getchar();

    for(i=0;(c=getc(file1))!=EOF && i<MAX;i++)
        input[i]=c;
    fclose(file1);
    cipher(input, key);
    return 0;
}

void cipher(char input[], int key)
{
    int length = strlen(input)-1;
    int i;
    char c;
    FILE *file2;
    file2 = fopen("output.txt","w");
    for (i=0;i<length;i++)
    {
        if (isalpha(input[i]))
        {
            c = (toupper(input[i]) - 'A'+key) % 26 + 'A';
            fprintf(file2, "%c", c);
        }
        else if (input[i]==' ')
            fprintf(file2, "\n");
    }

    fclose(file2);
} 
```

哦，还有一个不那么紧迫的问题，但是当代码吐出输入时，如果输入改变行，比如“输入文本\n 这里”，那么当它对“文本”和“这里”进行密码时，它会将它们放在一起而不是像应该的那样将它们放在单独的行上。如果有人知道这是为什么并且可以帮助我，我将不胜感激，但主要是那个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:49:23.187

这里有两个问题。

```
char c, /* ... */;
for(i=0;(c=getc(file1))!=EOF && i<MAX;i++)
    input[i]=c; 
```

这是错误的。`getc`返回 an `int`，因此 c 也应该是 an `int`。原因是 有两种类型的返回值`getc`：

1.  一个正值，可以表示为**unsigned char**。
2.  负值，表示错误。

如果直接转换为`char`，则无法检查错误。`char`可能已签名或未签名。如果它是无符号的，那么`(c=getc(file1))`最终将是一个正数，不可能比较等于`EOF`. 因此，您的循环不会在`EOF`遇到时结束。如果您`char`已签名，那么您的程序可能会以其他奇怪的方式出现故障，例如*过早*终止循环，或在某些机器上出现段错误。

**这适用于所有标准 C 函数！确保在转换它们之前检查返回值！**这包括`scanf`.

`<ctype.h>`是您从中获取`isalpha`和`toupper`功能的地方。

> **7.4 字符处理**
> 
> 1 标题声明了几个对字符分类和映射有用的函数。198) 在所有情况下，参数都是**int**，其值应表示为**无符号字符** 或应等于宏 EOF 的值。如果参数有任何其他值，则行为未定义。

在我看来，您可能会通过将可能的负值传递给`isupper`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:53:26.320

如果您使用的是 MSVC，请注意调试 CRT 会检查传递给 isalpha 的参数是否在范围内`EOF`或`0..0xff`（请参阅[MSDN](http://msdn.microsoft.com/en-us/library/xt82b8z8(v=vs.100).aspx)）。在您的代码中，您调用`isalpha(input[i])`的`input`是一个`char`数组。由于`isalpha`需要，`int`您最终可能会`isalpha`使用超出允许范围的值进行调用。您应该将呼叫更改为`isalpha((unsigned char)input[i])`.

我也会`toupper`相应地更改调用。

正如`undefined behaviour`已经说过的，您必须将结果存储`getc`在一个`int`变量中，将其与它进行比较`EOF`，然后将其转换为 a`char`并存储它。将其转换为 a 后，`char`您无法再与它进行比较`EOF`（`EOF`是一个`int`不能表示为 a 的值`char`）。

# mysql - vb.net mysql Last_Insert_ID 导致双数据库条目？

> ID：16183338
> 
> 赞同：0
> 
> 时间：2013-04-24T04:22:30.903
> 
> 标签：mysql, vb.net, last-insert-id

我无法弄清楚为什么每次执行子例程时都会得到一个双 DB 条目。我想我有一个想法，我认为这很简单，但我不知道如何解决它。感谢任何人都可以提供的任何帮助。

这是我的数据源：

```
<asp:SqlDataSource id="sqlvoted" runat="server" ConnectionString="<%$ ConnectionStrings:Mym6pConnection %>"
ProviderName="MySql.Data.MySqlClient">
</asp:SqlDataSource> 
```

以及子的相关部分：

```
sqlvoted.InsertParameters.Clear()
sqlvoted.InsertCommand = "INSERT INTO urls (url,likes,mlsid,sitename) VALUES ('" & url & "','" & firstlike.ToString & "','" & newmlsid & "','" & sitename & "');SELECT LAST_INSERT_ID()"
sqlvoted.Insert() 
```

和事件处理程序：

```
Protected Sub sqlvoted_Inserted(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.SqlDataSourceStatusEventArgs) Handles sqlvoted.Inserted
    Dim cmd As System.Data.Common.DbCommand = e.Command
    urllikeID = cmd.ExecuteScalar
End Sub 
```

我实际上是在运行两次插入吗？一次使用 sqlvoted.insert() 命令，一次使用 cmd.ExecuteScalar？这是我最好的猜测，但我不知道如何将两者合并为一个。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:10:45.120

是的，你打了两次电话

*   `sqlvoted.Insert()`做一个插入。请参阅[MSDN 上的 Insert 方法](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.sqldatasource.insert.aspx)
*   `.ExecuteScalar`也做一个 INSERT

# jquery - 如何在 php 中创建对 ajax 表单提交的有用响应

> ID：16183340
> 
> 赞同：0
> 
> 时间：2013-04-24T04:23:20.530
> 
> 标签：jquery, dom

我有几个通过 jQuery AJAX 提交的表单，它们本质上是一种方式的表单，例如联系表单，其中接收的 PHP 文件只生成两封电子邮件。

我试图弄清楚如何以发送合适回复的方式结束该过程，以便我们可以向用户触发视觉确认。我正在使用 jQuery 1.9.1。

我当前的代码是（JS）：

```
var subject = $("input#subject2").val(), ... other vars,

dataString = 'subject=' + subject + '&name=' + name + '&email=' + email + '&message=' + message + '&webpage=' + webpage;

$('#head-form').html("<div id='message'><br><br>Cogitating what you asked....</div>");

$.post("http://mydomain.com/forms/send.php", dataString, function(data) {
   $('#head-form').html(data);
}); 
```

（PHP）：

```
<?php

... create and send email bits ...

echo '<div id='message'><h3>Thanks</h3>We will be in touch soon.</div>';

?> 
```

表单提交部分工作得很好，消息被发送，当单独查看时，send.php 最终显示所需的文本。

但是在表单结束时，表单生成的 html 并未写入所需的 div。它与最初在单击时添加的 Cogitating html 保持一致。

这可能很简单，但我的 ajax 经验仅限于以前的两次使用:(

**我坏**

这是一个跨域问题，Firefox 不接受来自子域的回复。

感谢所有的建议。不过我确实学到了一些给猫剥皮的新方法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:38:32.177

尝试使用 replaceWith

```
$("#head-form").replaceWith(data); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:34:54.290

尝试使用完成功能

$.ajax({url: '/'}).done(function(data) {});

# c++ - 如何将数字放入某些组？

> ID：16183343
> 
> 赞同：2
> 
> 时间：2013-04-24T04:23:41.713
> 
> 标签：c++, arrays

好的，我将计算距离。当找到匹配时，将有 20 个距离组将获得积分。如何避免为每个组编写条件？

有没有捷径——

```
if (distance>0)and(distance<=10)
{
    distance_group[1]=++1;
}
else
    if (distance>10)and(distance<=20)
    {
        distance_group[2]=++1;
    } 
```

等等.....所有组一直到400这样的数字

当找到一个接近的比赛时，每个小组都会获得积分，但我不想写出所有小组的得分条件，我可能需要 5000 个小组而不是 20 个小组。

有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T04:27:46.640

您可以像这样计算组数：

```
int group_number = (distance-1)/10+1; 
```

然后增加该组中的计数：

```
++distance_group[group_number]; 
```

如果距离==1，你有`(1-1)/10+1 == 1`.

如果距离==2，你有`(2-1)/10+1 == 1`.

. . .

如果距离==9，你有`(9-1)/10+1 == 1`.

如果距离==10，你有`(10-1)/10+1 == 1`.

如果距离==11，你有`(11-1)/10+1 == 2`.

等等

# git - 当用户推送到 GIT 存储库时，文件所有权/组发生更改

> ID：16183345
> 
> 赞同：15
> 
> 时间：2013-04-24T04:23:48.963
> 
> 标签：git, file-permissions

一年多以来，我一直在 GIT 和目录/文件权限方面遇到问题。我有一个中央存储库，多个开发人员使用 ssh 将代码推送到该存储库（源设置为 ssh://example/git/repository）。我已按如下方式设置存储库：

1）我在中央存储库中的配置文件：[core] repositoryformatversion = 0 filemode = true bare = true sharedrepository = 0660

2) 所有存储库目录权限设置为 770 (rwxrwx---) 3) ./objects/XX 和 ./objects/info 中的所有文件设置为 440 (r--r-----) 4) 全部其他文件设置为 660 (rw-rw----) 5) 所有权设置为 root:group_name

（请注意，这来自该线程顶部响应中的推荐设置：[Making git push respect permissions？](https://stackoverflow.com/questions/5264968/making-git-push-respect-permissions)）

所有访问用户都是组“group_name”的成员。

问题是如果 user1 推送到存储库，某些文件的文件所有权设置为 user1:user1 - 这意味着组已更改。一旦发生这种情况，其他用户就不能从存储库中推送（或拉取），因为他们不再有权从存储库中的所需文件读取、写入或执行。

我已经阅读了关于 Stack Overflow 以及网络上几乎所有其他地方的所有帖子，但我一直遇到同样的问题。

问题是，我不确定这个问题是 GIT 问题之一，还是 UNIX 问题之一，我不知道如何解决它。当用户推送到存储库时，如何阻止组被更改？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-24T08:06:11.280

看起来您`git config core.sharedRepository 0660`在初始化存储库后更改为，而不是使用`git init --shared=0660`which 应该正确设置权限。这意味着 sgid 位不会在 git 存储库的目录中正确设置。您将不得不手动修复此问题（假设 GNU find 和 xargs）：

```
find . -print0 | xargs -0 chgrp group_name

find . -type d -print0 | xargs -0 chmod g+s 
```

对于那些对vs. vs.`git init --help`感到困惑的人的摘录：`group``true``0660`

```
 --shared[=(false|true|umask|group|all|world|everybody|0xxx)]
       Specify that the Git repository is to be shared amongst several users.
       This allows users belonging to the same group to push into that
       repository. When specified, the config variable
       "core.sharedRepository" is set so that files and directories under
       $GIT_DIR are created with the requested permissions. When not
       specified, Git will use permissions reported by umask(2).

       The option can have the following values, defaulting to group if no
       value is given:

       umask (or false)
           Use permissions reported by umask(2). The default, when --shared
           is not specified.

       group (or true)
           Make the repository group-writable, (and g+sx, since the git group
           may be not the primary group of all users). This is used to loosen
           the permissions of an otherwise safe umask(2) value. Note that the
           umask still applies to the other permission bits (e.g. if umask is
           0022, using group will not remove read privileges from other
           (non-group) users). See 0xxx for how to exactly specify the
           repository permissions.

       all (or world or everybody)
           Same as group, but make the repository readable by all users.

       0xxx
           0xxx is an octal number and each file will have mode 0xxx.  0xxx
           will override users' umask(2) value (and not only loosen
           permissions as group and all does).  0640 will create a repository
           which is group-readable, but not group-writable or accessible to
           others.  0660 will create a repo that is readable and writable to
           the current user and group, but inaccessible to others. 
```

# java - eclipse崩溃时编译器版本更改

> ID：16183347
> 
> 赞同：0
> 
> 时间：2013-04-24T04:24:38.223
> 
> 标签：java, eclipse, compiler-construction

我正在为我的项目使用 eclipse galileo。大约有50个项目。最初，我将编译器版本设置为`1.5`工作区设置。所以所有项目都编译在`1.5`. 当eclipse崩溃时，我需要再次重新启动eclipse。但是现在每个项目中的编译器版本都更改为`1.4`. 如果我在工作区设置中检查编译器版本，它的`1.5`，但如果我在每个项目中检查它的设置为`1.4`. 我需要手动将每个项目中的编译器版本更改为`1.5`.

是否有任何其他替代解决方案可以避免在每个项目中手动设置编译器版本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:39:11.577

这是一个不幸的手段，但您是否尝试过为给定项目备份 project.properties 文件？还有一个 default.properties 文件控制所有项目的默认设置。当然，当您故意更改设置时，您将需要新的备份。

不过，在您这样做之前，请在正确设置所有编译器选项后确认您已正常关闭 eclipse，然后再重新尝试导致崩溃的事件。在您退出 IDE 之前，eclipse 无法正确保存某些内容，如果 IDE 异常终止，这些设置显然会被清除。

# node.js - 芝麻/码头服务器响应 node.js http get 请求的错误内容类型

> ID：16183352
> 
> 赞同：0
> 
> 时间：2013-04-24T04:24:52.943
> 
> 标签：node.js, jetty, rdf, sparql, sesame

```
var http = require('http')

function getSPARQLResults(query_string, callback) {

  sparqlQ = getSPARQLPrefix() + query_string;
  var options = {
    host: 'localhost',
    port: 8080,
    path: '/openrdf-sesame/repositories/myRepo?query=' +encodeURIComponent(sparqlQ) + '&content-type=application/sparql-results+json',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
        'Accept': 'application/sparql-results+json',
    },
  };

  //console.log ( encodeURIComponent(query_string) );
  console.log ( query_string );
  var req = http.get(options, function(res) {
    console.log("Got response: " + res.statusCode);
    console.log('HEADERS: ' + JSON.stringify(res.headers));
    var data = "";
    res.on('data', function (chunk) {
      data += chunk;
    });
    res.on('end', function () {
      console.log (data);
    });
  }).on('error', function(e) {
    console.log("Got error: " + e.message);
  });
  req.end();
} 
```

响应**（当 node.js 服务器在 Amazon EC2 Linux 实例上运行时）**

```
Got response: 400
HEADERS: {"date":"Wed, 24 Apr 2013 04:12:12 GMT","content-language":"en-US","content-type":"text/plain; charset=utf-8","content-length":"86","server":"Jetty(6.1.26)"}

undefined:1
MALFORMED QUERY: Lexical error at line 1, column 7\.  Encountered: "%" (37), af
^ 
```

响应**（当 node.js 服务器在 Ubuntu 笔记本电脑上运行时）**

```
Got response: 200
HEADERS: {"date":"Wed, 24 Apr 2013 04:20:37 GMT","vary":"Accept","content-language":"en-US","content-type":"application/sparql-results+json; charset=UTF-8","content-disposition":"attachment; filename=query-result.srj","transfer-encoding":"chunked","server":"Jetty(6.1.26)"} 
```

两个标头之间的 Content-Type 不同。缺少什么/出了什么问题？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-03T07:16:03.140

这里有一个节点版本问题。我的笔记本电脑上有 v0.8.17，我在 EC2 实例上安装了最新版本，但不知何故破坏了一些东西。回到 EC2 上的节点 0.8.17 解决了这个问题

# cassandra - 创建 Job Tracker 时出现 DataStax 问题

> ID：16183354
> 
> 赞同：0
> 
> 时间：2013-04-24T04:25:15.987
> 
> 标签：cassandra, datastax-enterprise

我下载了 DataStax Enterprise，并尝试运行以下他们的投资组合示例 (www.datastax.com/docs/datastax_enterprise2.2/solutions/dse_demo#dse-demo)，但我卡住了。我遇到的问题是我无法在节点上启动作业跟踪器。

我在 Ubuntu 上使用 3.0.1 版的 dse。我也用一个节点设置它，因为我只使用一台机器。我已经启动了一个节点，并且 opscenterd 和 opscenter-agent 都在运行。

当我运行时：

> dse cassandra -t -j

我得到以下输出：

> xss = -ea -javaagent:/usr/share/dse/cassandra/lib/jamm-0.2.5.jar -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms1024M -Xmx1024M -Xmn200M -XX:+HeapDumpOnOutOfMemoryError -Xss180k
> 
> 错误：代理抛出异常：java.rmi.server.ExportException：端口已在使用：7199；嵌套异常是：java.net.BindException：地址已在使用中

当尝试使用 dsetool 代替时：

> dsetool movejt 本地主机

我在 log/cassandra/system.log 中看到，如果失败是因为：

> 原因：InvalidRequestException（为什么：Keyspace dse_system 不存在）
> 
> ```
>  at org.apache.cassandra.thrift.ThriftValidation.validateTable(ThriftValidation.java:83)
>  at org.apache.cassandra.thrift.ThriftValidation.validateColumnFamily(ThriftValidation.java:135)
>  at org.apache.cassandra.cql3.statements.SelectStatement$RawStatement.prepare(SelectStatement.java:973)
>  at org.apache.cassandra.cql3.QueryProcessor.getStatement(QueryProcessor.java:243)
>  at org.apache.cassandra.cql3.QueryProcessor.processInternal(QueryProcessor.java:129)
>  at com.datastax.bdp.hadoop.mapred.TrackerManager.queryForJobTrackers(TrackerManager.java:202)
>  at com.datastax.bdp.hadoop.mapred.TrackerManager.getJTNodes(TrackerManager.java:170) 
> ```

这可能是什么原因造成的？以及如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T19:23:00.070

我的猜测是您已将 DSE 作为普通 C* 节点启动。验证运行： 您将看到您节点的工作负载`nodetool ring`Cassandra`dsetool ring`

我相信这是因为：1）您有端口正在使用错误，表明您已经启动了 ac* 服务 2）dse_system 仅在您作为 hadoop 节点启动时创建，-t

要解决此问题，请终止所有 java 进程并尝试使用 -t 选项重新启动。它应该检测到您的 dse_system 尚未创建，然后创建它。然后用 验证`dsetool ring`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-26T23:07:34.607

以上对我有用。抛出的错误是：

```
$ dse pig
Error when fetching jobtracker address: 
Exception in thread "main" java.lang.NoClassDefFoundError: Could
$ dsetool jobtracker
Error when fetching jobtracker address: 
java.io.IOException: Could not find Job Tracker. 
```

为了解决我做了以下事情：

```
$ dse cassandra-stop
$ dse cassandra -t 
```

# date - 如何在通票正面显示当前日期和时间

> ID：16183356
> 
> 赞同：1
> 
> 时间：2013-04-24T04:25:29.230
> 
> 标签：date, ios6, passbook

我使用php生成通行证。我尝试 : `$date = date('m/d/Y H:i',time()); // Convert date to string`and pass's field: `"value": "'.$date.'"` ，我看到结果是日期正确，但时间不正确。如何解决这个问题？这是传球的正面：
![传球前](https://i.stack.imgur.com/4cYaK.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:31:22.087

您需要正确设置时区。

尝试这个：

```
date_default_timezone_set ('Asia/Phnom_Penh');
$date = date('m/d/Y H:i',time()); 
```

或者，如果您想本地化日期并让 Passbook 将其识别为日期字符串，请使用：

```
$date = date('c',time()); 
```

然后在你的 pass.json 中：

```
"secondaryFields" : [
    { "label":"Register Date",
      "value":"' . $date '",
      "dateStyle":"PKDateStyleMedium",
      "timeStyle":"PKDateStyleMedium"
    }, // etc.. 
```

# google-chrome - 在 Chrome 中打印 Google Apps 脚本模板

> ID：16183357
> 
> 赞同：2
> 
> 时间：2013-04-24T04:25:32.497
> 
> 标签：google-chrome, google-apps-script

我有一个提交给 Google Apps 脚本进行处理的表单。如果数据是可接受的，则会生成一个确认页面并显示给用户：

```
function doGet() {
  var conf = HtmlService.createTemplateFromFile('Confirmation.html');
  return conf.evaluate();
} 
```

如果我尝试使用 Chrome 26 的打印对话框打印此页面，我会在纸上和预览中得到一个带有页眉和页脚的空白页。但是，它使用系统的打印对话框在 Chrome 中打印良好，并且在 Firefox 20 和 IE 9 中没有问题。

知道除了指示 Chrome 用户使用系统对话框打印之外，我还能做些什么来解决这个问题吗？

——戴夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-25T17:03:48.477

GAS 功能位于 iframe 内部，这似乎破坏了 Chrome/Safari (webkit) 浏览器的打印。对于内部应用程序，您可以为人们提供一个允许打印的 chrome 小书签。

```
javascript:document.body.innerHTML=window.frames[0].document.body.innerHTML; setTimeout(window.print, 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-16T00:00:04.043

随机猜测。将其包装在`<pre>`标签中以去除任何样式或代码解释？

# c++ - 在 select() 中区分超时与 STDIN

> ID：16183363
> 
> 赞同：0
> 
> 时间：2013-04-24T04:26:31.217
> 
> 标签：c++, linux, sockets

我正在编写一个程序，它将接收消息、接收用户输入（STDIN）并将定期消息发送到其他服务器。所以我在我的程序中使用了**select() 。**下面是伪代码：

```
// master is the fd set
FD_SET(0, &master); // add STDIN into master set
FD_SET(listener, &master); // listener is the listening UDP socket
int indicator = select(...args...);

// have data coming in
if(indicator > 0 ){
    // do something
}
// user input some data
else if(indicator == 0){
    // do something if user input data
}
//Here is the question. How can I differentiate STDIN from timeout?
else if(){
    // do something if timeout occurred
} 
```

我想知道有没有办法将超时与 STDIN 区分开来，因为在这种情况下两者都会使 select() 返回 0？

# windows - 在 Windows 应用程序的命令提示符上显示错误字符串或代码

> ID：16183364
> 
> 赞同：0
> 
> 时间：2013-04-24T04:26:37.377
> 
> 标签：windows, mfc, visual-c++

我正在开发一个支持 GUI 和非 GUI 执行的 VC++ Windows 应用程序。非基于 GUI 的执行是为脚本目的而设计的。现在，如果我在 GUI 模式下执行该应用程序，我可以在出现错误或异常时显示消息框以供用户确认。但是，如果应用程序以静默模式执行，那么我想在命令提示符下显示一些错误消息，该怎么做？我试过 AllocConsole(...) 但它会弹出另一个窗口。我想避免这种情况。我的用例如下 -

```
CMD> myapplication.exe -silent
CMD> Error XXXX: Application message. 
```

此处错误消息应显示在同一提示上，而不是 AllocConsole(...) 弹出的控制台上。

有什么帮助或想法吗？

谢谢， 奥姆基

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:47:43.150

这不是控制台应用程序，因此当控制台运行时，它会为 Windows 应用程序生成另一个进程，该进程不会将其标准输出映射到控制台，因为控制台会在应用程序启动后立即返回（即它不会等待它终止）。

在这种情况下，您可以执行以下操作（kernel32）：

尝试

附加控制台（-1）；

如果你得到它那么它很好

如果不是，则表示您没有从控制台运行，您需要使用

AllocConsole(...);

如果您附加到控制台，这将看起来很奇怪，因为您将能够键入并与控制台交互以在其中运行其他内容，而您的应用程序将向其发送文本。

# dll - 为什么在 MinGW 中编译的 DLL 会崩溃？

> ID：16183369
> 
> 赞同：0
> 
> 时间：2013-04-24T04:27:20.837
> 
> 标签：dll, cygwin, mingw, libstdc++, g++-4.7

我使用 g++ 4.7 在 Cygwin 中编译了一个 DLL。它工作正常。但是当我在 MinGW 中编译相同的代码并尝试使用 DLL 时。它使程序因访问被拒绝 (CX00000005) 错误而崩溃，并将 libstdc++-6.dll 显示为问题 DLL。

任何帮助表示赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:57:31.890

运行应用程序时，您很可能缺少 MinGW dll 或 PATH 中有 cygwin dll。请务必将正确的 dll 复制到与您的 exe 相同的目录中。

# asp.net - 鉴别器列 nhibernate

> ID：16183370
> 
> 赞同：1
> 
> 时间：2013-04-24T04:27:25.550
> 
> 标签：asp.net, nhibernate

我有一个鉴别器列，我需要将其用于选择插入和更新。我需要更新并选择员工类型。我在映射 xml 文件中有以下代码。

```
<discriminator column="EmployeeType" type="String"/>
<property name="EmployeeType" column="EmployeeType" update="false" insert="false"   type="String" /> 
```

请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:42:19.347

不可能做您想做的事情，因为**更改鉴别器值会更改类类型**。

唯一可能的解决方案是：

1.  创建所需类的新实例并从其他类实例复制值。

2.  不要使用继承和鉴别器来存储类型信息。请改用枚举属性。这将允许您即时更改员工的类型。

3.  使用 SQL Update 语句更新鉴别器。

以下是为什么它没有意义的一个例子。假设您有以下课程：

```
public abstract class Animal
{    
    public virtual Guid id { get; set; } 
    public virtual string AnimalType { get; set; }
    ...      
}

public class Dog : Animal
{
    public virtual bool loves_walkies { get; set; }
}

public class Cat : Animal
{
    public virtual bool is_agile { get; set; }
} 
```

有了类似的映射

```
<class name="Earth.Animal">
    ...
    <discriminator column="AnimalType" type="String"/>
    <property name="AnimalType" type="String" />

    <subclass name="Earth.Cat" discriminator-value="Cat">
        <property name="loves_walkies" />
    </subclass>

    <subclass name="Earth.Dog" discriminator-value="Dog">
        <property name="is_agile" />
    </subclass>
</class> 
```

现在，如果 NHibernate 允许您执行以下操作：

```
var dog = session.Get<Dog>(guid);
dog.AnimalType = "Cat";
session.SaveOrUpdate(dog); 
```

结果会是什么？NHibernate 是否`loves_walkies`因为对象是 a 而持久化该属性`Dog`，但看鉴别器说它是一只猫，所以它需要持久化该`is_agile`属性。

为了避免这种混淆，NHibernate 将鉴别器列设为只读。

之前有人问过这个问题，请参阅下面的链接以进一步阅读：

[https://groups.google.com/forum/?fromgroups=#!topic/nhusers/_Qqi4WCu2Bk](https://groups.google.com/forum/?fromgroups=#!topic/nhusers/_Qqi4WCu2Bk)

[NHibernate - 改变子类型](https://stackoverflow.com/questions/478296/nhibernate-changing-sub-types)

# c++ - 当我试图通过我的函数打印我的列表时出现分段错误

> ID：16183375
> 
> 赞同：0
> 
> 时间：2013-04-24T04:28:09.667
> 
> 标签：c++, linked-list

我知道这对 c++ 程序员来说可能是微不足道的，但我是一个试图弄清楚这一点的菜鸟。在我的主要工作中，如果我手动打印我的短列表（cout << head->value 等）它可以工作，但是当我使用我的打印功能时，我会遇到分段错误。我一直在尝试使用调试器，但我对 unix/c++ 不是很擅长，我在试图弄清楚这一点时感到很沮丧。

```
#include <iostream>
using namespace std;

class ListNode
{
    public:
    int value;
    ListNode* next;
};

void insertAtHead(ListNode** head, int value)
{
    ListNode *newNode = new ListNode;
    newNode->value = value;
    if(head == NULL)
    {
        *head = newNode;
        newNode->next = NULL;
    }
    else
    {
        newNode->next = *head;
        *head = newNode;
    }
}

void printList(ListNode* head)
{
    while(head != NULL)
    {
        cout << head->value << "->";
        head = head->next;
    }
}
//inserts after the node with given value
void insertAfterNode(ListNode** head,ListNode** newNode, int value)
{
    ListNode* current = *head;
    while(current != NULL && (current->value != value)) 
    {
            //cout << "Im Here";
            current = current->next;
            cout << current->value;
    }
    (*newNode)->next = current->next;
    current->next = *newNode;
}

int main()
{
    ListNode *head;
    insertAtHead(&head, 5);
    insertAtHead(&head, 10);
    ListNode* newNode = new ListNode;
    newNode->value = 8;
    newNode->next = NULL;
    insertAfterNode(&head,&newNode, 5);
printList(head);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:46:45.087

在您的函数中检查此修改

```
void insertAtHead(ListNode** head, int value)
{
    ListNode *newNode = new ListNode;
    newNode->value = value;

    newNode->next = *head;
    *head = newNode;
}

void printList(const ListNode* head)
{
    while(head != NULL)
    {
        cout << head->value << "->";
        head = head->next;
    }
} 
```

在`insertAtHead`你正在传递一个双指针，所以比较应该是这样的。

添加了在访问之前检查是否`*head`为空。如果`null`将新节点添加为`head`

```
void insertAfterNode(ListNode** head,ListNode** newNode, int value)
{
    ListNode* current = *head;
    if (current  != NULL)
    {
       while(current != NULL && (current->value != value)) 
       {
            //cout << "Im Here";
            current = current->next;
            cout << current->value;
       }
       (*newNode)->next = current->next;
       current->next = *newNode;
    }
    else
    {
      *head = *newNode;
    }
} 
```

`head`并在使用前进行主要初始化

```
int main()
{
    ListNode *head = NULL;
    insertAtHead(&head, 5);
    printList(head); // <== note: by-value, not by address or reference. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:30:46.557

您需要检查您尝试访问的下一个值是否不为 null，如下所示：

```
 void printList(ListNode* head)
    {
        if (head != NULL)
        {
            while(head->next != NULL)
            {
                cout << head->value << "->";
                head = head->next;
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:15:15.233

老哥第一个答案是对的

但我想再做一次更正

在你`while`的函数循环中，在节点之后插入

`current!=NULL`不正确，因为当且仅当列表中的最后一个节点与 5 的值匹配时，您的条件才会为真

条件应该只是`while(current->value!=value)`

这样，您将到达具有价值的节点`5`

# c# - 正则表达式匹配提取

> ID：16183379
> 
> 赞同：1
> 
> 时间：2013-04-24T04:28:30.020
> 
> 标签：c#, regex

我有一些符合格式的文本

```
text ( text + numbers | text + numbers | 2-4 digit number text) 
```

我有兴趣从 C# 中的这个字符串中提取 2-4 位数字。我的正则表达式字符串是

```
.*?\|.*?\|([0-9][0-9][0-9]?[0-9]?) 
```

这会正确返回字符串是否匹配，但我无法仅提取数字。

我试过调用 regex.match(input).Value，但它返回整个输入。

我一定遗漏了一些东西 - 任何帮助表示赞赏:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:34:30.990

您的正则表达式用您想要的值定义了一个`Group`- 内括号。仅使用`Value`Match 对象返回与正则表达式匹配的整个字符串。

使用 regex.Match(input).Groups[1].Value 提取数字。

# c# - 设计一个包含与国家相关的区域列表的 XML 文件

> ID：16183382
> 
> 赞同：0
> 
> 时间：2013-04-24T04:28:44.390
> 
> 标签：c#, xml, telerik, radcombobox

我有一个国家名称和国家代码列表映射到区域名称和区域代码列表，如下所示。

```
 Country and country codes

Country Long name
CA  Canada
US  United States
AF  Afghanistan
AG  Antigua and Barbuda
AI  Anguilla

Country  Region Description
CA  AB  Alberta
CH  AG  Aargau
CL  01  I - Iquique
CN  010 Beijing
CO  05  ANTIOQUIA
CZ  11  Praha
DE  01  Schleswig-Holstein
DK  001 Danish Capital Reg.
ES  01  Alava
FI  001 Ahvenanmaa
FR  01  Ain
GB  AB  Aberdeenshire

Country Region mapping

Country Province

   Canada   Alberta
                British Columbia
                Manitoba
                New Brunswick
                Newfoundland & Labr.
                Nova Scotia
                Northwest Terr.
                Nunavut
                Ontario
                Prince Edward Island
                Quebec
                Saskatchewan
                Yukon Territory
            USA Alaska
                Alabama
                Arkansas
                American Samoa
                Arizona
                California
                Colorado
                Connecticut
                District of Columbia
                Delaware
                Florida
                Georgia
                Guam
                Hawaii
                Iowa
                Idaho
                Illinois
                Indiana
                Kansas
                Kentucky
                Louisiana
                Massachusetts
                Maryland
                Maine
                Michigan
                Minnesota
                Missouri
                Northern Mariana Isl
                Mississippi
                Montana
                North Carolina
                North Dakota
                Nebraska
                New Hampshire
                New Jersey
                New Mexico
                Nevada
                New York
                Ohio
                Oklahoma
                Oregon
                Pennsylvania
                Puerto Rico
                Rhode Island
                South Carolina
                South Dakota
                Tennessee
                Texas
                Utah
                Virginia
                Virgin Islands
                Vermont
                Washington
                Wisconsin
                West Virginia
                Wyoming
                United States 
```

如何设计一个 xml 文件来将这些国家和地区及其关联存储在该 xml 文件中，以便我可以将一些 C# 数据控件绑定到该 xml 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:36:42.443

也许是这样的：

```
<Countries>
    <Country LongName="Canada" ShortName="CA">
        <Provinces>
            <Province Name="Alberta"/>
            <Province Name="Manitoba"/>
        </Provinces>
    </Country>
    <Country LongName="United States"  ShortName="US">
        <Provinces>
            <Province Name="Alaska"/>
            <Province Name="Alabama"/>
        </Provinces>
    </Country>
</Countries> 
```

您将需要一个适当的数据结构来将您的 XML 序列化为。并将数据对象绑定到控件

```
public class Province
{
    public string Name {get;set}
}

public class Country
{
    public string ShortName {get;set}
    public string LongName {get;set}
    public List<Province> Provinces {get;set}
}

public class UIObject
{
    public List<Country> Countries {get;set;}
} 
```

# php - 表格行数据在 Web 上显示两次

> ID：16183385
> 
> 赞同：2
> 
> 时间：2013-04-24T04:28:55.167
> 
> 标签：php, mysql, web-applications, xampp

我正在创建一个在线棒球管理游戏，我在本地 pc 上安装了 xxampp，到目前为止我编写的代码在 localhost 上显示为我喜欢的，但是当我将这些文件传输到网络服务器时，它显示每一行两次有人知道为什么会这样吗？

```
<?php
include("./Lib/Database.php");
$db = new Database(false);
$query_string = "SELECT * FROM player, team WHERE TeamID AND PlayerTeamID ='".$_SESSION['TEAMID']."'";

$db->Query($query_string);
$db->SelectNextResult();
while ($row = $db->SelectNextResult()) {
echo("<DIV class='ComponentMain' align='center'>");
echo("<DIV class='ComponentTitle'>Team Name</DIV>");
echo("<BR><TABLE align='center'>");
{
  echo("<TR bgcolor='#DDDDDD'><TD colspan='6'><A HREF='./Player.php?ID=".$db-   >GetResult("PlayerID")."'><DIV class='PlayerName'>".$db->GetResult("PlayerPrenameValue")." ".$db->GetResult("PlayerNameValue")."</DIV></A></TD><TD align='right'><IMG src='./Gfx/Flags/". $db->GetResult("PlayerNationID").".png'/></TD></TR>");
echo("<TR><TD>    Age:</TD><TD>".$db->GetResult("PlayerAge")."</TD><TD>Potential:</TD><TD>".$db->GetResult("Potential")."</TD><TD>Health:</TD><TD>".$db->GetResult("Health")."</TD></TR>");
echo("<TR><TD colspan='5' align='center'><IMG src='./Gfx/Faces/Face.png'/></TD>");
{
    echo("<TR><TD>Contact:</TD><TD>".$db->GetResult("Contact")."</TD><TD>Power:</TD><TD>".$db->GetResult("Power")."</TD><TD>Vision:</TD><TD>".$db->GetResult("Vision")."</TD></TR>");
    echo("<TR><TD>Fielding:</TD><TD>".$db->GetResult("Fielding")."</TD><TD>Intelligence:</TD><TD>".$db->GetResult("Intelligence")."</TD><TD>Speed:</TD><TD>".$db->GetResult("Speed")."</TD></TR>");
    echo("<TR><TD>Morale:</TD><TD>".$db->GetResult("Morale")."</TD><TD>Pitching Skill:</TD><TD>".$db->GetResult("Skills")."</TD><TD>Velocity:</TD><TD>".$db->GetResult("Velocity")."</TD></TR>");
}
echo("<TR><TD colspan='5' align='center'>------------------------------------</TD></TR>");

}
echo("</TABLE>");
echo("<BR></DIV>");
}
$db->Close();
?> 
```

就 $db 命令而言，这些都不是问题，我认为这可能是我真的不确定，通常当我在其他项目上执行此操作时，我没有问题，但这是一个更大的项目，也是第一个此类项目我已经尝试过它只是相当奇怪，任何建议都将不胜感激，我注意到的另一个奇怪的事情是，在我的这个网站的文件中，我有一个文件定义了 webapp 的一些元素，并且在 xampp 上没有问题，在 webserver 上它需要我关闭文件中的开始 php 标记以接受类站点大声笑所以我不知道它可能是网络服务器吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:53:30.877

您的查询存在问题（我已将其拆分为多行，因此它不会滚动到页面外）：

```
$query_string = "SELECT * FROM player, team " .
  "WHERE TeamID AND PlayerTeamID = '" . $_SESSION['TEAMID'] . "'"; 
```

这是我看到的：

*   将`WHERE TeamID`包括任何`TeamID`不为零的。

*   您正在加入表格`player`，`team`但没有加入条件。这意味着如果你的数据库有两支球队，每个球员都会加倍。如果您的数据库有三支球队，每个球员将增加三倍。等等。

我敢打赌，您的本地数据库有一个团队，而您从 Web 服务器访问的数据库有两个团队。您的查询应该是这样的：

```
$query_string = "SELECT * FROM player, team " .
  "WHERE team.TeamID = player.PlayerTeamID " .
  "  AND player.PlayerTeamID = '" . $_SESSION['TEAMID'] . "'"; 
```

我已经猜到了上面的第二行。替换用于将表格捆绑在一起的列，您会没事的。

或者更好的是，使用 ANSI 连接，因为 (a) 它们是标准的，并且 (b) 它们使您的连接逻辑很清楚。此查询与上面的查询完全相同：

```
$query_string = "SELECT * FROM player " .
  "INNER JOIN team ON team.TeamID = player.PlayerTeamID " .
  "WHERE player.PlayerTeamID = '" . $_SESSION['TEAMID'] . "'"; 
```

您的 PHP 代码也可能存在问题，但如果您先修复查询，您很快就会找到它们。

最后，一个建议：在将查询放入 PHP 代码之前，使用 MySQL Workbench 或 MySQL 命令行来测试您的查询。你会节省很多时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:39:54.567

看来你的括号太多了。

地方：

> ```
> echo("<DIV class='ComponentMain' align='center'>");
> echo("<DIV class='ComponentTitle'>Team Name</DIV>");
> echo("<BR><TABLE align='center'>"); 
> ```

在 while() 语句之前。逻辑是这样的：

> ```
> <table>
> <tr>
> <?php while( $sql = $row ) { ?>
> <tr>
>    <td><?php echo $row->stuff; ?></td>
>    <td><?php echo $row->stuff1; ?></td>>
> </tr>
> <?php } ?>
> </tr>
> </table> 
> ```

希望它有效！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:53:17.860

试试这段代码，你会看到什么

```
include("./Lib/Database.php");
$db = new Database(false);
$query_string = "SELECT * FROM player, team WHERE TeamID AND PlayerTeamID ='".$_SESSION['TEAMID']."'";
$db->Query($query_string);
while ($row = $db->SelectNextResult()) {
$row->PlayerID; // or $row['PlayerID'];  // or $db->GetResult("Contact")
}
$db->Close(); 
```

# java - HTML/Java - 如何将电话输入字段的前 3 个数字限制为特定数字？

> ID：16183389
> 
> 赞同：0
> 
> 时间：2013-04-24T04:29:33.400
> 
> 标签：java, html, input, tel, input-type-file

我尝试在 wordpress 上创建还需要 SMS 电话验证的注册站点。问题是我的网站与巴基斯坦有关。我还想注册来自巴基斯坦的用户。但是短信网关可以向全世界发送短信，所以每个人都可以注册。现在我想要当用户在这个字段中写电话号码时：

```
<input type="tel" name="user_phone" id="user_phone" class="input" value="" size="25"> 
```

前三个数字必须是“923”。要么这个预先写在输入字段中，用户不能更改/删除它们，要么提交用户得到“无效的数字格式，数字必须以 932 开头”的错误。怎么可能？[您可以在http://goo.gl/SSst3](http://goo.gl/SSst3)查看它的示例站点，希望您能理解我想要做什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:36:05.347

使用 javascript 验证：

在表单提交上有验证，它检查这个：

```
var s = $("#phonenumber").val()

if(s.substr(0, 3)) == "923"
{
    form.submit();
}
else
{
    alert("Invalid number format, number must start with 932");
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:37:27.860

创建 2 个输入字段，一个是只读的，另一个是可编辑的。

```
<input type="telprefix" name="user_phone" id="user_phone_pref" class="input" value="932" size="5" tabindex="20" readonly="readonly"/>
<input type="tel" name="user_phone" id="user_phone" class="input" value="" size="20" tabindex="25" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:34:34.687

php 可以做到这一点.. 运行一个 php 脚本。尝试阅读我关于 php 的笔记，他们有很好的例子供你参考

读：

[https://docs.google.com/file/d/0B-C0T_-acxRqamV4Y1pnUnZtenc/edit?usp=sharing](https://docs.google.com/file/d/0B-C0T_-acxRqamV4Y1pnUnZtenc/edit?usp=sharing)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:44:16.373

这听起来如何：

```
function validate(elem)
        {
            var anum=/(^923(\d){10}$)/; //using this regex after the number 923 
                                        // we are allowed to have 10 digits 
            if(anum.test(elem.value) == true)
            {
                elem.style.border="2px solid #0F0"; //green light
            }
            else
            {
                elem.style.border="2px solid #F00"; //red light
            }
        } 
```

在 html 中我们有：

```
<input type="text" id="phone" onchange="validate(this)" /> 
```

# android - 带有文本视图的 Android 表格布局

> ID：16183390
> 
> 赞同：0
> 
> 时间：2013-04-24T04:29:39.457
> 
> 标签：android, android-layout, android-intent, android-widget

我有我的布局文件：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/background"
    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/linearlayout01"
        android:layout_width="300dp"
        android:layout_height="45dp"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="52dp"
        android:orientation="vertical" >
    </LinearLayout>
<Button
    android:id="@+id/Btn"
    android:background="@drawable/close"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="-2dp"
    android:layout_marginTop="10dp">
 </Button>
    <TableLayout
        android:id="@+id/tableLayout1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:shrinkColumns="1"
        android:stretchColumns="0"
        android:layout_marginTop="15dp" >

        <TableRow android:weightSum="2" >

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:text="@string/HostName"
                android:textColor="#000000"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/name"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center_horizontal|center_vertical"
                android:layout_weight="0"
                android:textColor="#000000"
                android:textStyle="bold" />
        </TableRow>
         <TableRow android:weightSum="2"
                    android:layout_marginTop="30dp"
            >

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:text="@string/programname"
                android:textColor="#000000"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/programname"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_weight="0"
                android:textColor="#000000"
                android:textStyle="bold" />
        </TableRow>

        <TableRow android:weightSum="2"
                    android:layout_marginTop="30dp"
            >

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:text="@string/Date"
                android:textColor="#000000"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/date"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_weight="0"
                android:textColor="#000000"
                android:textStyle="bold" />
        </TableRow>

        <TableRow android:layout_marginTop="20dp"
            android:layout_marginLeft="1dp"
            android:layout_marginRight="1dp"

             >

            <SeekBar
                android:id="@+id/seekBar1"
                android:layout_width="500dp"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/mainlayout"
                android:layout_marginLeft="-260dp"
               android:layout_marginRight="0dp"

                android:layout_marginTop="8dp" />
        </TableRow>

    </TableLayout>

</LinearLayout> 
```

我得到以下输出：

![在此处输入图像描述](https://i.stack.imgur.com/Q7WrM.png)

**更新：**

![在此处输入图像描述](https://i.stack.imgur.com/84JKL.jpg)

但我需要的输出应该是：

```
|   HostName:     text123    |

|   PName:        text3      |

|   Date:         text6      | 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T06:25:16.393

字符串，试试这个。我也附上了输出。我没有得到任何不规则的文本对齐，如下图所示。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/linearlayout01"
        android:layout_width="300dp"
        android:layout_height="45dp"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="52dp"
        android:orientation="vertical" >
    </LinearLayout>
<Button
    android:id="@+id/Btn"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="-2dp"
    android:layout_marginTop="10dp"
    android:text="close">
 </Button>
    <TableLayout
        android:id="@+id/tableLayout1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:shrinkColumns="*"  
        android:stretchColumns="*"
        android:layout_marginTop="15dp" >

       <TableRow  
        android:id="@+id/tableRow1"  
        android:layout_height="wrap_content"  
        android:layout_width="match_parent"
        android:weightSum="2">  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="Date"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="text123"  
            android:textStyle="bold"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>

    </TableRow> 
        <TableRow  
        android:id="@+id/tableRow2"  
        android:layout_height="wrap_content"  
        android:layout_width="match_parent"
        android:weightSum="2">  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="Date"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="text123"  
            android:textStyle="bold"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>

    </TableRow> 

     <TableRow  
        android:id="@+id/tableRow3"  
        android:layout_height="wrap_content"  
        android:layout_width="match_parent" 
        android:weightSum="2">  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="Date"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="text123"  
            android:textStyle="bold"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>
        </TableRow>

         <TableRow  
        android:id="@+id/tableRow4"  
        android:layout_height="wrap_content"  
        android:layout_width="match_parent"
        android:weightSum="2">  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="Date"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>  
        <TextView  
            android:id="@+id/TextView04"  
            android:text="text123"  
            android:textStyle="bold"
            android:layout_width="0dp"
            android:layout_weight="1"></TextView>  

    </TableRow> 

      <TableRow  
        android:id="@+id/tableRow5"  
        android:layout_height="wrap_content"  
        android:layout_width="match_parent">

            <SeekBar
                android:id="@+id/seekBar1"
                android:layout_width="500dp"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/mainlayout"
                android:layout_marginLeft="-260dp"
               android:layout_marginRight="0dp"

                android:layout_marginTop="8dp" />
        </TableRow>

    </TableLayout>

</LinearLayout> 
```

**输出：**

![在此处输入图像描述](https://i.stack.imgur.com/Emjfv.png)

如果您有任何问题，请回帖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:49:43.410

```
 <TableRow
           android:layout_width="fill_parent"
           android:layout_height="wrap_content"
           android:layout_marginTop="30dp"
           android:weightSum="2" >

        <TextView
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ellipsize="end"
            android:text="Date"
            android:textColor="#ffffff"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/date"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_weight="1"
            android:text="text123"
            android:textColor="#ffffff"
            android:textStyle="bold" />
    </TableRow> 
```

您必须平等地`android:layout_weight`为两者`TextView`付出。`TableRow`我认为它会解决你的问题

![在此处输入图像描述](https://i.stack.imgur.com/Y4vyS.png)

编辑 ：

我只是在您的 xml 代码中进行简单的修改

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"

    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/linearlayout01"
        android:layout_width="300dp"
        android:layout_height="45dp"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="52dp"
        android:orientation="vertical" >
    </LinearLayout>
<Button
    android:id="@+id/Btn"
    android:background="@drawable/close"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="-2dp"
    android:layout_marginTop="10dp">
 </Button>
    <TableLayout
        android:id="@+id/tableLayout1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:shrinkColumns="1"
        android:stretchColumns="0"
        android:layout_marginTop="15dp" >

        <TableRow android:weightSum="2" >

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:text="HostName"
                android:textColor="#ffffff"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/name"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_gravity="center_horizontal|center_vertical"
                android:layout_weight="1"
                android:text="HostName"
                android:textColor="#ffffff"
                android:textStyle="bold" />
        </TableRow>
         <TableRow android:weightSum="2"
                    android:layout_marginTop="30dp"
            >

            <TextView
               android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:text=" programname"
                android:textColor="#ffffff"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/date"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                 android:text=" programname"
                android:layout_weight="1"
                android:textColor="#ffffff"
                android:textStyle="bold" />
        </TableRow>

        <TableRow android:weightSum="2"
                    android:layout_marginTop="30dp"
            >

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:ellipsize="end"
                android:text=" Date"
                android:textColor="#ffffff"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/date"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                 android:text=" date"
                android:layout_weight="1"
                android:textColor="#ffffff"
                android:textStyle="bold" />
        </TableRow>

        <TableRow android:layout_marginTop="20dp"
            android:layout_marginLeft="1dp"
            android:layout_marginRight="1dp"

             >

            <SeekBar
                android:id="@+id/seekBar1"
                android:layout_width="500dp"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/mainlayout"
                android:layout_marginLeft="-260dp"
               android:layout_marginRight="0dp"

                android:layout_marginTop="8dp" />
        </TableRow>

    </TableLayout>

</LinearLayout> 
```

我修改后的屏幕截图

![在此处输入图像描述](https://i.stack.imgur.com/q71PL.png)

这是你想要的吗？？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T05:05:38.117

最好试试这个..

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout
        android:id="@+id/rows"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">

        <TableLayout
            android:id="@+id/key"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="30dp" >

            <TableRow
                android:id="@+id/row1"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content" >

                <TextView
                    android:id="@+id/text1"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="HName" />

                <TextView
                    android:id="@+id/txt2"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="HostName" />
            </TableRow>

            <TableRow
                android:id="@+id/row2"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="30dp" >

                <TextView
                    android:id="@+id/txt3"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="PName" />

                <TextView
                    android:id="@+id/txt4"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="ProgramName" />
            </TableRow>

            <TableRow
                android:id="@+id/row3"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="30dp" >

                <TextView
                    android:id="@+id/txt5"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="Date" />

                <TextView
                    android:id="@+id/txt6"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:text="Todays Date" />
            </TableRow>

        </TableLayout>
    </LinearLayout>

</RelativeLayout> 
```

# javascript - Jquery/js - 在具有单独 url 的页面之间滑动？

> ID：16183392
> 
> 赞同：1
> 
> 时间：2013-04-24T04:29:52.527
> 
> 标签：javascript, jquery

我想知道是否可以在具有两个不同网址的页面之间滑动（从左到右，反之亦然）。我知道一种流行的滑动形式是使用锚点在它们之间滑动，但是我的代码中有很多不同的宽度 %s 和高度 %s，这使得几乎不可能正确格式化。

我想知道是否有一种方法可以在不使用锚技术的情况下在 Javascript/Jquery 中进行从左到右的滑动？这甚至可能吗？就像有两个不同的 url（例如 index.html 和 page2.html）并在它们之间滑动。

谢谢！

# jquery - TypeError：无法在 jQuery 中将未定义转换为对象

> ID：16183393
> 
> 赞同：0
> 
> 时间：2013-04-24T04:29:54.300
> 
> 标签：jquery, jquery-ui

在我们的项目中，如果我放置

```
 <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script> 
```

然后我收到以下错误

> TypeError：无法在 jQuery 中将未定义转换为对象
> 
> 设置：函数（元素，值）{

请帮我解决这个问题。在此先感谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:12:25.167

[jQuery UI](http://jqueryui.com/)依赖于[jQuery 核心](http://jquery.com/)库，所以在包含 jquery ui 脚本之前需要包含 jquery 脚本。

在您的脚本之前添加以下脚本

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script> 
```

# html - 如何在移动方向更改时重置 Disqus 宽度

> ID：16183397
> 
> 赞同：6
> 
> 时间：2013-04-24T04:30:33.783
> 
> 标签：html, css, mobile, twitter-bootstrap, disqus

我有一个 html 页面，我使用 twitter bootstrap 进行响应式布局，并且我还使用 Disqus 进行评论。当我最初加载页面时，从我的手机（iPhone 5）加载一切正常，Disqus 在它的容器中调整大小（基本上是屏幕的整个宽度）。当我将手机旋转到横向和向后旋转时，响应式设计没有问题，它会调整大小并按照我想要的方式运行。问题是 Disqus iframe 在初始页面加载后不会在我的手机上调整大小。

我想知道是否有一种好方法可以帮助 Disqus 调整其自身的大小。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-05-18T22:10:21.957

在页面调整大小时执行 Disqus 重置；）。[http://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites](http://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites)

这是我的代码：

```
<script type="text/javascript">
  var reset_disqus = function(){
    DISQUS.reset({
      reload: true,
      config: function () {  
        this.page.identifier = '{{ article.url }}';
        this.page.url = '{{ SITEURL }}/#!{{ article.url }}';
        this.page.title = "{{ article.title }}";
      }
    });
  };
  var disqus_shortname = '{{ DISQUS_SITENAME }}';
  var disqus_identifier = '{{ article.url }}';
  var disqus_title = '{{ article.title }}';
  var disqus_url = '{{ SITEURL }}/{{ article.url }}';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  window.onresize = function() { reset_disqus(); };
</script> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-11T20:29:45.090

在这个 Disqus 帮助页面上（也链接到[接受的答案](https://stackoverflow.com/a/16629465/922323)）：

[主页](http://help.disqus.com/)›[开发人员](http://help.disqus.com/customer/portal/topics/107054-developers/articles)›**[在 AJAX 网站上使用 Disqus](http://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites)**

...有这个注释：

> 请参阅 Github 上的 DISQUS API Recipes repo 以获取[示例 DISQUS.reset recipe](https://github.com/disqus/DISQUS-API-Recipes/blob/master/snippets/js/disqus_reset.html)。

在访问了那个 repo 之后，我决定问这个问题：

[disqus](https://github.com/disqus) / [DISQUS-API-Recipes](https://github.com/disqus/DISQUS-API-Recipes) /**[问题 #7：Disqus 在方向改变时调整大小？](https://github.com/disqus/DISQUS-API-Recipes/issues/7)**

这是**我的问题**（在此处发布以使其他人不必点击进入 GitHub）：

> ### 问题：
> 
> 我最近注意到 Disqus 嵌入在我的 iPhone 上在方向更改期间不会调整大小。
> 
> ### 问题：
> 
> 1.  这是预期的行为吗？我假设 Disqus 嵌入应该缩放以适合其容器......这似乎是真的，除了方向变化。
> 2.  如果 Disqus 嵌入不能水平向上/向下缩放以适应容器的方向变化，[那么上面的 Stack 答案](https://stackoverflow.com/a/16629465/922323) *真的*是使 Disqus 嵌入比例适应容器大小以适应方向变化的最佳方法吗？
> 
> 这里有可以帮助我的 API 配方吗？

这是**答案**：

> 这是预期的行为——我们实际上是这样做的，因为 iOS 上的 Safari 在方向更改期间难以正确调整 iframe 的大小，因此这最终是一种更好的体验。
> 
> 这不是可以通过您的集成来控制的，所以我会关闭它。我们将继续评估替代方案，如果我们找到更好的解决方案，肯定会研究它。

## 可能的解决方案：

1.  使用@kafran 提出的[技术](https://stackoverflow.com/a/16629465/922323)`DISQUS.reset()`（以及@MichaelReneer[建议](https://stackoverflow.com/questions/16183397/how-to-reset-disqus-width-on-mobile-orientation-change/16629465#comment23916796_16629465)的事件）。`orientationchange`

2.  只需忍受 Disqus 嵌入在 iOS 上不会在方向更改时调整大小的事实。

3.  使用您的元视口标签语法（见下文）。

* * *

我目前正在使用的解决方法涉及/涉及我改变我`<meta name="viewport" ... >`的这个（传统/标准设置）：

```
<meta name="viewport" content="width=device-width, initial-scale=1"> 
```

...对此：

```
<meta name="viewport" content="width=device-width"> 
```

通过仅使用`width=device-width`，这会使页面在横向更改时缩放，从而避免了 Disqus 嵌入缩放的需要。

[iOS 文档](https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html)说：

> `device-width`：设备的宽度（以像素为单位）。

除了上述之外，我无法从[Apple 文档页面中获得关于**配置视口**](http://developer.apple.com/library/ios/#documentation/AppleApplications/Reference/SafariWebContent/UsingtheViewport/UsingtheViewport.html)的良好报价（我承认，我没有花很多时间搜索 Apple 的网站），但这是一个很好的 StackOverflow 答案把事情做得很好：

[HTML5 样板：元视口和宽度=设备宽度](https://stackoverflow.com/a/13303132/922323)

相关资料：

> 如果您正在专门为 iOS 设计 Web 应用程序，那么推荐的网页大小是 iOS 上可见区域的大小。Apple 建议您将宽度设置为 device-width，以便纵向缩放为 1.0，并且当用户更改为横向时不会调整视口大小。**[IE。视口保留纵向设备宽度，但会缩放或拉伸以适应横向宽度]**

这种解决方案可能并不适合所有人。我碰巧正在做一个项目，我认为缩放增加了网站的功能（见下面的注释），所以我是一个快乐的露营者。

## 笔记 ...

... 关于 iOS 和`initial-scale=1`：

`<My2Cents>`

定义视口`initial-scale=1`后，我一直对在进出纵向/横向（在 iOS 上）时页面如何“跳跃”感到困扰，这让我失去了自己的位置。

当 only`width=device-width`被定义时，页面不会从纵向“跳转”到横向旋转，我会得到一个“更大”的放大视图。

在可用性方面，我更喜欢在旋转我的设备时保持我的位置，而不是在我旋转我的设备之前必须滚动才能找到我正在查看的“肖像模式”内容。

就更大的内容更易于阅读而言，关于放大横向模式还有一些话要说。

最后，旋转手机进行缩放比捏缩放更快/更容易！:)

`</My2Cents>`

# css - css 响应式主题图像中断布局

> ID：16183399
> 
> 赞同：1
> 
> 时间：2013-04-24T04:31:02.547
> 
> 标签：css, image, themes

您好，感谢您的阅读，我正在构建这个网站[http://myspacioclub.com](http://myspacioclub.com)并使用 wordpress 响应式主题，我得到了这张图片“bannerfb”，上面有“banner”类，是客户要求的。因此，在徽标的空间内，我创建了一个新的 div 来放置横幅并将此属性添加到横幅的 div 中：

.banner { `position:relative;` `top:-170px;` `left:450px;` }

但是由于主题是响应式的，当我将窗口缩小到平板电脑或手机的大小时，布局会中断，有人可以帮我吗？如何修复仅在窗口分辨率较大时使用横幅属性的主题，或任何类似的解决方案，但想法是保持横幅具有这些属性而不受较小尺寸的影响。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:58:32.593

您可以通过不同的方式实现此目的，但一种方法如下：首先将您的徽标和横幅包装在一个 div 中

```
<div class="wrap">
    <div class="logo">
        <a href="">
            <img src="http://myspacioclub.com/wp-content/uploads/2013/04/Myspacioclub.png"/>
        </a>
    </div>
    <div class="banner">
        <img src="http://myspacioclub.com/wp-content/uploads/2013/04/bannerfb.jpg"/>
    </div>
</div> 
```

然后添加以下CSS：

```
.wrap {
    position: relative;
    width: 100%;
}
.logo {
    width: 50%;
    float: left;
}
.banner {
    width: 50%;
    float: right;
}
.banner img, .logo img {
    width: 100%;
    height: 100%;
} 
```

您可以[在此处查看工作示例](http://jsfiddle.net/z84mS/)。另外，我必须指出，至少目前您在横幅中使用了超过 7000 像素宽度的图像。这不是你应该做的。你的横幅，至少在我的屏幕上，是 700 像素宽。永远不要使用比您需要的更大的图像。它显示 700px 宽的图像，但您仍然需要加载 7000px 的图像。转换成更小的尺寸！如果大屏幕需要更大的图像，您可以使用 javascript 或 css`@media`标签为不同的屏幕尺寸加载不同的图像。为此，您必须将横幅图像设置为背景而不是背景`<img>`，然后在 CSS 中执行以下操作：

```
@media only screen and (min-width: 35em){
    /* Style adjustments for viewports that meet the condition */
    .banner { background: url(path/to/image); }
} 
```

您可以像这样设置许多步骤。只需添加另一个，更改`min-width`并将不同的图像加载到背景。

因此，在您的页面中，您必须在 CSS 中执行以下操作：

```
@media (min-width: 1320px){
    .span8 { width:1178px; }
}
    .name-logo, .banner { width: 50%; }
    .banner img { width: 100%; height: 100% }
    .name-logo img { width: auto; height: auto; }
    .name-logo { float: left; }
    .banner { float: right; } 
```

响应式布局的技巧是使用百分比值而不是固定像素值，并且尽可能不要使用负边距。

# python - Pygame 写入其他终端？

> ID：16183401
> 
> 赞同：0
> 
> 时间：2013-04-24T04:31:23.980
> 
> 标签：python, pygame

我想知道是否可以将 pygame 代码写入单独的终端，以便您仍然可以执行打印到终端等操作。当 pygame 的显示被初始化时，似乎不可能将任何输入放入终端。有什么办法可以解决这个问题？

我还想知道，如果可能的话，另一个终端可以编辑一个正在运行的 pygame 以更改某些内容吗？

[Github](https://github.com/VectorScalar/characters.git)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:55:15.303

好的，一旦你初始化了 pygame 并在 Commands.py 的 startDisplay() 中启动了你的 pygame 循环，你就基本上将你的 main() 循环留在了 game.py 中。因此，您重复的输入请求将不会再发生。如果您想在 startDisplay() 循环期间调用输入，则需要在此处明确执行。正如我上面所说，这会暂停你的游戏，直到你输入一个命令，这显然不是很好。您可以围绕它构建一些逻辑，并且仅在操作中断期间请求输入，或者实现暂停事件（使用键事件），该事件随后会调用命令提示符。

# eclipse - 创建 jboss-as-helloworld 项目时 eclipse(indigo) 中的 pom.xml 错误

> ID：16183402
> 
> 赞同：2
> 
> 时间：2013-04-24T04:31:31.563
> 
> 标签：eclipse, jakarta-ee, maven, jboss

我在创建 jboss-as-helloworld 项目时遇到问题，它首先给出了快速修复对话框。

```
project build error non-resolvable import POM: failure to transfer org.jboss.spec:jboss-javaee-6.0:pom:3.0.0.beta1 from http:\\repo1.maven2 was cashed in the local repository,resolution will not be reattempted until the update interval of central

Project build error:'dependencies.dependency.version'for javax.enterprise:cdi-api:jar is missing.

Project build error:'dependencies.dependency.version'for org.jboss.spec.javax.annotation:jboss-annotation-api_1.1_spec:jar is missing.

Project build error:'dependencies.dependency.version'for org.jboss.spec.javax.servlet:jboss-servlet-api_3.0_spec:jar is missing. 
```

**它开始运行时会出现此错误..**

```
[INFO] Scanning for projects...

SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".

SLF4J: Defaulting to no-operation (NOP) logger implementation

SLF4J: See http:\\www.slf4j.org/codes.html#StaticLoggerBinder for further details.

Downloading: http:\\repo1.maven.org/maven2/org/jboss/spec/jboss-javaee-6.0/3.0.0.Beta1/jboss-javaee-6.0-3.0.0.Beta1.pom

[ERROR] The build could not read 1 project -> [Help 1]

[ERROR]   

[ERROR]   The project org.jboss.as.quickstarts:jboss-as-helloworld:7.1.1-SNAPSHOT (C:\Users\Heshan\workspace\helloworld\jboss-as-helloworld\pom.xml) has 4 errors

[ERROR]     Non-resolvable import POM: Could not transfer artifact org.jboss.spec:jboss-javaee-6.0:pom:3.0.0.Beta1 from/to central (http://repo1.maven.org/maven2): Connect times out @ line 39, column 22 -> [Help 2]

[ERROR]     'dependencies.dependency.version' for javax.enterprise:cdi-api:jar is missing. @ line 53, column 19

[ERROR]     'dependencies.dependency.version' for org.jboss.spec.javax.annotation:jboss-annotations-api_1.1_spec:jar is missing. @ line 61, column 19

[ERROR]     'dependencies.dependency.version' for org.jboss.spec.javax.servlet:jboss-servlet-api_3.0_spec:jar is missing. @ line 69, column 19

[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.

[ERROR] Re-run Maven using the -X switch to enable full debug logging.

[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:

[ERROR] [Help 1] http:\\cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException

[ERROR] [Help 2] http:\\cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException

[INFO] Scanning for projects...
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".

SLF4J: Defaulting to no-operation (NOP) logger implementation

SLF4J: See http:\\www.slf4j.org/codes.html#StaticLoggerBinder for further details.

Downloading: http:\\repo1.maven.org/maven2/org/jboss/spec/jboss-javaee-6.0/3.0.0.Beta1/jboss-javaee-6.0-3.0.0.Beta1.pom.

[ERROR] The build could not read 1 project -> [Help 1]

[ERROR]   
[ERROR]   The project org.jboss.as.quickstarts:jboss-as-helloworld:7.1.1-SNAPSHOT (C:\Users\Heshan\workspace\helloworld\jboss-as-helloworld\pom.xml) has 4 errors

[ERROR]     Non-resolvable import POM: Could not transfer artifact org.jboss.spec:jboss-javaee-6.0:pom:3.0.0.Beta1 from/to central (http://repo1.maven.org/maven2): Connect times out @ line 39, column 22 -> [Help 2]

[ERROR]     'dependencies.dependency.version' for javax.enterprise:cdi-api:jar is missing. @ line 53, column 19

[ERROR]     'dependencies.dependency.version' for org.jboss.spec.javax.annotation:jboss-annotations-api_1.1_spec:jar is missing. @ line 61, column 19

[ERROR]     'dependencies.dependency.version' for org.jboss.spec.javax.servlet:jboss-servlet-api_3.0_spec:jar is missing. @ line 69, column 19

[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.

[ERROR] Re-run Maven using the -X switch to enable full debug logging.

[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:

[ERROR] [Help 1] http:\\cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException

[ERROR] [Help 2] http:\\cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T06:48:39.980

> 不可解析的导入 POM：无法将工件 org.jboss.spec:jboss-javaee-6.0:pom:3.0.0.Beta1 从/到中央传输（[http://repo1.maven.org/maven2](http://repo1.maven.org/maven2)）：连接超时@ 第 39 行，第 22 列 -> [帮助 2

您与 Maven 中央存储库的连接超时。您有网络连接问题。也许您没有网络连接，或者如果有，您可能需要配置代理。

通过使用[此链接](http://repo1.maven.org/maven2/org/jboss/spec/jboss-javaee-6.0/3.0.0.Beta1/jboss-javaee-6.0-3.0.0.Beta1.pom)，您可以看到文件实际上在那里，因此您应该能够下载它。

# javascript - 窗口关闭时如何更新全局变量？

> ID：16183404
> 
> 赞同：0
> 
> 时间：2013-04-24T04:32:27.567
> 
> 标签：javascript, popup, global-variables

第一次来这里。我正在尝试使用 Javascript 编写具有这些功能的代码。

首先，如果单击链接，并且**没有现有的弹出窗口**，则会创建一个弹出窗口，导航到该链接。

但是，如果单击第二个链接，并且**有一个现有的弹出窗口**，它将运行一些 AJAX 功能。我们不会导航到该链接。

但是，如果单击另一个链接，并且**弹出窗口已关闭**，它将再次打开该窗口（并导航到该链接）。

我能想到的唯一让我解决这个问题的方法是使用全局变量，但是它没有解决。有人可以帮忙吗？谢谢！

这是我的[jsfiddle](http://jsfiddle.net/kding/j9LYL/16/)

的HTML

```
<a href="javascript:;" onclick="javascript:displayWindow=openwindowPreview(1, displayWindow); return false">1</a>
<br/>
<a href="javascript:;" onclick="javascript:displayWindow=openwindowPreview(4, displayWindow); return false">4</a> 
```

Javascript

```
var displayWindow = null;
var test = 'test';

function openwindowPreview(id, winObject) {
    // check if the window already exists
    if (winObject != null) {
        // the window has already been created, but did the user close it?
        // if so, then reopen it. Otherwise make it the active window.
        if (!winObject.closed) {
            winObject.focus();
            return winObject;
        }
    }

    if (test != 'test') {
        if (winObject.closed) {
            test = 'test';
        } else {
            alert('ajax');
        }
    }

    // if we get here, then the window hasn't been created yet, or it
    // was closed by the user.
    if (test == 'test') {
        var urlDisplayID= "file.php?ID=" + id;
        window.open(urlDisplayID, 'width=' + screen.width, 'height=' + screen.height);
        test = 'tested';
    }
} 
```

基本上，一次只允许一个窗口实例，并且只显示第一个实例，而其他实例（不同的 URL — 由于参数）通过 AJAX 发送到服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:31:37.777

在你的情况下，我认为这可能是你的需要。

```
var openWindows = {};

function openwindowPreview(id) {

// if we get here, then the window hasn't been created yet, or it
// was closed by the user.
var urlDisplayID= "file.php?ID=" + id;
//set id as the window name, so if the window already opened,
//the open method will find the opened window with the window name
var opened =  window.open(urlDisplayID, id,'width=' + screen.width, 'height=' + screen.height);
if(opened === openWindows[id]){
    alert("ajax");
}else{
    openWindows[id] = opened();
} 
```

}

# qml - MouseArea 窃取了 QML 元素的鼠标事件

> ID：16183408
> 
> 赞同：16
> 
> 时间：2013-04-24T04:32:46.550
> 
> 标签：qml, mouseevent, mousearea

如果我`MouseArea`在 QML 元素上放置一个，那么`MouseArea`将窃取所有鼠标事件。因此，`TextEdit`将是不可编辑和不可选择的。

```
TextEdit {
    // some properties
    MouseArea {
        // some properties
        onClicked: { /* do something */ }
    }
} 
```

有没有办法解决它？

顺便说一句，如果我把 large`MouseArea`放在另一个上`MouseArea`， large`MouseArea`会窃取所有鼠标事件。我该如何解决？我认为手动传递鼠标事件可以解决这个问题，但是怎么做呢？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2015-04-21T07:27:48.073

如@Torgeirl 的回答所述，您必须启用将`MouseArea`组合事件传播`clicked`到下面的组件。`released`

如果您希望您的`TextEdit`,`Slider`或`CheckBox`接收此类事件，只需通过将其`accepted`属性设置为 来传递事件`false`。

示例代码：

```
RowLayout {
    TextEdit { text: "Hi" }
    Slider {}
    CheckBox { text: "CheckBox"}

    MouseArea {
        anchors.fill: parent
        propagateComposedEvents: true

        onClicked: mouse.accepted = false;
        onPressed: mouse.accepted = false;
        onReleased: mouse.accepted = false;
        onDoubleClicked: mouse.accepted = false;
        onPositionChanged: mouse.accepted = false;
        onPressAndHold: mouse.accepted = false;
    }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-25T18:49:26.080

有一个属性`propagateComposedEvents`允许 a`MouseArea`通过鼠标事件，例如`clicked()`. 您必须`event.accepted = false`在事件处理程序中进行设置。

请参阅文档`MouseArea`和属性`propagateComposedEvents`以获取更多信息和示例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T13:06:45.313

您可以针对您的特定情况尝试这样的事情：

```
Rectangle
{
   MouseArea 
   {
      id: mouseAreaTop
      anchors.fill: parent 
      OnClicked: { /* do something */ }
   }

   TextEdit 
   {
      /* Do whatever  */       
   }
} 
```

请注意，我已按*顺序*排列了这些内容。所有子级的 z 都高于父级。在树中较晚出现的兄弟姐妹具有更高的 z 值。

总体思路是这样的：

1.  定义所有鼠标区域
2.  将它们排列在 z 值上

[在 Qt 文档中](http://harmattan-dev.nokia.com/docs/library/html/qt4/qml-item.html#z-prop)阅读 z 属性，您将能够了解如何排列鼠标区域。

例如：

```
Parent
{
    anchors.fill: parent
    child1
    {
        anchors.fill: parent
        z: 2
    }

    child2
    {
        anchors.fill: parent
        z: 1
    }

    child3
    {
        anchors.fill: parent
        z: 4
    }

    child4
    {
        anchors.fill: parent
        z: 3
    }
} 
```

在此示例中，我通过自己分配 z 值来覆盖自然排序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-08T19:21:22.460

```
 //消息框
                Rectangle {
                    id:msgRectangle
                    width: Math.min(messageText.implicitWidth +14, listView.width -98)
                    height: messageText.implicitHeight + 16
                    color:  send ? "#9dea6a" : "#eeeeee"
                    radius: 3
                    TextEdit {
                        id: messageText
                        text: content
                        wrapMode: TextEdit.Wrap
                        enabled: true
                        readOnly: true
                        selectByKeyboard: true
                        selectByMouse: true
                        selectedTextColor: "white"
                        persistentSelection:true
                        selectionColor: "#3396FF"

                    }
                    MouseArea{
                        id:text_area
                        width: parent.width
                        height: parent.height
                        acceptedButtons: Qt.LeftButton|Qt.RightButton
                        propagateComposedEvents: true
                        onClicked: {
                            if(mouse.button===Qt.LeftButton){
                                mouse.accepted = false;
                            } else {
                                mouse.accepted = true;
                            }

                        }
                        onPressed: {
                            if(mouse.button===Qt.LeftButton){
                                mouse.accepted = false;
                            } else {
                                mouse.accepted = true
                            }
                        }
                        onReleased:{
                            if(mouse.button===Qt.LeftButton){
                                mouse.accepted = false;
                            } else {
                                mouse.accepted = true
                            }
                        }
                        onDoubleClicked:{
                            if(mouse.button===Qt.LeftButton){
                                mouse.accepted = false;
                            } else {
                                mouse.accepted = true
                            }
                        }
                        onPositionChanged:{
                            if(mouse.button===Qt.LeftButton){
                                mouse.accepted = false;
                            } else {
                               mouse.accepted = true
                            }
                        }
                        onPressAndHold:{
                            if(mouse.button===Qt.LeftButton){
                                mouse.accepted = false;
                            } else {
                                mouse.accepted = true
                            }
                        }
                   }
                } 
```

# c++ - 如何将字符串传输到 char*（不是 const char*）

> ID：16183411
> 
> 赞同：0
> 
> 时间：2013-04-24T04:32:55.320
> 
> 标签：c++

我想做类似的事情：

```
string result;
char* a[100];
a[0]=result; 
```

似乎 result.c_str() 必须是 const char*。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T04:39:16.550

您可以获取字符串中第一个字符的地址。

```
a[0] = &result[0]; 
```

这保证在 C++11 中工作。（内部字符串表示必须是连续的，并且像 C 风格的字符串一样以空值结尾）

在 C++03 中这些保证不存在，但所有常见的实现都可以工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:39:30.697

```
string result;
char a[100] = {0};
strncpy(a, result.c_str(), sizeof(a) - 1); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T04:41:58.447

有一个名为“copy”的成员函数（方法）来完成这项工作。

但您需要先创建缓冲区。

像这样

```
string result;
char* a[100];
a[0] = new char[result.length() + 1];
result.copy(a[0], result.length(), 0);
a[0][result.length()] = '\0'; 
```

（参考：[http](http://www.cplusplus.com/reference/string/basic_string/copy/) ://www.cplusplus.com/reference/string/basic_string/copy/ ）

顺便说一句，我想知道你的意思是

```
string result;
char a[100]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:38:27.480

你可以做：

```
char a[100];
::strncpy(a, result.c_str(), 100); 
```

小心空终止。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T04:47:08.310

老套路：

```
#include <string.h>

a[0] = strdup(result.c_str());  // allocates memory for a new string and copies it over
[...]
free(a[0]);  // don't forget this or you leak memory! 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T04:52:23.940

如果你真的、真的无法避免这样做，你不应该抛弃 C++ 提供的所有东西，转而使用原始数组和可怕的函数，例如`strncpy`.

一种合理的可能性是将数据从字符串复制到向量：

```
char const *temp = result.c_str();
std::vector<char> a(temp, temp+result.size()+1); 
```

不过，您通常可以将数据保留在字符串中——如果您需要指向字符串数据的非常量指针，则可以使用`&result[0]`.

# php - 如何让 PHP $_POST 读取 jquery 变量值？

> ID：16183412
> 
> 赞同：0
> 
> 时间：2013-04-24T04:32:58.117
> 
> 标签：php, javascript, jquery, ajax

我能够成功地将多选表单中的所有值获取到一个很好的分隔变量中，但我不知道如何将值获取到我的 PHP 脚本？如何获取 PHP 的 $_POST 数组读取的“输出”值？任何帮助都会。是。惊人的。:D

```
<script type="text/javascript">
function ValidatePageForm() {
    var result = new Array();

    $("#select-to option").each(function() {
        result.push($(this).val());
    });

    var output = result.join("-");  
    alert(output);

}
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:36:59.927

假设你有一个表格

```
<form>
<input type="hidden" name="output" id="output">
....
</form> 
```

将 javascript 变量发送到 HTML

```
var output = result.join("-");  
$('#output').val(output); 
```

当您提交表单时，您将在**$_POST['output']中获取数据**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:37:25.787

我相信您正在寻找类似 echo $_POST['value']; ??

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:48:50.063

您可以使用 Jquery 序列化发布表单的所有数据，包括多选

```
var submit_data = $('#output').serialize();
var post_data = submit_data ;
$.ajax({
    type: "POST",
    url: 'submitform.php',
    data: post_data,
    success: function(data)
    {
    }
}); 
```

您将在 submitform.php 上获得 $_POST 中的所有值

让我知道它对你有用

# apache - htaccess 重定向适用于一级子目录，但如果是子目录则忽略

> ID：16183414
> 
> 赞同：0
> 
> 时间：2013-04-24T04:33:15.130
> 
> 标签：apache, .htaccess, mod-rewrite

我有一个站点有大量反向链接指向目录 /portfolio/ 和其中的子文件夹，我想将它们全部重定向到新目录 /project-portfolio/ 的根目录（因为其中一些旧子目录完全消失了）

问题是我不想重写或重定向另一个 /portfolio/...它位于另一个子目录 /uploads/images/portfolio/ 的更深处

如何编写我的重写规则，使其适用于顶级子目录 /portfolio/ 但忽略另一个？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:28:59.823

在您的文档根目录中，创建一个 htaccess 文件并添加以下内容：

```
RewriteEngine On
RewriteCond %{REQUEST_URI} !^/uploads/images/portfolio
RewriteRule (^|/)portfolio(/|$) /project-portfolio/ [L,R=301] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:48:04.817

```
<Directory /path/to/docroot/folder>
        Options +Indexes
</Directory>
<DirectoryMatch  /path/to/docroot/folder/(.)*/>
        Options -Indexes
</DirectoryMatch> 
```

# php - 从 facebook 和 twitter 朋友那里找到相似度分数的算法？

> ID：16183417
> 
> 赞同：1
> 
> 时间：2013-04-24T04:34:07.337
> 
> 标签：php, algorithm, facebook-graph-api, twitter, similarity

使用 PHP，我从 facebook 和 twitter 获取朋友列表，并将每个列表存储在关联数组中。我有他们的名字和地点。我想根据他们的姓名和位置对来自 fb 和 twitter 的朋友进行比较，并提供相似度分数。

就像我想设置一个大约 0.7 的阈值，如果分数高于一个人的分数，那么这意味着它们代表同一个实体。我使用了php函数similar_text，但它太基础了，几乎每个朋友都有50-60%的匹配度，因为它只是基于名字中的单词。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:07:35.173

您可能需要考虑向量空间模型：将每个名称和位置表示为非常高维空间中的一个维度。将 twitter 表示为一个向量，将 facebook 表示为另一个向量。例如，如果我在 facebook 和 twitter 上都有一个名叫 Mike 的朋友，则“Mike”维度在两个向量中都有一个非零值。通过比较这两个向量之间的角度，我可以计算为相似度得分。较小的角度表示较高的相似度。一个简单的例子：

我的推特朋友：Ada Alan Beth Dana Jon

我的 facebook 好友：Anne Beth Dana Jon

空间包含维度：< Ada, Alan, Anne, Beth, Dana, Jon >

推特向量： **t** = < 1, 1, 0, 1, 1, 1 >

Facebook 向量： **f** = < 0, 0, 1, 1, 1, 1 >

它们之间的角度等于 ArcCos( [ **f** dot **t** ] / [ | **f** | * | **t** | ] )

见[https://en.wikipedia.org/wiki/Vector_space_model](https://en.wikipedia.org/wiki/Vector_space_model)

# asp.net-mvc - 输出缓存覆盖，查询字符串显示 asp.net mvc 中的非缓存版本

> ID：16183420
> 
> 赞同：1
> 
> 时间：2013-04-24T04:34:20.657
> 
> 标签：asp.net-mvc, outputcache

我想显示一个未缓存的页面，但仍然利用 outputcache。假设管理员希望通过在 url 中添加查询字符串 nocache=1 来查看实时更新的页面，那么 outputcache 不会显示缓存的版本，但如果不使用查询字符串，它会显示。我可以这样做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:37:41.493

最好的选择可能是实现一个自定义缓存提供程序，当给定一组参数时，它不会缓存页面。这是一个这样的例子：

[http://www.haneycodes.net/custom-output-caching-with-mvc3-and-net-4-0-done-right/](http://www.haneycodes.net/custom-output-caching-with-mvc3-and-net-4-0-done-right/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:51:44.037

If you create some miscellaneous parameter and configure the output caching to varyByParam, you should be able to call it with different values each time, it should bypass the cache... However I'm not sure this would be the best way to do that. You may want to just create a separate action for the admin to access that is secured.

# c - 如何在不扩展包含的头文件的情况下预编译 C 源文件？

> ID：16183423
> 
> 赞同：3
> 
> 时间：2013-04-24T04:34:33.950
> 
> 标签：c, header, macros, c-preprocessor, preprocessor-directive

我正在使用**C**语言开发一个大型项目，该项目有很多预处理器宏：#ifdef/#if。宏在 makefile 中定义。

为了获得干净的代码，我修改了生成文件以使用“gcc -E”。但是 gcc 预处理器也会扩展包含的头文件，这是我不期望的。

有什么方法可以在不扩展包含的头文件的情况下摆脱#ifdef/#if？我搜索了 GCC 选项，但还没有找到答案。

一个例子：

```
 #include "a.h"
    #ifdef ABC
    func()
    #else
    func(a)
    #endif
    {
    ...
    } 
```

在makefile中，这个源是用-DABC编译的，我正在寻找一种方法来将文件更改为：

```
 #include "a.h"
    func()
    {
    ...
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:57:18.840

如果您只想从代码中删除预处理器条件，您可以使用`unifdef`：

```
unifdef -DFOO header.h 
```

# javascript - 无法访问动态 DOM 元素

> ID：16183426
> 
> 赞同：0
> 
> 时间：2013-04-24T04:34:39.930
> 
> 标签：javascript, jquery, dom

我想我错过了一些东西。即使在文档准备好之后，即使我通过附加动态创建了元素，我不应该访问它们吗？例如，我可以使用 jQuery `.hide()`，但可以访问相同的元素来使用日期选择器。动态测验形式如下。

```
$(document).ready(function() {
    var question_id = 1;
    var answer_id = 1;
    // answer count, where i = question_id;
    var answer_count = new Array();

    // Create Quiz
    $('.create_quiz').click(function() {
        $('.create_quiz').hide();
        $('<div></div>').appendTo('form');
        $('<label>Quiz Name: </label><input type="text"  name="quiz_name">').appendTo('form>div');
        $('<label class="total_pnts">Total Points: </label><input type="text" id="total_points" style="width:05%" name="total_points">').appendTo('form>div');
        $('<label class="date_assig">Date Assigned: </label><input type="text" id="date_assigned" style="width:05%" name="date_assigned">').appendTo('form>div');
        $('<label class="due_dte">Due Date: </label><input type="text" id="due_date" style="width:05%" name="due_date">').appendTo('form>div');
        $('<br/>').appendTo('form>div');
        $('<button type="button" class="add_question">Add Question</button>').appendTo('form>div');
        $('<input type="submit" value="Save Quiz">').appendTo('form');

/* WHAT WRONG WITH $('#due_date').datepicker(); RIGHT HERE
 The DOM is available. I have all my jQuery and plugins correct so
 no need to state any of that kind stuff. */                

    });

    // Add Question Button
    $('form').on('click', '.add_question', function() {

        $('.total_pnts').hide();
        $('#total_points').hide();
        answer_count[question_id] = 0;
        $('.add_question').hide();
        $('<div class="question" id="' + question_id + '"></div>').appendTo('form>div'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:07:29.657

在 js fiddle 上似乎可以正常工作。为了清楚起见，我稍微更改了代码。 [http://jsfiddle.net/8tXPx/](http://jsfiddle.net/8tXPx/) 确保包含正确的 jqueryui js 和 css 文件。

HTML

```
<form>
    <input type="button" class="create_quiz" value="Create Quiz"/>
</form> 
```

jQuery

```
$(function(){
var question_id = 1;
var answer_id = 1;

// answer count, where i = question_id;
var answer_count = new Array();

// Create Quiz
$('.create_quiz').click(function() {
   $('.create_quiz').hide();

   $('<div></div>').appendTo('form');

  var formbody = '<label>Quiz Name: </label><input type="text" name="quiz_name"><label   class="total_pnts"> Total Points: </label><input type="text" id="total_points" style="width:05%" name="total_points"> <label class="date_assig">Date Assigned: </label><input type="text" id="date_assigned" style="width:05%" name="date_assigned"> <label class="due_dte">Due Date: </label><input type="text" id="due_date" style="width:05%" name="due_date"> <br/> <input type="button" class="add_question" value="Add Question">'

   $('form>div').append(formbody);
   $('<input type="submit" value="Save Quiz">').appendTo('form');
   $('#due_date').datepicker();
});

 $('form').on('click', '.add_question', function() {
   $('.total_pnts').hide();
   $('#total_points').hide();
  answer_count[question_id] = 0;
   $('.add_question').hide();
   $('<div class="question" id="' + question_id + '"></div>').appendTo('form>div');
 });

}); 
```

# ms-access - 将 Web 应用程序后端 MS Access 2003 迁移到 MS Access 2010

> ID：16183435
> 
> 赞同：1
> 
> 时间：2013-04-24T04:35:45.310
> 
> 标签：ms-access, windows-server-2003, ms-access-2010, database-migration

我有一个位于 Windows server 2003 -32bit 上的 asp 应用程序，该应用程序的后端是 MS Access 2000。当我将其升级到 MS Access 2010 时，它会抛出错误：“无法识别的数据库格式”我什至尝试升级服务器上的 Access 驱动程序，但是没有运气。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:23:07.740

确保您已[安装 ACE 驱动程序](http://www.microsoft.com/en-us/download/details.aspx?id=13255)。您说您更新了服务器上的 Access 驱动程序，但我不确定您是否实际安装了新的 .accdb 格式所需的驱动程序。

默认情况下，Windows 仅包含 Jet 驱动程序，允许您使用`.mdb`Access 数据库而无需安装任何新内容。

另一方面，新的 2007/2010 Access 格式`'.accdb`需要单独安装驱动程序。

您还需要确保更新到数据库的连接字符串：

```
string constr = @"Provider=Microsoft.ACE.OLEDB.12.0;Mode=16;Data Source=C:\...\mydb.accdb;user id=;password=;"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T06:23:15.330

除了将数据库文件本身从 .mdb 升级到 .accdb 之外，您还需要在服务器上进行两项更改：

1.  您需要下载并安装 Access 数据库引擎，[此处](http://www.microsoft.com/en-US/download/details.aspx?id=13255)提供。

2.  您还需要更新 ASP 应用程序的连接详细信息。对于无 DSN 连接，您必须将连接字符串更新为[此处](http://connectionstrings.com/access-2007)描述的格式之一。例如，必须将 OLEDB 连接字符串更新为`Provider=Microsoft.ACE.OLEDB.12.0;`.

# wordpress - feedwordpress - 我所有的提要都消失了

> ID：16183444
> 
> 赞同：0
> 
> 时间：2013-04-24T04:36:44.057
> 
> 标签：wordpress, plugins, syndication-feed

我在我的网站上使用 feedwordpress 版本 2012.1218 并且有大约 6 个不同的提要我从中联合。出于某种原因，今天我登录了我的 wordpress 网站，我的所有提要都消失了，但我仍在联合所有提要。所以基本上一切仍然有效，但我再也看不到我的提要了。这表明我没有。我在网上能找到的只有这个

[http://wordpress.org/support/topic/plugin-feedwordpress-feeds-are-disappearing?replies=2](http://wordpress.org/support/topic/plugin-feedwordpress-feeds-are-disappearing?replies=2)

但没有帮助。有人使用可能有一些智慧的feedwordpress吗？我已经卸载它并下载了最新版本，但仍然有问题。还建议了一些内存限制问题，所以我添加了

```
define('WP_MEMORY_LIMIT', '64M'); 
```

到我的 wp-config.php 页面的顶部。还是不行……

还有什么我可能会丢失的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-11T01:40:56.400

我在许多网站上使用 Feed Wordpress，最近也遇到了类似的情况（大约 700 个 Feed 消失了！）。在我的情况下，硬盘问题导致了很多服务器崩溃，并且数据库中的 wp_links 表没有正确关闭并被挂起。在桌子上运行修复恢复了我所有的链接。

FWP 将有关提要的信息存储在 wordpress 链接中，因此您可以通过转到仪表板中的链接来检查这是否是相同的情况——在我的情况下，所有链接（每个提要一个）也都消失了。

这是一个进入 phpMyAdmin 并在 wp_links 表上运行修复的问题（实际上最好对所有表运行检查，因为我们的 wp_options 表也崩溃了）。

# intuit-partner-platform - 将 creditmemo 应用于发票 php devkit

> ID：16183446
> 
> 赞同：1
> 
> 时间：2013-04-24T04:37:01.353
> 
> 标签：intuit-partner-platform

我需要能够使用 php devkit 将贷项通知单应用于发票，但我似乎不知道该怎么做。谁能指出我正确的方向？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T12:52:20.097

您可以将贷项凭证与客户或工作相关联。

您在 IDS V2 中看不到 invoice 和 creditmemo 之间的链接。根据 IDS V3 规范 ( [http://developer.intuit.com/fmsv3spec/index.html](http://developer.intuit.com/fmsv3spec/index.html) )，看起来linkedtxn 发布时将可用，并希望显示链接。

IPP 未显示 CreditMemo – Invoice 之间的链接。

您可以提取所有 CreditMemos - [http://docs.developer.intuit.com/0025_Intuit_Anywhere/0050_Data_Services/v2/0500_QuickBooks_Windows/0600_Object_Reference/CreditMemo](http://docs.developer.intuit.com/0025_Intuit_Anywhere/0050_Data_Services/v2/0500_QuickBooks_Windows/0600_Object_Reference/CreditMemo)但它们不会像付款那样将链接的交易显示回发票。

您可以查看贷项通知单是否已支付/使用，或者贷项通知单状态是否为应付，这意味着贷项通知单仍然可用。

另请参阅[https://idnforums.intuit.com/messageview.aspx?catid=86&threadid=18156](https://idnforums.intuit.com/messageview.aspx?catid=86&threadid=18156)

# java - Android：使用 Gson 解析 JSON 文件时出错

> ID：16183450
> 
> 赞同：2
> 
> 时间：2013-04-24T04:37:18.660
> 
> 标签：java, android, json, android-layout, gson

我想记录 JSON 文件中的每个值，但我得到的只是`com.example.parsingapi.JsonParse$SettingElement@40d116c98` 我在这里没有做什么？

JSON：配置.json

```
[
   {
      "tbico": "166-newspaper.png",
      "t": "",
      "sm": [
         {
            "bgFile": "AppsUn_Bg.png",
            "icoSz": "icoSzM",
            "sm": [
               {
                  "st": "f",
                  "t": "Why ",
                  "f": "Why.pdf",
                  "cusico": "Button3D.png"
               },
               {
                  "st": "f",
                  "t": "Why",
                  "tbico": "112-group.png",
                  "f": "Whysome.pdf",
                  "cusico": "Why3D.png"
               },
               {
                  "st": "f",
                  "t": "Why Now?",
                  "f": "Why.pdf",
                  "cusico": "Button3D.png"
               },
               {
                  "t": "",
                  "st": "blnk"
               },
               {
                  "bgFile": "background.png",
                  "icoSz": "icoSzM",
                  "sm": [
                     {
                        "st": "f",
                        "t": "Animal Welfare League",
                        "f": "Page.pdf",
                        "cusico": "Button.png"
                     },
                     {
                        "st": "f",
                        "t": "Bada Bing",
                        "f": "Bing.pdf",
                        "cusico": "Button.png"
                     },
                     {
                        "st": "f",
                        "t": "South",
                        "f": "Page.pdf",
                        "cusico": "Button.png"
                     },
                     {
                        "st": "f",
                        "t": "Actor",
                        "f": "Page.pdf",
                        "cusico": "U_Button.png"
                     },
                     {
                        "st": "f",
                        "t": "Trust",
                        "f": "Kids.pdf",
                        "cusico": "Button.png"
                     },
                     {
                        "st": "f",
                        "t": "ELTEC",
                        "f": "ELTEC.pdf",
                        "cusico": "Button.png"
                     }
                  ],
                  "t": "Examples",
                  "gvNR": 4,
                  "gvHIT": true,
                  "gvNC": 2,
                  "st": "igsm",
                  "cusico": "Examples-button3D.png"
               },
               {
                  "t": "",
                  "st": "blnk"
               },
               {
                  "bgFile": "Default-Portrait~ipad.png",
                  "icoSz": "icoSzL",
                  "sm": [
                     {
                        "fb": "somelink",
                        "t": "Facebook",
                        "wTBL": "wTBLNB",
                        "st": "fb",
                        "cusico": "tab-b-Facebook.png"
                     },
                     {
                        "t": "Tell A Friend",
                        "st": "shrMnuBtn",
                        "cusico": "share-icon.png"
                     },
                     {
                        "st": "blnk"
                     },
                     {
                        "st": "blnk"
                     },
                     {
                        "t": "Email Us",
                        "sndEmlBtn": "me@somelink.com",
                        "st": "sndEmlBtn",
                        "cusico": "tab-b-mail.png"
                     },
                     {
                        "wTBL": "wTBLNB",
                        "t": "Our website",
                        "w": "http://somelink.com",
                        "st": "w",
                        "cusico": "icon-144x144.png"
                     }
                  ],
                  "t": "Contact Us",
                  "gvNR": 3,
                  "gvHIT": false,
                  "gvNC": 2,
                  "st": "igsm",
                  "cusico": "Contact_Us_Button.png"
               },
               {
                  "t": "Login",
                  "st": "selApp",
                  "cusico": "Login_Button.png"
               }
            ],
            "t": "Home",
            "tbico": "53-house.png",
            "gvNR": 4,
            "gvHIT": true,
            "gvNC": 2,
            "st": "igsm"
         },
         {
            "bgFile": "background.png",
            "icoSz": "icoSzM",
            "sm": [
               {
                  "wTBL": "wTBLNB",
                  "t": "My Invoices",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "My_Invoices_Button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "My Emails",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "My_Emails_Button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "My Apps",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "My Details",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "my_details_button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Change Password",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Change_Password.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Order",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Submit Ticket",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button_CP.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Support Tickets",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Support-Ticket_button_DP.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Network Issues",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Network_Issues_Button.png"
               }
            ],
            "t": "Client Portal",
            "tbico": "b40-dialpad.png",
            "gvNR": 3,
            "gvHIT": true,
            "gvNC": 3,
            "st": "igsm"
         },
         {
            "bgFile": "background.png",
            "icoSz": "icoSzM",
            "sm": [
               {
                  "wTBL": "wTBLNB",
                  "t": "Pre-Sales Enquires",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button.png"
               },
               {
                  "st": "blnk"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Knowledgebase",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button_Knowledgebase.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Support Forum",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Submit New Ticket",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Button.png"
               },
               {
                  "wTBL": "wTBLNB",
                  "t": "Support Tickets",
                  "w": "https://www.somelink.com",
                  "st": "w",
                  "cusico": "Support_Tickets.png"
               }
            ],
            "t": "Support",
            "tbico": "08-chat.png",
            "gvNR": 3,
            "gvHIT": true,
            "gvNC": 2,
            "st": "igsm"
         }
      ],
      "st": "tbm"
   }
] 
```

JSONParse 类

```
 //Settings header class
       public class SettingsElement{

           //First Objects 
           String tbico = null;
           String t = null;
           //second arrays object of sm[]
           ArrayList<TableViewMenuSM> sm = null;

           //initzialize first object
           public String getTbico(){
               return tbico;
           }

           public void setTbico(String tbico){
               this.tbico = tbico;
           } 

           public String geT(){
               return t;
           }

           public void setT(String t){
               this.t = t;
           }

           //initzialize and calling array object of sm[0] AS A APP SCREEN LAYOUT
           public ArrayList<TableViewMenuSM>getTableViewDetails(){
               return sm;
           }

           public void setTableViewDetails(ArrayList <TableViewMenuSM> sm){
               this.sm = sm;
           }

       }

       //Settings screen type class
       public class TableViewMenuSM{

           String bgFile = null;
           String icoSz = null;
           String st = null;
           //Sub menu sm element
           ArrayList <SubMenuScreenType> sm = null;

           //Init the first object 
           public String getBgFile(){
               return bgFile;
           }
           public void setBgFile(String bgFile){
               this.bgFile = bgFile;
           }

           public String getIcoSz(){
               return icoSz;
           }
           public void setIcoSz(String icoSz){
               this.icoSz = icoSz;
           }

           public String setSt(){
               return st;
           }
           public void getSt(String st){
               this.st = st;
           }

          //initzialize and calling array object of sm[1] AS A INSIDE SCREEN ELEMENT
           public ArrayList<SubMenuScreenType>getSubMenuScreenType(){
               return sm;
           } 
           public void setSubMenuScreenTypes(ArrayList <SubMenuScreenType> sm){
               this.sm = sm;
           }

       }

       //Settingup inside element of screen type
       public class SubMenuScreenType{

           String st = null;
           String t = null;
           String f = null;
           String cusico = null;
           String bgFile = null;
           String icoSzM = null;
           int gvNR;
           boolean gvHIT; 
           int gvNC;
           String fb = null;
           String wTBL = null;
           String sndEmlBtn = null;
           String w = null;

           //Init the first object 
           public String getSt(){
               return st;
           }
           public void setSt(String st){
               this.st = st;
           }

           public String getT(){
               return t;
           }
           public void setT(String t){
               this.t = t;
           }

           public String getF(){
               return f;
           }
           public void setF(String f){
               this.f = f;
           }

           public String getCusico(){
               return cusico;
           }
           public void setCusico(String cusico){
               this.cusico = cusico;
           }

           public String getBgFile(){
               return bgFile;
           }
           public void setBgFile(String bgFile){
               this.bgFile = bgFile;
           }

           public String getIcoSzm(){
               return icoSzM;
           }
           public void setIcoSzm(String icoSzM){
               this.icoSzM = icoSzM;
           }

           public int getGvnr(){
               return gvNR;
           }
           public void setGvnr(int gvNR){
               this.gvNR = gvNR;
           }

           public boolean getGvhit(){
               return gvHIT;
           }
           public void setGvhit(boolean gvHIT){
               this.gvHIT = gvHIT;
           }

           public int getGvnc(){
               return gvNC;
           }
           public void setGvnc(int gvNC){
               this.gvNC = gvNC;
           }

           public String getFb(){
               return fb;
           }
           public void setFb(String fb){
               this.fb = fb;
           }

           public String getWtbl(){
               return wTBL;
           }
           public void setWtbl(String wTBL){
               this.wTBL = wTBL;
           }

           public String getSendEmailBtn(){
               return sndEmlBtn;
           }
           public void setSendEmailBtn(String sndEmlBtn){
               this.sndEmlBtn = sndEmlBtn;
           }

           public String getW(){
               return w;
           }
           public void setW(String w){
               this.w = w;
           }

       } 
```

Main.java：（调用函数）

```
 Thread dx = new Thread() {
       public void run() {
        try {
            Log.i("RUNNING","Running Main call");
            String jsonLink = readUrl("http://10.0.2.2/"+"json/config.json");
            JsonElement json = new JsonParser().parse(jsonLink);

            JsonArray array = json.getAsJsonArray();
            Iterator iterator = array.iterator();

            while (iterator.hasNext()){
                Log.i("INWHILE LOOP FROM MAIN", "WHILE STARTS");
                JsonElement json2 = (JsonElement) iterator.next();
                Gson gson = new Gson();
                SettingsElement sett = gson.fromJson(json2, SettingsElement.class);

            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        }
      };
            dx.start(); 
```

我如何正确解析这个 config.json？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T09:57:15.900

你为什么使用该代码来解析你的 JSON，而不是使用*通常*的方式，就像你在[另一个问题](https://stackoverflow.com/questions/16181018/looping-nested-arraylist-to-display-values-from-json-using-gson/16188159#16188159)中所做的那样？

使用您拥有的类，我会这样做来解析 JSON：

```
Gson gson = new Gson();
Type settingsElementList Type = new TypeToken<List<SettingsElement>>() {}.getType();
List<SettingsElement> settingsElementList = gson.fromJson(jsonString, listSettingsElementType); 
```

请注意，您不能直接使用您的`SettingsElement`类来解析 JSON，因为您的 JSON 以这些对象的数组开头。你也不能这样做：

```
List<SettingsElement> settingsElementList = gson.fromJson(jsonString, List<SettingsElement>.class); //wrong! 
```

`List<SettingsElement>`前面的代码失败是因为 Java由于[**类型擦除**](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html)而无法知道 的类。

* * *

*编辑*：我编写的代码对我有用，我的意思是，它解析 JSON 响应并将`List<SettingsElement>`数据**存储**在你的 JSON，我认为这是经过深思熟虑的，实际上简化了一切，因为你的 JSON 有点让人头疼；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:52:00.130

尝试：[不包括获取器和设置器]

```
public class TableViewMenuSM{
String bgFile = null;
String icoSz = null;
String st = null;
String t = null;
String f = null;
String cusico = null;
String bgFile = null;
String icoSzM = null;
int gvNR;
boolean gvHIT; 
int gvNC;
String fb = null;
String wTBL = null;
String sndEmlBtn = null;
String w = null;
ArrayList <TableViewMenuSM> sm = null;
} 
```

SubMenuScreenType 不是必需的。

# django - 怎么不叫clean_ 'required = False'字段中的方法？

> ID：16183455
> 
> 赞同：0
> 
> 时间：2013-04-24T04:38:01.873
> 
> 标签：django, python-2.7, django-forms, django-1.4

如何不在 'required=False' 字段中调用 clean_ 方法？

表格.py

```
from django import forms

class userRegistrationForm(forms.Form):
    username = forms.CharField(
        max_length=30,
    )
    password1 = forms.CharField(
        widget=forms.PasswordInput(),
    )

    email = forms.EmailField(  # If user fill this, django will call 'clean_email' method.
        required=False,  # But when user don't fill this, I don't want calling 'clean_email' method.
    )

    def clean_email(self):
        if 'email' in self.cleaned_data:
            try:
                User.objects.get(email=self.cleaned_data['email'])
            except ObjectDoesNotExist:
                return self.cleaned_data['email']
            else:
                raise forms.ValidationError('Wrong Email!') 
```

用户可以填写“电子邮件”，无需填写“电子邮件”字段。

我应该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:45:11.737

如果你有一个`clean_field`，无论你是否填充它都会被调用，因为这是由 django 内部调用的`full_clean`。

如果提供了一些电子邮件，您似乎只想进行自定义验证。所以，你可以这样做：

```
def clean_email(self):
    email = self.cleaned_data['email']
    #If email was provided then only do validation
    if email:
        try:
            User.objects.get(email=self.cleaned_data['email'])
        except ObjectDoesNotExist:
            return email
        else:
            raise forms.ValidationError('Wrong Email!')
    return email 
```

# xml - 自动反转 xsl

> ID：16183456
> 
> 赞同：2
> 
> 时间：2013-04-24T04:38:02.070
> 
> 标签：xml, xslt, code-generation, reverse, inverse

假设我已经编写了一个简单的 xslt，它可以从一条消息转换为另一条消息，有什么方法可以自动生成逆吗？

原始 XSLT

```
 <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
      <xsl:template match="/">
      <hello>
         <xsl:for-each select="/hello/greeting">        
        <H1>
              <xsl:value-of select="."/>
        </H1>
       </xsl:for-each>
       </hello>
      </xsl:template>
    </xsl:stylesheet> 
```

所需的 XSLT

```
 <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:template match="/">
   <hello>
   <xsl:for-each select="/hello/H1">        
      <greeting>
          <xsl:value-of select="."/>
      </greeting>
   </xsl:for-each>
   </hello>
  </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T07:43:26.103

不，没有通用的方法来反转 XSLT。事实上，我想说大多数 XSLT 是不可逆的。但是，可以将上面的示例设计为可以通过更改参数值以正向或反向运行：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:exslt="http://exslt.org/common">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>
  <xsl:param name="direction" select="'forward'" />

  <xsl:variable name="mappingNF">
    <map from="greeting" to="H1" />
    <map from="pleasantry" to="H2" />
  </xsl:variable>
  <xsl:variable name="mapping" select="exslt:node-set($mappingNF)" />

  <xsl:template match="@* | node()" priority="-1" name="Copy">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="*" mode="copy">
    <xsl:call-template name="Copy" />
  </xsl:template>

  <xsl:template match="*">
    <xsl:variable name="mappingItem"
                  select="$mapping/*[$direction = 'forward' and @from = local-name(current()) or
                                 $direction = 'reverse' and @to = local-name(current())]" />

    <xsl:apply-templates select="current()[$mappingItem]" mode="rename">
      <xsl:with-param name="mappingItem" select="$mappingItem" />
    </xsl:apply-templates>
    <xsl:apply-templates select="current()[not($mappingItem)]" mode="copy" />
  </xsl:template>

  <xsl:template match="*" mode="rename">
    <xsl:param name="mappingItem" />

    <xsl:element name="{$mappingItem/@to[$direction = 'forward'] |
                        $mappingItem/@from[$direction = 'reverse']}">
      <xsl:apply-templates select ="@* | node()" />
    </xsl:element>
  </xsl:template>
</xsl:stylesheet> 
```

表示节点名称之间的`mappingNF`对应关系，并且可以根据需要增加任意`map`数量的 s。`direction`通过在“forward”和“reverse”之间改变参数的值，可以来回切换转换的方向。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:25:38.297

对于计算机科学专业的学生来说，也许有一个有趣的练习来确定是否存在一类可逆的 XSLT 转换。这当然意味着转换必须是无损的。最明显的候选者是除了重命名元素之外什么都不做的转换，但即便如此，我认为证明样式表没有将两个不同的输入名称映射到相同的输出名称。所以我认为它最终会成为一个相当小的系列。

在实践中有用的人还需要考虑添加冗余信息的转换，例如 HTML 标头，以及两个输入元素映射到相同输出元素但具有不同属性的转换（比如 div class="X" where X使输入元素名称能够被重构）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T06:00:48.760

我认为没有一种方法可以自动生成反向

但是，如果模板的作用相同，您可以重用当前 XSL 中的大部分内容

在您的示例中，它将是

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:template match="/">
  <hello>
     <xsl:for-each select="/hello/H1 | /hello/greeting">       
    <H1>
          <xsl:value-of select="."/>
    </H1>
   </xsl:for-each>
   </hello>
  </xsl:template>
</xsl:stylesheet> 
```

# c# - 如何以编程方式随机生成游戏对象？

> ID：16183457
> 
> 赞同：1
> 
> 时间：2013-04-24T04:38:08.613
> 
> 标签：c#, unity3d

我想要一些关于以下问题的帮助。我正在制作一个简单的游戏，你有一个角色在奔跑，他必须跳过向他而来的障碍物。

我目前在创建游戏对象并在运行时在游戏场景中随机生成它们时遇到了困难。

我写了一个类来帮助实现这一点：

```
using UnityEngine;
using System.Collections;

public class randomObstacles : MonoBehaviour {

    public GameObject myCube;
    public Vector3 spawnLocation = new Vector3(0,2,0);

    // Use this for initialization
    void Start () {
        GameObject SpawnLocation = (GameObject)Instantiate(myCube, spawnLocation, Quaternion.identity);
    }

    // Update is called once per frame
    void Update () {

    }
} 
```

上面的代码是我为了简单地创建对象而编写的，一个接一个。但是当我运行游戏时，它出现空 -_- ！

谁能告诉我哪里出了问题，从外观上看，我的代码似乎没有达到我希望达到的效果:(

正如我在 Unity 社区论坛的教程中看到的那样，我已将上述脚本附加到一个空的 GameObject 中，但这也无济于事。（我环顾四周，似乎没有人遇到过这样的问题——我可能错了）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T06:22:22.180

似乎您的`myCube`变量是您问题的根源，在我自己的场景中对其进行了测试。通过代入

```
(GameObject)Instantiate(myCube, ... 
```

和

```
(GameObject)Instantiate(GameObject.CreatePrimitive(PrimitiveType.Cube), ... 
```

我能够毫无疑虑地在 (0,2,0) 处生成一个立方体。也许您`myCube`的游戏对象缺少网格渲染器，在这种情况下，它会在运行时出现在层次结构中，即使它在游戏视图中不可见。也许您在运行游戏之前没有在 Inspector 中分​​配它，在这种情况下，`myCube`变量将引用`null`，因此不会被创建。此外，尽管您可能将您实例化的 GameObject 分配给 SpawnLocation，但它是一个未使用的局部变量（MonoDevelop 或您的代码编辑器应该通知您）。确保您提供一个参考`myCube`运行前在 Inspector 中的 GameObject 或在运行时通过脚本引用加载的 prefab/GameObject。提供一个回退（比如，也许是 PrimitiveType.Cube？）也会很有帮助，这将使您的代码更加健壮，并且能够在出现引用错误时处理它们。

无论如何，为了实现你所描述的功能，首先确保你已经准备好你想要的任何东西`myCube`。此外，对于未来的后代，您可能希望`spawnLocation`在`Start`例程中初始化您的，并通过替换您想要生成`Random.value * yourValueCeiling`的每个随机坐标来分配变量坐标。`myCube`您甚至可以将辅助方法外部化，从而独立于启动例程，这样您就不必拥有单个脚本的一百个实例来创建一百个您需要的实例；相反，您可以通过单个脚本调用该方法，这样就省去了麻烦。如果您愿意，这是我对您目标的实现，希望对您有所帮助！

```
using UnityEngine;
using System.Collections;

public class randomObstacles : MonoBehaviour {

    public Vector3 spawnLocation;
    public GameObject myCube;

    // Use this for initialization
    void Start () {
        if (myCube != true) {
            Debug.Log("myCube not set");
            myCube = GameObject.CreatePrimitive(PrimitiveType.Cube);
        }
        if (myCube.renderer.enabled == false) {
            Debug.Log("myCube not rendered");
            myCube = GameObject.CreatePrimitive(PrimitiveType.Cube);
        }
        CreateCube();
    }

    // Update is called once per frame
    void Update () {  
    }

    void CreateCube() {
        spawnLocation = new Vector3(0, Random.value * 10, 0);
        Instantiate(myCube, spawnLocation, Quaternion.identity);
    }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-24T07:04:12.403

可能值得指出的是，您正在`Start`方法中创建对象，这意味着您的代码只会运行一次：根据您的类的名称，我假设您想使用此代码创建多个对象。

如果您将代码移入其中，您将每*帧*`Update`创建一个对象，这很可能太多了。我的猜测是你想要一个像协程这样的东西，它会在一个随机的时间间隔上运行，然后随着时间的推移重复生成多维数据集，就像这样：

 *```
void Start () {
    StartCoroutine("SpawnObjects");
}

IEnumerator SpawnObjects()
{
    while (keepAddingObjects) // a boolean - could just be "true" or could be controlled elsewhere
    {
        GameObject SpawnLocation = (GameObject)Instantiate(myCube, spawnLocation, Quaternion.identity);
        float delay = Random.Range(1f, 5f); // adjust this to set frequency of obstacles
        yield return new WaitForSeconds(delay);
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T04:58:44.570

取自我自己在自动生成迷宫的游戏中的代码：

```
public class Cell
{
    private GameObject instance;

    public void CreateVisual()
    {
        // Load a GameObject that exist inside the "Resources" folder.
        GameObject prefab = (GameObject)Resources.Load("Models/Walls/3W1"); 

        // Create an instance of the prefab
        instance = (GameObject)GameObject.Instantiate(prefab);
        instance.transform.position = myPosition;
    }
} 
```

我认为您缺少的部分是`Resources.Load()`方法。*

# mysql - 为什么我的 ruby 服务器无法在 os x 10.7 的终端中加载

> ID：16183458
> 
> 赞同：0
> 
> 时间：2013-04-24T04:38:08.640
> 
> 标签：mysql, ruby-on-rails, ruby, webrick

我目前正在关注来自 Lynda.com 的关于 Ruby on Rails 要点的在线视频。我是 Web 开发的初学者，正在尝试使用 Rails Web 应用程序框架进行练习。到目前为止，我已经更新了我所有的 gem，安装了 mysql2，并且正在使用默认的 WEBrick 服务器。但是，当我尝试激活我的服务器时，我收到以下消息。

```
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/bundler-1.0.0/lib/bundler/shared_helpers.rb:3: undefined method `source_index' for Gem:Module (NoMethodError)
from /Library/Ruby/Site/1.8/rubygems/core_ext/kernel_require.rb:45:in `gem_original_require'
from /Library/Ruby/Site/1.8/rubygems/core_ext/kernel_require.rb:45:in `require'
from /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/bundler-1.0.0/lib/bundler/setup.rb:1
from /Library/Ruby/Site/1.8/rubygems/core_ext/kernel_require.rb:110:in `gem_original_require'
from /Library/Ruby/Site/1.8/rubygems/core_ext/kernel_require.rb:110:in `require'
from /Users/greghughes/Sites/simple_cms/config/boot.rb:6
from script/rails:5:in `require'
from script/rails:5 
```

我不太确定错误是什么，因为我也只是熟悉 UNIX。如果有人有任何解决方案或建议，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:47:06.640

您可以尝试使用 gem update --system.

# python - 以非常高的质量在 Python 中保存图像

> ID：16183462
> 
> 赞同：147
> 
> 时间：2013-04-24T04:38:27.713
> 
> 标签：python, graphics, matplotlib, save

如何以非常高的质量保存 Python 图？

也就是说，当我不断放大保存在 PDF 文件中的对象时，为什么没有任何模糊？

另外，保存它的最佳模式是什么？

`png`, `eps`? 还是其他？我做不到`pdf`，因为有一个隐藏的数字会导致`Latexmk`编译混乱。

* * *

## 回答 #1

> 赞同：190
> 
> 时间：2013-04-24T04:55:09.613

如果您正在使用[Matplotlib](https://en.wikipedia.org/wiki/Matplotlib)并试图在[LaTeX](https://en.wikipedia.org/wiki/LaTeX)文档中获得好的数字，请另存为[EPS](https://en.wikipedia.org/wiki/Encapsulated_PostScript)。具体来说，在运行命令绘制图像后尝试这样的事情：

```
plt.savefig('destination_path.eps', format='eps') 
```

我发现 EPS 文件效果最好，而`dpi`参数才是真正让它们在文档中看起来不错的原因。

要在保存之前指定图形的方向，只需在调用之前调用以下`plt.savefig`命令，但在创建绘图之后（假设您使用名为 的轴进行绘图`ax`）：

```
ax.view_init(elev=elevation_angle, azim=azimuthal_angle) 
```

其中`elevation_angle`是指定极角（从垂直 z 轴向下）的数字（以度为单位），`azimuthal_angle`指定方位角（围绕 z 轴）。

我发现通过首先绘制图像然后旋转它并观察角度的当前值出现在实际绘图下方的窗口底部，最容易确定这些值。请记住，默认情况下会显示 x、y、z 位置，但是当您开始单击+拖动+旋转图像时，它们会替换为两个角度。

* * *

## 回答 #2

> 赞同：90
> 
> 时间：2014-10-16T10:33:30.393

只是添加我的结果，也使用 Matplotlib。

.eps 使我的所有文字都加粗并删除了透明度。.svg 为我提供了实际上看起来像我的图表的高分辨率图片。

```
import matplotlib.pyplot as plt
fig, ax = plt.subplots()
# Do the plot code
fig.savefig('myimage.svg', format='svg', dpi=1200) 
```

我使用了 1200 dpi，因为许多科学期刊需要 1200 / 600 / 300 dpi 的图像，具体取决于图像的内容。[在GIMP](https://en.wikipedia.org/wiki/GIMP)或[Inkscape](https://en.wikipedia.org/wiki/Inkscape)中转换为所需的 dpi 和格式。

显然 dpi 并不重要，因为 .svg 是矢量图形并且具有“无限分辨率”。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2017-11-20T11:02:37.003

好的，我发现[spencerlyon2 的答案](https://stackoverflow.com/questions/16183462/saving-images-in-python-at-a-very-high-quality/16183647#16183647)有效。但是，如果有人发现自己不知道如何处理那一行，我必须这样做：

```
beingsaved = plt.figure()

# Some scatter plots
plt.scatter(X_1_x, X_1_y)
plt.scatter(X_2_x, X_2_y)

beingsaved.savefig('destination_path.eps', format='eps', dpi=1000) 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2018-11-19T11:03:57.497

如果您使用的是**seaborn**绘图，而不是 Matplotlib，您可以像这样保存 .png 图像：

假设您有一个`matrix`对象（[Pandas](https://en.wikipedia.org/wiki/Pandas_%28software%29)或[NumPy](https://en.wikipedia.org/wiki/NumPy)），并且您想要获取热图：

```
import seaborn as sb

image = sb.heatmap(matrix)   # This gets you the heatmap
image.figure.savefig("C:/Your/Path/ ... /your_image.png")   # This saves it 
```

此代码与最新版本的 Seaborn 兼容。Stack Overflow 周围的其他代码仅适用于以前的版本。

我喜欢的另一种方式是这个。我将下一张图片的大小设置如下：

```
plt.subplots(figsize=(15,15)) 
```

然后稍后我在控制台中绘制输出，我可以从中复制粘贴到我想要的位置。（由于 Seaborn 是建立在 Matplotlib 之上的，所以不会有任何问题。）

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2019-11-06T13:09:03.063

您可以使用以下命令保存到 1920x1080（或 1080p）的图形：

```
fig = plt.figure(figsize=(19.20,10.80)) 
```

你也可以更高或更低。上述解决方案适用于打印，但现在您希望创建的图像进入 PNG/JPG 格式或以宽屏格式显示。

# java - java正则表达式中“\\d+”和“\\d++”的区别

> ID：16183467
> 
> 赞同：10
> 
> 时间：2013-04-24T04:38:51.573
> 
> 标签：java, regex

`"\\d+"`在java中，和有什么区别`"\\d++"`？我知道 ++ 是所有格量词，但是匹配数字字符串有什么区别？什么字符串可以匹配`"\\d+"`但不能用`"\\d++"`？占有量词似乎`".*"`仅对量词有意义。这是真的吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-24T04:45:12.017

占有量词不会后退，即使整体匹配需要一些后退。

因此，例如，正则表达式`\d++0`永远无法匹配任何输入，因为`\d++`将匹配所有数字，包括`0`匹配正则表达式的最后一个符号所需的数字。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T04:42:55.673

**\d+ 表示：**
`\d`表示一个数字（0-9 范围内的字符），`+`表示 1 次或多次。因此，`\d+`是 1 个或多个数字。

**\d++** 来自[量词的意思](http://docs.oracle.com/javase/tutorial/essential/regex/quant.html)

> 这称为所有格量词，它们总是吃掉整个输入字符串，尝试一次（并且仅一次）匹配。与贪婪量词不同，所有格量词从不退缩，即使这样做会使整体匹配成功。

# dynamics-crm-2011 - 如何将大量数据导入 CRM 2011 Online 实体？

> ID：16183468
> 
> 赞同：4
> 
> 时间：2013-04-24T04:38:54.887
> 
> 标签：dynamics-crm-2011, dynamics-crm

我需要将数百万条记录导入 CRM 2011 Online 实体。有什么有效的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T06:45:16.437

使用 CRM 2011 Online，您有不同的方式：

*   使用标准`Import Data Wizard`功能
*   使用 CRM Web 服务获取导入数据的附加功能，更多详细信息请点击此处：[在 Microsoft Dynamics CRM 中导入数据](http://msdn.microsoft.com/en-us/library/gg328321.aspx)
*   使用 CRM Web 服务构建您自己的导入工具，使用新`ExecuteMultipleRequest`的更多详细信息：[使用 ExecuteMultiple 提高批量数据加载的性能](http://msdn.microsoft.com/en-us/library/jj863631.aspx)
*   使用集成软件作为 Scribe

这些方法之间哪一种更有效取决于您的 crm 结构、数据来源、转换的复杂性等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-16T01:01:08.620

We have a CRM migration tool that allows you to import data into CRM, both on-premise and online using the bulk import functionality which CRM provides.

Our product supports multiple table mappings per migration project, defining multiple data sources, and when you are done running your import in development, you can clone the connections into a new environment , for example SIT, UAT or PROD and re-run your import against there when ready. No coding required, so essentially anyone with BA / DB schema knowledge can use this tool to perform migration imports.

[http://www.splsolutions.com.au](http://www.splsolutions.com.au)

Any questions, please feel free to get in touch with us.

cheers, Paul

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T07:53:51.257

还有其他几个用于导入数据的导入工具[SSIS 集成工具包](http://www.kingswaysoft.com/ "SSIS 集成工具包")是一个，[导入管理器](http://www.crmextensions.com/?gclid=CIXp0Z3p4rYCFah8cAodVyUAWg "进口经理")是另一个

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-25T17:22:43.483

本教程可能会有所帮助。它展示了如何使用 SSIS 通过 CRM Web 服务将存储在 SQL 数据库中的数据发送到 MSCRM 4.0。

评论提到了替代选择。

[http://blogs.msdn.com/b/crm/archive/2008/05/07/integrating-crm-using-sql-integration-services-ssis.aspx](http://blogs.msdn.com/b/crm/archive/2008/05/07/integrating-crm-using-sql-integration-services-ssis.aspx)

# android-ndk - Android NDK在函数中获取调用栈信息

> ID：16183480
> 
> 赞同：0
> 
> 时间：2013-04-24T04:40:08.577
> 
> 标签：android-ndk

我正在用本机代码编写一个函数，并想从函数内部了解其他函数调用它的内容，所以我决定`java.lang.Thread.dumpStack`在我的 c 代码中使用，但看起来不起作用。请问有人知道其他可能的方法吗？非常感谢！

下面是代码：

```
JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *vm, void *reserved)
{
    __android_log_print(ANDROID_LOG_INFO, "TIM", "JNI_OnLoad Called");

    JNIEnv *env = NULL;

    if (vm->GetEnv((void **)&env, JNI_VERSION_1_6) != JNI_OK)
    {
            __android_log_print(ANDROID_LOG_INFO, "TIM", "GetEnv Failed");
            return JNI_ERR;
    }

    __android_log_print(ANDROID_LOG_INFO, "TIM", "GetEnv Called");

    // public static void dumpStack ()

    jclass cls2 = env->FindClass("java/lang/Thread");
    if(!cls2)
    {
        __android_log_print(ANDROID_LOG_INFO, "TIM", "FindClass  Failed");
        return JNI_ERR;
    }

    __android_log_print(ANDROID_LOG_INFO, "TIM", "FinClass Called");

    jmethodID mid = env->GetStaticMethodID(cls2, "dumpStack", "()V");
    if(!mid)
    {
        __android_log_print(ANDROID_LOG_INFO, "TIM", "GetStaticMethodID loadLibrary Failed");
        return JNI_ERR;
    }

    __android_log_print(ANDROID_LOG_INFO, "TIM", "GetStaticMethodID Called");

    env->CallStaticVoidMethod(cls2, mid);

    return JNI_VERSION_1_6;
} 
```

这是我得到的错误：

```
04-24 11:44:48.217: D/dalvikvm(4140): Trying to load lib /data/data/com.tim.myjni/lib/libmyjni.so 0x413486d8
04-24 11:44:48.267: D/dalvikvm(4140): Added shared lib /data/data/com.tim.myjni/lib/libmyjni.so 0x413486d8
04-24 11:44:48.267: I/TIM(4140): JNI_OnLoad Called
04-24 11:44:48.277: I/TIM(4140): GetEnv Called
04-24 11:44:48.277: I/TIM(4140): FinClass Called
04-24 11:44:48.277: I/TIM(4140): GetStaticMethodID Called
04-24 11:44:48.287: W/System.err(4140): java.lang.Throwable: stack dump
04-24 11:44:48.348: W/System.err(4140):     at java.lang.Thread.dumpStack(Thread.java:496)
04-24 11:44:48.348: W/System.err(4140):     at java.lang.Runtime.nativeLoad(Native Method)
04-24 11:44:48.377: W/System.err(4140):     at java.lang.Runtime.loadLibrary(Runtime.java:368)
04-24 11:44:48.377: W/System.err(4140):     at java.lang.System.loadLibrary(System.java:535)
04-24 11:44:48.407: W/System.err(4140):     at com.tim.myjni.MainActivity.<clinit>(MainActivity.java:53)
04-24 11:44:48.407: W/System.err(4140):     at java.lang.Class.newInstanceImpl(Native Method)
04-24 11:44:48.417: W/System.err(4140):     at java.lang.Class.newInstance(Class.java:1319)
04-24 11:44:48.417: W/System.err(4140):     at android.app.Instrumentation.newActivity(Instrumentation.java:1023)
04-24 11:44:48.417: W/System.err(4140):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1870)
04-24 11:44:48.417: W/System.err(4140):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
04-24 11:44:48.417: W/System.err(4140):     at android.app.ActivityThread.access$600(ActivityThread.java:122)
04-24 11:44:48.417: W/System.err(4140):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
04-24 11:44:48.447: W/System.err(4140):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-24 11:44:48.447: W/System.err(4140):     at android.os.Looper.loop(Looper.java:137)
04-24 11:44:48.467: W/System.err(4140):     at android.app.ActivityThread.main(ActivityThread.java:4340)
04-24 11:44:48.467: W/System.err(4140):     at java.lang.reflect.Method.invokeNative(Native Method)
04-24 11:44:48.477: W/System.err(4140):     at java.lang.reflect.Method.invoke(Method.java:511)
04-24 11:44:48.477: W/System.err(4140):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
04-24 11:44:48.477: W/System.err(4140):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
04-24 11:44:48.477: W/System.err(4140):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T17:16:00.470

那不是错误，那是堆栈跟踪。它只是碰巧像一个例外一样被打印出来。

线程中的代码是：

```
public static void dumpStack() {
    new Throwable("stack dump").printStackTrace();
} 
```

这就是你在日志中的内容——注意第一行：

`W/System.err(4140): java.lang.Throwable: stack dump`

# javascript - Spring MVC @ResponseBody，JSON，JSP。试图返回列表 从控制器到 JSP

> ID：16183481
> 
> 赞同：0
> 
> 时间：2013-04-24T04:40:29.783
> 
> 标签：javascript, ajax, json, jsp, spring-mvc

我需要从 Spring MVC Controller 类中检索 JSON 数据对象列表，以便使用 Ajax 在 JSP 中显示它。

我编写了返回 JSON 对象列表的 Spring MVC 控制器类。

我无法理解如何在 JSP 中显示这些对象列表。

当我点击 /shop url 时，我可以在浏览器中看到 JSON 数据。

问题在于我无法检索数据的 JSP。这是 index.jsp

```
 <script type="text/javascript">
     function load() {
     $.ajax({
              type: "GET",
              contentType: "application/json",
              dataType: "json",
              url:        "/SpringMVCWithJSON/shop", //url to get list of json data.
              success:    function(msg) {
              var m=msg;
              var json = m ,
              obj = JSON.parse(json);
              for(var i=0;i<obj.length;i++){
              var name= obj[i].name;
          alert(name);
}
     });
    </script> 
```

请建议我如何使用 AJAX 显示从 Spring MVC 控制器到 JSP 的 JSON 对象列表。

先谢谢了。任何建议/更正都会对我有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T06:11:02.077

尝试这个：

```
<script>
function load() {
  $.ajax({
    type: "GET",
    contentType: "application/json",
    dataType: "json",
    url: "/SpringMVCWithJSON/shop",
    success: function(data) {
      for (var i = 0; i < data.length; i++) {
        alert(data[i].name);
      }
    },
    error: function(data){
      alert(data);
    }
  });
}
</script> 
```

您的代码中花括号的关闭似乎存在问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:46:32.103

在您的控制器中：

```
@RequestMapping(value = "/shop", method = RequestMethod.GET, headers = "Accept=application/json")
public List<Object> myJsonReturningMethod{.....} 
```

在您的 javascript 中删除以下行：

```
obj = JSON.parse(json) 
```

# performance - _id 查询 MongoDB $in 的速度

> ID：16183484
> 
> 赞同：1
> 
> 时间：2013-04-24T04:40:52.073
> 
> 标签：performance, mongodb, find, documents

我想要一个包含 1,000 个文档的集合，我通过将 1,000 个唯一 _id 键传递给单个 find() 查询的 $in 运算符来指定它。

这比我运行 1,000 个 find({_id:}) 查询快多少？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T15:04:14.890

像这样的东西应该可以帮助你

```
//create some data (100k documents)
for(i=0; i<=100000; i++){
  db.foo.insert({"_id":i});
}

//generate some ids to search for
var ids = [];
for(i=0; i<=1000; i++){
  ids.push(i);
}

//now let's try the two queries

//#1 - 1000 separate find queries

var timer1Start = new Date().getTime(); //start the stopwatch

ids.forEach(function(i){
  var result = db.foo.find({"_id":i});
});

var timer1End = new Date().getTime(); //stop the stopwatch

//#2 $in query
var timer2Start = new Date().getTime(); //start the stopwatch
var result = db.foo.find({"_id": {$in: ids}});
var timer2End = new Date().getTime(); //stop the stopwatch

print("Function #1 = " + (timer1Start - timer1End));
print("Function #2 = " + (timer2Start - timer2End)); 
```

# jquery - 带有分页的jQuery轮播

> ID：16183487
> 
> 赞同：-2
> 
> 时间：2013-04-24T04:41:04.813
> 
> 标签：jquery, css, carousel

谁能给我看带有分页和“播放”按钮的轮播，带有可自定义的 CSS 和无限数字分页（最多 6 个）？

分页如：

```
 < 1 2 3 ... 90 > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:02:14.297

[http://caroufredsel.dev7studios.com/](http://caroufredsel.dev7studios.com/) - 我认为这主要解决了你的问题。在那之后，只需调整它

# php - 在 Centos 6 中安装 phpMyAdmin

> ID：16183488
> 
> 赞同：0
> 
> 时间：2013-04-24T04:41:11.647
> 
> 标签：php, phpmyadmin, centos6

我在 CentOS 6 上安装 mysql 和 php。在尝试安装 phpMyAdmin 时，我在命令提示符下收到以下错误

**没有可用的包 phpMyAdmin。无事可做** 我正在按照以下教程安装和配置我的服务器。这是我第一次尝试安装和设置我的服务器

[关联](http://www.krizna.com/centos/how-install-phpmyadmin-centos-6/)

请指导我

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-09-04T17:57:31.353

我想要最新版本（4.0.5），而不是 EPEL 中的 3.5 版本，并发现这些信息对我来说非常有用：

```
rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm
yum --enablerepo=remi install phpmyadmin 
```

来自[http://www.if-not-true-then-false.com/2012/install-phpmyadmin-on-fedora-centos-red-hat-rhel/](http://www.if-not-true-then-false.com/2012/install-phpmyadmin-on-fedora-centos-red-hat-rhel/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-11T14:14:48.220

Centos 不附带 Phpmyadmin。但是 phpmyadmin 有非官方的存储库。我建议你安装EPEL。

```
rpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-7.noarch.rpm 
```

或者

```
rpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm 
```

而不是使用 enablerepo 标志安装

```
yum --enabledrepo=epel install phpmyadmin 
```

目前 epel repo 中的 phpmyadmin 包不是最新版本（4.0.3），而是最新的 3.5.x 版本。

一个小警告：不要从 RPMforge repo 安装 phpmyadmin。因为这个 repo 在版本 2 的某个地方。

问题被问到大约两个月后，所以我不希望对原始问题作者有任何用处，但是总是有人访问具有相同问题的旧问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-11-11T17:13:36.693

为了获得我们需要的包，我们必须在我们的系统中添加一个额外的 repo。EPEL repo（企业 Linux 的额外软件包）包含许多额外的软件包，包括我们正在寻找的 phpMyAdmin 软件包。

通过安装一个名为 epel-release 的特殊软件包，您的服务器可以使用 EPEL 存储库。这将重新配置您的存储库列表并让您访问 EPEL 包。

要安装，只需键入：

```
sudo yum install epel-release 
```

现在已经配置了 EPEL 存储库，您可以使用 yum 打包系统安装 phpMyAdmin 包，方法是键入：

```
sudo yum install phpmyadmin 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:47:10.437

您找不到它，因为您需要先将包（myAdmin）添加到您的存储库，更新然后使用 Yum 安装。您需要搜索另一种方法来添加到您的 repo 中，然后更新 ya repo，然后安装 :)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T04:47:36.917

为此，您可以从[此处下载 phpMyAdmin](http://www.phpmyadmin.net/home_page/downloads.php)

下载使用`rpm -ivh packagename.rpm`或按照您的教程后，它不会显示上述错误

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-01-04T14:42:30.207

您可以从这里下载 phpmyadmin： [https ://www.phpmyadmin.net/](https://www.phpmyadmin.net/)

并解压缩并移至 apache 根目录，然后您可以在您的 url 中检查它。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-11-16T15:24:34.967

sudo yum install epel-release

```
 -some version this command not works 
```

要安装 Phymyadmin，有时此命令不起作用

所以使用下面的命令

sudo amazon-linux-extras 安装 epel

# android - 来自 url 的 Radio Streaming Creacast

> ID：16183489
> 
> 赞同：0
> 
> 时间：2013-04-24T04:41:27.043
> 
> 标签：android, android-audiomanager

我的应用程序包含从 url 加载 mp3 格式数据的无线电流功能。我根据以下代码播放直播电台：

```
 public class StreamingMp3Player extends Activity implements OnClickListener, OnTouchListener, OnCompletionListener, OnBufferingUpdateListener{

     private ImageButton buttonPlayPause;
        private SeekBar seekBarProgress;
        public EditText editTextSongURL;
        private MediaPlayer mediaPlayer;
        // this value contains the song duration in milliseconds. Look at getDuration() method in MediaPlayer class
        private int mediaFileLengthInMilliseconds; 

        private final Handler handler = new Handler();

        /** Called when the activity is first created. */
        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);
            initView();
        }

        /** This method initialise all the views in project*/
        private void initView() {
            buttonPlayPause = (ImageButton)findViewById(R.id.ButtonTestPlayPause);
            buttonPlayPause.setOnClickListener(this);

            seekBarProgress = (SeekBar)findViewById(R.id.SeekBarTestPlay);  
            seekBarProgress.setMax(99); // It means 100% .0-99
            seekBarProgress.setOnTouchListener(this);
            editTextSongURL = (EditText)findViewById(R.id.EditTextSongURL);
            editTextSongURL.setText(R.string.testsong_20_sec);

            mediaPlayer = new MediaPlayer();
            mediaPlayer.setOnBufferingUpdateListener(this);
            mediaPlayer.setOnCompletionListener(this);
        }

        /** Method which updates the SeekBar primary progress by current song playing position*/
        private void primarySeekBarProgressUpdater() {
            seekBarProgress.setProgress((int)(((float)mediaPlayer.getCurrentPosition()/mediaFileLengthInMilliseconds)*100)); // This math construction give a percentage of "was playing"/"song length"
            if (mediaPlayer.isPlaying()) {
                Runnable notification = new Runnable() {
                    public void run() {
                        primarySeekBarProgressUpdater();
                    }
                };
                handler.postDelayed(notification,1000);
            }
        }

        @Override
        public void onClick(View v) {
            if(v.getId() == R.id.ButtonTestPlayPause){
                 /** ImageButton onClick event handler. Method which start/pause mediaplayer playing */
                try {
                    mediaPlayer.setDataSource(editTextSongURL.getText().toString()); // setup song from http://www.hrupin.com/wp-content/uploads/mp3/testsong_20_sec.mp3 URL to mediaplayer data source
                    mediaPlayer.prepare(); // you must call this method after setup the datasource in setDataSource method. After calling prepare() the instance of MediaPlayer starts load data from URL to internal buffer. 
                } catch (Exception e) {
                    e.printStackTrace();
                }

                mediaFileLengthInMilliseconds = mediaPlayer.getDuration(); // gets the song length in milliseconds from URL

                if(!mediaPlayer.isPlaying()){
                    mediaPlayer.start();
                    buttonPlayPause.setImageResource(R.drawable.button_pause);
                }else {
                    mediaPlayer.pause();
                    buttonPlayPause.setImageResource(R.drawable.button_play);
                }

                primarySeekBarProgressUpdater();
            }
        }

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            if(v.getId() == R.id.SeekBarTestPlay){
                /** Seekbar onTouch event handler. Method which seeks MediaPlayer to seekBar primary progress position*/
                if(mediaPlayer.isPlaying()){
                    SeekBar sb = (SeekBar)v;
                    int playPositionInMillisecconds = (mediaFileLengthInMilliseconds / 100) * sb.getProgress();
                    mediaPlayer.seekTo(playPositionInMillisecconds);
                }
            }
            return false;
        }

        @Override
        public void onCompletion(MediaPlayer mp) {
             /** MediaPlayer onCompletion event handler. Method which calls then song playing is complete*/
            buttonPlayPause.setImageResource(R.drawable.button_play);
        }

        @Override
        public void onBufferingUpdate(MediaPlayer mp, int percent) {
            /** Method which updates the SeekBar secondary progress by current song loading from URL position*/
            seekBarProgress.setSecondaryProgress(percent);
        }
    } 
```

我的问题是这段代码不适用于大约一小时长度的 mp3 url。有人知道如何播放冗长的 mp3 url

刚刚尝试从答案 1 更新：

```
public class Mp3 extends Activity implements OnClickListener {

    Button button;
    private MediaPlayer mediaPlayer;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.button);

        button = (Button)findViewById(R.id.button1);
        button.setOnClickListener(this);

        mediaPlayer = new MediaPlayer();

    }

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub

        switch(v.getId()){

        case R.id.button1:

            startSound("http://str2.creacast.com:80/pha-michy1");

            break;

        }
    }

    public void startSound(final String URL) {
        button.setText("STOP");
          new Thread() {
            public void run() {
                try {
                    Uri uri = Uri.parse(URL);

                    mediaPlayer = MediaPlayer.create(Mp3.this, uri);
                    mediaPlayer.start();
                    mediaPlayer.setOnCompletionListener(new OnCompletionListener() {
                        @Override
                        public void onCompletion(MediaPlayer arg0) {
                            button.setEnabled(true);
                            button.setText("PLAY");
                        }
                    });
                } catch (Exception e) {

                }
               // myProgressDialog.dismiss();
            }
          }.start();
        }

} 
```

我的日志显示此错误。

```
05-24 09:09:02.652: I/MediaPlayer(1548): uri 
05-24 09:09:02.652: I/MediaPlayer(1548): path is null
05-24 09:09:02.652: D/MediaPlayer(1548): Couldn't open file on client side, trying server side
05-24 09:09:16.707: E/MediaPlayer(1548): error (1, -2147483648)
05-24 09:09:16.707: D/MediaPlayer(1548): create failed:
05-24 09:09:16.707: D/MediaPlayer(1548): java.io.IOException: Prepare failed.: status=0x1
05-24 09:09:16.707: D/MediaPlayer(1548):    at android.media.MediaPlayer.prepare(Native Method)
05-24 09:09:16.707: D/MediaPlayer(1548):    at android.media.MediaPlayer.create(MediaPlayer.java:636)
05-24 09:09:16.707: D/MediaPlayer(1548):    at android.media.MediaPlayer.create(MediaPlayer.java:613)
05-24 09:09:16.707: D/MediaPlayer(1548):    at com.hrupin.streamingmedia.Mp3$1.run(Mp3.java:60) 
```

**强文本**更新：当我尝试您的第二个网址时，我的日志中出现此错误。你能检查一下吗？**强文本**

```
 05-24 09:59:14.398: D/dalvikvm(2228): Debugger has detached; object registry had 1 entries 05-24 09:59:14.582: E/MediaPlayer(2228): start called in state 4 05-24 09:59:14.582: E/MediaPlayer(2228): error (-38, 0) 05-24 09:59:14.585: E/MediaPlayer(2228): Error (-38,0) 05-24 09:59:14.632: E/MediaPlayer(2228): error (1, -1002) 05-24 09:59:14.683: E/MediaPlayer(2228): Error (1,-1002) 05-24 10:00:07.843: I/MediaPlayer(2371): uri is:http://www.usa8-vn.mixstream.net:8138 05-24 10:00:07.843: I/MediaPlayer(2371): path is null 05-24 10:00:07.847: D/MediaPlayer(2371): Couldn't open file on client side, trying server side 05-24 10:00:07.863: E/MediaPlayer(2371): error (1, -1002) 05-24 10:00:07.863: D/MediaPlayer(2371): create failed: 05-24 10:00:07.863: D/MediaPlayer(2371): java.io.IOException: Prepare failed.: status=0x1 05-24 10:00:07.863: D/MediaPlayer(2371): at android.media.MediaPlayer.prepare(Native Method) 05-24 10:00:07.863: D/MediaPlayer(2371): at android.media.MediaPlayer.create(MediaPlayer.java:636) 05-24 10:00:07.863: D/MediaPlayer(2371): at android.media.MediaPlayer.create(MediaPlayer.java:613) 05-24 10:00:07.863: D/MediaPlayer(2371): at com.hrupin.streamingmedia.Mp3$1.run(Mp3.java:68) 05-24 10:00:38.300: I/MediaPlayer(2411): uri is:http://usa8-vn.mixstream.net:8138 05-24 10:00:38.300: I/MediaPlayer(2411): path is null 05-24 10:00:38.300: D/MediaPlayer(2411): Couldn't open file on client side, trying server side 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:49:11.193

试试这个代码，让我知道

```
public void startSound(final String URL) {
  bt.setText("STOP");
  new Thread() {
    public void run() {
        try {
            Uri uri = Uri.parse(URL);

            mp = MediaPlayer.create(PlaySound.this, uri);
            mp.start();
            mp.setOnCompletionListener(new OnCompletionListener() {
                @Override
                public void onCompletion(MediaPlayer arg0) {
                    bt.setEnabled(true);
                    bt.setText("SŁUCHAJ");
                }
            });
        } catch (Exception e) {

        }
        myProgressDialog.dismiss();
    }
  }.start();
} 
```

当我按下后退按钮时：

```
@Override
public void onBackPressed() {
    super.onBackPressed();
            mp.stop();
    }
} 
```

来源从[这里得到](https://stackoverflow.com/a/8354382/1218762)

**也试试这个**

```
 String url = "http://www.songblasts.com/songs/hindi/t/three-idiots/01-Aal_Izz_Well-(SongsBlasts.Com).mp3";
   MediaPlayer mp = new MediaPlayer();
  try {
     mp.setDataSource(url);
     mp.setAudioStreamType(AudioManager.STREAM_MUSIC);
     mp.prepareAsync();
     mp.start();
    }
 catch(Exception e)
     {
         e.printStackTrace();
     } 
```

# java - 如何在jsp文件中调用java类的数组？

> ID：16183493
> 
> 赞同：0
> 
> 时间：2013-04-24T04:42:22.103
> 
> 标签：java, jsp, resultset

您好，我想在 jsp 文件中传递我的两个 ResultSet。我有两个 ResultSet rs 和 rs1。我已将两个 ResultSet 都存储在单个数组中。现在我想在 jsp 文件中打印该数组。所以我可以在网页上显示我的结果。请告诉我应该在 jsp 文件中编写哪些代码。我应该在jsp文件中导入多少文件..请帮助我。

```
 try
        {
        Class.forName("com.mysql.jdbc.Driver");  
            Connection con= (Connection) DriverManager.getConnection("jdbc:mysql://localhost:3306/lportal","root","ubuntu123");   
            PreparedStatement stmt = (PreparedStatement) con.prepareStatement("SELECT * FROM Testi_Testimonial where subject = ?");
            PreparedStatement stmt1 = (PreparedStatement) con.prepareStatement("SELECT * FROM Testi_Testimonial where subject != ?");
            stmt.setString(1,search);
            stmt.execute();
            rs=(ResultSet) stmt.getResultSet();
            stmt1.setString(1,search);
            stmt1.execute();
            rs1=(ResultSet) stmt1.getResultSet();
            while(rs.next())

            {
            count++;
            anArray[i]=rs.getString("subject");
            System.out.println(anArray[i]);
        i++;    
            }

        while(rs1.next())
        {

            anArray[i]=rs1.getString("subject");

            System.out.println(anArray[i]);

            i++;
           }

            }

            catch(Exception e)
        {
            e.printStackTrace();
            System.out.println("problem in connection");
        } 
```

这是我的 Java 代码，其中包含结果集和数组。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:47:43.893

只需根据您的要求（如请求或会话属性）将您的结果集保持在任何范围内：

```
request.setAttribute("resultset", resultset); 
```

现在从您的作用域属性中获取数据（意味着在您的 jsp 页面中获取数组值）

```
<logic:iterate id="item" name="resultset" indexId="idx">
  <tr>
   <td align="center"><bean:write name="idx"/></td>

   <td align="center" ><bean:write name="item" property="eid"/></td>
   <td align="center" ><bean:write name="item" property="fname"/></td>
   <td align="center" ><bean:write name="item" property="lname"/></td>
   <td align="center" ><bean:write name="item" property="designation"/></td>
   <td align="center" ><bean:write name="item" property="email"/></td>
   <td align="center" ><bean:write name="item" property="contact"/></td>
   <td align="center" ><bean:write name="item" property="reqdate"/></td>
   <td align="center" ><bean:write name="item" property="ipaddress"/></td>
   <td align="center" ><html:radio name="item" property="adminchoice"  indexed="true" value="approved" /></td>
   <td align="center" ><html:radio name="item" property="adminchoice"  indexed="true" value="blocked" ></td>
   <td align="center" ><html:radio name="item" property="adminchoice"  indexed="true" value="deleted" /></td>  

  </tr>
  </logic:iterate> 
```

希望它会帮助你......！

# c# - 从主页面打开后子页面隐藏

> ID：16183494
> 
> 赞同：0
> 
> 时间：2013-04-24T04:42:32.137
> 
> 标签：c#, javascript, asp.net, visual-studio-2008, iis

在 ASP.NET Web 应用程序中，有一个主窗口（Default.aspx 或主页）和一个子窗口（一个新的 aspx 页面）。当我在按钮上使用 javascript 打开子页面时，通过指定其 url 使用 window.open() 方法单击。按钮单击事件上的 C# 代码：

```
protected void BtnChildPage_Clicked(object sender, ImageClickEventArgs e)
    {
        System.Text.StringBuilder sb = new System.Text.StringBuilder();
        sb.Append(@"<script language='javascript'>");
        sb.Append(@"OpenChildPage('" + sQueryString + "')");
        sb.Append(@"</script>");

        //register startup script with button
        ScriptManager.RegisterStartupScript(BtnPartMemo, this.GetType(), sScriptName, sb.ToString(), false);
    } 
```

用于打开子页面的 Javascript 代码：

```
var childmWindow;
function OpenChildPage(sQueryString) {

    var width = 655;
    var height = 508;
    var left = (screen.width - width) / 2;
    var top = (screen.height - height) / 2;
    var params = 'width=' + width + ', height=' + height;
    params += ', top=' + top + ', left=' + left;
    params += ', directories=no';
    params += ', location=no';
    params += ', menubar=no';
    params += ', resizable=yes';
    params += ', scrollbars=yes';
    params += ', status=yes';
    params += ', toolbar=no';
    childmWindow = window.open('DirectoryName/ChildPage.aspx' + '?ViewerId=' + sQueryString,
                                'Child Page' + sViewerId, params);
    childmWindow.focus();

} 
```

子窗口不会出现在主窗口的前面。我在调用 window.open() 方法后尝试了 window.focus() 但它在打开后隐藏了子窗口。

仅在使用 Win XP 在 IIS 5.1 中部署应用程序后才会观察到此行为。当我从代码中执行它时，它会相应地运行，但是在 IIS 中部署后，它会在打开后隐藏子窗口。

如何克服这种行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T07:56:50.803

据我了解，您需要在主页前面的小窗口中打开子窗口吗？如果这是正确的，那么这应该会有所帮助：

```
window.open('DirectoryName/ChildPage.aspx','_blank', params); 
```

如果`'_blank'`可以，但由于某种原因你需要“'Child Page' + sViewerId”

```
window.open('DirectoryName/ChildPage.aspx','_blank'+'Child Page' + sViewerId, params); 
```

_blank 应该首先使用，否则它将不起作用（首先想评论它，但由于某种原因我不能，所以我希望它会有所帮助）。

# java - 如何修复错误 YouTubeInitializationResult.SERVICE_INVALID

> ID：16183497
> 
> 赞同：2
> 
> 时间：2013-04-24T04:42:43.460
> 
> 标签：java, android, youtube-api

我尝试在我的 Android 应用程序中使用 Youtube API，我的应用程序看起来像这样：

```
protected void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_main);
  ytpv = (YouTubePlayerView) findViewById(R.id.youtubeplayer);
  ytpv.initialize("this is my key", this);

  et = (EditText) findViewById(R.id.eturl);
  et.setOnEditorActionListener(this);
}

@Override
public void onInitializationFailure(Provider arg0,YouTubeInitializationResult arg1) {
 if(arg1 == YouTubeInitializationResult.DEVELOPER_KEY_INVALID)
     Toast.makeText(this, "Initialization Fail- key invalid", Toast.LENGTH_LONG).show();
 else if(arg1 == YouTubeInitializationResult.SERVICE_INVALID)
     Toast.makeText(this, "Initialization Fail- Service invalid", Toast.LENGTH_LONG).show();
 else if(arg1 == YouTubeInitializationResult.INVALID_APPLICATION_SIGNATURE)
     Toast.makeText(this, "Initialization Fail- invalid application", Toast.LENGTH_LONG).show();
}

@Override
public void onInitializationSuccess(Provider provider, YouTubePlayer player,boolean wasrestored) {
ytp = player;
Toast.makeText(this, "Initialization  Success", Toast.LENGTH_LONG).show();
}

@Override
public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
 if(actionId == EditorInfo.IME_ACTION_GO ){
   if(ytp !=null){
      ytp.loadVideo(et.getText().toString());
   }
 }
 return false;
} 
```

但是当我在我的真实设备上安装时，我收到一个错误：初始化失败-服务无效我不知道要修复这个错误。让我听听你的想法，谢谢：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-14T03:26:58.260

[位于https://developers.google.com/youtube/android/player/](https://developers.google.com/youtube/android/player/)的 Android YouTube API 文档 包括以下说明：

> 注意：用户需要运行 4.2.16 版的移动版 YouTube 应用（或更高版本）才能使用 API。

在我升级测试设备上的 YouTube 应用程序版本之前，我遇到了类似的错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-07-18T16:16:03.653

题外话：如果像我这样的人偶然发现这个线程寻找`SERVICE_DISABLED`错误，当 Youtube 应用程序被禁用时就会发生这种情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-22T15:02:51.130

如果您的时钟设置不正确，它会给出 SERVICE_INVALID 错误。

# ruby-on-rails - Rails 控制器动态更新

> ID：16183499
> 
> 赞同：0
> 
> 时间：2013-04-24T04:42:52.837
> 
> 标签：ruby-on-rails, ruby, database, controller

所以我想做一个rails网站，我想展示人。

我对活跃的人有不同的范围，按团队，按性别等等：

```
scope :alphabetical, order('last_name, first_name')

scope :active, where('active = ?', true)

scope :inactive, where('active =?', false)

scope :female, where('female = ?', true)

scope :male, where('female = ?', false)

scope :for_school, lambda {|id| where("school_id = ?", id)} 
```

但是在网站上显示所有这些人时，我希望有多个下拉列表，其中调用了多个范围。就像我可以在活跃和不活跃之间来回走动，也可以在男性和女性之间来回走动。

So I would start with People.active at first but when male is selected, I want to change it to People.male.active. 然后，如果为学校选择了另一个下拉列表，那么我想做`People.male.active.for_school(x)`.

我对 Rails 很陌生，所以我不知道如何动态更改控制器上的请求。我假设我必须编写一个方法，但该方法看起来非常难懂。有没有可以简化我的任务的宝石？或者我应该怎么做？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:53:04.557

[Ransack](https://github.com/ernie/ransack)之类的东西可能就是您所追求的。

请参阅[洗劫演示](http://ransack-demo.herokuapp.com/)。

# maven - 无法构建 wso2 内核 4.0.6

> ID：16183501
> 
> 赞同：0
> 
> 时间：2013-04-24T04:43:01.270
> 
> 标签：maven, wso2, wso2esb

当我尝试构建 wso2 kernel4.0.6 时，由于以下错误，构建失败：

```
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-

5:attached (2-dist) on project wso2carbon-core: Failed to create assembly: Error adding file to archive: 

\distribution\kernel\4.0.0\..\..\..\core\org.wso2.carbon.core\4.0.0\target\Version.aar isn't a file. -> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T07:50:23.643

您需要查看[https://svn.wso2.org/repos/wso2/carbon/kernel/branches/4.0.0/patch-releases/4.0.6/](https://svn.wso2.org/repos/wso2/carbon/kernel/branches/4.0.0/patch-releases/4.0.6/)位置和构建中的代码。如果您还没有这样做，请使用该 URL 位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:21:31.970

由于`\core\org.wso2.carbon.core\4.0.0\target\Version.aar`maven 正在查找的文件不存在，因此您的构建失败。

# java - 查找属性文件引用的快捷方式

> ID：16183504
> 
> 赞同：1
> 
> 时间：2013-04-24T04:43:29.520
> 
> 标签：java, eclipse

我正在编写一个 java 项目，其中我正在对其中一个属性文件进行更改。我正在使用 eclipse juno 进行开发，现在我想要一个 eclipse 快捷方式，从中我可以知道properites 文件在内部使用了哪些不同的 java 文件。

我知道一种方法是按 ctrl + h 并在文件搜索中键入文件名并在类型中选择 .java 扩展名。我的问题是是否有任何其他快捷方式可以知道在不同的 java 文件中内部调用此属性文件的位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T08:43:16.787

没有这样的内置命令可用于获取属性文件中条目的引用。类型层次结构和“Control + Click”是有效的，因为可以解释 java 源代码以获取实际调用。对于 .property 文件的访问，这并不像访问它们那样简单，例如有多种访问方式。

这就是为什么有时会使用一种模式，其中属性只能由一个 Java 类访问。然后，此类将属性提供为例如静态字段。这样做，编译器可以帮助您获取参考。

# mysql - 分组但仍显示所有数据？

> ID：16183511
> 
> 赞同：0
> 
> 时间：2013-04-24T04:44:11.103
> 
> 标签：mysql, sql, group-by

我想知道如何使用 group by 但仍显示完整数据？我只是想把它分组。

在这里我举一个我的桌子的例子：

![图片](https://i.stack.imgur.com/uA5Cg.png)

这是我的查询：

```
(SELECT dp.menu_paket,d.id_detail,t.no_meja,m.nama_menu,d.jumlah,t.status,t.nama_pegawai
FROM menu m
join detail_paket dp on dp.menu_paket=m.nama_menu
JOIN detail_transaksi d on m.id_menu = d.id_menu
join transaksi t on t.id_transaksi=d.id_transaksi where t.status='progress' and d.status_menu='progress' group by id_detail) 
UNION
(SELECT dp.menu_paket,d.id_detail,t.no_meja,p.nama_paket,d.jumlah,t.status,t.nama_pegawai
FROM paket p
join detail_paket dp on dp.id_paket=p.id_paket
JOIN detail_transaksi d on d.id_paket=p.id_paket
join transaksi t on t.id_transaksi=d.id_transaksi where t.status='progress' and d.status_menu='progress' group by id_detail); 
```

谢谢..！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T07:34:33.963

您可以应用 distinct 来避免相同的多条记录，而不是 group by。因为当有聚合函数时使用 group by 是您的查询。当两行完全相同时，Distinct 检索单行而不是多行。

尝试这个

```
select distinct columnname from table name
union
select distinct columnname1 from table name 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-24T04:48:12.233

我想我看到了两个问题。

1)`GROUP BY`通常在您想要为聚合函数（如`SUM`. 您可能正在寻找`ORDER BY`，它控制行的顺序。您可以指定多个列`ORDER BY`以获得“分组”效果。如果您只希望行在列表中彼此相邻，这就是您想要的。

2) `UNION`，至少在我知道的数据库中，删除重复的行。如果`UNION ALL`要保留所有行，则需要。

**编辑：**

回应发帖人的评论，你肯定想要`ORDER BY`，也许`UNION ALL`。应该是`ORDER BY no_meja, id_transaksi`。试试下面的查询，看看它是否给了你想要的东西：

```
SELECT * FROM
((SELECT dp.menu_paket,d.id_detail,t.no_meja,m.nama_menu,d.jumlah,t.status,t.nama_pegawai
FROM menu m
join detail_paket dp on dp.menu_paket=m.nama_menu
JOIN detail_transaksi d on m.id_menu = d.id_menu
join transaksi t on t.id_transaksi=d.id_transaksi
where t.status='progress' and d.status_menu='progress') 
UNION ALL
(SELECT dp.menu_paket,d.id_detail,t.no_meja,p.nama_paket,d.jumlah,t.status,t.nama_pegawai
FROM paket p
join detail_paket dp on dp.id_paket=p.id_paket
JOIN detail_transaksi d on d.id_paket=p.id_paket
join transaksi t on t.id_transaksi=d.id_transaksi
where t.status='progress' and d.status_menu='progress')) x
ORDER BY x.no_meja, x.id_transaksi; 
```

# javascript - 从子字符串中删除单词

> ID：16183519
> 
> 赞同：0
> 
> 时间：2013-04-24T04:45:27.817
> 
> 标签：javascript, jquery

我有一个看起来像这样的链接列表

*   项目 1
*   项目 2 (foo)
*   第 3 项

如何让 jQuery 从链接文本中删除字符串“(foo)”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:47:11.193

```
$('a:contains(foo)').text(function(_, currentText){
   return currentText.replace('foo', '');
}); 
```

[http://jsfiddle.net/EgHkr/](http://jsfiddle.net/EgHkr/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:33:17.067

另一种选择

```
$('li:nth-child(2)').replaceWith('<li>Item 2</li>'); 
```

# jquery - jQuery DataTables 通过 ajax 加载列和数据

> ID：16183520
> 
> 赞同：1
> 
> 时间：2013-04-24T04:45:31.297
> 
> 标签：jquery, asp.net-mvc, datatables

我正在关注此链接以进行 ajax 调用以动态加载 Jquery 数据表

[http://datatables.net/forums/discussion/3442/x&page=1#Item_10](http://datatables.net/forums/discussion/3442/x&page=1#Item_10)。

在我开始尝试之前，我在这里陷入了我的想法。

那么DataTables如何发送iDisplayLength，iDisplayStart，sEcho等属性来进行分页和显示记录。

我该如何处理？

# 来自链接的示例代码以供快速参考

```
$.ajax( {
        "dataType": 'text',
        "type": "GET",
        "url": "dtJSON.txt",
        "success": function (dataStr) {
            var data = eval( '('+dataStr+')' );
          $('#example').dataTable({
                "aaSorting": [[0, "desc"]],
                "aaData": data.aaData,
                "aoColumns": data.aoColumns,
                "bScrollCollapse": true,
                "bFilter": false,
                "sPaginationType": "full_numbers",
                "bJQueryUI": true,
                "aoColumnDefs": data.aoColumnDefs
          });
        }
    } ); 
```

我可以使用 ajax 获取数据和列详细信息，但是如何处理在 MVC 中发送到控制器的参数？

一些帮助将不胜感激:)

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T09:28:16.940

我的建议是在客户端中使用把手渲染表格，然后应用数据表格：

您将需要一个空表：

```
<table id="mytable">
  <thead>
      <tr>
          <th>Col 1</th>
          <th>Col 2</th>
          <th>Col 3</th>
      </tr>
  </thead>
  <tbody id="table_data_container">
      <!-- Populated by JS -->
  </tbody>
</table> 
```

ajax 请求，不要在服务器端进行分页，数据表将在客户端为您处理，这意味着您不必将当前页面发送到服务器，您只需返回所有可用的行，如果行数真的很高，请尝试强制用户按名称、id 或其他内容进行过滤，然后您可以在 ajax 请求中发送该过滤器。

```
$.ajax({
    type: method,
    url: url,
    async: async,
    data: parameters,
    dataType: dataType,
    success: function(json){
        var container = $('#table_data_container');
        //your response should be an object like { items : [item,item,item,...] }
        var template = '{{#each item}}<tr><td>{{this.col1}}</td><td>{{this.col1}}</td><td>{{this.col1}}</td></tr>{{/each}}' //visit http://handlebarsjs.com/ for info
        RenderJson(json,template,container); //this will generate thehtml for the rows and append it to the table
        $('#mytable').dataTable();
    },
    error: function(response){
        alert('Error!');
    }
}); 
```

还有一个渲染功能：

```
function RenderJson(json,template,container) {
    var compiledTemplate = Handlebars.compile(template);
    var html = compiledTemplate(json);
    $(container).html(''); //remove previous content
    $(container).html(html); //set new content
} 
```

希望能帮助到你 ;）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-20T08:05:38.380

这将帮助您更改`dropdownlist`和提交按钮填充数据表中的数据。

**注意**：这一行将有助于在您处理表单时传递其他控件的值`datatable`。

```
 @using (@Html.BeginForm("action", "controllername", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        <div class="table-responsive">
        <div class="col-sm-12">
            <div class="row">
                <div class="col-md-3">
                    <label>Report type</label>
                </div>
                <div class="col-md-3">

                    @Html.DropDownList("ReportTypeEnum", new SelectList(Enum.GetValues(typeof(appname.Model.ReportTypeEnum))), new {@class = "form-control"})
                </div>
                <div class="col-md-3">
                    <button class="btn btn-primary col-sm-12">Submit</button>
                </div>
in datatable binding model in ajax call as below:

 [ "ajax": {   "url": '@Url.Action("action", "controller")',
                                    'type': 'GET',
                                    "data": function (d) { d.reportType = $('#ReportTypeEnum :selected').text(); } //JSON.stringify({ reportType: varReportTypeEnum })
                                }]

    this code will for controller
dropdown enum: code in model:
 public enum ReportTypeEnum
    {

        Yes,
        No,
        NoResponse          
    }
and below datatable ajax calling method 
     public JsonResult ajaxcallmethod([ModelBinder(typeof(DataTablesBinder))] IDataTablesRequest requestModel, string reportType)// string reportType
            {

                // below is we are taking dropdownchange value based on that we load the data into datatable.
                yourmodel model = new yourmodel ();
                if (reportType.ToLower() == ReportTypeEnum.Yes.ToString().ToLower())
                {
                    model.ReportTypeEnum = ReportTypeEnum.Yes;
                }
                else if (reportType.ToLower() == ReportTypeEnum.No.ToString().ToLower())
                {
                    model.ReportTypeEnum = ReportTypeEnum.No;
                }
                else if (reportType.ToLower() == ReportTypeEnum.NoResponse.ToString().ToLower())
                {
                    model.ReportTypeEnum = ReportTypeEnum.NoResponse;
                }

    data =// here model call 

                return Json(new DataTablesResponse((int)requestModel.Draw, data, transactionsListingResponse.PagerResource.ResultCount, transactionsListingResponse.PagerResource.ResultCount), JsonRequestBehavior.AllowGet);
            } 
```

# java - 扫雷代码的级联显示

> ID：16183521
> 
> 赞同：2
> 
> 时间：2013-04-24T04:45:33.020
> 
> 标签：java, minesweeper

我正在制作一个 Java Mine Sweeper 程序。到目前为止，除了级联和显示之外，一切都很顺利。检查是否有其他没有炸弹的空间的方法是什么。有人可以看看并帮助我吗？任何帮助，将不胜感激。谢谢！

```
public static void RevealCell(int a, int b, int row, int col, char[][] emptyboard, 
                             char [][] aBoard, boolean [][] revealed){

    if( aBoard[a][b] == 'B'){
        revealed[a][b]=true;
        return;
    }

    if (aBoard[a][b] == '1' || aBoard[a][b] == '2'){
        revealed[a][b] = true;
        return;
    }

    if (aBoard[a][b] == '0') {  
        revealed[a][b] = true;
    }
} 
```

# android - 如何在android中使用特殊字符加密字符串？

> ID：16183525
> 
> 赞同：0
> 
> 时间：2013-04-24T04:46:20.410
> 
> 标签：android, javax.crypto

我需要加密用户名和密码并对它们进行编码并通过 SOAP 标头发送。我使用DES算法加密明文`

```
String key = "qwer1234qwetr123wqw";
        String x = "sadgsagd:%%^%ghsagdh";
        byte[] keyBytes = new byte[1024];
        byte[] plaintext = x.getBytes();
        byte[] tdesKeyData = key.getBytes();

    Cipher c3des = Cipher.getInstance("DESede/CBC/PKCS5Padding");
    SecretKeySpec myKey = new SecretKeySpec(tdesKeyData, "DESede");
    IvParameterSpec ivspec = new IvParameterSpec(keyBytes);

    c3des.init(Cipher.ENCRYPT_MODE, myKey, ivspec);
    byte[] cipherText = c3des.doFinal(plaintext);
    int hash = Base64.encode(cipherText).hashCode();

    return Base64.encode(cipherText);` 
```

在运行时我得到一个异常：

> javax.crypto.BadPaddingException：给定

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T04:55:40.533

如果你使用的是字节缓冲区`64`，我可能太长了，把它改成，`32`或者像这样使用`length``file``byte[] buffer = new byte[(int)new File("data").length()];`

这样做后我的问题得到解决..

# eclipse - eclipse编译后不更新输出文件夹

> ID：16183526
> 
> 赞同：1
> 
> 时间：2013-04-24T04:46:23.053
> 
> 标签：eclipse

我在安装了 jrebel 插件的 Eclipse 上有一个 Maven 项目。上周热部署曾经完美运行，但现在只有 xhtml 页面是热部署。当一个 java 类被改变时，它不会热部署。

我注意到的是，当我更改文件并保存时，eclipse 会自动构建它。但是输出文件夹文件不会根据文件戳更新，这就是 jrebel 不选择它的原因。当我运行 maven-install 时，它会编译所有内容并重新加载所有 java 类，这效率不高。

所以主要问题是 Eclipse 新编译的类不会转到输出文件夹（项目/目标/类），即使它是在构建路径中设置的。

任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T08:45:22.133

默认情况下，本地 Maven 存储库的内容会缓存一天。即使下载不佳也会发生这种情况（正如我所经历的那样）。有关如何解决此问题的简短说明，请参阅[https://stackoverflow.com/a/7421893/44089 。](https://stackoverflow.com/a/7421893/44089)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T07:25:31.263

经过几分钟的测试，我发现一个 jar 文件的警告，特别是 guava 被下载为依赖项。我已经在 repo 中删除以重新下载，之后 jrebel 再次工作。

所以问题是一个损坏的 jar，即使只更改了一个文件，它也会导致所有内容都被重建。但奇怪的是没有损坏的文件错误。

# javascript - onclick 属性是否捕获中间点击？

> ID：16183527
> 
> 赞同：1
> 
> 时间：2013-04-24T04:46:23.473
> 
> 标签：javascript, html

我知道您可以使用事件侦听器来实现这一点，但是是否可以使用 HTML 中的 onclick 属性捕获中间点击？

例如：

```
<span onclick="alert('hi');">middle click me<span> 
```

[http://jsfiddle.net/cB8Qv/](http://jsfiddle.net/cB8Qv/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T13:29:55.227

中间单击仍然会单击您的系统，所以是的，它确实有效。根据您的系统，这可能会做一些奇怪的事情，例如打开一个新窗口。不确定这如何影响点击。但他们会工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T13:45:30.927

如果你把它放在你的跨度周围而不是使用 onClick 你也可以使用中间点击（在所有浏览器中），但它被称为 bad practice 。

```
<a href="javascript:alert('hi');">
    <span>middle click me</span>
</a> 
```

# optimization - 大线性规划的逼近

> ID：16183528
> 
> 赞同：2
> 
> 时间：2013-04-24T04:46:24.740
> 
> 标签：optimization, linear-programming

我有一个带有线性约束的简单 LP。有很多决策变量，大约 2400 万个。我一直在 R 中使用 lpSolve 来处理小样本，但是这个求解器不能很好地缩放。有没有办法得到 LP 的近似解？

编辑：

问题是调度问题。有 100 万人需要安排到 24 小时之一，因此有 2400 万个决策变量。将人 $i$ 安排到小时 $j$ 有奖励 $R_{ij}$。约束是每个人都需要被安排到某个小时，但每个小时只有有限数量的预约空档 $c$

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T16:24:50.793

处理具有大量变量和约束的 LP/IP 的一种好方法是寻找以某种逻辑方式对决策变量进行分组的方法。由于您只给出了问题的草图，因此这里有一个解决方案的想法。

**方法 1：将人员分成更小的批次**

不要把 100 万人想象成 100 个单位，每个单位有 10000 人。所以现在你只有 2400 (24 x 100) 个变量。这将使您成为其中的一部分，并注意这不是最佳解决方案，而是一个很好的近似值。你当然可以做1000批1000人，得到更细粒度的解决方案。你明白了。

**方法 2：根据成本分组**

看看你的 R_ij 的。大概你没有一百万种不同的成本。通常只有几个独特的成本值。这个想法是将许多具有相同成本结构的人组合成一个“队列”。现在你解决了一个小得多的问题——哪些队列进入了哪个小时。

同样，一旦你有了这个想法，你就可以让它变得非常容易处理。

**更新**基于 OP 的评论：就其本质而言，制作这些组是一种*近似技术*。无法保证会获得最佳解决方案。然而，仔细分组的整个想法（通过查看具有相同或非常相似的成本结构的群组）是为了获得尽可能接近最优的解决方案，而计算工作量要少得多。

*   我还应该补充一点，当缩放时（分组只是缩小问题大小的一种方法），其他常数也应该被缩放。也就是说，c_j 也应该是相同的单位（10K）。
*   如果人 A,B,C 不能适应时间槽 j，那么模型将尽可能多地挤入成本最低的时间槽中，并将其他人移动到成本稍高的其他时间槽，但他们可以容纳。

希望这可以帮助您朝着正确的方向前进。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T16:36:04.697

假设您有很多重复的人，那么您现在使用的变量太多了。

假设你只有 1000 种不同的人，其中一些人出现了 2000 次，而另一些人出现了 500 次。

然后你只需要优化你每小时分配的人的比例。（请注意，您必须通过添加 2000 或 500 作为常数来稍微调整目标函数和约束）

好消息是，这应该为您提供仅包含“几个”变量的最佳解决方案，但根据您的问题，您可能需要对结果进行四舍五入以获得整个人作为结果。

# c# - ReportViewer RDLC - Azure 网站错误 80004005

> ID：16183529
> 
> 赞同：5
> 
> 时间：2013-04-24T04:46:31.960
> 
> 标签：c#, asp.net, azure, ssrs-2008, rdlc

我希望有人可以帮助我。这太痛苦了。我已经花了数天时间在这上面，我的客户变得越来越沮丧。:(

我在 Azure 网站和 SQL Azure 上托管。我正在使用报告程序集的 v.10。在 Azure 之外一切正常（本地主机，没问题）

我在用户控件中的 ASP.NET 中有一个 ReportViewer。ReportViewer 和 RDLC 非常适合显示和导出到 Excel/Word，但是我在 IE 中导出和打印 PDF 时遇到问题。

**打印时：**

> 提示：打印时出错。(0x80004005)

和

> 网页错误详情
> 
> 用户代理：Mozilla/4.0（兼容；MSIE 7.0；Windows NT 6.1；WOW64；Trident/5.0；SLCC2；.NET CLR 2.0.50727；.NET CLR 3.5.30729；.NET CLR 3.0.30729；.NET4.0C； .NET4.0E；InfoPath.3) 时间戳：2013 年 4 月 24 日星期三 03:18:56 UTC
> 
> 消息：未指定的错误。行：1058 字符：13 代码：0 URI： http: [//XXXXXXX.azurewebsites.net/Reserved.ReportViewerWebControl.axd?OpType=Resource&Version=10.0.40219.329&Name=ViewerScript](http://XXXXXXX.azurewebsites.net/Reserved.ReportViewerWebControl.axd?OpType=Resource&Version=10.0.40219.329&Name=ViewerScript)

该 .axd 的第 1058 行是：

> printObj.Print(printInfo.PrintRequestPath, printInfo.PrintRequestQuery, printInfo.ReportDisplayName);

**导出为 PDF 时：**

> ## “/”应用程序中的服务器错误。
> 
> 参数无效。说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。
> 
> 异常详细信息：System.ArgumentException：参数无效。
> 
> 源错误：
> 
> 在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。
> 
> 堆栈跟踪：
> 
> [ArgumentException: 参数无效。]
> System.Drawing.Graphics.GetHdc() +1143305
> Microsoft.ReportingServices.Rendering.RichText.LineBreaker.Flow(TextBox textBox, Graphics g, FontCache fontCache, FlowContext flowContext, Boolean keepLines, Single& height) +57
> Microsoft.ReportingServices.Rendering.RichText.TextBox.MeasureFullHeight(TextBox textBox, Graphics g, FontCache fontCache, FlowContext flowContext, Single& contentHeight) +500
> Microsoft.ReportingServices.Rendering.HPBProcessing.TextBox.DetermineVerticalSize(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem，列表`1 ancestors, Boolean& anyAncestorHasKT, Boolean hasUnpinnedAncestors) +381
> Microsoft.ReportingServices.Rendering.HPBProcessing.PageItem.CalculateVertical(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem, PageItem[] siblings, List`1 个祖先，Boolean& anyAncestorHasKT，Boolean hasUnpinnedAncestors，Nullable 1 detailCellsState，PageContext pageContext) +108`1 sourceWidth) +695
> Microsoft.ReportingServices.Rendering.HPBProcessing.RowInfo.CalculateVerticalLastDetailCell(PageContext context, Boolean firstTouch, Boolean delayCalc) +411
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateDetailCell(Tablix tablix, TablixMember colMemberParent, Int32 colGridIndex, RowInfo rowInfo, PageContext pageContext) +822
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.TraverseColumnMembers(Tablix tablix, TablixMember colMemberParent, Int32 parentColIndex, RowInfo currRowInfo, Boolean create, Double startInTablix, Double endInTablix, Int32& detailCellIndex, Int32& visibleSpan, List`
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.TraverseColumnMembers(Tablix tablix, TablixMember colMemberParent, Int32 parentColIndex, RowInfo currRowInfo, Boolean create, Double startInTablix, Double endInTablix, Int32& detailCellIndex, Int32& visibleSpan, List 1& pageStructMemberCell, Boolean ignoreTotals, Boolean&finish parentHasFooters, CreateItemsContext createItems, Double startInTablix, Double endInTablix, PageContext pageContext) +2310 Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateTablixItems(Tablix tablix, PageContext pageContext, CreateItemsContext createItems, Double startInTablix, Double endInTablix) +113`1 detailCellsState, PageContext pageContext) +869
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateDetailRow(Tablix tablix, TablixMember rowMemberParent, Int32 parentRowIndex, Int32 parentColIndex, PageContext pageContext) +292
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateRowMemberChildren(Tablix tablix, TablixMember rowMemberParent, Int32 defTreeLevel, Boolean parentBorderHeader, Int32 parentRowIndex, Int32 parentColIndex, Int32 sourceIndex, Boolean resetContext, Boolean parentHasFooters, LevelInfo parentLevelInfo, PageContext pageContext) +137
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateRowMemberChildren(Tablix tablix, TablixMember rowMemberParent, Int32 defTreeLevel, Boolean parentBorderHeader, Int32 parentRowIndex, Int32 parentColIndex, Int32 sourceIndex, Boolean resetContext, Boolean parentHasFooters, LevelInfo parentLevelInfo, PageContext pageContext) +2822
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateRowMemberChildren(Tablix tablix, TablixMember rowMemberParent, Int32 defTreeLevel, Boolean parentBorderHeader, Int32 parentRowIndex, Int32 parentColIndex, Int32 sourceIndex, Boolean resetContext, Boolean parentHasFooters, LevelInfo parentLevelInfo, PageContext pageContext) +2822
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateRowMemberChildren(Tablix tablix, TablixMember rowMemberParent, Int32 defTreeLevel, Boolean parentBorderHeader, Int32 parentRowIndex, Int32 parentColIndex, Int32 sourceIndex, Boolean resetContext, Boolean parentHasFooters, LevelInfo parentLevelInfo, PageContext pageContext) +2822
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateTablixRows(Tablix tablix, TablixMember rowMemberParent, Int32 defTreeLevel, Boolean parentBorderHeader, Int32 parentRowIndex, Int32 parentColIndex, List`
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.CreateVertically（PageContext pageContext，CreateItemsContext createItems，Double startInTablix，Double endInTablix，Double topInParentSystem）+286
> Microsoft.ReportingServices.Rendering.HPBProcessing.Tablix.DetermineVerticalSize（PageContext pageContext，Double topInParentSystem，Double bottomInParentSystem，列出1 个祖先，布尔值& anyAncestorHasKT，布尔值 h​​asUnpinnedAncestors，Nullable 1 个祖先，布尔值& anyAncestorHasKT，布尔值 h​​asUnpinnedAncestors，布尔值 resolveState，布尔值 resolveItem) +273 Microsoft.ReportingServices.Rendering.HPBProcessing.PageItemContainer.DetermineVerticalSize(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem`1 ancestors, Boolean& anyAncestorHasKT, Boolean hasUnpinnedAncestors) +646
> Microsoft.ReportingServices.Rendering.HPBProcessing.PageItem.CalculateVertical(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem, PageItem[] siblings, List``1 sourceWidth) +695
> Microsoft.ReportingServices.Rendering.HPBProcessing.PageItemContainer.DetermineContentVerticalSize(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem, List``1 ancestors, Boolean& anyAncestorHasKT, Boolean hasUnpinnedAncestors) +145
> Microsoft.ReportingServices.Rendering.HPBProcessing.PageItem.CalculateVertical(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem, PageItem[] siblings, List`1 个祖先，布尔值& anyAncestorHasKT，布尔值 h​​asUnpinnedAncestors，Nullable 1 个祖先，布尔值& anyAncestorHasKT，布尔值 h​​asUnpinnedAncesKT) +53 Microsoft.ReportingServices.Rendering.HPBProcessing.Report.NextPage(RPLWriter rplWriter, Int32 page, Int32 totalPages) +659 Microsoft.ReportingServices.Rendering.ImageRenderer.PDFRenderer.Render（报告报告， NameValueCollection deviceInfo, Hashtable renderProperties, CreateAndRegisterStream createAndRegisterStream) +141`1 sourceWidth) +695
> Microsoft.ReportingServices.Rendering.HPBProcessing.PageItem.CalculateVertical(PageContext pageContext, Double topInParentSystem, Double bottomInParentSystem, PageItem[] siblings, List`
> 
> Microsoft.ReportingServices.Rendering.HPBProcessing.HPBProcessing.NextPage() +52 Microsoft.ReportingServices.Rendering.HPBProcessing.HPBProcessing.Init（报告报告，PaginationSettings 分页，CreateAndRegisterStream createAndRegisterStream，Hashtable& renderProperties）+348
> 
> Microsoft.ReportingServices.Rendering.ImageRenderer.RendererBase.Render（报告报告，NameValueCollection reportServerParameters，NameValueCollection deviceInfo，NameValueCollection clientCapabilities，Hashtable& renderProperties，CreateAndRegisterStream createAndRegisterStream）+61
> 
> [LocalProcessingException: 本地报表处理过程中发生错误。]
> Microsoft.Reporting.WebForms.LocalReport.InternalRender(String format, Boolean allowInternalRenderers, String deviceInfo, PageCountMode pageCountMode, CreateAndRegisterStream createStreamCallback, Warning[]& warnings) +333
> Microsoft.Reporting.WebForms .LocalModeSession.RenderReport（字符串格式，布尔 allowInternalRenderers，字符串 deviceInfo，NameValueCollection AdditionalParams，布尔 cacheSecondaryStreamsForHtml，String& mimeType，String& fileNameExtension）+215
> Microsoft.Reporting.WebForms.ExportOperation.PerformOperation（NameValueCollection urlQuery，HttpResponse 响应）+154
> Microsoft.Reporting。 WebForms.HttpHandler.ProcessRequest（HttpContext 上下文）+216
> System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +341 System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +69
> 
> -------------------------------------------------- ------------------ 版本信息：Microsoft .NET Framework 版本：4.0.30319；ASP.NET 版本：4.0.30319.17929

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-04-15T11:41:40.320

我今天发布到 Azure 网站（应用程序）时遇到了同样的问题。通过将站点从免费迁移到基本应用程序服务计划层解决了问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T18:38:41.097

WAWS 上的安全配置实际上不支持 PDF 生成，在这种情况下，您应该在虚拟机上使用 WebRole 或 Web 服务器。谢谢！尼尔（WAWS 团队）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-23T05:57:48.207

另一种可能性可能是`dlls`云上的失踪。对于报告，您已经引用了`Microsoft.Reporting.Webforms`dll，该 dll 在本地存储在本地驱动器上，并且在您将应用程序部署到云上时不会被打包。所以，我们也应该`dlls`在云上复制/上传/部署这些。

# java - 将 Libgdx 桌面导出到 swf？

> ID：16183533
> 
> 赞同：0
> 
> 时间：2013-04-24T04:46:41.130
> 
> 标签：java, android, eclipse, libgdx

因此，我一直在使用 Libgdx 开发游戏。桌面项目将生成一个可执行的 jar 文件。我们可以将它制作成 swf（flash 游戏）文件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:39:06.093

没有。

Libgdx 封装了 OpenGL，并且可以移植到其他基于 OpenGL 的渲染系统（尽管这[通常是复杂的和间接](https://code.google.com/p/libgdx/wiki/IOSWIP)的）。SWF 不是基于 OpenGL API，因此除了将 Java 转换为 ActionScript 之外，还需要大量的仿真/API 修改。我会说这是不可能的，但是 Libgdx 的 GWT 和 iOS 端口是存在的，我也认为这些是不可能的。

Libgdx [GWT 端口](http://www.badlogicgames.com/wordpress/?p=2308)（将 Libgdx Java 源代码转换为 Javascript 和 WebGL）可能会将您带到类似的目的地（您粘贴在网页上的一个大 blob，用户可以在他们的 Web 浏览器中与之交互）。

# html - 使用css带阴影的三角形

> ID：16183536
> 
> 赞同：7
> 
> 时间：2013-04-24T04:47:05.607
> 
> 标签：html, css

### CSS

```
.caret-bottom
{
    display: inline-block;
    width: 0;
    height: 0;
    vertical-align:top;
    content: "";
    border-top: 9px solid #FFFFFF;
    border-right: 7px solid transparent;
    border-left: 7px solid transparent; 
    margin-top: 13px;
    margin-left: 4px;   
  } 
```

### 代码

```
<div class="caret-left"></div> 
```

我需要这个三角形的阴影底面，就像 3D 效果一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T06:25:13.377

```
.triangle {
  width: 100px;
  height: 100px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 16px 10px -17px rgba(0, 0, 0, 0.5);
}
.triangle:after {
  content: "";
  position: absolute;
  width: 50px;
  height: 50px;
  background: #999;
  -webkit-transform: rotate(45deg);
  top: 75px;
  left: 25px;
  box-shadow: -1px -1px 10px -2px rgba(0, 0, 0, 0.5);
}
```

```
<div class="triangle"></div>
```

**演示**

[http://jsfiddle.net/w9Zgc/](http://jsfiddle.net/w9Zgc/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-11T09:26:24.527

嗨帖子有点旧，但有一个我用过的例子。链接到带有代码的[演示。](http://codepen.io/wolendranh/pen/NNJKoN)

```
.triangle {
  position: relative;
  background-color: white;
  opacity: 0.7;
  text-align: left;
}
.triangle:before,
.triangle:after {
  content: '';
  position: absolute;
  background-color: inherit;
}
.triangle,
.triangle:before,
.triangle:after {
  width: 7em;
  height: 7em;
  border-top-right-radius: 30%;
}
.triangle {
  transform: rotate(-90deg) skewX(-30deg) scale(1, .866);
}
.triangle:before {
  transform: rotate(-135deg) skewX(-45deg) scale(1.414, .707) translate(0, -50%);
}
.triangle:after {
  transform: rotate(135deg) skewY(-45deg) scale(.707, 1.414) translate(50%);
}
.triangle {
  filter: drop-shadow(4px 7px 10px rgb(0, 0, 0));
  -webkit-filter: drop-shadow(4px 7px 10px rgb(0, 0, 0));
}
```

```
<html>

<body>
  <div class="triangle-wrap">
    <div class='triangle'></div>
  </div>
</body>

</html>
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:13:51.383

试试这个，我想它会帮助你

```
.caret-bottom {
  display: inline-block;
  width: 0;
  height: 0;
  content: "";
  border-top: 10px solid #fff;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  border-bottom: 10px solid transparent;
  position: relative;
}
.caret-bottom:before {
  width: 0;
  height: 0;
  content: "";
  border-top: 10px solid #000;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  border-bottom: 10px solid transparent;
  position: absolute;
  z-index: 1;
  top: -12px;
  left: -10px;
}
```

```
<div class="caret-bottom"></div>
```

# jquery - .stop() 带有回调的多个菊花链 UI 动画

> ID：16183543
> 
> 赞同：1
> 
> 时间：2013-04-24T04:47:18.817
> 
> 标签：jquery

[jsfiddle](http://jsfiddle.net/9TSJs/)

我正在用 jQuery 制作幻灯片。每张幻灯片都有多个图层（幻灯片中的幻灯片）。我正在尝试添加一个停止按钮，它将停止所有动画。我遇到的问题是停止按钮实际上只在单击一次时“有时”停止幻灯片。但它会“通常”在双击时停止幻灯片放映。如何让所有动画停止？

整个代码在上面链接的 jsfiddle 上。

这是我到目前为止所尝试的：

```
$("#stop").live("click", function() {

    // tried this
    /*
    $('#'+slides['curSlide']).stop(true,false);
    $('#'+slides[ slides['curSlide'] ]['curLayer']).stop(true,false);
    */

    // tried this
    /*
    jQuery.fx.off = true;
    */

    // tried this
    /*
    $('#slides > .slide').each(function(index){
        $(this).stop(true);
        $('#'+index+' > .slideLayer').each(function(){
            $(this).stop(true);
        });
    });
    */

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:04:00.810

您正在使用`delay`触发动画。从[文档](http://api.jquery.com/delay/)：

> .delay() 方法最适合在排队的 jQuery 效果之间进行延迟。因为它是有限的——例如，它不提供取消延迟的方法——.delay() 不能替代 JavaScript 的原生 setTimeout 函数，这可能更适合某些用例。

由于它不提供取消延迟任务的直接方法，因此您需要设置一个标志，延迟函数可以将其作为一种中断信号。

# java - 从 windows 中的命令提示符获取自己的进程 pid

> ID：16183550
> 
> 赞同：3
> 
> 时间：2013-04-24T04:47:48.550
> 
> 标签：java, windows, cmd

我正在尝试从它自己的命令提示符中获取 PID。但是当使用下面的命令时，我并没有总是得到想要的输出。您能否指出以下语句中的错误？

```
cmd.exe /c title="mycmd" & tasklist /v /fo csv | findstr /i "mycmd" & dir & help 
```

**编辑：**

以下命令正常工作。但是当它与另外两个命令结合使用时。它不工作。

```
cmd.exe /c title="mycmd" & tasklist /v /fo csv | findstr /i "mycmd" 
```

**附加信息：**

我正在使用 Java

```
final List<String> commands = new ArrayList<String>();                

commands.add("cmd.exe");
commands.add("/C");

//.. Add more commands

ProcessBuilder pb = new ProcessBuilder(commands); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T06:34:25.427

您可以使用以下批处理文件获取 cmd 提示符的 PID。

**参考：** [http ://social.msdn.microsoft.com/Forums/en-US/msbuild/thread/270f0842-963d-4ed9-b27d-27957628004c/](http://social.msdn.microsoft.com/Forums/en-US/msbuild/thread/270f0842-963d-4ed9-b27d-27957628004c/)

**获取PID.bat**

```
@echo off
if not defined SESSIONNAME set SESSIONNAME=Console
setlocal
set instance=%DATE% %TIME% %RANDOM%
title %instance%
for /f "usebackq tokens=2" %%a in (`tasklist /FO list /FI "SESSIONNAME eq %SESSIONNAME%" /FI "USERNAME eq %USERNAME%" /FI "WINDOWTITLE eq %instance%" ^| find /i "PID:"`)
    do set PID=%%a
if not defined PID for /f "usebackq tokens=2" %%a in (`tasklist /FO list /FI "SESSIONNAME eq %SESSIONNAME%" /FI "USERNAME eq %USERNAME%" /FI "WINDOWTITLE eq Administrator:  %instance%" ^| find /i "PID:"`)
    do set PID=%%a
if not defined PID
 echo !Error: Could not determine the Process ID of the current script.  Exiting.& exit /b 1
echo PID: "%PID%" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-27T04:58:12.523

您需要在要在子shell中执行的复合命令周围加上引号：

```
cmd.exe /c "title="mycmd" & tasklist /v /fo csv | findstr /i "mycmd" & dir & help" 
```

没有引号，命令被解析为

```
(cmd.exe /c title="mycmd") & (tasklist /v /fo /csv) | (findstr /i "mycmd") & (dir) & (help) 
```

所以到时间`tasklist`运行时，具有指定标题的实例`cmd.exe`已经退出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:51:14.850

您可能缺少一些重定向运算符。在这里阅读更多[。](http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/redirection.mspx?mfr=true)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-23T08:34:31.627

为 CMD 窗口指定一个唯一的名称，在本例中为“test”。“Windowstitle”是“test*”，因为执行的命令行将附加到标题。

```
title test
taskkill /FI "IMAGENAME eq cmd.exe" /FI "WINDOWTITLE ne test*" /f 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-20T02:09:42.357

我发现我还必须使用带有用户名的域。

```
 @IF NOT DEFINED SESSIONNAME (@SET SESSIONNAME=Console)
    @SETLOCAL
    @SET EXITCODE=0
    @SET instance=%DATE% %TIME% %RANDOM%
    @TITLE %instance%

    @FOR /F "usebackq tokens=1,2" %%a IN (`tasklist /FO list /FI "SESSIONNAME eq %SESSIONNAME%" /FI "USERNAME eq %USERDOMAIN%\%USERNAME%" /FI "WINDOWTITLE eq %instance%" ^| FIND /I "PID:"`) DO @(
        @SET PID=%%b
    )

    @IF NOT DEFINED PID (
        @FOR /F "usebackq tokens=1,2" %%a IN (`tasklist /FO list /FI "SESSIONNAME eq %SESSIONNAME%" /FI "USERNAME eq %USERDOMAIN%\%USERNAME%" /FI "WINDOWTITLE eq Administrator:  %instance%" ^| FIND /I "PID:"`) DO @(
            @SET PID=%%b
        )
    )

    @IF NOT DEFINED PID (
        @ECHO ERROR: Could not determine the Process ID of the current script.
        @SET EXITCODE=1
    ) ELSE (
        @ECHO %PID%
    )

    @EXIT /B %EXITCODE% 
```

# sql-server - 临时表名称的后缀是什么意思？

> ID：16183551
> 
> 赞同：0
> 
> 时间：2013-04-24T04:47:52.230
> 
> 标签：sql-server, sql-server-2008, sql-server-2008-r2, temp-tables, system-databases

如果您展开 tempdb 节点并转到临时表，您会注意到临时表的名称附加了“ ***_* __ *_* _** _XXXXX”。那部分是指哪里？是创建临时表的内存地方吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:56:18.617

临时表也是物理表，就像任何其他表一样。它们只是有点特别，当它们超出范围时需要自动清理。为了避免名称冲突，因为每个人都希望他们的临时表被命名`#tmp`，SQL Server 会生成一个伪随机名称，以赋予在 中创建的物理表`tempdb`。这与您对临时表的引用有关，例如 `SPID 1234 "#tmp" refers to tempdb.dbo.#tmp___________0000000001CA`. 另请注意，即使您可以从另一个会话中看到 tempdb.sys.tables 中的表，但这并不意味着您可以以正常方式从中进行选择，例如

```
create table #tmp (a int); insert #tmp values (1),(2);
select * from [#tmp_____________0000000001CA]  -- run by creator of #tmp

Results: 

a
-
1
2

select * from [#tmp_____________0000000001CA]  -- run by another session

Msg 208, Level 16, State 0, Line 1
Invalid object name '#tmp____________0000000001CA'. 
```

*XXXXXX*没有内在含义。

# css - googlemaps api上的融合表信息窗口样式

> ID：16183552
> 
> 赞同：1
> 
> 时间：2013-04-24T04:47:55.403
> 
> 标签：css, google-maps-api-3, google-fusion-tables

我有一张带有 googlemaps api 的地图。

我添加了一个多边形 FusionTable 层。

当我单击一个多边形时，它会显示带有 .googft-info-window 类的默认信息窗口。

我想对该类进行更改，或将其他类分配给这些信息窗口。

有办法吗？

那是我的代码。

```
function initialize() {
        var mapDiv = document.getElementById('lugar-do-mapa');
        map = new google.maps.Map(mapDiv, {
          center: new google.maps.LatLng(-12.726084,-51.855469),
          zoom: 6,
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          navigationControl: true,
          navigationControlOptions: {
            style: google.maps.NavigationControlStyle.SMALL
          }
});
fusion = new google.maps.FusionTablesLayer({
    query: {
      select: 'geometry',
      from: 'xxxxXXXxxx'
    },
    styles: [{
    polygonOptions: {
      fillColor: "#FFFFFF",
      fillOpacity: 0.1,
      strokeColor: "#ff4d4d",
    strokeWeight: "int"
    }
    }]
  });
  fusion.setMap(map);
} 
```

谢谢你们，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T18:59:31.140

它就像[Molle 博士](https://stackoverflow.com/users/459897/dr-molle)所说的那样工作，只是将类**.googft-info-window**放在我的 css 上并更改了参数......谢谢。

# python - NameError：未定义全局名称“集合”

> ID：16183553
> 
> 赞同：0
> 
> 时间：2013-04-24T04:47:58.870
> 
> 标签：python, class

作为一项作业，我正在尝试创建两个类：一个类 ，`Book`查看是否已签出一本书并返回书中的标题、作者和页码（这些是输入变量）和另一个类，称为`Library`，将标题-作者对添加到字典中，并查看是否已签出某些特定书籍。每次尝试运行它时，我都会收到一条错误消息。我该如何解决这个奇怪的错误？

这是我的代码：

```
class Book:
    def __init__(self, title, author, pages):
        self.title = title
        self.author = author
        self.pages = pages
        self.checkedOut = False

    def checked_Out(self):
        print(self.checkedOut)
        return self.checkedOut

    def change_value_of_checkedOut(self):
        if self.checkedOut == False:
            self.checkedOut = True
            print("Switched from False to True.")
        elif self.checkedOut == True:
            self.checkedOut = False
            print("Switched from True to False.")

    def return_pages(self):
        print(self.pages)
        return self.pages

    def return_title(self):
        print(self.title)
        return self.title

class Library:
    def __init__(self):
        collection = {}

    def addExistingBook(self, book):
        collection[book.title] = book.author

    def addNewBook(self, title, author, pages):
        new_book = Book(title, author, pages)
        collection[title] = new_book.author

    def change_checked_out_status(self, title):
        if title in collection.keys():
            title.change_value_of_checkedOut()
        else:
            print("This book is not in the collection.")

def main():
    title = str(input("Enter the title of the book. "))
    author = str(input("Enter the author of the book. "))
    pages = int(input("Enter the number of pages in the book. "))
    myBook = Book(title, author, pages)
    myLib = Library()
    myLib.addExistingBook(myBook)

main() 
```

这是我尝试运行它时发生的情况：

```
Enter the title of the book. The Count of Monte Cristo
Enter the author of the book. Alexandre Dumas
Enter the number of pages in the book. 1250
Traceback (most recent call last):
  File "C:/Python33/Class Programs/book_library_classes.py", line 56, in <module>
    main()
  File "C:/Python33/Class Programs/book_library_classes.py", line 54, in main
    myLib.addExistingBook(myBook)
  File "C:/Python33/Class Programs/book_library_classes.py", line 36, in addExistingBook
    collection[book.title] = book.author
NameError: global name 'collection' is not defined 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:50:28.613

You defined `collection` as a local variable in `__init__`:

```
def __init__(self):
    collection = {} 
```

But that doesn't magically make it an instance variable. You have to do that explicitly:

```
class Library:
    def __init__(self):
        self.collection = {}

    def addExistingBook(self, book):
        self.collection[book.title] = book.author 
```

Also, I wouldn't make methods like this:

```
def return_title(self):
    print(self.title)
    return self.title 
```

They're just another layer of obfuscation over the straightforward `book.title` attribute.

Also, you don't need to write `.keys()`. `if key in dictionary` is the preferred syntax:

```
if title in self.collection: 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:50:35.990

Add `self.collection` where ever you are referencing collection.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T04:50:56.360

Class members must be accessed using `self.propertyName`. Your code should look like this:

```
class Library:
    def __init__(self):
        self.collection = {}

    def addExistingBook(self, book):
        self.collection[book.title] = book.author

     .... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:51:04.537

In your `Collection` class you have to use internal `collection`:

```
class Library:
    def __init__(self):
        self.collection = {}

    def addExistingBook(self, book):
        self.collection[book.title] = book.author 
```

Also the last line looks suspicious. Did you mean this:

```
self.collection[book.title] = book 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T04:52:20.500

collection is a local variable

Try referencing it in your functions with self.collection, which should fix your problem.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T04:55:18.283

你应该告诉 python`collection`属于 Library 实例，`myLib`：

修改图书馆类说：`self.collection`你目前拥有的任何地方，`collection` 即

```
class Library:
    def __init__(self):
        self.collection = {}

    def addExistingBook(self, book):
        self.collection[book.title] = book.author

    def addNewBook(self, title, author, pages):
        new_book = Book(title, author, pages)
        self.collection[title] = new_book.author

    def change_checked_out_status(self, title):
        if title in self.collection.keys():
            title.change_value_of_checkedOut()
        else:
            print("This book is not in the collection.") 
```

希望这可以帮助！

# html - JSTL可以在HTML页面中使用吗？

> ID：16183554
> 
> 赞同：1
> 
> 时间：2013-04-24T04:48:04.953
> 
> 标签：html, jsp, jstl

我在 JSP 页面上运行了 JSTL 标记，但无法在 HTML 页面上运行相同的代码。所以，如果可能的话，任何人都可以帮助我！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T04:50:19.243

As name it self indicates

> The JavaServer Pages Standard Tag Library (JSTL) is a collection of useful JSP tags which encapsulates core functionality common to many JSP applications.

And if you see the [**wiki of JSTL**](http://en.wikipedia.org/wiki/JavaServer_Pages_Standard_Tag_Library)

> It extends the JSP specification by adding a tag library of JSP tags for common tasks,

*Summary*:**You cannot use.**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T04:50:31.087

You can't, they only run on JSP pages. Sorry!

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T04:50:56.747

Not Possible to do this.It supports only JSP.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-09-22T09:39:34.643

任何 JSP 文件都会在文件被修改并且 Web 容器检测到它时被重新编译，但这绝对是错误的方法……如何将 HTML 模板保存在数据库中并在 JSP 接收它们之前对其进行处理呢？

# python - Matplotlib - 设置特定象限的背景颜色

> ID：16183561
> 
> 赞同：1
> 
> 时间：2013-04-24T04:48:45.340
> 
> 标签：python, matplotlib

`Jfreechart`有一个方法叫它让你在`setQuadrantPaint`图中设置给定象限的背景颜色。

您将如何在 中实现等价物`matplotlib`？

例如

![在此处输入图像描述](https://i.stack.imgur.com/aVJdV.jpg)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T07:01:42.883

您可以在背景中使用 imshow 绘制 2x2 数组。给它一个范围将使它的中心始终位于 0,0。

```
import numpy as np
import matplotlib.pyplot as plt

x1, y1 = np.random.randint(-8,8,5), np.random.randint(-8,8,5)
x2, y2 = np.random.randint(-8,8,5), np.random.randint(-8,8,5)

vmax = np.abs(np.concatenate([x1,x2,y1,y2])).max() + 5

extent = [vmax*-1,vmax, vmax*-1,vmax]
arr = np.array([[1,0],[0,1]])

fig, ax = plt.subplots(1,1)

ax.scatter(x1,y1, marker='s', s=30, c='r', edgecolors='red', lw=1)
ax.scatter(x2,y2, marker='s', s=30, c='none', edgecolors='red', lw=1)

ax.autoscale(False)
ax.imshow(arr, extent=extent, cmap=plt.cm.Greys, interpolation='none', alpha=.1)

ax.axhline(0, color='grey')
ax.grid(True) 
```

![在此处输入图像描述](https://i.stack.imgur.com/5SeVP.png)

在绘制数据点之后但在图像绘制之前将自动缩放设置为 False，确保轴仅缩放到数据点。

# c# - iis Asp.net 中的日期时间格式问题

> ID：16183564
> 
> 赞同：1
> 
> 时间：2013-04-24T04:49:01.263
> 
> 标签：c#, asp.net, datetime, iis

我有两个文本框（txtdateofissue 和 txtdateofexpiry）。第一个文本框附加有 CalendarExtender 控件。我希望如果用户为 txtdateofissue 文本框选择一个日期，然后自动相同的日期，但下一年应该输入 txtdateofexpiry 文本框。日期应采用 dd-MM-yyyy 格式，即 24-04-2013。我为此编写了代码，但出现错误（字符串不是有效的日期时间格式）

我的代码：

```
protected void txtdateofIssue_TextChanged(object sender, EventArgs e)
        {
            DateTime dt = Convert.ToDateTime(txtdateofIssue.Text);
            dt = dt.AddDays(-1).AddYears(1);
            txtdateofExpiry.Text = dt.ToShortDateString();
        } 
```

我声明日期时间变量 dt 的第一行引发错误（字符串不是有效的日期时间格式）

当我在本地计算机上运行此代码时，它工作正常，但如果我在 iis 上运行它，则会显示错误...请更正我的代码或以新的方式指导我...提前致谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T04:53:15.883

你可以使用[`DateTime.TryParseExact`](http://msdn.microsoft.com/en-us/library/ms131044.aspx)方法

```
DateTime dt;
if (DateTime.TryParseExact(txtdateofIssue.Text, "dd-MM-yyyy",
                           CultureInfo.InvariantCulture,
                           DateTimeStyles.None,
                           out dt))
{
   dt = dt.AddDays(-1).AddYears(1);
   txtdateofExpiry.Text = dt.ToString("dd-MM-yyyy");
} 
```

将日期时间转换回给定格式

查看文档以获取[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)以获取更多信息。

# c# - Response.Cookies["path"].Value = Request.Url.AbsolutePath.ToString(); 错误对象引用未设置为对象的实例

> ID：16183569
> 
> 赞同：-3
> 
> 时间：2013-04-24T04:49:47.680
> 
> 标签：c#, asp.net, url

请帮助我实际上我希望如果用户登录然后用户可以检查
课程信息，否则它会定向到登录页面然后返回到 courseinfo
页面但是登录后它会给出错误

我的代码是aspx

```
<%@ Page Language="C#" MasterPageFile="~/Secret for Management/MasterPage.master"
AutoEventWireup="true" CodeFile="Course_info.aspx.cs" Inherits="Secret_Course_info"
Title="Untitled Page" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="Server">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" />
<meta http-equiv="Content-Language" content="English" />
<meta name="Author" content="MominaNisar ()" />
<meta name="MominaNisar" content="index,follow" />
<meta name="Description" content="CENTER MANAGEMENT" />
<meta name="Keywords" content="CENTER ,MANAGEMENT" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">
<li><a href="../Secret for all user/Default.aspx" accesskey="c"><span         
class="key">H</span>ome</a></li>
<li><a href="../Secret for all user/Management.aspx" accesskey="g"><span class="key">
    M</span>anagement</a></li>
<li><a href="../Secret for all user/student.aspx" accesskey="s"><span     
 class="key">S</span>tudent</a></li>
<li class="active"><span class="key">C</span>ourse</li>
<li><a href="../Secret for all user/Exam_schedule.aspx" accesskey="x">Exam<span 
 class="key">  
    S</span>chedule</a></li>
<li><a href="../Secret for all user/Notice_Board.aspx" accesskey="n"><span class="key">
    N</span>otice Board</a></li>
<li><a href="../Secret for all user/Visiter_info.aspx" accesskey="n"><span class="key">
    V</span>isitor</a></li>
</asp:Content>
<asp:Content ID="Content3" ContentPlaceHolderID="Menu_left" runat="Server">
<li><a href="../Secret for all user/Course_of_Management.aspx" accesskey="n"><span
    class="key">M</span>anagement</a></li>
<li><a href="../Secret for all user/Course_of_Computer_science.aspx" accesskey="f">       
<span
    class="key">C</span>omputer Science</a></li>
<li><a href="../Secret for all user/Course_of_Other.aspx" accesskey="F"><span 
class="key">
O</span>ther</a></li>
</asp:Content>
<asp:Content ID="Content4" ContentPlaceHolderID="Leftcol610" runat="Server">
<h3>
    Courses Info
</h3>
<asp:UpdatePanel ID="up1" runat="server">
    <ContentTemplate>
        <asp:Panel ID="pn" DefaultButton="btnSubmit" runat="server">
            <table align="center">
                <tr>
                    <td colspan="3">
                        &nbsp;
                    </td>
                </tr>
                <tr>
                    <td class="active">
                        &nbsp;
                    </td>
                    <td class="active">
                        Course Name :
                    </td>
                    <td>
                        <asp:TextBox ID="Course_Name" runat="server" />
       <asp:RequiredFieldValidator ID="RequiredFieldValidator1"    runat="server" 
   SetFocusOnError="True" ControlToValidate="Course_Name">*
    </asp:RequiredFieldValidator>
                    </td>
                </tr>
                <tr>
                    <td class="active">
                        &nbsp;
                    </td>
                    <td class="active">
                        Course Duration :
                    </td>
                    <td>
                        <asp:TextBox ID="Course_Duration" runat="server" />
            <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" 
  SetFocusOnError="True" ControlToValidate="Course_Duration">*  
  </asp:RequiredFieldValidator>
                    </td>
                </tr>
                <tr>
                    <td class="active">
                        &nbsp;
                    </td>
                    <td class="active">
                        Course Qualification :
                    </td>
                    <td>
                        <asp:TextBox ID="Course_Qualification" runat="server" />
      <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" 
      SetFocusOnError="True"   ControlToValidate="Course_Qualification">*
        </asp:RequiredFieldValidator>
                    </td>
                </tr>
                <tr>
                    <td class="active">
                        &nbsp;
                    </td>
                    <td class="active">
                        Course Total Fees :
                    </td>
                    <td>
                        <asp:TextBox ID="Course_Total_Fees" runat="server" />
    <asp:RequiredFieldValidator ID="RequiredFieldValidator4" runat="server" 
   SetFocusOnError="True" ControlToValidate="Course_Total_Fees">*  
   </asp:RequiredFieldValidator>
                    </td>
                </tr>
                <tr>
                    <td class="active">
                        &nbsp;
                    </td>
                    <td class="active">
                        Course Fees Method :
                    </td>
                    <td>
                        <asp:TextBox ID="Course_Fees_Method" runat="server" />
    <asp:RequiredFieldValidator ID="RequiredFieldValidator5" runat="server" 
    SetFocusOnError="True" ControlToValidate="Course_Fees_Method">*  
    </asp:RequiredFieldValidator>
                    </td>
                </tr>
                <tr>
                    <td class="active" colspan="3">
       <asp:Label ID="lblerror" CssClass="popuptitle" Style="color: Red" runat="server"
                            Width="465px" Visible="False" />
                    </td>
                </tr>
                <tr>
                    <td class="active" colspan="3" align="center">
                        <asp:Button Text="SUBMIT" ID="btnSubmit" runat="server" 
                             onclick="btnSubmit_Click" Visible="False" />
                    </td>
                </tr>
            </table>
        </asp:Panel>
        </ContentTemplate>
   </asp:UpdatePanel>
   </asp:Content>

   aspx.cs

 using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml.Linq;
using System.Data.SqlClient;

public partial class Secret_Course_info : System.Web.UI.Page
{
SqlConnection con;
SqlCommand cmd;
SqlDataReader rea;
protected void Page_Load(object sender, EventArgs e)
{
    if (Request.Cookies["UserName"] != null)
    {
        if (Context.User.Identity.Name.ToString() == "admin")
        {
            btnSubmit.Visible = true;
        }
        else
        {
            btnSubmit.Visible = false;
            lblerror.Visible = true;
            lblerror.Text = "::This Page Only For Administrator::";
        }
    }
    else
    {

        Response.Cookies["path"].Value = Request.Url.AbsolutePath.ToString();
        /* now after login i want that it reverts to the page but it gives the error object reference is not set to instance of the type*/
        Response.Redirect("Login.aspx");
    }
  }
   protected void btnSubmit_Click(object sender, EventArgs e)
   {
    int total;
    total = 0;
    String strcon = "Data Source=localhost;Initial   
    Catalog=Student_BioData;user=aaa;pwd=123;";
    string strsql = "select * from Courses ";
    con = new SqlConnection(strcon);
    cmd = new SqlCommand();
    try
    {
        con.Open();
        cmd.Connection = con;
        cmd.CommandText = strsql;
        rea = cmd.ExecuteReader();
        while (rea.Read()) { total++; }
    }
    catch (SqlException ex) { lblerror.Text = ex.Message.ToString(); }  

    total += 1;
    try
    {
     strsql = "Insert into Courses values('"+
       Course_Name.Text.Trim()+ "','" +
        Course_Duration.Text.Trim() + "','" +
        Course_Qualification.Text.Trim() + "','" +
        Course_Total_Fees.Text.Trim() + "','" +
        Course_Fees_Method.Text.Trim()+ "')";
    con = new SqlConnection(strcon);
    cmd = new SqlCommand();
        con.Open();
        cmd.Connection = con;
        cmd.CommandText = strsql;
        cmd.ExecuteNonQuery();
            lblerror.Visible = true;
            lblerror.Text = " Data Save In Courses info ";
      }
    catch (SqlException ex) { lblerror.Text = ex.Message.ToString(); }   
     }
   }

  stack trace

    [NullReferenceException: Object reference not set to an instance of an object.]
     Loginpage.btnLogIn_Click(Object sender, EventArgs e) in d:\Momina\installed     
    setup\Center Management\Center Management\Login.aspx.cs:53
    System.Web.UI.WebControls.Button.OnClick(EventArgs e) +118
   System.Web.UI.WebControls.Button.RaisePostBackEvent(String eventArgument) +112
      System.Web.UI.WebControls.Button.System.Web.UI.IPostBackEventHandler
   .RaisePostBackEvent(String eventArgument) +10

      System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String   
       eventArgument) +13
         System.Web.UI.Page.RaisePostBackEvent(NameValueCollection postData) +36
        System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint,
        Boolean includeStagesAfterAsyncPoint) +5563

   it gives error like
    //Response.Redirect("UpdateProfile.aspx");
    Line 52:             Response.Cookies["UserName"].Value = txtUserName.Text;
 Line 53: Response.Redirect(Request.Cookies["path"].Value.ToString());//herecomes error 
         Line 54:         }
        Line 55:         else

    login.aspx

   <%@ Page Language="C#" MasterPageFile="~/MasterPage.master" AutoEventWireup="true"
    CodeFile="Login.aspx.cs" Inherits="Loginpage" Title="Loginpage" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="Server">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" />
<meta http-equiv="Content-Language" content="English" />
<meta name="Author" content="Momina Nisar " />
<meta name="Momina Nisar " content="index,follow" />
<meta name="Description" content="STUDENT MANAGEMENT SYSTEM" />
<meta name="Keywords" content="STUDENT,MANAGEMENT" />
<link rel="stylesheet" type="text/css" href="style.css" />
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">
<li><a href="Default.aspx" accesskey="h"><span class="key">H</span>ome</a></li>
<li><a href="Management.aspx" accesskey="g"><span class="key">M</span>anagement</a>     
</li>
<li><a href="student.aspx" accesskey="s"><span class="key">S</span>tudent</a></li>
<li><a href="Course_Infor.aspx" accesskey="c"><span class="key">C</span>ourse</a></li>
<li><a href="Exam_schedule.aspx" accesskey="x">Exam<span class="key"> 
S</span>chedule</a></li>
<li><a href="Notice_Board.aspx" accesskey="n"><span class="key">N</span>otice Board</a>
</li>
<li><a href="Visiter_info.aspx" accesskey="n"><span class="key">V</span>isitor</a></li>
 </asp:Content>
 <asp:Content ID="Content3" ContentPlaceHolderID="Menu_left" runat="Server">
<li><a href="Login.aspx" accesskey="l"><span class="key">L</span>ogin</a></li>
<li><a href="Contas_us.aspx" accesskey="u"><span class="key">C</span>ontact Us</a></li>
<li><a href="Feedback.aspx" accesskey="f">Feed<span class="key">B</span>ack</a></li>
</asp:Content>
 <asp:Content ID="Content4" ContentPlaceHolderID="Leftcol610" runat="Server">
<fieldset>
 <legend>Login</legend> 
<div class='container'>
<asp:Label ID="Name" runat="server" Text="UserName:" CssClass="lbl"/>
<br/>
 <asp:TextBox ID="txtUserName" runat="server" Height="22px"/>
 <asp:RequiredFieldValidator ID="RV1" runat="server" 
                        ControlToValidate="txtUserName" 
                        ErrorMessage="Please Enter User Name" 
                        SetFocusOnError="True">*
 </asp:RequiredFieldValidator><br />
 </div>

 <div class='container'>
 <asp:Label ID="lblPwd" runat="server" Text="Password:" CssClass="lbl"/>
 <br/>
 <asp:TextBox ID="txtPwd" runat="server" TextMode="Password" 
                     CssClass="pwd" Height="22px"/>
 <asp:RequiredFieldValidator ID="RV2" runat="server" 
                        ControlToValidate="txtPwd" 
                        ErrorMessage="Your Password" 
                        SetFocusOnError="True">*
 </asp:RequiredFieldValidator><br />
 </div>

  <div class='container'>
   <asp:Button ID="btnLogIn" runat="server" Text="Sign In" 
                      onclick="btnLogIn_Click"/>
  </div>

 <div class='container'>
 <asp:HyperLink ID="HyperLink1" runat="server" 
 NavigateUrl="~/ForgotPassword.aspx">Forgot Password ?</asp:HyperLink>
 <br/>
 </div>
 <div class='short_explanation'>New User ? 
 <asp:HyperLink ID="HyperLink2" runat="server" 
  NavigateUrl="~/Createuser.aspx">SignUp !</asp:HyperLink></div>                       
  <asp:ValidationSummary ID="ValidationSummary1" 
                   runat="server" CssClass="error"/>
  <br /><br />
   <asp:Label ID="lblMsg" runat="server" Text="" CssClass="lbl"/>
   </fieldset>
   </asp:Content>

    login.aspx.cs

  using System;
  using System.Collections;
 using System.Configuration;
  using System.Data;
  using System.Linq;
  using System.Web;
  using System.Web.Security;
  using System.Web.UI;
  using System.Web.UI.HtmlControls;
  using System.Web.UI.WebControls;
  using System.Web.UI.WebControls.WebParts;
  using System.Xml.Linq;
  using System.Data.SqlClient;
  using System.Net;
  using System.Net.Mail;

   public partial class Loginpage : System.Web.UI.Page
    {
   protected void Page_Load(object sender, EventArgs e)
    {
    //Login1.Focus();

      }
    protected void btnLogIn_Click(object sender, EventArgs e)
    {
    String strCon = "Data Source=localhost;Initial     
     Catalog=Student_BioData;user=aaa;pwd=123;";
    string strSelect = "SELECT COUNT(*) FROM integrate WHERE UserName = @UserName AND 
    Password = @Password";

    SqlConnection con = new SqlConnection(strCon);
    SqlCommand cmd = new SqlCommand();
    cmd.Connection = con;
    cmd.CommandType = CommandType.Text;
    cmd.CommandText = strSelect;

    SqlParameter username = new SqlParameter("@UserName", SqlDbType.VarChar, 50);
    username.Value = txtUserName.Text.Trim().ToString();
    cmd.Parameters.Add(username);

    SqlParameter password = new SqlParameter("@Password", SqlDbType.VarChar, 50);
    password.Value = txtPwd.Text.Trim().ToString();
    cmd.Parameters.Add(password);

    con.Open();
    int result = (Int32)cmd.ExecuteScalar();
    con.Close();

    if (result >= 1)
    {
        Session["UserName"] = txtUserName.Text.ToString().Trim();
        //Response.Redirect("UpdateProfile.aspx");
        Response.Cookies["UserName"].Value = txtUserName.Text;
        Response.Redirect(Request.Cookies["path"].Value.ToString());
    }
    else
        lblMsg.Text = "Incorrect Username or Password";
     }
    } 
```

请帮助我实际上我希望如果用户登录然后用户可以检查
课程信息，否则它会定向到登录页面然后返回到 courseinfo
页面但是登录后它会给出错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:07:57.867

检查空引用

```
Response.Cookies["path"].Value = Request.Url != null ? Request.Url.AbsolutePath : string.Empty; 
```

或者

```
Response.Cookies["path"].Value = Request.UrlReferrer != null ? Request.UrlReferrer.AbsolutePath : string.Empty; 
```

# javascript - 当我在字符串中有函数名时，有没有办法执行函数

> ID：16183571
> 
> 赞同：0
> 
> 时间：2013-04-24T04:49:52.900
> 
> 标签：javascript, reflection, parameters, eval

考虑我有一个函数的名称，它不需要 var 中的任何参数 -

```
var fn = "foo"; 
```

我可以像这样执行它吗？

```
eval(fn); 
```

这没用。请建议。

我对函数的定义将如下所示 -

```
function foo() {
  ....do something....
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:04:11.113

请不要使用评估。

如果函数在全局范围内，只需执行

```
var fn = "foo";
window[fn](); 
```

[演示](http://fiddle.jshell.net/mplungjan/V3AXD/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-24T04:53:44.523

试试这个

```
eval(fn)(); 
```

或这个

```
eval(fn + "()"); 
```

# maven - "Too many open files" exception while running mvn org.mortbay.jetty:jetty-maven-plugin:run

> ID：16183573
> 
> 赞同：3
> 
> 时间：2013-04-24T04:49:58.913
> 
> 标签：maven, jetty, maven-jetty-plugin, jetty-8

In one of my project , I have used Lift 2.5 M4 and Scala 2.10.0 . In this project , I am using Jetty 8.1.10.v20130312 . But while running project through mvn jetty , I am getting unexpected exception .

I have configured jetty plugin in pom.xml in below way :

```
<plugin>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>jetty-maven-plugin</artifactId>
            <version>8.1.10.v20130312</version>
            <configuration>
                <systemProperties>
                    <systemProperty>
                        <name>org.apache.cocoon.log4j.loglevel</name>
                        <value>WARN</value>
                    </systemProperty>
                </systemProperties>
                <connectors>
                    <connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">
                        <port>9090</port>
                        <maxIdleTime>30000</maxIdleTime>
                    </connector>
                </connectors>
                <webApp>
                    <contextPath>/</contextPath>
                </webApp>
                <scanIntervalSeconds>0</scanIntervalSeconds>
                <stopKey>stop</stopKey>
                <stopPort>9999</stopPort>
            </configuration>
</plugin> 
```

I am getting below exception while running command :- mvn org.mortbay.jetty:jetty-maven-plugin:run

2013-04-24 06:49:39.216:WARN:oeja.AnnotationParser:EXCEPTION java.io.FileNotFoundException: /home/ayush/scala-lift/knolgame/target/classes/com/knolgame/lib/TransactionStatus$$anonfun$find$1.class (Too many open files) at java.io.FileInputStream.open(Native Method) at java.io.FileInputStream.(FileInputStream.java:106) at org.eclipse.jetty.util.resource.FileResource.getInputStream(FileResource.java:286) at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:754) at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:747) at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:747) at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:747) at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:747)

But When I am using jetty 6.1.25 , It works fine .

```
<plugin>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>maven-jetty-plugin</artifactId>
            <version>6.1.25</version>
            <configuration>
                <systemProperties>
                    <systemProperty>
                        <name>org.apache.cocoon.log4j.loglevel</name>
                        <value>WARN</value>
                    </systemProperty>
                </systemProperties>
                <connectors>
                    <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
                        <port>9090</port>
                        <maxIdleTime>30000</maxIdleTime>
                    </connector>
                </connectors>
                <contextPath>/</contextPath>
                <scanIntervalSeconds>0</scanIntervalSeconds>
                <stopKey>stop</stopKey>
                <stopPort>9999</stopPort>
            </configuration>
</plugin> 
```

Can anyone help me to resolve this ? I have to use latest Lift , Scala and jetty version in my application .

Thanks in advance .

Regards, Ayush

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T13:37:01.240

“打开的文件太多”通常意味着您的 java 进程不允许打开更多的文件描述符。但是，如果这发生在码头启动时没有打开任何大量连接，那么就会发生一些奇怪的事情。

首先，您可以通过`$ ulimit -a`在命令行上执行：检查允许的打开文件（或文件描述符）的配置软限制。

如果您需要进一步访问，请将结果粘贴到此处。

然后，您可以使用工具`lsof`来检查您的 java 进程因上述给定异常而失败的文件当时打开了哪些文件。`$ lsof -p <pid>`其中 pid 是你的 java/jetty 进程的 processId 应该给你一些提示。

如果您的软限制太小，请尝试按照互联网上的众多教程之一来提高它，例如：[http ://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open- files/](http://www.cyberciti.biz/faq/linux-increase-the-maximum-number-of-open-files/)（我发现的第一个结果）将限制提高到适当的值。适合您的应用程序的值主要取决于您将服务的并发打开连接的数量。

# ruby-on-rails - Sign Out all Users With Clearance

> ID：16183576
> 
> 赞同：1
> 
> 时间：2013-04-24T04:50:18.430
> 
> 标签：ruby-on-rails, clearance

We have an update coming for which we need all users to sign out and sign in again.

I've tried changing the key in `session_store.rb` but that doesn't work. We are using [Clearance](https://github.com/thoughtbot/clearance) for authentication, so was wondering if there is a way to end all current sessions with clearance forcing everyone to sign-in again?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-22T00:17:11.890

在您的生产控制台中键入此内容即可：

```
User.all.each { |u| u.reset_remember_token! } 
```

# javascript - "test".reverse() 这可能吗？

> ID：16183578
> 
> 赞同：0
> 
> 时间：2013-04-24T04:50:22.857
> 
> 标签：javascript, jquery, prototype

今天与一位开发人员交谈，他说可以使用原型对这样的字符串文字进行操作。谁能解释这怎么可能？

```
var myVar = "some string literal".reverse(); 
alert(myVar); 
```

我需要实现一些反向方法来接收警报输出（“文字字符串”）；

（不是在寻找算法，只是我如何对这样的字符串文字进行操作）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T04:56:52.170

您可以创建自己的新方法，该方法将返回字符颠倒的新字符串。

```
String.prototype.reverse = function() {
    return this.split("").reverse().join("");
} 
```

工作示例：http: [//jsfiddle.net/jfriend00/jXA2x/](http://jsfiddle.net/jfriend00/jXA2x/)

仅供参考，扩展这样的内置类型通常不是一个好主意，因为它在某些情况下可能会导致问题，特别是在尝试与其他代码互操作时。

如果您想在单词边界或其他一些标准上拆分和反转，那么您可以`.split()`根据您要使用的任何逻辑调整传递给的参数，然后`.join()`相应地修改以匹配：

```
String.prototype.reverse = function() {
    return this.split(/\b/).reverse().join(" ");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:04:15.123

覆盖基类型的原型不是一个好主意，除非您正在为旧浏览器（例如 with `Array.prototype.indexOf`）添加功能。

简单地创建一个反向函数是有意义的：

```
function reverse(str) {
    return str.split(' ').reverse().join(' ');
} 
```

可以称为：

```
reverse('some string literal'); 
```

并且会产生

```
'literal some string' 
```

但是，如果您真的必须通过点符号从任何字符串访问它，您可以将函数设置为`String.prototype`：

```
String.prototype.reverse = function () {
    return this.split(' ').reverse().join(' ');
}; 
```

**这种特殊`reverse`的方法误导性地类似于`Array.prototype.reverse`**. 添加这样的功能很容易被其他开发人员误解并导致代码错误。

# javascript - Parsing an array Json to select Tag

> ID：16183585
> 
> 赞同：1
> 
> 时间：2013-04-24T04:50:37.537
> 
> 标签：javascript, jquery, html, arrays, json

I have a Json response. I need to take each value and append them to the Select tag. Each value separated by comma should be appended as a option in select tag.

Code is :

Jquery:

```
var dec ={"dc":["One","Two","Three"]};

jQuery.each(dec, function(index, value) {

    $(".request").append("<option value='" + index + "'>" + value + "</option>");  

}); 
```

HTML:

```
<select class="request">

</select> 
```

The above code is appending everything to a single option but not as different options in select tag

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T04:55:21.347

试试这样

```
var dec ={"dc":["One","Two","Three"]};
var html = "";
jQuery.each(dec, function(index, value) {

    html += "<option value='" + index + "'>" + value + "</option>";  
});

 $(".request").html( html ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:54:04.390

您需要遍历`dc`数组。现在你有一个对象，`dec`有一个子数组`dc`。

```
jQuery.each(dec.dc, function(index, value) {
    $(".request").append("<option value='" + index + "'>" + value + "</option>");  
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:04:46.773

```
var $opt;

For (var i = 0; i < dec.dc.length; i++) {
    $opt = $('<option></option>');
    $opt.text(dec.dc[i]);
    $opt.val(i);
    $('.request').append($opt);
} 
```

尽可能做一个基本的 js 循环，它们更快。

# java - static arrays are not the same [java]

> ID：16183591
> 
> 赞同：1
> 
> 时间：2013-04-24T04:51:34.790
> 
> 标签：java, arrays, static

I'm trying to create a Java program that generates an amount of seats taken in an airplane. So far, I have been able to do this, but my problem is every time I run the client the numbers generated are different. I need them to be the same every time...

I'm not sure what I'm doing wrong, can anybody help me?

```
import java.util.Random;
import java.util.Arrays;

public class Airplane {
    public static Random randomNumbers = new Random();
    public static int[] oSeatLeft = new int[10];
    public static int[] mSeatLeft = new int[10];
    public static int[] wSeatLeft = new int[10];
    public static int oSeat = 0;
    public static int mSeat = 0;
    public static int wSeat = 0;
    public static final int sCheck = 0;

    public void genWSeats() {

        int randSeatFill = 0;
        if (wSeat == 0) {
            for (int counter = 0; counter < wSeatLeft.length; counter++) {
                randSeatFill = randomNumbers.nextInt(2);
                if (randSeatFill == 1) {
                    wSeatLeft[counter] = 1;
                }
            }
            if (wSeat == 0) {
                wSeat++;
            }
        }
    }

    public int[] getWSeats() {
        System.out.println(java.util.Arrays.toString(wSeatLeft));
        return wSeatLeft;
    }
} 
```

The purpose of static int **wSeat** is supposed to be a checker. If **wSeat** is greater than zero, then it should not randomly generate numbers for the array. Not sure exactly what is going wrong here....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T04:54:59.750

使用`Random`带有*种子的构造函数*

```
public static Random randomNumbers = new Random(42); 
```

这种方式总是生成相同的随机数序列。42 只是一个例子，你可以使用任何你想要的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T04:55:22.830

使用 .在初始化时传递种子[`Random(long seed)`](http://docs.oracle.com/javase/7/docs/api/java/util/Random.html#Random%28long%29)。这将保证生成的数字序列始终相同（因为它是一个伪随机数生成器）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T04:57:36.613

在它的构造函数中传递种子`Random`每次都会生成相同的数字

# .htaccess - prestashop 中的 URL 中断

> ID：16183598
> 
> 赞同：0
> 
> 时间：2013-04-24T04:52:09.910
> 
> 标签：.htaccess, url, prestashop

我下载了主题。类别被添加为导航栏中的菜单。当我点击菜单时。它需要请求的 URL ---- 在此服务器上找不到。如何解决这个问题.. 我不知道 prestashop 中的 htaccess 文件在哪里。请指导我解决这个问题。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:00:10.477

在 Tools -> Generators 下重新生成 .htaccess 文件

# replace - xslt - removing quotes, single quotes, <, >, \, / using the replace function

> ID：16183601
> 
> 赞同：0
> 
> 时间：2013-04-24T04:52:23.270
> 
> 标签：replace, xslt-2.0

I have tried to look at previous answers, but it is not clear to me. I would like to use the replace function to replace various characters that are causing me issues during saxon tranformation. My code fragment is:

```
rdfs:comment "<xsl:value-of select="replace(DDTEXT, '[&quot;]|[&apos;]|[\\]|[\/]|[&lt;]|[&gt;]', '')"/>" ; 
```

Saxon gives me the error: XPST0003: XPath syntax error at char 23 on line 66 in {replace(DDTEXT, '["]|[']|}:expected ")", found "]"

I have spent several hours on this already... Any help appreciated. I am using xslt2, and have tried my regex using rubular, but I guess that did not help.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T04:36:44.293

试试这个：

```
<xsl:value-of select="replace(., '[&amp;quot;]|[&amp;apos;]|[\\]|[/]|[&amp;lt;]|[&amp;gt;]', '')"/> 
```

# drupal - 无法在本地托管的 Drupal 7 站点上重新登录管理员帐户

> ID：16183614
> 
> 赞同：0
> 
> 时间：2013-04-24T04:53:12.683
> 
> 标签：drupal, login, drupal-7, phpmyadmin

我在我的 MacBook Air 上加载了一个 DAMP 堆栈，并开始创建一个 Drupal 7 站点。我决定注销以查看注销时的情况，当我尝试重新登录时，我被拒绝了！

我首先要求该站点向我发送恢复电子邮件，但似乎我的本地托管站点无论出于何种原因都没有该功能。

所以我进入了 phpMyAdmin，想知道我怎么会忘记我的密码，这是我几个小时前写在一张便签上的，这张便签贴在我的办公桌上，现在正盯着我的脸。

我转到我网站的“用户”选项卡，发现我的密码是一个大哈希。我在 Google 上搜索了 phpMyAdmin 使用哪种哈希与 mySQL 对话，并发现（我认为）我应该使用 MD5。

我在网上找到了一个 MD5 哈希生成器，在其中输入了我的密码，得到了我的哈希字符串，将它插入到我在 phpMyAdmin 中的帐户的密码槽中，然后在我的网站上尝试了我的密码。

还是没有骰子。

然后我尝试在没有散列的情况下将我的密码推入 phpMyAdmin。还是不行。然后我尝试在 phpMyAdmin 中将未散列的密码输入到我的帐户的密码字段中，然后编辑>pass>dropdown:password... 这有一个与 MD5 不同的散列...但仍然没有工作。

然后我尝试了别的东西，得到了这个：

```
Sorry, there have been more than 5 failed login attempts for this account. It is temporarily blocked. Try again later or request a new password. 
```

从我兴高采烈地学习 Drupal 主题如何工作到对登录我自己的网站感到沮丧已经过去了大约 2 个小时。谁能帮我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T06:13:31.823

如果您安装了 drush，您可以使用以下方法重置密码：

```
drush upwd admin --password=admin 
```

这将使用用户名重置用户`admin`的密码以获得密码`admin`。您可以在 Drush 中使用此命令更改任何用户的密码。

PS - 确保您在使用此命令时位于您网站的目录中。

如果您没有安装 Drush，我建议您安装它。请参阅[在不同平台上安装 Drush 的具体说明](http://drupal.org/node/1791676)。

完成此操作后，使用@SoniKishan 提到的方法让 Drupal 允许您再次登录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:26:06.517

快速解决方案是登录您的数据库`mysql -u <username> -p<password>`或`drush sql-cli`

并执行此查询

```
truncate flood; 
```

并且您将能够再次登录。

# iphone - 使用 UIRequiredDeviceCapabilities Corona SDK 向 App Store 提交应用程序时出错

> ID：16183615
> 
> 赞同：0
> 
> 时间：2013-04-24T04:53:15.653
> 
> 标签：iphone, ios, app-store, coronasdk, build-settings

我从未更改过构建设置，几周前我将我的应用程序提交到应用程序商店，没有任何问题。

我今天尝试提交更新，但我收到了错误

此捆绑包无效。Info.plist 的 UIRequiredDeviceCapabilities 键中提供了一个未知的设备能力值。确保 UIRequiredDeviceCapabilities 的值是一个数组或字典，包含信息属性列表键参考中描述的有效值。

这是我的构建设置的片段。如果我注释掉麦克风线，那么一切正常。

```
iphone = {
    plist = {
        CFBundleVersion = "20130423",
        CFBundleShortVersionString = "3.1.1",
        CFBundleDisplayName = "App Name",
        CFBundleIdentifier = "com.example.mypackagename",
        UIRequiredDeviceCapabilities = "microphone",   -- <<---- this line is the problem
        UIStatusBarHidden = true,
        UIPrerenderedIcon = false, -- set to false for "shine" overlay
        --UIApplicationExitsOnSuspend = true, -- uncomment to quit app on suspend
        CFBundleIconFile = "Icon.png",
        CFBundleIconFiles = {
           "Icon.png",
           "Icon@2x.png",
           "Icon-72.png"
         }
    }
}, 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:17:09.813

只是改变：

```
UIRequiredDeviceCapabilities = "microphone" 
```

到：

```
UIRequiredDeviceCapabilities = {"microphone"} 
```

### 笔记：

`UIRequiredDeviceCapabilities`期望其值为`array`or `dictionary`。您将其作为 传递`string`，这就是问题发生的原因。

* * *

### 参考：

> **UIRequiredDeviceCapabilities**
> 
> UIRequiredDeviceCapabilities（数组或字典 - iOS）让 iTunes 和 App Store 知道应用程序需要哪些与设备相关的功能才能运行。iTunes 和移动 App Store 使用此列表来防止客户在不支持所列功能的设备上安装应用程序。
> 
> 如果您使用数组，则给定键的存在表示需要相应的功能。如果使用字典，则必须为每个键指定一个布尔值。如果此键的值为 true，则该功能是必需的。如果密钥的值为 false，则该功能不得存在于设备上。在这两种情况下，省略一个键表示不需要该功能，但如果该功能存在，则应用程序能够运行。

检查[InfoPlistKeyReference](http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW3)了解更多详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:11:17.653

使用这种格式

```
<key>UIRequiredDeviceCapabilities</key>
<array>
    <string>microphone</string>
</array> 
```

# session - 使用 servicestack 如何防止将 cookie 添加到响应中？

> ID：16183619
> 
> 赞同：3
> 
> 时间：2013-04-24T04:53:22.907
> 
> 标签：session, cookies, http-headers, servicestack, httpresponse

我可以在事后删除cookies，这样：

```
public override void Configure(Funq.Container container)
{
    ResponseFilters.Add((req, res, dto) =>
    {
        ((HttpListenerResponse)res.OriginalResponse).Headers.Remove("Set-Cookie");
    });
} 
```

我还考虑过重写 HttpResponse 的 SetCookie 方法来丢弃 cookie，但我不确定如何在 servicestack 中重写该行为。

**问题：** 如何确保我的回复中没有添加任何 cookie？这似乎比上述更有效且更符合意图。

**背景：**

我正在使用基本身份验证，但我不需要保留会话，或者希望允许通过 cookie 进行任何类型的身份验证。客户端必须重新验证每个请求。

那么，另一种方法也可能有效，例如返回空会话的自定义会话工厂？或其他覆盖会话/身份验证处理的方式。然而，尽管进行了很多挖掘，我在这方面也没有成功。

提前致谢！

# highcharts - 仅显示 1 个数据点时，Highcharts x 轴格式不正确

> ID：16183629
> 
> 赞同：0
> 
> 时间：2013-04-24T04:53:51.257
> 
> 标签：highcharts

问题是即使有空间，它也不会在标签上打印天/月/年。我想它应该自动选择使用哪种格式？

文档说：“对于日期时间轴，比例会自动调整到适当的单位。”。

恕我直言，它没有。请看例子：http: [//jsfiddle.net/gxLc9/1/](http://jsfiddle.net/gxLc9/1/)

在演示中，时间戳是指 2013 年 4 月 16 日星期二 21:00:00 GMT。在图表中，它仅显示 hh/mm/ss...，这在显示事件的时间线时并不好。如果只显示小时、分钟等，用户将不知道图表上的“点”何时应该是。

```
$(function () {
    $('#container').highcharts({
        chart: {
            type: 'spline',
            marginRight: 130,
            marginBottom: 25
        },
        title: {
            text: 'Test for x-axis label',
        },
        xAxis: {
            type: "datetime",
            dateTimeLabelFormats: {
                second: '%H:%M:%S',
                minute: '%H:%M',
                hour: '%H:%M',
                day: '%e. %b',
                week: '%e. %b',
                month: '%b \'%y',
                year: '%Y'
            }
        },
        yAxis: {
            type: "linear",
            title: {
                text: 'y'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        },
        tooltip: {
                    borderWidth: 1,
                    borderColor: "#c0d0e0",
                    shadow: false,
                    style: {
                        padding: "11px"
                    },
                    formatter: function ()
                    {
                        var value = this.y;
                        var d = new Date(this.x);
                        return '<b>' + this.series.name + '</b><br/>' + d.toString() + ': ' + value;
                    }
                },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            x: -10,
            y: 100,
            borderWidth: 0
        },
        series: [{
            name: 'serie',
            type: "spline",
            data:[[1366146000000, 3]]
        }]
    });
}); 
```

问候，蒂姆。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:00:47.407

使用它来显示您想要的格式：

```
 return '<b>' + this.series.name + '</b><br/>' + Highcharts.dateFormat('%I:%M %p', this.x); 
```

在格式中你可以使用你想要的格式。

# vb6 - Windows 服务是作为计划任务部署的 VB 6 exe 的理想替代品吗？

> ID：16183630
> 
> 赞同：4
> 
> 时间：2013-04-24T04:53:52.863
> 
> 标签：vb6, windows-services

现有的 VB 6 exe 被设置为 Windows 服务器上的计划任务（每 20 分钟运行一次）。客户现在希望将其替换为 .NET 组件。编写 Windows 服务（实现计时器）是理想的解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T04:58:04.300

如果您不需要在调用之间保留状态信息，我会保持简单并将其保留为计划任务。这为您提供了免费的调度和基本日志记录。

我有大约 20 个 .Net 控制台应用程序像这样按计划任务运行。

# android - setImageResource 上的内存不足错误

> ID：16183635
> 
> 赞同：5
> 
> 时间：2013-04-24T04:54:13.503
> 
> 标签：android, gridview, bitmap, out-of-memory

我正在制作棋盘游戏，并且我正在为棋盘使用 10x10 GridView。我制作了一个类 ImageAdapter 扩展 BaseAdapter ，它包含一个整数图标数组（9 个补丁文件），这些用于显示棋盘方格的图像。这些图标存储在 res/drawable 文件夹中，大小为 629X629，平均大小约为 5 KB。

我的 ImageAdapter 类具有以下 getView() 方法，该方法实质上回收了相同的视图以节省内存：

**编辑**：（我已经包含了在游戏的 Activity 中调用的 changeIcon 方法）

```
public View getView(int position, View convertView, ViewGroup parent) {
    ImageView imageView;
    if (convertView == null) {  // if it's not recycled, initialize some attributes
        imageView = new ImageView(mContext);
        imageView.setLayoutParams(new GridView.LayoutParams(85, 85));
        imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        imageView.setPadding(8, 8, 8, 8);
    }
    else{
        imageView = (ImageView) convertView;
    }

    imageView.setImageResource(mThumbIds[position]);
    return imageView;
}

public void changeIcon(int x, int y, Integer icon){
    int position = (9-y)*10 + x;
    mThumbIds[position] = icon;
    getView(position, currentView, null);
} 
```

我有一个名为 Game 的单独类，其中处理游戏的逻辑。我将棋子存储在 Piece[][] 数组中，其中 Piece 是我创建的另一个类，用于保存（你猜对了）游戏棋子的数据。相关的是处理棋子移动的方法 move(int xFrom, int yFrom, int xTo, int yTo)。我可以整天移动碎片，一切都很好。

但是，一旦我将一块*移到*另一块中，应用程序就会崩溃。预期的行为是创建一个新片段。发生这种情况的代码如下：

```
public boolean move(int xFrom, int yFrom, int xTo, int yTo){

    boolean success = false;
    Piece pieceToMove = getPiece(xFrom,yFrom);
    Piece pieceAtDest = getPiece(xTo,yTo);
    int moveTeam = pieceToMove.getTeam();

    if(isLegalMove(xFrom, yFrom, xTo, yTo, pieceToMove)&&(turn == moveTeam)){
        if( pieceAtDest == null)
        {
           /*I do something when the destination piece is null; 
                       this block causes no problems */   
        }
        else{
            success = true;
            pieceToMove.merge();
            position[xTo][yTo] = pieceToMove;
            position[xFrom][yFrom] = null;
        }
    }
    return success;
} 
```

所以，有问题的调用是pieceToMove.merge()。Piece 类中的方法 merge() 只是简单地更改该类中的字段**类型**（片段变成新的），然后调用该类的方法 setIcon()。该方法根据类型的值设置类的**图标字段。**而且，如上所述，图标是整数，指的是 res/drawable 中的九个补丁文件。

最后，从Activity GameBoardActivity 调用move(int xFrom, int yFrom, int xTo, int yTo) 方法，移动成功后Activity 要求ImageAdapter（称为**adapter**）重绘棋盘，如下：

```
boolean success = game.move(xFrom,yFrom,xTo,yTo);

if(success){

Integer destIcon = game.getPiece(xTo, yTo).getIcon();
Piece pieceAtDep = game.getPiece(xFrom, yFrom);
Integer depIcon;
if(pieceAtDep == null)
    depIcon = R.drawable.square;
else
    depIcon = game.getPiece(xFrom, yFrom).getIcon();
adapter.changeIcon(xTo,yTo,destIcon);
adapter.changeIcon(xFrom,yFrom,depIcon);
gridView.setAdapter(adapter);
} 
```

Logcat 说导致“致命信号 11”和“6330272 字节分配内存不足”的行`imageView.setImageResource(mThumbIds[position]);`是 ImageAdapter 的 getView 方法中的行。

所以，就像我说的，一切都很好，直到我需要合并两个部分，然后我得到内存不足的错误。还值得注意的是，这种合并行为在应用程序的早期迭代中运行良好。

我现在应该提到标准免责声明，因为我是一个在 java/android 中编码的完整初学者，并且我已经查看了与类似问题相关的其他问题，但似乎没有其他人以与我相同的方式处理他们的位图是。

任何帮助是极大的赞赏。非常感谢。

**更新**

通过进一步的测试，我注意到另一个奇怪之处，即有时会出现问题，有时不会，我无法确定在某些情况下导致崩溃的原因，而在其他情况下则不会。更准确地说，执行完全相同的移动顺序可能会也可能不会导致崩溃。这是相当神秘的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T06:30:06.037

在您的代码中， **mThumbIds**是可绘制的**Id**。您应该做的是您必须通过以下代码创建特定图像的**拇指**。

```
public static int calculateInSampleSize(BitmapFactory.Options options,
        int reqWidth, int reqHeight) {
    // Raw height and width of image
    final int height = options.outHeight;
    final int width = options.outWidth;
    int inSampleSize = 1;

    if (height > reqHeight || width > reqWidth) {

        // Calculate ratios of height and width to requested height and
        // width
        final int heightRatio = Math.round((float) height
                / (float) reqHeight);
        final int widthRatio = Math.round((float) width / (float) reqWidth);

        // Choose the smallest ratio as inSampleSize value, this will
        // guarantee
        // a final image with both dimensions larger than or equal to the
        // requested height and width.
        inSampleSize = heightRatio < widthRatio ? heightRatio : widthRatio;
    }

    return inSampleSize;
}

public static Bitmap decodeSampledBitmapFromResource(Resources res,
        int resId, int reqWidth, int reqHeight) {

    // First decode with inJustDecodeBounds=true to check dimensions
    final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    BitmapFactory.decodeResource(res, resId, options);

    // Calculate inSampleSize
    options.inSampleSize = calculateInSampleSize(options, reqWidth,
            reqHeight);

    // Decode bitmap with inSampleSize set
    options.inJustDecodeBounds = false;
    return BitmapFactory.decodeResource(res, resId, options);
} 
```

使用此代码，

```
decodeSampledBitmapFromResource(getResources(),R.drawable.xyz, 100, 100); 
```

在这里，您提供 100 * 100 的样本大小。因此，将创建这种大小的缩略图。

# php - php代码解密coldfusion加密字符串

> ID：16183636
> 
> 赞同：4
> 
> 时间：2013-04-24T04:54:17.890
> 
> 标签：php, encryption, coldfusion

我们正在尝试使用 PHP 中的 AES/OFB/Nopadding 解密冷融合加密字符串。然而，我们想得更糟，我们在这里尝试了所有的解决方案，但仍然无法让它发挥作用。

这是来自 CF 的代码

```
<cfsetting enablecfoutputonly="Yes">
<!--- Set encoding --->
<cfset k_strCharset="UTF-8">
<cfcontent type="text/html; charset=#k_strCharset#">
<cfset setEncoding("URL", "#k_strCharset#")>
<cfset setEncoding("FORM", "#k_strCharset#")>

<!--- Get variables --->
<cfif IsDefined("FORM.K1")><cfset fv_strK1="#FORM.K1#"><cfelse><cfset fv_strK1=""></cfif><!--- xxx --->
<cfif IsDefined("FORM.S1")><cfset fv_strS1="#FORM.S1#"><cfelse><cfset fv_strS1=""></cfif>
<cfif IsDefined("FORM.S2")><cfset fv_strS2="#FORM.S2#"><cfelse><cfset fv_strS2=""></cfif>

<!--- Encrypt / Decrypt --->
<cfif fv_strK1 is "xxx">
    <cfif fv_strS1 is not "">
        <cfset fv_strS2 = Encrypt(fv_strS1, fv_strK1, "AES/OFB/NoPadding", "BASE64")>
    <cfelseif fv_strS2 is not "">
        <cfset fv_strS1 = Decrypt(fv_strS2, fv_strK1, "AES/OFB/NoPadding", "BASE64")>
    </cfif>
    <cfset fv_strS3 = "">
    <cfset fv_strS4 = "">
    <cfset fv_strS5 = "">
</cfif>

<cfsetting enablecfoutputonly="No"> 
```

然后我们将php作为

```
<?php 

$z  = "bf19zWnbPmJxOvzRuP85Bw=="; 
$encrypted_string="q2SYE7hWWltsBw5byuwl/IkGmOOm+94=";
$source_text = html_entity_decode(getDecrypt($encrypted_string, $z), ENT_NOQUOTES, 'UTF-8');

//echo trim(mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $data, MCRYPT_MODE_OFB));

echo "<br>" . $z . "<br>";

// echo trim(mcrypt_decrypt(MCRYPT_RIJNDAEL_128, base64_decode($z), base64_decode($encrypted_string), MCRYPT_MODE_OFB, mcrypt_create_iv(mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_OFB), MCRYPT_RAND)));

echo "\n\nPlain-Text:\n" . $source_text . "\n";

// Functions
function getDecrypt($str, $key) {
    return ofb_decrypt(base64_decode($str),$key);
}

function ofb_decrypt($str, $key, $iv = ' ' ) 
{
    if ($iv==' ' & strlen($str) < 16)
        return false;
    $td = mcrypt_module_open(MCRYPT_RIJNDAEL_128, ' ' , MCRYPT_MODE_NOFB, ' ');

    //RECEOVER IV
    $iv_size = mcrypt_enc_get_iv_size($td);
    if (empty($iv)) {
            $iv = substr($str,0,$iv_size);
            $str = substr($str,$iv_size);
    }

// initialize encryption
mcrypt_generic_init($td, $key, $iv);

// decrypt
$decrypted_string = mdecrypt_generic($td, $str);

// terminate decrtypion 
mcrypt_generic_deinit($td);
mcrypt_module_close($td);

return $decrypted_string;
}

?> 
```

$encrypted_string 是使用上面的 CF 脚本创建的。

然后我们得到的结果是 - = r.-.@@＆amp; o％nsc.＃p.：�

非常感谢有人能给我一个提示。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-25T17:21:49.820

我能够使用 mcrypt_decrypt ( [http://php.net/manual/en/mcrypt.constants.php](http://php.net/manual/en/mcrypt.constants.php) ) 的记录不佳的 'ncfb' 参数从字符串中获取“测试”(和一些垃圾)。我认为垃圾与块大小有关......一些额外的输入示例会有所帮助。

```
function decryptColdfusionString($key, $data)
{
    $retVal = mcrypt_decrypt(
        MCRYPT_RIJNDAEL_128,
        base64_decode($key),
        base64_decode($data),
        'ncfb',
        '0000000000000000'
    );

    return $retVal;
}

$key  = "bf19zWnbPmJxOvzRuP85Bw==";
$data = "q2SYE7hWWltsBw5byuwl/IkGmOOm+94=";

echo decryptColdfusionString($key, $data) . PHP_EOL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-04T03:29:12.407

（我意识到这已经有几年了，但万一有人遇到同样的问题......）

OFB 模式需要 IV。尽管 ColdFusion 代码没有*明确*指定 IV ，[但仍会自动生成一个 IV，并将其添加到结果的前面](https://helpx.adobe.com/coldfusion/kb/strong-encryption-coldfusion-mx-7.html)。解密时必须正确提取IV，否则结果将是乱码。*1.先*解码加密后的base64字符串。2.然后从解码值中提取IV和数据并照常解密。

**PHP：**

```
$key = base64_decode("bf19zWnbPmJxOvzRuP85Bw==");
$encrypted="q2SYE7hWWltsBw5byuwl/IkGmOOm+94=";

$decoded = base64_decode($encrypted);
$ivSize = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_NOFB);
$iv = substr($decoded, 0, $ivSize);
$data = substr($decoded, $ivSize);

$text = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $data, MCRYPT_MODE_NOFB, $iv); 
```

**结果：**

```
testing 
```

# ruby - 同义词的数据结构

> ID：16183637
> 
> 赞同：1
> 
> 时间：2013-04-24T04:54:21.390
> 
> 标签：ruby, database, data-structures

我正在寻找一种数据结构来保留同义词。我希望“Washington DC”、“Washington DC”或“Washington DC”都与“Washington”相关联。类似于`List`=>`Value`结构的东西。

如果特定网站上提到了他们的城市，我有一项服务会向用户发送电子邮件。当他们注册时，他们输入他们的电子邮件和城市。然而，有些人会进入“华盛顿”，有些人会进入“华盛顿特区”。现在我希望这些都在同一个“桶”中，如果网站上提到“华盛顿特区”或“华盛顿”，则向所有这些人发送一封电子邮件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:08:30.583

```
class Synonyms
  def initialize( *syns )
    @all = []
    @idx = {}
    syns.each{ |syn| self << syn }
  end
  def <<( syn )
    p syn
    unless @idx.include?(syn)
      @all << syn
      @idx[syn] = @all  
    end
  end
  def []( syn )
    @idx[syn]
  end
end

wash = Synonyms.new "Washington DC", "Washington", "Washington D.C."

p wash["Washington"]    #=> ["Washington DC", "Washington", "Washington D.C."]
p wash["Washington DC"] #=> ["Washington DC", "Washington", "Washington D.C."]
p wash["Nope"]          #=> nil 
```

接下来，创建一个哈希映射每个已知的同义词到它的列表，或者遍历它们，或者其他什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T04:57:24.333

我建议使用列表哈希。

例如：

```
synonyms = {"Washington" => ["Washington D.C.", "Washington DC", "Washington D.C"], ...} 
```

然后，您将受益于哈希表的快速查找时间，您可以迭代项目并对它们执行列表操作。

**更新**

听起来您想要的仍然是哈希。但是，您需要做的是将同义词列表中的任何给定成员与所有其他同义词列表相关联。

您可以构建一个简单的函数来执行此操作，例如：

```
def associate_synonyms(synonyms, syn_hash)
  synonyms.length.times do

    synonym = synonyms.pop

    p synonyms

    syn_hash[synonym] = synonyms.collect {|x| x}
    synonyms.insert(0, synonym)
  end
end 
```

因此，例如用法：

```
place = ["Washington", "Washington D.C.", "Washington DC", "Washington D.C"]
synonym_lookup = {}

associate_synonyms(place, synonym_lookup) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T05:17:39.830

根据您明确的需求，最简单的解决方案可能是一个简单的哈希，其中每个可能的同义词都只是指向规范的城市名称：

```
city_name_map = {"Washington D.C." => "Washington",
                 "Washington DC"   => "Washington",
                 "Washington D.C"  => "Washington",
                 "Washington"      => "Washington",
                 # and so forth
                } 
```

当人们注册时`"Washington D.C."`，他们在数据库中的城市偏好被存储为 的值`city_name_map["Washington D.C."]`，即`"Washington"`。同样，在搜索提及城市的页面时，只需在地图上查看城市的规范名称。如果一个网站提到了`"Washington DC"`，你就去查一下`"Washington"`，然后联系那些符合标准城市偏好的人。

# java - 关于 JAVA 和 Linux 的一些基本概念：LINUX 中的 PATH 变量和 JVM 的类位置

> ID：16183640
> 
> 赞同：1
> 
> 时间：2013-04-24T04:54:44.003
> 
> 标签：java, linux

我是 Java 编程和 Linux 环境的新手。而且我发现很难理解什么是类路径、JVM 如何定位类以及 JAVA API 和许多其他东西。

例如，今天我写了两个简单的类 1)employee 和 2)employeetest 并将它们放在同一个文件夹中。（employeetest 具有“main”方法并在其代码中使用employee。）我编译了employeetest，然后使用“javac”命令执行它。我看到了，employee.class 也被添加到了文件夹中。那么这是否意味着 JVM 会自动编译执行所需的所有文件？

然后我把employee类放到当前目录之外，然后尝试执行employeetest。现在我收到了一个错误`ClassNotFound`！为什么会这样？为什么JVM没有在其他目录中搜索员工类？

我放置员工的目录也在我的类路径或我的 linux 中的“PATH”上？从技术上讲，它应该搜索 PATH 中的其他目录吗？

如果我错了，请纠正我，因为我在互联网上阅读了很多东西，我无法清楚地理解这些概念？

那么JVM在哪里搜索类？在“main”类所在的同一目录中？

在我的机器上，当我回显时`$JAVA_HOME`没有打印任何内容。但我的`java`和`javac`命令仍然可以正常执行吗？为什么会这样？是什么意思`$JAVA_HOME`？JDK在哪里？它的功能是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:10:22.667

这里有一些java/java编译器的基础知识

您编写java代码---JVM加载类文件，类文件是实际上使java更便携（平台独立）的字节码

*   你的情况你在一个文件夹中编译了源代码，说“foo”，这样你就可以从任何你应该提供类文件路径的地方编译它

所以 javac -classpath somepathtothatfile

使用 export 命令将路径设置到您现在拥有类文件的位置，然后该错误将被删除

像 export CLASSPATH="pathtosomelocation"

Jvm 在 windows 的 -c://programfiles/java/jdk(version)/bin/ 中查找其 bin 目录中的文件

在Linux中

/usr/lib/jvm/somejavaversion/bin

一探究竟

Java 开发的两件事

JRE——这只是运行时的东西，只是为了运行 JDK——你需要开发代码，才能获得你需要的 API。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:15:41.370

`PATH`和类路径是两个非常非常不同的东西。PATH 是操作系统（在本例中为 Linux 发行版，但 Windows 使用相同的环境变量）用于查找**可执行文件**的机器特定环境变量。可执行文件包括 Linux 中的二进制程序和一些脚本文件。除非您指定`javac`或`javac`在当前目录中的完整绝对路径，否则`PATH`Linux 如何查找`javac`二进制文件。

另一方面，类路径是 Java 特定的。它可以设置为环境变量`CLASSPATH`或作为`java`可执行文件的参数，如下所示：

```
java -classpath /some/dir:/some/other/dir myprogram 
```

这是 JVM 查找类文件或包（具有包含类文件的特定结构的文件夹）的目录集，除了内置 API。

是的，如果 Java 编译器可以找到依赖源文件并确定匹配的类文件丢失或过期，它会编译它们。如果指定，编译器将首先搜索“sourcepath”参数，并且还将搜索类路径。您可能会发现阅读命令的文档很有帮助：[`javac`](http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html). （这是版本 6。我找不到版本 7，但我认为所有这些都适用。）这是[`java`](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html).

JDK 和 JVM 的位置取决于它们的安装位置。尝试`which javac`查找JDK所在的位置并`which java`找到运行时；这将显示 Linux 在哪里找到这些可执行文件（它可能是通过 进行的`PATH`）。

在我的大学生涯中，我花了很多时间研究 Java 的文档，并从中收集了很多信息。你可能会发现在自己周围扎根一点是值得的。这是链接：[http](http://docs.oracle.com/javase/7/docs/) ://docs.oracle.com/javase/7/docs/ 。

# java - 整数的最后 n 位

> ID：16183641
> 
> 赞同：0
> 
> 时间：2013-04-24T04:54:47.997
> 
> 标签：java

我明天要期末考试，所以我正在练习一些问题。但我被这个问题困住了。

编写一个名为 getNthDigit 的方法，它返回整数的第 n 位。它也适用于负数。

例如。

```
CALL                    VALUE RETURNED
getNthDigit(123,1)      3
getNthDigit(123,2)      2
getNthDigit(123,3)      1
getNthDigit(-123,1)     3 
```

我的代码：

```
public static void getNthDigit(int x,int y){

x=Math.abs(x);
x%10;

} 
```

我的思考过程是每次我将它取模 10，它给了我最后一个数字。但它仍然是错误的。就像我调用 getNthDigit(123,2) 一样，我不再需要最后一个数字值。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T05:00:13.060

而不是字符串，你可以这样做：

```
(Math.abs(x) / Math.pow(10, y - 1)) % 10 
```

*   `abs(n)`处理负面情况。
*   `n / 10^(y - 1)`截断`n`到第一个（从左数）`y`数字。
*   `% 10`获取该结果数字的最后一位。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T05:00:24.743

模数运算可以用来完成你想要的。例如，如果您除以`123`并`10`取余数，您将得到第一个数字`3`。如果你做整数除法然后除以结果`123`，你会得到第二个数字。更一般地，一个数的第 n 位可以通过以下公式获得`100``10``2``(number / base^(n-1)) % base:`

```
public int getNthDigit(int number, int base, int n) {    
  return (int) ((number / Math.pow(base, n - 1)) % base);
}

System.out.println(getNthDigit(123, 10, 1));  // 3
System.out.println(getNthDigit(123, 10, 2));  // 2
System.out.println(getNthDigit(123, 10, 3));  // 1 
```

希望能帮助到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T04:57:09.027

为什么不简单地将数字转换为字符串，然后在所需位置获取字符？

```
public static void getNthDigit(int x,int y){
    String str = String.valueOf(x);
    if(str.charAt(0) == '-')
        y++;
    System.out.println(str.charAt(y-1));
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T04:57:57.373

我会把它写成一个字符串，去掉任何前导 -ve 然后只索引到字符串中（处理你想要基于 1 的索引而 Java 使用基于 0 的索引的事实）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T04:59:24.833

尝试这个：

```
String s = String.valueOf(x);
int index = s.length()- y;
char result = s.charAt(index); 
```

# iphone - 从 UIWindow 类更改视图

> ID：16183642
> 
> 赞同：0
> 
> 时间：2013-04-24T04:54:56.937
> 
> 标签：iphone, ios, objective-c, uiviewcontroller, uiwindow

我想知道如何从 UIWindow 类更改视图。例如，我的应用程序有一个倒数计时器视图，当用户启动计时器时，他们可以切换到其他屏幕并且计时器在状态栏中运行，什么我想要的是当用户点击状态栏（我在状态栏顶部有一个自定义按钮）时，它会触发此方法并将视图从当前视图更改为计时器视图...

```
- (void)statusbarButtonTouched
{

    NSLog(@"Button TOuched");

    [self addSubview:??]

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:51:51.177

`timerView`使用定义的属性在 App 委托中创建：

**AppDelegate.h**

```
@property (nonatomic, retain) UIView *timerView; 
```

**AppDelegate.m**

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];
    // Override point for customization after application launch.
    self.viewController = [[[FLViewController alloc] initWithNibName:@"FLViewController" bundle:nil] autorelease];
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];

    self.timerView = [[UIView alloc] initWithFrame:self.window.frame];
    [self.timerView setBackgroundColor:[UIColor greenColor]];
    [self.window addSubview:self.timerView];
    [self.timerView setHidden:YES];

    return YES;
} 
```

**将此视图放在前面的代码：**

```
- (IBAction)shouTimerViewTouched:(id)sender {
    AppDelegate *delegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    [delegate.timerView setHidden:NO];
    [delegate.window bringSubviewToFront:delegate.timerView];
} 
```

而已。[您可以从这里https://github.com/rptwsthi/TrickTest](https://github.com/rptwsthi/TrickTest)拉来运行演示。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:11:27.917

根据文档

```
- (void)removeFromSuperview 
```

> 取消接收者与其父视图和窗口的链接，并将其从响应者链中移除。

# javascript - 当按下到下一个焦点时，使用自定义焦点按钮将输入文本值移动到另一个

> ID：16183645
> 
> 赞同：0
> 
> 时间：2013-04-24T04:55:05.367
> 
> 标签：javascript, jquery, html, css

我几乎没有带有自定义 2 按钮的代码，可以在输入上使用 tab 或 shift+tab。我的问题是：如何将输入文本值移动到下一个焦点。

例子：

来自：
[蔬菜] <-- 这是一个输入
[ Drinks(Focused)] <-- 这是一个输入
[ ] <-- 这是一个输入
[ ]

单击下一步按钮时，它将是这样的：

[ 蔬菜]
[ ]
[ 饮料（重点）]
[ ]

www.jsfiddle.net/xSDMy/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:13:45.613

我将您的小提琴修改为工作状态。尽管我建议您重构代码以使其更易于阅读和维护。

[http://jsfiddle.net/xSDMy/3/](http://jsfiddle.net/xSDMy/3/)

```
$(document).ready(function(){
    var $curr;

    $('.Tabbing').on('focus',function(){
      $curr = $(this);
    });

    $('.prevFocus, .nextFocus').on('click', function( e ){
      var inputElem = $curr.closest('li')[ $(this).hasClass("nextFocus") ? "next" :      "prev" ]('li').find('.Tabbing');
      var curVal = $curr.val();
      $curr.val("");

      inputElem.val(curVal);
      inputElem.focus();
    }); 
```

});

# html - Having problems with creating a fluid formatting.

> ID：16183651
> 
> 赞同：0
> 
> 时间：2013-04-24T04:55:32.123
> 
> 标签：html, css, formatting, fluid-layout, liquid-layout

I'm struggling terribly to figure out why my content overflows and my divs aren't playing nicely. (all sitting where they should be.) This is a link to what I've got currently. I'll keep trying things. But any help would appreciated.

[http://jsfiddle.net/X53vD/](http://jsfiddle.net/X53vD/)

With thanks, Sam.

```
 #wrapper {
    width: 100%;
    height:auto;
    background-image: url(images/shattered.png);
    background-repeat: repeat;
    margin: auto;

    }

#header {
    width: 95%;
    height: 5%; 
    max-width: 1024px ; 
    max-height: 768px ;
    background-color: rgba(102,204,255,50);
    margin: 0.5% ;
    border: 0.5% ridge rgb(204,255,204);
    padding: 0.5%;
    }

#menu {
    width: 5%;
    height: 80%; 
    max-width: 1024px ; 
    max-height: 768px ;
    float: left;
    background-color: rgba(102,204,255,50);
    margin: 0.5% ;
    border: 0.5% ridge rgb(204,255,204);
    padding: 0.5%;
    }

#sidebar {
    width: 5% ;
    height: 80%;
    max-width: 1024px ; 
    max-height: 768px ;
    float: right ;
    background-color: rgba(102,204,255,50);
    margin: 0.5% ;
    border: 0.5% ridge rgb(204,255,204);
    padding: 0.5%;
    }

#content {
    width: 80% ;
    height: 80%; 
    max-width: 1024px ; 
    max-height: 768px ;
    background-color: rgba(215, 239, 255,70);
    margin: 0.5% ;
    border: 0.5% ridge rgb(255, 232, 124);
    padding: 0.5%;
    }

#footer {
    width: 95% ;
    height: 5%;
    max-width: 1024px ; 
    max-height: 768px ; 
    clear: both; 
    background-color: rgba(102,204,255,50);
    margin: 0.5% ;
    border: 0.5% ridge rgb(204,255,204);
    padding: 0.5%;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:24:35.543

您的内容正在从它的容器中流出，因为您将它们设置得太小。例如菜单：

```
#menu {
    width: 5%;
} 
```

我已经清理了您的布局并设置了更舒适的宽​​度。在这里你可以看到它。

[http://jsfiddle.net/X53vD/10/embedded/result/](http://jsfiddle.net/X53vD/10/embedded/result/)

您是否正在尝试制作响应式网站？

# spring-social - What is the difference between ConnectController and ProviderSigninController in spring-social?

> ID：16183652
> 
> 赞同：8
> 
> 时间：2013-04-24T04:55:39.790
> 
> 标签：spring-social

I am new to spring-social framework and trying to implement the login functionality for my portal using spring-social. I read the documentation but i am still a little confused. Both controllers are used to establish a connection with the service provider? Is there any advantage of using ProviderSigninController over ConnectController or vice versa? What are the advantages?

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-24T14:47:28.223

不同之处在于结果：

1.  使用 ConnectController 后，您将拥有一个 OAuth2 访问令牌，以代表用户与提供者进行交互。
2.  使用 ProviderSigninController 后，您将拥有相同的内容 + 用户将使用本地帐户（链接到 OAuth 凭据）登录到您的应用程序。如果在此步骤之前不存在相应的本地帐户，则也可以创建它。

因此，例如，如果您想要“使用 Twitter 登录”按钮，那么 ProviderSigninController 会更好地满足您的需求。

# ios - iOS : Get substring from a html tag response

> ID：16183659
> 
> 赞同：-1
> 
> 时间：2013-04-24T04:56:23.030
> 
> 标签：ios, substring

In my program I'm getting an html notification tag use

```
 "<script>p(34,'1','hello world');</script>/r/n" 
```

I need now is to get the string "hello world" from above tag and it should be a dynamic process as the length of text varies for every response tag.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:13:40.923

像这样的东西会起作用。如果消息的这些部分也是动态的，您可能需要调整 fromString 和 toString，但这会让您开始。

```
NSString *someString = @"<script>p(34,'1','hello world');</script>/r/n";

NSString *fromString = @"<script>p(34,'1','";
NSRange fromRange = [someString rangeOfString:fromString];

NSString *toString = @"');</script>/r/n";
NSRange toRange = [someString rangeOfString:toString];

NSRange range = NSMakeRange(fromRange.location + fromRange.length, toRange.location - (fromRange.location + fromRange.length));
NSString *result = [someString substringWithRange:range]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:12:01.203

```
NSString * myString = @"<script>p(34,'1','hello world');</script>/r/n";//@" hello(1234)";
NSRange range1 = [myString rangeOfString:@"," options:NSBackwardsSearch];
NSRange range2 = [myString rangeOfString:@"'" options:NSBackwardsSearch];

if ((range1.length == 1) && (range2.length == 1) && (range2.location > range1.location))
{
    NSRange range3;
    range3.location = range1.location+2;
    range3.length = (range2.location - range1.location)-2;
    NSString *subString  = [myString substringWithRange:range3];
    NSLog(@"%@",subString)
} 
```

**输出---->你好世界**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T05:16:49.860

请尝试使用这个..我希望这项工作会很好..

```
NSString *data = @"<script>p(34,'1','hello world');</script>/r/n";

    NSRange divRange = [data rangeOfString:@"','" options:NSCaseInsensitiveSearch];
    if (divRange.location != NSNotFound)
    {
        NSRange endDivRange;

        endDivRange.location = divRange.length + divRange.location;
        endDivRange.length   = [data length] - endDivRange.location;
        endDivRange = [data rangeOfString:@"'" options:NSCaseInsensitiveSearch range:endDivRange];

        if (endDivRange.location != NSNotFound)
        {
            divRange.location += divRange.length;
            divRange.length  = endDivRange.location - divRange.location;

            NSLog(@"SubString  %@",[data substringWithRange:divRange]);
        }
    } 
```

# android - Android中文本的Arial字体

> ID：16183660
> 
> 赞同：11
> 
> 时间：2013-04-24T04:56:25.450
> 
> 标签：android, fonts

我想以 Arial 字体显示文本。但是 Arial 字体在 android 系统字体中不可用。我不想在我的应用程序中使用 arial ttf 文件。有没有其他方法可以应用 Arial 字体的文本。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-24T06:25:29.007

如果该字体在 android 系统中不可用，那么您必须使用字体文件将该特定字体应用到您的`textView`. 我想知道您为什么不愿意使用字体文件来申请，因为它提供了相同的功能。

使用字体文件的示例用法是：

```
Typeface tfArial = Typeface.createFromAsset(getAssets(), "arial.ttf");
TextView tv = null;
// find the textview id from layout or create dynamically
tv.setTypeface(tfArial); 
```

**编辑：**

您需要将字体文件`arial.ttf`放在您的`asset`文件夹中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T06:30:35.853

下载 Arial 字体并在资产中使用“字体”创建文件夹名称并将字体保存在那里

```
Typeface tf = Typeface.createFromAsset(getAssets(),"fonts/arial.ttf");
TextView tv = (TextView) findViewById(R.id.CustomFontText);
tv.setTypeface(tf); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-02-18T10:30:41.523

您可以通过以下方式从 android studio 添加 google 字体系列

1.  xml设计
2.  添加字体系列然后有limitem字体系列所以点击
3.  更多字体系列（这是谷歌字体，您可以选择添加字体或可下载字体）
4.  添加字体然后单击确定，然后字体将添加到您的字体列表中，您可以像使用默认字体一样使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-12-29T14:03:33.203

像这样从 Java 代码或 XML 创建一个 TextView

```
<?xml version="1.0" encoding="utf-8"?>
<TextView
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
android:id="@android:id/text1"
android:layout_width="match_parent"
android:textSize="15sp"
android:textColor="@color/tabs_default_color"
android:gravity="center"
android:layout_height="match_parent"
/> 
```

确保保持 id 原样，因为如果您使用自定义 textview，TabLayout 会检查此 ID

然后从代码中扩展此布局并`Typeface`在该 textview 上设置自定义并将此自定义视图添加到选项卡

```
for (int i = 0; i < tabLayout.getTabCount(); i++) {
    //noinspection ConstantConditions
 TextView tv=(TextView)LayoutInflater.from(this).inflate(R.layout.custom_tab,null)
 tv.setTypeface(Typeface);       
 tabLayout.getTabAt(i).setCustomView(tv);

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-06-15T18:17:37.917

您可以创建自定义字体，只需在“res”内的“fonts”文件夹中添加 .ttf 文件：

[![在此处输入图像描述](https://i.stack.imgur.com/BRXeZ.jpg)](https://i.stack.imgur.com/BRXeZ.jpg)

xml 文件包含以下内容：

```
<?xml version="1.0" encoding="utf-8"?>
<font-family xmlns:android="http://schemas.android.com/apk/res/android">
    <font
        android:font="@font/nunito_extrabold"
        android:fontStyle="normal"
        android:fontWeight="400" />
</font-family> 
```

就这样！您可以在每个 TextView 中使用此字体，只需添加**android:fontFamily**属性。

```
 <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:fontFamily="@font/font_semibold"
        android:text="@string/custom_font"        /> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-12-05T02:23:41.177

考虑使用 Calligraphy 在您的 Android 应用程序中添加任何自定义字体。

您无需在每个 TextView 中添加代码即可应用字体。只需在应用程序启动时进行初始化，您就可以开始了。

# ios - Xcode 4.6.2 未从 Mac 应用商店下载

> ID：16183661
> 
> 赞同：0
> 
> 时间：2013-04-24T04:56:30.453
> 
> 标签：ios, xcode, macos, xcode4, download

我有 MAC OSX 10.7.4，我想下载 Xcode 4.6.2，但是在 mac 应用商店中，当我点击 时`"View in mac app store"`，它会打开一个对话框来选择一个应用程序，然后选择 xcode，什么也没有发生。

同样，我也尝试从 下载`devloper.apple.com/xcode`，但是单击`"Download"`链接时，它会重定向到同一页面。

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T00:34:07.450

我有 OSX10.8.3，刚从应用商店安装。然后我要求应用商店将 Xcode 更新到 4.6.2。下载大约 5 分钟后，现在显示“正在安装”。但是估计完成时间不断地从“不到一分钟”到“5分钟”到“16分钟”再回到“7分钟”以及介于两者之间的所有内容。这已经持续了大约 10 分钟。在“安装”期间它在做什么可能是这个变量？？？而且，从蓝色的小进度条上很难判断它是否接近完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-27T16:06:26.340

昨天我也发生了同样的事情，在 10.8.3 的全新 iMac 上，但今天重新注册后工作？！
（主对话主要是英语，但有一段德语（我住在德国），可能是德国和美国应用商店之间的混淆？）

[xcode-4-4-command-line-tools](https://stackoverflow.com/questions/9329243/xcode-4-4-command-line-tools) 对同一个问题有几个答案。有些已经过时了；登录[developer.apple.com/downloads](http://developer.apple.com/downloads/) 似乎是今天的首选方法。

# java - Java eclipse Path file executable

> ID：16183663
> 
> 赞同：0
> 
> 时间：2013-04-24T04:56:40.687
> 
> 标签：java, path, move, transfer

I am trying to make an exe that will move a file from one folder to another automatically.I am having a hard time trying to write the code the grabs the file from my desired location. Here is the code that I have so far.

```
public class Transfer {
     Path source = C:\Users\Name\Google Drive;
             Path newdir = C:\Users\Name\Desktop;
             Files.move(source, newdir.resolve(source.getFileName()), REPLACE_EXISTING);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T06:17:17.243

如果你有很多文件操作，你可以使用 Apache 的 FileUtils，它非常容易使用： [http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils。 html](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html)

看看方法move*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T04:59:54.210

您可以尝试 mkyong.com 的文件操作解决方案：[http ://www.mkyong.com/java/how-to-move-file-to-another-directory-in-java/](http://www.mkyong.com/java/how-to-move-file-to-another-directory-in-java/)

# java - Sorting objects by class type or class name within a collection data structur

> ID：16183665
> 
> 赞同：0
> 
> 时间：2013-04-24T04:56:52.950
> 
> 标签：java, sorting, object

I'm new to Java but not to basic programming. Because of this, I have not yet fully learned all of the terms and their meaning. With that being said, I may not be describing what I want so I'll try to be as specific as possible.

I am writing an abstract parent class Status which will parent subclasses such as (Buff) and (Debuff) which will most likely be abstract as well. Suffice to say that eventually I will be writing concrete classes with their own class names that inherit, in some way, from Status.

The idea is to iterate through a list of these objects and have them modify another Dragon.object. The order becomes important though because these Status objects mathematically modify values in another class of objects. Because of this and the fact that there is no order that these objects will be instantiated, I would end up with unintended results when one Status increases a value by 10% and another subtracts 5 from that value.

The reason I provide this background is because I'm not sure that I am approaching this problem correctly and hope that if I am going down the wrong path, someone can correct me here.

On to my question; it seems easy enough to compare objects by a value in one of their fields. Does this hold true for class types as well? If so, how would I write a comparator that compares object types. By "object types", i mean;

compare: Status.Buff.Percentage.Strength10Percent to Status.Buff.Additive.Strength10

Should I just place a field in this class that designates it's priority and then use a custom comparator when sorting or is the object type enough (provided Java can do that)?

Thanks for reading.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:14:54.373

如果您想通过他们都拥有的东西进行比较，即`Buff`or中的某个字段`Status`，这是可能的。`Buff`您可以在这种情况下或在这种情况下使用非抽象的 compareTo 方法`Status`（确保 class `implements Comparable`）。由于子类继承自`Buff`or `Status`，因此将从子类调用相同的`compareTo()`方法，除非它们覆盖它（实际上不应该这样做）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:55:08.543

您可能需要一个优先级字段。

话虽如此，如果这足以让您找到优先级，您可以使用`this.getClass().getName()`获取当前类的名称。然后，您可以在 compareTo 方法中使用类名。

您还可以使用`instanceof`来检查特定对象是否是特定类的子类的对象。例如，参考您的示例：

的对象`Status.Buff.Percentage.Strength10Percent`将返回 true：

`obj instanceof Percentage`

或者

`obj instanceof Buff`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T07:44:07.963

我认为您对设计采取了错误的方法。您要做的是计算 RPG 的修饰符，对吗？如果是这种情况，您应该让他们都用一个`apply(Character c)`方法实例化一个接口，该方法封装修改并将其应用于角色（或机器人或任何您应用修改器的对象）。应该实现一个接口，该`Character`接口具有要修改的属性的 getter 和 setter，以便`apply()`可以进行调整。

# c# - Auto expand the window by pressing a button

> ID：16183673
> 
> 赞同：1
> 
> 时间：2013-04-24T04:57:50.303
> 
> 标签：c#, .net, winforms

I am using “Microsoft Visual Studio 2010” and C# language. My user interface look like this(before user click the `Advance` button): ![enter image description here](https://i.stack.imgur.com/0pWHo.jpg)

If user click `Advance` button, I want it to show the rest of the window as shown in the picture bellow:

![enter image description here](https://i.stack.imgur.com/Y3FJp.jpg)

Can you please tell me how can have all these information hidden till the user click the `Advance` button? How can I have a smaller window first, as shown in the first figure. And when the user press the `advance` button, it will expand and show the rest. If you can show me with details, I would really appreciate it

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:31:38.073

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-24T01:10:55.923

1.在表单底部添加一个面板，并添加您需要在高级按钮单击中显示的所有控件。

2.更改面板和表单的以下属性，

```
 > AutoSize  >> true
   > AutoSizeMode  >> GrowAndShrink 
```

3.然后在表单加载事件中，您可以使用如下

```
private void Form1_Load(object sender, EventArgs e)
{
    panel1.Visible = false;
} 
```

4.然后在高级按钮点击事件

```
private void button1_Click_1(object sender, EventArgs e)
{
     //panel1.Visible = true;
        string value1 = button1.Text;
        switch(value1)
        {
            case "Expand":
                panel1.Visible = true;
                break;
            case "Reduce":
                panel1.Visible = false;
                break;
        }
        button1.Text = "Reduce";
        if(panel1.Visible==true)
        {
            button1.Text = "Reduce";
        }
        else if(panel1.Visible==false)
        {
            button1.Text = "Expand";
        }     
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T05:06:46.263

第一个表单的 OnLoad 事件将每个控件或组框（无论您使用的是哪个）可见性设置为 false。

并在高级按钮单击事件上使其可见性为真。

代码如下：

```
private void FirstForm_Load(object sender, EventArgs e)
{
  controlName.Visible=false;
}

 private void btnAdvance_Click(object sender, EventArgs e)
 {
     controlName.Visible=true;
 } 
```

**可见性属性的 MSDN：**

[http://msdn.microsoft.com/en-IN/library/system.windows.uielement.visibility.aspx](http://msdn.microsoft.com/en-IN/library/system.windows.uielement.visibility.aspx)

希望它有帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-24T05:09:05.770

首先将以下属性设置为可见 false，如所有 lebels 和文本框。然后在高级按钮的点击事件中设置所有可见的属性为真。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-05-06T04:35:32.117

你可以简单地这样做，

1.在表单底部添加一个面板，并添加您需要在高级按钮单击中显示的所有控件。

2.更改面板和表单的以下属性，

```
 > AutoSize  >> true
       > AutoSizeMode  >> GrowAndShrink 
```

3.然后在表单加载事件中，您可以使用如下

```
 private void Form1_Load(object sender, EventArgs e)
    {
        panel1.Visible = false;
    } 
```

4.然后在高级按钮点击事件

```
 private void button1_Click_1(object sender, EventArgs e)
    {
        panel1.Visible = true;      
    } 
```

希望这会帮助你和任何其他需要这个的人......！

# java - 将控制从 JFrame 转移回调用类

> ID：16183676
> 
> 赞同：0
> 
> 时间：2013-04-24T04:58:08.780
> 
> 标签：java, swing, jframe, modal-dialog, jdialog

我正在制作一个项目，其中我有一个`runner_HMMPayl`从这个类的主命名的类，我正在启动一个`JFrame0 f`实例。`JFrame0`返回文本字段的值，`JFrame0`然后在 main 中使用。

我面临一个问题，当我实例化 时`JFrame0`，它会继续运行并且控制不会转移回`runner_HMMPayl`类的主要对象。我怎样才能做到这一点？

这些是相关的代码片段。

第一个是主要的，制作`JFrame0`实例。

```
 public static void main(String[] args) throws IOException 
{
    JFrame0 f = new JFrame0();
    f.Start(f);
    System.out.println("f closed"); //not displayed in console----------
    System.out.println("First argument" + args[0]); //not displayed in console-
} 
```

这是`JFrame0`按钮的代码，按下时应返回参数。

```
private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         
    argA[0]= "1";

    String s1 = jTextField1.getText();
    argA[1] = s1;
    String s2 = jTextField7.getText();
    argA[2] = s2;
    // ..
    String s7 = jTextField2.getText();
    argA[7] = s7;

    runner.configureHMMPayl(argA); //function in runner_HMMpayl class (instance:runner)
    runner.giveArgs(argA); //function in runner_HMMpayl class 
 } 
```

我无法弄清楚。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:10:33.283

使用模式`JDialog`停止执行，直到对话框关闭。

有关更多详细信息，请参阅[如何制作对话框](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html)。

当您使用它时，请查看[初始线程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html)

# python - Format the x-axis ticks

> ID：16183679
> 
> 赞同：1
> 
> 时间：2013-04-24T04:58:23.493
> 
> 标签：python, matplotlib

I've got the following code that generates a surface density plot. x and y are position co=ordinates and z axis represents the density. All the values are pre calculated and is stored in a numpy array.

```
 #set up the grid
xi, yi = np.linspace(x.min(), x.max(), 200), np.linspace(y.min(), y.max(), 200)
xi, yi = np.meshgrid(xi, yi)
#interpolate
rbf = scipy.interpolate.Rbf(x, y, z, function='linear')
zi = rbf(xi, yi)

plt.imshow(zi, vmin=z.min(), vmax=z.max(), origin='lower', extent=[x.min(), x.max(), y.min(), y.max()])
plt.scatter(x, y, c=z,marker='o')
plt.colorbar()
plt.scatter(xo,yo, c='b', marker='*')

plt.xlabel("RA(degrees)")
plt.ylabel("DEC(degrees)")
plt.title('Surface Density Plot 2.0 < z < 2.2')
plt.savefig('2.0-2.2.png', dpi= 300 )

plt.show() 
```

The problem I have is the xaxis ticks are not in user friendly terms, they are values between 150-152 but I can't seem to change the ticks positions using the xticks() function. Would anyone have a suggestion how I can go about to formatting the x axis?

edit- These are the values for xyz used for the plot. x,y,z are three numpy arrays- [https://www.dropbox.com/s/l03pkzplqmfm1su/xyz.csv](https://www.dropbox.com/s/l03pkzplqmfm1su/xyz.csv) the first row is x values, second the y and third the z.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T09:16:23.307

使用 pyplot 接口时，您可以通过设置 xticks（前提是您将 matplotlib.pyplot 导入为 plt）

```
plt.xticks(*args, **kwargs) 
```

您可以给出刻度位置，例如。作为列表或 numpy 数组，刻度标签作为 touple（或列表，...）。

但是，请包含一个我们可以运行的代码的最小示例，这样我们就可以测试它是否工作，看看为什么不工作，如果是这样的话。此外，您似乎已将 matplotlib 作为 plt 导入，但您的某些命令（如`xlabel`）缺少该`plt.`部分。这只是拼写错误还是复制/粘贴错误？

如果你想对你的刻度和刻度格式进行更多微调，你应该考虑使用 matplotlib 的 OO 接口。是的，它更冗长，您必须输入更多字母，但在我看来，代码变得更加清晰，您有更多可能使图表适应您的期望。

**编辑：**我从您的评论中了解到，您对 xtick 标签的格式不满意。因此，您可能想要“150.0”左右，而不是“0.0”“+1.5e2”。要查看的函数（使用 pyplot 接口）是：

```
plt.ticklabel_format(**kwargs) 
```

kwargs 在[这里](http://matplotlib.org/api/pyplot_api.html)显示。如果`style='plain'`符合您的要求，您应该尝试。

我想再次强调，OO 界面为您提供了更多功能来更改刻度标签的格式。各自的功能是：

```
matplotlib.axes.yaxis.set_major_formatter()
matplotlib.axes.xaxis.set_major_formatter() 
```

您可以在多个格式化程序之间进行选择，甚至可以编写自己的格式化函数。如果你想这样做，我可以给你进一步的建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T15:07:52.587

Firefly，根据您在评论中给出的[Dropbox 图像，我相信以下内容描述了您的问题。](http://dropbox.com/s/bxji5sa84i1bsyz/2.0-2.2.png)x 数据的大小远大于变化，因此 python 有一个值列表，如

```
[150.05,150.10,150.15,150.20,150.25] 
```

这对于这个图中的 xaxis 来说太大了，所以 python 做了一些你不喜欢的聪明的事情（我同意）。

一种解决方法是简单地将 xticks 设置为垂直，例如

```
py.xticks(rotation='vertical') 
```

如果您无法手动执行 python 尝试的操作，请从 x 轴减去 150 度并更改您的 xlabel，以便您拥有

```
plt.xlabel("RA+150(degrees)") 
```

如果您的数据不是度数，我建议改为重新缩放（例如除以 1e2），但是对于度数，这看起来很奇怪。

# c++ - Loosing pointer in subclass after copy

> ID：16183681
> 
> 赞同：1
> 
> 时间：2013-04-24T04:58:30.517
> 
> 标签：c++, class, pointers, c++11, copy

I have 2 classes:

```
class CCandidate {
public:
    float score;
    BitSet documents;
    std::vector<std::vector<int> > phrases;
    int cardinality;

    /** For merging. */
    CCandidate()
    : score(0.0), documents(1), phrases(1), cardinality(0) {}

    /** */
    CCandidate(
    std::vector<int>& phraseIndices, BitSet& documents,
    int cardinality, float score) {

    this->phrases.reserve(1);
    this->phrases.push_back(phraseIndices);

    this->documents = documents;
    this->score = score;
    this->cardinality = cardinality;
    }
};

class PCandidate {
public:
    CCandidate * topics;
    float coverage;

    bool selected;
    bool mostGeneral;
    bool mostSpecific;

    PCandidate(CCandidate * c, float coverage)
    : topics(c), coverage(coverage), 
      selected(true), mostGeneral(true), mostSpecific(true) {}
}; 
```

In another class where these classes are used I have something like this:

```
// ...
std::vector<std::shared_ptr<PCandidate> > phrases(mergeList.size());

for (size_t i = 0; i < mergeList.size(); i++) {
    CCandidate * cc = baseTopics.at(mergeList.get(i));
    std::wcout << cc->toString() << std::endl;
    float coverage = cc->cardinality / result->cardinality;
    std::wcout << "coverage=" << coverage << std::endl;
    phrases.push_back(std::make_shared<PCandidate>(PCandidate(cc, coverage)));

    std::for_each(phrases.begin(), phrases.end(),
        [&](const std::shared_ptr<PCandidate>& pc) { 
            std::wcout << pc->toString() << " "; }); // error
    }
}

anotherMethod(phrases);

// ... 
```

Everything is fine with the CCandidate `cc` (for now in this verson it is a raw pointer), I can print its contents (method toString() not copied in here) and all is fine. Then I construct the PCandidate Object with the `make_shared`, push it into the phrases vector and when try to access that `phrases' vector to show me the contents of Pcandidate, the topics cluster I get an segmentation fault.

I could not do something like

```
std::wcout << ptr->topics->phrases.size() << std::endl 
```

where `ptr` is a pointer to `PCandidate`. `topics` is a pointer to CCandidate containing the phrases vector.

It will give me

```
==10013== Invalid read of size 8 
```

to see the size of the phrases vector in CCandidate.

I'm a little lost as I do not now where to track down the problem, sitting at this since yesterday. It might be a bloody beginners mistake. Is the lack of missing copy constructors / assignment operators? If yes how should they look like? For example copy the entire phrases vector, like a deep copy? I thought the default copy/assignment should be OK so far.

Would be great if somebody can show me the error or how to fix this! Thanks in advance for your time!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:54:30.550

你`phrases`最初用`mergeList.size()` **NULL共享指针填充你的向量，然后***在*这些指针之后推入*真正*的向量。

 *```
std::vector<std::shared_ptr<PCandidate> > phrases(mergeList.size()); 
```

所以`mergeList.size()`你的向量中的第一个指针是NULL。失去初始尺寸。

```
std::vector<std::shared_ptr<PCandidate> > phrases; 
```

如果你想保留容量，你可以，但最终共享指针仍然必须通过它们的引用计数算法。我会跳过它，只做上面的事情。*

# msbuild - 如何防止在构建时弹出对话框？

> ID：16183684
> 
> 赞同：-2
> 
> 时间：2013-04-24T04:58:38.693
> 
> 标签：msbuild

我有一个使用 dll 的项目，它在构建时总是显示一个弹出窗口。这很烦人，我想摆脱它。

问题是弹出窗口阻止我进行自动构建，因为没有人可以点击自动构建服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:34:14.697

如果您知道弹出窗口标题，您可以编写一个简单的应用程序来[查找](http://www.pinvoke.net/default.aspx/user32.findwindowex)窗口的句柄并[模拟](http://social.msdn.microsoft.com/Forums/en-us/csharpgeneral/thread/6bc59de1-47c9-4013-88ae-f850fdba1b4f)按钮单击。

# cron - 我在哪里放 cron 命令？

> ID：16183698
> 
> 赞同：0
> 
> 时间：2013-04-24T04:59:55.073
> 
> 标签：cron

我看到一堆关于 cron 命令的教程，比如

```
0 */5 * * * /some_sript.sh 
```

但是我将这行文本放在什么文件中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:06:04.890

您只需要运行“crontab”命令来编辑 cron 表。尝试“man crontab”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T08:39:47.053

来自[标签：crontab 信息](https://stackoverflow.com/tags/cron/info)

> ### 基本命令
> 
> *   `crontab -e`编辑 crontab。
> *   `crontab -l`显示 crontab 当前信息。

另外，你最好写

```
0 */5 * * * /bin/sh /some_sript.sh 
```

代替

```
0 */5 * * * /some_sript.sh 
```

也就是说，指示执行脚本的二进制文件。

# stored-procedures - SQL Server 2012 存储过程超时。如何解决？

> ID：16183704
> 
> 赞同：0
> 
> 时间：2013-04-24T05:00:30.607
> 
> 标签：stored-procedures, sql-server-2012, windows-server-2008-x64

上下文：SQL Server 2012、Windows Server 2008 R2（64 位）、2 个内核、大量 RAM 和 HD 空间、通过 JScript（不是 .NET）的 ADODB

这些非常简单的存储过程不断超时。我也没有很多记录（从服务器的角度来看）：100,000 左右。

```
CREATE PROCEDURE [dbo].[Transfer_Part1]
AS
    SET NOCOUNT ON
    INSERT INTO Primary.dbo.Post
    SELECT *
    FROM Secondary.dbo.Pre
    WHERE HrefProcessed = (-1)
        AND ReferrerProcessed = (-1);

CREATE PROCEDURE [dbo].[Transfer_Part3]
AS
    SET NOCOUNT ON
    DELETE
    FROM Secondary.dbo.Pre
    WHERE HrefProcessed = (-1)
        AND ReferrerProcessed = (-1); 
```

我能做些什么来停止收到这些消息吗？

```
[Microsoft][ODBC SQL Server Driver]Query timeout expired
EXEC Transfer_Part1
[Microsoft][ODBC SQL Server Driver]Query timeout expired
EXEC Transfer_Part3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-01T10:23:59.377

您在 HrefProcessed 和 ReferrerProcessed 上有 2 列索引吗？

另请参阅[SQL Server 2008 上的 Bulk DELETE（是否有类似 Bulk Copy (bcp) for delete data 的内容？）](https://stackoverflow.com/questions/2126434/bulk-delete-on-sql-server-2008-is-there-anything-like-bulk-copy-bcp-for-delet/2126482#2126482)第二个。

# php - PDO 未同步？

> ID：16183712
> 
> 赞同：-2
> 
> 时间：2013-04-24T05:01:32.313
> 
> 标签：php, multithreading, asynchronous, pdo

我的想法是，当我使用 PDO 驱动程序准备好语句（您首先准备一个语句并将任何变量绑定到它然后执行它）时，其余的 PHP 代码会在该语句的结果之前继续执行被退回。

真的是这样吗？如果是这样，那不是一个大问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:04:28.040

> 真的是这样吗？

不，事实并非如此

# android - selectTab() 选择正确的片段，但在错误的（？）选项卡下划线

> ID：16183715
> 
> 赞同：0
> 
> 时间：2013-04-24T05:01:48.317
> 
> 标签：android, tabs, android-fragments

我在 ActionBar 中有 4 个选项卡（选项卡 0、选项卡 1、选项卡 2、选项卡 3）。每个选项卡都有自己的片段。
在应用程序生命中的某个时刻，我需要禁用选项卡 1,2 和 3。
由于在 android 中没有禁用选项卡的方法，我在以下位置使用此代码`onTabSelected()`：

```
 switch( tab.getPosition() ) {
    case 0:
        fragment = new MyFragment();
        fragmentTransaction.add(R.id.fragmentContent, fragment, "0");
        break;
    case 1:
    case 2:
    case 3:
        final ActionBar actionBar = getActionBar();
        actionBar.selectTab(actionBar.getTabAt(0));
        break;
    } 
```

这会强制始终选择第一个选项卡。
When tabs 1,2 or 3 are selected the fragment for tab 0 is selected alright, I see its layout displayed, but the lightblue line underlining the tab is not under tab 0.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-17T14:42:45.897

尝试改变

```
 case 3:
        final ActionBar actionBar = getActionBar();
        actionBar.selectTab(actionBar.getTabAt(0));
        break; 
```

为了这

```
 case 3:
        final ActionBar actionBar = getActionBar();
        actionBar.setSelectedNavigationItem(0);
        break; 
```

# asp.net-mvc-4 - 自定义授权属性不起作用

> ID：16183716
> 
> 赞同：0
> 
> 时间：2013-04-24T05:01:54.447
> 
> 标签：asp.net-mvc-4

我在类中添加了自定义授权属性以检查登录用户是否为管理员。但这行不通。这是我的代码

```
[AdminAuthorization]
public class UsersController : Controller
{
    public ActionResult Index()
    {
        return View();
    }
}

public sealed class AdminAuthorizationAttribute : AuthorizeAttribute
{
    protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)
    {
        if(!UserSessionHelper.Instance.IsValid && !UserSessionHelper.Instance.Data.IsAdmin)
        {
            filterContext.Result = new RedirectToRouteResult(new RouteValueDictionary(new { controller = "Error", action = "AccessDenied" }));
        }
    }
} 
```

在这里从会话中获取用户数据以检查用户是否是管理员以及如果他不是管理员则重定向到访问被拒绝页面时正在做什么。但这不起作用。对于每个用户，该页面都会被查看。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:19:24.780

试试这个，根据我的理解，你需要覆盖`OnAuthorization`函数。

改变你`AdminAuthorizationAttribute`的班级

```
public sealed class AdminAuthorizationAttribute : AuthorizeAttribute
{
    public override void OnAuthorization(AuthorizationContext filterContext)
    {
        //Called when a process requests authorization.
        if (!UserSessionHelper.Instance.IsValid && !UserSessionHelper.Instance.Data.IsAdmin)
        {
            filterContext.Result = new RedirectToRouteResult(new RouteValueDictionary(new { controller = "Error", action = "AccessDenied" }));
            return;
        }
        base.OnAuthorization(filterContext);
    }

    protected override void HandleUnauthorizedRequest(AuthorizationContext filterContext)
    {
        //Processes HTTP requests that fail authorization.
    }
} 
```

# ruby-on-rails-3 - Rails - 为具有一对一关联的模型显示操作和视图？

> ID：16183720
> 
> 赞同：0
> 
> 时间：2013-04-24T05:02:29.570
> 
> 标签：ruby-on-rails-3, model-view-controller

我有一个带有用户模型和 Instructor_Profile 模型的简单应用程序。这两个模型之间的关联是一对一的。我无法让我的视图 show.html.erb 呈现。我只是想显示 Instructor_Profile 模型中的单个属性，但出现此错误：

Instructor_profiles 中的 NoMethodError #show undefined method `name' for nil:NilClass

任何帮助将不胜感激！

```
Models:

class User
has_one :instructor_profile

class InstructorProfile
belongs_to :user

UsersController:

def new
  @user = User.new
end

def create
  @user = User.new(params[:user])
  if @user.save
    UserMailer.welcome_email(@user).deliver
    render 'static_pages/congratulations'
  else
    render 'new'
  end
end

InstructorProfilesController:

def new
  @instructor_profile = current_user.build_instructor_profile
end

def create
  @instructor_profile = current_user.build_instructor_profile(params[:instructor_profile])
  if @instructor_profile.save
    flash[:success] = "Profile created!"
    redirect_to root_path
  else
  ....
  end
end

def show
  @user = User.find(params[:id])
  @instructor_profile = @user.instructor_profile
end

Views/instructor_profiles/show.html.erb:

<p>Display Name: <%= @user.instructor_profile.name %></p> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:30:38.570

它发生是`@user.instructor_profile`因为`nil`. 这意味着没有与`@user`. 请检查`create`里面的方法`UserController`来确认是否`instructor_profile`正在创建。代码应该是这样的，

```
@user.instructor_profile = InstructorProfile.new(name: "my_name")
@user.instructor_profile.save 
```

编辑：

has_one 关联并不意味着每个用户都必须有一个instructor_profile。所以在你打电话之前`@user.instructor_profile.name`，只要确认`@user`有`instructor_profile`没有。在您看来，您可以通过添加一个条件轻松解决此错误。

`<p>Display Name: <%= @user.instructor_profile ? @user.instructor_profile.name : "no instructor_profile present" %></p>`.

还有一件事，在 中`instructor_profiles_controller/show`，将代码更改为

```
@instructor_profile = InstructorProfile.find(params[:id])
 @user = @instructor_profile.user 
```

# asp.net-mvc - ASP.NET MVC 4 项目中的 Telerik 报告

> ID：16183723
> 
> 赞同：0
> 
> 时间：2013-04-24T05:02:54.953
> 
> 标签：asp.net-mvc, asp.net-mvc-4, telerik, telerik-reporting

我尝试在我的 WebApp 中实现 Telerik Report 并得到运行时错误。

> 异常详细信息： System.TypeLoadException: GenericArguments[0],'BuilkReport.Areas.Report.Template.PoReport', on 'Telerik.Reporting.XmlSerialization.Current.ReportSerializable`1[TReport]' 违反了类型参数 'TReport' 的约束.

这些是我使用的方法：

1.  创建 Telerik 报告并为其构造函数创建参数
2.  使用 Telerik.Reporting.InstanceReportSource 作为数据成员之一创建模型
3.  使用控制器获取模型的正确参数，然后将其传递给视图

这些步骤运行良好，数据按计划正确运行。在视图部分，我使用此演示中的方法：[http ://www.telerik.com/community/code-library/reporting/general/using-telerik-web-reportviewer-in-asp-net-mvc-application .aspx](http://www.telerik.com/community/code-library/reporting/general/using-telerik-web-reportviewer-in-asp-net-mvc-application.aspx)

我只是将这些视图复制到我的项目中并将模型从控制器传递给传递给`ReportViewer1.ReportSource`（而不是像在演示项目中那样创建一个新视图）

谁能帮我解决这个问题？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-24T11:17:27.180

发布了测试版 HTML5 报告查看器的预览 -[将 HTML5 的力量带入 Telerik 报告](http://blogs.telerik.com/blogs/13-09-23/bringing-the-power-of-html5-to-telerik-reporting)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T20:21:22.937

请尝试此处列出的步骤 - [http://blogs.telerik.com/careypayette/posts/13-03-26/telerik-reporting-in-mvc-sure-it-takes-8-quick-steps-](http://blogs.telerik.com/careypayette/posts/13-03-26/telerik-reporting-in-mvc-sure-it-takes-8-quick-steps-)

# asp.net-mvc - 在 web config mvc 中设置为具有完整 url 的起始页

> ID：16183725
> 
> 赞同：0
> 
> 时间：2013-04-24T05:03:02.283
> 
> 标签：asp.net-mvc, web-config, asp.net-mvc-routing

我在 webconfig 和 rout 配置中使用 set as sate as start page

我的网络配置代码是

```
<forms loginUrl="~/Account/Login" defaultUrl="~/Account/Login" timeout="30" protection="All" /> 
```

还有我的 Rout Config 代码

```
public static void RegisterRoutes(RouteCollection routes)
        {
            routes.IgnoreRoute("{resource}.axd/{*pathInfo}");    
            routes.MapRoute(
                name: "Default",
                url: "{controller}/{action}/{id}",
                defaults: new { controller = "Account", action = "Login", id = UrlParameter.Optional }
            );
        } 
```

[现在我在http://epstechno.com/schoolbriefcase/](http://epstechno.com/schoolbriefcase/)中输入网站网址。它重定向到登录页面。但是这次我想去[http://epstechno.com/schoolbriefcase/Account/Login](http://epstechno.com/schoolbriefcase/Account/Login)完整的网址。不想只是[http://epstechno.com/schoolbriefcase/](http://epstechno.com/schoolbriefcase/)

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-25T05:07:12.023

```
 public static void RegisterRoutes(RouteCollection routes)
    {
       routes.IgnoreRoute("{resource}.axd/{*pathInfo}");    
        routes.MapRoute(
            name: "Default",
            url: "{YourStartUpContollerName}/{Action(ByDefaultIndex)}/{id}",
            defaults: new { controller = "Account", action = "Login", id = UrlParameter.Optional }
        );
    } 
```

# java - 连接四下落动画

> ID：16183727
> 
> 赞同：1
> 
> 时间：2013-04-24T05:03:11.057
> 
> 标签：java, swing, graphics, graphics2d, updating

我目前正在创建一个四人连线游戏来玩，当我决定添加一个下降动画会很酷时，我就快完成了。我知道有几种不同的方法可以做到这一点，但我不确定什么是“最好的”。

因为我的 GUI 是由 JComponents 组成的，所以我想我应该使用它`javax.swing.Timer`来保证线程安全。

```
ActionListener update = new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
            };
        };
        Timer timer = new Timer(10, update);
        timer.start(); 
```

我真正的问题是我应该怎么做才能更新我的游戏板？`repaint()`调用（甚至可能`repaint(Rectangle rec)`）并处理其中的所有内容`paint()`或为连接四部分创建另一个类并将该组件添加到我的 GUI会更好吗？

我的连接四件套的另一类目前是这个......

```
public class Piece extends JLabel{
private Color color;
private Ellipse2D circle;

public Piece(Color color, int radius) {
    this.color = color;
    circle = new Ellipse2D.Float(0, 0, radius, radius);
}

@Override
protected void paintComponent(Graphics g) {
    Graphics2D g2 = (Graphics2D)g;
    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
    super.paintComponent(g2);
    g2.setColor(color);
    g2.fill(circle);
}
} 
```

如果我将组件添加到 GUI，我将不得不经常调用`invalidate()`，`validate()`因为我目前拥有的计时器很快，而且我不确定这是否比调用`repaint()`.

这两种方法我都试过了，似乎都可以正常工作，我只是不确定哪种方法更有效？为了学习的目的，我宁愿不要让它变得更繁重。

另外，如果有比我想象的更好的方法，请告诉我。我愿意接受所有建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:06:19.237

这将取决于。最简单的解决方案（从我的角度来看）是使用自定义绘画（使用`repaint`和处理 中的所有内容`paintComponent`，因为它可以让您更好地控制图形图层（IHMO）。

作为练习，你可以两者都做。

基本上，它需要您（直接或间接地）管理您自己的棋子和棋盘布局管理器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:11:13.667

你的 Piece 是一个组件。您所要做的就是调用 setLocation(...) ，组件将自动重新绘制自己。无需任何定制绘画。

> 如果我将组件添加到 GUI，我将不得不调用 invalidate() 和 validate()

只需将布局设置为空。您需要设置组件的大小，但无需调用 invalidate() 或 validate()，因为布局管理器使用这些方法。

# brunch - 要求所有模板，包括带下划线的文件

> ID：16183731
> 
> 赞同：0
> 
> 时间：2013-04-24T05:03:29.153
> 
> 标签：brunch

使用早午餐，我可以要求像这样的文件夹中的所有文件

```
require('/templates/'); 
```

但这不包括带下划线的文件，我仍然需要像这样要求它们：

```
require('templates/_mood'); 
```

我怎么能要求模板文件夹中的所有文件，包括带下划线的文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T05:54:23.123

tl;博士你不能简单地。

`require('/templates/');`不加载所有文件，而是`templates/index`默认加载文件。在`index`你可以要求当前目录中的所有文件，这样你的问题就会得到解决

# sockets - Listening Socket in Samsung Smart Tv

> ID：16183735
> 
> 赞同：1
> 
> 时间：2013-04-24T05:03:56.980
> 
> 标签：sockets, websocket, samsung-smart-tv, tcpsocket

I need to open a TCP socket on the Samsmung Smart TV, listening at a particular port for events from an IP camera in a local network. The camera does not have a "web server" so i cant use web sockets.

I've searched all over the net for terms like Node.js, Socket.io and I've got nothing but confused.

I stumbled on this project - [websockify](https://github.com/kanaka/websockify) But i dont completely understand where and how to use it in the scenario of Samsmung Smart TV. Does anyone have a solution?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T09:32:39.107

您无法在三星电视上创建监听套接字。

您可以使用 Convergence API 与电视上运行的应用程序进行通信。请参阅[http://samsungdforum.com/Guide/art00027/index.html](http://samsungdforum.com/Guide/art00027/index.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-03T18:28:15.513

[自 2014 年 10 月 28 日起，您可以使用 WebSockets： http](http://samsungdforum.com/Guide/?FolderName=d3&FileName=index.html) ://samsungdforum.com/Guide/?FolderName =d3&FileName= index.html 与 SDK 4.5、5.0、5.1 和 2013、2014 电视型号兼容

# c# - HTML 中的图像未在 WKHTMLTOPDF 中的 PDF 中显示

> ID：16183745
> 
> 赞同：0
> 
> 时间：2013-04-24T05:04:30.047
> 
> 标签：c#, asp.net, c#-4.0, wkhtmltopdf

您好我正在使用 Wkhtmltopdf 使用 c#、Asp.net 从 Html 页面创建 PDF。PDF 可以顺利创建，但是当我将图像添加到 HTML 时，它不会显示在 PDF 上。

```
<div id="Image" class="right" style="background:#333;height:15%;width:25%;">

  <img  width="100%" height="100%" src="../TempLogo/chafa.jpg" /> 
```

我用过 "file:///E:/​​AMS/AMS/AMS.WEB/TempLogo/chafa.jpg" & "src="localhost:5822/AMS.WEB/TempLogo/chafa.jpg"; 但确实如此不工作我也尝试将版本从 0.11 更改为 0.9 但它也没有成功

```
 public static string HtmlToPdf(string pdfOutputLocation, string outputFilenamePrefix, string[] urls,
    string[] options = null,
    // string pdfHtmlToPdfExePath = "C:\\Program Files (x86)\\wkhtmltopdf\\wkhtmltopdf.exe")

   string pdfHtmlToPdfExePath = "C:\\Program Files\\wkhtmltopdf\\wkhtmltopdf.exe")
{
    string urlsSeparatedBySpaces = string.Empty;
    try
    {
        //Determine inputs
        if ((urls == null) || (urls.Length == 0))
            throw new Exception("No input URLs provided for HtmlToPdf");
        else
            urlsSeparatedBySpaces = String.Join(" ", urls); //Concatenate URLs

        string outputFolder = pdfOutputLocation;
        string outputFilename = outputFilenamePrefix + "_" + DateTime.Now.ToString("yyyy-MM-dd-hh-mm-ss-fff") + ".PDF"; // assemble destination PDF file name

        var p = new System.Diagnostics.Process()
        {
            StartInfo =
            {
                FileName = pdfHtmlToPdfExePath,
                Arguments = ((options == null) ? "" : String.Join(" ", options)) + " " + urlsSeparatedBySpaces + " " + outputFilename,
                UseShellExecute = false, // needs to be false in order to redirect output
                RedirectStandardOutput = true,
                RedirectStandardError = true,
                RedirectStandardInput = true, // redirect all 3, as it should be all 3 or none
                WorkingDirectory = HttpContext.Current.Server.MapPath(outputFolder),
                CreateNoWindow = true
            }
        };

        p.Start();

        // read the output here...
        var output = p.StandardOutput.ReadToEnd();
        var errorOutput = p.StandardError.ReadToEnd();

        // ...then wait n milliseconds for exit (as after exit, it can't read the output)
        p.WaitForExit(60000);

        // read the exit code, close process
        int returnCode = p.ExitCode;
        p.Close();

        // if 0 or 2, it worked so return path of pdf
        if ((returnCode == 0) || (returnCode == 2))
            return outputFolder + outputFilename;
        else
            throw new Exception(errorOutput);
    }
    catch (Exception exc)
    {
        throw new Exception("Problem generating PDF from HTML, URLs: " + urlsSeparatedBySpaces + ", outputFilename: " + outputFilenamePrefix, exc);
    }
} 
```

# wpf - 组合框背景未在 Windows 8 中应用

> ID：16183746
> 
> 赞同：8
> 
> 时间：2013-04-24T05:04:38.343
> 
> 标签：wpf, themes, wpf-4.0

我对 wpf 主题有点困惑。我想让 wpf 屏幕在 Vista、Windows 7 和 Windows 8 上看起来相同。所以我对组件进行了相应的样式设置，除非在 Windows 8 上运行它们不会造成问题。例如，我有一个组合框，我是像这样在 xaml 中更改其默认背景。

```
<Style TargetType="{x:Type ComboBox}" >
    <Setter Property="FontStyle" Value="Normal"/>
    <Setter Property="Height" Value="24" />
    <Setter Property="Background" Value="{StaticResource GradientButtonBackgroundBrush}"/>
</Style> 
```

组合框背景属性在 Windows 8 中无效，我得到的只是一个右侧带有箭头的平面矩形（默认的 Windows 8 组合框，设计得相当糟糕！）。

所以，我的问题是如何让组合框在所有版本的 Windows 上看起来都一样。我尝试在我的 App.xaml 中添加 windows Aero 主题，如下所示，但它对组合框显示没有影响。这是我添加 Aero 主题的方法

```
<Application.Resources>
    <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="/PresentationFramework.Aero;component/themes/aero.normalcolor.xaml"/>
        </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary> 
```

关于主题还有另一个疑问。我正在 Windows 7 机器上构建 wpf 应用程序，默认情况下（我相信）设置了 Aero Theme。因此，在 Windows 7 机器上查看时，我所有的样式都基于 Aero 主题。如果我在 XP 上运行应用程序会发生什么。那么我是否需要在 App.xaml 中为资源字典（Aero 主题）添加一个条目，如上面代码中列出的那样？

我知道我的问题有点含糊，但相信我，我真的对不同 Windows 版本上 wpf 的默认主题感到困惑。

**编辑：** 我仍然无法根据我的需要设置组合框样式。组合框仍然看起来像一个灰色矩形。

这就是我所做的。我从微软网站下载了 Aero.NormalColor.xaml 并包含在应用程序的主题文件夹中。然后我在 App.xaml 中添加了以下内容

```
 <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="/Themes/Aero.NormalColor.xaml"/>
        </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary> 
```

然后我编译了应用程序并部署在 Windows 8 上。仍然是之前显示的相同组合框。请注意，所有其他元素都会根据主题正确设置样式。我对 Luna.Metallic.xaml 做了同样的事情，除了**ComboBox**之外，每个元素都设置了样式。

我相信当我加载一个使用**ControlTemplate**定义样式的特定主题时，它应该由 wpf 选择。我很困惑为什么即使在给它一个 Aero（或 Luna）控制模板之后只有**ComboBox**不会改变它的外观。有任何想法吗 ？

**EDIT-2** Windows 8 上组合框外观的屏幕截图 ![在此处输入图像描述](https://i.stack.imgur.com/tSqwB.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T10:32:37.827

那么`ComboBox`可点击区域实际上是一个`ToggleButton`

如果您查看 Windows-8 中的`Style`for that `ToggleButton`，您会看到如下内容：

```
<ControlTemplate TargetType="{x:Type ToggleButton}">
  <Border x:Name="templateRoot"
          Background="{StaticResource ComboBox.Static.Background}"
          BorderBrush="{StaticResource ComboBox.Static.Border}"
          BorderThickness="{TemplateBinding BorderThickness}"
          SnapsToDevicePixels="true">
... 
```

从上面可以看到，`Background`used 不是 a `{TemplateBinding Background}`but `{StaticResource ComboBox.Static.Background}`。因此，为什么`Background`在 Windows-8 中为此设置属性时看不到任何效果`ComboBox`

如果您希望`Style`使用不同的操作系统版本（无需回溯并继续检查新版本是否搞砸了您的覆盖），简单的规则是自己**创建。**

创建 a`Style`并将其设置为由`TargetType`和不应用 a`Key`以自动应用。这样，在任何操作系统中，`Style`使用的是您的操作系统，而不是默认的底层操作系统。

因此，这可以保证您的代码在每个操作系统上都按预期运行。将您的样式基于任何操作系统的默认设置，并根据您的喜好对其进行调整。

**旁注**：

从可用性 POV`ComboBox`来看，在 Windows-8 上运行的应用程序中为用户提供 Windows-7 并不是很好（除非您的整个应用程序看起来像一个更糟糕的 Windows-7 应用程序）。您希望用户习惯您的应用程序的样式并忘记他在他的操作系统中使用的所有其他应用程序的习惯，这些应用程序使用基于操作系统的默认样式。如果您有这样做的具体原因，请继续，但请考虑其影响。

举个例子，你说 Windows-8 风格是你不喜欢的东西，我正好相反。实际上，我确实喜欢 Windows-8 干净简洁的外观。闪烁的渐变和让您远离您放在他们面前的内容的东西不会分散用户体验。这是一个永远持续下去的争论。在编写程序时，请注意最终用户的期望和想法，而不仅仅是您认为好的。

**更新：**

请首先评论相关答案。你的回答和你的评论更新没有关系。

好的，至于您的问题编辑，您尝试的内容在 Windows-8 中不起作用，因为 `PresentationFramework.Aero.dll`在 Windows-8 中不存在，这是什么`Aero.NormalColor.xaml`。在 Windows-8 中，您的选项`PresentationFramework.Aero2.dll`是默认选项以及`PresentationFramework.AeroLite.dll`我认为 Windows Server 2012 使用的选项（不确定）

尝试在 Windows-8 上编译您的程序，您会发现它甚至不想编译。

您必须明确地向您的项目添加对`PresentationFramework.Aero`and的引用`PresentationUI`（我认为它是 .net3 的一部分）。

然后，您必须将您的内容编辑`Aero.NormalColor.xaml`为：

```
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:theme="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
                    xmlns:ui="clr-namespace:System.Windows.Documents;assembly=PresentationUI">
... 
```

^^ 我们明确声明了 Aero Theme 的程序集。我不使用 Windows-7，所以我不确定是否只需要这些。但你可以试一试。

**尝试在 Windows-8 中编译您的代码，以确保它可以在 Windows-8 上正常工作**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-25T15:48:39.367

最后，经过几个小时的挫折，我在[这里看到](https://stackoverflow.com/questions/4239714/why-cant-i-style-a-control-with-the-aero-theme-applied-in-wpf-4-0/ "这里")了一个解释帖子。滚动查看**长答案**。它准确地解释了我一直面临的场景，特别是**Aero 风格没有应用于我的 Combobox**。该链接很好地解释了为什么如果我们不希望选择默认的 OS 样式，我们需要为我们设置样式的每个元素添加**BasedOn属性。**所以为 Combobox 添加这个 BasedOn 让它对我有用。

```
<Style TargetType="{x:Type ComboBox}" BasedOn="{StaticResource {x:Type ComboBox}}"> 
```

现在 Aero 主题样式用于组合框。正如@Viv 指出的那样，它可能还需要将 **PresentationFramework.Aero.dll 和 PresentationUI.dll**复制到 Windows 8 机器，因为它们没有随操作系统提供。

谢谢，尼尔文

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-14T03:17:02.500

我对内置模板做了一些修改。不是最干净的解决方案，但消除了必须滚动我自己的模板的麻烦。后面的代码基本上将内置模板边框的属性与组合框的属性绑定在一起。

```
<Style TargetType="ComboBox">
    <Setter Property="Border.Background" Value="White"/>
    <EventSetter Event="Loaded" Handler="ComboBox_Loaded"/>
    <Style.Triggers>
        <Trigger Property="IsReadOnly" Value="True">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
        </Trigger>
        <Trigger Property="IsFocused" Value="True">
            <Setter Property="Background" Value="{StaticResource ResourceKey=FocusedControlBackcolorBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource ResourceKey=FocusedControlBorderBrush}"/>
        </Trigger>
        <Trigger Property="IsMouseOver" Value="True">
            <Setter Property="BorderBrush" Value="{StaticResource ResourceKey=FocusedControlBorderBrush}"/>
        </Trigger>
    </Style.Triggers>
</Style>

    private void ComboBox_Loaded(object sender, RoutedEventArgs e)
    {
        var comboBox = sender as ComboBox;
        var toggleButton = comboBox.Template?.FindName("toggleButton", comboBox) as ToggleButton;
        var border = toggleButton?.Template.FindName("templateRoot", toggleButton) as Border;
        if (border != null)
        {
            Binding b = new Binding("Background");
            b.RelativeSource = new RelativeSource(RelativeSourceMode.FindAncestor, typeof(ComboBox), 1);
            BindingOperations.SetBinding(border, Control.BackgroundProperty, b);

            b = new Binding("BorderBrush");
            b.RelativeSource = new RelativeSource(RelativeSourceMode.FindAncestor, typeof(ComboBox), 1);
            BindingOperations.SetBinding(border, Control.BorderBrushProperty, b);
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T11:32:40.923

**回应@Viv**

@Viv，我觉得您的回答很清楚，但不知何故，您的观点/建议对我来说无法理解，我将简要提及原因

您的建议

> 如果您希望在不同的操作系统版本中使用样式（无需回溯并继续检查新版本是否搞砸了您的覆盖），简单的规则就是自己创建。

这似乎不切实际。主题的想法是为应用程序中的所有元素创建一致的外观并跨所有平台。所以，如果我使用框架提供的特定主题，无论如何，我应该能够达到令人满意的一致性水平，至少在当前主要平台上是这样。最重要的是，并不是每个人都具备从头开始创建所有样式和模板的专业知识。主题的概念应该是，

**“框架提供者正在提供适用于正常场景的主题，如果有人希望推出他的主题，欢迎他这样做”**。

相反，这里的概念似乎

**“框架提供商正在提供主题，但不能保证它会保持一致并且不会中断。所以总是推出你的主题”**

您的报价

> 从上面可以看出，使用的背景不是 {TemplateBinding Background} 而是 {StaticResource ComboBox.Static.Background}。因此，为什么在 Windows-8 中为该 ComboBox 设置 Background 属性时看不到任何效果

我不知道用这种方式制作模板是谁的主意！一定是他疯了，否则我太笨了，无法理解优点。想象一下，我在我的应用程序中使用了一些**蓝色**主题，明天，在 Windows 9 上，有人将**红色**定义为**{StaticResource ComboBox.Static.Background}**。所以，你猜怎么着，我现在有一个漂亮的窗口屏幕，所有元素都以**“蓝色”**为主题，只有组合框出现**“红色”**。我的意思是主题的想法在这里被打破了！

你的旁注

> 举个例子，你说 Windows-8 风格是你不喜欢的东西，我正好相反。实际上，我确实喜欢 Windows-8 干净简洁的外观。

我的组合框看起来像一个禁用的按钮，我什至无法更改它的背景！这些按钮看起来不像是可点击的！当然，正如你所说，这是个人选择。

**我的结论** 如果有人对我如何让组合框在 Windows 8 上工作有任何建议，我会等待一段时间。你的回答提出了事实，所以如果我没有其他选择，我很乐意将其标记为正确解决方案。

涅槃

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-27T02:12:14.830

较新的模板有一个 Grid->ToggleButton->Border 带有硬编码的背景颜色，它不尊重任何背景样式。根据@Matstar 的回答，我找到了一种同步背景颜色的方法。

您仍然可以将绑定设置为背景颜色，代码会在需要时选择它并重新应用它：

```
<ComboBox ItemsSource="{Binding Values}" x:Name="Cbo2"
Background="{Binding Path=SelectedValueBgColor}" ... /> 
```

然后在 xaml.cs

```
cbo.Loaded += (sender, args) =>
{
    var comboBox = sender as ComboBox;
    if (comboBox != null)
    {
        var toggleButton = comboBox.Template?.FindName("toggleButton", comboBox) as ToggleButton;
        var border = toggleButton?.Template.FindName("templateRoot", toggleButton) as Border;
        if (border != null)
        {
            var existing = BindingOperations.GetBinding(comboBox, BackgroundProperty);
            BindingOperations.SetBinding(border, BackgroundProperty, existing);
        }
    }
}; 
```

> 确保您的后台绑定永远不会返回 null

如果您没有有意义的值，则返回透明或白色或其他一些默认值。如果绑定到返回 null 的背景，组合框将停止工作。

> 如果事件发生时需要刷新，请确保通知后台绑定上的属性已更改。

# html - How to escape HTML in node.js EJS view?

> ID：16183748
> 
> 赞同：43
> 
> 时间：2013-04-24T05:04:49.790
> 
> 标签：html, node.js, ejs

I want to escape the html in bloglist[i].Text field. How to do that with EJS?

```
<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
    <% for(var i=0; i < bloglist.length; i++) { %>
       <h3> <%= bloglist[i].Title %></h3>
       <div>
          <%= bloglist[i].Text %>
       </div>
    <% } %>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：109
> 
> 时间：2013-04-24T05:34:39.223

您正在使用以下方法正确转义值：

```
<%= bloglist[i].Text %> 
```

如果您想允许呈现 HTML，那么您需要一个“未转义”的值。为此，请使用以下命令：

```
<%- bloglist[i].Text %> 
```

我所做的只是将等号 (=) 替换为破折号 (-)。

参考：[https ://github.com/visionmedia/ejs/tree/0.8.3#features](https://github.com/visionmedia/ejs/tree/0.8.3#features)

# caching - Orchard programmatically purge cache

> ID：16183750
> 
> 赞同：0
> 
> 时间：2013-04-24T05:04:59.980
> 
> 标签：caching, orchardcms

I am caching something with:

```
var htmlHEAD = _cacheManager.Get(THE_CACHE_KEY, ctx =>
        {
            ctx.Monitor(_clock.When(TimeSpan.FromMinutes(60)));

            return getTenantSpecificHeadHTMLFromDB()
        }); 
```

However, I want to be able to hit a URL and purge the cache if a quick change is ever needed.

eg. this is in AdminController.

```
public ActionResult purgeCache() {
    _cacheMangager.PurgeCache(THE_CACHE_KEY); //this doesn't exist :(

    return Content("OK");
} 
```

How can I do this?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T06:48:16.647

不要只监视基于时间的过期，还要监视命名信号（注入`ISignals`和 `ctx.Monitor(_signals.When("SomeUniqueKeyForYourExpirationSignal"));`），然后在您想要清除缓存条目时触发该信号：`_signals.Trigger("SomeUniqueKeyForYourExpirationSignal");`

# php - 运行具有不完整/空值的表单

> ID：16183751
> 
> 赞同：-1
> 
> 时间：2013-04-24T05:05:02.820
> 
> 标签：php, forms

我正在编写一个脚本，用于计算旅行的总距离（以英里为单位）。它需要计算总距离，以及任何中点之间的距离。现在它可以很好地计算总距离。我正在使用投递箱，并允许它接受最多 5 个中点。现在，我可能只是想让它变得比它需要的更复杂，但是......我希望能够运行脚本，即使三个中点表单留空（这只会说“选择城市" 的值为`" "`or `null`)。当表单的三个字段为空时，有没有办法让脚本运行？

编辑：每个 'index' 或 'pont' 都用`= " ";`. 我为整个脚本使用了一个多维数组，7 个下拉框以“Select City”的选定值开始，该值具有空/空值。我只想知道当两个中点值/下拉框保留初始值“选择城市”时如何运行表单/脚本。

对不起，这是我的一些代码：

```
<?php 
if (isset($_POST['Submit'])) {
$StartIndex = stripslashes($_POST['Start']);
$EndIndex = stripslashes($_POST['End']);
 if (isset($Distances[$StartIndex][$EndIndex]))
echo "Total trip distance from $StartIndex to $EndIndex is". $Distances[$StartIndex][$EndIndex]." miles<br/>";
 else
echo "Distance could not be calculated";
}
?> 
```

这就是我停下来的地方...

```
<?php
if (isset($_POST['Submit'])) {
$Point1 = stripslashes($_POST['1']);
?> 
```

^^其他四个中点是一样的，当只选择起始城市，结束城市和两个中点城市时，我零线索如何仍然运行表单。我会添加整个脚本，但它对多维数组来说很长

要查看我的表单的外观，您可以转到 >> 131.118.95.215/users/mjswiontek0/project/city/citytocity.php

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T07:02:50.120

`empty($_POST["1"])`如果您想将其包含在计算中，只需在每个中点评估您的测试（例如）即可。

请参阅评论（非常通用）示例：

```
if (isset($_POST['Submit'])) 
{
    // start with the start index
    $PrevIndex = stripslashes($_POST['Start']);

    $Point = 1;
    $Distance = 0;

    do
    {
        // do we have the N-th midpoint?
        $HavePoint = !empty($_POST[$Point]);
        // if not, use end point
        $NextIndex = stripslashes($_POST[$HavePoint ? $Point : 'End']);

        // add distance between the two midpoint to total
        $Distance += $Distances[$PrevIndex][$NextIndex];

        // make current point the previous point to the next iteration
        $PrevIndex = $NextIndex;

        // move to the next point for the next iteration
        $Point++;
    }
    while ($HavePoint);
} 
```

# android - Android Socket.io Websocket Transport does not works in SSL

> ID：16183753
> 
> 赞同：4
> 
> 时间：2013-04-24T05:05:11.580
> 
> 标签：android, ssl, https, websocket, socket.io

I'm using gottox [socket.io java client](https://github.com/Gottox/socket.io-java-client) for an Android chat application.
I could connect to both web-socket and Xhr transport in HTTP mode. But when i switch to HTTPS only Xhr mode is working. i used the default SSL Context as below

```
SocketIO.setDefaultSSLSocketFactory(SSLContext.getInstance("Default")); 
```

This works fine in Xhr mode. But in websocket transport there are no responses or errors.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-05-18T23:24:36.187

**更新**

可能是新版本`IO.setDefaultSSLContext`和`IO. setDefaultHostnameVerifier`方法不可用。相反，现在我们可以创建自己的`OkHttpClient`并在其上设置主机名验证器和 ssl 套接字工厂等，如[socket.io-client-java 使用](https://github.com/socketio/socket.io-client-java/blob/master/README.md#usage)中所述。这是那里的片段：

```
OkHttpClient okHttpClient = new OkHttpClient.Builder()
                      .hostnameVerifier(myHostnameVerifier)
                      .sslSocketFactory(mySSLContext.getSocketFactory(), myX509TrustManager)
                      .build(); // default settings for all sockets 

IO.setDefaultOkHttpWebSocketFactory(okHttpClient); 
IO.setDefaultOkHttpCallFactory(okHttpClient); 
```

* * *

**初步答案：**

长期以来，我对 Android 上的[socket.io](https://github.com/socketio/socket.io-client-java)`io.socket:socket.io-client:0.7.0`库版本有同样的问题。它曾经对协议工作正常，但是对于协议，它在建立连接给予时遇到了麻烦。`http``https``xhr poll errors`

以下解决方案适用于我，无需修改库本身：

```
// Socket connection
private Socket mSocket;

// Configure options
IO.Options options = new IO.Options();
// ... add more options

// End point https 
String yourEndpoint = "https://whatever.yoururl.com"
String yourHostName = "yoururl.com"

// If https, explicitly tell set the sslContext.
if (yourEndpoint.startsWith("https://")) {        
    try {
        // Default settings for all sockets

        // Set default ssl context
        IO.setDefaultSSLContext(SSLContext.getDefault());

        // Set default hostname
        HostnameVerifier hostnameVerifier = new HostnameVerifier() {
            @Override
            public boolean verify(String hostname, SSLSession session) {
                HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();
                return hv.verify(yourHostName, session);
            }
        };
        IO.setDefaultHostnameVerifier(hostnameVerifier);

        // set as an option
        options.sslContext = SSLContext.getDefault();
        options.hostnameVerifier = hostnameVerifier;
        options.secure = true;

    } catch (NoSuchAlgorithmException e) {
        e.printStackTrace();
    }
}

// Instantiate the socket
mSocket = IO.socket(mEndpoint, options); 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-06T13:42:23.763

它可以工作，但您必须对 io.socket 库进行一些修改。不使用 socketio.jar，而是将 io.socket 库导入 src 文件夹（您可以在 socket.io-java-client 包中找到）。在那里，您必须编辑 WebsocketTransport 类。

在这里你有解决方案

[https://github.com/Gottox/socket.io-java-client/issues/60](https://github.com/Gottox/socket.io-java-client/issues/60)

```
 public WebsocketTransport(URI uri, IOConnection connection) {
    super(uri);
    this.connection = connection;
    SSLContext context = null;
    try {
        context = SSLContext.getInstance("TLS", "HarmonyJSSE");
    } catch (NoSuchAlgorithmException e) {
        e.printStackTrace();
    } catch (NoSuchProviderException e) {
        e.printStackTrace();
    } 
    try {
        context.init(null, null, null);
    } catch (KeyManagementException e) {
        e.printStackTrace();
    }
    if("wss".equals(uri.getScheme()) && context != null) {
        this.setWebSocketFactory(new DefaultSSLWebSocketClientFactory(context));
    }
} 
```

记得像这样调用 setDefaultSSLSocketFactory：

```
socket = new SocketIO();
socket.setDefaultSSLSocketFactory(SSLContext.getDefault());
socket.connect("https://www.myHttpsServer.com:443/"); 
```

希望它可以帮助某人；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-15T08:51:36.533

带有 SSL 的 Websocket 在[AndroidAsync](https://github.com/koush/AndroidAsync)中工作。暂时使用它。

# asp.net-mvc - Recaptcha provided by Google is not 100% accurate

> ID：16183757
> 
> 赞同：1
> 
> 时间：2013-04-24T05:05:27.173
> 
> 标签：asp.net-mvc, recaptcha

I am using Recaptcha using the following link [http://www.google.com/recaptcha](http://www.google.com/recaptcha)

But, I observed, it not 100% accurate. It validates as success, if we type 2-3 letters wrongly.

Is there a setting, which will make it 100% accurate.

![enter image description here](https://i.stack.imgur.com/pkWky.png)

Now, If a user types "tentace veri", it still validates SUCCESS. Why can't it be 100% accurate.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-25T17:42:12.790

不，Recaptcha 只知道一个词，它使用众包来表示另一个词，这就是为什么它说“数字化......”它实际上是在使用人类来数字化书籍。你可以输入tentace helium，它会起作用。甚至有一个互联网运动用脏词代替第二个词。你可以分辨出它知道哪一个，因为它会扭曲它。

# android - cannot get the object from the gridView

> ID：16183765
> 
> 赞同：0
> 
> 时间：2013-04-24T05:06:49.923
> 
> 标签：android, gridview, baseadapter, onitemclicklistener

I am created a view of current week using `GridView`. I use a `BaseAdapter` for generating the `GridView`.

this is how i give values to the `GridView`

```
 ArrayList<WeekCellItem> weekCellItems = getData(scheduleListdto);
    gridview1.setAdapter(new WeekAdapter(getApplicationContext(),weekCellItems)); 
```

And I need the `CurrentItem` at postion when i clicked on each cell on the `GridView`.

I wrote the `onItemClickListener` for the `GridView`

```
gridview1.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                long arg3) {
            Object o= gridview1.getItemAtPosition(arg2);
            Log.e("", "hhh");
        }
    }); 
```

I get the object 'o' as null.

(EDIT)

my weekAdapter

```
public class WeekAdapter extends BaseAdapter
{
Context mycontext;
ArrayList<String>weekHeads;
ArrayList<WeekCellItem> weekCellItems;
LayoutInflater inflater;
public WeekAdapter(Context c, ArrayList<WeekCellItem> items, ArrayList<String> obj)
{
    weekCellItems=items;
    weekHeads=obj;
    mycontext=c;
    inflater = LayoutInflater.from(c);
}
public int getCount() {
    // TODO Auto-generated method stub
    return weekCellItems.size();
}

public Object getItem(int arg0) {
    // TODO Auto-generated method stub
    return null;
}

public long getItemId(int arg0) {
    // TODO Auto-generated method stub
    return 0;
}

public View getView(int pos, View convertview, ViewGroup parent) {
    // TODO Auto-generated method stub
    viewHolder holder = new viewHolder();
    if(convertview==null)
    {
        convertview = inflater.inflate(R.layout.weekly_layout, null);
        holder.tv = (TextView) convertview.findViewById(R.id.textweeklylayout);
        convertview.setTag(holder);
    }
    else
        holder=(viewHolder)convertview.getTag();
    return convertview;
}
private static class viewHolder
{
    TextView tv;
}} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:07:57.320

您需要实现适配器的`getItem()`方法。`gridview.getItemAtPosition()`依次调用适配器的`getItem()`- 方法。

您的 WeekAdapter`getItem()`返回 null。那就是问题所在。它应该是：

```
public Object getItem(int arg0) {
    return weekCellItems.get(arg0); 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:14:38.507

**添加以下代码。**

```
public Object getItem(int arg0) {
    if (weekCellItems == null || weekCellItems.size() == 0)
        return null;

    return weekCellItems.get(arg0); 
} 
```

***原因：**您正在实现自定义适配器，因此您需要根据需要修改 getItem()。*

# radius - 验证其他系统存储在 freeradius 中的用户

> ID：16183771
> 
> 赞同：0
> 
> 时间：2013-04-24T05:07:27.683
> 
> 标签：radius, freeradius

需要您的帮助，我正在尝试在 pfsense 中对存储在我的 freeradius+mysql 中的用户进行身份验证（充当 wifi 用户的强制门户）

```
AP+-----+PFsense+-----+Internet
            +
            |
            +
        FreeRadius 
```

我很确定我的半径的共享秘密/IP 在 pfsense 系统中正确定义。但我不太确定我的半径是否允许来自其他系统的身份验证。

在 /etc/raddb/clients.conf

我将我的 pfsense 定义为我的 NAS

```
 client 192.168.1.1 {
          secret = testing123
          shortname = pfsense
     } 
```

selinux 已经被禁用。

也许我需要更改或允许一个参数，你能想到我还错过了什么吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T19:32:59.147

您需要在调试模式（-X）下运行服务器，如果它收到来自未知客户端的数据包，它会抱怨并明确告诉您哪个 IP 被用作 SRC 地址。

然后，您可以使用该 IP 添加客户端条目。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-04-27T10:17:20.033

请参考以下链接，因为它们描述了使用强制门户和本地 FreeRADIUS 的过程。

[https://doc.pfsense.org/index.php/FreeRADIUS_2.x_package#HOW-TO_- *FreeRADIUS* .2B_Captive_Portal_configuration](https://doc.pfsense.org/index.php/FreeRADIUS_2.x_package#HOW-TO_-_FreeRADIUS_.2B_Captive_Portal_configuration)

[http://pheriko.blogspot.mx/2013/01/pfsense-2-captive-portalfreeradius2.html](http://pheriko.blogspot.mx/2013/01/pfsense-2-captive-portalfreeradius2.html)

成功实施该过程后，您可以找到本地 clients.conf 以纠正您的客户端配置。

# android - android中的联系人同步适配器

> ID：16183776
> 
> 赞同：14
> 
> 时间：2013-04-24T05:07:47.937
> 
> 标签：android, sync, android-syncadapter

我想在我的应用程序中使用同步适配器将本机和第三方联系人（FB 除外）与服务器同步。（只有客户端到服务器的一种方式同步）

我在这里有两个疑问-

1）如果设备中有多个同步适配器，并且如果脏位已被另一个同步适配器清除，我的同步适配器是否能够立即检测到联系人更改/更新。

2）我用过

```
ContentResolver.setIsSyncable(account, ContactsContract.AUTHORITY, 1);
ContentResolver.setSyncAutomatically(account, ContactsContract.AUTHORITY, true); 
```

将联系人与服务器同步。

它确实每 30 秒启动一次同步。

但是我希望它在添加或删除或更新联系人以启动 perfromSync 操作时立即得到通知。

我也需要使用观察者吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-15T00:38:58.250

为了查看联系人的更改，您必须向 ContentResolver 注册一个观察者。同步 API 并不是要监视每一个变化，它是一个 Android 定期自动为你运行的后台 API，以便它可以批量操作和更有效地使用网络，而不是在禁用网络时运行等。 ..

脏位按每个帐户使用。一般来说，同步设计为每个联系人拥有一个“拥有”帐户，而不是设计用于将所有联系人从设备导出到特定服务。如用户所见，有一个聚合过程可以处理将来自多个帐户的联系人加入到一个“联系人”中。看：

[http://developer.android.com/reference/android/provider/ContactsContract.RawContacts.html](http://developer.android.com/reference/android/provider/ContactsContract.RawContacts.html)

有关其工作原理的更多信息。

如果您打算将设备上的所有联系人导出到您的服务，则需要遍历联系人并为您的服务插入原始联系人。然后，您还需要与观察者一起观察 ContentResolver，以查看用户何时在某些服务上添加新联系人或定期遍历表以查找您尚未导出的联系人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-07-14T19:23:08.363

使用**版本位**。如果任何联系人编辑它会自动增加 1。

所以你创建本地数据库来比较以前的**版本**和当前**版本**。如果发生任何更改，您将触发更新查询。

欲了解更多信息，请访问[此处](http://developer.android.com/guide/topics/providers/contacts-provider.html)。

此版本有助于我的同步更新。所以我把这个答案分享给大家。

# c# - Apply FadeIn effect to WebView

> ID：16183780
> 
> 赞同：0
> 
> 时间：2013-04-24T05:08:00.467
> 
> 标签：c#, xaml, windows-store-apps

I have a WebView that I want to fade in after loading the page, I've tested fading out/in other elements but this is not working with control. Is there any way to get this visual effect to work with WebView?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:23:33.747

WebView 的实现方式与大多数其他元素不同。即使它与您的其他 XAML 元素混合在一起，它也会在自己的窗口中绘制。

这意味着你不能用 WebView 做某些事情

*   没有透明度（这意味着也不会褪色）。
*   不能在 Webvew 上覆盖另一个元素

# android - 滑动菜单监听器

> ID：16183781
> 
> 赞同：1
> 
> 时间：2013-04-24T05:08:06.317
> 
> 标签：android, menu, listener, slidingmenu

在这个程序中，我实现了[滑动库](https://github.com/jfeinstein10/SlidingMenu)。实现这个库，我正在尝试创建一个*MenuActivity*类来处理所有菜单项滑块选项、onClick 侦听器等。现在该类看起来像这样：

```
public class MenuActivity extends SlidingActivity{

    SharePrefManager sm = new SharePrefManager(MenuActivity.this);
    RelativeLayout ask_a_question, life_prediction;
    TextView aries,taurus,gemini,cancer,leo,virgo,libra,scorpio,sagittarius,capricon,aquarius,pisces;
    String isLoggedIn; 

    @Override
    public void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setBehindContentView(R.layout.menu);

        ask_a_question = (RelativeLayout)findViewById(R.id.ask_a_question);

        HashMap<String, String> checkLogin = new HashMap<String, String>();
        checkLogin = sm.getuserDetails();
        isLoggedIn = checkLogin.get(SharePrefManager.KEY_ISLOGEDIN);

        ask_a_question.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                if (isLoggedIn.equals(0))
                {
                    Toast.makeText(getApplicationContext(), "You must be logged in", Toast.LENGTH_SHORT).show();
                }

                else
                {
                    Intent i = new Intent("com.example.btshome.ASKPAGE");
                    startActivity(i);
                }

            }
        });

    }

} 
```

此类基本上是实现库并设置滑动菜单项和 onClick 事件处理程序。这个类也在访问 Preferences，以检查用户是否登录。

在我的*MainActivity*类上，我正在扩展该类并尝试从中获取功能。

```
public class MainActivity extends MenuActivity{

    Button login;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        login = (Button)findViewById(R.id.log_in_button);
        login.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
            startActivity(new Intent("com.example.btshome.LOGINACTIVITY"));
            }
        });
    }
} 
```

在以下实现中，发生以下错误：

```
04-24 10:46:45.081: E/AndroidRuntime(1956): FATAL EXCEPTION: main
04-24 10:46:45.081: E/AndroidRuntime(1956): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.btshome/com.example.btshome.MainActivity}: java.lang.NullPointerException
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1983)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.ActivityThread.access$600(ActivityThread.java:130)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.os.Looper.loop(Looper.java:137)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.ActivityThread.main(ActivityThread.java:4745)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at java.lang.reflect.Method.invokeNative(Native Method)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at java.lang.reflect.Method.invoke(Method.java:511)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at dalvik.system.NativeStart.main(Native Method)
04-24 10:46:45.081: E/AndroidRuntime(1956): Caused by: java.lang.NullPointerException
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.content.ContextWrapper.getSharedPreferences(ContextWrapper.java:153)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at com.example.btshome.library.SharePrefManager.<init>(SharePrefManager.java:35)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at com.example.btshome.MenuActivity.<init>(MenuActivity.java:17)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at com.example.btshome.MainActivity.<init>(MainActivity.java:14)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at java.lang.Class.newInstanceImpl(Native Method)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at java.lang.Class.newInstance(Class.java:1319)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.Instrumentation.newActivity(Instrumentation.java:1053)
04-24 10:46:45.081: E/AndroidRuntime(1956):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1974)
04-24 10:46:45.081: E/AndroidRuntime(1956):     ... 11 more 
```

那么这里出了什么问题？是*MenuActivity*类吗？我是否以不同的方式解决这个问题？

# solr - solr 数据导入处理程序需要很长时间

> ID：16183784
> 
> 赞同：2
> 
> 时间：2013-04-24T05:08:14.013
> 
> 标签：solr, dih

当我尝试使用完全导入命令从数据库中导入所有数据时，sql 查询是三个联合表，每个表有 1M 条记录。对数据源的第一个请求花费了太多时间。直到现在我还没有得到完整的结果。

从命令=状态，

对数据源的总请求数始终为“1”

数据导入处理程序的处理流程是什么，为什么对数据源的第一次请求如此耗时？如何提高全导入性能？

谢谢。

# python - 使用 gevent 的“evhttp 中的内部错误”

> ID：16183785
> 
> 赞同：0
> 
> 时间：2013-04-24T05:08:22.577
> 
> 标签：python, gevent

我有一个包含数百万个网址的文件，例如：数据文件如下：

```
http://wonderland.cjfallon.ie/
http://www.youtube.com/
http://www.starfall.com/
http://education.scholastic.co.uk/
http://www.scoilnet.ie/
http://www.nessy.com/
http://www.senteacher.org/
http://scoop.it/
http://www.moviemaker.com/
http://learni.st/
http://www.twitter.com/
http://www.facebook.com/
http://www.gutenberg.org/
http://www.gutenberg.org/cache/epub/42361/pg42361.txt 
```

我想爬取它们，所以绑定的是网络IO，所以我想使用多个线程或gevent来解决它。

我的多线程代码适用于： [https ://gist.github.com/young001/5449751](https://gist.github.com/young001/5449751)

但是在使用 gevent 时，代码是：[https](https://gist.github.com/young001/baa3eebbf7342c5ac077) ://gist.github.com/young001/baa3eebbf7342c5ac077 它总是出错：

```
status is 200
status is 200
Internal error in evhttp
the url is down http://web2.socialcomputingmagazine.com/the_social_graph_issues_and_strategies_in_2008.htm

the reason 
status is 200
status is 200
status is 200
status is 200
status is 200
status is 200
status is 301
status is 200
status is 301
status is 200
status is 200
Internal error in evhttp 
```

然后它停止了。不知道为什么会这样？

有什么帮助吗？

似乎一切都应该顺利，但事实并非如此，这让我发疯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:27:12.697

修复您的样品后，我可以在这里复制它。

基本上[，这似乎是](https://groups.google.com/forum/?fromgroups=#!topic/gevent/YYEb-JzAc2s)它有时给出的 gevent 错误`Internal error in evhttp`。

[源代码](https://code.google.com/p/gevent/source/browse/gevent/evhttp.pxi?r=709bba6277b543baad6607100392a06ce3d9d67f#598)说：

```
# sometimes this happens, don't know why
sys.stderr.write("Internal error in evhttp\n") 
```

您必须调试它或使用其他东西，或者在失败时重试。

# asp.net - 如何使用 Web 服务在网格视图中绑定下拉列表？

> ID：16183786
> 
> 赞同：1
> 
> 时间：2013-04-24T05:08:23.650
> 
> 标签：asp.net, vb.net, web-services, gridview, drop-down-menu

我的网格视图中有 4 个下拉列表。我希望使用 Web 服务加载它们。有可能这样做吗？如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T06:09:36.970

是的，您可以使用 Web 服务进行填充。你可以这样试试。我没试过这个。

```
SqlConnection conn = new SqlConnection(ConfigurationSettings.AppSettings["Connection"].ToString());
[WebMethod]
public DataSet DDLList()
{
conn.Open();    
SqlCommand ad1 = new SqlCommand("select Id,ValueText from Table", conn);
SqlDataAdapter adapt = new SqlDataAdapter(ad1);
DataSet ds = new DataSet();
adapt.Fill(ds);
conn.Close();
return ds;
} 
```

在 aspx.cs 页面中，可以调用这个 webmethod 并返回 DataSet。

```
Public DataSet FillDDl()
{
UrService.Service test = new UrService.Service();
DataSet ds = new DataSet();
ds = test.DDLList();
return ds;
} 
```

在 aspx 标记中，您可以调用该`FillDDl`方法。

```
<asp:DropDownList ID="ddl" DataSource='<%# FillDDl() %>' DataTextField="ValueText" DataValueField="Id" runat="server"></asp:DropDownList> 
```

# c# - 区分大小写的 Directory.Exists / File.Exists

> ID：16183788
> 
> 赞同：18
> 
> 时间：2013-04-24T05:08:35.957
> 
> 标签：c#, file, directory, case-sensitive, file-exists

有没有办法区分大小写`Directory.Exists`/`File.Exists`因为

```
Directory.Exists(folderPath) 
```

和

```
Directory.Exists(folderPath.ToLower()) 
```

两者都返回`true`？

大多数时候没关系，但我使用的是一个宏，如果路径不匹配案例 100%，它似乎不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T05:18:13.583

由于 Directory.Exists 使用不区分大小写的[FindFirstFile ，所以不。](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364418%28v=vs.85%29.aspx)但是您可以使用设置为[FIND_FIRST_EX_CASE_SENSITIVE](http://msdn.microsoft.com/en-au/library/windows/desktop/aa364419%28v=vs.85%29.aspx)的附加标志参数[PInvoke FindFirstFileEx](http://www.pinvoke.net/default.aspx/kernel32/findfirstfileex.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-27T14:27:17.513

试试这个功能：

```
public static bool FileExistsCaseSensitive(string filename)
{
    string name = Path.GetDirectoryName(filename);

    return name != null 
           && Array.Exists(Directory.GetFiles(name), s => s == Path.GetFullPath(filename));
} 
```

***更新：***

如评论中所述，这仅检查文件名中的案例，而不是路径中的案例。这是因为 GetFullPath 方法返回的不是带有原始 case 的 Windows 原始路径，而是来自参数的路径的副本。

前任：

```
GetFullPath("c:\TEST\file.txt") -> "c:\TEST\file.txt"
GetFullPath("c:\test\file.txt") -> "c:\test\file.txt" 
```

我尝试过的所有方法都以相同的方式工作：Fileinfo、DirectoryInfo。

这是使用 kernel32.dll 方法的解决方案：

```
 [DllImport("kernel32.dll", CharSet = CharSet.Auto)]
    public static extern int GetLongPathName(
        string path,
        StringBuilder longPath,
        int longPathLength
        );

    /// <summary>
    /// Return true if file exists. Non case sensitive by default.
    /// </summary>
    /// <param name="filename"></param>
    /// <param name="caseSensitive"></param>
    /// <returns></returns>
    public static bool FileExists(string filename, bool caseSensitive = false)
    {
        if (!File.Exists(filename))
        {
            return false;
        }

        if (!caseSensitive)
        {
            return true;
        }

        //check case
        StringBuilder longPath = new StringBuilder(255);
        GetLongPathName(Path.GetFullPath(filename), longPath, longPath.Capacity);

        string realPath = Path.GetDirectoryName(longPath.ToString());
        return Array.Exists(Directory.GetFiles(realPath), s => s == filename);
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-07T15:09:46.710

基于[this question](https://stackoverflow.com/questions/4763117/how-can-i-obtain-the-case-sensitive-path-on-windows)的解决方案，我编写了以下代码，该代码对除Windows驱动器号之外的*整个路径*区分大小写：

```
 static void Main(string[] args)
    {
        string file1 = @"D:\tESt\Test.txt";
        string file2 = @"d:\Test\test.txt";
        string file3 = @"d:\test\notexists.txt";

        bool exists1 = Case_Sensitive_File_Exists(file1);
        bool exists2 = Case_Sensitive_File_Exists(file2);
        bool exists3 = Case_Sensitive_File_Exists(file3);

        Console.WriteLine("\n\nPress any key...");
        Console.ReadKey();
    }

   static bool Case_Sensitive_File_Exists(string filepath)
   {
        string physicalPath = GetWindowsPhysicalPath(filepath);
        if (physicalPath == null) return false;
        if (filepath != physicalPath) return false;
        else return true;
   } 
```

`GetWindowsPhysicalPath(string path)`我从[问题](https://stackoverflow.com/questions/4763117/how-can-i-obtain-the-case-sensitive-path-on-windows)中复制了代码

```
 [DllImport("kernel32.dll", SetLastError = true, CharSet = CharSet.Auto)]
    static extern uint GetLongPathName(string ShortPath, StringBuilder sb, int buffer);

    [DllImport("kernel32.dll")]
    static extern uint GetShortPathName(string longpath, StringBuilder sb, int buffer);

    protected static string GetWindowsPhysicalPath(string path)
    {
        StringBuilder builder = new StringBuilder(255);

        // names with long extension can cause the short name to be actually larger than
        // the long name.
        GetShortPathName(path, builder, builder.Capacity);

        path = builder.ToString();

        uint result = GetLongPathName(path, builder, builder.Capacity);

        if (result > 0 && result < builder.Capacity)
        {
            //Success retrieved long file name
            builder[0] = char.ToLower(builder[0]);
            return builder.ToString(0, (int)result);
        }

        if (result > 0)
        {
            //Need more capacity in the buffer
            //specified in the result variable
            builder = new StringBuilder((int)result);
            result = GetLongPathName(path, builder, builder.Capacity);
            builder[0] = char.ToLower(builder[0]);
            return builder.ToString(0, (int)result);
        }

        return null;
    } 
```

**请注意**，我发现此功能的唯一问题是，驱动器号似乎总是小写。示例：Windows 上的物理路径为：`D:\Test\test.txt`，`GetWindowsPhysicalPath(string path)`函数返回`d:\Test\test.txt`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-01-09T23:40:08.893

这是检查目录是否实际存在的一种相对简单的方法。我需要这个，因为我有一个重命名文件夹的选项，它会首先检查是否不会发生冲突。因此，例如，如果我想将文件夹“cars”重命名为“Cars”。

这真的很简单。如果系统报告该文件夹存在，那么我只需在父文件夹上调用 GetDirectories，并将目录名称作为通配符传递（因此正好返回 1 个结果）。一个简单的比较给了我答案。

```
static public bool DirExistsMatchCase(string path)
{
    // If it definitely doesn't return false
    if (!Directory.Exists(path)) return false;

    // Figure out if the case (of the final part) is the same
    string thisDir = Path.GetFileName(path);
    string actualDir = Path.GetFileName(Directory.GetDirectories(Path.GetDirectoryName(path), thisDir)[0]);
    return thisDir == actualDir;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-19T00:11:41.693

试试这两个不需要使用 PInvoke 并返回可为空的布尔值（bool？）的更简单的选项。我不是学科专家，所以我知道这是否是最有效的代码，但它对我有用。

只需传入一个路径，如果结果为 null (HasValue = false) 则找不到匹配项，如果结果为 false 则完全匹配，否则如果为 true 则匹配不同大小写。

GetFiles、GetDirectories 和 GetDrives 方法都返回保存在文件系统中的确切大小写，因此您可以使用区分大小写的比较方法。

注意：对于路径是精确驱动器的情况（例如@"C:\"），我必须使用稍微不同的方法。

```
using System.IO;
class MyFolderFileHelper {
    public static bool? FileExistsWithDifferentCase(string fileName)
    {
        bool? result = null;
        if (File.Exists(fileName))
        {
            result = false;
            string directory = Path.GetDirectoryName(fileName);
            string fileTitle = Path.GetFileName(fileName);
            string[] files = Directory.GetFiles(directory, fileTitle);
            if (String.Compare(files[0], fileName, false) != 0)
                result = true;                
        }
        return result;
    }

    public static bool? DirectoryExistsWithDifferentCase(string directoryName)
    {
        bool? result = null;
        if (Directory.Exists(directoryName))
        {
            result = false;
            directoryName = directoryName.TrimEnd(Path.DirectorySeparatorChar);

            int lastPathSeparatorIndex = directoryName.LastIndexOf(Path.DirectorySeparatorChar);
            if (lastPathSeparatorIndex >= 0)
            {                       
                string baseDirectory = directoryName.Substring(lastPathSeparatorIndex + 1);
                string parentDirectory = directoryName.Substring(0, lastPathSeparatorIndex);

                string[] directories = Directory.GetDirectories(parentDirectory, baseDirectory);
                if (String.Compare(directories[0], directoryName, false) != 0)
                    result = true;
            }
            else
            {
                //if directory is a drive
                directoryName += Path.DirectorySeparatorChar.ToString();
                DriveInfo[] drives = DriveInfo.GetDrives();
                foreach(DriveInfo driveInfo in drives)
                {
                    if (String.Compare(driveInfo.Name, directoryName, true) == 0)
                    {
                        if (String.Compare(driveInfo.Name, directoryName, false) != 0)
                            result = true;
                        break;
                    }
                }

            }
        }
        return result;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-06-11T01:46:37.447

如果文件的（相对或绝对）路径是：

```
string AssetPath = "..."; 
```

以下确保文件既存在又具有正确的大小写：

```
if(File.Exists(AssetPath) && Path.GetFullPath(AssetPath) == Directory.GetFiles(Path.GetDirectoryName(Path.GetFullPath(AssetPath)), Path.GetFileName(Path.GetFullPath(AssetPath))).Single())
{
} 
```

享受！

# c# - 将列表对象绑定到 javascript 数组

> ID：16183790
> 
> 赞同：2
> 
> 时间：2013-04-24T05:08:42.547
> 
> 标签：c#, javascript, asp.net-mvc, binding

我的模特喜欢这样的东西

```
public class ResponseData
{
    public List<Item> Items {get; set;}
    public string Name {get; set;}
} 
```

我知道我可以`Name`像这样在我的视图（.cshtml）中绑定到 JavaScript：`var jsName = '@Model.Name'`

问题是如何将 List 绑定到数组？我想做这样的事情

`var Array = @Model.Itmes`然后能够通过 JavaScript 迭代这个数组。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T05:16:39.270

Mate的回答会奏效。将模型转换为 JSON 对象的另一种选择：

```
<script type="text/javascript">
    var model = @Html.Raw(Json.Encode(Model));
    var items = model.Items;
</script> 
```

# java - 如何在 Java 中的 HTML 中添加 JavaScript

> ID：16183791
> 
> 赞同：0
> 
> 时间：2013-04-24T05:08:50.297
> 
> 标签：java, javascript, android

```
function linkClick(e) {
  alert(e.target.href);
}

function setDefaultLinkHandlers(){
  links = document.getElementsByTagName('a');
  for (i = 0; i < links.length; i++)
  links[i].addEventListener('click', linkClick, false);
}

document.onload=setDefaultLinkHandlers(); 
```

这是 JavaScript

```
String Url = "http://dev.taxmann.com/actruleservice/ActRuleService.asmx/GetFileHTML?FileID_or_FullPath=102120000000025184";
String htmlResp = getStringPage(Url);

WebSettings webSettings = webview.getSettings();

String k = Html.fromHtml((String) htmlResp).toString().replace(");'", ""); 
```

这`k`是获取 HTML 的字符串，我必须在此 HTML 中添加该 JavaScript。谁能告诉我如何添加这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:20:22.790

```
String myJavascript = "<script>"+"your javascript here"+"</script></head>";

htmlResp = htmlResp.replace("</head>", myJavascript);

String k = .... 
```

# wpf - 如何让附加属性在代码隐藏中工作

> ID：16183792
> 
> 赞同：0
> 
> 时间：2013-04-24T05:08:50.620
> 
> 标签：wpf, code-behind, attached-properties

我试图让附加属性在后面的代码中工作，但我显然遗漏了一些东西。据我了解，结果应该是“测试”，但它是 string.Empty。

LogicalTreeHelper 声明它`child`是 的子`parent`节点，因此树的设置正确。

有什么建议么？

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        var parent = new TestParent();
        var child = new Child();
        parent.AddLogicalChild(child);
        parent.SetValue(TestParent.TestProperty, "test");

        var result = child.GetValue(TestParent.TestProperty); // Returns ""

        InitializeComponent();
    }
}

class TestParent : FrameworkElement
{
    public static readonly DependencyProperty TestProperty = 
        DependencyProperty.RegisterAttached("Test", typeof(string), typeof(TestParent), 
        new FrameworkPropertyMetadata(string.Empty, FrameworkPropertyMetadataOptions.Inherits));

    public void AddLogicalChild(FrameworkElement element)
    {
        base.AddLogicalChild(element);
    }
}

class Child : FrameworkElement
{

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:54:12.630

像这样设置逻辑树是行不通的。[`LogicalChildren`](http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.logicalchildren.aspx)在调用 AddLogicalChild 后，您可以通过查看父级的属性轻松地检查这一点。它仍然是`null`。您可能需要查看[如何：覆盖逻辑树](http://msdn.microsoft.com/en-us/library/ms742244.aspx)。

但是，您的继承属性运行良好：

```
var parent = new StackPanel();
var child = new TextBlock();
parent.Children.Add(child);
parent.SetValue(TestParent.TestProperty, "test");

var result = child.GetValue(TestParent.TestProperty); // returns "test" 
```

# linux - How to use abstract names of unix domain sockets with fcgi in Perl in Linux?

> ID：16183794
> 
> 赞同：3
> 
> 时间：2013-04-24T05:09:06.740
> 
> 标签：linux, perl, sockets, fastcgi, unix-socket

In Linux, in Perl, using the FCGI module, using the Open Socket function, is it possible to create an unix domain sockets using abstract names?

I tried to create a socket starting with a null character `\0wibble \zwibble \x{0}wibble` and it didn't work!

It worked only using pathname, as described in unix(7):

```
$socket = FCGI::OpenSocket( "/tmp/wibble", 10 ); 
```

Thank you!

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:24:32.060

FCGI::OpenSocket() 底层的实现不支持它。

该调用最终调用了一个 C 函数`int OS_CreateLocalIpcFd(const char *bindPath, int backlog)`。您可以立即推断出该`bindPath`参数被理解为以 NUL 结尾的字符串，而不是以 NUL 为前缀的字符串。

如果您可以为 FCGI.pm 提供自己的套接字，您可能有机会完成这项工作。

# c++ - 将一个字节转换为具有相同数据集的 8 位

> ID：16183795
> 
> 赞同：-3
> 
> 时间：2013-04-24T05:09:09.830
> 
> 标签：c++

我有个问题。我有一个 32 x 32 整数矩阵的数据集。由于 int 保持 32 位，我想将矩阵的每个元素分解为 32 位，假设我在矩阵的第一位有 255 个十进制数，这可以保持 32 位整数，现在我想将这 255 个十进制数转换为二进制255 即 11111111 并用零填充剩余位置。我不想构造另一个矩阵，因为这样数据大小将大于 32 位。我想用 C++ 做到这一点。像这样的东西...

```
a[32][32];
for(int i=0;i<32;i++)
for(int j=0;j<32;j++)
a[i][j]=255+i+j; 
```

现在让 a[0][0]=255 以十进制形式...我想将这个和矩阵 a 的每个元素转换为十进制，这将是这样的..a[0][0]=00000000000000000000000011111111。这是 32 位，因为 int 可以容纳 32 位。现在我的问题是如何访问 a[0][0] 的每一位。重要的是我想保持 32 位格式并且不想创建另一个矩阵。

如果您有任何解决方案，请与我分享。我是编程世界的新手。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T06:51:07.980

要访问整数的位，您必须使用*按位运算*符。

要测试是否设置了第 n 位，请使用`&`和`<<`

```
if (m[0][0] & (1 << n))
    cout << "bit " << n << " is set"; 
```

请记住从 0 开始计数，以便测试第一个（或最低）位是否设置为使用`1 << 0`，第二个使用`1 << 1`等。

要设置第 n 位，请使用`|=`和`<<`

```
m[0][0] |= (1 << n); 
```

要清除第 n 位，请使用`&=`,`~`和`<<`

```
m[0][0] &= ~(1 << n); 
```

要反转第 n 位，请使用`^=`和`<<`

```
m[0][0] ^= (1 << n); 
```

还有很多其他可能性，包括一次测试或设置多个位、提取位域等。我建议您阅读有关此的教程。互联网上有很多这样的东西，例如[这个](http://www.cprogramming.com/tutorial/bitwise_operators.html)。

# javascript - 使用 jQuery 对字母数组进行排序

> ID：16183796
> 
> 赞同：1
> 
> 时间：2013-04-24T05:09:17.620
> 
> 标签：javascript, jquery, sorting

我正在尝试使用 jquery 比较包含字母和数字的两个数组，但对该函数的调用什么也不做。

```
 jQuery.compare = function (string2,string1) {
        alert("comparing")
        var i, j;
        for ( i = 0, j=0; i < string2.length|| j<string1.length; ++i,++j) {

            var n1 = 0,n2=0;
                if ($.isNumeric(string2[i+1])) {
                    num=string2[i]
                    while ($.isNumeric(string2[i+1])) {
                        i++;
                        num += string2[i]

                    }
                    n1 = 1;
                }
                if ($.isNumeric(strin1[j])) {
                    num1 = string1[j]
                    while ($.isNumeric(string1[j+1])) {
                        j++;
                        num1 += string1[j]
                    }
                    n2 = 1;
                }

                if (n1 == 1) {
                    if (n2 = 1) {
                        if( parseInt(num1) - parseInt(num) !=0)
                            return parseInt(num1) - parseInt(num);
                    }
                    else
                        return 1;
                }
                else if (n2 = 1)
                    return -1;
                else {
                    if(string2[i]-string1[j]!=0)
                       return string2[i]-string1[j]!=0;

                }
        }
        if (j < string1.length)
            return -1;
        else
            return 1;

    } 
```

我也想知道调用这个函数的最好方法。我想使用类似 string1.compare(string2) 的东西，并在上面的代码片段中将 string1 替换为 'this'。

编辑：这就是我调用比较函数的方式。这里，colValues 是一个字符串数组。

```
 $.fn.sort = function (colValues) {
        alert("sorting")
        var i;
        for (i = 0; i < colValues.length; ++i) {
            for (var j = 0; j < i - 1; ++j) {
                alert("before compare")

                if(colValues.compare(colValues[j],colValues[j + 1])) {
                    var temp = colValues[j];
                    colValues[j] = colValues[j + 1];
                    colValues[j + 1] = temp;
                }
            }
        }
        return colValues
    } 
```

如果我更换

```
 if(colValues.compare(colValues[j],colValues[j + 1])) 
```

和

```
 if(colValues[j]>colValues[j+1]) 
```

我的排序功能有效。

我是 jquery 编码的新手。可能存在一些语法错误。我真的不想要任何关于算法的帮助，只是语法。

[jsfiddle-checkout 我的代码在这里](http://jsfiddle.net/thunderbird/RsEuZ/8/)

EDIT2：我将所有内容都修复为元数据。这是我必须改变的

1)

```
 jQuery.compare 
```

至

```
 $.fn.compare 
```

2)

```
 if($.isNumeric(string2[i+1])) 
```

至

```
 if(jQuery.isNumeric(string2[i + 1])) 
```

不知何故

```
 while ($.isNumeric(string1[j+1])) 
```

语法没有任何变化

3)

```
parseInt(num1) - parseInt(num) 
```

也没有工作，因为它返回了 NaN。为了解决这个问题，我定义了两个 var 变量“number1”和“number2”，并用 0 初始化它们，并将 parseInt(num1) 分别分配给变量，然后减去新变量。

# drupal-7 - 在drupal 7中使用重新排列字段模块时如何更改webform模块背景

> ID：16183797
> 
> 赞同：0
> 
> 时间：2013-04-24T05:09:23.910
> 
> 标签：drupal-7

在drupal 7中使用重新排列字段模块时如何更改webform模块背景

(ie) 我在样式表中使用了黑色背景。但我需要在使用这两个模块（webform 模块、重新排列模块）时设置白色背景。为什么我这次说这些模块是我使用这些模块后遇到的问题。

在这个模块中，我正在使用重新排列模块，这意味着它用于我将文本框字段和选择框字段设置在我希望放置的任何位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T03:26:14.120

在您的 CSS 中指定您的背景：#FFF 为 !important，它应该覆盖来自模块的任何 CSS 冲突。

```
#webform-id { background: #FFF !important; } 
```

# scala - 播放 Scala No Json deserializer found for type (String, String)。尝试为此类型实现隐式读取或格式

> ID：16183798
> 
> 赞同：13
> 
> 时间：2013-04-24T05:09:24.687
> 
> 标签：scala, playframework

Play with Scala 中的这些 Json 序列化程序让我发疯。

我已经阅读了几十篇文章、教程和文档。尝试了四种不同的方式来实现读取/写入/格式覆盖，但都无济于事。

所以我放弃了自定义类型并决定变得超级简单：

```
 def suggest = Action(parse.json) {
    request =>
      request.body.validate[(String, String)].map {
        case (suggestion, categories) => Ok("You suggested " + suggestion + " for categories " + categories)
      }.recoverTotal {
        e => BadRequest(JsError.toFlatJson(e))
      }
  } 
```

如主题中所述，错误又回来了。

我*真的*需要为这样的基本主体提供自定义的读取/写入/格式实现吗？

示例输入主体可以是：

```
{"suggestion":"add generics", "categories":"request;language;updates"} 
```

我错过了什么简单的事情？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-27T03:19:38.740

玩！为您提供了很多使用 Json 的方法。从您的代码的外观来看，您正在走元组之路。这基本上可以让您将 Json 转换为元组。您还使用了“读取”，它的缺点是您无法获得*精确*的错误报告（即：如果传递了无效的 json，您会知道它是无效的……但您不一定知道它*为什么*无效）。如果您想要更多的错误处理，那么您需要开始使用“验证”方法（详情请点击此处：[http](http://www.playframework.com/documentation/2.1.1/ScalaJsonCombinators) ://www.playframework.com/documentation/2.1.1/ScalaJsonCombinators ）。

您可以采用的另一种方法是将 Json 映射到案例类，执行以下操作：

```
import play.api.libs.json._

case class MyClass(
  suggestion: String,
  categories: String
)

object MyClass {
  implicit val readsMyClass: Reads[MyClass] = new Reads[MyClass] {
    def reads(json: JsValue): JsResult[MyClass] = {
      for {
        suggestion <- (json \ "suggestion").validate[String]
        categories <- (json \ "categories").validate[String]
      } yield MyClass(json,categories)
    }
  }
} 
```

这似乎有很多代码，所以 Play 2.1 引入了我还没有尝试过的 Json 'Inception' ( [http://www.playframework.com/documentation/2.1.1/ScalaJsonInception](http://www.playframework.com/documentation/2.1.1/ScalaJsonInception) )。

最后，如果您想要 Json 验证但不需要编组/解组案例类，那么您可以尝试“海岸到海岸”方法。这会将您的所有 json 保留为 JsObject 类型，但仍会为您提供验证。此处的示例代码：[https ://github.com/mandubian/play2-json-demo/blob/master/json-coast-to-coast/app/controllers/Application.scala](https://github.com/mandubian/play2-json-demo/blob/master/json-coast-to-coast/app/controllers/Application.scala)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T05:22:23.460

所以我添加了这个：

```
 implicit val rds = (
    (__ \ 'suggestion).read[String] and
    (__ \ 'categories).read[String]
  ) tupled 
```

这似乎奏效了。

不过，好奇的是，这真的是最好的方法吗？如果您有许多类型要序列化/反序列化，这似乎是一大堆代码。

# rest - 在没有浏览器的情况下向 facebook 授权对话框授予权限

> ID：16183805
> 
> 赞同：0
> 
> 时间：2013-04-24T05:10:12.177
> 
> 标签：rest, facebook-graph-api

是否有任何基于 API 的方法来授予“没有 javascript SDK 的客户端登录”的权限。在这里，我的应用程序登录用户，当触发对话/oauth 请求时，我希望通过 C 程序执行所有操作（应用程序授权和权限授予）。我可以使用一些 API 来做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-10T06:48:43.233

不可能。Facebook 使用 oAuth 进行授权和权限授予，这些步骤只需要在 facebook 服务器上执行。

任何第三方应用程序都不能接受用户凭据并代表他授予权限。

# javascript - 使用 XUL 和 Javascript 加密 Sqlite 数据库文件

> ID：16183806
> 
> 赞同：-1
> 
> 时间：2013-04-24T05:10:12.993
> 
> 标签：javascript, sqlite, security, encryption, xul

我正在开发基于 XUL 的应用程序，它使用 SQLite 数据库进行存储。我正在使用与 XUL 和 SQLite 交互的 javascript API，我可以使用这个 JavaScript API 执行任何命令（如插入更新删除）。

现在的问题是我已经下载了用于 SQLite 编辑的第三方工具。我意识到，使用这个编辑器，任何人都可以修改数据库表。所以，我想制作一个加密或安全的 SQLite 文件。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T20:18:57.547

使用具有加密[存储格式的](https://wiki.mozilla.org/Services/Sync/Developer/StorageFormat)[Sync API](https://developer.mozilla.org/en-US/docs/Firefox_Sync/JavaScript_Client_API) ，如以下附加组件：

*   [XMarks 同步](https://addons.mozilla.org/en-US/firefox/addon/xmarks-sync/)
*   [时尚同步](https://addons.mozilla.org/en-US/firefox/addon/stylishsync/)

[麦考伊](https://developer.mozilla.org/en-US/docs/McCoy)也可能是一个选择。

# java - 多个图像的拖放功能

> ID：16183809
> 
> 赞同：0
> 
> 时间：2013-04-24T05:10:17.723
> 
> 标签：java, android, drag-and-drop, android-imageview

我想知道是否有任何教程在不同的图像上具有拖放功能，使它们具有特定的目标？

我的意思是，如果你说，4 个可拖动的图像；`image_drag_1`, `image_drag_2`, `image_drag_3`,`image_drag_4`和 4 个 drop_target 图像；`image_drop_1`, `image_drop_2`,`image_drop_3`和`image_drop_4`.

`image_drag_1`应该与 image_drop_1 匹配，并且任何尝试放置`image_drag_1`在屏幕布局中的任何其他放置图像或位置上，都会使`image_drag_1`快照回到其原始位置。

[本教程](http://mobile.tutsplus.com/tutorials/android/android-sdk-implementing-drag-and-drop-functionality/) 实现了 textview 的拖放功能，但没有指定目标。

我已经尝试按照上述教程自行实现我自己的拖放操作，让 textview 可以拖动，而 imageviews 是放置目标。它只是让我的模拟器崩溃。

下面可以找到我的 .java 文件：

```
import android.os.Bundle;
import android.app.Activity;
import android.view.View;
import android.view.DragEvent;
import android.view.MotionEvent;
import android.view.View.DragShadowBuilder;
import android.view.View.OnDragListener;
import android.view.View.OnTouchListener;
import android.widget.ImageView;
import android.widget.TextView;
import android.content.ClipData;
import android.graphics.Typeface;

public class MainActivity extends Activity {

    //Imageview to drag the image is dragged into
    private ImageView image1, image2;

    //textview the image is dragged into
    private TextView choice1, choice2;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //views to drag
        image1 = (ImageView)findViewById(R.id.imageView1);
        image2 = (ImageView)findViewById(R.id.imageButton1);

        //views to drop onto
        choice1 = (TextView)findViewById(R.id.choice_1);
        choice2 = (TextView)findViewById(R.id.choice_2);

        //set touch listeners
        image1.setOnTouchListener(new ChoiceTouchListener());
        image2.setOnTouchListener(new ChoiceTouchListener());

        //set drag listeners
        choice1.setOnDragListener(new ChoiceDragListener());
        choice2.setOnDragListener(new ChoiceDragListener());

    }

    private final class ChoiceTouchListener implements OnTouchListener {
        public boolean onTouch(View view, MotionEvent motionEvent) {
            if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {
                /*
                 * Drag details: we only need default behavior
                 * - clip data could be set to pass data as part of drag
                 * - shadow can be tailored
                 */
                ClipData data = ClipData.newPlainText("", "");
                DragShadowBuilder shadowBuilder = new View.DragShadowBuilder(view);
                //start dragging the item touched
                view.startDrag(data, shadowBuilder, view, 0);
                return true;
            } else {
                return false;
            }
        }
    } 

    /**
     * DragListener will handle dragged views being dropped on the drop area
     * - only the drop action will have processing added to it as we are not
     * - amending the default behavior for other parts of the drag process
     *
     */
    private class ChoiceDragListener implements OnDragListener {

        @Override
        public boolean onDrag(View v, DragEvent event) {
            switch (event.getAction()) {
            case DragEvent.ACTION_DRAG_STARTED:
                //no action necessary
                break;
            case DragEvent.ACTION_DRAG_ENTERED:
                //no action necessary
                break;
            case DragEvent.ACTION_DRAG_EXITED:        
                //no action necessary
                break;
            case DragEvent.ACTION_DROP:
                //handle the dragged view being dropped over a drop view
                View view = (View) event.getLocalState();

                //stop displaying the view where it was before it was dragged
                view.setVisibility(View.INVISIBLE);

                //view dragged item is being dropped on
                TextView dropTarget = (TextView) v;

                //view being dragged and dropped
                ImageView dropped = (ImageView) view;

                //update the text in the target view to reflect the data being dropped
                dropTarget.setText(dropped.getImageAlpha());

                //make it bold to highlight the fact that an item has been dropped
                dropTarget.setTypeface(Typeface.DEFAULT_BOLD);

                //if an item has already been dropped here, there will be a tag
                Object tag = dropTarget.getTag();

                //if there is already an item here, set it back visible in its original place
                if(tag!=null)
                {
                    //the tag is the view id already dropped here
                    int existingID = (Integer)tag;
                    //set the original view visible again
                    findViewById(existingID).setVisibility(View.VISIBLE);
                }
                //set the tag in the target view being dropped on - to the ID of the view being dropped
                dropTarget.setTag(dropped.getId());
                break;
            case DragEvent.ACTION_DRAG_ENDED:
                //no action necessary
                break;
            default:
                break;
            }
            return true;
        }
    } 
} 
```

我的xml文件如下：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MainActivity" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/linearLayout1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentLeft="true"
    android:layout_marginBottom="66dp"
    android:orientation="vertical"
    android:padding="10dp"
    android:paddingLeft="50dp"
    android:paddingRight="50dp" >

    <TextView
        android:id="@+id/choice_1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:layout_marginTop="46dp"
        android:background="@drawable/choice"
        android:gravity="center"
        android:text="@string/choice_1" />

    <TextView
        android:id="@+id/choice_2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="5dp"
        android:layout_marginTop="57dp"
        android:background="@drawable/choice"
        android:gravity="center"
        android:text="@string/choice_2" />
</LinearLayout>

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/linearLayout1"
    android:layout_marginBottom="16dp"
    android:layout_toRightOf="@+id/imageButton1"
    android:contentDescription="@string/image_desc"
    android:src="@drawable/firefighter" />

<ImageButton
    android:id="@+id/imageButton1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:contentDescription="@string/image_desc"
    android:src="@drawable/clown" /> 
```

关于我做错了什么有什么建议吗？提前致谢。

# php - 为什么这行不通？如何使这项工作？

> ID：16183815
> 
> 赞同：4
> 
> 时间：2013-04-24T05:11:09.307
> 
> 标签：php, javascript, jquery, html

这是我的 HTML 和 PHP 代码

Colorbox 很好，它也显示了按钮。

```
//This is the Colorbox code
<div style="display: none">
<div id="remove">
    <h1>Are you sure you wish to remove this product</h1>
    <h2>Enter Captcha below to confirm</h2> //Just a Captcha-like behavior
    <input type="text" value="<?php echo $captcha_value; ?>" id="display" readonly ><br /> <br>
    <input type="text" name="captcha" value="" id="input" maxlength=6/> <br> <br>
</div>
</div>

//To Display all products
<?php foreach ($products as $product) { ?>
<td>
   <div>
     <img src="<?php echo $product['image']; ?>"/>
   </div>
   <div>
     <a onClick="loadColor(<?php echo $product['opv_id']; ?>)" class="remove-item">
       <img src="<?php echo $product['product_remove_image']; ?>"/>
     </a> //To know which product's link was clicked
   </div>
</td>
<?php } ?>

//loadColor function which will append a button to Colorbox
<script type="text/javascript">
function loadColor(opv_id) { //To create a button and append to the colorbox and call colorbox
  $('#remove-product').remove();
  string = '<button value="' + opv_id + '" id="remove-product">Submit</button>';
  $(string).appendTo('#remove');
  jQuery.colorbox({inline: true, href:"#remove", width:"50%"});
}
</script>

<script type="text/javascript">
$('#remove-product').click(function() {
  alert('Clicked');
  //Do something here!!
})
</script> 
```

知道了 ：）

那么还有其他更简单的方法来实现我上面尝试做的事情吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T05:13:17.403

您需要对动态添加的元素使用事件委托：

```
$('#remove').on("click", '#remove-product', function () {
    alert('Clicked');
    //Do something here!!
}); 
```

检查[文档](http://api.jquery.com/on/)

# java - 如何更改java类的predifine方法

> ID：16183818
> 
> 赞同：0
> 
> 时间：2013-04-24T05:11:18.167
> 
> 标签：java

我想更改 ArrayList 类的预定义方法。假设我们向 arraylist 添加任何元素。同时系统将打印“value is added in arraylist”。是否可以对 ArrayList 类的 add() 进行更改。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:29:58.077

在这种情况下，组合通常优于继承（参见[http://en.wikipedia.org/wiki/Composition_over_inheritance](http://en.wikipedia.org/wiki/Composition_over_inheritance)）。

例如，如果您遵循扩展`ArrayList`类的方法，您是否也希望在调用时调用您的逻辑`add(int index, E element)`。怎么样`addAll(Collection<? extends E> c)`。如果在 Java 的后续版本中添加了新的 add 方法怎么办？

相反，请考虑实施您自己的`List`. 在内部，它会将操作委托给`ArrayList`，但您不得不考虑如何处理每种类型的加法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:12:51.627

```
public class foo extends ArrayList<Object> {
  @Override
  public boolean add(Object e) {
    // print your stuff here
    return super.add(e);
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:13:15.863

你问方法`overriding`？？

```
public class MyArrayLIst  extends ArrayList<ClassObj>{

   @Override
   public void add(ClassObj obj) {
      //sysout
      return super.add(obj);

   }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T05:15:26.417

制作您自己的重写 add 方法，该方法调用 ArrayList 的 add 方法并打印您想要的内容。必须通过继承类来完成。

# ios - iOS JSON解析麻烦

> ID：16183820
> 
> 赞同：0
> 
> 时间：2013-04-24T05:11:27.350
> 
> 标签：ios, json, nsjsonserialization

我应该如何解析 JSON 格式：

```
{
"1": {
    "name": "Бекон",
    "unit": "гр."
},
"2": {
    "name": "Бульон куриный",
    "unit": "ст."
} 
```

}

和：

```
{
  "recipeCode" : "00001",
  "inCategory" : "12",
  "recipe" : "Зимний тыквенный суп",
  "difficulty" : 2,
  "personCount" : 4,
  "prepHour" : 1,
  "prepMin" : 30,
  "comments" : "При подаче добавить сметану, крутоны и присыпать сыром",
  "ingredients" : {
    "2" : 3,
    "11" : 2,
    "13" : 1,
    "14" : 2,
    "19" : 1
  }
} 
```

第二个我什至没有尝试...但是第一个我遇到了一些问题。我这样做：

```
NSString *filePath = [[NSBundle mainBundle] pathForResource:@"Ingredients" ofType:@"json"];
NSData *myData = [NSData dataWithContentsOfFile:filePath];
NSError *error = nil;
NSDictionary *ingredients = [NSJSONSerialization JSONObjectWithData:myData options:kNilOptions error:&error]; 
```

而且我有两个键/值对的**成分**字典。它们都包含**键**“1”和**值**“1 键/值对”，而没有关于“名称”或“单位”值。

任何帮助如何正确解析此类 JSON

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:16:45.420

您正在正确解析它，并且您将输出的内容将在字典中

解析将输出作为**对象作为 NSDictionary**和**数组作为 NSArray**

因此，在您的情况下，键 1 和键 2 本身具有 NSDictionary 的值

![在此处输入图像描述](https://i.stack.imgur.com/ix9cf.png)

```
NSDictionary *dict1 = [ingredients objectForKey:@"1"];
NSDictionary *dict2 = [ingredients objectForKey:@"2"]; 
```

和价值为

```
NSString *name=[dict1 objectForKey:@"name"];
NSString *unit=[dict1 objectForKey:@"unit"]; 
```

# javascript - 如何在 kendoUI 拆分器中动态改变拆分器高度

> ID：16183823
> 
> 赞同：0
> 
> 时间：2013-04-24T05:11:40.607
> 
> 标签：javascript, asp.net-mvc, kendo-ui

我正在使用 kendoUI 拆分器。在左侧我有一个面板栏，在右侧我有选项卡。我想使用选项卡内容高度动态增加拆分器高度，谁能帮我怎么做。我已经定义为

```
$("#splitter").kendoSplitter({            //To Display horizantal splitter
                        panes: [
                                            { collapsible: true, size: "50%" },
                                            { collapsible: true, size: "50%" }],
                     orientation: "horizontal",
      resize: function () {
        alert($("#splitter").find(".k-pane")[1].scrollHeight);
       //$("#splitter").css("height", $("#splitter").find(".k-pane")[1].scrollHeight);
     }
     }); 
```

但我在警报中得到“0”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:29:55.597

您应该尝试以下方法：

```
var splitter = $("#splitter").kendoSplitter({            //To Display horizantal splitter
    panes: [
        { collapsible: true, size: "50%" },
        { collapsible: true, size: "50%" }],
    orientation: "horizontal",
    resize: function () {
        if(splitter) {
            alert(splitter.wrapper.height());
        }
        //you can also get the panes each on it's own.
        //check: console.log(splitter); to see what options are available           
    }
 }).data('kendoSplitter');
 splitter.trigger('resize'); 
```

另请查看**[文档](http://docs.kendoui.com/api/web/splitter#configuration-panes)**。 [提琴手](http://jsfiddle.net/Snnmz/)

# java - Max Memory only 880 MB in Java Program

> ID：16183825
> 
> 赞同：1
> 
> 时间：2013-04-24T05:11:56.813
> 
> 标签：java, memory, memory-management, ram

I'm trying to create a HashMap for a dataset that has 4400 records and 27000 features. I have increased the max limit to 4G in the .ini file of eclipse. But, when I print the maxMemory in the java program, it shows as 880 MB. I tried with different values of xms and xmx

I'm unsure why this is selecting only 880 MB ?

java.lang.OutOfMemoryError: GC overhead limit exceeded

I get this error at the end. If I prevent this by changing .ini file, I get heap error.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T05:20:06.203

您应该增加 JVM 的最大堆大小。在 Eclipse 中，您必须在调试配置 --> 参数中设置它。从 google 查找您的 JVM 版本的最小/最大参数名称。我正在使用 HotSpot，参数名称是 -Xms2000m -Xmx2000m

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T05:22:08.863

更改 eclipse.ini 中的 xms 和 xmlx 将增加 eclipse 进程的内存。如果要更改程序的内存，则应在运行程序时在 eclipse 的运行配置中提供 xmx 和 xms JVM 参数。-Xms1000m -Xmx1500m

# visual-c++ - 当 cdialog 应用程序使用 CREATE 方法但使用 DOMODAL 工作正常时，键盘选项卡不起作用

> ID：16183827
> 
> 赞同：0
> 
> 时间：2013-04-24T05:12:02.937
> 
> 标签：visual-c++, mfc

我有一个 MFC 应用程序。有一个按钮。我在 CBUTTON 单击时编写了代码创建 CDialog。如果我使用 DOMODAL 方法创建 cdialog，则键盘选项卡工作正常，但如果我使用 CREATE 方法，则键盘选项卡不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T06:15:28.163

您可能没有调用[`IsDialogMessage`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645498.aspx)，这是确保无模式对话框正确处理键盘输入所必需的。

这对于模式对话框（即通过调用该`DoModal`方法创建的对话框）不是必需的，因为 Windows 在内部处理它。

但是，这作为解释没有多大意义，因为您使用的是 MFC，它应该确保`IsDialogMessage`在消息循环中为无模式对话框调用它。这就是使用框架的全部意义所在：它可以防止您忘记这样的细节。我猜不出为什么它不能像你应该的那样工作；你没有向我们展示任何代码。请注意，Visual Studio 向导会自动为您编写正确的代码。建议您在向应用添加新对话框时使用它们。

Joseph Newcomer 关于[使用 MFC 创建无模式对话框](http://www.flounder.com/kb103788.htm)的文章可能对阅读有所帮助。

# delphi - How to handle floating point overflow?

> ID：16183828
> 
> 赞同：1
> 
> 时间：2013-04-24T05:12:07.543
> 
> 标签：delphi, floating-point, delphi-7

I'm trying to do filtering .wav sample data value using the HAAR formula but got error "floating point overflow"

Edited : add more code

```
numsamples := round(wavehdr.SampleRate);
SetLength(wavedata[0].Data, numsamples);
Stream.Read(wavedata[0].Data[0], numsamples);
SetLength(cA1, numsamples);
SetLength(cD1, numsamples);
for i:=1 to numsamples-1 do begin 
cA1[i]:=(wavedata[0].Data[(i*2)-1]*0.7071) + (wavedata[0].Data[(i*2)]*0.7071);
cD1[i]:=(wavedata[0].Data[(i*2)-1]*0.7071) + (wavedata[0].Data[(i*2)]*-0.7071);
end; 
```

where wavedata[0].Data[i], i get it from function Stream.Read to load sample data value of .wav file. I don't know why i got the error or what the error means and i've been searching the error mostly caused of divizion by zero, but there is no divizion by zero in my code. So maybe i could some help here what is the error mean in my code?

EDIT 1: (i'm really new to delphi, this code is not mine i found it internet. In my understanding the following code is the one to read .wav file sample data value)

```
type
  TWaveHeader = packed record

    Marker_RIFF: array [0..3] of char;
    ChunkSize: cardinal;

    Marker_WAVE: array [0..3] of char;

    Marker_fmt: array [0..3] of char;
    SubChunkSize: cardinal;

    FormatTag: word;

    { nChannels : 1  mono, 2  stereo }
    NumChannels: word;
    SampleRate: longint;
    BytesPerSecond: longint;
    BytesPerSample: word;
    BitsPerSample: word;

    Marker_data: array [0..3] of char;

    DataBytes: longint;
  end;

  TChannel = record

    Data : array of double;
  end; 
```

And a private declaration :

```
private
    wavehdr:TWaveHeader; 
```

the function :

```
FillChar(wavehdr, sizeof(wavehdr),0);
Stream.Read(wavehdr,sizeof(wavehdr)); 
```

i modified a bit of the code to handle null value while reading the sample data :

```
 if(IsNan(wavedata[0].Data[(i*2)-1])) then begin
      wavedata[0].Data[(i*2)-1]:=0;
    end
    else if(IsNan(wavedata[0].Data[(i*2)]))  then begin
      wavedata[0].Data[(i*2)]:=0;
    end; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T09:45:13.333

为`i:=0`...

`(wavedata[0].Data[(i*2)-1]`

你真的有数组元素`Data[-1]`吗？

PS 在调试时设置范围检查编译器选项。

**编辑：**我看到了一些新代码，所以让我们开始第 2 步：

```
SetLength(wavedata[0].Data, **numsamples**);

for i:=1 to **numsamples**-1

wavedata[0].Data[(**i*2)**] 
```

我们必须彻底检查每一行代码吗？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-24T06:34:20.397

当表达式产生的值不适合计算表达式的数据类型范围时，就会发生溢出。正数和负数都可能发生溢出。

只有当输入值已经接近溢出浮点值时，您的特定表达式才会导致溢出。因此，例如，如果您使用双精度值，那么只有当输入数据的大小约为 1e308 时，您的代码才会溢出。

您的输入数据似乎不太可能真的是那种形式。所以我的猜测是你的问题与你如何读取输入数据有关。我怀疑你读错了，所以最终对无意义的值执行算术。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T20:56:46.833

在我尝试了这个并且我发现了自己的错误之后，感谢@MBo 你的回答缩小了循环中的 mw 焦点，这对我来说真的很愚蠢。循环应该像

```
for i:=0 to round(numsamples/2) do begin 
```

问题不是元素数据[-1]，但是，如果数组wavedata的长度= X，那么我尝试到达不可用的[X * 2]元素，它肯定会在一半之后导致错误。例如 array[4] 但我尝试到达不可用的 array[4*2] （抱歉我的英语不好，我不知道我的解释是否好）但感谢大家的帮助：D

# ios - Download option on long press of UITableViewCell

> ID：16183829
> 
> 赞同：1
> 
> 时间：2013-04-24T05:12:09.013
> 
> 标签：ios, xcode, uitableview

I have a UITableView that is populated with an array, it contains cell label and cell detail text, the detail text is basically the URL at which the file is saved. I want that on long press of the uitableviewcell a pop up comes up which has the option to download the file and on clicking that option the file is saved in a specific directory on the phone memory.

How can i do that?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:17:33.070

向您的单元格对象添加手势

```
UILongPressGestureRecognizer *lpgr = [[UILongPressGestureRecognizer alloc] 
  initWithTarget:self action:@selector(handleLongPress:)];
lpgr.minimumPressDuration = 1.0; //seconds
lpgr.delegate = self;
[objMyTableViewCell addGestureRecognizer:lpgr];
[lpgr release]; 
```

处理它

```
-(void)handleLongPress:(UILongPressGestureRecognizer *)gestureRecognizer
{
   UITableVIewCell *objTableCell = (UITableVIewCell*)gestureRecognizer
   NSURL *url = [NSURL URLWithString:objTableCell.lable.text];

ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:url];
    [request setDelegate:self];
    [request setDidFinishSelector:@selector(requestDone:)];
    [request setDidFailSelector:@selector(requestWentWrong:)];
    [request setDownloadDestinationPath:[NSString stringWithFormat:@"%@",filePath]]; //use the path from earlier
    [queue addOperation:request]; //queue is an NSOperationQueue
    [request setDownloadProgressDelegate:self];
    [request setShowAccurateProgress:YES];

} 
```

下载文件的响应方法

```
- (void)requestDone:(ASIHTTPRequest *)request
{
    NSString *response = [request responseString];
    UIAlertView *alert = [[UIAlertView alloc]
                          initWithTitle: @"hurreh!!"
                          message: @"Your download complete"
                          delegate: nil
                          cancelButtonTitle:@"OK"
                          otherButtonTitles:nil];
    [alert show];
    [alert release];
    //Do something useful with the content of that request.
}

- (void)requestWentWrong:(ASIHTTPRequest *)request
{
    NSError *error = [request error];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:17:26.690

对于长按，`UITableViewCell`您可以使用[UILongPressGestureRecognizer](http://developer.apple.com/library/ios/#documentation/uikit/reference/UILongPressGestureRecognizer_Class/Reference/Reference.html)。要显示选项，您可以使用[UIActionSheet](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIActionSheet_Class/Reference/Reference.html)。要下载文件，您可以使用[NSURLConnection](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/Reference/Reference.html)或[ASIHTTPRequest](http://allseeing-i.com/ASIHTTPRequest/How-to-use)。

# java - Calling methods inside Constructor

> ID：16183831
> 
> 赞同：19
> 
> 时间：2013-04-24T05:12:26.457
> 
> 标签：java

Below I am Having Two classes.Parent and Child. The Child class inherits from Parent class .In Parent class constructor I am calling print() method of Parent class.

When I create Object for Child class in main() method the Parent class constructor runs and the Child class print() method is called instead of Parent class print() method.

Q1\. Why this Happens.

Q2\. Why the value of i is 0

```
public class Sample
{
    public static void main(String[] args) 
    {
        Child objChild = new Child();
        objChild.print();
    }
}

class Parent
{   
    void print()
    {
        System.out.println("i Value");
    }

    Parent()
    {
        print();
    }
}    

class Child extends Parent
{
    int i = 45;

    void print()
    {
        System.out.println("i Value = "+i);
    }
} 
```

OP

```
i Value = 0
i Value = 45 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-24T05:16:37.767

调用子方法的原因是因为虚拟方法分派是 Java 中的规范。当您调用该方法时，它会根据对象的实际类型决定在运行时实际调用哪个方法。

至于为什么打印0，那是因为`i`还没有设置为45。`0`在整数的情况下，每个字段都使用该类型的默认值进行初始化。当你编写`int i = 45`时，编译器会在构造函数中生成代码来设置`i = 45`。但是它将这段代码放在调用父构造函数*之后。*因此，您在使用预期值初始化变量之前打印变量。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-24T05:24:23.230

Java 实际上对此有一些非常明确的规则。本质上，子类中的“int i = 45”代码是子类构造函数的隐含部分，超类构造函数**总是**首先运行。

事件顺序为：

*   创建对象并将所有实例变量清零。
*   调用超类初始化器。
*   调用超类构造函数。
*   调用子类初始化器（int i = 45；在本例中）
*   调用子类构造函数。

当你有一个 final 字段时，这会变得非常讨厌。您可以在示例中声明“i”final 并获得相同的结果！

通常，在构造函数中调用非私有（或至少非最终）方法是自找麻烦，并且通常是令人讨厌的错误的根源。调用抽象方法是一个**非常**糟糕的主意（大多数时候）。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-24T06:01:13.007

**Java初学者**：我遇到了你的问题.. 1.当你创建子类的对象时， print() 方法只在子类而不是在父类中调用，即使父类构造函数首先调用 bcoz 对象是子类请请参考以下示例。

```
public class Test
    {
        public static void main(String[] args) 
        {
            //create the object of child class
            Child child = new Child();
        }
    }

    class Parent
    {   
        void print()
        {
            System.out.println("parent>> i ValueOne=");
        }

        Parent()
        {
            System.out.println("parent>> i ValueTwo=");
            print();
        }
    }    

    class Child extends Parent
    {
        int i = 45;

        void print()
        {
            System.out.println("Child>>i Value = "+i);
        }
    } 
```

**输出**：

```
parent>> i ValueTwo=
Child>>i Value = 0 
```

2.如果此时创建了父类对象，则调用父类中的print()方法。请参考以下示例。

```
public class Test
    {
        public static void main(String[] args) 
        {
            //create the object of Parent class
            Parent parent = new Parent();
        }
    }

    class Parent
    {   
        void print()
        {
            System.out.println("parent>> i ValueOne=");
        }

        Parent()
        {
            System.out.println("parent>> i ValueTwo=");
            print();
        }
    }    

    class Child extends Parent
    {
        int i = 45;

        void print()
        {
            System.out.println("Child>>i Value = "+i);
        }
    } 
```

**输出**：

```
parent>> i ValueTwo=
parent>> i ValueOne= 
```

3.我想你已经清楚了为什么 i 的值是 0 或 45。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-24T05:22:30.327

首先，我没有在您的`Child`类中看到构造函数定义。

当你没有为一个`Child`类定义构造函数时，它的默认构造函数是：

```
public Child() {
    super();
} 
```

在哪里`super();`调用`Parent`类构造函数（超类构造函数）。

但是，您`print()`在类中定义了您的方法`Child`，并且由于它与类中的方法具有相同的签名（名称+参数）`Parent`，因此它会使用相同的签名覆盖其超类方法。

这就是为什么你的`Child`类调用`Parent`类构造函数，而它调用自己的`print()`方法。

-添加：

第一个 i 值是 0，因为您没有`i`在`Parent`类中初始化 int 变量，而未初始化的 int 变量的值默认为 0。调用之后`Parent`，调用 now`Child`的`print()`方法，并`i`在`Child`类中初始化，所以 now`i`就是你初始化的值

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-24T05:17:41.423

因为在第一次调用 print 方法`i`的时候没有初始化为 45，所以它的打印为 0。
调用是这样的

*   子构造函数（因为构造函数从子构造链接到父构造）
*   父构造函数
*   print 方法（现在这里`i`没有初始化，因为子构造函数还没有完成，所以它的打印默认值为`i`0 ）
*   现在在父构造函数完成后，子构造函数`i`得到它的值，即 45 -
*   所以现在它在下一次调用 print 方法时打印 45

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-24T05:16:00.533

您的孩子首先调用您父母的构造函数。此时， i 未使用 45 值进行初始化。这就是它打印 0 （默认 int 值）的原因。

# jboss - 在 JBoss 运行时访问 JBoss4 log4j 文件

> ID：16183840
> 
> 赞同：0
> 
> 时间：2013-04-24T05:13:20.177
> 
> 标签：jboss, log4j

我正在运行 JBoss 4.0.5.GA 并且——我假设——它包含在 OS X Mountain Lion 上的 log4j 包。我已配置`../server/site/conf/log4j.xml`为在单独的文件中捕获启动/关闭消息：

```
<appender name="SERVER_EVENTS" class="org.jboss.logging.appender.RollingFileAppender">
    <errorHandler class="org.jboss.logging.util.OnlyOnceErrorHandler"/>
    <param name="File" value="${jboss.server.log.dir}/server_events.log"/>
    <param name="Append" value="false"/>
    <param name="ImmediateFlush" value="true"/>
    <param name="MaxFileSize" value="500KB"/>
    <param name="MaxBackupIndex" value="1"/>
    <layout class="org.apache.log4j.PatternLayout">
        <param name="ConversionPattern" value="%d %-5p [%c] %m%n"/>
     </layout>
</appender>

<category name="org.jboss.system.server.Server">
    <priority value="INFO" />
    <appender-ref ref="SERVER_EVENTS"/>
</category> 
```

这适用于捕获启动/关闭线。我正在使用 LaunchAgent 来监视该`server_events.log`文件的更改。我已验证 LaunchAgent 已加载并且可以正常工作。

LaunchAgent 在以下时间响应：

*   当`run.sh`开始并且`server_events.log`文件被截断时。
*   在服务器关闭时，当一组日志条目以“关闭完成”结尾时。

我遇到的问题是捕获“开始于...”消息。经过多次谷歌搜索，我知道问题出在哪里，我不确定是否存在解决方案。我相信消息没有被捕获，因为 JBoss 在运行时对文件有“保留”。您可以在上面看到我明确要求 JBoss "ImmediateFlush" 消息的位置。我的印象是这是默认设置，但我可以在 Finder 中看到该文件为 0 字节，但查看在 Sublime Text 2 中打开的文件会显示启动消息。

有什么方法可以确保启动消息在发送后立即写入磁盘？还是因为我运行的是这么旧版本的 JBoss，所以我运气不好？

# c# - 数组索引选择 C#

> ID：16183841
> 
> 赞同：1
> 
> 时间：2013-04-24T05:13:20.800
> 
> 标签：c#, arrays

我有一个长度为 300 的 int 类型的数组。大多数元素是0，我想获取大于0的第一个元素的索引。我该如何实现这一点。

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-24T05:15:57.557

使用`for`循环从索引 0 转到`yourArray.length - 1`并记录第一个值大于 0 的元素的索引。

```
int firstIndex = -1;
for (int i = 0; i < yourArray.length; i++) {
    if (yourArray[i] > 0) {
        firstIndex = i;
        break;
    }
} 
```

或者，使用一种`i`在找到索引时立即返回的方法，而不是中断循环。在这种情况下，根据您的喜好，返回`-1`（或其他一些不能作为有效索引的值，但 -1 在 .NET 库中相当常见）或异常。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-24T05:15:50.933

这个怎么样？

```
array.ToList().FindIndex(value => value > 0) 
```

或者，为泛型数组创建自己的`FindIndex`扩展方法：

```
public static int FindIndex<T>(this T[] array, Predicate<T> predicate) {
    for (int index = 0; index < array.length; index++) {
        if (predicate(array[index]))
            return index;
    }
    return -1;
} 
```

这将消除对 LINQ 和的需要`ToList()`：

```
array.FindIndex(value => value > 0) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-24T05:23:43.957

您可以使用[Array.FindIndex](http://msdn.microsoft.com/en-us/library/03y7c6xy%28v=VS.100%29.aspx)获取大于 0 的数组的第一个元素的索引，

```
var array = new int[5];
array[0] = 0;
array[1] = 0;
array[2] = 1;
array[3] = 1;
array[4] = 0;

int index = Array.FindIndex(array, x=>x > 0); 
```

或者，您可以使用数组的[Array.IndexOf](http://msdn.microsoft.com/en-us/library/system.array.indexof%28v=vs.71%29.aspx)方法，

```
int index = Array.IndexOf(array, array.First(x=>x > 0)); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-24T05:15:07.420

如果要获取它的值，可以使用 LINQ：

```
array.Where(x=>x>0).First 
```

如果你想要它的索引，你可以使用 LINQ，但它会比直接循环更复杂——检查所有元素，看看其中一个是否不为 0。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T05:17:27.817

```
int count=0;
for(int i=0;i<numbers.Length;i++)
{

  if(numbers[i]>0)
  {
    break;
  }
  count++;
} 
```

最后得到变量count的值，即为index。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T05:17:48.053

```
int result;

foreach (int i in array)
    if (i > 0)
    {
        result = i;
        break;
    } 
```

因为你只想要第一个，所以你一找到就可以打破。

# javascript - 在javascript中对字符串和布尔值进行排序

> ID：16183845
> 
> 赞同：0
> 
> 时间：2013-04-24T05:13:47.350
> 
> 标签：javascript, sorting

我很难让这种工作正常进行。当前始终优先于名称。我可以让它对当前或名称的值进行排序，但不能同时对两者进行排序。

我的数组看起来像这样。

```
var arr = [{current:true, name:"A name"},
           {name:"A name"}, {name:"B name"},
           {current:true, name:"B name"}];
arr.sort(sort_me) 
```

这是排序功能。

```
var sort_me = function(left, right){
                var value = "name";
                var sort_by_val = function(){
                    return left[value] == right[value] ? 0 : (left[value] < right[value] ? -1 : 1);
                }
                if(left.current===right.current) {
                    sort_by_val();
                }else{
                    if(left.current===true){
                        return -1;
                    }else{
                        if(right.current===true){
                            return 1;
                        }else{
                        sort_by_val();
                        }
                    }
                }
            } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T05:18:40.320

你错过了一个`return`：

```
if(left.current===right.current) {
    return sort_by_val();
} 
```

`undefined`否则，如果两个`current`s 都设置了，您的返回值将是：

```
var sort_me = function(left, right){
    var nameorder = left.name === right.name ? 0 : (left.name < right.name ? -1 : 1);
    if(
        (left.current && right.current) || 
        (!left.current && !right.current)
    ) {
        return nameorder;
    } else if(left.current) {
        return -1;
    } else {
        return 1;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:19:54.247

尝试

```
var sort_me = function(left, right) {
    var value = "name";
    var sort_by_val = function() {
        return left[value] == right[value] ? 0 : (left[value] < right[value]
                                                  ? -1
                                                  : 1);
    }
    if (left.current === right.current) {
        return sort_by_val(); //missing return
    } else {
        if (left.current === true) {
            return -1;
        } else if (right.current === true) {
            return 1;
        } else {
            return    sort_by_val(); //missing return
        }
    }

} 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/nM6FE/)

# ipad - 在 iOS Phonegap 中以 Web 视图打开网页时性能下降

> ID：16183852
> 
> 赞同：0
> 
> 时间：2013-04-24T05:14:33.010
> 
> 标签：ipad, cordova, ios5

我在服务器上部署了一个 Web 应用程序（完全用 ASP.Net 和 C# 开发）。我想使用 phonegap 将其捆绑为原生 iOS 应用程序。实际上，所有 UI 事件（如按钮单击等）都是在 .Net 中处理的（而不是在 javascript 或 JQuery Mobile 中）。所以我将 Web 应用程序的 URL 添加到 Web 视图并在 iPad 模拟器中获得输出。但我发现我的应用程序的性能受到了严重影响。链接无法正常工作，UI 突然更改，我的验证根本不起作用（到目前为止发现了许多问题）。有什么办法可以提高性能吗？或者我是否需要使用 HTML5、Javascript、jQuery Mobile 等重新开发我的应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T11:54:13.617

.Net 和 IOS phonegap 并不能真正按照您想要的方式工作。你真的需要让你的应用程序是独立的，因为它以 XML 或 JSON 的形式向/从处理它的服务器获取数据并发送回更多数据。

问题是 .Net 处理页面上的所有内容（如您所说）。您可能必须找到另一种选择。

# javascript - JavaScript、jQuery 和“this”：这里发生了什么？

> ID：16183855
> 
> 赞同：5
> 
> 时间：2013-04-24T05:14:44.990
> 
> 标签：javascript, jquery, timer, this, event-listener

这更多是关于我的代码中发生了什么的问题。它有效，但我需要一点启发......

我正在使用 jQuery 在文本输入元素上创建事件侦听器。HTML 将如下所示：

```
<input type="text" id="autocomplete" size="50" /> 
```

每当有人在该字段中键入内容时，我都需要接收事件，并且为了避免被事件淹没，我使用计时器设置了事件侦听器，以便我的事件侦听器代码仅在用户在 125 毫秒内没有键入任何内容时运行：

```
jQuery('#autocomplete').keyup(function(e) {
  e.preventDefault();
  clearTimeout(this.timer);
  this.timer = setTimeout(function() {
    jQuery.getJSON([URL goes here], function(data) {
      // processing of returned data goes here.
    }
  }, 125);

console.log(this);
}); 
```

这行得通，但我不太确定我是否理解这里发生的一切。正如您从上面的代码中看到的那样，我需要跟踪`ID`在最后一个事件中创建的计时器。我通过将其存储在`this.timer`. 但是，`this`这种情况下的关键字是指输入元素。这是`console.log`输出：

```
<input type="text" id="autocomplete" size="50" /> 
```

可以将定时器存储`ID`在输入元素上吗？据我所知，我可能会做一些愚蠢的事情。这是“最佳实践”，还是会有很大不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T06:40:09.390

一般来说，我不希望将任何进一步的值直接放入 DOM 对象中。随着 DOM 的成熟，您选择的命名空间极有可能被 DOM 用于其他目的。除了这个，其他脚本可能会导致命名空间冲突，当然还有一个名为 timer 的变量。如果你必须这样做，那么使用一个不起眼的命名空间来降低这种风险。旧版本的 IE 在序列化 DOM 节点时也有奇怪的行为，您最终可能会在节点中得到一个名为 timer 的实际属性，其值非常奇怪。除此之外，`console.log`它不会返回 DOM 节点属性列表，从而使调试变得比应有的复杂。

一般来说，最好让 DOM 保持原样并引用文档对象定义的属性。在我看来，最好将计时器与您的处理程序一起放入匿名函数中的等效公共静态变量中，这样可以避免您可能意外覆盖计时器并保持代码模块化的任何范围问题。

```
(function($) {

    // Static variable for this function
    var keyupTimer;

    // Event handler for keyup
    $('#autocomplete').keyup(function(event) 
    {
        event.preventDefault();

        clearTimeout(keyupTimer);

        keyupTimer = setTimeout(function()
        {
            $.getJSON([URL goes here], function(data)
            {
                // processing of returned data goes here.
            }
        }, 125);
    });
})(jQuery); 
```

# javascript - jQuery：用另一个替换一个数组

> ID：16183858
> 
> 赞同：1
> 
> 时间：2013-04-24T05:14:53.807
> 
> 标签：javascript, jquery, replace

我使用以下代码将一个字符的所有实例替换为另一个：

```
$("#myContent").each(function () {
    $(this).html($(this).html().replace("1", "一"));
})

$("#myContent").each(function () {
    $(this).html($(this).html().replace("2", "二"));
})

$("#myContent").each(function () {
    $(this).html($(this).html().replace("3", "三"));
})

... 
```

我怎样才能把所有这些放在一起，比如用另一个数组替换一个数组？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:19:06.040

像这样的东西，未经测试：

```
var replacers = {
    '一': /1/gi,
    '二': /2/gi,
    '三': /3/gi
};

var el = $("#myContent"),
    html = el.html();

for (var key in replacers) {
    html = html.replace(replacers[key], key);
}
el.html(html); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:24:01.327

试试这种方式，而不是：

```
var html = $(this).html();

html = html.replace(/1/g, "一");
html = html.replace(/2/g, "二");
html = html.replace(/3/g, "三");

$(this).html(html); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:32:48.097

尝试

```
var replacers = {
    '1': '一',
    '2': '二',
    '3': '三'
};

$("#myContent").html(function(index, html){
    $.each(replacers, function(i, v){
        html = html.replace(new RegExp(i, 'g'), v, 'g')
    })
    return html;
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/NYdY4/1/)

# knockout.js - Copying an observable array

> ID：16183859
> 
> 赞同：1
> 
> 时间：2013-04-24T05:14:59.790
> 
> 标签：knockout.js, knockout-2.0

How do I get a copy of items in knockout observable array. Changing the copied items should not affect the original item.

What I want to do is before opening a popup, create a copy of item when the user clicks cancel button reload the original values

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:20:19.433

您可以只使用标准 JavaScript 技术来克隆您的数组。请参阅以下内容：

[在 JavaScript 中按值复制数组](https://stackoverflow.com/questions/7486085/copying-array-by-value-in-javascript)

所以，你可以复制如下：

```
var newArray = viewModel.observableArray().slice(0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-06-06T06:34:16.030

以下用于创建 JS 数组的副本。

```
var newArray = viewModel.observableArray().slice(0); ?/copies the internal array
viewModel.copyobservableArray(newArray); // set in new observable 
```

对于 ko observableArray，我们需要执行以下操作以使其成为新副本

如果数组的内部也是对象，那么您可能也应该克隆它们以避免通过引用传递。

# php - 清除浏览器历史记录后如何要求用户重新登录？

> ID：16183862
> 
> 赞同：1
> 
> 时间：2013-04-24T05:15:15.733
> 
> 标签：php, session, cookies, login

我使用会话变量来存储登录的用户名。如果用户正确登录，则显示特定的受保护页面，如果没有，他将被重定向到登录页面。代码工作正常。但问题是，如果用户在登录后清除了浏览器历史记录，他仍然可以查看特定的受保护页面。我想要的是在他清除浏览器历史记录时将他重定向到登录页面。请建议我如何做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:19:33.223

默认情况下，PHP 中的会话变量对 cookie 起作用。没有办法检测用户是否清除了他的历史记录，但是当他们清除**cookie**时，用户会被自动注销。

# java - PlusClient.OnPeopleLoadedListenter 无法解析为类型

> ID：16183864
> 
> 赞同：0
> 
> 时间：2013-04-24T05:15:25.687
> 
> 标签：java, android, google-plus

对于 Google plus 登录 android 应用程序，使用
`com.google.android.gms.plus.PlusClient`包并使用上述侦听器会显示错误。登录后想获取userId。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T08:55:34.500

It sounds like you haven't added the google-play-services_lib library project to your own project. Or possibly that the version you have imported is out of date.

Take a look at these instructions in section 2:

[https://developers.google.com/+/mobile/android/getting-started](https://developers.google.com/+/mobile/android/getting-started)

And make sure that the version of 'Extras > Google Play Services' you have in your Android SDK Manager is at least version 6.

# mvvm - 枢轴控制停止在 WP8 上的 MVVM 中工作

> ID：16183866
> 
> 赞同：0
> 
> 时间：2013-04-24T05:15:31.547
> 
> 标签：mvvm, windows-phone-8, pivot

我是 MVVM 中的新手，并且在使用枢轴控制时遇到问题。该代码适用于 windows hone 7 sdk，但不适用于 windows phone 8 sdk。

这是代码：

ItemTemplate="{StaticResource DocumentDetailsItemRowTemplate}" Foreground="{StaticResource PhoneTextBoxSelectionForegroundBrush}" >

我得到了正确的标题，但它下面没有显示任何内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:18:49.257

WP8 中这些控件的模板有一些小的变化。有关详细信息，请参阅博客文章[Panorama and Pivot 在 WP8 中移动和更改](http://blog.mrlacey.co.uk/2013/01/pivot-and-panorama-have-moved-and.html)

# objective-c - 一个明显的泄漏，但是静态分析仪没有检测到，为什么？

> ID：16183869
> 
> 赞同：2
> 
> 时间：2013-04-24T05:15:48.283
> 
> 标签：objective-c, memory-leaks, clang, clang-static-analyzer

我写了一些这样的代码，

```
- (NSString*) caleSignParam:(NSMutableArray*)postData
{
    NSMutableArray* keyArray = [[NSMutableArray alloc] initWithCapacity:50];

    ......
    NSArray* sortedKeys = [keyArray sortedArrayUsingComparator:
                       (NSComparator)^(NSString *obj1, NSString *obj2) {
                           return [obj1 compare:obj2 options:NSLiteralSearch];
                       }];
    ......

    NSString* signStr = aString;

    return signStr;
} 
```

我忘记释放keyArray，并且使用非ARC，但是当我点击Xcode菜单上的“分析”时，它没有检测到keyArray的泄漏。

如果我注释“NSArray *sortedKeys = ...”这一行，它可以检测到keyArray的泄漏。

我想知道静态分析器有什么问题。

我真的很感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:34:28.883

重要的是要了解静态分析器并不总是正确的，也不总是不正确的。它可以抛出误报和误报。然而，默认设置使得*误报*的可能性最小。在这种特殊情况下，我猜分析器没有足够的数据来明确决定 keyArray 会发生什么

# javascript - 在 iframe 中访问跨域时如何从父页面访问 iframe javascript 变量？

> ID：16183870
> 
> 赞同：0
> 
> 时间：2013-04-24T05:15:48.527
> 
> 标签：javascript, jquery, iframe

我想访问 iframe 页面中的 java 脚本变量。我想从同一个域和跨域访问。

**Javascript 和 HTML**

```
function CallIframeVariable() {
    var iframeVar = window.myIframe.myVar;
}
<iframe src="iframepage.html" onload="CallIframeVariable();"> 
```

iframepage.html：

```
<html>
<head></head>
<script>
    myVar = "Manivasagan";
</script> 
```

怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:25:33.497

在你的 iframe 中使用，但只有当**iframe 和主窗口都在同一个域上**`parent.iframeVar`时才会起作用。否则，由于跨域安全策略，它将无法工作。

# sql - How to Import Data from Ms access table to sql server table

> ID：16183873
> 
> 赞同：0
> 
> 时间：2013-04-24T05:15:57.940
> 
> 标签：sql, vb6

I have one table, Checkinout in Ms Access, and I want to import all the data of that table to my SQL Server database Checkinout table, using VB 6.0:

This is my code. It is not working perfectly [is this irony?]

```
 For i = 1 To LstLog.ListItems.Count
       For j = 1 To LstLog.ColumnHeaders.Count - 1
           REC.Open "insert into xyz (EmpID, LogID,CheckTime,SensorID) Values ('" & _
               LstLog.ListItems(i).SubItems(j) & "','" & _
               LstLog.ListItems(i).SubItems(j) & "','" & _
               LstLog.ListItems(i).SubItems(j) & "','" & _
               LstLog.ListItems(i).SubItems(j) & "' )", CN, _
               adOpenStatic, adLockBatchOptimistic
       Next j
   Next i 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:31:20.990

您可以`DBConvert`用于此目的。

DBConvert for Access 和 MySQL 迁移工具将 Microsoft Access 转换为 MySQL 服务器，将 MySQL 转换为 Access。

您可以参考此直接链接以供参考**：**

[http://dbconvert.com/convert-access-to-mysql-pro.php?DB=1](http://dbconvert.com/convert-access-to-mysql-pro.php?DB=1)

如果您想以编程方式执行此操作，

**逐步方法：**

[http://en.kioskea.net/faq/7342-export-access-database-to-mysql](http://en.kioskea.net/faq/7342-export-access-database-to-mysql)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T15:38:38.693

您使用了相同的子项目 ID。删除内部 for 循环，例如：

```
For i = 1 To LstLog.ListItems.Count
    REC.Open "insert into xyz (EmpID, LogID,CheckTime,SensorID) Values ('" & _
        LstLog.ListItems(i).SubItems(1) & "','" & _
        LstLog.ListItems(i).SubItems(2) & "','" & _
        LstLog.ListItems(i).SubItems(3) & "','" & _
        LstLog.ListItems(i).SubItems(4) & "' )", CN, _
        adOpenStatic, adLockBatchOptimistic
Next i 
```

# svn - 是否可以将 SVN 功能分支重新集成到不同的发布分支中？

> ID：16183880
> 
> 赞同：1
> 
> 时间：2013-04-24T05:16:40.457
> 
> 标签：svn, branching-and-merging, svn-merge, svn-merge-reintegrate

假设我从发布分支“Version1.0”创建了一个 SVN 功能分支“Feature123”，用于开发新功能。我已经在我的功能分支中进行了一些更改并将它们提交到存储库，但尚未将功能分支重新集成到发布分支中。同时，我们还创建了一个“Version2.0”发布分支，以备将来发布。现在我的经理告诉我，他不希望我的 feature123 在 1.0 版中，而是在 2.0 版中。

有没有一种方法可以将我的 Feature123 分支重新集成到 Version2.0 中，即使功能分支是作为 Version1.0 的分支创建的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T15:59:58.310

您可以在 Subversion 中**从任何**路径合并到**任何路径**- 所有分支本质上都是平等的（并且您的分支无论如何都有共同的父级）

# android - Android：如何覆盖拨号器的默认行为

> ID：16183886
> 
> 赞同：1
> 
> 时间：2013-04-24T05:17:06.410
> 
> 标签：android, android-keypad

我正在对以前的项目进行修改，该项目基本上是为儿童和青少年开发的。`text messaging, emails, calls and internet`当用户以大于 16 MPH 的速度行驶时，它会阻塞。该服务通过 激活`SMS`。由于该应用程序不适用于[Android v4.1](http://developer.android.com/about/versions/jelly-bean.html)及更高版本，因此需要进行修改。我在`PlayStore`名为[Safely Go](https://play.google.com/store/apps/details?id=com.safely.go.driver.safety.stop.texting.driving)上看到了一个应用程序。这个应用程序有一个点击按钮，状态更改为驾驶。在这种模式下，如果用户单击拨号器、消息传递、设置或浏览器，则会打开他们自己的活动，而不是默认行为。简而言之，在这种模式下，除了用户在驾驶期间选择使用的那些应用程序之外，用户无法访问任何东西。

根据我的要求，该服务将通过`SMS`. 一旦服务被激活，并且用户的速度达到超过 16 MPH，我希望当用户点击时`Dialer`，我的活动应该打开，它会显示一条警告消息，而不是打开拨号盘。我不知道如何完成此功能。由于服务与用户没有直接交互，因此android系统无法捕获服务中的关键事件。或者，有没有其他方法可以做到这一点。

我只是想知道如何覆盖默认行为拨号程序。如果有人有任何信息，请分享，因为这对我有很大帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T11:00:36.530

在我在问题中提到的应用程序中，没有覆盖默认行为。那是我的错误，我采取了错误的方式。[使用Handler](https://developer.android.com/reference/android/os/Handler.html)可以实现相同的功能。在我的应用程序中，我使用了一项通过单击按钮启动的[服务。](https://developer.android.com/reference/android/app/Service.html)在服务内部，我使用了处理程序。下面，我发布代码片段。

```
public class DialerService extends Service {
ActivityManager am;
List<RunningAppProcessInfo> mAppProcessInfosList;
private Runnable myRunnable;
boolean threadDone = true;
Handler mHandler;
boolean isLockedAppRunning = false;

@Override
public IBinder onBind(Intent arg0) {
    return null;
}

public void onCreate() {
    am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
    mAppProcessInfosList = new ArrayList<ActivityManager.RunningAppProcessInfo>();
    mHandler = new Handler();
    Log.v("Dialer Service", "onCreate called");
}

@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    myRunnable = new Runnable() {

        @Override
        public void run() {
            isRestrictedAppRunning();
        }
    };

    new Thread(new Runnable() {
        public void run() {
            while (threadDone) {

                try {
                    mHandler.post(myRunnable);
                } catch (Exception e) {

                }
            }
        }
    }).start();
    return START_STICKY;
}

private void isRestrictedAppRunning() {
    mAppProcessInfosList = am.getRunningAppProcesses();
    for (int i = 0; i < mAppProcessInfosList.size(); i++) {
        if (mAppProcessInfosList.get(i).processName
                .equals("com.android.phone")
                || mAppProcessInfosList.get(i).processName
                        .equals("com.android.email")
                || mAppProcessInfosList.get(i).processName
                        .equals("com.android.mms")) {
            isLockedAppRunning = true;
            Intent dialogIntent = new Intent(getBaseContext(),
                    TestActivity.class);
            dialogIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            getApplication().startActivity(dialogIntent);
        }
    }
}

@Override
public void onDestroy() {
    super.onDestroy();
    this.threadDone = false;
}
} 
```

此代码来自我的虚拟应用程序。实际应用中有很多条件，还有很多事情需要实现。但是，我实际上需要的东西会以这种方式工作。

# sql - 选择最优查询

> ID：16183894
> 
> 赞同：0
> 
> 时间：2013-04-24T05:17:43.260
> 
> 标签：sql, oracle, indexing

例如，我在 Oracle 数据库中有一个名为 my_table 的表。它是日志表的类型。它有一个名为“id”和“registration_number”的*增量*列，对于注册用户来说是*唯一的。*现在我想获得注册用户的最新更改，所以我在下面写了查询来完成这个任务：

**第一个版本：**

```
SELECT t.*
FROM my_table t
WHERE t.id =
  (SELECT MAX(id) FROM my_table t_m WHERE t_m.registration_number = t.registration_number
  ); 
```

**第二个版本：**

```
SELECT t.*
FROM my_table t
INNER JOIN
  ( SELECT MAX(id) m_id FROM my_table GROUP BY registration_number
  ) t_m
ON t.id = t_m.m_id; 
```

我的第一个问题是建议使用上述哪个查询，为什么？第二个问题是，如果有时该表中有大约 70.000 条插入，但插入的行数大多在 0 到 2000 之间变化，是否可以向该表添加索引？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:42:39.710

分析查询可能是为每个注册用户获取最新更改的最快方法：

```
SELECT registration_number, id
FROM (
  SELECT
    registration_number,
    id,
    ROW_NUMBER() OVER (PARTITION BY registration_number ORDER BY id DESC) AS IDRankByUser
  FROM my_table
)
WHERE IDRankByUser = 1 
```

至于索引，我假设您已经有一个索引 by `registration_number`。一个额外的索引`id`将有助于查询，但可能不会太多，也可能不足以证明索引的合理性。我这么说是因为如果你一次插入 70K 行，额外的索引会减慢`INSERT`. 您必须进行试验（并检查执行计划）以确定索引是否值得。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-24T07:18:24.173

为了检查更快的查询，您应该检查执行计划和成本，它会给您一个公平的想法。但我同意 Ed Gibbs 的解决方案，因为分析使查询运行得更快。如果你觉得这个表会变得非常大，那么我会建议对表进行分区并使用本地索引。他们肯定会帮助您形成更快的查询。

如果您要插入大量行，则索引会减慢插入速度，因为每个插入索引也必须更新[我不推荐 ID 上的索引]。我为此想到了两种解决方案：

1.  您可以在插入之前删除索引，然后在插入后重新创建它。
2.  使用反向键索引。检查此链接： http: [//oracletoday.blogspot.in/2006/09/there-is-option-to-create-index.html](http://oracletoday.blogspot.in/2006/09/there-is-option-to-create-index.html)。反向键索引可能会稍微影响您的查询，因此会有所取舍。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T16:27:25.600

如果您寻找更快的解决方案并且确实需要维护每个用户的最后活动列表，那么最强大的解决方案是维护具有唯一`registration_number`值的单独表以及`rowid`在日志表中创建的最后记录。

例如（仅用于演示，不检查语法有效性，省略序列和触发器）：

```
create table my_log(id number not null, registration_number number, action_id varchar2(100))
/

create table last_user_action(refgistration_number number not null, last_action rowid)
/

alter table last_user_action 
  add constraint pk_last_user_action primary key (registration_number) using index 
/

create or replace procedure write_log(p_reg_num number, p_action_id varchar2)
is
  v_row_id rowid;
begin

  insert into my_log(registration_number, action_id) 
  values(p_reg_num, p_action_id)
  returning rowid into v_row_id;

  update last_user_action 
  set last_action = v_row_id 
  where registration_number = p_reg_num;

end;
/ 
```

使用这样的模式，您可以简单地查询每个用户的最后操作，并具有良好的性能：

```
select 
from
  last_user_action lua,
  my_log           l
where
  l.rowid (+) = lua.last_action 
```

Rowid 是直接寻址存储块的物理存储标识，在移动到另一台服务器、从备份恢复等后您将无法使用它。但是如果您需要这样的功能，也可以简单地从表中添加`id`列，并根据具体情况使用一个或另一个要求。`my_log``last_user_action`

# objective-c - ImageView 动画获得更多内存

> ID：16183898
> 
> 赞同：1
> 
> 时间：2013-04-24T05:17:49.463
> 
> 标签：objective-c, memory-management, ios6, uiimageview, nsarray

我的申请在 ARC 中。
我在 imageView 中使用图像动画，但一段时间后我的应用程序因内存不足错误而崩溃。

我在日志中没有收到任何错误消息，但在**配置文件工具**中，我在**分配**部分 中收到**“内存不足”**消息。

 **我的动画的一个代码是

```
ImageView= [[UIImageView alloc] init];
[self.view addSubview:ImageView];
ImageView.frame=CGRectMake(0, 0, 480, 342);
ImageView.animationImages = [NSArray arrayWithObjects:
                                  [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"image1" ofType:@"png"]],
                                  [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"image2" ofType:@"png"]],
                                  [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"image3" ofType:@"png"]],
                                  [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"image4" ofType:@"png"]],
                                  [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"image5" ofType:@"png"]],
                                  [UIImage imageWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"image6" ofType:@"png"]],
                                  nil];
[ImageView setAnimationRepeatCount:1];
ImageView.animationDuration =1.0;
[ImageView startAnimating]; 
```

如果我评论此动画代码，则应用程序运行正常，但我需要在一个视图中显示超过 5 个此类动画。

任何链接，教程，任何想法都会有很大的帮助......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-21T04:30:14.770

Gerharbo 的方法基本上是一个纹理图集，但图像要大得多。我认为您会发现，当您尝试使用许多图像（对于较长的动画）时，这种方法无法很好地扩展。您已经看到由于内存不足而导致的崩溃，因此最好完全避免 UIImageView.animationImages。这篇博客文章[video-and-memory-usage-on-ios-devices](http://iosgraphicsanimation.wordpress.com/2013/06/11/video-and-memory-usage-on-ios-devices/)描述了为什么您不能分配内存来在主内存中保存一堆图像，这正是您上面的代码试图做的事情。如果您在 SO 上环顾四周，您会发现许多其他开发人员也[遇到了同样的问题](https://stackoverflow.com/questions/16617910/loading-images-for-animation-in-uiimageview-ios/17225223#17225223)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-02T20:54:30.763

你为什么不尝试使用精灵？我尝试使用 CALater（核心动画层）进行动画处理，它就像一个魅力。我为“contentsRect”设置动画。短代码示例（CALayer 子类）：

```
self.contents = [UIImage imageNamed:@"sprite-large.png"].CGImage;

NSMutableArray *frames = [NSMutableArray array]; // array of CGRect's
CAKeyframeAnimation *anim = [CAKeyframeAnimation animationWithKeyPath:@"contentsRect"];
anim.values = frames;
[self addAnimation:anim forKey:nil]; 
```

几周前我在 GitHub 上发布了一些代码： [https ://github.com/Gerharbo/sprite-animation-layer/](https://github.com/Gerharbo/sprite-animation-layer/)

它提供了一个示例精灵（不完美，但它有效）和一些示例代码。

玩得开心动画！

格哈德**

# android - Android中的程序化图像大小调整，内存问题

> ID：16183900
> 
> 赞同：2
> 
> 时间：2013-04-24T05:17:55.240
> 
> 标签：android, image, out-of-memory

几天来，我一直在努力。几周，也许。字面上地。:(

所以我在 SD 卡上有一张很可能来自内置摄像头的图像。我想获取该图像并将其下采样为任意大小（但总是更小且永远不会更大）。我的代码使用标准的 Android 位图方法来解码、调整大小、重新压缩和保存图像。只要最终图像小于 3MP 左右，一切正常。如果图像更大，或者如果我尝试一次执行其中几个，应用程序会因 OutOfMemoryError 而崩溃。我知道为什么会这样，而且我知道这是出于完全正当的理由，我只是希望它不再发生。

听着，我不是想在这里发射火箭。我要做的就是调整相机图像的大小并将其转储到 OutputStream 甚至是临时文件。肯定有人在外面做了这样的事情。我不需要你为我写代码，我也不需要我的手。但是在我的各种编程流产和痴迷谷歌搜索的日子里，我什至不知道该往哪个方向前进。粗略地说，有谁知道如何解码 JPEG，对其进行下采样，以 JPEG 重新压缩，然后发送出去在 OutputStream 上而不分配大量内存？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-14T20:36:02.473

好的，我知道这有点晚了，但是我遇到了这个问题，我找到了解决方案。这实际上很简单，我确信它支持回到 api 10（我不知道 10 之前的版本）。我用我的手机试过这个。它是带有 8mp 摄像头的三星 Galaxy S2，代码完美地将摄像头图像调整为 168x168 以及我在网上找到的图像。我也使用文件管理器检查了图像。我从未尝试将图像调整为更大的分辨率。

```
private Bitmap resize(Bitmap bp, int witdh, int height){
    return Bitmap.createScaledBitmap(bp, width, height, false);
} 
```

你可以这样保存

```
private void saveBitmap(Bitmap bp) throws FileNotFoundException{
    String state = Environment.getExternalStorageState();
    File folder;
    //if there is memory card available code choose that
    if (Environment.MEDIA_MOUNTED.equals(state)) {
        folder=Environment.getExternalStorageDirectory();
    }else{
        folder=Environment.getDataDirectory();
    }
    folder=new File(folder, "/aaaa");
    if(!folder.exists()){
        folder.mkdir();
    }

    File file=new File(folder, (int)(Math.random()*10000)+".jpg");
    FileOutputStream os=new FileOutputStream(file);
    bp.compress(Bitmap.CompressFormat.JPEG, 90, os);
} 
```

感谢这个[链接](http://xmodulo.com/2013/04/how-to-resize-image-captured-by-camera-in-android.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:26:07.013

以下代码来自我之前的项目。关键点是“options.inSampleSize”。

```
public static Bitmap makeBitmap(String fn, int minSideLength, int maxNumOfPixels) {
    BitmapFactory.Options options;
    try {
        options = new BitmapFactory.Options();

        options.inPurgeable = true;
        options.inJustDecodeBounds = true;
        BitmapFactory.decodeFile(fn, options);
        if (options.mCancel || options.outWidth == -1
                || options.outHeight == -1) {
            return null;
        }
        options.inSampleSize = computeSampleSize(
                options, minSideLength, maxNumOfPixels);
        options.inJustDecodeBounds = false;
        //Log.e(LOG_TAG, "sample size=" + options.inSampleSize);

        options.inDither = false;
        options.inPreferredConfig = Bitmap.Config.ARGB_8888;
        return BitmapFactory.decodeFile(fn, options);
    } catch (OutOfMemoryError ex) {
        Log.e(LOG_TAG, "Got oom exception ", ex);
        return null;
    }
}

private static int computeInitialSampleSize(BitmapFactory.Options options,
        int minSideLength, int maxNumOfPixels) {
    double w = options.outWidth;
    double h = options.outHeight;

    int lowerBound = (maxNumOfPixels == UNCONSTRAINED) ? 1 :
            (int) Math.ceil(Math.sqrt(w * h / maxNumOfPixels));
    int upperBound = (minSideLength == UNCONSTRAINED) ? 128 :
            (int) Math.min(Math.floor(w / minSideLength),
            Math.floor(h / minSideLength));

    if (upperBound < lowerBound) {
        // return the larger one when there is no overlapping zone.
        return lowerBound;
    }

    if ((maxNumOfPixels == UNCONSTRAINED) &&
            (minSideLength == UNCONSTRAINED)) {
        return 1;
    } else if (minSideLength == UNCONSTRAINED) {
        return lowerBound;
    } else {
        return upperBound;
    }
} 
```

# regex - 如何在 Python 中用正则表达式写这个？

> ID：16183903
> 
> 赞同：0
> 
> 时间：2013-04-24T05:18:12.883
> 
> 标签：regex, python-3.x

我有一个大的 HTML 文件，我需要使用正则表达式从中解析一些数据。首先是餐厅的名称。酒店名称采用以下格式：

**更新：**

```
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"></head><body><div class="businessresult clearfix">
        <div class="leftcol">
            <div id="bizTitle0" class="itemheading">
                <a href="https://courses.ischool.berkeley.edu/biz/capannina-san-francisco" id="bizTitleLink0">1\.    Capannina
</a>
            </div>
                <div class="itemcategories">
                    Categories: <a href="https://courses.ischool.berkeley.edu/search?mapsize=small&amp;main_places=CA%3ASan_Francisco%3A%3ASOMA%2CCA%3ASan_Francisco%3A%3APacific_Heights%2CCA%3ASan_Francisco%3A%3AMission%2CCA%3ASan_Francisco%3A%3AHaight-Ashbury&amp;places=CA%3ASan_Francisco%3A%3A%5BSOMA%2CMission%2CMarina%2FCow_Hollow%5D&amp;rpp=40&amp;bbox=-122.471809387%2C37.7384127869%2C-122.368125916%2C37.8203616433&amp;attrs=&amp;sortby=category&amp;show_more_search_options=true&amp;cflt=italian&amp;find_loc=san+francisco%2C+ca" rel="italian" class="category" id="cat_result_0_italian">Italian</a>, <a href="https://courses.ischool.berkeley.edu/search?mapsize=small&amp;main_places=CA%3ASan_Francisco%3A%3ASOMA%2CCA%3ASan_Francisco%3A%3APacific_Heights%2CCA%3ASan_Francisco%3A%3AMission%2CCA%3ASan_Francisco%3A%3AHaight-Ashbury&amp;places=CA%3ASan_Francisco%3A%3A%5BSOMA%2CMission%2CMarina%2FCow_Hollow%5D&amp;rpp=40&amp;bbox=-122.471809387%2C37.7384127869%2C-122.368125916%2C37.8203616433&amp;attrs=&amp;sortby=category&amp;show_more_search_options=true&amp;cflt=seafood&amp;find_loc=san+francisco%2C+ca" rel="seafood" class="category" id="cat_result_0_seafood">Seafood</a>
                </div>
                <div class="itemneighborhoods">
                    Neighborhood: <a href="https://courses.ischool.berkeley.edu/search?find_desc=&amp;mapsize=small&amp;main_places=CA%3ASan_Francisco%3A%3ASOMA%2CCA%3ASan_Francisco%3A%3APacific_Heights%2CCA%3ASan_Francisco%3A%3AMission%2CCA%3ASan_Francisco%3A%3AHaight-Ashbury&amp;places=CA%3ASan_Francisco%3A%3A%5BSOMA%2CMission%2CMarina%2FCow_Hollow%5D&amp;attrs=&amp;sortby=category&amp;cflt=italian&amp;show_more_search_options=true&amp;parent_request_id=9536eaa25db61373&amp;find_loc=Marina%2FCow+Hollow%2C+San+Francisco%2C+CA" title="Marina/Cow Hollow, San Francisco, CA" class="location" id="hood_result_0_0">Marina/Cow Hollow</a>
                </div>
        </div>
        <div class="rightcol">
                <div class="rating"><img src="yelp_listings_files/stars_map.html" alt="4 star rating" title="4 star rating" class="stars_4 " height="325" width="83"></div> <a class="reviews" href="https://courses.ischool.berkeley.edu/biz/capannina-san-francisco">270 reviews</a>

            <address>
                1809 Union St<br>San Francisco, CA 94123<br>
                    </address><div class="phone">
                        (415) 409-8001
                    </div>

        </div> 
```

共有40家酒店。我认为`.`在数字后面有两个空格。我需要列出所有的酒店`1 to 40`。我试过使用：

```
re.findall("[./0-9]", string_Name) 
```

它输出数字。我想得到电话号码和所有酒店名称。我怎样才能做到这一点？

Blender 的答案给出了评级和餐厅名单。这很好，但我希望评级和餐厅名称使用不同的变量。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-24T05:20:46.333

解析 HTML：

```
import re
from bs4 import BeautifulSoup

html = '''
<a href="https://courses.ischool.berkeley.edu/biz/capannina-san-francisco" id="bizTitleLink0">1\.    Capannina
</a>
<a href="https://courses.ischool.berkeley.edu/biz/ristorante-parma-san-francisco" id="bizTitleLink4">5\.     Ristorante Parma
</a>
'''

soup = BeautifulSoup(html)

for link in soup.find_all('a', text=re.compile(r'^\d')):
    print link.get_text() 
```

和输出：

```
1\.    Capannina

5\.     Ristorante Parma 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:23:18.757

您不应该直接在 html 上运行正则表达式（最好先使用 HTML 解析器），但试试这个正则表达式：

`(\d+)\.\s+([^<]+)`

一位或多位数字

一个点

一个或多个空白字符

一个或多个非`<`字母

括号 () 的存在创建了一个捕获组。捕获组 1 的内容将是数字。捕获组 2 的内容将是名称。

# java - 按字母顺序对字符串进行排序

> ID：16183907
> 
> 赞同：-1
> 
> 时间：2013-04-24T05:18:37.433
> 
> 标签：java, string, list, textfield

我是Java初学者。我需要按字母顺序对名称字符串进行排序。字符串不是由用户提交的，而是从包含名字、姓氏和电话号码列表的文件中读取的。我也无法让删除功能正常工作。任何帮助将不胜感激。

请参阅下面的代码：

```
import java.awt.*;
import java.awt.event.*;
import java.io.*;
import javax.swing.JOptionPane;

public class PhoneBook extends Frame implements ActionListener, ItemListener {

    MenuItem newMI, openMI, saveMI, saveAsMI, exitMI;
    MenuItem searchMI, deleteMI, updateMI, newEntryMI, sortMI;
    String fileName;
    List nameList, numberList;
    TextField lastName, firstName, phoneNumber;

    /**
     * Constructor
     */
    public PhoneBook() {
        super("White Pages"); // set frame title
        setLayout(new BorderLayout()); // set layout

        // create menu bar
        MenuBar menubar = new MenuBar();
        setMenuBar(menubar);
        // create file menu
        Menu fileMenu = new Menu("File");
        menubar.add(fileMenu);
        newMI = fileMenu.add(new MenuItem("New"));
        newMI.addActionListener(this);
        openMI = fileMenu.add(new MenuItem("Open"));
        openMI.addActionListener(this);
        fileMenu.addSeparator();
        saveMI = fileMenu.add(new MenuItem("Save"));
        saveAsMI = fileMenu.add(new MenuItem("Save As ..."));
        fileMenu.addSeparator();
        exitMI = fileMenu.add(new MenuItem("Exit"));
        exitMI.addActionListener(this);

        // create edit menu
        Menu editMenu = new Menu("Edit");
        menubar.add(editMenu);
        updateMI = editMenu.add(new MenuItem("Update"));
        updateMI.addActionListener(this);
        newEntryMI = editMenu.add(new MenuItem("New Entry"));
        newEntryMI.addActionListener(this);
        deleteMI = editMenu.add(new MenuItem("Delete"));
        deleteMI.addActionListener(this);
        editMenu.addSeparator();
        searchMI = editMenu.add(new MenuItem("Search"));
        searchMI.addActionListener(this);
        sortMI = editMenu.add(new MenuItem("Sort"));
        sortMI.addActionListener(this);

        // create phone list and controls
        Panel listPanel = new Panel(new BorderLayout());
        add(listPanel, BorderLayout.CENTER);
        Label label = new Label("Name List", Label.LEFT);
        listPanel.add(label, BorderLayout.NORTH);
        nameList = new List();
        nameList.addItemListener(this);
        numberList = new List();
        listPanel.add(nameList, BorderLayout.CENTER);
        Panel panel = new Panel(new BorderLayout());
        add(panel, BorderLayout.WEST);
        Panel editPanel = new Panel(new GridLayout(6, 1));
        panel.add(editPanel, BorderLayout.NORTH);
        label = new Label("Last Name", Label.LEFT);
        editPanel.add(label);
        lastName = new TextField();
        editPanel.add(lastName);
        label = new Label("First Name", Label.LEFT);
        editPanel.add(label);
        firstName = new TextField();
        editPanel.add(firstName);
        label = new Label("Phone Number", Label.LEFT);
        editPanel.add(label);
        phoneNumber = new TextField();
        editPanel.add(phoneNumber);
    }

    // implementing ActionListener
    public void actionPerformed(ActionEvent event) {
        Object source = event.getSource();
        if (source == newMI) {
            nameList.removeAll();
            numberList.removeAll();
            fileName = null;
            display(-1);
            setTitle("White Pages"); // reset frame title
        } else if (source == openMI) {
            doOpen();
        } else if (source == exitMI) {
            System.exit(0);
        } else if (source == updateMI) {
            int index = nameList.getSelectedIndex();
            String name = lastName.getText().trim() + " "
                    + firstName.getText().trim();
            String number = phoneNumber.getText().trim();
            if (index < 0) { // add a new entry
                nameList.add(name);
                numberList.add(number);
                nameList.select(nameList.getItemCount() - 1);
            } else { // update an existing entry
                nameList.replaceItem(name, index);
                numberList.replaceItem(number, index);
                nameList.select(index);
            }
        } else if (source == newEntryMI) {
            nameList.select(-1);
            display(-1);
        }

        else if (source == searchMI) {
            String searchName = JOptionPane.showInputDialog(this,
                    "Please enter a name (last first) to search:");
            System.out.println("Name to search: " + searchName);
        }
    }

    /**
     * Implementing ItemListener to display the selected entry
     */
    public void itemStateChanged(ItemEvent event) {
        display(nameList.getSelectedIndex());
    }

    /**
     * method to specify and open a file
     */
    private void doOpen() {
        // display file selection dialog
        FileDialog fDialog = new FileDialog(this, "Open ...", FileDialog.LOAD);
        fDialog.setVisible(true);
        // Get the file name chosen by the user
        String file = fDialog.getFile();
        // If user canceled file selection, return without doing anything.
        if (file == null)
            return;
        fileName = fDialog.getDirectory() + file;

        // Try to create a file reader from the chosen file.
        FileReader reader;
        try {
            reader = new FileReader(fileName);
        } catch (FileNotFoundException ex) {
            JOptionPane.showMessageDialog(this, "File Not Found: " + fileName,
                    "Error", JOptionPane.ERROR_MESSAGE);
            doOpen();
            return;
        }
        BufferedReader bReader = new BufferedReader(reader);
        // remove items from before if any
        nameList.removeAll();
        numberList.removeAll();
        // Try to read from the input file one line at a time.
        try {
            int index;
            String name, number;
            String textLine = bReader.readLine();
            while (textLine != null) {
                index = textLine.indexOf((int) ',');
                if (index > 0) {
                    name = textLine.substring(0, index);
                    number = textLine.substring(index + 1);
                    nameList.add(name.trim());
                    numberList.add(number.trim());
                }
                textLine = bReader.readLine();
            }
            bReader.close();
            reader.close();
        } catch (IOException ioe) {
            JOptionPane.showMessageDialog(this,
                    "Error reading file: " + ioe.toString(), "Error",
                    JOptionPane.ERROR_MESSAGE);
            return;
        }
        setTitle("White Pages: " + file); // reset frame title
        nameList.select(0);
        display(0);
    }

    /**
     * method to display the current entry
     */
    private void display(int index) {
        if (index < 0) {
            lastName.setText("");
            firstName.setText("");
            phoneNumber.setText("");
        } else {
            String name = nameList.getItem(index);
            int space = name.indexOf((int) ' ');
            lastName.setText(name.substring(0, space));
            firstName.setText(name.substring(space + 1));
            phoneNumber.setText(numberList.getItem(index));
        }
    }

    /**
     * the main method
     */
    public static void main(String[] argv) {
        // create frame
        System.out.println("Creating window ... ");
        PhoneBook frame = new PhoneBook();
        Dimension size = Toolkit.getDefaultToolkit().getScreenSize();
        frame.setSize(size.width / 2, size.height / 2);
        frame.setLocation(100, 100);

        System.out.println("Your Screen Size: " + size.width + " (width) x "
                + size.height + " (height)");

        // add window closing listener
        frame.addWindowListener(new WindowAdapter() {
            public void windowClosing(WindowEvent e) {
                System.exit(0);
            }
        });

        // show the frame
        frame.setVisible(true);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:23:12.917

为每行数据创建一个自定义对象。将对象添加到列表中，然后对列表进行排序。

请参阅：[https](https://stackoverflow.com/a/1947527/131872) ://stackoverflow.com/a/1947527/131872示例，该示例展示了如何使用 Comparable 或 Comparator 进行排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:20:56.517

1.  将名称添加到列表中。
2.  使用 Collections 类的 sort 方法对列表进行排序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T09:07:25.033

这是排序和删除的更新：

```
import java.awt.*;
import java.awt.event.*;
import java.io.*;
import java.util.Arrays;
import javax.swing.JOptionPane;

public class PhoneBook extends Frame implements ActionListener, ItemListener {

    private static final long serialVersionUID = 1L;
    MenuItem newMI, openMI, saveMI, saveAsMI, exitMI;
    MenuItem searchMI, deleteMI, updateMI, newEntryMI, sortMI;
    String fileName;
    // firstname, lastname and phonenumber are all combined now
    List entries;
    TextField lastName, firstName, phoneNumber;

    /**
     * Constructor
     */
    public PhoneBook() {
        super("White Pages"); // set frame title
        setLayout(new BorderLayout()); // set layout

        // create menu bar
        MenuBar menubar = new MenuBar();
        setMenuBar(menubar);
        // create file menu
        Menu fileMenu = new Menu("File");
        menubar.add(fileMenu);
        newMI = fileMenu.add(new MenuItem("New"));
        newMI.addActionListener(this);
        openMI = fileMenu.add(new MenuItem("Open"));
        openMI.addActionListener(this);
        fileMenu.addSeparator();
        saveMI = fileMenu.add(new MenuItem("Save"));
        saveAsMI = fileMenu.add(new MenuItem("Save As ..."));
        fileMenu.addSeparator();
        exitMI = fileMenu.add(new MenuItem("Exit"));
        exitMI.addActionListener(this);

        // create edit menu
        Menu editMenu = new Menu("Edit");
        menubar.add(editMenu);
        updateMI = editMenu.add(new MenuItem("Update"));
        updateMI.addActionListener(this);
        newEntryMI = editMenu.add(new MenuItem("New Entry"));
        newEntryMI.addActionListener(this);
        deleteMI = editMenu.add(new MenuItem("Delete"));
        deleteMI.addActionListener(this);
        editMenu.addSeparator();
        searchMI = editMenu.add(new MenuItem("Search"));
        searchMI.addActionListener(this);
        sortMI = editMenu.add(new MenuItem("Sort"));
        sortMI.addActionListener(this);

        // create phone list and controls
        Panel listPanel = new Panel(new BorderLayout());
        add(listPanel, BorderLayout.CENTER);
        Label label = new Label("Name List", Label.LEFT);
        listPanel.add(label, BorderLayout.NORTH);
        entries = new List();
        entries.addItemListener(this);
        listPanel.add(entries, BorderLayout.CENTER);
        Panel panel = new Panel(new BorderLayout());
        add(panel, BorderLayout.WEST);
        Panel editPanel = new Panel(new GridLayout(6, 1));
        panel.add(editPanel, BorderLayout.NORTH);
        label = new Label("Last Name", Label.LEFT);
        editPanel.add(label);
        lastName = new TextField();
        editPanel.add(lastName);
        label = new Label("First Name", Label.LEFT);
        editPanel.add(label);
        firstName = new TextField();
        editPanel.add(firstName);
        label = new Label("Phone Number", Label.LEFT);
        editPanel.add(label);
        phoneNumber = new TextField();
        editPanel.add(phoneNumber);
    }

    // implementing ActionListener
    public void actionPerformed(ActionEvent event) {
        Object source = event.getSource();
        if (source == newMI) {
            entries.removeAll();
            fileName = null;
            display(-1);
            setTitle("White Pages"); // reset frame title
        } else if (source == openMI) {
            doOpen();
        } else if (source == exitMI) {
            System.exit(0);
        } else if (source == updateMI) {
            int index = entries.getSelectedIndex();
            // combine fields into one entry
            String entry = String.format("%s %s %s", lastName.getText().trim(),
                    firstName.getText().trim(), phoneNumber.getText().trim());
            if (index < 0) {
                // add a new entry
                entries.add(entry);
                entries.select(entries.getItemCount() - 1);
            } else {
                // update an existing entry
                entries.replaceItem(entry, index);
                entries.select(index);
            }
        } else if (source == newEntryMI) {
            entries.select(-1);
            display(-1);
        } else if (source == searchMI) {
            String searchName = JOptionPane.showInputDialog(this,
                    "Please enter a name (last first) to search:");
            System.out.println("Name to search: " + searchName);
        } else if (source == deleteMI) {
            // just delete the selected entry
            int index = entries.getSelectedIndex();
            if (index >= 0) {
                entries.remove(index);
            }
        } else if (source == sortMI) {
            String[] sortedEntries = entries.getItems();
            Arrays.sort(sortedEntries);
            entries.removeAll();
            for (String entry : sortedEntries) {
                entries.add(entry);
            }
        }
    }

    /**
     * Implementing ItemListener to display the selected entry
     */
    public void itemStateChanged(ItemEvent event) {
        display(entries.getSelectedIndex());
    }

    /**
     * method to specify and open a file
     */
    private void doOpen() {
        // display file selection dialog
        FileDialog fDialog = new FileDialog(this, "Open ...", FileDialog.LOAD);
        fDialog.setVisible(true);
        // Get the file name chosen by the user
        String file = fDialog.getFile();
        // If user canceled file selection, return without doing anything.
        if (file == null)
            return;
        fileName = fDialog.getDirectory() + file;

        // Try to create a file reader from the chosen file.
        FileReader reader;
        try {
            reader = new FileReader(fileName);
        } catch (FileNotFoundException ex) {
            JOptionPane.showMessageDialog(this, "File Not Found: " + fileName,
                    "Error", JOptionPane.ERROR_MESSAGE);
            doOpen();
            return;
        }
        BufferedReader bReader = new BufferedReader(reader);
        // remove items from before if any
        entries.removeAll();
        // Try to read from the input file one line at a time.
        try {
            int index;
            String textLine = bReader.readLine();
            while (textLine != null) {
                index = textLine.indexOf((int) ',');
                if (index > 0) {
                    String name = textLine.substring(0, index);
                    String number = textLine.substring(index + 1);
                    entries.add(String.format("%s %s", name.trim(),
                            number.trim()));
                }
                textLine = bReader.readLine();
            }
            bReader.close();
            reader.close();
        } catch (IOException ioe) {
            JOptionPane.showMessageDialog(this,
                    "Error reading file: " + ioe.toString(), "Error",
                    JOptionPane.ERROR_MESSAGE);
            return;
        }
        setTitle("White Pages: " + file); // reset frame title
        entries.select(0);
        display(0);
    }

    /**
     * method to display the current entry
     */
    private void display(int index) {
        if (index < 0) {
            lastName.setText("");
            firstName.setText("");
            phoneNumber.setText("");
        } else {
            // use a regular expression and the split method to
            // split the entry on comma or whitespace 
            String[] fields = entries.getItem(index).split("(,|\\s)");
            if (fields.length > 0) {
                lastName.setText(fields[0]);
            }
            if (fields.length > 1) {
                firstName.setText(fields[1]);
            }
            if (fields.length > 2) {
                phoneNumber.setText(fields[2]);
            }
        }
    }

    /**
     * the main method
     */
    public static void main(String[] argv) {
        // create frame
        System.out.println("Creating window ... ");
        PhoneBook frame = new PhoneBook();
        Dimension size = Toolkit.getDefaultToolkit().getScreenSize();
        frame.setSize(size.width / 2, size.height / 2);
        frame.setLocation(100, 100);

        System.out.println("Your Screen Size: " + size.width + " (width) x "
                + size.height + " (height)");

        // add window closing listener
        frame.addWindowListener(new WindowAdapter() {
            public void windowClosing(WindowEvent e) {
                System.exit(0);
            }
        });

        // show the frame
        frame.setVisible(true);
    }
} 
```

# javascript - 如何删除使用 jQuery 动态创建的类

> ID：16183912
> 
> 赞同：0
> 
> 时间：2013-04-24T05:18:56.983
> 
> 标签：javascript, jquery

```
$("#my").click(function() {
    $(this.title).remove();
}); 
```

我使用 jQuery 动态添加和删除 html 内容，但如何删除动态添加的创建。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:23:49.660

用于动态添加元素的事件委托

尝试这个

```
 $(document).on("click","#my",function(){
    $(this).removeClass(this.title);
     //or
     $(this.title).remove();
  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:24:07.497

我想

```
$('#my').click(function(){
   $(this).removeClass(this.title);
   $(this).addClass(this.title);  
   $(this).toggleClass(this.title);
}) 
```

您正在寻找其中之一吗？

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-24T05:20:50.007

去尝试一下

```
$("#my").live('click',function()
{
 $(this.title).remove();
}
) 
```

# symfony - 在棘轮 websocket 连接中启动会话

> ID：16183917
> 
> 赞同：5
> 
> 时间：2013-04-24T05:19:13.827
> 
> 标签：symfony, session-cookies, ratchet

我们已经构建了一个 Ratchet websocket 服务器，它服务于一个独立的客户端应用程序。服务器在端口 8080 上运行，我们的 Symfony 应用程序在端口 80 上运行。在 websocket 服务器中运行会话至关重要，这样我们才能唯一地识别每个客户端。问题是 Ratchet 没有通过端口 8080 发送 set-cookie 标头。

希望找到一种方法来发送 set-cookie 标头以响应 8080 上的升级请求，我尝试在 onOpen() 中启动一个新会话：

```
use Symfony\Component\HttpFoundation\Session\Session;

class ClientApi implements MessageComponentInterface {
    /**
     * @inheritDoc
     */
    public function onOpen(ConnectionInterface $conn) {
        $conn->Session = new Session();
        $conn->Session->start();
    }
    ... 
```

但这并没有导致在升级请求的响应中发送回 set-cookie 标头。

我们有一个解决方法，客户端必须首先在端口 80 上执行 GET 以获取 cookie，然后再通过 8080 发送 websocket 升级请求，以便它可以发送带有升级请求的 cookie。我希望能像我上面尝试的那样工作，因此客户端不必打扰端口 80 上的 Web 应用程序。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-15T17:42:10.390

我相信默认创建一个新的 Symfony Session 类将使用全局变量。Ratchet 提供了一个[Session 中间件类](http://socketo.me/docs/sessions)，它将一个 Symfony Session 对象附加到每个 ConnectionInterface。

# c# - 使用 Swagger.NET，如何详细描述返回值？

> ID：16183924
> 
> 赞同：2
> 
> 时间：2013-04-24T05:19:47.573
> 
> 标签：c#, rest, asp.net-web-api, swagger

我有一个返回对象的 Web API REST Web 服务。我已经安装了[Swagger.NET](https://developers.helloreverb.com/swagger/)以及 Swagger UI。我希望 Swagger UI 列出从 Web API REST 方法返回的对象内的字段。这可能吗？

从 Swagger 文档中，Swagger.NET 使用 ApiExplorer 收集有关我拥有的 Web API 端点（扩展 ApiController 的类）的信息。此外，Swagger.NET 查看 .NET 文档注释（使用 '///'）。我不确定如何描述这些对象的内部结构。

有任何想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:53:26.030

目前不支持开箱即用。以下问题与之相关。您可以对此投票： [http ://aspnetwebstack.codeplex.com/workitem/877](http://aspnetwebstack.codeplex.com/workitem/877)

# php - PHP多维数组按特定值

> ID：16183927
> 
> 赞同：1
> 
> 时间：2013-04-24T05:20:05.607
> 
> 标签：php

我有一个多维数组，我想让数组集只匹配我的特定值，现在我有一个列调用related_users，我需要一个语句，只有当这个数组的related_user值为1时才会获取这个数组值。

```
Array
(
[0] => Array
    (
        [id] => 1
        [advertiser] => Hairvolution
        [postdate] => 
        [campaign_period] => 
        [related_users] => 1
        [reporting_period] => 
        [Delivered Impressions] => 1439763
        [Clicks] => 4124
        [Click-Through Rate] => 0.29
    )

[1] => Array
    (
        [id] => 4
        [advertiser] => 
        [postdate] => 
        [campaign_period] => 
        [related_users] => 2
        [reporting_period] => 
        [Delivered Impressions] => 
        [Clicks] => 
        [Click-Through Rate] => 
    )

[2] => Array
    (
        [id] => 7
        [advertiser] => maxlibin
        [postdate] => 
        [campaign_period] => 
        [related_users] => 2
        [reporting_period] => 
        [Delivered Impressions] => 
        [Clicks] => 
        [Click-Through Rate] => 
    )
 [3] => Array
    (
        [id] => 8
        [advertiser] => maxlibin
        [postdate] => 
        [campaign_period] => 
        [related_users] => 1
        [reporting_period] => 
        [Delivered Impressions] => 
        [Clicks] => 
        [Click-Through Rate] => 
    )

[4] => Array
    (
        [id] => 9
        [advertiser] => maxlibin
        [postdate] => 
        [campaign_period] => 
        [related_users] => 1
        [reporting_period] => 
        [Delivered Impressions] => 
        [Clicks] => 
        [Click-Through Rate] => 
    )
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:23:31.650

使用`for`循环并对其进行迭代并检查`related_users`值，如果匹配`1`则将数组附加到新数组。

```
$arr = array();
for($i=0;$i< count($your_array);$i++) {
    if($your_array[$i]['related_users'] == 1) {
        $arr[] = $your_array[$i];
    }
}
print_r($arr); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:24:14.840

我不确定，你想要什么，但你可以试试这个代码：

```
$final = array();
    foreach($arrayName as $arrayItem){
        if ($arrayItem['related_user'] == 1){
            $final[] = $arrayItem;
        }
    }
var_dump($final); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:26:12.833

对数组使用[foreach](http://php.net/manual/en/control-structures.foreach.php)是一种简单的方法来遍历数组并检查`related_users`值，如果它被`1`追加到新数组`$result`中。

```
$result = array();
foreach($your_array as $Item){
  if ($Item['related_user'] == 1){
     $result[] = $Item;
  }
}
print_r($result); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T06:06:29.643

```
 function get_specific_arr_set($array) {

      $arr_final = array();
      if (!empty($array)) {

        foreach ($array as $item) {

            if ($item['related_users'] == 1) {

                $arr_final[] = $item; 
            }
        }
      }

      return $arr_final;
    } 
```

`$result = get_specific_arr_set($your_arr);`

`echo "<pre>";print_r($result);echo "</pre>";exit;`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T05:26:25.880

```
$rated = array();
foreach($yourArr as $arr) {
    if($arr['related_user'] == 1) {
        $rated[] = $arr;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T05:36:38.457

用这个

```
 $array=YourArray;
            $result=array();
            foreach($array as $a) {

                if($a['related_users']==1){
                    $result=$a;
                }

            }

            echo "Resultant Array =";
            echo "<pre>";
                print_r($result);
            echo "</pre>"; 
```

# wpf - WPF Datagrid dgDataGrid_Loaded 事件多次触发

> ID：16183930
> 
> 赞同：0
> 
> 时间：2013-04-24T05:20:14.597
> 
> 标签：wpf, wpfdatagrid, loaded

我有一个 wpf 数据网格，每次加载内容时，dgDataGrid_Loaded 事件都会触发两次。我不确定这是 WPF 错误还是我错过了什么！？

这是我的 Xaml 代码：

```
<my:DataGrid Name="dgDataGrid" DockPanel.Dock="Top"
         AutoGenerateColumns="False"  ClipboardCopyMode="ExcludeHeader"                                              
         CanUserDeleteRows="True"
         SelectionMode="Extended"  SelectionUnit="FullRow"                              
         FontFamily="Tahoma"
         ItemsSource="{Binding}" 
         VirtualizingStackPanel.VirtualizationMode="Recycling"
         VirtualizingStackPanel.IsVirtualizing="True"
         EnableRowVirtualization="false"
         EnableColumnVirtualization="False"
         IsSynchronizedWithCurrentItem="True"
         BorderBrush="Blue" 
         RowBackground="White"
         HorizontalGridLinesBrush="Blue" 
         GridLinesVisibility="Horizontal" VerticalGridLinesBrush="Blue" IsTextSearchEnabled="False" 
         IsTabStop="True" HeadersVisibility="All"
         Loaded="dgDataGrid_Loaded" ContextMenuOpening="dgDataGrid_ContextMenuOpening"
         LoadingRow="dgDataGrid_LoadingRow">
            <my:DataGrid.Resources>

            </my:DataGrid.Resources>

            <my:DataGrid.RowHeaderTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type my:DataGridRow}}, Path=Header}"></TextBlock>
                </DataTemplate>
            </my:DataGrid.RowHeaderTemplate>
            <my:DataGrid.ColumnHeaderStyle>
                <Style TargetType="my:DataGridColumnHeader">
                    <Setter Property="ContentTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" Foreground="Blue"/>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </my:DataGrid.ColumnHeaderStyle>

            <my:DataGrid.ContextMenu>
                <ContextMenu Name="cmDataGrid" StaysOpen="True">
                    <MenuItem Name="mnuView" Header="نمایش">
                        <MenuItem Name="mnuHideColumn"  Header="Hide Column" Click="mnuHideColumn_Click"/>
                        <MenuItem Name="mnuShowColumn" Header="Show Column"/>
                        <Separator/>
                        <MenuItem Name="mnuGroupByColumn" 
                          Header="Group by this column" Click="mnuGroupColumn_Click" />
                        <MenuItem Name="mnuClearGroups" 
                          Header="Clear grouping" Click="mnuGroupColumn_Click" />
                        <Separator/>
                        <MenuItem Header="Header Alignment">
                            <MenuItem Name="mnuHeaderCenter" Header="Center"/>
                            <MenuItem Name="mnuHeaderLeft" Header="Left"/>
                            <MenuItem Name="mnuHeaderRight" Header="Right"/>
                        </MenuItem>
                        <MenuItem Header="Content Alignment">
                            <MenuItem Name="mnuContentCenter" Header="Center"/>
                            <MenuItem Name="mnuContentLeft" Header="Left"/>
                            <MenuItem Name="mnuContentRight" Header="Right"/>
                        </MenuItem>
                    </MenuItem>

                </ContextMenu>
            </my:DataGrid.ContextMenu>
        </my:DataGrid> 
```

有什么建议么？

# python-2.7 - Windows 错误 5：尝试在 Windows 中删除目录时拒绝访问

> ID：16183934
> 
> 赞同：3
> 
> 时间：2013-04-24T05:20:35.170
> 
> 标签：python-2.7, windowserror

我正在尝试删除一个目录，但是当我运行代码时，它给出了 Windows 错误 5：访问被拒绝。这是我的代码：在 Release 文件夹中，有一个名为`OD`.

```
if os.path.exists(os.path.join(get_path_for_output,'Release')):
        shutil.rmtree(os.path.join(get_path_for_output,'Release')) 
```

错误是这样的：

```
WindowsError: [Error 5] Access is denied: 'C:\\Users\\marahama\\Desktop\\Abdur_Release\\Release\\OD\\automations\\GEM\\FMS_adapter.py' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-06-11T18:02:10.627

这是由于文件权限问题。

您需要具有对该文件执行该任务的权限。

要获取与文件关联的权限，请使用`os.stat(fileName)`

您可以使用显式检查该文件的写入权限`os.access(fileName, os.W_OK)`

然后，要更改权限，`os.chmod(fileName,permissionNumeric)`.

前任：`os.chmod(fileName, '0777')`

要更改正在执行的当前文件的权限，请使用`os.chmod(__file__, '0777')`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-06T01:48:51.873

我使用 pydev。我的解决方案是：

1.  停止 Eclipse。
2.  **使用以管理员身份运行**选项启动 Eclipse

 *** * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-02T22:44:40.553

```
takeown /F C:\<dir> /R /A
icacls C:\<dir> /grant administrators:F /t 
```

如果您的用户是管理员，则将所有权授予管理员并将完全控制权授予管理员。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-10T11:23:59.987

要更改位于“C:”中的文件，您必须具有管理员权限，您可以在启动脚本之前或同时获取它们，例如：

```
#!python
# coding: utf-8
import sys
import ctypes

def run_as_admin(argv=None, debug=False):
    shell32 = ctypes.windll.shell32
    if argv is None and shell32.IsUserAnAdmin():
        return True

    if argv is None:
        argv = sys.argv
    if hasattr(sys, '_MEIPASS'):
        # Support pyinstaller wrapped program.
        arguments = map(unicode, argv[1:])
    else:
        arguments = map(unicode, argv)
    argument_line = u' '.join(arguments)
    executable = unicode(sys.executable)
    if debug:
        print 'Command line: ', executable, argument_line
    ret = shell32.ShellExecuteW(None, u"runas", executable, argument_line, None, 1)
    if int(ret) <= 32:
        return False
    return None

if __name__ == '__main__':
    ret = run_as_admin()
    if ret is True:
        print 'I have admin privilege.'
        raw_input('Press ENTER to exit.')
    elif ret is None:
        print 'I am elevating to admin privilege.'
        raw_input('Press ENTER to exit.')
    else:
        print 'Error(ret=%d): cannot elevate privilege.' % (ret, ) 
```

代码取自：[如何在 Windows 上以提升的权限运行 python 脚本](https://stackoverflow.com/questions/19672352/how-to-run-python-script-with-elevated-privilege-on-windows)

编剧：加里·李**

# python - 如何根据输入的数字生成所有可能的字母组合列表

> ID：16183941
> 
> 赞同：1
> 
> 时间：2013-04-24T05:21:04.547
> 
> 标签：python, algorithm, alphabetical

我刚刚遇到了一个有趣的面试风格类型的问题，我无法理解。

基本上，给定一个数字到字母映射`[1:A, 2:B, 3:C ...]`，打印出所有可能的组合。

例如“123”将生成`[ABC, LC, AW]`，因为它可以分为 12,3 和 1,23。

我认为它必须是某种类型的递归函数，它检查大小为 1 和 2 的窗口，如果它是有效的字母映射，则附加到先前的结果。

如果有人可以制定一些伪/python代码，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T07:36:40.467

**像一棵树一样简单**

假设你给了“1261”

用它构造一棵树 Root 。

通过定义节点（左，右），其中左总是直接映射，右是组合

版本假设如果你把给定的数字作为 1261

1261 ->

(1(261) ,12(61)) -> **1 是左节点（直接映射 -> a）12 是右节点（combo-map1,2->L）**

(A(261) , L(61)) ->

(A(2(61),26(1))) ,L(6(1)) ->

(A(B(6(1)),Z(1)),L(F(1))) ->

(A(B(F(1)),Z(A)),L(F(A))) ->

(A(B(F(A)),Z(A)),L(F(A)))

所以现在你已经得到了所有的叶子节点..

只需打印从根到叶节点的所有路径，这将为您提供所有可能的组合。

就像在这种情况下

ABFA , 氮杂 , LFA

因此，一旦您完成树的构建，只需打印从根到节点的所有路径

这是你的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T07:37:15.670

所以我设法拼凑出一个答案，它不像我想要的那样像pythonic，可能会有一些冗余，但它可以与 123 示例一起输出 ABC、AW 和 LC。

我明天可能会清理它（或者如果有人想清理它），只是发布它以防有人也在处理它并且想知道。

```
def num_to_alphabet(numbers, ans = ""):
if not numbers:
    print ans
numbers = str(numbers)
window = numbers[:2]
alph = string.uppercase
ans = ans[:]
ans2 = ans[:]
window_val = ""
try:
    if window[0]:
        val = int(numbers[0])-1
        if alph[val]:
            ans += alph[val]
            num_to_alphabet(numbers[1:], ans)
    if window[1]:
        val = int(window) -1 
        if alph[val]:
            ans2 += alph[val]
            if len(window) > 1:
                num_to_alphabet(numbers[2:],ans2)
            else:
                num_to_alphabet(numbers[1:],ans2)
except IndexError:
    pass 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T17:01:24.217

我仍然不确定描述，但是这个 Python 脚本首先将 num 划分为它的“breaks”，然后尝试将每个 break 成员作为一个整体作为其对应字符的索引；然后将成员的每个数字转换为单词的字母。在显示数字“123”的所有字母/单词转换的总和之前显示了这两个贡献

```
>>> import string
>>> mapping ={str(n):ch for n,ch in zip(range(1,27), string.ascii_uppercase)}
>>> num = '123'
>>> [[num[:i], num[i:]] for i in range(len(num)+1)]
[['', '123'], ['1', '23'], ['12', '3'], ['123', '']]
>>> breaks = set(part for part in sum(([num[:i], num[i:]] for i in range(len(num)+1)), []) if part)
>>> breaks
{'123', '12', '3', '1', '23'}
>>> as_a_whole = [mapping[p] for p in breaks if p in mapping]
>>> as_a_whole
['L', 'C', 'A', 'W']
>>> by_char = [''.join(mapping[n] for n in p) for p in breaks]
>>> by_char
['ABC', 'AB', 'C', 'A', 'BC']
>>> everything = sorted(set(as_a_whole + by_char))
>>> everything
['A', 'AB', 'ABC', 'BC', 'C', 'L', 'W']
>>> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T15:48:22.763

所以，我也想解决这个问题，因为这实际上是一个很酷的问题。所以这是我的解决方案：

如果我们暂时忽略对字符串的翻译，我们本质上是在寻找[一个集合的分区](http://en.wikipedia.org/wiki/Partition_of_a_set)。所以对于输入`123`，我们有一个集合`{1, 2, 3}`并且正在寻找分区。但是在这些分区中，只有那些保持输入原始顺序的分区才是有趣的。所以我们实际上并不是在谈论最后的集合（顺序无关紧要）。

不管怎样，我把这个叫做“有序分区”——我不知道它是否真的存在一个术语。我们可以使用递归轻松生成这些有序分区：

```
def orderedPartitions(s):
    if len(s) == 0:
        yield []
        return
    for i in range(1, len(s)+1):
        for p in orderedPartitions(s[i:]):
            yield [s[:i]] + p 
```

对于字符串 input `'123'`，这为我们提供了以下部分，这正是我们正在寻找的：

```
['1', '2', '3']
['1', '23']
['12', '3']
['123'] 
```

现在，回到要求翻译成字符串的原始问题，我们需要做的就是检查每个分区，如果它们只包含有效数字，即 1 到 26。如果是这样，翻译那些数字并返回结果字符串。

```
import string
def alphaCombinations(s):
    for partition in orderedPartitions(str(s)):
        # get the numbers
        p = list(map(int, partition))

        # skip invalid numbers
        if list(filter(lambda x: x < 1 or x > 26, p)):
            continue

        # yield translated string
        yield ''.join(map(lambda i: string.ascii_uppercase[i - 1], p)) 
```

它有效：

```
>>> list(alphaCombinations(123))
['ABC', 'AW', 'LC']
>>> list(alphaCombinations(1234))
['ABCD', 'AWD', 'LCD']
>>> list(alphaCombinations(4567))
['DEFG'] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T12:27:06.413

以下答案递归地尝试当前位置的所有可能性（有两个以上！）并继续字符串的其余部分。而已。

```
from string import ascii_uppercase

def alpha_combinations(s):
    if len(s) == 0:
        yield ""
        return
    for size in range(1, len(s) + 1):
        v = int(s[:size])
        if v > 26:
            break
        if v > 0:
            c = ascii_uppercase[v - 1]
            for ac in alpha_combinations(s[size:]):
                yield c + ac 

print(list(alpha_combinations(input()))) 
```

它需要一个数字作为字符串。它为`101010`( `['AAJ', 'AJJ', 'JAJ', 'JJJ']`) 提供正确的输出。（我认为其他一些解决方案不能正确处理零。）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-24T05:40:29.387

```
charMap = {'1':'A', '2':'B' ... }
def getNodes(str):
    results = []
    if len(str) == 0: return results
    c = str[0]
    results.append(c)
    results = results.join(c.join(getNodes(str[1:])))
    if str[:2] in charMap.keys(): results = results.join(c.join(getNodes(str[2:])))
    return results
def mapout(nodes):
    cArray = []
    for x in nodes:
        cx = ''
        for y in x:
            cx = cx + charMap.get(y)
        cArray.append(cx)
    return cArray
res = getNodes('12345')
print(mapout(res)) 
```

未经测试，但我相信这符合您正在寻找的内容。

# c# - C# 中的 DRY 序列化：抽象、委托还是反射？

> ID：16183942
> 
> 赞同：0
> 
> 时间：2013-04-24T05:21:18.690
> 
> 标签：c#, serialization, delegates, dry, abstract

我正在（反）序列化网络多人游戏的一些数据结构，并且对于每个要（反）序列化的数据结构，我只想定义一次（反）序列化的顺序以实现可维护性。

我可以使用 C# 的抽象类方法来实现我的目标，但是这样做有几个问题：

1.  性能：我不想招致与使用“ref”参数对内置类型有关的装箱

2.  性能：为每个（反）序列化操作添加额外的抽象方法调用也不理想

3.  额外输入：我必须不必要地初始化我正在反序列化的所有变量，因为 C# 不允许我互换传递“ref”和“out”参数

如何避免重复数据结构（反）序列化的定义，同时避免上述部分或全部问题？

（我玩弄了代表和反射，但这个解决方案最容易找到我）：

```
public struct ControllerSnapshot
{
    public Vector2 m_lStick;

    static private void Op(ref float lStickX, ref float lStickY, Op<float> op)
    {
        //define (de)serialization order here once and only once
        lStickX = op.Invoke(lStickX);
        lStickY = op.Invoke(lStickY);
    }
    public ControllerSnapshot(uLink.BitStream bitStream)
    {   
        OpRead<float> opRead = new OpRead<float>(bitStream);
        float lStickX,lStickY;
        lStickX = lStickY = 0.0f;//3.can't use "out"; have to match Op's "ref" params
        Op(ref lStickX,ref lStickY,opRead);

        m_lStick = new Vector2(lStickX,lStickY);
    }
    public void Serialize(uLink.BitStream bitStream)
    {
        OpWrite<float> opWrite = new OpWrite<float>(bitStream);
        Op(ref m_lStick.x, ref m_lStick.y, opWrite);
    }
};

//in order to make the above work this needs to be defined:
abstract class Op<T>
{
    public Op(uLink.BitStream bitStream)
    {
        m_bitStream = bitStream;
    }
    abstract public T Invoke(T arg);

    protected uLink.BitStream m_bitStream;
}
class OpRead<T>:Op<T>
{
    public OpRead(uLink.BitStream bitStream) : base(bitStream) { }
    override public T Invoke(T arg)
    {
        return m_bitStream.Read<T>();
    }
}
class OpWrite<T>:Op<T>
{
    public OpWrite(uLink.BitStream bitStream) : base(bitStream) { }
    override public T Invoke(T arg)
    {
        m_bitStream.Write<T>(arg);
        return arg;
    }
}   

//by contrast, the "obvious" code duplicates the order of (de)serialization, which I
//want to avoid, especially as (de)serialization becomes increasingly complex:
public ControllerSnapshot(uLink.BitStream bitStream)
{
    float lStickX,lStickY;
    lStickX = bitStream.Read<float>();
    lStickY = bitStream.Read<float>();

    m_lStick = new Vector2(lStickX,lStickY);
}
public void Serialize(uLink.BitStream bitStream)
{
    bitStream.Write<float>(m_lStick.x);
    bitStream.Write<float>(m_lStick.y);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T05:30:38.543

首先，我认为虚拟方法调用在这里不会产生任何影响——您正在序列化您的对象以通过网络传输。额外的几纳秒是没有意义的。

您提出的解决方案也让您重复自己 - 您仍然必须在序列化和反序列化中指定您的属性。

避免这种情况的唯一方法是通过某种方式指定应该序列化哪些字段并使用某种反射——就像 .NET 的序列化程序十年来一直在做的那样。

更新：

*实际上*，为什么不使用 Google 的[Protobufs](http://code.google.com/p/protobuf-net/)呢？

# assembly - div 操作中的剩余部分在哪里（X86 tasm 汇编器）

> ID：16183943
> 
> 赞同：0
> 
> 时间：2013-04-24T05:21:20.320
> 
> 标签：assembly, tasm

以下汇编代码的输出预计为 6，但它是 3。怎么了？

```
data_seg    segment 
msg1 db "hi",10,13,"$"
msg3 db 26
num db 10
data_seg    ends
code_seg    segment
assume  cs:code_seg, ds:data_seg
start:
        mov ax,data_seg                 ;init
        mov ds,ax

    loop1:
        mov ah,0
        mov al,msg3
        div num
        mov ah,02
        int 21h
    term:   
        mov ah,4ch          ;termination code                       
        mov al,0
        int 21h
code_seg    ends
end start 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T05:36:45.613

从[文档](http://web.itu.edu.tr/kesgin/mul06/intel/instr/div.html)中：

> 按源对累加器进行无符号二进制除法。如果源除数是字节值，则 AX 除以 src 并将商放在 AL**中，余数放在 AH 中**。如果源操作数是字值，则 DX:AX 除以 src，商存储在 AX 中，余数存储在 DX 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T05:33:44.863

DOS 函数需要寄存器中`AH=02h`的字符代码。 您的除法操作是并且不会改变。`DL`
`word(AX)/byte(10) -> quot(AL)+res(AH)``DL`

# magento - 没有在 Magento 块文件中获取客户集合？

> ID：16183946
> 
> 赞同：1
> 
> 时间：2013-04-24T05:21:44.760
> 
> 标签：magento

我正在尝试根据他们的状态来获取所有客户的详细信息，例如收集来自亚利桑那州的所有客户。

代码：

```
$collection = array();
$collection = Mage::getResourceModel('customer/customer_collection')
    ->joinAttribute('company', 'customer_address/company', 'default_billing', null, 'left')
    ->joinAttribute('billing_city', 'customer_address/city', 'default_billing', null, 'left')
    ->joinAttribute('billing_region', 'customer_address/region', 'default_billing', null, 'left')
    ->addFieldToFilter('billing_region',$stateName)
    ->setOrder('billing_city', 'asc');
echo $stateName;   
echo $collection->getSelect();
print_r($collection); 
return $collection; 
```

现在，当我显示查询并在 sql 中运行它时，它工作正常，但集合没有显示任何内容。

任何帮助，将不胜感激 ！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-10T05:12:07.970

尝试加载集合：

```
->setOrder('billing_city', 'asc')->load(); 
```

# primefaces - PrimeFaces Tabview 选项卡更改不起作用

> ID：16183951
> 
> 赞同：0
> 
> 时间：2013-04-24T05:22:16.043
> 
> 标签：primefaces, tabs, tabview

我有 3 个标签的简单流程。我已经在展示中测试了 Simple tabview 示例。但是当我用我的内容更改第一个选项卡时，我无法切换到其他选项卡。

请指导我需要更改的错误。早些时候我使用的是向导，但我在那里遇到了相同的选项卡更改问题，因为单击下一个每次都会将我带到最后一个选项卡。现在面临 Tabview 的其他问题

我正在发布代码：

```
 <h:form id="compositionmaster">
    <p:tabView id="tabView">

    <p:tab id="tab1" title="Committee Details">

                <h:panelGrid columns="2" columnClasses="label, value">
                    <h:outputText value="Committee Type: " />
                    <p:selectOneMenu  id="type" value="#{userWizard.comm.committeeType}" effect="fade">
                         <f:selectItem itemLabel="----Select----" itemValue="0" />  
                         <f:selectItem itemLabel="New" itemValue="1" />                 
                         <f:selectItem itemLabel="Existing" itemValue="2"  />

                    </p:selectOneMenu>

                    <h:outputText value="Concerned Division: " />
                    <p:selectOneMenu  id="division" value="#{userWizard.comm.committeeSubType}" effect="fade">  
                        <f:selectItem itemLabel="----Select----" itemValue="0" />  
                        <f:selectItem itemLabel="Administration" itemValue="1"/>
                        <f:selectItem itemLabel="Finance" itemValue="2" />
                        <f:selectItem itemLabel="Marketing" itemValue="3" />
                        <f:selectItem itemLabel="Others" itemValue="4" />   
                    </p:selectOneMenu>

                    <h:outputText value="Committee Name: " />
                    <p:inputText value="#{userWizard.comm.committeeName}" maxlength="100"/>

                    <h:outputText value="Subject: " />
                    <p:inputText value="#{userWizard.comm.committeeSubject}" maxlength="100" />

                    <h:outputText value="Description: " />
                    <p:inputText value="#{userWizard.comm.committeeDescription}" maxlength="500" />

                    <h:outputText value="Tenure of Committee: " />
                    <p:panelGrid columns="2" >
                        <p:inplace id="Tenure"  label="From">
                             <p:calendar value="#{userWizard.comm.startDate}" id="start" showOn="button" />
                        </p:inplace>
                        <p:inplace label="To">
                             <p:calendar value="#{userWizard.comm.endDate}" id="end" showOn="button" /> 
                        </p:inplace>
                    </p:panelGrid>
                    <h:outputText value="Add Document: " />

                    <h:form enctype="multipart/form-data">

                        <p:fileUpload fileUploadListener="#{fileBean.handleFileUpload}" mode="advanced" update="messages"  multiple="true" sizeLimit="100000" allowTypes="/(\.|\/)(gif|jpe?g|png|doc|pdf)$/"/>

                    </h:form>
              </h:panelGrid>     
        </p:tab>

    <p:tab id="tab2" title="Godfather Part II">
        <h:panelGrid columns="2" cellpadding="10">

            <h:outputText id="tab2Text" value="stature grows."/>
        </h:panelGrid>
    </p:tab>

    <p:tab id="tab3" title="Godfather Part III">
        <h:panelGrid columns="2" cellpadding="10">

            <h:outputText id="tab3Text" value="After a promise that his family would one day be completely legitimate."/>
        </h:panelGrid>
    </p:tab>

</p:tabView>

</h:form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:37:20.077

**不要使用嵌套表单**

HTML 不允许嵌套表单，因此您也不应该在 primefaces 中使用它们。它们可能会导致不良行为。

请参阅：[其他](https://stackoverflow.com/questions/7371903/multiple-hform-in-a-jsf-page/7372315#7372315)stackoverflow[问题](https://stackoverflow.com/questions/13359143/primefaces-nested-dialogs-appendtobody-backing-bean-action-not-firing)，或者 JSF 中要避免的一系列问题：[这里](https://stackoverflow.com/a/2120183/209427)（注意第 2 点）

这是我在您的代码中看到的唯一问题。除此之外，在极少数情况下，如果使用 ajax 而不处理整个表单，您可能会遇到问题。但正如我所见，您的代码并非如此。

# javascript - 是否有一个函数可以检查一个数组是否包含另一个数组？

> ID：16183959
> 
> 赞同：2
> 
> 时间：2013-04-24T05:22:38.603
> 
> 标签：javascript, node.js

```
[1,2,3].CONTAINS([1,2]) ==> true
[1,2,3].CONTAINS([1,2,3,4]) ==> false 
```

或者

```
{a:1,b:2,c:3}.HASKEYS([a,b]) ==> true
{a:1,b:2,c:3}.HASKEYS([a,b,c,d]) ==> false 
```

是否有一个函数可以检查一个数组是否包含另一个数组？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T05:25:04.743

不，但你可以做一个：

```
Array.prototype.contains = function(other) {
    for (var i = 0; i < other.length; i++) {
        if (this.indexOf(other[i]) === -1) return false;
    }

    return true;
} 
```

如果订单很重要：

```
Array.prototype.contains = function(other) {
    var broken;

    if (!other.length) return true;

    for (var i = 0; i < this.length - other.length + 1; i++) {
        broken = false;

        for (var j = 0; j < other.length; j++) {
            if (this[i + j] !== other[j]) {
                broken = true;
                break;
            }
        }

        if (!broken) return true;
    }

    return false;
} 
```

其他功能类似，就交给你完成吧：

```
Object.prototype.has_keys = function(keys) {
    ...
} 
```

# cocos2d-iphone - Box2d 带圆角的矩形体

> ID：16183963
> 
> 赞同：0
> 
> 时间：2013-04-24T05:23:03.587
> 
> 标签：cocos2d-iphone, box2d-iphone

我在 Box2d 中实现了软体（圆形），当这个软体与矩形 box2d 对象的角碰撞时，它就失去了圆形。我认为这可以通过使矩形的角变圆来解决，或者我们可以使用软体概念来实现这个圆角。

有人可以在这种情况下指导我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-02T07:26:24.250

为了获得圆角，我使用物理编辑器制作圆角物理体。您可以从这里获得物理编辑器：http: [//www.codeandweb.com/physicseditor](http://www.codeandweb.com/physicseditor)

为了在 cocos2d iphone 中添加那些圆角物理，我使用 GB2ShapeCache 来缓存这些物理形状，然后从缓存的内存中使用它。

您可以从这里获取那些 GB2ShapeCache 文件包：[http ://www.4shared.com/zip/8H6BNDTH/GB2Shape.html](http://www.4shared.com/zip/8H6BNDTH/GB2Shape.html)

要缓存那些物理体：将以下文件导入您的代码，首先导入：

```
#import "GB2ShapeCache.h" 
```

接着，

```
[[GB2ShapeCache sharedShapeCache] addShapesWithFile:@"rectangleRoundedCornerBody.plist"]; 
```

现在圆角矩形在您的缓存中，因此您可以使用它们的名称来调用它们，如下所示。

```
[[GB2ShapeCache sharedShapeCache] addFixturesToBody:PhysicsBody forShapeName:@"nameOfRectangleBody"]; 
```

如果有人想进一步解释可以评论..

# jquery - Chrome 在刷新时不显示图像

> ID：16183966
> 
> 赞同：0
> 
> 时间：2013-04-24T05:23:16.813
> 
> 标签：jquery, image, google-chrome, caching

我正在使用`roundabout`jQuery 插件，它在所有浏览器上运行良好，除了`Chrome`.

当 I 时`Inspect Element`，我发现所有源代码和参数都是正确且定义明确的。

现在，当我单击 URL 并点击`Enter`图像时，当我用关键图像刷新时`F5`没有显示。

我尝试通过谷歌和 chrome 论坛进行研究，但我无法得到那个..

我当前的配置在

```
Chrome  : Version 26.0.1410.64 m
OS      : Windows XP SP2, Windows 7 x86 Ultimate 
```

以下是我尝试过的一些锻炼，

```
1\. Refreshed cache and deleted caches
2\. Images path are correct
3\. Making header content-type to text/html, text/css, and content-length to 1024
4\. Used Other operating system and previous version of chrome
5\. checked console if there any errors in JavaScript (Result : empty console, i.e. No Errors or warnings) 
```

我添加了一张图片仅供参考（可能没有帮助）

![在此处输入图像描述](https://i.stack.imgur.com/kqVUH.png)

## 更新：代码

```
<ul id="treemenu1" class="r-ul">
    <li><img src="images/img/img1.png"  /></li>

    <li><img src="images/img/img3.png" /></li>
    <li><img src="images/img/img2.png" /></li>
    <li><img src="images/img/img4.png"  /></li>

    <li><img src="images/img/img5.png"  /></li>
    <li><img src="images/img/img6.png"  /></li>
    <li><img src="images/img/img7.png"  /></li>

    <li><img src="images/img/img9.png"  /></li>
    <li><img src="images/img/img10.png"  /></li>
    <li><img src="images/img/img11.png"  /></li>
</ul>   

<script>
    $(document).ready(function() {
        $('ul').roundabout({
            'autoplay':true,
            'duration':3000
        });
    });
</script> 
```

## 添加了jsfiddle

[http://jsfiddle.net/Twy8e/](http://jsfiddle.net/Twy8e/)

jsfiddle在chrome上工作没有问题..它在chrome上工作..但是在生产中它不显示图像

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T11:26:59.387

哦，我什至使用了这个插件和很多问题，最后我得到了解决方案。

设置一个参数 `'debug':true` ，您将看到具有所有样式/css 的空 div 元素。

```
$(document).ready(function() {
    $('ul').roundabout({
        'autoplay':true,
        'duration':3000,
        'debug':true
    });
}); 
```

现在，当您刷新时，请查看样式/css，然后您会发现 `height`和元素`width`为.`div``0px`

并设置`min-height`并设置`min-weight`为下面提到的 css 或您想要的值并检查一下..

我见过你小提琴，我认为..这个css

```
li img {
    width: 100%;
} 
```

您需要将其更改为

```
li img {
    min-height: 250px; /* or whatever */
    min-weight: 350px; /* or whatever */
} 
```

解决后，删除调试选项或将其设置为 false。

可能这对你有用，因为我遇到了这个问题并得到了解决方案。我认为这不是 chrome 的问题.. 它的插件不会触发元素 的`height`and`width`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T05:34:14.930

使用并尝试 Tilled Characters 或 ../

```
 <li><img src="~/images/img/img1.png"  /></li> 
```

或者

```
 <li><img src="../images/img/img1.png"  /></li> 
```

并看到其他一些讨论

[CSS背景图像未加载](https://stackoverflow.com/questions/12227716/css-background-images-not-loading)

[Chrome：刷新页面+ javascript重定向后未呈现背景图像](https://stackoverflow.com/questions/11950306/chrome-background-images-not-rendered-after-refreshing-page-javascript-redire)

或 **使用 $(window).load() 而不是 $(document).ready()**

```
<script>
    $(window).load(function() {
        $('ul').roundabout({
            'autoplay':true,
            'duration':3000
        });

    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-24T05:34:35.403

`<li><img src="images/img/img3.png?X" /></li>`当您从服务器端生成图像时，尝试将随机数添加到图像源中，就像`X`随机数一样。

例如：

```
<li><img src="images/img/img3.png?1" /></li>
<li><img src="images/img/img2.png?2" /></li>
<li><img src="images/img/img4.png?3" /></li> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-24T11:56:51.213

我最近确实遇到了从服务器端加载图像的相同问题，我对代码进行了一些更改，但似乎没有任何帮助。

所以我做了一个改变图像文件类型的小技巧，`png to jpeg`一切都从那里顺利进行。

# haskell - 柯里化函数 Erlang

> ID：16183971
> 
> 赞同：10
> 
> 时间：2013-04-24T05:23:37.370
> 
> 标签：haskell, erlang, currying, fold

我正在尝试使用 Erlang 重做我所有的 Haskell 作业问题，而让我感兴趣的一件事是如何使用没有所有参数的函数列表。

示例：我正在尝试使用此折叠，但我不知道如何传入函数以便它在累加器上运行

```
%%inside my module)
add(X,Y) -> X + Y.

multiply(X,Y) -> X*Y. 
```

之后在命令行中使用它：

```
lists:foldl(fun(Function,Accumulator) -> Function(Accumulator) end, 3, [add(3),multiply(5)]). 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-24T06:18:50.177

在 Erlang 中，您必须调用传递它所需的所有参数的函数。但是你可以通过创建一个只接受你需要的参数然后正确调用你的函数的匿名函数来轻松避免它。如果你需要一个接受一个参数 X 并调用函数 add(3, X) 的函数，你可以创建一个这样的匿名函数：

```
fun (X) -> add(3, X) end 
```

这是您的任务的示例：

```
lists:foldl(fun (Function, Accumulator) -> Function(Accumulator) end, 3,
    [fun (X) -> add(3, X) end, fun (X) -> multiply(5, X) end]). 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-26T14:43:49.717

就本机 Erlang 而言，没有您想要的任何形式的部分评估。你将不得不创造自己的乐趣来做到这一点。但是，如果您使用[Erlando Monad 库](https://github.com/rabbitmq/erlando)，则可以使用模式匹配来创建它。它的工作原理是 erlang 编译器允许你在编译代码时使用 AST，这样你就可以做这样很酷的事情。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T13:13:52.657

可以相当容易地编写一个部分应用程序函数，它被称为类似于 erlang:apply/3 的方法。它缺乏你在支持柯里化的语言中所拥有的优雅。

```
-module(partial).

-export([apply/4]).

apply(Module, Name, Arity, Args) when length(Args) < Arity ->
    Left = Arity - length(Args),
    fun(Args1) when length(Args1) < Left ->
            fun(Args2) ->
                apply(Module, Name, Arity, Args2 ++ Args1 ++ Args)
            end;
       (Args1) when length(Args1) > Left ->
            erlang:error(badarg);
       (Args1) ->
            erlang:apply(Module, Name, Args1 ++ Args)
    end;
apply(_, _, Arity, Args) when length(Args) > Arity ->
    erlang:error(badarg);
apply(Module, Name, _, Args) ->
    erlang:apply(Module, Name, Args). 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-02-20T20:49:51.467

```
-module(f).
-export([curry/1]).

curry(AnonymousFun) ->
    {arity, Arity} =
        erlang:fun_info(AnonymousFun, arity),

    do_curry(AnonymousFun, Arity, [[], [], []]).

do_curry(Fun, 0, [Fronts, Middle, Ends] = X) ->
    % Fronts ++ Middle ++ ")" ++ Ends;
    [F, M, E] =
        lists:map(fun(L) -> string:join(L, "") end, X),
    Fstring =
        F ++ "Run(" ++ string:trim(M, trailing, ",") ++ ")" ++ E,

    {ok, Tokens, _} =
        erl_scan:string(Fstring ++ "."),
    {ok, Parsed} =
        erl_parse:parse_exprs(Tokens),

    FunBinding =
        erl_eval:add_binding(
          'Run',
          Fun,
          erl_eval:new_bindings()
        ),
    {value ,CurriedFun, _} =
        erl_eval:exprs(Parsed, FunBinding),

    CurriedFun;

do_curry(Fun, Arity, [Fronts, Middle, Ends]) ->
    VarName = [64 + Arity],
    NewFronts = ["fun(" ++ VarName ++ ") -> " | Fronts] ,
    NewMiddle = [VarName ++ ","|Middle],
    NewEnds = [" end"|Ends],
    do_curry(Fun, Arity-1, [NewFronts, NewMiddle, NewEnds]). 
```

用法（从 shell 输出中剔除的噪音）：

```
72> c("./f") % If `f.erl` is in the current dir that is.

73> F = f:curry(fun(A,B,C) -> A + B + C end).

74> F(1).
75> G = F(1).
76> G(2).
77> H = G(2).
78> H(3).
6

79> I = (F(1))(2).
80> I(3).
6

82> F2 = mtest:curry(fun erlang:'++'/2).  

83> F2("lofa").

84> (F2("lofa"))("miez").
"lofamiez"

85> ((f:curry(fun lists:map/2))((f:curry(fun filename:join/2))("dir")))(["a_file", "b_file"]).
["dir/a_file","dir/b_file"] 
```

有用的资源：

*   [http://erlang.org/pipermail/erlang-questions/2005-April/015279.html](http://erlang.org/pipermail/erlang-questions/2005-April/015279.html)
*   [https://grantwinney.com/how-to-evaluate-a-string-of-code-in-erlang-at-runtime/](https://grantwinney.com/how-to-evaluate-a-string-of-code-in-erlang-at-runtime/)
*   [将 erlang 术语转换为字符串，或解码 erlang 二进制](https://stackoverflow.com/questions/9423488/convert-erlang-terms-to-string-or-decode-erlang-binary)
*   [Erlang 试图评估一个字符串](https://stackoverflow.com/questions/23811143/erlang-trying-to-evaluate-a-string)
*   [了解传递函数的参数数量（erlang）](https://stackoverflow.com/questions/10048001/knowing-the-number-of-parameters-of-a-passed-function-erlang)
*   [https://erlang.org/doc/man/erl_eval.html](https://erlang.org/doc/man/erl_eval.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-24T05:57:52.707

```
lists:foldl(
    fun(Function,Accumulator) -> Function(Accumulator) end, 
    3, 
    [
        fun(X) -> modname:add(3, X) end, 
        fun(X) -> modname:multiply(5, X) end
    ]
). 
```

# matlab - Change the step value of figure colorbar in Matlab

> ID：16183973
> 
> 赞同：0
> 
> 时间：2013-04-24T05:23:40.683
> 
> 标签：matlab, matlab-figure

I have a colorbar in a figure in Matlab. It ranges from 0 to 4\. The colorbar appears like this: `0,0.5,1,1.5,2,1.5,2,2.5,3` so as shown the step value is `0.5`. I want it to step 1 at a time so that it appears like this: `0,1,2,3,4`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T05:46:42.307

以下几行应该做到这一点：

```
hcb=colorbar;
set(hcb,'YTick',0:4); 
```

# video - 视频未转码

> ID：16183977
> 
> 赞同：0
> 
> 时间：2013-04-24T05:24:06.510
> 
> 标签：video, drupal-7, zencoder, localtunnel

我在 Drupal 7 中使用视频模块，并使用 Zencoder 作为编码视频的选项。我使用[http://progrium.com/localtunnel/](http://progrium.com/localtunnel/) 在互联网上公开本地主机服务器。

我按照以下步骤在我的机器中配置 localtunnel

*   下载 Ruby/Ruby Gems 并生成 ssh 密钥以在公共场所托管 localhost。
*   我的 Apache 服务器在端口 80 上运行。所以我运行这个命令

    localtunnel -k ~/.ssh/id_rsa.pub 80

*   它要求输入密码，我给了它。
*   然后它显示以下消息：-

    此本地隧道服务由 Twilio 提供给您。现在可以从 [http://5557.localtunnel.com](http://5557.localtunnel.com)访问端口 80 "

当我给

```
http://5557.localtunnel.com/VideoSample/postback/jobs 
```

作为管理 » 配置 » 媒体 » 视频中转码器选项的回发 URL 中的值，那么配置也会被保存。

现在我上传视频内容类型的视频。保存节点后，它会给出以下消息。

该视频目前正在处理中。请稍等。

当我在 Zencoder 检查我的帐户时，它显示状态为“处理中”。一段时间后，它将状态更改为失败并给出以下消息：-

我们尝试在以下位置下载文件

```
http://localhost/VideoSample/sites/default/files/videos/original/big_buck_bunny.mp4, but it was not there. Get more information in the documentation. 
```

文件夹 videos/original 已授予公共访问权限。请让我知道我在哪里做错了，或者要执行哪些权限或步骤才能将编码文件返回到网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T22:28:00.590

Zencoder 需要能够通过 Internet 访问该文件才能下载它，因此 localhost 无法正常工作。您也许可以再次使用 localtunnel.com，但我猜下载速度会非常缓慢。

只是为了测试，您可能想尝试将您的代码在线推送到开发服务器，或设置 Drupal 将您的文件上传到 S3 等服务以供 Zencoder 访问。

# c - 整个程序的getpid()、getppid()？

> ID：16183984
> 
> 赞同：0
> 
> 时间：2013-04-24T05:24:28.653
> 
> 标签：c

我四处寻找，但一直找不到我要找的东西。我知道 getpid() 返回调用进程的进程 ID，而 getppid() 返回调用进程的父进程 ID。但是有没有可以获取程序进程ID的函数呢？还是以上两者中的一个实际上是这样做的？先感谢您！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-24T05:28:16.823

程序没有`PID`. `PID`表示进程ID。进程是程序的运行实例。所以只有当程序执行时它才会得到一个`PID`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-24T05:27:12.730

这**就是**getpid() 的作用。进程是程序的运行实例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-24T05:35:52.383

> 但是有没有可以获取程序进程ID的函数呢？

[维基百科对流程](http://en.wikipedia.org/wiki/Computer_process)的定义中的这句话将回答您的上述问题。

> 在计算中，进程是正在执行的计算机程序的一个实例。它包含程序代码及其当前活动。

# ios - IOS中的uipageviewcontroller和uiwebview

> ID：16183985
> 
> 赞同：1
> 
> 时间：2013-04-24T05:24:28.840
> 
> 标签：ios, objective-c, ipad, uiwebview, uipageviewcontroller

这里我有使用 UIWebView 显示的 html 内容。webview以水平滚动显示，看起来像逐页滚动，目前我已经实现了正常的pagecurl动画，而不是使用这个动画我想使用UIPageviewcontroller

```
CATransition *transition = [CATransition animation];
    [transition setDelegate:self];
    [transition setDuration:0.5f];
    if(flipType==0)
        [transition setType:@"pageUnCurl"];
    else {
        [transition setType:@"pageCurl"];
    }
    [transition setSubtype:@"fromRight"];
 [theWebView.layer addAnimation:transition forKey:@"CurlAnim"]; 
```

你能帮我实现这个吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:51:07.633

它真的很容易，你可以只拥有一个 webview，因为 viewcontrollers 的视图添加到 pageviewcontroller 有一个很好的教程，在 [这里](http://www.techotopia.com/index.php/An_Example_iOS_5_iPhone_UIPageViewController_Application) 请通过它。

# javascript - how to fix a division using css and js..?

> ID：16183987
> 
> 赞同：0
> 
> 时间：2013-04-24T05:24:31.997
> 
> 标签：javascript, css

In my webpage a division in the left hand side should be fixed in a particular position.I am using `position:fixed;top:150px;left:0px;`. So now even we scrolldown the page the division will not change from the current position.

But here i am facing a problem. If am scrolling down the page `150px or more` i am getting the white space of `150px` at the top of that left hand side division.

So what my requirement is if am scrolling down the page `150px or more` then the css of that left hand side division should be changed to `position:fixed;top:0px;left:0px;` and as well as when i am going to top of the page again the css should change to `position:fixed;top:150px;left:0px`;

I came to know that this can't be done with only CSS and we have to use JS along with the CSS. But i don't know how to do that.

Please help me...!!

Thanks in advance, Sreeram

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T05:36:30.217

因此，根据您上面所说的，您希望有一个元素跟随您在页面下方，但在您向下滚动一些方式后更改它的顶部位置。

我创建了一个 jsfiddle，一旦文档滚动超过 150 像素，它就使用 js 向元素添加一个类。如果它们回滚到 150 像素以上，它也会删除该类。

[http://jsfiddle.net/KQCRC/](http://jsfiddle.net/KQCRC/)

```
.fix {
    position:fixed;
    top:150px;
    left:0px;
    width:100px;
    height:100px;
    background:#fff;
}
.fix.scrolled {
top:0;
} 
```

# image - How to make a website menu exactly like the one right here on stackoverflow on ASP.NET MVC 4?

> ID：16183992
> 
> 赞同：0
> 
> 时间：2013-04-24T05:24:39.923
> 
> 标签：image, razor, asp.net-mvc-4, menu, hyperlink

I started using asp.net MVC 4 and I don't quite understand how could I accomplish simple tasks like making a simple navigation menu for my website, I would like it to be just like the one here on stackoverflow where the images change on mouse over and also link to their corresponding pages.

what used to be a few minutes of work with HTML (in Dreamweaver for example) now takes much much more time and thought (at least for me).

Investigating about the 3 elements I've mentioned got me here:

1.  How to show an image- even that is not easy, I have looked everywhere for something that looks like an ideal solution but couldn't find any! even here on stackoverflow, some solutions are involving writing long lines of code in the name of "Helpers", and I could dig into it but there are so many different solutions, and I wouldn't know which one is right.. why can't there be just one standardized solution?

2.  How to link an image- also an issue, that i understand that I need to set the controller in the parameters list but again I ran into and issue that I might have found the solution for I just need to test it, I have read that I could have different methods inside of one controller and in this way I will not have to have one controller for each link. I will try that, better solutions are welcomed.

3.  How to swap an image on mouse over- also looks crazy for me, I have found one solution where there are long lines of code for this here: [http://www.codeproject.com/Tips/329596/MVC-3-Helper-for-Hover-Images](http://www.codeproject.com/Tips/329596/MVC-3-Helper-for-Hover-Images)

I am kind of disappointed that just for putting up the logo image and linking it I spend days! I do have background in .net c# HTML+CSS etc'.. so I am asking myself (and you guys) why does it have to be so unclear and not friendly?

Come on.. what am I missing? is there any library of helpers everybody is using or something like that?

I am still in the process of learning MVC 4 and I know I'll get it but I would've expected accomplishing these kind of simple tasks a lot faster. also, in Microsoft examples, I have never found an example where they put a logo or a menu image, it is always plain text! so annoying and frustrating...

I will very much appreciate any help..

Thanks a lot!

Roy.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T09:44:07.080

[从http://www.asp.net/mvc/mvc3](http://www.asp.net/mvc/mvc3)开始，了解它的范式是什么以及 webform 和 mvc 系统之间的区别是什么。

基本上您需要了解母版页在 mvc 中是如何演变的，或者在 mvc 中母版页的替换是什么。

这是您想要实现的目标的线索。

现在，如果您想放置图像按钮，如果您将鼠标悬停并且颜色会改变，那么您需要执行以下步骤。

1.  首先创建一个按钮，例如

> Html.ActionLink("YourButtonName", "Index", null, new {@class="hoverButton" })

1.  现在您需要在您的 css 文件中创建两个名为 hoverButton 的类，其中包含用于显示图像和 hoverButton:hover 显示图像的属性，当您将鼠标悬停在链接上时。跟下面一样。

hoverButton { margin-bottom: 10px; 宽度：160px；高度：160px；显示：块；background:transparent url('Button.png') center top no-repeat; }

.hoverButton:hover { 背景图片: url('hoverButton.png'); }

这样，当您将鼠标悬停在按钮上时，它将在 mvc 视图菜单项中显示不同的图像。

希望你理解这个概念，它会有所帮助。

# html - Equally spacing radio buttons with width in Safari

> ID：16183997
> 
> 赞同：0
> 
> 时间：2013-04-24T05:25:28.637
> 
> 标签：html, css, safari, html-table, radio-button

I have a group of radio buttons that I want to be equally spaced and centered under column headers. These buttons use this css to do so:

```
.staiRadioButtons
{
    display: inline;
    width: 111px;
} 
```

This works just fine in Firefox and Chrome, but in Safari the buttons are not as wide and thus misalign. What is the proper way of equally spacing radio buttons in a table column?

The section of HTML:

```
<tr>
  <td>1\. I feel pleasant.</td>
  <td><span id="spryradio1">
    <label>
      <input name="pleasant" type="radio" class="staiRadioButtons" id="pleasant_0" value="4" />
      <input name="pleasant" type="radio" class="staiRadioButtons" id="pleasant_1" value="3" />
      <input name="pleasant" type="radio" class="staiRadioButtons" id="pleasant_2" value="2" />
      <input name="pleasant" type="radio" class="staiRadioButtons" id="pleasant_3" value="1" />
    </label>
    <span class="radioRequiredMsg">Please make a selection.</span></span></td>
</tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T05:35:03.213

尝试这个

```
.staiRadioButtons
{
    float:left;
    width: 111px;
} 
```