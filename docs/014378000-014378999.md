# StackOverflow 问答 14378000-14378999

# android - 使用 ACRA 时 Android 出现异常

> ID：14378002
> 
> 赞同：1
> 
> 时间：2013-01-17T11:23:41.730
> 
> 标签：android, android-activity, start-activity

我的应用程序使用 ACRA 进行错误报告，并且我的设备收到了一些错误报告：Can only use lower 16 bits for requestCode.. Google 显示使用 startActivityForResult 时发生此错误，但我搜索了我的代码几次，我不会在任何地方打电话。

我很困惑，想知道这对用户有何影响（有趣的是，崩溃报告测试版根本没有显示任何错误）。

还有其他人遇到这个吗？

```
java.lang.RuntimeException: Unable to resume activity {com.myapp/com.myapp.MyActivity}:  
java.lang.IllegalArgumentException: Can only use lower 16 bits for requestCode
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2120)
at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2135)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:957)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3683)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.IllegalArgumentException: Can only use lower 16 bits for requestCode
at android.support.v4.app.g.startActivityForResult(SourceFile:690)
at com.android.e.a.a(Unknown Source)
at com.android.e.e.a(Unknown Source)
at com.android.o.e.a(Unknown Source)
at com.android.o.b.a(Unknown Source)
at com.android.framework.context.d.a(Unknown Source)
at com.android.framework.context.d.onResume(Unknown Source)
at com.android.Kiwi.onResume(Unknown Source)
at com.myapp.MyActivity.onResume(SourceFile)
at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1150)
at android.app.Activity.performResume(Activity.java:3832)
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2110)
... 10 more
java.lang.IllegalArgumentException: Can only use lower 16 bits for requestCode
at android.support.v4.app.g.startActivityForResult(SourceFile:690)
at com.android.e.a.a(Unknown Source)
at com.android.e.e.a(Unknown Source)
at com.android.o.e.a(Unknown Source)
at com.android.o.b.a(Unknown Source)
at com.android.framework.context.d.a(Unknown Source)
at com.android.framework.context.d.onResume(Unknown Source)
at com.android.Kiwi.onResume(Unknown Source)
at com.myapp.MyActivity.onResume(SourceFile)
at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1150)
at android.app.Activity.performResume(Activity.java:3832)
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2110)
at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2135)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:957)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3683)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method) 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-17T11:36:14.803

从 FragmentActivity 源代码：

```
/**
* Modifies the standard behavior to allow results to be delivered to fragments.
* This imposes a restriction that requestCode be <= 0xffff.
*/
@Override
public void startActivityForResult(Intent intent, int requestCode) {
    if (requestCode != -1 && (requestCode&0xffff0000) != 0) {
        throw new IllegalArgumentException("Can only use lower 16 bits for requestCode");
    }
    super.startActivityForResult(intent, requestCode);
} 
```

您的请求代码似乎只能达到`0xffff`，这对我们来说意味着`65535`10 个痴迷的人。

# mysql - 在数据库级别将 varchar 列转换为 mysql 中的日期

> ID：14378003
> 
> 赞同：18
> 
> 时间：2013-01-17T11:23:48.673
> 
> 标签：mysql

我有一列`date1`是*varchar*类型，我希望此列`date`输入。我尝试更改字段，但所有日期都转换为`0000-00-00`. 格式是`dd-mm-yyyy`但是在*varchar*中。

如何使用 sql 查询或类似但在数据库级别转换相同的日期格式但具有日期格式？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-01-17T11:27:02.613

```
UPDATE `table`
SET `column` = str_to_date( `column`, '%d-%m-%Y' ); 
```

有关[STR_TO_DATE](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)函数的更多信息。

* * *

由于您的列名是`date1`，您可以在上面的语法中替换`column`为`date1`，代码应为：

```
UPDATE `table`
SET `date1` = str_to_date( `date1`, '%d-%m-%Y' ); 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2016-10-04T08:26:30.597

这里的其他答案是有风险的，因为如果它们出错，您将丢失您的数据。一种更安全的方法是在数据库上创建一个具有 DATE（或 DATETIME，如果您也需要时间）格式的新字段，然后运行如下查询

```
UPDATE `table` SET `my_new_date_field` = STR_TO_DATE( `my_old_data_field`, '%d/%m/%Y'); 
```

这样，如果`%d/%m/%Y`位错误，您将不会丢失数据。

满意后，您可以删除旧数据字段并重命名新字段。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-17T11:27:17.730

使用MySQL 的[STR_TO_DATE](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)函数

首先，您需要以日期格式更新值。

```
UPDATE `tbl` SET `date1` = STR_TO_DATE(`date1`, '%d-%m-%Y') WHERE 1=1 
```

然后将字段转换为日期。

最重要的是记得在此之后以 Ymd 格式插入日期。

# android - android 应用程序中的盲文支持

> ID：14378006
> 
> 赞同：1
> 
> 时间：2013-01-17T11:23:54.960
> 
> 标签：android

我正在用 android 编写一个应用程序来将英语转换为盲文。但是，我不知道如何支持 android 字体。在哪里可以找到盲文字体以及如何将其嵌入到我的应用程序中？

确实将不胜感激提供的任何帮助！

# android - Android：不会加载 ImageView

> ID：14378021
> 
> 赞同：0
> 
> 时间：2013-01-17T11:25:01.177
> 
> 标签：android, imageview, android-xml

我一直在寻找整个stackoverflow以找到解决方案，但我还没有找到。所以现在我想说对不起，如果发现重复。既然我已经说了，让我们来看看一些代码和问题：

我正在尝试将一个加载`ImageView`到我的活动中，但我的 logcat 中不断收到一个漂亮的蓝色调试日志说`"imageview == null"`

```
if (imageview == null) { 
    Log.d(TAG, "imageview == null");
 } else {
    imageview.setImageBitmap(bm); }` 
```

它只是检查 my`ImageView`是否为空（如果不为空，则将图像设置到其中）。我尝试在`onCreate`方法中加载它：

```
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.confirmpicture);
    String str = getIntent().getStringExtra("GalleryImage");
    Log.i(TAG, "Got " + str + " from the intent");
    Bitmap bm = BitmapFactory.decodeFile(str);
    imageview = (ImageView) findViewById(R.id.galleryPicture);
    if (bm != null) {
        if (imageview == null) {
            Log.d(TAG, "imageview == null");
        } else {
            imageview.setImageBitmap(bm);
        }
    } else {
        Log.d(TAG, "Bitmap not decoded");
    } 
```

我的脑袋一直在问我：“你是不是在 xml 文件中声明了 ImageView，笨蛋？” 我一直在检查其中包含的 xml 文件

```
<ImageView
    android:name="@+id/galleryPicture"
    android:layout_width="match_parent"
    android:layout_height="100dp"
    android:layout_below="@id/confirmText"
    android:contentDescription="description comes here...." /> 
```

我的目标是 API 8 (Android 2.2)，并且我一直在尝试解决这个关于加载的问题`ImageView`好几天了。现已修复

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:31:06.427

您应该写入`android:id="@+id/galleryPicture"`xml 文件，而不是`android:name="@+id/galleryPicture"`. 您创建的布局文件中没有 ID 为 galleryPicture 的视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:34:28.093

尝试在 imageview 中设置`android:id="@+id/galleryPicture"`而不是设置图像，如下所示：`android:name="@+id/galleryPicture"`

> ```
> <ImageView
> android:id="@+id/galleryPicture"  <------ set proper id.
> android:layout_width="match_parent"
> android:layout_height="100dp"
> android:layout_below="@id/confirmText"
> android:background="@drawable/someimage" <------Set background
> android:contentDescription="description comes here...." /> 
> ```

# android - 我如何发出通知警报声？

> ID：14378022
> 
> 赞同：0
> 
> 时间：2013-01-17T11:25:03.393
> 
> 标签：android, audio

如何使用我的 alarm.mp3 文件创建简单的通知警报声音？我的文件在 /res/raw 目录中。我需要什么代码？

```
 notification.sound = Uri.parse("android.resource://" +  context.getPackageName()             "/"     + R.raw.alarm ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:27:32.947

将 mp3 文件放在 res 内的 raw 文件夹中。并使用下面的代码。

```
 notification.sound = Uri.parse("android.resource://"+context.getPackageName()+"/"+R.raw.your_sound_file_name); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:27:36.320

您可以简单地使用以下代码

```
notification.sound = Uri.parse("android.resource://" + this.getPackageName() + "/" + R.raw.mySound ); 
```

# javascript - iFrame 文档中的 Javascript - 如何获取浏览器地址栏位置？

> ID：14378023
> 
> 赞同：1
> 
> 时间：2013-01-17T11:25:08.573
> 
> 标签：javascript

我鼓励人们使用 iFrame 自行嵌入我的网站。我需要做的是让我页面上的 Javascript 找出他们的域。[因此，如果他们在http://yahoo.com](http://yahoo.com)上嵌入我的页面，那么我需要能够获取该地址。

如何？

我尝试了各种方法，例如 parent.window.location、window.location 等。但我得到的只是 iFrame 中页面的地址。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:33:40.327

`window.parent.document.location`会给你网址

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:34:21.483

试试这个：

```
window.opener.document.location 
```

或者

```
window.parent.document.location 
```

# spreadsheetgear - 是否可以优化电子表格设备的性能？

> ID：14378025
> 
> 赞同：0
> 
> 时间：2013-01-17T11:25:25.427
> 
> 标签：spreadsheetgear

我在管理一些大型电子表格、填充单元格值和提取结果的 Web 应用程序中使用电子表格库。它对于小型电子表格运行得非常快，但我们注意到更复杂的电子表格存在问题。想到的一个可能的改进是，当我们设置每个参数单元格值时，我想其他单元格值会立即重新计算（可能？），所以如果我在提取结果之前设置了很多单元格值，那么这些计算正在冗余运行（参数数量 - 1）次。当然我真的不知道它是如何工作的，也许它只是在检查时计算相关值......所以有人可以告诉我是否是这种情况，如果是这样，有什么办法可以延迟处理吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:00:05.137

无论如何，看起来值是从公式单元格中拉出来的。

这是关于一些配置设置的解释 [http://www.spreadsheetgear.com/support/help/spreadsheetgear.net.3.0/SpreadsheetGear~SpreadsheetGear.IWorkbookSet~CalculationOnDemand.html](http://www.spreadsheetgear.com/support/help/spreadsheetgear.net.3.0/SpreadsheetGear~SpreadsheetGear.IWorkbookSet~CalculationOnDemand.html)

# xslt - 如何使用 XSL 变量作为评估 XPath 的条件？

> ID：14378026
> 
> 赞同：0
> 
> 时间：2013-01-17T11:25:30.417
> 
> 标签：xslt, xpath

在使用变量作为 XPath 评估的条件时，我遇到了一个问题。我有以下工作正常的模板：

```
<xsl:template name="typeReasonDic">
    <xsl:variable name="dic" select="$schema//xs:simpleType[@name = 'type_reason_et']"/>
    <!-- do something with the variable -->
</xsl:template> 
```

但是，当我将其更改为如下所示时：

```
<xsl:template name="typeReasonDic">
    <xsl:param name="choose_dic" select="@name = 'type_reason_et'"/>

    <xsl:variable name="dic" select="$schema//xs:simpleType[$choose_dic]"/>
    <!-- do something with the variable -->
</xsl:template> 
```

它无法找到所需的节点。

我希望得到的是一个具有*默认*值的模板`$choose_dic`，可以在必要时对其进行覆盖。

我在这里想念什么？

**UPD：**我发现[这个](https://stackoverflow.com/questions/4682151/xslvariable-as-xpath-value-for-other-xsl-tag)链接描述了我正在尝试做的事情，但它似乎对我不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:32:16.713

通过做

```
<xsl:param name="choose_dic" select="@name = 'type_reason_et'"/> 
```

XSL 引擎将尝试将“@name = 'type_reason_et'”评估为 XPath 表达式，并将 RESULT 分配给您的变量。

您应该改用以下变量声明：

```
<xsl:param name="choose_dic">@name = 'type_reason_et'</xsl:param> 
```

这是默认值，但您可以在使用 xsl:with-param 调用模板时覆盖它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:48:14.960

XSLT 不是一种宏语言，您可以在其中从字符串在运行时连接代码，然后动态评估它们。因此，一般而言，出于您的目的，您需要一个扩展函数来评估存储在字符串中的 XPath 表达式，或者您需要研究新的 XSLT 3.0 功能，例如[http://www.saxonica.com/documentation/xsl-elements/evaluate .xml](http://www.saxonica.com/documentation/xsl-elements/evaluate.xml)。

在 XSLT 1.0 或 2.0 范围内可能发生的事情是，例如

```
<xsl:param name="p1" select="'foo'"/>

<xsl:variable name="v1" select="//bar[@att = $p1]"/> 
```

其中`param`保存了您与其他值进行比较的值，例如属性或元素节点等节点中的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T11:50:44.467

如果没有扩展函数，您不能直接在 XSLT 1.0 或 2.0 中执行此操作。问题是，与

```
<xsl:template name="typeReasonDic">
    <xsl:param name="choose_dic" select="@name = 'type_reason_et'"/>

    <xsl:variable name="dic" select="$schema//xs:simpleType[$choose_dic]"/>
    <!-- do something with the variable -->
</xsl:template> 
```

将在当前上下文中`<xsl:param>`对其`select`表达式进行一次评估，并将此评估的真/假结果存储在`$choose_dic`变量中。因此，`<xsl:variable>`将选择（如果为真）下的*所有* `xs:simpleType`元素，或者它们*都不*选择（如果）为假。这与`$schema``$choose_dic`*`$choose_dic`*

 *```
<xsl:variable name="dic" select="$schema//xs:simpleType[@name = 'type_reason_et']"/> 
```

它将`@name = 'type_reason_et'`在 each 的上下文中重复评估`xsl:simpleType`，并选择表达式评估为 true 的那些元素。

如果将 XPath 表达式存储为字符串，则可以使用扩展函数，例如，如果使用 Saxon，则可以使用[`dyn:evaluate`](http://www.exslt.org/dyn/functions/evaluate/)XSLT 3.0元素。[`xsl:evaluate`](http://saxonica.com/documentation9.4-demo/html/xsl-elements/evaluate.html)*

# php - File_exist 在 Symfony 2 上一直返回 false

> ID：14378027
> 
> 赞同：0
> 
> 时间：2013-01-17T11:25:34.280
> 
> 标签：php, symfony, file-exists

我试图检查我的 symfony 2 的 /uploads 文件夹中是否存在文件。

```
 $file = $this->getAssetUrl('/uploads/hd/'.$gift->getImage());
     if(file_exists($file)) return $this->getAssetUrl('/uploads/hd/'.$gift->getImage());
     else return $this->getAssetUrl('/uploads/large/'.$gift->getImage()); 
```

这总是返回错误，我调试了所有字符串并且路径正确，手动检查文件是否存在。有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T11:37:10.993

`getAssetUrl`只会打印您正在打印的任何资源的 URI，而不是实际位置。

如果你把你的项目放在/var/www/myProject，路径`file_exists`期望是/var/www/myProject/web/uploads/hd/，但它只会得到/uploads/hd。它会在你的根目录中寻找一个名为“uploads”的文件夹。第一个斜杠 ("/") 表示 PHP 的“系统根目录”，而它表示浏览器的“根 URI”。

我相信`if (file_exists($this->get('request')->getBasePath() . "/uploads/hd/" . $gift->getImage()))`应该做的伎俩。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:46:55.647

`getAssetUrl`没有返回有效的文件名。它会给你一个 URL。

您必须提供`file_exists`路径（相对或绝对），因此，您应该使用以下内容：

`$file = dirname(__FILE__).DIRECTORY_SEPARATOR.'..'`
              `.DIRECTORY_SEPARATOR.'..'`
              `.DIRECTORY_SEPARATOR.'uploads'`
              `.DIRECTORY_SEPARATOR.'hd'`
              `.DIRECTORY_SEPARATOR.$gift->getImage();`

当然，根据您的需要调整路径。

# jquery - Twitter Bootstrap Accordion 中的 Ajax 加载表

> ID：14378028
> 
> 赞同：4
> 
> 时间：2013-01-17T11:25:36.453
> 
> 标签：jquery, twitter-bootstrap, accordion

我正在尝试通过 ajax 加载 Twitter 崩溃的内容，内容采用 twitter 引导选项卡的形式，其中包含 html 表，这适用于第一个选项卡和第一个可折叠菜单，我想知道什么是最好的方法Twitter引导程序中的加载选项卡通过ajax崩溃？这是一个小提琴 [http://jsfiddle.net/H36fG/](http://jsfiddle.net/H36fG/)

折叠布局的代码`玉米

```
 </div>
    <div id="Maize" class="accordion-body collapse">
        <div class="accordion-inner"></div> <a href="http://dev.ratin.net/core/index.php/site/product/Maize"
        class="btn btn-link">See More</a>   
    </div>
</div>
<div class="accordion-group">
    <div class="accordion-heading"> <a class="accordion-toggle" id="2" data-toggle="collapse" data-parent="#accordion"
        href="#Sorghum">
            Sorghum             </a>

    </div>
    <div id="Sorghum" class="accordion-body collapse">
        <div class="accordion-inner"></div> <a href="http://dev.ratin.net/core/index.php/site/product/Sorghum"
        class="btn btn-link">See More</a>   
    </div>
</div>
<div class="accordion-group">
    <div class="accordion-heading"> <a class="accordion-toggle" id="3" data-toggle="collapse" data-parent="#accordion"
        href="#Wheat">
            Wheat               </a>

    </div>
    <div id="Wheat" class="accordion-body collapse">
        <div class="accordion-inner"></div> <a href="http://dev.ratin.net/core/index.php/site/product/Wheat"
        class="btn btn-link">See More</a>   
    </div>
</div>
<div class="accordion-group">
    <div class="accordion-heading"> <a class="accordion-toggle" id="4" data-toggle="collapse" data-parent="#accordion"
        href="#Rice">
            Rice                </a>

    </div>
    <div id="Rice" class="accordion-body collapse">
        <div class="accordion-inner"></div> <a href="http://dev.ratin.net/core/index.php/site/product/Rice"
        class="btn btn-link">See More</a>   
    </div>
</div>
<div class="accordion-group">
    <div class="accordion-heading"> <a class="accordion-toggle" id="5" data-toggle="collapse" data-parent="#accordion"
        href="#Millet">
            Millet              </a>

    </div>
    <div id="Millet" class="accordion-body collapse">
        <div class="accordion-inner"></div> <a href="http://dev.ratin.net/core/index.php/site/product/Millet"
        class="btn btn-link">See More</a>   
    </div>
</div>
<div class="accordion-group">
    <div class="accordion-heading"> <a class="accordion-toggle" id="6" data-toggle="collapse" data-parent="#accordion"
        href="#Beans">
            Beans               </a>

    </div>
    <div id="Beans" class="accordion-body collapse">
        <div class="accordion-inner"></div> <a href="http://dev.ratin.net/core/index.php/site/product/Beans"
        class="btn btn-link">See More</a>   
    </div>
</div> 
```

'

加载的带有标签的 html 表是：

```
<ul class="nav nav-tabs" id="product-table">

<li><a href="#1" data-toggle="tab">Grade 1</a>
  </li>
  <li><a href="#2" data-toggle="tab">Grade 2</a>
  </li>
  <li><a href="#3" data-toggle="tab">Grade 3</a>
  </li>
</ul>
<div class="tab-content">
  <div>
    <div class="tab-pane" id="1">
      <table class="table table-condensed table-bordered table-striped volumes">
        <thead>
          <tr>
            <th>Warehouse</th>
            <th>Grain Volume</th>
            <th>Trade Volume</th>
            <th>Direction</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>NFRA MPANDA RUKWA</td>
            <td>487</td>
            <td>487.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>COTCORI Cooperative</td>
            <td>113</td>
            <td>113.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>ENAS GBC KIREHE</td>
            <td>131</td>
            <td>131.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>Government Procurement and Supply Agent</td>
            <td>453</td>
            <td>453.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>Nairobi(test)</td>
            <td>261</td>
            <td>250.00</td>
            <td>IN</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div>
    <div class="tab-pane" id="2">
      <table class="table table-condensed table-bordered table-striped volumes">
        <thead>
          <tr>
            <th>Warehouse</th>
            <th>Grain Volume</th>
            <th>Trade Volume</th>
            <th>Direction</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>National Food Reserve Agency_Manyoni</td>
            <td>172</td>
            <td>172.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>Sodea GBC</td>
            <td>471</td>
            <td>20.00</td>
            <td>OUT</td>
          </tr>
          <tr>
            <td>Kivu Maize Factory</td>
            <td>389</td>
            <td>389.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>Mombasa Bulk Grain Handlers</td>
            <td>200</td>
            <td>200.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>Zwii Enterprises-Muloza</td>
            <td>-47</td>
            <td>47.00</td>
            <td>OUT</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div>
    <div class="tab-pane" id="3">
      <table class="table table-condensed table-bordered table-striped volumes">
        <thead>
          <tr>
            <th>Warehouse</th>
            <th>Grain Volume</th>
            <th>Trade Volume</th>
            <th>Direction</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>COTCORI Cooperative</td>
            <td>93</td>
            <td>93.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>SOSOMA GBC KICUKIRO</td>
            <td>-23</td>
            <td>23.00</td>
            <td>OUT</td>
          </tr>
          <tr>
            <td>Shabiby_Indivisual</td>
            <td>270</td>
            <td>270.00</td>
            <td>IN</td>
          </tr>
          <tr>
            <td>Silayo_Union Service Stores</td>
            <td>-38</td>
            <td>38.00</td>
            <td>OUT</td>
          </tr>
          <tr>
            <td>SGR/NFRA VWAWA</td>
            <td>-39</td>
            <td>39.00</td>
            <td>OUT</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> 
```

我正在使用 Twitter Bootstrap 2.2 和 Jquery 1.8.3，我愿意接受有关如何最好地呈现此类数据的建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-28T16:39:51.387

我首先要确保每个协议只加载一次内容，然后使用 Ajax 回调来应用选项卡设置等。

此外，对于您的标签命名约定（我看到您正在使用`<div id="1">`），我建议不要使用数字作为 ID，因为我已经看到这会导致 JS/JQ 出现问题，所以也许可以使用 #tabs-one、#tabs-二等

这是一个简单的例子：

```
$(document).ready(function() {      
        $('.accordion-toggle').on('click', function () {

            var parentRef     = $(this).attr('href'),
                $innerContent = $(parentRef).find('.accordion-inner');            

            //only load group once
            if($innerContent.text() ===''){
                $innerContent.load('http://fiddle.jshell.net/NPpHm/show/', function(){

                    var $this      = $(this),
                        $innerTabs = $this.find('.nav-tabs');

                    console.log($innerTabs);

                     var tabOpts = {
                            active: 0,                            
                            cookie: {expires: 3},
                            show:  onTabShow,            
                            fillSpace: false,
                            autoHeight: true,
                            collapsible: false
                        };

                    $innerTabs.tabs(tabOpts).fadeIn(700);   

                });
            }

    });
}); 
```

# mysql - Sql比较行

> ID：14378035
> 
> 赞同：1
> 
> 时间：2013-01-17T11:26:06.903
> 
> 标签：mysql, sql, select, join

我想从产品表中选择名称不等于ordered_products 中存在的名称的所有内容。我试过了，但没有用：

```
SELECT * FROM product WHERE naam IS NOT (SELECT naam FROM ordered_products) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T11:26:49.423

您可以`NOT IN`像这样使用谓词：

```
SELECT * 
FROM product 
WHERE naam NOT IN (SELECT naam 
                   FROM ordered_products
                   WHERE naam IS NOT NULL); 
```

但这不安全，如果有来自另一个表`NULL`的任何值`naam`，这就是我添加`WHERE naam IS NOT NULL`到子查询的原因。更好的是，`JOIN`像这样使用：

```
SELECT p.* 
FROM product
LEFT JOIN ordered_products o ON p.naam = o.naam
WHERE p.naam IS NULL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:30:02.737

```
SELECT * FROM product WHERE naam NOT IN (SELECT naam FROM ordered_products) 
```

或者

```
SELECT P.* 
FROM product P
LEFT JOIN  ordered_products O ON P.naam = O.naam 
```

希望这可以帮助

# javascript - 如何在使用我自己的鼠标滚轮平滑滚动时缩放到鼠标指针？

> ID：14378046
> 
> 赞同：8
> 
> 时间：2013-01-17T11:26:45.500
> 
> 标签：javascript

我的应用程序的一部分包含类似于谷歌地图的功能，因为用户应该能够放大和缩小容器内的图像。

与谷歌地图一样，我希望用户能够使用鼠标滚轮滚动，并且图像上的像素始终保持在鼠标指针的正下方。因此，基本上用户将缩放到鼠标指针所在的任何位置。

对于缩放/翻译，我正在使用 css 转换，如下所示：

可见的

```
 $('#image').css({
            '-moz-transform': 'scale(' + ui.value + ') translate(' + self.zoomtrans.xNew + 'px, ' + self.zoomtrans.yNew + 'px)',
            '-moz-transform-origin' : self.zoomtrans.xImage + 'px ' + self.zoomtrans.yImage + 'px',
              '-webkit-transform': 'scale(' + ui.value + ') translate(' + self.zoomtrans.xNew + 'px, ' + self.zoomtrans.yNew + 'px)',
            '-webkit-transform-origin' : self.zoomtrans.xImage + 'px ' + self.zoomtrans.yImage + 'px',
              '-o-transform': 'scale(' + ui.value + ') translate(' + self.zoomtrans.xNew + 'px, ' + self.zoomtrans.yNew + 'px)',
            '-o-transform-origin' : self.zoomtrans.xImage + 'px ' + self.zoomtrans.yImage + 'px',
              '-ms-transform': 'scale(' + ui.value + ') translate(' + self.zoomtrans.xNew + 'px, ' + self.zoomtrans.yNew + 'px)',
            '-ms-transform-origin' : self.zoomtrans.xImage + 'px ' + self.zoomtrans.yImage + 'px',
              'transform': 'scale(' + ui.value + ') translate(' + self.zoomtrans.xNew + 'px, ' + self.zoomtrans.yNew + 'px)',
            'transform-origin' : self.zoomtrans.xImage + 'px ' + self.zoomtrans.yImage + 'px'
            }); 
```

我已经设法找到了如何执行此操作的各种实现，但是我使用自滚动平滑滚动技术来插入鼠标事件并提供动力。

试图让两者正确地协同工作被证明是很麻烦的。

我没有在此处粘贴一大堆代码，而是创建了一个 jsFiddle，其中包括鼠标滚轮平滑滚动技术以及我目前拥有的缩放功能。

[http://jsfiddle.net/gordyr/qGGwx/2/](http://jsfiddle.net/gordyr/qGGwx/2/)

这本质上是我的应用程序这一部分的功能齐全的演示。

如果滚动鼠标滚轮，您将看到 jqueryui 滑块插入并正确提供动量/减速度。然而，变焦没有正确反应。

如果您只滚动鼠标滚轮一点，则缩放效果很好，但任何进一步的滚动都不起作用。我认为这是因为图像的比例现在已经改变，导致计算不正确。我试图弥补这一点，但到目前为止还没有运气。

总而言之，我想修改我的 jsFiddle 中的代码，以便图像始终直接缩放到鼠标指针。

非常感谢任何愿意提供帮助的人。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-21T00:55:06.227

您可以使用 css3 转换更轻松地做到这一点。
示例：http : [//jsfiddle.net/BaliBalo/xn75a/](http://jsfiddle.net/BaliBalo/xn75a/)
主要的中心鼠标算法在这里：

```
//Center the image if it's smaller than the container
if(scale <= 1)
{
    currentLocation.x = im.width() / 2;
    currentLocation.y = im.height() / 2;
}
else
{
    currentLocation.x += moveSmooth * (mouseLocation.x - currentLocation.x) / currentScale;
    currentLocation.y += moveSmooth * (mouseLocation.y - currentLocation.y) / currentScale;
} 
```

如果您想保留您已经存在的代码，我认为您可以大致相同地执行此操作：当图像本身通过 css 比例变换和使用 transform-origin 进行缩放时，获取缩放图像上的鼠标位置的技巧是将变换原点减去您的点，然后乘以因子，最后重新添加变换原点。

您还可以在此更新示例中使用翻译：http: [//jsfiddle.net/BaliBalo/xn75a/15/](http://jsfiddle.net/BaliBalo/xn75a/15/) 正如您所看到的，它甚至简化了公式，但不要忘记将元素的中心分到鼠标点为{0, 0} 的平移将放大图像的中间。

* * *

## 编辑：

我今天偶然发现了我的这个答案，并认为这不是你想要的行为。我第一次没有正确理解您不想将鼠标放在鼠标下方的中心而是将其保持在同一个位置。正如我最近为一个个人项目所做的那样，我试图纠正自己。所以这是一个更准确的答案：http:
[//jsfiddle.net/BaliBalo/7ozrc1cq/](http://jsfiddle.net/BaliBalo/7ozrc1cq/)

现在的主要部分是（如果 currentLocation 是容器中图像的左上角）：

```
var factor = 1 - newScale / currentScale;
currentLocation.x += (mouseLocation.x - currentLocation.x) * factor;
currentLocation.y += (mouseLocation.y - currentLocation.y) * factor; 
```

我还删除了 CSS 过渡。我认为实现平滑滚动的最佳方法是使用`requestAnimationFrame`创建动画循环，而不是直接在`zoom`函数中更改值，而是存储值并在循环中对它们进行动画处理。

# nunit - OpenCover 找不到文件位置

> ID：14378048
> 
> 赞同：4
> 
> 时间：2013-01-17T11:26:50.063
> 
> 标签：nunit, cruisecontrol.net, opencover

我正在尝试针对打开的封面运行构建参数，但我找不到文件位置，因为位置本身有空格

```
 <executable>C:\Program Files (x86)\OpenCover\OpenCover.Console.exe</executable>
  <buildArgs>-register:user -target:"C:\Program Files (x86)\NUnit 2.6.2\bin\nunit-console.exe" -targetargs:"C:\Users\username\Documents\Visual Studio 2010\Projects\WebCrawlerMVC\WebCrawlerMVC.Tests\bin\Debug\WebCrawlerMVC.Tests.dll" /noshadow /xml=reports\TestResult.xml" - filter:"+[WebCrawlerMVC.Tests*]*  -output:"C:\Program Files (x86)\CruiseControl.NET\server\reports\coverage.xml" </buildArgs>
  </exec>
  <exec>
    <executable>C:\Program Files (x86)\ReportGenerator\bin\ReportGenerator.exe</executable>
    <buildArgs>-reports:reports\coverage.xml</buildArgs> 
```

当我通过 OpenCover 控制台运行它时，错误出现为 File type not known: C:Users\username\Documents\Visual

所以它无法查看整个文件路径，有没有办法解决这个问题？我意识到我的整个论点仍然会有一些错误，但在我解决这个问题之前我无法修复它们。

更新：

```
 targetargs:"\"C:\Users\lardern\Documents\Visual Studio 2010\Projects\WebCrawlerMVC\WebCrawlerMVC.Tests\bin\Debug\WebCrawlerMVC.Tests.dll" 
```

"\ "C: 似乎允许间距通过，我的代码仍然有错误，但它不再是文件路径问题。

更新2：

```
 <task>
  <exec>
  <executable>C:\Program Files (x86)\OpenCover\OpenCover.Console.exe</executable>
  <buildargs>-target:"C:\Program Files (x86)\NUnit 2.6.2\bin\nunit-console.exe" -register:user -targetargs:"/nologo /noshadow \"C:\Users\username\Documents\Visual Studio 2010\Projects\WebCrawlerMVC\WebCrawlerMVC.Tests\bin\Debug\WebCrawlerMVC.Tests.dll" -filter:+[WebCrawlerMVC]* -output:coverage.xml </buildargs>
  </exec>
  </tasks> 
```

这是这是工作版本。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T12:54:42.820

尝试转义包含程序集路径的引号

```
<buildArgs>-register:user -target:"C:\Program Files (x86)\NUnit 2.6.2\bin\nunit-console.exe" 
"-targetargs:\"C:\Users\username\Documents\Visual Studio 2010\Projects\WebCrawlerMVC\WebCrawlerMVC.Tests\bin\Debug\WebCrawlerMVC.Tests.dll\" /noshadow /xml=reports\TestResult.xml" - filter:"+[WebCrawlerMVC.Tests*]*"  -output:"C:\Program Files (x86)\CruiseControl.NET\server\reports\coverage.xml" </buildArgs> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T11:42:06.437

也许[这个链接](https://github.com/sawilde/opencover/issues/140)会提供一些帮助。

> 环境变量在传递给 opencover 之前已展开，看起来您的路径名中有空格。使用 Wiki 描述了其中带有空格的参数必须使用 \" 进行转义。我建议您创建一个带有转义路径的新变量，以便与 OpenCover 一起使用。

只是一个想法。

# c# - 在 Datagrid 中添加图像

> ID：14378050
> 
> 赞同：0
> 
> 时间：2013-01-17T11:26:51.507
> 
> 标签：c#, wpf, datagrid

这是我的数据网格，我想在网格列中显示图像，但它显示的是文本`System.Windows.Media.Imaging.BitmapImage`，而不是显示图像。如何在数据网格列中添加图像？

这是我尝试过的：

```
Dictionary dict1=new Dictionary < string,object>();

string keyimage="Image";

object a1 = new BitmapImage();

a1=Imaging.CreateBitmapSourceFromHIcon(SystemIcons.Information.Handle, Int32Rect.Empty, null);

dict1.Add(keyimage, a1); 
```

这`dict1`适用`Itemsource`于数据网格............如何使图像显示在数据网格列中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:49:22.040

确保使用 a`DataGridTemplateColumn`并将图像放入其中。

由于您使用的是字典，因此请绑定**value**，例如：

```
<Image Binding="{Binding Height="25" Width="50" Source="{Binding Value}" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:45:12.367

我想您的 Column 数据类型与 itemsource 数据类型不匹配。您必须为 Grid Column 和 itemsource 创建相同的数据类型 Image。在我的 WPF 项目中，我使用图像制作了列数据模板：

```
DataTable dtab = new DataTable();
dtab.Columns.Add("imageColumn", typeof(BitmapImage)); 
//Uploading dtab with Images from DataBase

FrameworkElementFactory factory = new FrameworkElementFactory(typeof(Image));
Binding bind = new System.Windows.Data.Binding("imageColumn");
factory.SetValue(Image.SourceProperty, bind);
DataTemplate cellTemplate = new DataTemplate() { VisualTree = factory };
DataGridTemplateColumn imgCol = new DataGridTemplateColumn() 
{
  Header="image",
  CellTemplate = cellTemplate
};
DataGrid dg = new DataGrid();
dg.Columns.Add(imgCol);
dg.ItemsSource = dtab.DefaultView; 
```

希望这有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:47:27.127

将任何图像添加到您的 Project on Resource 文件夹

之后在 DataGrid Bind 事件中尝试以下编码。在这里，我添加了图像徽标...

```
DataGridViewImageColumn imageColoumn = new DataGridViewImageColumn();
        imageColoumn.HeaderText = "Img";
        imageColoumn.Image = null;
        imageColoumn.Name = "DataPic";
        imageColoumn.Width = 150;
        dataGridView1.Columns.Add(imageColoumn);

        foreach (DataGridViewRow row in dataGridView1.Rows)
        {
            DataGridViewImageCell cell = row.Cells[1] as DataGridViewImageCell;
            cell.Value = (System.Drawing.Image)Properties.Resources.logo;
        } 
```

# solr - solr 单引号

> ID：14378052
> 
> 赞同：-1
> 
> 时间：2013-01-17T11:26:53.840
> 
> 标签：solr, filter

我是 solr 的新手，我有一个问题。我的原始字符串是“crohn's”，当我输入“crohn's”之类的内容时，它返回正常，当我输入“crohn”之类的内容时，它也返回正常，但是当我输入“crohns”时，它不会返回字符串“克罗恩”

这是我的 schma.xml 代码

## 

```
 <analyzer type="index">
    <tokenizer class="solr.StandardTokenizerFactory"/>
    <filter class="solr.LowerCaseFilterFactory"/>
    <filter class="solr.StopFilterFactory" words="stopwords.txt" ignoreCase="true"/>
    <filter class="solr.EnglishPossessiveFilterFactory"/>
      </analyzer>
  <analyzer type="query">
    <tokenizer class="solr.StandardTokenizerFactory"/>
    <filter class="solr.LowerCaseFilterFactory"/>
    <filter class="solr.StopFilterFactory" words="stopwords.txt" ignoreCase="true"/>
    <filter class="solr.EnglishPossessiveFilterFactory"/>
     </analyzer>
</fieldType> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:00:56.207

考虑使用`WordDelimiterFilterFactory`从每个子词中去除所有格“'s”。

例子：

```
<analyzer type="index">
  <tokenizer class="solr.WhitespaceTokenizerFactory"/>
  <filter class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1" catenateWords="1" catenateNumbers="1" catenateAll="0" splitOnCaseChange="1" stemEnglishPossessive="1"/>
</analyzer> 
```

该`stemEnglishPossessive`物业可以解决问题。实际上它的默认值是 1。

# ios - 如何更改 UICollectionView 的高度

> ID：14378056
> 
> 赞同：1
> 
> 时间：2013-01-17T11:27:08.840
> 
> 标签：ios, uicollectionview

`UICollectionView`无论显示的内容如何，​​我都想将高度设置为固定值。现在，如果显示的单元格很少，则禁用滚动。但是，我希望高度为一定量，因此即使没有内容，也始终启用滚动。我该怎么做？

我试图覆盖`collectionViewContentSize`流布局类中的方法，但它会导致错误的访问错误。IE

```
- (CGSize)collectionViewContentSize {
    return CGSizeMake(320, 500);    
} 
```

# git - Git Pull 不同步本地文件

> ID：14378059
> 
> 赞同：1
> 
> 时间：2013-01-17T11:27:19.767
> 
> 标签：git, local, pull

我已经在 Git 中设置了我的存储库。我可以承诺很好而且花花公子。

但是，当我对我的文件进行更改（git status 显示修改），并且我想拉出我的存储库并覆盖那些已更改的文件（只是作为测试我是否正确更新我的本地端）时，它告诉我我的本地仓库是“已经是最新的”。

据我了解，我已经对我的本地进行了更改，所以它不应该告诉我我的本地是“最新的”。

现在的问题是，Git 告诉我这个是因为我是上次提交给 repo 的同一个用户吗？因此，例如，如果我要使用我室友的用户名提交某些内容，那么如果我在他提交后从我的用户名中提取内容，那么我的本地文件会被更新吗？

我知道有重置命令和恢复命令，以防万一你搞砸了或想恢复到你机器上的旧文件，这就是为什么我认为我是“同一用户”是问题所在。Git 只是不想从 repo 中提取，因为我可以在本地重置我的更改？

我是否在正确的轨道上承诺不同的用户实际上从回购中提取？

PS - 我确实使用 git config --global 命令设置了我的电子邮件和用户名（我应该使用 --local 还是 --system ？）。这可能是问题的另一个原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:34:52.777

如果 repo 中没有“触及”您已修改的文件的新提交，则不会发生任何更改，因为 git 了解您在此文件中本地工作，并且（目前）与来自该文件的任何其他修改没有冲突回购。

如果要撤消更改，则需要使用结帐：

```
git checkout filepath 
```

# c++ - delete[] 的工作速度是否比 new[] 慢？

> ID：14378061
> 
> 赞同：0
> 
> 时间：2013-01-17T11:27:27.527
> 
> 标签：c++, vector, heap-memory

我一直在使用 gprof 在一个简单版本的向量上运行测试，该向量在堆上分配内存（实际上并不是动态的 - 仅用于测试目的）。问题是，在查看结果时，我发现 'new[]' 和 'delete[]' 之间存在巨大差异——因为我实际上将值插入到向量中（使用 [] 运算符）。执行上述操作，我得到如下结果：

```
%   cumulative   self              self     total           
  time   seconds   seconds    calls   s/call   s/call  name    
  0.92      0.55      0.01        1     5.03     5.03  MyVector::~MyVector()
  0.00      0.55      0.00        1     0.00     0.00  MyVector::MyVector(int) 
```

但是如果我只是分配内存并删除它，而不实际将值插入向量，它们的工作速度同样快：

```
%   cumulative   self              self     total           
time   seconds   seconds    calls  ms/call  ms/call  name    
0.00      0.09     0.00        1     0.00     0.00  MyVector::MyVector(int)
0.00      0.09     0.00        1     0.00     0.00  MyVector::~MyVector() 
```

我的猜测是，当使用'new []'时，编译器（在我的例子中是gcc）并没有真正分配内存，只有在它需要时才会这样做（比如使用[]时）。并且当它需要销毁对象时，它必须取消分配在每次访问期间分配的所有内存（使用 []）。

我找不到任何文档 - 也许有一些我不知道的东西。如果有人能分享他关于这个问题的知识，我会很高兴。

编辑：我添加了我使用的代码。感谢到目前为止的所有答案：

```
class MyVector
{
public:

        MyVector(int size) { _data = new int[size]; };
        ~MyVector() { delete[] _data; } ;

        int& operator[](int index) { return _data[i]; };

 private:
       int* _data;
       int _size;     
 };

    And the test:

int main() {

      MyVector v(1000000);

      for (int j = 0 ; j<20000 ; ++j) {
        for (int i = 0; i<1000000; ++i) {
          v[i]= i; //If i remove this line, destructor and constructor work just as fast
        }
     }

      return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:02:41.690

你是对的。`new[]`并没有真正立即在所有系统上分配内存。例如，在 Linux 上，您会得到一个指向内存的指针，只有在您尝试实际使用它时才会分配该内存。所以：

```
something = new[N];
delete[] something; 
```

where`something`是指向内置类型的指针，几乎是无操作的。

（这可能违反标准一致性，因为`new`应该在没有更多可用内存时抛出（或在 nothrow 版本中返回 NULL）。但事实就是如此；Linux 几乎将其视为具有无限内存。）

请注意，这仅适用于内置类型，因为`new[]`除非您要求，否则它们不会使用默认构造。其他类型的默认 ctor 被调用，因此内存被访问。为了测试，尝试只访问最后一个元素：

```
something = new[N];
something[N-1] = some_Value;
delete[] something; 
```

这会改变你的 gprof 结果吗？如果是，那么延迟分配很可能是您所看到的原因。

# qt - 在 qt 中编译 samba 共享代码失败

> ID：14378063
> 
> 赞同：0
> 
> 时间：2013-01-17T11:27:29.337
> 
> 标签：qt, qt4, samba

我花了最后 2 天时间试图让 Windows 7 上的 qt 编译一个托管在 linux 机器上的 samba 共享项目（在 win7 上作为卷 Z 可见）。

问题是，在对任何源文件进行第一次修改后，编译什么都不做。我的意思是字面意思，没有错误，没有警告。您单击“重建”，您会立即看到绿色条，好像所有内容都已重新编译（这是一个大型项目，因此需要一段时间），但实际上什么也没做。我在编译输出中看到的只是“在*路径*上运行 Jom.exe ”和（1 毫秒后）“Jom.exe 正常返回”

起初我认为 samba 共享文件在属性等方面发生了某种变化，所以我检查了一下，确实它们在 linux 机器上更改为 +x，但即使在重置原始权限之后，编译器也会默默地拒绝编译。实际上它甚至根本没有被调用。

如果我在 win7 机器上复制这样的“修改 - 不工作”树，我有相同的行为，而如果我从一开始就直接从 linux 框中复制树，qt 会按预期工作。

我不认为这是一个 qt 问题，但我真的不知道如何解决这个问题，我什至不能尝试 NFS，因为 win7 是 Pro 并且没有额外的 NFS 支持。

当然，清除项目重新运行 qmake 不会改变任何东西。

只是为了完整起见，请注意，如果我从 Windows 对源文件进行一些更改，则该文件确实在 linux 框中发生了更改，它只是似乎不再被调用的编译器

# mysql - 如何反转mysql中正则表达式匹配的功能？

> ID：14378075
> 
> 赞同：-1
> 
> 时间：2013-01-17T11:27:58.460
> 
> 标签：mysql, sql, ruby-on-rails, regex, match

假设我有一个带有列**名的表****users**表，它有以下记录：

 ***   查理
*   光泽
*   查尔
*   恩
*   阿诺德

我可以在不循环每个项目的情况下获得与“charlie sheen”匹配的记录吗？

更具体地说：有没有办法获取包含作为给定字符串的子字符串的字段的记录？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:37:19.800

好吧，你可以做你想做的事：

```
select * from people
    where 'charlie sheen' regexp name; 
```

[请参阅 SQLFiddle 示例](http://www.sqlfiddle.com/#!2/6597b/1)。

但是请记住，这将是低效的：根据问题的本质，您必须将每一行视为正则表达式以查看它是否匹配。

`name`如果列可能包含在正则表达式中具有特殊含义的字符，也会出现问题。

**编辑：**还值得一提的是，如果您允许不受信任的用户在数据库中输入名称（例如来自网站），则将其视为正则表达式是一个潜在的安全问题。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-17T11:42:30.283

要获取类似于给定子字符串的所有数据，我使用它。

select * from [table] where [column] like %charlie sheen%**

# java - 为 snmp4j MOTable 创建一个空行

> ID：14378079
> 
> 赞同：4
> 
> 时间：2013-01-17T11:28:32.157
> 
> 标签：java, agent, snmp4j

我创建了一个 snmp 代理模拟器并在其中实现了概念行。所以我想在 snmp4j 中的 MOTable 中添加一个空行。我尝试了下面的代码。

```
private MOTableRow createEmptyRow(MOTable motable, OID index)
{
    Variable[] vars = new Variable[motable.getColumnCount()];
    // Arrays.fill(vars, new Integer32(1));

    int i = 0;
    for (MOColumn column : motable.getColumns()) {
        switch (column.getSyntax()) {
        case MibConstants.OCTET_STRING: {
            vars[i++] = new OctetString();
            break;
        }
        case MibConstants.INTEGER:
        case MibConstants.INTEGER32: {
            vars[i++] = new Integer32();
            break;
        }
        case MibConstants.COUNTER:
        case MibConstants.COUNTER32: {
            vars[i++] = new Counter32();
            break;
        }
        case MibConstants.COUNTER64: {
            vars[i++] = new Counter64();
            break;
        }
        case MibConstants.IPADDRESS: {
            vars[i++] = new IpAddress();
            break;
        }
        case MibConstants.DISPLAYSTRING: {
            vars[i++] = new OctetString();
            break;
        }
        case MibConstants.GAUGE:
        case MibConstants.GAUGE32: {
            vars[i++] = new Gauge32();
            break;
        }
        case MibConstants.OID: {
            vars[i++] = new OID();

            break;
        }
        case MibConstants.ROW_STATUS: {
            vars[i++] = new Integer32(RowStatus.active);

            break;
        }
        default: {
            vars[i++] = new OctetString();
            break;
        }
        }

    }

    MOTableRow row = DefaultMOFactory.getInstance().createRow(index, vars);

    return row;
} 
```

但它有时会产生“Snmp 一般错误”，有时会产生“错误值”！这里到底出了什么问题？如果它不起作用，我如何创建一个空行？请帮忙？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T10:42:34.177

只需使用`SMIConstants`而不是`MIBConstants`.
`SMIConstants`是`SNMP4j`库中的一个类。但`SMIConstants`不包括`ROW_STATUS`.

# javascript - 使用 jquery 检索属性值

> ID：14378081
> 
> 赞同：2
> 
> 时间：2013-01-17T11:28:35.203
> 
> 标签：javascript, jquery, angularjs

这是我用 Angular js 编写的代码。使用 jquery 我想获取“数据索引”属性值

```
<div class="claimed" droppable value="2">

        <div class="phase1" ng-repeat="item in Phase1claimed"
            data-index="{{$index}}" draggable value="2">
            <div class="ClaimedAccordion" accordion-title="{{item.name}}" unclaimhi="unclaimhi('1');">

                {{item.newLabel}} <br /> {{item.desc}} <br /> {{item.effort}} <br />
                {{item.owner}} <br /> {{item.issues}} <br /> {{item.comments}} <br />
                {{item.dependency}} <br /> {{item.content}}
            </div><br/>
        </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-17T11:29:25.353

您可以使用[data()](http://api.jquery.com/jQuery.data/)`data-index`使用[类选择器](http://api.jquery.com/class-selector/)获取数据属性。

**[现场演示](http://jsfiddle.net/rajaadil/yLdPm/)**

```
$('.phase1').data('index'); 
```

您可以使用[后代选择器](http://api.jquery.com/descendant-selector/)在具有声明类的元素中找出具有阶段类的元素。

```
$('.claimed .phase1').data('index'); 
```

您可以使用 attr 获取属性，但使用 attr 不会让您的值被 javascript 更改。值得一读这篇[文章](https://stackoverflow.com/questions/7261619/jquery-data-vs-attr)`data`来了解和之间的区别`attr`。

**[现场演示](http://jsfiddle.net/rajaadil/xSjN9/)**

```
<a id="foo" data-foo="bar" href="#">foo!</a>

alert( $('#foo').attr('data-foo') );
alert( $('#foo').data('foo') ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T11:39:40.157

您还可以使用[attr()](http://api.jquery.com/attr/) jQuery API 函数来获取数据属性

```
$('.phase1').attr('data-index'); 
```

# facebook - 使用 Nutch 2.1 从某个页面获取 facebook 喜欢的数量

> ID：14378083
> 
> 赞同：4
> 
> 时间：2013-01-17T11:28:45.553
> 
> 标签：facebook, apache, indexing, web-crawler, nutch

我想问一下是否有任何方法可以获得 URL 在公共 Facebook 页面上发布的次数/使用 Nutch 2.1 爬虫在 Facebook 上发布的 URL 和评论被点赞的次数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:00:37.273

据我所知，您无法使用 nutch 抓取 Facbook。 [https://www.facebook.com/robots.txt](https://www.facebook.com/robots.txt)指定 facebook 内的内容不可用于抓取。

# interface - 在 Json 中返回不同类型的对象

> ID：14378087
> 
> 赞同：1
> 
> 时间：2013-01-17T11:29:01.300
> 
> 标签：interface, asp.net-web-api, json.net

我设置了一个 WebApi 控制器，它应该返回一组不同类型的对象。请看一下我的虚拟代码：

```
interface IDish
{
    int ID { get; set; }
    string Name { get; set; }
}

class Steak : IDish
{
    public int ID { get; set; }
    public string Name { get; set; }
    public string CookingStyle { get; set; }
    public int Weight { get; set; }
}

class Soup : IDish
{
    public int ID { get; set; }
    public string Name { get; set; }
}

class Dessert : IDish
{
    public int ID { get; set; }
    public string Name { get; set; }
    public bool ContainsSugar { get; set; }
}

public class DishController : ApiController
{
    public IEnumerable<IDish> Get()
    {
        var dishes = busisnessLogic.GetDishes();
        return dishes;
    }
} 
```

如您所见，在控制器中，我正在从业务逻辑中检索 IDish 的集合。请不要过多关注具体的类。它们只是示例，使这里的事情更容易解释。真实的商业背景完全不同。

那么，我的问题是什么？当 API 控制器返回 IDish（在我的例子中为 Json）时，只有 IDish 接口的公共属性被写入 Json 输出。

相反，我希望将具体类的所有公共属性写入 Json 输出。因此，例如，如果 IDish 是“牛排”，我想写出它的 ID、名称、烹饪风格和重量。因此，如果它是“汤”，则只有 ID 和名称，如果它是“甜点”，则只有 ID、名称和 ContainsSugar。

有没有简单的方法来实现这一目标？有时我往往看不到树林前的树木......;-)

多谢你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T13:27:22.573

我需要几乎相同的功能，我认为有两种方法：

1.  使用 JSON.NET TypeNameHandling：

```
 var jsonFormatter = config.Formatters.JsonFormatter;
    var jsonSerializerSettings = new JsonSerializerSettings();
    jsonFormatter.SerializerSettings.TypeNameHandling = TypeNameHandling.All; 

```

说明： [https ://github.com/ayoung/Newtonsoft.Json/blob/master/Newtonsoft.Json/TypeNameHandling.cs](https://github.com/ayoung/Newtonsoft.Json/blob/master/Newtonsoft.Json/TypeNameHandling.cs)

1.  如果您不希望在 JSON 输出中公开您的 .NET 类型，还有另一种选择。

基本上，您需要做的是： - 创建一个派生自 JsonCreationConverter 的类，在其中覆盖 Create 方法以手动选择要创建的对象的类型 - 您更新设置：

```
var jsonSerializerSettings = new JsonSerializerSettings();
jsonSerializerSettings.Converters.Add(new YourCustomJsonConverter());
jsonFormatter.SerializerSettings = jsonSerializerSettings; 
```

查看这篇文章，它逐步描述它：http: [//dotnetbyexample.blogspot.co.uk/2012/02/json-deserialization-with-jsonnet-class.html](http://dotnetbyexample.blogspot.co.uk/2012/02/json-deserialization-with-jsonnet-class.html)

# django - Django html 重用

> ID：14378088
> 
> 赞同：1
> 
> 时间：2013-01-17T11:29:13.457
> 
> 标签：django, django-templates

Django 初学者。我有一个带有徽标的基本模板和三个内容小节。其中两个小节默认包含 html，其余小节用于每个子页面的内容。

我现在想创建一个不同的页面，具有**完全相同的徽标**，但具有不同的小节/内容。例如，我可能只需要两个小节，水平格式而不是垂直格式等。

因此，为此我想我需要创建一个新模板 - 问题是我违反了 DRY 原则，因为新模板中的徽标 html 代码与第一个模板完全相同。

那么，在这种情况下，是否有任何设计模式可以解决重复徽标代码的问题？我正在考虑将变量与模板类似`isPage1`或`isPage2`传递给模板，然后我将基于此启用/禁用块 - 这是一种可行的方法，任何人都可以提供任何替代方案吗？

非常感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T11:30:27.160

是的，有一种模式完全符合您的需求。在 DJANGO 中称为[模板继承。](https://docs.djangoproject.com/en/dev/topics/templates/#id1)

您基本上将拥有一个带有标题、徽标和*主要内容占位符的***基本模板**。类似的东西（从我上面放置的链接中提取）：

 *```
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css" />
    <title>{% block title %}My amazing site{% endblock %}</title>
</head>

<body>
    <div id="sidebar">
        {% block sidebar %}
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/blog/">Blog</a></li>
        </ul>
        {% endblock %}
    </div>

    <div id="content">
        {% block content %}{% endblock %}
    </div>
</body>
</html> 
```

然后，在您的实际网页（使用模板的网页）上，您将拥有：

```
{% extends "base.html" %}

{% block title %}My amazing blog{% endblock %}

{% block content %}
{% for entry in blog_entries %}
    <h2>{{ entry.title }}</h2>
    <p>{{ entry.body }}</p>
{% endfor %}
{% endblock %} 
```

请注意，此处的**基本模板**称为`base.html`. 因此，在您的网页中，您**可以** `base.html`通过放置`{% extends "base.html" %}`. 然后，在该页面中，您只需为特定的`block`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-07T09:28:17.473

```
You can use this inheritance concept in different way.
use same block tags to whole application
filename: index.html
<html>
    <head>
        ---style.css files here---
        {% block title %}title{% endblock %}
        {% block additional_css_files %}css files{% endblock %}
        {% block header %}header and header menus{% endblock %}
    </head>
    <body>
        {% block main_content %}
           your body content here
        {% endblock %}
        {% block scripts %}Script files{% endblock %}
    </body>
</html>

filename: home.html
{% extends "index.html" %}
   {% block title %}title2{% endblock %}# u can overwrite the title with new title
   but if you want to use parent title no need to mention block tags in home.html
   or you have to use {% block title %}{{block.super}}{% endblock %}

   same concept come below. 
   {% block additional_css_files %}css files2{% endblock %}   
   {% block header %}header and header menus{% endblock %} 
```*

# php - 在 JQuery 中打开 .dialog 的问题

> ID：14378097
> 
> 赞同：0
> 
> 时间：2013-01-17T11:29:46.200
> 
> 标签：php, javascript, jquery, jquery-ui

嘿伙计们，所以我有一个界面，一旦用户登录他们的信息就会被检查，如果用户没有阅读 TOS，对话框就会打开。我的问题是，它永远不会打开。

代码：

```
function run(){
    var url = '/pcg/termsofservice/termsofservice.php';
    showUrlInDialog(url);
}
    function showUrlInDialog(url){
      var tag = $("#dialog-container");
      $.ajax({
        url: url,
        success: function(data) {
          tag.html(data).dialog
          ({
              width: '100%',
                modal: true
          }).dialog('open');
        }
      });
    }
    // if user accepts
    function agree(){
        alert("Handler for .click() called.");
    }
    /******is user declines ******/
    function decline(){

     $("#dialog-container").dialog( 'close' );
     /*****run ajax to kill session of current user and return to login page ******/
      $.ajax({ url: '/PCG/termsofservice/declinedkill.php',
             data: {},
             type: 'post',
             success: function(output) {
                 window.location.replace("/PCG/mainlogin.php");
                      }
    });
    } 
```

PHP 检查他们是否没有阅读 TOS：

```
//GET TOS setting if any in place, if so display TOS
$TOS = $_GET['TOS'];

if ($TOS == 0){
        echo '<script type="text/javascript">'
   , 'run();'
   , '</script>';
} 
```

在上面的 javascript 代码中 -`"#dialog-container"`仅在 $TOS 变量为 0 时定义：

```
<!-- See if TOS is active, if so add these divs for the overlay -->
    <?php
        echo '<div id="dialog-container">
        </div>';
    ?> 
```

除了没有任何显示之外，所有这些都有效。

如果您有任何想法有什么问题，请告诉我，谢谢:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:36:31.090

取而代之的是：

```
var tag = $("#dialog-container"); 
```

用这个：

```
var tag = $(document).find("#dialog-container"); 
```

并改变它：

```
tag.html(data).dialog({
          width: '100%',
            modal: true,
            autoOpen:true
      }); 
```

查看文档：[http ://api.jqueryui.com/dialog/#option-autoOpen](http://api.jqueryui.com/dialog/#option-autoOpen)

`run();`并调用`doc ready handler`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:41:24.003

看起来你在 jQuery 准备好之前调用了 jQuery 方法。您应该在 jQuery 的 document.ready 函数中调用 run()。

```
<script type="text/javascript">
    $(document).ready(function() {
       run();
    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:37:13.713

```
function showUrlInDialog(url){
      var tag = $("#dialog-container").dialog({width: '100%',modal: true,autoOpen:false });
      $.ajax({
        url: url,
        success: function(data) {
          tag.html(data)
          tag.dialog('open');
        }
      });
    } 
```

试试这个...！！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T11:42:53.347

您的 div "#dialog-container" 不存在，如果您将该 div 放入您的 html 代码中进行简单测试，则可以正常工作。

# php - PHP读取希腊语目录名称？

> ID：14378105
> 
> 赞同：0
> 
> 时间：2013-01-17T11:30:27.837
> 
> 标签：php, encoding

我在 PHP 中创建相册我在目录库中有我的画廊，我编写代码来显示该目录中的所有文件夹。

```
$base   = "uploads/pages/Gallery";
    $thumbs = "thumbs"; 
    $get_album  = $_GET['album'];
    $openthumbs = opendir($base."/".$thumbs);

    if(!$get_album){
        echo "<center><b><p>Επιλέξτε Album</p></b></center>";
        $handle = opendir($base);

        while(($file = readdir($handle))!==FALSE){
            $file = htmlspecialchars($file);
            if(is_dir($base."/".$file) && $file !="." && $file !=".." && $file !="$thumbs"){

    ?>
    <div class="album">
    <div class="albumbody">

    </div>
    <div class="albumtitle"><?php echo "<a href='$page?album=$file'>$file</a>";?>

    </div>
    </div> 
```

我可以看到专辑，但希腊语编码有问题，当我用英文写专辑名称时我没有任何问题，但在希腊语中我无法阅读。所有页面都是希腊语我没有任何问题，我只有文件夹名称有问题。有人可以帮我解决这个问题。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:36:30.753

试一试（假设您的网页中有 utf-8 编码元标记）：

```
$utf8String = mb_convert_encoding($str, 'UTF-8', 'GREEK'); 
```

还要确保您的 php 文件被编码为没有 BOM 的 UTF-8。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:36:45.893

确保您的 php 文件以 UTF8 编码。检查您的编辑器是否有此属性

# php - 单个查询执行文件通过一个函数

> ID：14378106
> 
> 赞同：-3
> 
> 时间：2013-01-17T11:30:28.330
> 
> 标签：php, phpmyadmin

请给我建议..

我的目的是制作一个将执行所有查询并返回结果的查询执行文件

就像在.net中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:35:11.363

[PDO](http://php.net/manual/en/class.pdo.php)可以做多个查询。`file_get_contents()`该文件，并使用 PDO 执行它。

# sql - 从多个表中选择多个列

> ID：14378107
> 
> 赞同：2
> 
> 时间：2013-01-17T11:30:41.140
> 
> 标签：sql, netezza

我已经为我的 netezza db 构建了流动的 SQL：

```
select t.TRADE_OID, t.TRADE_ID, t.TRADE_VERSION, t.TRADE_SOURCE_SYSTEM, tl.LINK_PARENT_ID, 
tl.LINK_PARENT_VERSION, tc.CHARGE_AMOUNT FROM EQ_MO_TRADE (NOLOCK) t, EQ_MO_TRADE_CHARGE (NOLOCK) tc, EQ_MO_TRADE_LINKAGE (NOLOCK) tl 
WHERE t.Last_update_time >= '2013-01-09 00:00:00' 
AND t.last_update_time < '2013-01-10 00:00:00' 
AND t.TRADE_OID = tl.TRADE_OID
AND t.TRADE_OID = tc.TRADE_OID
AND tc.CHARGE_NAME = 'Commission' 
```

但是我得到了一般错误：

```
 [SELECT - 0 row(s), 0.000 secs]  [Error Code: 1100, SQL State: HY000]  ERROR:  'select 

t.TRADE_OID, t.TRADE_ID, t.TRADE_VERSION, t.TRADE_SOURCE_SYSTEM, tl.LINK_PARENT_ID, tl.LINK_PARENT_VERSION, tc.CHARGE_AMOUNT FROM EQ_MO_TRADE (NOLOCK) t, EQ_MO_TRADE_CHARGE (NOLOCK) tc, EQ_MO_TRADE_LINKAGE (NOLOCK) tl 
WHERE t.Last_update_time >= '2013-01-09 00:00:00' 
AND t.last_update_time < '2013-01-10 00:00:00' 
AND t.TRADE_OID = tl.TRADE_OID
AND t.TRADE_OID = tc.TRADE_OID
AND tc.CHARGE_NAME = 'Commission' limit 1000'
error                                                                                                                                                         

^ found "(" (at char 150) expecting `EXCEPT' or `FOR' or `INTERSECT' or `ORDER 
```

字符 150 介于这两者之间：

贸易和（NOLOCK）

我的语法似乎正确，但 DBVisualiser 不会运行查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:57:21.333

据我从[Netezza 数据库用户指南 (5.0.x)](http://www.enzeecommunity.com/servlet/JiveServlet/previewBody/1161-102-1-1107/Netezza_database_users_guide.pdf)中得知，Netezza 不支持优化器提示，例如`WITH (NOLOCK)`.

从第 3.36 页开始

> > 请注意，不需要用户干预、命令或提示

无论如何，`NOLOCK`被广泛认为是[可疑的做法](https://stackoverflow.com/questions/1452996/is-the-nolock-sql-server-hint-bad-practice)。

但是，Netezza 确实支持`INNER JOIN`语法 (p2.17)

我将按如下方式重写查询：

```
SELECT
    t.TRADE_OID, 
    t.TRADE_ID, 
    t.TRADE_VERSION, 
    t.TRADE_SOURCE_SYSTEM, 
    tl.LINK_PARENT_ID, 
    tl.LINK_PARENT_VERSION, 
    tc.CHARGE_AMOUNT 
FROM 
  EQ_MO_TRADE t 
    INNER JOIN EQ_MO_TRADE_CHARGE tc
            ON (t.TRADE_OID = tc.TRADE_OID)
    INNER JOIN EQ_MO_TRADE_LINKAGE tl 
        ON (t.TRADE_OID = tl.TRADE_OID)
WHERE 
  t.Last_update_time >= '2013-01-09 00:00:00' 
  AND t.last_update_time < '2013-01-10 00:00:00' 
  AND tc.CHARGE_NAME = 'Commission' 
```

# mysql - Mysql 不使用任何索引

> ID：14378108
> 
> 赞同：0
> 
> 时间：2013-01-17T11:30:41.750
> 
> 标签：mysql, innodb, mariadb

我有一个相当简单的查询，由于某种原因没有使用任何索引：

```
CREATE TABLE `events_self` (
`id` int(11) unsigned NOT NULL AUTO_INCREMENT,
`date` int(10) unsigned NOT NULL,
`username` varchar(16) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
`event` enum('status_update','follow_hashtag','make_hashtag','avatar','placeholder_3') CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
`obj_id` varchar(140) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
`inline` varchar(255) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL,
PRIMARY KEY (`id`,`date`),
KEY `obj_id` (`obj_id`),
KEY `user_date` (`username`,`date`),
KEY `event` (`event`),
KEY `x` (`event`,`inline`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

INSERT INTO `events_self` (`id`, `date`, `username`, `event`, `obj_id`, `inline`) VALUES (1, 1358359266, 'aaa', 'make_hashtag', '1', 'scene');

SELECT inline FROM events_self  WHERE obj_id = 1;

EXPLAIN SELECT inline FROM events_self  WHERE obj_id = 1;

+----+-------------+-------------+------+---------------+------+---------+------+---------+-------------+
| id | select_type | table       | type | possible_keys | key  | key_len | ref  | rows    | Extra       |
+----+-------------+-------------+------+---------------+------+---------+------+---------+-------------+
|  1 | SIMPLE      | events_self | ALL  | obj_id        | NULL | NULL    | NULL | 1610702 | Using where |
+----+-------------+-------------+------+---------------+------+---------+------+---------+-------------+
1 row in set (0.00 sec) 
```

服务器版本：5.3.2-MariaDB-beta-mariadb102~lenny-log (MariaDB - [http://mariadb.com/](http://mariadb.com/) )

我应该保持表/查询不变还是最好强制使用索引？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T11:38:40.843

试试这个

```
EXPLAIN SELECT inline FROM events_self  WHERE obj_id = "1"; 
```

由于您发送了整数，因此 MySql 不会将索引视为类型不同。

# java - 在 Web 应用程序中实现数字签名 etoken

> ID：14378113
> 
> 赞同：0
> 
> 时间：2013-01-17T11:31:19.173
> 
> 标签：java, digital-signature

我想要这样的东西-

1.  用户将访问我的网页（aspx 页面）上的表格并填写表格。（这是一个带有四个输入文本框的小表格）。
2.  用户将在他的 PC（客户端机器）中插入他的**数字签名 etoken 。**
3.  我的 java 小程序将使用客户端 etoken 中存在的客户端数字签名的私钥在表单上对输入的数据进行签名（如果可能，可以生成该数据的哈希）。
4.  并将签名数据发送到服务器

我是java新手..如果可能的话，请分享一些代码......（在服务器端asp.net应用程序正在运行，它将验证签名并在验证签名时收集数据）（公钥存储在数据库中以进行签名验证)

请给我一些解决方案...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-11-01T11:58:07.390

根据这个[问题](https://stackoverflow.com/questions/10553377/how-to-make-a-digital-signature-in-a-web-application-javascript-using-a-smartc)：真正的电子政务解决方案来解决这个问题：1）在用户的PC上安装本地Java应用程序。应用程序侦听端口，例如 5678 2) 在您的页面中，javascript 检测是否支持小程序 3) 如果不支持，[则以 http://127.0.01:5678/的形式连接到应用程序签名](http://127.0.01:5678/sign)并将数据发送给签名。4）应用程序是本地的，使用操作系统密钥库没有问题，其中包括驱动程序PKCS＃11。进行数字签名并准备结果5）页面javascript定期查询结果并在准备好时检索它。我目前正在开发类似的解决方案。实施成功后可简要告知。另见此[评论](https://stackoverflow.com/a/37421135/3109698)。

# java - java中用于tif缓冲图像的setRgb丢失其坐标信息

> ID：14378118
> 
> 赞同：2
> 
> 时间：2013-01-17T11:31:31.480
> 
> 标签：java, image-processing, bufferedimage, javax.imageio

我在java中有一个程序，其中tif文件在源缓冲图像中读取，然后这个缓冲图像被复制为目标缓冲图像。当我将此缓冲图像写入磁盘时，图像会丢失其坐标信息。怎样做才能不丢失坐标信息？

我的代码是：

```
/* Check if imageType if tif */
if (imageType.equalsIgnoreCase(TIFF)) {
    bufferedImageType = BufferedImage.TYPE_INT_RGB;
}
BufferedImage destination = new BufferedImage(source.getWidth(), source.getHeight(),
                bufferedImageType);
/* Loop to cover all pixels */
for (int width = 0; width < source.getWidth(); width++) {
    /* Loop to cover all lines */
    for (int height = 0; height < source.getHeight(); height++) {
        destination.setRGB(width, height, source.getRGB(width, height));
    }
}
file = new File(TEMP_DIR + TEMP_FILE_NAME + "tif");
ImageIO.write(destination, "tif", file); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-19T12:06:59.100

我知道这篇文章很旧，但仍然......

如果您谈论的是在此过程中丢失的所有标头数据，那么您可以使用 Apache Commons Imaging 将标头从源图像文件复制到目标图像文件。

这是一个例子：

[https://commons.apache.org/proper/commons-imaging/xref-test/org/apache/commons/imaging/formats/jpeg/exif/ExifRewriteTest.html](https://commons.apache.org/proper/commons-imaging/xref-test/org/apache/commons/imaging/formats/jpeg/exif/ExifRewriteTest.html)

# javascript - jquery移动内容垂直居中

> ID：14378122
> 
> 赞同：1
> 
> 时间：2013-01-17T11:31:48.360
> 
> 标签：javascript, jquery, html, css, jquery-mobile

我有几个页面（data-role="page"），每个页面都有一个内容 div（data-role="content"）。我只是想垂直集中每个页面上的内容 div。我试过垂直对齐，它没有用。我尝试获取浏览器高度并分配顶部，如下所示：

```
home_height = $("#home_page_content").height();
            contentTop = (browserHeight - headHeight - home_height)/2;
            $("div:jqmData(role='content')").css("position", "relative").css("top", contentTop); 
```

但它不适用于除主页之外的其他页面。因为 height() 对不可见元素不起作用，所以内容高度将始终为 0。

然后我尝试了一种 css hacking 方式来获取其他内容，如下所示：

```
$("#lounge-content").css({
                position:   'absolute',
                visibility: 'hidden',
                display:    'block'
            });
            lounge_height = $("#lounge-content").height();
            $("#lounge-content").css({
                position:   'static', // Again optional if #myDiv is already absolute
                visibility: 'visible'
            });
            loungeTop = (browserHeight - headHeight - lounge_height)/2;
            console.log("lounge height is: " + lounge_height + ", lounge top value now is: " + loungeTop);
            $("#lounge-content").css("position", "relative").css("top", loungeTop); 
```

问题是当我打开文件时，我只能看到标题，内容被隐藏，我必须刷新浏览器才能看到所有内容。它工作得很好。

但这显然不是一个非常方便的方法。也许垂直集中的 div 不应该那么困难？有人可以帮帮我吗。非常感谢你！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T13:24:25.090

由于 jQM，找到正确的内容大小可能会很棘手，没有它，您将无法将其垂直居中。

**data-role="content"** div 高度只能在 pageshow 页面事件中检索。每个其他实例都会为您提供内容高度 0。

我给你做了一个工作示例：http: [//jsfiddle.net/Gajotres/JmqX6/](http://jsfiddle.net/Gajotres/JmqX6/)

```
$('#index').live('pageshow',function(e,data){    
    $('#index-content').css('margin-top',($(window).height() - $('[data-role=header]').height() - $('[data-role=footer]').height() - $('#index-content').outerHeight())/2);
}); 
```

如果您需要帮助在 jQM 中实现此功能，请与我联系。

## 编辑 (23.02.2015)

更新了 jsFiddle 示例：http: [//jsfiddle.net/udvhs0Lb/](http://jsfiddle.net/udvhs0Lb/)

*   live() 在 jQuery 中不再可用（我认为是从 jQuery 1.8.3 开始），所以页面甚至绑定应该如下所示：

    ```
     $(document).on('pageshow','#index', function(e,data){ 
    ```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-01-30T13:32:32.140

以下适用于多个 jQM 页面和多个隐藏/显示的页眉和页脚：

```
applyVerticalCentering = function() {
    $(this).on('pagebeforeshow',function(e,data){
        $('[data-vertical-centred]').hide();
    });

    $(this).on('pageshow resize',function(e,data){    
        $('[data-vertical-centred]').each(function(index){
            var _this = $(this);
            _this.css('margin-top',
                      ($(window).height() -
                       $('header:visible').height() -
                       $('footer:visible').height() -
                       _this.outerHeight())/2);
            _this.show();
        });
    });
}(); 
```

然后在 html 中使用声明式样式：

```
<div data-role="content" data-vertical-centred>
    hi there in the middle!
    <a href="#page1" data-role="button">clicky</a>
</div> 
```

例子：[http://jsfiddle.net/hungrycamel/82KX6/](http://jsfiddle.net/hungrycamel/82KX6/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-02T10:47:44.213

感谢您的回答。对我来说，触发器不起作用，似乎是由于较新的 jquery 版本

```
$('#index').live('pageshow',function(e,data){    
$('#index-content').css('margin-top',($(window).height() - $('[data-role=header]').height() - $('[data-role=footer]').height() - $('#index-content').outerHeight())/2);
}); 
```

因此，下面是适用于我的修改后的代码（仅更改了触发器）

```
$(document).on('pageshow', '#index', function(event) {
$('#index-content').css('margin-top',($(window).height() - $('[data-role=header]').height() - $('[data-role=footer]').height() - $('#index-content').outerHeight())/2);
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-07-18T19:15:42.717

必须上课才能做到这一点。一种用于垂直居中，一种用于垂直和水平：

```
.h-centered-item {
    position: absolute;
    top: 50%;
    transform: translate(0, -50%)
}

.vh-centered-item {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-right: -50%;
    transform: translate(-50%, -50%)
} 
```

只需将其应用于要垂直居中或两者都居中的元素

# css - CSS3 默认：目标

> ID：14378123
> 
> 赞同：1
> 
> 时间：2013-01-17T11:31:51.233
> 
> 标签：css, state, target

我有以下代码：

```
<style>
.temp {
    transition:all 1s ease;
    opacity: 0;
    /* Don't forget the vendor specific pre-fixes! */
}

/* .temp:first-child{opacity: 1;} */

.temp:target {
    opacity: 1;
    font-size:40px;
}

#one:target {
  opacity: 1 ;
   font-size:40px
}
/*.tab:target ~ #one { opacity: 1;} */
</style>
<body>

<a href="#one">One</a>
<a href="#two">Two</a>
<a href="#three">Three</a>
<a href="#four">Four</a>

<div class="buttons">
    <div class="temp" id="one"> Number One</div>  
    <div class="temp" id="two">Number Two</div>  
    <div class="temp" id="three">Number Three</div>  
    <div class="temp" id="four">Number Four</div>
</div> 
```

**任务是使用 CSS 属性 {opacity:1;} 为 div #one 设置“默认”状态，仅在页面加载时使用 CSS。**

我也找到了这个话题。 [默认：目标与 CSS](https://stackoverflow.com/questions/3354279/default-target-with-css)

这段代码也很好用。

```
window.onload = function(){
    if(document.location.hash="#"){
        document.location.hash="#one";
    }
} 
```

但是如果我有多个：target，不确定它是否适用于具有 :target 状态的两个 div。

可能吗？感谢您的关注和解答。

# javascript - Yeoman/JS：在 HTML 模板中重复 HTML 块 - 编译以最终与 Wordpress 集成？

> ID：14378124
> 
> 赞同：2
> 
> 时间：2013-01-17T11:31:57.360
> 
> 标签：javascript, node.js, templates, yeoman

是的，所以我目前正在开发一个项目，该项目*最终*将由***Wordpress 后端***提供支持，但在前端，将由CSS3 和 JavaScript 提供强大支持**——**甚至**可能****利用**历史 API 并动态加载内容通过 AJAX。

 ****我目前正在处理静态 HTML 模板，正确布局，获取页面之间交互和导航所需的所有 JS 等。我目前正在使用**Yeoman**作为监视服务器来编译我的**SASS**模板并合并所有 JS 模块使用**RequireJS**。

一切都很好，但我开始注意到我在 HTML 模板中重复了很多 HTML 块，而且效率不高 - 我只想在一个地方编辑块并让它重复多次我需要在页面上 - 页眉，页脚，博客列表页面上的单个博客项目等，而我正在搭建前端模板。

本质上，我想做的是拥有块模板，我可以将其导入父文件，循环生成我需要的文件，一旦我准备好通过 Wordpress为**最终标记**提供动力，我就可以构建项目，导出静态 HTML 文件以及编译的 JS 和 CSS3，然后在最后将 HTML 分解为 Wordpress 构建。

我最好怎么做？

整合**翡翠**？使用**车把**？我对 Jade 提供的缩短语法并不太在意，我只是希望能够在搭建脚手架时从模板编译 vanilla HTML。也许像**Jekyll 之**类的？是否有基于节点的版本？

这甚至是正确的处理方式吗？我考虑过从 JSON 生成所有前端，并且在 Wordpress 集成期间，在 Wordpress 中公开 JSON API，但在 DOM 中生成所有模板不会产生***任何***SEO，这是一个问题。

你们有什么感想？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-03T22:41:27.853

我一直在寻找完全相同的东西。习惯于使用 jekyll 进行 html 预处理，我认为 Yeoman 自然会支持布局和包含。

不幸的是它没有[https://github.com/yeoman/yeoman/issues/700](https://github.com/yeoman/yeoman/issues/700)

并不是说它不起作用，但我尝试使用[yeoman-jekyll](https://github.com/mklabs/yeoman-jekyll)，在 OSX 和 Windows 上使用它一个小时后发现它生成的 gruntfile 不如默认的 Yeoman init 构建那样全面。

您提到了 Jade，我对此一无所知，但这看起来很方便：[Integrating Jade in Yeoman's server/watch/reload tasks](https://stackoverflow.com/questions/14243245/integrating-jade-in-yeomans-server-watch-reload-tasks)

保持简单，我希望我做到了！****

# sitefinity - sitefinity 从模块中获取文档

> ID：14378126
> 
> 赞同：0
> 
> 时间：2013-01-17T11:32:01.963
> 
> 标签：sitefinity, sitefinity-4

我想要`Pdf`这个模块中的一个字段。我想获得 pdf 完整的 url 和名称，但不知道如何在 sitefinity 中执行。有人可以帮助我吗？

ASP.X

```
<asp:Repeater ID="rptList" runat="server" OnItemDataBound="rptList_ItemDataBound">
    <HeaderTemplate>
    </HeaderTemplate>
    <ItemTemplate>
        <asp:Label ID="lblTitle" runat="server" Text='<%# Eval("Title") %>'></asp:Label>
        <asp:Label ID="lblSummary" runat="server" Text='<%# Eval("Content") %>'></asp:Label>
        <div>
            <asp:Repeater ID="rptPdfList" runat="server" >
                <HeaderTemplate>
                </HeaderTemplate>
                <ItemTemplate>
                    <li>
                        <asp:HyperLink ID="hlSubMenu" runat="server" Text='<%# Eval("Name") %>' NavigateUrl='<%# Eval("Url") %>'
                            onclick='return handleHyperLinkClick(this)'></asp:HyperLink>
                    </li>
                </ItemTemplate>
                <FooterTemplate>
                </FooterTemplate>
            </asp:Repeater>
        </div>
    </ItemTemplate>
    <FooterTemplate>
    </FooterTemplate>
</asp:Repeater> 
```

。CS

```
private Guid guid { get; set; }

    protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            string id = Request.QueryString["id"];

            guid = new Guid(id);
            var myCollection = GetDataItems();

            rptList.DataSource = myCollection;
            rptList.DataBind();
        }
    }

    public IQueryable<DynamicContent> GetDataItems()
    {
        DynamicModuleManager dynamicModuleManager = DynamicModuleManager.GetManager();
        Type newsReleasesType = TypeResolutionService.ResolveType("Telerik.Sitefinity.DynamicTypes.Model.NewsReleases.NewsReleases");
        var myCollection = dynamicModuleManager.GetDataItems(newsReleasesType).Where(i => i.Status == Telerik.Sitefinity.GenericContent.Model.ContentLifecycleStatus.Live && i.Id == guid);
        return myCollection;
    }

    protected void rptList_ItemDataBound(object sender, RepeaterItemEventArgs e)
    {
        DataTable dtChildNodes = new DataTable();
        dtChildNodes.Columns.Add("Name", typeof(string));
        dtChildNodes.Columns.Add("Url", typeof(string));

        var myCollection = GetDataItems();

        foreach (var mp in myCollection)
        {
            ContentLink cl = ((ContentLink[])mp.GetValue("Pdf"))[0];
            dtChildNodes.Rows.Add(cl.ChildItemProviderName, cl.ChildItemAdditionalInfo);
        }

        Repeater rpt = (Repeater)e.Item.FindControl("rptPdfList");
        rpt.DataSource = dtChildNodes;
        rpt.DataBind();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T18:36:01.620

你绝对是在正确的轨道上！ContentLink[] 是媒体的存储方式，因为它实际上存储了对库项目的引用。

您只需将 ChildItemId 从内容链接 (c1.ChildItemId) 传递给 LibraryManager.Get 方法（如 GetImage 或 GetDocument）即可获取实际的内容项。

从那里您可以简单地执行 Content.Url 来获取到库项目的实际链接。

Sitefinity 博客上有一个示例：[http ://www.sitefinity.com/blogs/joshmorales/posts/josh-morales-blog/2012/01/19/retrieving_data_from_dynamic_modules_using_the_module_builder_api](http://www.sitefinity.com/blogs/joshmorales/posts/josh-morales-blog/2012/01/19/retrieving_data_from_dynamic_modules_using_the_module_builder_api)

我希望这是有帮助的！

# java - 使用 layout_weight 而不被拉伸

> ID：14378130
> 
> 赞同：1
> 
> 时间：2013-01-17T11:32:29.623
> 
> 标签：java, android, android-layout, android-widget

通过为每个按钮赋予 1 的权重，我得到了 7 个在布局中水平对齐的按钮。但是，这会拉伸按钮，因此在屏幕上占用相同数量的空间。我需要按钮保持良好的纵横比，并且仍然通过利用按钮之间的空白来占据整个宽度。这可能与重量有关吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:38:25.177

如果您想拉伸的不是按钮而是它们周围的空间，请将按钮放在容器上并为其设置权重。另请查看 TableLayout 和 GridLayout。

# delphi - GLScene（OpenGL库）网格轴错误的方式

> ID：14378135
> 
> 赞同：2
> 
> 时间：2013-01-17T11:33:11.777
> 
> 标签：delphi, opengl, glscene

我在 Delphi 7 项目中玩弄 GLScene（一个基于 OpenGL 的库），并且在尝试更改模型的“全局”（不确定正确的术语是什么！）轴时遇到了麻烦。

本质上，模型是横向加载的，所以我期望的 Y 轴实际上是 Z 轴。我附上了一个屏幕截图，其中地板的轴与模型的轴一起显示。有没有办法可以在加载网格时旋转网格，使其与眼睛预期的对齐？或者我可以使用特定的 TGLFreeForm 函数吗？

![在此处输入图像描述](../Images/a5e11c975150a9ed1463b96d339aa3c6.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T18:47:17.597

> 所以我期望的 Y 轴实际上是 Z 轴

您对默认的 OpenGL 坐标系有何假设？使用典型矩阵：

*   +X 向右
*   +Y 上升
*   +Z 离开屏幕朝向观看者

# vba - 将包含真/假的 Excel 单元格转换为 VBA 中的复选框

> ID：14378137
> 
> 赞同：1
> 
> 时间：2013-01-17T11:33:32.417
> 
> 标签：vba, excel

我在 Excel 单元格中有一个列，其中包含“True”或“false”作为文本。

该列由 VBA 代码填充。

我需要将复选框显示为选中而不是 True，并显示一个未选中的复选框而不是 False。

这可以通过 VBA 代码完成吗？假设包含该值的单元格被称为

ActiveWorkBook.Sheets("mySheetName").cells(i, 4)

i = 行索引，位于循环内。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:50:29.770

这段代码应该可以完成这项工作，只需根据您的需要更改 For 循环：

```
子 subPlaceCheckbox()

    常量 cDblCheckboxWidth As Double = 15
    常量 cStrCheckboxPrefix As String = "cb4_"

    将 cb 调暗为复选框
    调暗为范围
    暗淡我只要

    Application.ScreenUpdating = False

    '首先，删除所有旧的复选框以避免双打
    对于 Sheet1.CheckBoxes 中的每个 cb
        If Left(cb.Name, Len(cStrCheckboxPrefix)) = _
            cStrCheckboxPrefix 然后
            cb.删除
        万一
    下一个

    对于 i = 1 到 20
        设置 rng = Sheet1.Cells(i, 4)

        '放置复选框
        设置 cb = Sheet1.CheckBoxes.Add(_
            rng.Left + rng.Width / 2 - cDblCheckboxWidth / 2, _
            rng.Top, cDblCheckboxWidth, rng.Height)

        '设置复选框属性
        带cb
            .Name = "cb_" & rng.Address（假，假）
            .Value = rng.Value
            .LinkedCell = rng.Address
            .Display3DShading = 真
            .Characters.Text = ""
        结束于

        '隐藏单元格内容
        rng.NumberFormat = ";;;"

    接下来我

    Application.ScreenUpdating = True
结束子

```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:54:00.437

您可以只让单元格显示 TRUE 或 FALSE，将复选框添加到您的工作表中，然后将复选框上的 LinkedCell 设置为您的原始单元格。如果您不想看到该单元格，请将复选框放在其顶部！

# css - 干净的 css3 上的 Bannerslider（没有 jQuery）

> ID：14378141
> 
> 赞同：1
> 
> 时间：2013-01-17T11:33:43.733
> 
> 标签：css, css-animations

我在没有 jQuery 的干净 CSS3 上制作了一个横幅滑块。它适用于每个地球浏览器。如何在 IE-9 中进行这项工作？

[http://jsfiddle.net/zBGNm/15/](http://jsfiddle.net/zBGNm/15/)

我使用了@keyframes。每个 <LI> 都由适当的动画制作动画，该动画会改变列表项的不透明度和 z-index。每个 <LI> 都有自己的背景，所以当列表项在动画过程中相互覆盖时可以看到。这是CSS：

```
body {
background: url(http://htmler.org.ua/wp-content/uploads/2011/04/Subtle-Patterns-High-quality-patterns-for-your-next-web-project-1.png);
width: 50px;
height: 100%;}

#slider {
width: 100%;
height: 50px;
position: fixed;
z-index:6;
}

#slider:hover li
{
-webkit-animation-play-state: paused;
}

#slider li
{
margin:0;
padding:0;
width: 100%;
height: 50px;
position:absolute;
color: white;
}

#slider li:first-of-type
{
-webkit-animation: anim1 40s infinite;
background:-webkit-linear-gradient(top, #FF6600, #550000);}

#slider li:nth-of-type(2)
{
-webkit-animation: anim2 40s infinite;
background:-webkit-linear-gradient(top, #FF0033, #330000);}

#slider li:nth-of-type(3)
{
-webkit-animation: anim3 40s infinite; 
background:-webkit-linear-gradient(top, #9933CC, #330055);}

#slider li:nth-of-type(4)
{
-webkit-animation: anim4 40s infinite;
background:-webkit-linear-gradient(top, #003366, #001133);}

#slider li:nth-of-type(5)
{
-webkit-animation: anim5 40s infinite;
background:-webkit-linear-gradient(top, #99CC00, #115500);}

@-webkit-keyframes anim1 {
0% {z-index:6;opacity:0;}
5% {z-index:6; opacity:1;}
20% {z-index:6; opacity:1;}
21% {z-index:1;}
100% {z-index:1;}
}

@-webkit-keyframes anim2 {
0% {z-index:2;opacity:0;}
19% {z-index:2; opacity:0;}
20% {z-index:6; opacity:0;}
25% {z-index:6; opacity:1;}
40% {z-index:6; opacity:1;}
41% {z-index:2;}
100% {z-index:2;}
}

@-webkit-keyframes anim3 {
0% {z-index:3;opacity:0;}
39% {z-index:3; opacity:0;}
40% {z-index:6; opacity:0;}
45% {z-index:6; opacity:1;}
60% {z-index:6; opacity:1;}
61% {z-index:3;}
100% {z-index:3;}
}

@-webkit-keyframes anim4 {
0% {z-index:4;opacity:0;}
59% {z-index:4; opacity:0;}
60% {z-index:6; opacity:0;}
65% {z-index:6; opacity:1;}
80% {z-index:6; opacity:1;}
81% {z-index:4;}
100% {z-index:4;}
}

@-webkit-keyframes anim5 {
0% {z-index:5;opacity:1;}
5% {z-index:1;opacity:0;}
79% {z-index:5; opacity:0;}
80% {z-index:6; opacity:0;}
85% {z-index:6; opacity:1;}
100% {z-index:5;}
} 
```

和标记：

```
<html>
<body>
<ul id="slider">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
</ul>
</body>
</html> 
```

这里没有其他浏览器的前缀，这里是为了简短。在我的电脑上，我写了所有的前缀。正如我所说，它适用于任何地方，但不适用于 IE。这个 BRRRROOOOOOUUUUUUZZZEEERRR 有解决方法吗？？！！！！

# java - 减少执行时间

> ID：14378143
> 
> 赞同：4
> 
> 时间：2013-01-17T11:33:47.747
> 
> 标签：java, performance, optimization, hashset

我有一个程序，它使用 HashSet 简单地删除字符数组的重复元素。

这是我的程序：

```
import java.util.Arrays;
import java.util.HashSet;

import java.util.Set;

public class MainClass {
    public static void main(String[] arg) {
        double sT = System.nanoTime();
        Character[] data = { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',
                'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',
                'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h',
                'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',
                'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f',
                'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r',
                's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd',
                'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p',
                'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b',
                'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',
                'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
                'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l',
                'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x',
                'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',
                'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',
                'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h',
                'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',
                'u', 'v', 'w', 'x', 'y', 'z' };

        Set<Character > uniqueSet = new HashSet<Character>(Arrays.asList(data));

         Character[] strArr = new Character[uniqueSet.size()];
         uniqueSet.toArray(strArr);

            for(Character str:strArr){
                System.out.println(str);
            }

        System.out.println(System.nanoTime() - sT);

    }

} 
```

它提供了所需的输出。但问题是执行时间。有什么方法可以在我的程序中实现以减少其执行时间？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T11:38:48.357

由于您可以拥有的不同类型的元素非常小，您可以轻松地使用简单的数组而不是哈希集（一种类似于集合或计数排序的方法）。如果您只关心非大写英文字母，请声明一个数组`boolean met[26];`，如果您需要能够支持所有字符，请使用`boolean met[256];`.

比遍历数组并仅在其`met`值为 false 时将字符添加到结果中。将字符添加到结果中时，不要忘记将其标记为已使用。

不涉及散列，因此 - 更好的性能。

编辑：我的意思似乎有些混乱，我将尝试添加代码示例

```
boolean met[] = new boolean[256]; // Replace 256 with the size of alphabet you are using
List<Character> res = new ArrayList<Character>();
for(Character c:data){
  int int_val = (int)c.charValue();
  if (!met[int_val]) {
     met[int_val] = true;
     res.add(c);
  }
}

// res holds the answer. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T11:50:42.540

首先要意识到的是，写入控制台非常昂贵。如果你删除

```
System.out.println(str); 
```

这将大大加快代码速度。

另一件需要注意的事情是你的代码运行的时间不够长来预热代码（它不会被编译）你应该运行测试大约 2 - 10 秒，看看预热代码需要多长时间.

花费的时间

*   打印 => 2,498,085 ns
*   不打印 => 1,509,978 ns
*   如果您先警告代码 => 43,347 ns
*   如果您预热代码并平均运行 10,000 次 => 18,922 ns
*   进一步优化代码并运行一百万次 ~2secs => 1,287 ns

端到端的性能提升了 2000 倍；）

最终代码看起来像

```
StringBuilder strArr = null;
long sT = 0;
int runs = 1000000;
for (int i = -40000; i < runs; i++) {
    if (i == 0)
        sT = System.nanoTime();

    String text = "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm" +
            "qwertyuiopasdfghjklzxcvbnm";
    BitSet bs = new BitSet(256);
    for (int j = 0, len = text.length(); j < len; j++)
        bs.set(text.charAt(j));
    strArr = new StringBuilder();
    for (int j = -1; (j = bs.nextSetBit(j+1)) >= 0; )
        strArr.append((char) j);
}

System.out.printf("Took an average of %,d ns%n", (System.nanoTime() - sT) / runs);

System.out.print(strArr); 
```

印刷

```
Took an average of 1,287 ns
abcdefghijklmnopqrstuvwxyz 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-17T12:07:18.337

让 Google Caliper 负责微基准测试：

```
 0% Scenario{vm=java, trial=0, benchmark=Array} 12868.77 ns; σ=523.07 ns @ 10 trials

  us
12.9

vm: java
trial: 0
benchmark: Array 
```

12.9 微秒。和你的 1319 微秒不太一样，是吗:)

作为参考，这是确切的代码：

```
import com.google.caliper.Runner;
import com.google.caliper.SimpleBenchmark;

public class Performance extends SimpleBenchmark {
  public int timeArray(int reps) {
    int sum = 0;
    for (int rep = 0; rep < reps; rep++) {
      Character[] data = { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p',
          'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i',
          'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b',
          'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u',
          'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',
          'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g',
          'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
          'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's',
          't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l',
          'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'a', 'b', 'c', 'd', 'e',
          'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x',
          'y', 'z' };
      sum += new HashSet<>(Arrays.asList(data))
          .toArray(new Character[new HashSet<Character>
                   (Arrays.asList(data)).size()]).length;
    }
    return sum;
  }

  public static void main(String... args) {
    Runner.main(Performance.class, args);
  }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T11:37:49.630

您可以使用 Google Guava 为您做这件事。有一个关于它的[Stackoverflow 讨论](https://stackoverflow.com/questions/12242083/remove-duplicates-from-list-using-guava)。

# javascript - 动态更改文本框焦点上的视口可防止 Android 键盘显示

> ID：14378157
> 
> 赞同：3
> 
> 时间：2013-01-17T11:34:35.613
> 
> 标签：javascript, android, html, responsive-design

我们在响应式站点中有一个文本框，当聚焦时，我们希望防止在移动浏览器中自动缩放。

我们目前正在使用以下 javascript 片段来实现这一点。

```
$(document).ready(function() {
    var metaViewport = $('head').find('meta[name=viewport]');
    $('input[type="textbox"]')
    .on('focus', function () {
            metaViewport.attr('content', 'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no');
    })
    .on('blur', function () {
            metaViewport.attr('content', 'width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes');
    });
}); 
```

但是，这会破坏使用股票浏览器的 Android 设备上的屏幕键盘，文本框获得焦点后不会显示键盘。这已经在 Android 版本 2.3.5 和 4.1 上进行了测试和验证

同样，这是在股票浏览器中，在 Chrome 中它工作正常。

这里的任何人都知道是否有某种解决方法，或者我们是否只需要为 Android 浏览器禁用此功能？

这是一个演示此行为的实时链接[http://creamdog.se/meta/](http://creamdog.se/meta/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-21T15:51:22.327

have you tried –</p>

```
input[type="textbox"] {
    font-size: 1em;
} 
```

in your CSS?

Similar to this - [Disable Auto Zoom in Input "Text" tag - Safari on iPhone](https://stackoverflow.com/questions/2989263/disable-auto-zoom-in-input-text-tag-safari-on-iphone) ?

# c++ - opencv2.1.0 中的 R-tree

> ID：14378160
> 
> 赞同：0
> 
> 时间：2013-01-17T11:34:44.470
> 
> 标签：c++, algorithm, data-structures, geometry, r-tree

我正在使用 opencv2.1.0，我想通过 opencv 使用 r-tree 结构。我的想法是使用 r-tree 为给定的线段（都在 2d 中）找到附近的线段。我真的不知道如何使用这个 r-tree 函数，我有每个线段的终点坐标。如果有人知道如何在 opencv2.1.0 中将 r-tree 用于 2D 线段，请告诉我方法并举一些例子。为了清楚起见，我也在插入一张图片。黑线是给定的线，虚线是其他线。所以我想要所有靠近暗线的虚线。我有很多这样的场合。所以我想要有效的方式，这就是我正在寻找 r-tree 的原因。

![](../Images/72137c67208f53a3dc7a3f53d5441fa0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T15:14:48.243

我的两分钱：

1.  您可能需要弄清楚如何在一组段上构建 R-tree。据我所知，通常 R-Tree 用于索引空间点和查询处理，例如查找最近邻居，是基于最小边界区域（MBR）和某些剪枝技术。

2.  您如何定义“附近”细分？你如何定义两条线段之间的距离？

3.  这可能有用： http: [//geomalgorithms.com/a07-_distance.html](http://geomalgorithms.com/a07-_distance.html)

# javascript - 如何设置 g.raphaeljs 饼图方向或起点？

> ID：14378162
> 
> 赞同：2
> 
> 时间：2013-01-17T11:34:49.937
> 
> 标签：javascript, svg, raphael, graphael

默认情况下，g.raphaeljs 饼图显示从图表顶部沿两个方向平均拉伸的最大值，较小的值显示顺时针方向。

在下图中，最大值 (1) 从大约 7 点开始。我想显示从 12 点开始的最大值，该怎么做？

![默认行为](../Images/d5ec1f3a1c3a8478cfb929e0dd3f8bd8.png) ![目标行为](../Images/d0ed92dca535711dab1039ff341cf8c0.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T15:04:04.797

好的，找到它（**并且 100% 有效**）...在这里：[添加 opts.startFromFixedAngle，因此第一个饼图切片将开始绘制...</a>](https://github.com/cederlof/g.raphael/commit/f532cd5d4233f8a4c02d07adcd39da1e5de81198)

[](https://github.com/cederlof/g.raphael/commit/f532cd5d4233f8a4c02d07adcd39da1e5de81198)

[**这是我刚刚做的一个工作 jsfiddle：g raphael pie，起始角度设置为 90**](http://jsfiddle.net/vedmack/tgyfC/)

不要忘记使用新参数`startFromFixedAngle`

这是代码...

将以下内容应用于您的`g.pie.js`

代替

```
 angle = 0, 
```

和

```
 angle = opts.startFromFixedAngle || 0, 
```

消除

```
 var mangle = angle - 360 * values[i] / total / 2;
 if (!i) {
     angle = 90 - mangle; 
```

添加

```
 var mangle;
 if (opts.startFromFixedAngle)
     mangle = angle + 360 * values[i] / total / 2;
 else {
     mangle = angle - 360 * values[i] / total / 2;
     if (!i) {
         angle = 90 - mangle;
         mangle = angle - 360 * values[i] / total / 2;
     } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-09T11:58:34.073

上面的解决方案过于复杂，并且会破坏任何依赖于 mangle 的动画效果（例如在这里找到的：[RaphaelJs Pie Chart Animation on Hover](https://stackoverflow.com/questions/8363527/raphaeljs-pie-chart-animation-on-hover/8376775#8376775)）。如果您想要的只是一个固定的起始角度，则单行更改就足够了，但是如果您想使用上述参数，您将替换

```
 if (!i) {
       angle = 90 - mangle;
       mangle = angle - 360 * values[i] / total / 2;
     } 
```

和

```
 if (!i) {
       if (opts.startFromFixedAngle) {
         angle = opts.startFromFixedAngle;
       } else {
         angle = 90 - mangle;
       }
       mangle = angle - 360 * values[i] / total / 2;
     } 
```

就我而言，我只是希望所有饼图都从 90 度标记开始，所以我只是从第一个块的代码中删除了“- mangle”。

# iphone - UITabBar 选择器图像填充并根据选择的选项卡更改图像

> ID：14378171
> 
> 赞同：0
> 
> 时间：2013-01-17T11:35:20.203
> 
> 标签：iphone, ios, uitabbarcontroller, uitabbaritem, appdelegate

我目前正在我正在构建的应用程序中实现自定义标签栏，但遇到了一些麻烦。I still see a white line on the left hand side when this tab is selected and also on the right when the right tab is selected. 其他选项卡似乎也不完全正确。我正在为此使用 iPhone 4 模拟器。

菜单图像为 640x108px（在此使用@2x 文件名） 图标为 64x50 选择器背景为 122x100（在此使用@2x 文件名）

除此之外，我还想在突出显示中间选项卡时更改选择器图像。那可能吗？我在这里进行了挖掘，似乎找不到有效的解决方案。

我在 AppDelegate.m 中实现我的标签栏控制器，如下所示：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:  (NSDictionary *)launchOptions
{
    // Override point for customization after application launch.

    //create new tab bar appearance
    UITabBar *tabBar = [UITabBar appearance];
    //set background image
    [tabBar setBackgroundImage:[UIImage imageNamed:@"menu.png"]];
    //create a colour and apply it as tint colour when items aren't selected.
    UIColor *color=[UIColor colorWithRed:64.0/255.0 green:147.0/255.0 blue:52.0/255.0 alpha:255.0];
    UIColor *colorSelected=[UIColor colorWithRed:1.0 green:1.0 blue:1.0 alpha:1.0];
    [tabBar setTintColor:color];
    [tabBar setSelectedImageTintColor:colorSelected];
    int numberOfTabs = 5;

    [tabBar setSelectionIndicatorImage:[UIImage imageNamed:@"selected.png"]];

    return YES;
} 
```

**编辑：**

有关更多详细信息，请参见下图

[![模拟器中当前标签栏的图像](../Images/7b37560d767c1f5552f7299c96c62b4b.png)](https://i.stack.imgur.com/1IlzP.png)
[（来源：[stephenbigerstaff.net](http://stephenbiggerstaff.net/img/tabbar.png)）]

# c# - 将“位图”从 C# 上传到 PHP

> ID：14378174
> 
> 赞同：0
> 
> 时间：2013-01-17T11:35:28.097
> 
> 标签：c#, php, mysql

我不完全确定如何做到这一点，但我想要一种从我的 C# 应用程序上传图片的方法，可以使用基本的 PHP 查询上传。IE 获取这些字节或其他内容并将文本复制到 php 服务器上，然后接收信息的客户端将这些字节再次转换为图片。

就像是;

```
String Screen_Shot = BitMapImage.toString;
WebClient client = new WebClient();
client.DownloadString("http://example.com/PHP/addimagetodatabase.php?image=" + Screen_Shot); 
```

我不知道如何实际获取要转换的字节或某种文本，但我无法使用 FTP 上传图片，我有一个 PHP/SQL 数据库，可以从 C# 客户端获取图片字节或其他内容，然后发送它们给译者。

**注意：**我想要一种通过 PHP 将图片/字节/数据放到数据库中的方法，我无法弄清楚。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T11:36:40.737

```
public Byte[] BitmapToArray(Bitmap bitmap)
{
    using (MemoryStream stream = new MemoryStream())
    {
        bitmap.Save(stream, ImageFormat.Bmp);
        return stream.ToArray();
    }
}

public Bitmap DownloadImage(String url)
{
    WebClient client = new WebClient();
    Byte[] bytes = client.DownloadData(url);

    Bitmap bitmap = null;

    using (MemoryStream stream = new MemoryStream(bytes, 0, bytes.Length))
    {
        stream.Write(bytes, 0, bytes.Length);
        return (new Bitmap(stream));
    }
}

public Byte[] UploadImage(String url, String path)
{
    WebClient client = new WebClient();
    return client.UploadFile(url, path);
} 
```

# php - PHP 邮件（）超时

> ID：14378175
> 
> 赞同：12
> 
> 时间：2013-01-17T11:35:32.827
> 
> 标签：php, email

先说几个信息：

*   Debian 挤压
*   PHP 5.3.3
*   PHP 与 mod_cgi
*   `mail()`在这种情况下，我绝对必须使用。对于我所有的其他项目，我已经使用 SMTP 邮件。

我已将站点超时问题隔离到 PHP`mail()`函数中。这是我服务器上 test.php 文件中唯一的代码行：

```
<?php mail('rudolf@geardev.de', 'test', 'test'); 
```

这似乎需要无穷无尽，然后在 40 秒后被 mod_cgi 终止。命令

```
php -r "mail('rudolf@geardev.de', 'test', 'test');" 
```

在命令行上立即发送电子邮件。

请告诉我您想查看哪些日志文件，Apache 日志是这样的：

```
[Thu Jan 17 12:17:00 2013] [warn] [client 178.15.148.43] mod_fcgid: read data timeout in 40 seconds
[Thu Jan 17 12:17:00 2013] [error] [client 178.15.148.43] Premature end of script headers: test.php 
```

我认为问题是我`chmod -R 775`几天前不小心在根目录上运行了。我已经修复了所有错误，除了这个。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-23T13:52:06.253

您很可能使用 2 个不同的 php.ini 版本。一个用于cli，一个用于cgi。我相信Debian有这个设置。

*   /etc/php5/cgi/php.ini
*   /etc/php5/cli/php.ini

确保您的 cli 和 cgi 版本具有相同的电子邮件配置，并且可以正常工作。

邮件配置键为：【邮件功能】

另一种可能性是您的 Web 用户无权**执行**sendmail。

还要检查假脱机权限（更新）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-20T17:47:58.387

不要依赖，`mail()`因为它不可靠并会导致类似的问题。多年来，我一直很高兴地使用[phpMailer](https://github.com/PHPMailer/PHPMailer)。

如果你坚持`mail()`然后检查你在 php.ini 中的设置（解释在[http://www.quackit.com/php/tutorial/php_mail_configuration.cfm](http://www.quackit.com/php/tutorial/php_mail_configuration.cfm)）。请注意，通常 CLI 的 php.ini 与 FastCGI 不同。

一些更常见的问题：

*   FastCGI 没有使用 sendmail 的权限

*   大附件的内存限制

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-23T00:17:26.020

我一直在寻找这个特定的错误，并发现它可能是由多种原因引起的。我不知道您已经尝试过什么来修复它，但这里有一些关于可能有帮助的建议：

*   确保开始`<?php`和结束`?>`
*   确保将文件 chmod 为 755
*   尝试包含某种输出（例如，打印“已发送邮件”。）

关于这个主题还有另一个问题：[PHP Mail Function Causes Error](https://stackoverflow.com/questions/9725575/phps-mail-function-causes-a-500-internal-server-error-only-after-a-certain-po) - 所有者表示，更改具有相同设置的服务器会导致 mail() 函数正常工作，这可能表明主机存在问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-25T22:57:59.167

您是否有可能阻止传出 SMTP 连接的防火墙？该服务器上是否还有其他可以成功发送电子邮件的东西？

*我会对此发表评论，但目前还不允许。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-27T10:54:04.377

您在使用时遇到问题：

```
exec('php -r \"mail('rudolf@geardev.de', 'test', 'test');\"'); 
```

# ruby-on-rails - 谁让 id 进入 form_for 的 html 输出

> ID：14378178
> 
> 赞同：0
> 
> 时间：2013-01-17T11:35:39.960
> 
> 标签：ruby-on-rails, ruby

我有这个：

```
<%= form_for(:session, url: sessions_path) do %> 
```

这会生成这个 html 输出：

```
<form accept-charset="UTF-8" action="/session" method="post"> 
```

我需要为表单设置一个 ID。我怎样才能添加一个ID？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:44:27.673

一个html id？

```
<%= form_for(:session, url: sessions_path, :html => {:id => "foobar"}) do %> 
```

还是要与表单数据一起返回的 id？然后将其添加到 url 或添加隐藏字段

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:44:37.423

```
<%= form_for(:session, url: sessions_path, :html => { :class => "form_class", :id => "new_post" }) do |f| %> 
```

# highcharts - 替换/删除度量符号，如千位“k”缩写

> ID：14378181
> 
> 赞同：23
> 
> 时间：2013-01-17T11:35:43.917
> 
> 标签：highcharts, highstock

我的 areaspline 图表的 Y 轴值高达大约 6000。Highcharts 自动将我的 Y 轴上的“000”部分更改为“k”。

由于我是法国人，并且该网站应该使用相同的语言，所以这个“k”缩写在我的情况下没有意义，我希望有一个随意的“000”显示而不是它。

这可能吗？如何？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-17T12:11:58.660

您可以通过以下方式显式覆盖with**[`lang.numericSymbols*`](http://api.highcharts.com/highstock#lang.numericSymbols)**来`null`执行此操作`defaultOptions`

```
Highcharts.setOptions({
    lang: {
        numericSymbols: null //otherwise by default ['k', 'M', 'G', 'T', 'P', 'E']
    }
}); 
```

文档内容如下

> **数字符号：`Array<String>`**
> 
> 用于缩短轴标签中高数字的[公制前缀。](http://en.wikipedia.org/wiki/Metric_prefix)用 null 替换任何位置都会导致写入完整的数字。将 numbericSymbols 设置为 null 会完全禁用缩短。默认为 ['k', 'M', 'G', 'T', 'P', 'E']。

**从 v1.2.0 (2012-08-24) 正式提供
这在 v1.2.0 之前将不起作用，因为后缀是硬编码的。*

## **替代解决方案**

（应该适用于支持格式化程序的所有版本）

**[`yAxis.labels.formatter`](http://api.highcharts.com/highstock#yAxis.labels.formatter)**按原样使用并返回值

```
yAxis: {
    labels: {
        formatter: function () {
            return this.value;
        }
    }
} 
```

**[禁用轴值上的公制符号 | Highchart & Highstock (v1.2+) @ jsFiddle](http://jsfiddle.net/jugal/6EAAN/)**
**[禁用轴值上的公制符号 | Highchart & Highstock（旧版本）@ jsFiddle](http://jsfiddle.net/jugal/hm4Bh/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-10T14:23:48.787

根据@Jugal-Thakkar 的回答，我实现了：

```
numericSymbols: [' × 10³', ' × 10⁶', ' × 10⁹', ' × 10¹²', ' × 10¹⁵', ' × 10¹⁸'], 
```

上标 0 和 4-9 仅为 UTF-8 字符。您需要指定支持这些的字体，否则您将遇到字体替换问题，如[为什么上标数字的 Unicode 字符的显示高度不同？](https://stackoverflow.com/questions/7663251/why-the-display-of-unicode-characters-for-superscripted-digits-are-not-at-the-sa).

我用：

```
font-family: Lucida Sans Unicode, Arial Unicode MS, Cambria, Calibri, Consolas; 
```

此外，我宁愿使用 1.8 × 10¹⁴ 而不是 180 × 10¹²，但要好于难以阅读的 180000000000000。

# sql - 选择两个日期之间的查询

> ID：14378183
> 
> 赞同：1
> 
> 时间：2013-01-17T11:35:51.997
> 
> 标签：sql, sql-server, tsql, visual-studio-2008

我正在尝试在数据库中的两个特定日期之间进行选择连接

我觉得这是在正确的道路上，但不正确

我怎样才能让它工作

```
SELECT --RTRIM(C.CustomerFirstName) + ' ' + LTRIM(C.CustomerLastName) as CustomerFullName,
       ROW_NUMBER() OVER(ORDER BY CP.ActionDate) AS RowNumber,
       C.CustomerFirstName,
       C.CustomerLastName,
       C.CustomerCompany,
       C.CustomerPosition,
       C.CustomerCountry,
       C.CustomerProvince,
       C.CustomerContact,
       CP.ActionDate,
       CP.ProductCode,
       CP.CustomerEmail
FROM   tblCustomers C
       JOIN tblCustomerProducts CP
            ON  C.CustomerEmail = CP.CustomerEmail

     ORDER BY ActionDate DESC
WHERE CP.ActionDate BETWEEN '1/17/2013' AND '19/12/2012' 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-17T11:37:19.233

代替

```
WHERE CP.ActionDate BETWEEN '1/17/2013' AND '19/12/2012` 
```

试试这个：

```
WHERE CP.ActionDate BETWEEN '19/12/2012' AND '1/17/2013' 
```

**注意：**这是因为`BETWEEN`SQL Server 中的谓词是非**对称**的，这意味着`value1 BETWEEN value2 AND value3`与 相同`Value1 >= Value2 AND Value1 <= Value3`，所以`value2`之前的值`AND`必须小于或等于`value3`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-17T11:37:08.313

必须先列出较小的日期

```
BETWEEN '12/19/2012'  AND '1/17/2013' 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-17T11:38:09.857

您当前的查询存在一些问题。

首先，您的日期顺序错误。

其次，你`ORDER BY`放错地方了。这`ORDER BY`是您选择中列出的最后一项：

```
FROM tblCustomers C
JOIN tblCustomerProducts CP 
   ON C.CustomerEmail = CP.CustomerEmail
WHERE CP.ActionDate BETWEEN  '12/19/2012' AND '1/17/2013'
ORDER BY ActionDate DESC 
```

您还可以使用：

```
FROM tblCustomers C
JOIN tblCustomerProducts CP 
   ON C.CustomerEmail = CP.CustomerEmail
WHERE CP.ActionDate >= '12/19/2012' AND CP.ActionDate <= '1/17/2013'
ORDER BY ActionDate DESC 
```

我还建议您确保日期的格式相同。你有一个作为`DD/MM/YYYY`，另一个作为`MM/DD/YYYY`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-17T11:38:16.610

你放错了日期，它应该在第一名较小，在第二名较大：

```
WHERE CP.ActionDate BETWEEN '19/12/2012' AND '1/17/2013' 
```

或者

```
WHERE CP.ActionDate >= '19/12/2012' AND CP.ActionDate <= '1/17/2013' 
```

# html - 用没有滚动条的 div 背景填充页面

> ID：14378185
> 
> 赞同：1
> 
> 时间：2013-01-17T11:35:53.400
> 
> 标签：html, css, frontend

我想要一个`div`类“面板”和白色背景延伸到可视区域的底部并且不显示滚动条（仅当内容超过视口时才显示滚动条）

这是我正在处理的示例。

[http://jsfiddle.net/VUP72/](http://jsfiddle.net/VUP72/)

我试过了 ：

```
.panel{
  height: 100%;
} 
```

但是滚动会出现，因为它是 100% + 标题。如何在没有滚动条的情况下填充页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:50:11.823

尝试这个：

```
 background-repeat: repeat-y; 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:50:49.607

您可以将标题**放在**主容器中，如下所示：

```
<div id="main">
  <header>Header</header>
  <div class="sub-header">SUB-header</div>
  <div class="container">
    <div class="panel-top">TOP PANEL</div>
    <div class="panel">PANEL 
      <div>My contente should appear here ...</div>
    </div>
  </div>
</div>
<footer><div id="footer">Footer</div></footer> 
```

然后它将随着整个页面滚动。如果你不想这样，你可以给标题 position:static 和 top:0px 和 left:0px。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:40:38.453

尝试将此添加到您的CSS：

```
body {
    overflow: hidden;
} 
```

这样你就永远不会得到滚动条。另一种方法是使用 calc：

```
.panel {
    min-height: calc(100% - 20px);
} 
```

将页眉高度更改 20px。我不确定这是否适用于所有浏览器，但您必须尝试一下。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T11:42:02.567

我不确定你是否可以在简单的 css 中做到这一点，因为每个显示器都有不同的高度，所以我认为你应该使用 javascript 或 jquery 之类的东西来获取显示器的高度，以及当它超出该范围时向你显示滚动。我不确定这是否是你要找的

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T12:15:17.883

`Height`从身体中取出。我希望这对你有帮助。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-17T13:37:55.297

如果不看 Flexbox，您必须在如何设计元素方面更有创意，以产生特定元素比实际更大的错觉。不要忘记您的`body`元素是一个容器，并且可以独立于`html`元素进行样式设置！

[http://jsfiddle.net/VUP72/4/](http://jsfiddle.net/VUP72/4/)

```
html, body {
  min-height: 100%;
  background: black;
}

html {
  min-width: 400px;
}

body {
  width: 300px;
  margin: auto;
  position: relative;
}

header, .sub-header{
  height: 30px;
}

.panel-top, .panel{
  width: 200px;
  margin: auto;
}

footer{
  position: fixed;
  bottom: 0;
  width: inherit;
}

/*COLORS to indentify*/
header{ background: red; }
#footer{ background: blue;}
body{ background: white; }
.sub-header { background: grey }
.container{background: yellow;}
.panel-top{background: #f0f0f0;}
.panel{background: white;} 
```

# ios - 如何在 CoreData fetch 中设置 NSPredicate

> ID：14378186
> 
> 赞同：0
> 
> 时间：2013-01-17T11:35:55.217
> 
> 标签：ios, core-data, nspredicate

我的 coreData 中有一个包含一些值的实体。cTitle（字符串）和价格（浮动）

例如：cTitle（牛奶、面包、啤酒）价格（30、20、15）；

我需要获得价格 < 20 的值

我正在尝试设置谓词

```
NSNumber *pr = [NSNumber numberWithFloat: 20.0];
NSPredicate *predicate = [NSPredicate predicateWithFormat: @"cPrice > %@)", pr];
[fetchRequest setPredicate:predicate]; 
```

但它因错误而崩溃 `Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Unable to parse the format string "cPrice > %@)"'`

它是单一实体，没有关系。

怎么了？我无法理解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:40:58.177

删除`)` 附近`%@)"`：

```
NSPredicate *predicate = [NSPredicate predicateWithFormat: @"cPrice < %@", pr]; 
```

# java - 如何从命令提示符编译 Servlet？

> ID：14378187
> 
> 赞同：4
> 
> 时间：2013-01-17T11:35:58.773
> 
> 标签：java, servlets, command-prompt

> **可能重复：**
> [尝试从命令行构建，并生成 WAR 文件](https://stackoverflow.com/questions/7928654/trying-to-build-from-the-command-line-and-produce-a-war-file)

这是一个简单的 HelloWorld Servlet。我使用的是 Windows 7 并安装了 JDK 1.7.0 和 Apache Tomcat 7.0.14。

我不知道把文件放在哪里。

我不想使用 IDE，因为我想了解事情的实际工作方式。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-17T11:40:53.980

我认为这是一个好主意，我希望更多的人这样做。

只要您的源代码文件位于正确的包目录结构中，这并不重要。如果您需要更多详细信息，请参阅[此包教程。](http://docs.oracle.com/javase/tutorial/java/package/index.html)

编译时，您将需要类路径中的 Servlet API jar，例如，如果您位于源代码树的顶部：

```
javac -cp path/to/servlet-api.jar;. path\to\File.java 
```

你最终会得到你的文件与`.class`你的源文件在同一个目录中，但现在这很好。如果您的路径或类路径有问题，请参阅[此类路径教程。](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html)

有很多地方可以获取 Servlet API jar 文件，例如在 Tomcat lib 目录中。

完成后，您要么需要创建 WAR 文件，要么单独部署应用程序的组件。WAR 文件和 Web 应用程序遵循特定的目录布局，[在此处记录](http://docs.oracle.com/cd/E19316-01/820-3748/aduvz/index.html)。

简而言之：

```
. (Project root)
├── WEB-INF
│   ├── classes (Your compiled classes, in project directory hierarchy)
│   │   ├── HelloWorldExample.class
│   │   ├── HelloWorldExample.java
│   │   └── LocalStrings.properties
│   ├── jsp (JSPs used as forward targets; not directory accessible to clients)
│   ├── lib (Third-party libraries, including your own)
│   │   ├── jstl.jar
│   │   └── standard.jar
│   ├── tags
│   │   └── helloWorld.tag
│   └── web.xml (Web app configruation file)
└── index.jsp (JSPs directly accessible from clients) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T11:44:24.690

一些步骤。

```
C:\>set CATALINA_HOME=\rene\Tomcat_7.0.14

C:\web-app\src>javac -classpath %CATALINA_HOME%\common\lib\servlet-api.jar WebTest.java 
```

WebTest.java 是你的 servlet

在这里你可以找到一个很棒的教程

[创建 Java Web 应用程序](http://www.adp-gmbh.ch/blog/2004/october/13.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:42:31.447

用于编译 servlet

```
javac -classpath C:\apache-tomcat-7.0.13\lib\servlet-api.jar HelloWorldServlet.java 
```

# openssl - 如何判断 SSL 连接何时无法取得更多进展

> ID：14378189
> 
> 赞同：2
> 
> 时间：2013-01-17T11:36:00.310
> 
> 标签：openssl, nonblocking

这里

[http://marc.info/?l=openssl-users&m=124386218929227](http://marc.info/?l=openssl-users&m=124386218929227)

它指出

“...这就是为什么理解任何端口上任何可能的转发进度（以及返回 WANT_READ 的写入操作可能已经取得转发进度！）要求您重试所有端口上的所有挂起操作非常重要的原因...... "

那么我是否正确理解`SSL_read()`返回的`WANT_READ`可能已经取得了进展（即使它没有返回任何数据）？

我有一个事件驱动的单线程应用程序，它有 3 个非阻塞 ssl 套接字。当每个套接字完成其连接时，我会读取套接字，直到我得到一个`WANT_READ`. 我的理解是，`WANT_READ`我现在可以调用`select()`并等待套接字准备好再次读取的一种方法。

返回时`select()`，循环通过 3 个套接字调用`ssl_read()`它们中的每一个。

说对 Socket 1 的读取返回`WANT_READ`并且没有数据。套接字 2 是否有可能返回一些数据，`WANT_READ`在没有更多内容可读取时返回，并且现在已经取得了一些进展，因此套接字 1 上的读取现在可以返回数据？但是由于循环已经完成了对套接字 1 的读取，所以它不会发生。

由于循环已通过 3 个套接字，它在那里等待并挂起。这种情况会发生吗？

如果是这种情况，我如何查看是否在所有 3 个插槽上都无法取得更多进展？例如，假设循环贯穿；

*   套接字 1 返回`WANT_READ`。
*   然后套接字 2 返回一些数据`WANT_READ`（并取得进展，使套接字 1 现在可以返回数据）
*   套接字 3 返回`WANT_READ`。

但是根据上面的引用（任何向前的进展都需要重试所有挂起的操作），我应该再次重试所有套接字；所以第二次通过循环；

*   socket 1 现在返回数据，然后`WANT_READ`
*   套接字 2 返回`WANT_READ`
*   套接字 3 现在返回数据（因为套接字 1 上的读取取得了足够的进展，使套接字 3 返回数据），然后`WANT_READ`.

但是，如果套接字 3 上的最后一次读取取得了进展，那么套接字 2 现在再次返回数据怎么办？所以我的问题是（如果我的理解是正确的），我怎么知道是否无法取得更多进展？

**编辑1：**

所以我看到的是这样的：

我的循环贯穿连接到 client1 的所有套接字（例如，有 2 个套接字）

*   套接字 1：`ssl_read()`返回 WANT_READ
*   socket 2：`ssl_read()`返回数据，`ssl_read()`再次返回数据，`ssl_read()`最后返回 WANT_READ

然后，由于所有套接字都返回 WANT_READ，我等待`select()`。但是我的应用程序仍在等待客户端*已经发送*的数据。如果我让客户端启动另一个连接（同时保持原件处于活动状态），则选择返回，这就是我所看到的：

*   socket 1：`ssl_read()`返回数据，然后`ssl_read()`再次返回 WANT_READ
*   套接字 2：`ssl_read()`返回 WANT_READ
*   socket 3(new)：`ssl_read()`返回数据，然后返回 WANT_READ。

因此 select 检测到新连接并运行我的循环，该循环遍历所有活动连接。这一次，除了套接字 3 上的新数据之外，它还从上次的套接字 1 中找到数据。所以我的理论是 select() 不会第一次返回，因为我在套接字上等待接收的数据1 已经到了，准备好等待我调用 ssl_read()。但上次我调用 ssl_read 时，我得到了 WANT_READ。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T05:40:19.220

返回负值时`SSL_read()`，应从`SSL_get_error()`. 如果错误代码是**SSL_ERROR_WANT_READ**这意味着您应该等待（例如使用`select()`or `poll`）该套接字可读（直到一些数据从网络到达）。发生这种情况时，您应该再次**在该套接字上**重试 SSL_read() 。**您不必**重试`SSL_read()`您拥有的所有 SSL 套接字，只需在那些返回**SSL_ERROR_WANT_READ**的套接字上重试。`SSL_write()`你应该用（当它返回时）做类似的事情`SSL_ERROR_WANT_WRITE`。

但是要小心，`SSL_read()`可能会返回（`SSL_get_error()`即）`SSL_ERROR_WANT_WRITE`并且`SSL_write()`可以返回`SSL_ERROR_WANT_READ`。它可能会发生，因为 SSL 需要发送/接收除了您的数据之外的一些附加消息（例如，为了发送您的数据，它需要先发送一些消息并接收响应）。

总结一下：

1.  返回时`n = SSL_read()`：

    a) `n > 0`--> 你刚刚收到`n`数据字节

    b) `n < 0`-->`err = SSL_get_error()`返回

    *   SSL_ERROR_WANT_READ -->`select()`直到套接字可读并`SSL_read()`再次调用
    *   SSL_ERROR_WANT_WRITE -->`select()`直到套接字可写并`SSL_read()`再次调用

    c) `n = 0`--> `if(SSL_get_shutdown(SSL*) & SSL_RECEIVED_SHUTDOWN)`: 对方做了干净的关机，否则关机不干净，但是 SSL 连接关闭了你可以关闭套接字（SSL* 对象也是）

2.  返回时`n = SSL_write()`：

    a) `n > 0`--> 你刚刚发送`n`了数据字节

    b) `n < 0`-->`err = SSL_get_error()`返回

    *   SSL_ERROR_WANT_READ -->`select()`直到套接字可读并`SSL_write()`再次调用
    *   SSL_ERROR_WANT_WRITE -->`select()`直到套接字可写并`SSL_write`再次调用

    c) `n = 0`--> `if((err = SSL_get_error(SSL*,err)) == SSL_ERROR_ZERO_RETURN)`: 对方做了干净的关机，否则关机不干净，但是 SSL 连接关闭了你可以关闭套接字（SSL* 对象也是）

我希望这会有所帮助。

# c++ - 在openssl中为pkcs7选择摘要和加密算法

> ID：14378190
> 
> 赞同：1
> 
> 时间：2013-01-17T11:36:11.403
> 
> 标签：c++, cryptography, openssl, digital-signature, pkcs#7

我正在尝试使用 OpenSSL（版本 1.0.1）实现数字签名（PKCS7）功能。

我对此比较了解。

使用 API：***PKCS7_sign***和***PKCS7_verify***，我不知道如何为签名设置特定的摘要和/或加密算法。

*PKCS7_sign*依次调用***PKCS7_sign_add_signer***，其代表摘要标识符的第 4 个参数已被硬编码为 NULL。这意味着将使用默认的摘要算法。

所以我的问题是：

1）默认使用的摘要和加密算法是什么？

2）有没有办法设置这些默认值？怎么可能呢？

3）假设我签署了一些数据并将其发送给另一方。它如何知道签名中使用的默认算法？[已回答]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T21:34:37.533

根据[OpenSSL 文档](http://www.openssl.org/docs/crypto/PKCS7_sign.html)，默认摘要算法为 SHA-1 。

用于签名的“默认”算法取决于您为`signkey`参数传递的 x509 证书中存在的密钥类型。一般来说，这将是一个 RSA 密钥，但它也可以是一个 DSA 密钥。

# c++ - 如何使用 C++ 复制目录

> ID：14378192
> 
> 赞同：7
> 
> 时间：2013-01-17T11:36:15.527
> 
> 标签：c++, windows, file, directory, copy

我使用 c++ 制作了一个备份程序，但它使用 System() 命令批量复制文件。

我正在寻找一种复制整个目录的方法（这不需要创建任何目录，只需复制它们）。或者，复制目录中的所有内容。

例如，我想复制`C:\Users\ to E:\Backup\ Or C:\Users\* to E:\Backup\`.

如果可能的话，您能否在答案中包含一个示例。

非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2018-02-19T14:29:11.527

截至今天，C++17[`<filesystem>`](http://en.cppreference.com/w/cpp/header/filesystem)是正确的解决方案。

```
#include <filesystem>

int main()
{
    std::filesystem::copy("C:/Users/", "E:/Backup/");
} 
```

斜杠 ( `/`) 被解释为目录分隔符，这比双反斜杠 ( `\\`) 更容易阅读。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-17T14:09:09.370

1) include .h files:

```
#include <csystem> 
```

2) write cmd:

```
system("copy c:\users\ e:\Backup\"); 
```

Tips: You can write everything in " " , just like you copy directorys in cmd.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-17T11:40:53.703

使用 System 的方法不会独立于平台。我强烈建议对此类任务使用[boost::filesystem](http://www.boost.org/doc/libs/1_52_0/libs/filesystem/doc/index.htm)。

# ios - 选择另一个表格行时如何将自定义图标删除到 UITableViewCellAccessoryCheckmark

> ID：14378196
> 
> 赞同：1
> 
> 时间：2013-01-17T11:36:33.780
> 
> 标签：ios, objective-c, uitableview

我正在使用以下代码向 UITableViewCellAccessoryCheckmark 添加自定义图标。问题是当触摸/选择另一行时，单元格复选标记不会取消选择

这是我的代码：

```
 - (void)tableView:(UITableView *)aTableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

    int index = indexPath.row; id obj = [listOfItems objectAtIndex:index];

    //This toggles the checkmark
    UITableViewCell *cell = [self.tableView cellForRowAtIndexPath:indexPath];

    if (cell.accessoryType == UITableViewCellAccessoryNone)
    {
        cell.accessoryType = UITableViewCellAccessoryCheckmark;

        UIImage *image = [UIImage imageNamed:@"icon-tick.png"];

        UIButton *downloadButton = [UIButton buttonWithType:UIButtonTypeCustom];

        [downloadButton setImage:image forState:UIControlStateNormal];
        [downloadButton setFrame:CGRectMake(0, 0, 19, 19)];
        [downloadButton setBackgroundColor:[UIColor clearColor]];
        [self.tableView cellForRowAtIndexPath:indexPath].accessoryView = downloadButton;

        //This sets the array

    } else
    {
        cell.accessoryType = UITableViewCellAccessoryNone;

        UIButton *downloadButton = [UIButton buttonWithType:UIButtonTypeCustom];
        [downloadButton setTitle:@"" forState:UIControlStateNormal];
        [downloadButton setFrame:CGRectMake(0, 0, 0, 0)];
        [self.tableView cellForRowAtIndexPath:indexPath].accessoryView = downloadButton;

    }

    NSMutableData *data = [NSMutableData data];
    NSKeyedArchiver *archiver = [[NSKeyedArchiver alloc] initForWritingWithMutableData:data];
    // Customize archiver here
    [archiver encodeObject:obj forKey:@"keyForYourArrayOfNSIndexPathObjects"];
    [archiver finishEncoding];
    [[NSUserDefaults standardUserDefaults] setObject:data forKey:@"keyForYourArrayOfNSIndexPathObjects"];

    NSKeyedUnarchiver *unarchiver;
    unarchiver = [[NSKeyedUnarchiver alloc] initForReadingWithData:
                  [[NSUserDefaults standardUserDefaults] objectForKey:@"keyForYourArrayOfNSIndexPathObjects"]];
    // Customize unarchiver here
    countryItemSelected = [unarchiver decodeObjectForKey:@"keyForYourArrayOfNSIndexPathObjects"];
    [unarchiver finishDecoding];

    NSLog(@"list of items %@", countryItemSelected);

    // Navigation logic may go here. Create and push another view controller.

     CitiesViewController *detailViewController = [[CitiesViewController alloc] init];
     // ...
     // Pass the selected object to the new view controller.
     [self.navigationController pushViewController:detailViewController animated:YES];

} 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:40:57.153

“复选标记没有取消选择”到底是什么意思？无论如何：当取消选择单元格时，您可以使用委托方法`tableView:didDeselectRowAtIndexPath:`并将附件更改为不同的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:07:19.687

试试下面的代码

```
int rowNumber = [tableCategory numberOfRowsInSection:0];

for (int indexRow = 0 ; indexRow < rowNumber; indexRow++)
{
    NSIndexPath *indexPath = [NSIndexPath indexPathForRow:indexRow inSection:0];

    UITableViewCell *cell = [tableCategory cellForRowAtIndexPath:indexPath];

    if (indexPath.row == <required indexpath row>)
    {
        //do what you want with cell
    }
    else
    {
        //do what you want with cell
    }
} 
```

希望它可以帮助你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-16T01:56:12.730

我刚刚做对了，希望这对你们有帮助！

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{

for(int i=0; i<[tableView numberOfRowsInSection:0]; i++){
    NSIndexPath *index = [NSIndexPath indexPathForRow:i inSection:0];
    UITableViewCell *cell = [tableView cellForRowAtIndexPath:index];

    if(index.row == indexPath.row){
        NSLog(@"select");
    }else{
        NSLog(@"not select");
    } 
} 
```

}

# javascript - 如何在网站上制作自定义光标？

> ID：14378200
> 
> 赞同：4
> 
> 时间：2013-01-17T11:36:45.137
> 
> 标签：javascript, html, css

> **可能重复：**
> [CSS 光标自定义](https://stackoverflow.com/questions/1144836/css-cursor-customization)

我想要在我的网站上**更改光标**的代码，因为它在下面的链接中给出。

[在这里演示](http://www.freelancerseoconsultant.com/2013/01/facebook-introducing-new-graph-search.html)

我也想知道怎么做。请为此目的提供一个小代码。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-17T11:37:58.670

您可以通过以下方式使用自定义图像：

```
body, html {
    cursor: url(cursor.gif), pointer;
} 
```

其中`url`有一个指向光标图像的路径。

cursor 属性可能包含允许选项的逗号分隔值：`cursor: url(cursor.gif), url(cursor1.gif), pointer;`.

[这里](http://jsfiddle.net/q94EV/)有一个例子。

**注意**：如果无法提供 URL 定义的游标，请始终指定至少一个通用游标。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T11:48:19.903

在 CSS 文件中，您必须在 body 标记上添加一个属性，如下所示：

```
 body{
        cursor: anything like(pointer,default etc.)
    } 
```

如果您想要与您在站点中提供的完全相同的光标，请执行以下操作：

```
 cursor: url("http://safir85.ucoz.com/24work-blogspot/mouse-cursor/COOL_BLUE_OUTER_GLOW_POINTER-www.24work.blogspot.c.cur"), progress; 
```

认为它会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:40:55.403

为此有一个 css 属性：`cursor`. 请参阅[本示例](http://www.w3schools.com/cssref/playit.asp?filename=playcss_cursor&preval=url%28smiley.gif%29,url%28myBall.cur%29,auto)中的实际操作。

# c# - 确保对字典中的值的列表进行线程安全操作

> ID：14378202
> 
> 赞同：3
> 
> 时间：2013-01-17T11:36:49.373
> 
> 标签：c#, multithreading, thread-safety, locking

我有一个`Dictionary<object1, List<object2>`（我为我的结构做的抽象，它有点复杂）。

字典中的列表在非并行上下文中初始化，但是向列表中添加新元素需要线程安全的方法。不会删除项目（字典对象将在事务结束时处理）。此外，键值对仅在初始化时添加，因此在工作期间不会从字典中添加或删除键，仅更新值。

我不能使用并发集合，我被困在一个旧的 .NET 框架中。

起初我用`ReadWriteSlimlock`. 好吧，这是非常糟糕的表现。有许多添加操作发生，他们只是等待另一个。仅锁定每个列表是一个更好的解决方案，因为至少我正在为每个键并行做一些事情。另外，加法操作并不简单`list.Add(object2)`，加法时还需要在线程安全区进行一些其他复杂的操作。

但我不知道实现它的最佳方法是什么：

1.  `lock(dictionary.Value)`?
2.  使用字典`ReadWriteSlimlock`（每个键一个）？
3.  还有其他更好的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:49:45.737

另一种解决方案可能是实现你的并发`List<object>`类。就像是：

```
public class ConcurentList {
    private object sync = new object(); 
    private List<object> realList = new List<object>(); 

    public void Add(object o) {
        lock(sync){
           realList.Add(o);
        }
    }   

    /** ADD OTHERE METHODS IMPEMENTATION IF NEED **/

} 
```

在字典中有：

```
Dictionary<object1, ConcurentList> 
```

为什么*封装*而不是扩展`List<object>`，是因为`Add`方法不是虚拟的，所以你可以“覆盖”它的唯一方法是使用关键字，它保证*只有*在*完全相同的类型*`new`上使用时才会被调用，这意味着如果你转换列表到基地，它不会被调用，所以洞架构会失败。

 **通过封装，你只给调用者一个方法，你可以控制一切。

不知道这个解决方案是否符合您的需求，但希望它能给您一些关于如何管理东西的提示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:42:47.210

为什么不编写自己的和的并发线程安全变`Dictionary<>`体`List<>`？这就是我为 .NET 2 所做的。

我个人选择了，`ReaderWriterLockSlim`因为它允许您根据访问模式控制锁定，并且在大多数情况下，我的列表是从被写入的更多内容中读取的。

但是，您正在添加大量内容，因此您可能希望同时尝试 (`lock`和`ReaderWriterLockSlim`) 并查看哪个性能更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T11:49:01.893

如果从列表中读取与写入同时发生，`ReaderWriterLockSlim`则为每个字典条目构造一个对象将是一个最佳解决方案，因为多个读取器将能够在同一个列表上同时进行。它只比使用 稍微难一点`lock(key)`，并且在少数列表比其他列表更频繁地读取的情况下，它具有提高性能的潜力。

如果你走这`ReaderWriterLockSlim`条路，最好将列表和锁包装在一个类中，而不是为读写器锁创建一个单独的字典：

```
class LockableList {
    public ReaderWriterLockSlim RwLock {get;private set;}
    public List<object2> Data {get;private set;}
    public LockableList() {
        RwLock = new ReaderWriterLockSlim();
        Data = new List<object2>();
    }
}
...
Dictionary<object1,LockableList> myDictionary; 
```

将列表和外观结合起来可以让您查找字典条目一次，根据需要锁定它以供读取或写入，并使用关联的列表进行工作。**

# android - Android、Eclipse 和 CM10.1 配置文件管理器

> ID：14378206
> 
> 赞同：0
> 
> 时间：2013-01-17T11:37:00.857
> 
> 标签：android, eclipse, cyanogenmod

我想从我的应用程序中切换 cm 配置文件管理器配置文件。

我发现我需要从 ProfileManager 获取服务，所以在挖掘 cm10 来源后，我想

```
import android.app.IProfileManager;
import android.app.ProfileManager; 
```

会做这笔交易，但我必须如何在 Eclipse 中导入它？

我必须下载并包含完整的 cm10 源吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-11-16T03:07:14.210

以防万一有人仍在试图找到控制 CM 配置文件的方法：

CM 介绍了它的平台 SDK，它允许您这样做。 [https://github.com/CyanogenMod/cm_platform_sdk/wiki](https://github.com/CyanogenMod/cm_platform_sdk/wiki)

它也在 Maven 中央

```
dependencies {
    compile 'org.cyanogenmod:platform.sdk:4.+'
} 
```

# java - JFace 查看器钢焦点的自定义工具提示

> ID：14378216
> 
> 赞同：2
> 
> 时间：2013-01-17T11:37:34.853
> 
> 标签：java, tooltip, jface

JFace 中的另一个错误？我使用标准机制实现了一个自定义工具提示：`CellLabelProvider`实现方法`getToolTipText()`。

一切*似乎*都很好，但事实并非如此。

我有一个视图和一个编辑器，它们都显示带有这些自定义工具提示的表格。如果您已聚焦编辑器并将鼠标悬停在其单元格上，您会看到其工具提示。正确的。如果您将鼠标悬停在视图的表格单元格上，您会看到它们的工具提示。正确的。

但是：如果您碰巧将鼠标移到顶部提示**中**并再次移出，焦点将从编辑器转移到视图（反之亦然）！

我不明白这是怎么回事。这确实很让人分心。

有人见过这个吗？如果没有，请尝试一下！

要重现，请使用取自[JFaceSnippets 3.11](http://git.eclipse.org/c/platform/eclipse.platform.ui.git/tree/examples/org.eclipse.jface.snippets/Eclipse%20JFace%20Snippets/org/eclipse/jface/snippets/viewers/Snippet011CustomTooltips.java)的这段代码：

```
package org.eclipse.jface.snippets.viewers;

import org.eclipse.jface.viewers.CellLabelProvider;
import org.eclipse.jface.viewers.ColumnViewerToolTipSupport;
import org.eclipse.jface.viewers.IStructuredContentProvider;
import org.eclipse.jface.viewers.TableViewer;
import org.eclipse.jface.viewers.TableViewerColumn;
import org.eclipse.jface.viewers.Viewer;
import org.eclipse.jface.viewers.ViewerCell;
import org.eclipse.jface.window.ToolTip;
import org.eclipse.swt.SWT;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Text;

/**
 * Explore New API: JFace custom tooltips drawing.
 * 
 * @author Tom Schindl <tom.schindl@bestsolution.at>
 * @since 3.3
 */
public class Snippet011CustomTooltips {
    private static class MyContentProvider implements IStructuredContentProvider {
        @Override
        public Object[] getElements( final Object inputElement ) {
            return new String[] { "one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten" };
        }

        @Override
        public void dispose() {
        }

        @Override
        public void inputChanged( final Viewer viewer, final Object oldInput, final Object newInput ) {
        }
    }

    /**
     * @param args
     */
    public static void main( final String[] args ) {
        final Display display = new Display();
        final Shell shell = new Shell( display );
        shell.setLayout( new FillLayout( SWT.VERTICAL ) );

        final Text t = new Text( shell, SWT.MULTI );
        t.setText( "1) Make sure focus is somewhere here. See the blinking caret!\n"
                + "2) Now get a tooltip displayed in the table by hovering there with the mouse cursor\n"
                + "3a) If you move the cursor INSIDE the tooltip just shortly and out again, the input focus will be stolen from this text field\n"
                + "3b) If you DO NOT move the cursor INSIDE the tooltip, input focus will remain with the text edit field\n\n"
                + "=> to me, this is a bug!" );

        final TableViewer v = new TableViewer( shell, SWT.FULL_SELECTION );
        v.getTable().setLinesVisible( true );
        v.getTable().setHeaderVisible( true );
        v.setContentProvider( new MyContentProvider() );
        ColumnViewerToolTipSupport.enableFor( v, ToolTip.NO_RECREATE );

        final CellLabelProvider labelProvider = new CellLabelProvider() {
            @Override
            public String getToolTipText( final Object element ) {
                return "Tooltip (" + element + ") - if you move HERE, the table will grab input focus!";
            }

            @Override
            public void update( final ViewerCell cell ) {
                cell.setText( cell.getElement().toString() );
            }
        };

        final TableViewerColumn column = new TableViewerColumn( v, SWT.NONE );
        column.setLabelProvider( labelProvider );
        column.getColumn().setText( "Table" );
        column.getColumn().setWidth( 100 );

        v.setInput( "" );

        shell.setSize( 800, 400 );
        shell.open();

        while( !shell.isDisposed() ) {
            if( !display.readAndDispatch() ) {
                display.sleep();
            }
        }

        display.dispose();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T15:01:11.310

我同意你的观点，这种行为很奇怪，我也称它为错误。仅仅因为工具提示标签已被处理而将焦点移至基础表没有任何明显意义。

问题是由以下`ColumnViewerToolTipSupport.afterHideToolTip()`方法引起的：

```
protected void afterHideToolTip(Event event) {
    super.afterHideToolTip(event);

    // Clear the restored value else this could be a source of a leak
    setData(VIEWER_CELL_KEY, null);
    if (event != null && event.widget != viewer.getControl()) {
        viewer.getControl().setFocus();
    }
} 
```

如果您没有将鼠标移到工具提示中，而只是从您悬停的单元格上移开，则传递给的事件`afterHideToolTip()`为空，并且`setFocus()`不会进行调用。

如果您将鼠标移入工具提示，然后离开，则传递给的事件`afterHideToolTip()`显然是由工具提示的标签本身在它消亡时生成的。

摆弄我们可以使用的几个参数对行为没有影响：`useNativeToolTips()`返回true，传递`RECREATE`而不是`NO_RECREATE`......

您甚至不能 subclass`ColumnViewerToolTipSupport`和 override `afterHideToolTipEvent()`，删除那个神秘`setFocus()`的调用，因为表查看器引用`ColumnViewerToolTipSupport.viewer`具有私有访问权限。

我能看到的唯一行动方案是提交一个错误，看看您是否可以从 JFace 开发人员那里获得一些建议。我很想知道这个`setFocus()`电话背后的想法是什么。

# php - 这个 PHP While 循环脚本有什么问题

> ID：14378217
> 
> 赞同：3
> 
> 时间：2013-01-17T11:37:34.973
> 
> 标签：php, mysql, random, numbers, while-loop

基本上，我创建了一个 SQL 查询以在数据库中插入大约 5000 个随机数`$i`（目前是 10 个只是为了弄清楚）。

我以前尝试只在 MYSQL 中完成，但失败了，不想再浪费时间了。

它随机化一个 10 位数字，并与数组 ( `$codes`) 交叉检查该数字，该数组包含来自数据库中不同表的超过 100,000 个值。它还将新的随机数添加到新数组 ( `$newNumbers`) 中，因此它不会生成相同的新数字，然后将这些数字添加到 INSERT 查询中。它还有一个嵌套`while`循环来创建第二个数字，它也必须是完全唯一的。

希望这是有道理的..无论如何，问题似乎出在嵌套的 while 中，它似乎是无限循环（而不是增加`$i`），但我不知道为什么。

```
$query = "INSERT INTO 'table' ('num_id', `num1`, `num2`) VALUES";

$i = 0;
while ($i <= 10){

    $rand = mt_rand(1000000000, 9999999999);
    if (!in_array($rand, $codes) && !in_array($rand2, $newNumbers) ){
        $newNumbers[] = $rand;

        $second = 0;
        while ($second == 0){
            $rand2 = mt_rand(1000000000, 9999999999);
            if (!in_array($rand2, $codes) && !in_array($rand2, $newNumbers) ){
                $query .= " ('', $rand, $rand2)";
                $newNumbers[] = $rand2;
                $second = 1;

                $i++;
            }else
                $duplicates ++;
        }//end second loop

    }else
        $duplicates ++;
}//while 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:40:43.287

```
$query = "INSERT INTO 'table' ('num_id', `num1`, `num2`) VALUES";

$i = 0;
while ($i <= 10){

    $rand = mt_rand(1000000000, 9999999999);
    if (!in_array($rand, $codes) && !in_array($rand2, $newNumbers) ){
        $newNumbers[] = $rand;

        $second = 0;
        while ($second == 0){
            $rand2 = mt_rand(1000000000, 9999999999);
            if (!in_array($rand2, $codes) && !in_array($rand2, $newNumbers) ){
                $query .= " ('', $rand, $rand2)";//missing quotes
                $newNumbers[] = $rand2;
                $second = 1;

                $i++;
            }else
                $duplicates ++;
        }//end second loop

    }else
        $duplicates ++;
}//while 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:40:50.937

```
$query .= " ('', $rand, $rand2")"; 
```

检查你的报价

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:41:32.897

你的行中有一个无关紧要的`"`角色`$query .= " ('', $rand, $rand2")";`。您应该按如下方式修改代码：

```
$query = "INSERT INTO 'table' ('num_id', `num1`, `num2`) VALUES";

$i = 0;
while ($i <= 10){

    $rand = mt_rand(1000000000, 9999999999);
    if (!in_array($rand, $codes) && !in_array($rand2, $newNumbers) ){
        $newNumbers[] = $rand;

        $second = 0;
        while ($second == 0){
            $rand2 = mt_rand(1000000000, 9999999999);
            if (!in_array($rand2, $codes) && !in_array($rand2, $newNumbers) ){
                $query .= " ('', $rand, $rand2)";
                $newNumbers[] = $rand2;
                $second = 1;

                $i++;
            }else
                $duplicates ++;
        }//end second loop

    }else
        $duplicates ++;
}//while 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T12:13:21.587

所以我似乎在检查第一个 IF 语句`$rand2`中的数组是否不在`$newNumbers`数组中，在第一个循环之后`$i`，每次`$rand2`都会`$newNumbers`出现，因为它不会重新生成，因此是无限循环。

还要感谢大家发现带有额外引号的解析错误，我在 TextWrangler 中纠正了它（顺便说一句，这是史诗般的），但在简化发布查询时出错。

`if (!in_array($rand, $codes) && !in_array($rand2, $newNumbers) ){`

```
$query = "INSERT INTO 'table' ('num_id', `num1`, `num2`) VALUES";

$i = 0;
while ($i <= 10){

    $rand = mt_rand(1000000000, 9999999999);
    if (!in_array($rand, $codes) && !in_array($rand, $newNumbers) ){
        $newNumbers[] = $rand;

        $second = 0;
        while ($second == 0){
            $rand2 = mt_rand(1000000000, 9999999999);
            if (!in_array($rand2, $codes) && !in_array($rand2, $newNumbers) ){
                $query .= " ('', $rand, $rand2)";
                $newNumbers[] = $rand2;
                $second = 1;

                $i++;
            }else
                $duplicates ++;
        }//end second loop

    }else
        $duplicates ++;
}//while 
```

# android - 一个布局中的多个列表视图android

> ID：14378218
> 
> 赞同：5
> 
> 时间：2013-01-17T11:37:37.033
> 
> 标签：android, android-layout, android-listview

我想在一项活动中填充两个列表视图。为此，我在一个布局中放置了两个列表视图。我的问题是两个列表视图都已填充，但只有一个列表视图可见。现在，当我使一个布局不可见时，它将显示另一个列表视图。

我在这里发布我的 xml 文件。我的布局有什么问题吗？请提出解决方案。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    android:paddingTop="10dp"
    android:id="@+id/playlist_lyt"
    >

    <Button 
        android:id="@+id/btnAlbumwise"
        android:text="View Albumwise"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"        
        />

    <RelativeLayout 
        android:id="@+id/layout_songlist"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical"
        android:paddingTop="10dp"
        android:layout_below="@+id/layout_albumlist"  
        >

        <EditText android:id="@+id/inputSearch"
            android:layout_width="fill_parent"
            android:layout_height="33dp"
            android:hint="Search.."
            android:inputType="textVisiblePassword"
            android:cursorVisible="false"
            android:background="@drawable/rounded_edittext" 
            android:layout_marginLeft="5dp"
            android:layout_marginRight="5dp"            
        />

        <ListView
            android:id="@android:id/list"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:divider="#000000"
            android:dividerHeight="4dp"
            android:listSelector="@drawable/list_selector"
            android:layout_below="@+id/inputSearch" 
            android:paddingTop="8dp"/>

    </RelativeLayout>

    <RelativeLayout
        android:id="@+id/layout_albumlist"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical"
        android:paddingTop="10dp"
        android:layout_below="@+id/btnAlbumwise"        
        >

         <ListView  
            android:id="@+id/liist"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:divider="#242424"
            android:dividerHeight="1dp"
            android:listSelector="@drawable/list_selector"
        />
    </RelativeLayout>
</RelativeLayout> 
```

填充列表视图“列表”的代码。播放列表活动.java

```
 Cursor cursor1 = managedQuery(MediaStore.Audio.Albums.EXTERNAL_CONTENT_URI, null,null, null, null);
      if (cursor1 == null) 
      {
          //Query Failed , Handle error.
      }
      else if (!cursor1.moveToFirst()) 
      {
         //No media on the device.
      }
      else
      {   
        //  int albumName = cursor.getColumnIndex(MediaStore.Audio.Albums.ALBUM);
          int id = cursor1.getColumnIndex(MediaStore.Audio.Albums._ID);
          int albumartist = cursor1.getColumnIndex(MediaStore.Audio.Albums.ARTIST);

          for(int i=0;i<cursor1.getCount();i++)
          {
                String Name = cursor1.getString(cursor1.getColumnIndex(MediaStore.Audio.Albums.ALBUM));
                Integer albumid = cursor1.getInt(id);                       
                String artist = cursor1.getString(albumartist);

                Bitmap bitmap = null;
                bitmap = getArtwork(context, albumid);
                    lstImage.add(bitmap);
                    lstName.add(Name);
                    lstArtist.add(artist);

                cursor1.moveToNext();
           }
       }
       cursor1.close();                    

       rowItems = new ArrayList<RowItem>();
        for (int i = 0; i < lstName.size(); i++) {
            RowItem item = new RowItem(lstImage.get(i), lstName.get(i) , lstArtist.get(i));
            rowItems.add(item);
        }          
        CustomListViewAdapter adapter = new CustomListViewAdapter(PlayListActivity.this,
                R.layout.list_item, rowItems);
        lv1.setAdapter(adapter);
        lv1.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // TODO Auto-generated method stub
                RowItem item = rowItems.get(position);
                String title = item.getTitle();
                Intent in = new Intent(PlayListActivity.this,AlbumsongListActivity.class);

                // Sending songIndex to PlayerActivity
                in.putExtra("albumTitle", title);
                in.putExtra("list", 0);
                in.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(in);

            }
        }); 
```

现在，当我单击项目时，它会启动另一个活动 Albumsonglistactivity.java

```
public class AlbumsongListActivity extends ListActivity {
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
String[] from = { "songTitle", "artist" };
        int[] to = { R.id.album_songTitle, R.id.album_songArtist };
        adapter = new SimpleAdapter(this, getAlbumSongList(context),
                R.layout.albumsonglist_item, from, to) 
        {
            public long getItemId(int position) 
            {
                return songsListData.indexOf(getItem(position));
            }
        };

        setListAdapter(adapter);
        ListView lv = getListView();
        lv.setOnItemClickListener(new OnItemClickListener() 
        {
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) 
            {
                // getting listitem index
                int songIndex = (int) id;

                // Starting new intent
                Intent in = new Intent(getApplicationContext(),MusicPlayertemp.class);
                in.putExtra("songIndex", songIndex);
                in.putExtra("albumtitle", albumName);
                in.putExtra("listFlag", 3);
                startActivity(in);              
            }
        });
    }

    public ArrayList<HashMap<String, String>> getAlbumSongList(Context c) 
    {
        String whereClause = MediaStore.Audio.Media.ALBUM + " = ? ";
        String s[] = new String[] { albumName };
        Cursor cursor = c.getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, null, whereClause,s, MediaStore.Audio.Media.TITLE);
        if (cursor == null) 
        {
            // Query Failed , Handle error.
        } 
        else if (!cursor.moveToFirst()) 
        {
            // No media on the device.
        } 
        else 
        {
            int titleColumn = cursor.getColumnIndex(android.provider.MediaStore.Audio.Media.TITLE);
            int idColumn = cursor.getColumnIndexOrThrow(android.provider.MediaStore.Audio.Media.DATA);
            int artistcolumn = cursor.getColumnIndex(android.provider.MediaStore.Audio.Media.ARTIST);
            albumid = cursor.getInt(cursor.getColumnIndex(android.provider.MediaStore.Audio.Media.ALBUM_ID));
            int id = cursor.getColumnIndex(android.provider.MediaStore.Audio.Media._ID);
            for (int i = 0; i < cursor.getCount(); i++) 
            {
                String thisTitle = cursor.getString(titleColumn);
                String path = cursor.getString(idColumn);
                String artist = cursor.getString(artistcolumn);         
                String ID = cursor.getString(id);
                HashMap<String, String> song = new HashMap<String, String>();
                song.put("songTitle", thisTitle);
                song.put("songPath", path);
                song.put("artist", artist);
                song.put("id", ID);
                // Adding each song to SongList
                songsList.add(song);
                cursor.moveToNext();
            }
        }
        // looping through playlist
        for (int i = 0; i < songsList.size(); i++) 
        {
            // creating new HashMap
            HashMap<String, String> song = songsList.get(i);
            // adding HashList to ArrayList
            songsListData.add(song);
        }
        return songsListData;
    } 
```

在专辑歌曲列表活动中，如果我单击它不会调用的项目..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T11:45:56.150

这是问题所在，因为您在第一个布局下方设置了另一个布局，而第一个布局将高度设置为 fill_parent。

您应该使用线性布局并将两个列表视图放在其中并使用 layout_weight 属性使两个列表视图具有相同的高度。

例如，您可以遵循以下层次结构。它不是原始代码，而只是一种可用于开发布局的结构

```
<LinearLayout orientation="verical">
   <ListView layout_weight=1></ListView>   
   <ListView layout_weight=1></ListView>
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T11:46:55.957

添加

```
android:layout_weight = "1" 
```

对两者都`RelativeLayouts`包含`listView`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-17T11:42:45.523

你已经给`android:layout_height="fill_parent"`了两个相对布局。这就是您无法同时显示两个列表视图的原因。

使用线性布局并通过使用权重，您可以划分屏幕以显示两个列表视图

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-17T11:46:57.673

第二个布局是fill_parent，第一个布局在它下面。所以是不可能看到的。

我假设你想要这样的东西

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/playlist_lyt"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical"
    android:paddingTop="10dp" >

    <Button
        android:id="@+id/btnAlbumwise"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="View Albumwise" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical"
        android:paddingTop="10dp"
        android:weightSum="1" >

        <RelativeLayout
            android:id="@+id/layout_albumlist"
            android:layout_width="fill_parent"
            android:layout_height="0dp"
            android:layout_weight="0.5" >

            <ListView
                android:id="@+id/liist"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:divider="#242424"
                android:dividerHeight="1dp"
                android:listSelector="@drawable/list_selector" />
        </RelativeLayout>

        <RelativeLayout
            android:id="@+id/layout_songlist"
            android:layout_width="fill_parent"
            android:layout_height="0dp"
            android:layout_weight="0.5" >

            <EditText
                android:id="@+id/inputSearch"
                android:layout_width="fill_parent"
                android:layout_height="33dp"
                android:layout_marginLeft="5dp"
                android:layout_marginRight="5dp"
                android:background="@drawable/rounded_edittext"
                android:cursorVisible="false"
                android:hint="Search.."
                android:inputType="textVisiblePassword" />

            <ListView
                android:id="@android:id/list"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_below="@+id/inputSearch"
                android:divider="#000000"
                android:dividerHeight="4dp"
                android:listSelector="@drawable/list_selector"
                android:paddingTop="8dp" />
        </RelativeLayout>

    <RelativeLayout>
</RelativeLayout> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-17T11:43:12.347

尝试像这样更新您的代码

```
<RelativeLayout 
    android:id="@+id/layout_songlist"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:paddingTop="10dp"
    android:layout_below="@+id/layout_albumlist"  
    >

    <EditText android:id="@+id/inputSearch"
        android:layout_width="fill_parent"
        android:layout_height="33dp"
        android:hint="Search.."
        android:inputType="textVisiblePassword"
        android:cursorVisible="false"
        android:background="@drawable/rounded_edittext" 
        android:layout_marginLeft="5dp"
        android:layout_marginRight="5dp"            
    />

    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:divider="#000000"
        android:dividerHeight="4dp"
        android:listSelector="@drawable/list_selector"
        android:layout_below="@+id/inputSearch" 
        android:paddingTop="8dp"/>

</RelativeLayout>

<RelativeLayout
    android:id="@+id/layout_albumlist"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:paddingTop="10dp"
    android:layout_below="@+id/btnAlbumwise"        
    >

     <ListView  
        android:id="@+id/liist"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:divider="#242424"
        android:dividerHeight="1dp"
        android:listSelector="@drawable/list_selector"
    />
</RelativeLayout> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-10-17T15:22:03.207

最好的解决方案是创建一个自定义 ScrollView 并用它替换`<ScrollView>`< `in.parx.VerticalScrollView`>

对 VerticalScrollView.java 使用以下内容

```
import android.content.Context;
import android.util.AttributeSet;
import android.util.Log;
import android.view.MotionEvent;
import android.widget.ScrollView;

public class VerticalScrollView extends ScrollView{

    public VerticalScrollView(Context context) {
        super(context);
    }

    public VerticalScrollView(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public VerticalScrollView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    @Override
    public boolean onInterceptTouchEvent(MotionEvent ev) {
        final int action = ev.getAction();
        switch (action)
        {
            case MotionEvent.ACTION_DOWN:
                Log.i("VerticalScrollview", "onInterceptTouchEvent: DOWN super false" );
                super.onTouchEvent(ev);
                break;

            case MotionEvent.ACTION_MOVE:
                return false; // redirect MotionEvents to ourself

            case MotionEvent.ACTION_CANCEL:
                Log.i("VerticalScrollview", "onInterceptTouchEvent: CANCEL super false" );
                super.onTouchEvent(ev);
                break;

            case MotionEvent.ACTION_UP:
                Log.i("VerticalScrollview", "onInterceptTouchEvent: UP super false" );
                return false;

            default: Log.i("VerticalScrollview", "onInterceptTouchEvent: " + action ); break;
        }

        return false;
    }

    @Override
    public boolean onTouchEvent(MotionEvent ev) {
        super.onTouchEvent(ev);
        Log.i("VerticalScrollview", "onTouchEvent. action: " +ev.getAction());
        return true;
    }
} 
```

# php - MySQL 使用连接和匹配进行搜索

> ID：14378223
> 
> 赞同：0
> 
> 时间：2013-01-17T11:37:59.653
> 
> 标签：php, mysql, join, match, against

我有一张包含瑞典公司信息 (tblforetag) 的表格，一张包含省份 (tbllan) 的表格和一张包含城市 (tblstad) 的表格。城市通过 ID 号链接到省份，并且公司表有一个城市名称 (varchar) 列。

如何搜索一个省的所有公司？

我摆弄了连接，但没有让它工作。我现在有这个代码，但它只会搜索公司名称和城市（在公司表中）：

```
$sql = "
    SELECT *, 
    MATCH(tblforetag.foretag) AGAINST(:keywords) AS kr
    FROM tblforetag
    WHERE MATCH(tblforetag.foretag) AGAINST(:keywords)
    ";
$sql .= $locisset ? "AND tblforetag.stad LIKE :location" : "";
$sql .= " LIMIT $offset, $rpp"; 
$query = $conn->Prepare($sql);
$query->BindValue(':keywords', $keywords);
if($locisset) $query->BindValue(':location', "%$location%");
$query->Execute(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:46:27.687

我不知道你的表结构，但这些方面的东西应该可以解决问题：

```
SELECT FROM companies 
LEFT JOIN cities ON (companies.city_id = cities.id)
LEFT JOIN regions ON (cities.region_id = regions.id)
WHERE region.name = 'your region' 
```

这将为您提供该特定地区的公司。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:26:14.083

我认为将公司表中的 city_name 列改为 city_id 会更好。

```
SELECT a.*, p.provincename
FROM   companies a, cities c, provinces p
WHERE a.city_name = c.city_name
AND      c.city_id = p.city_id
AND      p.province_id = 5 // give your province id here 
```

# javascript - iframe 中的 document.activeElement 在 IE 标准模式下显示未指定的错误

> ID：14378224
> 
> 赞同：6
> 
> 时间：2013-01-17T11:38:00.150
> 
> 标签：javascript, internet-explorer

```
console.log(document.activeElement); 
```

此代码位于 iframe 中，当打开包含此 iframe 的页面时，在 IE 8/9 标准模式下显示“SCRIPT16389：未指定错误”。在怪癖模式下打开时没有问题。我对此一无所知，我已经搜索过IE是否支持document.activeElement，它指定为> IE4是支持的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-21T13:21:27.667

如果对您有帮助，请检查以下给出的链接..
`[Link](http://www.telerik.com/community/forums/aspnet-ajax/window/window-radopen-gives-document-activeelement-unspecified-error.aspx)`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-04T02:57:21.607

如果您有 jquery，请尝试以下解决方法：

```
<script>
         jQuery(function () { document.documentElement.focus(); });
    </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-07T08:58:14.407

尝试添加标题

```
X-Frame-Options: SAMEORIGIN 
```

为我工作，无需更改我的 javascript 代码。

# java - Java分数映射到sql server

> ID：14378225
> 
> 赞同：1
> 
> 时间：2013-01-17T11:38:08.973
> 
> 标签：java, sql-server

我正在使用 apache 的 BigFraction 类，它基本上使用 BigInteger 作为分子和分母。现在我需要将这些值存储在数据库中，并且由于数据的性质，我需要确保它们尽可能准确。

我将 sql 服务器设置为具有分子和分母的列，它们设置为类型 numeric(35, 0)。

现在我遇到的问题是，一旦我的计算超过了这个值，我最终会遇到数据截断的例外情况。

关于在 sql server 中使用的类型并确保相当大的精度有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:00:30.760

问题是 numeric 是 Sql Server [MSDN 中关于数据类型](http://msdn.microsoft.com/en-us/library/ms187752.aspx)的最大数字类型，正如您发现的那样，您需要预先定义小数点后有多少个数字。

因此，您必须将 BigNumbers 存储为字符串 - varchar(4000) 以保留所有有效数字，并注意它需要超过 3999，然后您将不得不拆分几列，您也可以直接将二进制存储在`varbinary`列中，但是您将无法轻松查看数据库中存储的内容。如果您的数字在分子和分母中的有效数字总是少于 35 个，您可以保存在两个数字字段中。

# iframe - 如果源是外部服务器网页，我想通过 javascript 自动填充 iframe 表单字段

> ID：14378228
> 
> 赞同：1
> 
> 时间：2013-01-17T11:38:17.890
> 
> 标签：iframe, text, custom-fields

如果源是外部服务器网页，我想通过 javascript 自动填充 iframe 表单字段。

请帮助我

# android - 在进行 HTTP 请求之前检查移动数据连接/信号

> ID：14378229
> 
> 赞同：1
> 
> 时间：2013-01-17T11:38:24.503
> 
> 标签：android, geolocation, gps, gsm

在我的 Android 应用程序中，我首先使用 GPS、GSM 网络或通过设置屏幕手动输入的文本值来获取用户位置。

起初我使用 Geocoder 类来获取 GPS 或 GS​​M 提供的经纬度的用户区域设置，但它似乎不可靠，现在我使用 Google 的 Web API 通过发出 HTTP 请求并解析返回的 XML 文档来获取区域设置。这是使用以下 URL：

> [http://maps.googleapis.com/maps/api/geocode/xmllatlng=blahblahlat,blahblahlong&sensor=true](http://maps.googleapis.com/maps/api/geocode/xmllatlng=blahblahlat,blahblahlong&sensor=true)

获取用户区域设置后，我向 free.worldweatheronline.com 的天气 API 发送另一个 HTTP 请求并解析返回的 XML。在稳定的互联网连接下，应用程序运行良好，但我家的信号很垃圾，移动数据连接更差。

我知道有一种简单的方法可以检查设备是否具有移动数据连接，但是我想知道的是，当有连接时出现问题时，是否有一种方法可以测量信号强度，但它也是不好成功运行。例如，如果有一种方法可以获取从 0（无信号）到 100（满信号）的值的移动数据信号强度，那么我只能在信号强度高于一定量时进行位置和天气检索.

最好只用 try/catch 包围位置和天气检索代码，这样它就不会导致运行时异常，让它优雅地失败，然后在获得更好的信号时更新？关于如何实现这一点的任何想法，或任何其他建议以使我的应用程序对信号不佳的用户更友好？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:07:28.873

您可以通过创建 PhoneStateListener 并处理 onSignalStrengthChanged 回调来检查小区服务信号强度。有关更多信息，请查看此问题[如何在 Android 中获取手机服务信号强度？](https://stackoverflow.com/questions/1967136/how-to-get-cell-service-signal-strength-in-android)

**编辑：** 您可以`PhoneStateListener`通过调用 telephony.listen(listener, PhoneStateListener.LISTEN_NONE); 在您不需要更新时不接收更新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:16:12.567

您可以检查它，但请记住在任何情况下处理连接断开。

在我的应用程序中，我在使用打开的连接编写文件或类似的东西时遇到了一些问题，所以请记住，失败可能*总是*会发生（例如从 gprs 切换到 wifi）。

如果您可以轻松检查信号强度，我会两者兼而有之。

看一下[SignalStrength](http://developer.android.com/reference/android/telephony/SignalStrength.html)类（顺便说一句，从未使用过）。[这里](http://www.tested.com/tech/android/557-how-to-measure-cell-signal-strength-on-android-phones/)有一个很好的解释。

# image - 如果源图像宽度/高度小于拇指宽度/高度，则不要创建拇指

> ID：14378235
> 
> 赞同：1
> 
> 时间：2013-01-17T11:38:46.720
> 
> 标签：image, codeigniter, thumbnails

我在想如果源图像宽度/高度小于您设置的拇指宽度/高度，codeigniter 图像类是否具有内置或自动跳过创建拇指。

如果不是，如何处理？

我已经生成了缩略图，但是如果我上传了一个宽度：200 像素高度：200 像素的图像并且我的拇指设置是宽度：400 像素高度：400 像素，拇指仍然会创建并使拇指看起来很糟糕。

已编辑

```
$config['config_here'];
$this->load->library('image_lib', $config);

if($arr['image_width'] <= $config['width'] && $arr['image_height'] <= $config['height'])     {
//I don't want to resize the image BUT I want it to copy to a filename with thumb_marker
//How to do it because I already have the $config['create_thumb'] = TRUE; at above.
}else{
   $this->image_lib->resize();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T14:11:38.950

您可以在调整大小之前检查大小：

```
// get image sizes
list($width, $height) = getimagesize($config['source_image']);

// is wide enough?
if ( intval($width) < 400 ) {
    throw new Exception("Your image's height must be equal or greater than 400px");
}

// is high enough?
if ( intval($height) < 400 ) {
    throw new Exception("Your image's width must be equal or greater than 400px");
}

// now we can resize
$this->image_lib->resize(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T19:38:51.307

您可以在操作前检查图像尺寸试试这个

```
list($width, $height) = getimagesize($pathToImages);
    if($thumbWidth > $width)
    {
        $new_width  = $width;
        $new_height = $height; 
    }
    else
    {
        $new_width = $thumbWidth;
        $new_height = floor( $height * ( $thumbWidth / $width ) );   
    }

    $config = array(
        'image_library' => 'gd2',
        'quality' => '100%',
        'source_image' => $pathToImages,
        'new_image' => $pathToThumbs,
        'maintain_ratio' => true,
        'create_thumb' => false,
        'width' => $new_width,
        'height' => $new_height
    );              
    $ci->image_lib->initialize($config); 
```

# visual-studio-2010 - 使用 VS 2010 更改 Windows 安装程序中的预定义消息

> ID：14378238
> 
> 赞同：0
> 
> 时间：2013-01-17T11:38:55.710
> 
> 标签：visual-studio-2010, windows-installer, customdialog, file-in-use

我看过[这个](https://stackoverflow.com/questions/6775559/hook-on-windows-installer-messages)问题，但它有所不同。

我需要更改[MsiRMFilesInUse](http://msdn.microsoft.com/en-us/library/windows/desktop/aa370379(v=vs.85).aspx)对话框的消息。

当前消息是“不要关闭应用程序。（需要重新启动。）”

我需要将其更改为“不要关闭应用程序。（应用程序可能无法正常工作）”。

该消息在应用程序打开时出现，并且用户尝试卸载该应用程序。

唯一（但很大）的限制是在 Visual Studio 2010 安装项目中进行。（不允许使用 Installshield/Wix）。

我查看了自定义操作，但无法弄清楚如何更改消息。

另一种方法是创建一个自定义对话框，但是我无法以某种方式更改对话框。新对话框也有一组非常有限的控件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T13:37:55.230

每个[MsiRMFilesInUse 对话框 (Windows)](http://msdn.microsoft.com/en-us/library/windows/desktop/aa370379%28v=vs.85%29.aspx)

> MsiRMFilesInUse 对话框可用于显示当前正在运行的文件的进程列表，这些文件需要被安装覆盖或删除。用户可以选择“自动关闭应用程序并重新启动它们”或“不关闭应用程序。（需要重新启动。）”如果用户选择“自动关闭应用程序并重新启动它们”选项，按钮控制可以在此对话框上创建发布 RMShutdownAndRestart 控制事件，并且重新启动管理器可以关闭应用程序并在安装结束时重新启动它们。这可以消除或减少重新启动计算机的需要。有关详细信息，请参阅系统重新启动。

请注意“可以创作”这个词的大量使用。之所以这样写，是因为透视图是 Windows Installer SDK（Windows 平台）。InstallShield (Basic MSI) 和 WiX (UI Extension) 均创建此表。Visual Studio 部署项目不会，因为 Microsoft (DevDiv) 从未努力支持它。你不能修改不存在的东西。

现在，如果您是 Windows Installer 专家（我怀疑您甚至不会发布这个问题），那么您可以做一些事情。您可以编写构建后命令来修改构建的 MSI 以执行 SQL 更新和/或应用转换以在 VS 完成构建后将自定义创建的对话框注入到您的 MSI 中。

我一直在这条路上，我知道该怎么做。我也知道它会适得其反，因为您会发现自己经常这样做以弥补该工具的缺点。至此，您了解为什么需要 WiX / InstallShield 并继续前进。

郑重声明，我曾经辞掉了一份薪水很高的工作，因为 VDPROJ 是所有开发经理都允许的。几年后，当他们终于意识到他们不知道他们在说什么时，我也回来了更多的 $$$$。

祝你好运。

# apache-flex - 阻止 FlashBuilder 构建我的所有资产

> ID：14378241
> 
> 赞同：0
> 
> 时间：2013-01-17T11:38:59.937
> 
> 标签：apache-flex, assets, flash-builder

这里有一件烦人的事情..

我的项目包含大量资产（几 GB）。他们从不改变。至少在我处理主要的 MXML 代码时不会。有没有办法阻止 FlashBuilder 几乎每次我保存或点击调试时都重建（删除，然后复制）我的所有资产？

我需要构建的只是被编辑的主 MXML 文件。

多谢你们！=)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:59:50.810

将不变的资产移动到单独的库文件中。从“项目”“属性”链接回它们。

编辑：库文件可以是编译时链接的或[运行时的](http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7fd1.html)。

详情：
- [Flex 4.7](http://help.adobe.com/en_US/flashbuilder/using/WSe4e4b720da9dedb5-1a92eab212e75b9d8b2-7ffe.html)
- [Flex 3](http://livedocs.adobe.com/flex/3/html/help.html?content=projects_7.html)

# asp.net-mvc - 使用html5与相机交互的移动应用程序？

> ID：14378243
> 
> 赞同：0
> 
> 时间：2013-01-17T11:39:04.757
> 
> 标签：asp.net-mvc, html, cordova, mobile

我想开发一个用相机捕捉图像的移动应用程序，最初我想使用phonegap并尝试为我的visual studio2010下载和安装cordovastarter模板，但是所有的phonegap版本都给我错误......'项目类型这个安装不支持'所以想放弃使用phonegap的想法，所以接下来的事情是，是否可以在没有phonegap帮助的情况下仅使用html5与相机交互？

注意：我使用 mvc3 框架

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:18:39.543

its very much posible to interact with the camera using HTML5 media API, but the support is **not** yet confirmed. Hence, might not work as you'd expect:

HTML part:

```
<video id="video" width="640" height="480" autoplay></video>
<button id="snap">Snap Photo</button>
<canvas id="canvas" width="640" height="480"></canvas> 
```

and the javascript goes like this:

```
// Put event listeners into place
window.addEventListener("DOMContentLoaded", function() {
// Grab elements, create settings, etc.
var canvas = document.getElementById("canvas"),
context = canvas.getContext("2d"),
video = document.getElementById("video"),
videoObj = { "video": true },
errBack = function(error) {
  console.log("Video capture error: ", error.code); 
};

// Put video listeners into place
if(navigator.getUserMedia) { // Standard
navigator.getUserMedia(videoObj, function(stream) {
  video.src = stream;
  video.play();
}, errBack);
} else if(navigator.webkitGetUserMedia) { // WebKit-prefixed
navigator.webkitGetUserMedia(videoObj, function(stream){
  video.src = window.webkitURL.createObjectURL(stream);
  video.play();
}, errBack);
}}, false); 
```

Hope it helps, source [here](http://davidwalsh.name/browser-camera).

# c# - 使用计数器 C# 中断 if else 循环

> ID：14378249
> 
> 赞同：-3
> 
> 时间：2013-01-17T11:39:20.813
> 
> 标签：c#, .net

我有一个如下的逻辑，我有一个计数器

```
if(condition1 == true)
{
           // do something

    if (counter==1)
    { 
        // break and go to last else statement
    }

}

else if (condition2==true)
{ 
    if (counter == 2)
    { 
        // break and go to last else statement
    }

    // do something
}
else
{
    // do this
} 
```

我如何在这个逻辑中使用 break ？我尝试为 else 放置 goto 标签，但显然它无效。我想避免切换，因为逻辑太多。

counter 将在第二个 if else 循环中为 2，如果 counter = 2 then first if and secong if else should execute if counter=3 then first if second if else 第三个 if else 应该执行 ans -</p>

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T11:45:59.387

**注意**：问题已更改，此答案同时不正确！

您可以更改`if/else if`以包含`counter`. 那么你不需要`break`or `goto`：

```
if (condition1 && counter != 1)
{
    // do something
}
else if (condition2 && counter != 2)
{
    // do something
}
else
{
    // do this
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-18T07:14:13.763

使用类似的东西

```
if (condition1 &&  ( counter != 1 || counter != 2 ||          .... counter!= n )
{
// do something
}
else if (condition2 && (counter != 2 || ..            || counter!= n )
{
// do something
}

and so on 
else
{
// do this
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T11:49:44.097

除了`break`语句不会跳出`if`条件之外，您的代码可以以更简单的方式重构（如果只是拼写错误，就假装在第一个之后的右大括号）

```
if(condition1 ==true && counter != 1)
{
    do something
}
else if (condition2==true && counter != 2)
{ 
    do something
}
else
{
    do this 
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-17T11:54:55.113

我怀疑您的算法可以完全重新设计，但没有更多不可能知道的上下文。

同时，您可以将最终的 else 子句重构为单独的方法。您实际上不需要使用`break`（无论如何这在声明中都是无效的`if`），明智地使用`else`.

```
private void MyMethod()
{
    if(condition1)
    {
        // do something

        if (counter==1)
        { 
            MyOtherMethod();
        }        
    }    
    else if (condition2)
    { 
        if (counter == 2)
        { 
            MyOtherMethod();
        }
        else
        {
            // do something
        }
    }
    else
    {
        MyOtherMethod()
    }
}

private void MyOtherMethod()
{
    // Do what was in your final else clause.
} 
```

在您的问题编辑将第一个 if 子句中的“做某事”移动到计数器检查之前，这也可以：

假设您的各种“做某事”陈述是不同的事情：

```
if (condition1 && counter != 1)
{
    // Do something.
}
else if (condition2 && counter != 1)
{
    // Do something.
}
else
{
    // Do something else.
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T11:42:26.437

只需将逻辑放在最后一个 else 块中的单独函数中，您可以随时随地调用该函数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-17T11:47:19.700

**不要**。在如此大的循环中使用`break`and`continue`会增加复杂性并使您的逻辑混乱。

如果循环变得太大，请在循环中使用一个或多个命名良好的函数调用。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-17T11:48:09.920

```
bool myCondition = false;

if(condition1 ==true)
{
    if (counter==1){myCondition = true;}

    // do something
}
else if (condition2==true)
{ 
    if (counter==1){myCondition = true;}

    // do something
}

// so on 

if(myCondition)
{
    // do this 
} 
```

# android - 选项菜单未在android中显示

> ID：14378251
> 
> 赞同：0
> 
> 时间：2013-01-17T11:39:23.587
> 
> 标签：android, menu, android-optionsmenu

我写了一个应用程序。我想在应用程序的登录屏幕上显示设置选项。现在我有一个活动 LoginActivity 如下所示

```
class LoginActivity extends BaseLoginActivity
{   
 showLoginDialog();
/* some code here*/
 @Override
public boolean onCreateOptionsMenu(Menu menu) {
    populateMenu(menu);
    return super.onCreateOptionsMenu(menu);

}

protected void populateMenu(Menu menu) {

    menu.add(Menu.NONE, SETTINGS, Menu.NONE, "Settings").setIcon(
            android.R.drawable.ic_menu_manage);
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case SETTINGS:
            startSettingActiviy();
            return (true);

    }

    return (super.onOptionsItemSelected(item));
}

public void startSettingActiviy() {
    Intent i = new Intent(this, SettingsActivity.class);
    startActivity(i);
}

 /* some code here*/
} 
```

当我按下菜单选项时，我看不到菜单。我试图调试代码，它甚至没有达到 oncreateOptionsMenu 函数。请让我知道这里缺少什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:51:34.903

尝试这个

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
populateMenu(menu);
return true;
} 
```

这也是

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
switch (item.getItemId()) {
    case SETTINGS:
        startSettingActiviy();
        return (true);

}

return true;
} 
```

希望对你有帮助：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:54:13.250

试试这种方式：

> ```
>  @Override
>   public boolean onCreateOptionsMenu(Menu menu) {
>       super.onCreateOptionsMenu(menu);
>       populateMenu(menu);
>       return true;
>       } 
> ```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-12T16:21:27.013

试试`onPrepareOptionsMenu(Menu menu)`吧

此外，最低 SDK 版本可能是原因。如果你把它减少到 13-，你应该会看到菜单再次出现。关于这个主题的好文章：[POST](http://android-developers.blogspot.com/2012/01/say-goodbye-to-menu-button.html "安卓菜单")

# mknetworkkit - MKNetworkKit 如何附加帖子数据

> ID：14378260
> 
> 赞同：0
> 
> 时间：2013-01-17T11:39:43.930
> 
> 标签：mknetworkkit

我目前正在尝试从 ASIHttpRequest 切换到 MKNetworkKit，并且我在发布数据时遇到问题。如何在 MKNetworkKit 中执行以下操作？

ASIHTTPRequest *request = [ASIHTTPRequest requestWithURL:url];

[请求 appendPostData:[[NSString stringWithFormat:@"{\"version\":%@,\"values\":[{\"device\":\"%@\",\"os\":\" ios\",\"version\":\"%@\"}]}", VERSION, [[UIDevice currentDevice] uniqueIdentifier], [[UIDevice currentDevice] systemVersion]] dataUsingEncoding:NSUTF8StringEncoding]];

我只是不确定如何在 MKNetworkKit 中附加帖子数据。我找到了 addData 方法，但这不允许我像上面那样在值 {} 内添加额外数据。

有谁知道怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-29T17:26:21.277

尝试这个：

```
MKNetworkOperation *op = [self operationWithPath:INIT_URL params:body httpMethod:@"POST"    ssl:YES];
[op setPostDataEncoding:MKNKPostDataEncodingTypeJSON];//This is important
[op addCompletionHandler:^(MKNetworkOperation *completedOperation) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-11T09:56:48.493

尽管我对此很陌生，但让我与您分享我在做什么。

首先，我创建引擎（我调用的服务位于何处）。

在我的界面中：

```
@interface INGMainViewController (){
    MKNetworkEngine *engine_;

} 
```

在我的初始化中：

```
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil

  {
        self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
        if (self) {
            engine_= [[MKNetworkEngine alloc] initWithHostName:@"www.xxx.gr"];
            // Custom initialization
        }
        return self;
    } 
```

然后在我将调用服务的函数中：

```
NSDictionary *formParams = [NSDictionary dictionaryWithObjectsAndKeys:
                            theClientCode, @"ClientCode",
                            theContractNumber, @"ContractCode",
                            theAppleID, @"AppleID",
                            @" ", @"AndroidID",
                            @" ", @"WindowsID",
                            uid, @"AppleDeviceID",
                            @" ", @"AndroidDeviceID",
                            @" ", @"WindowsDeviceID",
                            theCellPhone, @"TelephoneNumber"
                            , nil];

    MKNetworkOperation *operation = [self.engine operationWithPath:@"/services/Authentication.ashx"
                                                            params: formParams
                                                        httpMethod:@"POST"];

    [operation addCompletionHandler:
     ^(MKNetworkOperation *operation)
     {
         NSLog(@" Operation succeds: %@", [operation responseString]);
     }
                       errorHandler:^(MKNetworkOperation *errorOperation, NSError *error)
                        {
                           NSLog(@" Errors occured: %@", error);
                        }];
    [self.engine enqueueOperation:operation];
} 
```

……仅此而已。

当然我仍然面临一些问题，但我认为没有来自套件。

我希望我对你有所帮助。

# iphone - UIDocumentInteractionController 导致未知应用标识符 com.apple.mobilemail 失败错误

> ID：14378261
> 
> 赞同：4
> 
> 时间：2013-01-17T11:39:45.753
> 
> 标签：iphone, objective-c

在按下文档交互控制器按钮之一（即复制、打印等）后，我收到以下错误：

```
Launch Services: Registering unknown app identifier com.apple.mobilemail failed
Launch Services: Unable to find app identifier com.apple.mobilemail 
```

这是创建交互控制器的代码 - URL 等都是有效的，但是即使我已经实现了奇怪的委托方法，委托调用也不会击中我的控制器：

```
UIDocumentInteractionController *documentInteractionController = [UIDocumentInteractionController interactionControllerWithURL:fileURL];
documentInteractionController.delegate = self;
[documentInteractionController presentOptionsMenuFromRect:self.view.bounds
                                                                inView:self.view
                                                              animated:YES];

//None of these delegate methods are ever called which is weird:
- (void) documentInteractionController: (UIDocumentInteractionController *) controller
         willBeginSendingToApplication: (NSString *) application
{
    DebugLog(@"skldjfklsdjflksdjflsdk %@", application);
}

- (void) documentInteractionController: (UIDocumentInteractionController *) controller
            didEndSendingToApplication: (NSString *) application
{
    DebugLog(@"skldjfklsdjflksdjflsdk %@", application);    
}

- (void)documentInteractionControllerDidDismissOptionsMenu:(UIDocumentInteractionController *)controller
{

}

- (void)documentInteractionControllerDidDismissOpenInMenu:(UIDocumentInteractionController *)controller
{

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T15:07:53.323

我设法解决了这个问题——由于某种或其他原因，类中有一个自动释放错误，当你初始化交互控制器时你需要使用一个属性——这很奇怪，但对我来说非常有用：

```
@property (nonatomic, strong) UIDocumentInteractionController *documentInteractionController;

self.documentInteractionController = [UIDocumentInteractionController interactionControllerWithURL:fileURL];
self.documentInteractionController.delegate = self;
[self.documentInteractionController presentOptionsMenuFromRect:self.view.bounds
                                                            inView:self.view
                                                          animated:YES]; 
```

# php - PHP 在运行时显示结果

> ID：14378262
> 
> 赞同：6
> 
> 时间：2013-01-17T11:39:46.677
> 
> 标签：php, linux, apache, debian, flush

我试图在 PHP 脚本运行时显示结果，例如.. 一个非常长的循环，我希望它在页面加载时回显结果，我通过这个搜索了很多，但我找不到很好的答案，谷歌搜索后我发现有人说`ob_flush`这个[问题](https://stackoverflow.com/a/5415754/749090)的使用..但它没有工作，以及启用`implicit_flush`from php.ini ，仍然没有工作
它只在进程完成时加载，我试图运行像这样的`for`循环

```
ob_start();

for($i=0; $i<500; $i++){
 echo "hm\n";
 ob_flush();
}

ob_end_flush(); 
```

仍然，没有工作..它一次显示它们

我现在的最后一个猜测是它需要更多的 PHP 配置来启用/禁用某些东西，
或者.. 它也可能是**apache2**配置？

与此相关的配置设置是什么？需要通过 Apache 或 PHP 配置禁用/启用的设置..

**PS**：我确信它可以单独使用 PHP 来完成，我在 GoDaddy 主机上看到它并在几个网站上看到它，其中[http://www.checker.freeproxy.ru/checker/index.php](http://www.checker.freeproxy.ru/checker/index.php) ..如果你尝试提交它会在**不使用ajax**的情况下正常显示结果，该网站使用PHP和Apache，*这背后有一个神秘的秘密*

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:13:56.733

我从这个[答案中使用了这种方式](https://stackoverflow.com/a/7233021/749090)

```
while(1) {
  echo "should display these lines on browser while in infinite loop.<br>";
  flush();
} 
```

或使用`for`循环，它们都可以正常工作，并且它可以使它更准确地`ob_flush()`使用`flush()`

```
for($i=0; $i<5000; $i++) {
     echo "should display these lines on browser while in infinite loop.<br>";
     usleep(30000);
     ob_flush();
     flush();
} 
```

他们都可以在**没有**ajax的情况下正常工作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T11:41:04.260

你不能用 PHP 做到这一点。PHP 在服务器端运行，因此它在 HTTP 响应发送回浏览器之前执行。

您需要使用 AJAX 来实现这一点。

你也可以看看 websockets 来实现这种事情。

您也可以作弊并将所有数据加载到隐藏列表中，然后在页面加载后使用javascript将列表项一一显示。:)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-17T11:45:22.013

在这里查看我的帖子：[在 php while 循环中显示进度条](https://stackoverflow.com/questions/14353914/progress-bar-while-running-while-loop/14353991#14353991)

它也有一些示例代码，几乎涵盖了您需要的所有内容。

PS：单独用PHP是做不到的，需要用AJAX+PHP（客户端+服务器端编码）来做。这是因为只有在文件被完全解释后才会将响应发送到浏览器。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-17T12:42:51.630

如上所述，Ajax 将是最好的方法。

你需要 3 个文件，一个 html 文件或 php 文件，一个包含你的 ajax 的 javascript 文件和运行你的脚本的 php 文件，这里是你如何做到这一点的一个例子。如果你需要它来调整你想要做的任何事情，其余的取决于你，但如果你相应地分解你的 php，它应该给出一个顺序的 redout。

去.hml：

```
<html>
<head>
<title>Insert Title Here</title>
<script src="ajax_example.js" language="javascript"></script>
</head>

<body>
<form action="javascript:insert()" method="post">
  <input type="text" name="limit" value="" id="limit"/>
  <input type="submit" name="Submit" value="Go"/>
</form>

<div id="text_response"></div>
</body>
</html> 
```

ajax_example.js：

```
// make script work for internet explorer too
function createObject(){
  var request_type;
  var browser = navigator.appName;
  if(browser == 'Microsoft Internet Explorer'){
    request_type = new ActiveXObject('Microsoft.XMLHTTP');
  }else{
    request_type = new XMLHttpRequest();
  }
  return request_type;
}
var http = createObject();

var response = '';
var current  = 0;
var limit    = 0;

function insert(){
  current = 0;
  // write to the document
  response = 'Hang on...';
  document.getElementById('text_response').innerHTML = response;
  // set the limit and run the loop script
  limit = encodeURI(document.getElementById('limit').value);
  limit++;
  loop_file(current);
}

function loop_file(i) {
  // open the php file you wish to run, the 'hm' and 'rand' are optional, obviously
  http.open('get', 'file.php?hm='+i+'&rand='+Math.random());
  // run the insertReply function
  http.onreadystatechange = insertReply;
  http.send(null);
}

function insertReply(){
  if(http.readyState == 4){
    response = response+'<br />'+http.responseText;
    document.getElementById('text_response').innerHTML = response;
    current++;
    // this runs like a pseudo for loop and will loop until it reaches the 'limit'
    if(current < limit){
      loop_file(current);
    }else if(current == limit){
      //create end script here
    }
  }
} 
```

文件.php

```
<?php
echo isset($_GET['hm']) ? $_GET['hm'] . " - hm\n" : "hm\n";
?> 
```

# c# - KendoUI TreeView 中的 HierarchyId

> ID：14378263
> 
> 赞同：2
> 
> 时间：2013-01-17T11:39:47.577
> 
> 标签：c#, asp.net-mvc, kendo-ui, hierarchyid, kendo-treeview

我是 KendoUI 的新手，所以我想知道是否/如何在我的 KendoUI TreeView 中使用我的 sql 服务器数据库中的新 HierarchyId 数据类型表示的数据。关于如何解决这个问题有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T00:32:41.293

假设您选择了默认值，我[`loadOnDemand`](http://docs.kendoui.com/api/web/treeview#loadondemand-booleandefault)建议将`id`节点`id`的`text``id``pid`

所以下面的树：

```
root -+- Node1
      +- Node2 -+- Node2.1
      |         +- Node2.2
      +- Node3 
```

将存储为：

```
ID      PID     TEXT
------- ------- --------
root    null    Root
node1   root    Node1
node2   root    Node2
node3   root    Node3
node2.1 node2   Node2.1
node2.2 node2   Node2.2 
```

每次 KendoUI 想要`expand`一个节点时，如果将发送一个请求，`id`该节点的 正在扩展

例子：

```
http://myserver/getChildren?id=node2.2 
```

`id`其中选择节点Node2.2（即node2.2）的子节点。SQL 语句将是：

```
SELECT ID, TEXT FROM KENDO_TREE WHERE (PID = 'node2.2'); 
```

# html - 仅在太大时调整图像大小

> ID：14378264
> 
> 赞同：4
> 
> 时间：2013-01-17T11:39:51.857
> 
> 标签：html

> **可能重复：**
> [设置图像最大尺寸](https://stackoverflow.com/questions/6844433/set-image-max-size)

我有一个`100x150 px`显示图像的区域。

如果要显示的图像**大于**该区域，则应调整其大小（限制宽度和高度）以适合该区域，但是当它**小于**该区域时，应保持原始大小。

这可以做`HTML`吗？还是我需要在服务器端调整图像大小？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-17T11:43:01.100

只需指定`max-width`和`max-height`样式：

```
img {
    max-width: 100px;
    max-height: 150px;
} 
```

# c# - 连接到数据库（ADO.NET、SQL Server）

> ID：14378265
> 
> 赞同：1
> 
> 时间：2013-01-17T11:39:55.910
> 
> 标签：c#, sql-server-2008, ado.net, entity-framework-4.1

[我使用这条指令](http://www.asp.net/mvc/tutorials/older-versions/models-%28data%29/creating-model-classes-with-the-entity-framework-cs)创建了一个 ADO.NET 实体数据模型。我有两个新课程：

```
namespace Parser
{
    public partial class advert : EntityObject
    {
        ///////////
    }

    public partial class test_workEntities1 : ObjectContext
    {
       ///////
    }
} 
```

然后我创建了以下类：

```
namespace Parser
{
    public class BdProvider
    {
        public void InsertAdv()
        {
            advert adv = new advert();
            test_workEntities1 f = new test_workEntities1();

            adv.adress = "adress 1";
            adv.const_link = "domain.com";
            adv.count_room = 10;

            f.advert.AddObject(adv);
        }
    }
} 
```

我创建了以下控制台应用程序：

```
namespace TestApp
{
    class Program
    {
        static void Main(string[] args)
        {
            BdProvider bd = new BdProvider();
            bd.InsertAdv();
            Console.ReadKey();
        }
    }
} 
```

当我运行应用程序时，我看到：

> 指定的命名连接在配置中未找到，不打算与 EntityClient 提供程序一起使用，或者无效

堆栈跟踪：

> System.ArgumentExceptionнеобработано消息=Указанноеименованноесоединениененайденовконфигурации，непредназначалосьдляиспользованияспоставщикомEntityClientилинедопустимо。Source=System.Data.Entity StackTrace： • System.Data.EntityClient.EntityConnection.ChangeConnectionString(String newConnectionString) • System.Data.EntityClient.EntityConnection..ctor(String connectionString) • System.Data.Objects.ObjectContext.CreateEntityConnection( String connectionString) ? System.Data.Objects.ObjectContext..ctor(String connectionString, String defaultContainerName) ? Parser.test_workEntities1..ctor() ? C:\proj\Parser\Model1.Designer.cs:строка 34 ? Parser。 BdProvider.InsertAdv() - C:\proj\Parser\BdProvider.cs:строка 28 - TestApp.Program.Main(String[] args) - C:\proj\TestApp\Program.cs:строка 21 - System.

我尝试使用不同的 connectionString 创建 test_workEntities1，但没有成功。

我的连接字符串是

```
<connectionStrings>
    <add name="test_workEntities1" 
         connectionString="metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=PKVZALE\SQLEXPRESS;Initial Catalog=test_work;Integrated Security=True;MultipleActiveResultSets=True&quot;" 
         providerName="System.Data.EntityClient" />
  </connectionStrings> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:00:58.510

您需要在`TestApp`配置文件中添加连接字符串。

目前，您在项目的`app.config`文件中拥有它`Parser`，但是，当您通过`TestApp`项目运行应用程序时，.NET 正在此项目中寻找设置。

// 扩展答案

`app.config`可以在项目的根文件夹中创建。您可以通过从`Parser`项目中复制/粘贴或使用[msdn中的以下说明来执行此操作](http://msdn.microsoft.com/en-gb/library/ms184658%28v=vs.80%29.aspx)

> **将应用程序配置文件添加到 C# 项目**
> 
> 1.  在项目菜单上，单击添加新项。
>     
>     
>     
>     出现添加新项目对话框。
>     
>     
> 2.  选择应用程序配置文件模板，然后单击添加。
>     
>     
>     
>     一个名为 app.config 的文件将添加到您的项目中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:06:48.517

当您拥有实体框架时，您需要做 3 件事**- EF**在不同的项目中：

1.  EF 项目中的连接字符串

2.  在另一个项目中引用

3.  **另一个项目中的 EF 连接字符串**

# jquery - Phonegap：对象 [object DOMWindow] 在调用 jquery append 时没有方法“createDocumentFragment”

> ID：14378266
> 
> 赞同：0
> 
> 时间：2013-01-17T11:39:58.530
> 
> 标签：jquery, cordova, jquery-plugins

所以我正在使用 jquery 和 phonegap 来构建一个 android 应用程序。我的问题是，每当我调用我的插件时，它都不会继续。所以我追踪了问题（感谢大量的 try-catch 语句），似乎 $(this).append() 有问题。

这是我的功能：

```
(function($) {
     $.fn.myplugin = function (list) {
          $.map(list, function(value, index){
                $current = $("#myid_" + index);
                if($current.length == 0){
                     ...
                }else{
                     ...
                     $appendMe = $( "<li />",{
                          "id" : "mayvar_" + value["myvar"]
                     });
                     //Below is the problematic code
                     $(this).append($appendMe);
                }
          });
     };
})(jQuery); 
```

我的用法是（注意：下面函数的调用保证jquery已经加载）：

```
var temp = {...};
$("#sample").myplugin(temp); 
```

和html文件：

```
...
<ul id="sample"></ul>
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:09:41.373

我不知道真正的问题是什么，但只是没有直接附加到 $(this)

```
(function($) {
     $.fn.myplugin = function (list) {
          $holder = $(this); //added this
          $.map(list, function(value, index){
                $current = $("#myid_" + index);
                if($current.length == 0){
                     ...
                }else{
                     ...
                     $appendMe = $( "<li />",{
                          "id" : "mayvar_" + value["myvar"]
                     });
                     ...
                     //Below is the problematic code
                     //$(this).append($appendMe); changed to below
                     $holder.append($appendMe);
                }
          });
     };
})(jQuery); 
```

# java - 如何在 Wowza 模块中获取完整的流 URL？

> ID：14378269
> 
> 赞同：4
> 
> 时间：2013-01-17T11:40:09.183
> 
> 标签：java, video-streaming, wowza

我正在为 Wowza 媒体服务器编写一个模块。

如何`onPublish()`在我的实现中获取方法中流的完整 URL `IMediaStreamActionNotify2`？

目前我只能找到流名称。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-16T00:07:14.967

您可能需要检查`Client`对象。它包含一个获取流 URI 的方法。

像这样的东西：。

```
@Override
public void onPublish(IMediaStream stream, String streamName, boolean isRecord,
        boolean isAppend) {
    IClient client = stream.getClient();
    String uri = client.getUri(); 
    // This will print rtmp://127.0.0.1/live in my test server
} 
```

该`Client`对象还包含获取查询字符串的`client.getQueryStr()`方法以及您可以在服务器端 api 文档中看到的其他方便的方法。

# iphone - 将 CellIdendifier 从 XIB 提供给自定义单元格

> ID：14378275
> 
> 赞同：0
> 
> 时间：2013-01-17T11:40:53.337
> 
> 标签：iphone, xib

我已经用 xib 创建了自定义单元格。

```
NSArray *nibs = [[NSBundle mainBundle] loadNibNamed:@"CustomCell" owner:self options:nil];
cell = [nibs objectAtIndex:0]; 
```

我想给它单元格标识符。我试过

```
cell.reuseIdentifier=@""; 
```

但它的只读属性。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:45:07.390

如果在 Interface Builder 中创建表格或单元格，则必须在 Interface Builder 中设置重用标识符，因为在创建对象时会设置此属性。只有当您以编程方式而不是在 Interface Builder 中创建整个对象时，您才能以编程方式更改（更好：设置）它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:45:50.100

```
static NSString *CellIdentifier = @"YourCellName";

YourCellName *cell = (YourCellName *) [tablview dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {

    NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"YourCellName" owner:self options:nil];

    for (id currentObject in topLevelObjects){
        if ([currentObject isKindOfClass:[UITableViewCell class]]){
            cell =  (YourCellName *) currentObject;
            break;
        }
    }
} 
```

# cakephp-2.0 - 如何在cakephp 2.0中对绑定表的数据进行排序

> ID：14378282
> 
> 赞同：1
> 
> 时间：2013-01-17T11:41:04.517
> 
> 标签：cakephp-2.0, associated-sorting

我需要来自各种表的数据。我使用 cakephp 的`$hasMany`变量绑定它们。成功获取数据。但我需要对来自`$hasMany`表的结果进行排序。

例如。我有两张桌子

*   `Survey`
*   `Questions`

现在`Survey`表格包含与调查相关的数据，如，`title`，`id`表格包含相关调查的问题。我将问题表与调查模型中的调查绑定在一起。现在我在表中有一个字段 name 。我需要按该顺序获取数据。`purpose``Questions``Questions``ordering`

我怎样才能以这种方式获取它？

请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T13:18:21.277

**如果要在从 db 获取数据时直接对数据进行排序**

在模型中添加表之间的关系时，您可以定义默认顺序。在您的调查模型中：

```
var $hasMany = array(
    'Question' => array(
        'order' => 'ordering DESC'
    )
); 
```

请参阅[http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#hasmany](http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#hasmany)。

您还可以在条件数组中从控制器检索数据时定义自定义排序，[http](http://book.cakephp.org/2.0/en/models/retrieving-your-data.html#find) ://book.cakephp.org/2.0/en/models/retrieving-your-data.html#find ：

```
$conditions = array(
    'order' => array('Question.ordering DESC')
); 
```

如果您使用*分页器组件对结果进行分页*，则可以像以下示例 book.cakephp.org/2.0/en/core-libraries/components/pagination.html#query-setup 一样设置它：

```
public $paginate = array(
    'order' => array(
       'Question.ordering' => 'desc'
    )
); 
```

**如果要对视图中呈现的数据进行排序**

在这里，您可以将*分页助手*（与控制器中的*分页组件*一起）用作：

```
echo $this->Paginator->sort('Question.ordering'); 
```

见 book.cakephp.org/2.0/en/core-libraries/helpers/paginator.html#creating-sort-links

很抱歉删除了最后两个链接上的“http://”，但我不能发布两个以上的链接（<10 个代表）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:45:01.090

在 CakePHP 中，您可以按关联的表进行排序。但你需要按列排序，你应该在你的视图中使用这样的东西：

```
<?php echo $this->Paginator->sort('Question.ordering'); ?> 
```

# asp.net - 部署时asp.net站点地图安全修剪不起作用

> ID：14378284
> 
> 赞同：0
> 
> 时间：2013-01-17T11:41:12.273
> 
> 标签：asp.net, security, sitemap

我已经设置了基本的表单身份验证，它在本地对 IIS express 工作得很好。当我部署时，站点地图安全修剪停止工作（菜单项显示不应该存在）。如果我尝试与不包含所需角色的用户一起转到不应该存在的节点之一，他们会被踢回登录屏幕。因此，我知道身份验证工作正常。

与我一起工作的另一位开发人员在他的机器上本地也可以正常工作。已部署的 Web 服务器不再起作用。

我认为它在本地工作的任何标记都没有问题，所以我将不发布代码。网络上的每一个例子都与我所拥有的相匹配。该代码还驻留在没有外部访问权限的网络上。

没有发现有人遇到此问题的其他帖子。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T11:36:57.093

经过大量试验，我们认为我们缩小了范围。我们被迫在这个系统上使用无 cookie 会话状态，这似乎是问题所在。我们的开发机器的主要区别在于它们安装了 .net 4.5。生产服务器以及其他一些开发人员只安装了 .net 4.0。如果我们允许 cookie，它就可以正常工作。似乎在 4.0 机器上的无 cookie 会话状态下没有正确处理路径，这会破坏安全调整。需要更多的测试来验证这一点。不幸的是，更新生产机器不是一种选择。

# actionscript-3 - 补间悠悠球是永久的

> ID：14378288
> 
> 赞同：0
> 
> 时间：2013-01-17T11:41:25.160
> 
> 标签：actionscript-3, flash, tween

最初的目标是在 event1 上反向播放动画，通常在 event2 上。所以我使用了这段代码：

```
/* some imports */
public class Element extends MovieClip {
        private var tween:Tween;

        public function Element() {
            tween = new Tween(this, "y", Regular.easeInOut, -this.height, 0, 0.7, true);
            tween.stop();

            this.addEventListener(event1, reverse);
            this.addEventListener(event2, normal);
        }

        private function reverse(e:Event1) {
            tween.yoyo();
        }

        public function normal(e:Event2) {
            tween.stop();
            tween.rewind();
            tween.start(); 
        }
} 
```

现在我测试了一下： 1.Event1发生，动画正常播放 2.Event2发生，动画倒转 3.Event1 1发生，动画倒转

出于某种奇怪的原因，悠悠球在某种程度上是永久性的。我知道一些解决方法，比如为每个动画创建新的 Tween，检查是否已经使用了 yoyo，等等。

这是预期的行为吗？在 adobe API 中，我读到了 begin 和 finish 道具，它们都有“在创建新的 Tween 实例或调用 Tween.yoyo() 方法时将此属性设置为参数。”。我是否已手动重置它们？

我**不想**使用 Tweenmax、tweenlite 或任何外部库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:49:43.890

[手册](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/fl/transitions/Tween.html)说要让补间再次正常运行，请调用另一个 yoyo()。不幸的是，补间本身并没有提供任何关于它现在是否是 yoyo'd 的提示，所以你需要跟踪它。

```
 private var tween:Tween;
    private var tween_yoyo:Boolean;
    private function reverse(e:Event1) {
        if (!tween_yoyo) tween.yoyo();
        else {
            tween.stop();
            tween.rewind();
            tween.start(); 
        }
        tween_yoyo=true;
    }

    public function normal(e:Event2) {
        if (tween_yoyo) tween.yoyo();
        else {
            tween.stop();
            tween.rewind();
            tween.start(); 
        }
        tween_yoyo=false;
    } 
```

# android - 一旦客户端 2 连接，Kryonet 就会断开客户端 1

> ID：14378297
> 
> 赞同：1
> 
> 时间：2013-01-17T11:42:14.573
> 
> 标签：android, tcp, kryonet

我以前曾与[Kryonet](https://code.google.com/p/kryonet/)进行过一对一的交流，而且效果很好。

现在我正在做一个更“标准”的项目，我们将有一台服务器和几个客户端连接到它。

我遇到的问题如标题中所述：客户端 1 连接，没问题。然后我要求客户端 2 连接并立即客户端 1 断开连接。不知何故，服务器不想保持多个同时连接。

有几次我们设法连接了 2 个，然后每当第 3 个连接其他滴时。

在所有 ICS+（galaxy nexus、tab2、SGS3）的几个不同设备上运行。

我使用的代码与示例非常相似：

服务器端：

```
 server = new Server();
    ServiceData.RegisterKryo(server.getKryo());
    server.addListener(new MyServerListener());
    try {
        server.bind(ServiceData.SERVER_PORT_TCP);
        server.start();
    } catch (IOException e) {
        Log.e(TAG, "IOException. Failed to start server. " + e.getMessage());
        MyServer.this.stopSelf();
    } 
```

然后客户端：

```
final String ip = intent.getExtras().getString(KEY_SERVER_IP);
listener = new MyClientListener();
client = new Client();
client.start();
ServiceData.RegisterKryo(client.getKryo());
client.addListener(listener);
try {
    client.connect(5000, ip, ServiceData.SERVER_PORT_TCP);
} catch (IOException e) {
    Log.e(TAG, "IOException. Failed to start client. " + e.getMessage() + "\n");
    e.printStackTrace();
    MyClient.this.stopSelf();
} 
```

目前的听众是公正的`Log.v(TAG, "something happened);`，我还启用了 Kryonet 库中的所有日志，`com.esotericsoftware.minlog.Log.set(com.esotericsoftware.minlog.Log.LEVEL_TRACE);`这样我就可以看到它何时连接以及何时断开连接。

断开连接时我收到两条不同的消息：

```
DEBUG: [kryonet] Connection 3 timed out. 
```

和

```
DEBUG: [kryonet] Unable to read TCP from: 
```

真的不确定这里有什么，任何帮助将不胜感激。

**编辑：** 更多信息：我意识到在`INFO: [kryonet] Connection 3 connected: /192.168.0.104`和我的听众收到`connected`回调之间，大约需要 9 秒！很奇怪。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T16:41:50.220

谁可能会遇到同样的问题。

显然这是一个 Android 限制（可能是因为它是移动设备而强加的）

我只是将`Server`代码移动到一个普通的 Java 应用程序`.jar`，让 Android 客户端连接到 PC，现在一切正常。到目前为止，已使用 6 台设备进行了测试，没有任何问题。

# javascript - 如何使用 createPanner() 创建非常基本的左/右等功率平移；

> ID：14378305
> 
> 赞同：6
> 
> 时间：2013-01-17T11:42:44.187
> 
> 标签：javascript, web-audio-api

我正在查看网络音频 API 规范，并且平移节点使用三个值来创建声音的 3D 频谱。我想知道是否为了创建一个基本的 2D“等幂”平移器，程序员是否需要进行公式化编程来扩展它......或者我是否考虑过度并且有一种更简单的方法来做到这一点。

**编辑**

[现在引入了一个 stereoPanner 节点。](https://developer.mozilla.org/en-US/docs/Web/API/StereoPannerNode)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-12-31T02:12:40.530

这是实现 2D 平移的更简单（不那么公式化？）的方法：

[（完整代码在这里）](http://jsbin.com/ObEfamI/1/edit?js,output)

```
<input type="range" name="pan" id="pan" min="-1" max="1" step="any" />
<script>
var panner = context.createPanner();
panner.panningModel = 'equalpower';

function pan(event) {
    var x = this.valueAsNumber,
        y = 0,
        z = 1 - Math.abs(x);
    panner.setPosition(x,y,z);
}

document.getElementById('pan').addEventListener(pan);
</script> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-19T08:39:37.247

我仍然可以通过仅将第一个参数更改为 setPosition() 并将其他参数保持为零来获得平移效果。

```
<!DOCTYPE html>
<html>
<head>
<script>
var c = new webkitAudioContext();
var s = c.createBufferSource();
var g = c.createGainNode();
var p = c.createPanner();
s.connect(g);
g.connect(p);   
p.connect(c.destination);

function play(e) {
  var fr = new FileReader();
  var file = document.getElementById("file").files[0];
  fr.onload = function(e) {
    c.decodeAudioData(e.target.result, 
      function (buf) {
        s.buffer = buf;
        g.gain.value = 0.5;
        s.noteOn(0)
      },
      function () {
        console.error('decodeAudioData failed.');
      }
    );
  };
  fr.readAsArrayBuffer(file);
}

function pan(range) {
  var x = Math.sin(range.value * (Math.PI / 180));
  p.setPosition(x, 0, 0);
}
</script>
</head>
<body>
  Choose your MP3 file:<br>
  <input type="file" id="file" name="file" /><br>
  <input type="submit" id="go" onclick="play()" value="Play" /><br>
  L<input type="range" min="-45" max="45" value="0" onchange="pan(this);">R
</body>
</html> 
```

但是要获得自然的平移效果，您还需要指定第三个参数。

```
function pan(range) {
  var xDeg = parseInt(range.value);
  var zDeg = xDeg + 90;
  if (zDeg > 90) {
    zDeg = 180 - zDeg;
  }
  var x = Math.sin(xDeg * (Math.PI / 180));
  var z = Math.sin(zDeg * (Math.PI / 180));
  p.setPosition(x, 0, z);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-19T13:35:51.780

panner 节点默认为“HRTF”（头部相关传递函数），它是一个立体声卷积引擎，专为 3D 声音而设计。

为了获得基本的平移功能并降低资源使用率，您需要将 panningModel 属性设置为“equalpower”。

```
var panner = context.createPanner();
panner.panningModel = "equalpower";
panner.setPosition(1,0,0); 
```

查看[文档](https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#attributes-PannerNode_attributes)以获取更多详细信息。

# breeze - 如何添加集合级别验证

> ID：14378315
> 
> 赞同：0
> 
> 时间：2013-01-17T11:43:04.283
> 
> 标签：breeze

我将如何在 Breeze 中实现集合级别验证。

假设我有 3 行的集合。我想确保 %Used 列的总和为 100。

行数可以变化（动态），可以是 1-10 行之间的任何位置。每个父行可以有不同的子行集合

```
a) Parent Row1
   ID  %used
   1    20
   2    40
   3    40
   ========
        100

b) Parent Row 2
   ID %used
   1)  50
   2)  50
   ========
      100 
```

等等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T18:19:08.337

所以为了澄清，我假设你的问题是你有一个 entityType 有一个集合导航属性，你想要验证它的内容。例如，您希望确保订单中所有订单详细信息的总运费低于 100 美元。

这可以通过向 entityType 添加“实体级别”验证来完成。即类似的东西

```
myEntityType = myEntityManager.getEntityType("Foo");
myEntityType.validators.add( myCustomValidator); 
```

[请在此处](http://www.breezejs.com/documentation/validation)阅读微风验证文档以获取更多信息。

验证器本身应该基本上迭代从所需导航属性返回的结果，并对您在迭代过程中计算的一些聚合执行验证。

实体级别的验证，例如，将在保存过程中自动执行，但如果您希望在修改导航属性的“内容”时执行此验证，您还需要查看“relationArray.arrayChanged”事件. 微风中的每个集合导航属性都是一个“relationArray”，因此您可以在您感兴趣的每个关系数组上订阅此事件，并在您看到更改时调用父实体验证。

我们希望在某个时候向微风文档添加额外的验证示例。如果您认为这会有所帮助，请添加此项目并在微风[用户语音上投票。](https://breezejs.uservoice.com/forums/173093-breeze-feature-suggestions)

希望这可以帮助。

# c# - Documentformat.openxml - 创建具有默认样式的 word 文档

> ID：14378317
> 
> 赞同：3
> 
> 时间：2013-01-17T11:43:06.020
> 
> 标签：c#, ms-word, openxml

我希望创建的 Word 文档使用 Word 中的默认样式，以便用户可以使用内置主题更改样式。

我试过使用：

```
 var paragraph = new Paragraph();
        var run = new Run();
        run.Append(new Text(text));
        paragraph.Append(run);
        var header = new Header();
        header.Append(paragraph); 
```

但其样式为“正常”。

那么，当我在 Word 中打开文档时，如何使它成为“标题 1”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-12T09:13:10.663

如果您像我一样发现这篇文章，因为您尝试使用 OpenXML 构建文档，默认样式为“标题 1”、“标题 2”、“标题”等。当您使用 Microsoft Word 时，我发现几个小时后解决。

首先，我试图在普通模板“Normal.dotm”中找到样式。这不是存储样式的地方，您在寻找错误的地方。默认样式实际上是在名为 QuickStyles 的目录中的“Default.dotx”文件中定义的。

路径将根据您的版本和操作系统而改变。对我来说，我在“C:\Program Files (x86)\Microsoft Office\Office14\1033\QuickStyles”找到了 dotx。

[我从这篇博文](http://blogs.msdn.com/b/vsod/archive/2012/02/18/how-to-create-a-document-from-a-template-dotx-dotm-and-attach-to-it-using-open-xml-sdk.aspx)中找到了一些代码来从模板创建和修改文档：

```
void CreateWordDocumentUsingMSWordStyles(string outputPath, string templatePath)
{
    // create a copy of the template and open the copy
    System.IO.File.Copy(templatePath, outputPath, true);

    using (var document = WordprocessingDocument.Open(outputPath, true))
    {
        document.ChangeDocumentType(WordprocessingDocumentType.Document);

        var mainPart = document.MainDocumentPart;
        var settings = mainPart.DocumentSettingsPart;

        var templateRelationship = new AttachedTemplate { Id = "relationId1" };
        settings.Settings.Append(templateRelationship);

        var templateUri = new Uri("c:\\anything.dotx", UriKind.Absolute); // you can put any path you like and the document styles still work
        settings.AddExternalRelationship("http://schemas.openxmlformats.org/officeDocument/2006/relationships/attachedTemplate", templateUri, templateRelationship.Id);

        // using Title as it would appear in Microsoft Word
        var paragraphProps = new ParagraphProperties();
        paragraphProps.ParagraphStyleId = new ParagraphStyleId { Val = "Title" };

        // add some text with the "Title" style from the "Default" style set supplied by Microsoft Word
        var run = new Run();
        run.Append(new Text("My Title!"));

        var paragraph = new Paragraph();
        paragraph.Append(paragraphProps);
        paragraph.Append(run);

        mainPart.Document.Body.Append(paragraph);

        mainPart.Document.Save();
    }
} 
```

只需使用指向 Default.dotx 文件的 templatePath 调用此方法，您就可以使用 Microsoft Word 中显示的默认样式。

```
var path = System.IO.Path.GetTempFileName();

CreateWordDocumentUsingMSWordStyles(path, "C:\\Program Files (x86)\\Microsoft Office\\Office14\\1033\\QuickStyles\\Default.dotx"); 
```

这确实允许用户在按照原始问题打开文档后更改 Word 中的“样式集”。

# php - 有没有办法测试一个字符串是否被 gzdeflated？

> ID：14378318
> 
> 赞同：9
> 
> 时间：2013-01-17T11:43:06.277
> 
> 标签：php, compression

也就是说，测试我是否可以安全地 gzinflate 字符串。

如果我的压缩数据被篡改，我会收到“错误数据”警告。我不想抑制警告，这意味着我要么必须捕获它，要么测试它是否可以被 gzinflated。后者是我的首选解决方案，但我只是不知道如何。

适合以下代码示例的东西将是完美的：

```
if(i_can_haz_inflate($data))
{
    // go ahead
    $source = gzinflate($data);
}
else
{
    // bad data
} 
```

编辑：在指定 gz(de|in)flate 之后，我开始意识到我实际上并不太关心压缩算法。有没有更适合在尝试减压之前检查完整性的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T11:53:53.590

`gzinflate()`如果它不是`gzdeflate()`编码字符串，则返回原始字符串。

最明显的检查是：

```
$deflated = @gzinflate($data); // to avoid getting a warning
if ($data != $deflated && $deflated !== FALSE) {
     $source  = gzinflate($data);
} 
```

我认为没有其他方法可以做到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-09T15:38:43.453

我同意@Vlad Preda 的[回答](https://stackoverflow.com/a/14378518/3612353)，但我们可以将警告转换为异常：

```
set_error_handler(function ($code, $description) {
    throw new \RuntimeException($description, $code);
});
$deflated = gzinflate($data);
restore_error_handler(); 
```

它为我们提供了处理异常的能力......并且不抑制警告......

# c++ - int（内置数据类型）是 C++ 中的一个类吗？

> ID：14378321
> 
> 赞同：2
> 
> 时间：2013-01-17T11:43:14.353
> 
> 标签：c++, class

是`int`一个`class`？

请考虑以下代码

```
#include"iostream"

using namespace std;

class test{
public:
    int a;

    test(int x)
    {
        cout<<"In test Constructor"<<endl;
        a = x;
    }
};

int main()
{
    test *obj = new test(10);// Constructor get called 
int *x = new int(10);    // Expecting the same if "int" is a class
return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T11:44:43.393

不，`int`不是`class`，并且`int x = new int(10);`不是有效的 C++ 语法。

```
int* x = new int(5);
...
...
delete x; 
```

这只是创建一个指向 an 的指针，`int`并且`new int(5)`是一种初始化指针的方法。

> 而正确的方法应该是 delete[] x;

不，因为你用`new`, not分配了它`new[]`。正确的方法是`int x = 5;`或`int x(5);`- 除非确实有必要，否则避免动态分配。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:49:11.713

```
Is int a class in c++? 
```

不，因为`int`不能被继承，不能在其范围内定义函数，并且缺少类必须具有的许多属性。

> 如果我们说：`int *x = new int(5);`它会调用 int 的构造函数吗？

它将用 初始化新整数`5`。它至少给出了构造函数的效果。但是为了迂腐，它不调用构造函数。对于`new int[10]`它不调用构造函数并且`10`整数的值是实现定义的情况。但是`new int[10]()`会将值初始化（即 0）到所有 10 个整数。

> 正确的方法应该是 delete[] x

不。任何数据类型的正确配对是`malloc()/free()`、`new/delete`和。其余都是未定义的行为。`new[]/delete[]``new(<placement>) T/ ~T()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:52:12.593

`int`, `float`,`char`都不是`class`cpp 中的。
您不能输入以下内容：
`int x=new int(10);`

即使您在此处考虑一个类：以下内容无效：
`Class x=new Class(10);`

```
Class x=new Class(10);//"new " not "new ...[]"because,
                       // It is just a single object not array.
...
delete x;//Not delete[] x;because x is not array 
```

你的期望是正确的，但如果只有当`int`是一个类，但它不是

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T13:11:20.633

不，C++ 的基本类型（`char`、`int`、`long`、`float`、`double`等）不是类。

但是，该语言的设计方式使得差异几乎可以忽略不计。最重要的区别是

*   基本类型不能有成员。类可以（并且通常会）。
*   基本类型不能指定为基类。

# sencha-touch - 煎茶触摸中 Ext.Img 的动画

> ID：14378324
> 
> 赞同：0
> 
> 时间：2013-01-17T11:43:28.457
> 
> 标签：sencha-touch, sencha-touch-2

如何在运行时应用动画在 sencha touch 2.0 中创建的 Ext.Img 组件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T12:30:10.643

您可以随时通过将任何动画类应用于元素（不仅仅是显示）来使用 CSS3 动画，如下所示：

```
Ext.getCmp('myImageElementId').addCls('popped'); 
```

这是弹出类的地方

```
.popped {
    -webkit-animation-name: cssAnimation;
    -webkit-animation-duration:3s;
    -webkit-animation-iteration-count: 1;
    -webkit-animation-timing-function: ease;
    -webkit-animation-fill-mode: forwards;
} 
```

# java - java中的Unicode字符

> ID：14378325
> 
> 赞同：-3
> 
> 时间：2013-01-17T11:43:34.727
> 
> 标签：java, unicode, character

我们对**原始数据类型 char进行了****unicode 处理**，它遵循带有 ex 单引号的文字，例如：

 **```
psvm(String[] a)
              {
                char dollar='\u0024';
                char a='100';
                System.out.print(dollar);
                System.out.println(a);
             } 
```

它将输出为 100 美元，现在我的问题是请告诉我其他 spl 字符的 unicode，并请提供印度货币符号 unicode。希望你能帮助我。请列出您所知道的此类 spl 字符的任何 unicode，让我知道

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T11:48:47.290

使用以下提供所有字符 uniocde[代码](http://www.unicode.org/charts/)的链接。印度卢比符号代码为 \u20B9 或阅读[此](http://www.fileformat.info/info/unicode/char/20b9/index.htm)内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T11:50:30.260

2010 年最近在 Unicode 中添加了卢比符号，它是 U+20B9 ₹ 和 HTML：₹

```
char dollar='\u20B9';
String a="100";
System.out.print(dollar);
System.out.println(a); 
```

我很害怕，但它可能会显示“？” 而不是那个unicode符号，是因为你的IDE显示了字符编码。因此，您可能需要根据您的 IDE 修复您的属性或偏好。**

# c# - 使用 c# 检查 URL 是否存在

> ID：14378326
> 
> 赞同：1
> 
> 时间：2013-01-17T11:43:39.860
> 
> 标签：c#, url

我一直在试图找出提供 URL 是否可用。可用并不意味着域可用性我的意思是 URL 可访问或不可访问

我已经测试过代码

```
var webrequest = (HttpWebRequest)WebRequest.Create(
                                       "http://localhost:64519/TestPage.aspx");
webrequest.Method = "HEAD";
HttpWebResponse response = webrequest.GetResponse() as HttpWebResponse; 
```

并且在 Testpage 的页面加载中有一些代码

```
protected void Page_Load(object sender, EventArgs e)
{
    StreamReader stream = new StreamReader(Request.InputStream);
    XDocument xmlInput = XDocument.Load(stream);
} 
```

现在的问题是即使我在请求中添加了 HEAD 但它进入 PageLoad 并引发异常。

场景：我一直在尝试将 XML 发送到提供的 URL。在 XML 情况下，它工作正常，但是当我尝试检查 Link 是否处于活动状态时，它会抛出异常，因为 XDocument.Load(stream); 没有 XML\ 当然我可以通过使用来解决这个问题

```
if (stream.BaseStream.Length != 0)
{
    XDocument xmlInput = XDocument.Load(stream); 
} 
```

但它不合适。我只是想根据我的研究知道链接是否有效只是添加标题但即使添加标题我的问题仍然存在

所以请有人可以帮助我解决这个问题，否则将不胜感激

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T11:56:28.777

您可以使用[HttpWebRequest](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx)和[HttpWebResponse](http://msdn.microsoft.com/en-us/library/system.net.httpwebresponse.aspx)类并将请求的方法设置为“HEAD”。

[其他可能的方法列表。](http://annevankesteren.nl/2007/10/http-methods)

```
var request = (HttpWebRequest)WebRequest.Create("http://localhost:64519/TestPage.aspx");
request.Method = "HEAD";

var response = (HttpWebResponse)request.GetResponse();

var success = response.StatusCode == HttpStatusCode.OK; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:59:41.590

**使用 GET 方法**

如果网站响应您的查询然后获取响应数据...

如果没有这样的 URL，那么它会抛出 WebException 错误......你可以抓住它并在上面做点什么......

在这里我列出我的想法。我认为它解决了你的问题

```
try
{
    HttpWebRequest webRequest = (HttpWebRequest)WebRequest.Create("http://localhost:64519/TestPage.aspx");
    webRequest.Method = "GET";

    string responseData = string.Empty;
    HttpWebResponse httpResponse = (HttpWebResponse)webRequest.GetResponse();

    using (StreamReader responseReader = new StreamReader(httpResponse.GetResponseStream()))
    {
        responseData = responseReader.ReadToEnd();
    }
}
catch (System.Net.WebException ex)
{
   //Code - If does not Exist  
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T11:53:50.190

我在运行中做了一个函数。希望它对你有用:)

```
public bool isValid(string url) {
    Stream sStream;
    HttpWebRequest urlReq;
    HttpWebResponse urlRes;

    try {
        urlReq = (HttpWebRequest) WebRequest.Create(url);
        urlRes = (HttpWebResponse) urlReq.GetResponse();
        sStream = urlRes.GetResponseStream();

        string read = new StreamReader(sStream).ReadToEnd();
        return true;

    } catch (Exception ex) {
        //Url not valid
        return false;
    }

} 
```

# python - 删除 textarea 标签 python 中的 %s

> ID：14378329
> 
> 赞同：2
> 
> 时间：2013-01-17T11:43:49.373
> 
> 标签：python

```
form="""
<textarea>%s</textarea>
""" 
```

我正在尝试使用 textarea 输入发出帖子请求，并再次在 textarea 中显示帖子输入，我能够做到这一点。

但是，我的问题是，当我第一次去查看页面时，我在 textarea 框中看到了**%s 。**如何隐藏**%s**？我正在使用旧的python，我认为它是2.7

```
form="""
    <form method="post">
      <textarea name="text">%s</textarea>
  <br>
  <input type="submit">
</form>
"""        
class MainPage(webapp2.RequestHandler):
  def get(self):
      self.response.write(form)
  def post(self):
      foo="posted to the box"
      self.response.write(form %foo)
app = webapp2.WSGIApplication([('/', MainPage)], debug=True) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:44:45.730

把东西放在它的位置。

```
print form % ('',) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:49:10.277

试试下面的代码

```
print form.replace('%s', '') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-30T19:06:45.927

更简单，只需将 %s 作为值参数：

```
<textarea name="text" value="%s"></texarea> 
```

这将创建一个漂亮的空白文本区域；）

# java - Listview 项目的梯度不会改变 ontapping

> ID：14378332
> 
> 赞同：1
> 
> 时间：2013-01-17T11:44:20.700
> 
> 标签：java, android, listview, gradient

我有一个使用自定义数组适配器的列表视图设置列表看起来很好我使用了渐变和每个项目的背景，它也出现了，但代码还指出在点击时更改渐变，下面没有发生是我的 xml

**主要的.xml**

```
<ListView xmlns:android="http://schemas.android.com/apk/res/android"

         android:id="@+id/list"
         android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:dividerHeight="0.1dp"
    android:listSelector="@drawable/list_selector"

     /> 
```

**row_list.xml**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
>

<TextView
    android:id="@+id/txtListText"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="center_horizontal"
    android:padding="20dp"
    android:textSize="35sp"
    android:textColor="#545454"
    android:background="@drawable/ogbg" 
    />

</LinearLayout> 
```

**list_selector.xml**

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<!-- Selector style for listrow -->

<item
 android:state_selected="false"
    android:state_pressed="false"
    android:drawable="@drawable/ogbg" />

   <item android:state_pressed="true"  
        android:drawable="@drawable/ogpress" />

    <item android:state_selected="true"
       android:state_pressed="false"
        android:drawable="@drawable/ogpress" />

</selector> 
```

**ogbg.xml// 普通背景渐变**

```
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
  android:shape="rectangle">
<gradient 
android:startColor="#FFFAFAFA" 
android:centerColor="#FFFFFFFF" 
android:endColor="#FFFFFFFF" 
android:angle="90"/>
</shape> 
```

**ogpress.xml//在点击时更改的渐变**

```
<shape xmlns:android="http://schemas.android.com/apk/res/android"   

android:shape="rectangle">
<gradient 
android:startColor="#FF05c1ff" 
android:endColor="#7F05c1ff" 
android:angle="90"/>
</shape> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:17:05.220

我过去也遇到过类似的问题。尝试切换选择器项目的顺序，我不知道为什么，但选择器的行为取决于项目的顺序。如果这不起作用，请尝试将“选定”和“按下”分开。为每个州做一个额外的项目。

# wpf - WPF：在运行时用子 XAML 替换 Visual Tree 的分支？

> ID：14378339
> 
> 赞同：0
> 
> 时间：2013-01-17T11:44:30.847
> 
> 标签：wpf

为了简化问题，我将描述一个简化的用例：

假设我有一个顶级 Grid，其中包含 1 个动态内部 Grid 和一个适合顶级 Grid 某些单元格的 ListBox：

1.  顶级网格结构 (TopGrid.xaml) 是相对静态的，只有包含内部网格的单元格的动态大小。

2.  内部 Grid 结构是动态的，有许多/未知的内容，但每种内容都是静态的，可以用单独的 XAML 表示。所以我会有 InnerGrid_1.xaml、InnerGrid_2.xaml、InnerGrid_n.xaml 等。

3.  在运行时，取决于 ListBox 选择，应显示某些 InnerGrid。

我正在考虑两种方法来做到这一点：

1.  运行时文本编辑代码中的 XAML：在代码中，使用 XmlDocument 编辑 TopGrid.xaml 以添加某些 InnerGrid_x.xaml 的内容以创建最终的内存中 TopGrid.xaml。然后使用 XamlReader 将最终的 TopGrid.xaml 读入一个 Visual Tree，然后将该树添加到 LayoutRoot 以显示它。

2.  可视化树操作（无文本编辑）：在代码中，使用 XamlReader 将 TopGrid.xaml 读入顶层可视化树，将 InnerGrid_x.xaml 读入子可视化树。然后使用 VisualTreeHelper 在 top-visual-tree 中找到 TopGrid 元素，在 sub-visual-tree 中找到 InnerGrid 元素。然后将 sub-visual-tree 添加到 top-visual-tree。然后将组合树添加到 LayoutRoot 显示它。

我知道第一种方法可行，但需要在代码中进行复杂的 XML 操作（或文本编辑）。我想要第二种方式，但不确定它是否可行。特别是，我可能会更改 TopGrid 中单元格的大小以容纳动态 InnerGrid。

有人做过这个并且可以阐明一些吗？或任何更好的解决方案？

一个附带问题：似乎动态加载的 XAML 无法在 XAML 中指定事件处理程序（我的测试），我需要在创建树后动态设置事件处理程序。真的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:17:07.887

WPF 方法是绑定到您的数据并让 WPF 解析可视化树：

```
<Grid>
    ...
    <ContentControl Content="{Binding SomeData}"/> 
```

为了呈现您的内容，WPF 将寻找`DataTemplate`匹配的数据绑定类型。因此，对于您拥有的每种类型的数据，您将定义一个`DataTemplate`：

```
<DataTemplate DataType="...">
    <!-- your visual tree representing the data goes here -->
</DataTemplate> 
```

`ContentTemplate`您还可以通过指定属性明确告诉 WPF 如何表示您的数据：

```
<ContentControl Content="{Binding SomeData}" ContentTemplate="{StaticResource MyContentTemplate}"/> 
```

TLDR：您提出的两种方法都不是惯用的 WPF。您应该研究数据模板。

# java - jar 中提供什么格式的大背景图片？

> ID：14378343
> 
> 赞同：4
> 
> 时间：2013-01-17T11:44:41.913
> 
> 标签：java, swing, jar, bufferedimage, javax.imageio

我有 Java Swing 应用程序，其边界为`JFrame`. 到目前为止，该应用程序以 jar 文件的形式分发。

最初对于背景图像，我使用了一些大的任意图像文件 -`png`格式。而且我确实有一个代码可以加载并将图像设置为背景`JFrame`。

现在，我从设计师那里得到了一个新的图像`cdr`和`png`格式。Png 图像现在是 5 x 4 千像素。

我的要求：

1.  最小化图像文件大小
2.  支持不同的屏幕分辨率

**满足要求的最佳选择是什么？**

*   将文件大小调整为 1920x1080 并保持为`png`，并在运行时根据分辨率调整为更小的图像
*   将文件保存为`cdr`或其他一些矢量格式。但我不确定 Java 是否可以轻松读取并将其转换为`BufferedImage`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:51:01.103

如果您有机会获得该文件，`.svg`这将最适合您的需求。然后，您可以查看[Apache 的**Batik**](http://xmlgraphics.apache.org/batik/)库及其渲染图像的光栅器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-18T02:39:05.200

> **满足要求的最佳选择是什么？**
> 
> 将文件大小调整为 1920x1080 并保持为`png`，并在运行时调整大小为更小的图像..

..或*更大*-时间继续，屏幕分辨率变得更大（和更大）..

> ..如果需要根据决议。

是的。我认为这是最好的选择。

在运行时加载一个库来渲染 SVG 或 EPS 对`BufferedImage`BG 图像来说似乎有点过分了。

## 部署

> 该应用程序以 jar 文件的形式分发..

使用图像的应用程序通常具有 GUI。做这个应用程序。有图形用户界面吗？

如果是这样，最好使用[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)进行部署。

JWS 的 Jars 可以以编程方式延迟下载，并在更新时刷新，因此图像可能应该位于其自己的单独 Jar 中，以避免每次修复错误时下载新版本。放置图像（或一般压缩的媒体文件 - 声音、视频等）时，请使用“无压缩”。Zip 对这些已经高度优化或至少非常专业的数据格式没有任何好处。

# php - Joomla 2.5 中基于类别的文章替代布局

> ID：14378345
> 
> 赞同：3
> 
> 时间：2013-01-17T11:44:42.913
> 
> 标签：php, model-view-controller, joomla, joomla2.5

我目前在我的 Joomla 2.5 安装中有 2 个文章“布局”

```
default.php
default_links.php
feature_link.php
feature_link.php 
```

当在“替代布局”下的“文章管理器”的“编辑文章”屏幕中选择每个时，它们会按预期工作。

但是，我希望某个类别的文章使用一种布局自动显示，而所有其他文章使用另一种布局显示。

我看到您可以在“类别管理器”下选择“替代布局”，但这指定了“com_content”的“类别”视图中的布局（与该类别中文章的布局相反）。

在创建“类别博客”菜单项时，我还查看了可用作参数的“文章选项”，但令人沮丧的是，您无法在此处覆盖或指定“替代布局”——这似乎是最明显的地方。

TL;博士; - 我可以配置 Joomla 以根据该文章的类别设置文章级别的布局吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-18T15:28:34.173

嗯，这是一个好问题。也许您可以将默认布局设置为某种开关：将常规布局放在诸如regular.php 之类的东西中，将特殊布局放在诸如special.php 中，并让default.php 发现文章属于哪个类别。然后包含相应布局文件的代码......只是一个想法。

像这样...

默认.php：

```
<?php 
   ...
   $specialCategory = 42; // the id of your special category
   if($this->item->catid == $specialCategory){
       include "special.php";
   }else{
       include "regular.php";
   }
?> 
```

请注意，到目前为止我还没有尝试...

编辑：我刚刚在 com_users 登录视图中找到了这个：

默认的.php

```
if ($this->user->get('guest')):
// The user is not logged in.
echo $this->loadTemplate('login');
else:
// The user is already logged in.
echo $this->loadTemplate('logout');
endif; 
```

tmp 文件夹中的文件名为 default.php、default_login.php 和 default_logout.php。

# sql - SSRS - XML 数据源 - 返回结果

> ID：14378353
> 
> 赞同：0
> 
> 时间：2013-01-17T11:45:02.643
> 
> 标签：sql, xml, sharepoint, reporting-services

想知道是否有人可以提供帮助 - 早上一直在谷歌搜索 aaaaaall，但没有任何结果。

我在 SQL Server Report Builder 中创建了一个数据集，该数据集获取了我的 Sharepoint 用户配置文件（数据源 = xml Web 服务 SharePoint UserProfileService）。数据集查询结果显示我的信息 - 列是 f.ex。

**名称 - 类型 - 值**

标题 - xsd:string - 专家

部门 - xsd:string - 会计

工作电话 - xsd：字符串 - 555-55555

等等

现在，我希望查询只返回 * *Value 列 **，其中 Name 等于 Department.... 所以数据集的结果如下所示

**价值**

会计

如果有人可以帮忙请:)

**更新** 这是我只想返回的返回结果 xml 节点

```
 <PropertyData>
 <IsPrivacyChanged>false</IsPrivacyChanged>
 <IsValueChanged>false</IsValueChanged>
 <Name>Department</Name>
 <Privacy>Public</Privacy>
<Values>
<ValueData>
 <Value xsi:type="xsd:string">Accounting</Value>
 </ValueData>

     </Values> 
</PropertyData> 
```

我猜我必须做类似的事情

```
<ElementPath IgnoreNamespaces="true">GetUserProfileByNameResponse{}/GetUserProfileByNameResult{}/PropertyData{**?????**}/</ElementPath> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-30T08:02:13.260

您是否尝试过在数据源中使用“Microsoft SharePoint 列表”作为连接类型，您仍然可以选择“用户信息列表”并在数据集属性中为其创建过滤器？

# coffeescript - 迭代咖啡脚本中的方法名称

> ID：14378357
> 
> 赞同：1
> 
> 时间：2013-01-17T11:45:14.713
> 
> 标签：coffeescript

在 JS 中，我可以这样做：

```
for(i in MyClass.prototype) {
  console.log(i);
} 
```

它会告诉我方法名称。没关系。

现在，如果我用咖啡脚本这样做：

```
for i in MyClass.prototype
  console.log i 
```

它将被编译为：

```
var i, _i, _len, _ref;

_ref = MyClass.prototype;
for (_i = 0, _len = _ref.length; _i < _len; _i++) {
  i = _ref[_i];
  console.log(i);
} 
```

但是原型没有`length`属性，所以它会中断。

如何用咖啡脚本制作它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T13:46:48.390

'秘密'是`of`在使用对象时使用命令：

```
console.log i for i of MyClass.prototype 
```

# iphone - 无法在 Iphone 应用程序中使用第三方 API 在我的 Twitter 帐户上获取推文

> ID：14378360
> 
> 赞同：1
> 
> 时间：2013-01-17T11:45:25.057
> 
> 标签：iphone, image, api, post, twitter

```
-(IBAction)btnPostclick
{NSURL *url = [NSURL     URLWithString:@"http://yfrog.com/api/uploadAndPost"];
ASIFormDataRequest *request = [[[ASIFormDataRequest alloc] initWithURL:url] autorelease];
[request setDelegate:self];
if (IMG)
{
if([galleryImageView.image description] == NULL)
{
[request setData:UIImageJPEGRepresentation([UIImage imageNamed:@"logo.png"], 0.8)     forKey:@"media"];
}
else
{
[request setData:UIImageJPEGRepresentation(galleryImageView.image, 0.8) forKey:@"media"];
}
}
else
{
[request setData:UIImageJPEGRepresentation([UIImage imageNamed:@"logo.png"], 0.8) forKey:@"media"];            
}        
[request setPostValue:userdata.twitterUserName forKey:@"username"];
[request setPostValue:userdata.twitterPassword forKey:@"password"];
[request setPostValue:comm forKey:@"message"];
[request startAsynchronous];        
[request setDidFinishSelector:@selector(requestDone:)];
[request setDidFailSelector:@selector(requestFailed:)];} 
```

我正在使用 yfrog API 来分享图片和推文。

我使用`ASIFormDataRequest`. 我已在请求中设置了我的 Twitter 用户名和密码。请求被异步调用。

当响应到达时`-(void)requestDone:(ASIHTTPRequest *)request`，方法会自动调用。我得到了成功的回应

```
-(void)requestDone:(ASIHTTPRequest *)request
{
NSString *response = [request responseString];
NSLog(@"Response -> %@",response);
} 
```

但它不会在我的推特账户上发送推文。任何人都可以解决这个问题吗？

应用程序的基本 SDK 是：`iOS 4.3`

应用程序的部署目标是：`3.1.3`

提前致谢。

# ios - 滚动 UITableviewcells 时 IndexPath 值正在变化？

> ID：14378363
> 
> 赞同：3
> 
> 时间：2013-01-17T11:45:37.270
> 
> 标签：ios, iphone, uitableview

从`first view controller`到移动时，`second view controller`我将 indexpaths 保存在数组中，并在加载表时在`first view controller`return 中保存，如果当前 indexpath 在保存的 indexpaths 数组中，我必须创建一个自定义附件按钮。

`UITableview`但是，当与所需的单元格一起滚动时，另一个单元格也会获得自定义按钮。当我`NSindexPaths`在滚动时打印时，我得到的是随机值而不是正常值。

对于上面我使用以下代码：

```
- (UITableViewCell *)tableView: (UITableView *)tableView cellForRowAtIndexPath: (NSIndexPath *)indexPath
{
   // NSLog(@"newdata value is =%d",newData);
    AppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];
    UITableViewCell *cell = [self.positionsTable dequeueReusableCellWithIdentifier:@"playersInPosition"];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"playersInPosition"]autorelease];
    }
    UILabel *lblName = (UILabel *)[cell viewWithTag:100];
    [lblName setText:[inputData objectAtIndex:[indexPath row]]];
    UILabel *pname = (UILabel *)[cell viewWithTag:102];
    [pname setText:[appDelegate.playersNFL objectAtIndex:[indexPath row]]];

      for (NSIndexPath *object in appDelegate.indexPathList) {
    if ([object isEqual:indexPath]) {
        NSLog(@"saved index path values are =%@",appDelegate.savedIndexPath);
        UIButton *button = [self ChangeAccessoryButtonStyle:appDelegate.indexPathList[0]];
        cell.accessoryView = button;
    }
    }
        return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-02T08:02:58.373

尝试删除此行并每次创建单元格。

```
UITableViewCell *cell = [self.positionsTable dequeueReusableCellWithIdentifier:@"playersInPosition"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:46:29.837

我不记得文档中有任何部分说索引路径旨在由表视图重用，然后将对象与[设计的函数](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSIndexPath_Class/Reference/Reference.html)进行比较可能是个好主意：

> 相比：
> 
> 指示接收索引路径和另一个索引路径的深度优先遍历顺序。
> 
> -（NSComparisonResult）比较：（NSIndexPath *）indexPath
> 
> 参数
> 
> indexPath 要比较的索引路径。该值不能为零。如果值为 nil，则行为未定义。
> 
> 返回值
> 
> 接收索引路径和索引路径的深度优先遍历排序。
> 
> *   NSOrderedAscending：接收索引路径在 indexPath 之前。
> *   NSOrderedDescending：接收索引路径在 indexPath 之后。
> *   NSOrderedSame：接收索引路径和indexPath是同一个索引路径。
> 
> 可用性
> 
> 在 iOS 2.0 及更高版本中可用。
> 
> 宣布于
> 
> NSIndexPath.h

# json - 键有 json 数据 --> 在 gsp 垃圾中输出

> ID：14378364
> 
> 赞同：0
> 
> 时间：2013-01-17T11:45:45.330
> 
> 标签：json, grails, gsp

我正在尝试用 . List 有三项，其中一项是 json 数据。当 gsp 页面被渲染时，这就是 html 中的内容：

```
<option a":"aa11","b":"bb33","cc":"cc44"}"="" value="{">label </option> 
```

这是 Grails 2.0.4 中的错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T13:09:52.243

您应该转义 HTML 字符`optionKey`

例子 ：

```
<g:select optionKey="id" optionKey="${{it.toString().encodeAsHTML()}}" name="book.title" from="${bookList}" /> 
```

# android - NoSuchMethodError getChildFragmentManager()

> ID：14378366
> 
> 赞同：20
> 
> 时间：2013-01-17T11:45:51.477
> 
> 标签：android, android-fragments, actionbarsherlock, android-support-library, android-nested-fragment

我正在尝试使用 FragmentPagerAdapter 实现 ViewPager，其中 ViewPager 本身位于片段内。我在文档中读到应该可以使用最新的支持库和使用嵌套片段。主要我希望 PagerAdapter 使用根片段的子片段管理器。

所以，我的项目使用 ActionBarSherlock 和 SherlockFragments。由于与 ActionBarSherlock 捆绑的支持库根本不包含 getChildFragmentManager() 方法，因此我下载了最新的支持库 v4 并将其放在 ActionBarSherlock 和我的项目的 libs 文件夹中。通过此更改，项目可以正常编译，但在第一次运行时，它会以关于 getChildFragmentManager() 的 NoSuchMethodError 退出。我在这里做错了什么？

（Ps 我正在使用我的目标最低平台 Android 2.2 对其进行测试。）

谢谢！

**已解决：我用最新版本替换了我的项目和所有引用库中的支持库。然后我清理了我的项目，但是我也忘了清理和重建引用的库......这导致了这种特殊的行为。**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-18T08:43:04.320

确保您引用的库都没有使用 Support Library v13。如果您这样做，将在所有引用使用 v13 的项目中使用 v13 库，这似乎会干扰 getChildFragmentManager() 方法。有关更多信息，请参阅[此问题](https://stackoverflow.com/questions/9926403/android-support-package-compatibility-library-use-v4-or-v13)，并在对整个工作区执行 Project->Clean 时注意控制台打印（假设您使用的是 Eclipse）。

我遇到了和你一样的问题，但是一旦我从引用的五个库之一中删除了 v13 库，它就得到了解决。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-24T14:52:46.007

解决此问题的唯一方法是使用最后一个 android-support-v4 库（即 19.1）更新 ActionBarSherlock。您可以从 Android Manager 上传它。之后使用此更改重新编译 apk，您将获得该方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-25T23:43:13.170

已解决：我用最新版本替换了我的项目和所有引用库中的支持库。然后我清理了我的项目，但是我也忘了清理和重建引用的库......这导致了这种特殊的行为。

# opengl-es - 我可以在 OpenGL ES 1.1 的顶点彩色网格中使用 glColor4f 吗？

> ID：14378367
> 
> 赞同：1
> 
> 时间：2013-01-17T11:45:54.130
> 
> 标签：opengl-es, libgdx, alpha, mesh, opengl-es-1.1

是否可以使用libgdx在opengl 1.1中的预着色网格上着色或设置alpha？

```
private Mesh mesh;
private Camera camera;
@Override
public void create() {          
    if (mesh == null) {
        mesh = new Mesh(true, 3, 1, 
                        new VertexAttribute(Usage.Position, 3, "a_position"),
                        new VertexAttribute(Usage.ColorPacked, 4, "a_color"));

        mesh.setVertices(new float[] {  -1f,0f,0.000000f,Color.toFloatBits(255,0,0,255),
                                        1f,0f,0.000000f,Color.toFloatBits(0,255,0,255),
                                        0f,1f,0.000000f,Color.toFloatBits(0,0,255,255)
                                    });

        mesh.setIndices(new short[] { 0,1,2});
    }
}
@Override
public void render() {
    GL11 gl = Gdx.graphics.getGL11();
    gl.glEnable(GL10.GL_DEPTH_TEST);
    gl.glDepthFunc(GL10.GL_LESS);     

    camera.update();
    camera.apply(Gdx.gl10);

    gl.glViewport(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());

    gl.glClearColor(0.15f, 0.15f, 0.15f, 1);
    gl.glClear(GL11.GL_COLOR_BUFFER_BIT | GL11.GL_DEPTH_BUFFER_BIT);    

    gl.glEnable(GL11.GL_BLEND);
    gl.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);

    gl.glShadeModel(GL11.GL_SMOOTH);

    gl.glPushMatrix();
    //blue overlay + 50% opaque
    gl.glColor4f(0f,0f,1f,0.5f);    //*** THIS LINE IS IGNORED
    mesh.render(GL10.GL_TRIANGLES, 0, 3);
    gl.glPopMatrix();
}
@Override
public void resize(int width, int height){
    float aspectRatio = (float) width / (float) height;
    camera = new OrthographicCamera(10f * aspectRatio, 10f);
} 
```

我会使用纹理，我可以使用 glColor4f 添加阴影或设置透明度，但是如果我使用顶点颜色，那么我不能这样做吗？

# php - 如何在单个字段中插入数组

> ID：14378373
> 
> 赞同：0
> 
> 时间：2013-01-17T11:46:12.223
> 
> 标签：php, mysql

我想在`1,2,3,4,5`while循环的一个字段中将ID存储在这样的数据库中。我怎样才能做到这一点。

我正在尝试这种方式。

```
$array = array();

while($row=mysqli_fetch_assoc($result)){
$array[] = array($row['id']);
}

$query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES('$array')");
print_r($array); 
```

这显示了插入数据库中的错误`Array to string conversion`和值。`Array`

请查看并建议任何可能的方法来做到这一点。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T11:48:10.990

创建另一个表并在其中插入 5 行。

```
entity_id | ids
1             1
1             2
1             3
1             4
1             5 
```

这是做这些事情的唯一正确方法

但是，如果它真的是一个临时表，那么可能有一种方法可以完全避免这些插入。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T11:47:23.033

您可以使用**serialize**或**json_encode**：

```
$data = serialize($array);
// ...or...
$data = json_encode($array); 
```

如果数组只包含普通数字，您也可以使用**implode**：

```
$data = implode(',', $array); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T11:47:32.633

```
$arrays = array();

while($row=mysqli_fetch_assoc($result)){
    $arrays[] = $row['id'];
}
$arr_str  = implode(",", $arrays);
$query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES('$arr_str')");
//print_r($array); 
```

可以在[此处](http://php.net/manual/en/function.implode.php)找到有关 implode 的详细信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T11:47:42.037

使用`implode()`功能：

```
$to_insert = implode(',', $array);
$query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES('$to_insert')"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T11:47:51.353

```
$query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES(".join(',', $array).")"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-17T11:48:14.960

尝试：

```
$ids = join(',',$array);
$query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES('$ids')"); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-17T11:49:36.093

请在插入数据库之前使用**implode函数：-**

这是一个例子： -

```
 $array = array(1,2,3);
 $comma_separated = implode(",", $array);

 echo $comma_separated; 
```

输出 ：-

```
 1,2,3 
```

在你的情况下： -

```
 $array = array();

    while($row=mysqli_fetch_assoc($result)){
    $array[] = array($row['id']);
    }
    $comma_separated = implode(",", $array);
    $query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES('$comma_separated')");
    print_r($array); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-17T12:02:29.110

设置字段类型 varchar(255) 并使用 php

```
$array = array();
$value = serialize($array);

$query = mysqli_query($connection,"INSERT INTO temp (temp) VALUES('$value')");
print_r($array); 
```

要检索值，您应该反序列化列

```
$data = unserialize($result['temp']); 
```

这里的结果是关联数组。$data 是一个数组，您不必内爆或爆炸或 json_encode 或 json_decode

# spring - spring事务和aop

> ID：14378375
> 
> 赞同：2
> 
> 时间：2013-01-17T11:46:34.787
> 
> 标签：spring, transactions, aop

我正在用spring编写一个简单的应用程序，我用spring注释定义了我的daos和服务，并将hibernate定义为orm和事务管理器，如下所示：

```
<bean id="dataSource" class="org.apache.tomcat.jdbc.pool.DataSource"
    destroy-method="close" p:driverClassName="${jdbc.driverClassName}"
    p:url="${jdbc.databaseurl}" p:username="${jdbc.username}" p:password="${jdbc.password}" />

<bean id="sessionFactory"
    class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
    <property name="dataSource" ref="dataSource" />
    <property name="configLocation">
        <value>classpath:env/hibernate.cfg.xml</value>
    </property>

<property name="packagesToScan">
    <list>
        <value>com.skyfence.management.cm.model</value>
    </list>
</property>

    <property name="hibernateProperties">
        <props>
            <prop key="hibernate.dialect">${jdbc.dialect}</prop>
            <prop key="hibernate.show_sql">true</prop>
            <prop key="hibernate.hbm2ddl.auto">create</prop>
        </props>
    </property>
</bean>

<tx:annotation-driven />
<bean id="transactionManager"
    class="org.springframework.orm.hibernate4.HibernateTransactionManager">
    <property name="sessionFactory" ref="sessionFactory" />
</bean> 
```

就像您看到的那样，我正在使用注释进行事务管理，直到此时一切正常。然后我添加了一个 Logger Aspect 以在每个方法之前和之后添加 log4j 打印输出，因此我将以下内容添加到我的 applicationContext.xml

```
<aop:aspectj-autoproxy /> 
```

并创建了一个新的带注释的方面类：

```
@Aspect
@Component
public class LoggingAspect
{
} 
```

问题是从那时起休眠不再工作，我得到以下异常： org.hibernate.HibernateException: No Session found for current thread

我怀疑以某种方式通过添加事务停止工作的方面，但我不知道如何解决它

任何帮助将不胜感激，

# qt-designer - 垂直间隔在表单布局中不会超过 sizeHint

> ID：14378377
> 
> 赞同：1
> 
> 时间：2013-01-17T11:46:45.270
> 
> 标签：qt-designer

我正在尝试设计一个表单，当窗口大小增加时，一些元素位于表单布局的底部，而其他元素则位于顶部。在顶部和底部元素之间使用 Vertical Spacer 几乎可以正常工作，但 Vertical Spacer 只能延伸到其 SizeHint 的 Height 值（参见下面的屏幕截图）。

简单地将 SizeHint 增大到一些大会产生不希望的副作用，即整个窗口的首选大小也会变得非常大，因此“调整大小 (Ctrl+J)”命令会使窗口大到无法接受。

如果我使用垂直布局而不是表单布局，则担架的行为与我预期的一样，在使用“调整大小”时无限增加并尊重 SizeHint，但当然我失去了表单布局的行为（对齐文本标签）。

我可以做些什么来使垂直间隔在表单布局中延伸超过它的 SizeHint？

![最小尺寸](../Images/ac00a3969bd7db9a1119a86334b83c77.png)

![尺寸增加](../Images/a82dd7b2a413d76b55700b1031ec68ac.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T17:29:27.983

使用多种布局，而不仅仅是一种。

1.  为您的窗口设置垂直布局。
2.  添加水平布局，用 QLabel 和 QLineEdit 填充它。添加垂直垫片。
3.  添加另一个水平布局，用 QLabel 和 QLineEdit 填充它。
4.  添加水平布局，用 Vertical Spacer 和两个 QPushButtons 填充它。

如果我理解正确，你应该得到你想要的:)

另一种方法是使用**QGridLayout**。

1.  将 QLabels 设置为 0,0 和 1,0
2.  将 QPushButtons 设置为 2,1 和 2,2
3.  将 QLineEdits 设置为 0,1 和 1,1
4.  拖动 QLineEdits，使它们从第 1 列跨越到第 2 列
5.  和第 0 行和第 1 行之间的垂直间隔。

# cassandra - 通过 hector-API 在 Cassandra Column 系列中启用缓存？

> ID：14378378
> 
> 赞同：0
> 
> 时间：2013-01-17T11:46:48.767
> 
> 标签：cassandra, hector

我正在使用来自 prettyprint 的 hector-core1.0-5 连接到 cassandra。使用这个 API，我可以创建密钥空间。但我找不到配置列族“缓存”属性的方法。因此，默认情况下，它为创建的所有列族分配“KEYS_ONLY”作为“缓存”值。我想将此属性值更改为“ALL”，以便我可以在 cassandra.My cassandra version1.2.0 中同时使用键缓存和行缓存。任何人都可以帮助我找到在创建键空间时更改“缓存”属性的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T12:55:13.087

ColumnFamilyDefinition 接口中不支持获取或设置缓存。赫克托社区必须修补代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-20T07:23:49.420

不知道赫克托是这样的。但是我们在 Cassandra 上使用 Playorm，它使用像 hibernate 这样的缓存。[在http://buffalosw.com/wiki/Caching-in-Playorm/](http://buffalosw.com/wiki/Caching-in-Playorm/)阅读更多信息。

# ruby-on-rails - 如何使用 pismo 和 mechanic 解析 Rails 中的文章页面链接？

> ID：14378387
> 
> 赞同：0
> 
> 时间：2013-01-17T11:47:22.057
> 
> 标签：ruby-on-rails, html-parsing

我正在尝试解析多页文章上的链接以自动单击它们以提取整篇文章内容。关于我的[最后一个问题](https://stackoverflow.com/questions/14283974/what-ruby-gem-provides-the-function-to-extract-the-content-from-web-pages)和[有用的答案](https://stackoverflow.com/a/14284149/66414)，我正在使用机械化。

如何搜索分页链接？每篇文章可能有不同的链接架构，例如：

ZEITONLINE：

`<a id="hp.article.bottom.paginierung.2" class="pn-forward pn-button" title="Vor" href="http://www.zeit.de/politik/ausland/2013-01/Syrien-Fotografie-Reportage/seite-2">Vorwärts</a>`

技术：

`<a href="http://arstechnica.com/information-technology/2013/01/help-ive-got-windows-8-and-i-miss-my-start-menu/2"><span class="next">Next <span class="arrow">→&lt;/span></span></a>`

IGN：

`<a href="http://www.ign.com/articles/2013/01/03/the-ultimate-2013-movie-preview?page=2">Next&nbsp;»</a>`

对于 IGN 链接，解析链接相对简单，因为它包含链接文本`Next`。但是其他链接呢？我知道它应该是可行的，因为口袋、可读性和 instapaper 正在提取多页内容。

希望你能帮助我一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:10:34.707

我为此写了一个函数

```
function proccessURL($ParentURL,$URL){
   $parse_url=parse_url($URL);
    if(@$parse_url['host']==""){
        $Parent_URL=parse_url($ParentURL);
        $path=explode("/",@$parse_url['path']);
        $redirect=0;    
        $lkey=0;
        $flag=false;
        while(list($key,$val)=each($path)){
            if($val==".." or $val=="." or $val=="..."){
                $redirect++;
                $lkey=$key;
                $flag=true;
            }else{
                break;
            }
        }
        if($flag){
           $matches=explode("/",$Parent_URL['path']);
           end($matches);
           $b=each($matches);
           $n=$b['key'];
           $url='';
           for($i=0;$i<$n-$redirect;$i++){
               $url.=$matches[$i]."/";
           }   
           for($i=$redirect+1;next($path);$i++){
               $url.=$path[$i]."/";
           }
           rtrim($url,"/");
           $parse_url['path']=$url;
        }else{
            $parse_url['path']="/".@$parse_url['path'];
        }
    }else{
        $Parent_URL['scheme']=$parse_url['scheme'];
        $Parent_URL['host']=$parse_url['host'];
    }
    //print_r($parse_url);
    if(@$parse_url['query']!=""){
        $parse_url['query']="?".@$parse_url['query'];
    }
    if(@$parse_url['fragment']!=""){
        $parse_url['fragment']="#".@$parse_url['fragment'];
    }
    return $Parent_URL['scheme']."://".@$Parent_URL['host'].@$parse_url['path'].@$parse_url['query'].@$parse_url['fragment'];
} 
```

此函数解决链接地址

样本：

```
$CorrectLink=proccessURL("http://www.sepidarcms.ir/kernel/","../plugin/1.php"); 
```

输出为“http://www.sepidarcms.ir/plugin/1.php” 现在您可以通过 preg_match_all 解析网址

```
$html="Your HTML Str";
$URL="Your HTML Page Link";
preg_match_all("/href=\"([^\"]*)\"/is", $html, $matches);
while(list($key,$val)=each($matches[1])){
$val=proccessURL($URL,$val);
    echo $val;
} 
```

此代码为您正确列出所有href Url

# qt - Qt小部件不透明度问题

> ID：14378399
> 
> 赞同：0
> 
> 时间：2013-01-17T11:47:47.823
> 
> 标签：qt, widget, subclass, opacity

我正在尝试从一个小部件捕获鼠标悬停事件，该小部件是 QLabel 的子类，我在其中绘制像素图。例如，我只需要通过将不透明度设置为 50% 来捕获此事件以创建透明效果。我试过`setWindowOpacity(0.5)`没有成功。

所以，问题是：如何修改已在 QLabel 子类的小部件中绘制的图像的不透明度？

PaintWidget.cpp

```
void PaintWidget::paintEvent(QPaintEvent *aEvent)
{
    QLabel::paintEvent(aEvent);

    if (_qpSource.isNull()) //no image was set, don't draw anything
        return;

    float cw = width(), ch = height();
    float pw = _qpCurrent.width(), ph = _qpCurrent.height();

    if (pw > cw && ph > ch && pw/cw > ph/ch || //both width and high are bigger, ratio at high is bigger or
        pw > cw && ph <= ch || //only the width is bigger or
        pw < cw && ph < ch && cw/pw < ch/ph //both width and height is smaller, ratio at width is smaller
        )
        _qpCurrent = _qpSource.scaledToWidth(cw, Qt::FastTransformation);
    else if (pw > cw && ph > ch && pw/cw <= ph/ch || //both width and high are bigger, ratio at width is bigger or
        ph > ch && pw <= cw || //only the height is bigger or
        pw < cw && ph < ch && cw/pw > ch/ph //both width and height is smaller, ratio at height is smaller
        )
        _qpCurrent = _qpSource.scaledToHeight(ch, Qt::FastTransformation);

    int x = (cw - _qpCurrent.width())/2, y = (ch - _qpCurrent.height())/2;

    QPainter paint(this);
    paint.drawPixmap(x, y, _qpCurrent);
}

void PaintWidget::setPixmap(const QPixmap& pixmap)
{
    _qpSource = _qpCurrent = pixmap;
    repaint();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T13:52:59.603

你是在 Linux 还是 X11 上工作？因此`setWindowOpacity(0.5)`，仅当您的[窗口管理器是复合](http://doc.qt.digia.com/qt/qwidget.html#windowOpacity-prop)的时才有效。此外，即使这项工作正常，您仍然会遇到麻烦。当您应用像素图时

```
 QPainter paint(this);
 paint.drawPixmap(x, y, _qpCurrent); 
```

窗口的不透明度级别不能神奇地应用于像素图。您需要设置画家的不透明度，或者使用具有 alpha 通道（定义透明度）的像素图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T13:31:51.910

`setWindowOpacity`对你不起作用的原因是你已经覆盖了`paintEvent`. 里面有很多代码`QWidgetPrivate`用于设置不透明度级别和绘制您可以查看的画布，因为您已经进行了自定义绘制，您需要一种设置不透明度然后调用重绘的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T15:03:31.047

我终于找到了解决方案。我在类中创建了一个表示不透明度值的局部变量，并且还创建了下一个方法：

```
void PaintWidget::setOpacity(const double opacity)
{
    this->opacity = opacity;
    repaint();
} 
```

在paintEvent方法的最后：

```
 [...]
    QPainter paint(this);
    paint.setOpacity(opacity);
    paint.drawPixmap(x, y, _qpCurrent);
    [...]
} 
```

# angularjs - 使用 AngularJS 在表单中动态验证和命名

> ID：14378401
> 
> 赞同：99
> 
> 时间：2013-01-17T11:47:50.683
> 
> 标签：angularjs

我有这个表格：http: [//jsfiddle.net/dfJeN/](http://jsfiddle.net/dfJeN/)

如您所见，输入的名称值是静态设置的：

```
name="username" 
```

，表单验证工作正常（添加一些内容并从输入中删除所有文本，必须出现文本）。

然后我尝试动态设置名称值：http: [//jsfiddle.net/jNWB8/](http://jsfiddle.net/jNWB8/)

```
name="{input.name}" 
```

然后我将此应用于我的验证

```
login.{{input.name}}.$error.required 
```

（此模式将在 ng-repeat 中使用）但我的表单验证已损坏。它在我的浏览器中被正确解释（如果我检查我看到的元素 login.username.$error.required）。

任何的想法 ？

编辑：在控制台中记录范围后，似乎

```
{{input.name}} 
```

表达式不是插值。我的表单作为 {{input.name}} 属性但没有用户名。

**更新：自 1.3.0-rc.3 name="{{input.name}}" 按预期工作。**请参阅[#1404](https://github.com/angular/angular.js/issues/1404)

* * *

## 回答 #1

> 赞同：177
> 
> 时间：2013-01-17T13:04:09.520

你不能那样做你想做的事。

假设你想要做的是你需要动态地将元素添加到表单中，比如 ng-repeat，你需要使用嵌套[的 ng-form](http://docs.angularjs.org/api/ng.directive%3aform)来允许验证这些单独的项目：

```
<form name="outerForm">
<div ng-repeat="item in items">
   <ng-form name="innerForm">
      <input type="text" name="foo" ng-model="item.foo" />
      <span ng-show="innerForm.foo.$error.required">required</span>
   </ng-form>
</div>
<input type="submit" ng-disabled="outerForm.$invalid" />
</form> 
```

遗憾的是，这并不是 Angular 的一个有据可查的特性。

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2014-01-24T16:18:45.840

使用嵌套的 ngForm 允许您从 HTML 模板中访问特定的 InputController。但是，如果您希望从另一个控制器访问它，则无济于事。

例如

```
<script>
  function OuterController($scope) {
    $scope.inputName = 'dynamicName';

    $scope.doStuff = function() {
      console.log($scope.formName.dynamicName); // undefined
      console.log($scope.formName.staticName); // InputController
    }
  }
</script>

<div controller='OuterController'>
  <form name='myForm'>
    <input name='{{ inputName }}' />
    <input name='staticName' />
  </form>
  <a ng-click='doStuff()'>Click</a>
</div> 
```

我使用这个指令来帮助解决问题：

```
angular.module('test').directive('dynamicName', function($compile, $parse) {
  return {
    restrict: 'A',
    terminal: true,
    priority: 100000,
    link: function(scope, elem) {
      var name = $parse(elem.attr('dynamic-name'))(scope);
      // $interpolate() will support things like 'skill'+skill.id where parse will not
      elem.removeAttr('dynamic-name');
      elem.attr('name', name);
      $compile(elem)(scope);
    }
  };
}); 
```

现在，只要需要“动态名称”属性而不是“名称”属性，就可以使用动态名称。

例如

```
<script>
  function OuterController($scope) {
    $scope.inputName = 'dynamicName';

    $scope.doStuff = function() {
      console.log($scope.formName.dynamicName); // InputController
      console.log($scope.formName.staticName); // InputController
    }
  }
</script>

<div controller='OuterController'>
  <form name='myForm'>
    <input dynamic-name='inputName' />
    <input name='staticName' />
  </form>
  <a ng-click='doStuff()'>Click</a>
</div> 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2014-04-14T15:57:37.710

根据[Github](https://github.com/angular/angular.js/issues/1404)上的讨论，这个问题应该在 AngularJS 1.3 中得到解决。

[同时，这是@caitp](https://github.com/caitp)和[@Thinkscape](https://github.com/Thinkscape)创建的临时解决方案：

```
// Workaround for bug #1404
// https://github.com/angular/angular.js/issues/1404
// Source: http://plnkr.co/edit/hSMzWC?p=preview
app.config(['$provide', function($provide) {
    $provide.decorator('ngModelDirective', function($delegate) {
        var ngModel = $delegate[0], controller = ngModel.controller;
        ngModel.controller = ['$scope', '$element', '$attrs', '$injector', function(scope, element, attrs, $injector) {
            var $interpolate = $injector.get('$interpolate');
            attrs.$set('name', $interpolate(attrs.name || '')(scope));
            $injector.invoke(controller, this, {
                '$scope': scope,
                '$element': element,
                '$attrs': attrs
            });
        }];
        return $delegate;
    });
    $provide.decorator('formDirective', function($delegate) {
        var form = $delegate[0], controller = form.controller;
        form.controller = ['$scope', '$element', '$attrs', '$injector', function(scope, element, attrs, $injector) {
            var $interpolate = $injector.get('$interpolate');
            attrs.$set('name', $interpolate(attrs.name || attrs.ngForm || '')(scope));
            $injector.invoke(controller, this, {
                '$scope': scope,
                '$element': element,
                '$attrs': attrs
            });
        }];
        return $delegate;
    });
}]); 
```

[JSFiddle](http://jsfiddle.net/Thinkscape/23RPt/)上的演示。

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2014-08-17T08:50:33.897

@EnISeeK 写的不错……但我让它更优雅，对其他指令不那么突兀：

```
.directive("dynamicName",[function(){
    return {
        restrict:"A",
        require: ['ngModel', '^form'],
        link:function(scope,element,attrs,ctrls){
            ctrls[0].$name = scope.$eval(attrs.dynamicName) || attrs.dynamicName;
            ctrls[1].$addControl(ctrls[0]);
        }
    };
}]) 
```

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2014-02-21T00:31:00.703

只是对 EnlSeek 解决方案的一点改进

```
angular.module('test').directive('dynamicName', ["$parse", function($parse) {
 return {
    restrict: 'A',
    priority: 10000, 
    controller : ["$scope", "$element", "$attrs", 
           function($scope, $element, $attrs){
         var name = $parse($attrs.dynamicName)($scope);
         delete($attrs['dynamicName']);
         $element.removeAttr('data-dynamic-name');
         $element.removeAttr('dynamic-name');
          $attrs.$set("name", name);
    }]

  };
}]); 
```

[这是一个笨拙的试验](http://plnkr.co/edit/aQKWeoqMito862P4pmod?p=preview)。[这里有详细解释](http://blog.flexdms.com/2014/02/angularjs-compilation-flow.html)

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-07-04T19:03:43.713

我稍微扩展了 @caitp 和 @Thinkscape 解决方案，以允许动态创建嵌套[的 ng-forms](https://docs.angularjs.org/api/ng/directive/ngForm)，如下所示：

```
<div ng-controller="ctrl">
    <ng-form name="form">
        <input type="text" ng-model="static" name="static"/>

        <div ng-repeat="df in dynamicForms">
            <ng-form name="form{{df.id}}">
                <input type="text" ng-model="df.sub" name="sub"/>
                <div>Dirty: <span ng-bind="form{{df.id}}.$dirty"></span></div>
            </ng-form>
        </div>

        <div><button ng-click="consoleLog()">Console Log</button></div>
        <div>Dirty: <span ng-bind="form.$dirty"></span></div>
    </ng-form>      
</div> 
```

这是我在[JSFiddle](http://jsfiddle.net/gstabel/Tzp7a/ "JSFiddle")上的演示。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2014-09-20T19:24:08.503

我使用了 Ben Lesh 的解决方案，它对我很有效。但是我面临的一个问题是，当我使用添加一个内部表单时，如果我使用该指令`ng-form`，所有表单状态（例如`form.$valid, form.$error`etc）都变得未定义。`ng-submit`

因此，例如，如果我有这个：

```
<form novalidate ng-submit="saveRecord()" name="outerForm">
    <!--parts of the outer form-->
    <ng-form name="inner-form">
      <input name="someInput">
    </ng-form>
    <button type="submit">Submit</button>
</form> 
```

在我的控制器中：

```
$scope.saveRecord = function() {
    outerForm.$valid // this is undefined
} 
```

所以我不得不回到使用常规点击事件来提交表单，在这种情况下，有必要传递表单对象：

```
<form novalidate name="outerForm">  <!--remove the ng-submit directive-->
    <!--parts of the outer form-->
    <ng-form name="inner-form">
      <input name="someInput">
    </ng-form>
    <button type="submit" ng-click="saveRecord(outerForm)">Submit</button>
</form> 
```

以及修改后的控制器方法：

```
$scope.saveRecord = function(outerForm) {
    outerForm.$valid // this works
} 
```

我不太清楚为什么会这样，但希望它可以帮助某人。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2017-09-29T08:21:33.423

此问题已在 Angular 1.3+ 中修复这是您尝试执行的正确语法：

```
login[input.name].$invalid 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-06-18T12:01:56.017

> 如果我们为如下输入设置动态名称

```
<input name="{{dynamicInputName}}" /> 
```

> 然后我们对动态名称使用集合验证，如下面的代码。

```
<div ng-messages="login.dynamicInputName.$error">
   <div ng-message="required">
   </div>
</div> 
```

# android - 如何使向上按钮返回到后堆栈上的父活动？

> ID：14378415
> 
> 赞同：0
> 
> 时间：2013-01-17T11:48:28.950
> 
> 标签：android, navigation, android-actionbar

我想为向上按钮实现以下行为：

*   如果父 Activity 的实例在后栈中，则返回到该父 Activity 的最顶层实例。
*   如果后栈中没有父Activity的实例，则新建一个实例。

实际上，当我第一次阅读 up 和 back 之间的区别时，这种行为是我所期望的默认行为。但是，我现在已经看到，它`NavUtils.navigateUpFromSameTask(this);`总是创建父活动的一个新实例，而忽略了一个事实，即在后台堆栈上有一个现成的可用实例。

感谢您的任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:55:17.603

尝试在 Manifest android:launchMode="singleInstance" 或 android:launchMode="singleTop" 中为您的活动指定启动模式，查看此问题以获取更多信息[Android launchmode="singleTask" 无法按预期工作](https://stackoverflow.com/questions/4169055/android-launchmode-singletask-does-not-work-as-expected)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-27T16:57:07.377

> 如果父 Activity 的实例在后栈中，则返回到该父 Activity 的最顶层实例。

如果这是为了将后台堆栈清除到这个最顶层的实例，我最近解决了这个问题，使用活动自定义向上导航并将`onOptionsItemSelected()`-`FLAG_ACTIVITY_CLEAR_TOP`标志（[链接](http://developer.android.com/training/implementing-navigation/ancestral.html#NavigateUp)）添加到`Intent`- 而仅切换启动模式并没有结束在我期待的后堆栈中：

```
@Override
public boolean onOptionsItemSelected(MenuItem menuItem) {
    Intent parentActivityIntent = NavUtils.getParentActivityIntent(this);
    parentActivityIntent.setFlags(FLAG_ACTIVITY_CLEAR_TOP);
    startActivity(parentActivityIntent);
} 
```

也看看[http://developer.android.com/training/implementing-navigation/ancestral.html#NavigateUp](http://developer.android.com/training/implementing-navigation/ancestral.html#NavigateUp)。

# c# - c# 仅针对任何用户的子目录进行身份验证

> ID：14378418
> 
> 赞同：0
> 
> 时间：2013-01-17T11:48:50.257
> 
> 标签：c#, asp.net

请注意，这是对我之前的问题的轻微变化..

我正在使用 c# .NET Web Forms 4.0

我有一个像下面这样的文件夹，我需要密码保护，所以想要查看页面的任何人（任何外部用户也可以查看站点）需要首先输入用户 ID、密码（我们告诉他们）才能查看页面。

例子：

```
 www.abc.com/srlv/ 
```

所以在 srlv 下我有需要密码保护的网页。

请注意，只有当用户访问 /srlv/ 下的文件时，我们才需要进行身份验证

请注意，这些是 .html 文件，而不是 .aspx 文件。

```
 www.abc.com/srlv/index.html, www.abc.com/srlv/about.html 
```

但是如果用户说 www.abc.com 它将允许他们在没有任何身份验证的情况下查看该网站

我正在考虑使用以下内容：

```
 <authenticaton mode="Forms">
    <forms loginUrl="/srcs/login.aspx" timeout="30" defaultUrl="/srlv/index.aspx" cookieless="UseUri">
    <credentials passwordFormat="Clear">
    <user name="Usw" password="pass123"/>
    </credentials>
   </forms>
   </authentication> 
```

但是我怎么说只有当您访问其中的任何文件时才进行身份验证

```
 www.abc.com/srlv/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:57:34.940

您需要`web.config`在目标文件夹中创建一个包含以下内容的文件。

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.web>
        <authorization>
          <allow users="Usw"/>
          <deny users ="*,?" />
        </authorization>
    </system.web>
</configuration> 
```

它只是说，允许用户`Usw`但拒绝其他人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:57:40.563

您可以使用 web.config 中的 location 元素来配置网站部分的权限

```
<configuration>
   <location path="srlv">
      <system.web>
         <authorization>
            <deny users="?" />
         </authorization>
      </system.web>
   </location>
</configuration> 
```

这将拒绝匿名用户的访问。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T11:58:17.250

位置可以帮助你..

[http://support.microsoft.com/kb/316871](http://support.microsoft.com/kb/316871)

只需访问所有未经授权的用户并仅阻止特定文件夹。

```
<configuration>
    <system.web>
        <authentication mode="Forms" >
            <forms loginUrl="login.aspx" name=".ASPNETAUTH" protection="None" path="/" timeout="20" >
            </forms>
        </authentication>
<!-- This section denies access to all files in this application except for those that you have not explicitly specified by using another setting. -->
        <authorization>
            <deny users="?" /> 
        </authorization>
    </system.web>
<!-- This section gives the unauthenticated user access to the Default1.aspx page only. It is located in the same folder as this configuration file. -->
        <location path="default1.aspx">
        <system.web>
        <authorization>
            <allow users ="*" />
        </authorization>
        </system.web>
        </location>
<!-- This section gives the unauthenticated user access to all of the files that are stored in the Subdir1 folder.  -->
        <location path="subdir1">
        <system.web>
        <authorization>
            <allow users ="*" />
        </authorization>
        </system.web>
        </location>
</configuration> 
```

# css - 背景图像上的属性值无效

> ID：14378419
> 
> 赞同：27
> 
> 时间：2013-01-17T11:48:51.153
> 
> 标签：css, google-chrome, safari

```
.up { background-image: url('/design-library/profound_test/images/cab_images/white-arrow-up.png') 50% 50% no-repeat; } 
```

这段代码在 crome（和 safari）中给了我一个“无效的属性值”。我在另一个页面上使用完全相同的代码，工作正常。我清除了浏览器缓存。如果我删除 50% 50% no-repeat 它工作正常。添加这两个属性中的任何一个都会使其再次失效（使用开发人员工具进行测试）。

我也通过 ProCSSor 运行它来清理它，所以我不确定我在哪里搞砸了......

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-01-17T11:50:56.017

是的，因为该`background-image`属性仅适用于图像部分，而不是背景的位置或重复属性，请使用`background`：

```
.up { 
    background: url('/design-library/profound_test/images/cab_images/white-arrow-up.png') 50% 50% no-repeat; 
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-06-13T12:35:42.273

Chrome* 也会抛出此警告（并且不显示背景图像），如果您之间有空格`url`并且`(`喜欢：

```
background-image: url ('img/web-bg.png');
                     ^ 
```

（这就是我搜索并找到这个问题但没有答案然后反复试验的原因。）

*   ...我认为可能取决于 Chrome 版本。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2020-05-25T11:21:37.950

即使您执行了上述所有操作，您也可能在 Firefox 中得到“无效的属性值”。解决方法是转换：

```
background: url(../img/showcase.jpg) no-repeat top center fixed/cover; 
```

进入：

```
background: url(../img/showcase.jpg) no-repeat top center;
background-attachment: fixed;
background-size: cover cover; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-10-17T18:43:45.353

当您不使用撇号并且您的文件有空格时，Chrome 也会出现此错误。简单地改变：

```
background-image: url(../img/file with spaces.png); 
```

到：

```
background-image: url('../img/file with spaces.png'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-10-06T18:20:39.163

只需**删除** `../`并将其用作

```
background: url(img/showcase.jpg) no-repeat top center; 
```

# c# - 列出 youtube 上的所有视频

> ID：14378420
> 
> 赞同：4
> 
> 时间：2013-01-17T11:48:54.270
> 
> 标签：c#, .net, youtube, youtube-api

我正在寻找一种方法来列出 youtube 上的每个视频。你有什么想法吗？

```
YouTubeQuery query = new YouTubeQuery(YouTubeQuery.DefaultVideoUri);
query.Query = "";     //<-Research key//
query.OrderBy = "viewCount";
query.SafeSearch = YouTubeQuery.SafeSearchValues.None;

Feed<Video> videoFeed = request.Get<Video>(query); 
```

这样，youtube 只返回 1.000.000 的结果。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-17T11:56:16.260

从*[`Youtube Api`](https://developers.google.com/youtube/2.0/reference)*页面；

> 该标签的最大值为 1,000,000。因此，如果标签值为 1,000,000，您可以确定结果并不完全是 100 万，而是有很多匹配项，我们刚刚停止计数。此外，此标签的最大值为 1,000,000。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:56:05.940

YouTube 正确设置了要返回的最大结果数。根据 YouTube 的统计数据，有 1.2 亿个视频被确定为包含受版权保护的材料。*2008年*视频总数约为1.4亿。

假设每个视频标题平均有 8 个字符，仅传输这 1.4 亿个视频的标题将导致下载大小约为 1 GB，数据结构的开销未考虑在内。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:51:52.687

这不是您的代码的问题。我猜服务器最多返回 1000000 个结果，因为这是一个有趣的数字，你不这么认为吗？谷歌已经建立了一个限制，以避免在任何时候或出于其他未知原因重新计算视频总数。

干杯，

# magento - 如何传递我们的参数以添加到 magento 中的购物车页面

> ID：14378421
> 
> 赞同：0
> 
> 时间：2013-01-17T11:48:55.247
> 
> 标签：magento, shopping-cart

我是 magento 的新手。我的产品有模型类型和模型版本。我想传递模型类型和版本以添加到购物车页面并在购物车页面中获取该值。但我不明白。任何人请帮忙解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T14:01:55.020

你可以：

1.  为每个产品创建“模型类型”和“模型版本”的自定义选项。请参阅[在 Magento 中添加自定义产品选项](http://www.youtube.com/watch?v=wfZCXjWqrSM)

2.  创建以编程方式添加这些选项的自定义模块，以`additional_options`查看[添加选项以引用项目](https://stackoverflow.com/a/9496266/1191288)

# javascript - Javascript curry：返回函数中的上下文

> ID：14378426
> 
> 赞同：1
> 
> 时间：2013-01-17T11:49:19.123
> 
> 标签：javascript, functional-programming, closures

在这样的咖喱函数中：

```
var curry = function() {
    var slice = Array.prototype.slice,
        args = slice.call(arguments),
        fn = args.shift();

    return function(){
        return fn.apply(null, args.concat(slice.call(arguments)));
    };
}; 
```

之间有什么区别吗`this`？我没有看到它可以产生影响的情况。`null``fn.apply`

* * *

编辑 ：

感谢[这个答案](https://stackoverflow.com/a/14378449/1909827)，我认为现在已经很清楚了，这是我为理解它而制作的一个小例子：

```
function msg() {
    console.log(this.name);
}

var foo = { name: "foo"};

var msg_this = curry_this(msg);
var msg_null = curry_null(msg);

msg_this();         //msg.call(null) -> undefined
msg_null();         //msg.call(null) -> undefined
msg_this.call(foo); //msg.call(foo) -> foo
msg_null.call(foo); //msg.call(null) -> undefined 
```

与`curry_this`返回`fn.apply(this,...`和`curry_null`返回`fn.apply(null...`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:50:39.460

传递`null`给应用使上下文成为全局上下文（`window`在浏览器中）。

来自[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply)：

> 如果方法是非严格模式代码中的函数，null 和 undefined 将被替换为全局对象，原始值将被装箱。

这将如何影响结果取决于`fn`函数（ 的第一个参数`curry`）以及您如何调用它。

请参阅此代码：

```
var a = {curried: curry(function(){console.log(this)})};
a.curried(); 
```

如果您通过`null`申请，它会记录`window`而不是 object `a`。

# jsf - 在 JSF 中按 ID 查找组件

> ID：14378437
> 
> 赞同：52
> 
> 时间：2013-01-17T11:49:54.093
> 
> 标签：jsf, uicomponents

我想`UIComponent`通过我提供的 id 从托管 bean 中找到一些。

我写了以下代码：

```
private UIComponent getUIComponent(String id) {  
      return FacesContext.getCurrentInstance().getViewRoot().findComponent(id) ;  
} 
```

我将 a 定义`p:inputTextarea`为：

```
<p:inputTextarea id="activityDescription" value="#{adminController.activityDTO.activityDescription}" required="true" maxlength="120"
    autoResize="true" counter="counter" counterTemplate="{0} characters remaining." cols="80" rows="2" /> 
```

现在，如果调用返回的方法`getUIComponent("activityDescription")`，`null`但如果我调用它，`getUIComponent("adminTabView:activityForm:activityDescription")`那么我可以获得`org.primefaces.component.inputtextarea.InputTextarea`实例。

有什么方法可以获取只有 id 的组件，即“activityDescription”而不是绝对 id，即“adminTabView:activityForm:activityDescription”？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-01-17T12:40:39.213

您可以使用以下代码：

```
public UIComponent findComponent(final String id) {

    FacesContext context = FacesContext.getCurrentInstance(); 
    UIViewRoot root = context.getViewRoot();
    final UIComponent[] found = new UIComponent[1];

    root.visitTree(new FullVisitContext(context), new VisitCallback() {     
        @Override
        public VisitResult visit(VisitContext context, UIComponent component) {
            if (component != null 
                && id.equals(component.getId())) {
                found[0] = component;
                return VisitResult.COMPLETE;
            }
            return VisitResult.ACCEPT;              
        }
    });

    return found[0];

} 
```

此代码将仅找到`id`您传递的树中的第一个组件。如果树中有 2 个具有相同名称的组件（如果它们位于 2 个不同的命名容器下，这是可能的），您将不得不做一些自定义的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-03T03:53:53.287

我试试这段代码，它有帮助：

```
private static UIComponent getUIComponentOfId(UIComponent root, String id){
    if(root.getId().equals(id)){
        return root;
    }
    if(root.getChildCount() > 0){
        for(UIComponent subUiComponent : root.getChildren()){
                UIComponent returnComponent = getUIComponentOfId(subUiComponent, id);
                if(returnComponent != null){
                    return returnComponent;
            }
        }
    }
    return null;
} 
```

谢谢

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T12:14:35.163

也许这是不可能的。该`FacesContext.getCurrentInstance().getViewRoot().findComponent(id)`方法只返回一个`UIComponent`。ViewRoot 被构造为一棵树，因此如果您在视图中有两个表单，每个表单都有一个带有 的组件`id="text"`，它们会将其父组件添加到 id 中，这样它们就不会发生冲突。如果你把这两个`id="text"`组件放在同一个表单中，你就会`java.lang.IllegalStateException`抛出。

如果你想找到所有具有搜索 id 的组件，你可以编写一个方法来实现：

```
List<UIComponent> foundComponents = new ArrayList();
for(UIComponent component: FacesContext.getCurrentInstance().getViewRoot().getChildren()) {
    if(component.getId().contains("activityDescription")){
        foundComponents.add(component);
    }
} 
```

或者，如果您想查找第一个匹配项：

```
UIComponent foundComponent;
for(UIComponent component: FacesContext.getCurrentInstance().getViewRoot().getChildren()) {
    if(component.getId().contains("activityDescription")){
        foundComponent = component;
        break;
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-17T13:05:10.190

只需放入`prependId="false"`此文本区域所在的表单即可。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T11:54:00.047

是的，在`NamingContainers`您必须添加属性的所有父组件中`prependId="false"`- 它`<h:form>`肯定会起作用并且应该在其他组件中起作用。
如果无法通过 .xhtml 文件中的属性设置它，则必须以编程方式设置此类值。

问题作者评论后的建议：

如果您正在使用的组件中没有这样的属性，请尝试编写这样的 find 方法：

```
private UIComponent findComponent(String id, UIComponent where) {
if (where == null) {
   return null;
}
else if (where.getId().equals(id)) {
   return where;
}
else {
   List<UIComponent> childrenList = where.getChildren();
   if (childrenList == null || childrenList.isEmpty()) {
      return null;
   }
   for (UIComponent child : childrenList) {
      UIComponent result = null;
      result = findComponent(id, child);
      if(result != null) {
         return result;
   }
   return null;
} 
```

接下来只是调用

```
UIComponent iamLookingFor = findComponent(myId, FacesContext.getCurrentInstance().getViewRoot()); 
```

那会有帮助吗？

# jquery - 如何将数据更新推送到视图

> ID：14378440
> 
> 赞同：0
> 
> 时间：2013-01-17T11:50:06.673
> 
> 标签：jquery, model-view-controller, ruby-on-rails-3.2

我有一个 Rails 3.2 项目，我需要更新视图而无需重新加载页面。

在实现状态的模型上需要此特定功能。

该状态字段将根据用户的操作而改变。

在我看来：

```
<p><%= MyModel.state %></p> 
```

当数据库端的值发生变化时，如何强制应用程序更新该值？

我应该看哪些选项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T20:28:57.840

这里有一个很好的 Railscast[第 329 集](http://railscasts.com/episodes/229-polling-for-changes)

如果您订阅，还有一个更新版本。

# xslt - 基于querystring构建xpath

> ID：14378443
> 
> 赞同：0
> 
> 时间：2013-01-17T11:50:15.980
> 
> 标签：xslt, sitecore

我正在尝试在 xslt 中进行相当简单的“搜索”。我有一个基本的 xpath 表达式。然后，用户可以在 3 个选择框中选择一些值并提交。这返回 3 个参数，我可以通过查询字符串获得。然后，我需要根据选择框中的选择向我的 xpath 添加一些表达式。

我在 Sitecore 中使用 XSLT 1.0。

可能的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:58:50.333

对于参数的类型，您没有给出太多线索，但是如果说`param1`元素名称`param2`是 id 值，那么 xpath 例如

```
//*[name()=$param1][@id=$param2] 
```

将选择名称由第一个参数指定的元素，其 id 属性的值由第二个参数指定。

如果您希望最后一个谓词仅在参数非空时检查 id 值，则

```
[$param2='' or @id=$param2] 
```

# playframework-2.0 - 自定义提供程序中的错误，java.lang.IllegalArgumentException：java.lang.ClassCastException

> ID：14378450
> 
> 赞同：0
> 
> 时间：2013-01-17T11:50:41.547
> 
> 标签：playframework-2.0, jclouds

我正在使用 jcloud 编写一个 play 2.0 应用程序。

这是我第一次使用“play dist”来运行我的应用程序。

当我使用“play run”或“play start”甚至“play stage”时，一切都运行良好，但是当我运行“play dist”然后“dist/start”时，我在下面粘贴了错误（必须删除一些行，因为它太大了）。

这是我正在运行的代码 - 它只是配置 jcloud 接口。

```
 public void init(){
        String cloudProvider = conf.server.bootstrap.cloudProvider;
        String username = conf.server.bootstrap.username;
        String apiKey = conf.server.bootstrap.apiKey;
        logger.info( "initializing bootstrapper with [cloudProvider, username, apiKey]=[{},{},{}]", new Object[]{cloudProvider, username, apiKey} );
        ContextBuilder contextBuilder = ContextBuilder.newBuilder( cloudProvider );
        contextBuilder.credentials( username, apiKey );
        ComputeServiceContext context = contextBuilder.buildView( ComputeServiceContext.class );
        _compute = context.getComputeService();
        _nova = context.unwrap();
    } 
```

我该如何解决？

```
3203) Error in custom provider, java.lang.IllegalArgumentException: java.lang.ClassCastException@6c27ca12
  at org.jclouds.http.handlers.RedirectionRetryHandler.class(RedirectionRetryHandler.java:49)
  while locating org.jclouds.http.handlers.RedirectionRetryHandler
    for parameter 1 at org.jclouds.http.handlers.DelegatingRetryHandler.<init>(DelegatingRetryHandler.java:59)
  at org.jclouds.http.handlers.DelegatingRetryHandler.class(DelegatingRetryHandler.java:59)
  while locating org.jclouds.http.handlers.DelegatingRetryHandler
    for parameter 3 at org.jclouds.http.internal.JavaUrlHttpCommandExecutorService.<init>(JavaUrlHttpCommandExecutorService.java:101)
  at org.jclouds.http.internal.JavaUrlHttpCommandExecutorService.class(JavaUrlHttpCommandExecutorService.java:80)
  while locating org.jclouds.http.internal.JavaUrlHttpCommandExecutorService
  at org.jclouds.http.config.JavaUrlHttpCommandExecutorServiceModule.configure(JavaUrlHttpCommandExecutorServiceModule.java:42)
  while locating org.jclouds.http.HttpCommandExecutorService
    for parameter 0 at org.jclouds.http.TransformingHttpCommandExecutorServiceImpl.<init>(TransformingHttpCommandExecutorServiceImpl.java:44)
  while locating org.jclouds.http.TransformingHttpCommandExecutorServiceImpl
  at org.jclouds.http.config.JavaUrlHttpCommandExecutorServiceModule.configure(JavaUrlHttpCommandExecutorServiceModule.java:43)
  while locating org.jclouds.http.TransformingHttpCommandExecutorService
    for field at org.jclouds.rest.config.RestModule$Factory.executorService(RestModule.java:199)
  while locating org.jclouds.rest.config.RestModule$Factory
  at org.jclouds.rest.config.RestModule.configure(RestModule.java:102)
  while locating org.jclouds.rest.internal.AsyncRestClientProxy$Factory
    for parameter 1 at org.jclouds.rest.config.RestModule$CreateAsyncClientForCaller.<init>(RestModule.java:168)
  while locating org.jclouds.rest.config.RestModule$CreateAsyncClientForCaller
  at org.jclouds.rest.config.RestModule.provideAsyncDelegateMap(RestModule.java:160)
  at org.jclouds.rest.config.RestModule.provideAsyncDelegateMap(RestModule.java:160)
  while locating com.google.common.cache.LoadingCache<org.jclouds.internal.ClassMethodArgs, java.lang.Object> annotated with @com.google.inject.name.Named(value=async)
    for parameter 4 at org.jclouds.rest.internal.AsyncRestClientProxy.<init>(AsyncRestClientProxy.java:116)
  at org.jclouds.rest.internal.AsyncRestClientProxy.class(AsyncRestClientProxy.java:93)
  while locating org.jclouds.rest.internal.AsyncRestClientProxy<org.jclouds.openstack.nova.v2_0.NovaAsyncApi>
  at org.jclouds.rest.config.BinderUtils.bindAsyncClient(BinderUtils.java:94)
  while locating org.jclouds.openstack.nova.v2_0.NovaAsyncApi
  at org.jclouds.rest.config.BinderUtils.bindClient(BinderUtils.java:88)
  while locating org.jclouds.openstack.nova.v2_0.NovaApi
    for parameter 0 at org.jclouds.openstack.nova.v2_0.compute.loaders.LoadFloatingIpsForInstance.<init>(LoadFloatingIpsForInstance.java:46)
  at org.jclouds.openstack.nova.v2_0.compute.loaders.LoadFloatingIpsForInstance.class(LoadFloatingIpsForInstance.java:41)
  while locating org.jclouds.openstack.nova.v2_0.compute.loaders.LoadFloatingIpsForInstance
  while locating com.google.common.cache.CacheLoader<org.jclouds.openstack.nova.v2_0.domain.zonescoped.ZoneAndId, java.lang.Iterable<? extends org.jclouds.openstack.nova.v2_0.domain.FloatingIP>> annotated with @com.google.inject.name.Named(value=FLOATINGIP)
  at org.jclouds.openstack.nova.v2_0.compute.config.NovaComputeServiceContextModule.instanceToFloatingIps(NovaComputeServiceContextModule.java:168)
  at org.jclouds.openstack.nova.v2_0.compute.config.NovaComputeServiceContextModule.instanceToFloatingIps(NovaComputeServiceContextModule.java:168)
  while locating com.google.common.cache.LoadingCache<org.jclouds.openstack.nova.v2_0.domain.zonescoped.ZoneAndId, java.lang.Iterable<? extends org.jclouds.openstack.nova.v2_0.domain.FloatingIP>> annotated with @com.google.inject.name.Named(value=FLOATINGIP)
    for parameter 1 at org.jclouds.openstack.nova.v2_0.compute.functions.RemoveFloatingIpFromNodeAndDeallocate.<init>(RemoveFloatingIpFromNodeAndDeallocate.java:54)
  while locating org.jclouds.openstack.nova.v2_0.compute.functions.RemoveFloatingIpFromNodeAndDeallocate
    for parameter 2 at org.jclouds.hpcloud.compute.HPCloudComputeServiceAdapter.<init>(HPCloudComputeServiceAdapter.java:29)
  while locating org.jclouds.hpcloud.compute.HPCloudComputeServiceAdapter
  while locating org.jclouds.openstack.nova.v2_0.compute.NovaComputeServiceAdapter
  while locating org.jclouds.compute.ComputeServiceAdapter<org.jclouds.openstack.nova.v2_0.domain.zonescoped.ServerInZone, org.jclouds.openstack.nova.v2_0.domain.zonescoped.FlavorInZone, org.jclouds.openstack.nova.v2_0.domain.zonescoped.ImageInZone, org.jclouds.domain.Location>
  at org.jclouds.compute.config.ComputeServiceAdapterContextModule.provideHardware(ComputeServiceAdapterContextModule.java:105)
  at org.jclouds.compute.config.ComputeServiceAdapterContextModule.provideHardware(ComputeServiceAdapterContextModule.java:105)
  while locating com.google.common.base.Supplier<java.util.Set<? extends org.jclouds.compute.domain.Hardware>>
  at org.jclouds.compute.config.BaseComputeServiceContextModule.supplySizeCache(BaseComputeServiceContextModule.java:290)
  at org.jclouds.compute.config.BaseComputeServiceContextModule.supplySizeCache(BaseComputeServiceContextModule.java:290)
  while locating com.google.common.base.Supplier<java.util.Set<? extends org.jclouds.compute.domain.Hardware>> annotated with @org.jclouds.collect.Memoized()
    for parameter 3 at org.jclouds.openstack.nova.v2_0.compute.functions.ServerInZoneToNodeMetadata.<init>(ServerInZoneToNodeMetadata.java:83)
  while locating org.jclouds.openstack.nova.v2_0.compute.functions.ServerInZoneToNodeMetadata
  while locating com.google.common.base.Function<org.jclouds.openstack.nova.v2_0.domain.zonescoped.ServerInZone, org.jclouds.compute.domain.NodeMetadata>
    for parameter 3 at org.jclouds.compute.strategy.impl.AdaptingComputeServiceStrategies.<init>(AdaptingComputeServiceStrategies.java:83)
  at org.jclouds.compute.strategy.impl.AdaptingComputeServiceStrategies.class(AdaptingComputeServiceStrategies.java:65)
  while locating org.jclouds.compute.strategy.impl.AdaptingComputeServiceStrategies<org.jclouds.openstack.nova.v2_0.domain.zonescoped.ServerInZone, org.jclouds.openstack.nova.v2_0.domain.zonescoped.FlavorInZone, org.jclouds.openstack.nova.v2_0.domain.zonescoped.ImageInZone, org.jclouds.domain.Location>
  at org.jclouds.compute.config.ComputeServiceAdapterContextModule.defineAddNodeWithTagStrategy(ComputeServiceAdapterContextModule.java:166)
  at org.jclouds.compute.config.ComputeServiceAdapterContextModule.defineAddNodeWithTagStrategy(ComputeServiceAdapterContextModule.java:166)
  while locating org.jclouds.compute.strategy.CreateNodeWithGroupEncodedIntoName
    for parameter 0 at org.jclouds.openstack.nova.v2_0.compute.strategy.ApplyNovaTemplateOptionsCreateNodesWithGroupEncodedIntoNameThenAddToSet.<init>(ApplyNovaTemplateOptionsCreateNodesWithGroupEncodedIntoNameThenAddToSet.java:83)
  at org.jclouds.openstack.nova.v2_0.compute.strategy.ApplyNovaTemplateOptionsCreateNodesWithGroupEncodedIntoNameThenAddToSet.class(ApplyNovaTemplateOptionsCreateNodesWithGroupEncodedIntoNameThenAddToSet.java:64)
  while locating org.jclouds.openstack.nova.v2_0.compute.strategy.ApplyNovaTemplateOptionsCreateNodesWithGroupEncodedIntoNameThenAddToSet
  while locating org.jclouds.compute.strategy.impl.CreateNodesWithGroupEncodedIntoNameThenAddToSet
  while locating org.jclouds.compute.strategy.CreateNodesInGroupThenAddToSet
Caused by: java.lang.IllegalArgumentException: java.lang.ClassCastException@6c27ca12
        at sun.reflect.GeneratedConstructorAccessor26.newInstance(Unknown Source)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at com.google.inject.internal.DefaultConstructionProxyFactory$2.newInstance(DefaultConstructionProxyFactory.java:85)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:85)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleFieldInjector.inject(SingleFieldInjector.java:53)
        at com.google.inject.internal.MembersInjectorImpl.injectMembers(MembersInjectorImpl.java:110)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:94)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.spi.ProviderLookup$1.get(ProviderLookup.java:89)
        at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:98)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1009)
        at org.jclouds.rest.AsyncClientFactory.create(AsyncClientFactory.java:48)
        at org.jclouds.rest.config.AsyncClientProvider.get(AsyncClientProvider.java:47)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1009)
        at org.jclouds.rest.config.ClientProvider.get(ClientProvider.java:64)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.spi.ProviderLookup$1.get(ProviderLookup.java:89)
        at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:98)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.spi.ProviderLookup$1.get(ProviderLookup.java:89)
        at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:98)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.spi.ProviderLookup$1.get(ProviderLookup.java:89)
        at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:98)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.InjectorImpl$4$1.call(InjectorImpl.java:978)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.InjectorImpl$4.get(InjectorImpl.java:974)
        at com.google.inject.spi.ProviderLookup$1.get(ProviderLookup.java:89)
        at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:98)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38)
        at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62)
        at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84)
        at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031)
        at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)
        at com.google.inject.Scopes$1$1.get(Scopes.java:65)
        at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40)
        at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54)
        at com.google.inject.internal.InjectorImpl$3.get(InjectorImpl.java:737)
        at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:204)
        at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:198)
        at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1024)
        at com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:198)
        at com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:179)
        at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:109)
        at com.google.inject.Guice.createInjector(Guice.java:95)
        at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:321)
        at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:261)
        at org.jclouds.ContextBuilder.buildView(ContextBuilder.java:521)
        at org.jclouds.ContextBuilder.buildView(ContextBuilder.java:501)
        at beans.ServerBootstrapperImpl.init(ServerBootstrapperImpl.java:123) 
```

我的依赖是

```
 "com.google.guava" % "guava" % "13.0.1"  ,
  "org.jclouds" % "jclouds-allcompute" % "1.5.1"  ,
  "org.reflections" % "reflections" % "0.9.8"  ,
  "org.jclouds.driver" % "jclouds-sshj" % "1.5.0" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T22:13:39.430

过去，存在与反思的阶级冲突。霰弹枪回答，但这有帮助吗？[https://github.com/jclouds/jclouds-examples/blob/master/play-compute/project/Build.scala](https://github.com/jclouds/jclouds-examples/blob/master/play-compute/project/Build.scala)

# google-analytics - 谷歌分析 - 在不创建个人资料的情况下获得子域的访问？

> ID：14378458
> 
> 赞同：0
> 
> 时间：2013-01-17T11:50:59.310
> 
> 标签：google-analytics

[http://www.bigdaylight.com/analytics/filtering-subdomains-in-google-analytics/](http://www.bigdaylight.com/analytics/filtering-subdomains-in-google-analytics/)

我想知道是否有办法获取子域的统计信息，例如。

sub.mypage.com/examplepage - 我可以通过 GA 面板中的“examplepage”搜索并查看此数据并通过 Core Reporting API 获取此数据

sub.mypage.com/ - 这些访问在 GA 面板中的“/”下可用

有没有办法在不创建配置文件的情况下获取第二页的统计信息？问题是我是维护站点，我们有 15 个子域，为每个子域创建和维护配置文件会很痛苦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T15:18:35.620

问题的解决方案是汇总报告。

[http://analytics.blogspot.com/2009/09/advanced-structure-your-account-with.html](http://analytics.blogspot.com/2009/09/advanced-structure-your-account-with.html)

# joomla - 如何检查扩展是否真的在 Joomla 中使用

> ID：14378460
> 
> 赞同：0
> 
> 时间：2013-01-17T11:51:01.137
> 
> 标签：joomla

在禁用/卸载它之前，我想知道扩展程序（例如：joomfish）是否真的被使用或根本没有使用。

有没有办法检查？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T16:29:21.897

首先，在 Joomla 中插件是有特定含义的，所以你要知道的是使用的是组件、模块还是插件。这是您继承站点时的常见问题。很多时候，用户安装了大量的扩展程序并且从不使用或卸载它们。

使用模块和插件最简单的第一步是查看它们是否已发布。您还可以查看模块并查看它们是否分配给任何位置或菜单项。

在扩展方面，如果它们是一种用于创建内容的扩展，并且您查看管理器，您可以查看是否曾经创建过任何内容。如果没有，卸载可能是安全的。如果有内容，那么您将想弄清楚是否需要保留它。

Mike 的答案的问题是.. 你怎么知道你是否已经尝试了所有可能的事物组合或可能的事件，并且足够肯定地说某些东西永远不会运行。例如，您可能有一个从未用作菜单项的组件，但随后某个模块正在针对其数据运行查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T14:08:22.600

Well you cannot know that. To be absolutely shure you could write a system plugin which gets triggered on plugin calls and logs the triggering plugin names.

# android - android中的盲文（IDE：Eclipse）

> ID：14378463
> 
> 赞同：0
> 
> 时间：2013-01-17T11:51:09.617
> 
> 标签：android

我正在用 android 编写一个应用程序来将英文文本转换为盲文。我怎样才能做到这一点？我可以下载任何字体来将用户输入的英文字母转换为盲文还是有其他方法可以做到这一点？

确实将不胜感激提供的任何支持！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:17:44.663

[http://www.fontspace.com/category/braille](http://www.fontspace.com/category/braille)上有很多盲文字体。

但你真正想做的是什么？仅以盲文显示等效内容？或者制作一个触觉小工具来翻译盲文文本？

要添加字体，请使用：

```
Typeface typface=Typeface.createFromAsset(getAssets(),"fonts/YOURFONT.ttf"); 
```

并将您的字体放在资产目录中

# java - 关于 Spring MVC 在这两种情况下如何接收和使用 Accept Header 的一些信息

> ID：14378466
> 
> 赞同：1
> 
> 时间：2013-01-17T11:51:18.373
> 
> 标签：java, json, spring, spring-mvc

我正在研究可从 STS 仪表板下载的 Spring MVC 展示示例。

在这段时间里，我正在研究这个例子的转换器部分，我有一些问题要问你。

首先，在我看来，我有以下两个链接：

```
<li>
    <a id="writeJsonAccept" class="writeJsonLink" href="<c:url value="/messageconverters/json" />">Write JSON via Accept=application/json</a>
</li>

<li>
    <a id="writeJsonExt" class="writeJsonLink" href="<c:url value="messageconverters/json" />">Write JSON via ".json"</a>
</li> 
```

第一个链接向 URL 生成一个 HTTP 请求：**messageconverters/json**

第二个链接生成一个对 URL 的 HTTP 请求：**/messageconverters/json.json**（与第一个 URL 不同，它以.json扩展名**结尾**

好的，这两个链接都有**class="writeJsonLink"**并且与这些链接的点击事件相关，调用以下 JQuery 回调函数：

```
$("a.writeJsonLink").click(function() {

    var link = $(this);                      

    $.ajax({ 
        url: this.href,  

        beforeSend: function(req) { 

            if (!this.url.match(/\.json$/)) { 
                req.setRequestHeader("Accept", "application/json");          
            }
        },
        success: function(json) {
            MvcUtil.showSuccessResponse(JSON.stringify(json), link);
        },
        error: function(xhr) {  
            MvcUtil.showErrorResponse(xhr.responseText, link);
        }});
    return false;
}); 
```

此函数仅执行 AJAX 调用并等待将其内容传递给处理程序的 HTTP 响应，该处理程序将在视图中显示输出...好的...

**在发送请求之前，该函数会检查 URL 是否不以 .json 扩展名结尾**

如果此请求**不以 .json 扩展名结尾，**则会将以下标头添加到我的 HTTP 请求中：

**接受 = 应用程序/json**

据我所知，Accept Header 说哪种特定的媒体类型对于 HTTP 响应是相当可接受的，在这种情况下，说唯一可接受的媒体类型是具有 JSON 格式的 JavaScript 对象，好的...

此请求由我的控制器类的以下方法处理，该方法返回一个经过验证的对象，该对象将使用 Jaxb2RootElementHttpMessageConverter 转换为 JSON 格式

```
@RequestMapping(value="/json", method=RequestMethod.GET)
public ResponseEntity<JavaBean> writeJson() {

    // Oggetto che rappresenta gli HTTP Header dell'HTTP Response
    HttpHeaders headers = new HttpHeaders();
    headers.setContentType(MediaType.TEXT_PLAIN);
    return new ResponseEntity<JavaBean>(new JavaBean("bar", "apple"), headers , HttpStatus.OK); 
```

// return new JavaBean("bar", "apple"); }

现在，我的问题是关于这两个链接的差异。

第一个**不以 .json**扩展名结尾，因此**添加了 Accept 标头，并在 application/json 上设置**了浏览器期望接收 JSON 对象的信息

第二个**以 .json**扩展名结尾，因此**Jquery 方法不设置 Accept Header**

可是，这东西是什么意思？当 URL 以 .json 结尾时，Accept 标头会自动设置吗？或者更一般地说，当我有一个以某种扩展名（例如 .xml）结尾的 URL 时，是否会自动设置相关的 Accept 标头？

或者只是在第二种情况下，不要设置 Accept Header 意味着不处理我可以在 HTTP 响应正文中接收的媒体类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T16:00:57.130

好吧，你的英语不是那么火爆，所以让我尽力帮助你。

在我的理解中，这很可能是错误的，您是否想知道当 URL 以 json 结尾时，浏览器是否会将 Accept: 标头设置为 json？我不相信是这样的。我可能对此大错特错，但您可以使用 Firebug 或 Chrome 的开发者工具之类的东西来测试它，或者如果您喜欢 IE 获取 Fiddler，并查看从浏览器发送的确切标头。

现在，如果你问 Spring 是否会神奇地将标题放在那里，那么我再次认为答案是“不”。请求上的 HTTP 标头来自浏览器，尽管您*可以*放入 Servlet 过滤器或其他东西来设置请求过滤器，但我认为假设所有浏览器都以相同的方式处理这些请求标头是很危险的。

不，如果问题是“我的请求是如何到达我的 Controller 的 writeJson() 方法的？”，那么答案与“Accept”标头完全无关。您的方法匹配任何以 /json 结尾的 URI 模式，并且在这两种情况下，您的 URL 都以 /json 结尾。如果您想过滤具有 JSON 的“接受”标头的内容，那么我认为您想做这样的事情：

```
@RequestMapping(value="/someUriPattern", headers = {"Accept=application/json"}) 
```

请理解我从记忆中输入了以上内容，因此您可能需要稍微调整一下。

# visual-studio-2008 - FormFactor 对 Visual Studio Windows CE 中的表单大小没有影响

> ID：14378467
> 
> 赞同：1
> 
> 时间：2013-01-17T11:51:23.677
> 
> 标签：visual-studio-2008, windows-ce

我配置了一个屏幕尺寸为 240x320 的外形尺寸： ![在此处输入图像描述](../Images/3a2a4bca8b8c76eefa9968ad281730b5.png)

我已将其设为默认外形： ![在此处输入图像描述](../Images/1d94e088809b9a62b94123deeda9b91b.png)

它没有效果： ![在此处输入图像描述](../Images/500893d467ba5117c2e5ad8a5586e55a.png)

我重新创建了项目，重新启动了 Visual Studio，彻底谷歌搜索，然后卡住了。

请问有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T13:06:15.193

您正在调整的设置适用于模拟器的默认皮肤。它与表单设计器（您在最后一个屏幕截图中显示的）无关。据我所知，如果您在向项目中添加新表单时将目标类型设置为“Windows CE”（而不是 WinMo），那么您总是会得到一个 640x480 的。这类似于桌面项目，您在创建新表单时始终获得相同大小的表单。将其添加到项目后，您只需更改其大小即可。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T15:10:11.570

将 WindowState 设置为 Maximized 将神奇地将窗体大小调整为所选 FormFactor 指定的尺寸。

# linux - 从捕获其输出的函数中退出 bash 脚本

> ID：14378469
> 
> 赞同：2
> 
> 时间：2013-01-17T11:51:25.733
> 
> 标签：linux, bash, shell, sh

我想在出现错误时完全终止/退出 bash shell 脚本，但是使用一个`error`可以让我在终止之前显示调试输出的函数。现在我有一个问题，如果`exit 1`函数**的**输出是通过反引号或`$()`.

这是我的示例脚本：

```
 #!/bin/bash

    function error ()
    {
            echo "An error has occured: $1"
            exit 1
    }
    function do_sth ()
    {
            if [ $1 -eq 0 ]; then
                    error "First param must be greater than 0!"
            else
                    echo "OK!"
            fi
    }

    RESULT=`do_sth 0`

    echo "This line should never be printed" 
```

如何立即终止`error()`函数中的脚本？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:15:34.400

[命令替换](http://www.gnu.org/software/bash/manual/bashref.html#Command-Substitution)的问题是，子shell 开始执行`do_sth`。`exit 1`然后终止这个子shell，而不是主bash。

您可以通过附加 来解决此问题`|| exit $?`，它使用命令替换的退出代码退出

```
RESULT=`do_sth 0` || exit $? 
```

如果要显示错误消息，请将其重定向到 stderr

```
echo "An error has occured: $1" >&2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T14:38:00.040

```
RESULT=`do_sth 0` || exit $? 
```

然后回显“发生错误：$1”>&2

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T13:30:36.070

没有办法避免子shell 不能使父进程直接终止这一事实：父进程必须评估从子shell 返回的值。一种常见的技术是陷阱退出并在陷阱函数中打印错误消息。由于您在子 shell 中生成错误消息，因此您不能像其他方式那样简单地将消息分配给变量，但您可以使用文件系统。请注意，这个想法真的很傻，简单地将错误消息写入stderr要干净得多。这就是它的用途，这就是它被孩子继承的原因。就像是：

```
#!/bin/sh

trap final 0 2 15

# Create a temporary file to store error messages.  This is a terrible
# idea: it would be much better to simply write error messages to stderr,
# but this code is attempting to demonstrate the technique of having the
# parent print the message.  Perhaps it would do better to serve as an example
# of why reporting your children's mistakes is a bad idea.  The children
# should be responsible for reporting their own errors.  Doing so is easy,
# since they inherit file descriptor 2 from their parent.
errmsg=$( mktemp xxxxx )
final() {
    test "$?" = 0 || cat $errmsg
    rm -f $errmsg
} >&2

# Must emphasize one more time that this is a silly idea.  The error 
# function ought to be writing to stderr: eg echo "error: $*" >&2
error() { echo "error: $*" > $errmsg; exit 1; }
do_sth() { 
    if test "$1" -eq 0; then
        error "First param must be greater than 0!"
    else
        echo "OK!"
    fi
}

result=$( do_sth 0 ) || exit 1
echo not printed 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T14:05:55.613

似乎（聪明的）答案是@FatalError的另一个问题的最佳答案，**[在这里](https://stackoverflow.com/a/9894126/1841533)**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T14:56:22.520

这应该工作...

```
#!/bin/bash

trap "exit 1" 50                                       #exit process after receiving signal 50.

function myerror ()
{
    echo "An error has occured: $1" >&2
}
function do_sth ()
{
    if [ $1 -eq 0 ]; then
        myerror "First param must be greater than 0!"
        kill -50 $(ps --pid $$ -opid=)                 #uncommon signal 50 is used.
    else
        echo "OK!"
    fi
}

RESULT=`do_sth 1`
echo $RESULT

RESULT=`do_sth 0`
echo $RESULT

echo "This line should never be printed" 
```

# java - Twitter：在提供用户名和密码后，应用程序崩溃

> ID：14378470
> 
> 赞同：0
> 
> 时间：2013-01-17T11:51:27.277
> 
> 标签：java, android, twitter

在我的 android 应用程序中，数据必须使用 twitter 共享，所以按照这个链接[http://androidcodeexamples.blogspot.in/2011/12/how-to-integrate-twitter-in-android.html](http://androidcodeexamples.blogspot.in/2011/12/how-to-integrate-twitter-in-android.html)，一切正常，但是提供用户名和密码后，获得强制关闭选项。这是 logcat 输出

```
 01-17 17:07:54.118: E/AndroidRuntime(383): FATAL EXCEPTION: main
  01-17 17:07:54.118: E/AndroidRuntime(383): java.lang.NullPointerException
 01-17 17:07:54.118: E/AndroidRuntime(383):      com.twitter.android.TwitterApp$1.handleMessage(TwitterApp.java:237)
 01-17 17:07:54.118: E/AndroidRuntime(383):     at     android.os.Handler.dispatchMessage(Handler.java:99)
01-17 17:07:54.118: E/AndroidRuntime(383):  at android.os.Looper.loop(Looper.java:123)
01-17 17:07:54.118: E/AndroidRuntime(383):  at   android.app.ActivityThread.main(ActivityThread.java:3683)
01-17 17:07:54.118: E/AndroidRuntime(383):  at  java.lang.reflect.Method.invokeNative(Native Method)
01-17 17:07:54.118: E/AndroidRuntime(383):  at java.lang.reflect.Method.invoke(Method.java:507)
01-17 17:07:54.118: E/AndroidRuntime(383):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
01-17 17:07:54.118: E/AndroidRuntime(383):  at   com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
 01-17 17:07:54.118: E/AndroidRuntime(383):     at   dalvik.system.NativeStart.main(Native Method) 
```

这是mainactivity中的代码

```
public class Singlemenuitem  extends Activity {

private TwitterApp mTwitter;
private static final String CONSUMER_KEY = "6JyIkj71ZqG4wk3YF0Y4hw";
private static final String CONSUMER_SECRET = "sJl9aRVqlEt7nxlKvpMVK6tLULz5FSQ2KUOW0yie4";
private enum FROM {
    TWITTER_POST, TWITTER_LOGIN
};

private enum MESSAGE {
    SUCCESS, DUPLICATE, FAILED, CANCELLED
};
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.single_list_item);
    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()
    .permitAll().build();
   StrictMode.setThreadPolicy(policy);

   mTwitter = new TwitterApp(this, CONSUMER_KEY, CONSUMER_SECRET);

    //share twitter
        final ImageView twitter = (ImageView) findViewById(R.id.twitter);
        twitter.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v){
                mTwitter.resetAccessToken();
        if (mTwitter.hasAccessToken() == true) {
            try {
                mTwitter.updateStatus(String.valueOf(Html
                        .fromHtml(TwitterApp.MESSAGE)));

                // File f = new File("/mnt/sdcard/android.jpg");
                // mTwitter.uploadPic(f, String.valueOf(Html
                // .fromHtml(TwitterApp.MESSAGE)));

                postAsToast(FROM.TWITTER_POST, MESSAGE.SUCCESS);
            } catch (Exception e) {
                if (e.getMessage().toString().contains("duplicate")) {
                    postAsToast(FROM.TWITTER_POST, MESSAGE.DUPLICATE);
                }
                e.printStackTrace();
            }
            mTwitter.resetAccessToken();
        } else {
            mTwitter.authorize();
        }
    }

    private void postAsToast(FROM twitterPost, MESSAGE success) {
        switch (twitterPost) {
        case TWITTER_LOGIN:
            switch (success) {
            case SUCCESS:
Toast.makeText(Singlemenuitem.this, "Login Successful", Toast.LENGTH_LONG)
                        .show();
                break;
            case FAILED:
                Toast.makeText(Singlemenuitem.this, "Login Failed", Toast.LENGTH_LONG).show();
            default:
                break;
            }
            break;
        case TWITTER_POST:
            switch (success) {
            case SUCCESS:
                Toast.makeText(Singlemenuitem.this, "Posted Successfully", Toast.LENGTH_LONG)
                        .show();
                break;
            case FAILED:
                Toast.makeText(Singlemenuitem.this, "Posting Failed", Toast.LENGTH_LONG)
                        .show();
                break;
            case DUPLICATE:
                Toast.makeText(Singlemenuitem.this,
                        "Posting Failed because of duplicate message...",
                        Toast.LENGTH_LONG).show();
            default:
                break;
            }
            break;
        }

    TwDialogListener mTwLoginDialogListener = new TwDialogListener() {

        public void onError(String value) {
            postAsToast(FROM.TWITTER_LOGIN, MESSAGE.FAILED);
            Log.e("TWITTER", value);
            mTwitter.resetAccessToken();
        }

        public void onComplete(String value) {
            try {
                mTwitter.updateStatus(TwitterApp.MESSAGE);
                postAsToast(FROM.TWITTER_POST, MESSAGE.SUCCESS);
            } catch (Exception e) {
                if (e.getMessage().toString().contains("duplicate")) {
                    postAsToast(FROM.TWITTER_POST, MESSAGE.DUPLICATE);
                }
                e.printStackTrace();
            }
            mTwitter.resetAccessToken();
        } 
```

# c# - 在每个文本框内绘制一个矩形 c# winform

> ID：14378471
> 
> 赞同：0
> 
> 时间：2013-01-17T11:51:27.733
> 
> 标签：c#, winforms, textbox, drawrectangle

我想区分表单中的必填文本框字段。我通过使用每个表单调用的方法创建一个类来实现这一点。该方法的作用是接收一个文本框列表，并且对于每个文本框，它将背景色设置为另一个。

```
public static void Mostrar_campos_obligatorios(List<TextBox> lista_textbox)
{
    foreach (TextBox tbx in lista_textbox)
    {
        tbx.Paint += new PaintEventHandler(TextBoxRectangle);
    }
} 
```

我现在更改了 GUI，我不喜欢更改背景色后的样子，然后我想绘制一个矩形，如下图所示：

![在此处输入图像描述](../Images/32d53d11dd21019ca8b9b1cae7bbd3fa.png)

把渐变的东西留给我，我只需要帮助绘制一个与每个 TextBox 高度相同的矩形并位于它的末尾。我也想使用该方法定义（我的意思是，接收文本框列表）。

请注意，这些方法是静态的..

我试过这样的事情：

```
public static void TextBoxRectangle(object sender, PaintEventArgs e)
{
    tbx = (TextBox)sender;
    Color c1 = Color.FromArgb(255, 113, 255, 0);
    Color c2 = Color.FromArgb(255, 2, 143, 17);

    LinearGradientBrush br = new LinearGradientBrush(e.CellBounds, c1, c2, 90, true);

    ColorBlend cb = new ColorBlend();
    cb.Positions = new[] { 0, (float)1 };
    cb.Colors = new[] { c1, c2 };

    br.InterpolationColors = cb;

    Rectangle rect = new Rectangle(tbx.Location.X + 4, tbx.Location.Y + 4, 13, 13);

    e.Graphics.FillRectangle(br, rect);
} 
```

但不工作。它甚至不访问`TextBoxRectangle()`. 我觉得我做的很不对。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:23:53.093

```
public static void Mostrar_campos_obligatorios(List<TextBox> lista_textbox, PaintEventHandler eventHandler)
{
    foreach (TextBox tbx in lista_textbox)
    {
        tbx.Paint += new PaintEventHandler(eventHandler);
    }
} 
```

...

```
Mostrar_campos_obligatorios(lista_textbox, new PaintEventHandler(TextBoxRectangle)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:29:16.527

我的建议是：不要用复杂的逻辑来画一个矩形。*您不能只是简单地在文本框中放置一个看起来像您在问题中显示的矩形的背景图像吗？*. 无需绘制矩形和东西。

图像可以是任何渐变/非渐变。

# sql - Oracle SQL 按单个字段分组并计算分组行数

> ID：14378475
> 
> 赞同：4
> 
> 时间：2013-01-17T11:51:40.697
> 
> 标签：sql, oracle, plsql, count, group-by

考虑这张表`some_table`：

```
+--------+----------+---------------------+-------+
| id     | other_id | date_value          | value |
+--------+----------+---------------------+-------+
| 1      | 1        | 2011-04-20 21:03:05 | 104   |
| 2      | 1        | 2011-04-20 21:03:04 | 229   |
| 3      | 3        | 2011-04-20 21:03:03 | 130   |
| 4      | 1        | 2011-04-20 21:02:09 | 97    |
| 5      | 2        | 2011-04-20 21:02:08 | 65    |
| 6      | 3        | 2011-04-20 21:02:07 | 101   |
| ...    | ...      | ...                 | ...   |
+--------+----------+---------------------+-------+ 
```

我想按 选择和分组`other_id`，这样我只能得到唯一`other_id`的 s。此查询有效（信用@MichaelPakhantsov）：

```
select id, other_id, date_value, value from
 (
   SELECT id, other_id, date_value, value, 
   ROW_NUMBER() OVER (partition by other_id order BY Date_Value desc) r
   FROM some_table 
 )
 where r = 1 
```

我怎样才能得到相同的结果，但要计算每个`other_id`. 期望的结果如下所示：

```
+--------+----------+---------------------+-------+-------+
| id     | other_id | date_value          | value | count |
+--------+----------+---------------------+-------+-------+
| 1      | 1        | 2011-04-20 21:03:05 | 104   | 3     |
| 5      | 2        | 2011-04-20 21:02:08 | 65    | 2     |
| 3      | 3        | 2011-04-20 21:03:03 | 130   | 2     |
+--------+----------+---------------------+-------+-------+ 
```

我已经尝试`COUNT(other_id)`在内部和外部选择中使用，但它会产生这个错误：

> ORA-00937: 不是单组组函数

* * *

注意：类似于[此问题](https://stackoverflow.com/questions/5815601/oracle-sql-group-by-not-a-group-by-expression-help)（示例表和从那里获取的答案），但该问题没有给出折叠行的计数。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-17T11:56:51.460

添加一个

```
count(*) OVER (partition by other_id) cnt 
```

到内部查询

```
select id, other_id, date_value, value, cnt from
 (
   SELECT id, other_id, date_value, value, 
   ROW_NUMBER() OVER (partition by other_id order BY Date_Value desc) r,
   count(*) OVER (partition by other_id) cnt
   FROM some_table 
 )
 where r = 1 
```

# android - 如何从 sdcard 中过滤 .txt 文件

> ID：14378476
> 
> 赞同：0
> 
> 时间：2013-01-17T11:51:47.713
> 
> 标签：android

我想在 Listview 中列出文本文件并从 sdcard 中选择 .txt 文件路径。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:57:09.420

试试这个 ：

```
public void scandir(File dir) {
    String txtPattern = ".txt";

    File listFile[] = dir.listFiles();

    if (listFile != null) {
        for (int i = 0; i < listFile.length; i++) {

            if (listFile[i].isDirectory()) {
                scandir(listFile[i]);
            } else {
              if (listFile[i].getName().endsWith(txtPattern)){
                                  //Do what ever u want

              }
            }
        }
    }
} 
```

像这样拨打电话：

```
scandir(Environment.getExternalStorageDirectory()); 
```

**参考 ：**

[Android 从 SD 卡列出具有特定扩展名的文档](http://technotzz.wordpress.com/2012/05/03/android-list-documents-with-specific-extension-from-sd-card/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:53:09.917

使用**Java String 类**`.endsWith()`中的方法从文件路径检查文件扩展名。

 **[你可以在这里](https://stackoverflow.com/a/14374122/1265724)看到我的答案

```
(another option) 
```

您可以使用`FilenameFilter`接口来筛选所有文本文件，这些文本文件是与数组相关的任何文件。在此处查看[此答案](https://stackoverflow.com/a/14374122/1265724)以仅列出 SD 卡中的图像文件。**

# microsoft-metro - Windows 8 Visual Studio 用户控件

> ID：14378477
> 
> 赞同：0
> 
> 时间：2013-01-17T11:51:50.073
> 
> 标签：microsoft-metro

我开始使用 Windows 8 Visual Studio。

我想在用户控件中嵌入用户控件，就像我以前在 vb.net 中所做的那样。设计器允许我这样做，我可以直观地创建用户控件 uc1，并在其上放置一些控件。然后，我创建了一个新的用户控件 uc2。在我编辑 uc2 时，工具箱中提供了 uc1，并且我已经构建了项目，因此它应该是最新的。

但是，如果我将 uc1 放入 uc2，框架是可见的，但内容不可见，无论是在设计时还是运行时。

我是否遗漏了某些东西，或者这是您在 Windows 8 中无法做到的？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:17:40.710

抱歉，不知道我做错了什么，但我又试了一遍，现在似乎可以正常工作了。

# jenkins - 声纳单片机活动插件？

> ID：14378483
> 
> 赞同：0
> 
> 时间：2013-01-17T11:52:02.697
> 
> 标签：jenkins, sonarqube, sonar-runner

我想为 tfs 使用 scm 活动插件（带有声纳和声纳运行器）但它不起作用，是什么问题，谢谢

错误日志；

```
13:49:13.257 INFO        org.sonar.INFO - Retrieve SCM info for C:\Program Files (x86)  \Jenkins\jobs\power\workspace\power\APICOM\Provider.cs
13:49:13.290 WARN         o.s.p.s.Blame - Fail to retrieve SCM info of: C:\Program Files (x86)\Jenkins\jobs\E-Power\workspace\power\APICOM\Provider.cs 
Reason: The tfs command failed.'tfpt' is not recognized as an internal or external command,  operable program or batch file. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:02:09.667

Sonar SCM 活动插件不支持 TFS，请参阅文档：[http ://docs.codehaus.org/display/SONAR/SCM+Activity+Plugin](http://docs.codehaus.org/display/SONAR/SCM+Activity+Plugin)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-05T06:03:16.427

您需要安装 Team Foundation Power Tools，此软件包还将安装 tfpt.exe 可执行文件。

TFPT 2010： http: [//visualstudiogallery.msdn.microsoft.com/c255a1e4-04ba-4f68-8f4e-cd473d6b971f](http://visualstudiogallery.msdn.microsoft.com/c255a1e4-04ba-4f68-8f4e-cd473d6b971f) TFPT 2012：[http ://www.microsoft.com/en-us/download/details.aspx?id=35775](http://www.microsoft.com/en-us/download/details.aspx?id=35775)

# windows-8 - 如何将 Metro 应用程序部署到 Windows 8 设备/平板电脑？

> ID：14378484
> 
> 赞同：5
> 
> 时间：2013-01-17T11:52:05.427
> 
> 标签：windows-8, windows-store-apps

为了测试应用程序，我通过创建一个在 vs2012 中提供的应用程序包来部署我的 Metro 应用程序。我已经通过使用 PowerShell 打开来部署包，但现在我想在 Windows 8 设备（平板电脑）中部署 Metro 应用程序以进行测试，我该怎么做？

1.  设备中是否还会提供 PowerShell 选项？（部署应用程序）

2.  还有其他部署方式吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:21:53.637

我已经使用它来将应用程序侧载到其他设备上进行测试，包括 SurfaceRT [http://blogs.msdn.com/b/patricka/archive/2012/11/06/10365947.aspx](http://blogs.msdn.com/b/patricka/archive/2012/11/06/10365947.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T14:22:31.080

除了在 Visual Studio 2012 中创建应用程序包并以这种方式部署应用程序外，您还可以使用[适用于 ARM 的 Visual Studio 2012 的远程工具](http://go.microsoft.com/?linkid=9810474)将应用程序部署和调试到 Surface 或其他平板电脑（适用于 x86 或 x64 平板电脑） ，使用配套的远程工具安装）。

在目标设备上安装远程工具后，您只需在目标设备上启动远程工具，配置访问权限，然后在您的开发机器上，打开项目属性，选择调试选项，然后使用下拉菜单选择远程机器作为要启动的调试器。单击机器名称字段，然后使用下拉菜单选择运行远程工具的目标机器的机器名称。

现在，当您开始调试项目时，它将被打包并部署到目标设备，您可以设置断点并单步执行您的代码。以这种方式部署后，您可以使用应用程序的磁贴从开始屏幕重新运行应用程序。

编辑：需要注意的一件重要事情...无论您是使用 PowerShell 脚本技术部署/旁加载，还是使用远程调试，目标设备都需要具有有效的开发人员许可证。当您尝试旁加载您的应用程序时，应该会提示您获取开发人员许可证，但您也可以使用 PowerShell 手动获取许可证...可以在此处找到说明：http: [//msdn.microsoft.com/en-us /library/windows/apps/xaml/hh974578.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh974578.aspx)

# jsf - primefaces 数据表选择问题

> ID：14378485
> 
> 赞同：1
> 
> 时间：2013-01-17T11:52:07.827
> 
> 标签：jsf, dialog, primefaces, datatable

我对数据表选择有一些奇怪的问题（很可能我做错了什么）。想法很简单 - 带有选择的数据表和编辑记录的对话框。问题是，如果我使用`<h:inputText>`标签（或`<p:inputText>`）它似乎是空白的，尽管支持 bean（`indicatorBean.indicator.code`）中的对象包含数据。有趣的是，如果我`<h:outputText>`输入而不是输入，则会显示数据。

这是我身体的内容

```
<!-- language: xml -->
<h:body>
    <h:form id="form">
        <p:growl id="messages" showDetail="true"/>
        <p:dataTable id="indicatorsTable" var="ind" 
                     value="#{indicatorBean.indicators}"
                     selectionMode="single" 
                     selection="#{indicatorBean.indicator}" 
                     rowKey="#{ind.id}">
            <p:column headerText="Name" style="width:125px">
                #{ind.name}
            </p:column>
            <p:column headerText="Code" style="width:125px">
                #{ind.code}
            </p:column>
            <f:facet name="footer">
                <p:commandButton id="viewButton" value="View" 
                                 icon="ui-icon-search" update=":form:display" 
                                 oncomplete="indDialog.show()"/>
            </f:facet>
        </p:dataTable>

        <p:dialog id="dialog" header="Indicator Detail" 
                  widgetVar="indDialog" resizable="false"
                  width="400" showEffect="fade" hideEffect="fade">

            <h:panelGrid id="display" columns="2" cellpadding="4">
                     <h:outputText value="Code:"/>
                     <!-- PROBLEM IS HERE --> 
                     <h:inputText value="#{indicatorBean.indicator.code}"/>

                     <h:outputText value="Name:"/>
                     <h:outputText value="#{indicatorBean.indicator.name}"/>
            </h:panelGrid>

            <p:commandButton value="Save" onclick="indDialog.hide()"/>
            <p:commandButton value="Cancel" onclick="indDialog.hide()"/>
        </p:dialog>
    </h:form>

</h:body> 
```

支持 bean 就是访问器。

我发现的另一件事是，如果我用`<h:inputtext>`静态文本（如`<h:inputText value="static text"/>`）替换 el 表达式，它就会显示出来。以下是一些图片：

# 带有输入文本的对话框

[![输入文本](../Images/d8f5a7c8e3382325f5fc150b379c90e6.png)](https://i.stack.imgur.com/9GoG4.png)

# 带有输出文本的对话框

[![输出文本](../Images/3cfa57cb5dd01290ef0b6c29a10ac4f4.png)](https://i.stack.imgur.com/vhGVI.png)

# 带有静态文本的对话框

[![静态文本](../Images/28001b99ac50a5ef214c405d5d467da5.png)](https://i.stack.imgur.com/Q1Rrc.png)

素面3.4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T13:46:24.390

您似乎已经发现的问题是您将对话框本身放置在表单中。这是一个问题，因为 jQuery 对话框控件的工作方式是 Primefaces 对话框的客户端基础。本质上，它将与对话框相关联的 DOM 元素移动到其他地方，可能超出您打算包含它的表单之外。

这个问题可以很容易地解决，方法是将对话框放在表单之外，而将表单放在对话框主体内。

```
<p:dialog id="dialogId" ...>
  <h:form id="dlgForm">
     ....
  </h:form>
</p:dialog> 
```

这样，当 jQuery UI 将对话框控件移动到 DOM 中的其他位置时，该 DOM 的内容（包括表单）也会随之而来。

# javascript - 当数据包含'@'登录显示标签的href链接时如何避免进入邮箱

> ID：14378489
> 
> 赞同：0
> 
> 时间：2013-01-17T11:52:20.100
> 
> 标签：javascript, jquery, html, displaytag

当链接包含“@”符号时如何阻止浏览器进入邮箱。

```
<display:column class="aligncenter" style="font-style: italic;"
                        property="conditions" sortable="true" title="Terms & Conditions"
                        autolink="true" href="javascript: openWindow('#')" paramId="pid"
                        paramProperty="pid">
                    </display:column>

function openWindow(pid) {
    pid = pid.substring(0, pid.length - 1);
    var url = "conditionpopup" + pid;
    var a = navigator.appName;
    if (a == "Netscape" || a == "Crome") {
        var w = screen.width / 2.3;
        var h = screen.height / 1.3;
        var left = (screen.width / 2) - (w / 2);
        var top = (screen.height / 2) - (h / 2);
        window.open(url, 'condtionpopup', "width=" + w + ", height=" + h
                + ", top=" + top + ", left=" + left
                + ", resizable=no, titlebar=0,dialog=yes,location=no");
    } else {
        var w = screen.width / 2.3;
        var h = screen.height / 1.5;
        var left = (screen.width / 2) - (w / 2);
        var top = (screen.height / 2) - (h / 2);
        window.open(url, 'condtionpopup', "width=" + w + ", height=" + h
                + ", top=" + top + ", left=" + left
                + ", resizable=no, titlebar=0,dialog=yes,location=no");
    }

} 
```

当数据包含“@”符号时，它会进入我不希望它进入我发送的页面的邮箱

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:06:19.117

请替换这个：

```
if (a == "Netscape" || a == "Crome") {
    var w = screen.width / 2.3;
    var h = screen.height / 1.3;
    var left = (screen.width / 2) - (w / 2);
    var top = (screen.height / 2) - (h / 2);
    window.open(url, 'condtionpopup', "width=" + w + ", height=" + h
            + ", top=" + top + ", left=" + left
            + ", resizable=no, titlebar=0,dialog=yes,location=no");
} else {
    var w = screen.width / 2.3;
    var h = screen.height / 1.5;
    var left = (screen.width / 2) - (w / 2);
    var top = (screen.height / 2) - (h / 2);
    window.open(url, 'condtionpopup', "width=" + w + ", height=" + h
            + ", top=" + top + ", left=" + left
            + ", resizable=no, titlebar=0,dialog=yes,location=no");
} 
```

有了这个：

```
var h = screen.height / 1.5;
if (a == "Netscape" || a == "Crome") {
    var h = screen.height / 1.3;
}
var w = screen.width / 2.3;
var left = (screen.width / 2) - (w / 2);
var top = (screen.height / 2) - (h / 2);
window.open(url, 'condtionpopup', "width=" + w + ", height=" + h
        + ", top=" + top + ", left=" + left
        + ", resizable=no, titlebar=0,dialog=yes,location=no"); 
```

[不要](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself)在编程中重复自己。

现在，使用这个：

```
window.open('http://www.google.nl#@test', 'condtionpopup', "width=" + 500 + ", height=" + 500
        + ", top=" + 50 + ", left=" + 50
        + ", resizable=no, titlebar=0,dialog=yes,location=no"); 
```

我正在弹出一个非常好的页面。没有邮件应用程序。使用我的电子邮件地址作为 url 只会打开一个页面，告诉我找不到地址，因为电子邮件地址不是有效的 url。

如果你想在新窗口中显示你的数据，你应该这样做：

```
// Open a blank page
myWindow = window.open('', 'condtionpopup', "width=" + w + ", height=" + h
        + ", top=" + top + ", left=" + left
        + ", resizable=no, titlebar=0,dialog=yes,location=no");
myWindow.document.write(url);
// Write your url (or other data) to this page. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T14:32:28.170

删除**显示列标签中的****autolink="true** " ......

# sql-server-2008 - 带有 UPDATE 查询的“子查询返回超过 1 个值”

> ID：14378492
> 
> 赞同：0
> 
> 时间：2013-01-17T11:52:21.307
> 
> 标签：sql-server-2008, tsql

你好我写这个sql查询来更新一个表。查询是：

```
Update Product Set MakeId = (Select Distinct v.Id from VehicleCompany v, Car_Window c, product p Where p.ProductSKU = c.mf_part_no
AND c.make = v.Name
Group By v.Id) 
```

但是每当我运行此查询时，它都会出现以下错误：

> 消息 512，级别 16，状态 1，第 1 行子查询返回超过 1 个值。当子查询跟在 =, !=, <, <= ,
> 
> > , >= 或当子查询用作表达式时。

我可以知道我在哪里犯了错误吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T11:54:22.020

您`Select Distinct`可以返回多个值。要为`MakeId`您的子查询分配一个值，必须只返回 1 个值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T11:55:23.517

跑

```
Select Distinct v.Id
from VehicleCompany v, Car_Window c, product p
Where p.ProductSKU = c.mf_part_no
AND c.make = v.Name 
```

您应该看到它带回超过 1 行，您需要修复这部分查询

如果您确信 ID 将始终保持不变，则更改此将为您修复它：

```
Select top 1 Distinct v.Id from VehicleCompany v, Car_Window c, product p
Where p.ProductSKU = c.mf_part_no
AND c.make = v.Name 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T11:56:11.423

我不确定这是否是你想要的。你可以写`(Select Top 1 ...)`

# php - 无法打开流：HTTP 请求失败！HTTP/1.0 400 错误请求

> ID：14378499
> 
> 赞同：1
> 
> 时间：2013-01-17T11:53:00.907
> 
> 标签：php, api, facebook-graph-api, facebook-apps

file_get_contents 给出了这个错误：

```
Warning: file_get_contents(https://graph.facebook.com/oauth/access_token?client_id=&client_secret=fe9f106b05f6ab737a67ccc94a782767&grant_type=client_credentials) [function.file-get-contents]: failed to open stream: HTTP request failed! HTTP/1.0 400 Bad Request in /home/filevanc/public_html/scripts/cpa/facebookvirallink.php on line 25 
```

这是第 25 行：

```
 $cred = file_get_contents("https://graph.facebook.com/oauth/access_token?client_id=$appID&client_secret=$secret&grant_type=client_credentials"); 
```

我也尝试过对 file_get_contents 使用不同的方法，如下所示：

```
$opts = array('http'=>array('header' => "User-Agent:MyAgent/1.0\r\n"));
$context = stream_context_create($opts);
$response = file_get_contents($domain,false,$context); 
```

但这给出了同样的错误。

关于我还能尝试什么的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:12:57.873

client_id 在实际调用中是空的，所以看起来你的 $appID 变量在第 25 行使用时没有值。

# c# - 将功能区（选项卡）添加到联系表单 Outlook 插件

> ID：14378505
> 
> 赞同：1
> 
> 时间：2013-01-17T11:53:19.597
> 
> 标签：c#, .net, vsto, outlook-addin

我正在尝试在 C# 中的 Outlook 联系人中添加功能区/选项卡。我添加了一个功能区，并在其 xml 中编写了以下代码。

```
<tab idMso="TabAddIns" label="mySoftwareTab">
    <group id="ContentGroup" label="Appointments">
      <button id="GetAppointment" label="Get Appointments" screentip="Appointment" imageMso="ViewAppointmentInCalendar" onAction="GetAppointmentPressed" size="large"
              supertip="Get all appointments."/>
    </group>
  </tab> 
```

这会在包括主区域在内的每个屏幕中创建选项卡（如图所示，mySoftwareTab 位于位置 A 和 B）

![在此处输入图像描述](../Images/c55c70a275120a2e9dd3ccc5d0288228.png) 但是，如果我将 idMso 更改为 TabContact，它只会在联系人上创建一个按钮（图像中的 C 位置）。

我希望仅在 Outlook 联系页面上创建选项卡（在图像中的位置 B）。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T15:35:14.053

添加一个 getVisible 回调方法，并根据您希望它出现的检查器窗口对该方法进行门控。

```
<tab idMso="TabAddIns" label="mySoftwareTab"
     getVisible="myTab_GetVisible"> 
```

然后，创建名为 mySoftwareTab_GetVisible 的回调委托方法

**更新**：*原始海报（Kash）提供的最终解决方案因此归功于他。...重新发布此问题以供其他查看问题和答案的人使用。*

```
 public bool myTab_GetVisible(Office.IRibbonControl control) 
    { 
        if (control.Context is Outlook.Inspector) 
        { 
            Outlook.Inspector oInsp = control.Context as Outlook.Inspector; 
            if (oInsp.CurrentItem is Outlook.ContactItem) 
            { 
                return true; 
            } 
            else 
            { 
                return false; 
            } 
        } 
        else 
        { 
            return false; 
        } 
    } 
```

# c#-4.0 - Visual Studio2012 输出文本

> ID：14378507
> 
> 赞同：0
> 
> 时间：2013-01-17T11:53:20.003
> 
> 标签：c#-4.0, visual-studio-2012, output

我在 Visual Studio 2012 中编写了以下代码：

```
using System;
class Example
{
    static void main()
    {
        int x = 100;
        Console.WriteLine("X Contains:" + x);
        int y = x / 2;
        Console.WriteLine("y contains");
        Console.WriteLine(y);
        Console.WriteLine("A Sample C# Program");
    }
} 
```

没有错误，但输出窗口为空。它没有打印任何东西。我应该怎么做才能显示文本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:57:46.797

控制台打印到控制台（在最后添加 Console.ReadLine() 使其不会立即终止）。要打印到输出，请使用 Trace.WriteLine() 或 Debug.WriteLine()

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T11:57:20.213

您正在写入 dos-console 并期望 VS 输出窗口显示书面内容。使用您当前的代码您应该在控制台应用程序项目中运行它。它将打开 Dos 命令控制台并在其上执行您的命令。

如果您在控制台应用程序项目中，您将看到控制台闪烁然后消失。

`Console.ReadLine();`之后添加`Console.WriteLine("A Sample C# Program");`。这使控制台保持打开状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:03:06.990

这段代码很好用，试试吧。您应该通过单击（ctrl+F5）来播放如果您使用“F5”播放，它将立即终止。

```
namespace ConsoleApplication1{

class Program
{
    static void Main(string[] args)
    {

        int x = 100;
        Console.WriteLine("X Contains:" + x);
        int y = x / 2;
        Console.WriteLine("y contains");
        Console.WriteLine(y);
        Console.WriteLine("A Sample C# Program");

    }
} 
```

}

# c# - NET 3.5 中 Monitor.TryEnter 的替代方案

> ID：14378508
> 
> 赞同：3
> 
> 时间：2013-01-17T11:53:29.613
> 
> 标签：c#, multithreading, timer, locking, monitor

我正在使用 Threading.Timer 在我的应用程序中运行消息泵。

有时所需的工作比计时器间隔之间的间隔要长，我需要然后“跳过”代码。

我编写了一个小测试应用程序进行测试，并在我的锁定中不断遇到 SynchronizationLockException：

```
static void Main(string[] args)
{Program t = new Program();
  System.Threading.Timer myTimer = new Timer(t.Tick,null,1000,1000);

  Thread.Sleep(10000);
  myTimer.Change(0,0);
  Console.WriteLine("Waiting on lock in main thread...");
  Monitor.Enter(t.myLock);
  Console.WriteLine("Done");
  Monitor.Exit(t.myLock);

}

public  readonly Object myLock = new Object();
public  void Tick(object state)
{
  Console.WriteLine("Acquiring lock! From thread " + Thread.CurrentThread.ManagedThreadId);
  Monitor.TryEnter(myLock);
  try
  {
    Thread.Sleep(6000);
    Console.WriteLine("Inside workload!From thread " + Thread.CurrentThread.ManagedThreadId);
  }
  finally
  {
    Console.WriteLine("Releasing lock!From thread " + Thread.CurrentThread.ManagedThreadId);
    Monitor.Exit(myLock);
  }

} 
```

我现在不记得链接了，但是我找到了一个建议的解决方案，方法是在回调函数的开始和结束时禁用和启用计时器，但是由于文档指出在计时器停止后它可以仍然会被调用，因为它可能已经被安排在 .NET 线程池上。

我是否在这里遗漏了一些明显的东西，或者 Monitor 没有按预期工作？我在 .NET 3.5 上，所以

> Monitor.TryEnter(myLock,hasLock)

不幸的是，这还不是一个选择。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-17T12:03:01.420

该`Monitor.TryEnter()`方法返回一个布尔值，您忽略它。当您尝试退出您从未真正进入的锁时，您看到的错误就会发生。

快速修复您当前的代码：

```
//Monitor.TryEnter(myLock);
if (! Monitor.TryEnter(myLock)) return; 
```

# android - 如何更改android中默认主题的AutoCompleteTextView边框颜色？

> ID：14378511
> 
> 赞同：1
> 
> 时间：2013-01-17T11:53:42.303
> 
> 标签：android, border, autocompletetextview

我`AutoCompleteTextView`在我的 android 应用程序中使用。我将`Theme.Light`其用作我的应用程序的默认主题。

这是我的`AutoCompleteTextView`样子 ![在此处输入图像描述](../Images/ec0eb5a5a801be87bb5b9c8ec31f78ef.png)

现在，我想将其蓝色边框更改为`AutoCompleteTextView`其他颜色，以进行不同的选择，保持边框样式不变。我不想要完整的边界。怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:02:18.610

你可以这样试试。。

有关详细信息，请参阅[http://www.androidworks.com/chang-the-android-edittext-ui-widget](http://www.androidworks.com/changing-the-android-edittext-ui-widget)

对于其他主题实现，请以这种方式在您的应用程序清单中

```
 android:theme="@style/firsttheme" 
```

在 res/values 中，您可以定义 theme.xml

```
<resources> 
    <style name="firsttheme" parent="@android:style/Theme" > 
       <item name="android:_DEFAULT_BASE_COLOR_1">#XXXXXX</item>
       <item name="android:windowNoTitle">true</item>
        ... . 
    </style>
</resources> 
```

欲了解更多信息[主题](http://janrain.com/blog/introduction-to-android-theme-customization/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-29T08:08:54.330

您可以使用[Holo Colors](http://android-holo-colors.com)对其进行着色。它生成 9 个补丁和样式。

# openlayers - 图层或图像如何保存在 wms 服务器或任何其他地图服务器中？

> ID：14378512
> 
> 赞同：0
> 
> 时间：2013-01-17T11:53:42.210
> 
> 标签：openlayers, wms

我一直在关注我的 webgis 项目的 openlayers 初学者指南。我有一个疑问：假设 openlayers 地图客户端向 wms 服务器发出“基本”类型图层的请求，该请求将在所有缩放级别显示。因此，在每个缩放级别都不同。生成瓷砖，并且不会损失图像的分辨率。所以这里我的问题是“在 wms 服务器中，这些图像是如何呈现的？......它是根据我们的要求从单个高分辨率图像中生成图块，还是在服务器中预先保存具有不同分辨率的图块？？我希望你了解我的问题..谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T20:19:21.647

在 WMS 中，瓷砖或多或少地预先保存在服务器上。您当然可以从一张高分辨率图像计算切片金字塔，但这些切片随后会保存到服务器（如在[缓存地图服务](http://webhelp.esri.com/arcgisserver/9.2/dotnet/manager/publishing/static_map_svcs.htm)中）。我认为出于性能原因，这些图块是在服务器上预渲染的，请参见示例[Bing Maps](http://msdn.microsoft.com/en-us/library/bb259689.aspx)。

每次请求生成图块会花费太多时间。如果您有高分辨率光栅图像，请尝试使用[gdal2tiles](http://www.gdal.org/gdal2tiles.html)为 TMS（瓷砖地图服务）创建自己的瓷砖金字塔，看看这需要多长时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-12T09:14:25.720

[OGC WMS（Web 地图服务）](http://www.opengeospatial.org/standards/wms)是一种服务，可根据客户端的请求提供地图，例如使用 OpenLayers 构建的地图。用作源的数据可以是栅格或矢量或某种组合。虽然一些 WMS 还提供缓存，但需要注意的是，在标准配置中，WMS 会生成应请求发送的地图。这与[OGC WMTS（Web Map Tile Service）](http://www.opengeospatial.org/standards/wmts)或 TMS 不同。

WMS 的动态特性可以在对 GetCapabilities 请求的响应中看到，例如：

[http://ogc.bgs.ac.uk/cgi-bin/BGS_BGS-HPA_Radon_Potential/wms?service=WMS&request=GetCapabilities&](http://ogc.bgs.ac.uk/cgi-bin/BGS_BGS-HPA_Radon_Potential/wms?service=WMS&request=GetCapabilities&)

查看这部分内容，我们可以看到：

您可以请求多种地图图像格式

```
<GetMap>
    <Format>image/png</Format>
    <Format>image/jpeg</Format>
    <Format>image/png; mode=8bit</Format>
    <Format>application/x-pdf</Format>
    <Format>image/svg+xml</Format>
    <Format>image/tiff</Format>
    <Format>application/vnd.google-earth.kml+xml</Format>
    <Format>application/vnd.google-earth.kmz</Format> 
```

您可以在许多不同的投影中请求图层：

```
<CRS>CRS:84</CRS>
<CRS>EPSG:27700</CRS>
<CRS>EPSG:3034</CRS>
<CRS>EPSG:3413</CRS>
<CRS>EPSG:3857</CRS>
<CRS>EPSG:4258</CRS>
<CRS>EPSG:4326</CRS>
<CRS>EPSG:900913</CRS> 
```

并且您还可以通过 SLD 提供您自己的样式来更改默认符号：

```
<sld:UserDefinedSymbolization SupportSLD="1" UserLayer="0" UserStyle="1" RemoteWFS="0" InlineFeature="0" RemoteWCS="0"/> 
```

考虑这个例子：

通过您请求地图的某些客户端，客户端会生成 GetMap 请求，例如：

[http://ogc.bgs.ac.uk/digmap625k_gsml_insp_gs/ows?SERVICE=WMS&LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&TRANSPARENT=TRUE&VERSION=1.3.0&REQUEST=GetMap&STYLES=&EXCEPTIONS=INIMAGE&FORMAT=image/png&CRS=EPSG%3A4326&BBOX=50.00684534493684,-11.167749816795403,57.790615226828315 ,7.44692466819312&宽度=1234&高度=516&](http://ogc.bgs.ac.uk/digmap625k_gsml_insp_gs/ows?SERVICE=WMS&LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&TRANSPARENT=TRUE&VERSION=1.3.0&REQUEST=GetMap&STYLES=&EXCEPTIONS=INIMAGE&FORMAT=image/png&CRS=EPSG%3A4326&BBOX=50.00684534493684,-11.167749816795403,57.790615226828315,7.44692466819312&WIDTH=1234&HEIGHT=516&)

给出：

[![具有默认样式的 GetMap](../Images/d5a3402daa9401f6da17887379956490.png)](https://i.stack.imgur.com/v0wYs.jpg)

在客户端中，您单击某个点位置以获取有关创建地图的数据的信息，例如：

[http://ogc.bgs.ac.uk/digmap625k_gsml_insp_gs/ows?SERVICE=WMS&LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&TRANSPARENT=TRUE&VERSION=1.3.0&REQUEST=GetFeatureInfo&STYLES=&EXCEPTIONS=XML&FORMAT=image/png&CRS=EPSG:4326&BBOX=50.006845,-11.16775,57.790615 ,7.446925&I=673&J=288&INFO_FORMAT=text/html&QUERY_LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&WIDTH=1234&HEIGHT=516&FEATURE_COUNT=10&](http://ogc.bgs.ac.uk/digmap625k_gsml_insp_gs/ows?SERVICE=WMS&LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&TRANSPARENT=TRUE&VERSION=1.3.0&REQUEST=GetFeatureInfo&STYLES=&EXCEPTIONS=XML&FORMAT=image/png&CRS=EPSG:4326&BBOX=50.006845,-11.16775,57.790615,7.446925&I=673&J=288&INFO_FORMAT=text/html&QUERY_LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&WIDTH=1234&HEIGHT=516&FEATURE_COUNT=10&)

从这里您可以看到基础数据（在本例中为矢量数据集，保存在数据库中）具有包含地质历史值的属性。

我们想知道地图中的其他区域来自三叠纪，因此我们创建了一个根据查询为地图着色的 SLD，并将该 SLD 作为 GetMap 请求的一部分发送回服务器，例如：

生成的 SLD：

[http://portal.onegeology.org/OnegeologyGlobal/slds/20170312_1489310445593_OpenLayers.Layer.WMS_1173.sld](http://portal.onegeology.org/OnegeologyGlobal/slds/20170312_1489310445593_OpenLayers.Layer.WMS_1173.sld)

完整的 GetMap 请求：

[http://ogc.bgs.ac.uk/digmap625k_gsml_insp_gs/ows?SERVICE=WMS&LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&TRANSPARENT=TRUE&VERSION=1.3.0&REQUEST=GetMap&STYLES=onegeosld&EXCEPTIONS=INIMAGE&FORMAT=image/png&CRS=EPSG%3A4326&S 2Fportal.onegeology.org%2FOnegeologyGlobal%2Fslds%2F20170312_1489310445593_OpenLayers.Layer.WMS_1173.sld&BBOX=50.00684534493684,-11.167749816795403,57.790615226828315,7.44692466819312&WIDTH=1234&HEIGHT=516&](http://ogc.bgs.ac.uk/digmap625k_gsml_insp_gs/ows?SERVICE=WMS&LAYERS=gsmlp:GBR_BGS_625k_BA_INSP&TRANSPARENT=TRUE&VERSION=1.3.0&REQUEST=GetMap&STYLES=onegeosld&EXCEPTIONS=INIMAGE&FORMAT=image/png&CRS=EPSG%3A4326&SLD=http%3A%2F%2Fportal.onegeology.org%2FOnegeologyGlobal%2Fslds%2F20170312_1489310445593_OpenLayers.Layer.WMS_1173.sld&BBOX=50.00684534493684,-11.167749816795403,57.790615226828315,7.44692466819312&WIDTH=1234&HEIGHT=516&)

给出：

[![具有自定义样式的 GetMap](../Images/fb646d01d3d004a9c90af594f158de5f.png)](https://i.stack.imgur.com/JO0iY.png)

# javascript - 如何在 mxGraph 中使用弯曲边缘样式

> ID：14378514
> 
> 赞同：5
> 
> 时间：2013-01-17T11:53:45.220
> 
> 标签：javascript, mxgraph

最近发布的 mxGraph 添加了曲线作为边的样式。我希望这是一种边缘路由样式，但似乎不是。谁能给我看一个带有弯曲边缘的图的小例子？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-17T12:32:22.793

它实际上是边缘的形状样式：

```
style = graph.getStylesheet().getDefaultEdgeStyle();
style[mxConstants.STYLE_CURVED] = '1'; 
```

将其设置为所有边的默认值。

边缘样式实际上是源和目标之间边缘控制点的定位。曲线不是路由（这个点定位），它只是通过这些点的样式，因此它不是边缘样式。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-10-07T08:17:39.530

在当前版本中，您可以使用以下内容：

```
 mxGraph graph = new mxGraph();
    Map<String, Object> style = graph.getStylesheet().getDefaultEdgeStyle();
    style.put(mxConstants.STYLE_ROUNDED, true);
    style.put(mxConstants.STYLE_EDGE, mxConstants.EDGESTYLE_ENTITY_RELATION); 
```

# html - 浏览并发布路径而不是文件

> ID：14378519
> 
> 赞同：1
> 
> 时间：2013-01-17T11:53:53.590
> 
> 标签：html, file-upload

我有一个稍微不寻常的场景。在本地网络上运行的 Web 应用程序可以对它可以访问的网络上的任何文件执行各种操作。目前，用户将文件的 UNC 路径复制/粘贴到文本输入中，然后单击提交。

服务器检索文件，执行一些操作并将结果返回给用户。

我想允许用户使用网页浏览文件 - 但我不想上传文件，只需获取它的完整路径。这可能吗？

我知道会有一些注定要失败的场景——例如浏览到本地路径而不是 UNC 共享，但我可以通过一些验证来解决这个问题。在某些情况下，服务器可以访问用户无法访问的路径（这是故意的），因此在这里浏览不起作用。

所有用户都是技术人员，应该明白这一点。当然，如果有办法将浏览对话框限制为 UNC 路径，那就更好了，但我怀疑这是不可能的。

请注意，我们已经将支持限制在主要浏览器的最新版本，并且由于这只是一个实用功能，因此可以接受有限的支持。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:46:58.783

对不起，那是做不到的。这是一项安全功能。

# c++ - 如何在 C++ 项目中制作宏解析器

> ID：14378520
> 
> 赞同：1
> 
> 时间：2013-01-17T11:53:54.270
> 
> 标签：c++, parsing, macros

在项目中，有很多宏如

```
#define a (b+c)
#define b (e+d) 
```

有时您需要确定 a 的实际值。所以我想知道是否有任何工具可以做到这一点，计算所有宏并给出实际值作为注释：（如下所示）

```
#define a (b+c)  //a = 5 
```

是否有任何与此宏解析工作相关的开源项目？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T11:57:21.907

我不知道这样的工具如何存在，因为宏可能具有仅在执行期间才知道的参数（例如`#define sum(a,b) (a+b)`）。至于运行时的值 - 任何合理的调试器都会处理它。

# localization - (Windows Phone) 本地化应用程序标题

> ID：14378521
> 
> 赞同：2
> 
> 时间：2013-01-17T11:53:55.330
> 
> 标签：localization, windows-phone-8

我已经按照[MSDN 上的快速指南](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff967550%28v=vs.105%29.aspx)来本地化我的 WP8 应用程序标题。一切正常，我能够从模拟器中看到本地化的应用程序标题。但是，自从我添加了 C++ Win32 项目（从上面的链接中说明它是执行本地化所需的项目）之后，我只能在 x86 模式下构建项目。

也就是说，即使我在配置管理器中设置为“所有平台”进行编译，它仍然会为 x86 构建。

在我尝试在我的 WP8 设备上运行该应用程序之前，它并没有给我带来太多困扰。我得到了这个错误：

> 部署失败，因为目标平台 x86 的应用无法部署到设备。如果目标平台是win32/x86，选择模拟器。如果目标平台是 ARM，请选择 Device。

所以很自然地我尝试将构建配置设置为 ARM，Visual Studio 仍然以 x86 模式构建应用程序。我想这可能是由于为本地化添加了 Win32 项目。

话虽如此，我想了解是否：

1.  如果我将其上传到市场，该应用程序是否仍然有效？
2.  有没有办法让我能够在实际手机上测试它？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-19T08:13:54.993

显然问题是由于我试图向项目添加 MarkedUp 分析引用引起的，与本地化部分无关。我很抱歉造成混乱。结案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-15T17:46:25.740

它也发生在我身上，但我没有犯你的错误。我发现在添加 C++ 项目后，我的 WP8 项目被设置为为 x86 架构而不是“AnyCPU”构建。我将它设置回“AnyCPU”并修复它。

# ios - 在视图中看不到 Paypal 按钮

> ID：14378522
> 
> 赞同：0
> 
> 时间：2013-01-17T11:53:57.773
> 
> 标签：ios, cocoa-touch, paypal

我在 ViewController 中没有看到 Paypal 按钮。

```
UIButton *button = [[PayPal getPayPalInst]getPayButtonWithTarget:self andAction:@selector(payWithPayPal) andButtonType:BUTTON_278x43]; 
```

以上是我的代码。我没有得到它`ButtonType`。它在日志中向我展示了这个......

```
Printing description of button:
<nil> 
```

而不是这个...

```
Printing description of button:
<UIButton: 0x72c6020; frame = (0 0; 278 43); opaque = NO; layer = <CALayer: 0x72bc910>> 
```

我是 iPhone 的新手，所以任何想法都会对我有很大帮助。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:06:32.733

您在上一堂课中错过了此代码，您将在当前班级上课。您需要先初始化 PayPal：-

```
[[PayPal getPayPalInst] fetchDeviceReferenceTokenWithAppID:@"APP-80W284485P519543T" forEnvironment:ENV_SANDBOX withDelegate:self];
[[PayPal getPayPalInst] setLang:@"it_IT"]; 
```

希望这可以帮助你..

# html - 隐藏并再次显示 iframe 后不出现音频标签？

> ID：14378529
> 
> 赞同：3
> 
> 时间：2013-01-17T11:54:30.353
> 
> 标签：html, ipad, css, audio, iframe

我在 iframe 中加载了一个页面，其中可能包含音频/视频标签。但是在 iPad 中，我注意到隐藏 iframe 并再次显示它会消失标签。

```
<button onclick="toggle();">Toggle Iframe</button>
<iframe id='page' src='http://www.quackit.com/common/html_editor_form.cfm?contentFile=../html_5/tags/inc_html_audio_tag.cfm' width="100%" frameborder='1'></iframe>

<script>
    function toggle() {
        var $el = $('#page');
        if ($el.is(':visible')) {
            $el.hide();
        } else {
            $el.show();
        }
}
</script> 
```

演示：http: [//jsfiddle.net/codef0rmer/sQVCd/](http://jsfiddle.net/codef0rmer/sQVCd/)

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T16:47:29.243

我尝试的解决方案是使用`visibility`在 iPad 上也适用于我的属性隐藏 iframe。

```
if ($el.css('visibility') === 'visible') {
  $el.css('visibility', 'hidden');
} else {
  $el.css('visibility', 'visible');
} 
```

# jquery - jQuery Mobile 1.2 数据图标“编辑”不起作用

> ID：14378531
> 
> 赞同：0
> 
> 时间：2013-01-17T11:54:35.490
> 
> 标签：jquery, jquery-mobile

```
 <a href="#" data-role="button" data-icon="edit">hello</a> 
```

这个按钮只显示一个加号图标而不是编辑图标，有人知道为什么吗？我正在使用 jquery mobile，这是我的标题：

```
 name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T23:58:08.127

编辑图标仅在一个月前引入，并包含在 1.3 中。这不是 1.2 的错误，只是不包括在内。

有关更多信息，请参阅博客文章：http: [//jquerymobile.com/blog/2013/01/14/announcing-jquery-mobile-1-3-0-beta/](http://jquerymobile.com/blog/2013/01/14/announcing-jquery-mobile-1-3-0-beta/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:13:59.540

看起来他们的 CSS 有问题，因为我只是在本地尝试过。这是一个修复：

```
<style type="text/css">
    .ui-icon-edit {
        background-image: url(icons-18-white.png);
        background-repeat: no-repeat;
        background-position: -824px 50%;
    }
</style> 
```

要么修改你自己的样式表来添加它，要么把它放在你`<head></head>`的 CSS 的下面。此外，您还需要从[此处](http://jquerymobile.com/test/css/themes/default/images/icons-18-white.png)获取自己的 icons-18-white.png并将其保存在本地。

* * *

**要使编辑按钮工作：**

首先，**[下载 icons-18-white.png](http://jquerymobile.com/test/css/themes/default/images/icons-18-white.png)**并将其保存在与您的网页相同的文件夹中。

然后，只需复制并粘贴此代码并从那里继续。

```
<html>
<head>
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

<style type="text/css">
    .ui-icon-edit {
        background-image: url(icons-18-white.png);
        background-repeat: no-repeat;
        background-position: -824px 50%;
    }
</style>
</head>
<body>
    <a href="#" data-role="button" data-icon="edit">hello</a>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-03T14:52:04.987

data-icon="edit" 从 jQuery Mobile 1.3.1 开始可用，所以你最好使用那个版本。

更多信息在这里 - [http://jquerymobile.com/blog/2013/04/10/announcing-jquery-mobile-1-3-1/](http://jquerymobile.com/blog/2013/04/10/announcing-jquery-mobile-1-3-1/)

# iphone - 在一个视图控制器和 UAModalPanel 之间保留视图

> ID：14378540
> 
> 赞同：2
> 
> 时间：2013-01-17T11:55:03.473
> 
> 标签：iphone, ios, objective-c, ipad, view

我有两个名为`firstvc`,的视图控制器`secondvc`。我在 中有一个子视图`firstvc`，它看起来像一个具有文本字段的表单。有`firstvc`一个按钮可以最大化该子视图。

当我单击它时，我将该子视图添加到`secondvc`并`secondvc`在`UAModalPanel`. 如果我关闭它`secondvc`，`firstvc`应该会出现。我的问题是我无法保留该子视图。这意味着当我关闭时`secondvc`，`firstvc`子视图正在消失。

您能否建议如何在两个视图控制器之间保留该子视图？

```
-(IBAction)maximize:(id)sender
{
    UIViewController *newview   = [self.storyboard instantiateViewControllerWithIdentifier:@"second"];

    [newview.view addSubview:subview];

    UAModalPanel  *modalpanelobject = [[UAModalPanel alloc]initWithFrame:self.view.bounds];    

    [modalpanelobject.contentView addSubview:newview.view];

    [self.view addSubview:modalpanelobject];

    [modalpanelobject showFromPoint:self.view.center];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T09:58:44.717

看，这个概念是你可以考虑的三个视图。

1.  子视图（在您的情况下为 ScrollView）

2.  父视图 1 (GridCell)

3.  父视图 2（'最大化视图）

你正在做的是什么时候

1.您正在最大化子视图

那时您正在将**子视图从网格单元格带到最大化视图。**

2.现在在您关闭最大化视图时反向。

**正确**：那时您应该将**子视图从最大化视图转移到网格单元。**

为此，您无法在网格单元中找到您的子视图。

此致。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T13:25:39.727

我是[UAModalPanel](http://github.com/coneybeare/uamodalpanel)背后的开发人员。该面板不会干扰未添加到的视图的视图层次结构，`contentView`因此即使没有它，这个问题也可能存在。我会将第一个控制器的视图子类化，并在`dealloc`and`removeFromSuperview`方法中放置一个断点，以查看删除视图的内容、时间和原因。

# sql-server-2005 - 尝试检索日期范围内的数据时出错

> ID：14378541
> 
> 赞同：0
> 
> 时间：2013-01-17T11:55:05.473
> 
> 标签：sql-server-2005, visual-studio-2008

我正在尝试检索日期范围内的数据，但出现以下错误

```
The conversion of char data type to smalldatetime data type resulted in an out-of-range smalldatetime value 
```

这是基本的 sql 查询

```
SELECT * FROM tblCustomers WHERE date BETWEEN '19/12/2012' AND '1/17/2013'
GO 
```

我该如何纠正这个错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:00:02.577

使用字符串表示日期时间值会导致这种情况

```
SELECT * FROM tblCustomers WHERE date BETWEEN Convert(smalldatetime, '19/12/2012', 105) AND Convert(smalldatetime, '1/17/2013', 101)
GO 
```

但是，我应该问你。为什么对同一个查询使用两种不同的日期格式？

有关最终 101 参数的解释和可能值，[请参见此处的 T-SQL 上的转换函数](http://msdn.microsoft.com/en-US/library/ms187928%28v=SQL.90%29.aspx)

# javascript - 移动 CSS 未按预期显示

> ID：14378543
> 
> 赞同：0
> 
> 时间：2013-01-17T11:55:18.187
> 
> 标签：javascript, jquery, html, css

[检查此图像和屏幕截图](http://www.grafdom.com/operations/projects/ma/blue-error.png)。

选择，悬停或单击链接时，然后在此移动网站上显示蓝色背景，我已经在CSS中添加了以下代码。

下面是桌面浏览器中的工作 CSS 代码，但在移动、悬停和其他已经定义的类中没有。

想要删除这个默认的蓝色背景，我不希望这个蓝色背景其他一切正常

```
::-moz-selection {
    background-color: transparent;
    color: #fff;
}
::selection {
    background-color: transparent;
    color: #fff; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T08:43:24.413

我得到了解决方案只需将以下代码添加到您的 css html { -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }

# c# - .NET 4.5 中的 INamingContainer

> ID：14378548
> 
> 赞同：3
> 
> 时间：2013-01-17T11:55:33.440
> 
> 标签：c#, asp.net, webforms, inamingcontainer

我们最近从 .NET 3.5SP1 升级到 .NET 4.5。我们发现使用 INamingContainer 接口的控件现在呈现它们的 ClientID 不同。

MS 文档说 INamingContainer 在控件的层次结构中创建了一个新的 ID 命名空间。

使用旧行为，我们的 id 将如下所示：

```
<input id="MyContainer_txtName" /> 
```

但我们现在得到：

```
<input id="ctl00_ctl00_c_contentHolder_MyContainer_txtName" /> 
```

其中包含 ct100 前缀和内容持有者控件名称。

使用它的示例类是：

```
public class MyTextBox : System.Web.UI.WebControls.TextBox, INamingContainer
{

} 
```

我们已经设置`ClientIDMode="AutoID"`了向后兼容性。

我们可以`ClientID="static"`像以前一样手动为每个控件赋予正确的 id，但这对我们来说需要完成很多工作。

我想了解为什么 INamingContianer 没有像以前在旧版本的 .NET 中那样呈现。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:03:19.133

.NET4 中的[**重大变化**](http://www.asp.net/whitepapers/aspnet4/breaking-changes#0.1__Toc256770142)是：

> `ClientIDMode`ASP.NET 4 中的设置允许您指定 ASP.NET 如何为 HTML 元素生成 id 属性。在以前版本的 ASP.NET 中，默认行为等同于 `ClientIDMode`. 但是，默认设置**现在是 Predictable**。
> 
> 如果您使用 Visual Studio 2010 从 ASP.NET 2.0 或 ASP.NET 3.5 升级您的应用程序，该工具会自动将设置添加到 Web.config 文件，以保留早期版本的 .NET Framework 的行为。但是，如果您通过将 IIS 中的应用程序池更改为面向 .NET Framework 4 来升级应用程序，则 ASP.NET 默认使用新模式。要禁用新的客户端 ID 模式，请在 Web.config 文件中添加以下设置：

```
<pages ClientIDMode="AutoID" / > 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T21:21:08.987

[我设法通过使用本文](http://www.4guysfromrolla.com/articles/031710-1.aspx)所述的可预测和静态 ClientModeID 来解决此问题。

帮助我解决它的部分接近尾声。

> **使用可预测设置时父命名容器的影响**
> 
> ……
> 
> 如果将 GridView 的 ClientIDMode 设置为 Predictable，则自动生成的 ID 将被删除，行索引或指定的数据字段值将被附加，从而产生如下所示的 ID：
> 
> ContentPlaceHolder1_UserControlID_GridViewID_lblName_0 ContentPlaceHolder1_UserControlID_GridViewID_lblName_1 ContentPlaceHolder1_UserControlID_GridViewID_lblName_2 ...
> 
> 请注意 ContentPlaceHolder ID 如何仍然是呈现的 id 的一部分。我们可以通过将用户控件的 ClientIDMode 设置为静态来省略这部分 id，这可以通过用户控件的 @Control 指令来完成。这将导致像这样的 id：
> 
> UserControlID_GridViewID_lblName_0 UserControlID_GridViewID_lblName_1 UserControlID_GridViewID_lblName_2
> ...

# jquery - 将类添加到文本的第二个实例

> ID：14378559
> 
> 赞同：1
> 
> 时间：2013-01-17T11:56:08.073
> 
> 标签：jquery

假设我的部分包含“红色”、“绿色”和“蓝色”页面。每个页面都有 H1 标签中的标题以及显示所有三个链接的共享#sidebar 导航。如何让 jQuery 检测在 H1 中输入的文本，在#sidebar 中找到相同的文本，并在找到匹配项时向#sidebar 链接添加一个类？

HTML：

```
<h1>Red</h1>
<div id="sidebar">
  <a href="#">Red</a><br>
  <a href="#">Green</a><br>
  <a href="#">Blue</a>
</div> 
```

CSS：

```
#sidebar { float: right; }
.current-section { background: red; } 
```

抱歉 - 我充其量只是一个 jQuery 初学者。这是一个小提琴：http: [//jsfiddle.net/BxCgT/](http://jsfiddle.net/BxCgT/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T11:59:26.560

像这样的东西可能会起作用......

```
// get title text
var title = $('h1').text();
// loop anchors in #sidebar
$('#sidebar a').each(function() {
   // if anchor text matches title
   if($(this).text() == title) {
     // add a class
     $(this).addClass(<yourclass>);
   }
}); 
```

相关文档 ->和[`.text()`](http://api.jquery.com/text/) [`.each()`](http://api.jquery.com/each/)[`.addClass()`](http://api.jquery.com/addClass/)

我假设您的代码看起来像这样：

```
<h1>Red</h1>
<div id="sidebar">
   <a href="red.html">Red</a><br>
   <a href="green.html">Green</a><br>
   <a href="blue.html">Blue</a>
</div> 
```

[工作示例](http://jsfiddle.net/manseuk/LUmNE/)

# linux - 适合运营团队的测试自动化工具

> ID：14378564
> 
> 赞同：1
> 
> 时间：2013-01-17T11:56:26.360
> 
> 标签：linux, testing, automated-tests, load-testing

我想开始使用执行以下操作的测试框架：

*   包含一个流程（流程可以是一个测试）管理引擎。它能够在调度程序的帮助下启动进程（测试）

*   它是分布式的，进程可以在本地或其他机器上运行

*   测试可以是任何东西：

*   给定端口上的简单 telnet（基础设施测试）

*   磁盘 I/O 或 mysql 基准测试

*   从 Selenium 导出的 jar 进行验收测试

*   需要知道测试是否通过

*   能够从测试中获取实时数据（类似于石墨）——这是可选的

*   允许以多种编程语言构建进程：perl、ruby、C、bash

*   有一个图形界面

*   开源的

*   用任何语言编写，只要不使用资源，我更喜欢 C、perl 或 ruby

*   在 linux 上运行

    不应该是什么：

*   添加到浏览器：Selenium，BITE ..

我不想要专注于 Web 开发的东西

我会喜欢使用这样的工具，或者可能合作构建一个。我希望我足够明确。谢谢你 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T15:27:49.383

您可能想看看结合了[jenkins的](http://jenkins-ci.org/)[机器人框架](http://www.robotframework.org)。Robotframework 是一个用 python 编写的工具，用于进行基于关键字的验收测试。Jenkins 是一个持续集成工具，它允许您安排作业，并在节点网格中分配作业。

Robotframework 测试可以做任何 python 可以做的事情，还有更多。它有一个远程界面，这意味着您可以用几乎任何语言编写测试关键字。例如，我有一份工作，我们用 Java 编写关键字。在另一项工作中，我们使用带有基于 .NET 的关键字的机器人框架。这可以通过远程接口来完成（因此您可以用多种不同的语言编写关键字），或者您可以使用 jython 在 JVM 上运行机器人，或者在 .NET 环境中运行 Iron python。

# jquery - jQuery中有“真实高度”吗？

> ID：14378570
> 
> 赞同：3
> 
> 时间：2013-01-17T11:56:51.807
> 
> 标签：jquery

也许这是一个愚蠢的问题，但我想知道是否有一个“power”函数可以让我得到一个 div 的真实高度，还计算“display:none;” 其上每个元素的高度。

这只是一个梦吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:00:10.550

我会说你要求的高度比实际显示高度更“真实”。你有几个选择：

1.  `visibility: hidden`改为使用
2.  显示所有div的后代，获取高度，立即隐藏
3.  如果数字 2 不起作用（元素可能太长时间可见）克隆 div，使其脱离屏幕（应该这样做）并在*该*div`position: fixed; top: 100%`上尝试 #2 。

 *[http://jsfiddle.net/jrrdp/1/](http://jsfiddle.net/jrrdp/1/)*

# android - 位图未绘制抗锯齿

> ID：14378573
> 
> 赞同：21
> 
> 时间：2013-01-17T11:57:06.367
> 
> 标签：android, android-canvas, android-custom-view

我有一个习惯`View`，总是`Bitmap`在某个旋转时绘制 a 。我覆盖该`onDraw`方法，旋转`Canvas`并使用抗锯齿绘制位图`Paint`。

```
public RotatedImageView(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
    someBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.placeholder);
}

@Override
protected void onDraw(Canvas canvas) {

    // Save and rotate canvas
    canvas.save();
    canvas.rotate(3F, getWidth() / 2, getHeight());

    // Draw the icon
    Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);
    canvas.drawBitmap(someBitmap, 0, 0, p);
    canvas.drawRoundRect(new RectF(75, 50, 225, 200), 10, 10, p);

    // All done; restore canvas
    canvas.restore();
} 
```

但是，我总是在位图上看到锯齿状边缘。请注意，圆角矩形得到很好的抗锯齿边缘。此外，当我`p.setFilterBitmap(true);`正确应用此作品（位图表面被过滤/平滑）时。我错过了什么吗？

![照片上没有抗锯齿](../Images/dfd876b49b4cc285b01f714181547149.png)

这是一个最小的 Android 项目，其中一个屏幕的孤立示例显示了从资源加载的绘制非抗锯齿位图的视图：[https ://bitbucket.org/erickok/antialiastest](https://bitbucket.org/erickok/antialiastest)

**更新：**我还尝试了以下方法：

```
 Paint p = new Paint();
    p.setAntiAlias(true);
    p.setFilterBitmap(true);
    p.setDither(true);
    canvas.drawBitmap(someBitmap, 0, 0, p); 
```

但这无助于`setFilterBitmap`过滤表面。它不对边缘进行抗锯齿处理。此外，`setAntiAlias`与在`Paint`构造函数中直接设置标志相同。如果有疑问，请尝试我的最小测试项目。非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-19T06:55:09.000

使用 setFilterBitmap(true)。

```
paint_object.setFilterBitmap(true); 
```

它也对我有用..我从这个问题中得到了它

[使用抗锯齿绘制旋转位图](https://stackoverflow.com/questions/8926622/drawing-rotated-bitmap-with-anti-alias)

将**AntiAlias**标志和**FilterBitmap**标志都设置为 true，它们一起将使位图的边缘平滑，我已经在 Samsung Galaxy Ace 上测试过，android 2.2 ...

我的测试代码是

```
Paint p = new Paint();
p.setAntiAlias(true);
p.setFilterBitmap(true);
canvas.drawBitmap(someBitmap, new Matrix(), p); 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-01-22T12:59:12.907

我找到了为什么我没有得到任何抗锯齿：硬件加速。在我（纯属偶然）在我的 Nexus One 上进行测试后，它突然起作用了，而我的 Nexus 7 却没有。事实证明，当使用硬件加速绘制`ANTI_ALIAS_FLAG`时，它什么都不做。`Canvas`有了这种见解，我[在 StackOverflow 上找到了 Romain Guy 的回答，](https://stackoverflow.com/questions/9730249/canvas-antialiasing-with-hardware-acceleration-android-api-11-and-later "Romain Guy 在 StackOverflow 上的回答")它回答了我的问题。

解决方案似乎是：为每个位图添加透明边框（手动或动态）或“使用着色器做一些事情”。两者都不是很吸引我。相反，我使用该方法在我的自定义视图上[禁用了硬件加速。](http://developer.android.com/guide/topics/graphics/hardware-accel.html "Android中的硬件加速，官方文档")`setLayerType`请注意，这从 API 级别 11 开始可用，但（并非偶然）您不必先处理硬件加速问题。所以我在视图构造函数中添加了：

```
 if (android.os.Build.VERSION.SDK_INT >= 11) {
        setLayerType(View.LAYER_TYPE_SOFTWARE, null);
    } 
```

对于那些感兴趣的人，我已经在 BitBucket 上更新了上面引用的开源项目。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-17T12:06:53.563

就我而言，我这样做了，但可能就像你一样：

```
Paint paint = new Paint();
paint.setAntiAlias(true); 
```

你试一试。

祝你好运！

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-01-21T17:23:08.693

我测试了以前的建议，它们确实对我有用。也许问题出在您的位图中？也许在您的设备中？这是一个内联创建位图的代码。检查此示例是否适合您。

```
public class BitmapRotateActivity extends Activity { 

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(new MyView(this));
  }
  class MyView extends View {

    Bitmap bitmap;
    public MyView(Context context) {
      super(context);

      bitmap = Bitmap.createBitmap(160, 160, Bitmap.Config.RGB_565);
      Paint p = new Paint();
      p.setColor(Color.RED);
      p.setStyle(Paint.Style.FILL);
      Canvas c = new Canvas(bitmap);
      c.drawRect(0, 0, bitmap.getWidth(), bitmap.getHeight(), p);
    }

    @Override
    protected void onDraw(Canvas canvas) {
      Paint pbg = new Paint();
      pbg.setStyle(Paint.Style.FILL);
      pbg.setColor(0xffe0e0ff);
      canvas.drawRect(0, 0, getWidth(), getHeight(), pbg);

      Paint p = new Paint();
      p.setAntiAlias(true);
      p.setFilterBitmap(true);

      canvas.save();
      canvas.rotate(3F, getWidth() / 2, getHeight() / 2);
      canvas.drawBitmap(bitmap, 30, 30, p);
      canvas.restore();
    }
  }
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-05-01T06:18:37.080

我有同样的问题，并尝试了所有这些修复。最终奏效的是在 AndroidManifest.xml 文件中全局禁用硬件加速：

```
 <application
       android:hardwareAccelerated="false" 
  ...
 > 
```

然后在我加载图像位图时禁用 inSampleSize，这样（我认为）图像将以足够高的质量加载以避免任何曲折，然后，对于我的实际 ImageView，使用上述建议：将图层类型设置为 View .LAYER_TYPE_SOFTWARE，带有过滤器位图设置为 true（如上）和抗锯齿的绘制对象。

# c# - 使用 Outlook API 将日历项目从共享日历复制到个人日历

> ID：14378581
> 
> 赞同：1
> 
> 时间：2013-01-17T11:57:24.107
> 
> 标签：c#, calendar, outlook

我正在编写一个应用程序，该应用程序将使用 Outlook API 将日历项目从共享日历复制到我的个人日历。这是我到目前为止...

```
using Outlook = Microsoft.Office.Interop.Outlook;

public Outlook.Items GetPublicEntries(string calendar)
    {
        Microsoft.Office.Interop.Outlook.Items CalendarFolderItems = null;
        Outlook.Application oApp;
        oApp = new Outlook.Application();
        Outlook.NameSpace oNS = oApp.GetNamespace("MAPI");
        //oNS.Logon(Missing.Value, Missing.Value, true, true);

        Outlook.Recipient oRecip = (Outlook.Recipient)oNS.CreateRecipient(calendar);
        Outlook.MAPIFolder usersCalendarFolder = (Outlook.MAPIFolder)oNS.GetSharedDefaultFolder(oRecip, Outlook.OlDefaultFolders.olFolderCalendar);
        CalendarFolderItems = usersCalendarFolder.Items;
        return CalendarFolderItems;
    }

    static void Main(string[] args)
    {
        String[] Cals = { "Appointments","Deadlines","Hearings"};

        foreach (string cal in Cals)
        {
            CalendarItems calobj = new CalendarItems();
            Outlook.Items calobjs = calobj.GetPublicEntries(cal);

            foreach (Microsoft.Office.Interop.Outlook.AppointmentItem item in calobjs)
            {
                try
                {
                    Console.WriteLine(item.Subject + " -> " + item.Start.ToLongDateString() + " - " + item.GlobalAppointmentID);
                }
                catch (Exception ex)
                {
                    MessageBox.Show(ex.Message);
                }
            }
            Console.ReadKey();
        }
    } 
```

我可以从三个日历中返回项目列表，但现在我需要将它们复制到我的个人日历中，这就是我卡住的地方。有人知道该怎么做吗？

谢谢！

托尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T19:46:11.087

Outlook 不会让您直接复制到指定的文件夹（与 AppointmentItem.Move() 不同，它将 MAPIFolder 对象作为参数） - 使用 AppointmentItem.Copy，然后是 AppointmentItem.Move：

AppointmentItem 复制项 = Item.Copy();
AppointmentItem newItem =copyedItem.Move(YourDestinationFolder);
newItem.Save();

请注意，当您调用 Copy() 时，Outlook 将清除全局约会 ID - 这意味着消息更新，即使它们直接进入您的收件箱，也不会找到约会。

如果使用 Redemption，则可以避免中间步骤 - 它的[RDOAppointmentItem](http://www.dimastr.com/redemption/RDOAppointmenItem.htm)（派生自[RDOMail](http://www.dimastr.com/redemption/RDOMail.htm)对象）允许您在调用 CopyTo() 时传递目标文件夹。

# flash - 使用证书保护 AIR 应用程序代码？

> ID：14378587
> 
> 赞同：0
> 
> 时间：2013-01-17T11:57:39.697
> 
> 标签：flash, apache-flex, air

我尝试开发应用程序，用户可以在其中下载加密媒体。用户必须先登录，然后他将收到解密媒体的密钥。基于 AMFPHP 和 SSL 证书的通信。问题是：
有人可以反编译 main .swf，获取解密密钥和算法（无法防止反编译）。解决方案可以是用户认证后发送类。我在某处读到可以从网络动态加载类（但找不到好的示例），并且只调用 main .swf 中的公共方法，因此算法将保持未知。
1\. 这种方法安全吗？“坏人”是否可以模拟我的应用程序，即调用方法和抓取类？

提到的方法是基于从原始应用程序中抓取代码，并在通过 SSL 保护连接后对其进行模拟以捕获数据。每个 AIR 应用程序都需要使用证书导出。
2\. 我可以在连接中使用应用证书吗？我的意思是，我可以使用此证书来确保调用方法的应用程序是由我生成的。如果可能的话，有人可以分享链接，或者编写代码如何做到这一点？
3\. 如果有人试图用他的抓取版本手动覆盖设备上的 main .swf 怎么办。操作系统是否验证某些校验和并将阻止或接受错误的 .swf 作为原始文件？
4\. 我找不到描述在 AIR 中使用应用程序证书的机制的文档（只有如何生成它，以及自签名和商业之间的差异）。有人发现文章女巫描述了有关在 iOS 或 Android 上使用证书的更多信息吗？

我很高兴了解如何保护 AIR 应用程序中的通信的其他信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:28:02.110

从 Web 加载类：阅读有关“运行时共享库​​”的信息
1\. 为什么不为每个经过身份验证的用户生成一个唯一的“密钥”？不要回收同一个。
2\. 3\. 和 4\. 我认为 'cert' 用于安装而不是之后。如果您构建自己的密钥/证书流程，您可以忽略“假”应用程序。

# javascript - javascript/jquery 将隐藏的输入组合为 var

> ID：14378592
> 
> 赞同：1
> 
> 时间：2013-01-17T11:57:45.717
> 
> 标签：javascript, jquery

我有一个标签列表，它们都被添加到带有 name="item[tags][]" 的隐藏输入中

```
<input type="hidden" style="display:none;" value="first" name="item[tags][]">
<input type="hidden" style="display:none;" value="second" name="item[tags][]">
<input type="hidden" style="display:none;" value="third" name="item[tags][]"> 
```

我如何将这些隐藏的输入组合到输出

```
var tag_filter = first,second,third; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T11:59:31.457

您可以使用名称选择器访问输入元素，并使用 map 函数以及 get 和 join 来获取逗号分隔的值列表。

**[现场演示](http://jsfiddle.net/rajaadil/mGmRH/)**

```
var tag_filter = $('[name="item[tags][]"]').map(function(){
  return this.value;
}).get().join(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:01:45.747

尝试这样的事情

```
var str = "";
$('input[name="item[tags][]"]').each(function(){
    str += $(this).val()+","
})
str = str.substring(0,str.length); 
```

# iphone - 如何使用 sendSynchronousRequest 维护连接会话

> ID：14378596
> 
> 赞同：3
> 
> 时间：2013-01-17T11:58:08.267
> 
> 标签：iphone, ios, session, nsurlconnection, synchronous

这是我的连接代码：

```
- (void)sendData: (NSString*)someData {    
 NSMutableURLRequest *theRequest=[NSMutableURLRequest requestWithURL:[NSURL URLWithString:nsURL]
                                                        cachePolicy:NSURLRequestUseProtocolCachePolicy
                                                    timeoutInterval:180.0];
[theRequest setHTTPMethod:@"POST"];
[theRequest setTimeoutInterval:180.0];
[theRequest setHTTPBody:[sdata dataUsingEncoding:NSASCIIStringEncoding]];

NSError *error= nil;
NSData *result = [NSURLConnection sendSynchronousRequest:theRequest returningResponse:&response error:&error];
} 
```

每当我必须向用户发送一些请求时，我都会调用此方法。但是，我想维护一个特定的连接会话并发送请求，而不是一次又一次地创建连接。（因为，URL 是一个安全连接，每次创建连接，都会浪费很多时间）。

我怎样才能做到这一点？有没有办法在这个类中为连接创建一个全局对象（其中写了 sendData 方法），以便在该对象的生命周期内，只有一个连接。？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T03:08:52.167

撇开蜂窝提供商的限制不谈，保持连接打开的选择取决于服务器，而不是客户端。如果这是通过 HTTPS 发出的请求，您需要查看有关保持活动连接的服务器文档，并将超时值增加到对您的应用有意义的值。

URL 加载系统将自动重新使用与同一服务器的连接，前提是它尚未被服务器关闭。

请注意，将服务器上的保持活动超时增加到一个较大的值将意味着服务器使用的资源可能会显着增加。

# ios - 如何将从 UIImagePickerViewController 中选择的图像路径保存到 sqlite 数据库并稍后访问它？IOS

> ID：14378599
> 
> 赞同：1
> 
> 时间：2013-01-17T11:58:18.010
> 
> 标签：ios, uiimageview, uiimagepickercontroller

我需要保存从服务器选择的图像的路径，然后访问该路径以通过数据库检索在用户单击时显示该图像。

```
-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
      NSString *urlPath =  [info objectForKey:@"UIImagePickerControllerReferenceURL"]absoluteString];
} 
```

并将其保存到数据库中。

它保存为 **assets-library://asset/asset.JPG?id=E1136225-97DE-4BF4-A864-67E33D60737A&ext=JPG**

然后我想导入到`Imageview`

```
 UIImageView *iv = [[UIImageView alloc]init];
 iv.image = [UIimage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:imagepath]]]; 
```

但它不工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:09:43.817

试试这个：

```
 typedef void (^ALAssetsLibraryAssetForURLResultBlock)(ALAsset *asset);
    typedef void (^ALAssetsLibraryAccessFailureBlock)(NSError *error);    

    ALAssetsLibraryAssetForURLResultBlock resultblock = ^(ALAsset *myasset){

     ALAssetRepresentation *rep = [myasset defaultRepresentation];
     CGImageRef iref = [rep fullResolutionImage];

     if (iref){

            UIImage *myImage = [UIImage imageWithCGImage:iref scale:[rep scale] orientation:(UIImageOrientation)[rep orientation]];
            [fileImage addObject:myImage];

             }      
    };      

    ALAssetsLibraryAccessFailureBlock failureblock  = ^(NSError *myerror){

         //failed to get image.
    };                          

    ALAssetsLibrary* assetslibrary = [[[ALAssetsLibrary alloc] init] autorelease];
    [assetslibrary assetForURL:[filePath objectAtIndex:0] resultBlock:resultblock failureBlock:failureblock]; 
```

**注意：**确保你的`[filePath objectAtIndex:0]`will 是一个`NSUrl`对象。否则将其转换为`NSUrl`

例子：

```
ALAssetsLibrary* assetslibrary = [[[ALAssetsLibrary alloc] init] autorelease];

NSURL myAssetUrl = [NSURL URLWithString:[filePath objectAtIndex:0]];

assetslibrary assetForURL:myAssetUrl resultBlock:resultblock failureBlock:failureblock]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:00:50.833

使用`assetForURL:resultBlock:failureBlock:`ALAssetsLibrary 类的方法通过 URL 检索图像。还有更多信息：http: [//developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAssetsLibrary_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40009722](http://developer.apple.com/library/ios/#documentation/AssetsLibrary/Reference/ALAssetsLibrary_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40009722)

升级版：

```
ALAssetsLibrary *lib = [[ALAssetsLibrary alloc] init];
[lib assetForURL: url resultBlock: ^(ALAsset *asset) {
    ALAssetRepresentation *r = [asset defaultRepresentation];
    self.imgView.image = [UIImage imageWithCGImage: r.fullResolutionImage];
}
    failureBlock: nil]; 
```

`url`您的缓存网址在哪里

# ruby-on-rails-3 - 重命名资源以使其成为友好 URL 的简单方法？

> ID：14378606
> 
> 赞同：0
> 
> 时间：2013-01-17T11:59:09.380
> 
> 标签：ruby-on-rails-3, url, url-rewriting

我有

资源：文章

并在文章.rb

```
def to_param
    "#{id}-#{name.downcase.gsub(/\s+/, "_")}"
end 
```

所以网址会像

www.example.com/articles/1-Name-of-the-first-article

我现在正在尝试找到一个简单的解决方案，始终将 URL 中的“文章”替换为“百科全书”。所以路径应该是

www.example.com/encyclopedia/1-Name-of-the-first-article

有简单的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-18T00:01:11.540

真的很简单。

**路线.rb**

```
resources :articles, :path => :encyclopedia 
```

# sql - 如何通过 SQL 查询获得所需的结果集

> ID：14378608
> 
> 赞同：-4
> 
> 时间：2013-01-17T11:59:14.187
> 
> 标签：sql

```
select * from employee 
```

* * *

```
UNIT_ID  PARENT_UNIT   TOT_EMP
-------  -----------   -------
Oracle      IT           10
SAP         IT           20
IT          PST          30
HRGA        FA            5
FA          PST          12 
```

如何获得输出为：

```
IT     60
ORACLE 10
SAP    20
HRGA    5
FA     17 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:04:09.537

```
select a.name, sum(a.tot_emp)
from
(
  select unit_id as name, sum(tot_emp) as tot_emp
  from employee
  group by unit_id
  UNION
  select parent_id as name, sum(tot_emp) as tot_emp
  from employee
  group by parent_id
) as a
where exists (select null
              from employee e
              where e.unit_id = a.name)
group by name; 
```

但这不是一个真正的递归查询（这似乎是您需要的），它适用于您的样本，但可能不适用于真实数据（但我们不知道您的层次结构的深度）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T13:26:24.527

这是 Oracle 查询：

```
SELECT unit_id, SUM(total_emp) FROM stack_test
 GROUP BY unit_id
/
UNIT_ID    SUM(TOTAL_EMP)
--------   --------------
    SAP       50
    HRGA      15
    ORACLE    30 
```

在您的帖子中创建表格并使用值填充它们总是一个好主意......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:14:28.310

我不知道一些细节。可以在UNIT_ID 列中到次同名吗？如果没有，这是一个很好的查询：

```
select e1.UNIT_ID, SUM(TOT_EMP) AS TOT_EMP
from emploee e1
innner join emploee e2
on e1.UNIT_ID = E2.PARENT_UNIT 
group by e1.UNIT_ID 
```

如果 UNIT_ID 列中的名称可以相同，请查看 Raphaël Althaus 的答案。这是很好的答案。

# c# - 在 DataGridView 中创建自定义行

> ID：14378617
> 
> 赞同：2
> 
> 时间：2013-01-17T11:59:49.427
> 
> 标签：c#, datagridview

如何创建结果行？像这样的东西

![在此处输入图像描述](../Images/6066a0785e6c4f75da7fe46d19383ce7.png)

# javascript - 在用户键入 javascript 时获取用户输入

> ID：14378625
> 
> 赞同：0
> 
> 时间：2013-01-17T12:00:09.297
> 
> 标签：javascript, jquery, javascript-events

我所拥有的是一个应该计算税收的表格。我正在使用 clone() javascript 功能，但我遇到了一些问题。例如，如果我像这样存储我的基本工资和初级税：

> 基本工资 $5000
> 
> 初级税 $50

在此下方是一行（newtaxrow），其中包含一个输入，该输入将要克隆的字段和一个按钮，其 id 为 clonetax。所以javascript：

```
$("#clonetax").click(function() {

        $("#newtaxrow:last").clone(true).insertAfter("#newtaxrow:last");
        $("#newtaxrow:last").find( ":input" ).val( "0" );
        $("#newtaxrow:last").find( ":input" ).change(dave()); 
}); 
```

方法`dave()`：

```
function dave() {

    var val1 = parseInt(document.getElementById('salary').innerText);
    var val2 = parseInt(document.getElementById('tax').value);
    var val3 = parseInt(document.getElementById('newtaxfield').value);
    var total = val1 - (val2 + val3);
    document.getElementById("net").innerHTML = total;
} 
```

所以本质上，我需要即时汇总或总结克隆字段的值。它不适用于克隆的字段，我知道我做错了什么...... 有什么帮助吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:05:47.700

```
.change(dave()) 
```

应该

```
.change(dave) 
```

或者

```
.change(function() { dave(); }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:06:01.297

在将更改活页夹语句放在单击事件处理程序之外后，您是否尝试过？

```
$("#clonetax").click(function() {
        $("#newtaxrow:last").clone(true).insertAfter("#newtaxrow:last");
        $("#newtaxrow:last").find( ":input" ).val( "0" );
});
$("#newtaxrow:last").find( ":input" ).change(dave); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:14:26.293

您通过#id (#newtaxrow) 选择并克隆那个。

然后你有2行具有相同的#id，它只会选择第一个#id。文档中的每个 ID 都被认为是唯一的，因此在第一个 ID 之后继续搜索是没有用的。它总是只返回它匹配的第一个。

我在这里为你做了一个例子：http: [//jsfiddle.net/xZ8xX/](http://jsfiddle.net/xZ8xX/)

如您所见：它只提供 1 个警报，而有 2 个 id 为 #row 的 div

尝试改变

```
$('#newtaxrow') to $('.newtaxrow') 
```

然后从使用 'newtaxrow' 作为 ID 更改为 CLASS。或者至少停止使用具有相同 ID 的 2 行 :-)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T12:20:38.917

您不能对多个元素使用相同的 id。在您的情况下，使用类选择器而不是 Id。

例如：

('.classname') 而不是 @DoXicK 建议的 ('#idname')

# apache-flex - 如何使用 Flex 开发跨平台应用程序？

> ID：14378631
> 
> 赞同：1
> 
> 时间：2013-01-17T12:00:37.240
> 
> 标签：apache-flex, mobile, cross-platform, flash-builder

我读了很多书，整个事情变得更加混乱，所以我决定问你一些关于 Flex 的事情。

因此，如果您的浏览器中有 Flash 插件，Flex 可以在网页中运行，在 AIR 容器中（在 pc/android/IOS 上，但在 OSX 上？），也可以编译为 Native IOS/Android 应用程序。我不确定最后一点。

如果可能的话，我如何构建一个可以在带有 flash 插件的浏览器中运行并编译为 Android 和 IOS（可能还有 Windows RT）的 flex 应用程序？Adobe 为您提供 Flash builder，您还需要 Flex SDK 吗？Eclipse Flex 插件是否可行？

感谢您的帮助，如果有点混乱，我们深表歉意。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T14:30:16.687

> 因此，如果您的浏览器中有 Flash 插件，Flex 可以在网页中运行，在 AIR 容器中（在 pc/android/IOS 上，但在 OSX 上？），也可以编译为 Native IOS/Android 应用程序。我不确定最后一点。

这大多是正确的。Flex 可以使用在桌面浏览器上广泛使用的 Flash 插件在网页中运行。出于所有意图和目的，您应该假设您的移动用户没有在他们的移动浏览器上安装 Flash 插件。

使用 AIR 确实可以为 PC 和 Mac 创建桌面应用程序；确实支持 OSx。您还可以使用 AIR 在 Android、iOS 和 Blackberry Playbook 上创建移动应用程序。所以，确实支持iOS。Windows 8 UI/Metro 对 AIR 的支持预计在今年第一季度推出。我怀疑我们还会看到对 Blackberry 10 的 AIR 支持；但据我所知，没有任何正式宣布。

* * *

**更新：3/2014** Adob​​e 已放弃 Windows 8 UI / Metro 支持计划。不过，Windows Phone 8 支持是一项非常常见的功能请求，因此，如果您愿意，请[投票](https://bugbase.adobe.com/index.cfm?event=bug&id=3648920)支持它。

黑莓 10 确实支持 Adob​​e AIR。这是[SDK 的链接](http://developer.blackberry.com/air/)。

* * *

> 如果可能的话，我如何构建一个可以在带有 flash 插件的浏览器中运行并编译为 Android 和 IOS（可能还有 Windows RT）的 flex 应用程序？

Flex 主要是一个用于创建业务应用程序的框架。为桌面应用程序和移动应用程序提供了稍微不同的组件集。部分原因是屏幕尺寸；和部分由于性能。比如一个有几十列的大DataGrid，不利于你手机的屏幕尺寸。

* * *

**2014 年 3 月更新：**

已向 Apache Flex 团队捐赠了一个移动优化的 DataGrid，它应该在当前版本的 SDK 中可用。

* * *

到底; 您不应该计划为您的桌面/浏览器应用程序和移动应用程序使用相同的应用程序。但是，您可以共享一些代码。我的目标是共享 80% 的代码。将共享代码移动到库项目中；然后，您可以在移动应用程序、桌面应用程序和基于浏览器的应用程序上使用它。

> Adobe 为您提供 Flash builder，您还需要 Flex SDK 吗？Eclipse Flex 插件是否可行？

Flash Builder 随 Flex SDK 一起提供。Adobe Flex 附带 AIR SDK [注意：由于许可差异，Apache Flex 不附带 AIR SDK；但有一个方便的安装程序]。Flash Builder 也是一个 Eclipse 插件，可以安装到您希望的任何 Eclipse 实例中。

您不需要 Flash Builder 来创建 Flex 应用程序。如果您愿意，可以使用命令行工具和其他 IDE，例如 IntelliJ。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:14:20.883

使用 Flash Professional，您可以使用 AIR 打包和导出到多个平台。除了创建可以嵌入网页的 .swf 文件外，您*还可以*移植到 Android 或 iOS（作为本机应用程序） - 全部使用一个应用程序（转到“文件”>“发布设置”，然后更改播放器目标）。

我不确定 Flash Builder 中是否提供相同的选项（似乎是可能的 - [adobe 网站](http://help.adobe.com/en_US/Flex/4.0/UsingFlashBuilder/WS6b84a753ecd210fd-7fb8a08d12114b6a4cf-8000.html)），但不需要其他 IDE（例如 Eclipse）或框架。

您可能需要根据您的要求考虑替代开发和部署策略，例如[PhoneGap](http://phonegap.com/)，它应该为更多设备提供支持。

# php - 网站/网络应用程序开发的正确架构

> ID：14378633
> 
> 赞同：3
> 
> 时间：2013-01-17T12:00:43.233
> 
> 标签：php

我有Java背景，最近我学习了一些Web开发语言背后的理论，而我的后端语言是PHP。此外，我开始使用 CodeIgniter（我不确定这对我的问题是否重要，但无论如何）。

所以，我开始构建一个简单的画廊系统——但不确定架构是否正确（我基于我的 Java 背景，但我不知道 Web 开发是否相同）。

画廊系统非常标准：用户可以上传/删除图像和画廊，查看画廊，查看图像和查看所有画廊（在这种情况下，显示画廊的名称和最后添加的图像的拇指）。所有“视图”都有分页。

我在下面创建了 3 个类`application/libraries/galleries`：

`gallery_actions.php:`

```
class Gallery_Actions {

// Nuber of galleries to display in one page
const galleriesPerPage = 4;

public function getGalleries($page) {
  $q = .. query ..;

  return $this->getObjectGalleryArray($q->result_array());
}

public function getFeatureGallery() {
  $gallery = .. query .. ->row_array();

  return new Gallery($gallery);
}

public function getPopularGalleries($limit) {
  $q = .. query ..;

  return $this->getObjectGalleryArray($q->result_array());
}

// Get database galleries array and return object galleries array
private function getObjectGalleryArray($q = array()) {
  $galleries = array();

  foreach ($q as $gallery) {
    $galleries[] = new Gallery($gallery);
  }

  return $galleries;
}

} 
```

`gallery.php:`

```
class Gallery {

  // holds gallery info from DB
  // int id, varchar(255) name, varchar(255) lastImg, int countImgs
  public $config = array();

  // Nuber of imgs to display in one page
  const imgsPerPage = 12;

  // In most cases (maybe at all), gets all config. sometimes only id.
  function __construct($params = array()) {
    if (count($params) > 0) {
      foreach ($params as $key => $val) {
        $this->config[$key] = $val;
      }
    }
  }

  // Watch inside gallery
  public function getGallery($page) {
    return array[
      'info'   => $this->config,
      'images' => $this->getImagesOfGallery($page)
    ];
  }

  // Watch when browse galleries
  public function getPreview() { 
    return array[
      'name'    => $this->config['name'],
      'lastImg' => new Gallery_Image($this->config['lastImg']),
      'url'     => $this->config['url']
    ];
  }

  private function getImagesOfGallery($page) {
    $q = .. query ..;

    $imgs = array();

    foreach ($q->result_array() as $img) {
        $imgs = new Gallery_Image($img);
    }

    return $imgs;
  }

  public function create() { .. }

  public function uploadImages() { .. }

  public function delete() { .. }

  private function updateCount() { .. }

} 
```

`Gallery_Image:`

```
class Gallery_Image {

// holds img info from DB
// int id, varchar(255) name, varchar(255) url
public $config;

// In most cases gets all config OR only id.
function __construct($params) {
  if (count($params) > 0) {
    foreach ($params as $key => $val) {
      $this->config[$key] = $val;
    }
  }
}

public function getImage() { return $this->config; }

public function update() { .. }

public function delete() { .. }

public function getThumb() { .. return url string .. }

} 
```

有点长，但是真的不难理解。老实说，我刚刚写了代码，所以可能有语法错误——但这不是重点。关键是在代码和 Web 开发中混合 OOP。这段代码最大的优点是没有重复代码，非常清楚地实现了OO的思想。我不确定 - 创建对象是否必要且有效？我的意思是，Web 开发是相同的架构方法，例如，为 android 手机构建游戏？数据库中的每个表（当然不是绑定表等）都有一个 php 类和对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T15:38:51.670

网络是一种交付机制，仅此而已。见：[http ://www.youtube.com/watch?v=WpkDN78P884](http://www.youtube.com/watch?v=WpkDN78P884)

正如您所说，为 android 构建游戏和构建 Web 应用程序通常具有类似的架构挑战。没有架构上的灵丹妙药——代码的形式和意图应该相互通知。

对象的创建从来都不是*必需*的——一些程序员更喜欢用汇编编写 Web 应用程序！然而，对象可以是有价值的抽象。正如您所说，“这段代码的最大优点是没有重复代码，非常清楚地实现了OO的思想。” 重要的优势是代码的可读性和可维护性，这两者（几乎完全）都是主观的。作为代码库的维护者，您可以决定什么对您最有效。

现在，如果您正在寻找网络应用架构意见，请查看：http: [//12factor.net/](http://12factor.net/)

# android - 我可以在我的字符串资源中放入 & 吗？

> ID：14378638
> 
> 赞同：2
> 
> 时间：2013-01-17T12:00:58.957
> 
> 标签：android

我尝试在我的字符串资源中编写确认和关闭，但收到以下错误实体名称必须紧跟实体引用中的“&”。

我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:03:52.377

用这个.......

```
<string name="confirm">Confirm &amp; Close</string> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:01:52.960

是的，但您必须使用 HTML 编码：

```
&amp; 
```

那是因为 & 表示一个[字符实体](http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references)。

# jquery - ASP.NET MVC 3 - 加载到 ViewModel 的内容在回调后丢失

> ID：14378641
> 
> 赞同：0
> 
> 时间：2013-01-17T12:01:02.133
> 
> 标签：jquery, asp.net-mvc-3, asp.net-mvc-viewmodel

我创建了一个回调 jQuery 函数来将一些集合填充到我的 ViewModel 中。当我再次调用此函数时，ViewModel 会丢失第一个回调中填充的内容。

```
// ----------------------------------------------------
// ViewModel

public class MyViewModel
{
    public string SelectedYear { get; set; }
    public IEnumerable<Year> Years { get; set; }

    public string SelectedCourse { get; set; }
    pulbic IEnumerable<Course> Courses { get; set; }

    public string SelectedTeacher { get; set; }
    pulbic IEnumerable<Teacher> Teachers { get; set; }

    // This constructor is called when I create the ViewModel to pass for View in the "New" Controller method call.
    public MyViewModel()
    {
        Years = new List<Year>() {
            new Year(1, '2013'),
            new Year(2, '2012')
        };
        Courses = new List<Course>();
        Teachers = new List<Teacher>();
    }
// ----------------------------------------------------
// View
@model Application.Models.MyViewModel
<div id="content">
    @Html.LabelFor(m => m.SelectedYear)
    @Html.DropDownListFor(m => m.SelectedYear, new SelectList(Model.Years, "ID", "Description"))
    @Html.Partial("Courses", Model)
    @Html.Partial("Teachers", Model)
</div>

// ----------------------------------------------------
// Courses PartialView
<div id="courses">
    @Html.LabelFor(m => m.SelectedCourse)
    @Html.DropDownListFor(m => m.SelectedCourse, new SelectList(Model.Course, "ID", "Name))
</div>

// ----------------------------------------------------
// Teachers PartialView
<div id="teachers">
    @Html.LabelFor(m => m.SelectedTeacher)
    @Html.DropDownListFor(m => m.SelectedTeacher, new SelectList(Model.Teachers, "ID", "Name))
</div>

// ----------------------------------------------------
// jQuery function - called when I change the selected year.
$('#SelectedYear').change(function() {
    $.get('@Url.Action("MethodToRefreshModel", "Controller")', $('#form').serialize(), function (view) {
            $('#content').replaceWith(view);
        });
    });});

// ----------------------------------------------------
// Controller method to refresh courses
public ActionResult MethodToRefreshCourses(MyViewModel model)
{
     model.Courses = 
        (from course in context.Courses
         where course.Year.ID == Convert.ToInt64(model.SelectedYear)
         select course).ToList();

     // Returning my view with the refreshed model
     return View("New", model);
}

// Controller method to refresh teachers
public ActionResult MethodToRefreshTeachers(MyViewModel model)
{
     model.Teachers = 
        (from teacher in context.Teachers
         where teacher.Course.ID == Convert.ToInt64(model.SelectedCourse)
         select teacher).ToList();

     // Returning my view with the refreshed model
     return View("New", model);
} 
```

当我调用该方法刷新课程时，我的页面返回并显示正确的数据。当我选择一门课程来寻找老师时，在我的控制器中，我的模型似乎“丢失”了填充到另一种方法中的课程。任何人都知道发生了什么以及如何解决它？

谢谢你们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:12:26.033

在您的 jquery 选择元素更改事件中，您正在绑定一个函数，该函数将调用一个仅返回单个值的函数（调试 actionmethod 并检查模型对象中的值），然后您将替换整个内容的内容 div ( $('#content').replaceWith(view);)。

您应该只将所需的控件绑定到整个内容 div。

# javascript - Superfish mouseout 延迟不起作用

> ID：14378643
> 
> 赞同：1
> 
> 时间：2013-01-17T12:01:12.377
> 
> 标签：javascript, wordpress, superfish

在我客户的网站上：http: [//mural.planet-9-stuff.co.uk/](http://mural.planet-9-stuff.co.uk/)（在上线前的最后阶段）我有似乎使用 Superfish 代码的 JS 菜单。问题是，当您尝试从“服务”>“个人”导航到“个人”子页面之一时（尤其是在“个人”标题的斜下方和右侧，例如“为儿童投资” ），菜单消失了，真的很烦人。

我已经调整了 Superfish 配置设置以提供 10000 的延迟、disableHI 等，但似乎都没有生效。我还调整了我的 screen.css 文件中的各种设置，但同样没有给我想要的结果。

这是超级鱼代码：

```
/* Dropdown menu using superfish */
    jQuery('.nav').supersubs({
        minWidth: 12,
        maxWidth: 25,
        extraWidth: 1
    }).superfish({
        delay: 10000,
        animation: {opacity: 'show', height: 'show' },
        speed: 'slow',
        autoArrows: false,
        disableHI: true
    }); 
```

我是一个完全的 JS 新手，所以任何人都可以分享的简单说明将非常感激！

# sql - 如何在 Interbase 中的两个数据库之间加入？

> ID：14378647
> 
> 赞同：0
> 
> 时间：2013-01-17T12:01:23.490
> 
> 标签：sql, database, join, interbase

我有两个 interbase 数据库，我想在它们之间进行连接。很久以前我使用 MS-SQL 数据库，我就这样做了。

我怎样才能在 InterBase 数据库中进行类似的操作？非常感谢回答！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T13:52:16.063

您不能在 InterBase 中执行此操作。InterBase 不支持 SQL 中的这种异构连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T15:15:50.867

这是[InterBase XE SQL](http://docs.embarcadero.com/products/interbase/IBXEUpdate2/LangRef.pdf)的参考手册。它说 InterBase 接近 SQL-92 标准语法。也就是说，您在 Microsoft SQL Server 中使用的相同 JOIN 语法在这里应该适用。

# joomla - Joomla 无法登录到前端

> ID：14378649
> 
> 赞同：0
> 
> 时间：2013-01-17T12:01:27.790
> 
> 标签：joomla

每个用户都无法登录到我的 joomla 前端，我应该如何跟踪它？启用调试模式不会给我很好的信息来找出问题所在。这是我尝试使用正确密码登录时的调试模式输出：

```
http://pastebin.ca/2303850 
```

joomla 版本是“Joomla！1.5.18 稳定版 [wojmamni ama wojnaiki] TBA 04:00 GMT”

PHP版本是“5.3.10-1ubuntu3.4”

mysql版本是“5.5.28-0ubuntu0.12.04.2”

以前它工作正常，但自 2013 年以来，它不再工作了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:46:34.630

升级到最新的 joomla (1.5.x) 解决了这个问题..

# c++ - 在 C++ 中用字符串索引的整数

> ID：14378650
> 
> 赞同：5
> 
> 时间：2013-01-17T12:01:32.953
> 
> 标签：c++, string, indexing, integer, int

> **可能重复：**
> [在 C 数组中，为什么这是真的？a[5] == 5[a]](https://stackoverflow.com/questions/381542/in-c-arrays-why-is-this-true-a5-5a)

这怎么可能是有效的 C++？

```
void main()
{
  int x = 1["WTF?"];
} 
```

在 VC++10 上编译，在调试模式下，`x`语句后的值为 84。

这是怎么回事？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-17T12:04:39.757

数组下标运算符是可交换的。它等价于`int x = "WTF?"[1];`Here, `"WTF?"`is an array of 5 `char`s（它包括空终止符），并`[1]`为我们提供了第二个字符，即`'T'`- 隐式转换为`int`它的值 84。

题外话：代码片段不是有效的 C++，实际上 -`main`必须返回`int`。

您可以在此处阅读更深入的讨论：[在 C 数组中，为什么这是真的？a[5] == 5[a]](https://stackoverflow.com/questions/381542/in-c-arrays-why-is-this-true-a5-5a)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T12:03:47.807

```
int x = 1["WTF?"]; 
```

等于

```
int x = "WTF?"[1]; 
```

84是“T”ASCII码

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T12:29:24.133

The reason why this works is that when the built-in operator `[]` is applied to a pointer and an int, `a[b]` is equivalent to `*(a+b)`. Which (addition being commutative) is equivalent to `*(b+a)`, which, by definition of `[]`, is equivalent to `b[a]`.

# javascript - 避免一组固定节点的重叠

> ID：14378656
> 
> 赞同：1
> 
> 时间：2013-01-17T12:01:46.257
> 
> 标签：javascript, d3.js

我正在使用 d3 绘制一个节点都固定的图形。在我的用例中，节点的大小不同，它们使用边连接。它类似于这里的图表 - [http://linkedjazz.org/network/](http://linkedjazz.org/network/) 我试图将节点放置在椭圆形上。在这里，我想避免的节点之间发生了很多重叠。无论如何我可以查看是否有 2 个节点重叠并用我的逻辑调整位置，以便我可以将节点放置在正确的椭圆形中？

# sql-server - 使用来自不同表的动态列创建查询

> ID：14378657
> 
> 赞同：2
> 
> 时间：2013-01-17T12:01:51.950
> 
> 标签：sql-server, tsql, pivot

我正在尝试根据三个表中的数据创建一个带有动态列的查询。

这是数据库结构：

**学生**

*   `studentID int`,
*   `studentNumber int`,
*   `studentName nvarchar(100)`.

**考试：**

*   `examID int`,
*   `examName varchar(100)`,
*   `examenDate datetime`,

**考试注册：**

*   `studentID int`,
*   `examID int`,

`EXAM_REGISTRATION`当学生注册考试时，表格中会添加一条记录。

我想要得到的是一个数据透视表中所有考试和所有学生的列表，以查看哪些学生已经注册了哪些考试，如下所示：

![在此处输入图像描述](../Images/7c8ea1761d963bab05b71405024fa0f4.png)

坦率地说，我不知道从哪里开始。

我可以单独查询所有内容并将它们放在一起，但是如何将它们组合成一个查询？

我一直在研究数据透视表，但每个示例似乎只从一个表中查询，并使用数字和函数`MIN`等`AVG`。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T13:06:15.373

好的，我们走吧

一些数据可以玩

```
create table #student
(studentID int, studentNumber int, studentName nvarchar(100))
create table #exam 
(examID int, examName nvarchar(100), examDate datetime)
create table #examReg
(studentID int, examID int)

insert into #student
values (1, 787878, 'pierwszy')
,(2, 89898, 'drugi')
,(3, 343434, 'trzeci')
,(4, 121212, 'czwarty')

insert into #exam
values (1, 'exPierwszy', GETDATE())
,(2, 'exDrugi', GETDATE())
,(3, 'exTrzeci', GETDATE())

insert into #examReg
values (1,2),(1,3)
, (2,2),(2,3)
,(3,1),(3,2)
,(4,1),(4,2),(4,3) 
```

现在是主要部分和解释

首先，您必须获得枢轴查询

```
select examName, examDate , min([1])  , min([2]), min([3]) ,min([4])--studentID as studentID, examDate --,studentNumber
from 
(select a.studentID , studentNumber, examDate, examName
from #student a 
join #examReg b on a.studentID = b.studentID
join #exam c on c.examID = b.examID ) as m
pivot
(min(studentNumber) FOR studentID in ([1],[2],[3],[4])) as t
group by examName, examDate 
```

正如你所拥有的，只需在数据透视声明中更改它的 select 语句和 studentID 列表，你必须动态生成这些部分，所以我们只需复制先前编写的查询并用我们的令牌替换列

```
 declare @sqlTemplate nvarchar(max) = 
    'select examName, examDate @@sqlColumnList@@
    from 
    (select a.studentID , studentNumber, examDate, examName
    from #student a 
    join #examReg b on a.studentID = b.studentID
    join #exam c on c.examID = b.examID ) as m
    pivot
    (min(studentNumber) FOR studentID in (@@sqlStudentIDList@@)) as t
    group by examName, examDate
' 
```

之后，您通过在 tsql 中连接字符串来生成列列表和学生 ID 列表

```
declare @sqlColumnList nvarchar(max) = ''
select @sqlColumnList += ',min([' + cast(studentID as nvarchar(10)) + ']) as [' + studentName +'(' + cast(studentNumber as nvarchar(10)) + ')]'
from #student
declare @sqlStudentIDList nvarchar(max) = ''
select @sqlStudentIDList += '[' + CAST(studentID as nvarchar(10)) + '],'
from #student

set @sqlStudentIDList = SUBSTRING(@sqlStudentIDList, 0, LEN(@sqlStudentIDList))
select @sqlStudentIDList 
```

一旦你有了它，你所要做的就是替换以前模板中的标记

```
set @sqlTemplate = REPLACE(@sqlTemplate, '@@sqlColumnList@@', @sqlColumnList)
set @sqlTemplate = REPLACE(@sqlTemplate, '@@sqlStudentIDList@@', @sqlStudentIDList)

select @sqlTemplate

exec sp_executesql @sqlTemplate 
```

如果你想阅读更多关于 pivot go for msdn 的信息，那就是它，如果你想阅读[这个链接的动态 go](http://www.sommarskog.se/dynamic_sql.html)

编辑：要从评论中调整问题的查询，您必须像这样更改@sqlColumnList

```
select @sqlColumnList += ',min(' + QUOTENAME(studentID)  + ') as Student' + CAST(studentID as nvarchar(10))  + '_REG,
'''+ studentName + ''' as Student' + cast(studentID as nvarchar(10)) + '_NAME,
'+ cast(studentID as nvarchar(10)) + ' as Student' + cast(studentID as nvarchar(10)) + '_ID'
from #student 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T15:23:53.273

这是数据的*枢纽*。我会执行此操作与其他答案略有不同。如果您知道所有值，则可以对这些值进行硬编码。

静态版本将是：

```
select examname,
  examendate,
  IsNull([Smith, John (14323)], 'false') [Smith, John (14323)],
  IsNull([Craft, Peter (14334)], 'false') [Craft, Peter (14334)],
  IsNull([Davis, Alan (13432)], 'false') [Davis, Alan (13432)],
  IsNull([Newman, Ted (133123)], 'false') [Newman, Ted (133123)]
from
(
  select e.examname,
    e.examenDate,
    s.studentName + ' ('+cast(s.studentnumber as varchar(50))+')' studentNameNum,
    'true ' as Flag
  from exam e
  left join exam_registration er
    on e.examid = er.examid
  right join student s
    on er.studentid = s.studentid
) src
pivot
(
  max(flag)
  for studentNameNum in ([Smith, John (14323)], [Craft, Peter (14334)],
                      [Davis, Alan (13432)], [Newman, Ted (133123)])
) piv 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/72076/14)

如果您的值未知，则查询将是：

```
DECLARE @cols AS NVARCHAR(MAX),
    @colsNull AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX)

select @cols = STUFF((SELECT distinct ',' + QUOTENAME(s.studentName + ' ('+cast(s.studentnumber as varchar(50))+')') 
                    from student s
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colsNull = STUFF((SELECT distinct ',IsNull(' + QUOTENAME(s.studentName + ' ('+cast(s.studentnumber as varchar(50))+')')+', ''false'')'+' as '+QUOTENAME(s.studentName+' ('+cast(s.studentnumber as varchar(50))+')') 
                    from student s
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT examname,
                  examenDate,' + @colsNull + ' from 
             (
                select e.examname,
                  e.examenDate,
                  s.studentName + '' (''+cast(s.studentnumber as varchar(50))+'')'' studentNameNum,
                  ''true '' as Flag
                from exam e
                left join exam_registration er
                  on e.examid = er.examid
                right join student s
                  on er.studentid = s.studentid
            ) x
            pivot 
            (
                max(flag)
                for studentNameNum in (' + @cols + ')
            ) p '

execute(@query) 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/72076/35)

结果将是：

```
| EXAMNAME |          EXAMENDATE | CRAFT, PETER (14334) | DAVIS, ALAN (13432) | NEWMAN, TED (133123) | SMITH, JOHN (14323) |
----------------------------------------------------------------------------------------------------------------------------
|   Exam 1 | 2013-01-01 12:00:00 |                false |               false |                true  |               false |
|   Exam 2 | 2013-01-01 14:00:00 |                true  |               false |                false |               true  |
|   Exam 3 | 2013-01-02 12:00:00 |                true  |               true  |                false |               false |
|   Exam 4 | 2013-01-02 14:00:00 |                false |               false |                true  |               false |
|   Exam 5 | 2013-01-03 12:00:00 |                false |               false |                false |               true  | 
```

# eclipse - 如何在 linux 和 windows 之间共享 eclipse 项目文件？

> ID：14378660
> 
> 赞同：4
> 
> 时间：2013-01-17T12:01:57.853
> 
> 标签：eclipse

我们在 windows 中有一个 eclipse 项目，但我们想在 windows eclipse 用户和 linux eclipse 用户之间共享它。但是，当 linux 用户打开项目时，他必须做两件事：

1.  我们依赖安装在 Windows 和 linux 机器上不同目录中的第三方库。因此，linux 用户必须更改路径变量，例如“LIB”以指向他机器上的正确目录。

2.  我们使用相同的路径变量来生成其他几个路径变量，例如“$(LIB)\something”，Linux 用户必须将反斜杠更改为正斜杠。

除了维护两个单独的项目文件之外，有没有什么聪明的方法可以避免这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-21T08:51:35.197

您可以使用适用于 Linux 和 Windows 的[Maven 。](http://maven.apache.org/)在那里，您可以配置可以为不同平台单独激活的配置文件。

例如：

```
<profiles>
  <profile>
    <activation>
      <os>
        <name>Windows XP</name>
        <family>Windows</family>
        <arch>x86</arch>
        <version>5.1.2600</version>
      </os>
    </activation>
    ...
  </profile>
</profiles> 
```

有关更多详细信息，您可以查看[此页面](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)。

所以这背后的主要思想是将你的源代码存储在**没有**项目配置文件的版本控制系统中。项目配置文件应该由在每个开发人员的机器上运行的工具在签出后准备。

# ruby - 使用 Twitter Ruby Gem 显示推文

> ID：14378666
> 
> 赞同：0
> 
> 时间：2013-01-17T12:02:24.720
> 
> 标签：ruby, rubygems, twitter

我应该说我是 Ruby 的新手。我刚刚设法创建了一个 Twitter 应用程序并将 Twitter Ruby Gem 配置为发推文、显示推文等。问题是当我获取推文时，没有显示实际内容，相反，我得到了类似`#<Twitter::Tweet:0x2a3de78>`.

我只是使用这个代码片段：

```
puts Twitter.status(123456789) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:04:54.130

那是因为该`Twitter.status`方法返回类的一个实例[`Twitter::Tweet`](http://rdoc.info/gems/twitter/Twitter/Tweet)。

要从中提取数据，`Twitter::Tweet`您必须调用一些方法，例如`text`：

```
puts Twitter.status(...).text 
```

# ruby-on-rails - Capybara 方法未定义

> ID：14378668
> 
> 赞同：2
> 
> 时间：2013-01-17T12:02:34.883
> 
> 标签：ruby-on-rails, rspec, capybara

我不能让水豚工作。我正在使用水豚 2.0.0

我收到这个错误

```
Failure/Error: visit "/users/sign_in"
     NoMethodError:
       undefined method `visit' for #<RSpec::Core::ExampleGroup::Nested_21:0x007fdda4c6eba0> 
```

在这个规范上

规范/请求/forgot_password_spec.rb

```
describe "forgot password" do
  it "redirects user to users firms subdomain" do
    visit "/users/sign_in"  
  end
end 
```

我没有收到任何无法找到水豚的错误，它包含在 spec_helper.rb 中

spec_helper.rb

```
require 'rubygems'
require 'spork'
require 'database_cleaner'
Spork.prefork do
 ENV["RAILS_ENV"] ||= 'test'
 require File.expand_path("../../config/environment", __FILE__)
 require 'rspec/rails' 
 require 'capybara/rspec'
 require 'rspec/autorun'
 require 'factory_girl'

 Dir[Rails.root.join("spec/support/**/*.rb")].each {|f| require f}

 RSpec.configure do |config|
   config.include Devise::TestHelpers, :type => :controller
   config.extend ControllerMacros, :type => :controller
   config.include RequestMacros, :type => :request
   config.mock_with :rspec

   config.use_transactional_fixtures = false

   config.before(:suite) do
     DatabaseCleaner.strategy = :truncation
   end

   config.before(:each) do
     DatabaseCleaner.start
   end

   config.after(:each) do
     DatabaseCleaner.clean
   end
   config.infer_base_class_for_anonymous_controllers = false
 end
 Spork.each_run do
   FactoryGirl.reload  
 end
 end 
```

有没有其他人遇到过这个？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T12:29:27.853

如果你有 version `>= 2.0`，任何使用 Capybara 方法的测试都`visit`应该放在**spec/features**目录下，而不是**spec/requests**下，它们通常驻留在 Capybara 中`1.1.2`。

请查看以下链接以获取更多信息：

*   [rspec-rails 和 capybara 2.0：你需要知道的](http://alindeman.github.com/2012/11/11/rspec-rails-and-capybara-2.0-what-you-need-to-know.html)
*   [rspec-rails gem Capybara 页面](https://github.com/rspec/rspec-rails/blob/master/Capybara.md)

如果您不想使用**spec/features**目录，您应该能够通过`feature`以下方式将测试标记为 a 并让 Capybara 方法工作：

```
describe "Some action", type: :feature do
  before do
    visit "/users/sign_in"
    # ...
  end
  # ...
end 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-04T20:03:07.663

就我而言，我收到此错误是因为我忘记将`require "spec_helper"` 新规范文件放在顶部。

我已经做了足够多的时间，我正在为一个已经回答的问题添加一个答案，希望它可以帮助其他一些笨蛋（或者很可能我将来会再次搜索这个问题）。

# asp.net-mvc - 如何将值从强类型视图传递到控制器

> ID：14378669
> 
> 赞同：0
> 
> 时间：2013-01-17T12:02:36.807
> 
> 标签：asp.net-mvc

**很快我的问题是：** 我有一个视图 - 模型任务的强类型。我在视图中有一个表单，稍后将传递给控制器​​。我想在视图中为 task.CreationUserId 分配一个值。使用 ViewBag 获得视图的价值，但这并不重要我该怎么做？语法是什么？

**如果你想阅读整个故事：**

我有一个创建任务的视图。视图是任务模型的强类型。任务的参数之一是 taskCreationUserID。

首先我有一个控制器，它作为参数 CurrentuserId

```
 public ActionResult CreateForEdit(int id)
        {
            ViewBag.AmountsId = new SelectList(db.Amounts1, "Id", "Interval");
            ViewBag.TaskStatusesId = new SelectList(db.TaskStatuses, "Id", "Status");
            ViewBag.TaskTypesId = new SelectList(db.TaskTypes, "Id", "Type");
            ViewBag.CreationUserID = new SelectList(db.Users, "Id", "UserName");
            ViewBag.UserId = id;
            return View();
        } 
```

这称为这种观点：

```
@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Task</legend>
             @Html.HiddenFor(model => model.Id)

        div class="editor-label">
            @Html.LabelFor(model => model.Name)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)
        </div> 
```

等等...

然后我使用控制器保存这个任务：

```
[HttpPost]
        public ActionResult CreateForEdit(Task task)
        {
            if (ModelState.IsValid)
            {
                task.CreationDate = DateTime.Now;
                task.Piority = "p2";
                task.TaskStatusesId = 1;

                task.CreationUserID = UserId;
                db.Tasks.Add(task);
                db.SaveChanges();
                return RedirectToAction("Index", new { id = UserId });
            } 
```

问题是：我如何将 ViewBag.UserId 的值放入 View 中，以便它将作为 task.CreationUserID 返回到控制器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:19:05.793

ViewBag 一次可用于一个回发请求，您可以使用 Session 代替 View Bag

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:22:08.190

Viewbag 只是一个保存数据的动态对象。不涉及状态管理。任何存储在其中的内容都会在回发时松动。

> 您必须在模型中添加 UserId 并添加一个隐藏字段，就像 model.id

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:28:18.950

I assume there is a UserId property on your Task object or that you can create one.

Don't put it in the ViewBag but instead create a new `Task` object in yout `HttpGet` method and assign the value of `id` to its property: `var task = new Task(); task.CreationUserID = id;`

Then pass the `Task` object to the View en store `task.CreationUserID` in a hidden field: `@Html.HiddenFor(model => model.CreationUserID)`

In the `HttpPost` method you will find retrieve it from the task property `task.CreationUserID` so you can delete `task.CreationUserID = UserId;` from the `if statement`

# delphi - 终端服务器上运行的 Delphi 7 应用程序的推荐 PE 标头设置？

> ID：14378674
> 
> 赞同：22
> 
> 时间：2013-01-17T12:02:43.567
> 
> 标签：delphi, delphi-7, terminal-services

在调查一些在 Windows 2008 终端服务器上运行 Delphi 7 应用程序的用户报告的外部异常 C0000006 错误时，我已经发现了几个关于此问题和相关问题的问题。我想知道是否有人有这些设置的明确列表，这些设置适用于在终端服务器上运行的标准 Delphi 7 数据库应用程序。

我看过的问题包括：

*   [外部异常 C0000006](https://stackoverflow.com/questions/1317886/)
*   [Delphi - 运行时出现无效的流格式错误](https://stackoverflow.com/questions/13766310/)
*   [是否存在与 IMAGE_FILE_REMOVABLE_RUN_FROM_SWAP 或 IMAGE_FILE_NET_RUN_FROM_SWAP 相关的风险？](https://stackoverflow.com/questions/6953739/)
*   [作为远程桌面应用程序运行时，Delphi TOpenDialog 在 Windows 2008 中挂起](https://stackoverflow.com/questions/3206010/)
*   [Delphi 2007：如何设置 TSAWARE？](https://stackoverflow.com/questions/13458485/)
*   [如何强制 Delphi 7 加载整个可执行文件？](https://stackoverflow.com/questions/12414509/)

到目前为止，我没有阅读这些内容，我想我应该将以下内容添加到 .dpr 文件中：

```
const
  IMAGE_DLLCHARACTERISTICS_TERMINAL_SERVER_AWARE = $8000;
  // Following are already defined in D7's Windows.pas
  IMAGE_FILE_RELOCS_STRIPPED               = $0001;
  IMAGE_FILE_REMOVABLE_RUN_FROM_SWAP       = $0400;
  IMAGE_FILE_NET_RUN_FROM_SWAP             = $0800;

{$SetPEOptFlags IMAGE_DLLCHARACTERISTICS_TERMINAL_SERVER_AWARE}

{$SetPEFlags IMAGE_FILE_RELOCS_STRIPPED 
  or IMAGE_FILE_REMOVABLE_RUN_FROM_SWAP 
  or IMAGE_FILE_NET_RUN_FROM_SWAP} 
```

**编辑：**剥离重定位部分可能是不必要的，所以这里是修订版：

```
const
  IMAGE_DLLCHARACTERISTICS_TERMINAL_SERVER_AWARE = $8000;
  // Following are already defined in D7's Windows.pas
  IMAGE_FILE_REMOVABLE_RUN_FROM_SWAP       = $0400;
  IMAGE_FILE_NET_RUN_FROM_SWAP             = $0800;

{$SetPEOptFlags IMAGE_DLLCHARACTERISTICS_TERMINAL_SERVER_AWARE}

{$SetPEFlags IMAGE_FILE_REMOVABLE_RUN_FROM_SWAP 
  or IMAGE_FILE_NET_RUN_FROM_SWAP} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-01-15T22:53:42.287

```
{$SetPEOptFlags IMAGE_DLLCHARACTERISTICS_TERMINAL_ SERVER_AWARE}
{$SetPEFlags IMAGE_FILE_RELOCS_STRIPPED   
  or IMAGE_FILE_REMOVABLE_RUN_FROM_SWAP   
  or IMAGE_FILE_NET_RUN_FROM_SWAP} 
```

可以满足您的需求。我怀疑 IMAGE_FILE_NET_RUN_FROM_SWAP 是您处理 C0000006 所需要的。当您从网络驱动器运行并且驱动器无法满足对可执行文件的请求时，通常会发生该错误。

无论哪种方式，其他 PE 标志都适合您。我会像你一样拥有它。

至于IMAGE_DLLCHARACTERISTICS_TERMINAL_SERVER_AWARE对不对，只有你自己知道。您的应用程序是否满足被视为终端服务的非传统应用程序的要求，如[MSDN 中](http://msdn.microsoft.com/en-us/library/01cfys9z.aspx)所述？如果是这样，请使用 IMAGE_DLLCHARACTERISTICS_TERMINAL_SERVER_AWARE。

# java - 在 JSF 中自我刷新的组件

> ID：14378675
> 
> 赞同：3
> 
> 时间：2013-01-17T12:02:44.487
> 
> 标签：java, jsf, richfaces

我正在使用 JSF 和 html 表（不涉及其他面表）创建一个表组件，因此将集合作为参数，它会迭代并显示表内容。

我有一个“删除”链接点击它应该删除项目并且它工作正常。我现在的问题是删除该项目后，我需要自行刷新表格组件。

当我在渲染中使用@form 时它起作用了。但是当将组件与任何页面集成时，这将是一个问题。任何人都有想法在单击“删除”链接时自行刷新表格组件？请提供您的想法。

```
 <a4j:commandLink id="removeSelection" actionListener="#{cc.attrs.rowRemoveEventListener}" render="@form #{cc.attrs.renderOnRemove}" styleClass="st-remove-link" onclick="">
        <f:param name="rowKey" value="#{rowKey}"/>
        <span class="link-text">Remove</span>
        <a4j:ajax event="click" render="#{cc.clientId}" />
      </a4j:commandLink> 
```

完整的组件标记：

```
 <div id="#{cc.clientId}">
      <--stylesheet link here-->
      <h:panelGroup id="simpletablepanel" layout="block">
        <a4j:outputPanel id="simpletablebody" layout="block">
        <table>
          <tr>
            <td>
               <span>value</span>
            </td>
            <td>
              <a4j:commandLink id="removeSelection"
                actionListener="#{cc.attrs.rowRemoveEventListener}"
                render=":#{cc.clientId} #{cc.attrs.renderOnRemove}">
                  <f:param name="rowKey" value="#{rowKey}"/>
                  <span>Remove</span>
              </a4j:commandLink>
            </td>
          </tr>
        </tbody>
      </ui:fragment>
    </table>
  </a4j:outputPanel>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T14:10:43.937

just check the below link, i hope you will found something..

[In JSF 2 - Trying to rerender a panelgroup that is between 2 ui:repeats](https://stackoverflow.com/questions/7818217/in-jsf-2-trying-to-rerender-a-panelgroup-that-is-between-2-uirepeats)

# ios - iOS - 加载后在 webview 中放大 pdf

> ID：14378677
> 
> 赞同：1
> 
> 时间：2013-01-17T12:02:54.820
> 
> 标签：ios, objective-c, xcode, uiwebview

我有以下代码，它将应用程序文档中的 pdf 加载到`UIWebView`.

```
-(IBAction)viewMyPdf:(id)sender {
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
    NSString *documentsPath = [paths objectAtIndex:0];
    NSString *path = [documentsPath stringByAppendingPathComponent:@"myfilename.pdf"];
    NSURL *url = [NSURL fileURLWithPath:path];
    NSURLRequest *request = [NSURLRequest requestWithURL:url];
    [webView loadRequest:request];
    [webView setScalesPageToFit:YES];

    [self performSelector:@selector(theTest) withObject:nil afterDelay:2.0];
}

-(void)theTest {
    NSLog(@"Hello");
    [webView.scrollView setZoomScale:5.0 animated:NO];
    webView.scrollView.contentOffset = CGPointMake(480, 360);
} 
```

如您所见，最后我`theTest`要放大并设置一个适当的位置开始（因为我不想从适合页面的pdf开始）。这有 0.2 的延迟，这是不受欢迎的，因为时间延迟可能会发生变化，因此可能不会发生缩放效果（如果加载时间超过 0.2 秒）或者感觉非常错误和跳跃（取决于加载速度比0.2 延迟）。

`UIWebView`将我的 pdf 加载到

**编辑：** `-(void)webViewDidFinishLoad:(UIWebView *)webView {`似乎也没有帮助。它打印 NSLog 但缩放不起作用。webview 确实有相应的委托设置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:13:42.053

`QuickLook`如果我很好地理解您的问题可以完全满足您的要求，您为什么不尝试该框架。看那个[教程](http://iphonebyradix.blogspot.it/2012/02/load-pdf-file-in-iphone-app-smoothly.html)

# c# - 电子秤误差

ID：14378678

赞同：1

时间：2013-01-17T12:02:56.030

标签：c#, device

# java - 如何在 Android 中使用 java.applet.Applet？

> ID：14378681
> 
> 赞同：1
> 
> 时间：2013-01-17T12:03:05.600
> 
> 标签：java, android

当我尝试使用 java.applet.Applet 时，出现运行时错误：

```
java.lang.NoClassDefFoundError: java.applet.Applet 
```

我试图手动放置该库，但我得到了同样的错误。我对其他库也做过同样的事情，并且它有效，但对这个库没有。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T13:49:47.900

> 当我尝试使用 java.applet.Applet 时，出现运行时错误

那是因为该类在 Android 中不存在。

> 我试图手动放置该库

`java.applet.Applet`是一类。它不是图书馆。

> 如何在 Android 中使用 java.applet.Applet？

你没有。最有可能的是，您重写代码以使用 Android UI 框架，就像您拥有 Swing 或 SWT Java 桌面应用程序或 Java servlet 一样。

# solrnet - SolrNet 客户端可以在与 solr 服务器不同的机器上运行吗？

> ID：14378686
> 
> 赞同：0
> 
> 时间：2013-01-17T12:03:19.943
> 
> 标签：solrnet

我在机器 192.168.0.113（Centos 5.5）中设置了一个在 Tomcat 中运行的 solr 服务器。我在matchine 192.168.0.114（Windows server 2003）中部署了一个网站。我在 matchine 192.168.0.114 中使用 solrnet。完整的代码如下（感谢@Paige Cook 编辑）：

```
using System;
using System.Collections.Generic;
using System.Text;
using SolrNet;
using NUnit.Framework;
using SolrNet.Attributes;
using SolrNet.Commands.Parameters;
using Microsoft.Practices.ServiceLocation;
namespace MySolrNet
{
    public class Video
    {
        private string videoid;
        [SolrField("videoid")]
        public string Videoid
        {
            get { return videoid; }
            set { videoid = value; }
        }

        private string videoname;
        [SolrField("videoname")]
        public string Videoname
        {
            get { return videoname; }
            set { videoname = value; }
        }
        private string videoorigin;
        [SolrField("videoorigin")]
        public string Videoorigin
        {
            get { return videoorigin; }
            set { videoorigin = value; }
        }
        public Video(string id, string name, string origin)
        {
            this.Videoid = id;
            this.Videoname = name;
            this.Videoorigin = origin;
        }
        public Video()
        {

        }
        public void FixtureSetup()
        {
            Startup.Init<Video>("http://192.168.0.113:8070/solr");
        }
        public void Add()
        {
            Video p = new Video("1", "test video", "Solr Test");
            ISolrOperations<Video> solr = ServiceLocator.Current.GetInstance<ISolrOperations<Video>>();
            solr.Add(p);
            solr.Commit();
        }
    }

    [TestFixture]
    public class VideoTests
    {
        [TestFixtureSetUp]
        public void FixtureSetup()
        {
            Startup.Init<Video>("http://192.168.0.113:8070/solr");
        }
        [Test]
        public void Add()
        {
            Video p = new Video("1", "test video", "Solr Test");
            ISolrOperations<Video> solr = ServiceLocator.Current.GetInstance<ISolrOperations<Video>>();
            solr.Add(p);
            solr.Commit();
        }
        [Test]
        public void Query()
        {
            ISolrOperations<Video> solr = ServiceLocator.Current.GetInstance<ISolrOperations<Video>>();
            SolrQueryResults<Video> results = solr.Query(new SolrQueryByField("videoid", "33013"));
            Assert.AreEqual(1, results.Count);
            Console.WriteLine(results[0].Videoname);
        }
    }
} 
```

但是，**添加**和**查询**测试都失败了。它抱怨：**TestFixture 失败：SetUp：System.IO.FileLoadException：无法加载文件或程序集“SolrNet，版本=0.4.0.2002，Culture=neutral，PublicKeyToken=bc21753e8aa334cb”或其依赖项之一。**

但是我在我的项目中添加了对 Microsoft.Practices.ServiceLocation.dll 和 SolrNet.dll 的引用，还有其他我想念的 dll 文件吗？

顺便说一句，我可以使用以下网址在浏览器中访问我的 solr 服务器：http://192.168.0.113:8070/solr。

谁能告诉我：

1.  我可以在不同的机器上运行 solrnet 和 solr 吗？
2.  怎么做。

非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T00:41:07.137

我不明白为什么您在初始化 Solr 时使用两个不同的 URL。尝试将 Paige 应用程序中的 URL 更改为您在原始问题中发布的 URL：

```
http://192.168.0.113:8070/solr
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T14:48:24.813

感谢您发布代码。我看到的第一件事是您使用测试类作为类类型将数据传递给 Solr。把它们分开，这可能会导致一些问题。我建议如下：

```
public class Video
{
    private string videoid;
    [SolrField("videoid")]
    public string Videoid
    {
        get { return videoid; }
        set { videoid = value; }
    }

    private string videoname;
    [SolrField("videoname")]
    public string Videoname
    {
        get { return videoname; }
        set { videoname = value; }
    }
    private string videoorigin;
    [SolrField("videoorigin")]
    public string Videoorigin
    {
        get { return videoorigin; }
        set { videoorigin = value; }
    }
}

[TestFixture]
public class VideoTests
{
    [TestFixtureSetUp]
    public void FixtureSetup()
    {
        Startup.Init<Video>("http://192.168.0.113/solr");
    }
  [Test]
    public void Add() {
        Video p = new Video("1","test video","Solr Test");
        ISolrOperations<Video> solr = ServiceLocator.Current.GetInstance<ISolrOperations<Video>>();
        solr.Add(p);
        solr.Commit();
    }
    [Test]
    public void Query()
    {
        ISolrOperations<Video> solr = ServiceLocator.Current.GetInstance<ISolrOperations<Video>>();
        SolrQueryResults<Video> results = solr.Query(new SolrQueryByField("videoid", "33013"));
        Assert.AreEqual(1, results.Count);
        Console.WriteLine(results[0].Videoname);
    }        
} 
```

更新：在控制台应用程序中试试这个，看看它是否有效......

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using SolrNet;
using Microsoft.Practices.ServiceLocation;
namespace Test1
{
    class Program
    {
        static void Main(string[] args)
        {
            Startup.Init<Video>("http://192.168.0.113:8070/solr");
            var solr = ServiceLocator.Current.GetInstance<ISolrOperations<Video>>();

            var video = new Video("1", "test", "test");
            solr.Add(video);
            solr.Commit();

            var results = solr.Query(SolrQuery.All);
            Console.WriteLine("{0} - {1} - {2}",
                results[0].Videoid, results[0].Videoname, results[0].Videoorigin);
        }
    }
    public class Video
    {
        public Video(string id, string name, string origin)
        {
            Videoid = id;
            Videoname = name;
            Videoorigin = origin;
        }

        public string Videoid { get; set; 
        public string Videoname { get; set; }
       public string Videoorigin { get; set; }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T09:30:44.990

您可以按照 Paige 的建议检查您的项目设置吗？您是否在解决方案中添加了 SolrNet 源代码作为项目参考？如果您使用的是 dll，您可以粘贴您的 .csproj 文件内容吗？如果紧急，请下载源代码并作为项目参考添加到您的解决方案中，直到找出问题所在。

# algorithm - 有向图与关联数组

> ID：14378687
> 
> 赞同：0
> 
> 时间：2013-01-17T12:03:32.470
> 
> 标签：algorithm, graph-algorithm

我一直在阅读有向图。我已经设法让抽象图形数据类型在我的应用程序中工作，但我觉得它不是特别直观，并且正在考虑用普通的多维数组替换它。

我的图是稀疏且无环的。每个顶点都可以从一个特定的“主”顶点到达。如果它是一棵树，这个主顶点将是“根”。这是一个社交网络，这个主顶点将是“我”。

尽管我的图可能有数十万个顶点，但它的深度是有限的：任何两个节点之间的最大距离是 3 条边。

底层数据表示是一个邻接表。一个小例子如下所示：

```
Head | Tails
--------------
  1  | 2, 3, 4
  2  | 5  
  3  | 5
  4  | 5
  5  | 6 
```

如果我使用普通的多维数组而不是我的图形数据类型，它看起来像这样：

```
$me[1][2][5][6]
$me[1][3][5][6]
$me[1][4][5][6] 
```

现在，我希望能够用这张图做的主要事情是：

1.  将其作为层次结构进行导航。我意识到一些子顶点将具有多个类别（例如＃5），但这就是我想要的这个特定用例。在这一点上，我看不出数组和图表之间有任何真正的区别。
2.  将其布置为列表（按字母顺序，根据顶点名称），没有重复。我可能会做一个 DFS，边走边标记访问过的顶点，以避免多次探索它们。但据我所知，这可以使用图形或数组来实现，并且成本相同。
3.  对任何给定的点对进行“所有路径”分析。因为我想要“所有路径”（即，我不只是检查可达性），所以在我看来，我必须遍历整个图表，而且我再次看不出图表优于数组。

我觉得我错过了一些东西，但我不能把手指放在它上面。你能？？？任何想法，建议，见解或建议都非常感谢......（顺便说一下，我使用的是 PHP，数据源是一个关系数据库。我认为这没有任何真正的区别）。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T14:45:19.363

您需要了解的一件事是，有*向图*（或有向图）是一个**概念**，而*关联数组*是一种**数据结构**。

digraph 概念的一个实例可以存储在许多不同的数据结构中，您可以在此[维基百科页面](http://en.wikipedia.org/wiki/Graph_%28data_structure%29#Representations)上找到最常见的数据结构。

我不确定你在用你的多维数组做什么......存储所有路径？你最终会得到 N³ 的空间复杂度，并且很难构建它。基于树的结构至少会更有效。

现在到你想用你的图表做的事情：

1.  **作为层次结构导航**。基本的有向图概念不允许在层次结构中上升，但您也可以轻松存储反向图（尤其是基于矩阵的表示，只需使用 3 个值而不是 2 - 向前、向后和什么都没有）。
2.  **根据 name 将其作为列表列出**。您必须将名称存储在某处（在侧面地图或顶点对象中），但它不应该比根据名称对其他任何内容进行排序更难。
3.  **进行“所有路径”分析**。您可能可以通过 DP 和路径的共享表示来摆脱线性复杂性（路径数量）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T13:11:27.753

看来你的数据结构太复杂了。如果将有向图表示为多维数组，它几乎总是二维的，因此

```
$array[$x][$y] 
```

是一个布尔值，当且仅当图中存在从节点 $x 到节点 $y 的边时为 TRUE。在你的例子中，如果是例如

```
$array[1][2] = TRUE
$array[1][5] = FALSE 
```

但是对于稀疏图，使用这种布尔矩阵表示通常不是很好。通常你会有一个一维数组，将每个节点映射到一组有边的节点，例如

```
$array[1] = { 2, 3, 4 } 
```

其中 { ... } 表示某种无序集合数据结构，例如可以是二叉搜索树或哈希集（哈希表）。

这种数据结构使您能够快速找到从给定节点到有弧的节点，这是图算法的一个关键特性。

有时您还希望能够向后遍历您的图表；在这种情况下，您将拥有另一个将节点映射到其前任列表的数组。

# iphone - UIActivityIndi cator 不显示

> ID：14378688
> 
> 赞同：1
> 
> 时间：2013-01-17T12:03:37.970
> 
> 标签：iphone, xcode4.5, uiactivityindicatorview

我有一个加载了 tableView 的 FirstView，当点击 tableviewCell 的附件按钮时，它会转到 SecondView。SecondView 中的数据是从服务 url 加载的，因此需要时间。所以我需要在点击附件按钮时显示 activityIndi​​cator，停止它加载整个数据后。但我看不到显示活动指示器。

这是我正在处理的代码：

```
- (void) tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:(NSIndexPath *)indexPath
{

 activityIndicator = [[UIActivityIndicatorView alloc]initWithFrame:CGRectMake(143, 220, 37, 37)];
 activityIndicator.activityIndicatorViewStyle = UIActivityIndicatorViewStyleGray;
 activityIndicator = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];
 activityIndicator.color = [UIColor redColor];
 [scrollView  addSubView:activityIndicator];
 [activityIndicator startAnimating];
 activityIndicator.frame=CGRectMake(140, 195, 37, 37);
 [activityIndicator startAnimating];

        SecondView *secView = [[SecondView alloc] initWithNibName:@"SecondView" bundle:nil];
        secView.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;

        UITableViewCell* cell = [tableView cellForRowAtIndexPath:indexPath];
        UILabel *name1 = (UILabel*)[cell viewWithTag:111];
        secView.provName = [name1 text];

        [self presentModalViewController: secView animated:NO];

        [secView release];
    } 
```

我要去哪里错了？

编辑：

第二视图：

```
-(void)viewWillAppear:(BOOL)animated

{
    activityIndictr = [[UIActivityIndicatorView alloc]initWithFrame:CGRectMake(143, 220, 37, 37)];
    activityIndictr.activityIndicatorViewStyle = UIActivityIndicatorViewStyleGray;

    activityIndictr.color = [UIColor redColor];
    [testscroll addSubview:activityIndictr];
    [activityIndictr startAnimating];

}

-(void)viewDidLoad
{
  [super viewDidLoad]
   // I m calling many service urls(10) and assigning to labels and tableview 
  [activityIndictr stopAnimating];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:07:21.510

您应该在 SecondView 中调用活动指示器`ViewWillAppear`，以便在推入此视图后立即启动活动指示器，然后在从 url 解析所有数据时将其关闭。

这是因为第二个视图控制器几乎会立即被推送，并且数据需要一些时间来加载

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:07:04.413

您分配*了两个*活动指示器，将第一个扔掉，然后开始为第二个设置*两次*动画，并且永远不要将任何活动指示器添加到任何现有视图中。难怪它没有出现。尝试`[[secView view] addSubview:activityIndicator]`或类似的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:08:49.573

在 SecondView 的 viewWillAppear 中执行此操作：

```
activityIndicator = [[UIActivityIndicatorView alloc]initWithFrame:CGRectMake(143, 220, 37, 37)];
activityIndicator.activityIndicatorViewStyle = UIActivityIndicatorViewStyleGray;
[self.view addSubview:activityIndicator];
[activityIndicator startAnimating]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T12:15:07.103

我再次更新了答案。

将此代码放入 appdelegate 并在 appdelegate 中定义静态对象，如下所示

静态 UIActivityIndi​​catorView *activityView;

```
+(void)showActivityIndicator{

if (!activityView) {
    activityView = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge];
    activityView.center = CGPointMake(160, 230);
    [activityView startAnimating];
    UIWindow *win = [UIApplication sharedApplication].keyWindow;
    [win addSubview:activityView];
}
}

+(void)removeActivityIndicator{
if ([activityView superview]) {
    [activityView removeFromSuperview];
    activityView = nil;
}
}

- (void) tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:(NSIndexPath *)indexPath
{
UIWindow *window = [UIApplication sharedApplication].keyWindow;

//global static activity indicator... you can access from any other view controlller

 [AppDelegate showActivityIndicator];

} 
```

得到回应后

```
 [AppDelegate removeActivityIndicator]; 
```

# php - 试图找到 ffmpeg 的持续时间

> ID：14378692
> 
> 赞同：0
> 
> 时间：2013-01-17T12:04:02.833
> 
> 标签：php, ffmpeg

> **可能重复：**
> [获取 MP3 持续时间的 PHP 函数](https://stackoverflow.com/questions/12053125/php-function-to-get-mp3-duration)

我目前有以下代码用于获取视频持续时间

```
$file = "videos/the_video.mp4";
passthru("ffmpeg -i ".$file." 2>&1");
$duration = ob_get_contents();
$search='/Duration: (.*?)[.]/';

$duration=preg_match($search, $duration, $matches, PREG_OFFSET_CAPTURE);
$duration = $matches[1][0]; 
```

我将如何使用 MP3 做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:10:23.140

如果你想要一个没有 ffmpeg 的解决方案，你可以使用 getID3：

[http://getid3.sourceforge.net/](http://getid3.sourceforge.net/)

在此处找到的源示例：

[http://www.talkphp.com/general/2600-php-get-mp3-song-length.html](http://www.talkphp.com/general/2600-php-get-mp3-song-length.html)

```
require_once('/path/to/getid3.php'); 

$getID3 = new getID3; 
$filename = "/path/to/mp3"; 

$ThisFileInfo = $getID3->analyze($filename); 
getid3_lib::CopyTagsToComments($ThisFileInfo); 

echo @$ThisFileInfo['playtime_string']; 
```

# iphone - 在 iOS 上打印

> ID：14378694
> 
> 赞同：1
> 
> 时间：2013-01-17T12:04:09.887
> 
> 标签：iphone, objective-c, ios5, printing

嗨，有人可以帮我吗？我是 iOS 开发的新手。我正在尝试实现打印功能，但我遇到了错误。我只看到`.xib`带有一些`labels`. 在`textview`那里，我只想打印那个视图......当我按下打印按钮时，程序崩溃了......

这是我的代码：

```
- (NSData *)generatePDFDataForPrinting {
    NSMutableData *myPdfData = [NSMutableData data];
    UIGraphicsBeginPDFContextToData(myPdfData, kPDFPageBounds, nil);
    UIGraphicsBeginPDFPage();
    CGContextRef ctx = UIGraphicsGetCurrentContext();
    [self drawStuffInContext:ctx];  // Method also usable from drawRect:.
    UIGraphicsEndPDFContext();
    return myPdfData;
}

- (void)drawStuffInContext:(CGContextRef)ctx {
    UIFont *font = [UIFont fontWithName:@"Zapfino" size:48];
    CGRect textRect = CGRectInset(kPDFPageBounds, 36, 36);
    [@"hello world!" drawInRect:textRect withFont:font];
}

- (IBAction)printFromIphone:(id)sender {
    float systemVersion = [[[UIDevice currentDevice] systemVersion] floatValue];

    if (systemVersion>4.1) {

        NSData *myPdfData = [NSData dataWithContentsOfFile:myPdfData]; //check the value inside |myPdfData| and |pdfPath| is the path of your pdf.
        UIPrintInteractionController *controller = [UIPrintInteractionController sharedPrintController];
        if (controller && [UIPrintInteractionController canPrintData:myPdfData]){
            //controller.delegate = delegate; //if necessary else nil
            UIPrintInfo *printInfo = [UIPrintInfo printInfo];
            printInfo.outputType = UIPrintInfoOutputGeneral;
            printInfo.jobName = [myPdfData lastPathComponent];
            //printInfo.duplex = UIPrintInfoDuplexLongEdge;
            controller.printInfo = printInfo;
            controller.showsPageRange = YES;
            controller.printingItem = myPdfData;

            // We need a completion handler block for printing.
            UIPrintInteractionCompletionHandler completionHandler = ^(UIPrintInteractionController *printController, BOOL completed, NSError *error) {
                if(completed && error){
                    NSLog(@"FAILED! due to error in domain %@ with error code %u", error.domain, error.code);
                }
            };

            //            [controller presentFromRect:CGRectMake(200, 300, 100, 100) inView:senderView animated:YES completionHandler:completionHandler];
        }else {
            NSLog(@"Couldn't get shared UIPrintInteractionController!");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:36:44.623

不确定它是否是错字，但您已经注释掉了您的实际 pdfData 这就是它未声明的原因。

此行需要取消注释，因为您需要`myPdfData`.

```
//NSData *myPdfData = [NSData dataWithContentsOfFile:pdfData]; //check the value inside |myPdfData| and |pdfPath| is the path of your pdf. 
```

您可以用此行替换它以使用您的 pdf 而不是文件。

```
NSData *myPdfData = [self generatePDFDataForPrinting]; 
```

# java - windows下如何重启JVM

> ID：14378699
> 
> 赞同：19
> 
> 时间：2013-01-17T12:04:46.637
> 
> 标签：java, windows

如何在不重新启动操作系统的情况下重新启动具有 JRE的**Windows Server中的****整个 JVM ？**

 **有没有类似的东西：

> java -重启

或者这是不可能的。这个想法是我在 JRE 的文件夹中添加了tool.jar**并且**`/lib/ext`我需要重新启动 JVM。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-01-17T12:08:21.577

该`Java`过程在您想要运行它时按需运行。它不是守护进程。`Java`如果进程没有正常结束，您需要手动停止（杀死它）。**

# node.js - 如何使用带有多个服务器进程的 socket.io 向单个客户端发送消息？

> ID：14378700
> 
> 赞同：1
> 
> 时间：2013-01-17T12:04:51.263
> 
> 标签：node.js, socket.io

我即将从 socket.io 开始，这更像是一个理论问题，假设我想使用 socket.io 向特定用户发送消息，通常我必须使用相关的用户 ID 存储 socketid 和发送时，获取socketid并发送到。

但是如果我有多个服务器进程正在运行呢？我必须确保客户端实际连接到的正确服务器进行发送。是否可以 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:06:33.163

对于多个服务器实例，您需要有一个用于身份验证的缓存服务（memcache、redis）和一个所有节点实例都绑定到的中央消息队列服务（stormMQ、rabbitMQ、AQ、基于 java 的 mq）。因此，一个 Node 实例为每个客户端/通道/任何东西绑定到消息队列，并且所有其他绑定的 Node 实例接收消息并将它们转发给客户端。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T14:55:23.783

问题通常是关于如何使用 WebSocket 集群：

*   几个前端服务器将负责处理与每个客户端的双向连接。它们形成了 WebSocket 集群。
*   几个后端服务器将负责处理您的应用程序的业务逻辑。

每次后端想要通知客户端时，它都会向负责与客户端通信的 WebSocket 集群发送一个请求。一种可能的情况：

*   使用唯一的 id 标识每个 WebSocket 集群的服务器。
*   使用唯一 ID 识别每个客户端。
*   每次客户端将连接您的 WebSocket 集群的服务器之一时，将其唯一 ID 与服务器的唯一 ID 一起存储在分布式键/值（如数据库）中。
*   因此，您知道哪个客户端与哪个服务器连接。
*   下次您的后端应用程序想要通知客户端时，有两种可能性：
    1.  数据库中不存在 (clientId, serverId) 对，您无法通知客户端。
    2.  这对 (clientId, serverId) 存在于数据库中，那么您必须请求由 serverId 标识的服务器通知由 clientId 标识的客户端。

笔记：

*   每个 WebSocket 集群的服务器都可以运行一个带有 socket.io 的 node.js 实例。它必须提供一个将 clientId 作为参数并使用 socket.io 通知该客户端的路由。实际上，socket.io 知道哪个客户端正在使用该服务器上的哪个套接字。
*   每次您的服务器崩溃时，您都必须清理数据库并删除所有包含服务器 ID 的对。
*   部署 WebSocket 集群可能很乏味，因此您可以使用[Kaazing](http://kaazing.com/products/kaazing-websocket-gateway)等商业服务。
*   [Riak](http://basho.com/products/riak-overview/)是一个很好的分布式键/值数据库。对于上述目的，它比 Redis 或 Memcached 更好，因为它可以很容易地分布在一个数据中心和多个数据中心。

# wpf - 如何覆盖 WPF 中 BackgroundProperty 的默认值？

> ID：14378701
> 
> 赞同：0
> 
> 时间：2013-01-17T12:04:54.203
> 
> 标签：wpf

我正在构建一个自定义 WPF 控件。在此控件中，我想覆盖 BackgroundProperty 的默认值，以便控件的所有实例都具有灰色背景。为此，我在控件中有一个静态构造函数，内容如下：

```
static CustomControl() {
    CustomControl.BackgroundProperty.OverrideMetadata(
        typeof(CustomControl), 
        new FrameworkPropertyMetadata(Brushes.Gray)
    );
} 
```

但是，在测试控件时，背景仍然设置为透明，即使我没有在 XAML 中指定 Background 属性的任何值：

```
 <c:CustomControl /> 
```

有谁知道我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:10:48.587

您的属性覆盖是正确的方法。但是，您的控件模板需要实际使用该`Background`属性。您尚未向我们展示您的模板，但它需要包含以下内容：

```
<Border Background="{TemplateBinding Background}" ... 
```

编辑：我认为您的问题正在造成混乱，因为您说的是自定义控件，而实际上您可能指的是自定义*用户*控件。请说清楚。

# javascript - 将对象数据传递给 jQuery.post 后继函数

> ID：14378704
> 
> 赞同：1
> 
> 时间：2013-01-17T12:05:22.103
> 
> 标签：javascript, jquery

我希望 this.item 类的实例由通过 jQuery.post 后继函数接收的数据填充。我可以使用另一个用户定义的函数来设置 this.item 与接收到的数据来做到这一点。

问题：有没有办法在 jQuer.post() 的后继函数中设置 this.item 而不使用任何其他用户定义的函数？

以下是代码片段

内部类原型函数：-

```
 this.item = new Array();

   jQuery.post("index.php?p=getdataitem", fileobj,function(item_str_data)
              {
        ...
        this.item = ....;   
                ...
              }
   ); 
```

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:08:40.870

你可以做

```
 this.item = new Array();
var instance = this;

   jQuery.post("index.php?p=getdataitem", fileobj,function(item_str_data)
              {
        ...
        instance.item = ....;   
                ...
              }
   ); 
```

或者

```
 this.item = new Array();

   jQuery.ajax(
         {url: "index.php?p=getdataitem", 
          context: this,
          success: function(item_str_data)
              {
                ...
                this.item = ....;   
                ...
              }
         }
   ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:07:43.103

试试这个：

```
 var that = this;
  var that.item = [];

  function() {

      jQuery.post("index.php?p=getdataitem", fileobj,function(item_str_data) {
        ...
        that.item = ....;   
        ...
      });

   }(); 
```

由于闭包，`this`我们复制的引用 ( `that`) 应该对 post 的内部函数可用。

# android - 更改片段视图

> ID：14378705
> 
> 赞同：0
> 
> 时间：2013-01-17T12:05:29.373
> 
> 标签：android, android-fragments, android-fragmentactivity

我有一个带有片段的应用程序。它工作正常。

其中一个片段有一个按钮，按下时我想更改视图。

```
public class BikeRecap extends Fragment {

public static Activity activity;
public static Context context;

/** Called when the activity is first created. */

public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {

    activity = getActivity();
    context = activity.getApplicationContext();

    View view = inflater.inflate(R.layout.bike_recap, container, false);        

    ImageButton details = (ImageButton) item.findViewById(R.id.details);

    details.setOnClickListener(new OnClickListener() {
          @Override
          public void onClick(View v) {
              OpenNewView();
          }
    });

    return view;
} 
```

OpenNewView() 应该改变视图，所以，用户在同一个选项卡中，但内容不同

是否可以？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:26:31.960

片段中不能有片段。

试试这个代码：

```
FragmentManager fragmentManager2 = getFragmentManager();
FragmentTransaction fragmentTransaction2 = fragmentManager2.beginTransaction();
DetailFragment fragment2 = new DetailFragment();
fragmentTransaction2.addToBackStack("abc");
fragmentTransaction2.hide(BikeRecap.this);
fragmentTransaction2.add(android.R.id.content, fragment2);
fragmentTransaction2.commit(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T18:52:03.840

我认为你可以很容易地做你想做的事。如果 OpenNewView 是由 Activity 实现的，而不是由 Fragment 实现的：

getActivity().openNewView(...)

... 然后 Activity 可以使用标准事务机制轻松地将当前片段替换为新片段。

G.布莱克·梅克·马拉卡纳

Programming Android 2ed 现在在商店： [http ://bit.ly/programmingandroid](http://bit.ly/programmingandroid)

# c# - 调试时出现 ThreadAbortException

> ID：14378707
> 
> 赞同：1
> 
> 时间：2013-01-17T12:05:29.757
> 
> 标签：c#, .net, multithreading, visual-studio

我正在使用这种方式来执行可访问局部变量的异步 void 方法：

```
static void RunAsync(object var1, object var2)
{
    ThreadStart work = delegate
    {
        try
        {
            Statement1(var1);
            Statement2(var2);
            // etc
        }
        catch (Exception e) { }
    };
    new Thread(work).Start();
} 
```

在 Visual Studio 中通过单元测试进行调试通常会导致`ThreadAbortException`，但运行测试（和运行代码）工作正常。

这是什么原因造成的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T16:09:30.790

发生这种情况是因为当您调用 RunAsync 方法时，它会创建线程，但会返回到 TestMethod，在该方法中测试在线程完成之前完成。当测试完成时，它会尝试中止所有线程，以便您获得该异常。您必须使用 Join 等到线程完成。

建议：

```
Thread t;
static void RunAsync(object var1, object var2)
{
    ThreadStart work = delegate
    {
        try
        {
            Statement1(var1);
            Statement2(var2);
            // etc
        }
        catch (Exception e) { }
    };
    t=new Thread(work);
    t.Start();
}
[TestMethod]
public void TestMethod()
{
   RunAsync();

   DoOtherStuff();
   if(t!=null)
      t.Join();

} 
```

# arrays - MATLAB：将字符串写入 Excel

> ID：14378708
> 
> 赞同：5
> 
> 时间：2013-01-17T12:05:35.717
> 
> 标签：arrays, string, matlab

我正在尝试将一组系数写入 1 列 (A1) 下的 Excel 文件中。这是我的片段：

```
 filename = 'cheby2coefs.xlsx';

for Order = 1:1 
    fprintf('This is');
    disp(Order);

    [b,a] = cheby2(Order, 20, 300/500);
    disp([b,a]);
    %xlswrite(filename,{'Order ',Order},'A1'); %string
    xlswrite(filename,'b','A1');  %string
    xlswrite(filename,b');
    xlswrite(filename,'a');       %string
    xlswrite(filename,a');
end 
```

我的目标是这样的输出： ![在此处输入图像描述](../Images/bfadd9ba1eb14c2b2f69ef9115ad4365.png)

但是，我的代码只是不断创建其他工作表。实现这一点的正确方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:14:26.683

问题出在以下`xlswrite`几行：

从[`xlswrite`](http://www.mathworks.com/help/matlab/ref/xlswrite.html)文档：

> `xlswrite(filename,A,sheet)`写入指定的工作表。

这意味着您正在将字符串 'b' 写入工作表 'A1'`xlswrite(filename,'b','A1');`

> `xlswrite(filename,A)`将数组 A 写入 Excel 文件 filename 中的第一个工作表，从单元格 A1 开始。

你实际上不需要做任何事情就可以从 A1 开始写作。假设 b 是一个行向量：

```
xlswrite(filename,b'); 
```

正如你所写，应该足够了。

如果要指定工作表和列，可以使用

```
xlswrite(filename,A,sheet,xlRange) 
```

* * *

**更新：**我现在不能尝试这个，但我认为它应该可以工作。

您可以计算`a`and `b`for each`order`并将它们写入 xls 文件，如下所示：

```
r = 1; % row number
str = {'a', 'b'};
order = [1 3 5]; % The orders you want to calculate a and b with
for idx = 1:size(order, 2)
    [b,a] = cheby2(order(idx), 20, 300/500); % I do not know about second 
                                             % and third parameters, you should 
                                             % check them.
    vals = [a; b]; % assuming they are row vectors
    cellName = strcat('A', r);
    orderName = strcat('Order ', order(idx));
    xlswrite(filename, orderName, 1, cellName)
    r = r + 1;
    for jdx=1:2
        cellName = strcat('A', r);
        xlswrite(filename, str{jdx}, 1, cellName);
        r = r + 1;
        cellName = strcat('A', r);
        xlswrite(filename, vals(jdx, :), 1, cellName);
        r = r + size(vals, 2);
    end
end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T12:14:34.273

`xlswrite`因为您没有指定工作表编号，所以每次调用都会不断创建新工作表。

相反，试试这个：

```
%// Write b under column A1 in the 1st worksheet
xlswrite(filename, 'b', 1, 'A1')
xlswrite(filename, b(:), 1, 'A2') 
```

通过首先使用语法`b`将其转换为列向量来确保将其写入列是一种很好的做法。`b(:)`

此外，如果要在 column 下写入下一组系数`B1`，可以执行以下操作：

```
%// Write a under column B1 in the 1st worksheet
xlswrite(filename, 'a', 1, 'B1')
xlswrite(filename, a(:), 1, 'B2') 
```

请注意，传递的图纸编号仍然存在`1`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:46:04.733

你试过`xlswrite1`吗？[你可以从这里](http://www.mathworks.in/matlabcentral/fileexchange/10465-xlswrite1)下载模块

这是完整的模块：

```
filename = 'cheby2coefs.xlsx';
Excel = actxserver('Excel.Application');
Workbook = invoke(Excel.Workbooks, 'open', filename);
set(Excel,'Visible',1);

temp_text= [{'Text'}];
Location = ['A1:A1'];
sheetname = 'Sheet1';
%%

[status, message] = xlswrite1(ExcelFilename, temp_text, sheetname, Location);
if status == 0,
    errordlg(message.message);
end

invoke(Workbook,'Save');
invoke(Excel,'Quit');
delete(Excel); 
```

希望能帮助到你。

# c# - 为什么我的应用程序暂停时无法删除文件？

> ID：14378709
> 
> 赞同：0
> 
> 时间：2013-01-17T12:05:35.777
> 
> 标签：c#, .net, xaml, windows-8, microsoft-metro

我已经隔离了以下代码，它在 OnNavigatedTo 事件中工作，所以我知道代码可以工作。但是，我不能在那里使用它。我需要在 Suspending 事件中使用它。但它不会在那里工作。当我设置断点时，它们不会在这个事件中的任何地方被击中。也没有编译时或运行时错误。

到底是怎么回事？

```
async void App_Suspending(
        Object sender,
        Windows.ApplicationModel.SuspendingEventArgs e)
        {
            IReadOnlyList<StorageFile> thefiles;

            var localFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
            Windows.Globalization.DateTimeFormatting.DateTimeFormatter formatter = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("longtime");
            thefiles = await localFolder.GetFilesAsync();

            foreach (var f in thefiles)
            {
                await f.DeleteAsync(StorageDeleteOption.Default);
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:09:36.727

我的猜测是，当您在此方法中等待时，应用程序会退出 Suspending 方法，并以这种方式授予操作系统终止进程的权限。您可以通过在第一个等待（在 foreach 上）之后放置一个断点并检查它是否到达来测试它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T13:28:47.037

我找到了我的解决方案。它涉及检查应用程序是否被用户关闭。如果是这样，（在我的情况下，无论如何）删除这些临时文件是可以的。您可以在 OnLaunched 方法内的 App.xaml.cs 文件中执行此操作：

```
if (args.PreviousExecutionState == ApplicationExecutionState.ClosedByUser)
            {

                IReadOnlyList<StorageFile> thefiles;

                var localFolder = Windows.Storage.ApplicationData.Current.LocalFolder;
                Windows.Globalization.DateTimeFormatting.DateTimeFormatter formatter = new Windows.Globalization.DateTimeFormatting.DateTimeFormatter("longtime");
                thefiles = await localFolder.GetFilesAsync();

                foreach (var f in thefiles)
                {
                    await f.DeleteAsync(StorageDeleteOption.Default);
                }
            } 
```

# c - GCC 类型扩展

> ID：14378714
> 
> 赞同：4
> 
> 时间：2013-01-17T12:06:11.940
> 
> 标签：c, gcc, typeof, gcc-extensions

我不明白为什么会这样：

```
/* gcc range extension */
__extension__ static int fn(int n)
{
    switch (n) {
        case 0: return 0;
        case 1 ... 1000: return 1;
        default: return -1;
    }
} 
```

但这不会：

```
/* gcc typeof extension */
__extension__ static void fn(int n)
{
    typeof(n) a = n;

    printf("%d\n", a);
} 
```

gcc 返回：

```
demo.c:14: warning: implicit declaration of function ‘typeof’
demo.c:14: warning: nested extern declaration of ‘typeof’
demo.c:14: error: expected ‘;’ before ‘a’
demo.c:16: error: ‘a’ undeclared (first use in this function)
demo.c:16: error: (Each undeclared identifier is reported only once
demo.c:16: error: for each function it appears in.) 
```

我知道我可以编译`-std=gnu99`以避免错误，但第一个使用`-std=c99`并使用扩展

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-17T12:11:05.560

非 ANSI 兼容的关键字永远不会被重新启用`__extension__`（的唯一效果`__extension__`是对 的警告抑制`-pedantic`）。`__typeof__`如果要在 ANSI 模式下编译，请使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:17:01.590

如果您正在编写包含在 ISO C 程序中时必须工作的头文件，请编写`__typeof__`而不是`typeof`.

有关更详细的描述和可能的修复，请参阅此[链接。](http://gcc.gnu.org/onlinedocs/gcc-4.1.2/gcc/Alternate-Keywords.html#Alternate-Keywords)

注意： `__extension__`除了在使用 ANSI C`-pedantic`模式时抑制警告之外没有任何作用。

所以是这样的：

```
/* gcc typeof extension */
__extension__ static void fn(int n)
{
    __typeof__(n) a = n;

    printf("%d\n", a);
} 
```

# android - Android 在 Fragment 中替换 Fragment

> ID：14378716
> 
> 赞同：16
> 
> 时间：2013-01-17T12:06:20.203
> 
> 标签：android, android-fragments, android-fragmentactivity

我有一个名为**"MeinProfilFragment"**的片段。还有一个处理 ActionBar-Tabs 逻辑的 MainActivity。

在**“MeinProfilFragment”中，我放置了“Login-Process”的逻辑**。

**用户成功登录后，我想显示另一个布局。**

怎么做 ？可以***在 Fragment 中替换 Fragment***吗？还是我必须为 UI-Updates 调用 MainActivity ？

这是**“MainActivity”**的代码：

```
public class MainActivity extends Activity {

public static int selectedTab;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    ActionBar actionBar = getActionBar();

    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);    
    actionBar.setDisplayShowHomeEnabled(false);
    actionBar.setDisplayShowTitleEnabled(false);
    actionBar.setDisplayShowCustomEnabled(false);

    Tab meinProfil = actionBar.newTab().setText("Mein Profil");
    TabListener<MeinProfilFragment> tabListenerMeinProfil = new TabListener<MeinProfilFragment>(this,"Mein Profil",MeinProfilFragment.class);
    meinProfil.setTabListener(tabListenerMeinProfil);
    actionBar.addTab(meinProfil);

    Tab mitglieder = actionBar.newTab().setText("Mitglieder");
    TabListener<MitgliederFragment> tabListenerMitglieder = new TabListener<MitgliederFragment>(this,"Mitglieder",MitgliederFragment.class);
    mitglieder.setTabListener(tabListenerMitglieder);
    actionBar.addTab(mitglieder);

    Tab dinner = actionBar.newTab().setText("Dinner");
    TabListener<DinnerFragment> tabListenerDinner = new TabListener<DinnerFragment>(this,"Dinner",DinnerFragment.class);
    dinner.setTabListener(tabListenerDinner);
    actionBar.addTab(dinner);

    Tab community = actionBar.newTab().setText("Community");
    TabListener<CommunityFragment> tabListenerCommunity = new TabListener<CommunityFragment>(this,"Community",CommunityFragment.class);
    community.setTabListener(tabListenerCommunity);
    actionBar.addTab(community);

    if(savedInstanceState != null){
        actionBar.setSelectedNavigationItem(savedInstanceState.getInt("selectedTab"));
    }
}

private static class TabListener<T extends Fragment> implements ActionBar.TabListener
{
    private Fragment mFragment;
    private final Activity mActivity;
    private final String mTag;
    private final Class<T> mClass;

    public TabListener(Activity activity,String tag,Class<T> clz) {
         mActivity = activity;
         mTag = tag;
         mClass = clz; 
    }
    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        selectedTab = tab.getPosition();
        Fragment prevFragment;
        FragmentManager fm = mActivity.getFragmentManager();
        prevFragment = fm.findFragmentByTag(mTag); 
        if (prevFragment != null) { 
            mFragment = prevFragment; 
        }
        if(mFragment == null){
            mFragment = Fragment.instantiate(mActivity, mClass.getName());
            ft.add(android.R.id.content, mFragment,mTag);
        }else{
            ft.attach(mFragment);
        }   
     }
    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        selectedTab = tab.getPosition();
        if(mFragment != null){
             ft.detach(mFragment);
        }else{
            mFragment = Fragment.instantiate(mActivity, mClass.getName());
            ft.add(android.R.id.content, mFragment,mTag);
        }
    }
    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {
        selectedTab = tab.getPosition();
    }   
}
@Override
protected void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    outState.putInt("selectedTab", selectedTab);
} 
```

**这是 MeinProfilFragment：**

```
public class MeinProfilFragment extends Fragment implements OnClickListener{

EditText LoginEmail;
EditText LoginPassw;
Button LoginButton;
public boolean loggedIn = false;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {
    View view =  inflater.inflate(R.layout.mein_profil_fragment,container, false);
    LoginEmail = (EditText) view.findViewById(R.id.login_email_input);
    LoginPassw = (EditText) view.findViewById(R.id.login_passwort_input);
    LoginButton  = (Button) view.findViewById(R.id.login_submit);
    LoginButton.setOnClickListener(this);
    return view;
}

@Override
public void onClick(View arg0) {
    switch(arg0.getId())
    {
        case R.id.login_submit:
            // Get Input Values:
            String login_email = LoginEmail.getText().toString();
            String login_passw = LoginPassw.getText().toString();
            if(login_email.length()<6 || login_passw.length()<4){
                return;
            }   
            Log.i("TEST","onClick: E-Mail: "+login_email+" \n Passwort: "+login_passw);
            new Login().execute(login_email,login_passw);
        break;
    }
}

private class Login extends AsyncTask<String,Void,JSONObject>
{
    @Override
    protected JSONObject doInBackground(String... params) {
        HttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost("xxxx");
        try{
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
            nameValuePairs.add(new BasicNameValuePair("mitglied_email",params[0]));
            nameValuePairs.add(new BasicNameValuePair("mitglied_passwort",params[1]));
            httpPost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            HttpResponse response = httpClient.execute(httpPost);
            HttpEntity entity = response.getEntity();
            InputStream is = entity.getContent();
            BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
            String line = reader.readLine();
            JSONObject jsonData = new JSONObject(line);
            return jsonData;
        }catch(Exception e){
            e.printStackTrace();
        }
        return null;
    }

    @Override
    protected void onPostExecute(JSONObject result) {
        super.onPostExecute(result);
        updateUi(result);
    }   
}

public void updateUi(JSONObject result)
{
    try {
        Log.i("TEST",result.getString("logged_in"));
        String loggedInFlag = result.getString("logged_in");
        if(loggedInFlag.equals("true")){
            // Richtige Angaben:
            Log.i("TEST","loggedInFlag EQ TRUE");
            loggedIn = true;

            // Here i want to replace this current fragment with another called e.g "ProfileFragment"

        }else{
            // Falsche Angaben:
            Log.i("TEST","loggedInFlag EQ FALSE");
            loggedIn = false;
        }

    } catch (JSONException e) {
        e.printStackTrace();
    }
} 
```

在**updateUi()**方法中，我想显示/膨胀另一个 UI。

怎么做 ？有没有办法**“重新启动”片段**，然后在 onCreateView() 中膨胀另一个片段布局。

或者可以**将 Fragment-Layout 替换为 Fragment 中的另一个 Fragment-Layout ？**

最佳做法是什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-17T12:11:10.230

您可以使用此替换片段

```
FragmentManager fragmentManager2 = getFragmentManager();
FragmentTransaction fragmentTransaction2 = fragmentManager2.beginTransaction();
DetailFragment fragment2 = new DetailFragment();
fragmentTransaction2.addToBackStack("xyz");
fragmentTransaction2.hide(MeinProfilFragment.this);
fragmentTransaction2.add(android.R.id.content, fragment2);
fragmentTransaction2.commit(); 
```

# c++ - 我的析构函数被调用每个滴答声

> ID：14378717
> 
> 赞同：0
> 
> 时间：2013-01-17T12:06:26.677
> 
> 标签：c++, sdl, destructor

虚惊！（阅读编辑）

我正在尝试使用 SDL 制作一个小游戏。创建实体时，它的图像应该增加引用计数，这没问题。问题出现在使用“SDL_FreeSurface(image)”（减少它）的时候，这应该发生在实体本身内，所以我试图创建自己的析构函数，作为测试它是否被调用我添加了一个 cout，但由于某种原因它被称为每个刻度？它没有删除任何东西，所以我想当我让它工作时我还必须处理所有实体值（以为我只需要处理特殊情况，比如这个）。

```
Entity::~Entity()
{
    cout << "I'm deleted" << endl;
    //SDL_FreeSurface(image);
} 
```

如果应该一直调用析构函数（？）为什么会这样？

编辑我刚刚意识到，在每个滴答声中，我都使用了一些临时实体，可能是那些被解构的实体，抱歉，请随意锁定它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:11:25.907

每次销毁类 Entity 的对象时，都会调用您的析构函数，然后才会调用。

如果您的析构函数在每个滴答声中被调用，这意味着一个对象在每个滴答声中都被销毁。很可能您在每次滴答时都创建了一个临时 Entity 对象，它会立即被销毁（例如，您可能正在按值传递一个 Entity 对象）。

# ruby-on-rails - RAILS - Facebook 登录，没有使用 rails 的 Facebook 确认页面

> ID：14378718
> 
> 赞同：-1
> 
> 时间：2013-01-17T12:06:28.837
> 
> 标签：ruby-on-rails, facebook

我来这里是为了发现我想做的事情是否可行。我可以在不通过 facebook 确认页面的情况下使用 rails 方法连接到 facebook 吗？

我想实现一个应该有 facebook acc/pass 的应用程序，我需要在时间线中发送评论，但我不想允许 facebook 页面。我想做一些自动的事情。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:15:49.100

不，rails 中的 facebook api 的构建方式是您无法使用 facebook 直接登录您的网站。这仅限于 Facebook 授权问题及其条款和条件。

如果用户想要允许访问，他必须先登录到他的帐户（仍然在 facebook 页面上），然后才能重定向回您的应用程序。在后台 Facebook 将返回一个访问令牌，您的应用程序将使用该令牌来访问用户数据。

检查[此](http://developers.facebook.com/docs/concepts/login/permissions-login-dialog/)以获取更多详细信息。

# windows-8 - 使用 Proximity API 与许多 Windows/Windows Phone 8 设备同时通信

> ID：14378721
> 
> 赞同：6
> 
> 时间：2013-01-17T12:06:32.337
> 
> 标签：windows-8, windows-phone-8, nfc, proximity

是否可以使用 Windows 8/Windows Phone 8 Proximity API 制作一个在一个 Windows 8（例如服务器）设备和“n”（>1）个 Windows Phone 8 设备之间提供通信的应用程序？

**[编辑]** 我的意思是同时使用 NFC 建立连接并使用 Wi-Fi 或蓝牙进行数据交换。

根据这篇文章： http: [//msdn.microsoft.com/en-us/library/windows/apps/br241210.aspx，Windows](http://msdn.microsoft.com/en-us/library/windows/apps/br241210.aspx) Phone 8 不支持 Wi-Fi Direct。它的真正含义是什么？在 2 个 Windows Phone 8 设备之间？

我认为它可以根据 MSDN 库工作：http: [//msdn.microsoft.com/en-us/library/windows/apps/jj207060.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/jj207060.aspx)

*此方案适用于 Windows Phone 8 和 Windows 8 设备。当点击成功时，您会返回一个可以与其他设备通信的套接字。在 Windows Phone 8 上，此套接字建立在 TCP/IP (Wi-Fi) 连接或蓝牙连接上。*

有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-27T18:32:18.927

我已经对几种设备进行了一些测试，我可以说的是以下内容。

一个 W8 设备和一个 WP8 设备只能在两个设备都支持 NFC 的情况下进行通信。

实际上，W8 和 WP8 之间不支持 Peer Browsing（根据我的测试）。但是一旦 NFC 连接建立，W8 和 WP8 可以使用蓝牙保持连接，因此可以释放 NFC 连接器（NFC 不支持多个同时连接）。

**您可以在 W8 设备和其他设备（W8、WP8）之间保持多个实时连接。**

我要做的是：

*   1 W8 (NFC) 平板电脑托管连接。
*   1 台 W8 PC（无 NFC），使用 Peer Browsing（直接 Wifi）连接到 W8 平板电脑。
*   2 WP8 使用 NFC 和蓝牙连接到 W8 平板电脑。

托管设备可以为每个连接的设备保留一个套接字。您只需要管理所有套接字来接收和发送数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T18:15:23.997

是的，您可以使用邻近框架在 Windows Phone 8 和 Windows 8 之间进行通信。

在 WP8 上，您需要将以下 AlternateIdentity 设置为您的 Win8 应用全名：

```
PeerFinder.AlternateIdentities.Add("Windows", "<your Win8 app package family name>!<your app WP8 app ID");
// e.g. 
PeerFinder.AlternateIdentities.Add("Windows", "NORADPublicAffairs.NORADTracksSanta_1.0.0.26_x64__bzcj0d5cg39gj"); 
```

在 Win8 上，您需要将以下 AlternateIDentity 设置为您的 WP8 应用 GUID：

```
PeerFinder.AlternateIdentities["WindowsPhone"] = "{<your app GUID>}"
// e.g. 
PeerFinder.AlternateIdentities["WindowsPhone"] = "{5b7ba36b-04fc-df11-9264-00237de2db9e}" 
```

然后，您可以在 WP8 和 Win8 上使用邻近框架相互通信。NFC 可用于启动 WP8<->Win8 之间的套接字，然后应使用蓝牙或 TCP/IP 作为通信层。

# java - 使用位的方法。位缓冲区。安卓

> ID：14378724
> 
> 赞同：1
> 
> 时间：2013-01-17T12:06:42.580
> 
> 标签：java, android, bit-manipulation, nio

我使用字节缓冲区。我需要一个缓冲区，移动一些位。

现在我执行这个转换，从缓冲区中提取 int 并应用移位和掩码。有没有更通用的方法来处理这些位？位缓冲？番石榴不包含意外的必要方法？需要安卓支持。

字节缓冲区包含：

```
[41 8A 25 E7 B8 9C 0C 1E ...] 
```

需要：

```
[5E 7B 89 C0 C1 ...] 
```

# java - 当与缓存行的前 4 个字节对齐时，为什么 x86 上的内存访问会变慢？

> ID：14378729
> 
> 赞同：3
> 
> 时间：2013-01-17T12:06:58.703
> 
> 标签：java, performance, memory, x86

在写一篇关于[未对齐/对齐的直接内存访问](http://psy-lob-saw.blogspot.co.uk/2013/01/direct-memory-alignment-in-java.html)的博客文章时，我遇到了一个我很难解释的结果：如果我的内存访问与前 4 个字节对齐，我发现当数据结构适合 L1 时，性能会出现明显的差异缓存。在某些情况下，其他位置的速度要快 20%。

这篇文章详细介绍了实验和方法，但这里是总结：

1.  分配一块适合 L1 的内存（在我的笔记本电脑上为 32k，使用 hwloc/检查您的 cpu 的规格以找出答案）。将块与缓存线大小对齐（通常为 64b，检查您的硬件）。分配是预先完成的，而不是衡量的。
2.  遍历内存块并将 long（某个值）写入给定偏移量的每个高速缓存行（如果偏移量不是 8 的倍数，则有效地导致未对齐的写入）。
3.  遍历内存块并从相同的偏移量读取并验证该值是否符合预期。

为什么偏移量为0-3时性能会有任何差异？

测量代码的本质（根据评论中的要求）：

```
for (address = startingAddress; address < limit; address += CACHE_LINE_SIZE) {
    Unsafe.putLong(address, value);
}
for (address = startingAddress; address < limit; address += CACHE_LINE_SIZE) {
   if (Unsafe.getLong(address) != value)
       throw new RuntimeException();
} 
```

其中起始地址是缓存对齐+偏移量。完整的实验在[这里](https://github.com/nitsanw/psy-lob-saw/blob/master/experiments/alignment/UnalignedMemoryAccessCostBenchmark.java)可用：

# macports - 使用 macports 安装 libstdcxx 时出错

> ID：14378732
> 
> 赞同：0
> 
> 时间：2013-01-17T12:07:08.260
> 
> 标签：macports, libstdc++

我正在尝试使用 macports 安装 libstdcxx，但我一直遇到错误，但我不确定是什么原因造成的。

我正在运行 Mac OS X Server 10.4.11 的机器上工作。我不确定安装了哪个版本的 Xcode，但我计算出组件版本是 DevToolsCore-798.0 和 DevToolsSupport-794.0。我还在使用在 virtualenv 中运行的 macports（配置了 的 macports `prefix=/cluster/plaw/regenv/`）。我之前在 virtualenv 中使用过 macports 没有问题。

我在[这里](https://trac.macports.org/ticket/36026)发现，由于 ld64 的问题，libstdcxx 有时会出现问题。我遵循了大多数建议的解决方案（重新安装 ld64、使用 ld64+llvm31、以不同的顺序安装等），但无济于事。[我在这里](https://trac.macports.org/ticket/36226)也发现了类似的问题，但是票没有解决。

所以，我想知道这是否只是旧操作系统的问题，我对此无能为力（系统管理员不愿意更新）。以下是安装日志的一部分，如果有人可以发现可能导致问题的原因。

这些是我安装的端口（如果有区别的话）

```
apple-gcc42 @5666.3_10+bootstrap (active)
autoconf @2.69_0 (active)
automake @1.13.1_0 (active)
bzip2 @1.0.6_0 (active)
cctools @806_2 (active)
cctools-headers @836_0 (active)
cloog @0.17.0_1 (active)
db46 @4.6.21_7 (active)
dyld-headers @210.2.3_0 (active)
expat @2.1.0_0 (active)
gcc_select @0.1_7 (active)
gdbm @1.10_2 (active)
gettext @0.18.2_0 (active)
glpk @4.47_0 (active)
gmake @3.82_0 (active)
gmp @5.0.5_0 (active)
gperf @3.0.4_2 (active)
help2man @1.40.13_0 (active)
isl @0.10_1 (active)
ld64 @97.17_2+llvm31 (active)
libedit @20121213-3.0_0 (active)
libffi @3.0.11_1 (active)
libiconv @1.14_0 (active)
libmpc @1.0.1_0 (active)
libtool @2.4.2_3 (active)
libunwind-headers @35.1_0 (active)
llvm-3.1 @3.1_6 (active)
llvm_select @0.2_0 (active)
m4 @1.4.16_0 (active)
mpfr @3.1.1-p2_0 (active)
ncurses @5.9_1 (active)
openssl @1.0.1c_0 (active)
p5.12-locale-gettext @1.50.0_7 (active)
perl5 @5.12.4_0+perl5_12 (active)
perl5.12 @5.12.4_1 (active)
ppl @1.0_0 (active)
python27 @2.7.3_1 (active)
python_select @0.3_2 (active)
sqlite3 @3.7.15.2_0 (active)
xz @5.0.4_0 (active)
zlib @1.2.7_0 (active) 
```

安装日志的输出：

```
:info:build /usr/bin/gcc-4.0 -arch i386   -g -fkeep-inline-functions -DIN_GCC   -W -Wall -Wwrite-strings -Wcast-qual -Wstrict-prototypes -Wmissing-prototypes -Wmissing-format-attribute -Wold-style-definition -fno-common  -DHAVE_CONFIG_H -L/cluster/plaw/regenv/lib -o cc1plus \
:info:build       cp/cp-lang.o c-family/stub-objc.o cp/call.o cp/decl.o cp/expr.o cp/pt.o cp/typeck2.o cp/class.o cp/decl2.o cp/error.o cp/lex.o cp/parser.o cp/ptree.o cp/rtti.o cp/typeck.o cp/cvt.o cp/except.o cp/friend.o cp/init.o cp/method.o cp/search.o cp/semantics.o cp/tree.o cp/repo.o cp/dump.o cp/optimize.o cp/mangle.o cp/cp-objcp-common.o cp/name-lookup.o cp/cxx-pretty-print.o cp/cp-gimplify.o tree-mudflap.o attribs.o incpath.o c-family/c-common.o c-family/c-cppbuiltin.o c-family/c-dump.o c-family/c-format.o c-family/c-gimplify.o c-family/c-lex.o c-family/c-omp.o c-family/c-opts.o c-family/c-pch.o c-family/c-ppoutput.o c-family/c-pragma.o c-family/c-pretty-print.o c-family/c-semantics.o c-family/c-ada-spec.o i386-c.o darwin-c.o cc1plus-checksum.o main.o tree-browser.o libbackend.a libcommon-target.a libcommon.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a libcommon.a ../libcpp/libcpp.a  -liconv ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a  -L/cluster/plaw/regenv/lib -lcloog-isl -lisl -L/cluster/plaw/regenv/lib -lppl_c -lppl  -lgmpxx -L/cluster/plaw/regenv/lib -L/cluster/plaw/regenv/lib -L/cluster/plaw/regenv/lib -lmpc -lmpfr -lgmp   -lz
:info:build /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning suggest use of -bind_at_load, as lazy binding may result in errors or different symbols being used
:info:build /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
:info:build typeinfo for std::logic_error
:info:build typeinfo for std::runtime_error
:info:build typeinfo for std::basic_streambuf<char, std::char_traits<char> >
:info:build typeinfo for std::bad_alloc
:info:build typeinfo for std::exception
:info:build typeinfo for int
:info:build VTT for std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_istream<char, std::char_traits<char> >
:info:build vtable for std::basic_ostream<char, std::char_traits<char> >
:info:build vtable for std::basic_streambuf<char, std::char_traits<char> >
:info:build vtable for std::basic_stringbuf<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_ios<char, std::char_traits<char> >
:info:build operator delete(void*)
:info:build operator new(unsigned long)
:info:build operator delete[](void*)
:info:build operator new[](unsigned long)
:info:build symbol ___gmpz_neg used from dynamic library /cluster/plaw/regenv/lib/libgmp.dylib(single module) not from earlier dynamic library /cluster/plaw/regenv/lib/libppl_c.4.dylib(single module)
:info:build collect2: ld returned 1 exit status
:info:build make[3]: *** [lto1] Error 1
:info:build make[3]: *** Waiting for unfinished jobs....
:info:build /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning suggest use of -bind_at_load, as lazy binding may result in errors or different symbols being used
:info:build /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
:info:build typeinfo for std::logic_error
:info:build typeinfo for std::runtime_error
:info:build typeinfo for std::basic_streambuf<char, std::char_traits<char> >
:info:build typeinfo for std::bad_alloc
:info:build typeinfo for std::exception
:info:build typeinfo for int
:info:build VTT for std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_istream<char, std::char_traits<char> >
:info:build vtable for std::basic_ostream<char, std::char_traits<char> >
:info:build vtable for std::basic_streambuf<char, std::char_traits<char> >
:info:build vtable for std::basic_stringbuf<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_ios<char, std::char_traits<char> >
:info:build operator delete(void*)
:info:build operator new(unsigned long)
:info:build operator delete[](void*)
:info:build operator new[](unsigned long)
:info:build symbol ___gmpz_neg used from dynamic library /cluster/plaw/regenv/lib/libgmp.dylib(single module) not from earlier dynamic library /cluster/plaw/regenv/lib/libppl_c.4.dylib(single module)
:info:build collect2: ld returned 1 exit status
:info:build make[3]: *** [cc1] Error 1
:info:build /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: warning suggest use of -bind_at_load, as lazy binding may result in errors or different symbols being used
:info:build /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
:info:build typeinfo for std::logic_error
:info:build typeinfo for std::runtime_error
:info:build typeinfo for std::basic_streambuf<char, std::char_traits<char> >
:info:build typeinfo for std::bad_alloc
:info:build typeinfo for std::exception
:info:build typeinfo for int
:info:build VTT for std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_istream<char, std::char_traits<char> >
:info:build vtable for std::basic_ostream<char, std::char_traits<char> >
:info:build vtable for std::basic_streambuf<char, std::char_traits<char> >
:info:build vtable for std::basic_stringbuf<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >
:info:build vtable for std::basic_ios<char, std::char_traits<char> >
:info:build operator delete(void*)
:info:build operator new(unsigned long)
:info:build operator delete[](void*)
:info:build operator new[](unsigned long)
:info:build symbol ___gmpz_neg used from dynamic library /cluster/plaw/regenv/lib/libgmp.dylib(single module) not from earlier dynamic library /cluster/plaw/regenv/lib/libppl_c.4.dylib(single module)
:info:build collect2: ld returned 1 exit status
:info:build make[3]: *** [cc1plus] Error 1
:info:build make[2]: *** [all-stage1-gcc] Error 2
:info:build make[2]: Leaving directory `/Volumes/cluster/plaw/regenv/var/macports/build/_cluster_plaw_regenv_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc47/libstdcxx/work/build'
:info:build make[1]: *** [stage1-bubble] Error 2
:info:build make[1]: Leaving directory `/Volumes/cluster/plaw/regenv/var/macports/build/_cluster_plaw_regenv_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc47/libstdcxx/work/build'
:info:build make: *** [bootstrap] Error 2
:info:build make: Leaving directory `/Volumes/cluster/plaw/regenv/var/macports/build/_cluster_plaw_regenv_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc47/libstdcxx/work/build'
:info:build Command failed:  cd "/cluster/plaw/regenv/var/macports/build/_cluster_plaw_regenv_var_macports_sources_rsync.macports.org_release_tarballs_ports_lang_gcc47/libstdcxx/work/build" && /usr/bin/make -j4 -w bootstrap 
:info:build Exit code: 2
:error:build org.macports.build for port libstdcxx returned: command execution failed
:debug:build Error code: CHILDSTATUS 864 2
:debug:build Backtrace: command execution failed
    while executing
"system -nice 0 $fullcmdstring"
    ("eval" body line 1)
    invoked from within
"eval system $notty $nice \$fullcmdstring"
    invoked from within
"command_exec build"
    (procedure "portbuild::build_main" line 8)
    invoked from within
"$procedure $targetname"
:info:build Warning: targets not executed for libstdcxx: org.macports.activate org.macports.build org.macports.destroot org.macports.install 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-20T15:27:46.423

看起来和 之间的冲突`gmp`，`ppl`除非您需要石墨优化（您可能不需要）并且除非 Macports 坚持启用它们，否则您可以尝试删除`ppl`软件包并重新安装。

# jquery - jQuery突然停止工作

> ID：14378734
> 
> 赞同：2
> 
> 时间：2013-01-17T12:07:09.780
> 
> 标签：jquery, typeerror

由于某种原因，我网站上的所有 jQuery 似乎都已停止工作。有一个 jQuery 滑块和下拉菜单，它们都已停止工作。我没有更改任何代码。这是一个文字新闻网站。我的 jQuery 处于非活动状态，它似乎已被禁用。jQuery 的所有功能都已失效。但是，我在网站的标题中放置了一个简单的函数来检查 jQuery 是否正在加载并且它工作正常。所以我认为可能只是我网站中的 jQuery 有问题。但它已经运行了一年多，而且似乎它现在无缘无故地停止了工作。下面是给出错误的 superfish 下拉菜单的功能：“未捕获的类型错误：无法读取未定义 $(this).addClass(menuClasses.join('')); }); }; 的属性'msie'” 根据 chrome 控制台。

```
;(function($){
    $.fn.superfish = function(op){

        var sf = $.fn.superfish,
            c = sf.c,
            $arrow = $(['<span class="',c.arrowClass,'"> &#187;</span>'].join('')),
            over = function(){
                var $$ = $(this), menu = getMenu($$);
                clearTimeout(menu.sfTimer);
                $$.showSuperfishUl().siblings().hideSuperfishUl();
            },
            out = function(){
                var $$ = $(this), menu = getMenu($$), o = sf.op;
                clearTimeout(menu.sfTimer);
                menu.sfTimer=setTimeout(function(){
                    o.retainPath=($.inArray($$[0],o.$path)>-1);
                    $$.hideSuperfishUl();
                    if (o.$path.length && $$.parents(['li.',o.hoverClass].join('')).length<1){over.call(o.$path);}
                },o.delay); 
            },
            getMenu = function($menu){
                var menu = $menu.parents(['ul.',c.menuClass,':first'].join(''))[0];
                sf.op = sf.o[menu.serial];
                return menu;
            },
            addArrow = function($a){ $a.addClass(c.anchorClass).append($arrow.clone()); };

        return this.each(function() {
            var s = this.serial = sf.o.length;
            var o = $.extend({},sf.defaults,op);
            o.$path = $('li.'+o.pathClass,this).slice(0,o.pathLevels).each(function(){
                $(this).addClass([o.hoverClass,c.bcClass].join(' '))
                    .filter('li:has(ul)').removeClass(o.pathClass);
            });
            sf.o[s] = sf.op = o;

            $('li:has(ul)',this)[($.fn.hoverIntent && !o.disableHI) ? 'hoverIntent' : 'hover'](over,out).each(function() {
                if (o.autoArrows) addArrow( $('>a:first-child',this) );
            })
            .not('.'+c.bcClass)
                .hideSuperfishUl();

            var $a = $('a',this);
            $a.each(function(i){
                var $li = $a.eq(i).parents('li');
                $a.eq(i).focus(function(){over.call($li);}).blur(function(){out.call($li);});
            });
            o.onInit.call(this);

        }).each(function() {
            menuClasses = [c.menuClass];
            if (sf.op.dropShadows  && !($.browser.msie && $.browser.version < 7)) menuClasses.push(c.shadowClass);
Uncaught TypeError: Cannot read property 'msie' of undefined
            $(this).addClass(menuClasses.join(' '));
        });
    }; 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-17T12:10:48.630

您可能会从 CDN（例如 Google 或 jQuery 托管）加载最新版本的 jQuery。它[最近已更新](http://jquery.com/upgrade-guide/1.9/)，您似乎至少使用了 1 个已弃用的功能 - 即`$.browser`方法。

从[发行说明](http://jquery.com/upgrade-guide/1.9/)：

> jQuery.browser() 已移除
> 
> jQuery.browser() 方法自 jQuery 1.3 以来已被弃用，并在 1.9 中被删除。如果需要，它可以作为 jQuery Migrate 插件的一部分使用。我们建议将特征检测与 Modernizr 等库一起使用。

您的错误消息证实了这一点：

```
Uncaught TypeError: Cannot read property 'msie' of undefined 
```

# mysql - 在从 WAMP 安装中检索 MySQL 数据时需要帮助

> ID：14378735
> 
> 赞同：0
> 
> 时间：2013-01-17T12:07:17.013
> 
> 标签：mysql, phpmyadmin, wampserver

这是我的情况：我决定重新安装 WAMP，所以我不得不备份我的数据库，其中有 50 多个。然后我继续做了。然后我开始将数据库导入回 phpMyAdmin，但只有 17 个数据库。原来 phpMyAdmin 再也没有备份过。现在我安装了 WAMP 2.2 版和 MySQL 5.5.24 版，这是 WAMP 菜单中唯一的一个。但是，我的 wamp/bin/mysql 文件夹中仍然有旧的 MySQL 版本 5.1.36 - 包含所有数据文件等等。

**我怎么能**

从 5.1.36 获取数据（我怀疑只是复制粘贴会起作用）

- 或者 -

让 MySQL 5.1.36 回到我的 WAMP 菜单中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:25:22.967

我从 WAMPServer 主页下载了 MySQL 5.1.36 作为插件并安装了它（备份了原始版本）。这样我就在 WAMP 菜单中恢复了 5.1.36，现在我的数据又回来了，耶！

# python - 如何使用逗号分隔变量？

> ID：14378739
> 
> 赞同：3
> 
> 时间：2013-01-17T12:07:23.593
> 
> 标签：python

我有一个像这样的变量：ignore = val1,val2

但我不清楚如何将这些值用作单独的值。

目前（据我所知）我需要像下面的代码一样对它们进行硬编码：

```
if (not Path.find("val1") > -1 ) and (not Path.find("val2") > -1 ):
    etc 
```

现在我想添加测试，我需要像这样硬编码它：

```
if (not Path.find("val1") > -1 ) and (not Path.find("val2") > -1 ) and (not Path.find("test") > -1 ): 
```

难道没有更好的方法来做到这一点吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:08:39.577

如果`ignore`是值名称的元组：

```
if all(Path.find(v) <= -1 for v in ignore): 
```

这具有在第一个条件为假时立即停止的优点。就像您的硬编码示例一样。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-17T12:09:42.457

这是`tuple`Python 中的基本数据类型之一。

您可以使用索引符号访问不同的值，例如`ignore[0]`,`ignore[1]`等。

但是，如果您正在为这样的基本语言特性而苦苦挣扎，我强烈建议您在继续之前阅读 Python 教程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:17:52.277

`ignore = var1, var2`本质上分配`ignore`给一个元组，保存 和 的`var1`值`var2`。要访问它们，请分别对第一个和第二个元素使用`ignore[0]`or `ignore[1]`（在 Python 列表/元组索引中从 0 开始，而不是 1）。

除此之外，您还可以使用`collections.namedtuple`. 这允许您将元组视为具有属性的类：

```
import collections
sometuple = collections.namedtuple('sometuple', 'var1 var2') 
```

然后，您可以按名称访问元素：

```
ignore = sometuple(var1, var2)
ignore.var1  # first element
ignore.var2  # second element 
```

请参阅`namedtuples` [此处](http://docs.python.org/2/library/collections.html#collections.namedtuple)的文档。

有关一般信息`tuples`，请参阅[文档](http://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences)。

# ios - AFNetworking 使用 enqueueBatchOfHTTPRequestOperations 重试超时请求

> ID：14378745
> 
> 赞同：1
> 
> 时间：2013-01-17T12:07:33.587
> 
> 标签：ios, afnetworking, nsurlrequest

几乎没有类似的问题可以回答，但找不到在我的代码上使用该解决方案的方法。如果有人可以帮助我编写代码，我会很高兴。如何重试超时请求？

**while 用于分页目的的块：**

```
while(mult < (int)totalCount) {

     AFHTTPRequestOperation *opr = [self getRequestForAllRecordsOfClass:className updatedAfterDate:mostRecentUpdatedDate withinPage:page+1];
     [pagedOperations addObject:opr];
     mult = mult + PAGINATION_SIZE;
     page = page + 1;
}

    [[SDAFParseAPIClient sharedClient] enqueueBatchOfHTTPRequestOperations:operations progressBlock:^(NSUInteger numberOfCompletedOperations, NSUInteger totalNumberOfOperations) {
             NSLog(@"totalNumberOfOperations: %u  numberOfCompletedOperations: %u",totalNumberOfOperations,numberOfCompletedOperations);
        } completionBlock:^(NSArray *operations) {
                     ...
}]; 
```

**和构建请求操作**

```
-(AFHTTPRequestOperation *)getRequestForAllRecordsOfClass:(NSString *)className updatedAfterDate:(NSDate *)mostRecentDate withinPage:(int)page  {

    NSMutableURLRequest *request = [ZurmoHelper GETRequestForAllRecordsOfClass:className updatedAfterDate:mostRecentDate inPage:page];

    AFHTTPRequestOperation *operation = [[SDAFParseAPIClient sharedClient] HTTPRequestOperationWithRequest:request success:^(AFHTTPRequestOperation *operation, id responseObject) {

        NSLog(@"RESPONSE pagination!!! %@:", className);
        NSError *error = nil; //error in parsing json
        NSDictionary *jsonDict = [NSJSONSerialization JSONObjectWithData:responseObject options:kNilOptions error:&error];

        if (!error) {
            NSLog(@"json dict paged in : %d",page );
            id dataObject = [jsonDict objectForKey:@"data"];
            NSArray *itemsObject = [dataObject objectForKey:@"items"];
            [self addItems:itemsObject className:className];
        }

    } failure:^(AFHTTPRequestOperation *operation, NSError *error) {

        NSLog(@"Request for class %@ failed with error: %@", className, error);
        if (error.code == -1001) {
            NSLog(@"for class %@ page: %d,",className,page);
            //need to retry this operation???
        }
    }];

    return operation;

} 
```

# sql - SQL - 子查询可以与主查询有不同的条件吗？

> ID：14378748
> 
> 赞同：1
> 
> 时间：2013-01-17T12:07:41.963
> 
> 标签：sql

我想在结果集中返回一个计数值。此计数值使用与主查询不同的条件。是否可以使用子查询来实现这一点，即在单个查询中？

```
SELECT ID, DESC, 
(SELECT COUNT(*) FROM TABLE1 WHERE TABLE1.ID=ID AND STATUS_ID=2) 
COUNT FROM TABLE1 WHERE STATUS_ID=6 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:11:19.573

是的。

但是，如果您在查询/子查询中多次使用同一个表，则应使用不同的别名，以明确您选择或比较的具体内容

```
SELECT t1.ID, t1.DESC, 
  ( SELECT COUNT(*)
    FROM TABLE1 t2
    WHERE t1.ID=t2.ID AND t2.STATUS_ID=2) COUNT 
FROM TABLE1 t1
WHERE t1.STATUS_ID=6 
```

# objective-c - 如何在沙盒 mac 应用程序中获取用户的图片目录？

> ID：14378750
> 
> 赞同：6
> 
> 时间：2013-01-17T12:07:51.010
> 
> 标签：objective-c, macos, appstore-sandbox

我有一个 com.apple.security.assets.pictures.read-write 权利设置为 YES 的 sanboxed mac 应用程序。因此，我可以访问用户实际的 /Users/username/Pictures 目录。

我想以编程方式获取此目录的路径，我该怎么做？

我目前执行以下操作，但它会导致沙箱容器图片位置。

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSPicturesDirectory, NSUserDomainMask, YES);

//this gets the pictures directory in sandbox container not the actual user Pictures directory 
NSString *userPicturesPath = [paths objectAtIndex:0]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-05T17:00:20.690

在我看来，沙盒容器 Pictures 目录只是指向`~/Pictures`. 所以我相信这正是你想要的。您可以通过调用示例中`stringByResolvingSymlinksInPath`的来看到这一点。`userPicturesPath`您可以看到这些文件实际上只是指向您的相应文件的符号链接`$HOME`![截屏](../Images/ad94da95bf045c3b4bf4d848dd102fcc.png)

# c#-2.0 - CK30：使用 BarcodeReader() 后，我的键盘停止工作

> ID：14378754
> 
> 赞同：0
> 
> 时间：2013-01-17T12:08:09.957
> 
> 标签：c#-2.0, windows-mobile-6.1, intermec, handhelddevice

我正在为带有 C# compact framework 2.0（windows mobile 6.1）中的 2D 阅读器的 Intermec 手持设备 CK30 开发。

每次我使用条形码时，我的键盘都会停止工作。任何想法为什么？

这是代码。第一部分是配置条形码阅读器的类。第二部分是使用条形码阅读器填充文本框的表单。

使用条形码阅读器读取内容后，键盘停止工作......

```
using System;
using System.Collections.Generic;
using System.Text;
using System.Windows.Forms;

using Intermec.DataCollection;

namespace BarCodeReaderTest
{
    class LeitorCodigoDeBarras
    {
        public BarcodeReader LerCodigoDeBarras()
        {
            try
            {
                BarcodeReader meuLeitor = new BarcodeReader("default", 4096);
                meuLeitor.ScannerEnable = true;
                meuLeitor.ThreadedRead(true);

                return meuLeitor;
            }
            catch (BarcodeReaderException bx)
            {
                MessageBox.Show("Não foi possível inicializar o leitor de código de     barras. Contate seu supervisor. \n" + bx.Message);

                return null;
            }
        }
    }
}

using System;

using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;

using Intermec.DataCollection;

namespace BarCodeReaderTest
{
    public partial class Form1 : Form
    {

        public BarcodeReader leitor;

        public Form1()
        {

            InitializeComponent();

            LeitorCodigoDeBarras classeLeitor = new LeitorCodigoDeBarras();

            leitor = classeLeitor.LerCodigoDeBarras();
            leitor.BarcodeRead += new     BarcodeReadEventHandler(this.eventoLeitorCodigoDeBarras);

        }

        void eventoLeitorCodigoDeBarras(object sender, BarcodeReadEventArgs e)
        {
            tbCodLido.Text = e.strDataBuffer;
        }
    }        
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T16:21:26.530

好的，我现在 relaized 您正在一个单独的类中使用 BarcodeReader。

请尝试以下标准示例（一个列表框和一个按钮）：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;
using Intermec.DataCollection;
namespace BarcodeReader
{
    public partial class Form1 : Form
    {
        private Intermec.DataCollection.BarcodeReader bcr;
        public Form1()
        {
            InitializeComponent();
            bcr = new Intermec.DataCollection.BarcodeReader();
            bcr.BarcodeRead += new BarcodeReadEventHandler(bcr_BarcodeRead);
            bcr.ThreadedRead(true);
        }
        void bcr_BarcodeRead(object sender, BarcodeReadEventArgs bre)
        {
            this.listBox1.Items.Add(bre.strDataBuffer);
        }
    }
    private void btnExit_Click(object sender, EventArgs e)
    {
        if (bcr !=null)
        {
            bcr.Dispose();
        }
        Application.Exit();
    }
} 
```

如果可行（另请参阅 Intermec Datacollection 资源工具包附带的示例），我们可以检查，为什么您的构造不起作用。我假设您安装了最新的 DataCollection Resource Kit。

# mysql - SELECT ... FOR UPDATE 从多个线程中的一个表

> ID：14378755
> 
> 赞同：7
> 
> 时间：2013-01-17T12:08:10.350
> 
> 标签：mysql, transactions, innodb, table-locking

我需要一点帮助[`SELECT FOR UPDATE`(resp. `LOCK IN SHARE MODE`)](http://dev.mysql.com/doc/refman/5.0/en/innodb-locking-reads.html)。

我有一个包含大约 400 000 条记录的表，我需要在每一行上运行两个不同的处理函数。

表结构适当地是这样的：

```
data (
    `id`,
    `mtime`,  -- When was data1 set last
    `data1`,
    `data2` DEFAULT NULL,
    `priority1`,
    `priority2`,
    PRIMARY KEY `id`,
    INDEX (`mtime`),
    FOREIGN KEY ON `data2`
) 
```

功能有点不同：

*   *第一个功能*- 必须在所有记录上循环运行（非常快），应该根据`priority1`;选择记录 集`data1`和`mtime`
*   *第二个功能*- 必须在每条记录上只运行一次（非常慢），应该根据`priority2`;选择记录 集`data1`和`mtime`

他们不应该同时修改同一行，但是 select 可能会在两者中返回一行（`priority1`并且`priority2`具有不同的值），如果是这种情况，事务等待是可以的（我希望这会是唯一会阻塞的情况）。

我正在根据以下查询选择数据：

```
-- For the first function - not processed first, then the oldest,
-- the same age goes based on priority
SELECT id FROM data ORDER BY mtime IS NULL DESC, mtime, priority1 LIMIT 250 FOR UPDATE;

-- For the second function - only processed not processed order by priority
SELECT if FROM data ORDER BY priority2 WHERE data2 IS NULL LIMIT 50 FOR UPDATE; 
```

但我所经历的是，每次只有一个查询返回。

**所以我的问题是**：

*   是否可以在不同的行（在同一个表中）的两个独立事务中获取两个独立的锁？
*   我在第一个和第二个查询之间有那么多冲突吗（我在调试时遇到了麻烦，任何关于如何调试的提示`SELECT ... FROM (SELECT ...) WHERE ... IN (SELECT)`都将不胜感激）？
*   `ORDER BY ... LIMIT ...`会导致任何问题吗？
*   索引和键会导致任何问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-26T23:57:58.493

在进一步研究之前要检查的关键事项：

*   确保表引擎是**InnoDB**，否则“for update”不会锁定行，因为不会有事务。
*   确保您正确使用“更新”功能。如果您选择要更新的内容，它将锁定到该事务。**虽然其他事务可能能够读取该行，但在原始锁定事务释放锁之前，任何其他事务都不能选择更新、更新或删除该行。**
*   为了保持干净，请尝试使用“START TRANSACTION”显式启动事务，运行您的选择“for update”，对返回的记录执行任何操作，并通过显式执行“COMMIT”来完成关闭交易。

据我所知，订单和限制对您遇到的问题没有影响，选择将返回的任何内容都将是被锁定的行。

要回答您的问题：

1.  *是否可以在不同的行（在同一个表中）的两个独立事务中获取两个独立的锁？*
    是的，但不在同一行。锁一次只能存在于一个事务中的行级别。
2.  *我在第一个和第二个查询之间是否有那么多冲突（我在调试时遇到了麻烦，任何关于如何调试 SELECT ... FROM (SELECT ...) WHERE ... IN (SELECT) 的提示将不胜感激）？*
    计算行锁的时间可能很短，这将延迟第二次查询，但是除非您一次运行数百个这样的选择更新，否则它不会导致您出现任何重大或明显的延迟。
3.  *ORDER BY ... LIMIT ... 会导致任何问题吗？* 不是我的经验。它们应该像在正常的 select 语句上一样工作。
4.  *索引和键会导致任何问题吗？*
    索引应该像往常一样存在以确保足够的性能，但它们不应该导致获取锁的任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-09T08:18:53.923

接受答案中的所有点似乎都很好，除了低于 2 点：“**选择将返回的任何内容都将是被锁定的行**。” &“**索引和键会导致任何问题吗？但它们不应该导致任何获取锁的问题。** ”

相反，在决定选择和返回哪些行期间由 DB 内部读取的所有行都将被锁定。例如下面的查询将锁定表的所有行，但可能只选择并返回几行： select * from table where non_primary_non_indexed_column = ? 更新由于没有索引，数据库将不得不读取整个表来搜索你想要的行，从而锁定整个表。

如果只想锁定一行，则需要在 where 子句中指定其主键或索引列。因此，在仅锁定适当行的情况下，索引变得非常重要。

这是一个很好的参考 - [https://dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html](https://dev.mysql.com/doc/refman/5.7/en/innodb-locking-reads.html)

# java - 如何在 Spring XML 文件中使用 DOCTYPE

> ID：14378767
> 
> 赞同：0
> 
> 时间：2013-01-17T12:08:57.740
> 
> 标签：java, xml, spring, dtd

大多数时候我们不在`DOCTYPE`Spring 中声明。但是我想在我的 XML 上下文文件中声明一个 DOCTYPE，以便我可以`ENTITY`在我的 xml 文件中使用。

**例如：**

```
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN"
                  "http://www.springframework.org/dtd/spring-beans-2.0.dtd"
    [<!ENTITY % crmHome SYSTEM "crm-home.dtd"> %crmHome;]
> 
```

这会产生许多错误，例如...

```
 - Attribute "xmlns" must be declared for element type "beans".

 - Attribute "xmlns:xsi" must be declared for element type "beans".

    etc..... 
```

实现这一目标的方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-10-22T19:27:14.450

这对我有用。使用 Spring Framework V.4.2.1

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
"http://www.springframework.org/dtd/spring-beans.dtd">
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:30:15.993

如果您仍然使用模式验证，那么您可以定义足以声明参数实体的内部 DTD 子集，而不是引用`http://www.springframework.org/dtd/spring-beans-2.0.dtd`：

```
<!DOCTYPE beans [
  <!ENTITY % crmHome SYSTEM "crm-home.dtd">
   %crmHome;
]>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
             http://www.springframework.org/schema/beans
             http://www.springframework.org/schema/beans/spring-beans.xsd"> 
```

# iphone - 如何从我的 iPhone App 文档目录中选择所有图像

> ID：14378768
> 
> 赞同：4
> 
> 时间：2013-01-17T12:08:58.530
> 
> 标签：iphone, ios, objective-c

我有一个包含一堆图像的文件夹。我想将所有图像的名称添加到数组中。这些图像位于我在应用程序上的文档中的一个文件夹中。见屏幕截图。

![文件目录](../Images/65c4c8b2407ce41d7455315af16429ea.png)

我知道如果我想获得其中一张图片，我会使用以下代码。

```
NSArray   *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString  *documentsDirectory = [paths objectAtIndex:0];
NSString  *filePath = [NSString stringWithFormat:@"%@/POIs/%@", documentsDirectory,image]; 
```

是否可以选择文件夹中的所有文件？如果是，是否也可以选择文件的名称并将它们添加到数组中？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T12:15:02.083

获取POS文件夹的文件路径：

```
NSString  *filePath = [NSString stringWithFormat:@"%@/POIs", documentsDirectory]; 
```

然后做：

```
NSArray *files = [fileManager contentsOfDirectoryAtPath:filePath 
                                                  error:nil]; 
```

代码未测试

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:13:54.470

尝试以下：

```
NSArray *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    library = [path objectAtIndex:0];
    fileArray = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:library error:nil];
    NSLog(@"fileArray...%@",fileArray);

 for(int i = 0;i<fileArray.count;i++)
    {
        id arrayElement = [fileArray  objectAtIndex:i];
     if ([arrayElement rangeOfString:@".png"].location !=NSNotFound)
        {

        [imagelist addObject:arrayElement];
        arrayToLoad = [[NSMutableArray alloc]initWithArray:imagelist copyItems:TRUE];
        }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T12:16:54.580

你可以这样做：

```
NSArray *directoryContent = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)lastObject] error:NULL]; 
```

设置图像：

```
[imgView setImage:[UIImage imageWithContentsOfFile:"Your complete path"]]; 
```

# winapi - UpdateResource，没有错误，但没有添加资源。为什么？

> ID：14378769
> 
> 赞同：1
> 
> 时间：2013-01-17T12:08:59.070
> 
> 标签：winapi, visual-c++

我想写一个基于资源的简单配置程序。我使用 Windows API 函数来更新 stub.exe 的资源。应用程序未显示错误，但未添加资源（有时 exe 文件已损坏！）。当我在 ResourceHacker 中打开 stub.exe 时，没有资源。

我的代码是：

```
#include <Windows.h>

#define LANGUAGEID 1033

HANDLE hUpdate;
char szStubPath[MAX_PATH];
char DeadCode[] = "0xDEADC0DE";
unsigned int error = 0;

int main()
{

    GetCurrentDirectory(MAX_PATH, szStubPath);
    lstrcat(szStubPath, "\\stub.exe");

    hUpdate = BeginUpdateResource(szStubPath, FALSE);
    if(hUpdate == NULL)
    {
        MessageBox(0, "BeginUpdateResource failed.", 0, MB_OK+MB_ICONERROR);
        error = 1;
    }
    if(UpdateResource(hUpdate, RT_STRING, TEXT("CURRENT"), LANGUAGEID, &DeadCode, 11) == FALSE)
    {
        MessageBox(0, "UpdateResource failed.", 0, MB_OK+MB_ICONERROR);
        error = 1;
    }
    if(EndUpdateResource(hUpdate, FALSE) == FALSE)
    {
        MessageBox(0, "EndUpdateResource failed.", 0, MB_OK+MB_ICONERROR);
        error = 1;
    }

    if(error == 0)
    {
        MessageBox(0, "stub.exe - Resource added.", "Info", 0);
        return EXIT_SUCCESS;
    }
    else
    {
        MessageBox(0, "stub.exe - Adding resource failed.", "Info", 0);
        return EXIT_FAILURE;
    }
} 
```

没有错误，但没有添加资源（有时exe文件损坏！），为什么？怎么了？

编辑： **我想添加信息，stub.exe 是用 MASM32 编写的，config.exe 是用 Visual C++ 编写的。不同的编程语言是否有可能产生问题？**

问候，大卫

# objective-c - 我们应该删除；在 Objective-c 中的实现结束时

> ID：14378772
> 
> 赞同：0
> 
> 时间：2013-01-17T12:09:08.800
> 
> 标签：objective-c, xcode4.5

> **可能重复：**
> [Objective-C 实现文件中方法名称后的分号](https://stackoverflow.com/questions/5678360/semicolon-after-the-method-name-in-objective-c-implementation-file)

我注意到两者

```
- (void)encodeWithCoder:(NSCoder *)aCoder;
{

} 
```

和

```
- (void)encodeWithCoder:(NSCoder *)aCoder
{

} 
```

作品。

使用 ; 不过有点尴尬。为什么有；作品超出了我的范围。不能在 C++ 中工作

事情`something;`应该是等价的，`something{};`因此`something ;{}`应该是等价的，`something {};{}`这是错误的。

例如 if(true) a=b; 与 if(true){a=b}; 相同；

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:23:30.503

编译器忽略分号，这只发生在函数名上。当人们试图将函数名从 .h(interface) 复制到 .m(implementation)file 时会发生这种情况。我在使用目标 c 时也观察到了同样的情况。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:13:04.957

正如布拉德拉森在[这里的回答](https://stackoverflow.com/questions/5678360/semicolon-after-the-method-name-in-objective-c-implementation-file/5678458#5678458)中所说：

> 是的，这样做是可以接受的语法。
> 
> 事实上，我总是在我的实现中这样做，因为这样就可以轻松地将方法定义从接口复制并粘贴到实现，反之亦然，而无需记住你在哪里。这也有助于我在单独的行上使用对齐的括号。

同样，[Yuji 指出](https://stackoverflow.com/questions/5678360/semicolon-after-the-method-name-in-objective-c-implementation-file/5678388#5678388)：

> 从语法上讲，在那里放一个分号是可以的。它没有任何目的，并且不鼓励这样做。一些编译器对这个额外的分号给出警告。

C/C++/Java 处理一个 ; 作为语句的结尾，因此每当编译器找到它时，它都会将其视为行尾。

编辑：

`if(true) a=b;`是一样的`if(true){a=b};`

这些都不能与上面相比。`a=b`是一个必须以分号结尾的表达式。因此，`if(true) a=b;`是正确的。`if(true){a=b;}`是正确的。但`if(true) {a=b};`不是，{ 和 } 生成一个包含未终止表达式的块，产生语义错误，因此编译器说 ERROR。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-17T12:19:02.307

是的，

```
- (void)encodeWithCoder:(NSCoder *)aCoder;
{

} 
```

和

```
- (void)encodeWithCoder:(NSCoder *)aCoder
{

} 
```

两者具有相同的含义。

实际上编译器会忽略`;`函数后是否存在

即使你写

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{

} 
```

作为

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions;
{

} 
```

有用！

# apache - 如何制作 htaccess 动态和静态规则？

> ID：14378773
> 
> 赞同：1
> 
> 时间：2013-01-17T12:09:08.883
> 
> 标签：apache, .htaccess, mod-rewrite, url-rewriting

我有这个动态规则：

```
RewriteRule ^(.*)/(.*)$ /rewrite.php?sub=$1&second=$2 [NC] 
```

我正在尝试添加一些像这样的静态规则：

```
RedirectMatch 302 /construction/pools.html http://www.{samedomain}.com/construction-services/pools 
```

* * *

问题是当我在地址栏中键入以下内容时：

`http://www.{samedomain}.com/construction/pools.html`

然后apache重定向到：

`http://www.{samedomain}.com/construction-services/pools?sub=construction&second=pools.html`

我想要的是apache重定向到：

```
http://www.{samedomain}.com/construction-services/pools 
```

* * *

有人知道为什么吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:33:34.540

重定向按照它们出现的顺序进行处理，因此将静态重定向放在`RewriteRule`. 不要`[L]`在你的`RewriteRule`.

```
RewriteEngine On
# Match the static redirect first
RedirectMatch 302 /construction/pools.html http://www.{samedomain}.com/construction-services/pools

# Since your dynamic URLs don't end in .html, avoid those with RewriteCond
RewriteCond %{REQUEST_URI} !\.html$
RewriteRule ^([^/]+)/(.*)$ /rewrite.php?sub=$1&second=$2 [NC,L] 
```

或者，`RewriteCond`如果您的动态 url 都没有`.`

```
RewriteRule ^([^/]+)/([^.]+)$ /rewrite.php?sub=$1&second=$2 [NC,L] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:36:59.577

根据优先级编写htaccess规则（把有共同行为的规则放在最后）

在你的情况下

```
RedirectMatch 302 /construction/pools.html http://www.{samedomain}.com/construction-services/pools
RewriteRule ^(.*)/(.*)$ /rewrite.php?sub=$1&second=$2 [NC] 
```

# android - 适用于 iPhone 和 Android 的最佳跨平台开发工具

> ID：14378774
> 
> 赞同：6
> 
> 时间：2013-01-17T12:09:14.713
> 
> 标签：android, ios, cross-platform, development-environment

我知道类似的问题已经被问过很多次了，
但是今天当你有这么多的选择时，我真的需要一个已经有跨平台开发经验的人的建议。

我计划为 Android 和 iOS 开发一些应用程序。应用程序必须在设备上存储数据、使用日历、发送电子邮件、与远程服务器交谈。如您所见，这里没有什么特别之处。

我发现了很长的平台列表：

Corona（[支持的功能）](http://www.coronalabs.com/resources/roadmap/)
Moscrif
Icenium
Appcelerator
PhoneGap（[支持的功能](http://phonegap.com/about/feature/)）
钛
等

这个平台有些是免费的，有些是订阅的。现在我想尝试一些使用 HTML5、JavaScript、Java 或 C# 的免费且有据可查的平台。
我很高兴听到建议和意见。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T12:26:43.203

*   [RhoMobile](http://rhomobile.com/) – 这是一个使用 Ruby 的解决方案，尤其受到 Ruby on Rails 开发人员的喜爱。（仅对非商业应用免费，价格有所不同）

*   [Appcelerator](http://www.appcelerator.com/) - - 这是一个允许您使用 HTML/Javascript 开发本机应用程序的解决方案（通过 iPhone 上的 UIWebView 运行）。（自由的）

*   [PhoneGap](http://phonegap.com/) - 与 Appcelerator 类似，我提到这两个是因为它们似乎拥有最活跃的社区和最广泛的支持。（自由的）

*   [WidgetPad](http://widgetpad.com/)是很好的跨平台开发工具。其中，我更喜欢 iOS 和 Android 开发的 Phonegap。

**编辑-**为什么我更喜欢 Phonegap

Phonegap 是将您的基于 Web 的技能部署到多个平台的框架。

Phonegap 刚刚在 UIWebView 控件内执行，并且您的 js 调用的 PhoneGap JavaScript API 被路由到本机 API。

**Phonegap的优势：**

*   使用网络标准构建您的应用程序一次
*   用PhoneGap包裹它
*   部署到多个平台！

查看[Corona、Phonegap、Titanium 之间比较的链接](https://stackoverflow.com/a/1806940/1626878)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:19:18.797

我想你可以说什么是最好的。每个人都有一些赞成和反对。我测试了一些工具。PhoneGap：它非常强大并且拥有一个庞大的社区。Adobe 支持 PhoneGap。但是本地数据库的最大大小是有限的。

我也测试了 Adob​​e Air。为此，用户需要 Air 运行时。如果您使用 Adob​​e flashbuilder，您将拥有一个不错的 IDE。

等等……等等……

我对其他含义和提示感到好奇。

亲切的问候

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-17T12:19:20.910

@EvZ，这不是在这些跨平台开发工具中找到最好的问题。每个工具都有自己的优势，可以在多个平台上构建应用程序。

如果您想使用这些工具，您可以在 Google 中搜索并决定哪一种更适合您的应用需求。没有人可以直接估计哪个好。根据您的编码技能，您可以使用任何一种。

例如：Phonegap 最适合设计师。因为它类似于 JavaScript 和 HTML 那样

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-17T12:23:51.743

我找到了这个[http://www.canappi.com/](http://www.canappi.com/)（我没有尝试过）。它看起来很容易学习。

您可以在[这里](http://en.wikipedia.org/wiki/Mobile_application_development)找到其他替代品。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T12:48:47.413

我建议 PhoneGap ：请参阅 [http://phonegap.com/](http://phonegap.com/)

简单的！易于使用且免费！！

# sql - 如何在 sql server 2008 中复制另一个数据库中的数据库结构？

> ID：14378775
> 
> 赞同：7
> 
> 时间：2013-01-17T12:09:20.917
> 
> 标签：sql, sql-server-2008

我有一个数据库，想复制新数据库中的所有表而不复制所有这些表的数据，只有结构应该被复制

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:11:23.100

SQL Server Management Studio 提供以下功能：

编写整个数据库的脚本：

*   在对象资源管理器下，鼠标右键单击数据库，然后选择`Script Database as`

仅编写（特定）表的脚本：

*   在对象资源管理器中，右键单击数据库，选择`Tasks`，`Generate Scripts`然后选择所需的表。

然后，您可以使用该脚本在别处创建新数据库/新对象。如果您更改数据库的名称，请记住相应地更改`USE xxx`语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:11:57.180

在您的第一个数据库的 SSMS 中，右键单击数据库名称，然后单击“脚本数据库为”>“创建到”，然后选择您的输出位置并运行您的脚本。

编辑：

请注意，您需要修改脚本以指定新的数据库名称，替换生成脚本中的现有名称（由 Oded 评论提供）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:13:29.750

在 SQL Server Management Studio 中，您可以右键单击数据库 -> 任务 -> 导出数据。然后按照向导..

# java - 将 JSON 反序列化为类

> ID：14378776
> 
> 赞同：15
> 
> 时间：2013-01-17T12:09:32.210
> 
> 标签：java, json, jackson, deserialization

服务器返回 JSON 的这样一部分：

```
{"condition": {
    "or": [
        {
            "and": [
                {
                    "operand": "a",
                    "operator": "==",
                    "value": "true"
                },
                {
                    "not": {
                        "operand": "b",
                        "operator": "==",
                        "value": "true"
                    }
                }
            ]
        },
        {
            "and": [
                {
                    "operand": "b",
                    "operator": "==",
                    "value": "true"
                },
                {
                    "not": {
                        "operand": "a",
                        "operator": "==",
                        "value": "true"
                    }
                }
            ]
        }
    ]
}} 
```

* * *

我写了下一个类层次结构：

```
public interface Condition {}

public class Expression implements Condition { 
   public Expression(String operator, String operand, String value) {
   } 
}

public class Not implements Condition { 
   public Not(Condition condition) {
   }
}

public abstract class GroupOperation implements Condition {
   public GroupOperation (List<Condition> conditions) {
   }
}

public class And extends GroupOperation { 
   public And(List<Condition> conditions) {
   }
}

public class Or extends GroupOperation { 
   public Or(List<Condition> conditions) {
   }
} 
```

我添加了下一个杰克逊注释，希望能够反序列化上面的 JSON：

```
@JsonTypeInfo(use=Id.NAME, include=As.WRAPPER_OBJECT)
@JsonSubTypes({
    @JsonSubTypes.Type(value=Not.class, name="not"),
    @JsonSubTypes.Type(value=And.class, name="and"),
    @JsonSubTypes.Type(value=Or.class, name="or"),
    @JsonSubTypes.Type(value=Expression.class, name=""),
}) 
```

我将适当的构造函数标记为`@JsonCreator`.

`Expression`这对课堂不起作用。

* * *

如果我修改 JSON 以使每个`expression`对象都具有名称“表达式”：

```
"expression" : {
    "operand": "a",
    "operator": "==",
    "value": "true"
} 
```

和

```
@JsonTypeInfo(use=Id.NAME, include=As.WRAPPER_OBJECT)
@JsonSubTypes({
    @JsonSubTypes.Type(value=Not.class, name="not"),
    @JsonSubTypes.Type(value=And.class, name="and"),
    @JsonSubTypes.Type(value=Or.class, name="or"),
    @JsonSubTypes.Type(value=Expression.class, name="expression"),
}) 
```

尝试解析“not”条件时失败，说明“无法实例化抽象类需要有关类型的更多信息”。所以看起来它在更深层次的解析中丢失了注释声明。

* * *

1.  我想知道是否可以用杰克逊为原始 JSON 编写反序列化

2.  为什么第二种方法不适用于`Not`反序列化

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-29T14:24:18.273

我必须完成一些非常相似的事情，这里是摘录。

```
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "@class")
@JsonSubTypes({
    @JsonSubTypes.Type(value=IMetricCollection.class, name="MetricCollection"),
    @JsonSubTypes.Type(value=IMetricDouble.class, name="MetricDouble"),
    @JsonSubTypes.Type(value=IMetricInteger.class, name="MetricInteger"),
    @JsonSubTypes.Type(value=IMetricPlot.class, name="MetricPlot"),
    @JsonSubTypes.Type(value=IMetricString.class, name="MetricString"),
    @JsonSubTypes.Type(value=IMetricMatrix.class, name="MetricMatrix")
})

public interface IMetric extends HasViolations<IViolation>, Serializable {

    /**
     * Getter for the name of the object.
     * 
     * @return
     */
    public abstract String getName();

    /**
     * Set the name of the object.
     * 
     * @param name
     */
    public abstract void setName(String name);

    /**
     * Returns true if metric has violations.
     * @return
     */
    public abstract boolean hasMetricViolations();
} 
```

使用接口这似乎有点违反直觉，但我能够通过告诉接口使用什么具体类来让这一切正常工作。如果这有帮助，我在一个单独的项目中还有另一块代码，它会覆盖以`JsonSubTypes`在下面实例化它自己的类类型。

```
@JsonDeserialize(as=MetricMatrix.class)
public interface IMetricMatrix<C extends IColumn> extends IMetric {

    public static interface IColumn extends IMetricCollection<IMetric> {
    }

    public static interface IIntegerColumn extends IColumn {
    }

    public static interface IDoubleColumn extends IColumn {
    }

    public static interface IStringColumn extends IColumn {
    }

    public abstract List<C> getValue();

    public abstract void setValue(List<C> value);

    public abstract void addColumn(C column);
} 
```

在这个类中，我可以解析相同的 REST 消息，但我覆盖了原始项目的具体类型，并且该项目的子类型使它们持久化。由于类型名称相同，我可以覆盖用于此对象类型的接口。请记住，我使用的是@class 属性，但这完全是任意的，可能是@whatever 注释，但它需要在两边都匹配。这不是使用`JsonTypeInfo.Id.Class`注释。

```
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "@class")
@JsonSubTypes({
    @JsonSubTypes.Type(value=IMetricCollectionEntity.class, name="MetricCollection"),
    @JsonSubTypes.Type(value=IMetricDoubleEntity.class, name="MetricDouble"),
    @JsonSubTypes.Type(value=IMetricIntegerEntity.class, name="MetricInteger"),
    @JsonSubTypes.Type(value=IMetricPlotEntityEntity.class, name="MetricPlot"),
    @JsonSubTypes.Type(value=IMetricStringEntity.class, name="MetricString"),
    @JsonSubTypes.Type(value=IMetricMatrixEntity.class, name="MetricMatrix")
})
public interface IMetricEntity extends IDatastoreObject, IMetric {

    public String getContext();

    public List<IViolation> getViolations();
}

@JsonDeserialize(as=MetricMatrixEntity.class)
public interface IMetricMatrixEntity extends IMetricEntity {

    public static interface IColumnEntity extends IColumn {
        public String getName();
    }

    public static interface IIntegerColumnEntity extends IColumnEntity {
    }

    public static interface IDoubleColumnEntity extends IColumnEntity {
    }

    public static interface IStringColumnEntity extends IColumnEntity {
    }

    public abstract List<IColumnEntity> getValue();

    public abstract void setValue(List<IColumnEntity> value);

    public abstract void addColumn(IColumnEntity column);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T20:12:31.037

您应该使用类，而不是接口。否则，Jackson 无法创建实例。

我相信您还需要为您的 POJO 创建默认（又名无参数）构造函数，以便杰克逊工作。

此外，创建 Jackson 映射的一个很好的通用方法是实例化您的类的 Java 实例，然后从中创建 JSON，Java -> JSON。这使得更容易理解映射的不同之处 - 从 JSON -> Java 更难调试。

# wpf - 如何在比例变换中保持字体质量

> ID：14378782
> 
> 赞同：1
> 
> 时间：2013-01-17T12:09:55.507
> 
> 标签：wpf, vb.net, text

我想使用 VB.NET 代码拉伸标签中的文本以填充标签的宽度。这是在 WPF 应用程序中。

我尝试了很多方法，包括只更改字体大小，如下所示：

```
scale = 0.25    
lbl.FontSize = l.Width * scale 
```

这种方法的问题是我需要所有标签的高度保持不变，而 0.25 是一个猜测，它为 4 个字符的字符串提供了大约正确的填充

我尝试了一种递归方法，我以较小的增量更改字体大小，并将字符串宽度与标签宽度进行比较，直到合适为止。

还考虑了转换，这看起来是一个不错的选择：

```
w = lbl.Width
scale = lbl.content.length/100
lbl.LayoutTransform = New System.Windows.Media.ScaleTransform(w * scale, 1) 
```

这解决了我的高度问题，但我仍然需要猜测转换的因素，直到它有点工作。拉伸的文本也会失去质量并按预期变形。

有什么方法可以减少文本转换时的失真效果。也许某些字体在转换后比其他字体显示得更好？

# mysql - SQL语法错误添加数据opencart DB

> ID：14378783
> 
> 赞同：0
> 
> 时间：2013-01-17T12:09:56.840
> 
> 标签：mysql, sql

我希望添加所有不需要的`attribute_id = 12`产品`oc_product_attribute`，

但是遇到语法错误...

1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册以获取在 '12 附近使用的正确语法）从 oc_product ocp 中选择 ocp.product_id where ocp.product_id not in (SE' at line 1

```
insert into `oc_product_attribute` (ocp.product_id, 12)  
select ocp.product_id from oc_product ocp where ocp.product_id not in (SELECT oca.`product_id`
FROM `oc_product_attribute` oca where oca.attribute_id = 12) 
```

我在这里遗漏了什么，对 SQL 来说很新。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T13:11:43.640

通常你必须枚举`insert`语句中的列。

```
insert into `oc_product_attribute` (ocp.product_id, 12) 
```

一定是

```
insert into `oc_product_attribute` (ocp.product_id, some_column_name) 
```

我猜它可能是`attribute_id`。

更多详细信息，请参阅参考手册 -> [http://dev.mysql.com/doc/refman/5.6/en/insert-select.html](http://dev.mysql.com/doc/refman/5.6/en/insert-select.html)

# c# - 分页数据网格中的字典列表

> ID：14378784
> 
> 赞同：0
> 
> 时间：2013-01-17T12:09:58.487
> 
> 标签：c#, wpf, collections, datagrid, pagination

我有我的数据列表

```
System.Collections.Generic.List<System.Collections.Generic.Dictionary<string,object>> 
```

我已将其分配给可枚举类型

```
 public IEnumerable Result;
 Result = Datasource.DataSourceCreator.ToDataSource( System.Collections.Generic.List<System.Collections.Generic.Dictionary<string,object>>); 
```

我将该 ienumerable 绑定到我的 wpf 应用程序中的数据网格的 itemsource。我如何通过遍历这个字典列表来对我的数据网格进行分页？提前谢谢，如果你能解决我的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:31:42.030

WPF 不提供具有内置分页支持的控件。
您需要自己实现它。

这篇文章可以帮助你实现这样的事情：

[http://www.codeproject.com/Articles/20463/DataView-Paging-in-WPF](http://www.codeproject.com/Articles/20463/DataView-Paging-in-WPF)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T13:50:53.773

以下链接可能会帮助您实现目标，

[如何对 WPF DataGrid 进行分页？](https://stackoverflow.com/questions/784726/how-can-i-paginate-a-wpf-datagrid)

[MSDN 参考](http://msdn.microsoft.com/en-us/library/system.windows.data.pagedcollectionview%28v=vs.95%29.aspx)

另一个链接供您参考

[http://www.codeproject.com/Articles/350447/WPF-Paging-in-DataGrid-ListBox](http://www.codeproject.com/Articles/350447/WPF-Paging-in-DataGrid-ListBox)

# jquery - 在 Jquery 中，为什么在通过函数选择选项卡时未加载该选项卡的内容？

> ID：14378788
> 
> 赞同：0
> 
> 时间：2013-01-17T12:10:06.400
> 
> 标签：jquery, html, jquery-ui

我所追求的行为是当用户单击超链接时 - 然后它启用一个选项卡（在加载时禁用），然后刷新该选项卡的内容

我看到的行为是选项卡被启用然后被选中，但内容没有显示 - 如果我然后单击选项卡，内容就在那里！诡异的！

我的html

```
<div id="tabs">

    <ul>
      <li><a href="#tab1" id="addloader">Add a Loader</a></li>
      <li><a href="#tab2" id="addcsv">Add a CSV</a></li>
      <li><a href="#tab3" id="manage">Manage Loaders</a></li>
      <li><a href="#tab4" id="runLoaders">Run Loaders</a></li>
      <li><a href="#tab5" id="addChartSql">Add Chart SQL</a></li>
      <li><a href="#tab6" id="manageChartSql">Manage Chart SQL</a></li>
      <li><a href="#tab7" id="editSql">Edit Chart SQL</a></li>
    </ul>

.......

      <div id="tab7" class="tab_content">
          <strong>Edit Chart SQL</strong>
          <div id="editChartSqlData"></div>
      </div> 
```

jQuery

```
 $(function() {

         $("#tabs").tabs({disabled: [6]});
      });

  function editsql(id) {

$("#tabs").tabs("enable", 6);
$('#tabs').tabs({ selected: 6 }); 

var editid = ('id='+ id);

    $.ajax({
    type: "GET",
    url: "editChartSql.php",
    data: editid,
    success: function(server_response){
    $('#editChartSqlData').html(server_response);
  }
    });

return false;
} 
```

如何让该内容显示在启用的选项卡中？

更新：

**1) 用户点击编辑**

![用户点击编辑](../Images/5608ece64c95ebc426fedf42414e7a3a.png)

**2) 选项卡已启用并聚焦**

![选项卡已启用并聚焦](../Images/d859058822ca154131bfb2b4b7725700.png)

**3）当用户然后单击选项卡时，它会显示内容**

![当用户然后单击选项卡时，它会显示内容](../Images/3df45f03e9d76c024daad1e104d51a40.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:14:41.793

用于 ajax 调用

```
$.ajax({
    type: "GET",
    url: "editChartSql.php",
    async: false,
    data: editid,
    success: function(server_response){
    $('#editChartSqlData').html(server_response);
  }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:48:21.750

它可能非常简单，例如响应是无效的 HTML。执行 console.log 或 console.dir 并检查您从服务器返回的内容。

```
success: function(server_response){
   console.dir(server_response);
... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:15:16.723

我想你想启用当前加载的标签是这样的

```
 $(function() {

         $("#tabs").tabs({disabled: [6]});
      });

  function editsql(id) {

$("#tabs").tabs("enable", 6);
$('#tabs').tabs({ selected: 6 }); 

var editid = ('id='+ id);

    $.ajax({
    type: "GET",
    url: "editChartSql.php",
    data: editid,
    success: function(server_response){
    $('#editChartSqlData').html(server_response);
     $("#tabs").tabs("enable", editid);
  $('#tabs').tabs({ selected: editid }); 
  }
    });

return false;
} 
```

# iphone - uitableview中的iPhone sdk处理方向

> ID：14378789
> 
> 赞同：1
> 
> 时间：2013-01-17T12:10:08.973
> 
> 标签：iphone, uiimageview, uilabel, orientation, uialertview

我`UITableView`在我的 XIB 中。现在我有两个方向问题。

1）我将`UIImageView`,`UILabel`作为子视图添加到`cell.contentview`. 因为我需要每个表格单元格中的图像和标签。为此，我在`CellforRowAtIndexPath`. 但是当我尝试将视图旋转到横向时，我将这些图像和标签放在我提到的相同位置，即使我用`WillRotateOrientation`. 为什么会发生这种情况？以及如何解决这个问题？这是我的代码，

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{

    imgView1 = [[UIImageView alloc] initWithFrame:CGRectMake(680, 60, 40, 40)];
    [imgView1 setImage:[UIImage imageNamed:@"Downloaded.png"]];

     if([[[appDelegate selectDB] valueForKey:@"bookname"] containsObject:[listOfBooks objectAtIndex:indexPath.row]] )
      {
         [cell.contentView addSubview:imgView1];
      }
}

- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration 
{

     [self handleInterfaceRotationForOrientation:toInterfaceOrientation];

if (toInterfaceOrientation==UIInterfaceOrientationLandscapeRight) 
{
   imgView1.frame = CGRectMake(890,0, 40, 40);
}
else if (toInterfaceOrientation==UIInterfaceOrientationLandscapeLeft) 
{
   imgView1.frame = CGRectMake(890,0, 40, 40);
}
else if (toInterfaceOrientation==UIInterfaceOrientationPortrait)
{
   imgView1.frame = CGRectMake(690, 60, 40, 40);
}
else 
{
   imgView1.frame = CGRectMake(690, 60, 40, 40);
} 
```

// 这里我只是单独添加了图像视图代码。

2）我有一个带有一个进度视图和取消按钮的警报视图。当我尝试将其从纵向旋转到横向/横向到纵向时，我的警报视图被尖叫并且无法查看进度视图并且取消按钮自动增大其大小。

```
- (void)willPresentAlertView:(UIAlertView *)alertView 
{

     if(alertView.tag == kAlertViewOne)
     {
          progressAlert.frame = CGRectMake(270, 380, 300, 200);

              activityView = [[UIActivityIndicatorView alloc]  initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge];
    activityView.frame = CGRectMake(139.0f-18.0f, 40.0f, 37.0f, 37.0f);
    [progressAlert addSubview:activityView];
    [activityView startAnimating];

      DownloadingcancelButton=[(NSMutableArray*)[progressAlert valueForKey:@"_buttons"] objectAtIndex:0];

      DownloadingcancelButton.frame=CGRectMake(70, 115, 150, 45);

   }
   else if(alertView.tag == kAlertViewTwo)
   {

       UIButton *cancelButton=[(NSMutableArray*)[redownloadAlert valueForKey:@"_buttons"] objectAtIndex:1];

       cancelButton.frame=CGRectMake(150, 85, 80, 45);

       UIButton *YESButton=[(NSMutableArray*)[redownloadAlert valueForKey:@"_buttons"] objectAtIndex:0];

       YESButton.frame=CGRectMake(40, 85, 80, 45);
    }
 }

- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration 
{
     [self handleInterfaceRotationForOrientation:toInterfaceOrientation];

    if (toInterfaceOrientation==UIInterfaceOrientationLandscapeRight) 
    {
            progressAlert.frame = CGRectMake(270, 380, 300, 250);
            DownloadingcancelButton.frame=CGRectMake(70, 160, 150, 45);
    }
    else if (toInterfaceOrientation==UIInterfaceOrientationLandscapeLeft) 
    {
           progressAlert.frame = CGRectMake(270, 380, 300, 250);
           DownloadingcancelButton.frame=CGRectMake(70, 160, 150, 45);
    }
    else if (toInterfaceOrientation==UIInterfaceOrientationPortrait)
    {
           progressAlert.frame = CGRectMake(270, 380, 300, 200);
           DownloadingcancelButton.frame=CGRectMake(70, 115, 150, 45);
    }
    else
    {
           progressAlert.frame = CGRectMake(270, 380, 300, 200);
           DownloadingcancelButton.frame=CGRectMake(70, 115, 150, 45);
    } 
```

简单的定位问题，但我在过去的一天来到这里。请帮我解决这个问题。提前致谢。

# jsf-2 - 完成操作然后更新表 jsf

> ID：14378790
> 
> 赞同：1
> 
> 时间：2013-01-17T12:10:16.553
> 
> 标签：jsf-2, primefaces

我想要的是`commandButton`应该先完成动作然后更新`dataTable`，但它实际上`dataTable`是在执行动作之前更新。有人可以建议如何做到这一点吗？谢谢。

```
<p:dataTable id="files" var="file" value="#{tableBean.lstFiles}" rowKey="#{file.fname}" selection="#
     {tableBean.selectedFile}"  selectionMode="single"  > 

    <p:ajax event="rowSelect" listener="#{tableBean.onRowSelect}"  />
    <p:ajax event="rowUnselect" listener="#{tableBean.onRowUnselect}"/>

     <p:column headerText="Date"> #{file.fname}</p:column>  
     <p:column headerText="Type"> #{file.ftype}</p:column>  
     <p:column headerText="Date"> #{file.fdate}</p:column>  
    <p:column headerText="View File" >
  <p:commandButton id="folder" action="#{folderName.name}" value="Open" update=":form2:files" icon="ui-icon-arrowthichk-s"  >                   
         <f:setPropertyActionListener target="#{folderName.foldername}" value="#{file.fname}" />
                    </p:commandButton>
                </p:column>  

            </p:dataTable> 
```

# c# - 在克隆模式下绘制到单个屏幕

> ID：14378795
> 
> 赞同：0
> 
> 时间：2013-01-17T12:10:38.173
> 
> 标签：c#, .net

.Net（或其他平台）中是否有办法从 Windows 中配置的一组屏幕中仅绘制一个屏幕以克隆显示（意味着所有显示相同的显示）？

谢谢...

# windows - 可编写脚本的 PE 资源编辑器

> ID：14378798
> 
> 赞同：1
> 
> 时间：2013-01-17T12:10:50.027
> 
> 标签：windows, portable-executable, resource-editor

我需要一个命令行工具，它支持从 PE 可执行文件的资源中检索版本信息，并使用新版本修补二进制文件。我需要做的是自动增加 P​​E 二进制文件的版本。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T11:00:52.957

带有 COM 接口的资源工具库 [ [1](http://alax.info/blog/1361) , [2 ]。](http://alax.info/blog/category/utilities/resource-tools)您可以从 VBScript/JScript 中使用它，并像我已经做的那样自动修补版本信息。

导入/浏览 DLL 类型库以查看 COM 接口语法，以下是 VersionInfo 修补自动化的代码片段。

```
WshShell = WScript.CreateObject("WScript.Shell");
WScript.Echo("Current Directory: " + WshShell.CurrentDirectory);
Image = new ActiveXObject("AlaxInfo.ResourceTools.Image");
Image.Initialize(WshShell.CurrentDirectory + "\\Sample.dll");
WScript.Echo("Product Version: " + Image.VersionInfo.ProductVersionString);
WScript.Echo("File Version: " + Image.VersionInfo.FileVersionString);

VersionString = Image.VersionInfo.FileVersionString;
VersionString = VersionString.replace(" ", "");
VersionString = VersionString.replace(",", ".");
if(/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i.exec(VersionString) == null)
  throw "Incorrect version string";
V1 = new Number(RegExp.$1);
V2 = new Number(RegExp.$2);
V3 = new Number(RegExp.$3);
V4 = new Number(RegExp.$4);
WScript.Echo("File Version Components: " + V1 + ", " + V2 + ", " + V3 + ", " + V4);
V4++;
VersionString = V1 + "." + V2 + "." + V3 + "." + V4;
WScript.Echo("New File Version: " + VersionString);

Image.VersionInfo.SetFileVersion(V1 * 65536 + V2, V3 * 65536 + V4);
Image.VersionInfo.SetString(0, "FileVersion", VersionString);
Image.VersionInfo.Update();
Image.EndUpdate(false); 
```

该库基本上是[`BeginUpdateResource`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms648030%28v=vs.85%29.aspx)函数和朋友的包装器，为您提供自动化接口，不仅可以修补数字，还可以修补其他版本信息组件、字符串、位图。

# php - 动态路由

> ID：14378799
> 
> 赞同：0
> 
> 时间：2013-01-17T12:10:52.430
> 
> 标签：php, laravel

我希望能够根据从 uri 收集的数据选择控制器。

我有一个类别表和一个子类别表。基本上我有一个以下格式的 URL `(:any)/(:any)`。第一个通配符是城市蛞蝓（即爱丁堡），第二个通配符将是一个类别或子类别的蛞蝓。

因此，在我的路线中，我使用该路线搜索类别，如果找到，我想使用控制器：forsale 和方法：get_category。如果它不是一个类别，我会查找子类别，如果我在那里找到它，我想使用控制器：forsale 和方法：get_subcategory。如果它不是子类别，我想继续寻找其他路线。

```
Route::get('(:any)/(:any)', array('as'=>'city_category', function($city_slug, $category_slug){
    // is it a category?
    $category = Category::where_slug($category_slug)->first();
    if($category) {    
        // redirect to controller/method
    } 

    // is it a subcategory?
    $subcategory = Subcategory::where_slug($category_slug)->first();
    if($subcategory) {
        // redirect to controller/method
    }
    // continue looking for other routes
})); 
```

首先，我不确定如何在没有实际重定向的情况下在这里调用控制器/方法（从而再次更改 url）。

其次，这甚至是最好的方法吗？我开始使用`/city_slug/category_slug/subcategory_slug`. 但我只想展示`city_slug/category|subcategory_slug`，但我需要一种方法来判断第二个蛞蝓是哪一个。

最后，(:any)/(:any) 后面可能还有其他正在使用的 URL，所以我需要它才能继续寻找其他路由。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:34:04.000

按顺序回答您的问题： 1.您可以使用单个操作并基于第二个 slug（类别或子类别），
而不是使用不同的 's，呈现不同的视图（尽管我不喜欢这种方法，请参阅 #2`controller#action`和#3）：

```
public class Forsale_Controller extends Base_Controller {
  public function get_products($city, $category_slug) {
    $category = Category::where_slug($category_slug)->first();
    if($category) {    
      // Do whatever you want to do!
      return View::make('forsale.category')->with(/* pass in your data */);
    }

    $subcategory = Subcategory::where_slug($category_slug)->first();
    if($subcategory) {
      // Do whatever you want to do!
      return View::make('forsale.sub_category')->with(/* pass in your data */);
    }
  }
} 
```

2.我觉得`/city_slug/category_slug/subcategory_slug`比你的方法好多了！你应该和这个一起去！！
3\. 同样，你应该修改你的路线。我总是试图让我的路线不会让我感到困惑，Laravel 也不会！类似`/products/city/category/subcategory`的东西更清楚！

希望它有所帮助（我的代码更像是一个伪代码，它没有经过测试）！

# jquery - 设置 .height() 嵌套 jquery 在 IE 中永久使用，但不是 chrome

> ID：14378808
> 
> 赞同：0
> 
> 时间：2013-01-17T12:11:27.000
> 
> 标签：jquery, performance, cross-browser

我有一些在 chrome 中运行的 jquery，但 IE 一直在阻塞它。我有一个带有一些静态列的表，这些列通过绝对定位是静态的。我想确保它们与父行垂直扩展，所以我有这段代码来扩展它们。它有效，但在 IE 中需要 FOREVER。**我可以改变什么来提高 IE 的性能？**

```
 $("#grdSchedule tr").each(function(i){
        $(this).find(".stickyCol").height($(this).height());
    }); 
```

**编辑： .height() 是问题**

这是我迄今为止尝试过的，但它根本没有多大帮助。

```
 var stickyCols = GetStickyColumnCount();

    $("#grdSchedule > tbody > tr").each(function(i) {
        thisRow = $(this);
        thisRow.children().slice(0, stickyCols).height(thisRow.height());
        //thisRow.children(".stickyCol").height(thisRow.height());
    }); 
```

似乎每次调用 height() 都是在 IE 中拖累它。我将提出一个新问题，可能需要一些 css 帮助，所以我不需要首先运行这个脚本。但是，如果有人可以在 IE 中添加任何东西来加快速度，那就太棒了！

万一有人想知道，对于我的大而丑陋的生产数据网格，chrome 的运行时间大约为 2.5 秒，而 IE 大约需要 20 秒。

我想也许我应该尝试用css而不是javascript来解决这个问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:18:45.113

尝试这个，

```
$("#grdSchedule tr .stickyCol").height(function(i,height){
    return $(this).closest('tr').height();
}); 
```

# regex - 是否可以有一个与多个表达式匹配的正则表达式？

> ID：14378811
> 
> 赞同：1
> 
> 时间：2013-01-17T12:11:39.950
> 
> 标签：regex

我有一个允许采用多种格式的日期：

```
24-01-12
january 24 2013
etc 
```

有没有办法使用管道或其他方法将 2 个或多个不同的正则表达式组合成一个？我试过嵌套括号，但这当然不起作用：

```
[regex | regex] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:14:24.403

是的，试试这个：

```
(\d\d-\d\d-\d\d)|([a-z]*)

// So basically:
(regex)|(regex) 
```

这匹配所有单词，以及第一行中的日期。
（`(?:regex)`如果您想要非捕获组，而不是捕获组，请使用。）

如果您确实将您的正则表达式放在 中`[]`，那么这就是问题所在。

# javascript - CORS preflight OPTIONS 请求返回错误，但仍在发送 POST

> ID：14378813
> 
> 赞同：1
> 
> 时间：2013-01-17T12:11:41.133
> 
> 标签：javascript, ajax, post, cross-domain, cors

我正在使用 jQuery ajax 从我的站点向 asmx 服务发出跨域请求，如下所示：

```
$j.ajax({
  url: svcURL,
  type: "POST",
  data: xml,
  contentType: "text/xml",
  dataType: "text",
  success: function(d) {
    alert(d);
  },
  error: function(a, b, c) {
    alert("error");
  }
}); 
```

此`POST`请求之前是一个预检`OPTIONS`请求，该服务当前未配置为处理该请求，因此它返回 a`500 (Internal Server Error)`或 a `405 (Method Not Allowed)`。

收到此错误后，我希望浏览器忽略该`POST`请求并返回错误，但是：

**在 Chrome 和 IE**中，`POST`请求仍然被发送（服务被正确配置为处理）并收到响应。

**在 Firefox**中，`POST`只是返回一个错误。

有人可以解释为什么这在 Chrome 中有效吗？我本来希望它表现得像 Firefox 那样。

感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T19:51:11.497

[Chrome](https://code.google.com/p/chromium/issues/detail?id=139566)和[WebKit](https://bugs.webkit.org/show_bug.cgi?id=92755)中存在一个错误，即使`OPTIONS`请求失败也会发送后续请求。

Firefox 正确遵循 CORS 规范，并在预检失败后取消请求。

# java - Android 应用程序，复制到剪贴板，将网页右侧的文本剪辑到右侧

> ID：14378816
> 
> 赞同：1
> 
> 时间：2013-01-17T12:11:52.970
> 
> 标签：java, android, eclipse, webview, copy-paste

我开发了一个包含智能手机的 html 文档资产的应用程序（480dps 宽）。这些包含我希望用户复制练习的长文本链接（并粘贴到应用程序中）。我注意到当用户尝试复制块时，网页上不可见且不换行的文本被忽略。为了测试这一点，我制作了这段文字

```
GRAB START<BR>
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z<BR>
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z<BR>
A.B.C.D.E.F.G.H.I.J.K.L.M.N.O.P.Q.R.S.T.U.V.W.X.Y.Z<BR>
A.B.C.D.E.F.G.H.I.J.K.L.M.N.O.P.Q.R.S.T.U.V.W.X.Y.Z<BR>
GRAB END<BR> 
```

（无法显示图片因为我是这个网站的新手）前两行换行。最后两行不换行，webview 中只有 A 到 W 可见。当用户使用长按并将复制标记从 GRAB START 移动到 GRAB END 时，我在剪辑缓冲区中得到以下内容（发送到 Eclipse 日志控制台）：

01-17 11:47:06.963: D/clipBoard(6470): 抓取开始 ABCDEFGHIJKLMNOPQRSTU VWXYZABCDEFGHIJKLMNOP QRSTUVWXYZ ABCDEFGHIJKLMNOPQRSTU.VW ABCDEFGHIJKLMNOPQRSTU.VW 抓取结束

“.XYZ”从最后两行中删除。这出乎所有人的意料。我无法重新格式化/重新键入所有资产 html 文件以查看哪些行需要空格或换行符，只是为了使长夹头包裹并变得可见。

我正在使用基本的 webview 意图。我有垂直滚动但没有水平滚动。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
<WebView  xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/webview"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"/>
</LinearLayout> 
```

我在 html 文件中有这两个元标记

```
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;"> 
```

任何解决方法，修复，我应该做的事情？

# iphone - 检查导航堆栈上的 ViewController 是否存在

> ID：14378817
> 
> 赞同：7
> 
> 时间：2013-01-17T12:11:56.103
> 
> 标签：iphone, ios, objective-c, cocoa-touch, uinavigationcontroller

我在这里有这段代码来检查`ViewController`. 不幸的是，它不起作用。问题是，它是*在*另一个 VC 从以下位置弹出时执行的`Navigation Stack`：

```
- (void) leftViewDidHide{
    if ([((AppDelegate *)[UIApplication sharedApplication].delegate).frontViewController.navigationController.viewControllers objectAtIndex:1]) {
    SGServerListViewController *sample = [[[((AppDelegate *)[UIApplication sharedApplication].delegate).frontViewController.navigationController.viewControllers objectAtIndex:1]childViewControllers] objectAtIndex:0];
    [sample.serverTableView setUserInteractionEnabled:YES];
    }
} 
```

该应用程序崩溃并出现异常断点，将我指向带有`if`语句的行。关于这里可能有什么问题的任何想法？我只是想检查它`VC`是否存在以及是否存在 - 执行代码。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-17T12:32:22.723

```
NSArray *viewControlles = [self.navigationController.viewControllers];

for (int i = 0 ; i <viewControlles.count; i++){ 
  if ([YourVC isKindOfClass:[viewControlles objectAtIndex:i]]) {
          //Execute your code
      }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-18T09:31:02.390

```
 NSArray *controllerArray = [self.navigationController.viewControllers];
//will get all the controllers added to UINavigationController.

    for (id controller in controllerArray)
   { 
      // iterate through the array and check for your controller
      if ([controller isKindOfClass:[checkYourController class]]) 
          {
              //do your stuff here
          }
    } 
```

只是为了一个想法类的`containsObject:`方法`NSArray`也可能有效。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-12-23T17:19:23.380

```
-(BOOL)isControllerAlreadyOnNavigationControllerStack{

    for (UIViewController *vc in self.navigationController.viewControllers) {
        if ([vc isKindOfClass:Controller.class]) {
            [self.navigationController popToViewController:vc animated:NO];
            return YES;
        }
    }
    return NO;
}

if (![self isControllerAlreadyOnNavigationControllerStack]) {
    //push controller 
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-17T12:24:07.663

```
- (void) leftViewDidHide{

if ([((AppDelegate *)[UIApplication sharedApplication].delegate).frontViewController.navigationController.viewControllers count] == 1) {

         SGServerListViewController *sample = [[[((AppDelegate *)[UIApplication sharedApplication].delegate).frontViewController.navigationController.viewControllers objectAtIndex:1]childViewControllers] objectAtIndex:0];
         [sample.serverTableView setUserInteractionEnabled:YES];

     }
 } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-07-14T06:22:46.547

您可以使用以下代码执行此操作（检查导航堆栈上的 ViewController 是否存在）：

```
if navigationController?.viewControllers.count > 1 {
    for root in (self.navigationController?.viewControllers)! {
        if root is ViewController {
           let i = root as? ViewController
            i?.table.removeFromSuperview()
        }
    }
}
self.navigationController?.popToRootViewControllerAnimated(true) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-12-22T19:47:34.890

```
NSArray *viewControlles = self.navigationController.viewControllers;

for (int i = 0 ; i <viewControlles.count; i++){
    if ([[viewControlles objectAtIndex:i] isKindOfClass:[RequiredViewController class]]) {

        //Enter your code

    }
} 
```

# java - 使用泛型将 x 元素从地图复制到另一个地图

> ID：14378821
> 
> 赞同：1
> 
> 时间：2013-01-17T12:11:59.513
> 
> 标签：java, generics

我搜索了一种将 x 元素从地图复制到另一个的方法。我试过这段代码

```
private void newMapElement( Map<?, ?> userMap, Map<?, ?> newUserMap, int maxSize)
{
    int i = 0;
    for ( Map.Entry<?, ?> entry : userMap.entrySet() )
    {
        newUserMap.put( entry.getKey(), entry.getValue() );
            i++;
            if ( i == maxSize)
            {
                break;
            }
    }
} 
```

但java似乎不喜欢put。

任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:15:39.863

您必须将**newUserMap**`? super T`用作带有 super(wildcards with upperbounds) 的通配符将允许您将元素添加到地图中，您的代码应如下所示：

 **```
private <T> void newMapElement( Map<? extends T, ? extends T> userMap, Map<? super T, ? super T> newUserMap, int maxSize)
{
    int i = 0;
    for ( Map.Entry<? extends T, ? extends T> entry : userMap.entrySet() )
    {
        newUserMap.put( entry.getKey(), entry.getValue() );
            i++;
            if ( i == maxSize)
            {
                break;
            }
    }
} 
```**

# sql-server-2008 - 如何在 sql server 2008 中获取 MMM dd yyyy hh:mm:ss 格式

> ID：14378822
> 
> 赞同：1
> 
> 时间：2013-01-17T12:11:59.317
> 
> 标签：sql-server-2008, datetime

我想将日期时间设为**Jan 17 2013 4:34:59**，时间为 24 小时格式

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:19:53.167

```
SELECT CONVERT(VARCHAR(12), SYSDATETIME(), 107) +' '+ CONVERT(VARCHAR(12), SYSDATETIME(), 108) AS [Mon DD, YYYY] 
```

# ruby-on-rails - 如何使用 Cron 在 Rails 中运行以下代码？

> ID：14378824
> 
> 赞同：1
> 
> 时间：2013-01-17T12:12:06.063
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在查看 railscast [http://railscasts.com/episodes/168-feed-parsing?view=asciicast](http://railscasts.com/episodes/168-feed-parsing?view=asciicast)，作者通过输入栏通过 rails 控制台将 rss 提要拉到数据库中

```
FeedEntry.update_from_feed("http://asciicasts.com/episodes.xml") 
```

现在这是第一次正常工作，但如何每​​ 24 小时执行一次？如何在这里使用 cron ？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:17:51.570

尝试使用`whenever` [gem](https://github.com/javan/whenever)来简化任务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:25:59.723

您可以`whenever`像@dimuch 所说的那样使用 gem，也可以使用以下命令运行 cron：

```
$ rails runner 'FeedEntry.update_from_feed("http://asciicasts.com/episodes.xml")' 
```

# objective-c - 在目标 c 变量中“存储”单个字节的最佳方法

> ID：14378827
> 
> 赞同：0
> 
> 时间：2013-01-17T12:12:07.100
> 
> 标签：objective-c, byte, bits

我需要在目标 c 中存储单个字节。所以我可能有一个这样的类接口：

```
@interface NAD : NSObject

@property (...) ... byte;

@end 
```

我从`uint8_t`指针开始，但这变得越来越困难，因为它们实际上是 4 个字节，或者其他东西。

所以我转而使用`NSData`. 但是`NSData`以“字节”（复数）进行交易。这不一定是一个问题，但是必须一直在两者之间进行转换。

那么有没有更好的方法在目标 c 变量中存储 1 个字节（8 位）？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:14:58.973

为什么`uint8_t *`而不是简单地`uint8_t`？

```
@property (assign) uint8_t byte; 
```

要将其包装到 NSData 对象中：

```
uint8_t b = object.byte;
NSData *d = [NSData dataWithBytes:&b length:1]; 
```

# c# - 如何找到循环的最后一次执行while（dr.Read（））？

> ID：14378829
> 
> 赞同：3
> 
> 时间：2013-01-17T12:12:10.660
> 
> 标签：c#, asp.net

看看下面的while循环。

```
SqlDataReader dr;

while (dr.Read())
{

Response.Write("insert into test values(N'"+dr[0]+"', N'"+dr[1]+"'),<br>");

} 
```

我只是在最后（在那之前
）用逗号打印一些东西。但是最后一次打印时，我不想要那个逗号。如何找出这个循环是最后一次执行？这样我就可以通过修改它来避免打印这个逗号。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:16:55.943

我会稍微重组它。在你的读者面前，实例化一个错误的布尔值。在您第一次阅读后将其设置为 true。然后，在您阅读的代码中，添加如果为真，添加逗号和中断到上一行。那你就不用担心是不是最后一行了，因为不会有下一行加逗号和换行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:13:48.040

不完全确定您到底需要什么，但基于：

> 但是最后一次打印时，我不想要那个逗号。

退出循环后可以使用[string.TrimEnd 。](http://msdn.microsoft.com/en-us/library/system.string.trimend.aspx)

```
string str = yourstring.TrimEnd(','); 
```

如果您的字符串末尾有逗号，它将删除它，如果没有，它将保留字符串原样。

编辑：错过了 Respose.Write 部分。

您可以在 while 循环中构建一个字符串，然后使用`string.TrimEnd`并稍后`Response.Write`与新字符串一起使用。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-17T12:17:40.977

一般来说，不知道您是否处于 while 循环的最后一次迭代中是不可能的。您可以使用[loop-and-a-half](http://www.cs.duke.edu/~ola/patterns/plopd/loops.html#loop-and-a-half)，其中不是最后一次，但循环的第一次运行是不同的，如下所示：

```
SqlDataReader dr = ...;

if (dr.Read())
{
  //no comma
  Response.Write("insert into test values(N'"+dr[0]+"', N'"+dr[1]+"')");
}

while (dr.Read())
{
  //put in a comma / break for the previous item
  Response.Write(",<br>insert into test values(N'"+dr[0]+"', N'"+dr[1]+"')");
} 
```

但是，最好只使用 a`StringBuilder`在内存中构造字符串，然后`Response.Write`一次完成，如下所示：

```
StringBuilder sb = new StringBuilder();    
while (dr.Read())
{
  //put in a comma / break for the previous item
  sb.Append("insert into test values(N'"+dr[0]+"', N'"+dr[1]+"'),<br>");
}
sb.Remove(sb.Length-5,5); // remove the last ,<br>

Response.Write(sb.ToString()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T12:14:20.000

您可以使用[`TrimEnd`](http://msdn.microsoft.com/en-us/library/system.string.trimend.aspx)删除最后一个逗号的方法。

> 从当前 String 对象中删除数组中指定的一组字符的所有尾随出现

```
str.TrimEnd(','); 
```

您应该遵循与这些类似的说明；

```
string str = null;
while (dr.Read())
{

str += "insert into test values(N'"+dr[0]+"', N'"+dr[1]+"'),<br>";

}

str = str.TrimEnd(',');
Response.Write(str); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-17T12:35:07.360

```
SqlDataReader dr;

while (dr.Read())
{

Response.Write("insert into test values(N'"+dr[0]+"', N'"+dr[1]+"'),<br>");

} 
```

不要使用 Respose.Write，而是将字符串放在这样的变量中

```
while (dr.Read())
    {

   string yourstring =  "insert into test values(N'"+dr[0]+"', N'"+dr[1]+"'),<br>";

    } 
```

并且在循环之后您可以使用

```
string str = yourstring.Substring(0, yourstring.Length - 1); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-17T12:20:41.727

恐怕你需要一个变量！

```
 bool first=true;
        while (dr.Read())
        {
            if (first) first = false;
            else Response.Write(",<br>");
            Response.Write("insert into test values(N'" + dr[0] + "', N'" + dr[1] + "')");

        } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-17T12:49:42.830

```
 int i = 0;
    while (dr.Read())
    {
        if (i != 0)
        {
            Response.Write(",<br>");
        }
        Response.Write("insert into test values(N'" + dr[0] + "', N'" + dr[1] + "')");
        i++;
    } 
```

**它解决了我的问题。**@SWeko 的解决方案也很有效。非常感谢你们的帮助。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-17T12:27:21.457

试试这样...它会帮助你..

```
SqlDataReader dr;

DataTable dt = new DataTable();

dt.Load(dr);

int _RowCount = dt.Rows.Count;

int inc = 0 ; 

while (dr.Read())
{

inc = inc + 1;

if(inc==_RowCount)

//Without Comma

else

//With Comma

} 
```

# ruby-on-rails - 如何组合重复的 Rails 对象并更新所有引用

> ID：14378835
> 
> 赞同：0
> 
> 时间：2013-01-17T12:12:54.393
> 
> 标签：ruby-on-rails, duplicates

我正在开发一个 Rails 应用程序（Ruby 1.9.2 / Rails 3.0.3），它会随着时间的推移跟踪人员及其在不同团队中的成员身份。我无法想出一种可扩展的方式来组合重复的 Person 对象。通过“组合”，我的意思是删除除一个重复的 Person 对象之外的所有对象，并更新所有引用以指向该 Person 的剩余副本。这是一些代码：

**楷模：**

人物.rb

```
class Person < ActiveRecord::Base
  has_many :rostered_people, :dependent => :destroy
  has_many :rosters, :through => :rostered_people
  has_many :crews, :through => :rosters

    def crew(year = Time.now.year)
      all_rosters = RosteredPerson.find_all_by_person_id(id).collect {|t| t.roster_id}
      r = Roster.find_by_id_and_year(all_rosters, year)
      r and r.crew
    end
end 
```

船员.rb

```
class Crew < ActiveRecord::Base
  has_many :rosters
  has_many :people, :through => :rosters
end 
```

名册.rb

```
class Roster < ActiveRecord::Base
  has_many :rostered_people, :dependent => :destroy
  has_many :people, :through => :rostered_people
  belongs_to :crew
end 
```

RosteredPerson.rb

```
class RosteredPerson < ActiveRecord::Base
  belongs_to :roster
  belongs_to :person
end 
```

`Person`可以仅使用名字和姓氏创建对象，但它们有一个真正唯一的字段，称为`iqcs_num`（将其视为社会安全号码），可以选择将其存储在`create`或`update`操作中。

因此，在`create`and`update`操作中，我想实现对重复的 Person 对象的检查，删除重复的对象，然后更新所有的`crew`and`roster`引用以指向剩余的`Person`.

`.update_all`在每种型号上使用是否安全？这似乎是一种蛮力，特别是因为我将来可能会添加更多依赖于 Person 的模型，而且我不想记住维护 find_duplicate 函数。

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T16:32:31.840

处理此问题的“可扩展”方法是使重复数据删除过程成为应用程序正常功能的一部分 - 每当您保存记录时，请确保它不是重复的。您可以通过向Person 模型添加[回调来做到这一点。](http://guides.rubyonrails.org/active_record_validations_callbacks.html)也许是这样的：

```
before_save :check_for_duplicate

def check_for_duplicate
  if iqcs_num
    dup = Person.find_by_iqcs_num(self.iqcs_num)
    if dup && dup.id != self.id
      # move associated objects to existing record
      dup.crews = dup.crews + self.crews

      # update existing record
      dup.update_attributes(:name => self.name, :other_field => self.other_field)

      # delete this record
      self.destroy

      # return false, so that no other callbacks get triggered
      return false
    end
  end
end 
```

您需要确保在 iqcs_num 列上为存储 Person 对象的表建立索引，以便随着记录数量的增长，此查找保持高效 - 毕竟每次更新 Person 记录时都会执行此查找.

我不知道您是否可以不让回调保持最新 - 完全有可能必须以不同方式移动不同类型的关联对象。另一方面，它只存在于一个地方，而且无论如何您都将在同一个地方添加关联 - 在模型中。

最后，为了确保您的代码正常工作，您可能需要在 Person 模型上添加一个验证，以防止重复存在。就像是：

```
validates :iqcs_num, :uniqueness => true, :allow_nil => true 
```

# ios - 来自 UIImagePickerController 的图像版本错误

> ID：14378837
> 
> 赞同：0
> 
> 时间：2013-01-17T12:13:04.627
> 
> 标签：ios, uiimagepickercontroller

UIImagePickerController 组件有问题。目前在我的应用程序中，用户可以使用选择器从保存的照片库中选择图像，没有问题。

但是，如果我在选择图像之前*在 Photos.app 中*`UIImagePickerControllerOriginalImage`裁剪并保存照片，UIImagePickerController 会在字典键中为我提供原始未裁剪的版本。

我知道`UIImagePickerControllerEditedImage`在选择器内完成裁剪时有效，但是在照片应用程序中完成时，此键返回 nil。

所以我的问题是，如何访问正确版本的图像（无需使用 ALAssetLibrary 滚动我自己的选择器）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:58:25.533

解决方案很简单；我正在使用`UIImagePickerControllerSourceTypeSavedPhotosAlbum`而不是`UIImagePickerControllerSourceTypePhotoLibrary`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:29:12.487

What is your

```
-(void)imagePickerController:(UIImagePickerController *)pickr didFinishPickingMediaWithInfo; 
```

method like?

Have you tried to do something like

```
-(void)imagePickerController:(UIImagePickerController *)pickr didFinishPickingMediaWithInfo:(NSDictionary *)info{
    UIImage *image = [info objectForKey:UIImagePickerControllerEditedImage];
    [myImageView setImage:image];
    [pickr dismissModalViewControllerAnimated:YES];
} 
```

(in the example it's `UIImagePickerControllerEditedImage`, don't know if you set YES to your picker `allowEditing`)

# ios - iOS 的印地语语音识别

> ID：14378841
> 
> 赞同：1
> 
> 时间：2013-01-17T12:13:13.503
> 
> 标签：ios, speech-recognition

是否有任何 API/SDK 支持印地语语音识别？它可以是 Web API 或 iOS 的 SDK。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T17:03:45.873

Microsoft 使用 System.Speech.Recognition 提供了英语语言的语音 API；但是没有专门用于印地语识别的语音 API。

# node.js - node.js 的构建/自动化部署工具建议

> ID：14378842
> 
> 赞同：2
> 
> 时间：2013-01-17T12:13:14.190
> 
> 标签：node.js, deployment, build

我目前正在尝试为我们基于 node.js 的系统设置自动部署。我一直在做大量的研究，但没有什么能真正成为我想要做的自动化工具的明显选择，可以概括为：

*   将代码从中央 Mercurial 存储库拉入 build-server 构建目录。
*   Concat/Minify 相关的客户端 JS
*   对于每个服务器：
    *   SSH进入盒子
    *   通过 SSH（SCP 或其他）复制相关文件（不同服务器角色的不同代码）
    *   重启相关进程。

我可能会使用[Jenkins](http://jenkins-ci.org/)对此进行高级管理，但我尚未决定使用什么工具来实际编写工作脚本。

它不一定是基于 JS 的构建脚本，但这是一种选择（尽管我并不完全相信 JS 是适合这些东西的语言）。可以使用 Python 或 Bash 风格的解决方案。

什么是能够完成上述任务的明智/稳健的选择？

谢谢！

更新：对不起，我之前没有提到，但理想情况下，我希望构建任务在中央构建/部署服务器上运行，而不是在开发机器上本地运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T13:28:29.453

现在我使用[Capistrano](https://github.com/capistrano/capistrano/wiki)来满足我所有的部署需求。无论是 PHP、Ruby 还是 Node。

几乎所有情况都有食谱，但有了经验，很容易建立自己的食谱。您可以将自己的命令与部署过程中的某些事件挂钩。

Capistrano 使用 SSH 访问生产或登台服务器并远程发出命令。

以下是 node.js 的一些食谱（但我没有尝试过）：

[https://github.com/loopj/capistrano-node-deploy](https://github.com/loopj/capistrano-node-deploy)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T13:33:19.293

如果将来它对用户有任何价值，我最终选择了[Fabric](http://docs.fabfile.org)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T15:23:27.103

如果您坚持使用自己的服务器来托管应用程序，则始终可以使用[grunt.js](http://gruntjs.com/)进行自动化。您可以为其编写自定义任务并做任何您想做的事情，或者在社区中为提到的案例找到一些。我相信缩小等已经存在。

不过，作为个人建议，我可以说我很高兴在[NodeJits](http://nodejitsu.com/)（付费服务）上托管我的节点应用程序。他们提供了一个通过 npm 安装的命令行实用程序，它可以将您的代码复制到他们的云中，进行快照并自动启动应用程序。这是我做过的最简单的部署方案。

# java - bin/hive 给出错误问题

> ID：14378843
> 
> 赞同：1
> 
> 时间：2013-01-17T12:13:17.677
> 
> 标签：java, hive

我已经使用源安装了配置单元并运行了 ant 包。

根据**cwiki.apache.org**文档，我还添加了`PATH`var 即`$HIVE_HOME`，`$PATH`但从基本目录（bin/hive 或 hive）运行命令

它给出以下错误。我添加了补丁（**HIVE-3606.1.patch**）来解决它，但它仍然无法正常工作。

添加补丁的命令：

```
hive-0.10.0-bin]$ patch -p0 < ~/Downloads/HIVE-3606.1.patch 
```

要运行 Hive：

```
hive-0.10.0-bin]$ bin/hive

Exception in thread "main" java.lang.NoSuchFieldError: ALLOW_UNQUOTED_CONTROL_CHARS
    at org.apache.hadoop.hive.ql.udf.generic.GenericUDTFJSONTuple.<clinit>(GenericUDTFJSONTuple.java:59)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
    at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:113)
    at org.apache.hadoop.hive.ql.exec.FunctionRegistry.registerGenericUDTF(FunctionRegistry.java:545)
    at org.apache.hadoop.hive.ql.exec.FunctionRegistry.registerGenericUDTF(FunctionRegistry.java:539)
    at org.apache.hadoop.hive.ql.exec.FunctionRegistry.<clinit>(FunctionRegistry.java:472)
    at org.apache.hadoop.hive.ql.session.SessionState.<init>(SessionState.java:202)
    at org.apache.hadoop.hive.cli.CliSessionState.<init>(CliSessionState.java:86)
    at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:635)
    at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:613)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.hadoop.util.RunJar.main(RunJar.java:156) 
```

有人可以在这里帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-20T13:16:26.740

这很可能是因为您的 Hadoop 使用了与 Hive 不同（旧）版本的 Jackson 库。作为一种快速的解决方法，您可以替换`jackson-core-asl-X-X-X.jar`并`jackson-mapper-asl-X.X.X.jar`使用`$HADOOP_HOME/lib`较新的`$HIVE_HOME/lib`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-31T07:18:28.687

这是因为您使用的是旧版本的 Hadoop。

如果您有 Hadoop，最好使用以下命令自己编译源代码以用于旧版本的 Hadoop：

```
$ svn co http://svn.apache.org/repos/asf/hive/trunk hive
$ cd hive
$ mvn clean install -Phadoop-2,dist 
```

检查此链接以获取更多信息：[https ://cwiki.apache.org/confluence/display/Hive/GettingStarted](https://cwiki.apache.org/confluence/display/Hive/GettingStarted)

然后，更改 $HADOOP_HOME/lib 中的 jackson* 文件名并为它们添加一个 .old 后缀（最好不要删除它们，因为我们将来可能需要它们）：

```
$ mv jackson-core-asl-1.0.1.jar  jackson-core-asl-1.0.1.jar.old
$ mv jackson-mapper-asl-1.0.1.jar jackson-mapper-asl-1.0.1.jar.old 
```

您可以在 Hive 的打包文件夹周围的某处找到新的 jackson 编译文件，我的位于：

```
packaging/target/apache-hive-0.14.0-SNAPSHOT-bin/apache-hive-0.14.0-SNAPSHOT/bin/hcatalog/share/webhcat/svr/lib 
```

如果找不到，没关系。在您的配置单元目录中使用以下命令。

```
$ find ./ -iname "*jackson*" 
```

它将向您显示它可以找到的所有 jackson* 文件。然后转到包含它们的特定文件夹并将它们全部复制到 $HADOOP_HOME/lib （目前我们可能只需要“jackson-core-*”，但我们复制所有以供将来使用）：

```
$ cp jackson* $HADOOP_HOME/lib 
```

询问您是否有更多查询。

# bash - Bash：范围列表，如 ab,C,k,mn,xy,z

> ID：14378847
> 
> 赞同：2
> 
> 时间：2013-01-17T12:13:32.570
> 
> 标签：bash, list, range

如何获取要解析/扩展的范围列表参数，例如“1-6,8,15-20,23,25-28,30”（到“1 2 3 4 5 6 8 15 16 17 18 19 20 23 25 26 27 28 30") 与 bash？如果 bash 不起作用，可以考虑使用其他一些普遍可用的 Linux shell。

用例：我有一个脚本需要对给定的 ID 执行某些操作，并且能够一次性处理“各种”ID 列表/范围会非常好。现在我的脚本只需要一个 ID 范围参数 AB，所以如果我的 ID 列表不是一个单一的连续范围，我需要使用不同的范围参数多次运行脚本（例如“AB，XY”变成两次运行，首先是“AB”然后是“XY”）。

list 参数的简短规范： - 一个列表是一个范围，或多个以逗号分隔的范围（也可以是其他分隔符） - 一个范围是 AB（A 小于 B），或单个数字 X（特殊情况 A=B ) - 这是数字/整数范围/列表，因此列表中可能的字符是 0-9、“-”和“,”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:46:42.360

```
suku@ubuntu-vm:~$ echo {1..6} 8 {15..20} 23 {25..28} 30
1 2 3 4 5 6 8 15 16 17 18 19 20 23 25 26 27 28 30 
```

确保您在每个参数之间放置了空格。

**仅供参考：**这称为使用范围的大括号扩展。

我正在使用 bash 4.2.37

```
suku@ubuntu-vm:~$ bash --version
GNU bash, version 4.2.37(1)-release (x86_64-pc-linux-gnu)
Copyright (C) 2011 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>

This is free software; you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law. 
```

更多阅读`Brace Expansion`请点[我](http://wiki.bash-hackers.org/syntax/expansion/brace)

**编辑：**

您也可以使用变量替换：

```
suku@ubuntu-vm:~$ A=1;F=6;H=8;eval echo {$A..$F} $H {15..20} 23 {25..28} 30
1 2 3 4 5 6 8 15 16 17 18 19 20 23 25 26 27 28 30 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:24:01.073

一个简单的解决方案是使用[`seq`](http://linux.die.net/man/1/seq). 如果范围由空格分隔，则可以使用 for 循环

```
for range; do
    case "$range" in
    *-*) for id in $(seq $(echo $range | sed -e 's/-/ /')); do
             do_something $id
         done
         ;;
    *) do_something $range ;;
    esac
done 
```

您可以将其称为

```
bash ranges.sh 1-6 8 15-20 23 25-28 30 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T14:02:23.953

这是一个`bash`函数，它使用参数扩展、`read`命令和`seq`命令来解析和扩展您提供的格式的字符串。

```
parse_range () {
    for range in ${1//,/ }; do
        IFS=- read a b <<< "$range"
        b=${b:-$a}
        seq $a $b
    done
}

for i in $(parse_range 1-6,8,15-20,23,25-28,30); do
    echo $i
done 
```

# c# - 要加密的数据长度无效

> ID：14378854
> 
> 赞同：1
> 
> 时间：2013-01-17T12:13:58.207
> 
> 标签：c#

获取异常“加密的数据长度无效”。

```
private static readonly byte[] salt = Encoding.ASCII.GetBytes("S@sh@kt@ VMS");

public static string Encrypt(string textToEncrypt, string encryptionPassword)
{
    byte[] encryptedBytes = null;
    try
    {
        var algorithm = GetAlgorithm(encryptionPassword);
        algorithm.Padding = PaddingMode.None;
        using (ICryptoTransform encryptor = algorithm.CreateEncryptor(algorithm.Key, algorithm.IV))
        {
            byte[] bytesToEncrypt = Encoding.UTF8.GetBytes(textToEncrypt);
            encryptedBytes = InMemoryCrypt(bytesToEncrypt, encryptor);
        }
    }
    catch (Exception ex)
    {
        MessageBox.Show(ex.Message);
    }
    return Convert.ToBase64String(encryptedBytes);
}

 // Performs an in-memory encrypt/decrypt transformation on a byte array.

private static byte[] InMemoryCrypt(byte[] data, ICryptoTransform transform)
{
    MemoryStream memory = new MemoryStream();
    using (Stream stream = new CryptoStream(memory, transform, CryptoStreamMode.Write))
    {
        stream.Flush();
        stream.Write(data, 0, data.Length);
        //stream.FlushFinalBlock();
    }
    return memory.ToArray();
}

private static RijndaelManaged GetAlgorithm(string encryptionPassword)
{
    // Create an encryption key from the encryptionPassword and salt.
    var key = new Rfc2898DeriveBytes(encryptionPassword, salt);
    // Declare that we are going to use the Rijndael algorithm with the key that we've just got.
    var algorithm = new RijndaelManaged();
    int bytesForKey = algorithm.KeySize/8;
    int bytesForIV = algorithm.BlockSize/8;
    algorithm.Key = key.GetBytes(bytesForKey);
    algorithm.IV = key.GetBytes(bytesForIV);
    return algorithm;
} 
```

解密程序是：

```
public static string Decrypt(string encryptedText, string encryptionPassword)
{
    var algorithm = GetAlgorithm(encryptionPassword);
    algorithm.Padding = PaddingMode.PKCS7; 
    byte[] descryptedBytes;
    using (ICryptoTransform decryptor = algorithm.CreateDecryptor(algorithm.Key, algorithm.IV))
    {
        byte[] encryptedBytes = Convert.FromBase64String(encryptedText);
        descryptedBytes = InMemoryCrypt(encryptedBytes, decryptor);
    } 
    return Encoding.UTF8.GetString(descryptedBytes); 
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T12:24:30.767

`PaddingMode.None`要求输入是块大小的倍数。使用像`PaddingMode.PKCS7`instread 这样的想法。

* * *

您的代码的其他一些问题：

1.  常数不能成为好盐
2.  恒定盐以及从密码中确定性推导 IV 意味着您正在重用 (Key, IV) 对，这不应该这样做
3.  您不添加身份验证/某种 MAC。这通常会导致填充预言或类似的攻击
4.  您从 PBKDF2 输出中阅读了更多本机大小。这将您的密钥派生速度减半，而不会减慢攻击者的速度。

# android - ListView 项目背景颜色

> ID：14378858
> 
> 赞同：2
> 
> 时间：2013-01-17T12:14:13.333
> 
> 标签：android, android-listview, listviewitem

我有一个 ListView ，其中每隔一个项目应该有不同的颜色（例如：白色->灰色->白色->灰色等），它最初似乎可以工作，但是一旦我开始滚动，背景色的渲染似乎失败了：另一种颜色是随机设置的，当我再次向上滚动时，这也会发生在开始颜色正确的项目上。有人可以提示我为什么会这样吗？

我在适配器中试过这个：

```
 if((position % 2) == 1) {
        layoutHolder.setBackgroundColor(getContext().getResources().getColor(R.color.light_green));
    } 
```

这在我的 ListFragment 中：

```
 private AsyncTask<Void, Void, Void> fillList = new AsyncTask<Void, Void, Void>() {

    @Override
    protected Void doInBackground(Void... params) {
        addListItems();
        return null;
    }

    @Override
    protected void onPostExecute(Void result) {
        for (int i = 1; i < getListView().getChildCount()-1; i = i+2) {
            LOGI(TAG, "for-loop " + String.valueOf(i));
            getListView().getChildAt(i).setBackgroundColor(getSherlockActivity().getResources().getColor(R.color.light_green));
        }
    }   
}; 
```

**更新：**

我做了一些日志记录并发现，如果我添加的元素多于屏幕上可见的元素并检查 ListViews 子项计数，则 ListView 仅包含最初对屏幕可见的子项，其余的似乎是滚动完成时加载/添加。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:41:12.200

在您的适配器中使用此代码..它的工作..您需要提供其他条件。

```
if ( position % 2 == 0 ){
                convertView.setBackgroundColor(Color.GREEN);
            }else{
                convertView.setBackgroundColor(Color.RED);
            } 
```

![在此处输入图像描述](../Images/fe1fd46fbac591667978455e125cb2c0.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:21:19.273

在适配器的 getView() 中试试这个

```
if((position % 2) == 1) {
                  LayoutHolder.setBackgroundColor(getContext().getResources().getColor(R.color.white));
}else{
            LayoutHolder.setBackgroundColor(getContext().getResources().getColor(R.color.gray)
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T12:22:58.087

尝试在 onPostExecute() 中添加它

```
getListView().getChildAt(i).setCacheColorHint(getSherlockActivity().getResources().getColor(R.color.light_green)); 
```

# android - 在Android中动态填充表格内容的问题

> ID：14378866
> 
> 赞同：0
> 
> 时间：2013-01-17T12:14:26.083
> 
> 标签：android, android-tablelayout

我的安卓版本是：4.2

我正在从 json 动态填充表格布局。我尝试了以下代码。但它什么也没显示。我的 Xml 包含滚动视图、表格布局和 textView。

我的 .java 代码是：

```
private class LongRunningGetIO extends AsyncTask <Void, Void, ArrayList<String>>{

    protected String getASCIIContentFromEntity(HttpEntity entity) throws IllegalStateException, IOException {
       InputStream in = entity.getContent();
         StringBuffer out = new StringBuffer();
         int n = 1;
         while (n>0) {
             byte[] b = new byte[4096];
             n =  in.read(b);
             if (n>0) out.append(new String(b, 0, n));
         }
         return out.toString();

    }

    protected ArrayList<String> doInBackground(Void... params) {
         HttpClient httpClient = new DefaultHttpClient();
         HttpContext localContext = new BasicHttpContext();
         HttpGet httpGet = new HttpGet("my URL");

         String text = null;
         String result = null;
         ArrayList<String>  title= new ArrayList<String>();
         String url="";
         String desc="";

         try {
               //HttpResponse response = httpClient.execute(httpGet, localContext);
               HttpResponse response = httpClient.execute(httpGet, localContext);
               HttpEntity entity = response.getEntity();

                   text = getASCIIContentFromEntity(entity);

                   JSONArray ja = new JSONArray(text) ;

                                int n = ja.length();
                                for (int i = 0; i < n; i++) {

                                 JSONObject jo = ja.getJSONObject(i);

                                 title.add(jo.getString("Title"));

                                 url= jo.getString("URL");
                                 desc= jo.getString("Description");    

                                }
         } catch (Exception e) {
                     e.getLocalizedMessage();
                   }

         return title;

    }   

    protected void onPostExecute(ArrayList<String> results) {
        if (results!=null) {

            Table=(TableLayout)findViewById(R.id.Table);
            TableLayout.LayoutParams tableRowParams=new TableLayout.LayoutParams 
    (TableLayout.LayoutParams.MATCH_PARENT,TableLayout.LayoutParams.MATCH_PARENT,1.0f);
                //fill the table with Table rows dynamicly
        for(int i=0;i<results.size();i++){

            TableRow TR= new TableRow(MainActivity.this);
            TR.setLayoutParams(tableRowParams);
            Table.addView(TR);

            TextView tv1 =(TextView)findViewById(R.id.textView1);

            TR.addView(tv1);

            Object objPlace[] = new Object[results.size()] ;
            objPlace = results.toArray();

            tv1.setText("");

            for (int j = 0; j < results.size(); j++){

                tv1.append("DATA:\n" + results.get(j) + "\n");

            }
            tv1.setLayoutParams(new TableLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT,1.0f));
            }
        }

    }

} 
```

原木猫是：

```
01-17 16:44:39.871: D/AndroidRuntime(292): >>>>>>>>>>>>>> AndroidRuntime START <<<<<<<<<<<<<<
01-17 16:44:39.871: D/AndroidRuntime(292): CheckJNI is ON
01-17 16:44:40.011: D/AndroidRuntime(292): --- registering native functions ---
01-17 16:44:40.791: D/dalvikvm(181): GC_EXPLICIT freed 404 objects / 23872 bytes in 128ms
01-17 16:44:41.335: D/PackageParser(59): Scanning package: /data/app/vmdl48147.tmp
01-17 16:44:41.611: I/PackageManager(59): Removing non-system package:com.example.tabledemo
01-17 16:44:41.611: I/ActivityManager(59): Force stopping package com.example.tabledemo uid=10047
01-17 16:44:41.630: I/Process(59): Sending signal. PID: 279 SIG: 9
01-17 16:44:41.671: I/UsageStats(59): Unexpected resume of com.android.launcher while already resumed in com.example.tabledemo
01-17 16:44:42.510: I/WindowManager(59): WIN DEATH: Window{44015c98 com.example.tabledemo/com.example.tabledemo.MainActivity paused=false}
01-17 16:44:42.743: D/PackageManager(59): Scanning package com.example.tabledemo
01-17 16:44:42.751: I/PackageManager(59): Package com.example.tabledemo codePath changed from /data/app/com.example.tabledemo-2.apk to /data/app/com.example.tabledemo-1.apk; Retaining data and using new
01-17 16:44:42.763: I/PackageManager(59): /data/app/com.example.tabledemo-1.apk changed; unpacking
01-17 16:44:42.781: D/installd(35): DexInv: --- BEGIN '/data/app/com.example.tabledemo-1.apk' ---
01-17 16:44:44.480: D/dalvikvm(299): DexOpt: load 212ms, verify 887ms, opt 38ms
01-17 16:44:44.541: D/installd(35): DexInv: --- END '/data/app/com.example.tabledemo-1.apk' (success) ---
01-17 16:44:44.551: W/PackageManager(59): Code path for pkg : com.example.tabledemo changing from /data/app/com.example.tabledemo-2.apk to /data/app/com.example.tabledemo-1.apk
01-17 16:44:44.551: W/PackageManager(59): Resource path for pkg : com.example.tabledemo changing from /data/app/com.example.tabledemo-2.apk to /data/app/com.example.tabledemo-1.apk
01-17 16:44:44.551: D/PackageManager(59):   Activities: com.example.tabledemo.MainActivity
01-17 16:44:44.561: I/ActivityManager(59): Force stopping package com.example.tabledemo uid=10047
01-17 16:44:44.801: I/installd(35): move /data/dalvik-cache/data@app@com.example.tabledemo-1.apk@classes.dex -> /data/dalvik-cache/data@app@com.example.tabledemo-1.apk@classes.dex
01-17 16:44:44.810: D/PackageManager(59): New package installed in /data/app/com.example.tabledemo-1.apk
01-17 16:44:45.111: I/ActivityManager(59): Force stopping package com.example.tabledemo uid=10047
01-17 16:44:45.302: D/dalvikvm(134): GC_EXPLICIT freed 1232 objects / 66128 bytes in 183ms
01-17 16:44:45.400: D/dalvikvm(59): GC_EXPLICIT freed 12477 objects / 756648 bytes in 244ms
01-17 16:44:45.760: W/RecognitionManagerService(59): no available voice recognition services found
01-17 16:44:46.180: D/dalvikvm(59): GC_EXPLICIT freed 4929 objects / 272208 bytes in 147ms
01-17 16:44:46.231: D/dalvikvm(164): GC_EXPLICIT freed 2137 objects / 108864 bytes in 716ms
01-17 16:44:46.252: I/installd(35): unlink /data/dalvik-cache/data@app@com.example.tabledemo-2.apk@classes.dex
01-17 16:44:46.270: D/AndroidRuntime(292): Shutting down VM
01-17 16:44:46.280: D/dalvikvm(292): Debugger has detached; object registry had 1 entries
01-17 16:44:46.320: I/dalvikvm(292): JNI: AttachCurrentThread (from ???.???)
01-17 16:44:46.320: I/AndroidRuntime(292): NOTE: attach of thread 'Binder Thread #3' failed
01-17 16:44:47.055: D/AndroidRuntime(305): >>>>>>>>>>>>>> AndroidRuntime START <<<<<<<<<<<<<<
01-17 16:44:47.055: D/AndroidRuntime(305): CheckJNI is ON
01-17 16:44:47.211: D/AndroidRuntime(305): --- registering native functions ---
01-17 16:44:48.061: I/ActivityManager(59): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.tabledemo/.MainActivity }
01-17 16:44:48.110: I/ActivityManager(59): Start proc com.example.tabledemo for activity com.example.tabledemo/.MainActivity: pid=311 uid=10047 gids={}
01-17 16:44:48.121: D/AndroidRuntime(305): Shutting down VM
01-17 16:44:48.131: D/dalvikvm(305): Debugger has detached; object registry had 1 entries
01-17 16:44:48.190: I/AndroidRuntime(305): NOTE: attach of thread 'Binder Thread #3' failed
01-17 16:44:49.381: I/ActivityManager(59): Displayed activity com.example.tabledemo/.MainActivity: 1275 ms (total 1275 ms)
01-17 16:44:54.530: D/dalvikvm(134): GC_EXPLICIT freed 899 objects / 51256 bytes in 124ms
01-17 16:44:59.481: D/dalvikvm(181): GC_EXPLICIT freed 242 objects / 15912 bytes in 64ms
01-17 16:45:05.183: D/dalvikvm(262): GC_EXPLICIT freed 757 objects / 54904 bytes in 146ms
01-17 16:48:06.281: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 16:53:06.294: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 16:58:06.344: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:03:06.383: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:08:06.421: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:13:06.452: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:18:06.482: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:23:06.547: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:28:06.602: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
01-17 17:33:06.630: D/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol 
```

任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:33:22.103

您是否为您的 json 评估互联网？在我看来，这不是表格视图的问题。例外

```
request time failed: java.net.SocketException: Address family not supported by protocol 
```

表示您的请求失败。尝试在*onPostExecute*下下断点检查结果是否正常。

# linux - 无法在 Ubuntu 10.04、CUDA 5.0 上编译 MAGMA 1.3

> ID：14378868
> 
> 赞同：1
> 
> 时间：2013-01-17T12:14:28.887
> 
> 标签：linux, cuda, compiler-errors, fortran, ubuntu-10.04

我正在尝试在 Ubuntu 10.04 上编译[MAGMA](http://icl.cs.utk.edu/magma/software/index.html)库，但我被卡住了。

从自述文件：

> 要安装 MAGMA，请修改 make.inc 文件以指示 CUDA、CPU BLAS 和 LAPACK 在您的系统上的安装位置。make.inc.mkl
> 、make.inc.acml、make.inc.goto 和
> make.inc.atlas 中给出了示例，显示了如何相应地链接到 MKL、ACML、
> GOTO BLAS 或 ATLAS BLAS。正确修改 make.inc
> 文件后，键入“make”，将创建 1）在目录“lib”中的 libmagma.a 和 libmagmablas.a 库 2）在目录“testing”中测试驱动程序。

因此，我安装了所需的软件包：

```
apt-get install libatlas-base-dev liblapack-dev libf2c2-dev gfortran 
```

复制`make.inc.atlas`到`make.inc`修改CUDA路径，`nvcc`路径和`liblapack.a`路径，我去掉两个不必要的链接目录。

如需完整参考，以下是原文`make.inc.atlas`：

```
#//////////////////////////////////////////////////////////////////////////////
#   -- MAGMA (version 1.3.0) --
#      Univ. of Tennessee, Knoxville
#      Univ. of California, Berkeley
#      Univ. of Colorado, Denver
#      November 2012
#//////////////////////////////////////////////////////////////////////////////

#
# GPU_TARGET specifies for which GPU you want to compile MAGMA:
#     "Tesla" (NVIDIA compute capability 1.x cards)
#     "Fermi" (NVIDIA compute capability 2.x cards)
# See http://developer.nvidia.com/cuda-gpus

GPU_TARGET = Fermi

CC        = gcc
NVCC      = nvcc
FORT      = gfortran

ARCH      = ar
ARCHFLAGS = cr
RANLIB    = ranlib

OPTS      = -O3 -DADD_
F77OPTS   = -O3 -DADD_
FOPTS     = -O3 -DADD_ -x f95-cpp-input
NVOPTS    = -O3 -DADD_ --compiler-options -fno-strict-aliasing -DUNIX
LDOPTS    = -fPIC -Xlinker -zmuldefs

LIB       = /home/tomov/LIB/lapack-lite-3.1.1/lapack_LINUX64.a \
            -lf77blas -latlas -lcblas -lf2c -lcublas -lm

CUDADIR   = /usr/local/cuda-3.0

LIBDIR    = -L/home/tomov/LIB/ATLAS/lib/Linux_UNKNOWNSSE2 \
            -L/home/tomov/LIB/CLAPACK-3.1.1/F2CLIBS/ \
            -L$(CUDADIR)/lib64
INC       = -I$(CUDADIR)/include 
```

在这里，我修改后的文件保存到`make.inc`：

```
#//////////////////////////////////////////////////////////////////////////////
#   -- MAGMA (version 1.3.0) --
#      Univ. of Tennessee, Knoxville
#      Univ. of California, Berkeley
#      Univ. of Colorado, Denver
#      November 2012
#//////////////////////////////////////////////////////////////////////////////

#
# GPU_TARGET specifies for which GPU you want to compile MAGMA:
#     "Tesla" (NVIDIA compute capability 1.x cards)
#     "Fermi" (NVIDIA compute capability 2.x cards)
# See http://developer.nvidia.com/cuda-gpus

GPU_TARGET = Fermi

CC        = gcc
NVCC      = /usr/local/cuda-5.0/bin/nvcc
FORT      = gfortran

ARCH      = ar
ARCHFLAGS = cr
RANLIB    = ranlib

OPTS      = -O3 -DADD_
F77OPTS   = -O3 -DADD_
FOPTS     = -O3 -DADD_ -x f95-cpp-input
NVOPTS    = -O3 -DADD_ --compiler-options -fno-strict-aliasing -DUNIX
LDOPTS    = -fPIC -Xlinker -zmuldefs

LIB       = /usr/lib/liblapack.a \
            -lf77blas -latlas -lcblas -lf2c -lcublas -lm

CUDADIR   = /usr/local/cuda-5.0

LIBDIR    = -L$(CUDADIR)/lib64
INC       = -I$(CUDADIR)/include 
```

所以，我跑了`make`，我得到[了这个错误](http://byeworld.blogspot.com.es/2009/01/libf2cso-undefined-reference-to-main.html)。我应用了那里提出的解决方案，到目前为止编译仍在继续，直到这一点：

```
make[1]: Entering directory `/usr/src/magma-1.3.0/testing'
gcc -O3 -DADD_ -DHAVE_CUBLAS -DGPUSHMEM=200 -I/usr/local/cuda-5.0/include -I../include -I../control -c /usr/local/cuda-5.0/src/fortran.c -o fortran.o
In file included from /usr/local/cuda-5.0/src/fortran.c:67:
/usr/local/cuda-5.0/src/fortran_common.h:405:2: error: #error unsupported Fortran compiler
make[1]: *** [fortran.o] Error 1
make[1]: Leaving directory `/usr/src/magma-1.3.0/testing'
make: *** [test] Error 2 
```

我能做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T12:29:53.990

简单的解决方案：设置 FORT 如下：

```
FORT      = gfortran -DCUBLAS_GFORTRAN 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:14:28.887

这似乎是一个 CUDA 问题。打开`fortran_common.h`并找到这个条件：

```
#if defined(CUBLAS_GFORTRAN) || defined (CUBLAS_G95) 
```

应该满足这个条件，AFAIK。但它没有，所以只需删除该行，并删除所有其他行`elsif`和`endif`完整路径。该文件`fortran_common.h`应该是这样的：

```
/*
 * Copyright 1993-2012 NVIDIA Corporation.  All rights reserved.
 *
 * NOTICE TO LICENSEE:
 *
 * This source code and/or documentation ("Licensed Deliverables") are
 * subject to NVIDIA intellectual property rights under U.S. and
 * international Copyright laws.
 *
 * These Licensed Deliverables contained herein is PROPRIETARY and
 * CONFIDENTIAL to NVIDIA and is being provided under the terms and
 * conditions of a form of NVIDIA software license agreement by and
 * between NVIDIA and Licensee ("License Agreement") or electronically
 * accepted by Licensee.  Notwithstanding any terms or conditions to
 * the contrary in the License Agreement, reproduction or disclosure
 * of the Licensed Deliverables to any third party without the express
 * written consent of NVIDIA is prohibited.
 *
 * NOTWITHSTANDING ANY TERMS OR CONDITIONS TO THE CONTRARY IN THE
 * LICENSE AGREEMENT, NVIDIA MAKES NO REPRESENTATION ABOUT THE
 * SUITABILITY OF THESE LICENSED DELIVERABLES FOR ANY PURPOSE.  IT IS
 * PROVIDED "AS IS" WITHOUT EXPRESS OR IMPLIED WARRANTY OF ANY KIND.
 * NVIDIA DISCLAIMS ALL WARRANTIES WITH REGARD TO THESE LICENSED
 * DELIVERABLES, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY,
 * NONINFRINGEMENT, AND FITNESS FOR A PARTICULAR PURPOSE.
 * NOTWITHSTANDING ANY TERMS OR CONDITIONS TO THE CONTRARY IN THE
 * LICENSE AGREEMENT, IN NO EVENT SHALL NVIDIA BE LIABLE FOR ANY
 * SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, OR ANY
 * DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
 * WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS
 * ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE
 * OF THESE LICENSED DELIVERABLES.
 *
 * U.S. Government End Users.  These Licensed Deliverables are a
 * "commercial item" as that term is defined at 48 C.F.R. 2.101 (OCT
 * 1995), consisting of "commercial computer software" and "commercial
 * computer software documentation" as such terms are used in 48
 * C.F.R. 12.212 (SEPT 1995) and is provided to the U.S. Government
 * only as a commercial end item.  Consistent with 48 C.F.R.12.212 and
 * 48 C.F.R. 227.7202-1 through 227.7202-4 (JUNE 1995), all
 * U.S. Government End Users acquire the Licensed Deliverables with
 * only those rights set forth herein.
 *
 * Any use of the Licensed Deliverables in individual and commercial
 * software must include, in the user documentation and internal
 * comments to the code, the above Disclaimer and U.S. Government End
 * Users Notice.
 */

/* Define CUBLAS_FORTRAN_COMPILER for Windows needed because 
   tbe compilation is done from the perl script fortran_nightly.pl which
   does not include fortran_tools.mk
   On Linux and Apple, CFLAGS is setup with fortran_tools.mk
*/
#if defined(_WIN32)
#ifndef CUBLAS_INTEL_FORTRAN
#define CUBLAS_INTEL_FORTRAN
#endif
#endif

#if defined(CUBLAS_GFORTRAN)
/* using option -ff2c make the ABI compatible with F77
   No need to define RETURN_COMPLEX, which cause problem 
   on Gfortran 4.x on 32 bit
*/
/* #define RETURN_COMPLEX 1 */
#endif

/* NOTE: Must use -fno-second-underscore when building Fortran source with g77
 *       g77 invocation may not use -fno-f2c, which forces different return 
 *       type conventions than the one used below
 */
#define CUBLAS_INIT             cublas_init_
#define CUBLAS_SHUTDOWN         cublas_shutdown_
#define CUBLAS_ALLOC            cublas_alloc_
#define CUBLAS_FREE             cublas_free_
#define CUBLAS_SET_VECTOR       cublas_set_vector_
#define CUBLAS_GET_VECTOR       cublas_get_vector_
#define CUBLAS_SET_MATRIX       cublas_set_matrix_
#define CUBLAS_GET_MATRIX       cublas_get_matrix_
#define CUBLAS_GET_ERROR        cublas_get_error_
#define CUBLAS_XERBLA           cublas_xerbla_
#define CUBLAS_ISAMAX           cublas_isamax_
#define CUBLAS_ISAMIN           cublas_isamin_
#define CUBLAS_SASUM            cublas_sasum_
#define CUBLAS_SAXPY            cublas_saxpy_
#define CUBLAS_SCOPY            cublas_scopy_
#define CUBLAS_SDOT             cublas_sdot_
#define CUBLAS_SNRM2            cublas_snrm2_
#define CUBLAS_SROT             cublas_srot_
#define CUBLAS_SROTG            cublas_srotg_
#define CUBLAS_SROTM            cublas_srotm_
#define CUBLAS_SROTMG           cublas_srotmg_
#define CUBLAS_SSCAL            cublas_sscal_
#define CUBLAS_SSWAP            cublas_sswap_
#define CUBLAS_CAXPY            cublas_caxpy_
#define CUBLAS_CCOPY            cublas_ccopy_
#define CUBLAS_CROT             cublas_crot_
#define CUBLAS_CROTG            cublas_crotg_
#define CUBLAS_CSCAL            cublas_cscal_
#define CUBLAS_CSROT            cublas_csrot_
#define CUBLAS_CSSCAL           cublas_csscal_
#define CUBLAS_CSWAP            cublas_cswap_
#define CUBLAS_CTRMV            cublas_ctrmv_
#define CUBLAS_CDOTU            cublas_cdotu_
#define CUBLAS_CDOTC            cublas_cdotc_
#define CUBLAS_ICAMAX           cublas_icamax_
#define CUBLAS_SCASUM           cublas_scasum_
#define CUBLAS_SCNRM2           cublas_scnrm2_
#define CUBLAS_SGBMV            cublas_sgbmv_
#define CUBLAS_SGEMV            cublas_sgemv_
#define CUBLAS_SGER             cublas_sger_
#define CUBLAS_SSBMV            cublas_ssbmv_
#define CUBLAS_SSPMV            cublas_sspmv_
#define CUBLAS_SSPR             cublas_sspr_
#define CUBLAS_SSPR2            cublas_sspr2_
#define CUBLAS_SSYMV            cublas_ssymv_
#define CUBLAS_SSYR             cublas_ssyr_
#define CUBLAS_SSYR2            cublas_ssyr2_
#define CUBLAS_STBMV            cublas_stbmv_
#define CUBLAS_STBSV            cublas_stbsv_
#define CUBLAS_STPMV            cublas_stpmv_
#define CUBLAS_STPSV            cublas_stpsv_
#define CUBLAS_STRMV            cublas_strmv_
#define CUBLAS_STRSV            cublas_strsv_
#define CUBLAS_SGEMM            cublas_sgemm_
#define CUBLAS_SSYMM            cublas_ssymm_
#define CUBLAS_SSYR2K           cublas_ssyr2k_
#define CUBLAS_SSYRK            cublas_ssyrk_
#define CUBLAS_STRMM            cublas_strmm_
#define CUBLAS_STRSM            cublas_strsm_
#define CUBLAS_CGEMM            cublas_cgemm_
#define CUBLAS_CHEMM            cublas_chemm_
#define CUBLAS_CSYMM            cublas_csymm_
#define CUBLAS_CTRMM            cublas_ctrmm_
#define CUBLAS_CTRSM            cublas_ctrsm_
#define CUBLAS_CHERK            cublas_cherk_
#define CUBLAS_CSYRK            cublas_csyrk_
#define CUBLAS_CHER2K           cublas_cher2k_
#define CUBLAS_CSYR2K           cublas_csyr2k_
#define CUBLAS_IDAMAX           cublas_idamax_
#define CUBLAS_IDAMIN           cublas_idamin_
#define CUBLAS_DASUM            cublas_dasum_
#define CUBLAS_DAXPY            cublas_daxpy_
#define CUBLAS_DCOPY            cublas_dcopy_
#define CUBLAS_DDOT             cublas_ddot_
#define CUBLAS_DNRM2            cublas_dnrm2_
#define CUBLAS_DROT             cublas_drot_
#define CUBLAS_DROTG            cublas_drotg_
#define CUBLAS_DROTM            cublas_drotm_
#define CUBLAS_DROTMG           cublas_drotmg_
#define CUBLAS_DSCAL            cublas_dscal_
#define CUBLAS_DSWAP            cublas_dswap_
#define CUBLAS_ZAXPY            cublas_zaxpy_
#define CUBLAS_ZCOPY            cublas_zcopy_
#define CUBLAS_ZROT             cublas_zrot_
#define CUBLAS_ZROTG            cublas_zrotg_
#define CUBLAS_ZSCAL            cublas_zscal_
#define CUBLAS_ZDROT            cublas_zdrot_
#define CUBLAS_ZDSCAL           cublas_zdscal_
#define CUBLAS_ZSWAP            cublas_zswap_
#define CUBLAS_ZDOTU            cublas_zdotu_
#define CUBLAS_ZDOTC            cublas_zdotc_
#define CUBLAS_IZAMAX           cublas_izamax_
#define CUBLAS_DZASUM           cublas_dzasum_
#define CUBLAS_DZNRM2           cublas_dznrm2_
#define CUBLAS_DGBMV            cublas_dgbmv_
#define CUBLAS_DGEMV            cublas_dgemv_
#define CUBLAS_ZGEMV            cublas_zgemv_
#define CUBLAS_DGER             cublas_dger_
#define CUBLAS_DSBMV            cublas_dsbmv_
#define CUBLAS_DSPMV            cublas_dspmv_
#define CUBLAS_DSPR             cublas_dspr_
#define CUBLAS_DSPR2            cublas_dspr2_
#define CUBLAS_DSYMV            cublas_dsymv_
#define CUBLAS_DSYR             cublas_dsyr_
#define CUBLAS_DSYR2            cublas_dsyr2_
#define CUBLAS_DTBMV            cublas_dtbmv_
#define CUBLAS_DTBSV            cublas_dtbsv_
#define CUBLAS_DTPMV            cublas_dtpmv_
#define CUBLAS_DTPSV            cublas_dtpsv_
#define CUBLAS_DTRMV            cublas_dtrmv_
#define CUBLAS_DTRSV            cublas_dtrsv_
#define CUBLAS_DGEMM            cublas_dgemm_
#define CUBLAS_DSYMM            cublas_dsymm_
#define CUBLAS_DSYR2K           cublas_dsyr2k_
#define CUBLAS_DSYRK            cublas_dsyrk_
#define CUBLAS_ZSYRK            cublas_zsyrk_
#define CUBLAS_DTRMM            cublas_dtrmm_
#define CUBLAS_DTRSM            cublas_dtrsm_
#define CUBLAS_ZGEMM            cublas_zgemm_
#define CUBLAS_ZHEMM            cublas_zhemm_
#define CUBLAS_ZSYMM            cublas_zsymm_
#define CUBLAS_ZTRMM            cublas_ztrmm_
#define CUBLAS_ZTRSM            cublas_ztrsm_
#define CUBLAS_ZHERK            cublas_zherk_
#define CUBLAS_ZSYRK            cublas_zsyrk_
#define CUBLAS_ZHER2K           cublas_zher2k_
#define CUBLAS_ZSYR2K           cublas_zsyr2k_

#define  CUBLAS_CGEMV           cublas_cgemv_
#define  CUBLAS_CGBMV           cublas_cgbmv_
#define  CUBLAS_CHEMV           cublas_chemv_
#define  CUBLAS_CHBMV           cublas_chbmv_
#define  CUBLAS_CHPMV           cublas_chpmv_
#define  CUBLAS_CTBMV           cublas_ctbmv_
#define  CUBLAS_CTPMV           cublas_ctpmv_
#define  CUBLAS_CTRSV           cublas_ctrsv_
#define  CUBLAS_CTBSV           cublas_ctbsv_
#define  CUBLAS_CTPSV           cublas_ctpsv_
#define  CUBLAS_CGERC           cublas_cgerc_
#define  CUBLAS_CGERU           cublas_cgeru_
#define  CUBLAS_CHPR            cublas_chpr_
#define  CUBLAS_CHPR2           cublas_chpr2_
#define  CUBLAS_CHER            cublas_cher_
#define  CUBLAS_CHER2           cublas_cher2_

// stubs for zblat2
#define CUBLAS_ZGBMV           cublas_zgbmv_
#define CUBLAS_ZHEMV           cublas_zhemv_
#define CUBLAS_ZHBMV           cublas_zhbmv_
#define CUBLAS_ZHPMV           cublas_zhpmv_
#define CUBLAS_ZTRMV           cublas_ztrmv_
#define CUBLAS_ZTBMV           cublas_ztbmv_
#define CUBLAS_ZTPMV           cublas_ztpmv_
#define CUBLAS_ZTRSV           cublas_ztrsv_
#define CUBLAS_ZTBSV           cublas_ztbsv_
#define CUBLAS_ZTPSV           cublas_ztpsv_
#define CUBLAS_ZGERC           cublas_zgerc_
#define CUBLAS_ZGERU           cublas_zgeru_
#define CUBLAS_ZHER            cublas_zher_
#define CUBLAS_ZHPR            cublas_zhpr_
#define CUBLAS_ZHER2           cublas_zher2_
#define CUBLAS_ZHPR2           cublas_zhpr2_ 
```

更改后，MAGMA 编译正常。

# d3.js - 如何使用 d3.js 获取 sunburst 示例中每个弧的 startAngle 和 endAngle？

> ID：14378879
> 
> 赞同：4
> 
> 时间：2013-01-17T12:14:48.970
> 
> 标签：d3.js, hierarchy, sunburst-diagram

我想在朝阳示例中获取每个弧的开始和结束角度，如[http://bl.ocks.org/4063423](http://bl.ocks.org/4063423)：

![在此处输入图像描述](../Images/bcbd41fdc9d403e2297a2ec2348fc041.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T21:43:43.383

您可以在代码中看到它们：

```
var arc = d3.svg.arc()
    .startAngle(function(d) { return d.x; })
    .endAngle(function(d) { return d.x + d.dx; })
    .innerRadius(function(d) { return Math.sqrt(d.y); })
    .outerRadius(function(d) { return Math.sqrt(d.y + d.dy); }); 
```

所以你的起始角度在 x 属性中，x + dx 给出你的结束角度。

诀窍是 x、dx、y 和 dy 都由布局函数设置：

```
var partition = d3.layout.partition()
    .sort(null)
    .size([2 * Math.PI, radius * radius])
    .value(function(d) { return 1; }); 
```

sort(null) 告诉它不要重新排序你的数据 size(...) 告诉它 x 和 y 坐标的输出范围（半径是平方的，因为我们正在映射到一个区域）。value(...) 是如何加权每个项目的值访问器。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-04-29T19:14:41.010

您可以使用这个简单的代码：

```
...
.data(partition.nodes)
.filter(function(d) { // You're not restricted to use the "filter" function
   var startAngle = arc.startAngle()(d);
   var endAngle = arc.endAngle()(d);
});
... 
```

# c# - 如何建模和构建这个工作流引擎？

> ID：14378880
> 
> 赞同：2
> 
> 时间：2013-01-17T12:14:50.303
> 
> 标签：c#, oop, design-patterns, architecture, n-tier-architecture

我正在尝试提出（我希望成为的）一个有点简单的工作流引擎。

基本上我有一个具有**Status**属性的类的对象。为了让它进入不同的状态，它应该经过一个验证步骤。如果没有验证错误，状态将会改变。

但是，在验证期间，我希望允许验证器组件向用户请求信息或发出警报消息。

我的问题是，到目前为止，该应用程序是作为 Windows 窗体应用程序构建的，但我们知道有必要拥有它的 Web 版本。因此，两者的验证都是相同的，但应该允许每个人都有自己的方式来请求信息或提醒用户。我想这样做的方式是在我的验证类上使用委托和事件。

这是我得到的：

```
//This is the class which will have its status changed
public class MyClass
{
  public int Status { get; set; }
}

//This class represent a transition from one status to another
public class Transition
{
  public int FromStatus { get; set; }
  public int ToStatus { get; set; }
}

//Common interface for all validators
public interface IWorkflowValidator
{
  bool Validate(MyClass object);
}

//This is the base workflow class with the main logic
public abstract class BaseWorkflow
{
  //This holds all the possible transitions with the validator type responsible for its validation.
  //For example:
  //  var transition = new Transition(1, 2); //From 1 to 2
  //  validatorsMap.Add(transition, typeof(ValidatorFrom1To2)); //ValidatorFrom1To2 class would be used to validate transition from status 1 to 2.
  protected Dictionary<Transition, Type> validatorsMap = null;

  //Main logic for a transition
  public void PerformTransition(MyClass object, int ToStatus)
  {
    int currentStatus = object.Status;
    var requestedTransition = new Transition(currentStatus, ToStatus);

    //Get the validator specified for this transition
    var validatorType = validatorsMap[requestedTransition];

    //Instantiate a new validator of that type
    var validator = (IWorkflowValidator)Activator.CreateInstance(validatorType);

    //Gets the result of the validator
    bool results = validator.Validate(object);

    //If validation succeded, it will perform the transition and complete the execution
  }
} 
```

我的主要问题涉及验证器本身。正如我所说，我需要验证器能够请求特定转换所需的信息。所以，这就是我拥有我的第一个验证器的方式：

```
public class AlertHandlerArguments {}

public delegate void AlertHandler(AlertHandlerArguments args);

public class MyFirstValidator : IWorkflowValidator
{
  //Event used to send an alert to the user
  public event AlertHandler OnAlert;

  //Implementation of IWorkflowValidator
  public bool Validate(MyClass object)
  {
    SendAlert();
  }

  void SendAlert()
  {
    if (OnAlert != null)
      OnAlert(new AlertHandlerArguments());
  }
} 
```

我在这里的想法是创建一个包含所有类型事件的接口并在所有验证器上实现这些接口。然后我的抽象**BaseWorkflow**类可以为这些事件附加处理程序。

但是，我的抽象类无法实现这些事件的最终代码。这些是由接口使用的，到目前为止，我的抽象类是平台独立的（桌面、网络）。这实际上就是我将这个类创建为抽象类的原因。

有了它，我可以让我的 Windows 窗体项目具有具体类型的**BaseWorkflow**并附加事件以显示表单对象以请求信息。

另一种选择是在基类上附加处理程序并在 UI 级别覆盖具体类。

我是否朝着正确的方向前进？如何允许验证器向用户（在 UI 级别）请求信息，在业务层保留一些逻辑，使其适合 Windows 窗体和 Web？

我感谢您对此事的任何意见。提前致谢。

Ps.：只有在我写完之后，我才意识到我不确定如何在 Web 应用程序上使用它。我的意思是，Windows 窗体应用程序可以中断执行并为用户显示输入表单，但这在 Web 上不起作用。这是否意味着我的工作流程结构仅适用于桌面应用程序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T20:21:51.570

首先，如果您想在工作流程中使用各种验证器，验证器将取决于环境 => 所以您可能需要策略模式。但是你需要小心。

为所有类型的事件创建界面可能不是一个完美的主意，因为要做的事情太过分了。更好的是验证器应该有一些公共状态，并且该状态可能取决于验证结果，然后工作流应该只检查验证器状态。而不是使用事件，我只是认为使用委托作为函数参数会更好。

# blackberry-10 - blackberry10中的webview源码

> ID：14378881
> 
> 赞同：0
> 
> 时间：2013-01-17T12:14:53.713
> 
> 标签：blackberry-10

嗨朋友们，我正在 Blackbery10 中开发一个应用程序来解析 html 页面中的 xml 数据。html 在 webview 中加载并且 html 源包含一些 xml 标签。请帮我获取blackberry10中web视图的html源代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T03:04:51.510

在 Webview 上，您可以使用函数[evaluateJavaScript (const QString &script, bb::cascades::JavaScriptWorld::Typeworld world)](https://developer.blackberry.com/cascades/reference/bb__cascades__webview.html#evaluatejavascript)执行 javascript 函数以获取所需的文本或 xml。您应该能够评估以下表达式：

```
return document.documentElement.innerHTML; 
```

然后，您可以从信号[javaScriptResult中检索评估的表达式](https://developer.blackberry.com/cascades/reference/bb__cascades__webview.html#javascriptresult)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T18:56:12.803

您无法访问从网络加载的 WebView 的 HTML

如果你想要一个高度基于 HTML 的应用程序，你可以看看 WebWorks。如果还需要原生框架，就得自己去请求内容，解析，然后注入到webview中。

# wordpress - wordpress：覆盖comment_text的html标记

> ID：14378882
> 
> 赞同：0
> 
> 时间：2013-01-17T12:14:54.890
> 
> 标签：wordpress, wordpress-theming

我正在尝试在自定义主题中自定义 comments.php 文件。

我正在使用

```
<?php comment_text(); ?> 
```

这似乎在`<p></p>`标签中输出注释文本。我的目标是添加该类，使其格式为：（`<p class='lead'></p>`发现 twitter bootstrap css）。

谁能帮我弄清楚如何自定义这些标签...我可能想使用其他标签`<h1>`等。我尝试过 apply_filters 但我也无法让它工作。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-18T18:42:53.193

我不确定您要做什么。您是在谈论包装评论的 p 标签，还是添加到评论中的 p 标签？

你可以尝试更换

```
<?php comment_text(); ?> 
```

和：

```
<p class='lead'><?php echo $comment->comment_content; ?></p> 
```

你也可以用 jQuery 添加一个类。只需用一类任何东西制作一个包装器，让我们说“comment-wrap”。

```
<script type="text/javascript">
$(".comment-wrap p").addClass("lead");
</script> 
```

# opencl - openCL - 处理数组和标量的区别

> ID：14378886
> 
> 赞同：0
> 
> 时间：2013-01-17T12:15:12.987
> 
> 标签：opencl

我正在尝试深入研究openCL。目前我在问自己为什么在传输到 GPU 时标量与数组不同。

下面有两个输入。一个标量和一个数组。为什么将它们传输到 GPU 会有如此大的差异？

提前致谢！

```
// input size
int input_size = 4;
err = clSetKernelArg(kernel, 0, sizeof(unsigned int), &_input_size);
if (err != CL_SUCCESS) {
  throw std::runtime_error("Failed to set kernel arguments!");
}

// input
int input[input_size];
input[0] = 1;
input[1] = 2;
input[2] = 3;
input[3] = 4;
cl_mem cl_input = clCreateBuffer(context,  CL_MEM_READ_ONLY, sizeof(int) * _input_size, NULL, NULL);
if (!cl_input) {
  throw std::runtime_error("Failed to allocate device memory!");
}
err  = clSetKernelArg(kernel, 1, sizeof(cl_mem), &cl_input);
if (err != CL_SUCCESS) {
  throw std::runtime_error("Failed to set kernel arguments!");
}
err = clEnqueueWriteBuffer(commands, cl_input, CL_TRUE, 0, sizeof(int) * _input_size, _input, 0, NULL, NULL);
if (err != CL_SUCCESS) {
  throw std::runtime_error("Failed to write to source array!");
}

// output
int output_size = 4;
int output[output_size];
cl_mem cl_output = clCreateBuffer(context, CL_MEM_WRITE_ONLY, sizeof(int) * _output_size, NULL, NULL);
if (!cl_output) {
  throw std::runtime_error("Failed to allocate device memory!");
}
err = clSetKernelArg(kernel, 2, sizeof(cl_mem), &cl_output);
if (err != CL_SUCCESS) {
  throw std::runtime_error("Failed to set kernel arguments!" );
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-19T03:45:43.437

在 OpenCL 中，标量是按值传递的，并且是每个线程的常量。数组通过引用（地址）传递，可以用作输入（只读）、输出（只写）或输入/输出（读/写）。数组需要 cl_mem 对象作为参数传递。cl_mem 是描述数组的元对象。标量非常简单，它们只需要它们的大小作为元数据。

所以在你上面的例子中，内核应该看起来像....

```
kernel void mykernel( const int arg0,  global int * arg1, global int * arg2 ... ) {
    int  i =  get_global_id(0);

    // In every thread arg0  is constant value and cannot be changed

    if (i < arg0)
        arg2[i] = arg[1[i];
} 
```

# perl - Perl 程序一直等待使用 utf8 打开文件

> ID：14378887
> 
> 赞同：0
> 
> 时间：2013-01-17T12:15:15.777
> 
> 标签：perl

我正在尝试读取 UTF-8 编码的 xml 文件。该文件大小约为 8M，仅包含一行。

我使用下面的行来打开这个单行 xml 文件：

```
open(INP,"<:utf8","$infile") or die "Couldn't open file passed as input, $!";
local $/ = undef;
my $inputfile = <INP>;
print $inputfile; ## Not working.. 
```

但是在这条线程序卡住并继续等待之后。

我尝试了其他方法，例如 binmode 和 decode ，但遇到了同样的问题。

当我将上述文件打开代码更改为：

```
open(INP,"$infile") or die "Couldn't open file passed as input, $!";
local $/ = undef;
my $inputfile = <INP>;
print $inputfile; ## It works..

open(INP,"$infile") or die "Couldn't open file passed as input, $!";
binmode(INP, ":utf8");
local $/ = undef;
my $inputfile = <INP>;
print $inputfile; ## Not working.. 
```

你能帮我在这里做错什么吗？我需要对输入数据执行一些操作，并且必须得到 utf8 编码的输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T15:02:58.560

我在这里尝试了你的最后一个片段（Ubuntu 12.04，perl 5.14.2），它按预期工作。我唯一的问题是输入和输出之间的差异。输入文件为 UTF-8，输出为 ISO-8859-1。

当我添加

```
use utf8;
use open qw(:std :utf8); 
```

不过，这个问题已经消失了。所以这一定是环境问题。

# visual-studio-2010 - 指定附加到进程时要调试的项目

> ID：14378890
> 
> 赞同：1
> 
> 时间：2013-01-17T12:15:25.690
> 
> 标签：visual-studio-2010, debugging

如何在附加到进程时指定解决方案中要调试的项目，从而防止 Visual Studio 2010 也启动解决方案中的所有其他基于 Web 的项目？

我讨厌每次我附加到一个进程来调试解决方案中的一个 Web 项目时，它会自动构建并开始运行所有其他 Web 项目；我可以防止这种情况而不必将它们纳入自己的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T19:11:13.930

我认为您在这里有点混淆了这些术语。听起来当您说“附加到进程”时，您的真正意思是“按 F5 开始调试”，是这样吗？如果是这样，要控制在您按 F5 时启动哪些项目，请在解决方案资源管理器中右键单击您的解决方案，然后转到通用属性->启动项目，然后选择您想要的选项。

# javascript - 如何在 jquery 插件中停止传播（）？（更新）

> ID：14378891
> 
> 赞同：1
> 
> 时间：2013-01-17T12:15:33.503
> 
> 标签：javascript, jquery, jquery-plugins

> （我不得不重写整个问题以澄清它，一些较旧的答案可能与内容不完全匹配）

我在这里创建了两个小提琴来演示这个问题。

当您单击表格行时，将显示警报。

但是，单击“更多”按钮时不应显示此警报。

[工作示例在此处](http://jsfiddle.net/houmie/AZYAP/1/)正确说明

但是，当我使用此功能制作插件时，stopPropagation() 不再起作用，当我单击“更多”按钮时，我仍然会收到显示的警报，如此[处所示](http://jsfiddle.net/houmie/XbK33/1/)

插件：

```
$.fn.shorten = function(settings) {

   var config = $.extend( {
     showChars : 100,
     ellipsesText : "...",
     moreText : "more",
     lessText : "less"
    }, settings);

$(document).off('click', '.morelink').on('click', '.morelink', function(e){ 
    e.preventDefault(); 
    e.stopPropagation();    

  var $this = $(this);

  // Toggle del nombre del link
  if ($this.hasClass('less')) { // clic en more para mostrar less

    $this.removeClass('less');
    $this.html(config.moreText);

    // muestro shorcontent y escondo allcontent
    $this.parent().prev().prev().show(); // shortcontent
    $this.parent().prev().hide(); // allcontent

  } else { // click en less para mostrar more

    $this.addClass('less');
    $this.html(config.lessText);

    $this.parent().prev().prev().hide(); // shortcontent
    $this.parent().prev().show(); // allcontent
  }

  return false;
});

return this.each(function() {
  var $this = $(this);

  var content = $this.html();
  if (content.length > config.showChars) {
    var c = content.substr(0, config.showChars);
    if (c.indexOf('<') >= 0) // If there's HTML don't want to cut it
    {
      var inTag = false; // I'm in a tag?
      var bag = ''; // Put the characters to be shown here
      var countChars = 0; // Current bag size
      var openTags = []; // Stack for opened tags, so I can close them later

      for (i=0; i<content.length; i++)
      {
        if (content[i] == '<' && !inTag)
        {
          inTag = true;

          // This could be "tag" or "/tag"
          tagName = content.substring(i+1, content.indexOf('>', i));

          // If its a closing tag
          if (tagName[0] == '/')
          {
            if (tagName != '/'+openTags[0]) console.log('ERROR en HTML: el tope del stack debe ser la tag que cierra');
            else
              openTags.shift(); // Pops the last tag from the open tag stack (the tag is closed in the retult HTML!)
          }
          else
          {
            // There are some nasty tags that don't have a close tag like <br/>
            if (tagName.toLowerCase() != 'br')
              openTags.unshift( tagName );// Agrega al inicio el nombre de la tag que abre
          }
        }
        if (inTag && content[i] == '>')
        {
          inTag = false;
        }

        if (inTag) bag += content[i]; // Add tag name chars to the result
        else
        {
          if (countChars < config.showChars)
          {
            bag += content[i];
            countChars ++;
          }
          else // Ya tengo los caracteres necesarios
          {
            if (openTags.length > 0) // Tengo tags sin cerrar
            {
              console.log('Quedaron tags abiertas');
              console.log(openTags);
              for (j=0; j<openTags.length; j++)
              {
                console.log('Cierro tag '+ openTags[j]);
                bag += '</'+ openTags[j] +'>'; // Cierro todas las tags que quedaron abiertas

                // You could shift the tag from the stack to check if you end with an empty stack, that means you have closed all open tags
              }
              break;
            }
          }
        }
      }
      c = bag;
    }

    var html = '<span class="shortcontent">' + c + '&nbsp;' + config.ellipsesText +
               '</span><span class="allcontent">' + content +
               '</span>&nbsp;&nbsp;<span><a href="javascript:void(0)" class="morelink badge">' + config.moreText + '</a></span>';

    $this.html(html);
    $(".allcontent").hide(); // Esconde el contenido completo para todos los textos
  }
}); 
```

};

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:33:20.907

不仅可以使用`return false;`，还可以使用`JavaScript:void(0)`。

[在这里检查两者之间的区别。](https://stackoverflow.com/questions/3498492/javascriptvoid0-vs-return-false-vs-preventdefault)

虽然`stopPropogation()`和`preventDefault()`不同，`return false`但两者都执行。

最后`.live()`是折旧，我们`on()`改为：[http ://api.jquery.com/on/](http://api.jquery.com/on/)

* * *

你可以试试：

```
$('body').on('click', '.morelink', function(e) {
      e.preventDefault();
      ...
} 
```

* * *

这是一个 hacky*临时*更改，可以让它按照你的意愿工作，直到你找到一个更永久的解决方案。嘿，它甚至可能是一个 jQuery 错误，我不知道。无论哪种方式，这都允许单击 td 以执行警报，并单击下拉菜单（更多/更少）不执行。

```
$(document).ready(function() {

    $('#tab_open_deals tbody tr td').off('click').on('click', function(e) {
    var $target = $(e.target);
    if($target.is(".morelink"))
    {
        // You clicked the morelink. Do nothing.
    }
    else
    {
        // Do your stuff!       
    }

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:18:13.860

什么浏览器？

尝试这个：

```
if(event.stopPropagation) event.stopPropagation();
if(event.preventDefault) event.preventDefault();
return false; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T12:20:56.473

您可以尝试在 href 属性上添加以下内容 href="reurn false;" 或者您可以找到单击事件处理程序 - 正在调用的函数，并在代码末尾添加 return false；或者将 tha A 标签完全更改为其他内容..

# loadrunner - LoadRunner 保存服务器返回的 JSESSIONID 不在 html 中

> ID：14378893
> 
> 赞同：1
> 
> 时间：2013-01-17T12:15:39.217
> 
> 标签：loadrunner

我进行手动关联的常用方法是设置左右边界，因为我在初始网页的 html 中找到它。但是，在 LoadRunner 中使用扩展日志记录时，我看到 JSESSIONID 是以这种方式从服务器返回的：

```
Action.c(4): Redirecting "http://xxx/xxx/" (redirection depth is 1)      [MsgId: MMSG-26694]

Action.c(4): To location "http://xxx/xxx/xxx/xxx"        [MsgId: MMSG-26693]

Action.c(4): t=3707ms: 384-byte response headers for "http://xxx/xxx/xxx/xxx" (RelFrameId=1,     Internal ID=3)

Action.c(4):     HTTP/1.1 302 Moved Temporarily\r\n

Action.c(4):     Server: Apache-Coyote/1.1\r\n

Action.c(4):     Set-Cookie: JSESSIONID=b6A10tdvDpwexLDVS4VKGHEX; Path=/xxx\r\n

Action.c(4):     Date: Thu, 17 Jan 2013 12:04:38 GMT\r\n

Action.c(4):     Expires: Thu, 01 Jan 1970 00:00:00 GMT\r\n

Action.c(4):     Pragma: no-cache\r\n

Action.c(4):     Cache-Control: no-cache, no-store\r\n

Action.c(4):     Location: http://xxx/xxx/xxx/xxx;jsessionid=b6A10td

Action.c(4):     vDpwexLDVS4VKGHEX?0\r\n

Action.c(4):     Content-Length: 0\r\n

Action.c(4):     \r\n

Action.c(4): Redirecting 
```

我如何捕捉这个价值？因为它不在从服务器返回的 HTML 中？

BR马格努斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:36:32.590

好的，解决了它使用这个：

```
web_reg_save_param("JSessionID", "LB=JSESSIONID=", "RB=;", LAST); 
```

# java - FileOutputStream 不创建文件

> ID：14378898
> 
> 赞同：0
> 
> 时间：2013-01-17T12:15:50.427
> 
> 标签：java, file, fileoutputstream

我实际上检查了可能与此相关的其他帖子，但我找不到任何问题的答案。所以，不得不新建这个：

该文件不会使用以下代码在给定位置创建：

```
 File as = new File ("C:\\Documents and Settings\\<user>\\Desktop\\demo1\\One.xls");
    if (!as.exists()) {
        as.createNewFile();
    }
    FileOutputStream fod = new FileOutputStream(as);
    BufferedOutputStream dob = new BufferedOutputStream(fod);
    byte[] asd  = {65, 22, 123};
    byte a1 = 87;
    dob.write(asd);
    dob.write(a1);
    dob.flush();

    if (dob!=null){
        dob.close();
    }
    if(fod!=null){
        fod.close(); 
```

代码运行良好，我没有收到任何 FileNotFoundException！我在这里有什么遗漏吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:21:05.280

你可以像这样重写你的代码：

```
BufferedOutputStream dob = null;
try {
    File file = new File("C:\\Documents and Settings\\<user>\\Desktop\\demo1\\One.xls");
    System.out.println("file created:" + file.exists());
    FileOutputStream fod = new FileOutputStream(file);
    System.out.println("file created:" + file.exists());
    BufferedOutputStream dob = new BufferedOutputStream(fod);
    byte[] asd = {65, 22, 123};
    byte a1 = 87;
    dob.write(asd);
    dob.write(a1);
    //dob.flush();
} 
catch (Exception ex) {
    ex.printStackTrace();
}
finally {
    if (dob != null) {
        dob.close();
    }
} 
```

*   在这种情况下，只需要调用最顶层的流处理程序[close()](http://docs.oracle.com/javase/6/docs/api/java/io/FilterOutputStream.html#close%28%29)方法 - [BufferedOutputStream](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedOutputStream.html)的方法：

> 关闭此输出流并**释放**与该流关联的所有系统资源。 **FilterOutputStream 的 close 方法调用其 flush 方法，然后调用其底层输出流的 close 方法。**

*   因此，`dob.flush()`in`try`块被注释掉，因为块中的`dob.close()`行`finally`刷新了流。此外，它释放系统资源（例如“关闭文件”），如上面 apidoc 引用中所述。使用[finally 块](http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html)是一个很好的做法：

> **finally 块总是**在**try 块退出**时执行。这样可以确保即使发生意外异常也会执行 finally 块。但 finally 不仅仅对异常处理有用——它允许程序员避免清理代码意外地被 return、continue 或 break 绕过。将清理代码放在 finally 块中始终是一个好习惯，即使没有预料到异常也是如此。

*   FileOutputStream[构造函数](http://docs.oracle.com/javase/1.5.0/docs/api/java/io/FileOutputStream.html#FileOutputStream%28java.io.File%29)在磁盘上创建一个空文件：

> 创建一个文件输出流以写入由指定 File 对象表示的文件。**创建一个新的 FileDescriptor 对象来表示此文件连接。** 首先，如果有安全管理器，则调用它的 checkWrite 方法，并将文件参数表示的路径作为其参数。
> 
> **如果文件存在但是目录而不是常规文件，不存在但无法创建，或者由于任何其他原因无法打开，则抛出 FileNotFoundException**。

[FileDescriptor](http://docs.oracle.com/javase/6/docs/api/java/io/FileDescriptor.html)在哪里：

> 文件描述符类的实例用作表示打开文件、打开套接字或另一个字节源或接收器的底层机器特定结构的不透明句柄。文件描述符的主要实际用途是创建一个 FileInputStream 或 FileOutputStream 来包含它。
> 
> 应用程序不应创建自己的文件描述符。

此代码应生成文件或引发异常。您甚至已经确认不满足抛出异常的条件，例如您正在替换字符串并且 demo1 目录存在。请将此重写为一个新的空文件并运行。

如果它仍然表现相同，除非我错过了什么，这可能是一个错误。在这种情况下，将此行添加到代码并发布输出：

```
 System.out.println(System.getProperty("java.vendor")+" "+System.getProperty("java.version")); 
```

从路径来看，我会说您使用的是Win 7，对吗？什么版本？

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-17T12:18:12.847

那么这意味着您的目录中已经有一个文件

# .htaccess - htaccess 热链接保护

> ID：14378902
> 
> 赞同：1
> 
> 时间：2013-01-17T12:16:03.060
> 
> 标签：.htaccess

所以我正在尝试使用 htaccess 保护 FLV 文件。

基本上我想阻止对 .flv 的直接访问（如此空白的引荐来源网址）并阻止来自任何不属于我自己的网站的热链接。

我是从 WordPress 安装中执行此操作的，但它不在根目录中，而是在子目录中。所以 mydomain.com/test/videos/

我已经尝试了以下代码，但我仍然可以输入 flv 的直接文件名，并且 chrome 将下载该文件，因此它不起作用：

```
RewriteEngine on
RewriteBase /test/videos/
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http://(www\.)?mydomain.co.uk(/)?.*$ [NC]
RewriteRule \.(flv)$ templates/images/logo.jpg [L,NC] 
```

有什么想法会出错吗？它不会返回服务器错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:23:58.390

试试这个：

```
 RewriteEngine on    
    RewriteCond %{HTTP_REFERER} !^$
    RewriteCond %{HTTP_REFERER} !^http(s)?://(www\.)?mydomain.co.uk/test/videos [NC]
    RewriteRule \.(flv)$ - [NC,F,L] 
```

# c# - 通过服务器进行客户端-客户端通信

> ID：14378903
> 
> 赞同：0
> 
> 时间：2013-01-17T12:16:07.623
> 
> 标签：c#, .net, sockets, tcp

我试图弄清楚如何做一个非常小的聊天程序，我有一个服务器和几个客户端，比如说 3，服务器应该是所有通信的中间人，所有消息都应该在传递之前传递给它给正确的客户。

现在我对此很陌生，所以我得到的只是一个可以使用 TcpListener 和 Socket 连接到服务器的客户端。然后客户端可以向服务器发送消息，服务器可以回复。本质上，我要问的是如何一次连接 3 个客户端，以及如何区分它们之间的区别，因此我知道将消息转发到哪个客户端。

这是我到目前为止得到的： [https ://gist.github.com/4555536](https://gist.github.com/4555536)

另外，当我想连续发送多条消息而不必发回确认时，我该如何处理？我主要做游戏，我有一个可以为我处理这个的更新方法。

编辑：我如何在本地进行？我知道我可以使用其他 IP 地址。

最好的问候，弗雷德里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:20:06.190

您可以通过其 IP 识别正在连接的客户端

# css - Chrome 文本渲染问题似乎有额外的字体粗细？

> ID：14378904
> 
> 赞同：1
> 
> 时间：2013-01-17T12:16:08.960
> 
> 标签：css, google-chrome, fonts, font-face

在我正在制作的网站上快速查询我的滑块上的一些文本。这让我很困惑，因为它只发生在 Chrome 中，当幻灯片加载时，它会从 wordpress 输出标题。当页面加载时，它会将字体呈现为它应该如何呈现，然后一瞬间它似乎会获得更多的字体重量。

我想知道问题是什么？

只需在 Chrome 中检查幻灯片上的任何文本。很高兴知道为什么！

谢谢。

![在此处输入图像描述](../Images/dd1e10ceb51e5d47536010c31aace20b.png)

编辑* 添加了一张图片。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:20:52.123

[Chrome 中的已知问题](http://code.google.com/p/chromium/issues/detail?id=31833 "已知问题")已在最新开发版本中修复。

这是一种[临时解决方法](http://doctype.com/font-showing-bold-only-chromesafari "临时解决方法")，您也可以尝试。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T14:24:36.863

环顾四周后，我发现如果我添加

```
-webkit-font-smoothing: antialiased; 
```

对于我的标题，它似乎解决了我的问题。我会将其标记为已解决。谢谢大家。

# eclipse - 如何在 Eclipse 中为 MacOS X 10.8.2 编译 Cinder

> ID：14378905
> 
> 赞同：1
> 
> 时间：2013-01-17T12:16:09.790
> 
> 标签：eclipse, macos, linker, g++, cinder

我已经下载并安装了 Cinder，甚至还运行了 TinderBox 教程以在 XCode 中创建一个 Cinder 项目。

但是我热衷于使用 eclipse 作为我的 IDE 而不是 Xcode。

我正在运行 OSX 10.8.2

按照以下教程配置 eclipse[配置 Eclipse](http://ubiquisense.com/index.php?option=com_content&view=article&id=65%3acinder-eclipse-are-doing-it&catid=17%3alabs-category&Itemid=26)和[Vimeo Video](http://vimeo.com/19091388 "视频")后，我遇到了许多编译和链接问题。

```
make *** Error 1 C/C++ Problem cinder
undefined symbols for architecture i386: 
```

我想我要么没有完全按照教程帖子进行操作，要么我的设置有所不同。

注意：这是一个问答帖子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:16:09.790

**指数**

1.  配置日食
2.  遇到的问题和解决方法
3.  附录（源代码）
4.  参考

** 配置 Eclipse **

*假设您有一个 C++ 版本的 eclipse 并且已经创建了一个基本的 C++ Cinder 项目。您可以在下面的附录中找到 .h 和 .cpp 文件。下面概述了编译时需要配置的设置。*

**第1步。**

1.  打开项目“属性”窗口。
2.  导航到 C/C++ Build > 'Build Variables' 选项。

添加以下变量。

```
CINDER_PATH /path/to/cinder_0.8.4_mac/ 
```

**第2步。**

1.  导航到 C/C++ 构建 > 设置窗口。
2.  在“工具”选项卡下，选择“MacOS X C++ 链接器”选项。

在这里，在“命令”输入字段中，您需要在 g++ 之后添加您的命令行选项和 OSX 框架引用

```
g++ -m32 -arch i386 -framework Cocoa -framework IOKit -framework Accelerate -framework AudioToolbox -framework AudioUnit -framework CoreAudio -framework CoreVideo -framework CoreServices -framework QTKit -framework OpenGL -framework QuickTime -framework AppKit -framework Cocoa -framework CoreData -framework Foundation 
```

*-m32*告诉链接使用 32 位而不是 64 位。

*-arch i386*确保我们链接到正确的架构。

*-framework*参考运行 Cinder 所需的框架（据我目前了解）

```
NOTE: Depending on your mac version you might find -framework Carbon in stead of -framework Cocoa, I used Cocoa. 
```

**步骤 3。**

1.  导航到“MacOS X C++ 链接器”>“库”选项
2.  添加以下库搜索路径。（-L 命令行）

    ${CINDER_PATH}/lib
    ${CINDER_PATH}/lib/ios-sim
    ${CINDER_PATH}/lib/ios
    ${CINDER_PATH}/lib/macosx

添加以下库以包含（ -l 命令行）

```
cinder
cinder_d
z
png14
pixman-1
cairo
boost_thread
boost_system
boost_filesystem
boost_date_time
cinder-iphone-sim_d 
```

**第4步。**

在“MacOS X C++ Linker”菜单下，选择“Miscellaneous”选项并在 XLinker 字段中添加以下内容。

```
${CINDER_PATH}/lib/libcinder_d.a

NOTE: It was adding this option along with the -arch i386 option that resolved this error "undefined symbols for architecture i386:" 
```

**步骤 5。**

1.  选择“GCC C++ 编译器”菜单选项。
2.  在“命令”字段中添加以下内容。

    g++ -m32 -arch i386

选择“包含”菜单选项并添加以下文件夹路径

```
${CINDER_PATH}/boost
${CINDER_PATH}/include
/System/Library/Frameworks 
```

**遇到的问题及解决方案**

**问题A**

```
make *** Error 1 C/C++ Problem cinder
undefined symbols for architecture i386: 
```

**解决方案 A**

我发现克服这个问题有两个促成因素。第一个是将 -m32 和 -arch i386 命令行选项添加到链接器和编译器设置中。

第二个是包含以下 -XLinker 选项

```
${CINDER_PATH}/lib/libcinder_d.a 
```

注意：以上是调试模式，（_d）发布你必须将它设置为

```
${CINDER_PATH}/lib/libcinder.a 
```

** 附录 **

*你好世界.h*

```
#include "cinder/app/AppBasic.h"
#include "cinder/gl/gl.h"

using namespace ci;
using namespace ci::app;
using namespace std;

class HelloWorld : public AppBasic {
  public:
    void setup();
    void mouseDown( MouseEvent event );
    void update();
    void draw();
    void prepareSettings(Settings * settings);
}; 
```

*HellowWorld.cpp*

```
#include "HelloWorld.h"
// You dont' need this when you have the CINDER_APP_BASIC line below.
//int main(int argc, char **argv) {
//  return -1;
//}

void HelloWorld::setup()
{

}

void HelloWorld::mouseDown( MouseEvent event )
{
}

void HelloWorld::update()
{
}

void HelloWorld::draw()
{
    // clear out the window with black
    gl::clear( Color( 0, 0, 0 ) );
}

void HelloWorld::prepareSettings(Settings * settings)
{
    settings->setWindowSize( 800, 600 );
    settings->setFrameRate( 60.0f );
}

CINDER_APP_BASIC( HelloWorld, RendererGl ) 
```

**参考**

所有的功劳都归功于这些最初帮助我的帖子，当然还有 Cinder 的创造者。

1.  [为 Cinder 配置 eclipse 的原始教程](http://ubiquisense.com/index.php?option=com_content&view=article&id=65%3acinder-eclipse-are-doing-it&catid=17%3alabs-category&Itemid=26)
2.  [帮助解决正确链接问题的链接](https://forum.libcinder.org/topic/cinder-eclipse-osx)

# java - Java HttpURLConnection InputStream.close() 挂起（或工作时间过长？）

> ID：14378908
> 
> 赞同：9
> 
> 时间：2013-01-17T12:16:14.927
> 
> 标签：java, http, tcp, httpurlconnection

**首先，一些背景。**有一个工人可以扩展/解决一堆短网址：

```
http://t.co/example -> http://example.com 
```

所以，我们只遵循重定向。就是这样。我们不会从连接中读取任何数据。在我们得到 200 之后，我们立即返回最终 URL 并关闭 InputStream。

**现在，问题本身。**在生产服务器上，其中一个解析器线程挂在`InputStream.close()`调用中：

```
"ProcessShortUrlTask" prio=10 tid=0x00007f8810119000 nid=0x402b runnable [0x00007f882b044000]
   java.lang.Thread.State: RUNNABLE
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
        at java.io.BufferedInputStream.skip(BufferedInputStream.java:352)
        - locked <0x0000000561293aa0> (a java.io.BufferedInputStream)
        at sun.net.www.MeteredStream.skip(MeteredStream.java:134)
        - locked <0x0000000561293a70> (a sun.net.www.http.KeepAliveStream)
        at sun.net.www.http.KeepAliveStream.close(KeepAliveStream.java:76)
        at java.io.FilterInputStream.close(FilterInputStream.java:155)
        at sun.net.www.protocol.http.HttpURLConnection$HttpInputStream.close(HttpURLConnection.java:2735)
        at ru.twitter.times.http.URLProcessor.resolve(URLProcessor.java:131)
        at ru.twitter.times.http.URLProcessor.resolve(URLProcessor.java:55)
        at ... 
```

经过简短的研究，我了解到`skip()`在将流发送回连接池之前调用它来清理流（如果设置了保持活动状态？）。我仍然不明白如何避免这种情况。此外，我怀疑我们的代码中是否存在一些糟糕的设计，或者 JDK 中是否存在问题。

所以，问题是：

1.  有没有可能避免挂在上面`close()`？例如，保证一些合理的超时。
2.  是否可以完全避免从连接中读取数据？请记住，我只想要最终 URL。其实，我想，我根本不想 `skip()`被叫……

**更新：**

[KeepAliveStream](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/net/www/http/KeepAliveStream.java/)，第 79 行，`close()`方法：

```
 // Skip past the data that's left in the Inputstream because
    // some sort of error may have occurred.
    // Do this ONLY if the skip won't block. The stream may have
    // been closed at the beginning of a big file and we don't want
    // to hang around for nothing. So if we can't skip without blocking
    // we just close the socket and, therefore, terminate the keepAlive
    // NOTE: Don't close super class
    try {
        if (expected > count) {
        long nskip = (long) (expected - count);
        if (nskip <= available()) {
            long n = 0;
            while (n < nskip) {
            nskip = nskip - n;
            n = skip(nskip);} ... 
```

在我看来，JDK 本身存在越来越多的错误。不幸的是，很难重现这个......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-30T16:02:32.793

您已链接的实施`KeepAliveStream`违反了合同，`available()`并`skip()`保证其是非阻塞的，因此可能确实会阻塞。

[available() 的合约](http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#available%28%29)保证**单个**非阻塞`skip()`：

> 返回可以从此输入流中读取（或跳过）的字节数的估计值，而不会被此输入流的方法的下一个调用者阻塞。下一个调用者可能是同一个线程或另一个线程。单次读取或跳过这么多字节不会阻塞，但可能会读取或跳过更少的字节。

每次调用一次，实现`skip()`多次调用`available()`：

```
 if (nskip <= available()) {
        long n = 0;
        // The loop below can iterate several times,
        // only the first call is guaranteed to be non-blocking. 
        while (n < nskip) { 
        nskip = nskip - n;
        n = skip(nskip);
        } 
```

这并不能证明您的应用程序因`KeepAliveStream`错误使用而阻塞`InputStream`。的一些实现`InputStream`可能会提供更强的非阻塞保证，但我认为这很可能是一个嫌疑犯。

编辑：经过更多研究，这是 JDK 中最近修复的错误：[https://bugs.openjdk.java.net/browse/JDK-8004863?page=com.atlassian.jira.plugin.system.issuetabpanels：所有标签面板](https://bugs.openjdk.java.net/browse/JDK-8004863?page=com.atlassian.jira.plugin.system.issuetabpanels%3aall-tabpanel)。错误报告中提到了无限循环，但`skip()`也可能导致阻塞。该修复似乎解决了这两个问题（只有一个`skip()`per `available()`）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T14:28:50.743

我猜这`skip()`是`close()`为了支持 Keep-Alive。

请参阅[http://docs.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html](http://docs.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html)。

> 在 Java SE 6 之前，如果应用程序在仍有大量数据需要读取时关闭 HTTP InputStream，则必须关闭连接，而不是缓存连接。现在在 Java SE 6 中，行为是在后台线程中从连接中读取多达 512 KB，从而允许重用连接。可以读取的确切数据量可以通过 `http.KeepAlive.remainingData`系统属性进行配置。

因此，可以使用`http.KeepAlive.remainingData=0`or有效地禁用保持活动状态`http.keepAlive=false`。但是，如果您总是寻址到同一个[http://t.co](http://t.co)主机，这可能会对性能产生负面影响。

正如@artbristol 建议的那样，在这里使用 HEAD 而不是 GET 似乎是更好的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-02T10:06:46.420

当我尝试发出“HEAD”请求时，我遇到了类似的问题。为了修复它，我删除了“HEAD”方法，因为我只是想 ping url

# selenium - 等待元素过多

> ID：14378909
> 
> 赞同：1
> 
> 时间：2013-01-17T12:16:20.390
> 
> 标签：selenium

是否真的有必要使用`waitForElement`或等待...如果我测试由 ajax 状态加载的 javascript 单页应用程序？我必须在每个动作（例如：单击、键入）之前加上`waitForElement`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-21T14:06:06.577

是的，这对 Ajax 来说是必需的。但如果你使用“不要重复自己”的原则，这不是问题。您应该创建这样的方法：

```
clickWithExplicitWait(lctr) {
    waitForElementPresent(lctr)//uses ajax wait timeout
    driver.click(lctr)//uses implicit wait timeout
} 
```

driver.click() 使用隐式等待。因此，您可以为隐式等待和显式“元素等待”指定不同的超时。您可以使用 org.openqa.selenium.support.ui.ExpectedConditions 包实现 waitForElementPresent() 或其他类似方法。

如果您需要在操作后等待另一个元素出现，请使用以下内容：

```
clickAndWait(lctrToClick, lctrToWait) {
    driver.click(lctrToClick)
    waitForElementPresent(lctrToWait)
} 
```

# android - “强制停止”和离开手机几个小时的区别

> ID：14378911
> 
> 赞同：0
> 
> 时间：2013-01-17T12:16:26.093
> 
> 标签：android

我在市场上有几个游戏应用程序，它们试图通过类似这样的代码（简化）来保存用户在游戏中的进度：

```
public class Globals extends Application
{
    public void onCreate()
    {
         settings = getSharedPreferences("MyPrefsFile", 0);
    }

    public void get_state()
    {
        synchronized (this)
        {
            game_progress = settings.getInt("progress", 1);
        }
    }

    public void save_state()
    {
        synchronized (this)
        {
            SharedPreferences.Editor editor = settings.edit();

            editor.putInt("progress",game_progress);

            editor.commit();
        }
    }
} 
```

这似乎在 99% 的情况下都可以正常工作，但是我时不时地收到用户报告他们的进度丢失了，但是没有人能够给我一系列操作，使我能够重复该错误.. 。 到现在。这些步骤包括按“主页”按钮退出程序，然后等待几个小时。然后当他们再次运行游戏时，他们的进度就会丢失。令人沮丧的是，这个序列不能缩短，做一个“强制停止”而不是离开手机几个小时并没有同样的效果。

据推测，如果手机闲置几个小时，应用程序中的部分或全部活动可能会以与强制停止略有不同的方式关闭......但我不知道如何。

有任何想法吗？

**编辑：**我应该解释如何从构成我的游戏的各种活动中调用这些函数。这是一个示例，但我也从其他几个地方调用 gs.save_state() ，只是为了更好地衡量。

```
 public class Main_GamePlay extends Activity
    {
        Globals gs;
        public void onCreate(Bundle savedInstanceState)
        {
             gs = ((Globals) getApplicationContext());
        }
        protected void onPause()
        {
            gs.save_state();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:53:16.787

可能不应该有任何正确的顺序，因为在您的情况下发生的是内存回收。当您按下主页时，您的应用程序将进入后台状态，该状态具有更高的优先级由垃圾收集器回收。所以您应该尝试保存当前通过共享偏好以外的其他方式进行状态。如果可能的话，您应该在当前活动的主页上保存状态。

希望这能让您简要了解您想要什么。

# javascript - javascript原型 - 找到我的问题

> ID：14378915
> 
> 赞同：1
> 
> 时间：2013-01-17T12:16:33.287
> 
> 标签：javascript, prototype

我写了一个简单的javascript继承原型，但我遇到了问题..有人指导我正确的声明吗？

代码：

```
var Man = function(params){
  this.name = params.name,
  this.age = params.age,
  this.job = params.job;
}

Man.prototype.work = function(){
  return this.name +' is working as a ' + this.job;
}

var Women = function(params){
  this.name = params.name,
  this.age = params.age,
  this.job = params.job;
}

Women.prototype = new Man(); //assigning the prototype

var man1 = new Man({name:'man1',age:'age1',job:'job1'});
console.log(man1.work()); //it works

var woman1 = new Women({name:'woman1',age:'age2',job:'job2'});
console.log(woman1.work()); // it is not.. why? 
```

我得到的错误：

```
TypeError: params is undefined
[Break On This Error]   

this.name = params.name, 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:24:25.573

您收到此错误是因为您在`Man`没有任何参数的情况下调用：

```
Women.prototype = new Man(); 
```

由于在函数内部，`params`is `undefined`，访问`params.name`将引发异常。

这就是为什么这样设置原型不方便的原因之一。此时你并不想创建一个新的实例`Man`，你只想将它的原型挂接到原型链中。

更好地使用[`Object.create` *^([MDN])*](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create)（包括 polyfill）来创建具有特定原型的对象：

```
Women.prototype = Object.create(Man.prototype);
Women.prototype.constructor = Women; 
```

在里面`Women`，调用父构造函数（这不是一个肮脏的笑话）来传递参数：

```
function Women(params) {
    Man.call(this, params);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:21:58.473

你没有将参数从女人传递给男人，试试这个：

```
Women.prototype = new Man({name:this.name,age:this.age,job:this.job}); 
```

实际上，这也可以：

```
Women.prototype = new Man(this); 
```

优点是它只有 4 个字母的额外代码，这*应该*适用于所有支持 JS 的浏览器。

# twitter - 未找到 Twitter 实体

> ID：14378940
> 
> 赞同：1
> 
> 时间：2013-01-17T12:18:02.307
> 
> 标签：twitter, tweepy

我一直在使用 Tweepy（用于 Twitter API 的 python 库）。

最近，我在 twitter 搜索上的一些推文中遇到了这个错误，我设置了 include_entities = True。

```
AttributeError: 'SearchResult' object has no attribute 'entities' 
```

由于这个错误，我无法访问这些推文上共享的 media_url(images)。想知道问题是否与库（tweepy）/ Twitter API有关，还是我在这里做错了什么？

# visual-studio-2012 - 记录编码的 UI 测试不运行

> ID：14378941
> 
> 赞同：0
> 
> 时间：2013-01-17T12:18:02.887
> 
> 标签：visual-studio-2012, record, windows-server-2008-r2, coded-ui-tests

我的虚拟机（windows server 2008 R2 64 位）上安装了 Visual Studio 2010 和 vs2012。我想在 VS2012 中创建和测试任何编码的 UI 测试。

情况：我可以使用 vs2012 创建和调试应用程序 - 它可以工作。我可以记录但不能运行的编码 UI 测试。在我看来，记录不正确，因为我在 VS2012 的错误列表中得到以下输出：“预期标识符 - 文件：UIMap.Designer.cs - 行：51 - 列：42”。（这是以下方法：

```
public void closeBrwoser()
    {
        #region Variable Declarations
        BrowserWindow uIGoogleWindowsInterneWindow = this.UIGoogleWindowsInterneWindow;
        #endregion

        // 
        uIGoogleWindowsInterneWindow.(); //this is Line 51
    } 
```

VS2010 中相同的编码 UI 测试（在 VS2010 中记录）有效。vs2012的问题在哪里？你能帮助我吗？

vs2012 只有“关闭浏览器”的问题。如果我排除“关闭浏览器”，则测试有效。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:21:30.010

你`.`在变量名的末尾有一个final，但没有调用任何东西。

`uIGoogleWindowsInterneWindow.();`

应该是这样的：

`uIGoogleWindowsInterneWindow.Quit();`

假设您有一个`Quit`方法，可能是退出当前浏览器窗口。

我非常怀疑这在 VS 2010 中运行。它可能是不同的源代码，这是一个编译器错误，因此它也会在 2010 年失败。

我也怀疑记录是否这样做，我会删除测试并重建它，我相信它会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:48:21.453

谢谢你的快速回答：）你是对的 - 记录是错误的（我不应该用这种方法写）。我经常记录测试。VS2012一次又一次写Test错误。我的其他 VS2012（在我的本地机器上）中的相同方法如下所示：

```
 public void closeBrowser()
    {
        #region Variable Declarations
        WinButton uISchließenButton = this.UIHomepageMicrosoftIntWindow.UIHomepageMicrosoftIntTitleBar.UISchließenButton;
        #endregion

        // Click 'Schließen' button
        Mouse.Click(uISchließenButton, new Point(22, 4));
    } 
```

VS2010（VM windows server 2008 R2 64位）中的方法如下：

```
 public void closebrwoser02()
    {
        #region Variable Declarations
        WinButton uISchließenButton = this.UIGoogleWindowsInterneWindow.UIGoogleWindowsInterneTitleBar.UISchließenButton;
        #endregion

        // Click 'Schließen' button
        Mouse.Click(uISchließenButton, new Point(13, 8));
    } 
```

只有 vs2012（在 VM windows server 2008 R2 64 位）不起作用。为什么？我能做些什么？

简短的补充：vs2012只有“关闭浏览器”的问题。如果我排除“关闭浏览器”，则测试有效。

# resize - 调整 nspopover 的大小

> ID：14378949
> 
> 赞同：1
> 
> 时间：2013-01-17T12:18:20.403
> 
> 标签：resize, nsview, nspopover

我试图通过使用以下方法设置它包含的 NSView 的框架来调整 NSPopover 的大小，然后再显示它：

```
setFrameSize: 
```

但是，当我尝试通过调用显示弹出框时：

```
showRelativeToRect: ofView: preferredEdge: 
```

视图恢复到之前的大小。为什么会这样？还有另一种我应该调整弹出框大小的方法吗？

在此先感谢，本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T17:40:35.563

弹出框上有一个 setContentSize，但我觉得这不太好用。我的意思是它可以工作，但会调整内容的大小（包括子视图）。所以更好的方法是创建一个新的 NSViewController 并为其分配新的视图。在 NSPopover 上设置这个新控制器时，尺寸会得到适当的尊重，如果当前显示弹出框，它将动画到新视图。

如果您不能这样做，而是想在适当的位置调整内容的大小，请使用以下内容：

```
NSRect frame = valuePopupList.frame;
frame.origin = NSMakePoint(2, 2);

... determine new frame ...

NSSize contentSize = frame.size;
contentSize.width += 4; // Border left/right.
contentSize.height += 4; // Ditto for top/bottom.
if (contentSize.height < 26) {
    contentSize.height = 26;
}
valuePopupList.frame = frame;
statementsPopover.contentSize = contentSize;

[statementsPopover showRelativeToRect: area ofView: view preferredEdge: NSMaxXEdge];
valuePopupList.frameOrigin = frame.origin; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-20T23:46:40.067

您应该在弹出框包含的 NSViewController 中实现 -preferredContentSize。这似乎是控制弹出框大小的最可靠方法。

# java - javadocs'{@link #method}'中'#'的用途是什么？

> ID：14378950
> 
> 赞同：10
> 
> 时间：2013-01-17T12:18:20.997
> 
> 标签：java, javadoc

javadoc 链接标签中的哈希“#”的用途是什么？

```
/** Call {@link #method} to do foo. */ 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-17T13:17:51.240

[Javadoc 使用 # 作为类和方法/构造函数签名或字段名称之间的分隔符，以避免不明确的链接。](http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javadoc.html)

Javadoc @link 和 @see 标记可用于对包、类和特定方法/构造函数或类中的字段的引用。这可能并不明显，但是在同一个项目中，在包“ab”中有一个类“c”和在包“a”中有一个类“b”和一个名为“c”的字段是合法的。指向“package ab, class c”的 Javadoc 链接将写作“abc”，而指向“package a, class b, field c”的链接将写作“ab#c”。如果名称不同，Javadoc 工具也将接受 . 方法、构造函数或字段之前的分隔符。

如果链接以 # 开头，则它指的是同一类中的方法/字段/构造函数。这类似于 HTTP url 中的锚点用法，其中 href="doc.html#a1" 指的是 "doc.html" 中的 "a1" 锚点， href="#a1" 指的是相同的文件。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-17T12:29:19.150

它是类和方法之间的“分隔符”。

例如，您可以在同一个类中包含对方法的引用：

```
{@link #methodA() whatever} 
```

或者引用其他类中的方法，那么语法就是class#method，即

```
{@link MyClass#methodA() whatever} 
```

然后`#`是分隔符。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T12:20:33.987

从[文档](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#javadoctags)：

> 插入带有可见文本标签的内联链接，该标签指向指定包、类或引用类的成员名称的文档。此标签在所有文档注释中均有效：overview、package、class、interface、constructor、method 和 field，包括任何标签的文本部分（如@return、@param 和@deprecated）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-17T12:19:59.210

它插入指向同一类中另一个方法的 javadoc 的链接。

例如，在[String.isEmpty()](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#isEmpty%28%29) javadoc 中，有一个指向[String.length()](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#length%28%29)方法的链接。

javadoc是：

```
Returns <tt>true</tt> if, and only if, {@link #length()} is <tt>0</tt>. 
```

# powershell - 为什么使用不同用户通过 PowerShell 创建的每周任务失败并出现错误 0x41306

> ID：14378951
> 
> 赞同：9
> 
> 时间：2013-01-17T12:18:26.193
> 
> 标签：powershell, scheduled-tasks, windows-server-2008-r2, powershell-3.0

我们有一些脚本使用 PowerShell 作为我们应用程序的一部分创建计划作业。最近在测试它们时，我注意到其中一些总是立即失败，并且没有产生任何输出（它们甚至没有出现在`Get-Job`列表中）。

经过多天的调整，我们设法将其隔离到任何设置为每周运行的作业中。下面是一个脚本，它创建了两个做同样事情的作业。当我们在我们的域上运行它，并提供域用户的凭据，然后强制这两个作业在任务计划程序 GUI 中运行（右键单击 -> 运行），每日运行正常（0x0 结果），每周运行失败(0x41306)。

注意：如果我不提供 -Credential 参数，这两项工作都可以正常工作。*仅当任务是每周一次并且以此域用户身份运行时，*作业才会失败。

我找不到关于为什么会发生这种情况的信息，也找不到任何原因它会在每周工作中表现不同。任务计划程序中的“历史记录”选项卡几乎没有有用的信息，只有“任务因用户请求而停止”和“任务终止”，两者都没有有用的信息：

> 任务计划程序终止了“\Microsoft\Windows\PowerShell\ScheduledJobs\Test1”任务的“{eabba479-f8fc-4f0e-bf5e-053dfbfe9f62}”实例。任务计划程序停止了任务 "\Microsoft\Windows\PowerShell\ScheduledJobs\Test1" 的实例 "{eabba479-f8fc-4f0e-bf5e-053dfbfe9f62}" 作为用户 "MyDomain\SomeUser" 的请求。

这是怎么回事？为什么每周任务的运行方式不同，我该如何解决这个问题？

这是 Windows Server 2008 R2 上的 PowerShell v3。我无法在本地重现此内容，但我没有以与我们的生产域中相同的方式设置用户（我正在处理此问题，但我想尽快发布此内容，希望有人知道发生了什么！）。

```
Import-Module PSScheduledJob

$Action =
{
    "Executing job!"
}

$cred = Get-Credential "MyDomain\SomeUser"

# Remove previous versions (to allow re-running this script)
Get-ScheduledJob Test1 | Unregister-ScheduledJob
Get-ScheduledJob Test2 | Unregister-ScheduledJob

# Create two identical jobs, with different triggers
Register-ScheduledJob "Test1" -ScriptBlock $Action -Credential $cred -Trigger (New-JobTrigger -Weekly -At 1:25am -DaysOfWeek Sunday)
Register-ScheduledJob "Test2" -ScriptBlock $Action -Credential $cred -Trigger (New-JobTrigger -Daily -At 1:25am) 
```

**编辑：按照 snover 的建议添加到 Connect：**

[https://connect.microsoft.com/PowerShell/feedback/details/776801/weekly-tasks-created-via-powershell-using-a-different-user-immediately-fail-with-error-0x41306](https://connect.microsoft.com/PowerShell/feedback/details/776801/weekly-tasks-created-via-powershell-using-a-different-user-immediately-fail-with-error-0x41306)

**编辑：来自 Jeff Hicks 的一些附加信息**

> 我使用您的代码在运行 PS v3 的 2008 R2 机器上创建了相同的作业。这两个作业都使用 Start-Job 从 PowerShell 运行良好。但是在 GUI 中，我在每周工作中遇到了同样的错误。
> 
> 我在 Windows 8 上得到了相同的结果。有些东西告诉任务服务中止。我测试了其他一些设置，但它们没有效果。我查看了所有我能想到的日志，它们显示的只是作业开始、PowerShell 加载以及任务调度程序取消。
> 
> 我之前将每周任务重置为今天运行，但它仍然失败。我还测试了一个每周执行的任务，而不是 PowerShell，它运行得很好。
> 
> 我将每周工作更改为使用与当前用户相同的帐户，并且运行良好。将其更改回另一个帐户，它再次失败。我不知道触发器和帐户之间的相关性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-28T20:27:45.253

创建计划任务时我遇到了类似的问题，但我不记得它是否基于日程安排。我发现切换到 gMSA 帐户来运行我们的计划任务？这使我们可以将任务设置为无论用户是否登录都运行。否则，您必须提供用户名和密码，并且无法选择用户是否登录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T18:52:32.780

默认作业选项可能会提供线索。有许多默认值可以阻止作业运行。其中一些可能特定于您的环境。更多信息在这里：[http ://technet.microsoft.com/en-us/library/hh849674.aspx](http://technet.microsoft.com/en-us/library/hh849674.aspx)

如果不是这样，请告诉我。我想关注此主题并将此场景纳入该故障排除指南。

谢谢，June Blender (juneb) 微软高级编程作家

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-20T13:40:41.263

我终于找到了解决这种行为的方法。我安排了一个每周日执行的任务来运行一个 powershell 脚本。脚本本身运行良好。然后我尝试在任务计划程序中手动启动它。这以错误 41306 结束。在这里阅读您的评论后，我将日程安排更改为不是在下一个星期日首先运行，而是在最后一个星期日开始（所以开始日期是过去的）。之后，我可以立即启动它而没有任何问题。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-17T19:09:42.887

因此计划的作业在任务计划程序中运行，但并没有真正紧密的集成。当您注册计划作业时，会创建计划作业定义，并希望创建 Windows 计划任务选项。在 Windows 计划任务 1) 成功触发该计划作业之前，没有创建计划作业实例作业，并且 2 它运行得足够成功，它创建了实例。

我更希望如果计划作业失败，PowerShell 至少会查询计划任务引擎并找出实例已启动、失败、并收到错误或诸如此类的信息。

因此，基本上，当您注册它时，您会使用触发器注册它，这可能会发生也可能不会发生，并且在 PS 甚至运行之前可能会发生各种失败的事情。

例如，假设您将其指定为在某些凭据下运行，并且凭据有问题，或者在您注册它之后权限发生更改。当触发发生时，Windows 将无法启动计划任务，因此预定的作业代码不会告诉 PS 任何有关它的信息。

当我做一些演示时，发生了一个有趣的案例。在测试中，它会在我的笔记本电脑上注册它，并在 4 秒后触发，然后我可以看到作业实例，然后它会完成并且我可以获得结果。

但是，当我演示它时，它总是会失败。这是因为默认情况下，计划任务在使用电池运行时不会运行，而不是插入电源，并且在进行演示时，我会拿起我的笔记本电脑去向人们展示，而我没有插入电源。

这很可悲，因为从 PS 方面来看，似乎什么也没发生，就计划任务引擎而言，有一段历史，它试图运行但由于特定的错误代码和消息而失败。

如果您希望能够在下一个版本中看到具有失败状态和原因的作业，请在 connect 上投票支持我的错误

[https://connect.microsoft.com/PowerShell/feedback/details/737587/psv3-scheduledjobs-if-a-trigger-fails-there-is-no-failed-instance-example-uses-multiple-triggers-to-做这个](https://connect.microsoft.com/PowerShell/feedback/details/737587/psv3-scheduledjobs-if-a-trigger-fails-there-is-no-failed-instance-example-uses-multiple-triggers-to-do-this)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-02-06T18:06:13.157

就我而言，当我查看任务的历史记录时，我发现在创建任务时，它正在使用 notepad.exe 来尝试执行（因为 notepad.exe 被设置为打开`.ps1`文件的默认值；因为它是编辑脚本的快速方法）。但这显然导致了一个问题。

为了解决这个问题，我右键单击我的一个`PS1`脚本并选择`open with`，然后选择默认值`%SystemRoot%\system32\WindowsPowerShell\v1.0\powershell.exe`（路径可能因阅读本文的每个人而异，所以我建议只调出 PowerShell 快捷方式的属性以获取您的特定路径） .

然后我再次尝试运行任务 - 成功！

# c++ - 从一组套接字中检测超时套接字

> ID：14378957
> 
> 赞同：1
> 
> 时间：2013-01-17T12:18:44.487
> 
> 标签：c++, windows, sockets, timeout, winsock

我目前正在使用 winsock 构建服务器。我的服务器将处理多个客户端，所以我使用 select() 函数以及读、写和异常集。我已经知道如果一个特定的套接字超时， select() 返回 0 。

但是我怎样才能识别超时的实际套接字呢？

顺便说一句，谁能告诉我 Some_Socket 需要发生什么才能使 FD_ISSET(Some_Socket, &Exception) 返回 true？

也许我可以使用上面的函数来检查集合中的每个套接字？

编辑：

假设我有这个例子：

```
int main(void){

       fd_set rfds;
       struct timeval tv;
       int retval;

       /* Watch stdin (fd 0) to see when it has input. */
       FD_ZERO(&rfds);

       for(int i = 0; i<clientcount; i++) {

        FD_SET(sockets[i].Scksas, &read_mask);

        FD_SET(sockets[i].Scksas, &write_mask);

        FD_SET(sockets[i].Scksas, &excep_mask);

   }

       /* Wait up to five seconds. */
       tv.tv_sec = 5;
       tv.tv_usec = 0;

       retval = select(1, &rfds, NULL, NULL, &tv);
       /* Don't rely on the value of tv now! */

       if (retval == -1)
           perror("select()");
       else if (retval)
           printf("Data is available now.\n");
           /* FD_ISSET(0, &rfds) will be true. */
       else{

           printf("No data within five seconds.\n");

           /*
             Handle timed out socket, but which one ?
           */
       }
       exit(EXIT_SUCCESS);
   } 
```

我应该如何确定哪个 soket 超时？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:20:11.600

问题是您不能使用`select`等，因为它们的超时是针对整个集合而不是单个套接字。

有三种简单的解决方案可以找出在特定时间段内没有通信的单个套接字。

1.  最简单的大概就是为每个socket保留一个结构，并且在这个结构中有个最后一次通信的时间。定期检查所有套接字的这个时间，如果时间太早，则关闭连接。

2.  另一种解决方案是在协议中包含“保持活动”消息。定期在所有套接字上发送“你还活着吗”消息。如果您在某个超时时间内没有收到“我还活着”的回复，那么连接可能被认为是陈旧的，您可以关闭它。

3.  为每个套接字使用单独的线程或进程。然后您可以使用`select`，因为您在集合中只有一个套接字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T13:25:06.093

更具体地说，`select()`如果在指定的超时时间内没有选择任何套接字，则返回 0。如果返回为正数，则为设置的套接字数（负返回为选择错误）。知道设置了哪个套接字以及在哪里设置的正确方法是`FD_ISSET`在每个套接字上使用每个集合，例如

```
if ( 0 != FD_ISSET( sock, &efds ) )... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T18:12:16.373

> 我已经知道如果一个特定的套接字超时，select() 返回 0。

不，你没有。如果*所有*套接字都超时，则返回零。在这种情况下很容易：关闭它们。

如果返回非零，则必须处理读/写 FD 集中的所有 FD；然后您可以处理*不在*这些集合中的所有 FD。您需要维护所有 FD 的最后 I/O 时间，并在该循环中检查是否有任何超过您的超时限制。

# c# - 部署到 Azure 后不显示单个图像

> ID：14378961
> 
> 赞同：1
> 
> 时间：2013-01-17T12:18:55.373
> 
> 标签：c#, asp.net, azure, .net-4.5

我将我的网站部署到[http://finfo.azurewebsites.net/](http://ffinfo.azurewebsites.net/)以对其进行测试，但日志未显示在已部署的站点上。如果我在 Visual Studio 2012 中执行 control+F5，徽标会显示得很好（它应该出现在左上角）。我已经通过访问[http://finfo.azurewebsites.net/images/logo.png验证了徽标是否已上传](http://ffinfo.azurewebsites.net/images/logo.png)

```
<img id="imgBanner" src="/Images/logo.png" alt="Final Fantasy Info.com Logo" style="height:127px;width:400px;" /> 
```

我有另一个使用标签可以正常工作的图像，只是这个图像不起作用。我也尝试过使用 tildy，但它不显示

I can take the code for the image that works and past it on the line right about the broken logo code and that image will not work either. If I change the line of code for the working image so it points to the logo it works fine.

Why is it that only this one image is not showing up and only when deployed to Azure?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-17T12:26:14.797

Looking at this in Chrome dev tools, you have a css rule in your bundled stylesheet

```
img { display: none; } 
```

Which probably doesn't help

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:26:11.910

I believe the relative path to the image is not correct, check your browser debugger to see if it fails to load the resource, it should helpe if you refer your image like this: src="~/Images/logo.png"

# android - Android 加速度计 - 测量慢速加速度

> ID：14378964
> 
> 赞同：0
> 
> 时间：2013-01-17T12:19:04.757
> 
> 标签：android, accelerometer

我可能在这里表现出对基本物理学的无知，但是加速度计可以用来测量非常缓慢但恒定的线性加速度吗？例如：

我和手机在一辆正在加速的车辆内，我想检测手机在任何时候所经历的加速度是否大于 10 m/s，并且是否一直保持相同水平的加速度（或更高）最后10秒？

那可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T12:39:49.853

假设一辆车在 10 秒内从 0kmph 加速到 100kmph 100kmph = 27.8 mps

加速度 = dv / dt = 27.8 mps / 10 sec = 2.78 m/s2

所以除了地球10m/s2重力，手机会检测到2.78m/s2垂直于它，整体约为sqrt(10*10 + 2.78*2.78) = 10.38 m/s2

因此，您将得到 10.38m/s2，而不是大约 10m/s2。

手机传感器不是很好，所以你必须在一辆非常快的车里才能可靠地检测到它。

# android - 如果我注册传感器并让它在后台运行，它会花费多少电力？

> ID：14378965
> 
> 赞同：-3
> 
> 时间：2013-01-17T12:19:08.703
> 
> 标签：android, sensors

我想编写一个具有后台服务的应用程序以一直获取传感器值，但不知道这是否会消耗太多电量，有人对此有所了解吗？任何回复将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T12:22:35.053

这因传感器和设备而异。

平均而言，您最耗电的传感器是 GPS、加速度计和陀螺仪。将这些留在后台通常会在一小时内开始显示电池电量耗尽。

在那之后，光传感器和指南针的电池消耗要少得多，但如果你使用它们的时间足够长，即使它们也会影响电池寿命。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T12:24:23.823

消耗取决于许多因素，因此很难评估这项任务的影响。也许你可以测试，2 小时和 2 小时没有看到差异

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-01-17T12:38:12.323

如果您在后台活动时需要传感器数据，那么您的基本应用程序设计就有缺陷。您应该只需要在 onResume 和 onPause 之间收集此类信息。

# php - Mac OS X 10.8 php.ini Include_Path for PEAR

> ID：14378967
> 
> 赞同：0
> 
> 时间：2013-01-17T12:19:20.667
> 
> 标签：php, xampp, pear

我当前的 php.ini 包含路径是：

```
include_path = “.:/usr/lib/php/pear” 
```

但是，这不起作用，因为尽管在以下完整路径中找到了一些文件：

```
/usr/lib/php/pear/HTML/QuickForm2/Loader.php 
```

例如，当我尝试 require_once 使用此文件时：

```
require_once HTML/QuickForm2/Loader.php 
```

但这不起作用，尽管重新启动了我的 Apache 服务器并更改了 einclude 路径以在末尾加上“/”以及其他愚蠢的东西，但似乎没有任何效果。

我哪里错了？

顺便说一句，我正在使用 XAMPP，但我的 PEAR 文件肯定安装到 /usr/lib/php/pear 因为我已经从终端用这个路径打开过一百万次，而且我可以实际上看到它都在那里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T15:47:31.260

**我已通过将php.ini**中的 include_path 更改为：

```
include_path = “.:/usr/lib/php/pear” 
```

到：

```
include_path = '/usr/lib/php/pear' 
```

For anybody else with the same issue, notice that I have **removed** the **'.:'**.
I have also changed the quotation marks from double quotes **(")** to single quotes **(')**.

Hope this helps.

# android - Google GCM 演示应用程序 - 未收到服务器消息

> ID：14378969
> 
> 赞同：0
> 
> 时间：2013-01-17T12:19:23.380
> 
> 标签：android, android-emulator, google-cloud-messaging

我正在尝试启动并运行 Google GCM 演示应用程序。我的 android 模拟器成功连接到 GCM 服务器并继续成功连接到我自己的服务器，该服务器位于`http://localhost:8080/gcm-demo-server`（即模拟器将请求发送到`http://10.0.2.2:8080/gcm-demo-server`）。

但是，当我在服务器网页上单击“发送消息”时，消息不会传递到模拟器。Logcat 中没有显示任何内容，并且我在 GCMIntentService 类中的 onMessage() 中的断点没有被命中。

我不明白它如何成功地向服务器注册，传递它的registrationId，但是当该registrationId用于将消息发送回模拟器时，它没有被接收到。我没有更改演示应用程序代码。

任何人都知道我可以从哪里开始寻找问题，因为我什至不知道从哪里开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-17T12:58:29.497

首先，我完全不知道您遵循了哪些教程/步骤来使 GCM 演示运行。**我的建议是逐步**将您的工作与此链接进行比较，您将回家:-)

[http://androidv5.wordpress.com/2012/08/15/how-to-implement-google-cloud-messaging/](http://androidv5.wordpress.com/2012/08/15/how-to-implement-google-cloud-messaging/)

此外，您应该声明，当您的设备/模拟器连接到服务器时，服务器页面是否显示类似

**已注册 1 台设备**

如果是这样，那么您的服务器已经到达，那么在这种情况下，您需要验证**您是否向服务器提供了正确的信息以到达目的地设备/模拟器**？

这可能需要时间不要失去耐心;-)

**更新 ：**

在 gcm demo app 中打开文件 CommonUtilities.java

替换 **静态最终字符串 SENDER_ID = “your_sender_id_from_api_console_url”的值；** 使用您从该链接获得的设备的发件人 ID

“ [https://code.google.com/apis/console/#project:4815162342](https://code.google.com/apis/console/#project:4815162342) ”

**4815162342 在这种情况下**

如需进一步帮助：在我提到的链接中向下滚动到**客户端实施**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-21T15:41:37.223

原来这是我使用的网络连接的问题。

# c++ - 班级友谊 - 一个谜题

> ID：14378971
> 
> 赞同：9
> 
> 时间：2013-01-17T12:19:41.667
> 
> 标签：c++, class, inheritance, friend, access-control

我是初学者级别的面向对象编程爱好者。我遇到了以下难题：

```
class A { 
}; 

class B { 
protected: 
    friend class A; 
};

class C { 
public: 
    friend class B; 
}; 
```

参考上面的示例代码，假设上面的类都有数据成员，那么在声明A的成员时可以使用C的哪些成员名称？

1.  仅限私人会员

2.  只有受保护的成员

3.  C 的所有数据成员

4.  仅限公众成员

5.  没有 C 的数据成员*

我的选择是答案 4，因为友谊不是传递的。因此，A 是 B 的朋友，但 A 不是 C 的朋友（即使 B 是 C 的朋友）。这是正确的想法吗？

另外，我的问题是到目前为止（在教程中）我遇到了这样声明友谊的例子：

```
class X { 
public: 
    friend class Y;
}; 
```

如果我们使用受保护的说明符而不是公共说明符，有什么区别？像那样：

```
class X { 
protected: 
    friend class Y; 
}; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-17T12:21:45.000

1.  You are correct. Friendship is not transitive nor is it Inherited.
2.  It does not make any difference under what access specifier you put the `friend` declaration.

As long as class `A` itself is not declared friend of class `C`. You cannot access any protected or private members of `C` in `A`.

# c# - C# Selenium 在 Firefox 中隐藏询问文件对话框

> ID：14378973
> 
> 赞同：0
> 
> 时间：2013-01-17T12:19:51.333
> 
> 标签：c#, firefox, selenium, webdriver, selenium-webdriver

`enter code here`我试图在保存任何类型的文件时隐藏询问文件对话框。正如我们所知，我们需要在“browser.helperApps.neverAsk.saveToDisk”中设置我们需要的所有文件的 mime 类型。

所以在我的情况下，它看起来像：

```
FirefoxProfile.SetPreference("browser.download.folderList", 2);
FirefoxProfile.SetPreference("browser.download.dir", "d:\\test");
FirefoxProfile.SetPreference("browser.helperApps.alwaysAsk.force", false); FirefoxProfile.SetPreference("services.sync.prefs.sync.browser.download.manager.showWhenStarting", false);
FirefoxProfile.SetPreference("browser.helperApps.neverAsk.saveToDisk", "application/excel"); 
```

我正在使用来自这里的 mime 类型[http://fileext.com/file-extension/XLS](http://filext.com/file-extension/XLS)并通过“zip”、“jpg”、“docx”、“xlsx”获得了成功，但它不适用于“xls” ，“csv”。当我尝试下载“xls”或“csv”Firefox 时询问保存位置。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-11T15:58:51.537

我有一个类似的问题，大多数 CSV 文件适用于我在配置中指定的类型，但有一个地方特别不起作用。

就像上面提到的评论一样，我也尝试了其他帖子中列出的所有评论，但没有成功。

我最终做的是在文件下载屏幕中设置“始终为此文件类型执行此操作”。然后，我转到了我的 AppData for FireFox 中配置文件文件夹中的 mimeTypes.rdf 文件，并查看了所有已设置的选项。

我在那里找到了 Microsoft Excel 逗号分隔值文件。

在这种情况下，它的类型被列为：

```
application/vnd.csv 
```

所以我添加了这个，它开始工作了。

# spring - Spring Data 和 MongoDB，插入或更新

> ID：14378978
> 
> 赞同：0
> 
> 时间：2013-01-17T12:20:10.747
> 
> 标签：spring, mongodb, spring-data

我正在将 Spring Data 与 MongoDB 一起使用。是否可以为我的对象执行诸如插入或更新之类的操作。我正在使用 MongoTemplate 和 MongoOperation 类。非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T14:40:15.810

在 MongoDB 中，您可以[插入](http://docs.mongodb.org/manual/applications/create/)、[更新](http://docs.mongodb.org/manual/applications/update/#crud-update-update)和[更新](http://docs.mongodb.org/manual/applications/update/#upsert)文档。

### 来自 MongoDB 文档：

*“upsert 消除了在执行更新或插入操作之前执行单独的数据库调用以检查记录是否存在的需要。”*

简而言之，这可以被认为是*“当且仅当此文档不存在时，请继续为我制作”*

应该注意的是，除非您将 upsert 设置为 true，否则**不会**发生 upsert，就像在此示例中[一样](http://docs.mongodb.org/manual/applications/create/#crud-create-update)

```
db.collection.update( <query>,
                  <update>,
                  { upsert: true } ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T20:17:44.300

我也是 MongoDB 的新手，来自 MySQL/Hibernate/JPA。在 Mongo 中，我的理解是没有“更新”与“插入”之类的东西。如果 id 字段与数据库中已有的内容相同，则它是一个更新。如果不是，它是一个插入。

我知道在我的代码中，我解决重复问题的方法是用@Id 标记我自己的 ID 字段。这告诉 Spring Data/MongoDB 应该使用一个特定的字段来代替默认生成的 id 字段。因此，如果您随后尝试使用相同的 id 保存实体，Mongo 只会覆盖它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-17T13:28:09.360

Spring data 有一个完美的教程列表，如何将它与 mongodb 一起使用。你可以在[官方网站上找到](http://www.springsource.org/spring-data/mongodb)

[我通过本教程](http://blog.jeroenreijn.com/2011/07/getting-started-with-mongodb-and-spring.html)开始使用 Spring Data

# python - 从文件中分配python变量

> ID：14378980
> 
> 赞同：0
> 
> 时间：2013-01-17T12:20:15.157
> 
> 标签：python, file

我注意到当我执行这个命令时：

```
comb = open ("out.txt", "r").readlines()[0]
print comb 
```

它将打印输出文件中的第一行，然后打印一个空行。为什么我有空行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-17T12:22:13.027

从[**文档**](http://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects)：

> `readline()`从文件中读取一行；*换行符 ( `\n`)**留在字符串的末尾，***如果文件没有以换行符结尾，则仅在文件的最后一行被省略。

您可以改用它：

```
open("out.txt", "r").read().splitlines()[0] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-17T12:22:20.933

因为`readlines()`读取带有 EOL 字符的行，并`print()`在打印提供的文本后添加 EOL 字符。EOL - 行尾，通常是`\n`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-17T12:21:37.230

`file.readlines()`不会在每行末尾删除换行符，而是`print`添加一个。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-17T12:22:34.130

空行在那里，因为该行被读取为`'\n'`在每行末尾都有一个字符（换行符）。不幸的是，Python 不会自动删除它。

# backbone.js - 重新渲染子视图会丢失事件

> ID：14378981
> 
> 赞同：0
> 
> 时间：2013-01-17T12:20:15.377
> 
> 标签：backbone.js

我看过[这个问题](https://stackoverflow.com/questions/12028835/backbone-event-lost-in-re-render)，但在重新渲染后我仍然无法维护子视图的事件。我试图在这里重新创建我的问题：

```
var MainView = Backbone.View.extend({
    initialize : function() {
      this.composer = new Composer();
    },
    render : function() {
        this.$el.html(this.composer.render().el);
    }
});

var SubView = Backbone.View.extend({
    tagName: 'li',
    events: {
        "click": "click"
    },

    click: function(){
        console.log( "click!" );
    },

    render: function(){
        this.$el.html( "click me" );
        return this;
    }
});

var Composer = Backbone.View.extend({
    tagName : 'ul',    
    render: function(){
        console.log( "Composer.render" );
        this.$el.empty();
        for (var i = 0; i < 5; i++) {
            var sub = new SubView();
            this.$el.append( sub.render().el );           
        }   
        sub.delegateEvents();
        return this;
    }
}); 
```

[http://jsfiddle.net/4qrRa/2/](http://jsfiddle.net/4qrRa/2/)

在示例中，重新渲染视图会禁用子视图中的点击事件。我不确定为什么这不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T13:34:37.090

按照您发布[的链接](https://stackoverflow.com/questions/12028835/backbone-event-lost-in-re-render)的解释。您只需要`this.composer.delegateEvents();`在 the`empty()`和呼叫之间包含一个呼叫`append()`。（[在链接中解释](https://stackoverflow.com/questions/12028835/backbone-event-lost-in-re-render)）

因此，只需将您的修改`MainView`为：

```
var MainView = Backbone.View.extend({
    initialize: function () {
        this.composer = new Composer();
    },
    render: function () {
        this.$el.empty();
        this.composer.delegateEvents();
        this.$el.append(this.composer.render().el);
    }
}); 
```

看看这里的 JSFiddle：http: [//jsfiddle.net/4qrRa/5/](http://jsfiddle.net/4qrRa/5/)

# .net - 错误请求 - 无效的 URL

> ID：14378993
> 
> 赞同：0
> 
> 时间：2013-01-17T12:21:09.413
> 
> 标签：.net, asp.net-mvc-2, azure, asp.net-mvc-routing, azure-web-roles

当我在 Windows Azure 模拟器（开发环境）上运行 Asp.Net MVC 2 项目时，我遇到了下面提到的问题

![在此处输入图像描述](../Images/8a512329dc53d6a2ba292c6b894c845a.png)

我的 web.config 文件如下：

```
<httpRuntime maxUrlLength="4096" relaxedUrlToFileSystemMapping="true" maxQueryStringLength = "4096" requestValidationMode="4.0" /> 
```

我的带有查询字符串的 URL 如下：

> [http://www.pawloyalty.com：82/预订/camp-canine-doggy-daycare-and-boarding/cgillette/key/camp-canine-doggy-daycare-and-boarding-cgillette-20130103154022/pets/bailey/service/full-day-care/dates/ 2013-1-3%2b2013-1-4%2b2013-1-7%2b2013-1-8%2b2013-1-9%2b2013-1-10%2b2013-1-11%2b2013-1-14%2b2013- 1-15%2b2013-1-16%2b2013-1-17%2b2013-1-18%2b2013-1-21%2b2013-1-22%2b2013-1-23%2b2013-1-24%2b2013-1- 25%2b2013-1-28%2b2013-1-29%2b2013-1-30%2b2013-1-31%2b2013-2-1%2b2013-2-4%2b2013-2-5%2b2013-2-6% 2b2013-2-7%2b2013-2-8%2b2013-2-11%2b2013-2-12%2b2013-2-13%2b2013-2-14%2b2013-2-15%2b2013-2-18%2b2013- 2-19%2b2013-2-20%2b2013-2-21%2b2013-2-22%2b2013-2-25%2b2013-2-26%2b2013-2-27%2b2013-2-28%2b2013-3- 1%2b2013-3-4%2b2013-3-5%2b2013-3-6%2b2013-3-7%2b2013-3-8%2b2013-3-12%2b2013-3-13%2b2013-3-14% 2b2013-3-15%2b2013-3-18%2b2013-3-19%2b2013-3-20%2b2013-3-21%2b2013-3-22%2b2013-3-25%2b2013-3-26%2b2013- 3-27%2b2013-3-28%2b2013-3-29/rtimes/7.5%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6% 2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6% 2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19/rextras-bailey/-?step=dates5%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6% 2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6% 2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19/rextras-bailey/-?步骤=日期5%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6% 2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6% 2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19% 2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19/rextras-bailey/-?步骤=日期b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19/rextras-bailey/-?step=日期b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19/rextras-bailey/-?step=日期](http://www.pawloyalty.com:82/booking/camp-canine-doggy-daycare-and-boarding/cgillette/key/camp-canine-doggy-daycare-and-boarding-cgillette-20130103154022/pets/bailey/service/full-day-care/dates/2013-1-3%2b2013-1-4%2b2013-1-7%2b2013-1-8%2b2013-1-9%2b2013-1-10%2b2013-1-11%2b2013-1-14%2b2013-1-15%2b2013-1-16%2b2013-1-17%2b2013-1-18%2b2013-1-21%2b2013-1-22%2b2013-1-23%2b2013-1-24%2b2013-1-25%2b2013-1-28%2b2013-1-29%2b2013-1-30%2b2013-1-31%2b2013-2-1%2b2013-2-4%2b2013-2-5%2b2013-2-6%2b2013-2-7%2b2013-2-8%2b2013-2-11%2b2013-2-12%2b2013-2-13%2b2013-2-14%2b2013-2-15%2b2013-2-18%2b2013-2-19%2b2013-2-20%2b2013-2-21%2b2013-2-22%2b2013-2-25%2b2013-2-26%2b2013-2-27%2b2013-2-28%2b2013-3-1%2b2013-3-4%2b2013-3-5%2b2013-3-6%2b2013-3-7%2b2013-3-8%2b2013-3-12%2b2013-3-13%2b2013-3-14%2b2013-3-15%2b2013-3-18%2b2013-3-19%2b2013-3-20%2b2013-3-21%2b2013-3-22%2b2013-3-25%2b2013-3-26%2b2013-3-27%2b2013-3-28%2b2013-3-29/rtimes/7.5%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19%2b6%2b19/rextras-bailey/-?step=dates)

**注：**以上有`1490 characters`

我的控制器 Action 方法的重定向如下：

```
return RedirectToRoute("booking", new { action = "index", providerKey = providerKey, ownerKey = ownerKey, arguments = arguments, step = step }); 
```

**注意：** `arguments` 具有上述查询字符串详细信息

如何摆脱这个错误页面？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-17T12:25:21.577

将您的 URL 长度保持在 2000 个字符以下或使用`POST`方法而不是`GET`

# octave - 将元胞数组导出到多列 csv 文件

> ID：14378996
> 
> 赞同：2
> 
> 时间：2013-01-17T12:21:19.400
> 
> 标签：octave

这是关于八度音阶的另一个琐碎问题，希望有人可以帮助我。我有一个八度的脚本，它生成一个单元格数组。我现在想将其导出为某种形式的文本文件，我可以将其导入 R 以进行绘图和进一步的统计分析（csv 可能是最有意义的一种格式）。我已经阅读了标题为“14.1.3 简单文件 I/O”的部分以及关于 writecsv 函数的更具体的部分，但是对我来说如何导出单元数组并不明显。这是与我的形式相同的示例数据集：

```
test = {[1, 2, 3, 4],[5, 6, 7, 8],[9, 10, 11, 12]}; 
```

这就是 test.csv 的样子：

```
1,5,9
2,6,10
3,7,11
4,8,12 
```

感谢您的任何建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-18T10:10:28.493

以下命令应该适用于您的测试用例：

```
csvwrite ("data.csv", cell2mat (test')') 
```

要了解它是如何工作的，请在您的 Octave 会话上运行以下命令：

```
test = {[1, 2, 3, 4],[5, 6, 7, 8],[9, 10, 11, 12]};
cell2mat (test)
test' 
cell2mat (test')
cell2mat (test')'
cell2mat (test)' 
```

# arrays - 在数值向量中找到相关性

> ID：14378997
> 
> 赞同：-1
> 
> 时间：2013-01-17T12:21:21.707
> 
> 标签：arrays, matlab

我的输入是一种简单的向量：

```
vector=[1 2 3 2 3 4 1 1 2]; 
```

（仅从 1-4 的数字），我想创建一个矩阵，其行都是可能的两个数字组合（在这种情况下为 16 行，例如：第 1 行是 11，第 2 行是 12 等），并且有与向量长度减去一 (8) 的列数相同。

矩阵中的每个单元格保存在具有特定相对距离的向量中找到特定组合的次数 - 这是列的数量。例如：

matrix(1,1)=1 （1 在 1 到另一个 1 的相对距离内找到一次） matrix(1,6)=1 （1 在 6 到另一个 1 的相对距离内找到一次）
matrix( 2,1)=2 （在 1 到另一个 2 的相对距离内两次找到 1）

有谁知道matlab是否有这样做的功能？（或接近那个？）（不是通过循环，使用'strfind'等，我知道这些）。

如果有人知道我可以使用的特定功能，请告诉我！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-17T15:24:29.720

如果您只对共现的数量感兴趣，即两个数字一起出现的次数，您可以使用 Matlab 函数“graycomatrix”，它给出灰度共现矩阵。

由于它旨在与矩阵一起使用，因此您应该将向量转换为矩阵，例如用零填充：

```
vector=zeros(9);
vector(1,:)=[1 2 3 2 3 4 1 1 2];
[glcm] = graycomatrix(vector,'NumLevels',5,'G',[]) 
```

你会得到以下结果：

```
glcm =

    64     0     0     0     0
     0     1     2     0     0
     0     0     0     2     0
     0     0     1     0     1
     0     1     0     0     0 
```

您可以忽略第一行和第一列，因为它们对应于值 0：

```
glcm(:,1)=[];
glcm(1,:)=[];
glcm

glcm =

     1     2     0     0
     0     0     2     0
     0     1     0     1
     1     0     0     0 
```

现在您有了每个组合的共现次数。例如，glcm(1,1) 给出两个 1 一起出现的次数，glcm(1,2)，1 和 2 一起出现的次数……

但是我还没有找到任何可以满足您要求的功能，即考虑到距离。所以我认为你必须通过循环来做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T14:01:35.493

Matlab 没有这样做的功能。循环当然似乎是完成它的最直接的方法。

# javascript - Javascript正则表达式单引号

> ID：14378998
> 
> 赞同：5
> 
> 时间：2013-01-17T12:21:22.383
> 
> 标签：javascript, regex

我的正则表达式是：

```
var re = /^[a-z A-Z._]{1,15}$/; 
```

我想允许这样做：（`'`单引号）。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-17T12:34:41.167

例如，您可以使用以下正则表达式来允许类似的字符串`abcd'dfgh`：

```
/^[A-Za-z\/\']+[A-Za-z]$/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-17T12:33:03.387

要允许单引号，请将其添加到字符类中，例如`^[a-z A-Z._']{1,15}$`

此正则表达式允许`'`匹配`'abc'_`等`a'b'c_`。

# jquery - 如何使用 JQuery 加载带有回调功能的图像

> ID：14378999
> 
> 赞同：0
> 
> 时间：2013-01-17T12:21:25.967
> 
> 标签：jquery

我使用此代码预加载图像。

```
var ImagePath='../images/pop.gif';
var _images = [ImagePath];
            $.each(_images, function (e) {
                $(new Image()).load(function () {
                }).attr('src', this);

            }); 
```

我想附加一个回调，它将在客户端计算机中完成图像加载时发出通知。请指导我。谢谢

## 更新

看看我下面的代码。我只需要知道我可以这样写来通知每个图像加载何时完成。

```
$.each(_images, function (e) {
     $(new Image()).load(function () {
     // image load completed
     }).attr('src', this);
}); 
```

请指导。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-17T14:00:50.733

如果我明白你的要求......

```
$(_images).on('load', function() {
    //images loaded
}); 
```